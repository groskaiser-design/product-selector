const a2_0x5c052b=a2_0x3e4a;(function(_0x5eae3e,_0x50845f){const _0x80f623=a2_0x3e4a,_0xdd1cff=_0x5eae3e();while(!![]){try{const _0x15a72a=parseInt(_0x80f623(0x217))/0x1+-parseInt(_0x80f623(0x2a5))/0x2+parseInt(_0x80f623(0x194))/0x3+parseInt(_0x80f623(0x1ee))/0x4+parseInt(_0x80f623(0x1df))/0x5+-parseInt(_0x80f623(0x1d4))/0x6+parseInt(_0x80f623(0x23d))/0x7*(-parseInt(_0x80f623(0x2f3))/0x8);if(_0x15a72a===_0x50845f)break;else _0xdd1cff['push'](_0xdd1cff['shift']());}catch(_0x2a8216){_0xdd1cff['push'](_0xdd1cff['shift']());}}}(a2_0x201f,0xa83a8),function initTMA(){const _0x10670c=a2_0x3e4a;try{const _0x44a877=window[_0x10670c(0x292)]?.[_0x10670c(0x2ca)];if(!_0x44a877)return;_0x44a877[_0x10670c(0x25b)](),_0x44a877[_0x10670c(0x2e8)]();try{_0x44a877[_0x10670c(0x26b)](_0x10670c(0x2a7)),_0x44a877[_0x10670c(0x1b8)]&&_0x44a877[_0x10670c(0x1b8)]('#050505');}catch(_0x10180a){console[_0x10670c(0x288)](_0x10670c(0x2b1),_0x10180a);}try{_0x44a877[_0x10670c(0x228)]&&(_0x44a877[_0x10670c(0x228)][_0x10670c(0x2b2)](),_0x44a877['BackButton']['offClick'](),_0x44a877[_0x10670c(0x228)][_0x10670c(0x246)](function(){const _0x167c6e=_0x10670c;window[_0x167c6e(0x271)][_0x167c6e(0x29c)]=_0x167c6e(0x1b4);}));}catch(_0x17eb39){console[_0x10670c(0x288)]('Error\x20setting\x20back\x20button:',_0x17eb39);}try{if(_0x44a877[_0x10670c(0x1a1)])_0x44a877[_0x10670c(0x1a1)]();}catch(_0x48da34){}}catch(_0x4056e9){console['error'](_0x10670c(0x209),_0x4056e9);}}());function isAdmin(){const _0x241bd7=a2_0x3e4a;try{const _0x2155aa=Number(window[_0x241bd7(0x292)]?.[_0x241bd7(0x2ca)]?.[_0x241bd7(0x1a0)]?.[_0x241bd7(0x250)]?.['id']);return _0x2155aa===0xbaf7174;}catch(_0x58d6de){return![];}}const APP_VERSION='v9.0-BATCH-CALENDAR',API_URL=a2_0x5c052b(0x2ee),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x5c052b(0x1fe),KEY_SESSIONS=a2_0x5c052b(0x1c4),KEY_SETTINGS=a2_0x5c052b(0x299);function a2_0x201f(){const _0x2bf465=['</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','1348439gyPOsh','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a',']\x20Failed:','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','backgroundColor','</div><div\x20class=\x22dch-num\x22>','single','\x20status-completed','<div\x20class=\x22ev-title\x22>','rangeEndTime','active','anStart','initData','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','inpRecurring','getMinutes','BackButton','off','querySelector','loadLocal','asBtnSeries','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toFixed','stringify','day-column\x20','height','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','batch_sync','touches','split','includes','display','save','pe-cell\x20','data-day-idx','day-col-header\x20','floor','1477cCLdcY','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','rgba(255,\x2069,\x2058,\x200.15)','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','seriesCountContainer','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','ranges','toUpperCase','numeric','onClick','time-label','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','month','getText','createDocumentFragment','onclick','client','none','timeColumn','user','\x20‚Äî\x20','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','calc(','(((.+)+)+)+$','setDate','charAt','name','div','Local\x20Load\x20Error','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','ready','innerHTML','data-date','Server\x20Error','<span>','sort','offsetWidth','catch','splice','forEach','cancel_window','anTotalStats','rgba(255,\x20159,\x2010,\x200.3)',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','anCustomDates','borderColor','setHeaderColor','clients','matrixViewport','pe-time-label','left','100%','location','fetchFromServer','then','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','clientId','open','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','POST','[Notify]\x20Client\x20SWAP\x20detected','\x20days','insertBefore','complete','min','analyticsList','T23:59:59','scrollWidth','week','now','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.sheet','series','data','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','log','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','undefined','zIndex','getTime','inpNote','btnDelete','Telegram','anDonutCircle','textContent','toString','findIndex','inpClient','getElementById','uc_settings_v9','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','warn','href','parse','getItem','deleted','getBoundingClientRect','search','getFullYear','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','</div>','1173276bjNRpD','completed','#050505','round','rangeStartDate','Save\x20settings\x20error:','update','rgba(255,255,255,0.05)','toast','text','headerMonth','\x20-\x20','Error\x20setting\x20color:','show','long','doWorkHours','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','–ò–Ω—Ñ–æ','setHours','padStart','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','inpDate','syncBatch','value','init_load','doLoadPercent','borderLeftColor','borderRadius','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','statLoadCard','</b>\x0a\x0a','planned','block','all','rgba(48,\x20209,\x2088,\x200.15)','inpStart','WebApp','option','actionSheet','indexOf','getAttribute','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','width','inpEnd','length','clientWidth','className',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','23:59','settingCancelWindow','inpSeriesCount','warning','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','var(--acc-red)','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','stopPropagation','custom','asTitle','[Notify]\x20Server\x20Response:','background','top','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','msg','btnStatusToggle','#fff','seriesId','expand','header-','.day-col-header','px\x20-','</span>\x20/\x20',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','calendar','.day-off-overlay','as-button\x20danger\x20bold','offsetLeft','25432iRUjHD','colIndex','getDay','%\x20+\x202px)','scrollTop','rangeStartTime','error','today','pe-corner','remove','[Notify]\x20Attempting\x20to\x20send:','flex','pe-col-header','push','stat-','backgroundPosition','entries','cancel','peGrid','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','constructor','rgba(','delete','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','var(--acc-current)','.pib-text','max','asBtnOne','firstChild','formatDate','btn-primary\x20btn-danger','1773924zajMqg','dayOptionsSheet','add','mergeServerData','vibrate','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','recurringOptionContainer','getHours','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','toLocaleDateString','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','setAttribute','initDataUnsafe','disableVerticalSwipes','btn-status-toggle','end','sheetTitle','patternInfoBox','actionSheetOverlay','#gridColumns\x20.day-column','exceptions','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','rangesSheet','getDate','\x20–∏–∑\x20','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','style','color','Batch\x20Sync\x20OK','dateStr','10px','router.html','#0a84ff','keys','settings','setBackgroundColor','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','patternEditor','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','[Sync]\x20Loading\x20','sessionSheet','scrollLeft','[Settings]\x20Cancel\x20window\x20set\x20to:','slice','analyticsSheet','start','globalTimeLine','uc_sessions_v9','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','px\x200px','target','ru-RU','total','overlay','sheetDateSubtitle','from','touchmove','create','appendChild','btn-primary\x20btn-secondary','[API\x20','as-button\x20danger','saveLocally','7808964eoizCF','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','sid','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','event-card','.period-switch\x20.p-btn','getMonth','isArray',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>',':00','3819165jHRLIG','daysHeaderTrack','rangeEndDate','de-item','note','status','valid','gridColumns','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','querySelectorAll','toLocaleString','DOMContentLoaded',':\x20Client\x20already\x20booked','</div><div\x20class=\x22ev-time\x22>','%\x20-\x204px)','2177540WMVwIs','toast-notification\x20','<div\x20class=\x22dch-day\x22>','.day-column','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','doEventsList','save_settings','clientY','cancelled','day-off-overlay\x20stripe-bg','addEventListener','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','done','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','T00:00:00','setItem','uc_clients_v9','find','uc_settings_cancel_window','toastTitle','...','send_notification','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','pattern','send','closest','map','Critical\x20TMA\x20Error:','00:00','guest','json','mini','checked','btn-status-toggle\x20undo-mode','mousemove','classList','–£—Å–ø–µ—à–Ω–æ','var(--acc-green)','filter','createElement'];a2_0x201f=function(){return _0x2bf465;};return a2_0x201f();}let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x43b571=a2_0x5c052b;return window['Telegram']?.[_0x43b571(0x2ca)]?.['initDataUnsafe']?.[_0x43b571(0x250)]?.['id']||_0x43b571(0x20b);},'saveLocally'(){const _0x54e2f4=a2_0x5c052b;try{localStorage['setItem'](KEY_CLIENTS,JSON[_0x54e2f4(0x22f)](clients)),localStorage[_0x54e2f4(0x1fd)](KEY_SESSIONS,JSON[_0x54e2f4(0x22f)](sessions)),localStorage[_0x54e2f4(0x1fd)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x826bea){console['error']('Local\x20Save\x20Error',_0x826bea);}},'loadLocal'(){const _0x171959=a2_0x5c052b;try{const _0x1c2f9d=localStorage[_0x171959(0x29e)](KEY_CLIENTS);if(_0x1c2f9d)clients=JSON[_0x171959(0x29d)](_0x1c2f9d);const _0x2bc7d1=localStorage[_0x171959(0x29e)](KEY_SESSIONS);if(_0x2bc7d1)sessions=JSON[_0x171959(0x29d)](_0x2bc7d1);const _0x7314d8=localStorage[_0x171959(0x29e)](KEY_SETTINGS);if(_0x7314d8){const _0x170295=JSON[_0x171959(0x29d)](_0x7314d8);if(_0x170295[_0x171959(0x205)])availabilityPattern=_0x170295[_0x171959(0x205)];if(_0x170295[_0x171959(0x1a8)])dateExceptions=_0x170295['exceptions'];if(_0x170295['ranges'])specialRanges=_0x170295[_0x171959(0x243)];}else{for(let _0x36792c=0x0;_0x36792c<0x7;_0x36792c++)availabilityPattern[_0x36792c]=Array[_0x171959(0x1cc)]({'length':0xc},(_0x3c8952,_0x5826ea)=>_0x5826ea+0x9);}}catch(_0x23d2af){console[_0x171959(0x2f9)](_0x171959(0x259),_0x23d2af);}},async 'fetchFromServer'(_0x31aa67,_0x122771={}){const _0x55f0bc=a2_0x5c052b,_0x1f01ef=window[_0x55f0bc(0x292)]?.[_0x55f0bc(0x2ca)],_0x4044e2={'action':_0x31aa67,'init_data':_0x1f01ef?.[_0x55f0bc(0x224)]||'',..._0x122771};try{const _0x33cdfa=await fetch(API_URL,{'method':_0x55f0bc(0x278),'headers':{'Content-Type':'text/plain;charset=UTF-8'},'body':JSON[_0x55f0bc(0x22f)](_0x4044e2)}),_0x24a74b=await _0x33cdfa[_0x55f0bc(0x20c)]();if(!_0x24a74b['ok'])throw new Error(_0x24a74b[_0x55f0bc(0x2f9)]||_0x55f0bc(0x25e));return _0x24a74b[_0x55f0bc(0x286)];}catch(_0x412416){console[_0x55f0bc(0x2f9)](_0x55f0bc(0x1d1)+_0x31aa67+_0x55f0bc(0x219),_0x412416);throw _0x412416;}},async 'syncLoad'(){const _0x594369=a2_0x5c052b,_0x43a353=new Date(),_0x4fd4f2=_0x43a353[_0x594369(0x2a2)]()+'-'+String(_0x43a353['getMonth']()+0x1)[_0x594369(0x2b8)](0x2,'0'),_0x5d234e=new Date(_0x43a353);_0x5d234e['setMonth'](_0x43a353[_0x594369(0x1da)]()+0x1);const _0x13c202=_0x5d234e[_0x594369(0x2a2)]()+'-'+String(_0x5d234e['getMonth']()+0x1)['padStart'](0x2,'0'),_0x2f11d7=Date[_0x594369(0x282)]();console[_0x594369(0x288)](_0x594369(0x1bc)+_0x4fd4f2+',\x20'+_0x13c202+_0x594369(0x202));try{const [_0x100fda,_0x11651e]=await Promise[_0x594369(0x2c7)]([this[_0x594369(0x272)](_0x594369(0x2bd),{'month_str':_0x4fd4f2}),this[_0x594369(0x272)]('init_load',{'month_str':_0x13c202})]);if(lastUserActionTime>_0x2f11d7)return console[_0x594369(0x29b)]('[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response'),![];return this[_0x594369(0x197)](_0x100fda,_0x4fd4f2),this[_0x594369(0x197)](_0x11651e,_0x13c202),this[_0x594369(0x1d3)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x4a2d91){console['error'](_0x4a2d91);throw _0x4a2d91;}},'mergeServerData'(_0x1b7bd5,_0x1c6f8f){const _0x49a3f4=a2_0x5c052b;if(!_0x1b7bd5)return;_0x1b7bd5[_0x49a3f4(0x26c)]&&Array[_0x49a3f4(0x1db)](_0x1b7bd5[_0x49a3f4(0x26c)])&&(clients=_0x1b7bd5['clients']);if(_0x1b7bd5[_0x49a3f4(0x1b7)]){if(_0x1b7bd5[_0x49a3f4(0x1b7)][_0x49a3f4(0x205)])availabilityPattern=_0x1b7bd5['settings'][_0x49a3f4(0x205)];if(_0x1b7bd5['settings'][_0x49a3f4(0x1a8)])dateExceptions=_0x1b7bd5[_0x49a3f4(0x1b7)][_0x49a3f4(0x1a8)];if(_0x1b7bd5[_0x49a3f4(0x1b7)]['ranges'])specialRanges=_0x1b7bd5[_0x49a3f4(0x1b7)]['ranges'];if(_0x1b7bd5['settings'][_0x49a3f4(0x265)]){localStorage[_0x49a3f4(0x1fd)](_0x49a3f4(0x200),_0x1b7bd5[_0x49a3f4(0x1b7)]['cancel_window']);const _0x84861a=document[_0x49a3f4(0x298)]('settingCancelWindow');if(_0x84861a)_0x84861a[_0x49a3f4(0x2bc)]=_0x1b7bd5[_0x49a3f4(0x1b7)][_0x49a3f4(0x265)];}}_0x1b7bd5[_0x49a3f4(0x2ef)]&&(sessions=sessions[_0x49a3f4(0x214)](_0x5d7f5b=>!_0x5d7f5b['dateStr']['startsWith'](_0x1c6f8f)),Object[_0x49a3f4(0x1b6)](_0x1b7bd5['calendar'])['forEach'](_0x4695a6=>{const _0x488453=_0x49a3f4,_0x4ef35e=_0x1b7bd5[_0x488453(0x2ef)][_0x4695a6];_0x4ef35e[_0x488453(0x264)](_0x587fa3=>{const _0x2295ca=_0x488453,_0x5d73a7=clients[_0x2295ca(0x1ff)](_0x1f9ecf=>String(_0x1f9ecf['id'])===String(_0x587fa3['c']));sessions[_0x2295ca(0x300)]({'id':_0x587fa3['i'],'clientId':_0x587fa3['c'],'client':_0x5d73a7?_0x5d73a7['name']:'Unknown','dateStr':_0x1c6f8f+'-'+_0x4695a6['padStart'](0x2,'0'),'start':_0x587fa3['s'],'end':_0x587fa3['e'],'status':_0x587fa3['st']||'planned','note':_0x587fa3['n']||'','seriesId':_0x587fa3[_0x2295ca(0x1d6)]||null});});}));},async 'syncBatch'(_0x3e5881){const _0x3e10d1=a2_0x5c052b,_0x1175a9=[...new Set(_0x3e5881)],_0x1fd1da=_0x1175a9[_0x3e10d1(0x208)](_0x38538f=>{const _0x187449=_0x3e10d1,_0x12916c=sessions[_0x187449(0x214)](_0x34c201=>_0x34c201[_0x187449(0x1b2)]===_0x38538f&&_0x34c201['status']!==_0x187449(0x29f)),_0x14dc5a=_0x12916c['map'](_0x34350d=>({'i':_0x34350d['id'],'c':_0x34350d['clientId'],'s':_0x34350d[_0x187449(0x1c2)],'e':_0x34350d['end'],'st':_0x34350d[_0x187449(0x1e4)],'n':_0x34350d['note'],'sid':_0x34350d[_0x187449(0x2e7)]}));return{'date':_0x38538f,'day_data':_0x14dc5a};});if(_0x1fd1da[_0x3e10d1(0x2d2)]===0x0)return;console[_0x3e10d1(0x288)](_0x3e10d1(0x204)+_0x1fd1da[_0x3e10d1(0x2d2)]+_0x3e10d1(0x27a)),await this[_0x3e10d1(0x272)](_0x3e10d1(0x233),{'changes':_0x1fd1da});}};async function init(){const _0x298a56=a2_0x5c052b;DataManager[_0x298a56(0x22b)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x298a56(0x298)](_0x298a56(0x26d))[_0x298a56(0x1f8)]('scroll',()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']()['then'](()=>{const _0x3401ea=_0x298a56;showToast(_0x3401ea(0x28c),!![]);})['catch'](_0x28aa73=>{const _0xef5dc7=_0x298a56;showToast(_0xef5dc7(0x1ad),![]);});}function generateId(){const _0x50422c=a2_0x5c052b;return Date[_0x50422c(0x282)]()[_0x50422c(0x295)](0x24)+Math['random']()[_0x50422c(0x295)](0x24)['substr'](0x2,0x5);}function toggleSeriesInput(){const _0x36e287=a2_0x5c052b,_0x5f1261=document['getElementById']('inpRecurring')[_0x36e287(0x20e)],_0x3b7403=document[_0x36e287(0x298)](_0x36e287(0x241));_0x3b7403['style'][_0x36e287(0x237)]=_0x5f1261?_0x36e287(0x2c6):_0x36e287(0x24e);const _0x2d1d3a=document[_0x36e287(0x298)](_0x36e287(0x19a));_0x2d1d3a[_0x36e287(0x1af)][_0x36e287(0x2c0)]=_0x5f1261?'10px\x2010px\x200\x200':_0x36e287(0x1b3);}function openAddSession(_0x376622){const _0x22fc34=a2_0x5c052b;editingId=null,populateClientSelect(),document[_0x22fc34(0x298)](_0x22fc34(0x1a4))[_0x22fc34(0x294)]=_0x22fc34(0x25a),document[_0x22fc34(0x298)](_0x22fc34(0x291))[_0x22fc34(0x1af)][_0x22fc34(0x237)]=_0x22fc34(0x24e),document[_0x22fc34(0x298)](_0x22fc34(0x2e5))[_0x22fc34(0x1af)][_0x22fc34(0x237)]=_0x22fc34(0x24e);const _0x8a789e=document[_0x22fc34(0x298)](_0x22fc34(0x19a)),_0x246864=document['getElementById'](_0x22fc34(0x241));_0x8a789e['style'][_0x22fc34(0x237)]=_0x22fc34(0x2fe),_0x8a789e[_0x22fc34(0x1af)]['borderRadius']=_0x22fc34(0x1b3),document['getElementById']('inpRecurring')['checked']=![],document[_0x22fc34(0x298)](_0x22fc34(0x2d8))[_0x22fc34(0x2bc)]=0x4,_0x246864['style']['display']='none',document[_0x22fc34(0x298)](_0x22fc34(0x2ba))['value']=getLocalDateStr(_0x376622),updateDateDisplay();const _0x1a6f3f=_0x376622[_0x22fc34(0x19b)]();document['getElementById'](_0x22fc34(0x2c9))['value']=String(_0x1a6f3f)[_0x22fc34(0x2b8)](0x2,'0')+_0x22fc34(0x1de),document[_0x22fc34(0x298)]('inpEnd')[_0x22fc34(0x2bc)]=String(_0x1a6f3f+0x1)[_0x22fc34(0x2b8)](0x2,'0')+_0x22fc34(0x1de),openSheet(_0x22fc34(0x1bd));}function openEdit(_0x298aac){const _0x2593b3=a2_0x5c052b;editingId=_0x298aac['id'],populateClientSelect(),document[_0x2593b3(0x298)](_0x2593b3(0x1a4))[_0x2593b3(0x294)]='–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å',document[_0x2593b3(0x298)](_0x2593b3(0x291))['style']['display']='block';const _0x15845a=document['getElementById'](_0x2593b3(0x2e5));_0x15845a[_0x2593b3(0x1af)]['display']=_0x2593b3(0x2fe);_0x298aac[_0x2593b3(0x1e4)]===_0x2593b3(0x2a6)?(_0x15845a[_0x2593b3(0x2d4)]=_0x2593b3(0x20f),_0x15845a[_0x2593b3(0x25c)]='–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ'):(_0x15845a[_0x2593b3(0x2d4)]=_0x2593b3(0x1a2),_0x15845a[_0x2593b3(0x25c)]=_0x2593b3(0x2e3));const _0x3c49af=!!_0x298aac[_0x2593b3(0x2e7)];document[_0x2593b3(0x298)](_0x2593b3(0x19a))['style'][_0x2593b3(0x237)]=_0x2593b3(0x24e),document['getElementById'](_0x2593b3(0x241))[_0x2593b3(0x1af)][_0x2593b3(0x237)]=_0x2593b3(0x24e),_0x3c49af?(document[_0x2593b3(0x298)](_0x2593b3(0x1a5))[_0x2593b3(0x1af)][_0x2593b3(0x237)]=_0x2593b3(0x2fe),document['getElementById'](_0x2593b3(0x1a5))[_0x2593b3(0x22a)](_0x2593b3(0x18e))['textContent']=_0x2593b3(0x188)):document['getElementById'](_0x2593b3(0x1a5))[_0x2593b3(0x1af)][_0x2593b3(0x237)]=_0x2593b3(0x24e),document['getElementById'](_0x2593b3(0x297))[_0x2593b3(0x2bc)]=_0x298aac[_0x2593b3(0x24d)],document[_0x2593b3(0x298)](_0x2593b3(0x2ba))[_0x2593b3(0x2bc)]=_0x298aac[_0x2593b3(0x1b2)],document[_0x2593b3(0x298)](_0x2593b3(0x2c9))[_0x2593b3(0x2bc)]=_0x298aac[_0x2593b3(0x1c2)],document[_0x2593b3(0x298)](_0x2593b3(0x2d1))['value']=_0x298aac['end'],document[_0x2593b3(0x298)]('inpNote')[_0x2593b3(0x2bc)]=_0x298aac[_0x2593b3(0x1e3)]||'',updateDateDisplay(),openSheet(_0x2593b3(0x1bd));}async function trySaveSession(){const _0x2aba15=a2_0x5c052b,_0x4569ab=document[_0x2aba15(0x298)](_0x2aba15(0x297))['value'],_0x26912d=document[_0x2aba15(0x298)](_0x2aba15(0x2ba))[_0x2aba15(0x2bc)],_0x571a40=document['getElementById']('inpStart')['value'],_0x2d8d10=document[_0x2aba15(0x298)](_0x2aba15(0x2d1))['value'],_0x552162=document[_0x2aba15(0x298)](_0x2aba15(0x290))['value'],_0x5a6f44=document['getElementById'](_0x2aba15(0x226))[_0x2aba15(0x20e)];let _0x5af9bf=0x4;if(_0x5a6f44){const _0x32d774=parseInt(document[_0x2aba15(0x298)]('inpSeriesCount')[_0x2aba15(0x2bc)]);if(!_0x32d774||_0x32d774<0x2){showToast(_0x2aba15(0x29a),![]);return;}if(_0x32d774>0x64){showToast(_0x2aba15(0x242),![]);return;}_0x5af9bf=_0x32d774;}const _0x4fb754=clients[_0x2aba15(0x1ff)](_0x32e860=>_0x32e860[_0x2aba15(0x257)]===_0x4569ab);if(!_0x4fb754){showToast(_0x2aba15(0x21b),![]);return;}const _0x1d3b84=validateAppointment(_0x26912d,_0x571a40,_0x2d8d10,editingId,_0x4fb754['id']);if(!_0x1d3b84[_0x2aba15(0x1e5)]){showToast(_0x1d3b84[_0x2aba15(0x2e4)],![]);return;}_0x1d3b84[_0x2aba15(0x2d9)]&&showToast(_0x1d3b84[_0x2aba15(0x2d9)],![]);const _0xa61374={'client':_0x4569ab,'clientId':_0x4fb754['id'],'start':_0x571a40,'end':_0x2d8d10,'note':_0x552162,'status':_0x2aba15(0x2c5)},_0x5d32f9=editingId?sessions[_0x2aba15(0x1ff)](_0x182a94=>_0x182a94['id']===editingId):null;if(_0x5d32f9&&_0x5d32f9[_0x2aba15(0x2e7)]){tempSessionData={..._0xa61374,'dateStr':_0x26912d,'id':editingId,'seriesId':_0x5d32f9['seriesId']},openActionSheet(_0x2aba15(0x238));return;}let _0x4686a7=null;if(!editingId)_0x4686a7='create';else{if(_0x5d32f9){if(String(_0x5d32f9['clientId'])!==String(_0x4fb754['id']))console[_0x2aba15(0x288)](_0x2aba15(0x279)),NotificationManager['send']('cancel',_0x5d32f9),_0x4686a7=_0x2aba15(0x1ce);else(_0x5d32f9['start']!==_0x571a40||_0x5d32f9[_0x2aba15(0x1a3)]!==_0x2d8d10||_0x5d32f9[_0x2aba15(0x1b2)]!==_0x26912d)&&(_0x4686a7=_0x2aba15(0x2ab));}}if(!editingId&&_0x5a6f44){createBatchSeries(_0xa61374,_0x26912d,_0x5af9bf),NotificationManager[_0x2aba15(0x206)](_0x2aba15(0x1ce),{..._0xa61374,'dateStr':_0x26912d});return;}lastUserActionTime=Date[_0x2aba15(0x282)]();const _0x2d38f3={..._0xa61374,'dateStr':_0x26912d,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x2d38f3),_0x4686a7&&NotificationManager[_0x2aba15(0x206)](_0x4686a7,_0x2d38f3);}function toggleSessionStatus(){const _0x692048=a2_0x5c052b;lastUserActionTime=Date[_0x692048(0x282)]();const _0x3040b7=sessions[_0x692048(0x1ff)](_0x2a2230=>_0x2a2230['id']===editingId);if(!_0x3040b7)return;const _0x5e8a62=_0x3040b7[_0x692048(0x1e4)]===_0x692048(0x2a6)?'planned':_0x692048(0x2a6);_0x3040b7[_0x692048(0x1e4)]=_0x5e8a62,saveSingleSession(_0x3040b7),_0x5e8a62===_0x692048(0x2a6)&&NotificationManager[_0x692048(0x206)](_0x692048(0x27c),_0x3040b7),showToast(_0x5e8a62===_0x692048(0x2a6)?'–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞':_0x692048(0x225),!![]);}function validateAppointment(_0x4fa740,_0x54c3df,_0x719dbe,_0x113a51,_0x56a759){const _0x11de0c=a2_0x5c052b,[_0x144534,_0x41674c]=_0x54c3df[_0x11de0c(0x235)](':')[_0x11de0c(0x208)](Number),[_0x270c58,_0x82ed11]=_0x719dbe['split'](':')['map'](Number),_0x54494a=_0x144534*0x3c+_0x41674c,_0x2dca86=_0x270c58*0x3c+_0x82ed11,_0x4ff5b1=String(_0x56a759);let _0x4869cc=![],_0x4f26c8='';for(let _0x3d4cce of sessions){if(_0x3d4cce[_0x11de0c(0x1b2)]!==_0x4fa740)continue;if(_0x3d4cce[_0x11de0c(0x1e4)]==='cancelled')continue;if(_0x113a51&&String(_0x3d4cce['id'])===String(_0x113a51))continue;const [_0x48ee9d,_0x5552f4]=_0x3d4cce[_0x11de0c(0x1c2)][_0x11de0c(0x235)](':')[_0x11de0c(0x208)](Number),[_0x53d95f,_0x57f699]=_0x3d4cce[_0x11de0c(0x1a3)][_0x11de0c(0x235)](':')[_0x11de0c(0x208)](Number),_0x1fbf27=_0x48ee9d*0x3c+_0x5552f4,_0x43b215=_0x53d95f*0x3c+_0x57f699;if(Math[_0x11de0c(0x18f)](_0x54494a,_0x1fbf27)<Math[_0x11de0c(0x27d)](_0x2dca86,_0x43b215)){if(_0x3d4cce[_0x11de0c(0x275)]&&String(_0x3d4cce[_0x11de0c(0x275)])===_0x4ff5b1)return{'valid':![],'msg':_0x11de0c(0x287)+_0x3d4cce[_0x11de0c(0x24d)]+_0x11de0c(0x2ed)};_0x4869cc=!![],_0x4f26c8=_0x3d4cce[_0x11de0c(0x24d)];}}if(_0x4869cc)return{'valid':!![],'warning':_0x11de0c(0x1d7)+_0x4f26c8};return{'valid':!![]};}function saveSingleSession(_0x1b6185){const _0x40f13f=a2_0x5c052b;if(editingId){const _0xaab464=sessions[_0x40f13f(0x296)](_0x57be4d=>_0x57be4d['id']===editingId);if(_0xaab464!==-0x1)sessions[_0xaab464]=_0x1b6185;}else sessions['push'](_0x1b6185);afterSaveAction([_0x1b6185[_0x40f13f(0x1b2)]]);}function createBatchSeries(_0x59112d,_0x383210,_0x218043){const _0x4e8b35=a2_0x5c052b,_0xe23cc3=generateId(),_0x315c18=[],_0x204f54=[];let _0x399083=0x0,_0x164bb0=new Date(_0x383210);for(let _0x569d87=0x0;_0x569d87<_0x218043;_0x569d87++){const _0x537a97=getLocalDateStr(_0x164bb0),_0x58adae=validateAppointment(_0x537a97,_0x59112d['start'],_0x59112d[_0x4e8b35(0x1a3)],null,_0x59112d[_0x4e8b35(0x275)]);if(!_0x58adae[_0x4e8b35(0x1e5)])console[_0x4e8b35(0x288)]('[Series]\x20Skipped\x20'+_0x537a97+_0x4e8b35(0x1eb)),_0x399083++;else{const _0x5e961a={..._0x59112d,'id':generateId(),'dateStr':_0x537a97,'seriesId':_0xe23cc3};_0x204f54[_0x4e8b35(0x300)](_0x5e961a),_0x315c18[_0x4e8b35(0x300)](_0x537a97);}_0x164bb0[_0x4e8b35(0x255)](_0x164bb0['getDate']()+0x7);}if(_0x204f54[_0x4e8b35(0x2d2)]===0x0){showToast(_0x4e8b35(0x19c),![]);return;}sessions[_0x4e8b35(0x300)](..._0x204f54),lastUserActionTime=Date[_0x4e8b35(0x282)]();let _0x4272b6=_0x4e8b35(0x1fb)+_0x204f54[_0x4e8b35(0x2d2)];_0x399083>0x0&&(_0x4272b6+='\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20'+_0x399083+')'),showToast(_0x4272b6,!![]),afterSaveAction(_0x315c18);}function updateSeriesBatch(_0x3e55e7,_0x3f7e24){const _0x396ec0=a2_0x5c052b,_0x20e0d6=[],_0x521f79=_0x3f7e24['seriesId'];if(_0x3e55e7===_0x396ec0(0x21e)){const _0x15f6b5={..._0x3f7e24,'seriesId':null},_0x50523b=sessions['findIndex'](_0x18e6dc=>_0x18e6dc['id']===_0x3f7e24['id']);if(_0x50523b!==-0x1)sessions[_0x50523b]=_0x15f6b5;_0x20e0d6[_0x396ec0(0x300)](_0x15f6b5[_0x396ec0(0x1b2)]);}else{if(_0x3e55e7===_0x396ec0(0x285)){const _0x4bea3f=_0x3f7e24[_0x396ec0(0x1b2)];sessions[_0x396ec0(0x264)]((_0x2f50a2,_0x2b0a15)=>{const _0x29d65d=_0x396ec0;_0x2f50a2[_0x29d65d(0x2e7)]===_0x521f79&&_0x2f50a2['dateStr']>=_0x4bea3f&&(sessions[_0x2b0a15]={...sessions[_0x2b0a15],'start':_0x3f7e24[_0x29d65d(0x1c2)],'end':_0x3f7e24[_0x29d65d(0x1a3)],'note':_0x3f7e24[_0x29d65d(0x1e3)],'client':_0x3f7e24[_0x29d65d(0x24d)],'clientId':_0x3f7e24['clientId']},_0x20e0d6[_0x29d65d(0x300)](_0x2f50a2[_0x29d65d(0x1b2)]));});}}afterSaveAction(_0x20e0d6);}function tryDeleteSession(){const _0x162e47=a2_0x5c052b,_0x1752e5=sessions[_0x162e47(0x1ff)](_0x3b7998=>_0x3b7998['id']===editingId);if(!_0x1752e5)return;_0x1752e5[_0x162e47(0x2e7)]?openActionSheet('delete'):commitDelete(_0x162e47(0x21e),_0x1752e5);}function commitDelete(_0x396cf0,_0x34c051){const _0x5aa108=a2_0x5c052b;lastUserActionTime=Date[_0x5aa108(0x282)](),NotificationManager['send']('cancel',_0x34c051);const _0x13669b=[];if(_0x396cf0==='single')sessions=sessions[_0x5aa108(0x214)](_0x37bdb3=>_0x37bdb3['id']!==_0x34c051['id']),_0x13669b['push'](_0x34c051[_0x5aa108(0x1b2)]);else{if(_0x396cf0===_0x5aa108(0x285)){const _0x555e6e=_0x34c051[_0x5aa108(0x1b2)],_0x2188ce=_0x34c051[_0x5aa108(0x2e7)];sessions[_0x5aa108(0x264)](_0x569b95=>{const _0x3f861a=_0x5aa108;_0x569b95['seriesId']===_0x2188ce&&_0x569b95[_0x3f861a(0x1b2)]>=_0x555e6e&&_0x13669b['push'](_0x569b95[_0x3f861a(0x1b2)]);}),sessions=sessions[_0x5aa108(0x214)](_0xff46ef=>!(_0xff46ef[_0x5aa108(0x2e7)]===_0x2188ce&&_0xff46ef[_0x5aa108(0x1b2)]>=_0x555e6e));}}afterSaveAction(_0x13669b);}function afterSaveAction(_0x272487){const _0x5ec2c7=a2_0x5c052b;DataManager[_0x5ec2c7(0x1d3)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x5ec2c7(0x2bb)](_0x272487)['then'](()=>console['log'](_0x5ec2c7(0x1b1)))[_0x5ec2c7(0x262)](_0x173a3c=>showToast(_0x5ec2c7(0x274),![]));}const NotificationManager={'formatDate'(_0x557440){const _0x92b2a8=a2_0x5c052b,_0xc440da=new Date(_0x557440),_0x3f2f3f={'weekday':_0x92b2a8(0x2b3),'day':_0x92b2a8(0x245),'month':_0x92b2a8(0x2b3)};let _0x59d64e=_0xc440da[_0x92b2a8(0x19d)](_0x92b2a8(0x1c8),_0x3f2f3f);return _0x59d64e[_0x92b2a8(0x256)](0x0)[_0x92b2a8(0x244)]()+_0x59d64e[_0x92b2a8(0x1c0)](0x1);},'getText'(_0x94b8a1,_0x88acd){const _0x3442b8=a2_0x5c052b,_0x20897b=this[_0x3442b8(0x192)](_0x88acd['dateStr']);switch(_0x94b8a1){case _0x3442b8(0x1ce):return _0x3442b8(0x187)+(_0x3442b8(0x2da)+_0x20897b+'\x0a')+(_0x3442b8(0x289)+_0x88acd[_0x3442b8(0x1c2)]+_0x3442b8(0x251)+_0x88acd[_0x3442b8(0x1a3)]+'\x0a\x0a')+_0x3442b8(0x2a3);case _0x3442b8(0x2ab):return _0x3442b8(0x2b9)+_0x3442b8(0x21a)+('<b>‚úÖ\x20'+_0x88acd[_0x3442b8(0x1c2)]+_0x3442b8(0x251)+_0x88acd['end']+_0x3442b8(0x2c4))+(_0x3442b8(0x2da)+_0x20897b);case _0x3442b8(0x185):return _0x3442b8(0x1bb)+('–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>'+_0x20897b+'\x20('+_0x88acd[_0x3442b8(0x1c2)]+_0x3442b8(0x2d5));case _0x3442b8(0x27c):return _0x3442b8(0x218)+'–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a'+'<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>';default:return'';}},async 'send'(_0x2ba2a1,_0x1673ec){const _0x3ef328=a2_0x5c052b;console[_0x3ef328(0x288)](_0x3ef328(0x2fd),_0x2ba2a1,_0x1673ec);if(!_0x1673ec){console[_0x3ef328(0x2f9)]('[Notify]\x20Error:\x20sessionData\x20is\x20null');return;}const _0x2c7a45=String(_0x1673ec[_0x3ef328(0x275)]);console['log']('[Notify]\x20Detected\x20Client\x20ID:',_0x2c7a45);if(!_0x1673ec[_0x3ef328(0x275)]||_0x2c7a45===_0x3ef328(0x28d)||_0x2c7a45==='null'){console[_0x3ef328(0x2f9)](_0x3ef328(0x277));if(_0x1673ec[_0x3ef328(0x24d)]){const _0x3c93f9=clients[_0x3ef328(0x1ff)](_0x14b61a=>_0x14b61a[_0x3ef328(0x257)]===_0x1673ec[_0x3ef328(0x24d)]);if(_0x3c93f9)return console[_0x3ef328(0x288)]('[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:',_0x3c93f9['id']),this['send'](_0x2ba2a1,{..._0x1673ec,'clientId':_0x3c93f9['id']});}return;}if(_0x2c7a45[_0x3ef328(0x2d2)]<0x5){console[_0x3ef328(0x29b)]('[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)',_0x2c7a45);return;}const _0x5d7855=this[_0x3ef328(0x24a)](_0x2ba2a1,_0x1673ec);if(!_0x5d7855){console['error']('[Notify]\x20Error:\x20Text\x20generation\x20failed');return;}console[_0x3ef328(0x288)](_0x3ef328(0x2dc)+_0x2c7a45+'...'),DataManager[_0x3ef328(0x272)](_0x3ef328(0x203),{'chatId':_0x2c7a45,'text':_0x5d7855})[_0x3ef328(0x273)](_0x2b287b=>console[_0x3ef328(0x288)](_0x3ef328(0x2e0),_0x2b287b))[_0x3ef328(0x262)](_0x5d654b=>console[_0x3ef328(0x2f9)]('[Notify]\x20Network\x20Failed',_0x5d654b));}};function getLocalDateStr(_0x4b250a){const _0x12e69b=a2_0x5c052b,_0x48a6dd=_0x4b250a['getFullYear'](),_0x5e63d4=String(_0x4b250a[_0x12e69b(0x1da)]()+0x1)['padStart'](0x2,'0'),_0x52c171=String(_0x4b250a[_0x12e69b(0x1ab)]())[_0x12e69b(0x2b8)](0x2,'0');return _0x48a6dd+'-'+_0x5e63d4+'-'+_0x52c171;}function getDateStr(_0x1a531e){const _0x390d95=a2_0x5c052b,_0x4ccc67=new Date();return _0x4ccc67[_0x390d95(0x255)](_0x4ccc67['getDate']()+_0x1a531e),getLocalDateStr(_0x4ccc67);}function getStartOfWeek(_0x4f7dcb){const _0x340f8f=a2_0x5c052b,_0x23995c=(function(){let _0x3dc8a2=!![];return function(_0x138d98,_0x831bd9){const _0x75dcc2=_0x3dc8a2?function(){if(_0x831bd9){const _0x4a250f=_0x831bd9['apply'](_0x138d98,arguments);return _0x831bd9=null,_0x4a250f;}}:function(){};return _0x3dc8a2=![],_0x75dcc2;};}()),_0x55c4a8=_0x23995c(this,function(){const _0x118cd4=a2_0x3e4a;return _0x55c4a8['toString']()['search'](_0x118cd4(0x254))[_0x118cd4(0x295)]()[_0x118cd4(0x189)](_0x55c4a8)[_0x118cd4(0x2a1)]('(((.+)+)+)+$');});_0x55c4a8();const _0x4b6e5f=new Date(_0x4f7dcb),_0x4b1320=_0x4b6e5f[_0x340f8f(0x2f5)](),_0x16322b=_0x4b6e5f[_0x340f8f(0x1ab)]()-_0x4b1320+(_0x4b1320===0x0?-0x6:0x1);return _0x4b6e5f[_0x340f8f(0x255)](_0x16322b),_0x4b6e5f[_0x340f8f(0x2b7)](0x0,0x0,0x0,0x0),_0x4b6e5f;}function hexToRgba(_0xe896f9,_0x44e1db){const _0x98a680=a2_0x5c052b;if(!_0xe896f9)return'rgba(100,100,100,0.5)';let _0x5eed5f=0x0,_0x25b567=0x0,_0x3491c9=0x0;if(_0xe896f9[_0x98a680(0x2d2)]===0x4)_0x5eed5f='0x'+_0xe896f9[0x1]+_0xe896f9[0x1],_0x25b567='0x'+_0xe896f9[0x2]+_0xe896f9[0x2],_0x3491c9='0x'+_0xe896f9[0x3]+_0xe896f9[0x3];else _0xe896f9[_0x98a680(0x2d2)]===0x7&&(_0x5eed5f='0x'+_0xe896f9[0x1]+_0xe896f9[0x2],_0x25b567='0x'+_0xe896f9[0x3]+_0xe896f9[0x4],_0x3491c9='0x'+_0xe896f9[0x5]+_0xe896f9[0x6]);return _0x98a680(0x18a)+ +_0x5eed5f+',\x20'+ +_0x25b567+',\x20'+ +_0x3491c9+',\x20'+_0x44e1db+')';}function renderTimeColumn(){const _0x207425=a2_0x5c052b,_0x562d52=document['getElementById'](_0x207425(0x24f)),_0x7d72dc=document[_0x207425(0x298)]('timeLineBadge');_0x562d52['innerHTML']='',_0x562d52['appendChild'](_0x7d72dc);for(let _0x1fa865=0x0;_0x1fa865<0x18;_0x1fa865++){const _0x246550=document['createElement'](_0x207425(0x258));_0x246550[_0x207425(0x2d4)]=_0x207425(0x247);if(_0x1fa865>0x0)_0x246550['innerHTML']=_0x207425(0x25f)+String(_0x1fa865)[_0x207425(0x2b8)](0x2,'0')+':00</span>';_0x562d52[_0x207425(0x1cf)](_0x246550);}}function renderDayRange(_0x5a3890,_0x37ea01){const _0x4ff904=a2_0x5c052b,_0x4c2913=document[_0x4ff904(0x298)](_0x4ff904(0x1e0)),_0x7f0edc=document['getElementById'](_0x4ff904(0x1e6)),_0x337d87=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x2572bf=new Date();_0x2572bf[_0x4ff904(0x2b7)](0x0,0x0,0x0,0x0);const _0x122a08=getLocalDateStr(new Date());for(let _0x8e25cf=_0x5a3890;_0x8e25cf<=_0x37ea01;_0x8e25cf++){const _0x8323d0=new Date(_0x2572bf);_0x8323d0[_0x4ff904(0x255)](_0x8323d0[_0x4ff904(0x1ab)]()+_0x8e25cf);const _0xa10ba9=getLocalDateStr(_0x8323d0);let _0x1a2428=_0x8323d0['getDay']()-0x1;if(_0x1a2428===-0x1)_0x1a2428=0x6;const _0x269d57=_0xa10ba9===_0x122a08,_0x24239a=document['createElement'](_0x4ff904(0x258));_0x24239a['className']=_0x4ff904(0x23b)+(_0x269d57?_0x4ff904(0x2fa):''),_0x24239a['id']=_0x4ff904(0x2e9)+_0xa10ba9,_0x24239a[_0x4ff904(0x19f)](_0x4ff904(0x25d),_0xa10ba9),_0x24239a[_0x4ff904(0x25c)]=_0x4ff904(0x1f0)+_0x337d87[_0x1a2428]+_0x4ff904(0x21d)+_0x8323d0[_0x4ff904(0x1ab)]()+_0x4ff904(0x216)+_0xa10ba9+_0x4ff904(0x28b),_0x24239a[_0x4ff904(0x24c)]=()=>openDayOptions(_0xa10ba9,_0x337d87[_0x1a2428]+'\x20'+_0x8323d0[_0x4ff904(0x1ab)]()),_0x4c2913[_0x4ff904(0x1cf)](_0x24239a);const _0x59af36=document['createElement'](_0x4ff904(0x258));_0x59af36['className']=_0x4ff904(0x230)+(_0x269d57?_0x4ff904(0x2fa):''),_0x59af36[_0x4ff904(0x19f)](_0x4ff904(0x25d),_0xa10ba9),_0x59af36[_0x4ff904(0x19f)]('data-day-idx',_0x1a2428),renderEventsForColumn(_0x59af36,_0xa10ba9,_0x1a2428),attachLongPressHandler(_0x59af36,_0x8323d0),_0x7f0edc[_0x4ff904(0x1cf)](_0x59af36),updateDayStats(_0xa10ba9);}}function reRenderBlocks(){const _0x5e8096=a2_0x5c052b;document[_0x5e8096(0x1e8)](_0x5e8096(0x1a7))[_0x5e8096(0x264)](_0x3e6552=>{const _0x4fe96f=_0x5e8096;_0x3e6552[_0x4fe96f(0x1e8)](_0x4fe96f(0x28a))[_0x4fe96f(0x264)](_0x548a78=>_0x548a78[_0x4fe96f(0x2fc)]());const _0x2f272f=_0x3e6552[_0x4fe96f(0x2ce)]('data-date'),_0x5b95bb=parseInt(_0x3e6552['getAttribute'](_0x4fe96f(0x23a))),_0x19d081=Math[_0x4fe96f(0x2a8)](_0x3e6552['offsetLeft']);(availabilityPattern[_0x5b95bb]||[])[_0x4fe96f(0x264)](_0x3c242f=>{const _0x3e3f1b=_0x4fe96f,_0x593f13=document[_0x3e3f1b(0x215)](_0x3e3f1b(0x258));_0x593f13[_0x3e3f1b(0x2d4)]='blocked-slot\x20stripe-bg';const _0x5daa8a=_0x3c242f*GRID_H;_0x593f13[_0x3e3f1b(0x1af)][_0x3e3f1b(0x2e2)]=_0x5daa8a+'px',_0x593f13['style'][_0x3e3f1b(0x183)]='-'+_0x19d081+_0x3e3f1b(0x2eb)+_0x5daa8a+'px',_0x3e6552[_0x3e3f1b(0x1cf)](_0x593f13);});if(specialRanges&&specialRanges[_0x4fe96f(0x2d2)]>0x0){const _0x2055b8=new Date(_0x2f272f+_0x4fe96f(0x1fc))[_0x4fe96f(0x28f)](),_0x566fe3=new Date(_0x2f272f+_0x4fe96f(0x27f))[_0x4fe96f(0x28f)]();specialRanges[_0x4fe96f(0x264)](_0x3a86ee=>{const _0x290f39=_0x4fe96f,_0x1607a2=new Date(_0x3a86ee[_0x290f39(0x1c2)])[_0x290f39(0x28f)](),_0x464ff4=new Date(_0x3a86ee[_0x290f39(0x1a3)])[_0x290f39(0x28f)](),_0x4bb24b=Math['max'](_0x2055b8,_0x1607a2),_0x42877c=Math[_0x290f39(0x27d)](_0x566fe3,_0x464ff4);if(_0x4bb24b<_0x42877c){if(_0x4bb24b<=_0x2055b8&&_0x42877c>=_0x566fe3-0xea60){if(!_0x3e6552[_0x290f39(0x22a)](_0x290f39(0x2f0))){const _0x3cc6c8=document[_0x290f39(0x215)](_0x290f39(0x258));_0x3cc6c8[_0x290f39(0x2d4)]=_0x290f39(0x1f7),_0x3cc6c8[_0x290f39(0x1af)][_0x290f39(0x183)]='-'+_0x19d081+_0x290f39(0x1c6),_0x3e6552[_0x290f39(0x1cf)](_0x3cc6c8);}}else{const _0x101bb2=(_0x4bb24b-_0x2055b8)/0x36ee80*GRID_H,_0x370356=(_0x42877c-_0x4bb24b)/0x36ee80*GRID_H,_0x3b5b30=document[_0x290f39(0x215)](_0x290f39(0x258));_0x3b5b30[_0x290f39(0x2d4)]='blocked-range-part\x20stripe-bg',_0x3b5b30[_0x290f39(0x1af)][_0x290f39(0x2e2)]=_0x101bb2+'px',_0x3b5b30[_0x290f39(0x1af)][_0x290f39(0x231)]=_0x370356+'px',_0x3b5b30[_0x290f39(0x1af)]['backgroundPosition']='-'+_0x19d081+_0x290f39(0x2eb)+_0x101bb2+'px',_0x3e6552[_0x290f39(0x1cf)](_0x3b5b30);}}});}if(dateExceptions[_0x2f272f]==='off'){if(!_0x3e6552[_0x4fe96f(0x22a)](_0x4fe96f(0x2f0))){const _0xd7deb6=document['createElement'](_0x4fe96f(0x258));_0xd7deb6[_0x4fe96f(0x2d4)]='day-off-overlay\x20stripe-bg',_0xd7deb6[_0x4fe96f(0x1af)][_0x4fe96f(0x183)]='-'+_0x19d081+_0x4fe96f(0x1c6),_0x3e6552[_0x4fe96f(0x1cf)](_0xd7deb6);}}renderEventsForColumn(_0x3e6552,_0x2f272f,_0x5b95bb),updateDayStats(_0x2f272f);});}function updateAllDayStats(){const _0x46d0c2=a2_0x5c052b;document[_0x46d0c2(0x1e8)](_0x46d0c2(0x2ea))['forEach'](_0x266ad5=>{const _0x5180eb=_0x46d0c2;updateDayStats(_0x266ad5['getAttribute'](_0x5180eb(0x25d)));});}function updateDayStats(_0x415104){const _0x41c483=a2_0x5c052b,_0x3afb58=document[_0x41c483(0x298)](_0x41c483(0x301)+_0x415104);if(!_0x3afb58)return;const _0xd6f21f=new Date(_0x415104);let _0x3f330a=_0xd6f21f[_0x41c483(0x2f5)]()-0x1;if(_0x3f330a===-0x1)_0x3f330a=0x6;if(dateExceptions[_0x415104]===_0x41c483(0x229)){_0x3afb58['style'][_0x41c483(0x237)]=_0x41c483(0x24e);return;}const _0x3f7451=availabilityPattern[_0x3f330a]||[],_0x3ca6f3=0x18-_0x3f7451[_0x41c483(0x2d2)],_0x1b911c=_0x3ca6f3*0x3c,_0x3d177c=sessions[_0x41c483(0x214)](_0x5c13e2=>_0x5c13e2[_0x41c483(0x1b2)]===_0x415104&&_0x5c13e2['status']!==_0x41c483(0x1f6));if(_0x3d177c['length']===0x0){_0x3afb58[_0x41c483(0x1af)][_0x41c483(0x237)]=_0x41c483(0x24e);return;}let _0x388304=_0x3d177c[_0x41c483(0x208)](_0x53c2f3=>{const _0x42b32a=_0x41c483,[_0x539f89,_0x1b35ad]=_0x53c2f3[_0x42b32a(0x1c2)][_0x42b32a(0x235)](':')[_0x42b32a(0x208)](Number),[_0x4ac277,_0x34957e]=_0x53c2f3['end'][_0x42b32a(0x235)](':')[_0x42b32a(0x208)](Number);return[_0x539f89*0x3c+_0x1b35ad,_0x4ac277*0x3c+_0x34957e];});_0x388304[_0x41c483(0x260)]((_0x3dcbb8,_0x9389fe)=>_0x3dcbb8[0x0]-_0x9389fe[0x0]);let _0x3bd6c6=[];if(_0x388304[_0x41c483(0x2d2)]>0x0){let _0x1e8507=_0x388304[0x0];for(let _0xde89cc=0x1;_0xde89cc<_0x388304[_0x41c483(0x2d2)];_0xde89cc++){_0x388304[_0xde89cc][0x0]<_0x1e8507[0x1]?_0x1e8507[0x1]=Math[_0x41c483(0x18f)](_0x1e8507[0x1],_0x388304[_0xde89cc][0x1]):(_0x3bd6c6[_0x41c483(0x300)](_0x1e8507),_0x1e8507=_0x388304[_0xde89cc]);}_0x3bd6c6['push'](_0x1e8507);}let _0x32640d=0x0;_0x3bd6c6['forEach'](_0x437b75=>_0x32640d+=_0x437b75[0x1]-_0x437b75[0x0]),_0x3afb58['style'][_0x41c483(0x237)]='flex';const _0x3023f8=_0x3afb58['querySelector']('.dch-stats-fill');if(_0x1b911c===0x0){_0x3023f8[_0x41c483(0x1af)][_0x41c483(0x2d0)]=_0x41c483(0x270),_0x3023f8['style']['background']=_0x41c483(0x2db);return;}const _0x22d4ad=_0x32640d/_0x1b911c*0x64;console[_0x41c483(0x288)]('['+_0x415104+_0x41c483(0x1dc)+_0x3ca6f3+'—á,\x20–ó–∞–Ω—è—Ç–æ:\x20'+_0x32640d+_0x41c483(0x1e7)+_0x22d4ad[_0x41c483(0x22e)](0x1)+'%'),_0x22d4ad>0x64?(_0x3023f8[_0x41c483(0x1af)][_0x41c483(0x2d0)]=_0x41c483(0x270),_0x3023f8[_0x41c483(0x1af)][_0x41c483(0x2e1)]='var(--acc-red)'):(_0x3023f8['style'][_0x41c483(0x2d0)]=_0x22d4ad+'%',_0x3023f8[_0x41c483(0x1af)][_0x41c483(0x2e1)]=_0x41c483(0x18d));}function renderEventsForColumn(_0x5a390e,_0xa28900,_0x4361f9){const _0x4da02e=a2_0x5c052b,_0x375302=sessions['filter'](_0x5a8800=>_0x5a8800[_0x4da02e(0x1b2)]===_0xa28900),_0x2de73f=_0x375302[_0x4da02e(0x208)](_0x31bb53=>{const _0x4ff5eb=_0x4da02e,[_0x4be78c,_0x17f9b0]=_0x31bb53['start']['split'](':')['map'](Number),[_0x4228cb,_0x406b0b]=_0x31bb53['end'][_0x4ff5eb(0x235)](':')[_0x4ff5eb(0x208)](Number);return{'data':_0x31bb53,'start':_0x4be78c*0x3c+_0x17f9b0,'end':_0x4228cb*0x3c+_0x406b0b,'colIndex':0x0};});_0x2de73f[_0x4da02e(0x260)]((_0xcc7642,_0x5408d0)=>{const _0x34ef3e=_0x4da02e;if(_0xcc7642[_0x34ef3e(0x1c2)]!==_0x5408d0[_0x34ef3e(0x1c2)])return _0xcc7642[_0x34ef3e(0x1c2)]-_0x5408d0[_0x34ef3e(0x1c2)];return _0x5408d0['end']-_0x5408d0[_0x34ef3e(0x1c2)]-(_0xcc7642[_0x34ef3e(0x1a3)]-_0xcc7642[_0x34ef3e(0x1c2)]);});const _0x5096ec=[];_0x2de73f[_0x4da02e(0x264)](_0x472ef2=>{const _0x25216=_0x4da02e;let _0x29cf65=![];for(let _0x39d44a=0x0;_0x39d44a<_0x5096ec[_0x25216(0x2d2)];_0x39d44a++){const _0xd9ea32=_0x5096ec[_0x39d44a],_0x180570=_0xd9ea32[_0xd9ea32['length']-0x1];if(_0x472ef2['start']>=_0x180570[_0x25216(0x1a3)]){_0xd9ea32[_0x25216(0x300)](_0x472ef2),_0x472ef2['colIndex']=_0x39d44a,_0x29cf65=!![];break;}}!_0x29cf65&&(_0x5096ec['push']([_0x472ef2]),_0x472ef2[_0x25216(0x2f4)]=_0x5096ec[_0x25216(0x2d2)]-0x1);}),_0x2de73f['forEach'](_0xb3a3ce=>{const _0x4d2178=_0x4da02e;let _0x556737=0x0;_0x2de73f['forEach'](_0x51b5dc=>{const _0x47976c=a2_0x3e4a;if(Math['max'](_0xb3a3ce[_0x47976c(0x1c2)],_0x51b5dc[_0x47976c(0x1c2)])<Math['min'](_0xb3a3ce[_0x47976c(0x1a3)],_0x51b5dc[_0x47976c(0x1a3)])){if(_0x51b5dc[_0x47976c(0x2f4)]>_0x556737)_0x556737=_0x51b5dc[_0x47976c(0x2f4)];}});const _0x359cd7=_0x556737+0x1,_0x51f84e=0x64/_0x359cd7,_0x4c4958=_0xb3a3ce[_0x4d2178(0x2f4)]*_0x51f84e,_0x8c5386=createEventEl(_0xb3a3ce[_0x4d2178(0x286)]);_0x8c5386[_0x4d2178(0x1af)][_0x4d2178(0x2d0)]=_0x4d2178(0x253)+_0x51f84e+_0x4d2178(0x1ed),_0x8c5386[_0x4d2178(0x1af)][_0x4d2178(0x26f)]=_0x4d2178(0x253)+_0x4c4958+_0x4d2178(0x2f6),_0x8c5386[_0x4d2178(0x1af)][_0x4d2178(0x28e)]=0xa+_0xb3a3ce[_0x4d2178(0x2f4)],_0x51f84e<0x55&&_0x8c5386['classList']['add'](_0x4d2178(0x20d)),_0x5a390e[_0x4d2178(0x1cf)](_0x8c5386);});}function a2_0x3e4a(_0x208e12,_0x5a9bdb){_0x208e12=_0x208e12-0x183;const _0x322972=a2_0x201f();let _0x4b1e0d=_0x322972[_0x208e12];return _0x4b1e0d;}function createEventEl(_0x22af61){const _0x95668a=a2_0x5c052b,[_0x15abdc,_0x5f0222]=_0x22af61[_0x95668a(0x1c2)]['split'](':')[_0x95668a(0x208)](Number),[_0x9c63b9,_0x1601c7]=_0x22af61[_0x95668a(0x1a3)][_0x95668a(0x235)](':')[_0x95668a(0x208)](Number),_0x5c23b3=(_0x15abdc*0x3c+_0x5f0222)/0x3c*GRID_H,_0x32f747=(_0x9c63b9*0x3c+_0x1601c7-(_0x15abdc*0x3c+_0x5f0222))/0x3c*GRID_H,_0x1ba83b=document[_0x95668a(0x215)](_0x95668a(0x258)),_0x3dde3b=_0x22af61[_0x95668a(0x1e4)]===_0x95668a(0x2a6)?_0x95668a(0x21f):'';_0x1ba83b['className']=_0x95668a(0x1d8)+_0x3dde3b,_0x1ba83b['style'][_0x95668a(0x2e2)]=_0x5c23b3+'px',_0x1ba83b['style'][_0x95668a(0x231)]=Math[_0x95668a(0x18f)](_0x32f747,0x14)+'px';const _0x14ced4=clients[_0x95668a(0x1ff)](_0x3b350a=>_0x22af61['clientId']&&String(_0x3b350a['id'])===String(_0x22af61[_0x95668a(0x275)])||_0x3b350a[_0x95668a(0x257)]===_0x22af61[_0x95668a(0x24d)]),_0x1ec510=_0x14ced4?_0x14ced4[_0x95668a(0x1b0)]:_0x95668a(0x1b5);_0x1ba83b[_0x95668a(0x1af)][_0x95668a(0x2bf)]=_0x1ec510,_0x1ba83b[_0x95668a(0x1af)][_0x95668a(0x21c)]=hexToRgba(_0x1ec510,0.85);let _0x77be8e=_0x95668a(0x220)+_0x22af61['client']+_0x95668a(0x1ec)+_0x22af61[_0x95668a(0x1c2)]+_0x95668a(0x2b0)+_0x22af61[_0x95668a(0x1a3)]+_0x95668a(0x2a4);return _0x22af61[_0x95668a(0x2e7)]&&(_0x77be8e+=_0x95668a(0x19e)),_0x22af61['status']===_0x95668a(0x2a6)&&(_0x77be8e+=_0x95668a(0x2cf)),_0x1ba83b['innerHTML']=_0x77be8e,_0x1ba83b[_0x95668a(0x24c)]=_0x4922de=>{_0x4922de['stopPropagation'](),openEdit(_0x22af61);},_0x1ba83b;}function attachLongPressHandler(_0x1d9db5,_0x463ec3){const _0x495f16=a2_0x5c052b;let _0x370507=0x0,_0x592fe7=null;const _0x3fba90=_0x530ae3=>{const _0x39fbac=a2_0x3e4a;if(_0x530ae3[_0x39fbac(0x1c7)][_0x39fbac(0x207)]('.event-card'))return;isScrolling=![],_0x370507=_0x530ae3[_0x39fbac(0x234)]?_0x530ae3[_0x39fbac(0x234)][0x0][_0x39fbac(0x1f5)]:_0x530ae3[_0x39fbac(0x1f5)],_0x592fe7=setTimeout(()=>{const _0x3ca1fc=_0x39fbac;if(!isScrolling){navigator[_0x3ca1fc(0x198)]?.(0x32);const _0x2e1fad=_0x1d9db5[_0x3ca1fc(0x2a0)](),_0x121095=Math[_0x3ca1fc(0x23c)]((_0x370507-_0x2e1fad[_0x3ca1fc(0x2e2)])/GRID_H);_0x463ec3[_0x3ca1fc(0x2b7)](_0x121095,0x0),openAddSession(_0x463ec3);}},0x1f4);},_0x3cb053=()=>{isScrolling=!![],clearTimeout(_0x592fe7);},_0x1c2466=()=>{clearTimeout(_0x592fe7);};_0x1d9db5[_0x495f16(0x1f8)]('touchstart',_0x3fba90,{'passive':!![]}),_0x1d9db5[_0x495f16(0x1f8)](_0x495f16(0x1cd),_0x3cb053,{'passive':!![]}),_0x1d9db5['addEventListener']('touchend',_0x1c2466),_0x1d9db5[_0x495f16(0x1f8)]('mousedown',_0x3fba90),_0x1d9db5[_0x495f16(0x1f8)](_0x495f16(0x210),_0x3cb053),_0x1d9db5['addEventListener']('mouseup',_0x1c2466);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x838f79=a2_0x5c052b,_0x19fbfa=document[_0x838f79(0x298)]('matrixViewport'),_0x129932=_0x19fbfa[_0x838f79(0x1be)],_0x1d3e8f=_0x19fbfa[_0x838f79(0x280)],_0x4554db=_0x19fbfa[_0x838f79(0x2d3)];if(_0x1d3e8f-(_0x129932+_0x4554db)<0x12c){const _0x54c218=endOffset;endOffset+=0xe,renderDayRange(_0x54c218+0x1,endOffset),reRenderBlocks();}if(_0x129932<0x12c){const _0x5e701b=startOffset;startOffset-=0xe,prependDays(startOffset,_0x5e701b-0x1),_0x19fbfa[_0x838f79(0x1be)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x5366ac,_0x519782){const _0x2a7798=a2_0x5c052b,_0x57efc5=document[_0x2a7798(0x298)](_0x2a7798(0x1e0)),_0x4f555a=document[_0x2a7798(0x298)]('gridColumns'),_0x43ca6e=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x4cf2ec=new Date();_0x4cf2ec[_0x2a7798(0x2b7)](0x0,0x0,0x0,0x0);const _0xbf4245=getLocalDateStr(new Date()),_0x1c7c17=document[_0x2a7798(0x24b)](),_0x2cac62=document[_0x2a7798(0x24b)]();for(let _0x20ebc2=_0x5366ac;_0x20ebc2<=_0x519782;_0x20ebc2++){const _0x40f4fc=new Date(_0x4cf2ec);_0x40f4fc[_0x2a7798(0x255)](_0x40f4fc[_0x2a7798(0x1ab)]()+_0x20ebc2);const _0x44168e=getLocalDateStr(_0x40f4fc);let _0x21f0f8=_0x40f4fc['getDay']()-0x1;if(_0x21f0f8===-0x1)_0x21f0f8=0x6;const _0x2bdf57=_0x44168e===_0xbf4245,_0x29806a=document[_0x2a7798(0x215)](_0x2a7798(0x258));_0x29806a[_0x2a7798(0x2d4)]=_0x2a7798(0x23b)+(_0x2bdf57?_0x2a7798(0x2fa):''),_0x29806a['id']=_0x2a7798(0x2e9)+_0x44168e,_0x29806a[_0x2a7798(0x19f)]('data-date',_0x44168e),_0x29806a[_0x2a7798(0x25c)]=_0x2a7798(0x1f0)+_0x43ca6e[_0x21f0f8]+'</div><div\x20class=\x22dch-num\x22>'+_0x40f4fc[_0x2a7798(0x1ab)]()+_0x2a7798(0x216)+_0x44168e+_0x2a7798(0x28b),_0x29806a[_0x2a7798(0x24c)]=()=>openDayOptions(_0x44168e,_0x43ca6e[_0x21f0f8]+'\x20'+_0x40f4fc['getDate']()),_0x1c7c17[_0x2a7798(0x1cf)](_0x29806a);const _0xbc70c=document[_0x2a7798(0x215)](_0x2a7798(0x258));_0xbc70c['className']=_0x2a7798(0x230)+(_0x2bdf57?_0x2a7798(0x2fa):''),_0xbc70c[_0x2a7798(0x19f)]('data-date',_0x44168e),_0xbc70c[_0x2a7798(0x19f)](_0x2a7798(0x23a),_0x21f0f8),renderEventsForColumn(_0xbc70c,_0x44168e,_0x21f0f8),attachLongPressHandler(_0xbc70c,_0x40f4fc),_0x2cac62[_0x2a7798(0x1cf)](_0xbc70c),updateDayStats(_0x44168e);}_0x57efc5[_0x2a7798(0x27b)](_0x1c7c17,_0x57efc5[_0x2a7798(0x191)]),_0x4f555a[_0x2a7798(0x27b)](_0x2cac62,_0x4f555a[_0x2a7798(0x22a)](_0x2a7798(0x1f1)));}function validateAppointment(_0x448d7e,_0x32609e,_0x36c92d,_0x4ec955,_0x264082){const _0x146000=a2_0x5c052b,[_0x1a6807,_0xd57e18]=_0x32609e['split'](':')[_0x146000(0x208)](Number),[_0x48a4a1,_0x43dbda]=_0x36c92d[_0x146000(0x235)](':')[_0x146000(0x208)](Number),_0x35da8e=_0x1a6807*0x3c+_0xd57e18,_0x45194e=_0x48a4a1*0x3c+_0x43dbda,_0x10c57d=String(_0x264082);let _0x3e7071=![],_0x29c274='';for(let _0x503838 of sessions){if(_0x503838['dateStr']!==_0x448d7e)continue;if(_0x503838[_0x146000(0x1e4)]===_0x146000(0x1f6))continue;if(_0x4ec955&&String(_0x503838['id'])===String(_0x4ec955))continue;const [_0x5d0dca,_0x35030a]=_0x503838[_0x146000(0x1c2)][_0x146000(0x235)](':')[_0x146000(0x208)](Number),[_0x3a46f2,_0x3d399e]=_0x503838['end'][_0x146000(0x235)](':')[_0x146000(0x208)](Number),_0x1258c6=_0x5d0dca*0x3c+_0x35030a,_0x4bfdc3=_0x3a46f2*0x3c+_0x3d399e;if(Math[_0x146000(0x18f)](_0x35da8e,_0x1258c6)<Math[_0x146000(0x27d)](_0x45194e,_0x4bfdc3)){if(_0x503838[_0x146000(0x275)]&&String(_0x503838[_0x146000(0x275)])===_0x10c57d)return{'valid':![],'msg':_0x146000(0x287)+_0x503838[_0x146000(0x24d)]+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x3e7071=!![],_0x29c274=_0x503838[_0x146000(0x24d)];}}if(_0x3e7071)return{'valid':!![],'warning':_0x146000(0x1d7)+_0x29c274};return{'valid':!![]};}function updateDateDisplay(){const _0x5bcecd=a2_0x5c052b,_0x3f61bd=document[_0x5bcecd(0x298)](_0x5bcecd(0x2ba))[_0x5bcecd(0x2bc)],_0x46760b=document[_0x5bcecd(0x298)](_0x5bcecd(0x1cb));if(!_0x3f61bd){_0x46760b['textContent']='';return;}const [_0x731f77,_0x21bb41,_0x326f5a]=_0x3f61bd['split']('-')['map'](Number),_0xa4829=new Date(_0x731f77,_0x21bb41-0x1,_0x326f5a),_0xc51b3a={'weekday':'long','day':'numeric','month':_0x5bcecd(0x2b3),'year':_0x5bcecd(0x245)};let _0x816343=_0xa4829[_0x5bcecd(0x19d)](_0x5bcecd(0x1c8),_0xc51b3a);_0x816343=_0x816343[_0x5bcecd(0x256)](0x0)[_0x5bcecd(0x244)]()+_0x816343[_0x5bcecd(0x1c0)](0x1),_0x46760b[_0x5bcecd(0x294)]=_0x816343;}function autoSetEndTime(){const _0x1876ae=a2_0x5c052b,_0x26cd8e=document['getElementById'](_0x1876ae(0x2c9))[_0x1876ae(0x2bc)];if(!_0x26cd8e)return;const [_0x43a0b9,_0x436c14]=_0x26cd8e[_0x1876ae(0x235)](':')[_0x1876ae(0x208)](Number);let _0x52c607=_0x43a0b9+0x1;if(_0x52c607>0x17)_0x52c607=0x0;const _0x4ef49b=String(_0x52c607)[_0x1876ae(0x2b8)](0x2,'0')+':'+String(_0x436c14)[_0x1876ae(0x2b8)](0x2,'0');document['getElementById'](_0x1876ae(0x2d1))[_0x1876ae(0x2bc)]=_0x4ef49b;}function populateClientSelect(){const _0x17aa73=a2_0x5c052b,_0x2c11e5=document[_0x17aa73(0x298)](_0x17aa73(0x297));_0x2c11e5[_0x17aa73(0x25c)]='';if(clients[_0x17aa73(0x2d2)]===0x0){const _0x48df7e=document['createElement']('option');_0x48df7e[_0x17aa73(0x2ae)]=_0x17aa73(0x1f9),_0x2c11e5[_0x17aa73(0x1cf)](_0x48df7e);return;}clients[_0x17aa73(0x264)](_0x444ce4=>{const _0x3b6be3=_0x17aa73,_0x585a43=document[_0x3b6be3(0x215)](_0x3b6be3(0x2cb));_0x585a43[_0x3b6be3(0x2bc)]=_0x444ce4[_0x3b6be3(0x257)],_0x585a43[_0x3b6be3(0x294)]=_0x444ce4['name'],_0x2c11e5[_0x3b6be3(0x1cf)](_0x585a43);});}function openActionSheet(_0x361aee){const _0x429ebe=a2_0x5c052b,_0x3c3d49=document[_0x429ebe(0x298)]('actionSheet'),_0x2bf23f=document['getElementById'](_0x429ebe(0x1a6)),_0x352156=document[_0x429ebe(0x298)](_0x429ebe(0x2df)),_0x47aeee=document[_0x429ebe(0x298)](_0x429ebe(0x190)),_0x90d5bb=document['getElementById'](_0x429ebe(0x22c));_0x2bf23f[_0x429ebe(0x211)][_0x429ebe(0x196)](_0x429ebe(0x222)),_0x3c3d49[_0x429ebe(0x211)][_0x429ebe(0x196)](_0x429ebe(0x276));if(_0x361aee==='save')_0x352156[_0x429ebe(0x294)]='–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏',_0x47aeee[_0x429ebe(0x294)]='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x47aeee[_0x429ebe(0x24c)]=()=>{const _0x5d6b70=_0x429ebe;closeActionSheet(),updateSeriesBatch(_0x5d6b70(0x21e),tempSessionData);},_0x90d5bb['textContent']=_0x429ebe(0x18c),_0x90d5bb[_0x429ebe(0x24c)]=()=>{closeActionSheet(),updateSeriesBatch('series',tempSessionData);};else _0x361aee===_0x429ebe(0x18b)&&(_0x352156[_0x429ebe(0x294)]='–£–¥–∞–ª–µ–Ω–∏–µ',_0x47aeee[_0x429ebe(0x294)]=_0x429ebe(0x1c5),_0x47aeee[_0x429ebe(0x2d4)]=_0x429ebe(0x1d2),_0x47aeee[_0x429ebe(0x24c)]=()=>{const _0x19f793=_0x429ebe;closeActionSheet(),commitDelete(_0x19f793(0x21e),sessions[_0x19f793(0x1ff)](_0x3b2bb0=>_0x3b2bb0['id']===editingId));},_0x90d5bb[_0x429ebe(0x294)]=_0x429ebe(0x18c),_0x90d5bb[_0x429ebe(0x2d4)]=_0x429ebe(0x2f1),_0x90d5bb[_0x429ebe(0x24c)]=()=>{const _0x5bf205=_0x429ebe;closeActionSheet(),commitDelete(_0x5bf205(0x285),sessions[_0x5bf205(0x1ff)](_0x15bec7=>_0x15bec7['id']===editingId));});}function closeActionSheet(){const _0x2c2d01=a2_0x5c052b;document[_0x2c2d01(0x298)](_0x2c2d01(0x2cc))['classList']['remove'](_0x2c2d01(0x276)),document['getElementById'](_0x2c2d01(0x1a6))['classList']['remove']('active');}function openSettings(){openSheet('settingsSheet');}function saveCoachSettings(){const _0x4dde4e=a2_0x5c052b,_0x181d7e=document[_0x4dde4e(0x298)]('settingCancelWindow')[_0x4dde4e(0x2bc)];localStorage[_0x4dde4e(0x1fd)](_0x4dde4e(0x200),_0x181d7e),console[_0x4dde4e(0x288)](_0x4dde4e(0x1bf),_0x181d7e),DataManager[_0x4dde4e(0x272)](_0x4dde4e(0x1f4),{'settings':{'cancel_window':_0x181d7e}})[_0x4dde4e(0x262)](_0x31a0d7=>{const _0x29a2e8=_0x4dde4e;console['error'](_0x29a2e8(0x2aa),_0x31a0d7),showToast(_0x29a2e8(0x252),![]);});}function loadCoachSettings(){const _0x17da55=a2_0x5c052b,_0x59f2b9=localStorage[_0x17da55(0x29e)](_0x17da55(0x200));_0x59f2b9&&(document[_0x17da55(0x298)](_0x17da55(0x2d7))['value']=_0x59f2b9);}function openRangesSheet(){const _0x221838=a2_0x5c052b;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x221838(0x1aa));}function addRange(){const _0xd0e7c5=a2_0x5c052b,_0xf992a7=document['getElementById'](_0xd0e7c5(0x2a9))[_0xd0e7c5(0x2bc)],_0x471a56=document[_0xd0e7c5(0x298)]('rangeStartTime')[_0xd0e7c5(0x2bc)],_0x53fa8d=document[_0xd0e7c5(0x298)](_0xd0e7c5(0x1e1))[_0xd0e7c5(0x2bc)],_0x56eb50=document['getElementById'](_0xd0e7c5(0x221))[_0xd0e7c5(0x2bc)];if(!_0xf992a7||!_0x471a56||!_0x53fa8d||!_0x56eb50)return alert(_0xd0e7c5(0x2c2));const _0x368625=_0xf992a7+'T'+_0x471a56,_0x5e4b7c=_0x53fa8d+'T'+_0x56eb50;if(_0x368625>=_0x5e4b7c)return alert(_0xd0e7c5(0x1b9));specialRanges['push']({'start':_0x368625,'end':_0x5e4b7c}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0xd0e7c5(0x1d3)](),DataManager['fetchFromServer'](_0xd0e7c5(0x1f4),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x431312){const _0x41e6de=a2_0x5c052b;specialRanges[_0x41e6de(0x263)](_0x431312,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x41e6de(0x1d3)](),DataManager[_0x41e6de(0x272)](_0x41e6de(0x1f4),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x39a1d6=a2_0x5c052b;document[_0x39a1d6(0x298)](_0x39a1d6(0x2a9))[_0x39a1d6(0x2bc)]='',document[_0x39a1d6(0x298)](_0x39a1d6(0x2f8))[_0x39a1d6(0x2bc)]=_0x39a1d6(0x20a),document['getElementById'](_0x39a1d6(0x1e1))[_0x39a1d6(0x2bc)]='',document[_0x39a1d6(0x298)](_0x39a1d6(0x221))[_0x39a1d6(0x2bc)]=_0x39a1d6(0x2d6);}function renderRangesList(){const _0x217c52=a2_0x5c052b,_0x272569=document[_0x217c52(0x298)]('rangesList');_0x272569['innerHTML']='';if(!specialRanges['length']){_0x272569[_0x217c52(0x25c)]='<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>';return;}specialRanges[_0x217c52(0x264)]((_0x457bdf,_0x26c6d5)=>{const _0x446c70=_0x217c52,_0xe83e61=document['createElement'](_0x446c70(0x258));_0xe83e61[_0x446c70(0x2d4)]='range-item';const _0x273435=_0x5a0b51=>{const _0x13aade=_0x446c70,_0x543524=new Date(_0x5a0b51);return _0x543524[_0x13aade(0x1ab)]()+'.'+String(_0x543524[_0x13aade(0x1da)]()+0x1)['padStart'](0x2,'0')+'\x20'+String(_0x543524[_0x13aade(0x19b)]())[_0x13aade(0x2b8)](0x2,'0')+':'+String(_0x543524[_0x13aade(0x227)]())[_0x13aade(0x2b8)](0x2,'0');};_0xe83e61[_0x446c70(0x25c)]=_0x446c70(0x1dd)+_0x273435(_0x457bdf['start'])+'\x20‚Äî\x20'+_0x273435(_0x457bdf['end'])+_0x446c70(0x1a9)+_0x26c6d5+_0x446c70(0x268),_0x272569[_0x446c70(0x1cf)](_0xe83e61);});}function scrollToToday(){const _0x3dfea0=a2_0x5c052b,_0x1c5e28=getLocalDateStr(new Date()),_0x4a58c2=document[_0x3dfea0(0x298)](_0x3dfea0(0x2e9)+_0x1c5e28),_0x1d84f3=document[_0x3dfea0(0x298)](_0x3dfea0(0x26d));if(_0x4a58c2&&_0x1d84f3){const _0x1768c2=_0x1d84f3[_0x3dfea0(0x2d3)],_0x119eaa=_0x4a58c2['offsetLeft'],_0x219204=_0x4a58c2[_0x3dfea0(0x261)];_0x1d84f3['scrollLeft']=_0x119eaa-_0x1768c2/0x2+_0x219204/0x2,_0x1d84f3[_0x3dfea0(0x2f7)]=0x9*GRID_H;}}function onScroll(){const _0x1e5d03=a2_0x5c052b,_0x315a00=document[_0x1e5d03(0x298)](_0x1e5d03(0x26d)),_0x1abe13=document[_0x1e5d03(0x1e8)](_0x1e5d03(0x2ea));for(let _0x3c0e03 of _0x1abe13)if(_0x3c0e03[_0x1e5d03(0x2f2)]>=_0x315a00['scrollLeft']){const _0x42fe6b=new Date(_0x3c0e03['getAttribute'](_0x1e5d03(0x25d)));document[_0x1e5d03(0x298)](_0x1e5d03(0x2af))[_0x1e5d03(0x294)]=_0x42fe6b[_0x1e5d03(0x1e9)]('ru',{'month':_0x1e5d03(0x2b3)})[_0x1e5d03(0x244)]()+'\x20'+_0x42fe6b[_0x1e5d03(0x2a2)]();break;}}function showToast(_0xf5aaae,_0x4b0fc6=![]){const _0x25d4fa=a2_0x5c052b,_0x1556dc=document[_0x25d4fa(0x298)](_0x25d4fa(0x2ad));_0x1556dc[_0x25d4fa(0x2d4)]=_0x25d4fa(0x1ef)+(_0x4b0fc6?'success':''),document[_0x25d4fa(0x298)](_0x25d4fa(0x201))[_0x25d4fa(0x294)]=_0x4b0fc6?_0x25d4fa(0x212):_0x25d4fa(0x2b6),document['getElementById']('toastMessage')[_0x25d4fa(0x294)]=_0xf5aaae,_0x1556dc[_0x25d4fa(0x211)][_0x25d4fa(0x196)](_0x25d4fa(0x2b2)),setTimeout(()=>{const _0x2aefe=_0x25d4fa;_0x1556dc[_0x2aefe(0x211)][_0x2aefe(0x2fc)](_0x2aefe(0x2b2));},0xbb8);}function openDayOptions(_0x102bed,_0x31043a){const _0xc1bb50=a2_0x5c052b;selectedDayForOptions=_0x102bed,document[_0xc1bb50(0x298)]('dayOptionsTitle')['textContent']=_0x31043a,openSheet(_0xc1bb50(0x195));}function toggleDayOff(){const _0x56dd73=a2_0x5c052b;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]='off',reRenderBlocks(),closeAllSheets(),DataManager[_0x56dd73(0x1d3)](),DataManager[_0x56dd73(0x272)](_0x56dd73(0x1f4),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x3e26aa=a2_0x5c052b;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x3e26aa(0x1d3)](),DataManager[_0x3e26aa(0x272)]('save_settings',{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x19fd15){const _0x36f11c=a2_0x5c052b;document[_0x36f11c(0x298)](_0x36f11c(0x1ca))[_0x36f11c(0x211)][_0x36f11c(0x196)](_0x36f11c(0x222)),document[_0x36f11c(0x298)](_0x19fd15)['classList'][_0x36f11c(0x196)]('open');}function closeAllSheets(){const _0x4876b3=a2_0x5c052b;document[_0x4876b3(0x298)](_0x4876b3(0x1ca))['classList'][_0x4876b3(0x2fc)](_0x4876b3(0x222)),document[_0x4876b3(0x1e8)](_0x4876b3(0x284))[_0x4876b3(0x264)](_0x57e4a3=>_0x57e4a3[_0x4876b3(0x211)]['remove'](_0x4876b3(0x276)));}function openPatternEditor(){const _0x3243b1=a2_0x5c052b;closeAllSheets(),document['getElementById'](_0x3243b1(0x1ba))[_0x3243b1(0x211)][_0x3243b1(0x196)](_0x3243b1(0x276)),renderPatternEditor();}function closePatternEditor(){const _0x474c03=a2_0x5c052b;document[_0x474c03(0x298)]('patternEditor')[_0x474c03(0x211)]['remove'](_0x474c03(0x276));}function savePattern(){const _0x11f171=a2_0x5c052b;document[_0x11f171(0x298)](_0x11f171(0x1ba))[_0x11f171(0x211)]['remove']('open'),reRenderBlocks(),DataManager[_0x11f171(0x1d3)](),DataManager[_0x11f171(0x272)]('save_settings',{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x1c72e2=a2_0x5c052b,_0x447e3f=document[_0x1c72e2(0x298)](_0x1c72e2(0x186));_0x447e3f[_0x1c72e2(0x25c)]='';const _0xc5dfce=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x19e31b=document[_0x1c72e2(0x215)]('div');_0x19e31b[_0x1c72e2(0x2d4)]=_0x1c72e2(0x2fb),_0x447e3f['appendChild'](_0x19e31b),_0xc5dfce[_0x1c72e2(0x264)]((_0x36696e,_0x476a2f)=>{const _0x1c3270=_0x1c72e2,_0x46e398=document[_0x1c3270(0x215)](_0x1c3270(0x258));_0x46e398[_0x1c3270(0x2d4)]=_0x1c3270(0x2ff),_0x46e398['innerHTML']=_0x36696e+'\x20<span\x20class=\x22arrow\x22>‚Üì</span>',_0x46e398[_0x1c3270(0x24c)]=()=>toggleColPattern(_0x476a2f),_0x447e3f[_0x1c3270(0x1cf)](_0x46e398);});for(let _0x36ecf4=0x0;_0x36ecf4<0x18;_0x36ecf4++){const _0x2d75c5=document['createElement']('div');_0x2d75c5[_0x1c72e2(0x2d4)]=_0x1c72e2(0x26e),_0x2d75c5['innerHTML']=_0x1c72e2(0x23e)+String(_0x36ecf4)[_0x1c72e2(0x2b8)](0x2,'0')+':00',_0x2d75c5[_0x1c72e2(0x24c)]=()=>toggleRowPattern(_0x36ecf4),_0x447e3f[_0x1c72e2(0x1cf)](_0x2d75c5);for(let _0xb226df=0x0;_0xb226df<0x7;_0xb226df++){const _0x59e025=document[_0x1c72e2(0x215)]('div'),_0x1b1c2e=(availabilityPattern[_0xb226df]||[])[_0x1c72e2(0x236)](_0x36ecf4),_0x15d481=!_0x1b1c2e;_0x59e025[_0x1c72e2(0x2d4)]=_0x1c72e2(0x239)+(_0x15d481?_0x1c72e2(0x222):''),_0x59e025[_0x1c72e2(0x24c)]=()=>toggleSinglePattern(_0xb226df,_0x36ecf4),_0x447e3f[_0x1c72e2(0x1cf)](_0x59e025);}}}function toggleSinglePattern(_0x59d1ad,_0x5dcfa8){const _0x4c7959=a2_0x5c052b;if(!availabilityPattern[_0x59d1ad])availabilityPattern[_0x59d1ad]=[];const _0x546180=availabilityPattern[_0x59d1ad],_0x557503=_0x546180['indexOf'](_0x5dcfa8);_0x557503===-0x1?_0x546180[_0x4c7959(0x300)](_0x5dcfa8):_0x546180['splice'](_0x557503,0x1),renderPatternEditor();}function toggleColPattern(_0x18c45a){const _0x31ab35=a2_0x5c052b;if(!availabilityPattern[_0x18c45a])availabilityPattern[_0x18c45a]=[];const _0x2c730c=availabilityPattern[_0x18c45a];_0x2c730c[_0x31ab35(0x2d2)]===0x0?availabilityPattern[_0x18c45a]=Array[_0x31ab35(0x1cc)]({'length':0x18},(_0x260c4d,_0x2da52f)=>_0x2da52f):availabilityPattern[_0x18c45a]=[],renderPatternEditor();}function toggleRowPattern(_0x4792a2){const _0xcc675f=a2_0x5c052b;let _0x5c15a2=!![];for(let _0x428712=0x0;_0x428712<0x7;_0x428712++){if((availabilityPattern[_0x428712]||[])[_0xcc675f(0x236)](_0x4792a2)){_0x5c15a2=![];break;}}for(let _0x2fe835=0x0;_0x2fe835<0x7;_0x2fe835++){if(!availabilityPattern[_0x2fe835])availabilityPattern[_0x2fe835]=[];const _0x1c0998=availabilityPattern[_0x2fe835][_0xcc675f(0x2cd)](_0x4792a2);if(_0x5c15a2){if(_0x1c0998===-0x1)availabilityPattern[_0x2fe835][_0xcc675f(0x300)](_0x4792a2);}else{if(_0x1c0998!==-0x1)availabilityPattern[_0x2fe835]['splice'](_0x1c0998,0x1);}}renderPatternEditor();}function renderPCol(_0x4291d1,_0x168f15){const _0x4b6e2f=a2_0x5c052b;_0x4291d1[_0x4b6e2f(0x25c)]='';const _0x1cba4b=Math[_0x4b6e2f(0x2a8)](_0x4291d1[_0x4b6e2f(0x2f2)]);(availabilityPattern[_0x168f15]||[])[_0x4b6e2f(0x264)](_0x3dd5eb=>{const _0x2359c0=_0x4b6e2f,_0x17edf6=document[_0x2359c0(0x215)](_0x2359c0(0x258));_0x17edf6['className']='blocked-slot\x20stripe-bg';const _0x232d3b=_0x3dd5eb*GRID_H;_0x17edf6[_0x2359c0(0x1af)][_0x2359c0(0x2e2)]=_0x232d3b+'px',_0x17edf6[_0x2359c0(0x1af)][_0x2359c0(0x183)]='-'+_0x1cba4b+_0x2359c0(0x2eb)+_0x232d3b+'px',_0x17edf6[_0x2359c0(0x24c)]=_0x920402=>{const _0x50728b=_0x2359c0;_0x920402[_0x50728b(0x2dd)](),toggleSinglePattern(_0x168f15,_0x3dd5eb);},_0x4291d1[_0x2359c0(0x1cf)](_0x17edf6);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x14cd73=a2_0x5c052b,_0x434680=new Date(),_0x7e388f=document[_0x14cd73(0x298)](_0x14cd73(0x1c3)),_0x3cb50a=document[_0x14cd73(0x298)]('timeLineBadge'),_0x1fc0f2=(_0x434680[_0x14cd73(0x19b)]()*0x3c+_0x434680['getMinutes']())/0x3c*GRID_H;_0x7e388f['style']['top']=_0x1fc0f2+'px',_0x7e388f[_0x14cd73(0x1af)][_0x14cd73(0x237)]=_0x14cd73(0x2c6),_0x3cb50a[_0x14cd73(0x294)]=String(_0x434680[_0x14cd73(0x19b)]())[_0x14cd73(0x2b8)](0x2,'0')+':'+String(_0x434680[_0x14cd73(0x227)]())[_0x14cd73(0x2b8)](0x2,'0'),_0x3cb50a[_0x14cd73(0x1af)][_0x14cd73(0x237)]='block',_0x3cb50a[_0x14cd73(0x1af)][_0x14cd73(0x2e2)]=_0x1fc0f2+'px';}document[a2_0x5c052b(0x1f8)](a2_0x5c052b(0x1ea),init);function openDayOptions(_0x1d4699){const _0x4a98fe=a2_0x5c052b;selectedDayForOptions=_0x1d4699;const _0x4a0f68=new Date(_0x1d4699),_0x5c3f8f={'weekday':_0x4a98fe(0x2b3),'day':_0x4a98fe(0x245),'month':_0x4a98fe(0x2b3),'year':_0x4a98fe(0x245)},_0x2d0838=_0x4a0f68[_0x4a98fe(0x19d)](_0x4a98fe(0x1c8),_0x5c3f8f);document[_0x4a98fe(0x298)]('doDateHeader')[_0x4a98fe(0x294)]=_0x2d0838[_0x4a98fe(0x256)](0x0)[_0x4a98fe(0x244)]()+_0x2d0838[_0x4a98fe(0x1c0)](0x1);let _0x1189ec=_0x4a0f68[_0x4a98fe(0x2f5)]()-0x1;if(_0x1189ec===-0x1)_0x1189ec=0x6;const _0x354f8d=availabilityPattern[_0x1189ec]||[],_0x31bd01=0x18-_0x354f8d[_0x4a98fe(0x2d2)],_0x2a761c=_0x31bd01*0x3c,_0x1415c6=sessions[_0x4a98fe(0x214)](_0xe8ac40=>_0xe8ac40[_0x4a98fe(0x1b2)]===_0x1d4699&&_0xe8ac40[_0x4a98fe(0x1e4)]!==_0x4a98fe(0x1f6));let _0x321409=_0x1415c6[_0x4a98fe(0x208)](_0x597876=>{const _0x582dc7=_0x4a98fe,[_0x19046b,_0x23c8ad]=_0x597876[_0x582dc7(0x1c2)]['split'](':')['map'](Number),[_0x43444f,_0x3d1e43]=_0x597876[_0x582dc7(0x1a3)][_0x582dc7(0x235)](':')['map'](Number);return[_0x19046b*0x3c+_0x23c8ad,_0x43444f*0x3c+_0x3d1e43];});_0x321409['sort']((_0x43c308,_0x14be3f)=>_0x43c308[0x0]-_0x14be3f[0x0]);let _0x1afa6c=[];if(_0x321409['length']>0x0){let _0x371c12=_0x321409[0x0];for(let _0x15bf86=0x1;_0x15bf86<_0x321409[_0x4a98fe(0x2d2)];_0x15bf86++){_0x321409[_0x15bf86][0x0]<_0x371c12[0x1]?_0x371c12[0x1]=Math['max'](_0x371c12[0x1],_0x321409[_0x15bf86][0x1]):(_0x1afa6c[_0x4a98fe(0x300)](_0x371c12),_0x371c12=_0x321409[_0x15bf86]);}_0x1afa6c[_0x4a98fe(0x300)](_0x371c12);}let _0x288f8c=0x0;_0x1afa6c[_0x4a98fe(0x264)](_0x1686b9=>_0x288f8c+=_0x1686b9[0x1]-_0x1686b9[0x0]),document[_0x4a98fe(0x298)](_0x4a98fe(0x2b4))[_0x4a98fe(0x294)]=formatMinsToHrs(_0x2a761c),document['getElementById']('doBusyHours')[_0x4a98fe(0x294)]=formatMinsToHrs(_0x288f8c);const _0x40ff49=_0x2a761c>0x0?Math['round'](_0x288f8c/_0x2a761c*0x64):0x0,_0x27d75a=document[_0x4a98fe(0x298)](_0x4a98fe(0x2be));_0x27d75a['textContent']=_0x40ff49+'%';const _0x40e323=document[_0x4a98fe(0x298)](_0x4a98fe(0x2c3));if(_0x40ff49>0x64)_0x27d75a[_0x4a98fe(0x1af)][_0x4a98fe(0x1b0)]='var(--acc-red)',_0x40e323[_0x4a98fe(0x1af)]['borderColor']='rgba(255,\x2069,\x2058,\x200.3)';else _0x40ff49>0x50?(_0x27d75a[_0x4a98fe(0x1af)]['color']='var(--acc-orange)',_0x40e323[_0x4a98fe(0x1af)]['borderColor']=_0x4a98fe(0x267)):(_0x27d75a['style'][_0x4a98fe(0x1b0)]=_0x4a98fe(0x213),_0x40e323['style'][_0x4a98fe(0x26a)]=_0x4a98fe(0x2ac));const _0x1a02b5=document[_0x4a98fe(0x298)](_0x4a98fe(0x1f3));_0x1a02b5[_0x4a98fe(0x25c)]='';_0x1415c6['length']===0x0?_0x1a02b5[_0x4a98fe(0x25c)]='<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>':(_0x1415c6['sort']((_0x2f17bc,_0xae251c)=>_0x2f17bc[_0x4a98fe(0x1c2)]['localeCompare'](_0xae251c[_0x4a98fe(0x1c2)])),_0x1415c6[_0x4a98fe(0x264)](_0x39e2e0=>{const _0x2a130f=_0x4a98fe,_0x1beba8=clients[_0x2a130f(0x1ff)](_0x4135b1=>_0x4135b1[_0x2a130f(0x257)]===_0x39e2e0[_0x2a130f(0x24d)]),_0x34a7d5=_0x1beba8?_0x1beba8[_0x2a130f(0x1b0)]:_0x2a130f(0x2e6),_0x1b4832=_0x39e2e0[_0x2a130f(0x1e4)]===_0x2a130f(0x2a6),_0x1d492d=_0x1b4832?_0x2a130f(0x232):'',_0x53b55b=document[_0x2a130f(0x215)](_0x2a130f(0x258));_0x53b55b[_0x2a130f(0x2d4)]=_0x2a130f(0x1e2),_0x53b55b[_0x2a130f(0x1af)]['borderLeftColor']=_0x34a7d5,_0x53b55b[_0x2a130f(0x25c)]=_0x2a130f(0x248)+_0x39e2e0[_0x2a130f(0x1c2)]+'\x20-\x20'+_0x39e2e0[_0x2a130f(0x1a3)]+_0x2a130f(0x199)+_0x39e2e0[_0x2a130f(0x24d)]+_0x2a130f(0x283)+_0x1d492d+_0x2a130f(0x22d),_0x1a02b5[_0x2a130f(0x1cf)](_0x53b55b);}));const _0x1b534d=document[_0x4a98fe(0x298)]('btnDayToggle'),_0x134638=dateExceptions[_0x1d4699]===_0x4a98fe(0x229);_0x134638?(_0x1b534d[_0x4a98fe(0x294)]=_0x4a98fe(0x1f2),_0x1b534d[_0x4a98fe(0x2d4)]=_0x4a98fe(0x1d0),_0x1b534d[_0x4a98fe(0x1af)]['color']=_0x4a98fe(0x213),_0x1b534d['style'][_0x4a98fe(0x2e1)]=_0x4a98fe(0x2c8)):(_0x1b534d['textContent']=_0x4a98fe(0x1ae),_0x1b534d[_0x4a98fe(0x2d4)]=_0x4a98fe(0x193),_0x1b534d[_0x4a98fe(0x1af)][_0x4a98fe(0x1b0)]=_0x4a98fe(0x2db),_0x1b534d[_0x4a98fe(0x1af)][_0x4a98fe(0x2e1)]=_0x4a98fe(0x23f)),openSheet(_0x4a98fe(0x195));}let currentAnPeriod=a2_0x5c052b(0x281);function openAnalytics(){const _0x380491=a2_0x5c052b,_0x7bc270=document[_0x380491(0x22a)]('.period-switch\x20.p-btn');setAnalyticsPeriod(_0x380491(0x281),_0x7bc270),closeAllSheets(),openSheet(_0x380491(0x1c1));}function setAnalyticsPeriod(_0x26008e,_0x8eef6f){const _0x326433=a2_0x5c052b;currentAnPeriod=_0x26008e,document[_0x326433(0x1e8)](_0x326433(0x1d9))[_0x326433(0x264)](_0x345efa=>_0x345efa[_0x326433(0x211)][_0x326433(0x2fc)](_0x326433(0x222)));if(_0x8eef6f)_0x8eef6f[_0x326433(0x211)]['add'](_0x326433(0x222));const _0x23aec0=document['getElementById'](_0x326433(0x269));_0x23aec0[_0x326433(0x1af)][_0x326433(0x237)]=_0x26008e===_0x326433(0x2de)?_0x326433(0x2fe):'none';const _0x3c44b2=new Date();let _0x15e3bd=new Date(),_0x21cd3d=new Date();if(_0x26008e==='week')_0x15e3bd=getStartOfWeek(_0x3c44b2),_0x21cd3d=new Date(_0x15e3bd),_0x21cd3d[_0x326433(0x255)](_0x21cd3d[_0x326433(0x1ab)]()+0x6);else{if(_0x26008e===_0x326433(0x249))_0x15e3bd=new Date(_0x3c44b2['getFullYear'](),_0x3c44b2['getMonth'](),0x1),_0x21cd3d=new Date(_0x3c44b2[_0x326433(0x2a2)](),_0x3c44b2['getMonth']()+0x1,0x0);else{!document[_0x326433(0x298)](_0x326433(0x223))[_0x326433(0x2bc)]&&(document[_0x326433(0x298)](_0x326433(0x223))[_0x326433(0x2bc)]=getLocalDateStr(_0x3c44b2),document[_0x326433(0x298)]('anEnd')[_0x326433(0x2bc)]=getLocalDateStr(_0x3c44b2));refreshAnalytics();return;}}document[_0x326433(0x298)]('anStart')[_0x326433(0x2bc)]=getLocalDateStr(_0x15e3bd),document[_0x326433(0x298)]('anEnd')[_0x326433(0x2bc)]=getLocalDateStr(_0x21cd3d),refreshAnalytics();}function refreshAnalytics(){const _0x53207d=a2_0x5c052b,_0x3030fb=document[_0x53207d(0x298)]('anStart')[_0x53207d(0x2bc)],_0x5102b3=document['getElementById']('anEnd')['value'];if(!_0x3030fb||!_0x5102b3)return;const _0x21a092=sessions[_0x53207d(0x214)](_0x466f1e=>_0x466f1e['dateStr']>=_0x3030fb&&_0x466f1e[_0x53207d(0x1b2)]<=_0x5102b3&&_0x466f1e['status']!=='cancelled'),_0xdb9492=_0x21a092['length'],_0x205344=_0x21a092['filter'](_0x57bc66=>_0x57bc66['status']==='completed')[_0x53207d(0x2d2)],_0x10a967=_0xdb9492>0x0?Math[_0x53207d(0x2a8)](_0x205344/_0xdb9492*0x64):0x0;document[_0x53207d(0x298)]('anPercent')[_0x53207d(0x294)]=_0x10a967+'%',document[_0x53207d(0x298)](_0x53207d(0x266))[_0x53207d(0x294)]=_0x205344+_0x53207d(0x1ac)+_0xdb9492+_0x53207d(0x1d5);const _0x42517b=document['getElementById'](_0x53207d(0x293)),_0x54f187=0x2*Math['PI']*0x23,_0x3af4f1=_0x54f187-_0x10a967/0x64*_0x54f187;_0x42517b[_0x53207d(0x1af)]['strokeDashoffset']=_0x3af4f1;const _0x394e7b={};_0x21a092[_0x53207d(0x264)](_0x4b8c52=>{const _0x313f9c=_0x53207d;if(!_0x394e7b[_0x4b8c52[_0x313f9c(0x24d)]]){const _0x277767=clients[_0x313f9c(0x1ff)](_0x1d6a56=>_0x1d6a56[_0x313f9c(0x257)]===_0x4b8c52[_0x313f9c(0x24d)]);_0x394e7b[_0x4b8c52[_0x313f9c(0x24d)]]={'total':0x0,'done':0x0,'color':_0x277767?_0x277767['color']:_0x313f9c(0x2e6)};}_0x394e7b[_0x4b8c52['client']][_0x313f9c(0x1c9)]++;if(_0x4b8c52[_0x313f9c(0x1e4)]==='completed')_0x394e7b[_0x4b8c52['client']][_0x313f9c(0x1fa)]++;});const _0x3edea2=document[_0x53207d(0x298)](_0x53207d(0x27e));_0x3edea2[_0x53207d(0x25c)]='';const _0xdad151=Object[_0x53207d(0x184)](_0x394e7b)['sort']((_0x262a01,_0x302081)=>_0x302081[0x1][_0x53207d(0x1c9)]-_0x262a01[0x1][_0x53207d(0x1c9)]);if(_0xdad151[_0x53207d(0x2d2)]===0x0){_0x3edea2[_0x53207d(0x25c)]='<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>';return;}_0xdad151[_0x53207d(0x264)](([_0x295d2b,_0x57aec2])=>{const _0x2332bb=_0x53207d,_0x3db716=Math[_0x2332bb(0x2a8)](_0x57aec2[_0x2332bb(0x1fa)]/_0x57aec2[_0x2332bb(0x1c9)]*0x64),_0x1c2b4a=document[_0x2332bb(0x215)](_0x2332bb(0x258));_0x1c2b4a[_0x2332bb(0x2d4)]='client-stat-card',_0x1c2b4a[_0x2332bb(0x1af)][_0x2332bb(0x2bf)]=_0x57aec2[_0x2332bb(0x1b0)],_0x1c2b4a[_0x2332bb(0x25c)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>'+_0x295d2b+_0x2332bb(0x2c1)+_0x57aec2['done']+_0x2332bb(0x2ec)+_0x57aec2[_0x2332bb(0x1c9)]+_0x2332bb(0x2b5)+_0x3db716+_0x2332bb(0x240),_0x3edea2[_0x2332bb(0x1cf)](_0x1c2b4a);});}function formatMinsToHrs(_0x3019c9){const _0x3723a3=a2_0x5c052b;if(_0x3019c9===0x0)return'0';const _0x4b0d57=Math[_0x3723a3(0x23c)](_0x3019c9/0x3c),_0x421020=_0x3019c9%0x3c;if(_0x421020===0x0)return _0x4b0d57+'—á';return _0x4b0d57+'—á\x20'+_0x421020+'–º';}