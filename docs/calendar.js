const a2_0x37ea1d=a2_0x4b58;(function(_0xfcb5fb,_0x3bdc77){const _0x2ba556=a2_0x4b58,_0x5ee3a7=_0xfcb5fb();while(!![]){try{const _0x23854a=parseInt(_0x2ba556(0x247))/0x1*(parseInt(_0x2ba556(0x23c))/0x2)+parseInt(_0x2ba556(0x1dd))/0x3+-parseInt(_0x2ba556(0x196))/0x4+parseInt(_0x2ba556(0x235))/0x5+parseInt(_0x2ba556(0x23e))/0x6*(parseInt(_0x2ba556(0x1e6))/0x7)+parseInt(_0x2ba556(0x125))/0x8*(-parseInt(_0x2ba556(0x206))/0x9)+-parseInt(_0x2ba556(0x113))/0xa*(parseInt(_0x2ba556(0x1a9))/0xb);if(_0x23854a===_0x3bdc77)break;else _0x5ee3a7['push'](_0x5ee3a7['shift']());}catch(_0x11453a){_0x5ee3a7['push'](_0x5ee3a7['shift']());}}}(a2_0x2b4d,0x26ccb),function initTMA(){const _0x1d9c4b=a2_0x4b58;try{const _0x49021e=window[_0x1d9c4b(0x11e)]?.[_0x1d9c4b(0x1df)];if(!_0x49021e)return;_0x49021e[_0x1d9c4b(0x11a)](),_0x49021e[_0x1d9c4b(0x134)]();try{_0x49021e[_0x1d9c4b(0x1e5)](_0x1d9c4b(0x229)),_0x49021e['setBackgroundColor']&&_0x49021e[_0x1d9c4b(0x242)](_0x1d9c4b(0x229));}catch(_0x5e3f07){console[_0x1d9c4b(0xc1)]('Error\x20setting\x20color:',_0x5e3f07);}try{_0x49021e[_0x1d9c4b(0x199)]&&(_0x49021e[_0x1d9c4b(0x199)]['show'](),_0x49021e['BackButton']['offClick'](),_0x49021e[_0x1d9c4b(0x199)][_0x1d9c4b(0x15c)](function(){const _0x40fde3=_0x1d9c4b;window[_0x40fde3(0x23b)]['href']=_0x40fde3(0x132);}));}catch(_0x535c06){console[_0x1d9c4b(0xc1)]('Error\x20setting\x20back\x20button:',_0x535c06);}try{if(_0x49021e[_0x1d9c4b(0x231)])_0x49021e[_0x1d9c4b(0x231)]();}catch(_0x3db7cc){}}catch(_0x345b59){console[_0x1d9c4b(0x145)](_0x1d9c4b(0x189),_0x345b59);}}());function isAdmin(){const _0x464de2=a2_0x4b58;try{const _0x4781ef=Number(window[_0x464de2(0x11e)]?.[_0x464de2(0x1df)]?.['initDataUnsafe']?.[_0x464de2(0xc8)]?.['id']);return _0x4781ef===0xbaf7174;}catch(_0x5230f9){return![];}}const APP_VERSION=a2_0x37ea1d(0x124),API_URL=a2_0x37ea1d(0xd3),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x37ea1d(0x1b1),KEY_SESSIONS=a2_0x37ea1d(0x12a),KEY_SETTINGS=a2_0x37ea1d(0x221);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x47a2e2=a2_0x37ea1d;return window[_0x47a2e2(0x11e)]?.[_0x47a2e2(0x1df)]?.[_0x47a2e2(0xdf)]?.['user']?.['id']||_0x47a2e2(0x14b);},'saveLocally'(){const _0x27b7cb=a2_0x37ea1d;try{localStorage[_0x27b7cb(0x18e)](KEY_CLIENTS,JSON[_0x27b7cb(0x230)](clients)),localStorage[_0x27b7cb(0x18e)](KEY_SESSIONS,JSON['stringify'](sessions)),localStorage[_0x27b7cb(0x18e)](KEY_SETTINGS,JSON[_0x27b7cb(0x230)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x48a886){console[_0x27b7cb(0x145)](_0x27b7cb(0x1b9),_0x48a886);}},'loadLocal'(){const _0x13b85d=a2_0x37ea1d;try{const _0x38f4f6=localStorage['getItem'](KEY_CLIENTS);if(_0x38f4f6)clients=JSON['parse'](_0x38f4f6);const _0x556c77=localStorage['getItem'](KEY_SESSIONS);if(_0x556c77)sessions=JSON['parse'](_0x556c77);const _0x3a0ac8=localStorage[_0x13b85d(0x238)](KEY_SETTINGS);if(_0x3a0ac8){const _0x4d9ed1=JSON[_0x13b85d(0x1ba)](_0x3a0ac8);if(_0x4d9ed1[_0x13b85d(0x15b)])availabilityPattern=_0x4d9ed1[_0x13b85d(0x15b)];if(_0x4d9ed1['exceptions'])dateExceptions=_0x4d9ed1['exceptions'];if(_0x4d9ed1['ranges'])specialRanges=_0x4d9ed1[_0x13b85d(0x1ee)];}else{for(let _0x1402e5=0x0;_0x1402e5<0x7;_0x1402e5++)availabilityPattern[_0x1402e5]=Array['from']({'length':0xc},(_0x25925c,_0x54d0ec)=>_0x54d0ec+0x9);}}catch(_0x4c62d9){console[_0x13b85d(0x145)](_0x13b85d(0x225),_0x4c62d9);}},async 'fetchFromServer'(_0x542ae7,_0x289fe3={}){const _0x3f1fc2=a2_0x37ea1d,_0x446f22=window[_0x3f1fc2(0x11e)]?.[_0x3f1fc2(0x1df)],_0x1a72a2={'action':_0x542ae7,'init_data':_0x446f22?.[_0x3f1fc2(0x1c9)]||'',..._0x289fe3};try{const _0x51cfa7=await fetch(API_URL,{'method':_0x3f1fc2(0x169),'headers':{'Content-Type':_0x3f1fc2(0x1a7)},'body':JSON[_0x3f1fc2(0x230)](_0x1a72a2)}),_0x18de3e=await _0x51cfa7[_0x3f1fc2(0x17a)]();if(!_0x18de3e['ok'])throw new Error(_0x18de3e[_0x3f1fc2(0x145)]||_0x3f1fc2(0x239));return _0x18de3e[_0x3f1fc2(0x1cf)];}catch(_0x4719dc){console[_0x3f1fc2(0x145)]('[API\x20'+_0x542ae7+_0x3f1fc2(0x13d),_0x4719dc);throw _0x4719dc;}},async 'syncLoad'(){const _0x369869=a2_0x37ea1d,_0x3d3a2f=new Date(),_0x17fde5=_0x3d3a2f[_0x369869(0x13a)]()+'-'+String(_0x3d3a2f['getMonth']()+0x1)[_0x369869(0x1f4)](0x2,'0'),_0xc80b86=new Date(_0x3d3a2f);_0xc80b86[_0x369869(0x158)](_0x3d3a2f[_0x369869(0x20f)]()+0x1);const _0x206c3e=_0xc80b86[_0x369869(0x13a)]()+'-'+String(_0xc80b86[_0x369869(0x20f)]()+0x1)[_0x369869(0x1f4)](0x2,'0'),_0x534c0f=Date[_0x369869(0x205)]();console['log'](_0x369869(0x143)+_0x17fde5+',\x20'+_0x206c3e+_0x369869(0x13f));try{const [_0x2c60c8,_0x3f2ad0]=await Promise[_0x369869(0x19b)]([this['fetchFromServer'](_0x369869(0x217),{'month_str':_0x17fde5}),this[_0x369869(0x1bb)]('init_load',{'month_str':_0x206c3e})]);if(lastUserActionTime>_0x534c0f)return console[_0x369869(0xe5)](_0x369869(0xd8)),![];return this[_0x369869(0x116)](_0x2c60c8,_0x17fde5),this[_0x369869(0x116)](_0x3f2ad0,_0x206c3e),this[_0x369869(0xd4)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x182790){console['error'](_0x182790);throw _0x182790;}},'mergeServerData'(_0x2a5961,_0x4e01d9){const _0x450876=a2_0x37ea1d;if(!_0x2a5961)return;_0x2a5961[_0x450876(0x21f)]&&Array[_0x450876(0x1cb)](_0x2a5961['clients'])&&(clients=_0x2a5961['clients']);if(_0x2a5961[_0x450876(0x215)]){if(_0x2a5961[_0x450876(0x215)][_0x450876(0x15b)])availabilityPattern=_0x2a5961['settings'][_0x450876(0x15b)];if(_0x2a5961[_0x450876(0x215)][_0x450876(0x1f1)])dateExceptions=_0x2a5961[_0x450876(0x215)][_0x450876(0x1f1)];if(_0x2a5961[_0x450876(0x215)][_0x450876(0x1ee)])specialRanges=_0x2a5961['settings']['ranges'];if(_0x2a5961['settings'][_0x450876(0x18b)]){localStorage[_0x450876(0x18e)]('uc_settings_cancel_window',_0x2a5961[_0x450876(0x215)][_0x450876(0x18b)]);const _0x413862=document[_0x450876(0x1e0)](_0x450876(0x1f6));if(_0x413862)_0x413862[_0x450876(0x244)]=_0x2a5961['settings'][_0x450876(0x18b)];}}_0x2a5961[_0x450876(0x1ca)]&&(sessions=sessions['filter'](_0x47f0d9=>!_0x47f0d9[_0x450876(0x23f)][_0x450876(0x10c)](_0x4e01d9)),Object[_0x450876(0x1c2)](_0x2a5961[_0x450876(0x1ca)])['forEach'](_0x1d8856=>{const _0x1d7546=_0x450876,_0x243683=_0x2a5961['calendar'][_0x1d8856];_0x243683[_0x1d7546(0x106)](_0x294e74=>{const _0x1bd250=_0x1d7546,_0x3f499b=clients[_0x1bd250(0x107)](_0x399eef=>String(_0x399eef['id'])===String(_0x294e74['c']));sessions[_0x1bd250(0x1de)]({'id':_0x294e74['i'],'clientId':_0x294e74['c'],'client':_0x3f499b?_0x3f499b['name']:_0x1bd250(0x209),'dateStr':_0x4e01d9+'-'+_0x1d8856[_0x1bd250(0x1f4)](0x2,'0'),'start':_0x294e74['s'],'end':_0x294e74['e'],'status':_0x294e74['st']||_0x1bd250(0xf2),'note':_0x294e74['n']||'','seriesId':_0x294e74['sid']||null});});}));},async 'syncBatch'(_0x1a8d15){const _0x118ee4=a2_0x37ea1d,_0xd7a6b1=[...new Set(_0x1a8d15)],_0x52924c=_0xd7a6b1[_0x118ee4(0x104)](_0x5a7599=>{const _0x58634f=_0x118ee4,_0x488159=sessions['filter'](_0x5b1da2=>_0x5b1da2[_0x58634f(0x23f)]===_0x5a7599&&_0x5b1da2['status']!==_0x58634f(0x185)),_0x2f4199=_0x488159[_0x58634f(0x104)](_0x154117=>({'i':_0x154117['id'],'c':_0x154117[_0x58634f(0x18a)],'s':_0x154117[_0x58634f(0x18d)],'e':_0x154117[_0x58634f(0x1af)],'st':_0x154117[_0x58634f(0x1bf)],'n':_0x154117['note'],'sid':_0x154117[_0x58634f(0x1ce)]}));return{'date':_0x5a7599,'day_data':_0x2f4199};});if(_0x52924c[_0x118ee4(0x232)]===0x0)return;console[_0x118ee4(0xc1)](_0x118ee4(0x240)+_0x52924c['length']+'\x20days'),await this[_0x118ee4(0x1bb)]('batch_sync',{'changes':_0x52924c});}};async function init(){const _0x350765=a2_0x37ea1d;DataManager[_0x350765(0x168)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x350765(0x1e0)](_0x350765(0x191))[_0x350765(0x12d)](_0x350765(0x119),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x350765(0xe7)]()['then'](()=>{const _0x2806dc=_0x350765;showToast(_0x2806dc(0x226),!![]);})[_0x350765(0x19c)](_0x4d7c56=>{const _0x3dabeb=_0x350765;showToast(_0x3dabeb(0x186),![]);});}function generateId(){const _0x2edc73=a2_0x37ea1d;return Date['now']()['toString'](0x24)+Math[_0x2edc73(0xe1)]()[_0x2edc73(0xe2)](0x24)[_0x2edc73(0xd7)](0x2,0x5);}function toggleSeriesInput(){const _0x46792e=a2_0x37ea1d,_0x20e9be=document['getElementById'](_0x46792e(0x179))[_0x46792e(0xff)],_0x287585=document[_0x46792e(0x1e0)]('seriesCountContainer');_0x287585[_0x46792e(0x1c3)][_0x46792e(0x13c)]=_0x20e9be?_0x46792e(0xfc):_0x46792e(0x21d);const _0x5e8270=document[_0x46792e(0x1e0)](_0x46792e(0xf0));_0x5e8270[_0x46792e(0x1c3)][_0x46792e(0x1ab)]=_0x20e9be?'10px\x2010px\x200\x200':_0x46792e(0x204);}function openAddSession(_0x357603){const _0x1d095f=a2_0x37ea1d;editingId=null,populateClientSelect(),document[_0x1d095f(0x1e0)](_0x1d095f(0x115))[_0x1d095f(0x138)]=_0x1d095f(0x1d4),document[_0x1d095f(0x1e0)](_0x1d095f(0x150))[_0x1d095f(0x1c3)]['display']='none',document[_0x1d095f(0x1e0)](_0x1d095f(0xd0))[_0x1d095f(0x1c3)][_0x1d095f(0x13c)]='none';const _0x5b5702=document[_0x1d095f(0x1e0)](_0x1d095f(0xf0)),_0x30466e=document[_0x1d095f(0x1e0)](_0x1d095f(0xdd));_0x5b5702[_0x1d095f(0x1c3)][_0x1d095f(0x13c)]=_0x1d095f(0x195),_0x5b5702['style'][_0x1d095f(0x1ab)]=_0x1d095f(0x204),document[_0x1d095f(0x1e0)](_0x1d095f(0x179))[_0x1d095f(0xff)]=![],document[_0x1d095f(0x1e0)](_0x1d095f(0x140))['value']=0x4,_0x30466e[_0x1d095f(0x1c3)][_0x1d095f(0x13c)]='none',document[_0x1d095f(0x1e0)]('inpDate')[_0x1d095f(0x244)]=getLocalDateStr(_0x357603),updateDateDisplay();const _0x32fbd2=_0x357603[_0x1d095f(0x15d)]();document[_0x1d095f(0x1e0)](_0x1d095f(0x162))['value']=String(_0x32fbd2)[_0x1d095f(0x1f4)](0x2,'0')+_0x1d095f(0x12b),document[_0x1d095f(0x1e0)](_0x1d095f(0x1e2))[_0x1d095f(0x244)]=String(_0x32fbd2+0x1)[_0x1d095f(0x1f4)](0x2,'0')+':00',openSheet('sessionSheet');}function openEdit(_0x252c66){const _0x42b76f=a2_0x37ea1d;editingId=_0x252c66['id'],populateClientSelect(),document[_0x42b76f(0x1e0)](_0x42b76f(0x115))[_0x42b76f(0x138)]=_0x42b76f(0x1b2),document[_0x42b76f(0x1e0)]('btnDelete')[_0x42b76f(0x1c3)][_0x42b76f(0x13c)]=_0x42b76f(0xfc);const _0x3402a0=document[_0x42b76f(0x1e0)](_0x42b76f(0xd0));_0x3402a0[_0x42b76f(0x1c3)]['display']='flex';_0x252c66[_0x42b76f(0x1bf)]===_0x42b76f(0x223)?(_0x3402a0[_0x42b76f(0x1d7)]=_0x42b76f(0xe8),_0x3402a0['innerHTML']='–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ'):(_0x3402a0['className']=_0x42b76f(0x11c),_0x3402a0[_0x42b76f(0xdc)]=_0x42b76f(0x1f7));const _0x54a535=!!_0x252c66['seriesId'];document[_0x42b76f(0x1e0)](_0x42b76f(0xf0))['style'][_0x42b76f(0x13c)]=_0x42b76f(0x21d),document[_0x42b76f(0x1e0)](_0x42b76f(0xdd))['style']['display']=_0x42b76f(0x21d),_0x54a535?(document['getElementById'](_0x42b76f(0x1d6))[_0x42b76f(0x1c3)]['display']=_0x42b76f(0x195),document['getElementById']('patternInfoBox')[_0x42b76f(0x177)]('.pib-text')['textContent']=_0x42b76f(0x192)):document[_0x42b76f(0x1e0)](_0x42b76f(0x1d6))['style'][_0x42b76f(0x13c)]=_0x42b76f(0x21d),document[_0x42b76f(0x1e0)](_0x42b76f(0x152))['value']=_0x252c66['client'],document['getElementById']('inpDate')[_0x42b76f(0x244)]=_0x252c66[_0x42b76f(0x23f)],document[_0x42b76f(0x1e0)](_0x42b76f(0x162))[_0x42b76f(0x244)]=_0x252c66[_0x42b76f(0x18d)],document[_0x42b76f(0x1e0)](_0x42b76f(0x1e2))[_0x42b76f(0x244)]=_0x252c66['end'],document['getElementById'](_0x42b76f(0x212))[_0x42b76f(0x244)]=_0x252c66[_0x42b76f(0x110)]||'',updateDateDisplay(),openSheet('sessionSheet');}async function trySaveSession(){const _0x2232b6=a2_0x37ea1d,_0x13a621=document[_0x2232b6(0x1e0)]('inpClient')[_0x2232b6(0x244)],_0x15dc57=document[_0x2232b6(0x1e0)](_0x2232b6(0x181))['value'],_0x5ee4d1=document[_0x2232b6(0x1e0)]('inpStart')[_0x2232b6(0x244)],_0x11c683=document[_0x2232b6(0x1e0)]('inpEnd')[_0x2232b6(0x244)],_0xcbc312=document[_0x2232b6(0x1e0)]('inpNote')['value'],_0x48cca=document[_0x2232b6(0x1e0)](_0x2232b6(0x179))[_0x2232b6(0xff)];let _0x1763ba=0x4;if(_0x48cca){const _0x2494f8=parseInt(document[_0x2232b6(0x1e0)](_0x2232b6(0x140))[_0x2232b6(0x244)]);if(!_0x2494f8||_0x2494f8<0x2){showToast(_0x2232b6(0x22f),![]);return;}if(_0x2494f8>0x64){showToast(_0x2232b6(0x1e9),![]);return;}_0x1763ba=_0x2494f8;}const _0x245117=clients['find'](_0x52676c=>_0x52676c[_0x2232b6(0x153)]===_0x13a621);if(!_0x245117){showToast(_0x2232b6(0x1b4),![]);return;}const _0x1bc841=validateAppointment(_0x15dc57,_0x5ee4d1,_0x11c683,editingId,_0x245117['id']);if(!_0x1bc841[_0x2232b6(0x198)]){showToast(_0x1bc841[_0x2232b6(0x1ad)],![]);return;}_0x1bc841[_0x2232b6(0x11f)]&&showToast(_0x1bc841['warning'],![]);const _0x38eb0a={'client':_0x13a621,'clientId':_0x245117['id'],'start':_0x5ee4d1,'end':_0x11c683,'note':_0xcbc312,'status':_0x2232b6(0xf2)},_0x430f70=editingId?sessions['find'](_0x1fc023=>_0x1fc023['id']===editingId):null;if(_0x430f70&&_0x430f70[_0x2232b6(0x1ce)]){tempSessionData={..._0x38eb0a,'dateStr':_0x15dc57,'id':editingId,'seriesId':_0x430f70[_0x2232b6(0x1ce)]},openActionSheet(_0x2232b6(0x233));return;}let _0x2b9995=null;if(!editingId)_0x2b9995=_0x2232b6(0x248);else{if(_0x430f70){if(String(_0x430f70[_0x2232b6(0x18a)])!==String(_0x245117['id']))console['log']('[Notify]\x20Client\x20SWAP\x20detected'),NotificationManager[_0x2232b6(0x131)]('cancel',_0x430f70),_0x2b9995=_0x2232b6(0x248);else(_0x430f70[_0x2232b6(0x18d)]!==_0x5ee4d1||_0x430f70['end']!==_0x11c683||_0x430f70[_0x2232b6(0x23f)]!==_0x15dc57)&&(_0x2b9995=_0x2232b6(0xee));}}if(!editingId&&_0x48cca){createBatchSeries(_0x38eb0a,_0x15dc57,_0x1763ba),NotificationManager[_0x2232b6(0x131)](_0x2232b6(0x248),{..._0x38eb0a,'dateStr':_0x15dc57});return;}lastUserActionTime=Date[_0x2232b6(0x205)]();const _0x135b62={..._0x38eb0a,'dateStr':_0x15dc57,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x135b62),_0x2b9995&&NotificationManager[_0x2232b6(0x131)](_0x2b9995,_0x135b62);}function toggleSessionStatus(){const _0x3abed9=a2_0x37ea1d;lastUserActionTime=Date[_0x3abed9(0x205)]();const _0x55937c=sessions[_0x3abed9(0x107)](_0x362c3f=>_0x362c3f['id']===editingId);if(!_0x55937c)return;const _0x9fc93c=_0x55937c[_0x3abed9(0x1bf)]===_0x3abed9(0x223)?'planned':_0x3abed9(0x223);_0x55937c['status']=_0x9fc93c,saveSingleSession(_0x55937c),_0x9fc93c===_0x3abed9(0x223)&&NotificationManager[_0x3abed9(0x131)](_0x3abed9(0x1c8),_0x55937c),showToast(_0x9fc93c===_0x3abed9(0x223)?'–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞':_0x3abed9(0x1a6),!![]);}function validateAppointment(_0xe3d04b,_0x28528f,_0x5a90c7,_0x139c25,_0x57ec06){const _0x1aa9d9=a2_0x37ea1d,[_0xcf5e2d,_0x3d1516]=_0x28528f[_0x1aa9d9(0xca)](':')[_0x1aa9d9(0x104)](Number),[_0x36f7a6,_0x559680]=_0x5a90c7[_0x1aa9d9(0xca)](':')[_0x1aa9d9(0x104)](Number),_0x209967=_0xcf5e2d*0x3c+_0x3d1516,_0x22c888=_0x36f7a6*0x3c+_0x559680,_0x3557a7=String(_0x57ec06);let _0x534d9e=![],_0x1dca1b='';for(let _0x120177 of sessions){if(_0x120177[_0x1aa9d9(0x23f)]!==_0xe3d04b)continue;if(_0x120177['status']===_0x1aa9d9(0x203))continue;if(_0x139c25&&String(_0x120177['id'])===String(_0x139c25))continue;const [_0x32c47e,_0x2a68a3]=_0x120177[_0x1aa9d9(0x18d)][_0x1aa9d9(0xca)](':')['map'](Number),[_0x5ad448,_0x2f46cd]=_0x120177[_0x1aa9d9(0x1af)]['split'](':')[_0x1aa9d9(0x104)](Number),_0x3f0dd1=_0x32c47e*0x3c+_0x2a68a3,_0x162fa6=_0x5ad448*0x3c+_0x2f46cd;if(Math[_0x1aa9d9(0x128)](_0x209967,_0x3f0dd1)<Math['min'](_0x22c888,_0x162fa6)){if(_0x120177[_0x1aa9d9(0x18a)]&&String(_0x120177[_0x1aa9d9(0x18a)])===_0x3557a7)return{'valid':![],'msg':_0x1aa9d9(0x129)+_0x120177[_0x1aa9d9(0xde)]+_0x1aa9d9(0x1bc)};_0x534d9e=!![],_0x1dca1b=_0x120177['client'];}}if(_0x534d9e)return{'valid':!![],'warning':_0x1aa9d9(0x137)+_0x1dca1b};return{'valid':!![]};}function saveSingleSession(_0x130a0a){const _0xc6a868=a2_0x37ea1d;if(editingId){const _0x3a1d40=sessions[_0xc6a868(0x1ec)](_0x4ad491=>_0x4ad491['id']===editingId);if(_0x3a1d40!==-0x1)sessions[_0x3a1d40]=_0x130a0a;}else sessions['push'](_0x130a0a);afterSaveAction([_0x130a0a['dateStr']]);}function createBatchSeries(_0x59f325,_0x4feb73,_0xd8ab28){const _0x7e63f1=a2_0x37ea1d,_0x2d9450=generateId(),_0xdbaa60=[],_0x19de4a=[];let _0x3b5ccd=0x0,_0x2fac43=new Date(_0x4feb73);for(let _0x625ccf=0x0;_0x625ccf<_0xd8ab28;_0x625ccf++){const _0x207718=getLocalDateStr(_0x2fac43),_0x1016f8=validateAppointment(_0x207718,_0x59f325[_0x7e63f1(0x18d)],_0x59f325[_0x7e63f1(0x1af)],null,_0x59f325['clientId']);if(!_0x1016f8[_0x7e63f1(0x198)])console[_0x7e63f1(0xc1)](_0x7e63f1(0x1a8)+_0x207718+_0x7e63f1(0x1da)),_0x3b5ccd++;else{const _0x291810={..._0x59f325,'id':generateId(),'dateStr':_0x207718,'seriesId':_0x2d9450};_0x19de4a['push'](_0x291810),_0xdbaa60[_0x7e63f1(0x1de)](_0x207718);}_0x2fac43['setDate'](_0x2fac43[_0x7e63f1(0xf1)]()+0x7);}if(_0x19de4a[_0x7e63f1(0x232)]===0x0){showToast(_0x7e63f1(0x1b3),![]);return;}sessions[_0x7e63f1(0x1de)](..._0x19de4a),lastUserActionTime=Date['now']();let _0x2294d6=_0x7e63f1(0x16d)+_0x19de4a[_0x7e63f1(0x232)];_0x3b5ccd>0x0&&(_0x2294d6+='\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20'+_0x3b5ccd+')'),showToast(_0x2294d6,!![]),afterSaveAction(_0xdbaa60);}function updateSeriesBatch(_0x5ae6a8,_0x35f66f){const _0x5a7f71=a2_0x37ea1d,_0x2979b8=[],_0x16042b=_0x35f66f[_0x5a7f71(0x1ce)];if(_0x5ae6a8==='single'){const _0x569fc0={..._0x35f66f,'seriesId':null},_0x4435b9=sessions[_0x5a7f71(0x1ec)](_0x3affc4=>_0x3affc4['id']===_0x35f66f['id']);if(_0x4435b9!==-0x1)sessions[_0x4435b9]=_0x569fc0;_0x2979b8[_0x5a7f71(0x1de)](_0x569fc0[_0x5a7f71(0x23f)]);}else{if(_0x5ae6a8===_0x5a7f71(0x16a)){const _0x15691a=_0x35f66f[_0x5a7f71(0x23f)];sessions[_0x5a7f71(0x106)]((_0x59a3fd,_0x138ba1)=>{const _0x33ccbc=_0x5a7f71;_0x59a3fd[_0x33ccbc(0x1ce)]===_0x16042b&&_0x59a3fd['dateStr']>=_0x15691a&&(sessions[_0x138ba1]={...sessions[_0x138ba1],'start':_0x35f66f[_0x33ccbc(0x18d)],'end':_0x35f66f['end'],'note':_0x35f66f[_0x33ccbc(0x110)],'client':_0x35f66f[_0x33ccbc(0xde)],'clientId':_0x35f66f[_0x33ccbc(0x18a)]},_0x2979b8[_0x33ccbc(0x1de)](_0x59a3fd[_0x33ccbc(0x23f)]));});}}afterSaveAction(_0x2979b8);}function tryDeleteSession(){const _0x1587a4=a2_0x37ea1d,_0x2e95f4=sessions[_0x1587a4(0x107)](_0x469125=>_0x469125['id']===editingId);if(!_0x2e95f4)return;_0x2e95f4['seriesId']?openActionSheet(_0x1587a4(0x1e8)):commitDelete(_0x1587a4(0x1dc),_0x2e95f4);}function a2_0x2b4d(){const _0x560dd3=['clientId','cancel_window','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','start','setItem','anPercent','day-col-header\x20','matrixViewport','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','colIndex','flex','456492KLbDEG','custom','valid','BackButton','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','all','catch','</div>','filter','includes','px\x200px','remove','backgroundPosition','<span>','toast-notification\x20','clientY','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','text/plain;charset=UTF-8','[Series]\x20Skipped\x20','25157ZuuAzU','color','borderRadius','pe-time-label','msg','calc(','end','100%','uc_clients_v9','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','–ò–Ω—Ñ–æ','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','borderLeftColor','rgba(100,100,100,0.5)','Local\x20Save\x20Error','parse','fetchFromServer',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','DOMContentLoaded','doLoadPercent','status','borderColor','<b>‚úÖ\x20','keys','style','getMinutes','var(--acc-orange)','getDay','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','complete','initData','calendar','isArray','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','analyticsList','seriesId','data','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','rangeStartDate','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','patternInfoBox','className','\x20status-completed','toast',':\x20Client\x20already\x20booked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','single','241623QIVGZg','push','WebApp','getElementById','touchend','inpEnd','firstChild','(((.+)+)+)+$','setHeaderColor','880173tdSvqB','createDocumentFragment','delete','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','time-label','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','findIndex','range-item','ranges','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','globalTimeLine','exceptions','actionSheetOverlay','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','padStart','blocked-range-part\x20stripe-bg','settingCancelWindow','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','clientWidth','div','total','btnDayToggle','doEventsList','daysHeaderTrack','onclick','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','doDateHeader','vibrate','blocked-slot\x20stripe-bg','cancelled','10px','now','45SlmPQs','setHours','anStart','Unknown','height','var(--acc-current)',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','.dch-stats-fill','[Notify]\x20Error:\x20sessionData\x20is\x20null','getMonth','from','syncBatch','inpNote','getTime','undefined','settings',':00</span>','init_load','rgba(48,\x20209,\x2088,\x200.15)','</b>\x0a\x0a','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','show','anTotalStats','none','asTitle','clients','data-day-idx','uc_settings_v9','</div><div\x20class=\x22dch-num\x22>','completed','settingsSheet','Local\x20Load\x20Error','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','var(--acc-red)','#050505','formatDate','asBtnSeries','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','data-date','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','stringify','disableVerticalSwipes','length','save','width','447780cThEES','ru-RU','sort','getItem','Server\x20Error','day-column\x20','location','244OljQfZ','send_notification','6xBKrjO','dateStr','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','analyticsSheet','setBackgroundColor','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','value','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','touches','862OWLChM','create','save_settings','indexOf','as-button\x20danger\x20bold','long','log','toUpperCase','T00:00:00','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','insertBefore','rgba(255,\x2069,\x2058,\x200.3)','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','user','patternEditor','split','getText','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toastMessage','classList','anEnd','btnStatusToggle','rgba(255,255,255,0.05)','option','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','saveLocally','mini','#fff','substr','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','then','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','%\x20+\x202px)','innerHTML','seriesCountContainer','client','initDataUnsafe','splice','random','toString','top','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','warn','querySelectorAll','syncLoad','btn-status-toggle\x20undo-mode','</div><div\x20class=\x22ev-time\x22>','left','cancel','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','doBusyHours','update','event-card','recurringOptionContainer','getDate','planned','#0a84ff','setDate','\x20‚Äî\x20','var(--acc-green)','createElement','done','.period-switch\x20.p-btn','min','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','block','timeLineBadge','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','checked','success','week','<div\x20class=\x22dch-day\x22>','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','map','scrollTop','forEach','find','touchstart','backgroundColor','uc_settings_cancel_window','#gridColumns\x20.day-column','startsWith','rangeStartTime','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','[Settings]\x20Cancel\x20window\x20set\x20to:','note','\x20–∏–∑\x20','dayOptionsSheet','170VDKgxS','rangeEndTime','sheetTitle','mergeServerData','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','gridColumns','scroll','ready','slice','btn-status-toggle','toLocaleDateString','Telegram','warning','rangesSheet','dayOptionsTitle','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','appendChild','v9.0-BATCH-CALENDAR','142520UaWnUN','[Notify]\x20Server\x20Response:','pe-col-header','max','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','uc_sessions_v9',':00','[Notify]\x20Attempting\x20to\x20send:','addEventListener','overlay','open','strokeDashoffset','send','router.html','.sheet','expand','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','–£—Å–ø–µ—à–Ω–æ','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','textContent','–£–¥–∞–ª–µ–Ω–∏–µ','getFullYear','.event-card','display',']\x20Failed:','[Notify]\x20Detected\x20Client\x20ID:','...','inpSeriesCount','target','rgba(255,\x20159,\x2010,\x200.3)','[Sync]\x20Loading\x20','charAt','error','touchmove','mouseup','peGrid','active','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','guest','floor','px\x20-','scrollLeft','[Notify]\x20Network\x20Failed','btnDelete','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','inpClient','name','toLocaleString','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','stat-','add','setMonth','month','offsetLeft','pattern','onClick','getHours','day-off-overlay\x20stripe-bg','btn-primary\x20btn-danger','asBtnOne','statLoadCard','inpStart','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','timeColumn','text','mousedown','anCustomDates','loadLocal','POST','series','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','setAttribute','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','getAttribute','pe-cell\x20','today','numeric','round','localeCompare',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','%\x20-\x204px)','background','querySelector','rangeEndDate','inpRecurring','json','actionSheet','closest','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','\x20-\x20','header-','</span>\x20/\x20','inpDate','off','toastTitle','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','deleted','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','.day-off-overlay','constructor','Critical\x20TMA\x20Error:'];a2_0x2b4d=function(){return _0x560dd3;};return a2_0x2b4d();}function commitDelete(_0x426ad1,_0x14cb0a){const _0x4532=a2_0x37ea1d;lastUserActionTime=Date['now'](),NotificationManager['send']('cancel',_0x14cb0a);const _0x5223fe=[];if(_0x426ad1===_0x4532(0x1dc))sessions=sessions[_0x4532(0x19e)](_0x438e0f=>_0x438e0f['id']!==_0x14cb0a['id']),_0x5223fe[_0x4532(0x1de)](_0x14cb0a[_0x4532(0x23f)]);else{if(_0x426ad1===_0x4532(0x16a)){const _0x5c0ce8=_0x14cb0a[_0x4532(0x23f)],_0x5c41f3=_0x14cb0a[_0x4532(0x1ce)];sessions[_0x4532(0x106)](_0x5e87b5=>{const _0x2ece34=_0x4532;_0x5e87b5[_0x2ece34(0x1ce)]===_0x5c41f3&&_0x5e87b5[_0x2ece34(0x23f)]>=_0x5c0ce8&&_0x5223fe['push'](_0x5e87b5[_0x2ece34(0x23f)]);}),sessions=sessions[_0x4532(0x19e)](_0xc19bd5=>!(_0xc19bd5[_0x4532(0x1ce)]===_0x5c41f3&&_0xc19bd5[_0x4532(0x23f)]>=_0x5c0ce8));}}afterSaveAction(_0x5223fe);}function afterSaveAction(_0x4367d6){const _0x12f1e0=a2_0x37ea1d;DataManager[_0x12f1e0(0xd4)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x12f1e0(0x211)](_0x4367d6)[_0x12f1e0(0xd9)](()=>console['log']('Batch\x20Sync\x20OK'))[_0x12f1e0(0x19c)](_0x3fe38=>showToast(_0x12f1e0(0xfe),![]));}const NotificationManager={'formatDate'(_0x2f9e01){const _0x512fa3=a2_0x37ea1d,_0x96c8d7=new Date(_0x2f9e01),_0x58831e={'weekday':_0x512fa3(0xc0),'day':_0x512fa3(0x171),'month':_0x512fa3(0xc0)};let _0x9da268=_0x96c8d7[_0x512fa3(0x11d)]('ru-RU',_0x58831e);return _0x9da268[_0x512fa3(0x144)](0x0)[_0x512fa3(0xc2)]()+_0x9da268[_0x512fa3(0x11b)](0x1);},'getText'(_0x41bd89,_0x32ecf7){const _0x22abc8=a2_0x37ea1d,_0x4cec22=this[_0x22abc8(0x22a)](_0x32ecf7[_0x22abc8(0x23f)]);switch(_0x41bd89){case _0x22abc8(0x248):return _0x22abc8(0x18c)+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0x4cec22+'\x0a')+(_0x22abc8(0x17d)+_0x32ecf7[_0x22abc8(0x18d)]+_0x22abc8(0xf5)+_0x32ecf7[_0x22abc8(0x1af)]+'\x0a\x0a')+_0x22abc8(0x1b6);case _0x22abc8(0xee):return _0x22abc8(0x1f3)+_0x22abc8(0x1ff)+(_0x22abc8(0x1c1)+_0x32ecf7[_0x22abc8(0x18d)]+'\x20‚Äî\x20'+_0x32ecf7[_0x22abc8(0x1af)]+_0x22abc8(0x219))+(_0x22abc8(0x163)+_0x4cec22);case _0x22abc8(0xeb):return _0x22abc8(0xec)+(_0x22abc8(0x135)+_0x4cec22+'\x20('+_0x32ecf7[_0x22abc8(0x18d)]+_0x22abc8(0x174));case _0x22abc8(0x1c8):return _0x22abc8(0x10e)+_0x22abc8(0x1d1)+_0x22abc8(0x16b);default:return'';}},async 'send'(_0x34bbf3,_0x314f30){const _0xfc559c=a2_0x37ea1d;console['log'](_0xfc559c(0x12c),_0x34bbf3,_0x314f30);if(!_0x314f30){console[_0xfc559c(0x145)](_0xfc559c(0x20e));return;}const _0x5ae1c8=String(_0x314f30[_0xfc559c(0x18a)]);console[_0xfc559c(0xc1)](_0xfc559c(0x13e),_0x5ae1c8);if(!_0x314f30[_0xfc559c(0x18a)]||_0x5ae1c8===_0xfc559c(0x214)||_0x5ae1c8==='null'){console[_0xfc559c(0x145)](_0xfc559c(0x227));if(_0x314f30[_0xfc559c(0xde)]){const _0x2d1590=clients[_0xfc559c(0x107)](_0x15b52d=>_0x15b52d[_0xfc559c(0x153)]===_0x314f30[_0xfc559c(0xde)]);if(_0x2d1590)return console['log']('[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:',_0x2d1590['id']),this['send'](_0x34bbf3,{..._0x314f30,'clientId':_0x2d1590['id']});}return;}if(_0x5ae1c8['length']<0x5){console[_0xfc559c(0xe5)](_0xfc559c(0xc7),_0x5ae1c8);return;}const _0x348e56=this[_0xfc559c(0xcb)](_0x34bbf3,_0x314f30);if(!_0x348e56){console[_0xfc559c(0x145)]('[Notify]\x20Error:\x20Text\x20generation\x20failed');return;}console[_0xfc559c(0xc1)]('[Notify]\x20Sending\x20to\x20GAS\x20for\x20'+_0x5ae1c8+'...'),DataManager[_0xfc559c(0x1bb)](_0xfc559c(0x23d),{'chatId':_0x5ae1c8,'text':_0x348e56})['then'](_0x3b8898=>console[_0xfc559c(0xc1)](_0xfc559c(0x126),_0x3b8898))[_0xfc559c(0x19c)](_0x1d6c94=>console[_0xfc559c(0x145)](_0xfc559c(0x14f),_0x1d6c94));}};function getLocalDateStr(_0x547161){const _0x1b289d=a2_0x37ea1d,_0x468a4a=_0x547161[_0x1b289d(0x13a)](),_0x285d9d=String(_0x547161[_0x1b289d(0x20f)]()+0x1)[_0x1b289d(0x1f4)](0x2,'0'),_0x31f09c=String(_0x547161[_0x1b289d(0xf1)]())[_0x1b289d(0x1f4)](0x2,'0');return _0x468a4a+'-'+_0x285d9d+'-'+_0x31f09c;}function getDateStr(_0x2649f6){const _0x32787b=a2_0x37ea1d,_0x50a07f=new Date();return _0x50a07f['setDate'](_0x50a07f[_0x32787b(0xf1)]()+_0x2649f6),getLocalDateStr(_0x50a07f);}function getStartOfWeek(_0x133fe8){const _0x3d128b=a2_0x37ea1d,_0x2f3ca9=(function(){let _0x3ed4ca=!![];return function(_0x38309f,_0x2f8138){const _0x847f01=_0x3ed4ca?function(){if(_0x2f8138){const _0x405059=_0x2f8138['apply'](_0x38309f,arguments);return _0x2f8138=null,_0x405059;}}:function(){};return _0x3ed4ca=![],_0x847f01;};}()),_0x364e10=_0x2f3ca9(this,function(){const _0x438bc9=a2_0x4b58;return _0x364e10[_0x438bc9(0xe2)]()['search'](_0x438bc9(0x1e4))[_0x438bc9(0xe2)]()[_0x438bc9(0x188)](_0x364e10)['search'](_0x438bc9(0x1e4));});_0x364e10();const _0x509fbf=new Date(_0x133fe8),_0x361f89=_0x509fbf[_0x3d128b(0x1c6)](),_0x5bd58a=_0x509fbf[_0x3d128b(0xf1)]()-_0x361f89+(_0x361f89===0x0?-0x6:0x1);return _0x509fbf[_0x3d128b(0xf4)](_0x5bd58a),_0x509fbf[_0x3d128b(0x207)](0x0,0x0,0x0,0x0),_0x509fbf;}function hexToRgba(_0x5348b2,_0x4857ff){const _0x998690=a2_0x37ea1d;if(!_0x5348b2)return _0x998690(0x1b8);let _0x169c2b=0x0,_0x4d65f2=0x0,_0x862f9d=0x0;if(_0x5348b2[_0x998690(0x232)]===0x4)_0x169c2b='0x'+_0x5348b2[0x1]+_0x5348b2[0x1],_0x4d65f2='0x'+_0x5348b2[0x2]+_0x5348b2[0x2],_0x862f9d='0x'+_0x5348b2[0x3]+_0x5348b2[0x3];else _0x5348b2[_0x998690(0x232)]===0x7&&(_0x169c2b='0x'+_0x5348b2[0x1]+_0x5348b2[0x2],_0x4d65f2='0x'+_0x5348b2[0x3]+_0x5348b2[0x4],_0x862f9d='0x'+_0x5348b2[0x5]+_0x5348b2[0x6]);return'rgba('+ +_0x169c2b+',\x20'+ +_0x4d65f2+',\x20'+ +_0x862f9d+',\x20'+_0x4857ff+')';}function renderTimeColumn(){const _0x343c16=a2_0x37ea1d,_0x2c9551=document[_0x343c16(0x1e0)](_0x343c16(0x164)),_0x3cd337=document[_0x343c16(0x1e0)](_0x343c16(0xfd));_0x2c9551[_0x343c16(0xdc)]='',_0x2c9551[_0x343c16(0x123)](_0x3cd337);for(let _0x34eeb3=0x0;_0x34eeb3<0x18;_0x34eeb3++){const _0x3c64dc=document[_0x343c16(0xf7)](_0x343c16(0x1f9));_0x3c64dc['className']=_0x343c16(0x1ea);if(_0x34eeb3>0x0)_0x3c64dc[_0x343c16(0xdc)]=_0x343c16(0x1a3)+String(_0x34eeb3)[_0x343c16(0x1f4)](0x2,'0')+_0x343c16(0x216);_0x2c9551[_0x343c16(0x123)](_0x3c64dc);}}function renderDayRange(_0x38a37a,_0x4c71b3){const _0x391644=a2_0x37ea1d,_0x4308de=document[_0x391644(0x1e0)](_0x391644(0x1fd)),_0x2dbab6=document['getElementById'](_0x391644(0x118)),_0x437d09=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x215161=new Date();_0x215161[_0x391644(0x207)](0x0,0x0,0x0,0x0);const _0x55cca6=getLocalDateStr(new Date());for(let _0x386ea4=_0x38a37a;_0x386ea4<=_0x4c71b3;_0x386ea4++){const _0x6900db=new Date(_0x215161);_0x6900db[_0x391644(0xf4)](_0x6900db[_0x391644(0xf1)]()+_0x386ea4);const _0x23d61f=getLocalDateStr(_0x6900db);let _0x375e30=_0x6900db['getDay']()-0x1;if(_0x375e30===-0x1)_0x375e30=0x6;const _0x26ce03=_0x23d61f===_0x55cca6,_0x18593e=document['createElement'](_0x391644(0x1f9));_0x18593e['className']='day-col-header\x20'+(_0x26ce03?_0x391644(0x170):''),_0x18593e['id']=_0x391644(0x17f)+_0x23d61f,_0x18593e[_0x391644(0x16c)](_0x391644(0x22e),_0x23d61f),_0x18593e[_0x391644(0xdc)]=_0x391644(0x102)+_0x437d09[_0x375e30]+_0x391644(0x222)+_0x6900db[_0x391644(0xf1)]()+_0x391644(0x1ef)+_0x23d61f+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x18593e[_0x391644(0x1fe)]=()=>openDayOptions(_0x23d61f,_0x437d09[_0x375e30]+'\x20'+_0x6900db[_0x391644(0xf1)]()),_0x4308de[_0x391644(0x123)](_0x18593e);const _0x18e703=document[_0x391644(0xf7)](_0x391644(0x1f9));_0x18e703[_0x391644(0x1d7)]=_0x391644(0x23a)+(_0x26ce03?'today':''),_0x18e703[_0x391644(0x16c)](_0x391644(0x22e),_0x23d61f),_0x18e703[_0x391644(0x16c)]('data-day-idx',_0x375e30),renderEventsForColumn(_0x18e703,_0x23d61f,_0x375e30),attachLongPressHandler(_0x18e703,_0x6900db),_0x2dbab6['appendChild'](_0x18e703),updateDayStats(_0x23d61f);}}function reRenderBlocks(){const _0x331edc=a2_0x37ea1d;document[_0x331edc(0xe6)](_0x331edc(0x10b))['forEach'](_0x5b45be=>{const _0x330d4b=_0x331edc;_0x5b45be[_0x330d4b(0xe6)](_0x330d4b(0x245))[_0x330d4b(0x106)](_0x23b6d9=>_0x23b6d9[_0x330d4b(0x1a1)]());const _0x10e8d3=_0x5b45be[_0x330d4b(0x16e)](_0x330d4b(0x22e)),_0x26428c=parseInt(_0x5b45be[_0x330d4b(0x16e)](_0x330d4b(0x220))),_0x2d9700=Math['round'](_0x5b45be[_0x330d4b(0x15a)]);(availabilityPattern[_0x26428c]||[])[_0x330d4b(0x106)](_0x392ca9=>{const _0x382c3d=_0x330d4b,_0xa300b7=document[_0x382c3d(0xf7)]('div');_0xa300b7[_0x382c3d(0x1d7)]='blocked-slot\x20stripe-bg';const _0x5098ae=_0x392ca9*GRID_H;_0xa300b7[_0x382c3d(0x1c3)]['top']=_0x5098ae+'px',_0xa300b7[_0x382c3d(0x1c3)][_0x382c3d(0x1a2)]='-'+_0x2d9700+_0x382c3d(0x14d)+_0x5098ae+'px',_0x5b45be[_0x382c3d(0x123)](_0xa300b7);});if(specialRanges&&specialRanges[_0x330d4b(0x232)]>0x0){const _0xf13165=new Date(_0x10e8d3+_0x330d4b(0xc3))['getTime'](),_0x3c23d4=new Date(_0x10e8d3+'T23:59:59')['getTime']();specialRanges[_0x330d4b(0x106)](_0x2be454=>{const _0x7963cd=_0x330d4b,_0x3a914b=new Date(_0x2be454[_0x7963cd(0x18d)])['getTime'](),_0x458877=new Date(_0x2be454[_0x7963cd(0x1af)])[_0x7963cd(0x213)](),_0x2c7b36=Math[_0x7963cd(0x128)](_0xf13165,_0x3a914b),_0x15df05=Math['min'](_0x3c23d4,_0x458877);if(_0x2c7b36<_0x15df05){if(_0x2c7b36<=_0xf13165&&_0x15df05>=_0x3c23d4-0xea60){if(!_0x5b45be[_0x7963cd(0x177)](_0x7963cd(0x187))){const _0x1cf488=document[_0x7963cd(0xf7)]('div');_0x1cf488[_0x7963cd(0x1d7)]=_0x7963cd(0x15e),_0x1cf488['style'][_0x7963cd(0x1a2)]='-'+_0x2d9700+_0x7963cd(0x1a0),_0x5b45be['appendChild'](_0x1cf488);}}else{const _0x1c18fa=(_0x2c7b36-_0xf13165)/0x36ee80*GRID_H,_0x906522=(_0x15df05-_0x2c7b36)/0x36ee80*GRID_H,_0x15d26c=document[_0x7963cd(0xf7)](_0x7963cd(0x1f9));_0x15d26c['className']=_0x7963cd(0x1f5),_0x15d26c[_0x7963cd(0x1c3)][_0x7963cd(0xe3)]=_0x1c18fa+'px',_0x15d26c[_0x7963cd(0x1c3)]['height']=_0x906522+'px',_0x15d26c[_0x7963cd(0x1c3)][_0x7963cd(0x1a2)]='-'+_0x2d9700+_0x7963cd(0x14d)+_0x1c18fa+'px',_0x5b45be[_0x7963cd(0x123)](_0x15d26c);}}});}if(dateExceptions[_0x10e8d3]===_0x330d4b(0x182)){if(!_0x5b45be[_0x330d4b(0x177)]('.day-off-overlay')){const _0x549f95=document[_0x330d4b(0xf7)](_0x330d4b(0x1f9));_0x549f95[_0x330d4b(0x1d7)]=_0x330d4b(0x15e),_0x549f95[_0x330d4b(0x1c3)][_0x330d4b(0x1a2)]='-'+_0x2d9700+_0x330d4b(0x1a0),_0x5b45be[_0x330d4b(0x123)](_0x549f95);}}renderEventsForColumn(_0x5b45be,_0x10e8d3,_0x26428c),updateDayStats(_0x10e8d3);});}function updateAllDayStats(){const _0x3880b0=a2_0x37ea1d;document[_0x3880b0(0xe6)]('.day-col-header')[_0x3880b0(0x106)](_0x162558=>{const _0x481f3d=_0x3880b0;updateDayStats(_0x162558['getAttribute'](_0x481f3d(0x22e)));});}function updateDayStats(_0x3e6b21){const _0x3c729d=a2_0x37ea1d,_0x44134d=document[_0x3c729d(0x1e0)](_0x3c729d(0x156)+_0x3e6b21);if(!_0x44134d)return;const _0x43fe84=new Date(_0x3e6b21);let _0x1d56ad=_0x43fe84[_0x3c729d(0x1c6)]()-0x1;if(_0x1d56ad===-0x1)_0x1d56ad=0x6;if(dateExceptions[_0x3e6b21]===_0x3c729d(0x182)){_0x44134d['style'][_0x3c729d(0x13c)]=_0x3c729d(0x21d);return;}const _0x1f9455=availabilityPattern[_0x1d56ad]||[],_0x3a6e97=0x18-_0x1f9455[_0x3c729d(0x232)],_0x4a49c1=_0x3a6e97*0x3c,_0x1d1697=sessions[_0x3c729d(0x19e)](_0x1318e7=>_0x1318e7[_0x3c729d(0x23f)]===_0x3e6b21&&_0x1318e7[_0x3c729d(0x1bf)]!==_0x3c729d(0x203));if(_0x1d1697[_0x3c729d(0x232)]===0x0){_0x44134d['style']['display']='none';return;}let _0x3da23d=_0x1d1697[_0x3c729d(0x104)](_0x26979d=>{const _0x1a5db1=_0x3c729d,[_0x37b5ba,_0x4dde9b]=_0x26979d['start']['split'](':')[_0x1a5db1(0x104)](Number),[_0x37c01b,_0x3d0245]=_0x26979d[_0x1a5db1(0x1af)][_0x1a5db1(0xca)](':')['map'](Number);return[_0x37b5ba*0x3c+_0x4dde9b,_0x37c01b*0x3c+_0x3d0245];});_0x3da23d['sort']((_0x27d5e3,_0xc5d00b)=>_0x27d5e3[0x0]-_0xc5d00b[0x0]);let _0x3dfb83=[];if(_0x3da23d[_0x3c729d(0x232)]>0x0){let _0x767319=_0x3da23d[0x0];for(let _0x1fd718=0x1;_0x1fd718<_0x3da23d[_0x3c729d(0x232)];_0x1fd718++){_0x3da23d[_0x1fd718][0x0]<_0x767319[0x1]?_0x767319[0x1]=Math[_0x3c729d(0x128)](_0x767319[0x1],_0x3da23d[_0x1fd718][0x1]):(_0x3dfb83['push'](_0x767319),_0x767319=_0x3da23d[_0x1fd718]);}_0x3dfb83[_0x3c729d(0x1de)](_0x767319);}let _0x440347=0x0;_0x3dfb83[_0x3c729d(0x106)](_0x3a1766=>_0x440347+=_0x3a1766[0x1]-_0x3a1766[0x0]),_0x44134d['style']['display']=_0x3c729d(0x195);const _0x170942=_0x44134d[_0x3c729d(0x177)](_0x3c729d(0x20d));if(_0x4a49c1===0x0){_0x170942['style'][_0x3c729d(0x234)]=_0x3c729d(0x1b0),_0x170942[_0x3c729d(0x1c3)][_0x3c729d(0x176)]=_0x3c729d(0x228);return;}const _0x454b8c=_0x440347/_0x4a49c1*0x64;console['log']('['+_0x3e6b21+_0x3c729d(0x20c)+_0x3a6e97+_0x3c729d(0x14a)+_0x440347+'–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20'+_0x454b8c['toFixed'](0x1)+'%'),_0x454b8c>0x64?(_0x170942[_0x3c729d(0x1c3)][_0x3c729d(0x234)]=_0x3c729d(0x1b0),_0x170942[_0x3c729d(0x1c3)][_0x3c729d(0x176)]=_0x3c729d(0x228)):(_0x170942[_0x3c729d(0x1c3)]['width']=_0x454b8c+'%',_0x170942[_0x3c729d(0x1c3)][_0x3c729d(0x176)]=_0x3c729d(0x20b));}function renderEventsForColumn(_0x50cfcf,_0x3ed6b1,_0x696b8d){const _0x4b3b8a=a2_0x37ea1d,_0x2a835c=sessions[_0x4b3b8a(0x19e)](_0x5778dc=>_0x5778dc[_0x4b3b8a(0x23f)]===_0x3ed6b1),_0x1bfc6a=_0x2a835c[_0x4b3b8a(0x104)](_0x5b6b7b=>{const _0x4cc0bc=_0x4b3b8a,[_0x276d6a,_0x20b4d7]=_0x5b6b7b[_0x4cc0bc(0x18d)]['split'](':')[_0x4cc0bc(0x104)](Number),[_0x1ccc97,_0x2d35e8]=_0x5b6b7b[_0x4cc0bc(0x1af)][_0x4cc0bc(0xca)](':')[_0x4cc0bc(0x104)](Number);return{'data':_0x5b6b7b,'start':_0x276d6a*0x3c+_0x20b4d7,'end':_0x1ccc97*0x3c+_0x2d35e8,'colIndex':0x0};});_0x1bfc6a[_0x4b3b8a(0x237)]((_0x49206f,_0x343358)=>{const _0x5a8096=_0x4b3b8a;if(_0x49206f['start']!==_0x343358[_0x5a8096(0x18d)])return _0x49206f[_0x5a8096(0x18d)]-_0x343358[_0x5a8096(0x18d)];return _0x343358[_0x5a8096(0x1af)]-_0x343358[_0x5a8096(0x18d)]-(_0x49206f[_0x5a8096(0x1af)]-_0x49206f[_0x5a8096(0x18d)]);});const _0x5b6064=[];_0x1bfc6a['forEach'](_0x5da50b=>{const _0x4ce501=_0x4b3b8a;let _0x43f6b6=![];for(let _0x49568b=0x0;_0x49568b<_0x5b6064[_0x4ce501(0x232)];_0x49568b++){const _0x2ddaf8=_0x5b6064[_0x49568b],_0x13edf8=_0x2ddaf8[_0x2ddaf8[_0x4ce501(0x232)]-0x1];if(_0x5da50b[_0x4ce501(0x18d)]>=_0x13edf8[_0x4ce501(0x1af)]){_0x2ddaf8[_0x4ce501(0x1de)](_0x5da50b),_0x5da50b[_0x4ce501(0x194)]=_0x49568b,_0x43f6b6=!![];break;}}!_0x43f6b6&&(_0x5b6064['push']([_0x5da50b]),_0x5da50b[_0x4ce501(0x194)]=_0x5b6064[_0x4ce501(0x232)]-0x1);}),_0x1bfc6a[_0x4b3b8a(0x106)](_0xf1fef1=>{const _0x3067e8=_0x4b3b8a;let _0x3d64f5=0x0;_0x1bfc6a['forEach'](_0x4e6a72=>{const _0x517528=a2_0x4b58;if(Math[_0x517528(0x128)](_0xf1fef1['start'],_0x4e6a72[_0x517528(0x18d)])<Math[_0x517528(0xfa)](_0xf1fef1[_0x517528(0x1af)],_0x4e6a72[_0x517528(0x1af)])){if(_0x4e6a72[_0x517528(0x194)]>_0x3d64f5)_0x3d64f5=_0x4e6a72[_0x517528(0x194)];}});const _0x56023a=_0x3d64f5+0x1,_0x139075=0x64/_0x56023a,_0x2275e5=_0xf1fef1['colIndex']*_0x139075,_0x4ebd60=createEventEl(_0xf1fef1[_0x3067e8(0x1cf)]);_0x4ebd60['style'][_0x3067e8(0x234)]=_0x3067e8(0x1ae)+_0x139075+_0x3067e8(0x175),_0x4ebd60[_0x3067e8(0x1c3)][_0x3067e8(0xea)]=_0x3067e8(0x1ae)+_0x2275e5+_0x3067e8(0xdb),_0x4ebd60[_0x3067e8(0x1c3)]['zIndex']=0xa+_0xf1fef1['colIndex'],_0x139075<0x55&&_0x4ebd60['classList'][_0x3067e8(0x157)](_0x3067e8(0xd5)),_0x50cfcf[_0x3067e8(0x123)](_0x4ebd60);});}function createEventEl(_0x2bf9f7){const _0x248435=a2_0x37ea1d,[_0x3ed337,_0x273606]=_0x2bf9f7['start']['split'](':')[_0x248435(0x104)](Number),[_0x4fc366,_0x52863a]=_0x2bf9f7[_0x248435(0x1af)]['split'](':')[_0x248435(0x104)](Number),_0x53e949=(_0x3ed337*0x3c+_0x273606)/0x3c*GRID_H,_0x1cc394=(_0x4fc366*0x3c+_0x52863a-(_0x3ed337*0x3c+_0x273606))/0x3c*GRID_H,_0x369a87=document[_0x248435(0xf7)]('div'),_0x27deeb=_0x2bf9f7[_0x248435(0x1bf)]===_0x248435(0x223)?_0x248435(0x1d8):'';_0x369a87[_0x248435(0x1d7)]=_0x248435(0xef)+_0x27deeb,_0x369a87[_0x248435(0x1c3)][_0x248435(0xe3)]=_0x53e949+'px',_0x369a87[_0x248435(0x1c3)][_0x248435(0x20a)]=Math['max'](_0x1cc394,0x14)+'px';const _0x363541=clients[_0x248435(0x107)](_0x589dae=>_0x2bf9f7[_0x248435(0x18a)]&&String(_0x589dae['id'])===String(_0x2bf9f7['clientId'])||_0x589dae[_0x248435(0x153)]===_0x2bf9f7['client']),_0x4d9f93=_0x363541?_0x363541[_0x248435(0x1aa)]:_0x248435(0xf3);_0x369a87[_0x248435(0x1c3)][_0x248435(0x1b7)]=_0x4d9f93,_0x369a87[_0x248435(0x1c3)][_0x248435(0x109)]=hexToRgba(_0x4d9f93,0.85);let _0x3c5e76='<div\x20class=\x22ev-title\x22>'+_0x2bf9f7['client']+_0x248435(0xe9)+_0x2bf9f7[_0x248435(0x18d)]+_0x248435(0x17e)+_0x2bf9f7[_0x248435(0x1af)]+_0x248435(0x19d);return _0x2bf9f7[_0x248435(0x1ce)]&&(_0x3c5e76+=_0x248435(0x117)),_0x2bf9f7['status']===_0x248435(0x223)&&(_0x3c5e76+='<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>'),_0x369a87['innerHTML']=_0x3c5e76,_0x369a87['onclick']=_0x3f8b20=>{_0x3f8b20['stopPropagation'](),openEdit(_0x2bf9f7);},_0x369a87;}function attachLongPressHandler(_0x56872e,_0x29e1f5){const _0x380ce3=a2_0x37ea1d;let _0x169813=0x0,_0x25c639=null;const _0xb7e715=_0x42e6b1=>{const _0x2ea4b4=a2_0x4b58;if(_0x42e6b1[_0x2ea4b4(0x141)][_0x2ea4b4(0x17c)](_0x2ea4b4(0x13b)))return;isScrolling=![],_0x169813=_0x42e6b1['touches']?_0x42e6b1[_0x2ea4b4(0x246)][0x0][_0x2ea4b4(0x1a5)]:_0x42e6b1[_0x2ea4b4(0x1a5)],_0x25c639=setTimeout(()=>{const _0x27d30f=_0x2ea4b4;if(!isScrolling){navigator[_0x27d30f(0x201)]?.(0x32);const _0xb5444=_0x56872e['getBoundingClientRect'](),_0x310cad=Math['floor']((_0x169813-_0xb5444[_0x27d30f(0xe3)])/GRID_H);_0x29e1f5[_0x27d30f(0x207)](_0x310cad,0x0),openAddSession(_0x29e1f5);}},0x1f4);},_0x40d861=()=>{isScrolling=!![],clearTimeout(_0x25c639);},_0x5e6330=()=>{clearTimeout(_0x25c639);};_0x56872e[_0x380ce3(0x12d)](_0x380ce3(0x108),_0xb7e715,{'passive':!![]}),_0x56872e[_0x380ce3(0x12d)](_0x380ce3(0x146),_0x40d861,{'passive':!![]}),_0x56872e['addEventListener'](_0x380ce3(0x1e1),_0x5e6330),_0x56872e[_0x380ce3(0x12d)](_0x380ce3(0x166),_0xb7e715),_0x56872e[_0x380ce3(0x12d)]('mousemove',_0x40d861),_0x56872e[_0x380ce3(0x12d)](_0x380ce3(0x147),_0x5e6330);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x26ea7e=a2_0x37ea1d,_0x2f01d4=document[_0x26ea7e(0x1e0)]('matrixViewport'),_0x11ccc3=_0x2f01d4[_0x26ea7e(0x14e)],_0x1afbbc=_0x2f01d4['scrollWidth'],_0x5d2f9d=_0x2f01d4[_0x26ea7e(0x1f8)];if(_0x1afbbc-(_0x11ccc3+_0x5d2f9d)<0x12c){const _0x2e6689=endOffset;endOffset+=0xe,renderDayRange(_0x2e6689+0x1,endOffset),reRenderBlocks();}if(_0x11ccc3<0x12c){const _0x4b15d3=startOffset;startOffset-=0xe,prependDays(startOffset,_0x4b15d3-0x1),_0x2f01d4[_0x26ea7e(0x14e)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x55f8ec,_0x3214f6){const _0x5e3173=a2_0x37ea1d,_0x417218=document[_0x5e3173(0x1e0)]('daysHeaderTrack'),_0x3357a1=document[_0x5e3173(0x1e0)](_0x5e3173(0x118)),_0x6019ab=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x50a367=new Date();_0x50a367['setHours'](0x0,0x0,0x0,0x0);const _0x16fbe8=getLocalDateStr(new Date()),_0x2fa99a=document[_0x5e3173(0x1e7)](),_0x4df1e6=document[_0x5e3173(0x1e7)]();for(let _0x143bf7=_0x55f8ec;_0x143bf7<=_0x3214f6;_0x143bf7++){const _0x392f5e=new Date(_0x50a367);_0x392f5e['setDate'](_0x392f5e[_0x5e3173(0xf1)]()+_0x143bf7);const _0x4292b5=getLocalDateStr(_0x392f5e);let _0x49154c=_0x392f5e[_0x5e3173(0x1c6)]()-0x1;if(_0x49154c===-0x1)_0x49154c=0x6;const _0x3efc30=_0x4292b5===_0x16fbe8,_0x6d1297=document[_0x5e3173(0xf7)](_0x5e3173(0x1f9));_0x6d1297['className']=_0x5e3173(0x190)+(_0x3efc30?_0x5e3173(0x170):''),_0x6d1297['id']='header-'+_0x4292b5,_0x6d1297[_0x5e3173(0x16c)](_0x5e3173(0x22e),_0x4292b5),_0x6d1297[_0x5e3173(0xdc)]=_0x5e3173(0x102)+_0x6019ab[_0x49154c]+_0x5e3173(0x222)+_0x392f5e[_0x5e3173(0xf1)]()+_0x5e3173(0x1ef)+_0x4292b5+_0x5e3173(0xfb),_0x6d1297[_0x5e3173(0x1fe)]=()=>openDayOptions(_0x4292b5,_0x6019ab[_0x49154c]+'\x20'+_0x392f5e[_0x5e3173(0xf1)]()),_0x2fa99a['appendChild'](_0x6d1297);const _0x4de75d=document[_0x5e3173(0xf7)](_0x5e3173(0x1f9));_0x4de75d[_0x5e3173(0x1d7)]=_0x5e3173(0x23a)+(_0x3efc30?_0x5e3173(0x170):''),_0x4de75d[_0x5e3173(0x16c)](_0x5e3173(0x22e),_0x4292b5),_0x4de75d['setAttribute'](_0x5e3173(0x220),_0x49154c),renderEventsForColumn(_0x4de75d,_0x4292b5,_0x49154c),attachLongPressHandler(_0x4de75d,_0x392f5e),_0x4df1e6[_0x5e3173(0x123)](_0x4de75d),updateDayStats(_0x4292b5);}_0x417218[_0x5e3173(0xc5)](_0x2fa99a,_0x417218[_0x5e3173(0x1e3)]),_0x3357a1['insertBefore'](_0x4df1e6,_0x3357a1[_0x5e3173(0x177)]('.day-column'));}function validateAppointment(_0x16bfd4,_0x9db1bd,_0x14c001,_0x56678a,_0x14d624){const _0xbf2e=a2_0x37ea1d,[_0x39e95f,_0x26ae9e]=_0x9db1bd['split'](':')[_0xbf2e(0x104)](Number),[_0x3322d3,_0x29fbb8]=_0x14c001[_0xbf2e(0xca)](':')['map'](Number),_0x11d625=_0x39e95f*0x3c+_0x26ae9e,_0x45f618=_0x3322d3*0x3c+_0x29fbb8,_0x4359d8=String(_0x14d624);let _0x27f9a1=![],_0x446631='';for(let _0x18d93c of sessions){if(_0x18d93c['dateStr']!==_0x16bfd4)continue;if(_0x18d93c[_0xbf2e(0x1bf)]===_0xbf2e(0x203))continue;if(_0x56678a&&String(_0x18d93c['id'])===String(_0x56678a))continue;const [_0x51264a,_0x38324c]=_0x18d93c[_0xbf2e(0x18d)][_0xbf2e(0xca)](':')[_0xbf2e(0x104)](Number),[_0x2901d4,_0x26d13f]=_0x18d93c['end'][_0xbf2e(0xca)](':')[_0xbf2e(0x104)](Number),_0x1dd85f=_0x51264a*0x3c+_0x38324c,_0x4f1147=_0x2901d4*0x3c+_0x26d13f;if(Math[_0xbf2e(0x128)](_0x11d625,_0x1dd85f)<Math[_0xbf2e(0xfa)](_0x45f618,_0x4f1147)){if(_0x18d93c[_0xbf2e(0x18a)]&&String(_0x18d93c['clientId'])===_0x4359d8)return{'valid':![],'msg':_0xbf2e(0x129)+_0x18d93c[_0xbf2e(0xde)]+_0xbf2e(0x1bc)};_0x27f9a1=!![],_0x446631=_0x18d93c[_0xbf2e(0xde)];}}if(_0x27f9a1)return{'valid':!![],'warning':_0xbf2e(0x137)+_0x446631};return{'valid':!![]};}function updateDateDisplay(){const _0x19bde1=a2_0x37ea1d,_0x56cd63=document['getElementById'](_0x19bde1(0x181))[_0x19bde1(0x244)],_0x44ed2b=document[_0x19bde1(0x1e0)]('sheetDateSubtitle');if(!_0x56cd63){_0x44ed2b[_0x19bde1(0x138)]='';return;}const [_0x342602,_0x522f02,_0x12f0f2]=_0x56cd63[_0x19bde1(0xca)]('-')[_0x19bde1(0x104)](Number),_0x2bcdcd=new Date(_0x342602,_0x522f02-0x1,_0x12f0f2),_0x7fc315={'weekday':_0x19bde1(0xc0),'day':_0x19bde1(0x171),'month':_0x19bde1(0xc0),'year':_0x19bde1(0x171)};let _0x3fcc26=_0x2bcdcd[_0x19bde1(0x11d)](_0x19bde1(0x236),_0x7fc315);_0x3fcc26=_0x3fcc26[_0x19bde1(0x144)](0x0)[_0x19bde1(0xc2)]()+_0x3fcc26['slice'](0x1),_0x44ed2b['textContent']=_0x3fcc26;}function autoSetEndTime(){const _0x3c68c9=a2_0x37ea1d,_0x4c77bd=document[_0x3c68c9(0x1e0)]('inpStart')['value'];if(!_0x4c77bd)return;const [_0x20fded,_0x2b6100]=_0x4c77bd[_0x3c68c9(0xca)](':')[_0x3c68c9(0x104)](Number);let _0xfef87b=_0x20fded+0x1;if(_0xfef87b>0x17)_0xfef87b=0x0;const _0x26b20c=String(_0xfef87b)[_0x3c68c9(0x1f4)](0x2,'0')+':'+String(_0x2b6100)[_0x3c68c9(0x1f4)](0x2,'0');document[_0x3c68c9(0x1e0)]('inpEnd')[_0x3c68c9(0x244)]=_0x26b20c;}function populateClientSelect(){const _0x1868fb=a2_0x37ea1d,_0x114549=document[_0x1868fb(0x1e0)](_0x1868fb(0x152));_0x114549[_0x1868fb(0xdc)]='';if(clients[_0x1868fb(0x232)]===0x0){const _0x458367=document[_0x1868fb(0xf7)](_0x1868fb(0xd2));_0x458367[_0x1868fb(0x165)]=_0x1868fb(0x103),_0x114549[_0x1868fb(0x123)](_0x458367);return;}clients[_0x1868fb(0x106)](_0x572f86=>{const _0xc4cffc=_0x1868fb,_0x27e50e=document['createElement'](_0xc4cffc(0xd2));_0x27e50e[_0xc4cffc(0x244)]=_0x572f86['name'],_0x27e50e[_0xc4cffc(0x138)]=_0x572f86[_0xc4cffc(0x153)],_0x114549[_0xc4cffc(0x123)](_0x27e50e);});}function a2_0x4b58(_0x1919e8,_0x48eed3){_0x1919e8=_0x1919e8-0xc0;const _0x39d496=a2_0x2b4d();let _0x3b5005=_0x39d496[_0x1919e8];return _0x3b5005;}function openActionSheet(_0xa9d875){const _0xb5b8eb=a2_0x37ea1d,_0x5d07fa=document[_0xb5b8eb(0x1e0)](_0xb5b8eb(0x17b)),_0x41ce6c=document['getElementById']('actionSheetOverlay'),_0x2f5e09=document[_0xb5b8eb(0x1e0)](_0xb5b8eb(0x21e)),_0x16c141=document[_0xb5b8eb(0x1e0)](_0xb5b8eb(0x160)),_0x1267ea=document[_0xb5b8eb(0x1e0)](_0xb5b8eb(0x22b));_0x41ce6c['classList'][_0xb5b8eb(0x157)]('active'),_0x5d07fa[_0xb5b8eb(0xce)][_0xb5b8eb(0x157)](_0xb5b8eb(0x12f));if(_0xa9d875===_0xb5b8eb(0x233))_0x2f5e09['textContent']=_0xb5b8eb(0x1d5),_0x16c141[_0xb5b8eb(0x138)]=_0xb5b8eb(0x122),_0x16c141[_0xb5b8eb(0x1fe)]=()=>{const _0x3050ad=_0xb5b8eb;closeActionSheet(),updateSeriesBatch(_0x3050ad(0x1dc),tempSessionData);},_0x1267ea[_0xb5b8eb(0x138)]='–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ',_0x1267ea['onclick']=()=>{const _0x43c378=_0xb5b8eb;closeActionSheet(),updateSeriesBatch(_0x43c378(0x16a),tempSessionData);};else _0xa9d875===_0xb5b8eb(0x1e8)&&(_0x2f5e09[_0xb5b8eb(0x138)]=_0xb5b8eb(0x139),_0x16c141[_0xb5b8eb(0x138)]='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x16c141['className']='as-button\x20danger',_0x16c141[_0xb5b8eb(0x1fe)]=()=>{const _0x3c644c=_0xb5b8eb;closeActionSheet(),commitDelete(_0x3c644c(0x1dc),sessions['find'](_0x523ac0=>_0x523ac0['id']===editingId));},_0x1267ea[_0xb5b8eb(0x138)]=_0xb5b8eb(0x1eb),_0x1267ea[_0xb5b8eb(0x1d7)]=_0xb5b8eb(0x24b),_0x1267ea['onclick']=()=>{const _0x3b08ad=_0xb5b8eb;closeActionSheet(),commitDelete(_0x3b08ad(0x16a),sessions[_0x3b08ad(0x107)](_0x26113d=>_0x26113d['id']===editingId));});}function closeActionSheet(){const _0x93b12=a2_0x37ea1d;document['getElementById'](_0x93b12(0x17b))[_0x93b12(0xce)]['remove'](_0x93b12(0x12f)),document['getElementById'](_0x93b12(0x1f2))[_0x93b12(0xce)][_0x93b12(0x1a1)](_0x93b12(0x149));}function openSettings(){const _0x4fbbe0=a2_0x37ea1d;openSheet(_0x4fbbe0(0x224));}function saveCoachSettings(){const _0x189f9c=a2_0x37ea1d,_0xcf926d=document[_0x189f9c(0x1e0)]('settingCancelWindow')[_0x189f9c(0x244)];localStorage[_0x189f9c(0x18e)](_0x189f9c(0x10a),_0xcf926d),console['log'](_0x189f9c(0x10f),_0xcf926d),DataManager[_0x189f9c(0x1bb)](_0x189f9c(0x249),{'settings':{'cancel_window':_0xcf926d}})['catch'](_0x5e96c3=>{const _0xb31a12=_0x189f9c;console[_0xb31a12(0x145)]('Save\x20settings\x20error:',_0x5e96c3),showToast(_0xb31a12(0xda),![]);});}function loadCoachSettings(){const _0x1bcd41=a2_0x37ea1d,_0x336be4=localStorage[_0x1bcd41(0x238)](_0x1bcd41(0x10a));_0x336be4&&(document[_0x1bcd41(0x1e0)]('settingCancelWindow')[_0x1bcd41(0x244)]=_0x336be4);}function openRangesSheet(){const _0x5af8eb=a2_0x37ea1d;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x5af8eb(0x120));}function addRange(){const _0xeed639=a2_0x37ea1d,_0x4814a6=document[_0xeed639(0x1e0)]('rangeStartDate')[_0xeed639(0x244)],_0x1f465a=document[_0xeed639(0x1e0)](_0xeed639(0x10d))[_0xeed639(0x244)],_0x53f588=document[_0xeed639(0x1e0)]('rangeEndDate')['value'],_0x5204a1=document[_0xeed639(0x1e0)](_0xeed639(0x114))['value'];if(!_0x4814a6||!_0x1f465a||!_0x53f588||!_0x5204a1)return alert(_0xeed639(0x22d));const _0x5359b3=_0x4814a6+'T'+_0x1f465a,_0x5652e5=_0x53f588+'T'+_0x5204a1;if(_0x5359b3>=_0x5652e5)return alert('–û—à–∏–±–∫–∞\x20–¥–∞—Ç');specialRanges['push']({'start':_0x5359b3,'end':_0x5652e5}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0xeed639(0xd4)](),DataManager['fetchFromServer'](_0xeed639(0x249),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x1f9d40){const _0x15dc5f=a2_0x37ea1d;specialRanges['splice'](_0x1f9d40,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x15dc5f(0xd4)](),DataManager[_0x15dc5f(0x1bb)](_0x15dc5f(0x249),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x576176=a2_0x37ea1d;document[_0x576176(0x1e0)](_0x576176(0x1d3))[_0x576176(0x244)]='',document[_0x576176(0x1e0)]('rangeStartTime')[_0x576176(0x244)]='00:00',document[_0x576176(0x1e0)](_0x576176(0x178))[_0x576176(0x244)]='',document[_0x576176(0x1e0)](_0x576176(0x114))[_0x576176(0x244)]='23:59';}function renderRangesList(){const _0x2ca293=a2_0x37ea1d,_0x5b22d9=document[_0x2ca293(0x1e0)]('rangesList');_0x5b22d9['innerHTML']='';if(!specialRanges[_0x2ca293(0x232)]){_0x5b22d9[_0x2ca293(0xdc)]=_0x2ca293(0x155);return;}specialRanges[_0x2ca293(0x106)]((_0x2520e5,_0x53dbee)=>{const _0x2db372=_0x2ca293,_0x3f47d1=document[_0x2db372(0xf7)]('div');_0x3f47d1['className']=_0x2db372(0x1ed);const _0xebc83a=_0x2e0e3d=>{const _0x4a3cf0=_0x2db372,_0x4756cf=new Date(_0x2e0e3d);return _0x4756cf[_0x4a3cf0(0xf1)]()+'.'+String(_0x4756cf[_0x4a3cf0(0x20f)]()+0x1)[_0x4a3cf0(0x1f4)](0x2,'0')+'\x20'+String(_0x4756cf[_0x4a3cf0(0x15d)]())[_0x4a3cf0(0x1f4)](0x2,'0')+':'+String(_0x4756cf['getMinutes']())[_0x4a3cf0(0x1f4)](0x2,'0');};_0x3f47d1['innerHTML']=_0x2db372(0x21a)+_0xebc83a(_0x2520e5[_0x2db372(0x18d)])+_0x2db372(0xf5)+_0xebc83a(_0x2520e5[_0x2db372(0x1af)])+_0x2db372(0x1c7)+_0x53dbee+_0x2db372(0x193),_0x5b22d9['appendChild'](_0x3f47d1);});}function scrollToToday(){const _0x36e04b=a2_0x37ea1d,_0x57f761=getLocalDateStr(new Date()),_0x1293e7=document['getElementById'](_0x36e04b(0x17f)+_0x57f761),_0x1945a4=document[_0x36e04b(0x1e0)](_0x36e04b(0x191));if(_0x1293e7&&_0x1945a4){const _0x521aca=_0x1945a4[_0x36e04b(0x1f8)],_0x5970f7=_0x1293e7[_0x36e04b(0x15a)],_0xfc1273=_0x1293e7['offsetWidth'];_0x1945a4[_0x36e04b(0x14e)]=_0x5970f7-_0x521aca/0x2+_0xfc1273/0x2,_0x1945a4[_0x36e04b(0x105)]=0x9*GRID_H;}}function onScroll(){const _0x5d3cd3=a2_0x37ea1d,_0x2edf39=document['getElementById'](_0x5d3cd3(0x191)),_0x56a68b=document['querySelectorAll']('.day-col-header');for(let _0x45a4cd of _0x56a68b)if(_0x45a4cd[_0x5d3cd3(0x15a)]>=_0x2edf39[_0x5d3cd3(0x14e)]){const _0x2bc21e=new Date(_0x45a4cd[_0x5d3cd3(0x16e)]('data-date'));document[_0x5d3cd3(0x1e0)]('headerMonth')[_0x5d3cd3(0x138)]=_0x2bc21e[_0x5d3cd3(0x154)]('ru',{'month':_0x5d3cd3(0xc0)})[_0x5d3cd3(0xc2)]()+'\x20'+_0x2bc21e[_0x5d3cd3(0x13a)]();break;}}function showToast(_0x342a4e,_0x2204a3=![]){const _0x5e2d12=a2_0x37ea1d,_0x16beea=document['getElementById'](_0x5e2d12(0x1d9));_0x16beea['className']=_0x5e2d12(0x1a4)+(_0x2204a3?_0x5e2d12(0x100):''),document[_0x5e2d12(0x1e0)](_0x5e2d12(0x183))['textContent']=_0x2204a3?_0x5e2d12(0x136):_0x5e2d12(0x1b5),document[_0x5e2d12(0x1e0)](_0x5e2d12(0xcd))['textContent']=_0x342a4e,_0x16beea['classList'][_0x5e2d12(0x157)](_0x5e2d12(0x21b)),setTimeout(()=>{const _0x2ec5fa=_0x5e2d12;_0x16beea[_0x2ec5fa(0xce)]['remove'](_0x2ec5fa(0x21b));},0xbb8);}function openDayOptions(_0xc7eb95,_0x5425dc){const _0x1b89b7=a2_0x37ea1d;selectedDayForOptions=_0xc7eb95,document['getElementById'](_0x1b89b7(0x121))[_0x1b89b7(0x138)]=_0x5425dc,openSheet(_0x1b89b7(0x112));}function toggleDayOff(){const _0x20d7ab=a2_0x37ea1d;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x20d7ab(0x182),reRenderBlocks(),closeAllSheets(),DataManager[_0x20d7ab(0xd4)](),DataManager[_0x20d7ab(0x1bb)](_0x20d7ab(0x249),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x5b5573=a2_0x37ea1d;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x5b5573(0xd4)](),DataManager['fetchFromServer'](_0x5b5573(0x249),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x30f7ed){const _0x1ab13a=a2_0x37ea1d;document[_0x1ab13a(0x1e0)](_0x1ab13a(0x12e))['classList'][_0x1ab13a(0x157)](_0x1ab13a(0x149)),document['getElementById'](_0x30f7ed)[_0x1ab13a(0xce)][_0x1ab13a(0x157)]('open');}function closeAllSheets(){const _0x433758=a2_0x37ea1d;document[_0x433758(0x1e0)]('overlay')[_0x433758(0xce)][_0x433758(0x1a1)](_0x433758(0x149)),document[_0x433758(0xe6)](_0x433758(0x133))[_0x433758(0x106)](_0x5b6aa0=>_0x5b6aa0['classList'][_0x433758(0x1a1)](_0x433758(0x12f)));}function openPatternEditor(){const _0xbd9977=a2_0x37ea1d;closeAllSheets(),document[_0xbd9977(0x1e0)](_0xbd9977(0xc9))[_0xbd9977(0xce)][_0xbd9977(0x157)]('open'),renderPatternEditor();}function closePatternEditor(){const _0x327413=a2_0x37ea1d;document['getElementById']('patternEditor')[_0x327413(0xce)][_0x327413(0x1a1)](_0x327413(0x12f));}function savePattern(){const _0x14a873=a2_0x37ea1d;document[_0x14a873(0x1e0)](_0x14a873(0xc9))[_0x14a873(0xce)][_0x14a873(0x1a1)](_0x14a873(0x12f)),reRenderBlocks(),DataManager[_0x14a873(0xd4)](),DataManager['fetchFromServer'](_0x14a873(0x249),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x23e0e6=a2_0x37ea1d,_0x327a83=document[_0x23e0e6(0x1e0)](_0x23e0e6(0x148));_0x327a83[_0x23e0e6(0xdc)]='';const _0x1ded2e=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x59f242=document['createElement']('div');_0x59f242[_0x23e0e6(0x1d7)]='pe-corner',_0x327a83[_0x23e0e6(0x123)](_0x59f242),_0x1ded2e['forEach']((_0x438f8f,_0x1f1dff)=>{const _0x25970d=_0x23e0e6,_0x27abdd=document[_0x25970d(0xf7)](_0x25970d(0x1f9));_0x27abdd[_0x25970d(0x1d7)]=_0x25970d(0x127),_0x27abdd[_0x25970d(0xdc)]=_0x438f8f+'\x20<span\x20class=\x22arrow\x22>‚Üì</span>',_0x27abdd['onclick']=()=>toggleColPattern(_0x1f1dff),_0x327a83['appendChild'](_0x27abdd);});for(let _0x68f18e=0x0;_0x68f18e<0x18;_0x68f18e++){const _0xad4131=document[_0x23e0e6(0xf7)](_0x23e0e6(0x1f9));_0xad4131[_0x23e0e6(0x1d7)]=_0x23e0e6(0x1ac),_0xad4131['innerHTML']='<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>'+String(_0x68f18e)[_0x23e0e6(0x1f4)](0x2,'0')+_0x23e0e6(0x12b),_0xad4131[_0x23e0e6(0x1fe)]=()=>toggleRowPattern(_0x68f18e),_0x327a83[_0x23e0e6(0x123)](_0xad4131);for(let _0x5ff4ac=0x0;_0x5ff4ac<0x7;_0x5ff4ac++){const _0x3eda7f=document[_0x23e0e6(0xf7)]('div'),_0x231e6e=(availabilityPattern[_0x5ff4ac]||[])['includes'](_0x68f18e),_0x26072f=!_0x231e6e;_0x3eda7f['className']=_0x23e0e6(0x16f)+(_0x26072f?'active':''),_0x3eda7f[_0x23e0e6(0x1fe)]=()=>toggleSinglePattern(_0x5ff4ac,_0x68f18e),_0x327a83['appendChild'](_0x3eda7f);}}}function toggleSinglePattern(_0x529783,_0x3532fb){const _0x2646c7=a2_0x37ea1d;if(!availabilityPattern[_0x529783])availabilityPattern[_0x529783]=[];const _0x1fa666=availabilityPattern[_0x529783],_0x53b2be=_0x1fa666[_0x2646c7(0x24a)](_0x3532fb);_0x53b2be===-0x1?_0x1fa666[_0x2646c7(0x1de)](_0x3532fb):_0x1fa666[_0x2646c7(0xe0)](_0x53b2be,0x1),renderPatternEditor();}function toggleColPattern(_0x32ba01){const _0x49ef8c=a2_0x37ea1d;if(!availabilityPattern[_0x32ba01])availabilityPattern[_0x32ba01]=[];const _0x33a91e=availabilityPattern[_0x32ba01];_0x33a91e[_0x49ef8c(0x232)]===0x0?availabilityPattern[_0x32ba01]=Array[_0x49ef8c(0x210)]({'length':0x18},(_0x2c20cd,_0x48539d)=>_0x48539d):availabilityPattern[_0x32ba01]=[],renderPatternEditor();}function toggleRowPattern(_0x45e09f){const _0x304d56=a2_0x37ea1d;let _0xe2f764=!![];for(let _0x580a16=0x0;_0x580a16<0x7;_0x580a16++){if((availabilityPattern[_0x580a16]||[])[_0x304d56(0x19f)](_0x45e09f)){_0xe2f764=![];break;}}for(let _0x1febb8=0x0;_0x1febb8<0x7;_0x1febb8++){if(!availabilityPattern[_0x1febb8])availabilityPattern[_0x1febb8]=[];const _0x11e6c5=availabilityPattern[_0x1febb8][_0x304d56(0x24a)](_0x45e09f);if(_0xe2f764){if(_0x11e6c5===-0x1)availabilityPattern[_0x1febb8][_0x304d56(0x1de)](_0x45e09f);}else{if(_0x11e6c5!==-0x1)availabilityPattern[_0x1febb8][_0x304d56(0xe0)](_0x11e6c5,0x1);}}renderPatternEditor();}function renderPCol(_0x227f97,_0x4c18e9){const _0x2297ad=a2_0x37ea1d;_0x227f97[_0x2297ad(0xdc)]='';const _0x284b7a=Math[_0x2297ad(0x172)](_0x227f97['offsetLeft']);(availabilityPattern[_0x4c18e9]||[])['forEach'](_0x55bf84=>{const _0x7c0563=_0x2297ad,_0x6a0f88=document[_0x7c0563(0xf7)](_0x7c0563(0x1f9));_0x6a0f88[_0x7c0563(0x1d7)]=_0x7c0563(0x202);const _0x25deee=_0x55bf84*GRID_H;_0x6a0f88[_0x7c0563(0x1c3)][_0x7c0563(0xe3)]=_0x25deee+'px',_0x6a0f88[_0x7c0563(0x1c3)][_0x7c0563(0x1a2)]='-'+_0x284b7a+_0x7c0563(0x14d)+_0x25deee+'px',_0x6a0f88[_0x7c0563(0x1fe)]=_0x28d6e0=>{_0x28d6e0['stopPropagation'](),toggleSinglePattern(_0x4c18e9,_0x55bf84);},_0x227f97[_0x7c0563(0x123)](_0x6a0f88);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0xa60fbe=a2_0x37ea1d,_0x233a5a=new Date(),_0x4c7bdc=document[_0xa60fbe(0x1e0)](_0xa60fbe(0x1f0)),_0x478d32=document[_0xa60fbe(0x1e0)](_0xa60fbe(0xfd)),_0x1ff3e8=(_0x233a5a[_0xa60fbe(0x15d)]()*0x3c+_0x233a5a[_0xa60fbe(0x1c4)]())/0x3c*GRID_H;_0x4c7bdc['style']['top']=_0x1ff3e8+'px',_0x4c7bdc[_0xa60fbe(0x1c3)]['display']='block',_0x478d32[_0xa60fbe(0x138)]=String(_0x233a5a[_0xa60fbe(0x15d)]())[_0xa60fbe(0x1f4)](0x2,'0')+':'+String(_0x233a5a[_0xa60fbe(0x1c4)]())[_0xa60fbe(0x1f4)](0x2,'0'),_0x478d32['style'][_0xa60fbe(0x13c)]=_0xa60fbe(0xfc),_0x478d32[_0xa60fbe(0x1c3)][_0xa60fbe(0xe3)]=_0x1ff3e8+'px';}document[a2_0x37ea1d(0x12d)](a2_0x37ea1d(0x1bd),init);function openDayOptions(_0x2e1133){const _0x5cea3e=a2_0x37ea1d;selectedDayForOptions=_0x2e1133;const _0x5b410e=new Date(_0x2e1133),_0x34d3e2={'weekday':_0x5cea3e(0xc0),'day':_0x5cea3e(0x171),'month':_0x5cea3e(0xc0),'year':'numeric'},_0x1fb755=_0x5b410e[_0x5cea3e(0x11d)]('ru-RU',_0x34d3e2);document['getElementById'](_0x5cea3e(0x200))[_0x5cea3e(0x138)]=_0x1fb755[_0x5cea3e(0x144)](0x0)[_0x5cea3e(0xc2)]()+_0x1fb755[_0x5cea3e(0x11b)](0x1);let _0x5dc122=_0x5b410e[_0x5cea3e(0x1c6)]()-0x1;if(_0x5dc122===-0x1)_0x5dc122=0x6;const _0x5809a9=availabilityPattern[_0x5dc122]||[],_0x242c61=0x18-_0x5809a9['length'],_0x36f9d9=_0x242c61*0x3c,_0x392682=sessions[_0x5cea3e(0x19e)](_0x26b683=>_0x26b683['dateStr']===_0x2e1133&&_0x26b683[_0x5cea3e(0x1bf)]!==_0x5cea3e(0x203));let _0x19b9c7=_0x392682['map'](_0x39b96e=>{const _0x49e424=_0x5cea3e,[_0x365004,_0x31013b]=_0x39b96e[_0x49e424(0x18d)]['split'](':')[_0x49e424(0x104)](Number),[_0x3b2e16,_0x4ccf81]=_0x39b96e[_0x49e424(0x1af)][_0x49e424(0xca)](':')[_0x49e424(0x104)](Number);return[_0x365004*0x3c+_0x31013b,_0x3b2e16*0x3c+_0x4ccf81];});_0x19b9c7[_0x5cea3e(0x237)]((_0x2deee4,_0x207d9b)=>_0x2deee4[0x0]-_0x207d9b[0x0]);let _0x22eae9=[];if(_0x19b9c7[_0x5cea3e(0x232)]>0x0){let _0x3c462d=_0x19b9c7[0x0];for(let _0x265af7=0x1;_0x265af7<_0x19b9c7[_0x5cea3e(0x232)];_0x265af7++){_0x19b9c7[_0x265af7][0x0]<_0x3c462d[0x1]?_0x3c462d[0x1]=Math['max'](_0x3c462d[0x1],_0x19b9c7[_0x265af7][0x1]):(_0x22eae9[_0x5cea3e(0x1de)](_0x3c462d),_0x3c462d=_0x19b9c7[_0x265af7]);}_0x22eae9[_0x5cea3e(0x1de)](_0x3c462d);}let _0x4dbe15=0x0;_0x22eae9[_0x5cea3e(0x106)](_0x2c5d66=>_0x4dbe15+=_0x2c5d66[0x1]-_0x2c5d66[0x0]),document[_0x5cea3e(0x1e0)]('doWorkHours')[_0x5cea3e(0x138)]=formatMinsToHrs(_0x36f9d9),document['getElementById'](_0x5cea3e(0xed))['textContent']=formatMinsToHrs(_0x4dbe15);const _0x45b82d=_0x36f9d9>0x0?Math[_0x5cea3e(0x172)](_0x4dbe15/_0x36f9d9*0x64):0x0,_0x2ddf6f=document[_0x5cea3e(0x1e0)](_0x5cea3e(0x1be));_0x2ddf6f[_0x5cea3e(0x138)]=_0x45b82d+'%';const _0x3a4040=document[_0x5cea3e(0x1e0)](_0x5cea3e(0x161));if(_0x45b82d>0x64)_0x2ddf6f[_0x5cea3e(0x1c3)][_0x5cea3e(0x1aa)]=_0x5cea3e(0x228),_0x3a4040[_0x5cea3e(0x1c3)][_0x5cea3e(0x1c0)]=_0x5cea3e(0xc6);else _0x45b82d>0x50?(_0x2ddf6f[_0x5cea3e(0x1c3)][_0x5cea3e(0x1aa)]=_0x5cea3e(0x1c5),_0x3a4040['style'][_0x5cea3e(0x1c0)]=_0x5cea3e(0x142)):(_0x2ddf6f[_0x5cea3e(0x1c3)][_0x5cea3e(0x1aa)]=_0x5cea3e(0xf6),_0x3a4040[_0x5cea3e(0x1c3)][_0x5cea3e(0x1c0)]=_0x5cea3e(0xd1));const _0x22d8fc=document[_0x5cea3e(0x1e0)](_0x5cea3e(0x1fc));_0x22d8fc[_0x5cea3e(0xdc)]='';_0x392682[_0x5cea3e(0x232)]===0x0?_0x22d8fc[_0x5cea3e(0xdc)]='<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>':(_0x392682['sort']((_0x5e0fc3,_0x103510)=>_0x5e0fc3[_0x5cea3e(0x18d)][_0x5cea3e(0x173)](_0x103510[_0x5cea3e(0x18d)])),_0x392682[_0x5cea3e(0x106)](_0x2c3541=>{const _0x461562=_0x5cea3e,_0x3e19a0=clients[_0x461562(0x107)](_0x24d653=>_0x24d653['name']===_0x2c3541[_0x461562(0xde)]),_0x4b5913=_0x3e19a0?_0x3e19a0[_0x461562(0x1aa)]:_0x461562(0xd6),_0x2dc6c8=_0x2c3541[_0x461562(0x1bf)]===_0x461562(0x223),_0x171b02=_0x2dc6c8?_0x461562(0xe4):'',_0x4cc6fc=document['createElement']('div');_0x4cc6fc['className']='de-item',_0x4cc6fc[_0x461562(0x1c3)][_0x461562(0x1b7)]=_0x4b5913,_0x4cc6fc[_0x461562(0xdc)]=_0x461562(0x22c)+_0x2c3541['start']+_0x461562(0x17e)+_0x2c3541[_0x461562(0x1af)]+_0x461562(0x243)+_0x2c3541[_0x461562(0xde)]+_0x461562(0x1d0)+_0x171b02+_0x461562(0xcc),_0x22d8fc['appendChild'](_0x4cc6fc);}));const _0x262aa6=document[_0x5cea3e(0x1e0)](_0x5cea3e(0x1fb)),_0x2e8fb0=dateExceptions[_0x2e1133]===_0x5cea3e(0x182);_0x2e8fb0?(_0x262aa6[_0x5cea3e(0x138)]=_0x5cea3e(0x19a),_0x262aa6[_0x5cea3e(0x1d7)]='btn-primary\x20btn-secondary',_0x262aa6[_0x5cea3e(0x1c3)]['color']=_0x5cea3e(0xf6),_0x262aa6['style'][_0x5cea3e(0x176)]=_0x5cea3e(0x218)):(_0x262aa6[_0x5cea3e(0x138)]=_0x5cea3e(0x151),_0x262aa6[_0x5cea3e(0x1d7)]=_0x5cea3e(0x15f),_0x262aa6[_0x5cea3e(0x1c3)][_0x5cea3e(0x1aa)]=_0x5cea3e(0x228),_0x262aa6[_0x5cea3e(0x1c3)][_0x5cea3e(0x176)]='rgba(255,\x2069,\x2058,\x200.15)'),openSheet(_0x5cea3e(0x112));}let currentAnPeriod=a2_0x37ea1d(0x101);function openAnalytics(){const _0x20b9f9=a2_0x37ea1d,_0x4a69e1=document['querySelector'](_0x20b9f9(0xf9));setAnalyticsPeriod(_0x20b9f9(0x101),_0x4a69e1),closeAllSheets(),openSheet(_0x20b9f9(0x241));}function setAnalyticsPeriod(_0x599b1a,_0x2e9882){const _0x3c834b=a2_0x37ea1d;currentAnPeriod=_0x599b1a,document[_0x3c834b(0xe6)]('.period-switch\x20.p-btn')[_0x3c834b(0x106)](_0x3c2635=>_0x3c2635['classList']['remove'](_0x3c834b(0x149)));if(_0x2e9882)_0x2e9882['classList']['add'](_0x3c834b(0x149));const _0x4f3914=document['getElementById'](_0x3c834b(0x167));_0x4f3914[_0x3c834b(0x1c3)][_0x3c834b(0x13c)]=_0x599b1a===_0x3c834b(0x197)?_0x3c834b(0x195):_0x3c834b(0x21d);const _0x574d23=new Date();let _0x3c5e26=new Date(),_0x3a9b0c=new Date();if(_0x599b1a===_0x3c834b(0x101))_0x3c5e26=getStartOfWeek(_0x574d23),_0x3a9b0c=new Date(_0x3c5e26),_0x3a9b0c[_0x3c834b(0xf4)](_0x3a9b0c[_0x3c834b(0xf1)]()+0x6);else{if(_0x599b1a===_0x3c834b(0x159))_0x3c5e26=new Date(_0x574d23['getFullYear'](),_0x574d23[_0x3c834b(0x20f)](),0x1),_0x3a9b0c=new Date(_0x574d23[_0x3c834b(0x13a)](),_0x574d23['getMonth']()+0x1,0x0);else{!document[_0x3c834b(0x1e0)](_0x3c834b(0x208))[_0x3c834b(0x244)]&&(document[_0x3c834b(0x1e0)](_0x3c834b(0x208))[_0x3c834b(0x244)]=getLocalDateStr(_0x574d23),document[_0x3c834b(0x1e0)](_0x3c834b(0xcf))[_0x3c834b(0x244)]=getLocalDateStr(_0x574d23));refreshAnalytics();return;}}document[_0x3c834b(0x1e0)]('anStart')[_0x3c834b(0x244)]=getLocalDateStr(_0x3c5e26),document[_0x3c834b(0x1e0)](_0x3c834b(0xcf))[_0x3c834b(0x244)]=getLocalDateStr(_0x3a9b0c),refreshAnalytics();}function refreshAnalytics(){const _0x24865d=a2_0x37ea1d,_0x2349f4=document[_0x24865d(0x1e0)](_0x24865d(0x208))[_0x24865d(0x244)],_0x496b1d=document[_0x24865d(0x1e0)]('anEnd')[_0x24865d(0x244)];if(!_0x2349f4||!_0x496b1d)return;const _0x52d1a4=sessions[_0x24865d(0x19e)](_0x2268b7=>_0x2268b7[_0x24865d(0x23f)]>=_0x2349f4&&_0x2268b7[_0x24865d(0x23f)]<=_0x496b1d&&_0x2268b7[_0x24865d(0x1bf)]!==_0x24865d(0x203)),_0x522996=_0x52d1a4[_0x24865d(0x232)],_0x24f599=_0x52d1a4[_0x24865d(0x19e)](_0x1ed57f=>_0x1ed57f[_0x24865d(0x1bf)]==='completed')[_0x24865d(0x232)],_0xb92078=_0x522996>0x0?Math[_0x24865d(0x172)](_0x24f599/_0x522996*0x64):0x0;document['getElementById'](_0x24865d(0x18f))['textContent']=_0xb92078+'%',document[_0x24865d(0x1e0)](_0x24865d(0x21c))['textContent']=_0x24f599+_0x24865d(0x111)+_0x522996+'\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ';const _0xc6e4c=document[_0x24865d(0x1e0)]('anDonutCircle'),_0x1cd013=0x2*Math['PI']*0x23,_0x13e03c=_0x1cd013-_0xb92078/0x64*_0x1cd013;_0xc6e4c[_0x24865d(0x1c3)][_0x24865d(0x130)]=_0x13e03c;const _0x1c63d8={};_0x52d1a4[_0x24865d(0x106)](_0x4acedf=>{const _0x4267c9=_0x24865d;if(!_0x1c63d8[_0x4acedf[_0x4267c9(0xde)]]){const _0x3242f3=clients[_0x4267c9(0x107)](_0x4f1c55=>_0x4f1c55[_0x4267c9(0x153)]===_0x4acedf['client']);_0x1c63d8[_0x4acedf[_0x4267c9(0xde)]]={'total':0x0,'done':0x0,'color':_0x3242f3?_0x3242f3[_0x4267c9(0x1aa)]:_0x4267c9(0xd6)};}_0x1c63d8[_0x4acedf[_0x4267c9(0xde)]][_0x4267c9(0x1fa)]++;if(_0x4acedf['status']==='completed')_0x1c63d8[_0x4acedf[_0x4267c9(0xde)]][_0x4267c9(0xf8)]++;});const _0xee0750=document['getElementById'](_0x24865d(0x1cd));_0xee0750[_0x24865d(0xdc)]='';const _0x3d710a=Object['entries'](_0x1c63d8)[_0x24865d(0x237)]((_0xa1ea51,_0x55f6bc)=>_0x55f6bc[0x1][_0x24865d(0x1fa)]-_0xa1ea51[0x1]['total']);if(_0x3d710a['length']===0x0){_0xee0750['innerHTML']=_0x24865d(0x1cc);return;}_0x3d710a[_0x24865d(0x106)](([_0x58ba52,_0x17f2dd])=>{const _0x598794=_0x24865d,_0x36db3d=Math['round'](_0x17f2dd[_0x598794(0xf8)]/_0x17f2dd['total']*0x64),_0x705526=document['createElement']('div');_0x705526[_0x598794(0x1d7)]='client-stat-card',_0x705526[_0x598794(0x1c3)][_0x598794(0x1b7)]=_0x17f2dd['color'],_0x705526[_0x598794(0xdc)]=_0x598794(0x1db)+_0x58ba52+_0x598794(0x184)+_0x17f2dd['done']+_0x598794(0x180)+_0x17f2dd[_0x598794(0x1fa)]+_0x598794(0x1d2)+_0x36db3d+_0x598794(0xc4),_0xee0750['appendChild'](_0x705526);});}function formatMinsToHrs(_0x1f25f6){const _0x361b15=a2_0x37ea1d;if(_0x1f25f6===0x0)return'0';const _0x1c46b8=Math[_0x361b15(0x14c)](_0x1f25f6/0x3c),_0x2716f8=_0x1f25f6%0x3c;if(_0x2716f8===0x0)return _0x1c46b8+'—á';return _0x1c46b8+'—á\x20'+_0x2716f8+'–º';}