const a2_0x4ef4d3=a2_0x36c8;(function(_0x22fc3b,_0x19e4ab){const _0x4fdb6c=a2_0x36c8,_0x1b2e10=_0x22fc3b();while(!![]){try{const _0x4835a0=parseInt(_0x4fdb6c(0x28c))/0x1*(parseInt(_0x4fdb6c(0x2dc))/0x2)+parseInt(_0x4fdb6c(0x21e))/0x3*(parseInt(_0x4fdb6c(0x2a2))/0x4)+parseInt(_0x4fdb6c(0x2c8))/0x5+-parseInt(_0x4fdb6c(0x26a))/0x6+-parseInt(_0x4fdb6c(0x2ba))/0x7*(parseInt(_0x4fdb6c(0x2dd))/0x8)+parseInt(_0x4fdb6c(0x1e8))/0x9+-parseInt(_0x4fdb6c(0x2ee))/0xa;if(_0x4835a0===_0x19e4ab)break;else _0x1b2e10['push'](_0x1b2e10['shift']());}catch(_0x23024d){_0x1b2e10['push'](_0x1b2e10['shift']());}}}(a2_0x5c98,0x9f78f),function initTMA(){const _0x2a1165=a2_0x36c8;try{const _0x827b22=window['Telegram']?.[_0x2a1165(0x202)];if(!_0x827b22)return;_0x827b22[_0x2a1165(0x2b6)](),_0x827b22[_0x2a1165(0x2fd)]();try{_0x827b22[_0x2a1165(0x20d)]('#050505'),_0x827b22[_0x2a1165(0x325)]&&_0x827b22[_0x2a1165(0x325)](_0x2a1165(0x29a));}catch(_0x5a77a9){console['log'](_0x2a1165(0x23d),_0x5a77a9);}try{_0x827b22[_0x2a1165(0x1f6)]&&(_0x827b22[_0x2a1165(0x1f6)][_0x2a1165(0x324)](),_0x827b22[_0x2a1165(0x1f6)]['offClick'](),_0x827b22[_0x2a1165(0x1f6)][_0x2a1165(0x31e)](function(){const _0xb38ae5=_0x2a1165;window[_0xb38ae5(0x294)][_0xb38ae5(0x2b0)]=_0xb38ae5(0x2c5);}));}catch(_0x40625a){console[_0x2a1165(0x25a)]('Error\x20setting\x20back\x20button:',_0x40625a);}try{if(_0x827b22[_0x2a1165(0x1d3)])_0x827b22[_0x2a1165(0x1d3)]();}catch(_0x47ffe7){}}catch(_0x350166){console[_0x2a1165(0x2a6)](_0x2a1165(0x27f),_0x350166);}}());function isAdmin(){const _0x14cb37=a2_0x36c8;try{const _0x1ed5ca=Number(window[_0x14cb37(0x327)]?.['WebApp']?.['initDataUnsafe']?.['user']?.['id']);return _0x1ed5ca===0xbaf7174;}catch(_0x55d9ad){return![];}}const APP_VERSION='v9.0-BATCH-CALENDAR',API_URL='https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec',GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS='uc_clients_v9',KEY_SESSIONS=a2_0x4ef4d3(0x1b0),KEY_SETTINGS=a2_0x4ef4d3(0x219);function a2_0x5c98(){const _0x45da90=['[Notify]\x20Error:\x20sessionData\x20is\x20null','event-card','ranges','<div\x20class=\x22ev-title\x22>','cancelled','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','exceptions','scroll','[Sync]\x20Loading\x20','rgba(','note','delete','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','create','...','pe-cell\x20','time-label','clients','(((.+)+)+)+$','onClick','success','getTime','\x20‚Äî\x20','toLocaleDateString','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','show','setBackgroundColor','.day-column','Telegram','daysHeaderTrack','init_load','mergeServerData','clientWidth','innerHTML','pattern','createDocumentFragment','actionSheet','patternEditor','inpEnd','scrollTop','rgba(255,\x2069,\x2058,\x200.3)','charAt','toFixed','uc_sessions_v9','user','setDate','batch_sync','getAttribute','toastTitle','saveLocally','btnDayToggle','left','save','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','initDataUnsafe','</div><div\x20class=\x22ev-time\x22>','</div>','100%','getItem','day-column\x20','parse','querySelector','addEventListener','flex','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','rgba(255,\x2069,\x2058,\x200.15)','max','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','warn','var(--acc-green)','zIndex','</span>\x20/\x20','<b>‚úÖ\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','toast','rgba(100,100,100,0.5)','random','disableVerticalSwipes','calc(','catch','dayOptionsTitle','send','23:59','name','active','sessionSheet','textContent','text','fetchFromServer','seriesCountContainer','anDonutCircle','from','insertBefore','touchstart','inpRecurring','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','T23:59:59','rangeEndTime','10970595GVORWC','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','rangesSheet','btn-primary\x20btn-secondary','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','classList','\x20status-completed','inpNote','touchend','inpDate','#gridColumns\x20.day-column','height','header-','globalTimeLine','BackButton','.event-card','dateStr','var(--acc-orange)','<div\x20class=\x22dch-day\x22>','null','.day-off-overlay','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','Local\x20Load\x20Error','sheetDateSubtitle','background','seriesId','WebApp','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','single','createElement','checked','inpSeriesCount','update','[Notify]\x20Detected\x20Client\x20ID:','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','getDate','setHeaderColor','querySelectorAll','map','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','borderColor','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','getDay','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','headerMonth','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','analyticsList','uc_settings_v9','inpClient','<span>','indexOf','msg','841437AYXUCF','pe-corner','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','end','gridColumns','clientId','offsetLeft','send_notification','getBoundingClientRect','px\x20-','isArray','statLoadCard','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','keys','overlay','setHours','borderLeftColor','.pib-text','recurringOptionContainer','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','json','start','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','anPercent','min','</div><div\x20class=\x22dch-num\x22>','style','total','scrollWidth','00:00','setItem','Error\x20setting\x20color:','target','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','var(--acc-current)','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','value','mousemove',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','localeCompare','now','peGrid','valid','entries','guest','T00:00:00','var(--acc-red)','filter','data-date','[Notify]\x20Network\x20Failed','dayOptionsSheet','day-col-header\x20','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','touchmove','appendChild','getText','toast-notification\x20','day-off-overlay\x20stripe-bg','timeLineBadge','round','log','find','patternInfoBox','backgroundPosition','then','[Settings]\x20Cancel\x20window\x20set\x20to:','btnStatusToggle','substr','inpStart','matrixViewport','stopPropagation','block','planned','floor','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','[Notify]\x20Server\x20Response:','2995092lAKhOy','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','asTitle','doLoadPercent','btnDelete',':\x20Client\x20already\x20booked','[Notify]\x20Error:\x20Text\x20generation\x20failed','doBusyHours','long','color','status','toLocaleString','as-button\x20danger\x20bold','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','getMinutes','cancel_window','scrollLeft','initData','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','className',':00','Critical\x20TMA\x20Error:','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','mouseup','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','open','uc_settings_cancel_window','blocked-range-part\x20stripe-bg','top','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','off','add','toString','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','1885HPOVpj','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','#fff','settings','pe-col-header','display','rangeEndDate','location','anEnd','getMonth','[API\x20','forEach','all','#050505','cancel','getHours',']\x20Failed:','save_settings','clientY','length','div','4UsJueW','formatDate','findIndex','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','error','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','toastMessage','splice','constructor','#0a84ff','as-button\x20danger','colIndex','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','borderRadius','href','onclick','getFullYear','pe-time-label','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','[Notify]\x20Attempting\x20to\x20send:','ready','10px',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','10675sIBLVd','width','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','.day-col-header','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','text/plain;charset=UTF-8','complete','\x20-\x20','week','POST','remove','router.html','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','5958470qAvtVw','getElementById','rangeStartDate','.sheet','%\x20+\x202px)','syncBatch','client','setAttribute','.dch-stats-fill','px\x200px','rangesList','anStart','slice','settingCancelWindow','%\x20-\x204px)','stringify','push','today','warning','doDateHeader','398BmaOzl','4696zfLJtw',':00</span>','completed','mousedown','asBtnOne','actionSheetOverlay','deleted','Server\x20Error','toUpperCase','data-day-idx','split','anTotalStats','startsWith','–£–¥–∞–ª–µ–Ω–∏–µ','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','padStart','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','10186870uCKqla','closest','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','timeColumn',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','Local\x20Save\x20Error','doEventsList','–ò–Ω—Ñ–æ','blocked-slot\x20stripe-bg','touches','sheetTitle','ru-RU','none','analyticsSheet','numeric','expand','de-item','btn-status-toggle','doWorkHours','includes','data','option','series','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','done','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','sort','vibrate','calendar'];a2_0x5c98=function(){return _0x45da90;};return a2_0x5c98();}let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x2bcc6b=a2_0x4ef4d3;return window['Telegram']?.[_0x2bcc6b(0x202)]?.[_0x2bcc6b(0x1bb)]?.[_0x2bcc6b(0x1b1)]?.['id']||_0x2bcc6b(0x24a);},'saveLocally'(){const _0x12b346=a2_0x4ef4d3;try{localStorage[_0x12b346(0x23c)](KEY_CLIENTS,JSON[_0x12b346(0x2d7)](clients)),localStorage[_0x12b346(0x23c)](KEY_SESSIONS,JSON['stringify'](sessions)),localStorage[_0x12b346(0x23c)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x21e819){console[_0x12b346(0x2a6)](_0x12b346(0x2f3),_0x21e819);}},'loadLocal'(){const _0x4bcc91=a2_0x4ef4d3;try{const _0x5c1ad6=localStorage[_0x4bcc91(0x1bf)](KEY_CLIENTS);if(_0x5c1ad6)clients=JSON['parse'](_0x5c1ad6);const _0x215a90=localStorage['getItem'](KEY_SESSIONS);if(_0x215a90)sessions=JSON[_0x4bcc91(0x1c1)](_0x215a90);const _0x450eda=localStorage[_0x4bcc91(0x1bf)](KEY_SETTINGS);if(_0x450eda){const _0x5d04ce=JSON[_0x4bcc91(0x1c1)](_0x450eda);if(_0x5d04ce[_0x4bcc91(0x1a7)])availabilityPattern=_0x5d04ce[_0x4bcc91(0x1a7)];if(_0x5d04ce[_0x4bcc91(0x311)])dateExceptions=_0x5d04ce['exceptions'];if(_0x5d04ce[_0x4bcc91(0x30d)])specialRanges=_0x5d04ce['ranges'];}else{for(let _0x22b3bc=0x0;_0x22b3bc<0x7;_0x22b3bc++)availabilityPattern[_0x22b3bc]=Array['from']({'length':0xc},(_0x3cd5f4,_0x3b4655)=>_0x3b4655+0x9);}}catch(_0x48c425){console[_0x4bcc91(0x2a6)](_0x4bcc91(0x1fe),_0x48c425);}},async 'fetchFromServer'(_0x576a93,_0x50e4a8={}){const _0x1f0a74=a2_0x4ef4d3,_0x4bb2c3=window[_0x1f0a74(0x327)]?.[_0x1f0a74(0x202)],_0x1972ee={'action':_0x576a93,'init_data':_0x4bb2c3?.[_0x1f0a74(0x27b)]||'',..._0x50e4a8};try{const _0x26900c=await fetch(API_URL,{'method':_0x1f0a74(0x2c3),'headers':{'Content-Type':_0x1f0a74(0x2bf)},'body':JSON[_0x1f0a74(0x2d7)](_0x1972ee)}),_0x40cd45=await _0x26900c[_0x1f0a74(0x232)]();if(!_0x40cd45['ok'])throw new Error(_0x40cd45[_0x1f0a74(0x2a6)]||_0x1f0a74(0x2e4));return _0x40cd45['data'];}catch(_0x951fca){console[_0x1f0a74(0x2a6)](_0x1f0a74(0x297)+_0x576a93+_0x1f0a74(0x29d),_0x951fca);throw _0x951fca;}},async 'syncLoad'(){const _0x3ba831=a2_0x4ef4d3,_0xf49476=new Date(),_0x1aa09f=_0xf49476[_0x3ba831(0x2b2)]()+'-'+String(_0xf49476[_0x3ba831(0x296)]()+0x1)[_0x3ba831(0x2ec)](0x2,'0'),_0x176d5a=new Date(_0xf49476);_0x176d5a['setMonth'](_0xf49476['getMonth']()+0x1);const _0x4c3648=_0x176d5a[_0x3ba831(0x2b2)]()+'-'+String(_0x176d5a['getMonth']()+0x1)[_0x3ba831(0x2ec)](0x2,'0'),_0x525323=Date[_0x3ba831(0x246)]();console[_0x3ba831(0x25a)](_0x3ba831(0x313)+_0x1aa09f+',\x20'+_0x4c3648+'...');try{const [_0x31fe48,_0x1ca80c]=await Promise[_0x3ba831(0x299)]([this[_0x3ba831(0x1de)](_0x3ba831(0x329),{'month_str':_0x1aa09f}),this[_0x3ba831(0x1de)](_0x3ba831(0x329),{'month_str':_0x4c3648})]);if(lastUserActionTime>_0x525323)return console['warn'](_0x3ba831(0x277)),![];return this['mergeServerData'](_0x31fe48,_0x1aa09f),this[_0x3ba831(0x32a)](_0x1ca80c,_0x4c3648),this[_0x3ba831(0x1b6)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x522079){console['error'](_0x522079);throw _0x522079;}},'mergeServerData'(_0x32eef9,_0x540278){const _0x5525d0=a2_0x4ef4d3;if(!_0x32eef9)return;_0x32eef9[_0x5525d0(0x31c)]&&Array[_0x5525d0(0x228)](_0x32eef9['clients'])&&(clients=_0x32eef9[_0x5525d0(0x31c)]);if(_0x32eef9['settings']){if(_0x32eef9['settings'][_0x5525d0(0x1a7)])availabilityPattern=_0x32eef9[_0x5525d0(0x290)][_0x5525d0(0x1a7)];if(_0x32eef9['settings'][_0x5525d0(0x311)])dateExceptions=_0x32eef9[_0x5525d0(0x290)]['exceptions'];if(_0x32eef9['settings']['ranges'])specialRanges=_0x32eef9[_0x5525d0(0x290)]['ranges'];if(_0x32eef9[_0x5525d0(0x290)]['cancel_window']){localStorage['setItem']('uc_settings_cancel_window',_0x32eef9[_0x5525d0(0x290)][_0x5525d0(0x279)]);const _0x4ded7e=document[_0x5525d0(0x2c9)](_0x5525d0(0x2d5));if(_0x4ded7e)_0x4ded7e[_0x5525d0(0x242)]=_0x32eef9[_0x5525d0(0x290)]['cancel_window'];}}_0x32eef9['calendar']&&(sessions=sessions[_0x5525d0(0x24d)](_0x1191cc=>!_0x1191cc[_0x5525d0(0x1f8)][_0x5525d0(0x2e9)](_0x540278)),Object[_0x5525d0(0x22b)](_0x32eef9[_0x5525d0(0x30a)])[_0x5525d0(0x298)](_0x4ef2dd=>{const _0xf4e18e=_0x5525d0,_0xcd8d21=_0x32eef9[_0xf4e18e(0x30a)][_0x4ef2dd];_0xcd8d21[_0xf4e18e(0x298)](_0x47aea6=>{const _0x25cc46=_0xf4e18e,_0x467a36=clients[_0x25cc46(0x25b)](_0x5b69dd=>String(_0x5b69dd['id'])===String(_0x47aea6['c']));sessions['push']({'id':_0x47aea6['i'],'clientId':_0x47aea6['c'],'client':_0x467a36?_0x467a36[_0x25cc46(0x1d9)]:'Unknown','dateStr':_0x540278+'-'+_0x4ef2dd[_0x25cc46(0x2ec)](0x2,'0'),'start':_0x47aea6['s'],'end':_0x47aea6['e'],'status':_0x47aea6['st']||'planned','note':_0x47aea6['n']||'','seriesId':_0x47aea6['sid']||null});});}));},async 'syncBatch'(_0x39f12f){const _0x4997a5=a2_0x4ef4d3,_0x482eb8=[...new Set(_0x39f12f)],_0x5e885a=_0x482eb8[_0x4997a5(0x20f)](_0x485e80=>{const _0x453b9a=_0x4997a5,_0x40f579=sessions['filter'](_0x65b90=>_0x65b90[_0x453b9a(0x1f8)]===_0x485e80&&_0x65b90['status']!==_0x453b9a(0x2e3)),_0x1c4fd9=_0x40f579[_0x453b9a(0x20f)](_0x19a8b5=>({'i':_0x19a8b5['id'],'c':_0x19a8b5[_0x453b9a(0x223)],'s':_0x19a8b5[_0x453b9a(0x233)],'e':_0x19a8b5[_0x453b9a(0x221)],'st':_0x19a8b5['status'],'n':_0x19a8b5['note'],'sid':_0x19a8b5[_0x453b9a(0x201)]}));return{'date':_0x485e80,'day_data':_0x1c4fd9};});if(_0x5e885a[_0x4997a5(0x2a0)]===0x0)return;console[_0x4997a5(0x25a)](_0x4997a5(0x2b9)+_0x5e885a[_0x4997a5(0x2a0)]+'\x20days'),await this[_0x4997a5(0x1de)](_0x4997a5(0x1b3),{'changes':_0x5e885a});}};async function init(){const _0x5a6d0a=a2_0x4ef4d3;DataManager['loadLocal'](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x5a6d0a(0x2c9)](_0x5a6d0a(0x263))[_0x5a6d0a(0x1c3)](_0x5a6d0a(0x312),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']()['then'](()=>{const _0x25cee8=_0x5a6d0a;showToast(_0x25cee8(0x282),!![]);})['catch'](_0x5ea5c4=>{const _0x1b57e1=_0x5a6d0a;showToast(_0x1b57e1(0x1c5),![]);});}function generateId(){const _0x220bf2=a2_0x4ef4d3;return Date[_0x220bf2(0x246)]()[_0x220bf2(0x28a)](0x24)+Math[_0x220bf2(0x1d2)]()['toString'](0x24)[_0x220bf2(0x261)](0x2,0x5);}function toggleSeriesInput(){const _0xe317d1=a2_0x4ef4d3,_0xae9235=document['getElementById'](_0xe317d1(0x1e4))[_0xe317d1(0x206)],_0xe8ded2=document[_0xe317d1(0x2c9)](_0xe317d1(0x1df));_0xe8ded2[_0xe317d1(0x238)][_0xe317d1(0x292)]=_0xae9235?_0xe317d1(0x265):'none';const _0x323e59=document['getElementById'](_0xe317d1(0x230));_0x323e59[_0xe317d1(0x238)][_0xe317d1(0x2af)]=_0xae9235?'10px\x2010px\x200\x200':_0xe317d1(0x2b7);}function openAddSession(_0x2d7500){const _0x5c31c4=a2_0x4ef4d3;editingId=null,populateClientSelect(),document[_0x5c31c4(0x2c9)]('sheetTitle')[_0x5c31c4(0x1dc)]=_0x5c31c4(0x1c9),document[_0x5c31c4(0x2c9)]('btnDelete')[_0x5c31c4(0x238)][_0x5c31c4(0x292)]='none',document[_0x5c31c4(0x2c9)]('btnStatusToggle')[_0x5c31c4(0x238)]['display']='none';const _0x5ae5e4=document['getElementById'](_0x5c31c4(0x230)),_0x3e5e44=document[_0x5c31c4(0x2c9)](_0x5c31c4(0x1df));_0x5ae5e4[_0x5c31c4(0x238)][_0x5c31c4(0x292)]=_0x5c31c4(0x1c4),_0x5ae5e4['style'][_0x5c31c4(0x2af)]=_0x5c31c4(0x2b7),document[_0x5c31c4(0x2c9)](_0x5c31c4(0x1e4))[_0x5c31c4(0x206)]=![],document[_0x5c31c4(0x2c9)](_0x5c31c4(0x207))[_0x5c31c4(0x242)]=0x4,_0x3e5e44['style'][_0x5c31c4(0x292)]=_0x5c31c4(0x2fa),document['getElementById'](_0x5c31c4(0x1f1))[_0x5c31c4(0x242)]=getLocalDateStr(_0x2d7500),updateDateDisplay();const _0x225ae1=_0x2d7500[_0x5c31c4(0x29c)]();document[_0x5c31c4(0x2c9)](_0x5c31c4(0x262))[_0x5c31c4(0x242)]=String(_0x225ae1)[_0x5c31c4(0x2ec)](0x2,'0')+':00',document[_0x5c31c4(0x2c9)](_0x5c31c4(0x1ab))[_0x5c31c4(0x242)]=String(_0x225ae1+0x1)[_0x5c31c4(0x2ec)](0x2,'0')+_0x5c31c4(0x27e),openSheet(_0x5c31c4(0x1db));}function openEdit(_0x2c3c8b){const _0x59a4e1=a2_0x4ef4d3;editingId=_0x2c3c8b['id'],populateClientSelect(),document[_0x59a4e1(0x2c9)](_0x59a4e1(0x2f8))[_0x59a4e1(0x1dc)]=_0x59a4e1(0x241),document[_0x59a4e1(0x2c9)](_0x59a4e1(0x26e))[_0x59a4e1(0x238)][_0x59a4e1(0x292)]=_0x59a4e1(0x265);const _0x1207a3=document[_0x59a4e1(0x2c9)](_0x59a4e1(0x260));_0x1207a3['style']['display']=_0x59a4e1(0x1c4);_0x2c3c8b[_0x59a4e1(0x274)]===_0x59a4e1(0x2df)?(_0x1207a3['className']='btn-status-toggle\x20undo-mode',_0x1207a3[_0x59a4e1(0x1a6)]=_0x59a4e1(0x2eb)):(_0x1207a3[_0x59a4e1(0x27d)]=_0x59a4e1(0x2ff),_0x1207a3['innerHTML']='<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É');const _0x3c2569=!!_0x2c3c8b[_0x59a4e1(0x201)];document[_0x59a4e1(0x2c9)](_0x59a4e1(0x230))[_0x59a4e1(0x238)]['display']=_0x59a4e1(0x2fa),document['getElementById']('seriesCountContainer')[_0x59a4e1(0x238)][_0x59a4e1(0x292)]=_0x59a4e1(0x2fa),_0x3c2569?(document[_0x59a4e1(0x2c9)](_0x59a4e1(0x25c))[_0x59a4e1(0x238)][_0x59a4e1(0x292)]='flex',document[_0x59a4e1(0x2c9)]('patternInfoBox')['querySelector'](_0x59a4e1(0x22f))['textContent']='–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫'):document[_0x59a4e1(0x2c9)](_0x59a4e1(0x25c))[_0x59a4e1(0x238)]['display']=_0x59a4e1(0x2fa),document['getElementById'](_0x59a4e1(0x21a))[_0x59a4e1(0x242)]=_0x2c3c8b[_0x59a4e1(0x2ce)],document[_0x59a4e1(0x2c9)](_0x59a4e1(0x1f1))[_0x59a4e1(0x242)]=_0x2c3c8b[_0x59a4e1(0x1f8)],document[_0x59a4e1(0x2c9)]('inpStart')[_0x59a4e1(0x242)]=_0x2c3c8b[_0x59a4e1(0x233)],document[_0x59a4e1(0x2c9)]('inpEnd')[_0x59a4e1(0x242)]=_0x2c3c8b[_0x59a4e1(0x221)],document[_0x59a4e1(0x2c9)](_0x59a4e1(0x1ef))['value']=_0x2c3c8b[_0x59a4e1(0x315)]||'',updateDateDisplay(),openSheet('sessionSheet');}async function trySaveSession(){const _0x16da11=a2_0x4ef4d3,_0x56f3a6=document[_0x16da11(0x2c9)](_0x16da11(0x21a))[_0x16da11(0x242)],_0xb02af5=document[_0x16da11(0x2c9)](_0x16da11(0x1f1))['value'],_0x23fd65=document[_0x16da11(0x2c9)](_0x16da11(0x262))[_0x16da11(0x242)],_0x131bb8=document[_0x16da11(0x2c9)](_0x16da11(0x1ab))[_0x16da11(0x242)],_0x26ed36=document[_0x16da11(0x2c9)]('inpNote')[_0x16da11(0x242)],_0x2a335f=document['getElementById'](_0x16da11(0x1e4))[_0x16da11(0x206)];let _0xc4cc09=0x4;if(_0x2a335f){const _0x3d36b3=parseInt(document['getElementById'](_0x16da11(0x207))[_0x16da11(0x242)]);if(!_0x3d36b3||_0x3d36b3<0x2){showToast(_0x16da11(0x20b),![]);return;}if(_0x3d36b3>0x64){showToast(_0x16da11(0x203),![]);return;}_0xc4cc09=_0x3d36b3;}const _0x4060ac=clients[_0x16da11(0x25b)](_0x48b1cd=>_0x48b1cd[_0x16da11(0x1d9)]===_0x56f3a6);if(!_0x4060ac){showToast(_0x16da11(0x214),![]);return;}const _0x393c34=validateAppointment(_0xb02af5,_0x23fd65,_0x131bb8,editingId,_0x4060ac['id']);if(!_0x393c34[_0x16da11(0x248)]){showToast(_0x393c34[_0x16da11(0x21d)],![]);return;}_0x393c34['warning']&&showToast(_0x393c34[_0x16da11(0x2da)],![]);const _0x397299={'client':_0x56f3a6,'clientId':_0x4060ac['id'],'start':_0x23fd65,'end':_0x131bb8,'note':_0x26ed36,'status':_0x16da11(0x266)},_0x5d695d=editingId?sessions[_0x16da11(0x25b)](_0x2e0c0b=>_0x2e0c0b['id']===editingId):null;if(_0x5d695d&&_0x5d695d['seriesId']){tempSessionData={..._0x397299,'dateStr':_0xb02af5,'id':editingId,'seriesId':_0x5d695d[_0x16da11(0x201)]},openActionSheet(_0x16da11(0x1b9));return;}let _0x1ed634=null;if(!editingId)_0x1ed634=_0x16da11(0x318);else{if(_0x5d695d){if(String(_0x5d695d['clientId'])!==String(_0x4060ac['id']))console[_0x16da11(0x25a)]('[Notify]\x20Client\x20SWAP\x20detected'),NotificationManager[_0x16da11(0x1d7)](_0x16da11(0x29b),_0x5d695d),_0x1ed634=_0x16da11(0x318);else(_0x5d695d['start']!==_0x23fd65||_0x5d695d['end']!==_0x131bb8||_0x5d695d[_0x16da11(0x1f8)]!==_0xb02af5)&&(_0x1ed634=_0x16da11(0x208));}}if(!editingId&&_0x2a335f){createBatchSeries(_0x397299,_0xb02af5,_0xc4cc09),NotificationManager[_0x16da11(0x1d7)](_0x16da11(0x318),{..._0x397299,'dateStr':_0xb02af5});return;}lastUserActionTime=Date['now']();const _0x39957e={..._0x397299,'dateStr':_0xb02af5,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x39957e),_0x1ed634&&NotificationManager['send'](_0x1ed634,_0x39957e);}function a2_0x36c8(_0x3628fe,_0x39b769){_0x3628fe=_0x3628fe-0x1a6;const _0x57815d=a2_0x5c98();let _0x2ab36f=_0x57815d[_0x3628fe];return _0x2ab36f;}function toggleSessionStatus(){const _0x40722d=a2_0x4ef4d3;lastUserActionTime=Date[_0x40722d(0x246)]();const _0x4eabad=sessions[_0x40722d(0x25b)](_0x3de10c=>_0x3de10c['id']===editingId);if(!_0x4eabad)return;const _0x53fccc=_0x4eabad[_0x40722d(0x274)]===_0x40722d(0x2df)?_0x40722d(0x266):_0x40722d(0x2df);_0x4eabad['status']=_0x53fccc,saveSingleSession(_0x4eabad),_0x53fccc===_0x40722d(0x2df)&&NotificationManager[_0x40722d(0x1d7)](_0x40722d(0x2c0),_0x4eabad),showToast(_0x53fccc===_0x40722d(0x2df)?_0x40722d(0x1c6):'–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω',!![]);}function validateAppointment(_0x50c652,_0x281ba8,_0x3531f8,_0x4f61e2,_0x579d7a){const _0x179f98=a2_0x4ef4d3,[_0x31f173,_0x3284c3]=_0x281ba8[_0x179f98(0x2e7)](':')['map'](Number),[_0x21b97f,_0x2912b2]=_0x3531f8['split'](':')[_0x179f98(0x20f)](Number),_0x3f5510=_0x31f173*0x3c+_0x3284c3,_0x2690aa=_0x21b97f*0x3c+_0x2912b2,_0xcc8477=String(_0x579d7a);let _0x5a8cd8=![],_0x10e3bb='';for(let _0x373741 of sessions){if(_0x373741['dateStr']!==_0x50c652)continue;if(_0x373741[_0x179f98(0x274)]==='cancelled')continue;if(_0x4f61e2&&String(_0x373741['id'])===String(_0x4f61e2))continue;const [_0x5508ad,_0x132301]=_0x373741[_0x179f98(0x233)]['split'](':')[_0x179f98(0x20f)](Number),[_0x54cbbd,_0x40330c]=_0x373741['end']['split'](':')['map'](Number),_0x2a95d8=_0x5508ad*0x3c+_0x132301,_0x2c0d0b=_0x54cbbd*0x3c+_0x40330c;if(Math[_0x179f98(0x1c8)](_0x3f5510,_0x2a95d8)<Math['min'](_0x2690aa,_0x2c0d0b)){if(_0x373741[_0x179f98(0x223)]&&String(_0x373741[_0x179f98(0x223)])===_0xcc8477)return{'valid':![],'msg':_0x179f98(0x27c)+_0x373741['client']+_0x179f98(0x2b8)};_0x5a8cd8=!![],_0x10e3bb=_0x373741['client'];}}if(_0x5a8cd8)return{'valid':!![],'warning':'–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20'+_0x10e3bb};return{'valid':!![]};}function saveSingleSession(_0x5d6f18){const _0x1fc6d7=a2_0x4ef4d3;if(editingId){const _0x30da0a=sessions[_0x1fc6d7(0x2a4)](_0x18bc88=>_0x18bc88['id']===editingId);if(_0x30da0a!==-0x1)sessions[_0x30da0a]=_0x5d6f18;}else sessions[_0x1fc6d7(0x2d8)](_0x5d6f18);afterSaveAction([_0x5d6f18[_0x1fc6d7(0x1f8)]]);}function createBatchSeries(_0x289228,_0x1deceb,_0x25627f){const _0x7db399=a2_0x4ef4d3,_0x3f78a8=generateId(),_0x26daec=[],_0x2e1c36=[];let _0x4aee1b=0x0,_0x39ebcd=new Date(_0x1deceb);for(let _0x30fb3b=0x0;_0x30fb3b<_0x25627f;_0x30fb3b++){const _0x27b96e=getLocalDateStr(_0x39ebcd),_0x50d6cf=validateAppointment(_0x27b96e,_0x289228[_0x7db399(0x233)],_0x289228['end'],null,_0x289228[_0x7db399(0x223)]);if(!_0x50d6cf['valid'])console['log']('[Series]\x20Skipped\x20'+_0x27b96e+_0x7db399(0x26f)),_0x4aee1b++;else{const _0x57d3bf={..._0x289228,'id':generateId(),'dateStr':_0x27b96e,'seriesId':_0x3f78a8};_0x2e1c36[_0x7db399(0x2d8)](_0x57d3bf),_0x26daec[_0x7db399(0x2d8)](_0x27b96e);}_0x39ebcd[_0x7db399(0x1b2)](_0x39ebcd[_0x7db399(0x20c)]()+0x7);}if(_0x2e1c36[_0x7db399(0x2a0)]===0x0){showToast(_0x7db399(0x234),![]);return;}sessions[_0x7db399(0x2d8)](..._0x2e1c36),lastUserActionTime=Date['now']();let _0x17b547=_0x7db399(0x310)+_0x2e1c36[_0x7db399(0x2a0)];_0x4aee1b>0x0&&(_0x17b547+='\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20'+_0x4aee1b+')'),showToast(_0x17b547,!![]),afterSaveAction(_0x26daec);}function updateSeriesBatch(_0x266ff2,_0x2149fa){const _0x4939d8=a2_0x4ef4d3,_0x203895=[],_0x3ef705=_0x2149fa[_0x4939d8(0x201)];if(_0x266ff2===_0x4939d8(0x204)){const _0x5e5e9b={..._0x2149fa,'seriesId':null},_0x31b459=sessions[_0x4939d8(0x2a4)](_0x39d104=>_0x39d104['id']===_0x2149fa['id']);if(_0x31b459!==-0x1)sessions[_0x31b459]=_0x5e5e9b;_0x203895[_0x4939d8(0x2d8)](_0x5e5e9b['dateStr']);}else{if(_0x266ff2===_0x4939d8(0x304)){const _0x540776=_0x2149fa['dateStr'];sessions['forEach']((_0x40cd76,_0x621e68)=>{const _0x472371=_0x4939d8;_0x40cd76['seriesId']===_0x3ef705&&_0x40cd76[_0x472371(0x1f8)]>=_0x540776&&(sessions[_0x621e68]={...sessions[_0x621e68],'start':_0x2149fa[_0x472371(0x233)],'end':_0x2149fa[_0x472371(0x221)],'note':_0x2149fa['note'],'client':_0x2149fa['client'],'clientId':_0x2149fa[_0x472371(0x223)]},_0x203895['push'](_0x40cd76['dateStr']));});}}afterSaveAction(_0x203895);}function tryDeleteSession(){const _0x5a6bf2=a2_0x4ef4d3,_0xb0272a=sessions[_0x5a6bf2(0x25b)](_0x3d65e2=>_0x3d65e2['id']===editingId);if(!_0xb0272a)return;_0xb0272a[_0x5a6bf2(0x201)]?openActionSheet(_0x5a6bf2(0x316)):commitDelete(_0x5a6bf2(0x204),_0xb0272a);}function commitDelete(_0x584ea8,_0x5d01ec){const _0x3a7fc5=a2_0x4ef4d3;lastUserActionTime=Date[_0x3a7fc5(0x246)](),NotificationManager[_0x3a7fc5(0x1d7)](_0x3a7fc5(0x29b),_0x5d01ec);const _0x3c02b4=[];if(_0x584ea8===_0x3a7fc5(0x204))sessions=sessions[_0x3a7fc5(0x24d)](_0x2b5b27=>_0x2b5b27['id']!==_0x5d01ec['id']),_0x3c02b4[_0x3a7fc5(0x2d8)](_0x5d01ec[_0x3a7fc5(0x1f8)]);else{if(_0x584ea8===_0x3a7fc5(0x304)){const _0x344334=_0x5d01ec['dateStr'],_0x15ee90=_0x5d01ec[_0x3a7fc5(0x201)];sessions['forEach'](_0x5e35c9=>{const _0x3de386=_0x3a7fc5;_0x5e35c9['seriesId']===_0x15ee90&&_0x5e35c9['dateStr']>=_0x344334&&_0x3c02b4['push'](_0x5e35c9[_0x3de386(0x1f8)]);}),sessions=sessions['filter'](_0x1dee40=>!(_0x1dee40[_0x3a7fc5(0x201)]===_0x15ee90&&_0x1dee40['dateStr']>=_0x344334));}}afterSaveAction(_0x3c02b4);}function afterSaveAction(_0x2f4964){const _0x1386ea=a2_0x4ef4d3;DataManager[_0x1386ea(0x1b6)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x1386ea(0x2cd)](_0x2f4964)['then'](()=>console['log']('Batch\x20Sync\x20OK'))['catch'](_0x573f7e=>showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ',![]));}const NotificationManager={'formatDate'(_0x450b64){const _0x7d90a3=a2_0x4ef4d3,_0x50f0d5=new Date(_0x450b64),_0x4fed18={'weekday':'long','day':_0x7d90a3(0x2fc),'month':_0x7d90a3(0x272)};let _0x2b5df4=_0x50f0d5[_0x7d90a3(0x322)](_0x7d90a3(0x2f9),_0x4fed18);return _0x2b5df4[_0x7d90a3(0x1ae)](0x0)['toUpperCase']()+_0x2b5df4['slice'](0x1);},'getText'(_0x3306de,_0x5cc829){const _0x88ad94=a2_0x4ef4d3,_0x10a596=this[_0x88ad94(0x2a3)](_0x5cc829[_0x88ad94(0x1f8)]);switch(_0x3306de){case _0x88ad94(0x318):return _0x88ad94(0x252)+(_0x88ad94(0x2bc)+_0x10a596+'\x0a')+(_0x88ad94(0x28d)+_0x5cc829[_0x88ad94(0x233)]+_0x88ad94(0x321)+_0x5cc829['end']+'\x0a\x0a')+_0x88ad94(0x317);case'update':return _0x88ad94(0x1e5)+'–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a'+(_0x88ad94(0x1ce)+_0x5cc829[_0x88ad94(0x233)]+'\x20‚Äî\x20'+_0x5cc829['end']+'</b>\x0a\x0a')+(_0x88ad94(0x2bc)+_0x10a596);case'cancel':return'<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a'+(_0x88ad94(0x231)+_0x10a596+'\x20('+_0x5cc829[_0x88ad94(0x233)]+_0x88ad94(0x244));case'complete':return'<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a'+_0x88ad94(0x210)+_0x88ad94(0x28b);default:return'';}},async 'send'(_0x3ad09e,_0x37e493){const _0x31e2a6=a2_0x4ef4d3;console[_0x31e2a6(0x25a)](_0x31e2a6(0x2b5),_0x3ad09e,_0x37e493);if(!_0x37e493){console[_0x31e2a6(0x2a6)](_0x31e2a6(0x30b));return;}const _0x23e4c9=String(_0x37e493[_0x31e2a6(0x223)]);console[_0x31e2a6(0x25a)](_0x31e2a6(0x209),_0x23e4c9);if(!_0x37e493['clientId']||_0x23e4c9==='undefined'||_0x23e4c9===_0x31e2a6(0x1fb)){console[_0x31e2a6(0x2a6)](_0x31e2a6(0x2c6));if(_0x37e493[_0x31e2a6(0x2ce)]){const _0x1e3aa3=clients[_0x31e2a6(0x25b)](_0x3a25a6=>_0x3a25a6['name']===_0x37e493[_0x31e2a6(0x2ce)]);if(_0x1e3aa3)return console['log'](_0x31e2a6(0x2b4),_0x1e3aa3['id']),this[_0x31e2a6(0x1d7)](_0x3ad09e,{..._0x37e493,'clientId':_0x1e3aa3['id']});}return;}if(_0x23e4c9[_0x31e2a6(0x2a0)]<0x5){console[_0x31e2a6(0x1ca)](_0x31e2a6(0x1e9),_0x23e4c9);return;}const _0x17ff73=this[_0x31e2a6(0x255)](_0x3ad09e,_0x37e493);if(!_0x17ff73){console[_0x31e2a6(0x2a6)](_0x31e2a6(0x270));return;}console[_0x31e2a6(0x25a)](_0x31e2a6(0x2ed)+_0x23e4c9+_0x31e2a6(0x319)),DataManager['fetchFromServer'](_0x31e2a6(0x225),{'chatId':_0x23e4c9,'text':_0x17ff73})[_0x31e2a6(0x25e)](_0x31b860=>console[_0x31e2a6(0x25a)](_0x31e2a6(0x269),_0x31b860))[_0x31e2a6(0x1d5)](_0x244c48=>console[_0x31e2a6(0x2a6)](_0x31e2a6(0x24f),_0x244c48));}};function getLocalDateStr(_0x1930a9){const _0x1a30ae=a2_0x4ef4d3,_0x1cb4ea=_0x1930a9[_0x1a30ae(0x2b2)](),_0x313589=String(_0x1930a9[_0x1a30ae(0x296)]()+0x1)[_0x1a30ae(0x2ec)](0x2,'0'),_0x17375e=String(_0x1930a9[_0x1a30ae(0x20c)]())[_0x1a30ae(0x2ec)](0x2,'0');return _0x1cb4ea+'-'+_0x313589+'-'+_0x17375e;}function getDateStr(_0x1a2c85){const _0x2d0eef=a2_0x4ef4d3,_0x593d20=new Date();return _0x593d20[_0x2d0eef(0x1b2)](_0x593d20[_0x2d0eef(0x20c)]()+_0x1a2c85),getLocalDateStr(_0x593d20);}function getStartOfWeek(_0x15f4f5){const _0x404f97=a2_0x4ef4d3,_0x2bd2c4=(function(){let _0xbdec9=!![];return function(_0x334cf5,_0x58ca7c){const _0x253886=_0xbdec9?function(){if(_0x58ca7c){const _0x2cb1b7=_0x58ca7c['apply'](_0x334cf5,arguments);return _0x58ca7c=null,_0x2cb1b7;}}:function(){};return _0xbdec9=![],_0x253886;};}()),_0x4c7ca7=_0x2bd2c4(this,function(){const _0x5882e5=a2_0x36c8;return _0x4c7ca7[_0x5882e5(0x28a)]()['search'](_0x5882e5(0x31d))[_0x5882e5(0x28a)]()[_0x5882e5(0x2aa)](_0x4c7ca7)['search'](_0x5882e5(0x31d));});_0x4c7ca7();const _0x565f87=new Date(_0x15f4f5),_0x3ee358=_0x565f87[_0x404f97(0x213)](),_0x2131e1=_0x565f87[_0x404f97(0x20c)]()-_0x3ee358+(_0x3ee358===0x0?-0x6:0x1);return _0x565f87['setDate'](_0x2131e1),_0x565f87[_0x404f97(0x22d)](0x0,0x0,0x0,0x0),_0x565f87;}function hexToRgba(_0x54a28c,_0x2413e6){const _0x111011=a2_0x4ef4d3;if(!_0x54a28c)return _0x111011(0x1d1);let _0x4d946a=0x0,_0x57cc3f=0x0,_0x3d7210=0x0;if(_0x54a28c[_0x111011(0x2a0)]===0x4)_0x4d946a='0x'+_0x54a28c[0x1]+_0x54a28c[0x1],_0x57cc3f='0x'+_0x54a28c[0x2]+_0x54a28c[0x2],_0x3d7210='0x'+_0x54a28c[0x3]+_0x54a28c[0x3];else _0x54a28c[_0x111011(0x2a0)]===0x7&&(_0x4d946a='0x'+_0x54a28c[0x1]+_0x54a28c[0x2],_0x57cc3f='0x'+_0x54a28c[0x3]+_0x54a28c[0x4],_0x3d7210='0x'+_0x54a28c[0x5]+_0x54a28c[0x6]);return _0x111011(0x314)+ +_0x4d946a+',\x20'+ +_0x57cc3f+',\x20'+ +_0x3d7210+',\x20'+_0x2413e6+')';}function renderTimeColumn(){const _0x4f8d27=a2_0x4ef4d3,_0x8346e1=document[_0x4f8d27(0x2c9)](_0x4f8d27(0x2f1)),_0x2b341=document[_0x4f8d27(0x2c9)]('timeLineBadge');_0x8346e1[_0x4f8d27(0x1a6)]='',_0x8346e1[_0x4f8d27(0x254)](_0x2b341);for(let _0x4f4296=0x0;_0x4f4296<0x18;_0x4f4296++){const _0x5458d2=document[_0x4f8d27(0x205)](_0x4f8d27(0x2a1));_0x5458d2[_0x4f8d27(0x27d)]=_0x4f8d27(0x31b);if(_0x4f4296>0x0)_0x5458d2[_0x4f8d27(0x1a6)]=_0x4f8d27(0x21b)+String(_0x4f4296)['padStart'](0x2,'0')+_0x4f8d27(0x2de);_0x8346e1[_0x4f8d27(0x254)](_0x5458d2);}}function renderDayRange(_0x31118e,_0x37c76f){const _0x2382c5=a2_0x4ef4d3,_0x4a82ab=document['getElementById'](_0x2382c5(0x328)),_0x268357=document['getElementById'](_0x2382c5(0x222)),_0x1f1b35=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x323747=new Date();_0x323747[_0x2382c5(0x22d)](0x0,0x0,0x0,0x0);const _0x3deb75=getLocalDateStr(new Date());for(let _0x4f2465=_0x31118e;_0x4f2465<=_0x37c76f;_0x4f2465++){const _0x115bc0=new Date(_0x323747);_0x115bc0[_0x2382c5(0x1b2)](_0x115bc0[_0x2382c5(0x20c)]()+_0x4f2465);const _0x30c442=getLocalDateStr(_0x115bc0);let _0x898d68=_0x115bc0[_0x2382c5(0x213)]()-0x1;if(_0x898d68===-0x1)_0x898d68=0x6;const _0x486191=_0x30c442===_0x3deb75,_0x13d3c0=document[_0x2382c5(0x205)](_0x2382c5(0x2a1));_0x13d3c0[_0x2382c5(0x27d)]='day-col-header\x20'+(_0x486191?_0x2382c5(0x2d9):''),_0x13d3c0['id']=_0x2382c5(0x1f4)+_0x30c442,_0x13d3c0[_0x2382c5(0x2cf)](_0x2382c5(0x24e),_0x30c442),_0x13d3c0[_0x2382c5(0x1a6)]=_0x2382c5(0x1fa)+_0x1f1b35[_0x898d68]+'</div><div\x20class=\x22dch-num\x22>'+_0x115bc0[_0x2382c5(0x20c)]()+_0x2382c5(0x287)+_0x30c442+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x13d3c0[_0x2382c5(0x2b1)]=()=>openDayOptions(_0x30c442,_0x1f1b35[_0x898d68]+'\x20'+_0x115bc0[_0x2382c5(0x20c)]()),_0x4a82ab[_0x2382c5(0x254)](_0x13d3c0);const _0x2df6ab=document[_0x2382c5(0x205)]('div');_0x2df6ab['className']=_0x2382c5(0x1c0)+(_0x486191?_0x2382c5(0x2d9):''),_0x2df6ab[_0x2382c5(0x2cf)]('data-date',_0x30c442),_0x2df6ab['setAttribute'](_0x2382c5(0x2e6),_0x898d68),renderEventsForColumn(_0x2df6ab,_0x30c442,_0x898d68),attachLongPressHandler(_0x2df6ab,_0x115bc0),_0x268357['appendChild'](_0x2df6ab),updateDayStats(_0x30c442);}}function reRenderBlocks(){const _0x214f1e=a2_0x4ef4d3;document[_0x214f1e(0x20e)](_0x214f1e(0x1f2))['forEach'](_0x2f211f=>{const _0x442ea3=_0x214f1e;_0x2f211f[_0x442ea3(0x20e)](_0x442ea3(0x280))[_0x442ea3(0x298)](_0x468adb=>_0x468adb[_0x442ea3(0x2c4)]());const _0x151382=_0x2f211f[_0x442ea3(0x1b4)]('data-date'),_0x16e59f=parseInt(_0x2f211f[_0x442ea3(0x1b4)](_0x442ea3(0x2e6))),_0x3367d9=Math[_0x442ea3(0x259)](_0x2f211f[_0x442ea3(0x224)]);(availabilityPattern[_0x16e59f]||[])[_0x442ea3(0x298)](_0x4254f5=>{const _0x4a0900=_0x442ea3,_0x4dff24=document[_0x4a0900(0x205)](_0x4a0900(0x2a1));_0x4dff24['className']=_0x4a0900(0x2f6);const _0x5b80f5=_0x4254f5*GRID_H;_0x4dff24[_0x4a0900(0x238)][_0x4a0900(0x286)]=_0x5b80f5+'px',_0x4dff24[_0x4a0900(0x238)]['backgroundPosition']='-'+_0x3367d9+_0x4a0900(0x227)+_0x5b80f5+'px',_0x2f211f[_0x4a0900(0x254)](_0x4dff24);});if(specialRanges&&specialRanges[_0x442ea3(0x2a0)]>0x0){const _0x287268=new Date(_0x151382+_0x442ea3(0x24b))['getTime'](),_0x345075=new Date(_0x151382+_0x442ea3(0x1e6))[_0x442ea3(0x320)]();specialRanges['forEach'](_0xa58c09=>{const _0xaf8190=_0x442ea3,_0x35909e=new Date(_0xa58c09[_0xaf8190(0x233)])[_0xaf8190(0x320)](),_0x142af8=new Date(_0xa58c09[_0xaf8190(0x221)])[_0xaf8190(0x320)](),_0x6c39ef=Math['max'](_0x287268,_0x35909e),_0x31cf2e=Math['min'](_0x345075,_0x142af8);if(_0x6c39ef<_0x31cf2e){if(_0x6c39ef<=_0x287268&&_0x31cf2e>=_0x345075-0xea60){if(!_0x2f211f['querySelector']('.day-off-overlay')){const _0x5d28c8=document[_0xaf8190(0x205)](_0xaf8190(0x2a1));_0x5d28c8['className']=_0xaf8190(0x257),_0x5d28c8[_0xaf8190(0x238)][_0xaf8190(0x25d)]='-'+_0x3367d9+'px\x200px',_0x2f211f[_0xaf8190(0x254)](_0x5d28c8);}}else{const _0x5514f1=(_0x6c39ef-_0x287268)/0x36ee80*GRID_H,_0x35f503=(_0x31cf2e-_0x6c39ef)/0x36ee80*GRID_H,_0x25b0d9=document[_0xaf8190(0x205)](_0xaf8190(0x2a1));_0x25b0d9[_0xaf8190(0x27d)]=_0xaf8190(0x285),_0x25b0d9[_0xaf8190(0x238)][_0xaf8190(0x286)]=_0x5514f1+'px',_0x25b0d9[_0xaf8190(0x238)][_0xaf8190(0x1f3)]=_0x35f503+'px',_0x25b0d9[_0xaf8190(0x238)][_0xaf8190(0x25d)]='-'+_0x3367d9+_0xaf8190(0x227)+_0x5514f1+'px',_0x2f211f[_0xaf8190(0x254)](_0x25b0d9);}}});}if(dateExceptions[_0x151382]==='off'){if(!_0x2f211f[_0x442ea3(0x1c2)](_0x442ea3(0x1fc))){const _0x422763=document[_0x442ea3(0x205)](_0x442ea3(0x2a1));_0x422763['className']=_0x442ea3(0x257),_0x422763['style'][_0x442ea3(0x25d)]='-'+_0x3367d9+_0x442ea3(0x2d1),_0x2f211f[_0x442ea3(0x254)](_0x422763);}}renderEventsForColumn(_0x2f211f,_0x151382,_0x16e59f),updateDayStats(_0x151382);});}function updateAllDayStats(){const _0x249a43=a2_0x4ef4d3;document[_0x249a43(0x20e)](_0x249a43(0x2bd))[_0x249a43(0x298)](_0x4686b4=>{const _0x27a745=_0x249a43;updateDayStats(_0x4686b4[_0x27a745(0x1b4)]('data-date'));});}function updateDayStats(_0x1a77a6){const _0x58ceb0=a2_0x4ef4d3,_0x1819f8=document[_0x58ceb0(0x2c9)]('stat-'+_0x1a77a6);if(!_0x1819f8)return;const _0xe08353=new Date(_0x1a77a6);let _0x11b342=_0xe08353['getDay']()-0x1;if(_0x11b342===-0x1)_0x11b342=0x6;if(dateExceptions[_0x1a77a6]===_0x58ceb0(0x288)){_0x1819f8[_0x58ceb0(0x238)][_0x58ceb0(0x292)]=_0x58ceb0(0x2fa);return;}const _0x3f49e7=availabilityPattern[_0x11b342]||[],_0x2d9c8b=0x18-_0x3f49e7['length'],_0x38afa6=_0x2d9c8b*0x3c,_0x17b32a=sessions[_0x58ceb0(0x24d)](_0x382176=>_0x382176[_0x58ceb0(0x1f8)]===_0x1a77a6&&_0x382176[_0x58ceb0(0x274)]!==_0x58ceb0(0x30f));if(_0x17b32a[_0x58ceb0(0x2a0)]===0x0){_0x1819f8['style'][_0x58ceb0(0x292)]=_0x58ceb0(0x2fa);return;}let _0x426255=_0x17b32a[_0x58ceb0(0x20f)](_0x224ecf=>{const _0x1ae003=_0x58ceb0,[_0x5b9bd7,_0x3e0bb5]=_0x224ecf[_0x1ae003(0x233)][_0x1ae003(0x2e7)](':')[_0x1ae003(0x20f)](Number),[_0x53b2d7,_0xd95119]=_0x224ecf[_0x1ae003(0x221)][_0x1ae003(0x2e7)](':')['map'](Number);return[_0x5b9bd7*0x3c+_0x3e0bb5,_0x53b2d7*0x3c+_0xd95119];});_0x426255['sort']((_0x2b4281,_0x81362)=>_0x2b4281[0x0]-_0x81362[0x0]);let _0x3ed84f=[];if(_0x426255[_0x58ceb0(0x2a0)]>0x0){let _0x548215=_0x426255[0x0];for(let _0x1e299f=0x1;_0x1e299f<_0x426255[_0x58ceb0(0x2a0)];_0x1e299f++){_0x426255[_0x1e299f][0x0]<_0x548215[0x1]?_0x548215[0x1]=Math[_0x58ceb0(0x1c8)](_0x548215[0x1],_0x426255[_0x1e299f][0x1]):(_0x3ed84f[_0x58ceb0(0x2d8)](_0x548215),_0x548215=_0x426255[_0x1e299f]);}_0x3ed84f['push'](_0x548215);}let _0x1d9def=0x0;_0x3ed84f[_0x58ceb0(0x298)](_0x20c93d=>_0x1d9def+=_0x20c93d[0x1]-_0x20c93d[0x0]),_0x1819f8[_0x58ceb0(0x238)]['display']=_0x58ceb0(0x1c4);const _0x53c577=_0x1819f8[_0x58ceb0(0x1c2)](_0x58ceb0(0x2d0));if(_0x38afa6===0x0){_0x53c577[_0x58ceb0(0x238)][_0x58ceb0(0x2bb)]=_0x58ceb0(0x1be),_0x53c577[_0x58ceb0(0x238)][_0x58ceb0(0x200)]=_0x58ceb0(0x24c);return;}const _0x3d82d9=_0x1d9def/_0x38afa6*0x64;console[_0x58ceb0(0x25a)]('['+_0x1a77a6+']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20'+_0x2d9c8b+_0x58ceb0(0x26b)+_0x1d9def+_0x58ceb0(0x268)+_0x3d82d9[_0x58ceb0(0x1af)](0x1)+'%'),_0x3d82d9>0x64?(_0x53c577[_0x58ceb0(0x238)][_0x58ceb0(0x2bb)]=_0x58ceb0(0x1be),_0x53c577['style'][_0x58ceb0(0x200)]=_0x58ceb0(0x24c)):(_0x53c577[_0x58ceb0(0x238)][_0x58ceb0(0x2bb)]=_0x3d82d9+'%',_0x53c577[_0x58ceb0(0x238)][_0x58ceb0(0x200)]=_0x58ceb0(0x240));}function renderEventsForColumn(_0x4c1f4e,_0x35a33e,_0x160be5){const _0x1346e4=a2_0x4ef4d3,_0x4c9881=sessions[_0x1346e4(0x24d)](_0x5646da=>_0x5646da[_0x1346e4(0x1f8)]===_0x35a33e),_0xecbf5e=_0x4c9881[_0x1346e4(0x20f)](_0x3cfac6=>{const _0x2208e2=_0x1346e4,[_0x179b5c,_0x4272e0]=_0x3cfac6[_0x2208e2(0x233)][_0x2208e2(0x2e7)](':')[_0x2208e2(0x20f)](Number),[_0x54660e,_0x5d5c7a]=_0x3cfac6[_0x2208e2(0x221)]['split'](':')[_0x2208e2(0x20f)](Number);return{'data':_0x3cfac6,'start':_0x179b5c*0x3c+_0x4272e0,'end':_0x54660e*0x3c+_0x5d5c7a,'colIndex':0x0};});_0xecbf5e[_0x1346e4(0x308)]((_0x1fb6ca,_0x112c24)=>{const _0x3805e2=_0x1346e4;if(_0x1fb6ca['start']!==_0x112c24['start'])return _0x1fb6ca[_0x3805e2(0x233)]-_0x112c24[_0x3805e2(0x233)];return _0x112c24[_0x3805e2(0x221)]-_0x112c24[_0x3805e2(0x233)]-(_0x1fb6ca[_0x3805e2(0x221)]-_0x1fb6ca[_0x3805e2(0x233)]);});const _0x49eeb4=[];_0xecbf5e['forEach'](_0x413fbc=>{const _0x8901c7=_0x1346e4;let _0x3b955d=![];for(let _0x5073ae=0x0;_0x5073ae<_0x49eeb4[_0x8901c7(0x2a0)];_0x5073ae++){const _0x28bace=_0x49eeb4[_0x5073ae],_0x4b0cf1=_0x28bace[_0x28bace['length']-0x1];if(_0x413fbc['start']>=_0x4b0cf1['end']){_0x28bace[_0x8901c7(0x2d8)](_0x413fbc),_0x413fbc[_0x8901c7(0x2ad)]=_0x5073ae,_0x3b955d=!![];break;}}!_0x3b955d&&(_0x49eeb4[_0x8901c7(0x2d8)]([_0x413fbc]),_0x413fbc[_0x8901c7(0x2ad)]=_0x49eeb4[_0x8901c7(0x2a0)]-0x1);}),_0xecbf5e[_0x1346e4(0x298)](_0x1d45e6=>{const _0x648a6d=_0x1346e4;let _0x589b51=0x0;_0xecbf5e[_0x648a6d(0x298)](_0xa05b3c=>{const _0x10ff09=_0x648a6d;if(Math[_0x10ff09(0x1c8)](_0x1d45e6[_0x10ff09(0x233)],_0xa05b3c[_0x10ff09(0x233)])<Math[_0x10ff09(0x236)](_0x1d45e6[_0x10ff09(0x221)],_0xa05b3c['end'])){if(_0xa05b3c[_0x10ff09(0x2ad)]>_0x589b51)_0x589b51=_0xa05b3c[_0x10ff09(0x2ad)];}});const _0x50cbe1=_0x589b51+0x1,_0xa0377d=0x64/_0x50cbe1,_0x5d74b1=_0x1d45e6[_0x648a6d(0x2ad)]*_0xa0377d,_0x2b0c4f=createEventEl(_0x1d45e6[_0x648a6d(0x302)]);_0x2b0c4f[_0x648a6d(0x238)][_0x648a6d(0x2bb)]=_0x648a6d(0x1d4)+_0xa0377d+_0x648a6d(0x2d6),_0x2b0c4f[_0x648a6d(0x238)][_0x648a6d(0x1b8)]=_0x648a6d(0x1d4)+_0x5d74b1+_0x648a6d(0x2cc),_0x2b0c4f[_0x648a6d(0x238)][_0x648a6d(0x1cc)]=0xa+_0x1d45e6['colIndex'],_0xa0377d<0x55&&_0x2b0c4f[_0x648a6d(0x1ed)]['add']('mini'),_0x4c1f4e['appendChild'](_0x2b0c4f);});}function createEventEl(_0x63cdd7){const _0x2a7de7=a2_0x4ef4d3,[_0x9bb466,_0x8017d2]=_0x63cdd7[_0x2a7de7(0x233)][_0x2a7de7(0x2e7)](':')[_0x2a7de7(0x20f)](Number),[_0x12ca84,_0x2c05ee]=_0x63cdd7[_0x2a7de7(0x221)]['split'](':')[_0x2a7de7(0x20f)](Number),_0x18a97f=(_0x9bb466*0x3c+_0x8017d2)/0x3c*GRID_H,_0x5f321c=(_0x12ca84*0x3c+_0x2c05ee-(_0x9bb466*0x3c+_0x8017d2))/0x3c*GRID_H,_0x1e68c9=document['createElement'](_0x2a7de7(0x2a1)),_0x2f7b1a=_0x63cdd7[_0x2a7de7(0x274)]===_0x2a7de7(0x2df)?_0x2a7de7(0x1ee):'';_0x1e68c9['className']=_0x2a7de7(0x30c)+_0x2f7b1a,_0x1e68c9[_0x2a7de7(0x238)][_0x2a7de7(0x286)]=_0x18a97f+'px',_0x1e68c9[_0x2a7de7(0x238)]['height']=Math['max'](_0x5f321c,0x14)+'px';const _0x1fb15d=clients[_0x2a7de7(0x25b)](_0x50f397=>_0x63cdd7[_0x2a7de7(0x223)]&&String(_0x50f397['id'])===String(_0x63cdd7['clientId'])||_0x50f397[_0x2a7de7(0x1d9)]===_0x63cdd7['client']),_0x5ddda4=_0x1fb15d?_0x1fb15d[_0x2a7de7(0x273)]:_0x2a7de7(0x2ab);_0x1e68c9[_0x2a7de7(0x238)][_0x2a7de7(0x22e)]=_0x5ddda4,_0x1e68c9['style']['backgroundColor']=hexToRgba(_0x5ddda4,0.85);let _0x7adef6=_0x2a7de7(0x30e)+_0x63cdd7['client']+_0x2a7de7(0x1bc)+_0x63cdd7[_0x2a7de7(0x233)]+_0x2a7de7(0x2c1)+_0x63cdd7[_0x2a7de7(0x221)]+_0x2a7de7(0x1bd);return _0x63cdd7[_0x2a7de7(0x201)]&&(_0x7adef6+=_0x2a7de7(0x217)),_0x63cdd7[_0x2a7de7(0x274)]===_0x2a7de7(0x2df)&&(_0x7adef6+='<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>'),_0x1e68c9[_0x2a7de7(0x1a6)]=_0x7adef6,_0x1e68c9[_0x2a7de7(0x2b1)]=_0x57e408=>{_0x57e408['stopPropagation'](),openEdit(_0x63cdd7);},_0x1e68c9;}function attachLongPressHandler(_0x327278,_0x2790ab){const _0x200ac4=a2_0x4ef4d3;let _0x5997ca=0x0,_0x4c4119=null;const _0x24b657=_0x2ca98c=>{const _0x1e975a=a2_0x36c8;if(_0x2ca98c[_0x1e975a(0x23e)][_0x1e975a(0x2ef)](_0x1e975a(0x1f7)))return;isScrolling=![],_0x5997ca=_0x2ca98c[_0x1e975a(0x2f7)]?_0x2ca98c['touches'][0x0]['clientY']:_0x2ca98c[_0x1e975a(0x29f)],_0x4c4119=setTimeout(()=>{const _0x7f5bf6=_0x1e975a;if(!isScrolling){navigator[_0x7f5bf6(0x309)]?.(0x32);const _0x3d9340=_0x327278[_0x7f5bf6(0x226)](),_0x488743=Math[_0x7f5bf6(0x267)]((_0x5997ca-_0x3d9340[_0x7f5bf6(0x286)])/GRID_H);_0x2790ab['setHours'](_0x488743,0x0),openAddSession(_0x2790ab);}},0x1f4);},_0xaaff8=()=>{isScrolling=!![],clearTimeout(_0x4c4119);},_0x2a01be=()=>{clearTimeout(_0x4c4119);};_0x327278[_0x200ac4(0x1c3)](_0x200ac4(0x1e3),_0x24b657,{'passive':!![]}),_0x327278[_0x200ac4(0x1c3)](_0x200ac4(0x253),_0xaaff8,{'passive':!![]}),_0x327278['addEventListener'](_0x200ac4(0x1f0),_0x2a01be),_0x327278[_0x200ac4(0x1c3)](_0x200ac4(0x2e0),_0x24b657),_0x327278[_0x200ac4(0x1c3)](_0x200ac4(0x243),_0xaaff8),_0x327278[_0x200ac4(0x1c3)](_0x200ac4(0x281),_0x2a01be);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x20d83f=a2_0x4ef4d3,_0x43a75a=document[_0x20d83f(0x2c9)](_0x20d83f(0x263)),_0x479bb2=_0x43a75a[_0x20d83f(0x27a)],_0x2f81d8=_0x43a75a[_0x20d83f(0x23a)],_0x16f923=_0x43a75a[_0x20d83f(0x32b)];if(_0x2f81d8-(_0x479bb2+_0x16f923)<0x12c){const _0x3c6564=endOffset;endOffset+=0xe,renderDayRange(_0x3c6564+0x1,endOffset),reRenderBlocks();}if(_0x479bb2<0x12c){const _0x1514b5=startOffset;startOffset-=0xe,prependDays(startOffset,_0x1514b5-0x1),_0x43a75a[_0x20d83f(0x27a)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x4e67dc,_0x35cf3c){const _0xb09e3=a2_0x4ef4d3,_0x196ed6=document[_0xb09e3(0x2c9)](_0xb09e3(0x328)),_0x5da4b4=document[_0xb09e3(0x2c9)](_0xb09e3(0x222)),_0x4e7dab=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x4888f7=new Date();_0x4888f7[_0xb09e3(0x22d)](0x0,0x0,0x0,0x0);const _0x15f9fa=getLocalDateStr(new Date()),_0x56e06e=document['createDocumentFragment'](),_0x81677b=document[_0xb09e3(0x1a8)]();for(let _0x172cde=_0x4e67dc;_0x172cde<=_0x35cf3c;_0x172cde++){const _0x115001=new Date(_0x4888f7);_0x115001['setDate'](_0x115001['getDate']()+_0x172cde);const _0x29a86c=getLocalDateStr(_0x115001);let _0x42a2a3=_0x115001[_0xb09e3(0x213)]()-0x1;if(_0x42a2a3===-0x1)_0x42a2a3=0x6;const _0x30fb58=_0x29a86c===_0x15f9fa,_0x37c31f=document[_0xb09e3(0x205)]('div');_0x37c31f[_0xb09e3(0x27d)]=_0xb09e3(0x251)+(_0x30fb58?_0xb09e3(0x2d9):''),_0x37c31f['id']=_0xb09e3(0x1f4)+_0x29a86c,_0x37c31f[_0xb09e3(0x2cf)](_0xb09e3(0x24e),_0x29a86c),_0x37c31f['innerHTML']=_0xb09e3(0x1fa)+_0x4e7dab[_0x42a2a3]+_0xb09e3(0x237)+_0x115001[_0xb09e3(0x20c)]()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0x29a86c+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x37c31f[_0xb09e3(0x2b1)]=()=>openDayOptions(_0x29a86c,_0x4e7dab[_0x42a2a3]+'\x20'+_0x115001[_0xb09e3(0x20c)]()),_0x56e06e[_0xb09e3(0x254)](_0x37c31f);const _0xd261b0=document[_0xb09e3(0x205)](_0xb09e3(0x2a1));_0xd261b0[_0xb09e3(0x27d)]='day-column\x20'+(_0x30fb58?_0xb09e3(0x2d9):''),_0xd261b0['setAttribute'](_0xb09e3(0x24e),_0x29a86c),_0xd261b0['setAttribute'](_0xb09e3(0x2e6),_0x42a2a3),renderEventsForColumn(_0xd261b0,_0x29a86c,_0x42a2a3),attachLongPressHandler(_0xd261b0,_0x115001),_0x81677b[_0xb09e3(0x254)](_0xd261b0),updateDayStats(_0x29a86c);}_0x196ed6[_0xb09e3(0x1e2)](_0x56e06e,_0x196ed6['firstChild']),_0x5da4b4[_0xb09e3(0x1e2)](_0x81677b,_0x5da4b4[_0xb09e3(0x1c2)](_0xb09e3(0x326)));}function validateAppointment(_0x46b09d,_0x48cf58,_0x4e296c,_0x383bc5,_0x1dd7b4){const _0x1062ff=a2_0x4ef4d3,[_0x2d4b2e,_0x56adbb]=_0x48cf58[_0x1062ff(0x2e7)](':')[_0x1062ff(0x20f)](Number),[_0x4b34dc,_0x507d42]=_0x4e296c['split'](':')[_0x1062ff(0x20f)](Number),_0x49ca7=_0x2d4b2e*0x3c+_0x56adbb,_0x51a5f7=_0x4b34dc*0x3c+_0x507d42,_0x2f5408=String(_0x1dd7b4);let _0x3f603c=![],_0x187f22='';for(let _0x5e0dcf of sessions){if(_0x5e0dcf[_0x1062ff(0x1f8)]!==_0x46b09d)continue;if(_0x5e0dcf[_0x1062ff(0x274)]==='cancelled')continue;if(_0x383bc5&&String(_0x5e0dcf['id'])===String(_0x383bc5))continue;const [_0x16ad20,_0x190e7b]=_0x5e0dcf[_0x1062ff(0x233)]['split'](':')[_0x1062ff(0x20f)](Number),[_0x2abe1e,_0xfdad69]=_0x5e0dcf[_0x1062ff(0x221)][_0x1062ff(0x2e7)](':')[_0x1062ff(0x20f)](Number),_0x4b34ee=_0x16ad20*0x3c+_0x190e7b,_0x34de2f=_0x2abe1e*0x3c+_0xfdad69;if(Math[_0x1062ff(0x1c8)](_0x49ca7,_0x4b34ee)<Math['min'](_0x51a5f7,_0x34de2f)){if(_0x5e0dcf[_0x1062ff(0x223)]&&String(_0x5e0dcf[_0x1062ff(0x223)])===_0x2f5408)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0x5e0dcf[_0x1062ff(0x2ce)]+_0x1062ff(0x2b8)};_0x3f603c=!![],_0x187f22=_0x5e0dcf[_0x1062ff(0x2ce)];}}if(_0x3f603c)return{'valid':!![],'warning':_0x1062ff(0x2ae)+_0x187f22};return{'valid':!![]};}function updateDateDisplay(){const _0x2a5c61=a2_0x4ef4d3,_0x387381=document[_0x2a5c61(0x2c9)](_0x2a5c61(0x1f1))[_0x2a5c61(0x242)],_0x1a070e=document[_0x2a5c61(0x2c9)](_0x2a5c61(0x1ff));if(!_0x387381){_0x1a070e['textContent']='';return;}const [_0x1bf9f4,_0x55533,_0xe6f9c4]=_0x387381[_0x2a5c61(0x2e7)]('-')[_0x2a5c61(0x20f)](Number),_0x40585a=new Date(_0x1bf9f4,_0x55533-0x1,_0xe6f9c4),_0x1ff392={'weekday':'long','day':_0x2a5c61(0x2fc),'month':_0x2a5c61(0x272),'year':_0x2a5c61(0x2fc)};let _0xa750ee=_0x40585a['toLocaleDateString'](_0x2a5c61(0x2f9),_0x1ff392);_0xa750ee=_0xa750ee[_0x2a5c61(0x1ae)](0x0)[_0x2a5c61(0x2e5)]()+_0xa750ee['slice'](0x1),_0x1a070e['textContent']=_0xa750ee;}function autoSetEndTime(){const _0xd14621=a2_0x4ef4d3,_0xf17cbd=document['getElementById']('inpStart')[_0xd14621(0x242)];if(!_0xf17cbd)return;const [_0x20f405,_0x3f5906]=_0xf17cbd['split'](':')['map'](Number);let _0x4f89c4=_0x20f405+0x1;if(_0x4f89c4>0x17)_0x4f89c4=0x0;const _0x4a7cd9=String(_0x4f89c4)['padStart'](0x2,'0')+':'+String(_0x3f5906)[_0xd14621(0x2ec)](0x2,'0');document['getElementById'](_0xd14621(0x1ab))[_0xd14621(0x242)]=_0x4a7cd9;}function populateClientSelect(){const _0x5a16f9=a2_0x4ef4d3,_0x14c5d7=document[_0x5a16f9(0x2c9)](_0x5a16f9(0x21a));_0x14c5d7['innerHTML']='';if(clients[_0x5a16f9(0x2a0)]===0x0){const _0x53d676=document[_0x5a16f9(0x205)](_0x5a16f9(0x303));_0x53d676[_0x5a16f9(0x1dd)]='–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤',_0x14c5d7[_0x5a16f9(0x254)](_0x53d676);return;}clients[_0x5a16f9(0x298)](_0x5154a8=>{const _0x4c818f=_0x5a16f9,_0x571a10=document[_0x4c818f(0x205)](_0x4c818f(0x303));_0x571a10[_0x4c818f(0x242)]=_0x5154a8[_0x4c818f(0x1d9)],_0x571a10['textContent']=_0x5154a8[_0x4c818f(0x1d9)],_0x14c5d7[_0x4c818f(0x254)](_0x571a10);});}function openActionSheet(_0x2493b2){const _0x36203a=a2_0x4ef4d3,_0x359680=document[_0x36203a(0x2c9)](_0x36203a(0x1a9)),_0x4c2c3c=document['getElementById'](_0x36203a(0x2e2)),_0x3c10ff=document[_0x36203a(0x2c9)](_0x36203a(0x26c)),_0x3cd0f7=document[_0x36203a(0x2c9)](_0x36203a(0x2e1)),_0xade0ba=document[_0x36203a(0x2c9)]('asBtnSeries');_0x4c2c3c[_0x36203a(0x1ed)][_0x36203a(0x289)](_0x36203a(0x1da)),_0x359680['classList'][_0x36203a(0x289)](_0x36203a(0x283));if(_0x2493b2===_0x36203a(0x1b9))_0x3c10ff[_0x36203a(0x1dc)]=_0x36203a(0x1fd),_0x3cd0f7[_0x36203a(0x1dc)]=_0x36203a(0x2f0),_0x3cd0f7[_0x36203a(0x2b1)]=()=>{const _0x50faad=_0x36203a;closeActionSheet(),updateSeriesBatch(_0x50faad(0x204),tempSessionData);},_0xade0ba[_0x36203a(0x1dc)]=_0x36203a(0x220),_0xade0ba['onclick']=()=>{closeActionSheet(),updateSeriesBatch('series',tempSessionData);};else _0x2493b2===_0x36203a(0x316)&&(_0x3c10ff[_0x36203a(0x1dc)]=_0x36203a(0x2ea),_0x3cd0f7[_0x36203a(0x1dc)]=_0x36203a(0x2f0),_0x3cd0f7[_0x36203a(0x27d)]=_0x36203a(0x2ac),_0x3cd0f7['onclick']=()=>{closeActionSheet(),commitDelete('single',sessions['find'](_0x3b6def=>_0x3b6def['id']===editingId));},_0xade0ba[_0x36203a(0x1dc)]=_0x36203a(0x220),_0xade0ba['className']=_0x36203a(0x276),_0xade0ba[_0x36203a(0x2b1)]=()=>{const _0x3f6733=_0x36203a;closeActionSheet(),commitDelete(_0x3f6733(0x304),sessions[_0x3f6733(0x25b)](_0x354135=>_0x354135['id']===editingId));});}function closeActionSheet(){const _0x4082ca=a2_0x4ef4d3;document['getElementById'](_0x4082ca(0x1a9))[_0x4082ca(0x1ed)][_0x4082ca(0x2c4)](_0x4082ca(0x283)),document['getElementById'](_0x4082ca(0x2e2))[_0x4082ca(0x1ed)][_0x4082ca(0x2c4)](_0x4082ca(0x1da));}function openSettings(){openSheet('settingsSheet');}function saveCoachSettings(){const _0x59975f=a2_0x4ef4d3,_0x57946b=document[_0x59975f(0x2c9)](_0x59975f(0x2d5))[_0x59975f(0x242)];localStorage[_0x59975f(0x23c)](_0x59975f(0x284),_0x57946b),console['log'](_0x59975f(0x25f),_0x57946b),DataManager[_0x59975f(0x1de)](_0x59975f(0x29e),{'settings':{'cancel_window':_0x57946b}})[_0x59975f(0x1d5)](_0xf90c79=>{const _0x44a874=_0x59975f;console[_0x44a874(0x2a6)]('Save\x20settings\x20error:',_0xf90c79),showToast(_0x44a874(0x2c7),![]);});}function loadCoachSettings(){const _0xc40d07=a2_0x4ef4d3,_0x209178=localStorage[_0xc40d07(0x1bf)](_0xc40d07(0x284));_0x209178&&(document['getElementById'](_0xc40d07(0x2d5))['value']=_0x209178);}function openRangesSheet(){const _0x593f6b=a2_0x4ef4d3;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x593f6b(0x1ea));}function addRange(){const _0x3c646f=a2_0x4ef4d3,_0x576463=document['getElementById'](_0x3c646f(0x2ca))[_0x3c646f(0x242)],_0x4734e7=document[_0x3c646f(0x2c9)]('rangeStartTime')[_0x3c646f(0x242)],_0x4cbfe5=document[_0x3c646f(0x2c9)](_0x3c646f(0x293))[_0x3c646f(0x242)],_0x126c0d=document['getElementById'](_0x3c646f(0x1e7))[_0x3c646f(0x242)];if(!_0x576463||!_0x4734e7||!_0x4cbfe5||!_0x126c0d)return alert(_0x3c646f(0x20a));const _0x4339d0=_0x576463+'T'+_0x4734e7,_0x3c60e3=_0x4cbfe5+'T'+_0x126c0d;if(_0x4339d0>=_0x3c60e3)return alert('–û—à–∏–±–∫–∞\x20–¥–∞—Ç');specialRanges[_0x3c646f(0x2d8)]({'start':_0x4339d0,'end':_0x3c60e3}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x3c646f(0x1b6)](),DataManager[_0x3c646f(0x1de)](_0x3c646f(0x29e),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x173a60){const _0x48e141=a2_0x4ef4d3;specialRanges['splice'](_0x173a60,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x48e141(0x1b6)](),DataManager[_0x48e141(0x1de)](_0x48e141(0x29e),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x52f5ea=a2_0x4ef4d3;document[_0x52f5ea(0x2c9)](_0x52f5ea(0x2ca))[_0x52f5ea(0x242)]='',document[_0x52f5ea(0x2c9)]('rangeStartTime')[_0x52f5ea(0x242)]=_0x52f5ea(0x23b),document[_0x52f5ea(0x2c9)](_0x52f5ea(0x293))[_0x52f5ea(0x242)]='',document['getElementById'](_0x52f5ea(0x1e7))[_0x52f5ea(0x242)]=_0x52f5ea(0x1d8);}function renderRangesList(){const _0x166ba7=a2_0x4ef4d3,_0x415c9f=document['getElementById'](_0x166ba7(0x2d2));_0x415c9f[_0x166ba7(0x1a6)]='';if(!specialRanges[_0x166ba7(0x2a0)]){_0x415c9f[_0x166ba7(0x1a6)]=_0x166ba7(0x2a5);return;}specialRanges[_0x166ba7(0x298)]((_0x327b3a,_0x35ed15)=>{const _0x1890bc=_0x166ba7,_0x21927b=document['createElement'](_0x1890bc(0x2a1));_0x21927b[_0x1890bc(0x27d)]='range-item';const _0x45a514=_0x53b07f=>{const _0x31505b=_0x1890bc,_0x11cf77=new Date(_0x53b07f);return _0x11cf77[_0x31505b(0x20c)]()+'.'+String(_0x11cf77[_0x31505b(0x296)]()+0x1)[_0x31505b(0x2ec)](0x2,'0')+'\x20'+String(_0x11cf77['getHours']())[_0x31505b(0x2ec)](0x2,'0')+':'+String(_0x11cf77['getMinutes']())[_0x31505b(0x2ec)](0x2,'0');};_0x21927b[_0x1890bc(0x1a6)]=_0x1890bc(0x305)+_0x45a514(_0x327b3a[_0x1890bc(0x233)])+_0x1890bc(0x321)+_0x45a514(_0x327b3a[_0x1890bc(0x221)])+_0x1890bc(0x2be)+_0x35ed15+_0x1890bc(0x2f2),_0x415c9f[_0x1890bc(0x254)](_0x21927b);});}function scrollToToday(){const _0x275fc8=a2_0x4ef4d3,_0x2da139=getLocalDateStr(new Date()),_0x314f2e=document[_0x275fc8(0x2c9)](_0x275fc8(0x1f4)+_0x2da139),_0x2f2451=document[_0x275fc8(0x2c9)](_0x275fc8(0x263));if(_0x314f2e&&_0x2f2451){const _0x42fc28=_0x2f2451[_0x275fc8(0x32b)],_0x1741a6=_0x314f2e['offsetLeft'],_0x3b04a0=_0x314f2e['offsetWidth'];_0x2f2451[_0x275fc8(0x27a)]=_0x1741a6-_0x42fc28/0x2+_0x3b04a0/0x2,_0x2f2451[_0x275fc8(0x1ac)]=0x9*GRID_H;}}function onScroll(){const _0x32fc3a=a2_0x4ef4d3,_0x291ea8=document[_0x32fc3a(0x2c9)](_0x32fc3a(0x263)),_0x4bb1c9=document[_0x32fc3a(0x20e)](_0x32fc3a(0x2bd));for(let _0x2f4732 of _0x4bb1c9)if(_0x2f4732[_0x32fc3a(0x224)]>=_0x291ea8[_0x32fc3a(0x27a)]){const _0x1fe076=new Date(_0x2f4732[_0x32fc3a(0x1b4)](_0x32fc3a(0x24e)));document[_0x32fc3a(0x2c9)](_0x32fc3a(0x216))['textContent']=_0x1fe076[_0x32fc3a(0x275)]('ru',{'month':_0x32fc3a(0x272)})[_0x32fc3a(0x2e5)]()+'\x20'+_0x1fe076[_0x32fc3a(0x2b2)]();break;}}function showToast(_0x2d12f1,_0x38a196=![]){const _0x173be0=a2_0x4ef4d3,_0x327aab=document[_0x173be0(0x2c9)](_0x173be0(0x1d0));_0x327aab[_0x173be0(0x27d)]=_0x173be0(0x256)+(_0x38a196?_0x173be0(0x31f):''),document[_0x173be0(0x2c9)](_0x173be0(0x1b5))['textContent']=_0x38a196?'–£—Å–ø–µ—à–Ω–æ':_0x173be0(0x2f5),document['getElementById'](_0x173be0(0x2a8))['textContent']=_0x2d12f1,_0x327aab['classList'][_0x173be0(0x289)](_0x173be0(0x324)),setTimeout(()=>{const _0x508b8f=_0x173be0;_0x327aab[_0x508b8f(0x1ed)][_0x508b8f(0x2c4)](_0x508b8f(0x324));},0xbb8);}function openDayOptions(_0x43bda8,_0x5e5064){const _0x2b0fed=a2_0x4ef4d3;selectedDayForOptions=_0x43bda8,document[_0x2b0fed(0x2c9)](_0x2b0fed(0x1d6))[_0x2b0fed(0x1dc)]=_0x5e5064,openSheet(_0x2b0fed(0x250));}function toggleDayOff(){const _0x398316=a2_0x4ef4d3;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x398316(0x288),reRenderBlocks(),closeAllSheets(),DataManager[_0x398316(0x1b6)](),DataManager[_0x398316(0x1de)](_0x398316(0x29e),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x149051=a2_0x4ef4d3;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x149051(0x1b6)](),DataManager[_0x149051(0x1de)]('save_settings',{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x1167a9){const _0x716bc8=a2_0x4ef4d3;document[_0x716bc8(0x2c9)](_0x716bc8(0x22c))[_0x716bc8(0x1ed)]['add'](_0x716bc8(0x1da)),document[_0x716bc8(0x2c9)](_0x1167a9)[_0x716bc8(0x1ed)][_0x716bc8(0x289)](_0x716bc8(0x283));}function closeAllSheets(){const _0x7441f1=a2_0x4ef4d3;document[_0x7441f1(0x2c9)](_0x7441f1(0x22c))[_0x7441f1(0x1ed)][_0x7441f1(0x2c4)](_0x7441f1(0x1da)),document[_0x7441f1(0x20e)](_0x7441f1(0x2cb))[_0x7441f1(0x298)](_0x2149c7=>_0x2149c7['classList'][_0x7441f1(0x2c4)](_0x7441f1(0x283)));}function openPatternEditor(){const _0x53f11e=a2_0x4ef4d3;closeAllSheets(),document[_0x53f11e(0x2c9)](_0x53f11e(0x1aa))[_0x53f11e(0x1ed)]['add']('open'),renderPatternEditor();}function closePatternEditor(){const _0x433e45=a2_0x4ef4d3;document[_0x433e45(0x2c9)]('patternEditor')[_0x433e45(0x1ed)][_0x433e45(0x2c4)]('open');}function savePattern(){const _0x5a83a4=a2_0x4ef4d3;document[_0x5a83a4(0x2c9)]('patternEditor')['classList']['remove'](_0x5a83a4(0x283)),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x5a83a4(0x1de)](_0x5a83a4(0x29e),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x6bf60a=a2_0x4ef4d3,_0x37a1e1=document['getElementById'](_0x6bf60a(0x247));_0x37a1e1['innerHTML']='';const _0x543cc7=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0xd27e85=document[_0x6bf60a(0x205)](_0x6bf60a(0x2a1));_0xd27e85[_0x6bf60a(0x27d)]=_0x6bf60a(0x21f),_0x37a1e1[_0x6bf60a(0x254)](_0xd27e85),_0x543cc7[_0x6bf60a(0x298)]((_0x9ad792,_0x37cf1a)=>{const _0x4c05bf=_0x6bf60a,_0x1c6c4d=document[_0x4c05bf(0x205)](_0x4c05bf(0x2a1));_0x1c6c4d[_0x4c05bf(0x27d)]=_0x4c05bf(0x291),_0x1c6c4d[_0x4c05bf(0x1a6)]=_0x9ad792+'\x20<span\x20class=\x22arrow\x22>‚Üì</span>',_0x1c6c4d[_0x4c05bf(0x2b1)]=()=>toggleColPattern(_0x37cf1a),_0x37a1e1[_0x4c05bf(0x254)](_0x1c6c4d);});for(let _0x54ca19=0x0;_0x54ca19<0x18;_0x54ca19++){const _0x5c228a=document[_0x6bf60a(0x205)]('div');_0x5c228a[_0x6bf60a(0x27d)]=_0x6bf60a(0x2b3),_0x5c228a[_0x6bf60a(0x1a6)]=_0x6bf60a(0x1ba)+String(_0x54ca19)['padStart'](0x2,'0')+_0x6bf60a(0x27e),_0x5c228a['onclick']=()=>toggleRowPattern(_0x54ca19),_0x37a1e1[_0x6bf60a(0x254)](_0x5c228a);for(let _0x13f870=0x0;_0x13f870<0x7;_0x13f870++){const _0x4af231=document[_0x6bf60a(0x205)](_0x6bf60a(0x2a1)),_0x25753b=(availabilityPattern[_0x13f870]||[])[_0x6bf60a(0x301)](_0x54ca19),_0x15069b=!_0x25753b;_0x4af231[_0x6bf60a(0x27d)]=_0x6bf60a(0x31a)+(_0x15069b?_0x6bf60a(0x1da):''),_0x4af231['onclick']=()=>toggleSinglePattern(_0x13f870,_0x54ca19),_0x37a1e1['appendChild'](_0x4af231);}}}function toggleSinglePattern(_0x3189f1,_0x386f16){const _0x1fb0a8=a2_0x4ef4d3;if(!availabilityPattern[_0x3189f1])availabilityPattern[_0x3189f1]=[];const _0x476966=availabilityPattern[_0x3189f1],_0x4b9d4c=_0x476966['indexOf'](_0x386f16);_0x4b9d4c===-0x1?_0x476966['push'](_0x386f16):_0x476966[_0x1fb0a8(0x2a9)](_0x4b9d4c,0x1),renderPatternEditor();}function toggleColPattern(_0xaf83fc){const _0x4915c5=a2_0x4ef4d3;if(!availabilityPattern[_0xaf83fc])availabilityPattern[_0xaf83fc]=[];const _0x544634=availabilityPattern[_0xaf83fc];_0x544634[_0x4915c5(0x2a0)]===0x0?availabilityPattern[_0xaf83fc]=Array[_0x4915c5(0x1e1)]({'length':0x18},(_0x32dec7,_0x212c49)=>_0x212c49):availabilityPattern[_0xaf83fc]=[],renderPatternEditor();}function toggleRowPattern(_0x3d1ca7){const _0x3ac879=a2_0x4ef4d3;let _0x116bd2=!![];for(let _0x4563d3=0x0;_0x4563d3<0x7;_0x4563d3++){if((availabilityPattern[_0x4563d3]||[])[_0x3ac879(0x301)](_0x3d1ca7)){_0x116bd2=![];break;}}for(let _0x2a4c3e=0x0;_0x2a4c3e<0x7;_0x2a4c3e++){if(!availabilityPattern[_0x2a4c3e])availabilityPattern[_0x2a4c3e]=[];const _0x404d4d=availabilityPattern[_0x2a4c3e][_0x3ac879(0x21c)](_0x3d1ca7);if(_0x116bd2){if(_0x404d4d===-0x1)availabilityPattern[_0x2a4c3e]['push'](_0x3d1ca7);}else{if(_0x404d4d!==-0x1)availabilityPattern[_0x2a4c3e][_0x3ac879(0x2a9)](_0x404d4d,0x1);}}renderPatternEditor();}function renderPCol(_0x5c6736,_0x4468e2){const _0x3fde61=a2_0x4ef4d3;_0x5c6736[_0x3fde61(0x1a6)]='';const _0x3e66de=Math[_0x3fde61(0x259)](_0x5c6736[_0x3fde61(0x224)]);(availabilityPattern[_0x4468e2]||[])[_0x3fde61(0x298)](_0x380813=>{const _0x1d704f=_0x3fde61,_0x274331=document[_0x1d704f(0x205)]('div');_0x274331['className']='blocked-slot\x20stripe-bg';const _0x2bdc73=_0x380813*GRID_H;_0x274331[_0x1d704f(0x238)]['top']=_0x2bdc73+'px',_0x274331[_0x1d704f(0x238)][_0x1d704f(0x25d)]='-'+_0x3e66de+_0x1d704f(0x227)+_0x2bdc73+'px',_0x274331[_0x1d704f(0x2b1)]=_0x266ece=>{const _0x481ea9=_0x1d704f;_0x266ece[_0x481ea9(0x264)](),toggleSinglePattern(_0x4468e2,_0x380813);},_0x5c6736[_0x1d704f(0x254)](_0x274331);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x1c3ade=a2_0x4ef4d3,_0x3f001c=new Date(),_0x5489bf=document['getElementById'](_0x1c3ade(0x1f5)),_0x523682=document['getElementById'](_0x1c3ade(0x258)),_0x4de10e=(_0x3f001c[_0x1c3ade(0x29c)]()*0x3c+_0x3f001c[_0x1c3ade(0x278)]())/0x3c*GRID_H;_0x5489bf[_0x1c3ade(0x238)][_0x1c3ade(0x286)]=_0x4de10e+'px',_0x5489bf[_0x1c3ade(0x238)][_0x1c3ade(0x292)]=_0x1c3ade(0x265),_0x523682['textContent']=String(_0x3f001c[_0x1c3ade(0x29c)]())[_0x1c3ade(0x2ec)](0x2,'0')+':'+String(_0x3f001c[_0x1c3ade(0x278)]())['padStart'](0x2,'0'),_0x523682[_0x1c3ade(0x238)]['display']='block',_0x523682[_0x1c3ade(0x238)][_0x1c3ade(0x286)]=_0x4de10e+'px';}document[a2_0x4ef4d3(0x1c3)]('DOMContentLoaded',init);function openDayOptions(_0x3f9a06){const _0x36486c=a2_0x4ef4d3;selectedDayForOptions=_0x3f9a06;const _0x39fb13=new Date(_0x3f9a06),_0x4f741f={'weekday':_0x36486c(0x272),'day':_0x36486c(0x2fc),'month':_0x36486c(0x272),'year':_0x36486c(0x2fc)},_0x2141f7=_0x39fb13['toLocaleDateString']('ru-RU',_0x4f741f);document[_0x36486c(0x2c9)](_0x36486c(0x2db))['textContent']=_0x2141f7[_0x36486c(0x1ae)](0x0)[_0x36486c(0x2e5)]()+_0x2141f7[_0x36486c(0x2d4)](0x1);let _0x486d04=_0x39fb13['getDay']()-0x1;if(_0x486d04===-0x1)_0x486d04=0x6;const _0x35e5fd=availabilityPattern[_0x486d04]||[],_0x19a919=0x18-_0x35e5fd[_0x36486c(0x2a0)],_0x1d0e70=_0x19a919*0x3c,_0x4d7f20=sessions['filter'](_0x65141=>_0x65141[_0x36486c(0x1f8)]===_0x3f9a06&&_0x65141[_0x36486c(0x274)]!=='cancelled');let _0x8786f9=_0x4d7f20[_0x36486c(0x20f)](_0x1992f8=>{const _0x2872e0=_0x36486c,[_0x1dc97f,_0x178bde]=_0x1992f8[_0x2872e0(0x233)][_0x2872e0(0x2e7)](':')[_0x2872e0(0x20f)](Number),[_0x142042,_0x40e3ea]=_0x1992f8['end'][_0x2872e0(0x2e7)](':')[_0x2872e0(0x20f)](Number);return[_0x1dc97f*0x3c+_0x178bde,_0x142042*0x3c+_0x40e3ea];});_0x8786f9[_0x36486c(0x308)]((_0x1a0602,_0x37fef0)=>_0x1a0602[0x0]-_0x37fef0[0x0]);let _0x19dfc2=[];if(_0x8786f9[_0x36486c(0x2a0)]>0x0){let _0x1c2067=_0x8786f9[0x0];for(let _0x4ccdb5=0x1;_0x4ccdb5<_0x8786f9[_0x36486c(0x2a0)];_0x4ccdb5++){_0x8786f9[_0x4ccdb5][0x0]<_0x1c2067[0x1]?_0x1c2067[0x1]=Math[_0x36486c(0x1c8)](_0x1c2067[0x1],_0x8786f9[_0x4ccdb5][0x1]):(_0x19dfc2[_0x36486c(0x2d8)](_0x1c2067),_0x1c2067=_0x8786f9[_0x4ccdb5]);}_0x19dfc2[_0x36486c(0x2d8)](_0x1c2067);}let _0x153d6f=0x0;_0x19dfc2['forEach'](_0x55c6eb=>_0x153d6f+=_0x55c6eb[0x1]-_0x55c6eb[0x0]),document[_0x36486c(0x2c9)](_0x36486c(0x300))[_0x36486c(0x1dc)]=formatMinsToHrs(_0x1d0e70),document[_0x36486c(0x2c9)](_0x36486c(0x271))[_0x36486c(0x1dc)]=formatMinsToHrs(_0x153d6f);const _0x3d12a3=_0x1d0e70>0x0?Math[_0x36486c(0x259)](_0x153d6f/_0x1d0e70*0x64):0x0,_0x245f80=document[_0x36486c(0x2c9)](_0x36486c(0x26d));_0x245f80[_0x36486c(0x1dc)]=_0x3d12a3+'%';const _0x28c879=document[_0x36486c(0x2c9)](_0x36486c(0x229));if(_0x3d12a3>0x64)_0x245f80[_0x36486c(0x238)][_0x36486c(0x273)]=_0x36486c(0x24c),_0x28c879['style'][_0x36486c(0x211)]=_0x36486c(0x1ad);else _0x3d12a3>0x50?(_0x245f80[_0x36486c(0x238)][_0x36486c(0x273)]=_0x36486c(0x1f9),_0x28c879[_0x36486c(0x238)][_0x36486c(0x211)]='rgba(255,\x20159,\x2010,\x200.3)'):(_0x245f80['style'][_0x36486c(0x273)]=_0x36486c(0x1cb),_0x28c879[_0x36486c(0x238)][_0x36486c(0x211)]='rgba(255,255,255,0.05)');const _0x3fae13=document[_0x36486c(0x2c9)](_0x36486c(0x2f4));_0x3fae13[_0x36486c(0x1a6)]='';_0x4d7f20[_0x36486c(0x2a0)]===0x0?_0x3fae13[_0x36486c(0x1a6)]=_0x36486c(0x212):(_0x4d7f20[_0x36486c(0x308)]((_0x2a33ee,_0xc1c1e9)=>_0x2a33ee[_0x36486c(0x233)][_0x36486c(0x245)](_0xc1c1e9[_0x36486c(0x233)])),_0x4d7f20[_0x36486c(0x298)](_0x2e4aeb=>{const _0x5d847e=_0x36486c,_0x1c25e3=clients[_0x5d847e(0x25b)](_0x4855ac=>_0x4855ac[_0x5d847e(0x1d9)]===_0x2e4aeb['client']),_0x28a461=_0x1c25e3?_0x1c25e3['color']:_0x5d847e(0x28f),_0xd96a70=_0x2e4aeb['status']===_0x5d847e(0x2df),_0x4314a6=_0xd96a70?'<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>':'',_0x5b5908=document[_0x5d847e(0x205)](_0x5d847e(0x2a1));_0x5b5908['className']=_0x5d847e(0x2fe),_0x5b5908[_0x5d847e(0x238)][_0x5d847e(0x22e)]=_0x28a461,_0x5b5908[_0x5d847e(0x1a6)]=_0x5d847e(0x1ec)+_0x2e4aeb['start']+'\x20-\x20'+_0x2e4aeb[_0x5d847e(0x221)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2e4aeb[_0x5d847e(0x2ce)]+_0x5d847e(0x323)+_0x4314a6+_0x5d847e(0x215),_0x3fae13[_0x5d847e(0x254)](_0x5b5908);}));const _0x18c854=document[_0x36486c(0x2c9)](_0x36486c(0x1b7)),_0x183c4f=dateExceptions[_0x3f9a06]===_0x36486c(0x288);_0x183c4f?(_0x18c854[_0x36486c(0x1dc)]=_0x36486c(0x307),_0x18c854[_0x36486c(0x27d)]=_0x36486c(0x1eb),_0x18c854[_0x36486c(0x238)][_0x36486c(0x273)]=_0x36486c(0x1cb),_0x18c854['style'][_0x36486c(0x200)]='rgba(48,\x20209,\x2088,\x200.15)'):(_0x18c854['textContent']='–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º',_0x18c854[_0x36486c(0x27d)]='btn-primary\x20btn-danger',_0x18c854[_0x36486c(0x238)][_0x36486c(0x273)]='var(--acc-red)',_0x18c854[_0x36486c(0x238)][_0x36486c(0x200)]=_0x36486c(0x1c7)),openSheet('dayOptionsSheet');}let currentAnPeriod='week';function openAnalytics(){const _0x296113=a2_0x4ef4d3,_0x4c7b57=document[_0x296113(0x1c2)]('.period-switch\x20.p-btn');setAnalyticsPeriod(_0x296113(0x2c2),_0x4c7b57),closeAllSheets(),openSheet(_0x296113(0x2fb));}function setAnalyticsPeriod(_0x32258c,_0x160f4c){const _0x49e363=a2_0x4ef4d3;currentAnPeriod=_0x32258c,document[_0x49e363(0x20e)]('.period-switch\x20.p-btn')[_0x49e363(0x298)](_0xfb392d=>_0xfb392d['classList']['remove'](_0x49e363(0x1da)));if(_0x160f4c)_0x160f4c[_0x49e363(0x1ed)][_0x49e363(0x289)](_0x49e363(0x1da));const _0x523d24=document['getElementById']('anCustomDates');_0x523d24[_0x49e363(0x238)]['display']=_0x32258c==='custom'?_0x49e363(0x1c4):'none';const _0x50c6c5=new Date();let _0x59e53d=new Date(),_0x5548e4=new Date();if(_0x32258c==='week')_0x59e53d=getStartOfWeek(_0x50c6c5),_0x5548e4=new Date(_0x59e53d),_0x5548e4[_0x49e363(0x1b2)](_0x5548e4[_0x49e363(0x20c)]()+0x6);else{if(_0x32258c==='month')_0x59e53d=new Date(_0x50c6c5['getFullYear'](),_0x50c6c5[_0x49e363(0x296)](),0x1),_0x5548e4=new Date(_0x50c6c5[_0x49e363(0x2b2)](),_0x50c6c5['getMonth']()+0x1,0x0);else{!document['getElementById'](_0x49e363(0x2d3))['value']&&(document[_0x49e363(0x2c9)](_0x49e363(0x2d3))[_0x49e363(0x242)]=getLocalDateStr(_0x50c6c5),document[_0x49e363(0x2c9)]('anEnd')[_0x49e363(0x242)]=getLocalDateStr(_0x50c6c5));refreshAnalytics();return;}}document[_0x49e363(0x2c9)](_0x49e363(0x2d3))[_0x49e363(0x242)]=getLocalDateStr(_0x59e53d),document['getElementById'](_0x49e363(0x295))[_0x49e363(0x242)]=getLocalDateStr(_0x5548e4),refreshAnalytics();}function refreshAnalytics(){const _0x3b205e=a2_0x4ef4d3,_0xa7707c=document[_0x3b205e(0x2c9)](_0x3b205e(0x2d3))[_0x3b205e(0x242)],_0x235aa0=document[_0x3b205e(0x2c9)](_0x3b205e(0x295))['value'];if(!_0xa7707c||!_0x235aa0)return;const _0x2ecdf2=sessions[_0x3b205e(0x24d)](_0x11cf13=>_0x11cf13[_0x3b205e(0x1f8)]>=_0xa7707c&&_0x11cf13[_0x3b205e(0x1f8)]<=_0x235aa0&&_0x11cf13[_0x3b205e(0x274)]!==_0x3b205e(0x30f)),_0x1f1680=_0x2ecdf2[_0x3b205e(0x2a0)],_0x62abbe=_0x2ecdf2[_0x3b205e(0x24d)](_0x3b72ab=>_0x3b72ab[_0x3b205e(0x274)]===_0x3b205e(0x2df))[_0x3b205e(0x2a0)],_0x9fd65e=_0x1f1680>0x0?Math[_0x3b205e(0x259)](_0x62abbe/_0x1f1680*0x64):0x0;document[_0x3b205e(0x2c9)](_0x3b205e(0x235))[_0x3b205e(0x1dc)]=_0x9fd65e+'%',document[_0x3b205e(0x2c9)](_0x3b205e(0x2e8))['textContent']=_0x62abbe+'\x20–∏–∑\x20'+_0x1f1680+_0x3b205e(0x23f);const _0x4de55c=document[_0x3b205e(0x2c9)](_0x3b205e(0x1e0)),_0x28607d=0x2*Math['PI']*0x23,_0x420cd4=_0x28607d-_0x9fd65e/0x64*_0x28607d;_0x4de55c[_0x3b205e(0x238)]['strokeDashoffset']=_0x420cd4;const _0x255c58={};_0x2ecdf2[_0x3b205e(0x298)](_0x579c6d=>{const _0x3fe9a3=_0x3b205e;if(!_0x255c58[_0x579c6d['client']]){const _0x20cee9=clients[_0x3fe9a3(0x25b)](_0x5f3349=>_0x5f3349[_0x3fe9a3(0x1d9)]===_0x579c6d[_0x3fe9a3(0x2ce)]);_0x255c58[_0x579c6d[_0x3fe9a3(0x2ce)]]={'total':0x0,'done':0x0,'color':_0x20cee9?_0x20cee9[_0x3fe9a3(0x273)]:_0x3fe9a3(0x28f)};}_0x255c58[_0x579c6d[_0x3fe9a3(0x2ce)]]['total']++;if(_0x579c6d['status']===_0x3fe9a3(0x2df))_0x255c58[_0x579c6d[_0x3fe9a3(0x2ce)]][_0x3fe9a3(0x306)]++;});const _0x29c097=document['getElementById'](_0x3b205e(0x218));_0x29c097['innerHTML']='';const _0x14204a=Object[_0x3b205e(0x249)](_0x255c58)['sort']((_0x40e6d0,_0x2c8c16)=>_0x2c8c16[0x1][_0x3b205e(0x239)]-_0x40e6d0[0x1][_0x3b205e(0x239)]);if(_0x14204a['length']===0x0){_0x29c097[_0x3b205e(0x1a6)]='<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>';return;}_0x14204a['forEach'](([_0x549689,_0x404216])=>{const _0x47fb72=_0x3b205e,_0x151251=Math[_0x47fb72(0x259)](_0x404216[_0x47fb72(0x306)]/_0x404216['total']*0x64),_0x14833f=document[_0x47fb72(0x205)](_0x47fb72(0x2a1));_0x14833f[_0x47fb72(0x27d)]='client-stat-card',_0x14833f[_0x47fb72(0x238)]['borderLeftColor']=_0x404216[_0x47fb72(0x273)],_0x14833f[_0x47fb72(0x1a6)]=_0x47fb72(0x2a7)+_0x549689+_0x47fb72(0x28e)+_0x404216[_0x47fb72(0x306)]+_0x47fb72(0x1cd)+_0x404216['total']+_0x47fb72(0x1cf)+_0x151251+_0x47fb72(0x22a),_0x29c097[_0x47fb72(0x254)](_0x14833f);});}function formatMinsToHrs(_0xae7c3c){if(_0xae7c3c===0x0)return'0';const _0x4b8728=Math['floor'](_0xae7c3c/0x3c),_0x17a27a=_0xae7c3c%0x3c;if(_0x17a27a===0x0)return _0x4b8728+'—á';return _0x4b8728+'—á\x20'+_0x17a27a+'–º';}