const a2_0x3b56be=a2_0x3456;(function(_0x341cc2,_0xc980aa){const _0x360462=a2_0x3456,_0x16e183=_0x341cc2();while(!![]){try{const _0x1d330f=parseInt(_0x360462(0x1b1))/0x1*(parseInt(_0x360462(0x180))/0x2)+parseInt(_0x360462(0x134))/0x3+parseInt(_0x360462(0xb9))/0x4+-parseInt(_0x360462(0x1bc))/0x5+parseInt(_0x360462(0xbb))/0x6*(-parseInt(_0x360462(0x159))/0x7)+-parseInt(_0x360462(0x7f))/0x8+parseInt(_0x360462(0xd8))/0x9;if(_0x1d330f===_0xc980aa)break;else _0x16e183['push'](_0x16e183['shift']());}catch(_0x3348be){_0x16e183['push'](_0x16e183['shift']());}}}(a2_0x594d,0x8d9c5),function initTMA(){const _0x565c11=a2_0x3456,_0x30a1da=(function(){let _0x220381=!![];return function(_0x457ed6,_0x4c77e5){const _0x2e28ac=_0x220381?function(){if(_0x4c77e5){const _0x5be852=_0x4c77e5['apply'](_0x457ed6,arguments);return _0x4c77e5=null,_0x5be852;}}:function(){};return _0x220381=![],_0x2e28ac;};}()),_0x2ab876=_0x30a1da(this,function(){const _0x2fceb3=a2_0x3456;return _0x2ab876[_0x2fceb3(0xa0)]()[_0x2fceb3(0x164)](_0x2fceb3(0x1be))[_0x2fceb3(0xa0)]()['constructor'](_0x2ab876)[_0x2fceb3(0x164)](_0x2fceb3(0x1be));});_0x2ab876();try{const _0x59157f=window[_0x565c11(0x16b)]?.[_0x565c11(0x9d)];if(!_0x59157f)return;_0x59157f['ready'](),_0x59157f[_0x565c11(0x87)]();try{_0x59157f[_0x565c11(0x169)](_0x565c11(0x176)),_0x59157f[_0x565c11(0x1c2)]&&_0x59157f['setBackgroundColor'](_0x565c11(0x176));}catch(_0x571ebe){console[_0x565c11(0x115)](_0x565c11(0x1a6),_0x571ebe);}try{_0x59157f[_0x565c11(0x11a)]&&(_0x59157f[_0x565c11(0x11a)][_0x565c11(0xc1)](),_0x59157f[_0x565c11(0x11a)][_0x565c11(0x190)](),_0x59157f[_0x565c11(0x11a)][_0x565c11(0xac)](function(){const _0x5a7b05=_0x565c11;window[_0x5a7b05(0xd1)][_0x5a7b05(0x13a)]=_0x5a7b05(0x9b);}));}catch(_0x46e6c1){console['log']('Error\x20setting\x20back\x20button:',_0x46e6c1);}try{if(_0x59157f[_0x565c11(0x1b6)])_0x59157f[_0x565c11(0x1b6)]();}catch(_0x1ca8be){}}catch(_0x171a7f){console[_0x565c11(0xd6)](_0x565c11(0x13f),_0x171a7f);}}());function isAdmin(){const _0x4318a4=a2_0x3456;try{const _0x3131cd=Number(window[_0x4318a4(0x16b)]?.[_0x4318a4(0x9d)]?.[_0x4318a4(0x109)]?.['user']?.['id']);return _0x3131cd===0xbaf7174;}catch(_0x43e69c){return![];}}const APP_VERSION=a2_0x3b56be(0x1cc),API_URL=a2_0x3b56be(0x1ee),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x3b56be(0x7b),KEY_SESSIONS=a2_0x3b56be(0xf5),KEY_SETTINGS=a2_0x3b56be(0x130);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x44d35c=a2_0x3b56be;return window[_0x44d35c(0x16b)]?.[_0x44d35c(0x9d)]?.[_0x44d35c(0x109)]?.[_0x44d35c(0x1c3)]?.['id']||_0x44d35c(0x18a);},'saveLocally'(){const _0x3c44fa=a2_0x3b56be;try{localStorage[_0x3c44fa(0x1d1)](KEY_CLIENTS,JSON[_0x3c44fa(0xb3)](clients)),localStorage[_0x3c44fa(0x1d1)](KEY_SESSIONS,JSON['stringify'](sessions)),localStorage[_0x3c44fa(0x1d1)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x2c9564){console[_0x3c44fa(0xd6)](_0x3c44fa(0x1e5),_0x2c9564);}},'loadLocal'(){const _0x153273=a2_0x3b56be;try{const _0x748e8d=localStorage[_0x153273(0x138)](KEY_CLIENTS);if(_0x748e8d)clients=JSON['parse'](_0x748e8d);const _0x406c8e=localStorage['getItem'](KEY_SESSIONS);if(_0x406c8e)sessions=JSON[_0x153273(0xf1)](_0x406c8e);const _0x43ce83=localStorage[_0x153273(0x138)](KEY_SETTINGS);if(_0x43ce83){const _0x230bba=JSON[_0x153273(0xf1)](_0x43ce83);if(_0x230bba[_0x153273(0x162)])availabilityPattern=_0x230bba[_0x153273(0x162)];if(_0x230bba['exceptions'])dateExceptions=_0x230bba[_0x153273(0x128)];if(_0x230bba[_0x153273(0xce)])specialRanges=_0x230bba[_0x153273(0xce)];}else{for(let _0x563b1=0x0;_0x563b1<0x7;_0x563b1++)availabilityPattern[_0x563b1]=Array['from']({'length':0xc},(_0x1e3ac5,_0x252f00)=>_0x252f00+0x9);}}catch(_0x262dee){console[_0x153273(0xd6)](_0x153273(0x186),_0x262dee);}},async 'fetchFromServer'(_0x533fd3,_0x4473df={}){const _0x3f6b4=a2_0x3b56be,_0x537e6a=window[_0x3f6b4(0x16b)]?.['WebApp'],_0x2ea026={'action':_0x533fd3,'init_data':_0x537e6a?.[_0x3f6b4(0x104)]||'',..._0x4473df};try{const _0x537eda=await fetch(API_URL,{'method':_0x3f6b4(0x15f),'headers':{'Content-Type':_0x3f6b4(0xa3)},'body':JSON[_0x3f6b4(0xb3)](_0x2ea026)}),_0x37883e=await _0x537eda[_0x3f6b4(0x1a1)]();if(!_0x37883e['ok'])throw new Error(_0x37883e[_0x3f6b4(0xd6)]||'Server\x20Error');return _0x37883e['data'];}catch(_0x533237){console['error']('[API\x20'+_0x533fd3+_0x3f6b4(0x7a),_0x533237);throw _0x533237;}},async 'syncLoad'(){const _0x476473=a2_0x3b56be,_0x11293d=new Date(),_0x584f0e=_0x11293d[_0x476473(0x1db)]()+'-'+String(_0x11293d[_0x476473(0x1d9)]()+0x1)[_0x476473(0x10c)](0x2,'0'),_0x45a723=new Date(_0x11293d);_0x45a723['setMonth'](_0x11293d[_0x476473(0x1d9)]()+0x1);const _0x5171b3=_0x45a723['getFullYear']()+'-'+String(_0x45a723['getMonth']()+0x1)[_0x476473(0x10c)](0x2,'0'),_0x28e193=Date[_0x476473(0xa8)]();console[_0x476473(0x115)](_0x476473(0x9e)+_0x584f0e+',\x20'+_0x5171b3+_0x476473(0x89));try{const [_0x109253,_0xed586c]=await Promise[_0x476473(0x183)]([this[_0x476473(0x12a)](_0x476473(0x7d),{'month_str':_0x584f0e}),this[_0x476473(0x12a)](_0x476473(0x7d),{'month_str':_0x5171b3})]);if(lastUserActionTime>_0x28e193)return console[_0x476473(0x1ba)](_0x476473(0x139)),![];return this[_0x476473(0x19f)](_0x109253,_0x584f0e),this['mergeServerData'](_0xed586c,_0x5171b3),this[_0x476473(0x1b9)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x7dc06f){console['error'](_0x7dc06f);throw _0x7dc06f;}},'mergeServerData'(_0x4c148c,_0x101f4a){const _0x54f16c=a2_0x3b56be;if(!_0x4c148c)return;_0x4c148c[_0x54f16c(0x11b)]&&Array['isArray'](_0x4c148c[_0x54f16c(0x11b)])&&(clients=_0x4c148c['clients']);if(_0x4c148c[_0x54f16c(0x98)]){if(_0x4c148c['settings'][_0x54f16c(0x162)])availabilityPattern=_0x4c148c[_0x54f16c(0x98)]['pattern'];if(_0x4c148c[_0x54f16c(0x98)][_0x54f16c(0x128)])dateExceptions=_0x4c148c[_0x54f16c(0x98)]['exceptions'];if(_0x4c148c[_0x54f16c(0x98)][_0x54f16c(0xce)])specialRanges=_0x4c148c[_0x54f16c(0x98)][_0x54f16c(0xce)];if(_0x4c148c['settings'][_0x54f16c(0x13b)]){localStorage[_0x54f16c(0x1d1)]('uc_settings_cancel_window',_0x4c148c[_0x54f16c(0x98)][_0x54f16c(0x13b)]);const _0x27c4c2=document[_0x54f16c(0x17e)](_0x54f16c(0x12c));if(_0x27c4c2)_0x27c4c2[_0x54f16c(0xa4)]=_0x4c148c[_0x54f16c(0x98)]['cancel_window'];}}_0x4c148c[_0x54f16c(0x110)]&&(sessions=sessions[_0x54f16c(0x1cf)](_0x1616fe=>!_0x1616fe[_0x54f16c(0xfe)][_0x54f16c(0x1aa)](_0x101f4a)),Object[_0x54f16c(0x127)](_0x4c148c[_0x54f16c(0x110)])[_0x54f16c(0x1c5)](_0x15e19d=>{const _0x47ebde=_0x54f16c,_0x430094=_0x4c148c[_0x47ebde(0x110)][_0x15e19d];_0x430094['forEach'](_0x1965e0=>{const _0x10ef80=_0x47ebde,_0x1320d9=clients[_0x10ef80(0x174)](_0x27ab30=>String(_0x27ab30['id'])===String(_0x1965e0['c']));sessions[_0x10ef80(0x14e)]({'id':_0x1965e0['i'],'clientId':_0x1965e0['c'],'client':_0x1320d9?_0x1320d9[_0x10ef80(0x1af)]:_0x10ef80(0x1cd),'dateStr':_0x101f4a+'-'+_0x15e19d['padStart'](0x2,'0'),'start':_0x1965e0['s'],'end':_0x1965e0['e'],'status':_0x1965e0['st']||_0x10ef80(0x18e),'note':_0x1965e0['n']||'','seriesId':_0x1965e0[_0x10ef80(0x157)]||null});});}));},async 'syncBatch'(_0x6a10b1){const _0x47a9aa=a2_0x3b56be,_0x38f802=[...new Set(_0x6a10b1)],_0x4751f6=_0x38f802[_0x47a9aa(0x1a4)](_0x19371d=>{const _0x2ebdf9=_0x47a9aa,_0x2be871=sessions[_0x2ebdf9(0x1cf)](_0x554ecf=>_0x554ecf[_0x2ebdf9(0xfe)]===_0x19371d&&_0x554ecf[_0x2ebdf9(0x178)]!=='deleted'),_0x459d8c=_0x2be871['map'](_0x50dd22=>({'i':_0x50dd22['id'],'c':_0x50dd22[_0x2ebdf9(0x84)],'s':_0x50dd22[_0x2ebdf9(0x17a)],'e':_0x50dd22[_0x2ebdf9(0xf9)],'st':_0x50dd22[_0x2ebdf9(0x178)],'n':_0x50dd22[_0x2ebdf9(0x1de)],'sid':_0x50dd22[_0x2ebdf9(0x1f9)]}));return{'date':_0x19371d,'day_data':_0x459d8c};});if(_0x4751f6[_0x47a9aa(0x97)]===0x0)return;console['log'](_0x47a9aa(0x18d)+_0x4751f6[_0x47a9aa(0x97)]+_0x47a9aa(0xf4)),await this[_0x47a9aa(0x12a)]('batch_sync',{'changes':_0x4751f6});}};async function init(){const _0x2cbba6=a2_0x3b56be;DataManager[_0x2cbba6(0x1e4)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById'](_0x2cbba6(0x118))['addEventListener']('scroll',()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x2cbba6(0x10a)]()[_0x2cbba6(0x194)](()=>{const _0x13b954=_0x2cbba6;showToast(_0x13b954(0x8c),!![]);})[_0x2cbba6(0x1d8)](_0x37fdcc=>{const _0x548b13=_0x2cbba6;showToast(_0x548b13(0x1c6),![]);});}function generateId(){const _0x282a14=a2_0x3b56be;return Date[_0x282a14(0xa8)]()[_0x282a14(0xa0)](0x24)+Math[_0x282a14(0x131)]()[_0x282a14(0xa0)](0x24)[_0x282a14(0x1a2)](0x2,0x5);}function toggleSeriesInput(){const _0x586385=a2_0x3b56be,_0xa06038=document[_0x586385(0x17e)]('inpRecurring')[_0x586385(0x17b)],_0x1994af=document['getElementById'](_0x586385(0xfb));_0x1994af[_0x586385(0x1ce)][_0x586385(0x1f5)]=_0xa06038?_0x586385(0xfd):_0x586385(0xf7);const _0x30125d=document[_0x586385(0x17e)](_0x586385(0x11e));_0x30125d[_0x586385(0x1ce)][_0x586385(0x15d)]=_0xa06038?_0x586385(0xb4):_0x586385(0x195);}function openAddSession(_0x225026){const _0x4c2322=a2_0x3b56be;editingId=null,populateClientSelect(),document['getElementById'](_0x4c2322(0xbf))[_0x4c2322(0x103)]=_0x4c2322(0x198),document[_0x4c2322(0x17e)](_0x4c2322(0x152))[_0x4c2322(0x1ce)][_0x4c2322(0x1f5)]='none',document[_0x4c2322(0x17e)](_0x4c2322(0x9c))[_0x4c2322(0x1ce)]['display']='none';const _0x2aaee8=document[_0x4c2322(0x17e)](_0x4c2322(0x11e)),_0x117f69=document[_0x4c2322(0x17e)](_0x4c2322(0xfb));_0x2aaee8['style'][_0x4c2322(0x1f5)]='flex',_0x2aaee8[_0x4c2322(0x1ce)][_0x4c2322(0x15d)]=_0x4c2322(0x195),document[_0x4c2322(0x17e)]('inpRecurring')[_0x4c2322(0x17b)]=![],document[_0x4c2322(0x17e)]('inpSeriesCount')['value']=0x4,_0x117f69[_0x4c2322(0x1ce)][_0x4c2322(0x1f5)]=_0x4c2322(0xf7),document['getElementById'](_0x4c2322(0x14f))[_0x4c2322(0xa4)]=getLocalDateStr(_0x225026),updateDateDisplay();const _0x344fb1=_0x225026['getHours']();document[_0x4c2322(0x17e)](_0x4c2322(0x116))[_0x4c2322(0xa4)]=String(_0x344fb1)[_0x4c2322(0x10c)](0x2,'0')+_0x4c2322(0x140),document[_0x4c2322(0x17e)](_0x4c2322(0x1ef))['value']=String(_0x344fb1+0x1)[_0x4c2322(0x10c)](0x2,'0')+_0x4c2322(0x140),openSheet('sessionSheet');}function openEdit(_0x57df56){const _0x314b9f=a2_0x3b56be;editingId=_0x57df56['id'],populateClientSelect(),document[_0x314b9f(0x17e)](_0x314b9f(0xbf))['textContent']=_0x314b9f(0x1c1),document[_0x314b9f(0x17e)](_0x314b9f(0x152))[_0x314b9f(0x1ce)]['display']=_0x314b9f(0xfd);const _0x5e9a60=document[_0x314b9f(0x17e)](_0x314b9f(0x9c));_0x5e9a60[_0x314b9f(0x1ce)][_0x314b9f(0x1f5)]=_0x314b9f(0xdf);_0x57df56[_0x314b9f(0x178)]===_0x314b9f(0x165)?(_0x5e9a60[_0x314b9f(0x83)]=_0x314b9f(0x155),_0x5e9a60[_0x314b9f(0xe6)]=_0x314b9f(0x113)):(_0x5e9a60[_0x314b9f(0x83)]=_0x314b9f(0x1f1),_0x5e9a60[_0x314b9f(0xe6)]=_0x314b9f(0x1e6));const _0x3d18d8=!!_0x57df56['seriesId'];document[_0x314b9f(0x17e)]('recurringOptionContainer')[_0x314b9f(0x1ce)][_0x314b9f(0x1f5)]=_0x314b9f(0xf7),document[_0x314b9f(0x17e)](_0x314b9f(0xfb))[_0x314b9f(0x1ce)][_0x314b9f(0x1f5)]=_0x314b9f(0xf7),_0x3d18d8?(document[_0x314b9f(0x17e)](_0x314b9f(0xab))[_0x314b9f(0x1ce)][_0x314b9f(0x1f5)]=_0x314b9f(0xdf),document[_0x314b9f(0x17e)](_0x314b9f(0xab))[_0x314b9f(0xe9)](_0x314b9f(0x1d3))['textContent']=_0x314b9f(0x137)):document['getElementById'](_0x314b9f(0xab))[_0x314b9f(0x1ce)][_0x314b9f(0x1f5)]=_0x314b9f(0xf7),document['getElementById'](_0x314b9f(0x15a))[_0x314b9f(0xa4)]=_0x57df56['client'],document[_0x314b9f(0x17e)](_0x314b9f(0x14f))[_0x314b9f(0xa4)]=_0x57df56[_0x314b9f(0xfe)],document[_0x314b9f(0x17e)](_0x314b9f(0x116))['value']=_0x57df56[_0x314b9f(0x17a)],document[_0x314b9f(0x17e)]('inpEnd')[_0x314b9f(0xa4)]=_0x57df56['end'],document[_0x314b9f(0x17e)](_0x314b9f(0xa1))[_0x314b9f(0xa4)]=_0x57df56['note']||'',updateDateDisplay(),openSheet('sessionSheet');}async function trySaveSession(){const _0x123aff=a2_0x3b56be,_0x1777f3=document[_0x123aff(0x17e)](_0x123aff(0x15a))['value'],_0x28334a=document[_0x123aff(0x17e)](_0x123aff(0x14f))['value'],_0x12244c=document['getElementById'](_0x123aff(0x116))[_0x123aff(0xa4)],_0x5b72d9=document['getElementById'](_0x123aff(0x1ef))[_0x123aff(0xa4)],_0x5e5cb7=document[_0x123aff(0x17e)](_0x123aff(0xa1))['value'],_0x48a648=document[_0x123aff(0x17e)](_0x123aff(0x13e))[_0x123aff(0x17b)];let _0x22559f=0x4;if(_0x48a648){const _0x141c21=parseInt(document['getElementById'](_0x123aff(0xef))[_0x123aff(0xa4)]);if(!_0x141c21||_0x141c21<0x2){showToast(_0x123aff(0xcc),![]);return;}if(_0x141c21>0x64){showToast(_0x123aff(0x1f6),![]);return;}_0x22559f=_0x141c21;}const _0x5c1069=clients[_0x123aff(0x174)](_0x203e82=>_0x203e82[_0x123aff(0x1af)]===_0x1777f3);if(!_0x5c1069){showToast(_0x123aff(0x187),![]);return;}const _0x32b077=validateAppointment(_0x28334a,_0x12244c,_0x5b72d9,editingId,_0x5c1069['id']);if(!_0x32b077[_0x123aff(0x7e)]){showToast(_0x32b077[_0x123aff(0x151)],![]);return;}_0x32b077['warning']&&showToast(_0x32b077['warning'],![]);const _0x4c1fa1={'client':_0x1777f3,'clientId':_0x5c1069['id'],'start':_0x12244c,'end':_0x5b72d9,'note':_0x5e5cb7,'status':_0x123aff(0x18e)},_0x532f40=editingId?sessions[_0x123aff(0x174)](_0x36fd34=>_0x36fd34['id']===editingId):null;if(_0x532f40&&_0x532f40['seriesId']){tempSessionData={..._0x4c1fa1,'dateStr':_0x28334a,'id':editingId,'seriesId':_0x532f40[_0x123aff(0x1f9)]},openActionSheet(_0x123aff(0x149));return;}let _0x14bff7=null;if(!editingId)_0x14bff7=_0x123aff(0x1b0);else{if(_0x532f40){if(String(_0x532f40[_0x123aff(0x84)])!==String(_0x5c1069['id']))console[_0x123aff(0x115)](_0x123aff(0xe2)),NotificationManager[_0x123aff(0x93)](_0x123aff(0xb0),_0x532f40),_0x14bff7=_0x123aff(0x1b0);else(_0x532f40[_0x123aff(0x17a)]!==_0x12244c||_0x532f40[_0x123aff(0xf9)]!==_0x5b72d9||_0x532f40['dateStr']!==_0x28334a)&&(_0x14bff7=_0x123aff(0x117));}}if(!editingId&&_0x48a648){createBatchSeries(_0x4c1fa1,_0x28334a,_0x22559f),NotificationManager[_0x123aff(0x93)](_0x123aff(0x1b0),{..._0x4c1fa1,'dateStr':_0x28334a});return;}lastUserActionTime=Date[_0x123aff(0xa8)]();const _0x3b8c81={..._0x4c1fa1,'dateStr':_0x28334a,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x3b8c81),_0x14bff7&&NotificationManager[_0x123aff(0x93)](_0x14bff7,_0x3b8c81);}function toggleSessionStatus(){const _0xf6d74a=a2_0x3b56be;lastUserActionTime=Date['now']();const _0x3b8b62=sessions[_0xf6d74a(0x174)](_0x3f6ad8=>_0x3f6ad8['id']===editingId);if(!_0x3b8b62)return;const _0x161ab4=_0x3b8b62[_0xf6d74a(0x178)]===_0xf6d74a(0x165)?'planned':'completed';_0x3b8b62[_0xf6d74a(0x178)]=_0x161ab4,saveSingleSession(_0x3b8b62),_0x161ab4==='completed'&&NotificationManager['send']('complete',_0x3b8b62),showToast(_0x161ab4===_0xf6d74a(0x165)?_0xf6d74a(0xc3):_0xf6d74a(0x124),!![]);}function validateAppointment(_0x26cee7,_0x31e8b1,_0x2dc051,_0x4b2b47,_0x3b60c9){const _0x3bab20=a2_0x3b56be,[_0x9cbe76,_0x2e7ba6]=_0x31e8b1[_0x3bab20(0x85)](':')['map'](Number),[_0x5d63c1,_0x48ba7e]=_0x2dc051[_0x3bab20(0x85)](':')[_0x3bab20(0x1a4)](Number),_0xa7f50d=_0x9cbe76*0x3c+_0x2e7ba6,_0x3a5eae=_0x5d63c1*0x3c+_0x48ba7e,_0x51b2c9=String(_0x3b60c9);let _0x3299b7=![],_0x3b9fc1='';for(let _0x20c18f of sessions){if(_0x20c18f[_0x3bab20(0xfe)]!==_0x26cee7)continue;if(_0x20c18f[_0x3bab20(0x178)]==='cancelled')continue;if(_0x4b2b47&&String(_0x20c18f['id'])===String(_0x4b2b47))continue;const [_0x1f4cd4,_0x39cdb1]=_0x20c18f[_0x3bab20(0x17a)][_0x3bab20(0x85)](':')[_0x3bab20(0x1a4)](Number),[_0x25790b,_0x3b40c9]=_0x20c18f[_0x3bab20(0xf9)][_0x3bab20(0x85)](':')[_0x3bab20(0x1a4)](Number),_0x3d053c=_0x1f4cd4*0x3c+_0x39cdb1,_0x4f3752=_0x25790b*0x3c+_0x3b40c9;if(Math[_0x3bab20(0xb2)](_0xa7f50d,_0x3d053c)<Math[_0x3bab20(0x158)](_0x3a5eae,_0x4f3752)){if(_0x20c18f[_0x3bab20(0x84)]&&String(_0x20c18f[_0x3bab20(0x84)])===_0x51b2c9)return{'valid':![],'msg':_0x3bab20(0xcd)+_0x20c18f[_0x3bab20(0x126)]+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x3299b7=!![],_0x3b9fc1=_0x20c18f[_0x3bab20(0x126)];}}if(_0x3299b7)return{'valid':!![],'warning':_0x3bab20(0x100)+_0x3b9fc1};return{'valid':!![]};}function saveSingleSession(_0x5ad01e){const _0x4ef598=a2_0x3b56be;if(editingId){const _0x33eefe=sessions[_0x4ef598(0x1cb)](_0x52ddf1=>_0x52ddf1['id']===editingId);if(_0x33eefe!==-0x1)sessions[_0x33eefe]=_0x5ad01e;}else sessions[_0x4ef598(0x14e)](_0x5ad01e);afterSaveAction([_0x5ad01e[_0x4ef598(0xfe)]]);}function createBatchSeries(_0xa7e8d4,_0x23865d,_0x2afe6e){const _0x1eef8d=a2_0x3b56be,_0x1022b8=generateId(),_0x2fe5a4=[],_0x4245ae=[];let _0x647d58=0x0,_0x2ea7d1=new Date(_0x23865d);for(let _0x5746a3=0x0;_0x5746a3<_0x2afe6e;_0x5746a3++){const _0x378148=getLocalDateStr(_0x2ea7d1),_0x31b463=validateAppointment(_0x378148,_0xa7e8d4['start'],_0xa7e8d4[_0x1eef8d(0xf9)],null,_0xa7e8d4['clientId']);if(!_0x31b463[_0x1eef8d(0x7e)])console['log']('[Series]\x20Skipped\x20'+_0x378148+_0x1eef8d(0x77)),_0x647d58++;else{const _0x465925={..._0xa7e8d4,'id':generateId(),'dateStr':_0x378148,'seriesId':_0x1022b8};_0x4245ae[_0x1eef8d(0x14e)](_0x465925),_0x2fe5a4['push'](_0x378148);}_0x2ea7d1[_0x1eef8d(0xea)](_0x2ea7d1['getDate']()+0x7);}if(_0x4245ae['length']===0x0){showToast(_0x1eef8d(0x16e),![]);return;}sessions[_0x1eef8d(0x14e)](..._0x4245ae),lastUserActionTime=Date[_0x1eef8d(0xa8)]();let _0x4aa12b=_0x1eef8d(0x12d)+_0x4245ae[_0x1eef8d(0x97)];_0x647d58>0x0&&(_0x4aa12b+='\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20'+_0x647d58+')'),showToast(_0x4aa12b,!![]),afterSaveAction(_0x2fe5a4);}function updateSeriesBatch(_0x480fa1,_0x38452c){const _0x4d8bf5=a2_0x3b56be,_0x36eb0a=[],_0x20460f=_0x38452c[_0x4d8bf5(0x1f9)];if(_0x480fa1===_0x4d8bf5(0x1d6)){const _0x1b8977={..._0x38452c,'seriesId':null},_0x1f3bb4=sessions[_0x4d8bf5(0x1cb)](_0xfeca5b=>_0xfeca5b['id']===_0x38452c['id']);if(_0x1f3bb4!==-0x1)sessions[_0x1f3bb4]=_0x1b8977;_0x36eb0a[_0x4d8bf5(0x14e)](_0x1b8977[_0x4d8bf5(0xfe)]);}else{if(_0x480fa1===_0x4d8bf5(0xc8)){const _0x457b6c=_0x38452c[_0x4d8bf5(0xfe)];sessions[_0x4d8bf5(0x1c5)]((_0x97e832,_0x2fd602)=>{const _0x2e0559=_0x4d8bf5;_0x97e832[_0x2e0559(0x1f9)]===_0x20460f&&_0x97e832[_0x2e0559(0xfe)]>=_0x457b6c&&(sessions[_0x2fd602]={...sessions[_0x2fd602],'start':_0x38452c[_0x2e0559(0x17a)],'end':_0x38452c[_0x2e0559(0xf9)],'note':_0x38452c['note'],'client':_0x38452c[_0x2e0559(0x126)],'clientId':_0x38452c[_0x2e0559(0x84)]},_0x36eb0a[_0x2e0559(0x14e)](_0x97e832[_0x2e0559(0xfe)]));});}}afterSaveAction(_0x36eb0a);}function tryDeleteSession(){const _0x786747=a2_0x3b56be,_0x4299ce=sessions[_0x786747(0x174)](_0x3b9242=>_0x3b9242['id']===editingId);if(!_0x4299ce)return;_0x4299ce['seriesId']?openActionSheet('delete'):commitDelete(_0x786747(0x1d6),_0x4299ce);}function commitDelete(_0x59525b,_0xf30279){const _0x583c53=a2_0x3b56be;lastUserActionTime=Date['now'](),NotificationManager[_0x583c53(0x93)](_0x583c53(0xb0),_0xf30279);const _0x52b133=[];if(_0x59525b===_0x583c53(0x1d6))sessions=sessions[_0x583c53(0x1cf)](_0x4b960e=>_0x4b960e['id']!==_0xf30279['id']),_0x52b133[_0x583c53(0x14e)](_0xf30279[_0x583c53(0xfe)]);else{if(_0x59525b===_0x583c53(0xc8)){const _0x49bd8a=_0xf30279[_0x583c53(0xfe)],_0x5adc9f=_0xf30279[_0x583c53(0x1f9)];sessions[_0x583c53(0x1c5)](_0x144a27=>{const _0x358d10=_0x583c53;_0x144a27[_0x358d10(0x1f9)]===_0x5adc9f&&_0x144a27[_0x358d10(0xfe)]>=_0x49bd8a&&_0x52b133[_0x358d10(0x14e)](_0x144a27[_0x358d10(0xfe)]);}),sessions=sessions[_0x583c53(0x1cf)](_0x18da5a=>!(_0x18da5a[_0x583c53(0x1f9)]===_0x5adc9f&&_0x18da5a[_0x583c53(0xfe)]>=_0x49bd8a));}}afterSaveAction(_0x52b133);}function afterSaveAction(_0x764403){const _0x336df0=a2_0x3b56be;DataManager[_0x336df0(0x1b9)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x336df0(0x197)](_0x764403)[_0x336df0(0x194)](()=>console[_0x336df0(0x115)]('Batch\x20Sync\x20OK'))['catch'](_0x163c70=>showToast(_0x336df0(0x1f8),![]));}const NotificationManager={'formatDate'(_0x449418){const _0xbbd02=a2_0x3b56be,_0x3bb315=new Date(_0x449418),_0x1689f4={'weekday':_0xbbd02(0x1c9),'day':_0xbbd02(0x1b7),'month':_0xbbd02(0x1c9)};let _0x533fad=_0x3bb315[_0xbbd02(0xae)](_0xbbd02(0x1b4),_0x1689f4);return _0x533fad[_0xbbd02(0x12b)](0x0)['toUpperCase']()+_0x533fad[_0xbbd02(0x193)](0x1);},'getText'(_0x101147,_0x3a1cd9){const _0x33b6b0=a2_0x3b56be,_0x3ff86b=this['formatDate'](_0x3a1cd9['dateStr']);switch(_0x101147){case _0x33b6b0(0x1b0):return'<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a'+(_0x33b6b0(0x1f4)+_0x3ff86b+'\x0a')+(_0x33b6b0(0xc6)+_0x3a1cd9['start']+_0x33b6b0(0x160)+_0x3a1cd9[_0x33b6b0(0xf9)]+'\x0a\x0a')+'–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™';case _0x33b6b0(0x117):return _0x33b6b0(0xe4)+'–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a'+('<b>‚úÖ\x20'+_0x3a1cd9[_0x33b6b0(0x17a)]+_0x33b6b0(0x160)+_0x3a1cd9[_0x33b6b0(0xf9)]+_0x33b6b0(0x191))+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0x3ff86b);case _0x33b6b0(0xb0):return _0x33b6b0(0xc9)+(_0x33b6b0(0xba)+_0x3ff86b+'\x20('+_0x3a1cd9[_0x33b6b0(0x17a)]+')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.');case'complete':return _0x33b6b0(0x94)+_0x33b6b0(0x15e)+_0x33b6b0(0x19d);default:return'';}},async 'send'(_0x3f2f39,_0x119d0e){const _0x5083fd=a2_0x3b56be;console['log']('[Notify]\x20Attempting\x20to\x20send:',_0x3f2f39,_0x119d0e);if(!_0x119d0e){console['error'](_0x5083fd(0x181));return;}const _0x207618=String(_0x119d0e[_0x5083fd(0x84)]);console[_0x5083fd(0x115)]('[Notify]\x20Detected\x20Client\x20ID:',_0x207618);if(!_0x119d0e[_0x5083fd(0x84)]||_0x207618==='undefined'||_0x207618===_0x5083fd(0x1a7)){console[_0x5083fd(0xd6)](_0x5083fd(0xfc));if(_0x119d0e[_0x5083fd(0x126)]){const _0x99af5=clients[_0x5083fd(0x174)](_0x4fc4b8=>_0x4fc4b8[_0x5083fd(0x1af)]===_0x119d0e['client']);if(_0x99af5)return console[_0x5083fd(0x115)](_0x5083fd(0x14d),_0x99af5['id']),this[_0x5083fd(0x93)](_0x3f2f39,{..._0x119d0e,'clientId':_0x99af5['id']});}return;}if(_0x207618[_0x5083fd(0x97)]<0x5){console[_0x5083fd(0x1ba)](_0x5083fd(0xa9),_0x207618);return;}const _0x411f78=this[_0x5083fd(0xcb)](_0x3f2f39,_0x119d0e);if(!_0x411f78){console['error'](_0x5083fd(0x1ed));return;}console['log'](_0x5083fd(0x1a5)+_0x207618+_0x5083fd(0x89)),DataManager[_0x5083fd(0x12a)](_0x5083fd(0x196),{'chatId':_0x207618,'text':_0x411f78})[_0x5083fd(0x194)](_0x1b6b4e=>console['log'](_0x5083fd(0xb5),_0x1b6b4e))[_0x5083fd(0x1d8)](_0x30f97e=>console[_0x5083fd(0xd6)](_0x5083fd(0x1da),_0x30f97e));}};function getLocalDateStr(_0x49b02a){const _0x401950=a2_0x3b56be,_0x4e0d55=_0x49b02a[_0x401950(0x1db)](),_0x590740=String(_0x49b02a['getMonth']()+0x1)[_0x401950(0x10c)](0x2,'0'),_0x4f1e35=String(_0x49b02a['getDate']())[_0x401950(0x10c)](0x2,'0');return _0x4e0d55+'-'+_0x590740+'-'+_0x4f1e35;}function getDateStr(_0xb889d8){const _0x42ea4f=a2_0x3b56be,_0x19b6b2=new Date();return _0x19b6b2[_0x42ea4f(0xea)](_0x19b6b2[_0x42ea4f(0x144)]()+_0xb889d8),getLocalDateStr(_0x19b6b2);}function getStartOfWeek(_0x4c448f){const _0x514def=a2_0x3b56be,_0x1411be=new Date(_0x4c448f),_0x1aba99=_0x1411be[_0x514def(0x114)](),_0xf6c107=_0x1411be[_0x514def(0x144)]()-_0x1aba99+(_0x1aba99===0x0?-0x6:0x1);return _0x1411be[_0x514def(0xea)](_0xf6c107),_0x1411be[_0x514def(0x9f)](0x0,0x0,0x0,0x0),_0x1411be;}function hexToRgba(_0x3aef63,_0xd9f4ce){const _0x598d32=a2_0x3b56be;if(!_0x3aef63)return _0x598d32(0x1c0);let _0x5b227a=0x0,_0x6cabc=0x0,_0x4f861e=0x0;if(_0x3aef63[_0x598d32(0x97)]===0x4)_0x5b227a='0x'+_0x3aef63[0x1]+_0x3aef63[0x1],_0x6cabc='0x'+_0x3aef63[0x2]+_0x3aef63[0x2],_0x4f861e='0x'+_0x3aef63[0x3]+_0x3aef63[0x3];else _0x3aef63[_0x598d32(0x97)]===0x7&&(_0x5b227a='0x'+_0x3aef63[0x1]+_0x3aef63[0x2],_0x6cabc='0x'+_0x3aef63[0x3]+_0x3aef63[0x4],_0x4f861e='0x'+_0x3aef63[0x5]+_0x3aef63[0x6]);return'rgba('+ +_0x5b227a+',\x20'+ +_0x6cabc+',\x20'+ +_0x4f861e+',\x20'+_0xd9f4ce+')';}function renderTimeColumn(){const _0x1f8440=a2_0x3b56be,_0xff47ac=document[_0x1f8440(0x17e)](_0x1f8440(0x8f)),_0x4d09e0=document['getElementById'](_0x1f8440(0x1e9));_0xff47ac[_0x1f8440(0xe6)]='',_0xff47ac['appendChild'](_0x4d09e0);for(let _0x36de0c=0x0;_0x36de0c<0x18;_0x36de0c++){const _0x1361f8=document[_0x1f8440(0x1ad)](_0x1f8440(0x16f));_0x1361f8[_0x1f8440(0x83)]=_0x1f8440(0xc0);if(_0x36de0c>0x0)_0x1361f8[_0x1f8440(0xe6)]=_0x1f8440(0xd7)+String(_0x36de0c)['padStart'](0x2,'0')+_0x1f8440(0x119);_0xff47ac['appendChild'](_0x1361f8);}}function renderDayRange(_0x3d5cb7,_0x3c3484){const _0x3b9e3a=a2_0x3b56be,_0x5598c9=document[_0x3b9e3a(0x17e)](_0x3b9e3a(0x14c)),_0x2a006c=document[_0x3b9e3a(0x17e)](_0x3b9e3a(0x132)),_0xcbd552=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1b45ba=new Date();_0x1b45ba[_0x3b9e3a(0x9f)](0x0,0x0,0x0,0x0);const _0x577a89=getLocalDateStr(new Date());for(let _0x45c9eb=_0x3d5cb7;_0x45c9eb<=_0x3c3484;_0x45c9eb++){const _0x4e0451=new Date(_0x1b45ba);_0x4e0451['setDate'](_0x4e0451['getDate']()+_0x45c9eb);const _0x2001da=getLocalDateStr(_0x4e0451);let _0x4ad3dd=_0x4e0451[_0x3b9e3a(0x114)]()-0x1;if(_0x4ad3dd===-0x1)_0x4ad3dd=0x6;const _0x1f3289=_0x2001da===_0x577a89,_0xd7ec38=document[_0x3b9e3a(0x1ad)](_0x3b9e3a(0x16f));_0xd7ec38[_0x3b9e3a(0x83)]=_0x3b9e3a(0x1bf)+(_0x1f3289?_0x3b9e3a(0x1ab):''),_0xd7ec38['id']=_0x3b9e3a(0xbc)+_0x2001da,_0xd7ec38[_0x3b9e3a(0xf8)]('data-date',_0x2001da),_0xd7ec38[_0x3b9e3a(0xe6)]='<div\x20class=\x22dch-day\x22>'+_0xcbd552[_0x4ad3dd]+_0x3b9e3a(0x1f0)+_0x4e0451[_0x3b9e3a(0x144)]()+_0x3b9e3a(0x111)+_0x2001da+_0x3b9e3a(0x80),_0xd7ec38['onclick']=()=>openDayOptions(_0x2001da,_0xcbd552[_0x4ad3dd]+'\x20'+_0x4e0451[_0x3b9e3a(0x144)]()),_0x5598c9['appendChild'](_0xd7ec38);const _0x4e3e13=document[_0x3b9e3a(0x1ad)](_0x3b9e3a(0x16f));_0x4e3e13[_0x3b9e3a(0x83)]=_0x3b9e3a(0x1df)+(_0x1f3289?_0x3b9e3a(0x1ab):''),_0x4e3e13[_0x3b9e3a(0xf8)](_0x3b9e3a(0x1c7),_0x2001da),_0x4e3e13['setAttribute'](_0x3b9e3a(0x129),_0x4ad3dd),renderEventsForColumn(_0x4e3e13,_0x2001da,_0x4ad3dd),attachLongPressHandler(_0x4e3e13,_0x4e0451),_0x2a006c[_0x3b9e3a(0x11c)](_0x4e3e13),updateDayStats(_0x2001da);}}function reRenderBlocks(){const _0x179e30=a2_0x3b56be;document[_0x179e30(0x17d)](_0x179e30(0xee))['forEach'](_0x1bf554=>{const _0x4435dc=_0x179e30;_0x1bf554[_0x4435dc(0x17d)](_0x4435dc(0x90))['forEach'](_0xa46f18=>_0xa46f18[_0x4435dc(0x1a0)]());const _0x4d662d=_0x1bf554[_0x4435dc(0x81)](_0x4435dc(0x1c7)),_0x230444=parseInt(_0x1bf554['getAttribute']('data-day-idx')),_0x560ad9=Math[_0x4435dc(0xf2)](_0x1bf554[_0x4435dc(0xd2)]);(availabilityPattern[_0x230444]||[])[_0x4435dc(0x1c5)](_0x528275=>{const _0x3c1838=_0x4435dc,_0x509e1d=document[_0x3c1838(0x1ad)](_0x3c1838(0x16f));_0x509e1d[_0x3c1838(0x83)]=_0x3c1838(0x10d);const _0x5908ae=_0x528275*GRID_H;_0x509e1d[_0x3c1838(0x1ce)][_0x3c1838(0x136)]=_0x5908ae+'px',_0x509e1d[_0x3c1838(0x1ce)][_0x3c1838(0x18c)]='-'+_0x560ad9+_0x3c1838(0xad)+_0x5908ae+'px',_0x1bf554[_0x3c1838(0x11c)](_0x509e1d);});if(specialRanges&&specialRanges[_0x4435dc(0x97)]>0x0){const _0x2a47ae=new Date(_0x4d662d+_0x4435dc(0x8e))['getTime'](),_0x1c3d70=new Date(_0x4d662d+_0x4435dc(0x105))[_0x4435dc(0x10b)]();specialRanges['forEach'](_0x27e846=>{const _0x189253=_0x4435dc,_0x896829=new Date(_0x27e846['start'])[_0x189253(0x10b)](),_0x5d7431=new Date(_0x27e846['end'])['getTime'](),_0x4bb5d8=Math['max'](_0x2a47ae,_0x896829),_0x5c31b2=Math[_0x189253(0x158)](_0x1c3d70,_0x5d7431);if(_0x4bb5d8<_0x5c31b2){if(_0x4bb5d8<=_0x2a47ae&&_0x5c31b2>=_0x1c3d70-0xea60){if(!_0x1bf554[_0x189253(0xe9)](_0x189253(0x1d4))){const _0x141e47=document[_0x189253(0x1ad)](_0x189253(0x16f));_0x141e47[_0x189253(0x83)]='day-off-overlay\x20stripe-bg',_0x141e47[_0x189253(0x1ce)][_0x189253(0x18c)]='-'+_0x560ad9+_0x189253(0x1e2),_0x1bf554['appendChild'](_0x141e47);}}else{const _0x1475c7=(_0x4bb5d8-_0x2a47ae)/0x36ee80*GRID_H,_0x127518=(_0x5c31b2-_0x4bb5d8)/0x36ee80*GRID_H,_0x55bc01=document[_0x189253(0x1ad)](_0x189253(0x16f));_0x55bc01[_0x189253(0x83)]=_0x189253(0xed),_0x55bc01[_0x189253(0x1ce)][_0x189253(0x136)]=_0x1475c7+'px',_0x55bc01[_0x189253(0x1ce)][_0x189253(0x8d)]=_0x127518+'px',_0x55bc01[_0x189253(0x1ce)][_0x189253(0x18c)]='-'+_0x560ad9+_0x189253(0xad)+_0x1475c7+'px',_0x1bf554[_0x189253(0x11c)](_0x55bc01);}}});}if(dateExceptions[_0x4d662d]==='off'){if(!_0x1bf554[_0x4435dc(0xe9)](_0x4435dc(0x1d4))){const _0x45b5aa=document[_0x4435dc(0x1ad)](_0x4435dc(0x16f));_0x45b5aa[_0x4435dc(0x83)]=_0x4435dc(0x95),_0x45b5aa[_0x4435dc(0x1ce)][_0x4435dc(0x18c)]='-'+_0x560ad9+_0x4435dc(0x1e2),_0x1bf554[_0x4435dc(0x11c)](_0x45b5aa);}}renderEventsForColumn(_0x1bf554,_0x4d662d,_0x230444),updateDayStats(_0x4d662d);});}function a2_0x3456(_0x596af1,_0x435c84){_0x596af1=_0x596af1-0x76;const _0x111937=a2_0x594d();let _0x3e4eee=_0x111937[_0x596af1];return _0x3e4eee;}function updateAllDayStats(){const _0x84d2de=a2_0x3b56be;document[_0x84d2de(0x17d)](_0x84d2de(0x18b))[_0x84d2de(0x1c5)](_0x46f2b8=>{const _0x1e3136=_0x84d2de;updateDayStats(_0x46f2b8['getAttribute'](_0x1e3136(0x1c7)));});}function updateDayStats(_0x3bb695){const _0x10a929=a2_0x3b56be,_0xbe0a50=document[_0x10a929(0x17e)]('stat-'+_0x3bb695);if(!_0xbe0a50)return;const _0x8199f6=new Date(_0x3bb695);let _0x3ccbb8=_0x8199f6['getDay']()-0x1;if(_0x3ccbb8===-0x1)_0x3ccbb8=0x6;if(dateExceptions[_0x3bb695]===_0x10a929(0xa5)){_0xbe0a50['style'][_0x10a929(0x1f5)]=_0x10a929(0xf7);return;}const _0x403d74=availabilityPattern[_0x3ccbb8]||[],_0xad5e9e=0x18-_0x403d74[_0x10a929(0x97)],_0x2f51f0=_0xad5e9e*0x3c,_0x13d36f=sessions[_0x10a929(0x1cf)](_0x5c5fc9=>_0x5c5fc9['dateStr']===_0x3bb695&&_0x5c5fc9[_0x10a929(0x178)]!=='cancelled');if(_0x13d36f['length']===0x0){_0xbe0a50[_0x10a929(0x1ce)][_0x10a929(0x1f5)]=_0x10a929(0xf7);return;}let _0x11d258=_0x13d36f[_0x10a929(0x1a4)](_0x326ff5=>{const _0x237211=_0x10a929,[_0x11fcfe,_0x1ce230]=_0x326ff5[_0x237211(0x17a)][_0x237211(0x85)](':')[_0x237211(0x1a4)](Number),[_0xd48c18,_0x342b8c]=_0x326ff5[_0x237211(0xf9)][_0x237211(0x85)](':')['map'](Number);return[_0x11fcfe*0x3c+_0x1ce230,_0xd48c18*0x3c+_0x342b8c];});_0x11d258[_0x10a929(0x1f7)]((_0x28216e,_0x17d9dd)=>_0x28216e[0x0]-_0x17d9dd[0x0]);let _0x4c2c37=[];if(_0x11d258[_0x10a929(0x97)]>0x0){let _0x2013c2=_0x11d258[0x0];for(let _0x4b142b=0x1;_0x4b142b<_0x11d258['length'];_0x4b142b++){_0x11d258[_0x4b142b][0x0]<_0x2013c2[0x1]?_0x2013c2[0x1]=Math[_0x10a929(0xb2)](_0x2013c2[0x1],_0x11d258[_0x4b142b][0x1]):(_0x4c2c37[_0x10a929(0x14e)](_0x2013c2),_0x2013c2=_0x11d258[_0x4b142b]);}_0x4c2c37['push'](_0x2013c2);}let _0x303cc0=0x0;_0x4c2c37[_0x10a929(0x1c5)](_0x25e700=>_0x303cc0+=_0x25e700[0x1]-_0x25e700[0x0]),_0xbe0a50[_0x10a929(0x1ce)]['display']='flex';const _0x3f5cc5=_0xbe0a50[_0x10a929(0xe9)](_0x10a929(0x11d));if(_0x2f51f0===0x0){_0x3f5cc5[_0x10a929(0x1ce)]['width']=_0x10a929(0xe3),_0x3f5cc5[_0x10a929(0x1ce)][_0x10a929(0x1ea)]=_0x10a929(0x15b);return;}const _0x99f4b5=_0x303cc0/_0x2f51f0*0x64;console[_0x10a929(0x115)]('['+_0x3bb695+_0x10a929(0xaf)+_0xad5e9e+'—á,\x20–ó–∞–Ω—è—Ç–æ:\x20'+_0x303cc0+_0x10a929(0x184)+_0x99f4b5[_0x10a929(0x13d)](0x1)+'%'),_0x99f4b5>0x64?(_0x3f5cc5[_0x10a929(0x1ce)][_0x10a929(0x14b)]=_0x10a929(0xe3),_0x3f5cc5[_0x10a929(0x1ce)][_0x10a929(0x1ea)]='var(--acc-red)'):(_0x3f5cc5[_0x10a929(0x1ce)][_0x10a929(0x14b)]=_0x99f4b5+'%',_0x3f5cc5[_0x10a929(0x1ce)]['background']=_0x10a929(0x141));}function renderEventsForColumn(_0x403571,_0x4c368d,_0x5e7d94){const _0x2e2cdb=a2_0x3b56be,_0x214ceb=sessions[_0x2e2cdb(0x1cf)](_0x1a9966=>_0x1a9966[_0x2e2cdb(0xfe)]===_0x4c368d),_0x221da6=_0x214ceb[_0x2e2cdb(0x1a4)](_0x324d41=>{const _0x303aa5=_0x2e2cdb,[_0x3d3b7f,_0x13f732]=_0x324d41[_0x303aa5(0x17a)][_0x303aa5(0x85)](':')[_0x303aa5(0x1a4)](Number),[_0x2bd21d,_0x4419c7]=_0x324d41[_0x303aa5(0xf9)]['split'](':')[_0x303aa5(0x1a4)](Number);return{'data':_0x324d41,'start':_0x3d3b7f*0x3c+_0x13f732,'end':_0x2bd21d*0x3c+_0x4419c7,'colIndex':0x0};});_0x221da6[_0x2e2cdb(0x1f7)]((_0x5af431,_0x276980)=>{const _0xd12d05=_0x2e2cdb;if(_0x5af431[_0xd12d05(0x17a)]!==_0x276980['start'])return _0x5af431['start']-_0x276980[_0xd12d05(0x17a)];return _0x276980['end']-_0x276980[_0xd12d05(0x17a)]-(_0x5af431[_0xd12d05(0xf9)]-_0x5af431['start']);});const _0x133532=[];_0x221da6[_0x2e2cdb(0x1c5)](_0x575e23=>{const _0x124fb2=_0x2e2cdb;let _0x486a51=![];for(let _0x1b0903=0x0;_0x1b0903<_0x133532[_0x124fb2(0x97)];_0x1b0903++){const _0x5b687a=_0x133532[_0x1b0903],_0x2aec83=_0x5b687a[_0x5b687a[_0x124fb2(0x97)]-0x1];if(_0x575e23[_0x124fb2(0x17a)]>=_0x2aec83['end']){_0x5b687a[_0x124fb2(0x14e)](_0x575e23),_0x575e23['colIndex']=_0x1b0903,_0x486a51=!![];break;}}!_0x486a51&&(_0x133532[_0x124fb2(0x14e)]([_0x575e23]),_0x575e23['colIndex']=_0x133532[_0x124fb2(0x97)]-0x1);}),_0x221da6[_0x2e2cdb(0x1c5)](_0x2b2bbe=>{const _0x533b60=_0x2e2cdb;let _0x4c9bcb=0x0;_0x221da6[_0x533b60(0x1c5)](_0x4c8b75=>{const _0x4ff788=_0x533b60;if(Math[_0x4ff788(0xb2)](_0x2b2bbe['start'],_0x4c8b75[_0x4ff788(0x17a)])<Math[_0x4ff788(0x158)](_0x2b2bbe['end'],_0x4c8b75[_0x4ff788(0xf9)])){if(_0x4c8b75['colIndex']>_0x4c9bcb)_0x4c9bcb=_0x4c8b75[_0x4ff788(0x1d2)];}});const _0x1d64f1=_0x4c9bcb+0x1,_0x4a3b69=0x64/_0x1d64f1,_0x3862e6=_0x2b2bbe[_0x533b60(0x1d2)]*_0x4a3b69,_0x1cbb8e=createEventEl(_0x2b2bbe[_0x533b60(0x1c4)]);_0x1cbb8e[_0x533b60(0x1ce)]['width']='calc('+_0x4a3b69+_0x533b60(0x16d),_0x1cbb8e['style'][_0x533b60(0xa7)]=_0x533b60(0x82)+_0x3862e6+_0x533b60(0x1ec),_0x1cbb8e[_0x533b60(0x1ce)][_0x533b60(0x1ac)]=0xa+_0x2b2bbe['colIndex'],_0x4a3b69<0x55&&_0x1cbb8e[_0x533b60(0x8b)][_0x533b60(0x1e8)](_0x533b60(0x123)),_0x403571['appendChild'](_0x1cbb8e);});}function createEventEl(_0x59efb4){const _0x381682=a2_0x3b56be,[_0x39221a,_0x2d3271]=_0x59efb4[_0x381682(0x17a)][_0x381682(0x85)](':')[_0x381682(0x1a4)](Number),[_0x55e130,_0x5417be]=_0x59efb4[_0x381682(0xf9)][_0x381682(0x85)](':')[_0x381682(0x1a4)](Number),_0x3830ce=(_0x39221a*0x3c+_0x2d3271)/0x3c*GRID_H,_0x131157=(_0x55e130*0x3c+_0x5417be-(_0x39221a*0x3c+_0x2d3271))/0x3c*GRID_H,_0x2e169e=document[_0x381682(0x1ad)](_0x381682(0x16f)),_0x98262f=_0x59efb4['status']==='completed'?_0x381682(0xf6):'';_0x2e169e['className']=_0x381682(0xdd)+_0x98262f,_0x2e169e[_0x381682(0x1ce)][_0x381682(0x136)]=_0x3830ce+'px',_0x2e169e[_0x381682(0x1ce)][_0x381682(0x8d)]=Math[_0x381682(0xb2)](_0x131157,0x14)+'px';const _0x364965=clients[_0x381682(0x174)](_0x3f6302=>_0x59efb4['clientId']&&String(_0x3f6302['id'])===String(_0x59efb4[_0x381682(0x84)])||_0x3f6302[_0x381682(0x1af)]===_0x59efb4[_0x381682(0x126)]),_0x2d9587=_0x364965?_0x364965[_0x381682(0x146)]:_0x381682(0xd4);_0x2e169e[_0x381682(0x1ce)][_0x381682(0x76)]=_0x2d9587,_0x2e169e[_0x381682(0x1ce)][_0x381682(0x1d7)]=hexToRgba(_0x2d9587,0.85);let _0x148f22='<div\x20class=\x22ev-title\x22>'+_0x59efb4[_0x381682(0x126)]+_0x381682(0xc7)+_0x59efb4[_0x381682(0x17a)]+_0x381682(0xb1)+_0x59efb4[_0x381682(0xf9)]+_0x381682(0xda);return _0x59efb4['seriesId']&&(_0x148f22+=_0x381682(0xca)),_0x59efb4[_0x381682(0x178)]===_0x381682(0x165)&&(_0x148f22+=_0x381682(0x156)),_0x2e169e['innerHTML']=_0x148f22,_0x2e169e['onclick']=_0x5b9051=>{_0x5b9051['stopPropagation'](),openEdit(_0x59efb4);},_0x2e169e;}function attachLongPressHandler(_0x39e250,_0x121407){const _0x2596b1=a2_0x3b56be;let _0x26d5eb=0x0,_0xf84928=null;const _0x493c19=_0x47241a=>{const _0x55a611=a2_0x3456;if(_0x47241a[_0x55a611(0x1bd)]['closest'](_0x55a611(0xe5)))return;isScrolling=![],_0x26d5eb=_0x47241a[_0x55a611(0x1c8)]?_0x47241a[_0x55a611(0x1c8)][0x0][_0x55a611(0x1b3)]:_0x47241a[_0x55a611(0x1b3)],_0xf84928=setTimeout(()=>{const _0x24c8d1=_0x55a611;if(!isScrolling){navigator[_0x24c8d1(0xde)]?.(0x32);const _0x3779c5=_0x39e250[_0x24c8d1(0x1e7)](),_0x2763fd=Math[_0x24c8d1(0x19c)]((_0x26d5eb-_0x3779c5[_0x24c8d1(0x136)])/GRID_H);_0x121407[_0x24c8d1(0x9f)](_0x2763fd,0x0),openAddSession(_0x121407);}},0x1f4);},_0x13385f=()=>{isScrolling=!![],clearTimeout(_0xf84928);},_0x49df89=()=>{clearTimeout(_0xf84928);};_0x39e250[_0x2596b1(0x189)](_0x2596b1(0x150),_0x493c19,{'passive':!![]}),_0x39e250[_0x2596b1(0x189)](_0x2596b1(0x19e),_0x13385f,{'passive':!![]}),_0x39e250[_0x2596b1(0x189)]('touchend',_0x49df89),_0x39e250[_0x2596b1(0x189)]('mousedown',_0x493c19),_0x39e250[_0x2596b1(0x189)](_0x2596b1(0xff),_0x13385f),_0x39e250[_0x2596b1(0x189)](_0x2596b1(0x19a),_0x49df89);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x4190ac=a2_0x3b56be,_0x2750a8=document['getElementById'](_0x4190ac(0x118)),_0x3528d0=_0x2750a8[_0x4190ac(0x1f2)],_0x46a2d3=_0x2750a8[_0x4190ac(0x172)],_0x47164=_0x2750a8[_0x4190ac(0x102)];if(_0x46a2d3-(_0x3528d0+_0x47164)<0x12c){const _0x26b078=endOffset;endOffset+=0xe,renderDayRange(_0x26b078+0x1,endOffset),reRenderBlocks();}if(_0x3528d0<0x12c){const _0x375e67=startOffset;startOffset-=0xe,prependDays(startOffset,_0x375e67-0x1),_0x2750a8['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x55cce9,_0x8cad1a){const _0x4bccb3=a2_0x3b56be,_0x4d43ee=document[_0x4bccb3(0x17e)]('daysHeaderTrack'),_0x401d62=document[_0x4bccb3(0x17e)](_0x4bccb3(0x132)),_0x45c644=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x188643=new Date();_0x188643[_0x4bccb3(0x9f)](0x0,0x0,0x0,0x0);const _0x4ba8dc=getLocalDateStr(new Date()),_0x48b20c=document[_0x4bccb3(0x175)](),_0x54d22d=document[_0x4bccb3(0x175)]();for(let _0x277f0d=_0x55cce9;_0x277f0d<=_0x8cad1a;_0x277f0d++){const _0x290230=new Date(_0x188643);_0x290230[_0x4bccb3(0xea)](_0x290230['getDate']()+_0x277f0d);const _0x385105=getLocalDateStr(_0x290230);let _0x5c0377=_0x290230[_0x4bccb3(0x114)]()-0x1;if(_0x5c0377===-0x1)_0x5c0377=0x6;const _0x1b560e=_0x385105===_0x4ba8dc,_0x4f3bea=document[_0x4bccb3(0x1ad)](_0x4bccb3(0x16f));_0x4f3bea[_0x4bccb3(0x83)]=_0x4bccb3(0x1bf)+(_0x1b560e?'today':''),_0x4f3bea['id']='header-'+_0x385105,_0x4f3bea[_0x4bccb3(0xf8)]('data-date',_0x385105),_0x4f3bea['innerHTML']=_0x4bccb3(0xdb)+_0x45c644[_0x5c0377]+'</div><div\x20class=\x22dch-num\x22>'+_0x290230[_0x4bccb3(0x144)]()+_0x4bccb3(0x111)+_0x385105+_0x4bccb3(0x80),_0x4f3bea[_0x4bccb3(0x185)]=()=>openDayOptions(_0x385105,_0x45c644[_0x5c0377]+'\x20'+_0x290230[_0x4bccb3(0x144)]()),_0x48b20c[_0x4bccb3(0x11c)](_0x4f3bea);const _0x18bc83=document['createElement'](_0x4bccb3(0x16f));_0x18bc83[_0x4bccb3(0x83)]=_0x4bccb3(0x1df)+(_0x1b560e?_0x4bccb3(0x1ab):''),_0x18bc83[_0x4bccb3(0xf8)](_0x4bccb3(0x1c7),_0x385105),_0x18bc83['setAttribute'](_0x4bccb3(0x129),_0x5c0377),renderEventsForColumn(_0x18bc83,_0x385105,_0x5c0377),attachLongPressHandler(_0x18bc83,_0x290230),_0x54d22d[_0x4bccb3(0x11c)](_0x18bc83),updateDayStats(_0x385105);}_0x4d43ee[_0x4bccb3(0x170)](_0x48b20c,_0x4d43ee[_0x4bccb3(0xe0)]),_0x401d62[_0x4bccb3(0x170)](_0x54d22d,_0x401d62[_0x4bccb3(0xe9)]('.day-column'));}function validateAppointment(_0x591642,_0x54897a,_0x6424f7,_0x2fbb54,_0xd8ef40){const _0x3c8a3f=a2_0x3b56be,[_0x4c139b,_0xfd6378]=_0x54897a['split'](':')[_0x3c8a3f(0x1a4)](Number),[_0xc9f6fb,_0xdc1116]=_0x6424f7['split'](':')[_0x3c8a3f(0x1a4)](Number),_0x458127=_0x4c139b*0x3c+_0xfd6378,_0x4eac1c=_0xc9f6fb*0x3c+_0xdc1116,_0x5102a9=String(_0xd8ef40);let _0xf2b83=![],_0x5b3437='';for(let _0x1f6862 of sessions){if(_0x1f6862[_0x3c8a3f(0xfe)]!==_0x591642)continue;if(_0x1f6862['status']===_0x3c8a3f(0xbd))continue;if(_0x2fbb54&&String(_0x1f6862['id'])===String(_0x2fbb54))continue;const [_0x2084ac,_0x47ee19]=_0x1f6862[_0x3c8a3f(0x17a)][_0x3c8a3f(0x85)](':')[_0x3c8a3f(0x1a4)](Number),[_0x562451,_0x27e9ab]=_0x1f6862[_0x3c8a3f(0xf9)]['split'](':')[_0x3c8a3f(0x1a4)](Number),_0xf7f58e=_0x2084ac*0x3c+_0x47ee19,_0x49bf39=_0x562451*0x3c+_0x27e9ab;if(Math[_0x3c8a3f(0xb2)](_0x458127,_0xf7f58e)<Math[_0x3c8a3f(0x158)](_0x4eac1c,_0x49bf39)){if(_0x1f6862[_0x3c8a3f(0x84)]&&String(_0x1f6862[_0x3c8a3f(0x84)])===_0x5102a9)return{'valid':![],'msg':_0x3c8a3f(0xcd)+_0x1f6862[_0x3c8a3f(0x126)]+_0x3c8a3f(0x101)};_0xf2b83=!![],_0x5b3437=_0x1f6862['client'];}}if(_0xf2b83)return{'valid':!![],'warning':_0x3c8a3f(0x100)+_0x5b3437};return{'valid':!![]};}function updateDateDisplay(){const _0x1775c9=a2_0x3b56be,_0xaf730a=document[_0x1775c9(0x17e)](_0x1775c9(0x14f))[_0x1775c9(0xa4)],_0x104189=document['getElementById'](_0x1775c9(0x15c));if(!_0xaf730a){_0x104189[_0x1775c9(0x103)]='';return;}const [_0xf781dc,_0x40fc0a,_0x50d46c]=_0xaf730a[_0x1775c9(0x85)]('-')['map'](Number),_0x4ec583=new Date(_0xf781dc,_0x40fc0a-0x1,_0x50d46c),_0x4a7a68={'weekday':_0x1775c9(0x1c9),'day':_0x1775c9(0x1b7),'month':_0x1775c9(0x1c9),'year':_0x1775c9(0x1b7)};let _0xe0cba5=_0x4ec583['toLocaleDateString']('ru-RU',_0x4a7a68);_0xe0cba5=_0xe0cba5[_0x1775c9(0x12b)](0x0)[_0x1775c9(0x1a3)]()+_0xe0cba5['slice'](0x1),_0x104189['textContent']=_0xe0cba5;}function autoSetEndTime(){const _0x257924=a2_0x3b56be,_0x42b133=document[_0x257924(0x17e)]('inpStart')['value'];if(!_0x42b133)return;const [_0x18b69f,_0x37fb7f]=_0x42b133[_0x257924(0x85)](':')['map'](Number);let _0x449dd1=_0x18b69f+0x1;if(_0x449dd1>0x17)_0x449dd1=0x0;const _0x1a9f64=String(_0x449dd1)[_0x257924(0x10c)](0x2,'0')+':'+String(_0x37fb7f)[_0x257924(0x10c)](0x2,'0');document['getElementById'](_0x257924(0x1ef))['value']=_0x1a9f64;}function populateClientSelect(){const _0x5f4342=a2_0x3b56be,_0xb3ff85=document[_0x5f4342(0x17e)](_0x5f4342(0x15a));_0xb3ff85[_0x5f4342(0xe6)]='';if(clients[_0x5f4342(0x97)]===0x0){const _0x58eda5=document[_0x5f4342(0x1ad)]('option');_0x58eda5['text']=_0x5f4342(0xa6),_0xb3ff85['appendChild'](_0x58eda5);return;}clients['forEach'](_0x583d34=>{const _0x426ebc=_0x5f4342,_0x4043ea=document['createElement'](_0x426ebc(0x1bb));_0x4043ea['value']=_0x583d34[_0x426ebc(0x1af)],_0x4043ea[_0x426ebc(0x103)]=_0x583d34[_0x426ebc(0x1af)],_0xb3ff85['appendChild'](_0x4043ea);});}function openActionSheet(_0x11db27){const _0x155844=a2_0x3b56be,_0x3bb5a3=document['getElementById']('actionSheet'),_0x27a9ed=document[_0x155844(0x17e)](_0x155844(0xb7)),_0x40b40e=document[_0x155844(0x17e)](_0x155844(0x177)),_0x38d734=document[_0x155844(0x17e)](_0x155844(0x168)),_0x579fab=document[_0x155844(0x17e)](_0x155844(0x167));_0x27a9ed[_0x155844(0x8b)][_0x155844(0x1e8)]('active'),_0x3bb5a3[_0x155844(0x8b)][_0x155844(0x1e8)](_0x155844(0x1e3));if(_0x11db27===_0x155844(0x149))_0x40b40e[_0x155844(0x103)]=_0x155844(0x12e),_0x38d734[_0x155844(0x103)]=_0x155844(0x92),_0x38d734[_0x155844(0x185)]=()=>{closeActionSheet(),updateSeriesBatch('single',tempSessionData);},_0x579fab[_0x155844(0x103)]=_0x155844(0x166),_0x579fab[_0x155844(0x185)]=()=>{const _0x661117=_0x155844;closeActionSheet(),updateSeriesBatch(_0x661117(0xc8),tempSessionData);};else _0x11db27==='delete'&&(_0x40b40e[_0x155844(0x103)]=_0x155844(0x142),_0x38d734['textContent']=_0x155844(0x92),_0x38d734[_0x155844(0x83)]=_0x155844(0x1e1),_0x38d734[_0x155844(0x185)]=()=>{const _0x58c98d=_0x155844;closeActionSheet(),commitDelete('single',sessions[_0x58c98d(0x174)](_0x17a1db=>_0x17a1db['id']===editingId));},_0x579fab['textContent']='–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ',_0x579fab[_0x155844(0x83)]=_0x155844(0xbe),_0x579fab['onclick']=()=>{const _0x17376c=_0x155844;closeActionSheet(),commitDelete(_0x17376c(0xc8),sessions[_0x17376c(0x174)](_0x46497b=>_0x46497b['id']===editingId));});}function closeActionSheet(){const _0x5a3d6a=a2_0x3b56be;document[_0x5a3d6a(0x17e)](_0x5a3d6a(0x1ca))[_0x5a3d6a(0x8b)][_0x5a3d6a(0x1a0)](_0x5a3d6a(0x1e3)),document[_0x5a3d6a(0x17e)](_0x5a3d6a(0xb7))[_0x5a3d6a(0x8b)]['remove'](_0x5a3d6a(0xb6));}function openSettings(){const _0x496809=a2_0x3b56be;openSheet(_0x496809(0x1dc));}function saveCoachSettings(){const _0x403408=a2_0x3b56be,_0x5dc19f=document[_0x403408(0x17e)]('settingCancelWindow')[_0x403408(0xa4)];localStorage[_0x403408(0x1d1)](_0x403408(0x106),_0x5dc19f),console[_0x403408(0x115)](_0x403408(0xf0),_0x5dc19f),DataManager[_0x403408(0x12a)]('save_settings',{'settings':{'cancel_window':_0x5dc19f}})['catch'](_0x2a831f=>{const _0x393bfb=_0x403408;console[_0x393bfb(0xd6)](_0x393bfb(0xfa),_0x2a831f),showToast(_0x393bfb(0x108),![]);});}function loadCoachSettings(){const _0x4a740c=a2_0x3b56be,_0x5059e9=localStorage[_0x4a740c(0x138)](_0x4a740c(0x106));_0x5059e9&&(document[_0x4a740c(0x17e)](_0x4a740c(0x12c))['value']=_0x5059e9);}function openRangesSheet(){const _0x52ce3a=a2_0x3b56be;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x52ce3a(0x10e));}function a2_0x594d(){const _0x4082b4=['–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','left','now','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','rgba(255,255,255,0.05)','patternInfoBox','onClick','px\x20-','toLocaleDateString',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','cancel','\x20-\x20','max','stringify','10px\x2010px\x200\x200','[Notify]\x20Server\x20Response:','active','actionSheetOverlay','client-stat-card','4588dSaDDW','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','12846HTjbzF','header-','cancelled','as-button\x20danger\x20bold','sheetTitle','time-label','show',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','doEventsList','analyticsSheet','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','</div><div\x20class=\x22ev-time\x22>','series','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','getText','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','ranges','splice','headerMonth','location','offsetLeft','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#0a84ff','globalTimeLine','error','<span>','19505313evrINl','success','</div>','<div\x20class=\x22dch-day\x22>','anStart','event-card','vibrate','flex','firstChild','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','[Notify]\x20Client\x20SWAP\x20detected','100%','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','.event-card','innerHTML','scrollTop','toastTitle','querySelector','setDate','custom','toast-notification\x20','blocked-range-part\x20stripe-bg','#gridColumns\x20.day-column','inpSeriesCount','[Settings]\x20Cancel\x20window\x20set\x20to:','parse','round','statLoadCard','\x20days','uc_sessions_v9','\x20status-completed','none','setAttribute','end','Save\x20settings\x20error:','seriesCountContainer','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','block','dateStr','mousemove','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','clientWidth','textContent','initData','T23:59:59','uc_settings_cancel_window','rangeStartTime','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','initDataUnsafe','syncLoad','getTime','padStart','blocked-slot\x20stripe-bg','rangesSheet','anDonutCircle','calendar','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','rgba(255,\x2069,\x2058,\x200.3)','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','getDay','log','inpStart','update','matrixViewport',':00</span>','BackButton','clients','appendChild','.dch-stats-fill','recurringOptionContainer','doBusyHours','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x20/\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mini','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','client','keys','exceptions','data-day-idx','fetchFromServer','charAt','settingCancelWindow','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','month','uc_settings_v9','random','gridColumns','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','1085496WWOXDT','indexOf','top','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','getItem','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','href','cancel_window','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','toFixed','inpRecurring','Critical\x20TMA\x20Error:',':00','var(--acc-current)','–£–¥–∞–ª–µ–Ω–∏–µ','rangeEndTime','getDate','anCustomDates','color','total','overlay','save','done','width','daysHeaderTrack','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','push','inpDate','touchstart','msg','btnDelete','save_settings','rangeStartDate','btn-status-toggle\x20undo-mode','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','sid','min','3178MNeCcN','inpClient','var(--acc-red)','sheetDateSubtitle','borderRadius','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','POST','\x20‚Äî\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','pattern','–ò–Ω—Ñ–æ','search','completed','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','asBtnSeries','asBtnOne','setHeaderColor','rangeEndDate','Telegram','00:00','%\x20-\x204px)','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','div','insertBefore','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','scrollWidth','anEnd','find','createDocumentFragment','#050505','asTitle','status','patternEditor','start','checked','btn-primary\x20btn-secondary','querySelectorAll','getElementById','rgba(255,\x2069,\x2058,\x200.15)','36086verANL','[Notify]\x20Error:\x20sessionData\x20is\x20null','#fff','all','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','onclick','Local\x20Load\x20Error','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','.sheet','addEventListener','guest','.day-col-header','backgroundPosition','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','planned','strokeDashoffset','offClick','</b>\x0a\x0a','var(--acc-orange)','slice','then','10px','send_notification','syncBatch','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','anPercent','mouseup','dayOptionsSheet','floor','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','touchmove','mergeServerData','remove','json','substr','toUpperCase','map','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','Error\x20setting\x20color:','null','range-item','includes','startsWith','today','zIndex','createElement','offsetWidth','name','create','3kwiHZz','dayOptionsTitle','clientY','ru-RU','getMinutes','disableVerticalSwipes','numeric','btn-primary\x20btn-danger','saveLocally','warn','option','2212490HtUlii','target','(((.+)+)+)+$','day-col-header\x20','rgba(100,100,100,0.5)','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','setBackgroundColor','user','data','forEach','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','data-date','touches','long','actionSheet','findIndex','v9.0-BATCH-CALENDAR','Unknown','style','filter','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','setItem','colIndex','.pib-text','.day-off-overlay','week','single','backgroundColor','catch','getMonth','[Notify]\x20Network\x20Failed','getFullYear','settingsSheet','rgba(255,\x20159,\x2010,\x200.3)','note','day-column\x20','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','as-button\x20danger','px\x200px','open','loadLocal','Local\x20Save\x20Error','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','getBoundingClientRect','add','timeLineBadge','background','.period-switch\x20.p-btn','%\x20+\x202px)','[Notify]\x20Error:\x20Text\x20generation\x20failed','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','inpEnd','</div><div\x20class=\x22dch-num\x22>','btn-status-toggle','scrollLeft','toast','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','display','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','sort','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','seriesId','getHours','borderColor','entries','borderLeftColor',':\x20Client\x20already\x20booked','DOMContentLoaded','de-item',']\x20Failed:','uc_clients_v9','23:59','init_load','valid','4718528dNlNhT','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','getAttribute','calc(','className','clientId','split','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','expand','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','...','peGrid','classList','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','height','T00:00:00','timeColumn','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','send','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','day-off-overlay\x20stripe-bg','toLocaleString','length','settings','toastMessage','anTotalStats','router.html','btnStatusToggle','WebApp','[Sync]\x20Loading\x20','setHours','toString','inpNote','pe-col-header','text/plain;charset=UTF-8','value','off'];a2_0x594d=function(){return _0x4082b4;};return a2_0x594d();}function addRange(){const _0x241c2c=a2_0x3b56be,_0xd4c5a1=document['getElementById'](_0x241c2c(0x154))['value'],_0x80b03b=document[_0x241c2c(0x17e)](_0x241c2c(0x107))[_0x241c2c(0xa4)],_0x442187=document['getElementById'](_0x241c2c(0x16a))[_0x241c2c(0xa4)],_0x327017=document['getElementById'](_0x241c2c(0x143))[_0x241c2c(0xa4)];if(!_0xd4c5a1||!_0x80b03b||!_0x442187||!_0x327017)return alert(_0x241c2c(0x133));const _0x15b69f=_0xd4c5a1+'T'+_0x80b03b,_0x2ee6ad=_0x442187+'T'+_0x327017;if(_0x15b69f>=_0x2ee6ad)return alert('–û—à–∏–±–∫–∞\x20–¥–∞—Ç');specialRanges[_0x241c2c(0x14e)]({'start':_0x15b69f,'end':_0x2ee6ad}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x241c2c(0x1b9)](),DataManager['fetchFromServer'](_0x241c2c(0x153),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x590c39){const _0x7e6648=a2_0x3b56be;specialRanges[_0x7e6648(0xcf)](_0x590c39,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x7e6648(0x1b9)](),DataManager[_0x7e6648(0x12a)](_0x7e6648(0x153),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x54dc32=a2_0x3b56be;document[_0x54dc32(0x17e)](_0x54dc32(0x154))[_0x54dc32(0xa4)]='',document[_0x54dc32(0x17e)](_0x54dc32(0x107))[_0x54dc32(0xa4)]=_0x54dc32(0x16c),document[_0x54dc32(0x17e)](_0x54dc32(0x16a))['value']='',document[_0x54dc32(0x17e)]('rangeEndTime')[_0x54dc32(0xa4)]=_0x54dc32(0x7c);}function renderRangesList(){const _0x6f9a30=a2_0x3b56be,_0x15b238=document[_0x6f9a30(0x17e)]('rangesList');_0x15b238['innerHTML']='';if(!specialRanges[_0x6f9a30(0x97)]){_0x15b238[_0x6f9a30(0xe6)]='<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>';return;}specialRanges[_0x6f9a30(0x1c5)]((_0x9a5ab2,_0x15ca56)=>{const _0x5da953=_0x6f9a30,_0x55dc29=document['createElement'](_0x5da953(0x16f));_0x55dc29[_0x5da953(0x83)]=_0x5da953(0x1a8);const _0x5efe9d=_0x18c11c=>{const _0x1cd9c2=_0x5da953,_0x570f6c=new Date(_0x18c11c);return _0x570f6c['getDate']()+'.'+String(_0x570f6c[_0x1cd9c2(0x1d9)]()+0x1)[_0x1cd9c2(0x10c)](0x2,'0')+'\x20'+String(_0x570f6c[_0x1cd9c2(0x1fa)]())[_0x1cd9c2(0x10c)](0x2,'0')+':'+String(_0x570f6c['getMinutes']())[_0x1cd9c2(0x10c)](0x2,'0');};_0x55dc29[_0x5da953(0xe6)]=_0x5da953(0x1d0)+_0x5efe9d(_0x9a5ab2[_0x5da953(0x17a)])+_0x5da953(0x160)+_0x5efe9d(_0x9a5ab2[_0x5da953(0xf9)])+_0x5da953(0x91)+_0x15ca56+_0x5da953(0xc2),_0x15b238[_0x5da953(0x11c)](_0x55dc29);});}function scrollToToday(){const _0x3d47c5=a2_0x3b56be,_0x5b7e1f=getLocalDateStr(new Date()),_0x5dd374=document[_0x3d47c5(0x17e)]('header-'+_0x5b7e1f),_0x1437e5=document[_0x3d47c5(0x17e)](_0x3d47c5(0x118));if(_0x5dd374&&_0x1437e5){const _0x13ec9c=_0x1437e5[_0x3d47c5(0x102)],_0x5c1cf9=_0x5dd374[_0x3d47c5(0xd2)],_0x21b03e=_0x5dd374[_0x3d47c5(0x1ae)];_0x1437e5[_0x3d47c5(0x1f2)]=_0x5c1cf9-_0x13ec9c/0x2+_0x21b03e/0x2,_0x1437e5[_0x3d47c5(0xe7)]=0x9*GRID_H;}}function onScroll(){const _0x329ce4=a2_0x3b56be,_0x886cd5=document[_0x329ce4(0x17e)](_0x329ce4(0x118)),_0x24850b=document[_0x329ce4(0x17d)](_0x329ce4(0x18b));for(let _0x4b223f of _0x24850b)if(_0x4b223f[_0x329ce4(0xd2)]>=_0x886cd5['scrollLeft']){const _0x866b30=new Date(_0x4b223f[_0x329ce4(0x81)](_0x329ce4(0x1c7)));document[_0x329ce4(0x17e)](_0x329ce4(0xd0))[_0x329ce4(0x103)]=_0x866b30[_0x329ce4(0x96)]('ru',{'month':'long'})['toUpperCase']()+'\x20'+_0x866b30[_0x329ce4(0x1db)]();break;}}function showToast(_0x5f3205,_0x58751f=![]){const _0x5cf167=a2_0x3b56be,_0x1b7ebe=document[_0x5cf167(0x17e)](_0x5cf167(0x1f3));_0x1b7ebe[_0x5cf167(0x83)]=_0x5cf167(0xec)+(_0x58751f?_0x5cf167(0xd9):''),document[_0x5cf167(0x17e)](_0x5cf167(0xe8))['textContent']=_0x58751f?'–£—Å–ø–µ—à–Ω–æ':_0x5cf167(0x163),document[_0x5cf167(0x17e)](_0x5cf167(0x99))['textContent']=_0x5f3205,_0x1b7ebe[_0x5cf167(0x8b)][_0x5cf167(0x1e8)](_0x5cf167(0xc1)),setTimeout(()=>{const _0x1436ab=_0x5cf167;_0x1b7ebe['classList']['remove'](_0x1436ab(0xc1));},0xbb8);}function openDayOptions(_0x4b2350,_0x502862){const _0xbd2bab=a2_0x3b56be;selectedDayForOptions=_0x4b2350,document['getElementById'](_0xbd2bab(0x1b2))['textContent']=_0x502862,openSheet('dayOptionsSheet');}function toggleDayOff(){const _0x28d0f5=a2_0x3b56be;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x28d0f5(0xa5),reRenderBlocks(),closeAllSheets(),DataManager[_0x28d0f5(0x1b9)](),DataManager[_0x28d0f5(0x12a)](_0x28d0f5(0x153),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x21e53b=a2_0x3b56be;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager['fetchFromServer'](_0x21e53b(0x153),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x4df587){const _0x29bf5f=a2_0x3b56be;document[_0x29bf5f(0x17e)]('overlay')[_0x29bf5f(0x8b)][_0x29bf5f(0x1e8)](_0x29bf5f(0xb6)),document[_0x29bf5f(0x17e)](_0x4df587)[_0x29bf5f(0x8b)][_0x29bf5f(0x1e8)](_0x29bf5f(0x1e3));}function closeAllSheets(){const _0x544ea1=a2_0x3b56be;document[_0x544ea1(0x17e)](_0x544ea1(0x148))[_0x544ea1(0x8b)][_0x544ea1(0x1a0)]('active'),document['querySelectorAll'](_0x544ea1(0x188))['forEach'](_0x3a2781=>_0x3a2781['classList'][_0x544ea1(0x1a0)]('open'));}function openPatternEditor(){const _0x285ffb=a2_0x3b56be;closeAllSheets(),document[_0x285ffb(0x17e)](_0x285ffb(0x179))[_0x285ffb(0x8b)][_0x285ffb(0x1e8)](_0x285ffb(0x1e3)),renderPatternEditor();}function closePatternEditor(){const _0x1e381c=a2_0x3b56be;document[_0x1e381c(0x17e)](_0x1e381c(0x179))[_0x1e381c(0x8b)][_0x1e381c(0x1a0)](_0x1e381c(0x1e3));}function savePattern(){const _0x5f0af9=a2_0x3b56be;document[_0x5f0af9(0x17e)](_0x5f0af9(0x179))[_0x5f0af9(0x8b)][_0x5f0af9(0x1a0)](_0x5f0af9(0x1e3)),reRenderBlocks(),DataManager[_0x5f0af9(0x1b9)](),DataManager[_0x5f0af9(0x12a)](_0x5f0af9(0x153),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x37be4b=a2_0x3b56be,_0x181517=document['getElementById'](_0x37be4b(0x8a));_0x181517[_0x37be4b(0xe6)]='';const _0x1130a7=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x73bcb5=document['createElement']('div');_0x73bcb5[_0x37be4b(0x83)]='pe-corner',_0x181517[_0x37be4b(0x11c)](_0x73bcb5),_0x1130a7[_0x37be4b(0x1c5)]((_0x3495a7,_0x47064e)=>{const _0x3e4a13=_0x37be4b,_0x4fb9d6=document[_0x3e4a13(0x1ad)]('div');_0x4fb9d6[_0x3e4a13(0x83)]=_0x3e4a13(0xa2),_0x4fb9d6[_0x3e4a13(0xe6)]=_0x3495a7+'\x20<span\x20class=\x22arrow\x22>‚Üì</span>',_0x4fb9d6['onclick']=()=>toggleColPattern(_0x47064e),_0x181517[_0x3e4a13(0x11c)](_0x4fb9d6);});for(let _0x45ec86=0x0;_0x45ec86<0x18;_0x45ec86++){const _0x20e05e=document['createElement'](_0x37be4b(0x16f));_0x20e05e[_0x37be4b(0x83)]='pe-time-label',_0x20e05e[_0x37be4b(0xe6)]=_0x37be4b(0x1e0)+String(_0x45ec86)['padStart'](0x2,'0')+':00',_0x20e05e[_0x37be4b(0x185)]=()=>toggleRowPattern(_0x45ec86),_0x181517['appendChild'](_0x20e05e);for(let _0x2737ff=0x0;_0x2737ff<0x7;_0x2737ff++){const _0x9d5d22=document[_0x37be4b(0x1ad)](_0x37be4b(0x16f)),_0xeeed=(availabilityPattern[_0x2737ff]||[])[_0x37be4b(0x1a9)](_0x45ec86),_0x43f7bd=!_0xeeed;_0x9d5d22[_0x37be4b(0x83)]='pe-cell\x20'+(_0x43f7bd?_0x37be4b(0xb6):''),_0x9d5d22['onclick']=()=>toggleSinglePattern(_0x2737ff,_0x45ec86),_0x181517[_0x37be4b(0x11c)](_0x9d5d22);}}}function toggleSinglePattern(_0x46250c,_0x79fea){const _0x3348bc=a2_0x3b56be;if(!availabilityPattern[_0x46250c])availabilityPattern[_0x46250c]=[];const _0x5bfdc9=availabilityPattern[_0x46250c],_0x44d787=_0x5bfdc9[_0x3348bc(0x135)](_0x79fea);_0x44d787===-0x1?_0x5bfdc9[_0x3348bc(0x14e)](_0x79fea):_0x5bfdc9[_0x3348bc(0xcf)](_0x44d787,0x1),renderPatternEditor();}function toggleColPattern(_0x5a40eb){const _0x53d2ba=a2_0x3b56be;if(!availabilityPattern[_0x5a40eb])availabilityPattern[_0x5a40eb]=[];const _0x29a02f=availabilityPattern[_0x5a40eb];_0x29a02f[_0x53d2ba(0x97)]===0x0?availabilityPattern[_0x5a40eb]=Array['from']({'length':0x18},(_0xcf1cb7,_0x15b3e9)=>_0x15b3e9):availabilityPattern[_0x5a40eb]=[],renderPatternEditor();}function toggleRowPattern(_0x2d2886){const _0x8ba8f9=a2_0x3b56be;let _0x3b22dd=!![];for(let _0x536bb6=0x0;_0x536bb6<0x7;_0x536bb6++){if((availabilityPattern[_0x536bb6]||[])[_0x8ba8f9(0x1a9)](_0x2d2886)){_0x3b22dd=![];break;}}for(let _0x5dd83b=0x0;_0x5dd83b<0x7;_0x5dd83b++){if(!availabilityPattern[_0x5dd83b])availabilityPattern[_0x5dd83b]=[];const _0x1b9939=availabilityPattern[_0x5dd83b]['indexOf'](_0x2d2886);if(_0x3b22dd){if(_0x1b9939===-0x1)availabilityPattern[_0x5dd83b][_0x8ba8f9(0x14e)](_0x2d2886);}else{if(_0x1b9939!==-0x1)availabilityPattern[_0x5dd83b][_0x8ba8f9(0xcf)](_0x1b9939,0x1);}}renderPatternEditor();}function renderPCol(_0x5d4a43,_0x4dbd98){const _0x5bdb25=a2_0x3b56be;_0x5d4a43[_0x5bdb25(0xe6)]='';const _0x47abe0=Math[_0x5bdb25(0xf2)](_0x5d4a43['offsetLeft']);(availabilityPattern[_0x4dbd98]||[])[_0x5bdb25(0x1c5)](_0x5e7656=>{const _0x16e5c8=_0x5bdb25,_0x5a51e0=document[_0x16e5c8(0x1ad)]('div');_0x5a51e0['className']=_0x16e5c8(0x10d);const _0x4b071a=_0x5e7656*GRID_H;_0x5a51e0['style']['top']=_0x4b071a+'px',_0x5a51e0[_0x16e5c8(0x1ce)][_0x16e5c8(0x18c)]='-'+_0x47abe0+_0x16e5c8(0xad)+_0x4b071a+'px',_0x5a51e0[_0x16e5c8(0x185)]=_0x5cee96=>{_0x5cee96['stopPropagation'](),toggleSinglePattern(_0x4dbd98,_0x5e7656);},_0x5d4a43[_0x16e5c8(0x11c)](_0x5a51e0);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x4337cf=a2_0x3b56be,_0x1dce31=new Date(),_0x594e59=document[_0x4337cf(0x17e)](_0x4337cf(0xd5)),_0x3a3679=document[_0x4337cf(0x17e)](_0x4337cf(0x1e9)),_0x5d3a44=(_0x1dce31['getHours']()*0x3c+_0x1dce31[_0x4337cf(0x1b5)]())/0x3c*GRID_H;_0x594e59[_0x4337cf(0x1ce)]['top']=_0x5d3a44+'px',_0x594e59[_0x4337cf(0x1ce)]['display']=_0x4337cf(0xfd),_0x3a3679['textContent']=String(_0x1dce31['getHours']())[_0x4337cf(0x10c)](0x2,'0')+':'+String(_0x1dce31[_0x4337cf(0x1b5)]())[_0x4337cf(0x10c)](0x2,'0'),_0x3a3679[_0x4337cf(0x1ce)][_0x4337cf(0x1f5)]=_0x4337cf(0xfd),_0x3a3679[_0x4337cf(0x1ce)]['top']=_0x5d3a44+'px';}document[a2_0x3b56be(0x189)](a2_0x3b56be(0x78),init);function openDayOptions(_0x2d5306){const _0x224cfa=a2_0x3b56be;selectedDayForOptions=_0x2d5306;const _0xe8bbb=new Date(_0x2d5306),_0x2682f1={'weekday':'long','day':_0x224cfa(0x1b7),'month':'long','year':_0x224cfa(0x1b7)},_0x2e909d=_0xe8bbb[_0x224cfa(0xae)](_0x224cfa(0x1b4),_0x2682f1);document[_0x224cfa(0x17e)]('doDateHeader')[_0x224cfa(0x103)]=_0x2e909d['charAt'](0x0)[_0x224cfa(0x1a3)]()+_0x2e909d[_0x224cfa(0x193)](0x1);let _0x1b00c8=_0xe8bbb[_0x224cfa(0x114)]()-0x1;if(_0x1b00c8===-0x1)_0x1b00c8=0x6;const _0x5d7505=availabilityPattern[_0x1b00c8]||[],_0x57c2af=0x18-_0x5d7505['length'],_0x2db629=_0x57c2af*0x3c,_0x566c8a=sessions[_0x224cfa(0x1cf)](_0x217f42=>_0x217f42['dateStr']===_0x2d5306&&_0x217f42[_0x224cfa(0x178)]!==_0x224cfa(0xbd));let _0x4b1428=_0x566c8a[_0x224cfa(0x1a4)](_0x39c450=>{const _0x20fc4e=_0x224cfa,[_0x1f9aba,_0x4238b5]=_0x39c450['start'][_0x20fc4e(0x85)](':')[_0x20fc4e(0x1a4)](Number),[_0x368da1,_0x58e573]=_0x39c450[_0x20fc4e(0xf9)][_0x20fc4e(0x85)](':')[_0x20fc4e(0x1a4)](Number);return[_0x1f9aba*0x3c+_0x4238b5,_0x368da1*0x3c+_0x58e573];});_0x4b1428['sort']((_0x2f8a0f,_0x133be0)=>_0x2f8a0f[0x0]-_0x133be0[0x0]);let _0x1e48f1=[];if(_0x4b1428[_0x224cfa(0x97)]>0x0){let _0xf56274=_0x4b1428[0x0];for(let _0xe18bfe=0x1;_0xe18bfe<_0x4b1428[_0x224cfa(0x97)];_0xe18bfe++){_0x4b1428[_0xe18bfe][0x0]<_0xf56274[0x1]?_0xf56274[0x1]=Math[_0x224cfa(0xb2)](_0xf56274[0x1],_0x4b1428[_0xe18bfe][0x1]):(_0x1e48f1[_0x224cfa(0x14e)](_0xf56274),_0xf56274=_0x4b1428[_0xe18bfe]);}_0x1e48f1[_0x224cfa(0x14e)](_0xf56274);}let _0x27a00b=0x0;_0x1e48f1[_0x224cfa(0x1c5)](_0x1eae6d=>_0x27a00b+=_0x1eae6d[0x1]-_0x1eae6d[0x0]),document[_0x224cfa(0x17e)]('doWorkHours')[_0x224cfa(0x103)]=formatMinsToHrs(_0x2db629),document[_0x224cfa(0x17e)](_0x224cfa(0x11f))['textContent']=formatMinsToHrs(_0x27a00b);const _0x16a77a=_0x2db629>0x0?Math[_0x224cfa(0xf2)](_0x27a00b/_0x2db629*0x64):0x0,_0x24e3bf=document[_0x224cfa(0x17e)]('doLoadPercent');_0x24e3bf[_0x224cfa(0x103)]=_0x16a77a+'%';const _0x4b94f1=document['getElementById'](_0x224cfa(0xf3));if(_0x16a77a>0x64)_0x24e3bf[_0x224cfa(0x1ce)]['color']=_0x224cfa(0x15b),_0x4b94f1['style']['borderColor']=_0x224cfa(0x112);else _0x16a77a>0x50?(_0x24e3bf[_0x224cfa(0x1ce)][_0x224cfa(0x146)]=_0x224cfa(0x192),_0x4b94f1[_0x224cfa(0x1ce)][_0x224cfa(0x1fb)]=_0x224cfa(0x1dd)):(_0x24e3bf[_0x224cfa(0x1ce)][_0x224cfa(0x146)]='var(--acc-green)',_0x4b94f1[_0x224cfa(0x1ce)][_0x224cfa(0x1fb)]=_0x224cfa(0xaa));const _0x169723=document[_0x224cfa(0x17e)](_0x224cfa(0xc4));_0x169723['innerHTML']='';_0x566c8a[_0x224cfa(0x97)]===0x0?_0x169723[_0x224cfa(0xe6)]=_0x224cfa(0x125):(_0x566c8a['sort']((_0x370959,_0x11a5ca)=>_0x370959[_0x224cfa(0x17a)]['localeCompare'](_0x11a5ca['start'])),_0x566c8a[_0x224cfa(0x1c5)](_0xfcf143=>{const _0x4976a7=_0x224cfa,_0x22127a=clients[_0x4976a7(0x174)](_0x51f402=>_0x51f402[_0x4976a7(0x1af)]===_0xfcf143[_0x4976a7(0x126)]),_0x3f27f1=_0x22127a?_0x22127a[_0x4976a7(0x146)]:_0x4976a7(0x182),_0x3c243e=_0xfcf143[_0x4976a7(0x178)]===_0x4976a7(0x165),_0x3b3b2f=_0x3c243e?_0x4976a7(0xe1):'',_0x1e9231=document['createElement'](_0x4976a7(0x16f));_0x1e9231[_0x4976a7(0x83)]=_0x4976a7(0x79),_0x1e9231[_0x4976a7(0x1ce)][_0x4976a7(0x76)]=_0x3f27f1,_0x1e9231[_0x4976a7(0xe6)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>'+_0xfcf143[_0x4976a7(0x17a)]+_0x4976a7(0xb1)+_0xfcf143[_0x4976a7(0xf9)]+_0x4976a7(0xd3)+_0xfcf143[_0x4976a7(0x126)]+_0x4976a7(0x120)+_0x3b3b2f+_0x4976a7(0x122),_0x169723[_0x4976a7(0x11c)](_0x1e9231);}));const _0x15f2ca=document[_0x224cfa(0x17e)]('btnDayToggle'),_0xa1e79a=dateExceptions[_0x2d5306]===_0x224cfa(0xa5);_0xa1e79a?(_0x15f2ca[_0x224cfa(0x103)]=_0x224cfa(0x13c),_0x15f2ca[_0x224cfa(0x83)]=_0x224cfa(0x17c),_0x15f2ca[_0x224cfa(0x1ce)]['color']='var(--acc-green)',_0x15f2ca[_0x224cfa(0x1ce)][_0x224cfa(0x1ea)]='rgba(48,\x20209,\x2088,\x200.15)'):(_0x15f2ca[_0x224cfa(0x103)]=_0x224cfa(0x171),_0x15f2ca[_0x224cfa(0x83)]=_0x224cfa(0x1b8),_0x15f2ca[_0x224cfa(0x1ce)][_0x224cfa(0x146)]=_0x224cfa(0x15b),_0x15f2ca[_0x224cfa(0x1ce)][_0x224cfa(0x1ea)]=_0x224cfa(0x17f)),openSheet(_0x224cfa(0x19b));}let currentAnPeriod=a2_0x3b56be(0x1d5);function openAnalytics(){const _0x4019ce=a2_0x3b56be,_0xfa95b5=document[_0x4019ce(0xe9)]('.period-switch\x20.p-btn');setAnalyticsPeriod(_0x4019ce(0x1d5),_0xfa95b5),closeAllSheets(),openSheet(_0x4019ce(0xc5));}function setAnalyticsPeriod(_0x59ed17,_0x152fc3){const _0x2c7210=a2_0x3b56be;currentAnPeriod=_0x59ed17,document[_0x2c7210(0x17d)](_0x2c7210(0x1eb))[_0x2c7210(0x1c5)](_0x21d92c=>_0x21d92c[_0x2c7210(0x8b)][_0x2c7210(0x1a0)](_0x2c7210(0xb6)));if(_0x152fc3)_0x152fc3[_0x2c7210(0x8b)]['add']('active');const _0x398eec=document['getElementById'](_0x2c7210(0x145));_0x398eec[_0x2c7210(0x1ce)][_0x2c7210(0x1f5)]=_0x59ed17===_0x2c7210(0xeb)?_0x2c7210(0xdf):_0x2c7210(0xf7);const _0x2d0f38=new Date();let _0x7d390d=new Date(),_0x57c98b=new Date();if(_0x59ed17===_0x2c7210(0x1d5))_0x7d390d=getStartOfWeek(_0x2d0f38),_0x57c98b=new Date(_0x7d390d),_0x57c98b[_0x2c7210(0xea)](_0x57c98b['getDate']()+0x6);else{if(_0x59ed17===_0x2c7210(0x12f))_0x7d390d=new Date(_0x2d0f38[_0x2c7210(0x1db)](),_0x2d0f38[_0x2c7210(0x1d9)](),0x1),_0x57c98b=new Date(_0x2d0f38['getFullYear'](),_0x2d0f38[_0x2c7210(0x1d9)]()+0x1,0x0);else{!document[_0x2c7210(0x17e)](_0x2c7210(0xdc))[_0x2c7210(0xa4)]&&(document['getElementById'](_0x2c7210(0xdc))['value']=getLocalDateStr(_0x2d0f38),document[_0x2c7210(0x17e)](_0x2c7210(0x173))[_0x2c7210(0xa4)]=getLocalDateStr(_0x2d0f38));refreshAnalytics();return;}}document[_0x2c7210(0x17e)](_0x2c7210(0xdc))[_0x2c7210(0xa4)]=getLocalDateStr(_0x7d390d),document[_0x2c7210(0x17e)](_0x2c7210(0x173))[_0x2c7210(0xa4)]=getLocalDateStr(_0x57c98b),refreshAnalytics();}function refreshAnalytics(){const _0x321001=a2_0x3b56be,_0x2698d3=document[_0x321001(0x17e)](_0x321001(0xdc))[_0x321001(0xa4)],_0x34f660=document['getElementById'](_0x321001(0x173))['value'];if(!_0x2698d3||!_0x34f660)return;const _0x2e2987=sessions[_0x321001(0x1cf)](_0x148c21=>_0x148c21[_0x321001(0xfe)]>=_0x2698d3&&_0x148c21[_0x321001(0xfe)]<=_0x34f660&&_0x148c21[_0x321001(0x178)]!=='cancelled'),_0xd3874a=_0x2e2987[_0x321001(0x97)],_0x26d0bd=_0x2e2987['filter'](_0x26dce7=>_0x26dce7[_0x321001(0x178)]===_0x321001(0x165))[_0x321001(0x97)],_0x29aee6=_0xd3874a>0x0?Math[_0x321001(0xf2)](_0x26d0bd/_0xd3874a*0x64):0x0;document[_0x321001(0x17e)](_0x321001(0x199))[_0x321001(0x103)]=_0x29aee6+'%',document[_0x321001(0x17e)](_0x321001(0x9a))[_0x321001(0x103)]=_0x26d0bd+'\x20–∏–∑\x20'+_0xd3874a+_0x321001(0x86);const _0x5a32df=document['getElementById'](_0x321001(0x10f)),_0x121642=0x2*Math['PI']*0x23,_0x466fcd=_0x121642-_0x29aee6/0x64*_0x121642;_0x5a32df[_0x321001(0x1ce)][_0x321001(0x18f)]=_0x466fcd;const _0x37bedd={};_0x2e2987[_0x321001(0x1c5)](_0x3bdd1e=>{const _0xecd214=_0x321001;if(!_0x37bedd[_0x3bdd1e[_0xecd214(0x126)]]){const _0x34e8f9=clients[_0xecd214(0x174)](_0xd3894d=>_0xd3894d['name']===_0x3bdd1e[_0xecd214(0x126)]);_0x37bedd[_0x3bdd1e['client']]={'total':0x0,'done':0x0,'color':_0x34e8f9?_0x34e8f9['color']:'#fff'};}_0x37bedd[_0x3bdd1e[_0xecd214(0x126)]][_0xecd214(0x147)]++;if(_0x3bdd1e['status']===_0xecd214(0x165))_0x37bedd[_0x3bdd1e[_0xecd214(0x126)]]['done']++;});const _0x53e95b=document[_0x321001(0x17e)]('analyticsList');_0x53e95b['innerHTML']='';const _0x18c2d3=Object[_0x321001(0x1fc)](_0x37bedd)[_0x321001(0x1f7)]((_0x25f265,_0x247040)=>_0x247040[0x1][_0x321001(0x147)]-_0x25f265[0x1][_0x321001(0x147)]);if(_0x18c2d3[_0x321001(0x97)]===0x0){_0x53e95b[_0x321001(0xe6)]='<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>';return;}_0x18c2d3['forEach'](([_0x53ee1c,_0x4a03f7])=>{const _0x4c97b9=_0x321001,_0xf2fd22=Math[_0x4c97b9(0xf2)](_0x4a03f7[_0x4c97b9(0x14a)]/_0x4a03f7['total']*0x64),_0x452f8e=document[_0x4c97b9(0x1ad)](_0x4c97b9(0x16f));_0x452f8e['className']=_0x4c97b9(0xb8),_0x452f8e[_0x4c97b9(0x1ce)][_0x4c97b9(0x76)]=_0x4a03f7[_0x4c97b9(0x146)],_0x452f8e['innerHTML']=_0x4c97b9(0x161)+_0x53ee1c+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x4a03f7[_0x4c97b9(0x14a)]+_0x4c97b9(0x121)+_0x4a03f7['total']+_0x4c97b9(0x88)+_0xf2fd22+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x53e95b[_0x4c97b9(0x11c)](_0x452f8e);});}function formatMinsToHrs(_0x2db085){const _0x252239=a2_0x3b56be;if(_0x2db085===0x0)return'0';const _0xa70ae2=Math[_0x252239(0x19c)](_0x2db085/0x3c),_0x48d2be=_0x2db085%0x3c;if(_0x48d2be===0x0)return _0xa70ae2+'—á';return _0xa70ae2+'—á\x20'+_0x48d2be+'–º';}