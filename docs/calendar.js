const a2_0xaab763=a2_0x8074;(function(_0x39b802,_0x185a40){const _0x36c725=a2_0x8074,_0x385cfd=_0x39b802();while(!![]){try{const _0x66f605=-parseInt(_0x36c725(0x2a3))/0x1+parseInt(_0x36c725(0x256))/0x2*(parseInt(_0x36c725(0x2b4))/0x3)+parseInt(_0x36c725(0x1a6))/0x4+parseInt(_0x36c725(0x194))/0x5+-parseInt(_0x36c725(0x29a))/0x6*(-parseInt(_0x36c725(0x199))/0x7)+parseInt(_0x36c725(0x22f))/0x8+-parseInt(_0x36c725(0x2a0))/0x9;if(_0x66f605===_0x185a40)break;else _0x385cfd['push'](_0x385cfd['shift']());}catch(_0x14f083){_0x385cfd['push'](_0x385cfd['shift']());}}}(a2_0x9ccb,0x7fcdb),function initTMA(){const _0x49e23a=a2_0x8074,_0x2b02a6=(function(){let _0x466633=!![];return function(_0x1bce40,_0x4d29cf){const _0x3d3303=_0x466633?function(){if(_0x4d29cf){const _0x13be26=_0x4d29cf['apply'](_0x1bce40,arguments);return _0x4d29cf=null,_0x13be26;}}:function(){};return _0x466633=![],_0x3d3303;};}()),_0x3ac805=_0x2b02a6(this,function(){const _0x163565=a2_0x8074;return _0x3ac805['toString']()['search'](_0x163565(0x266))['toString']()['constructor'](_0x3ac805)[_0x163565(0x217)](_0x163565(0x266));});_0x3ac805();try{const _0x233550=window['Telegram']?.['WebApp'];if(!_0x233550)return;_0x233550[_0x49e23a(0x182)](),_0x233550[_0x49e23a(0x186)]();try{_0x233550[_0x49e23a(0x287)](_0x49e23a(0x25a)),_0x233550[_0x49e23a(0x22c)]&&_0x233550['setBackgroundColor'](_0x49e23a(0x25a));}catch(_0x1f1590){console[_0x49e23a(0x254)]('Error\x20setting\x20color:',_0x1f1590);}try{_0x233550['BackButton']&&(_0x233550['BackButton'][_0x49e23a(0x24d)](),_0x233550[_0x49e23a(0x1b9)]['offClick'](),_0x233550[_0x49e23a(0x1b9)][_0x49e23a(0x1db)](function(){const _0xd0b5f0=_0x49e23a;window['location']['href']=_0xd0b5f0(0x1d4);}));}catch(_0x20d91e){console[_0x49e23a(0x254)](_0x49e23a(0x236),_0x20d91e);}try{if(_0x233550[_0x49e23a(0x1dc)])_0x233550[_0x49e23a(0x1dc)]();}catch(_0x5b828e){}}catch(_0x39914c){console['error']('Critical\x20TMA\x20Error:',_0x39914c);}}());function isAdmin(){const _0x1bd7de=a2_0x8074;try{const _0x3d83e=Number(window['Telegram']?.[_0x1bd7de(0x17f)]?.[_0x1bd7de(0x173)]?.[_0x1bd7de(0x1cc)]?.['id']);return _0x3d83e===0xbaf7174;}catch(_0x43f223){return![];}}const APP_VERSION='v9.0-BATCH-CALENDAR',API_URL=a2_0xaab763(0x1a7),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0xaab763(0x28f),KEY_SESSIONS='uc_sessions_v9',KEY_SETTINGS=a2_0xaab763(0x1df);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;function a2_0x9ccb(){const _0x1af63a=['save_settings','settings','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','warning','height','daysHeaderTrack','rgba(100,100,100,0.5)','calendar','\x20-\x20','(((.+)+)+)+$','[Settings]\x20Cancel\x20window\x20set\x20to:','toUpperCase','inpClient','borderColor','settingsSheet','charAt','text','complete','00:00','btn-primary\x20btn-danger','backgroundPosition','length','update','range-item','text/plain;charset=UTF-8','doWorkHours','rgba(','getFullYear','getText','colIndex','add','setMonth','exceptions','getElementById','vibrate','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','.period-switch\x20.p-btn','keys','–£–¥–∞–ª–µ–Ω–∏–µ','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','sheetTitle','sessionSheet','setHeaderColor','inpRecurring','rgba(255,255,255,0.05)','start','analyticsList','–£—Å–ø–µ—à–Ω–æ','stringify','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','uc_clients_v9','var(--acc-orange)','doEventsList','asTitle','undefined','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','getItem','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','%\x20+\x202px)','rangeStartTime','getBoundingClientRect','6wEhRWa','clients','settingCancelWindow','.sheet','offsetLeft','filter','9725598EdMbKK','[Notify]\x20Detected\x20Client\x20ID:','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','499644dUIhfw','var(--acc-red)','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','Local\x20Load\x20Error','gridColumns','initData','rangesSheet','day-off-overlay\x20stripe-bg','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','status','dayOptionsSheet','rgba(255,\x2069,\x2058,\x200.15)','.event-card','Local\x20Save\x20Error','width','single','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','843kRXFui','</div><div\x20class=\x22ev-time\x22>','rangeStartDate','</div><div\x20class=\x22dch-num\x22>','asBtnSeries','cancelled','blocked-range-part\x20stripe-bg','seriesCountContainer','[API\x20','offsetWidth','<b>‚úÖ\x20','mouseup','borderLeftColor','scroll','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','blocked-slot\x20stripe-bg','Server\x20Error','valid','null','insertBefore','today','json','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','setAttribute','getTime','findIndex','total','[Sync]\x20Loading\x20','header-','none','rgba(255,\x2069,\x2058,\x200.3)','pattern','globalTimeLine','#fff','.day-off-overlay','toast','[Series]\x20Skipped\x20','create','floor','flex',':\x20Client\x20already\x20booked','as-button\x20danger\x20bold','numeric','scrollLeft','stat-','className','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','strokeDashoffset','custom','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','inpDate','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','classList','<div\x20class=\x22dch-day\x22>','inpSeriesCount','split','timeColumn','<span>','getMonth','planned','toastTitle','open','indexOf','find','rangesList','initDataUnsafe','send_notification','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','syncBatch','getDate','anStart','\x20status-completed','inpStart','createElement','matrixViewport','zIndex','.day-column','WebApp','ru-RU','pe-corner','ready','btnDayToggle','parse','100%','expand','seriesId','guest','random','ranges','anEnd','now','doLoadPercent','push',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','cancel','data-day-idx','name','localeCompare','925215sqvxVT','background','firstChild','event-card','entries','1793435MnTCri','[Notify]\x20Server\x20Response:','\x20–∏–∑\x20','addEventListener','querySelector','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','sort',':00','borderRadius','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','px\x200px','var(--acc-green)','batch_sync','2059400lBHFhT','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','T00:00:00','timeLineBadge','formatDate','setDate','anPercent','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','backgroundColor','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','.day-col-header','toString','sid','splice','forEach','doBusyHours','style','DOMContentLoaded','BackButton','btn-status-toggle','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','active','display','startsWith','getAttribute','padStart','appendChild','closest','left','</b>\x0a\x0a','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','remove','toLocaleDateString','[Notify]\x20Error:\x20Text\x20generation\x20failed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','dayOptionsTitle','all','user','[Notify]\x20Error:\x20sessionData\x20is\x20null','stopPropagation','day-col-header\x20','clientWidth','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','setItem','createDocumentFragment','router.html','de-item',']\x20Failed:','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','month','onClick','disableVerticalSwipes','\x20days','fetchFromServer','uc_settings_v9','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','success','round','getHours','...','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','data','touchmove','inpNote','rangeEndDate','var(--acc-current)','clientId','querySelectorAll','saveLocally','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','btn-status-toggle\x20undo-mode','warn','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','syncLoad','value','rgba(255,\x20159,\x2010,\x200.3)','client-stat-card','done','btnDelete','getMinutes','then','day-column\x20','Save\x20settings\x20error:','getDay','mousedown','recurringOptionContainer','week','px\x20-','series','inpEnd','</span>\x20/\x20','peGrid','10px\x2010px\x200\x200','calc(','catch','substr','end','pe-time-label','top','option','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','slice','#0a84ff','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','btn-primary\x20btn-secondary','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','actionSheet','anDonutCircle','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','min','search','<div\x20class=\x22ev-title\x22>','dateStr','checked','uc_settings_cancel_window','.pib-text','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','includes','mergeServerData','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','touches','data-date','color','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','note','btnStatusToggle','toLocaleString','POST','from','patternEditor','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','setBackgroundColor','10px','as-button\x20danger','8180848iFSwaW','patternInfoBox','setHours','block','off','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','init_load','Error\x20setting\x20back\x20button:','scrollTop','scrollWidth','long','Unknown','onclick','max','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','textContent','isArray','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','send','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','mousemove','completed','doDateHeader','Telegram','client','actionSheetOverlay','\x20‚Äî\x20','toastMessage','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','%\x20-\x204px)','show','anTotalStats','div','clientY','delete','T23:59:59','rangeEndTime','log','map','890rJTSOS','touchend','error','anCustomDates','#050505','cancel_window','innerHTML'];a2_0x9ccb=function(){return _0x1af63a;};return a2_0x9ccb();}const DataManager={'getUserId'(){const _0x55b559=a2_0xaab763;return window[_0x55b559(0x246)]?.['WebApp']?.['initDataUnsafe']?.[_0x55b559(0x1cc)]?.['id']||_0x55b559(0x188);},'saveLocally'(){const _0x3dea83=a2_0xaab763;try{localStorage[_0x3dea83(0x1d2)](KEY_CLIENTS,JSON[_0x3dea83(0x28d)](clients)),localStorage[_0x3dea83(0x1d2)](KEY_SESSIONS,JSON[_0x3dea83(0x28d)](sessions)),localStorage[_0x3dea83(0x1d2)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x3ac041){console[_0x3dea83(0x258)](_0x3dea83(0x2b0),_0x3ac041);}},'loadLocal'(){const _0x1f169d=a2_0xaab763;try{const _0x2211a4=localStorage[_0x1f169d(0x295)](KEY_CLIENTS);if(_0x2211a4)clients=JSON[_0x1f169d(0x184)](_0x2211a4);const _0x6c13be=localStorage[_0x1f169d(0x295)](KEY_SESSIONS);if(_0x6c13be)sessions=JSON[_0x1f169d(0x184)](_0x6c13be);const _0x1e0fa0=localStorage[_0x1f169d(0x295)](KEY_SETTINGS);if(_0x1e0fa0){const _0x2f2fac=JSON['parse'](_0x1e0fa0);if(_0x2f2fac['pattern'])availabilityPattern=_0x2f2fac[_0x1f169d(0x2d3)];if(_0x2f2fac[_0x1f169d(0x27d)])dateExceptions=_0x2f2fac[_0x1f169d(0x27d)];if(_0x2f2fac[_0x1f169d(0x18a)])specialRanges=_0x2f2fac[_0x1f169d(0x18a)];}else{for(let _0x24b5d0=0x0;_0x24b5d0<0x7;_0x24b5d0++)availabilityPattern[_0x24b5d0]=Array[_0x1f169d(0x229)]({'length':0xc},(_0x193a36,_0x35a88c)=>_0x35a88c+0x9);}}catch(_0x3bc5ca){console[_0x1f169d(0x258)](_0x1f169d(0x2a6),_0x3bc5ca);}},async 'fetchFromServer'(_0x169752,_0x55279c={}){const _0x4e8860=a2_0xaab763,_0x20f1bc=window[_0x4e8860(0x246)]?.[_0x4e8860(0x17f)],_0x8420df={'action':_0x169752,'init_data':_0x20f1bc?.[_0x4e8860(0x2a8)]||'',..._0x55279c};try{const _0x1b1979=await fetch(API_URL,{'method':_0x4e8860(0x228),'headers':{'Content-Type':_0x4e8860(0x275)},'body':JSON[_0x4e8860(0x28d)](_0x8420df)}),_0x539ab5=await _0x1b1979[_0x4e8860(0x2c9)]();if(!_0x539ab5['ok'])throw new Error(_0x539ab5[_0x4e8860(0x258)]||_0x4e8860(0x2c4));return _0x539ab5[_0x4e8860(0x1e6)];}catch(_0x3ca70f){console[_0x4e8860(0x258)](_0x4e8860(0x2bc)+_0x169752+_0x4e8860(0x1d6),_0x3ca70f);throw _0x3ca70f;}},async 'syncLoad'(){const _0xa7e52c=a2_0xaab763,_0x34ec34=new Date(),_0x1bc6e7=_0x34ec34[_0xa7e52c(0x278)]()+'-'+String(_0x34ec34[_0xa7e52c(0x16c)]()+0x1)[_0xa7e52c(0x1c0)](0x2,'0'),_0x1b6450=new Date(_0x34ec34);_0x1b6450[_0xa7e52c(0x27c)](_0x34ec34['getMonth']()+0x1);const _0x94c0a5=_0x1b6450[_0xa7e52c(0x278)]()+'-'+String(_0x1b6450['getMonth']()+0x1)['padStart'](0x2,'0'),_0x409f9c=Date[_0xa7e52c(0x18c)]();console[_0xa7e52c(0x254)](_0xa7e52c(0x2cf)+_0x1bc6e7+',\x20'+_0x94c0a5+'...');try{const [_0x74524d,_0x4495df]=await Promise[_0xa7e52c(0x1cb)]([this[_0xa7e52c(0x1de)](_0xa7e52c(0x235),{'month_str':_0x1bc6e7}),this[_0xa7e52c(0x1de)]('init_load',{'month_str':_0x94c0a5})]);if(lastUserActionTime>_0x409f9c)return console[_0xa7e52c(0x1f0)](_0xa7e52c(0x1e5)),![];return this['mergeServerData'](_0x74524d,_0x1bc6e7),this[_0xa7e52c(0x21f)](_0x4495df,_0x94c0a5),this['saveLocally'](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x19459e){console[_0xa7e52c(0x258)](_0x19459e);throw _0x19459e;}},'mergeServerData'(_0x358006,_0x3081e8){const _0x1ea3af=a2_0xaab763;if(!_0x358006)return;_0x358006[_0x1ea3af(0x29b)]&&Array[_0x1ea3af(0x23f)](_0x358006[_0x1ea3af(0x29b)])&&(clients=_0x358006[_0x1ea3af(0x29b)]);if(_0x358006[_0x1ea3af(0x25e)]){if(_0x358006[_0x1ea3af(0x25e)]['pattern'])availabilityPattern=_0x358006[_0x1ea3af(0x25e)][_0x1ea3af(0x2d3)];if(_0x358006['settings']['exceptions'])dateExceptions=_0x358006[_0x1ea3af(0x25e)][_0x1ea3af(0x27d)];if(_0x358006['settings'][_0x1ea3af(0x18a)])specialRanges=_0x358006[_0x1ea3af(0x25e)][_0x1ea3af(0x18a)];if(_0x358006['settings'][_0x1ea3af(0x25b)]){localStorage[_0x1ea3af(0x1d2)](_0x1ea3af(0x21b),_0x358006[_0x1ea3af(0x25e)]['cancel_window']);const _0x59519b=document[_0x1ea3af(0x27e)](_0x1ea3af(0x29c));if(_0x59519b)_0x59519b[_0x1ea3af(0x1f3)]=_0x358006[_0x1ea3af(0x25e)][_0x1ea3af(0x25b)];}}_0x358006[_0x1ea3af(0x264)]&&(sessions=sessions[_0x1ea3af(0x29f)](_0x98a6f=>!_0x98a6f[_0x1ea3af(0x219)][_0x1ea3af(0x1be)](_0x3081e8)),Object[_0x1ea3af(0x282)](_0x358006['calendar'])[_0x1ea3af(0x1b5)](_0x46012e=>{const _0x37d23d=_0x1ea3af,_0x1f7850=_0x358006['calendar'][_0x46012e];_0x1f7850[_0x37d23d(0x1b5)](_0x599f3f=>{const _0x3b1f75=_0x37d23d,_0x2b6a46=clients[_0x3b1f75(0x171)](_0x580506=>String(_0x580506['id'])===String(_0x599f3f['c']));sessions[_0x3b1f75(0x18e)]({'id':_0x599f3f['i'],'clientId':_0x599f3f['c'],'client':_0x2b6a46?_0x2b6a46[_0x3b1f75(0x192)]:_0x3b1f75(0x23a),'dateStr':_0x3081e8+'-'+_0x46012e[_0x3b1f75(0x1c0)](0x2,'0'),'start':_0x599f3f['s'],'end':_0x599f3f['e'],'status':_0x599f3f['st']||_0x3b1f75(0x16d),'note':_0x599f3f['n']||'','seriesId':_0x599f3f[_0x3b1f75(0x1b3)]||null});});}));},async 'syncBatch'(_0xf4d3c2){const _0x734751=a2_0xaab763,_0x619258=[...new Set(_0xf4d3c2)],_0x1a1404=_0x619258['map'](_0x5d7acb=>{const _0x10e38d=a2_0x8074,_0x257157=sessions[_0x10e38d(0x29f)](_0x29f931=>_0x29f931[_0x10e38d(0x219)]===_0x5d7acb&&_0x29f931['status']!=='deleted'),_0xc2a57e=_0x257157[_0x10e38d(0x255)](_0x2d6732=>({'i':_0x2d6732['id'],'c':_0x2d6732[_0x10e38d(0x1eb)],'s':_0x2d6732['start'],'e':_0x2d6732[_0x10e38d(0x209)],'st':_0x2d6732[_0x10e38d(0x2ac)],'n':_0x2d6732[_0x10e38d(0x225)],'sid':_0x2d6732[_0x10e38d(0x187)]}));return{'date':_0x5d7acb,'day_data':_0xc2a57e};});if(_0x1a1404[_0x734751(0x272)]===0x0)return;console[_0x734751(0x254)]('[Sync]\x20Pushing\x20batch\x20updates\x20for\x20'+_0x1a1404[_0x734751(0x272)]+_0x734751(0x1dd)),await this[_0x734751(0x1de)](_0x734751(0x1a5),{'changes':_0x1a1404});}};async function init(){const _0x15de31=a2_0xaab763;DataManager['loadLocal'](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById'](_0x15de31(0x17c))[_0x15de31(0x19c)](_0x15de31(0x2c1),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x15de31(0x1f2)]()[_0x15de31(0x1f9)](()=>{const _0x50d16e=_0x15de31;showToast(_0x50d16e(0x2e2),!![]);})[_0x15de31(0x207)](_0x4d1bde=>{showToast('–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º',![]);});}function generateId(){const _0x217f9=a2_0xaab763;return Date[_0x217f9(0x18c)]()[_0x217f9(0x1b2)](0x24)+Math[_0x217f9(0x189)]()[_0x217f9(0x1b2)](0x24)[_0x217f9(0x208)](0x2,0x5);}function toggleSeriesInput(){const _0x3983d7=a2_0xaab763,_0x11789b=document['getElementById']('inpRecurring')[_0x3983d7(0x21a)],_0x28fac8=document[_0x3983d7(0x27e)](_0x3983d7(0x2bb));_0x28fac8[_0x3983d7(0x1b7)][_0x3983d7(0x1bd)]=_0x11789b?_0x3983d7(0x232):'none';const _0x46111d=document['getElementById'](_0x3983d7(0x1fe));_0x46111d[_0x3983d7(0x1b7)][_0x3983d7(0x1a1)]=_0x11789b?_0x3983d7(0x205):'10px';}function openAddSession(_0x2229fd){const _0x65e06c=a2_0xaab763;editingId=null,populateClientSelect(),document[_0x65e06c(0x27e)](_0x65e06c(0x285))[_0x65e06c(0x23e)]=_0x65e06c(0x20d),document[_0x65e06c(0x27e)](_0x65e06c(0x1f7))[_0x65e06c(0x1b7)]['display']=_0x65e06c(0x2d1),document[_0x65e06c(0x27e)](_0x65e06c(0x226))[_0x65e06c(0x1b7)][_0x65e06c(0x1bd)]=_0x65e06c(0x2d1);const _0x5747bb=document[_0x65e06c(0x27e)](_0x65e06c(0x1fe)),_0x4e7197=document[_0x65e06c(0x27e)](_0x65e06c(0x2bb));_0x5747bb[_0x65e06c(0x1b7)]['display']=_0x65e06c(0x2db),_0x5747bb[_0x65e06c(0x1b7)][_0x65e06c(0x1a1)]=_0x65e06c(0x22d),document[_0x65e06c(0x27e)](_0x65e06c(0x288))[_0x65e06c(0x21a)]=![],document[_0x65e06c(0x27e)](_0x65e06c(0x2ea))['value']=0x4,_0x4e7197[_0x65e06c(0x1b7)][_0x65e06c(0x1bd)]=_0x65e06c(0x2d1),document['getElementById'](_0x65e06c(0x2e6))[_0x65e06c(0x1f3)]=getLocalDateStr(_0x2229fd),updateDateDisplay();const _0xbfccc3=_0x2229fd[_0x65e06c(0x1e3)]();document['getElementById']('inpStart')[_0x65e06c(0x1f3)]=String(_0xbfccc3)[_0x65e06c(0x1c0)](0x2,'0')+_0x65e06c(0x1a0),document[_0x65e06c(0x27e)](_0x65e06c(0x202))[_0x65e06c(0x1f3)]=String(_0xbfccc3+0x1)[_0x65e06c(0x1c0)](0x2,'0')+':00',openSheet(_0x65e06c(0x286));}function openEdit(_0x4e2376){const _0x19b343=a2_0xaab763;editingId=_0x4e2376['id'],populateClientSelect(),document[_0x19b343(0x27e)]('sheetTitle')['textContent']=_0x19b343(0x1bb),document['getElementById'](_0x19b343(0x1f7))[_0x19b343(0x1b7)]['display']='block';const _0x63f98e=document['getElementById'](_0x19b343(0x226));_0x63f98e['style'][_0x19b343(0x1bd)]=_0x19b343(0x2db);_0x4e2376[_0x19b343(0x2ac)]===_0x19b343(0x244)?(_0x63f98e[_0x19b343(0x2e1)]=_0x19b343(0x1ef),_0x63f98e['innerHTML']='–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ'):(_0x63f98e[_0x19b343(0x2e1)]=_0x19b343(0x1ba),_0x63f98e['innerHTML']=_0x19b343(0x294));const _0x409e7d=!!_0x4e2376[_0x19b343(0x187)];document[_0x19b343(0x27e)](_0x19b343(0x1fe))[_0x19b343(0x1b7)][_0x19b343(0x1bd)]=_0x19b343(0x2d1),document[_0x19b343(0x27e)]('seriesCountContainer')['style']['display']=_0x19b343(0x2d1),_0x409e7d?(document[_0x19b343(0x27e)](_0x19b343(0x230))['style'][_0x19b343(0x1bd)]=_0x19b343(0x2db),document[_0x19b343(0x27e)]('patternInfoBox')[_0x19b343(0x19d)](_0x19b343(0x21c))[_0x19b343(0x23e)]=_0x19b343(0x19e)):document[_0x19b343(0x27e)](_0x19b343(0x230))[_0x19b343(0x1b7)]['display']=_0x19b343(0x2d1),document[_0x19b343(0x27e)](_0x19b343(0x269))[_0x19b343(0x1f3)]=_0x4e2376[_0x19b343(0x247)],document['getElementById'](_0x19b343(0x2e6))['value']=_0x4e2376[_0x19b343(0x219)],document[_0x19b343(0x27e)](_0x19b343(0x17a))['value']=_0x4e2376[_0x19b343(0x28a)],document[_0x19b343(0x27e)](_0x19b343(0x202))[_0x19b343(0x1f3)]=_0x4e2376[_0x19b343(0x209)],document['getElementById'](_0x19b343(0x1e8))[_0x19b343(0x1f3)]=_0x4e2376['note']||'',updateDateDisplay(),openSheet('sessionSheet');}async function trySaveSession(){const _0x5c618c=a2_0xaab763,_0x378870=document['getElementById'](_0x5c618c(0x269))[_0x5c618c(0x1f3)],_0x11fe8d=document['getElementById'](_0x5c618c(0x2e6))[_0x5c618c(0x1f3)],_0x5d43c2=document[_0x5c618c(0x27e)]('inpStart')[_0x5c618c(0x1f3)],_0x217de1=document['getElementById'](_0x5c618c(0x202))[_0x5c618c(0x1f3)],_0x17a94b=document['getElementById']('inpNote')[_0x5c618c(0x1f3)],_0x384ab9=document['getElementById'](_0x5c618c(0x288))[_0x5c618c(0x21a)];let _0x4077d8=0x4;if(_0x384ab9){const _0x5b66bc=parseInt(document[_0x5c618c(0x27e)](_0x5c618c(0x2ea))[_0x5c618c(0x1f3)]);if(!_0x5b66bc||_0x5b66bc<0x2){showToast(_0x5c618c(0x23d),![]);return;}if(_0x5b66bc>0x64){showToast('–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑',![]);return;}_0x4077d8=_0x5b66bc;}const _0x539bc7=clients[_0x5c618c(0x171)](_0x576af3=>_0x576af3[_0x5c618c(0x192)]===_0x378870);if(!_0x539bc7){showToast('–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞',![]);return;}const _0x39f250=validateAppointment(_0x11fe8d,_0x5d43c2,_0x217de1,editingId,_0x539bc7['id']);if(!_0x39f250['valid']){showToast(_0x39f250['msg'],![]);return;}_0x39f250[_0x5c618c(0x260)]&&showToast(_0x39f250[_0x5c618c(0x260)],![]);const _0x424999={'client':_0x378870,'clientId':_0x539bc7['id'],'start':_0x5d43c2,'end':_0x217de1,'note':_0x17a94b,'status':_0x5c618c(0x16d)},_0xfff63f=editingId?sessions['find'](_0x1da6fd=>_0x1da6fd['id']===editingId):null;if(_0xfff63f&&_0xfff63f[_0x5c618c(0x187)]){tempSessionData={..._0x424999,'dateStr':_0x11fe8d,'id':editingId,'seriesId':_0xfff63f[_0x5c618c(0x187)]},openActionSheet('save');return;}let _0x38ceb5=null;if(!editingId)_0x38ceb5=_0x5c618c(0x2d9);else{if(_0xfff63f){if(String(_0xfff63f[_0x5c618c(0x1eb)])!==String(_0x539bc7['id']))console[_0x5c618c(0x254)]('[Notify]\x20Client\x20SWAP\x20detected'),NotificationManager[_0x5c618c(0x241)](_0x5c618c(0x190),_0xfff63f),_0x38ceb5=_0x5c618c(0x2d9);else(_0xfff63f[_0x5c618c(0x28a)]!==_0x5d43c2||_0xfff63f[_0x5c618c(0x209)]!==_0x217de1||_0xfff63f[_0x5c618c(0x219)]!==_0x11fe8d)&&(_0x38ceb5='update');}}if(!editingId&&_0x384ab9){createBatchSeries(_0x424999,_0x11fe8d,_0x4077d8),NotificationManager['send'](_0x5c618c(0x2d9),{..._0x424999,'dateStr':_0x11fe8d});return;}lastUserActionTime=Date[_0x5c618c(0x18c)]();const _0x122ca1={..._0x424999,'dateStr':_0x11fe8d,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x122ca1),_0x38ceb5&&NotificationManager[_0x5c618c(0x241)](_0x38ceb5,_0x122ca1);}function toggleSessionStatus(){const _0x5d9840=a2_0xaab763;lastUserActionTime=Date[_0x5d9840(0x18c)]();const _0x4b0172=sessions['find'](_0x80bd0c=>_0x80bd0c['id']===editingId);if(!_0x4b0172)return;const _0x2781dd=_0x4b0172[_0x5d9840(0x2ac)]==='completed'?'planned':'completed';_0x4b0172[_0x5d9840(0x2ac)]=_0x2781dd,saveSingleSession(_0x4b0172),_0x2781dd===_0x5d9840(0x244)&&NotificationManager[_0x5d9840(0x241)](_0x5d9840(0x26e),_0x4b0172),showToast(_0x2781dd===_0x5d9840(0x244)?'–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞':_0x5d9840(0x215),!![]);}function validateAppointment(_0x50a18e,_0x1853a6,_0x226bda,_0x3e500e,_0x4a3072){const _0x1c3603=a2_0xaab763,[_0x1e693f,_0x6ff45f]=_0x1853a6[_0x1c3603(0x2eb)](':')[_0x1c3603(0x255)](Number),[_0x2b6492,_0x50a5d4]=_0x226bda['split'](':')[_0x1c3603(0x255)](Number),_0x37d481=_0x1e693f*0x3c+_0x6ff45f,_0x36d00b=_0x2b6492*0x3c+_0x50a5d4,_0x9d6b03=String(_0x4a3072);let _0x49b7d8=![],_0x3f8e7e='';for(let _0x2f845a of sessions){if(_0x2f845a[_0x1c3603(0x219)]!==_0x50a18e)continue;if(_0x2f845a[_0x1c3603(0x2ac)]===_0x1c3603(0x2b9))continue;if(_0x3e500e&&String(_0x2f845a['id'])===String(_0x3e500e))continue;const [_0x3a8cef,_0x76fb3a]=_0x2f845a[_0x1c3603(0x28a)][_0x1c3603(0x2eb)](':')[_0x1c3603(0x255)](Number),[_0x535a42,_0x3c72be]=_0x2f845a[_0x1c3603(0x209)][_0x1c3603(0x2eb)](':')[_0x1c3603(0x255)](Number),_0x143902=_0x3a8cef*0x3c+_0x76fb3a,_0x487c7d=_0x535a42*0x3c+_0x3c72be;if(Math[_0x1c3603(0x23c)](_0x37d481,_0x143902)<Math[_0x1c3603(0x216)](_0x36d00b,_0x487c7d)){if(_0x2f845a[_0x1c3603(0x1eb)]&&String(_0x2f845a[_0x1c3603(0x1eb)])===_0x9d6b03)return{'valid':![],'msg':_0x1c3603(0x1d8)+_0x2f845a['client']+_0x1c3603(0x18f)};_0x49b7d8=!![],_0x3f8e7e=_0x2f845a['client'];}}if(_0x49b7d8)return{'valid':!![],'warning':_0x1c3603(0x2a2)+_0x3f8e7e};return{'valid':!![]};}function saveSingleSession(_0x2b9c81){const _0x542c54=a2_0xaab763;if(editingId){const _0x2d796f=sessions[_0x542c54(0x2cd)](_0x24f9b2=>_0x24f9b2['id']===editingId);if(_0x2d796f!==-0x1)sessions[_0x2d796f]=_0x2b9c81;}else sessions[_0x542c54(0x18e)](_0x2b9c81);afterSaveAction([_0x2b9c81[_0x542c54(0x219)]]);}function createBatchSeries(_0x1a93d2,_0x54d68e,_0x43b8fd){const _0x428922=a2_0xaab763,_0x494e49=generateId(),_0x409d6b=[],_0x42436e=[];let _0x57cdc1=0x0,_0x29f1a1=new Date(_0x54d68e);for(let _0x3c1b03=0x0;_0x3c1b03<_0x43b8fd;_0x3c1b03++){const _0x2b537f=getLocalDateStr(_0x29f1a1),_0x561abd=validateAppointment(_0x2b537f,_0x1a93d2[_0x428922(0x28a)],_0x1a93d2['end'],null,_0x1a93d2[_0x428922(0x1eb)]);if(!_0x561abd[_0x428922(0x2c5)])console['log'](_0x428922(0x2d8)+_0x2b537f+_0x428922(0x2dc)),_0x57cdc1++;else{const _0x11a351={..._0x1a93d2,'id':generateId(),'dateStr':_0x2b537f,'seriesId':_0x494e49};_0x42436e[_0x428922(0x18e)](_0x11a351),_0x409d6b[_0x428922(0x18e)](_0x2b537f);}_0x29f1a1['setDate'](_0x29f1a1['getDate']()+0x7);}if(_0x42436e[_0x428922(0x272)]===0x0){showToast(_0x428922(0x21d),![]);return;}sessions[_0x428922(0x18e)](..._0x42436e),lastUserActionTime=Date['now']();let _0x1be995='–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20'+_0x42436e[_0x428922(0x272)];_0x57cdc1>0x0&&(_0x1be995+=_0x428922(0x2ca)+_0x57cdc1+')'),showToast(_0x1be995,!![]),afterSaveAction(_0x409d6b);}function updateSeriesBatch(_0x25536e,_0x5e92da){const _0x3dc6ae=a2_0xaab763,_0x4447bb=[],_0x3521de=_0x5e92da[_0x3dc6ae(0x187)];if(_0x25536e==='single'){const _0x34ff29={..._0x5e92da,'seriesId':null},_0x2b5628=sessions[_0x3dc6ae(0x2cd)](_0x97e7cd=>_0x97e7cd['id']===_0x5e92da['id']);if(_0x2b5628!==-0x1)sessions[_0x2b5628]=_0x34ff29;_0x4447bb[_0x3dc6ae(0x18e)](_0x34ff29[_0x3dc6ae(0x219)]);}else{if(_0x25536e===_0x3dc6ae(0x201)){const _0x2ee1aa=_0x5e92da[_0x3dc6ae(0x219)];sessions[_0x3dc6ae(0x1b5)]((_0xa6bd6f,_0x3098de)=>{const _0x1c9264=_0x3dc6ae;_0xa6bd6f[_0x1c9264(0x187)]===_0x3521de&&_0xa6bd6f[_0x1c9264(0x219)]>=_0x2ee1aa&&(sessions[_0x3098de]={...sessions[_0x3098de],'start':_0x5e92da[_0x1c9264(0x28a)],'end':_0x5e92da['end'],'note':_0x5e92da[_0x1c9264(0x225)],'client':_0x5e92da[_0x1c9264(0x247)],'clientId':_0x5e92da[_0x1c9264(0x1eb)]},_0x4447bb[_0x1c9264(0x18e)](_0xa6bd6f[_0x1c9264(0x219)]));});}}afterSaveAction(_0x4447bb);}function tryDeleteSession(){const _0x369601=a2_0xaab763,_0x2c445b=sessions[_0x369601(0x171)](_0x498012=>_0x498012['id']===editingId);if(!_0x2c445b)return;_0x2c445b[_0x369601(0x187)]?openActionSheet(_0x369601(0x251)):commitDelete('single',_0x2c445b);}function commitDelete(_0x5dc25e,_0x22317f){const _0x26508f=a2_0xaab763;lastUserActionTime=Date[_0x26508f(0x18c)](),NotificationManager[_0x26508f(0x241)](_0x26508f(0x190),_0x22317f);const _0x38053a=[];if(_0x5dc25e===_0x26508f(0x2b2))sessions=sessions[_0x26508f(0x29f)](_0x38a235=>_0x38a235['id']!==_0x22317f['id']),_0x38053a['push'](_0x22317f['dateStr']);else{if(_0x5dc25e===_0x26508f(0x201)){const _0x5ab2e0=_0x22317f[_0x26508f(0x219)],_0x2bdf6a=_0x22317f[_0x26508f(0x187)];sessions[_0x26508f(0x1b5)](_0x5e9523=>{const _0x1608c4=_0x26508f;_0x5e9523[_0x1608c4(0x187)]===_0x2bdf6a&&_0x5e9523[_0x1608c4(0x219)]>=_0x5ab2e0&&_0x38053a[_0x1608c4(0x18e)](_0x5e9523[_0x1608c4(0x219)]);}),sessions=sessions[_0x26508f(0x29f)](_0x1bf563=>!(_0x1bf563[_0x26508f(0x187)]===_0x2bdf6a&&_0x1bf563[_0x26508f(0x219)]>=_0x5ab2e0));}}afterSaveAction(_0x38053a);}function a2_0x8074(_0x3ff9f6,_0x8bfaba){_0x3ff9f6=_0x3ff9f6-0x16b;const _0x1248bc=a2_0x9ccb();let _0x550e40=_0x1248bc[_0x3ff9f6];return _0x550e40;}function afterSaveAction(_0x340598){const _0x5481cb=a2_0xaab763;DataManager[_0x5481cb(0x1ed)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x5481cb(0x176)](_0x340598)[_0x5481cb(0x1f9)](()=>console[_0x5481cb(0x254)]('Batch\x20Sync\x20OK'))['catch'](_0x4056e1=>showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ',![]));}const NotificationManager={'formatDate'(_0x34b0ee){const _0xf1d4da=a2_0xaab763,_0x3ccfab=new Date(_0x34b0ee),_0x4621f6={'weekday':_0xf1d4da(0x239),'day':_0xf1d4da(0x2de),'month':_0xf1d4da(0x239)};let _0x32f34a=_0x3ccfab[_0xf1d4da(0x1c7)](_0xf1d4da(0x180),_0x4621f6);return _0x32f34a[_0xf1d4da(0x26c)](0x0)[_0xf1d4da(0x268)]()+_0x32f34a[_0xf1d4da(0x20e)](0x1);},'getText'(_0x2ce8d6,_0x1085d4){const _0xfa45d9=a2_0xaab763,_0x552b65=this[_0xfa45d9(0x1aa)](_0x1085d4[_0xfa45d9(0x219)]);switch(_0x2ce8d6){case _0xfa45d9(0x2d9):return'<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a'+(_0xfa45d9(0x1d7)+_0x552b65+'\x0a')+(_0xfa45d9(0x2b3)+_0x1085d4[_0xfa45d9(0x28a)]+'\x20‚Äî\x20'+_0x1085d4[_0xfa45d9(0x209)]+'\x0a\x0a')+_0xfa45d9(0x1d9);case _0xfa45d9(0x273):return'<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a'+_0xfa45d9(0x296)+(_0xfa45d9(0x2be)+_0x1085d4[_0xfa45d9(0x28a)]+_0xfa45d9(0x249)+_0x1085d4[_0xfa45d9(0x209)]+_0xfa45d9(0x1c4))+(_0xfa45d9(0x1d7)+_0x552b65);case _0xfa45d9(0x190):return _0xfa45d9(0x284)+('–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>'+_0x552b65+'\x20('+_0x1085d4[_0xfa45d9(0x28a)]+')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.');case _0xfa45d9(0x26e):return _0xfa45d9(0x1e0)+'–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a'+_0xfa45d9(0x1b0);default:return'';}},async 'send'(_0x250560,_0x136807){const _0x2a890a=a2_0xaab763;console[_0x2a890a(0x254)]('[Notify]\x20Attempting\x20to\x20send:',_0x250560,_0x136807);if(!_0x136807){console['error'](_0x2a890a(0x1cd));return;}const _0x47ddb3=String(_0x136807['clientId']);console['log'](_0x2a890a(0x2a1),_0x47ddb3);if(!_0x136807[_0x2a890a(0x1eb)]||_0x47ddb3===_0x2a890a(0x293)||_0x47ddb3===_0x2a890a(0x2c6)){console[_0x2a890a(0x258)](_0x2a890a(0x212));if(_0x136807['client']){const _0x31004b=clients[_0x2a890a(0x171)](_0x4f0d89=>_0x4f0d89['name']===_0x136807[_0x2a890a(0x247)]);if(_0x31004b)return console[_0x2a890a(0x254)]('[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:',_0x31004b['id']),this[_0x2a890a(0x241)](_0x250560,{..._0x136807,'clientId':_0x31004b['id']});}return;}if(_0x47ddb3[_0x2a890a(0x272)]<0x5){console[_0x2a890a(0x1f0)](_0x2a890a(0x2e7),_0x47ddb3);return;}const _0x278f2a=this[_0x2a890a(0x279)](_0x250560,_0x136807);if(!_0x278f2a){console[_0x2a890a(0x258)](_0x2a890a(0x1c8));return;}console['log']('[Notify]\x20Sending\x20to\x20GAS\x20for\x20'+_0x47ddb3+_0x2a890a(0x1e4)),DataManager[_0x2a890a(0x1de)](_0x2a890a(0x174),{'chatId':_0x47ddb3,'text':_0x278f2a})[_0x2a890a(0x1f9)](_0x5c7d54=>console[_0x2a890a(0x254)](_0x2a890a(0x19a),_0x5c7d54))[_0x2a890a(0x207)](_0x4d4657=>console[_0x2a890a(0x258)]('[Notify]\x20Network\x20Failed',_0x4d4657));}};function getLocalDateStr(_0x45c9dd){const _0x46f4e1=a2_0xaab763,_0x41d6d7=_0x45c9dd['getFullYear'](),_0x5634ed=String(_0x45c9dd['getMonth']()+0x1)[_0x46f4e1(0x1c0)](0x2,'0'),_0x548681=String(_0x45c9dd[_0x46f4e1(0x177)]())[_0x46f4e1(0x1c0)](0x2,'0');return _0x41d6d7+'-'+_0x5634ed+'-'+_0x548681;}function getDateStr(_0x5df290){const _0x45aa98=a2_0xaab763,_0x50ac5f=new Date();return _0x50ac5f[_0x45aa98(0x1ab)](_0x50ac5f[_0x45aa98(0x177)]()+_0x5df290),getLocalDateStr(_0x50ac5f);}function getStartOfWeek(_0xe6dc91){const _0x7a6f2c=a2_0xaab763,_0x23c708=new Date(_0xe6dc91),_0x9d745a=_0x23c708[_0x7a6f2c(0x1fc)](),_0x21c900=_0x23c708[_0x7a6f2c(0x177)]()-_0x9d745a+(_0x9d745a===0x0?-0x6:0x1);return _0x23c708[_0x7a6f2c(0x1ab)](_0x21c900),_0x23c708[_0x7a6f2c(0x231)](0x0,0x0,0x0,0x0),_0x23c708;}function hexToRgba(_0x490346,_0x382c8a){const _0xd09301=a2_0xaab763;if(!_0x490346)return _0xd09301(0x263);let _0x1df525=0x0,_0x155324=0x0,_0x2b27d1=0x0;if(_0x490346[_0xd09301(0x272)]===0x4)_0x1df525='0x'+_0x490346[0x1]+_0x490346[0x1],_0x155324='0x'+_0x490346[0x2]+_0x490346[0x2],_0x2b27d1='0x'+_0x490346[0x3]+_0x490346[0x3];else _0x490346['length']===0x7&&(_0x1df525='0x'+_0x490346[0x1]+_0x490346[0x2],_0x155324='0x'+_0x490346[0x3]+_0x490346[0x4],_0x2b27d1='0x'+_0x490346[0x5]+_0x490346[0x6]);return _0xd09301(0x277)+ +_0x1df525+',\x20'+ +_0x155324+',\x20'+ +_0x2b27d1+',\x20'+_0x382c8a+')';}function renderTimeColumn(){const _0x5f8815=a2_0xaab763,_0x2ab83e=document[_0x5f8815(0x27e)](_0x5f8815(0x2ec)),_0x48ba76=document[_0x5f8815(0x27e)](_0x5f8815(0x1a9));_0x2ab83e['innerHTML']='',_0x2ab83e[_0x5f8815(0x1c1)](_0x48ba76);for(let _0x1061e4=0x0;_0x1061e4<0x18;_0x1061e4++){const _0x280f5c=document[_0x5f8815(0x17b)](_0x5f8815(0x24f));_0x280f5c[_0x5f8815(0x2e1)]='time-label';if(_0x1061e4>0x0)_0x280f5c[_0x5f8815(0x25c)]=_0x5f8815(0x16b)+String(_0x1061e4)[_0x5f8815(0x1c0)](0x2,'0')+':00</span>';_0x2ab83e['appendChild'](_0x280f5c);}}function renderDayRange(_0x24a0c3,_0x2c1a0b){const _0x37282e=a2_0xaab763,_0x505c09=document['getElementById'](_0x37282e(0x262)),_0x27a3c6=document['getElementById'](_0x37282e(0x2a7)),_0x3737f1=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x5830ca=new Date();_0x5830ca[_0x37282e(0x231)](0x0,0x0,0x0,0x0);const _0x3a1152=getLocalDateStr(new Date());for(let _0x3ef8a9=_0x24a0c3;_0x3ef8a9<=_0x2c1a0b;_0x3ef8a9++){const _0x27cd36=new Date(_0x5830ca);_0x27cd36['setDate'](_0x27cd36['getDate']()+_0x3ef8a9);const _0x12db73=getLocalDateStr(_0x27cd36);let _0x315a29=_0x27cd36[_0x37282e(0x1fc)]()-0x1;if(_0x315a29===-0x1)_0x315a29=0x6;const _0xa6d4f4=_0x12db73===_0x3a1152,_0x1bb1e1=document['createElement'](_0x37282e(0x24f));_0x1bb1e1[_0x37282e(0x2e1)]=_0x37282e(0x1cf)+(_0xa6d4f4?_0x37282e(0x2c8):''),_0x1bb1e1['id']=_0x37282e(0x2d0)+_0x12db73,_0x1bb1e1[_0x37282e(0x2cb)](_0x37282e(0x222),_0x12db73),_0x1bb1e1['innerHTML']=_0x37282e(0x2e9)+_0x3737f1[_0x315a29]+_0x37282e(0x2b7)+_0x27cd36['getDate']()+_0x37282e(0x24b)+_0x12db73+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x1bb1e1[_0x37282e(0x23b)]=()=>openDayOptions(_0x12db73,_0x3737f1[_0x315a29]+'\x20'+_0x27cd36['getDate']()),_0x505c09[_0x37282e(0x1c1)](_0x1bb1e1);const _0xf4d131=document[_0x37282e(0x17b)](_0x37282e(0x24f));_0xf4d131[_0x37282e(0x2e1)]=_0x37282e(0x1fa)+(_0xa6d4f4?_0x37282e(0x2c8):''),_0xf4d131[_0x37282e(0x2cb)](_0x37282e(0x222),_0x12db73),_0xf4d131[_0x37282e(0x2cb)]('data-day-idx',_0x315a29),renderEventsForColumn(_0xf4d131,_0x12db73,_0x315a29),attachLongPressHandler(_0xf4d131,_0x27cd36),_0x27a3c6[_0x37282e(0x1c1)](_0xf4d131),updateDayStats(_0x12db73);}}function reRenderBlocks(){const _0x121a12=a2_0xaab763;document['querySelectorAll']('#gridColumns\x20.day-column')[_0x121a12(0x1b5)](_0x3a99b5=>{const _0x1da5e9=_0x121a12;_0x3a99b5[_0x1da5e9(0x1ec)](_0x1da5e9(0x210))['forEach'](_0x11cd7e=>_0x11cd7e['remove']());const _0x369447=_0x3a99b5[_0x1da5e9(0x1bf)](_0x1da5e9(0x222)),_0x1b700e=parseInt(_0x3a99b5[_0x1da5e9(0x1bf)](_0x1da5e9(0x191))),_0x21df4b=Math['round'](_0x3a99b5['offsetLeft']);(availabilityPattern[_0x1b700e]||[])[_0x1da5e9(0x1b5)](_0x38e7fb=>{const _0x2dafdc=_0x1da5e9,_0x4a24c9=document[_0x2dafdc(0x17b)]('div');_0x4a24c9[_0x2dafdc(0x2e1)]=_0x2dafdc(0x2c3);const _0x1423c5=_0x38e7fb*GRID_H;_0x4a24c9[_0x2dafdc(0x1b7)]['top']=_0x1423c5+'px',_0x4a24c9['style'][_0x2dafdc(0x271)]='-'+_0x21df4b+_0x2dafdc(0x200)+_0x1423c5+'px',_0x3a99b5[_0x2dafdc(0x1c1)](_0x4a24c9);});if(specialRanges&&specialRanges['length']>0x0){const _0x21a4a3=new Date(_0x369447+_0x1da5e9(0x1a8))[_0x1da5e9(0x2cc)](),_0x2c01b1=new Date(_0x369447+_0x1da5e9(0x252))[_0x1da5e9(0x2cc)]();specialRanges['forEach'](_0x44c22b=>{const _0x4e37d5=_0x1da5e9,_0x5c69d0=new Date(_0x44c22b[_0x4e37d5(0x28a)])['getTime'](),_0x5e12c1=new Date(_0x44c22b[_0x4e37d5(0x209)])[_0x4e37d5(0x2cc)](),_0x386bb0=Math[_0x4e37d5(0x23c)](_0x21a4a3,_0x5c69d0),_0x440bc7=Math[_0x4e37d5(0x216)](_0x2c01b1,_0x5e12c1);if(_0x386bb0<_0x440bc7){if(_0x386bb0<=_0x21a4a3&&_0x440bc7>=_0x2c01b1-0xea60){if(!_0x3a99b5[_0x4e37d5(0x19d)](_0x4e37d5(0x2d6))){const _0x540c0f=document[_0x4e37d5(0x17b)](_0x4e37d5(0x24f));_0x540c0f[_0x4e37d5(0x2e1)]=_0x4e37d5(0x2aa),_0x540c0f[_0x4e37d5(0x1b7)][_0x4e37d5(0x271)]='-'+_0x21df4b+_0x4e37d5(0x1a3),_0x3a99b5[_0x4e37d5(0x1c1)](_0x540c0f);}}else{const _0x261d5d=(_0x386bb0-_0x21a4a3)/0x36ee80*GRID_H,_0x13750f=(_0x440bc7-_0x386bb0)/0x36ee80*GRID_H,_0x1b75d4=document['createElement'](_0x4e37d5(0x24f));_0x1b75d4[_0x4e37d5(0x2e1)]=_0x4e37d5(0x2ba),_0x1b75d4[_0x4e37d5(0x1b7)][_0x4e37d5(0x20b)]=_0x261d5d+'px',_0x1b75d4['style'][_0x4e37d5(0x261)]=_0x13750f+'px',_0x1b75d4[_0x4e37d5(0x1b7)][_0x4e37d5(0x271)]='-'+_0x21df4b+'px\x20-'+_0x261d5d+'px',_0x3a99b5[_0x4e37d5(0x1c1)](_0x1b75d4);}}});}if(dateExceptions[_0x369447]===_0x1da5e9(0x233)){if(!_0x3a99b5[_0x1da5e9(0x19d)](_0x1da5e9(0x2d6))){const _0x1358e2=document[_0x1da5e9(0x17b)]('div');_0x1358e2[_0x1da5e9(0x2e1)]=_0x1da5e9(0x2aa),_0x1358e2[_0x1da5e9(0x1b7)]['backgroundPosition']='-'+_0x21df4b+_0x1da5e9(0x1a3),_0x3a99b5[_0x1da5e9(0x1c1)](_0x1358e2);}}renderEventsForColumn(_0x3a99b5,_0x369447,_0x1b700e),updateDayStats(_0x369447);});}function updateAllDayStats(){const _0xb839e6=a2_0xaab763;document[_0xb839e6(0x1ec)]('.day-col-header')['forEach'](_0x2230cd=>{const _0x39acc5=_0xb839e6;updateDayStats(_0x2230cd[_0x39acc5(0x1bf)]('data-date'));});}function updateDayStats(_0x2d55ef){const _0x1baba9=a2_0xaab763,_0x1b959f=document['getElementById'](_0x1baba9(0x2e0)+_0x2d55ef);if(!_0x1b959f)return;const _0x4e32da=new Date(_0x2d55ef);let _0x30f848=_0x4e32da['getDay']()-0x1;if(_0x30f848===-0x1)_0x30f848=0x6;if(dateExceptions[_0x2d55ef]===_0x1baba9(0x233)){_0x1b959f[_0x1baba9(0x1b7)]['display']=_0x1baba9(0x2d1);return;}const _0x161370=availabilityPattern[_0x30f848]||[],_0x523158=0x18-_0x161370[_0x1baba9(0x272)],_0x4573d5=_0x523158*0x3c,_0x5ede8c=sessions[_0x1baba9(0x29f)](_0x4b136c=>_0x4b136c['dateStr']===_0x2d55ef&&_0x4b136c[_0x1baba9(0x2ac)]!=='cancelled');if(_0x5ede8c[_0x1baba9(0x272)]===0x0){_0x1b959f[_0x1baba9(0x1b7)]['display']=_0x1baba9(0x2d1);return;}let _0x5daa62=_0x5ede8c[_0x1baba9(0x255)](_0x125133=>{const _0x5ab26c=_0x1baba9,[_0x575012,_0x1e1e0a]=_0x125133['start']['split'](':')[_0x5ab26c(0x255)](Number),[_0x276ef2,_0x450551]=_0x125133[_0x5ab26c(0x209)][_0x5ab26c(0x2eb)](':')[_0x5ab26c(0x255)](Number);return[_0x575012*0x3c+_0x1e1e0a,_0x276ef2*0x3c+_0x450551];});_0x5daa62[_0x1baba9(0x19f)]((_0x3bf75b,_0x368b1a)=>_0x3bf75b[0x0]-_0x368b1a[0x0]);let _0x295094=[];if(_0x5daa62[_0x1baba9(0x272)]>0x0){let _0x5a5c87=_0x5daa62[0x0];for(let _0x25ccf4=0x1;_0x25ccf4<_0x5daa62[_0x1baba9(0x272)];_0x25ccf4++){_0x5daa62[_0x25ccf4][0x0]<_0x5a5c87[0x1]?_0x5a5c87[0x1]=Math[_0x1baba9(0x23c)](_0x5a5c87[0x1],_0x5daa62[_0x25ccf4][0x1]):(_0x295094[_0x1baba9(0x18e)](_0x5a5c87),_0x5a5c87=_0x5daa62[_0x25ccf4]);}_0x295094[_0x1baba9(0x18e)](_0x5a5c87);}let _0x5837f5=0x0;_0x295094['forEach'](_0x57ad0a=>_0x5837f5+=_0x57ad0a[0x1]-_0x57ad0a[0x0]),_0x1b959f['style'][_0x1baba9(0x1bd)]=_0x1baba9(0x2db);const _0x7f8b24=_0x1b959f[_0x1baba9(0x19d)]('.dch-stats-fill');if(_0x4573d5===0x0){_0x7f8b24['style'][_0x1baba9(0x2b1)]=_0x1baba9(0x185),_0x7f8b24['style'][_0x1baba9(0x195)]='var(--acc-red)';return;}const _0x5a4f23=_0x5837f5/_0x4573d5*0x64;console[_0x1baba9(0x254)]('['+_0x2d55ef+']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20'+_0x523158+_0x1baba9(0x1a2)+_0x5837f5+_0x1baba9(0x1f1)+_0x5a4f23['toFixed'](0x1)+'%'),_0x5a4f23>0x64?(_0x7f8b24[_0x1baba9(0x1b7)][_0x1baba9(0x2b1)]=_0x1baba9(0x185),_0x7f8b24[_0x1baba9(0x1b7)]['background']='var(--acc-red)'):(_0x7f8b24['style'][_0x1baba9(0x2b1)]=_0x5a4f23+'%',_0x7f8b24[_0x1baba9(0x1b7)]['background']=_0x1baba9(0x1ea));}function renderEventsForColumn(_0x1aae74,_0x4e5417,_0x4c9657){const _0x7c0510=a2_0xaab763,_0x2308f9=sessions['filter'](_0x25a6ca=>_0x25a6ca[_0x7c0510(0x219)]===_0x4e5417),_0x1fe102=_0x2308f9['map'](_0xbb601c=>{const _0x211f09=_0x7c0510,[_0x3abe1f,_0x48f00e]=_0xbb601c[_0x211f09(0x28a)]['split'](':')[_0x211f09(0x255)](Number),[_0x5c56f4,_0x2018c3]=_0xbb601c[_0x211f09(0x209)][_0x211f09(0x2eb)](':')[_0x211f09(0x255)](Number);return{'data':_0xbb601c,'start':_0x3abe1f*0x3c+_0x48f00e,'end':_0x5c56f4*0x3c+_0x2018c3,'colIndex':0x0};});_0x1fe102['sort']((_0x21ea53,_0x15755a)=>{const _0x59eadc=_0x7c0510;if(_0x21ea53[_0x59eadc(0x28a)]!==_0x15755a[_0x59eadc(0x28a)])return _0x21ea53[_0x59eadc(0x28a)]-_0x15755a[_0x59eadc(0x28a)];return _0x15755a['end']-_0x15755a[_0x59eadc(0x28a)]-(_0x21ea53[_0x59eadc(0x209)]-_0x21ea53['start']);});const _0x3ea8a4=[];_0x1fe102[_0x7c0510(0x1b5)](_0x27c323=>{const _0x2bfac6=_0x7c0510;let _0x19ca39=![];for(let _0x569485=0x0;_0x569485<_0x3ea8a4['length'];_0x569485++){const _0x2b678e=_0x3ea8a4[_0x569485],_0x54b8ae=_0x2b678e[_0x2b678e['length']-0x1];if(_0x27c323[_0x2bfac6(0x28a)]>=_0x54b8ae[_0x2bfac6(0x209)]){_0x2b678e['push'](_0x27c323),_0x27c323[_0x2bfac6(0x27a)]=_0x569485,_0x19ca39=!![];break;}}!_0x19ca39&&(_0x3ea8a4[_0x2bfac6(0x18e)]([_0x27c323]),_0x27c323[_0x2bfac6(0x27a)]=_0x3ea8a4[_0x2bfac6(0x272)]-0x1);}),_0x1fe102[_0x7c0510(0x1b5)](_0x100fe7=>{const _0x10c7bd=_0x7c0510;let _0xb9a2b=0x0;_0x1fe102[_0x10c7bd(0x1b5)](_0x311c42=>{const _0x5ca97d=_0x10c7bd;if(Math['max'](_0x100fe7[_0x5ca97d(0x28a)],_0x311c42['start'])<Math[_0x5ca97d(0x216)](_0x100fe7['end'],_0x311c42[_0x5ca97d(0x209)])){if(_0x311c42['colIndex']>_0xb9a2b)_0xb9a2b=_0x311c42[_0x5ca97d(0x27a)];}});const _0x1bb033=_0xb9a2b+0x1,_0x1efb8d=0x64/_0x1bb033,_0x2612df=_0x100fe7['colIndex']*_0x1efb8d,_0x3a6b06=createEventEl(_0x100fe7[_0x10c7bd(0x1e6)]);_0x3a6b06['style'][_0x10c7bd(0x2b1)]=_0x10c7bd(0x206)+_0x1efb8d+_0x10c7bd(0x24c),_0x3a6b06[_0x10c7bd(0x1b7)][_0x10c7bd(0x1c3)]=_0x10c7bd(0x206)+_0x2612df+_0x10c7bd(0x297),_0x3a6b06[_0x10c7bd(0x1b7)][_0x10c7bd(0x17d)]=0xa+_0x100fe7[_0x10c7bd(0x27a)],_0x1efb8d<0x55&&_0x3a6b06[_0x10c7bd(0x2e8)][_0x10c7bd(0x27b)]('mini'),_0x1aae74[_0x10c7bd(0x1c1)](_0x3a6b06);});}function createEventEl(_0x7d4929){const _0x546567=a2_0xaab763,[_0x1a719a,_0xd47879]=_0x7d4929['start'][_0x546567(0x2eb)](':')[_0x546567(0x255)](Number),[_0x22fbd3,_0x849e66]=_0x7d4929[_0x546567(0x209)][_0x546567(0x2eb)](':')['map'](Number),_0x2360d1=(_0x1a719a*0x3c+_0xd47879)/0x3c*GRID_H,_0x1e9d4b=(_0x22fbd3*0x3c+_0x849e66-(_0x1a719a*0x3c+_0xd47879))/0x3c*GRID_H,_0x209a4e=document['createElement'](_0x546567(0x24f)),_0x49a1d8=_0x7d4929['status']===_0x546567(0x244)?_0x546567(0x179):'';_0x209a4e[_0x546567(0x2e1)]=_0x546567(0x197)+_0x49a1d8,_0x209a4e[_0x546567(0x1b7)][_0x546567(0x20b)]=_0x2360d1+'px',_0x209a4e[_0x546567(0x1b7)][_0x546567(0x261)]=Math[_0x546567(0x23c)](_0x1e9d4b,0x14)+'px';const _0x19de7f=clients[_0x546567(0x171)](_0x3ce026=>_0x7d4929[_0x546567(0x1eb)]&&String(_0x3ce026['id'])===String(_0x7d4929[_0x546567(0x1eb)])||_0x3ce026['name']===_0x7d4929[_0x546567(0x247)]),_0x5fada=_0x19de7f?_0x19de7f[_0x546567(0x223)]:_0x546567(0x20f);_0x209a4e[_0x546567(0x1b7)][_0x546567(0x2c0)]=_0x5fada,_0x209a4e[_0x546567(0x1b7)][_0x546567(0x1af)]=hexToRgba(_0x5fada,0.85);let _0x362fd2=_0x546567(0x218)+_0x7d4929[_0x546567(0x247)]+_0x546567(0x2b5)+_0x7d4929[_0x546567(0x28a)]+_0x546567(0x265)+_0x7d4929[_0x546567(0x209)]+'</div>';return _0x7d4929[_0x546567(0x187)]&&(_0x362fd2+=_0x546567(0x2c2)),_0x7d4929[_0x546567(0x2ac)]===_0x546567(0x244)&&(_0x362fd2+=_0x546567(0x25f)),_0x209a4e[_0x546567(0x25c)]=_0x362fd2,_0x209a4e[_0x546567(0x23b)]=_0x5caeaf=>{const _0x1b18b2=_0x546567;_0x5caeaf[_0x1b18b2(0x1ce)](),openEdit(_0x7d4929);},_0x209a4e;}function attachLongPressHandler(_0x52e358,_0x61a686){const _0x3a68a8=a2_0xaab763;let _0x1f8789=0x0,_0x457449=null;const _0x2491e5=_0x5b3c10=>{const _0x5131b2=a2_0x8074;if(_0x5b3c10['target'][_0x5131b2(0x1c2)](_0x5131b2(0x2af)))return;isScrolling=![],_0x1f8789=_0x5b3c10[_0x5131b2(0x221)]?_0x5b3c10[_0x5131b2(0x221)][0x0][_0x5131b2(0x250)]:_0x5b3c10[_0x5131b2(0x250)],_0x457449=setTimeout(()=>{const _0x2de746=_0x5131b2;if(!isScrolling){navigator[_0x2de746(0x27f)]?.(0x32);const _0x4494ad=_0x52e358[_0x2de746(0x299)](),_0x14a5be=Math[_0x2de746(0x2da)]((_0x1f8789-_0x4494ad['top'])/GRID_H);_0x61a686[_0x2de746(0x231)](_0x14a5be,0x0),openAddSession(_0x61a686);}},0x1f4);},_0x23c5ee=()=>{isScrolling=!![],clearTimeout(_0x457449);},_0x2ebd75=()=>{clearTimeout(_0x457449);};_0x52e358[_0x3a68a8(0x19c)]('touchstart',_0x2491e5,{'passive':!![]}),_0x52e358['addEventListener'](_0x3a68a8(0x1e7),_0x23c5ee,{'passive':!![]}),_0x52e358['addEventListener'](_0x3a68a8(0x257),_0x2ebd75),_0x52e358[_0x3a68a8(0x19c)](_0x3a68a8(0x1fd),_0x2491e5),_0x52e358[_0x3a68a8(0x19c)](_0x3a68a8(0x243),_0x23c5ee),_0x52e358[_0x3a68a8(0x19c)](_0x3a68a8(0x2bf),_0x2ebd75);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x5ed138=a2_0xaab763,_0x581809=document[_0x5ed138(0x27e)](_0x5ed138(0x17c)),_0x25aaa9=_0x581809[_0x5ed138(0x2df)],_0x94ecd8=_0x581809[_0x5ed138(0x238)],_0x3056ac=_0x581809[_0x5ed138(0x1d0)];if(_0x94ecd8-(_0x25aaa9+_0x3056ac)<0x12c){const _0x283f1e=endOffset;endOffset+=0xe,renderDayRange(_0x283f1e+0x1,endOffset),reRenderBlocks();}if(_0x25aaa9<0x12c){const _0x473f91=startOffset;startOffset-=0xe,prependDays(startOffset,_0x473f91-0x1),_0x581809[_0x5ed138(0x2df)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x1720fa,_0x355e28){const _0x2ecbc2=a2_0xaab763,_0x542ece=document['getElementById'](_0x2ecbc2(0x262)),_0x3d2607=document['getElementById'](_0x2ecbc2(0x2a7)),_0x14bf83=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0xa472dd=new Date();_0xa472dd[_0x2ecbc2(0x231)](0x0,0x0,0x0,0x0);const _0x3b9668=getLocalDateStr(new Date()),_0x3550ed=document[_0x2ecbc2(0x1d3)](),_0x4ac4e9=document[_0x2ecbc2(0x1d3)]();for(let _0x210586=_0x1720fa;_0x210586<=_0x355e28;_0x210586++){const _0x31593f=new Date(_0xa472dd);_0x31593f[_0x2ecbc2(0x1ab)](_0x31593f['getDate']()+_0x210586);const _0x5ce516=getLocalDateStr(_0x31593f);let _0x4cec03=_0x31593f[_0x2ecbc2(0x1fc)]()-0x1;if(_0x4cec03===-0x1)_0x4cec03=0x6;const _0x21cddc=_0x5ce516===_0x3b9668,_0x5e6336=document[_0x2ecbc2(0x17b)](_0x2ecbc2(0x24f));_0x5e6336['className']=_0x2ecbc2(0x1cf)+(_0x21cddc?_0x2ecbc2(0x2c8):''),_0x5e6336['id']=_0x2ecbc2(0x2d0)+_0x5ce516,_0x5e6336['setAttribute'](_0x2ecbc2(0x222),_0x5ce516),_0x5e6336[_0x2ecbc2(0x25c)]='<div\x20class=\x22dch-day\x22>'+_0x14bf83[_0x4cec03]+_0x2ecbc2(0x2b7)+_0x31593f[_0x2ecbc2(0x177)]()+_0x2ecbc2(0x24b)+_0x5ce516+_0x2ecbc2(0x2a5),_0x5e6336[_0x2ecbc2(0x23b)]=()=>openDayOptions(_0x5ce516,_0x14bf83[_0x4cec03]+'\x20'+_0x31593f[_0x2ecbc2(0x177)]()),_0x3550ed[_0x2ecbc2(0x1c1)](_0x5e6336);const _0x26fa15=document[_0x2ecbc2(0x17b)](_0x2ecbc2(0x24f));_0x26fa15['className']=_0x2ecbc2(0x1fa)+(_0x21cddc?_0x2ecbc2(0x2c8):''),_0x26fa15[_0x2ecbc2(0x2cb)](_0x2ecbc2(0x222),_0x5ce516),_0x26fa15['setAttribute']('data-day-idx',_0x4cec03),renderEventsForColumn(_0x26fa15,_0x5ce516,_0x4cec03),attachLongPressHandler(_0x26fa15,_0x31593f),_0x4ac4e9[_0x2ecbc2(0x1c1)](_0x26fa15),updateDayStats(_0x5ce516);}_0x542ece[_0x2ecbc2(0x2c7)](_0x3550ed,_0x542ece[_0x2ecbc2(0x196)]),_0x3d2607[_0x2ecbc2(0x2c7)](_0x4ac4e9,_0x3d2607[_0x2ecbc2(0x19d)](_0x2ecbc2(0x17e)));}function validateAppointment(_0x2ab0f1,_0x2404db,_0x1c7dc7,_0x2640e0,_0x42a498){const _0x51870a=a2_0xaab763,[_0x3ef097,_0xe65e64]=_0x2404db['split'](':')[_0x51870a(0x255)](Number),[_0x26b010,_0x2b83d7]=_0x1c7dc7[_0x51870a(0x2eb)](':')['map'](Number),_0x550294=_0x3ef097*0x3c+_0xe65e64,_0x18f7a7=_0x26b010*0x3c+_0x2b83d7,_0x401d1d=String(_0x42a498);let _0x27e1af=![],_0x356356='';for(let _0x4da8f6 of sessions){if(_0x4da8f6['dateStr']!==_0x2ab0f1)continue;if(_0x4da8f6[_0x51870a(0x2ac)]==='cancelled')continue;if(_0x2640e0&&String(_0x4da8f6['id'])===String(_0x2640e0))continue;const [_0x41ede3,_0x576f47]=_0x4da8f6['start'][_0x51870a(0x2eb)](':')[_0x51870a(0x255)](Number),[_0x9cb08,_0x43719c]=_0x4da8f6['end'][_0x51870a(0x2eb)](':')['map'](Number),_0x14e80c=_0x41ede3*0x3c+_0x576f47,_0x5da95a=_0x9cb08*0x3c+_0x43719c;if(Math[_0x51870a(0x23c)](_0x550294,_0x14e80c)<Math[_0x51870a(0x216)](_0x18f7a7,_0x5da95a)){if(_0x4da8f6[_0x51870a(0x1eb)]&&String(_0x4da8f6[_0x51870a(0x1eb)])===_0x401d1d)return{'valid':![],'msg':_0x51870a(0x1d8)+_0x4da8f6['client']+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x27e1af=!![],_0x356356=_0x4da8f6[_0x51870a(0x247)];}}if(_0x27e1af)return{'valid':!![],'warning':'–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20'+_0x356356};return{'valid':!![]};}function updateDateDisplay(){const _0x2c3573=a2_0xaab763,_0x10b970=document['getElementById'](_0x2c3573(0x2e6))[_0x2c3573(0x1f3)],_0x1a7a8b=document[_0x2c3573(0x27e)]('sheetDateSubtitle');if(!_0x10b970){_0x1a7a8b[_0x2c3573(0x23e)]='';return;}const [_0x2ddff5,_0x94bde9,_0x199ba2]=_0x10b970[_0x2c3573(0x2eb)]('-')[_0x2c3573(0x255)](Number),_0x55efca=new Date(_0x2ddff5,_0x94bde9-0x1,_0x199ba2),_0x226b5e={'weekday':'long','day':_0x2c3573(0x2de),'month':_0x2c3573(0x239),'year':_0x2c3573(0x2de)};let _0x5dcd17=_0x55efca['toLocaleDateString'](_0x2c3573(0x180),_0x226b5e);_0x5dcd17=_0x5dcd17['charAt'](0x0)['toUpperCase']()+_0x5dcd17['slice'](0x1),_0x1a7a8b[_0x2c3573(0x23e)]=_0x5dcd17;}function autoSetEndTime(){const _0x51ea0d=a2_0xaab763,_0x2aed5a=document[_0x51ea0d(0x27e)](_0x51ea0d(0x17a))['value'];if(!_0x2aed5a)return;const [_0x20956c,_0x27d60a]=_0x2aed5a[_0x51ea0d(0x2eb)](':')[_0x51ea0d(0x255)](Number);let _0x408307=_0x20956c+0x1;if(_0x408307>0x17)_0x408307=0x0;const _0x1eb5fe=String(_0x408307)[_0x51ea0d(0x1c0)](0x2,'0')+':'+String(_0x27d60a)['padStart'](0x2,'0');document[_0x51ea0d(0x27e)](_0x51ea0d(0x202))[_0x51ea0d(0x1f3)]=_0x1eb5fe;}function populateClientSelect(){const _0x2c22c6=a2_0xaab763,_0x50e4de=document[_0x2c22c6(0x27e)](_0x2c22c6(0x269));_0x50e4de['innerHTML']='';if(clients[_0x2c22c6(0x272)]===0x0){const _0x1c03ad=document[_0x2c22c6(0x17b)]('option');_0x1c03ad[_0x2c22c6(0x26d)]=_0x2c22c6(0x280),_0x50e4de[_0x2c22c6(0x1c1)](_0x1c03ad);return;}clients[_0x2c22c6(0x1b5)](_0x41ecbb=>{const _0x8cdbe5=_0x2c22c6,_0x34468c=document[_0x8cdbe5(0x17b)](_0x8cdbe5(0x20c));_0x34468c[_0x8cdbe5(0x1f3)]=_0x41ecbb['name'],_0x34468c[_0x8cdbe5(0x23e)]=_0x41ecbb[_0x8cdbe5(0x192)],_0x50e4de[_0x8cdbe5(0x1c1)](_0x34468c);});}function openActionSheet(_0x14d74a){const _0x1948ba=a2_0xaab763,_0x173f53=document[_0x1948ba(0x27e)](_0x1948ba(0x213)),_0x3e6e4e=document[_0x1948ba(0x27e)](_0x1948ba(0x248)),_0x37f5eb=document[_0x1948ba(0x27e)](_0x1948ba(0x292)),_0x476e2b=document[_0x1948ba(0x27e)]('asBtnOne'),_0x174f82=document[_0x1948ba(0x27e)](_0x1948ba(0x2b8));_0x3e6e4e[_0x1948ba(0x2e8)]['add'](_0x1948ba(0x1bc)),_0x173f53['classList'][_0x1948ba(0x27b)]('open');if(_0x14d74a==='save')_0x37f5eb[_0x1948ba(0x23e)]='–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏',_0x476e2b['textContent']=_0x1948ba(0x1ad),_0x476e2b[_0x1948ba(0x23b)]=()=>{const _0x4e48ef=_0x1948ba;closeActionSheet(),updateSeriesBatch(_0x4e48ef(0x2b2),tempSessionData);},_0x174f82[_0x1948ba(0x23e)]=_0x1948ba(0x242),_0x174f82[_0x1948ba(0x23b)]=()=>{closeActionSheet(),updateSeriesBatch('series',tempSessionData);};else _0x14d74a===_0x1948ba(0x251)&&(_0x37f5eb[_0x1948ba(0x23e)]=_0x1948ba(0x283),_0x476e2b[_0x1948ba(0x23e)]=_0x1948ba(0x1ad),_0x476e2b[_0x1948ba(0x2e1)]=_0x1948ba(0x22e),_0x476e2b[_0x1948ba(0x23b)]=()=>{const _0x43e41d=_0x1948ba;closeActionSheet(),commitDelete(_0x43e41d(0x2b2),sessions[_0x43e41d(0x171)](_0x270e6d=>_0x270e6d['id']===editingId));},_0x174f82[_0x1948ba(0x23e)]=_0x1948ba(0x242),_0x174f82[_0x1948ba(0x2e1)]=_0x1948ba(0x2dd),_0x174f82[_0x1948ba(0x23b)]=()=>{const _0x2161f6=_0x1948ba;closeActionSheet(),commitDelete('series',sessions[_0x2161f6(0x171)](_0x356feb=>_0x356feb['id']===editingId));});}function closeActionSheet(){const _0x498264=a2_0xaab763;document[_0x498264(0x27e)](_0x498264(0x213))[_0x498264(0x2e8)][_0x498264(0x1c6)](_0x498264(0x16f)),document[_0x498264(0x27e)](_0x498264(0x248))[_0x498264(0x2e8)][_0x498264(0x1c6)](_0x498264(0x1bc));}function openSettings(){const _0x33f227=a2_0xaab763;openSheet(_0x33f227(0x26b));}function saveCoachSettings(){const _0x53a672=a2_0xaab763,_0x3eefce=document['getElementById'](_0x53a672(0x29c))[_0x53a672(0x1f3)];localStorage['setItem'](_0x53a672(0x21b),_0x3eefce),console[_0x53a672(0x254)](_0x53a672(0x267),_0x3eefce),DataManager['fetchFromServer']('save_settings',{'settings':{'cancel_window':_0x3eefce}})[_0x53a672(0x207)](_0x4c4d64=>{const _0x4c12a1=_0x53a672;console[_0x4c12a1(0x258)](_0x4c12a1(0x1fb),_0x4c4d64),showToast(_0x4c12a1(0x2e5),![]);});}function loadCoachSettings(){const _0x9c70af=a2_0xaab763,_0x349508=localStorage['getItem'](_0x9c70af(0x21b));_0x349508&&(document[_0x9c70af(0x27e)](_0x9c70af(0x29c))['value']=_0x349508);}function openRangesSheet(){const _0x33bf9b=a2_0xaab763;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x33bf9b(0x2a9));}function addRange(){const _0x1dc659=a2_0xaab763,_0x49c9bd=document[_0x1dc659(0x27e)]('rangeStartDate')[_0x1dc659(0x1f3)],_0x2df7a0=document['getElementById'](_0x1dc659(0x298))[_0x1dc659(0x1f3)],_0x39a7aa=document[_0x1dc659(0x27e)]('rangeEndDate')[_0x1dc659(0x1f3)],_0x2e777e=document[_0x1dc659(0x27e)](_0x1dc659(0x253))['value'];if(!_0x49c9bd||!_0x2df7a0||!_0x39a7aa||!_0x2e777e)return alert(_0x1dc659(0x22b));const _0x1e669f=_0x49c9bd+'T'+_0x2df7a0,_0x3748ea=_0x39a7aa+'T'+_0x2e777e;if(_0x1e669f>=_0x3748ea)return alert('–û—à–∏–±–∫–∞\x20–¥–∞—Ç');specialRanges[_0x1dc659(0x18e)]({'start':_0x1e669f,'end':_0x3748ea}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x1dc659(0x1ed)](),DataManager[_0x1dc659(0x1de)](_0x1dc659(0x25d),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x4be20f){const _0x579a50=a2_0xaab763;specialRanges['splice'](_0x4be20f,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x579a50(0x1ed)](),DataManager[_0x579a50(0x1de)](_0x579a50(0x25d),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x25f537=a2_0xaab763;document[_0x25f537(0x27e)](_0x25f537(0x2b6))[_0x25f537(0x1f3)]='',document[_0x25f537(0x27e)]('rangeStartTime')[_0x25f537(0x1f3)]=_0x25f537(0x26f),document[_0x25f537(0x27e)](_0x25f537(0x1e9))[_0x25f537(0x1f3)]='',document[_0x25f537(0x27e)](_0x25f537(0x253))['value']='23:59';}function renderRangesList(){const _0x5f4771=a2_0xaab763,_0x538925=document[_0x5f4771(0x27e)](_0x5f4771(0x172));_0x538925['innerHTML']='';if(!specialRanges['length']){_0x538925[_0x5f4771(0x25c)]=_0x5f4771(0x240);return;}specialRanges[_0x5f4771(0x1b5)]((_0x2cf776,_0x400ff6)=>{const _0x16f569=_0x5f4771,_0x4d5ddd=document['createElement'](_0x16f569(0x24f));_0x4d5ddd[_0x16f569(0x2e1)]=_0x16f569(0x274);const _0x1d86cb=_0x97ee75=>{const _0x5a436d=_0x16f569,_0x538e93=new Date(_0x97ee75);return _0x538e93[_0x5a436d(0x177)]()+'.'+String(_0x538e93[_0x5a436d(0x16c)]()+0x1)[_0x5a436d(0x1c0)](0x2,'0')+'\x20'+String(_0x538e93[_0x5a436d(0x1e3)]())[_0x5a436d(0x1c0)](0x2,'0')+':'+String(_0x538e93[_0x5a436d(0x1f8)]())['padStart'](0x2,'0');};_0x4d5ddd[_0x16f569(0x25c)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>'+_0x1d86cb(_0x2cf776[_0x16f569(0x28a)])+_0x16f569(0x249)+_0x1d86cb(_0x2cf776['end'])+_0x16f569(0x2ab)+_0x400ff6+')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>',_0x538925['appendChild'](_0x4d5ddd);});}function scrollToToday(){const _0x32afa5=a2_0xaab763,_0x5823b3=getLocalDateStr(new Date()),_0xd76a0b=document['getElementById'](_0x32afa5(0x2d0)+_0x5823b3),_0x2fd77e=document['getElementById'](_0x32afa5(0x17c));if(_0xd76a0b&&_0x2fd77e){const _0x1ec200=_0x2fd77e['clientWidth'],_0x18c940=_0xd76a0b[_0x32afa5(0x29e)],_0x383e0f=_0xd76a0b[_0x32afa5(0x2bd)];_0x2fd77e[_0x32afa5(0x2df)]=_0x18c940-_0x1ec200/0x2+_0x383e0f/0x2,_0x2fd77e[_0x32afa5(0x237)]=0x9*GRID_H;}}function onScroll(){const _0x4e6d3b=a2_0xaab763,_0x1b4d56=document[_0x4e6d3b(0x27e)](_0x4e6d3b(0x17c)),_0x4a056d=document[_0x4e6d3b(0x1ec)](_0x4e6d3b(0x1b1));for(let _0x23bf2f of _0x4a056d)if(_0x23bf2f[_0x4e6d3b(0x29e)]>=_0x1b4d56[_0x4e6d3b(0x2df)]){const _0x330c1b=new Date(_0x23bf2f[_0x4e6d3b(0x1bf)](_0x4e6d3b(0x222)));document['getElementById']('headerMonth')[_0x4e6d3b(0x23e)]=_0x330c1b[_0x4e6d3b(0x227)]('ru',{'month':_0x4e6d3b(0x239)})[_0x4e6d3b(0x268)]()+'\x20'+_0x330c1b['getFullYear']();break;}}function showToast(_0xc675c1,_0x44801d=![]){const _0x5eefc2=a2_0xaab763,_0x34fba7=document[_0x5eefc2(0x27e)](_0x5eefc2(0x2d7));_0x34fba7['className']='toast-notification\x20'+(_0x44801d?_0x5eefc2(0x1e1):''),document[_0x5eefc2(0x27e)](_0x5eefc2(0x16e))[_0x5eefc2(0x23e)]=_0x44801d?_0x5eefc2(0x28c):'–ò–Ω—Ñ–æ',document[_0x5eefc2(0x27e)](_0x5eefc2(0x24a))['textContent']=_0xc675c1,_0x34fba7[_0x5eefc2(0x2e8)][_0x5eefc2(0x27b)](_0x5eefc2(0x24d)),setTimeout(()=>{const _0x552d8e=_0x5eefc2;_0x34fba7['classList']['remove'](_0x552d8e(0x24d));},0xbb8);}function openDayOptions(_0x518137,_0x4e9351){const _0x4d18be=a2_0xaab763;selectedDayForOptions=_0x518137,document[_0x4d18be(0x27e)](_0x4d18be(0x1ca))[_0x4d18be(0x23e)]=_0x4e9351,openSheet(_0x4d18be(0x2ad));}function toggleDayOff(){const _0xbfc6c7=a2_0xaab763;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0xbfc6c7(0x233),reRenderBlocks(),closeAllSheets(),DataManager[_0xbfc6c7(0x1ed)](),DataManager[_0xbfc6c7(0x1de)](_0xbfc6c7(0x25d),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x24a0f0=a2_0xaab763;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x24a0f0(0x1ed)](),DataManager['fetchFromServer'](_0x24a0f0(0x25d),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x34b278){const _0x74ef42=a2_0xaab763;document[_0x74ef42(0x27e)]('overlay')['classList'][_0x74ef42(0x27b)]('active'),document[_0x74ef42(0x27e)](_0x34b278)[_0x74ef42(0x2e8)]['add']('open');}function closeAllSheets(){const _0x5f8bd0=a2_0xaab763;document[_0x5f8bd0(0x27e)]('overlay')['classList'][_0x5f8bd0(0x1c6)](_0x5f8bd0(0x1bc)),document[_0x5f8bd0(0x1ec)](_0x5f8bd0(0x29d))['forEach'](_0x8c0e37=>_0x8c0e37['classList'][_0x5f8bd0(0x1c6)]('open'));}function openPatternEditor(){const _0x16ffcb=a2_0xaab763;closeAllSheets(),document[_0x16ffcb(0x27e)](_0x16ffcb(0x22a))['classList'][_0x16ffcb(0x27b)](_0x16ffcb(0x16f)),renderPatternEditor();}function closePatternEditor(){const _0x1281a3=a2_0xaab763;document[_0x1281a3(0x27e)](_0x1281a3(0x22a))['classList'][_0x1281a3(0x1c6)](_0x1281a3(0x16f));}function savePattern(){const _0x22ec7d=a2_0xaab763;document[_0x22ec7d(0x27e)](_0x22ec7d(0x22a))['classList'][_0x22ec7d(0x1c6)](_0x22ec7d(0x16f)),reRenderBlocks(),DataManager[_0x22ec7d(0x1ed)](),DataManager[_0x22ec7d(0x1de)](_0x22ec7d(0x25d),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x5ad9b4=a2_0xaab763,_0x4b28d1=document['getElementById'](_0x5ad9b4(0x204));_0x4b28d1[_0x5ad9b4(0x25c)]='';const _0x250132=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1b57e5=document[_0x5ad9b4(0x17b)](_0x5ad9b4(0x24f));_0x1b57e5[_0x5ad9b4(0x2e1)]=_0x5ad9b4(0x181),_0x4b28d1[_0x5ad9b4(0x1c1)](_0x1b57e5),_0x250132[_0x5ad9b4(0x1b5)]((_0x2f12da,_0x44b0a6)=>{const _0x19d8c1=_0x5ad9b4,_0x3eadc3=document[_0x19d8c1(0x17b)](_0x19d8c1(0x24f));_0x3eadc3['className']='pe-col-header',_0x3eadc3['innerHTML']=_0x2f12da+'\x20<span\x20class=\x22arrow\x22>‚Üì</span>',_0x3eadc3[_0x19d8c1(0x23b)]=()=>toggleColPattern(_0x44b0a6),_0x4b28d1['appendChild'](_0x3eadc3);});for(let _0x2f8d82=0x0;_0x2f8d82<0x18;_0x2f8d82++){const _0x4217c1=document[_0x5ad9b4(0x17b)](_0x5ad9b4(0x24f));_0x4217c1[_0x5ad9b4(0x2e1)]=_0x5ad9b4(0x20a),_0x4217c1['innerHTML']='<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>'+String(_0x2f8d82)[_0x5ad9b4(0x1c0)](0x2,'0')+_0x5ad9b4(0x1a0),_0x4217c1[_0x5ad9b4(0x23b)]=()=>toggleRowPattern(_0x2f8d82),_0x4b28d1[_0x5ad9b4(0x1c1)](_0x4217c1);for(let _0x4d5edd=0x0;_0x4d5edd<0x7;_0x4d5edd++){const _0x3152cb=document[_0x5ad9b4(0x17b)](_0x5ad9b4(0x24f)),_0x4e401a=(availabilityPattern[_0x4d5edd]||[])[_0x5ad9b4(0x21e)](_0x2f8d82),_0x196695=!_0x4e401a;_0x3152cb[_0x5ad9b4(0x2e1)]='pe-cell\x20'+(_0x196695?_0x5ad9b4(0x1bc):''),_0x3152cb[_0x5ad9b4(0x23b)]=()=>toggleSinglePattern(_0x4d5edd,_0x2f8d82),_0x4b28d1[_0x5ad9b4(0x1c1)](_0x3152cb);}}}function toggleSinglePattern(_0x415768,_0x2b7ff5){const _0x2fbc51=a2_0xaab763;if(!availabilityPattern[_0x415768])availabilityPattern[_0x415768]=[];const _0x279268=availabilityPattern[_0x415768],_0x375bf1=_0x279268[_0x2fbc51(0x170)](_0x2b7ff5);_0x375bf1===-0x1?_0x279268['push'](_0x2b7ff5):_0x279268[_0x2fbc51(0x1b4)](_0x375bf1,0x1),renderPatternEditor();}function toggleColPattern(_0x46d724){const _0x3eec8e=a2_0xaab763;if(!availabilityPattern[_0x46d724])availabilityPattern[_0x46d724]=[];const _0x1d067d=availabilityPattern[_0x46d724];_0x1d067d[_0x3eec8e(0x272)]===0x0?availabilityPattern[_0x46d724]=Array[_0x3eec8e(0x229)]({'length':0x18},(_0x170ddf,_0x24d63a)=>_0x24d63a):availabilityPattern[_0x46d724]=[],renderPatternEditor();}function toggleRowPattern(_0x186391){const _0x517789=a2_0xaab763;let _0x11951a=!![];for(let _0x458175=0x0;_0x458175<0x7;_0x458175++){if((availabilityPattern[_0x458175]||[])['includes'](_0x186391)){_0x11951a=![];break;}}for(let _0x234836=0x0;_0x234836<0x7;_0x234836++){if(!availabilityPattern[_0x234836])availabilityPattern[_0x234836]=[];const _0x40b690=availabilityPattern[_0x234836][_0x517789(0x170)](_0x186391);if(_0x11951a){if(_0x40b690===-0x1)availabilityPattern[_0x234836][_0x517789(0x18e)](_0x186391);}else{if(_0x40b690!==-0x1)availabilityPattern[_0x234836][_0x517789(0x1b4)](_0x40b690,0x1);}}renderPatternEditor();}function renderPCol(_0x34233a,_0x5a3a9d){const _0x97f155=a2_0xaab763;_0x34233a['innerHTML']='';const _0x16a5ff=Math['round'](_0x34233a[_0x97f155(0x29e)]);(availabilityPattern[_0x5a3a9d]||[])[_0x97f155(0x1b5)](_0x2cd3d6=>{const _0x560d1a=_0x97f155,_0xeacfa6=document[_0x560d1a(0x17b)]('div');_0xeacfa6[_0x560d1a(0x2e1)]=_0x560d1a(0x2c3);const _0x12a62b=_0x2cd3d6*GRID_H;_0xeacfa6[_0x560d1a(0x1b7)][_0x560d1a(0x20b)]=_0x12a62b+'px',_0xeacfa6['style']['backgroundPosition']='-'+_0x16a5ff+_0x560d1a(0x200)+_0x12a62b+'px',_0xeacfa6[_0x560d1a(0x23b)]=_0x4dd337=>{const _0x5f0dc5=_0x560d1a;_0x4dd337[_0x5f0dc5(0x1ce)](),toggleSinglePattern(_0x5a3a9d,_0x2cd3d6);},_0x34233a[_0x560d1a(0x1c1)](_0xeacfa6);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x5af8f7=a2_0xaab763,_0x593d6b=new Date(),_0x489271=document['getElementById'](_0x5af8f7(0x2d4)),_0x59784d=document[_0x5af8f7(0x27e)](_0x5af8f7(0x1a9)),_0x238979=(_0x593d6b[_0x5af8f7(0x1e3)]()*0x3c+_0x593d6b[_0x5af8f7(0x1f8)]())/0x3c*GRID_H;_0x489271[_0x5af8f7(0x1b7)][_0x5af8f7(0x20b)]=_0x238979+'px',_0x489271['style']['display']=_0x5af8f7(0x232),_0x59784d[_0x5af8f7(0x23e)]=String(_0x593d6b[_0x5af8f7(0x1e3)]())[_0x5af8f7(0x1c0)](0x2,'0')+':'+String(_0x593d6b[_0x5af8f7(0x1f8)]())[_0x5af8f7(0x1c0)](0x2,'0'),_0x59784d['style'][_0x5af8f7(0x1bd)]=_0x5af8f7(0x232),_0x59784d[_0x5af8f7(0x1b7)][_0x5af8f7(0x20b)]=_0x238979+'px';}document[a2_0xaab763(0x19c)](a2_0xaab763(0x1b8),init);function openDayOptions(_0xe974ba){const _0x5ea4e9=a2_0xaab763;selectedDayForOptions=_0xe974ba;const _0x48c263=new Date(_0xe974ba),_0x178015={'weekday':_0x5ea4e9(0x239),'day':_0x5ea4e9(0x2de),'month':'long','year':'numeric'},_0x12da90=_0x48c263[_0x5ea4e9(0x1c7)](_0x5ea4e9(0x180),_0x178015);document[_0x5ea4e9(0x27e)](_0x5ea4e9(0x245))[_0x5ea4e9(0x23e)]=_0x12da90[_0x5ea4e9(0x26c)](0x0)[_0x5ea4e9(0x268)]()+_0x12da90['slice'](0x1);let _0x359ad4=_0x48c263['getDay']()-0x1;if(_0x359ad4===-0x1)_0x359ad4=0x6;const _0x39ba54=availabilityPattern[_0x359ad4]||[],_0x1e0a08=0x18-_0x39ba54[_0x5ea4e9(0x272)],_0x32b13c=_0x1e0a08*0x3c,_0x2d3d6d=sessions[_0x5ea4e9(0x29f)](_0x3c4eb2=>_0x3c4eb2['dateStr']===_0xe974ba&&_0x3c4eb2[_0x5ea4e9(0x2ac)]!==_0x5ea4e9(0x2b9));let _0x1a1733=_0x2d3d6d[_0x5ea4e9(0x255)](_0x4ca59a=>{const _0x13ba19=_0x5ea4e9,[_0x42dd93,_0x1ace37]=_0x4ca59a[_0x13ba19(0x28a)]['split'](':')[_0x13ba19(0x255)](Number),[_0x4a344f,_0x1b3e62]=_0x4ca59a[_0x13ba19(0x209)]['split'](':')[_0x13ba19(0x255)](Number);return[_0x42dd93*0x3c+_0x1ace37,_0x4a344f*0x3c+_0x1b3e62];});_0x1a1733['sort']((_0x27b971,_0x385b29)=>_0x27b971[0x0]-_0x385b29[0x0]);let _0xa4603a=[];if(_0x1a1733[_0x5ea4e9(0x272)]>0x0){let _0x112d85=_0x1a1733[0x0];for(let _0x2f61ba=0x1;_0x2f61ba<_0x1a1733[_0x5ea4e9(0x272)];_0x2f61ba++){_0x1a1733[_0x2f61ba][0x0]<_0x112d85[0x1]?_0x112d85[0x1]=Math[_0x5ea4e9(0x23c)](_0x112d85[0x1],_0x1a1733[_0x2f61ba][0x1]):(_0xa4603a[_0x5ea4e9(0x18e)](_0x112d85),_0x112d85=_0x1a1733[_0x2f61ba]);}_0xa4603a[_0x5ea4e9(0x18e)](_0x112d85);}let _0x53ab95=0x0;_0xa4603a['forEach'](_0x3b3259=>_0x53ab95+=_0x3b3259[0x1]-_0x3b3259[0x0]),document['getElementById'](_0x5ea4e9(0x276))[_0x5ea4e9(0x23e)]=formatMinsToHrs(_0x32b13c),document[_0x5ea4e9(0x27e)](_0x5ea4e9(0x1b6))['textContent']=formatMinsToHrs(_0x53ab95);const _0x1bd816=_0x32b13c>0x0?Math[_0x5ea4e9(0x1e2)](_0x53ab95/_0x32b13c*0x64):0x0,_0x502d9e=document[_0x5ea4e9(0x27e)](_0x5ea4e9(0x18d));_0x502d9e[_0x5ea4e9(0x23e)]=_0x1bd816+'%';const _0x2abc4d=document[_0x5ea4e9(0x27e)]('statLoadCard');if(_0x1bd816>0x64)_0x502d9e[_0x5ea4e9(0x1b7)][_0x5ea4e9(0x223)]=_0x5ea4e9(0x2a4),_0x2abc4d[_0x5ea4e9(0x1b7)]['borderColor']=_0x5ea4e9(0x2d2);else _0x1bd816>0x50?(_0x502d9e['style'][_0x5ea4e9(0x223)]=_0x5ea4e9(0x290),_0x2abc4d[_0x5ea4e9(0x1b7)][_0x5ea4e9(0x26a)]=_0x5ea4e9(0x1f4)):(_0x502d9e[_0x5ea4e9(0x1b7)][_0x5ea4e9(0x223)]='var(--acc-green)',_0x2abc4d[_0x5ea4e9(0x1b7)][_0x5ea4e9(0x26a)]=_0x5ea4e9(0x289));const _0x59e2fc=document[_0x5ea4e9(0x27e)](_0x5ea4e9(0x291));_0x59e2fc[_0x5ea4e9(0x25c)]='';_0x2d3d6d[_0x5ea4e9(0x272)]===0x0?_0x59e2fc[_0x5ea4e9(0x25c)]=_0x5ea4e9(0x220):(_0x2d3d6d[_0x5ea4e9(0x19f)]((_0x50667a,_0xd1e292)=>_0x50667a['start'][_0x5ea4e9(0x193)](_0xd1e292[_0x5ea4e9(0x28a)])),_0x2d3d6d[_0x5ea4e9(0x1b5)](_0x2a12c6=>{const _0x2caba3=_0x5ea4e9,_0x26e9b6=clients['find'](_0x25622c=>_0x25622c[_0x2caba3(0x192)]===_0x2a12c6[_0x2caba3(0x247)]),_0x35fa91=_0x26e9b6?_0x26e9b6[_0x2caba3(0x223)]:'#fff',_0x4755d6=_0x2a12c6[_0x2caba3(0x2ac)]===_0x2caba3(0x244),_0x11e63c=_0x4755d6?_0x2caba3(0x1ae):'',_0x333faa=document[_0x2caba3(0x17b)](_0x2caba3(0x24f));_0x333faa[_0x2caba3(0x2e1)]=_0x2caba3(0x1d5),_0x333faa[_0x2caba3(0x1b7)][_0x2caba3(0x2c0)]=_0x35fa91,_0x333faa[_0x2caba3(0x25c)]=_0x2caba3(0x1c9)+_0x2a12c6[_0x2caba3(0x28a)]+_0x2caba3(0x265)+_0x2a12c6['end']+_0x2caba3(0x224)+_0x2a12c6[_0x2caba3(0x247)]+_0x2caba3(0x1c5)+_0x11e63c+_0x2caba3(0x1d1),_0x59e2fc[_0x2caba3(0x1c1)](_0x333faa);}));const _0x53f331=document[_0x5ea4e9(0x27e)](_0x5ea4e9(0x183)),_0x473de5=dateExceptions[_0xe974ba]==='off';_0x473de5?(_0x53f331[_0x5ea4e9(0x23e)]=_0x5ea4e9(0x1ee),_0x53f331[_0x5ea4e9(0x2e1)]=_0x5ea4e9(0x211),_0x53f331[_0x5ea4e9(0x1b7)][_0x5ea4e9(0x223)]=_0x5ea4e9(0x1a4),_0x53f331['style'][_0x5ea4e9(0x195)]='rgba(48,\x20209,\x2088,\x200.15)'):(_0x53f331[_0x5ea4e9(0x23e)]='–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º',_0x53f331[_0x5ea4e9(0x2e1)]=_0x5ea4e9(0x270),_0x53f331['style'][_0x5ea4e9(0x223)]=_0x5ea4e9(0x2a4),_0x53f331[_0x5ea4e9(0x1b7)][_0x5ea4e9(0x195)]=_0x5ea4e9(0x2ae)),openSheet('dayOptionsSheet');}let currentAnPeriod=a2_0xaab763(0x1ff);function openAnalytics(){const _0x47e2f7=a2_0xaab763,_0x1d6ffa=document[_0x47e2f7(0x19d)](_0x47e2f7(0x281));setAnalyticsPeriod(_0x47e2f7(0x1ff),_0x1d6ffa),closeAllSheets(),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x202813,_0x519e0a){const _0x20efad=a2_0xaab763;currentAnPeriod=_0x202813,document[_0x20efad(0x1ec)]('.period-switch\x20.p-btn')['forEach'](_0x267fa5=>_0x267fa5[_0x20efad(0x2e8)]['remove'](_0x20efad(0x1bc)));if(_0x519e0a)_0x519e0a[_0x20efad(0x2e8)][_0x20efad(0x27b)](_0x20efad(0x1bc));const _0xc260e=document[_0x20efad(0x27e)](_0x20efad(0x259));_0xc260e[_0x20efad(0x1b7)][_0x20efad(0x1bd)]=_0x202813===_0x20efad(0x2e4)?_0x20efad(0x2db):'none';const _0x42879e=new Date();let _0x3df139=new Date(),_0x7bc34d=new Date();if(_0x202813===_0x20efad(0x1ff))_0x3df139=getStartOfWeek(_0x42879e),_0x7bc34d=new Date(_0x3df139),_0x7bc34d[_0x20efad(0x1ab)](_0x7bc34d[_0x20efad(0x177)]()+0x6);else{if(_0x202813===_0x20efad(0x1da))_0x3df139=new Date(_0x42879e[_0x20efad(0x278)](),_0x42879e[_0x20efad(0x16c)](),0x1),_0x7bc34d=new Date(_0x42879e[_0x20efad(0x278)](),_0x42879e[_0x20efad(0x16c)]()+0x1,0x0);else{!document['getElementById'](_0x20efad(0x178))['value']&&(document[_0x20efad(0x27e)]('anStart')[_0x20efad(0x1f3)]=getLocalDateStr(_0x42879e),document[_0x20efad(0x27e)](_0x20efad(0x18b))[_0x20efad(0x1f3)]=getLocalDateStr(_0x42879e));refreshAnalytics();return;}}document['getElementById'](_0x20efad(0x178))[_0x20efad(0x1f3)]=getLocalDateStr(_0x3df139),document[_0x20efad(0x27e)](_0x20efad(0x18b))[_0x20efad(0x1f3)]=getLocalDateStr(_0x7bc34d),refreshAnalytics();}function refreshAnalytics(){const _0xcb2795=a2_0xaab763,_0x5eda57=document['getElementById'](_0xcb2795(0x178))['value'],_0x3896f3=document[_0xcb2795(0x27e)](_0xcb2795(0x18b))[_0xcb2795(0x1f3)];if(!_0x5eda57||!_0x3896f3)return;const _0x43ba5a=sessions[_0xcb2795(0x29f)](_0x523a09=>_0x523a09[_0xcb2795(0x219)]>=_0x5eda57&&_0x523a09['dateStr']<=_0x3896f3&&_0x523a09['status']!==_0xcb2795(0x2b9)),_0x3ee7a4=_0x43ba5a[_0xcb2795(0x272)],_0x30ab2c=_0x43ba5a['filter'](_0x38826b=>_0x38826b['status']==='completed')[_0xcb2795(0x272)],_0x408331=_0x3ee7a4>0x0?Math[_0xcb2795(0x1e2)](_0x30ab2c/_0x3ee7a4*0x64):0x0;document[_0xcb2795(0x27e)](_0xcb2795(0x1ac))['textContent']=_0x408331+'%',document['getElementById'](_0xcb2795(0x24e))[_0xcb2795(0x23e)]=_0x30ab2c+_0xcb2795(0x19b)+_0x3ee7a4+_0xcb2795(0x175);const _0x2f83ea=document[_0xcb2795(0x27e)](_0xcb2795(0x214)),_0x14c4ab=0x2*Math['PI']*0x23,_0x520b38=_0x14c4ab-_0x408331/0x64*_0x14c4ab;_0x2f83ea[_0xcb2795(0x1b7)][_0xcb2795(0x2e3)]=_0x520b38;const _0x19407c={};_0x43ba5a[_0xcb2795(0x1b5)](_0x574935=>{const _0x12d921=_0xcb2795;if(!_0x19407c[_0x574935['client']]){const _0x571ade=clients[_0x12d921(0x171)](_0x478ed1=>_0x478ed1[_0x12d921(0x192)]===_0x574935['client']);_0x19407c[_0x574935[_0x12d921(0x247)]]={'total':0x0,'done':0x0,'color':_0x571ade?_0x571ade[_0x12d921(0x223)]:_0x12d921(0x2d5)};}_0x19407c[_0x574935[_0x12d921(0x247)]][_0x12d921(0x2ce)]++;if(_0x574935['status']===_0x12d921(0x244))_0x19407c[_0x574935[_0x12d921(0x247)]][_0x12d921(0x1f6)]++;});const _0x5952b9=document[_0xcb2795(0x27e)](_0xcb2795(0x28b));_0x5952b9[_0xcb2795(0x25c)]='';const _0x7b8b40=Object[_0xcb2795(0x198)](_0x19407c)[_0xcb2795(0x19f)]((_0x25e316,_0x28aa94)=>_0x28aa94[0x1]['total']-_0x25e316[0x1][_0xcb2795(0x2ce)]);if(_0x7b8b40[_0xcb2795(0x272)]===0x0){_0x5952b9[_0xcb2795(0x25c)]=_0xcb2795(0x28e);return;}_0x7b8b40[_0xcb2795(0x1b5)](([_0x45b9d0,_0x5762ee])=>{const _0x198db0=_0xcb2795,_0x385334=Math[_0x198db0(0x1e2)](_0x5762ee['done']/_0x5762ee[_0x198db0(0x2ce)]*0x64),_0x4cc9c4=document[_0x198db0(0x17b)](_0x198db0(0x24f));_0x4cc9c4[_0x198db0(0x2e1)]=_0x198db0(0x1f5),_0x4cc9c4[_0x198db0(0x1b7)][_0x198db0(0x2c0)]=_0x5762ee[_0x198db0(0x223)],_0x4cc9c4['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>'+_0x45b9d0+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x5762ee[_0x198db0(0x1f6)]+_0x198db0(0x203)+_0x5762ee[_0x198db0(0x2ce)]+_0x198db0(0x234)+_0x385334+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x5952b9['appendChild'](_0x4cc9c4);});}function formatMinsToHrs(_0x2e6871){const _0x31e6d7=a2_0xaab763;if(_0x2e6871===0x0)return'0';const _0x2c68dc=Math[_0x31e6d7(0x2da)](_0x2e6871/0x3c),_0x2f5177=_0x2e6871%0x3c;if(_0x2f5177===0x0)return _0x2c68dc+'—á';return _0x2c68dc+'—á\x20'+_0x2f5177+'–º';}