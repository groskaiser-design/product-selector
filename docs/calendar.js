const a2_0x15ab29=a2_0x5467;(function(_0x24be30,_0x590c0e){const _0x10d4fe=a2_0x5467,_0x4ab471=_0x24be30();while(!![]){try{const _0x4ac8f5=parseInt(_0x10d4fe(0x1fc))/0x1*(-parseInt(_0x10d4fe(0x213))/0x2)+-parseInt(_0x10d4fe(0x1be))/0x3+-parseInt(_0x10d4fe(0x262))/0x4+parseInt(_0x10d4fe(0x24e))/0x5*(-parseInt(_0x10d4fe(0x2e8))/0x6)+parseInt(_0x10d4fe(0x317))/0x7*(parseInt(_0x10d4fe(0x206))/0x8)+parseInt(_0x10d4fe(0x24d))/0x9+parseInt(_0x10d4fe(0x20e))/0xa;if(_0x4ac8f5===_0x590c0e)break;else _0x4ab471['push'](_0x4ab471['shift']());}catch(_0x4517f4){_0x4ab471['push'](_0x4ab471['shift']());}}}(a2_0x1b85,0x229df),function initTMA(){const _0x1aee72=a2_0x5467;try{const _0x167579=window[_0x1aee72(0x221)]?.[_0x1aee72(0x305)];if(!_0x167579)return;_0x167579[_0x1aee72(0x2e2)](),_0x167579[_0x1aee72(0x1f9)]();try{_0x167579[_0x1aee72(0x239)](_0x1aee72(0x1b6)),_0x167579['setBackgroundColor']&&_0x167579[_0x1aee72(0x2b8)](_0x1aee72(0x1b6));}catch(_0x220351){console[_0x1aee72(0x291)](_0x1aee72(0x27a),_0x220351);}try{_0x167579[_0x1aee72(0x1cc)]&&(_0x167579['BackButton'][_0x1aee72(0x30b)](),_0x167579[_0x1aee72(0x1cc)][_0x1aee72(0x270)](),_0x167579[_0x1aee72(0x1cc)][_0x1aee72(0x1c7)](function(){const _0x139402=_0x1aee72;window[_0x139402(0x2ad)][_0x139402(0x2f6)]=_0x139402(0x1d9);}));}catch(_0x59f864){console[_0x1aee72(0x291)]('Error\x20setting\x20back\x20button:',_0x59f864);}try{if(_0x167579[_0x1aee72(0x242)])_0x167579[_0x1aee72(0x242)]();}catch(_0xd7746f){}}catch(_0x5017e0){console[_0x1aee72(0x2d3)](_0x1aee72(0x2e5),_0x5017e0);}}());function isAdmin(){const _0x38dbf7=a2_0x5467;try{const _0x1d73a9=Number(window[_0x38dbf7(0x221)]?.['WebApp']?.['initDataUnsafe']?.[_0x38dbf7(0x29a)]?.['id']);return _0x1d73a9===0xbaf7174;}catch(_0xeea273){return![];}}const APP_VERSION=a2_0x15ab29(0x1f5),API_URL=a2_0x15ab29(0x1a8),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS='uc_clients_v9',KEY_SESSIONS=a2_0x15ab29(0x25a),KEY_SETTINGS=a2_0x15ab29(0x1f8);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x5e847c=a2_0x15ab29;return window[_0x5e847c(0x221)]?.[_0x5e847c(0x305)]?.[_0x5e847c(0x26d)]?.[_0x5e847c(0x29a)]?.['id']||_0x5e847c(0x209);},'saveLocally'(){const _0x1e0bd3=a2_0x15ab29;try{localStorage['setItem'](KEY_CLIENTS,JSON[_0x1e0bd3(0x2c1)](clients)),localStorage[_0x1e0bd3(0x299)](KEY_SESSIONS,JSON[_0x1e0bd3(0x2c1)](sessions)),localStorage['setItem'](KEY_SETTINGS,JSON[_0x1e0bd3(0x2c1)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x843495){console[_0x1e0bd3(0x2d3)](_0x1e0bd3(0x329),_0x843495);}},'loadLocal'(){const _0x53ec26=a2_0x15ab29;try{const _0x1ef18e=localStorage[_0x53ec26(0x2d9)](KEY_CLIENTS);if(_0x1ef18e)clients=JSON['parse'](_0x1ef18e);const _0xbbe74d=localStorage[_0x53ec26(0x2d9)](KEY_SESSIONS);if(_0xbbe74d)sessions=JSON[_0x53ec26(0x2c8)](_0xbbe74d);const _0x1c46a8=localStorage['getItem'](KEY_SETTINGS);if(_0x1c46a8){const _0x52a944=JSON[_0x53ec26(0x2c8)](_0x1c46a8);if(_0x52a944[_0x53ec26(0x1c1)])availabilityPattern=_0x52a944[_0x53ec26(0x1c1)];if(_0x52a944[_0x53ec26(0x2b6)])dateExceptions=_0x52a944[_0x53ec26(0x2b6)];if(_0x52a944[_0x53ec26(0x22c)])specialRanges=_0x52a944[_0x53ec26(0x22c)];}else{for(let _0x281567=0x0;_0x281567<0x7;_0x281567++)availabilityPattern[_0x281567]=Array[_0x53ec26(0x1e4)]({'length':0xc},(_0x7c4ca9,_0x475c6c)=>_0x475c6c+0x9);}}catch(_0x2673ae){console[_0x53ec26(0x2d3)](_0x53ec26(0x240),_0x2673ae);}},async 'fetchFromServer'(_0x4dfe7f,_0x40ed1c={}){const _0x36c9b7=a2_0x15ab29,_0x159528=window[_0x36c9b7(0x221)]?.[_0x36c9b7(0x305)],_0x5cc13d={'action':_0x4dfe7f,'init_data':_0x159528?.['initData']||'',..._0x40ed1c};try{const _0x47d9e3=await fetch(API_URL,{'method':_0x36c9b7(0x31b),'headers':{'Content-Type':_0x36c9b7(0x2ee)},'body':JSON[_0x36c9b7(0x2c1)](_0x5cc13d)}),_0x74c91a=await _0x47d9e3[_0x36c9b7(0x313)]();if(!_0x74c91a['ok'])throw new Error(_0x74c91a[_0x36c9b7(0x2d3)]||'Server\x20Error');return _0x74c91a[_0x36c9b7(0x1e3)];}catch(_0x300086){console[_0x36c9b7(0x2d3)]('[API\x20'+_0x4dfe7f+_0x36c9b7(0x1a5),_0x300086);throw _0x300086;}},async 'syncLoad'(){const _0x11604b=a2_0x15ab29,_0x1b96cd=new Date(),_0x45b9d2=_0x1b96cd[_0x11604b(0x1cf)]()+'-'+String(_0x1b96cd[_0x11604b(0x29b)]()+0x1)[_0x11604b(0x28d)](0x2,'0'),_0x5693a8=new Date(_0x1b96cd);_0x5693a8[_0x11604b(0x302)](_0x1b96cd[_0x11604b(0x29b)]()+0x1);const _0x3486b2=_0x5693a8['getFullYear']()+'-'+String(_0x5693a8[_0x11604b(0x29b)]()+0x1)[_0x11604b(0x28d)](0x2,'0'),_0x2dde1f=Date[_0x11604b(0x1e9)]();console[_0x11604b(0x291)](_0x11604b(0x1a7)+_0x45b9d2+',\x20'+_0x3486b2+'...');try{const [_0x5c9790,_0xaedb56]=await Promise[_0x11604b(0x323)]([this[_0x11604b(0x214)]('init_load',{'month_str':_0x45b9d2}),this[_0x11604b(0x214)]('init_load',{'month_str':_0x3486b2})]);if(lastUserActionTime>_0x2dde1f)return console[_0x11604b(0x25c)](_0x11604b(0x252)),![];return this[_0x11604b(0x234)](_0x5c9790,_0x45b9d2),this['mergeServerData'](_0xaedb56,_0x3486b2),this['saveLocally'](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x5d6388){console['error'](_0x5d6388);throw _0x5d6388;}},'mergeServerData'(_0x246dd9,_0xc3ab18){const _0x1062ec=a2_0x15ab29;if(!_0x246dd9)return;_0x246dd9[_0x1062ec(0x2ca)]&&Array['isArray'](_0x246dd9[_0x1062ec(0x2ca)])&&(clients=_0x246dd9[_0x1062ec(0x2ca)]);if(_0x246dd9[_0x1062ec(0x1b2)]){if(_0x246dd9[_0x1062ec(0x1b2)]['pattern'])availabilityPattern=_0x246dd9[_0x1062ec(0x1b2)]['pattern'];if(_0x246dd9[_0x1062ec(0x1b2)][_0x1062ec(0x2b6)])dateExceptions=_0x246dd9[_0x1062ec(0x1b2)][_0x1062ec(0x2b6)];if(_0x246dd9[_0x1062ec(0x1b2)]['ranges'])specialRanges=_0x246dd9['settings'][_0x1062ec(0x22c)];if(_0x246dd9[_0x1062ec(0x1b2)][_0x1062ec(0x1ff)]){localStorage[_0x1062ec(0x299)](_0x1062ec(0x2e3),_0x246dd9[_0x1062ec(0x1b2)][_0x1062ec(0x1ff)]);const _0x595b36=document[_0x1062ec(0x2ab)](_0x1062ec(0x1c0));if(_0x595b36)_0x595b36['value']=_0x246dd9[_0x1062ec(0x1b2)][_0x1062ec(0x1ff)];}}_0x246dd9[_0x1062ec(0x247)]&&(sessions=sessions[_0x1062ec(0x257)](_0x2ca3bd=>!_0x2ca3bd['dateStr'][_0x1062ec(0x2d7)](_0xc3ab18)),Object[_0x1062ec(0x23f)](_0x246dd9[_0x1062ec(0x247)])[_0x1062ec(0x2f1)](_0x10f041=>{const _0x2c8074=_0x1062ec,_0x67cbd=_0x246dd9[_0x2c8074(0x247)][_0x10f041];_0x67cbd['forEach'](_0x42d9ee=>{const _0x23f622=_0x2c8074,_0x5de863=clients[_0x23f622(0x2b5)](_0x146a9a=>String(_0x146a9a['id'])===String(_0x42d9ee['c']));sessions[_0x23f622(0x31d)]({'id':_0x42d9ee['i'],'clientId':_0x42d9ee['c'],'client':_0x5de863?_0x5de863[_0x23f622(0x1f6)]:_0x23f622(0x2f4),'dateStr':_0xc3ab18+'-'+_0x10f041['padStart'](0x2,'0'),'start':_0x42d9ee['s'],'end':_0x42d9ee['e'],'status':_0x42d9ee['st']||'planned','note':_0x42d9ee['n']||'','seriesId':_0x42d9ee[_0x23f622(0x259)]||null});});}));},async 'syncBatch'(_0x1051da){const _0x5aedc7=a2_0x15ab29,_0x3af3f9=[...new Set(_0x1051da)],_0x23355a=_0x3af3f9['map'](_0x2983f0=>{const _0x1e3382=a2_0x5467,_0x221d07=sessions['filter'](_0x53846d=>_0x53846d['dateStr']===_0x2983f0&&_0x53846d[_0x1e3382(0x30f)]!==_0x1e3382(0x2ef)),_0x2c47a2=_0x221d07[_0x1e3382(0x229)](_0x435ac6=>({'i':_0x435ac6['id'],'c':_0x435ac6[_0x1e3382(0x223)],'s':_0x435ac6[_0x1e3382(0x260)],'e':_0x435ac6['end'],'st':_0x435ac6[_0x1e3382(0x30f)],'n':_0x435ac6[_0x1e3382(0x1ba)],'sid':_0x435ac6[_0x1e3382(0x24a)]}));return{'date':_0x2983f0,'day_data':_0x2c47a2};});if(_0x23355a[_0x5aedc7(0x1f3)]===0x0)return;console[_0x5aedc7(0x291)](_0x5aedc7(0x1ac)+_0x23355a[_0x5aedc7(0x1f3)]+_0x5aedc7(0x2f5)),await this[_0x5aedc7(0x214)](_0x5aedc7(0x324),{'changes':_0x23355a});}};async function init(){const _0x24784e=a2_0x15ab29;DataManager[_0x24784e(0x20b)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x24784e(0x2ab)](_0x24784e(0x22d))[_0x24784e(0x1e8)](_0x24784e(0x227),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x24784e(0x2d4)]()[_0x24784e(0x2a7)](()=>{showToast('–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ',!![]);})[_0x24784e(0x216)](_0x2606d1=>{showToast('–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º',![]);});}function generateId(){const _0x3c7098=a2_0x15ab29;return Date[_0x3c7098(0x1e9)]()[_0x3c7098(0x1c6)](0x24)+Math[_0x3c7098(0x283)]()[_0x3c7098(0x1c6)](0x24)['substr'](0x2,0x5);}function toggleSeriesInput(){const _0x404f26=a2_0x15ab29,_0x5a83e8=document[_0x404f26(0x2ab)](_0x404f26(0x2f3))[_0x404f26(0x25b)],_0x42be96=document['getElementById'](_0x404f26(0x1fa));_0x42be96[_0x404f26(0x2e1)][_0x404f26(0x1d5)]=_0x5a83e8?_0x404f26(0x2eb):_0x404f26(0x328);const _0x87d5c8=document[_0x404f26(0x2ab)](_0x404f26(0x230));_0x87d5c8[_0x404f26(0x2e1)][_0x404f26(0x2c4)]=_0x5a83e8?_0x404f26(0x1bc):_0x404f26(0x1ef);}function openAddSession(_0x43445d){const _0xda96bc=a2_0x15ab29;editingId=null,populateClientSelect(),document[_0xda96bc(0x2ab)]('sheetTitle')['textContent']=_0xda96bc(0x236),document[_0xda96bc(0x2ab)](_0xda96bc(0x2bb))['style'][_0xda96bc(0x1d5)]=_0xda96bc(0x328),document[_0xda96bc(0x2ab)](_0xda96bc(0x277))[_0xda96bc(0x2e1)][_0xda96bc(0x1d5)]='none';const _0x51adf0=document[_0xda96bc(0x2ab)]('recurringOptionContainer'),_0x500715=document[_0xda96bc(0x2ab)](_0xda96bc(0x1fa));_0x51adf0['style'][_0xda96bc(0x1d5)]=_0xda96bc(0x271),_0x51adf0[_0xda96bc(0x2e1)][_0xda96bc(0x2c4)]=_0xda96bc(0x1ef),document[_0xda96bc(0x2ab)](_0xda96bc(0x2f3))[_0xda96bc(0x25b)]=![],document[_0xda96bc(0x2ab)](_0xda96bc(0x1a9))['value']=0x4,_0x500715[_0xda96bc(0x2e1)]['display']=_0xda96bc(0x328),document['getElementById'](_0xda96bc(0x1ec))[_0xda96bc(0x1c2)]=getLocalDateStr(_0x43445d),updateDateDisplay();const _0x2e9d41=_0x43445d[_0xda96bc(0x21a)]();document[_0xda96bc(0x2ab)](_0xda96bc(0x312))[_0xda96bc(0x1c2)]=String(_0x2e9d41)['padStart'](0x2,'0')+':00',document[_0xda96bc(0x2ab)](_0xda96bc(0x2be))['value']=String(_0x2e9d41+0x1)[_0xda96bc(0x28d)](0x2,'0')+_0xda96bc(0x1ab),openSheet(_0xda96bc(0x1a6));}function openEdit(_0x33d019){const _0x128ee8=a2_0x15ab29;editingId=_0x33d019['id'],populateClientSelect(),document[_0x128ee8(0x2ab)](_0x128ee8(0x1d6))[_0x128ee8(0x284)]=_0x128ee8(0x2bd),document[_0x128ee8(0x2ab)](_0x128ee8(0x2bb))[_0x128ee8(0x2e1)]['display']='block';const _0x56d73e=document[_0x128ee8(0x2ab)]('btnStatusToggle');_0x56d73e[_0x128ee8(0x2e1)]['display']='flex';_0x33d019[_0x128ee8(0x30f)]===_0x128ee8(0x2ae)?(_0x56d73e[_0x128ee8(0x2ec)]=_0x128ee8(0x251),_0x56d73e['innerHTML']=_0x128ee8(0x28a)):(_0x56d73e[_0x128ee8(0x2ec)]='btn-status-toggle',_0x56d73e['innerHTML']=_0x128ee8(0x26e));const _0x4fa11c=!!_0x33d019[_0x128ee8(0x24a)];document[_0x128ee8(0x2ab)](_0x128ee8(0x230))[_0x128ee8(0x2e1)]['display']=_0x128ee8(0x328),document['getElementById'](_0x128ee8(0x1fa))[_0x128ee8(0x2e1)][_0x128ee8(0x1d5)]=_0x128ee8(0x328),_0x4fa11c?(document['getElementById']('patternInfoBox')[_0x128ee8(0x2e1)][_0x128ee8(0x1d5)]=_0x128ee8(0x271),document[_0x128ee8(0x2ab)]('patternInfoBox')[_0x128ee8(0x2fe)](_0x128ee8(0x210))[_0x128ee8(0x284)]=_0x128ee8(0x2e9)):document[_0x128ee8(0x2ab)](_0x128ee8(0x285))[_0x128ee8(0x2e1)][_0x128ee8(0x1d5)]=_0x128ee8(0x328),document[_0x128ee8(0x2ab)](_0x128ee8(0x2cf))[_0x128ee8(0x1c2)]=_0x33d019[_0x128ee8(0x2f2)],document[_0x128ee8(0x2ab)]('inpDate')['value']=_0x33d019[_0x128ee8(0x23a)],document[_0x128ee8(0x2ab)](_0x128ee8(0x312))[_0x128ee8(0x1c2)]=_0x33d019[_0x128ee8(0x260)],document[_0x128ee8(0x2ab)](_0x128ee8(0x2be))['value']=_0x33d019[_0x128ee8(0x2b2)],document[_0x128ee8(0x2ab)]('inpNote')[_0x128ee8(0x1c2)]=_0x33d019[_0x128ee8(0x1ba)]||'',updateDateDisplay(),openSheet(_0x128ee8(0x1a6));}async function trySaveSession(){const _0x2006da=a2_0x15ab29,_0x34411d=document[_0x2006da(0x2ab)](_0x2006da(0x2cf))[_0x2006da(0x1c2)],_0x5e94e0=document[_0x2006da(0x2ab)](_0x2006da(0x1ec))['value'],_0x2a30c6=document['getElementById'](_0x2006da(0x312))[_0x2006da(0x1c2)],_0xa44e94=document[_0x2006da(0x2ab)](_0x2006da(0x2be))[_0x2006da(0x1c2)],_0x2079e7=document['getElementById'](_0x2006da(0x204))[_0x2006da(0x1c2)],_0x59b70b=document[_0x2006da(0x2ab)](_0x2006da(0x2f3))[_0x2006da(0x25b)];let _0x814a35=0x4;if(_0x59b70b){const _0x468571=parseInt(document['getElementById'](_0x2006da(0x1a9))[_0x2006da(0x1c2)]);if(!_0x468571||_0x468571<0x2){showToast(_0x2006da(0x2c7),![]);return;}if(_0x468571>0x64){showToast(_0x2006da(0x1ca),![]);return;}_0x814a35=_0x468571;}const _0x2e2043=clients[_0x2006da(0x2b5)](_0x1252ff=>_0x1252ff[_0x2006da(0x1f6)]===_0x34411d);if(!_0x2e2043){showToast(_0x2006da(0x334),![]);return;}const _0x32ae72=validateAppointment(_0x5e94e0,_0x2a30c6,_0xa44e94,editingId,_0x2e2043['id']);if(!_0x32ae72[_0x2006da(0x2c6)]){showToast(_0x32ae72['msg'],![]);return;}_0x32ae72[_0x2006da(0x2e0)]&&showToast(_0x32ae72[_0x2006da(0x2e0)],![]);const _0x18f171={'client':_0x34411d,'clientId':_0x2e2043['id'],'start':_0x2a30c6,'end':_0xa44e94,'note':_0x2079e7,'status':_0x2006da(0x2fd)},_0x337e75=editingId?sessions[_0x2006da(0x2b5)](_0x9c4384=>_0x9c4384['id']===editingId):null;if(_0x337e75&&_0x337e75[_0x2006da(0x24a)]){tempSessionData={..._0x18f171,'dateStr':_0x5e94e0,'id':editingId,'seriesId':_0x337e75[_0x2006da(0x24a)]},openActionSheet('save');return;}let _0xb03d07=null;if(!editingId)_0xb03d07=_0x2006da(0x279);else{if(_0x337e75){if(String(_0x337e75[_0x2006da(0x223)])!==String(_0x2e2043['id']))console[_0x2006da(0x291)]('[Notify]\x20Client\x20SWAP\x20detected'),NotificationManager[_0x2006da(0x32a)](_0x2006da(0x22e),_0x337e75),_0xb03d07=_0x2006da(0x279);else(_0x337e75[_0x2006da(0x260)]!==_0x2a30c6||_0x337e75[_0x2006da(0x2b2)]!==_0xa44e94||_0x337e75['dateStr']!==_0x5e94e0)&&(_0xb03d07=_0x2006da(0x30e));}}if(!editingId&&_0x59b70b){createBatchSeries(_0x18f171,_0x5e94e0,_0x814a35),NotificationManager['send'](_0x2006da(0x279),{..._0x18f171,'dateStr':_0x5e94e0});return;}lastUserActionTime=Date[_0x2006da(0x1e9)]();const _0x3ab0e0={..._0x18f171,'dateStr':_0x5e94e0,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x3ab0e0),_0xb03d07&&NotificationManager[_0x2006da(0x32a)](_0xb03d07,_0x3ab0e0);}function toggleSessionStatus(){const _0x3d4feb=a2_0x15ab29;lastUserActionTime=Date[_0x3d4feb(0x1e9)]();const _0x383fef=sessions[_0x3d4feb(0x2b5)](_0x50e5d8=>_0x50e5d8['id']===editingId);if(!_0x383fef)return;const _0x55abb3=_0x383fef[_0x3d4feb(0x30f)]===_0x3d4feb(0x2ae)?_0x3d4feb(0x2fd):_0x3d4feb(0x2ae);_0x383fef['status']=_0x55abb3,saveSingleSession(_0x383fef),_0x55abb3===_0x3d4feb(0x2ae)&&NotificationManager[_0x3d4feb(0x32a)](_0x3d4feb(0x222),_0x383fef),showToast(_0x55abb3===_0x3d4feb(0x2ae)?_0x3d4feb(0x21f):_0x3d4feb(0x297),!![]);}function validateAppointment(_0x3bdf94,_0x40e5fa,_0x54e09d,_0x296d9e,_0x1d64bb){const _0x490c8a=a2_0x15ab29,[_0x1baf45,_0x67e992]=_0x40e5fa[_0x490c8a(0x266)](':')[_0x490c8a(0x229)](Number),[_0x1b7f41,_0x2d7abf]=_0x54e09d[_0x490c8a(0x266)](':')[_0x490c8a(0x229)](Number),_0x3796bb=_0x1baf45*0x3c+_0x67e992,_0x4f416c=_0x1b7f41*0x3c+_0x2d7abf,_0x26d334=String(_0x1d64bb);let _0x5e8569=![],_0x5041cc='';for(let _0x46fdc7 of sessions){if(_0x46fdc7[_0x490c8a(0x23a)]!==_0x3bdf94)continue;if(_0x46fdc7[_0x490c8a(0x30f)]==='cancelled')continue;if(_0x296d9e&&String(_0x46fdc7['id'])===String(_0x296d9e))continue;const [_0x1ea835,_0x4810f3]=_0x46fdc7['start']['split'](':')['map'](Number),[_0x2ed649,_0x1279e4]=_0x46fdc7['end'][_0x490c8a(0x266)](':')[_0x490c8a(0x229)](Number),_0x3e7250=_0x1ea835*0x3c+_0x4810f3,_0x51754e=_0x2ed649*0x3c+_0x1279e4;if(Math[_0x490c8a(0x1d0)](_0x3796bb,_0x3e7250)<Math[_0x490c8a(0x330)](_0x4f416c,_0x51754e)){if(_0x46fdc7[_0x490c8a(0x223)]&&String(_0x46fdc7[_0x490c8a(0x223)])===_0x26d334)return{'valid':![],'msg':_0x490c8a(0x29c)+_0x46fdc7['client']+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x5e8569=!![],_0x5041cc=_0x46fdc7[_0x490c8a(0x2f2)];}}if(_0x5e8569)return{'valid':!![],'warning':_0x490c8a(0x2ce)+_0x5041cc};return{'valid':!![]};}function saveSingleSession(_0x31c285){const _0x33bbb7=a2_0x15ab29;if(editingId){const _0x271ce8=sessions[_0x33bbb7(0x1b9)](_0xc38dfe=>_0xc38dfe['id']===editingId);if(_0x271ce8!==-0x1)sessions[_0x271ce8]=_0x31c285;}else sessions[_0x33bbb7(0x31d)](_0x31c285);afterSaveAction([_0x31c285[_0x33bbb7(0x23a)]]);}function createBatchSeries(_0x3e0b4d,_0x38348c,_0x169474){const _0x1d6b65=a2_0x15ab29,_0x5648d0=generateId(),_0x51ea38=[],_0xd1c075=[];let _0x56a658=0x0,_0x40d339=new Date(_0x38348c);for(let _0x128fe3=0x0;_0x128fe3<_0x169474;_0x128fe3++){const _0x7c3e5a=getLocalDateStr(_0x40d339),_0x5f878e=validateAppointment(_0x7c3e5a,_0x3e0b4d[_0x1d6b65(0x260)],_0x3e0b4d[_0x1d6b65(0x2b2)],null,_0x3e0b4d[_0x1d6b65(0x223)]);if(!_0x5f878e[_0x1d6b65(0x2c6)])console[_0x1d6b65(0x291)]('[Series]\x20Skipped\x20'+_0x7c3e5a+_0x1d6b65(0x292)),_0x56a658++;else{const _0x498fd2={..._0x3e0b4d,'id':generateId(),'dateStr':_0x7c3e5a,'seriesId':_0x5648d0};_0xd1c075['push'](_0x498fd2),_0x51ea38[_0x1d6b65(0x31d)](_0x7c3e5a);}_0x40d339[_0x1d6b65(0x26f)](_0x40d339[_0x1d6b65(0x1c5)]()+0x7);}if(_0xd1c075[_0x1d6b65(0x1f3)]===0x0){showToast(_0x1d6b65(0x274),![]);return;}sessions['push'](..._0xd1c075),lastUserActionTime=Date[_0x1d6b65(0x1e9)]();let _0x51c26e=_0x1d6b65(0x243)+_0xd1c075[_0x1d6b65(0x1f3)];_0x56a658>0x0&&(_0x51c26e+=_0x1d6b65(0x2b4)+_0x56a658+')'),showToast(_0x51c26e,!![]),afterSaveAction(_0x51ea38);}function updateSeriesBatch(_0x5ae2d4,_0x35bb0b){const _0x3094ae=a2_0x15ab29,_0x519525=[],_0x5a9d26=_0x35bb0b[_0x3094ae(0x24a)];if(_0x5ae2d4===_0x3094ae(0x310)){const _0x2c1a92={..._0x35bb0b,'seriesId':null},_0x539c45=sessions['findIndex'](_0x3e7410=>_0x3e7410['id']===_0x35bb0b['id']);if(_0x539c45!==-0x1)sessions[_0x539c45]=_0x2c1a92;_0x519525[_0x3094ae(0x31d)](_0x2c1a92['dateStr']);}else{if(_0x5ae2d4===_0x3094ae(0x2d8)){const _0x1f17b4=_0x35bb0b[_0x3094ae(0x23a)];sessions['forEach']((_0x5855ba,_0x30eeea)=>{const _0x2f4742=_0x3094ae;_0x5855ba[_0x2f4742(0x24a)]===_0x5a9d26&&_0x5855ba['dateStr']>=_0x1f17b4&&(sessions[_0x30eeea]={...sessions[_0x30eeea],'start':_0x35bb0b[_0x2f4742(0x260)],'end':_0x35bb0b[_0x2f4742(0x2b2)],'note':_0x35bb0b[_0x2f4742(0x1ba)],'client':_0x35bb0b[_0x2f4742(0x2f2)],'clientId':_0x35bb0b['clientId']},_0x519525[_0x2f4742(0x31d)](_0x5855ba['dateStr']));});}}afterSaveAction(_0x519525);}function tryDeleteSession(){const _0x290277=a2_0x15ab29,_0x4e53f4=sessions[_0x290277(0x2b5)](_0x5d046d=>_0x5d046d['id']===editingId);if(!_0x4e53f4)return;_0x4e53f4[_0x290277(0x24a)]?openActionSheet(_0x290277(0x220)):commitDelete(_0x290277(0x310),_0x4e53f4);}function commitDelete(_0x4e27bb,_0x256b2d){const _0x7aeefb=a2_0x15ab29;lastUserActionTime=Date['now'](),NotificationManager[_0x7aeefb(0x32a)](_0x7aeefb(0x22e),_0x256b2d);const _0x5ac9e0=[];if(_0x4e27bb===_0x7aeefb(0x310))sessions=sessions[_0x7aeefb(0x257)](_0x67faff=>_0x67faff['id']!==_0x256b2d['id']),_0x5ac9e0['push'](_0x256b2d[_0x7aeefb(0x23a)]);else{if(_0x4e27bb==='series'){const _0x265ed1=_0x256b2d['dateStr'],_0x4b7d01=_0x256b2d[_0x7aeefb(0x24a)];sessions[_0x7aeefb(0x2f1)](_0x4bf7c7=>{const _0x5a15cb=_0x7aeefb;_0x4bf7c7[_0x5a15cb(0x24a)]===_0x4b7d01&&_0x4bf7c7[_0x5a15cb(0x23a)]>=_0x265ed1&&_0x5ac9e0[_0x5a15cb(0x31d)](_0x4bf7c7[_0x5a15cb(0x23a)]);}),sessions=sessions['filter'](_0x1404fe=>!(_0x1404fe[_0x7aeefb(0x24a)]===_0x4b7d01&&_0x1404fe[_0x7aeefb(0x23a)]>=_0x265ed1));}}afterSaveAction(_0x5ac9e0);}function afterSaveAction(_0x4ed29a){const _0xb11253=a2_0x15ab29;DataManager[_0xb11253(0x1db)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0xb11253(0x241)](_0x4ed29a)[_0xb11253(0x2a7)](()=>console['log']('Batch\x20Sync\x20OK'))[_0xb11253(0x216)](_0x5c05f0=>showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ',![]));}const NotificationManager={'formatDate'(_0x558fe3){const _0x58bd80=a2_0x15ab29,_0x4ed1bd=new Date(_0x558fe3),_0x2746d2={'weekday':_0x58bd80(0x2cd),'day':_0x58bd80(0x2d5),'month':'long'};let _0x4fc837=_0x4ed1bd[_0x58bd80(0x29f)](_0x58bd80(0x21d),_0x2746d2);return _0x4fc837[_0x58bd80(0x2bc)](0x0)['toUpperCase']()+_0x4fc837[_0x58bd80(0x2a3)](0x1);},'getText'(_0x281c4b,_0x4498cf){const _0x438cab=a2_0x15ab29,_0x3ecb73=this[_0x438cab(0x2c5)](_0x4498cf[_0x438cab(0x23a)]);switch(_0x281c4b){case _0x438cab(0x279):return _0x438cab(0x1fe)+(_0x438cab(0x249)+_0x3ecb73+'\x0a')+(_0x438cab(0x232)+_0x4498cf[_0x438cab(0x260)]+_0x438cab(0x217)+_0x4498cf[_0x438cab(0x2b2)]+'\x0a\x0a')+_0x438cab(0x282);case _0x438cab(0x30e):return _0x438cab(0x2ac)+_0x438cab(0x325)+(_0x438cab(0x23b)+_0x4498cf['start']+_0x438cab(0x217)+_0x4498cf['end']+_0x438cab(0x28e))+(_0x438cab(0x249)+_0x3ecb73);case _0x438cab(0x22e):return _0x438cab(0x304)+(_0x438cab(0x315)+_0x3ecb73+'\x20('+_0x4498cf[_0x438cab(0x260)]+_0x438cab(0x246));case _0x438cab(0x222):return _0x438cab(0x1cb)+'–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a'+_0x438cab(0x203);default:return'';}},async 'send'(_0x130a1d,_0x52736f){const _0xa55be1=a2_0x15ab29;console[_0xa55be1(0x291)](_0xa55be1(0x211),_0x130a1d,_0x52736f);if(!_0x52736f){console['error'](_0xa55be1(0x2f0));return;}const _0x26a7dd=String(_0x52736f['clientId']);console[_0xa55be1(0x291)](_0xa55be1(0x268),_0x26a7dd);if(!_0x52736f['clientId']||_0x26a7dd==='undefined'||_0x26a7dd==='null'){console[_0xa55be1(0x2d3)](_0xa55be1(0x1d1));if(_0x52736f['client']){const _0x1204b6=clients[_0xa55be1(0x2b5)](_0x1e9634=>_0x1e9634['name']===_0x52736f['client']);if(_0x1204b6)return console[_0xa55be1(0x291)](_0xa55be1(0x2e7),_0x1204b6['id']),this[_0xa55be1(0x32a)](_0x130a1d,{..._0x52736f,'clientId':_0x1204b6['id']});}return;}if(_0x26a7dd['length']<0x5){console[_0xa55be1(0x25c)]('[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)',_0x26a7dd);return;}const _0x2c99ef=this['getText'](_0x130a1d,_0x52736f);if(!_0x2c99ef){console['error'](_0xa55be1(0x27f));return;}console[_0xa55be1(0x291)](_0xa55be1(0x331)+_0x26a7dd+_0xa55be1(0x200)),DataManager['fetchFromServer'](_0xa55be1(0x224),{'chatId':_0x26a7dd,'text':_0x2c99ef})[_0xa55be1(0x2a7)](_0x20361b=>console['log'](_0xa55be1(0x253),_0x20361b))['catch'](_0x3284bf=>console[_0xa55be1(0x2d3)](_0xa55be1(0x1d8),_0x3284bf));}};function getLocalDateStr(_0x3ef7fe){const _0x277ff9=a2_0x15ab29,_0x315018=_0x3ef7fe[_0x277ff9(0x1cf)](),_0x3fa356=String(_0x3ef7fe['getMonth']()+0x1)[_0x277ff9(0x28d)](0x2,'0'),_0x4f61a3=String(_0x3ef7fe[_0x277ff9(0x1c5)]())[_0x277ff9(0x28d)](0x2,'0');return _0x315018+'-'+_0x3fa356+'-'+_0x4f61a3;}function getDateStr(_0x33c7d3){const _0x1462b3=a2_0x15ab29,_0x55ac60=new Date();return _0x55ac60['setDate'](_0x55ac60[_0x1462b3(0x1c5)]()+_0x33c7d3),getLocalDateStr(_0x55ac60);}function getStartOfWeek(_0x1d0ac3){const _0x102706=a2_0x15ab29,_0x5e73b7=(function(){let _0x3e97b9=!![];return function(_0x931ef2,_0x4a593e){const _0x325bbb=_0x3e97b9?function(){const _0x26466a=a2_0x5467;if(_0x4a593e){const _0x27f628=_0x4a593e[_0x26466a(0x2db)](_0x931ef2,arguments);return _0x4a593e=null,_0x27f628;}}:function(){};return _0x3e97b9=![],_0x325bbb;};}()),_0x35b68b=_0x5e73b7(this,function(){const _0x3692ab=a2_0x5467;return _0x35b68b[_0x3692ab(0x1c6)]()[_0x3692ab(0x272)](_0x3692ab(0x1b4))[_0x3692ab(0x1c6)]()[_0x3692ab(0x225)](_0x35b68b)[_0x3692ab(0x272)](_0x3692ab(0x1b4));});_0x35b68b();const _0xd0f313=new Date(_0x1d0ac3),_0x36773a=_0xd0f313[_0x102706(0x205)](),_0x247bc7=_0xd0f313[_0x102706(0x1c5)]()-_0x36773a+(_0x36773a===0x0?-0x6:0x1);return _0xd0f313['setDate'](_0x247bc7),_0xd0f313['setHours'](0x0,0x0,0x0,0x0),_0xd0f313;}function hexToRgba(_0x42247a,_0x23e90e){const _0x48c9a9=a2_0x15ab29;if(!_0x42247a)return _0x48c9a9(0x250);let _0x31f5ae=0x0,_0x591139=0x0,_0x2f19e1=0x0;if(_0x42247a[_0x48c9a9(0x1f3)]===0x4)_0x31f5ae='0x'+_0x42247a[0x1]+_0x42247a[0x1],_0x591139='0x'+_0x42247a[0x2]+_0x42247a[0x2],_0x2f19e1='0x'+_0x42247a[0x3]+_0x42247a[0x3];else _0x42247a['length']===0x7&&(_0x31f5ae='0x'+_0x42247a[0x1]+_0x42247a[0x2],_0x591139='0x'+_0x42247a[0x3]+_0x42247a[0x4],_0x2f19e1='0x'+_0x42247a[0x5]+_0x42247a[0x6]);return _0x48c9a9(0x212)+ +_0x31f5ae+',\x20'+ +_0x591139+',\x20'+ +_0x2f19e1+',\x20'+_0x23e90e+')';}function renderTimeColumn(){const _0x119c4b=a2_0x15ab29,_0x4c336a=document['getElementById'](_0x119c4b(0x2cc)),_0x340456=document[_0x119c4b(0x2ab)](_0x119c4b(0x2cb));_0x4c336a[_0x119c4b(0x1bf)]='',_0x4c336a[_0x119c4b(0x2fc)](_0x340456);for(let _0x119af8=0x0;_0x119af8<0x18;_0x119af8++){const _0x166220=document[_0x119c4b(0x326)](_0x119c4b(0x32c));_0x166220[_0x119c4b(0x2ec)]='time-label';if(_0x119af8>0x0)_0x166220[_0x119c4b(0x1bf)]=_0x119c4b(0x2a6)+String(_0x119af8)[_0x119c4b(0x28d)](0x2,'0')+_0x119c4b(0x2af);_0x4c336a[_0x119c4b(0x2fc)](_0x166220);}}function renderDayRange(_0x2704c4,_0x36cc73){const _0x321ca7=a2_0x15ab29,_0x40277b=document[_0x321ca7(0x2ab)](_0x321ca7(0x1da)),_0x33699f=document[_0x321ca7(0x2ab)]('gridColumns'),_0x6f41b3=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x43ed2c=new Date();_0x43ed2c[_0x321ca7(0x218)](0x0,0x0,0x0,0x0);const _0x1cbfe3=getLocalDateStr(new Date());for(let _0x552b6e=_0x2704c4;_0x552b6e<=_0x36cc73;_0x552b6e++){const _0x5801f5=new Date(_0x43ed2c);_0x5801f5['setDate'](_0x5801f5[_0x321ca7(0x1c5)]()+_0x552b6e);const _0x4a8b0e=getLocalDateStr(_0x5801f5);let _0x16298b=_0x5801f5['getDay']()-0x1;if(_0x16298b===-0x1)_0x16298b=0x6;const _0x1bf47a=_0x4a8b0e===_0x1cbfe3,_0x3360e8=document[_0x321ca7(0x326)](_0x321ca7(0x32c));_0x3360e8[_0x321ca7(0x2ec)]=_0x321ca7(0x238)+(_0x1bf47a?_0x321ca7(0x1dc):''),_0x3360e8['id']='header-'+_0x4a8b0e,_0x3360e8[_0x321ca7(0x256)]('data-date',_0x4a8b0e),_0x3360e8[_0x321ca7(0x1bf)]='<div\x20class=\x22dch-day\x22>'+_0x6f41b3[_0x16298b]+_0x321ca7(0x245)+_0x5801f5[_0x321ca7(0x1c5)]()+_0x321ca7(0x31c)+_0x4a8b0e+_0x321ca7(0x233),_0x3360e8['onclick']=()=>openDayOptions(_0x4a8b0e,_0x6f41b3[_0x16298b]+'\x20'+_0x5801f5[_0x321ca7(0x1c5)]()),_0x40277b[_0x321ca7(0x2fc)](_0x3360e8);const _0x4acd98=document[_0x321ca7(0x326)](_0x321ca7(0x32c));_0x4acd98['className']=_0x321ca7(0x1df)+(_0x1bf47a?_0x321ca7(0x1dc):''),_0x4acd98[_0x321ca7(0x256)](_0x321ca7(0x311),_0x4a8b0e),_0x4acd98[_0x321ca7(0x256)]('data-day-idx',_0x16298b),renderEventsForColumn(_0x4acd98,_0x4a8b0e,_0x16298b),attachLongPressHandler(_0x4acd98,_0x5801f5),_0x33699f['appendChild'](_0x4acd98),updateDayStats(_0x4a8b0e);}}function reRenderBlocks(){const _0x6259d7=a2_0x15ab29;document['querySelectorAll'](_0x6259d7(0x1f0))[_0x6259d7(0x2f1)](_0x5194be=>{const _0x19f6e6=_0x6259d7;_0x5194be['querySelectorAll'](_0x19f6e6(0x1f1))['forEach'](_0x3768ba=>_0x3768ba[_0x19f6e6(0x273)]());const _0x581e3d=_0x5194be[_0x19f6e6(0x287)]('data-date'),_0x558ae9=parseInt(_0x5194be[_0x19f6e6(0x287)](_0x19f6e6(0x27d))),_0x1272b4=Math[_0x19f6e6(0x254)](_0x5194be['offsetLeft']);(availabilityPattern[_0x558ae9]||[])[_0x19f6e6(0x2f1)](_0x4b0a30=>{const _0x448e33=_0x19f6e6,_0x4c8343=document[_0x448e33(0x326)](_0x448e33(0x32c));_0x4c8343[_0x448e33(0x2ec)]='blocked-slot\x20stripe-bg';const _0xda2696=_0x4b0a30*GRID_H;_0x4c8343[_0x448e33(0x2e1)][_0x448e33(0x2c9)]=_0xda2696+'px',_0x4c8343[_0x448e33(0x2e1)][_0x448e33(0x2a4)]='-'+_0x1272b4+'px\x20-'+_0xda2696+'px',_0x5194be[_0x448e33(0x2fc)](_0x4c8343);});if(specialRanges&&specialRanges['length']>0x0){const _0x2af617=new Date(_0x581e3d+_0x19f6e6(0x27b))[_0x19f6e6(0x1d3)](),_0x2c29b5=new Date(_0x581e3d+_0x19f6e6(0x1b0))[_0x19f6e6(0x1d3)]();specialRanges[_0x19f6e6(0x2f1)](_0x23ce0c=>{const _0x103f6b=_0x19f6e6,_0x39bcef=new Date(_0x23ce0c[_0x103f6b(0x260)])['getTime'](),_0x123fad=new Date(_0x23ce0c[_0x103f6b(0x2b2)])[_0x103f6b(0x1d3)](),_0x54ff42=Math[_0x103f6b(0x1d0)](_0x2af617,_0x39bcef),_0x405392=Math['min'](_0x2c29b5,_0x123fad);if(_0x54ff42<_0x405392){if(_0x54ff42<=_0x2af617&&_0x405392>=_0x2c29b5-0xea60){if(!_0x5194be[_0x103f6b(0x2fe)](_0x103f6b(0x208))){const _0x11bdda=document[_0x103f6b(0x326)]('div');_0x11bdda[_0x103f6b(0x2ec)]=_0x103f6b(0x267),_0x11bdda[_0x103f6b(0x2e1)][_0x103f6b(0x2a4)]='-'+_0x1272b4+'px\x200px',_0x5194be[_0x103f6b(0x2fc)](_0x11bdda);}}else{const _0x4010ae=(_0x54ff42-_0x2af617)/0x36ee80*GRID_H,_0x19b49d=(_0x405392-_0x54ff42)/0x36ee80*GRID_H,_0x423f00=document[_0x103f6b(0x326)]('div');_0x423f00[_0x103f6b(0x2ec)]=_0x103f6b(0x2a2),_0x423f00[_0x103f6b(0x2e1)][_0x103f6b(0x2c9)]=_0x4010ae+'px',_0x423f00[_0x103f6b(0x2e1)][_0x103f6b(0x29d)]=_0x19b49d+'px',_0x423f00[_0x103f6b(0x2e1)][_0x103f6b(0x2a4)]='-'+_0x1272b4+'px\x20-'+_0x4010ae+'px',_0x5194be[_0x103f6b(0x2fc)](_0x423f00);}}});}if(dateExceptions[_0x581e3d]===_0x19f6e6(0x1e6)){if(!_0x5194be['querySelector']('.day-off-overlay')){const _0x2a6c4d=document[_0x19f6e6(0x326)](_0x19f6e6(0x32c));_0x2a6c4d[_0x19f6e6(0x2ec)]=_0x19f6e6(0x267),_0x2a6c4d[_0x19f6e6(0x2e1)][_0x19f6e6(0x2a4)]='-'+_0x1272b4+_0x19f6e6(0x1eb),_0x5194be[_0x19f6e6(0x2fc)](_0x2a6c4d);}}renderEventsForColumn(_0x5194be,_0x581e3d,_0x558ae9),updateDayStats(_0x581e3d);});}function updateAllDayStats(){const _0xe3775b=a2_0x15ab29;document['querySelectorAll'](_0xe3775b(0x219))[_0xe3775b(0x2f1)](_0x488884=>{const _0x5ad4c1=_0xe3775b;updateDayStats(_0x488884[_0x5ad4c1(0x287)](_0x5ad4c1(0x311)));});}function updateDayStats(_0x454a80){const _0x3be45c=a2_0x15ab29,_0x1fb791=document['getElementById'](_0x3be45c(0x1ad)+_0x454a80);if(!_0x1fb791)return;const _0x8883ad=new Date(_0x454a80);let _0x553789=_0x8883ad['getDay']()-0x1;if(_0x553789===-0x1)_0x553789=0x6;if(dateExceptions[_0x454a80]===_0x3be45c(0x1e6)){_0x1fb791[_0x3be45c(0x2e1)][_0x3be45c(0x1d5)]=_0x3be45c(0x328);return;}const _0x778175=availabilityPattern[_0x553789]||[],_0x4789dd=0x18-_0x778175[_0x3be45c(0x1f3)],_0x187066=_0x4789dd*0x3c,_0x37be43=sessions['filter'](_0x1ab4e0=>_0x1ab4e0[_0x3be45c(0x23a)]===_0x454a80&&_0x1ab4e0['status']!==_0x3be45c(0x2d0));if(_0x37be43['length']===0x0){_0x1fb791['style'][_0x3be45c(0x1d5)]=_0x3be45c(0x328);return;}let _0x1b6282=_0x37be43[_0x3be45c(0x229)](_0x4707f7=>{const _0x3f4769=_0x3be45c,[_0x123ea0,_0x1edae1]=_0x4707f7[_0x3f4769(0x260)][_0x3f4769(0x266)](':')[_0x3f4769(0x229)](Number),[_0x50ae30,_0x1f15f3]=_0x4707f7[_0x3f4769(0x2b2)][_0x3f4769(0x266)](':')[_0x3f4769(0x229)](Number);return[_0x123ea0*0x3c+_0x1edae1,_0x50ae30*0x3c+_0x1f15f3];});_0x1b6282[_0x3be45c(0x1bb)]((_0x423efc,_0x1b5116)=>_0x423efc[0x0]-_0x1b5116[0x0]);let _0x5e3bde=[];if(_0x1b6282[_0x3be45c(0x1f3)]>0x0){let _0x58049d=_0x1b6282[0x0];for(let _0x1fb18b=0x1;_0x1fb18b<_0x1b6282[_0x3be45c(0x1f3)];_0x1fb18b++){_0x1b6282[_0x1fb18b][0x0]<_0x58049d[0x1]?_0x58049d[0x1]=Math['max'](_0x58049d[0x1],_0x1b6282[_0x1fb18b][0x1]):(_0x5e3bde[_0x3be45c(0x31d)](_0x58049d),_0x58049d=_0x1b6282[_0x1fb18b]);}_0x5e3bde[_0x3be45c(0x31d)](_0x58049d);}let _0x3bcf3f=0x0;_0x5e3bde['forEach'](_0x56e83b=>_0x3bcf3f+=_0x56e83b[0x1]-_0x56e83b[0x0]),_0x1fb791[_0x3be45c(0x2e1)][_0x3be45c(0x1d5)]=_0x3be45c(0x271);const _0x261b10=_0x1fb791[_0x3be45c(0x2fe)](_0x3be45c(0x1ee));if(_0x187066===0x0){_0x261b10[_0x3be45c(0x2e1)][_0x3be45c(0x30d)]=_0x3be45c(0x22f),_0x261b10['style'][_0x3be45c(0x2de)]=_0x3be45c(0x1de);return;}const _0x160e7d=_0x3bcf3f/_0x187066*0x64;console[_0x3be45c(0x291)]('['+_0x454a80+_0x3be45c(0x307)+_0x4789dd+_0x3be45c(0x327)+_0x3bcf3f+_0x3be45c(0x316)+_0x160e7d[_0x3be45c(0x1dd)](0x1)+'%'),_0x160e7d>0x64?(_0x261b10[_0x3be45c(0x2e1)][_0x3be45c(0x30d)]=_0x3be45c(0x22f),_0x261b10[_0x3be45c(0x2e1)][_0x3be45c(0x2de)]=_0x3be45c(0x1de)):(_0x261b10[_0x3be45c(0x2e1)][_0x3be45c(0x30d)]=_0x160e7d+'%',_0x261b10[_0x3be45c(0x2e1)]['background']=_0x3be45c(0x31e));}function renderEventsForColumn(_0x7bf7f2,_0xd2b499,_0x46c5c3){const _0x16a314=a2_0x15ab29,_0x27ede3=sessions[_0x16a314(0x257)](_0x1ee701=>_0x1ee701['dateStr']===_0xd2b499),_0xf602d5=_0x27ede3['map'](_0x492959=>{const _0x5ebccc=_0x16a314,[_0x18e4c0,_0x1402b2]=_0x492959['start'][_0x5ebccc(0x266)](':')['map'](Number),[_0x4199c7,_0x2d4bb0]=_0x492959[_0x5ebccc(0x2b2)][_0x5ebccc(0x266)](':')[_0x5ebccc(0x229)](Number);return{'data':_0x492959,'start':_0x18e4c0*0x3c+_0x1402b2,'end':_0x4199c7*0x3c+_0x2d4bb0,'colIndex':0x0};});_0xf602d5[_0x16a314(0x1bb)]((_0xe56efe,_0x3b8ba0)=>{const _0x12f125=_0x16a314;if(_0xe56efe[_0x12f125(0x260)]!==_0x3b8ba0[_0x12f125(0x260)])return _0xe56efe['start']-_0x3b8ba0[_0x12f125(0x260)];return _0x3b8ba0[_0x12f125(0x2b2)]-_0x3b8ba0[_0x12f125(0x260)]-(_0xe56efe[_0x12f125(0x2b2)]-_0xe56efe[_0x12f125(0x260)]);});const _0x2b2ee3=[];_0xf602d5[_0x16a314(0x2f1)](_0x145ef3=>{const _0x5a0ab7=_0x16a314;let _0x55bbca=![];for(let _0x10bd22=0x0;_0x10bd22<_0x2b2ee3[_0x5a0ab7(0x1f3)];_0x10bd22++){const _0x2ac853=_0x2b2ee3[_0x10bd22],_0x499c44=_0x2ac853[_0x2ac853['length']-0x1];if(_0x145ef3[_0x5a0ab7(0x260)]>=_0x499c44['end']){_0x2ac853['push'](_0x145ef3),_0x145ef3['colIndex']=_0x10bd22,_0x55bbca=!![];break;}}!_0x55bbca&&(_0x2b2ee3[_0x5a0ab7(0x31d)]([_0x145ef3]),_0x145ef3[_0x5a0ab7(0x309)]=_0x2b2ee3[_0x5a0ab7(0x1f3)]-0x1);}),_0xf602d5[_0x16a314(0x2f1)](_0x5fb163=>{const _0x12a035=_0x16a314;let _0x3c61b2=0x0;_0xf602d5[_0x12a035(0x2f1)](_0x1ce917=>{const _0x5a9767=_0x12a035;if(Math[_0x5a9767(0x1d0)](_0x5fb163[_0x5a9767(0x260)],_0x1ce917[_0x5a9767(0x260)])<Math[_0x5a9767(0x330)](_0x5fb163[_0x5a9767(0x2b2)],_0x1ce917['end'])){if(_0x1ce917['colIndex']>_0x3c61b2)_0x3c61b2=_0x1ce917[_0x5a9767(0x309)];}});const _0x2a1bfe=_0x3c61b2+0x1,_0x4b4a97=0x64/_0x2a1bfe,_0x89485d=_0x5fb163[_0x12a035(0x309)]*_0x4b4a97,_0x1cb43e=createEventEl(_0x5fb163[_0x12a035(0x1e3)]);_0x1cb43e[_0x12a035(0x2e1)][_0x12a035(0x30d)]=_0x12a035(0x20c)+_0x4b4a97+_0x12a035(0x276),_0x1cb43e['style'][_0x12a035(0x32e)]='calc('+_0x89485d+_0x12a035(0x20f),_0x1cb43e[_0x12a035(0x2e1)][_0x12a035(0x2fb)]=0xa+_0x5fb163[_0x12a035(0x309)],_0x4b4a97<0x55&&_0x1cb43e['classList'][_0x12a035(0x244)](_0x12a035(0x333)),_0x7bf7f2[_0x12a035(0x2fc)](_0x1cb43e);});}function createEventEl(_0x5d184b){const _0x21f95c=a2_0x15ab29,[_0x1f0d49,_0x459f17]=_0x5d184b[_0x21f95c(0x260)][_0x21f95c(0x266)](':')[_0x21f95c(0x229)](Number),[_0x24219b,_0x252042]=_0x5d184b['end'][_0x21f95c(0x266)](':')['map'](Number),_0x48d97c=(_0x1f0d49*0x3c+_0x459f17)/0x3c*GRID_H,_0x340606=(_0x24219b*0x3c+_0x252042-(_0x1f0d49*0x3c+_0x459f17))/0x3c*GRID_H,_0x69a02b=document[_0x21f95c(0x326)](_0x21f95c(0x32c)),_0x2ded53=_0x5d184b['status']===_0x21f95c(0x2ae)?_0x21f95c(0x301):'';_0x69a02b[_0x21f95c(0x2ec)]=_0x21f95c(0x294)+_0x2ded53,_0x69a02b['style'][_0x21f95c(0x2c9)]=_0x48d97c+'px',_0x69a02b['style'][_0x21f95c(0x29d)]=Math[_0x21f95c(0x1d0)](_0x340606,0x14)+'px';const _0x51365f=clients[_0x21f95c(0x2b5)](_0x3535fd=>_0x5d184b['clientId']&&String(_0x3535fd['id'])===String(_0x5d184b[_0x21f95c(0x223)])||_0x3535fd[_0x21f95c(0x1f6)]===_0x5d184b[_0x21f95c(0x2f2)]),_0x5d6119=_0x51365f?_0x51365f[_0x21f95c(0x2a1)]:_0x21f95c(0x2c3);_0x69a02b[_0x21f95c(0x2e1)][_0x21f95c(0x2dd)]=_0x5d6119,_0x69a02b[_0x21f95c(0x2e1)][_0x21f95c(0x2df)]=hexToRgba(_0x5d6119,0.85);let _0x83e7dc=_0x21f95c(0x25f)+_0x5d184b[_0x21f95c(0x2f2)]+'</div><div\x20class=\x22ev-time\x22>'+_0x5d184b[_0x21f95c(0x260)]+'\x20-\x20'+_0x5d184b[_0x21f95c(0x2b2)]+_0x21f95c(0x1e0);return _0x5d184b[_0x21f95c(0x24a)]&&(_0x83e7dc+='<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>'),_0x5d184b['status']===_0x21f95c(0x2ae)&&(_0x83e7dc+=_0x21f95c(0x202)),_0x69a02b[_0x21f95c(0x1bf)]=_0x83e7dc,_0x69a02b[_0x21f95c(0x321)]=_0x399fd9=>{_0x399fd9['stopPropagation'](),openEdit(_0x5d184b);},_0x69a02b;}function attachLongPressHandler(_0x1cfa2b,_0x2a4fee){const _0x3a94d3=a2_0x15ab29;let _0x20412c=0x0,_0x2d4b15=null;const _0x4c0f7d=_0x193003=>{const _0x53cd9a=a2_0x5467;if(_0x193003[_0x53cd9a(0x31f)][_0x53cd9a(0x278)](_0x53cd9a(0x2b3)))return;isScrolling=![],_0x20412c=_0x193003[_0x53cd9a(0x2d6)]?_0x193003[_0x53cd9a(0x2d6)][0x0]['clientY']:_0x193003[_0x53cd9a(0x288)],_0x2d4b15=setTimeout(()=>{const _0x493cc5=_0x53cd9a;if(!isScrolling){navigator[_0x493cc5(0x20d)]?.(0x32);const _0x4b02ca=_0x1cfa2b['getBoundingClientRect'](),_0x1e7929=Math[_0x493cc5(0x303)]((_0x20412c-_0x4b02ca[_0x493cc5(0x2c9)])/GRID_H);_0x2a4fee[_0x493cc5(0x218)](_0x1e7929,0x0),openAddSession(_0x2a4fee);}},0x1f4);},_0xc910a6=()=>{isScrolling=!![],clearTimeout(_0x2d4b15);},_0x22ae54=()=>{clearTimeout(_0x2d4b15);};_0x1cfa2b['addEventListener'](_0x3a94d3(0x1c4),_0x4c0f7d,{'passive':!![]}),_0x1cfa2b[_0x3a94d3(0x1e8)](_0x3a94d3(0x20a),_0xc910a6,{'passive':!![]}),_0x1cfa2b[_0x3a94d3(0x1e8)](_0x3a94d3(0x1fb),_0x22ae54),_0x1cfa2b['addEventListener']('mousedown',_0x4c0f7d),_0x1cfa2b['addEventListener'](_0x3a94d3(0x1e5),_0xc910a6),_0x1cfa2b[_0x3a94d3(0x1e8)]('mouseup',_0x22ae54);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x44b15e=a2_0x15ab29,_0x3bc637=document['getElementById'](_0x44b15e(0x22d)),_0x238769=_0x3bc637[_0x44b15e(0x275)],_0x8db4f4=_0x3bc637['scrollWidth'],_0x44cb48=_0x3bc637[_0x44b15e(0x263)];if(_0x8db4f4-(_0x238769+_0x44cb48)<0x12c){const _0x2bc042=endOffset;endOffset+=0xe,renderDayRange(_0x2bc042+0x1,endOffset),reRenderBlocks();}if(_0x238769<0x12c){const _0x53645f=startOffset;startOffset-=0xe,prependDays(startOffset,_0x53645f-0x1),_0x3bc637[_0x44b15e(0x275)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x4e8100,_0x18e55d){const _0x424c2c=a2_0x15ab29,_0x1b355c=document[_0x424c2c(0x2ab)](_0x424c2c(0x1da)),_0x716b9d=document[_0x424c2c(0x2ab)](_0x424c2c(0x1c3)),_0x26c685=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x14baee=new Date();_0x14baee[_0x424c2c(0x218)](0x0,0x0,0x0,0x0);const _0x58e693=getLocalDateStr(new Date()),_0xc9c664=document[_0x424c2c(0x1d4)](),_0x219e12=document['createDocumentFragment']();for(let _0x41efa6=_0x4e8100;_0x41efa6<=_0x18e55d;_0x41efa6++){const _0x5857c3=new Date(_0x14baee);_0x5857c3[_0x424c2c(0x26f)](_0x5857c3[_0x424c2c(0x1c5)]()+_0x41efa6);const _0x5183e2=getLocalDateStr(_0x5857c3);let _0x330949=_0x5857c3[_0x424c2c(0x205)]()-0x1;if(_0x330949===-0x1)_0x330949=0x6;const _0x8f8f5c=_0x5183e2===_0x58e693,_0x117e41=document[_0x424c2c(0x326)](_0x424c2c(0x32c));_0x117e41[_0x424c2c(0x2ec)]='day-col-header\x20'+(_0x8f8f5c?_0x424c2c(0x1dc):''),_0x117e41['id']='header-'+_0x5183e2,_0x117e41[_0x424c2c(0x256)](_0x424c2c(0x311),_0x5183e2),_0x117e41[_0x424c2c(0x1bf)]=_0x424c2c(0x2f9)+_0x26c685[_0x330949]+_0x424c2c(0x245)+_0x5857c3[_0x424c2c(0x1c5)]()+_0x424c2c(0x31c)+_0x5183e2+_0x424c2c(0x233),_0x117e41[_0x424c2c(0x321)]=()=>openDayOptions(_0x5183e2,_0x26c685[_0x330949]+'\x20'+_0x5857c3[_0x424c2c(0x1c5)]()),_0xc9c664['appendChild'](_0x117e41);const _0x263fe3=document['createElement'](_0x424c2c(0x32c));_0x263fe3[_0x424c2c(0x2ec)]=_0x424c2c(0x1df)+(_0x8f8f5c?_0x424c2c(0x1dc):''),_0x263fe3['setAttribute'](_0x424c2c(0x311),_0x5183e2),_0x263fe3['setAttribute'](_0x424c2c(0x27d),_0x330949),renderEventsForColumn(_0x263fe3,_0x5183e2,_0x330949),attachLongPressHandler(_0x263fe3,_0x5857c3),_0x219e12['appendChild'](_0x263fe3),updateDayStats(_0x5183e2);}_0x1b355c[_0x424c2c(0x1b3)](_0xc9c664,_0x1b355c['firstChild']),_0x716b9d['insertBefore'](_0x219e12,_0x716b9d['querySelector'](_0x424c2c(0x2d1)));}function validateAppointment(_0x43ea50,_0x291bed,_0x1af4b3,_0x3bc43c,_0x23eedc){const _0xe2a92b=a2_0x15ab29,[_0x1dba01,_0x4ee92e]=_0x291bed['split'](':')['map'](Number),[_0x210f88,_0x2fa896]=_0x1af4b3[_0xe2a92b(0x266)](':')['map'](Number),_0x598635=_0x1dba01*0x3c+_0x4ee92e,_0x1b25e0=_0x210f88*0x3c+_0x2fa896,_0x3fa184=String(_0x23eedc);let _0x5e1abe=![],_0x976a30='';for(let _0x204832 of sessions){if(_0x204832['dateStr']!==_0x43ea50)continue;if(_0x204832['status']===_0xe2a92b(0x2d0))continue;if(_0x3bc43c&&String(_0x204832['id'])===String(_0x3bc43c))continue;const [_0xb213da,_0x107945]=_0x204832[_0xe2a92b(0x260)]['split'](':')['map'](Number),[_0x25673a,_0x59f879]=_0x204832[_0xe2a92b(0x2b2)][_0xe2a92b(0x266)](':')[_0xe2a92b(0x229)](Number),_0x3a9195=_0xb213da*0x3c+_0x107945,_0x4a2ac7=_0x25673a*0x3c+_0x59f879;if(Math[_0xe2a92b(0x1d0)](_0x598635,_0x3a9195)<Math['min'](_0x1b25e0,_0x4a2ac7)){if(_0x204832[_0xe2a92b(0x223)]&&String(_0x204832[_0xe2a92b(0x223)])===_0x3fa184)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0x204832[_0xe2a92b(0x2f2)]+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x5e1abe=!![],_0x976a30=_0x204832[_0xe2a92b(0x2f2)];}}if(_0x5e1abe)return{'valid':!![],'warning':_0xe2a92b(0x2ce)+_0x976a30};return{'valid':!![]};}function updateDateDisplay(){const _0x252ccf=a2_0x15ab29,_0x4c866a=document[_0x252ccf(0x2ab)](_0x252ccf(0x1ec))[_0x252ccf(0x1c2)],_0x24c7f6=document['getElementById'](_0x252ccf(0x2dc));if(!_0x4c866a){_0x24c7f6['textContent']='';return;}const [_0x46ea97,_0x3cee79,_0x30fc8d]=_0x4c866a[_0x252ccf(0x266)]('-')['map'](Number),_0x228b96=new Date(_0x46ea97,_0x3cee79-0x1,_0x30fc8d),_0x280721={'weekday':_0x252ccf(0x2cd),'day':_0x252ccf(0x2d5),'month':_0x252ccf(0x2cd),'year':_0x252ccf(0x2d5)};let _0x36bfaf=_0x228b96[_0x252ccf(0x29f)](_0x252ccf(0x21d),_0x280721);_0x36bfaf=_0x36bfaf[_0x252ccf(0x2bc)](0x0)['toUpperCase']()+_0x36bfaf[_0x252ccf(0x2a3)](0x1),_0x24c7f6[_0x252ccf(0x284)]=_0x36bfaf;}function autoSetEndTime(){const _0x37ef0a=a2_0x15ab29,_0x41c371=document[_0x37ef0a(0x2ab)](_0x37ef0a(0x312))[_0x37ef0a(0x1c2)];if(!_0x41c371)return;const [_0x11abf0,_0x1ec4f8]=_0x41c371[_0x37ef0a(0x266)](':')[_0x37ef0a(0x229)](Number);let _0x2d02d6=_0x11abf0+0x1;if(_0x2d02d6>0x17)_0x2d02d6=0x0;const _0x9d7b5b=String(_0x2d02d6)[_0x37ef0a(0x28d)](0x2,'0')+':'+String(_0x1ec4f8)[_0x37ef0a(0x28d)](0x2,'0');document['getElementById']('inpEnd')[_0x37ef0a(0x1c2)]=_0x9d7b5b;}function populateClientSelect(){const _0x5013e1=a2_0x15ab29,_0x4d540a=document[_0x5013e1(0x2ab)](_0x5013e1(0x2cf));_0x4d540a[_0x5013e1(0x1bf)]='';if(clients[_0x5013e1(0x1f3)]===0x0){const _0x3d0bad=document['createElement'](_0x5013e1(0x24c));_0x3d0bad[_0x5013e1(0x235)]=_0x5013e1(0x255),_0x4d540a[_0x5013e1(0x2fc)](_0x3d0bad);return;}clients[_0x5013e1(0x2f1)](_0x23208f=>{const _0x5138b7=_0x5013e1,_0x1744d6=document['createElement'](_0x5138b7(0x24c));_0x1744d6[_0x5138b7(0x1c2)]=_0x23208f[_0x5138b7(0x1f6)],_0x1744d6['textContent']=_0x23208f[_0x5138b7(0x1f6)],_0x4d540a['appendChild'](_0x1744d6);});}function openActionSheet(_0x229e15){const _0x1f33d4=a2_0x15ab29,_0xf3a54d=document[_0x1f33d4(0x2ab)](_0x1f33d4(0x1fd)),_0x34be79=document[_0x1f33d4(0x2ab)](_0x1f33d4(0x2e6)),_0x133f6b=document[_0x1f33d4(0x2ab)](_0x1f33d4(0x290)),_0x3794bc=document[_0x1f33d4(0x2ab)](_0x1f33d4(0x280)),_0x1ea704=document['getElementById']('asBtnSeries');_0x34be79[_0x1f33d4(0x27c)][_0x1f33d4(0x244)](_0x1f33d4(0x264)),_0xf3a54d[_0x1f33d4(0x27c)]['add'](_0x1f33d4(0x2f7));if(_0x229e15===_0x1f33d4(0x1b8))_0x133f6b[_0x1f33d4(0x284)]='–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏',_0x3794bc[_0x1f33d4(0x284)]=_0x1f33d4(0x22a),_0x3794bc['onclick']=()=>{closeActionSheet(),updateSeriesBatch('single',tempSessionData);},_0x1ea704[_0x1f33d4(0x284)]=_0x1f33d4(0x2f8),_0x1ea704[_0x1f33d4(0x321)]=()=>{const _0x1f616e=_0x1f33d4;closeActionSheet(),updateSeriesBatch(_0x1f616e(0x2d8),tempSessionData);};else _0x229e15===_0x1f33d4(0x220)&&(_0x133f6b[_0x1f33d4(0x284)]=_0x1f33d4(0x322),_0x3794bc[_0x1f33d4(0x284)]=_0x1f33d4(0x22a),_0x3794bc[_0x1f33d4(0x2ec)]='as-button\x20danger',_0x3794bc[_0x1f33d4(0x321)]=()=>{closeActionSheet(),commitDelete('single',sessions['find'](_0x420d84=>_0x420d84['id']===editingId));},_0x1ea704[_0x1f33d4(0x284)]=_0x1f33d4(0x2f8),_0x1ea704['className']='as-button\x20danger\x20bold',_0x1ea704['onclick']=()=>{const _0x3051e0=_0x1f33d4;closeActionSheet(),commitDelete(_0x3051e0(0x2d8),sessions[_0x3051e0(0x2b5)](_0x21fb91=>_0x21fb91['id']===editingId));});}function closeActionSheet(){const _0x518681=a2_0x15ab29;document[_0x518681(0x2ab)]('actionSheet')[_0x518681(0x27c)][_0x518681(0x273)](_0x518681(0x2f7)),document[_0x518681(0x2ab)](_0x518681(0x2e6))[_0x518681(0x27c)][_0x518681(0x273)](_0x518681(0x264));}function openSettings(){const _0x89792b=a2_0x15ab29;openSheet(_0x89792b(0x1d7));}function saveCoachSettings(){const _0x543d90=a2_0x15ab29,_0x41df66=document[_0x543d90(0x2ab)](_0x543d90(0x1c0))[_0x543d90(0x1c2)];localStorage[_0x543d90(0x299)](_0x543d90(0x2e3),_0x41df66),console[_0x543d90(0x291)](_0x543d90(0x29e),_0x41df66),DataManager[_0x543d90(0x214)](_0x543d90(0x1ea),{'settings':{'cancel_window':_0x41df66}})[_0x543d90(0x216)](_0x2ac8b0=>{const _0x4939f0=_0x543d90;console['error'](_0x4939f0(0x24b),_0x2ac8b0),showToast(_0x4939f0(0x2b1),![]);});}function loadCoachSettings(){const _0x59155e=a2_0x15ab29,_0x5b471a=localStorage[_0x59155e(0x2d9)](_0x59155e(0x2e3));_0x5b471a&&(document[_0x59155e(0x2ab)](_0x59155e(0x1c0))['value']=_0x5b471a);}function openRangesSheet(){const _0x131092=a2_0x15ab29;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x131092(0x2a9));}function addRange(){const _0x4f775d=a2_0x15ab29,_0x5a7b30=document[_0x4f775d(0x2ab)](_0x4f775d(0x23c))['value'],_0x3f4435=document[_0x4f775d(0x2ab)](_0x4f775d(0x32f))[_0x4f775d(0x1c2)],_0x367595=document[_0x4f775d(0x2ab)](_0x4f775d(0x26b))['value'],_0xce1464=document[_0x4f775d(0x2ab)](_0x4f775d(0x228))[_0x4f775d(0x1c2)];if(!_0x5a7b30||!_0x3f4435||!_0x367595||!_0xce1464)return alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è');const _0x1e165f=_0x5a7b30+'T'+_0x3f4435,_0x567534=_0x367595+'T'+_0xce1464;if(_0x1e165f>=_0x567534)return alert('–û—à–∏–±–∫–∞\x20–¥–∞—Ç');specialRanges['push']({'start':_0x1e165f,'end':_0x567534}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x4f775d(0x1db)](),DataManager[_0x4f775d(0x214)](_0x4f775d(0x1ea),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x31be54){const _0x4ed87a=a2_0x15ab29;specialRanges[_0x4ed87a(0x258)](_0x31be54,0x1),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x4ed87a(0x214)](_0x4ed87a(0x1ea),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0xe8eb3a=a2_0x15ab29;document[_0xe8eb3a(0x2ab)](_0xe8eb3a(0x23c))['value']='',document[_0xe8eb3a(0x2ab)](_0xe8eb3a(0x32f))[_0xe8eb3a(0x1c2)]=_0xe8eb3a(0x1e2),document[_0xe8eb3a(0x2ab)]('rangeEndDate')[_0xe8eb3a(0x1c2)]='',document[_0xe8eb3a(0x2ab)](_0xe8eb3a(0x228))[_0xe8eb3a(0x1c2)]=_0xe8eb3a(0x28b);}function renderRangesList(){const _0x545ba1=a2_0x15ab29,_0x2efe6c=document[_0x545ba1(0x2ab)](_0x545ba1(0x2d2));_0x2efe6c['innerHTML']='';if(!specialRanges[_0x545ba1(0x1f3)]){_0x2efe6c['innerHTML']=_0x545ba1(0x2ba);return;}specialRanges[_0x545ba1(0x2f1)]((_0x35f0ed,_0x536e64)=>{const _0x3d5115=_0x545ba1,_0x15b16a=document[_0x3d5115(0x326)](_0x3d5115(0x32c));_0x15b16a[_0x3d5115(0x2ec)]='range-item';const _0x241f60=_0xf6af4d=>{const _0x5d9560=_0x3d5115,_0x2c828e=new Date(_0xf6af4d);return _0x2c828e[_0x5d9560(0x1c5)]()+'.'+String(_0x2c828e['getMonth']()+0x1)[_0x5d9560(0x28d)](0x2,'0')+'\x20'+String(_0x2c828e[_0x5d9560(0x21a)]())[_0x5d9560(0x28d)](0x2,'0')+':'+String(_0x2c828e['getMinutes']())[_0x5d9560(0x28d)](0x2,'0');};_0x15b16a['innerHTML']=_0x3d5115(0x24f)+_0x241f60(_0x35f0ed[_0x3d5115(0x260)])+'\x20‚Äî\x20'+_0x241f60(_0x35f0ed[_0x3d5115(0x2b2)])+_0x3d5115(0x1f7)+_0x536e64+_0x3d5115(0x248),_0x2efe6c[_0x3d5115(0x2fc)](_0x15b16a);});}function scrollToToday(){const _0x15f104=a2_0x15ab29,_0x34d926=getLocalDateStr(new Date()),_0x4b72b0=document[_0x15f104(0x2ab)](_0x15f104(0x2bf)+_0x34d926),_0x253eb5=document[_0x15f104(0x2ab)]('matrixViewport');if(_0x4b72b0&&_0x253eb5){const _0x48ed71=_0x253eb5[_0x15f104(0x263)],_0x1722a3=_0x4b72b0['offsetLeft'],_0x4fa281=_0x4b72b0[_0x15f104(0x2a0)];_0x253eb5[_0x15f104(0x275)]=_0x1722a3-_0x48ed71/0x2+_0x4fa281/0x2,_0x253eb5['scrollTop']=0x9*GRID_H;}}function onScroll(){const _0x5f3f8b=a2_0x15ab29,_0x26bf67=document['getElementById'](_0x5f3f8b(0x22d)),_0x325215=document[_0x5f3f8b(0x30c)](_0x5f3f8b(0x219));for(let _0x51c123 of _0x325215)if(_0x51c123[_0x5f3f8b(0x2b9)]>=_0x26bf67[_0x5f3f8b(0x275)]){const _0x4026bb=new Date(_0x51c123[_0x5f3f8b(0x287)]('data-date'));document[_0x5f3f8b(0x2ab)](_0x5f3f8b(0x1bd))[_0x5f3f8b(0x284)]=_0x4026bb['toLocaleString']('ru',{'month':_0x5f3f8b(0x2cd)})[_0x5f3f8b(0x1b5)]()+'\x20'+_0x4026bb[_0x5f3f8b(0x1cf)]();break;}}function showToast(_0x4f2ffa,_0x2d4abf=![]){const _0x416168=a2_0x15ab29,_0x3f6596=document[_0x416168(0x2ab)](_0x416168(0x289));_0x3f6596[_0x416168(0x2ec)]='toast-notification\x20'+(_0x2d4abf?_0x416168(0x27e):''),document[_0x416168(0x2ab)](_0x416168(0x2fa))[_0x416168(0x284)]=_0x2d4abf?_0x416168(0x2b0):_0x416168(0x23d),document[_0x416168(0x2ab)](_0x416168(0x2b7))[_0x416168(0x284)]=_0x4f2ffa,_0x3f6596[_0x416168(0x27c)][_0x416168(0x244)](_0x416168(0x30b)),setTimeout(()=>{const _0x4af303=_0x416168;_0x3f6596[_0x4af303(0x27c)]['remove'](_0x4af303(0x30b));},0xbb8);}function openDayOptions(_0x2dfe49,_0x96ea41){const _0x54c5c7=a2_0x15ab29;selectedDayForOptions=_0x2dfe49,document[_0x54c5c7(0x2ab)](_0x54c5c7(0x30a))[_0x54c5c7(0x284)]=_0x96ea41,openSheet(_0x54c5c7(0x1cd));}function toggleDayOff(){const _0x4958a1=a2_0x15ab29;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x4958a1(0x1e6),reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager[_0x4958a1(0x214)](_0x4958a1(0x1ea),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x1ac9e2=a2_0x15ab29;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x1ac9e2(0x1db)](),DataManager['fetchFromServer'](_0x1ac9e2(0x1ea),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0xc176a2){const _0x484270=a2_0x15ab29;document[_0x484270(0x2ab)](_0x484270(0x207))['classList'][_0x484270(0x244)]('active'),document[_0x484270(0x2ab)](_0xc176a2)[_0x484270(0x27c)]['add'](_0x484270(0x2f7));}function closeAllSheets(){const _0x4190aa=a2_0x15ab29;document[_0x4190aa(0x2ab)](_0x4190aa(0x207))[_0x4190aa(0x27c)]['remove']('active'),document[_0x4190aa(0x30c)](_0x4190aa(0x2e4))['forEach'](_0x36d647=>_0x36d647[_0x4190aa(0x27c)][_0x4190aa(0x273)](_0x4190aa(0x2f7)));}function openPatternEditor(){const _0x24115b=a2_0x15ab29;closeAllSheets(),document[_0x24115b(0x2ab)]('patternEditor')[_0x24115b(0x27c)][_0x24115b(0x244)](_0x24115b(0x2f7)),renderPatternEditor();}function a2_0x1b85(){const _0x425454=['234235FPKbco','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','rgba(100,100,100,0.5)','btn-status-toggle\x20undo-mode','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','[Notify]\x20Server\x20Response:','round','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','setAttribute','filter','splice','sid','uc_sessions_v9','checked','warn','doDateHeader','pe-corner','<div\x20class=\x22ev-title\x22>','start','analyticsSheet','32324syRtLs','clientWidth','active','btnDayToggle','split','day-off-overlay\x20stripe-bg','[Notify]\x20Detected\x20Client\x20ID:','rgba(255,\x2069,\x2058,\x200.15)','\x20–∏–∑\x20','rangeEndDate','DOMContentLoaded','initDataUnsafe','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','setDate','offClick','flex','search','remove','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','scrollLeft','%\x20-\x204px)','btnStatusToggle','closest','create','Error\x20setting\x20color:','T00:00:00','classList','data-day-idx','success','[Notify]\x20Error:\x20Text\x20generation\x20failed','asBtnOne','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','random','textContent','patternInfoBox','doLoadPercent','getAttribute','clientY','toast','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','23:59','getMinutes','padStart','</b>\x0a\x0a','indexOf','asTitle','log',':\x20Client\x20already\x20booked','</span>\x20/\x20','event-card','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','client-stat-card','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','blocked-slot\x20stripe-bg','setItem','user','getMonth','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','height','[Settings]\x20Cancel\x20window\x20set\x20to:','toLocaleDateString','offsetWidth','color','blocked-range-part\x20stripe-bg','slice','backgroundPosition','peGrid','<span>','then','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','rangesSheet','btn-primary\x20btn-secondary','getElementById','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','location','completed',':00</span>','–£—Å–ø–µ—à–Ω–æ','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','end','.event-card','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','find','exceptions','toastMessage','setBackgroundColor','offsetLeft','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','btnDelete','charAt','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','inpEnd','header-','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','stringify','pe-cell\x20','#0a84ff','borderRadius','formatDate','valid','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','parse','top','clients','timeLineBadge','timeColumn','long','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','inpClient','cancelled','.day-column','rangesList','error','syncLoad','numeric','touches','startsWith','series','getItem','week','apply','sheetDateSubtitle','borderLeftColor','background','backgroundColor','warning','style','ready','uc_settings_cancel_window','.sheet','Critical\x20TMA\x20Error:','actionSheetOverlay','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','12XQxBYq','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','#fff','block','className','var(--acc-green)','text/plain;charset=UTF-8','deleted','[Notify]\x20Error:\x20sessionData\x20is\x20null','forEach','client','inpRecurring','Unknown','\x20days','href','open','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','<div\x20class=\x22dch-day\x22>','toastTitle','zIndex','appendChild','planned','querySelector','globalTimeLine','stopPropagation','\x20status-completed','setMonth','floor','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','WebApp','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','pe-time-label','colIndex','dayOptionsTitle','show','querySelectorAll','width','update','status','single','data-date','inpStart','json','rgba(255,\x2069,\x2058,\x200.3)','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','25606ljiqLg','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','total','px\x20-','POST','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','push','var(--acc-current)','target','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','onclick','–£–¥–∞–ª–µ–Ω–∏–µ','all','batch_sync','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','createElement','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','none','Local\x20Save\x20Error','send','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','div','rgba(48,\x20209,\x2088,\x200.15)','left','rangeStartTime','min','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','strokeDashoffset','mini','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','\x20-\x20','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>',']\x20Failed:','sessionSheet','[Sync]\x20Loading\x20','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','inpSeriesCount','done',':00','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','stat-','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','anStart','T23:59:59','custom','settings','insertBefore','(((.+)+)+)+$','toUpperCase','#050505','statLoadCard','save','findIndex','note','sort','10px\x2010px\x200\x200','headerMonth','229368sgvqOm','innerHTML','settingCancelWindow','pattern','value','gridColumns','touchstart','getDate','toString','onClick','anDonutCircle','doWorkHours','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','BackButton','dayOptionsSheet','anEnd','getFullYear','max','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','anPercent','getTime','createDocumentFragment','display','sheetTitle','settingsSheet','[Notify]\x20Network\x20Failed','router.html','daysHeaderTrack','saveLocally','today','toFixed','var(--acc-red)','day-column\x20','</div>','borderColor','00:00','data','from','mousemove','off','doEventsList','addEventListener','now','save_settings','px\x200px','inpDate','var(--acc-orange)','.dch-stats-fill','10px','#gridColumns\x20.day-column','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','localeCompare','length','btn-primary\x20btn-danger','v9.0-BATCH-CALENDAR','name','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','uc_settings_v9','expand','seriesCountContainer','touchend','108991YnIWCF','actionSheet','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','cancel_window','...','pe-col-header','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','inpNote','getDay','208dsvdUV','overlay','.day-off-overlay','guest','touchmove','loadLocal','calc(','vibrate','4414880saVRet','%\x20+\x202px)','.pib-text','[Notify]\x20Attempting\x20to\x20send:','rgba(','4zmWXgk','fetchFromServer','de-item','catch','\x20‚Äî\x20','setHours','.day-col-header','getHours','anCustomDates','includes','ru-RU','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','delete','Telegram','complete','clientId','send_notification','constructor','patternEditor','scroll','rangeEndTime','map','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','rgba(255,255,255,0.05)','ranges','matrixViewport','cancel','100%','recurringOptionContainer','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','mergeServerData','text','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','day-col-header\x20','setHeaderColor','dateStr','<b>‚úÖ\x20','rangeStartDate','–ò–Ω—Ñ–æ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','keys','Local\x20Load\x20Error','syncBatch','disableVerticalSwipes','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','add','</div><div\x20class=\x22dch-num\x22>',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','calendar',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','seriesId','Save\x20settings\x20error:','option','12672iSIbLW'];a2_0x1b85=function(){return _0x425454;};return a2_0x1b85();}function closePatternEditor(){const _0x12710e=a2_0x15ab29;document[_0x12710e(0x2ab)]('patternEditor')[_0x12710e(0x27c)][_0x12710e(0x273)]('open');}function savePattern(){const _0x4c2e12=a2_0x15ab29;document[_0x4c2e12(0x2ab)](_0x4c2e12(0x226))[_0x4c2e12(0x27c)]['remove']('open'),reRenderBlocks(),DataManager[_0x4c2e12(0x1db)](),DataManager[_0x4c2e12(0x214)](_0x4c2e12(0x1ea),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x58d899=a2_0x15ab29,_0x4bc9f3=document[_0x58d899(0x2ab)](_0x58d899(0x2a5));_0x4bc9f3[_0x58d899(0x1bf)]='';const _0x9d1e1c=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x168eda=document[_0x58d899(0x326)](_0x58d899(0x32c));_0x168eda[_0x58d899(0x2ec)]=_0x58d899(0x25e),_0x4bc9f3['appendChild'](_0x168eda),_0x9d1e1c[_0x58d899(0x2f1)]((_0x3ba005,_0x242ff3)=>{const _0x102c89=_0x58d899,_0x3658b9=document[_0x102c89(0x326)]('div');_0x3658b9[_0x102c89(0x2ec)]=_0x102c89(0x201),_0x3658b9[_0x102c89(0x1bf)]=_0x3ba005+_0x102c89(0x318),_0x3658b9[_0x102c89(0x321)]=()=>toggleColPattern(_0x242ff3),_0x4bc9f3[_0x102c89(0x2fc)](_0x3658b9);});for(let _0x2ad21b=0x0;_0x2ad21b<0x18;_0x2ad21b++){const _0x316119=document[_0x58d899(0x326)]('div');_0x316119['className']=_0x58d899(0x308),_0x316119[_0x58d899(0x1bf)]=_0x58d899(0x1a4)+String(_0x2ad21b)[_0x58d899(0x28d)](0x2,'0')+_0x58d899(0x1ab),_0x316119[_0x58d899(0x321)]=()=>toggleRowPattern(_0x2ad21b),_0x4bc9f3['appendChild'](_0x316119);for(let _0x55906a=0x0;_0x55906a<0x7;_0x55906a++){const _0x4851f8=document[_0x58d899(0x326)]('div'),_0x5707c1=(availabilityPattern[_0x55906a]||[])[_0x58d899(0x21c)](_0x2ad21b),_0x146767=!_0x5707c1;_0x4851f8[_0x58d899(0x2ec)]=_0x58d899(0x2c2)+(_0x146767?_0x58d899(0x264):''),_0x4851f8[_0x58d899(0x321)]=()=>toggleSinglePattern(_0x55906a,_0x2ad21b),_0x4bc9f3[_0x58d899(0x2fc)](_0x4851f8);}}}function toggleSinglePattern(_0x414641,_0x5bc6df){const _0x13a7a0=a2_0x15ab29;if(!availabilityPattern[_0x414641])availabilityPattern[_0x414641]=[];const _0x9fd3c=availabilityPattern[_0x414641],_0x3a9a63=_0x9fd3c[_0x13a7a0(0x28f)](_0x5bc6df);_0x3a9a63===-0x1?_0x9fd3c[_0x13a7a0(0x31d)](_0x5bc6df):_0x9fd3c[_0x13a7a0(0x258)](_0x3a9a63,0x1),renderPatternEditor();}function toggleColPattern(_0x1f6d8f){const _0xecd9a3=a2_0x15ab29;if(!availabilityPattern[_0x1f6d8f])availabilityPattern[_0x1f6d8f]=[];const _0x124087=availabilityPattern[_0x1f6d8f];_0x124087[_0xecd9a3(0x1f3)]===0x0?availabilityPattern[_0x1f6d8f]=Array[_0xecd9a3(0x1e4)]({'length':0x18},(_0xc1201d,_0xe30880)=>_0xe30880):availabilityPattern[_0x1f6d8f]=[],renderPatternEditor();}function a2_0x5467(_0x2879b0,_0x5ba6c0){_0x2879b0=_0x2879b0-0x1a3;const _0x359772=a2_0x1b85();let _0x2ddc30=_0x359772[_0x2879b0];return _0x2ddc30;}function toggleRowPattern(_0x5f1782){const _0x3a4cd6=a2_0x15ab29;let _0x5b9970=!![];for(let _0x286cf5=0x0;_0x286cf5<0x7;_0x286cf5++){if((availabilityPattern[_0x286cf5]||[])[_0x3a4cd6(0x21c)](_0x5f1782)){_0x5b9970=![];break;}}for(let _0x3bea6c=0x0;_0x3bea6c<0x7;_0x3bea6c++){if(!availabilityPattern[_0x3bea6c])availabilityPattern[_0x3bea6c]=[];const _0x27b54b=availabilityPattern[_0x3bea6c][_0x3a4cd6(0x28f)](_0x5f1782);if(_0x5b9970){if(_0x27b54b===-0x1)availabilityPattern[_0x3bea6c][_0x3a4cd6(0x31d)](_0x5f1782);}else{if(_0x27b54b!==-0x1)availabilityPattern[_0x3bea6c][_0x3a4cd6(0x258)](_0x27b54b,0x1);}}renderPatternEditor();}function renderPCol(_0x15acd9,_0x5939e7){const _0x1ed432=a2_0x15ab29;_0x15acd9[_0x1ed432(0x1bf)]='';const _0x4d6063=Math[_0x1ed432(0x254)](_0x15acd9[_0x1ed432(0x2b9)]);(availabilityPattern[_0x5939e7]||[])[_0x1ed432(0x2f1)](_0x3bc630=>{const _0x5e0d94=_0x1ed432,_0x17d58b=document[_0x5e0d94(0x326)](_0x5e0d94(0x32c));_0x17d58b['className']=_0x5e0d94(0x298);const _0x2f47f8=_0x3bc630*GRID_H;_0x17d58b[_0x5e0d94(0x2e1)][_0x5e0d94(0x2c9)]=_0x2f47f8+'px',_0x17d58b['style']['backgroundPosition']='-'+_0x4d6063+_0x5e0d94(0x31a)+_0x2f47f8+'px',_0x17d58b[_0x5e0d94(0x321)]=_0x24c8e1=>{const _0x160f58=_0x5e0d94;_0x24c8e1[_0x160f58(0x300)](),toggleSinglePattern(_0x5939e7,_0x3bc630);},_0x15acd9[_0x5e0d94(0x2fc)](_0x17d58b);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x19ab11=a2_0x15ab29,_0x12249f=new Date(),_0x26f790=document[_0x19ab11(0x2ab)](_0x19ab11(0x2ff)),_0x3bf824=document[_0x19ab11(0x2ab)]('timeLineBadge'),_0xdec34a=(_0x12249f['getHours']()*0x3c+_0x12249f['getMinutes']())/0x3c*GRID_H;_0x26f790[_0x19ab11(0x2e1)][_0x19ab11(0x2c9)]=_0xdec34a+'px',_0x26f790['style'][_0x19ab11(0x1d5)]=_0x19ab11(0x2eb),_0x3bf824[_0x19ab11(0x284)]=String(_0x12249f[_0x19ab11(0x21a)]())['padStart'](0x2,'0')+':'+String(_0x12249f[_0x19ab11(0x28c)]())[_0x19ab11(0x28d)](0x2,'0'),_0x3bf824[_0x19ab11(0x2e1)][_0x19ab11(0x1d5)]=_0x19ab11(0x2eb),_0x3bf824['style']['top']=_0xdec34a+'px';}document[a2_0x15ab29(0x1e8)](a2_0x15ab29(0x26c),init);function openDayOptions(_0x350fba){const _0x53e844=a2_0x15ab29;selectedDayForOptions=_0x350fba;const _0x37ae3e=new Date(_0x350fba),_0x4944fb={'weekday':'long','day':'numeric','month':_0x53e844(0x2cd),'year':_0x53e844(0x2d5)},_0x50119f=_0x37ae3e[_0x53e844(0x29f)](_0x53e844(0x21d),_0x4944fb);document['getElementById'](_0x53e844(0x25d))[_0x53e844(0x284)]=_0x50119f['charAt'](0x0)[_0x53e844(0x1b5)]()+_0x50119f[_0x53e844(0x2a3)](0x1);let _0x15cb38=_0x37ae3e[_0x53e844(0x205)]()-0x1;if(_0x15cb38===-0x1)_0x15cb38=0x6;const _0x15d87c=availabilityPattern[_0x15cb38]||[],_0x58fdc5=0x18-_0x15d87c[_0x53e844(0x1f3)],_0x160eb4=_0x58fdc5*0x3c,_0x2963b3=sessions[_0x53e844(0x257)](_0x4aea71=>_0x4aea71[_0x53e844(0x23a)]===_0x350fba&&_0x4aea71[_0x53e844(0x30f)]!==_0x53e844(0x2d0));let _0x3052fa=_0x2963b3['map'](_0xd81e5d=>{const _0x3fdbe5=_0x53e844,[_0x3a597d,_0x2c7e4a]=_0xd81e5d[_0x3fdbe5(0x260)][_0x3fdbe5(0x266)](':')[_0x3fdbe5(0x229)](Number),[_0x5e287d,_0x3f0c90]=_0xd81e5d[_0x3fdbe5(0x2b2)][_0x3fdbe5(0x266)](':')[_0x3fdbe5(0x229)](Number);return[_0x3a597d*0x3c+_0x2c7e4a,_0x5e287d*0x3c+_0x3f0c90];});_0x3052fa[_0x53e844(0x1bb)]((_0xba8e2,_0x270843)=>_0xba8e2[0x0]-_0x270843[0x0]);let _0x33399b=[];if(_0x3052fa['length']>0x0){let _0x20cca0=_0x3052fa[0x0];for(let _0x1b3c67=0x1;_0x1b3c67<_0x3052fa['length'];_0x1b3c67++){_0x3052fa[_0x1b3c67][0x0]<_0x20cca0[0x1]?_0x20cca0[0x1]=Math[_0x53e844(0x1d0)](_0x20cca0[0x1],_0x3052fa[_0x1b3c67][0x1]):(_0x33399b[_0x53e844(0x31d)](_0x20cca0),_0x20cca0=_0x3052fa[_0x1b3c67]);}_0x33399b['push'](_0x20cca0);}let _0x5b25b4=0x0;_0x33399b[_0x53e844(0x2f1)](_0x21226=>_0x5b25b4+=_0x21226[0x1]-_0x21226[0x0]),document[_0x53e844(0x2ab)](_0x53e844(0x1c9))[_0x53e844(0x284)]=formatMinsToHrs(_0x160eb4),document[_0x53e844(0x2ab)]('doBusyHours')[_0x53e844(0x284)]=formatMinsToHrs(_0x5b25b4);const _0x4528dc=_0x160eb4>0x0?Math[_0x53e844(0x254)](_0x5b25b4/_0x160eb4*0x64):0x0,_0x3c96d9=document[_0x53e844(0x2ab)](_0x53e844(0x286));_0x3c96d9[_0x53e844(0x284)]=_0x4528dc+'%';const _0x5d6baf=document[_0x53e844(0x2ab)](_0x53e844(0x1b7));if(_0x4528dc>0x64)_0x3c96d9[_0x53e844(0x2e1)][_0x53e844(0x2a1)]=_0x53e844(0x1de),_0x5d6baf[_0x53e844(0x2e1)][_0x53e844(0x1e1)]=_0x53e844(0x314);else _0x4528dc>0x50?(_0x3c96d9[_0x53e844(0x2e1)][_0x53e844(0x2a1)]=_0x53e844(0x1ed),_0x5d6baf['style']['borderColor']='rgba(255,\x20159,\x2010,\x200.3)'):(_0x3c96d9[_0x53e844(0x2e1)]['color']=_0x53e844(0x2ed),_0x5d6baf[_0x53e844(0x2e1)][_0x53e844(0x1e1)]=_0x53e844(0x22b));const _0x2028fe=document['getElementById'](_0x53e844(0x1e7));_0x2028fe[_0x53e844(0x1bf)]='';_0x2963b3[_0x53e844(0x1f3)]===0x0?_0x2028fe['innerHTML']=_0x53e844(0x237):(_0x2963b3[_0x53e844(0x1bb)]((_0x3c11d4,_0x4c1b2b)=>_0x3c11d4[_0x53e844(0x260)][_0x53e844(0x1f2)](_0x4c1b2b['start'])),_0x2963b3[_0x53e844(0x2f1)](_0x430eff=>{const _0x22626c=_0x53e844,_0x22df54=clients['find'](_0x5a8e4b=>_0x5a8e4b['name']===_0x430eff[_0x22626c(0x2f2)]),_0x2c55a2=_0x22df54?_0x22df54[_0x22626c(0x2a1)]:_0x22626c(0x2ea),_0x5d755f=_0x430eff[_0x22626c(0x30f)]==='completed',_0x3f362a=_0x5d755f?_0x22626c(0x1ae):'',_0x4ca0d6=document[_0x22626c(0x326)]('div');_0x4ca0d6[_0x22626c(0x2ec)]=_0x22626c(0x215),_0x4ca0d6[_0x22626c(0x2e1)][_0x22626c(0x2dd)]=_0x2c55a2,_0x4ca0d6['innerHTML']=_0x22626c(0x32b)+_0x430eff[_0x22626c(0x260)]+_0x22626c(0x1a3)+_0x430eff[_0x22626c(0x2b2)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x430eff[_0x22626c(0x2f2)]+_0x22626c(0x23e)+_0x3f362a+_0x22626c(0x21e),_0x2028fe['appendChild'](_0x4ca0d6);}));const _0x15ea93=document['getElementById'](_0x53e844(0x265)),_0x4c191c=dateExceptions[_0x350fba]===_0x53e844(0x1e6);_0x4c191c?(_0x15ea93[_0x53e844(0x284)]=_0x53e844(0x320),_0x15ea93[_0x53e844(0x2ec)]=_0x53e844(0x2aa),_0x15ea93[_0x53e844(0x2e1)]['color']='var(--acc-green)',_0x15ea93['style'][_0x53e844(0x2de)]=_0x53e844(0x32d)):(_0x15ea93[_0x53e844(0x284)]=_0x53e844(0x281),_0x15ea93[_0x53e844(0x2ec)]=_0x53e844(0x1f4),_0x15ea93[_0x53e844(0x2e1)]['color']=_0x53e844(0x1de),_0x15ea93['style'][_0x53e844(0x2de)]=_0x53e844(0x269)),openSheet(_0x53e844(0x1cd));}let currentAnPeriod='week';function openAnalytics(){const _0x2a6fda=a2_0x15ab29,_0x5caa43=document[_0x2a6fda(0x2fe)]('.period-switch\x20.p-btn');setAnalyticsPeriod(_0x2a6fda(0x2da),_0x5caa43),closeAllSheets(),openSheet(_0x2a6fda(0x261));}function setAnalyticsPeriod(_0x1097db,_0xe9f9a9){const _0x28f0b3=a2_0x15ab29;currentAnPeriod=_0x1097db,document['querySelectorAll']('.period-switch\x20.p-btn')[_0x28f0b3(0x2f1)](_0x5505e5=>_0x5505e5['classList'][_0x28f0b3(0x273)](_0x28f0b3(0x264)));if(_0xe9f9a9)_0xe9f9a9[_0x28f0b3(0x27c)][_0x28f0b3(0x244)](_0x28f0b3(0x264));const _0xd6662=document['getElementById'](_0x28f0b3(0x21b));_0xd6662[_0x28f0b3(0x2e1)]['display']=_0x1097db===_0x28f0b3(0x1b1)?_0x28f0b3(0x271):_0x28f0b3(0x328);const _0x220cd6=new Date();let _0x47e962=new Date(),_0x326cba=new Date();if(_0x1097db===_0x28f0b3(0x2da))_0x47e962=getStartOfWeek(_0x220cd6),_0x326cba=new Date(_0x47e962),_0x326cba[_0x28f0b3(0x26f)](_0x326cba['getDate']()+0x6);else{if(_0x1097db==='month')_0x47e962=new Date(_0x220cd6[_0x28f0b3(0x1cf)](),_0x220cd6['getMonth'](),0x1),_0x326cba=new Date(_0x220cd6['getFullYear'](),_0x220cd6[_0x28f0b3(0x29b)]()+0x1,0x0);else{!document[_0x28f0b3(0x2ab)](_0x28f0b3(0x1af))[_0x28f0b3(0x1c2)]&&(document['getElementById'](_0x28f0b3(0x1af))['value']=getLocalDateStr(_0x220cd6),document['getElementById'](_0x28f0b3(0x1ce))[_0x28f0b3(0x1c2)]=getLocalDateStr(_0x220cd6));refreshAnalytics();return;}}document[_0x28f0b3(0x2ab)]('anStart')['value']=getLocalDateStr(_0x47e962),document[_0x28f0b3(0x2ab)](_0x28f0b3(0x1ce))[_0x28f0b3(0x1c2)]=getLocalDateStr(_0x326cba),refreshAnalytics();}function refreshAnalytics(){const _0x44eca5=a2_0x15ab29,_0x440f49=document[_0x44eca5(0x2ab)](_0x44eca5(0x1af))[_0x44eca5(0x1c2)],_0x4a32a3=document[_0x44eca5(0x2ab)](_0x44eca5(0x1ce))[_0x44eca5(0x1c2)];if(!_0x440f49||!_0x4a32a3)return;const _0x4ac65b=sessions[_0x44eca5(0x257)](_0x5ed96a=>_0x5ed96a['dateStr']>=_0x440f49&&_0x5ed96a[_0x44eca5(0x23a)]<=_0x4a32a3&&_0x5ed96a['status']!==_0x44eca5(0x2d0)),_0x54a524=_0x4ac65b['length'],_0x1d3552=_0x4ac65b[_0x44eca5(0x257)](_0xd3333e=>_0xd3333e[_0x44eca5(0x30f)]===_0x44eca5(0x2ae))['length'],_0x281e50=_0x54a524>0x0?Math[_0x44eca5(0x254)](_0x1d3552/_0x54a524*0x64):0x0;document['getElementById'](_0x44eca5(0x1d2))[_0x44eca5(0x284)]=_0x281e50+'%',document['getElementById']('anTotalStats')[_0x44eca5(0x284)]=_0x1d3552+_0x44eca5(0x26a)+_0x54a524+_0x44eca5(0x2c0);const _0x508ba4=document['getElementById'](_0x44eca5(0x1c8)),_0x4b2026=0x2*Math['PI']*0x23,_0x46e195=_0x4b2026-_0x281e50/0x64*_0x4b2026;_0x508ba4['style'][_0x44eca5(0x332)]=_0x46e195;const _0x293ffb={};_0x4ac65b[_0x44eca5(0x2f1)](_0x20ac3d=>{const _0x587f16=_0x44eca5;if(!_0x293ffb[_0x20ac3d['client']]){const _0x5cacb5=clients[_0x587f16(0x2b5)](_0x7d4e05=>_0x7d4e05['name']===_0x20ac3d[_0x587f16(0x2f2)]);_0x293ffb[_0x20ac3d['client']]={'total':0x0,'done':0x0,'color':_0x5cacb5?_0x5cacb5[_0x587f16(0x2a1)]:'#fff'};}_0x293ffb[_0x20ac3d[_0x587f16(0x2f2)]]['total']++;if(_0x20ac3d[_0x587f16(0x30f)]==='completed')_0x293ffb[_0x20ac3d[_0x587f16(0x2f2)]][_0x587f16(0x1aa)]++;});const _0x57b724=document[_0x44eca5(0x2ab)]('analyticsList');_0x57b724[_0x44eca5(0x1bf)]='';const _0x8609cd=Object['entries'](_0x293ffb)['sort']((_0x21b253,_0xfc3f90)=>_0xfc3f90[0x1][_0x44eca5(0x319)]-_0x21b253[0x1][_0x44eca5(0x319)]);if(_0x8609cd[_0x44eca5(0x1f3)]===0x0){_0x57b724[_0x44eca5(0x1bf)]=_0x44eca5(0x231);return;}_0x8609cd[_0x44eca5(0x2f1)](([_0x3ddd94,_0x1983f5])=>{const _0x35ea3f=_0x44eca5,_0x3534ab=Math[_0x35ea3f(0x254)](_0x1983f5['done']/_0x1983f5[_0x35ea3f(0x319)]*0x64),_0x1efeab=document['createElement'](_0x35ea3f(0x32c));_0x1efeab[_0x35ea3f(0x2ec)]=_0x35ea3f(0x296),_0x1efeab[_0x35ea3f(0x2e1)][_0x35ea3f(0x2dd)]=_0x1983f5[_0x35ea3f(0x2a1)],_0x1efeab[_0x35ea3f(0x1bf)]=_0x35ea3f(0x306)+_0x3ddd94+_0x35ea3f(0x2a8)+_0x1983f5[_0x35ea3f(0x1aa)]+_0x35ea3f(0x293)+_0x1983f5[_0x35ea3f(0x319)]+_0x35ea3f(0x295)+_0x3534ab+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x57b724['appendChild'](_0x1efeab);});}function formatMinsToHrs(_0x1e0507){const _0x52f56c=a2_0x15ab29;if(_0x1e0507===0x0)return'0';const _0x59c684=Math[_0x52f56c(0x303)](_0x1e0507/0x3c),_0x3aeb43=_0x1e0507%0x3c;if(_0x3aeb43===0x0)return _0x59c684+'—á';return _0x59c684+'—á\x20'+_0x3aeb43+'–º';}