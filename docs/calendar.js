const a2_0xb80502=a2_0x4c82;(function(_0xbae31b,_0xd5a82b){const _0x8b230f=a2_0x4c82,_0x32725c=_0xbae31b();while(!![]){try{const _0x525430=parseInt(_0x8b230f(0x270))/0x1*(-parseInt(_0x8b230f(0x337))/0x2)+-parseInt(_0x8b230f(0x2b3))/0x3+parseInt(_0x8b230f(0x2d5))/0x4*(-parseInt(_0x8b230f(0x323))/0x5)+parseInt(_0x8b230f(0x25c))/0x6*(parseInt(_0x8b230f(0x2ac))/0x7)+parseInt(_0x8b230f(0x201))/0x8+parseInt(_0x8b230f(0x2ef))/0x9*(parseInt(_0x8b230f(0x29f))/0xa)+parseInt(_0x8b230f(0x237))/0xb;if(_0x525430===_0xd5a82b)break;else _0x32725c['push'](_0x32725c['shift']());}catch(_0x5020cc){_0x32725c['push'](_0x32725c['shift']());}}}(a2_0x2f1e,0x360d8),function initTMA(){const _0x65af4b=a2_0x4c82,_0x2562cb=(function(){let _0xe3b90a=!![];return function(_0x27a118,_0x4fabdd){const _0x431941=_0xe3b90a?function(){const _0x29e06f=a2_0x4c82;if(_0x4fabdd){const _0x26cca1=_0x4fabdd[_0x29e06f(0x1ec)](_0x27a118,arguments);return _0x4fabdd=null,_0x26cca1;}}:function(){};return _0xe3b90a=![],_0x431941;};}()),_0x10f313=_0x2562cb(this,function(){const _0x525ae9=a2_0x4c82;return _0x10f313[_0x525ae9(0x2c8)]()[_0x525ae9(0x23b)](_0x525ae9(0x29a))['toString']()[_0x525ae9(0x2fc)](_0x10f313)[_0x525ae9(0x23b)](_0x525ae9(0x29a));});_0x10f313();try{const _0x497e4c=window[_0x65af4b(0x1cc)]?.['WebApp'];if(!_0x497e4c)return;_0x497e4c[_0x65af4b(0x1c3)](),_0x497e4c[_0x65af4b(0x2b2)]();try{_0x497e4c['setHeaderColor']('#050505'),_0x497e4c['setBackgroundColor']&&_0x497e4c[_0x65af4b(0x293)](_0x65af4b(0x309));}catch(_0x4756b9){console[_0x65af4b(0x275)]('Error\x20setting\x20color:',_0x4756b9);}try{_0x497e4c['BackButton']&&(_0x497e4c['BackButton']['show'](),_0x497e4c[_0x65af4b(0x1cd)][_0x65af4b(0x325)](),_0x497e4c[_0x65af4b(0x1cd)][_0x65af4b(0x243)](function(){const _0x26a594=_0x65af4b;window['location'][_0x26a594(0x1ee)]=_0x26a594(0x30e);}));}catch(_0x208c02){console[_0x65af4b(0x275)](_0x65af4b(0x2d9),_0x208c02);}try{if(_0x497e4c[_0x65af4b(0x1d1)])_0x497e4c[_0x65af4b(0x1d1)]();}catch(_0x262651){}}catch(_0x2180fd){console[_0x65af4b(0x1bd)]('Critical\x20TMA\x20Error:',_0x2180fd);}}());function isAdmin(){const _0x13b192=a2_0x4c82;try{const _0x1a7604=Number(window[_0x13b192(0x1cc)]?.[_0x13b192(0x1eb)]?.[_0x13b192(0x294)]?.[_0x13b192(0x259)]?.['id']);return _0x1a7604===0xbaf7174;}catch(_0x272bc4){return![];}}const APP_VERSION=a2_0xb80502(0x264),API_URL=a2_0xb80502(0x1f3),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0xb80502(0x281),KEY_SESSIONS=a2_0xb80502(0x260),KEY_SETTINGS=a2_0xb80502(0x23f);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x4929f3=a2_0xb80502;return window[_0x4929f3(0x1cc)]?.[_0x4929f3(0x1eb)]?.['initDataUnsafe']?.[_0x4929f3(0x259)]?.['id']||'guest';},'saveLocally'(){const _0x1cba77=a2_0xb80502;try{localStorage[_0x1cba77(0x2af)](KEY_CLIENTS,JSON['stringify'](clients)),localStorage[_0x1cba77(0x2af)](KEY_SESSIONS,JSON[_0x1cba77(0x304)](sessions)),localStorage[_0x1cba77(0x2af)](KEY_SETTINGS,JSON[_0x1cba77(0x304)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x20e38f){console['error'](_0x1cba77(0x28d),_0x20e38f);}},'loadLocal'(){const _0x547c59=a2_0xb80502;try{const _0x7f8936=localStorage['getItem'](KEY_CLIENTS);if(_0x7f8936)clients=JSON['parse'](_0x7f8936);const _0x38ce7a=localStorage['getItem'](KEY_SESSIONS);if(_0x38ce7a)sessions=JSON['parse'](_0x38ce7a);const _0x3cd6dc=localStorage['getItem'](KEY_SETTINGS);if(_0x3cd6dc){const _0x14db66=JSON[_0x547c59(0x1b6)](_0x3cd6dc);if(_0x14db66['pattern'])availabilityPattern=_0x14db66[_0x547c59(0x26b)];if(_0x14db66[_0x547c59(0x2fd)])dateExceptions=_0x14db66['exceptions'];if(_0x14db66[_0x547c59(0x255)])specialRanges=_0x14db66['ranges'];}else{for(let _0x16cc60=0x0;_0x16cc60<0x7;_0x16cc60++)availabilityPattern[_0x16cc60]=Array[_0x547c59(0x305)]({'length':0xc},(_0x5148a6,_0x53ecb8)=>_0x53ecb8+0x9);}}catch(_0x53979c){console[_0x547c59(0x1bd)](_0x547c59(0x2b1),_0x53979c);}},async 'fetchFromServer'(_0x52966b,_0x556c00={}){const _0x4adce6=a2_0xb80502,_0x57755d=window[_0x4adce6(0x1cc)]?.[_0x4adce6(0x1eb)],_0x4a8830={'action':_0x52966b,'init_data':_0x57755d?.[_0x4adce6(0x1e1)]||'',..._0x556c00};try{const _0x5d3ee1=await fetch(API_URL,{'method':_0x4adce6(0x22c),'headers':{'Content-Type':_0x4adce6(0x213)},'body':JSON[_0x4adce6(0x304)](_0x4a8830)}),_0x1c7522=await _0x5d3ee1[_0x4adce6(0x31e)]();if(!_0x1c7522['ok'])throw new Error(_0x1c7522[_0x4adce6(0x1bd)]||_0x4adce6(0x1e9));return _0x1c7522[_0x4adce6(0x254)];}catch(_0x17d908){console[_0x4adce6(0x1bd)](_0x4adce6(0x330)+_0x52966b+_0x4adce6(0x214),_0x17d908);throw _0x17d908;}},async 'syncLoad'(){const _0x3abad8=a2_0xb80502,_0x14f121=new Date(),_0x20d8f2=_0x14f121[_0x3abad8(0x1bb)]()+'-'+String(_0x14f121['getMonth']()+0x1)[_0x3abad8(0x256)](0x2,'0'),_0x2e76c2=new Date(_0x14f121);_0x2e76c2[_0x3abad8(0x28f)](_0x14f121[_0x3abad8(0x21e)]()+0x1);const _0x460bec=_0x2e76c2[_0x3abad8(0x1bb)]()+'-'+String(_0x2e76c2[_0x3abad8(0x21e)]()+0x1)['padStart'](0x2,'0'),_0x3c06cc=Date[_0x3abad8(0x1f9)]();console['log'](_0x3abad8(0x2b6)+_0x20d8f2+',\x20'+_0x460bec+_0x3abad8(0x1f8));try{const [_0x31dec6,_0x55a7e0]=await Promise[_0x3abad8(0x2da)]([this[_0x3abad8(0x279)](_0x3abad8(0x24f),{'month_str':_0x20d8f2}),this['fetchFromServer'](_0x3abad8(0x24f),{'month_str':_0x460bec})]);if(lastUserActionTime>_0x3c06cc)return console[_0x3abad8(0x1de)](_0x3abad8(0x24b)),![];return this[_0x3abad8(0x282)](_0x31dec6,_0x20d8f2),this[_0x3abad8(0x282)](_0x55a7e0,_0x460bec),this[_0x3abad8(0x1df)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x26ae55){console[_0x3abad8(0x1bd)](_0x26ae55);throw _0x26ae55;}},'mergeServerData'(_0xf3fadf,_0x1d8c41){const _0x173648=a2_0xb80502;if(!_0xf3fadf)return;_0xf3fadf['clients']&&Array[_0x173648(0x321)](_0xf3fadf[_0x173648(0x212)])&&(clients=_0xf3fadf[_0x173648(0x212)]);if(_0xf3fadf['settings']){if(_0xf3fadf['settings']['pattern'])availabilityPattern=_0xf3fadf[_0x173648(0x2a2)][_0x173648(0x26b)];if(_0xf3fadf[_0x173648(0x2a2)]['exceptions'])dateExceptions=_0xf3fadf['settings'][_0x173648(0x2fd)];if(_0xf3fadf['settings'][_0x173648(0x255)])specialRanges=_0xf3fadf[_0x173648(0x2a2)][_0x173648(0x255)];if(_0xf3fadf[_0x173648(0x2a2)][_0x173648(0x204)]){localStorage[_0x173648(0x2af)](_0x173648(0x313),_0xf3fadf[_0x173648(0x2a2)][_0x173648(0x204)]);const _0x115ab4=document[_0x173648(0x1ea)](_0x173648(0x2c4));if(_0x115ab4)_0x115ab4['value']=_0xf3fadf[_0x173648(0x2a2)][_0x173648(0x204)];}}_0xf3fadf[_0x173648(0x2a9)]&&(sessions=sessions[_0x173648(0x295)](_0x429ffb=>!_0x429ffb[_0x173648(0x235)]['startsWith'](_0x1d8c41)),Object[_0x173648(0x252)](_0xf3fadf[_0x173648(0x2a9)])['forEach'](_0x10d63c=>{const _0x5429e8=_0x173648,_0x3e8dbb=_0xf3fadf[_0x5429e8(0x2a9)][_0x10d63c];_0x3e8dbb['forEach'](_0x43830d=>{const _0x202af4=_0x5429e8,_0x415c9d=clients[_0x202af4(0x27c)](_0x35ecb5=>String(_0x35ecb5['id'])===String(_0x43830d['c']));sessions[_0x202af4(0x247)]({'id':_0x43830d['i'],'clientId':_0x43830d['c'],'client':_0x415c9d?_0x415c9d[_0x202af4(0x2f2)]:_0x202af4(0x332),'dateStr':_0x1d8c41+'-'+_0x10d63c[_0x202af4(0x256)](0x2,'0'),'start':_0x43830d['s'],'end':_0x43830d['e'],'status':_0x43830d['st']||_0x202af4(0x1ba),'note':_0x43830d['n']||'','seriesId':_0x43830d[_0x202af4(0x26c)]||null});});}));},async 'syncBatch'(_0x34701f){const _0x4e8e73=a2_0xb80502,_0x5ee08d=[...new Set(_0x34701f)],_0x2b0248=_0x5ee08d['map'](_0x3b503d=>{const _0x3b4a4d=a2_0x4c82,_0x1bae37=sessions['filter'](_0x3b0daf=>_0x3b0daf[_0x3b4a4d(0x235)]===_0x3b503d&&_0x3b0daf[_0x3b4a4d(0x2d0)]!=='deleted'),_0x4e2f43=_0x1bae37[_0x3b4a4d(0x324)](_0x492285=>({'i':_0x492285['id'],'c':_0x492285[_0x3b4a4d(0x2be)],'s':_0x492285[_0x3b4a4d(0x223)],'e':_0x492285[_0x3b4a4d(0x2c7)],'st':_0x492285[_0x3b4a4d(0x2d0)],'n':_0x492285['note'],'sid':_0x492285['seriesId']}));return{'date':_0x3b503d,'day_data':_0x4e2f43};});if(_0x2b0248['length']===0x0)return;console[_0x4e8e73(0x275)]('[Sync]\x20Pushing\x20batch\x20updates\x20for\x20'+_0x2b0248['length']+_0x4e8e73(0x25d)),await this[_0x4e8e73(0x279)](_0x4e8e73(0x2ae),{'changes':_0x2b0248});}};async function init(){const _0x1a2d81=a2_0xb80502;DataManager['loadLocal'](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x1a2d81(0x1ea)](_0x1a2d81(0x22a))[_0x1a2d81(0x21b)](_0x1a2d81(0x208),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x1a2d81(0x2f6)]()[_0x1a2d81(0x27b)](()=>{showToast('–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ',!![]);})[_0x1a2d81(0x28a)](_0x4a9ec0=>{const _0x2488bf=_0x1a2d81;showToast(_0x2488bf(0x2b9),![]);});}function generateId(){const _0xa19d70=a2_0xb80502;return Date[_0xa19d70(0x1f9)]()[_0xa19d70(0x2c8)](0x24)+Math[_0xa19d70(0x2e8)]()['toString'](0x24)[_0xa19d70(0x1b7)](0x2,0x5);}function toggleSeriesInput(){const _0x113a64=a2_0xb80502,_0x33073e=document['getElementById'](_0x113a64(0x2e1))[_0x113a64(0x273)],_0x490010=document['getElementById'](_0x113a64(0x311));_0x490010[_0x113a64(0x2cf)][_0x113a64(0x244)]=_0x33073e?_0x113a64(0x1f0):_0x113a64(0x1bc);const _0x1bbb2a=document['getElementById']('recurringOptionContainer');_0x1bbb2a[_0x113a64(0x2cf)][_0x113a64(0x1c9)]=_0x33073e?'10px\x2010px\x200\x200':_0x113a64(0x2f9);}function openAddSession(_0x4cbdea){const _0x32e507=a2_0xb80502;editingId=null,populateClientSelect(),document['getElementById'](_0x32e507(0x2c1))['textContent']=_0x32e507(0x29e),document['getElementById'](_0x32e507(0x24a))['style'][_0x32e507(0x244)]='none',document['getElementById'](_0x32e507(0x26e))[_0x32e507(0x2cf)][_0x32e507(0x244)]=_0x32e507(0x1bc);const _0x37dc7a=document[_0x32e507(0x1ea)]('recurringOptionContainer'),_0x2b097a=document[_0x32e507(0x1ea)](_0x32e507(0x311));_0x37dc7a['style'][_0x32e507(0x244)]='flex',_0x37dc7a[_0x32e507(0x2cf)][_0x32e507(0x1c9)]=_0x32e507(0x2f9),document[_0x32e507(0x1ea)](_0x32e507(0x2e1))[_0x32e507(0x273)]=![],document[_0x32e507(0x1ea)](_0x32e507(0x318))[_0x32e507(0x2e9)]=0x4,_0x2b097a[_0x32e507(0x2cf)][_0x32e507(0x244)]=_0x32e507(0x1bc),document[_0x32e507(0x1ea)]('inpDate')[_0x32e507(0x2e9)]=getLocalDateStr(_0x4cbdea),updateDateDisplay();const _0x12f890=_0x4cbdea[_0x32e507(0x2eb)]();document[_0x32e507(0x1ea)](_0x32e507(0x1ef))[_0x32e507(0x2e9)]=String(_0x12f890)[_0x32e507(0x256)](0x2,'0')+_0x32e507(0x312),document['getElementById'](_0x32e507(0x2b4))[_0x32e507(0x2e9)]=String(_0x12f890+0x1)['padStart'](0x2,'0')+_0x32e507(0x312),openSheet(_0x32e507(0x1e2));}function openEdit(_0x11250c){const _0x10ce7d=a2_0xb80502;editingId=_0x11250c['id'],populateClientSelect(),document[_0x10ce7d(0x1ea)](_0x10ce7d(0x2c1))[_0x10ce7d(0x1fc)]='–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å',document[_0x10ce7d(0x1ea)](_0x10ce7d(0x24a))[_0x10ce7d(0x2cf)][_0x10ce7d(0x244)]='block';const _0xf0a953=document[_0x10ce7d(0x1ea)](_0x10ce7d(0x26e));_0xf0a953['style'][_0x10ce7d(0x244)]=_0x10ce7d(0x22d);_0x11250c['status']===_0x10ce7d(0x25a)?(_0xf0a953['className']='btn-status-toggle\x20undo-mode',_0xf0a953[_0x10ce7d(0x2bb)]=_0x10ce7d(0x314)):(_0xf0a953['className']=_0x10ce7d(0x233),_0xf0a953[_0x10ce7d(0x2bb)]=_0x10ce7d(0x2ec));const _0x58eafb=!!_0x11250c[_0x10ce7d(0x219)];document[_0x10ce7d(0x1ea)](_0x10ce7d(0x29d))['style'][_0x10ce7d(0x244)]=_0x10ce7d(0x1bc),document['getElementById'](_0x10ce7d(0x311))[_0x10ce7d(0x2cf)][_0x10ce7d(0x244)]=_0x10ce7d(0x1bc),_0x58eafb?(document[_0x10ce7d(0x1ea)]('patternInfoBox')[_0x10ce7d(0x2cf)]['display']='flex',document[_0x10ce7d(0x1ea)]('patternInfoBox')[_0x10ce7d(0x2d1)]('.pib-text')[_0x10ce7d(0x1fc)]='–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫'):document['getElementById'](_0x10ce7d(0x1e4))['style']['display']=_0x10ce7d(0x1bc),document[_0x10ce7d(0x1ea)](_0x10ce7d(0x32e))['value']=_0x11250c['client'],document[_0x10ce7d(0x1ea)](_0x10ce7d(0x2e2))['value']=_0x11250c[_0x10ce7d(0x235)],document['getElementById'](_0x10ce7d(0x1ef))[_0x10ce7d(0x2e9)]=_0x11250c['start'],document['getElementById'](_0x10ce7d(0x2b4))[_0x10ce7d(0x2e9)]=_0x11250c[_0x10ce7d(0x2c7)],document[_0x10ce7d(0x1ea)](_0x10ce7d(0x251))[_0x10ce7d(0x2e9)]=_0x11250c[_0x10ce7d(0x298)]||'',updateDateDisplay(),openSheet(_0x10ce7d(0x1e2));}async function trySaveSession(){const _0xfb73b6=a2_0xb80502,_0x27e214=document[_0xfb73b6(0x1ea)](_0xfb73b6(0x32e))[_0xfb73b6(0x2e9)],_0x1cd0ce=document[_0xfb73b6(0x1ea)]('inpDate')[_0xfb73b6(0x2e9)],_0x3c7b03=document[_0xfb73b6(0x1ea)](_0xfb73b6(0x1ef))[_0xfb73b6(0x2e9)],_0x540b56=document['getElementById'](_0xfb73b6(0x2b4))[_0xfb73b6(0x2e9)],_0x57cc56=document['getElementById'](_0xfb73b6(0x251))[_0xfb73b6(0x2e9)],_0x4336e5=document[_0xfb73b6(0x1ea)](_0xfb73b6(0x2e1))[_0xfb73b6(0x273)];let _0x5d2893=0x4;if(_0x4336e5){const _0xe688a8=parseInt(document[_0xfb73b6(0x1ea)]('inpSeriesCount')['value']);if(!_0xe688a8||_0xe688a8<0x2){showToast(_0xfb73b6(0x239),![]);return;}if(_0xe688a8>0x64){showToast(_0xfb73b6(0x301),![]);return;}_0x5d2893=_0xe688a8;}const _0x4bf9ee=clients['find'](_0x15b199=>_0x15b199['name']===_0x27e214);if(!_0x4bf9ee){showToast(_0xfb73b6(0x30c),![]);return;}const _0x5ac5ca=validateAppointment(_0x1cd0ce,_0x3c7b03,_0x540b56,editingId,_0x4bf9ee['id']);if(!_0x5ac5ca[_0xfb73b6(0x21d)]){showToast(_0x5ac5ca[_0xfb73b6(0x1c0)],![]);return;}_0x5ac5ca[_0xfb73b6(0x261)]&&showToast(_0x5ac5ca[_0xfb73b6(0x261)],![]);const _0x7e9505={'client':_0x27e214,'clientId':_0x4bf9ee['id'],'start':_0x3c7b03,'end':_0x540b56,'note':_0x57cc56,'status':_0xfb73b6(0x1ba)},_0x2098e1=editingId?sessions[_0xfb73b6(0x27c)](_0x2542d0=>_0x2542d0['id']===editingId):null;if(_0x2098e1&&_0x2098e1[_0xfb73b6(0x219)]){tempSessionData={..._0x7e9505,'dateStr':_0x1cd0ce,'id':editingId,'seriesId':_0x2098e1[_0xfb73b6(0x219)]},openActionSheet(_0xfb73b6(0x25f));return;}let _0x32e25f=null;if(!editingId)_0x32e25f='create';else{if(_0x2098e1){if(String(_0x2098e1[_0xfb73b6(0x2be)])!==String(_0x4bf9ee['id']))console[_0xfb73b6(0x275)]('[Notify]\x20Client\x20SWAP\x20detected'),NotificationManager[_0xfb73b6(0x2a7)](_0xfb73b6(0x257),_0x2098e1),_0x32e25f=_0xfb73b6(0x32f);else(_0x2098e1[_0xfb73b6(0x223)]!==_0x3c7b03||_0x2098e1[_0xfb73b6(0x2c7)]!==_0x540b56||_0x2098e1[_0xfb73b6(0x235)]!==_0x1cd0ce)&&(_0x32e25f=_0xfb73b6(0x226));}}if(!editingId&&_0x4336e5){createBatchSeries(_0x7e9505,_0x1cd0ce,_0x5d2893),NotificationManager[_0xfb73b6(0x2a7)]('create',{..._0x7e9505,'dateStr':_0x1cd0ce});return;}lastUserActionTime=Date['now']();const _0x7594af={..._0x7e9505,'dateStr':_0x1cd0ce,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x7594af),_0x32e25f&&NotificationManager['send'](_0x32e25f,_0x7594af);}function toggleSessionStatus(){const _0x3a51f6=a2_0xb80502;lastUserActionTime=Date['now']();const _0x193172=sessions[_0x3a51f6(0x27c)](_0x1f6ef8=>_0x1f6ef8['id']===editingId);if(!_0x193172)return;const _0x330241=_0x193172[_0x3a51f6(0x2d0)]===_0x3a51f6(0x25a)?_0x3a51f6(0x1ba):_0x3a51f6(0x25a);_0x193172[_0x3a51f6(0x2d0)]=_0x330241,saveSingleSession(_0x193172),_0x330241===_0x3a51f6(0x25a)&&NotificationManager[_0x3a51f6(0x2a7)](_0x3a51f6(0x224),_0x193172),showToast(_0x330241==='completed'?_0x3a51f6(0x1d2):_0x3a51f6(0x210),!![]);}function validateAppointment(_0x5c36cb,_0x49dd30,_0x47acbd,_0x2ff725,_0x52f8fc){const _0x743a9d=a2_0xb80502,[_0xcbd6a7,_0x2ea5a6]=_0x49dd30[_0x743a9d(0x316)](':')[_0x743a9d(0x324)](Number),[_0x114501,_0x4a5d50]=_0x47acbd[_0x743a9d(0x316)](':')[_0x743a9d(0x324)](Number),_0x101b4e=_0xcbd6a7*0x3c+_0x2ea5a6,_0x53ee09=_0x114501*0x3c+_0x4a5d50,_0x13245f=String(_0x52f8fc);let _0x5b1957=![],_0xb11472='';for(let _0x251196 of sessions){if(_0x251196[_0x743a9d(0x235)]!==_0x5c36cb)continue;if(_0x251196['status']===_0x743a9d(0x2a3))continue;if(_0x2ff725&&String(_0x251196['id'])===String(_0x2ff725))continue;const [_0x37b9a3,_0x445316]=_0x251196[_0x743a9d(0x223)][_0x743a9d(0x316)](':')[_0x743a9d(0x324)](Number),[_0x61648d,_0x45ce98]=_0x251196['end'][_0x743a9d(0x316)](':')[_0x743a9d(0x324)](Number),_0x238bd7=_0x37b9a3*0x3c+_0x445316,_0x28334e=_0x61648d*0x3c+_0x45ce98;if(Math[_0x743a9d(0x280)](_0x101b4e,_0x238bd7)<Math[_0x743a9d(0x2d6)](_0x53ee09,_0x28334e)){if(_0x251196[_0x743a9d(0x2be)]&&String(_0x251196[_0x743a9d(0x2be)])===_0x13245f)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0x251196['client']+_0x743a9d(0x2d7)};_0x5b1957=!![],_0xb11472=_0x251196[_0x743a9d(0x236)];}}if(_0x5b1957)return{'valid':!![],'warning':'–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20'+_0xb11472};return{'valid':!![]};}function saveSingleSession(_0x86d9d){const _0x220c3c=a2_0xb80502;if(editingId){const _0x1e7ceb=sessions[_0x220c3c(0x2c0)](_0x59ea7a=>_0x59ea7a['id']===editingId);if(_0x1e7ceb!==-0x1)sessions[_0x1e7ceb]=_0x86d9d;}else sessions[_0x220c3c(0x247)](_0x86d9d);afterSaveAction([_0x86d9d[_0x220c3c(0x235)]]);}function createBatchSeries(_0xf7a55,_0x20cec5,_0x33cd34){const _0x31d449=a2_0xb80502,_0x15df13=generateId(),_0x2d3647=[],_0x327063=[];let _0x55e475=0x0,_0x599c95=new Date(_0x20cec5);for(let _0x27a6e6=0x0;_0x27a6e6<_0x33cd34;_0x27a6e6++){const _0x36738f=getLocalDateStr(_0x599c95),_0x2e3496=validateAppointment(_0x36738f,_0xf7a55['start'],_0xf7a55['end'],null,_0xf7a55[_0x31d449(0x2be)]);if(!_0x2e3496[_0x31d449(0x21d)])console[_0x31d449(0x275)](_0x31d449(0x2f8)+_0x36738f+_0x31d449(0x22f)),_0x55e475++;else{const _0x5da53a={..._0xf7a55,'id':generateId(),'dateStr':_0x36738f,'seriesId':_0x15df13};_0x327063[_0x31d449(0x247)](_0x5da53a),_0x2d3647[_0x31d449(0x247)](_0x36738f);}_0x599c95[_0x31d449(0x23c)](_0x599c95['getDate']()+0x7);}if(_0x327063[_0x31d449(0x308)]===0x0){showToast(_0x31d449(0x29c),![]);return;}sessions[_0x31d449(0x247)](..._0x327063),lastUserActionTime=Date[_0x31d449(0x1f9)]();let _0xc709b8=_0x31d449(0x222)+_0x327063['length'];_0x55e475>0x0&&(_0xc709b8+=_0x31d449(0x2bc)+_0x55e475+')'),showToast(_0xc709b8,!![]),afterSaveAction(_0x2d3647);}function updateSeriesBatch(_0x3400be,_0x4b19cc){const _0x3f7475=a2_0xb80502,_0x194128=[],_0x6cb505=_0x4b19cc[_0x3f7475(0x219)];if(_0x3400be===_0x3f7475(0x319)){const _0xe0ed39={..._0x4b19cc,'seriesId':null},_0x101448=sessions[_0x3f7475(0x2c0)](_0x1144c3=>_0x1144c3['id']===_0x4b19cc['id']);if(_0x101448!==-0x1)sessions[_0x101448]=_0xe0ed39;_0x194128[_0x3f7475(0x247)](_0xe0ed39[_0x3f7475(0x235)]);}else{if(_0x3400be===_0x3f7475(0x2ca)){const _0x31c021=_0x4b19cc[_0x3f7475(0x235)];sessions[_0x3f7475(0x24d)]((_0x3ca7ee,_0x4a8f8e)=>{const _0x183487=_0x3f7475;_0x3ca7ee[_0x183487(0x219)]===_0x6cb505&&_0x3ca7ee[_0x183487(0x235)]>=_0x31c021&&(sessions[_0x4a8f8e]={...sessions[_0x4a8f8e],'start':_0x4b19cc[_0x183487(0x223)],'end':_0x4b19cc['end'],'note':_0x4b19cc['note'],'client':_0x4b19cc[_0x183487(0x236)],'clientId':_0x4b19cc[_0x183487(0x2be)]},_0x194128[_0x183487(0x247)](_0x3ca7ee[_0x183487(0x235)]));});}}afterSaveAction(_0x194128);}function tryDeleteSession(){const _0x1f3259=a2_0xb80502,_0x30d71b=sessions['find'](_0x2e0ed1=>_0x2e0ed1['id']===editingId);if(!_0x30d71b)return;_0x30d71b[_0x1f3259(0x219)]?openActionSheet('delete'):commitDelete(_0x1f3259(0x319),_0x30d71b);}function commitDelete(_0x4c996a,_0x3cfa94){const _0x2e527e=a2_0xb80502;lastUserActionTime=Date[_0x2e527e(0x1f9)](),NotificationManager[_0x2e527e(0x2a7)](_0x2e527e(0x257),_0x3cfa94);const _0x12263d=[];if(_0x4c996a===_0x2e527e(0x319))sessions=sessions[_0x2e527e(0x295)](_0x5d7f68=>_0x5d7f68['id']!==_0x3cfa94['id']),_0x12263d[_0x2e527e(0x247)](_0x3cfa94[_0x2e527e(0x235)]);else{if(_0x4c996a==='series'){const _0x3718e1=_0x3cfa94[_0x2e527e(0x235)],_0x5be771=_0x3cfa94[_0x2e527e(0x219)];sessions[_0x2e527e(0x24d)](_0x544bad=>{const _0x39d721=_0x2e527e;_0x544bad[_0x39d721(0x219)]===_0x5be771&&_0x544bad['dateStr']>=_0x3718e1&&_0x12263d['push'](_0x544bad[_0x39d721(0x235)]);}),sessions=sessions[_0x2e527e(0x295)](_0x483e1a=>!(_0x483e1a[_0x2e527e(0x219)]===_0x5be771&&_0x483e1a[_0x2e527e(0x235)]>=_0x3718e1));}}afterSaveAction(_0x12263d);}function afterSaveAction(_0x435637){const _0x48d156=a2_0xb80502;DataManager[_0x48d156(0x1df)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager['syncBatch'](_0x435637)[_0x48d156(0x27b)](()=>console['log']('Batch\x20Sync\x20OK'))[_0x48d156(0x28a)](_0x3f4a77=>showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ',![]));}const NotificationManager={'formatDate'(_0x225b65){const _0x4badb2=a2_0xb80502,_0x89be53=new Date(_0x225b65),_0x7818ea={'weekday':_0x4badb2(0x206),'day':_0x4badb2(0x1f1),'month':'long'};let _0x1a6ec5=_0x89be53['toLocaleDateString']('ru-RU',_0x7818ea);return _0x1a6ec5[_0x4badb2(0x1be)](0x0)['toUpperCase']()+_0x1a6ec5[_0x4badb2(0x286)](0x1);},'getText'(_0x14bf1d,_0x399a03){const _0x8a4799=a2_0xb80502,_0x509d51=this[_0x8a4799(0x2ea)](_0x399a03[_0x8a4799(0x235)]);switch(_0x14bf1d){case'create':return _0x8a4799(0x334)+(_0x8a4799(0x2e6)+_0x509d51+'\x0a')+(_0x8a4799(0x1dd)+_0x399a03[_0x8a4799(0x223)]+_0x8a4799(0x1b9)+_0x399a03[_0x8a4799(0x2c7)]+'\x0a\x0a')+_0x8a4799(0x1fa);case _0x8a4799(0x226):return _0x8a4799(0x203)+_0x8a4799(0x1b8)+(_0x8a4799(0x25b)+_0x399a03[_0x8a4799(0x223)]+_0x8a4799(0x1b9)+_0x399a03[_0x8a4799(0x2c7)]+_0x8a4799(0x2bd))+(_0x8a4799(0x2e6)+_0x509d51);case _0x8a4799(0x257):return _0x8a4799(0x20f)+(_0x8a4799(0x207)+_0x509d51+'\x20('+_0x399a03['start']+_0x8a4799(0x245));case _0x8a4799(0x224):return _0x8a4799(0x27e)+'–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a'+_0x8a4799(0x1b5);default:return'';}},async 'send'(_0x51c296,_0x344c95){const _0x321f6d=a2_0xb80502;console[_0x321f6d(0x275)](_0x321f6d(0x2e7),_0x51c296,_0x344c95);if(!_0x344c95){console[_0x321f6d(0x1bd)](_0x321f6d(0x2c3));return;}const _0x56df0f=String(_0x344c95['clientId']);console[_0x321f6d(0x275)](_0x321f6d(0x274),_0x56df0f);if(!_0x344c95[_0x321f6d(0x2be)]||_0x56df0f===_0x321f6d(0x329)||_0x56df0f==='null'){console['error'](_0x321f6d(0x263));if(_0x344c95[_0x321f6d(0x236)]){const _0x2a1eb1=clients['find'](_0x22d76e=>_0x22d76e['name']===_0x344c95['client']);if(_0x2a1eb1)return console[_0x321f6d(0x275)](_0x321f6d(0x1ff),_0x2a1eb1['id']),this['send'](_0x51c296,{..._0x344c95,'clientId':_0x2a1eb1['id']});}return;}if(_0x56df0f['length']<0x5){console['warn'](_0x321f6d(0x307),_0x56df0f);return;}const _0xd1cc7e=this['getText'](_0x51c296,_0x344c95);if(!_0xd1cc7e){console['error'](_0x321f6d(0x28b));return;}console[_0x321f6d(0x275)](_0x321f6d(0x291)+_0x56df0f+_0x321f6d(0x1f8)),DataManager['fetchFromServer'](_0x321f6d(0x2e0),{'chatId':_0x56df0f,'text':_0xd1cc7e})[_0x321f6d(0x27b)](_0x309b34=>console['log']('[Notify]\x20Server\x20Response:',_0x309b34))['catch'](_0x4c86e7=>console[_0x321f6d(0x1bd)](_0x321f6d(0x287),_0x4c86e7));}};function getLocalDateStr(_0x4878ff){const _0x171f7c=a2_0xb80502,_0x52c95f=_0x4878ff['getFullYear'](),_0x500c78=String(_0x4878ff[_0x171f7c(0x21e)]()+0x1)[_0x171f7c(0x256)](0x2,'0'),_0x487d5f=String(_0x4878ff[_0x171f7c(0x2e3)]())['padStart'](0x2,'0');return _0x52c95f+'-'+_0x500c78+'-'+_0x487d5f;}function getDateStr(_0x15a607){const _0x26270d=a2_0xb80502,_0x8402b0=new Date();return _0x8402b0[_0x26270d(0x23c)](_0x8402b0['getDate']()+_0x15a607),getLocalDateStr(_0x8402b0);}function getStartOfWeek(_0x30d245){const _0x73c380=a2_0xb80502,_0xc36d79=new Date(_0x30d245),_0x2e7a62=_0xc36d79[_0x73c380(0x211)](),_0x4dccf6=_0xc36d79['getDate']()-_0x2e7a62+(_0x2e7a62===0x0?-0x6:0x1);return _0xc36d79[_0x73c380(0x23c)](_0x4dccf6),_0xc36d79[_0x73c380(0x2ff)](0x0,0x0,0x0,0x0),_0xc36d79;}function hexToRgba(_0x1ed432,_0x23bef7){const _0x20f219=a2_0xb80502;if(!_0x1ed432)return'rgba(100,100,100,0.5)';let _0x798550=0x0,_0x344143=0x0,_0x4ce524=0x0;if(_0x1ed432['length']===0x4)_0x798550='0x'+_0x1ed432[0x1]+_0x1ed432[0x1],_0x344143='0x'+_0x1ed432[0x2]+_0x1ed432[0x2],_0x4ce524='0x'+_0x1ed432[0x3]+_0x1ed432[0x3];else _0x1ed432[_0x20f219(0x308)]===0x7&&(_0x798550='0x'+_0x1ed432[0x1]+_0x1ed432[0x2],_0x344143='0x'+_0x1ed432[0x3]+_0x1ed432[0x4],_0x4ce524='0x'+_0x1ed432[0x5]+_0x1ed432[0x6]);return _0x20f219(0x2a5)+ +_0x798550+',\x20'+ +_0x344143+',\x20'+ +_0x4ce524+',\x20'+_0x23bef7+')';}function renderTimeColumn(){const _0x1e9678=a2_0xb80502,_0x1f435c=document['getElementById'](_0x1e9678(0x31f)),_0x38b906=document[_0x1e9678(0x1ea)](_0x1e9678(0x2dc));_0x1f435c['innerHTML']='',_0x1f435c[_0x1e9678(0x1d7)](_0x38b906);for(let _0x40f766=0x0;_0x40f766<0x18;_0x40f766++){const _0x1ba310=document[_0x1e9678(0x215)](_0x1e9678(0x2b5));_0x1ba310[_0x1e9678(0x31c)]='time-label';if(_0x40f766>0x0)_0x1ba310['innerHTML']='<span>'+String(_0x40f766)[_0x1e9678(0x256)](0x2,'0')+_0x1e9678(0x276);_0x1f435c['appendChild'](_0x1ba310);}}function renderDayRange(_0x373721,_0x19acc6){const _0x121b27=a2_0xb80502,_0x10acaf=document[_0x121b27(0x1ea)](_0x121b27(0x303)),_0x3c4c79=document[_0x121b27(0x1ea)](_0x121b27(0x229)),_0x5bf4be=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x4fa55b=new Date();_0x4fa55b[_0x121b27(0x2ff)](0x0,0x0,0x0,0x0);const _0x3d1fda=getLocalDateStr(new Date());for(let _0x4bd180=_0x373721;_0x4bd180<=_0x19acc6;_0x4bd180++){const _0x11b116=new Date(_0x4fa55b);_0x11b116[_0x121b27(0x23c)](_0x11b116[_0x121b27(0x2e3)]()+_0x4bd180);const _0x46b736=getLocalDateStr(_0x11b116);let _0x11c59b=_0x11b116[_0x121b27(0x211)]()-0x1;if(_0x11c59b===-0x1)_0x11c59b=0x6;const _0x2069c2=_0x46b736===_0x3d1fda,_0x5587af=document[_0x121b27(0x215)](_0x121b27(0x2b5));_0x5587af[_0x121b27(0x31c)]=_0x121b27(0x292)+(_0x2069c2?'today':''),_0x5587af['id']=_0x121b27(0x23e)+_0x46b736,_0x5587af['setAttribute']('data-date',_0x46b736),_0x5587af[_0x121b27(0x2bb)]=_0x121b27(0x2cc)+_0x5bf4be[_0x11c59b]+_0x121b27(0x27a)+_0x11b116[_0x121b27(0x2e3)]()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0x46b736+_0x121b27(0x266),_0x5587af[_0x121b27(0x216)]=()=>openDayOptions(_0x46b736,_0x5bf4be[_0x11c59b]+'\x20'+_0x11b116[_0x121b27(0x2e3)]()),_0x10acaf[_0x121b27(0x1d7)](_0x5587af);const _0x3173e7=document[_0x121b27(0x215)](_0x121b27(0x2b5));_0x3173e7[_0x121b27(0x31c)]=_0x121b27(0x1f5)+(_0x2069c2?'today':''),_0x3173e7[_0x121b27(0x21c)](_0x121b27(0x217),_0x46b736),_0x3173e7['setAttribute'](_0x121b27(0x2f3),_0x11c59b),renderEventsForColumn(_0x3173e7,_0x46b736,_0x11c59b),attachLongPressHandler(_0x3173e7,_0x11b116),_0x3c4c79[_0x121b27(0x1d7)](_0x3173e7),updateDayStats(_0x46b736);}}function reRenderBlocks(){const _0x30d7f7=a2_0xb80502;document[_0x30d7f7(0x1c1)](_0x30d7f7(0x32a))[_0x30d7f7(0x24d)](_0x5b48d7=>{const _0x109757=_0x30d7f7;_0x5b48d7['querySelectorAll'](_0x109757(0x296))[_0x109757(0x24d)](_0x4f2881=>_0x4f2881[_0x109757(0x272)]());const _0x2abe94=_0x5b48d7[_0x109757(0x1c4)](_0x109757(0x217)),_0x8da7bd=parseInt(_0x5b48d7[_0x109757(0x1c4)](_0x109757(0x2f3))),_0x230217=Math[_0x109757(0x1c5)](_0x5b48d7[_0x109757(0x1e8)]);(availabilityPattern[_0x8da7bd]||[])[_0x109757(0x24d)](_0x1d0f4e=>{const _0x3a91c0=_0x109757,_0x4c1c31=document[_0x3a91c0(0x215)](_0x3a91c0(0x2b5));_0x4c1c31[_0x3a91c0(0x31c)]=_0x3a91c0(0x2b0);const _0x309f45=_0x1d0f4e*GRID_H;_0x4c1c31[_0x3a91c0(0x2cf)][_0x3a91c0(0x2f4)]=_0x309f45+'px',_0x4c1c31[_0x3a91c0(0x2cf)][_0x3a91c0(0x315)]='-'+_0x230217+'px\x20-'+_0x309f45+'px',_0x5b48d7['appendChild'](_0x4c1c31);});if(specialRanges&&specialRanges['length']>0x0){const _0x1e141a=new Date(_0x2abe94+'T00:00:00')['getTime'](),_0x56e2c0=new Date(_0x2abe94+_0x109757(0x1ca))['getTime']();specialRanges[_0x109757(0x24d)](_0x54493c=>{const _0x5e2cc0=_0x109757,_0x15e101=new Date(_0x54493c[_0x5e2cc0(0x223)])[_0x5e2cc0(0x250)](),_0x130f80=new Date(_0x54493c[_0x5e2cc0(0x2c7)])[_0x5e2cc0(0x250)](),_0x1bf792=Math[_0x5e2cc0(0x280)](_0x1e141a,_0x15e101),_0x104864=Math[_0x5e2cc0(0x2d6)](_0x56e2c0,_0x130f80);if(_0x1bf792<_0x104864){if(_0x1bf792<=_0x1e141a&&_0x104864>=_0x56e2c0-0xea60){if(!_0x5b48d7[_0x5e2cc0(0x2d1)](_0x5e2cc0(0x322))){const _0xca3d3a=document[_0x5e2cc0(0x215)](_0x5e2cc0(0x2b5));_0xca3d3a[_0x5e2cc0(0x31c)]=_0x5e2cc0(0x2ed),_0xca3d3a['style'][_0x5e2cc0(0x315)]='-'+_0x230217+_0x5e2cc0(0x26f),_0x5b48d7[_0x5e2cc0(0x1d7)](_0xca3d3a);}}else{const _0xdafd8d=(_0x1bf792-_0x1e141a)/0x36ee80*GRID_H,_0x565f91=(_0x104864-_0x1bf792)/0x36ee80*GRID_H,_0x28b8cd=document['createElement']('div');_0x28b8cd['className']='blocked-range-part\x20stripe-bg',_0x28b8cd[_0x5e2cc0(0x2cf)][_0x5e2cc0(0x2f4)]=_0xdafd8d+'px',_0x28b8cd[_0x5e2cc0(0x2cf)]['height']=_0x565f91+'px',_0x28b8cd[_0x5e2cc0(0x2cf)][_0x5e2cc0(0x315)]='-'+_0x230217+_0x5e2cc0(0x335)+_0xdafd8d+'px',_0x5b48d7['appendChild'](_0x28b8cd);}}});}if(dateExceptions[_0x2abe94]==='off'){if(!_0x5b48d7[_0x109757(0x2d1)](_0x109757(0x322))){const _0x21e269=document[_0x109757(0x215)](_0x109757(0x2b5));_0x21e269[_0x109757(0x31c)]=_0x109757(0x2ed),_0x21e269[_0x109757(0x2cf)]['backgroundPosition']='-'+_0x230217+'px\x200px',_0x5b48d7[_0x109757(0x1d7)](_0x21e269);}}renderEventsForColumn(_0x5b48d7,_0x2abe94,_0x8da7bd),updateDayStats(_0x2abe94);});}function updateAllDayStats(){const _0x361797=a2_0xb80502;document[_0x361797(0x1c1)](_0x361797(0x22e))[_0x361797(0x24d)](_0x4302c8=>{const _0x2e439c=_0x361797;updateDayStats(_0x4302c8[_0x2e439c(0x1c4)](_0x2e439c(0x217)));});}function updateDayStats(_0x27ce5f){const _0x16e1b7=a2_0xb80502,_0x10bf3f=document[_0x16e1b7(0x1ea)]('stat-'+_0x27ce5f);if(!_0x10bf3f)return;const _0x240d49=new Date(_0x27ce5f);let _0x41c744=_0x240d49['getDay']()-0x1;if(_0x41c744===-0x1)_0x41c744=0x6;if(dateExceptions[_0x27ce5f]===_0x16e1b7(0x2db)){_0x10bf3f[_0x16e1b7(0x2cf)]['display']=_0x16e1b7(0x1bc);return;}const _0x41fd95=availabilityPattern[_0x41c744]||[],_0x343e37=0x18-_0x41fd95[_0x16e1b7(0x308)],_0x5dde66=_0x343e37*0x3c,_0x1250ee=sessions['filter'](_0x12dbd8=>_0x12dbd8[_0x16e1b7(0x235)]===_0x27ce5f&&_0x12dbd8[_0x16e1b7(0x2d0)]!=='cancelled');if(_0x1250ee['length']===0x0){_0x10bf3f[_0x16e1b7(0x2cf)][_0x16e1b7(0x244)]=_0x16e1b7(0x1bc);return;}let _0x38d8d1=_0x1250ee[_0x16e1b7(0x324)](_0x58130b=>{const _0x33ae35=_0x16e1b7,[_0x1900c4,_0x36b144]=_0x58130b[_0x33ae35(0x223)]['split'](':')['map'](Number),[_0x494ed2,_0x6efb31]=_0x58130b['end'][_0x33ae35(0x316)](':')[_0x33ae35(0x324)](Number);return[_0x1900c4*0x3c+_0x36b144,_0x494ed2*0x3c+_0x6efb31];});_0x38d8d1['sort']((_0x1c0de6,_0x5604b4)=>_0x1c0de6[0x0]-_0x5604b4[0x0]);let _0x275386=[];if(_0x38d8d1['length']>0x0){let _0x21d106=_0x38d8d1[0x0];for(let _0x54f817=0x1;_0x54f817<_0x38d8d1[_0x16e1b7(0x308)];_0x54f817++){_0x38d8d1[_0x54f817][0x0]<_0x21d106[0x1]?_0x21d106[0x1]=Math[_0x16e1b7(0x280)](_0x21d106[0x1],_0x38d8d1[_0x54f817][0x1]):(_0x275386['push'](_0x21d106),_0x21d106=_0x38d8d1[_0x54f817]);}_0x275386[_0x16e1b7(0x247)](_0x21d106);}let _0x24881e=0x0;_0x275386[_0x16e1b7(0x24d)](_0x419f9b=>_0x24881e+=_0x419f9b[0x1]-_0x419f9b[0x0]),_0x10bf3f[_0x16e1b7(0x2cf)][_0x16e1b7(0x244)]=_0x16e1b7(0x22d);const _0xc86c70=_0x10bf3f[_0x16e1b7(0x2d1)](_0x16e1b7(0x2de));if(_0x5dde66===0x0){_0xc86c70[_0x16e1b7(0x2cf)][_0x16e1b7(0x258)]=_0x16e1b7(0x228),_0xc86c70['style'][_0x16e1b7(0x1db)]='var(--acc-red)';return;}const _0x1fc552=_0x24881e/_0x5dde66*0x64;console['log']('['+_0x27ce5f+_0x16e1b7(0x2f5)+_0x343e37+_0x16e1b7(0x253)+_0x24881e+_0x16e1b7(0x1ed)+_0x1fc552[_0x16e1b7(0x2cb)](0x1)+'%'),_0x1fc552>0x64?(_0xc86c70[_0x16e1b7(0x2cf)][_0x16e1b7(0x258)]=_0x16e1b7(0x228),_0xc86c70[_0x16e1b7(0x2cf)][_0x16e1b7(0x1db)]=_0x16e1b7(0x326)):(_0xc86c70['style']['width']=_0x1fc552+'%',_0xc86c70['style'][_0x16e1b7(0x1db)]='var(--acc-current)');}function renderEventsForColumn(_0x27a323,_0x20b14a,_0x4f9aab){const _0xe870ee=a2_0xb80502,_0x576c3f=sessions['filter'](_0x2a996b=>_0x2a996b[_0xe870ee(0x235)]===_0x20b14a),_0x594a4c=_0x576c3f[_0xe870ee(0x324)](_0x568d26=>{const _0x2f8571=_0xe870ee,[_0x2e5488,_0x3a4c38]=_0x568d26[_0x2f8571(0x223)][_0x2f8571(0x316)](':')['map'](Number),[_0x11d256,_0x3fa57f]=_0x568d26[_0x2f8571(0x2c7)]['split'](':')[_0x2f8571(0x324)](Number);return{'data':_0x568d26,'start':_0x2e5488*0x3c+_0x3a4c38,'end':_0x11d256*0x3c+_0x3fa57f,'colIndex':0x0};});_0x594a4c[_0xe870ee(0x297)]((_0x4fcc9e,_0x1035bb)=>{const _0x189c7c=_0xe870ee;if(_0x4fcc9e['start']!==_0x1035bb['start'])return _0x4fcc9e[_0x189c7c(0x223)]-_0x1035bb[_0x189c7c(0x223)];return _0x1035bb['end']-_0x1035bb[_0x189c7c(0x223)]-(_0x4fcc9e[_0x189c7c(0x2c7)]-_0x4fcc9e['start']);});const _0x3ae65a=[];_0x594a4c[_0xe870ee(0x24d)](_0x35e02f=>{const _0x51154c=_0xe870ee;let _0x493e06=![];for(let _0x4e4965=0x0;_0x4e4965<_0x3ae65a[_0x51154c(0x308)];_0x4e4965++){const _0x20e405=_0x3ae65a[_0x4e4965],_0x486bf9=_0x20e405[_0x20e405[_0x51154c(0x308)]-0x1];if(_0x35e02f[_0x51154c(0x223)]>=_0x486bf9[_0x51154c(0x2c7)]){_0x20e405[_0x51154c(0x247)](_0x35e02f),_0x35e02f[_0x51154c(0x269)]=_0x4e4965,_0x493e06=!![];break;}}!_0x493e06&&(_0x3ae65a[_0x51154c(0x247)]([_0x35e02f]),_0x35e02f['colIndex']=_0x3ae65a[_0x51154c(0x308)]-0x1);}),_0x594a4c[_0xe870ee(0x24d)](_0x5935e4=>{const _0x1edf0b=_0xe870ee;let _0x178701=0x0;_0x594a4c[_0x1edf0b(0x24d)](_0xcdb511=>{const _0x25b509=_0x1edf0b;if(Math[_0x25b509(0x280)](_0x5935e4[_0x25b509(0x223)],_0xcdb511[_0x25b509(0x223)])<Math[_0x25b509(0x2d6)](_0x5935e4['end'],_0xcdb511[_0x25b509(0x2c7)])){if(_0xcdb511['colIndex']>_0x178701)_0x178701=_0xcdb511['colIndex'];}});const _0x1ab8c1=_0x178701+0x1,_0x32f346=0x64/_0x1ab8c1,_0x2a1555=_0x5935e4['colIndex']*_0x32f346,_0x212e54=createEventEl(_0x5935e4[_0x1edf0b(0x254)]);_0x212e54[_0x1edf0b(0x2cf)]['width']='calc('+_0x32f346+_0x1edf0b(0x221),_0x212e54[_0x1edf0b(0x2cf)][_0x1edf0b(0x24e)]=_0x1edf0b(0x1d6)+_0x2a1555+_0x1edf0b(0x2d8),_0x212e54[_0x1edf0b(0x2cf)]['zIndex']=0xa+_0x5935e4[_0x1edf0b(0x269)],_0x32f346<0x55&&_0x212e54['classList'][_0x1edf0b(0x24c)](_0x1edf0b(0x333)),_0x27a323[_0x1edf0b(0x1d7)](_0x212e54);});}function a2_0x2f1e(){const _0x1877bc=['week','ready','getAttribute','round','anDonutCircle','dayOptionsTitle','<div\x20class=\x22ev-title\x22>','borderRadius','T23:59:59','patternEditor','Telegram','BackButton','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','entries','done','disableVerticalSwipes','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','firstChild','anStart','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','calc(','appendChild','–£–¥–∞–ª–µ–Ω–∏–µ','.day-column','toUpperCase','background','statLoadCard','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','warn','saveLocally','scrollWidth','initData','sessionSheet','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','patternInfoBox','btn-primary\x20btn-secondary','option','rangeStartDate','offsetLeft','Server\x20Error','getElementById','WebApp','apply','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','href','inpStart','block','numeric','rgba(255,\x20159,\x2010,\x200.3)','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','anTotalStats','day-column\x20','rgba(255,\x2069,\x2058,\x200.15)','save_settings','...','now','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','custom','textContent','height','rangesSheet','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','1135992AsYuko','#0a84ff','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','cancel_window','[Settings]\x20Cancel\x20window\x20set\x20to:','long','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','scroll','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','–£—Å–ø–µ—à–Ω–æ','indexOf','doWorkHours','toastMessage','open','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','getDay','clients','text/plain;charset=UTF-8',']\x20Failed:','createElement','onclick','data-date','overlay','seriesId','pe-cell\x20','addEventListener','setAttribute','valid','getMonth','var(--acc-green)','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','%\x20-\x204px)','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','start','complete','btnDayToggle','update','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','100%','gridColumns','matrixViewport','borderColor','POST','flex','.day-col-header',':\x20Client\x20already\x20booked','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','event-card','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','btn-status-toggle',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','dateStr','client','4067844YRPqFz','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','var(--acc-orange)','search','setDate','active','header-','uc_settings_v9','clientY','getItem','toast','onClick','display',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','push','floor','headerMonth','btnDelete','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','add','forEach','left','init_load','getTime','inpNote','keys','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','data','ranges','padStart','cancel','width','user','completed','<b>‚úÖ\x20','1182JZwQVb','\x20days','pe-corner','save','uc_sessions_v9','warning','total','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','v9.0-BATCH-CALENDAR','month','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','toLocaleDateString','as-button\x20danger','colIndex','offsetWidth','pattern','sid','strokeDashoffset','btnStatusToggle','px\x200px','13rqbrlc','anCustomDates','remove','checked','[Notify]\x20Detected\x20Client\x20ID:','log',':00</span>','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','ru-RU','fetchFromServer','</div><div\x20class=\x22dch-num\x22>','then','find','range-item','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','touches','max','uc_clients_v9','mergeServerData','today','doLoadPercent','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','slice','[Notify]\x20Network\x20Failed','delete','.sheet','catch','[Notify]\x20Error:\x20Text\x20generation\x20failed','borderLeftColor','Local\x20Save\x20Error','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','setMonth','getBoundingClientRect','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','day-col-header\x20','setBackgroundColor','initDataUnsafe','filter','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','sort','note','client-stat-card','(((.+)+)+)+$','touchstart','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','recurringOptionContainer','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','7110CzVuQX','getMinutes','sheetDateSubtitle','settings','cancelled','rangeStartTime','rgba(','00:00','send','asBtnSeries','calendar','globalTimeLine','show','5327GrjgDv','text','batch_sync','setItem','blocked-slot\x20stripe-bg','Local\x20Load\x20Error','expand','371184pDuKVJ','inpEnd','div','[Sync]\x20Loading\x20','btn-primary\x20btn-danger','toast-notification\x20','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','innerHTML','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','</b>\x0a\x0a','clientId','pe-time-label','findIndex','sheetTitle','</span>\x20/\x20','[Notify]\x20Error:\x20sessionData\x20is\x20null','settingCancelWindow','stopPropagation','.period-switch\x20.p-btn','end','toString','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','series','toFixed','<div\x20class=\x22dch-day\x22>','</div><div\x20class=\x22ev-time\x22>','analyticsSheet','style','status','querySelector','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','rangesList','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','8eOCMRD','min',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','%\x20+\x202px)','Error\x20setting\x20back\x20button:','all','off','timeLineBadge','anPercent','.dch-stats-fill','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','send_notification','inpRecurring','inpDate','getDate','color','classList','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','[Notify]\x20Attempting\x20to\x20send:','random','value','formatDate','getHours','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','day-off-overlay\x20stripe-bg','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','333qWaNzx','rangeEndDate','createDocumentFragment','name','data-day-idx','top',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','syncLoad','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','[Series]\x20Skipped\x20','10px','toLocaleString','localeCompare','constructor','exceptions','as-button\x20danger\x20bold','setHours','clientWidth','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','toastTitle','daysHeaderTrack','stringify','from','success','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','length','#050505','closest','mousedown','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','rangeEndTime','router.html','anEnd','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','seriesCountContainer',':00','uc_settings_cancel_window','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','backgroundPosition','split','–ò–Ω—Ñ–æ','inpSeriesCount','single','#fff','includes','className','actionSheetOverlay','json','timeColumn','touchmove','isArray','.day-off-overlay','150730WBcruK','map','offClick','var(--acc-red)','vibrate','scrollLeft','undefined','#gridColumns\x20.day-column','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','splice','analyticsList','inpClient','create','[API\x20','\x20status-completed','Unknown','mini','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','px\x20-','peGrid','43478WPiyjV','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','parse','substr','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','\x20‚Äî\x20','planned','getFullYear','none','error','charAt','settingsSheet','msg','querySelectorAll'];a2_0x2f1e=function(){return _0x1877bc;};return a2_0x2f1e();}function createEventEl(_0x216a60){const _0x3f2b15=a2_0xb80502,[_0x4cc303,_0x4e9e96]=_0x216a60[_0x3f2b15(0x223)][_0x3f2b15(0x316)](':')[_0x3f2b15(0x324)](Number),[_0x19e83f,_0x520b34]=_0x216a60['end'][_0x3f2b15(0x316)](':')[_0x3f2b15(0x324)](Number),_0x44667d=(_0x4cc303*0x3c+_0x4e9e96)/0x3c*GRID_H,_0x8daacc=(_0x19e83f*0x3c+_0x520b34-(_0x4cc303*0x3c+_0x4e9e96))/0x3c*GRID_H,_0x78ba28=document[_0x3f2b15(0x215)](_0x3f2b15(0x2b5)),_0x2c7834=_0x216a60[_0x3f2b15(0x2d0)]===_0x3f2b15(0x25a)?_0x3f2b15(0x331):'';_0x78ba28[_0x3f2b15(0x31c)]=_0x3f2b15(0x231)+_0x2c7834,_0x78ba28[_0x3f2b15(0x2cf)]['top']=_0x44667d+'px',_0x78ba28[_0x3f2b15(0x2cf)][_0x3f2b15(0x1fd)]=Math[_0x3f2b15(0x280)](_0x8daacc,0x14)+'px';const _0x1a0c3d=clients[_0x3f2b15(0x27c)](_0x528430=>_0x216a60[_0x3f2b15(0x2be)]&&String(_0x528430['id'])===String(_0x216a60[_0x3f2b15(0x2be)])||_0x528430[_0x3f2b15(0x2f2)]===_0x216a60[_0x3f2b15(0x236)]),_0x543096=_0x1a0c3d?_0x1a0c3d['color']:_0x3f2b15(0x202);_0x78ba28[_0x3f2b15(0x2cf)]['borderLeftColor']=_0x543096,_0x78ba28[_0x3f2b15(0x2cf)]['backgroundColor']=hexToRgba(_0x543096,0.85);let _0x2ec8f7=_0x3f2b15(0x1c8)+_0x216a60[_0x3f2b15(0x236)]+_0x3f2b15(0x2cd)+_0x216a60[_0x3f2b15(0x223)]+'\x20-\x20'+_0x216a60[_0x3f2b15(0x2c7)]+'</div>';return _0x216a60[_0x3f2b15(0x219)]&&(_0x2ec8f7+=_0x3f2b15(0x28e)),_0x216a60[_0x3f2b15(0x2d0)]===_0x3f2b15(0x25a)&&(_0x2ec8f7+=_0x3f2b15(0x32b)),_0x78ba28[_0x3f2b15(0x2bb)]=_0x2ec8f7,_0x78ba28[_0x3f2b15(0x216)]=_0x437030=>{const _0x3ed64f=_0x3f2b15;_0x437030[_0x3ed64f(0x2c5)](),openEdit(_0x216a60);},_0x78ba28;}function attachLongPressHandler(_0x11e48d,_0x1e8d4f){const _0x5bdd26=a2_0xb80502;let _0x59255d=0x0,_0x52a258=null;const _0x104dac=_0x6ff765=>{const _0x405353=a2_0x4c82;if(_0x6ff765['target'][_0x405353(0x30a)]('.event-card'))return;isScrolling=![],_0x59255d=_0x6ff765[_0x405353(0x27f)]?_0x6ff765['touches'][0x0][_0x405353(0x240)]:_0x6ff765[_0x405353(0x240)],_0x52a258=setTimeout(()=>{const _0x3e7de5=_0x405353;if(!isScrolling){navigator[_0x3e7de5(0x327)]?.(0x32);const _0x3a3357=_0x11e48d[_0x3e7de5(0x290)](),_0x3a2121=Math[_0x3e7de5(0x248)]((_0x59255d-_0x3a3357[_0x3e7de5(0x2f4)])/GRID_H);_0x1e8d4f['setHours'](_0x3a2121,0x0),openAddSession(_0x1e8d4f);}},0x1f4);},_0x43c693=()=>{isScrolling=!![],clearTimeout(_0x52a258);},_0x35871b=()=>{clearTimeout(_0x52a258);};_0x11e48d['addEventListener'](_0x5bdd26(0x29b),_0x104dac,{'passive':!![]}),_0x11e48d[_0x5bdd26(0x21b)](_0x5bdd26(0x320),_0x43c693,{'passive':!![]}),_0x11e48d['addEventListener']('touchend',_0x35871b),_0x11e48d[_0x5bdd26(0x21b)](_0x5bdd26(0x30b),_0x104dac),_0x11e48d[_0x5bdd26(0x21b)]('mousemove',_0x43c693),_0x11e48d['addEventListener']('mouseup',_0x35871b);}function cancelLongPress(){}function a2_0x4c82(_0x3510b4,_0x361167){_0x3510b4=_0x3510b4-0x1b5;const _0x2b79a5=a2_0x2f1e();let _0x500de0=_0x2b79a5[_0x3510b4];return _0x500de0;}function handleInfiniteScroll(){const _0x4120a4=a2_0xb80502,_0x38972d=document[_0x4120a4(0x1ea)](_0x4120a4(0x22a)),_0x30869a=_0x38972d[_0x4120a4(0x328)],_0x47d672=_0x38972d[_0x4120a4(0x1e0)],_0x43b794=_0x38972d[_0x4120a4(0x300)];if(_0x47d672-(_0x30869a+_0x43b794)<0x12c){const _0x4827c2=endOffset;endOffset+=0xe,renderDayRange(_0x4827c2+0x1,endOffset),reRenderBlocks();}if(_0x30869a<0x12c){const _0x2e2aba=startOffset;startOffset-=0xe,prependDays(startOffset,_0x2e2aba-0x1),_0x38972d[_0x4120a4(0x328)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x3dc40d,_0x2d5066){const _0x5cf22e=a2_0xb80502,_0x2423af=document['getElementById']('daysHeaderTrack'),_0x4c5bc3=document[_0x5cf22e(0x1ea)]('gridColumns'),_0x2936f9=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0xe69f0=new Date();_0xe69f0[_0x5cf22e(0x2ff)](0x0,0x0,0x0,0x0);const _0x407a29=getLocalDateStr(new Date()),_0x1ce386=document[_0x5cf22e(0x2f1)](),_0x43e6ef=document[_0x5cf22e(0x2f1)]();for(let _0x1d6e4a=_0x3dc40d;_0x1d6e4a<=_0x2d5066;_0x1d6e4a++){const _0x1711dc=new Date(_0xe69f0);_0x1711dc[_0x5cf22e(0x23c)](_0x1711dc[_0x5cf22e(0x2e3)]()+_0x1d6e4a);const _0x4d5622=getLocalDateStr(_0x1711dc);let _0xf47ce6=_0x1711dc[_0x5cf22e(0x211)]()-0x1;if(_0xf47ce6===-0x1)_0xf47ce6=0x6;const _0x2e07e3=_0x4d5622===_0x407a29,_0x37d274=document['createElement'](_0x5cf22e(0x2b5));_0x37d274[_0x5cf22e(0x31c)]=_0x5cf22e(0x292)+(_0x2e07e3?'today':''),_0x37d274['id']=_0x5cf22e(0x23e)+_0x4d5622,_0x37d274['setAttribute'](_0x5cf22e(0x217),_0x4d5622),_0x37d274[_0x5cf22e(0x2bb)]=_0x5cf22e(0x2cc)+_0x2936f9[_0xf47ce6]+_0x5cf22e(0x27a)+_0x1711dc[_0x5cf22e(0x2e3)]()+_0x5cf22e(0x227)+_0x4d5622+_0x5cf22e(0x266),_0x37d274[_0x5cf22e(0x216)]=()=>openDayOptions(_0x4d5622,_0x2936f9[_0xf47ce6]+'\x20'+_0x1711dc['getDate']()),_0x1ce386[_0x5cf22e(0x1d7)](_0x37d274);const _0x9a08c5=document['createElement'](_0x5cf22e(0x2b5));_0x9a08c5['className']=_0x5cf22e(0x1f5)+(_0x2e07e3?_0x5cf22e(0x283):''),_0x9a08c5[_0x5cf22e(0x21c)](_0x5cf22e(0x217),_0x4d5622),_0x9a08c5['setAttribute']('data-day-idx',_0xf47ce6),renderEventsForColumn(_0x9a08c5,_0x4d5622,_0xf47ce6),attachLongPressHandler(_0x9a08c5,_0x1711dc),_0x43e6ef['appendChild'](_0x9a08c5),updateDayStats(_0x4d5622);}_0x2423af['insertBefore'](_0x1ce386,_0x2423af[_0x5cf22e(0x1d3)]),_0x4c5bc3['insertBefore'](_0x43e6ef,_0x4c5bc3[_0x5cf22e(0x2d1)](_0x5cf22e(0x1d9)));}function validateAppointment(_0x5ca783,_0x199e94,_0x8fdac5,_0x24c4b0,_0x26caa1){const _0x5c8b6a=a2_0xb80502,[_0x49354a,_0x55e5d2]=_0x199e94[_0x5c8b6a(0x316)](':')['map'](Number),[_0x3196be,_0x28353b]=_0x8fdac5[_0x5c8b6a(0x316)](':')[_0x5c8b6a(0x324)](Number),_0xaebe0d=_0x49354a*0x3c+_0x55e5d2,_0x29add9=_0x3196be*0x3c+_0x28353b,_0x3fe753=String(_0x26caa1);let _0x372308=![],_0x43ec97='';for(let _0x416566 of sessions){if(_0x416566[_0x5c8b6a(0x235)]!==_0x5ca783)continue;if(_0x416566['status']===_0x5c8b6a(0x2a3))continue;if(_0x24c4b0&&String(_0x416566['id'])===String(_0x24c4b0))continue;const [_0x5883cc,_0x4d7d18]=_0x416566['start']['split'](':')[_0x5c8b6a(0x324)](Number),[_0x12441e,_0x593708]=_0x416566[_0x5c8b6a(0x2c7)][_0x5c8b6a(0x316)](':')[_0x5c8b6a(0x324)](Number),_0x273622=_0x5883cc*0x3c+_0x4d7d18,_0x4fedf5=_0x12441e*0x3c+_0x593708;if(Math[_0x5c8b6a(0x280)](_0xaebe0d,_0x273622)<Math[_0x5c8b6a(0x2d6)](_0x29add9,_0x4fedf5)){if(_0x416566[_0x5c8b6a(0x2be)]&&String(_0x416566[_0x5c8b6a(0x2be)])===_0x3fe753)return{'valid':![],'msg':_0x5c8b6a(0x230)+_0x416566[_0x5c8b6a(0x236)]+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x372308=!![],_0x43ec97=_0x416566[_0x5c8b6a(0x236)];}}if(_0x372308)return{'valid':!![],'warning':_0x5c8b6a(0x2ee)+_0x43ec97};return{'valid':!![]};}function updateDateDisplay(){const _0x148e7=a2_0xb80502,_0x26888e=document['getElementById'](_0x148e7(0x2e2))[_0x148e7(0x2e9)],_0x1ea310=document[_0x148e7(0x1ea)](_0x148e7(0x2a1));if(!_0x26888e){_0x1ea310[_0x148e7(0x1fc)]='';return;}const [_0x398b43,_0x36f0aa,_0x39f6a7]=_0x26888e[_0x148e7(0x316)]('-')[_0x148e7(0x324)](Number),_0x5e21ae=new Date(_0x398b43,_0x36f0aa-0x1,_0x39f6a7),_0x435a3d={'weekday':_0x148e7(0x206),'day':_0x148e7(0x1f1),'month':_0x148e7(0x206),'year':_0x148e7(0x1f1)};let _0x30e78f=_0x5e21ae[_0x148e7(0x267)](_0x148e7(0x278),_0x435a3d);_0x30e78f=_0x30e78f[_0x148e7(0x1be)](0x0)[_0x148e7(0x1da)]()+_0x30e78f[_0x148e7(0x286)](0x1),_0x1ea310[_0x148e7(0x1fc)]=_0x30e78f;}function autoSetEndTime(){const _0x1e0ddc=a2_0xb80502,_0x40e675=document[_0x1e0ddc(0x1ea)](_0x1e0ddc(0x1ef))[_0x1e0ddc(0x2e9)];if(!_0x40e675)return;const [_0x743282,_0x177b73]=_0x40e675['split'](':')['map'](Number);let _0x275ed1=_0x743282+0x1;if(_0x275ed1>0x17)_0x275ed1=0x0;const _0xdf5e79=String(_0x275ed1)[_0x1e0ddc(0x256)](0x2,'0')+':'+String(_0x177b73)['padStart'](0x2,'0');document[_0x1e0ddc(0x1ea)]('inpEnd')[_0x1e0ddc(0x2e9)]=_0xdf5e79;}function populateClientSelect(){const _0x2ea71f=a2_0xb80502,_0x4dfd7c=document[_0x2ea71f(0x1ea)]('inpClient');_0x4dfd7c[_0x2ea71f(0x2bb)]='';if(clients['length']===0x0){const _0x7dc461=document[_0x2ea71f(0x215)]('option');_0x7dc461[_0x2ea71f(0x2ad)]=_0x2ea71f(0x277),_0x4dfd7c[_0x2ea71f(0x1d7)](_0x7dc461);return;}clients[_0x2ea71f(0x24d)](_0x43a3cc=>{const _0x4fd7d3=_0x2ea71f,_0x4fe41b=document[_0x4fd7d3(0x215)](_0x4fd7d3(0x1e6));_0x4fe41b[_0x4fd7d3(0x2e9)]=_0x43a3cc[_0x4fd7d3(0x2f2)],_0x4fe41b[_0x4fd7d3(0x1fc)]=_0x43a3cc[_0x4fd7d3(0x2f2)],_0x4dfd7c['appendChild'](_0x4fe41b);});}function openActionSheet(_0x25e9aa){const _0x52d179=a2_0xb80502,_0x224e5c=document['getElementById']('actionSheet'),_0x2edce5=document['getElementById'](_0x52d179(0x31d)),_0x32e610=document[_0x52d179(0x1ea)]('asTitle'),_0x464d6c=document[_0x52d179(0x1ea)]('asBtnOne'),_0x1b4927=document[_0x52d179(0x1ea)](_0x52d179(0x2a8));_0x2edce5['classList'][_0x52d179(0x24c)](_0x52d179(0x23d)),_0x224e5c['classList'][_0x52d179(0x24c)]('open');if(_0x25e9aa==='save')_0x32e610['textContent']=_0x52d179(0x220),_0x464d6c[_0x52d179(0x1fc)]=_0x52d179(0x285),_0x464d6c[_0x52d179(0x216)]=()=>{const _0x295b63=_0x52d179;closeActionSheet(),updateSeriesBatch(_0x295b63(0x319),tempSessionData);},_0x1b4927[_0x52d179(0x1fc)]=_0x52d179(0x2c9),_0x1b4927[_0x52d179(0x216)]=()=>{closeActionSheet(),updateSeriesBatch('series',tempSessionData);};else _0x25e9aa===_0x52d179(0x288)&&(_0x32e610['textContent']=_0x52d179(0x1d8),_0x464d6c[_0x52d179(0x1fc)]='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x464d6c[_0x52d179(0x31c)]=_0x52d179(0x268),_0x464d6c[_0x52d179(0x216)]=()=>{const _0x256b09=_0x52d179;closeActionSheet(),commitDelete(_0x256b09(0x319),sessions['find'](_0x1cf66d=>_0x1cf66d['id']===editingId));},_0x1b4927['textContent']=_0x52d179(0x2c9),_0x1b4927[_0x52d179(0x31c)]=_0x52d179(0x2fe),_0x1b4927[_0x52d179(0x216)]=()=>{const _0x1f4073=_0x52d179;closeActionSheet(),commitDelete(_0x1f4073(0x2ca),sessions[_0x1f4073(0x27c)](_0x5020b4=>_0x5020b4['id']===editingId));});}function closeActionSheet(){const _0x418bbe=a2_0xb80502;document[_0x418bbe(0x1ea)]('actionSheet')['classList'][_0x418bbe(0x272)](_0x418bbe(0x20e)),document[_0x418bbe(0x1ea)]('actionSheetOverlay')[_0x418bbe(0x2e5)][_0x418bbe(0x272)](_0x418bbe(0x23d));}function openSettings(){const _0x10d5d9=a2_0xb80502;openSheet(_0x10d5d9(0x1bf));}function saveCoachSettings(){const _0x29bb5e=a2_0xb80502,_0x34ab01=document[_0x29bb5e(0x1ea)]('settingCancelWindow')[_0x29bb5e(0x2e9)];localStorage[_0x29bb5e(0x2af)](_0x29bb5e(0x313),_0x34ab01),console[_0x29bb5e(0x275)](_0x29bb5e(0x205),_0x34ab01),DataManager[_0x29bb5e(0x279)](_0x29bb5e(0x1f7),{'settings':{'cancel_window':_0x34ab01}})[_0x29bb5e(0x28a)](_0x47e0a8=>{const _0x1a2311=_0x29bb5e;console[_0x1a2311(0x1bd)]('Save\x20settings\x20error:',_0x47e0a8),showToast(_0x1a2311(0x2f7),![]);});}function loadCoachSettings(){const _0x1ca449=a2_0xb80502,_0x270368=localStorage[_0x1ca449(0x241)]('uc_settings_cancel_window');_0x270368&&(document['getElementById'](_0x1ca449(0x2c4))[_0x1ca449(0x2e9)]=_0x270368);}function openRangesSheet(){const _0x3d33e6=a2_0xb80502;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x3d33e6(0x1fe));}function addRange(){const _0x5904cf=a2_0xb80502,_0xa64cb4=document[_0x5904cf(0x1ea)](_0x5904cf(0x1e7))[_0x5904cf(0x2e9)],_0x468fd2=document[_0x5904cf(0x1ea)](_0x5904cf(0x2a4))[_0x5904cf(0x2e9)],_0x48bbdf=document['getElementById'](_0x5904cf(0x2f0))[_0x5904cf(0x2e9)],_0x40100d=document['getElementById']('rangeEndTime')[_0x5904cf(0x2e9)];if(!_0xa64cb4||!_0x468fd2||!_0x48bbdf||!_0x40100d)return alert(_0x5904cf(0x2d4));const _0x5c8ee5=_0xa64cb4+'T'+_0x468fd2,_0x311099=_0x48bbdf+'T'+_0x40100d;if(_0x5c8ee5>=_0x311099)return alert('–û—à–∏–±–∫–∞\x20–¥–∞—Ç');specialRanges[_0x5904cf(0x247)]({'start':_0x5c8ee5,'end':_0x311099}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager['fetchFromServer']('save_settings',{'settings':{'ranges':specialRanges}});}function deleteRange(_0x5b759a){const _0x23b141=a2_0xb80502;specialRanges[_0x23b141(0x32c)](_0x5b759a,0x1),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x23b141(0x279)](_0x23b141(0x1f7),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x289e7a=a2_0xb80502;document[_0x289e7a(0x1ea)]('rangeStartDate')[_0x289e7a(0x2e9)]='',document[_0x289e7a(0x1ea)](_0x289e7a(0x2a4))[_0x289e7a(0x2e9)]=_0x289e7a(0x2a6),document[_0x289e7a(0x1ea)](_0x289e7a(0x2f0))[_0x289e7a(0x2e9)]='',document[_0x289e7a(0x1ea)](_0x289e7a(0x30d))[_0x289e7a(0x2e9)]='23:59';}function renderRangesList(){const _0x29a66a=a2_0xb80502,_0x10b20e=document[_0x29a66a(0x1ea)](_0x29a66a(0x2d3));_0x10b20e[_0x29a66a(0x2bb)]='';if(!specialRanges[_0x29a66a(0x308)]){_0x10b20e[_0x29a66a(0x2bb)]=_0x29a66a(0x2ba);return;}specialRanges['forEach']((_0x1e6b49,_0x2ae1d3)=>{const _0x797f88=_0x29a66a,_0xb0ce1e=document[_0x797f88(0x215)]('div');_0xb0ce1e[_0x797f88(0x31c)]=_0x797f88(0x27d);const _0x24c0bb=_0xd06fbb=>{const _0x2da5eb=_0x797f88,_0x3ae1bf=new Date(_0xd06fbb);return _0x3ae1bf['getDate']()+'.'+String(_0x3ae1bf[_0x2da5eb(0x21e)]()+0x1)[_0x2da5eb(0x256)](0x2,'0')+'\x20'+String(_0x3ae1bf['getHours']())['padStart'](0x2,'0')+':'+String(_0x3ae1bf[_0x2da5eb(0x2a0)]())[_0x2da5eb(0x256)](0x2,'0');};_0xb0ce1e['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>'+_0x24c0bb(_0x1e6b49[_0x797f88(0x223)])+'\x20‚Äî\x20'+_0x24c0bb(_0x1e6b49[_0x797f88(0x2c7)])+_0x797f88(0x1e3)+_0x2ae1d3+_0x797f88(0x234),_0x10b20e[_0x797f88(0x1d7)](_0xb0ce1e);});}function scrollToToday(){const _0x4b7ced=a2_0xb80502,_0x4a6e86=getLocalDateStr(new Date()),_0x1e2c7a=document[_0x4b7ced(0x1ea)](_0x4b7ced(0x23e)+_0x4a6e86),_0x165c18=document[_0x4b7ced(0x1ea)]('matrixViewport');if(_0x1e2c7a&&_0x165c18){const _0x1269ef=_0x165c18['clientWidth'],_0x346b69=_0x1e2c7a[_0x4b7ced(0x1e8)],_0x432c4f=_0x1e2c7a[_0x4b7ced(0x26a)];_0x165c18['scrollLeft']=_0x346b69-_0x1269ef/0x2+_0x432c4f/0x2,_0x165c18['scrollTop']=0x9*GRID_H;}}function onScroll(){const _0x4593bf=a2_0xb80502,_0x15eaa1=document[_0x4593bf(0x1ea)](_0x4593bf(0x22a)),_0x56e87f=document[_0x4593bf(0x1c1)](_0x4593bf(0x22e));for(let _0x381b3e of _0x56e87f)if(_0x381b3e[_0x4593bf(0x1e8)]>=_0x15eaa1[_0x4593bf(0x328)]){const _0xfd70cb=new Date(_0x381b3e[_0x4593bf(0x1c4)]('data-date'));document['getElementById'](_0x4593bf(0x249))[_0x4593bf(0x1fc)]=_0xfd70cb[_0x4593bf(0x2fa)]('ru',{'month':_0x4593bf(0x206)})[_0x4593bf(0x1da)]()+'\x20'+_0xfd70cb[_0x4593bf(0x1bb)]();break;}}function showToast(_0x4f1d0c,_0x2f9c86=![]){const _0x2de1c8=a2_0xb80502,_0x2ad04b=document[_0x2de1c8(0x1ea)](_0x2de1c8(0x242));_0x2ad04b[_0x2de1c8(0x31c)]=_0x2de1c8(0x2b8)+(_0x2f9c86?_0x2de1c8(0x306):''),document[_0x2de1c8(0x1ea)](_0x2de1c8(0x302))[_0x2de1c8(0x1fc)]=_0x2f9c86?_0x2de1c8(0x20a):_0x2de1c8(0x317),document[_0x2de1c8(0x1ea)](_0x2de1c8(0x20d))['textContent']=_0x4f1d0c,_0x2ad04b[_0x2de1c8(0x2e5)][_0x2de1c8(0x24c)](_0x2de1c8(0x2ab)),setTimeout(()=>{const _0x401931=_0x2de1c8;_0x2ad04b[_0x401931(0x2e5)][_0x401931(0x272)]('show');},0xbb8);}function openDayOptions(_0x125132,_0x1aede4){const _0x432403=a2_0xb80502;selectedDayForOptions=_0x125132,document[_0x432403(0x1ea)](_0x432403(0x1c7))[_0x432403(0x1fc)]=_0x1aede4,openSheet('dayOptionsSheet');}function toggleDayOff(){const _0x39fa40=a2_0xb80502;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x39fa40(0x2db),reRenderBlocks(),closeAllSheets(),DataManager[_0x39fa40(0x1df)](),DataManager['fetchFromServer'](_0x39fa40(0x1f7),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x3cb91b=a2_0xb80502;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x3cb91b(0x1df)](),DataManager[_0x3cb91b(0x279)]('save_settings',{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x3c983f){const _0x1df666=a2_0xb80502;document[_0x1df666(0x1ea)]('overlay')[_0x1df666(0x2e5)][_0x1df666(0x24c)](_0x1df666(0x23d)),document[_0x1df666(0x1ea)](_0x3c983f)[_0x1df666(0x2e5)]['add']('open');}function closeAllSheets(){const _0x2553fd=a2_0xb80502;document[_0x2553fd(0x1ea)](_0x2553fd(0x218))[_0x2553fd(0x2e5)][_0x2553fd(0x272)](_0x2553fd(0x23d)),document[_0x2553fd(0x1c1)](_0x2553fd(0x289))[_0x2553fd(0x24d)](_0x18085b=>_0x18085b[_0x2553fd(0x2e5)][_0x2553fd(0x272)](_0x2553fd(0x20e)));}function openPatternEditor(){const _0x43c21c=a2_0xb80502;closeAllSheets(),document[_0x43c21c(0x1ea)]('patternEditor')[_0x43c21c(0x2e5)]['add'](_0x43c21c(0x20e)),renderPatternEditor();}function closePatternEditor(){const _0x542e9c=a2_0xb80502;document['getElementById'](_0x542e9c(0x1cb))['classList'][_0x542e9c(0x272)](_0x542e9c(0x20e));}function savePattern(){const _0xf6327=a2_0xb80502;document[_0xf6327(0x1ea)]('patternEditor')['classList'][_0xf6327(0x272)](_0xf6327(0x20e)),reRenderBlocks(),DataManager['saveLocally'](),DataManager['fetchFromServer'](_0xf6327(0x1f7),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x15dcc0=a2_0xb80502,_0x218e6e=document[_0x15dcc0(0x1ea)](_0x15dcc0(0x336));_0x218e6e[_0x15dcc0(0x2bb)]='';const _0xf35a63=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x28d42e=document[_0x15dcc0(0x215)]('div');_0x28d42e[_0x15dcc0(0x31c)]=_0x15dcc0(0x25e),_0x218e6e[_0x15dcc0(0x1d7)](_0x28d42e),_0xf35a63[_0x15dcc0(0x24d)]((_0x4dc856,_0x42c810)=>{const _0x4ab9ec=_0x15dcc0,_0x1f26a4=document[_0x4ab9ec(0x215)](_0x4ab9ec(0x2b5));_0x1f26a4[_0x4ab9ec(0x31c)]='pe-col-header',_0x1f26a4['innerHTML']=_0x4dc856+_0x4ab9ec(0x209),_0x1f26a4[_0x4ab9ec(0x216)]=()=>toggleColPattern(_0x42c810),_0x218e6e[_0x4ab9ec(0x1d7)](_0x1f26a4);});for(let _0x1ea170=0x0;_0x1ea170<0x18;_0x1ea170++){const _0x5bbf08=document[_0x15dcc0(0x215)](_0x15dcc0(0x2b5));_0x5bbf08[_0x15dcc0(0x31c)]=_0x15dcc0(0x2bf),_0x5bbf08[_0x15dcc0(0x2bb)]='<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>'+String(_0x1ea170)[_0x15dcc0(0x256)](0x2,'0')+':00',_0x5bbf08['onclick']=()=>toggleRowPattern(_0x1ea170),_0x218e6e[_0x15dcc0(0x1d7)](_0x5bbf08);for(let _0x17039d=0x0;_0x17039d<0x7;_0x17039d++){const _0x1ca41a=document['createElement']('div'),_0x1bdfac=(availabilityPattern[_0x17039d]||[])[_0x15dcc0(0x31b)](_0x1ea170),_0xeea708=!_0x1bdfac;_0x1ca41a['className']=_0x15dcc0(0x21a)+(_0xeea708?'active':''),_0x1ca41a[_0x15dcc0(0x216)]=()=>toggleSinglePattern(_0x17039d,_0x1ea170),_0x218e6e[_0x15dcc0(0x1d7)](_0x1ca41a);}}}function toggleSinglePattern(_0x5754f9,_0x36267f){const _0x529070=a2_0xb80502;if(!availabilityPattern[_0x5754f9])availabilityPattern[_0x5754f9]=[];const _0x8657bc=availabilityPattern[_0x5754f9],_0x237b4d=_0x8657bc[_0x529070(0x20b)](_0x36267f);_0x237b4d===-0x1?_0x8657bc[_0x529070(0x247)](_0x36267f):_0x8657bc['splice'](_0x237b4d,0x1),renderPatternEditor();}function toggleColPattern(_0x1283d9){const _0x4fee3f=a2_0xb80502;if(!availabilityPattern[_0x1283d9])availabilityPattern[_0x1283d9]=[];const _0x4551ea=availabilityPattern[_0x1283d9];_0x4551ea[_0x4fee3f(0x308)]===0x0?availabilityPattern[_0x1283d9]=Array[_0x4fee3f(0x305)]({'length':0x18},(_0x3740d2,_0x3ca100)=>_0x3ca100):availabilityPattern[_0x1283d9]=[],renderPatternEditor();}function toggleRowPattern(_0x4a8b14){const _0x7d0cb3=a2_0xb80502;let _0x510cd3=!![];for(let _0x547f70=0x0;_0x547f70<0x7;_0x547f70++){if((availabilityPattern[_0x547f70]||[])[_0x7d0cb3(0x31b)](_0x4a8b14)){_0x510cd3=![];break;}}for(let _0x4b53f3=0x0;_0x4b53f3<0x7;_0x4b53f3++){if(!availabilityPattern[_0x4b53f3])availabilityPattern[_0x4b53f3]=[];const _0x62e8e4=availabilityPattern[_0x4b53f3][_0x7d0cb3(0x20b)](_0x4a8b14);if(_0x510cd3){if(_0x62e8e4===-0x1)availabilityPattern[_0x4b53f3]['push'](_0x4a8b14);}else{if(_0x62e8e4!==-0x1)availabilityPattern[_0x4b53f3][_0x7d0cb3(0x32c)](_0x62e8e4,0x1);}}renderPatternEditor();}function renderPCol(_0x59e766,_0x2a255d){const _0x40b37b=a2_0xb80502;_0x59e766[_0x40b37b(0x2bb)]='';const _0x1c39c6=Math['round'](_0x59e766[_0x40b37b(0x1e8)]);(availabilityPattern[_0x2a255d]||[])[_0x40b37b(0x24d)](_0xeaaf97=>{const _0x4c303f=_0x40b37b,_0x43d775=document[_0x4c303f(0x215)](_0x4c303f(0x2b5));_0x43d775[_0x4c303f(0x31c)]=_0x4c303f(0x2b0);const _0x1675f2=_0xeaaf97*GRID_H;_0x43d775[_0x4c303f(0x2cf)][_0x4c303f(0x2f4)]=_0x1675f2+'px',_0x43d775['style'][_0x4c303f(0x315)]='-'+_0x1c39c6+'px\x20-'+_0x1675f2+'px',_0x43d775['onclick']=_0x454096=>{const _0x49456a=_0x4c303f;_0x454096[_0x49456a(0x2c5)](),toggleSinglePattern(_0x2a255d,_0xeaaf97);},_0x59e766[_0x4c303f(0x1d7)](_0x43d775);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x2507ec=a2_0xb80502,_0x5cbd73=new Date(),_0x410d95=document[_0x2507ec(0x1ea)](_0x2507ec(0x2aa)),_0x5aeaf0=document[_0x2507ec(0x1ea)](_0x2507ec(0x2dc)),_0x2fefd6=(_0x5cbd73['getHours']()*0x3c+_0x5cbd73[_0x2507ec(0x2a0)]())/0x3c*GRID_H;_0x410d95[_0x2507ec(0x2cf)][_0x2507ec(0x2f4)]=_0x2fefd6+'px',_0x410d95[_0x2507ec(0x2cf)][_0x2507ec(0x244)]='block',_0x5aeaf0[_0x2507ec(0x1fc)]=String(_0x5cbd73[_0x2507ec(0x2eb)]())[_0x2507ec(0x256)](0x2,'0')+':'+String(_0x5cbd73[_0x2507ec(0x2a0)]())[_0x2507ec(0x256)](0x2,'0'),_0x5aeaf0[_0x2507ec(0x2cf)][_0x2507ec(0x244)]='block',_0x5aeaf0[_0x2507ec(0x2cf)][_0x2507ec(0x2f4)]=_0x2fefd6+'px';}document[a2_0xb80502(0x21b)]('DOMContentLoaded',init);function openDayOptions(_0x295ea5){const _0x28ef17=a2_0xb80502;selectedDayForOptions=_0x295ea5;const _0x252c2e=new Date(_0x295ea5),_0x3ed275={'weekday':_0x28ef17(0x206),'day':'numeric','month':_0x28ef17(0x206),'year':_0x28ef17(0x1f1)},_0x19a902=_0x252c2e[_0x28ef17(0x267)](_0x28ef17(0x278),_0x3ed275);document['getElementById']('doDateHeader')[_0x28ef17(0x1fc)]=_0x19a902[_0x28ef17(0x1be)](0x0)[_0x28ef17(0x1da)]()+_0x19a902[_0x28ef17(0x286)](0x1);let _0xabf32e=_0x252c2e[_0x28ef17(0x211)]()-0x1;if(_0xabf32e===-0x1)_0xabf32e=0x6;const _0x3e7dca=availabilityPattern[_0xabf32e]||[],_0x51ef6a=0x18-_0x3e7dca[_0x28ef17(0x308)],_0x5538c6=_0x51ef6a*0x3c,_0x40e44c=sessions[_0x28ef17(0x295)](_0x1c119b=>_0x1c119b[_0x28ef17(0x235)]===_0x295ea5&&_0x1c119b[_0x28ef17(0x2d0)]!==_0x28ef17(0x2a3));let _0x426515=_0x40e44c['map'](_0x48997d=>{const _0x12b842=_0x28ef17,[_0x17c861,_0x56732f]=_0x48997d[_0x12b842(0x223)][_0x12b842(0x316)](':')[_0x12b842(0x324)](Number),[_0x1eb427,_0x42e679]=_0x48997d['end'][_0x12b842(0x316)](':')[_0x12b842(0x324)](Number);return[_0x17c861*0x3c+_0x56732f,_0x1eb427*0x3c+_0x42e679];});_0x426515[_0x28ef17(0x297)]((_0xabd1be,_0x3c82e9)=>_0xabd1be[0x0]-_0x3c82e9[0x0]);let _0xb42029=[];if(_0x426515[_0x28ef17(0x308)]>0x0){let _0x280e11=_0x426515[0x0];for(let _0x3c70c4=0x1;_0x3c70c4<_0x426515[_0x28ef17(0x308)];_0x3c70c4++){_0x426515[_0x3c70c4][0x0]<_0x280e11[0x1]?_0x280e11[0x1]=Math[_0x28ef17(0x280)](_0x280e11[0x1],_0x426515[_0x3c70c4][0x1]):(_0xb42029['push'](_0x280e11),_0x280e11=_0x426515[_0x3c70c4]);}_0xb42029['push'](_0x280e11);}let _0x36b2e6=0x0;_0xb42029[_0x28ef17(0x24d)](_0x1b29e0=>_0x36b2e6+=_0x1b29e0[0x1]-_0x1b29e0[0x0]),document[_0x28ef17(0x1ea)](_0x28ef17(0x20c))[_0x28ef17(0x1fc)]=formatMinsToHrs(_0x5538c6),document[_0x28ef17(0x1ea)]('doBusyHours')[_0x28ef17(0x1fc)]=formatMinsToHrs(_0x36b2e6);const _0x3e6c08=_0x5538c6>0x0?Math[_0x28ef17(0x1c5)](_0x36b2e6/_0x5538c6*0x64):0x0,_0x5b5177=document[_0x28ef17(0x1ea)](_0x28ef17(0x284));_0x5b5177[_0x28ef17(0x1fc)]=_0x3e6c08+'%';const _0x16d5cb=document[_0x28ef17(0x1ea)](_0x28ef17(0x1dc));if(_0x3e6c08>0x64)_0x5b5177['style']['color']=_0x28ef17(0x326),_0x16d5cb[_0x28ef17(0x2cf)][_0x28ef17(0x22b)]='rgba(255,\x2069,\x2058,\x200.3)';else _0x3e6c08>0x50?(_0x5b5177['style'][_0x28ef17(0x2e4)]=_0x28ef17(0x23a),_0x16d5cb[_0x28ef17(0x2cf)][_0x28ef17(0x22b)]=_0x28ef17(0x1f2)):(_0x5b5177[_0x28ef17(0x2cf)][_0x28ef17(0x2e4)]=_0x28ef17(0x21f),_0x16d5cb[_0x28ef17(0x2cf)][_0x28ef17(0x22b)]='rgba(255,255,255,0.05)');const _0x59f245=document[_0x28ef17(0x1ea)]('doEventsList');_0x59f245[_0x28ef17(0x2bb)]='';_0x40e44c[_0x28ef17(0x308)]===0x0?_0x59f245[_0x28ef17(0x2bb)]='<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>':(_0x40e44c[_0x28ef17(0x297)]((_0x3023ef,_0x2bcbe0)=>_0x3023ef['start'][_0x28ef17(0x2fb)](_0x2bcbe0[_0x28ef17(0x223)])),_0x40e44c[_0x28ef17(0x24d)](_0xf0dfae=>{const _0x2be50e=_0x28ef17,_0x586972=clients['find'](_0x295528=>_0x295528[_0x2be50e(0x2f2)]===_0xf0dfae['client']),_0x2c827c=_0x586972?_0x586972[_0x2be50e(0x2e4)]:_0x2be50e(0x31a),_0x53cc32=_0xf0dfae[_0x2be50e(0x2d0)]==='completed',_0x6a4b84=_0x53cc32?_0x2be50e(0x1ce):'',_0x9cc859=document[_0x2be50e(0x215)](_0x2be50e(0x2b5));_0x9cc859[_0x2be50e(0x31c)]='de-item',_0x9cc859['style'][_0x2be50e(0x28c)]=_0x2c827c,_0x9cc859[_0x2be50e(0x2bb)]=_0x2be50e(0x310)+_0xf0dfae[_0x2be50e(0x223)]+'\x20-\x20'+_0xf0dfae[_0x2be50e(0x2c7)]+_0x2be50e(0x232)+_0xf0dfae[_0x2be50e(0x236)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x6a4b84+_0x2be50e(0x246),_0x59f245[_0x2be50e(0x1d7)](_0x9cc859);}));const _0x1d853d=document[_0x28ef17(0x1ea)](_0x28ef17(0x225)),_0x2933f4=dateExceptions[_0x295ea5]===_0x28ef17(0x2db);_0x2933f4?(_0x1d853d['textContent']=_0x28ef17(0x1d5),_0x1d853d[_0x28ef17(0x31c)]=_0x28ef17(0x1e5),_0x1d853d['style'][_0x28ef17(0x2e4)]='var(--acc-green)',_0x1d853d[_0x28ef17(0x2cf)][_0x28ef17(0x1db)]='rgba(48,\x20209,\x2088,\x200.15)'):(_0x1d853d[_0x28ef17(0x1fc)]=_0x28ef17(0x2d2),_0x1d853d['className']=_0x28ef17(0x2b7),_0x1d853d[_0x28ef17(0x2cf)][_0x28ef17(0x2e4)]=_0x28ef17(0x326),_0x1d853d[_0x28ef17(0x2cf)]['background']=_0x28ef17(0x1f6)),openSheet('dayOptionsSheet');}let currentAnPeriod=a2_0xb80502(0x1c2);function openAnalytics(){const _0x2b4192=a2_0xb80502,_0x537005=document[_0x2b4192(0x2d1)](_0x2b4192(0x2c6));setAnalyticsPeriod(_0x2b4192(0x1c2),_0x537005),closeAllSheets(),openSheet(_0x2b4192(0x2ce));}function setAnalyticsPeriod(_0x1e99ad,_0x4810ab){const _0x548c0e=a2_0xb80502;currentAnPeriod=_0x1e99ad,document[_0x548c0e(0x1c1)]('.period-switch\x20.p-btn')['forEach'](_0x45aadc=>_0x45aadc[_0x548c0e(0x2e5)][_0x548c0e(0x272)](_0x548c0e(0x23d)));if(_0x4810ab)_0x4810ab[_0x548c0e(0x2e5)]['add']('active');const _0x4c731b=document[_0x548c0e(0x1ea)](_0x548c0e(0x271));_0x4c731b[_0x548c0e(0x2cf)][_0x548c0e(0x244)]=_0x1e99ad===_0x548c0e(0x1fb)?_0x548c0e(0x22d):'none';const _0x3120dd=new Date();let _0x34752d=new Date(),_0x21b9e5=new Date();if(_0x1e99ad===_0x548c0e(0x1c2))_0x34752d=getStartOfWeek(_0x3120dd),_0x21b9e5=new Date(_0x34752d),_0x21b9e5[_0x548c0e(0x23c)](_0x21b9e5[_0x548c0e(0x2e3)]()+0x6);else{if(_0x1e99ad===_0x548c0e(0x265))_0x34752d=new Date(_0x3120dd[_0x548c0e(0x1bb)](),_0x3120dd[_0x548c0e(0x21e)](),0x1),_0x21b9e5=new Date(_0x3120dd[_0x548c0e(0x1bb)](),_0x3120dd[_0x548c0e(0x21e)]()+0x1,0x0);else{!document['getElementById'](_0x548c0e(0x1d4))[_0x548c0e(0x2e9)]&&(document[_0x548c0e(0x1ea)](_0x548c0e(0x1d4))[_0x548c0e(0x2e9)]=getLocalDateStr(_0x3120dd),document[_0x548c0e(0x1ea)](_0x548c0e(0x30f))['value']=getLocalDateStr(_0x3120dd));refreshAnalytics();return;}}document[_0x548c0e(0x1ea)]('anStart')['value']=getLocalDateStr(_0x34752d),document[_0x548c0e(0x1ea)](_0x548c0e(0x30f))[_0x548c0e(0x2e9)]=getLocalDateStr(_0x21b9e5),refreshAnalytics();}function refreshAnalytics(){const _0x58d240=a2_0xb80502,_0x4f864a=document[_0x58d240(0x1ea)](_0x58d240(0x1d4))['value'],_0x77831d=document[_0x58d240(0x1ea)](_0x58d240(0x30f))[_0x58d240(0x2e9)];if(!_0x4f864a||!_0x77831d)return;const _0x450124=sessions[_0x58d240(0x295)](_0x5b8e87=>_0x5b8e87[_0x58d240(0x235)]>=_0x4f864a&&_0x5b8e87[_0x58d240(0x235)]<=_0x77831d&&_0x5b8e87[_0x58d240(0x2d0)]!==_0x58d240(0x2a3)),_0x310fc6=_0x450124[_0x58d240(0x308)],_0x1ea026=_0x450124[_0x58d240(0x295)](_0x54e312=>_0x54e312[_0x58d240(0x2d0)]===_0x58d240(0x25a))[_0x58d240(0x308)],_0x48485c=_0x310fc6>0x0?Math[_0x58d240(0x1c5)](_0x1ea026/_0x310fc6*0x64):0x0;document[_0x58d240(0x1ea)](_0x58d240(0x2dd))[_0x58d240(0x1fc)]=_0x48485c+'%',document[_0x58d240(0x1ea)](_0x58d240(0x1f4))[_0x58d240(0x1fc)]=_0x1ea026+'\x20–∏–∑\x20'+_0x310fc6+'\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ';const _0x5ee328=document[_0x58d240(0x1ea)](_0x58d240(0x1c6)),_0x309c5c=0x2*Math['PI']*0x23,_0x3f3815=_0x309c5c-_0x48485c/0x64*_0x309c5c;_0x5ee328['style'][_0x58d240(0x26d)]=_0x3f3815;const _0x15816f={};_0x450124[_0x58d240(0x24d)](_0x2695a6=>{const _0x808ce7=_0x58d240;if(!_0x15816f[_0x2695a6[_0x808ce7(0x236)]]){const _0x384159=clients[_0x808ce7(0x27c)](_0x34ddbc=>_0x34ddbc[_0x808ce7(0x2f2)]===_0x2695a6[_0x808ce7(0x236)]);_0x15816f[_0x2695a6[_0x808ce7(0x236)]]={'total':0x0,'done':0x0,'color':_0x384159?_0x384159[_0x808ce7(0x2e4)]:_0x808ce7(0x31a)};}_0x15816f[_0x2695a6[_0x808ce7(0x236)]][_0x808ce7(0x262)]++;if(_0x2695a6[_0x808ce7(0x2d0)]===_0x808ce7(0x25a))_0x15816f[_0x2695a6[_0x808ce7(0x236)]]['done']++;});const _0xb77677=document[_0x58d240(0x1ea)](_0x58d240(0x32d));_0xb77677[_0x58d240(0x2bb)]='';const _0x1f8c59=Object[_0x58d240(0x1cf)](_0x15816f)[_0x58d240(0x297)]((_0x58dcc9,_0x583f8e)=>_0x583f8e[0x1]['total']-_0x58dcc9[0x1][_0x58d240(0x262)]);if(_0x1f8c59[_0x58d240(0x308)]===0x0){_0xb77677['innerHTML']=_0x58d240(0x238);return;}_0x1f8c59[_0x58d240(0x24d)](([_0x462185,_0x473847])=>{const _0x42492e=_0x58d240,_0x2f4029=Math[_0x42492e(0x1c5)](_0x473847[_0x42492e(0x1d0)]/_0x473847[_0x42492e(0x262)]*0x64),_0x62aa7a=document[_0x42492e(0x215)]('div');_0x62aa7a[_0x42492e(0x31c)]=_0x42492e(0x299),_0x62aa7a[_0x42492e(0x2cf)][_0x42492e(0x28c)]=_0x473847[_0x42492e(0x2e4)],_0x62aa7a['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>'+_0x462185+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x473847[_0x42492e(0x1d0)]+_0x42492e(0x2c2)+_0x473847[_0x42492e(0x262)]+_0x42492e(0x200)+_0x2f4029+_0x42492e(0x2df),_0xb77677['appendChild'](_0x62aa7a);});}function formatMinsToHrs(_0x18c714){if(_0x18c714===0x0)return'0';const _0x2e1656=Math['floor'](_0x18c714/0x3c),_0x423c37=_0x18c714%0x3c;if(_0x423c37===0x0)return _0x2e1656+'—á';return _0x2e1656+'—á\x20'+_0x423c37+'–º';}