const a2_0x4107fc=a2_0x45a8;(function(_0x310d61,_0x3f845c){const _0x464f9e=a2_0x45a8,_0x514f97=_0x310d61();while(!![]){try{const _0x83fa43=parseInt(_0x464f9e(0x19a))/0x1*(-parseInt(_0x464f9e(0x13a))/0x2)+-parseInt(_0x464f9e(0x178))/0x3*(-parseInt(_0x464f9e(0x212))/0x4)+-parseInt(_0x464f9e(0x259))/0x5*(-parseInt(_0x464f9e(0x1c5))/0x6)+parseInt(_0x464f9e(0x216))/0x7*(parseInt(_0x464f9e(0x139))/0x8)+parseInt(_0x464f9e(0x227))/0x9*(-parseInt(_0x464f9e(0x19c))/0xa)+-parseInt(_0x464f9e(0x1e9))/0xb*(parseInt(_0x464f9e(0x1de))/0xc)+parseInt(_0x464f9e(0x23b))/0xd;if(_0x83fa43===_0x3f845c)break;else _0x514f97['push'](_0x514f97['shift']());}catch(_0x1c78e5){_0x514f97['push'](_0x514f97['shift']());}}}(a2_0x5c24,0x90239),function initTMA(){const _0x558c52=a2_0x45a8,_0x3f9ba8=(function(){let _0x5397bd=!![];return function(_0x4dfccf,_0x4e0757){const _0x13f96c=_0x5397bd?function(){const _0x29980a=a2_0x45a8;if(_0x4e0757){const _0x4c1c97=_0x4e0757[_0x29980a(0x2b5)](_0x4dfccf,arguments);return _0x4e0757=null,_0x4c1c97;}}:function(){};return _0x5397bd=![],_0x13f96c;};}()),_0x41f445=_0x3f9ba8(this,function(){const _0x4caacb=a2_0x45a8;return _0x41f445['toString']()[_0x4caacb(0x17b)](_0x4caacb(0x20b))['toString']()['constructor'](_0x41f445)[_0x4caacb(0x17b)](_0x4caacb(0x20b));});_0x41f445();try{const _0x4c4288=window[_0x558c52(0x15b)]?.[_0x558c52(0x26b)];if(!_0x4c4288)return;_0x4c4288[_0x558c52(0x175)](),_0x4c4288[_0x558c52(0x221)]();try{_0x4c4288[_0x558c52(0x21f)](_0x558c52(0x2a6)),_0x4c4288[_0x558c52(0x1d5)]&&_0x4c4288[_0x558c52(0x1d5)]('#050505');}catch(_0x5b6f31){console[_0x558c52(0x28e)](_0x558c52(0x14c),_0x5b6f31);}try{_0x4c4288[_0x558c52(0x29a)]&&(_0x4c4288[_0x558c52(0x29a)][_0x558c52(0x275)](),_0x4c4288['BackButton']['offClick'](),_0x4c4288[_0x558c52(0x29a)]['onClick'](function(){const _0x3b1fbe=_0x558c52;window[_0x3b1fbe(0x22c)][_0x3b1fbe(0x1aa)]=_0x3b1fbe(0x271);}));}catch(_0x3f8a22){console[_0x558c52(0x28e)]('Error\x20setting\x20back\x20button:',_0x3f8a22);}try{if(_0x4c4288[_0x558c52(0x15e)])_0x4c4288[_0x558c52(0x15e)]();}catch(_0x3fc25d){}}catch(_0xfa54d8){console[_0x558c52(0x28f)](_0x558c52(0x1f5),_0xfa54d8);}}());function a2_0x5c24(){const _0x186f09=['done','remove','setAttribute','show','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','inpStart','save','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','mergeServerData','warning','touches','var(--acc-red)','numeric','–£—Å–ø–µ—à–Ω–æ','syncBatch','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','send','null','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','scrollLeft','left','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','day-column\x20','div','%\x20+\x202px)','includes','log','error','name','actionSheet','timeLineBadge','sort','filter','[Notify]\x20Detected\x20Client\x20ID:','mouseup','[API\x20','setDate','completed','BackButton','patternInfoBox','day-col-header\x20','uc_sessions_v9','cancel_window','colIndex','classList','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','text/plain;charset=UTF-8','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','overlay','...','#050505','ranges','daysHeaderTrack','clients','init_load','client','create','today','settings','findIndex','.day-off-overlay','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','scrollWidth','fetchFromServer','floor','apply','px\x200px','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','btnDelete','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','–£–¥–∞–ª–µ–Ω–∏–µ','184RSTEjD','181022cKfcbL','px\x20-','matrixViewport','rgba(255,\x20159,\x2010,\x200.3)','localeCompare','toLocaleString','\x20-\x20','header-','mousemove','mini','anDonutCircle','btn-status-toggle\x20undo-mode','headerMonth','note','doEventsList','timeColumn','analyticsList','toast-notification\x20','Error\x20setting\x20color:','as-button\x20danger\x20bold','getHours','getBoundingClientRect','getMonth','Unknown','asBtnOne','exceptions','zIndex','week','actionSheetOverlay','min','getDate','offsetLeft','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','Telegram','toUpperCase','[Notify]\x20Server\x20Response:','disableVerticalSwipes','pe-col-header','syncLoad','stat-','borderLeftColor','display','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','undefined','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','dayOptionsSheet','Local\x20Save\x20Error','active','toLocaleDateString','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','sheetDateSubtitle','substr','saveLocally','touchmove','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','gridColumns','[Settings]\x20Cancel\x20window\x20set\x20to:','long','ready','innerHTML','time-label','159lfFFtm',']\x20Failed:','rangeStartTime','search','slice','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','entries','closest','update','[Notify]\x20Error:\x20sessionData\x20is\x20null','padStart','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','Local\x20Load\x20Error','getTime','[Notify]\x20Error:\x20Text\x20generation\x20failed','de-item','backgroundColor','then','firstChild','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','charAt','[Notify]\x20Attempting\x20to\x20send:','.day-col-header','appendChild','width','anTotalStats','cancel','max','100%','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','10px','inpDate','var(--acc-green)','send_notification','1HUvfsz','[Sync]\x20Loading\x20','4080zcXxkj','client-stat-card','.event-card','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','data-date','complete','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','toast','uc_clients_v9','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','rgba(','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','touchend','href','warn','length','initData','single','pe-time-label','<div\x20class=\x22dch-day\x22>','success','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','setHours','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','series','insertBefore','end','total','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#0a84ff','initDataUnsafe','inpEnd','Save\x20settings\x20error:','backgroundPosition','flex','calendar','split','text','rangeEndDate','rangesList','60kJSAMx','vibrate','\x20days','option','<span>','anCustomDates','data','getItem','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','rgba(48,\x20209,\x2088,\x200.15)','status','dateStr','doWorkHours','addEventListener','scroll','.day-column','setBackgroundColor','save_settings','calc(','[Notify]\x20Client\x20SWAP\x20detected','anStart','toastTitle','off','T00:00:00','color','72aQSlPZ','–ò–Ω—Ñ–æ','</div><div\x20class=\x22dch-num\x22>','.period-switch\x20.p-btn','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','stringify','globalTimeLine','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','</span>\x20/\x20','anEnd','1830246xOEArN','getElementById','sessionSheet','deleted','#gridColumns\x20.day-column','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','DOMContentLoaded','recurringOptionContainer','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','parse','settingsSheet','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','Critical\x20TMA\x20Error:','top','</div><div\x20class=\x22ev-time\x22>','rangeStartDate','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','rangeEndTime','setItem','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','ru-RU','startsWith','pattern','user','msg','.dch-stats-fill','now','blocked-slot\x20stripe-bg','getFullYear','dayOptionsTitle','patternEditor','add','batch_sync','push','(((.+)+)+)+$',':00</span>','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','borderRadius','setMonth','open','background','1328eZNUvD','textContent','planned','inpSeriesCount','300223KlRyUH','anPercent','toFixed','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','mousedown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','asBtnSeries','day-off-overlay\x20stripe-bg','peGrid','setHeaderColor','inpNote','expand','clientY','cancelled','delete','className','\x20status-completed','21366VHufMO','style','createElement','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','location','map','uc_settings_cancel_window','rangesSheet','seriesId','borderColor','indexOf','clientId','valid','none','getMinutes','23:59','find','querySelectorAll','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','21160477jNozke','[Series]\x20Skipped\x20','#fff','blocked-range-part\x20stripe-bg','\x20‚Äî\x20','doBusyHours','isArray','splice','</div>','checked','strokeDashoffset',':00','sheetTitle','value','POST','block','btnStatusToggle','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','createDocumentFragment','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','touchstart','range-item','toastMessage','getAttribute','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','doLoadPercent','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','<div\x20class=\x22ev-title\x22>','catch',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','8020NUPovr','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','all','rgba(255,255,255,0.05)','toString','forEach','seriesCountContainer','getDay','from',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','round','onclick','inpClient','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','month','data-day-idx','inpRecurring','<b>‚úÖ\x20','WebApp','statLoadCard','rgba(100,100,100,0.5)','start','querySelector','settingCancelWindow','router.html'];a2_0x5c24=function(){return _0x186f09;};return a2_0x5c24();}function isAdmin(){const _0x23030b=a2_0x45a8;try{const _0x1ceb04=Number(window['Telegram']?.[_0x23030b(0x26b)]?.[_0x23030b(0x1bb)]?.[_0x23030b(0x200)]?.['id']);return _0x1ceb04===0xbaf7174;}catch(_0x40e531){return![];}}const APP_VERSION='v9.0-BATCH-CALENDAR',API_URL='https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec',GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x4107fc(0x1a5),KEY_SESSIONS=a2_0x4107fc(0x29d),KEY_SETTINGS='uc_settings_v9';let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x2c437a=a2_0x4107fc;return window[_0x2c437a(0x15b)]?.[_0x2c437a(0x26b)]?.[_0x2c437a(0x1bb)]?.[_0x2c437a(0x200)]?.['id']||'guest';},'saveLocally'(){const _0x28ad2d=a2_0x4107fc;try{localStorage[_0x28ad2d(0x1fb)](KEY_CLIENTS,JSON[_0x28ad2d(0x1e3)](clients)),localStorage['setItem'](KEY_SESSIONS,JSON[_0x28ad2d(0x1e3)](sessions)),localStorage[_0x28ad2d(0x1fb)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x158c58){console['error'](_0x28ad2d(0x169),_0x158c58);}},'loadLocal'(){const _0x1e9b80=a2_0x4107fc;try{const _0x25d9f7=localStorage['getItem'](KEY_CLIENTS);if(_0x25d9f7)clients=JSON['parse'](_0x25d9f7);const _0x1da778=localStorage[_0x1e9b80(0x1cc)](KEY_SESSIONS);if(_0x1da778)sessions=JSON[_0x1e9b80(0x1f2)](_0x1da778);const _0xfc1bd3=localStorage[_0x1e9b80(0x1cc)](KEY_SETTINGS);if(_0xfc1bd3){const _0x30ab02=JSON[_0x1e9b80(0x1f2)](_0xfc1bd3);if(_0x30ab02[_0x1e9b80(0x1ff)])availabilityPattern=_0x30ab02[_0x1e9b80(0x1ff)];if(_0x30ab02[_0x1e9b80(0x153)])dateExceptions=_0x30ab02['exceptions'];if(_0x30ab02['ranges'])specialRanges=_0x30ab02[_0x1e9b80(0x2a7)];}else{for(let _0x3483e9=0x0;_0x3483e9<0x7;_0x3483e9++)availabilityPattern[_0x3483e9]=Array[_0x1e9b80(0x261)]({'length':0xc},(_0x58cde9,_0x2b1b89)=>_0x2b1b89+0x9);}}catch(_0x421990){console[_0x1e9b80(0x28f)](_0x1e9b80(0x184),_0x421990);}},async 'fetchFromServer'(_0x302f3b,_0x5a31be={}){const _0x315e50=a2_0x4107fc,_0x16bd82=window[_0x315e50(0x15b)]?.[_0x315e50(0x26b)],_0x94fa63={'action':_0x302f3b,'init_data':_0x16bd82?.[_0x315e50(0x1ad)]||'',..._0x5a31be};try{const _0x1fc612=await fetch(API_URL,{'method':_0x315e50(0x249),'headers':{'Content-Type':_0x315e50(0x2a2)},'body':JSON[_0x315e50(0x1e3)](_0x94fa63)}),_0x2468b7=await _0x1fc612['json']();if(!_0x2468b7['ok'])throw new Error(_0x2468b7[_0x315e50(0x28f)]||'Server\x20Error');return _0x2468b7[_0x315e50(0x1cb)];}catch(_0xaffaf9){console[_0x315e50(0x28f)](_0x315e50(0x297)+_0x302f3b+_0x315e50(0x179),_0xaffaf9);throw _0xaffaf9;}},async 'syncLoad'(){const _0x2e43c8=a2_0x4107fc,_0xb9838d=new Date(),_0x58fd66=_0xb9838d[_0x2e43c8(0x205)]()+'-'+String(_0xb9838d[_0x2e43c8(0x150)]()+0x1)[_0x2e43c8(0x182)](0x2,'0'),_0x2a40fa=new Date(_0xb9838d);_0x2a40fa[_0x2e43c8(0x20f)](_0xb9838d['getMonth']()+0x1);const _0x632e52=_0x2a40fa['getFullYear']()+'-'+String(_0x2a40fa[_0x2e43c8(0x150)]()+0x1)[_0x2e43c8(0x182)](0x2,'0'),_0x189e0c=Date[_0x2e43c8(0x203)]();console[_0x2e43c8(0x28e)](_0x2e43c8(0x19b)+_0x58fd66+',\x20'+_0x632e52+_0x2e43c8(0x2a5));try{const [_0x24c39d,_0x54c60e]=await Promise[_0x2e43c8(0x25b)]([this['fetchFromServer'](_0x2e43c8(0x2aa),{'month_str':_0x58fd66}),this[_0x2e43c8(0x2b3)](_0x2e43c8(0x2aa),{'month_str':_0x632e52})]);if(lastUserActionTime>_0x189e0c)return console[_0x2e43c8(0x1ab)](_0x2e43c8(0x289)),![];return this[_0x2e43c8(0x27a)](_0x24c39d,_0x58fd66),this['mergeServerData'](_0x54c60e,_0x632e52),this['saveLocally'](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x32dd44){console[_0x2e43c8(0x28f)](_0x32dd44);throw _0x32dd44;}},'mergeServerData'(_0x575e43,_0x1b190c){const _0x54a923=a2_0x4107fc;if(!_0x575e43)return;_0x575e43['clients']&&Array[_0x54a923(0x241)](_0x575e43[_0x54a923(0x2a9)])&&(clients=_0x575e43[_0x54a923(0x2a9)]);if(_0x575e43['settings']){if(_0x575e43['settings'][_0x54a923(0x1ff)])availabilityPattern=_0x575e43['settings'][_0x54a923(0x1ff)];if(_0x575e43[_0x54a923(0x2ae)][_0x54a923(0x153)])dateExceptions=_0x575e43[_0x54a923(0x2ae)]['exceptions'];if(_0x575e43[_0x54a923(0x2ae)]['ranges'])specialRanges=_0x575e43[_0x54a923(0x2ae)][_0x54a923(0x2a7)];if(_0x575e43[_0x54a923(0x2ae)][_0x54a923(0x29e)]){localStorage[_0x54a923(0x1fb)](_0x54a923(0x22e),_0x575e43[_0x54a923(0x2ae)][_0x54a923(0x29e)]);const _0x3fe4eb=document[_0x54a923(0x1ea)](_0x54a923(0x270));if(_0x3fe4eb)_0x3fe4eb[_0x54a923(0x248)]=_0x575e43['settings']['cancel_window'];}}_0x575e43[_0x54a923(0x1c0)]&&(sessions=sessions[_0x54a923(0x294)](_0x9e1a33=>!_0x9e1a33[_0x54a923(0x1d0)][_0x54a923(0x1fe)](_0x1b190c)),Object['keys'](_0x575e43[_0x54a923(0x1c0)])[_0x54a923(0x25e)](_0x3d9cfb=>{const _0x405673=_0x54a923,_0x546d1c=_0x575e43[_0x405673(0x1c0)][_0x3d9cfb];_0x546d1c[_0x405673(0x25e)](_0x29b473=>{const _0x2827fd=_0x405673,_0x43c475=clients[_0x2827fd(0x238)](_0x1d8bee=>String(_0x1d8bee['id'])===String(_0x29b473['c']));sessions[_0x2827fd(0x20a)]({'id':_0x29b473['i'],'clientId':_0x29b473['c'],'client':_0x43c475?_0x43c475[_0x2827fd(0x290)]:_0x2827fd(0x151),'dateStr':_0x1b190c+'-'+_0x3d9cfb[_0x2827fd(0x182)](0x2,'0'),'start':_0x29b473['s'],'end':_0x29b473['e'],'status':_0x29b473['st']||'planned','note':_0x29b473['n']||'','seriesId':_0x29b473['sid']||null});});}));},async 'syncBatch'(_0x44fbf6){const _0x6198e7=a2_0x4107fc,_0x2ba447=[...new Set(_0x44fbf6)],_0x229d35=_0x2ba447[_0x6198e7(0x22d)](_0x40c46d=>{const _0x4ee75a=_0x6198e7,_0x5218b8=sessions[_0x4ee75a(0x294)](_0x22a810=>_0x22a810[_0x4ee75a(0x1d0)]===_0x40c46d&&_0x22a810[_0x4ee75a(0x1cf)]!==_0x4ee75a(0x1ec)),_0x5276f4=_0x5218b8[_0x4ee75a(0x22d)](_0xe834ac=>({'i':_0xe834ac['id'],'c':_0xe834ac['clientId'],'s':_0xe834ac[_0x4ee75a(0x26e)],'e':_0xe834ac[_0x4ee75a(0x1b7)],'st':_0xe834ac[_0x4ee75a(0x1cf)],'n':_0xe834ac[_0x4ee75a(0x147)],'sid':_0xe834ac[_0x4ee75a(0x230)]}));return{'date':_0x40c46d,'day_data':_0x5276f4};});if(_0x229d35[_0x6198e7(0x1ac)]===0x0)return;console[_0x6198e7(0x28e)]('[Sync]\x20Pushing\x20batch\x20updates\x20for\x20'+_0x229d35['length']+_0x6198e7(0x1c7)),await this['fetchFromServer'](_0x6198e7(0x209),{'changes':_0x229d35});}};async function init(){const _0xe7d329=a2_0x4107fc;DataManager['loadLocal'](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById']('matrixViewport')[_0xe7d329(0x1d2)](_0xe7d329(0x1d3),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0xe7d329(0x160)]()[_0xe7d329(0x189)](()=>{const _0x47b91a=_0xe7d329;showToast(_0x47b91a(0x1f1),!![]);})[_0xe7d329(0x257)](_0x186476=>{const _0x4f525b=_0xe7d329;showToast(_0x4f525b(0x1f9),![]);});}function generateId(){const _0x4d8bf8=a2_0x4107fc;return Date[_0x4d8bf8(0x203)]()[_0x4d8bf8(0x25d)](0x24)+Math['random']()[_0x4d8bf8(0x25d)](0x24)[_0x4d8bf8(0x16e)](0x2,0x5);}function toggleSeriesInput(){const _0x3d5e19=a2_0x4107fc,_0x3f25b7=document[_0x3d5e19(0x1ea)]('inpRecurring')[_0x3d5e19(0x244)],_0x3fdbe5=document[_0x3d5e19(0x1ea)](_0x3d5e19(0x25f));_0x3fdbe5[_0x3d5e19(0x228)][_0x3d5e19(0x163)]=_0x3f25b7?_0x3d5e19(0x24a):_0x3d5e19(0x235);const _0xfa0151=document[_0x3d5e19(0x1ea)](_0x3d5e19(0x1f0));_0xfa0151[_0x3d5e19(0x228)][_0x3d5e19(0x20e)]=_0x3f25b7?'10px\x2010px\x200\x200':_0x3d5e19(0x196);}function openAddSession(_0x591662){const _0x2dc05a=a2_0x4107fc;editingId=null,populateClientSelect(),document['getElementById'](_0x2dc05a(0x247))[_0x2dc05a(0x213)]=_0x2dc05a(0x1fc),document[_0x2dc05a(0x1ea)](_0x2dc05a(0x2b8))[_0x2dc05a(0x228)][_0x2dc05a(0x163)]=_0x2dc05a(0x235),document[_0x2dc05a(0x1ea)](_0x2dc05a(0x24b))[_0x2dc05a(0x228)][_0x2dc05a(0x163)]=_0x2dc05a(0x235);const _0x2a7eb2=document[_0x2dc05a(0x1ea)]('recurringOptionContainer'),_0x2c669c=document[_0x2dc05a(0x1ea)](_0x2dc05a(0x25f));_0x2a7eb2[_0x2dc05a(0x228)][_0x2dc05a(0x163)]='flex',_0x2a7eb2[_0x2dc05a(0x228)][_0x2dc05a(0x20e)]=_0x2dc05a(0x196),document[_0x2dc05a(0x1ea)]('inpRecurring')['checked']=![],document[_0x2dc05a(0x1ea)]('inpSeriesCount')[_0x2dc05a(0x248)]=0x4,_0x2c669c[_0x2dc05a(0x228)][_0x2dc05a(0x163)]=_0x2dc05a(0x235),document['getElementById']('inpDate')['value']=getLocalDateStr(_0x591662),updateDateDisplay();const _0x1bd7f5=_0x591662['getHours']();document['getElementById']('inpStart')[_0x2dc05a(0x248)]=String(_0x1bd7f5)[_0x2dc05a(0x182)](0x2,'0')+_0x2dc05a(0x246),document[_0x2dc05a(0x1ea)]('inpEnd')['value']=String(_0x1bd7f5+0x1)[_0x2dc05a(0x182)](0x2,'0')+_0x2dc05a(0x246),openSheet('sessionSheet');}function openEdit(_0x30a126){const _0x1de8b9=a2_0x4107fc;editingId=_0x30a126['id'],populateClientSelect(),document[_0x1de8b9(0x1ea)](_0x1de8b9(0x247))['textContent']=_0x1de8b9(0x219),document['getElementById'](_0x1de8b9(0x2b8))[_0x1de8b9(0x228)][_0x1de8b9(0x163)]=_0x1de8b9(0x24a);const _0x30220c=document[_0x1de8b9(0x1ea)](_0x1de8b9(0x24b));_0x30220c[_0x1de8b9(0x228)]['display']=_0x1de8b9(0x1bf);_0x30a126[_0x1de8b9(0x1cf)]==='completed'?(_0x30220c[_0x1de8b9(0x225)]=_0x1de8b9(0x145),_0x30220c['innerHTML']='–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ'):(_0x30220c['className']='btn-status-toggle',_0x30220c[_0x1de8b9(0x176)]=_0x1de8b9(0x22b));const _0x20d08f=!!_0x30a126['seriesId'];document[_0x1de8b9(0x1ea)]('recurringOptionContainer')['style'][_0x1de8b9(0x163)]=_0x1de8b9(0x235),document['getElementById'](_0x1de8b9(0x25f))[_0x1de8b9(0x228)][_0x1de8b9(0x163)]=_0x1de8b9(0x235),_0x20d08f?(document[_0x1de8b9(0x1ea)](_0x1de8b9(0x29b))['style'][_0x1de8b9(0x163)]='flex',document[_0x1de8b9(0x1ea)]('patternInfoBox')[_0x1de8b9(0x26f)]('.pib-text')['textContent']='–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫'):document[_0x1de8b9(0x1ea)](_0x1de8b9(0x29b))[_0x1de8b9(0x228)]['display']=_0x1de8b9(0x235),document[_0x1de8b9(0x1ea)]('inpClient')[_0x1de8b9(0x248)]=_0x30a126['client'],document[_0x1de8b9(0x1ea)](_0x1de8b9(0x197))[_0x1de8b9(0x248)]=_0x30a126['dateStr'],document[_0x1de8b9(0x1ea)]('inpStart')[_0x1de8b9(0x248)]=_0x30a126['start'],document[_0x1de8b9(0x1ea)](_0x1de8b9(0x1bc))[_0x1de8b9(0x248)]=_0x30a126['end'],document[_0x1de8b9(0x1ea)]('inpNote')[_0x1de8b9(0x248)]=_0x30a126[_0x1de8b9(0x147)]||'',updateDateDisplay(),openSheet(_0x1de8b9(0x1eb));}async function trySaveSession(){const _0x14cc95=a2_0x4107fc,_0x21cba9=document[_0x14cc95(0x1ea)]('inpClient')[_0x14cc95(0x248)],_0x330805=document['getElementById'](_0x14cc95(0x197))[_0x14cc95(0x248)],_0x43e070=document[_0x14cc95(0x1ea)](_0x14cc95(0x277))['value'],_0x359e9d=document['getElementById'](_0x14cc95(0x1bc))['value'],_0x567949=document[_0x14cc95(0x1ea)](_0x14cc95(0x220))['value'],_0x5981a0=document[_0x14cc95(0x1ea)](_0x14cc95(0x269))[_0x14cc95(0x244)];let _0x474d89=0x4;if(_0x5981a0){const _0x321380=parseInt(document[_0x14cc95(0x1ea)](_0x14cc95(0x215))[_0x14cc95(0x248)]);if(!_0x321380||_0x321380<0x2){showToast(_0x14cc95(0x279),![]);return;}if(_0x321380>0x64){showToast('–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑',![]);return;}_0x474d89=_0x321380;}const _0xd40f1f=clients[_0x14cc95(0x238)](_0x328b71=>_0x328b71[_0x14cc95(0x290)]===_0x21cba9);if(!_0xd40f1f){showToast(_0x14cc95(0x2b9),![]);return;}const _0x1a134a=validateAppointment(_0x330805,_0x43e070,_0x359e9d,editingId,_0xd40f1f['id']);if(!_0x1a134a[_0x14cc95(0x234)]){showToast(_0x1a134a[_0x14cc95(0x201)],![]);return;}_0x1a134a[_0x14cc95(0x27b)]&&showToast(_0x1a134a[_0x14cc95(0x27b)],![]);const _0x30a6e6={'client':_0x21cba9,'clientId':_0xd40f1f['id'],'start':_0x43e070,'end':_0x359e9d,'note':_0x567949,'status':_0x14cc95(0x214)},_0x330668=editingId?sessions[_0x14cc95(0x238)](_0x26a757=>_0x26a757['id']===editingId):null;if(_0x330668&&_0x330668[_0x14cc95(0x230)]){tempSessionData={..._0x30a6e6,'dateStr':_0x330805,'id':editingId,'seriesId':_0x330668[_0x14cc95(0x230)]},openActionSheet(_0x14cc95(0x278));return;}let _0xaf5486=null;if(!editingId)_0xaf5486='create';else{if(_0x330668){if(String(_0x330668['clientId'])!==String(_0xd40f1f['id']))console[_0x14cc95(0x28e)](_0x14cc95(0x1d8)),NotificationManager['send'](_0x14cc95(0x192),_0x330668),_0xaf5486=_0x14cc95(0x2ac);else(_0x330668[_0x14cc95(0x26e)]!==_0x43e070||_0x330668[_0x14cc95(0x1b7)]!==_0x359e9d||_0x330668[_0x14cc95(0x1d0)]!==_0x330805)&&(_0xaf5486=_0x14cc95(0x180));}}if(!editingId&&_0x5981a0){createBatchSeries(_0x30a6e6,_0x330805,_0x474d89),NotificationManager[_0x14cc95(0x284)](_0x14cc95(0x2ac),{..._0x30a6e6,'dateStr':_0x330805});return;}lastUserActionTime=Date['now']();const _0x45a72e={..._0x30a6e6,'dateStr':_0x330805,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x45a72e),_0xaf5486&&NotificationManager[_0x14cc95(0x284)](_0xaf5486,_0x45a72e);}function toggleSessionStatus(){const _0x3bb610=a2_0x4107fc;lastUserActionTime=Date[_0x3bb610(0x203)]();const _0xaa72a9=sessions[_0x3bb610(0x238)](_0x4a1f6b=>_0x4a1f6b['id']===editingId);if(!_0xaa72a9)return;const _0x4d1d2d=_0xaa72a9[_0x3bb610(0x1cf)]===_0x3bb610(0x299)?_0x3bb610(0x214):'completed';_0xaa72a9['status']=_0x4d1d2d,saveSingleSession(_0xaa72a9),_0x4d1d2d===_0x3bb610(0x299)&&NotificationManager[_0x3bb610(0x284)](_0x3bb610(0x1a2),_0xaa72a9),showToast(_0x4d1d2d==='completed'?_0x3bb610(0x1f4):_0x3bb610(0x15a),!![]);}function validateAppointment(_0x301e11,_0x1750b7,_0x24d0be,_0x141e1a,_0x4af22b){const _0x327b9b=a2_0x4107fc,[_0x4a95e0,_0x1c9026]=_0x1750b7[_0x327b9b(0x1c1)](':')[_0x327b9b(0x22d)](Number),[_0x5ba098,_0x365ddd]=_0x24d0be['split'](':')['map'](Number),_0x2fe7f9=_0x4a95e0*0x3c+_0x1c9026,_0x800afd=_0x5ba098*0x3c+_0x365ddd,_0x4d16f8=String(_0x4af22b);let _0x38c879=![],_0x4cc5d3='';for(let _0x160bb1 of sessions){if(_0x160bb1[_0x327b9b(0x1d0)]!==_0x301e11)continue;if(_0x160bb1['status']===_0x327b9b(0x223))continue;if(_0x141e1a&&String(_0x160bb1['id'])===String(_0x141e1a))continue;const [_0xc13da5,_0x5f2f15]=_0x160bb1['start'][_0x327b9b(0x1c1)](':')['map'](Number),[_0x52cd21,_0x4b7b33]=_0x160bb1[_0x327b9b(0x1b7)][_0x327b9b(0x1c1)](':')[_0x327b9b(0x22d)](Number),_0x2da338=_0xc13da5*0x3c+_0x5f2f15,_0xac62ed=_0x52cd21*0x3c+_0x4b7b33;if(Math[_0x327b9b(0x193)](_0x2fe7f9,_0x2da338)<Math[_0x327b9b(0x157)](_0x800afd,_0xac62ed)){if(_0x160bb1[_0x327b9b(0x233)]&&String(_0x160bb1['clientId'])===_0x4d16f8)return{'valid':![],'msg':_0x327b9b(0x16c)+_0x160bb1[_0x327b9b(0x2ab)]+_0x327b9b(0x262)};_0x38c879=!![],_0x4cc5d3=_0x160bb1[_0x327b9b(0x2ab)];}}if(_0x38c879)return{'valid':!![],'warning':_0x327b9b(0x282)+_0x4cc5d3};return{'valid':!![]};}function saveSingleSession(_0x2bdf76){const _0x335eab=a2_0x4107fc;if(editingId){const _0x4501b8=sessions['findIndex'](_0x54bf29=>_0x54bf29['id']===editingId);if(_0x4501b8!==-0x1)sessions[_0x4501b8]=_0x2bdf76;}else sessions['push'](_0x2bdf76);afterSaveAction([_0x2bdf76[_0x335eab(0x1d0)]]);}function createBatchSeries(_0x707fab,_0x23b9a2,_0x1f1810){const _0x1c2dce=a2_0x4107fc,_0xaedebd=generateId(),_0x243a0f=[],_0x460d36=[];let _0x5e83f2=0x0,_0x100254=new Date(_0x23b9a2);for(let _0x1ceba2=0x0;_0x1ceba2<_0x1f1810;_0x1ceba2++){const _0x63ab3f=getLocalDateStr(_0x100254),_0x341051=validateAppointment(_0x63ab3f,_0x707fab['start'],_0x707fab[_0x1c2dce(0x1b7)],null,_0x707fab[_0x1c2dce(0x233)]);if(!_0x341051[_0x1c2dce(0x234)])console[_0x1c2dce(0x28e)](_0x1c2dce(0x23c)+_0x63ab3f+':\x20Client\x20already\x20booked'),_0x5e83f2++;else{const _0xf5133b={..._0x707fab,'id':generateId(),'dateStr':_0x63ab3f,'seriesId':_0xaedebd};_0x460d36[_0x1c2dce(0x20a)](_0xf5133b),_0x243a0f[_0x1c2dce(0x20a)](_0x63ab3f);}_0x100254[_0x1c2dce(0x298)](_0x100254['getDate']()+0x7);}if(_0x460d36[_0x1c2dce(0x1ac)]===0x0){showToast(_0x1c2dce(0x281),![]);return;}sessions[_0x1c2dce(0x20a)](..._0x460d36),lastUserActionTime=Date[_0x1c2dce(0x203)]();let _0x38d60e=_0x1c2dce(0x255)+_0x460d36[_0x1c2dce(0x1ac)];_0x5e83f2>0x0&&(_0x38d60e+=_0x1c2dce(0x25a)+_0x5e83f2+')'),showToast(_0x38d60e,!![]),afterSaveAction(_0x243a0f);}function updateSeriesBatch(_0x573707,_0x171684){const _0x3c99b7=a2_0x4107fc,_0x12a012=[],_0x1e8ece=_0x171684[_0x3c99b7(0x230)];if(_0x573707==='single'){const _0x1db6fb={..._0x171684,'seriesId':null},_0x996408=sessions[_0x3c99b7(0x2af)](_0x214f0e=>_0x214f0e['id']===_0x171684['id']);if(_0x996408!==-0x1)sessions[_0x996408]=_0x1db6fb;_0x12a012['push'](_0x1db6fb[_0x3c99b7(0x1d0)]);}else{if(_0x573707==='series'){const _0x45c54e=_0x171684['dateStr'];sessions['forEach']((_0x49e1ee,_0x5512c6)=>{const _0x161519=_0x3c99b7;_0x49e1ee['seriesId']===_0x1e8ece&&_0x49e1ee[_0x161519(0x1d0)]>=_0x45c54e&&(sessions[_0x5512c6]={...sessions[_0x5512c6],'start':_0x171684[_0x161519(0x26e)],'end':_0x171684[_0x161519(0x1b7)],'note':_0x171684[_0x161519(0x147)],'client':_0x171684[_0x161519(0x2ab)],'clientId':_0x171684[_0x161519(0x233)]},_0x12a012[_0x161519(0x20a)](_0x49e1ee[_0x161519(0x1d0)]));});}}afterSaveAction(_0x12a012);}function tryDeleteSession(){const _0x30a044=a2_0x4107fc,_0x49438a=sessions[_0x30a044(0x238)](_0x41c277=>_0x41c277['id']===editingId);if(!_0x49438a)return;_0x49438a['seriesId']?openActionSheet(_0x30a044(0x224)):commitDelete(_0x30a044(0x1ae),_0x49438a);}function commitDelete(_0x421702,_0x5490d4){const _0x57e58f=a2_0x4107fc;lastUserActionTime=Date['now'](),NotificationManager[_0x57e58f(0x284)](_0x57e58f(0x192),_0x5490d4);const _0x43cd74=[];if(_0x421702==='single')sessions=sessions['filter'](_0x3e82ab=>_0x3e82ab['id']!==_0x5490d4['id']),_0x43cd74['push'](_0x5490d4[_0x57e58f(0x1d0)]);else{if(_0x421702===_0x57e58f(0x1b5)){const _0x518339=_0x5490d4[_0x57e58f(0x1d0)],_0x260a61=_0x5490d4['seriesId'];sessions[_0x57e58f(0x25e)](_0xb51e15=>{const _0x4fd6f6=_0x57e58f;_0xb51e15[_0x4fd6f6(0x230)]===_0x260a61&&_0xb51e15[_0x4fd6f6(0x1d0)]>=_0x518339&&_0x43cd74[_0x4fd6f6(0x20a)](_0xb51e15['dateStr']);}),sessions=sessions[_0x57e58f(0x294)](_0x3e061b=>!(_0x3e061b[_0x57e58f(0x230)]===_0x260a61&&_0x3e061b[_0x57e58f(0x1d0)]>=_0x518339));}}afterSaveAction(_0x43cd74);}function afterSaveAction(_0x3d4122){const _0x1f0062=a2_0x4107fc;DataManager[_0x1f0062(0x16f)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x1f0062(0x280)](_0x3d4122)[_0x1f0062(0x189)](()=>console[_0x1f0062(0x28e)]('Batch\x20Sync\x20OK'))[_0x1f0062(0x257)](_0x3ab02c=>showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ',![]));}const NotificationManager={'formatDate'(_0x3c6c98){const _0x2dad61=a2_0x4107fc,_0xbcd8a9=new Date(_0x3c6c98),_0x24cae7={'weekday':'long','day':_0x2dad61(0x27e),'month':_0x2dad61(0x174)};let _0x574782=_0xbcd8a9['toLocaleDateString'](_0x2dad61(0x1fd),_0x24cae7);return _0x574782[_0x2dad61(0x18c)](0x0)[_0x2dad61(0x15c)]()+_0x574782[_0x2dad61(0x17c)](0x1);},'getText'(_0x1ccc7d,_0x5eae58){const _0x4116aa=a2_0x4107fc,_0x56cc3a=this['formatDate'](_0x5eae58[_0x4116aa(0x1d0)]);switch(_0x1ccc7d){case'create':return _0x4116aa(0x2b7)+(_0x4116aa(0x24e)+_0x56cc3a+'\x0a')+(_0x4116aa(0x2a3)+_0x5eae58['start']+_0x4116aa(0x23f)+_0x5eae58[_0x4116aa(0x1b7)]+'\x0a\x0a')+_0x4116aa(0x23a);case _0x4116aa(0x180):return'<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a'+'–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a'+(_0x4116aa(0x26a)+_0x5eae58[_0x4116aa(0x26e)]+_0x4116aa(0x23f)+_0x5eae58[_0x4116aa(0x1b7)]+'</b>\x0a\x0a')+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0x56cc3a);case _0x4116aa(0x192):return _0x4116aa(0x276)+(_0x4116aa(0x164)+_0x56cc3a+'\x20('+_0x5eae58[_0x4116aa(0x26e)]+_0x4116aa(0x283));case'complete':return'<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a'+_0x4116aa(0x195)+'<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>';default:return'';}},async 'send'(_0x39ef12,_0x1539f2){const _0x19464f=a2_0x4107fc;console[_0x19464f(0x28e)](_0x19464f(0x18d),_0x39ef12,_0x1539f2);if(!_0x1539f2){console[_0x19464f(0x28f)](_0x19464f(0x181));return;}const _0x534c14=String(_0x1539f2[_0x19464f(0x233)]);console[_0x19464f(0x28e)](_0x19464f(0x295),_0x534c14);if(!_0x1539f2[_0x19464f(0x233)]||_0x534c14===_0x19464f(0x166)||_0x534c14===_0x19464f(0x285)){console['error'](_0x19464f(0x1a8));if(_0x1539f2[_0x19464f(0x2ab)]){const _0x63be1c=clients[_0x19464f(0x238)](_0x10a280=>_0x10a280['name']===_0x1539f2[_0x19464f(0x2ab)]);if(_0x63be1c)return console[_0x19464f(0x28e)]('[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:',_0x63be1c['id']),this[_0x19464f(0x284)](_0x39ef12,{..._0x1539f2,'clientId':_0x63be1c['id']});}return;}if(_0x534c14[_0x19464f(0x1ac)]<0x5){console[_0x19464f(0x1ab)]('[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)',_0x534c14);return;}const _0x2bef50=this['getText'](_0x39ef12,_0x1539f2);if(!_0x2bef50){console['error'](_0x19464f(0x186));return;}console[_0x19464f(0x28e)](_0x19464f(0x171)+_0x534c14+'...'),DataManager[_0x19464f(0x2b3)](_0x19464f(0x199),{'chatId':_0x534c14,'text':_0x2bef50})[_0x19464f(0x189)](_0x693a42=>console[_0x19464f(0x28e)](_0x19464f(0x15d),_0x693a42))[_0x19464f(0x257)](_0x552e69=>console[_0x19464f(0x28f)]('[Notify]\x20Network\x20Failed',_0x552e69));}};function getLocalDateStr(_0x4499ee){const _0x4eca7e=a2_0x4107fc,_0xaac388=_0x4499ee[_0x4eca7e(0x205)](),_0x1334f4=String(_0x4499ee[_0x4eca7e(0x150)]()+0x1)[_0x4eca7e(0x182)](0x2,'0'),_0x87464=String(_0x4499ee[_0x4eca7e(0x158)]())[_0x4eca7e(0x182)](0x2,'0');return _0xaac388+'-'+_0x1334f4+'-'+_0x87464;}function getDateStr(_0x539f68){const _0x2c0081=a2_0x4107fc,_0x10ed40=new Date();return _0x10ed40[_0x2c0081(0x298)](_0x10ed40[_0x2c0081(0x158)]()+_0x539f68),getLocalDateStr(_0x10ed40);}function getStartOfWeek(_0x524dd7){const _0x21e159=a2_0x4107fc,_0x2034bc=new Date(_0x524dd7),_0x34dff0=_0x2034bc['getDay'](),_0x480f97=_0x2034bc['getDate']()-_0x34dff0+(_0x34dff0===0x0?-0x6:0x1);return _0x2034bc['setDate'](_0x480f97),_0x2034bc[_0x21e159(0x1b3)](0x0,0x0,0x0,0x0),_0x2034bc;}function hexToRgba(_0x519aff,_0x5b07ba){const _0x3f5373=a2_0x4107fc;if(!_0x519aff)return _0x3f5373(0x26d);let _0x343e78=0x0,_0x2c9048=0x0,_0x455f11=0x0;if(_0x519aff[_0x3f5373(0x1ac)]===0x4)_0x343e78='0x'+_0x519aff[0x1]+_0x519aff[0x1],_0x2c9048='0x'+_0x519aff[0x2]+_0x519aff[0x2],_0x455f11='0x'+_0x519aff[0x3]+_0x519aff[0x3];else _0x519aff[_0x3f5373(0x1ac)]===0x7&&(_0x343e78='0x'+_0x519aff[0x1]+_0x519aff[0x2],_0x2c9048='0x'+_0x519aff[0x3]+_0x519aff[0x4],_0x455f11='0x'+_0x519aff[0x5]+_0x519aff[0x6]);return _0x3f5373(0x1a7)+ +_0x343e78+',\x20'+ +_0x2c9048+',\x20'+ +_0x455f11+',\x20'+_0x5b07ba+')';}function renderTimeColumn(){const _0x23d4aa=a2_0x4107fc,_0x3ba9de=document[_0x23d4aa(0x1ea)](_0x23d4aa(0x149)),_0x4a21c2=document['getElementById'](_0x23d4aa(0x292));_0x3ba9de['innerHTML']='',_0x3ba9de[_0x23d4aa(0x18f)](_0x4a21c2);for(let _0x3ceb85=0x0;_0x3ceb85<0x18;_0x3ceb85++){const _0x4574c9=document[_0x23d4aa(0x229)](_0x23d4aa(0x28b));_0x4574c9[_0x23d4aa(0x225)]=_0x23d4aa(0x177);if(_0x3ceb85>0x0)_0x4574c9[_0x23d4aa(0x176)]=_0x23d4aa(0x1c9)+String(_0x3ceb85)['padStart'](0x2,'0')+_0x23d4aa(0x20c);_0x3ba9de[_0x23d4aa(0x18f)](_0x4574c9);}}function renderDayRange(_0x5630c6,_0x355d63){const _0x5accb9=a2_0x4107fc,_0x315b78=document[_0x5accb9(0x1ea)](_0x5accb9(0x2a8)),_0x5d0f79=document[_0x5accb9(0x1ea)](_0x5accb9(0x172)),_0x4ea003=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x227148=new Date();_0x227148[_0x5accb9(0x1b3)](0x0,0x0,0x0,0x0);const _0x28de56=getLocalDateStr(new Date());for(let _0x121b67=_0x5630c6;_0x121b67<=_0x355d63;_0x121b67++){const _0x5ae27c=new Date(_0x227148);_0x5ae27c['setDate'](_0x5ae27c[_0x5accb9(0x158)]()+_0x121b67);const _0x5ebab8=getLocalDateStr(_0x5ae27c);let _0x3af25b=_0x5ae27c['getDay']()-0x1;if(_0x3af25b===-0x1)_0x3af25b=0x6;const _0x5259c2=_0x5ebab8===_0x28de56,_0x2a1756=document[_0x5accb9(0x229)](_0x5accb9(0x28b));_0x2a1756[_0x5accb9(0x225)]=_0x5accb9(0x29c)+(_0x5259c2?_0x5accb9(0x2ad):''),_0x2a1756['id']=_0x5accb9(0x141)+_0x5ebab8,_0x2a1756[_0x5accb9(0x274)]('data-date',_0x5ebab8),_0x2a1756[_0x5accb9(0x176)]=_0x5accb9(0x1b0)+_0x4ea003[_0x3af25b]+_0x5accb9(0x1e0)+_0x5ae27c[_0x5accb9(0x158)]()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0x5ebab8+_0x5accb9(0x1cd),_0x2a1756[_0x5accb9(0x264)]=()=>openDayOptions(_0x5ebab8,_0x4ea003[_0x3af25b]+'\x20'+_0x5ae27c['getDate']()),_0x315b78[_0x5accb9(0x18f)](_0x2a1756);const _0x33b24e=document[_0x5accb9(0x229)]('div');_0x33b24e['className']=_0x5accb9(0x28a)+(_0x5259c2?_0x5accb9(0x2ad):''),_0x33b24e[_0x5accb9(0x274)]('data-date',_0x5ebab8),_0x33b24e['setAttribute'](_0x5accb9(0x268),_0x3af25b),renderEventsForColumn(_0x33b24e,_0x5ebab8,_0x3af25b),attachLongPressHandler(_0x33b24e,_0x5ae27c),_0x5d0f79[_0x5accb9(0x18f)](_0x33b24e),updateDayStats(_0x5ebab8);}}function reRenderBlocks(){const _0x100f9f=a2_0x4107fc;document[_0x100f9f(0x239)](_0x100f9f(0x1ed))['forEach'](_0x16888f=>{const _0x16e118=_0x100f9f;_0x16888f[_0x16e118(0x239)](_0x16e118(0x165))['forEach'](_0x3de481=>_0x3de481[_0x16e118(0x273)]());const _0x1023ac=_0x16888f[_0x16e118(0x252)](_0x16e118(0x1a1)),_0x3fbb7b=parseInt(_0x16888f['getAttribute'](_0x16e118(0x268))),_0x4074a0=Math[_0x16e118(0x263)](_0x16888f[_0x16e118(0x159)]);(availabilityPattern[_0x3fbb7b]||[])[_0x16e118(0x25e)](_0x177b5e=>{const _0x2ad34e=_0x16e118,_0x5bd359=document['createElement'](_0x2ad34e(0x28b));_0x5bd359['className']=_0x2ad34e(0x204);const _0x1ee1f1=_0x177b5e*GRID_H;_0x5bd359['style'][_0x2ad34e(0x1f6)]=_0x1ee1f1+'px',_0x5bd359['style'][_0x2ad34e(0x1be)]='-'+_0x4074a0+_0x2ad34e(0x13b)+_0x1ee1f1+'px',_0x16888f[_0x2ad34e(0x18f)](_0x5bd359);});if(specialRanges&&specialRanges['length']>0x0){const _0x13fd3a=new Date(_0x1023ac+_0x16e118(0x1dc))[_0x16e118(0x185)](),_0x23547f=new Date(_0x1023ac+'T23:59:59')[_0x16e118(0x185)]();specialRanges[_0x16e118(0x25e)](_0x12974c=>{const _0x1ab2ad=_0x16e118,_0x258c03=new Date(_0x12974c[_0x1ab2ad(0x26e)])['getTime'](),_0x597194=new Date(_0x12974c[_0x1ab2ad(0x1b7)])['getTime'](),_0x27c93a=Math['max'](_0x13fd3a,_0x258c03),_0x31ce4c=Math[_0x1ab2ad(0x157)](_0x23547f,_0x597194);if(_0x27c93a<_0x31ce4c){if(_0x27c93a<=_0x13fd3a&&_0x31ce4c>=_0x23547f-0xea60){if(!_0x16888f[_0x1ab2ad(0x26f)](_0x1ab2ad(0x2b0))){const _0x52dfee=document[_0x1ab2ad(0x229)](_0x1ab2ad(0x28b));_0x52dfee['className']='day-off-overlay\x20stripe-bg',_0x52dfee[_0x1ab2ad(0x228)][_0x1ab2ad(0x1be)]='-'+_0x4074a0+_0x1ab2ad(0x2b6),_0x16888f[_0x1ab2ad(0x18f)](_0x52dfee);}}else{const _0x185669=(_0x27c93a-_0x13fd3a)/0x36ee80*GRID_H,_0x28a21b=(_0x31ce4c-_0x27c93a)/0x36ee80*GRID_H,_0x1c6158=document[_0x1ab2ad(0x229)]('div');_0x1c6158['className']=_0x1ab2ad(0x23e),_0x1c6158[_0x1ab2ad(0x228)]['top']=_0x185669+'px',_0x1c6158[_0x1ab2ad(0x228)]['height']=_0x28a21b+'px',_0x1c6158[_0x1ab2ad(0x228)][_0x1ab2ad(0x1be)]='-'+_0x4074a0+_0x1ab2ad(0x13b)+_0x185669+'px',_0x16888f[_0x1ab2ad(0x18f)](_0x1c6158);}}});}if(dateExceptions[_0x1023ac]===_0x16e118(0x1db)){if(!_0x16888f[_0x16e118(0x26f)](_0x16e118(0x2b0))){const _0xc0d304=document[_0x16e118(0x229)]('div');_0xc0d304['className']=_0x16e118(0x21d),_0xc0d304[_0x16e118(0x228)]['backgroundPosition']='-'+_0x4074a0+_0x16e118(0x2b6),_0x16888f[_0x16e118(0x18f)](_0xc0d304);}}renderEventsForColumn(_0x16888f,_0x1023ac,_0x3fbb7b),updateDayStats(_0x1023ac);});}function updateAllDayStats(){const _0x38c135=a2_0x4107fc;document['querySelectorAll'](_0x38c135(0x18e))[_0x38c135(0x25e)](_0x129b29=>{const _0x3f0143=_0x38c135;updateDayStats(_0x129b29['getAttribute'](_0x3f0143(0x1a1)));});}function updateDayStats(_0x35f5c5){const _0x9f6813=a2_0x4107fc,_0x49b1fa=document[_0x9f6813(0x1ea)](_0x9f6813(0x161)+_0x35f5c5);if(!_0x49b1fa)return;const _0x4a619b=new Date(_0x35f5c5);let _0x4649c3=_0x4a619b[_0x9f6813(0x260)]()-0x1;if(_0x4649c3===-0x1)_0x4649c3=0x6;if(dateExceptions[_0x35f5c5]==='off'){_0x49b1fa[_0x9f6813(0x228)][_0x9f6813(0x163)]='none';return;}const _0x42755c=availabilityPattern[_0x4649c3]||[],_0x41123d=0x18-_0x42755c[_0x9f6813(0x1ac)],_0x2f746c=_0x41123d*0x3c,_0x425f79=sessions[_0x9f6813(0x294)](_0x2830ce=>_0x2830ce['dateStr']===_0x35f5c5&&_0x2830ce[_0x9f6813(0x1cf)]!==_0x9f6813(0x223));if(_0x425f79[_0x9f6813(0x1ac)]===0x0){_0x49b1fa[_0x9f6813(0x228)]['display']=_0x9f6813(0x235);return;}let _0x20b665=_0x425f79[_0x9f6813(0x22d)](_0x3ac3d9=>{const _0x2f06b3=_0x9f6813,[_0x4c3c79,_0x289ec7]=_0x3ac3d9[_0x2f06b3(0x26e)][_0x2f06b3(0x1c1)](':')[_0x2f06b3(0x22d)](Number),[_0x475127,_0x1a7935]=_0x3ac3d9[_0x2f06b3(0x1b7)][_0x2f06b3(0x1c1)](':')['map'](Number);return[_0x4c3c79*0x3c+_0x289ec7,_0x475127*0x3c+_0x1a7935];});_0x20b665[_0x9f6813(0x293)]((_0x390dd8,_0xacd1dd)=>_0x390dd8[0x0]-_0xacd1dd[0x0]);let _0x52608c=[];if(_0x20b665[_0x9f6813(0x1ac)]>0x0){let _0x731f62=_0x20b665[0x0];for(let _0x250060=0x1;_0x250060<_0x20b665[_0x9f6813(0x1ac)];_0x250060++){_0x20b665[_0x250060][0x0]<_0x731f62[0x1]?_0x731f62[0x1]=Math[_0x9f6813(0x193)](_0x731f62[0x1],_0x20b665[_0x250060][0x1]):(_0x52608c[_0x9f6813(0x20a)](_0x731f62),_0x731f62=_0x20b665[_0x250060]);}_0x52608c['push'](_0x731f62);}let _0x267427=0x0;_0x52608c[_0x9f6813(0x25e)](_0xf91e8c=>_0x267427+=_0xf91e8c[0x1]-_0xf91e8c[0x0]),_0x49b1fa[_0x9f6813(0x228)][_0x9f6813(0x163)]=_0x9f6813(0x1bf);const _0x3701f7=_0x49b1fa['querySelector'](_0x9f6813(0x202));if(_0x2f746c===0x0){_0x3701f7[_0x9f6813(0x228)][_0x9f6813(0x190)]=_0x9f6813(0x194),_0x3701f7[_0x9f6813(0x228)]['background']=_0x9f6813(0x27d);return;}const _0x102da5=_0x267427/_0x2f746c*0x64;console['log']('['+_0x35f5c5+_0x9f6813(0x258)+_0x41123d+_0x9f6813(0x1e2)+_0x267427+'–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20'+_0x102da5[_0x9f6813(0x218)](0x1)+'%'),_0x102da5>0x64?(_0x3701f7[_0x9f6813(0x228)][_0x9f6813(0x190)]=_0x9f6813(0x194),_0x3701f7[_0x9f6813(0x228)]['background']=_0x9f6813(0x27d)):(_0x3701f7['style'][_0x9f6813(0x190)]=_0x102da5+'%',_0x3701f7['style'][_0x9f6813(0x211)]='var(--acc-current)');}function renderEventsForColumn(_0xcdf0d7,_0x19bc74,_0x3651b0){const _0x230541=a2_0x4107fc,_0x24b24a=sessions['filter'](_0x15f0df=>_0x15f0df[_0x230541(0x1d0)]===_0x19bc74),_0xa01cbf=_0x24b24a[_0x230541(0x22d)](_0x538784=>{const _0x19592c=_0x230541,[_0x2e503b,_0x31f9aa]=_0x538784['start'][_0x19592c(0x1c1)](':')[_0x19592c(0x22d)](Number),[_0x53d1f6,_0x59afd6]=_0x538784[_0x19592c(0x1b7)][_0x19592c(0x1c1)](':')[_0x19592c(0x22d)](Number);return{'data':_0x538784,'start':_0x2e503b*0x3c+_0x31f9aa,'end':_0x53d1f6*0x3c+_0x59afd6,'colIndex':0x0};});_0xa01cbf[_0x230541(0x293)]((_0x35f77b,_0x4b20b9)=>{const _0x4dbdc7=_0x230541;if(_0x35f77b['start']!==_0x4b20b9[_0x4dbdc7(0x26e)])return _0x35f77b[_0x4dbdc7(0x26e)]-_0x4b20b9[_0x4dbdc7(0x26e)];return _0x4b20b9[_0x4dbdc7(0x1b7)]-_0x4b20b9['start']-(_0x35f77b[_0x4dbdc7(0x1b7)]-_0x35f77b['start']);});const _0x581d33=[];_0xa01cbf['forEach'](_0x2948e8=>{const _0x589aa4=_0x230541;let _0x52e2da=![];for(let _0x4bcb98=0x0;_0x4bcb98<_0x581d33[_0x589aa4(0x1ac)];_0x4bcb98++){const _0x337944=_0x581d33[_0x4bcb98],_0x2b3a07=_0x337944[_0x337944[_0x589aa4(0x1ac)]-0x1];if(_0x2948e8[_0x589aa4(0x26e)]>=_0x2b3a07[_0x589aa4(0x1b7)]){_0x337944[_0x589aa4(0x20a)](_0x2948e8),_0x2948e8['colIndex']=_0x4bcb98,_0x52e2da=!![];break;}}!_0x52e2da&&(_0x581d33[_0x589aa4(0x20a)]([_0x2948e8]),_0x2948e8[_0x589aa4(0x29f)]=_0x581d33['length']-0x1);}),_0xa01cbf[_0x230541(0x25e)](_0x19ada3=>{const _0xf7b5c5=_0x230541;let _0x171f64=0x0;_0xa01cbf[_0xf7b5c5(0x25e)](_0x4c9157=>{const _0x1494f7=_0xf7b5c5;if(Math[_0x1494f7(0x193)](_0x19ada3[_0x1494f7(0x26e)],_0x4c9157[_0x1494f7(0x26e)])<Math['min'](_0x19ada3[_0x1494f7(0x1b7)],_0x4c9157[_0x1494f7(0x1b7)])){if(_0x4c9157[_0x1494f7(0x29f)]>_0x171f64)_0x171f64=_0x4c9157[_0x1494f7(0x29f)];}});const _0x3f7e1e=_0x171f64+0x1,_0x3e9c21=0x64/_0x3f7e1e,_0x5c2e20=_0x19ada3[_0xf7b5c5(0x29f)]*_0x3e9c21,_0x5c2a5b=createEventEl(_0x19ada3[_0xf7b5c5(0x1cb)]);_0x5c2a5b[_0xf7b5c5(0x228)][_0xf7b5c5(0x190)]=_0xf7b5c5(0x1d7)+_0x3e9c21+'%\x20-\x204px)',_0x5c2a5b[_0xf7b5c5(0x228)][_0xf7b5c5(0x288)]=_0xf7b5c5(0x1d7)+_0x5c2e20+_0xf7b5c5(0x28c),_0x5c2a5b[_0xf7b5c5(0x228)][_0xf7b5c5(0x154)]=0xa+_0x19ada3['colIndex'],_0x3e9c21<0x55&&_0x5c2a5b[_0xf7b5c5(0x2a0)][_0xf7b5c5(0x208)](_0xf7b5c5(0x143)),_0xcdf0d7[_0xf7b5c5(0x18f)](_0x5c2a5b);});}function createEventEl(_0xdb18a8){const _0x430b01=a2_0x4107fc,[_0x51fc8d,_0x1c11a4]=_0xdb18a8[_0x430b01(0x26e)]['split'](':')[_0x430b01(0x22d)](Number),[_0x4c7780,_0x5a42c7]=_0xdb18a8[_0x430b01(0x1b7)][_0x430b01(0x1c1)](':')[_0x430b01(0x22d)](Number),_0x232a6f=(_0x51fc8d*0x3c+_0x1c11a4)/0x3c*GRID_H,_0x4266c3=(_0x4c7780*0x3c+_0x5a42c7-(_0x51fc8d*0x3c+_0x1c11a4))/0x3c*GRID_H,_0x92ae09=document[_0x430b01(0x229)](_0x430b01(0x28b)),_0x4f5caa=_0xdb18a8[_0x430b01(0x1cf)]===_0x430b01(0x299)?_0x430b01(0x226):'';_0x92ae09['className']='event-card'+_0x4f5caa,_0x92ae09[_0x430b01(0x228)][_0x430b01(0x1f6)]=_0x232a6f+'px',_0x92ae09['style']['height']=Math[_0x430b01(0x193)](_0x4266c3,0x14)+'px';const _0x3eb873=clients[_0x430b01(0x238)](_0x2daa1a=>_0xdb18a8[_0x430b01(0x233)]&&String(_0x2daa1a['id'])===String(_0xdb18a8[_0x430b01(0x233)])||_0x2daa1a[_0x430b01(0x290)]===_0xdb18a8[_0x430b01(0x2ab)]),_0x1d0f52=_0x3eb873?_0x3eb873[_0x430b01(0x1dd)]:_0x430b01(0x1ba);_0x92ae09['style'][_0x430b01(0x162)]=_0x1d0f52,_0x92ae09[_0x430b01(0x228)][_0x430b01(0x188)]=hexToRgba(_0x1d0f52,0.85);let _0x3f1b22=_0x430b01(0x256)+_0xdb18a8['client']+_0x430b01(0x1f7)+_0xdb18a8['start']+_0x430b01(0x140)+_0xdb18a8[_0x430b01(0x1b7)]+_0x430b01(0x243);return _0xdb18a8[_0x430b01(0x230)]&&(_0x3f1b22+=_0x430b01(0x253)),_0xdb18a8[_0x430b01(0x1cf)]==='completed'&&(_0x3f1b22+='<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>'),_0x92ae09[_0x430b01(0x176)]=_0x3f1b22,_0x92ae09[_0x430b01(0x264)]=_0x17e749=>{_0x17e749['stopPropagation'](),openEdit(_0xdb18a8);},_0x92ae09;}function attachLongPressHandler(_0x34dd37,_0x29ee7d){const _0x3ca2c0=a2_0x4107fc;let _0x1d175c=0x0,_0x2cda57=null;const _0x4eca9a=_0x588990=>{const _0xff7a95=a2_0x45a8;if(_0x588990['target'][_0xff7a95(0x17f)](_0xff7a95(0x19e)))return;isScrolling=![],_0x1d175c=_0x588990[_0xff7a95(0x27c)]?_0x588990['touches'][0x0]['clientY']:_0x588990[_0xff7a95(0x222)],_0x2cda57=setTimeout(()=>{const _0x301b84=_0xff7a95;if(!isScrolling){navigator[_0x301b84(0x1c6)]?.(0x32);const _0xd482c1=_0x34dd37[_0x301b84(0x14f)](),_0x49feb9=Math[_0x301b84(0x2b4)]((_0x1d175c-_0xd482c1[_0x301b84(0x1f6)])/GRID_H);_0x29ee7d['setHours'](_0x49feb9,0x0),openAddSession(_0x29ee7d);}},0x1f4);},_0x52addc=()=>{isScrolling=!![],clearTimeout(_0x2cda57);},_0x48188a=()=>{clearTimeout(_0x2cda57);};_0x34dd37[_0x3ca2c0(0x1d2)](_0x3ca2c0(0x24f),_0x4eca9a,{'passive':!![]}),_0x34dd37[_0x3ca2c0(0x1d2)](_0x3ca2c0(0x170),_0x52addc,{'passive':!![]}),_0x34dd37[_0x3ca2c0(0x1d2)](_0x3ca2c0(0x1a9),_0x48188a),_0x34dd37[_0x3ca2c0(0x1d2)](_0x3ca2c0(0x21a),_0x4eca9a),_0x34dd37[_0x3ca2c0(0x1d2)](_0x3ca2c0(0x142),_0x52addc),_0x34dd37[_0x3ca2c0(0x1d2)](_0x3ca2c0(0x296),_0x48188a);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x123f86=a2_0x4107fc,_0x17eaec=document['getElementById'](_0x123f86(0x13c)),_0x284adb=_0x17eaec[_0x123f86(0x287)],_0x408283=_0x17eaec[_0x123f86(0x2b2)],_0x73a8f3=_0x17eaec['clientWidth'];if(_0x408283-(_0x284adb+_0x73a8f3)<0x12c){const _0x1f4a34=endOffset;endOffset+=0xe,renderDayRange(_0x1f4a34+0x1,endOffset),reRenderBlocks();}if(_0x284adb<0x12c){const _0x405f65=startOffset;startOffset-=0xe,prependDays(startOffset,_0x405f65-0x1),_0x17eaec[_0x123f86(0x287)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x1ff055,_0x4765c9){const _0x2398c8=a2_0x4107fc,_0x139b37=document['getElementById'](_0x2398c8(0x2a8)),_0x20bc94=document[_0x2398c8(0x1ea)]('gridColumns'),_0x577af8=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x160401=new Date();_0x160401[_0x2398c8(0x1b3)](0x0,0x0,0x0,0x0);const _0x1e4eb6=getLocalDateStr(new Date()),_0x4db4b6=document[_0x2398c8(0x24d)](),_0x1aa0a8=document[_0x2398c8(0x24d)]();for(let _0x4d12da=_0x1ff055;_0x4d12da<=_0x4765c9;_0x4d12da++){const _0x27741e=new Date(_0x160401);_0x27741e['setDate'](_0x27741e[_0x2398c8(0x158)]()+_0x4d12da);const _0x362d95=getLocalDateStr(_0x27741e);let _0x357199=_0x27741e[_0x2398c8(0x260)]()-0x1;if(_0x357199===-0x1)_0x357199=0x6;const _0x3e34e0=_0x362d95===_0x1e4eb6,_0x40adb6=document[_0x2398c8(0x229)]('div');_0x40adb6['className']=_0x2398c8(0x29c)+(_0x3e34e0?_0x2398c8(0x2ad):''),_0x40adb6['id']=_0x2398c8(0x141)+_0x362d95,_0x40adb6['setAttribute'](_0x2398c8(0x1a1),_0x362d95),_0x40adb6[_0x2398c8(0x176)]=_0x2398c8(0x1b0)+_0x577af8[_0x357199]+'</div><div\x20class=\x22dch-num\x22>'+_0x27741e[_0x2398c8(0x158)]()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0x362d95+_0x2398c8(0x1cd),_0x40adb6[_0x2398c8(0x264)]=()=>openDayOptions(_0x362d95,_0x577af8[_0x357199]+'\x20'+_0x27741e[_0x2398c8(0x158)]()),_0x4db4b6['appendChild'](_0x40adb6);const _0x22aabe=document[_0x2398c8(0x229)](_0x2398c8(0x28b));_0x22aabe[_0x2398c8(0x225)]=_0x2398c8(0x28a)+(_0x3e34e0?_0x2398c8(0x2ad):''),_0x22aabe[_0x2398c8(0x274)](_0x2398c8(0x1a1),_0x362d95),_0x22aabe[_0x2398c8(0x274)](_0x2398c8(0x268),_0x357199),renderEventsForColumn(_0x22aabe,_0x362d95,_0x357199),attachLongPressHandler(_0x22aabe,_0x27741e),_0x1aa0a8[_0x2398c8(0x18f)](_0x22aabe),updateDayStats(_0x362d95);}_0x139b37[_0x2398c8(0x1b6)](_0x4db4b6,_0x139b37[_0x2398c8(0x18a)]),_0x20bc94[_0x2398c8(0x1b6)](_0x1aa0a8,_0x20bc94[_0x2398c8(0x26f)](_0x2398c8(0x1d4)));}function a2_0x45a8(_0x4b5ba0,_0x7bcc9d){_0x4b5ba0=_0x4b5ba0-0x138;const _0x80f63e=a2_0x5c24();let _0x2d782d=_0x80f63e[_0x4b5ba0];return _0x2d782d;}function validateAppointment(_0x1b736d,_0x5b179a,_0x2c4f8d,_0x138983,_0x1a50b3){const _0x181eff=a2_0x4107fc,[_0x1527be,_0x7bd3d6]=_0x5b179a[_0x181eff(0x1c1)](':')[_0x181eff(0x22d)](Number),[_0x38b556,_0x3cac2e]=_0x2c4f8d[_0x181eff(0x1c1)](':')[_0x181eff(0x22d)](Number),_0x59ce61=_0x1527be*0x3c+_0x7bd3d6,_0x4acbdd=_0x38b556*0x3c+_0x3cac2e,_0x122911=String(_0x1a50b3);let _0x5502f3=![],_0x38e41b='';for(let _0xfdbfa of sessions){if(_0xfdbfa[_0x181eff(0x1d0)]!==_0x1b736d)continue;if(_0xfdbfa[_0x181eff(0x1cf)]===_0x181eff(0x223))continue;if(_0x138983&&String(_0xfdbfa['id'])===String(_0x138983))continue;const [_0x4efe16,_0x82f0af]=_0xfdbfa[_0x181eff(0x26e)][_0x181eff(0x1c1)](':')[_0x181eff(0x22d)](Number),[_0xac4338,_0x5066c0]=_0xfdbfa['end'][_0x181eff(0x1c1)](':')['map'](Number),_0x274272=_0x4efe16*0x3c+_0x82f0af,_0x5b25be=_0xac4338*0x3c+_0x5066c0;if(Math[_0x181eff(0x193)](_0x59ce61,_0x274272)<Math[_0x181eff(0x157)](_0x4acbdd,_0x5b25be)){if(_0xfdbfa['clientId']&&String(_0xfdbfa[_0x181eff(0x233)])===_0x122911)return{'valid':![],'msg':_0x181eff(0x16c)+_0xfdbfa[_0x181eff(0x2ab)]+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x5502f3=!![],_0x38e41b=_0xfdbfa[_0x181eff(0x2ab)];}}if(_0x5502f3)return{'valid':!![],'warning':_0x181eff(0x282)+_0x38e41b};return{'valid':!![]};}function updateDateDisplay(){const _0x14e8b8=a2_0x4107fc,_0x3541ae=document[_0x14e8b8(0x1ea)](_0x14e8b8(0x197))[_0x14e8b8(0x248)],_0xffc739=document[_0x14e8b8(0x1ea)](_0x14e8b8(0x16d));if(!_0x3541ae){_0xffc739['textContent']='';return;}const [_0x3a9093,_0x34c38a,_0x18d9b8]=_0x3541ae[_0x14e8b8(0x1c1)]('-')[_0x14e8b8(0x22d)](Number),_0x28cdef=new Date(_0x3a9093,_0x34c38a-0x1,_0x18d9b8),_0x50c383={'weekday':_0x14e8b8(0x174),'day':_0x14e8b8(0x27e),'month':_0x14e8b8(0x174),'year':_0x14e8b8(0x27e)};let _0xe17ce8=_0x28cdef[_0x14e8b8(0x16b)](_0x14e8b8(0x1fd),_0x50c383);_0xe17ce8=_0xe17ce8[_0x14e8b8(0x18c)](0x0)[_0x14e8b8(0x15c)]()+_0xe17ce8[_0x14e8b8(0x17c)](0x1),_0xffc739[_0x14e8b8(0x213)]=_0xe17ce8;}function autoSetEndTime(){const _0x2db47e=a2_0x4107fc,_0x34fcb7=document[_0x2db47e(0x1ea)](_0x2db47e(0x277))[_0x2db47e(0x248)];if(!_0x34fcb7)return;const [_0x2dbcff,_0x3728c4]=_0x34fcb7['split'](':')['map'](Number);let _0x460f64=_0x2dbcff+0x1;if(_0x460f64>0x17)_0x460f64=0x0;const _0xa55474=String(_0x460f64)[_0x2db47e(0x182)](0x2,'0')+':'+String(_0x3728c4)[_0x2db47e(0x182)](0x2,'0');document[_0x2db47e(0x1ea)]('inpEnd')['value']=_0xa55474;}function populateClientSelect(){const _0x303817=a2_0x4107fc,_0x276e58=document[_0x303817(0x1ea)](_0x303817(0x265));_0x276e58[_0x303817(0x176)]='';if(clients[_0x303817(0x1ac)]===0x0){const _0x24dec2=document[_0x303817(0x229)]('option');_0x24dec2[_0x303817(0x1c2)]=_0x303817(0x19f),_0x276e58['appendChild'](_0x24dec2);return;}clients[_0x303817(0x25e)](_0x34a135=>{const _0x1c56d1=_0x303817,_0x1855d6=document[_0x1c56d1(0x229)](_0x1c56d1(0x1c8));_0x1855d6['value']=_0x34a135[_0x1c56d1(0x290)],_0x1855d6['textContent']=_0x34a135[_0x1c56d1(0x290)],_0x276e58['appendChild'](_0x1855d6);});}function openActionSheet(_0x3b939e){const _0x129e8b=a2_0x4107fc,_0x4b6e0a=document['getElementById'](_0x129e8b(0x291)),_0x1c4717=document[_0x129e8b(0x1ea)](_0x129e8b(0x156)),_0x41151b=document[_0x129e8b(0x1ea)]('asTitle'),_0x4910be=document[_0x129e8b(0x1ea)](_0x129e8b(0x152)),_0x414d56=document[_0x129e8b(0x1ea)](_0x129e8b(0x21c));_0x1c4717[_0x129e8b(0x2a0)]['add'](_0x129e8b(0x16a)),_0x4b6e0a[_0x129e8b(0x2a0)][_0x129e8b(0x208)](_0x129e8b(0x210));if(_0x3b939e===_0x129e8b(0x278))_0x41151b['textContent']=_0x129e8b(0x24c),_0x4910be[_0x129e8b(0x213)]=_0x129e8b(0x1a3),_0x4910be[_0x129e8b(0x264)]=()=>{const _0x8b9912=_0x129e8b;closeActionSheet(),updateSeriesBatch(_0x8b9912(0x1ae),tempSessionData);},_0x414d56['textContent']=_0x129e8b(0x22a),_0x414d56[_0x129e8b(0x264)]=()=>{const _0x2ec7d1=_0x129e8b;closeActionSheet(),updateSeriesBatch(_0x2ec7d1(0x1b5),tempSessionData);};else _0x3b939e===_0x129e8b(0x224)&&(_0x41151b[_0x129e8b(0x213)]=_0x129e8b(0x138),_0x4910be[_0x129e8b(0x213)]=_0x129e8b(0x1a3),_0x4910be['className']='as-button\x20danger',_0x4910be[_0x129e8b(0x264)]=()=>{const _0x2968f0=_0x129e8b;closeActionSheet(),commitDelete('single',sessions[_0x2968f0(0x238)](_0x5c9cb6=>_0x5c9cb6['id']===editingId));},_0x414d56['textContent']=_0x129e8b(0x22a),_0x414d56[_0x129e8b(0x225)]=_0x129e8b(0x14d),_0x414d56[_0x129e8b(0x264)]=()=>{const _0x503896=_0x129e8b;closeActionSheet(),commitDelete(_0x503896(0x1b5),sessions[_0x503896(0x238)](_0x2b07e8=>_0x2b07e8['id']===editingId));});}function closeActionSheet(){const _0xaa6c34=a2_0x4107fc;document[_0xaa6c34(0x1ea)](_0xaa6c34(0x291))[_0xaa6c34(0x2a0)][_0xaa6c34(0x273)]('open'),document[_0xaa6c34(0x1ea)](_0xaa6c34(0x156))[_0xaa6c34(0x2a0)][_0xaa6c34(0x273)]('active');}function openSettings(){const _0x1523c2=a2_0x4107fc;openSheet(_0x1523c2(0x1f3));}function saveCoachSettings(){const _0x30807d=a2_0x4107fc,_0x6e1c8d=document[_0x30807d(0x1ea)](_0x30807d(0x270))['value'];localStorage[_0x30807d(0x1fb)](_0x30807d(0x22e),_0x6e1c8d),console[_0x30807d(0x28e)](_0x30807d(0x173),_0x6e1c8d),DataManager[_0x30807d(0x2b3)](_0x30807d(0x1d6),{'settings':{'cancel_window':_0x6e1c8d}})[_0x30807d(0x257)](_0x4c6be9=>{const _0x307f87=_0x30807d;console['error'](_0x307f87(0x1bd),_0x4c6be9),showToast(_0x307f87(0x1a6),![]);});}function loadCoachSettings(){const _0x32b3d6=a2_0x4107fc,_0x80a674=localStorage[_0x32b3d6(0x1cc)](_0x32b3d6(0x22e));_0x80a674&&(document[_0x32b3d6(0x1ea)](_0x32b3d6(0x270))[_0x32b3d6(0x248)]=_0x80a674);}function openRangesSheet(){const _0x381da0=a2_0x4107fc;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x381da0(0x22f));}function addRange(){const _0x4b7ee5=a2_0x4107fc,_0x3ed2f6=document[_0x4b7ee5(0x1ea)]('rangeStartDate')['value'],_0x207e82=document[_0x4b7ee5(0x1ea)](_0x4b7ee5(0x17a))['value'],_0x2309c0=document[_0x4b7ee5(0x1ea)]('rangeEndDate')[_0x4b7ee5(0x248)],_0x35f8e9=document[_0x4b7ee5(0x1ea)](_0x4b7ee5(0x1fa))[_0x4b7ee5(0x248)];if(!_0x3ed2f6||!_0x207e82||!_0x2309c0||!_0x35f8e9)return alert(_0x4b7ee5(0x167));const _0x57d6fd=_0x3ed2f6+'T'+_0x207e82,_0x509456=_0x2309c0+'T'+_0x35f8e9;if(_0x57d6fd>=_0x509456)return alert(_0x4b7ee5(0x20d));specialRanges['push']({'start':_0x57d6fd,'end':_0x509456}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x4b7ee5(0x2b3)](_0x4b7ee5(0x1d6),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x574376){const _0x1311e1=a2_0x4107fc;specialRanges['splice'](_0x574376,0x1),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x1311e1(0x2b3)](_0x1311e1(0x1d6),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x577e89=a2_0x4107fc;document[_0x577e89(0x1ea)](_0x577e89(0x1f8))[_0x577e89(0x248)]='',document[_0x577e89(0x1ea)]('rangeStartTime')[_0x577e89(0x248)]='00:00',document[_0x577e89(0x1ea)](_0x577e89(0x1c3))[_0x577e89(0x248)]='',document[_0x577e89(0x1ea)]('rangeEndTime')[_0x577e89(0x248)]=_0x577e89(0x237);}function renderRangesList(){const _0x15593b=a2_0x4107fc,_0x1c295b=document[_0x15593b(0x1ea)](_0x15593b(0x1c4));_0x1c295b[_0x15593b(0x176)]='';if(!specialRanges[_0x15593b(0x1ac)]){_0x1c295b[_0x15593b(0x176)]=_0x15593b(0x183);return;}specialRanges[_0x15593b(0x25e)]((_0x560bdf,_0x3c13ec)=>{const _0x37b2ee=_0x15593b,_0x39206a=document['createElement']('div');_0x39206a[_0x37b2ee(0x225)]=_0x37b2ee(0x250);const _0x2d3df5=_0x5b1069=>{const _0x33c21c=_0x37b2ee,_0x398974=new Date(_0x5b1069);return _0x398974[_0x33c21c(0x158)]()+'.'+String(_0x398974[_0x33c21c(0x150)]()+0x1)[_0x33c21c(0x182)](0x2,'0')+'\x20'+String(_0x398974[_0x33c21c(0x14e)]())[_0x33c21c(0x182)](0x2,'0')+':'+String(_0x398974['getMinutes']())[_0x33c21c(0x182)](0x2,'0');};_0x39206a[_0x37b2ee(0x176)]=_0x37b2ee(0x21b)+_0x2d3df5(_0x560bdf[_0x37b2ee(0x26e)])+_0x37b2ee(0x23f)+_0x2d3df5(_0x560bdf[_0x37b2ee(0x1b7)])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange('+_0x3c13ec+_0x37b2ee(0x1a0),_0x1c295b[_0x37b2ee(0x18f)](_0x39206a);});}function scrollToToday(){const _0x2b6b69=a2_0x4107fc,_0x32a54d=getLocalDateStr(new Date()),_0x30af7e=document[_0x2b6b69(0x1ea)](_0x2b6b69(0x141)+_0x32a54d),_0x40dec7=document[_0x2b6b69(0x1ea)](_0x2b6b69(0x13c));if(_0x30af7e&&_0x40dec7){const _0x22c982=_0x40dec7['clientWidth'],_0x726e5a=_0x30af7e['offsetLeft'],_0x1b60f7=_0x30af7e['offsetWidth'];_0x40dec7[_0x2b6b69(0x287)]=_0x726e5a-_0x22c982/0x2+_0x1b60f7/0x2,_0x40dec7['scrollTop']=0x9*GRID_H;}}function onScroll(){const _0x58ff33=a2_0x4107fc,_0x57a741=document['getElementById']('matrixViewport'),_0x31a537=document[_0x58ff33(0x239)]('.day-col-header');for(let _0x436588 of _0x31a537)if(_0x436588['offsetLeft']>=_0x57a741['scrollLeft']){const _0x2081b7=new Date(_0x436588[_0x58ff33(0x252)](_0x58ff33(0x1a1)));document[_0x58ff33(0x1ea)](_0x58ff33(0x146))[_0x58ff33(0x213)]=_0x2081b7[_0x58ff33(0x13f)]('ru',{'month':_0x58ff33(0x174)})[_0x58ff33(0x15c)]()+'\x20'+_0x2081b7[_0x58ff33(0x205)]();break;}}function showToast(_0x40e67e,_0x4dfcd7=![]){const _0x15eca9=a2_0x4107fc,_0x4fbd88=document[_0x15eca9(0x1ea)](_0x15eca9(0x1a4));_0x4fbd88['className']=_0x15eca9(0x14b)+(_0x4dfcd7?_0x15eca9(0x1b1):''),document[_0x15eca9(0x1ea)](_0x15eca9(0x1da))[_0x15eca9(0x213)]=_0x4dfcd7?_0x15eca9(0x27f):_0x15eca9(0x1df),document[_0x15eca9(0x1ea)](_0x15eca9(0x251))['textContent']=_0x40e67e,_0x4fbd88[_0x15eca9(0x2a0)][_0x15eca9(0x208)]('show'),setTimeout(()=>{const _0x49cfda=_0x15eca9;_0x4fbd88[_0x49cfda(0x2a0)][_0x49cfda(0x273)](_0x49cfda(0x275));},0xbb8);}function openDayOptions(_0xd0ecb6,_0x28931e){const _0x2c4dbf=a2_0x4107fc;selectedDayForOptions=_0xd0ecb6,document[_0x2c4dbf(0x1ea)](_0x2c4dbf(0x206))[_0x2c4dbf(0x213)]=_0x28931e,openSheet(_0x2c4dbf(0x168));}function toggleDayOff(){const _0x17b1ee=a2_0x4107fc;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x17b1ee(0x1db),reRenderBlocks(),closeAllSheets(),DataManager[_0x17b1ee(0x16f)](),DataManager[_0x17b1ee(0x2b3)](_0x17b1ee(0x1d6),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x21ed6d=a2_0x4107fc;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x21ed6d(0x16f)](),DataManager[_0x21ed6d(0x2b3)](_0x21ed6d(0x1d6),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x59c230){const _0x4f3440=a2_0x4107fc;document[_0x4f3440(0x1ea)](_0x4f3440(0x2a4))[_0x4f3440(0x2a0)][_0x4f3440(0x208)](_0x4f3440(0x16a)),document[_0x4f3440(0x1ea)](_0x59c230)[_0x4f3440(0x2a0)]['add'](_0x4f3440(0x210));}function closeAllSheets(){const _0x4c38e5=a2_0x4107fc;document[_0x4c38e5(0x1ea)](_0x4c38e5(0x2a4))['classList'][_0x4c38e5(0x273)](_0x4c38e5(0x16a)),document[_0x4c38e5(0x239)]('.sheet')[_0x4c38e5(0x25e)](_0x3672a7=>_0x3672a7['classList'][_0x4c38e5(0x273)](_0x4c38e5(0x210)));}function openPatternEditor(){const _0x367347=a2_0x4107fc;closeAllSheets(),document[_0x367347(0x1ea)](_0x367347(0x207))[_0x367347(0x2a0)][_0x367347(0x208)](_0x367347(0x210)),renderPatternEditor();}function closePatternEditor(){const _0x11ae3a=a2_0x4107fc;document[_0x11ae3a(0x1ea)]('patternEditor')[_0x11ae3a(0x2a0)]['remove'](_0x11ae3a(0x210));}function savePattern(){const _0x11dd04=a2_0x4107fc;document[_0x11dd04(0x1ea)](_0x11dd04(0x207))['classList'][_0x11dd04(0x273)]('open'),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x11dd04(0x2b3)](_0x11dd04(0x1d6),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x8593d2=a2_0x4107fc,_0x46eddd=document[_0x8593d2(0x1ea)](_0x8593d2(0x21e));_0x46eddd[_0x8593d2(0x176)]='';const _0x276c04=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x57706a=document[_0x8593d2(0x229)](_0x8593d2(0x28b));_0x57706a[_0x8593d2(0x225)]='pe-corner',_0x46eddd[_0x8593d2(0x18f)](_0x57706a),_0x276c04['forEach']((_0x303c34,_0x51630c)=>{const _0x375e9b=_0x8593d2,_0x5e2c95=document[_0x375e9b(0x229)](_0x375e9b(0x28b));_0x5e2c95[_0x375e9b(0x225)]=_0x375e9b(0x15f),_0x5e2c95[_0x375e9b(0x176)]=_0x303c34+_0x375e9b(0x1e6),_0x5e2c95[_0x375e9b(0x264)]=()=>toggleColPattern(_0x51630c),_0x46eddd[_0x375e9b(0x18f)](_0x5e2c95);});for(let _0x1f6044=0x0;_0x1f6044<0x18;_0x1f6044++){const _0x27f0e1=document[_0x8593d2(0x229)](_0x8593d2(0x28b));_0x27f0e1['className']=_0x8593d2(0x1af),_0x27f0e1[_0x8593d2(0x176)]=_0x8593d2(0x1e5)+String(_0x1f6044)['padStart'](0x2,'0')+_0x8593d2(0x246),_0x27f0e1['onclick']=()=>toggleRowPattern(_0x1f6044),_0x46eddd[_0x8593d2(0x18f)](_0x27f0e1);for(let _0x5d1c9e=0x0;_0x5d1c9e<0x7;_0x5d1c9e++){const _0x4be66a=document[_0x8593d2(0x229)](_0x8593d2(0x28b)),_0x22e6a4=(availabilityPattern[_0x5d1c9e]||[])[_0x8593d2(0x28d)](_0x1f6044),_0x199861=!_0x22e6a4;_0x4be66a[_0x8593d2(0x225)]='pe-cell\x20'+(_0x199861?_0x8593d2(0x16a):''),_0x4be66a[_0x8593d2(0x264)]=()=>toggleSinglePattern(_0x5d1c9e,_0x1f6044),_0x46eddd[_0x8593d2(0x18f)](_0x4be66a);}}}function toggleSinglePattern(_0x419b7c,_0xf30f26){const _0xb37935=a2_0x4107fc;if(!availabilityPattern[_0x419b7c])availabilityPattern[_0x419b7c]=[];const _0xd7a7e3=availabilityPattern[_0x419b7c],_0xbef22b=_0xd7a7e3[_0xb37935(0x232)](_0xf30f26);_0xbef22b===-0x1?_0xd7a7e3[_0xb37935(0x20a)](_0xf30f26):_0xd7a7e3[_0xb37935(0x242)](_0xbef22b,0x1),renderPatternEditor();}function toggleColPattern(_0xd63da7){const _0x1d732=a2_0x4107fc;if(!availabilityPattern[_0xd63da7])availabilityPattern[_0xd63da7]=[];const _0x3aaa07=availabilityPattern[_0xd63da7];_0x3aaa07[_0x1d732(0x1ac)]===0x0?availabilityPattern[_0xd63da7]=Array[_0x1d732(0x261)]({'length':0x18},(_0x11ac5d,_0x45c197)=>_0x45c197):availabilityPattern[_0xd63da7]=[],renderPatternEditor();}function toggleRowPattern(_0x34e52d){const _0x73ae48=a2_0x4107fc;let _0x384b59=!![];for(let _0x18c155=0x0;_0x18c155<0x7;_0x18c155++){if((availabilityPattern[_0x18c155]||[])[_0x73ae48(0x28d)](_0x34e52d)){_0x384b59=![];break;}}for(let _0x4e926e=0x0;_0x4e926e<0x7;_0x4e926e++){if(!availabilityPattern[_0x4e926e])availabilityPattern[_0x4e926e]=[];const _0x1b5660=availabilityPattern[_0x4e926e]['indexOf'](_0x34e52d);if(_0x384b59){if(_0x1b5660===-0x1)availabilityPattern[_0x4e926e][_0x73ae48(0x20a)](_0x34e52d);}else{if(_0x1b5660!==-0x1)availabilityPattern[_0x4e926e][_0x73ae48(0x242)](_0x1b5660,0x1);}}renderPatternEditor();}function renderPCol(_0x1b971d,_0x55ff8f){const _0x49149c=a2_0x4107fc;_0x1b971d[_0x49149c(0x176)]='';const _0xf2e5b9=Math['round'](_0x1b971d[_0x49149c(0x159)]);(availabilityPattern[_0x55ff8f]||[])[_0x49149c(0x25e)](_0x4b116f=>{const _0x27c2ac=_0x49149c,_0x4e05e8=document[_0x27c2ac(0x229)](_0x27c2ac(0x28b));_0x4e05e8['className']=_0x27c2ac(0x204);const _0x34314a=_0x4b116f*GRID_H;_0x4e05e8[_0x27c2ac(0x228)][_0x27c2ac(0x1f6)]=_0x34314a+'px',_0x4e05e8['style']['backgroundPosition']='-'+_0xf2e5b9+_0x27c2ac(0x13b)+_0x34314a+'px',_0x4e05e8[_0x27c2ac(0x264)]=_0x3341e6=>{_0x3341e6['stopPropagation'](),toggleSinglePattern(_0x55ff8f,_0x4b116f);},_0x1b971d[_0x27c2ac(0x18f)](_0x4e05e8);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x4e3f59=a2_0x4107fc,_0xae5aba=new Date(),_0x4ad60d=document[_0x4e3f59(0x1ea)](_0x4e3f59(0x1e4)),_0x58b327=document[_0x4e3f59(0x1ea)](_0x4e3f59(0x292)),_0x546741=(_0xae5aba['getHours']()*0x3c+_0xae5aba[_0x4e3f59(0x236)]())/0x3c*GRID_H;_0x4ad60d[_0x4e3f59(0x228)][_0x4e3f59(0x1f6)]=_0x546741+'px',_0x4ad60d[_0x4e3f59(0x228)][_0x4e3f59(0x163)]=_0x4e3f59(0x24a),_0x58b327['textContent']=String(_0xae5aba['getHours']())[_0x4e3f59(0x182)](0x2,'0')+':'+String(_0xae5aba['getMinutes']())[_0x4e3f59(0x182)](0x2,'0'),_0x58b327[_0x4e3f59(0x228)]['display']='block',_0x58b327[_0x4e3f59(0x228)][_0x4e3f59(0x1f6)]=_0x546741+'px';}document[a2_0x4107fc(0x1d2)](a2_0x4107fc(0x1ef),init);function openDayOptions(_0x280199){const _0x4c9253=a2_0x4107fc;selectedDayForOptions=_0x280199;const _0x2c3742=new Date(_0x280199),_0x1fccef={'weekday':'long','day':_0x4c9253(0x27e),'month':_0x4c9253(0x174),'year':_0x4c9253(0x27e)},_0x361aca=_0x2c3742['toLocaleDateString'](_0x4c9253(0x1fd),_0x1fccef);document[_0x4c9253(0x1ea)]('doDateHeader')['textContent']=_0x361aca['charAt'](0x0)[_0x4c9253(0x15c)]()+_0x361aca[_0x4c9253(0x17c)](0x1);let _0x536e9e=_0x2c3742[_0x4c9253(0x260)]()-0x1;if(_0x536e9e===-0x1)_0x536e9e=0x6;const _0x231dc4=availabilityPattern[_0x536e9e]||[],_0x2f143a=0x18-_0x231dc4['length'],_0x5a4bb1=_0x2f143a*0x3c,_0x1c615f=sessions[_0x4c9253(0x294)](_0x29628c=>_0x29628c[_0x4c9253(0x1d0)]===_0x280199&&_0x29628c[_0x4c9253(0x1cf)]!==_0x4c9253(0x223));let _0x360968=_0x1c615f[_0x4c9253(0x22d)](_0x4a3472=>{const _0x1ba8f0=_0x4c9253,[_0x4818be,_0x56f6d1]=_0x4a3472['start'][_0x1ba8f0(0x1c1)](':')[_0x1ba8f0(0x22d)](Number),[_0x214a67,_0x4c6f9b]=_0x4a3472[_0x1ba8f0(0x1b7)][_0x1ba8f0(0x1c1)](':')[_0x1ba8f0(0x22d)](Number);return[_0x4818be*0x3c+_0x56f6d1,_0x214a67*0x3c+_0x4c6f9b];});_0x360968[_0x4c9253(0x293)]((_0x47c82e,_0x3e93cd)=>_0x47c82e[0x0]-_0x3e93cd[0x0]);let _0x4a4fab=[];if(_0x360968[_0x4c9253(0x1ac)]>0x0){let _0x437548=_0x360968[0x0];for(let _0x43b54a=0x1;_0x43b54a<_0x360968['length'];_0x43b54a++){_0x360968[_0x43b54a][0x0]<_0x437548[0x1]?_0x437548[0x1]=Math[_0x4c9253(0x193)](_0x437548[0x1],_0x360968[_0x43b54a][0x1]):(_0x4a4fab['push'](_0x437548),_0x437548=_0x360968[_0x43b54a]);}_0x4a4fab[_0x4c9253(0x20a)](_0x437548);}let _0x47d483=0x0;_0x4a4fab['forEach'](_0x8e4ba7=>_0x47d483+=_0x8e4ba7[0x1]-_0x8e4ba7[0x0]),document[_0x4c9253(0x1ea)](_0x4c9253(0x1d1))[_0x4c9253(0x213)]=formatMinsToHrs(_0x5a4bb1),document[_0x4c9253(0x1ea)](_0x4c9253(0x240))[_0x4c9253(0x213)]=formatMinsToHrs(_0x47d483);const _0x3544bd=_0x5a4bb1>0x0?Math[_0x4c9253(0x263)](_0x47d483/_0x5a4bb1*0x64):0x0,_0x166913=document['getElementById'](_0x4c9253(0x254));_0x166913['textContent']=_0x3544bd+'%';const _0x23c7dd=document[_0x4c9253(0x1ea)](_0x4c9253(0x26c));if(_0x3544bd>0x64)_0x166913['style'][_0x4c9253(0x1dd)]=_0x4c9253(0x27d),_0x23c7dd[_0x4c9253(0x228)][_0x4c9253(0x231)]='rgba(255,\x2069,\x2058,\x200.3)';else _0x3544bd>0x50?(_0x166913[_0x4c9253(0x228)]['color']='var(--acc-orange)',_0x23c7dd[_0x4c9253(0x228)][_0x4c9253(0x231)]=_0x4c9253(0x13d)):(_0x166913[_0x4c9253(0x228)][_0x4c9253(0x1dd)]=_0x4c9253(0x198),_0x23c7dd[_0x4c9253(0x228)][_0x4c9253(0x231)]=_0x4c9253(0x25c));const _0x2d56b9=document[_0x4c9253(0x1ea)](_0x4c9253(0x148));_0x2d56b9[_0x4c9253(0x176)]='';_0x1c615f['length']===0x0?_0x2d56b9[_0x4c9253(0x176)]='<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>':(_0x1c615f[_0x4c9253(0x293)]((_0x251f1c,_0x6db046)=>_0x251f1c[_0x4c9253(0x26e)][_0x4c9253(0x13e)](_0x6db046[_0x4c9253(0x26e)])),_0x1c615f[_0x4c9253(0x25e)](_0x2a4dfc=>{const _0x45237f=_0x4c9253,_0x2a0bd9=clients[_0x45237f(0x238)](_0x32894c=>_0x32894c['name']===_0x2a4dfc[_0x45237f(0x2ab)]),_0x2e71d7=_0x2a0bd9?_0x2a0bd9[_0x45237f(0x1dd)]:_0x45237f(0x23d),_0x303084=_0x2a4dfc[_0x45237f(0x1cf)]==='completed',_0xb7137f=_0x303084?'<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>':'',_0xcd369d=document['createElement'](_0x45237f(0x28b));_0xcd369d[_0x45237f(0x225)]=_0x45237f(0x187),_0xcd369d[_0x45237f(0x228)][_0x45237f(0x162)]=_0x2e71d7,_0xcd369d[_0x45237f(0x176)]=_0x45237f(0x17d)+_0x2a4dfc[_0x45237f(0x26e)]+'\x20-\x20'+_0x2a4dfc[_0x45237f(0x1b7)]+_0x45237f(0x1b9)+_0x2a4dfc[_0x45237f(0x2ab)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xb7137f+_0x45237f(0x1b2),_0x2d56b9[_0x45237f(0x18f)](_0xcd369d);}));const _0x1675a8=document[_0x4c9253(0x1ea)]('btnDayToggle'),_0x14466d=dateExceptions[_0x280199]==='off';_0x14466d?(_0x1675a8[_0x4c9253(0x213)]=_0x4c9253(0x266),_0x1675a8[_0x4c9253(0x225)]='btn-primary\x20btn-secondary',_0x1675a8['style'][_0x4c9253(0x1dd)]=_0x4c9253(0x198),_0x1675a8[_0x4c9253(0x228)][_0x4c9253(0x211)]=_0x4c9253(0x1ce)):(_0x1675a8[_0x4c9253(0x213)]=_0x4c9253(0x1b4),_0x1675a8[_0x4c9253(0x225)]='btn-primary\x20btn-danger',_0x1675a8[_0x4c9253(0x228)][_0x4c9253(0x1dd)]=_0x4c9253(0x27d),_0x1675a8[_0x4c9253(0x228)]['background']='rgba(255,\x2069,\x2058,\x200.15)'),openSheet(_0x4c9253(0x168));}let currentAnPeriod=a2_0x4107fc(0x155);function openAnalytics(){const _0x5613d6=a2_0x4107fc,_0x574139=document[_0x5613d6(0x26f)](_0x5613d6(0x1e1));setAnalyticsPeriod('week',_0x574139),closeAllSheets(),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0xffcab8,_0x33a3a6){const _0x44b2ad=a2_0x4107fc;currentAnPeriod=_0xffcab8,document[_0x44b2ad(0x239)]('.period-switch\x20.p-btn')[_0x44b2ad(0x25e)](_0xe6bd4a=>_0xe6bd4a[_0x44b2ad(0x2a0)][_0x44b2ad(0x273)](_0x44b2ad(0x16a)));if(_0x33a3a6)_0x33a3a6['classList'][_0x44b2ad(0x208)](_0x44b2ad(0x16a));const _0x383cf1=document[_0x44b2ad(0x1ea)](_0x44b2ad(0x1ca));_0x383cf1[_0x44b2ad(0x228)][_0x44b2ad(0x163)]=_0xffcab8==='custom'?_0x44b2ad(0x1bf):_0x44b2ad(0x235);const _0x3690cd=new Date();let _0x981656=new Date(),_0x5d2fc5=new Date();if(_0xffcab8==='week')_0x981656=getStartOfWeek(_0x3690cd),_0x5d2fc5=new Date(_0x981656),_0x5d2fc5['setDate'](_0x5d2fc5['getDate']()+0x6);else{if(_0xffcab8===_0x44b2ad(0x267))_0x981656=new Date(_0x3690cd[_0x44b2ad(0x205)](),_0x3690cd[_0x44b2ad(0x150)](),0x1),_0x5d2fc5=new Date(_0x3690cd['getFullYear'](),_0x3690cd[_0x44b2ad(0x150)]()+0x1,0x0);else{!document[_0x44b2ad(0x1ea)](_0x44b2ad(0x1d9))[_0x44b2ad(0x248)]&&(document[_0x44b2ad(0x1ea)]('anStart')[_0x44b2ad(0x248)]=getLocalDateStr(_0x3690cd),document[_0x44b2ad(0x1ea)](_0x44b2ad(0x1e8))[_0x44b2ad(0x248)]=getLocalDateStr(_0x3690cd));refreshAnalytics();return;}}document['getElementById']('anStart')['value']=getLocalDateStr(_0x981656),document[_0x44b2ad(0x1ea)](_0x44b2ad(0x1e8))[_0x44b2ad(0x248)]=getLocalDateStr(_0x5d2fc5),refreshAnalytics();}function refreshAnalytics(){const _0x5d9200=a2_0x4107fc,_0x4f89c5=document[_0x5d9200(0x1ea)]('anStart')[_0x5d9200(0x248)],_0x2619da=document['getElementById'](_0x5d9200(0x1e8))[_0x5d9200(0x248)];if(!_0x4f89c5||!_0x2619da)return;const _0x2ca08e=sessions[_0x5d9200(0x294)](_0x3a9a68=>_0x3a9a68[_0x5d9200(0x1d0)]>=_0x4f89c5&&_0x3a9a68['dateStr']<=_0x2619da&&_0x3a9a68[_0x5d9200(0x1cf)]!=='cancelled'),_0x41ae8a=_0x2ca08e[_0x5d9200(0x1ac)],_0x57f658=_0x2ca08e[_0x5d9200(0x294)](_0xaaaf0=>_0xaaaf0[_0x5d9200(0x1cf)]===_0x5d9200(0x299))['length'],_0x1b8fbd=_0x41ae8a>0x0?Math[_0x5d9200(0x263)](_0x57f658/_0x41ae8a*0x64):0x0;document[_0x5d9200(0x1ea)](_0x5d9200(0x217))[_0x5d9200(0x213)]=_0x1b8fbd+'%',document[_0x5d9200(0x1ea)](_0x5d9200(0x191))['textContent']=_0x57f658+'\x20–∏–∑\x20'+_0x41ae8a+_0x5d9200(0x286);const _0x506fed=document[_0x5d9200(0x1ea)](_0x5d9200(0x144)),_0x34d7fb=0x2*Math['PI']*0x23,_0x439c6b=_0x34d7fb-_0x1b8fbd/0x64*_0x34d7fb;_0x506fed[_0x5d9200(0x228)][_0x5d9200(0x245)]=_0x439c6b;const _0x363bca={};_0x2ca08e[_0x5d9200(0x25e)](_0x5102dc=>{const _0x26c0ef=_0x5d9200;if(!_0x363bca[_0x5102dc[_0x26c0ef(0x2ab)]]){const _0x4cba6f=clients[_0x26c0ef(0x238)](_0x3d3955=>_0x3d3955[_0x26c0ef(0x290)]===_0x5102dc[_0x26c0ef(0x2ab)]);_0x363bca[_0x5102dc[_0x26c0ef(0x2ab)]]={'total':0x0,'done':0x0,'color':_0x4cba6f?_0x4cba6f[_0x26c0ef(0x1dd)]:_0x26c0ef(0x23d)};}_0x363bca[_0x5102dc['client']]['total']++;if(_0x5102dc[_0x26c0ef(0x1cf)]==='completed')_0x363bca[_0x5102dc[_0x26c0ef(0x2ab)]][_0x26c0ef(0x272)]++;});const _0x166f0a=document[_0x5d9200(0x1ea)](_0x5d9200(0x14a));_0x166f0a[_0x5d9200(0x176)]='';const _0x12758d=Object[_0x5d9200(0x17e)](_0x363bca)['sort']((_0x4d6709,_0x2b8896)=>_0x2b8896[0x1][_0x5d9200(0x1b8)]-_0x4d6709[0x1][_0x5d9200(0x1b8)]);if(_0x12758d[_0x5d9200(0x1ac)]===0x0){_0x166f0a[_0x5d9200(0x176)]=_0x5d9200(0x18b);return;}_0x12758d['forEach'](([_0xbb121d,_0x2f7200])=>{const _0x3502c0=_0x5d9200,_0x35d60b=Math[_0x3502c0(0x263)](_0x2f7200['done']/_0x2f7200[_0x3502c0(0x1b8)]*0x64),_0x50a986=document['createElement'](_0x3502c0(0x28b));_0x50a986[_0x3502c0(0x225)]=_0x3502c0(0x19d),_0x50a986[_0x3502c0(0x228)][_0x3502c0(0x162)]=_0x2f7200[_0x3502c0(0x1dd)],_0x50a986['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>'+_0xbb121d+_0x3502c0(0x2b1)+_0x2f7200[_0x3502c0(0x272)]+_0x3502c0(0x1e7)+_0x2f7200[_0x3502c0(0x1b8)]+_0x3502c0(0x2a1)+_0x35d60b+_0x3502c0(0x1ee),_0x166f0a[_0x3502c0(0x18f)](_0x50a986);});}function formatMinsToHrs(_0x1e20af){const _0x4ba927=a2_0x4107fc;if(_0x1e20af===0x0)return'0';const _0x115f90=Math[_0x4ba927(0x2b4)](_0x1e20af/0x3c),_0x9cccf7=_0x1e20af%0x3c;if(_0x9cccf7===0x0)return _0x115f90+'—á';return _0x115f90+'—á\x20'+_0x9cccf7+'–º';}