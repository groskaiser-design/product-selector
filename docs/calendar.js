const a2_0x362d5e=a2_0x58e1;(function(_0x3c3a4e,_0x4edc9e){const _0x34c325=a2_0x58e1,_0x4ebcaf=_0x3c3a4e();while(!![]){try{const _0xdc3d1a=parseInt(_0x34c325(0x247))/0x1*(parseInt(_0x34c325(0x279))/0x2)+-parseInt(_0x34c325(0x187))/0x3*(-parseInt(_0x34c325(0x233))/0x4)+-parseInt(_0x34c325(0x205))/0x5*(parseInt(_0x34c325(0x21f))/0x6)+parseInt(_0x34c325(0x15d))/0x7*(-parseInt(_0x34c325(0x1fe))/0x8)+parseInt(_0x34c325(0x240))/0x9+-parseInt(_0x34c325(0x17a))/0xa+-parseInt(_0x34c325(0x1c8))/0xb;if(_0xdc3d1a===_0x4edc9e)break;else _0x4ebcaf['push'](_0x4ebcaf['shift']());}catch(_0x2599e5){_0x4ebcaf['push'](_0x4ebcaf['shift']());}}}(a2_0xe1a9,0x2ea3e),function initTMA(){const _0x438da0=a2_0x58e1,_0x11aeee=(function(){let _0x1e1d8b=!![];return function(_0x56c7d6,_0x213718){const _0xb84b3e=_0x1e1d8b?function(){const _0x269d55=a2_0x58e1;if(_0x213718){const _0xe23142=_0x213718[_0x269d55(0x288)](_0x56c7d6,arguments);return _0x213718=null,_0xe23142;}}:function(){};return _0x1e1d8b=![],_0xb84b3e;};}()),_0x32ebb2=_0x11aeee(this,function(){const _0x422600=a2_0x58e1;return _0x32ebb2['toString']()[_0x422600(0x203)](_0x422600(0x2a1))['toString']()[_0x422600(0x1c4)](_0x32ebb2)[_0x422600(0x203)](_0x422600(0x2a1));});_0x32ebb2();try{const _0x14655b=window['Telegram']?.[_0x438da0(0x212)];if(!_0x14655b)return;_0x14655b[_0x438da0(0x214)](),_0x14655b[_0x438da0(0x274)]();try{_0x14655b[_0x438da0(0x2ab)](_0x438da0(0x21b)),_0x14655b[_0x438da0(0x1ac)]&&_0x14655b[_0x438da0(0x1ac)]('#050505');}catch(_0x59ae4e){console[_0x438da0(0x207)](_0x438da0(0x18a),_0x59ae4e);}try{_0x14655b[_0x438da0(0x24d)]&&(_0x14655b[_0x438da0(0x24d)][_0x438da0(0x284)](),_0x14655b[_0x438da0(0x24d)]['offClick'](),_0x14655b[_0x438da0(0x24d)]['onClick'](function(){const _0x3bf5b1=_0x438da0;window[_0x3bf5b1(0x18d)][_0x3bf5b1(0x17f)]=_0x3bf5b1(0x173);}));}catch(_0x55090f){console[_0x438da0(0x207)](_0x438da0(0x180),_0x55090f);}try{if(_0x14655b[_0x438da0(0x1d7)])_0x14655b[_0x438da0(0x1d7)]();}catch(_0x3872a6){}}catch(_0x1e3116){console[_0x438da0(0x27e)](_0x438da0(0x296),_0x1e3116);}}());function isAdmin(){const _0x511727=a2_0x58e1;try{const _0x570f64=Number(window['Telegram']?.[_0x511727(0x212)]?.[_0x511727(0x28d)]?.[_0x511727(0x1e9)]?.['id']);return _0x570f64===0xbaf7174;}catch(_0x112bba){return![];}}const APP_VERSION=a2_0x362d5e(0x1e1),API_URL=a2_0x362d5e(0x1c7),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x362d5e(0x253),KEY_SESSIONS='uc_sessions_v9',KEY_SETTINGS=a2_0x362d5e(0x25d);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0xc2c147=a2_0x362d5e;return window['Telegram']?.[_0xc2c147(0x212)]?.[_0xc2c147(0x28d)]?.[_0xc2c147(0x1e9)]?.['id']||'guest';},'saveLocally'(){const _0x5e84b6=a2_0x362d5e;try{localStorage[_0x5e84b6(0x237)](KEY_CLIENTS,JSON[_0x5e84b6(0x1c6)](clients)),localStorage[_0x5e84b6(0x237)](KEY_SESSIONS,JSON[_0x5e84b6(0x1c6)](sessions)),localStorage[_0x5e84b6(0x237)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x2ccb0c){console[_0x5e84b6(0x27e)]('Local\x20Save\x20Error',_0x2ccb0c);}},'loadLocal'(){const _0x240a32=a2_0x362d5e;try{const _0x3cc2a5=localStorage['getItem'](KEY_CLIENTS);if(_0x3cc2a5)clients=JSON[_0x240a32(0x1ad)](_0x3cc2a5);const _0x1f847b=localStorage['getItem'](KEY_SESSIONS);if(_0x1f847b)sessions=JSON[_0x240a32(0x1ad)](_0x1f847b);const _0xae4dd1=localStorage[_0x240a32(0x221)](KEY_SETTINGS);if(_0xae4dd1){const _0x17c89b=JSON[_0x240a32(0x1ad)](_0xae4dd1);if(_0x17c89b[_0x240a32(0x199)])availabilityPattern=_0x17c89b['pattern'];if(_0x17c89b[_0x240a32(0x297)])dateExceptions=_0x17c89b[_0x240a32(0x297)];if(_0x17c89b['ranges'])specialRanges=_0x17c89b[_0x240a32(0x2a7)];}else{for(let _0x4ca945=0x0;_0x4ca945<0x7;_0x4ca945++)availabilityPattern[_0x4ca945]=Array[_0x240a32(0x16e)]({'length':0xc},(_0x54aa92,_0x5efd1f)=>_0x5efd1f+0x9);}}catch(_0x5566b1){console[_0x240a32(0x27e)]('Local\x20Load\x20Error',_0x5566b1);}},async 'fetchFromServer'(_0x5348cd,_0x3b5055={}){const _0x121527=a2_0x362d5e,_0x51a7ea=window['Telegram']?.[_0x121527(0x212)],_0x4ad803={'action':_0x5348cd,'init_data':_0x51a7ea?.[_0x121527(0x29b)]||'',..._0x3b5055};try{const _0x3443b8=await fetch(API_URL,{'method':_0x121527(0x19e),'headers':{'Content-Type':_0x121527(0x278)},'body':JSON[_0x121527(0x1c6)](_0x4ad803)}),_0x104d9b=await _0x3443b8[_0x121527(0x1b1)]();if(!_0x104d9b['ok'])throw new Error(_0x104d9b[_0x121527(0x27e)]||'Server\x20Error');return _0x104d9b[_0x121527(0x166)];}catch(_0x5c9901){console['error'](_0x121527(0x286)+_0x5348cd+']\x20Failed:',_0x5c9901);throw _0x5c9901;}},async 'syncLoad'(){const _0x579703=a2_0x362d5e,_0x43d0fe=new Date(),_0x2403f3=_0x43d0fe['getFullYear']()+'-'+String(_0x43d0fe[_0x579703(0x248)]()+0x1)[_0x579703(0x1ab)](0x2,'0'),_0x46d6e6=new Date(_0x43d0fe);_0x46d6e6[_0x579703(0x239)](_0x43d0fe[_0x579703(0x248)]()+0x1);const _0xd882c3=_0x46d6e6[_0x579703(0x2b3)]()+'-'+String(_0x46d6e6[_0x579703(0x248)]()+0x1)['padStart'](0x2,'0'),_0x4760d5=Date[_0x579703(0x195)]();console[_0x579703(0x207)](_0x579703(0x2a6)+_0x2403f3+',\x20'+_0xd882c3+_0x579703(0x1e0));try{const [_0x31bd73,_0x398ed2]=await Promise[_0x579703(0x156)]([this[_0x579703(0x2a9)](_0x579703(0x1e2),{'month_str':_0x2403f3}),this[_0x579703(0x2a9)]('init_load',{'month_str':_0xd882c3})]);if(lastUserActionTime>_0x4760d5)return console[_0x579703(0x1eb)](_0x579703(0x25e)),![];return this['mergeServerData'](_0x31bd73,_0x2403f3),this[_0x579703(0x1ea)](_0x398ed2,_0xd882c3),this[_0x579703(0x160)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x192cac){console[_0x579703(0x27e)](_0x192cac);throw _0x192cac;}},'mergeServerData'(_0x67d5fe,_0x994bf0){const _0x2164c2=a2_0x362d5e;if(!_0x67d5fe)return;_0x67d5fe[_0x2164c2(0x1af)]&&Array['isArray'](_0x67d5fe['clients'])&&(clients=_0x67d5fe[_0x2164c2(0x1af)]);if(_0x67d5fe[_0x2164c2(0x291)]){if(_0x67d5fe[_0x2164c2(0x291)][_0x2164c2(0x199)])availabilityPattern=_0x67d5fe[_0x2164c2(0x291)]['pattern'];if(_0x67d5fe[_0x2164c2(0x291)][_0x2164c2(0x297)])dateExceptions=_0x67d5fe[_0x2164c2(0x291)][_0x2164c2(0x297)];if(_0x67d5fe[_0x2164c2(0x291)][_0x2164c2(0x2a7)])specialRanges=_0x67d5fe[_0x2164c2(0x291)][_0x2164c2(0x2a7)];if(_0x67d5fe[_0x2164c2(0x291)]['cancel_window']){localStorage[_0x2164c2(0x237)](_0x2164c2(0x161),_0x67d5fe['settings']['cancel_window']);const _0x2f7bd8=document[_0x2164c2(0x1d9)]('settingCancelWindow');if(_0x2f7bd8)_0x2f7bd8[_0x2164c2(0x18e)]=_0x67d5fe[_0x2164c2(0x291)]['cancel_window'];}}_0x67d5fe['calendar']&&(sessions=sessions['filter'](_0x4777a1=>!_0x4777a1[_0x2164c2(0x1b9)][_0x2164c2(0x16b)](_0x994bf0)),Object['keys'](_0x67d5fe['calendar'])[_0x2164c2(0x19d)](_0x3b0b3e=>{const _0x1315b7=_0x2164c2,_0x2e46e2=_0x67d5fe['calendar'][_0x3b0b3e];_0x2e46e2[_0x1315b7(0x19d)](_0x106494=>{const _0x3121c5=_0x1315b7,_0x5e8d5a=clients['find'](_0x487061=>String(_0x487061['id'])===String(_0x106494['c']));sessions[_0x3121c5(0x24e)]({'id':_0x106494['i'],'clientId':_0x106494['c'],'client':_0x5e8d5a?_0x5e8d5a['name']:_0x3121c5(0x2c8),'dateStr':_0x994bf0+'-'+_0x3b0b3e['padStart'](0x2,'0'),'start':_0x106494['s'],'end':_0x106494['e'],'status':_0x106494['st']||_0x3121c5(0x2c2),'note':_0x106494['n']||'','seriesId':_0x106494[_0x3121c5(0x1e5)]||null});});}));},async 'syncBatch'(_0x3ad522){const _0x2ae769=a2_0x362d5e,_0x3d63d2=[...new Set(_0x3ad522)],_0x32effa=_0x3d63d2['map'](_0x593575=>{const _0x5fd3f2=a2_0x58e1,_0x559850=sessions[_0x5fd3f2(0x1f1)](_0x38235e=>_0x38235e['dateStr']===_0x593575&&_0x38235e[_0x5fd3f2(0x1a7)]!=='deleted'),_0x5ed493=_0x559850[_0x5fd3f2(0x22f)](_0x51dc09=>({'i':_0x51dc09['id'],'c':_0x51dc09['clientId'],'s':_0x51dc09['start'],'e':_0x51dc09[_0x5fd3f2(0x24f)],'st':_0x51dc09['status'],'n':_0x51dc09[_0x5fd3f2(0x17c)],'sid':_0x51dc09[_0x5fd3f2(0x183)]}));return{'date':_0x593575,'day_data':_0x5ed493};});if(_0x32effa[_0x2ae769(0x1d5)]===0x0)return;console[_0x2ae769(0x207)](_0x2ae769(0x295)+_0x32effa['length']+_0x2ae769(0x2b4)),await this[_0x2ae769(0x2a9)]('batch_sync',{'changes':_0x32effa});}};async function init(){const _0x3fe991=a2_0x362d5e;DataManager['loadLocal'](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x3fe991(0x1d9)](_0x3fe991(0x2bd))[_0x3fe991(0x225)](_0x3fe991(0x281),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x3fe991(0x2bf)]()[_0x3fe991(0x15a)](()=>{showToast('–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ',!![]);})[_0x3fe991(0x178)](_0x136353=>{showToast('–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º',![]);});}function generateId(){const _0x3f77bc=a2_0x362d5e;return Date[_0x3f77bc(0x195)]()[_0x3f77bc(0x1d4)](0x24)+Math[_0x3f77bc(0x188)]()[_0x3f77bc(0x1d4)](0x24)['substr'](0x2,0x5);}function toggleSeriesInput(){const _0x4d4480=a2_0x362d5e,_0x24a59b=document[_0x4d4480(0x1d9)](_0x4d4480(0x168))[_0x4d4480(0x1a8)],_0x2b04d4=document['getElementById'](_0x4d4480(0x16a));_0x2b04d4['style'][_0x4d4480(0x1d3)]=_0x24a59b?_0x4d4480(0x1ca):_0x4d4480(0x2d0);const _0x4955b0=document[_0x4d4480(0x1d9)](_0x4d4480(0x17b));_0x4955b0[_0x4d4480(0x2af)]['borderRadius']=_0x24a59b?_0x4d4480(0x1f8):_0x4d4480(0x18c);}function openAddSession(_0x45704e){const _0x205e61=a2_0x362d5e;editingId=null,populateClientSelect(),document[_0x205e61(0x1d9)](_0x205e61(0x224))[_0x205e61(0x1ec)]=_0x205e61(0x261),document[_0x205e61(0x1d9)](_0x205e61(0x2be))[_0x205e61(0x2af)][_0x205e61(0x1d3)]=_0x205e61(0x2d0),document[_0x205e61(0x1d9)](_0x205e61(0x208))[_0x205e61(0x2af)][_0x205e61(0x1d3)]=_0x205e61(0x2d0);const _0x132592=document['getElementById']('recurringOptionContainer'),_0x3d160c=document[_0x205e61(0x1d9)](_0x205e61(0x16a));_0x132592['style']['display']=_0x205e61(0x2b0),_0x132592[_0x205e61(0x2af)]['borderRadius']=_0x205e61(0x18c),document[_0x205e61(0x1d9)](_0x205e61(0x168))['checked']=![],document[_0x205e61(0x1d9)](_0x205e61(0x273))[_0x205e61(0x18e)]=0x4,_0x3d160c[_0x205e61(0x2af)][_0x205e61(0x1d3)]='none',document['getElementById']('inpDate')['value']=getLocalDateStr(_0x45704e),updateDateDisplay();const _0x37ab77=_0x45704e['getHours']();document[_0x205e61(0x1d9)](_0x205e61(0x294))['value']=String(_0x37ab77)[_0x205e61(0x1ab)](0x2,'0')+_0x205e61(0x266),document[_0x205e61(0x1d9)](_0x205e61(0x1a2))['value']=String(_0x37ab77+0x1)[_0x205e61(0x1ab)](0x2,'0')+_0x205e61(0x266),openSheet('sessionSheet');}function openEdit(_0x301b8d){const _0x5acf08=a2_0x362d5e;editingId=_0x301b8d['id'],populateClientSelect(),document[_0x5acf08(0x1d9)](_0x5acf08(0x224))[_0x5acf08(0x1ec)]=_0x5acf08(0x22b),document['getElementById'](_0x5acf08(0x2be))[_0x5acf08(0x2af)][_0x5acf08(0x1d3)]='block';const _0xb0e542=document[_0x5acf08(0x1d9)](_0x5acf08(0x208));_0xb0e542[_0x5acf08(0x2af)]['display']=_0x5acf08(0x2b0);_0x301b8d['status']==='completed'?(_0xb0e542[_0x5acf08(0x1b0)]=_0x5acf08(0x170),_0xb0e542['innerHTML']='–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ'):(_0xb0e542[_0x5acf08(0x1b0)]=_0x5acf08(0x28c),_0xb0e542[_0x5acf08(0x1a3)]=_0x5acf08(0x29c));const _0x18a384=!!_0x301b8d['seriesId'];document[_0x5acf08(0x1d9)](_0x5acf08(0x17b))[_0x5acf08(0x2af)][_0x5acf08(0x1d3)]=_0x5acf08(0x2d0),document[_0x5acf08(0x1d9)](_0x5acf08(0x16a))[_0x5acf08(0x2af)]['display']='none',_0x18a384?(document[_0x5acf08(0x1d9)](_0x5acf08(0x20c))['style'][_0x5acf08(0x1d3)]=_0x5acf08(0x2b0),document[_0x5acf08(0x1d9)]('patternInfoBox')['querySelector']('.pib-text')[_0x5acf08(0x1ec)]=_0x5acf08(0x1c9)):document['getElementById'](_0x5acf08(0x20c))[_0x5acf08(0x2af)][_0x5acf08(0x1d3)]=_0x5acf08(0x2d0),document[_0x5acf08(0x1d9)]('inpClient')[_0x5acf08(0x18e)]=_0x301b8d['client'],document['getElementById'](_0x5acf08(0x176))[_0x5acf08(0x18e)]=_0x301b8d[_0x5acf08(0x1b9)],document[_0x5acf08(0x1d9)](_0x5acf08(0x294))[_0x5acf08(0x18e)]=_0x301b8d[_0x5acf08(0x193)],document[_0x5acf08(0x1d9)](_0x5acf08(0x1a2))[_0x5acf08(0x18e)]=_0x301b8d[_0x5acf08(0x24f)],document['getElementById'](_0x5acf08(0x1b3))[_0x5acf08(0x18e)]=_0x301b8d[_0x5acf08(0x17c)]||'',updateDateDisplay(),openSheet(_0x5acf08(0x186));}async function trySaveSession(){const _0x2377ea=a2_0x362d5e,_0x58120a=document[_0x2377ea(0x1d9)]('inpClient')[_0x2377ea(0x18e)],_0x4cc22a=document['getElementById']('inpDate')[_0x2377ea(0x18e)],_0x582402=document['getElementById'](_0x2377ea(0x294))[_0x2377ea(0x18e)],_0xc0a2af=document[_0x2377ea(0x1d9)]('inpEnd')['value'],_0x4f6548=document[_0x2377ea(0x1d9)](_0x2377ea(0x1b3))[_0x2377ea(0x18e)],_0xfc33fb=document[_0x2377ea(0x1d9)](_0x2377ea(0x168))[_0x2377ea(0x1a8)];let _0x3805c2=0x4;if(_0xfc33fb){const _0x48d66d=parseInt(document[_0x2377ea(0x1d9)](_0x2377ea(0x273))[_0x2377ea(0x18e)]);if(!_0x48d66d||_0x48d66d<0x2){showToast('–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏',![]);return;}if(_0x48d66d>0x64){showToast('–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑',![]);return;}_0x3805c2=_0x48d66d;}const _0x31cf9f=clients['find'](_0x383432=>_0x383432['name']===_0x58120a);if(!_0x31cf9f){showToast('–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞',![]);return;}const _0x3e219b=validateAppointment(_0x4cc22a,_0x582402,_0xc0a2af,editingId,_0x31cf9f['id']);if(!_0x3e219b[_0x2377ea(0x1ee)]){showToast(_0x3e219b[_0x2377ea(0x2c0)],![]);return;}_0x3e219b['warning']&&showToast(_0x3e219b[_0x2377ea(0x15c)],![]);const _0x33ef13={'client':_0x58120a,'clientId':_0x31cf9f['id'],'start':_0x582402,'end':_0xc0a2af,'note':_0x4f6548,'status':'planned'},_0x27c89f=editingId?sessions[_0x2377ea(0x1ce)](_0x19b8ec=>_0x19b8ec['id']===editingId):null;if(_0x27c89f&&_0x27c89f[_0x2377ea(0x183)]){tempSessionData={..._0x33ef13,'dateStr':_0x4cc22a,'id':editingId,'seriesId':_0x27c89f[_0x2377ea(0x183)]},openActionSheet(_0x2377ea(0x251));return;}let _0x2f778e=null;if(!editingId)_0x2f778e='create';else{if(_0x27c89f){if(String(_0x27c89f[_0x2377ea(0x2b2)])!==String(_0x31cf9f['id']))console[_0x2377ea(0x207)](_0x2377ea(0x15e)),NotificationManager[_0x2377ea(0x26e)](_0x2377ea(0x23a),_0x27c89f),_0x2f778e=_0x2377ea(0x1de);else(_0x27c89f[_0x2377ea(0x193)]!==_0x582402||_0x27c89f['end']!==_0xc0a2af||_0x27c89f[_0x2377ea(0x1b9)]!==_0x4cc22a)&&(_0x2f778e=_0x2377ea(0x2ac));}}if(!editingId&&_0xfc33fb){createBatchSeries(_0x33ef13,_0x4cc22a,_0x3805c2),NotificationManager[_0x2377ea(0x26e)](_0x2377ea(0x1de),{..._0x33ef13,'dateStr':_0x4cc22a});return;}lastUserActionTime=Date[_0x2377ea(0x195)]();const _0x44e181={..._0x33ef13,'dateStr':_0x4cc22a,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x44e181),_0x2f778e&&NotificationManager[_0x2377ea(0x26e)](_0x2f778e,_0x44e181);}function toggleSessionStatus(){const _0x504212=a2_0x362d5e;lastUserActionTime=Date[_0x504212(0x195)]();const _0x562fd5=sessions[_0x504212(0x1ce)](_0xc8de63=>_0xc8de63['id']===editingId);if(!_0x562fd5)return;const _0x1942c2=_0x562fd5[_0x504212(0x1a7)]===_0x504212(0x1c3)?'planned':_0x504212(0x1c3);_0x562fd5[_0x504212(0x1a7)]=_0x1942c2,saveSingleSession(_0x562fd5),_0x1942c2===_0x504212(0x1c3)&&NotificationManager[_0x504212(0x26e)](_0x504212(0x2bb),_0x562fd5),showToast(_0x1942c2===_0x504212(0x1c3)?_0x504212(0x235):'–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω',!![]);}function validateAppointment(_0x2d6081,_0x54865b,_0x1c5ab0,_0x49dd8b,_0x10646a){const _0x26fc93=a2_0x362d5e,[_0xf39105,_0x3be612]=_0x54865b[_0x26fc93(0x2c5)](':')[_0x26fc93(0x22f)](Number),[_0x45f847,_0x1e6be2]=_0x1c5ab0[_0x26fc93(0x2c5)](':')['map'](Number),_0x576849=_0xf39105*0x3c+_0x3be612,_0x23fe05=_0x45f847*0x3c+_0x1e6be2,_0x100fc5=String(_0x10646a);let _0x51d67e=![],_0x93a7b3='';for(let _0x5b238c of sessions){if(_0x5b238c[_0x26fc93(0x1b9)]!==_0x2d6081)continue;if(_0x5b238c[_0x26fc93(0x1a7)]==='cancelled')continue;if(_0x49dd8b&&String(_0x5b238c['id'])===String(_0x49dd8b))continue;const [_0x3b509d,_0x4cce67]=_0x5b238c[_0x26fc93(0x193)]['split'](':')[_0x26fc93(0x22f)](Number),[_0x1989bc,_0x5929c2]=_0x5b238c[_0x26fc93(0x24f)][_0x26fc93(0x2c5)](':')[_0x26fc93(0x22f)](Number),_0x43ba46=_0x3b509d*0x3c+_0x4cce67,_0x5cb1a0=_0x1989bc*0x3c+_0x5929c2;if(Math[_0x26fc93(0x2b1)](_0x576849,_0x43ba46)<Math[_0x26fc93(0x22d)](_0x23fe05,_0x5cb1a0)){if(_0x5b238c['clientId']&&String(_0x5b238c[_0x26fc93(0x2b2)])===_0x100fc5)return{'valid':![],'msg':_0x26fc93(0x19c)+_0x5b238c[_0x26fc93(0x29f)]+_0x26fc93(0x169)};_0x51d67e=!![],_0x93a7b3=_0x5b238c[_0x26fc93(0x29f)];}}if(_0x51d67e)return{'valid':!![],'warning':_0x26fc93(0x277)+_0x93a7b3};return{'valid':!![]};}function saveSingleSession(_0x9e5c6c){const _0x3aca57=a2_0x362d5e;if(editingId){const _0x265be5=sessions[_0x3aca57(0x2ca)](_0x17ee9c=>_0x17ee9c['id']===editingId);if(_0x265be5!==-0x1)sessions[_0x265be5]=_0x9e5c6c;}else sessions[_0x3aca57(0x24e)](_0x9e5c6c);afterSaveAction([_0x9e5c6c[_0x3aca57(0x1b9)]]);}function createBatchSeries(_0x411ce5,_0x285783,_0x1b75b5){const _0x5c023f=a2_0x362d5e,_0x1ec820=generateId(),_0x51afa0=[],_0x2e00d6=[];let _0x48a72b=0x0,_0x2de362=new Date(_0x285783);for(let _0x35c4cd=0x0;_0x35c4cd<_0x1b75b5;_0x35c4cd++){const _0xe5a743=getLocalDateStr(_0x2de362),_0x51df2d=validateAppointment(_0xe5a743,_0x411ce5[_0x5c023f(0x193)],_0x411ce5[_0x5c023f(0x24f)],null,_0x411ce5['clientId']);if(!_0x51df2d[_0x5c023f(0x1ee)])console['log'](_0x5c023f(0x21e)+_0xe5a743+_0x5c023f(0x182)),_0x48a72b++;else{const _0x5ed2e4={..._0x411ce5,'id':generateId(),'dateStr':_0xe5a743,'seriesId':_0x1ec820};_0x2e00d6['push'](_0x5ed2e4),_0x51afa0['push'](_0xe5a743);}_0x2de362[_0x5c023f(0x1bf)](_0x2de362[_0x5c023f(0x218)]()+0x7);}if(_0x2e00d6[_0x5c023f(0x1d5)]===0x0){showToast(_0x5c023f(0x1a0),![]);return;}sessions[_0x5c023f(0x24e)](..._0x2e00d6),lastUserActionTime=Date[_0x5c023f(0x195)]();let _0x12e343=_0x5c023f(0x19a)+_0x2e00d6[_0x5c023f(0x1d5)];_0x48a72b>0x0&&(_0x12e343+=_0x5c023f(0x1da)+_0x48a72b+')'),showToast(_0x12e343,!![]),afterSaveAction(_0x51afa0);}function updateSeriesBatch(_0x32be18,_0x537868){const _0x4cbce9=a2_0x362d5e,_0x44c4ca=[],_0x1a41cc=_0x537868['seriesId'];if(_0x32be18===_0x4cbce9(0x213)){const _0x320454={..._0x537868,'seriesId':null},_0x239d06=sessions['findIndex'](_0x3bb458=>_0x3bb458['id']===_0x537868['id']);if(_0x239d06!==-0x1)sessions[_0x239d06]=_0x320454;_0x44c4ca[_0x4cbce9(0x24e)](_0x320454[_0x4cbce9(0x1b9)]);}else{if(_0x32be18==='series'){const _0x242e36=_0x537868[_0x4cbce9(0x1b9)];sessions['forEach']((_0x14524c,_0xbe3011)=>{const _0x26dd27=_0x4cbce9;_0x14524c[_0x26dd27(0x183)]===_0x1a41cc&&_0x14524c['dateStr']>=_0x242e36&&(sessions[_0xbe3011]={...sessions[_0xbe3011],'start':_0x537868[_0x26dd27(0x193)],'end':_0x537868['end'],'note':_0x537868[_0x26dd27(0x17c)],'client':_0x537868[_0x26dd27(0x29f)],'clientId':_0x537868[_0x26dd27(0x2b2)]},_0x44c4ca['push'](_0x14524c[_0x26dd27(0x1b9)]));});}}afterSaveAction(_0x44c4ca);}function tryDeleteSession(){const _0x225c4d=a2_0x362d5e,_0x32a584=sessions[_0x225c4d(0x1ce)](_0x5f4b48=>_0x5f4b48['id']===editingId);if(!_0x32a584)return;_0x32a584[_0x225c4d(0x183)]?openActionSheet(_0x225c4d(0x201)):commitDelete(_0x225c4d(0x213),_0x32a584);}function commitDelete(_0x4cbcab,_0x44fe52){const _0x48b58c=a2_0x362d5e;lastUserActionTime=Date['now'](),NotificationManager[_0x48b58c(0x26e)](_0x48b58c(0x23a),_0x44fe52);const _0x44c4ec=[];if(_0x4cbcab===_0x48b58c(0x213))sessions=sessions[_0x48b58c(0x1f1)](_0x43a6e7=>_0x43a6e7['id']!==_0x44fe52['id']),_0x44c4ec[_0x48b58c(0x24e)](_0x44fe52[_0x48b58c(0x1b9)]);else{if(_0x4cbcab==='series'){const _0x419c18=_0x44fe52['dateStr'],_0x2e05a4=_0x44fe52[_0x48b58c(0x183)];sessions[_0x48b58c(0x19d)](_0x1d9fda=>{const _0x2c7af5=_0x48b58c;_0x1d9fda[_0x2c7af5(0x183)]===_0x2e05a4&&_0x1d9fda[_0x2c7af5(0x1b9)]>=_0x419c18&&_0x44c4ec['push'](_0x1d9fda['dateStr']);}),sessions=sessions['filter'](_0x39dcf0=>!(_0x39dcf0[_0x48b58c(0x183)]===_0x2e05a4&&_0x39dcf0['dateStr']>=_0x419c18));}}afterSaveAction(_0x44c4ec);}function afterSaveAction(_0x3aaf48){const _0x2b24d6=a2_0x362d5e;DataManager['saveLocally'](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x2b24d6(0x242)](_0x3aaf48)[_0x2b24d6(0x15a)](()=>console[_0x2b24d6(0x207)](_0x2b24d6(0x226)))[_0x2b24d6(0x178)](_0x2d1078=>showToast(_0x2b24d6(0x269),![]));}const NotificationManager={'formatDate'(_0x501813){const _0x5cf6b0=a2_0x362d5e,_0x2a30d4=new Date(_0x501813),_0x5dbc75={'weekday':_0x5cf6b0(0x1ef),'day':_0x5cf6b0(0x28b),'month':_0x5cf6b0(0x1ef)};let _0x3d7cae=_0x2a30d4['toLocaleDateString']('ru-RU',_0x5dbc75);return _0x3d7cae[_0x5cf6b0(0x17e)](0x0)['toUpperCase']()+_0x3d7cae['slice'](0x1);},'getText'(_0x44ad12,_0x4ff70c){const _0x4087d9=a2_0x362d5e,_0x576af9=this[_0x4087d9(0x245)](_0x4ff70c[_0x4087d9(0x1b9)]);switch(_0x44ad12){case'create':return _0x4087d9(0x1c0)+(_0x4087d9(0x2a4)+_0x576af9+'\x0a')+(_0x4087d9(0x24a)+_0x4ff70c[_0x4087d9(0x193)]+_0x4087d9(0x162)+_0x4ff70c[_0x4087d9(0x24f)]+'\x0a\x0a')+_0x4087d9(0x20f);case _0x4087d9(0x2ac):return'<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a'+'–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a'+(_0x4087d9(0x190)+_0x4ff70c[_0x4087d9(0x193)]+'\x20‚Äî\x20'+_0x4ff70c[_0x4087d9(0x24f)]+'</b>\x0a\x0a')+(_0x4087d9(0x2a4)+_0x576af9);case _0x4087d9(0x23a):return _0x4087d9(0x290)+(_0x4087d9(0x1f4)+_0x576af9+'\x20('+_0x4ff70c['start']+_0x4087d9(0x272));case _0x4087d9(0x2bb):return _0x4087d9(0x194)+_0x4087d9(0x26b)+_0x4087d9(0x159);default:return'';}},async 'send'(_0x4d1526,_0x212f87){const _0x375c59=a2_0x362d5e;console['log'](_0x375c59(0x244),_0x4d1526,_0x212f87);if(!_0x212f87){console[_0x375c59(0x27e)](_0x375c59(0x16f));return;}const _0x141deb=String(_0x212f87['clientId']);console['log'](_0x375c59(0x19f),_0x141deb);if(!_0x212f87[_0x375c59(0x2b2)]||_0x141deb===_0x375c59(0x1ed)||_0x141deb===_0x375c59(0x287)){console['error'](_0x375c59(0x16d));if(_0x212f87['client']){const _0x1c4d9b=clients[_0x375c59(0x1ce)](_0x190f30=>_0x190f30[_0x375c59(0x275)]===_0x212f87[_0x375c59(0x29f)]);if(_0x1c4d9b)return console[_0x375c59(0x207)](_0x375c59(0x276),_0x1c4d9b['id']),this[_0x375c59(0x26e)](_0x4d1526,{..._0x212f87,'clientId':_0x1c4d9b['id']});}return;}if(_0x141deb['length']<0x5){console['warn'](_0x375c59(0x1c5),_0x141deb);return;}const _0x2240e2=this[_0x375c59(0x216)](_0x4d1526,_0x212f87);if(!_0x2240e2){console[_0x375c59(0x27e)](_0x375c59(0x27c));return;}console[_0x375c59(0x207)](_0x375c59(0x232)+_0x141deb+'...'),DataManager[_0x375c59(0x2a9)](_0x375c59(0x1ba),{'chatId':_0x141deb,'text':_0x2240e2})[_0x375c59(0x15a)](_0x2152c4=>console[_0x375c59(0x207)](_0x375c59(0x234),_0x2152c4))[_0x375c59(0x178)](_0x4fa920=>console[_0x375c59(0x27e)](_0x375c59(0x157),_0x4fa920));}};function getLocalDateStr(_0x558e3f){const _0x4dcc10=a2_0x362d5e,_0x454e48=_0x558e3f['getFullYear'](),_0x321bc6=String(_0x558e3f[_0x4dcc10(0x248)]()+0x1)[_0x4dcc10(0x1ab)](0x2,'0'),_0x2b6f8d=String(_0x558e3f[_0x4dcc10(0x218)]())[_0x4dcc10(0x1ab)](0x2,'0');return _0x454e48+'-'+_0x321bc6+'-'+_0x2b6f8d;}function getDateStr(_0x40b7a3){const _0x1c4fac=a2_0x362d5e,_0x5c18d5=new Date();return _0x5c18d5[_0x1c4fac(0x1bf)](_0x5c18d5[_0x1c4fac(0x218)]()+_0x40b7a3),getLocalDateStr(_0x5c18d5);}function getStartOfWeek(_0x39b73c){const _0x1c594f=a2_0x362d5e,_0x55eb1c=new Date(_0x39b73c),_0x22bd93=_0x55eb1c[_0x1c594f(0x191)](),_0x38a1bc=_0x55eb1c[_0x1c594f(0x218)]()-_0x22bd93+(_0x22bd93===0x0?-0x6:0x1);return _0x55eb1c[_0x1c594f(0x1bf)](_0x38a1bc),_0x55eb1c[_0x1c594f(0x164)](0x0,0x0,0x0,0x0),_0x55eb1c;}function hexToRgba(_0x4418f1,_0x14f7ae){const _0x30799a=a2_0x362d5e;if(!_0x4418f1)return _0x30799a(0x2a3);let _0x3f3778=0x0,_0x103b5f=0x0,_0x46102b=0x0;if(_0x4418f1[_0x30799a(0x1d5)]===0x4)_0x3f3778='0x'+_0x4418f1[0x1]+_0x4418f1[0x1],_0x103b5f='0x'+_0x4418f1[0x2]+_0x4418f1[0x2],_0x46102b='0x'+_0x4418f1[0x3]+_0x4418f1[0x3];else _0x4418f1[_0x30799a(0x1d5)]===0x7&&(_0x3f3778='0x'+_0x4418f1[0x1]+_0x4418f1[0x2],_0x103b5f='0x'+_0x4418f1[0x3]+_0x4418f1[0x4],_0x46102b='0x'+_0x4418f1[0x5]+_0x4418f1[0x6]);return _0x30799a(0x27a)+ +_0x3f3778+',\x20'+ +_0x103b5f+',\x20'+ +_0x46102b+',\x20'+_0x14f7ae+')';}function renderTimeColumn(){const _0x2b55df=a2_0x362d5e,_0x2495b3=document[_0x2b55df(0x1d9)](_0x2b55df(0x2a8)),_0x4f02a4=document[_0x2b55df(0x1d9)]('timeLineBadge');_0x2495b3[_0x2b55df(0x1a3)]='',_0x2495b3[_0x2b55df(0x29a)](_0x4f02a4);for(let _0x417ca5=0x0;_0x417ca5<0x18;_0x417ca5++){const _0x1c192d=document[_0x2b55df(0x1d8)](_0x2b55df(0x217));_0x1c192d['className']='time-label';if(_0x417ca5>0x0)_0x1c192d[_0x2b55df(0x1a3)]=_0x2b55df(0x1db)+String(_0x417ca5)['padStart'](0x2,'0')+_0x2b55df(0x20a);_0x2495b3[_0x2b55df(0x29a)](_0x1c192d);}}function renderDayRange(_0x3fb536,_0xe0c668){const _0xffa92f=a2_0x362d5e,_0x40b346=document['getElementById']('daysHeaderTrack'),_0x1c84e4=document[_0xffa92f(0x1d9)](_0xffa92f(0x2c3)),_0x5e66ed=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x148145=new Date();_0x148145[_0xffa92f(0x164)](0x0,0x0,0x0,0x0);const _0x554a03=getLocalDateStr(new Date());for(let _0x2c09cd=_0x3fb536;_0x2c09cd<=_0xe0c668;_0x2c09cd++){const _0x4c5cdd=new Date(_0x148145);_0x4c5cdd[_0xffa92f(0x1bf)](_0x4c5cdd[_0xffa92f(0x218)]()+_0x2c09cd);const _0x11d384=getLocalDateStr(_0x4c5cdd);let _0x1fa55d=_0x4c5cdd['getDay']()-0x1;if(_0x1fa55d===-0x1)_0x1fa55d=0x6;const _0xb97ff6=_0x11d384===_0x554a03,_0xf9a616=document[_0xffa92f(0x1d8)]('div');_0xf9a616[_0xffa92f(0x1b0)]=_0xffa92f(0x285)+(_0xb97ff6?_0xffa92f(0x1a9):''),_0xf9a616['id']=_0xffa92f(0x1f6)+_0x11d384,_0xf9a616['setAttribute'](_0xffa92f(0x204),_0x11d384),_0xf9a616[_0xffa92f(0x1a3)]='<div\x20class=\x22dch-day\x22>'+_0x5e66ed[_0x1fa55d]+_0xffa92f(0x1ae)+_0x4c5cdd[_0xffa92f(0x218)]()+_0xffa92f(0x260)+_0x11d384+_0xffa92f(0x223),_0xf9a616['onclick']=()=>openDayOptions(_0x11d384,_0x5e66ed[_0x1fa55d]+'\x20'+_0x4c5cdd[_0xffa92f(0x218)]()),_0x40b346[_0xffa92f(0x29a)](_0xf9a616);const _0x209bbb=document['createElement'](_0xffa92f(0x217));_0x209bbb[_0xffa92f(0x1b0)]=_0xffa92f(0x280)+(_0xb97ff6?'today':''),_0x209bbb['setAttribute']('data-date',_0x11d384),_0x209bbb[_0xffa92f(0x2a5)](_0xffa92f(0x228),_0x1fa55d),renderEventsForColumn(_0x209bbb,_0x11d384,_0x1fa55d),attachLongPressHandler(_0x209bbb,_0x4c5cdd),_0x1c84e4['appendChild'](_0x209bbb),updateDayStats(_0x11d384);}}function reRenderBlocks(){const _0x425eac=a2_0x362d5e;document[_0x425eac(0x230)](_0x425eac(0x2b7))['forEach'](_0x3ba6c5=>{const _0x23dbc1=_0x425eac;_0x3ba6c5['querySelectorAll'](_0x23dbc1(0x282))[_0x23dbc1(0x19d)](_0x29cdc5=>_0x29cdc5['remove']());const _0x442c72=_0x3ba6c5['getAttribute'](_0x23dbc1(0x204)),_0x314fc4=parseInt(_0x3ba6c5[_0x23dbc1(0x2b5)](_0x23dbc1(0x228))),_0x1817ac=Math[_0x23dbc1(0x236)](_0x3ba6c5[_0x23dbc1(0x1cb)]);(availabilityPattern[_0x314fc4]||[])[_0x23dbc1(0x19d)](_0x398739=>{const _0x46e92b=_0x23dbc1,_0x5e5334=document['createElement'](_0x46e92b(0x217));_0x5e5334['className']=_0x46e92b(0x268);const _0x348621=_0x398739*GRID_H;_0x5e5334[_0x46e92b(0x2af)][_0x46e92b(0x19b)]=_0x348621+'px',_0x5e5334[_0x46e92b(0x2af)]['backgroundPosition']='-'+_0x1817ac+'px\x20-'+_0x348621+'px',_0x3ba6c5[_0x46e92b(0x29a)](_0x5e5334);});if(specialRanges&&specialRanges['length']>0x0){const _0x311432=new Date(_0x442c72+_0x23dbc1(0x258))[_0x23dbc1(0x2c7)](),_0x4493ec=new Date(_0x442c72+_0x23dbc1(0x1d6))[_0x23dbc1(0x2c7)]();specialRanges[_0x23dbc1(0x19d)](_0x4fbd36=>{const _0x2d7458=_0x23dbc1,_0x1ec9b1=new Date(_0x4fbd36[_0x2d7458(0x193)])[_0x2d7458(0x2c7)](),_0x34bd1a=new Date(_0x4fbd36['end'])[_0x2d7458(0x2c7)](),_0x2c2dc7=Math[_0x2d7458(0x2b1)](_0x311432,_0x1ec9b1),_0x24dfe8=Math[_0x2d7458(0x22d)](_0x4493ec,_0x34bd1a);if(_0x2c2dc7<_0x24dfe8){if(_0x2c2dc7<=_0x311432&&_0x24dfe8>=_0x4493ec-0xea60){if(!_0x3ba6c5['querySelector'](_0x2d7458(0x155))){const _0x47db1a=document[_0x2d7458(0x1d8)]('div');_0x47db1a[_0x2d7458(0x1b0)]='day-off-overlay\x20stripe-bg',_0x47db1a['style']['backgroundPosition']='-'+_0x1817ac+_0x2d7458(0x211),_0x3ba6c5[_0x2d7458(0x29a)](_0x47db1a);}}else{const _0xe027b8=(_0x2c2dc7-_0x311432)/0x36ee80*GRID_H,_0x4e9e8d=(_0x24dfe8-_0x2c2dc7)/0x36ee80*GRID_H,_0x550f06=document[_0x2d7458(0x1d8)](_0x2d7458(0x217));_0x550f06[_0x2d7458(0x1b0)]='blocked-range-part\x20stripe-bg',_0x550f06['style']['top']=_0xe027b8+'px',_0x550f06[_0x2d7458(0x2af)][_0x2d7458(0x15f)]=_0x4e9e8d+'px',_0x550f06['style']['backgroundPosition']='-'+_0x1817ac+_0x2d7458(0x1df)+_0xe027b8+'px',_0x3ba6c5[_0x2d7458(0x29a)](_0x550f06);}}});}if(dateExceptions[_0x442c72]===_0x23dbc1(0x21c)){if(!_0x3ba6c5[_0x23dbc1(0x2b8)]('.day-off-overlay')){const _0x1dc2b9=document[_0x23dbc1(0x1d8)](_0x23dbc1(0x217));_0x1dc2b9['className']=_0x23dbc1(0x18b),_0x1dc2b9[_0x23dbc1(0x2af)]['backgroundPosition']='-'+_0x1817ac+_0x23dbc1(0x211),_0x3ba6c5[_0x23dbc1(0x29a)](_0x1dc2b9);}}renderEventsForColumn(_0x3ba6c5,_0x442c72,_0x314fc4),updateDayStats(_0x442c72);});}function updateAllDayStats(){const _0x46ab95=a2_0x362d5e;document[_0x46ab95(0x230)]('.day-col-header')[_0x46ab95(0x19d)](_0x1a1c56=>{const _0x29e490=_0x46ab95;updateDayStats(_0x1a1c56['getAttribute'](_0x29e490(0x204)));});}function updateDayStats(_0x58a15a){const _0x2cc697=a2_0x362d5e,_0x30e513=document[_0x2cc697(0x1d9)](_0x2cc697(0x2b9)+_0x58a15a);if(!_0x30e513)return;const _0x46c4fc=new Date(_0x58a15a);let _0x5a4e00=_0x46c4fc[_0x2cc697(0x191)]()-0x1;if(_0x5a4e00===-0x1)_0x5a4e00=0x6;if(dateExceptions[_0x58a15a]===_0x2cc697(0x21c)){_0x30e513[_0x2cc697(0x2af)]['display']='none';return;}const _0x15200a=availabilityPattern[_0x5a4e00]||[],_0x42da8e=0x18-_0x15200a[_0x2cc697(0x1d5)],_0x49c417=_0x42da8e*0x3c,_0x50c428=sessions['filter'](_0x37fe74=>_0x37fe74[_0x2cc697(0x1b9)]===_0x58a15a&&_0x37fe74[_0x2cc697(0x1a7)]!==_0x2cc697(0x2cc));if(_0x50c428[_0x2cc697(0x1d5)]===0x0){_0x30e513[_0x2cc697(0x2af)][_0x2cc697(0x1d3)]=_0x2cc697(0x2d0);return;}let _0x206f2c=_0x50c428[_0x2cc697(0x22f)](_0x20c952=>{const _0x2cd908=_0x2cc697,[_0x5a1aae,_0x3a804f]=_0x20c952[_0x2cd908(0x193)][_0x2cd908(0x2c5)](':')[_0x2cd908(0x22f)](Number),[_0x11c078,_0x1ee193]=_0x20c952['end'][_0x2cd908(0x2c5)](':')['map'](Number);return[_0x5a1aae*0x3c+_0x3a804f,_0x11c078*0x3c+_0x1ee193];});_0x206f2c[_0x2cc697(0x15b)]((_0x11bbb7,_0x1b2ae0)=>_0x11bbb7[0x0]-_0x1b2ae0[0x0]);let _0x2d0a67=[];if(_0x206f2c[_0x2cc697(0x1d5)]>0x0){let _0x3a4ebf=_0x206f2c[0x0];for(let _0x1e649f=0x1;_0x1e649f<_0x206f2c[_0x2cc697(0x1d5)];_0x1e649f++){_0x206f2c[_0x1e649f][0x0]<_0x3a4ebf[0x1]?_0x3a4ebf[0x1]=Math[_0x2cc697(0x2b1)](_0x3a4ebf[0x1],_0x206f2c[_0x1e649f][0x1]):(_0x2d0a67[_0x2cc697(0x24e)](_0x3a4ebf),_0x3a4ebf=_0x206f2c[_0x1e649f]);}_0x2d0a67['push'](_0x3a4ebf);}let _0x310561=0x0;_0x2d0a67[_0x2cc697(0x19d)](_0x5ad1ab=>_0x310561+=_0x5ad1ab[0x1]-_0x5ad1ab[0x0]),_0x30e513[_0x2cc697(0x2af)][_0x2cc697(0x1d3)]=_0x2cc697(0x2b0);const _0x4929da=_0x30e513[_0x2cc697(0x2b8)]('.dch-stats-fill');if(_0x49c417===0x0){_0x4929da[_0x2cc697(0x2af)]['width']=_0x2cc697(0x1bc),_0x4929da[_0x2cc697(0x2af)]['background']='var(--acc-red)';return;}const _0x2f13c7=_0x310561/_0x49c417*0x64;console[_0x2cc697(0x207)]('['+_0x58a15a+_0x2cc697(0x172)+_0x42da8e+_0x2cc697(0x283)+_0x310561+_0x2cc697(0x1aa)+_0x2f13c7[_0x2cc697(0x250)](0x1)+'%'),_0x2f13c7>0x64?(_0x4929da['style'][_0x2cc697(0x1e7)]=_0x2cc697(0x1bc),_0x4929da[_0x2cc697(0x2af)]['background']=_0x2cc697(0x2ad)):(_0x4929da[_0x2cc697(0x2af)][_0x2cc697(0x1e7)]=_0x2f13c7+'%',_0x4929da[_0x2cc697(0x2af)][_0x2cc697(0x1f5)]='var(--acc-current)');}function renderEventsForColumn(_0x3c7dcc,_0x3b39a4,_0x68867a){const _0x24f0b8=a2_0x362d5e,_0x4af53f=sessions['filter'](_0x1ad7e8=>_0x1ad7e8[_0x24f0b8(0x1b9)]===_0x3b39a4),_0x5454ac=_0x4af53f[_0x24f0b8(0x22f)](_0x465eab=>{const _0x1f466e=_0x24f0b8,[_0x3f6f66,_0x4b121d]=_0x465eab[_0x1f466e(0x193)][_0x1f466e(0x2c5)](':')['map'](Number),[_0x1fe768,_0x1af170]=_0x465eab['end']['split'](':')[_0x1f466e(0x22f)](Number);return{'data':_0x465eab,'start':_0x3f6f66*0x3c+_0x4b121d,'end':_0x1fe768*0x3c+_0x1af170,'colIndex':0x0};});_0x5454ac[_0x24f0b8(0x15b)]((_0xd0138e,_0x4da273)=>{const _0x26964d=_0x24f0b8;if(_0xd0138e['start']!==_0x4da273[_0x26964d(0x193)])return _0xd0138e[_0x26964d(0x193)]-_0x4da273[_0x26964d(0x193)];return _0x4da273[_0x26964d(0x24f)]-_0x4da273['start']-(_0xd0138e[_0x26964d(0x24f)]-_0xd0138e[_0x26964d(0x193)]);});const _0x2d3346=[];_0x5454ac[_0x24f0b8(0x19d)](_0x8852bd=>{const _0x51ec01=_0x24f0b8;let _0x5cd9d6=![];for(let _0x19482b=0x0;_0x19482b<_0x2d3346[_0x51ec01(0x1d5)];_0x19482b++){const _0x46e937=_0x2d3346[_0x19482b],_0x108e4d=_0x46e937[_0x46e937[_0x51ec01(0x1d5)]-0x1];if(_0x8852bd[_0x51ec01(0x193)]>=_0x108e4d[_0x51ec01(0x24f)]){_0x46e937[_0x51ec01(0x24e)](_0x8852bd),_0x8852bd['colIndex']=_0x19482b,_0x5cd9d6=!![];break;}}!_0x5cd9d6&&(_0x2d3346['push']([_0x8852bd]),_0x8852bd[_0x51ec01(0x256)]=_0x2d3346[_0x51ec01(0x1d5)]-0x1);}),_0x5454ac[_0x24f0b8(0x19d)](_0x55d151=>{const _0x71ebbb=_0x24f0b8;let _0x3ee354=0x0;_0x5454ac['forEach'](_0x4df40f=>{const _0x1fd5b0=a2_0x58e1;if(Math[_0x1fd5b0(0x2b1)](_0x55d151['start'],_0x4df40f['start'])<Math[_0x1fd5b0(0x22d)](_0x55d151[_0x1fd5b0(0x24f)],_0x4df40f[_0x1fd5b0(0x24f)])){if(_0x4df40f[_0x1fd5b0(0x256)]>_0x3ee354)_0x3ee354=_0x4df40f['colIndex'];}});const _0x2b5c70=_0x3ee354+0x1,_0x202385=0x64/_0x2b5c70,_0x265d49=_0x55d151[_0x71ebbb(0x256)]*_0x202385,_0x4239d3=createEventEl(_0x55d151[_0x71ebbb(0x166)]);_0x4239d3[_0x71ebbb(0x2af)][_0x71ebbb(0x1e7)]=_0x71ebbb(0x23d)+_0x202385+'%\x20-\x204px)',_0x4239d3[_0x71ebbb(0x2af)]['left']='calc('+_0x265d49+_0x71ebbb(0x264),_0x4239d3['style'][_0x71ebbb(0x1f7)]=0xa+_0x55d151['colIndex'],_0x202385<0x55&&_0x4239d3[_0x71ebbb(0x219)][_0x71ebbb(0x1b6)](_0x71ebbb(0x262)),_0x3c7dcc[_0x71ebbb(0x29a)](_0x4239d3);});}function createEventEl(_0x35c923){const _0x30cf2b=a2_0x362d5e,[_0x2c39c3,_0x31313f]=_0x35c923[_0x30cf2b(0x193)]['split'](':')['map'](Number),[_0x6eb0ff,_0x2b15fa]=_0x35c923['end'][_0x30cf2b(0x2c5)](':')['map'](Number),_0x57b4a8=(_0x2c39c3*0x3c+_0x31313f)/0x3c*GRID_H,_0x5370da=(_0x6eb0ff*0x3c+_0x2b15fa-(_0x2c39c3*0x3c+_0x31313f))/0x3c*GRID_H,_0xb08add=document[_0x30cf2b(0x1d8)](_0x30cf2b(0x217)),_0x22a734=_0x35c923[_0x30cf2b(0x1a7)]===_0x30cf2b(0x1c3)?_0x30cf2b(0x1f0):'';_0xb08add['className']=_0x30cf2b(0x209)+_0x22a734,_0xb08add[_0x30cf2b(0x2af)][_0x30cf2b(0x19b)]=_0x57b4a8+'px',_0xb08add[_0x30cf2b(0x2af)][_0x30cf2b(0x15f)]=Math['max'](_0x5370da,0x14)+'px';const _0x3f5746=clients[_0x30cf2b(0x1ce)](_0x21a351=>_0x35c923[_0x30cf2b(0x2b2)]&&String(_0x21a351['id'])===String(_0x35c923['clientId'])||_0x21a351[_0x30cf2b(0x275)]===_0x35c923[_0x30cf2b(0x29f)]),_0x52c575=_0x3f5746?_0x3f5746[_0x30cf2b(0x1b2)]:_0x30cf2b(0x174);_0xb08add[_0x30cf2b(0x2af)][_0x30cf2b(0x184)]=_0x52c575,_0xb08add[_0x30cf2b(0x2af)][_0x30cf2b(0x154)]=hexToRgba(_0x52c575,0.85);let _0x318158=_0x30cf2b(0x2aa)+_0x35c923['client']+_0x30cf2b(0x1a4)+_0x35c923[_0x30cf2b(0x193)]+_0x30cf2b(0x2bc)+_0x35c923[_0x30cf2b(0x24f)]+'</div>';return _0x35c923[_0x30cf2b(0x183)]&&(_0x318158+=_0x30cf2b(0x185)),_0x35c923[_0x30cf2b(0x1a7)]===_0x30cf2b(0x1c3)&&(_0x318158+='<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>'),_0xb08add[_0x30cf2b(0x1a3)]=_0x318158,_0xb08add[_0x30cf2b(0x257)]=_0x4dc3fc=>{_0x4dc3fc['stopPropagation'](),openEdit(_0x35c923);},_0xb08add;}function attachLongPressHandler(_0x2f2085,_0x2aeb4a){const _0x511f07=a2_0x362d5e;let _0xb70ef8=0x0,_0x5b53c5=null;const _0x30378a=_0x4867f0=>{const _0x44a789=a2_0x58e1;if(_0x4867f0['target'][_0x44a789(0x25b)](_0x44a789(0x1d1)))return;isScrolling=![],_0xb70ef8=_0x4867f0['touches']?_0x4867f0[_0x44a789(0x29d)][0x0][_0x44a789(0x270)]:_0x4867f0['clientY'],_0x5b53c5=setTimeout(()=>{const _0x42fc00=_0x44a789;if(!isScrolling){navigator[_0x42fc00(0x181)]?.(0x32);const _0x41a49b=_0x2f2085[_0x42fc00(0x26c)](),_0x507e80=Math[_0x42fc00(0x175)]((_0xb70ef8-_0x41a49b[_0x42fc00(0x19b)])/GRID_H);_0x2aeb4a[_0x42fc00(0x164)](_0x507e80,0x0),openAddSession(_0x2aeb4a);}},0x1f4);},_0x60ffe=()=>{isScrolling=!![],clearTimeout(_0x5b53c5);},_0x3fc7fc=()=>{clearTimeout(_0x5b53c5);};_0x2f2085[_0x511f07(0x225)]('touchstart',_0x30378a,{'passive':!![]}),_0x2f2085[_0x511f07(0x225)](_0x511f07(0x23c),_0x60ffe,{'passive':!![]}),_0x2f2085[_0x511f07(0x225)]('touchend',_0x3fc7fc),_0x2f2085['addEventListener']('mousedown',_0x30378a),_0x2f2085[_0x511f07(0x225)](_0x511f07(0x263),_0x60ffe),_0x2f2085[_0x511f07(0x225)](_0x511f07(0x1c2),_0x3fc7fc);}function cancelLongPress(){}function a2_0xe1a9(){const _0x40522c=['style','flex','max','clientId','getFullYear','\x20days','getAttribute','peGrid','#gridColumns\x20.day-column','querySelector','stat-','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','complete','\x20-\x20','matrixViewport','btnDelete','syncLoad','msg','asBtnOne','planned','gridColumns','toastMessage','split','total','getTime','Unknown','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','findIndex','[Settings]\x20Cancel\x20window\x20set\x20to:','cancelled','anStart','btn-primary\x20btn-danger','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','none','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','backgroundColor','.day-off-overlay','all','[Notify]\x20Network\x20Failed','de-item','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','then','sort','warning','60837yYwdpk','[Notify]\x20Client\x20SWAP\x20detected','height','saveLocally','uc_settings_cancel_window','\x20‚Äî\x20','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','setHours','splice','data','firstChild','inpRecurring',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','seriesCountContainer','startsWith','localeCompare','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','from','[Notify]\x20Error:\x20sessionData\x20is\x20null','btn-status-toggle\x20undo-mode','Save\x20settings\x20error:',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','router.html','#0a84ff','floor','inpDate','anPercent','catch','rangeEndDate','1154080SZgbnS','recurringOptionContainer','note','actionSheet','charAt','href','Error\x20setting\x20back\x20button:','vibrate',':\x20Client\x20already\x20booked','seriesId','borderLeftColor','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','sessionSheet','9549IngUwU','random','btn-primary\x20btn-secondary','Error\x20setting\x20color:','day-off-overlay\x20stripe-bg','10px','location','value','as-button\x20danger','<b>‚úÖ\x20','getDay','stopPropagation','start','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','now','</span>\x20/\x20','week','doLoadPercent','pattern','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','top','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','forEach','POST','[Notify]\x20Detected\x20Client\x20ID:','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','#fff','inpEnd','innerHTML','</div><div\x20class=\x22ev-time\x22>','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','status','checked','today','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','padStart','setBackgroundColor','parse','</div><div\x20class=\x22dch-num\x22>','clients','className','json','color','inpNote','option','anCustomDates','add','rangesList','as-button\x20danger\x20bold','dateStr','send_notification','–£—Å–ø–µ—à–Ω–æ','100%','00:00','.period-switch\x20.p-btn','setDate','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','getMinutes','mouseup','completed','constructor','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','stringify','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','1631377CWBZvM','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','block','offsetLeft','dayOptionsSheet','.sheet','find','rgba(255,255,255,0.05)','series','.event-card','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','display','toString','length','T23:59:59','disableVerticalSwipes','createElement','getElementById','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','<span>','actionSheetOverlay','asBtnSeries','create','px\x20-','...','v9.0-BATCH-CALENDAR','init_load','client-stat-card','pe-col-header','sid','doBusyHours','width','anTotalStats','user','mergeServerData','warn','textContent','undefined','valid','long','\x20status-completed','filter','.day-col-header','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','background','header-','zIndex','10px\x2010px\x200\x200','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','borderColor','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','anEnd','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','16dbZgsy','month','anDonutCircle','delete','text','search','data-date','260paogpf','rangeEndTime','log','btnStatusToggle','event-card',':00</span>','var(--acc-green)','patternInfoBox','analyticsList','done','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','overlay','px\x200px','WebApp','single','ready','rangeStartDate','getText','div','getDate','classList','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','#050505','off','success','[Series]\x20Skipped\x20','32382zcNeQI','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','getItem','toUpperCase','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','sheetTitle','addEventListener','Batch\x20Sync\x20OK','var(--acc-orange)','data-day-idx','custom','includes','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','backgroundPosition','min','active','map','querySelectorAll','scrollLeft','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','412fdrFPb','[Notify]\x20Server\x20Response:','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','round','setItem','ru-RU','setMonth','cancel','remove','touchmove','calc(','rgba(48,\x20209,\x2088,\x200.15)','scrollWidth','3222360CoiQWK','–ò–Ω—Ñ–æ','syncBatch','analyticsSheet','[Notify]\x20Attempting\x20to\x20send:','formatDate',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','10XvOBPq','getMonth','open','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','slice','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','BackButton','push','end','toFixed','save','scrollTop','uc_clients_v9','patternEditor','asTitle','colIndex','onclick','T00:00:00','settingCancelWindow','clientWidth','closest','indexOf','uc_settings_v9','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','mini','mousemove','%\x20+\x202px)','toast-notification\x20',':00','pe-cell\x20','blocked-slot\x20stripe-bg','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','rgba(255,\x2069,\x2058,\x200.3)','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','getBoundingClientRect','toLocaleDateString','send','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','clientY','rangeStartTime',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','inpSeriesCount','expand','name','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','text/plain;charset=UTF-8','13378yLJmGu','rgba(','dayOptionsTitle','[Notify]\x20Error:\x20Text\x20generation\x20failed','inpClient','error','DOMContentLoaded','day-column\x20','scroll','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','show','day-col-header\x20','[API\x20','null','apply','toastTitle','range-item','numeric','btn-status-toggle','initDataUnsafe','getHours','settingsSheet','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','settings','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','btnDayToggle','inpStart','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','Critical\x20TMA\x20Error:','exceptions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','appendChild','initData','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','touches','save_settings','client','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','(((.+)+)+)+$','toLocaleString','rgba(100,100,100,0.5)','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','setAttribute','[Sync]\x20Loading\x20','ranges','timeColumn','fetchFromServer','<div\x20class=\x22ev-title\x22>','setHeaderColor','update','var(--acc-red)','entries'];a2_0xe1a9=function(){return _0x40522c;};return a2_0xe1a9();}function handleInfiniteScroll(){const _0x5a37b5=a2_0x362d5e,_0x29890d=document[_0x5a37b5(0x1d9)](_0x5a37b5(0x2bd)),_0x24041b=_0x29890d[_0x5a37b5(0x231)],_0x3b6f69=_0x29890d[_0x5a37b5(0x23f)],_0x1eeea2=_0x29890d[_0x5a37b5(0x25a)];if(_0x3b6f69-(_0x24041b+_0x1eeea2)<0x12c){const _0x5017f2=endOffset;endOffset+=0xe,renderDayRange(_0x5017f2+0x1,endOffset),reRenderBlocks();}if(_0x24041b<0x12c){const _0x581445=startOffset;startOffset-=0xe,prependDays(startOffset,_0x581445-0x1),_0x29890d['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x3de5cc,_0x942292){const _0x2a1035=a2_0x362d5e,_0x30e06a=document[_0x2a1035(0x1d9)]('daysHeaderTrack'),_0x383eff=document['getElementById'](_0x2a1035(0x2c3)),_0x4ac351=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x34b4f4=new Date();_0x34b4f4['setHours'](0x0,0x0,0x0,0x0);const _0x420f27=getLocalDateStr(new Date()),_0x2e078=document['createDocumentFragment'](),_0x5cfe28=document['createDocumentFragment']();for(let _0x14aab4=_0x3de5cc;_0x14aab4<=_0x942292;_0x14aab4++){const _0xe78be2=new Date(_0x34b4f4);_0xe78be2[_0x2a1035(0x1bf)](_0xe78be2[_0x2a1035(0x218)]()+_0x14aab4);const _0x5ce1ca=getLocalDateStr(_0xe78be2);let _0x40094b=_0xe78be2[_0x2a1035(0x191)]()-0x1;if(_0x40094b===-0x1)_0x40094b=0x6;const _0x9b3414=_0x5ce1ca===_0x420f27,_0xef710c=document[_0x2a1035(0x1d8)](_0x2a1035(0x217));_0xef710c[_0x2a1035(0x1b0)]=_0x2a1035(0x285)+(_0x9b3414?_0x2a1035(0x1a9):''),_0xef710c['id']=_0x2a1035(0x1f6)+_0x5ce1ca,_0xef710c[_0x2a1035(0x2a5)](_0x2a1035(0x204),_0x5ce1ca),_0xef710c['innerHTML']='<div\x20class=\x22dch-day\x22>'+_0x4ac351[_0x40094b]+_0x2a1035(0x1ae)+_0xe78be2[_0x2a1035(0x218)]()+_0x2a1035(0x260)+_0x5ce1ca+_0x2a1035(0x223),_0xef710c[_0x2a1035(0x257)]=()=>openDayOptions(_0x5ce1ca,_0x4ac351[_0x40094b]+'\x20'+_0xe78be2[_0x2a1035(0x218)]()),_0x2e078[_0x2a1035(0x29a)](_0xef710c);const _0x1928f4=document[_0x2a1035(0x1d8)](_0x2a1035(0x217));_0x1928f4[_0x2a1035(0x1b0)]=_0x2a1035(0x280)+(_0x9b3414?_0x2a1035(0x1a9):''),_0x1928f4[_0x2a1035(0x2a5)](_0x2a1035(0x204),_0x5ce1ca),_0x1928f4['setAttribute']('data-day-idx',_0x40094b),renderEventsForColumn(_0x1928f4,_0x5ce1ca,_0x40094b),attachLongPressHandler(_0x1928f4,_0xe78be2),_0x5cfe28['appendChild'](_0x1928f4),updateDayStats(_0x5ce1ca);}_0x30e06a['insertBefore'](_0x2e078,_0x30e06a[_0x2a1035(0x167)]),_0x383eff['insertBefore'](_0x5cfe28,_0x383eff[_0x2a1035(0x2b8)]('.day-column'));}function validateAppointment(_0x356ef4,_0xa0115f,_0x348fa5,_0x5a196a,_0x5141b7){const _0x1d7703=a2_0x362d5e,[_0x306d2c,_0x220ee8]=_0xa0115f[_0x1d7703(0x2c5)](':')[_0x1d7703(0x22f)](Number),[_0x164dcd,_0x195a40]=_0x348fa5['split'](':')[_0x1d7703(0x22f)](Number),_0x32bd9c=_0x306d2c*0x3c+_0x220ee8,_0x325f7d=_0x164dcd*0x3c+_0x195a40,_0x54b0ea=String(_0x5141b7);let _0x330ba8=![],_0xbadf4d='';for(let _0x1c2e7f of sessions){if(_0x1c2e7f[_0x1d7703(0x1b9)]!==_0x356ef4)continue;if(_0x1c2e7f[_0x1d7703(0x1a7)]===_0x1d7703(0x2cc))continue;if(_0x5a196a&&String(_0x1c2e7f['id'])===String(_0x5a196a))continue;const [_0x5daa3e,_0x30125b]=_0x1c2e7f[_0x1d7703(0x193)][_0x1d7703(0x2c5)](':')[_0x1d7703(0x22f)](Number),[_0x4b36ed,_0x7bf52a]=_0x1c2e7f[_0x1d7703(0x24f)][_0x1d7703(0x2c5)](':')[_0x1d7703(0x22f)](Number),_0x11abbf=_0x5daa3e*0x3c+_0x30125b,_0x2f4a70=_0x4b36ed*0x3c+_0x7bf52a;if(Math['max'](_0x32bd9c,_0x11abbf)<Math['min'](_0x325f7d,_0x2f4a70)){if(_0x1c2e7f[_0x1d7703(0x2b2)]&&String(_0x1c2e7f[_0x1d7703(0x2b2)])===_0x54b0ea)return{'valid':![],'msg':_0x1d7703(0x19c)+_0x1c2e7f['client']+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x330ba8=!![],_0xbadf4d=_0x1c2e7f[_0x1d7703(0x29f)];}}if(_0x330ba8)return{'valid':!![],'warning':_0x1d7703(0x277)+_0xbadf4d};return{'valid':!![]};}function updateDateDisplay(){const _0x18872b=a2_0x362d5e,_0x138f37=document['getElementById'](_0x18872b(0x176))[_0x18872b(0x18e)],_0x506fbf=document[_0x18872b(0x1d9)]('sheetDateSubtitle');if(!_0x138f37){_0x506fbf[_0x18872b(0x1ec)]='';return;}const [_0x587f5e,_0xb1298,_0x4470ac]=_0x138f37[_0x18872b(0x2c5)]('-')[_0x18872b(0x22f)](Number),_0x571aaf=new Date(_0x587f5e,_0xb1298-0x1,_0x4470ac),_0xdbdf51={'weekday':_0x18872b(0x1ef),'day':'numeric','month':_0x18872b(0x1ef),'year':'numeric'};let _0x8e2c89=_0x571aaf[_0x18872b(0x26d)](_0x18872b(0x238),_0xdbdf51);_0x8e2c89=_0x8e2c89[_0x18872b(0x17e)](0x0)[_0x18872b(0x222)]()+_0x8e2c89[_0x18872b(0x24b)](0x1),_0x506fbf[_0x18872b(0x1ec)]=_0x8e2c89;}function autoSetEndTime(){const _0x5b5d9e=a2_0x362d5e,_0x1e2b5d=document[_0x5b5d9e(0x1d9)](_0x5b5d9e(0x294))['value'];if(!_0x1e2b5d)return;const [_0x5b41d6,_0x1d12b4]=_0x1e2b5d[_0x5b5d9e(0x2c5)](':')['map'](Number);let _0x5f5b1b=_0x5b41d6+0x1;if(_0x5f5b1b>0x17)_0x5f5b1b=0x0;const _0x10d86f=String(_0x5f5b1b)[_0x5b5d9e(0x1ab)](0x2,'0')+':'+String(_0x1d12b4)[_0x5b5d9e(0x1ab)](0x2,'0');document[_0x5b5d9e(0x1d9)](_0x5b5d9e(0x1a2))['value']=_0x10d86f;}function populateClientSelect(){const _0x28c84d=a2_0x362d5e,_0x1c5d85=document[_0x28c84d(0x1d9)](_0x28c84d(0x27d));_0x1c5d85[_0x28c84d(0x1a3)]='';if(clients[_0x28c84d(0x1d5)]===0x0){const _0x5a41cf=document['createElement'](_0x28c84d(0x1b4));_0x5a41cf[_0x28c84d(0x202)]=_0x28c84d(0x1f9),_0x1c5d85[_0x28c84d(0x29a)](_0x5a41cf);return;}clients[_0x28c84d(0x19d)](_0xc154b1=>{const _0x3dd2f2=_0x28c84d,_0x5c56e8=document[_0x3dd2f2(0x1d8)](_0x3dd2f2(0x1b4));_0x5c56e8[_0x3dd2f2(0x18e)]=_0xc154b1[_0x3dd2f2(0x275)],_0x5c56e8[_0x3dd2f2(0x1ec)]=_0xc154b1['name'],_0x1c5d85['appendChild'](_0x5c56e8);});}function openActionSheet(_0xec8253){const _0x5f00ee=a2_0x362d5e,_0x415874=document[_0x5f00ee(0x1d9)](_0x5f00ee(0x17d)),_0x580301=document[_0x5f00ee(0x1d9)]('actionSheetOverlay'),_0x2591b7=document[_0x5f00ee(0x1d9)](_0x5f00ee(0x255)),_0x1ed6b6=document['getElementById'](_0x5f00ee(0x2c1)),_0x3ceea6=document[_0x5f00ee(0x1d9)](_0x5f00ee(0x1dd));_0x580301['classList'][_0x5f00ee(0x1b6)]('active'),_0x415874[_0x5f00ee(0x219)]['add']('open');if(_0xec8253===_0x5f00ee(0x251))_0x2591b7[_0x5f00ee(0x1ec)]=_0x5f00ee(0x163),_0x1ed6b6[_0x5f00ee(0x1ec)]=_0x5f00ee(0x25f),_0x1ed6b6[_0x5f00ee(0x257)]=()=>{closeActionSheet(),updateSeriesBatch('single',tempSessionData);},_0x3ceea6[_0x5f00ee(0x1ec)]='–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ',_0x3ceea6[_0x5f00ee(0x257)]=()=>{const _0x3b555d=_0x5f00ee;closeActionSheet(),updateSeriesBatch(_0x3b555d(0x1d0),tempSessionData);};else _0xec8253==='delete'&&(_0x2591b7[_0x5f00ee(0x1ec)]='–£–¥–∞–ª–µ–Ω–∏–µ',_0x1ed6b6[_0x5f00ee(0x1ec)]=_0x5f00ee(0x25f),_0x1ed6b6['className']=_0x5f00ee(0x18f),_0x1ed6b6[_0x5f00ee(0x257)]=()=>{const _0x4232d0=_0x5f00ee;closeActionSheet(),commitDelete(_0x4232d0(0x213),sessions[_0x4232d0(0x1ce)](_0x235004=>_0x235004['id']===editingId));},_0x3ceea6[_0x5f00ee(0x1ec)]=_0x5f00ee(0x220),_0x3ceea6[_0x5f00ee(0x1b0)]=_0x5f00ee(0x1b8),_0x3ceea6[_0x5f00ee(0x257)]=()=>{const _0x1f0282=_0x5f00ee;closeActionSheet(),commitDelete(_0x1f0282(0x1d0),sessions[_0x1f0282(0x1ce)](_0x3fff4e=>_0x3fff4e['id']===editingId));});}function closeActionSheet(){const _0x4eb355=a2_0x362d5e;document[_0x4eb355(0x1d9)](_0x4eb355(0x17d))['classList'][_0x4eb355(0x23b)](_0x4eb355(0x249)),document['getElementById'](_0x4eb355(0x1dc))[_0x4eb355(0x219)][_0x4eb355(0x23b)](_0x4eb355(0x22e));}function openSettings(){const _0x148f20=a2_0x362d5e;openSheet(_0x148f20(0x28f));}function saveCoachSettings(){const _0x198afb=a2_0x362d5e,_0x31f0e0=document[_0x198afb(0x1d9)]('settingCancelWindow')[_0x198afb(0x18e)];localStorage['setItem'](_0x198afb(0x161),_0x31f0e0),console[_0x198afb(0x207)](_0x198afb(0x2cb),_0x31f0e0),DataManager[_0x198afb(0x2a9)](_0x198afb(0x29e),{'settings':{'cancel_window':_0x31f0e0}})[_0x198afb(0x178)](_0x32d7b2=>{const _0x3f98be=_0x198afb;console[_0x3f98be(0x27e)](_0x3f98be(0x171),_0x32d7b2),showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫',![]);});}function loadCoachSettings(){const _0x4eced3=a2_0x362d5e,_0xf9cab9=localStorage['getItem'](_0x4eced3(0x161));_0xf9cab9&&(document[_0x4eced3(0x1d9)](_0x4eced3(0x259))[_0x4eced3(0x18e)]=_0xf9cab9);}function openRangesSheet(){closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet('rangesSheet');}function addRange(){const _0x2311b0=a2_0x362d5e,_0xc6df5d=document[_0x2311b0(0x1d9)](_0x2311b0(0x215))[_0x2311b0(0x18e)],_0x2ee0a9=document[_0x2311b0(0x1d9)](_0x2311b0(0x271))[_0x2311b0(0x18e)],_0x348bf9=document[_0x2311b0(0x1d9)](_0x2311b0(0x179))[_0x2311b0(0x18e)],_0x2fb296=document[_0x2311b0(0x1d9)](_0x2311b0(0x206))[_0x2311b0(0x18e)];if(!_0xc6df5d||!_0x2ee0a9||!_0x348bf9||!_0x2fb296)return alert(_0x2311b0(0x1a5));const _0x3d22dd=_0xc6df5d+'T'+_0x2ee0a9,_0xf4a260=_0x348bf9+'T'+_0x2fb296;if(_0x3d22dd>=_0xf4a260)return alert('–û—à–∏–±–∫–∞\x20–¥–∞—Ç');specialRanges[_0x2311b0(0x24e)]({'start':_0x3d22dd,'end':_0xf4a260}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x2311b0(0x160)](),DataManager[_0x2311b0(0x2a9)](_0x2311b0(0x29e),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x5c7e58){const _0x2a9b66=a2_0x362d5e;specialRanges[_0x2a9b66(0x165)](_0x5c7e58,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x2a9b66(0x160)](),DataManager[_0x2a9b66(0x2a9)](_0x2a9b66(0x29e),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x28adbf=a2_0x362d5e;document[_0x28adbf(0x1d9)](_0x28adbf(0x215))[_0x28adbf(0x18e)]='',document['getElementById'](_0x28adbf(0x271))['value']=_0x28adbf(0x1bd),document[_0x28adbf(0x1d9)](_0x28adbf(0x179))['value']='',document[_0x28adbf(0x1d9)](_0x28adbf(0x206))['value']='23:59';}function renderRangesList(){const _0x29977c=a2_0x362d5e,_0x3b1993=document[_0x29977c(0x1d9)](_0x29977c(0x1b7));_0x3b1993['innerHTML']='';if(!specialRanges[_0x29977c(0x1d5)]){_0x3b1993[_0x29977c(0x1a3)]=_0x29977c(0x292);return;}specialRanges[_0x29977c(0x19d)]((_0x479014,_0x255592)=>{const _0x3ec69f=_0x29977c,_0x42d953=document['createElement'](_0x3ec69f(0x217));_0x42d953['className']=_0x3ec69f(0x28a);const _0x40e27e=_0x56f939=>{const _0xbfed16=_0x3ec69f,_0x24c646=new Date(_0x56f939);return _0x24c646['getDate']()+'.'+String(_0x24c646['getMonth']()+0x1)[_0xbfed16(0x1ab)](0x2,'0')+'\x20'+String(_0x24c646[_0xbfed16(0x28e)]())['padStart'](0x2,'0')+':'+String(_0x24c646[_0xbfed16(0x1c1)]())[_0xbfed16(0x1ab)](0x2,'0');};_0x42d953[_0x3ec69f(0x1a3)]=_0x3ec69f(0x1f3)+_0x40e27e(_0x479014['start'])+_0x3ec69f(0x162)+_0x40e27e(_0x479014['end'])+_0x3ec69f(0x2ba)+_0x255592+_0x3ec69f(0x246),_0x3b1993[_0x3ec69f(0x29a)](_0x42d953);});}function scrollToToday(){const _0x4ef337=a2_0x362d5e,_0x383bc6=getLocalDateStr(new Date()),_0x1d64ac=document[_0x4ef337(0x1d9)]('header-'+_0x383bc6),_0x391f18=document[_0x4ef337(0x1d9)]('matrixViewport');if(_0x1d64ac&&_0x391f18){const _0x4e36de=_0x391f18[_0x4ef337(0x25a)],_0x1ea5ff=_0x1d64ac[_0x4ef337(0x1cb)],_0x214072=_0x1d64ac['offsetWidth'];_0x391f18[_0x4ef337(0x231)]=_0x1ea5ff-_0x4e36de/0x2+_0x214072/0x2,_0x391f18[_0x4ef337(0x252)]=0x9*GRID_H;}}function onScroll(){const _0x4ba9c1=a2_0x362d5e,_0x577f6a=document[_0x4ba9c1(0x1d9)](_0x4ba9c1(0x2bd)),_0x363a8e=document[_0x4ba9c1(0x230)](_0x4ba9c1(0x1f2));for(let _0x425c7d of _0x363a8e)if(_0x425c7d[_0x4ba9c1(0x1cb)]>=_0x577f6a[_0x4ba9c1(0x231)]){const _0x1f7c20=new Date(_0x425c7d[_0x4ba9c1(0x2b5)](_0x4ba9c1(0x204)));document[_0x4ba9c1(0x1d9)]('headerMonth')[_0x4ba9c1(0x1ec)]=_0x1f7c20[_0x4ba9c1(0x2a2)]('ru',{'month':_0x4ba9c1(0x1ef)})[_0x4ba9c1(0x222)]()+'\x20'+_0x1f7c20[_0x4ba9c1(0x2b3)]();break;}}function showToast(_0x40c5c6,_0x5d715a=![]){const _0x4bf4f9=a2_0x362d5e,_0x3f58f0=document[_0x4bf4f9(0x1d9)]('toast');_0x3f58f0[_0x4bf4f9(0x1b0)]=_0x4bf4f9(0x265)+(_0x5d715a?_0x4bf4f9(0x21d):''),document[_0x4bf4f9(0x1d9)](_0x4bf4f9(0x289))[_0x4bf4f9(0x1ec)]=_0x5d715a?_0x4bf4f9(0x1bb):_0x4bf4f9(0x241),document[_0x4bf4f9(0x1d9)](_0x4bf4f9(0x2c4))[_0x4bf4f9(0x1ec)]=_0x40c5c6,_0x3f58f0[_0x4bf4f9(0x219)][_0x4bf4f9(0x1b6)]('show'),setTimeout(()=>{const _0x1aa2a8=_0x4bf4f9;_0x3f58f0[_0x1aa2a8(0x219)][_0x1aa2a8(0x23b)](_0x1aa2a8(0x284));},0xbb8);}function openDayOptions(_0x2f934d,_0x163e84){const _0x195e96=a2_0x362d5e;selectedDayForOptions=_0x2f934d,document[_0x195e96(0x1d9)](_0x195e96(0x27b))[_0x195e96(0x1ec)]=_0x163e84,openSheet(_0x195e96(0x1cc));}function toggleDayOff(){const _0x3f42ea=a2_0x362d5e;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x3f42ea(0x21c),reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager[_0x3f42ea(0x2a9)]('save_settings',{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x9aefe2=a2_0x362d5e;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x9aefe2(0x160)](),DataManager[_0x9aefe2(0x2a9)](_0x9aefe2(0x29e),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x3e8b3a){const _0x21815b=a2_0x362d5e;document[_0x21815b(0x1d9)](_0x21815b(0x210))[_0x21815b(0x219)][_0x21815b(0x1b6)](_0x21815b(0x22e)),document[_0x21815b(0x1d9)](_0x3e8b3a)[_0x21815b(0x219)][_0x21815b(0x1b6)](_0x21815b(0x249));}function closeAllSheets(){const _0x22a8d5=a2_0x362d5e;document[_0x22a8d5(0x1d9)](_0x22a8d5(0x210))['classList'][_0x22a8d5(0x23b)](_0x22a8d5(0x22e)),document[_0x22a8d5(0x230)](_0x22a8d5(0x1cd))[_0x22a8d5(0x19d)](_0x385e01=>_0x385e01[_0x22a8d5(0x219)]['remove']('open'));}function openPatternEditor(){const _0x9c5634=a2_0x362d5e;closeAllSheets(),document[_0x9c5634(0x1d9)](_0x9c5634(0x254))[_0x9c5634(0x219)][_0x9c5634(0x1b6)]('open'),renderPatternEditor();}function closePatternEditor(){const _0x7790e9=a2_0x362d5e;document[_0x7790e9(0x1d9)](_0x7790e9(0x254))['classList']['remove'](_0x7790e9(0x249));}function savePattern(){const _0x1ec3d9=a2_0x362d5e;document[_0x1ec3d9(0x1d9)](_0x1ec3d9(0x254))[_0x1ec3d9(0x219)][_0x1ec3d9(0x23b)]('open'),reRenderBlocks(),DataManager[_0x1ec3d9(0x160)](),DataManager[_0x1ec3d9(0x2a9)](_0x1ec3d9(0x29e),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x3ef491=a2_0x362d5e,_0x23b1bd=document['getElementById'](_0x3ef491(0x2b6));_0x23b1bd[_0x3ef491(0x1a3)]='';const _0x2c59c1=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0xcaabcf=document[_0x3ef491(0x1d8)](_0x3ef491(0x217));_0xcaabcf['className']='pe-corner',_0x23b1bd[_0x3ef491(0x29a)](_0xcaabcf),_0x2c59c1['forEach']((_0x1e1afb,_0x5d0087)=>{const _0x574cec=_0x3ef491,_0x1ec72c=document[_0x574cec(0x1d8)](_0x574cec(0x217));_0x1ec72c[_0x574cec(0x1b0)]=_0x574cec(0x1e4),_0x1ec72c[_0x574cec(0x1a3)]=_0x1e1afb+_0x574cec(0x1fb),_0x1ec72c[_0x574cec(0x257)]=()=>toggleColPattern(_0x5d0087),_0x23b1bd[_0x574cec(0x29a)](_0x1ec72c);});for(let _0x435842=0x0;_0x435842<0x18;_0x435842++){const _0x417499=document[_0x3ef491(0x1d8)]('div');_0x417499[_0x3ef491(0x1b0)]='pe-time-label',_0x417499[_0x3ef491(0x1a3)]=_0x3ef491(0x2a0)+String(_0x435842)[_0x3ef491(0x1ab)](0x2,'0')+_0x3ef491(0x266),_0x417499[_0x3ef491(0x257)]=()=>toggleRowPattern(_0x435842),_0x23b1bd[_0x3ef491(0x29a)](_0x417499);for(let _0xac747e=0x0;_0xac747e<0x7;_0xac747e++){const _0x218240=document[_0x3ef491(0x1d8)](_0x3ef491(0x217)),_0x462b0c=(availabilityPattern[_0xac747e]||[])['includes'](_0x435842),_0x4491de=!_0x462b0c;_0x218240[_0x3ef491(0x1b0)]=_0x3ef491(0x267)+(_0x4491de?_0x3ef491(0x22e):''),_0x218240[_0x3ef491(0x257)]=()=>toggleSinglePattern(_0xac747e,_0x435842),_0x23b1bd[_0x3ef491(0x29a)](_0x218240);}}}function toggleSinglePattern(_0x1bd631,_0xa9a8de){const _0x16957d=a2_0x362d5e;if(!availabilityPattern[_0x1bd631])availabilityPattern[_0x1bd631]=[];const _0x3c6815=availabilityPattern[_0x1bd631],_0x44c10f=_0x3c6815[_0x16957d(0x25c)](_0xa9a8de);_0x44c10f===-0x1?_0x3c6815[_0x16957d(0x24e)](_0xa9a8de):_0x3c6815[_0x16957d(0x165)](_0x44c10f,0x1),renderPatternEditor();}function toggleColPattern(_0x1f4368){const _0x2cefc3=a2_0x362d5e;if(!availabilityPattern[_0x1f4368])availabilityPattern[_0x1f4368]=[];const _0x382567=availabilityPattern[_0x1f4368];_0x382567[_0x2cefc3(0x1d5)]===0x0?availabilityPattern[_0x1f4368]=Array[_0x2cefc3(0x16e)]({'length':0x18},(_0xbb11b3,_0x1dfa0f)=>_0x1dfa0f):availabilityPattern[_0x1f4368]=[],renderPatternEditor();}function toggleRowPattern(_0x34c064){const _0x3cea30=a2_0x362d5e;let _0x3d4124=!![];for(let _0x5b209f=0x0;_0x5b209f<0x7;_0x5b209f++){if((availabilityPattern[_0x5b209f]||[])[_0x3cea30(0x22a)](_0x34c064)){_0x3d4124=![];break;}}for(let _0x494f54=0x0;_0x494f54<0x7;_0x494f54++){if(!availabilityPattern[_0x494f54])availabilityPattern[_0x494f54]=[];const _0x3d99da=availabilityPattern[_0x494f54][_0x3cea30(0x25c)](_0x34c064);if(_0x3d4124){if(_0x3d99da===-0x1)availabilityPattern[_0x494f54]['push'](_0x34c064);}else{if(_0x3d99da!==-0x1)availabilityPattern[_0x494f54][_0x3cea30(0x165)](_0x3d99da,0x1);}}renderPatternEditor();}function renderPCol(_0x27c747,_0x8273a4){const _0x22d0c2=a2_0x362d5e;_0x27c747[_0x22d0c2(0x1a3)]='';const _0x2ed666=Math['round'](_0x27c747[_0x22d0c2(0x1cb)]);(availabilityPattern[_0x8273a4]||[])[_0x22d0c2(0x19d)](_0x1667de=>{const _0x321738=_0x22d0c2,_0x1c95fb=document[_0x321738(0x1d8)]('div');_0x1c95fb[_0x321738(0x1b0)]=_0x321738(0x268);const _0x4c28a8=_0x1667de*GRID_H;_0x1c95fb[_0x321738(0x2af)]['top']=_0x4c28a8+'px',_0x1c95fb['style'][_0x321738(0x22c)]='-'+_0x2ed666+_0x321738(0x1df)+_0x4c28a8+'px',_0x1c95fb[_0x321738(0x257)]=_0x2309fd=>{const _0x59eecc=_0x321738;_0x2309fd[_0x59eecc(0x192)](),toggleSinglePattern(_0x8273a4,_0x1667de);},_0x27c747[_0x321738(0x29a)](_0x1c95fb);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0xd3a2b7=a2_0x362d5e,_0x4092d1=new Date(),_0x385350=document[_0xd3a2b7(0x1d9)]('globalTimeLine'),_0x3ee09e=document[_0xd3a2b7(0x1d9)]('timeLineBadge'),_0x14f1ce=(_0x4092d1[_0xd3a2b7(0x28e)]()*0x3c+_0x4092d1[_0xd3a2b7(0x1c1)]())/0x3c*GRID_H;_0x385350['style'][_0xd3a2b7(0x19b)]=_0x14f1ce+'px',_0x385350[_0xd3a2b7(0x2af)][_0xd3a2b7(0x1d3)]=_0xd3a2b7(0x1ca),_0x3ee09e[_0xd3a2b7(0x1ec)]=String(_0x4092d1['getHours']())[_0xd3a2b7(0x1ab)](0x2,'0')+':'+String(_0x4092d1['getMinutes']())[_0xd3a2b7(0x1ab)](0x2,'0'),_0x3ee09e[_0xd3a2b7(0x2af)][_0xd3a2b7(0x1d3)]=_0xd3a2b7(0x1ca),_0x3ee09e[_0xd3a2b7(0x2af)][_0xd3a2b7(0x19b)]=_0x14f1ce+'px';}document[a2_0x362d5e(0x225)](a2_0x362d5e(0x27f),init);function openDayOptions(_0x4fe50d){const _0x536133=a2_0x362d5e;selectedDayForOptions=_0x4fe50d;const _0x719a76=new Date(_0x4fe50d),_0x2cde75={'weekday':_0x536133(0x1ef),'day':_0x536133(0x28b),'month':_0x536133(0x1ef),'year':_0x536133(0x28b)},_0x5b6a84=_0x719a76[_0x536133(0x26d)](_0x536133(0x238),_0x2cde75);document[_0x536133(0x1d9)]('doDateHeader')[_0x536133(0x1ec)]=_0x5b6a84[_0x536133(0x17e)](0x0)[_0x536133(0x222)]()+_0x5b6a84['slice'](0x1);let _0x20235b=_0x719a76[_0x536133(0x191)]()-0x1;if(_0x20235b===-0x1)_0x20235b=0x6;const _0x59c804=availabilityPattern[_0x20235b]||[],_0x2e7f11=0x18-_0x59c804[_0x536133(0x1d5)],_0x2f70d5=_0x2e7f11*0x3c,_0x145b4b=sessions[_0x536133(0x1f1)](_0x37b665=>_0x37b665[_0x536133(0x1b9)]===_0x4fe50d&&_0x37b665[_0x536133(0x1a7)]!==_0x536133(0x2cc));let _0x2539b8=_0x145b4b[_0x536133(0x22f)](_0x57256d=>{const _0x1743db=_0x536133,[_0x46718c,_0x1e372a]=_0x57256d[_0x1743db(0x193)][_0x1743db(0x2c5)](':')[_0x1743db(0x22f)](Number),[_0x4cd6d5,_0x419954]=_0x57256d['end']['split'](':')['map'](Number);return[_0x46718c*0x3c+_0x1e372a,_0x4cd6d5*0x3c+_0x419954];});_0x2539b8[_0x536133(0x15b)]((_0x43ad40,_0x330aa8)=>_0x43ad40[0x0]-_0x330aa8[0x0]);let _0x43b83c=[];if(_0x2539b8[_0x536133(0x1d5)]>0x0){let _0x11b1b3=_0x2539b8[0x0];for(let _0x2e4afb=0x1;_0x2e4afb<_0x2539b8[_0x536133(0x1d5)];_0x2e4afb++){_0x2539b8[_0x2e4afb][0x0]<_0x11b1b3[0x1]?_0x11b1b3[0x1]=Math['max'](_0x11b1b3[0x1],_0x2539b8[_0x2e4afb][0x1]):(_0x43b83c[_0x536133(0x24e)](_0x11b1b3),_0x11b1b3=_0x2539b8[_0x2e4afb]);}_0x43b83c[_0x536133(0x24e)](_0x11b1b3);}let _0x4dff8d=0x0;_0x43b83c[_0x536133(0x19d)](_0x2a0f80=>_0x4dff8d+=_0x2a0f80[0x1]-_0x2a0f80[0x0]),document[_0x536133(0x1d9)]('doWorkHours')[_0x536133(0x1ec)]=formatMinsToHrs(_0x2f70d5),document['getElementById'](_0x536133(0x1e6))[_0x536133(0x1ec)]=formatMinsToHrs(_0x4dff8d);const _0xcf7a96=_0x2f70d5>0x0?Math[_0x536133(0x236)](_0x4dff8d/_0x2f70d5*0x64):0x0,_0x18cfe5=document[_0x536133(0x1d9)](_0x536133(0x198));_0x18cfe5[_0x536133(0x1ec)]=_0xcf7a96+'%';const _0x52525b=document['getElementById']('statLoadCard');if(_0xcf7a96>0x64)_0x18cfe5[_0x536133(0x2af)][_0x536133(0x1b2)]='var(--acc-red)',_0x52525b[_0x536133(0x2af)][_0x536133(0x1fa)]=_0x536133(0x26a);else _0xcf7a96>0x50?(_0x18cfe5[_0x536133(0x2af)][_0x536133(0x1b2)]=_0x536133(0x227),_0x52525b['style'][_0x536133(0x1fa)]='rgba(255,\x20159,\x2010,\x200.3)'):(_0x18cfe5[_0x536133(0x2af)][_0x536133(0x1b2)]=_0x536133(0x20b),_0x52525b['style'][_0x536133(0x1fa)]=_0x536133(0x1cf));const _0x26b4cf=document[_0x536133(0x1d9)]('doEventsList');_0x26b4cf[_0x536133(0x1a3)]='';_0x145b4b[_0x536133(0x1d5)]===0x0?_0x26b4cf[_0x536133(0x1a3)]=_0x536133(0x1d2):(_0x145b4b[_0x536133(0x15b)]((_0x43fe85,_0x5edc83)=>_0x43fe85[_0x536133(0x193)][_0x536133(0x16c)](_0x5edc83[_0x536133(0x193)])),_0x145b4b[_0x536133(0x19d)](_0x3eabd1=>{const _0x372cfa=_0x536133,_0x36f102=clients[_0x372cfa(0x1ce)](_0x4950bb=>_0x4950bb[_0x372cfa(0x275)]===_0x3eabd1[_0x372cfa(0x29f)]),_0x52b8f5=_0x36f102?_0x36f102['color']:_0x372cfa(0x1a1),_0x585f34=_0x3eabd1[_0x372cfa(0x1a7)]==='completed',_0x29bb83=_0x585f34?_0x372cfa(0x26f):'',_0x213352=document[_0x372cfa(0x1d8)]('div');_0x213352[_0x372cfa(0x1b0)]=_0x372cfa(0x158),_0x213352[_0x372cfa(0x2af)][_0x372cfa(0x184)]=_0x52b8f5,_0x213352['innerHTML']=_0x372cfa(0x299)+_0x3eabd1['start']+_0x372cfa(0x2bc)+_0x3eabd1[_0x372cfa(0x24f)]+_0x372cfa(0x1a6)+_0x3eabd1['client']+_0x372cfa(0x298)+_0x29bb83+_0x372cfa(0x2d1),_0x26b4cf['appendChild'](_0x213352);}));const _0x4da860=document[_0x536133(0x1d9)](_0x536133(0x293)),_0x3ed0b2=dateExceptions[_0x4fe50d]===_0x536133(0x21c);_0x3ed0b2?(_0x4da860[_0x536133(0x1ec)]=_0x536133(0x24c),_0x4da860[_0x536133(0x1b0)]=_0x536133(0x189),_0x4da860[_0x536133(0x2af)][_0x536133(0x1b2)]=_0x536133(0x20b),_0x4da860[_0x536133(0x2af)][_0x536133(0x1f5)]=_0x536133(0x23e)):(_0x4da860[_0x536133(0x1ec)]=_0x536133(0x21a),_0x4da860[_0x536133(0x1b0)]=_0x536133(0x2ce),_0x4da860[_0x536133(0x2af)][_0x536133(0x1b2)]=_0x536133(0x2ad),_0x4da860[_0x536133(0x2af)][_0x536133(0x1f5)]='rgba(255,\x2069,\x2058,\x200.15)'),openSheet(_0x536133(0x1cc));}let currentAnPeriod='week';function openAnalytics(){const _0xd303d9=a2_0x362d5e,_0x5092f9=document[_0xd303d9(0x2b8)](_0xd303d9(0x1be));setAnalyticsPeriod(_0xd303d9(0x197),_0x5092f9),closeAllSheets(),openSheet(_0xd303d9(0x243));}function setAnalyticsPeriod(_0x4e3eb8,_0x2f16a5){const _0x283da4=a2_0x362d5e;currentAnPeriod=_0x4e3eb8,document[_0x283da4(0x230)](_0x283da4(0x1be))[_0x283da4(0x19d)](_0x61a35f=>_0x61a35f['classList'][_0x283da4(0x23b)](_0x283da4(0x22e)));if(_0x2f16a5)_0x2f16a5[_0x283da4(0x219)]['add']('active');const _0x3ef9ec=document['getElementById'](_0x283da4(0x1b5));_0x3ef9ec[_0x283da4(0x2af)][_0x283da4(0x1d3)]=_0x4e3eb8===_0x283da4(0x229)?'flex':_0x283da4(0x2d0);const _0x2d99fb=new Date();let _0x11b252=new Date(),_0x52609f=new Date();if(_0x4e3eb8===_0x283da4(0x197))_0x11b252=getStartOfWeek(_0x2d99fb),_0x52609f=new Date(_0x11b252),_0x52609f['setDate'](_0x52609f[_0x283da4(0x218)]()+0x6);else{if(_0x4e3eb8===_0x283da4(0x1ff))_0x11b252=new Date(_0x2d99fb['getFullYear'](),_0x2d99fb[_0x283da4(0x248)](),0x1),_0x52609f=new Date(_0x2d99fb[_0x283da4(0x2b3)](),_0x2d99fb[_0x283da4(0x248)]()+0x1,0x0);else{!document[_0x283da4(0x1d9)](_0x283da4(0x2cd))[_0x283da4(0x18e)]&&(document['getElementById'](_0x283da4(0x2cd))[_0x283da4(0x18e)]=getLocalDateStr(_0x2d99fb),document[_0x283da4(0x1d9)]('anEnd')['value']=getLocalDateStr(_0x2d99fb));refreshAnalytics();return;}}document['getElementById'](_0x283da4(0x2cd))[_0x283da4(0x18e)]=getLocalDateStr(_0x11b252),document[_0x283da4(0x1d9)](_0x283da4(0x1fc))[_0x283da4(0x18e)]=getLocalDateStr(_0x52609f),refreshAnalytics();}function a2_0x58e1(_0x6f970a,_0x636f58){_0x6f970a=_0x6f970a-0x153;const _0x5ae15a=a2_0xe1a9();let _0x1254e0=_0x5ae15a[_0x6f970a];return _0x1254e0;}function refreshAnalytics(){const _0x3b12cc=a2_0x362d5e,_0x1b6b70=document[_0x3b12cc(0x1d9)](_0x3b12cc(0x2cd))[_0x3b12cc(0x18e)],_0x4a6bd4=document[_0x3b12cc(0x1d9)](_0x3b12cc(0x1fc))[_0x3b12cc(0x18e)];if(!_0x1b6b70||!_0x4a6bd4)return;const _0x12a9f7=sessions['filter'](_0x318171=>_0x318171[_0x3b12cc(0x1b9)]>=_0x1b6b70&&_0x318171[_0x3b12cc(0x1b9)]<=_0x4a6bd4&&_0x318171['status']!=='cancelled'),_0x5f2d1e=_0x12a9f7[_0x3b12cc(0x1d5)],_0x332778=_0x12a9f7['filter'](_0x195040=>_0x195040[_0x3b12cc(0x1a7)]===_0x3b12cc(0x1c3))[_0x3b12cc(0x1d5)],_0x37e646=_0x5f2d1e>0x0?Math[_0x3b12cc(0x236)](_0x332778/_0x5f2d1e*0x64):0x0;document[_0x3b12cc(0x1d9)](_0x3b12cc(0x177))['textContent']=_0x37e646+'%',document[_0x3b12cc(0x1d9)](_0x3b12cc(0x1e8))['textContent']=_0x332778+'\x20–∏–∑\x20'+_0x5f2d1e+_0x3b12cc(0x2cf);const _0x3ffeed=document[_0x3b12cc(0x1d9)](_0x3b12cc(0x200)),_0x2c12a3=0x2*Math['PI']*0x23,_0x5dbfc3=_0x2c12a3-_0x37e646/0x64*_0x2c12a3;_0x3ffeed['style']['strokeDashoffset']=_0x5dbfc3;const _0x3fe481={};_0x12a9f7[_0x3b12cc(0x19d)](_0x5981d9=>{const _0xf0ffa9=_0x3b12cc;if(!_0x3fe481[_0x5981d9[_0xf0ffa9(0x29f)]]){const _0x17a24f=clients[_0xf0ffa9(0x1ce)](_0x25f243=>_0x25f243[_0xf0ffa9(0x275)]===_0x5981d9[_0xf0ffa9(0x29f)]);_0x3fe481[_0x5981d9['client']]={'total':0x0,'done':0x0,'color':_0x17a24f?_0x17a24f[_0xf0ffa9(0x1b2)]:_0xf0ffa9(0x1a1)};}_0x3fe481[_0x5981d9['client']][_0xf0ffa9(0x2c6)]++;if(_0x5981d9['status']===_0xf0ffa9(0x1c3))_0x3fe481[_0x5981d9['client']]['done']++;});const _0x149723=document['getElementById'](_0x3b12cc(0x20d));_0x149723[_0x3b12cc(0x1a3)]='';const _0x34bf01=Object[_0x3b12cc(0x2ae)](_0x3fe481)[_0x3b12cc(0x15b)]((_0x12e953,_0xd15afe)=>_0xd15afe[0x1]['total']-_0x12e953[0x1][_0x3b12cc(0x2c6)]);if(_0x34bf01[_0x3b12cc(0x1d5)]===0x0){_0x149723[_0x3b12cc(0x1a3)]=_0x3b12cc(0x153);return;}_0x34bf01['forEach'](([_0x114205,_0x1b39f7])=>{const _0x467e56=_0x3b12cc,_0x49ae12=Math['round'](_0x1b39f7[_0x467e56(0x20e)]/_0x1b39f7[_0x467e56(0x2c6)]*0x64),_0x324553=document['createElement'](_0x467e56(0x217));_0x324553[_0x467e56(0x1b0)]=_0x467e56(0x1e3),_0x324553[_0x467e56(0x2af)][_0x467e56(0x184)]=_0x1b39f7[_0x467e56(0x1b2)],_0x324553['innerHTML']=_0x467e56(0x1fd)+_0x114205+_0x467e56(0x2c9)+_0x1b39f7[_0x467e56(0x20e)]+_0x467e56(0x196)+_0x1b39f7[_0x467e56(0x2c6)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x49ae12+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x149723[_0x467e56(0x29a)](_0x324553);});}function formatMinsToHrs(_0x89e68e){const _0x57cace=a2_0x362d5e;if(_0x89e68e===0x0)return'0';const _0x1594fb=Math[_0x57cace(0x175)](_0x89e68e/0x3c),_0x5c9665=_0x89e68e%0x3c;if(_0x5c9665===0x0)return _0x1594fb+'—á';return _0x1594fb+'—á\x20'+_0x5c9665+'–º';}