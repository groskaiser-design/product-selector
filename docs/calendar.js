const a2_0x571da2=a2_0xca3a;(function(_0x4b31c4,_0x3895ed){const _0x253a27=a2_0xca3a,_0x535c0e=_0x4b31c4();while(!![]){try{const _0x8387df=-parseInt(_0x253a27(0x292))/0x1*(parseInt(_0x253a27(0x2c7))/0x2)+parseInt(_0x253a27(0x1ad))/0x3*(parseInt(_0x253a27(0x294))/0x4)+-parseInt(_0x253a27(0x323))/0x5+parseInt(_0x253a27(0x235))/0x6*(parseInt(_0x253a27(0x2fa))/0x7)+-parseInt(_0x253a27(0x1f6))/0x8+parseInt(_0x253a27(0x312))/0x9*(parseInt(_0x253a27(0x256))/0xa)+parseInt(_0x253a27(0x1bb))/0xb*(parseInt(_0x253a27(0x1fe))/0xc);if(_0x8387df===_0x3895ed)break;else _0x535c0e['push'](_0x535c0e['shift']());}catch(_0x548262){_0x535c0e['push'](_0x535c0e['shift']());}}}(a2_0x2cfe,0x1fd05),function initTMA(){const _0x4154cf=a2_0xca3a,_0x5d6b6b=(function(){let _0x16b433=!![];return function(_0x1a3eb2,_0x33f3db){const _0x1ede47=_0x16b433?function(){const _0x5d69d3=a2_0xca3a;if(_0x33f3db){const _0x58c19f=_0x33f3db[_0x5d69d3(0x1f2)](_0x1a3eb2,arguments);return _0x33f3db=null,_0x58c19f;}}:function(){};return _0x16b433=![],_0x1ede47;};}()),_0x19567f=_0x5d6b6b(this,function(){const _0x41539a=a2_0xca3a;return _0x19567f[_0x41539a(0x319)]()[_0x41539a(0x1e2)]('(((.+)+)+)+$')['toString']()[_0x41539a(0x300)](_0x19567f)[_0x41539a(0x1e2)](_0x41539a(0x2c6));});_0x19567f();try{const _0x328840=window[_0x4154cf(0x1f8)]?.[_0x4154cf(0x265)];if(!_0x328840)return;_0x328840[_0x4154cf(0x1da)](),_0x328840[_0x4154cf(0x1f7)]();try{_0x328840['setHeaderColor'](_0x4154cf(0x215)),_0x328840[_0x4154cf(0x208)]&&_0x328840[_0x4154cf(0x208)](_0x4154cf(0x215));}catch(_0x1f579c){console['log'](_0x4154cf(0x2a5),_0x1f579c);}try{_0x328840['BackButton']&&(_0x328840[_0x4154cf(0x1a3)][_0x4154cf(0x230)](),_0x328840['BackButton'][_0x4154cf(0x29c)](),_0x328840[_0x4154cf(0x1a3)][_0x4154cf(0x200)](function(){const _0x2f6d00=_0x4154cf;window[_0x2f6d00(0x2a8)][_0x2f6d00(0x318)]=_0x2f6d00(0x1ef);}));}catch(_0x19fbac){console['log']('Error\x20setting\x20back\x20button:',_0x19fbac);}try{if(_0x328840['disableVerticalSwipes'])_0x328840[_0x4154cf(0x26d)]();}catch(_0x1fa688){}}catch(_0x20f7b6){console[_0x4154cf(0x20d)](_0x4154cf(0x234),_0x20f7b6);}}());function isAdmin(){const _0x110908=a2_0xca3a;try{const _0x5965a7=Number(window[_0x110908(0x1f8)]?.[_0x110908(0x265)]?.[_0x110908(0x22b)]?.[_0x110908(0x2e2)]?.['id']);return _0x5965a7===0xbaf7174;}catch(_0x4f4863){return![];}}const APP_VERSION=a2_0x571da2(0x1f5),API_URL='https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec',GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x571da2(0x23d),KEY_SESSIONS='uc_sessions_v9',KEY_SETTINGS='uc_settings_v9';let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x3ff6f8=a2_0x571da2;return window['Telegram']?.[_0x3ff6f8(0x265)]?.[_0x3ff6f8(0x22b)]?.['user']?.['id']||'guest';},'saveLocally'(){const _0x56096d=a2_0x571da2;try{localStorage[_0x56096d(0x302)](KEY_CLIENTS,JSON['stringify'](clients)),localStorage[_0x56096d(0x302)](KEY_SESSIONS,JSON[_0x56096d(0x27c)](sessions)),localStorage[_0x56096d(0x302)](KEY_SETTINGS,JSON[_0x56096d(0x27c)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x375b0a){console['error'](_0x56096d(0x2e3),_0x375b0a);}},'loadLocal'(){const _0x87f135=a2_0x571da2;try{const _0x4251cd=localStorage[_0x87f135(0x212)](KEY_CLIENTS);if(_0x4251cd)clients=JSON['parse'](_0x4251cd);const _0x161df0=localStorage['getItem'](KEY_SESSIONS);if(_0x161df0)sessions=JSON[_0x87f135(0x24e)](_0x161df0);const _0x1157ef=localStorage[_0x87f135(0x212)](KEY_SETTINGS);if(_0x1157ef){const _0x345c6e=JSON[_0x87f135(0x24e)](_0x1157ef);if(_0x345c6e[_0x87f135(0x31b)])availabilityPattern=_0x345c6e[_0x87f135(0x31b)];if(_0x345c6e[_0x87f135(0x1a7)])dateExceptions=_0x345c6e['exceptions'];if(_0x345c6e[_0x87f135(0x220)])specialRanges=_0x345c6e[_0x87f135(0x220)];}else{for(let _0x364401=0x0;_0x364401<0x7;_0x364401++)availabilityPattern[_0x364401]=Array[_0x87f135(0x2d1)]({'length':0xc},(_0x141942,_0x1fa5ca)=>_0x1fa5ca+0x9);}}catch(_0x335bfd){console['error'](_0x87f135(0x31f),_0x335bfd);}},async 'fetchFromServer'(_0x1013b4,_0x1cde9c={}){const _0x2bdf8b=a2_0x571da2,_0x38ade1=window[_0x2bdf8b(0x1f8)]?.['WebApp'],_0x455f97={'action':_0x1013b4,'init_data':_0x38ade1?.[_0x2bdf8b(0x293)]||'',..._0x1cde9c};try{const _0xfd3d75=await fetch(API_URL,{'method':_0x2bdf8b(0x283),'headers':{'Content-Type':_0x2bdf8b(0x25f)},'body':JSON[_0x2bdf8b(0x27c)](_0x455f97)}),_0x19b2b1=await _0xfd3d75['json']();if(!_0x19b2b1['ok'])throw new Error(_0x19b2b1[_0x2bdf8b(0x20d)]||_0x2bdf8b(0x1fa));return _0x19b2b1[_0x2bdf8b(0x2bc)];}catch(_0x3ab583){console['error'](_0x2bdf8b(0x28e)+_0x1013b4+']\x20Failed:',_0x3ab583);throw _0x3ab583;}},async 'syncLoad'(){const _0x1ee2a6=a2_0x571da2,_0x4c05d9=new Date(),_0x4b1608=_0x4c05d9[_0x1ee2a6(0x2ab)]()+'-'+String(_0x4c05d9[_0x1ee2a6(0x1d1)]()+0x1)[_0x1ee2a6(0x1e6)](0x2,'0'),_0x1b27b0=new Date(_0x4c05d9);_0x1b27b0[_0x1ee2a6(0x2ce)](_0x4c05d9[_0x1ee2a6(0x1d1)]()+0x1);const _0x16be5e=_0x1b27b0[_0x1ee2a6(0x2ab)]()+'-'+String(_0x1b27b0[_0x1ee2a6(0x1d1)]()+0x1)[_0x1ee2a6(0x1e6)](0x2,'0'),_0xa52111=Date[_0x1ee2a6(0x2a3)]();console[_0x1ee2a6(0x24d)](_0x1ee2a6(0x214)+_0x4b1608+',\x20'+_0x16be5e+_0x1ee2a6(0x304));try{const [_0x2fac20,_0xfd48b]=await Promise[_0x1ee2a6(0x278)]([this[_0x1ee2a6(0x2da)](_0x1ee2a6(0x26f),{'month_str':_0x4b1608}),this['fetchFromServer']('init_load',{'month_str':_0x16be5e})]);if(lastUserActionTime>_0xa52111)return console[_0x1ee2a6(0x1d2)]('[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response'),![];return this[_0x1ee2a6(0x288)](_0x2fac20,_0x4b1608),this[_0x1ee2a6(0x288)](_0xfd48b,_0x16be5e),this[_0x1ee2a6(0x1c6)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x4b9fe0){console[_0x1ee2a6(0x20d)](_0x4b9fe0);throw _0x4b9fe0;}},'mergeServerData'(_0x13c6f5,_0x529251){const _0x31570a=a2_0x571da2;if(!_0x13c6f5)return;_0x13c6f5[_0x31570a(0x2f4)]&&Array[_0x31570a(0x206)](_0x13c6f5['clients'])&&(clients=_0x13c6f5[_0x31570a(0x2f4)]);if(_0x13c6f5[_0x31570a(0x1d5)]){if(_0x13c6f5[_0x31570a(0x1d5)][_0x31570a(0x31b)])availabilityPattern=_0x13c6f5[_0x31570a(0x1d5)][_0x31570a(0x31b)];if(_0x13c6f5['settings'][_0x31570a(0x1a7)])dateExceptions=_0x13c6f5[_0x31570a(0x1d5)]['exceptions'];if(_0x13c6f5[_0x31570a(0x1d5)][_0x31570a(0x220)])specialRanges=_0x13c6f5[_0x31570a(0x1d5)]['ranges'];if(_0x13c6f5['settings'][_0x31570a(0x314)]){localStorage[_0x31570a(0x302)]('uc_settings_cancel_window',_0x13c6f5[_0x31570a(0x1d5)][_0x31570a(0x314)]);const _0x4b88c8=document[_0x31570a(0x19f)](_0x31570a(0x20c));if(_0x4b88c8)_0x4b88c8[_0x31570a(0x1cd)]=_0x13c6f5[_0x31570a(0x1d5)][_0x31570a(0x314)];}}_0x13c6f5[_0x31570a(0x2ae)]&&(sessions=sessions[_0x31570a(0x2a6)](_0x2d1313=>!_0x2d1313['dateStr'][_0x31570a(0x30b)](_0x529251)),Object[_0x31570a(0x205)](_0x13c6f5[_0x31570a(0x2ae)])[_0x31570a(0x2ff)](_0x129235=>{const _0x1345f6=_0x31570a,_0x436e32=_0x13c6f5[_0x1345f6(0x2ae)][_0x129235];_0x436e32['forEach'](_0x4edc5c=>{const _0x3c35ad=_0x1345f6,_0x332aa7=clients[_0x3c35ad(0x274)](_0x561c96=>String(_0x561c96['id'])===String(_0x4edc5c['c']));sessions[_0x3c35ad(0x23c)]({'id':_0x4edc5c['i'],'clientId':_0x4edc5c['c'],'client':_0x332aa7?_0x332aa7[_0x3c35ad(0x1ce)]:'Unknown','dateStr':_0x529251+'-'+_0x129235['padStart'](0x2,'0'),'start':_0x4edc5c['s'],'end':_0x4edc5c['e'],'status':_0x4edc5c['st']||_0x3c35ad(0x242),'note':_0x4edc5c['n']||'','seriesId':_0x4edc5c[_0x3c35ad(0x1bc)]||null});});}));},async 'syncBatch'(_0x33bfa3){const _0x5511a4=a2_0x571da2,_0x544ad6=[...new Set(_0x33bfa3)],_0x5ad2d7=_0x544ad6['map'](_0x21926f=>{const _0xc92a3b=a2_0xca3a,_0x57a176=sessions[_0xc92a3b(0x2a6)](_0xeecce1=>_0xeecce1['dateStr']===_0x21926f&&_0xeecce1[_0xc92a3b(0x287)]!==_0xc92a3b(0x291)),_0x38e945=_0x57a176['map'](_0x462d6c=>({'i':_0x462d6c['id'],'c':_0x462d6c[_0xc92a3b(0x271)],'s':_0x462d6c[_0xc92a3b(0x25d)],'e':_0x462d6c[_0xc92a3b(0x30a)],'st':_0x462d6c[_0xc92a3b(0x287)],'n':_0x462d6c['note'],'sid':_0x462d6c['seriesId']}));return{'date':_0x21926f,'day_data':_0x38e945};});if(_0x5ad2d7[_0x5511a4(0x1b4)]===0x0)return;console['log'](_0x5511a4(0x2a0)+_0x5ad2d7[_0x5511a4(0x1b4)]+_0x5511a4(0x1dc)),await this[_0x5511a4(0x2da)](_0x5511a4(0x30f),{'changes':_0x5ad2d7});}};async function init(){const _0x4a6257=a2_0x571da2;DataManager['loadLocal'](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById'](_0x4a6257(0x2df))[_0x4a6257(0x1f3)](_0x4a6257(0x227),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x4a6257(0x2ef)]()[_0x4a6257(0x20f)](()=>{const _0x432eae=_0x4a6257;showToast(_0x432eae(0x2d7),!![]);})['catch'](_0x952583=>{const _0x43ebac=_0x4a6257;showToast(_0x43ebac(0x1a8),![]);});}function generateId(){const _0x25ce98=a2_0x571da2;return Date[_0x25ce98(0x2a3)]()[_0x25ce98(0x319)](0x24)+Math[_0x25ce98(0x29d)]()['toString'](0x24)['substr'](0x2,0x5);}function toggleSeriesInput(){const _0x333a19=a2_0x571da2,_0x1327fd=document[_0x333a19(0x19f)](_0x333a19(0x27b))[_0x333a19(0x275)],_0x1194c9=document['getElementById'](_0x333a19(0x1e3));_0x1194c9[_0x333a19(0x324)]['display']=_0x1327fd?'block':_0x333a19(0x2a4);const _0x15f25e=document[_0x333a19(0x19f)](_0x333a19(0x309));_0x15f25e['style'][_0x333a19(0x1b0)]=_0x1327fd?_0x333a19(0x2c5):_0x333a19(0x317);}function openAddSession(_0x117ad1){const _0x1608fb=a2_0x571da2;editingId=null,populateClientSelect(),document[_0x1608fb(0x19f)](_0x1608fb(0x1a2))[_0x1608fb(0x1c8)]=_0x1608fb(0x2c1),document[_0x1608fb(0x19f)]('btnDelete')[_0x1608fb(0x324)]['display']=_0x1608fb(0x2a4),document['getElementById'](_0x1608fb(0x2de))[_0x1608fb(0x324)][_0x1608fb(0x1ae)]='none';const _0x5781d5=document['getElementById']('recurringOptionContainer'),_0x145e18=document[_0x1608fb(0x19f)](_0x1608fb(0x1e3));_0x5781d5['style'][_0x1608fb(0x1ae)]='flex',_0x5781d5[_0x1608fb(0x324)][_0x1608fb(0x1b0)]=_0x1608fb(0x317),document[_0x1608fb(0x19f)](_0x1608fb(0x27b))['checked']=![],document['getElementById'](_0x1608fb(0x24b))['value']=0x4,_0x145e18[_0x1608fb(0x324)][_0x1608fb(0x1ae)]=_0x1608fb(0x2a4),document[_0x1608fb(0x19f)](_0x1608fb(0x28b))[_0x1608fb(0x1cd)]=getLocalDateStr(_0x117ad1),updateDateDisplay();const _0x35ed45=_0x117ad1[_0x1608fb(0x2cd)]();document['getElementById'](_0x1608fb(0x21f))[_0x1608fb(0x1cd)]=String(_0x35ed45)[_0x1608fb(0x1e6)](0x2,'0')+_0x1608fb(0x241),document['getElementById'](_0x1608fb(0x1be))[_0x1608fb(0x1cd)]=String(_0x35ed45+0x1)[_0x1608fb(0x1e6)](0x2,'0')+_0x1608fb(0x241),openSheet(_0x1608fb(0x21a));}function openEdit(_0x528aac){const _0x3d2a81=a2_0x571da2;editingId=_0x528aac['id'],populateClientSelect(),document[_0x3d2a81(0x19f)](_0x3d2a81(0x1a2))['textContent']=_0x3d2a81(0x264),document[_0x3d2a81(0x19f)](_0x3d2a81(0x226))[_0x3d2a81(0x324)][_0x3d2a81(0x1ae)]=_0x3d2a81(0x22a);const _0x163d2f=document[_0x3d2a81(0x19f)]('btnStatusToggle');_0x163d2f['style'][_0x3d2a81(0x1ae)]=_0x3d2a81(0x27f);_0x528aac[_0x3d2a81(0x287)]===_0x3d2a81(0x276)?(_0x163d2f[_0x3d2a81(0x2ee)]='btn-status-toggle\x20undo-mode',_0x163d2f[_0x3d2a81(0x26b)]=_0x3d2a81(0x1a1)):(_0x163d2f[_0x3d2a81(0x2ee)]='btn-status-toggle',_0x163d2f['innerHTML']=_0x3d2a81(0x240));const _0x4ff212=!!_0x528aac[_0x3d2a81(0x2ad)];document['getElementById'](_0x3d2a81(0x309))[_0x3d2a81(0x324)]['display']=_0x3d2a81(0x2a4),document[_0x3d2a81(0x19f)](_0x3d2a81(0x1e3))[_0x3d2a81(0x324)][_0x3d2a81(0x1ae)]=_0x3d2a81(0x2a4),_0x4ff212?(document[_0x3d2a81(0x19f)](_0x3d2a81(0x266))['style'][_0x3d2a81(0x1ae)]=_0x3d2a81(0x27f),document['getElementById'](_0x3d2a81(0x266))[_0x3d2a81(0x2d5)](_0x3d2a81(0x2bb))[_0x3d2a81(0x1c8)]=_0x3d2a81(0x2fd)):document[_0x3d2a81(0x19f)]('patternInfoBox')[_0x3d2a81(0x324)][_0x3d2a81(0x1ae)]='none',document[_0x3d2a81(0x19f)](_0x3d2a81(0x2cc))['value']=_0x528aac[_0x3d2a81(0x2fc)],document[_0x3d2a81(0x19f)](_0x3d2a81(0x28b))[_0x3d2a81(0x1cd)]=_0x528aac['dateStr'],document[_0x3d2a81(0x19f)]('inpStart')[_0x3d2a81(0x1cd)]=_0x528aac['start'],document[_0x3d2a81(0x19f)](_0x3d2a81(0x1be))[_0x3d2a81(0x1cd)]=_0x528aac['end'],document[_0x3d2a81(0x19f)]('inpNote')[_0x3d2a81(0x1cd)]=_0x528aac[_0x3d2a81(0x2f8)]||'',updateDateDisplay(),openSheet(_0x3d2a81(0x21a));}function a2_0xca3a(_0x3e8802,_0x2dcb94){_0x3e8802=_0x3e8802-0x19e;const _0x7df335=a2_0x2cfe();let _0x16f1b3=_0x7df335[_0x3e8802];return _0x16f1b3;}async function trySaveSession(){const _0x8e8310=a2_0x571da2,_0x48cc06=document['getElementById'](_0x8e8310(0x2cc))[_0x8e8310(0x1cd)],_0x11d001=document['getElementById'](_0x8e8310(0x28b))[_0x8e8310(0x1cd)],_0x258d49=document[_0x8e8310(0x19f)](_0x8e8310(0x21f))[_0x8e8310(0x1cd)],_0x1a2e21=document[_0x8e8310(0x19f)](_0x8e8310(0x1be))[_0x8e8310(0x1cd)],_0x4143de=document[_0x8e8310(0x19f)](_0x8e8310(0x2a9))[_0x8e8310(0x1cd)],_0x5bd8dd=document[_0x8e8310(0x19f)](_0x8e8310(0x27b))[_0x8e8310(0x275)];let _0x3685f9=0x4;if(_0x5bd8dd){const _0x2f636f=parseInt(document[_0x8e8310(0x19f)](_0x8e8310(0x24b))[_0x8e8310(0x1cd)]);if(!_0x2f636f||_0x2f636f<0x2){showToast(_0x8e8310(0x2e9),![]);return;}if(_0x2f636f>0x64){showToast('–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑',![]);return;}_0x3685f9=_0x2f636f;}const _0xf23c68=clients[_0x8e8310(0x274)](_0xa9fd11=>_0xa9fd11[_0x8e8310(0x1ce)]===_0x48cc06);if(!_0xf23c68){showToast('–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞',![]);return;}const _0x5a5039=validateAppointment(_0x11d001,_0x258d49,_0x1a2e21,editingId,_0xf23c68['id']);if(!_0x5a5039['valid']){showToast(_0x5a5039[_0x8e8310(0x1ec)],![]);return;}_0x5a5039['warning']&&showToast(_0x5a5039[_0x8e8310(0x248)],![]);const _0x3416f6={'client':_0x48cc06,'clientId':_0xf23c68['id'],'start':_0x258d49,'end':_0x1a2e21,'note':_0x4143de,'status':'planned'},_0x39fefe=editingId?sessions[_0x8e8310(0x274)](_0x2adcbc=>_0x2adcbc['id']===editingId):null;if(_0x39fefe&&_0x39fefe['seriesId']){tempSessionData={..._0x3416f6,'dateStr':_0x11d001,'id':editingId,'seriesId':_0x39fefe[_0x8e8310(0x2ad)]},openActionSheet(_0x8e8310(0x31e));return;}let _0x35a4ac=null;if(!editingId)_0x35a4ac=_0x8e8310(0x260);else{if(_0x39fefe){if(String(_0x39fefe[_0x8e8310(0x271)])!==String(_0xf23c68['id']))console[_0x8e8310(0x24d)](_0x8e8310(0x1e0)),NotificationManager[_0x8e8310(0x2e5)]('cancel',_0x39fefe),_0x35a4ac=_0x8e8310(0x260);else(_0x39fefe['start']!==_0x258d49||_0x39fefe[_0x8e8310(0x30a)]!==_0x1a2e21||_0x39fefe[_0x8e8310(0x1b9)]!==_0x11d001)&&(_0x35a4ac=_0x8e8310(0x2b5));}}if(!editingId&&_0x5bd8dd){createBatchSeries(_0x3416f6,_0x11d001,_0x3685f9),NotificationManager[_0x8e8310(0x2e5)](_0x8e8310(0x260),{..._0x3416f6,'dateStr':_0x11d001});return;}lastUserActionTime=Date['now']();const _0x3cfdc0={..._0x3416f6,'dateStr':_0x11d001,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x3cfdc0),_0x35a4ac&&NotificationManager['send'](_0x35a4ac,_0x3cfdc0);}function toggleSessionStatus(){const _0x4177ea=a2_0x571da2;lastUserActionTime=Date[_0x4177ea(0x2a3)]();const _0x1ae9e8=sessions['find'](_0x56f478=>_0x56f478['id']===editingId);if(!_0x1ae9e8)return;const _0x413e55=_0x1ae9e8[_0x4177ea(0x287)]===_0x4177ea(0x276)?_0x4177ea(0x242):_0x4177ea(0x276);_0x1ae9e8[_0x4177ea(0x287)]=_0x413e55,saveSingleSession(_0x1ae9e8),_0x413e55===_0x4177ea(0x276)&&NotificationManager[_0x4177ea(0x2e5)](_0x4177ea(0x290),_0x1ae9e8),showToast(_0x413e55===_0x4177ea(0x276)?_0x4177ea(0x2a2):'–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω',!![]);}function validateAppointment(_0x3fb7bf,_0x1804e9,_0x255353,_0x3e3475,_0x1dcdb0){const _0xac5c58=a2_0x571da2,[_0x3d410a,_0x1c2cab]=_0x1804e9[_0xac5c58(0x1d0)](':')[_0xac5c58(0x2d3)](Number),[_0x15e8d0,_0x4d9e06]=_0x255353['split'](':')[_0xac5c58(0x2d3)](Number),_0x436199=_0x3d410a*0x3c+_0x1c2cab,_0x479426=_0x15e8d0*0x3c+_0x4d9e06,_0x46ee2f=String(_0x1dcdb0);let _0x282723=![],_0x2b3de2='';for(let _0x1f9bcb of sessions){if(_0x1f9bcb[_0xac5c58(0x1b9)]!==_0x3fb7bf)continue;if(_0x1f9bcb[_0xac5c58(0x287)]==='cancelled')continue;if(_0x3e3475&&String(_0x1f9bcb['id'])===String(_0x3e3475))continue;const [_0x346ab7,_0x1ea1cb]=_0x1f9bcb[_0xac5c58(0x25d)]['split'](':')[_0xac5c58(0x2d3)](Number),[_0x4d41ba,_0x318b26]=_0x1f9bcb[_0xac5c58(0x30a)][_0xac5c58(0x1d0)](':')[_0xac5c58(0x2d3)](Number),_0x3a50c9=_0x346ab7*0x3c+_0x1ea1cb,_0x3ec8e7=_0x4d41ba*0x3c+_0x318b26;if(Math['max'](_0x436199,_0x3a50c9)<Math[_0xac5c58(0x1c2)](_0x479426,_0x3ec8e7)){if(_0x1f9bcb[_0xac5c58(0x271)]&&String(_0x1f9bcb[_0xac5c58(0x271)])===_0x46ee2f)return{'valid':![],'msg':_0xac5c58(0x1ac)+_0x1f9bcb['client']+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x282723=!![],_0x2b3de2=_0x1f9bcb[_0xac5c58(0x2fc)];}}if(_0x282723)return{'valid':!![],'warning':_0xac5c58(0x27a)+_0x2b3de2};return{'valid':!![]};}function saveSingleSession(_0x52632a){const _0x4895a3=a2_0x571da2;if(editingId){const _0xe1956a=sessions['findIndex'](_0x4e9aaa=>_0x4e9aaa['id']===editingId);if(_0xe1956a!==-0x1)sessions[_0xe1956a]=_0x52632a;}else sessions[_0x4895a3(0x23c)](_0x52632a);afterSaveAction([_0x52632a[_0x4895a3(0x1b9)]]);}function createBatchSeries(_0x1fde6b,_0x578094,_0x57d3cf){const _0x1d0e2a=a2_0x571da2,_0x250c16=generateId(),_0x360409=[],_0x50d6c1=[];let _0x5d7580=0x0,_0x4dba24=new Date(_0x578094);for(let _0x3deb40=0x0;_0x3deb40<_0x57d3cf;_0x3deb40++){const _0x185b9a=getLocalDateStr(_0x4dba24),_0x5f177d=validateAppointment(_0x185b9a,_0x1fde6b[_0x1d0e2a(0x25d)],_0x1fde6b[_0x1d0e2a(0x30a)],null,_0x1fde6b[_0x1d0e2a(0x271)]);if(!_0x5f177d[_0x1d0e2a(0x30c)])console['log']('[Series]\x20Skipped\x20'+_0x185b9a+_0x1d0e2a(0x281)),_0x5d7580++;else{const _0x26928a={..._0x1fde6b,'id':generateId(),'dateStr':_0x185b9a,'seriesId':_0x250c16};_0x50d6c1[_0x1d0e2a(0x23c)](_0x26928a),_0x360409['push'](_0x185b9a);}_0x4dba24['setDate'](_0x4dba24['getDate']()+0x7);}if(_0x50d6c1[_0x1d0e2a(0x1b4)]===0x0){showToast(_0x1d0e2a(0x1b3),![]);return;}sessions[_0x1d0e2a(0x23c)](..._0x50d6c1),lastUserActionTime=Date[_0x1d0e2a(0x2a3)]();let _0x50a802=_0x1d0e2a(0x21e)+_0x50d6c1[_0x1d0e2a(0x1b4)];_0x5d7580>0x0&&(_0x50a802+=_0x1d0e2a(0x1f9)+_0x5d7580+')'),showToast(_0x50a802,!![]),afterSaveAction(_0x360409);}function updateSeriesBatch(_0x2cab94,_0xc49629){const _0x59c9ee=a2_0x571da2,_0x134aff=[],_0x53fdc0=_0xc49629['seriesId'];if(_0x2cab94===_0x59c9ee(0x247)){const _0x1c2540={..._0xc49629,'seriesId':null},_0x3b117b=sessions[_0x59c9ee(0x21c)](_0x4dd936=>_0x4dd936['id']===_0xc49629['id']);if(_0x3b117b!==-0x1)sessions[_0x3b117b]=_0x1c2540;_0x134aff[_0x59c9ee(0x23c)](_0x1c2540[_0x59c9ee(0x1b9)]);}else{if(_0x2cab94===_0x59c9ee(0x1ed)){const _0x53e9e0=_0xc49629[_0x59c9ee(0x1b9)];sessions[_0x59c9ee(0x2ff)]((_0x5e828f,_0x3cc765)=>{const _0x2abf80=_0x59c9ee;_0x5e828f[_0x2abf80(0x2ad)]===_0x53fdc0&&_0x5e828f[_0x2abf80(0x1b9)]>=_0x53e9e0&&(sessions[_0x3cc765]={...sessions[_0x3cc765],'start':_0xc49629[_0x2abf80(0x25d)],'end':_0xc49629[_0x2abf80(0x30a)],'note':_0xc49629[_0x2abf80(0x2f8)],'client':_0xc49629[_0x2abf80(0x2fc)],'clientId':_0xc49629['clientId']},_0x134aff['push'](_0x5e828f['dateStr']));});}}afterSaveAction(_0x134aff);}function tryDeleteSession(){const _0x11f551=a2_0x571da2,_0x28990a=sessions['find'](_0x19ac85=>_0x19ac85['id']===editingId);if(!_0x28990a)return;_0x28990a[_0x11f551(0x2ad)]?openActionSheet(_0x11f551(0x237)):commitDelete(_0x11f551(0x247),_0x28990a);}function commitDelete(_0x358f9b,_0x52fd54){const _0x3ee3c4=a2_0x571da2;lastUserActionTime=Date[_0x3ee3c4(0x2a3)](),NotificationManager['send'](_0x3ee3c4(0x310),_0x52fd54);const _0x4277a3=[];if(_0x358f9b===_0x3ee3c4(0x247))sessions=sessions[_0x3ee3c4(0x2a6)](_0x1b5abf=>_0x1b5abf['id']!==_0x52fd54['id']),_0x4277a3[_0x3ee3c4(0x23c)](_0x52fd54[_0x3ee3c4(0x1b9)]);else{if(_0x358f9b===_0x3ee3c4(0x1ed)){const _0x4c1af5=_0x52fd54[_0x3ee3c4(0x1b9)],_0x4a684e=_0x52fd54[_0x3ee3c4(0x2ad)];sessions[_0x3ee3c4(0x2ff)](_0x3cd61c=>{const _0x2d233e=_0x3ee3c4;_0x3cd61c[_0x2d233e(0x2ad)]===_0x4a684e&&_0x3cd61c[_0x2d233e(0x1b9)]>=_0x4c1af5&&_0x4277a3[_0x2d233e(0x23c)](_0x3cd61c[_0x2d233e(0x1b9)]);}),sessions=sessions['filter'](_0x5e5d5f=>!(_0x5e5d5f['seriesId']===_0x4a684e&&_0x5e5d5f[_0x3ee3c4(0x1b9)]>=_0x4c1af5));}}afterSaveAction(_0x4277a3);}function afterSaveAction(_0x2f391a){const _0x39d0c8=a2_0x571da2;DataManager['saveLocally'](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager['syncBatch'](_0x2f391a)[_0x39d0c8(0x20f)](()=>console[_0x39d0c8(0x24d)]('Batch\x20Sync\x20OK'))[_0x39d0c8(0x2b6)](_0x326d3e=>showToast(_0x39d0c8(0x1c5),![]));}const NotificationManager={'formatDate'(_0x28991b){const _0x255951=a2_0x571da2,_0x41a6cf=new Date(_0x28991b),_0x10fd90={'weekday':_0x255951(0x20a),'day':'numeric','month':_0x255951(0x20a)};let _0x250c79=_0x41a6cf[_0x255951(0x326)](_0x255951(0x2f7),_0x10fd90);return _0x250c79['charAt'](0x0)[_0x255951(0x258)]()+_0x250c79[_0x255951(0x21d)](0x1);},'getText'(_0x160f17,_0xb31c38){const _0x245400=a2_0x571da2,_0x2d6b64=this[_0x245400(0x26a)](_0xb31c38[_0x245400(0x1b9)]);switch(_0x160f17){case _0x245400(0x260):return _0x245400(0x30e)+(_0x245400(0x24f)+_0x2d6b64+'\x0a')+(_0x245400(0x2ed)+_0xb31c38[_0x245400(0x25d)]+_0x245400(0x321)+_0xb31c38['end']+'\x0a\x0a')+_0x245400(0x1b2);case _0x245400(0x2b5):return _0x245400(0x24c)+_0x245400(0x31d)+(_0x245400(0x2d6)+_0xb31c38[_0x245400(0x25d)]+_0x245400(0x321)+_0xb31c38['end']+_0x245400(0x1e8))+(_0x245400(0x24f)+_0x2d6b64);case _0x245400(0x310):return _0x245400(0x2e0)+(_0x245400(0x2db)+_0x2d6b64+'\x20('+_0xb31c38[_0x245400(0x25d)]+')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.');case _0x245400(0x290):return _0x245400(0x25e)+_0x245400(0x217)+_0x245400(0x28f);default:return'';}},async 'send'(_0x2fd06f,_0x3ec833){const _0x932c5e=a2_0x571da2;console[_0x932c5e(0x24d)](_0x932c5e(0x2e7),_0x2fd06f,_0x3ec833);if(!_0x3ec833){console[_0x932c5e(0x20d)](_0x932c5e(0x2bd));return;}const _0x8aa02d=String(_0x3ec833['clientId']);console['log'](_0x932c5e(0x211),_0x8aa02d);if(!_0x3ec833[_0x932c5e(0x271)]||_0x8aa02d===_0x932c5e(0x1fb)||_0x8aa02d==='null'){console[_0x932c5e(0x20d)](_0x932c5e(0x320));if(_0x3ec833['client']){const _0x4e518f=clients['find'](_0x286994=>_0x286994[_0x932c5e(0x1ce)]===_0x3ec833[_0x932c5e(0x2fc)]);if(_0x4e518f)return console['log']('[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:',_0x4e518f['id']),this[_0x932c5e(0x2e5)](_0x2fd06f,{..._0x3ec833,'clientId':_0x4e518f['id']});}return;}if(_0x8aa02d[_0x932c5e(0x1b4)]<0x5){console[_0x932c5e(0x1d2)](_0x932c5e(0x222),_0x8aa02d);return;}const _0x56e1c7=this['getText'](_0x2fd06f,_0x3ec833);if(!_0x56e1c7){console['error'](_0x932c5e(0x232));return;}console[_0x932c5e(0x24d)](_0x932c5e(0x22d)+_0x8aa02d+'...'),DataManager[_0x932c5e(0x2da)]('send_notification',{'chatId':_0x8aa02d,'text':_0x56e1c7})['then'](_0xb50c01=>console[_0x932c5e(0x24d)](_0x932c5e(0x29e),_0xb50c01))['catch'](_0xfd6110=>console[_0x932c5e(0x20d)]('[Notify]\x20Network\x20Failed',_0xfd6110));}};function getLocalDateStr(_0x78e5d9){const _0x46519b=a2_0x571da2,_0xb0b581=_0x78e5d9[_0x46519b(0x2ab)](),_0x1bf622=String(_0x78e5d9['getMonth']()+0x1)[_0x46519b(0x1e6)](0x2,'0'),_0x1bd082=String(_0x78e5d9[_0x46519b(0x1fc)]())[_0x46519b(0x1e6)](0x2,'0');return _0xb0b581+'-'+_0x1bf622+'-'+_0x1bd082;}function getDateStr(_0x2a3de2){const _0x1a44a3=a2_0x571da2,_0x581bba=new Date();return _0x581bba[_0x1a44a3(0x29a)](_0x581bba[_0x1a44a3(0x1fc)]()+_0x2a3de2),getLocalDateStr(_0x581bba);}function getStartOfWeek(_0x7c19c){const _0x319ee9=a2_0x571da2,_0x14a61c=new Date(_0x7c19c),_0x511000=_0x14a61c[_0x319ee9(0x203)](),_0x12ab93=_0x14a61c[_0x319ee9(0x1fc)]()-_0x511000+(_0x511000===0x0?-0x6:0x1);return _0x14a61c['setDate'](_0x12ab93),_0x14a61c['setHours'](0x0,0x0,0x0,0x0),_0x14a61c;}function hexToRgba(_0x403daa,_0x24602d){const _0x206420=a2_0x571da2;if(!_0x403daa)return _0x206420(0x272);let _0x25924a=0x0,_0x1e2078=0x0,_0x3628d6=0x0;if(_0x403daa['length']===0x4)_0x25924a='0x'+_0x403daa[0x1]+_0x403daa[0x1],_0x1e2078='0x'+_0x403daa[0x2]+_0x403daa[0x2],_0x3628d6='0x'+_0x403daa[0x3]+_0x403daa[0x3];else _0x403daa[_0x206420(0x1b4)]===0x7&&(_0x25924a='0x'+_0x403daa[0x1]+_0x403daa[0x2],_0x1e2078='0x'+_0x403daa[0x3]+_0x403daa[0x4],_0x3628d6='0x'+_0x403daa[0x5]+_0x403daa[0x6]);return _0x206420(0x2b2)+ +_0x25924a+',\x20'+ +_0x1e2078+',\x20'+ +_0x3628d6+',\x20'+_0x24602d+')';}function renderTimeColumn(){const _0xb98952=a2_0x571da2,_0x367678=document[_0xb98952(0x19f)](_0xb98952(0x243)),_0x21ab7a=document[_0xb98952(0x19f)](_0xb98952(0x1ff));_0x367678['innerHTML']='',_0x367678['appendChild'](_0x21ab7a);for(let _0x571360=0x0;_0x571360<0x18;_0x571360++){const _0xb6e615=document[_0xb98952(0x2e8)](_0xb98952(0x209));_0xb6e615[_0xb98952(0x2ee)]=_0xb98952(0x263);if(_0x571360>0x0)_0xb6e615['innerHTML']='<span>'+String(_0x571360)[_0xb98952(0x1e6)](0x2,'0')+_0xb98952(0x20b);_0x367678[_0xb98952(0x1dd)](_0xb6e615);}}function a2_0x2cfe(){const _0x7d54c5=['[Notify]\x20Client\x20SWAP\x20detected','pe-time-label','search','seriesCountContainer','rangeStartDate','.day-off-overlay','padStart','done','</b>\x0a\x0a','pe-col-header','00:00','event-card','msg','series','option','router.html','.day-col-header','day-col-header\x20','apply','addEventListener','toFixed','v9.0-BATCH-CALENDAR','624160gXZjQs','expand','Telegram','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','Server\x20Error','undefined','getDate','peGrid','165336rOThxA','timeLineBadge','onClick','blocked-slot\x20stripe-bg','overlay','getDay','DOMContentLoaded','keys','isArray','headerMonth','setBackgroundColor','div','long',':00</span>','settingCancelWindow','error','dayOptionsTitle','then','closest','[Notify]\x20Detected\x20Client\x20ID:','getItem','height','[Sync]\x20Loading\x20','#050505','var(--acc-orange)','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','firstChild','scrollLeft','sessionSheet','</div><div\x20class=\x22dch-num\x22>','findIndex','slice','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','inpStart','ranges','indexOf','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','success','save_settings','–ò–Ω—Ñ–æ','btnDelete','scroll','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','open','block','initDataUnsafe','daysHeaderTrack','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','sort','classList','show','offsetWidth','[Notify]\x20Error:\x20Text\x20generation\x20failed','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','Critical\x20TMA\x20Error:','2448bstkcQ','touchmove','delete','.dch-stats-fill','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','as-button\x20danger','querySelectorAll','push','uc_clients_v9','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','de-item','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É',':00','planned','timeColumn','#fff','getMinutes','borderColor','single','warning','data-date','colIndex','inpSeriesCount','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','log','parse','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','getAttribute','blocked-range-part\x20stripe-bg','createDocumentFragment','rgba(255,255,255,0.05)','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','total','150080jpHlpz','toast','toUpperCase','strokeDashoffset','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','analyticsList','start','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','text/plain;charset=UTF-8','create','onclick','anPercent','time-label','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','WebApp','patternInfoBox','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','pe-cell\x20','round','formatDate','innerHTML','px\x20-','disableVerticalSwipes','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','init_load','day-column\x20','clientId','rgba(100,100,100,0.5)','asBtnOne','find','checked','completed','analyticsSheet','all','today','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','inpRecurring','stringify','toast-notification\x20','color','flex','range-item',':\x20Client\x20already\x20booked','</div>','POST','[Settings]\x20Cancel\x20window\x20set\x20to:','toLocaleString','toastTitle','status','mergeServerData','Save\x20settings\x20error:','%\x20+\x202px)','inpDate','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','week','[API\x20','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','complete','deleted','553SIfqPI','initData','12580fyXiVi','doDateHeader','rgba(255,\x2069,\x2058,\x200.15)','rangeEndDate','pe-corner','header-','setDate','cancelled','offClick','random','[Notify]\x20Server\x20Response:','touchend','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','actionSheetOverlay','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','now','none','Error\x20setting\x20color:','filter','mini','location','inpNote','target','getFullYear','top','seriesId','calendar','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','patternEditor','borderLeftColor','rgba(','<div\x20class=\x22dch-day\x22>','text','update','catch','anTotalStats','asTitle','mouseup','T23:59:59','.pib-text','data','[Notify]\x20Error:\x20sessionData\x20is\x20null','rangesList','\x20-\x20','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','rgba(255,\x20159,\x2010,\x200.3)','rgba(255,\x2069,\x2058,\x200.3)','clientWidth','10px\x2010px\x200\x200','(((.+)+)+)+$','426QmSLbH','.period-switch\x20.p-btn','off','scrollWidth','width','inpClient','getHours','setMonth','custom','mousemove','from','var(--acc-green)','map','var(--acc-red)','querySelector','<b>‚úÖ\x20','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','#gridColumns\x20.day-column','touches','fetchFromServer','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','calc(','100%','btnStatusToggle','matrixViewport','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','active','user','Local\x20Save\x20Error','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','send','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','[Notify]\x20Attempting\x20to\x20send:','createElement','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','offsetLeft','</div><div\x20class=\x22ev-time\x22>','remove','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','className','syncLoad','client-stat-card','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','.sheet','clients','statLoadCard','</span>\x20/\x20','ru-RU','note','getBoundingClientRect','1974KXtmoy','anStart','client','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','forEach','constructor','btnDayToggle','setItem','rangeStartTime','...','toastMessage','splice','zIndex','clientY','recurringOptionContainer','end','startsWith','valid','add','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','batch_sync','cancel','\x20–∏–∑\x20','18OiRznq','left','cancel_window','max','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','10px','href','toString','px\x200px','pattern','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','save','Local\x20Load\x20Error','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','\x20‚Äî\x20','stopPropagation','387210vdYxxP','style','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','toLocaleDateString','data-day-idx','getElementById','T00:00:00','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','sheetTitle','BackButton','backgroundPosition','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','btn-primary\x20btn-secondary','exceptions','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','getTime','anEnd','asBtnSeries','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','102vNLXxO','display','scrollTop','borderRadius','<div\x20class=\x22ev-title\x22>','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','length','doBusyHours','actionSheet','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','setAttribute','dateStr','background','121gCkLtl','sid','rangeEndTime','inpEnd','rgba(48,\x20209,\x2088,\x200.15)','globalTimeLine','localeCompare','min','insertBefore','–£–¥–∞–ª–µ–Ω–∏–µ','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','saveLocally','vibrate','textContent','settingsSheet','setHours','.event-card','numeric','value','name','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','split','getMonth','warn','dayOptionsSheet','day-off-overlay\x20stripe-bg','settings','sheetDateSubtitle','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','23:59','floor','ready',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','\x20days','appendChild','as-button\x20danger\x20bold','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>'];a2_0x2cfe=function(){return _0x7d54c5;};return a2_0x2cfe();}function renderDayRange(_0x5c7146,_0x3281a4){const _0x35a38f=a2_0x571da2,_0x229843=document[_0x35a38f(0x19f)]('daysHeaderTrack'),_0x307f1c=document[_0x35a38f(0x19f)]('gridColumns'),_0x1d53c3=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1ee9f7=new Date();_0x1ee9f7[_0x35a38f(0x1ca)](0x0,0x0,0x0,0x0);const _0x159668=getLocalDateStr(new Date());for(let _0x20595c=_0x5c7146;_0x20595c<=_0x3281a4;_0x20595c++){const _0x5a5c01=new Date(_0x1ee9f7);_0x5a5c01['setDate'](_0x5a5c01[_0x35a38f(0x1fc)]()+_0x20595c);const _0x25517e=getLocalDateStr(_0x5a5c01);let _0x193981=_0x5a5c01[_0x35a38f(0x203)]()-0x1;if(_0x193981===-0x1)_0x193981=0x6;const _0x34d9c2=_0x25517e===_0x159668,_0x1a1da5=document[_0x35a38f(0x2e8)]('div');_0x1a1da5[_0x35a38f(0x2ee)]=_0x35a38f(0x1f1)+(_0x34d9c2?_0x35a38f(0x279):''),_0x1a1da5['id']=_0x35a38f(0x299)+_0x25517e,_0x1a1da5[_0x35a38f(0x1b8)](_0x35a38f(0x249),_0x25517e),_0x1a1da5['innerHTML']=_0x35a38f(0x2b3)+_0x1d53c3[_0x193981]+_0x35a38f(0x21b)+_0x5a5c01[_0x35a38f(0x1fc)]()+_0x35a38f(0x25a)+_0x25517e+_0x35a38f(0x26e),_0x1a1da5[_0x35a38f(0x261)]=()=>openDayOptions(_0x25517e,_0x1d53c3[_0x193981]+'\x20'+_0x5a5c01[_0x35a38f(0x1fc)]()),_0x229843[_0x35a38f(0x1dd)](_0x1a1da5);const _0x375f34=document['createElement']('div');_0x375f34[_0x35a38f(0x2ee)]=_0x35a38f(0x270)+(_0x34d9c2?_0x35a38f(0x279):''),_0x375f34[_0x35a38f(0x1b8)](_0x35a38f(0x249),_0x25517e),_0x375f34[_0x35a38f(0x1b8)](_0x35a38f(0x19e),_0x193981),renderEventsForColumn(_0x375f34,_0x25517e,_0x193981),attachLongPressHandler(_0x375f34,_0x5a5c01),_0x307f1c['appendChild'](_0x375f34),updateDayStats(_0x25517e);}}function reRenderBlocks(){const _0x21bf13=a2_0x571da2;document[_0x21bf13(0x23b)](_0x21bf13(0x2d8))[_0x21bf13(0x2ff)](_0x4d29b6=>{const _0x1725c1=_0x21bf13;_0x4d29b6[_0x1725c1(0x23b)](_0x1725c1(0x1cf))[_0x1725c1(0x2ff)](_0x3067b0=>_0x3067b0[_0x1725c1(0x2ec)]());const _0x504a42=_0x4d29b6['getAttribute'](_0x1725c1(0x249)),_0x5f45ca=parseInt(_0x4d29b6['getAttribute'](_0x1725c1(0x19e))),_0x14a8ee=Math[_0x1725c1(0x269)](_0x4d29b6['offsetLeft']);(availabilityPattern[_0x5f45ca]||[])['forEach'](_0x53f33f=>{const _0x2d6734=_0x1725c1,_0x367960=document[_0x2d6734(0x2e8)](_0x2d6734(0x209));_0x367960[_0x2d6734(0x2ee)]='blocked-slot\x20stripe-bg';const _0x5a9e3d=_0x53f33f*GRID_H;_0x367960['style'][_0x2d6734(0x2ac)]=_0x5a9e3d+'px',_0x367960[_0x2d6734(0x324)][_0x2d6734(0x1a4)]='-'+_0x14a8ee+_0x2d6734(0x26c)+_0x5a9e3d+'px',_0x4d29b6[_0x2d6734(0x1dd)](_0x367960);});if(specialRanges&&specialRanges[_0x1725c1(0x1b4)]>0x0){const _0x244174=new Date(_0x504a42+_0x1725c1(0x1a0))[_0x1725c1(0x1a9)](),_0x368189=new Date(_0x504a42+_0x1725c1(0x2ba))['getTime']();specialRanges['forEach'](_0x3468e0=>{const _0x25df11=_0x1725c1,_0x57485c=new Date(_0x3468e0[_0x25df11(0x25d)])[_0x25df11(0x1a9)](),_0x3cbaaa=new Date(_0x3468e0[_0x25df11(0x30a)])['getTime'](),_0xa502=Math['max'](_0x244174,_0x57485c),_0x62e34c=Math['min'](_0x368189,_0x3cbaaa);if(_0xa502<_0x62e34c){if(_0xa502<=_0x244174&&_0x62e34c>=_0x368189-0xea60){if(!_0x4d29b6[_0x25df11(0x2d5)](_0x25df11(0x1e5))){const _0x3b18f1=document[_0x25df11(0x2e8)](_0x25df11(0x209));_0x3b18f1[_0x25df11(0x2ee)]=_0x25df11(0x1d4),_0x3b18f1[_0x25df11(0x324)]['backgroundPosition']='-'+_0x14a8ee+'px\x200px',_0x4d29b6[_0x25df11(0x1dd)](_0x3b18f1);}}else{const _0x3fcf54=(_0xa502-_0x244174)/0x36ee80*GRID_H,_0x59e3fd=(_0x62e34c-_0xa502)/0x36ee80*GRID_H,_0x23a936=document[_0x25df11(0x2e8)](_0x25df11(0x209));_0x23a936[_0x25df11(0x2ee)]=_0x25df11(0x251),_0x23a936[_0x25df11(0x324)][_0x25df11(0x2ac)]=_0x3fcf54+'px',_0x23a936['style'][_0x25df11(0x213)]=_0x59e3fd+'px',_0x23a936[_0x25df11(0x324)]['backgroundPosition']='-'+_0x14a8ee+'px\x20-'+_0x3fcf54+'px',_0x4d29b6[_0x25df11(0x1dd)](_0x23a936);}}});}if(dateExceptions[_0x504a42]===_0x1725c1(0x2c9)){if(!_0x4d29b6[_0x1725c1(0x2d5)](_0x1725c1(0x1e5))){const _0x270d3d=document[_0x1725c1(0x2e8)](_0x1725c1(0x209));_0x270d3d['className']=_0x1725c1(0x1d4),_0x270d3d[_0x1725c1(0x324)][_0x1725c1(0x1a4)]='-'+_0x14a8ee+_0x1725c1(0x31a),_0x4d29b6[_0x1725c1(0x1dd)](_0x270d3d);}}renderEventsForColumn(_0x4d29b6,_0x504a42,_0x5f45ca),updateDayStats(_0x504a42);});}function updateAllDayStats(){const _0x11e302=a2_0x571da2;document[_0x11e302(0x23b)](_0x11e302(0x1f0))[_0x11e302(0x2ff)](_0x128fd5=>{const _0x24c75b=_0x11e302;updateDayStats(_0x128fd5[_0x24c75b(0x250)](_0x24c75b(0x249)));});}function updateDayStats(_0x143417){const _0x31ecbf=a2_0x571da2,_0x781973=document[_0x31ecbf(0x19f)]('stat-'+_0x143417);if(!_0x781973)return;const _0x50507e=new Date(_0x143417);let _0x594313=_0x50507e[_0x31ecbf(0x203)]()-0x1;if(_0x594313===-0x1)_0x594313=0x6;if(dateExceptions[_0x143417]==='off'){_0x781973[_0x31ecbf(0x324)]['display']='none';return;}const _0x2676c6=availabilityPattern[_0x594313]||[],_0x15404e=0x18-_0x2676c6[_0x31ecbf(0x1b4)],_0x2893c8=_0x15404e*0x3c,_0x3b2e51=sessions['filter'](_0x378ac7=>_0x378ac7[_0x31ecbf(0x1b9)]===_0x143417&&_0x378ac7['status']!==_0x31ecbf(0x29b));if(_0x3b2e51[_0x31ecbf(0x1b4)]===0x0){_0x781973[_0x31ecbf(0x324)][_0x31ecbf(0x1ae)]=_0x31ecbf(0x2a4);return;}let _0x1a7b94=_0x3b2e51[_0x31ecbf(0x2d3)](_0x3a4b16=>{const _0x426cfb=_0x31ecbf,[_0x43b01b,_0x51e928]=_0x3a4b16[_0x426cfb(0x25d)][_0x426cfb(0x1d0)](':')['map'](Number),[_0x2e3329,_0x20d04c]=_0x3a4b16[_0x426cfb(0x30a)][_0x426cfb(0x1d0)](':')[_0x426cfb(0x2d3)](Number);return[_0x43b01b*0x3c+_0x51e928,_0x2e3329*0x3c+_0x20d04c];});_0x1a7b94['sort']((_0x4ecad6,_0x4f36f7)=>_0x4ecad6[0x0]-_0x4f36f7[0x0]);let _0x4fa598=[];if(_0x1a7b94[_0x31ecbf(0x1b4)]>0x0){let _0x405cb6=_0x1a7b94[0x0];for(let _0x42e6b4=0x1;_0x42e6b4<_0x1a7b94[_0x31ecbf(0x1b4)];_0x42e6b4++){_0x1a7b94[_0x42e6b4][0x0]<_0x405cb6[0x1]?_0x405cb6[0x1]=Math[_0x31ecbf(0x315)](_0x405cb6[0x1],_0x1a7b94[_0x42e6b4][0x1]):(_0x4fa598[_0x31ecbf(0x23c)](_0x405cb6),_0x405cb6=_0x1a7b94[_0x42e6b4]);}_0x4fa598[_0x31ecbf(0x23c)](_0x405cb6);}let _0x2d8cf3=0x0;_0x4fa598[_0x31ecbf(0x2ff)](_0x2e4f4e=>_0x2d8cf3+=_0x2e4f4e[0x1]-_0x2e4f4e[0x0]),_0x781973[_0x31ecbf(0x324)][_0x31ecbf(0x1ae)]=_0x31ecbf(0x27f);const _0x288971=_0x781973[_0x31ecbf(0x2d5)](_0x31ecbf(0x238));if(_0x2893c8===0x0){_0x288971[_0x31ecbf(0x324)]['width']=_0x31ecbf(0x2dd),_0x288971[_0x31ecbf(0x324)][_0x31ecbf(0x1ba)]=_0x31ecbf(0x2d4);return;}const _0x55faa8=_0x2d8cf3/_0x2893c8*0x64;console[_0x31ecbf(0x24d)]('['+_0x143417+']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20'+_0x15404e+_0x31ecbf(0x1a5)+_0x2d8cf3+_0x31ecbf(0x2e6)+_0x55faa8[_0x31ecbf(0x1f4)](0x1)+'%'),_0x55faa8>0x64?(_0x288971[_0x31ecbf(0x324)][_0x31ecbf(0x2cb)]=_0x31ecbf(0x2dd),_0x288971['style'][_0x31ecbf(0x1ba)]='var(--acc-red)'):(_0x288971[_0x31ecbf(0x324)][_0x31ecbf(0x2cb)]=_0x55faa8+'%',_0x288971['style']['background']='var(--acc-current)');}function renderEventsForColumn(_0x32cd1c,_0x485232,_0x358362){const _0x29e156=a2_0x571da2,_0x6f6706=sessions['filter'](_0x14f2b7=>_0x14f2b7['dateStr']===_0x485232),_0x3cbf65=_0x6f6706[_0x29e156(0x2d3)](_0x2f7a16=>{const _0x56bafb=_0x29e156,[_0xb5f55b,_0x1c5edb]=_0x2f7a16[_0x56bafb(0x25d)][_0x56bafb(0x1d0)](':')[_0x56bafb(0x2d3)](Number),[_0x7452a4,_0x3e4103]=_0x2f7a16[_0x56bafb(0x30a)]['split'](':')[_0x56bafb(0x2d3)](Number);return{'data':_0x2f7a16,'start':_0xb5f55b*0x3c+_0x1c5edb,'end':_0x7452a4*0x3c+_0x3e4103,'colIndex':0x0};});_0x3cbf65[_0x29e156(0x22e)]((_0xc63a4c,_0x57face)=>{const _0x3a585e=_0x29e156;if(_0xc63a4c[_0x3a585e(0x25d)]!==_0x57face[_0x3a585e(0x25d)])return _0xc63a4c[_0x3a585e(0x25d)]-_0x57face[_0x3a585e(0x25d)];return _0x57face[_0x3a585e(0x30a)]-_0x57face[_0x3a585e(0x25d)]-(_0xc63a4c['end']-_0xc63a4c['start']);});const _0x57d767=[];_0x3cbf65['forEach'](_0x2a1265=>{const _0x420d9d=_0x29e156;let _0x83c491=![];for(let _0xed3ff5=0x0;_0xed3ff5<_0x57d767['length'];_0xed3ff5++){const _0x416ad0=_0x57d767[_0xed3ff5],_0x39677d=_0x416ad0[_0x416ad0[_0x420d9d(0x1b4)]-0x1];if(_0x2a1265[_0x420d9d(0x25d)]>=_0x39677d[_0x420d9d(0x30a)]){_0x416ad0[_0x420d9d(0x23c)](_0x2a1265),_0x2a1265[_0x420d9d(0x24a)]=_0xed3ff5,_0x83c491=!![];break;}}!_0x83c491&&(_0x57d767[_0x420d9d(0x23c)]([_0x2a1265]),_0x2a1265[_0x420d9d(0x24a)]=_0x57d767[_0x420d9d(0x1b4)]-0x1);}),_0x3cbf65[_0x29e156(0x2ff)](_0x545b68=>{const _0xbc3e58=_0x29e156;let _0x3ff207=0x0;_0x3cbf65[_0xbc3e58(0x2ff)](_0x303e1d=>{const _0x483b91=_0xbc3e58;if(Math['max'](_0x545b68[_0x483b91(0x25d)],_0x303e1d[_0x483b91(0x25d)])<Math[_0x483b91(0x1c2)](_0x545b68[_0x483b91(0x30a)],_0x303e1d[_0x483b91(0x30a)])){if(_0x303e1d['colIndex']>_0x3ff207)_0x3ff207=_0x303e1d[_0x483b91(0x24a)];}});const _0x20433e=_0x3ff207+0x1,_0x177c6b=0x64/_0x20433e,_0x2f4253=_0x545b68[_0xbc3e58(0x24a)]*_0x177c6b,_0x31d9da=createEventEl(_0x545b68[_0xbc3e58(0x2bc)]);_0x31d9da[_0xbc3e58(0x324)][_0xbc3e58(0x2cb)]=_0xbc3e58(0x2dc)+_0x177c6b+'%\x20-\x204px)',_0x31d9da[_0xbc3e58(0x324)][_0xbc3e58(0x313)]='calc('+_0x2f4253+_0xbc3e58(0x28a),_0x31d9da[_0xbc3e58(0x324)][_0xbc3e58(0x307)]=0xa+_0x545b68[_0xbc3e58(0x24a)],_0x177c6b<0x55&&_0x31d9da['classList'][_0xbc3e58(0x30d)](_0xbc3e58(0x2a7)),_0x32cd1c[_0xbc3e58(0x1dd)](_0x31d9da);});}function createEventEl(_0x3067d0){const _0x4a40cc=a2_0x571da2,[_0x5f5109,_0x45ee99]=_0x3067d0[_0x4a40cc(0x25d)][_0x4a40cc(0x1d0)](':')[_0x4a40cc(0x2d3)](Number),[_0x185acd,_0x481136]=_0x3067d0[_0x4a40cc(0x30a)][_0x4a40cc(0x1d0)](':')[_0x4a40cc(0x2d3)](Number),_0x44335c=(_0x5f5109*0x3c+_0x45ee99)/0x3c*GRID_H,_0x13d114=(_0x185acd*0x3c+_0x481136-(_0x5f5109*0x3c+_0x45ee99))/0x3c*GRID_H,_0x484e72=document['createElement']('div'),_0x670b69=_0x3067d0[_0x4a40cc(0x287)]===_0x4a40cc(0x276)?'\x20status-completed':'';_0x484e72['className']=_0x4a40cc(0x1eb)+_0x670b69,_0x484e72[_0x4a40cc(0x324)][_0x4a40cc(0x2ac)]=_0x44335c+'px',_0x484e72[_0x4a40cc(0x324)][_0x4a40cc(0x213)]=Math['max'](_0x13d114,0x14)+'px';const _0xa08845=clients[_0x4a40cc(0x274)](_0x4f879b=>_0x3067d0['clientId']&&String(_0x4f879b['id'])===String(_0x3067d0[_0x4a40cc(0x271)])||_0x4f879b['name']===_0x3067d0[_0x4a40cc(0x2fc)]),_0x34309a=_0xa08845?_0xa08845['color']:'#0a84ff';_0x484e72[_0x4a40cc(0x324)][_0x4a40cc(0x2b1)]=_0x34309a,_0x484e72[_0x4a40cc(0x324)]['backgroundColor']=hexToRgba(_0x34309a,0.85);let _0x3fec6e=_0x4a40cc(0x1b1)+_0x3067d0[_0x4a40cc(0x2fc)]+_0x4a40cc(0x2eb)+_0x3067d0[_0x4a40cc(0x25d)]+_0x4a40cc(0x2bf)+_0x3067d0[_0x4a40cc(0x30a)]+_0x4a40cc(0x282);return _0x3067d0[_0x4a40cc(0x2ad)]&&(_0x3fec6e+='<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>'),_0x3067d0[_0x4a40cc(0x287)]===_0x4a40cc(0x276)&&(_0x3fec6e+=_0x4a40cc(0x28c)),_0x484e72[_0x4a40cc(0x26b)]=_0x3fec6e,_0x484e72[_0x4a40cc(0x261)]=_0x1a2061=>{const _0x5b9d9e=_0x4a40cc;_0x1a2061[_0x5b9d9e(0x322)](),openEdit(_0x3067d0);},_0x484e72;}function attachLongPressHandler(_0x4a5f7f,_0x8bf8d3){const _0x47fbc2=a2_0x571da2;let _0x3eaecb=0x0,_0x3af780=null;const _0x3e977d=_0x12485f=>{const _0x36fda3=a2_0xca3a;if(_0x12485f[_0x36fda3(0x2aa)][_0x36fda3(0x210)](_0x36fda3(0x1cb)))return;isScrolling=![],_0x3eaecb=_0x12485f['touches']?_0x12485f[_0x36fda3(0x2d9)][0x0][_0x36fda3(0x308)]:_0x12485f[_0x36fda3(0x308)],_0x3af780=setTimeout(()=>{const _0x4f6dd8=_0x36fda3;if(!isScrolling){navigator[_0x4f6dd8(0x1c7)]?.(0x32);const _0x43d972=_0x4a5f7f[_0x4f6dd8(0x2f9)](),_0x1f8290=Math[_0x4f6dd8(0x1d9)]((_0x3eaecb-_0x43d972['top'])/GRID_H);_0x8bf8d3[_0x4f6dd8(0x1ca)](_0x1f8290,0x0),openAddSession(_0x8bf8d3);}},0x1f4);},_0x8ccc8d=()=>{isScrolling=!![],clearTimeout(_0x3af780);},_0x85d7bf=()=>{clearTimeout(_0x3af780);};_0x4a5f7f[_0x47fbc2(0x1f3)]('touchstart',_0x3e977d,{'passive':!![]}),_0x4a5f7f[_0x47fbc2(0x1f3)](_0x47fbc2(0x236),_0x8ccc8d,{'passive':!![]}),_0x4a5f7f[_0x47fbc2(0x1f3)](_0x47fbc2(0x29f),_0x85d7bf),_0x4a5f7f[_0x47fbc2(0x1f3)]('mousedown',_0x3e977d),_0x4a5f7f['addEventListener'](_0x47fbc2(0x2d0),_0x8ccc8d),_0x4a5f7f[_0x47fbc2(0x1f3)](_0x47fbc2(0x2b9),_0x85d7bf);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x485575=a2_0x571da2,_0x242057=document[_0x485575(0x19f)](_0x485575(0x2df)),_0x217ed6=_0x242057[_0x485575(0x219)],_0x4de61f=_0x242057[_0x485575(0x2ca)],_0x5719bc=_0x242057[_0x485575(0x2c4)];if(_0x4de61f-(_0x217ed6+_0x5719bc)<0x12c){const _0x1da739=endOffset;endOffset+=0xe,renderDayRange(_0x1da739+0x1,endOffset),reRenderBlocks();}if(_0x217ed6<0x12c){const _0x372fb7=startOffset;startOffset-=0xe,prependDays(startOffset,_0x372fb7-0x1),_0x242057[_0x485575(0x219)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x4fe089,_0x3af92a){const _0x2b30e7=a2_0x571da2,_0xc504eb=document['getElementById'](_0x2b30e7(0x22c)),_0x70aa55=document[_0x2b30e7(0x19f)]('gridColumns'),_0x345ce4=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x4449b2=new Date();_0x4449b2[_0x2b30e7(0x1ca)](0x0,0x0,0x0,0x0);const _0x15dc4d=getLocalDateStr(new Date()),_0x1e0d9b=document[_0x2b30e7(0x252)](),_0x4a26ab=document['createDocumentFragment']();for(let _0x3c54c1=_0x4fe089;_0x3c54c1<=_0x3af92a;_0x3c54c1++){const _0x35aa40=new Date(_0x4449b2);_0x35aa40[_0x2b30e7(0x29a)](_0x35aa40[_0x2b30e7(0x1fc)]()+_0x3c54c1);const _0x1551a7=getLocalDateStr(_0x35aa40);let _0x35cc47=_0x35aa40[_0x2b30e7(0x203)]()-0x1;if(_0x35cc47===-0x1)_0x35cc47=0x6;const _0x3922b1=_0x1551a7===_0x15dc4d,_0x42a59c=document[_0x2b30e7(0x2e8)](_0x2b30e7(0x209));_0x42a59c[_0x2b30e7(0x2ee)]='day-col-header\x20'+(_0x3922b1?_0x2b30e7(0x279):''),_0x42a59c['id']=_0x2b30e7(0x299)+_0x1551a7,_0x42a59c['setAttribute']('data-date',_0x1551a7),_0x42a59c[_0x2b30e7(0x26b)]=_0x2b30e7(0x2b3)+_0x345ce4[_0x35cc47]+_0x2b30e7(0x21b)+_0x35aa40['getDate']()+_0x2b30e7(0x25a)+_0x1551a7+_0x2b30e7(0x26e),_0x42a59c[_0x2b30e7(0x261)]=()=>openDayOptions(_0x1551a7,_0x345ce4[_0x35cc47]+'\x20'+_0x35aa40['getDate']()),_0x1e0d9b[_0x2b30e7(0x1dd)](_0x42a59c);const _0xc1c518=document['createElement']('div');_0xc1c518['className']=_0x2b30e7(0x270)+(_0x3922b1?'today':''),_0xc1c518['setAttribute'](_0x2b30e7(0x249),_0x1551a7),_0xc1c518[_0x2b30e7(0x1b8)](_0x2b30e7(0x19e),_0x35cc47),renderEventsForColumn(_0xc1c518,_0x1551a7,_0x35cc47),attachLongPressHandler(_0xc1c518,_0x35aa40),_0x4a26ab[_0x2b30e7(0x1dd)](_0xc1c518),updateDayStats(_0x1551a7);}_0xc504eb['insertBefore'](_0x1e0d9b,_0xc504eb[_0x2b30e7(0x218)]),_0x70aa55[_0x2b30e7(0x1c3)](_0x4a26ab,_0x70aa55[_0x2b30e7(0x2d5)]('.day-column'));}function validateAppointment(_0x4aa576,_0x5a9c20,_0x269e4b,_0x4c23c2,_0x108404){const _0x24899e=a2_0x571da2,[_0x5e2069,_0x437585]=_0x5a9c20[_0x24899e(0x1d0)](':')[_0x24899e(0x2d3)](Number),[_0x30c326,_0x1c63d8]=_0x269e4b[_0x24899e(0x1d0)](':')[_0x24899e(0x2d3)](Number),_0x567e54=_0x5e2069*0x3c+_0x437585,_0x25a46e=_0x30c326*0x3c+_0x1c63d8,_0x1d24bc=String(_0x108404);let _0x3c2d65=![],_0x1d2ed1='';for(let _0x58c08d of sessions){if(_0x58c08d[_0x24899e(0x1b9)]!==_0x4aa576)continue;if(_0x58c08d[_0x24899e(0x287)]===_0x24899e(0x29b))continue;if(_0x4c23c2&&String(_0x58c08d['id'])===String(_0x4c23c2))continue;const [_0x48c108,_0x32c53f]=_0x58c08d[_0x24899e(0x25d)][_0x24899e(0x1d0)](':')['map'](Number),[_0x156977,_0xcc69d3]=_0x58c08d[_0x24899e(0x30a)][_0x24899e(0x1d0)](':')[_0x24899e(0x2d3)](Number),_0x1a5c27=_0x48c108*0x3c+_0x32c53f,_0xa7936f=_0x156977*0x3c+_0xcc69d3;if(Math['max'](_0x567e54,_0x1a5c27)<Math['min'](_0x25a46e,_0xa7936f)){if(_0x58c08d[_0x24899e(0x271)]&&String(_0x58c08d[_0x24899e(0x271)])===_0x1d24bc)return{'valid':![],'msg':_0x24899e(0x1ac)+_0x58c08d['client']+_0x24899e(0x1db)};_0x3c2d65=!![],_0x1d2ed1=_0x58c08d[_0x24899e(0x2fc)];}}if(_0x3c2d65)return{'valid':!![],'warning':_0x24899e(0x27a)+_0x1d2ed1};return{'valid':!![]};}function updateDateDisplay(){const _0x18ed51=a2_0x571da2,_0x3f091e=document[_0x18ed51(0x19f)]('inpDate')['value'],_0x43ab63=document[_0x18ed51(0x19f)](_0x18ed51(0x1d6));if(!_0x3f091e){_0x43ab63['textContent']='';return;}const [_0x344625,_0x2157b0,_0x548bf7]=_0x3f091e[_0x18ed51(0x1d0)]('-')[_0x18ed51(0x2d3)](Number),_0x4ff36d=new Date(_0x344625,_0x2157b0-0x1,_0x548bf7),_0x22826d={'weekday':_0x18ed51(0x20a),'day':'numeric','month':_0x18ed51(0x20a),'year':'numeric'};let _0x5e756b=_0x4ff36d[_0x18ed51(0x326)]('ru-RU',_0x22826d);_0x5e756b=_0x5e756b['charAt'](0x0)[_0x18ed51(0x258)]()+_0x5e756b[_0x18ed51(0x21d)](0x1),_0x43ab63['textContent']=_0x5e756b;}function autoSetEndTime(){const _0x2273d1=a2_0x571da2,_0x5a23ce=document[_0x2273d1(0x19f)](_0x2273d1(0x21f))[_0x2273d1(0x1cd)];if(!_0x5a23ce)return;const [_0x14f966,_0x4734d9]=_0x5a23ce[_0x2273d1(0x1d0)](':')[_0x2273d1(0x2d3)](Number);let _0x7177b3=_0x14f966+0x1;if(_0x7177b3>0x17)_0x7177b3=0x0;const _0x4a73cd=String(_0x7177b3)['padStart'](0x2,'0')+':'+String(_0x4734d9)['padStart'](0x2,'0');document[_0x2273d1(0x19f)]('inpEnd')[_0x2273d1(0x1cd)]=_0x4a73cd;}function populateClientSelect(){const _0x4e5a99=a2_0x571da2,_0x4c6f54=document['getElementById'](_0x4e5a99(0x2cc));_0x4c6f54[_0x4e5a99(0x26b)]='';if(clients[_0x4e5a99(0x1b4)]===0x0){const _0x113cb3=document[_0x4e5a99(0x2e8)]('option');_0x113cb3[_0x4e5a99(0x2b4)]=_0x4e5a99(0x267),_0x4c6f54[_0x4e5a99(0x1dd)](_0x113cb3);return;}clients['forEach'](_0x2ed9db=>{const _0x126c13=_0x4e5a99,_0x4b1a4f=document[_0x126c13(0x2e8)](_0x126c13(0x1ee));_0x4b1a4f[_0x126c13(0x1cd)]=_0x2ed9db[_0x126c13(0x1ce)],_0x4b1a4f[_0x126c13(0x1c8)]=_0x2ed9db[_0x126c13(0x1ce)],_0x4c6f54['appendChild'](_0x4b1a4f);});}function openActionSheet(_0x5bd2e3){const _0x1c6d46=a2_0x571da2,_0x35fa12=document[_0x1c6d46(0x19f)]('actionSheet'),_0x569382=document[_0x1c6d46(0x19f)]('actionSheetOverlay'),_0x16110b=document[_0x1c6d46(0x19f)](_0x1c6d46(0x2b8)),_0x405860=document['getElementById'](_0x1c6d46(0x273)),_0xd09dbf=document[_0x1c6d46(0x19f)](_0x1c6d46(0x1ab));_0x569382[_0x1c6d46(0x22f)][_0x1c6d46(0x30d)]('active'),_0x35fa12['classList'][_0x1c6d46(0x30d)](_0x1c6d46(0x229));if(_0x5bd2e3===_0x1c6d46(0x31e))_0x16110b['textContent']=_0x1c6d46(0x2f2),_0x405860[_0x1c6d46(0x1c8)]=_0x1c6d46(0x2c0),_0x405860['onclick']=()=>{const _0x443f12=_0x1c6d46;closeActionSheet(),updateSeriesBatch(_0x443f12(0x247),tempSessionData);},_0xd09dbf[_0x1c6d46(0x1c8)]=_0x1c6d46(0x2af),_0xd09dbf[_0x1c6d46(0x261)]=()=>{const _0x3ae70a=_0x1c6d46;closeActionSheet(),updateSeriesBatch(_0x3ae70a(0x1ed),tempSessionData);};else _0x5bd2e3===_0x1c6d46(0x237)&&(_0x16110b[_0x1c6d46(0x1c8)]=_0x1c6d46(0x1c4),_0x405860[_0x1c6d46(0x1c8)]='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x405860[_0x1c6d46(0x2ee)]=_0x1c6d46(0x23a),_0x405860[_0x1c6d46(0x261)]=()=>{const _0x15d77d=_0x1c6d46;closeActionSheet(),commitDelete(_0x15d77d(0x247),sessions[_0x15d77d(0x274)](_0x96e35a=>_0x96e35a['id']===editingId));},_0xd09dbf['textContent']=_0x1c6d46(0x2af),_0xd09dbf[_0x1c6d46(0x2ee)]=_0x1c6d46(0x1de),_0xd09dbf[_0x1c6d46(0x261)]=()=>{const _0x575ad3=_0x1c6d46;closeActionSheet(),commitDelete(_0x575ad3(0x1ed),sessions[_0x575ad3(0x274)](_0x49f2c8=>_0x49f2c8['id']===editingId));});}function closeActionSheet(){const _0xdf9c3f=a2_0x571da2;document['getElementById'](_0xdf9c3f(0x1b6))[_0xdf9c3f(0x22f)][_0xdf9c3f(0x2ec)]('open'),document[_0xdf9c3f(0x19f)](_0xdf9c3f(0x2a1))['classList'][_0xdf9c3f(0x2ec)](_0xdf9c3f(0x2e1));}function openSettings(){const _0x44b0b3=a2_0x571da2;openSheet(_0x44b0b3(0x1c9));}function saveCoachSettings(){const _0x3993aa=a2_0x571da2,_0x2b02b8=document['getElementById']('settingCancelWindow')[_0x3993aa(0x1cd)];localStorage[_0x3993aa(0x302)]('uc_settings_cancel_window',_0x2b02b8),console[_0x3993aa(0x24d)](_0x3993aa(0x284),_0x2b02b8),DataManager[_0x3993aa(0x2da)](_0x3993aa(0x224),{'settings':{'cancel_window':_0x2b02b8}})['catch'](_0x330b75=>{const _0x5752f2=_0x3993aa;console[_0x5752f2(0x20d)](_0x5752f2(0x289),_0x330b75),showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫',![]);});}function loadCoachSettings(){const _0x20486b=a2_0x571da2,_0x5a1a21=localStorage[_0x20486b(0x212)]('uc_settings_cancel_window');_0x5a1a21&&(document[_0x20486b(0x19f)](_0x20486b(0x20c))[_0x20486b(0x1cd)]=_0x5a1a21);}function openRangesSheet(){closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet('rangesSheet');}function addRange(){const _0x290e47=a2_0x571da2,_0x113548=document[_0x290e47(0x19f)]('rangeStartDate')[_0x290e47(0x1cd)],_0x1f0f8e=document[_0x290e47(0x19f)](_0x290e47(0x303))['value'],_0x5964e0=document[_0x290e47(0x19f)]('rangeEndDate')[_0x290e47(0x1cd)],_0x231c10=document[_0x290e47(0x19f)](_0x290e47(0x1bd))[_0x290e47(0x1cd)];if(!_0x113548||!_0x1f0f8e||!_0x5964e0||!_0x231c10)return alert(_0x290e47(0x23e));const _0x1476b2=_0x113548+'T'+_0x1f0f8e,_0x389073=_0x5964e0+'T'+_0x231c10;if(_0x1476b2>=_0x389073)return alert(_0x290e47(0x2e4));specialRanges[_0x290e47(0x23c)]({'start':_0x1476b2,'end':_0x389073}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x290e47(0x1c6)](),DataManager[_0x290e47(0x2da)](_0x290e47(0x224),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x51d322){const _0x3ee173=a2_0x571da2;specialRanges[_0x3ee173(0x306)](_0x51d322,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x3ee173(0x1c6)](),DataManager[_0x3ee173(0x2da)](_0x3ee173(0x224),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x3935e7=a2_0x571da2;document[_0x3935e7(0x19f)](_0x3935e7(0x1e4))[_0x3935e7(0x1cd)]='',document[_0x3935e7(0x19f)](_0x3935e7(0x303))[_0x3935e7(0x1cd)]=_0x3935e7(0x1ea),document[_0x3935e7(0x19f)](_0x3935e7(0x297))[_0x3935e7(0x1cd)]='',document[_0x3935e7(0x19f)]('rangeEndTime')[_0x3935e7(0x1cd)]=_0x3935e7(0x1d8);}function renderRangesList(){const _0x7abb87=a2_0x571da2,_0x7d3af7=document['getElementById'](_0x7abb87(0x2be));_0x7d3af7['innerHTML']='';if(!specialRanges[_0x7abb87(0x1b4)]){_0x7d3af7[_0x7abb87(0x26b)]='<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>';return;}specialRanges['forEach']((_0x1af02b,_0x11592f)=>{const _0x2f5ad6=_0x7abb87,_0x4a0076=document[_0x2f5ad6(0x2e8)](_0x2f5ad6(0x209));_0x4a0076[_0x2f5ad6(0x2ee)]=_0x2f5ad6(0x280);const _0x465422=_0x7232d=>{const _0x105c21=_0x2f5ad6,_0x3586e5=new Date(_0x7232d);return _0x3586e5[_0x105c21(0x1fc)]()+'.'+String(_0x3586e5['getMonth']()+0x1)['padStart'](0x2,'0')+'\x20'+String(_0x3586e5[_0x105c21(0x2cd)]())['padStart'](0x2,'0')+':'+String(_0x3586e5[_0x105c21(0x245)]())['padStart'](0x2,'0');};_0x4a0076[_0x2f5ad6(0x26b)]=_0x2f5ad6(0x1b7)+_0x465422(_0x1af02b[_0x2f5ad6(0x25d)])+'\x20‚Äî\x20'+_0x465422(_0x1af02b[_0x2f5ad6(0x30a)])+_0x2f5ad6(0x2f1)+_0x11592f+_0x2f5ad6(0x2fe),_0x7d3af7[_0x2f5ad6(0x1dd)](_0x4a0076);});}function scrollToToday(){const _0x4881bc=a2_0x571da2,_0x580433=getLocalDateStr(new Date()),_0x15c3a4=document['getElementById'](_0x4881bc(0x299)+_0x580433),_0x3a0d05=document[_0x4881bc(0x19f)]('matrixViewport');if(_0x15c3a4&&_0x3a0d05){const _0x5eca9e=_0x3a0d05[_0x4881bc(0x2c4)],_0x274a76=_0x15c3a4[_0x4881bc(0x2ea)],_0x2e7fbe=_0x15c3a4[_0x4881bc(0x231)];_0x3a0d05[_0x4881bc(0x219)]=_0x274a76-_0x5eca9e/0x2+_0x2e7fbe/0x2,_0x3a0d05[_0x4881bc(0x1af)]=0x9*GRID_H;}}function onScroll(){const _0x5a23a8=a2_0x571da2,_0x519412=document[_0x5a23a8(0x19f)](_0x5a23a8(0x2df)),_0x36291a=document['querySelectorAll'](_0x5a23a8(0x1f0));for(let _0x5d7b97 of _0x36291a)if(_0x5d7b97[_0x5a23a8(0x2ea)]>=_0x519412['scrollLeft']){const _0x122a68=new Date(_0x5d7b97[_0x5a23a8(0x250)](_0x5a23a8(0x249)));document['getElementById'](_0x5a23a8(0x207))[_0x5a23a8(0x1c8)]=_0x122a68[_0x5a23a8(0x285)]('ru',{'month':_0x5a23a8(0x20a)})[_0x5a23a8(0x258)]()+'\x20'+_0x122a68['getFullYear']();break;}}function showToast(_0x537c73,_0x4794f6=![]){const _0x2ef534=a2_0x571da2,_0x373702=document[_0x2ef534(0x19f)](_0x2ef534(0x257));_0x373702[_0x2ef534(0x2ee)]=_0x2ef534(0x27d)+(_0x4794f6?_0x2ef534(0x223):''),document[_0x2ef534(0x19f)](_0x2ef534(0x286))['textContent']=_0x4794f6?'–£—Å–ø–µ—à–Ω–æ':_0x2ef534(0x225),document[_0x2ef534(0x19f)](_0x2ef534(0x305))[_0x2ef534(0x1c8)]=_0x537c73,_0x373702['classList'][_0x2ef534(0x30d)](_0x2ef534(0x230)),setTimeout(()=>{const _0x5e500d=_0x2ef534;_0x373702['classList'][_0x5e500d(0x2ec)](_0x5e500d(0x230));},0xbb8);}function openDayOptions(_0x3748e7,_0x20fd62){const _0x54cecf=a2_0x571da2;selectedDayForOptions=_0x3748e7,document[_0x54cecf(0x19f)](_0x54cecf(0x20e))[_0x54cecf(0x1c8)]=_0x20fd62,openSheet('dayOptionsSheet');}function toggleDayOff(){const _0x17449f=a2_0x571da2;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x17449f(0x2c9),reRenderBlocks(),closeAllSheets(),DataManager[_0x17449f(0x1c6)](),DataManager[_0x17449f(0x2da)]('save_settings',{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x42f548=a2_0x571da2;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x42f548(0x1c6)](),DataManager[_0x42f548(0x2da)](_0x42f548(0x224),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x54ee8b){const _0x239d89=a2_0x571da2;document[_0x239d89(0x19f)](_0x239d89(0x202))[_0x239d89(0x22f)]['add'](_0x239d89(0x2e1)),document[_0x239d89(0x19f)](_0x54ee8b)[_0x239d89(0x22f)]['add'](_0x239d89(0x229));}function closeAllSheets(){const _0x1ec3a6=a2_0x571da2;document['getElementById'](_0x1ec3a6(0x202))[_0x1ec3a6(0x22f)][_0x1ec3a6(0x2ec)]('active'),document[_0x1ec3a6(0x23b)](_0x1ec3a6(0x2f3))[_0x1ec3a6(0x2ff)](_0x3cb0a0=>_0x3cb0a0['classList'][_0x1ec3a6(0x2ec)](_0x1ec3a6(0x229)));}function openPatternEditor(){const _0x45fcb6=a2_0x571da2;closeAllSheets(),document[_0x45fcb6(0x19f)](_0x45fcb6(0x2b0))[_0x45fcb6(0x22f)][_0x45fcb6(0x30d)](_0x45fcb6(0x229)),renderPatternEditor();}function closePatternEditor(){const _0x1e11d5=a2_0x571da2;document['getElementById'](_0x1e11d5(0x2b0))[_0x1e11d5(0x22f)][_0x1e11d5(0x2ec)](_0x1e11d5(0x229));}function savePattern(){const _0x26a463=a2_0x571da2;document[_0x26a463(0x19f)](_0x26a463(0x2b0))['classList'][_0x26a463(0x2ec)](_0x26a463(0x229)),reRenderBlocks(),DataManager[_0x26a463(0x1c6)](),DataManager[_0x26a463(0x2da)](_0x26a463(0x224),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x2b13c7=a2_0x571da2,_0xbdcc22=document[_0x2b13c7(0x19f)](_0x2b13c7(0x1fd));_0xbdcc22[_0x2b13c7(0x26b)]='';const _0x58f77f=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x32b653=document[_0x2b13c7(0x2e8)](_0x2b13c7(0x209));_0x32b653[_0x2b13c7(0x2ee)]=_0x2b13c7(0x298),_0xbdcc22[_0x2b13c7(0x1dd)](_0x32b653),_0x58f77f[_0x2b13c7(0x2ff)]((_0x5f4096,_0x3c2f34)=>{const _0x3f3dbc=_0x2b13c7,_0x38b2ff=document[_0x3f3dbc(0x2e8)](_0x3f3dbc(0x209));_0x38b2ff['className']=_0x3f3dbc(0x1e9),_0x38b2ff['innerHTML']=_0x5f4096+_0x3f3dbc(0x325),_0x38b2ff[_0x3f3dbc(0x261)]=()=>toggleColPattern(_0x3c2f34),_0xbdcc22[_0x3f3dbc(0x1dd)](_0x38b2ff);});for(let _0xa47b21=0x0;_0xa47b21<0x18;_0xa47b21++){const _0x400e8a=document[_0x2b13c7(0x2e8)](_0x2b13c7(0x209));_0x400e8a[_0x2b13c7(0x2ee)]=_0x2b13c7(0x1e1),_0x400e8a[_0x2b13c7(0x26b)]=_0x2b13c7(0x1df)+String(_0xa47b21)[_0x2b13c7(0x1e6)](0x2,'0')+_0x2b13c7(0x241),_0x400e8a['onclick']=()=>toggleRowPattern(_0xa47b21),_0xbdcc22[_0x2b13c7(0x1dd)](_0x400e8a);for(let _0x3bdb63=0x0;_0x3bdb63<0x7;_0x3bdb63++){const _0x12ee1e=document[_0x2b13c7(0x2e8)]('div'),_0x40e775=(availabilityPattern[_0x3bdb63]||[])['includes'](_0xa47b21),_0x266ec4=!_0x40e775;_0x12ee1e[_0x2b13c7(0x2ee)]=_0x2b13c7(0x268)+(_0x266ec4?_0x2b13c7(0x2e1):''),_0x12ee1e[_0x2b13c7(0x261)]=()=>toggleSinglePattern(_0x3bdb63,_0xa47b21),_0xbdcc22['appendChild'](_0x12ee1e);}}}function toggleSinglePattern(_0x3d97db,_0x1c9b24){const _0x266244=a2_0x571da2;if(!availabilityPattern[_0x3d97db])availabilityPattern[_0x3d97db]=[];const _0x1a1f8e=availabilityPattern[_0x3d97db],_0x5d9681=_0x1a1f8e[_0x266244(0x221)](_0x1c9b24);_0x5d9681===-0x1?_0x1a1f8e[_0x266244(0x23c)](_0x1c9b24):_0x1a1f8e[_0x266244(0x306)](_0x5d9681,0x1),renderPatternEditor();}function toggleColPattern(_0x2723f3){if(!availabilityPattern[_0x2723f3])availabilityPattern[_0x2723f3]=[];const _0x58b078=availabilityPattern[_0x2723f3];_0x58b078['length']===0x0?availabilityPattern[_0x2723f3]=Array['from']({'length':0x18},(_0x365263,_0x3f057d)=>_0x3f057d):availabilityPattern[_0x2723f3]=[],renderPatternEditor();}function toggleRowPattern(_0x4da672){const _0x142007=a2_0x571da2;let _0x43779d=!![];for(let _0x53be00=0x0;_0x53be00<0x7;_0x53be00++){if((availabilityPattern[_0x53be00]||[])['includes'](_0x4da672)){_0x43779d=![];break;}}for(let _0x141eba=0x0;_0x141eba<0x7;_0x141eba++){if(!availabilityPattern[_0x141eba])availabilityPattern[_0x141eba]=[];const _0x10cd52=availabilityPattern[_0x141eba]['indexOf'](_0x4da672);if(_0x43779d){if(_0x10cd52===-0x1)availabilityPattern[_0x141eba][_0x142007(0x23c)](_0x4da672);}else{if(_0x10cd52!==-0x1)availabilityPattern[_0x141eba][_0x142007(0x306)](_0x10cd52,0x1);}}renderPatternEditor();}function renderPCol(_0x3b0e4f,_0x800886){const _0x26c52f=a2_0x571da2;_0x3b0e4f[_0x26c52f(0x26b)]='';const _0xe3563e=Math[_0x26c52f(0x269)](_0x3b0e4f[_0x26c52f(0x2ea)]);(availabilityPattern[_0x800886]||[])[_0x26c52f(0x2ff)](_0x1f08be=>{const _0x23d16c=_0x26c52f,_0x34710a=document[_0x23d16c(0x2e8)]('div');_0x34710a[_0x23d16c(0x2ee)]=_0x23d16c(0x201);const _0x339d85=_0x1f08be*GRID_H;_0x34710a[_0x23d16c(0x324)][_0x23d16c(0x2ac)]=_0x339d85+'px',_0x34710a[_0x23d16c(0x324)]['backgroundPosition']='-'+_0xe3563e+_0x23d16c(0x26c)+_0x339d85+'px',_0x34710a['onclick']=_0x185fb1=>{const _0x2b90f2=_0x23d16c;_0x185fb1[_0x2b90f2(0x322)](),toggleSinglePattern(_0x800886,_0x1f08be);},_0x3b0e4f[_0x23d16c(0x1dd)](_0x34710a);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x335002=a2_0x571da2,_0x2b8b10=new Date(),_0x3c57d0=document[_0x335002(0x19f)](_0x335002(0x1c0)),_0x4450ac=document[_0x335002(0x19f)]('timeLineBadge'),_0x5287ec=(_0x2b8b10[_0x335002(0x2cd)]()*0x3c+_0x2b8b10[_0x335002(0x245)]())/0x3c*GRID_H;_0x3c57d0[_0x335002(0x324)][_0x335002(0x2ac)]=_0x5287ec+'px',_0x3c57d0[_0x335002(0x324)][_0x335002(0x1ae)]=_0x335002(0x22a),_0x4450ac[_0x335002(0x1c8)]=String(_0x2b8b10['getHours']())[_0x335002(0x1e6)](0x2,'0')+':'+String(_0x2b8b10[_0x335002(0x245)]())[_0x335002(0x1e6)](0x2,'0'),_0x4450ac[_0x335002(0x324)][_0x335002(0x1ae)]=_0x335002(0x22a),_0x4450ac[_0x335002(0x324)][_0x335002(0x2ac)]=_0x5287ec+'px';}document[a2_0x571da2(0x1f3)](a2_0x571da2(0x204),init);function openDayOptions(_0x4ff647){const _0x3ab76d=a2_0x571da2;selectedDayForOptions=_0x4ff647;const _0xeafd2a=new Date(_0x4ff647),_0x5af35b={'weekday':_0x3ab76d(0x20a),'day':_0x3ab76d(0x1cc),'month':_0x3ab76d(0x20a),'year':'numeric'},_0x251e64=_0xeafd2a[_0x3ab76d(0x326)](_0x3ab76d(0x2f7),_0x5af35b);document[_0x3ab76d(0x19f)](_0x3ab76d(0x295))[_0x3ab76d(0x1c8)]=_0x251e64['charAt'](0x0)[_0x3ab76d(0x258)]()+_0x251e64['slice'](0x1);let _0x931ed0=_0xeafd2a[_0x3ab76d(0x203)]()-0x1;if(_0x931ed0===-0x1)_0x931ed0=0x6;const _0x4aeb90=availabilityPattern[_0x931ed0]||[],_0x4cc40e=0x18-_0x4aeb90[_0x3ab76d(0x1b4)],_0x546413=_0x4cc40e*0x3c,_0x3084da=sessions[_0x3ab76d(0x2a6)](_0xeb5191=>_0xeb5191['dateStr']===_0x4ff647&&_0xeb5191[_0x3ab76d(0x287)]!==_0x3ab76d(0x29b));let _0x1017a9=_0x3084da['map'](_0x288399=>{const _0x18bb7b=_0x3ab76d,[_0x274b21,_0x890081]=_0x288399[_0x18bb7b(0x25d)][_0x18bb7b(0x1d0)](':')['map'](Number),[_0x441c19,_0x3f590a]=_0x288399[_0x18bb7b(0x30a)][_0x18bb7b(0x1d0)](':')['map'](Number);return[_0x274b21*0x3c+_0x890081,_0x441c19*0x3c+_0x3f590a];});_0x1017a9[_0x3ab76d(0x22e)]((_0x29a829,_0xa9865e)=>_0x29a829[0x0]-_0xa9865e[0x0]);let _0x13c9ad=[];if(_0x1017a9['length']>0x0){let _0x33f57b=_0x1017a9[0x0];for(let _0x1e5fb8=0x1;_0x1e5fb8<_0x1017a9[_0x3ab76d(0x1b4)];_0x1e5fb8++){_0x1017a9[_0x1e5fb8][0x0]<_0x33f57b[0x1]?_0x33f57b[0x1]=Math[_0x3ab76d(0x315)](_0x33f57b[0x1],_0x1017a9[_0x1e5fb8][0x1]):(_0x13c9ad[_0x3ab76d(0x23c)](_0x33f57b),_0x33f57b=_0x1017a9[_0x1e5fb8]);}_0x13c9ad[_0x3ab76d(0x23c)](_0x33f57b);}let _0x8b9689=0x0;_0x13c9ad[_0x3ab76d(0x2ff)](_0x33e783=>_0x8b9689+=_0x33e783[0x1]-_0x33e783[0x0]),document[_0x3ab76d(0x19f)]('doWorkHours')['textContent']=formatMinsToHrs(_0x546413),document[_0x3ab76d(0x19f)](_0x3ab76d(0x1b5))['textContent']=formatMinsToHrs(_0x8b9689);const _0x20fcdf=_0x546413>0x0?Math[_0x3ab76d(0x269)](_0x8b9689/_0x546413*0x64):0x0,_0x14d756=document['getElementById']('doLoadPercent');_0x14d756['textContent']=_0x20fcdf+'%';const _0x5a6485=document[_0x3ab76d(0x19f)](_0x3ab76d(0x2f5));if(_0x20fcdf>0x64)_0x14d756[_0x3ab76d(0x324)][_0x3ab76d(0x27e)]=_0x3ab76d(0x2d4),_0x5a6485[_0x3ab76d(0x324)][_0x3ab76d(0x246)]=_0x3ab76d(0x2c3);else _0x20fcdf>0x50?(_0x14d756[_0x3ab76d(0x324)][_0x3ab76d(0x27e)]=_0x3ab76d(0x216),_0x5a6485[_0x3ab76d(0x324)][_0x3ab76d(0x246)]=_0x3ab76d(0x2c2)):(_0x14d756[_0x3ab76d(0x324)][_0x3ab76d(0x27e)]=_0x3ab76d(0x2d2),_0x5a6485[_0x3ab76d(0x324)]['borderColor']=_0x3ab76d(0x253));const _0x3bf5fd=document[_0x3ab76d(0x19f)]('doEventsList');_0x3bf5fd[_0x3ab76d(0x26b)]='';_0x3084da['length']===0x0?_0x3bf5fd[_0x3ab76d(0x26b)]=_0x3ab76d(0x228):(_0x3084da[_0x3ab76d(0x22e)]((_0x59d274,_0x1277e0)=>_0x59d274[_0x3ab76d(0x25d)][_0x3ab76d(0x1c1)](_0x1277e0[_0x3ab76d(0x25d)])),_0x3084da['forEach'](_0x461222=>{const _0x3b79f1=_0x3ab76d,_0x167576=clients['find'](_0x3d30d5=>_0x3d30d5[_0x3b79f1(0x1ce)]===_0x461222[_0x3b79f1(0x2fc)]),_0x1a9e23=_0x167576?_0x167576['color']:_0x3b79f1(0x244),_0x51dc9d=_0x461222[_0x3b79f1(0x287)]===_0x3b79f1(0x276),_0x4de396=_0x51dc9d?_0x3b79f1(0x254):'',_0x4c65b0=document[_0x3b79f1(0x2e8)]('div');_0x4c65b0[_0x3b79f1(0x2ee)]=_0x3b79f1(0x23f),_0x4c65b0[_0x3b79f1(0x324)][_0x3b79f1(0x2b1)]=_0x1a9e23,_0x4c65b0['innerHTML']=_0x3b79f1(0x31c)+_0x461222[_0x3b79f1(0x25d)]+'\x20-\x20'+_0x461222[_0x3b79f1(0x30a)]+_0x3b79f1(0x239)+_0x461222['client']+_0x3b79f1(0x316)+_0x4de396+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x3bf5fd[_0x3b79f1(0x1dd)](_0x4c65b0);}));const _0x55fb39=document[_0x3ab76d(0x19f)](_0x3ab76d(0x301)),_0x49c322=dateExceptions[_0x4ff647]===_0x3ab76d(0x2c9);_0x49c322?(_0x55fb39[_0x3ab76d(0x1c8)]='–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º',_0x55fb39['className']=_0x3ab76d(0x1a6),_0x55fb39[_0x3ab76d(0x324)]['color']='var(--acc-green)',_0x55fb39[_0x3ab76d(0x324)][_0x3ab76d(0x1ba)]=_0x3ab76d(0x1bf)):(_0x55fb39[_0x3ab76d(0x1c8)]='–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º',_0x55fb39[_0x3ab76d(0x2ee)]='btn-primary\x20btn-danger',_0x55fb39[_0x3ab76d(0x324)][_0x3ab76d(0x27e)]=_0x3ab76d(0x2d4),_0x55fb39[_0x3ab76d(0x324)][_0x3ab76d(0x1ba)]=_0x3ab76d(0x296)),openSheet(_0x3ab76d(0x1d3));}let currentAnPeriod='week';function openAnalytics(){const _0x110c08=a2_0x571da2,_0x433f69=document[_0x110c08(0x2d5)](_0x110c08(0x2c8));setAnalyticsPeriod(_0x110c08(0x28d),_0x433f69),closeAllSheets(),openSheet(_0x110c08(0x277));}function setAnalyticsPeriod(_0x1069b0,_0x34c52f){const _0x2e2efc=a2_0x571da2;currentAnPeriod=_0x1069b0,document[_0x2e2efc(0x23b)](_0x2e2efc(0x2c8))[_0x2e2efc(0x2ff)](_0x4f24c6=>_0x4f24c6['classList'][_0x2e2efc(0x2ec)](_0x2e2efc(0x2e1)));if(_0x34c52f)_0x34c52f[_0x2e2efc(0x22f)]['add'](_0x2e2efc(0x2e1));const _0x378693=document[_0x2e2efc(0x19f)]('anCustomDates');_0x378693[_0x2e2efc(0x324)][_0x2e2efc(0x1ae)]=_0x1069b0===_0x2e2efc(0x2cf)?_0x2e2efc(0x27f):_0x2e2efc(0x2a4);const _0x252efe=new Date();let _0x3cb2b2=new Date(),_0x47854f=new Date();if(_0x1069b0==='week')_0x3cb2b2=getStartOfWeek(_0x252efe),_0x47854f=new Date(_0x3cb2b2),_0x47854f[_0x2e2efc(0x29a)](_0x47854f[_0x2e2efc(0x1fc)]()+0x6);else{if(_0x1069b0==='month')_0x3cb2b2=new Date(_0x252efe['getFullYear'](),_0x252efe[_0x2e2efc(0x1d1)](),0x1),_0x47854f=new Date(_0x252efe[_0x2e2efc(0x2ab)](),_0x252efe[_0x2e2efc(0x1d1)]()+0x1,0x0);else{!document[_0x2e2efc(0x19f)](_0x2e2efc(0x2fb))[_0x2e2efc(0x1cd)]&&(document[_0x2e2efc(0x19f)](_0x2e2efc(0x2fb))['value']=getLocalDateStr(_0x252efe),document[_0x2e2efc(0x19f)](_0x2e2efc(0x1aa))[_0x2e2efc(0x1cd)]=getLocalDateStr(_0x252efe));refreshAnalytics();return;}}document[_0x2e2efc(0x19f)]('anStart')[_0x2e2efc(0x1cd)]=getLocalDateStr(_0x3cb2b2),document[_0x2e2efc(0x19f)](_0x2e2efc(0x1aa))['value']=getLocalDateStr(_0x47854f),refreshAnalytics();}function refreshAnalytics(){const _0x1c96f5=a2_0x571da2,_0x3ab7c5=document[_0x1c96f5(0x19f)]('anStart')[_0x1c96f5(0x1cd)],_0x24011c=document['getElementById'](_0x1c96f5(0x1aa))[_0x1c96f5(0x1cd)];if(!_0x3ab7c5||!_0x24011c)return;const _0x10893e=sessions[_0x1c96f5(0x2a6)](_0x583bf4=>_0x583bf4[_0x1c96f5(0x1b9)]>=_0x3ab7c5&&_0x583bf4[_0x1c96f5(0x1b9)]<=_0x24011c&&_0x583bf4[_0x1c96f5(0x287)]!==_0x1c96f5(0x29b)),_0x184b33=_0x10893e['length'],_0x591ca9=_0x10893e[_0x1c96f5(0x2a6)](_0x1f985c=>_0x1f985c['status']===_0x1c96f5(0x276))[_0x1c96f5(0x1b4)],_0xf1e80d=_0x184b33>0x0?Math[_0x1c96f5(0x269)](_0x591ca9/_0x184b33*0x64):0x0;document[_0x1c96f5(0x19f)](_0x1c96f5(0x262))['textContent']=_0xf1e80d+'%',document[_0x1c96f5(0x19f)](_0x1c96f5(0x2b7))['textContent']=_0x591ca9+_0x1c96f5(0x311)+_0x184b33+'\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ';const _0x24d512=document[_0x1c96f5(0x19f)]('anDonutCircle'),_0x348f4e=0x2*Math['PI']*0x23,_0x4661b5=_0x348f4e-_0xf1e80d/0x64*_0x348f4e;_0x24d512[_0x1c96f5(0x324)][_0x1c96f5(0x259)]=_0x4661b5;const _0x40a76a={};_0x10893e[_0x1c96f5(0x2ff)](_0x2a9916=>{const _0x234150=_0x1c96f5;if(!_0x40a76a[_0x2a9916[_0x234150(0x2fc)]]){const _0x7e19f6=clients[_0x234150(0x274)](_0x1964d3=>_0x1964d3[_0x234150(0x1ce)]===_0x2a9916[_0x234150(0x2fc)]);_0x40a76a[_0x2a9916[_0x234150(0x2fc)]]={'total':0x0,'done':0x0,'color':_0x7e19f6?_0x7e19f6['color']:_0x234150(0x244)};}_0x40a76a[_0x2a9916[_0x234150(0x2fc)]][_0x234150(0x255)]++;if(_0x2a9916[_0x234150(0x287)]===_0x234150(0x276))_0x40a76a[_0x2a9916['client']][_0x234150(0x1e7)]++;});const _0x118884=document[_0x1c96f5(0x19f)](_0x1c96f5(0x25c));_0x118884[_0x1c96f5(0x26b)]='';const _0x304d2a=Object['entries'](_0x40a76a)[_0x1c96f5(0x22e)]((_0x459cb6,_0x5e0569)=>_0x5e0569[0x1][_0x1c96f5(0x255)]-_0x459cb6[0x1]['total']);if(_0x304d2a[_0x1c96f5(0x1b4)]===0x0){_0x118884[_0x1c96f5(0x26b)]=_0x1c96f5(0x233);return;}_0x304d2a['forEach'](([_0x5bf681,_0x5dc426])=>{const _0xaf1e8b=_0x1c96f5,_0x29d638=Math['round'](_0x5dc426[_0xaf1e8b(0x1e7)]/_0x5dc426['total']*0x64),_0x4ba3b8=document[_0xaf1e8b(0x2e8)](_0xaf1e8b(0x209));_0x4ba3b8[_0xaf1e8b(0x2ee)]=_0xaf1e8b(0x2f0),_0x4ba3b8[_0xaf1e8b(0x324)][_0xaf1e8b(0x2b1)]=_0x5dc426[_0xaf1e8b(0x27e)],_0x4ba3b8[_0xaf1e8b(0x26b)]=_0xaf1e8b(0x25b)+_0x5bf681+_0xaf1e8b(0x1d7)+_0x5dc426['done']+_0xaf1e8b(0x2f6)+_0x5dc426[_0xaf1e8b(0x255)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x29d638+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x118884[_0xaf1e8b(0x1dd)](_0x4ba3b8);});}function formatMinsToHrs(_0x37917c){const _0x54a762=a2_0x571da2;if(_0x37917c===0x0)return'0';const _0x192142=Math[_0x54a762(0x1d9)](_0x37917c/0x3c),_0x45197d=_0x37917c%0x3c;if(_0x45197d===0x0)return _0x192142+'—á';return _0x192142+'—á\x20'+_0x45197d+'–º';}