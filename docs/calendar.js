const a2_0x1c8610=a2_0x4f31;(function(_0x4d7a8d,_0x346400){const _0x4c9ce2=a2_0x4f31,_0x4a242b=_0x4d7a8d();while(!![]){try{const _0x3efd84=-parseInt(_0x4c9ce2(0x14e))/0x1+-parseInt(_0x4c9ce2(0x119))/0x2+parseInt(_0x4c9ce2(0x217))/0x3*(parseInt(_0x4c9ce2(0xfa))/0x4)+-parseInt(_0x4c9ce2(0x1be))/0x5*(parseInt(_0x4c9ce2(0x213))/0x6)+-parseInt(_0x4c9ce2(0x1c1))/0x7*(-parseInt(_0x4c9ce2(0x1e8))/0x8)+parseInt(_0x4c9ce2(0x224))/0x9+parseInt(_0x4c9ce2(0x15c))/0xa;if(_0x3efd84===_0x346400)break;else _0x4a242b['push'](_0x4a242b['shift']());}catch(_0x5573e7){_0x4a242b['push'](_0x4a242b['shift']());}}}(a2_0x138d,0x957b9),function initTMA(){const _0x5212d4=a2_0x4f31;try{const _0x4e31df=window['Telegram']?.[_0x5212d4(0xc9)];if(!_0x4e31df)return;_0x4e31df[_0x5212d4(0x20f)](),_0x4e31df['expand']();try{_0x4e31df[_0x5212d4(0xdf)](_0x5212d4(0xd8)),_0x4e31df['setBackgroundColor']&&_0x4e31df['setBackgroundColor'](_0x5212d4(0xd8));}catch(_0x3ac662){console[_0x5212d4(0x1d7)](_0x5212d4(0x145),_0x3ac662);}try{_0x4e31df[_0x5212d4(0xf6)]&&(_0x4e31df[_0x5212d4(0xf6)][_0x5212d4(0xbf)](),_0x4e31df[_0x5212d4(0xf6)][_0x5212d4(0xbb)](),_0x4e31df[_0x5212d4(0xf6)][_0x5212d4(0x222)](function(){const _0x5c56c1=_0x5212d4;window[_0x5c56c1(0xd4)][_0x5c56c1(0x22a)]=_0x5c56c1(0x181);}));}catch(_0x53e1d1){console[_0x5212d4(0x1d7)](_0x5212d4(0x1d2),_0x53e1d1);}try{if(_0x4e31df[_0x5212d4(0x19a)])_0x4e31df[_0x5212d4(0x19a)]();}catch(_0x39633){}}catch(_0x494bfb){console[_0x5212d4(0x104)](_0x5212d4(0x178),_0x494bfb);}}());function isAdmin(){const _0x4c58a0=a2_0x4f31;try{const _0x519474=Number(window[_0x4c58a0(0xd9)]?.[_0x4c58a0(0xc9)]?.[_0x4c58a0(0x188)]?.[_0x4c58a0(0x106)]?.['id']);return _0x519474===0xbaf7174;}catch(_0x9ea9c2){return![];}}const APP_VERSION='v9.0-BATCH-CALENDAR',API_URL=a2_0x1c8610(0x1b6),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x1c8610(0x125),KEY_SESSIONS=a2_0x1c8610(0x138),KEY_SETTINGS=a2_0x1c8610(0x1fd);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x229796=a2_0x1c8610;return window['Telegram']?.[_0x229796(0xc9)]?.[_0x229796(0x188)]?.[_0x229796(0x106)]?.['id']||'guest';},'saveLocally'(){const _0x721a4e=a2_0x1c8610;try{localStorage[_0x721a4e(0xed)](KEY_CLIENTS,JSON[_0x721a4e(0x1d4)](clients)),localStorage['setItem'](KEY_SESSIONS,JSON['stringify'](sessions)),localStorage[_0x721a4e(0xed)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x10f020){console[_0x721a4e(0x104)](_0x721a4e(0x12c),_0x10f020);}},'loadLocal'(){const _0x13dc71=a2_0x1c8610;try{const _0x178ba5=localStorage[_0x13dc71(0x195)](KEY_CLIENTS);if(_0x178ba5)clients=JSON[_0x13dc71(0xc3)](_0x178ba5);const _0x30acc0=localStorage[_0x13dc71(0x195)](KEY_SESSIONS);if(_0x30acc0)sessions=JSON[_0x13dc71(0xc3)](_0x30acc0);const _0x4a2bfa=localStorage[_0x13dc71(0x195)](KEY_SETTINGS);if(_0x4a2bfa){const _0x16ea03=JSON['parse'](_0x4a2bfa);if(_0x16ea03[_0x13dc71(0xc8)])availabilityPattern=_0x16ea03[_0x13dc71(0xc8)];if(_0x16ea03[_0x13dc71(0xa6)])dateExceptions=_0x16ea03[_0x13dc71(0xa6)];if(_0x16ea03[_0x13dc71(0x154)])specialRanges=_0x16ea03[_0x13dc71(0x154)];}else{for(let _0x466e95=0x0;_0x466e95<0x7;_0x466e95++)availabilityPattern[_0x466e95]=Array[_0x13dc71(0x11b)]({'length':0xc},(_0x216735,_0x4676f9)=>_0x4676f9+0x9);}}catch(_0x425cc1){console[_0x13dc71(0x104)]('Local\x20Load\x20Error',_0x425cc1);}},async 'fetchFromServer'(_0xd2c945,_0x54ead6={}){const _0x2d4b02=a2_0x1c8610,_0x4299bc=window[_0x2d4b02(0xd9)]?.[_0x2d4b02(0xc9)],_0x517080={'action':_0xd2c945,'init_data':_0x4299bc?.[_0x2d4b02(0x18d)]||'',..._0x54ead6};try{const _0x5d4ec9=await fetch(API_URL,{'method':_0x2d4b02(0x180),'headers':{'Content-Type':_0x2d4b02(0x167)},'body':JSON[_0x2d4b02(0x1d4)](_0x517080)}),_0x889825=await _0x5d4ec9[_0x2d4b02(0x108)]();if(!_0x889825['ok'])throw new Error(_0x889825[_0x2d4b02(0x104)]||_0x2d4b02(0x189));return _0x889825['data'];}catch(_0x1b997a){console[_0x2d4b02(0x104)](_0x2d4b02(0xfd)+_0xd2c945+']\x20Failed:',_0x1b997a);throw _0x1b997a;}},async 'syncLoad'(){const _0xde6c37=a2_0x1c8610,_0x427d02=new Date(),_0x4b948f=_0x427d02[_0xde6c37(0x1a5)]()+'-'+String(_0x427d02['getMonth']()+0x1)[_0xde6c37(0x223)](0x2,'0'),_0x3ad1c5=new Date(_0x427d02);_0x3ad1c5[_0xde6c37(0x12f)](_0x427d02['getMonth']()+0x1);const _0x3e017d=_0x3ad1c5[_0xde6c37(0x1a5)]()+'-'+String(_0x3ad1c5['getMonth']()+0x1)['padStart'](0x2,'0'),_0x7f39ea=Date[_0xde6c37(0x1de)]();console[_0xde6c37(0x1d7)](_0xde6c37(0x1c3)+_0x4b948f+',\x20'+_0x3e017d+_0xde6c37(0x126));try{const [_0x8ac075,_0x123462]=await Promise[_0xde6c37(0x1c2)]([this['fetchFromServer']('init_load',{'month_str':_0x4b948f}),this[_0xde6c37(0x1a0)](_0xde6c37(0x1e9),{'month_str':_0x3e017d})]);if(lastUserActionTime>_0x7f39ea)return console[_0xde6c37(0x229)](_0xde6c37(0x147)),![];return this[_0xde6c37(0x234)](_0x8ac075,_0x4b948f),this[_0xde6c37(0x234)](_0x123462,_0x3e017d),this[_0xde6c37(0xae)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x982b3e){console[_0xde6c37(0x104)](_0x982b3e);throw _0x982b3e;}},'mergeServerData'(_0x747fb2,_0x2b9e99){const _0x4db390=a2_0x1c8610;if(!_0x747fb2)return;_0x747fb2['clients']&&Array[_0x4db390(0xf4)](_0x747fb2[_0x4db390(0xe5)])&&(clients=_0x747fb2['clients']);if(_0x747fb2[_0x4db390(0xd1)]){if(_0x747fb2['settings'][_0x4db390(0xc8)])availabilityPattern=_0x747fb2[_0x4db390(0xd1)][_0x4db390(0xc8)];if(_0x747fb2[_0x4db390(0xd1)][_0x4db390(0xa6)])dateExceptions=_0x747fb2[_0x4db390(0xd1)]['exceptions'];if(_0x747fb2[_0x4db390(0xd1)][_0x4db390(0x154)])specialRanges=_0x747fb2['settings'][_0x4db390(0x154)];if(_0x747fb2[_0x4db390(0xd1)]['cancel_window']){localStorage[_0x4db390(0xed)](_0x4db390(0x1a2),_0x747fb2[_0x4db390(0xd1)][_0x4db390(0x211)]);const _0x403670=document[_0x4db390(0xb6)]('settingCancelWindow');if(_0x403670)_0x403670['value']=_0x747fb2[_0x4db390(0xd1)][_0x4db390(0x211)];}}_0x747fb2[_0x4db390(0x202)]&&(sessions=sessions[_0x4db390(0x19d)](_0x314b94=>!_0x314b94[_0x4db390(0x17a)][_0x4db390(0xbe)](_0x2b9e99)),Object[_0x4db390(0x1f5)](_0x747fb2['calendar'])[_0x4db390(0x1d3)](_0x212952=>{const _0x5c7a97=_0x4db390,_0x293bf3=_0x747fb2['calendar'][_0x212952];_0x293bf3[_0x5c7a97(0x1d3)](_0x367d89=>{const _0x317df4=_0x5c7a97,_0x50d5a7=clients[_0x317df4(0x118)](_0x1f3924=>String(_0x1f3924['id'])===String(_0x367d89['c']));sessions[_0x317df4(0xb2)]({'id':_0x367d89['i'],'clientId':_0x367d89['c'],'client':_0x50d5a7?_0x50d5a7[_0x317df4(0x10c)]:_0x317df4(0x1ce),'dateStr':_0x2b9e99+'-'+_0x212952['padStart'](0x2,'0'),'start':_0x367d89['s'],'end':_0x367d89['e'],'status':_0x367d89['st']||_0x317df4(0x135),'note':_0x367d89['n']||'','seriesId':_0x367d89[_0x317df4(0xb1)]||null});});}));},async 'syncBatch'(_0x3981f8){const _0x4293da=a2_0x1c8610,_0x34d2d5=[...new Set(_0x3981f8)],_0x4ff900=_0x34d2d5[_0x4293da(0x16d)](_0x56a3d3=>{const _0x1e667c=_0x4293da,_0x45e6cd=sessions[_0x1e667c(0x19d)](_0x808750=>_0x808750[_0x1e667c(0x17a)]===_0x56a3d3&&_0x808750[_0x1e667c(0x1ac)]!==_0x1e667c(0x10f)),_0x4ad800=_0x45e6cd['map'](_0x5474d9=>({'i':_0x5474d9['id'],'c':_0x5474d9[_0x1e667c(0x176)],'s':_0x5474d9[_0x1e667c(0x1ed)],'e':_0x5474d9[_0x1e667c(0xfe)],'st':_0x5474d9[_0x1e667c(0x1ac)],'n':_0x5474d9[_0x1e667c(0x1e3)],'sid':_0x5474d9[_0x1e667c(0x20b)]}));return{'date':_0x56a3d3,'day_data':_0x4ad800};});if(_0x4ff900['length']===0x0)return;console[_0x4293da(0x1d7)]('[Sync]\x20Pushing\x20batch\x20updates\x20for\x20'+_0x4ff900[_0x4293da(0x1fe)]+'\x20days'),await this['fetchFromServer'](_0x4293da(0x1f0),{'changes':_0x4ff900});}};async function init(){const _0x6956a9=a2_0x1c8610;DataManager[_0x6956a9(0x146)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x6956a9(0xb6)](_0x6956a9(0x1a6))[_0x6956a9(0xf3)](_0x6956a9(0x18e),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x6956a9(0x13d)]()['then'](()=>{const _0x5da58d=_0x6956a9;showToast(_0x5da58d(0x121),!![]);})[_0x6956a9(0x1cc)](_0x1a794f=>{const _0x374fee=_0x6956a9;showToast(_0x374fee(0x199),![]);});}function generateId(){const _0x592bd8=a2_0x1c8610;return Date['now']()[_0x592bd8(0xee)](0x24)+Math['random']()[_0x592bd8(0xee)](0x24)[_0x592bd8(0xd0)](0x2,0x5);}function toggleSeriesInput(){const _0x3b6832=a2_0x1c8610,_0x25d3b3=document[_0x3b6832(0xb6)](_0x3b6832(0x1b5))[_0x3b6832(0x177)],_0xe50639=document[_0x3b6832(0xb6)](_0x3b6832(0x113));_0xe50639[_0x3b6832(0x115)]['display']=_0x25d3b3?'block':_0x3b6832(0x1fb);const _0x15fb16=document[_0x3b6832(0xb6)](_0x3b6832(0x204));_0x15fb16[_0x3b6832(0x115)][_0x3b6832(0x1a7)]=_0x25d3b3?_0x3b6832(0xea):_0x3b6832(0x219);}function openAddSession(_0x4841bb){const _0xbf5d6f=a2_0x1c8610;editingId=null,populateClientSelect(),document[_0xbf5d6f(0xb6)]('sheetTitle')[_0xbf5d6f(0x1f3)]='–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å',document[_0xbf5d6f(0xb6)](_0xbf5d6f(0xeb))[_0xbf5d6f(0x115)][_0xbf5d6f(0x148)]=_0xbf5d6f(0x1fb),document[_0xbf5d6f(0xb6)](_0xbf5d6f(0x1ef))[_0xbf5d6f(0x115)][_0xbf5d6f(0x148)]=_0xbf5d6f(0x1fb);const _0x43999f=document[_0xbf5d6f(0xb6)](_0xbf5d6f(0x204)),_0x10ed97=document[_0xbf5d6f(0xb6)](_0xbf5d6f(0x113));_0x43999f['style'][_0xbf5d6f(0x148)]=_0xbf5d6f(0xdc),_0x43999f[_0xbf5d6f(0x115)][_0xbf5d6f(0x1a7)]='10px',document[_0xbf5d6f(0xb6)]('inpRecurring')[_0xbf5d6f(0x177)]=![],document[_0xbf5d6f(0xb6)](_0xbf5d6f(0x1c8))[_0xbf5d6f(0x174)]=0x4,_0x10ed97[_0xbf5d6f(0x115)][_0xbf5d6f(0x148)]=_0xbf5d6f(0x1fb),document[_0xbf5d6f(0xb6)]('inpDate')[_0xbf5d6f(0x174)]=getLocalDateStr(_0x4841bb),updateDateDisplay();const _0x5f41de=_0x4841bb['getHours']();document[_0xbf5d6f(0xb6)]('inpStart')[_0xbf5d6f(0x174)]=String(_0x5f41de)[_0xbf5d6f(0x223)](0x2,'0')+_0xbf5d6f(0x1d9),document[_0xbf5d6f(0xb6)](_0xbf5d6f(0xe1))['value']=String(_0x5f41de+0x1)[_0xbf5d6f(0x223)](0x2,'0')+':00',openSheet(_0xbf5d6f(0x11c));}function openEdit(_0x26ced3){const _0x4c7245=a2_0x1c8610;editingId=_0x26ced3['id'],populateClientSelect(),document[_0x4c7245(0xb6)](_0x4c7245(0x139))[_0x4c7245(0x1f3)]=_0x4c7245(0x1dc),document[_0x4c7245(0xb6)](_0x4c7245(0xeb))[_0x4c7245(0x115)][_0x4c7245(0x148)]=_0x4c7245(0x1aa);const _0x2046d5=document[_0x4c7245(0xb6)](_0x4c7245(0x1ef));_0x2046d5[_0x4c7245(0x115)][_0x4c7245(0x148)]=_0x4c7245(0xdc);_0x26ced3[_0x4c7245(0x1ac)]===_0x4c7245(0x1f6)?(_0x2046d5['className']='btn-status-toggle\x20undo-mode',_0x2046d5[_0x4c7245(0x1a3)]=_0x4c7245(0x13a)):(_0x2046d5[_0x4c7245(0x1ec)]=_0x4c7245(0xda),_0x2046d5[_0x4c7245(0x1a3)]=_0x4c7245(0x16a));const _0x1f793f=!!_0x26ced3[_0x4c7245(0x20b)];document[_0x4c7245(0xb6)]('recurringOptionContainer')[_0x4c7245(0x115)]['display']=_0x4c7245(0x1fb),document['getElementById'](_0x4c7245(0x113))[_0x4c7245(0x115)][_0x4c7245(0x148)]=_0x4c7245(0x1fb),_0x1f793f?(document['getElementById'](_0x4c7245(0x19b))[_0x4c7245(0x115)][_0x4c7245(0x148)]=_0x4c7245(0xdc),document[_0x4c7245(0xb6)]('patternInfoBox')[_0x4c7245(0x21e)](_0x4c7245(0xe8))['textContent']=_0x4c7245(0x19c)):document[_0x4c7245(0xb6)](_0x4c7245(0x19b))[_0x4c7245(0x115)][_0x4c7245(0x148)]=_0x4c7245(0x1fb),document[_0x4c7245(0xb6)]('inpClient')['value']=_0x26ced3[_0x4c7245(0x10b)],document[_0x4c7245(0xb6)](_0x4c7245(0x1b7))['value']=_0x26ced3[_0x4c7245(0x17a)],document[_0x4c7245(0xb6)]('inpStart')[_0x4c7245(0x174)]=_0x26ced3[_0x4c7245(0x1ed)],document[_0x4c7245(0xb6)](_0x4c7245(0xe1))['value']=_0x26ced3[_0x4c7245(0xfe)],document[_0x4c7245(0xb6)]('inpNote')[_0x4c7245(0x174)]=_0x26ced3[_0x4c7245(0x1e3)]||'',updateDateDisplay(),openSheet(_0x4c7245(0x11c));}async function trySaveSession(){const _0x22881d=a2_0x1c8610,_0x328074=document[_0x22881d(0xb6)](_0x22881d(0xaf))[_0x22881d(0x174)],_0x5d6304=document[_0x22881d(0xb6)](_0x22881d(0x1b7))[_0x22881d(0x174)],_0x4a20d2=document[_0x22881d(0xb6)](_0x22881d(0x192))['value'],_0x4b5b78=document['getElementById'](_0x22881d(0xe1))[_0x22881d(0x174)],_0x143314=document['getElementById'](_0x22881d(0x187))['value'],_0x5822c7=document[_0x22881d(0xb6)](_0x22881d(0x1b5))['checked'];let _0x410412=0x4;if(_0x5822c7){const _0x5a0250=parseInt(document[_0x22881d(0xb6)](_0x22881d(0x1c8))[_0x22881d(0x174)]);if(!_0x5a0250||_0x5a0250<0x2){showToast('–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏',![]);return;}if(_0x5a0250>0x64){showToast(_0x22881d(0x15d),![]);return;}_0x410412=_0x5a0250;}const _0xf7106e=clients[_0x22881d(0x118)](_0x3c19f=>_0x3c19f[_0x22881d(0x10c)]===_0x328074);if(!_0xf7106e){showToast(_0x22881d(0x17d),![]);return;}const _0xeaabfe=validateAppointment(_0x5d6304,_0x4a20d2,_0x4b5b78,editingId,_0xf7106e['id']);if(!_0xeaabfe[_0x22881d(0x131)]){showToast(_0xeaabfe[_0x22881d(0x1f8)],![]);return;}_0xeaabfe[_0x22881d(0x225)]&&showToast(_0xeaabfe[_0x22881d(0x225)],![]);const _0x2eae35={'client':_0x328074,'clientId':_0xf7106e['id'],'start':_0x4a20d2,'end':_0x4b5b78,'note':_0x143314,'status':'planned'},_0x461a00=editingId?sessions[_0x22881d(0x118)](_0x1608cf=>_0x1608cf['id']===editingId):null;if(_0x461a00&&_0x461a00['seriesId']){tempSessionData={..._0x2eae35,'dateStr':_0x5d6304,'id':editingId,'seriesId':_0x461a00[_0x22881d(0x20b)]},openActionSheet(_0x22881d(0x137));return;}let _0x5b1501=null;if(!editingId)_0x5b1501=_0x22881d(0x15a);else{if(_0x461a00){if(String(_0x461a00['clientId'])!==String(_0xf7106e['id']))console[_0x22881d(0x1d7)](_0x22881d(0xcf)),NotificationManager[_0x22881d(0x1cb)]('cancel',_0x461a00),_0x5b1501=_0x22881d(0x15a);else(_0x461a00[_0x22881d(0x1ed)]!==_0x4a20d2||_0x461a00[_0x22881d(0xfe)]!==_0x4b5b78||_0x461a00[_0x22881d(0x17a)]!==_0x5d6304)&&(_0x5b1501=_0x22881d(0x1e2));}}if(!editingId&&_0x5822c7){createBatchSeries(_0x2eae35,_0x5d6304,_0x410412),NotificationManager[_0x22881d(0x1cb)]('create',{..._0x2eae35,'dateStr':_0x5d6304});return;}lastUserActionTime=Date[_0x22881d(0x1de)]();const _0xd76ad0={..._0x2eae35,'dateStr':_0x5d6304,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0xd76ad0),_0x5b1501&&NotificationManager[_0x22881d(0x1cb)](_0x5b1501,_0xd76ad0);}function toggleSessionStatus(){const _0x53a53b=a2_0x1c8610;lastUserActionTime=Date[_0x53a53b(0x1de)]();const _0x1f2374=sessions['find'](_0x43cd9d=>_0x43cd9d['id']===editingId);if(!_0x1f2374)return;const _0x1ec454=_0x1f2374[_0x53a53b(0x1ac)]===_0x53a53b(0x1f6)?'planned':_0x53a53b(0x1f6);_0x1f2374[_0x53a53b(0x1ac)]=_0x1ec454,saveSingleSession(_0x1f2374),_0x1ec454===_0x53a53b(0x1f6)&&NotificationManager['send'](_0x53a53b(0x151),_0x1f2374),showToast(_0x1ec454===_0x53a53b(0x1f6)?_0x53a53b(0x18a):_0x53a53b(0x157),!![]);}function validateAppointment(_0x1d9dde,_0x4b54ca,_0x45618e,_0x1c4d6b,_0x35e9b6){const _0x5c37e8=a2_0x1c8610,[_0x320fb9,_0x877992]=_0x4b54ca[_0x5c37e8(0x149)](':')[_0x5c37e8(0x16d)](Number),[_0x4eb97e,_0x4a7c04]=_0x45618e['split'](':')[_0x5c37e8(0x16d)](Number),_0x308c30=_0x320fb9*0x3c+_0x877992,_0x25e75c=_0x4eb97e*0x3c+_0x4a7c04,_0x157c5a=String(_0x35e9b6);let _0x47b0ac=![],_0x141988='';for(let _0x4f180d of sessions){if(_0x4f180d[_0x5c37e8(0x17a)]!==_0x1d9dde)continue;if(_0x4f180d[_0x5c37e8(0x1ac)]===_0x5c37e8(0x1f4))continue;if(_0x1c4d6b&&String(_0x4f180d['id'])===String(_0x1c4d6b))continue;const [_0x234b59,_0x58a3e4]=_0x4f180d[_0x5c37e8(0x1ed)][_0x5c37e8(0x149)](':')['map'](Number),[_0xdd91fd,_0x5cd080]=_0x4f180d[_0x5c37e8(0xfe)]['split'](':')[_0x5c37e8(0x16d)](Number),_0x41b15a=_0x234b59*0x3c+_0x58a3e4,_0x39ed5f=_0xdd91fd*0x3c+_0x5cd080;if(Math['max'](_0x308c30,_0x41b15a)<Math[_0x5c37e8(0xfc)](_0x25e75c,_0x39ed5f)){if(_0x4f180d[_0x5c37e8(0x176)]&&String(_0x4f180d[_0x5c37e8(0x176)])===_0x157c5a)return{'valid':![],'msg':_0x5c37e8(0xe4)+_0x4f180d[_0x5c37e8(0x10b)]+_0x5c37e8(0x22c)};_0x47b0ac=!![],_0x141988=_0x4f180d['client'];}}if(_0x47b0ac)return{'valid':!![],'warning':'–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20'+_0x141988};return{'valid':!![]};}function saveSingleSession(_0x37794c){if(editingId){const _0x3be6b3=sessions['findIndex'](_0x30c244=>_0x30c244['id']===editingId);if(_0x3be6b3!==-0x1)sessions[_0x3be6b3]=_0x37794c;}else sessions['push'](_0x37794c);afterSaveAction([_0x37794c['dateStr']]);}function createBatchSeries(_0x2cbddd,_0x529376,_0x2d073c){const _0x595b2f=a2_0x1c8610,_0x4a6fb6=generateId(),_0x29bb3d=[],_0x2e274a=[];let _0x2a70dc=0x0,_0x2cd2eb=new Date(_0x529376);for(let _0x371687=0x0;_0x371687<_0x2d073c;_0x371687++){const _0x13ed8f=getLocalDateStr(_0x2cd2eb),_0x5ed6f0=validateAppointment(_0x13ed8f,_0x2cbddd[_0x595b2f(0x1ed)],_0x2cbddd[_0x595b2f(0xfe)],null,_0x2cbddd[_0x595b2f(0x176)]);if(!_0x5ed6f0['valid'])console[_0x595b2f(0x1d7)](_0x595b2f(0xd7)+_0x13ed8f+_0x595b2f(0x18b)),_0x2a70dc++;else{const _0x1c647b={..._0x2cbddd,'id':generateId(),'dateStr':_0x13ed8f,'seriesId':_0x4a6fb6};_0x2e274a[_0x595b2f(0xb2)](_0x1c647b),_0x29bb3d[_0x595b2f(0xb2)](_0x13ed8f);}_0x2cd2eb['setDate'](_0x2cd2eb[_0x595b2f(0x22e)]()+0x7);}if(_0x2e274a[_0x595b2f(0x1fe)]===0x0){showToast(_0x595b2f(0x1ee),![]);return;}sessions['push'](..._0x2e274a),lastUserActionTime=Date[_0x595b2f(0x1de)]();let _0x38977c=_0x595b2f(0x162)+_0x2e274a[_0x595b2f(0x1fe)];_0x2a70dc>0x0&&(_0x38977c+=_0x595b2f(0x127)+_0x2a70dc+')'),showToast(_0x38977c,!![]),afterSaveAction(_0x29bb3d);}function updateSeriesBatch(_0x29d754,_0x3eca9f){const _0x184ebe=a2_0x1c8610,_0x58f8bc=[],_0xbe15e1=_0x3eca9f[_0x184ebe(0x20b)];if(_0x29d754===_0x184ebe(0x173)){const _0xf5710b={..._0x3eca9f,'seriesId':null},_0x190093=sessions['findIndex'](_0x3e05e1=>_0x3e05e1['id']===_0x3eca9f['id']);if(_0x190093!==-0x1)sessions[_0x190093]=_0xf5710b;_0x58f8bc[_0x184ebe(0xb2)](_0xf5710b['dateStr']);}else{if(_0x29d754===_0x184ebe(0x1b9)){const _0x12064c=_0x3eca9f[_0x184ebe(0x17a)];sessions[_0x184ebe(0x1d3)]((_0x223071,_0x44e9a7)=>{const _0xd518d1=_0x184ebe;_0x223071['seriesId']===_0xbe15e1&&_0x223071[_0xd518d1(0x17a)]>=_0x12064c&&(sessions[_0x44e9a7]={...sessions[_0x44e9a7],'start':_0x3eca9f[_0xd518d1(0x1ed)],'end':_0x3eca9f['end'],'note':_0x3eca9f[_0xd518d1(0x1e3)],'client':_0x3eca9f[_0xd518d1(0x10b)],'clientId':_0x3eca9f[_0xd518d1(0x176)]},_0x58f8bc[_0xd518d1(0xb2)](_0x223071[_0xd518d1(0x17a)]));});}}afterSaveAction(_0x58f8bc);}function tryDeleteSession(){const _0x26be29=a2_0x1c8610,_0x3d4db6=sessions[_0x26be29(0x118)](_0x55bf80=>_0x55bf80['id']===editingId);if(!_0x3d4db6)return;_0x3d4db6[_0x26be29(0x20b)]?openActionSheet(_0x26be29(0x1e7)):commitDelete(_0x26be29(0x173),_0x3d4db6);}function commitDelete(_0x24214d,_0x2bc571){const _0x538805=a2_0x1c8610;lastUserActionTime=Date['now'](),NotificationManager[_0x538805(0x1cb)](_0x538805(0xef),_0x2bc571);const _0x56d192=[];if(_0x24214d===_0x538805(0x173))sessions=sessions[_0x538805(0x19d)](_0x340eaf=>_0x340eaf['id']!==_0x2bc571['id']),_0x56d192[_0x538805(0xb2)](_0x2bc571[_0x538805(0x17a)]);else{if(_0x24214d===_0x538805(0x1b9)){const _0x4d4467=_0x2bc571[_0x538805(0x17a)],_0x569224=_0x2bc571['seriesId'];sessions[_0x538805(0x1d3)](_0x429fd9=>{const _0x577d48=_0x538805;_0x429fd9['seriesId']===_0x569224&&_0x429fd9[_0x577d48(0x17a)]>=_0x4d4467&&_0x56d192['push'](_0x429fd9[_0x577d48(0x17a)]);}),sessions=sessions[_0x538805(0x19d)](_0x4cf95d=>!(_0x4cf95d[_0x538805(0x20b)]===_0x569224&&_0x4cf95d['dateStr']>=_0x4d4467));}}afterSaveAction(_0x56d192);}function afterSaveAction(_0x500ab4){const _0x2d8418=a2_0x1c8610;DataManager['saveLocally'](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager['syncBatch'](_0x500ab4)[_0x2d8418(0x1a4)](()=>console['log'](_0x2d8418(0x172)))[_0x2d8418(0x1cc)](_0x310a36=>showToast(_0x2d8418(0x12b),![]));}const NotificationManager={'formatDate'(_0xf1218f){const _0x5705c7=a2_0x1c8610,_0x1aed2c=new Date(_0xf1218f),_0x7f9a7e={'weekday':_0x5705c7(0x1a1),'day':_0x5705c7(0x103),'month':_0x5705c7(0x1a1)};let _0x256f33=_0x1aed2c[_0x5705c7(0xbc)]('ru-RU',_0x7f9a7e);return _0x256f33['charAt'](0x0)[_0x5705c7(0x1b8)]()+_0x256f33['slice'](0x1);},'getText'(_0x8a3d32,_0x1ced7a){const _0x4875ff=a2_0x1c8610,_0x1cdf04=this[_0x4875ff(0x14b)](_0x1ced7a[_0x4875ff(0x17a)]);switch(_0x8a3d32){case'create':return'<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a'+(_0x4875ff(0x171)+_0x1cdf04+'\x0a')+('<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20'+_0x1ced7a[_0x4875ff(0x1ed)]+_0x4875ff(0x16e)+_0x1ced7a['end']+'\x0a\x0a')+'–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™';case _0x4875ff(0x1e2):return _0x4875ff(0xb8)+_0x4875ff(0x196)+(_0x4875ff(0xb4)+_0x1ced7a['start']+_0x4875ff(0x16e)+_0x1ced7a[_0x4875ff(0xfe)]+_0x4875ff(0x140))+(_0x4875ff(0x171)+_0x1cdf04);case _0x4875ff(0xef):return _0x4875ff(0x1bf)+(_0x4875ff(0x17c)+_0x1cdf04+'\x20('+_0x1ced7a[_0x4875ff(0x1ed)]+_0x4875ff(0x11a));case _0x4875ff(0x151):return _0x4875ff(0x15b)+_0x4875ff(0x22d)+_0x4875ff(0x207);default:return'';}},async 'send'(_0x52f21b,_0x263e32){const _0x41f98a=a2_0x1c8610;console[_0x41f98a(0x1d7)](_0x41f98a(0x227),_0x52f21b,_0x263e32);if(!_0x263e32){console[_0x41f98a(0x104)](_0x41f98a(0x163));return;}const _0x2644d3=String(_0x263e32[_0x41f98a(0x176)]);console[_0x41f98a(0x1d7)]('[Notify]\x20Detected\x20Client\x20ID:',_0x2644d3);if(!_0x263e32['clientId']||_0x2644d3===_0x41f98a(0x1d5)||_0x2644d3===_0x41f98a(0xba)){console['error'](_0x41f98a(0x218));if(_0x263e32['client']){const _0x4dda21=clients[_0x41f98a(0x118)](_0xb9c085=>_0xb9c085[_0x41f98a(0x10c)]===_0x263e32[_0x41f98a(0x10b)]);if(_0x4dda21)return console[_0x41f98a(0x1d7)](_0x41f98a(0x1ea),_0x4dda21['id']),this[_0x41f98a(0x1cb)](_0x52f21b,{..._0x263e32,'clientId':_0x4dda21['id']});}return;}if(_0x2644d3[_0x41f98a(0x1fe)]<0x5){console[_0x41f98a(0x229)](_0x41f98a(0x1d0),_0x2644d3);return;}const _0x4e613f=this[_0x41f98a(0x164)](_0x52f21b,_0x263e32);if(!_0x4e613f){console[_0x41f98a(0x104)]('[Notify]\x20Error:\x20Text\x20generation\x20failed');return;}console['log'](_0x41f98a(0x205)+_0x2644d3+_0x41f98a(0x126)),DataManager['fetchFromServer'](_0x41f98a(0x193),{'chatId':_0x2644d3,'text':_0x4e613f})[_0x41f98a(0x1a4)](_0x22e12a=>console['log'](_0x41f98a(0xb3),_0x22e12a))['catch'](_0x1ca25d=>console[_0x41f98a(0x104)](_0x41f98a(0x1da),_0x1ca25d));}};function getLocalDateStr(_0x1c4fcd){const _0x2b07d2=a2_0x1c8610,_0x1edf65=_0x1c4fcd[_0x2b07d2(0x1a5)](),_0x33e2ec=String(_0x1c4fcd['getMonth']()+0x1)[_0x2b07d2(0x223)](0x2,'0'),_0x3c63ef=String(_0x1c4fcd[_0x2b07d2(0x22e)]())[_0x2b07d2(0x223)](0x2,'0');return _0x1edf65+'-'+_0x33e2ec+'-'+_0x3c63ef;}function getDateStr(_0x4ae70b){const _0x18c536=a2_0x1c8610,_0x3af2ac=new Date();return _0x3af2ac[_0x18c536(0x1a9)](_0x3af2ac[_0x18c536(0x22e)]()+_0x4ae70b),getLocalDateStr(_0x3af2ac);}function getStartOfWeek(_0x57deaa){const _0x3058bf=a2_0x1c8610,_0x23e4e2=(function(){let _0x47d796=!![];return function(_0x5a00b7,_0x5851b2){const _0x7e4d7b=_0x47d796?function(){const _0x409e08=a2_0x4f31;if(_0x5851b2){const _0x1ef76c=_0x5851b2[_0x409e08(0x1f1)](_0x5a00b7,arguments);return _0x5851b2=null,_0x1ef76c;}}:function(){};return _0x47d796=![],_0x7e4d7b;};}()),_0x116700=_0x23e4e2(this,function(){const _0x2abbfe=a2_0x4f31;return _0x116700['toString']()['search'](_0x2abbfe(0x179))[_0x2abbfe(0xee)]()['constructor'](_0x116700)[_0x2abbfe(0xd2)](_0x2abbfe(0x179));});_0x116700();const _0x352b66=new Date(_0x57deaa),_0x1db6be=_0x352b66[_0x3058bf(0x136)](),_0x2dc8d3=_0x352b66[_0x3058bf(0x22e)]()-_0x1db6be+(_0x1db6be===0x0?-0x6:0x1);return _0x352b66[_0x3058bf(0x1a9)](_0x2dc8d3),_0x352b66[_0x3058bf(0x209)](0x0,0x0,0x0,0x0),_0x352b66;}function hexToRgba(_0x23c446,_0x1938b6){const _0x248be6=a2_0x1c8610;if(!_0x23c446)return _0x248be6(0x215);let _0x7675dc=0x0,_0xfed27e=0x0,_0x3c8218=0x0;if(_0x23c446['length']===0x4)_0x7675dc='0x'+_0x23c446[0x1]+_0x23c446[0x1],_0xfed27e='0x'+_0x23c446[0x2]+_0x23c446[0x2],_0x3c8218='0x'+_0x23c446[0x3]+_0x23c446[0x3];else _0x23c446[_0x248be6(0x1fe)]===0x7&&(_0x7675dc='0x'+_0x23c446[0x1]+_0x23c446[0x2],_0xfed27e='0x'+_0x23c446[0x3]+_0x23c446[0x4],_0x3c8218='0x'+_0x23c446[0x5]+_0x23c446[0x6]);return'rgba('+ +_0x7675dc+',\x20'+ +_0xfed27e+',\x20'+ +_0x3c8218+',\x20'+_0x1938b6+')';}function renderTimeColumn(){const _0x3cdf71=a2_0x1c8610,_0x2faf51=document[_0x3cdf71(0xb6)](_0x3cdf71(0x17f)),_0x1d80b7=document[_0x3cdf71(0xb6)]('timeLineBadge');_0x2faf51[_0x3cdf71(0x1a3)]='',_0x2faf51[_0x3cdf71(0x1ad)](_0x1d80b7);for(let _0x2501ee=0x0;_0x2501ee<0x18;_0x2501ee++){const _0x167a6c=document[_0x3cdf71(0xe3)](_0x3cdf71(0x1d6));_0x167a6c[_0x3cdf71(0x1ec)]=_0x3cdf71(0x10e);if(_0x2501ee>0x0)_0x167a6c[_0x3cdf71(0x1a3)]=_0x3cdf71(0x15e)+String(_0x2501ee)[_0x3cdf71(0x223)](0x2,'0')+_0x3cdf71(0x20e);_0x2faf51[_0x3cdf71(0x1ad)](_0x167a6c);}}function renderDayRange(_0x5a803f,_0x5dcdd4){const _0x5c348e=a2_0x1c8610,_0x3e0465=document[_0x5c348e(0xb6)](_0x5c348e(0x1bb)),_0xe8914f=document[_0x5c348e(0xb6)]('gridColumns'),_0x73f95=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x498a41=new Date();_0x498a41[_0x5c348e(0x209)](0x0,0x0,0x0,0x0);const _0x129829=getLocalDateStr(new Date());for(let _0x1aabc2=_0x5a803f;_0x1aabc2<=_0x5dcdd4;_0x1aabc2++){const _0x203134=new Date(_0x498a41);_0x203134['setDate'](_0x203134[_0x5c348e(0x22e)]()+_0x1aabc2);const _0xb9afd6=getLocalDateStr(_0x203134);let _0x41d3cf=_0x203134[_0x5c348e(0x136)]()-0x1;if(_0x41d3cf===-0x1)_0x41d3cf=0x6;const _0x4caff9=_0xb9afd6===_0x129829,_0x41ed38=document[_0x5c348e(0xe3)](_0x5c348e(0x1d6));_0x41ed38[_0x5c348e(0x1ec)]='day-col-header\x20'+(_0x4caff9?_0x5c348e(0x134):''),_0x41ed38['id']=_0x5c348e(0x1f2)+_0xb9afd6,_0x41ed38[_0x5c348e(0x220)](_0x5c348e(0xdb),_0xb9afd6),_0x41ed38['innerHTML']=_0x5c348e(0x206)+_0x73f95[_0x41d3cf]+'</div><div\x20class=\x22dch-num\x22>'+_0x203134[_0x5c348e(0x22e)]()+_0x5c348e(0x101)+_0xb9afd6+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x41ed38[_0x5c348e(0x191)]=()=>openDayOptions(_0xb9afd6,_0x73f95[_0x41d3cf]+'\x20'+_0x203134['getDate']()),_0x3e0465[_0x5c348e(0x1ad)](_0x41ed38);const _0x3c266b=document[_0x5c348e(0xe3)]('div');_0x3c266b['className']='day-column\x20'+(_0x4caff9?_0x5c348e(0x134):''),_0x3c266b[_0x5c348e(0x220)](_0x5c348e(0xdb),_0xb9afd6),_0x3c266b[_0x5c348e(0x220)](_0x5c348e(0x186),_0x41d3cf),renderEventsForColumn(_0x3c266b,_0xb9afd6,_0x41d3cf),attachLongPressHandler(_0x3c266b,_0x203134),_0xe8914f[_0x5c348e(0x1ad)](_0x3c266b),updateDayStats(_0xb9afd6);}}function reRenderBlocks(){const _0x49b886=a2_0x1c8610;document[_0x49b886(0x208)](_0x49b886(0xca))[_0x49b886(0x1d3)](_0x4e19f0=>{const _0xd92579=_0x49b886;_0x4e19f0[_0xd92579(0x208)](_0xd92579(0x1c9))[_0xd92579(0x1d3)](_0x40f82f=>_0x40f82f[_0xd92579(0x150)]());const _0x55192d=_0x4e19f0['getAttribute']('data-date'),_0x4d659a=parseInt(_0x4e19f0[_0xd92579(0x203)](_0xd92579(0x186))),_0x140672=Math[_0xd92579(0x228)](_0x4e19f0[_0xd92579(0x1b2)]);(availabilityPattern[_0x4d659a]||[])[_0xd92579(0x1d3)](_0x25706d=>{const _0x14a47f=_0xd92579,_0x399fab=document[_0x14a47f(0xe3)](_0x14a47f(0x1d6));_0x399fab[_0x14a47f(0x1ec)]=_0x14a47f(0x14a);const _0x502f18=_0x25706d*GRID_H;_0x399fab[_0x14a47f(0x115)][_0x14a47f(0xff)]=_0x502f18+'px',_0x399fab[_0x14a47f(0x115)][_0x14a47f(0x232)]='-'+_0x140672+'px\x20-'+_0x502f18+'px',_0x4e19f0[_0x14a47f(0x1ad)](_0x399fab);});if(specialRanges&&specialRanges[_0xd92579(0x1fe)]>0x0){const _0x403f37=new Date(_0x55192d+'T00:00:00')[_0xd92579(0x22b)](),_0x102178=new Date(_0x55192d+_0xd92579(0x110))[_0xd92579(0x22b)]();specialRanges[_0xd92579(0x1d3)](_0x3ada4b=>{const _0xf93f3b=_0xd92579,_0x4b7e78=new Date(_0x3ada4b[_0xf93f3b(0x1ed)])[_0xf93f3b(0x22b)](),_0x10163d=new Date(_0x3ada4b[_0xf93f3b(0xfe)])[_0xf93f3b(0x22b)](),_0x47d6cc=Math[_0xf93f3b(0x12a)](_0x403f37,_0x4b7e78),_0x2d121a=Math[_0xf93f3b(0xfc)](_0x102178,_0x10163d);if(_0x47d6cc<_0x2d121a){if(_0x47d6cc<=_0x403f37&&_0x2d121a>=_0x102178-0xea60){if(!_0x4e19f0[_0xf93f3b(0x21e)]('.day-off-overlay')){const _0x534570=document['createElement']('div');_0x534570[_0xf93f3b(0x1ec)]=_0xf93f3b(0x120),_0x534570[_0xf93f3b(0x115)][_0xf93f3b(0x232)]='-'+_0x140672+_0xf93f3b(0x16b),_0x4e19f0[_0xf93f3b(0x1ad)](_0x534570);}}else{const _0x322d12=(_0x47d6cc-_0x403f37)/0x36ee80*GRID_H,_0x5d94bd=(_0x2d121a-_0x47d6cc)/0x36ee80*GRID_H,_0x4f3d49=document['createElement']('div');_0x4f3d49[_0xf93f3b(0x1ec)]=_0xf93f3b(0xde),_0x4f3d49['style'][_0xf93f3b(0xff)]=_0x322d12+'px',_0x4f3d49[_0xf93f3b(0x115)][_0xf93f3b(0xd5)]=_0x5d94bd+'px',_0x4f3d49[_0xf93f3b(0x115)][_0xf93f3b(0x232)]='-'+_0x140672+'px\x20-'+_0x322d12+'px',_0x4e19f0[_0xf93f3b(0x1ad)](_0x4f3d49);}}});}if(dateExceptions[_0x55192d]==='off'){if(!_0x4e19f0[_0xd92579(0x21e)](_0xd92579(0x19f))){const _0xb73322=document[_0xd92579(0xe3)]('div');_0xb73322[_0xd92579(0x1ec)]=_0xd92579(0x120),_0xb73322[_0xd92579(0x115)][_0xd92579(0x232)]='-'+_0x140672+'px\x200px',_0x4e19f0[_0xd92579(0x1ad)](_0xb73322);}}renderEventsForColumn(_0x4e19f0,_0x55192d,_0x4d659a),updateDayStats(_0x55192d);});}function updateAllDayStats(){const _0x398e89=a2_0x1c8610;document[_0x398e89(0x208)]('.day-col-header')[_0x398e89(0x1d3)](_0x21b8f4=>{const _0xf777bb=_0x398e89;updateDayStats(_0x21b8f4[_0xf777bb(0x203)](_0xf777bb(0xdb)));});}function updateDayStats(_0x3d2b5e){const _0x39d517=a2_0x1c8610,_0x2465a2=document['getElementById'](_0x39d517(0x21f)+_0x3d2b5e);if(!_0x2465a2)return;const _0x1c64b0=new Date(_0x3d2b5e);let _0x2a85d5=_0x1c64b0['getDay']()-0x1;if(_0x2a85d5===-0x1)_0x2a85d5=0x6;if(dateExceptions[_0x3d2b5e]===_0x39d517(0xaa)){_0x2465a2[_0x39d517(0x115)][_0x39d517(0x148)]=_0x39d517(0x1fb);return;}const _0x153cc3=availabilityPattern[_0x2a85d5]||[],_0x2b03ba=0x18-_0x153cc3['length'],_0x25990f=_0x2b03ba*0x3c,_0x40c51e=sessions[_0x39d517(0x19d)](_0x1ac3a0=>_0x1ac3a0[_0x39d517(0x17a)]===_0x3d2b5e&&_0x1ac3a0[_0x39d517(0x1ac)]!==_0x39d517(0x1f4));if(_0x40c51e[_0x39d517(0x1fe)]===0x0){_0x2465a2['style'][_0x39d517(0x148)]=_0x39d517(0x1fb);return;}let _0x283168=_0x40c51e['map'](_0x1ce969=>{const _0x259ff6=_0x39d517,[_0x3f4494,_0x3088e1]=_0x1ce969[_0x259ff6(0x1ed)]['split'](':')['map'](Number),[_0x465097,_0x3517c4]=_0x1ce969['end'][_0x259ff6(0x149)](':')[_0x259ff6(0x16d)](Number);return[_0x3f4494*0x3c+_0x3088e1,_0x465097*0x3c+_0x3517c4];});_0x283168[_0x39d517(0xcc)]((_0x49f9fd,_0x2a792b)=>_0x49f9fd[0x0]-_0x2a792b[0x0]);let _0x12fbc0=[];if(_0x283168[_0x39d517(0x1fe)]>0x0){let _0x57abf0=_0x283168[0x0];for(let _0x3f911e=0x1;_0x3f911e<_0x283168['length'];_0x3f911e++){_0x283168[_0x3f911e][0x0]<_0x57abf0[0x1]?_0x57abf0[0x1]=Math['max'](_0x57abf0[0x1],_0x283168[_0x3f911e][0x1]):(_0x12fbc0['push'](_0x57abf0),_0x57abf0=_0x283168[_0x3f911e]);}_0x12fbc0[_0x39d517(0xb2)](_0x57abf0);}let _0x27ad6d=0x0;_0x12fbc0['forEach'](_0x1b8aee=>_0x27ad6d+=_0x1b8aee[0x1]-_0x1b8aee[0x0]),_0x2465a2['style'][_0x39d517(0x148)]=_0x39d517(0xdc);const _0x428de5=_0x2465a2[_0x39d517(0x21e)](_0x39d517(0x13c));if(_0x25990f===0x0){_0x428de5[_0x39d517(0x115)][_0x39d517(0x1f9)]='100%',_0x428de5[_0x39d517(0x115)][_0x39d517(0x12e)]='var(--acc-red)';return;}const _0x42809f=_0x27ad6d/_0x25990f*0x64;console[_0x39d517(0x1d7)]('['+_0x3d2b5e+_0x39d517(0x200)+_0x2b03ba+_0x39d517(0x197)+_0x27ad6d+_0x39d517(0x1a8)+_0x42809f[_0x39d517(0xab)](0x1)+'%'),_0x42809f>0x64?(_0x428de5[_0x39d517(0x115)][_0x39d517(0x1f9)]=_0x39d517(0x11e),_0x428de5[_0x39d517(0x115)][_0x39d517(0x12e)]=_0x39d517(0x1dd)):(_0x428de5[_0x39d517(0x115)][_0x39d517(0x1f9)]=_0x42809f+'%',_0x428de5[_0x39d517(0x115)]['background']=_0x39d517(0xf9));}function renderEventsForColumn(_0x25ccff,_0x1d8f5d,_0x3a05b1){const _0x47af4a=a2_0x1c8610,_0x49269d=sessions[_0x47af4a(0x19d)](_0x42be9b=>_0x42be9b['dateStr']===_0x1d8f5d),_0x14f0d0=_0x49269d[_0x47af4a(0x16d)](_0xc228fa=>{const _0x59c65b=_0x47af4a,[_0x525eb9,_0x2153c2]=_0xc228fa[_0x59c65b(0x1ed)]['split'](':')['map'](Number),[_0x5c068b,_0x583e85]=_0xc228fa['end'][_0x59c65b(0x149)](':')['map'](Number);return{'data':_0xc228fa,'start':_0x525eb9*0x3c+_0x2153c2,'end':_0x5c068b*0x3c+_0x583e85,'colIndex':0x0};});_0x14f0d0[_0x47af4a(0xcc)]((_0x4e6a0d,_0x36beec)=>{const _0x290a43=_0x47af4a;if(_0x4e6a0d[_0x290a43(0x1ed)]!==_0x36beec['start'])return _0x4e6a0d[_0x290a43(0x1ed)]-_0x36beec[_0x290a43(0x1ed)];return _0x36beec[_0x290a43(0xfe)]-_0x36beec[_0x290a43(0x1ed)]-(_0x4e6a0d['end']-_0x4e6a0d[_0x290a43(0x1ed)]);});const _0x5cf146=[];_0x14f0d0['forEach'](_0x9316fd=>{const _0x33834a=_0x47af4a;let _0x3a9e13=![];for(let _0x419f7e=0x0;_0x419f7e<_0x5cf146[_0x33834a(0x1fe)];_0x419f7e++){const _0x88a940=_0x5cf146[_0x419f7e],_0x3c24e1=_0x88a940[_0x88a940[_0x33834a(0x1fe)]-0x1];if(_0x9316fd[_0x33834a(0x1ed)]>=_0x3c24e1['end']){_0x88a940[_0x33834a(0xb2)](_0x9316fd),_0x9316fd['colIndex']=_0x419f7e,_0x3a9e13=!![];break;}}!_0x3a9e13&&(_0x5cf146[_0x33834a(0xb2)]([_0x9316fd]),_0x9316fd[_0x33834a(0x1ca)]=_0x5cf146[_0x33834a(0x1fe)]-0x1);}),_0x14f0d0[_0x47af4a(0x1d3)](_0x556e50=>{const _0x5dbd1b=_0x47af4a;let _0x4f1fd8=0x0;_0x14f0d0[_0x5dbd1b(0x1d3)](_0x31fc39=>{const _0x5368a4=_0x5dbd1b;if(Math[_0x5368a4(0x12a)](_0x556e50['start'],_0x31fc39['start'])<Math[_0x5368a4(0xfc)](_0x556e50['end'],_0x31fc39['end'])){if(_0x31fc39['colIndex']>_0x4f1fd8)_0x4f1fd8=_0x31fc39['colIndex'];}});const _0x2ae10a=_0x4f1fd8+0x1,_0x23e0e8=0x64/_0x2ae10a,_0x5a9757=_0x556e50[_0x5dbd1b(0x1ca)]*_0x23e0e8,_0x32ff54=createEventEl(_0x556e50[_0x5dbd1b(0x198)]);_0x32ff54['style'][_0x5dbd1b(0x1f9)]=_0x5dbd1b(0x158)+_0x23e0e8+'%\x20-\x204px)',_0x32ff54[_0x5dbd1b(0x115)]['left']=_0x5dbd1b(0x158)+_0x5a9757+_0x5dbd1b(0xcd),_0x32ff54[_0x5dbd1b(0x115)][_0x5dbd1b(0x116)]=0xa+_0x556e50[_0x5dbd1b(0x1ca)],_0x23e0e8<0x55&&_0x32ff54[_0x5dbd1b(0x16c)]['add'](_0x5dbd1b(0xc5)),_0x25ccff[_0x5dbd1b(0x1ad)](_0x32ff54);});}function createEventEl(_0x411937){const _0x3c6108=a2_0x1c8610,[_0x480d37,_0x3c7be1]=_0x411937[_0x3c6108(0x1ed)][_0x3c6108(0x149)](':')['map'](Number),[_0x51987b,_0x50f6d1]=_0x411937[_0x3c6108(0xfe)][_0x3c6108(0x149)](':')[_0x3c6108(0x16d)](Number),_0x4273dd=(_0x480d37*0x3c+_0x3c7be1)/0x3c*GRID_H,_0x1024c6=(_0x51987b*0x3c+_0x50f6d1-(_0x480d37*0x3c+_0x3c7be1))/0x3c*GRID_H,_0x173028=document[_0x3c6108(0xe3)]('div'),_0x935841=_0x411937[_0x3c6108(0x1ac)]===_0x3c6108(0x1f6)?_0x3c6108(0x183):'';_0x173028['className']='event-card'+_0x935841,_0x173028[_0x3c6108(0x115)][_0x3c6108(0xff)]=_0x4273dd+'px',_0x173028['style'][_0x3c6108(0xd5)]=Math['max'](_0x1024c6,0x14)+'px';const _0xa2d4f6=clients['find'](_0x2b2b0a=>_0x411937[_0x3c6108(0x176)]&&String(_0x2b2b0a['id'])===String(_0x411937[_0x3c6108(0x176)])||_0x2b2b0a['name']===_0x411937[_0x3c6108(0x10b)]),_0x46d0e9=_0xa2d4f6?_0xa2d4f6['color']:_0x3c6108(0x10a);_0x173028[_0x3c6108(0x115)][_0x3c6108(0xb9)]=_0x46d0e9,_0x173028['style'][_0x3c6108(0x20d)]=hexToRgba(_0x46d0e9,0.85);let _0x5e0edb='<div\x20class=\x22ev-title\x22>'+_0x411937[_0x3c6108(0x10b)]+_0x3c6108(0xec)+_0x411937[_0x3c6108(0x1ed)]+_0x3c6108(0x1b1)+_0x411937[_0x3c6108(0xfe)]+_0x3c6108(0xb0);return _0x411937[_0x3c6108(0x20b)]&&(_0x5e0edb+='<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>'),_0x411937[_0x3c6108(0x1ac)]==='completed'&&(_0x5e0edb+='<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>'),_0x173028[_0x3c6108(0x1a3)]=_0x5e0edb,_0x173028[_0x3c6108(0x191)]=_0x4b25e7=>{_0x4b25e7['stopPropagation'](),openEdit(_0x411937);},_0x173028;}function attachLongPressHandler(_0x28b401,_0x39c2d4){const _0xc14567=a2_0x1c8610;let _0xb5ab12=0x0,_0x31f2e9=null;const _0x570f35=_0x416323=>{const _0x3f85a2=a2_0x4f31;if(_0x416323['target'][_0x3f85a2(0x129)]('.event-card'))return;isScrolling=![],_0xb5ab12=_0x416323[_0x3f85a2(0x14f)]?_0x416323[_0x3f85a2(0x14f)][0x0][_0x3f85a2(0x20a)]:_0x416323[_0x3f85a2(0x20a)],_0x31f2e9=setTimeout(()=>{const _0x285c3d=_0x3f85a2;if(!isScrolling){navigator[_0x285c3d(0x166)]?.(0x32);const _0x321b6e=_0x28b401[_0x285c3d(0x1ae)](),_0x31d388=Math[_0x285c3d(0x1db)]((_0xb5ab12-_0x321b6e[_0x285c3d(0xff)])/GRID_H);_0x39c2d4[_0x285c3d(0x209)](_0x31d388,0x0),openAddSession(_0x39c2d4);}},0x1f4);},_0xd319b0=()=>{isScrolling=!![],clearTimeout(_0x31f2e9);},_0x585311=()=>{clearTimeout(_0x31f2e9);};_0x28b401[_0xc14567(0xf3)](_0xc14567(0x1e6),_0x570f35,{'passive':!![]}),_0x28b401[_0xc14567(0xf3)](_0xc14567(0x128),_0xd319b0,{'passive':!![]}),_0x28b401[_0xc14567(0xf3)](_0xc14567(0x185),_0x585311),_0x28b401[_0xc14567(0xf3)](_0xc14567(0x233),_0x570f35),_0x28b401['addEventListener'](_0xc14567(0xdd),_0xd319b0),_0x28b401[_0xc14567(0xf3)](_0xc14567(0xfb),_0x585311);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x3e4717=a2_0x1c8610,_0x5b85d3=document[_0x3e4717(0xb6)](_0x3e4717(0x1a6)),_0x5a24bd=_0x5b85d3[_0x3e4717(0x214)],_0x41ee4=_0x5b85d3[_0x3e4717(0x100)],_0x2ef5fe=_0x5b85d3['clientWidth'];if(_0x41ee4-(_0x5a24bd+_0x2ef5fe)<0x12c){const _0x3c9266=endOffset;endOffset+=0xe,renderDayRange(_0x3c9266+0x1,endOffset),reRenderBlocks();}if(_0x5a24bd<0x12c){const _0x359f29=startOffset;startOffset-=0xe,prependDays(startOffset,_0x359f29-0x1),_0x5b85d3[_0x3e4717(0x214)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x2e0fdc,_0xd72594){const _0x81198a=a2_0x1c8610,_0x3390a=document[_0x81198a(0xb6)]('daysHeaderTrack'),_0x534e18=document[_0x81198a(0xb6)](_0x81198a(0x231)),_0x2c44cf=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x42ca7d=new Date();_0x42ca7d[_0x81198a(0x209)](0x0,0x0,0x0,0x0);const _0x2e8a8d=getLocalDateStr(new Date()),_0x54f853=document[_0x81198a(0x112)](),_0x5a438b=document['createDocumentFragment']();for(let _0x5e8858=_0x2e0fdc;_0x5e8858<=_0xd72594;_0x5e8858++){const _0x4109a8=new Date(_0x42ca7d);_0x4109a8['setDate'](_0x4109a8['getDate']()+_0x5e8858);const _0xb9fb74=getLocalDateStr(_0x4109a8);let _0x579cd5=_0x4109a8['getDay']()-0x1;if(_0x579cd5===-0x1)_0x579cd5=0x6;const _0x5238b7=_0xb9fb74===_0x2e8a8d,_0x120a4d=document['createElement'](_0x81198a(0x1d6));_0x120a4d[_0x81198a(0x1ec)]=_0x81198a(0x210)+(_0x5238b7?_0x81198a(0x134):''),_0x120a4d['id']=_0x81198a(0x1f2)+_0xb9fb74,_0x120a4d[_0x81198a(0x220)]('data-date',_0xb9fb74),_0x120a4d[_0x81198a(0x1a3)]=_0x81198a(0x206)+_0x2c44cf[_0x579cd5]+_0x81198a(0x124)+_0x4109a8[_0x81198a(0x22e)]()+_0x81198a(0x101)+_0xb9fb74+_0x81198a(0x21c),_0x120a4d[_0x81198a(0x191)]=()=>openDayOptions(_0xb9fb74,_0x2c44cf[_0x579cd5]+'\x20'+_0x4109a8[_0x81198a(0x22e)]()),_0x54f853[_0x81198a(0x1ad)](_0x120a4d);const _0x3323f6=document[_0x81198a(0xe3)](_0x81198a(0x1d6));_0x3323f6[_0x81198a(0x1ec)]=_0x81198a(0x130)+(_0x5238b7?_0x81198a(0x134):''),_0x3323f6['setAttribute'](_0x81198a(0xdb),_0xb9fb74),_0x3323f6[_0x81198a(0x220)](_0x81198a(0x186),_0x579cd5),renderEventsForColumn(_0x3323f6,_0xb9fb74,_0x579cd5),attachLongPressHandler(_0x3323f6,_0x4109a8),_0x5a438b['appendChild'](_0x3323f6),updateDayStats(_0xb9fb74);}_0x3390a[_0x81198a(0xf1)](_0x54f853,_0x3390a[_0x81198a(0xa7)]),_0x534e18['insertBefore'](_0x5a438b,_0x534e18[_0x81198a(0x21e)]('.day-column'));}function validateAppointment(_0x3e4cdd,_0x105184,_0x3ca529,_0x25db74,_0x4749af){const _0x2fe397=a2_0x1c8610,[_0x490db0,_0x2f44c7]=_0x105184[_0x2fe397(0x149)](':')[_0x2fe397(0x16d)](Number),[_0x42ed1b,_0x3b2fef]=_0x3ca529[_0x2fe397(0x149)](':')[_0x2fe397(0x16d)](Number),_0x4a34c3=_0x490db0*0x3c+_0x2f44c7,_0x538552=_0x42ed1b*0x3c+_0x3b2fef,_0x312332=String(_0x4749af);let _0x37b39e=![],_0x1add20='';for(let _0x3a2ee7 of sessions){if(_0x3a2ee7[_0x2fe397(0x17a)]!==_0x3e4cdd)continue;if(_0x3a2ee7[_0x2fe397(0x1ac)]===_0x2fe397(0x1f4))continue;if(_0x25db74&&String(_0x3a2ee7['id'])===String(_0x25db74))continue;const [_0x51dbc3,_0x36c6ac]=_0x3a2ee7[_0x2fe397(0x1ed)][_0x2fe397(0x149)](':')[_0x2fe397(0x16d)](Number),[_0x3e66ea,_0x5f43b9]=_0x3a2ee7[_0x2fe397(0xfe)][_0x2fe397(0x149)](':')[_0x2fe397(0x16d)](Number),_0x500785=_0x51dbc3*0x3c+_0x36c6ac,_0x5725d8=_0x3e66ea*0x3c+_0x5f43b9;if(Math[_0x2fe397(0x12a)](_0x4a34c3,_0x500785)<Math['min'](_0x538552,_0x5725d8)){if(_0x3a2ee7[_0x2fe397(0x176)]&&String(_0x3a2ee7[_0x2fe397(0x176)])===_0x312332)return{'valid':![],'msg':_0x2fe397(0xe4)+_0x3a2ee7[_0x2fe397(0x10b)]+_0x2fe397(0x22c)};_0x37b39e=!![],_0x1add20=_0x3a2ee7[_0x2fe397(0x10b)];}}if(_0x37b39e)return{'valid':!![],'warning':'–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20'+_0x1add20};return{'valid':!![]};}function a2_0x4f31(_0x41c0fa,_0x37b479){_0x41c0fa=_0x41c0fa-0xa6;const _0x472387=a2_0x138d();let _0x3c953d=_0x472387[_0x41c0fa];return _0x3c953d;}function updateDateDisplay(){const _0xe65286=a2_0x1c8610,_0x523ae1=document['getElementById'](_0xe65286(0x1b7))[_0xe65286(0x174)],_0x4b0161=document[_0xe65286(0xb6)]('sheetDateSubtitle');if(!_0x523ae1){_0x4b0161[_0xe65286(0x1f3)]='';return;}const [_0x218f66,_0x39be1c,_0x3353ad]=_0x523ae1[_0xe65286(0x149)]('-')[_0xe65286(0x16d)](Number),_0x4de0c3=new Date(_0x218f66,_0x39be1c-0x1,_0x3353ad),_0x100215={'weekday':_0xe65286(0x1a1),'day':_0xe65286(0x103),'month':'long','year':'numeric'};let _0x6b3a4e=_0x4de0c3[_0xe65286(0xbc)](_0xe65286(0xf5),_0x100215);_0x6b3a4e=_0x6b3a4e[_0xe65286(0x143)](0x0)[_0xe65286(0x1b8)]()+_0x6b3a4e['slice'](0x1),_0x4b0161[_0xe65286(0x1f3)]=_0x6b3a4e;}function autoSetEndTime(){const _0x486f5c=a2_0x1c8610,_0x43de48=document[_0x486f5c(0xb6)]('inpStart')[_0x486f5c(0x174)];if(!_0x43de48)return;const [_0x89af6e,_0x1d319f]=_0x43de48[_0x486f5c(0x149)](':')[_0x486f5c(0x16d)](Number);let _0x16a783=_0x89af6e+0x1;if(_0x16a783>0x17)_0x16a783=0x0;const _0x1b3353=String(_0x16a783)[_0x486f5c(0x223)](0x2,'0')+':'+String(_0x1d319f)[_0x486f5c(0x223)](0x2,'0');document[_0x486f5c(0xb6)]('inpEnd')[_0x486f5c(0x174)]=_0x1b3353;}function populateClientSelect(){const _0x8cdfba=a2_0x1c8610,_0x3f1d6c=document[_0x8cdfba(0xb6)]('inpClient');_0x3f1d6c[_0x8cdfba(0x1a3)]='';if(clients[_0x8cdfba(0x1fe)]===0x0){const _0x210b23=document[_0x8cdfba(0xe3)](_0x8cdfba(0x22f));_0x210b23[_0x8cdfba(0x170)]=_0x8cdfba(0x21d),_0x3f1d6c[_0x8cdfba(0x1ad)](_0x210b23);return;}clients[_0x8cdfba(0x1d3)](_0x2a00f2=>{const _0x4addbc=_0x8cdfba,_0x213d9f=document['createElement'](_0x4addbc(0x22f));_0x213d9f[_0x4addbc(0x174)]=_0x2a00f2['name'],_0x213d9f[_0x4addbc(0x1f3)]=_0x2a00f2['name'],_0x3f1d6c[_0x4addbc(0x1ad)](_0x213d9f);});}function openActionSheet(_0x412604){const _0x350c43=a2_0x1c8610,_0x5b972=document[_0x350c43(0xb6)]('actionSheet'),_0x54fc68=document[_0x350c43(0xb6)]('actionSheetOverlay'),_0x1b58a0=document[_0x350c43(0xb6)](_0x350c43(0x161)),_0x38ccab=document[_0x350c43(0xb6)]('asBtnOne'),_0x56f354=document[_0x350c43(0xb6)](_0x350c43(0x19e));_0x54fc68[_0x350c43(0x16c)][_0x350c43(0xb5)](_0x350c43(0x1fa)),_0x5b972[_0x350c43(0x16c)]['add'](_0x350c43(0x1af));if(_0x412604===_0x350c43(0x137))_0x1b58a0[_0x350c43(0x1f3)]=_0x350c43(0xc2),_0x38ccab['textContent']='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x38ccab[_0x350c43(0x191)]=()=>{const _0x1d548b=_0x350c43;closeActionSheet(),updateSeriesBatch(_0x1d548b(0x173),tempSessionData);},_0x56f354[_0x350c43(0x1f3)]=_0x350c43(0x169),_0x56f354[_0x350c43(0x191)]=()=>{const _0x231f36=_0x350c43;closeActionSheet(),updateSeriesBatch(_0x231f36(0x1b9),tempSessionData);};else _0x412604===_0x350c43(0x1e7)&&(_0x1b58a0[_0x350c43(0x1f3)]=_0x350c43(0xf0),_0x38ccab[_0x350c43(0x1f3)]=_0x350c43(0x18c),_0x38ccab[_0x350c43(0x1ec)]=_0x350c43(0x184),_0x38ccab['onclick']=()=>{const _0x3d60ef=_0x350c43;closeActionSheet(),commitDelete(_0x3d60ef(0x173),sessions[_0x3d60ef(0x118)](_0x5e6cb1=>_0x5e6cb1['id']===editingId));},_0x56f354['textContent']=_0x350c43(0x169),_0x56f354[_0x350c43(0x1ec)]='as-button\x20danger\x20bold',_0x56f354['onclick']=()=>{const _0x2544b5=_0x350c43;closeActionSheet(),commitDelete(_0x2544b5(0x1b9),sessions[_0x2544b5(0x118)](_0xcabb7=>_0xcabb7['id']===editingId));});}function closeActionSheet(){const _0x4c2ae3=a2_0x1c8610;document[_0x4c2ae3(0xb6)]('actionSheet')[_0x4c2ae3(0x16c)][_0x4c2ae3(0x150)]('open'),document[_0x4c2ae3(0xb6)](_0x4c2ae3(0x159))['classList']['remove'](_0x4c2ae3(0x1fa));}function openSettings(){openSheet('settingsSheet');}function saveCoachSettings(){const _0x165291=a2_0x1c8610,_0xc08fd1=document[_0x165291(0xb6)](_0x165291(0x132))[_0x165291(0x174)];localStorage[_0x165291(0xed)]('uc_settings_cancel_window',_0xc08fd1),console['log'](_0x165291(0x21a),_0xc08fd1),DataManager[_0x165291(0x1a0)](_0x165291(0x221),{'settings':{'cancel_window':_0xc08fd1}})[_0x165291(0x1cc)](_0x13822e=>{const _0x389e24=_0x165291;console['error'](_0x389e24(0x133),_0x13822e),showToast(_0x389e24(0x190),![]);});}function loadCoachSettings(){const _0x471667=a2_0x1c8610,_0x33fc45=localStorage[_0x471667(0x195)]('uc_settings_cancel_window');_0x33fc45&&(document[_0x471667(0xb6)](_0x471667(0x132))[_0x471667(0x174)]=_0x33fc45);}function openRangesSheet(){const _0xc6977b=a2_0x1c8610;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0xc6977b(0x1d8));}function addRange(){const _0x3c2b5e=a2_0x1c8610,_0x20bf50=document[_0x3c2b5e(0xb6)](_0x3c2b5e(0x13b))[_0x3c2b5e(0x174)],_0x499ad8=document['getElementById']('rangeStartTime')[_0x3c2b5e(0x174)],_0x14beac=document[_0x3c2b5e(0xb6)](_0x3c2b5e(0x1bc))[_0x3c2b5e(0x174)],_0xa90abb=document[_0x3c2b5e(0xb6)]('rangeEndTime')[_0x3c2b5e(0x174)];if(!_0x20bf50||!_0x499ad8||!_0x14beac||!_0xa90abb)return alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è');const _0x487976=_0x20bf50+'T'+_0x499ad8,_0xc17189=_0x14beac+'T'+_0xa90abb;if(_0x487976>=_0xc17189)return alert(_0x3c2b5e(0x175));specialRanges['push']({'start':_0x487976,'end':_0xc17189}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x3c2b5e(0xae)](),DataManager[_0x3c2b5e(0x1a0)](_0x3c2b5e(0x221),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x384865){const _0xa85a9d=a2_0x1c8610;specialRanges['splice'](_0x384865,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0xa85a9d(0xae)](),DataManager[_0xa85a9d(0x1a0)](_0xa85a9d(0x221),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x35d935=a2_0x1c8610;document[_0x35d935(0xb6)](_0x35d935(0x13b))[_0x35d935(0x174)]='',document[_0x35d935(0xb6)](_0x35d935(0x109))[_0x35d935(0x174)]=_0x35d935(0x216),document[_0x35d935(0xb6)](_0x35d935(0x1bc))[_0x35d935(0x174)]='',document['getElementById'](_0x35d935(0xe7))[_0x35d935(0x174)]='23:59';}function renderRangesList(){const _0x431078=a2_0x1c8610,_0x308992=document['getElementById'](_0x431078(0xce));_0x308992[_0x431078(0x1a3)]='';if(!specialRanges[_0x431078(0x1fe)]){_0x308992[_0x431078(0x1a3)]=_0x431078(0x142);return;}specialRanges[_0x431078(0x1d3)]((_0x2576b1,_0x30dd38)=>{const _0x1b0212=_0x431078,_0x47c5d7=document[_0x1b0212(0xe3)]('div');_0x47c5d7[_0x1b0212(0x1ec)]=_0x1b0212(0xc7);const _0x257f0a=_0x20baef=>{const _0x2e5ce6=_0x1b0212,_0x387b88=new Date(_0x20baef);return _0x387b88[_0x2e5ce6(0x22e)]()+'.'+String(_0x387b88[_0x2e5ce6(0x165)]()+0x1)[_0x2e5ce6(0x223)](0x2,'0')+'\x20'+String(_0x387b88[_0x2e5ce6(0x212)]())[_0x2e5ce6(0x223)](0x2,'0')+':'+String(_0x387b88[_0x2e5ce6(0x1cd)]())[_0x2e5ce6(0x223)](0x2,'0');};_0x47c5d7[_0x1b0212(0x1a3)]=_0x1b0212(0x21b)+_0x257f0a(_0x2576b1[_0x1b0212(0x1ed)])+_0x1b0212(0x16e)+_0x257f0a(_0x2576b1[_0x1b0212(0xfe)])+_0x1b0212(0xe0)+_0x30dd38+_0x1b0212(0x1b0),_0x308992['appendChild'](_0x47c5d7);});}function scrollToToday(){const _0x11e715=a2_0x1c8610,_0x1c4cfe=getLocalDateStr(new Date()),_0x5f53a9=document[_0x11e715(0xb6)]('header-'+_0x1c4cfe),_0x1e2460=document[_0x11e715(0xb6)](_0x11e715(0x1a6));if(_0x5f53a9&&_0x1e2460){const _0x1c5f1f=_0x1e2460[_0x11e715(0xc6)],_0x2150ea=_0x5f53a9['offsetLeft'],_0x1f9fa3=_0x5f53a9[_0x11e715(0x1c4)];_0x1e2460['scrollLeft']=_0x2150ea-_0x1c5f1f/0x2+_0x1f9fa3/0x2,_0x1e2460[_0x11e715(0x1ff)]=0x9*GRID_H;}}function onScroll(){const _0x71429a=a2_0x1c8610,_0x20945c=document[_0x71429a(0xb6)](_0x71429a(0x1a6)),_0xd4ea06=document[_0x71429a(0x208)](_0x71429a(0x14c));for(let _0x4cd5f8 of _0xd4ea06)if(_0x4cd5f8[_0x71429a(0x1b2)]>=_0x20945c[_0x71429a(0x214)]){const _0x301984=new Date(_0x4cd5f8[_0x71429a(0x203)](_0x71429a(0xdb)));document['getElementById'](_0x71429a(0x156))['textContent']=_0x301984[_0x71429a(0x160)]('ru',{'month':_0x71429a(0x1a1)})[_0x71429a(0x1b8)]()+'\x20'+_0x301984[_0x71429a(0x1a5)]();break;}}function showToast(_0x1a745b,_0x56ee31=![]){const _0x31da21=a2_0x1c8610,_0x2b1ec5=document[_0x31da21(0xb6)](_0x31da21(0x18f));_0x2b1ec5[_0x31da21(0x1ec)]=_0x31da21(0xa9)+(_0x56ee31?'success':''),document['getElementById'](_0x31da21(0x12d))[_0x31da21(0x1f3)]=_0x56ee31?_0x31da21(0x201):_0x31da21(0x1ab),document[_0x31da21(0xb6)](_0x31da21(0x20c))[_0x31da21(0x1f3)]=_0x1a745b,_0x2b1ec5['classList']['add']('show'),setTimeout(()=>{const _0x54d6cc=_0x31da21;_0x2b1ec5[_0x54d6cc(0x16c)][_0x54d6cc(0x150)](_0x54d6cc(0xbf));},0xbb8);}function openDayOptions(_0x280960,_0x2c6b27){const _0x220d60=a2_0x1c8610;selectedDayForOptions=_0x280960,document[_0x220d60(0xb6)](_0x220d60(0x230))[_0x220d60(0x1f3)]=_0x2c6b27,openSheet(_0x220d60(0x17b));}function toggleDayOff(){const _0x58f245=a2_0x1c8610;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]='off',reRenderBlocks(),closeAllSheets(),DataManager[_0x58f245(0xae)](),DataManager['fetchFromServer']('save_settings',{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x2fa8d4=a2_0x1c8610;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager['fetchFromServer'](_0x2fa8d4(0x221),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x52bb03){const _0x1b1ad0=a2_0x1c8610;document[_0x1b1ad0(0xb6)](_0x1b1ad0(0xf7))[_0x1b1ad0(0x16c)][_0x1b1ad0(0xb5)](_0x1b1ad0(0x1fa)),document[_0x1b1ad0(0xb6)](_0x52bb03)['classList'][_0x1b1ad0(0xb5)](_0x1b1ad0(0x1af));}function closeAllSheets(){const _0x17f1e9=a2_0x1c8610;document[_0x17f1e9(0xb6)]('overlay')['classList'][_0x17f1e9(0x150)](_0x17f1e9(0x1fa)),document[_0x17f1e9(0x208)](_0x17f1e9(0x1c6))[_0x17f1e9(0x1d3)](_0x38831f=>_0x38831f[_0x17f1e9(0x16c)]['remove']('open'));}function openPatternEditor(){const _0x24ae07=a2_0x1c8610;closeAllSheets(),document['getElementById'](_0x24ae07(0xbd))[_0x24ae07(0x16c)]['add'](_0x24ae07(0x1af)),renderPatternEditor();}function closePatternEditor(){const _0x538b9b=a2_0x1c8610;document[_0x538b9b(0xb6)]('patternEditor')['classList']['remove']('open');}function savePattern(){const _0x160b5d=a2_0x1c8610;document[_0x160b5d(0xb6)](_0x160b5d(0xbd))[_0x160b5d(0x16c)][_0x160b5d(0x150)](_0x160b5d(0x1af)),reRenderBlocks(),DataManager[_0x160b5d(0xae)](),DataManager[_0x160b5d(0x1a0)]('save_settings',{'settings':{'pattern':availabilityPattern}});}function a2_0x138d(){const _0x5472b2=['<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','Batch\x20Sync\x20OK','single','value','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','clientId','checked','Critical\x20TMA\x20Error:','(((.+)+)+)+$','dateStr','dayOptionsSheet','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','includes','timeColumn','POST','router.html','week','\x20status-completed','as-button\x20danger','touchend','data-day-idx','inpNote','initDataUnsafe','Server\x20Error','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞',':\x20Client\x20already\x20booked','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','initData','scroll','toast','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','onclick','inpStart','send_notification','peGrid','getItem','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','data','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','disableVerticalSwipes','patternInfoBox','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','filter','asBtnSeries','.day-off-overlay','fetchFromServer','long','uc_settings_cancel_window','innerHTML','then','getFullYear','matrixViewport','borderRadius','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','setDate','block','–ò–Ω—Ñ–æ','status','appendChild','getBoundingClientRect','open',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','\x20-\x20','offsetLeft','rgba(255,\x20159,\x2010,\x200.3)','analyticsSheet','inpRecurring','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','inpDate','toUpperCase','series','anEnd','daysHeaderTrack','rangeEndDate','color','5yPqWcY','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','anTotalStats','49WiPueU','all','[Sync]\x20Loading\x20','offsetWidth','doWorkHours','.sheet','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','inpSeriesCount','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','colIndex','send','catch','getMinutes','Unknown','var(--acc-green)','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','anCustomDates','Error\x20setting\x20back\x20button:','forEach','stringify','undefined','div','log','rangesSheet',':00','[Notify]\x20Network\x20Failed','floor','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','var(--acc-red)','now','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','update','note','stopPropagation','statLoadCard','touchstart','delete','825736tMEeZq','init_load','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','slice','className','start','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','btnStatusToggle','batch_sync','apply','header-','textContent','cancelled','keys','completed','entries','msg','width','active','none','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','uc_settings_v9','length','scrollTop',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','–£—Å–ø–µ—à–Ω–æ','calendar','getAttribute','recurringOptionContainer','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','<div\x20class=\x22dch-day\x22>','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','querySelectorAll','setHours','clientY','seriesId','toastMessage','backgroundColor',':00</span>','ready','day-col-header\x20','cancel_window','getHours','2733438EDUCvJ','scrollLeft','rgba(100,100,100,0.5)','00:00','88152eFbLBH','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','10px','[Settings]\x20Cancel\x20window\x20set\x20to:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','querySelector','stat-','setAttribute','save_settings','onClick','padStart','5735331BZXXEB','warning','pe-cell\x20','[Notify]\x20Attempting\x20to\x20send:','round','warn','href','getTime',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','getDate','option','dayOptionsTitle','gridColumns','backgroundPosition','mousedown','mergeServerData','\x20–∏–∑\x20','exceptions','firstChild','done','toast-notification\x20','off','toFixed','custom','doLoadPercent','saveLocally','inpClient','</div>','sid','push','[Notify]\x20Server\x20Response:','<b>‚úÖ\x20','add','getElementById','month','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','borderLeftColor','null','offClick','toLocaleDateString','patternEditor','startsWith','show','#fff','splice','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','parse','client-stat-card','mini','clientWidth','range-item','pattern','WebApp','#gridColumns\x20.day-column','doEventsList','sort','%\x20+\x202px)','rangesList','[Notify]\x20Client\x20SWAP\x20detected','substr','settings','search','rgba(255,\x2069,\x2058,\x200.15)','location','height','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','[Series]\x20Skipped\x20','#050505','Telegram','btn-status-toggle','data-date','flex','mousemove','blocked-range-part\x20stripe-bg','setHeaderColor','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','inpEnd','localeCompare','createElement','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','clients','DOMContentLoaded','rangeEndTime','.pib-text','px\x20-','10px\x2010px\x200\x200','btnDelete','</div><div\x20class=\x22ev-time\x22>','setItem','toString','cancel','–£–¥–∞–ª–µ–Ω–∏–µ','insertBefore','total','addEventListener','isArray','ru-RU','BackButton','overlay','indexOf','var(--acc-current)','88DiTLzQ','mouseup','min','[API\x20','end','top','scrollWidth','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','doBusyHours','numeric','error','analyticsList','user','var(--acc-orange)','json','rangeStartTime','#0a84ff','client','name','de-item','time-label','deleted','T23:59:59','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','createDocumentFragment','seriesCountContainer','pe-col-header','style','zIndex','anPercent','find','2018074KhHFNg',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','from','sessionSheet','doDateHeader','100%','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','day-off-overlay\x20stripe-bg','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','pe-corner','globalTimeLine','</div><div\x20class=\x22dch-num\x22>','uc_clients_v9','...','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','touchmove','closest','max','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','Local\x20Save\x20Error','toastTitle','background','setMonth','day-column\x20','valid','settingCancelWindow','Save\x20settings\x20error:','today','planned','getDay','save','uc_sessions_v9','sheetTitle','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','rangeStartDate','.dch-stats-fill','syncLoad','btnDayToggle','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</b>\x0a\x0a','anDonutCircle','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','charAt','btn-primary\x20btn-secondary','Error\x20setting\x20color:','loadLocal','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','display','split','blocked-slot\x20stripe-bg','formatDate','.day-col-header','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','288642iejwXZ','touches','remove','complete','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','anStart','ranges','borderColor','headerMonth','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','calc(','actionSheetOverlay','create','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','3593070TzYchy','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','<span>','.period-switch\x20.p-btn','toLocaleString','asTitle','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','[Notify]\x20Error:\x20sessionData\x20is\x20null','getText','getMonth','vibrate','text/plain;charset=UTF-8','</span>\x20/\x20','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','px\x200px','classList','map','\x20‚Äî\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text'];a2_0x138d=function(){return _0x5472b2;};return a2_0x138d();}function renderPatternEditor(){const _0x25222a=a2_0x1c8610,_0x159453=document[_0x25222a(0xb6)](_0x25222a(0x194));_0x159453[_0x25222a(0x1a3)]='';const _0x5dde11=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1c896b=document[_0x25222a(0xe3)](_0x25222a(0x1d6));_0x1c896b['className']=_0x25222a(0x122),_0x159453[_0x25222a(0x1ad)](_0x1c896b),_0x5dde11[_0x25222a(0x1d3)]((_0x49f1af,_0xefc6e6)=>{const _0x45a2cb=_0x25222a,_0x59c374=document[_0x45a2cb(0xe3)](_0x45a2cb(0x1d6));_0x59c374[_0x45a2cb(0x1ec)]=_0x45a2cb(0x114),_0x59c374[_0x45a2cb(0x1a3)]=_0x49f1af+_0x45a2cb(0x14d),_0x59c374['onclick']=()=>toggleColPattern(_0xefc6e6),_0x159453[_0x45a2cb(0x1ad)](_0x59c374);});for(let _0x4b7c=0x0;_0x4b7c<0x18;_0x4b7c++){const _0xcfee0e=document['createElement'](_0x25222a(0x1d6));_0xcfee0e[_0x25222a(0x1ec)]='pe-time-label',_0xcfee0e[_0x25222a(0x1a3)]=_0x25222a(0xd6)+String(_0x4b7c)[_0x25222a(0x223)](0x2,'0')+_0x25222a(0x1d9),_0xcfee0e['onclick']=()=>toggleRowPattern(_0x4b7c),_0x159453[_0x25222a(0x1ad)](_0xcfee0e);for(let _0x1ed0ee=0x0;_0x1ed0ee<0x7;_0x1ed0ee++){const _0x1597e8=document[_0x25222a(0xe3)](_0x25222a(0x1d6)),_0xcd32a9=(availabilityPattern[_0x1ed0ee]||[])[_0x25222a(0x17e)](_0x4b7c),_0x3ff3f8=!_0xcd32a9;_0x1597e8['className']=_0x25222a(0x226)+(_0x3ff3f8?_0x25222a(0x1fa):''),_0x1597e8[_0x25222a(0x191)]=()=>toggleSinglePattern(_0x1ed0ee,_0x4b7c),_0x159453[_0x25222a(0x1ad)](_0x1597e8);}}}function toggleSinglePattern(_0x116beb,_0x12678f){const _0x3fc477=a2_0x1c8610;if(!availabilityPattern[_0x116beb])availabilityPattern[_0x116beb]=[];const _0x218e34=availabilityPattern[_0x116beb],_0x271464=_0x218e34[_0x3fc477(0xf8)](_0x12678f);_0x271464===-0x1?_0x218e34[_0x3fc477(0xb2)](_0x12678f):_0x218e34[_0x3fc477(0xc1)](_0x271464,0x1),renderPatternEditor();}function toggleColPattern(_0x34d175){const _0x15cca0=a2_0x1c8610;if(!availabilityPattern[_0x34d175])availabilityPattern[_0x34d175]=[];const _0x14ce28=availabilityPattern[_0x34d175];_0x14ce28[_0x15cca0(0x1fe)]===0x0?availabilityPattern[_0x34d175]=Array['from']({'length':0x18},(_0x4739fc,_0x4e3604)=>_0x4e3604):availabilityPattern[_0x34d175]=[],renderPatternEditor();}function toggleRowPattern(_0x40096b){const _0x114ecd=a2_0x1c8610;let _0xebde90=!![];for(let _0x486bb6=0x0;_0x486bb6<0x7;_0x486bb6++){if((availabilityPattern[_0x486bb6]||[])['includes'](_0x40096b)){_0xebde90=![];break;}}for(let _0x29bca7=0x0;_0x29bca7<0x7;_0x29bca7++){if(!availabilityPattern[_0x29bca7])availabilityPattern[_0x29bca7]=[];const _0x436274=availabilityPattern[_0x29bca7]['indexOf'](_0x40096b);if(_0xebde90){if(_0x436274===-0x1)availabilityPattern[_0x29bca7][_0x114ecd(0xb2)](_0x40096b);}else{if(_0x436274!==-0x1)availabilityPattern[_0x29bca7]['splice'](_0x436274,0x1);}}renderPatternEditor();}function renderPCol(_0x358348,_0x41f0d5){const _0x6288a3=a2_0x1c8610;_0x358348[_0x6288a3(0x1a3)]='';const _0x517d46=Math[_0x6288a3(0x228)](_0x358348[_0x6288a3(0x1b2)]);(availabilityPattern[_0x41f0d5]||[])[_0x6288a3(0x1d3)](_0xa89663=>{const _0x3d5355=_0x6288a3,_0x57a5e1=document[_0x3d5355(0xe3)](_0x3d5355(0x1d6));_0x57a5e1[_0x3d5355(0x1ec)]=_0x3d5355(0x14a);const _0x3347c4=_0xa89663*GRID_H;_0x57a5e1[_0x3d5355(0x115)][_0x3d5355(0xff)]=_0x3347c4+'px',_0x57a5e1[_0x3d5355(0x115)][_0x3d5355(0x232)]='-'+_0x517d46+_0x3d5355(0xe9)+_0x3347c4+'px',_0x57a5e1[_0x3d5355(0x191)]=_0x3f7bfa=>{const _0x587838=_0x3d5355;_0x3f7bfa[_0x587838(0x1e4)](),toggleSinglePattern(_0x41f0d5,_0xa89663);},_0x358348[_0x3d5355(0x1ad)](_0x57a5e1);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x29957a=a2_0x1c8610,_0x37c8f0=new Date(),_0xb8edc2=document[_0x29957a(0xb6)](_0x29957a(0x123)),_0x53f897=document[_0x29957a(0xb6)]('timeLineBadge'),_0x240f51=(_0x37c8f0[_0x29957a(0x212)]()*0x3c+_0x37c8f0[_0x29957a(0x1cd)]())/0x3c*GRID_H;_0xb8edc2[_0x29957a(0x115)]['top']=_0x240f51+'px',_0xb8edc2[_0x29957a(0x115)]['display']=_0x29957a(0x1aa),_0x53f897['textContent']=String(_0x37c8f0['getHours']())['padStart'](0x2,'0')+':'+String(_0x37c8f0[_0x29957a(0x1cd)]())[_0x29957a(0x223)](0x2,'0'),_0x53f897[_0x29957a(0x115)][_0x29957a(0x148)]=_0x29957a(0x1aa),_0x53f897[_0x29957a(0x115)][_0x29957a(0xff)]=_0x240f51+'px';}document[a2_0x1c8610(0xf3)](a2_0x1c8610(0xe6),init);function openDayOptions(_0x5611f0){const _0x4f5689=a2_0x1c8610;selectedDayForOptions=_0x5611f0;const _0x44f193=new Date(_0x5611f0),_0x4b099d={'weekday':_0x4f5689(0x1a1),'day':'numeric','month':_0x4f5689(0x1a1),'year':'numeric'},_0x16c80b=_0x44f193[_0x4f5689(0xbc)](_0x4f5689(0xf5),_0x4b099d);document[_0x4f5689(0xb6)](_0x4f5689(0x11d))['textContent']=_0x16c80b[_0x4f5689(0x143)](0x0)[_0x4f5689(0x1b8)]()+_0x16c80b[_0x4f5689(0x1eb)](0x1);let _0xac1a04=_0x44f193[_0x4f5689(0x136)]()-0x1;if(_0xac1a04===-0x1)_0xac1a04=0x6;const _0x5d61df=availabilityPattern[_0xac1a04]||[],_0x31b4ab=0x18-_0x5d61df['length'],_0x1a146e=_0x31b4ab*0x3c,_0xc21fb5=sessions['filter'](_0x4f26e5=>_0x4f26e5[_0x4f5689(0x17a)]===_0x5611f0&&_0x4f26e5[_0x4f5689(0x1ac)]!==_0x4f5689(0x1f4));let _0x1b2dba=_0xc21fb5[_0x4f5689(0x16d)](_0x4d6ab9=>{const _0x34ff88=_0x4f5689,[_0x364a13,_0x26ef1d]=_0x4d6ab9[_0x34ff88(0x1ed)][_0x34ff88(0x149)](':')['map'](Number),[_0x501973,_0x592220]=_0x4d6ab9[_0x34ff88(0xfe)][_0x34ff88(0x149)](':')[_0x34ff88(0x16d)](Number);return[_0x364a13*0x3c+_0x26ef1d,_0x501973*0x3c+_0x592220];});_0x1b2dba[_0x4f5689(0xcc)]((_0x1057a8,_0x51d90a)=>_0x1057a8[0x0]-_0x51d90a[0x0]);let _0xaeb3bf=[];if(_0x1b2dba[_0x4f5689(0x1fe)]>0x0){let _0x37eaab=_0x1b2dba[0x0];for(let _0x28f3af=0x1;_0x28f3af<_0x1b2dba[_0x4f5689(0x1fe)];_0x28f3af++){_0x1b2dba[_0x28f3af][0x0]<_0x37eaab[0x1]?_0x37eaab[0x1]=Math['max'](_0x37eaab[0x1],_0x1b2dba[_0x28f3af][0x1]):(_0xaeb3bf[_0x4f5689(0xb2)](_0x37eaab),_0x37eaab=_0x1b2dba[_0x28f3af]);}_0xaeb3bf[_0x4f5689(0xb2)](_0x37eaab);}let _0x6a1765=0x0;_0xaeb3bf[_0x4f5689(0x1d3)](_0x5cc35f=>_0x6a1765+=_0x5cc35f[0x1]-_0x5cc35f[0x0]),document[_0x4f5689(0xb6)](_0x4f5689(0x1c5))[_0x4f5689(0x1f3)]=formatMinsToHrs(_0x1a146e),document[_0x4f5689(0xb6)](_0x4f5689(0x102))[_0x4f5689(0x1f3)]=formatMinsToHrs(_0x6a1765);const _0x493ca4=_0x1a146e>0x0?Math['round'](_0x6a1765/_0x1a146e*0x64):0x0,_0x3eb2b9=document[_0x4f5689(0xb6)](_0x4f5689(0xad));_0x3eb2b9[_0x4f5689(0x1f3)]=_0x493ca4+'%';const _0x25a6d6=document[_0x4f5689(0xb6)](_0x4f5689(0x1e5));if(_0x493ca4>0x64)_0x3eb2b9[_0x4f5689(0x115)][_0x4f5689(0x1bd)]='var(--acc-red)',_0x25a6d6['style'][_0x4f5689(0x155)]='rgba(255,\x2069,\x2058,\x200.3)';else _0x493ca4>0x50?(_0x3eb2b9['style'][_0x4f5689(0x1bd)]=_0x4f5689(0x107),_0x25a6d6[_0x4f5689(0x115)][_0x4f5689(0x155)]=_0x4f5689(0x1b3)):(_0x3eb2b9[_0x4f5689(0x115)]['color']='var(--acc-green)',_0x25a6d6[_0x4f5689(0x115)][_0x4f5689(0x155)]='rgba(255,255,255,0.05)');const _0x53ca6e=document[_0x4f5689(0xb6)](_0x4f5689(0xcb));_0x53ca6e[_0x4f5689(0x1a3)]='';_0xc21fb5[_0x4f5689(0x1fe)]===0x0?_0x53ca6e[_0x4f5689(0x1a3)]=_0x4f5689(0x152):(_0xc21fb5['sort']((_0x1c2566,_0x3c7620)=>_0x1c2566['start'][_0x4f5689(0xe2)](_0x3c7620['start'])),_0xc21fb5[_0x4f5689(0x1d3)](_0x16c564=>{const _0x308d19=_0x4f5689,_0x275c9a=clients[_0x308d19(0x118)](_0x40120d=>_0x40120d[_0x308d19(0x10c)]===_0x16c564[_0x308d19(0x10b)]),_0x467f88=_0x275c9a?_0x275c9a[_0x308d19(0x1bd)]:_0x308d19(0xc0),_0x3a6060=_0x16c564[_0x308d19(0x1ac)]===_0x308d19(0x1f6),_0x13f550=_0x3a6060?'<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>':'',_0x470145=document[_0x308d19(0xe3)](_0x308d19(0x1d6));_0x470145[_0x308d19(0x1ec)]=_0x308d19(0x10d),_0x470145[_0x308d19(0x115)][_0x308d19(0xb9)]=_0x467f88,_0x470145[_0x308d19(0x1a3)]=_0x308d19(0x1df)+_0x16c564[_0x308d19(0x1ed)]+_0x308d19(0x1b1)+_0x16c564[_0x308d19(0xfe)]+_0x308d19(0x13f)+_0x16c564[_0x308d19(0x10b)]+_0x308d19(0x16f)+_0x13f550+_0x308d19(0x1e1),_0x53ca6e[_0x308d19(0x1ad)](_0x470145);}));const _0x18cefc=document[_0x4f5689(0xb6)](_0x4f5689(0x13e)),_0x524237=dateExceptions[_0x5611f0]===_0x4f5689(0xaa);_0x524237?(_0x18cefc[_0x4f5689(0x1f3)]=_0x4f5689(0x1fc),_0x18cefc[_0x4f5689(0x1ec)]=_0x4f5689(0x144),_0x18cefc['style'][_0x4f5689(0x1bd)]=_0x4f5689(0x1cf),_0x18cefc['style'][_0x4f5689(0x12e)]='rgba(48,\x20209,\x2088,\x200.15)'):(_0x18cefc[_0x4f5689(0x1f3)]=_0x4f5689(0x1c7),_0x18cefc[_0x4f5689(0x1ec)]='btn-primary\x20btn-danger',_0x18cefc[_0x4f5689(0x115)]['color']='var(--acc-red)',_0x18cefc['style'][_0x4f5689(0x12e)]=_0x4f5689(0xd3)),openSheet(_0x4f5689(0x17b));}let currentAnPeriod=a2_0x1c8610(0x182);function openAnalytics(){const _0x5d95b0=a2_0x1c8610,_0x4a238e=document[_0x5d95b0(0x21e)](_0x5d95b0(0x15f));setAnalyticsPeriod('week',_0x4a238e),closeAllSheets(),openSheet(_0x5d95b0(0x1b4));}function setAnalyticsPeriod(_0x405adb,_0xaf9701){const _0x384c5a=a2_0x1c8610;currentAnPeriod=_0x405adb,document[_0x384c5a(0x208)]('.period-switch\x20.p-btn')[_0x384c5a(0x1d3)](_0x5ef62b=>_0x5ef62b['classList'][_0x384c5a(0x150)](_0x384c5a(0x1fa)));if(_0xaf9701)_0xaf9701[_0x384c5a(0x16c)][_0x384c5a(0xb5)](_0x384c5a(0x1fa));const _0x5c1904=document[_0x384c5a(0xb6)](_0x384c5a(0x1d1));_0x5c1904[_0x384c5a(0x115)][_0x384c5a(0x148)]=_0x405adb===_0x384c5a(0xac)?_0x384c5a(0xdc):_0x384c5a(0x1fb);const _0x1270fe=new Date();let _0x2ee2c1=new Date(),_0x42aade=new Date();if(_0x405adb===_0x384c5a(0x182))_0x2ee2c1=getStartOfWeek(_0x1270fe),_0x42aade=new Date(_0x2ee2c1),_0x42aade['setDate'](_0x42aade[_0x384c5a(0x22e)]()+0x6);else{if(_0x405adb===_0x384c5a(0xb7))_0x2ee2c1=new Date(_0x1270fe[_0x384c5a(0x1a5)](),_0x1270fe[_0x384c5a(0x165)](),0x1),_0x42aade=new Date(_0x1270fe[_0x384c5a(0x1a5)](),_0x1270fe[_0x384c5a(0x165)]()+0x1,0x0);else{!document[_0x384c5a(0xb6)](_0x384c5a(0x153))['value']&&(document[_0x384c5a(0xb6)]('anStart')[_0x384c5a(0x174)]=getLocalDateStr(_0x1270fe),document['getElementById'](_0x384c5a(0x1ba))[_0x384c5a(0x174)]=getLocalDateStr(_0x1270fe));refreshAnalytics();return;}}document[_0x384c5a(0xb6)](_0x384c5a(0x153))[_0x384c5a(0x174)]=getLocalDateStr(_0x2ee2c1),document['getElementById'](_0x384c5a(0x1ba))[_0x384c5a(0x174)]=getLocalDateStr(_0x42aade),refreshAnalytics();}function refreshAnalytics(){const _0x5ce17a=a2_0x1c8610,_0x4810d9=document['getElementById'](_0x5ce17a(0x153))['value'],_0x536c20=document[_0x5ce17a(0xb6)](_0x5ce17a(0x1ba))[_0x5ce17a(0x174)];if(!_0x4810d9||!_0x536c20)return;const _0x1d9ec0=sessions['filter'](_0x235e29=>_0x235e29[_0x5ce17a(0x17a)]>=_0x4810d9&&_0x235e29[_0x5ce17a(0x17a)]<=_0x536c20&&_0x235e29[_0x5ce17a(0x1ac)]!==_0x5ce17a(0x1f4)),_0x3f8448=_0x1d9ec0[_0x5ce17a(0x1fe)],_0x30bd8b=_0x1d9ec0[_0x5ce17a(0x19d)](_0x7a1c63=>_0x7a1c63[_0x5ce17a(0x1ac)]===_0x5ce17a(0x1f6))[_0x5ce17a(0x1fe)],_0x346475=_0x3f8448>0x0?Math['round'](_0x30bd8b/_0x3f8448*0x64):0x0;document[_0x5ce17a(0xb6)](_0x5ce17a(0x117))[_0x5ce17a(0x1f3)]=_0x346475+'%',document[_0x5ce17a(0xb6)](_0x5ce17a(0x1c0))[_0x5ce17a(0x1f3)]=_0x30bd8b+_0x5ce17a(0x235)+_0x3f8448+_0x5ce17a(0x1e0);const _0x1ffb86=document['getElementById'](_0x5ce17a(0x141)),_0x4c0ff8=0x2*Math['PI']*0x23,_0x218b57=_0x4c0ff8-_0x346475/0x64*_0x4c0ff8;_0x1ffb86[_0x5ce17a(0x115)]['strokeDashoffset']=_0x218b57;const _0x4b50bf={};_0x1d9ec0['forEach'](_0x89ef45=>{const _0xa52b0d=_0x5ce17a;if(!_0x4b50bf[_0x89ef45[_0xa52b0d(0x10b)]]){const _0x3cf7d6=clients[_0xa52b0d(0x118)](_0x4e1e2c=>_0x4e1e2c[_0xa52b0d(0x10c)]===_0x89ef45[_0xa52b0d(0x10b)]);_0x4b50bf[_0x89ef45[_0xa52b0d(0x10b)]]={'total':0x0,'done':0x0,'color':_0x3cf7d6?_0x3cf7d6['color']:'#fff'};}_0x4b50bf[_0x89ef45['client']]['total']++;if(_0x89ef45['status']===_0xa52b0d(0x1f6))_0x4b50bf[_0x89ef45['client']][_0xa52b0d(0xa8)]++;});const _0x109cc0=document[_0x5ce17a(0xb6)](_0x5ce17a(0x105));_0x109cc0[_0x5ce17a(0x1a3)]='';const _0xf2104=Object[_0x5ce17a(0x1f7)](_0x4b50bf)[_0x5ce17a(0xcc)]((_0x46a4c0,_0x5e082e)=>_0x5e082e[0x1][_0x5ce17a(0xf2)]-_0x46a4c0[0x1][_0x5ce17a(0xf2)]);if(_0xf2104['length']===0x0){_0x109cc0['innerHTML']=_0x5ce17a(0x111);return;}_0xf2104[_0x5ce17a(0x1d3)](([_0x2d8386,_0x1d47a7])=>{const _0x4f2872=_0x5ce17a,_0x554a21=Math['round'](_0x1d47a7[_0x4f2872(0xa8)]/_0x1d47a7[_0x4f2872(0xf2)]*0x64),_0x12e0fd=document[_0x4f2872(0xe3)](_0x4f2872(0x1d6));_0x12e0fd[_0x4f2872(0x1ec)]=_0x4f2872(0xc4),_0x12e0fd[_0x4f2872(0x115)][_0x4f2872(0xb9)]=_0x1d47a7['color'],_0x12e0fd[_0x4f2872(0x1a3)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>'+_0x2d8386+_0x4f2872(0x11f)+_0x1d47a7[_0x4f2872(0xa8)]+_0x4f2872(0x168)+_0x1d47a7[_0x4f2872(0xf2)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x554a21+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x109cc0[_0x4f2872(0x1ad)](_0x12e0fd);});}function formatMinsToHrs(_0x4d027b){const _0x515a77=a2_0x1c8610;if(_0x4d027b===0x0)return'0';const _0x24f7b0=Math[_0x515a77(0x1db)](_0x4d027b/0x3c),_0x5da845=_0x4d027b%0x3c;if(_0x5da845===0x0)return _0x24f7b0+'—á';return _0x24f7b0+'—á\x20'+_0x5da845+'–º';}