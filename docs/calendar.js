const a2_0x3f89e7=a2_0x573e;(function(_0x4e776d,_0x26d6a6){const _0x108a2e=a2_0x573e,_0x257d36=_0x4e776d();while(!![]){try{const _0x223a3c=-parseInt(_0x108a2e(0x205))/0x1*(-parseInt(_0x108a2e(0x2d9))/0x2)+parseInt(_0x108a2e(0x1cf))/0x3+parseInt(_0x108a2e(0x249))/0x4*(-parseInt(_0x108a2e(0x1bf))/0x5)+-parseInt(_0x108a2e(0x2e3))/0x6*(-parseInt(_0x108a2e(0x1d0))/0x7)+parseInt(_0x108a2e(0x277))/0x8+parseInt(_0x108a2e(0x2de))/0x9*(-parseInt(_0x108a2e(0x20c))/0xa)+-parseInt(_0x108a2e(0x2f5))/0xb;if(_0x223a3c===_0x26d6a6)break;else _0x257d36['push'](_0x257d36['shift']());}catch(_0x32c6d8){_0x257d36['push'](_0x257d36['shift']());}}}(a2_0x39a0,0x95231),function initTMA(){const _0x50f33a=a2_0x573e,_0x43511a=(function(){let _0x2d806c=!![];return function(_0x17e62a,_0x248ef2){const _0x886e22=_0x2d806c?function(){const _0x2c430c=a2_0x573e;if(_0x248ef2){const _0x11e974=_0x248ef2[_0x2c430c(0x292)](_0x17e62a,arguments);return _0x248ef2=null,_0x11e974;}}:function(){};return _0x2d806c=![],_0x886e22;};}()),_0x2cd3ee=_0x43511a(this,function(){const _0x3f3512=a2_0x573e;return _0x2cd3ee[_0x3f3512(0x26e)]()['search'](_0x3f3512(0x2aa))[_0x3f3512(0x26e)]()[_0x3f3512(0x193)](_0x2cd3ee)[_0x3f3512(0x211)](_0x3f3512(0x2aa));});_0x2cd3ee();try{const _0x1f5ca7=window[_0x50f33a(0x1d4)]?.[_0x50f33a(0x21c)];if(!_0x1f5ca7)return;_0x1f5ca7[_0x50f33a(0x1ae)](),_0x1f5ca7[_0x50f33a(0x1a2)]();try{_0x1f5ca7[_0x50f33a(0x287)]('#050505'),_0x1f5ca7['setBackgroundColor']&&_0x1f5ca7[_0x50f33a(0x24a)](_0x50f33a(0x260));}catch(_0x3a8a61){console[_0x50f33a(0x1eb)](_0x50f33a(0x2fb),_0x3a8a61);}try{_0x1f5ca7[_0x50f33a(0x257)]&&(_0x1f5ca7[_0x50f33a(0x257)][_0x50f33a(0x1e9)](),_0x1f5ca7[_0x50f33a(0x257)][_0x50f33a(0x30b)](),_0x1f5ca7['BackButton'][_0x50f33a(0x29e)](function(){const _0x197721=_0x50f33a;window[_0x197721(0x2ce)]['href']=_0x197721(0x264);}));}catch(_0x5f43df){console[_0x50f33a(0x1eb)](_0x50f33a(0x28d),_0x5f43df);}try{if(_0x1f5ca7['disableVerticalSwipes'])_0x1f5ca7[_0x50f33a(0x1d9)]();}catch(_0x5135f6){}}catch(_0x3bfdac){console[_0x50f33a(0x1f3)](_0x50f33a(0x239),_0x3bfdac);}}());function isAdmin(){const _0x3273a4=a2_0x573e;try{const _0x21ff75=Number(window[_0x3273a4(0x1d4)]?.[_0x3273a4(0x21c)]?.[_0x3273a4(0x2a7)]?.[_0x3273a4(0x308)]?.['id']);return _0x21ff75===0xbaf7174;}catch(_0x3475af){return![];}}const APP_VERSION=a2_0x3f89e7(0x1ef),API_URL=a2_0x3f89e7(0x291),GRID_H=0x3c;function a2_0x39a0(){const _0x17fd1d=['–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','none','toastMessage','deleted','custom','as-button\x20danger','length','clientId','entries','planned','target','numeric','POST','min','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','stringify','timeLineBadge','mini','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','dayOptionsTitle','warning','checked','createElement','<div\x20class=\x22ev-title\x22>','Save\x20settings\x20error:','toLocaleDateString','uc_settings_cancel_window','sessionSheet','dateStr','dayOptionsSheet','scrollTop','scrollLeft','className','location','vibrate','calc(',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','init_load','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','<div\x20class=\x22dch-day\x22>','doWorkHours','value','headerMonth','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','425686xoLoID','from','overlay','–£—Å–ø–µ—à–Ω–æ','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','22608GJNBgU','[API\x20','ru-RU','getText','undefined','30WWfdSe','cancel','setItem','option','innerHTML','toLocaleString','mergeServerData','pe-col-header','save_settings','setDate','day-off-overlay\x20stripe-bg','setAttribute','seriesId','random','#gridColumns\x20.day-column','header-','10px\x2010px\x200\x200','as-button\x20danger\x20bold','14080715UmEFUT','peGrid','recurringOptionContainer','\x20-\x20','send_notification','update','Error\x20setting\x20color:','daysHeaderTrack','uc_clients_v9','[Notify]\x20Client\x20SWAP\x20detected','getDate','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','event-card','inpClient','exceptions','sort','sid','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','user','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20',':\x20Client\x20already\x20booked','offClick','formatDate','[Notify]\x20Error:\x20sessionData\x20is\x20null','splice','padStart','rgba(255,\x20159,\x2010,\x200.3)','borderLeftColor','var(--acc-green)','btn-primary\x20btn-secondary','offsetWidth','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','rangeStartDate','week','initData','anCustomDates','cancelled','start','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','split','syncBatch','create','getMonth','inpEnd','isArray','constructor','getFullYear','</span>\x20/\x20','borderColor','seriesCountContainer','anStart','indexOf','add','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','note','Local\x20Load\x20Error','[Notify]\x20Network\x20Failed','\x20days','colIndex','data-date','expand',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','backgroundColor','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','charAt','done','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','then','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','setMonth','name','px\x20-','ready','left','complete','#fff','valid','anEnd','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','series','find','msg','backgroundPosition','remove','rgba(','btn-status-toggle\x20undo-mode','parse','delete','max','5kxFMAs','matrixViewport','syncLoad','saveLocally','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','style','.dch-stats-fill','[Notify]\x20Attempting\x20to\x20send:','blocked-range-part\x20stripe-bg','height','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','batch_sync','anPercent','\x20‚Äî\x20','3109782NUFxQb','988015cyAKpa','getBoundingClientRect','rangeEndDate','div','Telegram','time-label','scrollWidth','appendChild','rgba(255,\x2069,\x2058,\x200.15)','disableVerticalSwipes','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','flex','100%','addEventListener','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','querySelector','client-stat-card','touchend','status','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','pe-cell\x20','data-day-idx','[Notify]\x20Error:\x20Text\x20generation\x20failed','open','show','<b>‚úÖ\x20','log','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','touches','fetchFromServer','v9.0-BATCH-CALENDAR','.sheet','[Notify]\x20Server\x20Response:','toast','error','today','rangeStartTime','gridColumns','pattern','warn','inpNote','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','all','btnDayToggle','success','...','json','push','localeCompare','rangesSheet','T00:00:00','offsetLeft','1FkECHz','inpSeriesCount','patternEditor','off','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','sheetTitle','insertBefore','1520vbXzeR','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','uc_settings_v9','analyticsList','search','getMinutes','–ò–Ω—Ñ–æ','clients','closest','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','btn-primary\x20btn-danger','keys','doEventsList','pe-corner','inpRecurring','WebApp','var(--acc-red)','send','anTotalStats','null','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','createDocumentFragment','Unknown','catch','10px','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','asBtnOne','textContent','DOMContentLoaded','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','inpStart','calendar','getAttribute','mouseup','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','timeColumn','client','inpDate','uc_sessions_v9','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','width','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.day-off-overlay','Critical\x20TMA\x20Error:','px\x200px','23:59','var(--acc-orange)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getItem','round','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','asTitle','</b>\x0a\x0a','toUpperCase','</div><div\x20class=\x22dch-num\x22>','</div>','.period-switch\x20.p-btn',':00','getTime','3581572ursQYS','setBackgroundColor','btn-status-toggle','–£–¥–∞–ª–µ–Ω–∏–µ','[Settings]\x20Cancel\x20window\x20set\x20to:','ranges','clientY','top','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','active','forEach','filter','%\x20+\x202px)','BackButton','findIndex','toast-notification\x20','rangesList','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','%\x20-\x204px)','onclick','map','patternInfoBox','#050505','substr','background','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','router.html','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','T23:59:59','.day-col-header','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','total','Local\x20Save\x20Error','globalTimeLine',']\x20Failed:','getHours','toString','data','settings','borderRadius','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','setHours','doLoadPercent','mousedown','stat-','9703880HILHTd','stopPropagation','single','block','\x20status-completed','btnDelete','now','cancel_window','includes','querySelectorAll','floor','.event-card','end','zIndex','day-col-header\x20','save','setHeaderColor','long','actionSheet','.day-column','de-item','getElementById','Error\x20setting\x20back\x20button:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','apply','getDay','settingCancelWindow','rangeEndTime','touchmove',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','</div><div\x20class=\x22ev-time\x22>','display','doBusyHours','classList','slice','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','onClick','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','day-column\x20','text/plain;charset=UTF-8','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','color','btnStatusToggle','strokeDashoffset','statLoadCard','initDataUnsafe','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','completed','(((.+)+)+)+$','pe-time-label','mousemove'];a2_0x39a0=function(){return _0x17fd1d;};return a2_0x39a0();}let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x3f89e7(0x2fd),KEY_SESSIONS=a2_0x3f89e7(0x234),KEY_SETTINGS=a2_0x3f89e7(0x20f);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x4e166b=a2_0x3f89e7;return window[_0x4e166b(0x1d4)]?.[_0x4e166b(0x21c)]?.[_0x4e166b(0x2a7)]?.[_0x4e166b(0x308)]?.['id']||'guest';},'saveLocally'(){const _0x4828c9=a2_0x3f89e7;try{localStorage['setItem'](KEY_CLIENTS,JSON[_0x4828c9(0x2bc)](clients)),localStorage[_0x4828c9(0x2e5)](KEY_SESSIONS,JSON[_0x4828c9(0x2bc)](sessions)),localStorage[_0x4828c9(0x2e5)](KEY_SETTINGS,JSON[_0x4828c9(0x2bc)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x47219e){console['error'](_0x4828c9(0x26a),_0x47219e);}},'loadLocal'(){const _0x4bdd6e=a2_0x3f89e7;try{const _0x12563f=localStorage[_0x4bdd6e(0x23e)](KEY_CLIENTS);if(_0x12563f)clients=JSON[_0x4bdd6e(0x1bc)](_0x12563f);const _0x5589a5=localStorage['getItem'](KEY_SESSIONS);if(_0x5589a5)sessions=JSON['parse'](_0x5589a5);const _0x34d9fc=localStorage[_0x4bdd6e(0x23e)](KEY_SETTINGS);if(_0x34d9fc){const _0x152c9e=JSON[_0x4bdd6e(0x1bc)](_0x34d9fc);if(_0x152c9e[_0x4bdd6e(0x1f7)])availabilityPattern=_0x152c9e[_0x4bdd6e(0x1f7)];if(_0x152c9e[_0x4bdd6e(0x303)])dateExceptions=_0x152c9e[_0x4bdd6e(0x303)];if(_0x152c9e[_0x4bdd6e(0x24e)])specialRanges=_0x152c9e[_0x4bdd6e(0x24e)];}else{for(let _0x385269=0x0;_0x385269<0x7;_0x385269++)availabilityPattern[_0x385269]=Array[_0x4bdd6e(0x2da)]({'length':0xc},(_0x2d53aa,_0x5eb396)=>_0x5eb396+0x9);}}catch(_0x55099e){console[_0x4bdd6e(0x1f3)](_0x4bdd6e(0x19d),_0x55099e);}},async 'fetchFromServer'(_0x507d58,_0x2cf29e={}){const _0x2b7b2b=a2_0x3f89e7,_0x67411a=window[_0x2b7b2b(0x1d4)]?.['WebApp'],_0x13552f={'action':_0x507d58,'init_data':_0x67411a?.[_0x2b7b2b(0x188)]||'',..._0x2cf29e};try{const _0x4abfd5=await fetch(API_URL,{'method':_0x2b7b2b(0x2b9),'headers':{'Content-Type':_0x2b7b2b(0x2a1)},'body':JSON[_0x2b7b2b(0x2bc)](_0x13552f)}),_0x426fd7=await _0x4abfd5[_0x2b7b2b(0x1ff)]();if(!_0x426fd7['ok'])throw new Error(_0x426fd7[_0x2b7b2b(0x1f3)]||'Server\x20Error');return _0x426fd7['data'];}catch(_0x2cb5ec){console[_0x2b7b2b(0x1f3)](_0x2b7b2b(0x2df)+_0x507d58+_0x2b7b2b(0x26c),_0x2cb5ec);throw _0x2cb5ec;}},async 'syncLoad'(){const _0x27a49d=a2_0x3f89e7,_0x4cf5b5=new Date(),_0x18ccb8=_0x4cf5b5['getFullYear']()+'-'+String(_0x4cf5b5[_0x27a49d(0x190)]()+0x1)['padStart'](0x2,'0'),_0x2f3b44=new Date(_0x4cf5b5);_0x2f3b44[_0x27a49d(0x1ab)](_0x4cf5b5[_0x27a49d(0x190)]()+0x1);const _0xf178a8=_0x2f3b44['getFullYear']()+'-'+String(_0x2f3b44[_0x27a49d(0x190)]()+0x1)[_0x27a49d(0x30f)](0x2,'0'),_0x4010b8=Date['now']();console[_0x27a49d(0x1eb)]('[Sync]\x20Loading\x20'+_0x18ccb8+',\x20'+_0xf178a8+_0x27a49d(0x1fe));try{const [_0x237124,_0x588a59]=await Promise[_0x27a49d(0x1fb)]([this['fetchFromServer'](_0x27a49d(0x2d2),{'month_str':_0x18ccb8}),this[_0x27a49d(0x1ee)](_0x27a49d(0x2d2),{'month_str':_0xf178a8})]);if(lastUserActionTime>_0x4010b8)return console[_0x27a49d(0x1f8)](_0x27a49d(0x2d8)),![];return this['mergeServerData'](_0x237124,_0x18ccb8),this[_0x27a49d(0x2e9)](_0x588a59,_0xf178a8),this[_0x27a49d(0x1c2)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x4aafc0){console[_0x27a49d(0x1f3)](_0x4aafc0);throw _0x4aafc0;}},'mergeServerData'(_0x3557bb,_0x2a7a1d){const _0x242c32=a2_0x3f89e7;if(!_0x3557bb)return;_0x3557bb['clients']&&Array[_0x242c32(0x192)](_0x3557bb['clients'])&&(clients=_0x3557bb[_0x242c32(0x214)]);if(_0x3557bb['settings']){if(_0x3557bb[_0x242c32(0x270)]['pattern'])availabilityPattern=_0x3557bb[_0x242c32(0x270)][_0x242c32(0x1f7)];if(_0x3557bb[_0x242c32(0x270)]['exceptions'])dateExceptions=_0x3557bb[_0x242c32(0x270)][_0x242c32(0x303)];if(_0x3557bb[_0x242c32(0x270)][_0x242c32(0x24e)])specialRanges=_0x3557bb[_0x242c32(0x270)][_0x242c32(0x24e)];if(_0x3557bb['settings'][_0x242c32(0x27e)]){localStorage[_0x242c32(0x2e5)]('uc_settings_cancel_window',_0x3557bb[_0x242c32(0x270)][_0x242c32(0x27e)]);const _0x5371ea=document[_0x242c32(0x28c)](_0x242c32(0x294));if(_0x5371ea)_0x5371ea['value']=_0x3557bb[_0x242c32(0x270)]['cancel_window'];}}_0x3557bb[_0x242c32(0x22d)]&&(sessions=sessions[_0x242c32(0x255)](_0x34df97=>!_0x34df97[_0x242c32(0x2c9)]['startsWith'](_0x2a7a1d)),Object[_0x242c32(0x218)](_0x3557bb[_0x242c32(0x22d)])['forEach'](_0x4d8061=>{const _0x2d9737=_0x242c32,_0x54d36e=_0x3557bb['calendar'][_0x4d8061];_0x54d36e[_0x2d9737(0x254)](_0x4fcfa6=>{const _0x3cc14a=_0x2d9737,_0x2a6381=clients[_0x3cc14a(0x1b6)](_0x2bb898=>String(_0x2bb898['id'])===String(_0x4fcfa6['c']));sessions[_0x3cc14a(0x200)]({'id':_0x4fcfa6['i'],'clientId':_0x4fcfa6['c'],'client':_0x2a6381?_0x2a6381[_0x3cc14a(0x1ac)]:_0x3cc14a(0x224),'dateStr':_0x2a7a1d+'-'+_0x4d8061[_0x3cc14a(0x30f)](0x2,'0'),'start':_0x4fcfa6['s'],'end':_0x4fcfa6['e'],'status':_0x4fcfa6['st']||_0x3cc14a(0x2b6),'note':_0x4fcfa6['n']||'','seriesId':_0x4fcfa6[_0x3cc14a(0x305)]||null});});}));},async 'syncBatch'(_0xc19ef6){const _0xfd870c=a2_0x3f89e7,_0x289e17=[...new Set(_0xc19ef6)],_0x419d9c=_0x289e17['map'](_0x2d300d=>{const _0x681ddb=a2_0x573e,_0x39a236=sessions[_0x681ddb(0x255)](_0x22b9a3=>_0x22b9a3[_0x681ddb(0x2c9)]===_0x2d300d&&_0x22b9a3[_0x681ddb(0x1e3)]!==_0x681ddb(0x2b0)),_0x3aba78=_0x39a236[_0x681ddb(0x25e)](_0x27b440=>({'i':_0x27b440['id'],'c':_0x27b440[_0x681ddb(0x2b4)],'s':_0x27b440[_0x681ddb(0x18b)],'e':_0x27b440[_0x681ddb(0x283)],'st':_0x27b440['status'],'n':_0x27b440[_0x681ddb(0x19c)],'sid':_0x27b440[_0x681ddb(0x2ef)]}));return{'date':_0x2d300d,'day_data':_0x3aba78};});if(_0x419d9c['length']===0x0)return;console[_0xfd870c(0x1eb)](_0xfd870c(0x240)+_0x419d9c[_0xfd870c(0x2b3)]+_0xfd870c(0x19f)),await this[_0xfd870c(0x1ee)](_0xfd870c(0x1cc),{'changes':_0x419d9c});}};async function init(){const _0x3a7dfe=a2_0x3f89e7;DataManager['loadLocal'](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById']('matrixViewport')[_0x3a7dfe(0x1dd)]('scroll',()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x3a7dfe(0x1c1)]()[_0x3a7dfe(0x1a9)](()=>{showToast('–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ',!![]);})[_0x3a7dfe(0x225)](_0x56deab=>{showToast('–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º',![]);});}function generateId(){const _0x4df62e=a2_0x3f89e7;return Date[_0x4df62e(0x27d)]()[_0x4df62e(0x26e)](0x24)+Math[_0x4df62e(0x2f0)]()['toString'](0x24)[_0x4df62e(0x261)](0x2,0x5);}function toggleSeriesInput(){const _0x43a502=a2_0x3f89e7,_0x10da11=document[_0x43a502(0x28c)](_0x43a502(0x21b))['checked'],_0xd4bebd=document[_0x43a502(0x28c)]('seriesCountContainer');_0xd4bebd[_0x43a502(0x1c5)][_0x43a502(0x299)]=_0x10da11?_0x43a502(0x27a):_0x43a502(0x2ae);const _0xef18a6=document[_0x43a502(0x28c)](_0x43a502(0x2f7));_0xef18a6['style'][_0x43a502(0x271)]=_0x10da11?_0x43a502(0x2f3):_0x43a502(0x226);}function openAddSession(_0x52c176){const _0x4becb5=a2_0x3f89e7;editingId=null,populateClientSelect(),document[_0x4becb5(0x28c)](_0x4becb5(0x20a))[_0x4becb5(0x229)]=_0x4becb5(0x235),document[_0x4becb5(0x28c)](_0x4becb5(0x27c))['style']['display']=_0x4becb5(0x2ae),document['getElementById'](_0x4becb5(0x2a4))['style'][_0x4becb5(0x299)]=_0x4becb5(0x2ae);const _0x3211bd=document[_0x4becb5(0x28c)](_0x4becb5(0x2f7)),_0x597a66=document[_0x4becb5(0x28c)](_0x4becb5(0x197));_0x3211bd[_0x4becb5(0x1c5)]['display']=_0x4becb5(0x1db),_0x3211bd[_0x4becb5(0x1c5)][_0x4becb5(0x271)]=_0x4becb5(0x226),document[_0x4becb5(0x28c)]('inpRecurring')[_0x4becb5(0x2c2)]=![],document['getElementById'](_0x4becb5(0x206))[_0x4becb5(0x2d6)]=0x4,_0x597a66['style'][_0x4becb5(0x299)]=_0x4becb5(0x2ae),document[_0x4becb5(0x28c)](_0x4becb5(0x233))['value']=getLocalDateStr(_0x52c176),updateDateDisplay();const _0x2868f6=_0x52c176['getHours']();document['getElementById']('inpStart')[_0x4becb5(0x2d6)]=String(_0x2868f6)[_0x4becb5(0x30f)](0x2,'0')+_0x4becb5(0x247),document[_0x4becb5(0x28c)]('inpEnd')[_0x4becb5(0x2d6)]=String(_0x2868f6+0x1)[_0x4becb5(0x30f)](0x2,'0')+_0x4becb5(0x247),openSheet(_0x4becb5(0x2c8));}function openEdit(_0x18f3a8){const _0x16b407=a2_0x3f89e7;editingId=_0x18f3a8['id'],populateClientSelect(),document[_0x16b407(0x28c)](_0x16b407(0x20a))[_0x16b407(0x229)]=_0x16b407(0x20e),document[_0x16b407(0x28c)](_0x16b407(0x27c))['style'][_0x16b407(0x299)]='block';const _0x5133ae=document['getElementById'](_0x16b407(0x2a4));_0x5133ae[_0x16b407(0x1c5)][_0x16b407(0x299)]=_0x16b407(0x1db);_0x18f3a8[_0x16b407(0x1e3)]===_0x16b407(0x2a9)?(_0x5133ae[_0x16b407(0x2cd)]=_0x16b407(0x1bb),_0x5133ae['innerHTML']=_0x16b407(0x265)):(_0x5133ae[_0x16b407(0x2cd)]=_0x16b407(0x24b),_0x5133ae[_0x16b407(0x2e7)]=_0x16b407(0x2d3));const _0x4f5105=!!_0x18f3a8[_0x16b407(0x2ef)];document[_0x16b407(0x28c)](_0x16b407(0x2f7))['style'][_0x16b407(0x299)]=_0x16b407(0x2ae),document[_0x16b407(0x28c)](_0x16b407(0x197))[_0x16b407(0x1c5)][_0x16b407(0x299)]=_0x16b407(0x2ae),_0x4f5105?(document[_0x16b407(0x28c)]('patternInfoBox')[_0x16b407(0x1c5)][_0x16b407(0x299)]=_0x16b407(0x1db),document['getElementById']('patternInfoBox')[_0x16b407(0x1e0)]('.pib-text')[_0x16b407(0x229)]=_0x16b407(0x2a2)):document[_0x16b407(0x28c)](_0x16b407(0x25f))[_0x16b407(0x1c5)]['display']=_0x16b407(0x2ae),document[_0x16b407(0x28c)]('inpClient')[_0x16b407(0x2d6)]=_0x18f3a8[_0x16b407(0x232)],document[_0x16b407(0x28c)](_0x16b407(0x233))[_0x16b407(0x2d6)]=_0x18f3a8[_0x16b407(0x2c9)],document['getElementById'](_0x16b407(0x22c))[_0x16b407(0x2d6)]=_0x18f3a8[_0x16b407(0x18b)],document[_0x16b407(0x28c)]('inpEnd')[_0x16b407(0x2d6)]=_0x18f3a8['end'],document[_0x16b407(0x28c)](_0x16b407(0x1f9))['value']=_0x18f3a8[_0x16b407(0x19c)]||'',updateDateDisplay(),openSheet('sessionSheet');}async function trySaveSession(){const _0x23c58b=a2_0x3f89e7,_0x42e378=document[_0x23c58b(0x28c)](_0x23c58b(0x302))[_0x23c58b(0x2d6)],_0x411540=document[_0x23c58b(0x28c)]('inpDate')['value'],_0xa8308=document[_0x23c58b(0x28c)](_0x23c58b(0x22c))['value'],_0x4308f7=document[_0x23c58b(0x28c)](_0x23c58b(0x191))[_0x23c58b(0x2d6)],_0x153522=document[_0x23c58b(0x28c)](_0x23c58b(0x1f9))[_0x23c58b(0x2d6)],_0x4cc09c=document['getElementById']('inpRecurring')[_0x23c58b(0x2c2)];let _0x38258a=0x4;if(_0x4cc09c){const _0x57e424=parseInt(document[_0x23c58b(0x28c)](_0x23c58b(0x206))[_0x23c58b(0x2d6)]);if(!_0x57e424||_0x57e424<0x2){showToast('–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏',![]);return;}if(_0x57e424>0x64){showToast(_0x23c58b(0x227),![]);return;}_0x38258a=_0x57e424;}const _0x1b19bc=clients['find'](_0x16256b=>_0x16256b[_0x23c58b(0x1ac)]===_0x42e378);if(!_0x1b19bc){showToast(_0x23c58b(0x222),![]);return;}const _0x41a1fc=validateAppointment(_0x411540,_0xa8308,_0x4308f7,editingId,_0x1b19bc['id']);if(!_0x41a1fc[_0x23c58b(0x1b2)]){showToast(_0x41a1fc[_0x23c58b(0x1b7)],![]);return;}_0x41a1fc['warning']&&showToast(_0x41a1fc[_0x23c58b(0x2c1)],![]);const _0x4a785b={'client':_0x42e378,'clientId':_0x1b19bc['id'],'start':_0xa8308,'end':_0x4308f7,'note':_0x153522,'status':_0x23c58b(0x2b6)},_0x5b8bd4=editingId?sessions[_0x23c58b(0x1b6)](_0x103558=>_0x103558['id']===editingId):null;if(_0x5b8bd4&&_0x5b8bd4[_0x23c58b(0x2ef)]){tempSessionData={..._0x4a785b,'dateStr':_0x411540,'id':editingId,'seriesId':_0x5b8bd4['seriesId']},openActionSheet(_0x23c58b(0x286));return;}let _0x226946=null;if(!editingId)_0x226946=_0x23c58b(0x18f);else{if(_0x5b8bd4){if(String(_0x5b8bd4['clientId'])!==String(_0x1b19bc['id']))console[_0x23c58b(0x1eb)](_0x23c58b(0x2fe)),NotificationManager[_0x23c58b(0x21e)](_0x23c58b(0x2e4),_0x5b8bd4),_0x226946='create';else(_0x5b8bd4[_0x23c58b(0x18b)]!==_0xa8308||_0x5b8bd4[_0x23c58b(0x283)]!==_0x4308f7||_0x5b8bd4['dateStr']!==_0x411540)&&(_0x226946='update');}}if(!editingId&&_0x4cc09c){createBatchSeries(_0x4a785b,_0x411540,_0x38258a),NotificationManager[_0x23c58b(0x21e)](_0x23c58b(0x18f),{..._0x4a785b,'dateStr':_0x411540});return;}lastUserActionTime=Date[_0x23c58b(0x27d)]();const _0x333e7f={..._0x4a785b,'dateStr':_0x411540,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x333e7f),_0x226946&&NotificationManager[_0x23c58b(0x21e)](_0x226946,_0x333e7f);}function toggleSessionStatus(){const _0xb9c96f=a2_0x3f89e7;lastUserActionTime=Date[_0xb9c96f(0x27d)]();const _0x4c06be=sessions['find'](_0x47ae4a=>_0x47ae4a['id']===editingId);if(!_0x4c06be)return;const _0xd89fd9=_0x4c06be[_0xb9c96f(0x1e3)]===_0xb9c96f(0x2a9)?_0xb9c96f(0x2b6):'completed';_0x4c06be[_0xb9c96f(0x1e3)]=_0xd89fd9,saveSingleSession(_0x4c06be),_0xd89fd9===_0xb9c96f(0x2a9)&&NotificationManager['send']('complete',_0x4c06be),showToast(_0xd89fd9===_0xb9c96f(0x2a9)?_0xb9c96f(0x1e4):_0xb9c96f(0x1c4),!![]);}function validateAppointment(_0x11b8c5,_0xe2fc47,_0x181b17,_0x5dd9d0,_0x3d17ae){const _0x499c57=a2_0x3f89e7,[_0x158335,_0x399a59]=_0xe2fc47[_0x499c57(0x18d)](':')[_0x499c57(0x25e)](Number),[_0x9d94ec,_0xc26a43]=_0x181b17[_0x499c57(0x18d)](':')[_0x499c57(0x25e)](Number),_0x3d872c=_0x158335*0x3c+_0x399a59,_0x507d51=_0x9d94ec*0x3c+_0xc26a43,_0x1db4ec=String(_0x3d17ae);let _0x3123bd=![],_0x4e7038='';for(let _0x53a1d5 of sessions){if(_0x53a1d5[_0x499c57(0x2c9)]!==_0x11b8c5)continue;if(_0x53a1d5[_0x499c57(0x1e3)]==='cancelled')continue;if(_0x5dd9d0&&String(_0x53a1d5['id'])===String(_0x5dd9d0))continue;const [_0x2ba215,_0xf2d5bf]=_0x53a1d5[_0x499c57(0x18b)]['split'](':')['map'](Number),[_0x33534a,_0x48f6b5]=_0x53a1d5[_0x499c57(0x283)][_0x499c57(0x18d)](':')[_0x499c57(0x25e)](Number),_0x4b20ab=_0x2ba215*0x3c+_0xf2d5bf,_0x5c95d6=_0x33534a*0x3c+_0x48f6b5;if(Math[_0x499c57(0x1be)](_0x3d872c,_0x4b20ab)<Math[_0x499c57(0x2ba)](_0x507d51,_0x5c95d6)){if(_0x53a1d5['clientId']&&String(_0x53a1d5[_0x499c57(0x2b4)])===_0x1db4ec)return{'valid':![],'msg':_0x499c57(0x1cb)+_0x53a1d5[_0x499c57(0x232)]+_0x499c57(0x297)};_0x3123bd=!![],_0x4e7038=_0x53a1d5[_0x499c57(0x232)];}}if(_0x3123bd)return{'valid':!![],'warning':'–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20'+_0x4e7038};return{'valid':!![]};}function saveSingleSession(_0x368a4c){const _0x56042a=a2_0x3f89e7;if(editingId){const _0x483b7d=sessions[_0x56042a(0x258)](_0xd6c360=>_0xd6c360['id']===editingId);if(_0x483b7d!==-0x1)sessions[_0x483b7d]=_0x368a4c;}else sessions[_0x56042a(0x200)](_0x368a4c);afterSaveAction([_0x368a4c[_0x56042a(0x2c9)]]);}function createBatchSeries(_0x157a10,_0x5746f7,_0x4bc741){const _0x4bffc3=a2_0x3f89e7,_0x1d73a7=generateId(),_0x22dcbc=[],_0x1f5d56=[];let _0x59875a=0x0,_0x53e6c4=new Date(_0x5746f7);for(let _0x95a886=0x0;_0x95a886<_0x4bc741;_0x95a886++){const _0x2103bb=getLocalDateStr(_0x53e6c4),_0x5b0539=validateAppointment(_0x2103bb,_0x157a10[_0x4bffc3(0x18b)],_0x157a10['end'],null,_0x157a10['clientId']);if(!_0x5b0539['valid'])console['log']('[Series]\x20Skipped\x20'+_0x2103bb+_0x4bffc3(0x30a)),_0x59875a++;else{const _0x216be0={..._0x157a10,'id':generateId(),'dateStr':_0x2103bb,'seriesId':_0x1d73a7};_0x1f5d56[_0x4bffc3(0x200)](_0x216be0),_0x22dcbc[_0x4bffc3(0x200)](_0x2103bb);}_0x53e6c4[_0x4bffc3(0x2ec)](_0x53e6c4[_0x4bffc3(0x2ff)]()+0x7);}if(_0x1f5d56[_0x4bffc3(0x2b3)]===0x0){showToast(_0x4bffc3(0x2ad),![]);return;}sessions['push'](..._0x1f5d56),lastUserActionTime=Date['now']();let _0x1c22b8='–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20'+_0x1f5d56[_0x4bffc3(0x2b3)];_0x59875a>0x0&&(_0x1c22b8+=_0x4bffc3(0x221)+_0x59875a+')'),showToast(_0x1c22b8,!![]),afterSaveAction(_0x22dcbc);}function updateSeriesBatch(_0x4a2a47,_0x5dd72f){const _0x223d14=a2_0x3f89e7,_0x56c6a4=[],_0xffe4d5=_0x5dd72f[_0x223d14(0x2ef)];if(_0x4a2a47===_0x223d14(0x279)){const _0x489f88={..._0x5dd72f,'seriesId':null},_0x5ed99c=sessions[_0x223d14(0x258)](_0x12238b=>_0x12238b['id']===_0x5dd72f['id']);if(_0x5ed99c!==-0x1)sessions[_0x5ed99c]=_0x489f88;_0x56c6a4[_0x223d14(0x200)](_0x489f88['dateStr']);}else{if(_0x4a2a47===_0x223d14(0x1b5)){const _0x52bbab=_0x5dd72f[_0x223d14(0x2c9)];sessions[_0x223d14(0x254)]((_0x3e546f,_0x41721f)=>{const _0x5cbd67=_0x223d14;_0x3e546f[_0x5cbd67(0x2ef)]===_0xffe4d5&&_0x3e546f['dateStr']>=_0x52bbab&&(sessions[_0x41721f]={...sessions[_0x41721f],'start':_0x5dd72f[_0x5cbd67(0x18b)],'end':_0x5dd72f[_0x5cbd67(0x283)],'note':_0x5dd72f[_0x5cbd67(0x19c)],'client':_0x5dd72f[_0x5cbd67(0x232)],'clientId':_0x5dd72f[_0x5cbd67(0x2b4)]},_0x56c6a4[_0x5cbd67(0x200)](_0x3e546f['dateStr']));});}}afterSaveAction(_0x56c6a4);}function tryDeleteSession(){const _0x2bf45e=a2_0x3f89e7,_0x2e9c59=sessions['find'](_0x1dfa87=>_0x1dfa87['id']===editingId);if(!_0x2e9c59)return;_0x2e9c59[_0x2bf45e(0x2ef)]?openActionSheet(_0x2bf45e(0x1bd)):commitDelete(_0x2bf45e(0x279),_0x2e9c59);}function commitDelete(_0x1ebb9c,_0x41803a){const _0x3183a4=a2_0x3f89e7;lastUserActionTime=Date[_0x3183a4(0x27d)](),NotificationManager['send'](_0x3183a4(0x2e4),_0x41803a);const _0x431d96=[];if(_0x1ebb9c==='single')sessions=sessions[_0x3183a4(0x255)](_0x9f29f9=>_0x9f29f9['id']!==_0x41803a['id']),_0x431d96['push'](_0x41803a[_0x3183a4(0x2c9)]);else{if(_0x1ebb9c==='series'){const _0x281347=_0x41803a[_0x3183a4(0x2c9)],_0x1e90c4=_0x41803a[_0x3183a4(0x2ef)];sessions[_0x3183a4(0x254)](_0x31d200=>{const _0x25d764=_0x3183a4;_0x31d200[_0x25d764(0x2ef)]===_0x1e90c4&&_0x31d200[_0x25d764(0x2c9)]>=_0x281347&&_0x431d96[_0x25d764(0x200)](_0x31d200['dateStr']);}),sessions=sessions[_0x3183a4(0x255)](_0x1e89b8=>!(_0x1e89b8[_0x3183a4(0x2ef)]===_0x1e90c4&&_0x1e89b8[_0x3183a4(0x2c9)]>=_0x281347));}}afterSaveAction(_0x431d96);}function afterSaveAction(_0xe37aa5){const _0x53fa81=a2_0x3f89e7;DataManager['saveLocally'](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x53fa81(0x18e)](_0xe37aa5)[_0x53fa81(0x1a9)](()=>console['log']('Batch\x20Sync\x20OK'))['catch'](_0x9f2aa7=>showToast(_0x53fa81(0x268),![]));}const NotificationManager={'formatDate'(_0x16b535){const _0x40fe67=a2_0x3f89e7,_0x2e35ab=new Date(_0x16b535),_0x20d6cc={'weekday':'long','day':_0x40fe67(0x2b8),'month':_0x40fe67(0x288)};let _0x23b4f3=_0x2e35ab['toLocaleDateString']('ru-RU',_0x20d6cc);return _0x23b4f3[_0x40fe67(0x1a6)](0x0)[_0x40fe67(0x243)]()+_0x23b4f3[_0x40fe67(0x29c)](0x1);},'getText'(_0x44c88b,_0x45902f){const _0x596ffa=a2_0x3f89e7,_0x4c0b73=this[_0x596ffa(0x30c)](_0x45902f[_0x596ffa(0x2c9)]);switch(_0x44c88b){case _0x596ffa(0x18f):return _0x596ffa(0x290)+(_0x596ffa(0x309)+_0x4c0b73+'\x0a')+(_0x596ffa(0x272)+_0x45902f[_0x596ffa(0x18b)]+'\x20‚Äî\x20'+_0x45902f[_0x596ffa(0x283)]+'\x0a\x0a')+'–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™';case _0x596ffa(0x2fa):return _0x596ffa(0x29d)+_0x596ffa(0x29f)+(_0x596ffa(0x1ea)+_0x45902f[_0x596ffa(0x18b)]+'\x20‚Äî\x20'+_0x45902f['end']+_0x596ffa(0x242))+(_0x596ffa(0x309)+_0x4c0b73);case _0x596ffa(0x2e4):return'<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a'+(_0x596ffa(0x28f)+_0x4c0b73+'\x20('+_0x45902f['start']+_0x596ffa(0x2d1));case _0x596ffa(0x1b0):return _0x596ffa(0x2a8)+_0x596ffa(0x20d)+_0x596ffa(0x251);default:return'';}},async 'send'(_0x3e2458,_0x5d75f2){const _0x440ac9=a2_0x3f89e7;console[_0x440ac9(0x1eb)](_0x440ac9(0x1c7),_0x3e2458,_0x5d75f2);if(!_0x5d75f2){console[_0x440ac9(0x1f3)](_0x440ac9(0x30d));return;}const _0x2158b3=String(_0x5d75f2[_0x440ac9(0x2b4)]);console[_0x440ac9(0x1eb)]('[Notify]\x20Detected\x20Client\x20ID:',_0x2158b3);if(!_0x5d75f2[_0x440ac9(0x2b4)]||_0x2158b3===_0x440ac9(0x2e2)||_0x2158b3===_0x440ac9(0x220)){console[_0x440ac9(0x1f3)](_0x440ac9(0x2dd));if(_0x5d75f2[_0x440ac9(0x232)]){const _0xbd4416=clients['find'](_0x3218cc=>_0x3218cc[_0x440ac9(0x1ac)]===_0x5d75f2[_0x440ac9(0x232)]);if(_0xbd4416)return console[_0x440ac9(0x1eb)](_0x440ac9(0x315),_0xbd4416['id']),this[_0x440ac9(0x21e)](_0x3e2458,{..._0x5d75f2,'clientId':_0xbd4416['id']});}return;}if(_0x2158b3[_0x440ac9(0x2b3)]<0x5){console[_0x440ac9(0x1f8)]('[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)',_0x2158b3);return;}const _0x3044b4=this[_0x440ac9(0x2e1)](_0x3e2458,_0x5d75f2);if(!_0x3044b4){console['error'](_0x440ac9(0x1e7));return;}console[_0x440ac9(0x1eb)]('[Notify]\x20Sending\x20to\x20GAS\x20for\x20'+_0x2158b3+_0x440ac9(0x1fe)),DataManager[_0x440ac9(0x1ee)](_0x440ac9(0x2f9),{'chatId':_0x2158b3,'text':_0x3044b4})[_0x440ac9(0x1a9)](_0x6e5bcc=>console[_0x440ac9(0x1eb)](_0x440ac9(0x1f1),_0x6e5bcc))[_0x440ac9(0x225)](_0x466057=>console[_0x440ac9(0x1f3)](_0x440ac9(0x19e),_0x466057));}};function getLocalDateStr(_0x191624){const _0x12a3c7=a2_0x3f89e7,_0x4c8277=_0x191624[_0x12a3c7(0x194)](),_0x35a068=String(_0x191624[_0x12a3c7(0x190)]()+0x1)[_0x12a3c7(0x30f)](0x2,'0'),_0x1276ee=String(_0x191624[_0x12a3c7(0x2ff)]())[_0x12a3c7(0x30f)](0x2,'0');return _0x4c8277+'-'+_0x35a068+'-'+_0x1276ee;}function getDateStr(_0x5202dc){const _0x26edb4=new Date();return _0x26edb4['setDate'](_0x26edb4['getDate']()+_0x5202dc),getLocalDateStr(_0x26edb4);}function getStartOfWeek(_0x5ea2a8){const _0x5c5bd8=a2_0x3f89e7,_0x5695c2=new Date(_0x5ea2a8),_0xb0fd3d=_0x5695c2['getDay'](),_0x74bc2=_0x5695c2['getDate']()-_0xb0fd3d+(_0xb0fd3d===0x0?-0x6:0x1);return _0x5695c2['setDate'](_0x74bc2),_0x5695c2[_0x5c5bd8(0x273)](0x0,0x0,0x0,0x0),_0x5695c2;}function hexToRgba(_0x1f8f1d,_0x140558){const _0x527215=a2_0x3f89e7;if(!_0x1f8f1d)return'rgba(100,100,100,0.5)';let _0x54823e=0x0,_0x1344af=0x0,_0x282cbc=0x0;if(_0x1f8f1d['length']===0x4)_0x54823e='0x'+_0x1f8f1d[0x1]+_0x1f8f1d[0x1],_0x1344af='0x'+_0x1f8f1d[0x2]+_0x1f8f1d[0x2],_0x282cbc='0x'+_0x1f8f1d[0x3]+_0x1f8f1d[0x3];else _0x1f8f1d['length']===0x7&&(_0x54823e='0x'+_0x1f8f1d[0x1]+_0x1f8f1d[0x2],_0x1344af='0x'+_0x1f8f1d[0x3]+_0x1f8f1d[0x4],_0x282cbc='0x'+_0x1f8f1d[0x5]+_0x1f8f1d[0x6]);return _0x527215(0x1ba)+ +_0x54823e+',\x20'+ +_0x1344af+',\x20'+ +_0x282cbc+',\x20'+_0x140558+')';}function renderTimeColumn(){const _0x99b709=a2_0x3f89e7,_0x3719cd=document[_0x99b709(0x28c)](_0x99b709(0x231)),_0x4e326b=document[_0x99b709(0x28c)](_0x99b709(0x2bd));_0x3719cd[_0x99b709(0x2e7)]='',_0x3719cd[_0x99b709(0x1d7)](_0x4e326b);for(let _0x443632=0x0;_0x443632<0x18;_0x443632++){const _0x5a5d8c=document[_0x99b709(0x2c3)]('div');_0x5a5d8c[_0x99b709(0x2cd)]=_0x99b709(0x1d5);if(_0x443632>0x0)_0x5a5d8c['innerHTML']='<span>'+String(_0x443632)['padStart'](0x2,'0')+':00</span>';_0x3719cd['appendChild'](_0x5a5d8c);}}function renderDayRange(_0x57dedb,_0x273d64){const _0x496a22=a2_0x3f89e7,_0x26a2b6=document[_0x496a22(0x28c)](_0x496a22(0x2fc)),_0x1c78be=document[_0x496a22(0x28c)](_0x496a22(0x1f6)),_0x499d57=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x4ced72=new Date();_0x4ced72[_0x496a22(0x273)](0x0,0x0,0x0,0x0);const _0x8aba69=getLocalDateStr(new Date());for(let _0x4c40dc=_0x57dedb;_0x4c40dc<=_0x273d64;_0x4c40dc++){const _0x9214b0=new Date(_0x4ced72);_0x9214b0['setDate'](_0x9214b0[_0x496a22(0x2ff)]()+_0x4c40dc);const _0x59986d=getLocalDateStr(_0x9214b0);let _0x1e1411=_0x9214b0[_0x496a22(0x293)]()-0x1;if(_0x1e1411===-0x1)_0x1e1411=0x6;const _0x206caa=_0x59986d===_0x8aba69,_0x15f4ac=document[_0x496a22(0x2c3)](_0x496a22(0x1d3));_0x15f4ac['className']='day-col-header\x20'+(_0x206caa?_0x496a22(0x1f4):''),_0x15f4ac['id']=_0x496a22(0x2f2)+_0x59986d,_0x15f4ac[_0x496a22(0x2ee)](_0x496a22(0x1a1),_0x59986d),_0x15f4ac['innerHTML']=_0x496a22(0x2d4)+_0x499d57[_0x1e1411]+_0x496a22(0x244)+_0x9214b0['getDate']()+_0x496a22(0x300)+_0x59986d+_0x496a22(0x2bb),_0x15f4ac[_0x496a22(0x25d)]=()=>openDayOptions(_0x59986d,_0x499d57[_0x1e1411]+'\x20'+_0x9214b0['getDate']()),_0x26a2b6[_0x496a22(0x1d7)](_0x15f4ac);const _0x21f54c=document[_0x496a22(0x2c3)]('div');_0x21f54c[_0x496a22(0x2cd)]=_0x496a22(0x2a0)+(_0x206caa?_0x496a22(0x1f4):''),_0x21f54c['setAttribute'](_0x496a22(0x1a1),_0x59986d),_0x21f54c[_0x496a22(0x2ee)]('data-day-idx',_0x1e1411),renderEventsForColumn(_0x21f54c,_0x59986d,_0x1e1411),attachLongPressHandler(_0x21f54c,_0x9214b0),_0x1c78be[_0x496a22(0x1d7)](_0x21f54c),updateDayStats(_0x59986d);}}function reRenderBlocks(){const _0x34c0a5=a2_0x3f89e7;document[_0x34c0a5(0x280)](_0x34c0a5(0x2f1))[_0x34c0a5(0x254)](_0x4f2673=>{const _0x4bcb03=_0x34c0a5;_0x4f2673[_0x4bcb03(0x280)](_0x4bcb03(0x1a8))['forEach'](_0x622ec2=>_0x622ec2[_0x4bcb03(0x1b9)]());const _0x31c96b=_0x4f2673[_0x4bcb03(0x22e)](_0x4bcb03(0x1a1)),_0x34d705=parseInt(_0x4f2673[_0x4bcb03(0x22e)](_0x4bcb03(0x1e6))),_0x2fdf00=Math[_0x4bcb03(0x23f)](_0x4f2673[_0x4bcb03(0x204)]);(availabilityPattern[_0x34d705]||[])[_0x4bcb03(0x254)](_0x2ba948=>{const _0x37be9b=_0x4bcb03,_0x19a423=document[_0x37be9b(0x2c3)]('div');_0x19a423['className']='blocked-slot\x20stripe-bg';const _0x2e0bce=_0x2ba948*GRID_H;_0x19a423[_0x37be9b(0x1c5)][_0x37be9b(0x250)]=_0x2e0bce+'px',_0x19a423[_0x37be9b(0x1c5)]['backgroundPosition']='-'+_0x2fdf00+'px\x20-'+_0x2e0bce+'px',_0x4f2673[_0x37be9b(0x1d7)](_0x19a423);});if(specialRanges&&specialRanges[_0x4bcb03(0x2b3)]>0x0){const _0x1e605e=new Date(_0x31c96b+_0x4bcb03(0x203))[_0x4bcb03(0x248)](),_0xbc799d=new Date(_0x31c96b+_0x4bcb03(0x266))['getTime']();specialRanges['forEach'](_0x28602c=>{const _0x26ea5e=_0x4bcb03,_0x164863=new Date(_0x28602c[_0x26ea5e(0x18b)])[_0x26ea5e(0x248)](),_0x21e659=new Date(_0x28602c[_0x26ea5e(0x283)])[_0x26ea5e(0x248)](),_0x9d6e8a=Math[_0x26ea5e(0x1be)](_0x1e605e,_0x164863),_0x43ab31=Math[_0x26ea5e(0x2ba)](_0xbc799d,_0x21e659);if(_0x9d6e8a<_0x43ab31){if(_0x9d6e8a<=_0x1e605e&&_0x43ab31>=_0xbc799d-0xea60){if(!_0x4f2673[_0x26ea5e(0x1e0)](_0x26ea5e(0x238))){const _0x297a2c=document[_0x26ea5e(0x2c3)](_0x26ea5e(0x1d3));_0x297a2c['className']=_0x26ea5e(0x2ed),_0x297a2c['style']['backgroundPosition']='-'+_0x2fdf00+'px\x200px',_0x4f2673['appendChild'](_0x297a2c);}}else{const _0x3b9d5f=(_0x9d6e8a-_0x1e605e)/0x36ee80*GRID_H,_0x378495=(_0x43ab31-_0x9d6e8a)/0x36ee80*GRID_H,_0x583c05=document[_0x26ea5e(0x2c3)](_0x26ea5e(0x1d3));_0x583c05[_0x26ea5e(0x2cd)]=_0x26ea5e(0x1c8),_0x583c05['style']['top']=_0x3b9d5f+'px',_0x583c05[_0x26ea5e(0x1c5)][_0x26ea5e(0x1c9)]=_0x378495+'px',_0x583c05['style'][_0x26ea5e(0x1b8)]='-'+_0x2fdf00+_0x26ea5e(0x1ad)+_0x3b9d5f+'px',_0x4f2673[_0x26ea5e(0x1d7)](_0x583c05);}}});}if(dateExceptions[_0x31c96b]===_0x4bcb03(0x208)){if(!_0x4f2673[_0x4bcb03(0x1e0)]('.day-off-overlay')){const _0x15c1bd=document[_0x4bcb03(0x2c3)](_0x4bcb03(0x1d3));_0x15c1bd[_0x4bcb03(0x2cd)]=_0x4bcb03(0x2ed),_0x15c1bd[_0x4bcb03(0x1c5)][_0x4bcb03(0x1b8)]='-'+_0x2fdf00+_0x4bcb03(0x23a),_0x4f2673['appendChild'](_0x15c1bd);}}renderEventsForColumn(_0x4f2673,_0x31c96b,_0x34d705),updateDayStats(_0x31c96b);});}function updateAllDayStats(){const _0x4dced2=a2_0x3f89e7;document[_0x4dced2(0x280)](_0x4dced2(0x267))[_0x4dced2(0x254)](_0x9be3d8=>{const _0x14960b=_0x4dced2;updateDayStats(_0x9be3d8[_0x14960b(0x22e)](_0x14960b(0x1a1)));});}function updateDayStats(_0x49d149){const _0x4b6300=a2_0x3f89e7,_0x421f59=document[_0x4b6300(0x28c)](_0x4b6300(0x276)+_0x49d149);if(!_0x421f59)return;const _0x26ec35=new Date(_0x49d149);let _0x485b15=_0x26ec35[_0x4b6300(0x293)]()-0x1;if(_0x485b15===-0x1)_0x485b15=0x6;if(dateExceptions[_0x49d149]===_0x4b6300(0x208)){_0x421f59[_0x4b6300(0x1c5)][_0x4b6300(0x299)]=_0x4b6300(0x2ae);return;}const _0x193eb5=availabilityPattern[_0x485b15]||[],_0x5586ff=0x18-_0x193eb5[_0x4b6300(0x2b3)],_0x44b618=_0x5586ff*0x3c,_0x4ed26e=sessions[_0x4b6300(0x255)](_0x2f68b3=>_0x2f68b3[_0x4b6300(0x2c9)]===_0x49d149&&_0x2f68b3[_0x4b6300(0x1e3)]!==_0x4b6300(0x18a));if(_0x4ed26e[_0x4b6300(0x2b3)]===0x0){_0x421f59['style'][_0x4b6300(0x299)]=_0x4b6300(0x2ae);return;}let _0x3826ce=_0x4ed26e[_0x4b6300(0x25e)](_0x47a716=>{const _0x1fb401=_0x4b6300,[_0x28786c,_0x3d322f]=_0x47a716[_0x1fb401(0x18b)]['split'](':')[_0x1fb401(0x25e)](Number),[_0x36f6ad,_0x413e8f]=_0x47a716[_0x1fb401(0x283)][_0x1fb401(0x18d)](':')[_0x1fb401(0x25e)](Number);return[_0x28786c*0x3c+_0x3d322f,_0x36f6ad*0x3c+_0x413e8f];});_0x3826ce[_0x4b6300(0x304)]((_0x27a8db,_0x232410)=>_0x27a8db[0x0]-_0x232410[0x0]);let _0x6ab70b=[];if(_0x3826ce['length']>0x0){let _0x1ada92=_0x3826ce[0x0];for(let _0x2ab157=0x1;_0x2ab157<_0x3826ce[_0x4b6300(0x2b3)];_0x2ab157++){_0x3826ce[_0x2ab157][0x0]<_0x1ada92[0x1]?_0x1ada92[0x1]=Math[_0x4b6300(0x1be)](_0x1ada92[0x1],_0x3826ce[_0x2ab157][0x1]):(_0x6ab70b[_0x4b6300(0x200)](_0x1ada92),_0x1ada92=_0x3826ce[_0x2ab157]);}_0x6ab70b[_0x4b6300(0x200)](_0x1ada92);}let _0x37cb38=0x0;_0x6ab70b[_0x4b6300(0x254)](_0x39a9bc=>_0x37cb38+=_0x39a9bc[0x1]-_0x39a9bc[0x0]),_0x421f59['style'][_0x4b6300(0x299)]=_0x4b6300(0x1db);const _0x1feeaf=_0x421f59['querySelector'](_0x4b6300(0x1c6));if(_0x44b618===0x0){_0x1feeaf[_0x4b6300(0x1c5)][_0x4b6300(0x236)]=_0x4b6300(0x1dc),_0x1feeaf[_0x4b6300(0x1c5)][_0x4b6300(0x262)]=_0x4b6300(0x21d);return;}const _0x383522=_0x37cb38/_0x44b618*0x64;console[_0x4b6300(0x1eb)]('['+_0x49d149+']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20'+_0x5586ff+_0x4b6300(0x1ca)+_0x37cb38+_0x4b6300(0x22b)+_0x383522['toFixed'](0x1)+'%'),_0x383522>0x64?(_0x1feeaf[_0x4b6300(0x1c5)][_0x4b6300(0x236)]='100%',_0x1feeaf[_0x4b6300(0x1c5)]['background']=_0x4b6300(0x21d)):(_0x1feeaf[_0x4b6300(0x1c5)][_0x4b6300(0x236)]=_0x383522+'%',_0x1feeaf[_0x4b6300(0x1c5)]['background']='var(--acc-current)');}function renderEventsForColumn(_0x112b65,_0x368460,_0x598f4f){const _0x5d3e7a=a2_0x3f89e7,_0x392ea7=sessions[_0x5d3e7a(0x255)](_0x26c102=>_0x26c102['dateStr']===_0x368460),_0x4d5414=_0x392ea7[_0x5d3e7a(0x25e)](_0x5b24c7=>{const _0x1348cc=_0x5d3e7a,[_0x33d613,_0x34c509]=_0x5b24c7[_0x1348cc(0x18b)]['split'](':')[_0x1348cc(0x25e)](Number),[_0x111f36,_0x507163]=_0x5b24c7[_0x1348cc(0x283)][_0x1348cc(0x18d)](':')[_0x1348cc(0x25e)](Number);return{'data':_0x5b24c7,'start':_0x33d613*0x3c+_0x34c509,'end':_0x111f36*0x3c+_0x507163,'colIndex':0x0};});_0x4d5414[_0x5d3e7a(0x304)]((_0x3aa955,_0x5cf3de)=>{const _0xf91ae=_0x5d3e7a;if(_0x3aa955[_0xf91ae(0x18b)]!==_0x5cf3de[_0xf91ae(0x18b)])return _0x3aa955['start']-_0x5cf3de[_0xf91ae(0x18b)];return _0x5cf3de[_0xf91ae(0x283)]-_0x5cf3de[_0xf91ae(0x18b)]-(_0x3aa955[_0xf91ae(0x283)]-_0x3aa955[_0xf91ae(0x18b)]);});const _0x1ccedb=[];_0x4d5414[_0x5d3e7a(0x254)](_0x44502d=>{const _0x4f5ed8=_0x5d3e7a;let _0x4044b=![];for(let _0x188df4=0x0;_0x188df4<_0x1ccedb[_0x4f5ed8(0x2b3)];_0x188df4++){const _0x3d9413=_0x1ccedb[_0x188df4],_0x37ddc6=_0x3d9413[_0x3d9413[_0x4f5ed8(0x2b3)]-0x1];if(_0x44502d[_0x4f5ed8(0x18b)]>=_0x37ddc6['end']){_0x3d9413[_0x4f5ed8(0x200)](_0x44502d),_0x44502d[_0x4f5ed8(0x1a0)]=_0x188df4,_0x4044b=!![];break;}}!_0x4044b&&(_0x1ccedb[_0x4f5ed8(0x200)]([_0x44502d]),_0x44502d[_0x4f5ed8(0x1a0)]=_0x1ccedb['length']-0x1);}),_0x4d5414['forEach'](_0x5caea7=>{const _0x4509a6=_0x5d3e7a;let _0x4ce7fa=0x0;_0x4d5414[_0x4509a6(0x254)](_0xa5ffe4=>{const _0x4f2026=_0x4509a6;if(Math[_0x4f2026(0x1be)](_0x5caea7[_0x4f2026(0x18b)],_0xa5ffe4['start'])<Math[_0x4f2026(0x2ba)](_0x5caea7[_0x4f2026(0x283)],_0xa5ffe4['end'])){if(_0xa5ffe4[_0x4f2026(0x1a0)]>_0x4ce7fa)_0x4ce7fa=_0xa5ffe4[_0x4f2026(0x1a0)];}});const _0x5a5f39=_0x4ce7fa+0x1,_0x1c2bd5=0x64/_0x5a5f39,_0x1d7cc4=_0x5caea7['colIndex']*_0x1c2bd5,_0x483601=createEventEl(_0x5caea7[_0x4509a6(0x26f)]);_0x483601[_0x4509a6(0x1c5)][_0x4509a6(0x236)]=_0x4509a6(0x2d0)+_0x1c2bd5+_0x4509a6(0x25c),_0x483601[_0x4509a6(0x1c5)][_0x4509a6(0x1af)]=_0x4509a6(0x2d0)+_0x1d7cc4+_0x4509a6(0x256),_0x483601[_0x4509a6(0x1c5)][_0x4509a6(0x284)]=0xa+_0x5caea7['colIndex'],_0x1c2bd5<0x55&&_0x483601['classList'][_0x4509a6(0x19a)](_0x4509a6(0x2be)),_0x112b65[_0x4509a6(0x1d7)](_0x483601);});}function createEventEl(_0x4a374c){const _0x42d644=a2_0x3f89e7,[_0x8864a6,_0x3cd5d]=_0x4a374c[_0x42d644(0x18b)][_0x42d644(0x18d)](':')[_0x42d644(0x25e)](Number),[_0x4b043d,_0x213094]=_0x4a374c[_0x42d644(0x283)][_0x42d644(0x18d)](':')[_0x42d644(0x25e)](Number),_0x2ba51c=(_0x8864a6*0x3c+_0x3cd5d)/0x3c*GRID_H,_0x4c5fc0=(_0x4b043d*0x3c+_0x213094-(_0x8864a6*0x3c+_0x3cd5d))/0x3c*GRID_H,_0x530a80=document[_0x42d644(0x2c3)](_0x42d644(0x1d3)),_0x9a1644=_0x4a374c['status']===_0x42d644(0x2a9)?_0x42d644(0x27b):'';_0x530a80[_0x42d644(0x2cd)]=_0x42d644(0x301)+_0x9a1644,_0x530a80['style'][_0x42d644(0x250)]=_0x2ba51c+'px',_0x530a80[_0x42d644(0x1c5)]['height']=Math[_0x42d644(0x1be)](_0x4c5fc0,0x14)+'px';const _0x4e7acd=clients[_0x42d644(0x1b6)](_0x53ee93=>_0x4a374c['clientId']&&String(_0x53ee93['id'])===String(_0x4a374c['clientId'])||_0x53ee93[_0x42d644(0x1ac)]===_0x4a374c[_0x42d644(0x232)]),_0x4e74f8=_0x4e7acd?_0x4e7acd['color']:'#0a84ff';_0x530a80['style'][_0x42d644(0x311)]=_0x4e74f8,_0x530a80[_0x42d644(0x1c5)][_0x42d644(0x1a4)]=hexToRgba(_0x4e74f8,0.85);let _0x1f00b0=_0x42d644(0x2c4)+_0x4a374c['client']+_0x42d644(0x298)+_0x4a374c['start']+_0x42d644(0x2f8)+_0x4a374c['end']+_0x42d644(0x245);return _0x4a374c['seriesId']&&(_0x1f00b0+=_0x42d644(0x1c3)),_0x4a374c['status']===_0x42d644(0x2a9)&&(_0x1f00b0+=_0x42d644(0x2bf)),_0x530a80[_0x42d644(0x2e7)]=_0x1f00b0,_0x530a80[_0x42d644(0x25d)]=_0x4664f2=>{const _0x42561b=_0x42d644;_0x4664f2[_0x42561b(0x278)](),openEdit(_0x4a374c);},_0x530a80;}function attachLongPressHandler(_0x274310,_0x4ff678){const _0x57c059=a2_0x3f89e7;let _0x380f02=0x0,_0x23e680=null;const _0x2fa6f5=_0x40cff2=>{const _0x532809=a2_0x573e;if(_0x40cff2[_0x532809(0x2b7)][_0x532809(0x215)](_0x532809(0x282)))return;isScrolling=![],_0x380f02=_0x40cff2['touches']?_0x40cff2[_0x532809(0x1ed)][0x0][_0x532809(0x24f)]:_0x40cff2[_0x532809(0x24f)],_0x23e680=setTimeout(()=>{const _0x9f9727=_0x532809;if(!isScrolling){navigator[_0x9f9727(0x2cf)]?.(0x32);const _0x22b33d=_0x274310[_0x9f9727(0x1d1)](),_0x616132=Math[_0x9f9727(0x281)]((_0x380f02-_0x22b33d[_0x9f9727(0x250)])/GRID_H);_0x4ff678[_0x9f9727(0x273)](_0x616132,0x0),openAddSession(_0x4ff678);}},0x1f4);},_0x1b4c61=()=>{isScrolling=!![],clearTimeout(_0x23e680);},_0x3b2108=()=>{clearTimeout(_0x23e680);};_0x274310[_0x57c059(0x1dd)]('touchstart',_0x2fa6f5,{'passive':!![]}),_0x274310['addEventListener'](_0x57c059(0x296),_0x1b4c61,{'passive':!![]}),_0x274310['addEventListener'](_0x57c059(0x1e2),_0x3b2108),_0x274310[_0x57c059(0x1dd)](_0x57c059(0x275),_0x2fa6f5),_0x274310[_0x57c059(0x1dd)](_0x57c059(0x2ac),_0x1b4c61),_0x274310[_0x57c059(0x1dd)](_0x57c059(0x22f),_0x3b2108);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x5a2988=a2_0x3f89e7,_0x3f202e=document[_0x5a2988(0x28c)](_0x5a2988(0x1c0)),_0x15b88f=_0x3f202e[_0x5a2988(0x2cc)],_0x43b275=_0x3f202e[_0x5a2988(0x1d6)],_0x1b43a=_0x3f202e['clientWidth'];if(_0x43b275-(_0x15b88f+_0x1b43a)<0x12c){const _0x31ee38=endOffset;endOffset+=0xe,renderDayRange(_0x31ee38+0x1,endOffset),reRenderBlocks();}if(_0x15b88f<0x12c){const _0x80e920=startOffset;startOffset-=0xe,prependDays(startOffset,_0x80e920-0x1),_0x3f202e[_0x5a2988(0x2cc)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x4c79e2,_0x36af7a){const _0x10d6b5=a2_0x3f89e7,_0x1e70ed=document[_0x10d6b5(0x28c)](_0x10d6b5(0x2fc)),_0x3c66af=document[_0x10d6b5(0x28c)](_0x10d6b5(0x1f6)),_0x882481=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x5a0e8b=new Date();_0x5a0e8b[_0x10d6b5(0x273)](0x0,0x0,0x0,0x0);const _0x1d8fbf=getLocalDateStr(new Date()),_0x27da9c=document[_0x10d6b5(0x223)](),_0x37122e=document[_0x10d6b5(0x223)]();for(let _0x206e6d=_0x4c79e2;_0x206e6d<=_0x36af7a;_0x206e6d++){const _0x21c886=new Date(_0x5a0e8b);_0x21c886[_0x10d6b5(0x2ec)](_0x21c886[_0x10d6b5(0x2ff)]()+_0x206e6d);const _0x44c9c3=getLocalDateStr(_0x21c886);let _0x38afa3=_0x21c886[_0x10d6b5(0x293)]()-0x1;if(_0x38afa3===-0x1)_0x38afa3=0x6;const _0x21182f=_0x44c9c3===_0x1d8fbf,_0x3a04e2=document[_0x10d6b5(0x2c3)](_0x10d6b5(0x1d3));_0x3a04e2[_0x10d6b5(0x2cd)]=_0x10d6b5(0x285)+(_0x21182f?'today':''),_0x3a04e2['id']='header-'+_0x44c9c3,_0x3a04e2['setAttribute'](_0x10d6b5(0x1a1),_0x44c9c3),_0x3a04e2[_0x10d6b5(0x2e7)]='<div\x20class=\x22dch-day\x22>'+_0x882481[_0x38afa3]+_0x10d6b5(0x244)+_0x21c886[_0x10d6b5(0x2ff)]()+_0x10d6b5(0x300)+_0x44c9c3+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x3a04e2['onclick']=()=>openDayOptions(_0x44c9c3,_0x882481[_0x38afa3]+'\x20'+_0x21c886['getDate']()),_0x27da9c[_0x10d6b5(0x1d7)](_0x3a04e2);const _0x4eff39=document[_0x10d6b5(0x2c3)](_0x10d6b5(0x1d3));_0x4eff39[_0x10d6b5(0x2cd)]=_0x10d6b5(0x2a0)+(_0x21182f?_0x10d6b5(0x1f4):''),_0x4eff39[_0x10d6b5(0x2ee)](_0x10d6b5(0x1a1),_0x44c9c3),_0x4eff39[_0x10d6b5(0x2ee)](_0x10d6b5(0x1e6),_0x38afa3),renderEventsForColumn(_0x4eff39,_0x44c9c3,_0x38afa3),attachLongPressHandler(_0x4eff39,_0x21c886),_0x37122e['appendChild'](_0x4eff39),updateDayStats(_0x44c9c3);}_0x1e70ed[_0x10d6b5(0x20b)](_0x27da9c,_0x1e70ed['firstChild']),_0x3c66af[_0x10d6b5(0x20b)](_0x37122e,_0x3c66af[_0x10d6b5(0x1e0)](_0x10d6b5(0x28a)));}function validateAppointment(_0x5b888e,_0x1ec3e2,_0x36e2e2,_0x58fb5a,_0x23e09a){const _0xb9a1dd=a2_0x3f89e7,[_0x25a027,_0x2b1dd5]=_0x1ec3e2[_0xb9a1dd(0x18d)](':')['map'](Number),[_0x1f8e7d,_0x46f300]=_0x36e2e2[_0xb9a1dd(0x18d)](':')[_0xb9a1dd(0x25e)](Number),_0x27bdec=_0x25a027*0x3c+_0x2b1dd5,_0x5d0c89=_0x1f8e7d*0x3c+_0x46f300,_0x177548=String(_0x23e09a);let _0xb9dcd8=![],_0x1285af='';for(let _0x588299 of sessions){if(_0x588299['dateStr']!==_0x5b888e)continue;if(_0x588299['status']===_0xb9a1dd(0x18a))continue;if(_0x58fb5a&&String(_0x588299['id'])===String(_0x58fb5a))continue;const [_0x43be58,_0x3348db]=_0x588299[_0xb9a1dd(0x18b)][_0xb9a1dd(0x18d)](':')[_0xb9a1dd(0x25e)](Number),[_0x6de8ea,_0x14e15e]=_0x588299['end'][_0xb9a1dd(0x18d)](':')[_0xb9a1dd(0x25e)](Number),_0x5ddc5e=_0x43be58*0x3c+_0x3348db,_0x432196=_0x6de8ea*0x3c+_0x14e15e;if(Math['max'](_0x27bdec,_0x5ddc5e)<Math[_0xb9a1dd(0x2ba)](_0x5d0c89,_0x432196)){if(_0x588299[_0xb9a1dd(0x2b4)]&&String(_0x588299[_0xb9a1dd(0x2b4)])===_0x177548)return{'valid':![],'msg':_0xb9a1dd(0x1cb)+_0x588299[_0xb9a1dd(0x232)]+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0xb9dcd8=!![],_0x1285af=_0x588299[_0xb9a1dd(0x232)];}}if(_0xb9dcd8)return{'valid':!![],'warning':_0xb9a1dd(0x216)+_0x1285af};return{'valid':!![]};}function updateDateDisplay(){const _0x3f9ced=a2_0x3f89e7,_0x2e6ab9=document[_0x3f9ced(0x28c)](_0x3f9ced(0x233))[_0x3f9ced(0x2d6)],_0x257803=document[_0x3f9ced(0x28c)]('sheetDateSubtitle');if(!_0x2e6ab9){_0x257803['textContent']='';return;}const [_0x2f46fc,_0xd5e5f8,_0x2722dc]=_0x2e6ab9[_0x3f9ced(0x18d)]('-')[_0x3f9ced(0x25e)](Number),_0x3ca16e=new Date(_0x2f46fc,_0xd5e5f8-0x1,_0x2722dc),_0x4e4301={'weekday':'long','day':_0x3f9ced(0x2b8),'month':'long','year':_0x3f9ced(0x2b8)};let _0x2f4234=_0x3ca16e[_0x3f9ced(0x2c6)](_0x3f9ced(0x2e0),_0x4e4301);_0x2f4234=_0x2f4234[_0x3f9ced(0x1a6)](0x0)[_0x3f9ced(0x243)]()+_0x2f4234[_0x3f9ced(0x29c)](0x1),_0x257803[_0x3f9ced(0x229)]=_0x2f4234;}function autoSetEndTime(){const _0x44b3ac=a2_0x3f89e7,_0x148b0e=document['getElementById'](_0x44b3ac(0x22c))[_0x44b3ac(0x2d6)];if(!_0x148b0e)return;const [_0x17ea7c,_0x4f374d]=_0x148b0e['split'](':')['map'](Number);let _0x103495=_0x17ea7c+0x1;if(_0x103495>0x17)_0x103495=0x0;const _0x18b360=String(_0x103495)[_0x44b3ac(0x30f)](0x2,'0')+':'+String(_0x4f374d)[_0x44b3ac(0x30f)](0x2,'0');document[_0x44b3ac(0x28c)](_0x44b3ac(0x191))[_0x44b3ac(0x2d6)]=_0x18b360;}function populateClientSelect(){const _0x36e83d=a2_0x3f89e7,_0x14c818=document[_0x36e83d(0x28c)]('inpClient');_0x14c818[_0x36e83d(0x2e7)]='';if(clients[_0x36e83d(0x2b3)]===0x0){const _0x477dfd=document[_0x36e83d(0x2c3)](_0x36e83d(0x2e6));_0x477dfd['text']=_0x36e83d(0x252),_0x14c818[_0x36e83d(0x1d7)](_0x477dfd);return;}clients[_0x36e83d(0x254)](_0x199b61=>{const _0x5c4cea=_0x36e83d,_0x559dbc=document[_0x5c4cea(0x2c3)](_0x5c4cea(0x2e6));_0x559dbc['value']=_0x199b61[_0x5c4cea(0x1ac)],_0x559dbc[_0x5c4cea(0x229)]=_0x199b61[_0x5c4cea(0x1ac)],_0x14c818['appendChild'](_0x559dbc);});}function openActionSheet(_0x58f82c){const _0x3a72ca=a2_0x3f89e7,_0x554e3d=document[_0x3a72ca(0x28c)]('actionSheet'),_0x383634=document[_0x3a72ca(0x28c)]('actionSheetOverlay'),_0x479a9f=document[_0x3a72ca(0x28c)](_0x3a72ca(0x241)),_0x193e19=document[_0x3a72ca(0x28c)](_0x3a72ca(0x228)),_0x47f1b1=document[_0x3a72ca(0x28c)]('asBtnSeries');_0x383634[_0x3a72ca(0x29b)][_0x3a72ca(0x19a)]('active'),_0x554e3d[_0x3a72ca(0x29b)][_0x3a72ca(0x19a)](_0x3a72ca(0x1e8));if(_0x58f82c===_0x3a72ca(0x286))_0x479a9f[_0x3a72ca(0x229)]='–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏',_0x193e19['textContent']='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x193e19['onclick']=()=>{const _0x45f8a6=_0x3a72ca;closeActionSheet(),updateSeriesBatch(_0x45f8a6(0x279),tempSessionData);},_0x47f1b1[_0x3a72ca(0x229)]=_0x3a72ca(0x1fa),_0x47f1b1[_0x3a72ca(0x25d)]=()=>{const _0x5f1cd9=_0x3a72ca;closeActionSheet(),updateSeriesBatch(_0x5f1cd9(0x1b5),tempSessionData);};else _0x58f82c===_0x3a72ca(0x1bd)&&(_0x479a9f['textContent']=_0x3a72ca(0x24c),_0x193e19[_0x3a72ca(0x229)]=_0x3a72ca(0x1a5),_0x193e19[_0x3a72ca(0x2cd)]=_0x3a72ca(0x2b2),_0x193e19['onclick']=()=>{const _0x680d03=_0x3a72ca;closeActionSheet(),commitDelete(_0x680d03(0x279),sessions['find'](_0x58ba24=>_0x58ba24['id']===editingId));},_0x47f1b1[_0x3a72ca(0x229)]=_0x3a72ca(0x1fa),_0x47f1b1[_0x3a72ca(0x2cd)]=_0x3a72ca(0x2f4),_0x47f1b1[_0x3a72ca(0x25d)]=()=>{const _0x4ce277=_0x3a72ca;closeActionSheet(),commitDelete(_0x4ce277(0x1b5),sessions['find'](_0x55e1ae=>_0x55e1ae['id']===editingId));});}function closeActionSheet(){const _0x4508fa=a2_0x3f89e7;document[_0x4508fa(0x28c)](_0x4508fa(0x289))[_0x4508fa(0x29b)][_0x4508fa(0x1b9)](_0x4508fa(0x1e8)),document['getElementById']('actionSheetOverlay')[_0x4508fa(0x29b)][_0x4508fa(0x1b9)]('active');}function openSettings(){openSheet('settingsSheet');}function saveCoachSettings(){const _0x27d631=a2_0x3f89e7,_0x5828bb=document[_0x27d631(0x28c)](_0x27d631(0x294))[_0x27d631(0x2d6)];localStorage[_0x27d631(0x2e5)](_0x27d631(0x2c7),_0x5828bb),console['log'](_0x27d631(0x24d),_0x5828bb),DataManager[_0x27d631(0x1ee)]('save_settings',{'settings':{'cancel_window':_0x5828bb}})['catch'](_0x3e86ac=>{const _0x424355=_0x27d631;console[_0x424355(0x1f3)](_0x424355(0x2c5),_0x3e86ac),showToast(_0x424355(0x230),![]);});}function loadCoachSettings(){const _0x1c5c0b=a2_0x3f89e7,_0x135b4c=localStorage['getItem'](_0x1c5c0b(0x2c7));_0x135b4c&&(document[_0x1c5c0b(0x28c)](_0x1c5c0b(0x294))[_0x1c5c0b(0x2d6)]=_0x135b4c);}function openRangesSheet(){const _0x1b2366=a2_0x3f89e7;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x1b2366(0x202));}function addRange(){const _0x23d569=a2_0x3f89e7,_0xaa51a1=document[_0x23d569(0x28c)](_0x23d569(0x186))[_0x23d569(0x2d6)],_0x2f38b8=document[_0x23d569(0x28c)](_0x23d569(0x1f5))[_0x23d569(0x2d6)],_0xaa39f8=document[_0x23d569(0x28c)](_0x23d569(0x1d2))['value'],_0x53fdd3=document['getElementById'](_0x23d569(0x295))[_0x23d569(0x2d6)];if(!_0xaa51a1||!_0x2f38b8||!_0xaa39f8||!_0x53fdd3)return alert(_0x23d569(0x19b));const _0x358cc3=_0xaa51a1+'T'+_0x2f38b8,_0x15104b=_0xaa39f8+'T'+_0x53fdd3;if(_0x358cc3>=_0x15104b)return alert(_0x23d569(0x1ec));specialRanges[_0x23d569(0x200)]({'start':_0x358cc3,'end':_0x15104b}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x23d569(0x1c2)](),DataManager[_0x23d569(0x1ee)](_0x23d569(0x2eb),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x24f310){const _0x39767c=a2_0x3f89e7;specialRanges[_0x39767c(0x30e)](_0x24f310,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x39767c(0x1c2)](),DataManager[_0x39767c(0x1ee)]('save_settings',{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x25794a=a2_0x3f89e7;document[_0x25794a(0x28c)](_0x25794a(0x186))[_0x25794a(0x2d6)]='',document[_0x25794a(0x28c)](_0x25794a(0x1f5))[_0x25794a(0x2d6)]='00:00',document[_0x25794a(0x28c)](_0x25794a(0x1d2))[_0x25794a(0x2d6)]='',document[_0x25794a(0x28c)](_0x25794a(0x295))['value']=_0x25794a(0x23b);}function renderRangesList(){const _0x38b134=a2_0x3f89e7,_0x156a4a=document['getElementById'](_0x38b134(0x25a));_0x156a4a[_0x38b134(0x2e7)]='';if(!specialRanges['length']){_0x156a4a[_0x38b134(0x2e7)]=_0x38b134(0x25b);return;}specialRanges['forEach']((_0xff193d,_0x1b5a63)=>{const _0x23cb27=_0x38b134,_0x520034=document['createElement']('div');_0x520034[_0x23cb27(0x2cd)]='range-item';const _0x2eacf4=_0x51d196=>{const _0x4fd868=_0x23cb27,_0x3a400a=new Date(_0x51d196);return _0x3a400a['getDate']()+'.'+String(_0x3a400a['getMonth']()+0x1)[_0x4fd868(0x30f)](0x2,'0')+'\x20'+String(_0x3a400a[_0x4fd868(0x26d)]())[_0x4fd868(0x30f)](0x2,'0')+':'+String(_0x3a400a[_0x4fd868(0x212)]())[_0x4fd868(0x30f)](0x2,'0');};_0x520034[_0x23cb27(0x2e7)]=_0x23cb27(0x306)+_0x2eacf4(_0xff193d[_0x23cb27(0x18b)])+_0x23cb27(0x1ce)+_0x2eacf4(_0xff193d[_0x23cb27(0x283)])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange('+_0x1b5a63+_0x23cb27(0x1a3),_0x156a4a[_0x23cb27(0x1d7)](_0x520034);});}function scrollToToday(){const _0x5767d7=a2_0x3f89e7,_0x94b4d=getLocalDateStr(new Date()),_0x20c237=document[_0x5767d7(0x28c)]('header-'+_0x94b4d),_0x2bfbb1=document[_0x5767d7(0x28c)](_0x5767d7(0x1c0));if(_0x20c237&&_0x2bfbb1){const _0x2eed57=_0x2bfbb1['clientWidth'],_0x2be147=_0x20c237[_0x5767d7(0x204)],_0x358b83=_0x20c237[_0x5767d7(0x314)];_0x2bfbb1[_0x5767d7(0x2cc)]=_0x2be147-_0x2eed57/0x2+_0x358b83/0x2,_0x2bfbb1[_0x5767d7(0x2cb)]=0x9*GRID_H;}}function onScroll(){const _0x4bc602=a2_0x3f89e7,_0x4889e2=document[_0x4bc602(0x28c)](_0x4bc602(0x1c0)),_0x4bd56b=document[_0x4bc602(0x280)]('.day-col-header');for(let _0x984d8 of _0x4bd56b)if(_0x984d8[_0x4bc602(0x204)]>=_0x4889e2['scrollLeft']){const _0x5cfacd=new Date(_0x984d8[_0x4bc602(0x22e)]('data-date'));document[_0x4bc602(0x28c)](_0x4bc602(0x2d7))['textContent']=_0x5cfacd[_0x4bc602(0x2e8)]('ru',{'month':'long'})[_0x4bc602(0x243)]()+'\x20'+_0x5cfacd[_0x4bc602(0x194)]();break;}}function showToast(_0x493c5b,_0x5de2b4=![]){const _0x4f7e2e=a2_0x3f89e7,_0x110774=document['getElementById'](_0x4f7e2e(0x1f2));_0x110774['className']=_0x4f7e2e(0x259)+(_0x5de2b4?_0x4f7e2e(0x1fd):''),document[_0x4f7e2e(0x28c)]('toastTitle')[_0x4f7e2e(0x229)]=_0x5de2b4?_0x4f7e2e(0x2dc):_0x4f7e2e(0x213),document[_0x4f7e2e(0x28c)](_0x4f7e2e(0x2af))['textContent']=_0x493c5b,_0x110774[_0x4f7e2e(0x29b)]['add'](_0x4f7e2e(0x1e9)),setTimeout(()=>{const _0x579bea=_0x4f7e2e;_0x110774[_0x579bea(0x29b)][_0x579bea(0x1b9)](_0x579bea(0x1e9));},0xbb8);}function openDayOptions(_0x41daa7,_0x2b6bf9){const _0x4ce3ef=a2_0x3f89e7;selectedDayForOptions=_0x41daa7,document[_0x4ce3ef(0x28c)](_0x4ce3ef(0x2c0))[_0x4ce3ef(0x229)]=_0x2b6bf9,openSheet(_0x4ce3ef(0x2ca));}function toggleDayOff(){const _0x1b6d6f=a2_0x3f89e7;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x1b6d6f(0x208),reRenderBlocks(),closeAllSheets(),DataManager[_0x1b6d6f(0x1c2)](),DataManager[_0x1b6d6f(0x1ee)](_0x1b6d6f(0x2eb),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x1755f3=a2_0x3f89e7;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x1755f3(0x1c2)](),DataManager[_0x1755f3(0x1ee)](_0x1755f3(0x2eb),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x48fc47){const _0x2eaa1b=a2_0x3f89e7;document[_0x2eaa1b(0x28c)](_0x2eaa1b(0x2db))[_0x2eaa1b(0x29b)]['add'](_0x2eaa1b(0x253)),document['getElementById'](_0x48fc47)['classList'][_0x2eaa1b(0x19a)](_0x2eaa1b(0x1e8));}function closeAllSheets(){const _0x535f73=a2_0x3f89e7;document[_0x535f73(0x28c)](_0x535f73(0x2db))[_0x535f73(0x29b)]['remove']('active'),document[_0x535f73(0x280)](_0x535f73(0x1f0))['forEach'](_0x5b8d46=>_0x5b8d46[_0x535f73(0x29b)]['remove'](_0x535f73(0x1e8)));}function a2_0x573e(_0x14f34d,_0x1b240b){_0x14f34d=_0x14f34d-0x186;const _0xc11e5f=a2_0x39a0();let _0x59898a=_0xc11e5f[_0x14f34d];return _0x59898a;}function openPatternEditor(){const _0x19178b=a2_0x3f89e7;closeAllSheets(),document[_0x19178b(0x28c)](_0x19178b(0x207))[_0x19178b(0x29b)]['add'](_0x19178b(0x1e8)),renderPatternEditor();}function closePatternEditor(){const _0x780bf2=a2_0x3f89e7;document[_0x780bf2(0x28c)](_0x780bf2(0x207))['classList']['remove'](_0x780bf2(0x1e8));}function savePattern(){const _0xc2166b=a2_0x3f89e7;document[_0xc2166b(0x28c)]('patternEditor')[_0xc2166b(0x29b)]['remove'](_0xc2166b(0x1e8)),reRenderBlocks(),DataManager[_0xc2166b(0x1c2)](),DataManager[_0xc2166b(0x1ee)](_0xc2166b(0x2eb),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x5d527a=a2_0x3f89e7,_0x3f7f97=document['getElementById'](_0x5d527a(0x2f6));_0x3f7f97[_0x5d527a(0x2e7)]='';const _0x1f2486=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x465014=document['createElement'](_0x5d527a(0x1d3));_0x465014[_0x5d527a(0x2cd)]=_0x5d527a(0x21a),_0x3f7f97[_0x5d527a(0x1d7)](_0x465014),_0x1f2486[_0x5d527a(0x254)]((_0x2f52af,_0x47343a)=>{const _0x304c61=_0x5d527a,_0x518b83=document[_0x304c61(0x2c3)](_0x304c61(0x1d3));_0x518b83[_0x304c61(0x2cd)]=_0x304c61(0x2ea),_0x518b83[_0x304c61(0x2e7)]=_0x2f52af+_0x304c61(0x1de),_0x518b83[_0x304c61(0x25d)]=()=>toggleColPattern(_0x47343a),_0x3f7f97[_0x304c61(0x1d7)](_0x518b83);});for(let _0x432b71=0x0;_0x432b71<0x18;_0x432b71++){const _0x1c3797=document[_0x5d527a(0x2c3)](_0x5d527a(0x1d3));_0x1c3797[_0x5d527a(0x2cd)]=_0x5d527a(0x2ab),_0x1c3797[_0x5d527a(0x2e7)]='<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>'+String(_0x432b71)[_0x5d527a(0x30f)](0x2,'0')+_0x5d527a(0x247),_0x1c3797[_0x5d527a(0x25d)]=()=>toggleRowPattern(_0x432b71),_0x3f7f97[_0x5d527a(0x1d7)](_0x1c3797);for(let _0x3e4adc=0x0;_0x3e4adc<0x7;_0x3e4adc++){const _0x11caae=document[_0x5d527a(0x2c3)](_0x5d527a(0x1d3)),_0x230e70=(availabilityPattern[_0x3e4adc]||[])['includes'](_0x432b71),_0x1679a3=!_0x230e70;_0x11caae[_0x5d527a(0x2cd)]=_0x5d527a(0x1e5)+(_0x1679a3?_0x5d527a(0x253):''),_0x11caae[_0x5d527a(0x25d)]=()=>toggleSinglePattern(_0x3e4adc,_0x432b71),_0x3f7f97['appendChild'](_0x11caae);}}}function toggleSinglePattern(_0x1d7033,_0x52639f){const _0xc7caff=a2_0x3f89e7;if(!availabilityPattern[_0x1d7033])availabilityPattern[_0x1d7033]=[];const _0x13aa10=availabilityPattern[_0x1d7033],_0x376335=_0x13aa10['indexOf'](_0x52639f);_0x376335===-0x1?_0x13aa10[_0xc7caff(0x200)](_0x52639f):_0x13aa10[_0xc7caff(0x30e)](_0x376335,0x1),renderPatternEditor();}function toggleColPattern(_0x567149){const _0x1db03a=a2_0x3f89e7;if(!availabilityPattern[_0x567149])availabilityPattern[_0x567149]=[];const _0x2b0bd8=availabilityPattern[_0x567149];_0x2b0bd8[_0x1db03a(0x2b3)]===0x0?availabilityPattern[_0x567149]=Array[_0x1db03a(0x2da)]({'length':0x18},(_0x1e09f1,_0x1176db)=>_0x1176db):availabilityPattern[_0x567149]=[],renderPatternEditor();}function toggleRowPattern(_0x5362f9){const _0x4d8327=a2_0x3f89e7;let _0x39b92e=!![];for(let _0x77ec24=0x0;_0x77ec24<0x7;_0x77ec24++){if((availabilityPattern[_0x77ec24]||[])[_0x4d8327(0x27f)](_0x5362f9)){_0x39b92e=![];break;}}for(let _0x289fae=0x0;_0x289fae<0x7;_0x289fae++){if(!availabilityPattern[_0x289fae])availabilityPattern[_0x289fae]=[];const _0x18f080=availabilityPattern[_0x289fae][_0x4d8327(0x199)](_0x5362f9);if(_0x39b92e){if(_0x18f080===-0x1)availabilityPattern[_0x289fae][_0x4d8327(0x200)](_0x5362f9);}else{if(_0x18f080!==-0x1)availabilityPattern[_0x289fae][_0x4d8327(0x30e)](_0x18f080,0x1);}}renderPatternEditor();}function renderPCol(_0x3e77d0,_0x2e1186){const _0x2699fb=a2_0x3f89e7;_0x3e77d0[_0x2699fb(0x2e7)]='';const _0x1b546b=Math[_0x2699fb(0x23f)](_0x3e77d0[_0x2699fb(0x204)]);(availabilityPattern[_0x2e1186]||[])[_0x2699fb(0x254)](_0x3a59de=>{const _0x12b992=_0x2699fb,_0x311e62=document[_0x12b992(0x2c3)]('div');_0x311e62[_0x12b992(0x2cd)]='blocked-slot\x20stripe-bg';const _0x2b2ccc=_0x3a59de*GRID_H;_0x311e62[_0x12b992(0x1c5)][_0x12b992(0x250)]=_0x2b2ccc+'px',_0x311e62['style']['backgroundPosition']='-'+_0x1b546b+_0x12b992(0x1ad)+_0x2b2ccc+'px',_0x311e62['onclick']=_0x2bf7eb=>{_0x2bf7eb['stopPropagation'](),toggleSinglePattern(_0x2e1186,_0x3a59de);},_0x3e77d0[_0x12b992(0x1d7)](_0x311e62);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x580600=a2_0x3f89e7,_0x2e2370=new Date(),_0x1b3bc6=document[_0x580600(0x28c)](_0x580600(0x26b)),_0x149aff=document['getElementById'](_0x580600(0x2bd)),_0x337044=(_0x2e2370[_0x580600(0x26d)]()*0x3c+_0x2e2370[_0x580600(0x212)]())/0x3c*GRID_H;_0x1b3bc6['style'][_0x580600(0x250)]=_0x337044+'px',_0x1b3bc6[_0x580600(0x1c5)][_0x580600(0x299)]=_0x580600(0x27a),_0x149aff[_0x580600(0x229)]=String(_0x2e2370['getHours']())[_0x580600(0x30f)](0x2,'0')+':'+String(_0x2e2370[_0x580600(0x212)]())['padStart'](0x2,'0'),_0x149aff[_0x580600(0x1c5)][_0x580600(0x299)]=_0x580600(0x27a),_0x149aff[_0x580600(0x1c5)][_0x580600(0x250)]=_0x337044+'px';}document['addEventListener'](a2_0x3f89e7(0x22a),init);function openDayOptions(_0xdbc3db){const _0x206b66=a2_0x3f89e7;selectedDayForOptions=_0xdbc3db;const _0x33659=new Date(_0xdbc3db),_0x51a5f8={'weekday':_0x206b66(0x288),'day':_0x206b66(0x2b8),'month':_0x206b66(0x288),'year':_0x206b66(0x2b8)},_0x57199b=_0x33659[_0x206b66(0x2c6)](_0x206b66(0x2e0),_0x51a5f8);document['getElementById']('doDateHeader')[_0x206b66(0x229)]=_0x57199b[_0x206b66(0x1a6)](0x0)[_0x206b66(0x243)]()+_0x57199b[_0x206b66(0x29c)](0x1);let _0x5e89b7=_0x33659['getDay']()-0x1;if(_0x5e89b7===-0x1)_0x5e89b7=0x6;const _0x4606f7=availabilityPattern[_0x5e89b7]||[],_0x2de5df=0x18-_0x4606f7[_0x206b66(0x2b3)],_0x32c1ea=_0x2de5df*0x3c,_0x4a1e13=sessions['filter'](_0xeab13=>_0xeab13[_0x206b66(0x2c9)]===_0xdbc3db&&_0xeab13[_0x206b66(0x1e3)]!==_0x206b66(0x18a));let _0x1e1ef7=_0x4a1e13[_0x206b66(0x25e)](_0x56ce62=>{const _0x477d34=_0x206b66,[_0x595412,_0x422bdb]=_0x56ce62['start'][_0x477d34(0x18d)](':')[_0x477d34(0x25e)](Number),[_0x550a33,_0x3cebb3]=_0x56ce62[_0x477d34(0x283)]['split'](':')[_0x477d34(0x25e)](Number);return[_0x595412*0x3c+_0x422bdb,_0x550a33*0x3c+_0x3cebb3];});_0x1e1ef7[_0x206b66(0x304)]((_0x58831b,_0x4414ab)=>_0x58831b[0x0]-_0x4414ab[0x0]);let _0x387bd8=[];if(_0x1e1ef7[_0x206b66(0x2b3)]>0x0){let _0x131625=_0x1e1ef7[0x0];for(let _0x10b7d5=0x1;_0x10b7d5<_0x1e1ef7[_0x206b66(0x2b3)];_0x10b7d5++){_0x1e1ef7[_0x10b7d5][0x0]<_0x131625[0x1]?_0x131625[0x1]=Math[_0x206b66(0x1be)](_0x131625[0x1],_0x1e1ef7[_0x10b7d5][0x1]):(_0x387bd8[_0x206b66(0x200)](_0x131625),_0x131625=_0x1e1ef7[_0x10b7d5]);}_0x387bd8[_0x206b66(0x200)](_0x131625);}let _0x2b6095=0x0;_0x387bd8[_0x206b66(0x254)](_0x3d15d6=>_0x2b6095+=_0x3d15d6[0x1]-_0x3d15d6[0x0]),document[_0x206b66(0x28c)](_0x206b66(0x2d5))[_0x206b66(0x229)]=formatMinsToHrs(_0x32c1ea),document[_0x206b66(0x28c)](_0x206b66(0x29a))[_0x206b66(0x229)]=formatMinsToHrs(_0x2b6095);const _0x485c34=_0x32c1ea>0x0?Math['round'](_0x2b6095/_0x32c1ea*0x64):0x0,_0x2362e4=document['getElementById'](_0x206b66(0x274));_0x2362e4['textContent']=_0x485c34+'%';const _0x5b8423=document[_0x206b66(0x28c)](_0x206b66(0x2a6));if(_0x485c34>0x64)_0x2362e4[_0x206b66(0x1c5)][_0x206b66(0x2a3)]=_0x206b66(0x21d),_0x5b8423[_0x206b66(0x1c5)][_0x206b66(0x196)]='rgba(255,\x2069,\x2058,\x200.3)';else _0x485c34>0x50?(_0x2362e4[_0x206b66(0x1c5)][_0x206b66(0x2a3)]=_0x206b66(0x23c),_0x5b8423[_0x206b66(0x1c5)]['borderColor']=_0x206b66(0x310)):(_0x2362e4['style'][_0x206b66(0x2a3)]=_0x206b66(0x312),_0x5b8423[_0x206b66(0x1c5)][_0x206b66(0x196)]='rgba(255,255,255,0.05)');const _0x5caa06=document['getElementById'](_0x206b66(0x219));_0x5caa06[_0x206b66(0x2e7)]='';_0x4a1e13[_0x206b66(0x2b3)]===0x0?_0x5caa06[_0x206b66(0x2e7)]=_0x206b66(0x18c):(_0x4a1e13[_0x206b66(0x304)]((_0x440358,_0x382d21)=>_0x440358[_0x206b66(0x18b)][_0x206b66(0x201)](_0x382d21[_0x206b66(0x18b)])),_0x4a1e13[_0x206b66(0x254)](_0x589af7=>{const _0x4549de=_0x206b66,_0x4c3368=clients['find'](_0x3136f2=>_0x3136f2[_0x4549de(0x1ac)]===_0x589af7['client']),_0xec779c=_0x4c3368?_0x4c3368[_0x4549de(0x2a3)]:_0x4549de(0x1b1),_0x5e09ec=_0x589af7[_0x4549de(0x1e3)]==='completed',_0x4bd7ea=_0x5e09ec?_0x4549de(0x1b4):'',_0x231ed0=document[_0x4549de(0x2c3)](_0x4549de(0x1d3));_0x231ed0[_0x4549de(0x2cd)]=_0x4549de(0x28b),_0x231ed0[_0x4549de(0x1c5)][_0x4549de(0x311)]=_0xec779c,_0x231ed0[_0x4549de(0x2e7)]=_0x4549de(0x307)+_0x589af7[_0x4549de(0x18b)]+'\x20-\x20'+_0x589af7['end']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x589af7[_0x4549de(0x232)]+_0x4549de(0x28e)+_0x4bd7ea+_0x4549de(0x23d),_0x5caa06[_0x4549de(0x1d7)](_0x231ed0);}));const _0x285eec=document['getElementById'](_0x206b66(0x1fc)),_0x37b88d=dateExceptions[_0xdbc3db]==='off';_0x37b88d?(_0x285eec['textContent']=_0x206b66(0x209),_0x285eec['className']=_0x206b66(0x313),_0x285eec[_0x206b66(0x1c5)][_0x206b66(0x2a3)]=_0x206b66(0x312),_0x285eec['style'][_0x206b66(0x262)]='rgba(48,\x20209,\x2088,\x200.15)'):(_0x285eec[_0x206b66(0x229)]=_0x206b66(0x1aa),_0x285eec[_0x206b66(0x2cd)]=_0x206b66(0x217),_0x285eec[_0x206b66(0x1c5)]['color']=_0x206b66(0x21d),_0x285eec[_0x206b66(0x1c5)][_0x206b66(0x262)]=_0x206b66(0x1d8)),openSheet('dayOptionsSheet');}let currentAnPeriod=a2_0x3f89e7(0x187);function openAnalytics(){const _0x531de9=a2_0x3f89e7,_0x2b98e0=document[_0x531de9(0x1e0)](_0x531de9(0x246));setAnalyticsPeriod('week',_0x2b98e0),closeAllSheets(),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x52fde4,_0xa60050){const _0x1ae3f3=a2_0x3f89e7;currentAnPeriod=_0x52fde4,document[_0x1ae3f3(0x280)]('.period-switch\x20.p-btn')[_0x1ae3f3(0x254)](_0x51b38f=>_0x51b38f['classList'][_0x1ae3f3(0x1b9)](_0x1ae3f3(0x253)));if(_0xa60050)_0xa60050[_0x1ae3f3(0x29b)][_0x1ae3f3(0x19a)]('active');const _0x15ec6e=document['getElementById'](_0x1ae3f3(0x189));_0x15ec6e['style']['display']=_0x52fde4===_0x1ae3f3(0x2b1)?'flex':_0x1ae3f3(0x2ae);const _0x19e740=new Date();let _0x1dfbf1=new Date(),_0x3d73c0=new Date();if(_0x52fde4===_0x1ae3f3(0x187))_0x1dfbf1=getStartOfWeek(_0x19e740),_0x3d73c0=new Date(_0x1dfbf1),_0x3d73c0['setDate'](_0x3d73c0[_0x1ae3f3(0x2ff)]()+0x6);else{if(_0x52fde4==='month')_0x1dfbf1=new Date(_0x19e740[_0x1ae3f3(0x194)](),_0x19e740['getMonth'](),0x1),_0x3d73c0=new Date(_0x19e740['getFullYear'](),_0x19e740['getMonth']()+0x1,0x0);else{!document[_0x1ae3f3(0x28c)](_0x1ae3f3(0x198))[_0x1ae3f3(0x2d6)]&&(document[_0x1ae3f3(0x28c)](_0x1ae3f3(0x198))[_0x1ae3f3(0x2d6)]=getLocalDateStr(_0x19e740),document[_0x1ae3f3(0x28c)](_0x1ae3f3(0x1b3))[_0x1ae3f3(0x2d6)]=getLocalDateStr(_0x19e740));refreshAnalytics();return;}}document[_0x1ae3f3(0x28c)]('anStart')[_0x1ae3f3(0x2d6)]=getLocalDateStr(_0x1dfbf1),document['getElementById'](_0x1ae3f3(0x1b3))['value']=getLocalDateStr(_0x3d73c0),refreshAnalytics();}function refreshAnalytics(){const _0x304157=a2_0x3f89e7,_0x135cbe=document['getElementById'](_0x304157(0x198))[_0x304157(0x2d6)],_0x1e85c0=document[_0x304157(0x28c)](_0x304157(0x1b3))[_0x304157(0x2d6)];if(!_0x135cbe||!_0x1e85c0)return;const _0x1cb914=sessions['filter'](_0x2000c0=>_0x2000c0['dateStr']>=_0x135cbe&&_0x2000c0[_0x304157(0x2c9)]<=_0x1e85c0&&_0x2000c0[_0x304157(0x1e3)]!==_0x304157(0x18a)),_0x3e3cbc=_0x1cb914['length'],_0x3395ad=_0x1cb914[_0x304157(0x255)](_0x1b0803=>_0x1b0803[_0x304157(0x1e3)]==='completed')[_0x304157(0x2b3)],_0x2570ea=_0x3e3cbc>0x0?Math[_0x304157(0x23f)](_0x3395ad/_0x3e3cbc*0x64):0x0;document[_0x304157(0x28c)](_0x304157(0x1cd))['textContent']=_0x2570ea+'%',document[_0x304157(0x28c)](_0x304157(0x21f))[_0x304157(0x229)]=_0x3395ad+'\x20–∏–∑\x20'+_0x3e3cbc+_0x304157(0x1df);const _0x364d5a=document[_0x304157(0x28c)]('anDonutCircle'),_0x223e3a=0x2*Math['PI']*0x23,_0x148e0f=_0x223e3a-_0x2570ea/0x64*_0x223e3a;_0x364d5a['style'][_0x304157(0x2a5)]=_0x148e0f;const _0x1b983c={};_0x1cb914['forEach'](_0x248728=>{const _0x21f274=_0x304157;if(!_0x1b983c[_0x248728['client']]){const _0x1cec90=clients['find'](_0x139240=>_0x139240[_0x21f274(0x1ac)]===_0x248728[_0x21f274(0x232)]);_0x1b983c[_0x248728[_0x21f274(0x232)]]={'total':0x0,'done':0x0,'color':_0x1cec90?_0x1cec90[_0x21f274(0x2a3)]:'#fff'};}_0x1b983c[_0x248728[_0x21f274(0x232)]][_0x21f274(0x269)]++;if(_0x248728['status']===_0x21f274(0x2a9))_0x1b983c[_0x248728[_0x21f274(0x232)]][_0x21f274(0x1a7)]++;});const _0x586ac4=document[_0x304157(0x28c)](_0x304157(0x210));_0x586ac4[_0x304157(0x2e7)]='';const _0x4dbbe4=Object[_0x304157(0x2b5)](_0x1b983c)[_0x304157(0x304)]((_0xbc41e1,_0x1d0f12)=>_0x1d0f12[0x1][_0x304157(0x269)]-_0xbc41e1[0x1][_0x304157(0x269)]);if(_0x4dbbe4[_0x304157(0x2b3)]===0x0){_0x586ac4['innerHTML']=_0x304157(0x263);return;}_0x4dbbe4[_0x304157(0x254)](([_0x54db2e,_0x26b1d6])=>{const _0x247f2e=_0x304157,_0x3e42b0=Math['round'](_0x26b1d6['done']/_0x26b1d6[_0x247f2e(0x269)]*0x64),_0x1818d8=document[_0x247f2e(0x2c3)](_0x247f2e(0x1d3));_0x1818d8[_0x247f2e(0x2cd)]=_0x247f2e(0x1e1),_0x1818d8[_0x247f2e(0x1c5)][_0x247f2e(0x311)]=_0x26b1d6[_0x247f2e(0x2a3)],_0x1818d8[_0x247f2e(0x2e7)]=_0x247f2e(0x1da)+_0x54db2e+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x26b1d6['done']+_0x247f2e(0x195)+_0x26b1d6[_0x247f2e(0x269)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x3e42b0+_0x247f2e(0x237),_0x586ac4[_0x247f2e(0x1d7)](_0x1818d8);});}function formatMinsToHrs(_0x30d05f){const _0x4cfa05=a2_0x3f89e7;if(_0x30d05f===0x0)return'0';const _0x18fd95=Math[_0x4cfa05(0x281)](_0x30d05f/0x3c),_0x49c4e6=_0x30d05f%0x3c;if(_0x49c4e6===0x0)return _0x18fd95+'—á';return _0x18fd95+'—á\x20'+_0x49c4e6+'–º';}