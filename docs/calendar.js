const a2_0x215d19=a2_0x4e41;(function(_0x16833f,_0x2a2956){const _0x289bee=a2_0x4e41,_0x9a727b=_0x16833f();while(!![]){try{const _0xaf1065=parseInt(_0x289bee(0x189))/0x1+parseInt(_0x289bee(0x26b))/0x2*(-parseInt(_0x289bee(0x250))/0x3)+-parseInt(_0x289bee(0x213))/0x4+parseInt(_0x289bee(0x1df))/0x5+parseInt(_0x289bee(0x179))/0x6+parseInt(_0x289bee(0x251))/0x7*(-parseInt(_0x289bee(0x167))/0x8)+parseInt(_0x289bee(0x25e))/0x9*(parseInt(_0x289bee(0x154))/0xa);if(_0xaf1065===_0x2a2956)break;else _0x9a727b['push'](_0x9a727b['shift']());}catch(_0x4bea5d){_0x9a727b['push'](_0x9a727b['shift']());}}}(a2_0xb2fc,0x1f8b2),function initTMA(){const _0xbbc861=a2_0x4e41;try{const _0x496c7e=window[_0xbbc861(0x1e8)]?.[_0xbbc861(0x246)];if(!_0x496c7e)return;_0x496c7e[_0xbbc861(0x1d5)](),_0x496c7e[_0xbbc861(0x258)]();try{_0x496c7e[_0xbbc861(0x19a)](_0xbbc861(0x248)),_0x496c7e[_0xbbc861(0x27f)]&&_0x496c7e[_0xbbc861(0x27f)]('#050505');}catch(_0x21e255){console['log'](_0xbbc861(0x1bc),_0x21e255);}try{_0x496c7e['BackButton']&&(_0x496c7e[_0xbbc861(0x24b)][_0xbbc861(0x209)](),_0x496c7e[_0xbbc861(0x24b)][_0xbbc861(0x2a5)](),_0x496c7e['BackButton'][_0xbbc861(0x16d)](function(){const _0x2febf5=_0xbbc861;window['location'][_0x2febf5(0x1fc)]=_0x2febf5(0x1ee);}));}catch(_0x4fb3a0){console[_0xbbc861(0x1fa)](_0xbbc861(0x14e),_0x4fb3a0);}try{if(_0x496c7e[_0xbbc861(0x2a9)])_0x496c7e['disableVerticalSwipes']();}catch(_0x22720b){}}catch(_0x41371d){console[_0xbbc861(0x194)](_0xbbc861(0x1ae),_0x41371d);}}());function isAdmin(){const _0x95a80b=a2_0x4e41;try{const _0x38429a=Number(window['Telegram']?.[_0x95a80b(0x246)]?.[_0x95a80b(0x278)]?.[_0x95a80b(0x245)]?.['id']);return _0x38429a===0xbaf7174;}catch(_0x3a5483){return![];}}const APP_VERSION=a2_0x215d19(0x292),API_URL=a2_0x215d19(0x2a7),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS='uc_clients_v9',KEY_SESSIONS=a2_0x215d19(0x153),KEY_SETTINGS='uc_settings_v9';let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x293b95=a2_0x215d19;return window[_0x293b95(0x1e8)]?.['WebApp']?.[_0x293b95(0x278)]?.['user']?.['id']||_0x293b95(0x15c);},'saveLocally'(){const _0x13d562=a2_0x215d19;try{localStorage[_0x13d562(0x173)](KEY_CLIENTS,JSON['stringify'](clients)),localStorage[_0x13d562(0x173)](KEY_SESSIONS,JSON[_0x13d562(0x260)](sessions)),localStorage[_0x13d562(0x173)](KEY_SETTINGS,JSON[_0x13d562(0x260)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x1e5031){console[_0x13d562(0x194)](_0x13d562(0x1b3),_0x1e5031);}},'loadLocal'(){const _0x4eb8c7=a2_0x215d19;try{const _0x519702=localStorage[_0x4eb8c7(0x21f)](KEY_CLIENTS);if(_0x519702)clients=JSON['parse'](_0x519702);const _0x3f04fd=localStorage[_0x4eb8c7(0x21f)](KEY_SESSIONS);if(_0x3f04fd)sessions=JSON['parse'](_0x3f04fd);const _0x4a3a3b=localStorage[_0x4eb8c7(0x21f)](KEY_SETTINGS);if(_0x4a3a3b){const _0x20fab9=JSON['parse'](_0x4a3a3b);if(_0x20fab9[_0x4eb8c7(0x180)])availabilityPattern=_0x20fab9[_0x4eb8c7(0x180)];if(_0x20fab9[_0x4eb8c7(0x29c)])dateExceptions=_0x20fab9[_0x4eb8c7(0x29c)];if(_0x20fab9[_0x4eb8c7(0x205)])specialRanges=_0x20fab9[_0x4eb8c7(0x205)];}else{for(let _0x413df5=0x0;_0x413df5<0x7;_0x413df5++)availabilityPattern[_0x413df5]=Array[_0x4eb8c7(0x26a)]({'length':0xc},(_0x26c0df,_0x9ccf51)=>_0x9ccf51+0x9);}}catch(_0xf156a2){console['error']('Local\x20Load\x20Error',_0xf156a2);}},async 'fetchFromServer'(_0x338759,_0x5bd995={}){const _0x5ccd60=a2_0x215d19,_0x3c982b=window[_0x5ccd60(0x1e8)]?.[_0x5ccd60(0x246)],_0x4cbc69={'action':_0x338759,'init_data':_0x3c982b?.['initData']||'',..._0x5bd995};try{const _0xe4036=await fetch(API_URL,{'method':_0x5ccd60(0x168),'headers':{'Content-Type':_0x5ccd60(0x236)},'body':JSON['stringify'](_0x4cbc69)}),_0x2eb6a3=await _0xe4036['json']();if(!_0x2eb6a3['ok'])throw new Error(_0x2eb6a3['error']||_0x5ccd60(0x1d4));return _0x2eb6a3[_0x5ccd60(0x1a2)];}catch(_0x2c709f){console[_0x5ccd60(0x194)](_0x5ccd60(0x26d)+_0x338759+_0x5ccd60(0x14b),_0x2c709f);throw _0x2c709f;}},async 'syncLoad'(){const _0x197732=a2_0x215d19,_0x5ef754=new Date(),_0x1b47ac=_0x5ef754[_0x197732(0x16f)]()+'-'+String(_0x5ef754[_0x197732(0x2bb)]()+0x1)[_0x197732(0x2c7)](0x2,'0'),_0x27f7d7=new Date(_0x5ef754);_0x27f7d7[_0x197732(0x2be)](_0x5ef754[_0x197732(0x2bb)]()+0x1);const _0x4dd634=_0x27f7d7[_0x197732(0x16f)]()+'-'+String(_0x27f7d7[_0x197732(0x2bb)]()+0x1)[_0x197732(0x2c7)](0x2,'0'),_0x3020fd=Date['now']();console[_0x197732(0x1fa)]('[Sync]\x20Loading\x20'+_0x1b47ac+',\x20'+_0x4dd634+_0x197732(0x17b));try{const [_0x1d2685,_0x42fcd1]=await Promise[_0x197732(0x151)]([this[_0x197732(0x24f)](_0x197732(0x1ad),{'month_str':_0x1b47ac}),this['fetchFromServer']('init_load',{'month_str':_0x4dd634})]);if(lastUserActionTime>_0x3020fd)return console[_0x197732(0x270)](_0x197732(0x1cf)),![];return this[_0x197732(0x255)](_0x1d2685,_0x1b47ac),this['mergeServerData'](_0x42fcd1,_0x4dd634),this[_0x197732(0x1ab)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x5ac1b1){console[_0x197732(0x194)](_0x5ac1b1);throw _0x5ac1b1;}},'mergeServerData'(_0x5870d5,_0xc79896){const _0x397388=a2_0x215d19;if(!_0x5870d5)return;_0x5870d5[_0x397388(0x224)]&&Array[_0x397388(0x225)](_0x5870d5[_0x397388(0x224)])&&(clients=_0x5870d5[_0x397388(0x224)]);if(_0x5870d5[_0x397388(0x230)]){if(_0x5870d5['settings'][_0x397388(0x180)])availabilityPattern=_0x5870d5[_0x397388(0x230)][_0x397388(0x180)];if(_0x5870d5[_0x397388(0x230)][_0x397388(0x29c)])dateExceptions=_0x5870d5[_0x397388(0x230)][_0x397388(0x29c)];if(_0x5870d5['settings'][_0x397388(0x205)])specialRanges=_0x5870d5[_0x397388(0x230)][_0x397388(0x205)];if(_0x5870d5[_0x397388(0x230)][_0x397388(0x297)]){localStorage[_0x397388(0x173)](_0x397388(0x162),_0x5870d5[_0x397388(0x230)][_0x397388(0x297)]);const _0x3b5e6b=document[_0x397388(0x172)]('settingCancelWindow');if(_0x3b5e6b)_0x3b5e6b['value']=_0x5870d5[_0x397388(0x230)][_0x397388(0x297)];}}_0x5870d5[_0x397388(0x16b)]&&(sessions=sessions['filter'](_0x471152=>!_0x471152[_0x397388(0x298)][_0x397388(0x22f)](_0xc79896)),Object[_0x397388(0x1dc)](_0x5870d5['calendar'])[_0x397388(0x17a)](_0x3271d8=>{const _0x3a7921=_0x5870d5['calendar'][_0x3271d8];_0x3a7921['forEach'](_0x45e729=>{const _0x3e395=a2_0x4e41,_0x483057=clients[_0x3e395(0x1a9)](_0x699f26=>String(_0x699f26['id'])===String(_0x45e729['c']));sessions[_0x3e395(0x226)]({'id':_0x45e729['i'],'clientId':_0x45e729['c'],'client':_0x483057?_0x483057['name']:_0x3e395(0x21d),'dateStr':_0xc79896+'-'+_0x3271d8['padStart'](0x2,'0'),'start':_0x45e729['s'],'end':_0x45e729['e'],'status':_0x45e729['st']||'planned','note':_0x45e729['n']||'','seriesId':_0x45e729[_0x3e395(0x2c0)]||null});});}));},async 'syncBatch'(_0x11133d){const _0x1bd497=a2_0x215d19,_0x43919b=[...new Set(_0x11133d)],_0x43dfc6=_0x43919b[_0x1bd497(0x157)](_0x48854a=>{const _0x189b02=_0x1bd497,_0xfa0b7f=sessions[_0x189b02(0x291)](_0x202c49=>_0x202c49[_0x189b02(0x298)]===_0x48854a&&_0x202c49['status']!==_0x189b02(0x1bf)),_0x45d112=_0xfa0b7f[_0x189b02(0x157)](_0x31acbd=>({'i':_0x31acbd['id'],'c':_0x31acbd[_0x189b02(0x28f)],'s':_0x31acbd['start'],'e':_0x31acbd[_0x189b02(0x1b5)],'st':_0x31acbd[_0x189b02(0x18d)],'n':_0x31acbd[_0x189b02(0x1e0)],'sid':_0x31acbd[_0x189b02(0x227)]}));return{'date':_0x48854a,'day_data':_0x45d112};});if(_0x43dfc6[_0x1bd497(0x164)]===0x0)return;console['log'](_0x1bd497(0x271)+_0x43dfc6[_0x1bd497(0x164)]+_0x1bd497(0x1be)),await this[_0x1bd497(0x24f)]('batch_sync',{'changes':_0x43dfc6});}};async function init(){const _0x564adb=a2_0x215d19;DataManager[_0x564adb(0x2a3)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x564adb(0x172)](_0x564adb(0x2ae))[_0x564adb(0x19c)](_0x564adb(0x261),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x564adb(0x24d)]()['then'](()=>{const _0x4aa20e=_0x564adb;showToast(_0x4aa20e(0x229),!![]);})[_0x564adb(0x20e)](_0x33e58f=>{const _0x411d67=_0x564adb;showToast(_0x411d67(0x1d6),![]);});}function generateId(){const _0x344c9f=a2_0x215d19;return Date[_0x344c9f(0x196)]()[_0x344c9f(0x25c)](0x24)+Math[_0x344c9f(0x24a)]()[_0x344c9f(0x25c)](0x24)[_0x344c9f(0x204)](0x2,0x5);}function toggleSeriesInput(){const _0x10fa04=a2_0x215d19,_0x13646e=document['getElementById']('inpRecurring')[_0x10fa04(0x1af)],_0x405bb6=document[_0x10fa04(0x172)](_0x10fa04(0x27d));_0x405bb6[_0x10fa04(0x29a)][_0x10fa04(0x262)]=_0x13646e?_0x10fa04(0x1ef):_0x10fa04(0x18b);const _0xd719b5=document[_0x10fa04(0x172)](_0x10fa04(0x1bb));_0xd719b5['style'][_0x10fa04(0x294)]=_0x13646e?_0x10fa04(0x1b0):_0x10fa04(0x1ac);}function openAddSession(_0x43459e){const _0x574aad=a2_0x215d19;editingId=null,populateClientSelect(),document[_0x574aad(0x172)]('sheetTitle')[_0x574aad(0x240)]=_0x574aad(0x280),document[_0x574aad(0x172)](_0x574aad(0x1c6))[_0x574aad(0x29a)][_0x574aad(0x262)]=_0x574aad(0x18b),document['getElementById'](_0x574aad(0x201))[_0x574aad(0x29a)][_0x574aad(0x262)]=_0x574aad(0x18b);const _0x493283=document[_0x574aad(0x172)]('recurringOptionContainer'),_0x2fd925=document['getElementById'](_0x574aad(0x27d));_0x493283[_0x574aad(0x29a)][_0x574aad(0x262)]=_0x574aad(0x19f),_0x493283[_0x574aad(0x29a)]['borderRadius']=_0x574aad(0x1ac),document[_0x574aad(0x172)]('inpRecurring')[_0x574aad(0x1af)]=![],document[_0x574aad(0x172)](_0x574aad(0x272))['value']=0x4,_0x2fd925[_0x574aad(0x29a)][_0x574aad(0x262)]=_0x574aad(0x18b),document[_0x574aad(0x172)]('inpDate')[_0x574aad(0x1c7)]=getLocalDateStr(_0x43459e),updateDateDisplay();const _0x493326=_0x43459e['getHours']();document[_0x574aad(0x172)]('inpStart')[_0x574aad(0x1c7)]=String(_0x493326)[_0x574aad(0x2c7)](0x2,'0')+_0x574aad(0x2bf),document['getElementById'](_0x574aad(0x256))[_0x574aad(0x1c7)]=String(_0x493326+0x1)[_0x574aad(0x2c7)](0x2,'0')+_0x574aad(0x2bf),openSheet(_0x574aad(0x1f6));}function openEdit(_0xf0e5c9){const _0x2833c0=a2_0x215d19;editingId=_0xf0e5c9['id'],populateClientSelect(),document[_0x2833c0(0x172)](_0x2833c0(0x238))['textContent']=_0x2833c0(0x253),document[_0x2833c0(0x172)](_0x2833c0(0x1c6))[_0x2833c0(0x29a)][_0x2833c0(0x262)]='block';const _0x12b97b=document[_0x2833c0(0x172)](_0x2833c0(0x201));_0x12b97b[_0x2833c0(0x29a)][_0x2833c0(0x262)]=_0x2833c0(0x19f);_0xf0e5c9['status']==='completed'?(_0x12b97b[_0x2833c0(0x21e)]=_0x2833c0(0x2ad),_0x12b97b[_0x2833c0(0x176)]=_0x2833c0(0x249)):(_0x12b97b[_0x2833c0(0x21e)]=_0x2833c0(0x264),_0x12b97b[_0x2833c0(0x176)]='<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É');const _0x2716d4=!!_0xf0e5c9[_0x2833c0(0x227)];document[_0x2833c0(0x172)](_0x2833c0(0x1bb))[_0x2833c0(0x29a)][_0x2833c0(0x262)]=_0x2833c0(0x18b),document['getElementById'](_0x2833c0(0x27d))[_0x2833c0(0x29a)][_0x2833c0(0x262)]='none',_0x2716d4?(document['getElementById'](_0x2833c0(0x158))[_0x2833c0(0x29a)][_0x2833c0(0x262)]=_0x2833c0(0x19f),document[_0x2833c0(0x172)]('patternInfoBox')[_0x2833c0(0x16e)](_0x2833c0(0x16a))['textContent']=_0x2833c0(0x15f)):document[_0x2833c0(0x172)](_0x2833c0(0x158))['style']['display']=_0x2833c0(0x18b),document[_0x2833c0(0x172)](_0x2833c0(0x1d9))[_0x2833c0(0x1c7)]=_0xf0e5c9[_0x2833c0(0x27c)],document[_0x2833c0(0x172)](_0x2833c0(0x192))[_0x2833c0(0x1c7)]=_0xf0e5c9[_0x2833c0(0x298)],document[_0x2833c0(0x172)](_0x2833c0(0x1de))[_0x2833c0(0x1c7)]=_0xf0e5c9[_0x2833c0(0x1b7)],document[_0x2833c0(0x172)](_0x2833c0(0x256))[_0x2833c0(0x1c7)]=_0xf0e5c9[_0x2833c0(0x1b5)],document[_0x2833c0(0x172)](_0x2833c0(0x1cd))[_0x2833c0(0x1c7)]=_0xf0e5c9[_0x2833c0(0x1e0)]||'',updateDateDisplay(),openSheet('sessionSheet');}async function trySaveSession(){const _0x2f04a1=a2_0x215d19,_0x19d5db=document[_0x2f04a1(0x172)](_0x2f04a1(0x1d9))[_0x2f04a1(0x1c7)],_0x5a1e24=document['getElementById']('inpDate')[_0x2f04a1(0x1c7)],_0xa2bf36=document[_0x2f04a1(0x172)]('inpStart')[_0x2f04a1(0x1c7)],_0xf612aa=document[_0x2f04a1(0x172)]('inpEnd')[_0x2f04a1(0x1c7)],_0x5d22e9=document[_0x2f04a1(0x172)](_0x2f04a1(0x1cd))['value'],_0x5086d0=document[_0x2f04a1(0x172)](_0x2f04a1(0x188))[_0x2f04a1(0x1af)];let _0x3b5f74=0x4;if(_0x5086d0){const _0x5b4deb=parseInt(document['getElementById'](_0x2f04a1(0x272))[_0x2f04a1(0x1c7)]);if(!_0x5b4deb||_0x5b4deb<0x2){showToast(_0x2f04a1(0x216),![]);return;}if(_0x5b4deb>0x64){showToast(_0x2f04a1(0x2b7),![]);return;}_0x3b5f74=_0x5b4deb;}const _0x52c5b9=clients[_0x2f04a1(0x1a9)](_0xf0d4cd=>_0xf0d4cd[_0x2f04a1(0x29e)]===_0x19d5db);if(!_0x52c5b9){showToast(_0x2f04a1(0x275),![]);return;}const _0xec85ce=validateAppointment(_0x5a1e24,_0xa2bf36,_0xf612aa,editingId,_0x52c5b9['id']);if(!_0xec85ce[_0x2f04a1(0x228)]){showToast(_0xec85ce['msg'],![]);return;}_0xec85ce['warning']&&showToast(_0xec85ce[_0x2f04a1(0x1a7)],![]);const _0x1243b2={'client':_0x19d5db,'clientId':_0x52c5b9['id'],'start':_0xa2bf36,'end':_0xf612aa,'note':_0x5d22e9,'status':_0x2f04a1(0x242)},_0x168e49=editingId?sessions['find'](_0x13b571=>_0x13b571['id']===editingId):null;if(_0x168e49&&_0x168e49[_0x2f04a1(0x227)]){tempSessionData={..._0x1243b2,'dateStr':_0x5a1e24,'id':editingId,'seriesId':_0x168e49[_0x2f04a1(0x227)]},openActionSheet(_0x2f04a1(0x1ed));return;}let _0x1a1783=null;if(!editingId)_0x1a1783='create';else{if(_0x168e49){if(String(_0x168e49[_0x2f04a1(0x28f)])!==String(_0x52c5b9['id']))console[_0x2f04a1(0x1fa)]('[Notify]\x20Client\x20SWAP\x20detected'),NotificationManager[_0x2f04a1(0x25f)](_0x2f04a1(0x2cb),_0x168e49),_0x1a1783=_0x2f04a1(0x1b2);else(_0x168e49['start']!==_0xa2bf36||_0x168e49[_0x2f04a1(0x1b5)]!==_0xf612aa||_0x168e49['dateStr']!==_0x5a1e24)&&(_0x1a1783=_0x2f04a1(0x15d));}}if(!editingId&&_0x5086d0){createBatchSeries(_0x1243b2,_0x5a1e24,_0x3b5f74),NotificationManager[_0x2f04a1(0x25f)](_0x2f04a1(0x1b2),{..._0x1243b2,'dateStr':_0x5a1e24});return;}lastUserActionTime=Date[_0x2f04a1(0x196)]();const _0x1a83c8={..._0x1243b2,'dateStr':_0x5a1e24,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x1a83c8),_0x1a1783&&NotificationManager[_0x2f04a1(0x25f)](_0x1a1783,_0x1a83c8);}function toggleSessionStatus(){const _0x12c431=a2_0x215d19;lastUserActionTime=Date['now']();const _0x35eed7=sessions[_0x12c431(0x1a9)](_0x13d8f7=>_0x13d8f7['id']===editingId);if(!_0x35eed7)return;const _0x2f7d34=_0x35eed7['status']==='completed'?'planned':_0x12c431(0x212);_0x35eed7[_0x12c431(0x18d)]=_0x2f7d34,saveSingleSession(_0x35eed7),_0x2f7d34===_0x12c431(0x212)&&NotificationManager[_0x12c431(0x25f)](_0x12c431(0x2cd),_0x35eed7),showToast(_0x2f7d34==='completed'?_0x12c431(0x2b6):_0x12c431(0x165),!![]);}function validateAppointment(_0x4cc630,_0x86b74b,_0x1fd098,_0x48bab9,_0xe1f323){const _0x488d44=a2_0x215d19,[_0x2a19ce,_0x1128fc]=_0x86b74b['split'](':')[_0x488d44(0x157)](Number),[_0x5a6f8c,_0x221c14]=_0x1fd098['split'](':')[_0x488d44(0x157)](Number),_0x3a19af=_0x2a19ce*0x3c+_0x1128fc,_0x4d075b=_0x5a6f8c*0x3c+_0x221c14,_0x10a3e2=String(_0xe1f323);let _0xaa315=![],_0xbd4414='';for(let _0x4e2d60 of sessions){if(_0x4e2d60[_0x488d44(0x298)]!==_0x4cc630)continue;if(_0x4e2d60['status']==='cancelled')continue;if(_0x48bab9&&String(_0x4e2d60['id'])===String(_0x48bab9))continue;const [_0x10a9d6,_0x2d8d04]=_0x4e2d60[_0x488d44(0x1b7)][_0x488d44(0x290)](':')[_0x488d44(0x157)](Number),[_0x48c124,_0x1f6a9f]=_0x4e2d60[_0x488d44(0x1b5)][_0x488d44(0x290)](':')[_0x488d44(0x157)](Number),_0x10dbea=_0x10a9d6*0x3c+_0x2d8d04,_0xb5294b=_0x48c124*0x3c+_0x1f6a9f;if(Math['max'](_0x3a19af,_0x10dbea)<Math[_0x488d44(0x231)](_0x4d075b,_0xb5294b)){if(_0x4e2d60[_0x488d44(0x28f)]&&String(_0x4e2d60['clientId'])===_0x10a3e2)return{'valid':![],'msg':_0x488d44(0x257)+_0x4e2d60[_0x488d44(0x27c)]+_0x488d44(0x2c5)};_0xaa315=!![],_0xbd4414=_0x4e2d60[_0x488d44(0x27c)];}}if(_0xaa315)return{'valid':!![],'warning':'–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20'+_0xbd4414};return{'valid':!![]};}function saveSingleSession(_0x4a3ed2){const _0x240719=a2_0x215d19;if(editingId){const _0x689865=sessions[_0x240719(0x1a0)](_0x428ef4=>_0x428ef4['id']===editingId);if(_0x689865!==-0x1)sessions[_0x689865]=_0x4a3ed2;}else sessions[_0x240719(0x226)](_0x4a3ed2);afterSaveAction([_0x4a3ed2[_0x240719(0x298)]]);}function createBatchSeries(_0xf1fca4,_0x3af163,_0x391c15){const _0x7c2f1c=a2_0x215d19,_0x30ff7a=generateId(),_0x2c4937=[],_0xa2c0f=[];let _0x25c8ae=0x0,_0xb1aa1d=new Date(_0x3af163);for(let _0x43ddab=0x0;_0x43ddab<_0x391c15;_0x43ddab++){const _0x2b750c=getLocalDateStr(_0xb1aa1d),_0x3e5245=validateAppointment(_0x2b750c,_0xf1fca4[_0x7c2f1c(0x1b7)],_0xf1fca4[_0x7c2f1c(0x1b5)],null,_0xf1fca4[_0x7c2f1c(0x28f)]);if(!_0x3e5245[_0x7c2f1c(0x228)])console['log']('[Series]\x20Skipped\x20'+_0x2b750c+_0x7c2f1c(0x181)),_0x25c8ae++;else{const _0x5bca44={..._0xf1fca4,'id':generateId(),'dateStr':_0x2b750c,'seriesId':_0x30ff7a};_0xa2c0f[_0x7c2f1c(0x226)](_0x5bca44),_0x2c4937[_0x7c2f1c(0x226)](_0x2b750c);}_0xb1aa1d['setDate'](_0xb1aa1d['getDate']()+0x7);}if(_0xa2c0f[_0x7c2f1c(0x164)]===0x0){showToast(_0x7c2f1c(0x19d),![]);return;}sessions['push'](..._0xa2c0f),lastUserActionTime=Date[_0x7c2f1c(0x196)]();let _0x13d81e='–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20'+_0xa2c0f[_0x7c2f1c(0x164)];_0x25c8ae>0x0&&(_0x13d81e+=_0x7c2f1c(0x1c9)+_0x25c8ae+')'),showToast(_0x13d81e,!![]),afterSaveAction(_0x2c4937);}function updateSeriesBatch(_0x252854,_0x4a6f45){const _0x2063b0=a2_0x215d19,_0x37f85b=[],_0x3948c7=_0x4a6f45['seriesId'];if(_0x252854===_0x2063b0(0x202)){const _0x646a87={..._0x4a6f45,'seriesId':null},_0x10ac60=sessions['findIndex'](_0x31d634=>_0x31d634['id']===_0x4a6f45['id']);if(_0x10ac60!==-0x1)sessions[_0x10ac60]=_0x646a87;_0x37f85b[_0x2063b0(0x226)](_0x646a87[_0x2063b0(0x298)]);}else{if(_0x252854===_0x2063b0(0x211)){const _0x16d4c6=_0x4a6f45['dateStr'];sessions[_0x2063b0(0x17a)]((_0x4bdb21,_0x4b31cb)=>{const _0x34d76c=_0x2063b0;_0x4bdb21[_0x34d76c(0x227)]===_0x3948c7&&_0x4bdb21[_0x34d76c(0x298)]>=_0x16d4c6&&(sessions[_0x4b31cb]={...sessions[_0x4b31cb],'start':_0x4a6f45[_0x34d76c(0x1b7)],'end':_0x4a6f45[_0x34d76c(0x1b5)],'note':_0x4a6f45[_0x34d76c(0x1e0)],'client':_0x4a6f45['client'],'clientId':_0x4a6f45[_0x34d76c(0x28f)]},_0x37f85b['push'](_0x4bdb21['dateStr']));});}}afterSaveAction(_0x37f85b);}function tryDeleteSession(){const _0x378db7=a2_0x215d19,_0xd6f6c3=sessions[_0x378db7(0x1a9)](_0x4f85e3=>_0x4f85e3['id']===editingId);if(!_0xd6f6c3)return;_0xd6f6c3[_0x378db7(0x227)]?openActionSheet(_0x378db7(0x220)):commitDelete(_0x378db7(0x202),_0xd6f6c3);}function commitDelete(_0xd5acc7,_0x2466d0){const _0x3e448c=a2_0x215d19;lastUserActionTime=Date['now'](),NotificationManager[_0x3e448c(0x25f)]('cancel',_0x2466d0);const _0x2aaa84=[];if(_0xd5acc7===_0x3e448c(0x202))sessions=sessions[_0x3e448c(0x291)](_0x463a9b=>_0x463a9b['id']!==_0x2466d0['id']),_0x2aaa84['push'](_0x2466d0['dateStr']);else{if(_0xd5acc7==='series'){const _0x53d456=_0x2466d0[_0x3e448c(0x298)],_0xbf5bd6=_0x2466d0['seriesId'];sessions[_0x3e448c(0x17a)](_0x8b0767=>{const _0x346f0d=_0x3e448c;_0x8b0767['seriesId']===_0xbf5bd6&&_0x8b0767[_0x346f0d(0x298)]>=_0x53d456&&_0x2aaa84[_0x346f0d(0x226)](_0x8b0767['dateStr']);}),sessions=sessions[_0x3e448c(0x291)](_0x44ca57=>!(_0x44ca57[_0x3e448c(0x227)]===_0xbf5bd6&&_0x44ca57[_0x3e448c(0x298)]>=_0x53d456));}}afterSaveAction(_0x2aaa84);}function afterSaveAction(_0xf97149){const _0x3ed4f8=a2_0x215d19;DataManager[_0x3ed4f8(0x1ab)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x3ed4f8(0x20c)](_0xf97149)[_0x3ed4f8(0x1d8)](()=>console[_0x3ed4f8(0x1fa)]('Batch\x20Sync\x20OK'))[_0x3ed4f8(0x20e)](_0x34c859=>showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ',![]));}const NotificationManager={'formatDate'(_0x156518){const _0x292371=a2_0x215d19,_0x14895c=new Date(_0x156518),_0x571b61={'weekday':_0x292371(0x2aa),'day':_0x292371(0x20b),'month':_0x292371(0x2aa)};let _0x36650f=_0x14895c['toLocaleDateString']('ru-RU',_0x571b61);return _0x36650f[_0x292371(0x23e)](0x0)[_0x292371(0x1aa)]()+_0x36650f['slice'](0x1);},'getText'(_0x291bde,_0x279e2d){const _0x47444e=a2_0x215d19,_0x21a440=this[_0x47444e(0x22a)](_0x279e2d[_0x47444e(0x298)]);switch(_0x291bde){case _0x47444e(0x1b2):return _0x47444e(0x21b)+(_0x47444e(0x1c4)+_0x21a440+'\x0a')+(_0x47444e(0x23c)+_0x279e2d[_0x47444e(0x1b7)]+_0x47444e(0x1fb)+_0x279e2d[_0x47444e(0x1b5)]+'\x0a\x0a')+_0x47444e(0x273);case'update':return _0x47444e(0x2b0)+_0x47444e(0x17c)+('<b>‚úÖ\x20'+_0x279e2d[_0x47444e(0x1b7)]+_0x47444e(0x1fb)+_0x279e2d['end']+'</b>\x0a\x0a')+(_0x47444e(0x1c4)+_0x21a440);case _0x47444e(0x2cb):return _0x47444e(0x149)+(_0x47444e(0x2a4)+_0x21a440+'\x20('+_0x279e2d[_0x47444e(0x1b7)]+_0x47444e(0x161));case _0x47444e(0x2cd):return'<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a'+_0x47444e(0x23b)+'<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>';default:return'';}},async 'send'(_0x5c147d,_0x4d0731){const _0xdf26e5=a2_0x215d19;console[_0xdf26e5(0x1fa)]('[Notify]\x20Attempting\x20to\x20send:',_0x5c147d,_0x4d0731);if(!_0x4d0731){console[_0xdf26e5(0x194)](_0xdf26e5(0x289));return;}const _0x13122d=String(_0x4d0731[_0xdf26e5(0x28f)]);console[_0xdf26e5(0x1fa)](_0xdf26e5(0x2c3),_0x13122d);if(!_0x4d0731['clientId']||_0x13122d===_0xdf26e5(0x219)||_0x13122d===_0xdf26e5(0x18a)){console[_0xdf26e5(0x194)](_0xdf26e5(0x1e6));if(_0x4d0731['client']){const _0x803fe6=clients[_0xdf26e5(0x1a9)](_0x25e9da=>_0x25e9da[_0xdf26e5(0x29e)]===_0x4d0731['client']);if(_0x803fe6)return console[_0xdf26e5(0x1fa)](_0xdf26e5(0x1bd),_0x803fe6['id']),this[_0xdf26e5(0x25f)](_0x5c147d,{..._0x4d0731,'clientId':_0x803fe6['id']});}return;}if(_0x13122d[_0xdf26e5(0x164)]<0x5){console[_0xdf26e5(0x270)]('[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)',_0x13122d);return;}const _0x537059=this[_0xdf26e5(0x1e9)](_0x5c147d,_0x4d0731);if(!_0x537059){console[_0xdf26e5(0x194)](_0xdf26e5(0x276));return;}console[_0xdf26e5(0x1fa)]('[Notify]\x20Sending\x20to\x20GAS\x20for\x20'+_0x13122d+_0xdf26e5(0x17b)),DataManager[_0xdf26e5(0x24f)]('send_notification',{'chatId':_0x13122d,'text':_0x537059})['then'](_0x5d35f6=>console[_0xdf26e5(0x1fa)](_0xdf26e5(0x24c),_0x5d35f6))['catch'](_0x44849d=>console['error'](_0xdf26e5(0x18e),_0x44849d));}};function getLocalDateStr(_0x1656a0){const _0x3eca35=a2_0x215d19,_0x4a2309=_0x1656a0[_0x3eca35(0x16f)](),_0x3c11f0=String(_0x1656a0[_0x3eca35(0x2bb)]()+0x1)[_0x3eca35(0x2c7)](0x2,'0'),_0x5aa400=String(_0x1656a0['getDate']())['padStart'](0x2,'0');return _0x4a2309+'-'+_0x3c11f0+'-'+_0x5aa400;}function getDateStr(_0x70899){const _0x1b1d89=a2_0x215d19,_0x3189f9=new Date();return _0x3189f9[_0x1b1d89(0x2a1)](_0x3189f9[_0x1b1d89(0x1e3)]()+_0x70899),getLocalDateStr(_0x3189f9);}function getStartOfWeek(_0xeada04){const _0x49299b=a2_0x215d19,_0x1d242e=(function(){let _0x173276=!![];return function(_0x3befa9,_0x3c5c3f){const _0x43f172=_0x173276?function(){if(_0x3c5c3f){const _0x29d4db=_0x3c5c3f['apply'](_0x3befa9,arguments);return _0x3c5c3f=null,_0x29d4db;}}:function(){};return _0x173276=![],_0x43f172;};}()),_0x2c7343=_0x1d242e(this,function(){const _0x23ab71=a2_0x4e41;return _0x2c7343['toString']()[_0x23ab71(0x215)](_0x23ab71(0x266))[_0x23ab71(0x25c)]()['constructor'](_0x2c7343)['search'](_0x23ab71(0x266));});_0x2c7343();const _0x9214a7=new Date(_0xeada04),_0x1fc400=_0x9214a7[_0x49299b(0x24e)](),_0x5542b4=_0x9214a7[_0x49299b(0x1e3)]()-_0x1fc400+(_0x1fc400===0x0?-0x6:0x1);return _0x9214a7[_0x49299b(0x2a1)](_0x5542b4),_0x9214a7[_0x49299b(0x169)](0x0,0x0,0x0,0x0),_0x9214a7;}function hexToRgba(_0xe890d0,_0x14d6fe){const _0x2d8b31=a2_0x215d19;if(!_0xe890d0)return _0x2d8b31(0x20f);let _0x1fb786=0x0,_0x15204a=0x0,_0x9cdfdb=0x0;if(_0xe890d0[_0x2d8b31(0x164)]===0x4)_0x1fb786='0x'+_0xe890d0[0x1]+_0xe890d0[0x1],_0x15204a='0x'+_0xe890d0[0x2]+_0xe890d0[0x2],_0x9cdfdb='0x'+_0xe890d0[0x3]+_0xe890d0[0x3];else _0xe890d0[_0x2d8b31(0x164)]===0x7&&(_0x1fb786='0x'+_0xe890d0[0x1]+_0xe890d0[0x2],_0x15204a='0x'+_0xe890d0[0x3]+_0xe890d0[0x4],_0x9cdfdb='0x'+_0xe890d0[0x5]+_0xe890d0[0x6]);return _0x2d8b31(0x14a)+ +_0x1fb786+',\x20'+ +_0x15204a+',\x20'+ +_0x9cdfdb+',\x20'+_0x14d6fe+')';}function renderTimeColumn(){const _0x4e68da=a2_0x215d19,_0x37dd01=document[_0x4e68da(0x172)]('timeColumn'),_0x14feb3=document['getElementById'](_0x4e68da(0x269));_0x37dd01[_0x4e68da(0x176)]='',_0x37dd01['appendChild'](_0x14feb3);for(let _0x54a9e4=0x0;_0x54a9e4<0x18;_0x54a9e4++){const _0x5aeb2f=document[_0x4e68da(0x177)]('div');_0x5aeb2f['className']=_0x4e68da(0x2c1);if(_0x54a9e4>0x0)_0x5aeb2f[_0x4e68da(0x176)]=_0x4e68da(0x223)+String(_0x54a9e4)[_0x4e68da(0x2c7)](0x2,'0')+_0x4e68da(0x18f);_0x37dd01['appendChild'](_0x5aeb2f);}}function renderDayRange(_0x267a00,_0x3e5b25){const _0x5914ab=a2_0x215d19,_0xf01b4d=document[_0x5914ab(0x172)](_0x5914ab(0x20d)),_0x28146a=document[_0x5914ab(0x172)]('gridColumns'),_0x6ed2dd=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x4be1d5=new Date();_0x4be1d5['setHours'](0x0,0x0,0x0,0x0);const _0x747ff6=getLocalDateStr(new Date());for(let _0x111800=_0x267a00;_0x111800<=_0x3e5b25;_0x111800++){const _0x3e3d50=new Date(_0x4be1d5);_0x3e3d50[_0x5914ab(0x2a1)](_0x3e3d50[_0x5914ab(0x1e3)]()+_0x111800);const _0x318051=getLocalDateStr(_0x3e3d50);let _0x1cdd58=_0x3e3d50[_0x5914ab(0x24e)]()-0x1;if(_0x1cdd58===-0x1)_0x1cdd58=0x6;const _0x1993e5=_0x318051===_0x747ff6,_0x5a0bfa=document[_0x5914ab(0x177)]('div');_0x5a0bfa[_0x5914ab(0x21e)]=_0x5914ab(0x197)+(_0x1993e5?_0x5914ab(0x1c1):''),_0x5a0bfa['id']='header-'+_0x318051,_0x5a0bfa[_0x5914ab(0x25b)]('data-date',_0x318051),_0x5a0bfa[_0x5914ab(0x176)]=_0x5914ab(0x208)+_0x6ed2dd[_0x1cdd58]+_0x5914ab(0x178)+_0x3e3d50[_0x5914ab(0x1e3)]()+_0x5914ab(0x1b1)+_0x318051+_0x5914ab(0x19e),_0x5a0bfa[_0x5914ab(0x254)]=()=>openDayOptions(_0x318051,_0x6ed2dd[_0x1cdd58]+'\x20'+_0x3e3d50['getDate']()),_0xf01b4d[_0x5914ab(0x195)](_0x5a0bfa);const _0x4f2123=document[_0x5914ab(0x177)](_0x5914ab(0x17e));_0x4f2123[_0x5914ab(0x21e)]=_0x5914ab(0x288)+(_0x1993e5?'today':''),_0x4f2123[_0x5914ab(0x25b)](_0x5914ab(0x1e4),_0x318051),_0x4f2123[_0x5914ab(0x25b)](_0x5914ab(0x247),_0x1cdd58),renderEventsForColumn(_0x4f2123,_0x318051,_0x1cdd58),attachLongPressHandler(_0x4f2123,_0x3e3d50),_0x28146a[_0x5914ab(0x195)](_0x4f2123),updateDayStats(_0x318051);}}function reRenderBlocks(){const _0x41e21b=a2_0x215d19;document['querySelectorAll'](_0x41e21b(0x2b3))[_0x41e21b(0x17a)](_0x1872a5=>{const _0x3c6582=_0x41e21b;_0x1872a5['querySelectorAll'](_0x3c6582(0x23f))[_0x3c6582(0x17a)](_0x2ede4c=>_0x2ede4c[_0x3c6582(0x239)]());const _0x57ec9d=_0x1872a5[_0x3c6582(0x293)](_0x3c6582(0x1e4)),_0x3348fb=parseInt(_0x1872a5[_0x3c6582(0x293)](_0x3c6582(0x247))),_0x2f16d8=Math[_0x3c6582(0x155)](_0x1872a5[_0x3c6582(0x217)]);(availabilityPattern[_0x3348fb]||[])[_0x3c6582(0x17a)](_0x598d41=>{const _0x4f19e2=_0x3c6582,_0x2297e4=document[_0x4f19e2(0x177)](_0x4f19e2(0x17e));_0x2297e4[_0x4f19e2(0x21e)]='blocked-slot\x20stripe-bg';const _0x850c19=_0x598d41*GRID_H;_0x2297e4[_0x4f19e2(0x29a)]['top']=_0x850c19+'px',_0x2297e4[_0x4f19e2(0x29a)][_0x4f19e2(0x241)]='-'+_0x2f16d8+_0x4f19e2(0x159)+_0x850c19+'px',_0x1872a5[_0x4f19e2(0x195)](_0x2297e4);});if(specialRanges&&specialRanges['length']>0x0){const _0x4c2514=new Date(_0x57ec9d+_0x3c6582(0x1f7))['getTime'](),_0x34091e=new Date(_0x57ec9d+_0x3c6582(0x1a3))[_0x3c6582(0x187)]();specialRanges[_0x3c6582(0x17a)](_0x2953bd=>{const _0x215388=_0x3c6582,_0x2eb7e8=new Date(_0x2953bd[_0x215388(0x1b7)])[_0x215388(0x187)](),_0xe3e8f7=new Date(_0x2953bd[_0x215388(0x1b5)])[_0x215388(0x187)](),_0x393a86=Math['max'](_0x4c2514,_0x2eb7e8),_0x2566f8=Math[_0x215388(0x231)](_0x34091e,_0xe3e8f7);if(_0x393a86<_0x2566f8){if(_0x393a86<=_0x4c2514&&_0x2566f8>=_0x34091e-0xea60){if(!_0x1872a5[_0x215388(0x16e)](_0x215388(0x1a4))){const _0xedfc9c=document[_0x215388(0x177)](_0x215388(0x17e));_0xedfc9c['className']=_0x215388(0x1a6),_0xedfc9c['style'][_0x215388(0x241)]='-'+_0x2f16d8+_0x215388(0x1e2),_0x1872a5['appendChild'](_0xedfc9c);}}else{const _0x1b65bd=(_0x393a86-_0x4c2514)/0x36ee80*GRID_H,_0x5aadff=(_0x2566f8-_0x393a86)/0x36ee80*GRID_H,_0x2cee65=document['createElement'](_0x215388(0x17e));_0x2cee65['className']=_0x215388(0x244),_0x2cee65['style'][_0x215388(0x221)]=_0x1b65bd+'px',_0x2cee65[_0x215388(0x29a)][_0x215388(0x1ff)]=_0x5aadff+'px',_0x2cee65[_0x215388(0x29a)][_0x215388(0x241)]='-'+_0x2f16d8+'px\x20-'+_0x1b65bd+'px',_0x1872a5['appendChild'](_0x2cee65);}}});}if(dateExceptions[_0x57ec9d]===_0x3c6582(0x2ab)){if(!_0x1872a5['querySelector'](_0x3c6582(0x1a4))){const _0x92d18a=document[_0x3c6582(0x177)]('div');_0x92d18a[_0x3c6582(0x21e)]=_0x3c6582(0x1a6),_0x92d18a['style'][_0x3c6582(0x241)]='-'+_0x2f16d8+_0x3c6582(0x1e2),_0x1872a5[_0x3c6582(0x195)](_0x92d18a);}}renderEventsForColumn(_0x1872a5,_0x57ec9d,_0x3348fb),updateDayStats(_0x57ec9d);});}function updateAllDayStats(){const _0x44046a=a2_0x215d19;document[_0x44046a(0x166)]('.day-col-header')[_0x44046a(0x17a)](_0x49a6d6=>{const _0x42d00f=_0x44046a;updateDayStats(_0x49a6d6['getAttribute'](_0x42d00f(0x1e4)));});}function updateDayStats(_0xfc266b){const _0x4fae9a=a2_0x215d19,_0xb6fade=document['getElementById'](_0x4fae9a(0x1fd)+_0xfc266b);if(!_0xb6fade)return;const _0x1a7fd1=new Date(_0xfc266b);let _0xc75d09=_0x1a7fd1[_0x4fae9a(0x24e)]()-0x1;if(_0xc75d09===-0x1)_0xc75d09=0x6;if(dateExceptions[_0xfc266b]==='off'){_0xb6fade[_0x4fae9a(0x29a)][_0x4fae9a(0x262)]=_0x4fae9a(0x18b);return;}const _0x29ec6d=availabilityPattern[_0xc75d09]||[],_0x13794f=0x18-_0x29ec6d[_0x4fae9a(0x164)],_0x2fe4a6=_0x13794f*0x3c,_0x5a51f2=sessions[_0x4fae9a(0x291)](_0x22279e=>_0x22279e[_0x4fae9a(0x298)]===_0xfc266b&&_0x22279e[_0x4fae9a(0x18d)]!==_0x4fae9a(0x296));if(_0x5a51f2[_0x4fae9a(0x164)]===0x0){_0xb6fade[_0x4fae9a(0x29a)][_0x4fae9a(0x262)]='none';return;}let _0x1cc9d9=_0x5a51f2[_0x4fae9a(0x157)](_0x2844e2=>{const _0x29ce08=_0x4fae9a,[_0x2243ee,_0x93c967]=_0x2844e2['start'][_0x29ce08(0x290)](':')[_0x29ce08(0x157)](Number),[_0x4493c9,_0x505d0e]=_0x2844e2[_0x29ce08(0x1b5)][_0x29ce08(0x290)](':')['map'](Number);return[_0x2243ee*0x3c+_0x93c967,_0x4493c9*0x3c+_0x505d0e];});_0x1cc9d9[_0x4fae9a(0x26e)]((_0x712967,_0x284c11)=>_0x712967[0x0]-_0x284c11[0x0]);let _0x189868=[];if(_0x1cc9d9[_0x4fae9a(0x164)]>0x0){let _0x1decbf=_0x1cc9d9[0x0];for(let _0x423e9d=0x1;_0x423e9d<_0x1cc9d9[_0x4fae9a(0x164)];_0x423e9d++){_0x1cc9d9[_0x423e9d][0x0]<_0x1decbf[0x1]?_0x1decbf[0x1]=Math['max'](_0x1decbf[0x1],_0x1cc9d9[_0x423e9d][0x1]):(_0x189868['push'](_0x1decbf),_0x1decbf=_0x1cc9d9[_0x423e9d]);}_0x189868['push'](_0x1decbf);}let _0x5318c8=0x0;_0x189868[_0x4fae9a(0x17a)](_0x1cc721=>_0x5318c8+=_0x1cc721[0x1]-_0x1cc721[0x0]),_0xb6fade['style'][_0x4fae9a(0x262)]=_0x4fae9a(0x19f);const _0x25f826=_0xb6fade['querySelector'](_0x4fae9a(0x1d0));if(_0x2fe4a6===0x0){_0x25f826[_0x4fae9a(0x29a)][_0x4fae9a(0x243)]=_0x4fae9a(0x29f),_0x25f826[_0x4fae9a(0x29a)][_0x4fae9a(0x299)]='var(--acc-red)';return;}const _0x2555dd=_0x5318c8/_0x2fe4a6*0x64;console[_0x4fae9a(0x1fa)]('['+_0xfc266b+']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20'+_0x13794f+_0x4fae9a(0x19b)+_0x5318c8+_0x4fae9a(0x199)+_0x2555dd['toFixed'](0x1)+'%'),_0x2555dd>0x64?(_0x25f826[_0x4fae9a(0x29a)][_0x4fae9a(0x243)]=_0x4fae9a(0x29f),_0x25f826[_0x4fae9a(0x29a)]['background']=_0x4fae9a(0x15b)):(_0x25f826[_0x4fae9a(0x29a)][_0x4fae9a(0x243)]=_0x2555dd+'%',_0x25f826[_0x4fae9a(0x29a)][_0x4fae9a(0x299)]=_0x4fae9a(0x14f));}function renderEventsForColumn(_0x4bab7f,_0x3ca419,_0x5b8d5d){const _0x54716f=a2_0x215d19,_0x22188b=sessions[_0x54716f(0x291)](_0x300361=>_0x300361[_0x54716f(0x298)]===_0x3ca419),_0x321411=_0x22188b[_0x54716f(0x157)](_0xdfa70d=>{const _0x23dab8=_0x54716f,[_0x5a076c,_0x321325]=_0xdfa70d[_0x23dab8(0x1b7)][_0x23dab8(0x290)](':')[_0x23dab8(0x157)](Number),[_0x405d4e,_0x463cfe]=_0xdfa70d[_0x23dab8(0x1b5)][_0x23dab8(0x290)](':')[_0x23dab8(0x157)](Number);return{'data':_0xdfa70d,'start':_0x5a076c*0x3c+_0x321325,'end':_0x405d4e*0x3c+_0x463cfe,'colIndex':0x0};});_0x321411[_0x54716f(0x26e)]((_0x478dbc,_0x19494f)=>{const _0x3866a2=_0x54716f;if(_0x478dbc[_0x3866a2(0x1b7)]!==_0x19494f[_0x3866a2(0x1b7)])return _0x478dbc['start']-_0x19494f[_0x3866a2(0x1b7)];return _0x19494f['end']-_0x19494f[_0x3866a2(0x1b7)]-(_0x478dbc[_0x3866a2(0x1b5)]-_0x478dbc[_0x3866a2(0x1b7)]);});const _0x1eb7bc=[];_0x321411[_0x54716f(0x17a)](_0x1358e8=>{const _0x3ee18a=_0x54716f;let _0x5eaf7e=![];for(let _0x4a5c9c=0x0;_0x4a5c9c<_0x1eb7bc[_0x3ee18a(0x164)];_0x4a5c9c++){const _0xd248d4=_0x1eb7bc[_0x4a5c9c],_0x5af073=_0xd248d4[_0xd248d4[_0x3ee18a(0x164)]-0x1];if(_0x1358e8['start']>=_0x5af073[_0x3ee18a(0x1b5)]){_0xd248d4[_0x3ee18a(0x226)](_0x1358e8),_0x1358e8[_0x3ee18a(0x22c)]=_0x4a5c9c,_0x5eaf7e=!![];break;}}!_0x5eaf7e&&(_0x1eb7bc[_0x3ee18a(0x226)]([_0x1358e8]),_0x1358e8['colIndex']=_0x1eb7bc[_0x3ee18a(0x164)]-0x1);}),_0x321411[_0x54716f(0x17a)](_0x1a2b0c=>{const _0x5cf456=_0x54716f;let _0x2650f4=0x0;_0x321411['forEach'](_0x55becc=>{const _0x274e2e=a2_0x4e41;if(Math[_0x274e2e(0x1ec)](_0x1a2b0c[_0x274e2e(0x1b7)],_0x55becc[_0x274e2e(0x1b7)])<Math[_0x274e2e(0x231)](_0x1a2b0c[_0x274e2e(0x1b5)],_0x55becc[_0x274e2e(0x1b5)])){if(_0x55becc[_0x274e2e(0x22c)]>_0x2650f4)_0x2650f4=_0x55becc[_0x274e2e(0x22c)];}});const _0x1ae638=_0x2650f4+0x1,_0x1996b1=0x64/_0x1ae638,_0xd87f29=_0x1a2b0c[_0x5cf456(0x22c)]*_0x1996b1,_0x3e1f9d=createEventEl(_0x1a2b0c[_0x5cf456(0x1a2)]);_0x3e1f9d[_0x5cf456(0x29a)][_0x5cf456(0x243)]='calc('+_0x1996b1+'%\x20-\x204px)',_0x3e1f9d[_0x5cf456(0x29a)][_0x5cf456(0x185)]='calc('+_0xd87f29+'%\x20+\x202px)',_0x3e1f9d['style'][_0x5cf456(0x1b8)]=0xa+_0x1a2b0c[_0x5cf456(0x22c)],_0x1996b1<0x55&&_0x3e1f9d[_0x5cf456(0x2ac)][_0x5cf456(0x160)]('mini'),_0x4bab7f[_0x5cf456(0x195)](_0x3e1f9d);});}function createEventEl(_0x2cf1db){const _0x2e1e53=a2_0x215d19,[_0x4e6623,_0x1c12fc]=_0x2cf1db[_0x2e1e53(0x1b7)][_0x2e1e53(0x290)](':')[_0x2e1e53(0x157)](Number),[_0x417a59,_0x2e7ae8]=_0x2cf1db[_0x2e1e53(0x1b5)][_0x2e1e53(0x290)](':')[_0x2e1e53(0x157)](Number),_0x99bf84=(_0x4e6623*0x3c+_0x1c12fc)/0x3c*GRID_H,_0x359e12=(_0x417a59*0x3c+_0x2e7ae8-(_0x4e6623*0x3c+_0x1c12fc))/0x3c*GRID_H,_0x376038=document['createElement'](_0x2e1e53(0x17e)),_0x5e1b1d=_0x2cf1db[_0x2e1e53(0x18d)]===_0x2e1e53(0x212)?_0x2e1e53(0x17d):'';_0x376038[_0x2e1e53(0x21e)]=_0x2e1e53(0x1d2)+_0x5e1b1d,_0x376038['style']['top']=_0x99bf84+'px',_0x376038[_0x2e1e53(0x29a)]['height']=Math[_0x2e1e53(0x1ec)](_0x359e12,0x14)+'px';const _0x5b13b3=clients['find'](_0xa323bd=>_0x2cf1db[_0x2e1e53(0x28f)]&&String(_0xa323bd['id'])===String(_0x2cf1db[_0x2e1e53(0x28f)])||_0xa323bd[_0x2e1e53(0x29e)]===_0x2cf1db[_0x2e1e53(0x27c)]),_0x1fa6e6=_0x5b13b3?_0x5b13b3['color']:_0x2e1e53(0x277);_0x376038[_0x2e1e53(0x29a)][_0x2e1e53(0x2b8)]=_0x1fa6e6,_0x376038['style'][_0x2e1e53(0x1f0)]=hexToRgba(_0x1fa6e6,0.85);let _0x15581a='<div\x20class=\x22ev-title\x22>'+_0x2cf1db['client']+_0x2e1e53(0x237)+_0x2cf1db[_0x2e1e53(0x1b7)]+_0x2e1e53(0x1c0)+_0x2cf1db[_0x2e1e53(0x1b5)]+_0x2e1e53(0x175);return _0x2cf1db[_0x2e1e53(0x227)]&&(_0x15581a+=_0x2e1e53(0x200)),_0x2cf1db[_0x2e1e53(0x18d)]===_0x2e1e53(0x212)&&(_0x15581a+=_0x2e1e53(0x28c)),_0x376038['innerHTML']=_0x15581a,_0x376038[_0x2e1e53(0x254)]=_0x408834=>{const _0x4cbbbb=_0x2e1e53;_0x408834[_0x4cbbbb(0x14c)](),openEdit(_0x2cf1db);},_0x376038;}function attachLongPressHandler(_0x48c8d9,_0x36065e){const _0x1b3589=a2_0x215d19;let _0x4c93f5=0x0,_0x20c05b=null;const _0x3e685d=_0x2ae265=>{const _0x9aa3c2=a2_0x4e41;if(_0x2ae265[_0x9aa3c2(0x14d)][_0x9aa3c2(0x285)]('.event-card'))return;isScrolling=![],_0x4c93f5=_0x2ae265[_0x9aa3c2(0x1fe)]?_0x2ae265['touches'][0x0]['clientY']:_0x2ae265['clientY'],_0x20c05b=setTimeout(()=>{const _0x37a043=_0x9aa3c2;if(!isScrolling){navigator['vibrate']?.(0x32);const _0x1049af=_0x48c8d9[_0x37a043(0x274)](),_0x406f71=Math[_0x37a043(0x287)]((_0x4c93f5-_0x1049af[_0x37a043(0x221)])/GRID_H);_0x36065e[_0x37a043(0x169)](_0x406f71,0x0),openAddSession(_0x36065e);}},0x1f4);},_0x52eb08=()=>{isScrolling=!![],clearTimeout(_0x20c05b);},_0x4c3001=()=>{clearTimeout(_0x20c05b);};_0x48c8d9[_0x1b3589(0x19c)](_0x1b3589(0x2c9),_0x3e685d,{'passive':!![]}),_0x48c8d9[_0x1b3589(0x19c)](_0x1b3589(0x233),_0x52eb08,{'passive':!![]}),_0x48c8d9[_0x1b3589(0x19c)](_0x1b3589(0x1ce),_0x4c3001),_0x48c8d9[_0x1b3589(0x19c)](_0x1b3589(0x170),_0x3e685d),_0x48c8d9['addEventListener']('mousemove',_0x52eb08),_0x48c8d9[_0x1b3589(0x19c)](_0x1b3589(0x210),_0x4c3001);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x3f30d7=a2_0x215d19,_0x1a8fff=document[_0x3f30d7(0x172)](_0x3f30d7(0x2ae)),_0x555acc=_0x1a8fff[_0x3f30d7(0x2c4)],_0x2d33d8=_0x1a8fff[_0x3f30d7(0x1cb)],_0x53aa67=_0x1a8fff['clientWidth'];if(_0x2d33d8-(_0x555acc+_0x53aa67)<0x12c){const _0x39eb23=endOffset;endOffset+=0xe,renderDayRange(_0x39eb23+0x1,endOffset),reRenderBlocks();}if(_0x555acc<0x12c){const _0x37a03b=startOffset;startOffset-=0xe,prependDays(startOffset,_0x37a03b-0x1),_0x1a8fff[_0x3f30d7(0x2c4)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0xdc0e69,_0x462184){const _0x5579a3=a2_0x215d19,_0x2d92f5=document['getElementById'](_0x5579a3(0x20d)),_0xc1c943=document[_0x5579a3(0x172)](_0x5579a3(0x1d3)),_0x47160d=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x2de445=new Date();_0x2de445['setHours'](0x0,0x0,0x0,0x0);const _0x20aaf4=getLocalDateStr(new Date()),_0x366143=document[_0x5579a3(0x15e)](),_0x2ba744=document[_0x5579a3(0x15e)]();for(let _0x3e851b=_0xdc0e69;_0x3e851b<=_0x462184;_0x3e851b++){const _0x2fe319=new Date(_0x2de445);_0x2fe319[_0x5579a3(0x2a1)](_0x2fe319[_0x5579a3(0x1e3)]()+_0x3e851b);const _0x32191f=getLocalDateStr(_0x2fe319);let _0x54de03=_0x2fe319['getDay']()-0x1;if(_0x54de03===-0x1)_0x54de03=0x6;const _0x487c5b=_0x32191f===_0x20aaf4,_0x394293=document[_0x5579a3(0x177)](_0x5579a3(0x17e));_0x394293[_0x5579a3(0x21e)]=_0x5579a3(0x197)+(_0x487c5b?_0x5579a3(0x1c1):''),_0x394293['id']=_0x5579a3(0x259)+_0x32191f,_0x394293[_0x5579a3(0x25b)](_0x5579a3(0x1e4),_0x32191f),_0x394293[_0x5579a3(0x176)]='<div\x20class=\x22dch-day\x22>'+_0x47160d[_0x54de03]+_0x5579a3(0x178)+_0x2fe319[_0x5579a3(0x1e3)]()+_0x5579a3(0x1b1)+_0x32191f+_0x5579a3(0x19e),_0x394293[_0x5579a3(0x254)]=()=>openDayOptions(_0x32191f,_0x47160d[_0x54de03]+'\x20'+_0x2fe319[_0x5579a3(0x1e3)]()),_0x366143[_0x5579a3(0x195)](_0x394293);const _0x4666f7=document[_0x5579a3(0x177)]('div');_0x4666f7[_0x5579a3(0x21e)]='day-column\x20'+(_0x487c5b?_0x5579a3(0x1c1):''),_0x4666f7['setAttribute'](_0x5579a3(0x1e4),_0x32191f),_0x4666f7['setAttribute'](_0x5579a3(0x247),_0x54de03),renderEventsForColumn(_0x4666f7,_0x32191f,_0x54de03),attachLongPressHandler(_0x4666f7,_0x2fe319),_0x2ba744[_0x5579a3(0x195)](_0x4666f7),updateDayStats(_0x32191f);}_0x2d92f5[_0x5579a3(0x1b4)](_0x366143,_0x2d92f5[_0x5579a3(0x252)]),_0xc1c943[_0x5579a3(0x1b4)](_0x2ba744,_0xc1c943[_0x5579a3(0x16e)](_0x5579a3(0x1c3)));}function validateAppointment(_0x4bb50d,_0x50489e,_0x1c74a2,_0x402992,_0x570cc0){const _0x53ca0b=a2_0x215d19,[_0x309f55,_0x1981dc]=_0x50489e[_0x53ca0b(0x290)](':')[_0x53ca0b(0x157)](Number),[_0x588669,_0x3d4028]=_0x1c74a2[_0x53ca0b(0x290)](':')[_0x53ca0b(0x157)](Number),_0x368f85=_0x309f55*0x3c+_0x1981dc,_0x1b695e=_0x588669*0x3c+_0x3d4028,_0x21937f=String(_0x570cc0);let _0x145960=![],_0x4760e2='';for(let _0x15ab57 of sessions){if(_0x15ab57[_0x53ca0b(0x298)]!==_0x4bb50d)continue;if(_0x15ab57[_0x53ca0b(0x18d)]==='cancelled')continue;if(_0x402992&&String(_0x15ab57['id'])===String(_0x402992))continue;const [_0x958830,_0x382199]=_0x15ab57[_0x53ca0b(0x1b7)][_0x53ca0b(0x290)](':')[_0x53ca0b(0x157)](Number),[_0x39697b,_0x2bb8d9]=_0x15ab57[_0x53ca0b(0x1b5)][_0x53ca0b(0x290)](':')[_0x53ca0b(0x157)](Number),_0x32d5da=_0x958830*0x3c+_0x382199,_0x4a5684=_0x39697b*0x3c+_0x2bb8d9;if(Math['max'](_0x368f85,_0x32d5da)<Math['min'](_0x1b695e,_0x4a5684)){if(_0x15ab57['clientId']&&String(_0x15ab57[_0x53ca0b(0x28f)])===_0x21937f)return{'valid':![],'msg':_0x53ca0b(0x257)+_0x15ab57[_0x53ca0b(0x27c)]+_0x53ca0b(0x2c5)};_0x145960=!![],_0x4760e2=_0x15ab57['client'];}}if(_0x145960)return{'valid':!![],'warning':_0x53ca0b(0x1ca)+_0x4760e2};return{'valid':!![]};}function updateDateDisplay(){const _0x47b070=a2_0x215d19,_0x562b21=document[_0x47b070(0x172)]('inpDate')[_0x47b070(0x1c7)],_0x16c39c=document[_0x47b070(0x172)]('sheetDateSubtitle');if(!_0x562b21){_0x16c39c['textContent']='';return;}const [_0x2cc6ef,_0x733565,_0x36e9dd]=_0x562b21[_0x47b070(0x290)]('-')[_0x47b070(0x157)](Number),_0x402a45=new Date(_0x2cc6ef,_0x733565-0x1,_0x36e9dd),_0x3e140b={'weekday':_0x47b070(0x2aa),'day':_0x47b070(0x20b),'month':_0x47b070(0x2aa),'year':'numeric'};let _0x463f6d=_0x402a45[_0x47b070(0x207)]('ru-RU',_0x3e140b);_0x463f6d=_0x463f6d['charAt'](0x0)[_0x47b070(0x1aa)]()+_0x463f6d['slice'](0x1),_0x16c39c[_0x47b070(0x240)]=_0x463f6d;}function autoSetEndTime(){const _0x1e860a=a2_0x215d19,_0x507dac=document['getElementById']('inpStart')[_0x1e860a(0x1c7)];if(!_0x507dac)return;const [_0x4c4681,_0x5b7510]=_0x507dac[_0x1e860a(0x290)](':')['map'](Number);let _0x38d5bd=_0x4c4681+0x1;if(_0x38d5bd>0x17)_0x38d5bd=0x0;const _0x30018b=String(_0x38d5bd)[_0x1e860a(0x2c7)](0x2,'0')+':'+String(_0x5b7510)[_0x1e860a(0x2c7)](0x2,'0');document[_0x1e860a(0x172)](_0x1e860a(0x256))[_0x1e860a(0x1c7)]=_0x30018b;}function a2_0xb2fc(){const _0x40d319=['includes','Telegram','getText','analyticsList','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','max','save','router.html','block','backgroundColor','done','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','indexOf','dayOptionsSheet','save_settings','sessionSheet','T00:00:00','toastMessage','var(--acc-green)','log','\x20‚Äî\x20','href','stat-','touches','height','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','btnStatusToggle','single','active','substr','ranges','patternEditor','toLocaleDateString','<div\x20class=\x22dch-day\x22>','show','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','numeric','syncBatch','daysHeaderTrack','catch','rgba(100,100,100,0.5)','mouseup','series','completed','792600gzbkWl','asBtnOne','search','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','offsetLeft','range-item','undefined','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','rgba(255,\x20159,\x2010,\x200.3)','Unknown','className','getItem','delete','top','success','<span>','clients','isArray','push','seriesId','valid','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','formatDate','localeCompare','colIndex','.period-switch\x20.p-btn','client-stat-card','startsWith','settings','min','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','touchmove','rangesList','week','text/plain;charset=UTF-8','</div><div\x20class=\x22ev-time\x22>','sheetTitle','remove','ru-RU','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','globalTimeLine','charAt','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','textContent','backgroundPosition','planned','width','blocked-range-part\x20stripe-bg','user','WebApp','data-day-idx','#050505','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','random','BackButton','[Notify]\x20Server\x20Response:','syncLoad','getDay','fetchFromServer','103476oHCVTL','1337189CiVxeI','firstChild','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','onclick','mergeServerData','inpEnd','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','expand','header-','text','setAttribute','toString','–£–¥–∞–ª–µ–Ω–∏–µ','9LPWTSL','send','stringify','scroll','display','de-item','btn-status-toggle','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','(((.+)+)+)+$','–£—Å–ø–µ—à–Ω–æ','rgba(255,\x2069,\x2058,\x200.3)','timeLineBadge','from','2hbCDAI','toast','[API\x20','sort','rangeEndTime','warn','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','inpSeriesCount','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','getBoundingClientRect','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','[Notify]\x20Error:\x20Text\x20generation\x20failed','#0a84ff','initDataUnsafe','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','getMinutes','doDateHeader','client','seriesCountContainer','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','setBackgroundColor','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','rangeStartTime','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','rangeEndDate','closest','scrollTop','floor','day-column\x20','[Notify]\x20Error:\x20sessionData\x20is\x20null','anTotalStats','anDonutCircle','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','settingsSheet','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','clientId','split','filter','v9.0-BATCH-CALENDAR','getAttribute','borderRadius','pe-corner','cancelled','cancel_window','dateStr','background','style','settingCancelWindow','exceptions','peGrid','name','100%','statLoadCard','setDate','.sheet','loadLocal','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','offClick','toast-notification\x20','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','btn-primary\x20btn-danger','disableVerticalSwipes','long','off','classList','btn-status-toggle\x20undo-mode','matrixViewport','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','Save\x20settings\x20error:','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','#gridColumns\x20.day-column','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','rgba(48,\x20209,\x2088,\x200.15)','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','borderLeftColor','toLocaleString','toastTitle','getMonth','headerMonth','asTitle','setMonth',':00','sid','time-label','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','[Notify]\x20Detected\x20Client\x20ID:','scrollLeft',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','entries','padStart','option','touchstart','rangeStartDate','cancel','anCustomDates','complete','var(--acc-orange)','offsetWidth','custom','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','rgba(',']\x20Failed:','stopPropagation','target','Error\x20setting\x20back\x20button:','var(--acc-current)','getHours','all','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','uc_sessions_v9','739510OqkDxX','round','DOMContentLoaded','map','patternInfoBox','px\x20-','overlay','var(--acc-red)','guest','update','createDocumentFragment','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','add',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','uc_settings_cancel_window','color','length','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','querySelectorAll','8jKKjiU','POST','setHours','.pib-text','calendar','doLoadPercent','onClick','querySelector','getFullYear','mousedown','splice','getElementById','setItem','#fff','</div>','innerHTML','createElement','</div><div\x20class=\x22dch-num\x22>','1475814VKywGe','forEach','...','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','\x20status-completed','div','dayOptionsTitle','pattern',':\x20Client\x20already\x20booked','slice','actionSheet','.day-col-header','left','rgba(255,\x2069,\x2058,\x200.15)','getTime','inpRecurring','94641uecePr','null','none','open','status','[Notify]\x20Network\x20Failed',':00</span>','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','–ò–Ω—Ñ–æ','inpDate','asBtnSeries','error','appendChild','now','day-col-header\x20','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','setHeaderColor','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','addEventListener','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','flex','findIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','data','T23:59:59','.day-off-overlay','anEnd','day-off-overlay\x20stripe-bg','warning','clientWidth','find','toUpperCase','saveLocally','10px','init_load','Critical\x20TMA\x20Error:','checked','10px\x2010px\x200\x200','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','create','Local\x20Save\x20Error','insertBefore','end','borderColor','start','zIndex','rgba(255,255,255,0.05)','as-button\x20danger','recurringOptionContainer','Error\x20setting\x20color:','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','\x20days','deleted','\x20-\x20','today','</span>\x20/\x20','.day-column','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','actionSheetOverlay','btnDelete','value','23:59','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','scrollWidth','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','inpNote','touchend','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','.dch-stats-fill','btnDayToggle','event-card','gridColumns','Server\x20Error','ready','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','then','inpClient','anStart','pe-cell\x20','keys','pe-time-label','inpStart','691550mXdJbd','note','total','px\x200px','getDate','data-date','btn-primary\x20btn-secondary','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!'];a2_0xb2fc=function(){return _0x40d319;};return a2_0xb2fc();}function populateClientSelect(){const _0x3dbc2c=a2_0x215d19,_0x3fa614=document[_0x3dbc2c(0x172)](_0x3dbc2c(0x1d9));_0x3fa614[_0x3dbc2c(0x176)]='';if(clients[_0x3dbc2c(0x164)]===0x0){const _0x56ee08=document[_0x3dbc2c(0x177)](_0x3dbc2c(0x2c8));_0x56ee08[_0x3dbc2c(0x25a)]=_0x3dbc2c(0x190),_0x3fa614[_0x3dbc2c(0x195)](_0x56ee08);return;}clients['forEach'](_0x136672=>{const _0x149635=_0x3dbc2c,_0x19e7a2=document[_0x149635(0x177)]('option');_0x19e7a2[_0x149635(0x1c7)]=_0x136672[_0x149635(0x29e)],_0x19e7a2[_0x149635(0x240)]=_0x136672[_0x149635(0x29e)],_0x3fa614[_0x149635(0x195)](_0x19e7a2);});}function openActionSheet(_0x3e8dd0){const _0x54d2c6=a2_0x215d19,_0x303a08=document[_0x54d2c6(0x172)]('actionSheet'),_0x40aedb=document[_0x54d2c6(0x172)]('actionSheetOverlay'),_0x8cbd99=document[_0x54d2c6(0x172)](_0x54d2c6(0x2bd)),_0x51893a=document[_0x54d2c6(0x172)](_0x54d2c6(0x214)),_0x1b7d01=document[_0x54d2c6(0x172)](_0x54d2c6(0x193));_0x40aedb[_0x54d2c6(0x2ac)][_0x54d2c6(0x160)](_0x54d2c6(0x203)),_0x303a08[_0x54d2c6(0x2ac)]['add'](_0x54d2c6(0x18c));if(_0x3e8dd0===_0x54d2c6(0x1ed))_0x8cbd99[_0x54d2c6(0x240)]=_0x54d2c6(0x2b2),_0x51893a[_0x54d2c6(0x240)]=_0x54d2c6(0x283),_0x51893a[_0x54d2c6(0x254)]=()=>{const _0x12af0c=_0x54d2c6;closeActionSheet(),updateSeriesBatch(_0x12af0c(0x202),tempSessionData);},_0x1b7d01[_0x54d2c6(0x240)]='–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ',_0x1b7d01['onclick']=()=>{const _0x18c3bc=_0x54d2c6;closeActionSheet(),updateSeriesBatch(_0x18c3bc(0x211),tempSessionData);};else _0x3e8dd0==='delete'&&(_0x8cbd99[_0x54d2c6(0x240)]=_0x54d2c6(0x25d),_0x51893a[_0x54d2c6(0x240)]=_0x54d2c6(0x283),_0x51893a[_0x54d2c6(0x21e)]=_0x54d2c6(0x1ba),_0x51893a[_0x54d2c6(0x254)]=()=>{const _0x14b9e5=_0x54d2c6;closeActionSheet(),commitDelete(_0x14b9e5(0x202),sessions['find'](_0x5c6997=>_0x5c6997['id']===editingId));},_0x1b7d01[_0x54d2c6(0x240)]='–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ',_0x1b7d01['className']='as-button\x20danger\x20bold',_0x1b7d01['onclick']=()=>{const _0x35a691=_0x54d2c6;closeActionSheet(),commitDelete(_0x35a691(0x211),sessions[_0x35a691(0x1a9)](_0x490219=>_0x490219['id']===editingId));});}function closeActionSheet(){const _0x2a8d59=a2_0x215d19;document[_0x2a8d59(0x172)](_0x2a8d59(0x183))[_0x2a8d59(0x2ac)][_0x2a8d59(0x239)](_0x2a8d59(0x18c)),document[_0x2a8d59(0x172)](_0x2a8d59(0x1c5))['classList'][_0x2a8d59(0x239)](_0x2a8d59(0x203));}function openSettings(){const _0x5d3ab5=a2_0x215d19;openSheet(_0x5d3ab5(0x28d));}function saveCoachSettings(){const _0x577daf=a2_0x215d19,_0x2e682a=document[_0x577daf(0x172)]('settingCancelWindow')[_0x577daf(0x1c7)];localStorage[_0x577daf(0x173)](_0x577daf(0x162),_0x2e682a),console[_0x577daf(0x1fa)]('[Settings]\x20Cancel\x20window\x20set\x20to:',_0x2e682a),DataManager[_0x577daf(0x24f)]('save_settings',{'settings':{'cancel_window':_0x2e682a}})[_0x577daf(0x20e)](_0x5021d9=>{const _0x3f151a=_0x577daf;console[_0x3f151a(0x194)](_0x3f151a(0x2b1),_0x5021d9),showToast(_0x3f151a(0x198),![]);});}function loadCoachSettings(){const _0x177b30=a2_0x215d19,_0xd94fc4=localStorage[_0x177b30(0x21f)]('uc_settings_cancel_window');_0xd94fc4&&(document[_0x177b30(0x172)](_0x177b30(0x29b))[_0x177b30(0x1c7)]=_0xd94fc4);}function openRangesSheet(){closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet('rangesSheet');}function addRange(){const _0x2b03a9=a2_0x215d19,_0x4143e5=document[_0x2b03a9(0x172)](_0x2b03a9(0x2ca))['value'],_0x38ea41=document[_0x2b03a9(0x172)](_0x2b03a9(0x282))[_0x2b03a9(0x1c7)],_0x21711f=document[_0x2b03a9(0x172)](_0x2b03a9(0x284))['value'],_0x3a1d08=document[_0x2b03a9(0x172)]('rangeEndTime')['value'];if(!_0x4143e5||!_0x38ea41||!_0x21711f||!_0x3a1d08)return alert(_0x2b03a9(0x20a));const _0x3a3056=_0x4143e5+'T'+_0x38ea41,_0x42408b=_0x21711f+'T'+_0x3a1d08;if(_0x3a3056>=_0x42408b)return alert('–û—à–∏–±–∫–∞\x20–¥–∞—Ç');specialRanges[_0x2b03a9(0x226)]({'start':_0x3a3056,'end':_0x42408b}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x2b03a9(0x1ab)](),DataManager['fetchFromServer'](_0x2b03a9(0x1f5),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x1e0583){const _0x194331=a2_0x215d19;specialRanges[_0x194331(0x171)](_0x1e0583,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x194331(0x1ab)](),DataManager[_0x194331(0x24f)](_0x194331(0x1f5),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x1d675d=a2_0x215d19;document[_0x1d675d(0x172)](_0x1d675d(0x2ca))[_0x1d675d(0x1c7)]='',document[_0x1d675d(0x172)](_0x1d675d(0x282))[_0x1d675d(0x1c7)]='00:00',document[_0x1d675d(0x172)]('rangeEndDate')['value']='',document['getElementById'](_0x1d675d(0x26f))['value']=_0x1d675d(0x1c8);}function renderRangesList(){const _0x5ba692=a2_0x215d19,_0x3706dd=document['getElementById'](_0x5ba692(0x234));_0x3706dd[_0x5ba692(0x176)]='';if(!specialRanges[_0x5ba692(0x164)]){_0x3706dd[_0x5ba692(0x176)]=_0x5ba692(0x1f2);return;}specialRanges[_0x5ba692(0x17a)]((_0x249106,_0x9941ae)=>{const _0x2eca9a=_0x5ba692,_0x4d4ad4=document['createElement'](_0x2eca9a(0x17e));_0x4d4ad4[_0x2eca9a(0x21e)]=_0x2eca9a(0x218);const _0x56792f=_0x54db68=>{const _0xe30dff=_0x2eca9a,_0x489b45=new Date(_0x54db68);return _0x489b45[_0xe30dff(0x1e3)]()+'.'+String(_0x489b45[_0xe30dff(0x2bb)]()+0x1)[_0xe30dff(0x2c7)](0x2,'0')+'\x20'+String(_0x489b45[_0xe30dff(0x150)]())['padStart'](0x2,'0')+':'+String(_0x489b45['getMinutes']())[_0xe30dff(0x2c7)](0x2,'0');};_0x4d4ad4[_0x2eca9a(0x176)]=_0x2eca9a(0x281)+_0x56792f(_0x249106['start'])+_0x2eca9a(0x1fb)+_0x56792f(_0x249106[_0x2eca9a(0x1b5)])+_0x2eca9a(0x279)+_0x9941ae+')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>',_0x3706dd['appendChild'](_0x4d4ad4);});}function scrollToToday(){const _0x3ad6d0=a2_0x215d19,_0x53481f=getLocalDateStr(new Date()),_0x2d7410=document[_0x3ad6d0(0x172)](_0x3ad6d0(0x259)+_0x53481f),_0x4c4094=document[_0x3ad6d0(0x172)](_0x3ad6d0(0x2ae));if(_0x2d7410&&_0x4c4094){const _0x8937=_0x4c4094[_0x3ad6d0(0x1a8)],_0x225fa1=_0x2d7410['offsetLeft'],_0x55abb1=_0x2d7410[_0x3ad6d0(0x147)];_0x4c4094[_0x3ad6d0(0x2c4)]=_0x225fa1-_0x8937/0x2+_0x55abb1/0x2,_0x4c4094[_0x3ad6d0(0x286)]=0x9*GRID_H;}}function onScroll(){const _0x50428e=a2_0x215d19,_0x23eb97=document[_0x50428e(0x172)]('matrixViewport'),_0x1cc8ad=document[_0x50428e(0x166)](_0x50428e(0x184));for(let _0x3bc11a of _0x1cc8ad)if(_0x3bc11a[_0x50428e(0x217)]>=_0x23eb97[_0x50428e(0x2c4)]){const _0x3c95d9=new Date(_0x3bc11a[_0x50428e(0x293)](_0x50428e(0x1e4)));document['getElementById'](_0x50428e(0x2bc))[_0x50428e(0x240)]=_0x3c95d9[_0x50428e(0x2b9)]('ru',{'month':_0x50428e(0x2aa)})[_0x50428e(0x1aa)]()+'\x20'+_0x3c95d9[_0x50428e(0x16f)]();break;}}function showToast(_0x4293b0,_0x57c975=![]){const _0x2c6b51=a2_0x215d19,_0x2d0897=document[_0x2c6b51(0x172)](_0x2c6b51(0x26c));_0x2d0897[_0x2c6b51(0x21e)]=_0x2c6b51(0x2a6)+(_0x57c975?_0x2c6b51(0x222):''),document[_0x2c6b51(0x172)](_0x2c6b51(0x2ba))[_0x2c6b51(0x240)]=_0x57c975?_0x2c6b51(0x267):_0x2c6b51(0x191),document[_0x2c6b51(0x172)](_0x2c6b51(0x1f8))[_0x2c6b51(0x240)]=_0x4293b0,_0x2d0897[_0x2c6b51(0x2ac)][_0x2c6b51(0x160)](_0x2c6b51(0x209)),setTimeout(()=>{const _0x41fb44=_0x2c6b51;_0x2d0897[_0x41fb44(0x2ac)][_0x41fb44(0x239)](_0x41fb44(0x209));},0xbb8);}function openDayOptions(_0x474565,_0x3ae56f){const _0x43d33f=a2_0x215d19;selectedDayForOptions=_0x474565,document[_0x43d33f(0x172)](_0x43d33f(0x17f))[_0x43d33f(0x240)]=_0x3ae56f,openSheet(_0x43d33f(0x1f4));}function toggleDayOff(){const _0x355f8=a2_0x215d19;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x355f8(0x2ab),reRenderBlocks(),closeAllSheets(),DataManager[_0x355f8(0x1ab)](),DataManager[_0x355f8(0x24f)](_0x355f8(0x1f5),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x333aaa=a2_0x215d19;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x333aaa(0x1ab)](),DataManager['fetchFromServer']('save_settings',{'settings':{'exceptions':dateExceptions}}));}function a2_0x4e41(_0x20ee67,_0x415774){_0x20ee67=_0x20ee67-0x146;const _0x33f1c2=a2_0xb2fc();let _0x11a833=_0x33f1c2[_0x20ee67];return _0x11a833;}function openSheet(_0x2249ad){const _0x3bfb9e=a2_0x215d19;document[_0x3bfb9e(0x172)]('overlay')['classList'][_0x3bfb9e(0x160)](_0x3bfb9e(0x203)),document['getElementById'](_0x2249ad)[_0x3bfb9e(0x2ac)][_0x3bfb9e(0x160)](_0x3bfb9e(0x18c));}function closeAllSheets(){const _0x17fc14=a2_0x215d19;document['getElementById'](_0x17fc14(0x15a))[_0x17fc14(0x2ac)]['remove'](_0x17fc14(0x203)),document[_0x17fc14(0x166)](_0x17fc14(0x2a2))[_0x17fc14(0x17a)](_0x56bc5b=>_0x56bc5b[_0x17fc14(0x2ac)][_0x17fc14(0x239)](_0x17fc14(0x18c)));}function openPatternEditor(){const _0x46edb5=a2_0x215d19;closeAllSheets(),document[_0x46edb5(0x172)](_0x46edb5(0x206))[_0x46edb5(0x2ac)][_0x46edb5(0x160)](_0x46edb5(0x18c)),renderPatternEditor();}function closePatternEditor(){const _0x5439f1=a2_0x215d19;document[_0x5439f1(0x172)](_0x5439f1(0x206))[_0x5439f1(0x2ac)][_0x5439f1(0x239)](_0x5439f1(0x18c));}function savePattern(){const _0xea8133=a2_0x215d19;document[_0xea8133(0x172)]('patternEditor')['classList'][_0xea8133(0x239)](_0xea8133(0x18c)),reRenderBlocks(),DataManager[_0xea8133(0x1ab)](),DataManager[_0xea8133(0x24f)](_0xea8133(0x1f5),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x3a3473=a2_0x215d19,_0x2f8c4f=document[_0x3a3473(0x172)](_0x3a3473(0x29d));_0x2f8c4f[_0x3a3473(0x176)]='';const _0x5962b6=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x432075=document[_0x3a3473(0x177)](_0x3a3473(0x17e));_0x432075[_0x3a3473(0x21e)]=_0x3a3473(0x295),_0x2f8c4f[_0x3a3473(0x195)](_0x432075),_0x5962b6[_0x3a3473(0x17a)]((_0x1b6440,_0x26ff49)=>{const _0x281127=_0x3a3473,_0xa2a92b=document['createElement']('div');_0xa2a92b[_0x281127(0x21e)]='pe-col-header',_0xa2a92b[_0x281127(0x176)]=_0x1b6440+_0x281127(0x152),_0xa2a92b[_0x281127(0x254)]=()=>toggleColPattern(_0x26ff49),_0x2f8c4f[_0x281127(0x195)](_0xa2a92b);});for(let _0x4e09ef=0x0;_0x4e09ef<0x18;_0x4e09ef++){const _0x4fe55d=document[_0x3a3473(0x177)]('div');_0x4fe55d['className']=_0x3a3473(0x1dd),_0x4fe55d[_0x3a3473(0x176)]=_0x3a3473(0x232)+String(_0x4e09ef)[_0x3a3473(0x2c7)](0x2,'0')+_0x3a3473(0x2bf),_0x4fe55d[_0x3a3473(0x254)]=()=>toggleRowPattern(_0x4e09ef),_0x2f8c4f[_0x3a3473(0x195)](_0x4fe55d);for(let _0x536cd9=0x0;_0x536cd9<0x7;_0x536cd9++){const _0x196e66=document['createElement']('div'),_0x50964c=(availabilityPattern[_0x536cd9]||[])[_0x3a3473(0x1e7)](_0x4e09ef),_0x6d782b=!_0x50964c;_0x196e66[_0x3a3473(0x21e)]=_0x3a3473(0x1db)+(_0x6d782b?_0x3a3473(0x203):''),_0x196e66[_0x3a3473(0x254)]=()=>toggleSinglePattern(_0x536cd9,_0x4e09ef),_0x2f8c4f[_0x3a3473(0x195)](_0x196e66);}}}function toggleSinglePattern(_0x4392ea,_0x2d0caa){const _0x25eecb=a2_0x215d19;if(!availabilityPattern[_0x4392ea])availabilityPattern[_0x4392ea]=[];const _0x42523c=availabilityPattern[_0x4392ea],_0x34f189=_0x42523c['indexOf'](_0x2d0caa);_0x34f189===-0x1?_0x42523c[_0x25eecb(0x226)](_0x2d0caa):_0x42523c['splice'](_0x34f189,0x1),renderPatternEditor();}function toggleColPattern(_0x407b4c){const _0x1897fc=a2_0x215d19;if(!availabilityPattern[_0x407b4c])availabilityPattern[_0x407b4c]=[];const _0x42e57c=availabilityPattern[_0x407b4c];_0x42e57c[_0x1897fc(0x164)]===0x0?availabilityPattern[_0x407b4c]=Array['from']({'length':0x18},(_0x1268ca,_0x175094)=>_0x175094):availabilityPattern[_0x407b4c]=[],renderPatternEditor();}function toggleRowPattern(_0x51dbf6){const _0x596cdc=a2_0x215d19;let _0xe84b6a=!![];for(let _0xfaf4fe=0x0;_0xfaf4fe<0x7;_0xfaf4fe++){if((availabilityPattern[_0xfaf4fe]||[])[_0x596cdc(0x1e7)](_0x51dbf6)){_0xe84b6a=![];break;}}for(let _0x352bc6=0x0;_0x352bc6<0x7;_0x352bc6++){if(!availabilityPattern[_0x352bc6])availabilityPattern[_0x352bc6]=[];const _0x4aeaf8=availabilityPattern[_0x352bc6][_0x596cdc(0x1f3)](_0x51dbf6);if(_0xe84b6a){if(_0x4aeaf8===-0x1)availabilityPattern[_0x352bc6][_0x596cdc(0x226)](_0x51dbf6);}else{if(_0x4aeaf8!==-0x1)availabilityPattern[_0x352bc6][_0x596cdc(0x171)](_0x4aeaf8,0x1);}}renderPatternEditor();}function renderPCol(_0x31f2ad,_0x236a86){const _0x50d202=a2_0x215d19;_0x31f2ad[_0x50d202(0x176)]='';const _0x24a87a=Math[_0x50d202(0x155)](_0x31f2ad[_0x50d202(0x217)]);(availabilityPattern[_0x236a86]||[])[_0x50d202(0x17a)](_0x1e78da=>{const _0x26bc91=_0x50d202,_0x4442b1=document[_0x26bc91(0x177)](_0x26bc91(0x17e));_0x4442b1[_0x26bc91(0x21e)]='blocked-slot\x20stripe-bg';const _0x9d94b=_0x1e78da*GRID_H;_0x4442b1['style'][_0x26bc91(0x221)]=_0x9d94b+'px',_0x4442b1['style'][_0x26bc91(0x241)]='-'+_0x24a87a+'px\x20-'+_0x9d94b+'px',_0x4442b1[_0x26bc91(0x254)]=_0x1589c4=>{const _0x30edec=_0x26bc91;_0x1589c4[_0x30edec(0x14c)](),toggleSinglePattern(_0x236a86,_0x1e78da);},_0x31f2ad['appendChild'](_0x4442b1);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x2a5051=a2_0x215d19,_0x3b9f3=new Date(),_0x164630=document['getElementById'](_0x2a5051(0x23d)),_0x4ab109=document['getElementById']('timeLineBadge'),_0x5508bb=(_0x3b9f3['getHours']()*0x3c+_0x3b9f3[_0x2a5051(0x27a)]())/0x3c*GRID_H;_0x164630[_0x2a5051(0x29a)][_0x2a5051(0x221)]=_0x5508bb+'px',_0x164630['style']['display']=_0x2a5051(0x1ef),_0x4ab109['textContent']=String(_0x3b9f3[_0x2a5051(0x150)]())[_0x2a5051(0x2c7)](0x2,'0')+':'+String(_0x3b9f3[_0x2a5051(0x27a)]())[_0x2a5051(0x2c7)](0x2,'0'),_0x4ab109[_0x2a5051(0x29a)]['display']=_0x2a5051(0x1ef),_0x4ab109['style'][_0x2a5051(0x221)]=_0x5508bb+'px';}document[a2_0x215d19(0x19c)](a2_0x215d19(0x156),init);function openDayOptions(_0x1e7acb){const _0x58d59c=a2_0x215d19;selectedDayForOptions=_0x1e7acb;const _0x800b66=new Date(_0x1e7acb),_0x125451={'weekday':_0x58d59c(0x2aa),'day':_0x58d59c(0x20b),'month':_0x58d59c(0x2aa),'year':_0x58d59c(0x20b)},_0x2eb567=_0x800b66[_0x58d59c(0x207)](_0x58d59c(0x23a),_0x125451);document[_0x58d59c(0x172)](_0x58d59c(0x27b))['textContent']=_0x2eb567['charAt'](0x0)[_0x58d59c(0x1aa)]()+_0x2eb567[_0x58d59c(0x182)](0x1);let _0x4da200=_0x800b66[_0x58d59c(0x24e)]()-0x1;if(_0x4da200===-0x1)_0x4da200=0x6;const _0x253c17=availabilityPattern[_0x4da200]||[],_0x534829=0x18-_0x253c17['length'],_0x33df73=_0x534829*0x3c,_0x438c6f=sessions[_0x58d59c(0x291)](_0x2d01a9=>_0x2d01a9[_0x58d59c(0x298)]===_0x1e7acb&&_0x2d01a9[_0x58d59c(0x18d)]!==_0x58d59c(0x296));let _0x4d03cf=_0x438c6f['map'](_0x140d23=>{const _0x26ff2d=_0x58d59c,[_0x3e5a4a,_0x657fe1]=_0x140d23[_0x26ff2d(0x1b7)][_0x26ff2d(0x290)](':')[_0x26ff2d(0x157)](Number),[_0x84b403,_0x18d93c]=_0x140d23[_0x26ff2d(0x1b5)][_0x26ff2d(0x290)](':')[_0x26ff2d(0x157)](Number);return[_0x3e5a4a*0x3c+_0x657fe1,_0x84b403*0x3c+_0x18d93c];});_0x4d03cf[_0x58d59c(0x26e)]((_0x52debc,_0x2ab0ec)=>_0x52debc[0x0]-_0x2ab0ec[0x0]);let _0x4218a2=[];if(_0x4d03cf[_0x58d59c(0x164)]>0x0){let _0x599f92=_0x4d03cf[0x0];for(let _0x354eec=0x1;_0x354eec<_0x4d03cf[_0x58d59c(0x164)];_0x354eec++){_0x4d03cf[_0x354eec][0x0]<_0x599f92[0x1]?_0x599f92[0x1]=Math['max'](_0x599f92[0x1],_0x4d03cf[_0x354eec][0x1]):(_0x4218a2['push'](_0x599f92),_0x599f92=_0x4d03cf[_0x354eec]);}_0x4218a2[_0x58d59c(0x226)](_0x599f92);}let _0x5adc0a=0x0;_0x4218a2[_0x58d59c(0x17a)](_0xe923d1=>_0x5adc0a+=_0xe923d1[0x1]-_0xe923d1[0x0]),document['getElementById']('doWorkHours')[_0x58d59c(0x240)]=formatMinsToHrs(_0x33df73),document[_0x58d59c(0x172)]('doBusyHours')['textContent']=formatMinsToHrs(_0x5adc0a);const _0x3af25c=_0x33df73>0x0?Math[_0x58d59c(0x155)](_0x5adc0a/_0x33df73*0x64):0x0,_0xd7de75=document['getElementById'](_0x58d59c(0x16c));_0xd7de75['textContent']=_0x3af25c+'%';const _0x1ee613=document[_0x58d59c(0x172)](_0x58d59c(0x2a0));if(_0x3af25c>0x64)_0xd7de75[_0x58d59c(0x29a)]['color']=_0x58d59c(0x15b),_0x1ee613['style'][_0x58d59c(0x1b6)]=_0x58d59c(0x268);else _0x3af25c>0x50?(_0xd7de75[_0x58d59c(0x29a)]['color']=_0x58d59c(0x146),_0x1ee613['style']['borderColor']=_0x58d59c(0x21c)):(_0xd7de75[_0x58d59c(0x29a)][_0x58d59c(0x163)]=_0x58d59c(0x1f9),_0x1ee613[_0x58d59c(0x29a)]['borderColor']=_0x58d59c(0x1b9));const _0x35d300=document[_0x58d59c(0x172)]('doEventsList');_0x35d300[_0x58d59c(0x176)]='';_0x438c6f['length']===0x0?_0x35d300[_0x58d59c(0x176)]='<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>':(_0x438c6f[_0x58d59c(0x26e)]((_0x271ed1,_0x37257e)=>_0x271ed1[_0x58d59c(0x1b7)][_0x58d59c(0x22b)](_0x37257e[_0x58d59c(0x1b7)])),_0x438c6f[_0x58d59c(0x17a)](_0x10b833=>{const _0x591473=_0x58d59c,_0x510b8c=clients['find'](_0x4716c2=>_0x4716c2[_0x591473(0x29e)]===_0x10b833['client']),_0x22e8ee=_0x510b8c?_0x510b8c[_0x591473(0x163)]:_0x591473(0x174),_0x485866=_0x10b833['status']==='completed',_0x463f98=_0x485866?_0x591473(0x1cc):'',_0x269da8=document[_0x591473(0x177)](_0x591473(0x17e));_0x269da8[_0x591473(0x21e)]=_0x591473(0x263),_0x269da8[_0x591473(0x29a)][_0x591473(0x2b8)]=_0x22e8ee,_0x269da8['innerHTML']=_0x591473(0x1d7)+_0x10b833[_0x591473(0x1b7)]+_0x591473(0x1c0)+_0x10b833['end']+_0x591473(0x21a)+_0x10b833[_0x591473(0x27c)]+_0x591473(0x1a1)+_0x463f98+_0x591473(0x28e),_0x35d300[_0x591473(0x195)](_0x269da8);}));const _0x288708=document[_0x58d59c(0x172)](_0x58d59c(0x1d1)),_0x56e9f0=dateExceptions[_0x1e7acb]==='off';_0x56e9f0?(_0x288708[_0x58d59c(0x240)]='–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º',_0x288708[_0x58d59c(0x21e)]=_0x58d59c(0x1e5),_0x288708[_0x58d59c(0x29a)][_0x58d59c(0x163)]=_0x58d59c(0x1f9),_0x288708[_0x58d59c(0x29a)][_0x58d59c(0x299)]=_0x58d59c(0x2b5)):(_0x288708[_0x58d59c(0x240)]=_0x58d59c(0x1eb),_0x288708[_0x58d59c(0x21e)]=_0x58d59c(0x2a8),_0x288708['style'][_0x58d59c(0x163)]='var(--acc-red)',_0x288708[_0x58d59c(0x29a)][_0x58d59c(0x299)]=_0x58d59c(0x186)),openSheet(_0x58d59c(0x1f4));}let currentAnPeriod=a2_0x215d19(0x235);function openAnalytics(){const _0x3b5ad2=a2_0x215d19,_0x2cab65=document[_0x3b5ad2(0x16e)](_0x3b5ad2(0x22d));setAnalyticsPeriod('week',_0x2cab65),closeAllSheets(),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x5c2950,_0x3d0eb6){const _0x1061d0=a2_0x215d19;currentAnPeriod=_0x5c2950,document[_0x1061d0(0x166)](_0x1061d0(0x22d))[_0x1061d0(0x17a)](_0x42802d=>_0x42802d['classList'][_0x1061d0(0x239)](_0x1061d0(0x203)));if(_0x3d0eb6)_0x3d0eb6['classList']['add']('active');const _0x3ace08=document['getElementById'](_0x1061d0(0x2cc));_0x3ace08[_0x1061d0(0x29a)]['display']=_0x5c2950===_0x1061d0(0x148)?'flex':_0x1061d0(0x18b);const _0x337343=new Date();let _0x2a6f56=new Date(),_0x227073=new Date();if(_0x5c2950===_0x1061d0(0x235))_0x2a6f56=getStartOfWeek(_0x337343),_0x227073=new Date(_0x2a6f56),_0x227073[_0x1061d0(0x2a1)](_0x227073[_0x1061d0(0x1e3)]()+0x6);else{if(_0x5c2950==='month')_0x2a6f56=new Date(_0x337343[_0x1061d0(0x16f)](),_0x337343[_0x1061d0(0x2bb)](),0x1),_0x227073=new Date(_0x337343[_0x1061d0(0x16f)](),_0x337343[_0x1061d0(0x2bb)]()+0x1,0x0);else{!document['getElementById'](_0x1061d0(0x1da))[_0x1061d0(0x1c7)]&&(document[_0x1061d0(0x172)]('anStart')['value']=getLocalDateStr(_0x337343),document[_0x1061d0(0x172)](_0x1061d0(0x1a5))[_0x1061d0(0x1c7)]=getLocalDateStr(_0x337343));refreshAnalytics();return;}}document[_0x1061d0(0x172)](_0x1061d0(0x1da))[_0x1061d0(0x1c7)]=getLocalDateStr(_0x2a6f56),document[_0x1061d0(0x172)](_0x1061d0(0x1a5))['value']=getLocalDateStr(_0x227073),refreshAnalytics();}function refreshAnalytics(){const _0x1a9e19=a2_0x215d19,_0x4fb0f5=document[_0x1a9e19(0x172)](_0x1a9e19(0x1da))['value'],_0x526791=document['getElementById']('anEnd')[_0x1a9e19(0x1c7)];if(!_0x4fb0f5||!_0x526791)return;const _0x5b0bbe=sessions[_0x1a9e19(0x291)](_0x1fa475=>_0x1fa475['dateStr']>=_0x4fb0f5&&_0x1fa475[_0x1a9e19(0x298)]<=_0x526791&&_0x1fa475[_0x1a9e19(0x18d)]!==_0x1a9e19(0x296)),_0x1e133d=_0x5b0bbe[_0x1a9e19(0x164)],_0x48d0a6=_0x5b0bbe[_0x1a9e19(0x291)](_0x28785f=>_0x28785f[_0x1a9e19(0x18d)]===_0x1a9e19(0x212))[_0x1a9e19(0x164)],_0x5975b0=_0x1e133d>0x0?Math[_0x1a9e19(0x155)](_0x48d0a6/_0x1e133d*0x64):0x0;document[_0x1a9e19(0x172)]('anPercent')[_0x1a9e19(0x240)]=_0x5975b0+'%',document['getElementById'](_0x1a9e19(0x28a))[_0x1a9e19(0x240)]=_0x48d0a6+'\x20–∏–∑\x20'+_0x1e133d+_0x1a9e19(0x2b4);const _0x4196f9=document[_0x1a9e19(0x172)](_0x1a9e19(0x28b)),_0xc29d99=0x2*Math['PI']*0x23,_0x4838f8=_0xc29d99-_0x5975b0/0x64*_0xc29d99;_0x4196f9[_0x1a9e19(0x29a)]['strokeDashoffset']=_0x4838f8;const _0x45950d={};_0x5b0bbe[_0x1a9e19(0x17a)](_0x3b1532=>{const _0x654f2e=_0x1a9e19;if(!_0x45950d[_0x3b1532[_0x654f2e(0x27c)]]){const _0x13bff2=clients[_0x654f2e(0x1a9)](_0x2985a6=>_0x2985a6[_0x654f2e(0x29e)]===_0x3b1532[_0x654f2e(0x27c)]);_0x45950d[_0x3b1532[_0x654f2e(0x27c)]]={'total':0x0,'done':0x0,'color':_0x13bff2?_0x13bff2['color']:_0x654f2e(0x174)};}_0x45950d[_0x3b1532[_0x654f2e(0x27c)]][_0x654f2e(0x1e1)]++;if(_0x3b1532[_0x654f2e(0x18d)]==='completed')_0x45950d[_0x3b1532[_0x654f2e(0x27c)]][_0x654f2e(0x1f1)]++;});const _0x4c3244=document[_0x1a9e19(0x172)](_0x1a9e19(0x1ea));_0x4c3244[_0x1a9e19(0x176)]='';const _0x5bd054=Object[_0x1a9e19(0x2c6)](_0x45950d)[_0x1a9e19(0x26e)]((_0x377ff6,_0x2decba)=>_0x2decba[0x1][_0x1a9e19(0x1e1)]-_0x377ff6[0x1][_0x1a9e19(0x1e1)]);if(_0x5bd054[_0x1a9e19(0x164)]===0x0){_0x4c3244[_0x1a9e19(0x176)]=_0x1a9e19(0x2c2);return;}_0x5bd054[_0x1a9e19(0x17a)](([_0xb8f665,_0x5ae932])=>{const _0x379674=_0x1a9e19,_0x423675=Math['round'](_0x5ae932[_0x379674(0x1f1)]/_0x5ae932[_0x379674(0x1e1)]*0x64),_0x4a4bd6=document[_0x379674(0x177)]('div');_0x4a4bd6[_0x379674(0x21e)]=_0x379674(0x22e),_0x4a4bd6['style'][_0x379674(0x2b8)]=_0x5ae932[_0x379674(0x163)],_0x4a4bd6[_0x379674(0x176)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>'+_0xb8f665+_0x379674(0x265)+_0x5ae932['done']+_0x379674(0x1c2)+_0x5ae932[_0x379674(0x1e1)]+_0x379674(0x2af)+_0x423675+_0x379674(0x27e),_0x4c3244[_0x379674(0x195)](_0x4a4bd6);});}function formatMinsToHrs(_0x2c66e4){if(_0x2c66e4===0x0)return'0';const _0x22b441=Math['floor'](_0x2c66e4/0x3c),_0x101ffb=_0x2c66e4%0x3c;if(_0x101ffb===0x0)return _0x22b441+'—á';return _0x22b441+'—á\x20'+_0x101ffb+'–º';}