const a2_0x1674f0=a2_0x3f87;(function(_0x22bfa8,_0x4df915){const _0x20314c=a2_0x3f87,_0x52f575=_0x22bfa8();while(!![]){try{const _0x45cbbc=parseInt(_0x20314c(0x233))/0x1*(-parseInt(_0x20314c(0x2dd))/0x2)+-parseInt(_0x20314c(0x24c))/0x3+parseInt(_0x20314c(0x2c8))/0x4+-parseInt(_0x20314c(0x1de))/0x5+parseInt(_0x20314c(0x294))/0x6*(-parseInt(_0x20314c(0x1f8))/0x7)+-parseInt(_0x20314c(0x202))/0x8+parseInt(_0x20314c(0x178))/0x9*(parseInt(_0x20314c(0x1f4))/0xa);if(_0x45cbbc===_0x4df915)break;else _0x52f575['push'](_0x52f575['shift']());}catch(_0x44a6ea){_0x52f575['push'](_0x52f575['shift']());}}}(a2_0x11c9,0xa6859),function initTMA(){const _0x361bb6=a2_0x3f87,_0x25d669=(function(){let _0x455c6b=!![];return function(_0x5b58a0,_0x4aa7a3){const _0x26cd85=_0x455c6b?function(){const _0x397a87=a2_0x3f87;if(_0x4aa7a3){const _0x1627f0=_0x4aa7a3[_0x397a87(0x195)](_0x5b58a0,arguments);return _0x4aa7a3=null,_0x1627f0;}}:function(){};return _0x455c6b=![],_0x26cd85;};}()),_0x539f19=_0x25d669(this,function(){const _0x420766=a2_0x3f87;return _0x539f19[_0x420766(0x2a7)]()[_0x420766(0x2c0)](_0x420766(0x1d1))['toString']()[_0x420766(0x222)](_0x539f19)['search'](_0x420766(0x1d1));});_0x539f19();try{const _0x2338ab=window[_0x361bb6(0x17d)]?.[_0x361bb6(0x2a6)];if(!_0x2338ab)return;_0x2338ab[_0x361bb6(0x2d8)](),_0x2338ab[_0x361bb6(0x191)]();try{_0x2338ab[_0x361bb6(0x1a4)](_0x361bb6(0x23e)),_0x2338ab[_0x361bb6(0x19c)]&&_0x2338ab[_0x361bb6(0x19c)]('#050505');}catch(_0x356658){console[_0x361bb6(0x213)]('Error\x20setting\x20color:',_0x356658);}try{_0x2338ab['BackButton']&&(_0x2338ab[_0x361bb6(0x204)][_0x361bb6(0x20a)](),_0x2338ab[_0x361bb6(0x204)][_0x361bb6(0x1b0)](),_0x2338ab[_0x361bb6(0x204)][_0x361bb6(0x26f)](function(){const _0x23a9db=_0x361bb6;window[_0x23a9db(0x2ca)][_0x23a9db(0x1ad)]='router.html';}));}catch(_0x55b15b){console[_0x361bb6(0x213)](_0x361bb6(0x267),_0x55b15b);}try{if(_0x2338ab['disableVerticalSwipes'])_0x2338ab[_0x361bb6(0x29c)]();}catch(_0x487ade){}}catch(_0x2800db){console['error']('Critical\x20TMA\x20Error:',_0x2800db);}}());function isAdmin(){const _0x207668=a2_0x3f87;try{const _0x11640f=Number(window[_0x207668(0x17d)]?.[_0x207668(0x2a6)]?.[_0x207668(0x25c)]?.['user']?.['id']);return _0x11640f===0xbaf7174;}catch(_0x21e0a1){return![];}}const APP_VERSION='v9.0-BATCH-CALENDAR',API_URL=a2_0x1674f0(0x1a1),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x1674f0(0x28e),KEY_SESSIONS='uc_sessions_v9',KEY_SETTINGS='uc_settings_v9';let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x292ef0=a2_0x1674f0;return window[_0x292ef0(0x17d)]?.[_0x292ef0(0x2a6)]?.[_0x292ef0(0x25c)]?.[_0x292ef0(0x1aa)]?.['id']||'guest';},'saveLocally'(){const _0x410e4e=a2_0x1674f0;try{localStorage[_0x410e4e(0x208)](KEY_CLIENTS,JSON[_0x410e4e(0x1c6)](clients)),localStorage[_0x410e4e(0x208)](KEY_SESSIONS,JSON[_0x410e4e(0x1c6)](sessions)),localStorage[_0x410e4e(0x208)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x20377c){console[_0x410e4e(0x278)]('Local\x20Save\x20Error',_0x20377c);}},'loadLocal'(){const _0x43e3b2=a2_0x1674f0;try{const _0x5ff557=localStorage['getItem'](KEY_CLIENTS);if(_0x5ff557)clients=JSON[_0x43e3b2(0x1e9)](_0x5ff557);const _0xdd08cd=localStorage[_0x43e3b2(0x216)](KEY_SESSIONS);if(_0xdd08cd)sessions=JSON['parse'](_0xdd08cd);const _0x1e4d2a=localStorage[_0x43e3b2(0x216)](KEY_SETTINGS);if(_0x1e4d2a){const _0x203f0b=JSON['parse'](_0x1e4d2a);if(_0x203f0b['pattern'])availabilityPattern=_0x203f0b[_0x43e3b2(0x2d1)];if(_0x203f0b[_0x43e3b2(0x2da)])dateExceptions=_0x203f0b[_0x43e3b2(0x2da)];if(_0x203f0b[_0x43e3b2(0x1d5)])specialRanges=_0x203f0b[_0x43e3b2(0x1d5)];}else{for(let _0x2d7abe=0x0;_0x2d7abe<0x7;_0x2d7abe++)availabilityPattern[_0x2d7abe]=Array['from']({'length':0xc},(_0x508523,_0x4e5c9e)=>_0x4e5c9e+0x9);}}catch(_0x356cab){console[_0x43e3b2(0x278)](_0x43e3b2(0x263),_0x356cab);}},async 'fetchFromServer'(_0x2646dd,_0x40fbb8={}){const _0x59f32f=a2_0x1674f0,_0x3ad5ff=window[_0x59f32f(0x17d)]?.[_0x59f32f(0x2a6)],_0x444bfb={'action':_0x2646dd,'init_data':_0x3ad5ff?.[_0x59f32f(0x256)]||'',..._0x40fbb8};try{const _0x1cc42f=await fetch(API_URL,{'method':_0x59f32f(0x20d),'headers':{'Content-Type':_0x59f32f(0x1ac)},'body':JSON[_0x59f32f(0x1c6)](_0x444bfb)}),_0x25219b=await _0x1cc42f[_0x59f32f(0x248)]();if(!_0x25219b['ok'])throw new Error(_0x25219b[_0x59f32f(0x278)]||_0x59f32f(0x24a));return _0x25219b[_0x59f32f(0x242)];}catch(_0x33efa2){console[_0x59f32f(0x278)](_0x59f32f(0x2ce)+_0x2646dd+_0x59f32f(0x2bb),_0x33efa2);throw _0x33efa2;}},async 'syncLoad'(){const _0x4cec9f=a2_0x1674f0,_0xd078c8=new Date(),_0x3df434=_0xd078c8[_0x4cec9f(0x265)]()+'-'+String(_0xd078c8[_0x4cec9f(0x23b)]()+0x1)[_0x4cec9f(0x192)](0x2,'0'),_0x3ab318=new Date(_0xd078c8);_0x3ab318[_0x4cec9f(0x237)](_0xd078c8[_0x4cec9f(0x23b)]()+0x1);const _0x3db5f9=_0x3ab318[_0x4cec9f(0x265)]()+'-'+String(_0x3ab318[_0x4cec9f(0x23b)]()+0x1)[_0x4cec9f(0x192)](0x2,'0'),_0x36a4c7=Date[_0x4cec9f(0x224)]();console[_0x4cec9f(0x213)](_0x4cec9f(0x2e1)+_0x3df434+',\x20'+_0x3db5f9+'...');try{const [_0x142594,_0x2577a3]=await Promise['all']([this['fetchFromServer'](_0x4cec9f(0x2cf),{'month_str':_0x3df434}),this[_0x4cec9f(0x2dc)](_0x4cec9f(0x2cf),{'month_str':_0x3db5f9})]);if(lastUserActionTime>_0x36a4c7)return console['warn'](_0x4cec9f(0x1ae)),![];return this['mergeServerData'](_0x142594,_0x3df434),this['mergeServerData'](_0x2577a3,_0x3db5f9),this[_0x4cec9f(0x185)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x5a5686){console[_0x4cec9f(0x278)](_0x5a5686);throw _0x5a5686;}},'mergeServerData'(_0x2497aa,_0x4f1bb8){const _0x1dafcc=a2_0x1674f0;if(!_0x2497aa)return;_0x2497aa[_0x1dafcc(0x1b7)]&&Array['isArray'](_0x2497aa[_0x1dafcc(0x1b7)])&&(clients=_0x2497aa[_0x1dafcc(0x1b7)]);if(_0x2497aa[_0x1dafcc(0x214)]){if(_0x2497aa[_0x1dafcc(0x214)][_0x1dafcc(0x2d1)])availabilityPattern=_0x2497aa[_0x1dafcc(0x214)][_0x1dafcc(0x2d1)];if(_0x2497aa[_0x1dafcc(0x214)][_0x1dafcc(0x2da)])dateExceptions=_0x2497aa['settings'][_0x1dafcc(0x2da)];if(_0x2497aa[_0x1dafcc(0x214)][_0x1dafcc(0x1d5)])specialRanges=_0x2497aa[_0x1dafcc(0x214)]['ranges'];if(_0x2497aa[_0x1dafcc(0x214)]['cancel_window']){localStorage[_0x1dafcc(0x208)](_0x1dafcc(0x2ab),_0x2497aa[_0x1dafcc(0x214)][_0x1dafcc(0x297)]);const _0x20ad7d=document[_0x1dafcc(0x252)](_0x1dafcc(0x1d2));if(_0x20ad7d)_0x20ad7d['value']=_0x2497aa[_0x1dafcc(0x214)][_0x1dafcc(0x297)];}}_0x2497aa[_0x1dafcc(0x1bb)]&&(sessions=sessions['filter'](_0x30641d=>!_0x30641d[_0x1dafcc(0x23a)]['startsWith'](_0x4f1bb8)),Object[_0x1dafcc(0x27a)](_0x2497aa[_0x1dafcc(0x1bb)])[_0x1dafcc(0x284)](_0x836432=>{const _0x540ab7=_0x1dafcc,_0x3e5d88=_0x2497aa['calendar'][_0x836432];_0x3e5d88[_0x540ab7(0x284)](_0x1dba34=>{const _0x3b708f=_0x540ab7,_0x17993b=clients[_0x3b708f(0x22e)](_0x3fc4fb=>String(_0x3fc4fb['id'])===String(_0x1dba34['c']));sessions[_0x3b708f(0x206)]({'id':_0x1dba34['i'],'clientId':_0x1dba34['c'],'client':_0x17993b?_0x17993b['name']:_0x3b708f(0x25b),'dateStr':_0x4f1bb8+'-'+_0x836432[_0x3b708f(0x192)](0x2,'0'),'start':_0x1dba34['s'],'end':_0x1dba34['e'],'status':_0x1dba34['st']||_0x3b708f(0x1ca),'note':_0x1dba34['n']||'','seriesId':_0x1dba34['sid']||null});});}));},async 'syncBatch'(_0x5e3905){const _0x33a97b=a2_0x1674f0,_0x3ca9a0=[...new Set(_0x5e3905)],_0x147731=_0x3ca9a0['map'](_0x4db57b=>{const _0x4b6f54=a2_0x3f87,_0x1fefbb=sessions['filter'](_0x20bf20=>_0x20bf20['dateStr']===_0x4db57b&&_0x20bf20['status']!==_0x4b6f54(0x1e6)),_0x4541ec=_0x1fefbb[_0x4b6f54(0x287)](_0x25f391=>({'i':_0x25f391['id'],'c':_0x25f391['clientId'],'s':_0x25f391[_0x4b6f54(0x279)],'e':_0x25f391[_0x4b6f54(0x1c0)],'st':_0x25f391['status'],'n':_0x25f391[_0x4b6f54(0x25d)],'sid':_0x25f391[_0x4b6f54(0x2a3)]}));return{'date':_0x4db57b,'day_data':_0x4541ec};});if(_0x147731[_0x33a97b(0x296)]===0x0)return;console['log']('[Sync]\x20Pushing\x20batch\x20updates\x20for\x20'+_0x147731[_0x33a97b(0x296)]+'\x20days'),await this[_0x33a97b(0x2dc)](_0x33a97b(0x1c8),{'changes':_0x147731});}};async function init(){const _0x544a48=a2_0x1674f0;DataManager[_0x544a48(0x1d3)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x544a48(0x252)](_0x544a48(0x26a))[_0x544a48(0x19f)](_0x544a48(0x295),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x544a48(0x1ec)]()[_0x544a48(0x27f)](()=>{const _0x139166=_0x544a48;showToast(_0x139166(0x232),!![]);})[_0x544a48(0x25e)](_0x5f0166=>{showToast('–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º',![]);});}function generateId(){const _0x313f3b=a2_0x1674f0;return Date[_0x313f3b(0x224)]()[_0x313f3b(0x2a7)](0x24)+Math[_0x313f3b(0x230)]()['toString'](0x24)[_0x313f3b(0x1e0)](0x2,0x5);}function toggleSeriesInput(){const _0x135485=a2_0x1674f0,_0x439ec5=document['getElementById']('inpRecurring')[_0x135485(0x2d6)],_0x3ac25c=document[_0x135485(0x252)]('seriesCountContainer');_0x3ac25c['style']['display']=_0x439ec5?_0x135485(0x1ee):_0x135485(0x29a);const _0x161be0=document['getElementById'](_0x135485(0x2c3));_0x161be0[_0x135485(0x18c)]['borderRadius']=_0x439ec5?_0x135485(0x254):_0x135485(0x170);}function openAddSession(_0xb1072f){const _0x5ce5bb=a2_0x1674f0;editingId=null,populateClientSelect(),document['getElementById'](_0x5ce5bb(0x1bd))[_0x5ce5bb(0x27d)]=_0x5ce5bb(0x266),document['getElementById'](_0x5ce5bb(0x229))[_0x5ce5bb(0x18c)][_0x5ce5bb(0x2c1)]=_0x5ce5bb(0x29a),document['getElementById'](_0x5ce5bb(0x24d))['style'][_0x5ce5bb(0x2c1)]=_0x5ce5bb(0x29a);const _0xdaa562=document[_0x5ce5bb(0x252)](_0x5ce5bb(0x2c3)),_0xe4a38f=document[_0x5ce5bb(0x252)](_0x5ce5bb(0x23f));_0xdaa562[_0x5ce5bb(0x18c)]['display']=_0x5ce5bb(0x1fc),_0xdaa562['style']['borderRadius']=_0x5ce5bb(0x170),document[_0x5ce5bb(0x252)](_0x5ce5bb(0x186))[_0x5ce5bb(0x2d6)]=![],document[_0x5ce5bb(0x252)](_0x5ce5bb(0x28b))[_0x5ce5bb(0x2c9)]=0x4,_0xe4a38f['style'][_0x5ce5bb(0x2c1)]=_0x5ce5bb(0x29a),document[_0x5ce5bb(0x252)](_0x5ce5bb(0x293))[_0x5ce5bb(0x2c9)]=getLocalDateStr(_0xb1072f),updateDateDisplay();const _0x6aaaf2=_0xb1072f['getHours']();document[_0x5ce5bb(0x252)](_0x5ce5bb(0x1f7))[_0x5ce5bb(0x2c9)]=String(_0x6aaaf2)[_0x5ce5bb(0x192)](0x2,'0')+_0x5ce5bb(0x1dd),document[_0x5ce5bb(0x252)]('inpEnd')[_0x5ce5bb(0x2c9)]=String(_0x6aaaf2+0x1)[_0x5ce5bb(0x192)](0x2,'0')+':00',openSheet(_0x5ce5bb(0x247));}function openEdit(_0x487249){const _0x266d5f=a2_0x1674f0;editingId=_0x487249['id'],populateClientSelect(),document[_0x266d5f(0x252)](_0x266d5f(0x1bd))['textContent']=_0x266d5f(0x1dc),document[_0x266d5f(0x252)](_0x266d5f(0x229))['style']['display']=_0x266d5f(0x1ee);const _0x42a4cf=document[_0x266d5f(0x252)](_0x266d5f(0x24d));_0x42a4cf[_0x266d5f(0x18c)][_0x266d5f(0x2c1)]=_0x266d5f(0x1fc);_0x487249[_0x266d5f(0x20f)]===_0x266d5f(0x19b)?(_0x42a4cf[_0x266d5f(0x281)]=_0x266d5f(0x17b),_0x42a4cf[_0x266d5f(0x24f)]='–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ'):(_0x42a4cf[_0x266d5f(0x281)]=_0x266d5f(0x21e),_0x42a4cf[_0x266d5f(0x24f)]=_0x266d5f(0x226));const _0x569b08=!!_0x487249[_0x266d5f(0x2a3)];document[_0x266d5f(0x252)](_0x266d5f(0x2c3))[_0x266d5f(0x18c)][_0x266d5f(0x2c1)]=_0x266d5f(0x29a),document[_0x266d5f(0x252)](_0x266d5f(0x23f))['style'][_0x266d5f(0x2c1)]=_0x266d5f(0x29a),_0x569b08?(document[_0x266d5f(0x252)](_0x266d5f(0x238))[_0x266d5f(0x18c)][_0x266d5f(0x2c1)]=_0x266d5f(0x1fc),document[_0x266d5f(0x252)](_0x266d5f(0x238))[_0x266d5f(0x18d)](_0x266d5f(0x1bf))['textContent']=_0x266d5f(0x23c)):document[_0x266d5f(0x252)]('patternInfoBox')['style'][_0x266d5f(0x2c1)]=_0x266d5f(0x29a),document['getElementById'](_0x266d5f(0x18b))['value']=_0x487249[_0x266d5f(0x25f)],document['getElementById']('inpDate')[_0x266d5f(0x2c9)]=_0x487249['dateStr'],document[_0x266d5f(0x252)](_0x266d5f(0x1f7))[_0x266d5f(0x2c9)]=_0x487249[_0x266d5f(0x279)],document[_0x266d5f(0x252)]('inpEnd')[_0x266d5f(0x2c9)]=_0x487249[_0x266d5f(0x1c0)],document['getElementById']('inpNote')[_0x266d5f(0x2c9)]=_0x487249[_0x266d5f(0x25d)]||'',updateDateDisplay(),openSheet('sessionSheet');}async function trySaveSession(){const _0x4b09b1=a2_0x1674f0,_0x4b412c=document[_0x4b09b1(0x252)](_0x4b09b1(0x18b))[_0x4b09b1(0x2c9)],_0x173013=document[_0x4b09b1(0x252)](_0x4b09b1(0x293))[_0x4b09b1(0x2c9)],_0x537b4e=document[_0x4b09b1(0x252)](_0x4b09b1(0x1f7))[_0x4b09b1(0x2c9)],_0x39f9d1=document[_0x4b09b1(0x252)](_0x4b09b1(0x253))['value'],_0x10b3c4=document[_0x4b09b1(0x252)]('inpNote')[_0x4b09b1(0x2c9)],_0x30e1ab=document[_0x4b09b1(0x252)](_0x4b09b1(0x186))['checked'];let _0x313ede=0x4;if(_0x30e1ab){const _0x4a5366=parseInt(document[_0x4b09b1(0x252)]('inpSeriesCount')['value']);if(!_0x4a5366||_0x4a5366<0x2){showToast(_0x4b09b1(0x2d3),![]);return;}if(_0x4a5366>0x64){showToast(_0x4b09b1(0x268),![]);return;}_0x313ede=_0x4a5366;}const _0x3c4400=clients[_0x4b09b1(0x22e)](_0x3cff58=>_0x3cff58[_0x4b09b1(0x2df)]===_0x4b412c);if(!_0x3c4400){showToast('–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞',![]);return;}const _0x392b35=validateAppointment(_0x173013,_0x537b4e,_0x39f9d1,editingId,_0x3c4400['id']);if(!_0x392b35[_0x4b09b1(0x1c2)]){showToast(_0x392b35[_0x4b09b1(0x180)],![]);return;}_0x392b35[_0x4b09b1(0x1d8)]&&showToast(_0x392b35['warning'],![]);const _0x45c93b={'client':_0x4b412c,'clientId':_0x3c4400['id'],'start':_0x537b4e,'end':_0x39f9d1,'note':_0x10b3c4,'status':_0x4b09b1(0x1ca)},_0x284606=editingId?sessions[_0x4b09b1(0x22e)](_0x476dff=>_0x476dff['id']===editingId):null;if(_0x284606&&_0x284606[_0x4b09b1(0x2a3)]){tempSessionData={..._0x45c93b,'dateStr':_0x173013,'id':editingId,'seriesId':_0x284606[_0x4b09b1(0x2a3)]},openActionSheet(_0x4b09b1(0x2aa));return;}let _0x12727e=null;if(!editingId)_0x12727e='create';else{if(_0x284606){if(String(_0x284606['clientId'])!==String(_0x3c4400['id']))console[_0x4b09b1(0x213)](_0x4b09b1(0x260)),NotificationManager[_0x4b09b1(0x291)](_0x4b09b1(0x257),_0x284606),_0x12727e=_0x4b09b1(0x243);else(_0x284606['start']!==_0x537b4e||_0x284606[_0x4b09b1(0x1c0)]!==_0x39f9d1||_0x284606[_0x4b09b1(0x23a)]!==_0x173013)&&(_0x12727e=_0x4b09b1(0x184));}}if(!editingId&&_0x30e1ab){createBatchSeries(_0x45c93b,_0x173013,_0x313ede),NotificationManager[_0x4b09b1(0x291)](_0x4b09b1(0x243),{..._0x45c93b,'dateStr':_0x173013});return;}lastUserActionTime=Date['now']();const _0x9bf4e6={..._0x45c93b,'dateStr':_0x173013,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x9bf4e6),_0x12727e&&NotificationManager[_0x4b09b1(0x291)](_0x12727e,_0x9bf4e6);}function toggleSessionStatus(){const _0x3f768=a2_0x1674f0;lastUserActionTime=Date['now']();const _0x3e271a=sessions[_0x3f768(0x22e)](_0x2846ac=>_0x2846ac['id']===editingId);if(!_0x3e271a)return;const _0x49b59d=_0x3e271a[_0x3f768(0x20f)]==='completed'?_0x3f768(0x1ca):_0x3f768(0x19b);_0x3e271a[_0x3f768(0x20f)]=_0x49b59d,saveSingleSession(_0x3e271a),_0x49b59d===_0x3f768(0x19b)&&NotificationManager[_0x3f768(0x291)]('complete',_0x3e271a),showToast(_0x49b59d===_0x3f768(0x19b)?_0x3f768(0x1ce):_0x3f768(0x1ab),!![]);}function validateAppointment(_0x2ed280,_0xe0bc97,_0x39aa8e,_0xce7fca,_0x4b644e){const _0x428a6e=a2_0x1674f0,[_0x25f5f4,_0x25334e]=_0xe0bc97[_0x428a6e(0x1da)](':')[_0x428a6e(0x287)](Number),[_0xe01942,_0x359305]=_0x39aa8e[_0x428a6e(0x1da)](':')['map'](Number),_0x177db3=_0x25f5f4*0x3c+_0x25334e,_0x7da15f=_0xe01942*0x3c+_0x359305,_0x471789=String(_0x4b644e);let _0x47e32d=![],_0x36b521='';for(let _0x304bef of sessions){if(_0x304bef[_0x428a6e(0x23a)]!==_0x2ed280)continue;if(_0x304bef[_0x428a6e(0x20f)]===_0x428a6e(0x1f5))continue;if(_0xce7fca&&String(_0x304bef['id'])===String(_0xce7fca))continue;const [_0x1db8f4,_0x2d5b6b]=_0x304bef[_0x428a6e(0x279)]['split'](':')['map'](Number),[_0x3808d6,_0x2ad051]=_0x304bef[_0x428a6e(0x1c0)]['split'](':')[_0x428a6e(0x287)](Number),_0x561357=_0x1db8f4*0x3c+_0x2d5b6b,_0x5d6493=_0x3808d6*0x3c+_0x2ad051;if(Math[_0x428a6e(0x23d)](_0x177db3,_0x561357)<Math[_0x428a6e(0x181)](_0x7da15f,_0x5d6493)){if(_0x304bef[_0x428a6e(0x2d0)]&&String(_0x304bef[_0x428a6e(0x2d0)])===_0x471789)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0x304bef['client']+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x47e32d=!![],_0x36b521=_0x304bef[_0x428a6e(0x25f)];}}if(_0x47e32d)return{'valid':!![],'warning':_0x428a6e(0x1f3)+_0x36b521};return{'valid':!![]};}function saveSingleSession(_0x25822e){const _0x144626=a2_0x1674f0;if(editingId){const _0x8a257e=sessions[_0x144626(0x1c4)](_0x31a6c4=>_0x31a6c4['id']===editingId);if(_0x8a257e!==-0x1)sessions[_0x8a257e]=_0x25822e;}else sessions[_0x144626(0x206)](_0x25822e);afterSaveAction([_0x25822e['dateStr']]);}function createBatchSeries(_0x2d904f,_0x1cc4d7,_0x354cc8){const _0x5c98d6=a2_0x1674f0,_0x33a154=generateId(),_0x13b989=[],_0x40b5ca=[];let _0x3594ce=0x0,_0x213fde=new Date(_0x1cc4d7);for(let _0x240fd6=0x0;_0x240fd6<_0x354cc8;_0x240fd6++){const _0x3c1495=getLocalDateStr(_0x213fde),_0x1530cd=validateAppointment(_0x3c1495,_0x2d904f[_0x5c98d6(0x279)],_0x2d904f[_0x5c98d6(0x1c0)],null,_0x2d904f[_0x5c98d6(0x2d0)]);if(!_0x1530cd[_0x5c98d6(0x1c2)])console[_0x5c98d6(0x213)](_0x5c98d6(0x1ef)+_0x3c1495+_0x5c98d6(0x1fa)),_0x3594ce++;else{const _0x25a55f={..._0x2d904f,'id':generateId(),'dateStr':_0x3c1495,'seriesId':_0x33a154};_0x40b5ca[_0x5c98d6(0x206)](_0x25a55f),_0x13b989[_0x5c98d6(0x206)](_0x3c1495);}_0x213fde[_0x5c98d6(0x20e)](_0x213fde[_0x5c98d6(0x1c1)]()+0x7);}if(_0x40b5ca[_0x5c98d6(0x296)]===0x0){showToast('–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!',![]);return;}sessions[_0x5c98d6(0x206)](..._0x40b5ca),lastUserActionTime=Date[_0x5c98d6(0x224)]();let _0x28d6b5='–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20'+_0x40b5ca[_0x5c98d6(0x296)];_0x3594ce>0x0&&(_0x28d6b5+=_0x5c98d6(0x21a)+_0x3594ce+')'),showToast(_0x28d6b5,!![]),afterSaveAction(_0x13b989);}function updateSeriesBatch(_0x1ea6d2,_0x4deb9e){const _0x454ac2=a2_0x1674f0,_0x4d1a77=[],_0x122be0=_0x4deb9e[_0x454ac2(0x2a3)];if(_0x1ea6d2===_0x454ac2(0x2b4)){const _0x1c0db9={..._0x4deb9e,'seriesId':null},_0x3cc6dc=sessions[_0x454ac2(0x1c4)](_0x13c5fb=>_0x13c5fb['id']===_0x4deb9e['id']);if(_0x3cc6dc!==-0x1)sessions[_0x3cc6dc]=_0x1c0db9;_0x4d1a77[_0x454ac2(0x206)](_0x1c0db9[_0x454ac2(0x23a)]);}else{if(_0x1ea6d2===_0x454ac2(0x24e)){const _0x3a7a5e=_0x4deb9e[_0x454ac2(0x23a)];sessions[_0x454ac2(0x284)]((_0xd6d71f,_0x267a41)=>{const _0x5df895=_0x454ac2;_0xd6d71f[_0x5df895(0x2a3)]===_0x122be0&&_0xd6d71f['dateStr']>=_0x3a7a5e&&(sessions[_0x267a41]={...sessions[_0x267a41],'start':_0x4deb9e[_0x5df895(0x279)],'end':_0x4deb9e[_0x5df895(0x1c0)],'note':_0x4deb9e[_0x5df895(0x25d)],'client':_0x4deb9e[_0x5df895(0x25f)],'clientId':_0x4deb9e['clientId']},_0x4d1a77['push'](_0xd6d71f[_0x5df895(0x23a)]));});}}afterSaveAction(_0x4d1a77);}function tryDeleteSession(){const _0x58b900=a2_0x1674f0,_0x166197=sessions[_0x58b900(0x22e)](_0x3d3d94=>_0x3d3d94['id']===editingId);if(!_0x166197)return;_0x166197[_0x58b900(0x2a3)]?openActionSheet(_0x58b900(0x24b)):commitDelete(_0x58b900(0x2b4),_0x166197);}function commitDelete(_0x103d8c,_0x50b95f){const _0x4490d1=a2_0x1674f0;lastUserActionTime=Date[_0x4490d1(0x224)](),NotificationManager[_0x4490d1(0x291)](_0x4490d1(0x257),_0x50b95f);const _0x2c2b92=[];if(_0x103d8c===_0x4490d1(0x2b4))sessions=sessions[_0x4490d1(0x280)](_0x14d03e=>_0x14d03e['id']!==_0x50b95f['id']),_0x2c2b92[_0x4490d1(0x206)](_0x50b95f['dateStr']);else{if(_0x103d8c===_0x4490d1(0x24e)){const _0x3316dc=_0x50b95f['dateStr'],_0x6a66d2=_0x50b95f[_0x4490d1(0x2a3)];sessions[_0x4490d1(0x284)](_0x4ec196=>{const _0x1537e5=_0x4490d1;_0x4ec196[_0x1537e5(0x2a3)]===_0x6a66d2&&_0x4ec196[_0x1537e5(0x23a)]>=_0x3316dc&&_0x2c2b92[_0x1537e5(0x206)](_0x4ec196[_0x1537e5(0x23a)]);}),sessions=sessions['filter'](_0xba00a1=>!(_0xba00a1[_0x4490d1(0x2a3)]===_0x6a66d2&&_0xba00a1[_0x4490d1(0x23a)]>=_0x3316dc));}}afterSaveAction(_0x2c2b92);}function afterSaveAction(_0xb8b5b8){const _0xb2872c=a2_0x1674f0;DataManager[_0xb2872c(0x185)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager['syncBatch'](_0xb8b5b8)[_0xb2872c(0x27f)](()=>console['log']('Batch\x20Sync\x20OK'))['catch'](_0x3b0969=>showToast(_0xb2872c(0x2d2),![]));}const NotificationManager={'formatDate'(_0x5bb543){const _0x367f84=a2_0x1674f0,_0x14a073=new Date(_0x5bb543),_0xf780a0={'weekday':_0x367f84(0x1a3),'day':_0x367f84(0x2a1),'month':'long'};let _0x414333=_0x14a073[_0x367f84(0x28c)](_0x367f84(0x189),_0xf780a0);return _0x414333[_0x367f84(0x2b3)](0x0)['toUpperCase']()+_0x414333['slice'](0x1);},'getText'(_0x5d2a8b,_0x2c4e18){const _0xfa64ba=a2_0x1674f0,_0x40b1a9=this['formatDate'](_0x2c4e18[_0xfa64ba(0x23a)]);switch(_0x5d2a8b){case _0xfa64ba(0x243):return'<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a'+(_0xfa64ba(0x246)+_0x40b1a9+'\x0a')+(_0xfa64ba(0x171)+_0x2c4e18[_0xfa64ba(0x279)]+'\x20‚Äî\x20'+_0x2c4e18['end']+'\x0a\x0a')+_0xfa64ba(0x1cc);case _0xfa64ba(0x184):return'<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a'+_0xfa64ba(0x173)+(_0xfa64ba(0x17a)+_0x2c4e18['start']+'\x20‚Äî\x20'+_0x2c4e18[_0xfa64ba(0x1c0)]+'</b>\x0a\x0a')+(_0xfa64ba(0x246)+_0x40b1a9);case _0xfa64ba(0x257):return _0xfa64ba(0x1ba)+(_0xfa64ba(0x29d)+_0x40b1a9+'\x20('+_0x2c4e18[_0xfa64ba(0x279)]+_0xfa64ba(0x274));case _0xfa64ba(0x172):return'<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a'+_0xfa64ba(0x201)+_0xfa64ba(0x1e2);default:return'';}},async 'send'(_0x577904,_0xd932d5){const _0x3e5050=a2_0x1674f0;console[_0x3e5050(0x213)](_0x3e5050(0x1cd),_0x577904,_0xd932d5);if(!_0xd932d5){console[_0x3e5050(0x278)](_0x3e5050(0x2bf));return;}const _0x1f211a=String(_0xd932d5[_0x3e5050(0x2d0)]);console['log'](_0x3e5050(0x26b),_0x1f211a);if(!_0xd932d5[_0x3e5050(0x2d0)]||_0x1f211a===_0x3e5050(0x22b)||_0x1f211a===_0x3e5050(0x2ad)){console[_0x3e5050(0x278)](_0x3e5050(0x2bd));if(_0xd932d5['client']){const _0x53644b=clients[_0x3e5050(0x22e)](_0x5319a0=>_0x5319a0[_0x3e5050(0x2df)]===_0xd932d5[_0x3e5050(0x25f)]);if(_0x53644b)return console[_0x3e5050(0x213)](_0x3e5050(0x2de),_0x53644b['id']),this[_0x3e5050(0x291)](_0x577904,{..._0xd932d5,'clientId':_0x53644b['id']});}return;}if(_0x1f211a['length']<0x5){console[_0x3e5050(0x1c3)](_0x3e5050(0x194),_0x1f211a);return;}const _0x55471a=this[_0x3e5050(0x22f)](_0x577904,_0xd932d5);if(!_0x55471a){console[_0x3e5050(0x278)](_0x3e5050(0x228));return;}console['log'](_0x3e5050(0x2b5)+_0x1f211a+_0x3e5050(0x27e)),DataManager[_0x3e5050(0x2dc)]('send_notification',{'chatId':_0x1f211a,'text':_0x55471a})['then'](_0x1a56e3=>console['log'](_0x3e5050(0x1a0),_0x1a56e3))[_0x3e5050(0x25e)](_0x266de9=>console[_0x3e5050(0x278)](_0x3e5050(0x1db),_0x266de9));}};function getLocalDateStr(_0x8ae09){const _0x153b39=a2_0x1674f0,_0x46d057=_0x8ae09[_0x153b39(0x265)](),_0x125fc0=String(_0x8ae09[_0x153b39(0x23b)]()+0x1)['padStart'](0x2,'0'),_0x3b9f19=String(_0x8ae09[_0x153b39(0x1c1)]())[_0x153b39(0x192)](0x2,'0');return _0x46d057+'-'+_0x125fc0+'-'+_0x3b9f19;}function getDateStr(_0x3017e6){const _0x2d1c65=a2_0x1674f0,_0x3b4c9=new Date();return _0x3b4c9['setDate'](_0x3b4c9[_0x2d1c65(0x1c1)]()+_0x3017e6),getLocalDateStr(_0x3b4c9);}function getStartOfWeek(_0x498799){const _0x131298=a2_0x1674f0,_0x50d482=new Date(_0x498799),_0x5dd9ed=_0x50d482[_0x131298(0x2a2)](),_0x4c890a=_0x50d482['getDate']()-_0x5dd9ed+(_0x5dd9ed===0x0?-0x6:0x1);return _0x50d482[_0x131298(0x20e)](_0x4c890a),_0x50d482[_0x131298(0x2b7)](0x0,0x0,0x0,0x0),_0x50d482;}function hexToRgba(_0x546e78,_0x306932){const _0x4fbd11=a2_0x1674f0;if(!_0x546e78)return _0x4fbd11(0x1b1);let _0x51296e=0x0,_0x4d9368=0x0,_0x2db3f6=0x0;if(_0x546e78[_0x4fbd11(0x296)]===0x4)_0x51296e='0x'+_0x546e78[0x1]+_0x546e78[0x1],_0x4d9368='0x'+_0x546e78[0x2]+_0x546e78[0x2],_0x2db3f6='0x'+_0x546e78[0x3]+_0x546e78[0x3];else _0x546e78[_0x4fbd11(0x296)]===0x7&&(_0x51296e='0x'+_0x546e78[0x1]+_0x546e78[0x2],_0x4d9368='0x'+_0x546e78[0x3]+_0x546e78[0x4],_0x2db3f6='0x'+_0x546e78[0x5]+_0x546e78[0x6]);return _0x4fbd11(0x2a9)+ +_0x51296e+',\x20'+ +_0x4d9368+',\x20'+ +_0x2db3f6+',\x20'+_0x306932+')';}function renderTimeColumn(){const _0x2c3166=a2_0x1674f0,_0x593358=document[_0x2c3166(0x252)]('timeColumn'),_0x3e6e9b=document[_0x2c3166(0x252)](_0x2c3166(0x290));_0x593358[_0x2c3166(0x24f)]='',_0x593358[_0x2c3166(0x28f)](_0x3e6e9b);for(let _0x647c01=0x0;_0x647c01<0x18;_0x647c01++){const _0x116a82=document[_0x2c3166(0x1e5)](_0x2c3166(0x1a8));_0x116a82['className']='time-label';if(_0x647c01>0x0)_0x116a82[_0x2c3166(0x24f)]='<span>'+String(_0x647c01)['padStart'](0x2,'0')+_0x2c3166(0x289);_0x593358[_0x2c3166(0x28f)](_0x116a82);}}function renderDayRange(_0x519668,_0x4d3cd4){const _0x196c00=a2_0x1674f0,_0x24a19c=document[_0x196c00(0x252)]('daysHeaderTrack'),_0x1d8042=document[_0x196c00(0x252)](_0x196c00(0x1f1)),_0x3988a4=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1357b6=new Date();_0x1357b6[_0x196c00(0x2b7)](0x0,0x0,0x0,0x0);const _0x1340c6=getLocalDateStr(new Date());for(let _0x423236=_0x519668;_0x423236<=_0x4d3cd4;_0x423236++){const _0x11d0fc=new Date(_0x1357b6);_0x11d0fc[_0x196c00(0x20e)](_0x11d0fc[_0x196c00(0x1c1)]()+_0x423236);const _0x443dc6=getLocalDateStr(_0x11d0fc);let _0xa08263=_0x11d0fc[_0x196c00(0x2a2)]()-0x1;if(_0xa08263===-0x1)_0xa08263=0x6;const _0x3c4dd8=_0x443dc6===_0x1340c6,_0x4bc627=document['createElement']('div');_0x4bc627[_0x196c00(0x281)]=_0x196c00(0x1b2)+(_0x3c4dd8?'today':''),_0x4bc627['id']=_0x196c00(0x259)+_0x443dc6,_0x4bc627[_0x196c00(0x2be)](_0x196c00(0x231),_0x443dc6),_0x4bc627[_0x196c00(0x24f)]=_0x196c00(0x17c)+_0x3988a4[_0xa08263]+_0x196c00(0x251)+_0x11d0fc[_0x196c00(0x1c1)]()+_0x196c00(0x215)+_0x443dc6+_0x196c00(0x220),_0x4bc627[_0x196c00(0x2d4)]=()=>openDayOptions(_0x443dc6,_0x3988a4[_0xa08263]+'\x20'+_0x11d0fc[_0x196c00(0x1c1)]()),_0x24a19c['appendChild'](_0x4bc627);const _0x4522fe=document[_0x196c00(0x1e5)]('div');_0x4522fe[_0x196c00(0x281)]='day-column\x20'+(_0x3c4dd8?_0x196c00(0x271):''),_0x4522fe['setAttribute'](_0x196c00(0x231),_0x443dc6),_0x4522fe[_0x196c00(0x2be)](_0x196c00(0x223),_0xa08263),renderEventsForColumn(_0x4522fe,_0x443dc6,_0xa08263),attachLongPressHandler(_0x4522fe,_0x11d0fc),_0x1d8042[_0x196c00(0x28f)](_0x4522fe),updateDayStats(_0x443dc6);}}function reRenderBlocks(){const _0x5c6745=a2_0x1674f0;document['querySelectorAll'](_0x5c6745(0x1d9))['forEach'](_0x39fe20=>{const _0x3f7d6c=_0x5c6745;_0x39fe20[_0x3f7d6c(0x2ae)](_0x3f7d6c(0x250))['forEach'](_0x451fd5=>_0x451fd5[_0x3f7d6c(0x1b6)]());const _0x20d2ab=_0x39fe20[_0x3f7d6c(0x1fb)](_0x3f7d6c(0x231)),_0x164f77=parseInt(_0x39fe20['getAttribute'](_0x3f7d6c(0x223))),_0x16c723=Math['round'](_0x39fe20[_0x3f7d6c(0x286)]);(availabilityPattern[_0x164f77]||[])['forEach'](_0x13b1e2=>{const _0x26554c=_0x3f7d6c,_0x5466a5=document[_0x26554c(0x1e5)](_0x26554c(0x1a8));_0x5466a5[_0x26554c(0x281)]=_0x26554c(0x2e0);const _0x84f0f0=_0x13b1e2*GRID_H;_0x5466a5['style']['top']=_0x84f0f0+'px',_0x5466a5[_0x26554c(0x18c)]['backgroundPosition']='-'+_0x16c723+_0x26554c(0x236)+_0x84f0f0+'px',_0x39fe20[_0x26554c(0x28f)](_0x5466a5);});if(specialRanges&&specialRanges[_0x3f7d6c(0x296)]>0x0){const _0x36ed74=new Date(_0x20d2ab+_0x3f7d6c(0x1af))[_0x3f7d6c(0x22c)](),_0x96b3d9=new Date(_0x20d2ab+_0x3f7d6c(0x183))[_0x3f7d6c(0x22c)]();specialRanges[_0x3f7d6c(0x284)](_0x5415e6=>{const _0x5e52e3=_0x3f7d6c,_0xb59440=new Date(_0x5415e6[_0x5e52e3(0x279)])[_0x5e52e3(0x22c)](),_0x47a330=new Date(_0x5415e6[_0x5e52e3(0x1c0)])['getTime'](),_0x244d4d=Math['max'](_0x36ed74,_0xb59440),_0x345c58=Math[_0x5e52e3(0x181)](_0x96b3d9,_0x47a330);if(_0x244d4d<_0x345c58){if(_0x244d4d<=_0x36ed74&&_0x345c58>=_0x96b3d9-0xea60){if(!_0x39fe20[_0x5e52e3(0x18d)]('.day-off-overlay')){const _0x36f529=document[_0x5e52e3(0x1e5)](_0x5e52e3(0x1a8));_0x36f529[_0x5e52e3(0x281)]=_0x5e52e3(0x1bc),_0x36f529['style']['backgroundPosition']='-'+_0x16c723+_0x5e52e3(0x264),_0x39fe20['appendChild'](_0x36f529);}}else{const _0x3abdc6=(_0x244d4d-_0x36ed74)/0x36ee80*GRID_H,_0x5c84ca=(_0x345c58-_0x244d4d)/0x36ee80*GRID_H,_0x48061b=document['createElement']('div');_0x48061b[_0x5e52e3(0x281)]=_0x5e52e3(0x1ff),_0x48061b[_0x5e52e3(0x18c)][_0x5e52e3(0x227)]=_0x3abdc6+'px',_0x48061b[_0x5e52e3(0x18c)]['height']=_0x5c84ca+'px',_0x48061b['style'][_0x5e52e3(0x200)]='-'+_0x16c723+_0x5e52e3(0x236)+_0x3abdc6+'px',_0x39fe20[_0x5e52e3(0x28f)](_0x48061b);}}});}if(dateExceptions[_0x20d2ab]===_0x3f7d6c(0x199)){if(!_0x39fe20[_0x3f7d6c(0x18d)]('.day-off-overlay')){const _0x44bd41=document[_0x3f7d6c(0x1e5)](_0x3f7d6c(0x1a8));_0x44bd41['className']=_0x3f7d6c(0x1bc),_0x44bd41[_0x3f7d6c(0x18c)][_0x3f7d6c(0x200)]='-'+_0x16c723+_0x3f7d6c(0x264),_0x39fe20[_0x3f7d6c(0x28f)](_0x44bd41);}}renderEventsForColumn(_0x39fe20,_0x20d2ab,_0x164f77),updateDayStats(_0x20d2ab);});}function updateAllDayStats(){const _0x3e72ba=a2_0x1674f0;document[_0x3e72ba(0x2ae)](_0x3e72ba(0x1fe))[_0x3e72ba(0x284)](_0x22b423=>{const _0x567206=_0x3e72ba;updateDayStats(_0x22b423['getAttribute'](_0x567206(0x231)));});}function updateDayStats(_0x1132f6){const _0x4f9e3f=a2_0x1674f0,_0x5e96de=document[_0x4f9e3f(0x252)]('stat-'+_0x1132f6);if(!_0x5e96de)return;const _0x1ea66e=new Date(_0x1132f6);let _0x405d15=_0x1ea66e[_0x4f9e3f(0x2a2)]()-0x1;if(_0x405d15===-0x1)_0x405d15=0x6;if(dateExceptions[_0x1132f6]===_0x4f9e3f(0x199)){_0x5e96de[_0x4f9e3f(0x18c)][_0x4f9e3f(0x2c1)]='none';return;}const _0x4133f7=availabilityPattern[_0x405d15]||[],_0x37162f=0x18-_0x4133f7[_0x4f9e3f(0x296)],_0x307076=_0x37162f*0x3c,_0x10b564=sessions[_0x4f9e3f(0x280)](_0x40b0e0=>_0x40b0e0[_0x4f9e3f(0x23a)]===_0x1132f6&&_0x40b0e0[_0x4f9e3f(0x20f)]!==_0x4f9e3f(0x1f5));if(_0x10b564[_0x4f9e3f(0x296)]===0x0){_0x5e96de['style'][_0x4f9e3f(0x2c1)]=_0x4f9e3f(0x29a);return;}let _0x22b534=_0x10b564[_0x4f9e3f(0x287)](_0x4cb690=>{const _0x4aa7a0=_0x4f9e3f,[_0x26323c,_0x6d71ef]=_0x4cb690[_0x4aa7a0(0x279)][_0x4aa7a0(0x1da)](':')['map'](Number),[_0x59ee9a,_0x3e90e3]=_0x4cb690[_0x4aa7a0(0x1c0)][_0x4aa7a0(0x1da)](':')[_0x4aa7a0(0x287)](Number);return[_0x26323c*0x3c+_0x6d71ef,_0x59ee9a*0x3c+_0x3e90e3];});_0x22b534[_0x4f9e3f(0x28a)]((_0x49c165,_0x3311bc)=>_0x49c165[0x0]-_0x3311bc[0x0]);let _0x506c9c=[];if(_0x22b534['length']>0x0){let _0x1f108d=_0x22b534[0x0];for(let _0x197c0a=0x1;_0x197c0a<_0x22b534['length'];_0x197c0a++){_0x22b534[_0x197c0a][0x0]<_0x1f108d[0x1]?_0x1f108d[0x1]=Math['max'](_0x1f108d[0x1],_0x22b534[_0x197c0a][0x1]):(_0x506c9c[_0x4f9e3f(0x206)](_0x1f108d),_0x1f108d=_0x22b534[_0x197c0a]);}_0x506c9c['push'](_0x1f108d);}let _0x22f4d7=0x0;_0x506c9c['forEach'](_0x34aaf7=>_0x22f4d7+=_0x34aaf7[0x1]-_0x34aaf7[0x0]),_0x5e96de['style'][_0x4f9e3f(0x2c1)]=_0x4f9e3f(0x1fc);const _0x3047c6=_0x5e96de[_0x4f9e3f(0x18d)](_0x4f9e3f(0x2c2));if(_0x307076===0x0){_0x3047c6[_0x4f9e3f(0x18c)][_0x4f9e3f(0x17f)]=_0x4f9e3f(0x219),_0x3047c6['style'][_0x4f9e3f(0x2c5)]=_0x4f9e3f(0x276);return;}const _0x422beb=_0x22f4d7/_0x307076*0x64;console[_0x4f9e3f(0x213)]('['+_0x1132f6+_0x4f9e3f(0x21d)+_0x37162f+_0x4f9e3f(0x1d4)+_0x22f4d7+_0x4f9e3f(0x1e7)+_0x422beb[_0x4f9e3f(0x193)](0x1)+'%'),_0x422beb>0x64?(_0x3047c6[_0x4f9e3f(0x18c)][_0x4f9e3f(0x17f)]=_0x4f9e3f(0x219),_0x3047c6[_0x4f9e3f(0x18c)][_0x4f9e3f(0x2c5)]=_0x4f9e3f(0x276)):(_0x3047c6[_0x4f9e3f(0x18c)][_0x4f9e3f(0x17f)]=_0x422beb+'%',_0x3047c6[_0x4f9e3f(0x18c)][_0x4f9e3f(0x2c5)]=_0x4f9e3f(0x207));}function renderEventsForColumn(_0x1761a1,_0x5717e6,_0x34f83c){const _0x4b4975=a2_0x1674f0,_0x3e9d76=sessions['filter'](_0x2a607d=>_0x2a607d[_0x4b4975(0x23a)]===_0x5717e6),_0x375e5b=_0x3e9d76[_0x4b4975(0x287)](_0x498dff=>{const _0x562b25=_0x4b4975,[_0x572271,_0x314c94]=_0x498dff['start'][_0x562b25(0x1da)](':')['map'](Number),[_0x1755a2,_0x21490c]=_0x498dff['end'][_0x562b25(0x1da)](':')[_0x562b25(0x287)](Number);return{'data':_0x498dff,'start':_0x572271*0x3c+_0x314c94,'end':_0x1755a2*0x3c+_0x21490c,'colIndex':0x0};});_0x375e5b[_0x4b4975(0x28a)]((_0x1937d8,_0x285135)=>{const _0x2eb351=_0x4b4975;if(_0x1937d8[_0x2eb351(0x279)]!==_0x285135['start'])return _0x1937d8[_0x2eb351(0x279)]-_0x285135[_0x2eb351(0x279)];return _0x285135[_0x2eb351(0x1c0)]-_0x285135[_0x2eb351(0x279)]-(_0x1937d8['end']-_0x1937d8[_0x2eb351(0x279)]);});const _0x276bad=[];_0x375e5b['forEach'](_0x179238=>{const _0x468c23=_0x4b4975;let _0x303bb9=![];for(let _0x3680e8=0x0;_0x3680e8<_0x276bad[_0x468c23(0x296)];_0x3680e8++){const _0x449017=_0x276bad[_0x3680e8],_0x1a40e4=_0x449017[_0x449017[_0x468c23(0x296)]-0x1];if(_0x179238['start']>=_0x1a40e4[_0x468c23(0x1c0)]){_0x449017[_0x468c23(0x206)](_0x179238),_0x179238[_0x468c23(0x1ed)]=_0x3680e8,_0x303bb9=!![];break;}}!_0x303bb9&&(_0x276bad[_0x468c23(0x206)]([_0x179238]),_0x179238[_0x468c23(0x1ed)]=_0x276bad[_0x468c23(0x296)]-0x1);}),_0x375e5b[_0x4b4975(0x284)](_0x3cc12a=>{const _0x257cdb=_0x4b4975;let _0x2c8cca=0x0;_0x375e5b[_0x257cdb(0x284)](_0x108dab=>{const _0x5b41f1=_0x257cdb;if(Math[_0x5b41f1(0x23d)](_0x3cc12a[_0x5b41f1(0x279)],_0x108dab[_0x5b41f1(0x279)])<Math[_0x5b41f1(0x181)](_0x3cc12a[_0x5b41f1(0x1c0)],_0x108dab[_0x5b41f1(0x1c0)])){if(_0x108dab[_0x5b41f1(0x1ed)]>_0x2c8cca)_0x2c8cca=_0x108dab[_0x5b41f1(0x1ed)];}});const _0x595629=_0x2c8cca+0x1,_0x41720c=0x64/_0x595629,_0x597cc8=_0x3cc12a['colIndex']*_0x41720c,_0x4f4699=createEventEl(_0x3cc12a[_0x257cdb(0x242)]);_0x4f4699['style'][_0x257cdb(0x17f)]=_0x257cdb(0x21c)+_0x41720c+'%\x20-\x204px)',_0x4f4699[_0x257cdb(0x18c)]['left']=_0x257cdb(0x21c)+_0x597cc8+_0x257cdb(0x205),_0x4f4699[_0x257cdb(0x18c)][_0x257cdb(0x1a2)]=0xa+_0x3cc12a[_0x257cdb(0x1ed)],_0x41720c<0x55&&_0x4f4699[_0x257cdb(0x209)][_0x257cdb(0x26e)]('mini'),_0x1761a1['appendChild'](_0x4f4699);});}function createEventEl(_0x4f791a){const _0x423808=a2_0x1674f0,[_0x168dc8,_0x45cf50]=_0x4f791a[_0x423808(0x279)][_0x423808(0x1da)](':')[_0x423808(0x287)](Number),[_0x38c06a,_0x276b49]=_0x4f791a[_0x423808(0x1c0)]['split'](':')[_0x423808(0x287)](Number),_0x272596=(_0x168dc8*0x3c+_0x45cf50)/0x3c*GRID_H,_0x3052e1=(_0x38c06a*0x3c+_0x276b49-(_0x168dc8*0x3c+_0x45cf50))/0x3c*GRID_H,_0x254181=document[_0x423808(0x1e5)](_0x423808(0x1a8)),_0x3f6578=_0x4f791a['status']===_0x423808(0x19b)?'\x20status-completed':'';_0x254181[_0x423808(0x281)]=_0x423808(0x26d)+_0x3f6578,_0x254181[_0x423808(0x18c)]['top']=_0x272596+'px',_0x254181['style'][_0x423808(0x258)]=Math[_0x423808(0x23d)](_0x3052e1,0x14)+'px';const _0x244345=clients[_0x423808(0x22e)](_0x4316b4=>_0x4f791a['clientId']&&String(_0x4316b4['id'])===String(_0x4f791a[_0x423808(0x2d0)])||_0x4316b4[_0x423808(0x2df)]===_0x4f791a[_0x423808(0x25f)]),_0x41b729=_0x244345?_0x244345[_0x423808(0x27b)]:_0x423808(0x2bc);_0x254181[_0x423808(0x18c)][_0x423808(0x2c7)]=_0x41b729,_0x254181['style'][_0x423808(0x2d5)]=hexToRgba(_0x41b729,0.85);let _0x42ac3d=_0x423808(0x244)+_0x4f791a[_0x423808(0x25f)]+_0x423808(0x272)+_0x4f791a[_0x423808(0x279)]+_0x423808(0x1df)+_0x4f791a['end']+_0x423808(0x1d6);return _0x4f791a[_0x423808(0x2a3)]&&(_0x42ac3d+=_0x423808(0x245)),_0x4f791a[_0x423808(0x20f)]==='completed'&&(_0x42ac3d+=_0x423808(0x203)),_0x254181[_0x423808(0x24f)]=_0x42ac3d,_0x254181[_0x423808(0x2d4)]=_0x505802=>{const _0x15eea2=_0x423808;_0x505802[_0x15eea2(0x277)](),openEdit(_0x4f791a);},_0x254181;}function attachLongPressHandler(_0x519358,_0x5f3f2){const _0x44bc07=a2_0x1674f0;let _0x2cfb9a=0x0,_0x3e545e=null;const _0x5780c6=_0x282c89=>{const _0x58fb4c=a2_0x3f87;if(_0x282c89[_0x58fb4c(0x249)][_0x58fb4c(0x2cd)]('.event-card'))return;isScrolling=![],_0x2cfb9a=_0x282c89['touches']?_0x282c89[_0x58fb4c(0x292)][0x0]['clientY']:_0x282c89['clientY'],_0x3e545e=setTimeout(()=>{const _0x573237=_0x58fb4c;if(!isScrolling){navigator[_0x573237(0x182)]?.(0x32);const _0x51587f=_0x519358['getBoundingClientRect'](),_0x58d6db=Math[_0x573237(0x177)]((_0x2cfb9a-_0x51587f[_0x573237(0x227)])/GRID_H);_0x5f3f2[_0x573237(0x2b7)](_0x58d6db,0x0),openAddSession(_0x5f3f2);}},0x1f4);},_0x2c0580=()=>{isScrolling=!![],clearTimeout(_0x3e545e);},_0x129fb5=()=>{clearTimeout(_0x3e545e);};_0x519358[_0x44bc07(0x19f)]('touchstart',_0x5780c6,{'passive':!![]}),_0x519358[_0x44bc07(0x19f)](_0x44bc07(0x2cc),_0x2c0580,{'passive':!![]}),_0x519358[_0x44bc07(0x19f)](_0x44bc07(0x1c9),_0x129fb5),_0x519358[_0x44bc07(0x19f)](_0x44bc07(0x2b2),_0x5780c6),_0x519358[_0x44bc07(0x19f)]('mousemove',_0x2c0580),_0x519358[_0x44bc07(0x19f)](_0x44bc07(0x17e),_0x129fb5);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x44ccfa=a2_0x1674f0,_0x125302=document[_0x44ccfa(0x252)](_0x44ccfa(0x26a)),_0x8dfbfa=_0x125302[_0x44ccfa(0x1b5)],_0x211e6e=_0x125302['scrollWidth'],_0x1b0bb3=_0x125302['clientWidth'];if(_0x211e6e-(_0x8dfbfa+_0x1b0bb3)<0x12c){const _0x3517a3=endOffset;endOffset+=0xe,renderDayRange(_0x3517a3+0x1,endOffset),reRenderBlocks();}if(_0x8dfbfa<0x12c){const _0x559979=startOffset;startOffset-=0xe,prependDays(startOffset,_0x559979-0x1),_0x125302[_0x44ccfa(0x1b5)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x3570ae,_0x110f5d){const _0x4eb5ad=a2_0x1674f0,_0x300f6b=document['getElementById']('daysHeaderTrack'),_0x18bfa8=document[_0x4eb5ad(0x252)](_0x4eb5ad(0x1f1)),_0xa74f06=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x144461=new Date();_0x144461[_0x4eb5ad(0x2b7)](0x0,0x0,0x0,0x0);const _0x1b82b9=getLocalDateStr(new Date()),_0x4f71e5=document[_0x4eb5ad(0x1a5)](),_0x33065d=document[_0x4eb5ad(0x1a5)]();for(let _0x5a49d4=_0x3570ae;_0x5a49d4<=_0x110f5d;_0x5a49d4++){const _0x29f32b=new Date(_0x144461);_0x29f32b['setDate'](_0x29f32b['getDate']()+_0x5a49d4);const _0x1ba9d0=getLocalDateStr(_0x29f32b);let _0x16a28b=_0x29f32b[_0x4eb5ad(0x2a2)]()-0x1;if(_0x16a28b===-0x1)_0x16a28b=0x6;const _0x54cffe=_0x1ba9d0===_0x1b82b9,_0x3eb25d=document[_0x4eb5ad(0x1e5)](_0x4eb5ad(0x1a8));_0x3eb25d[_0x4eb5ad(0x281)]='day-col-header\x20'+(_0x54cffe?_0x4eb5ad(0x271):''),_0x3eb25d['id']=_0x4eb5ad(0x259)+_0x1ba9d0,_0x3eb25d['setAttribute'](_0x4eb5ad(0x231),_0x1ba9d0),_0x3eb25d[_0x4eb5ad(0x24f)]=_0x4eb5ad(0x17c)+_0xa74f06[_0x16a28b]+_0x4eb5ad(0x251)+_0x29f32b[_0x4eb5ad(0x1c1)]()+_0x4eb5ad(0x215)+_0x1ba9d0+_0x4eb5ad(0x220),_0x3eb25d[_0x4eb5ad(0x2d4)]=()=>openDayOptions(_0x1ba9d0,_0xa74f06[_0x16a28b]+'\x20'+_0x29f32b[_0x4eb5ad(0x1c1)]()),_0x4f71e5[_0x4eb5ad(0x28f)](_0x3eb25d);const _0x267159=document['createElement'](_0x4eb5ad(0x1a8));_0x267159['className']=_0x4eb5ad(0x299)+(_0x54cffe?_0x4eb5ad(0x271):''),_0x267159['setAttribute'](_0x4eb5ad(0x231),_0x1ba9d0),_0x267159[_0x4eb5ad(0x2be)]('data-day-idx',_0x16a28b),renderEventsForColumn(_0x267159,_0x1ba9d0,_0x16a28b),attachLongPressHandler(_0x267159,_0x29f32b),_0x33065d[_0x4eb5ad(0x28f)](_0x267159),updateDayStats(_0x1ba9d0);}_0x300f6b[_0x4eb5ad(0x1e3)](_0x4f71e5,_0x300f6b[_0x4eb5ad(0x2a5)]),_0x18bfa8[_0x4eb5ad(0x1e3)](_0x33065d,_0x18bfa8[_0x4eb5ad(0x18d)]('.day-column'));}function validateAppointment(_0x24a6e4,_0x368dcc,_0x18b588,_0xa792a1,_0x613e81){const _0x4d297c=a2_0x1674f0,[_0x28fb2a,_0x2d03ca]=_0x368dcc['split'](':')[_0x4d297c(0x287)](Number),[_0x2cf587,_0x29a285]=_0x18b588[_0x4d297c(0x1da)](':')[_0x4d297c(0x287)](Number),_0x332a58=_0x28fb2a*0x3c+_0x2d03ca,_0x3971a4=_0x2cf587*0x3c+_0x29a285,_0x1cd7ee=String(_0x613e81);let _0x3e0f13=![],_0x47d815='';for(let _0x553c19 of sessions){if(_0x553c19[_0x4d297c(0x23a)]!==_0x24a6e4)continue;if(_0x553c19['status']==='cancelled')continue;if(_0xa792a1&&String(_0x553c19['id'])===String(_0xa792a1))continue;const [_0x25c6aa,_0x5b5cab]=_0x553c19['start'][_0x4d297c(0x1da)](':')['map'](Number),[_0x1b8ab6,_0x464597]=_0x553c19[_0x4d297c(0x1c0)][_0x4d297c(0x1da)](':')[_0x4d297c(0x287)](Number),_0x171c73=_0x25c6aa*0x3c+_0x5b5cab,_0xabf482=_0x1b8ab6*0x3c+_0x464597;if(Math['max'](_0x332a58,_0x171c73)<Math[_0x4d297c(0x181)](_0x3971a4,_0xabf482)){if(_0x553c19[_0x4d297c(0x2d0)]&&String(_0x553c19[_0x4d297c(0x2d0)])===_0x1cd7ee)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0x553c19[_0x4d297c(0x25f)]+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x3e0f13=!![],_0x47d815=_0x553c19[_0x4d297c(0x25f)];}}if(_0x3e0f13)return{'valid':!![],'warning':_0x4d297c(0x1f3)+_0x47d815};return{'valid':!![]};}function updateDateDisplay(){const _0x25c69d=a2_0x1674f0,_0x5d692c=document[_0x25c69d(0x252)](_0x25c69d(0x293))['value'],_0x3502e1=document[_0x25c69d(0x252)](_0x25c69d(0x1d0));if(!_0x5d692c){_0x3502e1[_0x25c69d(0x27d)]='';return;}const [_0x3e29a0,_0x215b89,_0x7e9a91]=_0x5d692c['split']('-')[_0x25c69d(0x287)](Number),_0x79fd40=new Date(_0x3e29a0,_0x215b89-0x1,_0x7e9a91),_0x8c268d={'weekday':_0x25c69d(0x1a3),'day':'numeric','month':_0x25c69d(0x1a3),'year':_0x25c69d(0x2a1)};let _0x19b436=_0x79fd40['toLocaleDateString'](_0x25c69d(0x189),_0x8c268d);_0x19b436=_0x19b436[_0x25c69d(0x2b3)](0x0)[_0x25c69d(0x29b)]()+_0x19b436['slice'](0x1),_0x3502e1[_0x25c69d(0x27d)]=_0x19b436;}function autoSetEndTime(){const _0x17c9fa=a2_0x1674f0,_0x5a1ffa=document[_0x17c9fa(0x252)](_0x17c9fa(0x1f7))['value'];if(!_0x5a1ffa)return;const [_0x12e072,_0x7b4915]=_0x5a1ffa['split'](':')[_0x17c9fa(0x287)](Number);let _0x4d5d97=_0x12e072+0x1;if(_0x4d5d97>0x17)_0x4d5d97=0x0;const _0xb60fb5=String(_0x4d5d97)[_0x17c9fa(0x192)](0x2,'0')+':'+String(_0x7b4915)['padStart'](0x2,'0');document[_0x17c9fa(0x252)](_0x17c9fa(0x253))[_0x17c9fa(0x2c9)]=_0xb60fb5;}function populateClientSelect(){const _0x464135=a2_0x1674f0,_0x47deb7=document[_0x464135(0x252)]('inpClient');_0x47deb7[_0x464135(0x24f)]='';if(clients[_0x464135(0x296)]===0x0){const _0x24ba67=document[_0x464135(0x1e5)](_0x464135(0x1e4));_0x24ba67['text']=_0x464135(0x288),_0x47deb7['appendChild'](_0x24ba67);return;}clients['forEach'](_0x31ed0b=>{const _0x13c1a9=_0x464135,_0x2260f2=document[_0x13c1a9(0x1e5)]('option');_0x2260f2[_0x13c1a9(0x2c9)]=_0x31ed0b[_0x13c1a9(0x2df)],_0x2260f2[_0x13c1a9(0x27d)]=_0x31ed0b[_0x13c1a9(0x2df)],_0x47deb7[_0x13c1a9(0x28f)](_0x2260f2);});}function openActionSheet(_0x43284e){const _0x1a078d=a2_0x1674f0,_0xc82e69=document['getElementById'](_0x1a078d(0x1ea)),_0x417066=document[_0x1a078d(0x252)]('actionSheetOverlay'),_0x173bed=document[_0x1a078d(0x252)]('asTitle'),_0x940f43=document['getElementById'](_0x1a078d(0x2cb)),_0x279a20=document[_0x1a078d(0x252)]('asBtnSeries');_0x417066[_0x1a078d(0x209)]['add'](_0x1a078d(0x1eb)),_0xc82e69[_0x1a078d(0x209)][_0x1a078d(0x26e)](_0x1a078d(0x1f6));if(_0x43284e==='save')_0x173bed[_0x1a078d(0x27d)]=_0x1a078d(0x1f2),_0x940f43[_0x1a078d(0x27d)]='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x940f43[_0x1a078d(0x2d4)]=()=>{closeActionSheet(),updateSeriesBatch('single',tempSessionData);},_0x279a20[_0x1a078d(0x27d)]='–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ',_0x279a20[_0x1a078d(0x2d4)]=()=>{const _0x239db=_0x1a078d;closeActionSheet(),updateSeriesBatch(_0x239db(0x24e),tempSessionData);};else _0x43284e===_0x1a078d(0x24b)&&(_0x173bed[_0x1a078d(0x27d)]=_0x1a078d(0x1f0),_0x940f43[_0x1a078d(0x27d)]='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x940f43[_0x1a078d(0x281)]=_0x1a078d(0x1cf),_0x940f43['onclick']=()=>{const _0x1291bc=_0x1a078d;closeActionSheet(),commitDelete('single',sessions[_0x1291bc(0x22e)](_0x33784c=>_0x33784c['id']===editingId));},_0x279a20[_0x1a078d(0x27d)]=_0x1a078d(0x283),_0x279a20[_0x1a078d(0x281)]=_0x1a078d(0x282),_0x279a20[_0x1a078d(0x2d4)]=()=>{const _0x425cc5=_0x1a078d;closeActionSheet(),commitDelete(_0x425cc5(0x24e),sessions[_0x425cc5(0x22e)](_0x32ee74=>_0x32ee74['id']===editingId));});}function closeActionSheet(){const _0x37f4d0=a2_0x1674f0;document[_0x37f4d0(0x252)](_0x37f4d0(0x1ea))[_0x37f4d0(0x209)][_0x37f4d0(0x1b6)](_0x37f4d0(0x1f6)),document[_0x37f4d0(0x252)](_0x37f4d0(0x261))[_0x37f4d0(0x209)][_0x37f4d0(0x1b6)](_0x37f4d0(0x1eb));}function openSettings(){const _0x1ce09f=a2_0x1674f0;openSheet(_0x1ce09f(0x210));}function saveCoachSettings(){const _0x76da9a=a2_0x1674f0,_0x1b3d56=document[_0x76da9a(0x252)](_0x76da9a(0x1d2))[_0x76da9a(0x2c9)];localStorage['setItem'](_0x76da9a(0x2ab),_0x1b3d56),console[_0x76da9a(0x213)](_0x76da9a(0x187),_0x1b3d56),DataManager[_0x76da9a(0x2dc)](_0x76da9a(0x2ac),{'settings':{'cancel_window':_0x1b3d56}})[_0x76da9a(0x25e)](_0x389f2d=>{const _0x55558e=_0x76da9a;console['error'](_0x55558e(0x241),_0x389f2d),showToast(_0x55558e(0x174),![]);});}function loadCoachSettings(){const _0x50bda6=a2_0x1674f0,_0x53eda2=localStorage[_0x50bda6(0x216)](_0x50bda6(0x2ab));_0x53eda2&&(document['getElementById'](_0x50bda6(0x1d2))[_0x50bda6(0x2c9)]=_0x53eda2);}function openRangesSheet(){const _0x2580e1=a2_0x1674f0;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x2580e1(0x2c6));}function addRange(){const _0x4b4642=a2_0x1674f0,_0x25cbf1=document['getElementById']('rangeStartDate')[_0x4b4642(0x2c9)],_0x4fed76=document[_0x4b4642(0x252)]('rangeStartTime')[_0x4b4642(0x2c9)],_0x20b922=document[_0x4b4642(0x252)](_0x4b4642(0x217))[_0x4b4642(0x2c9)],_0x36d6d5=document['getElementById'](_0x4b4642(0x298))[_0x4b4642(0x2c9)];if(!_0x25cbf1||!_0x4fed76||!_0x20b922||!_0x36d6d5)return alert(_0x4b4642(0x240));const _0x3cfe1e=_0x25cbf1+'T'+_0x4fed76,_0x6a7ac7=_0x20b922+'T'+_0x36d6d5;if(_0x3cfe1e>=_0x6a7ac7)return alert('–û—à–∏–±–∫–∞\x20–¥–∞—Ç');specialRanges[_0x4b4642(0x206)]({'start':_0x3cfe1e,'end':_0x6a7ac7}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x4b4642(0x185)](),DataManager[_0x4b4642(0x2dc)]('save_settings',{'settings':{'ranges':specialRanges}});}function deleteRange(_0x3a1e3d){const _0x493cfe=a2_0x1674f0;specialRanges[_0x493cfe(0x225)](_0x3a1e3d,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x493cfe(0x185)](),DataManager[_0x493cfe(0x2dc)]('save_settings',{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x5649b3=a2_0x1674f0;document[_0x5649b3(0x252)]('rangeStartDate')[_0x5649b3(0x2c9)]='',document['getElementById'](_0x5649b3(0x235))[_0x5649b3(0x2c9)]='00:00',document[_0x5649b3(0x252)]('rangeEndDate')[_0x5649b3(0x2c9)]='',document[_0x5649b3(0x252)](_0x5649b3(0x298))[_0x5649b3(0x2c9)]=_0x5649b3(0x197);}function renderRangesList(){const _0x480621=a2_0x1674f0,_0xd789d=document['getElementById']('rangesList');_0xd789d['innerHTML']='';if(!specialRanges[_0x480621(0x296)]){_0xd789d['innerHTML']=_0x480621(0x270);return;}specialRanges[_0x480621(0x284)]((_0x378e2b,_0x445ea7)=>{const _0x38b7fa=_0x480621,_0x3df050=document[_0x38b7fa(0x1e5)](_0x38b7fa(0x1a8));_0x3df050['className']='range-item';const _0xbaae67=_0x4af069=>{const _0x5a1eb2=_0x38b7fa,_0x3e9cf2=new Date(_0x4af069);return _0x3e9cf2[_0x5a1eb2(0x1c1)]()+'.'+String(_0x3e9cf2[_0x5a1eb2(0x23b)]()+0x1)[_0x5a1eb2(0x192)](0x2,'0')+'\x20'+String(_0x3e9cf2[_0x5a1eb2(0x27c)]())[_0x5a1eb2(0x192)](0x2,'0')+':'+String(_0x3e9cf2['getMinutes']())[_0x5a1eb2(0x192)](0x2,'0');};_0x3df050[_0x38b7fa(0x24f)]=_0x38b7fa(0x2db)+_0xbaae67(_0x378e2b[_0x38b7fa(0x279)])+'\x20‚Äî\x20'+_0xbaae67(_0x378e2b[_0x38b7fa(0x1c0)])+_0x38b7fa(0x1a6)+_0x445ea7+_0x38b7fa(0x21b),_0xd789d[_0x38b7fa(0x28f)](_0x3df050);});}function scrollToToday(){const _0x2ca7c0=a2_0x1674f0,_0x166d65=getLocalDateStr(new Date()),_0x2a8160=document['getElementById'](_0x2ca7c0(0x259)+_0x166d65),_0x5eb16b=document[_0x2ca7c0(0x252)](_0x2ca7c0(0x26a));if(_0x2a8160&&_0x5eb16b){const _0x23d460=_0x5eb16b[_0x2ca7c0(0x2b0)],_0x253544=_0x2a8160[_0x2ca7c0(0x286)],_0x5dd44c=_0x2a8160[_0x2ca7c0(0x21f)];_0x5eb16b['scrollLeft']=_0x253544-_0x23d460/0x2+_0x5dd44c/0x2,_0x5eb16b['scrollTop']=0x9*GRID_H;}}function onScroll(){const _0x317e6d=a2_0x1674f0,_0x2e139b=document['getElementById']('matrixViewport'),_0x6aa50d=document[_0x317e6d(0x2ae)](_0x317e6d(0x1fe));for(let _0x2b21a4 of _0x6aa50d)if(_0x2b21a4[_0x317e6d(0x286)]>=_0x2e139b[_0x317e6d(0x1b5)]){const _0x2948b2=new Date(_0x2b21a4[_0x317e6d(0x1fb)](_0x317e6d(0x231)));document[_0x317e6d(0x252)]('headerMonth')[_0x317e6d(0x27d)]=_0x2948b2[_0x317e6d(0x29e)]('ru',{'month':_0x317e6d(0x1a3)})['toUpperCase']()+'\x20'+_0x2948b2[_0x317e6d(0x265)]();break;}}function a2_0x3f87(_0x31c910,_0x4a9a74){_0x31c910=_0x31c910-0x16f;const _0x2046d8=a2_0x11c9();let _0x46e646=_0x2046d8[_0x31c910];return _0x46e646;}function a2_0x11c9(){const _0xe61ef1=['clientId','pattern','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','onclick','backgroundColor','checked','patternEditor','ready','pe-time-label','exceptions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','fetchFromServer','6fQfXEZ','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','name','blocked-slot\x20stripe-bg','[Sync]\x20Loading\x20','doEventsList','10px','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','complete','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','custom','.period-switch\x20.p-btn','floor','9JyMPeh','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<b>‚úÖ\x20','btn-status-toggle\x20undo-mode','<div\x20class=\x22dch-day\x22>','Telegram','mouseup','width','msg','min','vibrate','T23:59:59','update','saveLocally','inpRecurring','[Settings]\x20Cancel\x20window\x20set\x20to:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','ru-RU','week','inpClient','style','querySelector','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','toastMessage','analyticsSheet','expand','padStart','toFixed','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','apply','rgba(255,255,255,0.05)','23:59','\x20–∏–∑\x20','off','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','completed','setBackgroundColor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','client-stat-card','addEventListener','[Notify]\x20Server\x20Response:','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','zIndex','long','setHeaderColor','createDocumentFragment','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','success','div','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','user','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','text/plain;charset=UTF-8','href','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','T00:00:00','offClick','rgba(100,100,100,0.5)','day-col-header\x20','anDonutCircle','var(--acc-orange)','scrollLeft','remove','clients','var(--acc-green)','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','calendar','day-off-overlay\x20stripe-bg','sheetTitle','anPercent','.pib-text','end','getDate','valid','warn','findIndex','round','stringify','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','batch_sync','touchend','planned','anStart','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','[Notify]\x20Attempting\x20to\x20send:','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','as-button\x20danger','sheetDateSubtitle','(((.+)+)+)+$','settingCancelWindow','loadLocal','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','ranges','</div>','analyticsList','warning','#gridColumns\x20.day-column','split','[Notify]\x20Network\x20Failed','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å',':00','3459750hlDHHR','\x20-\x20','substr','btnDayToggle','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','insertBefore','option','createElement','deleted','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','btn-primary\x20btn-secondary','parse','actionSheet','active','syncLoad','colIndex','block','[Series]\x20Skipped\x20','–£–¥–∞–ª–µ–Ω–∏–µ','gridColumns','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','18817160qrXLNH','cancelled','open','inpStart','7UBmBWx','pe-cell\x20',':\x20Client\x20already\x20booked','getAttribute','flex','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','.day-col-header','blocked-range-part\x20stripe-bg','backgroundPosition','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','1125528jbTkxf','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','BackButton','%\x20+\x202px)','push','var(--acc-current)','setItem','classList','show','includes','anEnd','POST','setDate','status','settingsSheet','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','toastTitle','log','settings','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','getItem','rangeEndDate','rgba(48,\x20209,\x2088,\x200.15)','100%','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','calc(',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','btn-status-toggle','offsetWidth','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','borderColor','constructor','data-day-idx','now','splice','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','top','[Notify]\x20Error:\x20Text\x20generation\x20failed','btnDelete','total','undefined','getTime','slice','find','getText','random','data-date','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','19541Ffdorv','doLoadPercent','rangeStartTime','px\x20-','setMonth','patternInfoBox','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','dateStr','getMonth','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','max','#050505','seriesCountContainer','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','Save\x20settings\x20error:','data','create','<div\x20class=\x22ev-title\x22>','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','sessionSheet','json','target','Server\x20Error','delete','3536208DhIbgQ','btnStatusToggle','series','innerHTML','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','</div><div\x20class=\x22dch-num\x22>','getElementById','inpEnd','10px\x2010px\x200\x200','</span>\x20/\x20','initData','cancel','height','header-','rgba(255,\x20159,\x2010,\x200.3)','Unknown','initDataUnsafe','note','catch','client','[Notify]\x20Client\x20SWAP\x20detected','actionSheetOverlay','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','Local\x20Load\x20Error','px\x200px','getFullYear','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','Error\x20setting\x20back\x20button:','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','indexOf','matrixViewport','[Notify]\x20Detected\x20Client\x20ID:','done','event-card','add','onClick','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','today','</div><div\x20class=\x22ev-time\x22>','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','var(--acc-red)','stopPropagation','error','start','keys','color','getHours','textContent','...','then','filter','className','as-button\x20danger\x20bold','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','forEach','–£—Å–ø–µ—à–Ω–æ','offsetLeft','map','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤',':00</span>','sort','inpSeriesCount','toLocaleDateString','peGrid','uc_clients_v9','appendChild','timeLineBadge','send','touches','inpDate','678162HCvBZG','scroll','length','cancel_window','rangeEndTime','day-column\x20','none','toUpperCase','disableVerticalSwipes','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','toLocaleString','anTotalStats','getMinutes','numeric','getDay','seriesId','–ò–Ω—Ñ–æ','firstChild','WebApp','toString','de-item','rgba(','save','uc_settings_cancel_window','save_settings','null','querySelectorAll','strokeDashoffset','clientWidth','toast-notification\x20','mousedown','charAt','single','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','setHours','#fff','dayOptionsSheet','month',']\x20Failed:','#0a84ff','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','setAttribute','[Notify]\x20Error:\x20sessionData\x20is\x20null','search','display','.dch-stats-fill','recurringOptionContainer','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','background','rangesSheet','borderLeftColor','3933536IRQFWV','value','location','asBtnOne','touchmove','closest','[API\x20','init_load'];a2_0x11c9=function(){return _0xe61ef1;};return a2_0x11c9();}function showToast(_0x509142,_0x5abd8a=![]){const _0x45319d=a2_0x1674f0,_0x10b18a=document[_0x45319d(0x252)]('toast');_0x10b18a[_0x45319d(0x281)]=_0x45319d(0x2b1)+(_0x5abd8a?_0x45319d(0x1a7):''),document[_0x45319d(0x252)](_0x45319d(0x212))[_0x45319d(0x27d)]=_0x5abd8a?_0x45319d(0x285):_0x45319d(0x2a4),document[_0x45319d(0x252)](_0x45319d(0x18f))[_0x45319d(0x27d)]=_0x509142,_0x10b18a[_0x45319d(0x209)][_0x45319d(0x26e)](_0x45319d(0x20a)),setTimeout(()=>{const _0x34bf95=_0x45319d;_0x10b18a['classList'][_0x34bf95(0x1b6)](_0x34bf95(0x20a));},0xbb8);}function openDayOptions(_0x25dc70,_0x4bc20a){const _0x34b622=a2_0x1674f0;selectedDayForOptions=_0x25dc70,document[_0x34b622(0x252)]('dayOptionsTitle')[_0x34b622(0x27d)]=_0x4bc20a,openSheet(_0x34b622(0x2b9));}function toggleDayOff(){const _0x4224a1=a2_0x1674f0;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x4224a1(0x199),reRenderBlocks(),closeAllSheets(),DataManager[_0x4224a1(0x185)](),DataManager[_0x4224a1(0x2dc)](_0x4224a1(0x2ac),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x5b0f65=a2_0x1674f0;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x5b0f65(0x185)](),DataManager[_0x5b0f65(0x2dc)](_0x5b0f65(0x2ac),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x56bd74){const _0x1f3e47=a2_0x1674f0;document[_0x1f3e47(0x252)]('overlay')[_0x1f3e47(0x209)]['add'](_0x1f3e47(0x1eb)),document[_0x1f3e47(0x252)](_0x56bd74)[_0x1f3e47(0x209)]['add']('open');}function closeAllSheets(){const _0x30bfaf=a2_0x1674f0;document[_0x30bfaf(0x252)]('overlay')[_0x30bfaf(0x209)][_0x30bfaf(0x1b6)]('active'),document[_0x30bfaf(0x2ae)]('.sheet')['forEach'](_0x13c112=>_0x13c112[_0x30bfaf(0x209)][_0x30bfaf(0x1b6)](_0x30bfaf(0x1f6)));}function openPatternEditor(){const _0x4d9759=a2_0x1674f0;closeAllSheets(),document[_0x4d9759(0x252)](_0x4d9759(0x2d7))['classList'][_0x4d9759(0x26e)](_0x4d9759(0x1f6)),renderPatternEditor();}function closePatternEditor(){const _0x2cefd2=a2_0x1674f0;document[_0x2cefd2(0x252)](_0x2cefd2(0x2d7))[_0x2cefd2(0x209)][_0x2cefd2(0x1b6)]('open');}function savePattern(){const _0x47172f=a2_0x1674f0;document[_0x47172f(0x252)](_0x47172f(0x2d7))[_0x47172f(0x209)][_0x47172f(0x1b6)](_0x47172f(0x1f6)),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x47172f(0x2dc)](_0x47172f(0x2ac),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x51ef52=a2_0x1674f0,_0x3fc8e2=document[_0x51ef52(0x252)](_0x51ef52(0x28d));_0x3fc8e2['innerHTML']='';const _0x30dbed=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0xbc25f1=document[_0x51ef52(0x1e5)](_0x51ef52(0x1a8));_0xbc25f1['className']='pe-corner',_0x3fc8e2[_0x51ef52(0x28f)](_0xbc25f1),_0x30dbed[_0x51ef52(0x284)]((_0x1ff309,_0x5908e9)=>{const _0x4a4d95=_0x51ef52,_0x4bbd86=document['createElement'](_0x4a4d95(0x1a8));_0x4bbd86[_0x4a4d95(0x281)]='pe-col-header',_0x4bbd86[_0x4a4d95(0x24f)]=_0x1ff309+_0x4a4d95(0x275),_0x4bbd86['onclick']=()=>toggleColPattern(_0x5908e9),_0x3fc8e2[_0x4a4d95(0x28f)](_0x4bbd86);});for(let _0x5d6075=0x0;_0x5d6075<0x18;_0x5d6075++){const _0x4fce07=document[_0x51ef52(0x1e5)](_0x51ef52(0x1a8));_0x4fce07[_0x51ef52(0x281)]=_0x51ef52(0x2d9),_0x4fce07['innerHTML']=_0x51ef52(0x18e)+String(_0x5d6075)['padStart'](0x2,'0')+_0x51ef52(0x1dd),_0x4fce07[_0x51ef52(0x2d4)]=()=>toggleRowPattern(_0x5d6075),_0x3fc8e2['appendChild'](_0x4fce07);for(let _0x1e9bf3=0x0;_0x1e9bf3<0x7;_0x1e9bf3++){const _0x2e4335=document[_0x51ef52(0x1e5)](_0x51ef52(0x1a8)),_0x94be19=(availabilityPattern[_0x1e9bf3]||[])['includes'](_0x5d6075),_0x119f31=!_0x94be19;_0x2e4335[_0x51ef52(0x281)]=_0x51ef52(0x1f9)+(_0x119f31?_0x51ef52(0x1eb):''),_0x2e4335['onclick']=()=>toggleSinglePattern(_0x1e9bf3,_0x5d6075),_0x3fc8e2[_0x51ef52(0x28f)](_0x2e4335);}}}function toggleSinglePattern(_0x4abc1b,_0x141b70){const _0x33ef09=a2_0x1674f0;if(!availabilityPattern[_0x4abc1b])availabilityPattern[_0x4abc1b]=[];const _0x23ec04=availabilityPattern[_0x4abc1b],_0x535ddc=_0x23ec04[_0x33ef09(0x269)](_0x141b70);_0x535ddc===-0x1?_0x23ec04[_0x33ef09(0x206)](_0x141b70):_0x23ec04[_0x33ef09(0x225)](_0x535ddc,0x1),renderPatternEditor();}function toggleColPattern(_0x4a4487){const _0x2ff495=a2_0x1674f0;if(!availabilityPattern[_0x4a4487])availabilityPattern[_0x4a4487]=[];const _0x1f3bb3=availabilityPattern[_0x4a4487];_0x1f3bb3[_0x2ff495(0x296)]===0x0?availabilityPattern[_0x4a4487]=Array['from']({'length':0x18},(_0x3a6dac,_0x32ea4e)=>_0x32ea4e):availabilityPattern[_0x4a4487]=[],renderPatternEditor();}function toggleRowPattern(_0x569dc6){const _0x5564b7=a2_0x1674f0;let _0x49bc3d=!![];for(let _0x16d515=0x0;_0x16d515<0x7;_0x16d515++){if((availabilityPattern[_0x16d515]||[])[_0x5564b7(0x20b)](_0x569dc6)){_0x49bc3d=![];break;}}for(let _0x531b74=0x0;_0x531b74<0x7;_0x531b74++){if(!availabilityPattern[_0x531b74])availabilityPattern[_0x531b74]=[];const _0x337675=availabilityPattern[_0x531b74][_0x5564b7(0x269)](_0x569dc6);if(_0x49bc3d){if(_0x337675===-0x1)availabilityPattern[_0x531b74][_0x5564b7(0x206)](_0x569dc6);}else{if(_0x337675!==-0x1)availabilityPattern[_0x531b74][_0x5564b7(0x225)](_0x337675,0x1);}}renderPatternEditor();}function renderPCol(_0x1fa422,_0x33506d){const _0x44d3be=a2_0x1674f0;_0x1fa422['innerHTML']='';const _0x1aa31d=Math[_0x44d3be(0x1c5)](_0x1fa422['offsetLeft']);(availabilityPattern[_0x33506d]||[])[_0x44d3be(0x284)](_0x3ddd19=>{const _0x533446=_0x44d3be,_0x3c291c=document[_0x533446(0x1e5)](_0x533446(0x1a8));_0x3c291c[_0x533446(0x281)]=_0x533446(0x2e0);const _0x12ed64=_0x3ddd19*GRID_H;_0x3c291c[_0x533446(0x18c)]['top']=_0x12ed64+'px',_0x3c291c[_0x533446(0x18c)]['backgroundPosition']='-'+_0x1aa31d+_0x533446(0x236)+_0x12ed64+'px',_0x3c291c[_0x533446(0x2d4)]=_0x5cc19d=>{const _0x9340e6=_0x533446;_0x5cc19d[_0x9340e6(0x277)](),toggleSinglePattern(_0x33506d,_0x3ddd19);},_0x1fa422['appendChild'](_0x3c291c);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x2a25a2=a2_0x1674f0,_0x1daeb6=new Date(),_0x1c5ba7=document[_0x2a25a2(0x252)]('globalTimeLine'),_0x22012f=document[_0x2a25a2(0x252)]('timeLineBadge'),_0x27f1f2=(_0x1daeb6[_0x2a25a2(0x27c)]()*0x3c+_0x1daeb6['getMinutes']())/0x3c*GRID_H;_0x1c5ba7[_0x2a25a2(0x18c)][_0x2a25a2(0x227)]=_0x27f1f2+'px',_0x1c5ba7['style'][_0x2a25a2(0x2c1)]='block',_0x22012f[_0x2a25a2(0x27d)]=String(_0x1daeb6['getHours']())[_0x2a25a2(0x192)](0x2,'0')+':'+String(_0x1daeb6[_0x2a25a2(0x2a0)]())['padStart'](0x2,'0'),_0x22012f[_0x2a25a2(0x18c)]['display']=_0x2a25a2(0x1ee),_0x22012f['style'][_0x2a25a2(0x227)]=_0x27f1f2+'px';}document[a2_0x1674f0(0x19f)]('DOMContentLoaded',init);function openDayOptions(_0x1a8c58){const _0x450099=a2_0x1674f0;selectedDayForOptions=_0x1a8c58;const _0x3ef527=new Date(_0x1a8c58),_0x41693b={'weekday':_0x450099(0x1a3),'day':_0x450099(0x2a1),'month':'long','year':'numeric'},_0x9187da=_0x3ef527[_0x450099(0x28c)](_0x450099(0x189),_0x41693b);document[_0x450099(0x252)]('doDateHeader')[_0x450099(0x27d)]=_0x9187da[_0x450099(0x2b3)](0x0)[_0x450099(0x29b)]()+_0x9187da[_0x450099(0x22d)](0x1);let _0x11cbeb=_0x3ef527['getDay']()-0x1;if(_0x11cbeb===-0x1)_0x11cbeb=0x6;const _0x54463a=availabilityPattern[_0x11cbeb]||[],_0x576c3b=0x18-_0x54463a[_0x450099(0x296)],_0x4202fc=_0x576c3b*0x3c,_0xd1c81e=sessions[_0x450099(0x280)](_0x4ed83a=>_0x4ed83a[_0x450099(0x23a)]===_0x1a8c58&&_0x4ed83a[_0x450099(0x20f)]!==_0x450099(0x1f5));let _0x207609=_0xd1c81e[_0x450099(0x287)](_0x3206f4=>{const _0x2c06c0=_0x450099,[_0x52c62a,_0x47d0c5]=_0x3206f4[_0x2c06c0(0x279)][_0x2c06c0(0x1da)](':')[_0x2c06c0(0x287)](Number),[_0x449d19,_0x5a6900]=_0x3206f4[_0x2c06c0(0x1c0)]['split'](':')[_0x2c06c0(0x287)](Number);return[_0x52c62a*0x3c+_0x47d0c5,_0x449d19*0x3c+_0x5a6900];});_0x207609[_0x450099(0x28a)]((_0xbc9792,_0xd64e5b)=>_0xbc9792[0x0]-_0xd64e5b[0x0]);let _0x3bde45=[];if(_0x207609[_0x450099(0x296)]>0x0){let _0x50baba=_0x207609[0x0];for(let _0x4288c2=0x1;_0x4288c2<_0x207609[_0x450099(0x296)];_0x4288c2++){_0x207609[_0x4288c2][0x0]<_0x50baba[0x1]?_0x50baba[0x1]=Math['max'](_0x50baba[0x1],_0x207609[_0x4288c2][0x1]):(_0x3bde45['push'](_0x50baba),_0x50baba=_0x207609[_0x4288c2]);}_0x3bde45[_0x450099(0x206)](_0x50baba);}let _0x1fe31a=0x0;_0x3bde45[_0x450099(0x284)](_0x16c15c=>_0x1fe31a+=_0x16c15c[0x1]-_0x16c15c[0x0]),document[_0x450099(0x252)]('doWorkHours')[_0x450099(0x27d)]=formatMinsToHrs(_0x4202fc),document[_0x450099(0x252)]('doBusyHours')[_0x450099(0x27d)]=formatMinsToHrs(_0x1fe31a);const _0x4de608=_0x4202fc>0x0?Math['round'](_0x1fe31a/_0x4202fc*0x64):0x0,_0x3c5764=document[_0x450099(0x252)](_0x450099(0x234));_0x3c5764[_0x450099(0x27d)]=_0x4de608+'%';const _0x186d2c=document[_0x450099(0x252)]('statLoadCard');if(_0x4de608>0x64)_0x3c5764[_0x450099(0x18c)][_0x450099(0x27b)]=_0x450099(0x276),_0x186d2c['style']['borderColor']='rgba(255,\x2069,\x2058,\x200.3)';else _0x4de608>0x50?(_0x3c5764[_0x450099(0x18c)][_0x450099(0x27b)]=_0x450099(0x1b4),_0x186d2c['style'][_0x450099(0x221)]=_0x450099(0x25a)):(_0x3c5764[_0x450099(0x18c)][_0x450099(0x27b)]=_0x450099(0x1b8),_0x186d2c['style']['borderColor']=_0x450099(0x196));const _0x54ef97=document[_0x450099(0x252)](_0x450099(0x16f));_0x54ef97['innerHTML']='';_0xd1c81e[_0x450099(0x296)]===0x0?_0x54ef97[_0x450099(0x24f)]=_0x450099(0x1fd):(_0xd1c81e[_0x450099(0x28a)]((_0x127430,_0x48847d)=>_0x127430['start']['localeCompare'](_0x48847d['start'])),_0xd1c81e[_0x450099(0x284)](_0x34ebac=>{const _0x45cbe6=_0x450099,_0x4cee79=clients[_0x45cbe6(0x22e)](_0x3000a6=>_0x3000a6[_0x45cbe6(0x2df)]===_0x34ebac[_0x45cbe6(0x25f)]),_0xf27168=_0x4cee79?_0x4cee79[_0x45cbe6(0x27b)]:_0x45cbe6(0x2b8),_0x602bd1=_0x34ebac[_0x45cbe6(0x20f)]===_0x45cbe6(0x19b),_0x53ffdc=_0x602bd1?_0x45cbe6(0x273):'',_0x10b68b=document[_0x45cbe6(0x1e5)](_0x45cbe6(0x1a8));_0x10b68b['className']=_0x45cbe6(0x2a8),_0x10b68b[_0x45cbe6(0x18c)][_0x45cbe6(0x2c7)]=_0xf27168,_0x10b68b['innerHTML']=_0x45cbe6(0x188)+_0x34ebac[_0x45cbe6(0x279)]+_0x45cbe6(0x1df)+_0x34ebac[_0x45cbe6(0x1c0)]+_0x45cbe6(0x1c7)+_0x34ebac[_0x45cbe6(0x25f)]+_0x45cbe6(0x1a9)+_0x53ffdc+_0x45cbe6(0x19d),_0x54ef97[_0x45cbe6(0x28f)](_0x10b68b);}));const _0x4b5c9e=document[_0x450099(0x252)](_0x450099(0x1e1)),_0x2ed1fb=dateExceptions[_0x1a8c58]==='off';_0x2ed1fb?(_0x4b5c9e['textContent']=_0x450099(0x211),_0x4b5c9e[_0x450099(0x281)]=_0x450099(0x1e8),_0x4b5c9e['style'][_0x450099(0x27b)]=_0x450099(0x1b8),_0x4b5c9e['style'][_0x450099(0x2c5)]=_0x450099(0x218)):(_0x4b5c9e['textContent']=_0x450099(0x239),_0x4b5c9e[_0x450099(0x281)]='btn-primary\x20btn-danger',_0x4b5c9e[_0x450099(0x18c)][_0x450099(0x27b)]='var(--acc-red)',_0x4b5c9e[_0x450099(0x18c)][_0x450099(0x2c5)]='rgba(255,\x2069,\x2058,\x200.15)'),openSheet(_0x450099(0x2b9));}let currentAnPeriod=a2_0x1674f0(0x18a);function openAnalytics(){const _0x358ded=a2_0x1674f0,_0x40bdd7=document[_0x358ded(0x18d)](_0x358ded(0x176));setAnalyticsPeriod(_0x358ded(0x18a),_0x40bdd7),closeAllSheets(),openSheet(_0x358ded(0x190));}function setAnalyticsPeriod(_0x3930cf,_0x59cb48){const _0x1668e7=a2_0x1674f0;currentAnPeriod=_0x3930cf,document[_0x1668e7(0x2ae)](_0x1668e7(0x176))[_0x1668e7(0x284)](_0x5956b1=>_0x5956b1['classList']['remove'](_0x1668e7(0x1eb)));if(_0x59cb48)_0x59cb48[_0x1668e7(0x209)][_0x1668e7(0x26e)](_0x1668e7(0x1eb));const _0x294acf=document[_0x1668e7(0x252)]('anCustomDates');_0x294acf[_0x1668e7(0x18c)][_0x1668e7(0x2c1)]=_0x3930cf===_0x1668e7(0x175)?_0x1668e7(0x1fc):_0x1668e7(0x29a);const _0x1a54b1=new Date();let _0x2055eb=new Date(),_0xd740e8=new Date();if(_0x3930cf===_0x1668e7(0x18a))_0x2055eb=getStartOfWeek(_0x1a54b1),_0xd740e8=new Date(_0x2055eb),_0xd740e8[_0x1668e7(0x20e)](_0xd740e8[_0x1668e7(0x1c1)]()+0x6);else{if(_0x3930cf===_0x1668e7(0x2ba))_0x2055eb=new Date(_0x1a54b1[_0x1668e7(0x265)](),_0x1a54b1[_0x1668e7(0x23b)](),0x1),_0xd740e8=new Date(_0x1a54b1['getFullYear'](),_0x1a54b1[_0x1668e7(0x23b)]()+0x1,0x0);else{!document['getElementById'](_0x1668e7(0x1cb))[_0x1668e7(0x2c9)]&&(document[_0x1668e7(0x252)](_0x1668e7(0x1cb))[_0x1668e7(0x2c9)]=getLocalDateStr(_0x1a54b1),document[_0x1668e7(0x252)](_0x1668e7(0x20c))[_0x1668e7(0x2c9)]=getLocalDateStr(_0x1a54b1));refreshAnalytics();return;}}document['getElementById']('anStart')[_0x1668e7(0x2c9)]=getLocalDateStr(_0x2055eb),document[_0x1668e7(0x252)](_0x1668e7(0x20c))['value']=getLocalDateStr(_0xd740e8),refreshAnalytics();}function refreshAnalytics(){const _0xeca7ac=a2_0x1674f0,_0x2f00c6=document['getElementById']('anStart')['value'],_0x3f9bf3=document[_0xeca7ac(0x252)](_0xeca7ac(0x20c))['value'];if(!_0x2f00c6||!_0x3f9bf3)return;const _0x49a8c9=sessions[_0xeca7ac(0x280)](_0x5dcf10=>_0x5dcf10[_0xeca7ac(0x23a)]>=_0x2f00c6&&_0x5dcf10[_0xeca7ac(0x23a)]<=_0x3f9bf3&&_0x5dcf10[_0xeca7ac(0x20f)]!==_0xeca7ac(0x1f5)),_0x437be5=_0x49a8c9['length'],_0x3940ca=_0x49a8c9['filter'](_0x16a71f=>_0x16a71f['status']==='completed')['length'],_0x4653dd=_0x437be5>0x0?Math[_0xeca7ac(0x1c5)](_0x3940ca/_0x437be5*0x64):0x0;document['getElementById'](_0xeca7ac(0x1be))[_0xeca7ac(0x27d)]=_0x4653dd+'%',document[_0xeca7ac(0x252)](_0xeca7ac(0x29f))[_0xeca7ac(0x27d)]=_0x3940ca+_0xeca7ac(0x198)+_0x437be5+_0xeca7ac(0x2c4);const _0x15af03=document[_0xeca7ac(0x252)](_0xeca7ac(0x1b3)),_0x300a0d=0x2*Math['PI']*0x23,_0x560829=_0x300a0d-_0x4653dd/0x64*_0x300a0d;_0x15af03['style'][_0xeca7ac(0x2af)]=_0x560829;const _0x342b70={};_0x49a8c9[_0xeca7ac(0x284)](_0x1aad11=>{const _0x46d3a3=_0xeca7ac;if(!_0x342b70[_0x1aad11[_0x46d3a3(0x25f)]]){const _0x390f56=clients[_0x46d3a3(0x22e)](_0x4740a2=>_0x4740a2['name']===_0x1aad11[_0x46d3a3(0x25f)]);_0x342b70[_0x1aad11[_0x46d3a3(0x25f)]]={'total':0x0,'done':0x0,'color':_0x390f56?_0x390f56[_0x46d3a3(0x27b)]:_0x46d3a3(0x2b8)};}_0x342b70[_0x1aad11[_0x46d3a3(0x25f)]]['total']++;if(_0x1aad11[_0x46d3a3(0x20f)]===_0x46d3a3(0x19b))_0x342b70[_0x1aad11['client']][_0x46d3a3(0x26c)]++;});const _0x407750=document[_0xeca7ac(0x252)](_0xeca7ac(0x1d7));_0x407750[_0xeca7ac(0x24f)]='';const _0x16152e=Object['entries'](_0x342b70)[_0xeca7ac(0x28a)]((_0x3d1ba7,_0x92788d)=>_0x92788d[0x1][_0xeca7ac(0x22a)]-_0x3d1ba7[0x1][_0xeca7ac(0x22a)]);if(_0x16152e[_0xeca7ac(0x296)]===0x0){_0x407750[_0xeca7ac(0x24f)]=_0xeca7ac(0x2b6);return;}_0x16152e['forEach'](([_0x43b59a,_0x2286cd])=>{const _0x56d54e=_0xeca7ac,_0x18df28=Math[_0x56d54e(0x1c5)](_0x2286cd[_0x56d54e(0x26c)]/_0x2286cd['total']*0x64),_0x23f33d=document[_0x56d54e(0x1e5)]('div');_0x23f33d[_0x56d54e(0x281)]=_0x56d54e(0x19e),_0x23f33d[_0x56d54e(0x18c)][_0x56d54e(0x2c7)]=_0x2286cd[_0x56d54e(0x27b)],_0x23f33d[_0x56d54e(0x24f)]=_0x56d54e(0x19a)+_0x43b59a+_0x56d54e(0x262)+_0x2286cd['done']+_0x56d54e(0x255)+_0x2286cd[_0x56d54e(0x22a)]+_0x56d54e(0x1b9)+_0x18df28+_0x56d54e(0x179),_0x407750[_0x56d54e(0x28f)](_0x23f33d);});}function formatMinsToHrs(_0x37a584){if(_0x37a584===0x0)return'0';const _0x1222a1=Math['floor'](_0x37a584/0x3c),_0xd455ab=_0x37a584%0x3c;if(_0xd455ab===0x0)return _0x1222a1+'—á';return _0x1222a1+'—á\x20'+_0xd455ab+'–º';}