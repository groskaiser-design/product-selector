const a2_0x28a2ee=a2_0x3665;(function(_0x2dd8dc,_0x3949ca){const _0x4d52d3=a2_0x3665,_0x5a8aca=_0x2dd8dc();while(!![]){try{const _0x391265=-parseInt(_0x4d52d3(0x24e))/0x1*(-parseInt(_0x4d52d3(0x239))/0x2)+parseInt(_0x4d52d3(0x33e))/0x3*(-parseInt(_0x4d52d3(0x356))/0x4)+parseInt(_0x4d52d3(0x202))/0x5*(-parseInt(_0x4d52d3(0x2aa))/0x6)+-parseInt(_0x4d52d3(0x34c))/0x7*(-parseInt(_0x4d52d3(0x28e))/0x8)+-parseInt(_0x4d52d3(0x235))/0x9*(parseInt(_0x4d52d3(0x1fd))/0xa)+-parseInt(_0x4d52d3(0x33d))/0xb+parseInt(_0x4d52d3(0x2fb))/0xc;if(_0x391265===_0x3949ca)break;else _0x5a8aca['push'](_0x5a8aca['shift']());}catch(_0x367e8a){_0x5a8aca['push'](_0x5a8aca['shift']());}}}(a2_0x22fe,0x2f0d6),function initTMA(){const _0x16cb7a=a2_0x3665;try{const _0xf9947c=window['Telegram']?.[_0x16cb7a(0x269)];if(!_0xf9947c)return;_0xf9947c[_0x16cb7a(0x1f1)](),_0xf9947c[_0x16cb7a(0x354)]();try{_0xf9947c['setHeaderColor'](_0x16cb7a(0x2c5)),_0xf9947c['setBackgroundColor']&&_0xf9947c['setBackgroundColor'](_0x16cb7a(0x2c5));}catch(_0xcdf55e){console[_0x16cb7a(0x2c3)]('Error\x20setting\x20color:',_0xcdf55e);}try{_0xf9947c[_0x16cb7a(0x27c)]&&(_0xf9947c['BackButton'][_0x16cb7a(0x2a4)](),_0xf9947c[_0x16cb7a(0x27c)][_0x16cb7a(0x1d8)](),_0xf9947c[_0x16cb7a(0x27c)][_0x16cb7a(0x1f3)](function(){const _0x3b2324=_0x16cb7a;window[_0x3b2324(0x345)][_0x3b2324(0x2fd)]=_0x3b2324(0x29b);}));}catch(_0x9ccd37){console[_0x16cb7a(0x2c3)](_0x16cb7a(0x2f4),_0x9ccd37);}try{if(_0xf9947c[_0x16cb7a(0x2d0)])_0xf9947c['disableVerticalSwipes']();}catch(_0x31161e){}}catch(_0x297a24){console[_0x16cb7a(0x248)](_0x16cb7a(0x2d9),_0x297a24);}}());function isAdmin(){const _0x133538=a2_0x3665;try{const _0x5e57a5=Number(window['Telegram']?.[_0x133538(0x269)]?.[_0x133538(0x2e1)]?.[_0x133538(0x261)]?.['id']);return _0x5e57a5===0xbaf7174;}catch(_0x326e1f){return![];}}const APP_VERSION=a2_0x28a2ee(0x30e),API_URL=a2_0x28a2ee(0x286),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x28a2ee(0x203),KEY_SESSIONS='uc_sessions_v9',KEY_SETTINGS='uc_settings_v9';let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x734425=a2_0x28a2ee;return window[_0x734425(0x273)]?.[_0x734425(0x269)]?.[_0x734425(0x2e1)]?.[_0x734425(0x261)]?.['id']||'guest';},'saveLocally'(){const _0x3c1df1=a2_0x28a2ee;try{localStorage[_0x3c1df1(0x342)](KEY_CLIENTS,JSON[_0x3c1df1(0x1f5)](clients)),localStorage['setItem'](KEY_SESSIONS,JSON['stringify'](sessions)),localStorage[_0x3c1df1(0x342)](KEY_SETTINGS,JSON[_0x3c1df1(0x1f5)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x437c3d){console[_0x3c1df1(0x248)](_0x3c1df1(0x1ec),_0x437c3d);}},'loadLocal'(){const _0x50c84b=a2_0x28a2ee;try{const _0x39362b=localStorage[_0x50c84b(0x359)](KEY_CLIENTS);if(_0x39362b)clients=JSON[_0x50c84b(0x339)](_0x39362b);const _0x1d0daf=localStorage['getItem'](KEY_SESSIONS);if(_0x1d0daf)sessions=JSON[_0x50c84b(0x339)](_0x1d0daf);const _0x530994=localStorage[_0x50c84b(0x359)](KEY_SETTINGS);if(_0x530994){const _0x397588=JSON[_0x50c84b(0x339)](_0x530994);if(_0x397588['pattern'])availabilityPattern=_0x397588[_0x50c84b(0x1eb)];if(_0x397588[_0x50c84b(0x265)])dateExceptions=_0x397588[_0x50c84b(0x265)];if(_0x397588['ranges'])specialRanges=_0x397588['ranges'];}else{for(let _0x35c3ff=0x0;_0x35c3ff<0x7;_0x35c3ff++)availabilityPattern[_0x35c3ff]=Array[_0x50c84b(0x2a0)]({'length':0xc},(_0x551cc6,_0x49508d)=>_0x49508d+0x9);}}catch(_0x4bf642){console[_0x50c84b(0x248)](_0x50c84b(0x304),_0x4bf642);}},async 'fetchFromServer'(_0x2b3f04,_0x21eb24={}){const _0x4f7ab2=a2_0x28a2ee,_0x1d18b8=window[_0x4f7ab2(0x273)]?.[_0x4f7ab2(0x269)],_0x90683={'action':_0x2b3f04,'init_data':_0x1d18b8?.['initData']||'',..._0x21eb24};try{const _0x267d7f=await fetch(API_URL,{'method':_0x4f7ab2(0x352),'headers':{'Content-Type':'text/plain;charset=UTF-8'},'body':JSON['stringify'](_0x90683)}),_0x1abdd9=await _0x267d7f[_0x4f7ab2(0x2f7)]();if(!_0x1abdd9['ok'])throw new Error(_0x1abdd9['error']||_0x4f7ab2(0x32c));return _0x1abdd9[_0x4f7ab2(0x1d7)];}catch(_0x39d2a7){console[_0x4f7ab2(0x248)]('[API\x20'+_0x2b3f04+_0x4f7ab2(0x28c),_0x39d2a7);throw _0x39d2a7;}},async 'syncLoad'(){const _0x93b137=a2_0x28a2ee,_0x205d36=new Date(),_0x4ab998=_0x205d36[_0x93b137(0x32d)]()+'-'+String(_0x205d36[_0x93b137(0x247)]()+0x1)[_0x93b137(0x22c)](0x2,'0'),_0x536317=new Date(_0x205d36);_0x536317['setMonth'](_0x205d36[_0x93b137(0x247)]()+0x1);const _0x5cf534=_0x536317[_0x93b137(0x32d)]()+'-'+String(_0x536317[_0x93b137(0x247)]()+0x1)['padStart'](0x2,'0'),_0x29405e=Date['now']();console['log']('[Sync]\x20Loading\x20'+_0x4ab998+',\x20'+_0x5cf534+'...');try{const [_0x56e3c1,_0x95bb3a]=await Promise[_0x93b137(0x2d8)]([this[_0x93b137(0x1fa)]('init_load',{'month_str':_0x4ab998}),this[_0x93b137(0x1fa)](_0x93b137(0x21c),{'month_str':_0x5cf534})]);if(lastUserActionTime>_0x29405e)return console['warn'](_0x93b137(0x26d)),![];return this['mergeServerData'](_0x56e3c1,_0x4ab998),this[_0x93b137(0x348)](_0x95bb3a,_0x5cf534),this[_0x93b137(0x217)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x42b755){console['error'](_0x42b755);throw _0x42b755;}},'mergeServerData'(_0x1c23a4,_0x44313b){const _0x509f59=a2_0x28a2ee;if(!_0x1c23a4)return;_0x1c23a4[_0x509f59(0x266)]&&Array[_0x509f59(0x343)](_0x1c23a4[_0x509f59(0x266)])&&(clients=_0x1c23a4[_0x509f59(0x266)]);if(_0x1c23a4[_0x509f59(0x257)]){if(_0x1c23a4[_0x509f59(0x257)][_0x509f59(0x1eb)])availabilityPattern=_0x1c23a4['settings']['pattern'];if(_0x1c23a4[_0x509f59(0x257)][_0x509f59(0x265)])dateExceptions=_0x1c23a4[_0x509f59(0x257)][_0x509f59(0x265)];if(_0x1c23a4[_0x509f59(0x257)][_0x509f59(0x335)])specialRanges=_0x1c23a4[_0x509f59(0x257)]['ranges'];if(_0x1c23a4[_0x509f59(0x257)]['cancel_window']){localStorage['setItem'](_0x509f59(0x2f0),_0x1c23a4[_0x509f59(0x257)][_0x509f59(0x27a)]);const _0x34e643=document[_0x509f59(0x1db)](_0x509f59(0x215));if(_0x34e643)_0x34e643['value']=_0x1c23a4[_0x509f59(0x257)][_0x509f59(0x27a)];}}_0x1c23a4[_0x509f59(0x2e8)]&&(sessions=sessions[_0x509f59(0x349)](_0xb61720=>!_0xb61720[_0x509f59(0x2a1)][_0x509f59(0x314)](_0x44313b)),Object[_0x509f59(0x21e)](_0x1c23a4[_0x509f59(0x2e8)])['forEach'](_0x496ad2=>{const _0x23618e=_0x509f59,_0x3dc66e=_0x1c23a4['calendar'][_0x496ad2];_0x3dc66e[_0x23618e(0x32f)](_0x336410=>{const _0x18e677=_0x23618e,_0x42fefd=clients[_0x18e677(0x233)](_0x15cb1d=>String(_0x15cb1d['id'])===String(_0x336410['c']));sessions[_0x18e677(0x29c)]({'id':_0x336410['i'],'clientId':_0x336410['c'],'client':_0x42fefd?_0x42fefd[_0x18e677(0x2f3)]:'Unknown','dateStr':_0x44313b+'-'+_0x496ad2[_0x18e677(0x22c)](0x2,'0'),'start':_0x336410['s'],'end':_0x336410['e'],'status':_0x336410['st']||_0x18e677(0x2b5),'note':_0x336410['n']||'','seriesId':_0x336410[_0x18e677(0x2d7)]||null});});}));},async 'syncBatch'(_0x139900){const _0x55214e=a2_0x28a2ee,_0x562c44=[...new Set(_0x139900)],_0x13b664=_0x562c44['map'](_0x64f163=>{const _0x3f1ce5=a2_0x3665,_0x260659=sessions[_0x3f1ce5(0x349)](_0x217629=>_0x217629[_0x3f1ce5(0x2a1)]===_0x64f163&&_0x217629[_0x3f1ce5(0x2d1)]!=='deleted'),_0x11ac07=_0x260659['map'](_0x2388cb=>({'i':_0x2388cb['id'],'c':_0x2388cb[_0x3f1ce5(0x25e)],'s':_0x2388cb[_0x3f1ce5(0x33b)],'e':_0x2388cb['end'],'st':_0x2388cb[_0x3f1ce5(0x2d1)],'n':_0x2388cb['note'],'sid':_0x2388cb[_0x3f1ce5(0x237)]}));return{'date':_0x64f163,'day_data':_0x11ac07};});if(_0x13b664[_0x55214e(0x25b)]===0x0)return;console[_0x55214e(0x2c3)](_0x55214e(0x336)+_0x13b664[_0x55214e(0x25b)]+_0x55214e(0x240)),await this[_0x55214e(0x1fa)](_0x55214e(0x340),{'changes':_0x13b664});}};async function init(){const _0x83c044=a2_0x28a2ee;DataManager[_0x83c044(0x2ce)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById']('matrixViewport')['addEventListener'](_0x83c044(0x264),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']()['then'](()=>{const _0x3cfdb4=_0x83c044;showToast(_0x3cfdb4(0x308),!![]);})[_0x83c044(0x1d9)](_0x13f842=>{const _0x350e17=_0x83c044;showToast(_0x350e17(0x2cf),![]);});}function generateId(){const _0x428a18=a2_0x28a2ee;return Date[_0x428a18(0x2bc)]()[_0x428a18(0x274)](0x24)+Math[_0x428a18(0x2ae)]()[_0x428a18(0x274)](0x24)[_0x428a18(0x2c2)](0x2,0x5);}function toggleSeriesInput(){const _0x1c235d=a2_0x28a2ee,_0x1db8e0=document[_0x1c235d(0x1db)](_0x1c235d(0x234))[_0x1c235d(0x210)],_0x45c16e=document[_0x1c235d(0x1db)](_0x1c235d(0x311));_0x45c16e['style'][_0x1c235d(0x277)]=_0x1db8e0?_0x1c235d(0x23c):_0x1c235d(0x267);const _0x4143bc=document['getElementById'](_0x1c235d(0x2e7));_0x4143bc[_0x1c235d(0x21d)][_0x1c235d(0x21f)]=_0x1db8e0?'10px\x2010px\x200\x200':'10px';}function openAddSession(_0x1de2db){const _0x1188b6=a2_0x28a2ee;editingId=null,populateClientSelect(),document['getElementById'](_0x1188b6(0x347))[_0x1188b6(0x2a7)]=_0x1188b6(0x2ff),document[_0x1188b6(0x1db)](_0x1188b6(0x27d))[_0x1188b6(0x21d)][_0x1188b6(0x277)]=_0x1188b6(0x267),document[_0x1188b6(0x1db)](_0x1188b6(0x293))[_0x1188b6(0x21d)]['display']=_0x1188b6(0x267);const _0x42c9ad=document['getElementById'](_0x1188b6(0x2e7)),_0x32cc0e=document[_0x1188b6(0x1db)](_0x1188b6(0x311));_0x42c9ad['style'][_0x1188b6(0x277)]=_0x1188b6(0x213),_0x42c9ad[_0x1188b6(0x21d)][_0x1188b6(0x21f)]=_0x1188b6(0x1de),document['getElementById'](_0x1188b6(0x234))['checked']=![],document[_0x1188b6(0x1db)]('inpSeriesCount')[_0x1188b6(0x281)]=0x4,_0x32cc0e[_0x1188b6(0x21d)]['display']=_0x1188b6(0x267),document[_0x1188b6(0x1db)](_0x1188b6(0x2b8))[_0x1188b6(0x281)]=getLocalDateStr(_0x1de2db),updateDateDisplay();const _0x131430=_0x1de2db['getHours']();document[_0x1188b6(0x1db)](_0x1188b6(0x2a5))[_0x1188b6(0x281)]=String(_0x131430)[_0x1188b6(0x22c)](0x2,'0')+_0x1188b6(0x1dd),document[_0x1188b6(0x1db)]('inpEnd')[_0x1188b6(0x281)]=String(_0x131430+0x1)[_0x1188b6(0x22c)](0x2,'0')+_0x1188b6(0x1dd),openSheet(_0x1188b6(0x1e8));}function openEdit(_0x311483){const _0x541170=a2_0x28a2ee;editingId=_0x311483['id'],populateClientSelect(),document['getElementById']('sheetTitle')[_0x541170(0x2a7)]=_0x541170(0x31e),document[_0x541170(0x1db)](_0x541170(0x27d))[_0x541170(0x21d)][_0x541170(0x277)]='block';const _0x11ef65=document[_0x541170(0x1db)](_0x541170(0x293));_0x11ef65['style'][_0x541170(0x277)]=_0x541170(0x213);_0x311483['status']===_0x541170(0x2b4)?(_0x11ef65[_0x541170(0x216)]=_0x541170(0x205),_0x11ef65['innerHTML']=_0x541170(0x229)):(_0x11ef65['className']=_0x541170(0x2ba),_0x11ef65[_0x541170(0x30f)]=_0x541170(0x31b));const _0x537811=!!_0x311483[_0x541170(0x237)];document[_0x541170(0x1db)](_0x541170(0x2e7))[_0x541170(0x21d)][_0x541170(0x277)]=_0x541170(0x267),document['getElementById']('seriesCountContainer')[_0x541170(0x21d)][_0x541170(0x277)]=_0x541170(0x267),_0x537811?(document[_0x541170(0x1db)](_0x541170(0x223))[_0x541170(0x21d)][_0x541170(0x277)]=_0x541170(0x213),document[_0x541170(0x1db)]('patternInfoBox')[_0x541170(0x1f2)](_0x541170(0x301))['textContent']=_0x541170(0x2f6)):document[_0x541170(0x1db)]('patternInfoBox')['style'][_0x541170(0x277)]='none',document['getElementById'](_0x541170(0x262))[_0x541170(0x281)]=_0x311483['client'],document['getElementById'](_0x541170(0x2b8))[_0x541170(0x281)]=_0x311483[_0x541170(0x2a1)],document[_0x541170(0x1db)](_0x541170(0x2a5))['value']=_0x311483['start'],document[_0x541170(0x1db)](_0x541170(0x29e))[_0x541170(0x281)]=_0x311483[_0x541170(0x2ac)],document[_0x541170(0x1db)]('inpNote')[_0x541170(0x281)]=_0x311483[_0x541170(0x2a2)]||'',updateDateDisplay(),openSheet(_0x541170(0x1e8));}async function trySaveSession(){const _0x4343db=a2_0x28a2ee,_0x24349b=document['getElementById'](_0x4343db(0x262))[_0x4343db(0x281)],_0x3a1e04=document[_0x4343db(0x1db)]('inpDate')['value'],_0x28eb75=document[_0x4343db(0x1db)](_0x4343db(0x2a5))[_0x4343db(0x281)],_0x1c41db=document['getElementById'](_0x4343db(0x29e))[_0x4343db(0x281)],_0x5f00b6=document[_0x4343db(0x1db)](_0x4343db(0x2d4))[_0x4343db(0x281)],_0x523fbc=document[_0x4343db(0x1db)](_0x4343db(0x234))['checked'];let _0x1db4cc=0x4;if(_0x523fbc){const _0x24a3b8=parseInt(document[_0x4343db(0x1db)](_0x4343db(0x255))['value']);if(!_0x24a3b8||_0x24a3b8<0x2){showToast(_0x4343db(0x299),![]);return;}if(_0x24a3b8>0x64){showToast(_0x4343db(0x254),![]);return;}_0x1db4cc=_0x24a3b8;}const _0x133ffb=clients['find'](_0x5b2d51=>_0x5b2d51['name']===_0x24349b);if(!_0x133ffb){showToast('–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞',![]);return;}const _0x430edd=validateAppointment(_0x3a1e04,_0x28eb75,_0x1c41db,editingId,_0x133ffb['id']);if(!_0x430edd[_0x4343db(0x2c6)]){showToast(_0x430edd['msg'],![]);return;}_0x430edd[_0x4343db(0x2be)]&&showToast(_0x430edd[_0x4343db(0x2be)],![]);const _0x51db7f={'client':_0x24349b,'clientId':_0x133ffb['id'],'start':_0x28eb75,'end':_0x1c41db,'note':_0x5f00b6,'status':_0x4343db(0x2b5)},_0x5bcc27=editingId?sessions[_0x4343db(0x233)](_0x36f933=>_0x36f933['id']===editingId):null;if(_0x5bcc27&&_0x5bcc27['seriesId']){tempSessionData={..._0x51db7f,'dateStr':_0x3a1e04,'id':editingId,'seriesId':_0x5bcc27[_0x4343db(0x237)]},openActionSheet(_0x4343db(0x34b));return;}let _0x1fc846=null;if(!editingId)_0x1fc846='create';else{if(_0x5bcc27){if(String(_0x5bcc27[_0x4343db(0x25e)])!==String(_0x133ffb['id']))console[_0x4343db(0x2c3)](_0x4343db(0x34a)),NotificationManager[_0x4343db(0x236)](_0x4343db(0x334),_0x5bcc27),_0x1fc846=_0x4343db(0x230);else(_0x5bcc27[_0x4343db(0x33b)]!==_0x28eb75||_0x5bcc27[_0x4343db(0x2ac)]!==_0x1c41db||_0x5bcc27[_0x4343db(0x2a1)]!==_0x3a1e04)&&(_0x1fc846=_0x4343db(0x2b7));}}if(!editingId&&_0x523fbc){createBatchSeries(_0x51db7f,_0x3a1e04,_0x1db4cc),NotificationManager[_0x4343db(0x236)](_0x4343db(0x230),{..._0x51db7f,'dateStr':_0x3a1e04});return;}lastUserActionTime=Date[_0x4343db(0x2bc)]();const _0x1acbd1={..._0x51db7f,'dateStr':_0x3a1e04,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x1acbd1),_0x1fc846&&NotificationManager[_0x4343db(0x236)](_0x1fc846,_0x1acbd1);}function toggleSessionStatus(){const _0x5acb43=a2_0x28a2ee;lastUserActionTime=Date[_0x5acb43(0x2bc)]();const _0x13b23d=sessions[_0x5acb43(0x233)](_0x412099=>_0x412099['id']===editingId);if(!_0x13b23d)return;const _0x39046d=_0x13b23d[_0x5acb43(0x2d1)]===_0x5acb43(0x2b4)?_0x5acb43(0x2b5):_0x5acb43(0x2b4);_0x13b23d[_0x5acb43(0x2d1)]=_0x39046d,saveSingleSession(_0x13b23d),_0x39046d===_0x5acb43(0x2b4)&&NotificationManager[_0x5acb43(0x236)](_0x5acb43(0x2e6),_0x13b23d),showToast(_0x39046d===_0x5acb43(0x2b4)?_0x5acb43(0x282):_0x5acb43(0x2ef),!![]);}function a2_0x3665(_0x13f138,_0x48c7ec){_0x13f138=_0x13f138-0x1d5;const _0x575dfd=a2_0x22fe();let _0x40e52d=_0x575dfd[_0x13f138];return _0x40e52d;}function validateAppointment(_0x198e91,_0x4eadcf,_0x2f2d88,_0x427150,_0x549509){const _0x15450c=a2_0x28a2ee,[_0x47a19f,_0x256769]=_0x4eadcf[_0x15450c(0x2fa)](':')[_0x15450c(0x2da)](Number),[_0x3ada10,_0x3d0e85]=_0x2f2d88[_0x15450c(0x2fa)](':')[_0x15450c(0x2da)](Number),_0x5cc395=_0x47a19f*0x3c+_0x256769,_0x77bfcd=_0x3ada10*0x3c+_0x3d0e85,_0xb9cf47=String(_0x549509);let _0x43bed3=![],_0x5a44f9='';for(let _0x3897ca of sessions){if(_0x3897ca[_0x15450c(0x2a1)]!==_0x198e91)continue;if(_0x3897ca[_0x15450c(0x2d1)]===_0x15450c(0x268))continue;if(_0x427150&&String(_0x3897ca['id'])===String(_0x427150))continue;const [_0x4025da,_0x1cbcbe]=_0x3897ca[_0x15450c(0x33b)][_0x15450c(0x2fa)](':')['map'](Number),[_0xcdff6f,_0x4aa5a9]=_0x3897ca[_0x15450c(0x2ac)]['split'](':')[_0x15450c(0x2da)](Number),_0x1b7ca7=_0x4025da*0x3c+_0x1cbcbe,_0x2c92c2=_0xcdff6f*0x3c+_0x4aa5a9;if(Math[_0x15450c(0x2ed)](_0x5cc395,_0x1b7ca7)<Math[_0x15450c(0x2bb)](_0x77bfcd,_0x2c92c2)){if(_0x3897ca[_0x15450c(0x25e)]&&String(_0x3897ca[_0x15450c(0x25e)])===_0xb9cf47)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0x3897ca['client']+_0x15450c(0x285)};_0x43bed3=!![],_0x5a44f9=_0x3897ca['client'];}}if(_0x43bed3)return{'valid':!![],'warning':_0x15450c(0x2de)+_0x5a44f9};return{'valid':!![]};}function saveSingleSession(_0x12e5b5){const _0x498aa3=a2_0x28a2ee;if(editingId){const _0x296dc8=sessions[_0x498aa3(0x323)](_0x27d260=>_0x27d260['id']===editingId);if(_0x296dc8!==-0x1)sessions[_0x296dc8]=_0x12e5b5;}else sessions[_0x498aa3(0x29c)](_0x12e5b5);afterSaveAction([_0x12e5b5[_0x498aa3(0x2a1)]]);}function createBatchSeries(_0x562c38,_0x136f3f,_0x266195){const _0x774dbb=a2_0x28a2ee,_0x24fa88=generateId(),_0x182414=[],_0x1cbd4b=[];let _0x8268f9=0x0,_0x5693b0=new Date(_0x136f3f);for(let _0x4ffc7e=0x0;_0x4ffc7e<_0x266195;_0x4ffc7e++){const _0x5994a4=getLocalDateStr(_0x5693b0),_0x552167=validateAppointment(_0x5994a4,_0x562c38[_0x774dbb(0x33b)],_0x562c38['end'],null,_0x562c38['clientId']);if(!_0x552167['valid'])console[_0x774dbb(0x2c3)](_0x774dbb(0x32e)+_0x5994a4+_0x774dbb(0x275)),_0x8268f9++;else{const _0x47f3bf={..._0x562c38,'id':generateId(),'dateStr':_0x5994a4,'seriesId':_0x24fa88};_0x1cbd4b['push'](_0x47f3bf),_0x182414[_0x774dbb(0x29c)](_0x5994a4);}_0x5693b0[_0x774dbb(0x2b9)](_0x5693b0[_0x774dbb(0x209)]()+0x7);}if(_0x1cbd4b[_0x774dbb(0x25b)]===0x0){showToast(_0x774dbb(0x292),![]);return;}sessions['push'](..._0x1cbd4b),lastUserActionTime=Date[_0x774dbb(0x2bc)]();let _0x4fa464=_0x774dbb(0x2e3)+_0x1cbd4b[_0x774dbb(0x25b)];_0x8268f9>0x0&&(_0x4fa464+=_0x774dbb(0x27f)+_0x8268f9+')'),showToast(_0x4fa464,!![]),afterSaveAction(_0x182414);}function updateSeriesBatch(_0x3ea011,_0x4c62e3){const _0x1f995d=a2_0x28a2ee,_0x2fd69f=[],_0x3c44d1=_0x4c62e3[_0x1f995d(0x237)];if(_0x3ea011===_0x1f995d(0x21a)){const _0x42cbe8={..._0x4c62e3,'seriesId':null},_0x3f0050=sessions['findIndex'](_0x17d9a8=>_0x17d9a8['id']===_0x4c62e3['id']);if(_0x3f0050!==-0x1)sessions[_0x3f0050]=_0x42cbe8;_0x2fd69f[_0x1f995d(0x29c)](_0x42cbe8[_0x1f995d(0x2a1)]);}else{if(_0x3ea011==='series'){const _0x1518ba=_0x4c62e3[_0x1f995d(0x2a1)];sessions['forEach']((_0x22cdfc,_0x4e230a)=>{const _0x287e5b=_0x1f995d;_0x22cdfc[_0x287e5b(0x237)]===_0x3c44d1&&_0x22cdfc[_0x287e5b(0x2a1)]>=_0x1518ba&&(sessions[_0x4e230a]={...sessions[_0x4e230a],'start':_0x4c62e3[_0x287e5b(0x33b)],'end':_0x4c62e3[_0x287e5b(0x2ac)],'note':_0x4c62e3[_0x287e5b(0x2a2)],'client':_0x4c62e3[_0x287e5b(0x1e2)],'clientId':_0x4c62e3['clientId']},_0x2fd69f[_0x287e5b(0x29c)](_0x22cdfc[_0x287e5b(0x2a1)]));});}}afterSaveAction(_0x2fd69f);}function tryDeleteSession(){const _0x6b3e81=a2_0x28a2ee,_0x4b6870=sessions[_0x6b3e81(0x233)](_0x594d85=>_0x594d85['id']===editingId);if(!_0x4b6870)return;_0x4b6870[_0x6b3e81(0x237)]?openActionSheet(_0x6b3e81(0x1f0)):commitDelete('single',_0x4b6870);}function commitDelete(_0x1640d8,_0x5e0379){const _0xd3a783=a2_0x28a2ee;lastUserActionTime=Date['now'](),NotificationManager[_0xd3a783(0x236)](_0xd3a783(0x334),_0x5e0379);const _0x1f2044=[];if(_0x1640d8===_0xd3a783(0x21a))sessions=sessions['filter'](_0x302e34=>_0x302e34['id']!==_0x5e0379['id']),_0x1f2044['push'](_0x5e0379[_0xd3a783(0x2a1)]);else{if(_0x1640d8===_0xd3a783(0x2a3)){const _0x23ee8a=_0x5e0379['dateStr'],_0xc018a5=_0x5e0379[_0xd3a783(0x237)];sessions['forEach'](_0x59c08e=>{const _0x7f2ab8=_0xd3a783;_0x59c08e[_0x7f2ab8(0x237)]===_0xc018a5&&_0x59c08e['dateStr']>=_0x23ee8a&&_0x1f2044[_0x7f2ab8(0x29c)](_0x59c08e[_0x7f2ab8(0x2a1)]);}),sessions=sessions[_0xd3a783(0x349)](_0x5eba9e=>!(_0x5eba9e['seriesId']===_0xc018a5&&_0x5eba9e[_0xd3a783(0x2a1)]>=_0x23ee8a));}}afterSaveAction(_0x1f2044);}function afterSaveAction(_0x2b8d3c){const _0x138356=a2_0x28a2ee;DataManager[_0x138356(0x217)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x138356(0x241)](_0x2b8d3c)[_0x138356(0x253)](()=>console[_0x138356(0x2c3)]('Batch\x20Sync\x20OK'))[_0x138356(0x1d9)](_0x15d9fb=>showToast(_0x138356(0x2cd),![]));}const NotificationManager={'formatDate'(_0xaf2c97){const _0x58f8d2=a2_0x28a2ee,_0x42b14c=new Date(_0xaf2c97),_0x174f9b={'weekday':_0x58f8d2(0x2eb),'day':_0x58f8d2(0x291),'month':_0x58f8d2(0x2eb)};let _0x2f6bf1=_0x42b14c['toLocaleDateString']('ru-RU',_0x174f9b);return _0x2f6bf1[_0x58f8d2(0x1e5)](0x0)[_0x58f8d2(0x319)]()+_0x2f6bf1['slice'](0x1);},'getText'(_0x4a2905,_0xdeec58){const _0x2c8524=a2_0x28a2ee,_0x158cb2=this['formatDate'](_0xdeec58['dateStr']);switch(_0x4a2905){case _0x2c8524(0x230):return'<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a'+(_0x2c8524(0x1d5)+_0x158cb2+'\x0a')+(_0x2c8524(0x2df)+_0xdeec58[_0x2c8524(0x33b)]+_0x2c8524(0x2f5)+_0xdeec58[_0x2c8524(0x2ac)]+'\x0a\x0a')+_0x2c8524(0x332);case _0x2c8524(0x2b7):return'<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a'+_0x2c8524(0x1f4)+(_0x2c8524(0x1d6)+_0xdeec58[_0x2c8524(0x33b)]+_0x2c8524(0x2f5)+_0xdeec58[_0x2c8524(0x2ac)]+'</b>\x0a\x0a')+(_0x2c8524(0x1d5)+_0x158cb2);case'cancel':return _0x2c8524(0x278)+(_0x2c8524(0x207)+_0x158cb2+'\x20('+_0xdeec58['start']+')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.');case _0x2c8524(0x2e6):return _0x2c8524(0x26e)+_0x2c8524(0x2ca)+_0x2c8524(0x219);default:return'';}},async 'send'(_0x5c2250,_0x2e6e47){const _0x5686fb=a2_0x28a2ee;console['log']('[Notify]\x20Attempting\x20to\x20send:',_0x5c2250,_0x2e6e47);if(!_0x2e6e47){console[_0x5686fb(0x248)](_0x5686fb(0x333));return;}const _0x880145=String(_0x2e6e47[_0x5686fb(0x25e)]);console[_0x5686fb(0x2c3)](_0x5686fb(0x2f8),_0x880145);if(!_0x2e6e47[_0x5686fb(0x25e)]||_0x880145===_0x5686fb(0x1fb)||_0x880145==='null'){console['error'](_0x5686fb(0x351));if(_0x2e6e47['client']){const _0x29fe3a=clients[_0x5686fb(0x233)](_0x468f06=>_0x468f06[_0x5686fb(0x2f3)]===_0x2e6e47['client']);if(_0x29fe3a)return console[_0x5686fb(0x2c3)](_0x5686fb(0x28a),_0x29fe3a['id']),this[_0x5686fb(0x236)](_0x5c2250,{..._0x2e6e47,'clientId':_0x29fe3a['id']});}return;}if(_0x880145[_0x5686fb(0x25b)]<0x5){console['warn'](_0x5686fb(0x20f),_0x880145);return;}const _0x4afc5b=this[_0x5686fb(0x252)](_0x5c2250,_0x2e6e47);if(!_0x4afc5b){console['error'](_0x5686fb(0x251));return;}console['log'](_0x5686fb(0x337)+_0x880145+'...'),DataManager[_0x5686fb(0x1fa)]('send_notification',{'chatId':_0x880145,'text':_0x4afc5b})[_0x5686fb(0x253)](_0x290c8e=>console[_0x5686fb(0x2c3)](_0x5686fb(0x24c),_0x290c8e))[_0x5686fb(0x1d9)](_0x75d2c5=>console[_0x5686fb(0x248)]('[Notify]\x20Network\x20Failed',_0x75d2c5));}};function getLocalDateStr(_0x39274c){const _0x3d5841=a2_0x28a2ee,_0x2451ef=_0x39274c[_0x3d5841(0x32d)](),_0xebe548=String(_0x39274c[_0x3d5841(0x247)]()+0x1)[_0x3d5841(0x22c)](0x2,'0'),_0x58d5b9=String(_0x39274c[_0x3d5841(0x209)]())[_0x3d5841(0x22c)](0x2,'0');return _0x2451ef+'-'+_0xebe548+'-'+_0x58d5b9;}function getDateStr(_0x3f1907){const _0x1d3c78=a2_0x28a2ee,_0x5ba4b3=new Date();return _0x5ba4b3[_0x1d3c78(0x2b9)](_0x5ba4b3[_0x1d3c78(0x209)]()+_0x3f1907),getLocalDateStr(_0x5ba4b3);}function getStartOfWeek(_0x21fb35){const _0x24a8f5=a2_0x28a2ee,_0x2de3c9=(function(){let _0x2639db=!![];return function(_0x5c945d,_0x2a3437){const _0x2b2fd7=_0x2639db?function(){const _0x39f8da=a2_0x3665;if(_0x2a3437){const _0x484d91=_0x2a3437[_0x39f8da(0x1fe)](_0x5c945d,arguments);return _0x2a3437=null,_0x484d91;}}:function(){};return _0x2639db=![],_0x2b2fd7;};}()),_0x3d9f95=_0x2de3c9(this,function(){const _0x187ca3=a2_0x3665;return _0x3d9f95[_0x187ca3(0x274)]()[_0x187ca3(0x26b)]('(((.+)+)+)+$')[_0x187ca3(0x274)]()[_0x187ca3(0x1f7)](_0x3d9f95)[_0x187ca3(0x26b)](_0x187ca3(0x30c));});_0x3d9f95();const _0x3da07b=new Date(_0x21fb35),_0x271851=_0x3da07b['getDay'](),_0x4adc75=_0x3da07b[_0x24a8f5(0x209)]()-_0x271851+(_0x271851===0x0?-0x6:0x1);return _0x3da07b[_0x24a8f5(0x2b9)](_0x4adc75),_0x3da07b[_0x24a8f5(0x305)](0x0,0x0,0x0,0x0),_0x3da07b;}function hexToRgba(_0xadfb03,_0x2551f7){const _0x468603=a2_0x28a2ee;if(!_0xadfb03)return'rgba(100,100,100,0.5)';let _0x4a8107=0x0,_0x2b4d3e=0x0,_0x587f9d=0x0;if(_0xadfb03['length']===0x4)_0x4a8107='0x'+_0xadfb03[0x1]+_0xadfb03[0x1],_0x2b4d3e='0x'+_0xadfb03[0x2]+_0xadfb03[0x2],_0x587f9d='0x'+_0xadfb03[0x3]+_0xadfb03[0x3];else _0xadfb03['length']===0x7&&(_0x4a8107='0x'+_0xadfb03[0x1]+_0xadfb03[0x2],_0x2b4d3e='0x'+_0xadfb03[0x3]+_0xadfb03[0x4],_0x587f9d='0x'+_0xadfb03[0x5]+_0xadfb03[0x6]);return _0x468603(0x287)+ +_0x4a8107+',\x20'+ +_0x2b4d3e+',\x20'+ +_0x587f9d+',\x20'+_0x2551f7+')';}function renderTimeColumn(){const _0x207e3a=a2_0x28a2ee,_0x784d59=document[_0x207e3a(0x1db)](_0x207e3a(0x34f)),_0x20315c=document['getElementById']('timeLineBadge');_0x784d59[_0x207e3a(0x30f)]='',_0x784d59['appendChild'](_0x20315c);for(let _0x2f72fa=0x0;_0x2f72fa<0x18;_0x2f72fa++){const _0x554e4f=document[_0x207e3a(0x25c)]('div');_0x554e4f[_0x207e3a(0x216)]=_0x207e3a(0x24a);if(_0x2f72fa>0x0)_0x554e4f[_0x207e3a(0x30f)]=_0x207e3a(0x25d)+String(_0x2f72fa)[_0x207e3a(0x22c)](0x2,'0')+_0x207e3a(0x2c9);_0x784d59['appendChild'](_0x554e4f);}}function renderDayRange(_0x28e85a,_0x2bc8cc){const _0x32320b=a2_0x28a2ee,_0xafddc9=document[_0x32320b(0x1db)]('daysHeaderTrack'),_0x4af583=document['getElementById'](_0x32320b(0x294)),_0x5f3d43=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x4d9bfb=new Date();_0x4d9bfb[_0x32320b(0x305)](0x0,0x0,0x0,0x0);const _0x57536a=getLocalDateStr(new Date());for(let _0x2cea4b=_0x28e85a;_0x2cea4b<=_0x2bc8cc;_0x2cea4b++){const _0x175bd7=new Date(_0x4d9bfb);_0x175bd7[_0x32320b(0x2b9)](_0x175bd7[_0x32320b(0x209)]()+_0x2cea4b);const _0xd0ce00=getLocalDateStr(_0x175bd7);let _0x328a51=_0x175bd7['getDay']()-0x1;if(_0x328a51===-0x1)_0x328a51=0x6;const _0x56b9b5=_0xd0ce00===_0x57536a,_0x182254=document[_0x32320b(0x25c)](_0x32320b(0x227));_0x182254[_0x32320b(0x216)]=_0x32320b(0x317)+(_0x56b9b5?_0x32320b(0x284):''),_0x182254['id']=_0x32320b(0x2c4)+_0xd0ce00,_0x182254[_0x32320b(0x2dd)](_0x32320b(0x29a),_0xd0ce00),_0x182254['innerHTML']='<div\x20class=\x22dch-day\x22>'+_0x5f3d43[_0x328a51]+_0x32320b(0x31f)+_0x175bd7['getDate']()+_0x32320b(0x288)+_0xd0ce00+_0x32320b(0x1ed),_0x182254['onclick']=()=>openDayOptions(_0xd0ce00,_0x5f3d43[_0x328a51]+'\x20'+_0x175bd7[_0x32320b(0x209)]()),_0xafddc9[_0x32320b(0x22f)](_0x182254);const _0x191ea8=document[_0x32320b(0x25c)](_0x32320b(0x227));_0x191ea8[_0x32320b(0x216)]='day-column\x20'+(_0x56b9b5?_0x32320b(0x284):''),_0x191ea8['setAttribute'](_0x32320b(0x29a),_0xd0ce00),_0x191ea8[_0x32320b(0x2dd)](_0x32320b(0x228),_0x328a51),renderEventsForColumn(_0x191ea8,_0xd0ce00,_0x328a51),attachLongPressHandler(_0x191ea8,_0x175bd7),_0x4af583[_0x32320b(0x22f)](_0x191ea8),updateDayStats(_0xd0ce00);}}function reRenderBlocks(){const _0xa73b2c=a2_0x28a2ee;document[_0xa73b2c(0x331)](_0xa73b2c(0x1e6))[_0xa73b2c(0x32f)](_0x434174=>{const _0x37858e=_0xa73b2c;_0x434174[_0x37858e(0x331)](_0x37858e(0x2e2))[_0x37858e(0x32f)](_0x439856=>_0x439856[_0x37858e(0x32b)]());const _0x24bec7=_0x434174[_0x37858e(0x26f)]('data-date'),_0x505206=parseInt(_0x434174[_0x37858e(0x26f)]('data-day-idx')),_0x1f8d5d=Math[_0x37858e(0x2fc)](_0x434174[_0x37858e(0x27b)]);(availabilityPattern[_0x505206]||[])[_0x37858e(0x32f)](_0x2cbdab=>{const _0x572db6=_0x37858e,_0x5b9afc=document[_0x572db6(0x25c)](_0x572db6(0x227));_0x5b9afc['className']=_0x572db6(0x313);const _0x1a37f8=_0x2cbdab*GRID_H;_0x5b9afc[_0x572db6(0x21d)][_0x572db6(0x221)]=_0x1a37f8+'px',_0x5b9afc[_0x572db6(0x21d)]['backgroundPosition']='-'+_0x1f8d5d+'px\x20-'+_0x1a37f8+'px',_0x434174[_0x572db6(0x22f)](_0x5b9afc);});if(specialRanges&&specialRanges[_0x37858e(0x25b)]>0x0){const _0x16a23f=new Date(_0x24bec7+_0x37858e(0x2bd))['getTime'](),_0x3acceb=new Date(_0x24bec7+'T23:59:59')[_0x37858e(0x289)]();specialRanges[_0x37858e(0x32f)](_0x3d90bc=>{const _0x41faf4=_0x37858e,_0x14e828=new Date(_0x3d90bc[_0x41faf4(0x33b)])[_0x41faf4(0x289)](),_0x3467bc=new Date(_0x3d90bc[_0x41faf4(0x2ac)])[_0x41faf4(0x289)](),_0x377f14=Math[_0x41faf4(0x2ed)](_0x16a23f,_0x14e828),_0x39a09d=Math[_0x41faf4(0x2bb)](_0x3acceb,_0x3467bc);if(_0x377f14<_0x39a09d){if(_0x377f14<=_0x16a23f&&_0x39a09d>=_0x3acceb-0xea60){if(!_0x434174[_0x41faf4(0x1f2)]('.day-off-overlay')){const _0x197033=document[_0x41faf4(0x25c)](_0x41faf4(0x227));_0x197033[_0x41faf4(0x216)]='day-off-overlay\x20stripe-bg',_0x197033[_0x41faf4(0x21d)][_0x41faf4(0x2dc)]='-'+_0x1f8d5d+_0x41faf4(0x22d),_0x434174[_0x41faf4(0x22f)](_0x197033);}}else{const _0x184f11=(_0x377f14-_0x16a23f)/0x36ee80*GRID_H,_0xbc9c6a=(_0x39a09d-_0x377f14)/0x36ee80*GRID_H,_0x4fe182=document[_0x41faf4(0x25c)](_0x41faf4(0x227));_0x4fe182['className']=_0x41faf4(0x259),_0x4fe182[_0x41faf4(0x21d)][_0x41faf4(0x221)]=_0x184f11+'px',_0x4fe182[_0x41faf4(0x21d)][_0x41faf4(0x321)]=_0xbc9c6a+'px',_0x4fe182[_0x41faf4(0x21d)][_0x41faf4(0x2dc)]='-'+_0x1f8d5d+'px\x20-'+_0x184f11+'px',_0x434174[_0x41faf4(0x22f)](_0x4fe182);}}});}if(dateExceptions[_0x24bec7]===_0x37858e(0x249)){if(!_0x434174['querySelector']('.day-off-overlay')){const _0x12c8cf=document[_0x37858e(0x25c)](_0x37858e(0x227));_0x12c8cf[_0x37858e(0x216)]=_0x37858e(0x20e),_0x12c8cf['style'][_0x37858e(0x2dc)]='-'+_0x1f8d5d+_0x37858e(0x22d),_0x434174[_0x37858e(0x22f)](_0x12c8cf);}}renderEventsForColumn(_0x434174,_0x24bec7,_0x505206),updateDayStats(_0x24bec7);});}function updateAllDayStats(){const _0x5db8c5=a2_0x28a2ee;document['querySelectorAll']('.day-col-header')[_0x5db8c5(0x32f)](_0x1ca82d=>{const _0x5e6333=_0x5db8c5;updateDayStats(_0x1ca82d[_0x5e6333(0x26f)]('data-date'));});}function updateDayStats(_0x514656){const _0xa6da91=a2_0x28a2ee,_0x45d569=document[_0xa6da91(0x1db)](_0xa6da91(0x2d6)+_0x514656);if(!_0x45d569)return;const _0x1f053a=new Date(_0x514656);let _0x461742=_0x1f053a[_0xa6da91(0x2f9)]()-0x1;if(_0x461742===-0x1)_0x461742=0x6;if(dateExceptions[_0x514656]===_0xa6da91(0x249)){_0x45d569[_0xa6da91(0x21d)][_0xa6da91(0x277)]=_0xa6da91(0x267);return;}const _0x1bad5c=availabilityPattern[_0x461742]||[],_0x47720c=0x18-_0x1bad5c[_0xa6da91(0x25b)],_0x139a87=_0x47720c*0x3c,_0x5f3553=sessions[_0xa6da91(0x349)](_0xa96a9f=>_0xa96a9f[_0xa6da91(0x2a1)]===_0x514656&&_0xa96a9f[_0xa6da91(0x2d1)]!==_0xa6da91(0x268));if(_0x5f3553[_0xa6da91(0x25b)]===0x0){_0x45d569[_0xa6da91(0x21d)][_0xa6da91(0x277)]=_0xa6da91(0x267);return;}let _0x5531fe=_0x5f3553[_0xa6da91(0x2da)](_0x5a848a=>{const _0x487d40=_0xa6da91,[_0x3d4c3c,_0x406034]=_0x5a848a['start'][_0x487d40(0x2fa)](':')['map'](Number),[_0x5b62e0,_0x3566d8]=_0x5a848a[_0x487d40(0x2ac)][_0x487d40(0x2fa)](':')[_0x487d40(0x2da)](Number);return[_0x3d4c3c*0x3c+_0x406034,_0x5b62e0*0x3c+_0x3566d8];});_0x5531fe['sort']((_0xeaa0f5,_0x3e4aa4)=>_0xeaa0f5[0x0]-_0x3e4aa4[0x0]);let _0x32716a=[];if(_0x5531fe[_0xa6da91(0x25b)]>0x0){let _0x2ac1b6=_0x5531fe[0x0];for(let _0x30359d=0x1;_0x30359d<_0x5531fe['length'];_0x30359d++){_0x5531fe[_0x30359d][0x0]<_0x2ac1b6[0x1]?_0x2ac1b6[0x1]=Math[_0xa6da91(0x2ed)](_0x2ac1b6[0x1],_0x5531fe[_0x30359d][0x1]):(_0x32716a[_0xa6da91(0x29c)](_0x2ac1b6),_0x2ac1b6=_0x5531fe[_0x30359d]);}_0x32716a[_0xa6da91(0x29c)](_0x2ac1b6);}let _0x1ff512=0x0;_0x32716a[_0xa6da91(0x32f)](_0x386de1=>_0x1ff512+=_0x386de1[0x1]-_0x386de1[0x0]),_0x45d569[_0xa6da91(0x21d)]['display']='flex';const _0x431010=_0x45d569[_0xa6da91(0x1f2)](_0xa6da91(0x1e1));if(_0x139a87===0x0){_0x431010[_0xa6da91(0x21d)][_0xa6da91(0x2c8)]=_0xa6da91(0x2db),_0x431010[_0xa6da91(0x21d)][_0xa6da91(0x1e0)]=_0xa6da91(0x33f);return;}const _0x4b25e4=_0x1ff512/_0x139a87*0x64;console[_0xa6da91(0x2c3)]('['+_0x514656+_0xa6da91(0x256)+_0x47720c+_0xa6da91(0x358)+_0x1ff512+_0xa6da91(0x296)+_0x4b25e4[_0xa6da91(0x238)](0x1)+'%'),_0x4b25e4>0x64?(_0x431010[_0xa6da91(0x21d)][_0xa6da91(0x2c8)]='100%',_0x431010['style'][_0xa6da91(0x1e0)]='var(--acc-red)'):(_0x431010['style']['width']=_0x4b25e4+'%',_0x431010['style'][_0xa6da91(0x1e0)]='var(--acc-current)');}function renderEventsForColumn(_0x3a3374,_0xe77318,_0x3af72a){const _0x4434cc=a2_0x28a2ee,_0x2dcb3b=sessions[_0x4434cc(0x349)](_0xe34cf3=>_0xe34cf3[_0x4434cc(0x2a1)]===_0xe77318),_0x1d9e96=_0x2dcb3b[_0x4434cc(0x2da)](_0x5aee97=>{const _0x58a0ea=_0x4434cc,[_0xd5f8cc,_0x5b5766]=_0x5aee97[_0x58a0ea(0x33b)][_0x58a0ea(0x2fa)](':')['map'](Number),[_0x3b2262,_0x213fe6]=_0x5aee97[_0x58a0ea(0x2ac)][_0x58a0ea(0x2fa)](':')['map'](Number);return{'data':_0x5aee97,'start':_0xd5f8cc*0x3c+_0x5b5766,'end':_0x3b2262*0x3c+_0x213fe6,'colIndex':0x0};});_0x1d9e96[_0x4434cc(0x260)]((_0x3a4433,_0x1ebb42)=>{const _0x29a193=_0x4434cc;if(_0x3a4433[_0x29a193(0x33b)]!==_0x1ebb42[_0x29a193(0x33b)])return _0x3a4433['start']-_0x1ebb42[_0x29a193(0x33b)];return _0x1ebb42[_0x29a193(0x2ac)]-_0x1ebb42['start']-(_0x3a4433[_0x29a193(0x2ac)]-_0x3a4433[_0x29a193(0x33b)]);});const _0x1f091d=[];_0x1d9e96[_0x4434cc(0x32f)](_0x26d776=>{const _0x32ab16=_0x4434cc;let _0x3df1e1=![];for(let _0x580063=0x0;_0x580063<_0x1f091d[_0x32ab16(0x25b)];_0x580063++){const _0x174bdd=_0x1f091d[_0x580063],_0x57272f=_0x174bdd[_0x174bdd[_0x32ab16(0x25b)]-0x1];if(_0x26d776['start']>=_0x57272f[_0x32ab16(0x2ac)]){_0x174bdd['push'](_0x26d776),_0x26d776['colIndex']=_0x580063,_0x3df1e1=!![];break;}}!_0x3df1e1&&(_0x1f091d[_0x32ab16(0x29c)]([_0x26d776]),_0x26d776[_0x32ab16(0x271)]=_0x1f091d[_0x32ab16(0x25b)]-0x1);}),_0x1d9e96[_0x4434cc(0x32f)](_0x575bb3=>{const _0x404471=_0x4434cc;let _0x5d1ea0=0x0;_0x1d9e96[_0x404471(0x32f)](_0x19d701=>{const _0x5f3ca6=_0x404471;if(Math['max'](_0x575bb3[_0x5f3ca6(0x33b)],_0x19d701['start'])<Math['min'](_0x575bb3[_0x5f3ca6(0x2ac)],_0x19d701[_0x5f3ca6(0x2ac)])){if(_0x19d701['colIndex']>_0x5d1ea0)_0x5d1ea0=_0x19d701[_0x5f3ca6(0x271)];}});const _0x4cbb7f=_0x5d1ea0+0x1,_0x4fd1df=0x64/_0x4cbb7f,_0x1e0f53=_0x575bb3['colIndex']*_0x4fd1df,_0x46ae79=createEventEl(_0x575bb3[_0x404471(0x1d7)]);_0x46ae79[_0x404471(0x21d)]['width']='calc('+_0x4fd1df+_0x404471(0x20d),_0x46ae79[_0x404471(0x21d)]['left']=_0x404471(0x2e9)+_0x1e0f53+_0x404471(0x33a),_0x46ae79[_0x404471(0x21d)][_0x404471(0x2f2)]=0xa+_0x575bb3[_0x404471(0x271)],_0x4fd1df<0x55&&_0x46ae79[_0x404471(0x21b)][_0x404471(0x2cb)]('mini'),_0x3a3374[_0x404471(0x22f)](_0x46ae79);});}function createEventEl(_0x2bf417){const _0x430ab8=a2_0x28a2ee,[_0x14925d,_0x269198]=_0x2bf417[_0x430ab8(0x33b)]['split'](':')[_0x430ab8(0x2da)](Number),[_0x4a4686,_0x149491]=_0x2bf417[_0x430ab8(0x2ac)]['split'](':')['map'](Number),_0x5d350f=(_0x14925d*0x3c+_0x269198)/0x3c*GRID_H,_0x198ef9=(_0x4a4686*0x3c+_0x149491-(_0x14925d*0x3c+_0x269198))/0x3c*GRID_H,_0x4c1026=document['createElement']('div'),_0x308498=_0x2bf417['status']==='completed'?_0x430ab8(0x1da):'';_0x4c1026['className']=_0x430ab8(0x2cc)+_0x308498,_0x4c1026[_0x430ab8(0x21d)][_0x430ab8(0x221)]=_0x5d350f+'px',_0x4c1026['style'][_0x430ab8(0x321)]=Math[_0x430ab8(0x2ed)](_0x198ef9,0x14)+'px';const _0x472d5e=clients[_0x430ab8(0x233)](_0x182e58=>_0x2bf417['clientId']&&String(_0x182e58['id'])===String(_0x2bf417[_0x430ab8(0x25e)])||_0x182e58[_0x430ab8(0x2f3)]===_0x2bf417[_0x430ab8(0x1e2)]),_0x5cda38=_0x472d5e?_0x472d5e[_0x430ab8(0x1e9)]:_0x430ab8(0x2af);_0x4c1026[_0x430ab8(0x21d)][_0x430ab8(0x224)]=_0x5cda38,_0x4c1026['style'][_0x430ab8(0x222)]=hexToRgba(_0x5cda38,0.85);let _0x2f51e4=_0x430ab8(0x2ea)+_0x2bf417['client']+'</div><div\x20class=\x22ev-time\x22>'+_0x2bf417[_0x430ab8(0x33b)]+_0x430ab8(0x25f)+_0x2bf417[_0x430ab8(0x2ac)]+_0x430ab8(0x2a6);return _0x2bf417[_0x430ab8(0x237)]&&(_0x2f51e4+='<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>'),_0x2bf417[_0x430ab8(0x2d1)]===_0x430ab8(0x2b4)&&(_0x2f51e4+=_0x430ab8(0x34d)),_0x4c1026[_0x430ab8(0x30f)]=_0x2f51e4,_0x4c1026['onclick']=_0x37c257=>{_0x37c257['stopPropagation'](),openEdit(_0x2bf417);},_0x4c1026;}function attachLongPressHandler(_0x2572f5,_0x3112fa){const _0x401a8e=a2_0x28a2ee;let _0x23ce38=0x0,_0x26b626=null;const _0x4cf048=_0x4010d0=>{const _0xd257a0=a2_0x3665;if(_0x4010d0[_0xd257a0(0x327)][_0xd257a0(0x2e0)](_0xd257a0(0x28b)))return;isScrolling=![],_0x23ce38=_0x4010d0['touches']?_0x4010d0['touches'][0x0][_0xd257a0(0x26c)]:_0x4010d0[_0xd257a0(0x26c)],_0x26b626=setTimeout(()=>{const _0x4b2c3f=_0xd257a0;if(!isScrolling){navigator[_0x4b2c3f(0x220)]?.(0x32);const _0x77dfd=_0x2572f5[_0x4b2c3f(0x31a)](),_0x2add52=Math[_0x4b2c3f(0x245)]((_0x23ce38-_0x77dfd[_0x4b2c3f(0x221)])/GRID_H);_0x3112fa[_0x4b2c3f(0x305)](_0x2add52,0x0),openAddSession(_0x3112fa);}},0x1f4);},_0x3e2cbd=()=>{isScrolling=!![],clearTimeout(_0x26b626);},_0x4af1a1=()=>{clearTimeout(_0x26b626);};_0x2572f5['addEventListener'](_0x401a8e(0x231),_0x4cf048,{'passive':!![]}),_0x2572f5['addEventListener'](_0x401a8e(0x344),_0x3e2cbd,{'passive':!![]}),_0x2572f5[_0x401a8e(0x34e)](_0x401a8e(0x316),_0x4af1a1),_0x2572f5[_0x401a8e(0x34e)](_0x401a8e(0x20b),_0x4cf048),_0x2572f5[_0x401a8e(0x34e)](_0x401a8e(0x33c),_0x3e2cbd),_0x2572f5[_0x401a8e(0x34e)](_0x401a8e(0x208),_0x4af1a1);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x4bf538=a2_0x28a2ee,_0x53c9dd=document['getElementById'](_0x4bf538(0x24b)),_0x5afc22=_0x53c9dd[_0x4bf538(0x2f1)],_0x28274c=_0x53c9dd[_0x4bf538(0x2d3)],_0x4f9376=_0x53c9dd[_0x4bf538(0x272)];if(_0x28274c-(_0x5afc22+_0x4f9376)<0x12c){const _0x4735a7=endOffset;endOffset+=0xe,renderDayRange(_0x4735a7+0x1,endOffset),reRenderBlocks();}if(_0x5afc22<0x12c){const _0x169a4b=startOffset;startOffset-=0xe,prependDays(startOffset,_0x169a4b-0x1),_0x53c9dd[_0x4bf538(0x2f1)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x47d89e,_0x1c4d38){const _0x40acdb=a2_0x28a2ee,_0x1759a8=document[_0x40acdb(0x1db)](_0x40acdb(0x318)),_0x8b416=document[_0x40acdb(0x1db)](_0x40acdb(0x294)),_0x20a3e3=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1e0a7a=new Date();_0x1e0a7a[_0x40acdb(0x305)](0x0,0x0,0x0,0x0);const _0x2d8c20=getLocalDateStr(new Date()),_0x122934=document['createDocumentFragment'](),_0x2f17de=document[_0x40acdb(0x326)]();for(let _0xb1588f=_0x47d89e;_0xb1588f<=_0x1c4d38;_0xb1588f++){const _0x3bf0b8=new Date(_0x1e0a7a);_0x3bf0b8[_0x40acdb(0x2b9)](_0x3bf0b8[_0x40acdb(0x209)]()+_0xb1588f);const _0x5e8338=getLocalDateStr(_0x3bf0b8);let _0x179887=_0x3bf0b8[_0x40acdb(0x2f9)]()-0x1;if(_0x179887===-0x1)_0x179887=0x6;const _0x5b795e=_0x5e8338===_0x2d8c20,_0x1a4552=document[_0x40acdb(0x25c)](_0x40acdb(0x227));_0x1a4552[_0x40acdb(0x216)]='day-col-header\x20'+(_0x5b795e?_0x40acdb(0x284):''),_0x1a4552['id']=_0x40acdb(0x2c4)+_0x5e8338,_0x1a4552['setAttribute'](_0x40acdb(0x29a),_0x5e8338),_0x1a4552[_0x40acdb(0x30f)]=_0x40acdb(0x29d)+_0x20a3e3[_0x179887]+_0x40acdb(0x31f)+_0x3bf0b8[_0x40acdb(0x209)]()+_0x40acdb(0x288)+_0x5e8338+_0x40acdb(0x1ed),_0x1a4552[_0x40acdb(0x200)]=()=>openDayOptions(_0x5e8338,_0x20a3e3[_0x179887]+'\x20'+_0x3bf0b8[_0x40acdb(0x209)]()),_0x122934[_0x40acdb(0x22f)](_0x1a4552);const _0x391ad4=document['createElement'](_0x40acdb(0x227));_0x391ad4[_0x40acdb(0x216)]='day-column\x20'+(_0x5b795e?_0x40acdb(0x284):''),_0x391ad4[_0x40acdb(0x2dd)](_0x40acdb(0x29a),_0x5e8338),_0x391ad4[_0x40acdb(0x2dd)](_0x40acdb(0x228),_0x179887),renderEventsForColumn(_0x391ad4,_0x5e8338,_0x179887),attachLongPressHandler(_0x391ad4,_0x3bf0b8),_0x2f17de[_0x40acdb(0x22f)](_0x391ad4),updateDayStats(_0x5e8338);}_0x1759a8['insertBefore'](_0x122934,_0x1759a8[_0x40acdb(0x31d)]),_0x8b416[_0x40acdb(0x30d)](_0x2f17de,_0x8b416[_0x40acdb(0x1f2)](_0x40acdb(0x2c1)));}function validateAppointment(_0x354af6,_0x131855,_0x40fd21,_0x5c203f,_0x128d12){const _0x4372c0=a2_0x28a2ee,[_0x46a18f,_0x489de8]=_0x131855[_0x4372c0(0x2fa)](':')[_0x4372c0(0x2da)](Number),[_0x3c85e3,_0x4efdb0]=_0x40fd21[_0x4372c0(0x2fa)](':')['map'](Number),_0x1ef22d=_0x46a18f*0x3c+_0x489de8,_0x483d16=_0x3c85e3*0x3c+_0x4efdb0,_0x47424e=String(_0x128d12);let _0xc2a4fb=![],_0x499767='';for(let _0x22c2ce of sessions){if(_0x22c2ce['dateStr']!==_0x354af6)continue;if(_0x22c2ce[_0x4372c0(0x2d1)]===_0x4372c0(0x268))continue;if(_0x5c203f&&String(_0x22c2ce['id'])===String(_0x5c203f))continue;const [_0x53518d,_0x238c27]=_0x22c2ce['start'][_0x4372c0(0x2fa)](':')[_0x4372c0(0x2da)](Number),[_0x2618e4,_0x410c58]=_0x22c2ce[_0x4372c0(0x2ac)][_0x4372c0(0x2fa)](':')['map'](Number),_0x46b936=_0x53518d*0x3c+_0x238c27,_0x4941d2=_0x2618e4*0x3c+_0x410c58;if(Math['max'](_0x1ef22d,_0x46b936)<Math[_0x4372c0(0x2bb)](_0x483d16,_0x4941d2)){if(_0x22c2ce[_0x4372c0(0x25e)]&&String(_0x22c2ce[_0x4372c0(0x25e)])===_0x47424e)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0x22c2ce[_0x4372c0(0x1e2)]+_0x4372c0(0x285)};_0xc2a4fb=!![],_0x499767=_0x22c2ce[_0x4372c0(0x1e2)];}}if(_0xc2a4fb)return{'valid':!![],'warning':_0x4372c0(0x2de)+_0x499767};return{'valid':!![]};}function a2_0x22fe(){const _0x20d9f9=['\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','open','value','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','\x20–∏–∑\x20','today',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','rgba(','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','getTime','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','.event-card',']\x20Failed:','getHours','8XFGXnr','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','numeric','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','btnStatusToggle','gridColumns','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','ru-RU','settingsSheet','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','data-date','router.html','push','<div\x20class=\x22dch-day\x22>','inpEnd','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','from','dateStr','note','series','show','inpStart','</div>','textContent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','6gRfVAI','toLocaleDateString','end','range-item','random','#0a84ff','dayOptionsSheet','anEnd','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','headerMonth','completed','planned','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','update','inpDate','setDate','btn-status-toggle','min','now','T00:00:00','warning','strokeDashoffset','toast-notification\x20','.day-column','substr','log','header-','#050505','valid','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','width',':00</span>','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','add','event-card','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','loadLocal','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','disableVerticalSwipes','status','text','scrollWidth','inpNote','rgba(48,\x20209,\x2088,\x200.15)','stat-','sid','all','Critical\x20TMA\x20Error:','map','100%','backgroundPosition','setAttribute','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','closest','initDataUnsafe','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','patternEditor','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','complete','recurringOptionContainer','calendar','calc(','<div\x20class=\x22ev-title\x22>','long','peGrid','max','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','uc_settings_cancel_window','scrollLeft','zIndex','name','Error\x20setting\x20back\x20button:','\x20‚Äî\x20','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','json','[Notify]\x20Detected\x20Client\x20ID:','getDay','split','4790748ARvFrE','round','href','timeLineBadge','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','doLoadPercent','.pib-text','overlay','month','Local\x20Load\x20Error','setHours','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','–ò–Ω—Ñ–æ','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','.sheet','var(--acc-orange)','(((.+)+)+)+$','insertBefore','v9.0-BATCH-CALENDAR','innerHTML','entries','seriesCountContainer','.period-switch\x20.p-btn','blocked-slot\x20stripe-bg','startsWith','client-stat-card','touchend','day-col-header\x20','daysHeaderTrack','toUpperCase','getBoundingClientRect','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','de-item','firstChild','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','</div><div\x20class=\x22dch-num\x22>','actionSheet','height','doBusyHours','findIndex','option','anTotalStats','createDocumentFragment','target','total',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','DOMContentLoaded','remove','Server\x20Error','getFullYear','[Series]\x20Skipped\x20','forEach','rangeStartDate','querySelectorAll','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','[Notify]\x20Error:\x20sessionData\x20is\x20null','cancel','ranges','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','parse','%\x20+\x202px)','start','mousemove','486574pJoCPi','15hLqLrc','var(--acc-red)','batch_sync','scrollTop','setItem','isArray','touchmove','location','pe-cell\x20','sheetTitle','mergeServerData','filter','[Notify]\x20Client\x20SWAP\x20detected','save','2273866APkBfv','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','addEventListener','timeColumn','getMinutes','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','POST','doEventsList','expand','#fff','207812CNpTvB','as-button\x20danger\x20bold','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','getItem','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','<b>‚úÖ\x20','data','offClick','catch','\x20status-completed','getElementById','rgba(255,\x20159,\x2010,\x200.3)',':00','10px','sheetDateSubtitle','background','.dch-stats-fill','client','save_settings','rangeEndTime','charAt','#gridColumns\x20.day-column','Save\x20settings\x20error:','sessionSheet','color','rangeStartTime','pattern','Local\x20Save\x20Error','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','rgba(255,255,255,0.05)','rangesList','delete','ready','querySelector','onClick','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','stringify','dayOptionsTitle','constructor','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','indexOf','fetchFromServer','undefined','pe-time-label','84140SFJrNc','apply','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','onclick','borderColor','1213655wWSYxJ','uc_clients_v9','00:00','btn-status-toggle\x20undo-mode','done','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','mouseup','getDate','btn-primary\x20btn-secondary','mousedown','asBtnSeries','%\x20-\x204px)','day-off-overlay\x20stripe-bg','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','checked','toast','splice','flex','rangesSheet','settingCancelWindow','className','saveLocally','slice','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','single','classList','init_load','style','keys','borderRadius','vibrate','top','backgroundColor','patternInfoBox','borderLeftColor','anDonutCircle','rangeEndDate','div','data-day-idx','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','.day-col-header','globalTimeLine','padStart','px\x200px','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','appendChild','create','touchstart','px\x20-','find','inpRecurring','270ZnkjrR','send','seriesId','toFixed','2TrztEQ','includes','custom','block','btnDayToggle','anStart','toLocaleString','\x20days','syncBatch','active','doWorkHours','anPercent','floor','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','getMonth','error','off','time-label','matrixViewport','[Notify]\x20Server\x20Response:','pe-col-header','267809FzzNsY','–£–¥–∞–ª–µ–Ω–∏–µ','–£—Å–ø–µ—à–Ω–æ','[Notify]\x20Error:\x20Text\x20generation\x20failed','getText','then','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','inpSeriesCount',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','settings','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','blocked-range-part\x20stripe-bg','rgba(255,\x2069,\x2058,\x200.3)','length','createElement','<span>','clientId','\x20-\x20','sort','user','inpClient','localeCompare','scroll','exceptions','clients','none','cancelled','WebApp','actionSheetOverlay','search','clientY','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','getAttribute','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','colIndex','clientWidth','Telegram','toString',':\x20Client\x20already\x20booked','week','display','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','rgba(255,\x2069,\x2058,\x200.15)','cancel_window','offsetLeft','BackButton','btnDelete','statLoadCard'];a2_0x22fe=function(){return _0x20d9f9;};return a2_0x22fe();}function updateDateDisplay(){const _0x114263=a2_0x28a2ee,_0x216ce6=document[_0x114263(0x1db)](_0x114263(0x2b8))[_0x114263(0x281)],_0x1189e8=document['getElementById'](_0x114263(0x1df));if(!_0x216ce6){_0x1189e8['textContent']='';return;}const [_0xc588e7,_0xa154b4,_0x13f972]=_0x216ce6[_0x114263(0x2fa)]('-')[_0x114263(0x2da)](Number),_0x3ab0ce=new Date(_0xc588e7,_0xa154b4-0x1,_0x13f972),_0x4acb92={'weekday':_0x114263(0x2eb),'day':_0x114263(0x291),'month':_0x114263(0x2eb),'year':_0x114263(0x291)};let _0x31ceeb=_0x3ab0ce['toLocaleDateString']('ru-RU',_0x4acb92);_0x31ceeb=_0x31ceeb[_0x114263(0x1e5)](0x0)[_0x114263(0x319)]()+_0x31ceeb[_0x114263(0x218)](0x1),_0x1189e8[_0x114263(0x2a7)]=_0x31ceeb;}function autoSetEndTime(){const _0x3589ca=a2_0x28a2ee,_0x251a50=document[_0x3589ca(0x1db)](_0x3589ca(0x2a5))[_0x3589ca(0x281)];if(!_0x251a50)return;const [_0x7b85b1,_0x33e4d8]=_0x251a50[_0x3589ca(0x2fa)](':')[_0x3589ca(0x2da)](Number);let _0x399645=_0x7b85b1+0x1;if(_0x399645>0x17)_0x399645=0x0;const _0x24ea6e=String(_0x399645)[_0x3589ca(0x22c)](0x2,'0')+':'+String(_0x33e4d8)['padStart'](0x2,'0');document[_0x3589ca(0x1db)](_0x3589ca(0x29e))[_0x3589ca(0x281)]=_0x24ea6e;}function populateClientSelect(){const _0x5b9e55=a2_0x28a2ee,_0x2ea532=document[_0x5b9e55(0x1db)](_0x5b9e55(0x262));_0x2ea532[_0x5b9e55(0x30f)]='';if(clients[_0x5b9e55(0x25b)]===0x0){const _0x4c0189=document[_0x5b9e55(0x25c)](_0x5b9e55(0x324));_0x4c0189[_0x5b9e55(0x2d2)]='–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤',_0x2ea532['appendChild'](_0x4c0189);return;}clients[_0x5b9e55(0x32f)](_0x343d35=>{const _0x11d41e=_0x5b9e55,_0x5769e0=document['createElement'](_0x11d41e(0x324));_0x5769e0[_0x11d41e(0x281)]=_0x343d35[_0x11d41e(0x2f3)],_0x5769e0[_0x11d41e(0x2a7)]=_0x343d35['name'],_0x2ea532[_0x11d41e(0x22f)](_0x5769e0);});}function openActionSheet(_0x590025){const _0xf8061f=a2_0x28a2ee,_0x58898d=document['getElementById']('actionSheet'),_0x48928e=document[_0xf8061f(0x1db)](_0xf8061f(0x26a)),_0x3882c8=document['getElementById']('asTitle'),_0x5a718e=document[_0xf8061f(0x1db)]('asBtnOne'),_0x2685a1=document[_0xf8061f(0x1db)](_0xf8061f(0x20c));_0x48928e[_0xf8061f(0x21b)][_0xf8061f(0x2cb)]('active'),_0x58898d['classList']['add'](_0xf8061f(0x280));if(_0x590025===_0xf8061f(0x34b))_0x3882c8[_0xf8061f(0x2a7)]=_0xf8061f(0x1ff),_0x5a718e['textContent']='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x5a718e[_0xf8061f(0x200)]=()=>{const _0x401705=_0xf8061f;closeActionSheet(),updateSeriesBatch(_0x401705(0x21a),tempSessionData);},_0x2685a1[_0xf8061f(0x2a7)]=_0xf8061f(0x1f8),_0x2685a1['onclick']=()=>{const _0x387058=_0xf8061f;closeActionSheet(),updateSeriesBatch(_0x387058(0x2a3),tempSessionData);};else _0x590025===_0xf8061f(0x1f0)&&(_0x3882c8['textContent']=_0xf8061f(0x24f),_0x5a718e['textContent']=_0xf8061f(0x2e5),_0x5a718e['className']='as-button\x20danger',_0x5a718e[_0xf8061f(0x200)]=()=>{closeActionSheet(),commitDelete('single',sessions['find'](_0x59d962=>_0x59d962['id']===editingId));},_0x2685a1[_0xf8061f(0x2a7)]=_0xf8061f(0x1f8),_0x2685a1['className']=_0xf8061f(0x357),_0x2685a1[_0xf8061f(0x200)]=()=>{const _0x344aff=_0xf8061f;closeActionSheet(),commitDelete(_0x344aff(0x2a3),sessions[_0x344aff(0x233)](_0x17db13=>_0x17db13['id']===editingId));});}function closeActionSheet(){const _0x2c43ef=a2_0x28a2ee;document['getElementById'](_0x2c43ef(0x320))[_0x2c43ef(0x21b)][_0x2c43ef(0x32b)]('open'),document[_0x2c43ef(0x1db)](_0x2c43ef(0x26a))[_0x2c43ef(0x21b)]['remove']('active');}function openSettings(){const _0x1b4dd9=a2_0x28a2ee;openSheet(_0x1b4dd9(0x298));}function saveCoachSettings(){const _0xf28abf=a2_0x28a2ee,_0x3ba4fa=document['getElementById'](_0xf28abf(0x215))['value'];localStorage['setItem'](_0xf28abf(0x2f0),_0x3ba4fa),console[_0xf28abf(0x2c3)]('[Settings]\x20Cancel\x20window\x20set\x20to:',_0x3ba4fa),DataManager['fetchFromServer'](_0xf28abf(0x1e3),{'settings':{'cancel_window':_0x3ba4fa}})[_0xf28abf(0x1d9)](_0x49601f=>{const _0x29915d=_0xf28abf;console[_0x29915d(0x248)](_0x29915d(0x1e7),_0x49601f),showToast(_0x29915d(0x22e),![]);});}function loadCoachSettings(){const _0x1ffa52=a2_0x28a2ee,_0x414b70=localStorage[_0x1ffa52(0x359)](_0x1ffa52(0x2f0));_0x414b70&&(document['getElementById'](_0x1ffa52(0x215))[_0x1ffa52(0x281)]=_0x414b70);}function openRangesSheet(){const _0x2de46e=a2_0x28a2ee;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x2de46e(0x214));}function addRange(){const _0x2a593e=a2_0x28a2ee,_0x51fcd9=document[_0x2a593e(0x1db)](_0x2a593e(0x330))[_0x2a593e(0x281)],_0x87d20b=document['getElementById'](_0x2a593e(0x1ea))['value'],_0x351913=document[_0x2a593e(0x1db)](_0x2a593e(0x226))[_0x2a593e(0x281)],_0x444863=document['getElementById'](_0x2a593e(0x1e4))['value'];if(!_0x51fcd9||!_0x87d20b||!_0x351913||!_0x444863)return alert(_0x2a593e(0x2c7));const _0x1e3d24=_0x51fcd9+'T'+_0x87d20b,_0x45cc1e=_0x351913+'T'+_0x444863;if(_0x1e3d24>=_0x45cc1e)return alert('–û—à–∏–±–∫–∞\x20–¥–∞—Ç');specialRanges[_0x2a593e(0x29c)]({'start':_0x1e3d24,'end':_0x45cc1e}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager['fetchFromServer'](_0x2a593e(0x1e3),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x4900e7){const _0x36ef70=a2_0x28a2ee;specialRanges[_0x36ef70(0x212)](_0x4900e7,0x1),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x36ef70(0x1fa)](_0x36ef70(0x1e3),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0xe6d1f6=a2_0x28a2ee;document[_0xe6d1f6(0x1db)](_0xe6d1f6(0x330))[_0xe6d1f6(0x281)]='',document[_0xe6d1f6(0x1db)](_0xe6d1f6(0x1ea))['value']=_0xe6d1f6(0x204),document['getElementById']('rangeEndDate')[_0xe6d1f6(0x281)]='',document[_0xe6d1f6(0x1db)](_0xe6d1f6(0x1e4))['value']='23:59';}function renderRangesList(){const _0x575ef7=a2_0x28a2ee,_0x3e6821=document[_0x575ef7(0x1db)](_0x575ef7(0x1ef));_0x3e6821[_0x575ef7(0x30f)]='';if(!specialRanges[_0x575ef7(0x25b)]){_0x3e6821[_0x575ef7(0x30f)]=_0x575ef7(0x258);return;}specialRanges[_0x575ef7(0x32f)]((_0x271426,_0x2734ee)=>{const _0x54d44d=_0x575ef7,_0x5b47ca=document['createElement'](_0x54d44d(0x227));_0x5b47ca['className']=_0x54d44d(0x2ad);const _0x480e6e=_0x1392bb=>{const _0x2d850c=_0x54d44d,_0x28e81c=new Date(_0x1392bb);return _0x28e81c['getDate']()+'.'+String(_0x28e81c[_0x2d850c(0x247)]()+0x1)[_0x2d850c(0x22c)](0x2,'0')+'\x20'+String(_0x28e81c[_0x2d850c(0x28d)]())[_0x2d850c(0x22c)](0x2,'0')+':'+String(_0x28e81c[_0x2d850c(0x350)]())['padStart'](0x2,'0');};_0x5b47ca['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>'+_0x480e6e(_0x271426[_0x54d44d(0x33b)])+'\x20‚Äî\x20'+_0x480e6e(_0x271426[_0x54d44d(0x2ac)])+_0x54d44d(0x290)+_0x2734ee+_0x54d44d(0x329),_0x3e6821['appendChild'](_0x5b47ca);});}function scrollToToday(){const _0x5a15ff=a2_0x28a2ee,_0x2c6f3a=getLocalDateStr(new Date()),_0x3cfc4b=document[_0x5a15ff(0x1db)]('header-'+_0x2c6f3a),_0x26e00f=document[_0x5a15ff(0x1db)]('matrixViewport');if(_0x3cfc4b&&_0x26e00f){const _0x56c641=_0x26e00f[_0x5a15ff(0x272)],_0xa1eca2=_0x3cfc4b['offsetLeft'],_0xda3631=_0x3cfc4b['offsetWidth'];_0x26e00f[_0x5a15ff(0x2f1)]=_0xa1eca2-_0x56c641/0x2+_0xda3631/0x2,_0x26e00f[_0x5a15ff(0x341)]=0x9*GRID_H;}}function onScroll(){const _0xcdc31=a2_0x28a2ee,_0x2b6035=document['getElementById'](_0xcdc31(0x24b)),_0xc31ac2=document[_0xcdc31(0x331)](_0xcdc31(0x22a));for(let _0x1625ce of _0xc31ac2)if(_0x1625ce[_0xcdc31(0x27b)]>=_0x2b6035[_0xcdc31(0x2f1)]){const _0x531cf6=new Date(_0x1625ce['getAttribute'](_0xcdc31(0x29a)));document[_0xcdc31(0x1db)](_0xcdc31(0x2b3))['textContent']=_0x531cf6[_0xcdc31(0x23f)]('ru',{'month':_0xcdc31(0x2eb)})[_0xcdc31(0x319)]()+'\x20'+_0x531cf6[_0xcdc31(0x32d)]();break;}}function showToast(_0x44eb07,_0x516626=![]){const _0x3e8a75=a2_0x28a2ee,_0x48271c=document[_0x3e8a75(0x1db)](_0x3e8a75(0x211));_0x48271c[_0x3e8a75(0x216)]=_0x3e8a75(0x2c0)+(_0x516626?'success':''),document['getElementById']('toastTitle')[_0x3e8a75(0x2a7)]=_0x516626?_0x3e8a75(0x250):_0x3e8a75(0x307),document[_0x3e8a75(0x1db)]('toastMessage')['textContent']=_0x44eb07,_0x48271c[_0x3e8a75(0x21b)][_0x3e8a75(0x2cb)](_0x3e8a75(0x2a4)),setTimeout(()=>{const _0x1ecead=_0x3e8a75;_0x48271c['classList'][_0x1ecead(0x32b)](_0x1ecead(0x2a4));},0xbb8);}function openDayOptions(_0x576787,_0x1b7c98){const _0xb6d0e7=a2_0x28a2ee;selectedDayForOptions=_0x576787,document[_0xb6d0e7(0x1db)](_0xb6d0e7(0x1f6))[_0xb6d0e7(0x2a7)]=_0x1b7c98,openSheet(_0xb6d0e7(0x2b0));}function toggleDayOff(){const _0x4c3b5b=a2_0x28a2ee;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x4c3b5b(0x249),reRenderBlocks(),closeAllSheets(),DataManager[_0x4c3b5b(0x217)](),DataManager['fetchFromServer'](_0x4c3b5b(0x1e3),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x3b9382=a2_0x28a2ee;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager[_0x3b9382(0x1fa)]('save_settings',{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x5acdd7){const _0x5eacd7=a2_0x28a2ee;document[_0x5eacd7(0x1db)](_0x5eacd7(0x302))[_0x5eacd7(0x21b)]['add'](_0x5eacd7(0x242)),document[_0x5eacd7(0x1db)](_0x5acdd7)['classList']['add'](_0x5eacd7(0x280));}function closeAllSheets(){const _0x22fa99=a2_0x28a2ee;document['getElementById'](_0x22fa99(0x302))[_0x22fa99(0x21b)][_0x22fa99(0x32b)](_0x22fa99(0x242)),document[_0x22fa99(0x331)](_0x22fa99(0x30a))[_0x22fa99(0x32f)](_0x573e2c=>_0x573e2c['classList'][_0x22fa99(0x32b)](_0x22fa99(0x280)));}function openPatternEditor(){const _0x11170c=a2_0x28a2ee;closeAllSheets(),document[_0x11170c(0x1db)](_0x11170c(0x2e4))[_0x11170c(0x21b)]['add'](_0x11170c(0x280)),renderPatternEditor();}function closePatternEditor(){const _0x3e88cf=a2_0x28a2ee;document[_0x3e88cf(0x1db)](_0x3e88cf(0x2e4))[_0x3e88cf(0x21b)][_0x3e88cf(0x32b)]('open');}function savePattern(){const _0x1e6c0e=a2_0x28a2ee;document[_0x1e6c0e(0x1db)](_0x1e6c0e(0x2e4))[_0x1e6c0e(0x21b)][_0x1e6c0e(0x32b)](_0x1e6c0e(0x280)),reRenderBlocks(),DataManager[_0x1e6c0e(0x217)](),DataManager[_0x1e6c0e(0x1fa)](_0x1e6c0e(0x1e3),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0xbe82bc=a2_0x28a2ee,_0x5805fd=document['getElementById'](_0xbe82bc(0x2ec));_0x5805fd['innerHTML']='';const _0x433e67=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x8b86a=document['createElement'](_0xbe82bc(0x227));_0x8b86a[_0xbe82bc(0x216)]='pe-corner',_0x5805fd[_0xbe82bc(0x22f)](_0x8b86a),_0x433e67[_0xbe82bc(0x32f)]((_0x236f39,_0x52c82e)=>{const _0x27d5dd=_0xbe82bc,_0x4ec3ce=document[_0x27d5dd(0x25c)](_0x27d5dd(0x227));_0x4ec3ce[_0x27d5dd(0x216)]=_0x27d5dd(0x24d),_0x4ec3ce[_0x27d5dd(0x30f)]=_0x236f39+_0x27d5dd(0x2a9),_0x4ec3ce[_0x27d5dd(0x200)]=()=>toggleColPattern(_0x52c82e),_0x5805fd[_0x27d5dd(0x22f)](_0x4ec3ce);});for(let _0x3749bc=0x0;_0x3749bc<0x18;_0x3749bc++){const _0x12b6ea=document[_0xbe82bc(0x25c)](_0xbe82bc(0x227));_0x12b6ea[_0xbe82bc(0x216)]=_0xbe82bc(0x1fc),_0x12b6ea[_0xbe82bc(0x30f)]=_0xbe82bc(0x338)+String(_0x3749bc)[_0xbe82bc(0x22c)](0x2,'0')+_0xbe82bc(0x1dd),_0x12b6ea[_0xbe82bc(0x200)]=()=>toggleRowPattern(_0x3749bc),_0x5805fd[_0xbe82bc(0x22f)](_0x12b6ea);for(let _0x4f86c6=0x0;_0x4f86c6<0x7;_0x4f86c6++){const _0x6461e0=document['createElement']('div'),_0x689521=(availabilityPattern[_0x4f86c6]||[])[_0xbe82bc(0x23a)](_0x3749bc),_0x16bc7b=!_0x689521;_0x6461e0[_0xbe82bc(0x216)]=_0xbe82bc(0x346)+(_0x16bc7b?_0xbe82bc(0x242):''),_0x6461e0[_0xbe82bc(0x200)]=()=>toggleSinglePattern(_0x4f86c6,_0x3749bc),_0x5805fd['appendChild'](_0x6461e0);}}}function toggleSinglePattern(_0x446df3,_0x4b76d6){const _0x575beb=a2_0x28a2ee;if(!availabilityPattern[_0x446df3])availabilityPattern[_0x446df3]=[];const _0x107341=availabilityPattern[_0x446df3],_0x14d516=_0x107341[_0x575beb(0x1f9)](_0x4b76d6);_0x14d516===-0x1?_0x107341[_0x575beb(0x29c)](_0x4b76d6):_0x107341[_0x575beb(0x212)](_0x14d516,0x1),renderPatternEditor();}function toggleColPattern(_0x54169b){const _0x487b98=a2_0x28a2ee;if(!availabilityPattern[_0x54169b])availabilityPattern[_0x54169b]=[];const _0x29e520=availabilityPattern[_0x54169b];_0x29e520[_0x487b98(0x25b)]===0x0?availabilityPattern[_0x54169b]=Array[_0x487b98(0x2a0)]({'length':0x18},(_0x35f305,_0x904d)=>_0x904d):availabilityPattern[_0x54169b]=[],renderPatternEditor();}function toggleRowPattern(_0x5d5310){const _0x1386c0=a2_0x28a2ee;let _0x290c87=!![];for(let _0x1c4bd1=0x0;_0x1c4bd1<0x7;_0x1c4bd1++){if((availabilityPattern[_0x1c4bd1]||[])[_0x1386c0(0x23a)](_0x5d5310)){_0x290c87=![];break;}}for(let _0x650b8f=0x0;_0x650b8f<0x7;_0x650b8f++){if(!availabilityPattern[_0x650b8f])availabilityPattern[_0x650b8f]=[];const _0x2c54ca=availabilityPattern[_0x650b8f][_0x1386c0(0x1f9)](_0x5d5310);if(_0x290c87){if(_0x2c54ca===-0x1)availabilityPattern[_0x650b8f]['push'](_0x5d5310);}else{if(_0x2c54ca!==-0x1)availabilityPattern[_0x650b8f][_0x1386c0(0x212)](_0x2c54ca,0x1);}}renderPatternEditor();}function renderPCol(_0x3f6cb3,_0x1a7063){const _0x36fbd1=a2_0x28a2ee;_0x3f6cb3['innerHTML']='';const _0x44b3f3=Math[_0x36fbd1(0x2fc)](_0x3f6cb3[_0x36fbd1(0x27b)]);(availabilityPattern[_0x1a7063]||[])[_0x36fbd1(0x32f)](_0x52d8aa=>{const _0x35b482=_0x36fbd1,_0x273731=document['createElement']('div');_0x273731[_0x35b482(0x216)]=_0x35b482(0x313);const _0x3c97d6=_0x52d8aa*GRID_H;_0x273731[_0x35b482(0x21d)][_0x35b482(0x221)]=_0x3c97d6+'px',_0x273731[_0x35b482(0x21d)][_0x35b482(0x2dc)]='-'+_0x44b3f3+_0x35b482(0x232)+_0x3c97d6+'px',_0x273731['onclick']=_0x54703f=>{_0x54703f['stopPropagation'](),toggleSinglePattern(_0x1a7063,_0x52d8aa);},_0x3f6cb3['appendChild'](_0x273731);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x48b371=a2_0x28a2ee,_0x2d7ac2=new Date(),_0x57e637=document['getElementById'](_0x48b371(0x22b)),_0x4e1e0f=document[_0x48b371(0x1db)](_0x48b371(0x2fe)),_0x5f2390=(_0x2d7ac2[_0x48b371(0x28d)]()*0x3c+_0x2d7ac2[_0x48b371(0x350)]())/0x3c*GRID_H;_0x57e637['style'][_0x48b371(0x221)]=_0x5f2390+'px',_0x57e637[_0x48b371(0x21d)][_0x48b371(0x277)]=_0x48b371(0x23c),_0x4e1e0f[_0x48b371(0x2a7)]=String(_0x2d7ac2['getHours']())[_0x48b371(0x22c)](0x2,'0')+':'+String(_0x2d7ac2[_0x48b371(0x350)]())['padStart'](0x2,'0'),_0x4e1e0f[_0x48b371(0x21d)][_0x48b371(0x277)]=_0x48b371(0x23c),_0x4e1e0f['style'][_0x48b371(0x221)]=_0x5f2390+'px';}document['addEventListener'](a2_0x28a2ee(0x32a),init);function openDayOptions(_0x171e85){const _0x13c673=a2_0x28a2ee;selectedDayForOptions=_0x171e85;const _0x6a7313=new Date(_0x171e85),_0x1ee228={'weekday':_0x13c673(0x2eb),'day':_0x13c673(0x291),'month':_0x13c673(0x2eb),'year':_0x13c673(0x291)},_0x355e1e=_0x6a7313[_0x13c673(0x2ab)](_0x13c673(0x297),_0x1ee228);document[_0x13c673(0x1db)]('doDateHeader')[_0x13c673(0x2a7)]=_0x355e1e[_0x13c673(0x1e5)](0x0)['toUpperCase']()+_0x355e1e['slice'](0x1);let _0x3c045d=_0x6a7313['getDay']()-0x1;if(_0x3c045d===-0x1)_0x3c045d=0x6;const _0x3a82df=availabilityPattern[_0x3c045d]||[],_0x154fb9=0x18-_0x3a82df[_0x13c673(0x25b)],_0x295eff=_0x154fb9*0x3c,_0x4d5fee=sessions[_0x13c673(0x349)](_0x573e0f=>_0x573e0f[_0x13c673(0x2a1)]===_0x171e85&&_0x573e0f[_0x13c673(0x2d1)]!==_0x13c673(0x268));let _0x49fe21=_0x4d5fee[_0x13c673(0x2da)](_0x395e76=>{const _0x3ff2cb=_0x13c673,[_0x2365fe,_0x44f2c9]=_0x395e76[_0x3ff2cb(0x33b)][_0x3ff2cb(0x2fa)](':')[_0x3ff2cb(0x2da)](Number),[_0x665e6d,_0x1269b1]=_0x395e76[_0x3ff2cb(0x2ac)][_0x3ff2cb(0x2fa)](':')[_0x3ff2cb(0x2da)](Number);return[_0x2365fe*0x3c+_0x44f2c9,_0x665e6d*0x3c+_0x1269b1];});_0x49fe21[_0x13c673(0x260)]((_0x47ce50,_0xcd1f8c)=>_0x47ce50[0x0]-_0xcd1f8c[0x0]);let _0x110664=[];if(_0x49fe21[_0x13c673(0x25b)]>0x0){let _0x2e6392=_0x49fe21[0x0];for(let _0x37a244=0x1;_0x37a244<_0x49fe21[_0x13c673(0x25b)];_0x37a244++){_0x49fe21[_0x37a244][0x0]<_0x2e6392[0x1]?_0x2e6392[0x1]=Math['max'](_0x2e6392[0x1],_0x49fe21[_0x37a244][0x1]):(_0x110664['push'](_0x2e6392),_0x2e6392=_0x49fe21[_0x37a244]);}_0x110664[_0x13c673(0x29c)](_0x2e6392);}let _0x74b300=0x0;_0x110664[_0x13c673(0x32f)](_0x29bfac=>_0x74b300+=_0x29bfac[0x1]-_0x29bfac[0x0]),document[_0x13c673(0x1db)](_0x13c673(0x243))[_0x13c673(0x2a7)]=formatMinsToHrs(_0x295eff),document[_0x13c673(0x1db)](_0x13c673(0x322))[_0x13c673(0x2a7)]=formatMinsToHrs(_0x74b300);const _0x449ad2=_0x295eff>0x0?Math[_0x13c673(0x2fc)](_0x74b300/_0x295eff*0x64):0x0,_0x5e6211=document['getElementById'](_0x13c673(0x300));_0x5e6211[_0x13c673(0x2a7)]=_0x449ad2+'%';const _0x253f30=document['getElementById'](_0x13c673(0x27e));if(_0x449ad2>0x64)_0x5e6211['style'][_0x13c673(0x1e9)]=_0x13c673(0x33f),_0x253f30[_0x13c673(0x21d)][_0x13c673(0x201)]=_0x13c673(0x25a);else _0x449ad2>0x50?(_0x5e6211[_0x13c673(0x21d)][_0x13c673(0x1e9)]=_0x13c673(0x30b),_0x253f30['style'][_0x13c673(0x201)]=_0x13c673(0x1dc)):(_0x5e6211[_0x13c673(0x21d)][_0x13c673(0x1e9)]='var(--acc-green)',_0x253f30[_0x13c673(0x21d)][_0x13c673(0x201)]=_0x13c673(0x1ee));const _0x34b088=document[_0x13c673(0x1db)](_0x13c673(0x353));_0x34b088[_0x13c673(0x30f)]='';_0x4d5fee[_0x13c673(0x25b)]===0x0?_0x34b088['innerHTML']=_0x13c673(0x246):(_0x4d5fee[_0x13c673(0x260)]((_0x254f56,_0x55d332)=>_0x254f56[_0x13c673(0x33b)][_0x13c673(0x263)](_0x55d332[_0x13c673(0x33b)])),_0x4d5fee[_0x13c673(0x32f)](_0x141672=>{const _0x4bfedb=_0x13c673,_0x4a345a=clients[_0x4bfedb(0x233)](_0x102d4f=>_0x102d4f['name']===_0x141672[_0x4bfedb(0x1e2)]),_0x4a7722=_0x4a345a?_0x4a345a[_0x4bfedb(0x1e9)]:_0x4bfedb(0x355),_0xf626d0=_0x141672['status']===_0x4bfedb(0x2b4),_0x187957=_0xf626d0?_0x4bfedb(0x2b2):'',_0x3ab6f0=document[_0x4bfedb(0x25c)](_0x4bfedb(0x227));_0x3ab6f0[_0x4bfedb(0x216)]=_0x4bfedb(0x31c),_0x3ab6f0[_0x4bfedb(0x21d)]['borderLeftColor']=_0x4a7722,_0x3ab6f0['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>'+_0x141672[_0x4bfedb(0x33b)]+_0x4bfedb(0x25f)+_0x141672[_0x4bfedb(0x2ac)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x141672['client']+_0x4bfedb(0x306)+_0x187957+_0x4bfedb(0x270),_0x34b088[_0x4bfedb(0x22f)](_0x3ab6f0);}));const _0x41d37b=document['getElementById'](_0x13c673(0x23d)),_0x3cf4ca=dateExceptions[_0x171e85]===_0x13c673(0x249);_0x3cf4ca?(_0x41d37b[_0x13c673(0x2a7)]='–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º',_0x41d37b['className']=_0x13c673(0x20a),_0x41d37b['style'][_0x13c673(0x1e9)]='var(--acc-green)',_0x41d37b[_0x13c673(0x21d)]['background']=_0x13c673(0x2d5)):(_0x41d37b[_0x13c673(0x2a7)]=_0x13c673(0x2b6),_0x41d37b[_0x13c673(0x216)]='btn-primary\x20btn-danger',_0x41d37b[_0x13c673(0x21d)][_0x13c673(0x1e9)]='var(--acc-red)',_0x41d37b[_0x13c673(0x21d)][_0x13c673(0x1e0)]=_0x13c673(0x279)),openSheet('dayOptionsSheet');}let currentAnPeriod=a2_0x28a2ee(0x276);function openAnalytics(){const _0x3538e4=a2_0x28a2ee,_0x522236=document[_0x3538e4(0x1f2)](_0x3538e4(0x312));setAnalyticsPeriod('week',_0x522236),closeAllSheets(),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x2ec6bf,_0x374919){const _0x7f2210=a2_0x28a2ee;currentAnPeriod=_0x2ec6bf,document[_0x7f2210(0x331)](_0x7f2210(0x312))[_0x7f2210(0x32f)](_0xcd531c=>_0xcd531c[_0x7f2210(0x21b)][_0x7f2210(0x32b)]('active'));if(_0x374919)_0x374919[_0x7f2210(0x21b)]['add'](_0x7f2210(0x242));const _0x46d089=document[_0x7f2210(0x1db)]('anCustomDates');_0x46d089[_0x7f2210(0x21d)][_0x7f2210(0x277)]=_0x2ec6bf===_0x7f2210(0x23b)?_0x7f2210(0x213):'none';const _0x1b9119=new Date();let _0x51c07e=new Date(),_0x294d02=new Date();if(_0x2ec6bf===_0x7f2210(0x276))_0x51c07e=getStartOfWeek(_0x1b9119),_0x294d02=new Date(_0x51c07e),_0x294d02[_0x7f2210(0x2b9)](_0x294d02[_0x7f2210(0x209)]()+0x6);else{if(_0x2ec6bf===_0x7f2210(0x303))_0x51c07e=new Date(_0x1b9119['getFullYear'](),_0x1b9119[_0x7f2210(0x247)](),0x1),_0x294d02=new Date(_0x1b9119['getFullYear'](),_0x1b9119[_0x7f2210(0x247)]()+0x1,0x0);else{!document['getElementById'](_0x7f2210(0x23e))['value']&&(document['getElementById']('anStart')[_0x7f2210(0x281)]=getLocalDateStr(_0x1b9119),document[_0x7f2210(0x1db)](_0x7f2210(0x2b1))[_0x7f2210(0x281)]=getLocalDateStr(_0x1b9119));refreshAnalytics();return;}}document[_0x7f2210(0x1db)](_0x7f2210(0x23e))[_0x7f2210(0x281)]=getLocalDateStr(_0x51c07e),document['getElementById']('anEnd')[_0x7f2210(0x281)]=getLocalDateStr(_0x294d02),refreshAnalytics();}function refreshAnalytics(){const _0x4d295a=a2_0x28a2ee,_0x10966d=document['getElementById'](_0x4d295a(0x23e))[_0x4d295a(0x281)],_0x54c634=document['getElementById'](_0x4d295a(0x2b1))['value'];if(!_0x10966d||!_0x54c634)return;const _0x304330=sessions[_0x4d295a(0x349)](_0x28d94b=>_0x28d94b['dateStr']>=_0x10966d&&_0x28d94b[_0x4d295a(0x2a1)]<=_0x54c634&&_0x28d94b[_0x4d295a(0x2d1)]!==_0x4d295a(0x268)),_0x160517=_0x304330['length'],_0x5f2203=_0x304330[_0x4d295a(0x349)](_0x328134=>_0x328134[_0x4d295a(0x2d1)]===_0x4d295a(0x2b4))[_0x4d295a(0x25b)],_0x19ba65=_0x160517>0x0?Math[_0x4d295a(0x2fc)](_0x5f2203/_0x160517*0x64):0x0;document['getElementById'](_0x4d295a(0x244))[_0x4d295a(0x2a7)]=_0x19ba65+'%',document[_0x4d295a(0x1db)](_0x4d295a(0x325))['textContent']=_0x5f2203+_0x4d295a(0x283)+_0x160517+_0x4d295a(0x309);const _0x5936f0=document['getElementById'](_0x4d295a(0x225)),_0x261774=0x2*Math['PI']*0x23,_0x4d3f10=_0x261774-_0x19ba65/0x64*_0x261774;_0x5936f0[_0x4d295a(0x21d)][_0x4d295a(0x2bf)]=_0x4d3f10;const _0x14fcf5={};_0x304330[_0x4d295a(0x32f)](_0x16a6df=>{const _0x3eb41e=_0x4d295a;if(!_0x14fcf5[_0x16a6df[_0x3eb41e(0x1e2)]]){const _0x96d707=clients[_0x3eb41e(0x233)](_0x28378d=>_0x28378d[_0x3eb41e(0x2f3)]===_0x16a6df[_0x3eb41e(0x1e2)]);_0x14fcf5[_0x16a6df[_0x3eb41e(0x1e2)]]={'total':0x0,'done':0x0,'color':_0x96d707?_0x96d707[_0x3eb41e(0x1e9)]:'#fff'};}_0x14fcf5[_0x16a6df[_0x3eb41e(0x1e2)]][_0x3eb41e(0x328)]++;if(_0x16a6df[_0x3eb41e(0x2d1)]===_0x3eb41e(0x2b4))_0x14fcf5[_0x16a6df[_0x3eb41e(0x1e2)]]['done']++;});const _0x1adf09=document[_0x4d295a(0x1db)]('analyticsList');_0x1adf09[_0x4d295a(0x30f)]='';const _0x442930=Object[_0x4d295a(0x310)](_0x14fcf5)[_0x4d295a(0x260)]((_0x17880b,_0x9753cb)=>_0x9753cb[0x1][_0x4d295a(0x328)]-_0x17880b[0x1]['total']);if(_0x442930['length']===0x0){_0x1adf09['innerHTML']=_0x4d295a(0x2ee);return;}_0x442930[_0x4d295a(0x32f)](([_0x392926,_0x500661])=>{const _0x387d55=_0x4d295a,_0xe4ea4e=Math[_0x387d55(0x2fc)](_0x500661[_0x387d55(0x206)]/_0x500661[_0x387d55(0x328)]*0x64),_0x5228b1=document[_0x387d55(0x25c)]('div');_0x5228b1[_0x387d55(0x216)]=_0x387d55(0x315),_0x5228b1['style'][_0x387d55(0x224)]=_0x500661[_0x387d55(0x1e9)],_0x5228b1[_0x387d55(0x30f)]=_0x387d55(0x2a8)+_0x392926+_0x387d55(0x29f)+_0x500661['done']+'</span>\x20/\x20'+_0x500661[_0x387d55(0x328)]+_0x387d55(0x28f)+_0xe4ea4e+_0x387d55(0x295),_0x1adf09[_0x387d55(0x22f)](_0x5228b1);});}function formatMinsToHrs(_0x389d71){const _0x21c7e8=a2_0x28a2ee;if(_0x389d71===0x0)return'0';const _0x52ae66=Math[_0x21c7e8(0x245)](_0x389d71/0x3c),_0x190066=_0x389d71%0x3c;if(_0x190066===0x0)return _0x52ae66+'—á';return _0x52ae66+'—á\x20'+_0x190066+'–º';}