const a2_0x5467ef=a2_0x577a;(function(_0x316483,_0x34978f){const _0x5052a5=a2_0x577a,_0x437afc=_0x316483();while(!![]){try{const _0xef10a0=parseInt(_0x5052a5(0x171))/0x1*(parseInt(_0x5052a5(0x133))/0x2)+-parseInt(_0x5052a5(0x10d))/0x3*(parseInt(_0x5052a5(0xbc))/0x4)+-parseInt(_0x5052a5(0x1d3))/0x5*(parseInt(_0x5052a5(0xd4))/0x6)+parseInt(_0x5052a5(0x195))/0x7+-parseInt(_0x5052a5(0xeb))/0x8*(-parseInt(_0x5052a5(0xdc))/0x9)+-parseInt(_0x5052a5(0x227))/0xa*(parseInt(_0x5052a5(0x138))/0xb)+parseInt(_0x5052a5(0x16b))/0xc;if(_0xef10a0===_0x34978f)break;else _0x437afc['push'](_0x437afc['shift']());}catch(_0x3a24fe){_0x437afc['push'](_0x437afc['shift']());}}}(a2_0x1df9,0x2a6cc),function initTMA(){const _0x2f5267=a2_0x577a;try{const _0xd482dd=window['Telegram']?.['WebApp'];if(!_0xd482dd)return;_0xd482dd['ready'](),_0xd482dd[_0x2f5267(0x1e1)]();try{_0xd482dd[_0x2f5267(0x172)](_0x2f5267(0x22c)),_0xd482dd['setBackgroundColor']&&_0xd482dd['setBackgroundColor'](_0x2f5267(0x22c));}catch(_0x240954){console[_0x2f5267(0x110)](_0x2f5267(0x1b5),_0x240954);}try{_0xd482dd['BackButton']&&(_0xd482dd['BackButton'][_0x2f5267(0xc0)](),_0xd482dd['BackButton'][_0x2f5267(0xb8)](),_0xd482dd['BackButton']['onClick'](function(){const _0x3d8c36=_0x2f5267;window[_0x3d8c36(0x22b)]['href']=_0x3d8c36(0x1c1);}));}catch(_0x385793){console['log'](_0x2f5267(0x1ba),_0x385793);}try{if(_0xd482dd[_0x2f5267(0xba)])_0xd482dd[_0x2f5267(0xba)]();}catch(_0xcb440c){}}catch(_0x52e882){console[_0x2f5267(0x215)](_0x2f5267(0x17a),_0x52e882);}}());function isAdmin(){const _0x2aedcc=a2_0x577a;try{const _0x4183a1=Number(window[_0x2aedcc(0x1f7)]?.['WebApp']?.[_0x2aedcc(0x1d9)]?.[_0x2aedcc(0xd3)]?.['id']);return _0x4183a1===0xbaf7174;}catch(_0x667879){return![];}}const APP_VERSION='v9.0-BATCH-CALENDAR',API_URL=a2_0x5467ef(0x19f),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS='uc_clients_v9',KEY_SESSIONS=a2_0x5467ef(0x109),KEY_SETTINGS=a2_0x5467ef(0x132);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x4bfb28=a2_0x5467ef;return window[_0x4bfb28(0x1f7)]?.[_0x4bfb28(0x228)]?.['initDataUnsafe']?.[_0x4bfb28(0xd3)]?.['id']||_0x4bfb28(0x223);},'saveLocally'(){const _0x395463=a2_0x5467ef;try{localStorage[_0x395463(0x21d)](KEY_CLIENTS,JSON[_0x395463(0x1ce)](clients)),localStorage[_0x395463(0x21d)](KEY_SESSIONS,JSON['stringify'](sessions)),localStorage[_0x395463(0x21d)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x2d18a2){console['error'](_0x395463(0x147),_0x2d18a2);}},'loadLocal'(){const _0x430b12=a2_0x5467ef;try{const _0x5d3a32=localStorage[_0x430b12(0x145)](KEY_CLIENTS);if(_0x5d3a32)clients=JSON['parse'](_0x5d3a32);const _0x2220d9=localStorage[_0x430b12(0x145)](KEY_SESSIONS);if(_0x2220d9)sessions=JSON[_0x430b12(0x140)](_0x2220d9);const _0x3c49ff=localStorage['getItem'](KEY_SETTINGS);if(_0x3c49ff){const _0x5a0dd7=JSON['parse'](_0x3c49ff);if(_0x5a0dd7['pattern'])availabilityPattern=_0x5a0dd7[_0x430b12(0x202)];if(_0x5a0dd7[_0x430b12(0xe2)])dateExceptions=_0x5a0dd7[_0x430b12(0xe2)];if(_0x5a0dd7['ranges'])specialRanges=_0x5a0dd7[_0x430b12(0x107)];}else{for(let _0x44ce30=0x0;_0x44ce30<0x7;_0x44ce30++)availabilityPattern[_0x44ce30]=Array[_0x430b12(0x1ed)]({'length':0xc},(_0x745c89,_0x35f944)=>_0x35f944+0x9);}}catch(_0x1b3bb8){console[_0x430b12(0x215)]('Local\x20Load\x20Error',_0x1b3bb8);}},async 'fetchFromServer'(_0x18b7b0,_0x177cb2={}){const _0x1c9e4f=a2_0x5467ef,_0xf5e889=window[_0x1c9e4f(0x1f7)]?.[_0x1c9e4f(0x228)],_0x236756={'action':_0x18b7b0,'init_data':_0xf5e889?.[_0x1c9e4f(0x1b8)]||'',..._0x177cb2};try{const _0x5f41d0=await fetch(API_URL,{'method':_0x1c9e4f(0x11f),'headers':{'Content-Type':_0x1c9e4f(0x128)},'body':JSON[_0x1c9e4f(0x1ce)](_0x236756)}),_0xd51200=await _0x5f41d0['json']();if(!_0xd51200['ok'])throw new Error(_0xd51200['error']||_0x1c9e4f(0xd1));return _0xd51200[_0x1c9e4f(0xb4)];}catch(_0xdb4b7a){console['error'](_0x1c9e4f(0x12d)+_0x18b7b0+_0x1c9e4f(0x20f),_0xdb4b7a);throw _0xdb4b7a;}},async 'syncLoad'(){const _0x49cc3e=a2_0x5467ef,_0x4791fc=new Date(),_0x289c82=_0x4791fc[_0x49cc3e(0xcd)]()+'-'+String(_0x4791fc[_0x49cc3e(0x177)]()+0x1)['padStart'](0x2,'0'),_0x573696=new Date(_0x4791fc);_0x573696[_0x49cc3e(0x180)](_0x4791fc['getMonth']()+0x1);const _0x259f8c=_0x573696['getFullYear']()+'-'+String(_0x573696[_0x49cc3e(0x177)]()+0x1)[_0x49cc3e(0xc4)](0x2,'0'),_0x2be466=Date[_0x49cc3e(0x116)]();console[_0x49cc3e(0x110)]('[Sync]\x20Loading\x20'+_0x289c82+',\x20'+_0x259f8c+_0x49cc3e(0x186));try{const [_0x52a068,_0x521e22]=await Promise['all']([this[_0x49cc3e(0x1bd)](_0x49cc3e(0xdf),{'month_str':_0x289c82}),this[_0x49cc3e(0x1bd)]('init_load',{'month_str':_0x259f8c})]);if(lastUserActionTime>_0x2be466)return console[_0x49cc3e(0xe4)](_0x49cc3e(0x199)),![];return this[_0x49cc3e(0x173)](_0x52a068,_0x289c82),this[_0x49cc3e(0x173)](_0x521e22,_0x259f8c),this[_0x49cc3e(0x18d)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x461246){console[_0x49cc3e(0x215)](_0x461246);throw _0x461246;}},'mergeServerData'(_0x574c26,_0x48b34b){const _0x1d4b7e=a2_0x5467ef;if(!_0x574c26)return;_0x574c26[_0x1d4b7e(0x135)]&&Array[_0x1d4b7e(0x226)](_0x574c26[_0x1d4b7e(0x135)])&&(clients=_0x574c26[_0x1d4b7e(0x135)]);if(_0x574c26[_0x1d4b7e(0x142)]){if(_0x574c26[_0x1d4b7e(0x142)]['pattern'])availabilityPattern=_0x574c26[_0x1d4b7e(0x142)][_0x1d4b7e(0x202)];if(_0x574c26[_0x1d4b7e(0x142)][_0x1d4b7e(0xe2)])dateExceptions=_0x574c26[_0x1d4b7e(0x142)][_0x1d4b7e(0xe2)];if(_0x574c26['settings'][_0x1d4b7e(0x107)])specialRanges=_0x574c26[_0x1d4b7e(0x142)][_0x1d4b7e(0x107)];if(_0x574c26[_0x1d4b7e(0x142)][_0x1d4b7e(0x14a)]){localStorage[_0x1d4b7e(0x21d)](_0x1d4b7e(0x17d),_0x574c26[_0x1d4b7e(0x142)][_0x1d4b7e(0x14a)]);const _0x5b2881=document[_0x1d4b7e(0x225)]('settingCancelWindow');if(_0x5b2881)_0x5b2881[_0x1d4b7e(0x196)]=_0x574c26[_0x1d4b7e(0x142)]['cancel_window'];}}_0x574c26[_0x1d4b7e(0x15d)]&&(sessions=sessions[_0x1d4b7e(0x15a)](_0x36349d=>!_0x36349d['dateStr'][_0x1d4b7e(0x108)](_0x48b34b)),Object['keys'](_0x574c26[_0x1d4b7e(0x15d)])[_0x1d4b7e(0x141)](_0x3f584=>{const _0x546ef3=_0x1d4b7e,_0x2ca8ad=_0x574c26[_0x546ef3(0x15d)][_0x3f584];_0x2ca8ad[_0x546ef3(0x141)](_0xd70825=>{const _0x2502d1=_0x546ef3,_0x257cac=clients[_0x2502d1(0xee)](_0x44ab05=>String(_0x44ab05['id'])===String(_0xd70825['c']));sessions[_0x2502d1(0x164)]({'id':_0xd70825['i'],'clientId':_0xd70825['c'],'client':_0x257cac?_0x257cac[_0x2502d1(0xed)]:_0x2502d1(0x224),'dateStr':_0x48b34b+'-'+_0x3f584[_0x2502d1(0xc4)](0x2,'0'),'start':_0xd70825['s'],'end':_0xd70825['e'],'status':_0xd70825['st']||_0x2502d1(0x19d),'note':_0xd70825['n']||'','seriesId':_0xd70825[_0x2502d1(0xfa)]||null});});}));},async 'syncBatch'(_0x588676){const _0x4a8447=a2_0x5467ef,_0x4bb2bb=[...new Set(_0x588676)],_0x70ad08=_0x4bb2bb[_0x4a8447(0x1a1)](_0x215b55=>{const _0xca499c=_0x4a8447,_0x239e3c=sessions[_0xca499c(0x15a)](_0x14a6cf=>_0x14a6cf['dateStr']===_0x215b55&&_0x14a6cf[_0xca499c(0x1d4)]!==_0xca499c(0x210)),_0x360607=_0x239e3c[_0xca499c(0x1a1)](_0x4211e4=>({'i':_0x4211e4['id'],'c':_0x4211e4[_0xca499c(0x1f9)],'s':_0x4211e4['start'],'e':_0x4211e4[_0xca499c(0x1e9)],'st':_0x4211e4[_0xca499c(0x1d4)],'n':_0x4211e4['note'],'sid':_0x4211e4['seriesId']}));return{'date':_0x215b55,'day_data':_0x360607};});if(_0x70ad08['length']===0x0)return;console['log'](_0x4a8447(0x1f6)+_0x70ad08[_0x4a8447(0x165)]+'\x20days'),await this['fetchFromServer'](_0x4a8447(0x14f),{'changes':_0x70ad08});}};async function init(){const _0x454e70=a2_0x5467ef;DataManager[_0x454e70(0x190)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById']('matrixViewport')[_0x454e70(0x1e5)](_0x454e70(0x14e),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']()[_0x454e70(0x14b)](()=>{showToast('–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ',!![]);})[_0x454e70(0xb9)](_0x3539d8=>{const _0x4dc6b7=_0x454e70;showToast(_0x4dc6b7(0x16c),![]);});}function generateId(){const _0x1a3fdc=a2_0x5467ef;return Date[_0x1a3fdc(0x116)]()[_0x1a3fdc(0xc8)](0x24)+Math[_0x1a3fdc(0x194)]()['toString'](0x24)[_0x1a3fdc(0xb6)](0x2,0x5);}function toggleSeriesInput(){const _0xf51395=a2_0x5467ef,_0x44450e=document[_0xf51395(0x225)]('inpRecurring')[_0xf51395(0x144)],_0x9388fa=document[_0xf51395(0x225)]('seriesCountContainer');_0x9388fa[_0xf51395(0x1df)][_0xf51395(0x19c)]=_0x44450e?_0xf51395(0x209):_0xf51395(0x16a);const _0x46c566=document['getElementById'](_0xf51395(0x1ea));_0x46c566['style'][_0xf51395(0x1ec)]=_0x44450e?_0xf51395(0x185):_0xf51395(0x151);}function openAddSession(_0xc372b){const _0x3138f8=a2_0x5467ef;editingId=null,populateClientSelect(),document[_0x3138f8(0x225)]('sheetTitle')[_0x3138f8(0xb7)]=_0x3138f8(0xec),document['getElementById']('btnDelete')['style'][_0x3138f8(0x19c)]=_0x3138f8(0x16a),document[_0x3138f8(0x225)]('btnStatusToggle')[_0x3138f8(0x1df)][_0x3138f8(0x19c)]=_0x3138f8(0x16a);const _0x2166fc=document[_0x3138f8(0x225)](_0x3138f8(0x1ea)),_0x2f0470=document[_0x3138f8(0x225)](_0x3138f8(0x1d5));_0x2166fc[_0x3138f8(0x1df)][_0x3138f8(0x19c)]=_0x3138f8(0x204),_0x2166fc[_0x3138f8(0x1df)][_0x3138f8(0x1ec)]=_0x3138f8(0x151),document[_0x3138f8(0x225)](_0x3138f8(0xbe))[_0x3138f8(0x144)]=![],document[_0x3138f8(0x225)](_0x3138f8(0x216))['value']=0x4,_0x2f0470[_0x3138f8(0x1df)][_0x3138f8(0x19c)]=_0x3138f8(0x16a),document['getElementById'](_0x3138f8(0x1da))['value']=getLocalDateStr(_0xc372b),updateDateDisplay();const _0x4eff4b=_0xc372b[_0x3138f8(0x187)]();document[_0x3138f8(0x225)]('inpStart')[_0x3138f8(0x196)]=String(_0x4eff4b)['padStart'](0x2,'0')+':00',document[_0x3138f8(0x225)](_0x3138f8(0x1bb))[_0x3138f8(0x196)]=String(_0x4eff4b+0x1)['padStart'](0x2,'0')+_0x3138f8(0xb3),openSheet(_0x3138f8(0xc1));}function openEdit(_0x1c9f86){const _0x48a08f=a2_0x5467ef;editingId=_0x1c9f86['id'],populateClientSelect(),document[_0x48a08f(0x225)](_0x48a08f(0x184))[_0x48a08f(0xb7)]=_0x48a08f(0x1b7),document[_0x48a08f(0x225)](_0x48a08f(0x1f4))[_0x48a08f(0x1df)][_0x48a08f(0x19c)]=_0x48a08f(0x209);const _0x3c8946=document['getElementById'](_0x48a08f(0x18e));_0x3c8946[_0x48a08f(0x1df)]['display']='flex';_0x1c9f86[_0x48a08f(0x1d4)]===_0x48a08f(0x1ee)?(_0x3c8946[_0x48a08f(0x12c)]='btn-status-toggle\x20undo-mode',_0x3c8946[_0x48a08f(0x207)]='–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ'):(_0x3c8946[_0x48a08f(0x12c)]=_0x48a08f(0x118),_0x3c8946[_0x48a08f(0x207)]=_0x48a08f(0x20a));const _0x2b3513=!!_0x1c9f86[_0x48a08f(0x1bf)];document[_0x48a08f(0x225)]('recurringOptionContainer')[_0x48a08f(0x1df)][_0x48a08f(0x19c)]=_0x48a08f(0x16a),document[_0x48a08f(0x225)]('seriesCountContainer')[_0x48a08f(0x1df)]['display']=_0x48a08f(0x16a),_0x2b3513?(document[_0x48a08f(0x225)](_0x48a08f(0xbb))[_0x48a08f(0x1df)]['display']=_0x48a08f(0x204),document[_0x48a08f(0x225)](_0x48a08f(0xbb))[_0x48a08f(0xab)]('.pib-text')[_0x48a08f(0xb7)]=_0x48a08f(0x211)):document[_0x48a08f(0x225)](_0x48a08f(0xbb))[_0x48a08f(0x1df)][_0x48a08f(0x19c)]=_0x48a08f(0x16a),document[_0x48a08f(0x225)](_0x48a08f(0x181))[_0x48a08f(0x196)]=_0x1c9f86['client'],document['getElementById'](_0x48a08f(0x1da))[_0x48a08f(0x196)]=_0x1c9f86[_0x48a08f(0x21a)],document[_0x48a08f(0x225)]('inpStart')[_0x48a08f(0x196)]=_0x1c9f86[_0x48a08f(0x161)],document[_0x48a08f(0x225)](_0x48a08f(0x1bb))[_0x48a08f(0x196)]=_0x1c9f86[_0x48a08f(0x1e9)],document['getElementById'](_0x48a08f(0x1b0))[_0x48a08f(0x196)]=_0x1c9f86[_0x48a08f(0x1c7)]||'',updateDateDisplay(),openSheet(_0x48a08f(0xc1));}async function trySaveSession(){const _0x2fc54f=a2_0x5467ef,_0x2fe1bc=document['getElementById'](_0x2fc54f(0x181))[_0x2fc54f(0x196)],_0x56a005=document[_0x2fc54f(0x225)](_0x2fc54f(0x1da))['value'],_0x181be4=document[_0x2fc54f(0x225)]('inpStart')[_0x2fc54f(0x196)],_0x1fc43d=document[_0x2fc54f(0x225)](_0x2fc54f(0x1bb))[_0x2fc54f(0x196)],_0x3bf523=document[_0x2fc54f(0x225)]('inpNote')[_0x2fc54f(0x196)],_0x50aee1=document[_0x2fc54f(0x225)]('inpRecurring')[_0x2fc54f(0x144)];let _0x3dde3b=0x4;if(_0x50aee1){const _0x25f2dd=parseInt(document['getElementById']('inpSeriesCount')['value']);if(!_0x25f2dd||_0x25f2dd<0x2){showToast(_0x2fc54f(0x188),![]);return;}if(_0x25f2dd>0x64){showToast(_0x2fc54f(0x1c0),![]);return;}_0x3dde3b=_0x25f2dd;}const _0x1563fc=clients[_0x2fc54f(0xee)](_0xb02e10=>_0xb02e10[_0x2fc54f(0xed)]===_0x2fe1bc);if(!_0x1563fc){showToast(_0x2fc54f(0x105),![]);return;}const _0x9f140c=validateAppointment(_0x56a005,_0x181be4,_0x1fc43d,editingId,_0x1563fc['id']);if(!_0x9f140c[_0x2fc54f(0x1eb)]){showToast(_0x9f140c[_0x2fc54f(0x101)],![]);return;}_0x9f140c[_0x2fc54f(0x12f)]&&showToast(_0x9f140c[_0x2fc54f(0x12f)],![]);const _0x37b433={'client':_0x2fe1bc,'clientId':_0x1563fc['id'],'start':_0x181be4,'end':_0x1fc43d,'note':_0x3bf523,'status':_0x2fc54f(0x19d)},_0x2e1d9c=editingId?sessions['find'](_0x3e6730=>_0x3e6730['id']===editingId):null;if(_0x2e1d9c&&_0x2e1d9c['seriesId']){tempSessionData={..._0x37b433,'dateStr':_0x56a005,'id':editingId,'seriesId':_0x2e1d9c[_0x2fc54f(0x1bf)]},openActionSheet(_0x2fc54f(0x1b9));return;}let _0x135d8e=null;if(!editingId)_0x135d8e=_0x2fc54f(0x175);else{if(_0x2e1d9c){if(String(_0x2e1d9c['clientId'])!==String(_0x1563fc['id']))console[_0x2fc54f(0x110)](_0x2fc54f(0x203)),NotificationManager[_0x2fc54f(0x114)]('cancel',_0x2e1d9c),_0x135d8e=_0x2fc54f(0x175);else(_0x2e1d9c['start']!==_0x181be4||_0x2e1d9c['end']!==_0x1fc43d||_0x2e1d9c[_0x2fc54f(0x21a)]!==_0x56a005)&&(_0x135d8e=_0x2fc54f(0x18c));}}if(!editingId&&_0x50aee1){createBatchSeries(_0x37b433,_0x56a005,_0x3dde3b),NotificationManager['send'](_0x2fc54f(0x175),{..._0x37b433,'dateStr':_0x56a005});return;}lastUserActionTime=Date[_0x2fc54f(0x116)]();const _0x410b66={..._0x37b433,'dateStr':_0x56a005,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x410b66),_0x135d8e&&NotificationManager['send'](_0x135d8e,_0x410b66);}function a2_0x1df9(){const _0x44c075=['ranges','startsWith','uc_sessions_v9','day-off-overlay\x20stripe-bg','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','[Series]\x20Skipped\x20','188472TaRfjp','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','T23:59:59','log','createDocumentFragment','settingsSheet','–£–¥–∞–ª–µ–Ω–∏–µ','send','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','now','toast-notification\x20','btn-status-toggle','setHours','getDay','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','clientY','pe-time-label','calc(','POST','doBusyHours','onclick','(((.+)+)+)+$',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','anPercent','\x20status-completed','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','touchmove','text/plain;charset=UTF-8','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','as-button\x20danger','className','[API\x20','left','warning','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','borderLeftColor','uc_settings_v9','2ReykrA','total','clients','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','ru-RU','11HbERVk','colIndex','T00:00:00','23:59','toUpperCase','rgba(100,100,100,0.5)','getText','daysHeaderTrack','parse','forEach','settings','header-','checked','getItem','doEventsList','Local\x20Save\x20Error','dayOptionsTitle','add','cancel_window','then','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','[Notify]\x20Network\x20Failed','scroll','batch_sync','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','10px','rgba(255,\x2069,\x2058,\x200.15)','splice','analyticsList','#0a84ff','cancel','getTime','save_settings','touchstart','filter','[Notify]\x20Error:\x20Text\x20generation\x20failed','var(--acc-green)','calendar','indexOf','.dch-stats-fill','pe-col-header','start','delete','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','push','length','zIndex','anTotalStats','mini','floor','none','2822280BUjpLE','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','timeColumn','actionSheetOverlay','overlay','rangeStartTime','28493DEcRCa','setHeaderColor','mergeServerData','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','create','</div>','getMonth','px\x200px','toastTitle','Critical\x20TMA\x20Error:','100%','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','uc_settings_cancel_window','firstChild','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','setMonth','inpClient','closest','.sheet','sheetTitle','10px\x2010px\x200\x200','...','getHours','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','asBtnSeries','charAt','offsetWidth','update','saveLocally','btnStatusToggle','</div><div\x20class=\x22ev-time\x22>','loadLocal','#gridColumns\x20.day-column','–£—Å–ø–µ—à–Ω–æ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','random','1932455GhFJid','value','blocked-slot\x20stripe-bg','day-column\x20','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','dayOptionsSheet','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','display','planned','data-date','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','active','map','rangeEndTime','width','single','rangeEndDate','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','remove','event-card','asBtnOne','text','apply','asTitle','backgroundPosition','headerMonth','inpNote','off','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','appendChild','div','Error\x20setting\x20color:','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','initData','save','Error\x20setting\x20back\x20button:','inpEnd','clientWidth','fetchFromServer','blocked-range-part\x20stripe-bg','seriesId','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','router.html','toastMessage','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','client','rangesList','[Notify]\x20Error:\x20sessionData\x20is\x20null','note',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','btn-primary\x20btn-secondary','setAttribute','sort','top','\x20‚Äî\x20','stringify','[Notify]\x20Attempting\x20to\x20send:','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','getMinutes','time-label','1357245PdVnlZ','status','seriesCountContainer','client-stat-card','includes','stopPropagation','initDataUnsafe','inpDate','var(--acc-orange)','setDate','patternEditor','target','style',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','expand','querySelectorAll','rangesSheet','globalTimeLine','addEventListener','search','analyticsSheet','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','end','recurringOptionContainer','valid','borderRadius','from','completed','</span>\x20/\x20','localeCompare','long','%\x20+\x202px)','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','btnDelete','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','Telegram','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','clientId','#fff','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',':00</span>','height','%\x20-\x204px)','getAttribute','pattern','[Notify]\x20Client\x20SWAP\x20detected','flex','doDateHeader','classList','innerHTML','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','block','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','peGrid','actionSheet','doLoadPercent','as-button\x20danger\x20bold',']\x20Failed:','deleted','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫',':\x20Client\x20already\x20booked','entries','toLocaleString','error','inpSeriesCount','var(--acc-red)','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','offsetLeft','dateStr','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','btnDayToggle','setItem','<div\x20class=\x22dch-day\x22>','week','series','settingCancelWindow','day-col-header\x20','guest','Unknown','getElementById','isArray','124870sxzsvr','WebApp','[Notify]\x20Detected\x20Client\x20ID:','<div\x20class=\x22ev-title\x22>','location','#050505','backgroundColor','querySelector','anEnd','\x20–∏–∑\x20','touchend','btn-primary\x20btn-danger','.day-col-header','scrollLeft','pe-corner',':00','data','px\x20-','substr','textContent','offClick','catch','disableVerticalSwipes','patternInfoBox','12wIZQzI','syncBatch','inpRecurring','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','show','sessionSheet','strokeDashoffset','min','padStart','option','</b>\x0a\x0a','data-day-idx','toString','findIndex','touches','sheetDateSubtitle','background','getFullYear','success','<span>','gridColumns','Server\x20Error','</div><div\x20class=\x22dch-num\x22>','user','6zUuGWr','[Notify]\x20Server\x20Response:','[Settings]\x20Cancel\x20window\x20set\x20to:','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','de-item','matrixViewport','slice','36qPAvrK','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','scrollTop','init_load','done','max','exceptions','cancelled','warn','timeLineBadge','custom','borderColor','.event-card','round','.period-switch\x20.p-btn','212864guruTF','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','name','find','\x20-\x20','.day-off-overlay','toast','numeric','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','toFixed','createElement','today','toLocaleDateString','split','open','sid','rgba(255,\x2069,\x2058,\x200.3)','getBoundingClientRect','mouseup','–ò–Ω—Ñ–æ','anStart','color','msg','getDate','pe-cell\x20','rgba(255,\x20159,\x2010,\x200.3)','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','complete'];a2_0x1df9=function(){return _0x44c075;};return a2_0x1df9();}function toggleSessionStatus(){const _0x494e7e=a2_0x5467ef;lastUserActionTime=Date[_0x494e7e(0x116)]();const _0x5338c7=sessions[_0x494e7e(0xee)](_0x3120d6=>_0x3120d6['id']===editingId);if(!_0x5338c7)return;const _0x256474=_0x5338c7['status']===_0x494e7e(0x1ee)?_0x494e7e(0x19d):_0x494e7e(0x1ee);_0x5338c7[_0x494e7e(0x1d4)]=_0x256474,saveSingleSession(_0x5338c7),_0x256474===_0x494e7e(0x1ee)&&NotificationManager[_0x494e7e(0x114)]('complete',_0x5338c7),showToast(_0x256474==='completed'?_0x494e7e(0x218):_0x494e7e(0x1a7),!![]);}function validateAppointment(_0x5bb0d2,_0x45a5be,_0x56c780,_0x5d2484,_0x4ca44c){const _0x4ff866=a2_0x5467ef,[_0x25253b,_0x2e6767]=_0x45a5be[_0x4ff866(0xf8)](':')[_0x4ff866(0x1a1)](Number),[_0x228e2e,_0x3edc9b]=_0x56c780['split'](':')[_0x4ff866(0x1a1)](Number),_0x4345f1=_0x25253b*0x3c+_0x2e6767,_0x3bac5d=_0x228e2e*0x3c+_0x3edc9b,_0x58cd6d=String(_0x4ca44c);let _0x56036f=![],_0x232203='';for(let _0x301017 of sessions){if(_0x301017[_0x4ff866(0x21a)]!==_0x5bb0d2)continue;if(_0x301017['status']==='cancelled')continue;if(_0x5d2484&&String(_0x301017['id'])===String(_0x5d2484))continue;const [_0x21fe1f,_0x2f65f1]=_0x301017[_0x4ff866(0x161)][_0x4ff866(0xf8)](':')[_0x4ff866(0x1a1)](Number),[_0x2ce62a,_0x2c96ee]=_0x301017[_0x4ff866(0x1e9)][_0x4ff866(0xf8)](':')[_0x4ff866(0x1a1)](Number),_0x4470df=_0x21fe1f*0x3c+_0x2f65f1,_0x410675=_0x2ce62a*0x3c+_0x2c96ee;if(Math[_0x4ff866(0xe1)](_0x4345f1,_0x4470df)<Math[_0x4ff866(0xc3)](_0x3bac5d,_0x410675)){if(_0x301017[_0x4ff866(0x1f9)]&&String(_0x301017[_0x4ff866(0x1f9)])===_0x58cd6d)return{'valid':![],'msg':_0x4ff866(0x150)+_0x301017[_0x4ff866(0x1c4)]+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x56036f=!![],_0x232203=_0x301017[_0x4ff866(0x1c4)];}}if(_0x56036f)return{'valid':!![],'warning':_0x4ff866(0x130)+_0x232203};return{'valid':!![]};}function saveSingleSession(_0x4682d0){const _0x46808c=a2_0x5467ef;if(editingId){const _0x2a2e28=sessions[_0x46808c(0xc9)](_0x2e2aff=>_0x2e2aff['id']===editingId);if(_0x2a2e28!==-0x1)sessions[_0x2a2e28]=_0x4682d0;}else sessions[_0x46808c(0x164)](_0x4682d0);afterSaveAction([_0x4682d0[_0x46808c(0x21a)]]);}function createBatchSeries(_0x2dcbaa,_0x28df87,_0x51e4d1){const _0x2aa27a=a2_0x5467ef,_0x428e4a=generateId(),_0x1e6be1=[],_0x92b46f=[];let _0x2c1ef2=0x0,_0x493d0c=new Date(_0x28df87);for(let _0x2a5c3f=0x0;_0x2a5c3f<_0x51e4d1;_0x2a5c3f++){const _0x493185=getLocalDateStr(_0x493d0c),_0x27942c=validateAppointment(_0x493185,_0x2dcbaa[_0x2aa27a(0x161)],_0x2dcbaa[_0x2aa27a(0x1e9)],null,_0x2dcbaa[_0x2aa27a(0x1f9)]);if(!_0x27942c['valid'])console['log'](_0x2aa27a(0x10c)+_0x493185+_0x2aa27a(0x212)),_0x2c1ef2++;else{const _0x5c593b={..._0x2dcbaa,'id':generateId(),'dateStr':_0x493185,'seriesId':_0x428e4a};_0x92b46f['push'](_0x5c593b),_0x1e6be1[_0x2aa27a(0x164)](_0x493185);}_0x493d0c[_0x2aa27a(0x1dc)](_0x493d0c['getDate']()+0x7);}if(_0x92b46f[_0x2aa27a(0x165)]===0x0){showToast(_0x2aa27a(0x11b),![]);return;}sessions[_0x2aa27a(0x164)](..._0x92b46f),lastUserActionTime=Date[_0x2aa27a(0x116)]();let _0x5da45f=_0x2aa27a(0xf3)+_0x92b46f['length'];_0x2c1ef2>0x0&&(_0x5da45f+=_0x2aa27a(0x17c)+_0x2c1ef2+')'),showToast(_0x5da45f,!![]),afterSaveAction(_0x1e6be1);}function updateSeriesBatch(_0xd40ed5,_0x37101e){const _0x30d452=a2_0x5467ef,_0x2a0dd6=[],_0x6eb558=_0x37101e[_0x30d452(0x1bf)];if(_0xd40ed5===_0x30d452(0x1a4)){const _0x4594dc={..._0x37101e,'seriesId':null},_0x2e8f4a=sessions[_0x30d452(0xc9)](_0x2cf791=>_0x2cf791['id']===_0x37101e['id']);if(_0x2e8f4a!==-0x1)sessions[_0x2e8f4a]=_0x4594dc;_0x2a0dd6[_0x30d452(0x164)](_0x4594dc[_0x30d452(0x21a)]);}else{if(_0xd40ed5==='series'){const _0x100d5a=_0x37101e[_0x30d452(0x21a)];sessions[_0x30d452(0x141)]((_0x394ce0,_0x5113a9)=>{const _0x1341ce=_0x30d452;_0x394ce0[_0x1341ce(0x1bf)]===_0x6eb558&&_0x394ce0[_0x1341ce(0x21a)]>=_0x100d5a&&(sessions[_0x5113a9]={...sessions[_0x5113a9],'start':_0x37101e[_0x1341ce(0x161)],'end':_0x37101e[_0x1341ce(0x1e9)],'note':_0x37101e[_0x1341ce(0x1c7)],'client':_0x37101e[_0x1341ce(0x1c4)],'clientId':_0x37101e['clientId']},_0x2a0dd6[_0x1341ce(0x164)](_0x394ce0[_0x1341ce(0x21a)]));});}}afterSaveAction(_0x2a0dd6);}function tryDeleteSession(){const _0x3292fd=a2_0x5467ef,_0x43e2de=sessions[_0x3292fd(0xee)](_0x94d6f3=>_0x94d6f3['id']===editingId);if(!_0x43e2de)return;_0x43e2de['seriesId']?openActionSheet(_0x3292fd(0x162)):commitDelete(_0x3292fd(0x1a4),_0x43e2de);}function commitDelete(_0x3b5514,_0x1e65e3){const _0x5af0be=a2_0x5467ef;lastUserActionTime=Date['now'](),NotificationManager['send']('cancel',_0x1e65e3);const _0x141e18=[];if(_0x3b5514===_0x5af0be(0x1a4))sessions=sessions[_0x5af0be(0x15a)](_0xe5e87a=>_0xe5e87a['id']!==_0x1e65e3['id']),_0x141e18[_0x5af0be(0x164)](_0x1e65e3[_0x5af0be(0x21a)]);else{if(_0x3b5514===_0x5af0be(0x220)){const _0x2b1d71=_0x1e65e3[_0x5af0be(0x21a)],_0x46b061=_0x1e65e3[_0x5af0be(0x1bf)];sessions['forEach'](_0x33bd2d=>{const _0x4700bf=_0x5af0be;_0x33bd2d[_0x4700bf(0x1bf)]===_0x46b061&&_0x33bd2d[_0x4700bf(0x21a)]>=_0x2b1d71&&_0x141e18[_0x4700bf(0x164)](_0x33bd2d['dateStr']);}),sessions=sessions[_0x5af0be(0x15a)](_0x12c6ff=>!(_0x12c6ff[_0x5af0be(0x1bf)]===_0x46b061&&_0x12c6ff['dateStr']>=_0x2b1d71));}}afterSaveAction(_0x141e18);}function afterSaveAction(_0x3855b4){const _0x3f8a05=a2_0x5467ef;DataManager['saveLocally'](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x3f8a05(0xbd)](_0x3855b4)[_0x3f8a05(0x14b)](()=>console['log']('Batch\x20Sync\x20OK'))[_0x3f8a05(0xb9)](_0x20326b=>showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ',![]));}const NotificationManager={'formatDate'(_0x1645df){const _0x27e11c=a2_0x5467ef,_0x362a94=new Date(_0x1645df),_0xe94681={'weekday':_0x27e11c(0x1f1),'day':_0x27e11c(0xf2),'month':_0x27e11c(0x1f1)};let _0x40aeec=_0x362a94[_0x27e11c(0xf7)]('ru-RU',_0xe94681);return _0x40aeec[_0x27e11c(0x18a)](0x0)[_0x27e11c(0x13c)]()+_0x40aeec['slice'](0x1);},'getText'(_0x5d0713,_0x1d635b){const _0x18d4aa=a2_0x5467ef,_0x213d04=this['formatDate'](_0x1d635b[_0x18d4aa(0x21a)]);switch(_0x5d0713){case _0x18d4aa(0x175):return _0x18d4aa(0x14c)+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0x213d04+'\x0a')+('<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20'+_0x1d635b[_0x18d4aa(0x161)]+_0x18d4aa(0x1cd)+_0x1d635b['end']+'\x0a\x0a')+_0x18d4aa(0x174);case _0x18d4aa(0x18c):return _0x18d4aa(0x1fb)+_0x18d4aa(0x1c3)+('<b>‚úÖ\x20'+_0x1d635b[_0x18d4aa(0x161)]+_0x18d4aa(0x1cd)+_0x1d635b[_0x18d4aa(0x1e9)]+_0x18d4aa(0xc6))+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0x213d04);case _0x18d4aa(0x156):return _0x18d4aa(0x21b)+('–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>'+_0x213d04+'\x20('+_0x1d635b['start']+_0x18d4aa(0x123));case _0x18d4aa(0x106):return _0x18d4aa(0x1b6)+_0x18d4aa(0x10b)+'<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>';default:return'';}},async 'send'(_0x5b87ce,_0x5bb7cd){const _0x58e215=a2_0x5467ef;console[_0x58e215(0x110)](_0x58e215(0x1cf),_0x5b87ce,_0x5bb7cd);if(!_0x5bb7cd){console[_0x58e215(0x215)](_0x58e215(0x1c6));return;}const _0xd3586b=String(_0x5bb7cd['clientId']);console[_0x58e215(0x110)](_0x58e215(0x229),_0xd3586b);if(!_0x5bb7cd['clientId']||_0xd3586b==='undefined'||_0xd3586b==='null'){console[_0x58e215(0x215)](_0x58e215(0xd7));if(_0x5bb7cd[_0x58e215(0x1c4)]){const _0x37a48f=clients[_0x58e215(0xee)](_0x25e520=>_0x25e520[_0x58e215(0xed)]===_0x5bb7cd[_0x58e215(0x1c4)]);if(_0x37a48f)return console[_0x58e215(0x110)](_0x58e215(0x136),_0x37a48f['id']),this[_0x58e215(0x114)](_0x5b87ce,{..._0x5bb7cd,'clientId':_0x37a48f['id']});}return;}if(_0xd3586b[_0x58e215(0x165)]<0x5){console[_0x58e215(0xe4)]('[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)',_0xd3586b);return;}const _0x491a67=this[_0x58e215(0x13e)](_0x5b87ce,_0x5bb7cd);if(!_0x491a67){console[_0x58e215(0x215)](_0x58e215(0x15b));return;}console[_0x58e215(0x110)]('[Notify]\x20Sending\x20to\x20GAS\x20for\x20'+_0xd3586b+'...'),DataManager[_0x58e215(0x1bd)]('send_notification',{'chatId':_0xd3586b,'text':_0x491a67})[_0x58e215(0x14b)](_0x1dfeb5=>console['log'](_0x58e215(0xd5),_0x1dfeb5))[_0x58e215(0xb9)](_0x1d41b1=>console[_0x58e215(0x215)](_0x58e215(0x14d),_0x1d41b1));}};function getLocalDateStr(_0x350689){const _0x3387da=a2_0x5467ef,_0x5a5b8b=_0x350689[_0x3387da(0xcd)](),_0x28a471=String(_0x350689[_0x3387da(0x177)]()+0x1)[_0x3387da(0xc4)](0x2,'0'),_0x10446b=String(_0x350689[_0x3387da(0x102)]())[_0x3387da(0xc4)](0x2,'0');return _0x5a5b8b+'-'+_0x28a471+'-'+_0x10446b;}function getDateStr(_0x4e941b){const _0x51b092=a2_0x5467ef,_0x2e53fc=new Date();return _0x2e53fc[_0x51b092(0x1dc)](_0x2e53fc[_0x51b092(0x102)]()+_0x4e941b),getLocalDateStr(_0x2e53fc);}function getStartOfWeek(_0x576052){const _0x5a6202=a2_0x5467ef,_0x339676=(function(){let _0x4318b2=!![];return function(_0x488f97,_0x3c630f){const _0x56fcb2=_0x4318b2?function(){const _0x55475a=a2_0x577a;if(_0x3c630f){const _0x161668=_0x3c630f[_0x55475a(0x1ac)](_0x488f97,arguments);return _0x3c630f=null,_0x161668;}}:function(){};return _0x4318b2=![],_0x56fcb2;};}()),_0x451c1e=_0x339676(this,function(){const _0x4fb8db=a2_0x577a;return _0x451c1e[_0x4fb8db(0xc8)]()[_0x4fb8db(0x1e6)](_0x4fb8db(0x122))[_0x4fb8db(0xc8)]()['constructor'](_0x451c1e)[_0x4fb8db(0x1e6)](_0x4fb8db(0x122));});_0x451c1e();const _0x2bffd9=new Date(_0x576052),_0xe9547b=_0x2bffd9[_0x5a6202(0x11a)](),_0x264332=_0x2bffd9[_0x5a6202(0x102)]()-_0xe9547b+(_0xe9547b===0x0?-0x6:0x1);return _0x2bffd9[_0x5a6202(0x1dc)](_0x264332),_0x2bffd9[_0x5a6202(0x119)](0x0,0x0,0x0,0x0),_0x2bffd9;}function hexToRgba(_0x504b06,_0x8070c9){const _0x25b68f=a2_0x5467ef;if(!_0x504b06)return _0x25b68f(0x13d);let _0x26e700=0x0,_0x2bf663=0x0,_0x4c15f7=0x0;if(_0x504b06['length']===0x4)_0x26e700='0x'+_0x504b06[0x1]+_0x504b06[0x1],_0x2bf663='0x'+_0x504b06[0x2]+_0x504b06[0x2],_0x4c15f7='0x'+_0x504b06[0x3]+_0x504b06[0x3];else _0x504b06[_0x25b68f(0x165)]===0x7&&(_0x26e700='0x'+_0x504b06[0x1]+_0x504b06[0x2],_0x2bf663='0x'+_0x504b06[0x3]+_0x504b06[0x4],_0x4c15f7='0x'+_0x504b06[0x5]+_0x504b06[0x6]);return'rgba('+ +_0x26e700+',\x20'+ +_0x2bf663+',\x20'+ +_0x4c15f7+',\x20'+_0x8070c9+')';}function renderTimeColumn(){const _0x1d8d09=a2_0x5467ef,_0x12ddcd=document[_0x1d8d09(0x225)](_0x1d8d09(0x16d)),_0x30a803=document[_0x1d8d09(0x225)](_0x1d8d09(0xe5));_0x12ddcd['innerHTML']='',_0x12ddcd['appendChild'](_0x30a803);for(let _0x411ae4=0x0;_0x411ae4<0x18;_0x411ae4++){const _0x2cad5f=document[_0x1d8d09(0xf5)](_0x1d8d09(0x1b4));_0x2cad5f[_0x1d8d09(0x12c)]=_0x1d8d09(0x1d2);if(_0x411ae4>0x0)_0x2cad5f[_0x1d8d09(0x207)]=_0x1d8d09(0xcf)+String(_0x411ae4)['padStart'](0x2,'0')+_0x1d8d09(0x1fe);_0x12ddcd['appendChild'](_0x2cad5f);}}function renderDayRange(_0x2b6808,_0x3891c5){const _0x4a6b0e=a2_0x5467ef,_0x4eb86a=document['getElementById']('daysHeaderTrack'),_0x46af18=document[_0x4a6b0e(0x225)](_0x4a6b0e(0xd0)),_0x3e4075=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x4a47f0=new Date();_0x4a47f0[_0x4a6b0e(0x119)](0x0,0x0,0x0,0x0);const _0x2c4d6d=getLocalDateStr(new Date());for(let _0x4f652e=_0x2b6808;_0x4f652e<=_0x3891c5;_0x4f652e++){const _0x4ff81f=new Date(_0x4a47f0);_0x4ff81f[_0x4a6b0e(0x1dc)](_0x4ff81f['getDate']()+_0x4f652e);const _0x418e90=getLocalDateStr(_0x4ff81f);let _0x482050=_0x4ff81f[_0x4a6b0e(0x11a)]()-0x1;if(_0x482050===-0x1)_0x482050=0x6;const _0x3ff117=_0x418e90===_0x2c4d6d,_0x43a4e6=document[_0x4a6b0e(0xf5)](_0x4a6b0e(0x1b4));_0x43a4e6[_0x4a6b0e(0x12c)]=_0x4a6b0e(0x222)+(_0x3ff117?_0x4a6b0e(0xf6):''),_0x43a4e6['id']=_0x4a6b0e(0x143)+_0x418e90,_0x43a4e6[_0x4a6b0e(0x1ca)]('data-date',_0x418e90),_0x43a4e6[_0x4a6b0e(0x207)]=_0x4a6b0e(0x21e)+_0x3e4075[_0x482050]+_0x4a6b0e(0xd2)+_0x4ff81f[_0x4a6b0e(0x102)]()+_0x4a6b0e(0x1d0)+_0x418e90+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x43a4e6[_0x4a6b0e(0x121)]=()=>openDayOptions(_0x418e90,_0x3e4075[_0x482050]+'\x20'+_0x4ff81f['getDate']()),_0x4eb86a[_0x4a6b0e(0x1b3)](_0x43a4e6);const _0xb8cb3f=document[_0x4a6b0e(0xf5)](_0x4a6b0e(0x1b4));_0xb8cb3f['className']=_0x4a6b0e(0x198)+(_0x3ff117?_0x4a6b0e(0xf6):''),_0xb8cb3f[_0x4a6b0e(0x1ca)](_0x4a6b0e(0x19e),_0x418e90),_0xb8cb3f[_0x4a6b0e(0x1ca)](_0x4a6b0e(0xc7),_0x482050),renderEventsForColumn(_0xb8cb3f,_0x418e90,_0x482050),attachLongPressHandler(_0xb8cb3f,_0x4ff81f),_0x46af18[_0x4a6b0e(0x1b3)](_0xb8cb3f),updateDayStats(_0x418e90);}}function reRenderBlocks(){const _0xad1bc6=a2_0x5467ef;document['querySelectorAll'](_0xad1bc6(0x191))['forEach'](_0x30e105=>{const _0x2cd1c5=_0xad1bc6;_0x30e105['querySelectorAll'](_0x2cd1c5(0x1f5))[_0x2cd1c5(0x141)](_0xfa8fc2=>_0xfa8fc2['remove']());const _0x4f03e9=_0x30e105[_0x2cd1c5(0x201)](_0x2cd1c5(0x19e)),_0x38f1f4=parseInt(_0x30e105[_0x2cd1c5(0x201)](_0x2cd1c5(0xc7))),_0x558ebe=Math[_0x2cd1c5(0xe9)](_0x30e105[_0x2cd1c5(0x219)]);(availabilityPattern[_0x38f1f4]||[])[_0x2cd1c5(0x141)](_0x2333ef=>{const _0x390722=_0x2cd1c5,_0x5c08de=document[_0x390722(0xf5)](_0x390722(0x1b4));_0x5c08de[_0x390722(0x12c)]=_0x390722(0x197);const _0x3937bf=_0x2333ef*GRID_H;_0x5c08de['style']['top']=_0x3937bf+'px',_0x5c08de[_0x390722(0x1df)]['backgroundPosition']='-'+_0x558ebe+'px\x20-'+_0x3937bf+'px',_0x30e105[_0x390722(0x1b3)](_0x5c08de);});if(specialRanges&&specialRanges[_0x2cd1c5(0x165)]>0x0){const _0x309e43=new Date(_0x4f03e9+_0x2cd1c5(0x13a))[_0x2cd1c5(0x157)](),_0x4317ee=new Date(_0x4f03e9+_0x2cd1c5(0x10f))[_0x2cd1c5(0x157)]();specialRanges[_0x2cd1c5(0x141)](_0x45eee6=>{const _0x411fec=_0x2cd1c5,_0x18b6b3=new Date(_0x45eee6[_0x411fec(0x161)])[_0x411fec(0x157)](),_0x538840=new Date(_0x45eee6['end'])[_0x411fec(0x157)](),_0x1fcf1b=Math[_0x411fec(0xe1)](_0x309e43,_0x18b6b3),_0x2fa918=Math['min'](_0x4317ee,_0x538840);if(_0x1fcf1b<_0x2fa918){if(_0x1fcf1b<=_0x309e43&&_0x2fa918>=_0x4317ee-0xea60){if(!_0x30e105[_0x411fec(0xab)](_0x411fec(0xf0))){const _0x1f0f63=document[_0x411fec(0xf5)](_0x411fec(0x1b4));_0x1f0f63['className']='day-off-overlay\x20stripe-bg',_0x1f0f63[_0x411fec(0x1df)][_0x411fec(0x1ae)]='-'+_0x558ebe+_0x411fec(0x178),_0x30e105['appendChild'](_0x1f0f63);}}else{const _0x4caa02=(_0x1fcf1b-_0x309e43)/0x36ee80*GRID_H,_0x5d0378=(_0x2fa918-_0x1fcf1b)/0x36ee80*GRID_H,_0x35d446=document['createElement']('div');_0x35d446[_0x411fec(0x12c)]=_0x411fec(0x1be),_0x35d446[_0x411fec(0x1df)][_0x411fec(0x1cc)]=_0x4caa02+'px',_0x35d446[_0x411fec(0x1df)][_0x411fec(0x1ff)]=_0x5d0378+'px',_0x35d446[_0x411fec(0x1df)][_0x411fec(0x1ae)]='-'+_0x558ebe+_0x411fec(0xb5)+_0x4caa02+'px',_0x30e105[_0x411fec(0x1b3)](_0x35d446);}}});}if(dateExceptions[_0x4f03e9]==='off'){if(!_0x30e105[_0x2cd1c5(0xab)](_0x2cd1c5(0xf0))){const _0x707f99=document[_0x2cd1c5(0xf5)]('div');_0x707f99[_0x2cd1c5(0x12c)]=_0x2cd1c5(0x10a),_0x707f99[_0x2cd1c5(0x1df)][_0x2cd1c5(0x1ae)]='-'+_0x558ebe+_0x2cd1c5(0x178),_0x30e105['appendChild'](_0x707f99);}}renderEventsForColumn(_0x30e105,_0x4f03e9,_0x38f1f4),updateDayStats(_0x4f03e9);});}function updateAllDayStats(){const _0x246e8d=a2_0x5467ef;document[_0x246e8d(0x1e2)](_0x246e8d(0xb0))[_0x246e8d(0x141)](_0x5d627a=>{const _0x52ad19=_0x246e8d;updateDayStats(_0x5d627a[_0x52ad19(0x201)](_0x52ad19(0x19e)));});}function updateDayStats(_0x3b55fc){const _0x15d5e6=a2_0x5467ef,_0x4b9fcf=document[_0x15d5e6(0x225)]('stat-'+_0x3b55fc);if(!_0x4b9fcf)return;const _0x5d8426=new Date(_0x3b55fc);let _0xdde412=_0x5d8426['getDay']()-0x1;if(_0xdde412===-0x1)_0xdde412=0x6;if(dateExceptions[_0x3b55fc]===_0x15d5e6(0x1b1)){_0x4b9fcf[_0x15d5e6(0x1df)][_0x15d5e6(0x19c)]=_0x15d5e6(0x16a);return;}const _0x4d6ad8=availabilityPattern[_0xdde412]||[],_0x4b3cdf=0x18-_0x4d6ad8[_0x15d5e6(0x165)],_0x32e371=_0x4b3cdf*0x3c,_0x42bd5b=sessions[_0x15d5e6(0x15a)](_0x449a5c=>_0x449a5c[_0x15d5e6(0x21a)]===_0x3b55fc&&_0x449a5c[_0x15d5e6(0x1d4)]!==_0x15d5e6(0xe3));if(_0x42bd5b[_0x15d5e6(0x165)]===0x0){_0x4b9fcf[_0x15d5e6(0x1df)]['display']=_0x15d5e6(0x16a);return;}let _0x53fc40=_0x42bd5b['map'](_0xe67763=>{const _0x35a3d7=_0x15d5e6,[_0x13eead,_0x59e8a1]=_0xe67763['start'][_0x35a3d7(0xf8)](':')[_0x35a3d7(0x1a1)](Number),[_0x31473e,_0x1762f7]=_0xe67763[_0x35a3d7(0x1e9)][_0x35a3d7(0xf8)](':')[_0x35a3d7(0x1a1)](Number);return[_0x13eead*0x3c+_0x59e8a1,_0x31473e*0x3c+_0x1762f7];});_0x53fc40['sort']((_0x256dcb,_0x49d5c3)=>_0x256dcb[0x0]-_0x49d5c3[0x0]);let _0x523ec9=[];if(_0x53fc40[_0x15d5e6(0x165)]>0x0){let _0x1d53fc=_0x53fc40[0x0];for(let _0xb3fc2e=0x1;_0xb3fc2e<_0x53fc40[_0x15d5e6(0x165)];_0xb3fc2e++){_0x53fc40[_0xb3fc2e][0x0]<_0x1d53fc[0x1]?_0x1d53fc[0x1]=Math[_0x15d5e6(0xe1)](_0x1d53fc[0x1],_0x53fc40[_0xb3fc2e][0x1]):(_0x523ec9[_0x15d5e6(0x164)](_0x1d53fc),_0x1d53fc=_0x53fc40[_0xb3fc2e]);}_0x523ec9[_0x15d5e6(0x164)](_0x1d53fc);}let _0x4166cf=0x0;_0x523ec9[_0x15d5e6(0x141)](_0x1b0c75=>_0x4166cf+=_0x1b0c75[0x1]-_0x1b0c75[0x0]),_0x4b9fcf[_0x15d5e6(0x1df)][_0x15d5e6(0x19c)]='flex';const _0x56bad3=_0x4b9fcf[_0x15d5e6(0xab)](_0x15d5e6(0x15f));if(_0x32e371===0x0){_0x56bad3[_0x15d5e6(0x1df)]['width']='100%',_0x56bad3[_0x15d5e6(0x1df)][_0x15d5e6(0xcc)]='var(--acc-red)';return;}const _0x101007=_0x4166cf/_0x32e371*0x64;console[_0x15d5e6(0x110)]('['+_0x3b55fc+']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20'+_0x4b3cdf+'—á,\x20–ó–∞–Ω—è—Ç–æ:\x20'+_0x4166cf+_0x15d5e6(0x126)+_0x101007[_0x15d5e6(0xf4)](0x1)+'%'),_0x101007>0x64?(_0x56bad3[_0x15d5e6(0x1df)][_0x15d5e6(0x1a3)]=_0x15d5e6(0x17b),_0x56bad3['style']['background']=_0x15d5e6(0x217)):(_0x56bad3[_0x15d5e6(0x1df)][_0x15d5e6(0x1a3)]=_0x101007+'%',_0x56bad3['style'][_0x15d5e6(0xcc)]='var(--acc-current)');}function renderEventsForColumn(_0x5d1e38,_0x5054c6,_0x3e32f5){const _0x4bb36c=a2_0x5467ef,_0x172b50=sessions[_0x4bb36c(0x15a)](_0x2ab3fc=>_0x2ab3fc[_0x4bb36c(0x21a)]===_0x5054c6),_0x33f0b5=_0x172b50[_0x4bb36c(0x1a1)](_0x485109=>{const _0x320d62=_0x4bb36c,[_0x326ef5,_0x28956a]=_0x485109['start'][_0x320d62(0xf8)](':')[_0x320d62(0x1a1)](Number),[_0x4e1430,_0x547a09]=_0x485109[_0x320d62(0x1e9)][_0x320d62(0xf8)](':')[_0x320d62(0x1a1)](Number);return{'data':_0x485109,'start':_0x326ef5*0x3c+_0x28956a,'end':_0x4e1430*0x3c+_0x547a09,'colIndex':0x0};});_0x33f0b5[_0x4bb36c(0x1cb)]((_0x3217f0,_0xd757c8)=>{const _0x2db4cb=_0x4bb36c;if(_0x3217f0[_0x2db4cb(0x161)]!==_0xd757c8['start'])return _0x3217f0[_0x2db4cb(0x161)]-_0xd757c8['start'];return _0xd757c8[_0x2db4cb(0x1e9)]-_0xd757c8['start']-(_0x3217f0['end']-_0x3217f0[_0x2db4cb(0x161)]);});const _0x4e23f5=[];_0x33f0b5['forEach'](_0x3b0c21=>{const _0x59f205=_0x4bb36c;let _0xd777a7=![];for(let _0x3d4b25=0x0;_0x3d4b25<_0x4e23f5[_0x59f205(0x165)];_0x3d4b25++){const _0x55f240=_0x4e23f5[_0x3d4b25],_0x3da74c=_0x55f240[_0x55f240[_0x59f205(0x165)]-0x1];if(_0x3b0c21['start']>=_0x3da74c[_0x59f205(0x1e9)]){_0x55f240[_0x59f205(0x164)](_0x3b0c21),_0x3b0c21[_0x59f205(0x139)]=_0x3d4b25,_0xd777a7=!![];break;}}!_0xd777a7&&(_0x4e23f5[_0x59f205(0x164)]([_0x3b0c21]),_0x3b0c21[_0x59f205(0x139)]=_0x4e23f5[_0x59f205(0x165)]-0x1);}),_0x33f0b5[_0x4bb36c(0x141)](_0x23c588=>{const _0x4a8c50=_0x4bb36c;let _0x5386d2=0x0;_0x33f0b5[_0x4a8c50(0x141)](_0x5b5362=>{const _0xac0f1d=_0x4a8c50;if(Math[_0xac0f1d(0xe1)](_0x23c588[_0xac0f1d(0x161)],_0x5b5362[_0xac0f1d(0x161)])<Math[_0xac0f1d(0xc3)](_0x23c588[_0xac0f1d(0x1e9)],_0x5b5362[_0xac0f1d(0x1e9)])){if(_0x5b5362['colIndex']>_0x5386d2)_0x5386d2=_0x5b5362[_0xac0f1d(0x139)];}});const _0x10f644=_0x5386d2+0x1,_0x42484b=0x64/_0x10f644,_0x3464c4=_0x23c588['colIndex']*_0x42484b,_0x504c13=createEventEl(_0x23c588['data']);_0x504c13[_0x4a8c50(0x1df)]['width']='calc('+_0x42484b+_0x4a8c50(0x200),_0x504c13[_0x4a8c50(0x1df)][_0x4a8c50(0x12e)]=_0x4a8c50(0x11e)+_0x3464c4+_0x4a8c50(0x1f2),_0x504c13['style'][_0x4a8c50(0x166)]=0xa+_0x23c588[_0x4a8c50(0x139)],_0x42484b<0x55&&_0x504c13['classList'][_0x4a8c50(0x149)](_0x4a8c50(0x168)),_0x5d1e38['appendChild'](_0x504c13);});}function createEventEl(_0xe214fe){const _0x26dbc8=a2_0x5467ef,[_0x2a001a,_0x5d1187]=_0xe214fe['start'][_0x26dbc8(0xf8)](':')['map'](Number),[_0x2777e1,_0x24304b]=_0xe214fe[_0x26dbc8(0x1e9)]['split'](':')[_0x26dbc8(0x1a1)](Number),_0x5347c7=(_0x2a001a*0x3c+_0x5d1187)/0x3c*GRID_H,_0x2fe59f=(_0x2777e1*0x3c+_0x24304b-(_0x2a001a*0x3c+_0x5d1187))/0x3c*GRID_H,_0x23ae00=document[_0x26dbc8(0xf5)](_0x26dbc8(0x1b4)),_0xd50d5=_0xe214fe[_0x26dbc8(0x1d4)]==='completed'?_0x26dbc8(0x125):'';_0x23ae00[_0x26dbc8(0x12c)]=_0x26dbc8(0x1a9)+_0xd50d5,_0x23ae00['style'][_0x26dbc8(0x1cc)]=_0x5347c7+'px',_0x23ae00[_0x26dbc8(0x1df)][_0x26dbc8(0x1ff)]=Math[_0x26dbc8(0xe1)](_0x2fe59f,0x14)+'px';const _0x5201c9=clients['find'](_0x13ee33=>_0xe214fe[_0x26dbc8(0x1f9)]&&String(_0x13ee33['id'])===String(_0xe214fe[_0x26dbc8(0x1f9)])||_0x13ee33[_0x26dbc8(0xed)]===_0xe214fe[_0x26dbc8(0x1c4)]),_0x98b2=_0x5201c9?_0x5201c9[_0x26dbc8(0x100)]:_0x26dbc8(0x155);_0x23ae00[_0x26dbc8(0x1df)][_0x26dbc8(0x131)]=_0x98b2,_0x23ae00['style'][_0x26dbc8(0x22d)]=hexToRgba(_0x98b2,0.85);let _0x5321f3=_0x26dbc8(0x22a)+_0xe214fe[_0x26dbc8(0x1c4)]+_0x26dbc8(0x18f)+_0xe214fe[_0x26dbc8(0x161)]+_0x26dbc8(0xef)+_0xe214fe[_0x26dbc8(0x1e9)]+_0x26dbc8(0x176);return _0xe214fe[_0x26dbc8(0x1bf)]&&(_0x5321f3+='<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>'),_0xe214fe[_0x26dbc8(0x1d4)]===_0x26dbc8(0x1ee)&&(_0x5321f3+=_0x26dbc8(0x10e)),_0x23ae00[_0x26dbc8(0x207)]=_0x5321f3,_0x23ae00[_0x26dbc8(0x121)]=_0x4c3b0a=>{const _0x38d7a8=_0x26dbc8;_0x4c3b0a[_0x38d7a8(0x1d8)](),openEdit(_0xe214fe);},_0x23ae00;}function attachLongPressHandler(_0x6a677a,_0x11dd8c){const _0x3aa115=a2_0x5467ef;let _0x52e06a=0x0,_0x5b775c=null;const _0x5af820=_0x1ff22e=>{const _0x25d58d=a2_0x577a;if(_0x1ff22e[_0x25d58d(0x1de)][_0x25d58d(0x182)](_0x25d58d(0xe8)))return;isScrolling=![],_0x52e06a=_0x1ff22e[_0x25d58d(0xca)]?_0x1ff22e['touches'][0x0]['clientY']:_0x1ff22e[_0x25d58d(0x11c)],_0x5b775c=setTimeout(()=>{const _0x473db2=_0x25d58d;if(!isScrolling){navigator['vibrate']?.(0x32);const _0x1f1fc4=_0x6a677a[_0x473db2(0xfc)](),_0x5cabdc=Math[_0x473db2(0x169)]((_0x52e06a-_0x1f1fc4[_0x473db2(0x1cc)])/GRID_H);_0x11dd8c[_0x473db2(0x119)](_0x5cabdc,0x0),openAddSession(_0x11dd8c);}},0x1f4);},_0x53f173=()=>{isScrolling=!![],clearTimeout(_0x5b775c);},_0x2003a4=()=>{clearTimeout(_0x5b775c);};_0x6a677a[_0x3aa115(0x1e5)](_0x3aa115(0x159),_0x5af820,{'passive':!![]}),_0x6a677a[_0x3aa115(0x1e5)](_0x3aa115(0x127),_0x53f173,{'passive':!![]}),_0x6a677a[_0x3aa115(0x1e5)](_0x3aa115(0xae),_0x2003a4),_0x6a677a[_0x3aa115(0x1e5)]('mousedown',_0x5af820),_0x6a677a[_0x3aa115(0x1e5)]('mousemove',_0x53f173),_0x6a677a[_0x3aa115(0x1e5)](_0x3aa115(0xfd),_0x2003a4);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x3ca2d5=a2_0x5467ef,_0x335ab0=document[_0x3ca2d5(0x225)](_0x3ca2d5(0xda)),_0x3c0a2a=_0x335ab0[_0x3ca2d5(0xb1)],_0x485015=_0x335ab0['scrollWidth'],_0x49861f=_0x335ab0[_0x3ca2d5(0x1bc)];if(_0x485015-(_0x3c0a2a+_0x49861f)<0x12c){const _0x12a489=endOffset;endOffset+=0xe,renderDayRange(_0x12a489+0x1,endOffset),reRenderBlocks();}if(_0x3c0a2a<0x12c){const _0x4a3f52=startOffset;startOffset-=0xe,prependDays(startOffset,_0x4a3f52-0x1),_0x335ab0[_0x3ca2d5(0xb1)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x3deab9,_0x54a398){const _0x77a214=a2_0x5467ef,_0x4f034b=document[_0x77a214(0x225)](_0x77a214(0x13f)),_0x533a52=document[_0x77a214(0x225)]('gridColumns'),_0x1c2a3e=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x5f4ed4=new Date();_0x5f4ed4[_0x77a214(0x119)](0x0,0x0,0x0,0x0);const _0x11d79a=getLocalDateStr(new Date()),_0x12cad0=document[_0x77a214(0x111)](),_0x3ca4b7=document[_0x77a214(0x111)]();for(let _0x1ac8cc=_0x3deab9;_0x1ac8cc<=_0x54a398;_0x1ac8cc++){const _0x42f958=new Date(_0x5f4ed4);_0x42f958[_0x77a214(0x1dc)](_0x42f958[_0x77a214(0x102)]()+_0x1ac8cc);const _0x18c235=getLocalDateStr(_0x42f958);let _0x36172c=_0x42f958[_0x77a214(0x11a)]()-0x1;if(_0x36172c===-0x1)_0x36172c=0x6;const _0x33bde7=_0x18c235===_0x11d79a,_0xf1ed59=document[_0x77a214(0xf5)](_0x77a214(0x1b4));_0xf1ed59[_0x77a214(0x12c)]=_0x77a214(0x222)+(_0x33bde7?_0x77a214(0xf6):''),_0xf1ed59['id']=_0x77a214(0x143)+_0x18c235,_0xf1ed59['setAttribute'](_0x77a214(0x19e),_0x18c235),_0xf1ed59[_0x77a214(0x207)]=_0x77a214(0x21e)+_0x1c2a3e[_0x36172c]+_0x77a214(0xd2)+_0x42f958['getDate']()+_0x77a214(0x1d0)+_0x18c235+_0x77a214(0x17f),_0xf1ed59[_0x77a214(0x121)]=()=>openDayOptions(_0x18c235,_0x1c2a3e[_0x36172c]+'\x20'+_0x42f958[_0x77a214(0x102)]()),_0x12cad0[_0x77a214(0x1b3)](_0xf1ed59);const _0x1b3f77=document[_0x77a214(0xf5)](_0x77a214(0x1b4));_0x1b3f77[_0x77a214(0x12c)]=_0x77a214(0x198)+(_0x33bde7?_0x77a214(0xf6):''),_0x1b3f77[_0x77a214(0x1ca)](_0x77a214(0x19e),_0x18c235),_0x1b3f77['setAttribute'](_0x77a214(0xc7),_0x36172c),renderEventsForColumn(_0x1b3f77,_0x18c235,_0x36172c),attachLongPressHandler(_0x1b3f77,_0x42f958),_0x3ca4b7[_0x77a214(0x1b3)](_0x1b3f77),updateDayStats(_0x18c235);}_0x4f034b['insertBefore'](_0x12cad0,_0x4f034b[_0x77a214(0x17e)]),_0x533a52['insertBefore'](_0x3ca4b7,_0x533a52[_0x77a214(0xab)]('.day-column'));}function validateAppointment(_0x176d01,_0x49b221,_0x4525d5,_0x529697,_0x1ca0bb){const _0x39f9d6=a2_0x5467ef,[_0x29b0d3,_0x203d95]=_0x49b221[_0x39f9d6(0xf8)](':')[_0x39f9d6(0x1a1)](Number),[_0x59a2c1,_0x1119bd]=_0x4525d5[_0x39f9d6(0xf8)](':')[_0x39f9d6(0x1a1)](Number),_0x103833=_0x29b0d3*0x3c+_0x203d95,_0x2d70fa=_0x59a2c1*0x3c+_0x1119bd,_0x4c0591=String(_0x1ca0bb);let _0x12dcea=![],_0x2afe58='';for(let _0x5f0864 of sessions){if(_0x5f0864[_0x39f9d6(0x21a)]!==_0x176d01)continue;if(_0x5f0864['status']===_0x39f9d6(0xe3))continue;if(_0x529697&&String(_0x5f0864['id'])===String(_0x529697))continue;const [_0x2315dd,_0x494449]=_0x5f0864[_0x39f9d6(0x161)][_0x39f9d6(0xf8)](':')[_0x39f9d6(0x1a1)](Number),[_0x105a92,_0xf459ee]=_0x5f0864[_0x39f9d6(0x1e9)][_0x39f9d6(0xf8)](':')[_0x39f9d6(0x1a1)](Number),_0x531986=_0x2315dd*0x3c+_0x494449,_0x27e2f6=_0x105a92*0x3c+_0xf459ee;if(Math[_0x39f9d6(0xe1)](_0x103833,_0x531986)<Math[_0x39f9d6(0xc3)](_0x2d70fa,_0x27e2f6)){if(_0x5f0864['clientId']&&String(_0x5f0864[_0x39f9d6(0x1f9)])===_0x4c0591)return{'valid':![],'msg':_0x39f9d6(0x150)+_0x5f0864['client']+_0x39f9d6(0x1c8)};_0x12dcea=!![],_0x2afe58=_0x5f0864[_0x39f9d6(0x1c4)];}}if(_0x12dcea)return{'valid':!![],'warning':'–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20'+_0x2afe58};return{'valid':!![]};}function a2_0x577a(_0x12201a,_0x56a321){_0x12201a=_0x12201a-0xab;const _0x40dce5=a2_0x1df9();let _0x3e857e=_0x40dce5[_0x12201a];return _0x3e857e;}function updateDateDisplay(){const _0x414832=a2_0x5467ef,_0x110795=document[_0x414832(0x225)]('inpDate')[_0x414832(0x196)],_0x4b5b57=document[_0x414832(0x225)](_0x414832(0xcb));if(!_0x110795){_0x4b5b57[_0x414832(0xb7)]='';return;}const [_0x44d64c,_0x34b05e,_0x5ba35f]=_0x110795[_0x414832(0xf8)]('-')['map'](Number),_0x43c426=new Date(_0x44d64c,_0x34b05e-0x1,_0x5ba35f),_0x3a5365={'weekday':'long','day':_0x414832(0xf2),'month':'long','year':_0x414832(0xf2)};let _0x106bbf=_0x43c426[_0x414832(0xf7)]('ru-RU',_0x3a5365);_0x106bbf=_0x106bbf[_0x414832(0x18a)](0x0)['toUpperCase']()+_0x106bbf[_0x414832(0xdb)](0x1),_0x4b5b57['textContent']=_0x106bbf;}function autoSetEndTime(){const _0xa0d028=a2_0x5467ef,_0x57a128=document['getElementById']('inpStart')[_0xa0d028(0x196)];if(!_0x57a128)return;const [_0x31f59e,_0x426115]=_0x57a128[_0xa0d028(0xf8)](':')[_0xa0d028(0x1a1)](Number);let _0x5d122a=_0x31f59e+0x1;if(_0x5d122a>0x17)_0x5d122a=0x0;const _0x26ffeb=String(_0x5d122a)[_0xa0d028(0xc4)](0x2,'0')+':'+String(_0x426115)[_0xa0d028(0xc4)](0x2,'0');document[_0xa0d028(0x225)](_0xa0d028(0x1bb))[_0xa0d028(0x196)]=_0x26ffeb;}function populateClientSelect(){const _0x214d94=a2_0x5467ef,_0x259108=document[_0x214d94(0x225)](_0x214d94(0x181));_0x259108[_0x214d94(0x207)]='';if(clients['length']===0x0){const _0x38fd68=document[_0x214d94(0xf5)](_0x214d94(0xc5));_0x38fd68[_0x214d94(0x1ab)]=_0x214d94(0xdd),_0x259108[_0x214d94(0x1b3)](_0x38fd68);return;}clients[_0x214d94(0x141)](_0x1b3579=>{const _0x549dc2=_0x214d94,_0x50bc71=document[_0x549dc2(0xf5)]('option');_0x50bc71['value']=_0x1b3579['name'],_0x50bc71['textContent']=_0x1b3579[_0x549dc2(0xed)],_0x259108[_0x549dc2(0x1b3)](_0x50bc71);});}function openActionSheet(_0x4e3ce5){const _0x7e9932=a2_0x5467ef,_0x566bc4=document['getElementById'](_0x7e9932(0x20c)),_0x3aa2af=document['getElementById'](_0x7e9932(0x16e)),_0x422453=document[_0x7e9932(0x225)](_0x7e9932(0x1ad)),_0x38545e=document[_0x7e9932(0x225)](_0x7e9932(0x1aa)),_0x1ece5b=document[_0x7e9932(0x225)](_0x7e9932(0x189));_0x3aa2af['classList'][_0x7e9932(0x149)]('active'),_0x566bc4[_0x7e9932(0x206)]['add'](_0x7e9932(0xf9));if(_0x4e3ce5===_0x7e9932(0x1b9))_0x422453[_0x7e9932(0xb7)]='–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏',_0x38545e['textContent']='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x38545e[_0x7e9932(0x121)]=()=>{const _0x22996a=_0x7e9932;closeActionSheet(),updateSeriesBatch(_0x22996a(0x1a4),tempSessionData);},_0x1ece5b['textContent']=_0x7e9932(0x1fc),_0x1ece5b[_0x7e9932(0x121)]=()=>{closeActionSheet(),updateSeriesBatch('series',tempSessionData);};else _0x4e3ce5===_0x7e9932(0x162)&&(_0x422453[_0x7e9932(0xb7)]=_0x7e9932(0x113),_0x38545e[_0x7e9932(0xb7)]=_0x7e9932(0x1fd),_0x38545e[_0x7e9932(0x12c)]=_0x7e9932(0x12b),_0x38545e[_0x7e9932(0x121)]=()=>{const _0x43f1ee=_0x7e9932;closeActionSheet(),commitDelete(_0x43f1ee(0x1a4),sessions['find'](_0x2ebdc1=>_0x2ebdc1['id']===editingId));},_0x1ece5b[_0x7e9932(0xb7)]='–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ',_0x1ece5b[_0x7e9932(0x12c)]=_0x7e9932(0x20e),_0x1ece5b[_0x7e9932(0x121)]=()=>{const _0xec1a41=_0x7e9932;closeActionSheet(),commitDelete(_0xec1a41(0x220),sessions[_0xec1a41(0xee)](_0x5bf753=>_0x5bf753['id']===editingId));});}function closeActionSheet(){const _0x399966=a2_0x5467ef;document[_0x399966(0x225)](_0x399966(0x20c))[_0x399966(0x206)][_0x399966(0x1a8)](_0x399966(0xf9)),document[_0x399966(0x225)](_0x399966(0x16e))[_0x399966(0x206)][_0x399966(0x1a8)](_0x399966(0x1a0));}function openSettings(){const _0x5ec050=a2_0x5467ef;openSheet(_0x5ec050(0x112));}function saveCoachSettings(){const _0x1014e4=a2_0x5467ef,_0x5a07a1=document[_0x1014e4(0x225)]('settingCancelWindow')[_0x1014e4(0x196)];localStorage[_0x1014e4(0x21d)](_0x1014e4(0x17d),_0x5a07a1),console['log'](_0x1014e4(0xd6),_0x5a07a1),DataManager[_0x1014e4(0x1bd)](_0x1014e4(0x158),{'settings':{'cancel_window':_0x5a07a1}})[_0x1014e4(0xb9)](_0x2ea573=>{const _0x2a5050=_0x1014e4;console[_0x2a5050(0x215)]('Save\x20settings\x20error:',_0x2ea573),showToast(_0x2a5050(0x1e8),![]);});}function loadCoachSettings(){const _0x51c7ae=a2_0x5467ef,_0x1eb83f=localStorage[_0x51c7ae(0x145)](_0x51c7ae(0x17d));_0x1eb83f&&(document[_0x51c7ae(0x225)](_0x51c7ae(0x221))[_0x51c7ae(0x196)]=_0x1eb83f);}function openRangesSheet(){const _0x507632=a2_0x5467ef;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x507632(0x1e3));}function addRange(){const _0x4cac07=a2_0x5467ef,_0x212ca8=document['getElementById']('rangeStartDate')[_0x4cac07(0x196)],_0x109bde=document['getElementById'](_0x4cac07(0x170))[_0x4cac07(0x196)],_0x22dc36=document[_0x4cac07(0x225)](_0x4cac07(0x1a5))[_0x4cac07(0x196)],_0x1dcbf3=document[_0x4cac07(0x225)](_0x4cac07(0x1a2))[_0x4cac07(0x196)];if(!_0x212ca8||!_0x109bde||!_0x22dc36||!_0x1dcbf3)return alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è');const _0x494dda=_0x212ca8+'T'+_0x109bde,_0x50886b=_0x22dc36+'T'+_0x1dcbf3;if(_0x494dda>=_0x50886b)return alert(_0x4cac07(0xbf));specialRanges['push']({'start':_0x494dda,'end':_0x50886b}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x4cac07(0x18d)](),DataManager[_0x4cac07(0x1bd)]('save_settings',{'settings':{'ranges':specialRanges}});}function deleteRange(_0x3fed40){const _0x237912=a2_0x5467ef;specialRanges[_0x237912(0x153)](_0x3fed40,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x237912(0x18d)](),DataManager[_0x237912(0x1bd)]('save_settings',{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x4f210f=a2_0x5467ef;document['getElementById']('rangeStartDate')[_0x4f210f(0x196)]='',document['getElementById'](_0x4f210f(0x170))[_0x4f210f(0x196)]='00:00',document[_0x4f210f(0x225)](_0x4f210f(0x1a5))[_0x4f210f(0x196)]='',document[_0x4f210f(0x225)]('rangeEndTime')[_0x4f210f(0x196)]=_0x4f210f(0x13b);}function renderRangesList(){const _0x2a4269=a2_0x5467ef,_0x393379=document[_0x2a4269(0x225)](_0x2a4269(0x1c5));_0x393379['innerHTML']='';if(!specialRanges[_0x2a4269(0x165)]){_0x393379[_0x2a4269(0x207)]=_0x2a4269(0xd8);return;}specialRanges[_0x2a4269(0x141)]((_0x548008,_0x5278e7)=>{const _0x4e2dbc=_0x2a4269,_0x12974a=document['createElement']('div');_0x12974a[_0x4e2dbc(0x12c)]='range-item';const _0x26ab28=_0x469e2d=>{const _0x43f097=_0x4e2dbc,_0x523254=new Date(_0x469e2d);return _0x523254[_0x43f097(0x102)]()+'.'+String(_0x523254[_0x43f097(0x177)]()+0x1)['padStart'](0x2,'0')+'\x20'+String(_0x523254['getHours']())[_0x43f097(0xc4)](0x2,'0')+':'+String(_0x523254[_0x43f097(0x1d1)]())[_0x43f097(0xc4)](0x2,'0');};_0x12974a[_0x4e2dbc(0x207)]=_0x4e2dbc(0x12a)+_0x26ab28(_0x548008['start'])+_0x4e2dbc(0x1cd)+_0x26ab28(_0x548008['end'])+_0x4e2dbc(0x115)+_0x5278e7+_0x4e2dbc(0x1e0),_0x393379[_0x4e2dbc(0x1b3)](_0x12974a);});}function scrollToToday(){const _0xc23ceb=a2_0x5467ef,_0x2d4a87=getLocalDateStr(new Date()),_0x2ca818=document[_0xc23ceb(0x225)](_0xc23ceb(0x143)+_0x2d4a87),_0x1f0f37=document[_0xc23ceb(0x225)](_0xc23ceb(0xda));if(_0x2ca818&&_0x1f0f37){const _0xd7b5c0=_0x1f0f37[_0xc23ceb(0x1bc)],_0x3e7f97=_0x2ca818[_0xc23ceb(0x219)],_0x1512ac=_0x2ca818[_0xc23ceb(0x18b)];_0x1f0f37[_0xc23ceb(0xb1)]=_0x3e7f97-_0xd7b5c0/0x2+_0x1512ac/0x2,_0x1f0f37[_0xc23ceb(0xde)]=0x9*GRID_H;}}function onScroll(){const _0x369fd6=a2_0x5467ef,_0x3c465a=document[_0x369fd6(0x225)](_0x369fd6(0xda)),_0x594a6f=document[_0x369fd6(0x1e2)](_0x369fd6(0xb0));for(let _0x7710b7 of _0x594a6f)if(_0x7710b7[_0x369fd6(0x219)]>=_0x3c465a[_0x369fd6(0xb1)]){const _0x2a657d=new Date(_0x7710b7[_0x369fd6(0x201)](_0x369fd6(0x19e)));document[_0x369fd6(0x225)](_0x369fd6(0x1af))['textContent']=_0x2a657d[_0x369fd6(0x214)]('ru',{'month':_0x369fd6(0x1f1)})[_0x369fd6(0x13c)]()+'\x20'+_0x2a657d[_0x369fd6(0xcd)]();break;}}function showToast(_0x8d533f,_0x52a559=![]){const _0x36014c=a2_0x5467ef,_0xfc7bd3=document[_0x36014c(0x225)](_0x36014c(0xf1));_0xfc7bd3[_0x36014c(0x12c)]=_0x36014c(0x117)+(_0x52a559?_0x36014c(0xce):''),document[_0x36014c(0x225)](_0x36014c(0x179))['textContent']=_0x52a559?_0x36014c(0x192):_0x36014c(0xfe),document['getElementById'](_0x36014c(0x1c2))[_0x36014c(0xb7)]=_0x8d533f,_0xfc7bd3[_0x36014c(0x206)][_0x36014c(0x149)](_0x36014c(0xc0)),setTimeout(()=>{const _0xf5958f=_0x36014c;_0xfc7bd3['classList'][_0xf5958f(0x1a8)](_0xf5958f(0xc0));},0xbb8);}function openDayOptions(_0x57c318,_0x36f6f5){const _0x18e7d1=a2_0x5467ef;selectedDayForOptions=_0x57c318,document[_0x18e7d1(0x225)](_0x18e7d1(0x148))['textContent']=_0x36f6f5,openSheet('dayOptionsSheet');}function toggleDayOff(){const _0x19d5ea=a2_0x5467ef;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]='off',reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager['fetchFromServer'](_0x19d5ea(0x158),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x2b93f0=a2_0x5467ef;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x2b93f0(0x18d)](),DataManager[_0x2b93f0(0x1bd)](_0x2b93f0(0x158),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x5bccc2){const _0x33c201=a2_0x5467ef;document[_0x33c201(0x225)](_0x33c201(0x16f))['classList']['add'](_0x33c201(0x1a0)),document[_0x33c201(0x225)](_0x5bccc2)['classList'][_0x33c201(0x149)](_0x33c201(0xf9));}function closeAllSheets(){const _0x3f2c1a=a2_0x5467ef;document[_0x3f2c1a(0x225)](_0x3f2c1a(0x16f))[_0x3f2c1a(0x206)][_0x3f2c1a(0x1a8)](_0x3f2c1a(0x1a0)),document[_0x3f2c1a(0x1e2)](_0x3f2c1a(0x183))[_0x3f2c1a(0x141)](_0x3e77eb=>_0x3e77eb[_0x3f2c1a(0x206)]['remove'](_0x3f2c1a(0xf9)));}function openPatternEditor(){const _0xfb2b5e=a2_0x5467ef;closeAllSheets(),document[_0xfb2b5e(0x225)](_0xfb2b5e(0x1dd))['classList'][_0xfb2b5e(0x149)](_0xfb2b5e(0xf9)),renderPatternEditor();}function closePatternEditor(){const _0x2b2001=a2_0x5467ef;document['getElementById'](_0x2b2001(0x1dd))[_0x2b2001(0x206)][_0x2b2001(0x1a8)](_0x2b2001(0xf9));}function savePattern(){const _0x51e7d3=a2_0x5467ef;document[_0x51e7d3(0x225)](_0x51e7d3(0x1dd))[_0x51e7d3(0x206)][_0x51e7d3(0x1a8)]('open'),reRenderBlocks(),DataManager[_0x51e7d3(0x18d)](),DataManager[_0x51e7d3(0x1bd)]('save_settings',{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x34d2d2=a2_0x5467ef,_0x4171a9=document[_0x34d2d2(0x225)](_0x34d2d2(0x20b));_0x4171a9[_0x34d2d2(0x207)]='';const _0x5469ca=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x179499=document[_0x34d2d2(0xf5)](_0x34d2d2(0x1b4));_0x179499['className']=_0x34d2d2(0xb2),_0x4171a9[_0x34d2d2(0x1b3)](_0x179499),_0x5469ca[_0x34d2d2(0x141)]((_0x2603ff,_0x1e9a38)=>{const _0x167d4a=_0x34d2d2,_0x10f5ab=document[_0x167d4a(0xf5)](_0x167d4a(0x1b4));_0x10f5ab[_0x167d4a(0x12c)]=_0x167d4a(0x160),_0x10f5ab[_0x167d4a(0x207)]=_0x2603ff+_0x167d4a(0x163),_0x10f5ab[_0x167d4a(0x121)]=()=>toggleColPattern(_0x1e9a38),_0x4171a9[_0x167d4a(0x1b3)](_0x10f5ab);});for(let _0x1afff9=0x0;_0x1afff9<0x18;_0x1afff9++){const _0x12d09a=document['createElement'](_0x34d2d2(0x1b4));_0x12d09a[_0x34d2d2(0x12c)]=_0x34d2d2(0x11d),_0x12d09a[_0x34d2d2(0x207)]=_0x34d2d2(0x129)+String(_0x1afff9)[_0x34d2d2(0xc4)](0x2,'0')+_0x34d2d2(0xb3),_0x12d09a[_0x34d2d2(0x121)]=()=>toggleRowPattern(_0x1afff9),_0x4171a9['appendChild'](_0x12d09a);for(let _0x522318=0x0;_0x522318<0x7;_0x522318++){const _0x5c77de=document[_0x34d2d2(0xf5)](_0x34d2d2(0x1b4)),_0x4b2923=(availabilityPattern[_0x522318]||[])[_0x34d2d2(0x1d7)](_0x1afff9),_0x454de9=!_0x4b2923;_0x5c77de[_0x34d2d2(0x12c)]=_0x34d2d2(0x103)+(_0x454de9?_0x34d2d2(0x1a0):''),_0x5c77de['onclick']=()=>toggleSinglePattern(_0x522318,_0x1afff9),_0x4171a9[_0x34d2d2(0x1b3)](_0x5c77de);}}}function toggleSinglePattern(_0x51df0a,_0x2a71bf){const _0x48a797=a2_0x5467ef;if(!availabilityPattern[_0x51df0a])availabilityPattern[_0x51df0a]=[];const _0x258e06=availabilityPattern[_0x51df0a],_0x560981=_0x258e06[_0x48a797(0x15e)](_0x2a71bf);_0x560981===-0x1?_0x258e06[_0x48a797(0x164)](_0x2a71bf):_0x258e06[_0x48a797(0x153)](_0x560981,0x1),renderPatternEditor();}function toggleColPattern(_0x48f4cb){if(!availabilityPattern[_0x48f4cb])availabilityPattern[_0x48f4cb]=[];const _0x219ff0=availabilityPattern[_0x48f4cb];_0x219ff0['length']===0x0?availabilityPattern[_0x48f4cb]=Array['from']({'length':0x18},(_0x1b0811,_0x1634cc)=>_0x1634cc):availabilityPattern[_0x48f4cb]=[],renderPatternEditor();}function toggleRowPattern(_0x27ad6a){const _0x164cfc=a2_0x5467ef;let _0x1253d5=!![];for(let _0x5c5998=0x0;_0x5c5998<0x7;_0x5c5998++){if((availabilityPattern[_0x5c5998]||[])[_0x164cfc(0x1d7)](_0x27ad6a)){_0x1253d5=![];break;}}for(let _0x1b1569=0x0;_0x1b1569<0x7;_0x1b1569++){if(!availabilityPattern[_0x1b1569])availabilityPattern[_0x1b1569]=[];const _0xc80bec=availabilityPattern[_0x1b1569][_0x164cfc(0x15e)](_0x27ad6a);if(_0x1253d5){if(_0xc80bec===-0x1)availabilityPattern[_0x1b1569]['push'](_0x27ad6a);}else{if(_0xc80bec!==-0x1)availabilityPattern[_0x1b1569]['splice'](_0xc80bec,0x1);}}renderPatternEditor();}function renderPCol(_0x5f3b31,_0x16d88a){const _0x2aea55=a2_0x5467ef;_0x5f3b31[_0x2aea55(0x207)]='';const _0x3cd333=Math['round'](_0x5f3b31['offsetLeft']);(availabilityPattern[_0x16d88a]||[])[_0x2aea55(0x141)](_0x4cf6de=>{const _0xda7398=_0x2aea55,_0x5d1189=document[_0xda7398(0xf5)]('div');_0x5d1189[_0xda7398(0x12c)]=_0xda7398(0x197);const _0x4a2e6b=_0x4cf6de*GRID_H;_0x5d1189['style'][_0xda7398(0x1cc)]=_0x4a2e6b+'px',_0x5d1189[_0xda7398(0x1df)]['backgroundPosition']='-'+_0x3cd333+_0xda7398(0xb5)+_0x4a2e6b+'px',_0x5d1189[_0xda7398(0x121)]=_0x26ae03=>{const _0x195c1c=_0xda7398;_0x26ae03[_0x195c1c(0x1d8)](),toggleSinglePattern(_0x16d88a,_0x4cf6de);},_0x5f3b31[_0xda7398(0x1b3)](_0x5d1189);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x94be09=a2_0x5467ef,_0xdceea7=new Date(),_0x19a4f2=document[_0x94be09(0x225)](_0x94be09(0x1e4)),_0x103a93=document[_0x94be09(0x225)](_0x94be09(0xe5)),_0x18e262=(_0xdceea7[_0x94be09(0x187)]()*0x3c+_0xdceea7[_0x94be09(0x1d1)]())/0x3c*GRID_H;_0x19a4f2[_0x94be09(0x1df)][_0x94be09(0x1cc)]=_0x18e262+'px',_0x19a4f2['style'][_0x94be09(0x19c)]='block',_0x103a93[_0x94be09(0xb7)]=String(_0xdceea7['getHours']())['padStart'](0x2,'0')+':'+String(_0xdceea7[_0x94be09(0x1d1)]())[_0x94be09(0xc4)](0x2,'0'),_0x103a93[_0x94be09(0x1df)][_0x94be09(0x19c)]=_0x94be09(0x209),_0x103a93['style'][_0x94be09(0x1cc)]=_0x18e262+'px';}document['addEventListener']('DOMContentLoaded',init);function openDayOptions(_0x20d95d){const _0x19e2b8=a2_0x5467ef;selectedDayForOptions=_0x20d95d;const _0x49dd08=new Date(_0x20d95d),_0x49d9ff={'weekday':_0x19e2b8(0x1f1),'day':_0x19e2b8(0xf2),'month':_0x19e2b8(0x1f1),'year':_0x19e2b8(0xf2)},_0x5eaf8e=_0x49dd08['toLocaleDateString'](_0x19e2b8(0x137),_0x49d9ff);document[_0x19e2b8(0x225)](_0x19e2b8(0x205))[_0x19e2b8(0xb7)]=_0x5eaf8e[_0x19e2b8(0x18a)](0x0)[_0x19e2b8(0x13c)]()+_0x5eaf8e['slice'](0x1);let _0x457613=_0x49dd08[_0x19e2b8(0x11a)]()-0x1;if(_0x457613===-0x1)_0x457613=0x6;const _0x582668=availabilityPattern[_0x457613]||[],_0x36ce39=0x18-_0x582668[_0x19e2b8(0x165)],_0x4ffd59=_0x36ce39*0x3c,_0x597f2c=sessions[_0x19e2b8(0x15a)](_0x184806=>_0x184806[_0x19e2b8(0x21a)]===_0x20d95d&&_0x184806[_0x19e2b8(0x1d4)]!==_0x19e2b8(0xe3));let _0x48f3eb=_0x597f2c[_0x19e2b8(0x1a1)](_0x3e2206=>{const _0x6b8164=_0x19e2b8,[_0x5cd826,_0x28376d]=_0x3e2206['start'][_0x6b8164(0xf8)](':')[_0x6b8164(0x1a1)](Number),[_0x9eb8aa,_0x533b9f]=_0x3e2206['end'][_0x6b8164(0xf8)](':')[_0x6b8164(0x1a1)](Number);return[_0x5cd826*0x3c+_0x28376d,_0x9eb8aa*0x3c+_0x533b9f];});_0x48f3eb[_0x19e2b8(0x1cb)]((_0x2d6c71,_0x36c5a1)=>_0x2d6c71[0x0]-_0x36c5a1[0x0]);let _0x4b85d4=[];if(_0x48f3eb[_0x19e2b8(0x165)]>0x0){let _0x319e45=_0x48f3eb[0x0];for(let _0x56993a=0x1;_0x56993a<_0x48f3eb['length'];_0x56993a++){_0x48f3eb[_0x56993a][0x0]<_0x319e45[0x1]?_0x319e45[0x1]=Math['max'](_0x319e45[0x1],_0x48f3eb[_0x56993a][0x1]):(_0x4b85d4[_0x19e2b8(0x164)](_0x319e45),_0x319e45=_0x48f3eb[_0x56993a]);}_0x4b85d4['push'](_0x319e45);}let _0x238d5a=0x0;_0x4b85d4[_0x19e2b8(0x141)](_0x48c62a=>_0x238d5a+=_0x48c62a[0x1]-_0x48c62a[0x0]),document[_0x19e2b8(0x225)]('doWorkHours')[_0x19e2b8(0xb7)]=formatMinsToHrs(_0x4ffd59),document[_0x19e2b8(0x225)](_0x19e2b8(0x120))['textContent']=formatMinsToHrs(_0x238d5a);const _0x2d1a3d=_0x4ffd59>0x0?Math[_0x19e2b8(0xe9)](_0x238d5a/_0x4ffd59*0x64):0x0,_0x40e3de=document[_0x19e2b8(0x225)](_0x19e2b8(0x20d));_0x40e3de['textContent']=_0x2d1a3d+'%';const _0x180554=document['getElementById']('statLoadCard');if(_0x2d1a3d>0x64)_0x40e3de[_0x19e2b8(0x1df)][_0x19e2b8(0x100)]='var(--acc-red)',_0x180554[_0x19e2b8(0x1df)][_0x19e2b8(0xe7)]=_0x19e2b8(0xfb);else _0x2d1a3d>0x50?(_0x40e3de[_0x19e2b8(0x1df)][_0x19e2b8(0x100)]=_0x19e2b8(0x1db),_0x180554['style']['borderColor']=_0x19e2b8(0x104)):(_0x40e3de[_0x19e2b8(0x1df)][_0x19e2b8(0x100)]=_0x19e2b8(0x15c),_0x180554['style'][_0x19e2b8(0xe7)]='rgba(255,255,255,0.05)');const _0x15a0ab=document[_0x19e2b8(0x225)](_0x19e2b8(0x146));_0x15a0ab[_0x19e2b8(0x207)]='';_0x597f2c[_0x19e2b8(0x165)]===0x0?_0x15a0ab['innerHTML']=_0x19e2b8(0x1f3):(_0x597f2c[_0x19e2b8(0x1cb)]((_0x38b67a,_0x33e2bd)=>_0x38b67a[_0x19e2b8(0x161)][_0x19e2b8(0x1f0)](_0x33e2bd['start'])),_0x597f2c[_0x19e2b8(0x141)](_0x5a81ef=>{const _0x1fada7=_0x19e2b8,_0x3919ad=clients[_0x1fada7(0xee)](_0xe0d432=>_0xe0d432['name']===_0x5a81ef[_0x1fada7(0x1c4)]),_0x51e0b6=_0x3919ad?_0x3919ad[_0x1fada7(0x100)]:_0x1fada7(0x1fa),_0x38914d=_0x5a81ef['status']==='completed',_0x48e658=_0x38914d?'<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>':'',_0x8ccdc9=document['createElement'](_0x1fada7(0x1b4));_0x8ccdc9[_0x1fada7(0x12c)]=_0x1fada7(0xd9),_0x8ccdc9[_0x1fada7(0x1df)][_0x1fada7(0x131)]=_0x51e0b6,_0x8ccdc9[_0x1fada7(0x207)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>'+_0x5a81ef[_0x1fada7(0x161)]+'\x20-\x20'+_0x5a81ef[_0x1fada7(0x1e9)]+_0x1fada7(0x1b2)+_0x5a81ef['client']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x48e658+_0x1fada7(0x193),_0x15a0ab[_0x1fada7(0x1b3)](_0x8ccdc9);}));const _0x43b247=document[_0x19e2b8(0x225)](_0x19e2b8(0x21c)),_0x32da91=dateExceptions[_0x20d95d]===_0x19e2b8(0x1b1);_0x32da91?(_0x43b247['textContent']='–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º',_0x43b247['className']=_0x19e2b8(0x1c9),_0x43b247[_0x19e2b8(0x1df)][_0x19e2b8(0x100)]=_0x19e2b8(0x15c),_0x43b247['style']['background']='rgba(48,\x20209,\x2088,\x200.15)'):(_0x43b247['textContent']='–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º',_0x43b247[_0x19e2b8(0x12c)]=_0x19e2b8(0xaf),_0x43b247[_0x19e2b8(0x1df)]['color']=_0x19e2b8(0x217),_0x43b247[_0x19e2b8(0x1df)][_0x19e2b8(0xcc)]=_0x19e2b8(0x152)),openSheet(_0x19e2b8(0x19a));}let currentAnPeriod='week';function openAnalytics(){const _0x3bc268=a2_0x5467ef,_0x3c4787=document['querySelector']('.period-switch\x20.p-btn');setAnalyticsPeriod(_0x3bc268(0x21f),_0x3c4787),closeAllSheets(),openSheet(_0x3bc268(0x1e7));}function setAnalyticsPeriod(_0x475342,_0x1b7821){const _0xf4d028=a2_0x5467ef;currentAnPeriod=_0x475342,document[_0xf4d028(0x1e2)](_0xf4d028(0xea))[_0xf4d028(0x141)](_0x110de7=>_0x110de7['classList']['remove'](_0xf4d028(0x1a0)));if(_0x1b7821)_0x1b7821[_0xf4d028(0x206)][_0xf4d028(0x149)](_0xf4d028(0x1a0));const _0x18f662=document['getElementById']('anCustomDates');_0x18f662['style'][_0xf4d028(0x19c)]=_0x475342===_0xf4d028(0xe6)?_0xf4d028(0x204):_0xf4d028(0x16a);const _0x2a3e44=new Date();let _0x84b3cd=new Date(),_0x426f78=new Date();if(_0x475342===_0xf4d028(0x21f))_0x84b3cd=getStartOfWeek(_0x2a3e44),_0x426f78=new Date(_0x84b3cd),_0x426f78[_0xf4d028(0x1dc)](_0x426f78[_0xf4d028(0x102)]()+0x6);else{if(_0x475342==='month')_0x84b3cd=new Date(_0x2a3e44[_0xf4d028(0xcd)](),_0x2a3e44[_0xf4d028(0x177)](),0x1),_0x426f78=new Date(_0x2a3e44[_0xf4d028(0xcd)](),_0x2a3e44[_0xf4d028(0x177)]()+0x1,0x0);else{!document[_0xf4d028(0x225)](_0xf4d028(0xff))[_0xf4d028(0x196)]&&(document[_0xf4d028(0x225)](_0xf4d028(0xff))[_0xf4d028(0x196)]=getLocalDateStr(_0x2a3e44),document['getElementById']('anEnd')[_0xf4d028(0x196)]=getLocalDateStr(_0x2a3e44));refreshAnalytics();return;}}document['getElementById']('anStart')[_0xf4d028(0x196)]=getLocalDateStr(_0x84b3cd),document[_0xf4d028(0x225)](_0xf4d028(0xac))[_0xf4d028(0x196)]=getLocalDateStr(_0x426f78),refreshAnalytics();}function refreshAnalytics(){const _0x1ef101=a2_0x5467ef,_0x4ee864=document[_0x1ef101(0x225)]('anStart')[_0x1ef101(0x196)],_0x42cde2=document[_0x1ef101(0x225)](_0x1ef101(0xac))[_0x1ef101(0x196)];if(!_0x4ee864||!_0x42cde2)return;const _0x5b97d6=sessions[_0x1ef101(0x15a)](_0x34c4e7=>_0x34c4e7[_0x1ef101(0x21a)]>=_0x4ee864&&_0x34c4e7['dateStr']<=_0x42cde2&&_0x34c4e7[_0x1ef101(0x1d4)]!==_0x1ef101(0xe3)),_0x5b2edd=_0x5b97d6[_0x1ef101(0x165)],_0x26d184=_0x5b97d6[_0x1ef101(0x15a)](_0x5f291e=>_0x5f291e['status']===_0x1ef101(0x1ee))[_0x1ef101(0x165)],_0x36652f=_0x5b2edd>0x0?Math[_0x1ef101(0xe9)](_0x26d184/_0x5b2edd*0x64):0x0;document[_0x1ef101(0x225)](_0x1ef101(0x124))[_0x1ef101(0xb7)]=_0x36652f+'%',document[_0x1ef101(0x225)](_0x1ef101(0x167))['textContent']=_0x26d184+_0x1ef101(0xad)+_0x5b2edd+_0x1ef101(0x19b);const _0x401b8d=document[_0x1ef101(0x225)]('anDonutCircle'),_0x24af9d=0x2*Math['PI']*0x23,_0xd556b1=_0x24af9d-_0x36652f/0x64*_0x24af9d;_0x401b8d[_0x1ef101(0x1df)][_0x1ef101(0xc2)]=_0xd556b1;const _0x52cfc4={};_0x5b97d6[_0x1ef101(0x141)](_0x5c3bca=>{const _0x5a6c52=_0x1ef101;if(!_0x52cfc4[_0x5c3bca[_0x5a6c52(0x1c4)]]){const _0x1179bf=clients['find'](_0x465303=>_0x465303[_0x5a6c52(0xed)]===_0x5c3bca[_0x5a6c52(0x1c4)]);_0x52cfc4[_0x5c3bca['client']]={'total':0x0,'done':0x0,'color':_0x1179bf?_0x1179bf['color']:'#fff'};}_0x52cfc4[_0x5c3bca[_0x5a6c52(0x1c4)]][_0x5a6c52(0x134)]++;if(_0x5c3bca[_0x5a6c52(0x1d4)]===_0x5a6c52(0x1ee))_0x52cfc4[_0x5c3bca[_0x5a6c52(0x1c4)]][_0x5a6c52(0xe0)]++;});const _0x16a4e3=document[_0x1ef101(0x225)](_0x1ef101(0x154));_0x16a4e3[_0x1ef101(0x207)]='';const _0x29d8a0=Object[_0x1ef101(0x213)](_0x52cfc4)[_0x1ef101(0x1cb)]((_0x23a75,_0x279272)=>_0x279272[0x1][_0x1ef101(0x134)]-_0x23a75[0x1]['total']);if(_0x29d8a0[_0x1ef101(0x165)]===0x0){_0x16a4e3[_0x1ef101(0x207)]='<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>';return;}_0x29d8a0[_0x1ef101(0x141)](([_0x109924,_0x1a91a7])=>{const _0x3cf622=_0x1ef101,_0x1d3d2f=Math['round'](_0x1a91a7[_0x3cf622(0xe0)]/_0x1a91a7[_0x3cf622(0x134)]*0x64),_0xe71bde=document['createElement']('div');_0xe71bde[_0x3cf622(0x12c)]=_0x3cf622(0x1d6),_0xe71bde[_0x3cf622(0x1df)][_0x3cf622(0x131)]=_0x1a91a7[_0x3cf622(0x100)],_0xe71bde['innerHTML']=_0x3cf622(0x1f8)+_0x109924+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x1a91a7[_0x3cf622(0xe0)]+_0x3cf622(0x1ef)+_0x1a91a7[_0x3cf622(0x134)]+_0x3cf622(0x1a6)+_0x1d3d2f+_0x3cf622(0x208),_0x16a4e3[_0x3cf622(0x1b3)](_0xe71bde);});}function formatMinsToHrs(_0x3a91c9){const _0x5e47d5=a2_0x5467ef;if(_0x3a91c9===0x0)return'0';const _0x12a06f=Math[_0x5e47d5(0x169)](_0x3a91c9/0x3c),_0x4c4536=_0x3a91c9%0x3c;if(_0x4c4536===0x0)return _0x12a06f+'—á';return _0x12a06f+'—á\x20'+_0x4c4536+'–º';}