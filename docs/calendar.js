const a2_0x132f75=a2_0x19ed;(function(_0x28d3ed,_0x51063d){const _0x107385=a2_0x19ed,_0x3aa4ab=_0x28d3ed();while(!![]){try{const _0x9f94fa=-parseInt(_0x107385(0x1b9))/0x1*(parseInt(_0x107385(0x164))/0x2)+-parseInt(_0x107385(0x13c))/0x3*(parseInt(_0x107385(0x20d))/0x4)+-parseInt(_0x107385(0x248))/0x5+parseInt(_0x107385(0x24c))/0x6+-parseInt(_0x107385(0x262))/0x7+-parseInt(_0x107385(0x145))/0x8+parseInt(_0x107385(0x1ac))/0x9;if(_0x9f94fa===_0x51063d)break;else _0x3aa4ab['push'](_0x3aa4ab['shift']());}catch(_0x164259){_0x3aa4ab['push'](_0x3aa4ab['shift']());}}}(a2_0x9fed,0x4af53),function initTMA(){const _0x3cc8d8=a2_0x19ed,_0x340e9d=(function(){let _0x3170ec=!![];return function(_0x3d8ca8,_0x1941c8){const _0x198873=_0x3170ec?function(){const _0x1a03e4=a2_0x19ed;if(_0x1941c8){const _0x4aee3e=_0x1941c8[_0x1a03e4(0x265)](_0x3d8ca8,arguments);return _0x1941c8=null,_0x4aee3e;}}:function(){};return _0x3170ec=![],_0x198873;};}()),_0x436625=_0x340e9d(this,function(){const _0x53e191=a2_0x19ed;return _0x436625[_0x53e191(0x22b)]()['search'](_0x53e191(0x23d))[_0x53e191(0x22b)]()['constructor'](_0x436625)[_0x53e191(0x1bc)]('(((.+)+)+)+$');});_0x436625();try{const _0x28f420=window['Telegram']?.['WebApp'];if(!_0x28f420)return;_0x28f420['ready'](),_0x28f420[_0x3cc8d8(0x107)]();try{_0x28f420[_0x3cc8d8(0x234)](_0x3cc8d8(0x1a1)),_0x28f420[_0x3cc8d8(0x17f)]&&_0x28f420['setBackgroundColor'](_0x3cc8d8(0x1a1));}catch(_0x215fdf){console[_0x3cc8d8(0x1fd)]('Error\x20setting\x20color:',_0x215fdf);}try{_0x28f420[_0x3cc8d8(0x110)]&&(_0x28f420[_0x3cc8d8(0x110)]['show'](),_0x28f420[_0x3cc8d8(0x110)]['offClick'](),_0x28f420[_0x3cc8d8(0x110)][_0x3cc8d8(0x25a)](function(){const _0x3a709a=_0x3cc8d8;window[_0x3a709a(0x1cb)][_0x3a709a(0x1e7)]=_0x3a709a(0x22a);}));}catch(_0x33cb61){console[_0x3cc8d8(0x1fd)](_0x3cc8d8(0x19b),_0x33cb61);}try{if(_0x28f420['disableVerticalSwipes'])_0x28f420[_0x3cc8d8(0x12a)]();}catch(_0xbc2fa7){}}catch(_0x2be375){console[_0x3cc8d8(0x1ee)](_0x3cc8d8(0x208),_0x2be375);}}());function isAdmin(){const _0x226d64=a2_0x19ed;try{const _0x1e19ff=Number(window['Telegram']?.['WebApp']?.[_0x226d64(0x226)]?.[_0x226d64(0x12f)]?.['id']);return _0x1e19ff===0xbaf7174;}catch(_0x868bb1){return![];}}const APP_VERSION=a2_0x132f75(0x18b),API_URL='https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec',GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x132f75(0x26b),KEY_SESSIONS=a2_0x132f75(0x112),KEY_SETTINGS=a2_0x132f75(0x1bf);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x4adc17=a2_0x132f75;return window[_0x4adc17(0x264)]?.[_0x4adc17(0x149)]?.[_0x4adc17(0x226)]?.['user']?.['id']||_0x4adc17(0x1a8);},'saveLocally'(){const _0x41b706=a2_0x132f75;try{localStorage['setItem'](KEY_CLIENTS,JSON[_0x41b706(0x19c)](clients)),localStorage[_0x41b706(0x169)](KEY_SESSIONS,JSON[_0x41b706(0x19c)](sessions)),localStorage[_0x41b706(0x169)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x338d9a){console['error'](_0x41b706(0x20f),_0x338d9a);}},'loadLocal'(){const _0xe65893=a2_0x132f75;try{const _0x3a97ed=localStorage[_0xe65893(0x227)](KEY_CLIENTS);if(_0x3a97ed)clients=JSON[_0xe65893(0x1ef)](_0x3a97ed);const _0x12ec9f=localStorage[_0xe65893(0x227)](KEY_SESSIONS);if(_0x12ec9f)sessions=JSON[_0xe65893(0x1ef)](_0x12ec9f);const _0x4edae4=localStorage['getItem'](KEY_SETTINGS);if(_0x4edae4){const _0x1e46b6=JSON[_0xe65893(0x1ef)](_0x4edae4);if(_0x1e46b6['pattern'])availabilityPattern=_0x1e46b6[_0xe65893(0x1a4)];if(_0x1e46b6[_0xe65893(0x25d)])dateExceptions=_0x1e46b6[_0xe65893(0x25d)];if(_0x1e46b6[_0xe65893(0x12d)])specialRanges=_0x1e46b6[_0xe65893(0x12d)];}else{for(let _0x1ba784=0x0;_0x1ba784<0x7;_0x1ba784++)availabilityPattern[_0x1ba784]=Array['from']({'length':0xc},(_0x5004b4,_0x272d83)=>_0x272d83+0x9);}}catch(_0x473c47){console[_0xe65893(0x1ee)](_0xe65893(0x11b),_0x473c47);}},async 'fetchFromServer'(_0x3ea715,_0x296ed5={}){const _0x4a888f=a2_0x132f75,_0x3d8ae0=window[_0x4a888f(0x264)]?.['WebApp'],_0x2163c3={'action':_0x3ea715,'init_data':_0x3d8ae0?.[_0x4a888f(0x166)]||'',..._0x296ed5};try{const _0x522f30=await fetch(API_URL,{'method':'POST','headers':{'Content-Type':_0x4a888f(0x272)},'body':JSON[_0x4a888f(0x19c)](_0x2163c3)}),_0x5cab60=await _0x522f30[_0x4a888f(0x24b)]();if(!_0x5cab60['ok'])throw new Error(_0x5cab60[_0x4a888f(0x1ee)]||_0x4a888f(0x137));return _0x5cab60[_0x4a888f(0x26e)];}catch(_0x724b7b){console[_0x4a888f(0x1ee)](_0x4a888f(0x266)+_0x3ea715+_0x4a888f(0x1f9),_0x724b7b);throw _0x724b7b;}},async 'syncLoad'(){const _0x118428=a2_0x132f75,_0x4a2dad=new Date(),_0x385e77=_0x4a2dad[_0x118428(0x254)]()+'-'+String(_0x4a2dad[_0x118428(0x157)]()+0x1)['padStart'](0x2,'0'),_0x565fba=new Date(_0x4a2dad);_0x565fba[_0x118428(0x1b4)](_0x4a2dad[_0x118428(0x157)]()+0x1);const _0x293111=_0x565fba[_0x118428(0x254)]()+'-'+String(_0x565fba[_0x118428(0x157)]()+0x1)[_0x118428(0x230)](0x2,'0'),_0x168206=Date[_0x118428(0x25b)]();console['log'](_0x118428(0x26f)+_0x385e77+',\x20'+_0x293111+_0x118428(0x243));try{const [_0x2ac2ba,_0x2a8b0c]=await Promise[_0x118428(0x1e2)]([this['fetchFromServer'](_0x118428(0x1ae),{'month_str':_0x385e77}),this[_0x118428(0x26a)](_0x118428(0x1ae),{'month_str':_0x293111})]);if(lastUserActionTime>_0x168206)return console[_0x118428(0x279)](_0x118428(0x148)),![];return this[_0x118428(0x105)](_0x2ac2ba,_0x385e77),this['mergeServerData'](_0x2a8b0c,_0x293111),this[_0x118428(0x217)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x157683){console[_0x118428(0x1ee)](_0x157683);throw _0x157683;}},'mergeServerData'(_0x2f1718,_0x295df4){const _0x276075=a2_0x132f75;if(!_0x2f1718)return;_0x2f1718[_0x276075(0x1d2)]&&Array[_0x276075(0x1c9)](_0x2f1718['clients'])&&(clients=_0x2f1718[_0x276075(0x1d2)]);if(_0x2f1718[_0x276075(0x1df)]){if(_0x2f1718[_0x276075(0x1df)][_0x276075(0x1a4)])availabilityPattern=_0x2f1718[_0x276075(0x1df)]['pattern'];if(_0x2f1718[_0x276075(0x1df)]['exceptions'])dateExceptions=_0x2f1718[_0x276075(0x1df)][_0x276075(0x25d)];if(_0x2f1718[_0x276075(0x1df)][_0x276075(0x12d)])specialRanges=_0x2f1718['settings']['ranges'];if(_0x2f1718['settings'][_0x276075(0x142)]){localStorage[_0x276075(0x169)](_0x276075(0x10e),_0x2f1718[_0x276075(0x1df)]['cancel_window']);const _0x5dd60d=document[_0x276075(0x176)](_0x276075(0x196));if(_0x5dd60d)_0x5dd60d[_0x276075(0x250)]=_0x2f1718[_0x276075(0x1df)][_0x276075(0x142)];}}_0x2f1718[_0x276075(0x1c8)]&&(sessions=sessions[_0x276075(0x21a)](_0x706120=>!_0x706120['dateStr'][_0x276075(0x174)](_0x295df4)),Object[_0x276075(0x1c5)](_0x2f1718['calendar'])[_0x276075(0x21e)](_0x51970b=>{const _0x30b8d7=_0x276075,_0x25c553=_0x2f1718[_0x30b8d7(0x1c8)][_0x51970b];_0x25c553[_0x30b8d7(0x21e)](_0x1a1a86=>{const _0x529b2f=_0x30b8d7,_0x3c1715=clients[_0x529b2f(0x263)](_0x47c5b7=>String(_0x47c5b7['id'])===String(_0x1a1a86['c']));sessions[_0x529b2f(0x205)]({'id':_0x1a1a86['i'],'clientId':_0x1a1a86['c'],'client':_0x3c1715?_0x3c1715[_0x529b2f(0x1af)]:'Unknown','dateStr':_0x295df4+'-'+_0x51970b[_0x529b2f(0x230)](0x2,'0'),'start':_0x1a1a86['s'],'end':_0x1a1a86['e'],'status':_0x1a1a86['st']||_0x529b2f(0x14e),'note':_0x1a1a86['n']||'','seriesId':_0x1a1a86[_0x529b2f(0x21d)]||null});});}));},async 'syncBatch'(_0x3bddc8){const _0x5afe9f=a2_0x132f75,_0x2fe0b0=[...new Set(_0x3bddc8)],_0x373aab=_0x2fe0b0[_0x5afe9f(0x13b)](_0x5cd3af=>{const _0x4fede1=_0x5afe9f,_0x98e1e0=sessions[_0x4fede1(0x21a)](_0xd2de1c=>_0xd2de1c[_0x4fede1(0x186)]===_0x5cd3af&&_0xd2de1c['status']!==_0x4fede1(0x113)),_0x3ce5c5=_0x98e1e0[_0x4fede1(0x13b)](_0x4b870f=>({'i':_0x4b870f['id'],'c':_0x4b870f[_0x4fede1(0x271)],'s':_0x4b870f[_0x4fede1(0x224)],'e':_0x4b870f[_0x4fede1(0x268)],'st':_0x4b870f[_0x4fede1(0x117)],'n':_0x4b870f[_0x4fede1(0x15a)],'sid':_0x4b870f[_0x4fede1(0x239)]}));return{'date':_0x5cd3af,'day_data':_0x3ce5c5};});if(_0x373aab[_0x5afe9f(0x165)]===0x0)return;console[_0x5afe9f(0x1fd)](_0x5afe9f(0x218)+_0x373aab[_0x5afe9f(0x165)]+_0x5afe9f(0x244)),await this['fetchFromServer'](_0x5afe9f(0x1d7),{'changes':_0x373aab});}};async function init(){const _0x5a0c72=a2_0x132f75;DataManager[_0x5a0c72(0x21f)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x5a0c72(0x176)](_0x5a0c72(0x242))[_0x5a0c72(0x1d9)](_0x5a0c72(0x103),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x5a0c72(0x127)]()[_0x5a0c72(0xff)](()=>{const _0x1cca7f=_0x5a0c72;showToast(_0x1cca7f(0x240),!![]);})[_0x5a0c72(0x214)](_0x568c03=>{const _0x131324=_0x5a0c72;showToast(_0x131324(0x151),![]);});}function generateId(){const _0x448114=a2_0x132f75;return Date[_0x448114(0x25b)]()[_0x448114(0x22b)](0x24)+Math[_0x448114(0x219)]()[_0x448114(0x22b)](0x24)[_0x448114(0x147)](0x2,0x5);}function toggleSeriesInput(){const _0x309f08=a2_0x132f75,_0x193317=document[_0x309f08(0x176)](_0x309f08(0x25c))[_0x309f08(0x20a)],_0x479de6=document[_0x309f08(0x176)](_0x309f08(0x27a));_0x479de6[_0x309f08(0x1e4)][_0x309f08(0x201)]=_0x193317?_0x309f08(0x131):_0x309f08(0x171);const _0x3ac19c=document['getElementById']('recurringOptionContainer');_0x3ac19c[_0x309f08(0x1e4)][_0x309f08(0x188)]=_0x193317?'10px\x2010px\x200\x200':_0x309f08(0x1e1);}function openAddSession(_0x11326c){const _0x46d0c4=a2_0x132f75;editingId=null,populateClientSelect(),document[_0x46d0c4(0x176)](_0x46d0c4(0x258))[_0x46d0c4(0x1f8)]='–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å',document[_0x46d0c4(0x176)](_0x46d0c4(0x1b8))[_0x46d0c4(0x1e4)][_0x46d0c4(0x201)]=_0x46d0c4(0x171),document[_0x46d0c4(0x176)](_0x46d0c4(0x197))[_0x46d0c4(0x1e4)][_0x46d0c4(0x201)]=_0x46d0c4(0x171);const _0x33ae8e=document[_0x46d0c4(0x176)](_0x46d0c4(0x232)),_0x4338dd=document[_0x46d0c4(0x176)](_0x46d0c4(0x27a));_0x33ae8e[_0x46d0c4(0x1e4)]['display']=_0x46d0c4(0x167),_0x33ae8e[_0x46d0c4(0x1e4)]['borderRadius']=_0x46d0c4(0x1e1),document[_0x46d0c4(0x176)](_0x46d0c4(0x25c))['checked']=![],document[_0x46d0c4(0x176)](_0x46d0c4(0x119))[_0x46d0c4(0x250)]=0x4,_0x4338dd[_0x46d0c4(0x1e4)][_0x46d0c4(0x201)]=_0x46d0c4(0x171),document['getElementById']('inpDate')[_0x46d0c4(0x250)]=getLocalDateStr(_0x11326c),updateDateDisplay();const _0x4098b7=_0x11326c[_0x46d0c4(0x1a2)]();document['getElementById'](_0x46d0c4(0x12e))[_0x46d0c4(0x250)]=String(_0x4098b7)[_0x46d0c4(0x230)](0x2,'0')+':00',document[_0x46d0c4(0x176)](_0x46d0c4(0x1db))['value']=String(_0x4098b7+0x1)[_0x46d0c4(0x230)](0x2,'0')+_0x46d0c4(0x1d4),openSheet('sessionSheet');}function openEdit(_0x372c26){const _0x278a58=a2_0x132f75;editingId=_0x372c26['id'],populateClientSelect(),document['getElementById'](_0x278a58(0x258))['textContent']=_0x278a58(0x118),document[_0x278a58(0x176)]('btnDelete')[_0x278a58(0x1e4)][_0x278a58(0x201)]=_0x278a58(0x131);const _0x171a3b=document[_0x278a58(0x176)]('btnStatusToggle');_0x171a3b[_0x278a58(0x1e4)][_0x278a58(0x201)]=_0x278a58(0x167);_0x372c26['status']===_0x278a58(0x1c1)?(_0x171a3b[_0x278a58(0x1b1)]='btn-status-toggle\x20undo-mode',_0x171a3b[_0x278a58(0x253)]=_0x278a58(0x1a5)):(_0x171a3b[_0x278a58(0x1b1)]=_0x278a58(0x26c),_0x171a3b[_0x278a58(0x253)]='<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É');const _0xdacfd=!!_0x372c26[_0x278a58(0x239)];document[_0x278a58(0x176)]('recurringOptionContainer')[_0x278a58(0x1e4)][_0x278a58(0x201)]=_0x278a58(0x171),document[_0x278a58(0x176)]('seriesCountContainer')['style']['display']=_0x278a58(0x171),_0xdacfd?(document[_0x278a58(0x176)](_0x278a58(0x27b))['style'][_0x278a58(0x201)]=_0x278a58(0x167),document[_0x278a58(0x176)](_0x278a58(0x27b))['querySelector'](_0x278a58(0x19a))['textContent']='–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫'):document[_0x278a58(0x176)](_0x278a58(0x27b))['style'][_0x278a58(0x201)]='none',document[_0x278a58(0x176)]('inpClient')[_0x278a58(0x250)]=_0x372c26[_0x278a58(0x187)],document[_0x278a58(0x176)](_0x278a58(0x1d8))[_0x278a58(0x250)]=_0x372c26[_0x278a58(0x186)],document['getElementById'](_0x278a58(0x12e))[_0x278a58(0x250)]=_0x372c26['start'],document[_0x278a58(0x176)](_0x278a58(0x1db))[_0x278a58(0x250)]=_0x372c26[_0x278a58(0x268)],document[_0x278a58(0x176)](_0x278a58(0x134))[_0x278a58(0x250)]=_0x372c26['note']||'',updateDateDisplay(),openSheet('sessionSheet');}async function trySaveSession(){const _0x5bb6dd=a2_0x132f75,_0x2d7fa9=document[_0x5bb6dd(0x176)]('inpClient')['value'],_0x5430b7=document[_0x5bb6dd(0x176)](_0x5bb6dd(0x1d8))[_0x5bb6dd(0x250)],_0x492244=document[_0x5bb6dd(0x176)](_0x5bb6dd(0x12e))['value'],_0x2e54f4=document[_0x5bb6dd(0x176)](_0x5bb6dd(0x1db))[_0x5bb6dd(0x250)],_0x39fa77=document['getElementById'](_0x5bb6dd(0x134))[_0x5bb6dd(0x250)],_0x1b365f=document[_0x5bb6dd(0x176)](_0x5bb6dd(0x25c))[_0x5bb6dd(0x20a)];let _0x387ddd=0x4;if(_0x1b365f){const _0x3b6db0=parseInt(document['getElementById'](_0x5bb6dd(0x119))['value']);if(!_0x3b6db0||_0x3b6db0<0x2){showToast(_0x5bb6dd(0x22d),![]);return;}if(_0x3b6db0>0x64){showToast('–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑',![]);return;}_0x387ddd=_0x3b6db0;}const _0x8897f7=clients[_0x5bb6dd(0x263)](_0x4b8cb6=>_0x4b8cb6['name']===_0x2d7fa9);if(!_0x8897f7){showToast(_0x5bb6dd(0x130),![]);return;}const _0x2a6f31=validateAppointment(_0x5430b7,_0x492244,_0x2e54f4,editingId,_0x8897f7['id']);if(!_0x2a6f31[_0x5bb6dd(0x24f)]){showToast(_0x2a6f31[_0x5bb6dd(0x236)],![]);return;}_0x2a6f31[_0x5bb6dd(0x1d1)]&&showToast(_0x2a6f31['warning'],![]);const _0x262608={'client':_0x2d7fa9,'clientId':_0x8897f7['id'],'start':_0x492244,'end':_0x2e54f4,'note':_0x39fa77,'status':_0x5bb6dd(0x14e)},_0x972f62=editingId?sessions[_0x5bb6dd(0x263)](_0x356f31=>_0x356f31['id']===editingId):null;if(_0x972f62&&_0x972f62[_0x5bb6dd(0x239)]){tempSessionData={..._0x262608,'dateStr':_0x5430b7,'id':editingId,'seriesId':_0x972f62[_0x5bb6dd(0x239)]},openActionSheet('save');return;}let _0x5378da=null;if(!editingId)_0x5378da='create';else{if(_0x972f62){if(String(_0x972f62[_0x5bb6dd(0x271)])!==String(_0x8897f7['id']))console[_0x5bb6dd(0x1fd)](_0x5bb6dd(0x20b)),NotificationManager[_0x5bb6dd(0x1bd)]('cancel',_0x972f62),_0x5378da=_0x5bb6dd(0x181);else(_0x972f62[_0x5bb6dd(0x224)]!==_0x492244||_0x972f62[_0x5bb6dd(0x268)]!==_0x2e54f4||_0x972f62[_0x5bb6dd(0x186)]!==_0x5430b7)&&(_0x5378da=_0x5bb6dd(0x1b0));}}if(!editingId&&_0x1b365f){createBatchSeries(_0x262608,_0x5430b7,_0x387ddd),NotificationManager[_0x5bb6dd(0x1bd)]('create',{..._0x262608,'dateStr':_0x5430b7});return;}lastUserActionTime=Date[_0x5bb6dd(0x25b)]();const _0x4651cd={..._0x262608,'dateStr':_0x5430b7,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x4651cd),_0x5378da&&NotificationManager[_0x5bb6dd(0x1bd)](_0x5378da,_0x4651cd);}function toggleSessionStatus(){const _0x5bf9fd=a2_0x132f75;lastUserActionTime=Date[_0x5bf9fd(0x25b)]();const _0x292711=sessions[_0x5bf9fd(0x263)](_0x5be15a=>_0x5be15a['id']===editingId);if(!_0x292711)return;const _0x3b6816=_0x292711[_0x5bf9fd(0x117)]==='completed'?_0x5bf9fd(0x14e):_0x5bf9fd(0x1c1);_0x292711[_0x5bf9fd(0x117)]=_0x3b6816,saveSingleSession(_0x292711),_0x3b6816===_0x5bf9fd(0x1c1)&&NotificationManager['send']('complete',_0x292711),showToast(_0x3b6816===_0x5bf9fd(0x1c1)?_0x5bf9fd(0x1fb):_0x5bf9fd(0x23f),!![]);}function validateAppointment(_0x441394,_0x4a982b,_0x5e20fb,_0x4229fd,_0xf06fff){const _0x432464=a2_0x132f75,[_0x3fdd2f,_0x3e9e94]=_0x4a982b[_0x432464(0x1e5)](':')[_0x432464(0x13b)](Number),[_0x13a651,_0x16b234]=_0x5e20fb[_0x432464(0x1e5)](':')['map'](Number),_0x227afa=_0x3fdd2f*0x3c+_0x3e9e94,_0x36a057=_0x13a651*0x3c+_0x16b234,_0x29ed36=String(_0xf06fff);let _0x38371d=![],_0x48b497='';for(let _0x236990 of sessions){if(_0x236990[_0x432464(0x186)]!==_0x441394)continue;if(_0x236990[_0x432464(0x117)]===_0x432464(0x1e0))continue;if(_0x4229fd&&String(_0x236990['id'])===String(_0x4229fd))continue;const [_0x56402e,_0x553493]=_0x236990[_0x432464(0x224)][_0x432464(0x1e5)](':')['map'](Number),[_0x7ab5f,_0x5625dc]=_0x236990[_0x432464(0x268)]['split'](':')[_0x432464(0x13b)](Number),_0x48e9bd=_0x56402e*0x3c+_0x553493,_0x443b31=_0x7ab5f*0x3c+_0x5625dc;if(Math['max'](_0x227afa,_0x48e9bd)<Math['min'](_0x36a057,_0x443b31)){if(_0x236990['clientId']&&String(_0x236990['clientId'])===_0x29ed36)return{'valid':![],'msg':_0x432464(0x1c7)+_0x236990[_0x432464(0x187)]+_0x432464(0x1a9)};_0x38371d=!![],_0x48b497=_0x236990['client'];}}if(_0x38371d)return{'valid':!![],'warning':'–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20'+_0x48b497};return{'valid':!![]};}function saveSingleSession(_0x5749e2){const _0x2264e7=a2_0x132f75;if(editingId){const _0x3cd0f9=sessions['findIndex'](_0x59ab3f=>_0x59ab3f['id']===editingId);if(_0x3cd0f9!==-0x1)sessions[_0x3cd0f9]=_0x5749e2;}else sessions['push'](_0x5749e2);afterSaveAction([_0x5749e2[_0x2264e7(0x186)]]);}function createBatchSeries(_0x1cd37e,_0xf5fac5,_0x36b7c1){const _0x20b89a=a2_0x132f75,_0x462dc3=generateId(),_0x5cc00a=[],_0x9b999=[];let _0x3662fa=0x0,_0x56253e=new Date(_0xf5fac5);for(let _0x5168d2=0x0;_0x5168d2<_0x36b7c1;_0x5168d2++){const _0x267ff2=getLocalDateStr(_0x56253e),_0x15c331=validateAppointment(_0x267ff2,_0x1cd37e['start'],_0x1cd37e[_0x20b89a(0x268)],null,_0x1cd37e[_0x20b89a(0x271)]);if(!_0x15c331[_0x20b89a(0x24f)])console[_0x20b89a(0x1fd)]('[Series]\x20Skipped\x20'+_0x267ff2+_0x20b89a(0x140)),_0x3662fa++;else{const _0xb977ce={..._0x1cd37e,'id':generateId(),'dateStr':_0x267ff2,'seriesId':_0x462dc3};_0x9b999[_0x20b89a(0x205)](_0xb977ce),_0x5cc00a[_0x20b89a(0x205)](_0x267ff2);}_0x56253e[_0x20b89a(0x202)](_0x56253e[_0x20b89a(0x1d0)]()+0x7);}if(_0x9b999[_0x20b89a(0x165)]===0x0){showToast(_0x20b89a(0x182),![]);return;}sessions['push'](..._0x9b999),lastUserActionTime=Date['now']();let _0x4043b4=_0x20b89a(0x23a)+_0x9b999[_0x20b89a(0x165)];_0x3662fa>0x0&&(_0x4043b4+=_0x20b89a(0x1d6)+_0x3662fa+')'),showToast(_0x4043b4,!![]),afterSaveAction(_0x5cc00a);}function updateSeriesBatch(_0x513373,_0x3b6d09){const _0x3fde39=a2_0x132f75,_0x4a2dfc=[],_0x580ec2=_0x3b6d09[_0x3fde39(0x239)];if(_0x513373===_0x3fde39(0x1a3)){const _0x308e97={..._0x3b6d09,'seriesId':null},_0x4d3f88=sessions[_0x3fde39(0x1eb)](_0x6d6d2c=>_0x6d6d2c['id']===_0x3b6d09['id']);if(_0x4d3f88!==-0x1)sessions[_0x4d3f88]=_0x308e97;_0x4a2dfc[_0x3fde39(0x205)](_0x308e97['dateStr']);}else{if(_0x513373===_0x3fde39(0x158)){const _0x388ae2=_0x3b6d09[_0x3fde39(0x186)];sessions[_0x3fde39(0x21e)]((_0x4cf992,_0x391b0a)=>{const _0x10d7c0=_0x3fde39;_0x4cf992[_0x10d7c0(0x239)]===_0x580ec2&&_0x4cf992['dateStr']>=_0x388ae2&&(sessions[_0x391b0a]={...sessions[_0x391b0a],'start':_0x3b6d09[_0x10d7c0(0x224)],'end':_0x3b6d09[_0x10d7c0(0x268)],'note':_0x3b6d09[_0x10d7c0(0x15a)],'client':_0x3b6d09[_0x10d7c0(0x187)],'clientId':_0x3b6d09[_0x10d7c0(0x271)]},_0x4a2dfc['push'](_0x4cf992[_0x10d7c0(0x186)]));});}}afterSaveAction(_0x4a2dfc);}function tryDeleteSession(){const _0x153195=a2_0x132f75,_0x1bc8e8=sessions['find'](_0x2774cf=>_0x2774cf['id']===editingId);if(!_0x1bc8e8)return;_0x1bc8e8['seriesId']?openActionSheet(_0x153195(0x18c)):commitDelete('single',_0x1bc8e8);}function a2_0x19ed(_0x223850,_0x4733de){_0x223850=_0x223850-0xff;const _0x12eb6d=a2_0x9fed();let _0x1c5c64=_0x12eb6d[_0x223850];return _0x1c5c64;}function commitDelete(_0x4e04eb,_0x20e1e6){const _0x24e9a9=a2_0x132f75;lastUserActionTime=Date['now'](),NotificationManager[_0x24e9a9(0x1bd)]('cancel',_0x20e1e6);const _0x261a52=[];if(_0x4e04eb===_0x24e9a9(0x1a3))sessions=sessions[_0x24e9a9(0x21a)](_0x440d53=>_0x440d53['id']!==_0x20e1e6['id']),_0x261a52[_0x24e9a9(0x205)](_0x20e1e6[_0x24e9a9(0x186)]);else{if(_0x4e04eb===_0x24e9a9(0x158)){const _0x2df52d=_0x20e1e6[_0x24e9a9(0x186)],_0x39ab5d=_0x20e1e6[_0x24e9a9(0x239)];sessions[_0x24e9a9(0x21e)](_0x6d32aa=>{const _0x4c1828=_0x24e9a9;_0x6d32aa[_0x4c1828(0x239)]===_0x39ab5d&&_0x6d32aa[_0x4c1828(0x186)]>=_0x2df52d&&_0x261a52[_0x4c1828(0x205)](_0x6d32aa[_0x4c1828(0x186)]);}),sessions=sessions[_0x24e9a9(0x21a)](_0x3bb1f4=>!(_0x3bb1f4[_0x24e9a9(0x239)]===_0x39ab5d&&_0x3bb1f4[_0x24e9a9(0x186)]>=_0x2df52d));}}afterSaveAction(_0x261a52);}function afterSaveAction(_0x5b4b34){const _0x3d9b4c=a2_0x132f75;DataManager['saveLocally'](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager['syncBatch'](_0x5b4b34)[_0x3d9b4c(0xff)](()=>console[_0x3d9b4c(0x1fd)](_0x3d9b4c(0x150)))[_0x3d9b4c(0x214)](_0x206ab4=>showToast(_0x3d9b4c(0x17b),![]));}function a2_0x9fed(){const _0x8bc46a=['parse','T23:59:59','var(--acc-current)','createElement','option','23:59','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','time-label','calc(','textContent',']\x20Failed:','setAttribute','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','log','overlay','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','day-col-header\x20','display','setDate','btn-primary\x20btn-danger','getTime','push','formatDate','scrollLeft','Critical\x20TMA\x20Error:','toast','checked','[Notify]\x20Client\x20SWAP\x20detected','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','101448HjizMk','anStart','Local\x20Save\x20Error','btn-primary\x20btn-secondary','100%','var(--acc-green)','#0a84ff','catch','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','rangeStartTime','saveLocally','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','random','filter','.day-column','00:00','sid','forEach','loadLocal','off','show','cancel','rgba(100,100,100,0.5)','start','today','initDataUnsafe','getItem','[Notify]\x20Attempting\x20to\x20send:','rgba(255,\x2069,\x2058,\x200.15)','router.html','toString','[Notify]\x20Detected\x20Client\x20ID:','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','text','long','padStart','success','recurringOptionContainer','rangeEndDate','setHeaderColor','T00:00:00','msg','pe-col-header','onclick','seriesId','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','doBusyHours','asTitle','(((.+)+)+)+$','div','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','offsetLeft','matrixViewport','...','\x20days','day-column\x20','width','rgba(255,255,255,0.05)','482880tBvDEZ','includes','headerMonth','json','1353522ggQrCV','settingsSheet','%\x20+\x202px)','valid','value','event-card','add','innerHTML','getFullYear','done','max','active','sheetTitle','var(--acc-orange)','onClick','now','inpRecurring','exceptions','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','toFixed',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','2989182pnAhBa','find','Telegram','apply','[API\x20','save_settings','end','analyticsList','fetchFromServer','uc_clients_v9','btn-status-toggle','setHours','data','[Sync]\x20Loading\x20','btnDayToggle','clientId','text/plain;charset=UTF-8','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','globalTimeLine','colIndex','de-item','px\x200px','rangeStartDate','warn','seriesCountContainer','patternInfoBox','then','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','.day-off-overlay','mouseup','scroll','.period-switch\x20.p-btn','mergeServerData','touchmove','expand','send_notification','asBtnOne','month','%\x20-\x204px)','querySelectorAll','day-off-overlay\x20stripe-bg','uc_settings_cancel_window','mini','BackButton','as-button\x20danger','uc_sessions_v9','deleted','as-button\x20danger\x20bold','rgba(','touchend','status','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','inpSeriesCount','rangeEndTime','Local\x20Load\x20Error','numeric','strokeDashoffset','[Notify]\x20Server\x20Response:','backgroundColor','slice','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','complete','appendChild','</div>','blocked-range-part\x20stripe-bg','syncLoad','clientWidth','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','disableVerticalSwipes','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','doDateHeader','ranges','inpStart','user','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','block','.day-col-header','createDocumentFragment','inpNote','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','actionSheet','Server\x20Error','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getDay','custom','map','9GBRERF','open','sort','round',':\x20Client\x20already\x20booked','Save\x20settings\x20error:','cancel_window','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','4310736ByJtQd','anCustomDates','substr','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','WebApp','background','splice','stopPropagation','[Notify]\x20Network\x20Failed','planned','toastMessage','Batch\x20Sync\x20OK','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','borderLeftColor','rangesSheet','top','getMinutes','getMonth','series','timeLineBadge','note','target','firstChild','zIndex','ru-RU','total','anPercent','toUpperCase','\x20status-completed','offsetWidth','50coomvF','length','initData','flex','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','setItem','color','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','data-day-idx','gridColumns','toast-notification\x20','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','actionSheetOverlay','none','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','blocked-slot\x20stripe-bg','startsWith','[Settings]\x20Cancel\x20window\x20set\x20to:','getElementById','\x20‚Äî\x20','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','patternEditor','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','min','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','header-','setBackgroundColor','null','create','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','range-item','dateStr','client','borderRadius','mousemove','doWorkHours','v9.0-BATCH-CALENDAR','delete','<div\x20class=\x22dch-day\x22>','pe-time-label','touches','dayOptionsTitle','backgroundPosition','getText','sheetDateSubtitle','doLoadPercent','anEnd','settingCancelWindow','btnStatusToggle','<div\x20class=\x22ev-title\x22>','inpClient','.pib-text','Error\x20setting\x20back\x20button:','stringify','indexOf','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','–ò–Ω—Ñ–æ','borderColor','#050505','getHours','single','pattern','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ',':00</span>','insertBefore','guest',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','week','12444705HCDvuZ','toLocaleDateString','init_load','name','update','className','dayOptionsSheet','data-date','setMonth','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','.event-card','closest','btnDelete','6511mKEuvy','[Notify]\x20Error:\x20sessionData\x20is\x20null','toLocaleString','search','send','var(--acc-red)','uc_settings_v9','</span>\x20/\x20','completed','#gridColumns\x20.day-column','height','</b>\x0a\x0a','keys','classList','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','calendar','isArray','remove','location','clientY','–£–¥–∞–ª–µ–Ω–∏–µ','</div><div\x20class=\x22ev-time\x22>','undefined','getDate','warning','clients','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ',':00','charAt','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','batch_sync','inpDate','addEventListener','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','inpEnd','getAttribute','#fff','touchstart','settings','cancelled','10px','all','localeCompare','style','split','floor','href','querySelector','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','findIndex','\x20-\x20','–£—Å–ø–µ—à–Ω–æ','error'];a2_0x9fed=function(){return _0x8bc46a;};return a2_0x9fed();}const NotificationManager={'formatDate'(_0x5beca5){const _0x27ce73=a2_0x132f75,_0x44c571=new Date(_0x5beca5),_0x81a1ea={'weekday':_0x27ce73(0x22f),'day':_0x27ce73(0x11c),'month':'long'};let _0xd1b63b=_0x44c571[_0x27ce73(0x1ad)](_0x27ce73(0x15e),_0x81a1ea);return _0xd1b63b[_0x27ce73(0x1d5)](0x0)[_0x27ce73(0x161)]()+_0xd1b63b[_0x27ce73(0x120)](0x1);},'getText'(_0x20e2dd,_0x57a678){const _0x503770=a2_0x132f75,_0x463512=this[_0x503770(0x206)](_0x57a678[_0x503770(0x186)]);switch(_0x20e2dd){case'create':return _0x503770(0x215)+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0x463512+'\x0a')+(_0x503770(0x17d)+_0x57a678['start']+'\x20‚Äî\x20'+_0x57a678[_0x503770(0x268)]+'\x0a\x0a')+_0x503770(0x25f);case _0x503770(0x1b0):return'<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a'+'–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a'+('<b>‚úÖ\x20'+_0x57a678['start']+_0x503770(0x177)+_0x57a678[_0x503770(0x268)]+_0x503770(0x1c4))+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0x463512);case _0x503770(0x222):return _0x503770(0x1ff)+('–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>'+_0x463512+'\x20('+_0x57a678['start']+_0x503770(0x261));case _0x503770(0x123):return'<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a'+_0x503770(0x1b5)+_0x503770(0x100);default:return'';}},async 'send'(_0x3f7e7d,_0x2f356d){const _0x2637ef=a2_0x132f75;console[_0x2637ef(0x1fd)](_0x2637ef(0x228),_0x3f7e7d,_0x2f356d);if(!_0x2f356d){console[_0x2637ef(0x1ee)](_0x2637ef(0x1ba));return;}const _0x154729=String(_0x2f356d['clientId']);console['log'](_0x2637ef(0x22c),_0x154729);if(!_0x2f356d[_0x2637ef(0x271)]||_0x154729===_0x2637ef(0x1cf)||_0x154729===_0x2637ef(0x180)){console['error'](_0x2637ef(0x1da));if(_0x2f356d['client']){const _0x334dca=clients[_0x2637ef(0x263)](_0xbb9420=>_0xbb9420[_0x2637ef(0x1af)]===_0x2f356d[_0x2637ef(0x187)]);if(_0x334dca)return console[_0x2637ef(0x1fd)](_0x2637ef(0x16f),_0x334dca['id']),this[_0x2637ef(0x1bd)](_0x3f7e7d,{..._0x2f356d,'clientId':_0x334dca['id']});}return;}if(_0x154729[_0x2637ef(0x165)]<0x5){console[_0x2637ef(0x279)]('[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)',_0x154729);return;}const _0x4264dc=this[_0x2637ef(0x192)](_0x3f7e7d,_0x2f356d);if(!_0x4264dc){console[_0x2637ef(0x1ee)]('[Notify]\x20Error:\x20Text\x20generation\x20failed');return;}console['log'](_0x2637ef(0x1aa)+_0x154729+_0x2637ef(0x243)),DataManager['fetchFromServer'](_0x2637ef(0x108),{'chatId':_0x154729,'text':_0x4264dc})[_0x2637ef(0xff)](_0x438d62=>console[_0x2637ef(0x1fd)](_0x2637ef(0x11e),_0x438d62))[_0x2637ef(0x214)](_0x481333=>console[_0x2637ef(0x1ee)](_0x2637ef(0x14d),_0x481333));}};function getLocalDateStr(_0x5e4c0a){const _0x3fbf10=a2_0x132f75,_0x10d64b=_0x5e4c0a[_0x3fbf10(0x254)](),_0x196f26=String(_0x5e4c0a[_0x3fbf10(0x157)]()+0x1)[_0x3fbf10(0x230)](0x2,'0'),_0x30218b=String(_0x5e4c0a[_0x3fbf10(0x1d0)]())[_0x3fbf10(0x230)](0x2,'0');return _0x10d64b+'-'+_0x196f26+'-'+_0x30218b;}function getDateStr(_0x5d2d0e){const _0x3c9d4c=a2_0x132f75,_0xb566b7=new Date();return _0xb566b7['setDate'](_0xb566b7[_0x3c9d4c(0x1d0)]()+_0x5d2d0e),getLocalDateStr(_0xb566b7);}function getStartOfWeek(_0x11198e){const _0x38ca93=a2_0x132f75,_0x4d94c0=new Date(_0x11198e),_0x24098b=_0x4d94c0['getDay'](),_0x434aef=_0x4d94c0[_0x38ca93(0x1d0)]()-_0x24098b+(_0x24098b===0x0?-0x6:0x1);return _0x4d94c0[_0x38ca93(0x202)](_0x434aef),_0x4d94c0[_0x38ca93(0x26d)](0x0,0x0,0x0,0x0),_0x4d94c0;}function hexToRgba(_0xa5bf1f,_0x3e4ab6){const _0x3cd16d=a2_0x132f75;if(!_0xa5bf1f)return _0x3cd16d(0x223);let _0x506649=0x0,_0x2700c=0x0,_0x24b43a=0x0;if(_0xa5bf1f['length']===0x4)_0x506649='0x'+_0xa5bf1f[0x1]+_0xa5bf1f[0x1],_0x2700c='0x'+_0xa5bf1f[0x2]+_0xa5bf1f[0x2],_0x24b43a='0x'+_0xa5bf1f[0x3]+_0xa5bf1f[0x3];else _0xa5bf1f[_0x3cd16d(0x165)]===0x7&&(_0x506649='0x'+_0xa5bf1f[0x1]+_0xa5bf1f[0x2],_0x2700c='0x'+_0xa5bf1f[0x3]+_0xa5bf1f[0x4],_0x24b43a='0x'+_0xa5bf1f[0x5]+_0xa5bf1f[0x6]);return _0x3cd16d(0x115)+ +_0x506649+',\x20'+ +_0x2700c+',\x20'+ +_0x24b43a+',\x20'+_0x3e4ab6+')';}function renderTimeColumn(){const _0x488bea=a2_0x132f75,_0xbd4dea=document[_0x488bea(0x176)]('timeColumn'),_0x159291=document[_0x488bea(0x176)](_0x488bea(0x159));_0xbd4dea[_0x488bea(0x253)]='',_0xbd4dea[_0x488bea(0x124)](_0x159291);for(let _0x30f441=0x0;_0x30f441<0x18;_0x30f441++){const _0x51a3c5=document[_0x488bea(0x1f2)](_0x488bea(0x23e));_0x51a3c5[_0x488bea(0x1b1)]=_0x488bea(0x1f6);if(_0x30f441>0x0)_0x51a3c5[_0x488bea(0x253)]='<span>'+String(_0x30f441)['padStart'](0x2,'0')+_0x488bea(0x1a6);_0xbd4dea[_0x488bea(0x124)](_0x51a3c5);}}function renderDayRange(_0x2451d9,_0x5eb3e8){const _0xd11fdf=a2_0x132f75,_0x327160=document[_0xd11fdf(0x176)]('daysHeaderTrack'),_0x531ff9=document['getElementById'](_0xd11fdf(0x16d)),_0xd44c4e=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0xfed28a=new Date();_0xfed28a['setHours'](0x0,0x0,0x0,0x0);const _0x236d2c=getLocalDateStr(new Date());for(let _0x5ccb45=_0x2451d9;_0x5ccb45<=_0x5eb3e8;_0x5ccb45++){const _0x4c709a=new Date(_0xfed28a);_0x4c709a[_0xd11fdf(0x202)](_0x4c709a['getDate']()+_0x5ccb45);const _0x528af1=getLocalDateStr(_0x4c709a);let _0x2a521c=_0x4c709a[_0xd11fdf(0x139)]()-0x1;if(_0x2a521c===-0x1)_0x2a521c=0x6;const _0x462407=_0x528af1===_0x236d2c,_0x282c12=document[_0xd11fdf(0x1f2)](_0xd11fdf(0x23e));_0x282c12[_0xd11fdf(0x1b1)]=_0xd11fdf(0x200)+(_0x462407?_0xd11fdf(0x225):''),_0x282c12['id']='header-'+_0x528af1,_0x282c12[_0xd11fdf(0x1fa)](_0xd11fdf(0x1b3),_0x528af1),_0x282c12[_0xd11fdf(0x253)]=_0xd11fdf(0x18d)+_0xd44c4e[_0x2a521c]+'</div><div\x20class=\x22dch-num\x22>'+_0x4c709a[_0xd11fdf(0x1d0)]()+_0xd11fdf(0x25e)+_0x528af1+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x282c12['onclick']=()=>openDayOptions(_0x528af1,_0xd44c4e[_0x2a521c]+'\x20'+_0x4c709a[_0xd11fdf(0x1d0)]()),_0x327160['appendChild'](_0x282c12);const _0x4f9626=document[_0xd11fdf(0x1f2)](_0xd11fdf(0x23e));_0x4f9626[_0xd11fdf(0x1b1)]=_0xd11fdf(0x245)+(_0x462407?_0xd11fdf(0x225):''),_0x4f9626[_0xd11fdf(0x1fa)](_0xd11fdf(0x1b3),_0x528af1),_0x4f9626[_0xd11fdf(0x1fa)](_0xd11fdf(0x16c),_0x2a521c),renderEventsForColumn(_0x4f9626,_0x528af1,_0x2a521c),attachLongPressHandler(_0x4f9626,_0x4c709a),_0x531ff9[_0xd11fdf(0x124)](_0x4f9626),updateDayStats(_0x528af1);}}function reRenderBlocks(){const _0x189251=a2_0x132f75;document[_0x189251(0x10c)](_0x189251(0x1c2))[_0x189251(0x21e)](_0x3dec22=>{const _0xbcf3bc=_0x189251;_0x3dec22[_0xbcf3bc(0x10c)](_0xbcf3bc(0x178))[_0xbcf3bc(0x21e)](_0x303d2a=>_0x303d2a[_0xbcf3bc(0x1ca)]());const _0x271c59=_0x3dec22['getAttribute'](_0xbcf3bc(0x1b3)),_0x53d107=parseInt(_0x3dec22[_0xbcf3bc(0x1dc)](_0xbcf3bc(0x16c))),_0x253e7f=Math['round'](_0x3dec22[_0xbcf3bc(0x241)]);(availabilityPattern[_0x53d107]||[])[_0xbcf3bc(0x21e)](_0x1a7c7d=>{const _0x38ce6f=_0xbcf3bc,_0x478e38=document[_0x38ce6f(0x1f2)](_0x38ce6f(0x23e));_0x478e38[_0x38ce6f(0x1b1)]='blocked-slot\x20stripe-bg';const _0x53fa8b=_0x1a7c7d*GRID_H;_0x478e38[_0x38ce6f(0x1e4)]['top']=_0x53fa8b+'px',_0x478e38[_0x38ce6f(0x1e4)][_0x38ce6f(0x191)]='-'+_0x253e7f+'px\x20-'+_0x53fa8b+'px',_0x3dec22[_0x38ce6f(0x124)](_0x478e38);});if(specialRanges&&specialRanges[_0xbcf3bc(0x165)]>0x0){const _0x73f485=new Date(_0x271c59+_0xbcf3bc(0x235))[_0xbcf3bc(0x204)](),_0x4fa3bd=new Date(_0x271c59+_0xbcf3bc(0x1f0))[_0xbcf3bc(0x204)]();specialRanges['forEach'](_0x4430bd=>{const _0x2d1269=_0xbcf3bc,_0x45d75b=new Date(_0x4430bd[_0x2d1269(0x224)])[_0x2d1269(0x204)](),_0xd47f79=new Date(_0x4430bd[_0x2d1269(0x268)])[_0x2d1269(0x204)](),_0x2f3cf6=Math['max'](_0x73f485,_0x45d75b),_0x2f06d6=Math['min'](_0x4fa3bd,_0xd47f79);if(_0x2f3cf6<_0x2f06d6){if(_0x2f3cf6<=_0x73f485&&_0x2f06d6>=_0x4fa3bd-0xea60){if(!_0x3dec22[_0x2d1269(0x1e8)](_0x2d1269(0x101))){const _0x5806a2=document['createElement']('div');_0x5806a2['className']='day-off-overlay\x20stripe-bg',_0x5806a2[_0x2d1269(0x1e4)][_0x2d1269(0x191)]='-'+_0x253e7f+_0x2d1269(0x277),_0x3dec22[_0x2d1269(0x124)](_0x5806a2);}}else{const _0x3dcd9d=(_0x2f3cf6-_0x73f485)/0x36ee80*GRID_H,_0x1e665f=(_0x2f06d6-_0x2f3cf6)/0x36ee80*GRID_H,_0x4de381=document[_0x2d1269(0x1f2)](_0x2d1269(0x23e));_0x4de381[_0x2d1269(0x1b1)]=_0x2d1269(0x126),_0x4de381[_0x2d1269(0x1e4)][_0x2d1269(0x155)]=_0x3dcd9d+'px',_0x4de381['style'][_0x2d1269(0x1c3)]=_0x1e665f+'px',_0x4de381[_0x2d1269(0x1e4)][_0x2d1269(0x191)]='-'+_0x253e7f+'px\x20-'+_0x3dcd9d+'px',_0x3dec22[_0x2d1269(0x124)](_0x4de381);}}});}if(dateExceptions[_0x271c59]==='off'){if(!_0x3dec22[_0xbcf3bc(0x1e8)]('.day-off-overlay')){const _0x11040e=document[_0xbcf3bc(0x1f2)]('div');_0x11040e[_0xbcf3bc(0x1b1)]=_0xbcf3bc(0x10d),_0x11040e[_0xbcf3bc(0x1e4)][_0xbcf3bc(0x191)]='-'+_0x253e7f+_0xbcf3bc(0x277),_0x3dec22[_0xbcf3bc(0x124)](_0x11040e);}}renderEventsForColumn(_0x3dec22,_0x271c59,_0x53d107),updateDayStats(_0x271c59);});}function updateAllDayStats(){const _0x32f687=a2_0x132f75;document['querySelectorAll'](_0x32f687(0x132))['forEach'](_0x4271d0=>{const _0x16d3de=_0x32f687;updateDayStats(_0x4271d0[_0x16d3de(0x1dc)](_0x16d3de(0x1b3)));});}function updateDayStats(_0xbd7916){const _0xfc5be7=a2_0x132f75,_0x24b14e=document['getElementById']('stat-'+_0xbd7916);if(!_0x24b14e)return;const _0x397bbf=new Date(_0xbd7916);let _0x2679dd=_0x397bbf['getDay']()-0x1;if(_0x2679dd===-0x1)_0x2679dd=0x6;if(dateExceptions[_0xbd7916]==='off'){_0x24b14e['style'][_0xfc5be7(0x201)]=_0xfc5be7(0x171);return;}const _0x1e18ee=availabilityPattern[_0x2679dd]||[],_0x5f2501=0x18-_0x1e18ee[_0xfc5be7(0x165)],_0x1aecef=_0x5f2501*0x3c,_0x271dd4=sessions[_0xfc5be7(0x21a)](_0x1d2fc4=>_0x1d2fc4[_0xfc5be7(0x186)]===_0xbd7916&&_0x1d2fc4[_0xfc5be7(0x117)]!==_0xfc5be7(0x1e0));if(_0x271dd4[_0xfc5be7(0x165)]===0x0){_0x24b14e['style'][_0xfc5be7(0x201)]=_0xfc5be7(0x171);return;}let _0x4cc8e0=_0x271dd4['map'](_0x13c524=>{const _0x241ab0=_0xfc5be7,[_0x387d88,_0x38fba4]=_0x13c524[_0x241ab0(0x224)][_0x241ab0(0x1e5)](':')[_0x241ab0(0x13b)](Number),[_0x3c6ffb,_0xb47250]=_0x13c524[_0x241ab0(0x268)][_0x241ab0(0x1e5)](':')['map'](Number);return[_0x387d88*0x3c+_0x38fba4,_0x3c6ffb*0x3c+_0xb47250];});_0x4cc8e0['sort']((_0xd4a472,_0x2dfbb6)=>_0xd4a472[0x0]-_0x2dfbb6[0x0]);let _0x495c14=[];if(_0x4cc8e0[_0xfc5be7(0x165)]>0x0){let _0x2ea578=_0x4cc8e0[0x0];for(let _0x54dd19=0x1;_0x54dd19<_0x4cc8e0[_0xfc5be7(0x165)];_0x54dd19++){_0x4cc8e0[_0x54dd19][0x0]<_0x2ea578[0x1]?_0x2ea578[0x1]=Math[_0xfc5be7(0x256)](_0x2ea578[0x1],_0x4cc8e0[_0x54dd19][0x1]):(_0x495c14[_0xfc5be7(0x205)](_0x2ea578),_0x2ea578=_0x4cc8e0[_0x54dd19]);}_0x495c14[_0xfc5be7(0x205)](_0x2ea578);}let _0x5bd2c0=0x0;_0x495c14[_0xfc5be7(0x21e)](_0x5335a9=>_0x5bd2c0+=_0x5335a9[0x1]-_0x5335a9[0x0]),_0x24b14e[_0xfc5be7(0x1e4)][_0xfc5be7(0x201)]=_0xfc5be7(0x167);const _0x45da67=_0x24b14e[_0xfc5be7(0x1e8)]('.dch-stats-fill');if(_0x1aecef===0x0){_0x45da67[_0xfc5be7(0x1e4)]['width']='100%',_0x45da67['style'][_0xfc5be7(0x14a)]=_0xfc5be7(0x1be);return;}const _0x43999b=_0x5bd2c0/_0x1aecef*0x64;console[_0xfc5be7(0x1fd)]('['+_0xbd7916+_0xfc5be7(0x179)+_0x5f2501+_0xfc5be7(0x1f5)+_0x5bd2c0+_0xfc5be7(0x183)+_0x43999b[_0xfc5be7(0x260)](0x1)+'%'),_0x43999b>0x64?(_0x45da67['style'][_0xfc5be7(0x246)]=_0xfc5be7(0x211),_0x45da67[_0xfc5be7(0x1e4)]['background']=_0xfc5be7(0x1be)):(_0x45da67['style'][_0xfc5be7(0x246)]=_0x43999b+'%',_0x45da67['style'][_0xfc5be7(0x14a)]=_0xfc5be7(0x1f1));}function renderEventsForColumn(_0x3cf7a7,_0x5b24dc,_0x3b580d){const _0x29105f=a2_0x132f75,_0x3c7d38=sessions['filter'](_0x5122fa=>_0x5122fa['dateStr']===_0x5b24dc),_0xcaf0f6=_0x3c7d38['map'](_0x246c14=>{const _0x2b2794=a2_0x19ed,[_0x1f166c,_0x4c344f]=_0x246c14[_0x2b2794(0x224)][_0x2b2794(0x1e5)](':')['map'](Number),[_0x2f7804,_0x25097b]=_0x246c14[_0x2b2794(0x268)][_0x2b2794(0x1e5)](':')['map'](Number);return{'data':_0x246c14,'start':_0x1f166c*0x3c+_0x4c344f,'end':_0x2f7804*0x3c+_0x25097b,'colIndex':0x0};});_0xcaf0f6[_0x29105f(0x13e)]((_0x18c9f2,_0x31f8c3)=>{const _0x6caf5b=_0x29105f;if(_0x18c9f2['start']!==_0x31f8c3[_0x6caf5b(0x224)])return _0x18c9f2[_0x6caf5b(0x224)]-_0x31f8c3[_0x6caf5b(0x224)];return _0x31f8c3[_0x6caf5b(0x268)]-_0x31f8c3[_0x6caf5b(0x224)]-(_0x18c9f2['end']-_0x18c9f2['start']);});const _0x1daa96=[];_0xcaf0f6[_0x29105f(0x21e)](_0x49ac87=>{const _0x12dc7d=_0x29105f;let _0x1c5421=![];for(let _0x145550=0x0;_0x145550<_0x1daa96[_0x12dc7d(0x165)];_0x145550++){const _0x5709cc=_0x1daa96[_0x145550],_0x7a2d4=_0x5709cc[_0x5709cc['length']-0x1];if(_0x49ac87[_0x12dc7d(0x224)]>=_0x7a2d4[_0x12dc7d(0x268)]){_0x5709cc[_0x12dc7d(0x205)](_0x49ac87),_0x49ac87[_0x12dc7d(0x275)]=_0x145550,_0x1c5421=!![];break;}}!_0x1c5421&&(_0x1daa96[_0x12dc7d(0x205)]([_0x49ac87]),_0x49ac87[_0x12dc7d(0x275)]=_0x1daa96[_0x12dc7d(0x165)]-0x1);}),_0xcaf0f6[_0x29105f(0x21e)](_0x5239ab=>{const _0x3de328=_0x29105f;let _0x3af78d=0x0;_0xcaf0f6[_0x3de328(0x21e)](_0x27c56b=>{const _0x5c940a=_0x3de328;if(Math['max'](_0x5239ab['start'],_0x27c56b[_0x5c940a(0x224)])<Math[_0x5c940a(0x17c)](_0x5239ab[_0x5c940a(0x268)],_0x27c56b[_0x5c940a(0x268)])){if(_0x27c56b['colIndex']>_0x3af78d)_0x3af78d=_0x27c56b[_0x5c940a(0x275)];}});const _0x533073=_0x3af78d+0x1,_0x35901a=0x64/_0x533073,_0x379efc=_0x5239ab[_0x3de328(0x275)]*_0x35901a,_0x280c7b=createEventEl(_0x5239ab['data']);_0x280c7b['style']['width']=_0x3de328(0x1f7)+_0x35901a+_0x3de328(0x10b),_0x280c7b['style']['left']='calc('+_0x379efc+_0x3de328(0x24e),_0x280c7b['style'][_0x3de328(0x15d)]=0xa+_0x5239ab[_0x3de328(0x275)],_0x35901a<0x55&&_0x280c7b['classList'][_0x3de328(0x252)](_0x3de328(0x10f)),_0x3cf7a7[_0x3de328(0x124)](_0x280c7b);});}function createEventEl(_0x475f57){const _0x196417=a2_0x132f75,[_0x20c0ac,_0x2b7d2a]=_0x475f57[_0x196417(0x224)][_0x196417(0x1e5)](':')[_0x196417(0x13b)](Number),[_0xf9cda3,_0x214a6d]=_0x475f57[_0x196417(0x268)][_0x196417(0x1e5)](':')[_0x196417(0x13b)](Number),_0x34d6af=(_0x20c0ac*0x3c+_0x2b7d2a)/0x3c*GRID_H,_0x329bdc=(_0xf9cda3*0x3c+_0x214a6d-(_0x20c0ac*0x3c+_0x2b7d2a))/0x3c*GRID_H,_0x45da59=document[_0x196417(0x1f2)](_0x196417(0x23e)),_0x44724a=_0x475f57['status']===_0x196417(0x1c1)?_0x196417(0x162):'';_0x45da59[_0x196417(0x1b1)]=_0x196417(0x251)+_0x44724a,_0x45da59[_0x196417(0x1e4)][_0x196417(0x155)]=_0x34d6af+'px',_0x45da59[_0x196417(0x1e4)]['height']=Math[_0x196417(0x256)](_0x329bdc,0x14)+'px';const _0x246384=clients[_0x196417(0x263)](_0x52bf96=>_0x475f57['clientId']&&String(_0x52bf96['id'])===String(_0x475f57[_0x196417(0x271)])||_0x52bf96[_0x196417(0x1af)]===_0x475f57[_0x196417(0x187)]),_0x10032d=_0x246384?_0x246384[_0x196417(0x16a)]:_0x196417(0x213);_0x45da59[_0x196417(0x1e4)][_0x196417(0x153)]=_0x10032d,_0x45da59[_0x196417(0x1e4)][_0x196417(0x11f)]=hexToRgba(_0x10032d,0.85);let _0x27413c=_0x196417(0x198)+_0x475f57[_0x196417(0x187)]+_0x196417(0x1ce)+_0x475f57[_0x196417(0x224)]+_0x196417(0x1ec)+_0x475f57['end']+_0x196417(0x125);return _0x475f57[_0x196417(0x239)]&&(_0x27413c+=_0x196417(0x1fc)),_0x475f57['status']===_0x196417(0x1c1)&&(_0x27413c+='<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>'),_0x45da59[_0x196417(0x253)]=_0x27413c,_0x45da59['onclick']=_0x5b4c54=>{_0x5b4c54['stopPropagation'](),openEdit(_0x475f57);},_0x45da59;}function attachLongPressHandler(_0xb2210c,_0x1c3288){const _0x49b8f4=a2_0x132f75;let _0xf2ac29=0x0,_0x192ad4=null;const _0x45b26c=_0x22aaa7=>{const _0x1a7f7a=a2_0x19ed;if(_0x22aaa7[_0x1a7f7a(0x15b)][_0x1a7f7a(0x1b7)](_0x1a7f7a(0x1b6)))return;isScrolling=![],_0xf2ac29=_0x22aaa7[_0x1a7f7a(0x18f)]?_0x22aaa7[_0x1a7f7a(0x18f)][0x0][_0x1a7f7a(0x1cc)]:_0x22aaa7[_0x1a7f7a(0x1cc)],_0x192ad4=setTimeout(()=>{const _0x3f1ca6=_0x1a7f7a;if(!isScrolling){navigator['vibrate']?.(0x32);const _0x3e5465=_0xb2210c['getBoundingClientRect'](),_0x2f5b2c=Math[_0x3f1ca6(0x1e6)]((_0xf2ac29-_0x3e5465[_0x3f1ca6(0x155)])/GRID_H);_0x1c3288[_0x3f1ca6(0x26d)](_0x2f5b2c,0x0),openAddSession(_0x1c3288);}},0x1f4);},_0xc001fb=()=>{isScrolling=!![],clearTimeout(_0x192ad4);},_0x4bc6e3=()=>{clearTimeout(_0x192ad4);};_0xb2210c[_0x49b8f4(0x1d9)](_0x49b8f4(0x1de),_0x45b26c,{'passive':!![]}),_0xb2210c[_0x49b8f4(0x1d9)](_0x49b8f4(0x106),_0xc001fb,{'passive':!![]}),_0xb2210c['addEventListener'](_0x49b8f4(0x116),_0x4bc6e3),_0xb2210c[_0x49b8f4(0x1d9)]('mousedown',_0x45b26c),_0xb2210c[_0x49b8f4(0x1d9)](_0x49b8f4(0x189),_0xc001fb),_0xb2210c[_0x49b8f4(0x1d9)](_0x49b8f4(0x102),_0x4bc6e3);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x5517ac=a2_0x132f75,_0x8423b2=document[_0x5517ac(0x176)](_0x5517ac(0x242)),_0x2ceb39=_0x8423b2['scrollLeft'],_0x96e869=_0x8423b2['scrollWidth'],_0x1da308=_0x8423b2['clientWidth'];if(_0x96e869-(_0x2ceb39+_0x1da308)<0x12c){const _0x24bfb7=endOffset;endOffset+=0xe,renderDayRange(_0x24bfb7+0x1,endOffset),reRenderBlocks();}if(_0x2ceb39<0x12c){const _0x3ee81f=startOffset;startOffset-=0xe,prependDays(startOffset,_0x3ee81f-0x1),_0x8423b2[_0x5517ac(0x207)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x2e7ef4,_0x2e70f7){const _0x6a2d38=a2_0x132f75,_0x526f1e=document[_0x6a2d38(0x176)]('daysHeaderTrack'),_0x26df1a=document[_0x6a2d38(0x176)](_0x6a2d38(0x16d)),_0x2dfafd=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x5b6684=new Date();_0x5b6684[_0x6a2d38(0x26d)](0x0,0x0,0x0,0x0);const _0x30405c=getLocalDateStr(new Date()),_0xe487a7=document[_0x6a2d38(0x133)](),_0x2d383b=document['createDocumentFragment']();for(let _0x3380e1=_0x2e7ef4;_0x3380e1<=_0x2e70f7;_0x3380e1++){const _0x49f700=new Date(_0x5b6684);_0x49f700[_0x6a2d38(0x202)](_0x49f700[_0x6a2d38(0x1d0)]()+_0x3380e1);const _0x29a209=getLocalDateStr(_0x49f700);let _0x142f9f=_0x49f700[_0x6a2d38(0x139)]()-0x1;if(_0x142f9f===-0x1)_0x142f9f=0x6;const _0x4a972f=_0x29a209===_0x30405c,_0xaa7e45=document[_0x6a2d38(0x1f2)](_0x6a2d38(0x23e));_0xaa7e45[_0x6a2d38(0x1b1)]=_0x6a2d38(0x200)+(_0x4a972f?_0x6a2d38(0x225):''),_0xaa7e45['id']='header-'+_0x29a209,_0xaa7e45[_0x6a2d38(0x1fa)](_0x6a2d38(0x1b3),_0x29a209),_0xaa7e45[_0x6a2d38(0x253)]=_0x6a2d38(0x18d)+_0x2dfafd[_0x142f9f]+'</div><div\x20class=\x22dch-num\x22>'+_0x49f700[_0x6a2d38(0x1d0)]()+_0x6a2d38(0x25e)+_0x29a209+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0xaa7e45[_0x6a2d38(0x238)]=()=>openDayOptions(_0x29a209,_0x2dfafd[_0x142f9f]+'\x20'+_0x49f700['getDate']()),_0xe487a7[_0x6a2d38(0x124)](_0xaa7e45);const _0x249fed=document[_0x6a2d38(0x1f2)](_0x6a2d38(0x23e));_0x249fed['className']=_0x6a2d38(0x245)+(_0x4a972f?_0x6a2d38(0x225):''),_0x249fed[_0x6a2d38(0x1fa)](_0x6a2d38(0x1b3),_0x29a209),_0x249fed[_0x6a2d38(0x1fa)](_0x6a2d38(0x16c),_0x142f9f),renderEventsForColumn(_0x249fed,_0x29a209,_0x142f9f),attachLongPressHandler(_0x249fed,_0x49f700),_0x2d383b[_0x6a2d38(0x124)](_0x249fed),updateDayStats(_0x29a209);}_0x526f1e[_0x6a2d38(0x1a7)](_0xe487a7,_0x526f1e[_0x6a2d38(0x15c)]),_0x26df1a[_0x6a2d38(0x1a7)](_0x2d383b,_0x26df1a['querySelector'](_0x6a2d38(0x21b)));}function validateAppointment(_0x53beae,_0x5178f4,_0x4329e2,_0x17d0e7,_0x8a4ae7){const _0x2547f3=a2_0x132f75,[_0xe0845f,_0x5beae4]=_0x5178f4['split'](':')['map'](Number),[_0x48e033,_0x55f2d5]=_0x4329e2[_0x2547f3(0x1e5)](':')[_0x2547f3(0x13b)](Number),_0x5955ae=_0xe0845f*0x3c+_0x5beae4,_0x559d2c=_0x48e033*0x3c+_0x55f2d5,_0x3cad42=String(_0x8a4ae7);let _0x518c41=![],_0x307011='';for(let _0x3d1284 of sessions){if(_0x3d1284['dateStr']!==_0x53beae)continue;if(_0x3d1284[_0x2547f3(0x117)]===_0x2547f3(0x1e0))continue;if(_0x17d0e7&&String(_0x3d1284['id'])===String(_0x17d0e7))continue;const [_0x2ae9ff,_0x1b4cdc]=_0x3d1284[_0x2547f3(0x224)][_0x2547f3(0x1e5)](':')[_0x2547f3(0x13b)](Number),[_0xa6e92d,_0x2e1804]=_0x3d1284[_0x2547f3(0x268)]['split'](':')[_0x2547f3(0x13b)](Number),_0x1806ce=_0x2ae9ff*0x3c+_0x1b4cdc,_0x4830bb=_0xa6e92d*0x3c+_0x2e1804;if(Math[_0x2547f3(0x256)](_0x5955ae,_0x1806ce)<Math[_0x2547f3(0x17c)](_0x559d2c,_0x4830bb)){if(_0x3d1284['clientId']&&String(_0x3d1284[_0x2547f3(0x271)])===_0x3cad42)return{'valid':![],'msg':_0x2547f3(0x1c7)+_0x3d1284['client']+_0x2547f3(0x1a9)};_0x518c41=!![],_0x307011=_0x3d1284[_0x2547f3(0x187)];}}if(_0x518c41)return{'valid':!![],'warning':'–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20'+_0x307011};return{'valid':!![]};}function updateDateDisplay(){const _0x1e5e63=a2_0x132f75,_0x448242=document['getElementById'](_0x1e5e63(0x1d8))[_0x1e5e63(0x250)],_0x49fbc8=document['getElementById'](_0x1e5e63(0x193));if(!_0x448242){_0x49fbc8[_0x1e5e63(0x1f8)]='';return;}const [_0x1799a2,_0x32c5d0,_0x46732b]=_0x448242[_0x1e5e63(0x1e5)]('-')[_0x1e5e63(0x13b)](Number),_0x4705b4=new Date(_0x1799a2,_0x32c5d0-0x1,_0x46732b),_0x4b99ce={'weekday':_0x1e5e63(0x22f),'day':_0x1e5e63(0x11c),'month':_0x1e5e63(0x22f),'year':_0x1e5e63(0x11c)};let _0x2ce5e1=_0x4705b4[_0x1e5e63(0x1ad)](_0x1e5e63(0x15e),_0x4b99ce);_0x2ce5e1=_0x2ce5e1[_0x1e5e63(0x1d5)](0x0)[_0x1e5e63(0x161)]()+_0x2ce5e1['slice'](0x1),_0x49fbc8[_0x1e5e63(0x1f8)]=_0x2ce5e1;}function autoSetEndTime(){const _0x407300=a2_0x132f75,_0x10ca79=document[_0x407300(0x176)](_0x407300(0x12e))[_0x407300(0x250)];if(!_0x10ca79)return;const [_0x1d293a,_0x1c37a9]=_0x10ca79['split'](':')['map'](Number);let _0x3fb975=_0x1d293a+0x1;if(_0x3fb975>0x17)_0x3fb975=0x0;const _0x1d2281=String(_0x3fb975)[_0x407300(0x230)](0x2,'0')+':'+String(_0x1c37a9)['padStart'](0x2,'0');document['getElementById']('inpEnd')['value']=_0x1d2281;}function populateClientSelect(){const _0x10ab6d=a2_0x132f75,_0x1496df=document[_0x10ab6d(0x176)](_0x10ab6d(0x199));_0x1496df['innerHTML']='';if(clients[_0x10ab6d(0x165)]===0x0){const _0xbf7c33=document[_0x10ab6d(0x1f2)](_0x10ab6d(0x1f3));_0xbf7c33[_0x10ab6d(0x22e)]=_0x10ab6d(0x168),_0x1496df[_0x10ab6d(0x124)](_0xbf7c33);return;}clients[_0x10ab6d(0x21e)](_0x37ad01=>{const _0x5206a1=_0x10ab6d,_0x134079=document[_0x5206a1(0x1f2)](_0x5206a1(0x1f3));_0x134079[_0x5206a1(0x250)]=_0x37ad01['name'],_0x134079[_0x5206a1(0x1f8)]=_0x37ad01['name'],_0x1496df[_0x5206a1(0x124)](_0x134079);});}function openActionSheet(_0x165d99){const _0x172d64=a2_0x132f75,_0xa5adfe=document[_0x172d64(0x176)]('actionSheet'),_0x3f612c=document[_0x172d64(0x176)](_0x172d64(0x170)),_0x686c7d=document[_0x172d64(0x176)](_0x172d64(0x23c)),_0x1d4895=document[_0x172d64(0x176)](_0x172d64(0x109)),_0x1ec192=document[_0x172d64(0x176)]('asBtnSeries');_0x3f612c[_0x172d64(0x1c6)]['add'](_0x172d64(0x257)),_0xa5adfe['classList']['add'](_0x172d64(0x13d));if(_0x165d99==='save')_0x686c7d[_0x172d64(0x1f8)]=_0x172d64(0x129),_0x1d4895['textContent']=_0x172d64(0x20c),_0x1d4895['onclick']=()=>{closeActionSheet(),updateSeriesBatch('single',tempSessionData);},_0x1ec192['textContent']=_0x172d64(0x1d3),_0x1ec192[_0x172d64(0x238)]=()=>{closeActionSheet(),updateSeriesBatch('series',tempSessionData);};else _0x165d99===_0x172d64(0x18c)&&(_0x686c7d[_0x172d64(0x1f8)]=_0x172d64(0x1cd),_0x1d4895[_0x172d64(0x1f8)]='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x1d4895[_0x172d64(0x1b1)]=_0x172d64(0x111),_0x1d4895[_0x172d64(0x238)]=()=>{const _0x167303=_0x172d64;closeActionSheet(),commitDelete(_0x167303(0x1a3),sessions[_0x167303(0x263)](_0x3c2780=>_0x3c2780['id']===editingId));},_0x1ec192['textContent']=_0x172d64(0x1d3),_0x1ec192['className']=_0x172d64(0x114),_0x1ec192['onclick']=()=>{const _0x9b89a2=_0x172d64;closeActionSheet(),commitDelete(_0x9b89a2(0x158),sessions[_0x9b89a2(0x263)](_0x33281b=>_0x33281b['id']===editingId));});}function closeActionSheet(){const _0x25d0ac=a2_0x132f75;document[_0x25d0ac(0x176)](_0x25d0ac(0x136))[_0x25d0ac(0x1c6)][_0x25d0ac(0x1ca)](_0x25d0ac(0x13d)),document[_0x25d0ac(0x176)](_0x25d0ac(0x170))[_0x25d0ac(0x1c6)][_0x25d0ac(0x1ca)](_0x25d0ac(0x257));}function openSettings(){const _0x45b7d1=a2_0x132f75;openSheet(_0x45b7d1(0x24d));}function saveCoachSettings(){const _0x1342b1=a2_0x132f75,_0x41f152=document['getElementById'](_0x1342b1(0x196))[_0x1342b1(0x250)];localStorage[_0x1342b1(0x169)](_0x1342b1(0x10e),_0x41f152),console['log'](_0x1342b1(0x175),_0x41f152),DataManager['fetchFromServer']('save_settings',{'settings':{'cancel_window':_0x41f152}})[_0x1342b1(0x214)](_0x13f218=>{const _0x5525c0=_0x1342b1;console[_0x5525c0(0x1ee)](_0x5525c0(0x141),_0x13f218),showToast(_0x5525c0(0x143),![]);});}function loadCoachSettings(){const _0x40090e=a2_0x132f75,_0x5deb76=localStorage[_0x40090e(0x227)](_0x40090e(0x10e));_0x5deb76&&(document[_0x40090e(0x176)]('settingCancelWindow')[_0x40090e(0x250)]=_0x5deb76);}function openRangesSheet(){const _0x268966=a2_0x132f75;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x268966(0x154));}function addRange(){const _0x1246a7=a2_0x132f75,_0x2edf25=document[_0x1246a7(0x176)](_0x1246a7(0x278))[_0x1246a7(0x250)],_0x5745f1=document[_0x1246a7(0x176)](_0x1246a7(0x216))[_0x1246a7(0x250)],_0x152470=document[_0x1246a7(0x176)](_0x1246a7(0x233))['value'],_0x3be1ce=document['getElementById']('rangeEndTime')['value'];if(!_0x2edf25||!_0x5745f1||!_0x152470||!_0x3be1ce)return alert(_0x1246a7(0x121));const _0x45bee9=_0x2edf25+'T'+_0x5745f1,_0x1e12b5=_0x152470+'T'+_0x3be1ce;if(_0x45bee9>=_0x1e12b5)return alert(_0x1246a7(0x19e));specialRanges[_0x1246a7(0x205)]({'start':_0x45bee9,'end':_0x1e12b5}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x1246a7(0x217)](),DataManager[_0x1246a7(0x26a)](_0x1246a7(0x267),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x36dc0f){const _0x4bcb31=a2_0x132f75;specialRanges[_0x4bcb31(0x14b)](_0x36dc0f,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x4bcb31(0x217)](),DataManager[_0x4bcb31(0x26a)](_0x4bcb31(0x267),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x61af67=a2_0x132f75;document[_0x61af67(0x176)](_0x61af67(0x278))['value']='',document[_0x61af67(0x176)](_0x61af67(0x216))[_0x61af67(0x250)]=_0x61af67(0x21c),document[_0x61af67(0x176)](_0x61af67(0x233))[_0x61af67(0x250)]='',document[_0x61af67(0x176)](_0x61af67(0x11a))[_0x61af67(0x250)]=_0x61af67(0x1f4);}function renderRangesList(){const _0x26fee1=a2_0x132f75,_0x5a33e7=document[_0x26fee1(0x176)]('rangesList');_0x5a33e7[_0x26fee1(0x253)]='';if(!specialRanges[_0x26fee1(0x165)]){_0x5a33e7[_0x26fee1(0x253)]=_0x26fee1(0x1ea);return;}specialRanges[_0x26fee1(0x21e)]((_0x3d4a21,_0x20bc88)=>{const _0x167430=_0x26fee1,_0x515199=document[_0x167430(0x1f2)](_0x167430(0x23e));_0x515199[_0x167430(0x1b1)]=_0x167430(0x185);const _0x35cf52=_0x3d2013=>{const _0x5d2eb7=_0x167430,_0x1d518e=new Date(_0x3d2013);return _0x1d518e[_0x5d2eb7(0x1d0)]()+'.'+String(_0x1d518e[_0x5d2eb7(0x157)]()+0x1)[_0x5d2eb7(0x230)](0x2,'0')+'\x20'+String(_0x1d518e['getHours']())[_0x5d2eb7(0x230)](0x2,'0')+':'+String(_0x1d518e['getMinutes']())[_0x5d2eb7(0x230)](0x2,'0');};_0x515199[_0x167430(0x253)]=_0x167430(0x144)+_0x35cf52(_0x3d4a21['start'])+_0x167430(0x177)+_0x35cf52(_0x3d4a21[_0x167430(0x268)])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange('+_0x20bc88+')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>',_0x5a33e7[_0x167430(0x124)](_0x515199);});}function scrollToToday(){const _0x3d3c4e=a2_0x132f75,_0x16f88d=getLocalDateStr(new Date()),_0x413ff0=document[_0x3d3c4e(0x176)](_0x3d3c4e(0x17e)+_0x16f88d),_0x5792ca=document[_0x3d3c4e(0x176)](_0x3d3c4e(0x242));if(_0x413ff0&&_0x5792ca){const _0x2d4e70=_0x5792ca[_0x3d3c4e(0x128)],_0x1ea881=_0x413ff0[_0x3d3c4e(0x241)],_0x4d4cfa=_0x413ff0[_0x3d3c4e(0x163)];_0x5792ca[_0x3d3c4e(0x207)]=_0x1ea881-_0x2d4e70/0x2+_0x4d4cfa/0x2,_0x5792ca['scrollTop']=0x9*GRID_H;}}function onScroll(){const _0xc08745=a2_0x132f75,_0x8859ac=document[_0xc08745(0x176)](_0xc08745(0x242)),_0x3f60ca=document['querySelectorAll'](_0xc08745(0x132));for(let _0x1488f5 of _0x3f60ca)if(_0x1488f5['offsetLeft']>=_0x8859ac[_0xc08745(0x207)]){const _0x2a95f6=new Date(_0x1488f5[_0xc08745(0x1dc)]('data-date'));document[_0xc08745(0x176)](_0xc08745(0x24a))['textContent']=_0x2a95f6[_0xc08745(0x1bb)]('ru',{'month':_0xc08745(0x22f)})[_0xc08745(0x161)]()+'\x20'+_0x2a95f6[_0xc08745(0x254)]();break;}}function showToast(_0x1916ec,_0x2b1074=![]){const _0x33a459=a2_0x132f75,_0x49a776=document[_0x33a459(0x176)](_0x33a459(0x209));_0x49a776[_0x33a459(0x1b1)]=_0x33a459(0x16e)+(_0x2b1074?_0x33a459(0x231):''),document[_0x33a459(0x176)]('toastTitle')[_0x33a459(0x1f8)]=_0x2b1074?_0x33a459(0x1ed):_0x33a459(0x19f),document[_0x33a459(0x176)](_0x33a459(0x14f))[_0x33a459(0x1f8)]=_0x1916ec,_0x49a776[_0x33a459(0x1c6)][_0x33a459(0x252)]('show'),setTimeout(()=>{const _0x2f161d=_0x33a459;_0x49a776[_0x2f161d(0x1c6)][_0x2f161d(0x1ca)](_0x2f161d(0x221));},0xbb8);}function openDayOptions(_0x7c9073,_0x19ccef){const _0xe3876b=a2_0x132f75;selectedDayForOptions=_0x7c9073,document[_0xe3876b(0x176)](_0xe3876b(0x190))[_0xe3876b(0x1f8)]=_0x19ccef,openSheet(_0xe3876b(0x1b2));}function toggleDayOff(){const _0x5a1ab=a2_0x132f75;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x5a1ab(0x220),reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager[_0x5a1ab(0x26a)](_0x5a1ab(0x267),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager['fetchFromServer']('save_settings',{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x17d7be){const _0x33fc1e=a2_0x132f75;document[_0x33fc1e(0x176)](_0x33fc1e(0x1fe))['classList'][_0x33fc1e(0x252)](_0x33fc1e(0x257)),document[_0x33fc1e(0x176)](_0x17d7be)[_0x33fc1e(0x1c6)][_0x33fc1e(0x252)](_0x33fc1e(0x13d));}function closeAllSheets(){const _0x471a28=a2_0x132f75;document[_0x471a28(0x176)](_0x471a28(0x1fe))['classList'][_0x471a28(0x1ca)](_0x471a28(0x257)),document[_0x471a28(0x10c)]('.sheet')[_0x471a28(0x21e)](_0x57ee53=>_0x57ee53['classList'][_0x471a28(0x1ca)](_0x471a28(0x13d)));}function openPatternEditor(){const _0x1a0c7e=a2_0x132f75;closeAllSheets(),document['getElementById']('patternEditor')[_0x1a0c7e(0x1c6)][_0x1a0c7e(0x252)]('open'),renderPatternEditor();}function closePatternEditor(){const _0x5df874=a2_0x132f75;document[_0x5df874(0x176)](_0x5df874(0x17a))[_0x5df874(0x1c6)][_0x5df874(0x1ca)](_0x5df874(0x13d));}function savePattern(){const _0x1fddcb=a2_0x132f75;document['getElementById'](_0x1fddcb(0x17a))[_0x1fddcb(0x1c6)][_0x1fddcb(0x1ca)]('open'),reRenderBlocks(),DataManager[_0x1fddcb(0x217)](),DataManager[_0x1fddcb(0x26a)](_0x1fddcb(0x267),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x587de6=a2_0x132f75,_0x503f93=document[_0x587de6(0x176)]('peGrid');_0x503f93[_0x587de6(0x253)]='';const _0x22940b=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x245687=document[_0x587de6(0x1f2)](_0x587de6(0x23e));_0x245687[_0x587de6(0x1b1)]='pe-corner',_0x503f93[_0x587de6(0x124)](_0x245687),_0x22940b['forEach']((_0x347d7d,_0xfcb79f)=>{const _0x506b47=_0x587de6,_0x2c7d5e=document[_0x506b47(0x1f2)](_0x506b47(0x23e));_0x2c7d5e[_0x506b47(0x1b1)]=_0x506b47(0x237),_0x2c7d5e[_0x506b47(0x253)]=_0x347d7d+'\x20<span\x20class=\x22arrow\x22>‚Üì</span>',_0x2c7d5e[_0x506b47(0x238)]=()=>toggleColPattern(_0xfcb79f),_0x503f93[_0x506b47(0x124)](_0x2c7d5e);});for(let _0xb12cce=0x0;_0xb12cce<0x18;_0xb12cce++){const _0x153562=document['createElement'](_0x587de6(0x23e));_0x153562[_0x587de6(0x1b1)]=_0x587de6(0x18e),_0x153562[_0x587de6(0x253)]=_0x587de6(0x12b)+String(_0xb12cce)[_0x587de6(0x230)](0x2,'0')+_0x587de6(0x1d4),_0x153562['onclick']=()=>toggleRowPattern(_0xb12cce),_0x503f93[_0x587de6(0x124)](_0x153562);for(let _0x124dbb=0x0;_0x124dbb<0x7;_0x124dbb++){const _0x566d55=document[_0x587de6(0x1f2)](_0x587de6(0x23e)),_0x23c042=(availabilityPattern[_0x124dbb]||[])[_0x587de6(0x249)](_0xb12cce),_0x3d5995=!_0x23c042;_0x566d55['className']='pe-cell\x20'+(_0x3d5995?_0x587de6(0x257):''),_0x566d55['onclick']=()=>toggleSinglePattern(_0x124dbb,_0xb12cce),_0x503f93[_0x587de6(0x124)](_0x566d55);}}}function toggleSinglePattern(_0x802e4f,_0x53e00e){const _0xbffb64=a2_0x132f75;if(!availabilityPattern[_0x802e4f])availabilityPattern[_0x802e4f]=[];const _0x3f2be7=availabilityPattern[_0x802e4f],_0x246012=_0x3f2be7[_0xbffb64(0x19d)](_0x53e00e);_0x246012===-0x1?_0x3f2be7[_0xbffb64(0x205)](_0x53e00e):_0x3f2be7[_0xbffb64(0x14b)](_0x246012,0x1),renderPatternEditor();}function toggleColPattern(_0x375594){if(!availabilityPattern[_0x375594])availabilityPattern[_0x375594]=[];const _0x41704=availabilityPattern[_0x375594];_0x41704['length']===0x0?availabilityPattern[_0x375594]=Array['from']({'length':0x18},(_0x419df2,_0x482aef)=>_0x482aef):availabilityPattern[_0x375594]=[],renderPatternEditor();}function toggleRowPattern(_0x57cbdb){const _0x2a52e4=a2_0x132f75;let _0x9ccf56=!![];for(let _0x1bc0ca=0x0;_0x1bc0ca<0x7;_0x1bc0ca++){if((availabilityPattern[_0x1bc0ca]||[])[_0x2a52e4(0x249)](_0x57cbdb)){_0x9ccf56=![];break;}}for(let _0x126aaf=0x0;_0x126aaf<0x7;_0x126aaf++){if(!availabilityPattern[_0x126aaf])availabilityPattern[_0x126aaf]=[];const _0x8728ff=availabilityPattern[_0x126aaf]['indexOf'](_0x57cbdb);if(_0x9ccf56){if(_0x8728ff===-0x1)availabilityPattern[_0x126aaf][_0x2a52e4(0x205)](_0x57cbdb);}else{if(_0x8728ff!==-0x1)availabilityPattern[_0x126aaf]['splice'](_0x8728ff,0x1);}}renderPatternEditor();}function renderPCol(_0x22eeff,_0x4080a6){const _0x49f314=a2_0x132f75;_0x22eeff['innerHTML']='';const _0x2f670e=Math[_0x49f314(0x13f)](_0x22eeff[_0x49f314(0x241)]);(availabilityPattern[_0x4080a6]||[])[_0x49f314(0x21e)](_0x3c335b=>{const _0xc19c3b=_0x49f314,_0x2b33d0=document['createElement'](_0xc19c3b(0x23e));_0x2b33d0[_0xc19c3b(0x1b1)]=_0xc19c3b(0x173);const _0x3e0a6b=_0x3c335b*GRID_H;_0x2b33d0['style'][_0xc19c3b(0x155)]=_0x3e0a6b+'px',_0x2b33d0[_0xc19c3b(0x1e4)][_0xc19c3b(0x191)]='-'+_0x2f670e+'px\x20-'+_0x3e0a6b+'px',_0x2b33d0[_0xc19c3b(0x238)]=_0x4d11d7=>{const _0x32d760=_0xc19c3b;_0x4d11d7[_0x32d760(0x14c)](),toggleSinglePattern(_0x4080a6,_0x3c335b);},_0x22eeff[_0xc19c3b(0x124)](_0x2b33d0);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x47e807=a2_0x132f75,_0x4e15f7=new Date(),_0x38b8b3=document['getElementById'](_0x47e807(0x274)),_0x270e30=document[_0x47e807(0x176)](_0x47e807(0x159)),_0x528e40=(_0x4e15f7['getHours']()*0x3c+_0x4e15f7[_0x47e807(0x156)]())/0x3c*GRID_H;_0x38b8b3[_0x47e807(0x1e4)][_0x47e807(0x155)]=_0x528e40+'px',_0x38b8b3[_0x47e807(0x1e4)][_0x47e807(0x201)]=_0x47e807(0x131),_0x270e30[_0x47e807(0x1f8)]=String(_0x4e15f7[_0x47e807(0x1a2)]())[_0x47e807(0x230)](0x2,'0')+':'+String(_0x4e15f7[_0x47e807(0x156)]())['padStart'](0x2,'0'),_0x270e30[_0x47e807(0x1e4)][_0x47e807(0x201)]=_0x47e807(0x131),_0x270e30[_0x47e807(0x1e4)]['top']=_0x528e40+'px';}document[a2_0x132f75(0x1d9)]('DOMContentLoaded',init);function openDayOptions(_0x1b298a){const _0x552029=a2_0x132f75;selectedDayForOptions=_0x1b298a;const _0x4a49d0=new Date(_0x1b298a),_0x3e49a8={'weekday':_0x552029(0x22f),'day':_0x552029(0x11c),'month':_0x552029(0x22f),'year':'numeric'},_0x57c2a4=_0x4a49d0[_0x552029(0x1ad)](_0x552029(0x15e),_0x3e49a8);document['getElementById'](_0x552029(0x12c))['textContent']=_0x57c2a4[_0x552029(0x1d5)](0x0)[_0x552029(0x161)]()+_0x57c2a4['slice'](0x1);let _0x1f893d=_0x4a49d0[_0x552029(0x139)]()-0x1;if(_0x1f893d===-0x1)_0x1f893d=0x6;const _0x277373=availabilityPattern[_0x1f893d]||[],_0x5ec639=0x18-_0x277373[_0x552029(0x165)],_0x5b0c5e=_0x5ec639*0x3c,_0x2abc54=sessions[_0x552029(0x21a)](_0x12bed1=>_0x12bed1[_0x552029(0x186)]===_0x1b298a&&_0x12bed1[_0x552029(0x117)]!=='cancelled');let _0x28ca92=_0x2abc54[_0x552029(0x13b)](_0x40c30a=>{const _0xe6e07a=_0x552029,[_0x1a721d,_0x45addc]=_0x40c30a[_0xe6e07a(0x224)]['split'](':')[_0xe6e07a(0x13b)](Number),[_0x2da0c4,_0x6d276f]=_0x40c30a[_0xe6e07a(0x268)][_0xe6e07a(0x1e5)](':')[_0xe6e07a(0x13b)](Number);return[_0x1a721d*0x3c+_0x45addc,_0x2da0c4*0x3c+_0x6d276f];});_0x28ca92[_0x552029(0x13e)]((_0x317bff,_0x14c0cc)=>_0x317bff[0x0]-_0x14c0cc[0x0]);let _0x54de75=[];if(_0x28ca92['length']>0x0){let _0x3ed8a0=_0x28ca92[0x0];for(let _0x51e548=0x1;_0x51e548<_0x28ca92[_0x552029(0x165)];_0x51e548++){_0x28ca92[_0x51e548][0x0]<_0x3ed8a0[0x1]?_0x3ed8a0[0x1]=Math[_0x552029(0x256)](_0x3ed8a0[0x1],_0x28ca92[_0x51e548][0x1]):(_0x54de75['push'](_0x3ed8a0),_0x3ed8a0=_0x28ca92[_0x51e548]);}_0x54de75[_0x552029(0x205)](_0x3ed8a0);}let _0x38615f=0x0;_0x54de75[_0x552029(0x21e)](_0x1bf81e=>_0x38615f+=_0x1bf81e[0x1]-_0x1bf81e[0x0]),document[_0x552029(0x176)](_0x552029(0x18a))['textContent']=formatMinsToHrs(_0x5b0c5e),document[_0x552029(0x176)](_0x552029(0x23b))[_0x552029(0x1f8)]=formatMinsToHrs(_0x38615f);const _0x3de816=_0x5b0c5e>0x0?Math[_0x552029(0x13f)](_0x38615f/_0x5b0c5e*0x64):0x0,_0x5a8291=document[_0x552029(0x176)](_0x552029(0x194));_0x5a8291[_0x552029(0x1f8)]=_0x3de816+'%';const _0x40587d=document[_0x552029(0x176)]('statLoadCard');if(_0x3de816>0x64)_0x5a8291[_0x552029(0x1e4)][_0x552029(0x16a)]=_0x552029(0x1be),_0x40587d[_0x552029(0x1e4)][_0x552029(0x1a0)]='rgba(255,\x2069,\x2058,\x200.3)';else _0x3de816>0x50?(_0x5a8291['style']['color']=_0x552029(0x259),_0x40587d['style'][_0x552029(0x1a0)]='rgba(255,\x20159,\x2010,\x200.3)'):(_0x5a8291[_0x552029(0x1e4)]['color']='var(--acc-green)',_0x40587d[_0x552029(0x1e4)][_0x552029(0x1a0)]=_0x552029(0x247));const _0x11312f=document[_0x552029(0x176)]('doEventsList');_0x11312f[_0x552029(0x253)]='';_0x2abc54['length']===0x0?_0x11312f[_0x552029(0x253)]=_0x552029(0x135):(_0x2abc54['sort']((_0x5c88e9,_0x35f858)=>_0x5c88e9[_0x552029(0x224)][_0x552029(0x1e3)](_0x35f858[_0x552029(0x224)])),_0x2abc54['forEach'](_0x148537=>{const _0x5c69ed=_0x552029,_0x589d12=clients[_0x5c69ed(0x263)](_0x84e77d=>_0x84e77d[_0x5c69ed(0x1af)]===_0x148537[_0x5c69ed(0x187)]),_0x5b84b1=_0x589d12?_0x589d12['color']:_0x5c69ed(0x1dd),_0x24666b=_0x148537['status']===_0x5c69ed(0x1c1),_0x5c6516=_0x24666b?_0x5c69ed(0x184):'',_0x137668=document[_0x5c69ed(0x1f2)]('div');_0x137668['className']=_0x5c69ed(0x276),_0x137668['style'][_0x5c69ed(0x153)]=_0x5b84b1,_0x137668[_0x5c69ed(0x253)]=_0x5c69ed(0x16b)+_0x148537[_0x5c69ed(0x224)]+_0x5c69ed(0x1ec)+_0x148537[_0x5c69ed(0x268)]+_0x5c69ed(0x138)+_0x148537[_0x5c69ed(0x187)]+_0x5c69ed(0x172)+_0x5c6516+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x11312f['appendChild'](_0x137668);}));const _0x4e2b2c=document[_0x552029(0x176)](_0x552029(0x270)),_0x5e8ba1=dateExceptions[_0x1b298a]===_0x552029(0x220);_0x5e8ba1?(_0x4e2b2c[_0x552029(0x1f8)]='–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º',_0x4e2b2c['className']=_0x552029(0x210),_0x4e2b2c[_0x552029(0x1e4)]['color']=_0x552029(0x212),_0x4e2b2c['style']['background']='rgba(48,\x20209,\x2088,\x200.15)'):(_0x4e2b2c[_0x552029(0x1f8)]=_0x552029(0x273),_0x4e2b2c[_0x552029(0x1b1)]=_0x552029(0x203),_0x4e2b2c['style'][_0x552029(0x16a)]='var(--acc-red)',_0x4e2b2c[_0x552029(0x1e4)][_0x552029(0x14a)]=_0x552029(0x229)),openSheet('dayOptionsSheet');}let currentAnPeriod=a2_0x132f75(0x1ab);function openAnalytics(){const _0x5aa526=a2_0x132f75,_0x197632=document[_0x5aa526(0x1e8)](_0x5aa526(0x104));setAnalyticsPeriod(_0x5aa526(0x1ab),_0x197632),closeAllSheets(),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x52925d,_0x1041cd){const _0x2f3da7=a2_0x132f75;currentAnPeriod=_0x52925d,document[_0x2f3da7(0x10c)](_0x2f3da7(0x104))[_0x2f3da7(0x21e)](_0x158f50=>_0x158f50[_0x2f3da7(0x1c6)]['remove'](_0x2f3da7(0x257)));if(_0x1041cd)_0x1041cd[_0x2f3da7(0x1c6)][_0x2f3da7(0x252)]('active');const _0x2b5ba4=document[_0x2f3da7(0x176)](_0x2f3da7(0x146));_0x2b5ba4[_0x2f3da7(0x1e4)][_0x2f3da7(0x201)]=_0x52925d===_0x2f3da7(0x13a)?_0x2f3da7(0x167):'none';const _0x415bb2=new Date();let _0x1780f5=new Date(),_0x4e23e5=new Date();if(_0x52925d===_0x2f3da7(0x1ab))_0x1780f5=getStartOfWeek(_0x415bb2),_0x4e23e5=new Date(_0x1780f5),_0x4e23e5[_0x2f3da7(0x202)](_0x4e23e5[_0x2f3da7(0x1d0)]()+0x6);else{if(_0x52925d===_0x2f3da7(0x10a))_0x1780f5=new Date(_0x415bb2['getFullYear'](),_0x415bb2[_0x2f3da7(0x157)](),0x1),_0x4e23e5=new Date(_0x415bb2[_0x2f3da7(0x254)](),_0x415bb2[_0x2f3da7(0x157)]()+0x1,0x0);else{!document[_0x2f3da7(0x176)]('anStart')[_0x2f3da7(0x250)]&&(document['getElementById'](_0x2f3da7(0x20e))[_0x2f3da7(0x250)]=getLocalDateStr(_0x415bb2),document[_0x2f3da7(0x176)]('anEnd')[_0x2f3da7(0x250)]=getLocalDateStr(_0x415bb2));refreshAnalytics();return;}}document['getElementById'](_0x2f3da7(0x20e))['value']=getLocalDateStr(_0x1780f5),document[_0x2f3da7(0x176)](_0x2f3da7(0x195))[_0x2f3da7(0x250)]=getLocalDateStr(_0x4e23e5),refreshAnalytics();}function refreshAnalytics(){const _0x48ded5=a2_0x132f75,_0x1f16cd=document[_0x48ded5(0x176)](_0x48ded5(0x20e))[_0x48ded5(0x250)],_0x393e51=document[_0x48ded5(0x176)](_0x48ded5(0x195))['value'];if(!_0x1f16cd||!_0x393e51)return;const _0x2e1dba=sessions[_0x48ded5(0x21a)](_0x412b0b=>_0x412b0b['dateStr']>=_0x1f16cd&&_0x412b0b[_0x48ded5(0x186)]<=_0x393e51&&_0x412b0b['status']!==_0x48ded5(0x1e0)),_0x4907f0=_0x2e1dba['length'],_0x2c5ea1=_0x2e1dba[_0x48ded5(0x21a)](_0x5761a5=>_0x5761a5[_0x48ded5(0x117)]==='completed')['length'],_0x499f57=_0x4907f0>0x0?Math[_0x48ded5(0x13f)](_0x2c5ea1/_0x4907f0*0x64):0x0;document['getElementById'](_0x48ded5(0x160))[_0x48ded5(0x1f8)]=_0x499f57+'%',document['getElementById']('anTotalStats')['textContent']=_0x2c5ea1+'\x20–∏–∑\x20'+_0x4907f0+_0x48ded5(0x1e9);const _0x42a2d6=document[_0x48ded5(0x176)]('anDonutCircle'),_0x7fae93=0x2*Math['PI']*0x23,_0x40ba62=_0x7fae93-_0x499f57/0x64*_0x7fae93;_0x42a2d6['style'][_0x48ded5(0x11d)]=_0x40ba62;const _0x2fbbe4={};_0x2e1dba['forEach'](_0xb7e52d=>{const _0x3e9654=_0x48ded5;if(!_0x2fbbe4[_0xb7e52d[_0x3e9654(0x187)]]){const _0x1dce40=clients['find'](_0x2d7e4d=>_0x2d7e4d[_0x3e9654(0x1af)]===_0xb7e52d['client']);_0x2fbbe4[_0xb7e52d[_0x3e9654(0x187)]]={'total':0x0,'done':0x0,'color':_0x1dce40?_0x1dce40[_0x3e9654(0x16a)]:_0x3e9654(0x1dd)};}_0x2fbbe4[_0xb7e52d[_0x3e9654(0x187)]][_0x3e9654(0x15f)]++;if(_0xb7e52d[_0x3e9654(0x117)]===_0x3e9654(0x1c1))_0x2fbbe4[_0xb7e52d[_0x3e9654(0x187)]][_0x3e9654(0x255)]++;});const _0x3b5fde=document['getElementById'](_0x48ded5(0x269));_0x3b5fde[_0x48ded5(0x253)]='';const _0x32e3f3=Object['entries'](_0x2fbbe4)[_0x48ded5(0x13e)]((_0x2ceca1,_0x2c2418)=>_0x2c2418[0x1][_0x48ded5(0x15f)]-_0x2ceca1[0x1]['total']);if(_0x32e3f3[_0x48ded5(0x165)]===0x0){_0x3b5fde[_0x48ded5(0x253)]=_0x48ded5(0x122);return;}_0x32e3f3[_0x48ded5(0x21e)](([_0x39e9e6,_0x4e2d64])=>{const _0x4f629c=_0x48ded5,_0x1164a9=Math[_0x4f629c(0x13f)](_0x4e2d64[_0x4f629c(0x255)]/_0x4e2d64[_0x4f629c(0x15f)]*0x64),_0xdd7789=document['createElement'](_0x4f629c(0x23e));_0xdd7789[_0x4f629c(0x1b1)]='client-stat-card',_0xdd7789[_0x4f629c(0x1e4)][_0x4f629c(0x153)]=_0x4e2d64[_0x4f629c(0x16a)],_0xdd7789['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>'+_0x39e9e6+_0x4f629c(0x152)+_0x4e2d64[_0x4f629c(0x255)]+_0x4f629c(0x1c0)+_0x4e2d64[_0x4f629c(0x15f)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x1164a9+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x3b5fde[_0x4f629c(0x124)](_0xdd7789);});}function formatMinsToHrs(_0x2fc5ad){const _0x1b4cff=a2_0x132f75;if(_0x2fc5ad===0x0)return'0';const _0x4b4036=Math[_0x1b4cff(0x1e6)](_0x2fc5ad/0x3c),_0x58dd92=_0x2fc5ad%0x3c;if(_0x58dd92===0x0)return _0x4b4036+'—á';return _0x4b4036+'—á\x20'+_0x58dd92+'–º';}