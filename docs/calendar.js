const a2_0x3bc7a9=a2_0x43e3;(function(_0x294cff,_0x2634ec){const _0x479aab=a2_0x43e3,_0x4acad8=_0x294cff();while(!![]){try{const _0x476d69=parseInt(_0x479aab(0x1b3))/0x1*(parseInt(_0x479aab(0x186))/0x2)+parseInt(_0x479aab(0x2db))/0x3*(-parseInt(_0x479aab(0x19b))/0x4)+parseInt(_0x479aab(0x240))/0x5+parseInt(_0x479aab(0x254))/0x6*(-parseInt(_0x479aab(0x22a))/0x7)+-parseInt(_0x479aab(0x17a))/0x8*(parseInt(_0x479aab(0x1b9))/0x9)+-parseInt(_0x479aab(0x2c1))/0xa+-parseInt(_0x479aab(0x2dc))/0xb*(-parseInt(_0x479aab(0x2d0))/0xc);if(_0x476d69===_0x2634ec)break;else _0x4acad8['push'](_0x4acad8['shift']());}catch(_0x235785){_0x4acad8['push'](_0x4acad8['shift']());}}}(a2_0x1d9a,0x7fe60),function initTMA(){const _0x5e4d28=a2_0x43e3,_0xd45d84=(function(){let _0x1fdbd2=!![];return function(_0x14c45d,_0x3d4249){const _0x5bbe5d=_0x1fdbd2?function(){const _0x4b570d=a2_0x43e3;if(_0x3d4249){const _0x157826=_0x3d4249[_0x4b570d(0x223)](_0x14c45d,arguments);return _0x3d4249=null,_0x157826;}}:function(){};return _0x1fdbd2=![],_0x5bbe5d;};}()),_0x4dccf6=_0xd45d84(this,function(){const _0x43294d=a2_0x43e3;return _0x4dccf6['toString']()['search'](_0x43294d(0x1bd))[_0x43294d(0x275)]()[_0x43294d(0x2ec)](_0x4dccf6)['search'](_0x43294d(0x1bd));});_0x4dccf6();try{const _0x5db9cb=window[_0x5e4d28(0x18e)]?.[_0x5e4d28(0x27d)];if(!_0x5db9cb)return;_0x5db9cb[_0x5e4d28(0x2c7)](),_0x5db9cb['expand']();try{_0x5db9cb[_0x5e4d28(0x19f)](_0x5e4d28(0x2e6)),_0x5db9cb[_0x5e4d28(0x2b9)]&&_0x5db9cb[_0x5e4d28(0x2b9)](_0x5e4d28(0x2e6));}catch(_0x415772){console['log'](_0x5e4d28(0x239),_0x415772);}try{_0x5db9cb[_0x5e4d28(0x18f)]&&(_0x5db9cb[_0x5e4d28(0x18f)][_0x5e4d28(0x2c3)](),_0x5db9cb['BackButton'][_0x5e4d28(0x176)](),_0x5db9cb['BackButton'][_0x5e4d28(0x191)](function(){const _0x1b6c69=_0x5e4d28;window[_0x1b6c69(0x269)]['href']='router.html';}));}catch(_0x50c7d5){console['log'](_0x5e4d28(0x2bf),_0x50c7d5);}try{if(_0x5db9cb[_0x5e4d28(0x291)])_0x5db9cb['disableVerticalSwipes']();}catch(_0x65653f){}}catch(_0x21de6d){console[_0x5e4d28(0x224)]('Critical\x20TMA\x20Error:',_0x21de6d);}}());function isAdmin(){const _0x182206=a2_0x43e3;try{const _0xbffe2a=Number(window[_0x182206(0x18e)]?.[_0x182206(0x27d)]?.['initDataUnsafe']?.[_0x182206(0x200)]?.['id']);return _0xbffe2a===0xbaf7174;}catch(_0x5ef9a6){return![];}}const APP_VERSION=a2_0x3bc7a9(0x20c),API_URL=a2_0x3bc7a9(0x2ef),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x3bc7a9(0x253),KEY_SESSIONS=a2_0x3bc7a9(0x2d8),KEY_SETTINGS='uc_settings_v9';function a2_0x1d9a(){const _0x23183c=['blocked-slot\x20stripe-bg','touchmove','peGrid','floor','day-col-header\x20','width','isArray','WebApp','borderColor','[Notify]\x20Detected\x20Client\x20ID:','long','push','rgba(255,255,255,0.05)','<span>','settingsSheet','seriesId','touches','doDateHeader','catch','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','stringify','update','uc_settings_cancel_window','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','exceptions','.sheet','setItem','disableVerticalSwipes','backgroundColor','anEnd','[Settings]\x20Cancel\x20window\x20set\x20to:','active','toastMessage','toFixed','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','getTime','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','.event-card','var(--acc-green)','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','colIndex','#fff','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','fetchFromServer','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','numeric','header-','calc(','ru-RU','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','data-date','[Notify]\x20Client\x20SWAP\x20detected','btnDayToggle','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','inpSeriesCount','startsWith','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','anDonutCircle','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20days','doWorkHours','doEventsList','sessionSheet','.day-col-header','getFullYear','as-button\x20danger\x20bold','setBackgroundColor','clients','saveLocally','dayOptionsSheet','block','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','Error\x20setting\x20back\x20button:','setHours','534940YlETvO','background','show','analyticsList','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','getBoundingClientRect','ready','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','charAt','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','getDate','doBusyHours','textContent','px\x20-','setDate','492ZsYHRF','dayOptionsTitle','ranges','localeCompare','sheetTitle','borderRadius','.pib-text','split','uc_sessions_v9','</div><div\x20class=\x22dch-num\x22>','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','374853PlQUeC','318142ZSMriI','from',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','save','height','getMonth','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','dateStr','00:00','random','#050505','23:59','toast','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','pe-col-header','[Notify]\x20Error:\x20sessionData\x20is\x20null','constructor','<div\x20class=\x22dch-day\x22>',':00','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','seriesCountContainer','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','findIndex','data','clientId','batch_sync','insertBefore','Server\x20Error','getAttribute','\x20‚Äî\x20','day-column\x20','offClick',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','[Sync]\x20Loading\x20','getHours','184BdkBKO','pattern','note','warn','[Notify]\x20Server\x20Response:','<b>‚úÖ\x20','find','round','stopPropagation','scrollWidth','max','</div>','2BAJiSQ','patternEditor','strokeDashoffset','success','[Notify]\x20Error:\x20Text\x20generation\x20failed','end','btnStatusToggle','calendar','Telegram','BackButton','#0a84ff','onClick','done','anCustomDates','then','btn-primary\x20btn-secondary','open','init_load','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','\x20-\x20','4SyMXsC','offsetLeft','btnDelete','rgba(255,\x20159,\x2010,\x200.3)','setHeaderColor','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','inpEnd','client','substr','actionSheetOverlay','clientY','rangeEndDate','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','onclick','–£–¥–∞–ª–µ–Ω–∏–µ','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','overlay','loadLocal','sid','stat-','getItem','inpStart',':\x20Client\x20already\x20booked','[Notify]\x20Network\x20Failed','403996fZiwSx','</div><div\x20class=\x22ev-time\x22>','btn-status-toggle\x20undo-mode','borderLeftColor','var(--acc-current)','pe-corner','191493yqBoLk','remove','Batch\x20Sync\x20OK','\x20status-completed','(((.+)+)+)+$','anStart','display','–ò–Ω—Ñ–æ','padStart','recurringOptionContainer','classList','10px','off','min','slice','getDay','toUpperCase','event-card','start','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','style','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','series','btn-primary\x20btn-danger','var(--acc-red)','addEventListener','option','warning','save_settings',']\x20Failed:','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','mouseup','clientWidth','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','matrixViewport','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','closest','scrollTop','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','rgba(255,\x2069,\x2058,\x200.15)','initData','indexOf','<div\x20class=\x22ev-title\x22>','week','day-off-overlay\x20stripe-bg','today','month','map','createDocumentFragment','className','total','rangeStartDate','[Series]\x20Skipped\x20','guest','innerHTML','daysHeaderTrack','filter','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','delete','entries','planned','formatDate','.dch-stats-fill','Save\x20settings\x20error:','send','single','vibrate','as-button\x20danger','btn-status-toggle','user','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','firstChild','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','splice','send_notification','.period-switch\x20.p-btn','rangesSheet','name',':00</span>','parse','v9.0-BATCH-CALENDAR','createElement','sort','gridColumns','touchend','getMinutes','100%','inpRecurring','</b>\x0a\x0a','add','timeColumn','length','%\x20+\x202px)','appendChild','.day-off-overlay','globalTimeLine','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','offsetWidth','querySelectorAll','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','toLocaleDateString','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rgba(','apply','error','keys','mergeServerData','cancelled','color','setMonth','49ZmqTgY','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','timeLineBadge','querySelector','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','syncLoad','valid','sheetDateSubtitle','flex','forEach','...','Local\x20Save\x20Error','getElementById','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','includes','Error\x20setting\x20color:','#gridColumns\x20.day-column','text','rangeStartTime','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','inpClient','patternInfoBox','3015710yvAAEM','data-day-idx','asBtnSeries','–£—Å–ø–µ—à–Ω–æ','actionSheet','rgba(100,100,100,0.5)','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','settings','cancel','[API\x20','T00:00:00','cancel_window','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','log','px\x200px','scrollLeft','Local\x20Load\x20Error','inpDate','uc_clients_v9','858216yGaQXr','completed','\x20–∏–∑\x20','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','backgroundPosition','T23:59:59','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','create','undefined','headerMonth','checked','div','</span>\x20/\x20','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','blocked-range-part\x20stripe-bg','10px\x2010px\x200\x200','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','setAttribute','none','status','location','inpNote','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','value','asTitle','now','rangeEndTime','mousedown','top','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','zIndex',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','toString'];a2_0x1d9a=function(){return _0x23183c;};return a2_0x1d9a();}let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x3d9240=a2_0x3bc7a9;return window[_0x3d9240(0x18e)]?.[_0x3d9240(0x27d)]?.['initDataUnsafe']?.['user']?.['id']||_0x3d9240(0x1f0);},'saveLocally'(){const _0x2fe213=a2_0x3bc7a9;try{localStorage[_0x2fe213(0x290)](KEY_CLIENTS,JSON[_0x2fe213(0x28a)](clients)),localStorage[_0x2fe213(0x290)](KEY_SESSIONS,JSON[_0x2fe213(0x28a)](sessions)),localStorage['setItem'](KEY_SETTINGS,JSON[_0x2fe213(0x28a)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x309685){console[_0x2fe213(0x224)](_0x2fe213(0x235),_0x309685);}},'loadLocal'(){const _0x126df8=a2_0x3bc7a9;try{const _0x26da27=localStorage[_0x126df8(0x1af)](KEY_CLIENTS);if(_0x26da27)clients=JSON[_0x126df8(0x20b)](_0x26da27);const _0x5aedd1=localStorage[_0x126df8(0x1af)](KEY_SESSIONS);if(_0x5aedd1)sessions=JSON[_0x126df8(0x20b)](_0x5aedd1);const _0x6bbba8=localStorage[_0x126df8(0x1af)](KEY_SETTINGS);if(_0x6bbba8){const _0x2440f2=JSON[_0x126df8(0x20b)](_0x6bbba8);if(_0x2440f2[_0x126df8(0x17b)])availabilityPattern=_0x2440f2['pattern'];if(_0x2440f2[_0x126df8(0x28e)])dateExceptions=_0x2440f2[_0x126df8(0x28e)];if(_0x2440f2[_0x126df8(0x2d2)])specialRanges=_0x2440f2['ranges'];}else{for(let _0x1dacaa=0x0;_0x1dacaa<0x7;_0x1dacaa++)availabilityPattern[_0x1dacaa]=Array[_0x126df8(0x2dd)]({'length':0xc},(_0x334a69,_0x126bc0)=>_0x126bc0+0x9);}}catch(_0x4a52dd){console['error'](_0x126df8(0x251),_0x4a52dd);}},async 'fetchFromServer'(_0x186b3a,_0x434803={}){const _0x510ce6=a2_0x3bc7a9,_0x137b3f=window[_0x510ce6(0x18e)]?.[_0x510ce6(0x27d)],_0x4f9ae9={'action':_0x186b3a,'init_data':_0x137b3f?.[_0x510ce6(0x1e3)]||'',..._0x434803};try{const _0x7a76de=await fetch(API_URL,{'method':'POST','headers':{'Content-Type':'text/plain;charset=UTF-8'},'body':JSON[_0x510ce6(0x28a)](_0x4f9ae9)}),_0x4b943a=await _0x7a76de['json']();if(!_0x4b943a['ok'])throw new Error(_0x4b943a[_0x510ce6(0x224)]||_0x510ce6(0x172));return _0x4b943a[_0x510ce6(0x2f3)];}catch(_0x27df8f){console[_0x510ce6(0x224)](_0x510ce6(0x24a)+_0x186b3a+_0x510ce6(0x1d8),_0x27df8f);throw _0x27df8f;}},async 'syncLoad'(){const _0x481a7b=a2_0x3bc7a9,_0x32ddee=new Date(),_0x38c453=_0x32ddee[_0x481a7b(0x2b7)]()+'-'+String(_0x32ddee['getMonth']()+0x1)[_0x481a7b(0x1c1)](0x2,'0'),_0x5d0361=new Date(_0x32ddee);_0x5d0361[_0x481a7b(0x229)](_0x32ddee[_0x481a7b(0x2e1)]()+0x1);const _0x53a67e=_0x5d0361['getFullYear']()+'-'+String(_0x5d0361[_0x481a7b(0x2e1)]()+0x1)[_0x481a7b(0x1c1)](0x2,'0'),_0x1f14bf=Date['now']();console['log'](_0x481a7b(0x178)+_0x38c453+',\x20'+_0x53a67e+_0x481a7b(0x234));try{const [_0x48ee0c,_0x2b58a0]=await Promise['all']([this[_0x481a7b(0x2a2)](_0x481a7b(0x197),{'month_str':_0x38c453}),this[_0x481a7b(0x2a2)]('init_load',{'month_str':_0x53a67e})]);if(lastUserActionTime>_0x1f14bf)return console['warn']('[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response'),![];return this[_0x481a7b(0x226)](_0x48ee0c,_0x38c453),this[_0x481a7b(0x226)](_0x2b58a0,_0x53a67e),this[_0x481a7b(0x2bb)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x3d61e7){console[_0x481a7b(0x224)](_0x3d61e7);throw _0x3d61e7;}},'mergeServerData'(_0x49806d,_0x5c0caf){const _0x3c73e3=a2_0x3bc7a9;if(!_0x49806d)return;_0x49806d[_0x3c73e3(0x2ba)]&&Array[_0x3c73e3(0x27c)](_0x49806d[_0x3c73e3(0x2ba)])&&(clients=_0x49806d[_0x3c73e3(0x2ba)]);if(_0x49806d[_0x3c73e3(0x248)]){if(_0x49806d[_0x3c73e3(0x248)][_0x3c73e3(0x17b)])availabilityPattern=_0x49806d[_0x3c73e3(0x248)][_0x3c73e3(0x17b)];if(_0x49806d[_0x3c73e3(0x248)][_0x3c73e3(0x28e)])dateExceptions=_0x49806d[_0x3c73e3(0x248)]['exceptions'];if(_0x49806d[_0x3c73e3(0x248)][_0x3c73e3(0x2d2)])specialRanges=_0x49806d[_0x3c73e3(0x248)]['ranges'];if(_0x49806d[_0x3c73e3(0x248)][_0x3c73e3(0x24c)]){localStorage['setItem'](_0x3c73e3(0x28c),_0x49806d[_0x3c73e3(0x248)][_0x3c73e3(0x24c)]);const _0x152d62=document[_0x3c73e3(0x236)]('settingCancelWindow');if(_0x152d62)_0x152d62[_0x3c73e3(0x26c)]=_0x49806d[_0x3c73e3(0x248)][_0x3c73e3(0x24c)];}}_0x49806d[_0x3c73e3(0x18d)]&&(sessions=sessions[_0x3c73e3(0x1f3)](_0x492fd5=>!_0x492fd5[_0x3c73e3(0x2e3)][_0x3c73e3(0x2ae)](_0x5c0caf)),Object[_0x3c73e3(0x225)](_0x49806d[_0x3c73e3(0x18d)])[_0x3c73e3(0x233)](_0x5097dc=>{const _0x59b4fa=_0x3c73e3,_0x2e5e0a=_0x49806d[_0x59b4fa(0x18d)][_0x5097dc];_0x2e5e0a[_0x59b4fa(0x233)](_0x5b4205=>{const _0x28eb0f=_0x59b4fa,_0x12f194=clients[_0x28eb0f(0x180)](_0x357f5c=>String(_0x357f5c['id'])===String(_0x5b4205['c']));sessions['push']({'id':_0x5b4205['i'],'clientId':_0x5b4205['c'],'client':_0x12f194?_0x12f194[_0x28eb0f(0x209)]:'Unknown','dateStr':_0x5c0caf+'-'+_0x5097dc[_0x28eb0f(0x1c1)](0x2,'0'),'start':_0x5b4205['s'],'end':_0x5b4205['e'],'status':_0x5b4205['st']||_0x28eb0f(0x1f7),'note':_0x5b4205['n']||'','seriesId':_0x5b4205[_0x28eb0f(0x1ad)]||null});});}));},async 'syncBatch'(_0xed699c){const _0x4aa17f=a2_0x3bc7a9,_0x76ea4a=[...new Set(_0xed699c)],_0x2065d1=_0x76ea4a[_0x4aa17f(0x1ea)](_0x2f9a8c=>{const _0x2aaac2=_0x4aa17f,_0x1a31d9=sessions['filter'](_0x3497ad=>_0x3497ad['dateStr']===_0x2f9a8c&&_0x3497ad['status']!=='deleted'),_0x353501=_0x1a31d9['map'](_0x14407a=>({'i':_0x14407a['id'],'c':_0x14407a[_0x2aaac2(0x2f4)],'s':_0x14407a[_0x2aaac2(0x1cb)],'e':_0x14407a[_0x2aaac2(0x18b)],'st':_0x14407a[_0x2aaac2(0x268)],'n':_0x14407a[_0x2aaac2(0x17c)],'sid':_0x14407a['seriesId']}));return{'date':_0x2f9a8c,'day_data':_0x353501};});if(_0x2065d1[_0x4aa17f(0x217)]===0x0)return;console[_0x4aa17f(0x24e)](_0x4aa17f(0x246)+_0x2065d1['length']+_0x4aa17f(0x2b2)),await this[_0x4aa17f(0x2a2)](_0x4aa17f(0x2f5),{'changes':_0x2065d1});}};async function init(){const _0x6ae300=a2_0x3bc7a9;DataManager[_0x6ae300(0x1ac)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x6ae300(0x236)](_0x6ae300(0x1dd))[_0x6ae300(0x1d4)]('scroll',()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x6ae300(0x22f)]()[_0x6ae300(0x194)](()=>{const _0x4d50d7=_0x6ae300;showToast(_0x4d50d7(0x2a1),!![]);})[_0x6ae300(0x288)](_0x2f2668=>{const _0x5ae2d9=_0x6ae300;showToast(_0x5ae2d9(0x29a),![]);});}function generateId(){const _0x47ea41=a2_0x3bc7a9;return Date[_0x47ea41(0x26e)]()[_0x47ea41(0x275)](0x24)+Math[_0x47ea41(0x2e5)]()[_0x47ea41(0x275)](0x24)[_0x47ea41(0x1a3)](0x2,0x5);}function toggleSeriesInput(){const _0x3b5394=a2_0x3bc7a9,_0x42648b=document[_0x3b5394(0x236)](_0x3b5394(0x213))[_0x3b5394(0x25f)],_0x163507=document[_0x3b5394(0x236)]('seriesCountContainer');_0x163507['style'][_0x3b5394(0x1bf)]=_0x42648b?_0x3b5394(0x2bd):_0x3b5394(0x267);const _0x2ad681=document['getElementById'](_0x3b5394(0x1c2));_0x2ad681[_0x3b5394(0x1cf)][_0x3b5394(0x2d5)]=_0x42648b?_0x3b5394(0x264):_0x3b5394(0x1c4);}function openAddSession(_0x21ee97){const _0x3ce656=a2_0x3bc7a9;editingId=null,populateClientSelect(),document[_0x3ce656(0x236)](_0x3ce656(0x2d4))['textContent']=_0x3ce656(0x29d),document[_0x3ce656(0x236)](_0x3ce656(0x19d))[_0x3ce656(0x1cf)][_0x3ce656(0x1bf)]=_0x3ce656(0x267),document['getElementById']('btnStatusToggle')['style'][_0x3ce656(0x1bf)]=_0x3ce656(0x267);const _0x4c35fa=document[_0x3ce656(0x236)](_0x3ce656(0x1c2)),_0x2d0216=document['getElementById'](_0x3ce656(0x2f0));_0x4c35fa[_0x3ce656(0x1cf)][_0x3ce656(0x1bf)]='flex',_0x4c35fa[_0x3ce656(0x1cf)]['borderRadius']='10px',document[_0x3ce656(0x236)](_0x3ce656(0x213))[_0x3ce656(0x25f)]=![],document[_0x3ce656(0x236)](_0x3ce656(0x2ad))[_0x3ce656(0x26c)]=0x4,_0x2d0216[_0x3ce656(0x1cf)]['display']=_0x3ce656(0x267),document[_0x3ce656(0x236)](_0x3ce656(0x252))[_0x3ce656(0x26c)]=getLocalDateStr(_0x21ee97),updateDateDisplay();const _0x2d6bfb=_0x21ee97[_0x3ce656(0x179)]();document['getElementById'](_0x3ce656(0x1b0))[_0x3ce656(0x26c)]=String(_0x2d6bfb)[_0x3ce656(0x1c1)](0x2,'0')+_0x3ce656(0x2ee),document[_0x3ce656(0x236)](_0x3ce656(0x1a1))[_0x3ce656(0x26c)]=String(_0x2d6bfb+0x1)[_0x3ce656(0x1c1)](0x2,'0')+_0x3ce656(0x2ee),openSheet(_0x3ce656(0x2b5));}function openEdit(_0x300082){const _0xc202a=a2_0x3bc7a9;editingId=_0x300082['id'],populateClientSelect(),document[_0xc202a(0x236)](_0xc202a(0x2d4))[_0xc202a(0x2cd)]=_0xc202a(0x265),document[_0xc202a(0x236)](_0xc202a(0x19d))[_0xc202a(0x1cf)][_0xc202a(0x1bf)]=_0xc202a(0x2bd);const _0x5e5280=document[_0xc202a(0x236)](_0xc202a(0x18c));_0x5e5280[_0xc202a(0x1cf)][_0xc202a(0x1bf)]=_0xc202a(0x232);_0x300082[_0xc202a(0x268)]===_0xc202a(0x255)?(_0x5e5280['className']=_0xc202a(0x1b5),_0x5e5280[_0xc202a(0x1f1)]='–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ'):(_0x5e5280[_0xc202a(0x1ec)]=_0xc202a(0x1ff),_0x5e5280[_0xc202a(0x1f1)]='<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É');const _0x3e6439=!!_0x300082[_0xc202a(0x285)];document[_0xc202a(0x236)]('recurringOptionContainer')[_0xc202a(0x1cf)]['display']='none',document[_0xc202a(0x236)]('seriesCountContainer')[_0xc202a(0x1cf)][_0xc202a(0x1bf)]=_0xc202a(0x267),_0x3e6439?(document[_0xc202a(0x236)]('patternInfoBox')['style'][_0xc202a(0x1bf)]='flex',document['getElementById'](_0xc202a(0x23f))['querySelector'](_0xc202a(0x2d6))[_0xc202a(0x2cd)]='–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫'):document[_0xc202a(0x236)]('patternInfoBox')[_0xc202a(0x1cf)][_0xc202a(0x1bf)]=_0xc202a(0x267),document[_0xc202a(0x236)](_0xc202a(0x23e))[_0xc202a(0x26c)]=_0x300082[_0xc202a(0x1a2)],document['getElementById']('inpDate')[_0xc202a(0x26c)]=_0x300082[_0xc202a(0x2e3)],document[_0xc202a(0x236)](_0xc202a(0x1b0))[_0xc202a(0x26c)]=_0x300082[_0xc202a(0x1cb)],document['getElementById'](_0xc202a(0x1a1))[_0xc202a(0x26c)]=_0x300082[_0xc202a(0x18b)],document[_0xc202a(0x236)](_0xc202a(0x26a))[_0xc202a(0x26c)]=_0x300082[_0xc202a(0x17c)]||'',updateDateDisplay(),openSheet(_0xc202a(0x2b5));}async function trySaveSession(){const _0x558e69=a2_0x3bc7a9,_0x431ebd=document[_0x558e69(0x236)](_0x558e69(0x23e))['value'],_0x44cb3e=document[_0x558e69(0x236)](_0x558e69(0x252))[_0x558e69(0x26c)],_0xe46ecd=document[_0x558e69(0x236)](_0x558e69(0x1b0))[_0x558e69(0x26c)],_0x1ec162=document['getElementById'](_0x558e69(0x1a1))['value'],_0x533ae0=document[_0x558e69(0x236)](_0x558e69(0x26a))[_0x558e69(0x26c)],_0x216a0c=document[_0x558e69(0x236)](_0x558e69(0x213))[_0x558e69(0x25f)];let _0xbdbea4=0x4;if(_0x216a0c){const _0x1d2dbb=parseInt(document[_0x558e69(0x236)](_0x558e69(0x2ad))[_0x558e69(0x26c)]);if(!_0x1d2dbb||_0x1d2dbb<0x2){showToast(_0x558e69(0x257),![]);return;}if(_0x1d2dbb>0x64){showToast('–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑',![]);return;}_0xbdbea4=_0x1d2dbb;}const _0x9ebebf=clients[_0x558e69(0x180)](_0x2f679e=>_0x2f679e[_0x558e69(0x209)]===_0x431ebd);if(!_0x9ebebf){showToast(_0x558e69(0x2a0),![]);return;}const _0x33a81b=validateAppointment(_0x44cb3e,_0xe46ecd,_0x1ec162,editingId,_0x9ebebf['id']);if(!_0x33a81b[_0x558e69(0x230)]){showToast(_0x33a81b['msg'],![]);return;}_0x33a81b[_0x558e69(0x1d6)]&&showToast(_0x33a81b[_0x558e69(0x1d6)],![]);const _0xe3b22c={'client':_0x431ebd,'clientId':_0x9ebebf['id'],'start':_0xe46ecd,'end':_0x1ec162,'note':_0x533ae0,'status':_0x558e69(0x1f7)},_0x18d52d=editingId?sessions[_0x558e69(0x180)](_0x1ef3cf=>_0x1ef3cf['id']===editingId):null;if(_0x18d52d&&_0x18d52d[_0x558e69(0x285)]){tempSessionData={..._0xe3b22c,'dateStr':_0x44cb3e,'id':editingId,'seriesId':_0x18d52d[_0x558e69(0x285)]},openActionSheet(_0x558e69(0x2df));return;}let _0x4ddb61=null;if(!editingId)_0x4ddb61='create';else{if(_0x18d52d){if(String(_0x18d52d[_0x558e69(0x2f4)])!==String(_0x9ebebf['id']))console[_0x558e69(0x24e)](_0x558e69(0x2aa)),NotificationManager[_0x558e69(0x1fb)]('cancel',_0x18d52d),_0x4ddb61=_0x558e69(0x25c);else(_0x18d52d[_0x558e69(0x1cb)]!==_0xe46ecd||_0x18d52d[_0x558e69(0x18b)]!==_0x1ec162||_0x18d52d['dateStr']!==_0x44cb3e)&&(_0x4ddb61=_0x558e69(0x28b));}}if(!editingId&&_0x216a0c){createBatchSeries(_0xe3b22c,_0x44cb3e,_0xbdbea4),NotificationManager[_0x558e69(0x1fb)]('create',{..._0xe3b22c,'dateStr':_0x44cb3e});return;}lastUserActionTime=Date[_0x558e69(0x26e)]();const _0x4e58a8={..._0xe3b22c,'dateStr':_0x44cb3e,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x4e58a8),_0x4ddb61&&NotificationManager['send'](_0x4ddb61,_0x4e58a8);}function toggleSessionStatus(){const _0x39084b=a2_0x3bc7a9;lastUserActionTime=Date['now']();const _0x5dc7d8=sessions[_0x39084b(0x180)](_0x1a9e2a=>_0x1a9e2a['id']===editingId);if(!_0x5dc7d8)return;const _0x4f6cf8=_0x5dc7d8[_0x39084b(0x268)]==='completed'?_0x39084b(0x1f7):_0x39084b(0x255);_0x5dc7d8[_0x39084b(0x268)]=_0x4f6cf8,saveSingleSession(_0x5dc7d8),_0x4f6cf8===_0x39084b(0x255)&&NotificationManager['send']('complete',_0x5dc7d8),showToast(_0x4f6cf8==='completed'?_0x39084b(0x28d):_0x39084b(0x26b),!![]);}function validateAppointment(_0x2f95eb,_0x1d8fd8,_0x4cfdf8,_0x459c55,_0x2b6040){const _0x520b69=a2_0x3bc7a9,[_0x15cdc8,_0x435ef3]=_0x1d8fd8[_0x520b69(0x2d7)](':')['map'](Number),[_0x5322e0,_0x499385]=_0x4cfdf8['split'](':')['map'](Number),_0x3cf137=_0x15cdc8*0x3c+_0x435ef3,_0x55b340=_0x5322e0*0x3c+_0x499385,_0x3b5445=String(_0x2b6040);let _0x4f2963=![],_0x11a091='';for(let _0x19c7af of sessions){if(_0x19c7af[_0x520b69(0x2e3)]!==_0x2f95eb)continue;if(_0x19c7af[_0x520b69(0x268)]==='cancelled')continue;if(_0x459c55&&String(_0x19c7af['id'])===String(_0x459c55))continue;const [_0x34d92e,_0x3292a0]=_0x19c7af[_0x520b69(0x1cb)][_0x520b69(0x2d7)](':')[_0x520b69(0x1ea)](Number),[_0x2a05a1,_0x16e84d]=_0x19c7af[_0x520b69(0x18b)][_0x520b69(0x2d7)](':')[_0x520b69(0x1ea)](Number),_0x3ebb45=_0x34d92e*0x3c+_0x3292a0,_0xade70c=_0x2a05a1*0x3c+_0x16e84d;if(Math[_0x520b69(0x184)](_0x3cf137,_0x3ebb45)<Math[_0x520b69(0x1c6)](_0x55b340,_0xade70c)){if(_0x19c7af[_0x520b69(0x2f4)]&&String(_0x19c7af[_0x520b69(0x2f4)])===_0x3b5445)return{'valid':![],'msg':_0x520b69(0x2be)+_0x19c7af[_0x520b69(0x1a2)]+_0x520b69(0x177)};_0x4f2963=!![],_0x11a091=_0x19c7af['client'];}}if(_0x4f2963)return{'valid':!![],'warning':_0x520b69(0x1e1)+_0x11a091};return{'valid':!![]};}function saveSingleSession(_0x4423ac){const _0x1e1fb1=a2_0x3bc7a9;if(editingId){const _0xff066=sessions[_0x1e1fb1(0x2f2)](_0x110094=>_0x110094['id']===editingId);if(_0xff066!==-0x1)sessions[_0xff066]=_0x4423ac;}else sessions[_0x1e1fb1(0x281)](_0x4423ac);afterSaveAction([_0x4423ac[_0x1e1fb1(0x2e3)]]);}function createBatchSeries(_0x4da357,_0x432295,_0x540eb2){const _0x4af3dc=a2_0x3bc7a9,_0x41b00b=generateId(),_0x3dc5da=[],_0x184f49=[];let _0x43e84f=0x0,_0x5022a0=new Date(_0x432295);for(let _0x276807=0x0;_0x276807<_0x540eb2;_0x276807++){const _0x549fa1=getLocalDateStr(_0x5022a0),_0x1f3e3d=validateAppointment(_0x549fa1,_0x4da357['start'],_0x4da357[_0x4af3dc(0x18b)],null,_0x4da357[_0x4af3dc(0x2f4)]);if(!_0x1f3e3d[_0x4af3dc(0x230)])console[_0x4af3dc(0x24e)](_0x4af3dc(0x1ef)+_0x549fa1+_0x4af3dc(0x1b1)),_0x43e84f++;else{const _0x3a78a1={..._0x4da357,'id':generateId(),'dateStr':_0x549fa1,'seriesId':_0x41b00b};_0x184f49[_0x4af3dc(0x281)](_0x3a78a1),_0x3dc5da[_0x4af3dc(0x281)](_0x549fa1);}_0x5022a0['setDate'](_0x5022a0['getDate']()+0x7);}if(_0x184f49[_0x4af3dc(0x217)]===0x0){showToast(_0x4af3dc(0x2ca),![]);return;}sessions[_0x4af3dc(0x281)](..._0x184f49),lastUserActionTime=Date[_0x4af3dc(0x26e)]();let _0x2f1b36='–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20'+_0x184f49[_0x4af3dc(0x217)];_0x43e84f>0x0&&(_0x2f1b36+=_0x4af3dc(0x2e9)+_0x43e84f+')'),showToast(_0x2f1b36,!![]),afterSaveAction(_0x3dc5da);}function updateSeriesBatch(_0x3229d9,_0x364e7a){const _0x3a05f5=a2_0x3bc7a9,_0x3f3b2c=[],_0x2c9162=_0x364e7a['seriesId'];if(_0x3229d9===_0x3a05f5(0x1fc)){const _0x5e6b26={..._0x364e7a,'seriesId':null},_0x2ae6f1=sessions['findIndex'](_0x642bce=>_0x642bce['id']===_0x364e7a['id']);if(_0x2ae6f1!==-0x1)sessions[_0x2ae6f1]=_0x5e6b26;_0x3f3b2c['push'](_0x5e6b26[_0x3a05f5(0x2e3)]);}else{if(_0x3229d9===_0x3a05f5(0x1d1)){const _0x22d320=_0x364e7a['dateStr'];sessions[_0x3a05f5(0x233)]((_0x41d8ff,_0x3ef29a)=>{const _0x48cb1a=_0x3a05f5;_0x41d8ff[_0x48cb1a(0x285)]===_0x2c9162&&_0x41d8ff[_0x48cb1a(0x2e3)]>=_0x22d320&&(sessions[_0x3ef29a]={...sessions[_0x3ef29a],'start':_0x364e7a[_0x48cb1a(0x1cb)],'end':_0x364e7a[_0x48cb1a(0x18b)],'note':_0x364e7a[_0x48cb1a(0x17c)],'client':_0x364e7a[_0x48cb1a(0x1a2)],'clientId':_0x364e7a[_0x48cb1a(0x2f4)]},_0x3f3b2c[_0x48cb1a(0x281)](_0x41d8ff[_0x48cb1a(0x2e3)]));});}}afterSaveAction(_0x3f3b2c);}function tryDeleteSession(){const _0x1dc17c=a2_0x3bc7a9,_0x3f2bea=sessions[_0x1dc17c(0x180)](_0x5352e6=>_0x5352e6['id']===editingId);if(!_0x3f2bea)return;_0x3f2bea['seriesId']?openActionSheet(_0x1dc17c(0x1f5)):commitDelete(_0x1dc17c(0x1fc),_0x3f2bea);}function commitDelete(_0x9aa7a4,_0xffd6fc){const _0x253c85=a2_0x3bc7a9;lastUserActionTime=Date[_0x253c85(0x26e)](),NotificationManager[_0x253c85(0x1fb)](_0x253c85(0x249),_0xffd6fc);const _0x4fee21=[];if(_0x9aa7a4===_0x253c85(0x1fc))sessions=sessions['filter'](_0x13e011=>_0x13e011['id']!==_0xffd6fc['id']),_0x4fee21[_0x253c85(0x281)](_0xffd6fc[_0x253c85(0x2e3)]);else{if(_0x9aa7a4===_0x253c85(0x1d1)){const _0x1ae5b1=_0xffd6fc[_0x253c85(0x2e3)],_0xce279=_0xffd6fc['seriesId'];sessions[_0x253c85(0x233)](_0x11597e=>{const _0x8787e3=_0x253c85;_0x11597e['seriesId']===_0xce279&&_0x11597e['dateStr']>=_0x1ae5b1&&_0x4fee21[_0x8787e3(0x281)](_0x11597e['dateStr']);}),sessions=sessions['filter'](_0x39e426=>!(_0x39e426[_0x253c85(0x285)]===_0xce279&&_0x39e426[_0x253c85(0x2e3)]>=_0x1ae5b1));}}afterSaveAction(_0x4fee21);}function afterSaveAction(_0x3d9f3e){const _0x20c6ca=a2_0x3bc7a9;DataManager[_0x20c6ca(0x2bb)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager['syncBatch'](_0x3d9f3e)[_0x20c6ca(0x194)](()=>console[_0x20c6ca(0x24e)](_0x20c6ca(0x1bb)))[_0x20c6ca(0x288)](_0x9e43c3=>showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ',![]));}const NotificationManager={'formatDate'(_0x420c6d){const _0x1d7de9=a2_0x3bc7a9,_0x57187a=new Date(_0x420c6d),_0x12f0a0={'weekday':_0x1d7de9(0x280),'day':_0x1d7de9(0x2a4),'month':'long'};let _0x4b024d=_0x57187a['toLocaleDateString'](_0x1d7de9(0x2a7),_0x12f0a0);return _0x4b024d['charAt'](0x0)[_0x1d7de9(0x1c9)]()+_0x4b024d[_0x1d7de9(0x1c7)](0x1);},'getText'(_0x5cc67b,_0x21d3fb){const _0x53338e=a2_0x3bc7a9,_0x49f32b=this[_0x53338e(0x1f8)](_0x21d3fb[_0x53338e(0x2e3)]);switch(_0x5cc67b){case _0x53338e(0x25c):return'<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a'+(_0x53338e(0x204)+_0x49f32b+'\x0a')+(_0x53338e(0x262)+_0x21d3fb[_0x53338e(0x1cb)]+'\x20‚Äî\x20'+_0x21d3fb[_0x53338e(0x18b)]+'\x0a\x0a')+'–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™';case _0x53338e(0x28b):return _0x53338e(0x2da)+_0x53338e(0x1d9)+(_0x53338e(0x17f)+_0x21d3fb[_0x53338e(0x1cb)]+_0x53338e(0x174)+_0x21d3fb[_0x53338e(0x18b)]+_0x53338e(0x214))+(_0x53338e(0x204)+_0x49f32b);case'cancel':return _0x53338e(0x258)+(_0x53338e(0x237)+_0x49f32b+'\x20('+_0x21d3fb[_0x53338e(0x1cb)]+_0x53338e(0x199));case'complete':return _0x53338e(0x247)+_0x53338e(0x198)+_0x53338e(0x2ac);default:return'';}},async 'send'(_0x120e1d,_0x1682f0){const _0x20721a=a2_0x3bc7a9;console['log']('[Notify]\x20Attempting\x20to\x20send:',_0x120e1d,_0x1682f0);if(!_0x1682f0){console[_0x20721a(0x224)](_0x20721a(0x2eb));return;}const _0x3ff8b0=String(_0x1682f0[_0x20721a(0x2f4)]);console[_0x20721a(0x24e)](_0x20721a(0x27f),_0x3ff8b0);if(!_0x1682f0['clientId']||_0x3ff8b0===_0x20721a(0x25d)||_0x3ff8b0==='null'){console[_0x20721a(0x224)](_0x20721a(0x298));if(_0x1682f0['client']){const _0x3e90f=clients[_0x20721a(0x180)](_0x5c97e1=>_0x5c97e1[_0x20721a(0x209)]===_0x1682f0['client']);if(_0x3e90f)return console[_0x20721a(0x24e)]('[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:',_0x3e90f['id']),this[_0x20721a(0x1fb)](_0x120e1d,{..._0x1682f0,'clientId':_0x3e90f['id']});}return;}if(_0x3ff8b0[_0x20721a(0x217)]<0x5){console[_0x20721a(0x17d)](_0x20721a(0x22b),_0x3ff8b0);return;}const _0x3d3058=this['getText'](_0x120e1d,_0x1682f0);if(!_0x3d3058){console[_0x20721a(0x224)](_0x20721a(0x18a));return;}console['log'](_0x20721a(0x2f1)+_0x3ff8b0+_0x20721a(0x234)),DataManager['fetchFromServer'](_0x20721a(0x206),{'chatId':_0x3ff8b0,'text':_0x3d3058})[_0x20721a(0x194)](_0x2af283=>console[_0x20721a(0x24e)](_0x20721a(0x17e),_0x2af283))['catch'](_0xd89569=>console['error'](_0x20721a(0x1b2),_0xd89569));}};function getLocalDateStr(_0x48d6d8){const _0x1b0a25=a2_0x3bc7a9,_0x31a3f1=_0x48d6d8[_0x1b0a25(0x2b7)](),_0x5b12c3=String(_0x48d6d8[_0x1b0a25(0x2e1)]()+0x1)['padStart'](0x2,'0'),_0x330a00=String(_0x48d6d8[_0x1b0a25(0x2cb)]())[_0x1b0a25(0x1c1)](0x2,'0');return _0x31a3f1+'-'+_0x5b12c3+'-'+_0x330a00;}function getDateStr(_0x4ee064){const _0x53ee97=a2_0x3bc7a9,_0x21102a=new Date();return _0x21102a[_0x53ee97(0x2cf)](_0x21102a[_0x53ee97(0x2cb)]()+_0x4ee064),getLocalDateStr(_0x21102a);}function getStartOfWeek(_0x37a86f){const _0xfa5215=a2_0x3bc7a9,_0x153880=new Date(_0x37a86f),_0x575bab=_0x153880[_0xfa5215(0x1c8)](),_0x14a67e=_0x153880[_0xfa5215(0x2cb)]()-_0x575bab+(_0x575bab===0x0?-0x6:0x1);return _0x153880['setDate'](_0x14a67e),_0x153880[_0xfa5215(0x2c0)](0x0,0x0,0x0,0x0),_0x153880;}function hexToRgba(_0x465d3a,_0x3d81e2){const _0x352893=a2_0x3bc7a9;if(!_0x465d3a)return _0x352893(0x245);let _0x41288c=0x0,_0x2963db=0x0,_0x1fb4e4=0x0;if(_0x465d3a['length']===0x4)_0x41288c='0x'+_0x465d3a[0x1]+_0x465d3a[0x1],_0x2963db='0x'+_0x465d3a[0x2]+_0x465d3a[0x2],_0x1fb4e4='0x'+_0x465d3a[0x3]+_0x465d3a[0x3];else _0x465d3a['length']===0x7&&(_0x41288c='0x'+_0x465d3a[0x1]+_0x465d3a[0x2],_0x2963db='0x'+_0x465d3a[0x3]+_0x465d3a[0x4],_0x1fb4e4='0x'+_0x465d3a[0x5]+_0x465d3a[0x6]);return _0x352893(0x222)+ +_0x41288c+',\x20'+ +_0x2963db+',\x20'+ +_0x1fb4e4+',\x20'+_0x3d81e2+')';}function renderTimeColumn(){const _0x488092=a2_0x3bc7a9,_0x48f9d0=document['getElementById'](_0x488092(0x216)),_0x1677de=document['getElementById'](_0x488092(0x22c));_0x48f9d0[_0x488092(0x1f1)]='',_0x48f9d0[_0x488092(0x219)](_0x1677de);for(let _0x5e2d96=0x0;_0x5e2d96<0x18;_0x5e2d96++){const _0x571648=document[_0x488092(0x20d)](_0x488092(0x260));_0x571648[_0x488092(0x1ec)]='time-label';if(_0x5e2d96>0x0)_0x571648[_0x488092(0x1f1)]=_0x488092(0x283)+String(_0x5e2d96)[_0x488092(0x1c1)](0x2,'0')+_0x488092(0x20a);_0x48f9d0['appendChild'](_0x571648);}}function renderDayRange(_0x3ea7b5,_0x28c531){const _0x7ae373=a2_0x3bc7a9,_0x4253d5=document['getElementById'](_0x7ae373(0x1f2)),_0x586a13=document[_0x7ae373(0x236)](_0x7ae373(0x20f)),_0x3d065e=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1fb4de=new Date();_0x1fb4de[_0x7ae373(0x2c0)](0x0,0x0,0x0,0x0);const _0x186fae=getLocalDateStr(new Date());for(let _0x46f9b6=_0x3ea7b5;_0x46f9b6<=_0x28c531;_0x46f9b6++){const _0x2c4cea=new Date(_0x1fb4de);_0x2c4cea['setDate'](_0x2c4cea['getDate']()+_0x46f9b6);const _0x44841d=getLocalDateStr(_0x2c4cea);let _0x5be2b5=_0x2c4cea[_0x7ae373(0x1c8)]()-0x1;if(_0x5be2b5===-0x1)_0x5be2b5=0x6;const _0x1698a7=_0x44841d===_0x186fae,_0x2bffa3=document[_0x7ae373(0x20d)](_0x7ae373(0x260));_0x2bffa3[_0x7ae373(0x1ec)]=_0x7ae373(0x27a)+(_0x1698a7?_0x7ae373(0x1e8):''),_0x2bffa3['id']='header-'+_0x44841d,_0x2bffa3['setAttribute'](_0x7ae373(0x2a9),_0x44841d),_0x2bffa3[_0x7ae373(0x1f1)]=_0x7ae373(0x2ed)+_0x3d065e[_0x5be2b5]+'</div><div\x20class=\x22dch-num\x22>'+_0x2c4cea[_0x7ae373(0x2cb)]()+_0x7ae373(0x23d)+_0x44841d+_0x7ae373(0x1aa),_0x2bffa3[_0x7ae373(0x1a8)]=()=>openDayOptions(_0x44841d,_0x3d065e[_0x5be2b5]+'\x20'+_0x2c4cea[_0x7ae373(0x2cb)]()),_0x4253d5[_0x7ae373(0x219)](_0x2bffa3);const _0x5f00a7=document[_0x7ae373(0x20d)](_0x7ae373(0x260));_0x5f00a7['className']='day-column\x20'+(_0x1698a7?_0x7ae373(0x1e8):''),_0x5f00a7['setAttribute'](_0x7ae373(0x2a9),_0x44841d),_0x5f00a7[_0x7ae373(0x266)](_0x7ae373(0x241),_0x5be2b5),renderEventsForColumn(_0x5f00a7,_0x44841d,_0x5be2b5),attachLongPressHandler(_0x5f00a7,_0x2c4cea),_0x586a13[_0x7ae373(0x219)](_0x5f00a7),updateDayStats(_0x44841d);}}function reRenderBlocks(){const _0x28cf0c=a2_0x3bc7a9;document[_0x28cf0c(0x21e)](_0x28cf0c(0x23a))['forEach'](_0x3e423f=>{const _0x63b53d=_0x28cf0c;_0x3e423f[_0x63b53d(0x21e)](_0x63b53d(0x21c))[_0x63b53d(0x233)](_0x449699=>_0x449699[_0x63b53d(0x1ba)]());const _0x5c6dde=_0x3e423f['getAttribute'](_0x63b53d(0x2a9)),_0x43a552=parseInt(_0x3e423f['getAttribute'](_0x63b53d(0x241))),_0x28e637=Math['round'](_0x3e423f[_0x63b53d(0x19c)]);(availabilityPattern[_0x43a552]||[])[_0x63b53d(0x233)](_0x553aa0=>{const _0x10288d=_0x63b53d,_0x352863=document['createElement']('div');_0x352863[_0x10288d(0x1ec)]=_0x10288d(0x276);const _0x15385a=_0x553aa0*GRID_H;_0x352863['style']['top']=_0x15385a+'px',_0x352863[_0x10288d(0x1cf)][_0x10288d(0x259)]='-'+_0x28e637+_0x10288d(0x2ce)+_0x15385a+'px',_0x3e423f[_0x10288d(0x219)](_0x352863);});if(specialRanges&&specialRanges[_0x63b53d(0x217)]>0x0){const _0x1e08c0=new Date(_0x5c6dde+_0x63b53d(0x24b))['getTime'](),_0x88618=new Date(_0x5c6dde+_0x63b53d(0x25a))[_0x63b53d(0x299)]();specialRanges[_0x63b53d(0x233)](_0x5ad3ed=>{const _0x2c69e8=_0x63b53d,_0x49cf82=new Date(_0x5ad3ed[_0x2c69e8(0x1cb)])[_0x2c69e8(0x299)](),_0x690157=new Date(_0x5ad3ed[_0x2c69e8(0x18b)])[_0x2c69e8(0x299)](),_0x17cf42=Math[_0x2c69e8(0x184)](_0x1e08c0,_0x49cf82),_0x25397c=Math[_0x2c69e8(0x1c6)](_0x88618,_0x690157);if(_0x17cf42<_0x25397c){if(_0x17cf42<=_0x1e08c0&&_0x25397c>=_0x88618-0xea60){if(!_0x3e423f['querySelector'](_0x2c69e8(0x21a))){const _0x5bc3ea=document[_0x2c69e8(0x20d)]('div');_0x5bc3ea[_0x2c69e8(0x1ec)]='day-off-overlay\x20stripe-bg',_0x5bc3ea[_0x2c69e8(0x1cf)][_0x2c69e8(0x259)]='-'+_0x28e637+'px\x200px',_0x3e423f[_0x2c69e8(0x219)](_0x5bc3ea);}}else{const _0x2755fd=(_0x17cf42-_0x1e08c0)/0x36ee80*GRID_H,_0x2bf660=(_0x25397c-_0x17cf42)/0x36ee80*GRID_H,_0x482814=document[_0x2c69e8(0x20d)]('div');_0x482814[_0x2c69e8(0x1ec)]=_0x2c69e8(0x263),_0x482814[_0x2c69e8(0x1cf)]['top']=_0x2755fd+'px',_0x482814[_0x2c69e8(0x1cf)][_0x2c69e8(0x2e0)]=_0x2bf660+'px',_0x482814[_0x2c69e8(0x1cf)][_0x2c69e8(0x259)]='-'+_0x28e637+_0x2c69e8(0x2ce)+_0x2755fd+'px',_0x3e423f[_0x2c69e8(0x219)](_0x482814);}}});}if(dateExceptions[_0x5c6dde]===_0x63b53d(0x1c5)){if(!_0x3e423f[_0x63b53d(0x22d)](_0x63b53d(0x21a))){const _0x1c06c5=document[_0x63b53d(0x20d)](_0x63b53d(0x260));_0x1c06c5[_0x63b53d(0x1ec)]=_0x63b53d(0x1e7),_0x1c06c5['style'][_0x63b53d(0x259)]='-'+_0x28e637+_0x63b53d(0x24f),_0x3e423f[_0x63b53d(0x219)](_0x1c06c5);}}renderEventsForColumn(_0x3e423f,_0x5c6dde,_0x43a552),updateDayStats(_0x5c6dde);});}function updateAllDayStats(){const _0x5b08f8=a2_0x3bc7a9;document[_0x5b08f8(0x21e)](_0x5b08f8(0x2b6))[_0x5b08f8(0x233)](_0x5b951e=>{const _0xa3beb9=_0x5b08f8;updateDayStats(_0x5b951e[_0xa3beb9(0x173)](_0xa3beb9(0x2a9)));});}function updateDayStats(_0x127242){const _0x2970b8=a2_0x3bc7a9,_0x3b7ef5=document[_0x2970b8(0x236)](_0x2970b8(0x1ae)+_0x127242);if(!_0x3b7ef5)return;const _0x3882a8=new Date(_0x127242);let _0x3210fc=_0x3882a8[_0x2970b8(0x1c8)]()-0x1;if(_0x3210fc===-0x1)_0x3210fc=0x6;if(dateExceptions[_0x127242]==='off'){_0x3b7ef5[_0x2970b8(0x1cf)][_0x2970b8(0x1bf)]=_0x2970b8(0x267);return;}const _0xf6ecb8=availabilityPattern[_0x3210fc]||[],_0x2648e3=0x18-_0xf6ecb8[_0x2970b8(0x217)],_0x386faa=_0x2648e3*0x3c,_0x22cd5c=sessions['filter'](_0x591a9d=>_0x591a9d[_0x2970b8(0x2e3)]===_0x127242&&_0x591a9d[_0x2970b8(0x268)]!=='cancelled');if(_0x22cd5c['length']===0x0){_0x3b7ef5[_0x2970b8(0x1cf)][_0x2970b8(0x1bf)]=_0x2970b8(0x267);return;}let _0x20a0e4=_0x22cd5c[_0x2970b8(0x1ea)](_0x216eb4=>{const _0x18bdf6=_0x2970b8,[_0xd6a29e,_0x22f6ae]=_0x216eb4[_0x18bdf6(0x1cb)][_0x18bdf6(0x2d7)](':')[_0x18bdf6(0x1ea)](Number),[_0x4d0c76,_0x42915d]=_0x216eb4[_0x18bdf6(0x18b)]['split'](':')[_0x18bdf6(0x1ea)](Number);return[_0xd6a29e*0x3c+_0x22f6ae,_0x4d0c76*0x3c+_0x42915d];});_0x20a0e4[_0x2970b8(0x20e)]((_0x29e8b2,_0x3255a4)=>_0x29e8b2[0x0]-_0x3255a4[0x0]);let _0x4fcbab=[];if(_0x20a0e4[_0x2970b8(0x217)]>0x0){let _0x502473=_0x20a0e4[0x0];for(let _0x3f8040=0x1;_0x3f8040<_0x20a0e4['length'];_0x3f8040++){_0x20a0e4[_0x3f8040][0x0]<_0x502473[0x1]?_0x502473[0x1]=Math[_0x2970b8(0x184)](_0x502473[0x1],_0x20a0e4[_0x3f8040][0x1]):(_0x4fcbab[_0x2970b8(0x281)](_0x502473),_0x502473=_0x20a0e4[_0x3f8040]);}_0x4fcbab[_0x2970b8(0x281)](_0x502473);}let _0x62ab2a=0x0;_0x4fcbab[_0x2970b8(0x233)](_0x3dc66e=>_0x62ab2a+=_0x3dc66e[0x1]-_0x3dc66e[0x0]),_0x3b7ef5[_0x2970b8(0x1cf)][_0x2970b8(0x1bf)]=_0x2970b8(0x232);const _0x424f64=_0x3b7ef5[_0x2970b8(0x22d)](_0x2970b8(0x1f9));if(_0x386faa===0x0){_0x424f64['style'][_0x2970b8(0x27b)]='100%',_0x424f64[_0x2970b8(0x1cf)][_0x2970b8(0x2c2)]=_0x2970b8(0x1d3);return;}const _0x382420=_0x62ab2a/_0x386faa*0x64;console[_0x2970b8(0x24e)]('['+_0x127242+_0x2970b8(0x274)+_0x2648e3+'—á,\x20–ó–∞–Ω—è—Ç–æ:\x20'+_0x62ab2a+_0x2970b8(0x2e2)+_0x382420[_0x2970b8(0x297)](0x1)+'%'),_0x382420>0x64?(_0x424f64[_0x2970b8(0x1cf)]['width']=_0x2970b8(0x212),_0x424f64['style'][_0x2970b8(0x2c2)]='var(--acc-red)'):(_0x424f64[_0x2970b8(0x1cf)][_0x2970b8(0x27b)]=_0x382420+'%',_0x424f64[_0x2970b8(0x1cf)][_0x2970b8(0x2c2)]=_0x2970b8(0x1b7));}function renderEventsForColumn(_0x25e58a,_0x503504,_0x1fb893){const _0x39d887=a2_0x3bc7a9,_0x4ae7f7=sessions[_0x39d887(0x1f3)](_0x233433=>_0x233433[_0x39d887(0x2e3)]===_0x503504),_0xb2aa94=_0x4ae7f7[_0x39d887(0x1ea)](_0x457232=>{const _0xf5e1e1=_0x39d887,[_0x3f0c4f,_0x1bb347]=_0x457232['start'][_0xf5e1e1(0x2d7)](':')[_0xf5e1e1(0x1ea)](Number),[_0x37a7fd,_0x53dae4]=_0x457232[_0xf5e1e1(0x18b)][_0xf5e1e1(0x2d7)](':')[_0xf5e1e1(0x1ea)](Number);return{'data':_0x457232,'start':_0x3f0c4f*0x3c+_0x1bb347,'end':_0x37a7fd*0x3c+_0x53dae4,'colIndex':0x0};});_0xb2aa94[_0x39d887(0x20e)]((_0x4109d5,_0x5a26c7)=>{const _0x1ae5cf=_0x39d887;if(_0x4109d5[_0x1ae5cf(0x1cb)]!==_0x5a26c7[_0x1ae5cf(0x1cb)])return _0x4109d5[_0x1ae5cf(0x1cb)]-_0x5a26c7[_0x1ae5cf(0x1cb)];return _0x5a26c7[_0x1ae5cf(0x18b)]-_0x5a26c7['start']-(_0x4109d5[_0x1ae5cf(0x18b)]-_0x4109d5[_0x1ae5cf(0x1cb)]);});const _0x517715=[];_0xb2aa94['forEach'](_0x3b7862=>{const _0x42d5d9=_0x39d887;let _0x23196e=![];for(let _0x4291c7=0x0;_0x4291c7<_0x517715[_0x42d5d9(0x217)];_0x4291c7++){const _0x192a7d=_0x517715[_0x4291c7],_0x5967c4=_0x192a7d[_0x192a7d['length']-0x1];if(_0x3b7862['start']>=_0x5967c4[_0x42d5d9(0x18b)]){_0x192a7d[_0x42d5d9(0x281)](_0x3b7862),_0x3b7862['colIndex']=_0x4291c7,_0x23196e=!![];break;}}!_0x23196e&&(_0x517715[_0x42d5d9(0x281)]([_0x3b7862]),_0x3b7862['colIndex']=_0x517715[_0x42d5d9(0x217)]-0x1);}),_0xb2aa94[_0x39d887(0x233)](_0x55fe67=>{const _0x19dd3f=_0x39d887;let _0x2c7899=0x0;_0xb2aa94[_0x19dd3f(0x233)](_0x34466b=>{const _0x1925af=_0x19dd3f;if(Math[_0x1925af(0x184)](_0x55fe67['start'],_0x34466b[_0x1925af(0x1cb)])<Math['min'](_0x55fe67[_0x1925af(0x18b)],_0x34466b[_0x1925af(0x18b)])){if(_0x34466b['colIndex']>_0x2c7899)_0x2c7899=_0x34466b[_0x1925af(0x29e)];}});const _0xe6c55=_0x2c7899+0x1,_0x39c7fe=0x64/_0xe6c55,_0x3d0b35=_0x55fe67['colIndex']*_0x39c7fe,_0x30a3b0=createEventEl(_0x55fe67['data']);_0x30a3b0['style']['width']=_0x19dd3f(0x2a6)+_0x39c7fe+'%\x20-\x204px)',_0x30a3b0['style']['left']='calc('+_0x3d0b35+_0x19dd3f(0x218),_0x30a3b0[_0x19dd3f(0x1cf)][_0x19dd3f(0x273)]=0xa+_0x55fe67[_0x19dd3f(0x29e)],_0x39c7fe<0x55&&_0x30a3b0[_0x19dd3f(0x1c3)]['add']('mini'),_0x25e58a[_0x19dd3f(0x219)](_0x30a3b0);});}function createEventEl(_0x31b85e){const _0x320fb1=a2_0x3bc7a9,[_0x21db13,_0x4d0f5b]=_0x31b85e[_0x320fb1(0x1cb)]['split'](':')['map'](Number),[_0x5d6aac,_0x263628]=_0x31b85e['end'][_0x320fb1(0x2d7)](':')[_0x320fb1(0x1ea)](Number),_0x2457e5=(_0x21db13*0x3c+_0x4d0f5b)/0x3c*GRID_H,_0x44debd=(_0x5d6aac*0x3c+_0x263628-(_0x21db13*0x3c+_0x4d0f5b))/0x3c*GRID_H,_0x1fe57f=document[_0x320fb1(0x20d)](_0x320fb1(0x260)),_0x22749e=_0x31b85e[_0x320fb1(0x268)]===_0x320fb1(0x255)?_0x320fb1(0x1bc):'';_0x1fe57f[_0x320fb1(0x1ec)]=_0x320fb1(0x1ca)+_0x22749e,_0x1fe57f['style'][_0x320fb1(0x271)]=_0x2457e5+'px',_0x1fe57f[_0x320fb1(0x1cf)][_0x320fb1(0x2e0)]=Math[_0x320fb1(0x184)](_0x44debd,0x14)+'px';const _0x325811=clients['find'](_0x296acb=>_0x31b85e[_0x320fb1(0x2f4)]&&String(_0x296acb['id'])===String(_0x31b85e[_0x320fb1(0x2f4)])||_0x296acb[_0x320fb1(0x209)]===_0x31b85e[_0x320fb1(0x1a2)]),_0x5e7645=_0x325811?_0x325811[_0x320fb1(0x228)]:_0x320fb1(0x190);_0x1fe57f[_0x320fb1(0x1cf)][_0x320fb1(0x1b6)]=_0x5e7645,_0x1fe57f[_0x320fb1(0x1cf)][_0x320fb1(0x292)]=hexToRgba(_0x5e7645,0.85);let _0x206a88=_0x320fb1(0x1e5)+_0x31b85e[_0x320fb1(0x1a2)]+_0x320fb1(0x1b4)+_0x31b85e['start']+_0x320fb1(0x19a)+_0x31b85e['end']+_0x320fb1(0x185);return _0x31b85e[_0x320fb1(0x285)]&&(_0x206a88+=_0x320fb1(0x289)),_0x31b85e[_0x320fb1(0x268)]===_0x320fb1(0x255)&&(_0x206a88+=_0x320fb1(0x2c5)),_0x1fe57f[_0x320fb1(0x1f1)]=_0x206a88,_0x1fe57f['onclick']=_0x4d54d7=>{const _0x5885a8=_0x320fb1;_0x4d54d7[_0x5885a8(0x182)](),openEdit(_0x31b85e);},_0x1fe57f;}function attachLongPressHandler(_0x4565f8,_0x187329){const _0x30d3f7=a2_0x3bc7a9;let _0x2935e2=0x0,_0x29dbd3=null;const _0x3d7b9e=_0x1de3b2=>{const _0x3b1558=a2_0x43e3;if(_0x1de3b2['target'][_0x3b1558(0x1df)](_0x3b1558(0x29b)))return;isScrolling=![],_0x2935e2=_0x1de3b2[_0x3b1558(0x286)]?_0x1de3b2['touches'][0x0][_0x3b1558(0x1a5)]:_0x1de3b2[_0x3b1558(0x1a5)],_0x29dbd3=setTimeout(()=>{const _0x4bea53=_0x3b1558;if(!isScrolling){navigator[_0x4bea53(0x1fd)]?.(0x32);const _0x2a0c0c=_0x4565f8[_0x4bea53(0x2c6)](),_0x3999de=Math[_0x4bea53(0x279)]((_0x2935e2-_0x2a0c0c['top'])/GRID_H);_0x187329['setHours'](_0x3999de,0x0),openAddSession(_0x187329);}},0x1f4);},_0x21b700=()=>{isScrolling=!![],clearTimeout(_0x29dbd3);},_0x1b8f36=()=>{clearTimeout(_0x29dbd3);};_0x4565f8[_0x30d3f7(0x1d4)]('touchstart',_0x3d7b9e,{'passive':!![]}),_0x4565f8[_0x30d3f7(0x1d4)](_0x30d3f7(0x277),_0x21b700,{'passive':!![]}),_0x4565f8['addEventListener'](_0x30d3f7(0x210),_0x1b8f36),_0x4565f8[_0x30d3f7(0x1d4)](_0x30d3f7(0x270),_0x3d7b9e),_0x4565f8['addEventListener']('mousemove',_0x21b700),_0x4565f8['addEventListener'](_0x30d3f7(0x1da),_0x1b8f36);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x2ffd1e=a2_0x3bc7a9,_0x337e4c=document[_0x2ffd1e(0x236)]('matrixViewport'),_0x442f85=_0x337e4c[_0x2ffd1e(0x250)],_0x2ccdb0=_0x337e4c[_0x2ffd1e(0x183)],_0xb87cf8=_0x337e4c['clientWidth'];if(_0x2ccdb0-(_0x442f85+_0xb87cf8)<0x12c){const _0xb37888=endOffset;endOffset+=0xe,renderDayRange(_0xb37888+0x1,endOffset),reRenderBlocks();}if(_0x442f85<0x12c){const _0x7ade5a=startOffset;startOffset-=0xe,prependDays(startOffset,_0x7ade5a-0x1),_0x337e4c[_0x2ffd1e(0x250)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x344335,_0x400431){const _0x7af356=a2_0x3bc7a9,_0xe6b6a3=document[_0x7af356(0x236)](_0x7af356(0x1f2)),_0x10f004=document[_0x7af356(0x236)](_0x7af356(0x20f)),_0x3cab73=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1d312a=new Date();_0x1d312a['setHours'](0x0,0x0,0x0,0x0);const _0x4a71ec=getLocalDateStr(new Date()),_0x130407=document['createDocumentFragment'](),_0x37f908=document[_0x7af356(0x1eb)]();for(let _0x18e348=_0x344335;_0x18e348<=_0x400431;_0x18e348++){const _0x1a183b=new Date(_0x1d312a);_0x1a183b[_0x7af356(0x2cf)](_0x1a183b[_0x7af356(0x2cb)]()+_0x18e348);const _0x3376b3=getLocalDateStr(_0x1a183b);let _0x24106e=_0x1a183b[_0x7af356(0x1c8)]()-0x1;if(_0x24106e===-0x1)_0x24106e=0x6;const _0x1e6df6=_0x3376b3===_0x4a71ec,_0x290dcc=document[_0x7af356(0x20d)](_0x7af356(0x260));_0x290dcc['className']=_0x7af356(0x27a)+(_0x1e6df6?_0x7af356(0x1e8):''),_0x290dcc['id']='header-'+_0x3376b3,_0x290dcc['setAttribute']('data-date',_0x3376b3),_0x290dcc['innerHTML']=_0x7af356(0x2ed)+_0x3cab73[_0x24106e]+_0x7af356(0x2d9)+_0x1a183b[_0x7af356(0x2cb)]()+_0x7af356(0x23d)+_0x3376b3+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x290dcc[_0x7af356(0x1a8)]=()=>openDayOptions(_0x3376b3,_0x3cab73[_0x24106e]+'\x20'+_0x1a183b[_0x7af356(0x2cb)]()),_0x130407['appendChild'](_0x290dcc);const _0x3cc619=document[_0x7af356(0x20d)](_0x7af356(0x260));_0x3cc619['className']=_0x7af356(0x175)+(_0x1e6df6?_0x7af356(0x1e8):''),_0x3cc619[_0x7af356(0x266)](_0x7af356(0x2a9),_0x3376b3),_0x3cc619['setAttribute'](_0x7af356(0x241),_0x24106e),renderEventsForColumn(_0x3cc619,_0x3376b3,_0x24106e),attachLongPressHandler(_0x3cc619,_0x1a183b),_0x37f908[_0x7af356(0x219)](_0x3cc619),updateDayStats(_0x3376b3);}_0xe6b6a3['insertBefore'](_0x130407,_0xe6b6a3[_0x7af356(0x202)]),_0x10f004[_0x7af356(0x2f6)](_0x37f908,_0x10f004[_0x7af356(0x22d)]('.day-column'));}function validateAppointment(_0x17b981,_0x25be21,_0x3850b7,_0x3dbcaa,_0x24ca28){const _0x1d68fe=a2_0x3bc7a9,[_0x314b68,_0x3d72a9]=_0x25be21[_0x1d68fe(0x2d7)](':')[_0x1d68fe(0x1ea)](Number),[_0x441404,_0x58088d]=_0x3850b7[_0x1d68fe(0x2d7)](':')[_0x1d68fe(0x1ea)](Number),_0x3fa9c7=_0x314b68*0x3c+_0x3d72a9,_0x256a80=_0x441404*0x3c+_0x58088d,_0x4166ff=String(_0x24ca28);let _0x553ce2=![],_0x503fa0='';for(let _0x28c020 of sessions){if(_0x28c020[_0x1d68fe(0x2e3)]!==_0x17b981)continue;if(_0x28c020[_0x1d68fe(0x268)]===_0x1d68fe(0x227))continue;if(_0x3dbcaa&&String(_0x28c020['id'])===String(_0x3dbcaa))continue;const [_0x59af68,_0x478867]=_0x28c020[_0x1d68fe(0x1cb)][_0x1d68fe(0x2d7)](':')[_0x1d68fe(0x1ea)](Number),[_0x1e59df,_0x20c07f]=_0x28c020['end'][_0x1d68fe(0x2d7)](':')[_0x1d68fe(0x1ea)](Number),_0x5da871=_0x59af68*0x3c+_0x478867,_0x3ab636=_0x1e59df*0x3c+_0x20c07f;if(Math[_0x1d68fe(0x184)](_0x3fa9c7,_0x5da871)<Math[_0x1d68fe(0x1c6)](_0x256a80,_0x3ab636)){if(_0x28c020[_0x1d68fe(0x2f4)]&&String(_0x28c020['clientId'])===_0x4166ff)return{'valid':![],'msg':_0x1d68fe(0x2be)+_0x28c020[_0x1d68fe(0x1a2)]+_0x1d68fe(0x177)};_0x553ce2=!![],_0x503fa0=_0x28c020[_0x1d68fe(0x1a2)];}}if(_0x553ce2)return{'valid':!![],'warning':_0x1d68fe(0x1e1)+_0x503fa0};return{'valid':!![]};}function updateDateDisplay(){const _0x385160=a2_0x3bc7a9,_0x49f19c=document[_0x385160(0x236)](_0x385160(0x252))[_0x385160(0x26c)],_0x4739dc=document['getElementById'](_0x385160(0x231));if(!_0x49f19c){_0x4739dc[_0x385160(0x2cd)]='';return;}const [_0x15a662,_0x45046b,_0x262025]=_0x49f19c[_0x385160(0x2d7)]('-')[_0x385160(0x1ea)](Number),_0x58d28c=new Date(_0x15a662,_0x45046b-0x1,_0x262025),_0x1dcfac={'weekday':'long','day':_0x385160(0x2a4),'month':_0x385160(0x280),'year':'numeric'};let _0x1b55ef=_0x58d28c[_0x385160(0x220)]('ru-RU',_0x1dcfac);_0x1b55ef=_0x1b55ef[_0x385160(0x2c9)](0x0)[_0x385160(0x1c9)]()+_0x1b55ef[_0x385160(0x1c7)](0x1),_0x4739dc['textContent']=_0x1b55ef;}function autoSetEndTime(){const _0x116f6a=a2_0x3bc7a9,_0x4e008c=document[_0x116f6a(0x236)](_0x116f6a(0x1b0))[_0x116f6a(0x26c)];if(!_0x4e008c)return;const [_0x5ab037,_0x34c764]=_0x4e008c[_0x116f6a(0x2d7)](':')[_0x116f6a(0x1ea)](Number);let _0x2f39ae=_0x5ab037+0x1;if(_0x2f39ae>0x17)_0x2f39ae=0x0;const _0x2dd072=String(_0x2f39ae)[_0x116f6a(0x1c1)](0x2,'0')+':'+String(_0x34c764)['padStart'](0x2,'0');document[_0x116f6a(0x236)]('inpEnd')[_0x116f6a(0x26c)]=_0x2dd072;}function populateClientSelect(){const _0x3b6b3d=a2_0x3bc7a9,_0x4e82c7=document[_0x3b6b3d(0x236)](_0x3b6b3d(0x23e));_0x4e82c7[_0x3b6b3d(0x1f1)]='';if(clients[_0x3b6b3d(0x217)]===0x0){const _0x28850e=document['createElement'](_0x3b6b3d(0x1d5));_0x28850e[_0x3b6b3d(0x23b)]=_0x3b6b3d(0x203),_0x4e82c7[_0x3b6b3d(0x219)](_0x28850e);return;}clients[_0x3b6b3d(0x233)](_0x36cd8f=>{const _0x4ca904=_0x3b6b3d,_0x52ce1f=document['createElement']('option');_0x52ce1f[_0x4ca904(0x26c)]=_0x36cd8f[_0x4ca904(0x209)],_0x52ce1f[_0x4ca904(0x2cd)]=_0x36cd8f['name'],_0x4e82c7['appendChild'](_0x52ce1f);});}function openActionSheet(_0x4c6cb3){const _0x58a475=a2_0x3bc7a9,_0x7d2a49=document['getElementById'](_0x58a475(0x244)),_0x152ba6=document[_0x58a475(0x236)](_0x58a475(0x1a4)),_0x1bad7c=document[_0x58a475(0x236)](_0x58a475(0x26d)),_0x498657=document[_0x58a475(0x236)]('asBtnOne'),_0x12c15f=document[_0x58a475(0x236)](_0x58a475(0x242));_0x152ba6[_0x58a475(0x1c3)][_0x58a475(0x215)](_0x58a475(0x295)),_0x7d2a49[_0x58a475(0x1c3)]['add'](_0x58a475(0x196));if(_0x4c6cb3==='save')_0x1bad7c[_0x58a475(0x2cd)]=_0x58a475(0x2c8),_0x498657[_0x58a475(0x2cd)]=_0x58a475(0x1cc),_0x498657[_0x58a475(0x1a8)]=()=>{const _0x2061e9=_0x58a475;closeActionSheet(),updateSeriesBatch(_0x2061e9(0x1fc),tempSessionData);},_0x12c15f[_0x58a475(0x2cd)]='–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ',_0x12c15f[_0x58a475(0x1a8)]=()=>{const _0x493ba0=_0x58a475;closeActionSheet(),updateSeriesBatch(_0x493ba0(0x1d1),tempSessionData);};else _0x4c6cb3===_0x58a475(0x1f5)&&(_0x1bad7c[_0x58a475(0x2cd)]=_0x58a475(0x1a9),_0x498657[_0x58a475(0x2cd)]=_0x58a475(0x1cc),_0x498657[_0x58a475(0x1ec)]=_0x58a475(0x1fe),_0x498657[_0x58a475(0x1a8)]=()=>{const _0xb56c0a=_0x58a475;closeActionSheet(),commitDelete(_0xb56c0a(0x1fc),sessions[_0xb56c0a(0x180)](_0xadf689=>_0xadf689['id']===editingId));},_0x12c15f[_0x58a475(0x2cd)]=_0x58a475(0x2af),_0x12c15f[_0x58a475(0x1ec)]=_0x58a475(0x2b8),_0x12c15f['onclick']=()=>{const _0x35c7b3=_0x58a475;closeActionSheet(),commitDelete(_0x35c7b3(0x1d1),sessions[_0x35c7b3(0x180)](_0x51787f=>_0x51787f['id']===editingId));});}function closeActionSheet(){const _0x1586a8=a2_0x3bc7a9;document[_0x1586a8(0x236)](_0x1586a8(0x244))[_0x1586a8(0x1c3)][_0x1586a8(0x1ba)]('open'),document['getElementById'](_0x1586a8(0x1a4))[_0x1586a8(0x1c3)]['remove']('active');}function openSettings(){const _0x123f11=a2_0x3bc7a9;openSheet(_0x123f11(0x284));}function saveCoachSettings(){const _0x167207=a2_0x3bc7a9,_0x4ab81f=document[_0x167207(0x236)]('settingCancelWindow')['value'];localStorage[_0x167207(0x290)](_0x167207(0x28c),_0x4ab81f),console[_0x167207(0x24e)](_0x167207(0x294),_0x4ab81f),DataManager[_0x167207(0x2a2)]('save_settings',{'settings':{'cancel_window':_0x4ab81f}})[_0x167207(0x288)](_0x1ba1a0=>{const _0x1a56d0=_0x167207;console[_0x1a56d0(0x224)](_0x1a56d0(0x1fa),_0x1ba1a0),showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫',![]);});}function a2_0x43e3(_0x2152a2,_0x18494c){_0x2152a2=_0x2152a2-0x172;const _0x22713a=a2_0x1d9a();let _0x5aa7b7=_0x22713a[_0x2152a2];return _0x5aa7b7;}function loadCoachSettings(){const _0x11d7fe=a2_0x3bc7a9,_0x7e2f68=localStorage['getItem']('uc_settings_cancel_window');_0x7e2f68&&(document['getElementById']('settingCancelWindow')[_0x11d7fe(0x26c)]=_0x7e2f68);}function openRangesSheet(){const _0x3e41e4=a2_0x3bc7a9;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x3e41e4(0x208));}function addRange(){const _0x17b8f4=a2_0x3bc7a9,_0x24bd12=document[_0x17b8f4(0x236)](_0x17b8f4(0x1ee))['value'],_0x3c1538=document[_0x17b8f4(0x236)](_0x17b8f4(0x23c))[_0x17b8f4(0x26c)],_0x1a826b=document[_0x17b8f4(0x236)](_0x17b8f4(0x1a6))[_0x17b8f4(0x26c)],_0x5f5335=document[_0x17b8f4(0x236)]('rangeEndTime')['value'];if(!_0x24bd12||!_0x3c1538||!_0x1a826b||!_0x5f5335)return alert(_0x17b8f4(0x1ce));const _0x1d8516=_0x24bd12+'T'+_0x3c1538,_0x5dfad2=_0x1a826b+'T'+_0x5f5335;if(_0x1d8516>=_0x5dfad2)return alert('–û—à–∏–±–∫–∞\x20–¥–∞—Ç');specialRanges['push']({'start':_0x1d8516,'end':_0x5dfad2}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x17b8f4(0x2bb)](),DataManager['fetchFromServer']('save_settings',{'settings':{'ranges':specialRanges}});}function deleteRange(_0xaccd15){const _0x200be9=a2_0x3bc7a9;specialRanges[_0x200be9(0x205)](_0xaccd15,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x200be9(0x2bb)](),DataManager['fetchFromServer'](_0x200be9(0x1d7),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x469ce0=a2_0x3bc7a9;document[_0x469ce0(0x236)](_0x469ce0(0x1ee))[_0x469ce0(0x26c)]='',document[_0x469ce0(0x236)]('rangeStartTime')[_0x469ce0(0x26c)]=_0x469ce0(0x2e4),document['getElementById'](_0x469ce0(0x1a6))['value']='',document[_0x469ce0(0x236)](_0x469ce0(0x26f))['value']=_0x469ce0(0x2e7);}function renderRangesList(){const _0x25750f=a2_0x3bc7a9,_0x1d0d68=document['getElementById']('rangesList');_0x1d0d68[_0x25750f(0x1f1)]='';if(!specialRanges['length']){_0x1d0d68[_0x25750f(0x1f1)]='<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>';return;}specialRanges[_0x25750f(0x233)]((_0x54c19f,_0x4439fb)=>{const _0x272547=_0x25750f,_0x14c157=document[_0x272547(0x20d)](_0x272547(0x260));_0x14c157[_0x272547(0x1ec)]='range-item';const _0x4c7b8f=_0x1669d7=>{const _0x579363=_0x272547,_0x58a7a6=new Date(_0x1669d7);return _0x58a7a6[_0x579363(0x2cb)]()+'.'+String(_0x58a7a6[_0x579363(0x2e1)]()+0x1)[_0x579363(0x1c1)](0x2,'0')+'\x20'+String(_0x58a7a6[_0x579363(0x179)]())[_0x579363(0x1c1)](0x2,'0')+':'+String(_0x58a7a6[_0x579363(0x211)]())['padStart'](0x2,'0');};_0x14c157['innerHTML']=_0x272547(0x2a8)+_0x4c7b8f(_0x54c19f[_0x272547(0x1cb)])+_0x272547(0x174)+_0x4c7b8f(_0x54c19f['end'])+_0x272547(0x1cd)+_0x4439fb+_0x272547(0x2de),_0x1d0d68[_0x272547(0x219)](_0x14c157);});}function scrollToToday(){const _0x30a481=a2_0x3bc7a9,_0x260ed0=getLocalDateStr(new Date()),_0x452421=document[_0x30a481(0x236)](_0x30a481(0x2a5)+_0x260ed0),_0x1a57e7=document[_0x30a481(0x236)](_0x30a481(0x1dd));if(_0x452421&&_0x1a57e7){const _0x313698=_0x1a57e7[_0x30a481(0x1db)],_0x4a95e7=_0x452421[_0x30a481(0x19c)],_0x32419f=_0x452421[_0x30a481(0x21d)];_0x1a57e7[_0x30a481(0x250)]=_0x4a95e7-_0x313698/0x2+_0x32419f/0x2,_0x1a57e7[_0x30a481(0x1e0)]=0x9*GRID_H;}}function onScroll(){const _0x1e4c82=a2_0x3bc7a9,_0x292704=document[_0x1e4c82(0x236)]('matrixViewport'),_0x10cafc=document[_0x1e4c82(0x21e)](_0x1e4c82(0x2b6));for(let _0x26e510 of _0x10cafc)if(_0x26e510['offsetLeft']>=_0x292704[_0x1e4c82(0x250)]){const _0x225668=new Date(_0x26e510[_0x1e4c82(0x173)](_0x1e4c82(0x2a9)));document[_0x1e4c82(0x236)](_0x1e4c82(0x25e))[_0x1e4c82(0x2cd)]=_0x225668['toLocaleString']('ru',{'month':_0x1e4c82(0x280)})['toUpperCase']()+'\x20'+_0x225668['getFullYear']();break;}}function showToast(_0x3d1124,_0x50b6e9=![]){const _0x586ba5=a2_0x3bc7a9,_0xd1840=document[_0x586ba5(0x236)](_0x586ba5(0x2e8));_0xd1840[_0x586ba5(0x1ec)]='toast-notification\x20'+(_0x50b6e9?_0x586ba5(0x189):''),document['getElementById']('toastTitle')[_0x586ba5(0x2cd)]=_0x50b6e9?_0x586ba5(0x243):_0x586ba5(0x1c0),document[_0x586ba5(0x236)](_0x586ba5(0x296))[_0x586ba5(0x2cd)]=_0x3d1124,_0xd1840[_0x586ba5(0x1c3)][_0x586ba5(0x215)]('show'),setTimeout(()=>{const _0xa83f33=_0x586ba5;_0xd1840[_0xa83f33(0x1c3)]['remove'](_0xa83f33(0x2c3));},0xbb8);}function openDayOptions(_0x280e2e,_0x5314b0){const _0xdbd82d=a2_0x3bc7a9;selectedDayForOptions=_0x280e2e,document['getElementById'](_0xdbd82d(0x2d1))['textContent']=_0x5314b0,openSheet(_0xdbd82d(0x2bc));}function toggleDayOff(){const _0x2cfa54=a2_0x3bc7a9;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x2cfa54(0x1c5),reRenderBlocks(),closeAllSheets(),DataManager[_0x2cfa54(0x2bb)](),DataManager[_0x2cfa54(0x2a2)](_0x2cfa54(0x1d7),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x14ab4d=a2_0x3bc7a9;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x14ab4d(0x2bb)](),DataManager[_0x14ab4d(0x2a2)](_0x14ab4d(0x1d7),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x4506fc){const _0x4d3f06=a2_0x3bc7a9;document[_0x4d3f06(0x236)](_0x4d3f06(0x1ab))[_0x4d3f06(0x1c3)][_0x4d3f06(0x215)](_0x4d3f06(0x295)),document[_0x4d3f06(0x236)](_0x4506fc)[_0x4d3f06(0x1c3)][_0x4d3f06(0x215)](_0x4d3f06(0x196));}function closeAllSheets(){const _0x3d8386=a2_0x3bc7a9;document[_0x3d8386(0x236)](_0x3d8386(0x1ab))[_0x3d8386(0x1c3)][_0x3d8386(0x1ba)]('active'),document[_0x3d8386(0x21e)](_0x3d8386(0x28f))['forEach'](_0x471c6b=>_0x471c6b[_0x3d8386(0x1c3)]['remove'](_0x3d8386(0x196)));}function openPatternEditor(){const _0x1aa9bd=a2_0x3bc7a9;closeAllSheets(),document['getElementById'](_0x1aa9bd(0x187))[_0x1aa9bd(0x1c3)]['add']('open'),renderPatternEditor();}function closePatternEditor(){const _0x2ff19e=a2_0x3bc7a9;document['getElementById'](_0x2ff19e(0x187))[_0x2ff19e(0x1c3)][_0x2ff19e(0x1ba)](_0x2ff19e(0x196));}function savePattern(){const _0x2cbfa8=a2_0x3bc7a9;document[_0x2cbfa8(0x236)](_0x2cbfa8(0x187))[_0x2cbfa8(0x1c3)][_0x2cbfa8(0x1ba)]('open'),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x2cbfa8(0x2a2)](_0x2cbfa8(0x1d7),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x58579e=a2_0x3bc7a9,_0x5459b5=document[_0x58579e(0x236)](_0x58579e(0x278));_0x5459b5[_0x58579e(0x1f1)]='';const _0x5160e4=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x389a74=document['createElement'](_0x58579e(0x260));_0x389a74[_0x58579e(0x1ec)]=_0x58579e(0x1b8),_0x5459b5[_0x58579e(0x219)](_0x389a74),_0x5160e4[_0x58579e(0x233)]((_0x3e06f9,_0x3eaeb3)=>{const _0x57d2ec=_0x58579e,_0x430755=document['createElement'](_0x57d2ec(0x260));_0x430755['className']=_0x57d2ec(0x2ea),_0x430755[_0x57d2ec(0x1f1)]=_0x3e06f9+_0x57d2ec(0x1d0),_0x430755[_0x57d2ec(0x1a8)]=()=>toggleColPattern(_0x3eaeb3),_0x5459b5[_0x57d2ec(0x219)](_0x430755);});for(let _0x45529e=0x0;_0x45529e<0x18;_0x45529e++){const _0x3a4a9a=document[_0x58579e(0x20d)](_0x58579e(0x260));_0x3a4a9a['className']='pe-time-label',_0x3a4a9a['innerHTML']=_0x58579e(0x2a3)+String(_0x45529e)[_0x58579e(0x1c1)](0x2,'0')+_0x58579e(0x2ee),_0x3a4a9a[_0x58579e(0x1a8)]=()=>toggleRowPattern(_0x45529e),_0x5459b5[_0x58579e(0x219)](_0x3a4a9a);for(let _0x176572=0x0;_0x176572<0x7;_0x176572++){const _0x171fb5=document[_0x58579e(0x20d)](_0x58579e(0x260)),_0x3415ec=(availabilityPattern[_0x176572]||[])['includes'](_0x45529e),_0x40ffd2=!_0x3415ec;_0x171fb5[_0x58579e(0x1ec)]='pe-cell\x20'+(_0x40ffd2?_0x58579e(0x295):''),_0x171fb5['onclick']=()=>toggleSinglePattern(_0x176572,_0x45529e),_0x5459b5['appendChild'](_0x171fb5);}}}function toggleSinglePattern(_0x3ef2f8,_0x1f8402){const _0x3231df=a2_0x3bc7a9;if(!availabilityPattern[_0x3ef2f8])availabilityPattern[_0x3ef2f8]=[];const _0x39be6d=availabilityPattern[_0x3ef2f8],_0xd9b1c7=_0x39be6d[_0x3231df(0x1e4)](_0x1f8402);_0xd9b1c7===-0x1?_0x39be6d[_0x3231df(0x281)](_0x1f8402):_0x39be6d[_0x3231df(0x205)](_0xd9b1c7,0x1),renderPatternEditor();}function toggleColPattern(_0x5d2694){if(!availabilityPattern[_0x5d2694])availabilityPattern[_0x5d2694]=[];const _0x36d737=availabilityPattern[_0x5d2694];_0x36d737['length']===0x0?availabilityPattern[_0x5d2694]=Array['from']({'length':0x18},(_0x5885f7,_0x1fd056)=>_0x1fd056):availabilityPattern[_0x5d2694]=[],renderPatternEditor();}function toggleRowPattern(_0x110111){const _0xb5b323=a2_0x3bc7a9;let _0x1275d7=!![];for(let _0x4ba36f=0x0;_0x4ba36f<0x7;_0x4ba36f++){if((availabilityPattern[_0x4ba36f]||[])[_0xb5b323(0x238)](_0x110111)){_0x1275d7=![];break;}}for(let _0x3e14cb=0x0;_0x3e14cb<0x7;_0x3e14cb++){if(!availabilityPattern[_0x3e14cb])availabilityPattern[_0x3e14cb]=[];const _0x35c9a8=availabilityPattern[_0x3e14cb]['indexOf'](_0x110111);if(_0x1275d7){if(_0x35c9a8===-0x1)availabilityPattern[_0x3e14cb][_0xb5b323(0x281)](_0x110111);}else{if(_0x35c9a8!==-0x1)availabilityPattern[_0x3e14cb]['splice'](_0x35c9a8,0x1);}}renderPatternEditor();}function renderPCol(_0x4b06a8,_0x21c78b){const _0x365d13=a2_0x3bc7a9;_0x4b06a8['innerHTML']='';const _0x3edc27=Math['round'](_0x4b06a8[_0x365d13(0x19c)]);(availabilityPattern[_0x21c78b]||[])[_0x365d13(0x233)](_0x54deb6=>{const _0x1539ae=_0x365d13,_0xb074ea=document[_0x1539ae(0x20d)](_0x1539ae(0x260));_0xb074ea[_0x1539ae(0x1ec)]=_0x1539ae(0x276);const _0x431c94=_0x54deb6*GRID_H;_0xb074ea[_0x1539ae(0x1cf)][_0x1539ae(0x271)]=_0x431c94+'px',_0xb074ea[_0x1539ae(0x1cf)]['backgroundPosition']='-'+_0x3edc27+_0x1539ae(0x2ce)+_0x431c94+'px',_0xb074ea['onclick']=_0x4eb3c6=>{const _0x33428e=_0x1539ae;_0x4eb3c6[_0x33428e(0x182)](),toggleSinglePattern(_0x21c78b,_0x54deb6);},_0x4b06a8['appendChild'](_0xb074ea);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x3ad373=a2_0x3bc7a9,_0x1814e5=new Date(),_0x39b497=document[_0x3ad373(0x236)](_0x3ad373(0x21b)),_0x553fb0=document['getElementById']('timeLineBadge'),_0x31ee91=(_0x1814e5[_0x3ad373(0x179)]()*0x3c+_0x1814e5[_0x3ad373(0x211)]())/0x3c*GRID_H;_0x39b497[_0x3ad373(0x1cf)][_0x3ad373(0x271)]=_0x31ee91+'px',_0x39b497['style'][_0x3ad373(0x1bf)]='block',_0x553fb0['textContent']=String(_0x1814e5['getHours']())['padStart'](0x2,'0')+':'+String(_0x1814e5[_0x3ad373(0x211)]())['padStart'](0x2,'0'),_0x553fb0[_0x3ad373(0x1cf)][_0x3ad373(0x1bf)]=_0x3ad373(0x2bd),_0x553fb0[_0x3ad373(0x1cf)][_0x3ad373(0x271)]=_0x31ee91+'px';}document[a2_0x3bc7a9(0x1d4)]('DOMContentLoaded',init);function openDayOptions(_0x199da2){const _0x8ce9e8=a2_0x3bc7a9;selectedDayForOptions=_0x199da2;const _0x4f5dc4=new Date(_0x199da2),_0x50b6fd={'weekday':_0x8ce9e8(0x280),'day':_0x8ce9e8(0x2a4),'month':_0x8ce9e8(0x280),'year':_0x8ce9e8(0x2a4)},_0x362bee=_0x4f5dc4[_0x8ce9e8(0x220)]('ru-RU',_0x50b6fd);document[_0x8ce9e8(0x236)](_0x8ce9e8(0x287))[_0x8ce9e8(0x2cd)]=_0x362bee[_0x8ce9e8(0x2c9)](0x0)[_0x8ce9e8(0x1c9)]()+_0x362bee['slice'](0x1);let _0x21d976=_0x4f5dc4['getDay']()-0x1;if(_0x21d976===-0x1)_0x21d976=0x6;const _0x7d03e4=availabilityPattern[_0x21d976]||[],_0x15ebeb=0x18-_0x7d03e4['length'],_0x3057fd=_0x15ebeb*0x3c,_0x3c8882=sessions[_0x8ce9e8(0x1f3)](_0x571e15=>_0x571e15[_0x8ce9e8(0x2e3)]===_0x199da2&&_0x571e15[_0x8ce9e8(0x268)]!==_0x8ce9e8(0x227));let _0x320875=_0x3c8882[_0x8ce9e8(0x1ea)](_0x1f0f54=>{const _0x1ea1bc=_0x8ce9e8,[_0x2506bd,_0x148798]=_0x1f0f54[_0x1ea1bc(0x1cb)]['split'](':')[_0x1ea1bc(0x1ea)](Number),[_0x3da12c,_0x130374]=_0x1f0f54[_0x1ea1bc(0x18b)]['split'](':')[_0x1ea1bc(0x1ea)](Number);return[_0x2506bd*0x3c+_0x148798,_0x3da12c*0x3c+_0x130374];});_0x320875[_0x8ce9e8(0x20e)]((_0x5c4f02,_0xbcbdac)=>_0x5c4f02[0x0]-_0xbcbdac[0x0]);let _0x2f3e71=[];if(_0x320875[_0x8ce9e8(0x217)]>0x0){let _0x227522=_0x320875[0x0];for(let _0x481c31=0x1;_0x481c31<_0x320875[_0x8ce9e8(0x217)];_0x481c31++){_0x320875[_0x481c31][0x0]<_0x227522[0x1]?_0x227522[0x1]=Math[_0x8ce9e8(0x184)](_0x227522[0x1],_0x320875[_0x481c31][0x1]):(_0x2f3e71['push'](_0x227522),_0x227522=_0x320875[_0x481c31]);}_0x2f3e71[_0x8ce9e8(0x281)](_0x227522);}let _0x3e4300=0x0;_0x2f3e71[_0x8ce9e8(0x233)](_0x4dca25=>_0x3e4300+=_0x4dca25[0x1]-_0x4dca25[0x0]),document['getElementById'](_0x8ce9e8(0x2b3))[_0x8ce9e8(0x2cd)]=formatMinsToHrs(_0x3057fd),document[_0x8ce9e8(0x236)](_0x8ce9e8(0x2cc))[_0x8ce9e8(0x2cd)]=formatMinsToHrs(_0x3e4300);const _0x48ccf1=_0x3057fd>0x0?Math[_0x8ce9e8(0x181)](_0x3e4300/_0x3057fd*0x64):0x0,_0x4eab91=document[_0x8ce9e8(0x236)]('doLoadPercent');_0x4eab91[_0x8ce9e8(0x2cd)]=_0x48ccf1+'%';const _0x5a2ce8=document[_0x8ce9e8(0x236)]('statLoadCard');if(_0x48ccf1>0x64)_0x4eab91[_0x8ce9e8(0x1cf)][_0x8ce9e8(0x228)]=_0x8ce9e8(0x1d3),_0x5a2ce8[_0x8ce9e8(0x1cf)][_0x8ce9e8(0x27e)]='rgba(255,\x2069,\x2058,\x200.3)';else _0x48ccf1>0x50?(_0x4eab91['style']['color']='var(--acc-orange)',_0x5a2ce8[_0x8ce9e8(0x1cf)]['borderColor']=_0x8ce9e8(0x19e)):(_0x4eab91['style'][_0x8ce9e8(0x228)]=_0x8ce9e8(0x29c),_0x5a2ce8[_0x8ce9e8(0x1cf)][_0x8ce9e8(0x27e)]=_0x8ce9e8(0x282));const _0x5caf61=document[_0x8ce9e8(0x236)](_0x8ce9e8(0x2b4));_0x5caf61[_0x8ce9e8(0x1f1)]='';_0x3c8882[_0x8ce9e8(0x217)]===0x0?_0x5caf61['innerHTML']='<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>':(_0x3c8882['sort']((_0xa1e2bd,_0x4d82c5)=>_0xa1e2bd['start'][_0x8ce9e8(0x2d3)](_0x4d82c5['start'])),_0x3c8882[_0x8ce9e8(0x233)](_0x3f57ff=>{const _0x234122=_0x8ce9e8,_0x1b0990=clients[_0x234122(0x180)](_0x1b04e9=>_0x1b04e9[_0x234122(0x209)]===_0x3f57ff[_0x234122(0x1a2)]),_0x524d09=_0x1b0990?_0x1b0990[_0x234122(0x228)]:_0x234122(0x29f),_0x4bdcfe=_0x3f57ff[_0x234122(0x268)]===_0x234122(0x255),_0x16cf30=_0x4bdcfe?_0x234122(0x21f):'',_0x5d9f02=document[_0x234122(0x20d)](_0x234122(0x260));_0x5d9f02['className']='de-item',_0x5d9f02[_0x234122(0x1cf)][_0x234122(0x1b6)]=_0x524d09,_0x5d9f02[_0x234122(0x1f1)]=_0x234122(0x1de)+_0x3f57ff[_0x234122(0x1cb)]+'\x20-\x20'+_0x3f57ff[_0x234122(0x18b)]+_0x234122(0x1f4)+_0x3f57ff[_0x234122(0x1a2)]+_0x234122(0x272)+_0x16cf30+_0x234122(0x221),_0x5caf61[_0x234122(0x219)](_0x5d9f02);}));const _0x2dd166=document[_0x8ce9e8(0x236)](_0x8ce9e8(0x2ab)),_0x638793=dateExceptions[_0x199da2]===_0x8ce9e8(0x1c5);_0x638793?(_0x2dd166[_0x8ce9e8(0x2cd)]=_0x8ce9e8(0x201),_0x2dd166['className']=_0x8ce9e8(0x195),_0x2dd166['style'][_0x8ce9e8(0x228)]='var(--acc-green)',_0x2dd166[_0x8ce9e8(0x1cf)][_0x8ce9e8(0x2c2)]='rgba(48,\x20209,\x2088,\x200.15)'):(_0x2dd166[_0x8ce9e8(0x2cd)]=_0x8ce9e8(0x1dc),_0x2dd166[_0x8ce9e8(0x1ec)]=_0x8ce9e8(0x1d2),_0x2dd166['style'][_0x8ce9e8(0x228)]=_0x8ce9e8(0x1d3),_0x2dd166[_0x8ce9e8(0x1cf)][_0x8ce9e8(0x2c2)]=_0x8ce9e8(0x1e2)),openSheet(_0x8ce9e8(0x2bc));}let currentAnPeriod=a2_0x3bc7a9(0x1e6);function openAnalytics(){const _0x26d353=a2_0x3bc7a9,_0x9e835f=document[_0x26d353(0x22d)](_0x26d353(0x207));setAnalyticsPeriod(_0x26d353(0x1e6),_0x9e835f),closeAllSheets(),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x2317c4,_0x3a90bc){const _0x889a6a=a2_0x3bc7a9;currentAnPeriod=_0x2317c4,document[_0x889a6a(0x21e)](_0x889a6a(0x207))[_0x889a6a(0x233)](_0x4740f7=>_0x4740f7['classList'][_0x889a6a(0x1ba)](_0x889a6a(0x295)));if(_0x3a90bc)_0x3a90bc[_0x889a6a(0x1c3)][_0x889a6a(0x215)](_0x889a6a(0x295));const _0x25b65e=document[_0x889a6a(0x236)](_0x889a6a(0x193));_0x25b65e[_0x889a6a(0x1cf)][_0x889a6a(0x1bf)]=_0x2317c4==='custom'?_0x889a6a(0x232):_0x889a6a(0x267);const _0x4352ac=new Date();let _0x50a249=new Date(),_0x26279f=new Date();if(_0x2317c4===_0x889a6a(0x1e6))_0x50a249=getStartOfWeek(_0x4352ac),_0x26279f=new Date(_0x50a249),_0x26279f[_0x889a6a(0x2cf)](_0x26279f[_0x889a6a(0x2cb)]()+0x6);else{if(_0x2317c4===_0x889a6a(0x1e9))_0x50a249=new Date(_0x4352ac[_0x889a6a(0x2b7)](),_0x4352ac[_0x889a6a(0x2e1)](),0x1),_0x26279f=new Date(_0x4352ac['getFullYear'](),_0x4352ac[_0x889a6a(0x2e1)]()+0x1,0x0);else{!document[_0x889a6a(0x236)](_0x889a6a(0x1be))[_0x889a6a(0x26c)]&&(document['getElementById']('anStart')[_0x889a6a(0x26c)]=getLocalDateStr(_0x4352ac),document['getElementById'](_0x889a6a(0x293))['value']=getLocalDateStr(_0x4352ac));refreshAnalytics();return;}}document['getElementById']('anStart')[_0x889a6a(0x26c)]=getLocalDateStr(_0x50a249),document[_0x889a6a(0x236)](_0x889a6a(0x293))[_0x889a6a(0x26c)]=getLocalDateStr(_0x26279f),refreshAnalytics();}function refreshAnalytics(){const _0x3a89e0=a2_0x3bc7a9,_0x5dd174=document['getElementById'](_0x3a89e0(0x1be))[_0x3a89e0(0x26c)],_0x5a3ea3=document[_0x3a89e0(0x236)]('anEnd')[_0x3a89e0(0x26c)];if(!_0x5dd174||!_0x5a3ea3)return;const _0x3a63cf=sessions[_0x3a89e0(0x1f3)](_0x4ac079=>_0x4ac079[_0x3a89e0(0x2e3)]>=_0x5dd174&&_0x4ac079[_0x3a89e0(0x2e3)]<=_0x5a3ea3&&_0x4ac079[_0x3a89e0(0x268)]!=='cancelled'),_0x41c1bd=_0x3a63cf[_0x3a89e0(0x217)],_0xb2e5ba=_0x3a63cf[_0x3a89e0(0x1f3)](_0x58ec58=>_0x58ec58[_0x3a89e0(0x268)]===_0x3a89e0(0x255))[_0x3a89e0(0x217)],_0x38674c=_0x41c1bd>0x0?Math[_0x3a89e0(0x181)](_0xb2e5ba/_0x41c1bd*0x64):0x0;document[_0x3a89e0(0x236)]('anPercent')[_0x3a89e0(0x2cd)]=_0x38674c+'%',document[_0x3a89e0(0x236)]('anTotalStats')[_0x3a89e0(0x2cd)]=_0xb2e5ba+_0x3a89e0(0x256)+_0x41c1bd+_0x3a89e0(0x24d);const _0x3f6727=document['getElementById'](_0x3a89e0(0x2b0)),_0x528fe9=0x2*Math['PI']*0x23,_0xd1d15e=_0x528fe9-_0x38674c/0x64*_0x528fe9;_0x3f6727[_0x3a89e0(0x1cf)][_0x3a89e0(0x188)]=_0xd1d15e;const _0x4df040={};_0x3a63cf[_0x3a89e0(0x233)](_0x2373ab=>{const _0x3ef6fc=_0x3a89e0;if(!_0x4df040[_0x2373ab[_0x3ef6fc(0x1a2)]]){const _0x1a7441=clients[_0x3ef6fc(0x180)](_0xee76a=>_0xee76a['name']===_0x2373ab[_0x3ef6fc(0x1a2)]);_0x4df040[_0x2373ab[_0x3ef6fc(0x1a2)]]={'total':0x0,'done':0x0,'color':_0x1a7441?_0x1a7441[_0x3ef6fc(0x228)]:'#fff'};}_0x4df040[_0x2373ab['client']][_0x3ef6fc(0x1ed)]++;if(_0x2373ab[_0x3ef6fc(0x268)]==='completed')_0x4df040[_0x2373ab[_0x3ef6fc(0x1a2)]][_0x3ef6fc(0x192)]++;});const _0x4dcba0=document[_0x3a89e0(0x236)](_0x3a89e0(0x2c4));_0x4dcba0[_0x3a89e0(0x1f1)]='';const _0x4f732f=Object[_0x3a89e0(0x1f6)](_0x4df040)[_0x3a89e0(0x20e)]((_0x571174,_0x56b291)=>_0x56b291[0x1]['total']-_0x571174[0x1][_0x3a89e0(0x1ed)]);if(_0x4f732f['length']===0x0){_0x4dcba0[_0x3a89e0(0x1f1)]=_0x3a89e0(0x1a0);return;}_0x4f732f[_0x3a89e0(0x233)](([_0x54aa87,_0x34b5de])=>{const _0xecc026=_0x3a89e0,_0x2d674f=Math['round'](_0x34b5de[_0xecc026(0x192)]/_0x34b5de[_0xecc026(0x1ed)]*0x64),_0x2d62c6=document[_0xecc026(0x20d)]('div');_0x2d62c6[_0xecc026(0x1ec)]='client-stat-card',_0x2d62c6[_0xecc026(0x1cf)][_0xecc026(0x1b6)]=_0x34b5de['color'],_0x2d62c6[_0xecc026(0x1f1)]=_0xecc026(0x22e)+_0x54aa87+_0xecc026(0x25b)+_0x34b5de[_0xecc026(0x192)]+_0xecc026(0x261)+_0x34b5de[_0xecc026(0x1ed)]+_0xecc026(0x1a7)+_0x2d674f+_0xecc026(0x2b1),_0x4dcba0[_0xecc026(0x219)](_0x2d62c6);});}function formatMinsToHrs(_0x2874d6){const _0x378a95=a2_0x3bc7a9;if(_0x2874d6===0x0)return'0';const _0x473250=Math[_0x378a95(0x279)](_0x2874d6/0x3c),_0x3078f3=_0x2874d6%0x3c;if(_0x3078f3===0x0)return _0x473250+'—á';return _0x473250+'—á\x20'+_0x3078f3+'–º';}