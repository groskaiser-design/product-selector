const a2_0x1b723d=a2_0xeba8;(function(_0x2e8ce6,_0xe1e804){const _0x23d917=a2_0xeba8,_0x37462b=_0x2e8ce6();while(!![]){try{const _0x2efbf8=parseInt(_0x23d917(0x2fd))/0x1+parseInt(_0x23d917(0x2c6))/0x2*(-parseInt(_0x23d917(0x219))/0x3)+-parseInt(_0x23d917(0x2fb))/0x4*(-parseInt(_0x23d917(0x2c1))/0x5)+parseInt(_0x23d917(0x29c))/0x6+parseInt(_0x23d917(0x313))/0x7+parseInt(_0x23d917(0x308))/0x8*(-parseInt(_0x23d917(0x1f0))/0x9)+-parseInt(_0x23d917(0x2ce))/0xa;if(_0x2efbf8===_0xe1e804)break;else _0x37462b['push'](_0x37462b['shift']());}catch(_0x35b7c){_0x37462b['push'](_0x37462b['shift']());}}}(a2_0x44bc,0x51ffc),function initTMA(){const _0x3df5ea=a2_0xeba8,_0xe6b768=(function(){let _0xfc4713=!![];return function(_0x565f9f,_0x187522){const _0x853cfd=_0xfc4713?function(){const _0x223bf8=a2_0xeba8;if(_0x187522){const _0x5e1b66=_0x187522[_0x223bf8(0x2c4)](_0x565f9f,arguments);return _0x187522=null,_0x5e1b66;}}:function(){};return _0xfc4713=![],_0x853cfd;};}()),_0x2a0caf=_0xe6b768(this,function(){const _0x42c10f=a2_0xeba8;return _0x2a0caf[_0x42c10f(0x30f)]()[_0x42c10f(0x35d)](_0x42c10f(0x2b0))[_0x42c10f(0x30f)]()['constructor'](_0x2a0caf)['search'](_0x42c10f(0x2b0));});_0x2a0caf();try{const _0x4ecd84=window[_0x3df5ea(0x299)]?.[_0x3df5ea(0x29e)];if(!_0x4ecd84)return;_0x4ecd84['ready'](),_0x4ecd84[_0x3df5ea(0x204)]();try{_0x4ecd84[_0x3df5ea(0x34e)](_0x3df5ea(0x34a)),_0x4ecd84['setBackgroundColor']&&_0x4ecd84[_0x3df5ea(0x281)](_0x3df5ea(0x34a));}catch(_0x1d4bfd){console[_0x3df5ea(0x2d3)](_0x3df5ea(0x301),_0x1d4bfd);}try{_0x4ecd84['BackButton']&&(_0x4ecd84[_0x3df5ea(0x22d)]['show'](),_0x4ecd84[_0x3df5ea(0x22d)][_0x3df5ea(0x25d)](),_0x4ecd84[_0x3df5ea(0x22d)][_0x3df5ea(0x344)](function(){const _0x32c261=_0x3df5ea;window['location'][_0x32c261(0x1e3)]=_0x32c261(0x29b);}));}catch(_0x2bc342){console[_0x3df5ea(0x2d3)](_0x3df5ea(0x34d),_0x2bc342);}try{if(_0x4ecd84[_0x3df5ea(0x1f6)])_0x4ecd84[_0x3df5ea(0x1f6)]();}catch(_0x4bba02){}}catch(_0x54d995){console[_0x3df5ea(0x26f)](_0x3df5ea(0x261),_0x54d995);}}());function isAdmin(){const _0x3e92fe=a2_0xeba8;try{const _0x9c0f6a=Number(window['Telegram']?.[_0x3e92fe(0x29e)]?.[_0x3e92fe(0x297)]?.[_0x3e92fe(0x27e)]?.['id']);return _0x9c0f6a===0xbaf7174;}catch(_0x503466){return![];}}const APP_VERSION=a2_0x1b723d(0x1f3),API_URL=a2_0x1b723d(0x1f1),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS='uc_clients_v9',KEY_SESSIONS=a2_0x1b723d(0x30b),KEY_SETTINGS=a2_0x1b723d(0x2ff);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x18da4a=a2_0x1b723d;return window['Telegram']?.[_0x18da4a(0x29e)]?.[_0x18da4a(0x297)]?.[_0x18da4a(0x27e)]?.['id']||_0x18da4a(0x20f);},'saveLocally'(){const _0x3ded35=a2_0x1b723d;try{localStorage[_0x3ded35(0x2bc)](KEY_CLIENTS,JSON['stringify'](clients)),localStorage[_0x3ded35(0x2bc)](KEY_SESSIONS,JSON[_0x3ded35(0x21a)](sessions)),localStorage[_0x3ded35(0x2bc)](KEY_SETTINGS,JSON[_0x3ded35(0x21a)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x4f6c96){console['error'](_0x3ded35(0x26a),_0x4f6c96);}},'loadLocal'(){const _0x7ddb40=a2_0x1b723d;try{const _0x1bc82c=localStorage[_0x7ddb40(0x2c3)](KEY_CLIENTS);if(_0x1bc82c)clients=JSON[_0x7ddb40(0x257)](_0x1bc82c);const _0x50126f=localStorage['getItem'](KEY_SESSIONS);if(_0x50126f)sessions=JSON[_0x7ddb40(0x257)](_0x50126f);const _0x410ead=localStorage[_0x7ddb40(0x2c3)](KEY_SETTINGS);if(_0x410ead){const _0x3c63f0=JSON[_0x7ddb40(0x257)](_0x410ead);if(_0x3c63f0[_0x7ddb40(0x1f9)])availabilityPattern=_0x3c63f0[_0x7ddb40(0x1f9)];if(_0x3c63f0[_0x7ddb40(0x2d1)])dateExceptions=_0x3c63f0[_0x7ddb40(0x2d1)];if(_0x3c63f0[_0x7ddb40(0x25f)])specialRanges=_0x3c63f0[_0x7ddb40(0x25f)];}else{for(let _0x362ec7=0x0;_0x362ec7<0x7;_0x362ec7++)availabilityPattern[_0x362ec7]=Array[_0x7ddb40(0x247)]({'length':0xc},(_0xb438f,_0x3a561b)=>_0x3a561b+0x9);}}catch(_0x32b685){console[_0x7ddb40(0x26f)]('Local\x20Load\x20Error',_0x32b685);}},async 'fetchFromServer'(_0x79faa6,_0x15317a={}){const _0x215d15=a2_0x1b723d,_0x31b0af=window[_0x215d15(0x299)]?.[_0x215d15(0x29e)],_0x3171e4={'action':_0x79faa6,'init_data':_0x31b0af?.[_0x215d15(0x33b)]||'',..._0x15317a};try{const _0x5e8785=await fetch(API_URL,{'method':_0x215d15(0x2d9),'headers':{'Content-Type':'text/plain;charset=UTF-8'},'body':JSON[_0x215d15(0x21a)](_0x3171e4)}),_0x421d3f=await _0x5e8785[_0x215d15(0x267)]();if(!_0x421d3f['ok'])throw new Error(_0x421d3f[_0x215d15(0x26f)]||_0x215d15(0x327));return _0x421d3f['data'];}catch(_0x899522){console[_0x215d15(0x26f)](_0x215d15(0x2a1)+_0x79faa6+_0x215d15(0x2dc),_0x899522);throw _0x899522;}},async 'syncLoad'(){const _0x297a51=a2_0x1b723d,_0x913bc9=new Date(),_0x395e00=_0x913bc9[_0x297a51(0x201)]()+'-'+String(_0x913bc9['getMonth']()+0x1)[_0x297a51(0x27b)](0x2,'0'),_0x182956=new Date(_0x913bc9);_0x182956['setMonth'](_0x913bc9[_0x297a51(0x2be)]()+0x1);const _0x4414f9=_0x182956[_0x297a51(0x201)]()+'-'+String(_0x182956[_0x297a51(0x2be)]()+0x1)['padStart'](0x2,'0'),_0xaa0779=Date[_0x297a51(0x2e6)]();console['log'](_0x297a51(0x31d)+_0x395e00+',\x20'+_0x4414f9+_0x297a51(0x2e3));try{const [_0x2d82f7,_0x3c483c]=await Promise['all']([this[_0x297a51(0x22f)]('init_load',{'month_str':_0x395e00}),this[_0x297a51(0x22f)](_0x297a51(0x2b4),{'month_str':_0x4414f9})]);if(lastUserActionTime>_0xaa0779)return console[_0x297a51(0x1df)](_0x297a51(0x227)),![];return this['mergeServerData'](_0x2d82f7,_0x395e00),this[_0x297a51(0x2e7)](_0x3c483c,_0x4414f9),this['saveLocally'](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x517d98){console[_0x297a51(0x26f)](_0x517d98);throw _0x517d98;}},'mergeServerData'(_0x10fe02,_0x283a36){const _0x5e330f=a2_0x1b723d;if(!_0x10fe02)return;_0x10fe02[_0x5e330f(0x1e1)]&&Array['isArray'](_0x10fe02[_0x5e330f(0x1e1)])&&(clients=_0x10fe02[_0x5e330f(0x1e1)]);if(_0x10fe02[_0x5e330f(0x23a)]){if(_0x10fe02[_0x5e330f(0x23a)]['pattern'])availabilityPattern=_0x10fe02[_0x5e330f(0x23a)][_0x5e330f(0x1f9)];if(_0x10fe02[_0x5e330f(0x23a)][_0x5e330f(0x2d1)])dateExceptions=_0x10fe02[_0x5e330f(0x23a)]['exceptions'];if(_0x10fe02[_0x5e330f(0x23a)][_0x5e330f(0x25f)])specialRanges=_0x10fe02[_0x5e330f(0x23a)][_0x5e330f(0x25f)];if(_0x10fe02['settings'][_0x5e330f(0x21b)]){localStorage[_0x5e330f(0x2bc)](_0x5e330f(0x29a),_0x10fe02[_0x5e330f(0x23a)][_0x5e330f(0x21b)]);const _0x315214=document[_0x5e330f(0x200)](_0x5e330f(0x240));if(_0x315214)_0x315214[_0x5e330f(0x213)]=_0x10fe02[_0x5e330f(0x23a)]['cancel_window'];}}_0x10fe02[_0x5e330f(0x355)]&&(sessions=sessions[_0x5e330f(0x218)](_0x2050f4=>!_0x2050f4[_0x5e330f(0x279)]['startsWith'](_0x283a36)),Object[_0x5e330f(0x23e)](_0x10fe02[_0x5e330f(0x355)])[_0x5e330f(0x2ee)](_0x219972=>{const _0x1ed204=_0x5e330f,_0x1bc56f=_0x10fe02[_0x1ed204(0x355)][_0x219972];_0x1bc56f[_0x1ed204(0x2ee)](_0x260347=>{const _0x46708f=_0x1ed204,_0x41b724=clients[_0x46708f(0x2cb)](_0x385f59=>String(_0x385f59['id'])===String(_0x260347['c']));sessions['push']({'id':_0x260347['i'],'clientId':_0x260347['c'],'client':_0x41b724?_0x41b724[_0x46708f(0x1e6)]:_0x46708f(0x330),'dateStr':_0x283a36+'-'+_0x219972[_0x46708f(0x27b)](0x2,'0'),'start':_0x260347['s'],'end':_0x260347['e'],'status':_0x260347['st']||_0x46708f(0x238),'note':_0x260347['n']||'','seriesId':_0x260347[_0x46708f(0x2ca)]||null});});}));},async 'syncBatch'(_0x3d3c04){const _0x32e93b=a2_0x1b723d,_0x3dc00e=[...new Set(_0x3d3c04)],_0x318b3b=_0x3dc00e[_0x32e93b(0x24c)](_0x5e9e8a=>{const _0x20b6d3=_0x32e93b,_0x1af5d0=sessions['filter'](_0x1d73f5=>_0x1d73f5[_0x20b6d3(0x279)]===_0x5e9e8a&&_0x1d73f5[_0x20b6d3(0x29f)]!==_0x20b6d3(0x230)),_0x369396=_0x1af5d0['map'](_0x5b32db=>({'i':_0x5b32db['id'],'c':_0x5b32db['clientId'],'s':_0x5b32db[_0x20b6d3(0x278)],'e':_0x5b32db[_0x20b6d3(0x26c)],'st':_0x5b32db[_0x20b6d3(0x29f)],'n':_0x5b32db[_0x20b6d3(0x335)],'sid':_0x5b32db[_0x20b6d3(0x342)]}));return{'date':_0x5e9e8a,'day_data':_0x369396};});if(_0x318b3b[_0x32e93b(0x349)]===0x0)return;console[_0x32e93b(0x2d3)](_0x32e93b(0x303)+_0x318b3b[_0x32e93b(0x349)]+_0x32e93b(0x225)),await this['fetchFromServer']('batch_sync',{'changes':_0x318b3b});}};async function init(){const _0x510b62=a2_0x1b723d;DataManager[_0x510b62(0x2a7)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x510b62(0x200)](_0x510b62(0x356))[_0x510b62(0x312)](_0x510b62(0x358),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']()['then'](()=>{const _0x5995f6=_0x510b62;showToast(_0x5995f6(0x361),!![]);})[_0x510b62(0x31c)](_0x417aad=>{const _0x297cd9=_0x510b62;showToast(_0x297cd9(0x20c),![]);});}function generateId(){const _0x3508b9=a2_0x1b723d;return Date['now']()[_0x3508b9(0x30f)](0x24)+Math[_0x3508b9(0x347)]()[_0x3508b9(0x30f)](0x24)['substr'](0x2,0x5);}function toggleSeriesInput(){const _0x1ab411=a2_0x1b723d,_0x41cdff=document['getElementById']('inpRecurring')[_0x1ab411(0x305)],_0x4f1e69=document[_0x1ab411(0x200)](_0x1ab411(0x30e));_0x4f1e69[_0x1ab411(0x28c)]['display']=_0x41cdff?_0x1ab411(0x253):'none';const _0x526eb9=document[_0x1ab411(0x200)]('recurringOptionContainer');_0x526eb9['style']['borderRadius']=_0x41cdff?_0x1ab411(0x324):_0x1ab411(0x243);}function openAddSession(_0x2fe0a6){const _0x4b50ec=a2_0x1b723d;editingId=null,populateClientSelect(),document[_0x4b50ec(0x200)](_0x4b50ec(0x284))[_0x4b50ec(0x2b1)]='–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å',document[_0x4b50ec(0x200)](_0x4b50ec(0x2ae))[_0x4b50ec(0x28c)][_0x4b50ec(0x25c)]=_0x4b50ec(0x258),document['getElementById'](_0x4b50ec(0x250))[_0x4b50ec(0x28c)][_0x4b50ec(0x25c)]=_0x4b50ec(0x258);const _0x11adb9=document[_0x4b50ec(0x200)](_0x4b50ec(0x236)),_0x425b25=document[_0x4b50ec(0x200)]('seriesCountContainer');_0x11adb9['style'][_0x4b50ec(0x25c)]=_0x4b50ec(0x2a0),_0x11adb9['style'][_0x4b50ec(0x323)]=_0x4b50ec(0x243),document[_0x4b50ec(0x200)](_0x4b50ec(0x1ff))[_0x4b50ec(0x305)]=![],document[_0x4b50ec(0x200)]('inpSeriesCount')['value']=0x4,_0x425b25[_0x4b50ec(0x28c)][_0x4b50ec(0x25c)]='none',document['getElementById'](_0x4b50ec(0x1f4))[_0x4b50ec(0x213)]=getLocalDateStr(_0x2fe0a6),updateDateDisplay();const _0x8b13b1=_0x2fe0a6[_0x4b50ec(0x2e8)]();document['getElementById']('inpStart')[_0x4b50ec(0x213)]=String(_0x8b13b1)[_0x4b50ec(0x27b)](0x2,'0')+':00',document[_0x4b50ec(0x200)](_0x4b50ec(0x23d))[_0x4b50ec(0x213)]=String(_0x8b13b1+0x1)[_0x4b50ec(0x27b)](0x2,'0')+_0x4b50ec(0x32d),openSheet('sessionSheet');}function openEdit(_0x4bb0a7){const _0x4a8c90=a2_0x1b723d;editingId=_0x4bb0a7['id'],populateClientSelect(),document[_0x4a8c90(0x200)](_0x4a8c90(0x284))[_0x4a8c90(0x2b1)]=_0x4a8c90(0x2df),document[_0x4a8c90(0x200)](_0x4a8c90(0x2ae))['style']['display']=_0x4a8c90(0x253);const _0x4ddc6f=document[_0x4a8c90(0x200)](_0x4a8c90(0x250));_0x4ddc6f['style'][_0x4a8c90(0x25c)]=_0x4a8c90(0x2a0);_0x4bb0a7[_0x4a8c90(0x29f)]===_0x4a8c90(0x28d)?(_0x4ddc6f[_0x4a8c90(0x341)]='btn-status-toggle\x20undo-mode',_0x4ddc6f['innerHTML']=_0x4a8c90(0x235)):(_0x4ddc6f[_0x4a8c90(0x341)]=_0x4a8c90(0x346),_0x4ddc6f[_0x4a8c90(0x2ea)]=_0x4a8c90(0x215));const _0x2fbecb=!!_0x4bb0a7[_0x4a8c90(0x342)];document[_0x4a8c90(0x200)](_0x4a8c90(0x236))['style']['display']=_0x4a8c90(0x258),document[_0x4a8c90(0x200)](_0x4a8c90(0x30e))[_0x4a8c90(0x28c)][_0x4a8c90(0x25c)]=_0x4a8c90(0x258),_0x2fbecb?(document['getElementById'](_0x4a8c90(0x27d))[_0x4a8c90(0x28c)][_0x4a8c90(0x25c)]=_0x4a8c90(0x2a0),document['getElementById'](_0x4a8c90(0x27d))['querySelector'](_0x4a8c90(0x2c9))[_0x4a8c90(0x2b1)]=_0x4a8c90(0x2f0)):document[_0x4a8c90(0x200)](_0x4a8c90(0x27d))[_0x4a8c90(0x28c)][_0x4a8c90(0x25c)]=_0x4a8c90(0x258),document[_0x4a8c90(0x200)]('inpClient')[_0x4a8c90(0x213)]=_0x4bb0a7[_0x4a8c90(0x21e)],document[_0x4a8c90(0x200)](_0x4a8c90(0x1f4))[_0x4a8c90(0x213)]=_0x4bb0a7['dateStr'],document[_0x4a8c90(0x200)](_0x4a8c90(0x285))[_0x4a8c90(0x213)]=_0x4bb0a7[_0x4a8c90(0x278)],document['getElementById'](_0x4a8c90(0x23d))['value']=_0x4bb0a7[_0x4a8c90(0x26c)],document[_0x4a8c90(0x200)](_0x4a8c90(0x1fd))[_0x4a8c90(0x213)]=_0x4bb0a7[_0x4a8c90(0x335)]||'',updateDateDisplay(),openSheet(_0x4a8c90(0x350));}async function trySaveSession(){const _0x3e2499=a2_0x1b723d,_0x5f1009=document[_0x3e2499(0x200)](_0x3e2499(0x263))['value'],_0x46f880=document[_0x3e2499(0x200)](_0x3e2499(0x1f4))[_0x3e2499(0x213)],_0x210c7a=document[_0x3e2499(0x200)](_0x3e2499(0x285))[_0x3e2499(0x213)],_0x232270=document['getElementById'](_0x3e2499(0x23d))[_0x3e2499(0x213)],_0x2725b5=document[_0x3e2499(0x200)](_0x3e2499(0x1fd))['value'],_0x22be96=document[_0x3e2499(0x200)](_0x3e2499(0x1ff))[_0x3e2499(0x305)];let _0x15c2d9=0x4;if(_0x22be96){const _0x42d674=parseInt(document[_0x3e2499(0x200)]('inpSeriesCount')[_0x3e2499(0x213)]);if(!_0x42d674||_0x42d674<0x2){showToast(_0x3e2499(0x21f),![]);return;}if(_0x42d674>0x64){showToast(_0x3e2499(0x34b),![]);return;}_0x15c2d9=_0x42d674;}const _0x6f0a8f=clients[_0x3e2499(0x2cb)](_0xf33135=>_0xf33135[_0x3e2499(0x1e6)]===_0x5f1009);if(!_0x6f0a8f){showToast(_0x3e2499(0x28a),![]);return;}const _0x2e1c97=validateAppointment(_0x46f880,_0x210c7a,_0x232270,editingId,_0x6f0a8f['id']);if(!_0x2e1c97[_0x3e2499(0x304)]){showToast(_0x2e1c97['msg'],![]);return;}_0x2e1c97[_0x3e2499(0x2f5)]&&showToast(_0x2e1c97[_0x3e2499(0x2f5)],![]);const _0x1a9720={'client':_0x5f1009,'clientId':_0x6f0a8f['id'],'start':_0x210c7a,'end':_0x232270,'note':_0x2725b5,'status':_0x3e2499(0x238)},_0x5bbde7=editingId?sessions[_0x3e2499(0x2cb)](_0x5d868f=>_0x5d868f['id']===editingId):null;if(_0x5bbde7&&_0x5bbde7['seriesId']){tempSessionData={..._0x1a9720,'dateStr':_0x46f880,'id':editingId,'seriesId':_0x5bbde7['seriesId']},openActionSheet(_0x3e2499(0x352));return;}let _0x527bb1=null;if(!editingId)_0x527bb1=_0x3e2499(0x29d);else{if(_0x5bbde7){if(String(_0x5bbde7['clientId'])!==String(_0x6f0a8f['id']))console[_0x3e2499(0x2d3)](_0x3e2499(0x2a6)),NotificationManager[_0x3e2499(0x269)](_0x3e2499(0x2a9),_0x5bbde7),_0x527bb1=_0x3e2499(0x29d);else(_0x5bbde7[_0x3e2499(0x278)]!==_0x210c7a||_0x5bbde7['end']!==_0x232270||_0x5bbde7[_0x3e2499(0x279)]!==_0x46f880)&&(_0x527bb1=_0x3e2499(0x2cf));}}if(!editingId&&_0x22be96){createBatchSeries(_0x1a9720,_0x46f880,_0x15c2d9),NotificationManager[_0x3e2499(0x269)](_0x3e2499(0x29d),{..._0x1a9720,'dateStr':_0x46f880});return;}lastUserActionTime=Date[_0x3e2499(0x2e6)]();const _0x71ac08={..._0x1a9720,'dateStr':_0x46f880,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x71ac08),_0x527bb1&&NotificationManager[_0x3e2499(0x269)](_0x527bb1,_0x71ac08);}function toggleSessionStatus(){const _0x551480=a2_0x1b723d;lastUserActionTime=Date['now']();const _0x5e9ce7=sessions[_0x551480(0x2cb)](_0x249b8f=>_0x249b8f['id']===editingId);if(!_0x5e9ce7)return;const _0x1f4366=_0x5e9ce7[_0x551480(0x29f)]===_0x551480(0x28d)?_0x551480(0x238):_0x551480(0x28d);_0x5e9ce7[_0x551480(0x29f)]=_0x1f4366,saveSingleSession(_0x5e9ce7),_0x1f4366===_0x551480(0x28d)&&NotificationManager[_0x551480(0x269)](_0x551480(0x22a),_0x5e9ce7),showToast(_0x1f4366===_0x551480(0x28d)?_0x551480(0x1ec):_0x551480(0x336),!![]);}function validateAppointment(_0x454236,_0x42ee77,_0x55cfd0,_0x254e93,_0x5ba00f){const _0x571a05=a2_0x1b723d,[_0x2bb356,_0x109627]=_0x42ee77['split'](':')[_0x571a05(0x24c)](Number),[_0x1729f5,_0x466680]=_0x55cfd0[_0x571a05(0x2b7)](':')[_0x571a05(0x24c)](Number),_0x3e7270=_0x2bb356*0x3c+_0x109627,_0x1b37de=_0x1729f5*0x3c+_0x466680,_0x3e80ef=String(_0x5ba00f);let _0x116927=![],_0x6a8a4d='';for(let _0x3ca8e3 of sessions){if(_0x3ca8e3[_0x571a05(0x279)]!==_0x454236)continue;if(_0x3ca8e3[_0x571a05(0x29f)]===_0x571a05(0x35a))continue;if(_0x254e93&&String(_0x3ca8e3['id'])===String(_0x254e93))continue;const [_0x2bf780,_0x318df5]=_0x3ca8e3[_0x571a05(0x278)]['split'](':')[_0x571a05(0x24c)](Number),[_0x3e206f,_0x344c46]=_0x3ca8e3[_0x571a05(0x26c)]['split'](':')['map'](Number),_0x5db666=_0x2bf780*0x3c+_0x318df5,_0x3bcaea=_0x3e206f*0x3c+_0x344c46;if(Math['max'](_0x3e7270,_0x5db666)<Math[_0x571a05(0x2c8)](_0x1b37de,_0x3bcaea)){if(_0x3ca8e3['clientId']&&String(_0x3ca8e3[_0x571a05(0x276)])===_0x3e80ef)return{'valid':![],'msg':_0x571a05(0x262)+_0x3ca8e3['client']+_0x571a05(0x246)};_0x116927=!![],_0x6a8a4d=_0x3ca8e3['client'];}}if(_0x116927)return{'valid':!![],'warning':_0x571a05(0x2bb)+_0x6a8a4d};return{'valid':!![]};}function saveSingleSession(_0x255728){const _0x305bc6=a2_0x1b723d;if(editingId){const _0x2c9e8b=sessions[_0x305bc6(0x265)](_0x1fc8b8=>_0x1fc8b8['id']===editingId);if(_0x2c9e8b!==-0x1)sessions[_0x2c9e8b]=_0x255728;}else sessions[_0x305bc6(0x25a)](_0x255728);afterSaveAction([_0x255728[_0x305bc6(0x279)]]);}function createBatchSeries(_0x13b3c7,_0x18306a,_0x32d0c9){const _0x44ecd4=a2_0x1b723d,_0x48d030=generateId(),_0xd99087=[],_0xd8ae22=[];let _0x244dc3=0x0,_0x1a6cf8=new Date(_0x18306a);for(let _0x5ad6a1=0x0;_0x5ad6a1<_0x32d0c9;_0x5ad6a1++){const _0x504eee=getLocalDateStr(_0x1a6cf8),_0x33d66f=validateAppointment(_0x504eee,_0x13b3c7[_0x44ecd4(0x278)],_0x13b3c7[_0x44ecd4(0x26c)],null,_0x13b3c7['clientId']);if(!_0x33d66f[_0x44ecd4(0x304)])console[_0x44ecd4(0x2d3)]('[Series]\x20Skipped\x20'+_0x504eee+_0x44ecd4(0x256)),_0x244dc3++;else{const _0x3154ba={..._0x13b3c7,'id':generateId(),'dateStr':_0x504eee,'seriesId':_0x48d030};_0xd8ae22[_0x44ecd4(0x25a)](_0x3154ba),_0xd99087['push'](_0x504eee);}_0x1a6cf8['setDate'](_0x1a6cf8[_0x44ecd4(0x338)]()+0x7);}if(_0xd8ae22[_0x44ecd4(0x349)]===0x0){showToast('–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!',![]);return;}sessions['push'](..._0xd8ae22),lastUserActionTime=Date['now']();let _0xc36693=_0x44ecd4(0x2d5)+_0xd8ae22[_0x44ecd4(0x349)];_0x244dc3>0x0&&(_0xc36693+='\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20'+_0x244dc3+')'),showToast(_0xc36693,!![]),afterSaveAction(_0xd99087);}function updateSeriesBatch(_0x44a473,_0x42640a){const _0x5b6f57=a2_0x1b723d,_0x544e10=[],_0x119bd9=_0x42640a[_0x5b6f57(0x342)];if(_0x44a473==='single'){const _0x1f5dd2={..._0x42640a,'seriesId':null},_0x51e24e=sessions[_0x5b6f57(0x265)](_0x3e40f3=>_0x3e40f3['id']===_0x42640a['id']);if(_0x51e24e!==-0x1)sessions[_0x51e24e]=_0x1f5dd2;_0x544e10[_0x5b6f57(0x25a)](_0x1f5dd2[_0x5b6f57(0x279)]);}else{if(_0x44a473===_0x5b6f57(0x20e)){const _0x3c12ad=_0x42640a[_0x5b6f57(0x279)];sessions['forEach']((_0x5afbec,_0x320e29)=>{const _0x5544a8=_0x5b6f57;_0x5afbec[_0x5544a8(0x342)]===_0x119bd9&&_0x5afbec[_0x5544a8(0x279)]>=_0x3c12ad&&(sessions[_0x320e29]={...sessions[_0x320e29],'start':_0x42640a['start'],'end':_0x42640a[_0x5544a8(0x26c)],'note':_0x42640a[_0x5544a8(0x335)],'client':_0x42640a[_0x5544a8(0x21e)],'clientId':_0x42640a[_0x5544a8(0x276)]},_0x544e10[_0x5544a8(0x25a)](_0x5afbec['dateStr']));});}}afterSaveAction(_0x544e10);}function tryDeleteSession(){const _0x4d0baf=a2_0x1b723d,_0x492508=sessions['find'](_0x3ec22e=>_0x3ec22e['id']===editingId);if(!_0x492508)return;_0x492508[_0x4d0baf(0x342)]?openActionSheet('delete'):commitDelete(_0x4d0baf(0x2ab),_0x492508);}function commitDelete(_0x1843e5,_0x4b3a66){const _0x1163a9=a2_0x1b723d;lastUserActionTime=Date[_0x1163a9(0x2e6)](),NotificationManager['send']('cancel',_0x4b3a66);const _0x4a2f2b=[];if(_0x1843e5==='single')sessions=sessions[_0x1163a9(0x218)](_0x456b20=>_0x456b20['id']!==_0x4b3a66['id']),_0x4a2f2b[_0x1163a9(0x25a)](_0x4b3a66[_0x1163a9(0x279)]);else{if(_0x1843e5===_0x1163a9(0x20e)){const _0x3520be=_0x4b3a66[_0x1163a9(0x279)],_0x106594=_0x4b3a66[_0x1163a9(0x342)];sessions[_0x1163a9(0x2ee)](_0x2c7d3e=>{const _0x7aabae=_0x1163a9;_0x2c7d3e[_0x7aabae(0x342)]===_0x106594&&_0x2c7d3e[_0x7aabae(0x279)]>=_0x3520be&&_0x4a2f2b[_0x7aabae(0x25a)](_0x2c7d3e['dateStr']);}),sessions=sessions[_0x1163a9(0x218)](_0x50927f=>!(_0x50927f[_0x1163a9(0x342)]===_0x106594&&_0x50927f[_0x1163a9(0x279)]>=_0x3520be));}}afterSaveAction(_0x4a2f2b);}function afterSaveAction(_0x577773){const _0x232d46=a2_0x1b723d;DataManager[_0x232d46(0x319)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x232d46(0x21c)](_0x577773)[_0x232d46(0x2e0)](()=>console['log'](_0x232d46(0x288)))[_0x232d46(0x31c)](_0x15f0c9=>showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ',![]));}const NotificationManager={'formatDate'(_0x2ad2ea){const _0x122fed=a2_0x1b723d,_0x395687=new Date(_0x2ad2ea),_0xfaf1ef={'weekday':_0x122fed(0x1fa),'day':_0x122fed(0x2b9),'month':_0x122fed(0x1fa)};let _0x2df8fa=_0x395687['toLocaleDateString'](_0x122fed(0x264),_0xfaf1ef);return _0x2df8fa['charAt'](0x0)[_0x122fed(0x233)]()+_0x2df8fa[_0x122fed(0x287)](0x1);},'getText'(_0x5c6ed1,_0x47aec5){const _0x3796af=a2_0x1b723d,_0x70e65=this['formatDate'](_0x47aec5[_0x3796af(0x279)]);switch(_0x5c6ed1){case _0x3796af(0x29d):return _0x3796af(0x2f1)+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0x70e65+'\x0a')+(_0x3796af(0x21d)+_0x47aec5['start']+_0x3796af(0x24f)+_0x47aec5['end']+'\x0a\x0a')+_0x3796af(0x296);case _0x3796af(0x2cf):return _0x3796af(0x1e0)+_0x3796af(0x1fe)+(_0x3796af(0x274)+_0x47aec5['start']+_0x3796af(0x24f)+_0x47aec5['end']+'</b>\x0a\x0a')+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0x70e65);case _0x3796af(0x2a9):return _0x3796af(0x20a)+(_0x3796af(0x27f)+_0x70e65+'\x20('+_0x47aec5[_0x3796af(0x278)]+_0x3796af(0x203));case'complete':return'<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a'+'–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a'+_0x3796af(0x318);default:return'';}},async 'send'(_0x108678,_0xc3dd6a){const _0xf93ea1=a2_0x1b723d;console[_0xf93ea1(0x2d3)](_0xf93ea1(0x2d7),_0x108678,_0xc3dd6a);if(!_0xc3dd6a){console[_0xf93ea1(0x26f)](_0xf93ea1(0x2b6));return;}const _0x394ced=String(_0xc3dd6a[_0xf93ea1(0x276)]);console[_0xf93ea1(0x2d3)]('[Notify]\x20Detected\x20Client\x20ID:',_0x394ced);if(!_0xc3dd6a[_0xf93ea1(0x276)]||_0x394ced===_0xf93ea1(0x2aa)||_0x394ced===_0xf93ea1(0x283)){console['error']('[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!');if(_0xc3dd6a['client']){const _0x10fe6d=clients['find'](_0x2d3cb6=>_0x2d3cb6[_0xf93ea1(0x1e6)]===_0xc3dd6a['client']);if(_0x10fe6d)return console[_0xf93ea1(0x2d3)](_0xf93ea1(0x273),_0x10fe6d['id']),this[_0xf93ea1(0x269)](_0x108678,{..._0xc3dd6a,'clientId':_0x10fe6d['id']});}return;}if(_0x394ced[_0xf93ea1(0x349)]<0x5){console[_0xf93ea1(0x1df)](_0xf93ea1(0x328),_0x394ced);return;}const _0x37b50b=this[_0xf93ea1(0x2fc)](_0x108678,_0xc3dd6a);if(!_0x37b50b){console[_0xf93ea1(0x26f)]('[Notify]\x20Error:\x20Text\x20generation\x20failed');return;}console[_0xf93ea1(0x2d3)](_0xf93ea1(0x314)+_0x394ced+_0xf93ea1(0x2e3)),DataManager[_0xf93ea1(0x22f)](_0xf93ea1(0x2f9),{'chatId':_0x394ced,'text':_0x37b50b})['then'](_0x14cb2c=>console['log']('[Notify]\x20Server\x20Response:',_0x14cb2c))[_0xf93ea1(0x31c)](_0x4111e4=>console[_0xf93ea1(0x26f)]('[Notify]\x20Network\x20Failed',_0x4111e4));}};function getLocalDateStr(_0x39611b){const _0xf46381=a2_0x1b723d,_0x233ddc=_0x39611b[_0xf46381(0x201)](),_0x223526=String(_0x39611b[_0xf46381(0x2be)]()+0x1)[_0xf46381(0x27b)](0x2,'0'),_0x12ea91=String(_0x39611b[_0xf46381(0x338)]())[_0xf46381(0x27b)](0x2,'0');return _0x233ddc+'-'+_0x223526+'-'+_0x12ea91;}function getDateStr(_0x5b47fb){const _0x305f7b=a2_0x1b723d,_0x3434c3=new Date();return _0x3434c3[_0x305f7b(0x224)](_0x3434c3[_0x305f7b(0x338)]()+_0x5b47fb),getLocalDateStr(_0x3434c3);}function getStartOfWeek(_0x289e87){const _0x2409b6=a2_0x1b723d,_0x4b3948=new Date(_0x289e87),_0x3fc1a5=_0x4b3948[_0x2409b6(0x309)](),_0x346b9d=_0x4b3948['getDate']()-_0x3fc1a5+(_0x3fc1a5===0x0?-0x6:0x1);return _0x4b3948['setDate'](_0x346b9d),_0x4b3948['setHours'](0x0,0x0,0x0,0x0),_0x4b3948;}function hexToRgba(_0x4c373c,_0x17d282){const _0x40ffb7=a2_0x1b723d;if(!_0x4c373c)return'rgba(100,100,100,0.5)';let _0x4945cb=0x0,_0x19917f=0x0,_0x4f7264=0x0;if(_0x4c373c[_0x40ffb7(0x349)]===0x4)_0x4945cb='0x'+_0x4c373c[0x1]+_0x4c373c[0x1],_0x19917f='0x'+_0x4c373c[0x2]+_0x4c373c[0x2],_0x4f7264='0x'+_0x4c373c[0x3]+_0x4c373c[0x3];else _0x4c373c['length']===0x7&&(_0x4945cb='0x'+_0x4c373c[0x1]+_0x4c373c[0x2],_0x19917f='0x'+_0x4c373c[0x3]+_0x4c373c[0x4],_0x4f7264='0x'+_0x4c373c[0x5]+_0x4c373c[0x6]);return _0x40ffb7(0x35e)+ +_0x4945cb+',\x20'+ +_0x19917f+',\x20'+ +_0x4f7264+',\x20'+_0x17d282+')';}function renderTimeColumn(){const _0x4d08dd=a2_0x1b723d,_0x345208=document[_0x4d08dd(0x200)](_0x4d08dd(0x217)),_0x2e3f52=document[_0x4d08dd(0x200)](_0x4d08dd(0x2a4));_0x345208[_0x4d08dd(0x2ea)]='',_0x345208[_0x4d08dd(0x2b5)](_0x2e3f52);for(let _0x34229a=0x0;_0x34229a<0x18;_0x34229a++){const _0x4c6582=document['createElement'](_0x4d08dd(0x268));_0x4c6582[_0x4d08dd(0x341)]=_0x4d08dd(0x2e2);if(_0x34229a>0x0)_0x4c6582[_0x4d08dd(0x2ea)]='<span>'+String(_0x34229a)['padStart'](0x2,'0')+_0x4d08dd(0x2e4);_0x345208[_0x4d08dd(0x2b5)](_0x4c6582);}}function renderDayRange(_0x2709d6,_0x5e6f10){const _0x29b257=a2_0x1b723d,_0x2e85ad=document[_0x29b257(0x200)](_0x29b257(0x2eb)),_0x50e597=document[_0x29b257(0x200)](_0x29b257(0x34c)),_0x6e7c3d=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x278ed9=new Date();_0x278ed9[_0x29b257(0x31b)](0x0,0x0,0x0,0x0);const _0x1158f7=getLocalDateStr(new Date());for(let _0x1fd3a5=_0x2709d6;_0x1fd3a5<=_0x5e6f10;_0x1fd3a5++){const _0x5f3151=new Date(_0x278ed9);_0x5f3151[_0x29b257(0x224)](_0x5f3151[_0x29b257(0x338)]()+_0x1fd3a5);const _0x25a5ef=getLocalDateStr(_0x5f3151);let _0x1c9da6=_0x5f3151[_0x29b257(0x309)]()-0x1;if(_0x1c9da6===-0x1)_0x1c9da6=0x6;const _0x560516=_0x25a5ef===_0x1158f7,_0x40bf25=document[_0x29b257(0x24b)]('div');_0x40bf25[_0x29b257(0x341)]=_0x29b257(0x23f)+(_0x560516?_0x29b257(0x302):''),_0x40bf25['id']=_0x29b257(0x2da)+_0x25a5ef,_0x40bf25[_0x29b257(0x2fa)](_0x29b257(0x2fe),_0x25a5ef),_0x40bf25[_0x29b257(0x2ea)]=_0x29b257(0x272)+_0x6e7c3d[_0x1c9da6]+_0x29b257(0x2bf)+_0x5f3151['getDate']()+_0x29b257(0x26b)+_0x25a5ef+_0x29b257(0x1f8),_0x40bf25[_0x29b257(0x32c)]=()=>openDayOptions(_0x25a5ef,_0x6e7c3d[_0x1c9da6]+'\x20'+_0x5f3151[_0x29b257(0x338)]()),_0x2e85ad[_0x29b257(0x2b5)](_0x40bf25);const _0x436edf=document[_0x29b257(0x24b)](_0x29b257(0x268));_0x436edf[_0x29b257(0x341)]=_0x29b257(0x24a)+(_0x560516?_0x29b257(0x302):''),_0x436edf[_0x29b257(0x2fa)](_0x29b257(0x2fe),_0x25a5ef),_0x436edf['setAttribute'](_0x29b257(0x326),_0x1c9da6),renderEventsForColumn(_0x436edf,_0x25a5ef,_0x1c9da6),attachLongPressHandler(_0x436edf,_0x5f3151),_0x50e597[_0x29b257(0x2b5)](_0x436edf),updateDayStats(_0x25a5ef);}}function reRenderBlocks(){const _0x35042f=a2_0x1b723d;document[_0x35042f(0x2d2)](_0x35042f(0x345))[_0x35042f(0x2ee)](_0x1a2164=>{const _0x1ccf45=_0x35042f;_0x1a2164[_0x1ccf45(0x2d2)]('.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card')[_0x1ccf45(0x2ee)](_0xcf9a36=>_0xcf9a36[_0x1ccf45(0x321)]());const _0x14fd8f=_0x1a2164[_0x1ccf45(0x22e)](_0x1ccf45(0x2fe)),_0x2b635f=parseInt(_0x1a2164[_0x1ccf45(0x22e)]('data-day-idx')),_0x1d6d80=Math[_0x1ccf45(0x30d)](_0x1a2164[_0x1ccf45(0x208)]);(availabilityPattern[_0x2b635f]||[])[_0x1ccf45(0x2ee)](_0xf8ace8=>{const _0x10a0f3=_0x1ccf45,_0x4eaf18=document[_0x10a0f3(0x24b)](_0x10a0f3(0x268));_0x4eaf18[_0x10a0f3(0x341)]=_0x10a0f3(0x220);const _0x540e21=_0xf8ace8*GRID_H;_0x4eaf18['style'][_0x10a0f3(0x315)]=_0x540e21+'px',_0x4eaf18[_0x10a0f3(0x28c)][_0x10a0f3(0x266)]='-'+_0x1d6d80+_0x10a0f3(0x322)+_0x540e21+'px',_0x1a2164[_0x10a0f3(0x2b5)](_0x4eaf18);});if(specialRanges&&specialRanges[_0x1ccf45(0x349)]>0x0){const _0x187b4a=new Date(_0x14fd8f+_0x1ccf45(0x25b))[_0x1ccf45(0x202)](),_0x580fbc=new Date(_0x14fd8f+_0x1ccf45(0x222))[_0x1ccf45(0x202)]();specialRanges[_0x1ccf45(0x2ee)](_0x33bfb6=>{const _0x569488=_0x1ccf45,_0x5b9445=new Date(_0x33bfb6['start'])[_0x569488(0x202)](),_0x246361=new Date(_0x33bfb6[_0x569488(0x26c)])[_0x569488(0x202)](),_0x2e69e0=Math['max'](_0x187b4a,_0x5b9445),_0x5052b8=Math[_0x569488(0x2c8)](_0x580fbc,_0x246361);if(_0x2e69e0<_0x5052b8){if(_0x2e69e0<=_0x187b4a&&_0x5052b8>=_0x580fbc-0xea60){if(!_0x1a2164[_0x569488(0x2c7)](_0x569488(0x237))){const _0x2f9a35=document[_0x569488(0x24b)](_0x569488(0x268));_0x2f9a35[_0x569488(0x341)]='day-off-overlay\x20stripe-bg',_0x2f9a35[_0x569488(0x28c)][_0x569488(0x266)]='-'+_0x1d6d80+_0x569488(0x292),_0x1a2164[_0x569488(0x2b5)](_0x2f9a35);}}else{const _0x3e7141=(_0x2e69e0-_0x187b4a)/0x36ee80*GRID_H,_0x41a25e=(_0x5052b8-_0x2e69e0)/0x36ee80*GRID_H,_0x48d5d4=document[_0x569488(0x24b)](_0x569488(0x268));_0x48d5d4[_0x569488(0x341)]='blocked-range-part\x20stripe-bg',_0x48d5d4['style'][_0x569488(0x315)]=_0x3e7141+'px',_0x48d5d4['style'][_0x569488(0x206)]=_0x41a25e+'px',_0x48d5d4[_0x569488(0x28c)][_0x569488(0x266)]='-'+_0x1d6d80+_0x569488(0x322)+_0x3e7141+'px',_0x1a2164['appendChild'](_0x48d5d4);}}});}if(dateExceptions[_0x14fd8f]===_0x1ccf45(0x33d)){if(!_0x1a2164['querySelector'](_0x1ccf45(0x237))){const _0x4ac121=document[_0x1ccf45(0x24b)](_0x1ccf45(0x268));_0x4ac121[_0x1ccf45(0x341)]=_0x1ccf45(0x325),_0x4ac121['style'][_0x1ccf45(0x266)]='-'+_0x1d6d80+_0x1ccf45(0x292),_0x1a2164['appendChild'](_0x4ac121);}}renderEventsForColumn(_0x1a2164,_0x14fd8f,_0x2b635f),updateDayStats(_0x14fd8f);});}function updateAllDayStats(){const _0x722132=a2_0x1b723d;document[_0x722132(0x2d2)]('.day-col-header')[_0x722132(0x2ee)](_0x463652=>{updateDayStats(_0x463652['getAttribute']('data-date'));});}function updateDayStats(_0x1e9f74){const _0x19d97d=a2_0x1b723d,_0x585952=document[_0x19d97d(0x200)](_0x19d97d(0x226)+_0x1e9f74);if(!_0x585952)return;const _0x25f1f4=new Date(_0x1e9f74);let _0x543d13=_0x25f1f4['getDay']()-0x1;if(_0x543d13===-0x1)_0x543d13=0x6;if(dateExceptions[_0x1e9f74]===_0x19d97d(0x33d)){_0x585952[_0x19d97d(0x28c)][_0x19d97d(0x25c)]=_0x19d97d(0x258);return;}const _0x2c7ac2=availabilityPattern[_0x543d13]||[],_0x373cc7=0x18-_0x2c7ac2[_0x19d97d(0x349)],_0x2eabe6=_0x373cc7*0x3c,_0x50e3bf=sessions[_0x19d97d(0x218)](_0x30fbc4=>_0x30fbc4[_0x19d97d(0x279)]===_0x1e9f74&&_0x30fbc4['status']!==_0x19d97d(0x35a));if(_0x50e3bf[_0x19d97d(0x349)]===0x0){_0x585952[_0x19d97d(0x28c)]['display']=_0x19d97d(0x258);return;}let _0x58ee37=_0x50e3bf[_0x19d97d(0x24c)](_0x4c1eee=>{const _0x1cb0fe=_0x19d97d,[_0x58f73e,_0x56ec62]=_0x4c1eee[_0x1cb0fe(0x278)][_0x1cb0fe(0x2b7)](':')['map'](Number),[_0x450ba8,_0x156802]=_0x4c1eee[_0x1cb0fe(0x26c)]['split'](':')['map'](Number);return[_0x58f73e*0x3c+_0x56ec62,_0x450ba8*0x3c+_0x156802];});_0x58ee37['sort']((_0x80bc6c,_0x1573a5)=>_0x80bc6c[0x0]-_0x1573a5[0x0]);let _0x2b7f75=[];if(_0x58ee37[_0x19d97d(0x349)]>0x0){let _0x5b86c7=_0x58ee37[0x0];for(let _0x189ad1=0x1;_0x189ad1<_0x58ee37[_0x19d97d(0x349)];_0x189ad1++){_0x58ee37[_0x189ad1][0x0]<_0x5b86c7[0x1]?_0x5b86c7[0x1]=Math[_0x19d97d(0x360)](_0x5b86c7[0x1],_0x58ee37[_0x189ad1][0x1]):(_0x2b7f75[_0x19d97d(0x25a)](_0x5b86c7),_0x5b86c7=_0x58ee37[_0x189ad1]);}_0x2b7f75['push'](_0x5b86c7);}let _0x265254=0x0;_0x2b7f75['forEach'](_0x47b5af=>_0x265254+=_0x47b5af[0x1]-_0x47b5af[0x0]),_0x585952['style'][_0x19d97d(0x25c)]=_0x19d97d(0x2a0);const _0x3441d0=_0x585952[_0x19d97d(0x2c7)](_0x19d97d(0x24d));if(_0x2eabe6===0x0){_0x3441d0[_0x19d97d(0x28c)]['width']=_0x19d97d(0x1e5),_0x3441d0[_0x19d97d(0x28c)][_0x19d97d(0x2ac)]='var(--acc-red)';return;}const _0x3fb653=_0x265254/_0x2eabe6*0x64;console['log']('['+_0x1e9f74+_0x19d97d(0x333)+_0x373cc7+_0x19d97d(0x27a)+_0x265254+'–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20'+_0x3fb653[_0x19d97d(0x31e)](0x1)+'%'),_0x3fb653>0x64?(_0x3441d0[_0x19d97d(0x28c)][_0x19d97d(0x1e8)]='100%',_0x3441d0['style'][_0x19d97d(0x2ac)]='var(--acc-red)'):(_0x3441d0[_0x19d97d(0x28c)][_0x19d97d(0x1e8)]=_0x3fb653+'%',_0x3441d0['style'][_0x19d97d(0x2ac)]=_0x19d97d(0x2c0));}function renderEventsForColumn(_0x2244df,_0x2ac05a,_0xe5a32f){const _0x5b2bd1=a2_0x1b723d,_0x4c28ef=sessions[_0x5b2bd1(0x218)](_0x3ef65d=>_0x3ef65d[_0x5b2bd1(0x279)]===_0x2ac05a),_0x2542b4=_0x4c28ef[_0x5b2bd1(0x24c)](_0x5eeef2=>{const _0x349105=_0x5b2bd1,[_0x20f348,_0x3f27b4]=_0x5eeef2['start'][_0x349105(0x2b7)](':')[_0x349105(0x24c)](Number),[_0x319b7f,_0x3602a9]=_0x5eeef2['end'][_0x349105(0x2b7)](':')[_0x349105(0x24c)](Number);return{'data':_0x5eeef2,'start':_0x20f348*0x3c+_0x3f27b4,'end':_0x319b7f*0x3c+_0x3602a9,'colIndex':0x0};});_0x2542b4[_0x5b2bd1(0x357)]((_0x10d1e,_0x134406)=>{const _0x492f41=_0x5b2bd1;if(_0x10d1e[_0x492f41(0x278)]!==_0x134406[_0x492f41(0x278)])return _0x10d1e[_0x492f41(0x278)]-_0x134406[_0x492f41(0x278)];return _0x134406['end']-_0x134406[_0x492f41(0x278)]-(_0x10d1e['end']-_0x10d1e[_0x492f41(0x278)]);});const _0x347396=[];_0x2542b4[_0x5b2bd1(0x2ee)](_0x1321fb=>{const _0x7cabe5=_0x5b2bd1;let _0x45ce2a=![];for(let _0xaf6ccb=0x0;_0xaf6ccb<_0x347396[_0x7cabe5(0x349)];_0xaf6ccb++){const _0x2e68fd=_0x347396[_0xaf6ccb],_0x2fc830=_0x2e68fd[_0x2e68fd[_0x7cabe5(0x349)]-0x1];if(_0x1321fb[_0x7cabe5(0x278)]>=_0x2fc830[_0x7cabe5(0x26c)]){_0x2e68fd[_0x7cabe5(0x25a)](_0x1321fb),_0x1321fb[_0x7cabe5(0x2f7)]=_0xaf6ccb,_0x45ce2a=!![];break;}}!_0x45ce2a&&(_0x347396[_0x7cabe5(0x25a)]([_0x1321fb]),_0x1321fb['colIndex']=_0x347396[_0x7cabe5(0x349)]-0x1);}),_0x2542b4[_0x5b2bd1(0x2ee)](_0x5b13cd=>{const _0xbc930=_0x5b2bd1;let _0x410795=0x0;_0x2542b4[_0xbc930(0x2ee)](_0x3ced05=>{const _0x1a5f7d=_0xbc930;if(Math['max'](_0x5b13cd[_0x1a5f7d(0x278)],_0x3ced05[_0x1a5f7d(0x278)])<Math[_0x1a5f7d(0x2c8)](_0x5b13cd[_0x1a5f7d(0x26c)],_0x3ced05[_0x1a5f7d(0x26c)])){if(_0x3ced05[_0x1a5f7d(0x2f7)]>_0x410795)_0x410795=_0x3ced05[_0x1a5f7d(0x2f7)];}});const _0x243fd8=_0x410795+0x1,_0x1a36ec=0x64/_0x243fd8,_0x561514=_0x5b13cd[_0xbc930(0x2f7)]*_0x1a36ec,_0x3e124e=createEventEl(_0x5b13cd[_0xbc930(0x320)]);_0x3e124e['style'][_0xbc930(0x1e8)]=_0xbc930(0x2b8)+_0x1a36ec+'%\x20-\x204px)',_0x3e124e[_0xbc930(0x28c)]['left']=_0xbc930(0x2b8)+_0x561514+'%\x20+\x202px)',_0x3e124e[_0xbc930(0x28c)][_0xbc930(0x295)]=0xa+_0x5b13cd[_0xbc930(0x2f7)],_0x1a36ec<0x55&&_0x3e124e[_0xbc930(0x1f5)][_0xbc930(0x2a8)](_0xbc930(0x33a)),_0x2244df['appendChild'](_0x3e124e);});}function createEventEl(_0x10796e){const _0x4502c4=a2_0x1b723d,[_0x1f05ed,_0x3cfe28]=_0x10796e['start'][_0x4502c4(0x2b7)](':')[_0x4502c4(0x24c)](Number),[_0x19a996,_0x583455]=_0x10796e['end'][_0x4502c4(0x2b7)](':')['map'](Number),_0x128e06=(_0x1f05ed*0x3c+_0x3cfe28)/0x3c*GRID_H,_0x39094a=(_0x19a996*0x3c+_0x583455-(_0x1f05ed*0x3c+_0x3cfe28))/0x3c*GRID_H,_0x1e6c3b=document[_0x4502c4(0x24b)](_0x4502c4(0x268)),_0x4b3760=_0x10796e['status']===_0x4502c4(0x28d)?_0x4502c4(0x2cd):'';_0x1e6c3b[_0x4502c4(0x341)]=_0x4502c4(0x2d0)+_0x4b3760,_0x1e6c3b[_0x4502c4(0x28c)][_0x4502c4(0x315)]=_0x128e06+'px',_0x1e6c3b['style']['height']=Math[_0x4502c4(0x360)](_0x39094a,0x14)+'px';const _0x3827b3=clients['find'](_0xe8c5a2=>_0x10796e[_0x4502c4(0x276)]&&String(_0xe8c5a2['id'])===String(_0x10796e[_0x4502c4(0x276)])||_0xe8c5a2[_0x4502c4(0x1e6)]===_0x10796e[_0x4502c4(0x21e)]),_0x550850=_0x3827b3?_0x3827b3[_0x4502c4(0x239)]:_0x4502c4(0x223);_0x1e6c3b[_0x4502c4(0x28c)][_0x4502c4(0x2dd)]=_0x550850,_0x1e6c3b[_0x4502c4(0x28c)]['backgroundColor']=hexToRgba(_0x550850,0.85);let _0x1744ff=_0x4502c4(0x2f4)+_0x10796e[_0x4502c4(0x21e)]+_0x4502c4(0x270)+_0x10796e['start']+_0x4502c4(0x229)+_0x10796e[_0x4502c4(0x26c)]+'</div>';return _0x10796e[_0x4502c4(0x342)]&&(_0x1744ff+=_0x4502c4(0x1eb)),_0x10796e[_0x4502c4(0x29f)]===_0x4502c4(0x28d)&&(_0x1744ff+='<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>'),_0x1e6c3b['innerHTML']=_0x1744ff,_0x1e6c3b[_0x4502c4(0x32c)]=_0x26ed04=>{const _0x477372=_0x4502c4;_0x26ed04[_0x477372(0x22b)](),openEdit(_0x10796e);},_0x1e6c3b;}function attachLongPressHandler(_0x220dcd,_0x291d2d){const _0x4f1b71=a2_0x1b723d;let _0x5127e9=0x0,_0x1e4a88=null;const _0x5a956d=_0x41142c=>{const _0x3a6430=a2_0xeba8;if(_0x41142c['target'][_0x3a6430(0x248)](_0x3a6430(0x205)))return;isScrolling=![],_0x5127e9=_0x41142c[_0x3a6430(0x289)]?_0x41142c[_0x3a6430(0x289)][0x0][_0x3a6430(0x1e4)]:_0x41142c[_0x3a6430(0x1e4)],_0x1e4a88=setTimeout(()=>{const _0x15610b=_0x3a6430;if(!isScrolling){navigator[_0x15610b(0x25e)]?.(0x32);const _0x10e726=_0x220dcd[_0x15610b(0x23b)](),_0x401ced=Math[_0x15610b(0x23c)]((_0x5127e9-_0x10e726[_0x15610b(0x315)])/GRID_H);_0x291d2d['setHours'](_0x401ced,0x0),openAddSession(_0x291d2d);}},0x1f4);},_0x4b0a1d=()=>{isScrolling=!![],clearTimeout(_0x1e4a88);},_0x9a1cd2=()=>{clearTimeout(_0x1e4a88);};_0x220dcd[_0x4f1b71(0x312)]('touchstart',_0x5a956d,{'passive':!![]}),_0x220dcd[_0x4f1b71(0x312)](_0x4f1b71(0x28f),_0x4b0a1d,{'passive':!![]}),_0x220dcd[_0x4f1b71(0x312)](_0x4f1b71(0x351),_0x9a1cd2),_0x220dcd[_0x4f1b71(0x312)]('mousedown',_0x5a956d),_0x220dcd[_0x4f1b71(0x312)](_0x4f1b71(0x30a),_0x4b0a1d),_0x220dcd[_0x4f1b71(0x312)](_0x4f1b71(0x2e9),_0x9a1cd2);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x10434a=a2_0x1b723d,_0x225bae=document[_0x10434a(0x200)](_0x10434a(0x356)),_0x3300db=_0x225bae[_0x10434a(0x2d4)],_0x3cdc1a=_0x225bae[_0x10434a(0x2f3)],_0x3063ab=_0x225bae['clientWidth'];if(_0x3cdc1a-(_0x3300db+_0x3063ab)<0x12c){const _0x2cf95e=endOffset;endOffset+=0xe,renderDayRange(_0x2cf95e+0x1,endOffset),reRenderBlocks();}if(_0x3300db<0x12c){const _0x5cb05a=startOffset;startOffset-=0xe,prependDays(startOffset,_0x5cb05a-0x1),_0x225bae[_0x10434a(0x2d4)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x53ddf0,_0x553a76){const _0x446a42=a2_0x1b723d,_0x15bb1e=document[_0x446a42(0x200)]('daysHeaderTrack'),_0x5f29a0=document[_0x446a42(0x200)](_0x446a42(0x34c)),_0x1834f8=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1bab1f=new Date();_0x1bab1f[_0x446a42(0x31b)](0x0,0x0,0x0,0x0);const _0x394e41=getLocalDateStr(new Date()),_0x4bbd1a=document[_0x446a42(0x2a5)](),_0xa5cf43=document[_0x446a42(0x2a5)]();for(let _0x52cc05=_0x53ddf0;_0x52cc05<=_0x553a76;_0x52cc05++){const _0x212ee6=new Date(_0x1bab1f);_0x212ee6[_0x446a42(0x224)](_0x212ee6[_0x446a42(0x338)]()+_0x52cc05);const _0x433c5e=getLocalDateStr(_0x212ee6);let _0x58d3d8=_0x212ee6[_0x446a42(0x309)]()-0x1;if(_0x58d3d8===-0x1)_0x58d3d8=0x6;const _0x9c3100=_0x433c5e===_0x394e41,_0x42ead0=document['createElement'](_0x446a42(0x268));_0x42ead0['className']=_0x446a42(0x23f)+(_0x9c3100?_0x446a42(0x302):''),_0x42ead0['id']=_0x446a42(0x2da)+_0x433c5e,_0x42ead0[_0x446a42(0x2fa)]('data-date',_0x433c5e),_0x42ead0[_0x446a42(0x2ea)]='<div\x20class=\x22dch-day\x22>'+_0x1834f8[_0x58d3d8]+_0x446a42(0x2bf)+_0x212ee6[_0x446a42(0x338)]()+_0x446a42(0x26b)+_0x433c5e+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x42ead0['onclick']=()=>openDayOptions(_0x433c5e,_0x1834f8[_0x58d3d8]+'\x20'+_0x212ee6['getDate']()),_0x4bbd1a['appendChild'](_0x42ead0);const _0x5f36ae=document[_0x446a42(0x24b)](_0x446a42(0x268));_0x5f36ae[_0x446a42(0x341)]=_0x446a42(0x24a)+(_0x9c3100?_0x446a42(0x302):''),_0x5f36ae[_0x446a42(0x2fa)](_0x446a42(0x2fe),_0x433c5e),_0x5f36ae[_0x446a42(0x2fa)](_0x446a42(0x326),_0x58d3d8),renderEventsForColumn(_0x5f36ae,_0x433c5e,_0x58d3d8),attachLongPressHandler(_0x5f36ae,_0x212ee6),_0xa5cf43[_0x446a42(0x2b5)](_0x5f36ae),updateDayStats(_0x433c5e);}_0x15bb1e[_0x446a42(0x20d)](_0x4bbd1a,_0x15bb1e[_0x446a42(0x2d6)]),_0x5f29a0['insertBefore'](_0xa5cf43,_0x5f29a0[_0x446a42(0x2c7)](_0x446a42(0x2af)));}function validateAppointment(_0xfe6fe0,_0x5406a0,_0x164849,_0x32552b,_0x3b6d8e){const _0x58c67a=a2_0x1b723d,[_0x55ff9f,_0x2d97dd]=_0x5406a0[_0x58c67a(0x2b7)](':')[_0x58c67a(0x24c)](Number),[_0x1c5141,_0x14593d]=_0x164849[_0x58c67a(0x2b7)](':')[_0x58c67a(0x24c)](Number),_0x2c7547=_0x55ff9f*0x3c+_0x2d97dd,_0x5026a0=_0x1c5141*0x3c+_0x14593d,_0x5c5e21=String(_0x3b6d8e);let _0x26a1c9=![],_0x500de9='';for(let _0x42b0a4 of sessions){if(_0x42b0a4[_0x58c67a(0x279)]!==_0xfe6fe0)continue;if(_0x42b0a4['status']===_0x58c67a(0x35a))continue;if(_0x32552b&&String(_0x42b0a4['id'])===String(_0x32552b))continue;const [_0x4d1cd9,_0x2b9ecb]=_0x42b0a4['start'][_0x58c67a(0x2b7)](':')[_0x58c67a(0x24c)](Number),[_0x379559,_0x1d64c1]=_0x42b0a4[_0x58c67a(0x26c)][_0x58c67a(0x2b7)](':')[_0x58c67a(0x24c)](Number),_0x10c9a3=_0x4d1cd9*0x3c+_0x2b9ecb,_0x5e196e=_0x379559*0x3c+_0x1d64c1;if(Math[_0x58c67a(0x360)](_0x2c7547,_0x10c9a3)<Math[_0x58c67a(0x2c8)](_0x5026a0,_0x5e196e)){if(_0x42b0a4[_0x58c67a(0x276)]&&String(_0x42b0a4[_0x58c67a(0x276)])===_0x5c5e21)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0x42b0a4[_0x58c67a(0x21e)]+_0x58c67a(0x246)};_0x26a1c9=!![],_0x500de9=_0x42b0a4[_0x58c67a(0x21e)];}}if(_0x26a1c9)return{'valid':!![],'warning':_0x58c67a(0x2bb)+_0x500de9};return{'valid':!![]};}function updateDateDisplay(){const _0x10cebf=a2_0x1b723d,_0x230132=document[_0x10cebf(0x200)](_0x10cebf(0x1f4))[_0x10cebf(0x213)],_0xddaf01=document[_0x10cebf(0x200)]('sheetDateSubtitle');if(!_0x230132){_0xddaf01[_0x10cebf(0x2b1)]='';return;}const [_0x51dd0e,_0x1cfa51,_0x5e969d]=_0x230132['split']('-')[_0x10cebf(0x24c)](Number),_0x295d14=new Date(_0x51dd0e,_0x1cfa51-0x1,_0x5e969d),_0x48a724={'weekday':_0x10cebf(0x1fa),'day':_0x10cebf(0x2b9),'month':_0x10cebf(0x1fa),'year':_0x10cebf(0x2b9)};let _0x42f125=_0x295d14[_0x10cebf(0x32a)](_0x10cebf(0x264),_0x48a724);_0x42f125=_0x42f125[_0x10cebf(0x1f7)](0x0)[_0x10cebf(0x233)]()+_0x42f125[_0x10cebf(0x287)](0x1),_0xddaf01[_0x10cebf(0x2b1)]=_0x42f125;}function autoSetEndTime(){const _0x11e47c=a2_0x1b723d,_0x4f3c5c=document[_0x11e47c(0x200)](_0x11e47c(0x285))[_0x11e47c(0x213)];if(!_0x4f3c5c)return;const [_0x345c95,_0x596a2a]=_0x4f3c5c[_0x11e47c(0x2b7)](':')[_0x11e47c(0x24c)](Number);let _0x4437e7=_0x345c95+0x1;if(_0x4437e7>0x17)_0x4437e7=0x0;const _0x4fcbc3=String(_0x4437e7)[_0x11e47c(0x27b)](0x2,'0')+':'+String(_0x596a2a)[_0x11e47c(0x27b)](0x2,'0');document[_0x11e47c(0x200)]('inpEnd')[_0x11e47c(0x213)]=_0x4fcbc3;}function a2_0xeba8(_0x89c0e8,_0x3280ba){_0x89c0e8=_0x89c0e8-0x1df;const _0x7c45f8=a2_0x44bc();let _0x3b3783=_0x7c45f8[_0x89c0e8];return _0x3b3783;}function populateClientSelect(){const _0x439131=a2_0x1b723d,_0x31fc40=document['getElementById'](_0x439131(0x263));_0x31fc40[_0x439131(0x2ea)]='';if(clients[_0x439131(0x349)]===0x0){const _0xcaa17b=document[_0x439131(0x24b)](_0x439131(0x33e));_0xcaa17b[_0x439131(0x221)]=_0x439131(0x28b),_0x31fc40[_0x439131(0x2b5)](_0xcaa17b);return;}clients[_0x439131(0x2ee)](_0x2f8383=>{const _0x13e427=_0x439131,_0x228712=document[_0x13e427(0x24b)]('option');_0x228712[_0x13e427(0x213)]=_0x2f8383[_0x13e427(0x1e6)],_0x228712[_0x13e427(0x2b1)]=_0x2f8383['name'],_0x31fc40[_0x13e427(0x2b5)](_0x228712);});}function openActionSheet(_0x191016){const _0x3e3eba=a2_0x1b723d,_0x30b3f7=document['getElementById'](_0x3e3eba(0x307)),_0x4adaff=document[_0x3e3eba(0x200)](_0x3e3eba(0x30c)),_0x13153e=document[_0x3e3eba(0x200)](_0x3e3eba(0x294)),_0x1bb653=document[_0x3e3eba(0x200)]('asBtnOne'),_0x421359=document[_0x3e3eba(0x200)](_0x3e3eba(0x33c));_0x4adaff['classList'][_0x3e3eba(0x2a8)](_0x3e3eba(0x33f)),_0x30b3f7[_0x3e3eba(0x1f5)][_0x3e3eba(0x2a8)](_0x3e3eba(0x209));if(_0x191016===_0x3e3eba(0x352))_0x13153e[_0x3e3eba(0x2b1)]=_0x3e3eba(0x2b2),_0x1bb653[_0x3e3eba(0x2b1)]=_0x3e3eba(0x343),_0x1bb653[_0x3e3eba(0x32c)]=()=>{const _0xe8275f=_0x3e3eba;closeActionSheet(),updateSeriesBatch(_0xe8275f(0x2ab),tempSessionData);},_0x421359[_0x3e3eba(0x2b1)]=_0x3e3eba(0x24e),_0x421359[_0x3e3eba(0x32c)]=()=>{closeActionSheet(),updateSeriesBatch('series',tempSessionData);};else _0x191016===_0x3e3eba(0x1ef)&&(_0x13153e[_0x3e3eba(0x2b1)]=_0x3e3eba(0x212),_0x1bb653['textContent']='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x1bb653[_0x3e3eba(0x341)]='as-button\x20danger',_0x1bb653['onclick']=()=>{const _0x4622e0=_0x3e3eba;closeActionSheet(),commitDelete(_0x4622e0(0x2ab),sessions[_0x4622e0(0x2cb)](_0x54d5d1=>_0x54d5d1['id']===editingId));},_0x421359[_0x3e3eba(0x2b1)]='–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ',_0x421359[_0x3e3eba(0x341)]=_0x3e3eba(0x27c),_0x421359[_0x3e3eba(0x32c)]=()=>{const _0x35244e=_0x3e3eba;closeActionSheet(),commitDelete(_0x35244e(0x20e),sessions['find'](_0x1651f3=>_0x1651f3['id']===editingId));});}function closeActionSheet(){const _0x2cceff=a2_0x1b723d;document[_0x2cceff(0x200)](_0x2cceff(0x307))[_0x2cceff(0x1f5)][_0x2cceff(0x321)](_0x2cceff(0x209)),document[_0x2cceff(0x200)](_0x2cceff(0x30c))[_0x2cceff(0x1f5)]['remove']('active');}function openSettings(){const _0x389023=a2_0x1b723d;openSheet(_0x389023(0x210));}function saveCoachSettings(){const _0x268876=a2_0x1b723d,_0x2f1d0a=document[_0x268876(0x200)](_0x268876(0x240))[_0x268876(0x213)];localStorage[_0x268876(0x2bc)](_0x268876(0x29a),_0x2f1d0a),console[_0x268876(0x2d3)](_0x268876(0x32b),_0x2f1d0a),DataManager[_0x268876(0x22f)](_0x268876(0x317),{'settings':{'cancel_window':_0x2f1d0a}})[_0x268876(0x31c)](_0x5b8546=>{const _0x9a8e70=_0x268876;console[_0x9a8e70(0x26f)](_0x9a8e70(0x252),_0x5b8546),showToast(_0x9a8e70(0x353),![]);});}function loadCoachSettings(){const _0x51a5a0=a2_0x1b723d,_0x10ff8a=localStorage[_0x51a5a0(0x2c3)](_0x51a5a0(0x29a));_0x10ff8a&&(document['getElementById']('settingCancelWindow')[_0x51a5a0(0x213)]=_0x10ff8a);}function openRangesSheet(){const _0x32d600=a2_0x1b723d;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x32d600(0x316));}function addRange(){const _0x1c6f7e=a2_0x1b723d,_0xcc216=document[_0x1c6f7e(0x200)](_0x1c6f7e(0x22c))[_0x1c6f7e(0x213)],_0x565b1e=document['getElementById']('rangeStartTime')[_0x1c6f7e(0x213)],_0x2117ad=document[_0x1c6f7e(0x200)](_0x1c6f7e(0x2d8))[_0x1c6f7e(0x213)],_0x52c9b2=document[_0x1c6f7e(0x200)](_0x1c6f7e(0x20b))['value'];if(!_0xcc216||!_0x565b1e||!_0x2117ad||!_0x52c9b2)return alert(_0x1c6f7e(0x35c));const _0x4d4979=_0xcc216+'T'+_0x565b1e,_0x33c0da=_0x2117ad+'T'+_0x52c9b2;if(_0x4d4979>=_0x33c0da)return alert(_0x1c6f7e(0x311));specialRanges[_0x1c6f7e(0x25a)]({'start':_0x4d4979,'end':_0x33c0da}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x1c6f7e(0x319)](),DataManager['fetchFromServer'](_0x1c6f7e(0x317),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x536979){const _0x5ad95e=a2_0x1b723d;specialRanges[_0x5ad95e(0x241)](_0x536979,0x1),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x5ad95e(0x22f)](_0x5ad95e(0x317),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x3cf923=a2_0x1b723d;document[_0x3cf923(0x200)](_0x3cf923(0x22c))[_0x3cf923(0x213)]='',document[_0x3cf923(0x200)](_0x3cf923(0x242))[_0x3cf923(0x213)]='00:00',document[_0x3cf923(0x200)](_0x3cf923(0x2d8))[_0x3cf923(0x213)]='',document[_0x3cf923(0x200)](_0x3cf923(0x20b))[_0x3cf923(0x213)]=_0x3cf923(0x216);}function renderRangesList(){const _0x22efd3=a2_0x1b723d,_0x5ae36a=document[_0x22efd3(0x200)](_0x22efd3(0x231));_0x5ae36a[_0x22efd3(0x2ea)]='';if(!specialRanges[_0x22efd3(0x349)]){_0x5ae36a[_0x22efd3(0x2ea)]=_0x22efd3(0x275);return;}specialRanges[_0x22efd3(0x2ee)]((_0x3b7da9,_0x6b8491)=>{const _0xb2206=_0x22efd3,_0x4fc0f0=document[_0xb2206(0x24b)]('div');_0x4fc0f0[_0xb2206(0x341)]=_0xb2206(0x232);const _0x13d5bc=_0x2e6ea2=>{const _0x5e952e=_0xb2206,_0xe3e63b=new Date(_0x2e6ea2);return _0xe3e63b['getDate']()+'.'+String(_0xe3e63b[_0x5e952e(0x2be)]()+0x1)[_0x5e952e(0x27b)](0x2,'0')+'\x20'+String(_0xe3e63b[_0x5e952e(0x2e8)]())[_0x5e952e(0x27b)](0x2,'0')+':'+String(_0xe3e63b['getMinutes']())[_0x5e952e(0x27b)](0x2,'0');};_0x4fc0f0[_0xb2206(0x2ea)]=_0xb2206(0x340)+_0x13d5bc(_0x3b7da9[_0xb2206(0x278)])+_0xb2206(0x24f)+_0x13d5bc(_0x3b7da9[_0xb2206(0x26c)])+_0xb2206(0x2db)+_0x6b8491+_0xb2206(0x2ec),_0x5ae36a['appendChild'](_0x4fc0f0);});}function scrollToToday(){const _0x5dd9d0=a2_0x1b723d,_0x3eb5ad=getLocalDateStr(new Date()),_0x131171=document[_0x5dd9d0(0x200)](_0x5dd9d0(0x2da)+_0x3eb5ad),_0x3b80c3=document[_0x5dd9d0(0x200)](_0x5dd9d0(0x356));if(_0x131171&&_0x3b80c3){const _0x3678d5=_0x3b80c3['clientWidth'],_0x4bbdca=_0x131171[_0x5dd9d0(0x208)],_0x188ead=_0x131171['offsetWidth'];_0x3b80c3[_0x5dd9d0(0x2d4)]=_0x4bbdca-_0x3678d5/0x2+_0x188ead/0x2,_0x3b80c3[_0x5dd9d0(0x277)]=0x9*GRID_H;}}function onScroll(){const _0x291f2b=a2_0x1b723d,_0x493cf2=document[_0x291f2b(0x200)](_0x291f2b(0x356)),_0x873314=document[_0x291f2b(0x2d2)](_0x291f2b(0x359));for(let _0x476d35 of _0x873314)if(_0x476d35[_0x291f2b(0x208)]>=_0x493cf2[_0x291f2b(0x2d4)]){const _0x1580cb=new Date(_0x476d35[_0x291f2b(0x22e)](_0x291f2b(0x2fe)));document[_0x291f2b(0x200)](_0x291f2b(0x329))['textContent']=_0x1580cb[_0x291f2b(0x2bd)]('ru',{'month':_0x291f2b(0x1fa)})['toUpperCase']()+'\x20'+_0x1580cb[_0x291f2b(0x201)]();break;}}function showToast(_0x24ffdd,_0x4a0a43=![]){const _0x19f349=a2_0x1b723d,_0xc7eb0e=document['getElementById']('toast');_0xc7eb0e[_0x19f349(0x341)]=_0x19f349(0x2f6)+(_0x4a0a43?'success':''),document[_0x19f349(0x200)](_0x19f349(0x337))['textContent']=_0x4a0a43?_0x19f349(0x293):'–ò–Ω—Ñ–æ',document[_0x19f349(0x200)](_0x19f349(0x300))['textContent']=_0x24ffdd,_0xc7eb0e[_0x19f349(0x1f5)][_0x19f349(0x2a8)]('show'),setTimeout(()=>{const _0x5c7395=_0x19f349;_0xc7eb0e['classList'][_0x5c7395(0x321)](_0x5c7395(0x234));},0xbb8);}function openDayOptions(_0x13a437,_0x4017db){const _0x1d1ce3=a2_0x1b723d;selectedDayForOptions=_0x13a437,document[_0x1d1ce3(0x200)](_0x1d1ce3(0x2b3))[_0x1d1ce3(0x2b1)]=_0x4017db,openSheet(_0x1d1ce3(0x331));}function toggleDayOff(){const _0x91fce5=a2_0x1b723d;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]='off',reRenderBlocks(),closeAllSheets(),DataManager[_0x91fce5(0x319)](),DataManager[_0x91fce5(0x22f)](_0x91fce5(0x317),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x3cacd3=a2_0x1b723d;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x3cacd3(0x319)](),DataManager[_0x3cacd3(0x22f)](_0x3cacd3(0x317),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x17cab7){const _0x43ba46=a2_0x1b723d;document[_0x43ba46(0x200)](_0x43ba46(0x28e))[_0x43ba46(0x1f5)][_0x43ba46(0x2a8)](_0x43ba46(0x33f)),document[_0x43ba46(0x200)](_0x17cab7)[_0x43ba46(0x1f5)]['add'](_0x43ba46(0x209));}function closeAllSheets(){const _0x5e78c5=a2_0x1b723d;document[_0x5e78c5(0x200)](_0x5e78c5(0x28e))[_0x5e78c5(0x1f5)][_0x5e78c5(0x321)](_0x5e78c5(0x33f)),document[_0x5e78c5(0x2d2)](_0x5e78c5(0x35f))['forEach'](_0x50aa5f=>_0x50aa5f[_0x5e78c5(0x1f5)][_0x5e78c5(0x321)](_0x5e78c5(0x209)));}function openPatternEditor(){const _0x5310e8=a2_0x1b723d;closeAllSheets(),document[_0x5310e8(0x200)](_0x5310e8(0x2cc))[_0x5310e8(0x1f5)][_0x5310e8(0x2a8)](_0x5310e8(0x209)),renderPatternEditor();}function closePatternEditor(){const _0x4cdd74=a2_0x1b723d;document['getElementById']('patternEditor')[_0x4cdd74(0x1f5)]['remove']('open');}function savePattern(){const _0x284749=a2_0x1b723d;document[_0x284749(0x200)](_0x284749(0x2cc))[_0x284749(0x1f5)][_0x284749(0x321)](_0x284749(0x209)),reRenderBlocks(),DataManager[_0x284749(0x319)](),DataManager[_0x284749(0x22f)]('save_settings',{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x1c2ca8=a2_0x1b723d,_0x8a8698=document[_0x1c2ca8(0x200)](_0x1c2ca8(0x260));_0x8a8698[_0x1c2ca8(0x2ea)]='';const _0x58adc5=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x24973a=document[_0x1c2ca8(0x24b)](_0x1c2ca8(0x268));_0x24973a['className']=_0x1c2ca8(0x228),_0x8a8698[_0x1c2ca8(0x2b5)](_0x24973a),_0x58adc5[_0x1c2ca8(0x2ee)]((_0x47e761,_0x396fa6)=>{const _0x1b8075=_0x1c2ca8,_0xf59e35=document[_0x1b8075(0x24b)](_0x1b8075(0x268));_0xf59e35[_0x1b8075(0x341)]=_0x1b8075(0x280),_0xf59e35[_0x1b8075(0x2ea)]=_0x47e761+_0x1b8075(0x2ad),_0xf59e35[_0x1b8075(0x32c)]=()=>toggleColPattern(_0x396fa6),_0x8a8698[_0x1b8075(0x2b5)](_0xf59e35);});for(let _0x1ae76f=0x0;_0x1ae76f<0x18;_0x1ae76f++){const _0x49d594=document[_0x1c2ca8(0x24b)]('div');_0x49d594['className']=_0x1c2ca8(0x255),_0x49d594[_0x1c2ca8(0x2ea)]=_0x1c2ca8(0x214)+String(_0x1ae76f)[_0x1c2ca8(0x27b)](0x2,'0')+_0x1c2ca8(0x32d),_0x49d594[_0x1c2ca8(0x32c)]=()=>toggleRowPattern(_0x1ae76f),_0x8a8698['appendChild'](_0x49d594);for(let _0x130703=0x0;_0x130703<0x7;_0x130703++){const _0x8c651=document[_0x1c2ca8(0x24b)]('div'),_0x2c7da5=(availabilityPattern[_0x130703]||[])[_0x1c2ca8(0x35b)](_0x1ae76f),_0x28a027=!_0x2c7da5;_0x8c651[_0x1c2ca8(0x341)]=_0x1c2ca8(0x1ee)+(_0x28a027?_0x1c2ca8(0x33f):''),_0x8c651[_0x1c2ca8(0x32c)]=()=>toggleSinglePattern(_0x130703,_0x1ae76f),_0x8a8698['appendChild'](_0x8c651);}}}function toggleSinglePattern(_0x32b09e,_0x475c64){const _0x2d6df2=a2_0x1b723d;if(!availabilityPattern[_0x32b09e])availabilityPattern[_0x32b09e]=[];const _0x5906be=availabilityPattern[_0x32b09e],_0x18a28f=_0x5906be[_0x2d6df2(0x2ef)](_0x475c64);_0x18a28f===-0x1?_0x5906be['push'](_0x475c64):_0x5906be[_0x2d6df2(0x241)](_0x18a28f,0x1),renderPatternEditor();}function toggleColPattern(_0xbb72d5){const _0x32a432=a2_0x1b723d;if(!availabilityPattern[_0xbb72d5])availabilityPattern[_0xbb72d5]=[];const _0xd4a78e=availabilityPattern[_0xbb72d5];_0xd4a78e[_0x32a432(0x349)]===0x0?availabilityPattern[_0xbb72d5]=Array['from']({'length':0x18},(_0x45fb48,_0x14b68f)=>_0x14b68f):availabilityPattern[_0xbb72d5]=[],renderPatternEditor();}function toggleRowPattern(_0x1b33ca){const _0x5be294=a2_0x1b723d;let _0x3940f4=!![];for(let _0x994562=0x0;_0x994562<0x7;_0x994562++){if((availabilityPattern[_0x994562]||[])['includes'](_0x1b33ca)){_0x3940f4=![];break;}}for(let _0x101fa4=0x0;_0x101fa4<0x7;_0x101fa4++){if(!availabilityPattern[_0x101fa4])availabilityPattern[_0x101fa4]=[];const _0x41a140=availabilityPattern[_0x101fa4][_0x5be294(0x2ef)](_0x1b33ca);if(_0x3940f4){if(_0x41a140===-0x1)availabilityPattern[_0x101fa4]['push'](_0x1b33ca);}else{if(_0x41a140!==-0x1)availabilityPattern[_0x101fa4][_0x5be294(0x241)](_0x41a140,0x1);}}renderPatternEditor();}function renderPCol(_0x4309b6,_0xabe0f0){const _0x406758=a2_0x1b723d;_0x4309b6[_0x406758(0x2ea)]='';const _0x2d8401=Math[_0x406758(0x30d)](_0x4309b6[_0x406758(0x208)]);(availabilityPattern[_0xabe0f0]||[])['forEach'](_0x3cc873=>{const _0x5a946e=_0x406758,_0xd68d39=document[_0x5a946e(0x24b)]('div');_0xd68d39[_0x5a946e(0x341)]=_0x5a946e(0x220);const _0x267ce8=_0x3cc873*GRID_H;_0xd68d39[_0x5a946e(0x28c)][_0x5a946e(0x315)]=_0x267ce8+'px',_0xd68d39[_0x5a946e(0x28c)]['backgroundPosition']='-'+_0x2d8401+_0x5a946e(0x322)+_0x267ce8+'px',_0xd68d39[_0x5a946e(0x32c)]=_0x3282ab=>{_0x3282ab['stopPropagation'](),toggleSinglePattern(_0xabe0f0,_0x3cc873);},_0x4309b6[_0x5a946e(0x2b5)](_0xd68d39);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x3291e8=a2_0x1b723d,_0xd0b5cc=new Date(),_0x258fef=document[_0x3291e8(0x200)](_0x3291e8(0x32f)),_0x5912d5=document[_0x3291e8(0x200)]('timeLineBadge'),_0x3fd544=(_0xd0b5cc[_0x3291e8(0x2e8)]()*0x3c+_0xd0b5cc[_0x3291e8(0x2a3)]())/0x3c*GRID_H;_0x258fef[_0x3291e8(0x28c)][_0x3291e8(0x315)]=_0x3fd544+'px',_0x258fef['style']['display']=_0x3291e8(0x253),_0x5912d5[_0x3291e8(0x2b1)]=String(_0xd0b5cc['getHours']())['padStart'](0x2,'0')+':'+String(_0xd0b5cc['getMinutes']())[_0x3291e8(0x27b)](0x2,'0'),_0x5912d5[_0x3291e8(0x28c)][_0x3291e8(0x25c)]='block',_0x5912d5['style'][_0x3291e8(0x315)]=_0x3fd544+'px';}document[a2_0x1b723d(0x312)]('DOMContentLoaded',init);function openDayOptions(_0x3539c9){const _0xf91258=a2_0x1b723d;selectedDayForOptions=_0x3539c9;const _0x15b92f=new Date(_0x3539c9),_0x10c611={'weekday':_0xf91258(0x1fa),'day':_0xf91258(0x2b9),'month':'long','year':'numeric'},_0x3d6fe2=_0x15b92f['toLocaleDateString']('ru-RU',_0x10c611);document[_0xf91258(0x200)](_0xf91258(0x2f2))[_0xf91258(0x2b1)]=_0x3d6fe2[_0xf91258(0x1f7)](0x0)['toUpperCase']()+_0x3d6fe2[_0xf91258(0x287)](0x1);let _0x456a17=_0x15b92f[_0xf91258(0x309)]()-0x1;if(_0x456a17===-0x1)_0x456a17=0x6;const _0x509073=availabilityPattern[_0x456a17]||[],_0x3e650b=0x18-_0x509073[_0xf91258(0x349)],_0xbd0523=_0x3e650b*0x3c,_0x2d8fe4=sessions[_0xf91258(0x218)](_0x22a28c=>_0x22a28c[_0xf91258(0x279)]===_0x3539c9&&_0x22a28c['status']!==_0xf91258(0x35a));let _0x4476c1=_0x2d8fe4[_0xf91258(0x24c)](_0x4d8270=>{const _0x5b0937=_0xf91258,[_0x323801,_0x229f54]=_0x4d8270[_0x5b0937(0x278)]['split'](':')[_0x5b0937(0x24c)](Number),[_0x5c0b32,_0x40fd20]=_0x4d8270[_0x5b0937(0x26c)]['split'](':')[_0x5b0937(0x24c)](Number);return[_0x323801*0x3c+_0x229f54,_0x5c0b32*0x3c+_0x40fd20];});_0x4476c1[_0xf91258(0x357)]((_0x4944d8,_0x8f2d78)=>_0x4944d8[0x0]-_0x8f2d78[0x0]);let _0x593a1c=[];if(_0x4476c1[_0xf91258(0x349)]>0x0){let _0x1541d0=_0x4476c1[0x0];for(let _0x5ada4d=0x1;_0x5ada4d<_0x4476c1[_0xf91258(0x349)];_0x5ada4d++){_0x4476c1[_0x5ada4d][0x0]<_0x1541d0[0x1]?_0x1541d0[0x1]=Math[_0xf91258(0x360)](_0x1541d0[0x1],_0x4476c1[_0x5ada4d][0x1]):(_0x593a1c[_0xf91258(0x25a)](_0x1541d0),_0x1541d0=_0x4476c1[_0x5ada4d]);}_0x593a1c[_0xf91258(0x25a)](_0x1541d0);}let _0x2703b1=0x0;_0x593a1c[_0xf91258(0x2ee)](_0x9baeec=>_0x2703b1+=_0x9baeec[0x1]-_0x9baeec[0x0]),document[_0xf91258(0x200)](_0xf91258(0x2e5))[_0xf91258(0x2b1)]=formatMinsToHrs(_0xbd0523),document[_0xf91258(0x200)]('doBusyHours')[_0xf91258(0x2b1)]=formatMinsToHrs(_0x2703b1);const _0x17ed63=_0xbd0523>0x0?Math[_0xf91258(0x30d)](_0x2703b1/_0xbd0523*0x64):0x0,_0x492867=document[_0xf91258(0x200)](_0xf91258(0x282));_0x492867[_0xf91258(0x2b1)]=_0x17ed63+'%';const _0x1a7f7d=document[_0xf91258(0x200)](_0xf91258(0x1e2));if(_0x17ed63>0x64)_0x492867[_0xf91258(0x28c)][_0xf91258(0x239)]=_0xf91258(0x31a),_0x1a7f7d[_0xf91258(0x28c)][_0xf91258(0x339)]=_0xf91258(0x1fb);else _0x17ed63>0x50?(_0x492867[_0xf91258(0x28c)]['color']=_0xf91258(0x1e9),_0x1a7f7d[_0xf91258(0x28c)][_0xf91258(0x339)]='rgba(255,\x20159,\x2010,\x200.3)'):(_0x492867[_0xf91258(0x28c)][_0xf91258(0x239)]=_0xf91258(0x1fc),_0x1a7f7d[_0xf91258(0x28c)][_0xf91258(0x339)]=_0xf91258(0x26e));const _0x134ceb=document[_0xf91258(0x200)](_0xf91258(0x249));_0x134ceb[_0xf91258(0x2ea)]='';_0x2d8fe4[_0xf91258(0x349)]===0x0?_0x134ceb['innerHTML']=_0xf91258(0x2de):(_0x2d8fe4[_0xf91258(0x357)]((_0x4a0b84,_0x1cc551)=>_0x4a0b84[_0xf91258(0x278)][_0xf91258(0x2f8)](_0x1cc551[_0xf91258(0x278)])),_0x2d8fe4[_0xf91258(0x2ee)](_0x1e0be5=>{const _0x55cc0d=_0xf91258,_0xec15e1=clients['find'](_0x17ca1a=>_0x17ca1a['name']===_0x1e0be5['client']),_0x325547=_0xec15e1?_0xec15e1[_0x55cc0d(0x239)]:_0x55cc0d(0x211),_0x376b65=_0x1e0be5[_0x55cc0d(0x29f)]===_0x55cc0d(0x28d),_0xb8afd=_0x376b65?_0x55cc0d(0x354):'',_0x55c1ea=document[_0x55cc0d(0x24b)](_0x55cc0d(0x268));_0x55c1ea[_0x55cc0d(0x341)]=_0x55cc0d(0x334),_0x55c1ea[_0x55cc0d(0x28c)][_0x55cc0d(0x2dd)]=_0x325547,_0x55c1ea[_0x55cc0d(0x2ea)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>'+_0x1e0be5[_0x55cc0d(0x278)]+_0x55cc0d(0x229)+_0x1e0be5['end']+_0x55cc0d(0x2c5)+_0x1e0be5[_0x55cc0d(0x21e)]+_0x55cc0d(0x2c2)+_0xb8afd+_0x55cc0d(0x32e),_0x134ceb[_0x55cc0d(0x2b5)](_0x55c1ea);}));const _0x155772=document[_0xf91258(0x200)](_0xf91258(0x1f2)),_0x44d44a=dateExceptions[_0x3539c9]===_0xf91258(0x33d);_0x44d44a?(_0x155772[_0xf91258(0x2b1)]=_0xf91258(0x286),_0x155772[_0xf91258(0x341)]='btn-primary\x20btn-secondary',_0x155772[_0xf91258(0x28c)][_0xf91258(0x239)]='var(--acc-green)',_0x155772[_0xf91258(0x28c)]['background']=_0xf91258(0x1e7)):(_0x155772[_0xf91258(0x2b1)]='–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º',_0x155772[_0xf91258(0x341)]='btn-primary\x20btn-danger',_0x155772[_0xf91258(0x28c)]['color']=_0xf91258(0x31a),_0x155772[_0xf91258(0x28c)]['background']=_0xf91258(0x2e1)),openSheet('dayOptionsSheet');}function a2_0x44bc(){const _0x57a3db=[')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','expand','.event-card','height','total','offsetLeft','open','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','rangeEndTime','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','insertBefore','series','guest','settingsSheet','#fff','–£–¥–∞–ª–µ–Ω–∏–µ','value','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','23:59','timeColumn','filter','3clbFmI','stringify','cancel_window','syncBatch','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','client','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','blocked-slot\x20stripe-bg','text','T23:59:59','#0a84ff','setDate','\x20days','stat-','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','pe-corner','\x20-\x20','complete','stopPropagation','rangeStartDate','BackButton','getAttribute','fetchFromServer','deleted','rangesList','range-item','toUpperCase','show','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','recurringOptionContainer','.day-off-overlay','planned','color','settings','getBoundingClientRect','floor','inpEnd','keys','day-col-header\x20','settingCancelWindow','splice','rangeStartTime','10px','anDonutCircle','entries',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','from','closest','doEventsList','day-column\x20','createElement','map','.dch-stats-fill','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','\x20‚Äî\x20','btnStatusToggle','done','Save\x20settings\x20error:','block','anStart','pe-time-label',':\x20Client\x20already\x20booked','parse','none','anEnd','push','T00:00:00','display','offClick','vibrate','ranges','peGrid','Critical\x20TMA\x20Error:','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','inpClient','ru-RU','findIndex','backgroundPosition','json','div','send','Local\x20Save\x20Error','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','end','anTotalStats','rgba(255,255,255,0.05)','error','</div><div\x20class=\x22ev-time\x22>','strokeDashoffset','<div\x20class=\x22dch-day\x22>','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','<b>‚úÖ\x20','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','clientId','scrollTop','start','dateStr','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','padStart','as-button\x20danger\x20bold','patternInfoBox','user','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','pe-col-header','setBackgroundColor','doLoadPercent','null','sheetTitle','inpStart','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','slice','Batch\x20Sync\x20OK','touches','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','style','completed','overlay','touchmove','.period-switch\x20.p-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','px\x200px','–£—Å–ø–µ—à–Ω–æ','asTitle','zIndex','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','initDataUnsafe','client-stat-card','Telegram','uc_settings_cancel_window','router.html','799074yjGQWT','create','WebApp','status','flex','[API\x20','custom','getMinutes','timeLineBadge','createDocumentFragment','[Notify]\x20Client\x20SWAP\x20detected','loadLocal','add','cancel','undefined','single','background','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','btnDelete','.day-column','(((.+)+)+)+$','textContent','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','dayOptionsTitle','init_load','appendChild','[Notify]\x20Error:\x20sessionData\x20is\x20null','split','calc(','numeric','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','setItem','toLocaleString','getMonth','</div><div\x20class=\x22dch-num\x22>','var(--acc-current)','30RmSyXS','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getItem','apply','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','1104178gJZHwK','querySelector','min','.pib-text','sid','find','patternEditor','\x20status-completed','6226170liEyMV','update','event-card','exceptions','querySelectorAll','log','scrollLeft','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','firstChild','[Notify]\x20Attempting\x20to\x20send:','rangeEndDate','POST','header-','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(',']\x20Failed:','borderLeftColor','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','then','rgba(255,\x2069,\x2058,\x200.15)','time-label','...',':00</span>','doWorkHours','now','mergeServerData','getHours','mouseup','innerHTML','daysHeaderTrack',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','anPercent','forEach','indexOf','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','doDateHeader','scrollWidth','<div\x20class=\x22ev-title\x22>','warning','toast-notification\x20','colIndex','localeCompare','send_notification','setAttribute','379860URYTTJ','getText','295843hSwDIu','data-date','uc_settings_v9','toastMessage','Error\x20setting\x20color:','today','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','valid','checked','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','actionSheet','1022872LnzCRI','getDay','mousemove','uc_sessions_v9','actionSheetOverlay','round','seriesCountContainer','toString','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','addEventListener','4477347ioFUIG','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','top','rangesSheet','save_settings','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','saveLocally','var(--acc-red)','setHours','catch','[Sync]\x20Loading\x20','toFixed','analyticsList','data','remove','px\x20-','borderRadius','10px\x2010px\x200\x200','day-off-overlay\x20stripe-bg','data-day-idx','Server\x20Error','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','headerMonth','toLocaleDateString','[Settings]\x20Cancel\x20window\x20set\x20to:','onclick',':00','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','globalTimeLine','Unknown','dayOptionsSheet','analyticsSheet',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','de-item','note','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','toastTitle','getDate','borderColor','mini','initData','asBtnSeries','off','option','active','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','className','seriesId','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','onClick','#gridColumns\x20.day-column','btn-status-toggle','random','\x20–∏–∑\x20','length','#050505','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','gridColumns','Error\x20setting\x20back\x20button:','setHeaderColor','week','sessionSheet','touchend','save','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','calendar','matrixViewport','sort','scroll','.day-col-header','cancelled','includes','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','search','rgba(','.sheet','max','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','warn','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','clients','statLoadCard','href','clientY','100%','name','rgba(48,\x20209,\x2088,\x200.15)','width','var(--acc-orange)','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','anCustomDates','pe-cell\x20','delete','9IwSwvs','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','btnDayToggle','v9.0-BATCH-CALENDAR','inpDate','classList','disableVerticalSwipes','charAt','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','pattern','long','rgba(255,\x2069,\x2058,\x200.3)','var(--acc-green)','inpNote','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','inpRecurring','getElementById','getFullYear','getTime'];a2_0x44bc=function(){return _0x57a3db;};return a2_0x44bc();}let currentAnPeriod=a2_0x1b723d(0x34f);function openAnalytics(){const _0x4719ab=a2_0x1b723d,_0xa65ecd=document[_0x4719ab(0x2c7)]('.period-switch\x20.p-btn');setAnalyticsPeriod('week',_0xa65ecd),closeAllSheets(),openSheet(_0x4719ab(0x332));}function setAnalyticsPeriod(_0x58684d,_0x2d94fa){const _0x40d3fe=a2_0x1b723d;currentAnPeriod=_0x58684d,document[_0x40d3fe(0x2d2)](_0x40d3fe(0x290))['forEach'](_0x4cbada=>_0x4cbada[_0x40d3fe(0x1f5)][_0x40d3fe(0x321)](_0x40d3fe(0x33f)));if(_0x2d94fa)_0x2d94fa[_0x40d3fe(0x1f5)][_0x40d3fe(0x2a8)](_0x40d3fe(0x33f));const _0x330d68=document['getElementById'](_0x40d3fe(0x1ed));_0x330d68[_0x40d3fe(0x28c)][_0x40d3fe(0x25c)]=_0x58684d===_0x40d3fe(0x2a2)?'flex':_0x40d3fe(0x258);const _0x518bbb=new Date();let _0x5644a5=new Date(),_0x29a117=new Date();if(_0x58684d===_0x40d3fe(0x34f))_0x5644a5=getStartOfWeek(_0x518bbb),_0x29a117=new Date(_0x5644a5),_0x29a117['setDate'](_0x29a117[_0x40d3fe(0x338)]()+0x6);else{if(_0x58684d==='month')_0x5644a5=new Date(_0x518bbb[_0x40d3fe(0x201)](),_0x518bbb['getMonth'](),0x1),_0x29a117=new Date(_0x518bbb[_0x40d3fe(0x201)](),_0x518bbb[_0x40d3fe(0x2be)]()+0x1,0x0);else{!document[_0x40d3fe(0x200)](_0x40d3fe(0x254))['value']&&(document[_0x40d3fe(0x200)](_0x40d3fe(0x254))[_0x40d3fe(0x213)]=getLocalDateStr(_0x518bbb),document['getElementById'](_0x40d3fe(0x259))[_0x40d3fe(0x213)]=getLocalDateStr(_0x518bbb));refreshAnalytics();return;}}document['getElementById']('anStart')[_0x40d3fe(0x213)]=getLocalDateStr(_0x5644a5),document['getElementById'](_0x40d3fe(0x259))['value']=getLocalDateStr(_0x29a117),refreshAnalytics();}function refreshAnalytics(){const _0x2dfbf8=a2_0x1b723d,_0x72cc87=document[_0x2dfbf8(0x200)](_0x2dfbf8(0x254))[_0x2dfbf8(0x213)],_0x28acaa=document[_0x2dfbf8(0x200)](_0x2dfbf8(0x259))[_0x2dfbf8(0x213)];if(!_0x72cc87||!_0x28acaa)return;const _0x3a3ad0=sessions[_0x2dfbf8(0x218)](_0x291b5a=>_0x291b5a['dateStr']>=_0x72cc87&&_0x291b5a['dateStr']<=_0x28acaa&&_0x291b5a[_0x2dfbf8(0x29f)]!=='cancelled'),_0x1c6e0f=_0x3a3ad0[_0x2dfbf8(0x349)],_0x500a1b=_0x3a3ad0[_0x2dfbf8(0x218)](_0x49fe79=>_0x49fe79[_0x2dfbf8(0x29f)]==='completed')[_0x2dfbf8(0x349)],_0x1e541e=_0x1c6e0f>0x0?Math[_0x2dfbf8(0x30d)](_0x500a1b/_0x1c6e0f*0x64):0x0;document[_0x2dfbf8(0x200)](_0x2dfbf8(0x2ed))[_0x2dfbf8(0x2b1)]=_0x1e541e+'%',document[_0x2dfbf8(0x200)](_0x2dfbf8(0x26d))['textContent']=_0x500a1b+_0x2dfbf8(0x348)+_0x1c6e0f+_0x2dfbf8(0x306);const _0x451314=document[_0x2dfbf8(0x200)](_0x2dfbf8(0x244)),_0x384b48=0x2*Math['PI']*0x23,_0x303933=_0x384b48-_0x1e541e/0x64*_0x384b48;_0x451314['style'][_0x2dfbf8(0x271)]=_0x303933;const _0x10a5dc={};_0x3a3ad0[_0x2dfbf8(0x2ee)](_0x39058c=>{const _0x4ab291=_0x2dfbf8;if(!_0x10a5dc[_0x39058c[_0x4ab291(0x21e)]]){const _0x4309b3=clients[_0x4ab291(0x2cb)](_0x410d65=>_0x410d65['name']===_0x39058c[_0x4ab291(0x21e)]);_0x10a5dc[_0x39058c[_0x4ab291(0x21e)]]={'total':0x0,'done':0x0,'color':_0x4309b3?_0x4309b3[_0x4ab291(0x239)]:_0x4ab291(0x211)};}_0x10a5dc[_0x39058c['client']]['total']++;if(_0x39058c[_0x4ab291(0x29f)]==='completed')_0x10a5dc[_0x39058c[_0x4ab291(0x21e)]][_0x4ab291(0x251)]++;});const _0x5efb0d=document[_0x2dfbf8(0x200)](_0x2dfbf8(0x31f));_0x5efb0d[_0x2dfbf8(0x2ea)]='';const _0x11f67e=Object[_0x2dfbf8(0x245)](_0x10a5dc)[_0x2dfbf8(0x357)]((_0x492360,_0x19bdab)=>_0x19bdab[0x1][_0x2dfbf8(0x207)]-_0x492360[0x1][_0x2dfbf8(0x207)]);if(_0x11f67e[_0x2dfbf8(0x349)]===0x0){_0x5efb0d[_0x2dfbf8(0x2ea)]='<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>';return;}_0x11f67e['forEach'](([_0x245ae0,_0x2fdcb1])=>{const _0x575d93=_0x2dfbf8,_0x1fdbe5=Math['round'](_0x2fdcb1[_0x575d93(0x251)]/_0x2fdcb1[_0x575d93(0x207)]*0x64),_0x51c1ad=document['createElement']('div');_0x51c1ad['className']=_0x575d93(0x298),_0x51c1ad[_0x575d93(0x28c)][_0x575d93(0x2dd)]=_0x2fdcb1['color'],_0x51c1ad[_0x575d93(0x2ea)]=_0x575d93(0x291)+_0x245ae0+_0x575d93(0x1ea)+_0x2fdcb1[_0x575d93(0x251)]+'</span>\x20/\x20'+_0x2fdcb1[_0x575d93(0x207)]+_0x575d93(0x2ba)+_0x1fdbe5+_0x575d93(0x310),_0x5efb0d[_0x575d93(0x2b5)](_0x51c1ad);});}function formatMinsToHrs(_0x14dd55){const _0xdd4002=a2_0x1b723d;if(_0x14dd55===0x0)return'0';const _0x58f34b=Math[_0xdd4002(0x23c)](_0x14dd55/0x3c),_0x3e08ed=_0x14dd55%0x3c;if(_0x3e08ed===0x0)return _0x58f34b+'—á';return _0x58f34b+'—á\x20'+_0x3e08ed+'–º';}