const a2_0x22935b=a2_0x2f48;(function(_0x5da435,_0x586c52){const _0x22703d=a2_0x2f48,_0x1e5d42=_0x5da435();while(!![]){try{const _0x53835f=-parseInt(_0x22703d(0x1dc))/0x1+-parseInt(_0x22703d(0x27f))/0x2*(-parseInt(_0x22703d(0x31c))/0x3)+-parseInt(_0x22703d(0x312))/0x4*(-parseInt(_0x22703d(0x275))/0x5)+parseInt(_0x22703d(0x281))/0x6*(-parseInt(_0x22703d(0x330))/0x7)+-parseInt(_0x22703d(0x24a))/0x8+parseInt(_0x22703d(0x22f))/0x9*(-parseInt(_0x22703d(0x290))/0xa)+parseInt(_0x22703d(0x2c4))/0xb*(parseInt(_0x22703d(0x261))/0xc);if(_0x53835f===_0x586c52)break;else _0x1e5d42['push'](_0x1e5d42['shift']());}catch(_0x5b72e5){_0x1e5d42['push'](_0x1e5d42['shift']());}}}(a2_0x4dc9,0x7f2e2),function initTMA(){const _0x639d1d=a2_0x2f48;try{const _0x231de7=window[_0x639d1d(0x244)]?.[_0x639d1d(0x2fa)];if(!_0x231de7)return;_0x231de7[_0x639d1d(0x331)](),_0x231de7[_0x639d1d(0x1ed)]();try{_0x231de7['setHeaderColor'](_0x639d1d(0x227)),_0x231de7[_0x639d1d(0x2a9)]&&_0x231de7[_0x639d1d(0x2a9)](_0x639d1d(0x227));}catch(_0x28136b){console[_0x639d1d(0x250)](_0x639d1d(0x24f),_0x28136b);}try{_0x231de7[_0x639d1d(0x2c2)]&&(_0x231de7[_0x639d1d(0x2c2)][_0x639d1d(0x23c)](),_0x231de7[_0x639d1d(0x2c2)][_0x639d1d(0x2ee)](),_0x231de7[_0x639d1d(0x2c2)][_0x639d1d(0x31d)](function(){const _0x37da53=_0x639d1d;window[_0x37da53(0x2e3)][_0x37da53(0x2e1)]='router.html';}));}catch(_0x2d2ea5){console[_0x639d1d(0x250)](_0x639d1d(0x1de),_0x2d2ea5);}try{if(_0x231de7[_0x639d1d(0x215)])_0x231de7[_0x639d1d(0x215)]();}catch(_0x56ab09){}}catch(_0x4428e1){console[_0x639d1d(0x332)]('Critical\x20TMA\x20Error:',_0x4428e1);}}());function isAdmin(){const _0x13c370=a2_0x2f48;try{const _0x122da2=Number(window[_0x13c370(0x244)]?.[_0x13c370(0x2fa)]?.[_0x13c370(0x217)]?.[_0x13c370(0x1f1)]?.['id']);return _0x122da2===0xbaf7174;}catch(_0xeb9349){return![];}}const APP_VERSION='v9.0-BATCH-CALENDAR',API_URL=a2_0x22935b(0x314),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x22935b(0x292),KEY_SESSIONS=a2_0x22935b(0x2b0),KEY_SETTINGS='uc_settings_v9';let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x355b5a=a2_0x22935b;return window[_0x355b5a(0x244)]?.[_0x355b5a(0x2fa)]?.[_0x355b5a(0x217)]?.[_0x355b5a(0x1f1)]?.['id']||_0x355b5a(0x287);},'saveLocally'(){const _0x421a3b=a2_0x22935b;try{localStorage['setItem'](KEY_CLIENTS,JSON[_0x421a3b(0x346)](clients)),localStorage[_0x421a3b(0x24b)](KEY_SESSIONS,JSON[_0x421a3b(0x346)](sessions)),localStorage[_0x421a3b(0x24b)](KEY_SETTINGS,JSON[_0x421a3b(0x346)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x36238b){console[_0x421a3b(0x332)](_0x421a3b(0x2a5),_0x36238b);}},'loadLocal'(){const _0x5c48ec=a2_0x22935b;try{const _0x17cd06=localStorage[_0x5c48ec(0x1e1)](KEY_CLIENTS);if(_0x17cd06)clients=JSON[_0x5c48ec(0x24c)](_0x17cd06);const _0x57acda=localStorage[_0x5c48ec(0x1e1)](KEY_SESSIONS);if(_0x57acda)sessions=JSON['parse'](_0x57acda);const _0xba3ac2=localStorage[_0x5c48ec(0x1e1)](KEY_SETTINGS);if(_0xba3ac2){const _0xcc1155=JSON[_0x5c48ec(0x24c)](_0xba3ac2);if(_0xcc1155[_0x5c48ec(0x239)])availabilityPattern=_0xcc1155[_0x5c48ec(0x239)];if(_0xcc1155[_0x5c48ec(0x1e7)])dateExceptions=_0xcc1155[_0x5c48ec(0x1e7)];if(_0xcc1155[_0x5c48ec(0x224)])specialRanges=_0xcc1155[_0x5c48ec(0x224)];}else{for(let _0x5662d8=0x0;_0x5662d8<0x7;_0x5662d8++)availabilityPattern[_0x5662d8]=Array[_0x5c48ec(0x278)]({'length':0xc},(_0x28b48d,_0x276495)=>_0x276495+0x9);}}catch(_0x5b415b){console['error']('Local\x20Load\x20Error',_0x5b415b);}},async 'fetchFromServer'(_0x52ed1a,_0x1ea9e1={}){const _0x1e2fa9=a2_0x22935b,_0x50d21f=window[_0x1e2fa9(0x244)]?.[_0x1e2fa9(0x2fa)],_0x193fbc={'action':_0x52ed1a,'init_data':_0x50d21f?.[_0x1e2fa9(0x258)]||'',..._0x1ea9e1};try{const _0x16f941=await fetch(API_URL,{'method':'POST','headers':{'Content-Type':_0x1e2fa9(0x286)},'body':JSON[_0x1e2fa9(0x346)](_0x193fbc)}),_0x29b2d4=await _0x16f941[_0x1e2fa9(0x34e)]();if(!_0x29b2d4['ok'])throw new Error(_0x29b2d4['error']||_0x1e2fa9(0x30a));return _0x29b2d4[_0x1e2fa9(0x30d)];}catch(_0x56530f){console[_0x1e2fa9(0x332)](_0x1e2fa9(0x25e)+_0x52ed1a+']\x20Failed:',_0x56530f);throw _0x56530f;}},async 'syncLoad'(){const _0x501f7b=a2_0x22935b,_0x3f7900=new Date(),_0x6b5b42=_0x3f7900[_0x501f7b(0x2e8)]()+'-'+String(_0x3f7900[_0x501f7b(0x211)]()+0x1)[_0x501f7b(0x2bc)](0x2,'0'),_0x353c52=new Date(_0x3f7900);_0x353c52[_0x501f7b(0x282)](_0x3f7900[_0x501f7b(0x211)]()+0x1);const _0x472391=_0x353c52[_0x501f7b(0x2e8)]()+'-'+String(_0x353c52[_0x501f7b(0x211)]()+0x1)[_0x501f7b(0x2bc)](0x2,'0'),_0x42e5b5=Date[_0x501f7b(0x20d)]();console[_0x501f7b(0x250)](_0x501f7b(0x230)+_0x6b5b42+',\x20'+_0x472391+_0x501f7b(0x32c));try{const [_0x5d8339,_0x9da893]=await Promise[_0x501f7b(0x1f7)]([this['fetchFromServer'](_0x501f7b(0x28c),{'month_str':_0x6b5b42}),this['fetchFromServer'](_0x501f7b(0x28c),{'month_str':_0x472391})]);if(lastUserActionTime>_0x42e5b5)return console[_0x501f7b(0x233)](_0x501f7b(0x2f6)),![];return this[_0x501f7b(0x1dd)](_0x5d8339,_0x6b5b42),this[_0x501f7b(0x1dd)](_0x9da893,_0x472391),this[_0x501f7b(0x1f3)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x23932a){console[_0x501f7b(0x332)](_0x23932a);throw _0x23932a;}},'mergeServerData'(_0x298c49,_0x200678){const _0x5f2362=a2_0x22935b;if(!_0x298c49)return;_0x298c49['clients']&&Array[_0x5f2362(0x303)](_0x298c49['clients'])&&(clients=_0x298c49[_0x5f2362(0x22d)]);if(_0x298c49[_0x5f2362(0x1e3)]){if(_0x298c49[_0x5f2362(0x1e3)]['pattern'])availabilityPattern=_0x298c49['settings']['pattern'];if(_0x298c49[_0x5f2362(0x1e3)][_0x5f2362(0x1e7)])dateExceptions=_0x298c49[_0x5f2362(0x1e3)]['exceptions'];if(_0x298c49[_0x5f2362(0x1e3)][_0x5f2362(0x224)])specialRanges=_0x298c49[_0x5f2362(0x1e3)]['ranges'];if(_0x298c49[_0x5f2362(0x1e3)][_0x5f2362(0x2ac)]){localStorage[_0x5f2362(0x24b)](_0x5f2362(0x26c),_0x298c49['settings'][_0x5f2362(0x2ac)]);const _0x30f58d=document[_0x5f2362(0x2da)](_0x5f2362(0x317));if(_0x30f58d)_0x30f58d[_0x5f2362(0x267)]=_0x298c49[_0x5f2362(0x1e3)][_0x5f2362(0x2ac)];}}_0x298c49[_0x5f2362(0x333)]&&(sessions=sessions['filter'](_0x4757fa=>!_0x4757fa[_0x5f2362(0x2f1)][_0x5f2362(0x2ce)](_0x200678)),Object['keys'](_0x298c49[_0x5f2362(0x333)])[_0x5f2362(0x304)](_0x14c209=>{const _0x3fefaa=_0x5f2362,_0x574ae2=_0x298c49[_0x3fefaa(0x333)][_0x14c209];_0x574ae2[_0x3fefaa(0x304)](_0x2bfada=>{const _0x2465f9=_0x3fefaa,_0x174bf1=clients[_0x2465f9(0x2f8)](_0x450ff2=>String(_0x450ff2['id'])===String(_0x2bfada['c']));sessions[_0x2465f9(0x301)]({'id':_0x2bfada['i'],'clientId':_0x2bfada['c'],'client':_0x174bf1?_0x174bf1['name']:_0x2465f9(0x2a6),'dateStr':_0x200678+'-'+_0x14c209[_0x2465f9(0x2bc)](0x2,'0'),'start':_0x2bfada['s'],'end':_0x2bfada['e'],'status':_0x2bfada['st']||_0x2465f9(0x2d1),'note':_0x2bfada['n']||'','seriesId':_0x2bfada['sid']||null});});}));},async 'syncBatch'(_0x32ea4a){const _0x4e12ca=a2_0x22935b,_0x481163=[...new Set(_0x32ea4a)],_0x3e0c5c=_0x481163[_0x4e12ca(0x297)](_0x4081d2=>{const _0x3e4466=_0x4e12ca,_0x4ed3bb=sessions[_0x3e4466(0x259)](_0x1014d7=>_0x1014d7[_0x3e4466(0x2f1)]===_0x4081d2&&_0x1014d7[_0x3e4466(0x357)]!==_0x3e4466(0x2d9)),_0x1e102d=_0x4ed3bb[_0x3e4466(0x297)](_0x5cf31d=>({'i':_0x5cf31d['id'],'c':_0x5cf31d[_0x3e4466(0x31b)],'s':_0x5cf31d[_0x3e4466(0x293)],'e':_0x5cf31d[_0x3e4466(0x1f5)],'st':_0x5cf31d['status'],'n':_0x5cf31d[_0x3e4466(0x285)],'sid':_0x5cf31d['seriesId']}));return{'date':_0x4081d2,'day_data':_0x1e102d};});if(_0x3e0c5c[_0x4e12ca(0x298)]===0x0)return;console['log'](_0x4e12ca(0x30b)+_0x3e0c5c['length']+_0x4e12ca(0x1ee)),await this[_0x4e12ca(0x2f9)]('batch_sync',{'changes':_0x3e0c5c});}};async function init(){const _0x2362df=a2_0x22935b;DataManager[_0x2362df(0x24d)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x2362df(0x2da)](_0x2362df(0x26f))[_0x2362df(0x2e6)](_0x2362df(0x2e7),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']()[_0x2362df(0x202)](()=>{const _0x912025=_0x2362df;showToast(_0x912025(0x2cc),!![]);})[_0x2362df(0x21c)](_0x19ff16=>{const _0x5478b0=_0x2362df;showToast(_0x5478b0(0x2b4),![]);});}function generateId(){const _0x375fe9=a2_0x22935b;return Date[_0x375fe9(0x20d)]()[_0x375fe9(0x28f)](0x24)+Math[_0x375fe9(0x2f7)]()['toString'](0x24)['substr'](0x2,0x5);}function toggleSeriesInput(){const _0x2b88ea=a2_0x22935b,_0x293345=document[_0x2b88ea(0x2da)](_0x2b88ea(0x2d6))[_0x2b88ea(0x2be)],_0x193fcf=document[_0x2b88ea(0x2da)](_0x2b88ea(0x310));_0x193fcf[_0x2b88ea(0x25f)]['display']=_0x293345?_0x2b88ea(0x26a):_0x2b88ea(0x223);const _0x557569=document[_0x2b88ea(0x2da)]('recurringOptionContainer');_0x557569[_0x2b88ea(0x25f)][_0x2b88ea(0x209)]=_0x293345?'10px\x2010px\x200\x200':_0x2b88ea(0x246);}function openAddSession(_0x42516c){const _0x46de34=a2_0x22935b;editingId=null,populateClientSelect(),document['getElementById'](_0x46de34(0x320))['textContent']='–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å',document[_0x46de34(0x2da)](_0x46de34(0x1f0))['style'][_0x46de34(0x2fd)]='none',document[_0x46de34(0x2da)](_0x46de34(0x308))[_0x46de34(0x25f)][_0x46de34(0x2fd)]='none';const _0x9d0507=document[_0x46de34(0x2da)](_0x46de34(0x354)),_0x4ffbbc=document['getElementById'](_0x46de34(0x310));_0x9d0507[_0x46de34(0x25f)][_0x46de34(0x2fd)]=_0x46de34(0x2ea),_0x9d0507['style'][_0x46de34(0x209)]='10px',document[_0x46de34(0x2da)](_0x46de34(0x2d6))[_0x46de34(0x2be)]=![],document[_0x46de34(0x2da)]('inpSeriesCount')[_0x46de34(0x267)]=0x4,_0x4ffbbc[_0x46de34(0x25f)][_0x46de34(0x2fd)]=_0x46de34(0x223),document[_0x46de34(0x2da)](_0x46de34(0x245))[_0x46de34(0x267)]=getLocalDateStr(_0x42516c),updateDateDisplay();const _0x1a55a2=_0x42516c[_0x46de34(0x33c)]();document[_0x46de34(0x2da)](_0x46de34(0x315))[_0x46de34(0x267)]=String(_0x1a55a2)[_0x46de34(0x2bc)](0x2,'0')+_0x46de34(0x2a0),document['getElementById'](_0x46de34(0x260))[_0x46de34(0x267)]=String(_0x1a55a2+0x1)[_0x46de34(0x2bc)](0x2,'0')+':00',openSheet(_0x46de34(0x240));}function openEdit(_0x45cdd9){const _0x1dd634=a2_0x22935b;editingId=_0x45cdd9['id'],populateClientSelect(),document['getElementById'](_0x1dd634(0x320))[_0x1dd634(0x306)]=_0x1dd634(0x355),document[_0x1dd634(0x2da)](_0x1dd634(0x1f0))[_0x1dd634(0x25f)]['display']=_0x1dd634(0x26a);const _0x322b54=document[_0x1dd634(0x2da)]('btnStatusToggle');_0x322b54['style']['display']='flex';_0x45cdd9[_0x1dd634(0x357)]==='completed'?(_0x322b54['className']=_0x1dd634(0x2bf),_0x322b54[_0x1dd634(0x2b3)]=_0x1dd634(0x2c5)):(_0x322b54['className']='btn-status-toggle',_0x322b54[_0x1dd634(0x2b3)]=_0x1dd634(0x300));const _0x33275b=!!_0x45cdd9['seriesId'];document[_0x1dd634(0x2da)](_0x1dd634(0x354))[_0x1dd634(0x25f)]['display']=_0x1dd634(0x223),document['getElementById'](_0x1dd634(0x310))[_0x1dd634(0x25f)]['display']='none',_0x33275b?(document['getElementById'](_0x1dd634(0x22e))['style']['display']=_0x1dd634(0x2ea),document['getElementById']('patternInfoBox')[_0x1dd634(0x232)](_0x1dd634(0x28e))['textContent']='–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫'):document[_0x1dd634(0x2da)](_0x1dd634(0x22e))[_0x1dd634(0x25f)][_0x1dd634(0x2fd)]=_0x1dd634(0x223),document['getElementById']('inpClient')[_0x1dd634(0x267)]=_0x45cdd9[_0x1dd634(0x316)],document['getElementById'](_0x1dd634(0x245))[_0x1dd634(0x267)]=_0x45cdd9['dateStr'],document[_0x1dd634(0x2da)](_0x1dd634(0x315))[_0x1dd634(0x267)]=_0x45cdd9[_0x1dd634(0x293)],document[_0x1dd634(0x2da)](_0x1dd634(0x260))[_0x1dd634(0x267)]=_0x45cdd9[_0x1dd634(0x1f5)],document[_0x1dd634(0x2da)]('inpNote')[_0x1dd634(0x267)]=_0x45cdd9[_0x1dd634(0x285)]||'',updateDateDisplay(),openSheet(_0x1dd634(0x240));}async function trySaveSession(){const _0x2bc6b9=a2_0x22935b,_0x16da59=document[_0x2bc6b9(0x2da)](_0x2bc6b9(0x221))[_0x2bc6b9(0x267)],_0x2bf373=document['getElementById']('inpDate')[_0x2bc6b9(0x267)],_0x312409=document[_0x2bc6b9(0x2da)]('inpStart')['value'],_0x346378=document[_0x2bc6b9(0x2da)]('inpEnd')[_0x2bc6b9(0x267)],_0x5d5153=document[_0x2bc6b9(0x2da)](_0x2bc6b9(0x323))[_0x2bc6b9(0x267)],_0x9eb940=document[_0x2bc6b9(0x2da)](_0x2bc6b9(0x2d6))[_0x2bc6b9(0x2be)];let _0x52226a=0x4;if(_0x9eb940){const _0x24a5cd=parseInt(document[_0x2bc6b9(0x2da)](_0x2bc6b9(0x2de))[_0x2bc6b9(0x267)]);if(!_0x24a5cd||_0x24a5cd<0x2){showToast(_0x2bc6b9(0x33f),![]);return;}if(_0x24a5cd>0x64){showToast(_0x2bc6b9(0x2a7),![]);return;}_0x52226a=_0x24a5cd;}const _0x38d4e6=clients[_0x2bc6b9(0x2f8)](_0x5f0f8a=>_0x5f0f8a[_0x2bc6b9(0x343)]===_0x16da59);if(!_0x38d4e6){showToast(_0x2bc6b9(0x208),![]);return;}const _0x51677d=validateAppointment(_0x2bf373,_0x312409,_0x346378,editingId,_0x38d4e6['id']);if(!_0x51677d['valid']){showToast(_0x51677d['msg'],![]);return;}_0x51677d[_0x2bc6b9(0x34c)]&&showToast(_0x51677d[_0x2bc6b9(0x34c)],![]);const _0x5b4984={'client':_0x16da59,'clientId':_0x38d4e6['id'],'start':_0x312409,'end':_0x346378,'note':_0x5d5153,'status':_0x2bc6b9(0x2d1)},_0x5f03fa=editingId?sessions['find'](_0x3b0c28=>_0x3b0c28['id']===editingId):null;if(_0x5f03fa&&_0x5f03fa[_0x2bc6b9(0x23f)]){tempSessionData={..._0x5b4984,'dateStr':_0x2bf373,'id':editingId,'seriesId':_0x5f03fa[_0x2bc6b9(0x23f)]},openActionSheet('save');return;}let _0x55baa2=null;if(!editingId)_0x55baa2=_0x2bc6b9(0x2eb);else{if(_0x5f03fa){if(String(_0x5f03fa[_0x2bc6b9(0x31b)])!==String(_0x38d4e6['id']))console[_0x2bc6b9(0x250)](_0x2bc6b9(0x270)),NotificationManager[_0x2bc6b9(0x216)]('cancel',_0x5f03fa),_0x55baa2=_0x2bc6b9(0x2eb);else(_0x5f03fa[_0x2bc6b9(0x293)]!==_0x312409||_0x5f03fa['end']!==_0x346378||_0x5f03fa[_0x2bc6b9(0x2f1)]!==_0x2bf373)&&(_0x55baa2='update');}}if(!editingId&&_0x9eb940){createBatchSeries(_0x5b4984,_0x2bf373,_0x52226a),NotificationManager[_0x2bc6b9(0x216)](_0x2bc6b9(0x2eb),{..._0x5b4984,'dateStr':_0x2bf373});return;}lastUserActionTime=Date[_0x2bc6b9(0x20d)]();const _0x12e577={..._0x5b4984,'dateStr':_0x2bf373,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x12e577),_0x55baa2&&NotificationManager[_0x2bc6b9(0x216)](_0x55baa2,_0x12e577);}function toggleSessionStatus(){const _0x2e4f8c=a2_0x22935b;lastUserActionTime=Date[_0x2e4f8c(0x20d)]();const _0x245b28=sessions['find'](_0x3b80f6=>_0x3b80f6['id']===editingId);if(!_0x245b28)return;const _0x545a77=_0x245b28['status']==='completed'?'planned':_0x2e4f8c(0x289);_0x245b28[_0x2e4f8c(0x357)]=_0x545a77,saveSingleSession(_0x245b28),_0x545a77===_0x2e4f8c(0x289)&&NotificationManager[_0x2e4f8c(0x216)](_0x2e4f8c(0x1f6),_0x245b28),showToast(_0x545a77===_0x2e4f8c(0x289)?_0x2e4f8c(0x321):_0x2e4f8c(0x2c1),!![]);}function validateAppointment(_0x59578d,_0x2a82b0,_0x75fb7d,_0x4de927,_0x56d6d7){const _0x160e0a=a2_0x22935b,[_0x4079fe,_0x104b06]=_0x2a82b0[_0x160e0a(0x334)](':')['map'](Number),[_0x511bd6,_0x5b8e70]=_0x75fb7d['split'](':')[_0x160e0a(0x297)](Number),_0x4f7991=_0x4079fe*0x3c+_0x104b06,_0x327909=_0x511bd6*0x3c+_0x5b8e70,_0x4fdc13=String(_0x56d6d7);let _0x13da44=![],_0x11a795='';for(let _0x32a55c of sessions){if(_0x32a55c['dateStr']!==_0x59578d)continue;if(_0x32a55c[_0x160e0a(0x357)]===_0x160e0a(0x309))continue;if(_0x4de927&&String(_0x32a55c['id'])===String(_0x4de927))continue;const [_0x361a4e,_0x1301bb]=_0x32a55c[_0x160e0a(0x293)][_0x160e0a(0x334)](':')['map'](Number),[_0x3dfa34,_0x52feb5]=_0x32a55c[_0x160e0a(0x1f5)][_0x160e0a(0x334)](':')[_0x160e0a(0x297)](Number),_0x1b69bd=_0x361a4e*0x3c+_0x1301bb,_0x1f8735=_0x3dfa34*0x3c+_0x52feb5;if(Math[_0x160e0a(0x22a)](_0x4f7991,_0x1b69bd)<Math['min'](_0x327909,_0x1f8735)){if(_0x32a55c[_0x160e0a(0x31b)]&&String(_0x32a55c[_0x160e0a(0x31b)])===_0x4fdc13)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0x32a55c[_0x160e0a(0x316)]+_0x160e0a(0x210)};_0x13da44=!![],_0x11a795=_0x32a55c[_0x160e0a(0x316)];}}if(_0x13da44)return{'valid':!![],'warning':_0x160e0a(0x2e5)+_0x11a795};return{'valid':!![]};}function saveSingleSession(_0x2d42c1){const _0x5c4e2c=a2_0x22935b;if(editingId){const _0x2df43e=sessions[_0x5c4e2c(0x200)](_0x1700ad=>_0x1700ad['id']===editingId);if(_0x2df43e!==-0x1)sessions[_0x2df43e]=_0x2d42c1;}else sessions[_0x5c4e2c(0x301)](_0x2d42c1);afterSaveAction([_0x2d42c1[_0x5c4e2c(0x2f1)]]);}function createBatchSeries(_0x1ecd8c,_0x2bf78c,_0x4eb94c){const _0x2897e0=a2_0x22935b,_0x50db47=generateId(),_0x4cae90=[],_0x1a65a2=[];let _0x552813=0x0,_0x48d6d7=new Date(_0x2bf78c);for(let _0x25a300=0x0;_0x25a300<_0x4eb94c;_0x25a300++){const _0xf998a8=getLocalDateStr(_0x48d6d7),_0x1a7484=validateAppointment(_0xf998a8,_0x1ecd8c[_0x2897e0(0x293)],_0x1ecd8c[_0x2897e0(0x1f5)],null,_0x1ecd8c[_0x2897e0(0x31b)]);if(!_0x1a7484['valid'])console[_0x2897e0(0x250)]('[Series]\x20Skipped\x20'+_0xf998a8+':\x20Client\x20already\x20booked'),_0x552813++;else{const _0x14e4b8={..._0x1ecd8c,'id':generateId(),'dateStr':_0xf998a8,'seriesId':_0x50db47};_0x1a65a2[_0x2897e0(0x301)](_0x14e4b8),_0x4cae90['push'](_0xf998a8);}_0x48d6d7[_0x2897e0(0x263)](_0x48d6d7[_0x2897e0(0x2ae)]()+0x7);}if(_0x1a65a2['length']===0x0){showToast('–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!',![]);return;}sessions[_0x2897e0(0x301)](..._0x1a65a2),lastUserActionTime=Date[_0x2897e0(0x20d)]();let _0x1fbf28=_0x2897e0(0x2b9)+_0x1a65a2[_0x2897e0(0x298)];_0x552813>0x0&&(_0x1fbf28+='\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20'+_0x552813+')'),showToast(_0x1fbf28,!![]),afterSaveAction(_0x4cae90);}function updateSeriesBatch(_0x4e77f3,_0x590bd4){const _0x2ad9c1=a2_0x22935b,_0x32506a=[],_0x10e8ee=_0x590bd4[_0x2ad9c1(0x23f)];if(_0x4e77f3===_0x2ad9c1(0x33e)){const _0x2b2584={..._0x590bd4,'seriesId':null},_0x1eae74=sessions['findIndex'](_0x180f90=>_0x180f90['id']===_0x590bd4['id']);if(_0x1eae74!==-0x1)sessions[_0x1eae74]=_0x2b2584;_0x32506a[_0x2ad9c1(0x301)](_0x2b2584[_0x2ad9c1(0x2f1)]);}else{if(_0x4e77f3===_0x2ad9c1(0x205)){const _0x125c58=_0x590bd4['dateStr'];sessions[_0x2ad9c1(0x304)]((_0xcaf23d,_0x116a3e)=>{const _0x59db78=_0x2ad9c1;_0xcaf23d[_0x59db78(0x23f)]===_0x10e8ee&&_0xcaf23d['dateStr']>=_0x125c58&&(sessions[_0x116a3e]={...sessions[_0x116a3e],'start':_0x590bd4[_0x59db78(0x293)],'end':_0x590bd4[_0x59db78(0x1f5)],'note':_0x590bd4[_0x59db78(0x285)],'client':_0x590bd4['client'],'clientId':_0x590bd4[_0x59db78(0x31b)]},_0x32506a[_0x59db78(0x301)](_0xcaf23d[_0x59db78(0x2f1)]));});}}afterSaveAction(_0x32506a);}function tryDeleteSession(){const _0x27e298=a2_0x22935b,_0x57ce9d=sessions[_0x27e298(0x2f8)](_0x1ee3ec=>_0x1ee3ec['id']===editingId);if(!_0x57ce9d)return;_0x57ce9d['seriesId']?openActionSheet(_0x27e298(0x238)):commitDelete(_0x27e298(0x33e),_0x57ce9d);}function commitDelete(_0x40712a,_0x3b4a7a){const _0x6ec0d0=a2_0x22935b;lastUserActionTime=Date[_0x6ec0d0(0x20d)](),NotificationManager[_0x6ec0d0(0x216)](_0x6ec0d0(0x2dd),_0x3b4a7a);const _0x14dfee=[];if(_0x40712a==='single')sessions=sessions[_0x6ec0d0(0x259)](_0x504081=>_0x504081['id']!==_0x3b4a7a['id']),_0x14dfee[_0x6ec0d0(0x301)](_0x3b4a7a[_0x6ec0d0(0x2f1)]);else{if(_0x40712a==='series'){const _0x219dac=_0x3b4a7a[_0x6ec0d0(0x2f1)],_0x301286=_0x3b4a7a[_0x6ec0d0(0x23f)];sessions[_0x6ec0d0(0x304)](_0x1d5051=>{const _0x14dad2=_0x6ec0d0;_0x1d5051[_0x14dad2(0x23f)]===_0x301286&&_0x1d5051['dateStr']>=_0x219dac&&_0x14dfee[_0x14dad2(0x301)](_0x1d5051[_0x14dad2(0x2f1)]);}),sessions=sessions['filter'](_0x54c299=>!(_0x54c299[_0x6ec0d0(0x23f)]===_0x301286&&_0x54c299[_0x6ec0d0(0x2f1)]>=_0x219dac));}}afterSaveAction(_0x14dfee);}function afterSaveAction(_0x175bbe){const _0x12b5f7=a2_0x22935b;DataManager['saveLocally'](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager['syncBatch'](_0x175bbe)['then'](()=>console[_0x12b5f7(0x250)]('Batch\x20Sync\x20OK'))[_0x12b5f7(0x21c)](_0x55b72f=>showToast(_0x12b5f7(0x253),![]));}const NotificationManager={'formatDate'(_0xbe23a2){const _0x183c1f=a2_0x22935b,_0x17783c=new Date(_0xbe23a2),_0x365a8a={'weekday':_0x183c1f(0x24e),'day':_0x183c1f(0x256),'month':_0x183c1f(0x24e)};let _0xf47c66=_0x17783c[_0x183c1f(0x313)](_0x183c1f(0x248),_0x365a8a);return _0xf47c66['charAt'](0x0)[_0x183c1f(0x219)]()+_0xf47c66[_0x183c1f(0x266)](0x1);},'getText'(_0x452453,_0x1c1325){const _0x193297=a2_0x22935b,_0x17c6e1=this['formatDate'](_0x1c1325[_0x193297(0x2f1)]);switch(_0x452453){case'create':return _0x193297(0x2ad)+(_0x193297(0x32d)+_0x17c6e1+'\x0a')+(_0x193297(0x2ff)+_0x1c1325['start']+_0x193297(0x342)+_0x1c1325['end']+'\x0a\x0a')+'–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™';case _0x193297(0x2bd):return _0x193297(0x21e)+_0x193297(0x207)+('<b>‚úÖ\x20'+_0x1c1325[_0x193297(0x293)]+_0x193297(0x342)+_0x1c1325[_0x193297(0x1f5)]+_0x193297(0x2b2))+(_0x193297(0x32d)+_0x17c6e1);case _0x193297(0x2dd):return _0x193297(0x242)+(_0x193297(0x27a)+_0x17c6e1+'\x20('+_0x1c1325[_0x193297(0x293)]+')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.');case _0x193297(0x1f6):return _0x193297(0x273)+_0x193297(0x1e5)+_0x193297(0x2ca);default:return'';}},async 'send'(_0x1b705d,_0x9c29a0){const _0x356776=a2_0x22935b;console['log'](_0x356776(0x213),_0x1b705d,_0x9c29a0);if(!_0x9c29a0){console[_0x356776(0x332)](_0x356776(0x1f9));return;}const _0x347e6e=String(_0x9c29a0[_0x356776(0x31b)]);console['log'](_0x356776(0x204),_0x347e6e);if(!_0x9c29a0[_0x356776(0x31b)]||_0x347e6e===_0x356776(0x2c3)||_0x347e6e==='null'){console[_0x356776(0x332)]('[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!');if(_0x9c29a0[_0x356776(0x316)]){const _0xe35741=clients[_0x356776(0x2f8)](_0x317fcf=>_0x317fcf['name']===_0x9c29a0[_0x356776(0x316)]);if(_0xe35741)return console[_0x356776(0x250)]('[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:',_0xe35741['id']),this['send'](_0x1b705d,{..._0x9c29a0,'clientId':_0xe35741['id']});}return;}if(_0x347e6e[_0x356776(0x298)]<0x5){console[_0x356776(0x233)](_0x356776(0x2ab),_0x347e6e);return;}const _0x51d798=this[_0x356776(0x1ea)](_0x1b705d,_0x9c29a0);if(!_0x51d798){console[_0x356776(0x332)](_0x356776(0x2a1));return;}console[_0x356776(0x250)](_0x356776(0x255)+_0x347e6e+'...'),DataManager[_0x356776(0x2f9)](_0x356776(0x327),{'chatId':_0x347e6e,'text':_0x51d798})[_0x356776(0x202)](_0x1f3e3e=>console[_0x356776(0x250)](_0x356776(0x214),_0x1f3e3e))[_0x356776(0x21c)](_0x5c4579=>console[_0x356776(0x332)]('[Notify]\x20Network\x20Failed',_0x5c4579));}};function getLocalDateStr(_0xf0d545){const _0x1c4f5c=a2_0x22935b,_0x324532=_0xf0d545['getFullYear'](),_0x4c8425=String(_0xf0d545[_0x1c4f5c(0x211)]()+0x1)[_0x1c4f5c(0x2bc)](0x2,'0'),_0x47f834=String(_0xf0d545[_0x1c4f5c(0x2ae)]())[_0x1c4f5c(0x2bc)](0x2,'0');return _0x324532+'-'+_0x4c8425+'-'+_0x47f834;}function getDateStr(_0x5e51a7){const _0x5958f6=a2_0x22935b,_0x474ce0=new Date();return _0x474ce0['setDate'](_0x474ce0[_0x5958f6(0x2ae)]()+_0x5e51a7),getLocalDateStr(_0x474ce0);}function getStartOfWeek(_0x353143){const _0x4cbeef=a2_0x22935b,_0x413839=(function(){let _0x52651f=!![];return function(_0x3c180d,_0x522407){const _0x19d298=_0x52651f?function(){const _0x54df71=a2_0x2f48;if(_0x522407){const _0x564270=_0x522407[_0x54df71(0x311)](_0x3c180d,arguments);return _0x522407=null,_0x564270;}}:function(){};return _0x52651f=![],_0x19d298;};}()),_0x2a95c7=_0x413839(this,function(){const _0x42ca0d=a2_0x2f48;return _0x2a95c7['toString']()[_0x42ca0d(0x302)](_0x42ca0d(0x2a2))[_0x42ca0d(0x28f)]()[_0x42ca0d(0x2a8)](_0x2a95c7)[_0x42ca0d(0x302)](_0x42ca0d(0x2a2));});_0x2a95c7();const _0x1cf585=new Date(_0x353143),_0x131ae3=_0x1cf585['getDay'](),_0x26f901=_0x1cf585[_0x4cbeef(0x2ae)]()-_0x131ae3+(_0x131ae3===0x0?-0x6:0x1);return _0x1cf585[_0x4cbeef(0x263)](_0x26f901),_0x1cf585[_0x4cbeef(0x33d)](0x0,0x0,0x0,0x0),_0x1cf585;}function a2_0x4dc9(){const _0x3eed9f=['.pib-text','toString','594450loJiUm','colIndex','uc_clients_v9','start','borderColor','done','splice','map','length','anCustomDates','today','min','var(--acc-green)','var(--acc-current)','–£—Å–ø–µ—à–Ω–æ','stopPropagation',':00','[Notify]\x20Error:\x20Text\x20generation\x20failed','(((.+)+)+)+$','%\x20+\x202px)','doDateHeader','Local\x20Save\x20Error','Unknown','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','constructor','setBackgroundColor','strokeDashoffset','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','cancel_window','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','getDate','DOMContentLoaded','uc_sessions_v9','backgroundColor','</b>\x0a\x0a','innerHTML','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','doBusyHours','.day-off-overlay','borderLeftColor','timeLineBadge','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','</div><div\x20class=\x22dch-num\x22>','padStart','update','checked','btn-status-toggle\x20undo-mode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','BackButton','undefined','191444VPacIT','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','mouseup','\x20status-completed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pe-time-label','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','clientWidth','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','includes','startsWith','className','onclick','planned','.sheet','option','scrollWidth','asBtnOne','inpRecurring','getTime','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','deleted','getElementById','range-item','querySelectorAll','cancel','inpSeriesCount','</div>','getDay','href','day-off-overlay\x20stripe-bg','location','classList','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','addEventListener','scroll','getFullYear','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','flex','create','Save\x20settings\x20error:','anPercent','offClick','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','touches','dateStr','anDonutCircle','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','.day-col-header','background','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','random','find','fetchFromServer','WebApp','localeCompare','toast-notification\x20','display','–ò–Ω—Ñ–æ','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','push','search','isArray','forEach','data-day-idx','textContent','toastMessage','btnStatusToggle','cancelled','Server\x20Error','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','rangeEndTime','data','blocked-range-part\x20stripe-bg','top','seriesCountContainer','apply','3400848DwpNxC','toLocaleDateString','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','inpStart','client','settingCancelWindow','<div\x20class=\x22dch-day\x22>','pe-col-header','anEnd','clientId','3NvGUWV','onClick','client-stat-card','offsetWidth','sheetTitle','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','total','inpNote','vibrate',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','overlay','send_notification','actionSheet','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','rgba(255,\x2069,\x2058,\x200.15)','...','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','color','rgba(255,255,255,0.05)','7EHYOWE','ready','error','calendar','split','scrollLeft','100%','px\x20-','actionSheetOverlay','\x20-\x20','active','gridColumns','getHours','setHours','single','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','statLoadCard','\x20‚Äî\x20','name','event-card','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','stringify','div','00:00','rgba(48,\x20209,\x2088,\x200.15)','pe-corner','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','warning','off','json','save_settings','</span>\x20/\x20','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','daysHeaderTrack','#0a84ff','recurringOptionContainer','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','mousemove','status','touchend','113253KAxQqz','mergeServerData','Error\x20setting\x20back\x20button:','data-date','closest','getItem','createElement','settings','blocked-slot\x20stripe-bg','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','clientY','exceptions','entries','rangesSheet','getText','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','text','expand','\x20days','pe-cell\x20','btnDelete','user','getMinutes','saveLocally','–£–¥–∞–ª–µ–Ω–∏–µ','end','complete','all','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','[Notify]\x20Error:\x20sessionData\x20is\x20null','rangesList','23:59','touchstart','charAt',':00</span>','asBtnSeries','findIndex','.day-column','then','toFixed','[Notify]\x20Detected\x20Client\x20ID:','series','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','borderRadius','rgba(100,100,100,0.5)','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','toLocaleString','now','calc(','patternEditor',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','getMonth','week','[Notify]\x20Attempting\x20to\x20send:','[Notify]\x20Server\x20Response:','disableVerticalSwipes','send','initDataUnsafe','header-','toUpperCase','insertBefore','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','catch','dayOptionsTitle','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','open','settingsSheet','inpClient','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','none','ranges','\x20–∏–∑\x20','rangeStartDate','#050505','%\x20-\x204px)','doEventsList','max','[Settings]\x20Cancel\x20window\x20set\x20to:','floor','clients','patternInfoBox','54SnDlFd','[Sync]\x20Loading\x20','custom','querySelector','warn','day-column\x20','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','sort','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','delete','pattern','anStart','rangeStartTime','show','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','#fff','seriesId','sessionSheet','analyticsSheet','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','scrollTop','Telegram','inpDate','10px','time-label','ru-RU','sheetDateSubtitle','1225472hdTcGh','setItem','parse','loadLocal','long','Error\x20setting\x20color:','log','peGrid','getAttribute','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','doWorkHours','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','numeric','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','initData','filter','offsetLeft','btnDayToggle','de-item','setAttribute','[API\x20','style','inpEnd','252kilbzo','month','setDate','dayOptionsSheet','backgroundPosition','slice','value','rangeEndDate','mousedown','block','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','uc_settings_cancel_window','add','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','matrixViewport','[Notify]\x20Client\x20SWAP\x20detected','appendChild','var(--acc-red)','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','5gqYTUQ','btn-primary\x20btn-secondary','remove','from','width','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','indexOf','asTitle','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','1037892cdfGOw','day-col-header\x20','3543630NdEhCR','setMonth','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','</div><div\x20class=\x22ev-time\x22>','note','text/plain;charset=UTF-8','guest','round','completed',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','stat-','init_load','getBoundingClientRect'];a2_0x4dc9=function(){return _0x3eed9f;};return a2_0x4dc9();}function hexToRgba(_0x584d37,_0x4d688b){const _0x11e5ff=a2_0x22935b;if(!_0x584d37)return _0x11e5ff(0x20a);let _0x30ceca=0x0,_0x45080b=0x0,_0x38e62d=0x0;if(_0x584d37['length']===0x4)_0x30ceca='0x'+_0x584d37[0x1]+_0x584d37[0x1],_0x45080b='0x'+_0x584d37[0x2]+_0x584d37[0x2],_0x38e62d='0x'+_0x584d37[0x3]+_0x584d37[0x3];else _0x584d37[_0x11e5ff(0x298)]===0x7&&(_0x30ceca='0x'+_0x584d37[0x1]+_0x584d37[0x2],_0x45080b='0x'+_0x584d37[0x3]+_0x584d37[0x4],_0x38e62d='0x'+_0x584d37[0x5]+_0x584d37[0x6]);return'rgba('+ +_0x30ceca+',\x20'+ +_0x45080b+',\x20'+ +_0x38e62d+',\x20'+_0x4d688b+')';}function renderTimeColumn(){const _0x3e45cc=a2_0x22935b,_0x2f3987=document[_0x3e45cc(0x2da)]('timeColumn'),_0x3dd410=document[_0x3e45cc(0x2da)]('timeLineBadge');_0x2f3987['innerHTML']='',_0x2f3987[_0x3e45cc(0x271)](_0x3dd410);for(let _0x17b52b=0x0;_0x17b52b<0x18;_0x17b52b++){const _0x5afa5e=document[_0x3e45cc(0x1e2)](_0x3e45cc(0x347));_0x5afa5e[_0x3e45cc(0x2cf)]=_0x3e45cc(0x247);if(_0x17b52b>0x0)_0x5afa5e[_0x3e45cc(0x2b3)]='<span>'+String(_0x17b52b)[_0x3e45cc(0x2bc)](0x2,'0')+_0x3e45cc(0x1fe);_0x2f3987[_0x3e45cc(0x271)](_0x5afa5e);}}function renderDayRange(_0x3a5072,_0x1cbc4c){const _0x24d15e=a2_0x22935b,_0x1644dd=document[_0x24d15e(0x2da)](_0x24d15e(0x352)),_0x4d454b=document['getElementById'](_0x24d15e(0x33b)),_0x4bad39=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x4d5914=new Date();_0x4d5914[_0x24d15e(0x33d)](0x0,0x0,0x0,0x0);const _0xc182e6=getLocalDateStr(new Date());for(let _0x3f3d1e=_0x3a5072;_0x3f3d1e<=_0x1cbc4c;_0x3f3d1e++){const _0x45eb04=new Date(_0x4d5914);_0x45eb04['setDate'](_0x45eb04[_0x24d15e(0x2ae)]()+_0x3f3d1e);const _0x5c29c1=getLocalDateStr(_0x45eb04);let _0x3595a0=_0x45eb04[_0x24d15e(0x2e0)]()-0x1;if(_0x3595a0===-0x1)_0x3595a0=0x6;const _0x9de76f=_0x5c29c1===_0xc182e6,_0x3d2749=document[_0x24d15e(0x1e2)](_0x24d15e(0x347));_0x3d2749['className']=_0x24d15e(0x280)+(_0x9de76f?_0x24d15e(0x29a):''),_0x3d2749['id']=_0x24d15e(0x218)+_0x5c29c1,_0x3d2749[_0x24d15e(0x25d)](_0x24d15e(0x1df),_0x5c29c1),_0x3d2749[_0x24d15e(0x2b3)]=_0x24d15e(0x318)+_0x4bad39[_0x3595a0]+_0x24d15e(0x2bb)+_0x45eb04[_0x24d15e(0x2ae)]()+_0x24d15e(0x27d)+_0x5c29c1+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x3d2749['onclick']=()=>openDayOptions(_0x5c29c1,_0x4bad39[_0x3595a0]+'\x20'+_0x45eb04[_0x24d15e(0x2ae)]()),_0x1644dd[_0x24d15e(0x271)](_0x3d2749);const _0x149139=document[_0x24d15e(0x1e2)](_0x24d15e(0x347));_0x149139[_0x24d15e(0x2cf)]=_0x24d15e(0x234)+(_0x9de76f?_0x24d15e(0x29a):''),_0x149139[_0x24d15e(0x25d)]('data-date',_0x5c29c1),_0x149139[_0x24d15e(0x25d)](_0x24d15e(0x305),_0x3595a0),renderEventsForColumn(_0x149139,_0x5c29c1,_0x3595a0),attachLongPressHandler(_0x149139,_0x45eb04),_0x4d454b[_0x24d15e(0x271)](_0x149139),updateDayStats(_0x5c29c1);}}function reRenderBlocks(){const _0x1ee6f3=a2_0x22935b;document['querySelectorAll']('#gridColumns\x20.day-column')[_0x1ee6f3(0x304)](_0x11cc2b=>{const _0x4bafd8=_0x1ee6f3;_0x11cc2b['querySelectorAll'](_0x4bafd8(0x351))[_0x4bafd8(0x304)](_0xde175f=>_0xde175f[_0x4bafd8(0x277)]());const _0x4586d1=_0x11cc2b[_0x4bafd8(0x252)]('data-date'),_0x207c0a=parseInt(_0x11cc2b[_0x4bafd8(0x252)](_0x4bafd8(0x305))),_0x3587b7=Math[_0x4bafd8(0x288)](_0x11cc2b[_0x4bafd8(0x25a)]);(availabilityPattern[_0x207c0a]||[])[_0x4bafd8(0x304)](_0x2d6edc=>{const _0x16983e=_0x4bafd8,_0x33f554=document[_0x16983e(0x1e2)](_0x16983e(0x347));_0x33f554[_0x16983e(0x2cf)]=_0x16983e(0x1e4);const _0x10a833=_0x2d6edc*GRID_H;_0x33f554[_0x16983e(0x25f)][_0x16983e(0x30f)]=_0x10a833+'px',_0x33f554[_0x16983e(0x25f)][_0x16983e(0x265)]='-'+_0x3587b7+_0x16983e(0x337)+_0x10a833+'px',_0x11cc2b['appendChild'](_0x33f554);});if(specialRanges&&specialRanges[_0x4bafd8(0x298)]>0x0){const _0x2b884d=new Date(_0x4586d1+'T00:00:00')['getTime'](),_0x3b6c11=new Date(_0x4586d1+'T23:59:59')[_0x4bafd8(0x2d7)]();specialRanges[_0x4bafd8(0x304)](_0x2dbe08=>{const _0x148ad6=_0x4bafd8,_0x440b59=new Date(_0x2dbe08[_0x148ad6(0x293)])['getTime'](),_0x736bb7=new Date(_0x2dbe08[_0x148ad6(0x1f5)])['getTime'](),_0x1dc901=Math['max'](_0x2b884d,_0x440b59),_0x1d1d9c=Math['min'](_0x3b6c11,_0x736bb7);if(_0x1dc901<_0x1d1d9c){if(_0x1dc901<=_0x2b884d&&_0x1d1d9c>=_0x3b6c11-0xea60){if(!_0x11cc2b[_0x148ad6(0x232)](_0x148ad6(0x2b6))){const _0x33ea75=document[_0x148ad6(0x1e2)](_0x148ad6(0x347));_0x33ea75[_0x148ad6(0x2cf)]='day-off-overlay\x20stripe-bg',_0x33ea75[_0x148ad6(0x25f)][_0x148ad6(0x265)]='-'+_0x3587b7+'px\x200px',_0x11cc2b['appendChild'](_0x33ea75);}}else{const _0x362d3a=(_0x1dc901-_0x2b884d)/0x36ee80*GRID_H,_0x3cb484=(_0x1d1d9c-_0x1dc901)/0x36ee80*GRID_H,_0x441575=document[_0x148ad6(0x1e2)]('div');_0x441575[_0x148ad6(0x2cf)]=_0x148ad6(0x30e),_0x441575[_0x148ad6(0x25f)][_0x148ad6(0x30f)]=_0x362d3a+'px',_0x441575['style']['height']=_0x3cb484+'px',_0x441575[_0x148ad6(0x25f)][_0x148ad6(0x265)]='-'+_0x3587b7+'px\x20-'+_0x362d3a+'px',_0x11cc2b[_0x148ad6(0x271)](_0x441575);}}});}if(dateExceptions[_0x4586d1]==='off'){if(!_0x11cc2b['querySelector']('.day-off-overlay')){const _0x49b274=document['createElement'](_0x4bafd8(0x347));_0x49b274[_0x4bafd8(0x2cf)]=_0x4bafd8(0x2e2),_0x49b274[_0x4bafd8(0x25f)]['backgroundPosition']='-'+_0x3587b7+'px\x200px',_0x11cc2b[_0x4bafd8(0x271)](_0x49b274);}}renderEventsForColumn(_0x11cc2b,_0x4586d1,_0x207c0a),updateDayStats(_0x4586d1);});}function updateAllDayStats(){const _0x3f92f1=a2_0x22935b;document['querySelectorAll'](_0x3f92f1(0x2f4))['forEach'](_0x54d8a9=>{const _0x4a43b6=_0x3f92f1;updateDayStats(_0x54d8a9[_0x4a43b6(0x252)](_0x4a43b6(0x1df)));});}function updateDayStats(_0x1d97c0){const _0x15fb24=a2_0x22935b,_0x4cf20e=document['getElementById'](_0x15fb24(0x28b)+_0x1d97c0);if(!_0x4cf20e)return;const _0x105b3f=new Date(_0x1d97c0);let _0xb39ce8=_0x105b3f[_0x15fb24(0x2e0)]()-0x1;if(_0xb39ce8===-0x1)_0xb39ce8=0x6;if(dateExceptions[_0x1d97c0]===_0x15fb24(0x34d)){_0x4cf20e[_0x15fb24(0x25f)][_0x15fb24(0x2fd)]=_0x15fb24(0x223);return;}const _0xf0cc21=availabilityPattern[_0xb39ce8]||[],_0x438168=0x18-_0xf0cc21['length'],_0x5a0ab1=_0x438168*0x3c,_0x1fadc0=sessions[_0x15fb24(0x259)](_0x5087fe=>_0x5087fe['dateStr']===_0x1d97c0&&_0x5087fe[_0x15fb24(0x357)]!==_0x15fb24(0x309));if(_0x1fadc0[_0x15fb24(0x298)]===0x0){_0x4cf20e[_0x15fb24(0x25f)]['display']=_0x15fb24(0x223);return;}let _0x16d2df=_0x1fadc0[_0x15fb24(0x297)](_0x4296e4=>{const _0x42ca37=_0x15fb24,[_0x34085a,_0x526992]=_0x4296e4[_0x42ca37(0x293)][_0x42ca37(0x334)](':')[_0x42ca37(0x297)](Number),[_0x55a7d9,_0xfb4353]=_0x4296e4['end'][_0x42ca37(0x334)](':')[_0x42ca37(0x297)](Number);return[_0x34085a*0x3c+_0x526992,_0x55a7d9*0x3c+_0xfb4353];});_0x16d2df[_0x15fb24(0x236)]((_0x5a4314,_0x13c66c)=>_0x5a4314[0x0]-_0x13c66c[0x0]);let _0x329020=[];if(_0x16d2df[_0x15fb24(0x298)]>0x0){let _0x4c4842=_0x16d2df[0x0];for(let _0x251ffa=0x1;_0x251ffa<_0x16d2df[_0x15fb24(0x298)];_0x251ffa++){_0x16d2df[_0x251ffa][0x0]<_0x4c4842[0x1]?_0x4c4842[0x1]=Math[_0x15fb24(0x22a)](_0x4c4842[0x1],_0x16d2df[_0x251ffa][0x1]):(_0x329020[_0x15fb24(0x301)](_0x4c4842),_0x4c4842=_0x16d2df[_0x251ffa]);}_0x329020[_0x15fb24(0x301)](_0x4c4842);}let _0x4a07dd=0x0;_0x329020[_0x15fb24(0x304)](_0x5c916f=>_0x4a07dd+=_0x5c916f[0x1]-_0x5c916f[0x0]),_0x4cf20e[_0x15fb24(0x25f)]['display']=_0x15fb24(0x2ea);const _0x296517=_0x4cf20e['querySelector']('.dch-stats-fill');if(_0x5a0ab1===0x0){_0x296517['style'][_0x15fb24(0x279)]=_0x15fb24(0x336),_0x296517['style'][_0x15fb24(0x2f5)]=_0x15fb24(0x272);return;}const _0x77db53=_0x4a07dd/_0x5a0ab1*0x64;console['log']('['+_0x1d97c0+_0x15fb24(0x325)+_0x438168+_0x15fb24(0x20b)+_0x4a07dd+_0x15fb24(0x2e9)+_0x77db53[_0x15fb24(0x203)](0x1)+'%'),_0x77db53>0x64?(_0x296517[_0x15fb24(0x25f)]['width']='100%',_0x296517['style'][_0x15fb24(0x2f5)]='var(--acc-red)'):(_0x296517[_0x15fb24(0x25f)]['width']=_0x77db53+'%',_0x296517[_0x15fb24(0x25f)][_0x15fb24(0x2f5)]=_0x15fb24(0x29d));}function renderEventsForColumn(_0x91fc96,_0x36a446,_0x32cb65){const _0x3f430b=a2_0x22935b,_0x574006=sessions['filter'](_0x548a76=>_0x548a76[_0x3f430b(0x2f1)]===_0x36a446),_0x480441=_0x574006[_0x3f430b(0x297)](_0x9ad7bc=>{const _0x290aca=_0x3f430b,[_0x18cb9d,_0x1f2d18]=_0x9ad7bc[_0x290aca(0x293)][_0x290aca(0x334)](':')[_0x290aca(0x297)](Number),[_0xdd7743,_0x482021]=_0x9ad7bc['end'][_0x290aca(0x334)](':')[_0x290aca(0x297)](Number);return{'data':_0x9ad7bc,'start':_0x18cb9d*0x3c+_0x1f2d18,'end':_0xdd7743*0x3c+_0x482021,'colIndex':0x0};});_0x480441[_0x3f430b(0x236)]((_0x5dc616,_0xb226d4)=>{const _0x328dea=_0x3f430b;if(_0x5dc616['start']!==_0xb226d4[_0x328dea(0x293)])return _0x5dc616[_0x328dea(0x293)]-_0xb226d4['start'];return _0xb226d4[_0x328dea(0x1f5)]-_0xb226d4['start']-(_0x5dc616[_0x328dea(0x1f5)]-_0x5dc616[_0x328dea(0x293)]);});const _0x58b314=[];_0x480441[_0x3f430b(0x304)](_0x58a3f6=>{const _0x4cebf1=_0x3f430b;let _0x1bb6f7=![];for(let _0x45f323=0x0;_0x45f323<_0x58b314['length'];_0x45f323++){const _0x29ed6d=_0x58b314[_0x45f323],_0x552722=_0x29ed6d[_0x29ed6d[_0x4cebf1(0x298)]-0x1];if(_0x58a3f6[_0x4cebf1(0x293)]>=_0x552722['end']){_0x29ed6d[_0x4cebf1(0x301)](_0x58a3f6),_0x58a3f6[_0x4cebf1(0x291)]=_0x45f323,_0x1bb6f7=!![];break;}}!_0x1bb6f7&&(_0x58b314['push']([_0x58a3f6]),_0x58a3f6[_0x4cebf1(0x291)]=_0x58b314['length']-0x1);}),_0x480441['forEach'](_0x4bbfca=>{const _0x3a5352=_0x3f430b;let _0x53ba16=0x0;_0x480441[_0x3a5352(0x304)](_0x48bccb=>{const _0x7459ee=_0x3a5352;if(Math[_0x7459ee(0x22a)](_0x4bbfca[_0x7459ee(0x293)],_0x48bccb[_0x7459ee(0x293)])<Math[_0x7459ee(0x29b)](_0x4bbfca['end'],_0x48bccb[_0x7459ee(0x1f5)])){if(_0x48bccb[_0x7459ee(0x291)]>_0x53ba16)_0x53ba16=_0x48bccb[_0x7459ee(0x291)];}});const _0xbda956=_0x53ba16+0x1,_0x4bc041=0x64/_0xbda956,_0x13fb91=_0x4bbfca[_0x3a5352(0x291)]*_0x4bc041,_0x211246=createEventEl(_0x4bbfca[_0x3a5352(0x30d)]);_0x211246['style'][_0x3a5352(0x279)]=_0x3a5352(0x20e)+_0x4bc041+_0x3a5352(0x228),_0x211246[_0x3a5352(0x25f)]['left']=_0x3a5352(0x20e)+_0x13fb91+_0x3a5352(0x2a3),_0x211246[_0x3a5352(0x25f)]['zIndex']=0xa+_0x4bbfca[_0x3a5352(0x291)],_0x4bc041<0x55&&_0x211246[_0x3a5352(0x2e4)][_0x3a5352(0x26d)]('mini'),_0x91fc96['appendChild'](_0x211246);});}function createEventEl(_0x470fc3){const _0x3d14d6=a2_0x22935b,[_0x470e5b,_0x3a9ec2]=_0x470fc3['start'][_0x3d14d6(0x334)](':')[_0x3d14d6(0x297)](Number),[_0x55b8fb,_0x1f8497]=_0x470fc3[_0x3d14d6(0x1f5)][_0x3d14d6(0x334)](':')[_0x3d14d6(0x297)](Number),_0x2c324d=(_0x470e5b*0x3c+_0x3a9ec2)/0x3c*GRID_H,_0x2f72be=(_0x55b8fb*0x3c+_0x1f8497-(_0x470e5b*0x3c+_0x3a9ec2))/0x3c*GRID_H,_0x408b7f=document['createElement'](_0x3d14d6(0x347)),_0x43959c=_0x470fc3['status']===_0x3d14d6(0x289)?_0x3d14d6(0x2c7):'';_0x408b7f['className']=_0x3d14d6(0x344)+_0x43959c,_0x408b7f[_0x3d14d6(0x25f)]['top']=_0x2c324d+'px',_0x408b7f[_0x3d14d6(0x25f)]['height']=Math[_0x3d14d6(0x22a)](_0x2f72be,0x14)+'px';const _0x598309=clients[_0x3d14d6(0x2f8)](_0x48667a=>_0x470fc3[_0x3d14d6(0x31b)]&&String(_0x48667a['id'])===String(_0x470fc3[_0x3d14d6(0x31b)])||_0x48667a[_0x3d14d6(0x343)]===_0x470fc3['client']),_0x335c42=_0x598309?_0x598309[_0x3d14d6(0x32e)]:_0x3d14d6(0x353);_0x408b7f[_0x3d14d6(0x25f)][_0x3d14d6(0x2b7)]=_0x335c42,_0x408b7f[_0x3d14d6(0x25f)][_0x3d14d6(0x2b1)]=hexToRgba(_0x335c42,0.85);let _0x172670='<div\x20class=\x22ev-title\x22>'+_0x470fc3['client']+_0x3d14d6(0x284)+_0x470fc3['start']+'\x20-\x20'+_0x470fc3[_0x3d14d6(0x1f5)]+_0x3d14d6(0x2df);return _0x470fc3[_0x3d14d6(0x23f)]&&(_0x172670+=_0x3d14d6(0x27e)),_0x470fc3[_0x3d14d6(0x357)]===_0x3d14d6(0x289)&&(_0x172670+='<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>'),_0x408b7f[_0x3d14d6(0x2b3)]=_0x172670,_0x408b7f[_0x3d14d6(0x2d0)]=_0x3ba562=>{_0x3ba562['stopPropagation'](),openEdit(_0x470fc3);},_0x408b7f;}function attachLongPressHandler(_0x455a1b,_0x18258a){const _0x105c8c=a2_0x22935b;let _0x1a459c=0x0,_0x31f7f7=null;const _0x3b6ddf=_0x54829d=>{const _0x382ad8=a2_0x2f48;if(_0x54829d['target'][_0x382ad8(0x1e0)]('.event-card'))return;isScrolling=![],_0x1a459c=_0x54829d[_0x382ad8(0x2f0)]?_0x54829d[_0x382ad8(0x2f0)][0x0][_0x382ad8(0x1e6)]:_0x54829d['clientY'],_0x31f7f7=setTimeout(()=>{const _0x18e2dd=_0x382ad8;if(!isScrolling){navigator[_0x18e2dd(0x324)]?.(0x32);const _0x4c67e1=_0x455a1b[_0x18e2dd(0x28d)](),_0x37c4e0=Math[_0x18e2dd(0x22c)]((_0x1a459c-_0x4c67e1[_0x18e2dd(0x30f)])/GRID_H);_0x18258a[_0x18e2dd(0x33d)](_0x37c4e0,0x0),openAddSession(_0x18258a);}},0x1f4);},_0x438999=()=>{isScrolling=!![],clearTimeout(_0x31f7f7);},_0x29247c=()=>{clearTimeout(_0x31f7f7);};_0x455a1b[_0x105c8c(0x2e6)](_0x105c8c(0x1fc),_0x3b6ddf,{'passive':!![]}),_0x455a1b[_0x105c8c(0x2e6)]('touchmove',_0x438999,{'passive':!![]}),_0x455a1b[_0x105c8c(0x2e6)](_0x105c8c(0x358),_0x29247c),_0x455a1b[_0x105c8c(0x2e6)](_0x105c8c(0x269),_0x3b6ddf),_0x455a1b[_0x105c8c(0x2e6)](_0x105c8c(0x356),_0x438999),_0x455a1b[_0x105c8c(0x2e6)](_0x105c8c(0x2c6),_0x29247c);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x1f485b=a2_0x22935b,_0x348bc3=document[_0x1f485b(0x2da)]('matrixViewport'),_0x1d7593=_0x348bc3['scrollLeft'],_0x17b292=_0x348bc3[_0x1f485b(0x2d4)],_0x1828a5=_0x348bc3[_0x1f485b(0x2cb)];if(_0x17b292-(_0x1d7593+_0x1828a5)<0x12c){const _0x2ab16a=endOffset;endOffset+=0xe,renderDayRange(_0x2ab16a+0x1,endOffset),reRenderBlocks();}if(_0x1d7593<0x12c){const _0x4052e1=startOffset;startOffset-=0xe,prependDays(startOffset,_0x4052e1-0x1),_0x348bc3[_0x1f485b(0x335)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x2abae5,_0x5a2c3c){const _0x2514b6=a2_0x22935b,_0x449688=document[_0x2514b6(0x2da)](_0x2514b6(0x352)),_0x5bfe8e=document[_0x2514b6(0x2da)]('gridColumns'),_0x4c7760=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x57e4ec=new Date();_0x57e4ec['setHours'](0x0,0x0,0x0,0x0);const _0x4b3a87=getLocalDateStr(new Date()),_0x360874=document['createDocumentFragment'](),_0x7e3751=document['createDocumentFragment']();for(let _0x5e4074=_0x2abae5;_0x5e4074<=_0x5a2c3c;_0x5e4074++){const _0x2baa4c=new Date(_0x57e4ec);_0x2baa4c['setDate'](_0x2baa4c[_0x2514b6(0x2ae)]()+_0x5e4074);const _0x1714b7=getLocalDateStr(_0x2baa4c);let _0x6e76f6=_0x2baa4c[_0x2514b6(0x2e0)]()-0x1;if(_0x6e76f6===-0x1)_0x6e76f6=0x6;const _0x4bba99=_0x1714b7===_0x4b3a87,_0x527f17=document['createElement']('div');_0x527f17[_0x2514b6(0x2cf)]=_0x2514b6(0x280)+(_0x4bba99?_0x2514b6(0x29a):''),_0x527f17['id']=_0x2514b6(0x218)+_0x1714b7,_0x527f17['setAttribute'](_0x2514b6(0x1df),_0x1714b7),_0x527f17[_0x2514b6(0x2b3)]=_0x2514b6(0x318)+_0x4c7760[_0x6e76f6]+'</div><div\x20class=\x22dch-num\x22>'+_0x2baa4c['getDate']()+_0x2514b6(0x27d)+_0x1714b7+_0x2514b6(0x340),_0x527f17['onclick']=()=>openDayOptions(_0x1714b7,_0x4c7760[_0x6e76f6]+'\x20'+_0x2baa4c[_0x2514b6(0x2ae)]()),_0x360874['appendChild'](_0x527f17);const _0x20795b=document['createElement'](_0x2514b6(0x347));_0x20795b[_0x2514b6(0x2cf)]='day-column\x20'+(_0x4bba99?_0x2514b6(0x29a):''),_0x20795b[_0x2514b6(0x25d)](_0x2514b6(0x1df),_0x1714b7),_0x20795b['setAttribute'](_0x2514b6(0x305),_0x6e76f6),renderEventsForColumn(_0x20795b,_0x1714b7,_0x6e76f6),attachLongPressHandler(_0x20795b,_0x2baa4c),_0x7e3751[_0x2514b6(0x271)](_0x20795b),updateDayStats(_0x1714b7);}_0x449688[_0x2514b6(0x21a)](_0x360874,_0x449688['firstChild']),_0x5bfe8e[_0x2514b6(0x21a)](_0x7e3751,_0x5bfe8e[_0x2514b6(0x232)](_0x2514b6(0x201)));}function validateAppointment(_0x45b810,_0x1947b1,_0x585369,_0x3bd1fd,_0x4492bc){const _0x325569=a2_0x22935b,[_0x42113c,_0x29e85e]=_0x1947b1['split'](':')[_0x325569(0x297)](Number),[_0x5f0634,_0x49f7ba]=_0x585369['split'](':')[_0x325569(0x297)](Number),_0x36defa=_0x42113c*0x3c+_0x29e85e,_0x4ee921=_0x5f0634*0x3c+_0x49f7ba,_0x1ad7a2=String(_0x4492bc);let _0x5b40b0=![],_0x4c4164='';for(let _0x4449f2 of sessions){if(_0x4449f2['dateStr']!==_0x45b810)continue;if(_0x4449f2[_0x325569(0x357)]===_0x325569(0x309))continue;if(_0x3bd1fd&&String(_0x4449f2['id'])===String(_0x3bd1fd))continue;const [_0x53ba59,_0x3e0c52]=_0x4449f2['start'][_0x325569(0x334)](':')[_0x325569(0x297)](Number),[_0x35c2f7,_0x33bed9]=_0x4449f2['end']['split'](':')[_0x325569(0x297)](Number),_0x13271c=_0x53ba59*0x3c+_0x3e0c52,_0x1264a7=_0x35c2f7*0x3c+_0x33bed9;if(Math['max'](_0x36defa,_0x13271c)<Math[_0x325569(0x29b)](_0x4ee921,_0x1264a7)){if(_0x4449f2['clientId']&&String(_0x4449f2[_0x325569(0x31b)])===_0x1ad7a2)return{'valid':![],'msg':_0x325569(0x26e)+_0x4449f2[_0x325569(0x316)]+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x5b40b0=!![],_0x4c4164=_0x4449f2[_0x325569(0x316)];}}if(_0x5b40b0)return{'valid':!![],'warning':'–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20'+_0x4c4164};return{'valid':!![]};}function updateDateDisplay(){const _0x468b13=a2_0x22935b,_0x26379b=document[_0x468b13(0x2da)]('inpDate')[_0x468b13(0x267)],_0x3d1f7e=document['getElementById'](_0x468b13(0x249));if(!_0x26379b){_0x3d1f7e[_0x468b13(0x306)]='';return;}const [_0x1c07a6,_0x14ccc5,_0x4849ba]=_0x26379b['split']('-')[_0x468b13(0x297)](Number),_0x39892f=new Date(_0x1c07a6,_0x14ccc5-0x1,_0x4849ba),_0x1386f2={'weekday':_0x468b13(0x24e),'day':_0x468b13(0x256),'month':'long','year':'numeric'};let _0x2abacd=_0x39892f[_0x468b13(0x313)](_0x468b13(0x248),_0x1386f2);_0x2abacd=_0x2abacd[_0x468b13(0x1fd)](0x0)[_0x468b13(0x219)]()+_0x2abacd['slice'](0x1),_0x3d1f7e[_0x468b13(0x306)]=_0x2abacd;}function autoSetEndTime(){const _0x260515=a2_0x22935b,_0x40ce4f=document['getElementById'](_0x260515(0x315))[_0x260515(0x267)];if(!_0x40ce4f)return;const [_0x5f2419,_0x8f5f4b]=_0x40ce4f[_0x260515(0x334)](':')['map'](Number);let _0x5a988b=_0x5f2419+0x1;if(_0x5a988b>0x17)_0x5a988b=0x0;const _0x24bfa3=String(_0x5a988b)[_0x260515(0x2bc)](0x2,'0')+':'+String(_0x8f5f4b)[_0x260515(0x2bc)](0x2,'0');document[_0x260515(0x2da)]('inpEnd')[_0x260515(0x267)]=_0x24bfa3;}function populateClientSelect(){const _0x2a441c=a2_0x22935b,_0x90f920=document[_0x2a441c(0x2da)]('inpClient');_0x90f920[_0x2a441c(0x2b3)]='';if(clients['length']===0x0){const _0x81d25f=document[_0x2a441c(0x1e2)]('option');_0x81d25f[_0x2a441c(0x1ec)]=_0x2a441c(0x23d),_0x90f920['appendChild'](_0x81d25f);return;}clients[_0x2a441c(0x304)](_0x7247c=>{const _0x5ece76=_0x2a441c,_0x2449dc=document[_0x5ece76(0x1e2)](_0x5ece76(0x2d3));_0x2449dc['value']=_0x7247c[_0x5ece76(0x343)],_0x2449dc[_0x5ece76(0x306)]=_0x7247c[_0x5ece76(0x343)],_0x90f920[_0x5ece76(0x271)](_0x2449dc);});}function openActionSheet(_0x3a86e8){const _0x533191=a2_0x22935b,_0x38461b=document['getElementById']('actionSheet'),_0x4710eb=document[_0x533191(0x2da)](_0x533191(0x338)),_0x2e23bc=document[_0x533191(0x2da)](_0x533191(0x27c)),_0x1cd564=document['getElementById'](_0x533191(0x2d5)),_0x1aade1=document['getElementById'](_0x533191(0x1ff));_0x4710eb[_0x533191(0x2e4)][_0x533191(0x26d)](_0x533191(0x33a)),_0x38461b['classList'][_0x533191(0x26d)](_0x533191(0x21f));if(_0x3a86e8==='save')_0x2e23bc[_0x533191(0x306)]=_0x533191(0x329),_0x1cd564[_0x533191(0x306)]=_0x533191(0x257),_0x1cd564[_0x533191(0x2d0)]=()=>{closeActionSheet(),updateSeriesBatch('single',tempSessionData);},_0x1aade1[_0x533191(0x306)]=_0x533191(0x2ba),_0x1aade1['onclick']=()=>{const _0x59789e=_0x533191;closeActionSheet(),updateSeriesBatch(_0x59789e(0x205),tempSessionData);};else _0x3a86e8===_0x533191(0x238)&&(_0x2e23bc['textContent']=_0x533191(0x1f4),_0x1cd564[_0x533191(0x306)]='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x1cd564[_0x533191(0x2cf)]='as-button\x20danger',_0x1cd564[_0x533191(0x2d0)]=()=>{closeActionSheet(),commitDelete('single',sessions['find'](_0x4f612f=>_0x4f612f['id']===editingId));},_0x1aade1['textContent']=_0x533191(0x2ba),_0x1aade1[_0x533191(0x2cf)]='as-button\x20danger\x20bold',_0x1aade1[_0x533191(0x2d0)]=()=>{const _0x175655=_0x533191;closeActionSheet(),commitDelete(_0x175655(0x205),sessions[_0x175655(0x2f8)](_0x1df97a=>_0x1df97a['id']===editingId));});}function closeActionSheet(){const _0x1f54ca=a2_0x22935b;document[_0x1f54ca(0x2da)](_0x1f54ca(0x328))['classList'][_0x1f54ca(0x277)](_0x1f54ca(0x21f)),document[_0x1f54ca(0x2da)](_0x1f54ca(0x338))[_0x1f54ca(0x2e4)][_0x1f54ca(0x277)]('active');}function openSettings(){const _0x196448=a2_0x22935b;openSheet(_0x196448(0x220));}function saveCoachSettings(){const _0x1e6601=a2_0x22935b,_0xa28449=document[_0x1e6601(0x2da)]('settingCancelWindow')[_0x1e6601(0x267)];localStorage[_0x1e6601(0x24b)](_0x1e6601(0x26c),_0xa28449),console[_0x1e6601(0x250)](_0x1e6601(0x22b),_0xa28449),DataManager[_0x1e6601(0x2f9)](_0x1e6601(0x34f),{'settings':{'cancel_window':_0xa28449}})[_0x1e6601(0x21c)](_0x11b49a=>{const _0x23bad2=_0x1e6601;console[_0x23bad2(0x332)](_0x23bad2(0x2ec),_0x11b49a),showToast(_0x23bad2(0x2ef),![]);});}function loadCoachSettings(){const _0x37bb02=a2_0x22935b,_0x4f8169=localStorage[_0x37bb02(0x1e1)](_0x37bb02(0x26c));_0x4f8169&&(document['getElementById'](_0x37bb02(0x317))['value']=_0x4f8169);}function openRangesSheet(){const _0x13c8fb=a2_0x22935b;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x13c8fb(0x1e9));}function addRange(){const _0x2966ad=a2_0x22935b,_0x28a12f=document['getElementById']('rangeStartDate')[_0x2966ad(0x267)],_0x2e3255=document[_0x2966ad(0x2da)](_0x2966ad(0x23b))[_0x2966ad(0x267)],_0x1724db=document[_0x2966ad(0x2da)](_0x2966ad(0x268))[_0x2966ad(0x267)],_0x38999c=document[_0x2966ad(0x2da)](_0x2966ad(0x30c))[_0x2966ad(0x267)];if(!_0x28a12f||!_0x2e3255||!_0x1724db||!_0x38999c)return alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è');const _0x27ae41=_0x28a12f+'T'+_0x2e3255,_0x34ade3=_0x1724db+'T'+_0x38999c;if(_0x27ae41>=_0x34ade3)return alert(_0x2966ad(0x1eb));specialRanges['push']({'start':_0x27ae41,'end':_0x34ade3}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x2966ad(0x1f3)](),DataManager[_0x2966ad(0x2f9)](_0x2966ad(0x34f),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x17b39e){const _0x29240d=a2_0x22935b;specialRanges[_0x29240d(0x296)](_0x17b39e,0x1),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager['fetchFromServer']('save_settings',{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x5e70ba=a2_0x22935b;document[_0x5e70ba(0x2da)](_0x5e70ba(0x226))[_0x5e70ba(0x267)]='',document[_0x5e70ba(0x2da)](_0x5e70ba(0x23b))[_0x5e70ba(0x267)]=_0x5e70ba(0x348),document[_0x5e70ba(0x2da)](_0x5e70ba(0x268))[_0x5e70ba(0x267)]='',document['getElementById'](_0x5e70ba(0x30c))[_0x5e70ba(0x267)]=_0x5e70ba(0x1fb);}function renderRangesList(){const _0x2d13b0=a2_0x22935b,_0x51c2a4=document[_0x2d13b0(0x2da)](_0x2d13b0(0x1fa));_0x51c2a4[_0x2d13b0(0x2b3)]='';if(!specialRanges[_0x2d13b0(0x298)]){_0x51c2a4['innerHTML']='<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>';return;}specialRanges[_0x2d13b0(0x304)]((_0x3ab9da,_0x1de1cc)=>{const _0xbf925f=_0x2d13b0,_0xbd2354=document['createElement'](_0xbf925f(0x347));_0xbd2354['className']=_0xbf925f(0x2db);const _0x1edf22=_0x2c53ac=>{const _0x3ab356=_0xbf925f,_0x325d5b=new Date(_0x2c53ac);return _0x325d5b['getDate']()+'.'+String(_0x325d5b[_0x3ab356(0x211)]()+0x1)[_0x3ab356(0x2bc)](0x2,'0')+'\x20'+String(_0x325d5b['getHours']())['padStart'](0x2,'0')+':'+String(_0x325d5b[_0x3ab356(0x1f2)]())[_0x3ab356(0x2bc)](0x2,'0');};_0xbd2354['innerHTML']=_0xbf925f(0x2c0)+_0x1edf22(_0x3ab9da[_0xbf925f(0x293)])+_0xbf925f(0x342)+_0x1edf22(_0x3ab9da['end'])+_0xbf925f(0x235)+_0x1de1cc+_0xbf925f(0x28a),_0x51c2a4[_0xbf925f(0x271)](_0xbd2354);});}function scrollToToday(){const _0x3dda67=a2_0x22935b,_0x40dc92=getLocalDateStr(new Date()),_0x248505=document[_0x3dda67(0x2da)](_0x3dda67(0x218)+_0x40dc92),_0x3c4eaa=document[_0x3dda67(0x2da)](_0x3dda67(0x26f));if(_0x248505&&_0x3c4eaa){const _0x544793=_0x3c4eaa[_0x3dda67(0x2cb)],_0x2a0d39=_0x248505[_0x3dda67(0x25a)],_0x4ec96f=_0x248505[_0x3dda67(0x31f)];_0x3c4eaa[_0x3dda67(0x335)]=_0x2a0d39-_0x544793/0x2+_0x4ec96f/0x2,_0x3c4eaa[_0x3dda67(0x243)]=0x9*GRID_H;}}function onScroll(){const _0x1c3624=a2_0x22935b,_0x5e887a=document[_0x1c3624(0x2da)](_0x1c3624(0x26f)),_0x20038=document[_0x1c3624(0x2dc)](_0x1c3624(0x2f4));for(let _0x13180f of _0x20038)if(_0x13180f[_0x1c3624(0x25a)]>=_0x5e887a[_0x1c3624(0x335)]){const _0x592a7d=new Date(_0x13180f['getAttribute'](_0x1c3624(0x1df)));document[_0x1c3624(0x2da)]('headerMonth')[_0x1c3624(0x306)]=_0x592a7d[_0x1c3624(0x20c)]('ru',{'month':_0x1c3624(0x24e)})[_0x1c3624(0x219)]()+'\x20'+_0x592a7d[_0x1c3624(0x2e8)]();break;}}function showToast(_0x431fc7,_0x5363b5=![]){const _0x2e0824=a2_0x22935b,_0x579c61=document[_0x2e0824(0x2da)]('toast');_0x579c61[_0x2e0824(0x2cf)]=_0x2e0824(0x2fc)+(_0x5363b5?'success':''),document[_0x2e0824(0x2da)]('toastTitle')[_0x2e0824(0x306)]=_0x5363b5?_0x2e0824(0x29e):_0x2e0824(0x2fe),document[_0x2e0824(0x2da)](_0x2e0824(0x307))[_0x2e0824(0x306)]=_0x431fc7,_0x579c61[_0x2e0824(0x2e4)][_0x2e0824(0x26d)]('show'),setTimeout(()=>{const _0x130d38=_0x2e0824;_0x579c61['classList'][_0x130d38(0x277)](_0x130d38(0x23c));},0xbb8);}function openDayOptions(_0x299cba,_0x245184){const _0x5f0af9=a2_0x22935b;selectedDayForOptions=_0x299cba,document[_0x5f0af9(0x2da)](_0x5f0af9(0x21d))[_0x5f0af9(0x306)]=_0x245184,openSheet(_0x5f0af9(0x264));}function toggleDayOff(){const _0x5d96d5=a2_0x22935b;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x5d96d5(0x34d),reRenderBlocks(),closeAllSheets(),DataManager[_0x5d96d5(0x1f3)](),DataManager[_0x5d96d5(0x2f9)](_0x5d96d5(0x34f),{'settings':{'exceptions':dateExceptions}}));}function a2_0x2f48(_0x310e13,_0x2af95c){_0x310e13=_0x310e13-0x1dc;const _0x341d1d=a2_0x4dc9();let _0x344636=_0x341d1d[_0x310e13];return _0x344636;}function clearDayOff(){const _0x531235=a2_0x22935b;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x531235(0x1f3)](),DataManager[_0x531235(0x2f9)](_0x531235(0x34f),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x534b31){const _0x559b92=a2_0x22935b;document[_0x559b92(0x2da)](_0x559b92(0x326))[_0x559b92(0x2e4)]['add'](_0x559b92(0x33a)),document[_0x559b92(0x2da)](_0x534b31)['classList'][_0x559b92(0x26d)](_0x559b92(0x21f));}function closeAllSheets(){const _0x2ce33d=a2_0x22935b;document[_0x2ce33d(0x2da)](_0x2ce33d(0x326))[_0x2ce33d(0x2e4)][_0x2ce33d(0x277)](_0x2ce33d(0x33a)),document[_0x2ce33d(0x2dc)](_0x2ce33d(0x2d2))[_0x2ce33d(0x304)](_0x23d875=>_0x23d875[_0x2ce33d(0x2e4)][_0x2ce33d(0x277)](_0x2ce33d(0x21f)));}function openPatternEditor(){const _0x43d28c=a2_0x22935b;closeAllSheets(),document[_0x43d28c(0x2da)](_0x43d28c(0x20f))['classList']['add'](_0x43d28c(0x21f)),renderPatternEditor();}function closePatternEditor(){const _0x1e919e=a2_0x22935b;document[_0x1e919e(0x2da)](_0x1e919e(0x20f))[_0x1e919e(0x2e4)][_0x1e919e(0x277)](_0x1e919e(0x21f));}function savePattern(){const _0x1bbbe1=a2_0x22935b;document['getElementById']('patternEditor')[_0x1bbbe1(0x2e4)][_0x1bbbe1(0x277)](_0x1bbbe1(0x21f)),reRenderBlocks(),DataManager[_0x1bbbe1(0x1f3)](),DataManager[_0x1bbbe1(0x2f9)]('save_settings',{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x1a473c=a2_0x22935b,_0x54866e=document['getElementById'](_0x1a473c(0x251));_0x54866e[_0x1a473c(0x2b3)]='';const _0x529e45=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x41f62d=document[_0x1a473c(0x1e2)](_0x1a473c(0x347));_0x41f62d[_0x1a473c(0x2cf)]=_0x1a473c(0x34a),_0x54866e['appendChild'](_0x41f62d),_0x529e45[_0x1a473c(0x304)]((_0xbdad4a,_0x4ef8ce)=>{const _0x3b843b=_0x1a473c,_0x5335fa=document[_0x3b843b(0x1e2)]('div');_0x5335fa[_0x3b843b(0x2cf)]=_0x3b843b(0x319),_0x5335fa[_0x3b843b(0x2b3)]=_0xbdad4a+_0x3b843b(0x26b),_0x5335fa[_0x3b843b(0x2d0)]=()=>toggleColPattern(_0x4ef8ce),_0x54866e[_0x3b843b(0x271)](_0x5335fa);});for(let _0x3e6923=0x0;_0x3e6923<0x18;_0x3e6923++){const _0x5c83aa=document[_0x1a473c(0x1e2)](_0x1a473c(0x347));_0x5c83aa[_0x1a473c(0x2cf)]=_0x1a473c(0x2c9),_0x5c83aa['innerHTML']=_0x1a473c(0x222)+String(_0x3e6923)['padStart'](0x2,'0')+_0x1a473c(0x2a0),_0x5c83aa['onclick']=()=>toggleRowPattern(_0x3e6923),_0x54866e[_0x1a473c(0x271)](_0x5c83aa);for(let _0x21fa9e=0x0;_0x21fa9e<0x7;_0x21fa9e++){const _0x4441de=document[_0x1a473c(0x1e2)](_0x1a473c(0x347)),_0x1ec0b5=(availabilityPattern[_0x21fa9e]||[])['includes'](_0x3e6923),_0x15102b=!_0x1ec0b5;_0x4441de['className']=_0x1a473c(0x1ef)+(_0x15102b?_0x1a473c(0x33a):''),_0x4441de['onclick']=()=>toggleSinglePattern(_0x21fa9e,_0x3e6923),_0x54866e[_0x1a473c(0x271)](_0x4441de);}}}function toggleSinglePattern(_0x3f8bc6,_0x1cd20e){const _0x562aee=a2_0x22935b;if(!availabilityPattern[_0x3f8bc6])availabilityPattern[_0x3f8bc6]=[];const _0xd64294=availabilityPattern[_0x3f8bc6],_0x303363=_0xd64294[_0x562aee(0x27b)](_0x1cd20e);_0x303363===-0x1?_0xd64294[_0x562aee(0x301)](_0x1cd20e):_0xd64294['splice'](_0x303363,0x1),renderPatternEditor();}function toggleColPattern(_0x433a4a){const _0x18198f=a2_0x22935b;if(!availabilityPattern[_0x433a4a])availabilityPattern[_0x433a4a]=[];const _0x3df1d1=availabilityPattern[_0x433a4a];_0x3df1d1[_0x18198f(0x298)]===0x0?availabilityPattern[_0x433a4a]=Array[_0x18198f(0x278)]({'length':0x18},(_0x15d0d7,_0x44b390)=>_0x44b390):availabilityPattern[_0x433a4a]=[],renderPatternEditor();}function toggleRowPattern(_0x20ab43){const _0x3b059b=a2_0x22935b;let _0x2cced6=!![];for(let _0x52b69f=0x0;_0x52b69f<0x7;_0x52b69f++){if((availabilityPattern[_0x52b69f]||[])[_0x3b059b(0x2cd)](_0x20ab43)){_0x2cced6=![];break;}}for(let _0x111e40=0x0;_0x111e40<0x7;_0x111e40++){if(!availabilityPattern[_0x111e40])availabilityPattern[_0x111e40]=[];const _0x22bb30=availabilityPattern[_0x111e40][_0x3b059b(0x27b)](_0x20ab43);if(_0x2cced6){if(_0x22bb30===-0x1)availabilityPattern[_0x111e40][_0x3b059b(0x301)](_0x20ab43);}else{if(_0x22bb30!==-0x1)availabilityPattern[_0x111e40][_0x3b059b(0x296)](_0x22bb30,0x1);}}renderPatternEditor();}function renderPCol(_0x340f50,_0x150533){const _0x50c7d0=a2_0x22935b;_0x340f50[_0x50c7d0(0x2b3)]='';const _0x24a8bd=Math[_0x50c7d0(0x288)](_0x340f50[_0x50c7d0(0x25a)]);(availabilityPattern[_0x150533]||[])[_0x50c7d0(0x304)](_0x43b858=>{const _0xcc605e=_0x50c7d0,_0x4ebfc8=document[_0xcc605e(0x1e2)](_0xcc605e(0x347));_0x4ebfc8[_0xcc605e(0x2cf)]=_0xcc605e(0x1e4);const _0x42e3d9=_0x43b858*GRID_H;_0x4ebfc8[_0xcc605e(0x25f)][_0xcc605e(0x30f)]=_0x42e3d9+'px',_0x4ebfc8[_0xcc605e(0x25f)][_0xcc605e(0x265)]='-'+_0x24a8bd+'px\x20-'+_0x42e3d9+'px',_0x4ebfc8[_0xcc605e(0x2d0)]=_0x13b5f6=>{const _0x584c2e=_0xcc605e;_0x13b5f6[_0x584c2e(0x29f)](),toggleSinglePattern(_0x150533,_0x43b858);},_0x340f50[_0xcc605e(0x271)](_0x4ebfc8);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x316c34=a2_0x22935b,_0x57591b=new Date(),_0x16b7c2=document['getElementById']('globalTimeLine'),_0x5ab197=document[_0x316c34(0x2da)](_0x316c34(0x2b8)),_0x154f44=(_0x57591b[_0x316c34(0x33c)]()*0x3c+_0x57591b[_0x316c34(0x1f2)]())/0x3c*GRID_H;_0x16b7c2[_0x316c34(0x25f)][_0x316c34(0x30f)]=_0x154f44+'px',_0x16b7c2[_0x316c34(0x25f)][_0x316c34(0x2fd)]=_0x316c34(0x26a),_0x5ab197['textContent']=String(_0x57591b[_0x316c34(0x33c)]())[_0x316c34(0x2bc)](0x2,'0')+':'+String(_0x57591b['getMinutes']())['padStart'](0x2,'0'),_0x5ab197[_0x316c34(0x25f)][_0x316c34(0x2fd)]=_0x316c34(0x26a),_0x5ab197[_0x316c34(0x25f)][_0x316c34(0x30f)]=_0x154f44+'px';}document['addEventListener'](a2_0x22935b(0x2af),init);function openDayOptions(_0x5b06ef){const _0x386eb1=a2_0x22935b;selectedDayForOptions=_0x5b06ef;const _0x2d06d3=new Date(_0x5b06ef),_0x17f726={'weekday':_0x386eb1(0x24e),'day':_0x386eb1(0x256),'month':_0x386eb1(0x24e),'year':_0x386eb1(0x256)},_0x2ea114=_0x2d06d3['toLocaleDateString'](_0x386eb1(0x248),_0x17f726);document[_0x386eb1(0x2da)](_0x386eb1(0x2a4))[_0x386eb1(0x306)]=_0x2ea114[_0x386eb1(0x1fd)](0x0)['toUpperCase']()+_0x2ea114['slice'](0x1);let _0x3f7fc8=_0x2d06d3[_0x386eb1(0x2e0)]()-0x1;if(_0x3f7fc8===-0x1)_0x3f7fc8=0x6;const _0x121a17=availabilityPattern[_0x3f7fc8]||[],_0x2e2e5e=0x18-_0x121a17[_0x386eb1(0x298)],_0x4c108e=_0x2e2e5e*0x3c,_0x400d30=sessions[_0x386eb1(0x259)](_0x1af4a6=>_0x1af4a6[_0x386eb1(0x2f1)]===_0x5b06ef&&_0x1af4a6['status']!==_0x386eb1(0x309));let _0x5a05fc=_0x400d30[_0x386eb1(0x297)](_0x29a839=>{const _0x5a7490=_0x386eb1,[_0xdb7651,_0x2f67ec]=_0x29a839[_0x5a7490(0x293)][_0x5a7490(0x334)](':')[_0x5a7490(0x297)](Number),[_0x31c97c,_0x4924ee]=_0x29a839[_0x5a7490(0x1f5)][_0x5a7490(0x334)](':')[_0x5a7490(0x297)](Number);return[_0xdb7651*0x3c+_0x2f67ec,_0x31c97c*0x3c+_0x4924ee];});_0x5a05fc[_0x386eb1(0x236)]((_0xcea9c9,_0x10b421)=>_0xcea9c9[0x0]-_0x10b421[0x0]);let _0x31f662=[];if(_0x5a05fc[_0x386eb1(0x298)]>0x0){let _0x270acc=_0x5a05fc[0x0];for(let _0x591e9f=0x1;_0x591e9f<_0x5a05fc[_0x386eb1(0x298)];_0x591e9f++){_0x5a05fc[_0x591e9f][0x0]<_0x270acc[0x1]?_0x270acc[0x1]=Math[_0x386eb1(0x22a)](_0x270acc[0x1],_0x5a05fc[_0x591e9f][0x1]):(_0x31f662['push'](_0x270acc),_0x270acc=_0x5a05fc[_0x591e9f]);}_0x31f662[_0x386eb1(0x301)](_0x270acc);}let _0x5d94a2=0x0;_0x31f662[_0x386eb1(0x304)](_0x259d08=>_0x5d94a2+=_0x259d08[0x1]-_0x259d08[0x0]),document[_0x386eb1(0x2da)](_0x386eb1(0x254))[_0x386eb1(0x306)]=formatMinsToHrs(_0x4c108e),document[_0x386eb1(0x2da)](_0x386eb1(0x2b5))['textContent']=formatMinsToHrs(_0x5d94a2);const _0x1a976b=_0x4c108e>0x0?Math['round'](_0x5d94a2/_0x4c108e*0x64):0x0,_0x1be86a=document[_0x386eb1(0x2da)]('doLoadPercent');_0x1be86a[_0x386eb1(0x306)]=_0x1a976b+'%';const _0x51b457=document[_0x386eb1(0x2da)](_0x386eb1(0x341));if(_0x1a976b>0x64)_0x1be86a[_0x386eb1(0x25f)][_0x386eb1(0x32e)]=_0x386eb1(0x272),_0x51b457['style'][_0x386eb1(0x294)]='rgba(255,\x2069,\x2058,\x200.3)';else _0x1a976b>0x50?(_0x1be86a['style'][_0x386eb1(0x32e)]='var(--acc-orange)',_0x51b457[_0x386eb1(0x25f)][_0x386eb1(0x294)]='rgba(255,\x20159,\x2010,\x200.3)'):(_0x1be86a['style'][_0x386eb1(0x32e)]=_0x386eb1(0x29c),_0x51b457[_0x386eb1(0x25f)]['borderColor']=_0x386eb1(0x32f));const _0xae28a4=document[_0x386eb1(0x2da)](_0x386eb1(0x229));_0xae28a4[_0x386eb1(0x2b3)]='';_0x400d30[_0x386eb1(0x298)]===0x0?_0xae28a4[_0x386eb1(0x2b3)]=_0x386eb1(0x32a):(_0x400d30[_0x386eb1(0x236)]((_0x507fad,_0x4e52a7)=>_0x507fad[_0x386eb1(0x293)][_0x386eb1(0x2fb)](_0x4e52a7[_0x386eb1(0x293)])),_0x400d30[_0x386eb1(0x304)](_0x1a01fb=>{const _0x3aac5a=_0x386eb1,_0x362cf9=clients[_0x3aac5a(0x2f8)](_0x3bc74e=>_0x3bc74e[_0x3aac5a(0x343)]===_0x1a01fb[_0x3aac5a(0x316)]),_0xbd2c4e=_0x362cf9?_0x362cf9[_0x3aac5a(0x32e)]:_0x3aac5a(0x23e),_0x12f498=_0x1a01fb['status']==='completed',_0x4bf7bf=_0x12f498?_0x3aac5a(0x283):'',_0xeee973=document[_0x3aac5a(0x1e2)](_0x3aac5a(0x347));_0xeee973['className']=_0x3aac5a(0x25c),_0xeee973[_0x3aac5a(0x25f)][_0x3aac5a(0x2b7)]=_0xbd2c4e,_0xeee973[_0x3aac5a(0x2b3)]=_0x3aac5a(0x274)+_0x1a01fb['start']+_0x3aac5a(0x339)+_0x1a01fb[_0x3aac5a(0x1f5)]+_0x3aac5a(0x206)+_0x1a01fb['client']+_0x3aac5a(0x34b)+_0x4bf7bf+_0x3aac5a(0x2c8),_0xae28a4[_0x3aac5a(0x271)](_0xeee973);}));const _0x52292e=document[_0x386eb1(0x2da)](_0x386eb1(0x25b)),_0x3266be=dateExceptions[_0x5b06ef]===_0x386eb1(0x34d);_0x3266be?(_0x52292e[_0x386eb1(0x306)]=_0x386eb1(0x21b),_0x52292e[_0x386eb1(0x2cf)]=_0x386eb1(0x276),_0x52292e[_0x386eb1(0x25f)][_0x386eb1(0x32e)]=_0x386eb1(0x29c),_0x52292e[_0x386eb1(0x25f)][_0x386eb1(0x2f5)]=_0x386eb1(0x349)):(_0x52292e[_0x386eb1(0x306)]=_0x386eb1(0x2d8),_0x52292e[_0x386eb1(0x2cf)]='btn-primary\x20btn-danger',_0x52292e[_0x386eb1(0x25f)]['color']=_0x386eb1(0x272),_0x52292e[_0x386eb1(0x25f)]['background']=_0x386eb1(0x32b)),openSheet(_0x386eb1(0x264));}let currentAnPeriod=a2_0x22935b(0x212);function openAnalytics(){const _0x534c28=a2_0x22935b,_0x597629=document['querySelector']('.period-switch\x20.p-btn');setAnalyticsPeriod(_0x534c28(0x212),_0x597629),closeAllSheets(),openSheet(_0x534c28(0x241));}function setAnalyticsPeriod(_0x2bba13,_0xf25b7b){const _0x3ede5c=a2_0x22935b;currentAnPeriod=_0x2bba13,document[_0x3ede5c(0x2dc)]('.period-switch\x20.p-btn')[_0x3ede5c(0x304)](_0x2e336d=>_0x2e336d['classList'][_0x3ede5c(0x277)]('active'));if(_0xf25b7b)_0xf25b7b[_0x3ede5c(0x2e4)][_0x3ede5c(0x26d)](_0x3ede5c(0x33a));const _0x150e09=document['getElementById'](_0x3ede5c(0x299));_0x150e09['style'][_0x3ede5c(0x2fd)]=_0x2bba13===_0x3ede5c(0x231)?'flex':'none';const _0x233c16=new Date();let _0x3625f7=new Date(),_0x463b5d=new Date();if(_0x2bba13===_0x3ede5c(0x212))_0x3625f7=getStartOfWeek(_0x233c16),_0x463b5d=new Date(_0x3625f7),_0x463b5d[_0x3ede5c(0x263)](_0x463b5d['getDate']()+0x6);else{if(_0x2bba13===_0x3ede5c(0x262))_0x3625f7=new Date(_0x233c16[_0x3ede5c(0x2e8)](),_0x233c16[_0x3ede5c(0x211)](),0x1),_0x463b5d=new Date(_0x233c16['getFullYear'](),_0x233c16[_0x3ede5c(0x211)]()+0x1,0x0);else{!document[_0x3ede5c(0x2da)](_0x3ede5c(0x23a))['value']&&(document[_0x3ede5c(0x2da)](_0x3ede5c(0x23a))[_0x3ede5c(0x267)]=getLocalDateStr(_0x233c16),document[_0x3ede5c(0x2da)](_0x3ede5c(0x31a))[_0x3ede5c(0x267)]=getLocalDateStr(_0x233c16));refreshAnalytics();return;}}document[_0x3ede5c(0x2da)](_0x3ede5c(0x23a))['value']=getLocalDateStr(_0x3625f7),document[_0x3ede5c(0x2da)]('anEnd')[_0x3ede5c(0x267)]=getLocalDateStr(_0x463b5d),refreshAnalytics();}function refreshAnalytics(){const _0x197bd9=a2_0x22935b,_0x29c65b=document[_0x197bd9(0x2da)](_0x197bd9(0x23a))['value'],_0x2dcf69=document['getElementById'](_0x197bd9(0x31a))['value'];if(!_0x29c65b||!_0x2dcf69)return;const _0x5f39d8=sessions['filter'](_0x4ecad8=>_0x4ecad8['dateStr']>=_0x29c65b&&_0x4ecad8[_0x197bd9(0x2f1)]<=_0x2dcf69&&_0x4ecad8[_0x197bd9(0x357)]!==_0x197bd9(0x309)),_0x51a611=_0x5f39d8[_0x197bd9(0x298)],_0x6a3224=_0x5f39d8[_0x197bd9(0x259)](_0x10b928=>_0x10b928[_0x197bd9(0x357)]==='completed')[_0x197bd9(0x298)],_0x127524=_0x51a611>0x0?Math['round'](_0x6a3224/_0x51a611*0x64):0x0;document['getElementById'](_0x197bd9(0x2ed))['textContent']=_0x127524+'%',document[_0x197bd9(0x2da)]('anTotalStats')[_0x197bd9(0x306)]=_0x6a3224+_0x197bd9(0x225)+_0x51a611+'\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ';const _0x29605a=document[_0x197bd9(0x2da)](_0x197bd9(0x2f2)),_0x48f33d=0x2*Math['PI']*0x23,_0x322b4c=_0x48f33d-_0x127524/0x64*_0x48f33d;_0x29605a[_0x197bd9(0x25f)][_0x197bd9(0x2aa)]=_0x322b4c;const _0x3dd2ba={};_0x5f39d8['forEach'](_0x17a8f1=>{const _0x506607=_0x197bd9;if(!_0x3dd2ba[_0x17a8f1[_0x506607(0x316)]]){const _0x1dc6c5=clients['find'](_0x4f7a95=>_0x4f7a95[_0x506607(0x343)]===_0x17a8f1[_0x506607(0x316)]);_0x3dd2ba[_0x17a8f1[_0x506607(0x316)]]={'total':0x0,'done':0x0,'color':_0x1dc6c5?_0x1dc6c5[_0x506607(0x32e)]:_0x506607(0x23e)};}_0x3dd2ba[_0x17a8f1[_0x506607(0x316)]][_0x506607(0x322)]++;if(_0x17a8f1['status']===_0x506607(0x289))_0x3dd2ba[_0x17a8f1[_0x506607(0x316)]]['done']++;});const _0x5e6765=document['getElementById']('analyticsList');_0x5e6765[_0x197bd9(0x2b3)]='';const _0x36af32=Object[_0x197bd9(0x1e8)](_0x3dd2ba)['sort']((_0x507899,_0x15bd5d)=>_0x15bd5d[0x1][_0x197bd9(0x322)]-_0x507899[0x1][_0x197bd9(0x322)]);if(_0x36af32['length']===0x0){_0x5e6765[_0x197bd9(0x2b3)]=_0x197bd9(0x345);return;}_0x36af32['forEach'](([_0x2026a1,_0x2c68f8])=>{const _0x128f3e=_0x197bd9,_0x3b0d9e=Math[_0x128f3e(0x288)](_0x2c68f8['done']/_0x2c68f8['total']*0x64),_0x138c64=document[_0x128f3e(0x1e2)](_0x128f3e(0x347));_0x138c64[_0x128f3e(0x2cf)]=_0x128f3e(0x31e),_0x138c64[_0x128f3e(0x25f)][_0x128f3e(0x2b7)]=_0x2c68f8[_0x128f3e(0x32e)],_0x138c64[_0x128f3e(0x2b3)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>'+_0x2026a1+_0x128f3e(0x1f8)+_0x2c68f8[_0x128f3e(0x295)]+_0x128f3e(0x350)+_0x2c68f8[_0x128f3e(0x322)]+_0x128f3e(0x2f3)+_0x3b0d9e+_0x128f3e(0x237),_0x5e6765['appendChild'](_0x138c64);});}function formatMinsToHrs(_0x211523){const _0x165504=a2_0x22935b;if(_0x211523===0x0)return'0';const _0x5f4d3d=Math[_0x165504(0x22c)](_0x211523/0x3c),_0x4df2fe=_0x211523%0x3c;if(_0x4df2fe===0x0)return _0x5f4d3d+'—á';return _0x5f4d3d+'—á\x20'+_0x4df2fe+'–º';}