const a2_0x46d66f=a2_0x2c81;(function(_0x3b48d0,_0x129162){const _0x479122=a2_0x2c81,_0x2e4500=_0x3b48d0();while(!![]){try{const _0x127856=parseInt(_0x479122(0x185))/0x1*(-parseInt(_0x479122(0x22b))/0x2)+parseInt(_0x479122(0x1ed))/0x3+-parseInt(_0x479122(0x2ec))/0x4+parseInt(_0x479122(0x2b1))/0x5+parseInt(_0x479122(0x175))/0x6*(-parseInt(_0x479122(0x179))/0x7)+parseInt(_0x479122(0x1ea))/0x8*(parseInt(_0x479122(0x192))/0x9)+-parseInt(_0x479122(0x17b))/0xa*(-parseInt(_0x479122(0x2b5))/0xb);if(_0x127856===_0x129162)break;else _0x2e4500['push'](_0x2e4500['shift']());}catch(_0x3106ad){_0x2e4500['push'](_0x2e4500['shift']());}}}(a2_0x3681,0xafc3a),function initTMA(){const _0x4e8f6c=a2_0x2c81;try{const _0x2d4158=window[_0x4e8f6c(0x209)]?.['WebApp'];if(!_0x2d4158)return;_0x2d4158[_0x4e8f6c(0x27a)](),_0x2d4158[_0x4e8f6c(0x199)]();try{_0x2d4158[_0x4e8f6c(0x172)](_0x4e8f6c(0x1be)),_0x2d4158[_0x4e8f6c(0x184)]&&_0x2d4158['setBackgroundColor'](_0x4e8f6c(0x1be));}catch(_0x13c46c){console[_0x4e8f6c(0x2d3)]('Error\x20setting\x20color:',_0x13c46c);}try{_0x2d4158[_0x4e8f6c(0x221)]&&(_0x2d4158[_0x4e8f6c(0x221)][_0x4e8f6c(0x1f4)](),_0x2d4158[_0x4e8f6c(0x221)]['offClick'](),_0x2d4158[_0x4e8f6c(0x221)][_0x4e8f6c(0x204)](function(){const _0x5001c8=_0x4e8f6c;window[_0x5001c8(0x2a2)][_0x5001c8(0x27d)]=_0x5001c8(0x1d0);}));}catch(_0xc1a2b5){console['log']('Error\x20setting\x20back\x20button:',_0xc1a2b5);}try{if(_0x2d4158[_0x4e8f6c(0x2e3)])_0x2d4158['disableVerticalSwipes']();}catch(_0x1cbf84){}}catch(_0x4bc88c){console['error']('Critical\x20TMA\x20Error:',_0x4bc88c);}}());function isAdmin(){const _0x2003c3=a2_0x2c81;try{const _0x2787b0=Number(window[_0x2003c3(0x209)]?.[_0x2003c3(0x20e)]?.[_0x2003c3(0x249)]?.[_0x2003c3(0x1ce)]?.['id']);return _0x2787b0===0xbaf7174;}catch(_0x1eac58){return![];}}const APP_VERSION='v9.0-BATCH-CALENDAR',API_URL=a2_0x46d66f(0x21a),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS='uc_clients_v9',KEY_SESSIONS=a2_0x46d66f(0x1b8),KEY_SETTINGS=a2_0x46d66f(0x2b8);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x280c7a=a2_0x46d66f;return window[_0x280c7a(0x209)]?.[_0x280c7a(0x20e)]?.['initDataUnsafe']?.[_0x280c7a(0x1ce)]?.['id']||_0x280c7a(0x2cb);},'saveLocally'(){const _0x39e7fa=a2_0x46d66f;try{localStorage['setItem'](KEY_CLIENTS,JSON[_0x39e7fa(0x2eb)](clients)),localStorage['setItem'](KEY_SESSIONS,JSON['stringify'](sessions)),localStorage[_0x39e7fa(0x1a9)](KEY_SETTINGS,JSON[_0x39e7fa(0x2eb)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x42af12){console[_0x39e7fa(0x289)](_0x39e7fa(0x2ed),_0x42af12);}},'loadLocal'(){const _0x586b28=a2_0x46d66f;try{const _0x36c9c4=localStorage[_0x586b28(0x259)](KEY_CLIENTS);if(_0x36c9c4)clients=JSON[_0x586b28(0x2db)](_0x36c9c4);const _0x2c8520=localStorage['getItem'](KEY_SESSIONS);if(_0x2c8520)sessions=JSON[_0x586b28(0x2db)](_0x2c8520);const _0x1b03f7=localStorage[_0x586b28(0x259)](KEY_SETTINGS);if(_0x1b03f7){const _0x468d9a=JSON[_0x586b28(0x2db)](_0x1b03f7);if(_0x468d9a[_0x586b28(0x281)])availabilityPattern=_0x468d9a[_0x586b28(0x281)];if(_0x468d9a['exceptions'])dateExceptions=_0x468d9a['exceptions'];if(_0x468d9a[_0x586b28(0x258)])specialRanges=_0x468d9a['ranges'];}else{for(let _0x13b0ca=0x0;_0x13b0ca<0x7;_0x13b0ca++)availabilityPattern[_0x13b0ca]=Array[_0x586b28(0x1e5)]({'length':0xc},(_0x531128,_0xbbccfb)=>_0xbbccfb+0x9);}}catch(_0x3c5e63){console[_0x586b28(0x289)](_0x586b28(0x194),_0x3c5e63);}},async 'fetchFromServer'(_0x5a6225,_0x50f6e8={}){const _0x58cea0=a2_0x46d66f,_0x46eae0=window['Telegram']?.[_0x58cea0(0x20e)],_0x494bdb={'action':_0x5a6225,'init_data':_0x46eae0?.[_0x58cea0(0x26b)]||'',..._0x50f6e8};try{const _0x4dcd4f=await fetch(API_URL,{'method':'POST','headers':{'Content-Type':_0x58cea0(0x29a)},'body':JSON[_0x58cea0(0x2eb)](_0x494bdb)}),_0x595188=await _0x4dcd4f[_0x58cea0(0x293)]();if(!_0x595188['ok'])throw new Error(_0x595188[_0x58cea0(0x289)]||_0x58cea0(0x212));return _0x595188['data'];}catch(_0x3b43a9){console[_0x58cea0(0x289)](_0x58cea0(0x2e6)+_0x5a6225+_0x58cea0(0x1c6),_0x3b43a9);throw _0x3b43a9;}},async 'syncLoad'(){const _0x5259cc=a2_0x46d66f,_0x5073df=new Date(),_0x5718c1=_0x5073df[_0x5259cc(0x2bd)]()+'-'+String(_0x5073df[_0x5259cc(0x282)]()+0x1)[_0x5259cc(0x267)](0x2,'0'),_0x259497=new Date(_0x5073df);_0x259497[_0x5259cc(0x215)](_0x5073df['getMonth']()+0x1);const _0x3154b2=_0x259497[_0x5259cc(0x2bd)]()+'-'+String(_0x259497[_0x5259cc(0x282)]()+0x1)[_0x5259cc(0x267)](0x2,'0'),_0x2bec1a=Date['now']();console[_0x5259cc(0x2d3)](_0x5259cc(0x1a3)+_0x5718c1+',\x20'+_0x3154b2+'...');try{const [_0x234afb,_0x1dde9b]=await Promise['all']([this[_0x5259cc(0x1d4)]('init_load',{'month_str':_0x5718c1}),this['fetchFromServer'](_0x5259cc(0x25e),{'month_str':_0x3154b2})]);if(lastUserActionTime>_0x2bec1a)return console['warn'](_0x5259cc(0x17e)),![];return this[_0x5259cc(0x27e)](_0x234afb,_0x5718c1),this[_0x5259cc(0x27e)](_0x1dde9b,_0x3154b2),this['saveLocally'](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x107e12){console[_0x5259cc(0x289)](_0x107e12);throw _0x107e12;}},'mergeServerData'(_0x244e7c,_0x3318d3){const _0x4979a6=a2_0x46d66f;if(!_0x244e7c)return;_0x244e7c[_0x4979a6(0x277)]&&Array[_0x4979a6(0x2cf)](_0x244e7c[_0x4979a6(0x277)])&&(clients=_0x244e7c[_0x4979a6(0x277)]);if(_0x244e7c['settings']){if(_0x244e7c[_0x4979a6(0x298)][_0x4979a6(0x281)])availabilityPattern=_0x244e7c[_0x4979a6(0x298)][_0x4979a6(0x281)];if(_0x244e7c['settings']['exceptions'])dateExceptions=_0x244e7c['settings'][_0x4979a6(0x20d)];if(_0x244e7c['settings'][_0x4979a6(0x258)])specialRanges=_0x244e7c[_0x4979a6(0x298)][_0x4979a6(0x258)];if(_0x244e7c[_0x4979a6(0x298)]['cancel_window']){localStorage['setItem'](_0x4979a6(0x1d9),_0x244e7c[_0x4979a6(0x298)]['cancel_window']);const _0x42f0df=document[_0x4979a6(0x231)]('settingCancelWindow');if(_0x42f0df)_0x42f0df[_0x4979a6(0x1ab)]=_0x244e7c['settings']['cancel_window'];}}_0x244e7c[_0x4979a6(0x269)]&&(sessions=sessions[_0x4979a6(0x254)](_0x163df6=>!_0x163df6[_0x4979a6(0x20a)][_0x4979a6(0x1df)](_0x3318d3)),Object['keys'](_0x244e7c['calendar'])[_0x4979a6(0x2d9)](_0x5b5fd3=>{const _0x585baf=_0x4979a6,_0x535efb=_0x244e7c[_0x585baf(0x269)][_0x5b5fd3];_0x535efb[_0x585baf(0x2d9)](_0x5b8bc6=>{const _0x22b006=_0x585baf,_0x3801f2=clients[_0x22b006(0x245)](_0x3671a9=>String(_0x3671a9['id'])===String(_0x5b8bc6['c']));sessions['push']({'id':_0x5b8bc6['i'],'clientId':_0x5b8bc6['c'],'client':_0x3801f2?_0x3801f2[_0x22b006(0x1cd)]:'Unknown','dateStr':_0x3318d3+'-'+_0x5b5fd3[_0x22b006(0x267)](0x2,'0'),'start':_0x5b8bc6['s'],'end':_0x5b8bc6['e'],'status':_0x5b8bc6['st']||_0x22b006(0x28f),'note':_0x5b8bc6['n']||'','seriesId':_0x5b8bc6[_0x22b006(0x244)]||null});});}));},async 'syncBatch'(_0x16055f){const _0x329c33=a2_0x46d66f,_0x1d3e7f=[...new Set(_0x16055f)],_0x4dabed=_0x1d3e7f[_0x329c33(0x265)](_0x352d8f=>{const _0x5ab76e=_0x329c33,_0xbefd56=sessions['filter'](_0x38722b=>_0x38722b[_0x5ab76e(0x20a)]===_0x352d8f&&_0x38722b[_0x5ab76e(0x1c0)]!=='deleted'),_0xf07b82=_0xbefd56[_0x5ab76e(0x265)](_0x8219=>({'i':_0x8219['id'],'c':_0x8219[_0x5ab76e(0x253)],'s':_0x8219[_0x5ab76e(0x18d)],'e':_0x8219[_0x5ab76e(0x2b0)],'st':_0x8219[_0x5ab76e(0x1c0)],'n':_0x8219[_0x5ab76e(0x1db)],'sid':_0x8219[_0x5ab76e(0x19f)]}));return{'date':_0x352d8f,'day_data':_0xf07b82};});if(_0x4dabed['length']===0x0)return;console[_0x329c33(0x2d3)](_0x329c33(0x17f)+_0x4dabed[_0x329c33(0x29c)]+_0x329c33(0x232)),await this['fetchFromServer']('batch_sync',{'changes':_0x4dabed});}};async function init(){const _0x4ef4cd=a2_0x46d66f;DataManager[_0x4ef4cd(0x1f6)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x4ef4cd(0x231)](_0x4ef4cd(0x2d1))['addEventListener'](_0x4ef4cd(0x1c8),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']()[_0x4ef4cd(0x2cc)](()=>{const _0x509e6e=_0x4ef4cd;showToast(_0x509e6e(0x2dd),!![]);})['catch'](_0x9de532=>{const _0x4ffb83=_0x4ef4cd;showToast(_0x4ffb83(0x239),![]);});}function generateId(){const _0x43bfa4=a2_0x46d66f;return Date['now']()['toString'](0x24)+Math[_0x43bfa4(0x286)]()[_0x43bfa4(0x1e8)](0x24)[_0x43bfa4(0x2af)](0x2,0x5);}function toggleSeriesInput(){const _0x3cdc90=a2_0x46d66f,_0x1c274d=document[_0x3cdc90(0x231)](_0x3cdc90(0x2e7))[_0x3cdc90(0x21d)],_0x4b76f3=document[_0x3cdc90(0x231)](_0x3cdc90(0x285));_0x4b76f3[_0x3cdc90(0x2a8)][_0x3cdc90(0x2c3)]=_0x1c274d?_0x3cdc90(0x23b):_0x3cdc90(0x176);const _0x30293a=document[_0x3cdc90(0x231)](_0x3cdc90(0x28d));_0x30293a[_0x3cdc90(0x2a8)][_0x3cdc90(0x262)]=_0x1c274d?_0x3cdc90(0x2ba):_0x3cdc90(0x1ac);}function openAddSession(_0x4a8ff6){const _0x1289cc=a2_0x46d66f;editingId=null,populateClientSelect(),document[_0x1289cc(0x231)](_0x1289cc(0x210))[_0x1289cc(0x2a4)]=_0x1289cc(0x20b),document['getElementById'](_0x1289cc(0x22f))[_0x1289cc(0x2a8)][_0x1289cc(0x2c3)]='none',document['getElementById'](_0x1289cc(0x1d7))[_0x1289cc(0x2a8)][_0x1289cc(0x2c3)]=_0x1289cc(0x176);const _0x2663eb=document[_0x1289cc(0x231)]('recurringOptionContainer'),_0x3ff01b=document[_0x1289cc(0x231)](_0x1289cc(0x285));_0x2663eb[_0x1289cc(0x2a8)][_0x1289cc(0x2c3)]=_0x1289cc(0x1d6),_0x2663eb[_0x1289cc(0x2a8)][_0x1289cc(0x262)]=_0x1289cc(0x1ac),document[_0x1289cc(0x231)](_0x1289cc(0x2e7))[_0x1289cc(0x21d)]=![],document[_0x1289cc(0x231)](_0x1289cc(0x2e8))[_0x1289cc(0x1ab)]=0x4,_0x3ff01b[_0x1289cc(0x2a8)][_0x1289cc(0x2c3)]=_0x1289cc(0x176),document[_0x1289cc(0x231)]('inpDate')[_0x1289cc(0x1ab)]=getLocalDateStr(_0x4a8ff6),updateDateDisplay();const _0x181f97=_0x4a8ff6[_0x1289cc(0x1f2)]();document[_0x1289cc(0x231)]('inpStart')['value']=String(_0x181f97)[_0x1289cc(0x267)](0x2,'0')+_0x1289cc(0x2c7),document[_0x1289cc(0x231)](_0x1289cc(0x26a))[_0x1289cc(0x1ab)]=String(_0x181f97+0x1)[_0x1289cc(0x267)](0x2,'0')+_0x1289cc(0x2c7),openSheet(_0x1289cc(0x25f));}function openEdit(_0x2b6283){const _0x47a37d=a2_0x46d66f;editingId=_0x2b6283['id'],populateClientSelect(),document[_0x47a37d(0x231)]('sheetTitle')[_0x47a37d(0x2a4)]=_0x47a37d(0x27b),document[_0x47a37d(0x231)](_0x47a37d(0x22f))['style'][_0x47a37d(0x2c3)]='block';const _0x18eaf9=document[_0x47a37d(0x231)]('btnStatusToggle');_0x18eaf9[_0x47a37d(0x2a8)][_0x47a37d(0x2c3)]=_0x47a37d(0x1d6);_0x2b6283[_0x47a37d(0x1c0)]==='completed'?(_0x18eaf9['className']='btn-status-toggle\x20undo-mode',_0x18eaf9[_0x47a37d(0x29d)]=_0x47a37d(0x23a)):(_0x18eaf9['className']='btn-status-toggle',_0x18eaf9[_0x47a37d(0x29d)]=_0x47a37d(0x284));const _0x1780d0=!!_0x2b6283[_0x47a37d(0x19f)];document['getElementById']('recurringOptionContainer')['style'][_0x47a37d(0x2c3)]=_0x47a37d(0x176),document[_0x47a37d(0x231)](_0x47a37d(0x285))[_0x47a37d(0x2a8)][_0x47a37d(0x2c3)]=_0x47a37d(0x176),_0x1780d0?(document[_0x47a37d(0x231)](_0x47a37d(0x26e))[_0x47a37d(0x2a8)]['display']=_0x47a37d(0x1d6),document[_0x47a37d(0x231)](_0x47a37d(0x26e))[_0x47a37d(0x23d)](_0x47a37d(0x1ae))[_0x47a37d(0x2a4)]=_0x47a37d(0x2d0)):document[_0x47a37d(0x231)](_0x47a37d(0x26e))[_0x47a37d(0x2a8)][_0x47a37d(0x2c3)]=_0x47a37d(0x176),document[_0x47a37d(0x231)]('inpClient')[_0x47a37d(0x1ab)]=_0x2b6283[_0x47a37d(0x171)],document[_0x47a37d(0x231)](_0x47a37d(0x193))['value']=_0x2b6283[_0x47a37d(0x20a)],document[_0x47a37d(0x231)](_0x47a37d(0x235))[_0x47a37d(0x1ab)]=_0x2b6283[_0x47a37d(0x18d)],document[_0x47a37d(0x231)](_0x47a37d(0x26a))[_0x47a37d(0x1ab)]=_0x2b6283['end'],document[_0x47a37d(0x231)](_0x47a37d(0x16f))[_0x47a37d(0x1ab)]=_0x2b6283[_0x47a37d(0x1db)]||'',updateDateDisplay(),openSheet(_0x47a37d(0x25f));}async function trySaveSession(){const _0x1c811f=a2_0x46d66f,_0x4d9b67=document[_0x1c811f(0x231)](_0x1c811f(0x2a6))[_0x1c811f(0x1ab)],_0x3eb8d1=document['getElementById'](_0x1c811f(0x193))[_0x1c811f(0x1ab)],_0x3e6de4=document[_0x1c811f(0x231)](_0x1c811f(0x235))[_0x1c811f(0x1ab)],_0x7736a=document[_0x1c811f(0x231)](_0x1c811f(0x26a))[_0x1c811f(0x1ab)],_0x547e64=document[_0x1c811f(0x231)]('inpNote')[_0x1c811f(0x1ab)],_0x4cdac8=document['getElementById'](_0x1c811f(0x2e7))[_0x1c811f(0x21d)];let _0x224259=0x4;if(_0x4cdac8){const _0x1e6fd2=parseInt(document[_0x1c811f(0x231)](_0x1c811f(0x2e8))[_0x1c811f(0x1ab)]);if(!_0x1e6fd2||_0x1e6fd2<0x2){showToast(_0x1c811f(0x2ca),![]);return;}if(_0x1e6fd2>0x64){showToast(_0x1c811f(0x263),![]);return;}_0x224259=_0x1e6fd2;}const _0x4272a6=clients['find'](_0x26bef4=>_0x26bef4[_0x1c811f(0x1cd)]===_0x4d9b67);if(!_0x4272a6){showToast(_0x1c811f(0x27f),![]);return;}const _0xc6abe6=validateAppointment(_0x3eb8d1,_0x3e6de4,_0x7736a,editingId,_0x4272a6['id']);if(!_0xc6abe6['valid']){showToast(_0xc6abe6[_0x1c811f(0x272)],![]);return;}_0xc6abe6['warning']&&showToast(_0xc6abe6[_0x1c811f(0x1f8)],![]);const _0x366b1c={'client':_0x4d9b67,'clientId':_0x4272a6['id'],'start':_0x3e6de4,'end':_0x7736a,'note':_0x547e64,'status':_0x1c811f(0x28f)},_0x241415=editingId?sessions['find'](_0x3ee4dd=>_0x3ee4dd['id']===editingId):null;if(_0x241415&&_0x241415[_0x1c811f(0x19f)]){tempSessionData={..._0x366b1c,'dateStr':_0x3eb8d1,'id':editingId,'seriesId':_0x241415['seriesId']},openActionSheet(_0x1c811f(0x292));return;}let _0x2ab9de=null;if(!editingId)_0x2ab9de=_0x1c811f(0x25a);else{if(_0x241415){if(String(_0x241415['clientId'])!==String(_0x4272a6['id']))console[_0x1c811f(0x2d3)]('[Notify]\x20Client\x20SWAP\x20detected'),NotificationManager[_0x1c811f(0x1c9)](_0x1c811f(0x1fa),_0x241415),_0x2ab9de=_0x1c811f(0x25a);else(_0x241415['start']!==_0x3e6de4||_0x241415[_0x1c811f(0x2b0)]!==_0x7736a||_0x241415[_0x1c811f(0x20a)]!==_0x3eb8d1)&&(_0x2ab9de=_0x1c811f(0x1f7));}}if(!editingId&&_0x4cdac8){createBatchSeries(_0x366b1c,_0x3eb8d1,_0x224259),NotificationManager[_0x1c811f(0x1c9)](_0x1c811f(0x25a),{..._0x366b1c,'dateStr':_0x3eb8d1});return;}lastUserActionTime=Date['now']();const _0x2d0e20={..._0x366b1c,'dateStr':_0x3eb8d1,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x2d0e20),_0x2ab9de&&NotificationManager[_0x1c811f(0x1c9)](_0x2ab9de,_0x2d0e20);}function toggleSessionStatus(){const _0x46d21a=a2_0x46d66f;lastUserActionTime=Date['now']();const _0x275738=sessions['find'](_0xd29cfb=>_0xd29cfb['id']===editingId);if(!_0x275738)return;const _0x4756cc=_0x275738[_0x46d21a(0x1c0)]===_0x46d21a(0x1d5)?'planned':'completed';_0x275738['status']=_0x4756cc,saveSingleSession(_0x275738),_0x4756cc===_0x46d21a(0x1d5)&&NotificationManager[_0x46d21a(0x1c9)]('complete',_0x275738),showToast(_0x4756cc===_0x46d21a(0x1d5)?_0x46d21a(0x211):_0x46d21a(0x1e6),!![]);}function validateAppointment(_0x4755f9,_0x17a89a,_0x14908f,_0x4da25d,_0x89fa48){const _0x58e2bc=a2_0x46d66f,[_0x3fa0d2,_0x109221]=_0x17a89a[_0x58e2bc(0x29f)](':')['map'](Number),[_0x704afb,_0x5dc464]=_0x14908f['split'](':')['map'](Number),_0x57facd=_0x3fa0d2*0x3c+_0x109221,_0x56f82f=_0x704afb*0x3c+_0x5dc464,_0x537c12=String(_0x89fa48);let _0x2d1828=![],_0x3e09f5='';for(let _0x425336 of sessions){if(_0x425336[_0x58e2bc(0x20a)]!==_0x4755f9)continue;if(_0x425336[_0x58e2bc(0x1c0)]===_0x58e2bc(0x2b3))continue;if(_0x4da25d&&String(_0x425336['id'])===String(_0x4da25d))continue;const [_0x32a0e3,_0x2bc0f1]=_0x425336[_0x58e2bc(0x18d)][_0x58e2bc(0x29f)](':')['map'](Number),[_0x17ce4,_0x39a55a]=_0x425336[_0x58e2bc(0x2b0)][_0x58e2bc(0x29f)](':')[_0x58e2bc(0x265)](Number),_0x3f1bb1=_0x32a0e3*0x3c+_0x2bc0f1,_0x1707c4=_0x17ce4*0x3c+_0x39a55a;if(Math[_0x58e2bc(0x2da)](_0x57facd,_0x3f1bb1)<Math[_0x58e2bc(0x28a)](_0x56f82f,_0x1707c4)){if(_0x425336[_0x58e2bc(0x253)]&&String(_0x425336[_0x58e2bc(0x253)])===_0x537c12)return{'valid':![],'msg':_0x58e2bc(0x218)+_0x425336[_0x58e2bc(0x171)]+_0x58e2bc(0x23e)};_0x2d1828=!![],_0x3e09f5=_0x425336['client'];}}if(_0x2d1828)return{'valid':!![],'warning':_0x58e2bc(0x190)+_0x3e09f5};return{'valid':!![]};}function saveSingleSession(_0x56d5b4){const _0x26819e=a2_0x46d66f;if(editingId){const _0x27122a=sessions[_0x26819e(0x1ee)](_0xf8cafd=>_0xf8cafd['id']===editingId);if(_0x27122a!==-0x1)sessions[_0x27122a]=_0x56d5b4;}else sessions[_0x26819e(0x25c)](_0x56d5b4);afterSaveAction([_0x56d5b4['dateStr']]);}function createBatchSeries(_0x1a889b,_0x504654,_0x234e5e){const _0x18da0e=a2_0x46d66f,_0x2068e4=generateId(),_0x137470=[],_0x4fca05=[];let _0x22182a=0x0,_0x5303d2=new Date(_0x504654);for(let _0x1a5c8b=0x0;_0x1a5c8b<_0x234e5e;_0x1a5c8b++){const _0x59b4e9=getLocalDateStr(_0x5303d2),_0x2e915e=validateAppointment(_0x59b4e9,_0x1a889b[_0x18da0e(0x18d)],_0x1a889b[_0x18da0e(0x2b0)],null,_0x1a889b['clientId']);if(!_0x2e915e[_0x18da0e(0x287)])console[_0x18da0e(0x2d3)]('[Series]\x20Skipped\x20'+_0x59b4e9+_0x18da0e(0x1a4)),_0x22182a++;else{const _0x289c71={..._0x1a889b,'id':generateId(),'dateStr':_0x59b4e9,'seriesId':_0x2068e4};_0x4fca05[_0x18da0e(0x25c)](_0x289c71),_0x137470[_0x18da0e(0x25c)](_0x59b4e9);}_0x5303d2[_0x18da0e(0x25d)](_0x5303d2[_0x18da0e(0x1ca)]()+0x7);}if(_0x4fca05['length']===0x0){showToast(_0x18da0e(0x230),![]);return;}sessions[_0x18da0e(0x25c)](..._0x4fca05),lastUserActionTime=Date[_0x18da0e(0x296)]();let _0x15835a=_0x18da0e(0x1ef)+_0x4fca05[_0x18da0e(0x29c)];_0x22182a>0x0&&(_0x15835a+=_0x18da0e(0x206)+_0x22182a+')'),showToast(_0x15835a,!![]),afterSaveAction(_0x137470);}function updateSeriesBatch(_0x9da593,_0x2668fa){const _0x463457=a2_0x46d66f,_0x10339a=[],_0x2d328d=_0x2668fa[_0x463457(0x19f)];if(_0x9da593===_0x463457(0x19b)){const _0x3d0e02={..._0x2668fa,'seriesId':null},_0x5768dc=sessions[_0x463457(0x1ee)](_0x2ccd3e=>_0x2ccd3e['id']===_0x2668fa['id']);if(_0x5768dc!==-0x1)sessions[_0x5768dc]=_0x3d0e02;_0x10339a[_0x463457(0x25c)](_0x3d0e02[_0x463457(0x20a)]);}else{if(_0x9da593==='series'){const _0x4f4cb4=_0x2668fa[_0x463457(0x20a)];sessions[_0x463457(0x2d9)]((_0x31d3d8,_0x2a542a)=>{const _0x11aae3=_0x463457;_0x31d3d8[_0x11aae3(0x19f)]===_0x2d328d&&_0x31d3d8[_0x11aae3(0x20a)]>=_0x4f4cb4&&(sessions[_0x2a542a]={...sessions[_0x2a542a],'start':_0x2668fa[_0x11aae3(0x18d)],'end':_0x2668fa[_0x11aae3(0x2b0)],'note':_0x2668fa[_0x11aae3(0x1db)],'client':_0x2668fa['client'],'clientId':_0x2668fa[_0x11aae3(0x253)]},_0x10339a[_0x11aae3(0x25c)](_0x31d3d8[_0x11aae3(0x20a)]));});}}afterSaveAction(_0x10339a);}function tryDeleteSession(){const _0x3243bd=a2_0x46d66f,_0x4459e4=sessions['find'](_0x2cbc3c=>_0x2cbc3c['id']===editingId);if(!_0x4459e4)return;_0x4459e4['seriesId']?openActionSheet(_0x3243bd(0x220)):commitDelete(_0x3243bd(0x19b),_0x4459e4);}function commitDelete(_0x5dad55,_0x13c7ca){const _0x1f606a=a2_0x46d66f;lastUserActionTime=Date['now'](),NotificationManager[_0x1f606a(0x1c9)]('cancel',_0x13c7ca);const _0xb0f59e=[];if(_0x5dad55===_0x1f606a(0x19b))sessions=sessions[_0x1f606a(0x254)](_0x4aa4c0=>_0x4aa4c0['id']!==_0x13c7ca['id']),_0xb0f59e[_0x1f606a(0x25c)](_0x13c7ca[_0x1f606a(0x20a)]);else{if(_0x5dad55===_0x1f606a(0x203)){const _0x4204f3=_0x13c7ca[_0x1f606a(0x20a)],_0x51d3cb=_0x13c7ca['seriesId'];sessions[_0x1f606a(0x2d9)](_0x13e0c1=>{const _0x948f79=_0x1f606a;_0x13e0c1[_0x948f79(0x19f)]===_0x51d3cb&&_0x13e0c1[_0x948f79(0x20a)]>=_0x4204f3&&_0xb0f59e['push'](_0x13e0c1[_0x948f79(0x20a)]);}),sessions=sessions['filter'](_0x18b335=>!(_0x18b335[_0x1f606a(0x19f)]===_0x51d3cb&&_0x18b335[_0x1f606a(0x20a)]>=_0x4204f3));}}afterSaveAction(_0xb0f59e);}function afterSaveAction(_0x526b5b){const _0x401429=a2_0x46d66f;DataManager[_0x401429(0x24a)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x401429(0x18a)](_0x526b5b)['then'](()=>console[_0x401429(0x2d3)](_0x401429(0x1af)))[_0x401429(0x19c)](_0x2b715d=>showToast(_0x401429(0x2bc),![]));}const NotificationManager={'formatDate'(_0x5c7e06){const _0x69e9d8=a2_0x46d66f,_0x1072be=new Date(_0x5c7e06),_0x11ea14={'weekday':_0x69e9d8(0x228),'day':_0x69e9d8(0x237),'month':'long'};let _0x477075=_0x1072be[_0x69e9d8(0x26f)]('ru-RU',_0x11ea14);return _0x477075[_0x69e9d8(0x17d)](0x0)['toUpperCase']()+_0x477075[_0x69e9d8(0x195)](0x1);},'getText'(_0x60821f,_0x1ff233){const _0x2cd7ad=a2_0x46d66f,_0x5e9cba=this[_0x2cd7ad(0x207)](_0x1ff233[_0x2cd7ad(0x20a)]);switch(_0x60821f){case _0x2cd7ad(0x25a):return _0x2cd7ad(0x217)+(_0x2cd7ad(0x242)+_0x5e9cba+'\x0a')+(_0x2cd7ad(0x1da)+_0x1ff233[_0x2cd7ad(0x18d)]+_0x2cd7ad(0x21f)+_0x1ff233[_0x2cd7ad(0x2b0)]+'\x0a\x0a')+_0x2cd7ad(0x252);case _0x2cd7ad(0x1f7):return'<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a'+_0x2cd7ad(0x227)+(_0x2cd7ad(0x186)+_0x1ff233[_0x2cd7ad(0x18d)]+_0x2cd7ad(0x21f)+_0x1ff233[_0x2cd7ad(0x2b0)]+'</b>\x0a\x0a')+(_0x2cd7ad(0x242)+_0x5e9cba);case _0x2cd7ad(0x1fa):return _0x2cd7ad(0x243)+(_0x2cd7ad(0x1d1)+_0x5e9cba+'\x20('+_0x1ff233[_0x2cd7ad(0x18d)]+_0x2cd7ad(0x23c));case _0x2cd7ad(0x1f3):return _0x2cd7ad(0x229)+_0x2cd7ad(0x22e)+'<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>';default:return'';}},async 'send'(_0x353110,_0xe99c21){const _0x5a8f29=a2_0x46d66f;console[_0x5a8f29(0x2d3)](_0x5a8f29(0x240),_0x353110,_0xe99c21);if(!_0xe99c21){console['error']('[Notify]\x20Error:\x20sessionData\x20is\x20null');return;}const _0xaba335=String(_0xe99c21['clientId']);console['log'](_0x5a8f29(0x2b7),_0xaba335);if(!_0xe99c21[_0x5a8f29(0x253)]||_0xaba335===_0x5a8f29(0x2d7)||_0xaba335===_0x5a8f29(0x236)){console[_0x5a8f29(0x289)](_0x5a8f29(0x183));if(_0xe99c21[_0x5a8f29(0x171)]){const _0x2358f1=clients[_0x5a8f29(0x245)](_0x3dfe44=>_0x3dfe44[_0x5a8f29(0x1cd)]===_0xe99c21['client']);if(_0x2358f1)return console[_0x5a8f29(0x2d3)](_0x5a8f29(0x2de),_0x2358f1['id']),this[_0x5a8f29(0x1c9)](_0x353110,{..._0xe99c21,'clientId':_0x2358f1['id']});}return;}if(_0xaba335['length']<0x5){console[_0x5a8f29(0x2e5)](_0x5a8f29(0x2cd),_0xaba335);return;}const _0x3c7743=this[_0x5a8f29(0x1bc)](_0x353110,_0xe99c21);if(!_0x3c7743){console[_0x5a8f29(0x289)](_0x5a8f29(0x196));return;}console['log'](_0x5a8f29(0x1fc)+_0xaba335+_0x5a8f29(0x180)),DataManager[_0x5a8f29(0x1d4)](_0x5a8f29(0x1dc),{'chatId':_0xaba335,'text':_0x3c7743})[_0x5a8f29(0x2cc)](_0x48c265=>console[_0x5a8f29(0x2d3)](_0x5a8f29(0x1bf),_0x48c265))[_0x5a8f29(0x19c)](_0x141536=>console[_0x5a8f29(0x289)]('[Notify]\x20Network\x20Failed',_0x141536));}};function getLocalDateStr(_0x85851b){const _0x428abe=a2_0x46d66f,_0x2f9b77=_0x85851b[_0x428abe(0x2bd)](),_0x551456=String(_0x85851b[_0x428abe(0x282)]()+0x1)[_0x428abe(0x267)](0x2,'0'),_0x37c201=String(_0x85851b[_0x428abe(0x1ca)]())[_0x428abe(0x267)](0x2,'0');return _0x2f9b77+'-'+_0x551456+'-'+_0x37c201;}function getDateStr(_0xad8030){const _0x12511f=a2_0x46d66f,_0x534b11=new Date();return _0x534b11['setDate'](_0x534b11[_0x12511f(0x1ca)]()+_0xad8030),getLocalDateStr(_0x534b11);}function getStartOfWeek(_0x29e577){const _0x26e900=a2_0x46d66f,_0x13407a=(function(){let _0x8807ff=!![];return function(_0x64fd03,_0x229665){const _0x20d247=_0x8807ff?function(){const _0x32bc76=a2_0x2c81;if(_0x229665){const _0x38d289=_0x229665[_0x32bc76(0x219)](_0x64fd03,arguments);return _0x229665=null,_0x38d289;}}:function(){};return _0x8807ff=![],_0x20d247;};}()),_0x2f4a4a=_0x13407a(this,function(){const _0x387670=a2_0x2c81;return _0x2f4a4a[_0x387670(0x1e8)]()[_0x387670(0x238)]('(((.+)+)+)+$')[_0x387670(0x1e8)]()[_0x387670(0x18f)](_0x2f4a4a)[_0x387670(0x238)](_0x387670(0x25b));});_0x2f4a4a();const _0x4795d2=new Date(_0x29e577),_0x9af264=_0x4795d2['getDay'](),_0x7529b2=_0x4795d2[_0x26e900(0x1ca)]()-_0x9af264+(_0x9af264===0x0?-0x6:0x1);return _0x4795d2['setDate'](_0x7529b2),_0x4795d2['setHours'](0x0,0x0,0x0,0x0),_0x4795d2;}function hexToRgba(_0x313980,_0x174d38){const _0x1c09f0=a2_0x46d66f;if(!_0x313980)return _0x1c09f0(0x213);let _0x1f1972=0x0,_0x5b3ae9=0x0,_0x37f944=0x0;if(_0x313980[_0x1c09f0(0x29c)]===0x4)_0x1f1972='0x'+_0x313980[0x1]+_0x313980[0x1],_0x5b3ae9='0x'+_0x313980[0x2]+_0x313980[0x2],_0x37f944='0x'+_0x313980[0x3]+_0x313980[0x3];else _0x313980[_0x1c09f0(0x29c)]===0x7&&(_0x1f1972='0x'+_0x313980[0x1]+_0x313980[0x2],_0x5b3ae9='0x'+_0x313980[0x3]+_0x313980[0x4],_0x37f944='0x'+_0x313980[0x5]+_0x313980[0x6]);return'rgba('+ +_0x1f1972+',\x20'+ +_0x5b3ae9+',\x20'+ +_0x37f944+',\x20'+_0x174d38+')';}function renderTimeColumn(){const _0x300ef5=a2_0x46d66f,_0x17f83a=document[_0x300ef5(0x231)](_0x300ef5(0x2aa)),_0x3fb010=document[_0x300ef5(0x231)](_0x300ef5(0x222));_0x17f83a[_0x300ef5(0x29d)]='',_0x17f83a[_0x300ef5(0x2c5)](_0x3fb010);for(let _0x4e4a76=0x0;_0x4e4a76<0x18;_0x4e4a76++){const _0xb55775=document[_0x300ef5(0x28c)](_0x300ef5(0x19e));_0xb55775[_0x300ef5(0x22c)]=_0x300ef5(0x1e3);if(_0x4e4a76>0x0)_0xb55775[_0x300ef5(0x29d)]=_0x300ef5(0x2ea)+String(_0x4e4a76)[_0x300ef5(0x267)](0x2,'0')+_0x300ef5(0x17c);_0x17f83a['appendChild'](_0xb55775);}}function renderDayRange(_0x696fa4,_0x4df91f){const _0x1d1bc8=a2_0x46d66f,_0x154b01=document[_0x1d1bc8(0x231)](_0x1d1bc8(0x188)),_0x518996=document['getElementById'](_0x1d1bc8(0x247)),_0x355043=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x156a00=new Date();_0x156a00[_0x1d1bc8(0x1d8)](0x0,0x0,0x0,0x0);const _0x277588=getLocalDateStr(new Date());for(let _0x4ad6ca=_0x696fa4;_0x4ad6ca<=_0x4df91f;_0x4ad6ca++){const _0x1cd0f5=new Date(_0x156a00);_0x1cd0f5['setDate'](_0x1cd0f5[_0x1d1bc8(0x1ca)]()+_0x4ad6ca);const _0x54936f=getLocalDateStr(_0x1cd0f5);let _0x3c6a8b=_0x1cd0f5[_0x1d1bc8(0x2ce)]()-0x1;if(_0x3c6a8b===-0x1)_0x3c6a8b=0x6;const _0x4bb4ef=_0x54936f===_0x277588,_0x216587=document[_0x1d1bc8(0x28c)]('div');_0x216587[_0x1d1bc8(0x22c)]='day-col-header\x20'+(_0x4bb4ef?'today':''),_0x216587['id']='header-'+_0x54936f,_0x216587[_0x1d1bc8(0x21b)](_0x1d1bc8(0x201),_0x54936f),_0x216587[_0x1d1bc8(0x29d)]=_0x1d1bc8(0x2b6)+_0x355043[_0x3c6a8b]+_0x1d1bc8(0x1e0)+_0x1cd0f5[_0x1d1bc8(0x1ca)]()+_0x1d1bc8(0x1b2)+_0x54936f+_0x1d1bc8(0x1de),_0x216587[_0x1d1bc8(0x241)]=()=>openDayOptions(_0x54936f,_0x355043[_0x3c6a8b]+'\x20'+_0x1cd0f5[_0x1d1bc8(0x1ca)]()),_0x154b01[_0x1d1bc8(0x2c5)](_0x216587);const _0x454c71=document[_0x1d1bc8(0x28c)](_0x1d1bc8(0x19e));_0x454c71['className']=_0x1d1bc8(0x28e)+(_0x4bb4ef?_0x1d1bc8(0x283):''),_0x454c71[_0x1d1bc8(0x21b)](_0x1d1bc8(0x201),_0x54936f),_0x454c71[_0x1d1bc8(0x21b)](_0x1d1bc8(0x2dc),_0x3c6a8b),renderEventsForColumn(_0x454c71,_0x54936f,_0x3c6a8b),attachLongPressHandler(_0x454c71,_0x1cd0f5),_0x518996[_0x1d1bc8(0x2c5)](_0x454c71),updateDayStats(_0x54936f);}}function reRenderBlocks(){const _0x21109a=a2_0x46d66f;document['querySelectorAll'](_0x21109a(0x18e))[_0x21109a(0x2d9)](_0x1d38c0=>{const _0x552dd1=_0x21109a;_0x1d38c0[_0x552dd1(0x2a7)](_0x552dd1(0x1b1))[_0x552dd1(0x2d9)](_0x6e2a57=>_0x6e2a57[_0x552dd1(0x214)]());const _0x4adb8c=_0x1d38c0[_0x552dd1(0x24e)]('data-date'),_0x43e6b5=parseInt(_0x1d38c0[_0x552dd1(0x24e)](_0x552dd1(0x2dc))),_0x5dfcc8=Math['round'](_0x1d38c0[_0x552dd1(0x295)]);(availabilityPattern[_0x43e6b5]||[])[_0x552dd1(0x2d9)](_0x326975=>{const _0x493917=_0x552dd1,_0x597cb2=document['createElement']('div');_0x597cb2[_0x493917(0x22c)]=_0x493917(0x24b);const _0x53636e=_0x326975*GRID_H;_0x597cb2[_0x493917(0x2a8)][_0x493917(0x200)]=_0x53636e+'px',_0x597cb2['style']['backgroundPosition']='-'+_0x5dfcc8+_0x493917(0x233)+_0x53636e+'px',_0x1d38c0['appendChild'](_0x597cb2);});if(specialRanges&&specialRanges['length']>0x0){const _0x621290=new Date(_0x4adb8c+_0x552dd1(0x24c))[_0x552dd1(0x2e0)](),_0x49d6ea=new Date(_0x4adb8c+'T23:59:59')['getTime']();specialRanges[_0x552dd1(0x2d9)](_0x5880c9=>{const _0x1775e9=_0x552dd1,_0x25efee=new Date(_0x5880c9[_0x1775e9(0x18d)])['getTime'](),_0x462e12=new Date(_0x5880c9[_0x1775e9(0x2b0)])['getTime'](),_0x3b5c9c=Math['max'](_0x621290,_0x25efee),_0x4a5dbf=Math[_0x1775e9(0x28a)](_0x49d6ea,_0x462e12);if(_0x3b5c9c<_0x4a5dbf){if(_0x3b5c9c<=_0x621290&&_0x4a5dbf>=_0x49d6ea-0xea60){if(!_0x1d38c0[_0x1775e9(0x23d)](_0x1775e9(0x1fd))){const _0x43a3a5=document['createElement']('div');_0x43a3a5['className']='day-off-overlay\x20stripe-bg',_0x43a3a5[_0x1775e9(0x2a8)]['backgroundPosition']='-'+_0x5dfcc8+_0x1775e9(0x1c4),_0x1d38c0[_0x1775e9(0x2c5)](_0x43a3a5);}}else{const _0x1c048e=(_0x3b5c9c-_0x621290)/0x36ee80*GRID_H,_0x52e753=(_0x4a5dbf-_0x3b5c9c)/0x36ee80*GRID_H,_0x569d92=document[_0x1775e9(0x28c)](_0x1775e9(0x19e));_0x569d92[_0x1775e9(0x22c)]='blocked-range-part\x20stripe-bg',_0x569d92[_0x1775e9(0x2a8)][_0x1775e9(0x200)]=_0x1c048e+'px',_0x569d92[_0x1775e9(0x2a8)]['height']=_0x52e753+'px',_0x569d92[_0x1775e9(0x2a8)][_0x1775e9(0x2e9)]='-'+_0x5dfcc8+'px\x20-'+_0x1c048e+'px',_0x1d38c0[_0x1775e9(0x2c5)](_0x569d92);}}});}if(dateExceptions[_0x4adb8c]==='off'){if(!_0x1d38c0['querySelector']('.day-off-overlay')){const _0xa108b4=document[_0x552dd1(0x28c)](_0x552dd1(0x19e));_0xa108b4['className']=_0x552dd1(0x280),_0xa108b4[_0x552dd1(0x2a8)][_0x552dd1(0x2e9)]='-'+_0x5dfcc8+_0x552dd1(0x1c4),_0x1d38c0['appendChild'](_0xa108b4);}}renderEventsForColumn(_0x1d38c0,_0x4adb8c,_0x43e6b5),updateDayStats(_0x4adb8c);});}function updateAllDayStats(){const _0x1feb3f=a2_0x46d66f;document['querySelectorAll'](_0x1feb3f(0x1f0))[_0x1feb3f(0x2d9)](_0x545fd7=>{const _0x4117ec=_0x1feb3f;updateDayStats(_0x545fd7[_0x4117ec(0x24e)]('data-date'));});}function updateDayStats(_0x25989c){const _0x4179a1=a2_0x46d66f,_0xf006d0=document[_0x4179a1(0x231)](_0x4179a1(0x2a5)+_0x25989c);if(!_0xf006d0)return;const _0x583779=new Date(_0x25989c);let _0x262487=_0x583779[_0x4179a1(0x2ce)]()-0x1;if(_0x262487===-0x1)_0x262487=0x6;if(dateExceptions[_0x25989c]===_0x4179a1(0x1c1)){_0xf006d0[_0x4179a1(0x2a8)]['display']=_0x4179a1(0x176);return;}const _0x54b095=availabilityPattern[_0x262487]||[],_0xfff20f=0x18-_0x54b095[_0x4179a1(0x29c)],_0x35d79b=_0xfff20f*0x3c,_0x79e0cd=sessions[_0x4179a1(0x254)](_0x7cc916=>_0x7cc916['dateStr']===_0x25989c&&_0x7cc916[_0x4179a1(0x1c0)]!=='cancelled');if(_0x79e0cd[_0x4179a1(0x29c)]===0x0){_0xf006d0[_0x4179a1(0x2a8)]['display']=_0x4179a1(0x176);return;}let _0x229e05=_0x79e0cd[_0x4179a1(0x265)](_0x362a08=>{const _0x1a97ab=_0x4179a1,[_0x22ac6e,_0x442ade]=_0x362a08[_0x1a97ab(0x18d)]['split'](':')['map'](Number),[_0x33673c,_0x39e093]=_0x362a08[_0x1a97ab(0x2b0)]['split'](':')[_0x1a97ab(0x265)](Number);return[_0x22ac6e*0x3c+_0x442ade,_0x33673c*0x3c+_0x39e093];});_0x229e05[_0x4179a1(0x20c)]((_0x299731,_0x59b618)=>_0x299731[0x0]-_0x59b618[0x0]);let _0x39e5fc=[];if(_0x229e05[_0x4179a1(0x29c)]>0x0){let _0x31befc=_0x229e05[0x0];for(let _0x4c12a9=0x1;_0x4c12a9<_0x229e05[_0x4179a1(0x29c)];_0x4c12a9++){_0x229e05[_0x4c12a9][0x0]<_0x31befc[0x1]?_0x31befc[0x1]=Math[_0x4179a1(0x2da)](_0x31befc[0x1],_0x229e05[_0x4c12a9][0x1]):(_0x39e5fc[_0x4179a1(0x25c)](_0x31befc),_0x31befc=_0x229e05[_0x4c12a9]);}_0x39e5fc[_0x4179a1(0x25c)](_0x31befc);}let _0x367ad7=0x0;_0x39e5fc[_0x4179a1(0x2d9)](_0x4b6584=>_0x367ad7+=_0x4b6584[0x1]-_0x4b6584[0x0]),_0xf006d0['style']['display']=_0x4179a1(0x1d6);const _0x32038e=_0xf006d0[_0x4179a1(0x23d)](_0x4179a1(0x1b5));if(_0x35d79b===0x0){_0x32038e[_0x4179a1(0x2a8)]['width']=_0x4179a1(0x26d),_0x32038e[_0x4179a1(0x2a8)][_0x4179a1(0x278)]=_0x4179a1(0x1fe);return;}const _0x1183c6=_0x367ad7/_0x35d79b*0x64;console['log']('['+_0x25989c+_0x4179a1(0x270)+_0xfff20f+'—á,\x20–ó–∞–Ω—è—Ç–æ:\x20'+_0x367ad7+_0x4179a1(0x2a9)+_0x1183c6[_0x4179a1(0x1e4)](0x1)+'%'),_0x1183c6>0x64?(_0x32038e[_0x4179a1(0x2a8)][_0x4179a1(0x1aa)]='100%',_0x32038e['style']['background']=_0x4179a1(0x1fe)):(_0x32038e[_0x4179a1(0x2a8)][_0x4179a1(0x1aa)]=_0x1183c6+'%',_0x32038e[_0x4179a1(0x2a8)][_0x4179a1(0x278)]=_0x4179a1(0x170));}function renderEventsForColumn(_0x5d862b,_0x317594,_0x509547){const _0x527005=a2_0x46d66f,_0x47965e=sessions['filter'](_0x5bc3b9=>_0x5bc3b9['dateStr']===_0x317594),_0x107bba=_0x47965e[_0x527005(0x265)](_0x48493b=>{const _0x37ed4f=_0x527005,[_0x229f14,_0x4c83eb]=_0x48493b[_0x37ed4f(0x18d)]['split'](':')[_0x37ed4f(0x265)](Number),[_0x306f66,_0x3fab03]=_0x48493b[_0x37ed4f(0x2b0)][_0x37ed4f(0x29f)](':')['map'](Number);return{'data':_0x48493b,'start':_0x229f14*0x3c+_0x4c83eb,'end':_0x306f66*0x3c+_0x3fab03,'colIndex':0x0};});_0x107bba[_0x527005(0x20c)]((_0x329188,_0x1a875b)=>{const _0x51956d=_0x527005;if(_0x329188[_0x51956d(0x18d)]!==_0x1a875b[_0x51956d(0x18d)])return _0x329188[_0x51956d(0x18d)]-_0x1a875b[_0x51956d(0x18d)];return _0x1a875b[_0x51956d(0x2b0)]-_0x1a875b['start']-(_0x329188[_0x51956d(0x2b0)]-_0x329188[_0x51956d(0x18d)]);});const _0x3e99b8=[];_0x107bba[_0x527005(0x2d9)](_0x428ef8=>{const _0x453c33=_0x527005;let _0x115e03=![];for(let _0x9a92e5=0x0;_0x9a92e5<_0x3e99b8[_0x453c33(0x29c)];_0x9a92e5++){const _0x528ede=_0x3e99b8[_0x9a92e5],_0x169781=_0x528ede[_0x528ede[_0x453c33(0x29c)]-0x1];if(_0x428ef8['start']>=_0x169781['end']){_0x528ede['push'](_0x428ef8),_0x428ef8[_0x453c33(0x181)]=_0x9a92e5,_0x115e03=!![];break;}}!_0x115e03&&(_0x3e99b8[_0x453c33(0x25c)]([_0x428ef8]),_0x428ef8[_0x453c33(0x181)]=_0x3e99b8['length']-0x1);}),_0x107bba['forEach'](_0x1ab611=>{const _0x39c90a=_0x527005;let _0x14e401=0x0;_0x107bba[_0x39c90a(0x2d9)](_0x13c750=>{const _0x47dd36=_0x39c90a;if(Math[_0x47dd36(0x2da)](_0x1ab611[_0x47dd36(0x18d)],_0x13c750[_0x47dd36(0x18d)])<Math[_0x47dd36(0x28a)](_0x1ab611[_0x47dd36(0x2b0)],_0x13c750[_0x47dd36(0x2b0)])){if(_0x13c750[_0x47dd36(0x181)]>_0x14e401)_0x14e401=_0x13c750['colIndex'];}});const _0x12179d=_0x14e401+0x1,_0x317372=0x64/_0x12179d,_0x14a506=_0x1ab611[_0x39c90a(0x181)]*_0x317372,_0x5d3660=createEventEl(_0x1ab611['data']);_0x5d3660[_0x39c90a(0x2a8)][_0x39c90a(0x1aa)]=_0x39c90a(0x2a3)+_0x317372+'%\x20-\x204px)',_0x5d3660['style']['left']='calc('+_0x14a506+'%\x20+\x202px)',_0x5d3660[_0x39c90a(0x2a8)][_0x39c90a(0x2c2)]=0xa+_0x1ab611[_0x39c90a(0x181)],_0x317372<0x55&&_0x5d3660[_0x39c90a(0x205)][_0x39c90a(0x23f)](_0x39c90a(0x257)),_0x5d862b[_0x39c90a(0x2c5)](_0x5d3660);});}function createEventEl(_0x1e7c44){const _0xe48937=a2_0x46d66f,[_0x58fc11,_0x392934]=_0x1e7c44[_0xe48937(0x18d)]['split'](':')[_0xe48937(0x265)](Number),[_0x1492cd,_0x191b98]=_0x1e7c44[_0xe48937(0x2b0)][_0xe48937(0x29f)](':')[_0xe48937(0x265)](Number),_0x419d6e=(_0x58fc11*0x3c+_0x392934)/0x3c*GRID_H,_0x42da76=(_0x1492cd*0x3c+_0x191b98-(_0x58fc11*0x3c+_0x392934))/0x3c*GRID_H,_0xb42a9a=document[_0xe48937(0x28c)]('div'),_0x55ec12=_0x1e7c44[_0xe48937(0x1c0)]===_0xe48937(0x1d5)?_0xe48937(0x24d):'';_0xb42a9a[_0xe48937(0x22c)]=_0xe48937(0x2d2)+_0x55ec12,_0xb42a9a[_0xe48937(0x2a8)][_0xe48937(0x200)]=_0x419d6e+'px',_0xb42a9a[_0xe48937(0x2a8)][_0xe48937(0x1d2)]=Math[_0xe48937(0x2da)](_0x42da76,0x14)+'px';const _0xba76f3=clients[_0xe48937(0x245)](_0x2b20eb=>_0x1e7c44[_0xe48937(0x253)]&&String(_0x2b20eb['id'])===String(_0x1e7c44[_0xe48937(0x253)])||_0x2b20eb[_0xe48937(0x1cd)]===_0x1e7c44[_0xe48937(0x171)]),_0xb87038=_0xba76f3?_0xba76f3[_0xe48937(0x1cb)]:_0xe48937(0x288);_0xb42a9a[_0xe48937(0x2a8)]['borderLeftColor']=_0xb87038,_0xb42a9a['style'][_0xe48937(0x2a1)]=hexToRgba(_0xb87038,0.85);let _0x39b7c4='<div\x20class=\x22ev-title\x22>'+_0x1e7c44[_0xe48937(0x171)]+_0xe48937(0x1e1)+_0x1e7c44[_0xe48937(0x18d)]+'\x20-\x20'+_0x1e7c44[_0xe48937(0x2b0)]+_0xe48937(0x1ba);return _0x1e7c44[_0xe48937(0x19f)]&&(_0x39b7c4+=_0xe48937(0x18c)),_0x1e7c44[_0xe48937(0x1c0)]===_0xe48937(0x1d5)&&(_0x39b7c4+=_0xe48937(0x1bd)),_0xb42a9a[_0xe48937(0x29d)]=_0x39b7c4,_0xb42a9a['onclick']=_0x321fab=>{const _0x5d006a=_0xe48937;_0x321fab[_0x5d006a(0x290)](),openEdit(_0x1e7c44);},_0xb42a9a;}function attachLongPressHandler(_0x54c3a8,_0x36d9aa){const _0x16543b=a2_0x46d66f;let _0x5de841=0x0,_0x46b15e=null;const _0x5cad9c=_0x52dc0f=>{const _0x29e5fb=a2_0x2c81;if(_0x52dc0f[_0x29e5fb(0x29e)][_0x29e5fb(0x24f)]('.event-card'))return;isScrolling=![],_0x5de841=_0x52dc0f[_0x29e5fb(0x1b6)]?_0x52dc0f[_0x29e5fb(0x1b6)][0x0][_0x29e5fb(0x2b2)]:_0x52dc0f['clientY'],_0x46b15e=setTimeout(()=>{const _0x3b3b0b=_0x29e5fb;if(!isScrolling){navigator['vibrate']?.(0x32);const _0x2b8ddc=_0x54c3a8[_0x3b3b0b(0x182)](),_0x35ba9a=Math[_0x3b3b0b(0x279)]((_0x5de841-_0x2b8ddc[_0x3b3b0b(0x200)])/GRID_H);_0x36d9aa[_0x3b3b0b(0x1d8)](_0x35ba9a,0x0),openAddSession(_0x36d9aa);}},0x1f4);},_0x5cc0c6=()=>{isScrolling=!![],clearTimeout(_0x46b15e);},_0x256e25=()=>{clearTimeout(_0x46b15e);};_0x54c3a8[_0x16543b(0x2c4)]('touchstart',_0x5cad9c,{'passive':!![]}),_0x54c3a8[_0x16543b(0x2c4)](_0x16543b(0x1e9),_0x5cc0c6,{'passive':!![]}),_0x54c3a8[_0x16543b(0x2c4)](_0x16543b(0x260),_0x256e25),_0x54c3a8[_0x16543b(0x2c4)](_0x16543b(0x248),_0x5cad9c),_0x54c3a8['addEventListener'](_0x16543b(0x1b7),_0x5cc0c6),_0x54c3a8[_0x16543b(0x2c4)](_0x16543b(0x264),_0x256e25);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x23f7ed=a2_0x46d66f,_0x54e675=document['getElementById'](_0x23f7ed(0x2d1)),_0x108cca=_0x54e675[_0x23f7ed(0x223)],_0x23d9d9=_0x54e675['scrollWidth'],_0x1f4d17=_0x54e675[_0x23f7ed(0x255)];if(_0x23d9d9-(_0x108cca+_0x1f4d17)<0x12c){const _0x5305ce=endOffset;endOffset+=0xe,renderDayRange(_0x5305ce+0x1,endOffset),reRenderBlocks();}if(_0x108cca<0x12c){const _0x3a1f5b=startOffset;startOffset-=0xe,prependDays(startOffset,_0x3a1f5b-0x1),_0x54e675[_0x23f7ed(0x223)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x13b70f,_0x4fb493){const _0x4a8c0b=a2_0x46d66f,_0x4a7688=document[_0x4a8c0b(0x231)]('daysHeaderTrack'),_0x2a1e71=document[_0x4a8c0b(0x231)](_0x4a8c0b(0x247)),_0x174eb4=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1f4c82=new Date();_0x1f4c82[_0x4a8c0b(0x1d8)](0x0,0x0,0x0,0x0);const _0x5d67db=getLocalDateStr(new Date()),_0x29eeb1=document['createDocumentFragment'](),_0xfd695d=document[_0x4a8c0b(0x1a1)]();for(let _0x191746=_0x13b70f;_0x191746<=_0x4fb493;_0x191746++){const _0x3a7c94=new Date(_0x1f4c82);_0x3a7c94[_0x4a8c0b(0x25d)](_0x3a7c94[_0x4a8c0b(0x1ca)]()+_0x191746);const _0x16f2a3=getLocalDateStr(_0x3a7c94);let _0x529c6e=_0x3a7c94[_0x4a8c0b(0x2ce)]()-0x1;if(_0x529c6e===-0x1)_0x529c6e=0x6;const _0x6b8e13=_0x16f2a3===_0x5d67db,_0x1410ac=document['createElement']('div');_0x1410ac[_0x4a8c0b(0x22c)]='day-col-header\x20'+(_0x6b8e13?_0x4a8c0b(0x283):''),_0x1410ac['id']='header-'+_0x16f2a3,_0x1410ac[_0x4a8c0b(0x21b)](_0x4a8c0b(0x201),_0x16f2a3),_0x1410ac[_0x4a8c0b(0x29d)]=_0x4a8c0b(0x2b6)+_0x174eb4[_0x529c6e]+_0x4a8c0b(0x1e0)+_0x3a7c94['getDate']()+_0x4a8c0b(0x1b2)+_0x16f2a3+_0x4a8c0b(0x1de),_0x1410ac[_0x4a8c0b(0x241)]=()=>openDayOptions(_0x16f2a3,_0x174eb4[_0x529c6e]+'\x20'+_0x3a7c94[_0x4a8c0b(0x1ca)]()),_0x29eeb1[_0x4a8c0b(0x2c5)](_0x1410ac);const _0x4493e1=document['createElement']('div');_0x4493e1[_0x4a8c0b(0x22c)]=_0x4a8c0b(0x28e)+(_0x6b8e13?'today':''),_0x4493e1[_0x4a8c0b(0x21b)](_0x4a8c0b(0x201),_0x16f2a3),_0x4493e1[_0x4a8c0b(0x21b)](_0x4a8c0b(0x2dc),_0x529c6e),renderEventsForColumn(_0x4493e1,_0x16f2a3,_0x529c6e),attachLongPressHandler(_0x4493e1,_0x3a7c94),_0xfd695d[_0x4a8c0b(0x2c5)](_0x4493e1),updateDayStats(_0x16f2a3);}_0x4a7688[_0x4a8c0b(0x261)](_0x29eeb1,_0x4a7688[_0x4a8c0b(0x2c9)]),_0x2a1e71[_0x4a8c0b(0x261)](_0xfd695d,_0x2a1e71[_0x4a8c0b(0x23d)]('.day-column'));}function validateAppointment(_0xf4fdfb,_0x3e31de,_0xcd30b5,_0x163815,_0x55ae5f){const _0x29c77b=a2_0x46d66f,[_0x1e9a4f,_0xc94ea9]=_0x3e31de[_0x29c77b(0x29f)](':')[_0x29c77b(0x265)](Number),[_0x2eca45,_0x48ae59]=_0xcd30b5['split'](':')[_0x29c77b(0x265)](Number),_0x121bf1=_0x1e9a4f*0x3c+_0xc94ea9,_0x41cf10=_0x2eca45*0x3c+_0x48ae59,_0x2118e4=String(_0x55ae5f);let _0x3f616a=![],_0x42d792='';for(let _0x3b8653 of sessions){if(_0x3b8653[_0x29c77b(0x20a)]!==_0xf4fdfb)continue;if(_0x3b8653[_0x29c77b(0x1c0)]===_0x29c77b(0x2b3))continue;if(_0x163815&&String(_0x3b8653['id'])===String(_0x163815))continue;const [_0x1dca5a,_0x2d4ad5]=_0x3b8653['start']['split'](':')[_0x29c77b(0x265)](Number),[_0x5d6636,_0x2392d5]=_0x3b8653['end'][_0x29c77b(0x29f)](':')['map'](Number),_0x45888b=_0x1dca5a*0x3c+_0x2d4ad5,_0x502150=_0x5d6636*0x3c+_0x2392d5;if(Math[_0x29c77b(0x2da)](_0x121bf1,_0x45888b)<Math[_0x29c77b(0x28a)](_0x41cf10,_0x502150)){if(_0x3b8653['clientId']&&String(_0x3b8653['clientId'])===_0x2118e4)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0x3b8653[_0x29c77b(0x171)]+_0x29c77b(0x23e)};_0x3f616a=!![],_0x42d792=_0x3b8653[_0x29c77b(0x171)];}}if(_0x3f616a)return{'valid':!![],'warning':_0x29c77b(0x190)+_0x42d792};return{'valid':!![]};}function updateDateDisplay(){const _0x59001d=a2_0x46d66f,_0x37127c=document[_0x59001d(0x231)](_0x59001d(0x193))[_0x59001d(0x1ab)],_0x3bc8d4=document[_0x59001d(0x231)](_0x59001d(0x297));if(!_0x37127c){_0x3bc8d4[_0x59001d(0x2a4)]='';return;}const [_0x55ebc8,_0x3b96e1,_0x101207]=_0x37127c[_0x59001d(0x29f)]('-')['map'](Number),_0x40c6a2=new Date(_0x55ebc8,_0x3b96e1-0x1,_0x101207),_0x13e29c={'weekday':_0x59001d(0x228),'day':_0x59001d(0x237),'month':_0x59001d(0x228),'year':_0x59001d(0x237)};let _0x581897=_0x40c6a2[_0x59001d(0x26f)](_0x59001d(0x1b9),_0x13e29c);_0x581897=_0x581897['charAt'](0x0)['toUpperCase']()+_0x581897[_0x59001d(0x195)](0x1),_0x3bc8d4[_0x59001d(0x2a4)]=_0x581897;}function a2_0x3681(){const _0x4a60a1=['indexOf','router.html','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','height','btn-primary\x20btn-danger','fetchFromServer','completed','flex','btnStatusToggle','setHours','uc_settings_cancel_window','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','note','send_notification','as-button\x20danger','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','startsWith','</div><div\x20class=\x22dch-num\x22>','</div><div\x20class=\x22ev-time\x22>','scrollTop','time-label','toFixed','from','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','entries','toString','touchmove','8125472OOWKmJ','[Settings]\x20Cancel\x20window\x20set\x20to:','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','3160896GmlUeD','findIndex','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','.day-col-header','toUpperCase','getHours','complete','show','btn-primary\x20btn-secondary','loadLocal','update','warning','round','cancel','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','.day-off-overlay','var(--acc-red)','anDonutCircle','top','data-date','doLoadPercent','series','onClick','classList','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','formatDate','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','Telegram','dateStr','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','sort','exceptions','WebApp','toLocaleString','sheetTitle','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','Server\x20Error','rgba(100,100,100,0.5)','remove','setMonth','rangesSheet','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','apply','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','setAttribute','doEventsList','checked','rgba(48,\x20209,\x2088,\x200.15)','\x20‚Äî\x20','delete','BackButton','timeLineBadge','scrollLeft','splice','as-button\x20danger\x20bold','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','long','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','dayOptionsSheet','2548892AmQHXV','className','actionSheet','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','btnDelete','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','getElementById','\x20days','px\x20-','save_settings','inpStart','null','numeric','search','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','block',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','querySelector',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','add','[Notify]\x20Attempting\x20to\x20send:','onclick','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','sid','find','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','gridColumns','mousedown','initDataUnsafe','saveLocally','blocked-slot\x20stripe-bg','T00:00:00','\x20status-completed','getAttribute','closest','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','actionSheetOverlay','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','clientId','filter','clientWidth','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','mini','ranges','getItem','create','(((.+)+)+)+$','push','setDate','init_load','sessionSheet','touchend','insertBefore','borderRadius','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','mouseup','map','anTotalStats','padStart','rangeEndTime','calendar','inpEnd','initData','settingCancelWindow','100%','patternInfoBox','toLocaleDateString',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','success','msg','peGrid','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','done','custom','clients','background','floor','ready','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','\x20-\x20','href','mergeServerData','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','day-off-overlay\x20stripe-bg','pattern','getMonth','today','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','seriesCountContainer','random','valid','#0a84ff','error','min','doDateHeader','createElement','recurringOptionContainer','day-column\x20','planned','stopPropagation','rgba(255,\x2069,\x2058,\x200.15)','save','json','patternEditor','offsetLeft','now','sheetDateSubtitle','settings','pe-cell\x20','text/plain;charset=UTF-8','DOMContentLoaded','length','innerHTML','target','split','anStart','backgroundColor','location','calc(','textContent','stat-','inpClient','querySelectorAll','style','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','timeColumn','anPercent','open','client-stat-card','rangeEndDate','substr','end','1412050ZxzQhX','clientY','cancelled','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','22YMChRV','<div\x20class=\x22dch-day\x22>','[Notify]\x20Detected\x20Client\x20ID:','uc_settings_v9','overlay','10px\x2010px\x200\x200','–ò–Ω—Ñ–æ','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','getFullYear','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','includes','pe-col-header','zIndex','display','addEventListener','appendChild','\x20<span\x20class=\x22arrow\x22>‚Üì</span>',':00',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','firstChild','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','guest','then','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','getDay','isArray','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','matrixViewport','event-card','log','range-item','total','option','undefined','#fff','forEach','max','parse','data-day-idx','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','globalTimeLine','getTime','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','pe-time-label','disableVerticalSwipes','text','warn','[API\x20','inpRecurring','inpSeriesCount','backgroundPosition','<span>','stringify','4437888gXddMW','Local\x20Save\x20Error','inpNote','var(--acc-current)','client','setHeaderColor','asBtnSeries','anCustomDates','663210EOcaqo','none','Save\x20settings\x20error:','localeCompare','14qNwDXp','getMinutes','4865960SwpHPd',':00</span>','charAt','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','...','colIndex','getBoundingClientRect','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','setBackgroundColor','1PbaduC','<b>‚úÖ\x20','00:00','daysHeaderTrack','borderColor','syncBatch','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','start','#gridColumns\x20.day-column','constructor','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','doWorkHours','9NMkJIG','inpDate','Local\x20Load\x20Error','slice','[Notify]\x20Error:\x20Text\x20generation\x20failed','23:59','anEnd','expand','settingsSheet','single','catch','borderLeftColor','div','seriesId','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','createDocumentFragment','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','[Sync]\x20Loading\x20',':\x20Client\x20already\x20booked','week','headerMonth','.sheet','toast','setItem','width','value','10px','de-item','.pib-text','Batch\x20Sync\x20OK','–£—Å–ø–µ—à–Ω–æ','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','active','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','.dch-stats-fill','touches','mousemove','uc_sessions_v9','ru-RU','</div>','strokeDashoffset','getText','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','#050505','[Notify]\x20Server\x20Response:','status','off','.period-switch\x20.p-btn','var(--acc-green)','px\x200px','rangeStartDate',']\x20Failed:','rangeStartTime','scroll','send','getDate','color','</span>\x20/\x20','name','user'];a2_0x3681=function(){return _0x4a60a1;};return a2_0x3681();}function autoSetEndTime(){const _0x308f62=a2_0x46d66f,_0x147716=document[_0x308f62(0x231)]('inpStart')[_0x308f62(0x1ab)];if(!_0x147716)return;const [_0x47c542,_0x29874e]=_0x147716[_0x308f62(0x29f)](':')['map'](Number);let _0xcf72e8=_0x47c542+0x1;if(_0xcf72e8>0x17)_0xcf72e8=0x0;const _0x3c91be=String(_0xcf72e8)[_0x308f62(0x267)](0x2,'0')+':'+String(_0x29874e)[_0x308f62(0x267)](0x2,'0');document[_0x308f62(0x231)](_0x308f62(0x26a))[_0x308f62(0x1ab)]=_0x3c91be;}function populateClientSelect(){const _0x3fd330=a2_0x46d66f,_0xa704df=document[_0x3fd330(0x231)](_0x3fd330(0x2a6));_0xa704df[_0x3fd330(0x29d)]='';if(clients[_0x3fd330(0x29c)]===0x0){const _0x95a558=document[_0x3fd330(0x28c)](_0x3fd330(0x2d6));_0x95a558[_0x3fd330(0x2e4)]=_0x3fd330(0x246),_0xa704df[_0x3fd330(0x2c5)](_0x95a558);return;}clients[_0x3fd330(0x2d9)](_0x357e61=>{const _0x52b116=_0x3fd330,_0x40ed44=document[_0x52b116(0x28c)](_0x52b116(0x2d6));_0x40ed44['value']=_0x357e61[_0x52b116(0x1cd)],_0x40ed44[_0x52b116(0x2a4)]=_0x357e61['name'],_0xa704df[_0x52b116(0x2c5)](_0x40ed44);});}function openActionSheet(_0x2aad5d){const _0x490b3c=a2_0x46d66f,_0x3727e1=document['getElementById']('actionSheet'),_0x4ca3f3=document[_0x490b3c(0x231)](_0x490b3c(0x251)),_0x4b2ad2=document['getElementById']('asTitle'),_0x306f1b=document[_0x490b3c(0x231)]('asBtnOne'),_0x52d622=document[_0x490b3c(0x231)](_0x490b3c(0x173));_0x4ca3f3['classList'][_0x490b3c(0x23f)](_0x490b3c(0x1b3)),_0x3727e1['classList'][_0x490b3c(0x23f)](_0x490b3c(0x2ac));if(_0x2aad5d===_0x490b3c(0x292))_0x4b2ad2['textContent']=_0x490b3c(0x18b),_0x306f1b[_0x490b3c(0x2a4)]=_0x490b3c(0x2be),_0x306f1b[_0x490b3c(0x241)]=()=>{const _0x22cc16=_0x490b3c;closeActionSheet(),updateSeriesBatch(_0x22cc16(0x19b),tempSessionData);},_0x52d622['textContent']=_0x490b3c(0x1a2),_0x52d622[_0x490b3c(0x241)]=()=>{const _0x33cb48=_0x490b3c;closeActionSheet(),updateSeriesBatch(_0x33cb48(0x203),tempSessionData);};else _0x2aad5d==='delete'&&(_0x4b2ad2[_0x490b3c(0x2a4)]='–£–¥–∞–ª–µ–Ω–∏–µ',_0x306f1b['textContent']=_0x490b3c(0x2be),_0x306f1b[_0x490b3c(0x22c)]=_0x490b3c(0x1dd),_0x306f1b['onclick']=()=>{const _0x1b7cfa=_0x490b3c;closeActionSheet(),commitDelete(_0x1b7cfa(0x19b),sessions[_0x1b7cfa(0x245)](_0x460d92=>_0x460d92['id']===editingId));},_0x52d622['textContent']=_0x490b3c(0x1a2),_0x52d622['className']=_0x490b3c(0x225),_0x52d622[_0x490b3c(0x241)]=()=>{closeActionSheet(),commitDelete('series',sessions['find'](_0x2ce620=>_0x2ce620['id']===editingId));});}function closeActionSheet(){const _0x8378bf=a2_0x46d66f;document[_0x8378bf(0x231)](_0x8378bf(0x22d))[_0x8378bf(0x205)][_0x8378bf(0x214)](_0x8378bf(0x2ac)),document['getElementById'](_0x8378bf(0x251))['classList']['remove']('active');}function openSettings(){const _0x1a5701=a2_0x46d66f;openSheet(_0x1a5701(0x19a));}function saveCoachSettings(){const _0x504d97=a2_0x46d66f,_0x4a376d=document[_0x504d97(0x231)](_0x504d97(0x26c))[_0x504d97(0x1ab)];localStorage['setItem'](_0x504d97(0x1d9),_0x4a376d),console[_0x504d97(0x2d3)](_0x504d97(0x1eb),_0x4a376d),DataManager[_0x504d97(0x1d4)]('save_settings',{'settings':{'cancel_window':_0x4a376d}})[_0x504d97(0x19c)](_0x4f159f=>{const _0x5037a3=_0x504d97;console['error'](_0x5037a3(0x177),_0x4f159f),showToast(_0x5037a3(0x274),![]);});}function loadCoachSettings(){const _0x434bd2=a2_0x46d66f,_0xb87776=localStorage[_0x434bd2(0x259)](_0x434bd2(0x1d9));_0xb87776&&(document[_0x434bd2(0x231)](_0x434bd2(0x26c))[_0x434bd2(0x1ab)]=_0xb87776);}function openRangesSheet(){const _0x2c93e9=a2_0x46d66f;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x2c93e9(0x216));}function addRange(){const _0x23679e=a2_0x46d66f,_0x2fd612=document[_0x23679e(0x231)](_0x23679e(0x1c5))[_0x23679e(0x1ab)],_0x579878=document[_0x23679e(0x231)](_0x23679e(0x1c7))[_0x23679e(0x1ab)],_0x5dc268=document[_0x23679e(0x231)](_0x23679e(0x2ae))[_0x23679e(0x1ab)],_0x2e5c63=document[_0x23679e(0x231)](_0x23679e(0x268))[_0x23679e(0x1ab)];if(!_0x2fd612||!_0x579878||!_0x5dc268||!_0x2e5c63)return alert(_0x23679e(0x256));const _0x5ddbc5=_0x2fd612+'T'+_0x579878,_0x5bfc84=_0x5dc268+'T'+_0x2e5c63;if(_0x5ddbc5>=_0x5bfc84)return alert(_0x23679e(0x2bf));specialRanges[_0x23679e(0x25c)]({'start':_0x5ddbc5,'end':_0x5bfc84}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x23679e(0x24a)](),DataManager[_0x23679e(0x1d4)](_0x23679e(0x234),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x4a482b){const _0x33f8c3=a2_0x46d66f;specialRanges[_0x33f8c3(0x224)](_0x4a482b,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x33f8c3(0x24a)](),DataManager['fetchFromServer']('save_settings',{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x44815a=a2_0x46d66f;document[_0x44815a(0x231)]('rangeStartDate')[_0x44815a(0x1ab)]='',document['getElementById'](_0x44815a(0x1c7))[_0x44815a(0x1ab)]=_0x44815a(0x187),document[_0x44815a(0x231)]('rangeEndDate')[_0x44815a(0x1ab)]='',document['getElementById'](_0x44815a(0x268))[_0x44815a(0x1ab)]=_0x44815a(0x197);}function renderRangesList(){const _0x13fe43=a2_0x46d66f,_0x24003a=document[_0x13fe43(0x231)]('rangesList');_0x24003a[_0x13fe43(0x29d)]='';if(!specialRanges['length']){_0x24003a[_0x13fe43(0x29d)]='<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>';return;}specialRanges['forEach']((_0x29a0b6,_0x5a9ccf)=>{const _0x41eaad=_0x13fe43,_0x2abc2d=document[_0x41eaad(0x28c)]('div');_0x2abc2d['className']=_0x41eaad(0x2d4);const _0x117864=_0x5a7cda=>{const _0x20a898=_0x41eaad,_0x426266=new Date(_0x5a7cda);return _0x426266[_0x20a898(0x1ca)]()+'.'+String(_0x426266[_0x20a898(0x282)]()+0x1)[_0x20a898(0x267)](0x2,'0')+'\x20'+String(_0x426266['getHours']())[_0x20a898(0x267)](0x2,'0')+':'+String(_0x426266['getMinutes']())[_0x20a898(0x267)](0x2,'0');};_0x2abc2d[_0x41eaad(0x29d)]=_0x41eaad(0x226)+_0x117864(_0x29a0b6[_0x41eaad(0x18d)])+_0x41eaad(0x21f)+_0x117864(_0x29a0b6[_0x41eaad(0x2b0)])+_0x41eaad(0x1a0)+_0x5a9ccf+_0x41eaad(0x2c8),_0x24003a[_0x41eaad(0x2c5)](_0x2abc2d);});}function scrollToToday(){const _0x9bb932=a2_0x46d66f,_0x2060e5=getLocalDateStr(new Date()),_0x11d94c=document[_0x9bb932(0x231)]('header-'+_0x2060e5),_0xadb853=document[_0x9bb932(0x231)](_0x9bb932(0x2d1));if(_0x11d94c&&_0xadb853){const _0xc0e911=_0xadb853[_0x9bb932(0x255)],_0x45faec=_0x11d94c[_0x9bb932(0x295)],_0x4d8658=_0x11d94c['offsetWidth'];_0xadb853['scrollLeft']=_0x45faec-_0xc0e911/0x2+_0x4d8658/0x2,_0xadb853[_0x9bb932(0x1e2)]=0x9*GRID_H;}}function onScroll(){const _0x6f50aa=a2_0x46d66f,_0x1913ba=document[_0x6f50aa(0x231)](_0x6f50aa(0x2d1)),_0x5df831=document[_0x6f50aa(0x2a7)](_0x6f50aa(0x1f0));for(let _0x47a46b of _0x5df831)if(_0x47a46b['offsetLeft']>=_0x1913ba[_0x6f50aa(0x223)]){const _0x2a8240=new Date(_0x47a46b['getAttribute'](_0x6f50aa(0x201)));document['getElementById'](_0x6f50aa(0x1a6))[_0x6f50aa(0x2a4)]=_0x2a8240[_0x6f50aa(0x20f)]('ru',{'month':_0x6f50aa(0x228)})[_0x6f50aa(0x1f1)]()+'\x20'+_0x2a8240[_0x6f50aa(0x2bd)]();break;}}function showToast(_0x5cb346,_0x3880d0=![]){const _0x174749=a2_0x46d66f,_0x19b427=document[_0x174749(0x231)](_0x174749(0x1a8));_0x19b427['className']='toast-notification\x20'+(_0x3880d0?_0x174749(0x271):''),document['getElementById']('toastTitle')[_0x174749(0x2a4)]=_0x3880d0?_0x174749(0x1b0):_0x174749(0x2bb),document[_0x174749(0x231)]('toastMessage')[_0x174749(0x2a4)]=_0x5cb346,_0x19b427['classList'][_0x174749(0x23f)](_0x174749(0x1f4)),setTimeout(()=>{const _0x3774da=_0x174749;_0x19b427[_0x3774da(0x205)][_0x3774da(0x214)](_0x3774da(0x1f4));},0xbb8);}function openDayOptions(_0x367c47,_0x11038a){const _0x31b0fa=a2_0x46d66f;selectedDayForOptions=_0x367c47,document[_0x31b0fa(0x231)]('dayOptionsTitle')[_0x31b0fa(0x2a4)]=_0x11038a,openSheet(_0x31b0fa(0x22a));}function toggleDayOff(){const _0x3801a4=a2_0x46d66f;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x3801a4(0x1c1),reRenderBlocks(),closeAllSheets(),DataManager[_0x3801a4(0x24a)](),DataManager[_0x3801a4(0x1d4)](_0x3801a4(0x234),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x3cbb20=a2_0x46d66f;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x3cbb20(0x24a)](),DataManager['fetchFromServer']('save_settings',{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x1c5bef){const _0x1f70da=a2_0x46d66f;document[_0x1f70da(0x231)]('overlay')[_0x1f70da(0x205)][_0x1f70da(0x23f)]('active'),document[_0x1f70da(0x231)](_0x1c5bef)[_0x1f70da(0x205)]['add'](_0x1f70da(0x2ac));}function closeAllSheets(){const _0x5583f7=a2_0x46d66f;document[_0x5583f7(0x231)](_0x5583f7(0x2b9))[_0x5583f7(0x205)][_0x5583f7(0x214)]('active'),document[_0x5583f7(0x2a7)](_0x5583f7(0x1a7))[_0x5583f7(0x2d9)](_0x51558f=>_0x51558f[_0x5583f7(0x205)][_0x5583f7(0x214)](_0x5583f7(0x2ac)));}function openPatternEditor(){const _0x3cdc46=a2_0x46d66f;closeAllSheets(),document[_0x3cdc46(0x231)]('patternEditor')[_0x3cdc46(0x205)][_0x3cdc46(0x23f)](_0x3cdc46(0x2ac)),renderPatternEditor();}function closePatternEditor(){const _0x532111=a2_0x46d66f;document[_0x532111(0x231)](_0x532111(0x294))[_0x532111(0x205)]['remove'](_0x532111(0x2ac));}function savePattern(){const _0x106eda=a2_0x46d66f;document['getElementById'](_0x106eda(0x294))[_0x106eda(0x205)][_0x106eda(0x214)](_0x106eda(0x2ac)),reRenderBlocks(),DataManager[_0x106eda(0x24a)](),DataManager[_0x106eda(0x1d4)](_0x106eda(0x234),{'settings':{'pattern':availabilityPattern}});}function a2_0x2c81(_0x77f5be,_0x310da1){_0x77f5be=_0x77f5be-0x16f;const _0x435bb8=a2_0x3681();let _0x1defc9=_0x435bb8[_0x77f5be];return _0x1defc9;}function renderPatternEditor(){const _0x39fc71=a2_0x46d66f,_0x468a22=document['getElementById'](_0x39fc71(0x273));_0x468a22[_0x39fc71(0x29d)]='';const _0x362e49=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x7b7b02=document[_0x39fc71(0x28c)](_0x39fc71(0x19e));_0x7b7b02['className']='pe-corner',_0x468a22[_0x39fc71(0x2c5)](_0x7b7b02),_0x362e49[_0x39fc71(0x2d9)]((_0x3d9c88,_0x3b1d65)=>{const _0x4ca1fe=_0x39fc71,_0x1c9b3d=document['createElement'](_0x4ca1fe(0x19e));_0x1c9b3d['className']=_0x4ca1fe(0x2c1),_0x1c9b3d[_0x4ca1fe(0x29d)]=_0x3d9c88+_0x4ca1fe(0x2c6),_0x1c9b3d[_0x4ca1fe(0x241)]=()=>toggleColPattern(_0x3b1d65),_0x468a22[_0x4ca1fe(0x2c5)](_0x1c9b3d);});for(let _0x1de2ce=0x0;_0x1de2ce<0x18;_0x1de2ce++){const _0x45a077=document['createElement'](_0x39fc71(0x19e));_0x45a077[_0x39fc71(0x22c)]=_0x39fc71(0x2e2),_0x45a077[_0x39fc71(0x29d)]='<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>'+String(_0x1de2ce)[_0x39fc71(0x267)](0x2,'0')+_0x39fc71(0x2c7),_0x45a077[_0x39fc71(0x241)]=()=>toggleRowPattern(_0x1de2ce),_0x468a22['appendChild'](_0x45a077);for(let _0x4d6a71=0x0;_0x4d6a71<0x7;_0x4d6a71++){const _0x2d80b7=document[_0x39fc71(0x28c)](_0x39fc71(0x19e)),_0x2cb02=(availabilityPattern[_0x4d6a71]||[])[_0x39fc71(0x2c0)](_0x1de2ce),_0x5de321=!_0x2cb02;_0x2d80b7['className']=_0x39fc71(0x299)+(_0x5de321?_0x39fc71(0x1b3):''),_0x2d80b7[_0x39fc71(0x241)]=()=>toggleSinglePattern(_0x4d6a71,_0x1de2ce),_0x468a22[_0x39fc71(0x2c5)](_0x2d80b7);}}}function toggleSinglePattern(_0x5b074f,_0x2126bd){const _0x3664af=a2_0x46d66f;if(!availabilityPattern[_0x5b074f])availabilityPattern[_0x5b074f]=[];const _0x38fe65=availabilityPattern[_0x5b074f],_0x236751=_0x38fe65[_0x3664af(0x1cf)](_0x2126bd);_0x236751===-0x1?_0x38fe65[_0x3664af(0x25c)](_0x2126bd):_0x38fe65[_0x3664af(0x224)](_0x236751,0x1),renderPatternEditor();}function toggleColPattern(_0x3de099){const _0x9294ae=a2_0x46d66f;if(!availabilityPattern[_0x3de099])availabilityPattern[_0x3de099]=[];const _0x407ac8=availabilityPattern[_0x3de099];_0x407ac8['length']===0x0?availabilityPattern[_0x3de099]=Array[_0x9294ae(0x1e5)]({'length':0x18},(_0x349aad,_0xce884e)=>_0xce884e):availabilityPattern[_0x3de099]=[],renderPatternEditor();}function toggleRowPattern(_0x2bc898){const _0x4b5615=a2_0x46d66f;let _0x2ac3af=!![];for(let _0x39eea3=0x0;_0x39eea3<0x7;_0x39eea3++){if((availabilityPattern[_0x39eea3]||[])[_0x4b5615(0x2c0)](_0x2bc898)){_0x2ac3af=![];break;}}for(let _0x4141a1=0x0;_0x4141a1<0x7;_0x4141a1++){if(!availabilityPattern[_0x4141a1])availabilityPattern[_0x4141a1]=[];const _0x3221f9=availabilityPattern[_0x4141a1][_0x4b5615(0x1cf)](_0x2bc898);if(_0x2ac3af){if(_0x3221f9===-0x1)availabilityPattern[_0x4141a1][_0x4b5615(0x25c)](_0x2bc898);}else{if(_0x3221f9!==-0x1)availabilityPattern[_0x4141a1][_0x4b5615(0x224)](_0x3221f9,0x1);}}renderPatternEditor();}function renderPCol(_0x116ae1,_0x252fba){const _0x28d123=a2_0x46d66f;_0x116ae1[_0x28d123(0x29d)]='';const _0x1f04c0=Math['round'](_0x116ae1[_0x28d123(0x295)]);(availabilityPattern[_0x252fba]||[])[_0x28d123(0x2d9)](_0x4d664d=>{const _0x887acd=_0x28d123,_0x36f633=document['createElement'](_0x887acd(0x19e));_0x36f633[_0x887acd(0x22c)]='blocked-slot\x20stripe-bg';const _0x2e7c3a=_0x4d664d*GRID_H;_0x36f633['style']['top']=_0x2e7c3a+'px',_0x36f633['style'][_0x887acd(0x2e9)]='-'+_0x1f04c0+_0x887acd(0x233)+_0x2e7c3a+'px',_0x36f633[_0x887acd(0x241)]=_0xe666c4=>{const _0x3a9521=_0x887acd;_0xe666c4[_0x3a9521(0x290)](),toggleSinglePattern(_0x252fba,_0x4d664d);},_0x116ae1[_0x887acd(0x2c5)](_0x36f633);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x53f493=a2_0x46d66f,_0x408ff5=new Date(),_0x441d8e=document['getElementById'](_0x53f493(0x2df)),_0x1b42a6=document[_0x53f493(0x231)](_0x53f493(0x222)),_0x22675f=(_0x408ff5[_0x53f493(0x1f2)]()*0x3c+_0x408ff5[_0x53f493(0x17a)]())/0x3c*GRID_H;_0x441d8e[_0x53f493(0x2a8)][_0x53f493(0x200)]=_0x22675f+'px',_0x441d8e[_0x53f493(0x2a8)][_0x53f493(0x2c3)]=_0x53f493(0x23b),_0x1b42a6[_0x53f493(0x2a4)]=String(_0x408ff5[_0x53f493(0x1f2)]())[_0x53f493(0x267)](0x2,'0')+':'+String(_0x408ff5['getMinutes']())[_0x53f493(0x267)](0x2,'0'),_0x1b42a6['style']['display']=_0x53f493(0x23b),_0x1b42a6['style'][_0x53f493(0x200)]=_0x22675f+'px';}document[a2_0x46d66f(0x2c4)](a2_0x46d66f(0x29b),init);function openDayOptions(_0x2958f7){const _0x3eee43=a2_0x46d66f;selectedDayForOptions=_0x2958f7;const _0x4be13c=new Date(_0x2958f7),_0xc63510={'weekday':_0x3eee43(0x228),'day':_0x3eee43(0x237),'month':_0x3eee43(0x228),'year':_0x3eee43(0x237)},_0x412f64=_0x4be13c[_0x3eee43(0x26f)](_0x3eee43(0x1b9),_0xc63510);document[_0x3eee43(0x231)](_0x3eee43(0x28b))[_0x3eee43(0x2a4)]=_0x412f64['charAt'](0x0)[_0x3eee43(0x1f1)]()+_0x412f64[_0x3eee43(0x195)](0x1);let _0x500dfc=_0x4be13c['getDay']()-0x1;if(_0x500dfc===-0x1)_0x500dfc=0x6;const _0x60145a=availabilityPattern[_0x500dfc]||[],_0x5ac100=0x18-_0x60145a[_0x3eee43(0x29c)],_0x48a863=_0x5ac100*0x3c,_0x39aecc=sessions[_0x3eee43(0x254)](_0x1af481=>_0x1af481[_0x3eee43(0x20a)]===_0x2958f7&&_0x1af481[_0x3eee43(0x1c0)]!==_0x3eee43(0x2b3));let _0x3c254e=_0x39aecc[_0x3eee43(0x265)](_0x18566d=>{const _0x1d3b7d=_0x3eee43,[_0x461714,_0xf0bb06]=_0x18566d[_0x1d3b7d(0x18d)][_0x1d3b7d(0x29f)](':')['map'](Number),[_0x167552,_0x539c60]=_0x18566d[_0x1d3b7d(0x2b0)][_0x1d3b7d(0x29f)](':')[_0x1d3b7d(0x265)](Number);return[_0x461714*0x3c+_0xf0bb06,_0x167552*0x3c+_0x539c60];});_0x3c254e[_0x3eee43(0x20c)]((_0x2779f5,_0x309da1)=>_0x2779f5[0x0]-_0x309da1[0x0]);let _0x30cf9b=[];if(_0x3c254e[_0x3eee43(0x29c)]>0x0){let _0x2b272f=_0x3c254e[0x0];for(let _0xf63c19=0x1;_0xf63c19<_0x3c254e[_0x3eee43(0x29c)];_0xf63c19++){_0x3c254e[_0xf63c19][0x0]<_0x2b272f[0x1]?_0x2b272f[0x1]=Math[_0x3eee43(0x2da)](_0x2b272f[0x1],_0x3c254e[_0xf63c19][0x1]):(_0x30cf9b[_0x3eee43(0x25c)](_0x2b272f),_0x2b272f=_0x3c254e[_0xf63c19]);}_0x30cf9b['push'](_0x2b272f);}let _0x2b0b32=0x0;_0x30cf9b[_0x3eee43(0x2d9)](_0x355639=>_0x2b0b32+=_0x355639[0x1]-_0x355639[0x0]),document['getElementById'](_0x3eee43(0x191))[_0x3eee43(0x2a4)]=formatMinsToHrs(_0x48a863),document['getElementById']('doBusyHours')[_0x3eee43(0x2a4)]=formatMinsToHrs(_0x2b0b32);const _0x2022a8=_0x48a863>0x0?Math[_0x3eee43(0x1f9)](_0x2b0b32/_0x48a863*0x64):0x0,_0x3365ac=document['getElementById'](_0x3eee43(0x202));_0x3365ac[_0x3eee43(0x2a4)]=_0x2022a8+'%';const _0x91eddf=document[_0x3eee43(0x231)]('statLoadCard');if(_0x2022a8>0x64)_0x3365ac[_0x3eee43(0x2a8)][_0x3eee43(0x1cb)]='var(--acc-red)',_0x91eddf[_0x3eee43(0x2a8)][_0x3eee43(0x189)]='rgba(255,\x2069,\x2058,\x200.3)';else _0x2022a8>0x50?(_0x3365ac[_0x3eee43(0x2a8)]['color']='var(--acc-orange)',_0x91eddf[_0x3eee43(0x2a8)][_0x3eee43(0x189)]='rgba(255,\x20159,\x2010,\x200.3)'):(_0x3365ac[_0x3eee43(0x2a8)][_0x3eee43(0x1cb)]='var(--acc-green)',_0x91eddf[_0x3eee43(0x2a8)][_0x3eee43(0x189)]='rgba(255,255,255,0.05)');const _0x13953a=document[_0x3eee43(0x231)](_0x3eee43(0x21c));_0x13953a[_0x3eee43(0x29d)]='';_0x39aecc[_0x3eee43(0x29c)]===0x0?_0x13953a[_0x3eee43(0x29d)]=_0x3eee43(0x1b4):(_0x39aecc['sort']((_0x3e9a49,_0x2221fe)=>_0x3e9a49[_0x3eee43(0x18d)][_0x3eee43(0x178)](_0x2221fe[_0x3eee43(0x18d)])),_0x39aecc['forEach'](_0x474fa5=>{const _0x164850=_0x3eee43,_0x23a676=clients[_0x164850(0x245)](_0x2d9697=>_0x2d9697[_0x164850(0x1cd)]===_0x474fa5['client']),_0x443789=_0x23a676?_0x23a676[_0x164850(0x1cb)]:_0x164850(0x2d8),_0x56cdf5=_0x474fa5[_0x164850(0x1c0)]===_0x164850(0x1d5),_0x516869=_0x56cdf5?_0x164850(0x2e1):'',_0x37164c=document[_0x164850(0x28c)](_0x164850(0x19e));_0x37164c[_0x164850(0x22c)]=_0x164850(0x1ad),_0x37164c[_0x164850(0x2a8)][_0x164850(0x19d)]=_0x443789,_0x37164c[_0x164850(0x29d)]=_0x164850(0x208)+_0x474fa5[_0x164850(0x18d)]+_0x164850(0x27c)+_0x474fa5[_0x164850(0x2b0)]+_0x164850(0x1ec)+_0x474fa5['client']+_0x164850(0x250)+_0x516869+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x13953a[_0x164850(0x2c5)](_0x37164c);}));const _0x3ba68b=document[_0x3eee43(0x231)]('btnDayToggle'),_0x1acfe9=dateExceptions[_0x2958f7]==='off';_0x1acfe9?(_0x3ba68b['textContent']='–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º',_0x3ba68b[_0x3eee43(0x22c)]=_0x3eee43(0x1f5),_0x3ba68b['style'][_0x3eee43(0x1cb)]=_0x3eee43(0x1c3),_0x3ba68b[_0x3eee43(0x2a8)][_0x3eee43(0x278)]=_0x3eee43(0x21e)):(_0x3ba68b['textContent']='–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º',_0x3ba68b[_0x3eee43(0x22c)]=_0x3eee43(0x1d3),_0x3ba68b[_0x3eee43(0x2a8)][_0x3eee43(0x1cb)]=_0x3eee43(0x1fe),_0x3ba68b[_0x3eee43(0x2a8)][_0x3eee43(0x278)]=_0x3eee43(0x291)),openSheet(_0x3eee43(0x22a));}let currentAnPeriod=a2_0x46d66f(0x1a5);function openAnalytics(){const _0x414971=a2_0x46d66f,_0x1183ec=document[_0x414971(0x23d)](_0x414971(0x1c2));setAnalyticsPeriod(_0x414971(0x1a5),_0x1183ec),closeAllSheets(),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0xaeca63,_0x53eb8a){const _0x349273=a2_0x46d66f;currentAnPeriod=_0xaeca63,document['querySelectorAll'](_0x349273(0x1c2))['forEach'](_0x536ee7=>_0x536ee7['classList']['remove'](_0x349273(0x1b3)));if(_0x53eb8a)_0x53eb8a[_0x349273(0x205)][_0x349273(0x23f)](_0x349273(0x1b3));const _0x308053=document[_0x349273(0x231)](_0x349273(0x174));_0x308053['style'][_0x349273(0x2c3)]=_0xaeca63===_0x349273(0x276)?_0x349273(0x1d6):'none';const _0x1a9289=new Date();let _0x21effd=new Date(),_0x4454fc=new Date();if(_0xaeca63==='week')_0x21effd=getStartOfWeek(_0x1a9289),_0x4454fc=new Date(_0x21effd),_0x4454fc[_0x349273(0x25d)](_0x4454fc['getDate']()+0x6);else{if(_0xaeca63==='month')_0x21effd=new Date(_0x1a9289[_0x349273(0x2bd)](),_0x1a9289['getMonth'](),0x1),_0x4454fc=new Date(_0x1a9289[_0x349273(0x2bd)](),_0x1a9289[_0x349273(0x282)]()+0x1,0x0);else{!document[_0x349273(0x231)](_0x349273(0x2a0))[_0x349273(0x1ab)]&&(document['getElementById'](_0x349273(0x2a0))[_0x349273(0x1ab)]=getLocalDateStr(_0x1a9289),document[_0x349273(0x231)]('anEnd')['value']=getLocalDateStr(_0x1a9289));refreshAnalytics();return;}}document[_0x349273(0x231)](_0x349273(0x2a0))[_0x349273(0x1ab)]=getLocalDateStr(_0x21effd),document[_0x349273(0x231)](_0x349273(0x198))['value']=getLocalDateStr(_0x4454fc),refreshAnalytics();}function refreshAnalytics(){const _0x28ff33=a2_0x46d66f,_0x474196=document[_0x28ff33(0x231)](_0x28ff33(0x2a0))[_0x28ff33(0x1ab)],_0x4aa1d2=document['getElementById'](_0x28ff33(0x198))['value'];if(!_0x474196||!_0x4aa1d2)return;const _0x572841=sessions[_0x28ff33(0x254)](_0x5c6602=>_0x5c6602[_0x28ff33(0x20a)]>=_0x474196&&_0x5c6602[_0x28ff33(0x20a)]<=_0x4aa1d2&&_0x5c6602[_0x28ff33(0x1c0)]!=='cancelled'),_0x59cec7=_0x572841[_0x28ff33(0x29c)],_0x3199c9=_0x572841['filter'](_0xa8ba90=>_0xa8ba90['status']==='completed')['length'],_0x296480=_0x59cec7>0x0?Math[_0x28ff33(0x1f9)](_0x3199c9/_0x59cec7*0x64):0x0;document[_0x28ff33(0x231)](_0x28ff33(0x2ab))['textContent']=_0x296480+'%',document[_0x28ff33(0x231)](_0x28ff33(0x266))['textContent']=_0x3199c9+'\x20–∏–∑\x20'+_0x59cec7+'\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ';const _0x59c03d=document[_0x28ff33(0x231)](_0x28ff33(0x1ff)),_0x1c5481=0x2*Math['PI']*0x23,_0x32987c=_0x1c5481-_0x296480/0x64*_0x1c5481;_0x59c03d[_0x28ff33(0x2a8)][_0x28ff33(0x1bb)]=_0x32987c;const _0x58025c={};_0x572841['forEach'](_0x3d22ba=>{const _0x3f3711=_0x28ff33;if(!_0x58025c[_0x3d22ba[_0x3f3711(0x171)]]){const _0x3e694e=clients['find'](_0x2031f4=>_0x2031f4[_0x3f3711(0x1cd)]===_0x3d22ba[_0x3f3711(0x171)]);_0x58025c[_0x3d22ba['client']]={'total':0x0,'done':0x0,'color':_0x3e694e?_0x3e694e[_0x3f3711(0x1cb)]:_0x3f3711(0x2d8)};}_0x58025c[_0x3d22ba[_0x3f3711(0x171)]]['total']++;if(_0x3d22ba['status']===_0x3f3711(0x1d5))_0x58025c[_0x3d22ba['client']]['done']++;});const _0x46d12f=document[_0x28ff33(0x231)]('analyticsList');_0x46d12f[_0x28ff33(0x29d)]='';const _0x12bfc2=Object[_0x28ff33(0x1e7)](_0x58025c)[_0x28ff33(0x20c)]((_0x164ab8,_0x178e3c)=>_0x178e3c[0x1][_0x28ff33(0x2d5)]-_0x164ab8[0x1][_0x28ff33(0x2d5)]);if(_0x12bfc2['length']===0x0){_0x46d12f[_0x28ff33(0x29d)]=_0x28ff33(0x2b4);return;}_0x12bfc2[_0x28ff33(0x2d9)](([_0x278352,_0x39ad8b])=>{const _0x2dfd44=_0x28ff33,_0x57c819=Math[_0x2dfd44(0x1f9)](_0x39ad8b[_0x2dfd44(0x275)]/_0x39ad8b[_0x2dfd44(0x2d5)]*0x64),_0x5badd3=document[_0x2dfd44(0x28c)](_0x2dfd44(0x19e));_0x5badd3[_0x2dfd44(0x22c)]=_0x2dfd44(0x2ad),_0x5badd3[_0x2dfd44(0x2a8)][_0x2dfd44(0x19d)]=_0x39ad8b[_0x2dfd44(0x1cb)],_0x5badd3['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>'+_0x278352+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x39ad8b[_0x2dfd44(0x275)]+_0x2dfd44(0x1cc)+_0x39ad8b[_0x2dfd44(0x2d5)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x57c819+_0x2dfd44(0x1fb),_0x46d12f[_0x2dfd44(0x2c5)](_0x5badd3);});}function formatMinsToHrs(_0x5a3c33){const _0x1e5c84=a2_0x46d66f;if(_0x5a3c33===0x0)return'0';const _0x3e44de=Math[_0x1e5c84(0x279)](_0x5a3c33/0x3c),_0x2582eb=_0x5a3c33%0x3c;if(_0x2582eb===0x0)return _0x3e44de+'—á';return _0x3e44de+'—á\x20'+_0x2582eb+'–º';}