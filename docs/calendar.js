const a2_0x35e6b3=a2_0x2ba2;(function(_0x107653,_0x2dc3d0){const _0x55ebb1=a2_0x2ba2,_0xc2814d=_0x107653();while(!![]){try{const _0x58098d=-parseInt(_0x55ebb1(0x20b))/0x1+-parseInt(_0x55ebb1(0x26a))/0x2*(parseInt(_0x55ebb1(0x171))/0x3)+-parseInt(_0x55ebb1(0x13e))/0x4*(parseInt(_0x55ebb1(0x176))/0x5)+parseInt(_0x55ebb1(0x229))/0x6*(-parseInt(_0x55ebb1(0x279))/0x7)+-parseInt(_0x55ebb1(0x1ac))/0x8*(parseInt(_0x55ebb1(0x16f))/0x9)+parseInt(_0x55ebb1(0x183))/0xa*(parseInt(_0x55ebb1(0x1f5))/0xb)+parseInt(_0x55ebb1(0x13f))/0xc;if(_0x58098d===_0x2dc3d0)break;else _0xc2814d['push'](_0xc2814d['shift']());}catch(_0x29cfba){_0xc2814d['push'](_0xc2814d['shift']());}}}(a2_0x3aa4,0x78bdb),function initTMA(){const _0x366038=a2_0x2ba2;try{const _0x570856=window[_0x366038(0x22d)]?.[_0x366038(0x1d9)];if(!_0x570856)return;_0x570856[_0x366038(0x203)](),_0x570856[_0x366038(0x1b7)]();try{_0x570856['setHeaderColor']('#050505'),_0x570856[_0x366038(0x2aa)]&&_0x570856[_0x366038(0x2aa)](_0x366038(0x166));}catch(_0x10e95c){console[_0x366038(0x29d)](_0x366038(0x299),_0x10e95c);}try{_0x570856[_0x366038(0x1ff)]&&(_0x570856['BackButton'][_0x366038(0x1fb)](),_0x570856[_0x366038(0x1ff)][_0x366038(0x1dd)](),_0x570856[_0x366038(0x1ff)]['onClick'](function(){const _0x4ea107=_0x366038;window[_0x4ea107(0x154)][_0x4ea107(0x24b)]=_0x4ea107(0x2a2);}));}catch(_0x3d5543){console['log'](_0x366038(0x29f),_0x3d5543);}try{if(_0x570856[_0x366038(0x14d)])_0x570856[_0x366038(0x14d)]();}catch(_0x27ef1a){}}catch(_0x4b1376){console[_0x366038(0x1e5)]('Critical\x20TMA\x20Error:',_0x4b1376);}}());function isAdmin(){const _0x56b2d7=a2_0x2ba2;try{const _0x26aa33=Number(window['Telegram']?.[_0x56b2d7(0x1d9)]?.['initDataUnsafe']?.['user']?.['id']);return _0x26aa33===0xbaf7174;}catch(_0x2c13fa){return![];}}const APP_VERSION='v9.0-BATCH-CALENDAR',API_URL='https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec',GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x35e6b3(0x1e9),KEY_SESSIONS='uc_sessions_v9',KEY_SETTINGS=a2_0x35e6b3(0x1f2);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x2966dd=a2_0x35e6b3;return window['Telegram']?.[_0x2966dd(0x1d9)]?.[_0x2966dd(0x294)]?.[_0x2966dd(0x242)]?.['id']||_0x2966dd(0x141);},'saveLocally'(){const _0x445824=a2_0x35e6b3;try{localStorage[_0x445824(0x1c8)](KEY_CLIENTS,JSON[_0x445824(0x1a6)](clients)),localStorage['setItem'](KEY_SESSIONS,JSON[_0x445824(0x1a6)](sessions)),localStorage['setItem'](KEY_SETTINGS,JSON[_0x445824(0x1a6)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x2f2a16){console[_0x445824(0x1e5)]('Local\x20Save\x20Error',_0x2f2a16);}},'loadLocal'(){const _0x3a3cca=a2_0x35e6b3;try{const _0x54ea88=localStorage[_0x3a3cca(0x23f)](KEY_CLIENTS);if(_0x54ea88)clients=JSON['parse'](_0x54ea88);const _0x496eb9=localStorage['getItem'](KEY_SESSIONS);if(_0x496eb9)sessions=JSON[_0x3a3cca(0x1c2)](_0x496eb9);const _0x56809c=localStorage[_0x3a3cca(0x23f)](KEY_SETTINGS);if(_0x56809c){const _0x2bfae0=JSON['parse'](_0x56809c);if(_0x2bfae0[_0x3a3cca(0x15b)])availabilityPattern=_0x2bfae0[_0x3a3cca(0x15b)];if(_0x2bfae0[_0x3a3cca(0x251)])dateExceptions=_0x2bfae0[_0x3a3cca(0x251)];if(_0x2bfae0[_0x3a3cca(0x218)])specialRanges=_0x2bfae0[_0x3a3cca(0x218)];}else{for(let _0x56c36c=0x0;_0x56c36c<0x7;_0x56c36c++)availabilityPattern[_0x56c36c]=Array[_0x3a3cca(0x14b)]({'length':0xc},(_0x30a054,_0x3fbe92)=>_0x3fbe92+0x9);}}catch(_0x3f6aa7){console[_0x3a3cca(0x1e5)](_0x3a3cca(0x1de),_0x3f6aa7);}},async 'fetchFromServer'(_0x6d3bad,_0x5e2f85={}){const _0x4554dc=a2_0x35e6b3,_0xe90a3a=window[_0x4554dc(0x22d)]?.[_0x4554dc(0x1d9)],_0x430d5f={'action':_0x6d3bad,'init_data':_0xe90a3a?.[_0x4554dc(0x1d2)]||'',..._0x5e2f85};try{const _0x38938d=await fetch(API_URL,{'method':_0x4554dc(0x1e8),'headers':{'Content-Type':_0x4554dc(0x1e2)},'body':JSON[_0x4554dc(0x1a6)](_0x430d5f)}),_0x2148cb=await _0x38938d['json']();if(!_0x2148cb['ok'])throw new Error(_0x2148cb[_0x4554dc(0x1e5)]||_0x4554dc(0x15a));return _0x2148cb[_0x4554dc(0x185)];}catch(_0x50da49){console[_0x4554dc(0x1e5)](_0x4554dc(0x25e)+_0x6d3bad+_0x4554dc(0x1d0),_0x50da49);throw _0x50da49;}},async 'syncLoad'(){const _0x28e498=a2_0x35e6b3,_0x43ad55=new Date(),_0x173218=_0x43ad55[_0x28e498(0x238)]()+'-'+String(_0x43ad55[_0x28e498(0x274)]()+0x1)['padStart'](0x2,'0'),_0x41cbd2=new Date(_0x43ad55);_0x41cbd2['setMonth'](_0x43ad55[_0x28e498(0x274)]()+0x1);const _0x201c8d=_0x41cbd2['getFullYear']()+'-'+String(_0x41cbd2['getMonth']()+0x1)[_0x28e498(0x273)](0x2,'0'),_0x1d7f4c=Date['now']();console['log'](_0x28e498(0x249)+_0x173218+',\x20'+_0x201c8d+_0x28e498(0x199));try{const [_0x2bad84,_0x4065e8]=await Promise[_0x28e498(0x266)]([this[_0x28e498(0x202)](_0x28e498(0x2c7),{'month_str':_0x173218}),this[_0x28e498(0x202)](_0x28e498(0x2c7),{'month_str':_0x201c8d})]);if(lastUserActionTime>_0x1d7f4c)return console[_0x28e498(0x167)](_0x28e498(0x22b)),![];return this[_0x28e498(0x292)](_0x2bad84,_0x173218),this[_0x28e498(0x292)](_0x4065e8,_0x201c8d),this[_0x28e498(0x240)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x119807){console['error'](_0x119807);throw _0x119807;}},'mergeServerData'(_0xa6683b,_0x5b3be1){const _0x35dc01=a2_0x35e6b3;if(!_0xa6683b)return;_0xa6683b[_0x35dc01(0x241)]&&Array[_0x35dc01(0x2c3)](_0xa6683b[_0x35dc01(0x241)])&&(clients=_0xa6683b[_0x35dc01(0x241)]);if(_0xa6683b['settings']){if(_0xa6683b['settings'][_0x35dc01(0x15b)])availabilityPattern=_0xa6683b[_0x35dc01(0x182)]['pattern'];if(_0xa6683b[_0x35dc01(0x182)][_0x35dc01(0x251)])dateExceptions=_0xa6683b[_0x35dc01(0x182)]['exceptions'];if(_0xa6683b['settings'][_0x35dc01(0x218)])specialRanges=_0xa6683b['settings'][_0x35dc01(0x218)];if(_0xa6683b[_0x35dc01(0x182)][_0x35dc01(0x1c5)]){localStorage[_0x35dc01(0x1c8)](_0x35dc01(0x1f9),_0xa6683b[_0x35dc01(0x182)][_0x35dc01(0x1c5)]);const _0x433a49=document[_0x35dc01(0x226)](_0x35dc01(0x1cd));if(_0x433a49)_0x433a49[_0x35dc01(0x19e)]=_0xa6683b[_0x35dc01(0x182)][_0x35dc01(0x1c5)];}}_0xa6683b[_0x35dc01(0x15e)]&&(sessions=sessions[_0x35dc01(0x2b2)](_0x419679=>!_0x419679[_0x35dc01(0x1b5)][_0x35dc01(0x17c)](_0x5b3be1)),Object[_0x35dc01(0x19a)](_0xa6683b[_0x35dc01(0x15e)])[_0x35dc01(0x291)](_0x3a21b8=>{const _0x28cc06=_0x35dc01,_0x22d211=_0xa6683b[_0x28cc06(0x15e)][_0x3a21b8];_0x22d211['forEach'](_0x3716b3=>{const _0x20301a=_0x28cc06,_0x6108c1=clients[_0x20301a(0x1b9)](_0x5ab990=>String(_0x5ab990['id'])===String(_0x3716b3['c']));sessions[_0x20301a(0x29c)]({'id':_0x3716b3['i'],'clientId':_0x3716b3['c'],'client':_0x6108c1?_0x6108c1['name']:_0x20301a(0x252),'dateStr':_0x5b3be1+'-'+_0x3a21b8['padStart'](0x2,'0'),'start':_0x3716b3['s'],'end':_0x3716b3['e'],'status':_0x3716b3['st']||_0x20301a(0x212),'note':_0x3716b3['n']||'','seriesId':_0x3716b3[_0x20301a(0x18b)]||null});});}));},async 'syncBatch'(_0x5148aa){const _0x1170c1=a2_0x35e6b3,_0x22350b=[...new Set(_0x5148aa)],_0x20ff6d=_0x22350b[_0x1170c1(0x22c)](_0x1b3625=>{const _0x4ac1e9=_0x1170c1,_0x556785=sessions[_0x4ac1e9(0x2b2)](_0x352559=>_0x352559[_0x4ac1e9(0x1b5)]===_0x1b3625&&_0x352559[_0x4ac1e9(0x204)]!==_0x4ac1e9(0x197)),_0x35e1aa=_0x556785[_0x4ac1e9(0x22c)](_0x16c279=>({'i':_0x16c279['id'],'c':_0x16c279[_0x4ac1e9(0x296)],'s':_0x16c279['start'],'e':_0x16c279['end'],'st':_0x16c279[_0x4ac1e9(0x204)],'n':_0x16c279[_0x4ac1e9(0x1e1)],'sid':_0x16c279[_0x4ac1e9(0x267)]}));return{'date':_0x1b3625,'day_data':_0x35e1aa};});if(_0x20ff6d[_0x1170c1(0x256)]===0x0)return;console[_0x1170c1(0x29d)](_0x1170c1(0x1bb)+_0x20ff6d[_0x1170c1(0x256)]+_0x1170c1(0x179)),await this[_0x1170c1(0x202)](_0x1170c1(0x2b9),{'changes':_0x20ff6d});}};async function init(){const _0xed1882=a2_0x35e6b3;DataManager[_0xed1882(0x191)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0xed1882(0x226)](_0xed1882(0x231))['addEventListener'](_0xed1882(0x29a),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']()[_0xed1882(0x1fc)](()=>{const _0xf1dee3=_0xed1882;showToast(_0xf1dee3(0x295),!![]);})[_0xed1882(0x15d)](_0x4bcee2=>{const _0x3e7447=_0xed1882;showToast(_0x3e7447(0x243),![]);});}function generateId(){const _0xbafe3f=a2_0x35e6b3;return Date[_0xbafe3f(0x232)]()[_0xbafe3f(0x1ba)](0x24)+Math[_0xbafe3f(0x19c)]()[_0xbafe3f(0x1ba)](0x24)[_0xbafe3f(0x16d)](0x2,0x5);}function toggleSeriesInput(){const _0x5a4ac3=a2_0x35e6b3,_0x3b1016=document[_0x5a4ac3(0x226)]('inpRecurring')[_0x5a4ac3(0x1b6)],_0x4391e2=document[_0x5a4ac3(0x226)](_0x5a4ac3(0x187));_0x4391e2['style'][_0x5a4ac3(0x1a3)]=_0x3b1016?_0x5a4ac3(0x162):_0x5a4ac3(0x14f);const _0x56da86=document[_0x5a4ac3(0x226)](_0x5a4ac3(0x253));_0x56da86['style'][_0x5a4ac3(0x177)]=_0x3b1016?_0x5a4ac3(0x257):'10px';}function openAddSession(_0xcfd026){const _0x5dd12e=a2_0x35e6b3;editingId=null,populateClientSelect(),document[_0x5dd12e(0x226)]('sheetTitle')[_0x5dd12e(0x15c)]='–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å',document[_0x5dd12e(0x226)](_0x5dd12e(0x14c))[_0x5dd12e(0x1aa)][_0x5dd12e(0x1a3)]=_0x5dd12e(0x14f),document[_0x5dd12e(0x226)](_0x5dd12e(0x2be))[_0x5dd12e(0x1aa)][_0x5dd12e(0x1a3)]='none';const _0x27f43d=document[_0x5dd12e(0x226)](_0x5dd12e(0x253)),_0x4e316d=document['getElementById'](_0x5dd12e(0x187));_0x27f43d[_0x5dd12e(0x1aa)][_0x5dd12e(0x1a3)]=_0x5dd12e(0x1c0),_0x27f43d[_0x5dd12e(0x1aa)][_0x5dd12e(0x177)]=_0x5dd12e(0x25d),document[_0x5dd12e(0x226)](_0x5dd12e(0x1df))[_0x5dd12e(0x1b6)]=![],document[_0x5dd12e(0x226)](_0x5dd12e(0x169))[_0x5dd12e(0x19e)]=0x4,_0x4e316d[_0x5dd12e(0x1aa)][_0x5dd12e(0x1a3)]=_0x5dd12e(0x14f),document['getElementById'](_0x5dd12e(0x219))[_0x5dd12e(0x19e)]=getLocalDateStr(_0xcfd026),updateDateDisplay();const _0x480d69=_0xcfd026[_0x5dd12e(0x142)]();document[_0x5dd12e(0x226)](_0x5dd12e(0x15f))[_0x5dd12e(0x19e)]=String(_0x480d69)[_0x5dd12e(0x273)](0x2,'0')+_0x5dd12e(0x2b5),document['getElementById']('inpEnd')['value']=String(_0x480d69+0x1)[_0x5dd12e(0x273)](0x2,'0')+_0x5dd12e(0x2b5),openSheet('sessionSheet');}function openEdit(_0x5e83dc){const _0x33e889=a2_0x35e6b3;editingId=_0x5e83dc['id'],populateClientSelect(),document[_0x33e889(0x226)]('sheetTitle')['textContent']='–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å',document[_0x33e889(0x226)](_0x33e889(0x14c))[_0x33e889(0x1aa)][_0x33e889(0x1a3)]=_0x33e889(0x162);const _0x159249=document[_0x33e889(0x226)](_0x33e889(0x2be));_0x159249[_0x33e889(0x1aa)][_0x33e889(0x1a3)]=_0x33e889(0x1c0);_0x5e83dc[_0x33e889(0x204)]==='completed'?(_0x159249['className']=_0x33e889(0x27b),_0x159249[_0x33e889(0x20f)]=_0x33e889(0x24e)):(_0x159249[_0x33e889(0x27d)]=_0x33e889(0x1ce),_0x159249['innerHTML']=_0x33e889(0x172));const _0xf61f9b=!!_0x5e83dc[_0x33e889(0x267)];document[_0x33e889(0x226)](_0x33e889(0x253))[_0x33e889(0x1aa)][_0x33e889(0x1a3)]=_0x33e889(0x14f),document['getElementById'](_0x33e889(0x187))['style'][_0x33e889(0x1a3)]='none',_0xf61f9b?(document[_0x33e889(0x226)]('patternInfoBox')[_0x33e889(0x1aa)]['display']=_0x33e889(0x1c0),document[_0x33e889(0x226)](_0x33e889(0x234))[_0x33e889(0x1c3)]('.pib-text')[_0x33e889(0x15c)]=_0x33e889(0x272)):document['getElementById'](_0x33e889(0x234))[_0x33e889(0x1aa)][_0x33e889(0x1a3)]='none',document[_0x33e889(0x226)](_0x33e889(0x235))['value']=_0x5e83dc[_0x33e889(0x1fa)],document[_0x33e889(0x226)](_0x33e889(0x219))[_0x33e889(0x19e)]=_0x5e83dc[_0x33e889(0x1b5)],document[_0x33e889(0x226)](_0x33e889(0x15f))[_0x33e889(0x19e)]=_0x5e83dc[_0x33e889(0x2bc)],document[_0x33e889(0x226)](_0x33e889(0x214))[_0x33e889(0x19e)]=_0x5e83dc[_0x33e889(0x287)],document[_0x33e889(0x226)](_0x33e889(0x1e4))[_0x33e889(0x19e)]=_0x5e83dc[_0x33e889(0x1e1)]||'',updateDateDisplay(),openSheet('sessionSheet');}async function trySaveSession(){const _0x36ecf2=a2_0x35e6b3,_0x11a752=document[_0x36ecf2(0x226)]('inpClient')[_0x36ecf2(0x19e)],_0x303e73=document['getElementById'](_0x36ecf2(0x219))[_0x36ecf2(0x19e)],_0x36cb56=document[_0x36ecf2(0x226)](_0x36ecf2(0x15f))[_0x36ecf2(0x19e)],_0x25f43a=document[_0x36ecf2(0x226)](_0x36ecf2(0x214))['value'],_0x311c07=document[_0x36ecf2(0x226)]('inpNote')['value'],_0x278fd4=document[_0x36ecf2(0x226)]('inpRecurring')[_0x36ecf2(0x1b6)];let _0x2fb804=0x4;if(_0x278fd4){const _0x2ae06f=parseInt(document[_0x36ecf2(0x226)](_0x36ecf2(0x169))[_0x36ecf2(0x19e)]);if(!_0x2ae06f||_0x2ae06f<0x2){showToast(_0x36ecf2(0x14a),![]);return;}if(_0x2ae06f>0x64){showToast(_0x36ecf2(0x206),![]);return;}_0x2fb804=_0x2ae06f;}const _0xa09d10=clients[_0x36ecf2(0x1b9)](_0x3a9510=>_0x3a9510[_0x36ecf2(0x143)]===_0x11a752);if(!_0xa09d10){showToast(_0x36ecf2(0x170),![]);return;}const _0x16d54d=validateAppointment(_0x303e73,_0x36cb56,_0x25f43a,editingId,_0xa09d10['id']);if(!_0x16d54d['valid']){showToast(_0x16d54d['msg'],![]);return;}_0x16d54d[_0x36ecf2(0x23b)]&&showToast(_0x16d54d[_0x36ecf2(0x23b)],![]);const _0x413f65={'client':_0x11a752,'clientId':_0xa09d10['id'],'start':_0x36cb56,'end':_0x25f43a,'note':_0x311c07,'status':_0x36ecf2(0x212)},_0xd4c436=editingId?sessions['find'](_0x10742b=>_0x10742b['id']===editingId):null;if(_0xd4c436&&_0xd4c436['seriesId']){tempSessionData={..._0x413f65,'dateStr':_0x303e73,'id':editingId,'seriesId':_0xd4c436[_0x36ecf2(0x267)]},openActionSheet(_0x36ecf2(0x210));return;}let _0x406f0c=null;if(!editingId)_0x406f0c=_0x36ecf2(0x2ab);else{if(_0xd4c436){if(String(_0xd4c436[_0x36ecf2(0x296)])!==String(_0xa09d10['id']))console[_0x36ecf2(0x29d)](_0x36ecf2(0x178)),NotificationManager['send'](_0x36ecf2(0x24c),_0xd4c436),_0x406f0c=_0x36ecf2(0x2ab);else(_0xd4c436['start']!==_0x36cb56||_0xd4c436[_0x36ecf2(0x287)]!==_0x25f43a||_0xd4c436['dateStr']!==_0x303e73)&&(_0x406f0c=_0x36ecf2(0x258));}}if(!editingId&&_0x278fd4){createBatchSeries(_0x413f65,_0x303e73,_0x2fb804),NotificationManager[_0x36ecf2(0x244)](_0x36ecf2(0x2ab),{..._0x413f65,'dateStr':_0x303e73});return;}lastUserActionTime=Date['now']();const _0x51a57f={..._0x413f65,'dateStr':_0x303e73,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x51a57f),_0x406f0c&&NotificationManager[_0x36ecf2(0x244)](_0x406f0c,_0x51a57f);}function toggleSessionStatus(){const _0x10cbd4=a2_0x35e6b3;lastUserActionTime=Date[_0x10cbd4(0x232)]();const _0x2f6ba1=sessions[_0x10cbd4(0x1b9)](_0x3a8efd=>_0x3a8efd['id']===editingId);if(!_0x2f6ba1)return;const _0x21ca16=_0x2f6ba1['status']===_0x10cbd4(0x2c1)?_0x10cbd4(0x212):'completed';_0x2f6ba1[_0x10cbd4(0x204)]=_0x21ca16,saveSingleSession(_0x2f6ba1),_0x21ca16==='completed'&&NotificationManager[_0x10cbd4(0x244)](_0x10cbd4(0x21c),_0x2f6ba1),showToast(_0x21ca16==='completed'?_0x10cbd4(0x29b):_0x10cbd4(0x2ae),!![]);}function validateAppointment(_0x158db4,_0x4d8ed2,_0x519b9f,_0x338e45,_0x2a5f58){const _0x46da1c=a2_0x35e6b3,[_0x4dce21,_0x371d8d]=_0x4d8ed2[_0x46da1c(0x26e)](':')[_0x46da1c(0x22c)](Number),[_0x313813,_0x8c86b]=_0x519b9f[_0x46da1c(0x26e)](':')[_0x46da1c(0x22c)](Number),_0x7ac6bf=_0x4dce21*0x3c+_0x371d8d,_0x4f2617=_0x313813*0x3c+_0x8c86b,_0x5a0439=String(_0x2a5f58);let _0x1fec02=![],_0x4df51b='';for(let _0x16ec39 of sessions){if(_0x16ec39['dateStr']!==_0x158db4)continue;if(_0x16ec39['status']==='cancelled')continue;if(_0x338e45&&String(_0x16ec39['id'])===String(_0x338e45))continue;const [_0x3eec5d,_0x3a8d87]=_0x16ec39[_0x46da1c(0x2bc)][_0x46da1c(0x26e)](':')['map'](Number),[_0x2fd486,_0x2956c2]=_0x16ec39['end'][_0x46da1c(0x26e)](':')[_0x46da1c(0x22c)](Number),_0x5e552f=_0x3eec5d*0x3c+_0x3a8d87,_0x5bdf0b=_0x2fd486*0x3c+_0x2956c2;if(Math['max'](_0x7ac6bf,_0x5e552f)<Math[_0x46da1c(0x27e)](_0x4f2617,_0x5bdf0b)){if(_0x16ec39[_0x46da1c(0x296)]&&String(_0x16ec39[_0x46da1c(0x296)])===_0x5a0439)return{'valid':![],'msg':_0x46da1c(0x2ad)+_0x16ec39[_0x46da1c(0x1fa)]+_0x46da1c(0x285)};_0x1fec02=!![],_0x4df51b=_0x16ec39[_0x46da1c(0x1fa)];}}if(_0x1fec02)return{'valid':!![],'warning':'–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20'+_0x4df51b};return{'valid':!![]};}function saveSingleSession(_0x2d218d){const _0x1d08b1=a2_0x35e6b3;if(editingId){const _0x4dd0ec=sessions[_0x1d08b1(0x24f)](_0x3410cf=>_0x3410cf['id']===editingId);if(_0x4dd0ec!==-0x1)sessions[_0x4dd0ec]=_0x2d218d;}else sessions[_0x1d08b1(0x29c)](_0x2d218d);afterSaveAction([_0x2d218d[_0x1d08b1(0x1b5)]]);}function createBatchSeries(_0x32d3bd,_0xc288f8,_0xf302a4){const _0x4257ea=a2_0x35e6b3,_0x2054c5=generateId(),_0xb210f7=[],_0x1a20ba=[];let _0x1f0696=0x0,_0x3f0bd8=new Date(_0xc288f8);for(let _0xdc964f=0x0;_0xdc964f<_0xf302a4;_0xdc964f++){const _0x36593c=getLocalDateStr(_0x3f0bd8),_0x4bb0b3=validateAppointment(_0x36593c,_0x32d3bd['start'],_0x32d3bd[_0x4257ea(0x287)],null,_0x32d3bd[_0x4257ea(0x296)]);if(!_0x4bb0b3[_0x4257ea(0x2b7)])console[_0x4257ea(0x29d)](_0x4257ea(0x175)+_0x36593c+_0x4257ea(0x27f)),_0x1f0696++;else{const _0x281b58={..._0x32d3bd,'id':generateId(),'dateStr':_0x36593c,'seriesId':_0x2054c5};_0x1a20ba[_0x4257ea(0x29c)](_0x281b58),_0xb210f7['push'](_0x36593c);}_0x3f0bd8['setDate'](_0x3f0bd8[_0x4257ea(0x148)]()+0x7);}if(_0x1a20ba[_0x4257ea(0x256)]===0x0){showToast('–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!',![]);return;}sessions[_0x4257ea(0x29c)](..._0x1a20ba),lastUserActionTime=Date[_0x4257ea(0x232)]();let _0xa8af16=_0x4257ea(0x2b3)+_0x1a20ba['length'];_0x1f0696>0x0&&(_0xa8af16+=_0x4257ea(0x1f8)+_0x1f0696+')'),showToast(_0xa8af16,!![]),afterSaveAction(_0xb210f7);}function updateSeriesBatch(_0xa3e338,_0x52562d){const _0x277503=a2_0x35e6b3,_0x1a1035=[],_0x438e2b=_0x52562d['seriesId'];if(_0xa3e338==='single'){const _0x4dd62e={..._0x52562d,'seriesId':null},_0x1a2df4=sessions[_0x277503(0x24f)](_0x4dfa47=>_0x4dfa47['id']===_0x52562d['id']);if(_0x1a2df4!==-0x1)sessions[_0x1a2df4]=_0x4dd62e;_0x1a1035[_0x277503(0x29c)](_0x4dd62e[_0x277503(0x1b5)]);}else{if(_0xa3e338==='series'){const _0x1389ce=_0x52562d[_0x277503(0x1b5)];sessions['forEach']((_0x48d566,_0x423599)=>{const _0x240bc7=_0x277503;_0x48d566[_0x240bc7(0x267)]===_0x438e2b&&_0x48d566[_0x240bc7(0x1b5)]>=_0x1389ce&&(sessions[_0x423599]={...sessions[_0x423599],'start':_0x52562d['start'],'end':_0x52562d[_0x240bc7(0x287)],'note':_0x52562d[_0x240bc7(0x1e1)],'client':_0x52562d[_0x240bc7(0x1fa)],'clientId':_0x52562d['clientId']},_0x1a1035[_0x240bc7(0x29c)](_0x48d566[_0x240bc7(0x1b5)]));});}}afterSaveAction(_0x1a1035);}function tryDeleteSession(){const _0x4aa80d=a2_0x35e6b3,_0x2b7a60=sessions['find'](_0x21dcb7=>_0x21dcb7['id']===editingId);if(!_0x2b7a60)return;_0x2b7a60[_0x4aa80d(0x267)]?openActionSheet(_0x4aa80d(0x1ae)):commitDelete(_0x4aa80d(0x276),_0x2b7a60);}function commitDelete(_0x480b24,_0x2e1afe){const _0x21b957=a2_0x35e6b3;lastUserActionTime=Date['now'](),NotificationManager[_0x21b957(0x244)]('cancel',_0x2e1afe);const _0x483f09=[];if(_0x480b24===_0x21b957(0x276))sessions=sessions[_0x21b957(0x2b2)](_0x59d34e=>_0x59d34e['id']!==_0x2e1afe['id']),_0x483f09['push'](_0x2e1afe[_0x21b957(0x1b5)]);else{if(_0x480b24===_0x21b957(0x293)){const _0x58dfe1=_0x2e1afe[_0x21b957(0x1b5)],_0xfd217e=_0x2e1afe['seriesId'];sessions[_0x21b957(0x291)](_0x3293a9=>{const _0x3d2bfd=_0x21b957;_0x3293a9[_0x3d2bfd(0x267)]===_0xfd217e&&_0x3293a9[_0x3d2bfd(0x1b5)]>=_0x58dfe1&&_0x483f09['push'](_0x3293a9['dateStr']);}),sessions=sessions[_0x21b957(0x2b2)](_0x197ed7=>!(_0x197ed7[_0x21b957(0x267)]===_0xfd217e&&_0x197ed7[_0x21b957(0x1b5)]>=_0x58dfe1));}}afterSaveAction(_0x483f09);}function afterSaveAction(_0x504e76){const _0xa00cf5=a2_0x35e6b3;DataManager['saveLocally'](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0xa00cf5(0x1d4)](_0x504e76)['then'](()=>console[_0xa00cf5(0x29d)](_0xa00cf5(0x1a2)))[_0xa00cf5(0x15d)](_0x2a771e=>showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ',![]));}const NotificationManager={'formatDate'(_0x21f714){const _0x161d09=a2_0x35e6b3,_0x2c7acb=new Date(_0x21f714),_0x450041={'weekday':_0x161d09(0x1d8),'day':_0x161d09(0x16c),'month':_0x161d09(0x1d8)};let _0x352773=_0x2c7acb[_0x161d09(0x236)](_0x161d09(0x26b),_0x450041);return _0x352773[_0x161d09(0x1d6)](0x0)[_0x161d09(0x13d)]()+_0x352773[_0x161d09(0x1b8)](0x1);},'getText'(_0xbbb735,_0x2cd97f){const _0x440132=a2_0x35e6b3,_0x163df1=this[_0x440132(0x220)](_0x2cd97f['dateStr']);switch(_0xbbb735){case _0x440132(0x2ab):return _0x440132(0x27a)+(_0x440132(0x160)+_0x163df1+'\x0a')+(_0x440132(0x22f)+_0x2cd97f['start']+'\x20‚Äî\x20'+_0x2cd97f[_0x440132(0x287)]+'\x0a\x0a')+_0x440132(0x158);case _0x440132(0x258):return _0x440132(0x1e0)+_0x440132(0x152)+(_0x440132(0x24a)+_0x2cd97f[_0x440132(0x2bc)]+_0x440132(0x2a0)+_0x2cd97f['end']+'</b>\x0a\x0a')+(_0x440132(0x160)+_0x163df1);case _0x440132(0x24c):return _0x440132(0x194)+(_0x440132(0x1ed)+_0x163df1+'\x20('+_0x2cd97f['start']+_0x440132(0x282));case _0x440132(0x21c):return'<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a'+_0x440132(0x155)+_0x440132(0x26d);default:return'';}},async 'send'(_0x3b3cb8,_0x5b198a){const _0x1d6af0=a2_0x35e6b3;console[_0x1d6af0(0x29d)](_0x1d6af0(0x27c),_0x3b3cb8,_0x5b198a);if(!_0x5b198a){console[_0x1d6af0(0x1e5)]('[Notify]\x20Error:\x20sessionData\x20is\x20null');return;}const _0x3df1a3=String(_0x5b198a[_0x1d6af0(0x296)]);console[_0x1d6af0(0x29d)](_0x1d6af0(0x1bf),_0x3df1a3);if(!_0x5b198a[_0x1d6af0(0x296)]||_0x3df1a3===_0x1d6af0(0x2a8)||_0x3df1a3===_0x1d6af0(0x188)){console[_0x1d6af0(0x1e5)](_0x1d6af0(0x2bb));if(_0x5b198a[_0x1d6af0(0x1fa)]){const _0x37118e=clients[_0x1d6af0(0x1b9)](_0x5372ec=>_0x5372ec['name']===_0x5b198a['client']);if(_0x37118e)return console[_0x1d6af0(0x29d)](_0x1d6af0(0x230),_0x37118e['id']),this[_0x1d6af0(0x244)](_0x3b3cb8,{..._0x5b198a,'clientId':_0x37118e['id']});}return;}if(_0x3df1a3[_0x1d6af0(0x256)]<0x5){console['warn']('[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)',_0x3df1a3);return;}const _0x232032=this[_0x1d6af0(0x16b)](_0x3b3cb8,_0x5b198a);if(!_0x232032){console['error'](_0x1d6af0(0x2ba));return;}console[_0x1d6af0(0x29d)](_0x1d6af0(0x221)+_0x3df1a3+_0x1d6af0(0x199)),DataManager['fetchFromServer'](_0x1d6af0(0x246),{'chatId':_0x3df1a3,'text':_0x232032})[_0x1d6af0(0x1fc)](_0x2c56f0=>console[_0x1d6af0(0x29d)](_0x1d6af0(0x213),_0x2c56f0))[_0x1d6af0(0x15d)](_0x550003=>console[_0x1d6af0(0x1e5)]('[Notify]\x20Network\x20Failed',_0x550003));}};function getLocalDateStr(_0x2a8887){const _0x515341=a2_0x35e6b3,_0x5f20fe=_0x2a8887[_0x515341(0x238)](),_0xa925e5=String(_0x2a8887[_0x515341(0x274)]()+0x1)['padStart'](0x2,'0'),_0x4726a3=String(_0x2a8887[_0x515341(0x148)]())[_0x515341(0x273)](0x2,'0');return _0x5f20fe+'-'+_0xa925e5+'-'+_0x4726a3;}function getDateStr(_0x1cf024){const _0x37e8ff=a2_0x35e6b3,_0x256385=new Date();return _0x256385['setDate'](_0x256385[_0x37e8ff(0x148)]()+_0x1cf024),getLocalDateStr(_0x256385);}function getStartOfWeek(_0x1a2c16){const _0x547c79=a2_0x35e6b3,_0x4ccfad=(function(){let _0x42014a=!![];return function(_0x19442f,_0x44867b){const _0x1eef77=_0x42014a?function(){const _0x58145e=a2_0x2ba2;if(_0x44867b){const _0x4ed914=_0x44867b[_0x58145e(0x261)](_0x19442f,arguments);return _0x44867b=null,_0x4ed914;}}:function(){};return _0x42014a=![],_0x1eef77;};}()),_0x309a1e=_0x4ccfad(this,function(){const _0x5893b1=a2_0x2ba2;return _0x309a1e[_0x5893b1(0x1ba)]()['search'](_0x5893b1(0x2a5))[_0x5893b1(0x1ba)]()[_0x5893b1(0x28b)](_0x309a1e)['search'](_0x5893b1(0x2a5));});_0x309a1e();const _0xd898b0=new Date(_0x1a2c16),_0x4e7e9f=_0xd898b0[_0x547c79(0x1bd)](),_0x5ad6d5=_0xd898b0[_0x547c79(0x148)]()-_0x4e7e9f+(_0x4e7e9f===0x0?-0x6:0x1);return _0xd898b0[_0x547c79(0x245)](_0x5ad6d5),_0xd898b0['setHours'](0x0,0x0,0x0,0x0),_0xd898b0;}function hexToRgba(_0x91ec58,_0x1fa724){const _0x4b70de=a2_0x35e6b3;if(!_0x91ec58)return _0x4b70de(0x288);let _0x3e31be=0x0,_0x4a26ce=0x0,_0x46c627=0x0;if(_0x91ec58[_0x4b70de(0x256)]===0x4)_0x3e31be='0x'+_0x91ec58[0x1]+_0x91ec58[0x1],_0x4a26ce='0x'+_0x91ec58[0x2]+_0x91ec58[0x2],_0x46c627='0x'+_0x91ec58[0x3]+_0x91ec58[0x3];else _0x91ec58['length']===0x7&&(_0x3e31be='0x'+_0x91ec58[0x1]+_0x91ec58[0x2],_0x4a26ce='0x'+_0x91ec58[0x3]+_0x91ec58[0x4],_0x46c627='0x'+_0x91ec58[0x5]+_0x91ec58[0x6]);return _0x4b70de(0x16e)+ +_0x3e31be+',\x20'+ +_0x4a26ce+',\x20'+ +_0x46c627+',\x20'+_0x1fa724+')';}function renderTimeColumn(){const _0x17ba83=a2_0x35e6b3,_0x576cdb=document[_0x17ba83(0x226)](_0x17ba83(0x1c4)),_0x50e5f6=document[_0x17ba83(0x226)](_0x17ba83(0x2c6));_0x576cdb['innerHTML']='',_0x576cdb[_0x17ba83(0x28a)](_0x50e5f6);for(let _0x3aaccb=0x0;_0x3aaccb<0x18;_0x3aaccb++){const _0xabdb0a=document[_0x17ba83(0x150)]('div');_0xabdb0a[_0x17ba83(0x27d)]=_0x17ba83(0x1a7);if(_0x3aaccb>0x0)_0xabdb0a['innerHTML']=_0x17ba83(0x26f)+String(_0x3aaccb)['padStart'](0x2,'0')+_0x17ba83(0x264);_0x576cdb[_0x17ba83(0x28a)](_0xabdb0a);}}function renderDayRange(_0x46d67e,_0xba3d2a){const _0x495dba=a2_0x35e6b3,_0x39c016=document['getElementById']('daysHeaderTrack'),_0x964dca=document[_0x495dba(0x226)](_0x495dba(0x298)),_0x3a086b=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x454055=new Date();_0x454055['setHours'](0x0,0x0,0x0,0x0);const _0x2b3105=getLocalDateStr(new Date());for(let _0x43e888=_0x46d67e;_0x43e888<=_0xba3d2a;_0x43e888++){const _0x5a002c=new Date(_0x454055);_0x5a002c[_0x495dba(0x245)](_0x5a002c['getDate']()+_0x43e888);const _0x30377f=getLocalDateStr(_0x5a002c);let _0x188aee=_0x5a002c['getDay']()-0x1;if(_0x188aee===-0x1)_0x188aee=0x6;const _0x47c8f8=_0x30377f===_0x2b3105,_0x204aed=document[_0x495dba(0x150)](_0x495dba(0x265));_0x204aed[_0x495dba(0x27d)]=_0x495dba(0x1a5)+(_0x47c8f8?_0x495dba(0x1b1):''),_0x204aed['id']=_0x495dba(0x215)+_0x30377f,_0x204aed[_0x495dba(0x25a)](_0x495dba(0x1a4),_0x30377f),_0x204aed[_0x495dba(0x20f)]=_0x495dba(0x289)+_0x3a086b[_0x188aee]+_0x495dba(0x1a0)+_0x5a002c['getDate']()+_0x495dba(0x2a1)+_0x30377f+_0x495dba(0x270),_0x204aed[_0x495dba(0x1ad)]=()=>openDayOptions(_0x30377f,_0x3a086b[_0x188aee]+'\x20'+_0x5a002c[_0x495dba(0x148)]()),_0x39c016[_0x495dba(0x28a)](_0x204aed);const _0x5193ea=document[_0x495dba(0x150)](_0x495dba(0x265));_0x5193ea['className']=_0x495dba(0x1c7)+(_0x47c8f8?'today':''),_0x5193ea[_0x495dba(0x25a)]('data-date',_0x30377f),_0x5193ea[_0x495dba(0x25a)](_0x495dba(0x193),_0x188aee),renderEventsForColumn(_0x5193ea,_0x30377f,_0x188aee),attachLongPressHandler(_0x5193ea,_0x5a002c),_0x964dca[_0x495dba(0x28a)](_0x5193ea),updateDayStats(_0x30377f);}}function reRenderBlocks(){const _0x54693d=a2_0x35e6b3;document[_0x54693d(0x283)](_0x54693d(0x2b0))[_0x54693d(0x291)](_0x575088=>{const _0x54c230=_0x54693d;_0x575088[_0x54c230(0x283)]('.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card')[_0x54c230(0x291)](_0x5a8cd2=>_0x5a8cd2[_0x54c230(0x195)]());const _0x257f61=_0x575088['getAttribute'](_0x54c230(0x1a4)),_0x3eb33a=parseInt(_0x575088[_0x54c230(0x2c5)](_0x54c230(0x193))),_0x35db9a=Math['round'](_0x575088[_0x54c230(0x216)]);(availabilityPattern[_0x3eb33a]||[])['forEach'](_0x3489dc=>{const _0x5a2fab=_0x54c230,_0x213fa7=document[_0x5a2fab(0x150)]('div');_0x213fa7[_0x5a2fab(0x27d)]=_0x5a2fab(0x25c);const _0x29dc0a=_0x3489dc*GRID_H;_0x213fa7[_0x5a2fab(0x1aa)][_0x5a2fab(0x248)]=_0x29dc0a+'px',_0x213fa7[_0x5a2fab(0x1aa)][_0x5a2fab(0x1a1)]='-'+_0x35db9a+_0x5a2fab(0x1cc)+_0x29dc0a+'px',_0x575088[_0x5a2fab(0x28a)](_0x213fa7);});if(specialRanges&&specialRanges['length']>0x0){const _0x10b67f=new Date(_0x257f61+'T00:00:00')[_0x54c230(0x21b)](),_0x2512b0=new Date(_0x257f61+_0x54c230(0x286))[_0x54c230(0x21b)]();specialRanges[_0x54c230(0x291)](_0x5e8b50=>{const _0x26c79b=_0x54c230,_0x958ff1=new Date(_0x5e8b50[_0x26c79b(0x2bc)])[_0x26c79b(0x21b)](),_0x1a7418=new Date(_0x5e8b50[_0x26c79b(0x287)])['getTime'](),_0x46b44d=Math['max'](_0x10b67f,_0x958ff1),_0x36dda6=Math[_0x26c79b(0x27e)](_0x2512b0,_0x1a7418);if(_0x46b44d<_0x36dda6){if(_0x46b44d<=_0x10b67f&&_0x36dda6>=_0x2512b0-0xea60){if(!_0x575088[_0x26c79b(0x1c3)](_0x26c79b(0x2b6))){const _0x147583=document[_0x26c79b(0x150)]('div');_0x147583[_0x26c79b(0x27d)]=_0x26c79b(0x250),_0x147583['style'][_0x26c79b(0x1a1)]='-'+_0x35db9a+_0x26c79b(0x157),_0x575088[_0x26c79b(0x28a)](_0x147583);}}else{const _0x17d187=(_0x46b44d-_0x10b67f)/0x36ee80*GRID_H,_0x128605=(_0x36dda6-_0x46b44d)/0x36ee80*GRID_H,_0x25e388=document[_0x26c79b(0x150)](_0x26c79b(0x265));_0x25e388[_0x26c79b(0x27d)]=_0x26c79b(0x284),_0x25e388[_0x26c79b(0x1aa)][_0x26c79b(0x248)]=_0x17d187+'px',_0x25e388[_0x26c79b(0x1aa)][_0x26c79b(0x1bc)]=_0x128605+'px',_0x25e388[_0x26c79b(0x1aa)]['backgroundPosition']='-'+_0x35db9a+_0x26c79b(0x1cc)+_0x17d187+'px',_0x575088[_0x26c79b(0x28a)](_0x25e388);}}});}if(dateExceptions[_0x257f61]===_0x54c230(0x23e)){if(!_0x575088[_0x54c230(0x1c3)](_0x54c230(0x2b6))){const _0x44d8fa=document[_0x54c230(0x150)](_0x54c230(0x265));_0x44d8fa[_0x54c230(0x27d)]=_0x54c230(0x250),_0x44d8fa[_0x54c230(0x1aa)]['backgroundPosition']='-'+_0x35db9a+'px\x200px',_0x575088[_0x54c230(0x28a)](_0x44d8fa);}}renderEventsForColumn(_0x575088,_0x257f61,_0x3eb33a),updateDayStats(_0x257f61);});}function updateAllDayStats(){const _0x25752c=a2_0x35e6b3;document[_0x25752c(0x283)](_0x25752c(0x211))[_0x25752c(0x291)](_0x931491=>{updateDayStats(_0x931491['getAttribute']('data-date'));});}function updateDayStats(_0x31a9b4){const _0x2180f3=a2_0x35e6b3,_0x3c5820=document[_0x2180f3(0x226)](_0x2180f3(0x1ef)+_0x31a9b4);if(!_0x3c5820)return;const _0x34344c=new Date(_0x31a9b4);let _0x585daf=_0x34344c[_0x2180f3(0x1bd)]()-0x1;if(_0x585daf===-0x1)_0x585daf=0x6;if(dateExceptions[_0x31a9b4]==='off'){_0x3c5820[_0x2180f3(0x1aa)][_0x2180f3(0x1a3)]='none';return;}const _0x18b2e8=availabilityPattern[_0x585daf]||[],_0x14fb8b=0x18-_0x18b2e8[_0x2180f3(0x256)],_0x237914=_0x14fb8b*0x3c,_0x369037=sessions[_0x2180f3(0x2b2)](_0x11c220=>_0x11c220[_0x2180f3(0x1b5)]===_0x31a9b4&&_0x11c220['status']!==_0x2180f3(0x1c6));if(_0x369037[_0x2180f3(0x256)]===0x0){_0x3c5820[_0x2180f3(0x1aa)]['display']=_0x2180f3(0x14f);return;}let _0x472911=_0x369037[_0x2180f3(0x22c)](_0x274534=>{const _0x16a245=_0x2180f3,[_0x45bad9,_0xf764ed]=_0x274534[_0x16a245(0x2bc)][_0x16a245(0x26e)](':')[_0x16a245(0x22c)](Number),[_0x1429e4,_0x40db93]=_0x274534[_0x16a245(0x287)][_0x16a245(0x26e)](':')[_0x16a245(0x22c)](Number);return[_0x45bad9*0x3c+_0xf764ed,_0x1429e4*0x3c+_0x40db93];});_0x472911[_0x2180f3(0x21d)]((_0x3e6d3e,_0x4159c3)=>_0x3e6d3e[0x0]-_0x4159c3[0x0]);let _0x2a59a5=[];if(_0x472911['length']>0x0){let _0x46d05d=_0x472911[0x0];for(let _0x3fd7b9=0x1;_0x3fd7b9<_0x472911['length'];_0x3fd7b9++){_0x472911[_0x3fd7b9][0x0]<_0x46d05d[0x1]?_0x46d05d[0x1]=Math[_0x2180f3(0x180)](_0x46d05d[0x1],_0x472911[_0x3fd7b9][0x1]):(_0x2a59a5[_0x2180f3(0x29c)](_0x46d05d),_0x46d05d=_0x472911[_0x3fd7b9]);}_0x2a59a5[_0x2180f3(0x29c)](_0x46d05d);}let _0x5e0bfd=0x0;_0x2a59a5['forEach'](_0x1be659=>_0x5e0bfd+=_0x1be659[0x1]-_0x1be659[0x0]),_0x3c5820[_0x2180f3(0x1aa)]['display']='flex';const _0x4f1503=_0x3c5820[_0x2180f3(0x1c3)](_0x2180f3(0x217));if(_0x237914===0x0){_0x4f1503['style'][_0x2180f3(0x222)]=_0x2180f3(0x205),_0x4f1503[_0x2180f3(0x1aa)][_0x2180f3(0x1c9)]=_0x2180f3(0x1f6);return;}const _0x11e778=_0x5e0bfd/_0x237914*0x64;console['log']('['+_0x31a9b4+_0x2180f3(0x2c2)+_0x14fb8b+_0x2180f3(0x18a)+_0x5e0bfd+'–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20'+_0x11e778[_0x2180f3(0x1d3)](0x1)+'%'),_0x11e778>0x64?(_0x4f1503[_0x2180f3(0x1aa)]['width']=_0x2180f3(0x205),_0x4f1503[_0x2180f3(0x1aa)][_0x2180f3(0x1c9)]='var(--acc-red)'):(_0x4f1503[_0x2180f3(0x1aa)][_0x2180f3(0x222)]=_0x11e778+'%',_0x4f1503[_0x2180f3(0x1aa)][_0x2180f3(0x1c9)]='var(--acc-current)');}function a2_0x3aa4(){const _0x30de0e=['constructor','target','mouseup','mousemove','\x20–∏–∑\x20','%\x20+\x202px)','forEach','mergeServerData','series','initDataUnsafe','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','clientId','statLoadCard','gridColumns','Error\x20setting\x20color:','scroll','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','push','log','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','Error\x20setting\x20back\x20button:','\x20‚Äî\x20','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','router.html','splice','getMinutes','(((.+)+)+)+$','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','week','undefined','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','setBackgroundColor','create','sheetDateSubtitle','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','touchstart','#gridColumns\x20.day-column','insertBefore','filter','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','DOMContentLoaded',':00','.day-off-overlay','valid','rangeEndDate','batch_sync','[Notify]\x20Error:\x20Text\x20generation\x20failed','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','start','borderColor','btnStatusToggle','strokeDashoffset','#0a84ff','completed',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','isArray','as-button\x20danger','getAttribute','timeLineBadge','init_load',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','toUpperCase','18172xSYeHw','17788104VUqMEg','done','guest','getHours','name','\x20-\x20','doLoadPercent','save_settings','rgba(255,\x2069,\x2058,\x200.3)','getDate','headerMonth','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','from','btnDelete','disableVerticalSwipes','rgba(255,255,255,0.05)','none','createElement','btn-primary\x20btn-secondary','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','location','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','var(--acc-green)','px\x200px','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','round','Server\x20Error','pattern','textContent','catch','calendar','inpStart','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','addEventListener','block','anStart','indexOf','success','#050505','warn','pe-time-label','inpSeriesCount','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','getText','numeric','substr','rgba(','51489Jlftot','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','318UhmVYZ','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','rgba(48,\x20209,\x2088,\x200.15)','add','[Series]\x20Skipped\x20','435JYNKEL','borderRadius','[Notify]\x20Client\x20SWAP\x20detected','\x20days','patternEditor','custom','startsWith','rangeStartDate','firstChild','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','max','color','settings','3338600yuPloq','</div><div\x20class=\x22ev-time\x22>','data','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','seriesCountContainer','null','–ò–Ω—Ñ–æ','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','sid','client-stat-card','includes','rangesList','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','loadLocal','rgba(255,\x20159,\x2010,\x200.3)','data-day-idx','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','remove','.day-column','deleted','[Settings]\x20Cancel\x20window\x20set\x20to:','...','keys','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','random','actionSheet','value','–£—Å–ø–µ—à–Ω–æ','</div><div\x20class=\x22dch-num\x22>','backgroundPosition','Batch\x20Sync\x20OK','display','data-date','day-col-header\x20','stringify','time-label','backgroundColor','clientY','style','range-item','72RkMYuQ','onclick','delete','toast-notification\x20','actionSheetOverlay','today','#fff','var(--acc-orange)','23:59','dateStr','checked','expand','slice','find','toString','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','height','getDay','de-item','[Notify]\x20Detected\x20Client\x20ID:','flex','mini','parse','querySelector','timeColumn','cancel_window','cancelled','day-column\x20','setItem','background','total','.sheet','px\x20-','settingCancelWindow','btn-status-toggle','event-card',']\x20Failed:','overlay','initData','toFixed','syncBatch','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','charAt','createDocumentFragment','long','WebApp','doBusyHours','–£–¥–∞–ª–µ–Ω–∏–µ','</span>\x20/\x20','offClick','Local\x20Load\x20Error','inpRecurring','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','note','text/plain;charset=UTF-8','dayOptionsSheet','inpNote','error','toast','left','POST','uc_clients_v9','anEnd','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','option','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','anPercent','stat-','anDonutCircle','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','uc_settings_v9','colIndex','asTitle','11BsTFJN','var(--acc-red)','%\x20-\x204px)','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','uc_settings_cancel_window','client','show','then','\x20status-completed','pe-cell\x20','BackButton','open','offsetWidth','fetchFromServer','ready','status','100%','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','anCustomDates','00:00','pe-col-header','</div>','51416XlewiU','closest','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','entries','innerHTML','save','.day-col-header','planned','[Notify]\x20Server\x20Response:','inpEnd','header-','offsetLeft','.dch-stats-fill','ranges','inpDate','clientWidth','getTime','complete','sort','classList','daysHeaderTrack','formatDate','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','width','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','.period-switch\x20.p-btn','stopPropagation','getElementById','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','globalTimeLine','17070DwBVHx','toastTitle','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','map','Telegram','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','matrixViewport','now','doWorkHours','patternInfoBox','inpClient','toLocaleDateString','floor','getFullYear','zIndex','scrollTop','warning','vibrate','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','off','getItem','saveLocally','clients','user','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','send','setDate','send_notification','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','top','[Sync]\x20Loading\x20','<b>‚úÖ\x20','href','cancel','scrollWidth','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','findIndex','day-off-overlay\x20stripe-bg','exceptions','Unknown','recurringOptionContainer','rangesSheet','borderLeftColor','length','10px\x2010px\x200\x200','update','rangeEndTime','setAttribute','rangeStartTime','blocked-slot\x20stripe-bg','10px','[API\x20','analyticsList','touchend','apply','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','scrollLeft',':00</span>','div','all','seriesId','active','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','3782uqaAYg','ru-RU','settingsSheet','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','split','<span>','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','padStart','getMonth','btn-primary\x20btn-danger','single','analyticsSheet','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','1533RCNrZO','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','btn-status-toggle\x20undo-mode','[Notify]\x20Attempting\x20to\x20send:','className','min',':\x20Client\x20already\x20booked','touches','setHours',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','querySelectorAll','blocked-range-part\x20stripe-bg',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','T23:59:59','end','rgba(100,100,100,0.5)','<div\x20class=\x22dch-day\x22>','appendChild'];a2_0x3aa4=function(){return _0x30de0e;};return a2_0x3aa4();}function renderEventsForColumn(_0x15be95,_0x1a9db2,_0x199794){const _0x1510b3=a2_0x35e6b3,_0x26587f=sessions[_0x1510b3(0x2b2)](_0x4517b2=>_0x4517b2[_0x1510b3(0x1b5)]===_0x1a9db2),_0x2e00ee=_0x26587f[_0x1510b3(0x22c)](_0x26dd7a=>{const _0x182bf2=_0x1510b3,[_0xfa61fd,_0x5604a9]=_0x26dd7a[_0x182bf2(0x2bc)]['split'](':')[_0x182bf2(0x22c)](Number),[_0x31796d,_0xb5cd02]=_0x26dd7a[_0x182bf2(0x287)][_0x182bf2(0x26e)](':')[_0x182bf2(0x22c)](Number);return{'data':_0x26dd7a,'start':_0xfa61fd*0x3c+_0x5604a9,'end':_0x31796d*0x3c+_0xb5cd02,'colIndex':0x0};});_0x2e00ee[_0x1510b3(0x21d)]((_0xf401a1,_0x30a51a)=>{const _0x28ed7a=_0x1510b3;if(_0xf401a1['start']!==_0x30a51a['start'])return _0xf401a1[_0x28ed7a(0x2bc)]-_0x30a51a[_0x28ed7a(0x2bc)];return _0x30a51a['end']-_0x30a51a['start']-(_0xf401a1[_0x28ed7a(0x287)]-_0xf401a1['start']);});const _0x4bc108=[];_0x2e00ee['forEach'](_0x421925=>{const _0x17361d=_0x1510b3;let _0x3708cd=![];for(let _0x298c81=0x0;_0x298c81<_0x4bc108[_0x17361d(0x256)];_0x298c81++){const _0x4026e5=_0x4bc108[_0x298c81],_0x13f56d=_0x4026e5[_0x4026e5['length']-0x1];if(_0x421925[_0x17361d(0x2bc)]>=_0x13f56d[_0x17361d(0x287)]){_0x4026e5[_0x17361d(0x29c)](_0x421925),_0x421925['colIndex']=_0x298c81,_0x3708cd=!![];break;}}!_0x3708cd&&(_0x4bc108['push']([_0x421925]),_0x421925[_0x17361d(0x1f3)]=_0x4bc108[_0x17361d(0x256)]-0x1);}),_0x2e00ee[_0x1510b3(0x291)](_0x1bb455=>{const _0x23eabe=_0x1510b3;let _0x584d96=0x0;_0x2e00ee[_0x23eabe(0x291)](_0x46f442=>{const _0x27e44d=_0x23eabe;if(Math[_0x27e44d(0x180)](_0x1bb455[_0x27e44d(0x2bc)],_0x46f442[_0x27e44d(0x2bc)])<Math[_0x27e44d(0x27e)](_0x1bb455['end'],_0x46f442[_0x27e44d(0x287)])){if(_0x46f442['colIndex']>_0x584d96)_0x584d96=_0x46f442['colIndex'];}});const _0x19c576=_0x584d96+0x1,_0x5e6f5b=0x64/_0x19c576,_0x137eb2=_0x1bb455[_0x23eabe(0x1f3)]*_0x5e6f5b,_0x28e4cf=createEventEl(_0x1bb455[_0x23eabe(0x185)]);_0x28e4cf['style']['width']='calc('+_0x5e6f5b+_0x23eabe(0x1f7),_0x28e4cf[_0x23eabe(0x1aa)][_0x23eabe(0x1e7)]='calc('+_0x137eb2+_0x23eabe(0x290),_0x28e4cf[_0x23eabe(0x1aa)][_0x23eabe(0x239)]=0xa+_0x1bb455[_0x23eabe(0x1f3)],_0x5e6f5b<0x55&&_0x28e4cf[_0x23eabe(0x21e)][_0x23eabe(0x174)](_0x23eabe(0x1c1)),_0x15be95[_0x23eabe(0x28a)](_0x28e4cf);});}function createEventEl(_0x43eb21){const _0x3b66e6=a2_0x35e6b3,[_0x566160,_0x22233f]=_0x43eb21[_0x3b66e6(0x2bc)][_0x3b66e6(0x26e)](':')[_0x3b66e6(0x22c)](Number),[_0x4f0138,_0x3a0be3]=_0x43eb21['end'][_0x3b66e6(0x26e)](':')[_0x3b66e6(0x22c)](Number),_0x2fef34=(_0x566160*0x3c+_0x22233f)/0x3c*GRID_H,_0x5f0b93=(_0x4f0138*0x3c+_0x3a0be3-(_0x566160*0x3c+_0x22233f))/0x3c*GRID_H,_0x16e222=document[_0x3b66e6(0x150)](_0x3b66e6(0x265)),_0x30dd65=_0x43eb21[_0x3b66e6(0x204)]===_0x3b66e6(0x2c1)?_0x3b66e6(0x1fd):'';_0x16e222[_0x3b66e6(0x27d)]=_0x3b66e6(0x1cf)+_0x30dd65,_0x16e222['style'][_0x3b66e6(0x248)]=_0x2fef34+'px',_0x16e222['style'][_0x3b66e6(0x1bc)]=Math[_0x3b66e6(0x180)](_0x5f0b93,0x14)+'px';const _0x393c36=clients[_0x3b66e6(0x1b9)](_0x3f0ab5=>_0x43eb21[_0x3b66e6(0x296)]&&String(_0x3f0ab5['id'])===String(_0x43eb21['clientId'])||_0x3f0ab5[_0x3b66e6(0x143)]===_0x43eb21[_0x3b66e6(0x1fa)]),_0x357627=_0x393c36?_0x393c36[_0x3b66e6(0x181)]:_0x3b66e6(0x2c0);_0x16e222[_0x3b66e6(0x1aa)][_0x3b66e6(0x255)]=_0x357627,_0x16e222['style'][_0x3b66e6(0x1a8)]=hexToRgba(_0x357627,0.85);let _0xdb6a33='<div\x20class=\x22ev-title\x22>'+_0x43eb21[_0x3b66e6(0x1fa)]+_0x3b66e6(0x184)+_0x43eb21[_0x3b66e6(0x2bc)]+_0x3b66e6(0x144)+_0x43eb21[_0x3b66e6(0x287)]+_0x3b66e6(0x20a);return _0x43eb21[_0x3b66e6(0x267)]&&(_0xdb6a33+=_0x3b66e6(0x17f)),_0x43eb21[_0x3b66e6(0x204)]==='completed'&&(_0xdb6a33+='<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>'),_0x16e222['innerHTML']=_0xdb6a33,_0x16e222[_0x3b66e6(0x1ad)]=_0x285911=>{const _0xf0a142=_0x3b66e6;_0x285911[_0xf0a142(0x225)](),openEdit(_0x43eb21);},_0x16e222;}function attachLongPressHandler(_0x2e87a6,_0x15b83f){const _0xcac226=a2_0x35e6b3;let _0x460452=0x0,_0x4377e3=null;const _0x1d68d1=_0x2e4b56=>{const _0x566788=a2_0x2ba2;if(_0x2e4b56[_0x566788(0x28c)][_0x566788(0x20c)]('.event-card'))return;isScrolling=![],_0x460452=_0x2e4b56[_0x566788(0x280)]?_0x2e4b56['touches'][0x0][_0x566788(0x1a9)]:_0x2e4b56[_0x566788(0x1a9)],_0x4377e3=setTimeout(()=>{const _0x56d034=_0x566788;if(!isScrolling){navigator[_0x56d034(0x23c)]?.(0x32);const _0x365b23=_0x2e87a6['getBoundingClientRect'](),_0x3bbbea=Math['floor']((_0x460452-_0x365b23['top'])/GRID_H);_0x15b83f[_0x56d034(0x281)](_0x3bbbea,0x0),openAddSession(_0x15b83f);}},0x1f4);},_0x9861f3=()=>{isScrolling=!![],clearTimeout(_0x4377e3);},_0xc7e9f2=()=>{clearTimeout(_0x4377e3);};_0x2e87a6[_0xcac226(0x161)](_0xcac226(0x2af),_0x1d68d1,{'passive':!![]}),_0x2e87a6[_0xcac226(0x161)]('touchmove',_0x9861f3,{'passive':!![]}),_0x2e87a6[_0xcac226(0x161)](_0xcac226(0x260),_0xc7e9f2),_0x2e87a6[_0xcac226(0x161)]('mousedown',_0x1d68d1),_0x2e87a6[_0xcac226(0x161)](_0xcac226(0x28e),_0x9861f3),_0x2e87a6[_0xcac226(0x161)](_0xcac226(0x28d),_0xc7e9f2);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x42052a=a2_0x35e6b3,_0x4c16cc=document[_0x42052a(0x226)](_0x42052a(0x231)),_0x55e6e5=_0x4c16cc[_0x42052a(0x263)],_0x4238ac=_0x4c16cc[_0x42052a(0x24d)],_0x44c659=_0x4c16cc[_0x42052a(0x21a)];if(_0x4238ac-(_0x55e6e5+_0x44c659)<0x12c){const _0x256135=endOffset;endOffset+=0xe,renderDayRange(_0x256135+0x1,endOffset),reRenderBlocks();}if(_0x55e6e5<0x12c){const _0x9a3985=startOffset;startOffset-=0xe,prependDays(startOffset,_0x9a3985-0x1),_0x4c16cc[_0x42052a(0x263)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x228f83,_0x1e549c){const _0x2f939e=a2_0x35e6b3,_0x4900d2=document['getElementById'](_0x2f939e(0x21f)),_0x17a033=document[_0x2f939e(0x226)]('gridColumns'),_0x111938=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1c507a=new Date();_0x1c507a['setHours'](0x0,0x0,0x0,0x0);const _0x25e986=getLocalDateStr(new Date()),_0x5ef385=document[_0x2f939e(0x1d7)](),_0x26802f=document['createDocumentFragment']();for(let _0x290cfb=_0x228f83;_0x290cfb<=_0x1e549c;_0x290cfb++){const _0x14b313=new Date(_0x1c507a);_0x14b313[_0x2f939e(0x245)](_0x14b313[_0x2f939e(0x148)]()+_0x290cfb);const _0x18bb42=getLocalDateStr(_0x14b313);let _0x3f60bc=_0x14b313[_0x2f939e(0x1bd)]()-0x1;if(_0x3f60bc===-0x1)_0x3f60bc=0x6;const _0x720a32=_0x18bb42===_0x25e986,_0x1f5ffd=document['createElement'](_0x2f939e(0x265));_0x1f5ffd[_0x2f939e(0x27d)]=_0x2f939e(0x1a5)+(_0x720a32?_0x2f939e(0x1b1):''),_0x1f5ffd['id']=_0x2f939e(0x215)+_0x18bb42,_0x1f5ffd['setAttribute']('data-date',_0x18bb42),_0x1f5ffd[_0x2f939e(0x20f)]=_0x2f939e(0x289)+_0x111938[_0x3f60bc]+_0x2f939e(0x1a0)+_0x14b313['getDate']()+_0x2f939e(0x2a1)+_0x18bb42+_0x2f939e(0x270),_0x1f5ffd[_0x2f939e(0x1ad)]=()=>openDayOptions(_0x18bb42,_0x111938[_0x3f60bc]+'\x20'+_0x14b313['getDate']()),_0x5ef385[_0x2f939e(0x28a)](_0x1f5ffd);const _0x33b881=document[_0x2f939e(0x150)](_0x2f939e(0x265));_0x33b881[_0x2f939e(0x27d)]=_0x2f939e(0x1c7)+(_0x720a32?_0x2f939e(0x1b1):''),_0x33b881['setAttribute'](_0x2f939e(0x1a4),_0x18bb42),_0x33b881[_0x2f939e(0x25a)](_0x2f939e(0x193),_0x3f60bc),renderEventsForColumn(_0x33b881,_0x18bb42,_0x3f60bc),attachLongPressHandler(_0x33b881,_0x14b313),_0x26802f[_0x2f939e(0x28a)](_0x33b881),updateDayStats(_0x18bb42);}_0x4900d2[_0x2f939e(0x2b1)](_0x5ef385,_0x4900d2[_0x2f939e(0x17e)]),_0x17a033[_0x2f939e(0x2b1)](_0x26802f,_0x17a033['querySelector'](_0x2f939e(0x196)));}function validateAppointment(_0x3d6ab3,_0x3343f0,_0x3254bd,_0x15764a,_0x1d555d){const _0x4073d6=a2_0x35e6b3,[_0x2f24fc,_0x3d0b49]=_0x3343f0[_0x4073d6(0x26e)](':')[_0x4073d6(0x22c)](Number),[_0x40f830,_0x1a478f]=_0x3254bd[_0x4073d6(0x26e)](':')['map'](Number),_0x4043ad=_0x2f24fc*0x3c+_0x3d0b49,_0x4d77a1=_0x40f830*0x3c+_0x1a478f,_0x3852d3=String(_0x1d555d);let _0x2fe26b=![],_0x20ebbc='';for(let _0x1c2943 of sessions){if(_0x1c2943[_0x4073d6(0x1b5)]!==_0x3d6ab3)continue;if(_0x1c2943[_0x4073d6(0x204)]===_0x4073d6(0x1c6))continue;if(_0x15764a&&String(_0x1c2943['id'])===String(_0x15764a))continue;const [_0x20cb1c,_0x4f7c31]=_0x1c2943[_0x4073d6(0x2bc)][_0x4073d6(0x26e)](':')[_0x4073d6(0x22c)](Number),[_0x473c13,_0x43113c]=_0x1c2943[_0x4073d6(0x287)][_0x4073d6(0x26e)](':')[_0x4073d6(0x22c)](Number),_0x4d698f=_0x20cb1c*0x3c+_0x4f7c31,_0x1ed278=_0x473c13*0x3c+_0x43113c;if(Math[_0x4073d6(0x180)](_0x4043ad,_0x4d698f)<Math[_0x4073d6(0x27e)](_0x4d77a1,_0x1ed278)){if(_0x1c2943[_0x4073d6(0x296)]&&String(_0x1c2943['clientId'])===_0x3852d3)return{'valid':![],'msg':_0x4073d6(0x2ad)+_0x1c2943['client']+_0x4073d6(0x285)};_0x2fe26b=!![],_0x20ebbc=_0x1c2943['client'];}}if(_0x2fe26b)return{'valid':!![],'warning':_0x4073d6(0x2a9)+_0x20ebbc};return{'valid':!![]};}function updateDateDisplay(){const _0x141d50=a2_0x35e6b3,_0x1b3762=document[_0x141d50(0x226)](_0x141d50(0x219))[_0x141d50(0x19e)],_0x2d21bb=document[_0x141d50(0x226)](_0x141d50(0x2ac));if(!_0x1b3762){_0x2d21bb[_0x141d50(0x15c)]='';return;}const [_0x461460,_0x2eaf71,_0x2e1b55]=_0x1b3762['split']('-')[_0x141d50(0x22c)](Number),_0x3e7b50=new Date(_0x461460,_0x2eaf71-0x1,_0x2e1b55),_0xcbf512={'weekday':_0x141d50(0x1d8),'day':_0x141d50(0x16c),'month':_0x141d50(0x1d8),'year':_0x141d50(0x16c)};let _0x684690=_0x3e7b50[_0x141d50(0x236)](_0x141d50(0x26b),_0xcbf512);_0x684690=_0x684690['charAt'](0x0)[_0x141d50(0x13d)]()+_0x684690[_0x141d50(0x1b8)](0x1),_0x2d21bb[_0x141d50(0x15c)]=_0x684690;}function autoSetEndTime(){const _0x49c964=a2_0x35e6b3,_0x2447f1=document['getElementById']('inpStart')[_0x49c964(0x19e)];if(!_0x2447f1)return;const [_0x542063,_0x5dae31]=_0x2447f1[_0x49c964(0x26e)](':')[_0x49c964(0x22c)](Number);let _0x4e10ec=_0x542063+0x1;if(_0x4e10ec>0x17)_0x4e10ec=0x0;const _0x880a38=String(_0x4e10ec)[_0x49c964(0x273)](0x2,'0')+':'+String(_0x5dae31)[_0x49c964(0x273)](0x2,'0');document[_0x49c964(0x226)](_0x49c964(0x214))[_0x49c964(0x19e)]=_0x880a38;}function populateClientSelect(){const _0x3fb9c1=a2_0x35e6b3,_0x511288=document[_0x3fb9c1(0x226)](_0x3fb9c1(0x235));_0x511288['innerHTML']='';if(clients[_0x3fb9c1(0x256)]===0x0){const _0x51cee3=document[_0x3fb9c1(0x150)](_0x3fb9c1(0x1ec));_0x51cee3['text']=_0x3fb9c1(0x223),_0x511288[_0x3fb9c1(0x28a)](_0x51cee3);return;}clients[_0x3fb9c1(0x291)](_0x511d2c=>{const _0xbf738b=_0x3fb9c1,_0x1918b9=document[_0xbf738b(0x150)](_0xbf738b(0x1ec));_0x1918b9[_0xbf738b(0x19e)]=_0x511d2c[_0xbf738b(0x143)],_0x1918b9['textContent']=_0x511d2c[_0xbf738b(0x143)],_0x511288[_0xbf738b(0x28a)](_0x1918b9);});}function openActionSheet(_0x404b95){const _0x2d004f=a2_0x35e6b3,_0x43a98b=document['getElementById'](_0x2d004f(0x19d)),_0x7b17b0=document[_0x2d004f(0x226)]('actionSheetOverlay'),_0x3fb58a=document[_0x2d004f(0x226)](_0x2d004f(0x1f4)),_0x58332e=document[_0x2d004f(0x226)]('asBtnOne'),_0x3319b9=document[_0x2d004f(0x226)]('asBtnSeries');_0x7b17b0[_0x2d004f(0x21e)][_0x2d004f(0x174)]('active'),_0x43a98b[_0x2d004f(0x21e)][_0x2d004f(0x174)](_0x2d004f(0x200));if(_0x404b95===_0x2d004f(0x210))_0x3fb58a[_0x2d004f(0x15c)]='–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏',_0x58332e[_0x2d004f(0x15c)]='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x58332e[_0x2d004f(0x1ad)]=()=>{const _0x236981=_0x2d004f;closeActionSheet(),updateSeriesBatch(_0x236981(0x276),tempSessionData);},_0x3319b9[_0x2d004f(0x15c)]=_0x2d004f(0x262),_0x3319b9[_0x2d004f(0x1ad)]=()=>{const _0x9cfa07=_0x2d004f;closeActionSheet(),updateSeriesBatch(_0x9cfa07(0x293),tempSessionData);};else _0x404b95===_0x2d004f(0x1ae)&&(_0x3fb58a[_0x2d004f(0x15c)]=_0x2d004f(0x1db),_0x58332e[_0x2d004f(0x15c)]=_0x2d004f(0x247),_0x58332e[_0x2d004f(0x27d)]=_0x2d004f(0x2c4),_0x58332e[_0x2d004f(0x1ad)]=()=>{closeActionSheet(),commitDelete('single',sessions['find'](_0xf8b404=>_0xf8b404['id']===editingId));},_0x3319b9[_0x2d004f(0x15c)]=_0x2d004f(0x262),_0x3319b9[_0x2d004f(0x27d)]='as-button\x20danger\x20bold',_0x3319b9['onclick']=()=>{const _0xf1d2bb=_0x2d004f;closeActionSheet(),commitDelete(_0xf1d2bb(0x293),sessions[_0xf1d2bb(0x1b9)](_0x522ab1=>_0x522ab1['id']===editingId));});}function closeActionSheet(){const _0x23010f=a2_0x35e6b3;document[_0x23010f(0x226)](_0x23010f(0x19d))['classList'][_0x23010f(0x195)]('open'),document[_0x23010f(0x226)](_0x23010f(0x1b0))[_0x23010f(0x21e)][_0x23010f(0x195)](_0x23010f(0x268));}function openSettings(){const _0x106017=a2_0x35e6b3;openSheet(_0x106017(0x26c));}function saveCoachSettings(){const _0x5708db=a2_0x35e6b3,_0x584449=document[_0x5708db(0x226)](_0x5708db(0x1cd))[_0x5708db(0x19e)];localStorage[_0x5708db(0x1c8)]('uc_settings_cancel_window',_0x584449),console[_0x5708db(0x29d)](_0x5708db(0x198),_0x584449),DataManager[_0x5708db(0x202)]('save_settings',{'settings':{'cancel_window':_0x584449}})[_0x5708db(0x15d)](_0x429093=>{const _0x2e85c4=_0x5708db;console[_0x2e85c4(0x1e5)]('Save\x20settings\x20error:',_0x429093),showToast(_0x2e85c4(0x1d5),![]);});}function loadCoachSettings(){const _0x55b7af=a2_0x35e6b3,_0x1b258b=localStorage[_0x55b7af(0x23f)](_0x55b7af(0x1f9));_0x1b258b&&(document[_0x55b7af(0x226)](_0x55b7af(0x1cd))[_0x55b7af(0x19e)]=_0x1b258b);}function openRangesSheet(){const _0x5159fd=a2_0x35e6b3;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x5159fd(0x254));}function addRange(){const _0x1abce5=a2_0x35e6b3,_0x3aa597=document[_0x1abce5(0x226)](_0x1abce5(0x17d))[_0x1abce5(0x19e)],_0x502e4f=document[_0x1abce5(0x226)](_0x1abce5(0x25b))[_0x1abce5(0x19e)],_0x47be6a=document['getElementById'](_0x1abce5(0x2b8))[_0x1abce5(0x19e)],_0x14090d=document[_0x1abce5(0x226)]('rangeEndTime')[_0x1abce5(0x19e)];if(!_0x3aa597||!_0x502e4f||!_0x47be6a||!_0x14090d)return alert(_0x1abce5(0x2a6));const _0x5e3750=_0x3aa597+'T'+_0x502e4f,_0x1ef300=_0x47be6a+'T'+_0x14090d;if(_0x5e3750>=_0x1ef300)return alert(_0x1abce5(0x16a));specialRanges[_0x1abce5(0x29c)]({'start':_0x5e3750,'end':_0x1ef300}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x1abce5(0x240)](),DataManager[_0x1abce5(0x202)](_0x1abce5(0x146),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x1c628d){const _0x175235=a2_0x35e6b3;specialRanges[_0x175235(0x2a3)](_0x1c628d,0x1),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x175235(0x202)](_0x175235(0x146),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x5a0752=a2_0x35e6b3;document['getElementById'](_0x5a0752(0x17d))[_0x5a0752(0x19e)]='',document[_0x5a0752(0x226)]('rangeStartTime')['value']=_0x5a0752(0x208),document['getElementById'](_0x5a0752(0x2b8))['value']='',document[_0x5a0752(0x226)](_0x5a0752(0x259))[_0x5a0752(0x19e)]=_0x5a0752(0x1b4);}function renderRangesList(){const _0x49c368=a2_0x35e6b3,_0x144d16=document['getElementById'](_0x49c368(0x18e));_0x144d16['innerHTML']='';if(!specialRanges['length']){_0x144d16[_0x49c368(0x20f)]=_0x49c368(0x153);return;}specialRanges[_0x49c368(0x291)]((_0x28c3cd,_0x58425e)=>{const _0x311bb8=_0x49c368,_0x572164=document['createElement']('div');_0x572164[_0x311bb8(0x27d)]=_0x311bb8(0x1ab);const _0x4bbd19=_0x4a1259=>{const _0x6cf835=_0x311bb8,_0x332fe1=new Date(_0x4a1259);return _0x332fe1['getDate']()+'.'+String(_0x332fe1['getMonth']()+0x1)[_0x6cf835(0x273)](0x2,'0')+'\x20'+String(_0x332fe1['getHours']())[_0x6cf835(0x273)](0x2,'0')+':'+String(_0x332fe1[_0x6cf835(0x2a4)]())[_0x6cf835(0x273)](0x2,'0');};_0x572164[_0x311bb8(0x20f)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>'+_0x4bbd19(_0x28c3cd['start'])+_0x311bb8(0x2a0)+_0x4bbd19(_0x28c3cd[_0x311bb8(0x287)])+_0x311bb8(0x227)+_0x58425e+_0x311bb8(0x13c),_0x144d16[_0x311bb8(0x28a)](_0x572164);});}function scrollToToday(){const _0x4a188c=a2_0x35e6b3,_0x59e1b9=getLocalDateStr(new Date()),_0x6b0c03=document['getElementById'](_0x4a188c(0x215)+_0x59e1b9),_0x32418d=document[_0x4a188c(0x226)](_0x4a188c(0x231));if(_0x6b0c03&&_0x32418d){const _0x20425a=_0x32418d[_0x4a188c(0x21a)],_0x43f28d=_0x6b0c03[_0x4a188c(0x216)],_0x28d068=_0x6b0c03[_0x4a188c(0x201)];_0x32418d[_0x4a188c(0x263)]=_0x43f28d-_0x20425a/0x2+_0x28d068/0x2,_0x32418d[_0x4a188c(0x23a)]=0x9*GRID_H;}}function onScroll(){const _0x52434f=a2_0x35e6b3,_0x33f10c=document[_0x52434f(0x226)](_0x52434f(0x231)),_0x19ddf0=document[_0x52434f(0x283)]('.day-col-header');for(let _0x28a143 of _0x19ddf0)if(_0x28a143['offsetLeft']>=_0x33f10c[_0x52434f(0x263)]){const _0x18d152=new Date(_0x28a143[_0x52434f(0x2c5)](_0x52434f(0x1a4)));document[_0x52434f(0x226)](_0x52434f(0x149))[_0x52434f(0x15c)]=_0x18d152['toLocaleString']('ru',{'month':_0x52434f(0x1d8)})[_0x52434f(0x13d)]()+'\x20'+_0x18d152[_0x52434f(0x238)]();break;}}function showToast(_0x4db4cb,_0xa2e9a4=![]){const _0x4dd044=a2_0x35e6b3,_0xa8c970=document[_0x4dd044(0x226)](_0x4dd044(0x1e6));_0xa8c970[_0x4dd044(0x27d)]=_0x4dd044(0x1af)+(_0xa2e9a4?_0x4dd044(0x165):''),document[_0x4dd044(0x226)](_0x4dd044(0x22a))[_0x4dd044(0x15c)]=_0xa2e9a4?_0x4dd044(0x19f):_0x4dd044(0x189),document[_0x4dd044(0x226)]('toastMessage')['textContent']=_0x4db4cb,_0xa8c970[_0x4dd044(0x21e)][_0x4dd044(0x174)](_0x4dd044(0x1fb)),setTimeout(()=>{const _0x410f5c=_0x4dd044;_0xa8c970[_0x410f5c(0x21e)]['remove']('show');},0xbb8);}function openDayOptions(_0x12a6b9,_0x7130dc){selectedDayForOptions=_0x12a6b9,document['getElementById']('dayOptionsTitle')['textContent']=_0x7130dc,openSheet('dayOptionsSheet');}function toggleDayOff(){const _0x380811=a2_0x35e6b3;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x380811(0x23e),reRenderBlocks(),closeAllSheets(),DataManager[_0x380811(0x240)](),DataManager[_0x380811(0x202)](_0x380811(0x146),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x51c3da=a2_0x35e6b3;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x51c3da(0x240)](),DataManager[_0x51c3da(0x202)](_0x51c3da(0x146),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x68c081){const _0x18fe80=a2_0x35e6b3;document[_0x18fe80(0x226)]('overlay')[_0x18fe80(0x21e)][_0x18fe80(0x174)](_0x18fe80(0x268)),document[_0x18fe80(0x226)](_0x68c081)[_0x18fe80(0x21e)][_0x18fe80(0x174)](_0x18fe80(0x200));}function a2_0x2ba2(_0x134ddf,_0x4e092c){_0x134ddf=_0x134ddf-0x13c;const _0x58c720=a2_0x3aa4();let _0x25f0bb=_0x58c720[_0x134ddf];return _0x25f0bb;}function closeAllSheets(){const _0x8a8330=a2_0x35e6b3;document[_0x8a8330(0x226)](_0x8a8330(0x1d1))[_0x8a8330(0x21e)][_0x8a8330(0x195)](_0x8a8330(0x268)),document[_0x8a8330(0x283)](_0x8a8330(0x1cb))[_0x8a8330(0x291)](_0x244c87=>_0x244c87[_0x8a8330(0x21e)]['remove']('open'));}function openPatternEditor(){const _0x27dcd6=a2_0x35e6b3;closeAllSheets(),document[_0x27dcd6(0x226)](_0x27dcd6(0x17a))[_0x27dcd6(0x21e)][_0x27dcd6(0x174)](_0x27dcd6(0x200)),renderPatternEditor();}function closePatternEditor(){const _0x5f2a40=a2_0x35e6b3;document[_0x5f2a40(0x226)](_0x5f2a40(0x17a))[_0x5f2a40(0x21e)][_0x5f2a40(0x195)](_0x5f2a40(0x200));}function savePattern(){const _0x150331=a2_0x35e6b3;document[_0x150331(0x226)](_0x150331(0x17a))['classList'][_0x150331(0x195)]('open'),reRenderBlocks(),DataManager['saveLocally'](),DataManager['fetchFromServer'](_0x150331(0x146),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x41a246=a2_0x35e6b3,_0x12403b=document['getElementById']('peGrid');_0x12403b['innerHTML']='';const _0x261bd2=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1699de=document[_0x41a246(0x150)](_0x41a246(0x265));_0x1699de[_0x41a246(0x27d)]='pe-corner',_0x12403b[_0x41a246(0x28a)](_0x1699de),_0x261bd2['forEach']((_0xb1d0b3,_0x317b79)=>{const _0x2344f6=_0x41a246,_0x11ccb5=document['createElement']('div');_0x11ccb5[_0x2344f6(0x27d)]=_0x2344f6(0x209),_0x11ccb5[_0x2344f6(0x20f)]=_0xb1d0b3+_0x2344f6(0x278),_0x11ccb5['onclick']=()=>toggleColPattern(_0x317b79),_0x12403b['appendChild'](_0x11ccb5);});for(let _0x299e50=0x0;_0x299e50<0x18;_0x299e50++){const _0x5a35ac=document['createElement'](_0x41a246(0x265));_0x5a35ac[_0x41a246(0x27d)]=_0x41a246(0x168),_0x5a35ac[_0x41a246(0x20f)]=_0x41a246(0x1eb)+String(_0x299e50)['padStart'](0x2,'0')+_0x41a246(0x2b5),_0x5a35ac[_0x41a246(0x1ad)]=()=>toggleRowPattern(_0x299e50),_0x12403b[_0x41a246(0x28a)](_0x5a35ac);for(let _0x36958e=0x0;_0x36958e<0x7;_0x36958e++){const _0x372580=document[_0x41a246(0x150)](_0x41a246(0x265)),_0xee0614=(availabilityPattern[_0x36958e]||[])[_0x41a246(0x18d)](_0x299e50),_0x439607=!_0xee0614;_0x372580['className']=_0x41a246(0x1fe)+(_0x439607?_0x41a246(0x268):''),_0x372580[_0x41a246(0x1ad)]=()=>toggleSinglePattern(_0x36958e,_0x299e50),_0x12403b[_0x41a246(0x28a)](_0x372580);}}}function toggleSinglePattern(_0x8390fd,_0xdf5267){const _0x3b9289=a2_0x35e6b3;if(!availabilityPattern[_0x8390fd])availabilityPattern[_0x8390fd]=[];const _0x3b884e=availabilityPattern[_0x8390fd],_0x5053c4=_0x3b884e[_0x3b9289(0x164)](_0xdf5267);_0x5053c4===-0x1?_0x3b884e['push'](_0xdf5267):_0x3b884e['splice'](_0x5053c4,0x1),renderPatternEditor();}function toggleColPattern(_0x2ae500){const _0x4b24db=a2_0x35e6b3;if(!availabilityPattern[_0x2ae500])availabilityPattern[_0x2ae500]=[];const _0x249294=availabilityPattern[_0x2ae500];_0x249294['length']===0x0?availabilityPattern[_0x2ae500]=Array[_0x4b24db(0x14b)]({'length':0x18},(_0x118faf,_0x19ee48)=>_0x19ee48):availabilityPattern[_0x2ae500]=[],renderPatternEditor();}function toggleRowPattern(_0x19d866){const _0x2eaaa0=a2_0x35e6b3;let _0x5a4c39=!![];for(let _0x11997b=0x0;_0x11997b<0x7;_0x11997b++){if((availabilityPattern[_0x11997b]||[])[_0x2eaaa0(0x18d)](_0x19d866)){_0x5a4c39=![];break;}}for(let _0x568dcb=0x0;_0x568dcb<0x7;_0x568dcb++){if(!availabilityPattern[_0x568dcb])availabilityPattern[_0x568dcb]=[];const _0xc62a4d=availabilityPattern[_0x568dcb][_0x2eaaa0(0x164)](_0x19d866);if(_0x5a4c39){if(_0xc62a4d===-0x1)availabilityPattern[_0x568dcb][_0x2eaaa0(0x29c)](_0x19d866);}else{if(_0xc62a4d!==-0x1)availabilityPattern[_0x568dcb]['splice'](_0xc62a4d,0x1);}}renderPatternEditor();}function renderPCol(_0x8a4236,_0x364f79){const _0x32f990=a2_0x35e6b3;_0x8a4236[_0x32f990(0x20f)]='';const _0x20757a=Math[_0x32f990(0x159)](_0x8a4236[_0x32f990(0x216)]);(availabilityPattern[_0x364f79]||[])[_0x32f990(0x291)](_0x3193a8=>{const _0x377a51=_0x32f990,_0x20523b=document['createElement']('div');_0x20523b['className']='blocked-slot\x20stripe-bg';const _0x3734c2=_0x3193a8*GRID_H;_0x20523b[_0x377a51(0x1aa)]['top']=_0x3734c2+'px',_0x20523b['style'][_0x377a51(0x1a1)]='-'+_0x20757a+_0x377a51(0x1cc)+_0x3734c2+'px',_0x20523b['onclick']=_0x198eec=>{const _0x36491a=_0x377a51;_0x198eec[_0x36491a(0x225)](),toggleSinglePattern(_0x364f79,_0x3193a8);},_0x8a4236['appendChild'](_0x20523b);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x53cc5f=a2_0x35e6b3,_0x2a46d9=new Date(),_0x45b73c=document[_0x53cc5f(0x226)](_0x53cc5f(0x228)),_0x1eb5f2=document[_0x53cc5f(0x226)]('timeLineBadge'),_0x930e07=(_0x2a46d9[_0x53cc5f(0x142)]()*0x3c+_0x2a46d9[_0x53cc5f(0x2a4)]())/0x3c*GRID_H;_0x45b73c[_0x53cc5f(0x1aa)][_0x53cc5f(0x248)]=_0x930e07+'px',_0x45b73c['style'][_0x53cc5f(0x1a3)]=_0x53cc5f(0x162),_0x1eb5f2[_0x53cc5f(0x15c)]=String(_0x2a46d9[_0x53cc5f(0x142)]())['padStart'](0x2,'0')+':'+String(_0x2a46d9[_0x53cc5f(0x2a4)]())[_0x53cc5f(0x273)](0x2,'0'),_0x1eb5f2[_0x53cc5f(0x1aa)][_0x53cc5f(0x1a3)]='block',_0x1eb5f2[_0x53cc5f(0x1aa)][_0x53cc5f(0x248)]=_0x930e07+'px';}document[a2_0x35e6b3(0x161)](a2_0x35e6b3(0x2b4),init);function openDayOptions(_0x117c31){const _0x3a3906=a2_0x35e6b3;selectedDayForOptions=_0x117c31;const _0x4d56ff=new Date(_0x117c31),_0x5a19ec={'weekday':_0x3a3906(0x1d8),'day':_0x3a3906(0x16c),'month':_0x3a3906(0x1d8),'year':_0x3a3906(0x16c)},_0x2510c6=_0x4d56ff[_0x3a3906(0x236)]('ru-RU',_0x5a19ec);document[_0x3a3906(0x226)]('doDateHeader')['textContent']=_0x2510c6[_0x3a3906(0x1d6)](0x0)['toUpperCase']()+_0x2510c6[_0x3a3906(0x1b8)](0x1);let _0x3eb6aa=_0x4d56ff[_0x3a3906(0x1bd)]()-0x1;if(_0x3eb6aa===-0x1)_0x3eb6aa=0x6;const _0x7fbcff=availabilityPattern[_0x3eb6aa]||[],_0x456402=0x18-_0x7fbcff[_0x3a3906(0x256)],_0x44a848=_0x456402*0x3c,_0x465d27=sessions[_0x3a3906(0x2b2)](_0x29e207=>_0x29e207[_0x3a3906(0x1b5)]===_0x117c31&&_0x29e207[_0x3a3906(0x204)]!=='cancelled');let _0x782a32=_0x465d27[_0x3a3906(0x22c)](_0x5deaae=>{const _0x20d01b=_0x3a3906,[_0x3cc8e8,_0xa0805e]=_0x5deaae[_0x20d01b(0x2bc)][_0x20d01b(0x26e)](':')[_0x20d01b(0x22c)](Number),[_0x5718b1,_0x2a04cb]=_0x5deaae[_0x20d01b(0x287)][_0x20d01b(0x26e)](':')['map'](Number);return[_0x3cc8e8*0x3c+_0xa0805e,_0x5718b1*0x3c+_0x2a04cb];});_0x782a32[_0x3a3906(0x21d)]((_0x55db21,_0x14390a)=>_0x55db21[0x0]-_0x14390a[0x0]);let _0x111370=[];if(_0x782a32['length']>0x0){let _0x187d57=_0x782a32[0x0];for(let _0x192696=0x1;_0x192696<_0x782a32['length'];_0x192696++){_0x782a32[_0x192696][0x0]<_0x187d57[0x1]?_0x187d57[0x1]=Math[_0x3a3906(0x180)](_0x187d57[0x1],_0x782a32[_0x192696][0x1]):(_0x111370[_0x3a3906(0x29c)](_0x187d57),_0x187d57=_0x782a32[_0x192696]);}_0x111370[_0x3a3906(0x29c)](_0x187d57);}let _0x232ab6=0x0;_0x111370['forEach'](_0x392bb8=>_0x232ab6+=_0x392bb8[0x1]-_0x392bb8[0x0]),document[_0x3a3906(0x226)](_0x3a3906(0x233))[_0x3a3906(0x15c)]=formatMinsToHrs(_0x44a848),document['getElementById'](_0x3a3906(0x1da))[_0x3a3906(0x15c)]=formatMinsToHrs(_0x232ab6);const _0x45058b=_0x44a848>0x0?Math[_0x3a3906(0x159)](_0x232ab6/_0x44a848*0x64):0x0,_0x1501df=document['getElementById'](_0x3a3906(0x145));_0x1501df[_0x3a3906(0x15c)]=_0x45058b+'%';const _0x4cf787=document[_0x3a3906(0x226)](_0x3a3906(0x297));if(_0x45058b>0x64)_0x1501df[_0x3a3906(0x1aa)]['color']=_0x3a3906(0x1f6),_0x4cf787['style']['borderColor']=_0x3a3906(0x147);else _0x45058b>0x50?(_0x1501df[_0x3a3906(0x1aa)][_0x3a3906(0x181)]=_0x3a3906(0x1b3),_0x4cf787[_0x3a3906(0x1aa)][_0x3a3906(0x2bd)]=_0x3a3906(0x192)):(_0x1501df[_0x3a3906(0x1aa)]['color']=_0x3a3906(0x156),_0x4cf787[_0x3a3906(0x1aa)][_0x3a3906(0x2bd)]=_0x3a3906(0x14e));const _0x302df9=document['getElementById']('doEventsList');_0x302df9[_0x3a3906(0x20f)]='';_0x465d27[_0x3a3906(0x256)]===0x0?_0x302df9['innerHTML']=_0x3a3906(0x19b):(_0x465d27['sort']((_0x33d2aa,_0x2cf4d3)=>_0x33d2aa[_0x3a3906(0x2bc)]['localeCompare'](_0x2cf4d3['start'])),_0x465d27[_0x3a3906(0x291)](_0x4aa515=>{const _0x1fce60=_0x3a3906,_0x64acfd=clients['find'](_0x422c5c=>_0x422c5c[_0x1fce60(0x143)]===_0x4aa515[_0x1fce60(0x1fa)]),_0x28bc80=_0x64acfd?_0x64acfd['color']:_0x1fce60(0x1b2),_0x971c7=_0x4aa515[_0x1fce60(0x204)]===_0x1fce60(0x2c1),_0xbf16b1=_0x971c7?'<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>':'',_0x5a3764=document['createElement'](_0x1fce60(0x265));_0x5a3764[_0x1fce60(0x27d)]=_0x1fce60(0x1be),_0x5a3764[_0x1fce60(0x1aa)][_0x1fce60(0x255)]=_0x28bc80,_0x5a3764[_0x1fce60(0x20f)]=_0x1fce60(0x23d)+_0x4aa515[_0x1fce60(0x2bc)]+_0x1fce60(0x144)+_0x4aa515['end']+_0x1fce60(0x271)+_0x4aa515[_0x1fce60(0x1fa)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xbf16b1+_0x1fce60(0x20d),_0x302df9[_0x1fce60(0x28a)](_0x5a3764);}));const _0x4ce05c=document[_0x3a3906(0x226)]('btnDayToggle'),_0x521118=dateExceptions[_0x117c31]===_0x3a3906(0x23e);_0x521118?(_0x4ce05c[_0x3a3906(0x15c)]=_0x3a3906(0x29e),_0x4ce05c[_0x3a3906(0x27d)]=_0x3a3906(0x151),_0x4ce05c[_0x3a3906(0x1aa)][_0x3a3906(0x181)]=_0x3a3906(0x156),_0x4ce05c[_0x3a3906(0x1aa)]['background']=_0x3a3906(0x173)):(_0x4ce05c['textContent']=_0x3a3906(0x1f1),_0x4ce05c['className']=_0x3a3906(0x275),_0x4ce05c[_0x3a3906(0x1aa)][_0x3a3906(0x181)]=_0x3a3906(0x1f6),_0x4ce05c[_0x3a3906(0x1aa)][_0x3a3906(0x1c9)]='rgba(255,\x2069,\x2058,\x200.15)'),openSheet(_0x3a3906(0x1e3));}let currentAnPeriod='week';function openAnalytics(){const _0x5491db=a2_0x35e6b3,_0x345c12=document[_0x5491db(0x1c3)]('.period-switch\x20.p-btn');setAnalyticsPeriod(_0x5491db(0x2a7),_0x345c12),closeAllSheets(),openSheet(_0x5491db(0x277));}function setAnalyticsPeriod(_0x254639,_0x4ebd28){const _0xea79dd=a2_0x35e6b3;currentAnPeriod=_0x254639,document[_0xea79dd(0x283)](_0xea79dd(0x224))['forEach'](_0x2c38b0=>_0x2c38b0[_0xea79dd(0x21e)][_0xea79dd(0x195)](_0xea79dd(0x268)));if(_0x4ebd28)_0x4ebd28['classList'][_0xea79dd(0x174)]('active');const _0x56e39c=document['getElementById'](_0xea79dd(0x207));_0x56e39c[_0xea79dd(0x1aa)][_0xea79dd(0x1a3)]=_0x254639===_0xea79dd(0x17b)?_0xea79dd(0x1c0):_0xea79dd(0x14f);const _0x17ce7b=new Date();let _0x5051a9=new Date(),_0x57231e=new Date();if(_0x254639===_0xea79dd(0x2a7))_0x5051a9=getStartOfWeek(_0x17ce7b),_0x57231e=new Date(_0x5051a9),_0x57231e['setDate'](_0x57231e[_0xea79dd(0x148)]()+0x6);else{if(_0x254639==='month')_0x5051a9=new Date(_0x17ce7b['getFullYear'](),_0x17ce7b['getMonth'](),0x1),_0x57231e=new Date(_0x17ce7b[_0xea79dd(0x238)](),_0x17ce7b[_0xea79dd(0x274)]()+0x1,0x0);else{!document[_0xea79dd(0x226)](_0xea79dd(0x163))[_0xea79dd(0x19e)]&&(document[_0xea79dd(0x226)]('anStart')[_0xea79dd(0x19e)]=getLocalDateStr(_0x17ce7b),document['getElementById'](_0xea79dd(0x1ea))['value']=getLocalDateStr(_0x17ce7b));refreshAnalytics();return;}}document[_0xea79dd(0x226)](_0xea79dd(0x163))['value']=getLocalDateStr(_0x5051a9),document[_0xea79dd(0x226)]('anEnd')['value']=getLocalDateStr(_0x57231e),refreshAnalytics();}function refreshAnalytics(){const _0x33fbbe=a2_0x35e6b3,_0xb53cc9=document['getElementById'](_0x33fbbe(0x163))[_0x33fbbe(0x19e)],_0x4f3a56=document['getElementById'](_0x33fbbe(0x1ea))[_0x33fbbe(0x19e)];if(!_0xb53cc9||!_0x4f3a56)return;const _0x2ce2b6=sessions[_0x33fbbe(0x2b2)](_0x307142=>_0x307142[_0x33fbbe(0x1b5)]>=_0xb53cc9&&_0x307142[_0x33fbbe(0x1b5)]<=_0x4f3a56&&_0x307142[_0x33fbbe(0x204)]!==_0x33fbbe(0x1c6)),_0x54fee2=_0x2ce2b6['length'],_0x5cca63=_0x2ce2b6[_0x33fbbe(0x2b2)](_0x5d8dff=>_0x5d8dff[_0x33fbbe(0x204)]===_0x33fbbe(0x2c1))[_0x33fbbe(0x256)],_0x368e5b=_0x54fee2>0x0?Math[_0x33fbbe(0x159)](_0x5cca63/_0x54fee2*0x64):0x0;document[_0x33fbbe(0x226)](_0x33fbbe(0x1ee))[_0x33fbbe(0x15c)]=_0x368e5b+'%',document[_0x33fbbe(0x226)]('anTotalStats')['textContent']=_0x5cca63+_0x33fbbe(0x28f)+_0x54fee2+_0x33fbbe(0x269);const _0x3d62f8=document[_0x33fbbe(0x226)](_0x33fbbe(0x1f0)),_0x3c51ea=0x2*Math['PI']*0x23,_0x5c9b28=_0x3c51ea-_0x368e5b/0x64*_0x3c51ea;_0x3d62f8[_0x33fbbe(0x1aa)][_0x33fbbe(0x2bf)]=_0x5c9b28;const _0x242217={};_0x2ce2b6['forEach'](_0x256c2c=>{const _0x104485=_0x33fbbe;if(!_0x242217[_0x256c2c['client']]){const _0x37593a=clients[_0x104485(0x1b9)](_0x574de9=>_0x574de9['name']===_0x256c2c['client']);_0x242217[_0x256c2c[_0x104485(0x1fa)]]={'total':0x0,'done':0x0,'color':_0x37593a?_0x37593a[_0x104485(0x181)]:'#fff'};}_0x242217[_0x256c2c[_0x104485(0x1fa)]][_0x104485(0x1ca)]++;if(_0x256c2c[_0x104485(0x204)]==='completed')_0x242217[_0x256c2c[_0x104485(0x1fa)]][_0x104485(0x140)]++;});const _0x7d7f7e=document[_0x33fbbe(0x226)](_0x33fbbe(0x25f));_0x7d7f7e[_0x33fbbe(0x20f)]='';const _0x24e895=Object[_0x33fbbe(0x20e)](_0x242217)[_0x33fbbe(0x21d)]((_0x2e5901,_0x19f2ce)=>_0x19f2ce[0x1][_0x33fbbe(0x1ca)]-_0x2e5901[0x1][_0x33fbbe(0x1ca)]);if(_0x24e895[_0x33fbbe(0x256)]===0x0){_0x7d7f7e['innerHTML']=_0x33fbbe(0x18f);return;}_0x24e895[_0x33fbbe(0x291)](([_0x141605,_0x144619])=>{const _0x1390ee=_0x33fbbe,_0x64bb33=Math[_0x1390ee(0x159)](_0x144619['done']/_0x144619['total']*0x64),_0x5816e1=document[_0x1390ee(0x150)](_0x1390ee(0x265));_0x5816e1['className']=_0x1390ee(0x18c),_0x5816e1[_0x1390ee(0x1aa)][_0x1390ee(0x255)]=_0x144619[_0x1390ee(0x181)],_0x5816e1[_0x1390ee(0x20f)]=_0x1390ee(0x22e)+_0x141605+_0x1390ee(0x190)+_0x144619[_0x1390ee(0x140)]+_0x1390ee(0x1dc)+_0x144619[_0x1390ee(0x1ca)]+_0x1390ee(0x186)+_0x64bb33+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x7d7f7e[_0x1390ee(0x28a)](_0x5816e1);});}function formatMinsToHrs(_0x182573){const _0x284ea7=a2_0x35e6b3;if(_0x182573===0x0)return'0';const _0x13ec0b=Math[_0x284ea7(0x237)](_0x182573/0x3c),_0x436bd8=_0x182573%0x3c;if(_0x436bd8===0x0)return _0x13ec0b+'—á';return _0x13ec0b+'—á\x20'+_0x436bd8+'–º';}