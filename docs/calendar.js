const a2_0x2f47c5=a2_0x938e;(function(_0x3b1e73,_0x52c817){const _0x367ddd=a2_0x938e,_0x6df744=_0x3b1e73();while(!![]){try{const _0x4e38bf=-parseInt(_0x367ddd(0x292))/0x1+parseInt(_0x367ddd(0x2df))/0x2+-parseInt(_0x367ddd(0x18f))/0x3*(-parseInt(_0x367ddd(0x201))/0x4)+-parseInt(_0x367ddd(0x1bd))/0x5+-parseInt(_0x367ddd(0x297))/0x6+-parseInt(_0x367ddd(0x1c0))/0x7*(parseInt(_0x367ddd(0x20d))/0x8)+-parseInt(_0x367ddd(0x1d6))/0x9*(-parseInt(_0x367ddd(0x2ce))/0xa);if(_0x4e38bf===_0x52c817)break;else _0x6df744['push'](_0x6df744['shift']());}catch(_0x90d443){_0x6df744['push'](_0x6df744['shift']());}}}(a2_0x8ab4,0xe2d2b),function initTMA(){const _0x109de5=a2_0x938e,_0x564a66=(function(){let _0x3e0743=!![];return function(_0x2d3a5a,_0x2fcb48){const _0x4e4df1=_0x3e0743?function(){const _0x57c918=a2_0x938e;if(_0x2fcb48){const _0x489136=_0x2fcb48[_0x57c918(0x26b)](_0x2d3a5a,arguments);return _0x2fcb48=null,_0x489136;}}:function(){};return _0x3e0743=![],_0x4e4df1;};}()),_0x473af2=_0x564a66(this,function(){const _0x2b1cd9=a2_0x938e;return _0x473af2['toString']()[_0x2b1cd9(0x267)](_0x2b1cd9(0x205))[_0x2b1cd9(0x2a8)]()[_0x2b1cd9(0x278)](_0x473af2)[_0x2b1cd9(0x267)](_0x2b1cd9(0x205));});_0x473af2();try{const _0x507c35=window[_0x109de5(0x21f)]?.[_0x109de5(0x1b4)];if(!_0x507c35)return;_0x507c35['ready'](),_0x507c35['expand']();try{_0x507c35[_0x109de5(0x2f2)](_0x109de5(0x298)),_0x507c35[_0x109de5(0x1f2)]&&_0x507c35[_0x109de5(0x1f2)](_0x109de5(0x298));}catch(_0x52d9f6){console['log'](_0x109de5(0x28b),_0x52d9f6);}try{_0x507c35['BackButton']&&(_0x507c35[_0x109de5(0x1bc)]['show'](),_0x507c35[_0x109de5(0x1bc)]['offClick'](),_0x507c35[_0x109de5(0x1bc)][_0x109de5(0x186)](function(){const _0x3b4917=_0x109de5;window[_0x3b4917(0x270)][_0x3b4917(0x299)]=_0x3b4917(0x2fb);}));}catch(_0x55f68d){console[_0x109de5(0x1ac)](_0x109de5(0x20f),_0x55f68d);}try{if(_0x507c35[_0x109de5(0x1a5)])_0x507c35['disableVerticalSwipes']();}catch(_0x439d45){}}catch(_0xdf8abd){console[_0x109de5(0x2af)](_0x109de5(0x1d3),_0xdf8abd);}}());function a2_0x938e(_0x5c88d8,_0x23bb4a){_0x5c88d8=_0x5c88d8-0x17e;const _0x11a808=a2_0x8ab4();let _0x2e4e10=_0x11a808[_0x5c88d8];return _0x2e4e10;}function isAdmin(){const _0x126572=a2_0x938e;try{const _0x26be47=Number(window['Telegram']?.[_0x126572(0x1b4)]?.['initDataUnsafe']?.['user']?.['id']);return _0x26be47===0xbaf7174;}catch(_0x33d48d){return![];}}const APP_VERSION=a2_0x2f47c5(0x243),API_URL=a2_0x2f47c5(0x258),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x2f47c5(0x249),KEY_SESSIONS=a2_0x2f47c5(0x1ed),KEY_SETTINGS=a2_0x2f47c5(0x27c);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x2efcde=a2_0x2f47c5;return window[_0x2efcde(0x21f)]?.[_0x2efcde(0x1b4)]?.['initDataUnsafe']?.[_0x2efcde(0x233)]?.['id']||'guest';},'saveLocally'(){const _0x25d754=a2_0x2f47c5;try{localStorage[_0x25d754(0x19c)](KEY_CLIENTS,JSON[_0x25d754(0x20e)](clients)),localStorage[_0x25d754(0x19c)](KEY_SESSIONS,JSON[_0x25d754(0x20e)](sessions)),localStorage['setItem'](KEY_SETTINGS,JSON[_0x25d754(0x20e)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x178682){console[_0x25d754(0x2af)]('Local\x20Save\x20Error',_0x178682);}},'loadLocal'(){const _0x2289f5=a2_0x2f47c5;try{const _0x3e36c5=localStorage[_0x2289f5(0x235)](KEY_CLIENTS);if(_0x3e36c5)clients=JSON[_0x2289f5(0x214)](_0x3e36c5);const _0x5cfb4c=localStorage['getItem'](KEY_SESSIONS);if(_0x5cfb4c)sessions=JSON[_0x2289f5(0x214)](_0x5cfb4c);const _0x424af5=localStorage[_0x2289f5(0x235)](KEY_SETTINGS);if(_0x424af5){const _0xc784c5=JSON['parse'](_0x424af5);if(_0xc784c5[_0x2289f5(0x26a)])availabilityPattern=_0xc784c5[_0x2289f5(0x26a)];if(_0xc784c5[_0x2289f5(0x250)])dateExceptions=_0xc784c5[_0x2289f5(0x250)];if(_0xc784c5[_0x2289f5(0x251)])specialRanges=_0xc784c5[_0x2289f5(0x251)];}else{for(let _0x5f12e9=0x0;_0x5f12e9<0x7;_0x5f12e9++)availabilityPattern[_0x5f12e9]=Array['from']({'length':0xc},(_0x514dd7,_0x541018)=>_0x541018+0x9);}}catch(_0x4d9aba){console[_0x2289f5(0x2af)](_0x2289f5(0x242),_0x4d9aba);}},async 'fetchFromServer'(_0x196451,_0x643b3a={}){const _0x38528c=a2_0x2f47c5,_0xbf36e9=window[_0x38528c(0x21f)]?.[_0x38528c(0x1b4)],_0x559ed0={'action':_0x196451,'init_data':_0xbf36e9?.[_0x38528c(0x17f)]||'',..._0x643b3a};try{const _0x27f892=await fetch(API_URL,{'method':_0x38528c(0x1c3),'headers':{'Content-Type':_0x38528c(0x19d)},'body':JSON[_0x38528c(0x20e)](_0x559ed0)}),_0x4f9857=await _0x27f892[_0x38528c(0x253)]();if(!_0x4f9857['ok'])throw new Error(_0x4f9857['error']||'Server\x20Error');return _0x4f9857[_0x38528c(0x2d6)];}catch(_0x8639c5){console[_0x38528c(0x2af)](_0x38528c(0x1e3)+_0x196451+_0x38528c(0x1ec),_0x8639c5);throw _0x8639c5;}},async 'syncLoad'(){const _0x185e79=a2_0x2f47c5,_0x474dd5=new Date(),_0x1b3412=_0x474dd5[_0x185e79(0x274)]()+'-'+String(_0x474dd5['getMonth']()+0x1)['padStart'](0x2,'0'),_0x15020c=new Date(_0x474dd5);_0x15020c[_0x185e79(0x1fa)](_0x474dd5[_0x185e79(0x27f)]()+0x1);const _0x1e01a6=_0x15020c[_0x185e79(0x274)]()+'-'+String(_0x15020c[_0x185e79(0x27f)]()+0x1)['padStart'](0x2,'0'),_0x121134=Date[_0x185e79(0x2a2)]();console[_0x185e79(0x1ac)]('[Sync]\x20Loading\x20'+_0x1b3412+',\x20'+_0x1e01a6+'...');try{const [_0x5ef4b5,_0x10734d]=await Promise[_0x185e79(0x287)]([this['fetchFromServer'](_0x185e79(0x244),{'month_str':_0x1b3412}),this[_0x185e79(0x28d)]('init_load',{'month_str':_0x1e01a6})]);if(lastUserActionTime>_0x121134)return console[_0x185e79(0x1f7)](_0x185e79(0x2e7)),![];return this[_0x185e79(0x2b7)](_0x5ef4b5,_0x1b3412),this[_0x185e79(0x2b7)](_0x10734d,_0x1e01a6),this['saveLocally'](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x50d23f){console['error'](_0x50d23f);throw _0x50d23f;}},'mergeServerData'(_0x4ae751,_0x246a42){const _0x8fd568=a2_0x2f47c5;if(!_0x4ae751)return;_0x4ae751[_0x8fd568(0x240)]&&Array[_0x8fd568(0x1b5)](_0x4ae751['clients'])&&(clients=_0x4ae751[_0x8fd568(0x240)]);if(_0x4ae751[_0x8fd568(0x2e2)]){if(_0x4ae751[_0x8fd568(0x2e2)][_0x8fd568(0x26a)])availabilityPattern=_0x4ae751[_0x8fd568(0x2e2)][_0x8fd568(0x26a)];if(_0x4ae751[_0x8fd568(0x2e2)][_0x8fd568(0x250)])dateExceptions=_0x4ae751['settings']['exceptions'];if(_0x4ae751[_0x8fd568(0x2e2)][_0x8fd568(0x251)])specialRanges=_0x4ae751[_0x8fd568(0x2e2)]['ranges'];if(_0x4ae751[_0x8fd568(0x2e2)][_0x8fd568(0x1e2)]){localStorage[_0x8fd568(0x19c)](_0x8fd568(0x29c),_0x4ae751['settings']['cancel_window']);const _0x4c94b0=document['getElementById'](_0x8fd568(0x2c2));if(_0x4c94b0)_0x4c94b0['value']=_0x4ae751[_0x8fd568(0x2e2)][_0x8fd568(0x1e2)];}}_0x4ae751[_0x8fd568(0x1df)]&&(sessions=sessions[_0x8fd568(0x1d5)](_0x429e29=>!_0x429e29[_0x8fd568(0x183)]['startsWith'](_0x246a42)),Object[_0x8fd568(0x2da)](_0x4ae751['calendar'])[_0x8fd568(0x2d0)](_0x266c09=>{const _0x171c36=_0x8fd568,_0x4ab7d6=_0x4ae751['calendar'][_0x266c09];_0x4ab7d6[_0x171c36(0x2d0)](_0x525e13=>{const _0x3a8f72=_0x171c36,_0x29a158=clients[_0x3a8f72(0x1f6)](_0x337264=>String(_0x337264['id'])===String(_0x525e13['c']));sessions[_0x3a8f72(0x1ff)]({'id':_0x525e13['i'],'clientId':_0x525e13['c'],'client':_0x29a158?_0x29a158[_0x3a8f72(0x2f1)]:'Unknown','dateStr':_0x246a42+'-'+_0x266c09[_0x3a8f72(0x192)](0x2,'0'),'start':_0x525e13['s'],'end':_0x525e13['e'],'status':_0x525e13['st']||_0x3a8f72(0x284),'note':_0x525e13['n']||'','seriesId':_0x525e13['sid']||null});});}));},async 'syncBatch'(_0x5192d4){const _0x55f265=a2_0x2f47c5,_0x2990ff=[...new Set(_0x5192d4)],_0x5d197a=_0x2990ff[_0x55f265(0x2b3)](_0xab2971=>{const _0x1d163c=_0x55f265,_0x23be16=sessions[_0x1d163c(0x1d5)](_0x2b81cc=>_0x2b81cc['dateStr']===_0xab2971&&_0x2b81cc[_0x1d163c(0x1e8)]!=='deleted'),_0x21c4d3=_0x23be16[_0x1d163c(0x2b3)](_0x1bbec1=>({'i':_0x1bbec1['id'],'c':_0x1bbec1[_0x1d163c(0x271)],'s':_0x1bbec1['start'],'e':_0x1bbec1[_0x1d163c(0x1cf)],'st':_0x1bbec1[_0x1d163c(0x1e8)],'n':_0x1bbec1[_0x1d163c(0x19f)],'sid':_0x1bbec1['seriesId']}));return{'date':_0xab2971,'day_data':_0x21c4d3};});if(_0x5d197a['length']===0x0)return;console[_0x55f265(0x1ac)](_0x55f265(0x209)+_0x5d197a[_0x55f265(0x1ba)]+_0x55f265(0x247)),await this[_0x55f265(0x28d)](_0x55f265(0x2dc),{'changes':_0x5d197a});}};async function init(){const _0x2a4843=a2_0x2f47c5;DataManager[_0x2a4843(0x241)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById'](_0x2a4843(0x1b9))[_0x2a4843(0x184)](_0x2a4843(0x269),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x2a4843(0x219)]()[_0x2a4843(0x210)](()=>{const _0x456b62=_0x2a4843;showToast(_0x456b62(0x232),!![]);})[_0x2a4843(0x21d)](_0x1e1951=>{const _0x41cae6=_0x2a4843;showToast(_0x41cae6(0x2c6),![]);});}function generateId(){const _0x258668=a2_0x2f47c5;return Date[_0x258668(0x2a2)]()[_0x258668(0x2a8)](0x24)+Math[_0x258668(0x280)]()[_0x258668(0x2a8)](0x24)[_0x258668(0x22f)](0x2,0x5);}function toggleSeriesInput(){const _0x4c2782=a2_0x2f47c5,_0x5b2317=document[_0x4c2782(0x23f)]('inpRecurring')[_0x4c2782(0x1d9)],_0x48e441=document['getElementById'](_0x4c2782(0x25b));_0x48e441['style']['display']=_0x5b2317?'block':_0x4c2782(0x1e9);const _0x20cc31=document[_0x4c2782(0x23f)]('recurringOptionContainer');_0x20cc31[_0x4c2782(0x19a)][_0x4c2782(0x189)]=_0x5b2317?_0x4c2782(0x1c7):_0x4c2782(0x1fb);}function openAddSession(_0x495047){const _0x39582e=a2_0x2f47c5;editingId=null,populateClientSelect(),document[_0x39582e(0x23f)](_0x39582e(0x207))[_0x39582e(0x256)]=_0x39582e(0x1f8),document[_0x39582e(0x23f)](_0x39582e(0x288))[_0x39582e(0x19a)]['display']=_0x39582e(0x1e9),document['getElementById'](_0x39582e(0x2b4))['style']['display']=_0x39582e(0x1e9);const _0x48cbc9=document[_0x39582e(0x23f)](_0x39582e(0x27a)),_0x512ade=document['getElementById']('seriesCountContainer');_0x48cbc9[_0x39582e(0x19a)]['display']='flex',_0x48cbc9['style'][_0x39582e(0x189)]=_0x39582e(0x1fb),document['getElementById'](_0x39582e(0x1a6))['checked']=![],document[_0x39582e(0x23f)]('inpSeriesCount')[_0x39582e(0x180)]=0x4,_0x512ade[_0x39582e(0x19a)][_0x39582e(0x1bf)]=_0x39582e(0x1e9),document[_0x39582e(0x23f)](_0x39582e(0x2a5))[_0x39582e(0x180)]=getLocalDateStr(_0x495047),updateDateDisplay();const _0x1df5c5=_0x495047[_0x39582e(0x1d8)]();document[_0x39582e(0x23f)](_0x39582e(0x24a))['value']=String(_0x1df5c5)[_0x39582e(0x192)](0x2,'0')+_0x39582e(0x2ad),document[_0x39582e(0x23f)]('inpEnd')[_0x39582e(0x180)]=String(_0x1df5c5+0x1)[_0x39582e(0x192)](0x2,'0')+_0x39582e(0x2ad),openSheet(_0x39582e(0x191));}function openEdit(_0x2d3b29){const _0x5e602b=a2_0x2f47c5;editingId=_0x2d3b29['id'],populateClientSelect(),document[_0x5e602b(0x23f)](_0x5e602b(0x207))[_0x5e602b(0x256)]=_0x5e602b(0x2e5),document[_0x5e602b(0x23f)](_0x5e602b(0x288))[_0x5e602b(0x19a)][_0x5e602b(0x1bf)]=_0x5e602b(0x2b9);const _0x13cd14=document[_0x5e602b(0x23f)](_0x5e602b(0x2b4));_0x13cd14[_0x5e602b(0x19a)][_0x5e602b(0x1bf)]='flex';_0x2d3b29[_0x5e602b(0x1e8)]==='completed'?(_0x13cd14[_0x5e602b(0x2c3)]=_0x5e602b(0x1a1),_0x13cd14[_0x5e602b(0x2c7)]=_0x5e602b(0x211)):(_0x13cd14[_0x5e602b(0x2c3)]=_0x5e602b(0x1cb),_0x13cd14['innerHTML']='<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É');const _0x4a0037=!!_0x2d3b29[_0x5e602b(0x18a)];document['getElementById'](_0x5e602b(0x27a))['style'][_0x5e602b(0x1bf)]='none',document[_0x5e602b(0x23f)]('seriesCountContainer')['style'][_0x5e602b(0x1bf)]=_0x5e602b(0x1e9),_0x4a0037?(document['getElementById'](_0x5e602b(0x261))['style'][_0x5e602b(0x1bf)]='flex',document['getElementById'](_0x5e602b(0x261))[_0x5e602b(0x2a1)](_0x5e602b(0x1ce))[_0x5e602b(0x256)]=_0x5e602b(0x2ac)):document[_0x5e602b(0x23f)](_0x5e602b(0x261))[_0x5e602b(0x19a)]['display']=_0x5e602b(0x1e9),document[_0x5e602b(0x23f)]('inpClient')[_0x5e602b(0x180)]=_0x2d3b29['client'],document[_0x5e602b(0x23f)](_0x5e602b(0x2a5))[_0x5e602b(0x180)]=_0x2d3b29['dateStr'],document[_0x5e602b(0x23f)](_0x5e602b(0x24a))[_0x5e602b(0x180)]=_0x2d3b29[_0x5e602b(0x1aa)],document[_0x5e602b(0x23f)](_0x5e602b(0x262))[_0x5e602b(0x180)]=_0x2d3b29[_0x5e602b(0x1cf)],document[_0x5e602b(0x23f)]('inpNote')[_0x5e602b(0x180)]=_0x2d3b29['note']||'',updateDateDisplay(),openSheet(_0x5e602b(0x191));}async function trySaveSession(){const _0x1203b8=a2_0x2f47c5,_0x186b84=document[_0x1203b8(0x23f)]('inpClient')['value'],_0x5e3eb8=document['getElementById']('inpDate')[_0x1203b8(0x180)],_0x3dccdb=document[_0x1203b8(0x23f)](_0x1203b8(0x24a))[_0x1203b8(0x180)],_0x2ef578=document[_0x1203b8(0x23f)](_0x1203b8(0x262))[_0x1203b8(0x180)],_0x461536=document['getElementById'](_0x1203b8(0x22a))['value'],_0x14fd87=document[_0x1203b8(0x23f)](_0x1203b8(0x1a6))[_0x1203b8(0x1d9)];let _0x31b712=0x4;if(_0x14fd87){const _0xcbe702=parseInt(document[_0x1203b8(0x23f)]('inpSeriesCount')[_0x1203b8(0x180)]);if(!_0xcbe702||_0xcbe702<0x2){showToast(_0x1203b8(0x187),![]);return;}if(_0xcbe702>0x64){showToast(_0x1203b8(0x29b),![]);return;}_0x31b712=_0xcbe702;}const _0x2c3050=clients['find'](_0x1cb6f3=>_0x1cb6f3[_0x1203b8(0x2f1)]===_0x186b84);if(!_0x2c3050){showToast(_0x1203b8(0x1e7),![]);return;}const _0x473ac9=validateAppointment(_0x5e3eb8,_0x3dccdb,_0x2ef578,editingId,_0x2c3050['id']);if(!_0x473ac9[_0x1203b8(0x2e1)]){showToast(_0x473ac9[_0x1203b8(0x2e3)],![]);return;}_0x473ac9[_0x1203b8(0x2c4)]&&showToast(_0x473ac9[_0x1203b8(0x2c4)],![]);const _0x420471={'client':_0x186b84,'clientId':_0x2c3050['id'],'start':_0x3dccdb,'end':_0x2ef578,'note':_0x461536,'status':_0x1203b8(0x284)},_0x3d2de7=editingId?sessions[_0x1203b8(0x1f6)](_0x4172d4=>_0x4172d4['id']===editingId):null;if(_0x3d2de7&&_0x3d2de7['seriesId']){tempSessionData={..._0x420471,'dateStr':_0x5e3eb8,'id':editingId,'seriesId':_0x3d2de7['seriesId']},openActionSheet(_0x1203b8(0x2b8));return;}let _0xb66a97=null;if(!editingId)_0xb66a97=_0x1203b8(0x20b);else{if(_0x3d2de7){if(String(_0x3d2de7[_0x1203b8(0x271)])!==String(_0x2c3050['id']))console['log'](_0x1203b8(0x275)),NotificationManager['send'](_0x1203b8(0x217),_0x3d2de7),_0xb66a97=_0x1203b8(0x20b);else(_0x3d2de7[_0x1203b8(0x1aa)]!==_0x3dccdb||_0x3d2de7[_0x1203b8(0x1cf)]!==_0x2ef578||_0x3d2de7[_0x1203b8(0x183)]!==_0x5e3eb8)&&(_0xb66a97=_0x1203b8(0x248));}}if(!editingId&&_0x14fd87){createBatchSeries(_0x420471,_0x5e3eb8,_0x31b712),NotificationManager[_0x1203b8(0x285)](_0x1203b8(0x20b),{..._0x420471,'dateStr':_0x5e3eb8});return;}lastUserActionTime=Date[_0x1203b8(0x2a2)]();const _0x4025c3={..._0x420471,'dateStr':_0x5e3eb8,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x4025c3),_0xb66a97&&NotificationManager['send'](_0xb66a97,_0x4025c3);}function toggleSessionStatus(){const _0x266b24=a2_0x2f47c5;lastUserActionTime=Date[_0x266b24(0x2a2)]();const _0x4bb426=sessions[_0x266b24(0x1f6)](_0x4f9380=>_0x4f9380['id']===editingId);if(!_0x4bb426)return;const _0xc2d5d4=_0x4bb426[_0x266b24(0x1e8)]===_0x266b24(0x2f8)?_0x266b24(0x284):'completed';_0x4bb426[_0x266b24(0x1e8)]=_0xc2d5d4,saveSingleSession(_0x4bb426),_0xc2d5d4===_0x266b24(0x2f8)&&NotificationManager[_0x266b24(0x285)]('complete',_0x4bb426),showToast(_0xc2d5d4===_0x266b24(0x2f8)?_0x266b24(0x246):_0x266b24(0x223),!![]);}function validateAppointment(_0x4771c3,_0x4f0e02,_0x5ee1c3,_0x1eed93,_0x3b78e5){const _0x4c045d=a2_0x2f47c5,[_0x5435f8,_0x7c3d8a]=_0x4f0e02[_0x4c045d(0x2d8)](':')[_0x4c045d(0x2b3)](Number),[_0x39d14a,_0x183027]=_0x5ee1c3[_0x4c045d(0x2d8)](':')[_0x4c045d(0x2b3)](Number),_0x7a1101=_0x5435f8*0x3c+_0x7c3d8a,_0x3e2a98=_0x39d14a*0x3c+_0x183027,_0x286d07=String(_0x3b78e5);let _0x5b396c=![],_0x623aef='';for(let _0x525438 of sessions){if(_0x525438['dateStr']!==_0x4771c3)continue;if(_0x525438['status']===_0x4c045d(0x18b))continue;if(_0x1eed93&&String(_0x525438['id'])===String(_0x1eed93))continue;const [_0x5ee6b0,_0x5ba982]=_0x525438[_0x4c045d(0x1aa)]['split'](':')[_0x4c045d(0x2b3)](Number),[_0x19424b,_0x2e2b3d]=_0x525438[_0x4c045d(0x1cf)][_0x4c045d(0x2d8)](':')[_0x4c045d(0x2b3)](Number),_0x3c7dde=_0x5ee6b0*0x3c+_0x5ba982,_0x256fe1=_0x19424b*0x3c+_0x2e2b3d;if(Math['max'](_0x7a1101,_0x3c7dde)<Math[_0x4c045d(0x2fc)](_0x3e2a98,_0x256fe1)){if(_0x525438['clientId']&&String(_0x525438[_0x4c045d(0x271)])===_0x286d07)return{'valid':![],'msg':_0x4c045d(0x215)+_0x525438['client']+_0x4c045d(0x1e5)};_0x5b396c=!![],_0x623aef=_0x525438[_0x4c045d(0x222)];}}if(_0x5b396c)return{'valid':!![],'warning':_0x4c045d(0x1fd)+_0x623aef};return{'valid':!![]};}function saveSingleSession(_0x470407){const _0x528f7f=a2_0x2f47c5;if(editingId){const _0x37b1e6=sessions[_0x528f7f(0x27b)](_0x42a459=>_0x42a459['id']===editingId);if(_0x37b1e6!==-0x1)sessions[_0x37b1e6]=_0x470407;}else sessions[_0x528f7f(0x1ff)](_0x470407);afterSaveAction([_0x470407[_0x528f7f(0x183)]]);}function createBatchSeries(_0x1b5d96,_0x1938de,_0x590e28){const _0x401e1d=a2_0x2f47c5,_0x5debfe=generateId(),_0x18264a=[],_0xd19124=[];let _0x315b6a=0x0,_0x3570b1=new Date(_0x1938de);for(let _0x2f84ba=0x0;_0x2f84ba<_0x590e28;_0x2f84ba++){const _0x26b264=getLocalDateStr(_0x3570b1),_0x8134d8=validateAppointment(_0x26b264,_0x1b5d96[_0x401e1d(0x1aa)],_0x1b5d96[_0x401e1d(0x1cf)],null,_0x1b5d96['clientId']);if(!_0x8134d8[_0x401e1d(0x2e1)])console[_0x401e1d(0x1ac)]('[Series]\x20Skipped\x20'+_0x26b264+_0x401e1d(0x18d)),_0x315b6a++;else{const _0x275583={..._0x1b5d96,'id':generateId(),'dateStr':_0x26b264,'seriesId':_0x5debfe};_0xd19124[_0x401e1d(0x1ff)](_0x275583),_0x18264a[_0x401e1d(0x1ff)](_0x26b264);}_0x3570b1[_0x401e1d(0x27d)](_0x3570b1[_0x401e1d(0x22b)]()+0x7);}if(_0xd19124['length']===0x0){showToast(_0x401e1d(0x257),![]);return;}sessions[_0x401e1d(0x1ff)](..._0xd19124),lastUserActionTime=Date[_0x401e1d(0x2a2)]();let _0x524962=_0x401e1d(0x296)+_0xd19124[_0x401e1d(0x1ba)];_0x315b6a>0x0&&(_0x524962+='\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20'+_0x315b6a+')'),showToast(_0x524962,!![]),afterSaveAction(_0x18264a);}function updateSeriesBatch(_0x21076f,_0x40f96b){const _0x66230b=a2_0x2f47c5,_0xbf8ce5=[],_0x8b7135=_0x40f96b[_0x66230b(0x18a)];if(_0x21076f===_0x66230b(0x206)){const _0x2ba6a7={..._0x40f96b,'seriesId':null},_0x4900a5=sessions[_0x66230b(0x27b)](_0x50d7b7=>_0x50d7b7['id']===_0x40f96b['id']);if(_0x4900a5!==-0x1)sessions[_0x4900a5]=_0x2ba6a7;_0xbf8ce5[_0x66230b(0x1ff)](_0x2ba6a7[_0x66230b(0x183)]);}else{if(_0x21076f===_0x66230b(0x282)){const _0x2c33f5=_0x40f96b[_0x66230b(0x183)];sessions['forEach']((_0x455da9,_0x224157)=>{const _0x48a886=_0x66230b;_0x455da9[_0x48a886(0x18a)]===_0x8b7135&&_0x455da9['dateStr']>=_0x2c33f5&&(sessions[_0x224157]={...sessions[_0x224157],'start':_0x40f96b[_0x48a886(0x1aa)],'end':_0x40f96b[_0x48a886(0x1cf)],'note':_0x40f96b[_0x48a886(0x19f)],'client':_0x40f96b[_0x48a886(0x222)],'clientId':_0x40f96b[_0x48a886(0x271)]},_0xbf8ce5[_0x48a886(0x1ff)](_0x455da9[_0x48a886(0x183)]));});}}afterSaveAction(_0xbf8ce5);}function tryDeleteSession(){const _0x154121=a2_0x2f47c5,_0xb686fd=sessions['find'](_0x3bca5f=>_0x3bca5f['id']===editingId);if(!_0xb686fd)return;_0xb686fd['seriesId']?openActionSheet(_0x154121(0x2fa)):commitDelete(_0x154121(0x206),_0xb686fd);}function commitDelete(_0x3d4ee6,_0x50bc0a){const _0x4e3a8c=a2_0x2f47c5;lastUserActionTime=Date['now'](),NotificationManager[_0x4e3a8c(0x285)]('cancel',_0x50bc0a);const _0x4ad5fb=[];if(_0x3d4ee6===_0x4e3a8c(0x206))sessions=sessions[_0x4e3a8c(0x1d5)](_0x595ca5=>_0x595ca5['id']!==_0x50bc0a['id']),_0x4ad5fb[_0x4e3a8c(0x1ff)](_0x50bc0a[_0x4e3a8c(0x183)]);else{if(_0x3d4ee6===_0x4e3a8c(0x282)){const _0x417733=_0x50bc0a[_0x4e3a8c(0x183)],_0x50dd28=_0x50bc0a[_0x4e3a8c(0x18a)];sessions[_0x4e3a8c(0x2d0)](_0x39ec9e=>{const _0x5b7913=_0x4e3a8c;_0x39ec9e[_0x5b7913(0x18a)]===_0x50dd28&&_0x39ec9e[_0x5b7913(0x183)]>=_0x417733&&_0x4ad5fb['push'](_0x39ec9e[_0x5b7913(0x183)]);}),sessions=sessions[_0x4e3a8c(0x1d5)](_0x156fb0=>!(_0x156fb0[_0x4e3a8c(0x18a)]===_0x50dd28&&_0x156fb0[_0x4e3a8c(0x183)]>=_0x417733));}}afterSaveAction(_0x4ad5fb);}function afterSaveAction(_0x2f4595){const _0x399e70=a2_0x2f47c5;DataManager[_0x399e70(0x236)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager['syncBatch'](_0x2f4595)['then'](()=>console[_0x399e70(0x1ac)]('Batch\x20Sync\x20OK'))[_0x399e70(0x21d)](_0x2083a0=>showToast(_0x399e70(0x2c1),![]));}const NotificationManager={'formatDate'(_0x2d08ca){const _0x139396=a2_0x2f47c5,_0x35ffba=new Date(_0x2d08ca),_0x55917f={'weekday':'long','day':_0x139396(0x2bb),'month':_0x139396(0x2d3)};let _0x5e48a4=_0x35ffba[_0x139396(0x1e6)](_0x139396(0x228),_0x55917f);return _0x5e48a4['charAt'](0x0)['toUpperCase']()+_0x5e48a4[_0x139396(0x2b1)](0x1);},'getText'(_0x5e229a,_0x378d43){const _0x19a467=a2_0x2f47c5,_0x4bb7c2=this['formatDate'](_0x378d43[_0x19a467(0x183)]);switch(_0x5e229a){case'create':return _0x19a467(0x22e)+(_0x19a467(0x281)+_0x4bb7c2+'\x0a')+(_0x19a467(0x1fc)+_0x378d43[_0x19a467(0x1aa)]+_0x19a467(0x1dd)+_0x378d43[_0x19a467(0x1cf)]+'\x0a\x0a')+_0x19a467(0x195);case _0x19a467(0x248):return _0x19a467(0x290)+'–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a'+(_0x19a467(0x225)+_0x378d43['start']+'\x20‚Äî\x20'+_0x378d43[_0x19a467(0x1cf)]+_0x19a467(0x273))+(_0x19a467(0x281)+_0x4bb7c2);case _0x19a467(0x217):return _0x19a467(0x2aa)+(_0x19a467(0x1c9)+_0x4bb7c2+'\x20('+_0x378d43[_0x19a467(0x1aa)]+')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.');case _0x19a467(0x2d2):return _0x19a467(0x2cd)+'–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a'+'<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>';default:return'';}},async 'send'(_0xf7f1bc,_0x5736e0){const _0xfbdbca=a2_0x2f47c5;console[_0xfbdbca(0x1ac)]('[Notify]\x20Attempting\x20to\x20send:',_0xf7f1bc,_0x5736e0);if(!_0x5736e0){console[_0xfbdbca(0x2af)](_0xfbdbca(0x2f7));return;}const _0x25ddae=String(_0x5736e0[_0xfbdbca(0x271)]);console[_0xfbdbca(0x1ac)](_0xfbdbca(0x2c8),_0x25ddae);if(!_0x5736e0[_0xfbdbca(0x271)]||_0x25ddae==='undefined'||_0x25ddae===_0xfbdbca(0x19b)){console[_0xfbdbca(0x2af)]('[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!');if(_0x5736e0[_0xfbdbca(0x222)]){const _0x3f4f0d=clients[_0xfbdbca(0x1f6)](_0x4a3d00=>_0x4a3d00[_0xfbdbca(0x2f1)]===_0x5736e0[_0xfbdbca(0x222)]);if(_0x3f4f0d)return console['log'](_0xfbdbca(0x1b2),_0x3f4f0d['id']),this[_0xfbdbca(0x285)](_0xf7f1bc,{..._0x5736e0,'clientId':_0x3f4f0d['id']});}return;}if(_0x25ddae[_0xfbdbca(0x1ba)]<0x5){console[_0xfbdbca(0x1f7)](_0xfbdbca(0x2d4),_0x25ddae);return;}const _0x3538f1=this[_0xfbdbca(0x23b)](_0xf7f1bc,_0x5736e0);if(!_0x3538f1){console['error'](_0xfbdbca(0x1a7));return;}console[_0xfbdbca(0x1ac)](_0xfbdbca(0x2dd)+_0x25ddae+'...'),DataManager[_0xfbdbca(0x28d)](_0xfbdbca(0x1cd),{'chatId':_0x25ddae,'text':_0x3538f1})[_0xfbdbca(0x210)](_0x5a4062=>console[_0xfbdbca(0x1ac)]('[Notify]\x20Server\x20Response:',_0x5a4062))['catch'](_0x45407f=>console[_0xfbdbca(0x2af)](_0xfbdbca(0x283),_0x45407f));}};function getLocalDateStr(_0x4bbaa0){const _0x3b41e1=a2_0x2f47c5,_0x3768f8=_0x4bbaa0[_0x3b41e1(0x274)](),_0x4666c2=String(_0x4bbaa0['getMonth']()+0x1)[_0x3b41e1(0x192)](0x2,'0'),_0x1eed3b=String(_0x4bbaa0[_0x3b41e1(0x22b)]())[_0x3b41e1(0x192)](0x2,'0');return _0x3768f8+'-'+_0x4666c2+'-'+_0x1eed3b;}function getDateStr(_0x5264b3){const _0x47c56a=a2_0x2f47c5,_0x513c69=new Date();return _0x513c69['setDate'](_0x513c69[_0x47c56a(0x22b)]()+_0x5264b3),getLocalDateStr(_0x513c69);}function getStartOfWeek(_0x394f06){const _0x34f915=a2_0x2f47c5,_0x299a5a=new Date(_0x394f06),_0x36f036=_0x299a5a[_0x34f915(0x1e1)](),_0x57b592=_0x299a5a[_0x34f915(0x22b)]()-_0x36f036+(_0x36f036===0x0?-0x6:0x1);return _0x299a5a[_0x34f915(0x27d)](_0x57b592),_0x299a5a[_0x34f915(0x199)](0x0,0x0,0x0,0x0),_0x299a5a;}function hexToRgba(_0x5192d7,_0x5c8be6){const _0x352c10=a2_0x2f47c5;if(!_0x5192d7)return _0x352c10(0x1f1);let _0x36d5cb=0x0,_0x153c0a=0x0,_0x1abca3=0x0;if(_0x5192d7[_0x352c10(0x1ba)]===0x4)_0x36d5cb='0x'+_0x5192d7[0x1]+_0x5192d7[0x1],_0x153c0a='0x'+_0x5192d7[0x2]+_0x5192d7[0x2],_0x1abca3='0x'+_0x5192d7[0x3]+_0x5192d7[0x3];else _0x5192d7['length']===0x7&&(_0x36d5cb='0x'+_0x5192d7[0x1]+_0x5192d7[0x2],_0x153c0a='0x'+_0x5192d7[0x3]+_0x5192d7[0x4],_0x1abca3='0x'+_0x5192d7[0x5]+_0x5192d7[0x6]);return _0x352c10(0x2ef)+ +_0x36d5cb+',\x20'+ +_0x153c0a+',\x20'+ +_0x1abca3+',\x20'+_0x5c8be6+')';}function renderTimeColumn(){const _0x2f5dc1=a2_0x2f47c5,_0x3b1867=document[_0x2f5dc1(0x23f)](_0x2f5dc1(0x17e)),_0x1f42f2=document[_0x2f5dc1(0x23f)](_0x2f5dc1(0x265));_0x3b1867['innerHTML']='',_0x3b1867['appendChild'](_0x1f42f2);for(let _0x4cf662=0x0;_0x4cf662<0x18;_0x4cf662++){const _0x36db9e=document[_0x2f5dc1(0x1af)](_0x2f5dc1(0x21c));_0x36db9e[_0x2f5dc1(0x2c3)]=_0x2f5dc1(0x1a4);if(_0x4cf662>0x0)_0x36db9e['innerHTML']=_0x2f5dc1(0x2de)+String(_0x4cf662)[_0x2f5dc1(0x192)](0x2,'0')+_0x2f5dc1(0x1b1);_0x3b1867['appendChild'](_0x36db9e);}}function renderDayRange(_0x30f617,_0x46228d){const _0x1acff2=a2_0x2f47c5,_0x577eb0=document[_0x1acff2(0x23f)]('daysHeaderTrack'),_0x3059bc=document['getElementById'](_0x1acff2(0x19e)),_0x3e8bfd=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x557808=new Date();_0x557808['setHours'](0x0,0x0,0x0,0x0);const _0x313545=getLocalDateStr(new Date());for(let _0x29e9b6=_0x30f617;_0x29e9b6<=_0x46228d;_0x29e9b6++){const _0x273cb3=new Date(_0x557808);_0x273cb3[_0x1acff2(0x27d)](_0x273cb3['getDate']()+_0x29e9b6);const _0x5cb22f=getLocalDateStr(_0x273cb3);let _0x1764e0=_0x273cb3[_0x1acff2(0x1e1)]()-0x1;if(_0x1764e0===-0x1)_0x1764e0=0x6;const _0x396d43=_0x5cb22f===_0x313545,_0x20558f=document[_0x1acff2(0x1af)](_0x1acff2(0x21c));_0x20558f[_0x1acff2(0x2c3)]='day-col-header\x20'+(_0x396d43?_0x1acff2(0x1ae):''),_0x20558f['id']=_0x1acff2(0x2be)+_0x5cb22f,_0x20558f['setAttribute'](_0x1acff2(0x18e),_0x5cb22f),_0x20558f[_0x1acff2(0x2c7)]='<div\x20class=\x22dch-day\x22>'+_0x3e8bfd[_0x1764e0]+_0x1acff2(0x291)+_0x273cb3[_0x1acff2(0x22b)]()+_0x1acff2(0x276)+_0x5cb22f+_0x1acff2(0x20a),_0x20558f[_0x1acff2(0x198)]=()=>openDayOptions(_0x5cb22f,_0x3e8bfd[_0x1764e0]+'\x20'+_0x273cb3[_0x1acff2(0x22b)]()),_0x577eb0[_0x1acff2(0x2eb)](_0x20558f);const _0x1369b1=document[_0x1acff2(0x1af)]('div');_0x1369b1['className']='day-column\x20'+(_0x396d43?_0x1acff2(0x1ae):''),_0x1369b1['setAttribute'](_0x1acff2(0x18e),_0x5cb22f),_0x1369b1[_0x1acff2(0x2f6)](_0x1acff2(0x2b0),_0x1764e0),renderEventsForColumn(_0x1369b1,_0x5cb22f,_0x1764e0),attachLongPressHandler(_0x1369b1,_0x273cb3),_0x3059bc['appendChild'](_0x1369b1),updateDayStats(_0x5cb22f);}}function reRenderBlocks(){const _0x19277e=a2_0x2f47c5;document['querySelectorAll'](_0x19277e(0x2b2))['forEach'](_0x24a1cd=>{const _0x5d18a8=_0x19277e;_0x24a1cd[_0x5d18a8(0x26c)]('.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card')[_0x5d18a8(0x2d0)](_0x2613a7=>_0x2613a7['remove']());const _0x3ebbeb=_0x24a1cd[_0x5d18a8(0x182)]('data-date'),_0x29843c=parseInt(_0x24a1cd[_0x5d18a8(0x182)](_0x5d18a8(0x2b0))),_0x26c52d=Math['round'](_0x24a1cd[_0x5d18a8(0x1ee)]);(availabilityPattern[_0x29843c]||[])[_0x5d18a8(0x2d0)](_0x6f6a1e=>{const _0x4e7afe=_0x5d18a8,_0x54c25e=document[_0x4e7afe(0x1af)](_0x4e7afe(0x21c));_0x54c25e['className']=_0x4e7afe(0x230);const _0x339f59=_0x6f6a1e*GRID_H;_0x54c25e[_0x4e7afe(0x19a)][_0x4e7afe(0x24c)]=_0x339f59+'px',_0x54c25e['style']['backgroundPosition']='-'+_0x26c52d+_0x4e7afe(0x29f)+_0x339f59+'px',_0x24a1cd[_0x4e7afe(0x2eb)](_0x54c25e);});if(specialRanges&&specialRanges[_0x5d18a8(0x1ba)]>0x0){const _0x484b36=new Date(_0x3ebbeb+_0x5d18a8(0x24b))['getTime'](),_0x4229f5=new Date(_0x3ebbeb+_0x5d18a8(0x23d))['getTime']();specialRanges[_0x5d18a8(0x2d0)](_0x236cd7=>{const _0x3fc35d=_0x5d18a8,_0x544c03=new Date(_0x236cd7['start'])[_0x3fc35d(0x21e)](),_0x318ccd=new Date(_0x236cd7['end'])[_0x3fc35d(0x21e)](),_0x559677=Math['max'](_0x484b36,_0x544c03),_0x1ff0f1=Math[_0x3fc35d(0x2fc)](_0x4229f5,_0x318ccd);if(_0x559677<_0x1ff0f1){if(_0x559677<=_0x484b36&&_0x1ff0f1>=_0x4229f5-0xea60){if(!_0x24a1cd[_0x3fc35d(0x2a1)](_0x3fc35d(0x193))){const _0x207f66=document['createElement'](_0x3fc35d(0x21c));_0x207f66[_0x3fc35d(0x2c3)]=_0x3fc35d(0x18c),_0x207f66['style'][_0x3fc35d(0x294)]='-'+_0x26c52d+_0x3fc35d(0x266),_0x24a1cd[_0x3fc35d(0x2eb)](_0x207f66);}}else{const _0x49da20=(_0x559677-_0x484b36)/0x36ee80*GRID_H,_0x3786bd=(_0x1ff0f1-_0x559677)/0x36ee80*GRID_H,_0x2554f4=document[_0x3fc35d(0x1af)]('div');_0x2554f4[_0x3fc35d(0x2c3)]=_0x3fc35d(0x28f),_0x2554f4['style'][_0x3fc35d(0x24c)]=_0x49da20+'px',_0x2554f4['style'][_0x3fc35d(0x2ba)]=_0x3786bd+'px',_0x2554f4[_0x3fc35d(0x19a)]['backgroundPosition']='-'+_0x26c52d+'px\x20-'+_0x49da20+'px',_0x24a1cd[_0x3fc35d(0x2eb)](_0x2554f4);}}});}if(dateExceptions[_0x3ebbeb]===_0x5d18a8(0x1d7)){if(!_0x24a1cd['querySelector']('.day-off-overlay')){const _0x321540=document[_0x5d18a8(0x1af)](_0x5d18a8(0x21c));_0x321540[_0x5d18a8(0x2c3)]=_0x5d18a8(0x18c),_0x321540[_0x5d18a8(0x19a)][_0x5d18a8(0x294)]='-'+_0x26c52d+'px\x200px',_0x24a1cd[_0x5d18a8(0x2eb)](_0x321540);}}renderEventsForColumn(_0x24a1cd,_0x3ebbeb,_0x29843c),updateDayStats(_0x3ebbeb);});}function updateAllDayStats(){const _0x33f13e=a2_0x2f47c5;document[_0x33f13e(0x26c)](_0x33f13e(0x1d1))['forEach'](_0x2bf7f5=>{const _0x100d4a=_0x33f13e;updateDayStats(_0x2bf7f5[_0x100d4a(0x182)](_0x100d4a(0x18e)));});}function updateDayStats(_0x1d0842){const _0x55f071=a2_0x2f47c5,_0x1e6994=document[_0x55f071(0x23f)](_0x55f071(0x2f9)+_0x1d0842);if(!_0x1e6994)return;const _0x6d3f77=new Date(_0x1d0842);let _0x196d46=_0x6d3f77[_0x55f071(0x1e1)]()-0x1;if(_0x196d46===-0x1)_0x196d46=0x6;if(dateExceptions[_0x1d0842]===_0x55f071(0x1d7)){_0x1e6994['style'][_0x55f071(0x1bf)]=_0x55f071(0x1e9);return;}const _0x4b5c6a=availabilityPattern[_0x196d46]||[],_0x32b949=0x18-_0x4b5c6a['length'],_0x2d64c2=_0x32b949*0x3c,_0x4abc5e=sessions[_0x55f071(0x1d5)](_0x129ff5=>_0x129ff5['dateStr']===_0x1d0842&&_0x129ff5[_0x55f071(0x1e8)]!==_0x55f071(0x18b));if(_0x4abc5e['length']===0x0){_0x1e6994[_0x55f071(0x19a)][_0x55f071(0x1bf)]=_0x55f071(0x1e9);return;}let _0x982e0=_0x4abc5e[_0x55f071(0x2b3)](_0x1e6b0e=>{const _0x304341=_0x55f071,[_0x20b878,_0x5550c7]=_0x1e6b0e[_0x304341(0x1aa)][_0x304341(0x2d8)](':')[_0x304341(0x2b3)](Number),[_0xacfcf1,_0x40adde]=_0x1e6b0e[_0x304341(0x1cf)][_0x304341(0x2d8)](':')['map'](Number);return[_0x20b878*0x3c+_0x5550c7,_0xacfcf1*0x3c+_0x40adde];});_0x982e0[_0x55f071(0x22c)]((_0x5436c8,_0x2d69bb)=>_0x5436c8[0x0]-_0x2d69bb[0x0]);let _0x4e9c61=[];if(_0x982e0['length']>0x0){let _0x3374be=_0x982e0[0x0];for(let _0x5af7a5=0x1;_0x5af7a5<_0x982e0[_0x55f071(0x1ba)];_0x5af7a5++){_0x982e0[_0x5af7a5][0x0]<_0x3374be[0x1]?_0x3374be[0x1]=Math[_0x55f071(0x220)](_0x3374be[0x1],_0x982e0[_0x5af7a5][0x1]):(_0x4e9c61['push'](_0x3374be),_0x3374be=_0x982e0[_0x5af7a5]);}_0x4e9c61[_0x55f071(0x1ff)](_0x3374be);}let _0x395efe=0x0;_0x4e9c61['forEach'](_0x11c684=>_0x395efe+=_0x11c684[0x1]-_0x11c684[0x0]),_0x1e6994[_0x55f071(0x19a)][_0x55f071(0x1bf)]=_0x55f071(0x2ea);const _0x3bc80b=_0x1e6994[_0x55f071(0x2a1)](_0x55f071(0x204));if(_0x2d64c2===0x0){_0x3bc80b[_0x55f071(0x19a)][_0x55f071(0x279)]='100%',_0x3bc80b[_0x55f071(0x19a)][_0x55f071(0x2bc)]=_0x55f071(0x190);return;}const _0x1292e6=_0x395efe/_0x2d64c2*0x64;console[_0x55f071(0x1ac)]('['+_0x1d0842+_0x55f071(0x234)+_0x32b949+'—á,\x20–ó–∞–Ω—è—Ç–æ:\x20'+_0x395efe+_0x55f071(0x2f0)+_0x1292e6[_0x55f071(0x194)](0x1)+'%'),_0x1292e6>0x64?(_0x3bc80b[_0x55f071(0x19a)]['width']='100%',_0x3bc80b[_0x55f071(0x19a)]['background']='var(--acc-red)'):(_0x3bc80b['style'][_0x55f071(0x279)]=_0x1292e6+'%',_0x3bc80b[_0x55f071(0x19a)]['background']=_0x55f071(0x1c8));}function renderEventsForColumn(_0x4b8451,_0x2431ac,_0x22dc96){const _0x3ecab7=a2_0x2f47c5,_0x483714=sessions[_0x3ecab7(0x1d5)](_0x7c77ef=>_0x7c77ef[_0x3ecab7(0x183)]===_0x2431ac),_0x5e514d=_0x483714[_0x3ecab7(0x2b3)](_0x23db09=>{const _0x34ce7f=_0x3ecab7,[_0x36b00a,_0x5cc0f6]=_0x23db09['start'][_0x34ce7f(0x2d8)](':')[_0x34ce7f(0x2b3)](Number),[_0x281bb0,_0x4c7b22]=_0x23db09[_0x34ce7f(0x1cf)][_0x34ce7f(0x2d8)](':')[_0x34ce7f(0x2b3)](Number);return{'data':_0x23db09,'start':_0x36b00a*0x3c+_0x5cc0f6,'end':_0x281bb0*0x3c+_0x4c7b22,'colIndex':0x0};});_0x5e514d[_0x3ecab7(0x22c)]((_0xe10df2,_0x152fa0)=>{const _0x5835c2=_0x3ecab7;if(_0xe10df2[_0x5835c2(0x1aa)]!==_0x152fa0[_0x5835c2(0x1aa)])return _0xe10df2[_0x5835c2(0x1aa)]-_0x152fa0[_0x5835c2(0x1aa)];return _0x152fa0[_0x5835c2(0x1cf)]-_0x152fa0[_0x5835c2(0x1aa)]-(_0xe10df2[_0x5835c2(0x1cf)]-_0xe10df2[_0x5835c2(0x1aa)]);});const _0x454e17=[];_0x5e514d[_0x3ecab7(0x2d0)](_0x33abc5=>{const _0x16e619=_0x3ecab7;let _0x2d147b=![];for(let _0x4daed7=0x0;_0x4daed7<_0x454e17[_0x16e619(0x1ba)];_0x4daed7++){const _0x463af9=_0x454e17[_0x4daed7],_0x31d5db=_0x463af9[_0x463af9[_0x16e619(0x1ba)]-0x1];if(_0x33abc5[_0x16e619(0x1aa)]>=_0x31d5db[_0x16e619(0x1cf)]){_0x463af9[_0x16e619(0x1ff)](_0x33abc5),_0x33abc5['colIndex']=_0x4daed7,_0x2d147b=!![];break;}}!_0x2d147b&&(_0x454e17['push']([_0x33abc5]),_0x33abc5['colIndex']=_0x454e17[_0x16e619(0x1ba)]-0x1);}),_0x5e514d[_0x3ecab7(0x2d0)](_0x4d2514=>{const _0x1b6796=_0x3ecab7;let _0x42b60d=0x0;_0x5e514d['forEach'](_0x29511e=>{const _0x170426=a2_0x938e;if(Math['max'](_0x4d2514[_0x170426(0x1aa)],_0x29511e['start'])<Math[_0x170426(0x2fc)](_0x4d2514[_0x170426(0x1cf)],_0x29511e[_0x170426(0x1cf)])){if(_0x29511e['colIndex']>_0x42b60d)_0x42b60d=_0x29511e[_0x170426(0x24e)];}});const _0x35999b=_0x42b60d+0x1,_0x74521=0x64/_0x35999b,_0x4a8469=_0x4d2514[_0x1b6796(0x24e)]*_0x74521,_0x4a6410=createEventEl(_0x4d2514[_0x1b6796(0x2d6)]);_0x4a6410[_0x1b6796(0x19a)]['width']=_0x1b6796(0x188)+_0x74521+'%\x20-\x204px)',_0x4a6410['style'][_0x1b6796(0x229)]='calc('+_0x4a8469+_0x1b6796(0x1f9),_0x4a6410[_0x1b6796(0x19a)]['zIndex']=0xa+_0x4d2514[_0x1b6796(0x24e)],_0x74521<0x55&&_0x4a6410[_0x1b6796(0x1f5)][_0x1b6796(0x1fe)](_0x1b6796(0x196)),_0x4b8451[_0x1b6796(0x2eb)](_0x4a6410);});}function createEventEl(_0x7828fd){const _0x3e2022=a2_0x2f47c5,[_0x3756ac,_0x283c12]=_0x7828fd[_0x3e2022(0x1aa)]['split'](':')[_0x3e2022(0x2b3)](Number),[_0x424b1f,_0xbef589]=_0x7828fd['end']['split'](':')[_0x3e2022(0x2b3)](Number),_0x10d2cc=(_0x3756ac*0x3c+_0x283c12)/0x3c*GRID_H,_0x38d4f8=(_0x424b1f*0x3c+_0xbef589-(_0x3756ac*0x3c+_0x283c12))/0x3c*GRID_H,_0x52150c=document[_0x3e2022(0x1af)]('div'),_0x38675c=_0x7828fd['status']===_0x3e2022(0x2f8)?'\x20status-completed':'';_0x52150c[_0x3e2022(0x2c3)]=_0x3e2022(0x25a)+_0x38675c,_0x52150c[_0x3e2022(0x19a)][_0x3e2022(0x24c)]=_0x10d2cc+'px',_0x52150c['style']['height']=Math[_0x3e2022(0x220)](_0x38d4f8,0x14)+'px';const _0x10be4f=clients[_0x3e2022(0x1f6)](_0x246beb=>_0x7828fd[_0x3e2022(0x271)]&&String(_0x246beb['id'])===String(_0x7828fd[_0x3e2022(0x271)])||_0x246beb[_0x3e2022(0x2f1)]===_0x7828fd[_0x3e2022(0x222)]),_0xb69df6=_0x10be4f?_0x10be4f[_0x3e2022(0x2d9)]:'#0a84ff';_0x52150c['style'][_0x3e2022(0x254)]=_0xb69df6,_0x52150c['style'][_0x3e2022(0x23a)]=hexToRgba(_0xb69df6,0.85);let _0x45c83d=_0x3e2022(0x2ca)+_0x7828fd['client']+_0x3e2022(0x24f)+_0x7828fd['start']+_0x3e2022(0x24d)+_0x7828fd[_0x3e2022(0x1cf)]+_0x3e2022(0x227);return _0x7828fd['seriesId']&&(_0x45c83d+=_0x3e2022(0x26e)),_0x7828fd['status']===_0x3e2022(0x2f8)&&(_0x45c83d+=_0x3e2022(0x2db)),_0x52150c[_0x3e2022(0x2c7)]=_0x45c83d,_0x52150c[_0x3e2022(0x198)]=_0x2915a2=>{const _0x125580=_0x3e2022;_0x2915a2[_0x125580(0x202)](),openEdit(_0x7828fd);},_0x52150c;}function attachLongPressHandler(_0x564630,_0xf43504){const _0x35259a=a2_0x2f47c5;let _0x26d882=0x0,_0x326729=null;const _0x53d5b7=_0x56b50d=>{const _0x46673c=a2_0x938e;if(_0x56b50d['target'][_0x46673c(0x277)]('.event-card'))return;isScrolling=![],_0x26d882=_0x56b50d[_0x46673c(0x1cc)]?_0x56b50d[_0x46673c(0x1cc)][0x0][_0x46673c(0x231)]:_0x56b50d[_0x46673c(0x231)],_0x326729=setTimeout(()=>{const _0x1d5b64=_0x46673c;if(!isScrolling){navigator[_0x1d5b64(0x1b0)]?.(0x32);const _0x30d9a9=_0x564630[_0x1d5b64(0x2d7)](),_0x44f1e6=Math[_0x1d5b64(0x1ab)]((_0x26d882-_0x30d9a9['top'])/GRID_H);_0xf43504[_0x1d5b64(0x199)](_0x44f1e6,0x0),openAddSession(_0xf43504);}},0x1f4);},_0x53dd9b=()=>{isScrolling=!![],clearTimeout(_0x326729);},_0x43cbd9=()=>{clearTimeout(_0x326729);};_0x564630['addEventListener'](_0x35259a(0x264),_0x53d5b7,{'passive':!![]}),_0x564630[_0x35259a(0x184)](_0x35259a(0x21b),_0x53dd9b,{'passive':!![]}),_0x564630['addEventListener'](_0x35259a(0x237),_0x43cbd9),_0x564630['addEventListener'](_0x35259a(0x2bd),_0x53d5b7),_0x564630[_0x35259a(0x184)](_0x35259a(0x2e4),_0x53dd9b),_0x564630[_0x35259a(0x184)]('mouseup',_0x43cbd9);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x2e2b40=a2_0x2f47c5,_0x29c7bc=document['getElementById'](_0x2e2b40(0x1b9)),_0x4184ce=_0x29c7bc[_0x2e2b40(0x2d1)],_0x51534f=_0x29c7bc['scrollWidth'],_0x558247=_0x29c7bc['clientWidth'];if(_0x51534f-(_0x4184ce+_0x558247)<0x12c){const _0x51d8bd=endOffset;endOffset+=0xe,renderDayRange(_0x51d8bd+0x1,endOffset),reRenderBlocks();}if(_0x4184ce<0x12c){const _0x1f4ac=startOffset;startOffset-=0xe,prependDays(startOffset,_0x1f4ac-0x1),_0x29c7bc[_0x2e2b40(0x2d1)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x155f54,_0x557cd1){const _0x3ad772=a2_0x2f47c5,_0xe84bbe=document[_0x3ad772(0x23f)]('daysHeaderTrack'),_0x2a7699=document[_0x3ad772(0x23f)](_0x3ad772(0x19e)),_0x49421e=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x2adca1=new Date();_0x2adca1[_0x3ad772(0x199)](0x0,0x0,0x0,0x0);const _0x1992a4=getLocalDateStr(new Date()),_0x525fc2=document[_0x3ad772(0x2ed)](),_0x1891e3=document[_0x3ad772(0x2ed)]();for(let _0x2d768e=_0x155f54;_0x2d768e<=_0x557cd1;_0x2d768e++){const _0x5a3887=new Date(_0x2adca1);_0x5a3887[_0x3ad772(0x27d)](_0x5a3887[_0x3ad772(0x22b)]()+_0x2d768e);const _0x344ad3=getLocalDateStr(_0x5a3887);let _0x2c276a=_0x5a3887[_0x3ad772(0x1e1)]()-0x1;if(_0x2c276a===-0x1)_0x2c276a=0x6;const _0x1df82e=_0x344ad3===_0x1992a4,_0x5624f6=document[_0x3ad772(0x1af)]('div');_0x5624f6[_0x3ad772(0x2c3)]=_0x3ad772(0x293)+(_0x1df82e?_0x3ad772(0x1ae):''),_0x5624f6['id']=_0x3ad772(0x2be)+_0x344ad3,_0x5624f6[_0x3ad772(0x2f6)](_0x3ad772(0x18e),_0x344ad3),_0x5624f6[_0x3ad772(0x2c7)]=_0x3ad772(0x212)+_0x49421e[_0x2c276a]+_0x3ad772(0x291)+_0x5a3887['getDate']()+_0x3ad772(0x276)+_0x344ad3+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x5624f6[_0x3ad772(0x198)]=()=>openDayOptions(_0x344ad3,_0x49421e[_0x2c276a]+'\x20'+_0x5a3887['getDate']()),_0x525fc2['appendChild'](_0x5624f6);const _0x5551be=document[_0x3ad772(0x1af)](_0x3ad772(0x21c));_0x5551be[_0x3ad772(0x2c3)]='day-column\x20'+(_0x1df82e?_0x3ad772(0x1ae):''),_0x5551be['setAttribute'](_0x3ad772(0x18e),_0x344ad3),_0x5551be['setAttribute'](_0x3ad772(0x2b0),_0x2c276a),renderEventsForColumn(_0x5551be,_0x344ad3,_0x2c276a),attachLongPressHandler(_0x5551be,_0x5a3887),_0x1891e3[_0x3ad772(0x2eb)](_0x5551be),updateDayStats(_0x344ad3);}_0xe84bbe[_0x3ad772(0x25f)](_0x525fc2,_0xe84bbe[_0x3ad772(0x2e0)]),_0x2a7699[_0x3ad772(0x25f)](_0x1891e3,_0x2a7699[_0x3ad772(0x2a1)]('.day-column'));}function validateAppointment(_0x35824c,_0x6a8ad,_0x59abdf,_0x26b1c1,_0x147c8e){const _0x131ad5=a2_0x2f47c5,[_0x319095,_0x16dba1]=_0x6a8ad['split'](':')[_0x131ad5(0x2b3)](Number),[_0x37d8c3,_0x690de1]=_0x59abdf[_0x131ad5(0x2d8)](':')['map'](Number),_0x180590=_0x319095*0x3c+_0x16dba1,_0x1f86ff=_0x37d8c3*0x3c+_0x690de1,_0x5f2d52=String(_0x147c8e);let _0x1cb749=![],_0x1d88ed='';for(let _0x20c531 of sessions){if(_0x20c531['dateStr']!==_0x35824c)continue;if(_0x20c531[_0x131ad5(0x1e8)]===_0x131ad5(0x18b))continue;if(_0x26b1c1&&String(_0x20c531['id'])===String(_0x26b1c1))continue;const [_0x94e5ec,_0x5b2add]=_0x20c531[_0x131ad5(0x1aa)][_0x131ad5(0x2d8)](':')[_0x131ad5(0x2b3)](Number),[_0xe4b2e3,_0x4d7f6c]=_0x20c531['end']['split'](':')[_0x131ad5(0x2b3)](Number),_0x2292bb=_0x94e5ec*0x3c+_0x5b2add,_0x385dea=_0xe4b2e3*0x3c+_0x4d7f6c;if(Math[_0x131ad5(0x220)](_0x180590,_0x2292bb)<Math[_0x131ad5(0x2fc)](_0x1f86ff,_0x385dea)){if(_0x20c531[_0x131ad5(0x271)]&&String(_0x20c531[_0x131ad5(0x271)])===_0x5f2d52)return{'valid':![],'msg':_0x131ad5(0x215)+_0x20c531[_0x131ad5(0x222)]+_0x131ad5(0x1e5)};_0x1cb749=!![],_0x1d88ed=_0x20c531['client'];}}if(_0x1cb749)return{'valid':!![],'warning':_0x131ad5(0x1fd)+_0x1d88ed};return{'valid':!![]};}function updateDateDisplay(){const _0x35ba8a=a2_0x2f47c5,_0x48d99a=document[_0x35ba8a(0x23f)]('inpDate')['value'],_0x582b3a=document[_0x35ba8a(0x23f)](_0x35ba8a(0x289));if(!_0x48d99a){_0x582b3a[_0x35ba8a(0x256)]='';return;}const [_0x44ab6d,_0x5cc57e,_0x5f0f62]=_0x48d99a[_0x35ba8a(0x2d8)]('-')['map'](Number),_0x1740dd=new Date(_0x44ab6d,_0x5cc57e-0x1,_0x5f0f62),_0x120d31={'weekday':_0x35ba8a(0x2d3),'day':_0x35ba8a(0x2bb),'month':'long','year':_0x35ba8a(0x2bb)};let _0x546ba3=_0x1740dd['toLocaleDateString'](_0x35ba8a(0x228),_0x120d31);_0x546ba3=_0x546ba3[_0x35ba8a(0x1b7)](0x0)['toUpperCase']()+_0x546ba3[_0x35ba8a(0x2b1)](0x1),_0x582b3a[_0x35ba8a(0x256)]=_0x546ba3;}function autoSetEndTime(){const _0x17036f=a2_0x2f47c5,_0x429533=document[_0x17036f(0x23f)](_0x17036f(0x24a))[_0x17036f(0x180)];if(!_0x429533)return;const [_0x73cd36,_0x26cddc]=_0x429533[_0x17036f(0x2d8)](':')[_0x17036f(0x2b3)](Number);let _0xdfa079=_0x73cd36+0x1;if(_0xdfa079>0x17)_0xdfa079=0x0;const _0x162c65=String(_0xdfa079)['padStart'](0x2,'0')+':'+String(_0x26cddc)['padStart'](0x2,'0');document[_0x17036f(0x23f)](_0x17036f(0x262))[_0x17036f(0x180)]=_0x162c65;}function populateClientSelect(){const _0x313d07=a2_0x2f47c5,_0x17d571=document[_0x313d07(0x23f)]('inpClient');_0x17d571[_0x313d07(0x2c7)]='';if(clients[_0x313d07(0x1ba)]===0x0){const _0x34b10b=document['createElement'](_0x313d07(0x2a4));_0x34b10b[_0x313d07(0x226)]=_0x313d07(0x224),_0x17d571[_0x313d07(0x2eb)](_0x34b10b);return;}clients[_0x313d07(0x2d0)](_0x4388eb=>{const _0x3adba6=_0x313d07,_0x4542a5=document[_0x3adba6(0x1af)](_0x3adba6(0x2a4));_0x4542a5['value']=_0x4388eb['name'],_0x4542a5[_0x3adba6(0x256)]=_0x4388eb[_0x3adba6(0x2f1)],_0x17d571[_0x3adba6(0x2eb)](_0x4542a5);});}function openActionSheet(_0x30b9d0){const _0x3fab41=a2_0x2f47c5,_0xb4691a=document[_0x3fab41(0x23f)]('actionSheet'),_0x31eb19=document['getElementById'](_0x3fab41(0x2ec)),_0x2ffe81=document[_0x3fab41(0x23f)](_0x3fab41(0x197)),_0x23cd2d=document[_0x3fab41(0x23f)]('asBtnOne'),_0x3073a7=document[_0x3fab41(0x23f)]('asBtnSeries');_0x31eb19[_0x3fab41(0x1f5)][_0x3fab41(0x1fe)](_0x3fab41(0x22d)),_0xb4691a[_0x3fab41(0x1f5)][_0x3fab41(0x1fe)](_0x3fab41(0x2f3));if(_0x30b9d0===_0x3fab41(0x2b8))_0x2ffe81[_0x3fab41(0x256)]='–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏',_0x23cd2d['textContent']=_0x3fab41(0x263),_0x23cd2d[_0x3fab41(0x198)]=()=>{const _0x315a8f=_0x3fab41;closeActionSheet(),updateSeriesBatch(_0x315a8f(0x206),tempSessionData);},_0x3073a7[_0x3fab41(0x256)]='–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ',_0x3073a7[_0x3fab41(0x198)]=()=>{closeActionSheet(),updateSeriesBatch('series',tempSessionData);};else _0x30b9d0===_0x3fab41(0x2fa)&&(_0x2ffe81[_0x3fab41(0x256)]=_0x3fab41(0x1dc),_0x23cd2d[_0x3fab41(0x256)]=_0x3fab41(0x263),_0x23cd2d['className']=_0x3fab41(0x2ee),_0x23cd2d[_0x3fab41(0x198)]=()=>{const _0x12d91a=_0x3fab41;closeActionSheet(),commitDelete(_0x12d91a(0x206),sessions[_0x12d91a(0x1f6)](_0x5f081f=>_0x5f081f['id']===editingId));},_0x3073a7[_0x3fab41(0x256)]=_0x3fab41(0x1e0),_0x3073a7[_0x3fab41(0x2c3)]=_0x3fab41(0x2d5),_0x3073a7[_0x3fab41(0x198)]=()=>{const _0x4f78b6=_0x3fab41;closeActionSheet(),commitDelete(_0x4f78b6(0x282),sessions[_0x4f78b6(0x1f6)](_0x394f4b=>_0x394f4b['id']===editingId));});}function closeActionSheet(){const _0xb7d635=a2_0x2f47c5;document[_0xb7d635(0x23f)](_0xb7d635(0x2a7))[_0xb7d635(0x1f5)][_0xb7d635(0x2c5)](_0xb7d635(0x2f3)),document[_0xb7d635(0x23f)](_0xb7d635(0x2ec))[_0xb7d635(0x1f5)]['remove'](_0xb7d635(0x22d));}function openSettings(){const _0x42aa50=a2_0x2f47c5;openSheet(_0x42aa50(0x28c));}function saveCoachSettings(){const _0xde880d=a2_0x2f47c5,_0x1a6144=document[_0xde880d(0x23f)]('settingCancelWindow')[_0xde880d(0x180)];localStorage['setItem'](_0xde880d(0x29c),_0x1a6144),console[_0xde880d(0x1ac)](_0xde880d(0x2b6),_0x1a6144),DataManager['fetchFromServer'](_0xde880d(0x2f5),{'settings':{'cancel_window':_0x1a6144}})[_0xde880d(0x21d)](_0x18c945=>{const _0x5d296a=_0xde880d;console[_0x5d296a(0x2af)](_0x5d296a(0x1b8),_0x18c945),showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫',![]);});}function loadCoachSettings(){const _0x586d5c=a2_0x2f47c5,_0x5db000=localStorage['getItem'](_0x586d5c(0x29c));_0x5db000&&(document['getElementById']('settingCancelWindow')[_0x586d5c(0x180)]=_0x5db000);}function openRangesSheet(){closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet('rangesSheet');}function addRange(){const _0x17d9af=a2_0x2f47c5,_0x5b098d=document[_0x17d9af(0x23f)]('rangeStartDate')[_0x17d9af(0x180)],_0x4b919b=document[_0x17d9af(0x23f)](_0x17d9af(0x1b6))[_0x17d9af(0x180)],_0x2b0c17=document[_0x17d9af(0x23f)](_0x17d9af(0x2c9))[_0x17d9af(0x180)],_0x4eb697=document[_0x17d9af(0x23f)](_0x17d9af(0x23c))[_0x17d9af(0x180)];if(!_0x5b098d||!_0x4b919b||!_0x2b0c17||!_0x4eb697)return alert(_0x17d9af(0x2e6));const _0x46c141=_0x5b098d+'T'+_0x4b919b,_0x1989f9=_0x2b0c17+'T'+_0x4eb697;if(_0x46c141>=_0x1989f9)return alert(_0x17d9af(0x1f4));specialRanges[_0x17d9af(0x1ff)]({'start':_0x46c141,'end':_0x1989f9}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x17d9af(0x236)](),DataManager[_0x17d9af(0x28d)]('save_settings',{'settings':{'ranges':specialRanges}});}function deleteRange(_0x2642a){const _0x12714c=a2_0x2f47c5;specialRanges['splice'](_0x2642a,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x12714c(0x236)](),DataManager['fetchFromServer'](_0x12714c(0x2f5),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x5e244a=a2_0x2f47c5;document[_0x5e244a(0x23f)](_0x5e244a(0x185))[_0x5e244a(0x180)]='',document[_0x5e244a(0x23f)](_0x5e244a(0x1b6))[_0x5e244a(0x180)]=_0x5e244a(0x27e),document[_0x5e244a(0x23f)]('rangeEndDate')['value']='',document[_0x5e244a(0x23f)](_0x5e244a(0x23c))[_0x5e244a(0x180)]='23:59';}function renderRangesList(){const _0x4472b1=a2_0x2f47c5,_0x170eea=document[_0x4472b1(0x23f)](_0x4472b1(0x221));_0x170eea[_0x4472b1(0x2c7)]='';if(!specialRanges['length']){_0x170eea[_0x4472b1(0x2c7)]=_0x4472b1(0x2b5);return;}specialRanges[_0x4472b1(0x2d0)]((_0x90082e,_0x205806)=>{const _0x121657=_0x4472b1,_0x26c0bd=document[_0x121657(0x1af)](_0x121657(0x21c));_0x26c0bd['className']=_0x121657(0x238);const _0x2d65ce=_0x52c981=>{const _0x4d1c81=_0x121657,_0x34f641=new Date(_0x52c981);return _0x34f641[_0x4d1c81(0x22b)]()+'.'+String(_0x34f641[_0x4d1c81(0x27f)]()+0x1)[_0x4d1c81(0x192)](0x2,'0')+'\x20'+String(_0x34f641[_0x4d1c81(0x1d8)]())[_0x4d1c81(0x192)](0x2,'0')+':'+String(_0x34f641[_0x4d1c81(0x239)]())[_0x4d1c81(0x192)](0x2,'0');};_0x26c0bd['innerHTML']=_0x121657(0x255)+_0x2d65ce(_0x90082e[_0x121657(0x1aa)])+_0x121657(0x1dd)+_0x2d65ce(_0x90082e[_0x121657(0x1cf)])+_0x121657(0x2a9)+_0x205806+')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>',_0x170eea[_0x121657(0x2eb)](_0x26c0bd);});}function scrollToToday(){const _0x1d2ab3=a2_0x2f47c5,_0x12f538=getLocalDateStr(new Date()),_0x2eab58=document[_0x1d2ab3(0x23f)](_0x1d2ab3(0x2be)+_0x12f538),_0x114af0=document[_0x1d2ab3(0x23f)](_0x1d2ab3(0x1b9));if(_0x2eab58&&_0x114af0){const _0x2369dc=_0x114af0[_0x1d2ab3(0x1a8)],_0x3d5891=_0x2eab58[_0x1d2ab3(0x1ee)],_0x24270e=_0x2eab58[_0x1d2ab3(0x25d)];_0x114af0[_0x1d2ab3(0x2d1)]=_0x3d5891-_0x2369dc/0x2+_0x24270e/0x2,_0x114af0[_0x1d2ab3(0x1bb)]=0x9*GRID_H;}}function onScroll(){const _0x3e238b=a2_0x2f47c5,_0x4e3555=document[_0x3e238b(0x23f)](_0x3e238b(0x1b9)),_0x1693ea=document[_0x3e238b(0x26c)](_0x3e238b(0x1d1));for(let _0xa8662c of _0x1693ea)if(_0xa8662c[_0x3e238b(0x1ee)]>=_0x4e3555[_0x3e238b(0x2d1)]){const _0xae0a1e=new Date(_0xa8662c[_0x3e238b(0x182)](_0x3e238b(0x18e)));document[_0x3e238b(0x23f)](_0x3e238b(0x2f4))[_0x3e238b(0x256)]=_0xae0a1e[_0x3e238b(0x1a0)]('ru',{'month':_0x3e238b(0x2d3)})[_0x3e238b(0x1c2)]()+'\x20'+_0xae0a1e[_0x3e238b(0x274)]();break;}}function showToast(_0x37856b,_0x474f5b=![]){const _0x11423d=a2_0x2f47c5,_0x17d172=document[_0x11423d(0x23f)](_0x11423d(0x2cc));_0x17d172[_0x11423d(0x2c3)]='toast-notification\x20'+(_0x474f5b?_0x11423d(0x286):''),document[_0x11423d(0x23f)](_0x11423d(0x1c6))['textContent']=_0x474f5b?'–£—Å–ø–µ—à–Ω–æ':'–ò–Ω—Ñ–æ',document[_0x11423d(0x23f)](_0x11423d(0x2c0))[_0x11423d(0x256)]=_0x37856b,_0x17d172[_0x11423d(0x1f5)][_0x11423d(0x1fe)](_0x11423d(0x1db)),setTimeout(()=>{const _0x546826=_0x11423d;_0x17d172['classList'][_0x546826(0x2c5)](_0x546826(0x1db));},0xbb8);}function openDayOptions(_0x191b77,_0x3b1eb0){const _0x399893=a2_0x2f47c5;selectedDayForOptions=_0x191b77,document['getElementById'](_0x399893(0x1d4))['textContent']=_0x3b1eb0,openSheet(_0x399893(0x2e8));}function toggleDayOff(){const _0x13a365=a2_0x2f47c5;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x13a365(0x1d7),reRenderBlocks(),closeAllSheets(),DataManager[_0x13a365(0x236)](),DataManager[_0x13a365(0x28d)]('save_settings',{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x124e3f=a2_0x2f47c5;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x124e3f(0x236)](),DataManager[_0x124e3f(0x28d)](_0x124e3f(0x2f5),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x166155){const _0x39df0d=a2_0x2f47c5;document[_0x39df0d(0x23f)](_0x39df0d(0x2e9))[_0x39df0d(0x1f5)][_0x39df0d(0x1fe)](_0x39df0d(0x22d)),document[_0x39df0d(0x23f)](_0x166155)[_0x39df0d(0x1f5)][_0x39df0d(0x1fe)]('open');}function closeAllSheets(){const _0x324006=a2_0x2f47c5;document[_0x324006(0x23f)]('overlay')[_0x324006(0x1f5)][_0x324006(0x2c5)](_0x324006(0x22d)),document[_0x324006(0x26c)](_0x324006(0x2a0))['forEach'](_0x470c78=>_0x470c78[_0x324006(0x1f5)][_0x324006(0x2c5)]('open'));}function openPatternEditor(){const _0x1f7e24=a2_0x2f47c5;closeAllSheets(),document[_0x1f7e24(0x23f)](_0x1f7e24(0x1f3))['classList'][_0x1f7e24(0x1fe)](_0x1f7e24(0x2f3)),renderPatternEditor();}function closePatternEditor(){const _0x2a5249=a2_0x2f47c5;document[_0x2a5249(0x23f)](_0x2a5249(0x1f3))[_0x2a5249(0x1f5)][_0x2a5249(0x2c5)](_0x2a5249(0x2f3));}function savePattern(){const _0xc1bacd=a2_0x2f47c5;document[_0xc1bacd(0x23f)]('patternEditor')[_0xc1bacd(0x1f5)]['remove'](_0xc1bacd(0x2f3)),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0xc1bacd(0x28d)]('save_settings',{'settings':{'pattern':availabilityPattern}});}function a2_0x8ab4(){const _0x49a9cb=['charAt','Save\x20settings\x20error:','matrixViewport','length','scrollTop','BackButton','5020760rOFRtN','</span>\x20/\x20','display','385jgapyc','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','toUpperCase','POST','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','var(--acc-orange)','toastTitle','10px\x2010px\x200\x200','var(--acc-current)','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','.period-switch\x20.p-btn','btn-status-toggle','touches','send_notification','.pib-text','end','#fff','.day-col-header','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Critical\x20TMA\x20Error:','dayOptionsTitle','filter','9VMPnPE','off','getHours','checked','anStart','show','–£–¥–∞–ª–µ–Ω–∏–µ','\x20‚Äî\x20','round','calendar','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','getDay','cancel_window','[API\x20','pe-cell\x20',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','toLocaleDateString','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','status','none','includes','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',']\x20Failed:','uc_sessions_v9','offsetLeft','custom','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','rgba(100,100,100,0.5)','setBackgroundColor','patternEditor','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','classList','find','warn','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','%\x20+\x202px)','setMonth','10px','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','add','push','borderColor','6955772ojQUzL','stopPropagation','entries','.dch-stats-fill','(((.+)+)+)+$','single','sheetTitle','pe-corner','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','create','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','143576AqUOcw','stringify','Error\x20setting\x20back\x20button:','then','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','<div\x20class=\x22dch-day\x22>','rgba(255,\x20159,\x2010,\x200.3)','parse','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','anEnd','cancel','total','syncLoad','client-stat-card','touchmove','div','catch','getTime','Telegram','max','rangesList','client','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','<b>‚úÖ\x20','text','</div>','ru-RU','left','inpNote','getDate','sort','active','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','substr','blocked-slot\x20stripe-bg','clientY','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','user',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','getItem','saveLocally','touchend','range-item','getMinutes','backgroundColor','getText','rangeEndTime','T23:59:59','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','getElementById','clients','loadLocal','Local\x20Load\x20Error','v9.0-BATCH-CALENDAR','init_load','analyticsSheet','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','\x20days','update','uc_clients_v9','inpStart','T00:00:00','top','\x20-\x20','colIndex','</div><div\x20class=\x22ev-time\x22>','exceptions','ranges','strokeDashoffset','json','borderLeftColor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','textContent','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','\x20–∏–∑\x20','event-card','seriesCountContainer','done','offsetWidth','indexOf','insertBefore','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','patternInfoBox','inpEnd','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','touchstart','timeLineBadge','px\x200px','search','statLoadCard','scroll','pattern','apply','querySelectorAll','rgba(255,\x2069,\x2058,\x200.15)','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','week','location','clientId','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','</b>\x0a\x0a','getFullYear','[Notify]\x20Client\x20SWAP\x20detected','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','closest','constructor','width','recurringOptionContainer','findIndex','uc_settings_v9','setDate','00:00','getMonth','random','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','series','[Notify]\x20Network\x20Failed','planned','send','success','all','btnDelete','sheetDateSubtitle','rgba(255,\x2069,\x2058,\x200.3)','Error\x20setting\x20color:','settingsSheet','fetchFromServer','from','blocked-range-part\x20stripe-bg','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','</div><div\x20class=\x22dch-num\x22>','821329aCqvHC','day-col-header\x20','backgroundPosition','doEventsList','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','4901508lXLOzO','#050505','href','rgba(255,255,255,0.05)','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','uc_settings_cancel_window','anDonutCircle','doWorkHours','px\x20-','.sheet','querySelector','now','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','option','inpDate','month','actionSheet','toString','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','anPercent','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫',':00','globalTimeLine','error','data-day-idx','slice','#gridColumns\x20.day-column','map','btnStatusToggle','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','[Settings]\x20Cancel\x20window\x20set\x20to:','mergeServerData','save','block','height','numeric','background','mousedown','header-','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','toastMessage','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','settingCancelWindow','className','warning','remove','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','innerHTML','[Notify]\x20Detected\x20Client\x20ID:','rangeEndDate','<div\x20class=\x22ev-title\x22>','anCustomDates','toast','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','28137580yeCTQK','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','forEach','scrollLeft','complete','long','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','as-button\x20danger\x20bold','data','getBoundingClientRect','split','color','keys','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','batch_sync','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','<span>','11700EGGNSL','firstChild','valid','settings','msg','mousemove','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','dayOptionsSheet','overlay','flex','appendChild','actionSheetOverlay','createDocumentFragment','as-button\x20danger','rgba(','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','name','setHeaderColor','open','headerMonth','save_settings','setAttribute','[Notify]\x20Error:\x20sessionData\x20is\x20null','completed','stat-','delete','router.html','min','timeColumn','initData','value','analyticsList','getAttribute','dateStr','addEventListener','rangeStartDate','onClick','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','calc(','borderRadius','seriesId','cancelled','day-off-overlay\x20stripe-bg',':\x20Client\x20already\x20booked','data-date','3xsWvVJ','var(--acc-red)','sessionSheet','padStart','.day-off-overlay','toFixed','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','mini','asTitle','onclick','setHours','style','null','setItem','text/plain;charset=UTF-8','gridColumns','note','toLocaleString','btn-status-toggle\x20undo-mode','btn-primary\x20btn-danger','pe-time-label','time-label','disableVerticalSwipes','inpRecurring','[Notify]\x20Error:\x20Text\x20generation\x20failed','clientWidth','splice','start','floor','log','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','today','createElement','vibrate',':00</span>','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','doLoadPercent','WebApp','isArray','rangeStartTime'];a2_0x8ab4=function(){return _0x49a9cb;};return a2_0x8ab4();}function renderPatternEditor(){const _0x3c6f64=a2_0x2f47c5,_0x406836=document['getElementById']('peGrid');_0x406836[_0x3c6f64(0x2c7)]='';const _0x294415=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x188c38=document[_0x3c6f64(0x1af)](_0x3c6f64(0x21c));_0x188c38[_0x3c6f64(0x2c3)]=_0x3c6f64(0x208),_0x406836[_0x3c6f64(0x2eb)](_0x188c38),_0x294415['forEach']((_0x466005,_0xd07b0)=>{const _0x5b9ebe=_0x3c6f64,_0x553ffc=document[_0x5b9ebe(0x1af)]('div');_0x553ffc['className']='pe-col-header',_0x553ffc[_0x5b9ebe(0x2c7)]=_0x466005+_0x5b9ebe(0x1c1),_0x553ffc[_0x5b9ebe(0x198)]=()=>toggleColPattern(_0xd07b0),_0x406836['appendChild'](_0x553ffc);});for(let _0x552a8a=0x0;_0x552a8a<0x18;_0x552a8a++){const _0x2dbbba=document[_0x3c6f64(0x1af)](_0x3c6f64(0x21c));_0x2dbbba[_0x3c6f64(0x2c3)]=_0x3c6f64(0x1a3),_0x2dbbba[_0x3c6f64(0x2c7)]=_0x3c6f64(0x1ad)+String(_0x552a8a)[_0x3c6f64(0x192)](0x2,'0')+_0x3c6f64(0x2ad),_0x2dbbba[_0x3c6f64(0x198)]=()=>toggleRowPattern(_0x552a8a),_0x406836['appendChild'](_0x2dbbba);for(let _0x4b0cc4=0x0;_0x4b0cc4<0x7;_0x4b0cc4++){const _0x48f4c4=document[_0x3c6f64(0x1af)](_0x3c6f64(0x21c)),_0x59ba78=(availabilityPattern[_0x4b0cc4]||[])[_0x3c6f64(0x1ea)](_0x552a8a),_0x17d8ec=!_0x59ba78;_0x48f4c4[_0x3c6f64(0x2c3)]=_0x3c6f64(0x1e4)+(_0x17d8ec?_0x3c6f64(0x22d):''),_0x48f4c4[_0x3c6f64(0x198)]=()=>toggleSinglePattern(_0x4b0cc4,_0x552a8a),_0x406836['appendChild'](_0x48f4c4);}}}function toggleSinglePattern(_0x3241c7,_0x11236c){const _0x22f80d=a2_0x2f47c5;if(!availabilityPattern[_0x3241c7])availabilityPattern[_0x3241c7]=[];const _0x330d5a=availabilityPattern[_0x3241c7],_0x58e913=_0x330d5a[_0x22f80d(0x25e)](_0x11236c);_0x58e913===-0x1?_0x330d5a[_0x22f80d(0x1ff)](_0x11236c):_0x330d5a[_0x22f80d(0x1a9)](_0x58e913,0x1),renderPatternEditor();}function toggleColPattern(_0x1cb847){const _0x2761b1=a2_0x2f47c5;if(!availabilityPattern[_0x1cb847])availabilityPattern[_0x1cb847]=[];const _0x102020=availabilityPattern[_0x1cb847];_0x102020[_0x2761b1(0x1ba)]===0x0?availabilityPattern[_0x1cb847]=Array[_0x2761b1(0x28e)]({'length':0x18},(_0x530850,_0x5a75d3)=>_0x5a75d3):availabilityPattern[_0x1cb847]=[],renderPatternEditor();}function toggleRowPattern(_0x8c55dc){const _0x2f2b6b=a2_0x2f47c5;let _0x308808=!![];for(let _0x419dfc=0x0;_0x419dfc<0x7;_0x419dfc++){if((availabilityPattern[_0x419dfc]||[])[_0x2f2b6b(0x1ea)](_0x8c55dc)){_0x308808=![];break;}}for(let _0x3a11bb=0x0;_0x3a11bb<0x7;_0x3a11bb++){if(!availabilityPattern[_0x3a11bb])availabilityPattern[_0x3a11bb]=[];const _0xce952d=availabilityPattern[_0x3a11bb][_0x2f2b6b(0x25e)](_0x8c55dc);if(_0x308808){if(_0xce952d===-0x1)availabilityPattern[_0x3a11bb][_0x2f2b6b(0x1ff)](_0x8c55dc);}else{if(_0xce952d!==-0x1)availabilityPattern[_0x3a11bb][_0x2f2b6b(0x1a9)](_0xce952d,0x1);}}renderPatternEditor();}function renderPCol(_0x32076d,_0x1fac03){const _0x612253=a2_0x2f47c5;_0x32076d[_0x612253(0x2c7)]='';const _0x378e46=Math[_0x612253(0x1de)](_0x32076d['offsetLeft']);(availabilityPattern[_0x1fac03]||[])['forEach'](_0x3e1b47=>{const _0x43521f=_0x612253,_0x260ec5=document[_0x43521f(0x1af)](_0x43521f(0x21c));_0x260ec5[_0x43521f(0x2c3)]=_0x43521f(0x230);const _0x19fa2d=_0x3e1b47*GRID_H;_0x260ec5[_0x43521f(0x19a)][_0x43521f(0x24c)]=_0x19fa2d+'px',_0x260ec5[_0x43521f(0x19a)]['backgroundPosition']='-'+_0x378e46+'px\x20-'+_0x19fa2d+'px',_0x260ec5[_0x43521f(0x198)]=_0x3f391b=>{const _0x540994=_0x43521f;_0x3f391b[_0x540994(0x202)](),toggleSinglePattern(_0x1fac03,_0x3e1b47);},_0x32076d[_0x43521f(0x2eb)](_0x260ec5);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x4954a6=a2_0x2f47c5,_0x25e9d5=new Date(),_0x3a423e=document[_0x4954a6(0x23f)](_0x4954a6(0x2ae)),_0x440e74=document['getElementById'](_0x4954a6(0x265)),_0x3ba769=(_0x25e9d5[_0x4954a6(0x1d8)]()*0x3c+_0x25e9d5[_0x4954a6(0x239)]())/0x3c*GRID_H;_0x3a423e[_0x4954a6(0x19a)]['top']=_0x3ba769+'px',_0x3a423e[_0x4954a6(0x19a)][_0x4954a6(0x1bf)]=_0x4954a6(0x2b9),_0x440e74[_0x4954a6(0x256)]=String(_0x25e9d5[_0x4954a6(0x1d8)]())[_0x4954a6(0x192)](0x2,'0')+':'+String(_0x25e9d5['getMinutes']())[_0x4954a6(0x192)](0x2,'0'),_0x440e74['style'][_0x4954a6(0x1bf)]='block',_0x440e74[_0x4954a6(0x19a)][_0x4954a6(0x24c)]=_0x3ba769+'px';}document['addEventListener']('DOMContentLoaded',init);function openDayOptions(_0x1fd14c){const _0xccd20f=a2_0x2f47c5;selectedDayForOptions=_0x1fd14c;const _0x6426b=new Date(_0x1fd14c),_0x84fc8e={'weekday':_0xccd20f(0x2d3),'day':_0xccd20f(0x2bb),'month':'long','year':_0xccd20f(0x2bb)},_0x393e78=_0x6426b[_0xccd20f(0x1e6)](_0xccd20f(0x228),_0x84fc8e);document['getElementById']('doDateHeader')[_0xccd20f(0x256)]=_0x393e78[_0xccd20f(0x1b7)](0x0)[_0xccd20f(0x1c2)]()+_0x393e78[_0xccd20f(0x2b1)](0x1);let _0x45f0a7=_0x6426b[_0xccd20f(0x1e1)]()-0x1;if(_0x45f0a7===-0x1)_0x45f0a7=0x6;const _0x39e2cc=availabilityPattern[_0x45f0a7]||[],_0x545155=0x18-_0x39e2cc[_0xccd20f(0x1ba)],_0x25ad8c=_0x545155*0x3c,_0x57b758=sessions[_0xccd20f(0x1d5)](_0x42db93=>_0x42db93[_0xccd20f(0x183)]===_0x1fd14c&&_0x42db93[_0xccd20f(0x1e8)]!==_0xccd20f(0x18b));let _0x252f65=_0x57b758[_0xccd20f(0x2b3)](_0x4270aa=>{const _0x4c1469=_0xccd20f,[_0x147393,_0x21b8be]=_0x4270aa['start'][_0x4c1469(0x2d8)](':')[_0x4c1469(0x2b3)](Number),[_0x46eb4e,_0x59e8e9]=_0x4270aa['end']['split'](':')[_0x4c1469(0x2b3)](Number);return[_0x147393*0x3c+_0x21b8be,_0x46eb4e*0x3c+_0x59e8e9];});_0x252f65[_0xccd20f(0x22c)]((_0x3f82cc,_0x3ac1d2)=>_0x3f82cc[0x0]-_0x3ac1d2[0x0]);let _0x2d966e=[];if(_0x252f65[_0xccd20f(0x1ba)]>0x0){let _0xe0778e=_0x252f65[0x0];for(let _0x8e149=0x1;_0x8e149<_0x252f65[_0xccd20f(0x1ba)];_0x8e149++){_0x252f65[_0x8e149][0x0]<_0xe0778e[0x1]?_0xe0778e[0x1]=Math[_0xccd20f(0x220)](_0xe0778e[0x1],_0x252f65[_0x8e149][0x1]):(_0x2d966e[_0xccd20f(0x1ff)](_0xe0778e),_0xe0778e=_0x252f65[_0x8e149]);}_0x2d966e[_0xccd20f(0x1ff)](_0xe0778e);}let _0x20d844=0x0;_0x2d966e['forEach'](_0x4c2876=>_0x20d844+=_0x4c2876[0x1]-_0x4c2876[0x0]),document[_0xccd20f(0x23f)](_0xccd20f(0x29e))[_0xccd20f(0x256)]=formatMinsToHrs(_0x25ad8c),document[_0xccd20f(0x23f)]('doBusyHours')[_0xccd20f(0x256)]=formatMinsToHrs(_0x20d844);const _0x32dca0=_0x25ad8c>0x0?Math[_0xccd20f(0x1de)](_0x20d844/_0x25ad8c*0x64):0x0,_0xe14126=document[_0xccd20f(0x23f)](_0xccd20f(0x1b3));_0xe14126[_0xccd20f(0x256)]=_0x32dca0+'%';const _0x2fef3f=document['getElementById'](_0xccd20f(0x268));if(_0x32dca0>0x64)_0xe14126['style'][_0xccd20f(0x2d9)]='var(--acc-red)',_0x2fef3f[_0xccd20f(0x19a)][_0xccd20f(0x200)]=_0xccd20f(0x28a);else _0x32dca0>0x50?(_0xe14126[_0xccd20f(0x19a)]['color']=_0xccd20f(0x1c5),_0x2fef3f[_0xccd20f(0x19a)][_0xccd20f(0x200)]=_0xccd20f(0x213)):(_0xe14126[_0xccd20f(0x19a)]['color']='var(--acc-green)',_0x2fef3f[_0xccd20f(0x19a)][_0xccd20f(0x200)]=_0xccd20f(0x29a));const _0x1ec6c6=document['getElementById'](_0xccd20f(0x295));_0x1ec6c6[_0xccd20f(0x2c7)]='';_0x57b758['length']===0x0?_0x1ec6c6['innerHTML']='<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>':(_0x57b758[_0xccd20f(0x22c)]((_0x1ebaf7,_0x54741b)=>_0x1ebaf7[_0xccd20f(0x1aa)]['localeCompare'](_0x54741b[_0xccd20f(0x1aa)])),_0x57b758[_0xccd20f(0x2d0)](_0xbc0000=>{const _0x2c5335=_0xccd20f,_0x14df32=clients[_0x2c5335(0x1f6)](_0x3b0b92=>_0x3b0b92[_0x2c5335(0x2f1)]===_0xbc0000[_0x2c5335(0x222)]),_0x1fc880=_0x14df32?_0x14df32[_0x2c5335(0x2d9)]:_0x2c5335(0x1d0),_0x50e766=_0xbc0000['status']===_0x2c5335(0x2f8),_0x98634f=_0x50e766?_0x2c5335(0x20c):'',_0x3412f4=document[_0x2c5335(0x1af)](_0x2c5335(0x21c));_0x3412f4[_0x2c5335(0x2c3)]='de-item',_0x3412f4[_0x2c5335(0x19a)][_0x2c5335(0x254)]=_0x1fc880,_0x3412f4['innerHTML']=_0x2c5335(0x1c4)+_0xbc0000['start']+'\x20-\x20'+_0xbc0000['end']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xbc0000[_0x2c5335(0x222)]+_0x2c5335(0x1d2)+_0x98634f+_0x2c5335(0x2cf),_0x1ec6c6[_0x2c5335(0x2eb)](_0x3412f4);}));const _0x185993=document['getElementById']('btnDayToggle'),_0x49cfb9=dateExceptions[_0x1fd14c]===_0xccd20f(0x1d7);_0x49cfb9?(_0x185993[_0xccd20f(0x256)]=_0xccd20f(0x2bf),_0x185993[_0xccd20f(0x2c3)]='btn-primary\x20btn-secondary',_0x185993[_0xccd20f(0x19a)][_0xccd20f(0x2d9)]='var(--acc-green)',_0x185993[_0xccd20f(0x19a)][_0xccd20f(0x2bc)]='rgba(48,\x20209,\x2088,\x200.15)'):(_0x185993[_0xccd20f(0x256)]=_0xccd20f(0x1f0),_0x185993[_0xccd20f(0x2c3)]=_0xccd20f(0x1a2),_0x185993['style'][_0xccd20f(0x2d9)]=_0xccd20f(0x190),_0x185993['style'][_0xccd20f(0x2bc)]=_0xccd20f(0x26d)),openSheet(_0xccd20f(0x2e8));}let currentAnPeriod=a2_0x2f47c5(0x26f);function openAnalytics(){const _0x318f7d=a2_0x2f47c5,_0x1a3651=document[_0x318f7d(0x2a1)]('.period-switch\x20.p-btn');setAnalyticsPeriod(_0x318f7d(0x26f),_0x1a3651),closeAllSheets(),openSheet(_0x318f7d(0x245));}function setAnalyticsPeriod(_0x516e41,_0x4827db){const _0x4b8e78=a2_0x2f47c5;currentAnPeriod=_0x516e41,document[_0x4b8e78(0x26c)](_0x4b8e78(0x1ca))['forEach'](_0x3d4430=>_0x3d4430['classList']['remove'](_0x4b8e78(0x22d)));if(_0x4827db)_0x4827db['classList'][_0x4b8e78(0x1fe)](_0x4b8e78(0x22d));const _0x3ad33a=document['getElementById'](_0x4b8e78(0x2cb));_0x3ad33a['style'][_0x4b8e78(0x1bf)]=_0x516e41===_0x4b8e78(0x1ef)?'flex':_0x4b8e78(0x1e9);const _0x193b5a=new Date();let _0x229599=new Date(),_0x42e539=new Date();if(_0x516e41===_0x4b8e78(0x26f))_0x229599=getStartOfWeek(_0x193b5a),_0x42e539=new Date(_0x229599),_0x42e539[_0x4b8e78(0x27d)](_0x42e539[_0x4b8e78(0x22b)]()+0x6);else{if(_0x516e41===_0x4b8e78(0x2a6))_0x229599=new Date(_0x193b5a[_0x4b8e78(0x274)](),_0x193b5a['getMonth'](),0x1),_0x42e539=new Date(_0x193b5a[_0x4b8e78(0x274)](),_0x193b5a[_0x4b8e78(0x27f)]()+0x1,0x0);else{!document[_0x4b8e78(0x23f)](_0x4b8e78(0x1da))[_0x4b8e78(0x180)]&&(document[_0x4b8e78(0x23f)](_0x4b8e78(0x1da))[_0x4b8e78(0x180)]=getLocalDateStr(_0x193b5a),document['getElementById'](_0x4b8e78(0x216))[_0x4b8e78(0x180)]=getLocalDateStr(_0x193b5a));refreshAnalytics();return;}}document[_0x4b8e78(0x23f)]('anStart')[_0x4b8e78(0x180)]=getLocalDateStr(_0x229599),document['getElementById'](_0x4b8e78(0x216))[_0x4b8e78(0x180)]=getLocalDateStr(_0x42e539),refreshAnalytics();}function refreshAnalytics(){const _0x4046ac=a2_0x2f47c5,_0x333d22=document['getElementById'](_0x4046ac(0x1da))['value'],_0x4aaba3=document['getElementById'](_0x4046ac(0x216))[_0x4046ac(0x180)];if(!_0x333d22||!_0x4aaba3)return;const _0x40805b=sessions[_0x4046ac(0x1d5)](_0x1263b8=>_0x1263b8[_0x4046ac(0x183)]>=_0x333d22&&_0x1263b8[_0x4046ac(0x183)]<=_0x4aaba3&&_0x1263b8[_0x4046ac(0x1e8)]!=='cancelled'),_0x4f9937=_0x40805b[_0x4046ac(0x1ba)],_0x59a7e3=_0x40805b[_0x4046ac(0x1d5)](_0x5353f1=>_0x5353f1[_0x4046ac(0x1e8)]===_0x4046ac(0x2f8))[_0x4046ac(0x1ba)],_0x1c586d=_0x4f9937>0x0?Math[_0x4046ac(0x1de)](_0x59a7e3/_0x4f9937*0x64):0x0;document[_0x4046ac(0x23f)](_0x4046ac(0x2ab))[_0x4046ac(0x256)]=_0x1c586d+'%',document['getElementById']('anTotalStats')[_0x4046ac(0x256)]=_0x59a7e3+_0x4046ac(0x259)+_0x4f9937+_0x4046ac(0x260);const _0x94c8d4=document[_0x4046ac(0x23f)](_0x4046ac(0x29d)),_0x5b2fb5=0x2*Math['PI']*0x23,_0x40cc2b=_0x5b2fb5-_0x1c586d/0x64*_0x5b2fb5;_0x94c8d4[_0x4046ac(0x19a)][_0x4046ac(0x252)]=_0x40cc2b;const _0x104c22={};_0x40805b[_0x4046ac(0x2d0)](_0x500900=>{const _0x374dae=_0x4046ac;if(!_0x104c22[_0x500900['client']]){const _0x33b522=clients[_0x374dae(0x1f6)](_0x1927b6=>_0x1927b6[_0x374dae(0x2f1)]===_0x500900['client']);_0x104c22[_0x500900[_0x374dae(0x222)]]={'total':0x0,'done':0x0,'color':_0x33b522?_0x33b522[_0x374dae(0x2d9)]:'#fff'};}_0x104c22[_0x500900[_0x374dae(0x222)]][_0x374dae(0x218)]++;if(_0x500900[_0x374dae(0x1e8)]===_0x374dae(0x2f8))_0x104c22[_0x500900[_0x374dae(0x222)]][_0x374dae(0x25c)]++;});const _0x37431c=document[_0x4046ac(0x23f)](_0x4046ac(0x181));_0x37431c['innerHTML']='';const _0x5600f5=Object[_0x4046ac(0x203)](_0x104c22)[_0x4046ac(0x22c)]((_0x467373,_0x35f087)=>_0x35f087[0x1][_0x4046ac(0x218)]-_0x467373[0x1][_0x4046ac(0x218)]);if(_0x5600f5[_0x4046ac(0x1ba)]===0x0){_0x37431c['innerHTML']='<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>';return;}_0x5600f5[_0x4046ac(0x2d0)](([_0xda4d5d,_0x36d154])=>{const _0x2bc9c4=_0x4046ac,_0x2d1b84=Math[_0x2bc9c4(0x1de)](_0x36d154[_0x2bc9c4(0x25c)]/_0x36d154[_0x2bc9c4(0x218)]*0x64),_0x2d7f57=document['createElement'](_0x2bc9c4(0x21c));_0x2d7f57[_0x2bc9c4(0x2c3)]=_0x2bc9c4(0x21a),_0x2d7f57[_0x2bc9c4(0x19a)]['borderLeftColor']=_0x36d154[_0x2bc9c4(0x2d9)],_0x2d7f57[_0x2bc9c4(0x2c7)]=_0x2bc9c4(0x23e)+_0xda4d5d+_0x2bc9c4(0x272)+_0x36d154[_0x2bc9c4(0x25c)]+_0x2bc9c4(0x1be)+_0x36d154[_0x2bc9c4(0x218)]+_0x2bc9c4(0x2a3)+_0x2d1b84+_0x2bc9c4(0x1eb),_0x37431c['appendChild'](_0x2d7f57);});}function formatMinsToHrs(_0x173743){if(_0x173743===0x0)return'0';const _0x5c3191=Math['floor'](_0x173743/0x3c),_0x5ccc66=_0x173743%0x3c;if(_0x5ccc66===0x0)return _0x5c3191+'—á';return _0x5c3191+'—á\x20'+_0x5ccc66+'–º';}