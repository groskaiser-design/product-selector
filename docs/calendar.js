const a2_0x213f93=a2_0x586b;(function(_0x4543e8,_0x4d12b8){const _0x2b92c7=a2_0x586b,_0x3c3d8d=_0x4543e8();while(!![]){try{const _0x54aeaa=parseInt(_0x2b92c7(0x280))/0x1+-parseInt(_0x2b92c7(0x287))/0x2*(parseInt(_0x2b92c7(0x29a))/0x3)+parseInt(_0x2b92c7(0x1e1))/0x4*(-parseInt(_0x2b92c7(0x2eb))/0x5)+-parseInt(_0x2b92c7(0x217))/0x6*(parseInt(_0x2b92c7(0x2a1))/0x7)+-parseInt(_0x2b92c7(0x1d8))/0x8+-parseInt(_0x2b92c7(0x1ab))/0x9+parseInt(_0x2b92c7(0x2b9))/0xa*(parseInt(_0x2b92c7(0x1f3))/0xb);if(_0x54aeaa===_0x4d12b8)break;else _0x3c3d8d['push'](_0x3c3d8d['shift']());}catch(_0x331eb4){_0x3c3d8d['push'](_0x3c3d8d['shift']());}}}(a2_0x468c,0xe5c0e),function initTMA(){const _0x197569=a2_0x586b,_0x4034ba=(function(){let _0x4ca84d=!![];return function(_0x273ddb,_0x272bde){const _0x6d1691=_0x4ca84d?function(){if(_0x272bde){const _0x34e541=_0x272bde['apply'](_0x273ddb,arguments);return _0x272bde=null,_0x34e541;}}:function(){};return _0x4ca84d=![],_0x6d1691;};}()),_0x215558=_0x4034ba(this,function(){const _0x16a2b4=a2_0x586b;return _0x215558[_0x16a2b4(0x240)]()[_0x16a2b4(0x228)](_0x16a2b4(0x24d))[_0x16a2b4(0x240)]()[_0x16a2b4(0x2d1)](_0x215558)[_0x16a2b4(0x228)](_0x16a2b4(0x24d));});_0x215558();try{const _0x2c6671=window[_0x197569(0x2c1)]?.[_0x197569(0x28b)];if(!_0x2c6671)return;_0x2c6671['ready'](),_0x2c6671[_0x197569(0x256)]();try{_0x2c6671[_0x197569(0x293)]('#050505'),_0x2c6671['setBackgroundColor']&&_0x2c6671[_0x197569(0x1fc)](_0x197569(0x289));}catch(_0x433cd5){console['log'](_0x197569(0x21f),_0x433cd5);}try{_0x2c6671[_0x197569(0x26d)]&&(_0x2c6671[_0x197569(0x26d)][_0x197569(0x274)](),_0x2c6671['BackButton'][_0x197569(0x23b)](),_0x2c6671[_0x197569(0x26d)][_0x197569(0x2af)](function(){const _0x380fca=_0x197569;window[_0x380fca(0x1f8)][_0x380fca(0x258)]=_0x380fca(0x25a);}));}catch(_0x2cf887){console[_0x197569(0x275)](_0x197569(0x285),_0x2cf887);}try{if(_0x2c6671['disableVerticalSwipes'])_0x2c6671[_0x197569(0x301)]();}catch(_0x187b0d){}}catch(_0x3efdb1){console['error'](_0x197569(0x230),_0x3efdb1);}}());function isAdmin(){const _0x19149=a2_0x586b;try{const _0x124559=Number(window['Telegram']?.[_0x19149(0x28b)]?.[_0x19149(0x213)]?.[_0x19149(0x1e3)]?.['id']);return _0x124559===0xbaf7174;}catch(_0x3b1fc9){return![];}}const APP_VERSION='v9.0-BATCH-CALENDAR',API_URL=a2_0x213f93(0x1b5),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x213f93(0x204),KEY_SESSIONS='uc_sessions_v9',KEY_SETTINGS=a2_0x213f93(0x25b);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x11295c=a2_0x213f93;return window[_0x11295c(0x2c1)]?.[_0x11295c(0x28b)]?.[_0x11295c(0x213)]?.[_0x11295c(0x1e3)]?.['id']||_0x11295c(0x2a8);},'saveLocally'(){const _0x144c06=a2_0x213f93;try{localStorage[_0x144c06(0x1fd)](KEY_CLIENTS,JSON[_0x144c06(0x201)](clients)),localStorage['setItem'](KEY_SESSIONS,JSON[_0x144c06(0x201)](sessions)),localStorage[_0x144c06(0x1fd)](KEY_SETTINGS,JSON[_0x144c06(0x201)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x9a40e3){console[_0x144c06(0x2b1)](_0x144c06(0x1e7),_0x9a40e3);}},'loadLocal'(){const _0x374ea8=a2_0x213f93;try{const _0x104b34=localStorage['getItem'](KEY_CLIENTS);if(_0x104b34)clients=JSON[_0x374ea8(0x2cc)](_0x104b34);const _0x37eea4=localStorage[_0x374ea8(0x2ee)](KEY_SESSIONS);if(_0x37eea4)sessions=JSON['parse'](_0x37eea4);const _0x17c9cd=localStorage[_0x374ea8(0x2ee)](KEY_SETTINGS);if(_0x17c9cd){const _0x5c477c=JSON[_0x374ea8(0x2cc)](_0x17c9cd);if(_0x5c477c[_0x374ea8(0x237)])availabilityPattern=_0x5c477c[_0x374ea8(0x237)];if(_0x5c477c[_0x374ea8(0x278)])dateExceptions=_0x5c477c['exceptions'];if(_0x5c477c[_0x374ea8(0x1fa)])specialRanges=_0x5c477c[_0x374ea8(0x1fa)];}else{for(let _0x4dbc53=0x0;_0x4dbc53<0x7;_0x4dbc53++)availabilityPattern[_0x4dbc53]=Array['from']({'length':0xc},(_0x139312,_0xb68913)=>_0xb68913+0x9);}}catch(_0xb2d232){console[_0x374ea8(0x2b1)](_0x374ea8(0x2a9),_0xb2d232);}},async 'fetchFromServer'(_0xfd30a8,_0x3125df={}){const _0x4af4c6=a2_0x213f93,_0x5bfc22=window[_0x4af4c6(0x2c1)]?.[_0x4af4c6(0x28b)],_0x40eed0={'action':_0xfd30a8,'init_data':_0x5bfc22?.['initData']||'',..._0x3125df};try{const _0x2b53b0=await fetch(API_URL,{'method':'POST','headers':{'Content-Type':_0x4af4c6(0x2a5)},'body':JSON[_0x4af4c6(0x201)](_0x40eed0)}),_0x1de3d1=await _0x2b53b0['json']();if(!_0x1de3d1['ok'])throw new Error(_0x1de3d1[_0x4af4c6(0x2b1)]||_0x4af4c6(0x209));return _0x1de3d1['data'];}catch(_0x1a9bc4){console[_0x4af4c6(0x2b1)](_0x4af4c6(0x1ec)+_0xfd30a8+']\x20Failed:',_0x1a9bc4);throw _0x1a9bc4;}},async 'syncLoad'(){const _0x1457b4=a2_0x213f93,_0x426662=new Date(),_0x58f6a1=_0x426662[_0x1457b4(0x1b8)]()+'-'+String(_0x426662[_0x1457b4(0x21e)]()+0x1)[_0x1457b4(0x211)](0x2,'0'),_0x20b270=new Date(_0x426662);_0x20b270[_0x1457b4(0x1ce)](_0x426662[_0x1457b4(0x21e)]()+0x1);const _0xbc5a36=_0x20b270['getFullYear']()+'-'+String(_0x20b270[_0x1457b4(0x21e)]()+0x1)[_0x1457b4(0x211)](0x2,'0'),_0x486f4b=Date['now']();console[_0x1457b4(0x275)]('[Sync]\x20Loading\x20'+_0x58f6a1+',\x20'+_0xbc5a36+_0x1457b4(0x21b));try{const [_0x2eaba8,_0x3ff825]=await Promise['all']([this[_0x1457b4(0x2da)](_0x1457b4(0x20c),{'month_str':_0x58f6a1}),this[_0x1457b4(0x2da)](_0x1457b4(0x20c),{'month_str':_0xbc5a36})]);if(lastUserActionTime>_0x486f4b)return console[_0x1457b4(0x2d5)](_0x1457b4(0x2f3)),![];return this[_0x1457b4(0x1dc)](_0x2eaba8,_0x58f6a1),this[_0x1457b4(0x1dc)](_0x3ff825,_0xbc5a36),this['saveLocally'](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x4296e0){console['error'](_0x4296e0);throw _0x4296e0;}},'mergeServerData'(_0x2705c7,_0x1b5e14){const _0x43f843=a2_0x213f93;if(!_0x2705c7)return;_0x2705c7[_0x43f843(0x227)]&&Array['isArray'](_0x2705c7[_0x43f843(0x227)])&&(clients=_0x2705c7[_0x43f843(0x227)]);if(_0x2705c7[_0x43f843(0x1c9)]){if(_0x2705c7[_0x43f843(0x1c9)][_0x43f843(0x237)])availabilityPattern=_0x2705c7['settings']['pattern'];if(_0x2705c7[_0x43f843(0x1c9)][_0x43f843(0x278)])dateExceptions=_0x2705c7[_0x43f843(0x1c9)]['exceptions'];if(_0x2705c7[_0x43f843(0x1c9)][_0x43f843(0x1fa)])specialRanges=_0x2705c7[_0x43f843(0x1c9)][_0x43f843(0x1fa)];if(_0x2705c7[_0x43f843(0x1c9)]['cancel_window']){localStorage[_0x43f843(0x1fd)](_0x43f843(0x221),_0x2705c7[_0x43f843(0x1c9)]['cancel_window']);const _0x357b5f=document['getElementById']('settingCancelWindow');if(_0x357b5f)_0x357b5f['value']=_0x2705c7[_0x43f843(0x1c9)][_0x43f843(0x2e3)];}}_0x2705c7[_0x43f843(0x23a)]&&(sessions=sessions['filter'](_0x1f35fd=>!_0x1f35fd[_0x43f843(0x18e)][_0x43f843(0x1bd)](_0x1b5e14)),Object[_0x43f843(0x1d4)](_0x2705c7[_0x43f843(0x23a)])[_0x43f843(0x25e)](_0xcb5a90=>{const _0x10b46b=_0x43f843,_0x48b5a1=_0x2705c7[_0x10b46b(0x23a)][_0xcb5a90];_0x48b5a1[_0x10b46b(0x25e)](_0x5bb349=>{const _0x5e20a2=_0x10b46b,_0x5b2902=clients[_0x5e20a2(0x26c)](_0x59d24c=>String(_0x59d24c['id'])===String(_0x5bb349['c']));sessions[_0x5e20a2(0x2cb)]({'id':_0x5bb349['i'],'clientId':_0x5bb349['c'],'client':_0x5b2902?_0x5b2902[_0x5e20a2(0x296)]:'Unknown','dateStr':_0x1b5e14+'-'+_0xcb5a90[_0x5e20a2(0x211)](0x2,'0'),'start':_0x5bb349['s'],'end':_0x5bb349['e'],'status':_0x5bb349['st']||'planned','note':_0x5bb349['n']||'','seriesId':_0x5bb349[_0x5e20a2(0x1db)]||null});});}));},async 'syncBatch'(_0x2d47fd){const _0x2f6ef7=a2_0x213f93,_0xf1cc50=[...new Set(_0x2d47fd)],_0x1683fb=_0xf1cc50['map'](_0x10564f=>{const _0xd52702=a2_0x586b,_0x408464=sessions['filter'](_0x4df614=>_0x4df614[_0xd52702(0x18e)]===_0x10564f&&_0x4df614[_0xd52702(0x1c1)]!==_0xd52702(0x1a0)),_0x535842=_0x408464[_0xd52702(0x272)](_0x2475c8=>({'i':_0x2475c8['id'],'c':_0x2475c8[_0xd52702(0x2d9)],'s':_0x2475c8['start'],'e':_0x2475c8[_0xd52702(0x253)],'st':_0x2475c8[_0xd52702(0x1c1)],'n':_0x2475c8[_0xd52702(0x1e9)],'sid':_0x2475c8[_0xd52702(0x27b)]}));return{'date':_0x10564f,'day_data':_0x535842};});if(_0x1683fb['length']===0x0)return;console['log'](_0x2f6ef7(0x1aa)+_0x1683fb[_0x2f6ef7(0x1e0)]+_0x2f6ef7(0x1d2)),await this[_0x2f6ef7(0x2da)](_0x2f6ef7(0x2df),{'changes':_0x1683fb});}};async function init(){const _0x2acf34=a2_0x213f93;DataManager[_0x2acf34(0x2e7)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x2acf34(0x23c)](_0x2acf34(0x2a7))[_0x2acf34(0x27d)](_0x2acf34(0x236),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']()[_0x2acf34(0x18f)](()=>{const _0x28da63=_0x2acf34;showToast(_0x28da63(0x29d),!![]);})[_0x2acf34(0x297)](_0x151e82=>{const _0x5816bd=_0x2acf34;showToast(_0x5816bd(0x2b3),![]);});}function generateId(){const _0xf8418a=a2_0x213f93;return Date['now']()[_0xf8418a(0x240)](0x24)+Math[_0xf8418a(0x27c)]()[_0xf8418a(0x240)](0x24)['substr'](0x2,0x5);}function toggleSeriesInput(){const _0x546e74=a2_0x213f93,_0x127074=document[_0x546e74(0x23c)](_0x546e74(0x2a4))[_0x546e74(0x291)],_0x3f9ebf=document[_0x546e74(0x23c)]('seriesCountContainer');_0x3f9ebf[_0x546e74(0x2c9)][_0x546e74(0x18c)]=_0x127074?_0x546e74(0x2ca):_0x546e74(0x1e2);const _0x4f3235=document[_0x546e74(0x23c)](_0x546e74(0x243));_0x4f3235[_0x546e74(0x2c9)]['borderRadius']=_0x127074?'10px\x2010px\x200\x200':_0x546e74(0x2c8);}function openAddSession(_0x5b6bf4){const _0x5461f2=a2_0x213f93;editingId=null,populateClientSelect(),document[_0x5461f2(0x23c)](_0x5461f2(0x199))['textContent']='–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å',document['getElementById'](_0x5461f2(0x2b4))[_0x5461f2(0x2c9)][_0x5461f2(0x18c)]=_0x5461f2(0x1e2),document['getElementById'](_0x5461f2(0x21c))[_0x5461f2(0x2c9)]['display']='none';const _0x1b1555=document[_0x5461f2(0x23c)]('recurringOptionContainer'),_0x2c59cd=document[_0x5461f2(0x23c)](_0x5461f2(0x24e));_0x1b1555[_0x5461f2(0x2c9)][_0x5461f2(0x18c)]=_0x5461f2(0x2d6),_0x1b1555['style'][_0x5461f2(0x27e)]=_0x5461f2(0x2c8),document[_0x5461f2(0x23c)](_0x5461f2(0x2a4))[_0x5461f2(0x291)]=![],document[_0x5461f2(0x23c)](_0x5461f2(0x22a))[_0x5461f2(0x2e8)]=0x4,_0x2c59cd['style']['display']=_0x5461f2(0x1e2),document[_0x5461f2(0x23c)]('inpDate')[_0x5461f2(0x2e8)]=getLocalDateStr(_0x5b6bf4),updateDateDisplay();const _0x2cd0f6=_0x5b6bf4[_0x5461f2(0x248)]();document[_0x5461f2(0x23c)](_0x5461f2(0x2e2))[_0x5461f2(0x2e8)]=String(_0x2cd0f6)['padStart'](0x2,'0')+_0x5461f2(0x1ad),document[_0x5461f2(0x23c)](_0x5461f2(0x1fe))['value']=String(_0x2cd0f6+0x1)['padStart'](0x2,'0')+_0x5461f2(0x1ad),openSheet(_0x5461f2(0x2f8));}function openEdit(_0x12b195){const _0x3c1ad7=a2_0x213f93;editingId=_0x12b195['id'],populateClientSelect(),document[_0x3c1ad7(0x23c)](_0x3c1ad7(0x199))[_0x3c1ad7(0x2d8)]=_0x3c1ad7(0x2aa),document['getElementById']('btnDelete')['style'][_0x3c1ad7(0x18c)]=_0x3c1ad7(0x2ca);const _0x2c0772=document[_0x3c1ad7(0x23c)](_0x3c1ad7(0x21c));_0x2c0772[_0x3c1ad7(0x2c9)][_0x3c1ad7(0x18c)]=_0x3c1ad7(0x2d6);_0x12b195[_0x3c1ad7(0x1c1)]===_0x3c1ad7(0x1c2)?(_0x2c0772[_0x3c1ad7(0x294)]=_0x3c1ad7(0x20f),_0x2c0772[_0x3c1ad7(0x2bc)]=_0x3c1ad7(0x26f)):(_0x2c0772[_0x3c1ad7(0x294)]=_0x3c1ad7(0x2fa),_0x2c0772['innerHTML']='<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É');const _0x63776e=!!_0x12b195[_0x3c1ad7(0x27b)];document['getElementById']('recurringOptionContainer')['style'][_0x3c1ad7(0x18c)]=_0x3c1ad7(0x1e2),document[_0x3c1ad7(0x23c)](_0x3c1ad7(0x24e))['style']['display']='none',_0x63776e?(document[_0x3c1ad7(0x23c)](_0x3c1ad7(0x22f))['style'][_0x3c1ad7(0x18c)]=_0x3c1ad7(0x2d6),document[_0x3c1ad7(0x23c)](_0x3c1ad7(0x22f))['querySelector']('.pib-text')[_0x3c1ad7(0x2d8)]='–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫'):document[_0x3c1ad7(0x23c)]('patternInfoBox')[_0x3c1ad7(0x2c9)][_0x3c1ad7(0x18c)]=_0x3c1ad7(0x1e2),document[_0x3c1ad7(0x23c)](_0x3c1ad7(0x239))[_0x3c1ad7(0x2e8)]=_0x12b195['client'],document[_0x3c1ad7(0x23c)](_0x3c1ad7(0x29f))[_0x3c1ad7(0x2e8)]=_0x12b195[_0x3c1ad7(0x18e)],document[_0x3c1ad7(0x23c)](_0x3c1ad7(0x2e2))[_0x3c1ad7(0x2e8)]=_0x12b195[_0x3c1ad7(0x24b)],document['getElementById'](_0x3c1ad7(0x1fe))['value']=_0x12b195['end'],document[_0x3c1ad7(0x23c)](_0x3c1ad7(0x2c5))[_0x3c1ad7(0x2e8)]=_0x12b195[_0x3c1ad7(0x1e9)]||'',updateDateDisplay(),openSheet(_0x3c1ad7(0x2f8));}async function trySaveSession(){const _0x921f30=a2_0x213f93,_0x38aefa=document[_0x921f30(0x23c)](_0x921f30(0x239))['value'],_0x1e402d=document[_0x921f30(0x23c)](_0x921f30(0x29f))[_0x921f30(0x2e8)],_0x2eb68f=document[_0x921f30(0x23c)](_0x921f30(0x2e2))[_0x921f30(0x2e8)],_0x117580=document[_0x921f30(0x23c)]('inpEnd')[_0x921f30(0x2e8)],_0x593473=document['getElementById'](_0x921f30(0x2c5))['value'],_0x5655e5=document[_0x921f30(0x23c)](_0x921f30(0x2a4))[_0x921f30(0x291)];let _0x1381e6=0x4;if(_0x5655e5){const _0x48bbd9=parseInt(document[_0x921f30(0x23c)](_0x921f30(0x22a))[_0x921f30(0x2e8)]);if(!_0x48bbd9||_0x48bbd9<0x2){showToast('–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏',![]);return;}if(_0x48bbd9>0x64){showToast(_0x921f30(0x28d),![]);return;}_0x1381e6=_0x48bbd9;}const _0x2962e4=clients[_0x921f30(0x26c)](_0x58aaa7=>_0x58aaa7['name']===_0x38aefa);if(!_0x2962e4){showToast(_0x921f30(0x292),![]);return;}const _0x5a722f=validateAppointment(_0x1e402d,_0x2eb68f,_0x117580,editingId,_0x2962e4['id']);if(!_0x5a722f[_0x921f30(0x298)]){showToast(_0x5a722f['msg'],![]);return;}_0x5a722f[_0x921f30(0x27f)]&&showToast(_0x5a722f[_0x921f30(0x27f)],![]);const _0x8238bc={'client':_0x38aefa,'clientId':_0x2962e4['id'],'start':_0x2eb68f,'end':_0x117580,'note':_0x593473,'status':_0x921f30(0x29e)},_0x3bfb3c=editingId?sessions['find'](_0x29e67a=>_0x29e67a['id']===editingId):null;if(_0x3bfb3c&&_0x3bfb3c[_0x921f30(0x27b)]){tempSessionData={..._0x8238bc,'dateStr':_0x1e402d,'id':editingId,'seriesId':_0x3bfb3c[_0x921f30(0x27b)]},openActionSheet('save');return;}let _0x3e4658=null;if(!editingId)_0x3e4658='create';else{if(_0x3bfb3c){if(String(_0x3bfb3c[_0x921f30(0x2d9)])!==String(_0x2962e4['id']))console[_0x921f30(0x275)](_0x921f30(0x1ca)),NotificationManager['send'](_0x921f30(0x18d),_0x3bfb3c),_0x3e4658=_0x921f30(0x2a0);else(_0x3bfb3c[_0x921f30(0x24b)]!==_0x2eb68f||_0x3bfb3c['end']!==_0x117580||_0x3bfb3c['dateStr']!==_0x1e402d)&&(_0x3e4658=_0x921f30(0x235));}}if(!editingId&&_0x5655e5){createBatchSeries(_0x8238bc,_0x1e402d,_0x1381e6),NotificationManager[_0x921f30(0x261)]('create',{..._0x8238bc,'dateStr':_0x1e402d});return;}lastUserActionTime=Date[_0x921f30(0x2fe)]();const _0x5d273f={..._0x8238bc,'dateStr':_0x1e402d,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x5d273f),_0x3e4658&&NotificationManager[_0x921f30(0x261)](_0x3e4658,_0x5d273f);}function toggleSessionStatus(){const _0x5b3744=a2_0x213f93;lastUserActionTime=Date[_0x5b3744(0x2fe)]();const _0x3792e5=sessions[_0x5b3744(0x26c)](_0x4535b7=>_0x4535b7['id']===editingId);if(!_0x3792e5)return;const _0x55bc83=_0x3792e5[_0x5b3744(0x1c1)]===_0x5b3744(0x1c2)?'planned':_0x5b3744(0x1c2);_0x3792e5[_0x5b3744(0x1c1)]=_0x55bc83,saveSingleSession(_0x3792e5),_0x55bc83===_0x5b3744(0x1c2)&&NotificationManager[_0x5b3744(0x261)](_0x5b3744(0x26b),_0x3792e5),showToast(_0x55bc83==='completed'?_0x5b3744(0x192):_0x5b3744(0x2cd),!![]);}function validateAppointment(_0x340437,_0x3564f4,_0x9b4a49,_0x596cd7,_0x1c183e){const _0x1543a5=a2_0x213f93,[_0x199b84,_0x923142]=_0x3564f4['split'](':')[_0x1543a5(0x272)](Number),[_0x1752c4,_0xc86822]=_0x9b4a49[_0x1543a5(0x1be)](':')[_0x1543a5(0x272)](Number),_0x1173e6=_0x199b84*0x3c+_0x923142,_0x32fa4a=_0x1752c4*0x3c+_0xc86822,_0x122332=String(_0x1c183e);let _0x352a7c=![],_0x1b626d='';for(let _0x36d5ea of sessions){if(_0x36d5ea[_0x1543a5(0x18e)]!==_0x340437)continue;if(_0x36d5ea[_0x1543a5(0x1c1)]==='cancelled')continue;if(_0x596cd7&&String(_0x36d5ea['id'])===String(_0x596cd7))continue;const [_0x124314,_0x49fbe4]=_0x36d5ea[_0x1543a5(0x24b)][_0x1543a5(0x1be)](':')[_0x1543a5(0x272)](Number),[_0x2b72f6,_0xed8cb5]=_0x36d5ea[_0x1543a5(0x253)][_0x1543a5(0x1be)](':')[_0x1543a5(0x272)](Number),_0x4d5547=_0x124314*0x3c+_0x49fbe4,_0x48b6de=_0x2b72f6*0x3c+_0xed8cb5;if(Math['max'](_0x1173e6,_0x4d5547)<Math[_0x1543a5(0x1e6)](_0x32fa4a,_0x48b6de)){if(_0x36d5ea[_0x1543a5(0x2d9)]&&String(_0x36d5ea[_0x1543a5(0x2d9)])===_0x122332)return{'valid':![],'msg':_0x1543a5(0x1a2)+_0x36d5ea[_0x1543a5(0x26a)]+_0x1543a5(0x27a)};_0x352a7c=!![],_0x1b626d=_0x36d5ea[_0x1543a5(0x26a)];}}if(_0x352a7c)return{'valid':!![],'warning':_0x1543a5(0x18a)+_0x1b626d};return{'valid':!![]};}function saveSingleSession(_0x343cc5){const _0x692fc4=a2_0x213f93;if(editingId){const _0x5d66cb=sessions[_0x692fc4(0x1c3)](_0x1891a9=>_0x1891a9['id']===editingId);if(_0x5d66cb!==-0x1)sessions[_0x5d66cb]=_0x343cc5;}else sessions[_0x692fc4(0x2cb)](_0x343cc5);afterSaveAction([_0x343cc5[_0x692fc4(0x18e)]]);}function createBatchSeries(_0x446f7b,_0x21730d,_0x3d294a){const _0x3396e8=a2_0x213f93,_0x54fe78=generateId(),_0x495653=[],_0x1ba70f=[];let _0x312389=0x0,_0x7c5c07=new Date(_0x21730d);for(let _0x4a81a3=0x0;_0x4a81a3<_0x3d294a;_0x4a81a3++){const _0x197c83=getLocalDateStr(_0x7c5c07),_0x5dd96d=validateAppointment(_0x197c83,_0x446f7b['start'],_0x446f7b['end'],null,_0x446f7b[_0x3396e8(0x2d9)]);if(!_0x5dd96d[_0x3396e8(0x298)])console[_0x3396e8(0x275)](_0x3396e8(0x222)+_0x197c83+_0x3396e8(0x29b)),_0x312389++;else{const _0x22f23f={..._0x446f7b,'id':generateId(),'dateStr':_0x197c83,'seriesId':_0x54fe78};_0x1ba70f[_0x3396e8(0x2cb)](_0x22f23f),_0x495653['push'](_0x197c83);}_0x7c5c07[_0x3396e8(0x19b)](_0x7c5c07['getDate']()+0x7);}if(_0x1ba70f[_0x3396e8(0x1e0)]===0x0){showToast(_0x3396e8(0x203),![]);return;}sessions[_0x3396e8(0x2cb)](..._0x1ba70f),lastUserActionTime=Date['now']();let _0x7bbaad=_0x3396e8(0x2f4)+_0x1ba70f[_0x3396e8(0x1e0)];_0x312389>0x0&&(_0x7bbaad+=_0x3396e8(0x194)+_0x312389+')'),showToast(_0x7bbaad,!![]),afterSaveAction(_0x495653);}function updateSeriesBatch(_0x43c07f,_0x5a666a){const _0x4f310b=a2_0x213f93,_0x149358=[],_0x79de68=_0x5a666a[_0x4f310b(0x27b)];if(_0x43c07f===_0x4f310b(0x189)){const _0x4c1a71={..._0x5a666a,'seriesId':null},_0x547986=sessions[_0x4f310b(0x1c3)](_0x294157=>_0x294157['id']===_0x5a666a['id']);if(_0x547986!==-0x1)sessions[_0x547986]=_0x4c1a71;_0x149358[_0x4f310b(0x2cb)](_0x4c1a71[_0x4f310b(0x18e)]);}else{if(_0x43c07f===_0x4f310b(0x1df)){const _0x28370f=_0x5a666a['dateStr'];sessions[_0x4f310b(0x25e)]((_0x880c91,_0x40afe2)=>{const _0x28b02c=_0x4f310b;_0x880c91['seriesId']===_0x79de68&&_0x880c91[_0x28b02c(0x18e)]>=_0x28370f&&(sessions[_0x40afe2]={...sessions[_0x40afe2],'start':_0x5a666a[_0x28b02c(0x24b)],'end':_0x5a666a[_0x28b02c(0x253)],'note':_0x5a666a[_0x28b02c(0x1e9)],'client':_0x5a666a[_0x28b02c(0x26a)],'clientId':_0x5a666a[_0x28b02c(0x2d9)]},_0x149358[_0x28b02c(0x2cb)](_0x880c91[_0x28b02c(0x18e)]));});}}afterSaveAction(_0x149358);}function tryDeleteSession(){const _0x357593=a2_0x213f93,_0x28a954=sessions['find'](_0x27c42f=>_0x27c42f['id']===editingId);if(!_0x28a954)return;_0x28a954[_0x357593(0x27b)]?openActionSheet(_0x357593(0x254)):commitDelete('single',_0x28a954);}function commitDelete(_0x2fd620,_0x41f54a){const _0x24e861=a2_0x213f93;lastUserActionTime=Date[_0x24e861(0x2fe)](),NotificationManager[_0x24e861(0x261)]('cancel',_0x41f54a);const _0x474bcd=[];if(_0x2fd620==='single')sessions=sessions[_0x24e861(0x223)](_0x63ae10=>_0x63ae10['id']!==_0x41f54a['id']),_0x474bcd['push'](_0x41f54a['dateStr']);else{if(_0x2fd620==='series'){const _0x2c2aea=_0x41f54a[_0x24e861(0x18e)],_0x592e9a=_0x41f54a[_0x24e861(0x27b)];sessions[_0x24e861(0x25e)](_0x594930=>{const _0x57d721=_0x24e861;_0x594930[_0x57d721(0x27b)]===_0x592e9a&&_0x594930[_0x57d721(0x18e)]>=_0x2c2aea&&_0x474bcd[_0x57d721(0x2cb)](_0x594930['dateStr']);}),sessions=sessions['filter'](_0x20ee86=>!(_0x20ee86[_0x24e861(0x27b)]===_0x592e9a&&_0x20ee86[_0x24e861(0x18e)]>=_0x2c2aea));}}afterSaveAction(_0x474bcd);}function afterSaveAction(_0x1b9b1c){const _0x1f2102=a2_0x213f93;DataManager[_0x1f2102(0x279)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x1f2102(0x249)](_0x1b9b1c)[_0x1f2102(0x18f)](()=>console[_0x1f2102(0x275)](_0x1f2102(0x1d3)))[_0x1f2102(0x297)](_0x469aa0=>showToast(_0x1f2102(0x1f1),![]));}const NotificationManager={'formatDate'(_0x54fbae){const _0x19c4bf=a2_0x213f93,_0x17fb3a=new Date(_0x54fbae),_0xf2905e={'weekday':'long','day':_0x19c4bf(0x2ec),'month':_0x19c4bf(0x267)};let _0x348cc5=_0x17fb3a['toLocaleDateString'](_0x19c4bf(0x2f6),_0xf2905e);return _0x348cc5['charAt'](0x0)['toUpperCase']()+_0x348cc5[_0x19c4bf(0x2f7)](0x1);},'getText'(_0x3ccfb6,_0x451c61){const _0x31b016=a2_0x213f93,_0x555f5c=this[_0x31b016(0x2ff)](_0x451c61['dateStr']);switch(_0x3ccfb6){case _0x31b016(0x2a0):return _0x31b016(0x2ed)+(_0x31b016(0x193)+_0x555f5c+'\x0a')+('<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20'+_0x451c61['start']+'\x20‚Äî\x20'+_0x451c61['end']+'\x0a\x0a')+_0x31b016(0x2ab);case _0x31b016(0x235):return _0x31b016(0x2fd)+'–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a'+(_0x31b016(0x1bc)+_0x451c61['start']+_0x31b016(0x1a4)+_0x451c61[_0x31b016(0x253)]+_0x31b016(0x1af))+(_0x31b016(0x193)+_0x555f5c);case _0x31b016(0x18d):return _0x31b016(0x2be)+(_0x31b016(0x1cb)+_0x555f5c+'\x20('+_0x451c61['start']+_0x31b016(0x1bf));case _0x31b016(0x26b):return _0x31b016(0x1c7)+'–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a'+'<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>';default:return'';}},async 'send'(_0x1ac1f5,_0x9ca2f2){const _0x153c9d=a2_0x213f93;console[_0x153c9d(0x275)]('[Notify]\x20Attempting\x20to\x20send:',_0x1ac1f5,_0x9ca2f2);if(!_0x9ca2f2){console['error'](_0x153c9d(0x283));return;}const _0x47c629=String(_0x9ca2f2[_0x153c9d(0x2d9)]);console['log'](_0x153c9d(0x300),_0x47c629);if(!_0x9ca2f2[_0x153c9d(0x2d9)]||_0x47c629==='undefined'||_0x47c629==='null'){console['error']('[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!');if(_0x9ca2f2[_0x153c9d(0x26a)]){const _0xd5cce8=clients[_0x153c9d(0x26c)](_0xd3d438=>_0xd3d438[_0x153c9d(0x296)]===_0x9ca2f2['client']);if(_0xd5cce8)return console[_0x153c9d(0x275)]('[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:',_0xd5cce8['id']),this['send'](_0x1ac1f5,{..._0x9ca2f2,'clientId':_0xd5cce8['id']});}return;}if(_0x47c629[_0x153c9d(0x1e0)]<0x5){console[_0x153c9d(0x2d5)]('[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)',_0x47c629);return;}const _0xc74018=this[_0x153c9d(0x1b7)](_0x1ac1f5,_0x9ca2f2);if(!_0xc74018){console[_0x153c9d(0x2b1)](_0x153c9d(0x1fb));return;}console[_0x153c9d(0x275)]('[Notify]\x20Sending\x20to\x20GAS\x20for\x20'+_0x47c629+_0x153c9d(0x21b)),DataManager[_0x153c9d(0x2da)]('send_notification',{'chatId':_0x47c629,'text':_0xc74018})[_0x153c9d(0x18f)](_0x2dc59b=>console[_0x153c9d(0x275)](_0x153c9d(0x1f0),_0x2dc59b))[_0x153c9d(0x297)](_0xeecaa2=>console['error'](_0x153c9d(0x2a6),_0xeecaa2));}};function getLocalDateStr(_0x822326){const _0x2c0ed1=a2_0x213f93,_0x4b36af=_0x822326[_0x2c0ed1(0x1b8)](),_0x3a9a71=String(_0x822326['getMonth']()+0x1)[_0x2c0ed1(0x211)](0x2,'0'),_0x4220df=String(_0x822326['getDate']())[_0x2c0ed1(0x211)](0x2,'0');return _0x4b36af+'-'+_0x3a9a71+'-'+_0x4220df;}function getDateStr(_0x1611a9){const _0x2a4bd7=a2_0x213f93,_0x471534=new Date();return _0x471534[_0x2a4bd7(0x19b)](_0x471534[_0x2a4bd7(0x2d2)]()+_0x1611a9),getLocalDateStr(_0x471534);}function a2_0x586b(_0x5a28bb,_0x33bbb2){_0x5a28bb=_0x5a28bb-0x189;const _0x2a3c6b=a2_0x468c();let _0x1599fc=_0x2a3c6b[_0x5a28bb];return _0x1599fc;}function getStartOfWeek(_0x26ed77){const _0x4ed148=a2_0x213f93,_0x530c33=new Date(_0x26ed77),_0x1de8b9=_0x530c33[_0x4ed148(0x224)](),_0x1dd947=_0x530c33[_0x4ed148(0x2d2)]()-_0x1de8b9+(_0x1de8b9===0x0?-0x6:0x1);return _0x530c33[_0x4ed148(0x19b)](_0x1dd947),_0x530c33[_0x4ed148(0x1c4)](0x0,0x0,0x0,0x0),_0x530c33;}function hexToRgba(_0x5a59b4,_0x2915e7){const _0x24a27c=a2_0x213f93;if(!_0x5a59b4)return _0x24a27c(0x233);let _0x2218a6=0x0,_0x27d82d=0x0,_0x466f8f=0x0;if(_0x5a59b4['length']===0x4)_0x2218a6='0x'+_0x5a59b4[0x1]+_0x5a59b4[0x1],_0x27d82d='0x'+_0x5a59b4[0x2]+_0x5a59b4[0x2],_0x466f8f='0x'+_0x5a59b4[0x3]+_0x5a59b4[0x3];else _0x5a59b4[_0x24a27c(0x1e0)]===0x7&&(_0x2218a6='0x'+_0x5a59b4[0x1]+_0x5a59b4[0x2],_0x27d82d='0x'+_0x5a59b4[0x3]+_0x5a59b4[0x4],_0x466f8f='0x'+_0x5a59b4[0x5]+_0x5a59b4[0x6]);return _0x24a27c(0x1a6)+ +_0x2218a6+',\x20'+ +_0x27d82d+',\x20'+ +_0x466f8f+',\x20'+_0x2915e7+')';}function renderTimeColumn(){const _0x3188ec=a2_0x213f93,_0x1787de=document[_0x3188ec(0x23c)](_0x3188ec(0x2ac)),_0x3900a1=document[_0x3188ec(0x23c)](_0x3188ec(0x28f));_0x1787de[_0x3188ec(0x2bc)]='',_0x1787de[_0x3188ec(0x1b9)](_0x3900a1);for(let _0x2ee43f=0x0;_0x2ee43f<0x18;_0x2ee43f++){const _0x5b86ff=document[_0x3188ec(0x1c8)]('div');_0x5b86ff[_0x3188ec(0x294)]='time-label';if(_0x2ee43f>0x0)_0x5b86ff['innerHTML']=_0x3188ec(0x24f)+String(_0x2ee43f)[_0x3188ec(0x211)](0x2,'0')+':00</span>';_0x1787de[_0x3188ec(0x1b9)](_0x5b86ff);}}function renderDayRange(_0x3e68b0,_0x1f07a0){const _0x19e0ac=a2_0x213f93,_0x4200ff=document[_0x19e0ac(0x23c)](_0x19e0ac(0x231)),_0x39305f=document[_0x19e0ac(0x23c)](_0x19e0ac(0x305)),_0xd6b04b=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x3800a5=new Date();_0x3800a5['setHours'](0x0,0x0,0x0,0x0);const _0x118e11=getLocalDateStr(new Date());for(let _0xeeae73=_0x3e68b0;_0xeeae73<=_0x1f07a0;_0xeeae73++){const _0x398aa=new Date(_0x3800a5);_0x398aa[_0x19e0ac(0x19b)](_0x398aa[_0x19e0ac(0x2d2)]()+_0xeeae73);const _0xdd5c60=getLocalDateStr(_0x398aa);let _0x2dc8ef=_0x398aa['getDay']()-0x1;if(_0x2dc8ef===-0x1)_0x2dc8ef=0x6;const _0x37d2b7=_0xdd5c60===_0x118e11,_0x13b426=document[_0x19e0ac(0x1c8)]('div');_0x13b426['className']=_0x19e0ac(0x1b6)+(_0x37d2b7?_0x19e0ac(0x18b):''),_0x13b426['id']=_0x19e0ac(0x2e1)+_0xdd5c60,_0x13b426[_0x19e0ac(0x257)](_0x19e0ac(0x1a1),_0xdd5c60),_0x13b426['innerHTML']='<div\x20class=\x22dch-day\x22>'+_0xd6b04b[_0x2dc8ef]+_0x19e0ac(0x28a)+_0x398aa[_0x19e0ac(0x2d2)]()+_0x19e0ac(0x2d0)+_0xdd5c60+_0x19e0ac(0x1ea),_0x13b426[_0x19e0ac(0x290)]=()=>openDayOptions(_0xdd5c60,_0xd6b04b[_0x2dc8ef]+'\x20'+_0x398aa[_0x19e0ac(0x2d2)]()),_0x4200ff[_0x19e0ac(0x1b9)](_0x13b426);const _0x24c9c1=document[_0x19e0ac(0x1c8)](_0x19e0ac(0x1f4));_0x24c9c1['className']=_0x19e0ac(0x22b)+(_0x37d2b7?_0x19e0ac(0x18b):''),_0x24c9c1[_0x19e0ac(0x257)](_0x19e0ac(0x1a1),_0xdd5c60),_0x24c9c1[_0x19e0ac(0x257)](_0x19e0ac(0x219),_0x2dc8ef),renderEventsForColumn(_0x24c9c1,_0xdd5c60,_0x2dc8ef),attachLongPressHandler(_0x24c9c1,_0x398aa),_0x39305f[_0x19e0ac(0x1b9)](_0x24c9c1),updateDayStats(_0xdd5c60);}}function reRenderBlocks(){const _0x26bc7b=a2_0x213f93;document['querySelectorAll'](_0x26bc7b(0x191))[_0x26bc7b(0x25e)](_0x9c6402=>{const _0x5e541e=_0x26bc7b;_0x9c6402['querySelectorAll'](_0x5e541e(0x2e6))[_0x5e541e(0x25e)](_0x380e16=>_0x380e16[_0x5e541e(0x1da)]());const _0x35fce8=_0x9c6402['getAttribute'](_0x5e541e(0x1a1)),_0x3c2ef9=parseInt(_0x9c6402[_0x5e541e(0x2b6)](_0x5e541e(0x219))),_0x4028ca=Math['round'](_0x9c6402[_0x5e541e(0x19a)]);(availabilityPattern[_0x3c2ef9]||[])[_0x5e541e(0x25e)](_0x516f3c=>{const _0xa4d4e=_0x5e541e,_0x30d2ef=document[_0xa4d4e(0x1c8)](_0xa4d4e(0x1f4));_0x30d2ef[_0xa4d4e(0x294)]=_0xa4d4e(0x25d);const _0x17dc6a=_0x516f3c*GRID_H;_0x30d2ef['style'][_0xa4d4e(0x2f0)]=_0x17dc6a+'px',_0x30d2ef[_0xa4d4e(0x2c9)][_0xa4d4e(0x190)]='-'+_0x4028ca+'px\x20-'+_0x17dc6a+'px',_0x9c6402['appendChild'](_0x30d2ef);});if(specialRanges&&specialRanges[_0x5e541e(0x1e0)]>0x0){const _0xb10425=new Date(_0x35fce8+_0x5e541e(0x2f5))['getTime'](),_0x34f948=new Date(_0x35fce8+_0x5e541e(0x273))[_0x5e541e(0x1f2)]();specialRanges[_0x5e541e(0x25e)](_0x141b91=>{const _0x1aa39e=_0x5e541e,_0x9a42e4=new Date(_0x141b91[_0x1aa39e(0x24b)])[_0x1aa39e(0x1f2)](),_0x18fb32=new Date(_0x141b91[_0x1aa39e(0x253)])['getTime'](),_0x8285f7=Math['max'](_0xb10425,_0x9a42e4),_0x109ba2=Math[_0x1aa39e(0x1e6)](_0x34f948,_0x18fb32);if(_0x8285f7<_0x109ba2){if(_0x8285f7<=_0xb10425&&_0x109ba2>=_0x34f948-0xea60){if(!_0x9c6402['querySelector']('.day-off-overlay')){const _0x102dd6=document[_0x1aa39e(0x1c8)](_0x1aa39e(0x1f4));_0x102dd6[_0x1aa39e(0x294)]=_0x1aa39e(0x1b2),_0x102dd6[_0x1aa39e(0x2c9)][_0x1aa39e(0x190)]='-'+_0x4028ca+'px\x200px',_0x9c6402[_0x1aa39e(0x1b9)](_0x102dd6);}}else{const _0x149ae3=(_0x8285f7-_0xb10425)/0x36ee80*GRID_H,_0x3c1608=(_0x109ba2-_0x8285f7)/0x36ee80*GRID_H,_0xd8d15b=document[_0x1aa39e(0x1c8)]('div');_0xd8d15b[_0x1aa39e(0x294)]='blocked-range-part\x20stripe-bg',_0xd8d15b['style']['top']=_0x149ae3+'px',_0xd8d15b[_0x1aa39e(0x2c9)][_0x1aa39e(0x24c)]=_0x3c1608+'px',_0xd8d15b[_0x1aa39e(0x2c9)][_0x1aa39e(0x190)]='-'+_0x4028ca+_0x1aa39e(0x269)+_0x149ae3+'px',_0x9c6402[_0x1aa39e(0x1b9)](_0xd8d15b);}}});}if(dateExceptions[_0x35fce8]===_0x5e541e(0x20d)){if(!_0x9c6402[_0x5e541e(0x19f)](_0x5e541e(0x251))){const _0x1ef08e=document[_0x5e541e(0x1c8)](_0x5e541e(0x1f4));_0x1ef08e['className']='day-off-overlay\x20stripe-bg',_0x1ef08e[_0x5e541e(0x2c9)][_0x5e541e(0x190)]='-'+_0x4028ca+_0x5e541e(0x260),_0x9c6402[_0x5e541e(0x1b9)](_0x1ef08e);}}renderEventsForColumn(_0x9c6402,_0x35fce8,_0x3c2ef9),updateDayStats(_0x35fce8);});}function updateAllDayStats(){const _0x77d95f=a2_0x213f93;document[_0x77d95f(0x220)](_0x77d95f(0x299))[_0x77d95f(0x25e)](_0x3435af=>{const _0x2403a9=_0x77d95f;updateDayStats(_0x3435af[_0x2403a9(0x2b6)](_0x2403a9(0x1a1)));});}function updateDayStats(_0x132dec){const _0x5674e2=a2_0x213f93,_0x1fa4a6=document[_0x5674e2(0x23c)](_0x5674e2(0x1dd)+_0x132dec);if(!_0x1fa4a6)return;const _0x4bca87=new Date(_0x132dec);let _0x85bb26=_0x4bca87[_0x5674e2(0x224)]()-0x1;if(_0x85bb26===-0x1)_0x85bb26=0x6;if(dateExceptions[_0x132dec]===_0x5674e2(0x20d)){_0x1fa4a6[_0x5674e2(0x2c9)][_0x5674e2(0x18c)]=_0x5674e2(0x1e2);return;}const _0x4760af=availabilityPattern[_0x85bb26]||[],_0x5322ed=0x18-_0x4760af[_0x5674e2(0x1e0)],_0x5e16a6=_0x5322ed*0x3c,_0x2db9ec=sessions['filter'](_0x22198a=>_0x22198a[_0x5674e2(0x18e)]===_0x132dec&&_0x22198a[_0x5674e2(0x1c1)]!==_0x5674e2(0x1ac));if(_0x2db9ec['length']===0x0){_0x1fa4a6[_0x5674e2(0x2c9)][_0x5674e2(0x18c)]='none';return;}let _0xd00fcb=_0x2db9ec[_0x5674e2(0x272)](_0x19270e=>{const _0xe0d571=_0x5674e2,[_0x260df9,_0x4d966b]=_0x19270e[_0xe0d571(0x24b)][_0xe0d571(0x1be)](':')['map'](Number),[_0x7de55,_0x5e3cac]=_0x19270e[_0xe0d571(0x253)][_0xe0d571(0x1be)](':')['map'](Number);return[_0x260df9*0x3c+_0x4d966b,_0x7de55*0x3c+_0x5e3cac];});_0xd00fcb[_0x5674e2(0x1a7)]((_0x3d8c80,_0x316ca0)=>_0x3d8c80[0x0]-_0x316ca0[0x0]);let _0x3af4a7=[];if(_0xd00fcb['length']>0x0){let _0x30e5d7=_0xd00fcb[0x0];for(let _0xb5e163=0x1;_0xb5e163<_0xd00fcb[_0x5674e2(0x1e0)];_0xb5e163++){_0xd00fcb[_0xb5e163][0x0]<_0x30e5d7[0x1]?_0x30e5d7[0x1]=Math[_0x5674e2(0x247)](_0x30e5d7[0x1],_0xd00fcb[_0xb5e163][0x1]):(_0x3af4a7[_0x5674e2(0x2cb)](_0x30e5d7),_0x30e5d7=_0xd00fcb[_0xb5e163]);}_0x3af4a7[_0x5674e2(0x2cb)](_0x30e5d7);}let _0x533d27=0x0;_0x3af4a7[_0x5674e2(0x25e)](_0x3d642f=>_0x533d27+=_0x3d642f[0x1]-_0x3d642f[0x0]),_0x1fa4a6['style'][_0x5674e2(0x18c)]=_0x5674e2(0x2d6);const _0xd8726e=_0x1fa4a6[_0x5674e2(0x19f)](_0x5674e2(0x284));if(_0x5e16a6===0x0){_0xd8726e[_0x5674e2(0x2c9)]['width']=_0x5674e2(0x2e0),_0xd8726e[_0x5674e2(0x2c9)][_0x5674e2(0x302)]='var(--acc-red)';return;}const _0x51a691=_0x533d27/_0x5e16a6*0x64;console['log']('['+_0x132dec+_0x5674e2(0x1c5)+_0x5322ed+_0x5674e2(0x1f9)+_0x533d27+_0x5674e2(0x2e9)+_0x51a691[_0x5674e2(0x1c6)](0x1)+'%'),_0x51a691>0x64?(_0xd8726e[_0x5674e2(0x2c9)][_0x5674e2(0x252)]=_0x5674e2(0x2e0),_0xd8726e['style'][_0x5674e2(0x302)]=_0x5674e2(0x229)):(_0xd8726e[_0x5674e2(0x2c9)]['width']=_0x51a691+'%',_0xd8726e[_0x5674e2(0x2c9)]['background']=_0x5674e2(0x238));}function renderEventsForColumn(_0x1fab23,_0x45a788,_0x1202d8){const _0x44383f=a2_0x213f93,_0x132654=sessions['filter'](_0x5306f3=>_0x5306f3[_0x44383f(0x18e)]===_0x45a788),_0x1feade=_0x132654[_0x44383f(0x272)](_0xd8d11c=>{const _0x4f29b7=_0x44383f,[_0x390b28,_0x2f7218]=_0xd8d11c['start'][_0x4f29b7(0x1be)](':')[_0x4f29b7(0x272)](Number),[_0x254c3b,_0x839108]=_0xd8d11c[_0x4f29b7(0x253)][_0x4f29b7(0x1be)](':')[_0x4f29b7(0x272)](Number);return{'data':_0xd8d11c,'start':_0x390b28*0x3c+_0x2f7218,'end':_0x254c3b*0x3c+_0x839108,'colIndex':0x0};});_0x1feade['sort']((_0x4dabbf,_0x2294f2)=>{const _0xdd1660=_0x44383f;if(_0x4dabbf['start']!==_0x2294f2['start'])return _0x4dabbf['start']-_0x2294f2[_0xdd1660(0x24b)];return _0x2294f2[_0xdd1660(0x253)]-_0x2294f2['start']-(_0x4dabbf['end']-_0x4dabbf['start']);});const _0x544aa4=[];_0x1feade['forEach'](_0x1ed597=>{const _0x403dbf=_0x44383f;let _0x14cfe3=![];for(let _0x31513a=0x0;_0x31513a<_0x544aa4[_0x403dbf(0x1e0)];_0x31513a++){const _0x15dac8=_0x544aa4[_0x31513a],_0x13a19b=_0x15dac8[_0x15dac8[_0x403dbf(0x1e0)]-0x1];if(_0x1ed597[_0x403dbf(0x24b)]>=_0x13a19b['end']){_0x15dac8['push'](_0x1ed597),_0x1ed597[_0x403dbf(0x24a)]=_0x31513a,_0x14cfe3=!![];break;}}!_0x14cfe3&&(_0x544aa4[_0x403dbf(0x2cb)]([_0x1ed597]),_0x1ed597[_0x403dbf(0x24a)]=_0x544aa4[_0x403dbf(0x1e0)]-0x1);}),_0x1feade[_0x44383f(0x25e)](_0x62510c=>{const _0x418896=_0x44383f;let _0xa09916=0x0;_0x1feade['forEach'](_0x5cab63=>{const _0x34bb69=a2_0x586b;if(Math['max'](_0x62510c[_0x34bb69(0x24b)],_0x5cab63['start'])<Math[_0x34bb69(0x1e6)](_0x62510c['end'],_0x5cab63[_0x34bb69(0x253)])){if(_0x5cab63[_0x34bb69(0x24a)]>_0xa09916)_0xa09916=_0x5cab63[_0x34bb69(0x24a)];}});const _0x2a1d46=_0xa09916+0x1,_0x47fb0d=0x64/_0x2a1d46,_0x1b4518=_0x62510c[_0x418896(0x24a)]*_0x47fb0d,_0x3919a2=createEventEl(_0x62510c['data']);_0x3919a2[_0x418896(0x2c9)][_0x418896(0x252)]=_0x418896(0x2c0)+_0x47fb0d+_0x418896(0x265),_0x3919a2['style'][_0x418896(0x206)]=_0x418896(0x2c0)+_0x1b4518+'%\x20+\x202px)',_0x3919a2[_0x418896(0x2c9)][_0x418896(0x241)]=0xa+_0x62510c[_0x418896(0x24a)],_0x47fb0d<0x55&&_0x3919a2[_0x418896(0x21a)][_0x418896(0x1d1)](_0x418896(0x276)),_0x1fab23[_0x418896(0x1b9)](_0x3919a2);});}function createEventEl(_0xf253b7){const _0x345078=a2_0x213f93,[_0x55dbde,_0x40ec37]=_0xf253b7[_0x345078(0x24b)]['split'](':')[_0x345078(0x272)](Number),[_0xa85e8a,_0x334515]=_0xf253b7['end'][_0x345078(0x1be)](':')['map'](Number),_0x135c8a=(_0x55dbde*0x3c+_0x40ec37)/0x3c*GRID_H,_0x748ae5=(_0xa85e8a*0x3c+_0x334515-(_0x55dbde*0x3c+_0x40ec37))/0x3c*GRID_H,_0x52d28a=document['createElement'](_0x345078(0x1f4)),_0x8a344d=_0xf253b7[_0x345078(0x1c1)]===_0x345078(0x1c2)?_0x345078(0x19d):'';_0x52d28a['className']='event-card'+_0x8a344d,_0x52d28a['style'][_0x345078(0x2f0)]=_0x135c8a+'px',_0x52d28a[_0x345078(0x2c9)]['height']=Math[_0x345078(0x247)](_0x748ae5,0x14)+'px';const _0x2c3ba5=clients['find'](_0x4698d1=>_0xf253b7[_0x345078(0x2d9)]&&String(_0x4698d1['id'])===String(_0xf253b7[_0x345078(0x2d9)])||_0x4698d1[_0x345078(0x296)]===_0xf253b7[_0x345078(0x26a)]),_0x1e0135=_0x2c3ba5?_0x2c3ba5[_0x345078(0x2cf)]:_0x345078(0x242);_0x52d28a[_0x345078(0x2c9)][_0x345078(0x197)]=_0x1e0135,_0x52d28a[_0x345078(0x2c9)][_0x345078(0x1b0)]=hexToRgba(_0x1e0135,0.85);let _0x1d7fb7='<div\x20class=\x22ev-title\x22>'+_0xf253b7['client']+_0x345078(0x2ad)+_0xf253b7['start']+'\x20-\x20'+_0xf253b7['end']+_0x345078(0x2ba);return _0xf253b7[_0x345078(0x27b)]&&(_0x1d7fb7+=_0x345078(0x2c4)),_0xf253b7['status']===_0x345078(0x1c2)&&(_0x1d7fb7+=_0x345078(0x2ef)),_0x52d28a[_0x345078(0x2bc)]=_0x1d7fb7,_0x52d28a[_0x345078(0x290)]=_0x1bc177=>{const _0x576573=_0x345078;_0x1bc177[_0x576573(0x20a)](),openEdit(_0xf253b7);},_0x52d28a;}function attachLongPressHandler(_0x32f292,_0x19ca51){const _0x8b16bc=a2_0x213f93;let _0x5b8ba0=0x0,_0x3c1fee=null;const _0x65a3e5=_0x33545f=>{const _0x5e3100=a2_0x586b;if(_0x33545f[_0x5e3100(0x2d4)]['closest']('.event-card'))return;isScrolling=![],_0x5b8ba0=_0x33545f[_0x5e3100(0x1d0)]?_0x33545f[_0x5e3100(0x1d0)][0x0][_0x5e3100(0x22e)]:_0x33545f[_0x5e3100(0x22e)],_0x3c1fee=setTimeout(()=>{const _0x40227a=_0x5e3100;if(!isScrolling){navigator[_0x40227a(0x218)]?.(0x32);const _0x24cc61=_0x32f292['getBoundingClientRect'](),_0x44c07b=Math[_0x40227a(0x264)]((_0x5b8ba0-_0x24cc61[_0x40227a(0x2f0)])/GRID_H);_0x19ca51[_0x40227a(0x1c4)](_0x44c07b,0x0),openAddSession(_0x19ca51);}},0x1f4);},_0x2dfc54=()=>{isScrolling=!![],clearTimeout(_0x3c1fee);},_0x38246f=()=>{clearTimeout(_0x3c1fee);};_0x32f292[_0x8b16bc(0x27d)]('touchstart',_0x65a3e5,{'passive':!![]}),_0x32f292[_0x8b16bc(0x27d)]('touchmove',_0x2dfc54,{'passive':!![]}),_0x32f292[_0x8b16bc(0x27d)]('touchend',_0x38246f),_0x32f292[_0x8b16bc(0x27d)](_0x8b16bc(0x205),_0x65a3e5),_0x32f292[_0x8b16bc(0x27d)](_0x8b16bc(0x1cf),_0x2dfc54),_0x32f292[_0x8b16bc(0x27d)](_0x8b16bc(0x2f1),_0x38246f);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x2c0b3a=a2_0x213f93,_0x436d58=document[_0x2c0b3a(0x23c)](_0x2c0b3a(0x2a7)),_0x244e9f=_0x436d58['scrollLeft'],_0x1cdc2c=_0x436d58[_0x2c0b3a(0x1a9)],_0x2cd09b=_0x436d58[_0x2c0b3a(0x198)];if(_0x1cdc2c-(_0x244e9f+_0x2cd09b)<0x12c){const _0x1bd4c9=endOffset;endOffset+=0xe,renderDayRange(_0x1bd4c9+0x1,endOffset),reRenderBlocks();}if(_0x244e9f<0x12c){const _0xe9fee3=startOffset;startOffset-=0xe,prependDays(startOffset,_0xe9fee3-0x1),_0x436d58[_0x2c0b3a(0x2bf)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x57e564,_0x76530){const _0x58b3a8=a2_0x213f93,_0x5314a6=document[_0x58b3a8(0x23c)](_0x58b3a8(0x231)),_0x4a8cbc=document[_0x58b3a8(0x23c)](_0x58b3a8(0x305)),_0x1ac3d2=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x3cd30d=new Date();_0x3cd30d[_0x58b3a8(0x1c4)](0x0,0x0,0x0,0x0);const _0x43abb8=getLocalDateStr(new Date()),_0x43ebb3=document[_0x58b3a8(0x214)](),_0x591ec3=document['createDocumentFragment']();for(let _0x69c733=_0x57e564;_0x69c733<=_0x76530;_0x69c733++){const _0x5bec59=new Date(_0x3cd30d);_0x5bec59[_0x58b3a8(0x19b)](_0x5bec59[_0x58b3a8(0x2d2)]()+_0x69c733);const _0x223fb2=getLocalDateStr(_0x5bec59);let _0x154f65=_0x5bec59[_0x58b3a8(0x224)]()-0x1;if(_0x154f65===-0x1)_0x154f65=0x6;const _0x139cb1=_0x223fb2===_0x43abb8,_0x349cd2=document[_0x58b3a8(0x1c8)](_0x58b3a8(0x1f4));_0x349cd2[_0x58b3a8(0x294)]=_0x58b3a8(0x1b6)+(_0x139cb1?'today':''),_0x349cd2['id']=_0x58b3a8(0x2e1)+_0x223fb2,_0x349cd2[_0x58b3a8(0x257)](_0x58b3a8(0x1a1),_0x223fb2),_0x349cd2[_0x58b3a8(0x2bc)]='<div\x20class=\x22dch-day\x22>'+_0x1ac3d2[_0x154f65]+_0x58b3a8(0x28a)+_0x5bec59[_0x58b3a8(0x2d2)]()+_0x58b3a8(0x2d0)+_0x223fb2+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x349cd2[_0x58b3a8(0x290)]=()=>openDayOptions(_0x223fb2,_0x1ac3d2[_0x154f65]+'\x20'+_0x5bec59[_0x58b3a8(0x2d2)]()),_0x43ebb3[_0x58b3a8(0x1b9)](_0x349cd2);const _0x35073b=document[_0x58b3a8(0x1c8)](_0x58b3a8(0x1f4));_0x35073b['className']=_0x58b3a8(0x22b)+(_0x139cb1?_0x58b3a8(0x18b):''),_0x35073b['setAttribute']('data-date',_0x223fb2),_0x35073b[_0x58b3a8(0x257)]('data-day-idx',_0x154f65),renderEventsForColumn(_0x35073b,_0x223fb2,_0x154f65),attachLongPressHandler(_0x35073b,_0x5bec59),_0x591ec3['appendChild'](_0x35073b),updateDayStats(_0x223fb2);}_0x5314a6['insertBefore'](_0x43ebb3,_0x5314a6[_0x58b3a8(0x1ff)]),_0x4a8cbc[_0x58b3a8(0x26e)](_0x591ec3,_0x4a8cbc[_0x58b3a8(0x19f)]('.day-column'));}function validateAppointment(_0x304740,_0x209f67,_0x2daf3d,_0x143248,_0x2500c5){const _0x4e7339=a2_0x213f93,[_0x3e6a65,_0x1a726c]=_0x209f67[_0x4e7339(0x1be)](':')[_0x4e7339(0x272)](Number),[_0x4bcedc,_0x3e40b6]=_0x2daf3d['split'](':')[_0x4e7339(0x272)](Number),_0x2dcdc3=_0x3e6a65*0x3c+_0x1a726c,_0x2121c5=_0x4bcedc*0x3c+_0x3e40b6,_0x165784=String(_0x2500c5);let _0xd8ac10=![],_0x277140='';for(let _0x1e6953 of sessions){if(_0x1e6953[_0x4e7339(0x18e)]!==_0x304740)continue;if(_0x1e6953[_0x4e7339(0x1c1)]===_0x4e7339(0x1ac))continue;if(_0x143248&&String(_0x1e6953['id'])===String(_0x143248))continue;const [_0xba185a,_0x2271b8]=_0x1e6953[_0x4e7339(0x24b)][_0x4e7339(0x1be)](':')[_0x4e7339(0x272)](Number),[_0x29cbdd,_0x566cc2]=_0x1e6953['end'][_0x4e7339(0x1be)](':')['map'](Number),_0x2c8b3a=_0xba185a*0x3c+_0x2271b8,_0xa44a99=_0x29cbdd*0x3c+_0x566cc2;if(Math[_0x4e7339(0x247)](_0x2dcdc3,_0x2c8b3a)<Math[_0x4e7339(0x1e6)](_0x2121c5,_0xa44a99)){if(_0x1e6953['clientId']&&String(_0x1e6953['clientId'])===_0x165784)return{'valid':![],'msg':_0x4e7339(0x1a2)+_0x1e6953[_0x4e7339(0x26a)]+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0xd8ac10=!![],_0x277140=_0x1e6953[_0x4e7339(0x26a)];}}if(_0xd8ac10)return{'valid':!![],'warning':'–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20'+_0x277140};return{'valid':!![]};}function updateDateDisplay(){const _0x4c32d6=a2_0x213f93,_0x6de106=document['getElementById']('inpDate')[_0x4c32d6(0x2e8)],_0x170500=document[_0x4c32d6(0x23c)]('sheetDateSubtitle');if(!_0x6de106){_0x170500[_0x4c32d6(0x2d8)]='';return;}const [_0x12b676,_0x32db04,_0x1fd774]=_0x6de106[_0x4c32d6(0x1be)]('-')[_0x4c32d6(0x272)](Number),_0xd96624=new Date(_0x12b676,_0x32db04-0x1,_0x1fd774),_0x59b853={'weekday':_0x4c32d6(0x267),'day':_0x4c32d6(0x2ec),'month':_0x4c32d6(0x267),'year':_0x4c32d6(0x2ec)};let _0x46ef3c=_0xd96624[_0x4c32d6(0x2a2)](_0x4c32d6(0x2f6),_0x59b853);_0x46ef3c=_0x46ef3c[_0x4c32d6(0x25f)](0x0)['toUpperCase']()+_0x46ef3c[_0x4c32d6(0x2f7)](0x1),_0x170500[_0x4c32d6(0x2d8)]=_0x46ef3c;}function autoSetEndTime(){const _0x318bba=a2_0x213f93,_0x47c461=document[_0x318bba(0x23c)](_0x318bba(0x2e2))[_0x318bba(0x2e8)];if(!_0x47c461)return;const [_0x3929ac,_0x57f071]=_0x47c461['split'](':')[_0x318bba(0x272)](Number);let _0x261ece=_0x3929ac+0x1;if(_0x261ece>0x17)_0x261ece=0x0;const _0x5b371c=String(_0x261ece)[_0x318bba(0x211)](0x2,'0')+':'+String(_0x57f071)[_0x318bba(0x211)](0x2,'0');document[_0x318bba(0x23c)](_0x318bba(0x1fe))[_0x318bba(0x2e8)]=_0x5b371c;}function populateClientSelect(){const _0x257245=a2_0x213f93,_0x2371b4=document['getElementById'](_0x257245(0x239));_0x2371b4[_0x257245(0x2bc)]='';if(clients[_0x257245(0x1e0)]===0x0){const _0x216cf7=document[_0x257245(0x1c8)](_0x257245(0x2b8));_0x216cf7[_0x257245(0x23f)]=_0x257245(0x270),_0x2371b4['appendChild'](_0x216cf7);return;}clients[_0x257245(0x25e)](_0x293583=>{const _0x31f8e7=_0x257245,_0xa3b8f8=document['createElement'](_0x31f8e7(0x2b8));_0xa3b8f8[_0x31f8e7(0x2e8)]=_0x293583[_0x31f8e7(0x296)],_0xa3b8f8[_0x31f8e7(0x2d8)]=_0x293583[_0x31f8e7(0x296)],_0x2371b4[_0x31f8e7(0x1b9)](_0xa3b8f8);});}function openActionSheet(_0x356324){const _0x1162bc=a2_0x213f93,_0x7fe393=document[_0x1162bc(0x23c)](_0x1162bc(0x1a8)),_0x1b47fd=document['getElementById'](_0x1162bc(0x1b4)),_0x19527c=document[_0x1162bc(0x23c)](_0x1162bc(0x282)),_0x1f84b1=document[_0x1162bc(0x23c)](_0x1162bc(0x1ba)),_0x2828da=document['getElementById']('asBtnSeries');_0x1b47fd[_0x1162bc(0x21a)][_0x1162bc(0x1d1)]('active'),_0x7fe393[_0x1162bc(0x21a)]['add'](_0x1162bc(0x19e));if(_0x356324===_0x1162bc(0x28c))_0x19527c['textContent']=_0x1162bc(0x207),_0x1f84b1[_0x1162bc(0x2d8)]=_0x1162bc(0x1ee),_0x1f84b1[_0x1162bc(0x290)]=()=>{const _0x977ff6=_0x1162bc;closeActionSheet(),updateSeriesBatch(_0x977ff6(0x189),tempSessionData);},_0x2828da[_0x1162bc(0x2d8)]=_0x1162bc(0x1a3),_0x2828da[_0x1162bc(0x290)]=()=>{closeActionSheet(),updateSeriesBatch('series',tempSessionData);};else _0x356324===_0x1162bc(0x254)&&(_0x19527c[_0x1162bc(0x2d8)]='–£–¥–∞–ª–µ–Ω–∏–µ',_0x1f84b1[_0x1162bc(0x2d8)]=_0x1162bc(0x1ee),_0x1f84b1['className']=_0x1162bc(0x281),_0x1f84b1[_0x1162bc(0x290)]=()=>{const _0x54726d=_0x1162bc;closeActionSheet(),commitDelete('single',sessions[_0x54726d(0x26c)](_0x275a50=>_0x275a50['id']===editingId));},_0x2828da['textContent']=_0x1162bc(0x1a3),_0x2828da[_0x1162bc(0x294)]=_0x1162bc(0x255),_0x2828da[_0x1162bc(0x290)]=()=>{const _0x181fcf=_0x1162bc;closeActionSheet(),commitDelete(_0x181fcf(0x1df),sessions['find'](_0x524091=>_0x524091['id']===editingId));});}function closeActionSheet(){const _0x3e6728=a2_0x213f93;document[_0x3e6728(0x23c)](_0x3e6728(0x1a8))[_0x3e6728(0x21a)][_0x3e6728(0x1da)]('open'),document['getElementById'](_0x3e6728(0x1b4))[_0x3e6728(0x21a)][_0x3e6728(0x1da)](_0x3e6728(0x226));}function openSettings(){const _0x894829=a2_0x213f93;openSheet(_0x894829(0x2c3));}function saveCoachSettings(){const _0x3836f1=a2_0x213f93,_0xc2a2d4=document[_0x3836f1(0x23c)]('settingCancelWindow')[_0x3836f1(0x2e8)];localStorage[_0x3836f1(0x1fd)](_0x3836f1(0x221),_0xc2a2d4),console['log'](_0x3836f1(0x245),_0xc2a2d4),DataManager[_0x3836f1(0x2da)](_0x3836f1(0x1d7),{'settings':{'cancel_window':_0xc2a2d4}})[_0x3836f1(0x297)](_0x90aff4=>{const _0x23f7ef=_0x3836f1;console['error'](_0x23f7ef(0x2dc),_0x90aff4),showToast(_0x23f7ef(0x28e),![]);});}function loadCoachSettings(){const _0x2c0605=a2_0x213f93,_0x222ef7=localStorage[_0x2c0605(0x2ee)]('uc_settings_cancel_window');_0x222ef7&&(document[_0x2c0605(0x23c)]('settingCancelWindow')[_0x2c0605(0x2e8)]=_0x222ef7);}function a2_0x468c(){const _0x27723f=['\x20-\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','min','Local\x20Save\x20Error','dayOptionsTitle','note','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','doEventsList','[API\x20','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','headerMonth','[Notify]\x20Server\x20Response:','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','getTime','9537BXrNHt','div','rgba(48,\x20209,\x2088,\x200.15)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','location','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','ranges','[Notify]\x20Error:\x20Text\x20generation\x20failed','setBackgroundColor','setItem','inpEnd','firstChild','patternEditor','stringify','includes','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','uc_clients_v9','mousedown','left','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','var(--acc-orange)','Server\x20Error','stopPropagation','toUpperCase','init_load','off','rangeStartTime','btn-status-toggle\x20undo-mode','peGrid','padStart','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','initDataUnsafe','createDocumentFragment','indexOf','23:59','5662464idumva','vibrate','data-day-idx','classList','...','btnStatusToggle','toast-notification\x20','getMonth','Error\x20setting\x20color:','querySelectorAll','uc_settings_cancel_window','[Series]\x20Skipped\x20','filter','getDay','DOMContentLoaded','active','clients','search','var(--acc-red)','inpSeriesCount','day-column\x20','statLoadCard','</span>\x20/\x20','clientY','patternInfoBox','Critical\x20TMA\x20Error:','daysHeaderTrack','#fff','rgba(100,100,100,0.5)','analyticsList','update','scroll','pattern','var(--acc-current)','inpClient','calendar','offClick','getElementById','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','text','toString','zIndex','#0a84ff','recurringOptionContainer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','[Settings]\x20Cancel\x20window\x20set\x20to:','toast','max','getHours','syncBatch','colIndex','start','height','(((.+)+)+)+$','seriesCountContainer','<span>','rgba(255,\x2069,\x2058,\x200.15)','.day-off-overlay','width','end','delete','as-button\x20danger\x20bold','expand','setAttribute','href','var(--acc-green)','router.html','uc_settings_v9','rangeStartDate','blocked-slot\x20stripe-bg','forEach','charAt','px\x200px','send','rangeEndTime','entries','floor','%\x20-\x204px)','client-stat-card','long','splice','px\x20-','client','complete','find','BackButton','insertBefore','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','doBusyHours','map','T23:59:59','show','log','mini','toLocaleString','exceptions','saveLocally',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','seriesId','random','addEventListener','borderRadius','warning','1144614kxmAej','as-button\x20danger','asTitle','[Notify]\x20Error:\x20sessionData\x20is\x20null','.dch-stats-fill','Error\x20setting\x20back\x20button:','getMinutes','394WeMsMa','overlay','#050505','</div><div\x20class=\x22dch-num\x22>','WebApp','save','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','timeLineBadge','onclick','checked','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','setHeaderColor','className','rangeEndDate','name','catch','valid','.day-col-header','20055uKfZEJ',':\x20Client\x20already\x20booked','pe-cell\x20','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','planned','inpDate','create','7BnjdRq','toLocaleDateString','de-item','inpRecurring','text/plain;charset=UTF-8','[Notify]\x20Network\x20Failed','matrixViewport','guest','Local\x20Load\x20Error','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','timeColumn','</div><div\x20class=\x22ev-time\x22>','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','onClick','done','error','rgba(255,\x2069,\x2058,\x200.3)','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','btnDelete','toastMessage','getAttribute','doDateHeader','option','51460bTMYhs','</div>','globalTimeLine','innerHTML','–£—Å–ø–µ—à–Ω–æ','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','scrollLeft','calc(','Telegram','dayOptionsSheet','settingsSheet','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','inpNote','pe-time-label','\x20–∏–∑\x20','10px','style','block','push','parse','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','.period-switch\x20.p-btn','color','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','constructor','getDate','doLoadPercent','target','warn','flex','week','textContent','clientId','fetchFromServer','success','Save\x20settings\x20error:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','doWorkHours','batch_sync','100%','header-','inpStart','cancel_window','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','loadLocal','value','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','10dtfuWA','numeric','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','getItem','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','top','mouseup','analyticsSheet','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','T00:00:00','ru-RU','slice','sessionSheet','rangesList','btn-status-toggle','btn-primary\x20btn-secondary','anStart','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','now','formatDate','[Notify]\x20Detected\x20Client\x20ID:','disableVerticalSwipes','background','round','btnDayToggle','gridColumns','anEnd','single','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','today','display','cancel','dateStr','then','backgroundPosition','#gridColumns\x20.day-column','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','rgba(255,\x20159,\x2010,\x200.3)','borderLeftColor','clientWidth','sheetTitle','offsetLeft','setDate','00:00','\x20status-completed','open','querySelector','deleted','data-date','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','\x20‚Äî\x20','anTotalStats','rgba(','sort','actionSheet','scrollWidth','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','15336603QkXqQw','cancelled',':00','localeCompare','</b>\x0a\x0a','backgroundColor','rgba(255,255,255,0.05)','day-off-overlay\x20stripe-bg','custom','actionSheetOverlay','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','day-col-header\x20','getText','getFullYear','appendChild','asBtnOne','total','<b>‚úÖ\x20','startsWith','split',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','borderColor','status','completed','findIndex','setHours',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','toFixed','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','createElement','settings','[Notify]\x20Client\x20SWAP\x20detected','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','offsetWidth','anDonutCircle','setMonth','mousemove','touches','add','\x20days','Batch\x20Sync\x20OK','keys','scrollTop','from','save_settings','5580960uhVmij','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','remove','sid','mergeServerData','stat-','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','series','length','5500tsCpcs','none','user'];a2_0x468c=function(){return _0x27723f;};return a2_0x468c();}function openRangesSheet(){closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet('rangesSheet');}function addRange(){const _0x3cb561=a2_0x213f93,_0x381787=document[_0x3cb561(0x23c)](_0x3cb561(0x25c))[_0x3cb561(0x2e8)],_0x520d87=document[_0x3cb561(0x23c)](_0x3cb561(0x20e))[_0x3cb561(0x2e8)],_0x34d7ff=document['getElementById'](_0x3cb561(0x295))['value'],_0x2c66e5=document['getElementById']('rangeEndTime')[_0x3cb561(0x2e8)];if(!_0x381787||!_0x520d87||!_0x34d7ff||!_0x2c66e5)return alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è');const _0x38c4e8=_0x381787+'T'+_0x520d87,_0x578213=_0x34d7ff+'T'+_0x2c66e5;if(_0x38c4e8>=_0x578213)return alert(_0x3cb561(0x1de));specialRanges[_0x3cb561(0x2cb)]({'start':_0x38c4e8,'end':_0x578213}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x3cb561(0x279)](),DataManager[_0x3cb561(0x2da)](_0x3cb561(0x1d7),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x1b766a){const _0x51c0da=a2_0x213f93;specialRanges[_0x51c0da(0x268)](_0x1b766a,0x1),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager['fetchFromServer'](_0x51c0da(0x1d7),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x44de49=a2_0x213f93;document['getElementById'](_0x44de49(0x25c))[_0x44de49(0x2e8)]='',document[_0x44de49(0x23c)](_0x44de49(0x20e))[_0x44de49(0x2e8)]=_0x44de49(0x19c),document['getElementById'](_0x44de49(0x295))['value']='',document[_0x44de49(0x23c)](_0x44de49(0x262))[_0x44de49(0x2e8)]=_0x44de49(0x216);}function renderRangesList(){const _0x12df33=a2_0x213f93,_0x446f3e=document[_0x12df33(0x23c)](_0x12df33(0x2f9));_0x446f3e[_0x12df33(0x2bc)]='';if(!specialRanges[_0x12df33(0x1e0)]){_0x446f3e[_0x12df33(0x2bc)]=_0x12df33(0x212);return;}specialRanges[_0x12df33(0x25e)]((_0x4c186f,_0x4488f5)=>{const _0x113cb8=_0x12df33,_0x3c8f2e=document[_0x113cb8(0x1c8)]('div');_0x3c8f2e[_0x113cb8(0x294)]='range-item';const _0x590e94=_0x4af0ad=>{const _0x4f44ec=_0x113cb8,_0x2810e4=new Date(_0x4af0ad);return _0x2810e4[_0x4f44ec(0x2d2)]()+'.'+String(_0x2810e4[_0x4f44ec(0x21e)]()+0x1)[_0x4f44ec(0x211)](0x2,'0')+'\x20'+String(_0x2810e4['getHours']())[_0x4f44ec(0x211)](0x2,'0')+':'+String(_0x2810e4[_0x4f44ec(0x286)]())[_0x4f44ec(0x211)](0x2,'0');};_0x3c8f2e['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>'+_0x590e94(_0x4c186f[_0x113cb8(0x24b)])+_0x113cb8(0x1a4)+_0x590e94(_0x4c186f['end'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange('+_0x4488f5+_0x113cb8(0x2e5),_0x446f3e[_0x113cb8(0x1b9)](_0x3c8f2e);});}function scrollToToday(){const _0x63280a=a2_0x213f93,_0x42e614=getLocalDateStr(new Date()),_0x4a211f=document[_0x63280a(0x23c)](_0x63280a(0x2e1)+_0x42e614),_0x1bffbe=document[_0x63280a(0x23c)](_0x63280a(0x2a7));if(_0x4a211f&&_0x1bffbe){const _0x36e6ee=_0x1bffbe[_0x63280a(0x198)],_0x582ccd=_0x4a211f[_0x63280a(0x19a)],_0x1440ab=_0x4a211f[_0x63280a(0x1cc)];_0x1bffbe[_0x63280a(0x2bf)]=_0x582ccd-_0x36e6ee/0x2+_0x1440ab/0x2,_0x1bffbe[_0x63280a(0x1d5)]=0x9*GRID_H;}}function onScroll(){const _0x33d9e0=a2_0x213f93,_0x9b7c59=document['getElementById'](_0x33d9e0(0x2a7)),_0x4efa61=document[_0x33d9e0(0x220)]('.day-col-header');for(let _0x22f6ee of _0x4efa61)if(_0x22f6ee[_0x33d9e0(0x19a)]>=_0x9b7c59[_0x33d9e0(0x2bf)]){const _0x2e9958=new Date(_0x22f6ee[_0x33d9e0(0x2b6)](_0x33d9e0(0x1a1)));document[_0x33d9e0(0x23c)](_0x33d9e0(0x1ef))['textContent']=_0x2e9958[_0x33d9e0(0x277)]('ru',{'month':_0x33d9e0(0x267)})[_0x33d9e0(0x20b)]()+'\x20'+_0x2e9958[_0x33d9e0(0x1b8)]();break;}}function showToast(_0x2c826e,_0xec067c=![]){const _0x28d300=a2_0x213f93,_0x145ee2=document[_0x28d300(0x23c)](_0x28d300(0x246));_0x145ee2['className']=_0x28d300(0x21d)+(_0xec067c?_0x28d300(0x2db):''),document[_0x28d300(0x23c)]('toastTitle')[_0x28d300(0x2d8)]=_0xec067c?_0x28d300(0x2bd):'–ò–Ω—Ñ–æ',document[_0x28d300(0x23c)](_0x28d300(0x2b5))[_0x28d300(0x2d8)]=_0x2c826e,_0x145ee2[_0x28d300(0x21a)][_0x28d300(0x1d1)](_0x28d300(0x274)),setTimeout(()=>{const _0x4df4f4=_0x28d300;_0x145ee2[_0x4df4f4(0x21a)][_0x4df4f4(0x1da)](_0x4df4f4(0x274));},0xbb8);}function openDayOptions(_0x211f55,_0x5b2f3d){const _0x43d972=a2_0x213f93;selectedDayForOptions=_0x211f55,document[_0x43d972(0x23c)](_0x43d972(0x1e8))['textContent']=_0x5b2f3d,openSheet(_0x43d972(0x2c2));}function toggleDayOff(){const _0x4346ea=a2_0x213f93;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]='off',reRenderBlocks(),closeAllSheets(),DataManager[_0x4346ea(0x279)](),DataManager[_0x4346ea(0x2da)](_0x4346ea(0x1d7),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x47cf46=a2_0x213f93;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager[_0x47cf46(0x2da)]('save_settings',{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x2ee216){const _0xa92d04=a2_0x213f93;document[_0xa92d04(0x23c)](_0xa92d04(0x288))['classList'][_0xa92d04(0x1d1)](_0xa92d04(0x226)),document[_0xa92d04(0x23c)](_0x2ee216)[_0xa92d04(0x21a)][_0xa92d04(0x1d1)](_0xa92d04(0x19e));}function closeAllSheets(){const _0x597773=a2_0x213f93;document['getElementById'](_0x597773(0x288))[_0x597773(0x21a)][_0x597773(0x1da)](_0x597773(0x226)),document[_0x597773(0x220)]('.sheet')['forEach'](_0x265fe1=>_0x265fe1[_0x597773(0x21a)][_0x597773(0x1da)]('open'));}function openPatternEditor(){const _0x5bc3d2=a2_0x213f93;closeAllSheets(),document['getElementById'](_0x5bc3d2(0x200))['classList'][_0x5bc3d2(0x1d1)]('open'),renderPatternEditor();}function closePatternEditor(){const _0x3427b9=a2_0x213f93;document[_0x3427b9(0x23c)](_0x3427b9(0x200))[_0x3427b9(0x21a)][_0x3427b9(0x1da)]('open');}function savePattern(){const _0x38103e=a2_0x213f93;document[_0x38103e(0x23c)]('patternEditor')['classList'][_0x38103e(0x1da)]('open'),reRenderBlocks(),DataManager[_0x38103e(0x279)](),DataManager[_0x38103e(0x2da)]('save_settings',{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0xea82b8=a2_0x213f93,_0x3792f3=document['getElementById'](_0xea82b8(0x210));_0x3792f3[_0xea82b8(0x2bc)]='';const _0x3e0829=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x15a2fe=document[_0xea82b8(0x1c8)](_0xea82b8(0x1f4));_0x15a2fe[_0xea82b8(0x294)]='pe-corner',_0x3792f3['appendChild'](_0x15a2fe),_0x3e0829[_0xea82b8(0x25e)]((_0x59944b,_0x58a4a7)=>{const _0x529d74=_0xea82b8,_0x2663f1=document['createElement'](_0x529d74(0x1f4));_0x2663f1['className']='pe-col-header',_0x2663f1['innerHTML']=_0x59944b+_0x529d74(0x2ae),_0x2663f1[_0x529d74(0x290)]=()=>toggleColPattern(_0x58a4a7),_0x3792f3[_0x529d74(0x1b9)](_0x2663f1);});for(let _0x21bf8e=0x0;_0x21bf8e<0x18;_0x21bf8e++){const _0x3fe63e=document['createElement']('div');_0x3fe63e[_0xea82b8(0x294)]=_0xea82b8(0x2c6),_0x3fe63e['innerHTML']='<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>'+String(_0x21bf8e)[_0xea82b8(0x211)](0x2,'0')+_0xea82b8(0x1ad),_0x3fe63e[_0xea82b8(0x290)]=()=>toggleRowPattern(_0x21bf8e),_0x3792f3['appendChild'](_0x3fe63e);for(let _0x193d44=0x0;_0x193d44<0x7;_0x193d44++){const _0x1e27a5=document['createElement'](_0xea82b8(0x1f4)),_0x3536da=(availabilityPattern[_0x193d44]||[])[_0xea82b8(0x202)](_0x21bf8e),_0x389f6c=!_0x3536da;_0x1e27a5[_0xea82b8(0x294)]=_0xea82b8(0x29c)+(_0x389f6c?_0xea82b8(0x226):''),_0x1e27a5['onclick']=()=>toggleSinglePattern(_0x193d44,_0x21bf8e),_0x3792f3[_0xea82b8(0x1b9)](_0x1e27a5);}}}function toggleSinglePattern(_0x519b1c,_0x573db8){const _0x14efc8=a2_0x213f93;if(!availabilityPattern[_0x519b1c])availabilityPattern[_0x519b1c]=[];const _0xf3756e=availabilityPattern[_0x519b1c],_0x231f12=_0xf3756e[_0x14efc8(0x215)](_0x573db8);_0x231f12===-0x1?_0xf3756e['push'](_0x573db8):_0xf3756e[_0x14efc8(0x268)](_0x231f12,0x1),renderPatternEditor();}function toggleColPattern(_0xa3318){const _0x4c3fc3=a2_0x213f93;if(!availabilityPattern[_0xa3318])availabilityPattern[_0xa3318]=[];const _0x35a48a=availabilityPattern[_0xa3318];_0x35a48a[_0x4c3fc3(0x1e0)]===0x0?availabilityPattern[_0xa3318]=Array[_0x4c3fc3(0x1d6)]({'length':0x18},(_0x5c5e80,_0x32e592)=>_0x32e592):availabilityPattern[_0xa3318]=[],renderPatternEditor();}function toggleRowPattern(_0x3c7ae8){const _0x5ba05e=a2_0x213f93;let _0x1e47a8=!![];for(let _0x25d9e1=0x0;_0x25d9e1<0x7;_0x25d9e1++){if((availabilityPattern[_0x25d9e1]||[])[_0x5ba05e(0x202)](_0x3c7ae8)){_0x1e47a8=![];break;}}for(let _0x127a19=0x0;_0x127a19<0x7;_0x127a19++){if(!availabilityPattern[_0x127a19])availabilityPattern[_0x127a19]=[];const _0x225862=availabilityPattern[_0x127a19][_0x5ba05e(0x215)](_0x3c7ae8);if(_0x1e47a8){if(_0x225862===-0x1)availabilityPattern[_0x127a19]['push'](_0x3c7ae8);}else{if(_0x225862!==-0x1)availabilityPattern[_0x127a19][_0x5ba05e(0x268)](_0x225862,0x1);}}renderPatternEditor();}function renderPCol(_0x531ab8,_0x375b54){const _0xc429a5=a2_0x213f93;_0x531ab8[_0xc429a5(0x2bc)]='';const _0x37b1f4=Math['round'](_0x531ab8['offsetLeft']);(availabilityPattern[_0x375b54]||[])[_0xc429a5(0x25e)](_0x30692e=>{const _0x4fca73=_0xc429a5,_0x57ae2b=document[_0x4fca73(0x1c8)](_0x4fca73(0x1f4));_0x57ae2b[_0x4fca73(0x294)]=_0x4fca73(0x25d);const _0x347650=_0x30692e*GRID_H;_0x57ae2b['style'][_0x4fca73(0x2f0)]=_0x347650+'px',_0x57ae2b['style'][_0x4fca73(0x190)]='-'+_0x37b1f4+_0x4fca73(0x269)+_0x347650+'px',_0x57ae2b['onclick']=_0x17c906=>{const _0x5bc111=_0x4fca73;_0x17c906[_0x5bc111(0x20a)](),toggleSinglePattern(_0x375b54,_0x30692e);},_0x531ab8[_0x4fca73(0x1b9)](_0x57ae2b);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x217754=a2_0x213f93,_0x541683=new Date(),_0x51a02b=document[_0x217754(0x23c)](_0x217754(0x2bb)),_0x3c0e36=document[_0x217754(0x23c)](_0x217754(0x28f)),_0x4f25ab=(_0x541683[_0x217754(0x248)]()*0x3c+_0x541683['getMinutes']())/0x3c*GRID_H;_0x51a02b['style'][_0x217754(0x2f0)]=_0x4f25ab+'px',_0x51a02b['style'][_0x217754(0x18c)]='block',_0x3c0e36['textContent']=String(_0x541683[_0x217754(0x248)]())[_0x217754(0x211)](0x2,'0')+':'+String(_0x541683['getMinutes']())[_0x217754(0x211)](0x2,'0'),_0x3c0e36[_0x217754(0x2c9)][_0x217754(0x18c)]=_0x217754(0x2ca),_0x3c0e36[_0x217754(0x2c9)][_0x217754(0x2f0)]=_0x4f25ab+'px';}document['addEventListener'](a2_0x213f93(0x225),init);function openDayOptions(_0x120747){const _0x2145bf=a2_0x213f93;selectedDayForOptions=_0x120747;const _0x4929b7=new Date(_0x120747),_0x5e685b={'weekday':'long','day':'numeric','month':_0x2145bf(0x267),'year':_0x2145bf(0x2ec)},_0x284c96=_0x4929b7[_0x2145bf(0x2a2)](_0x2145bf(0x2f6),_0x5e685b);document['getElementById'](_0x2145bf(0x2b7))[_0x2145bf(0x2d8)]=_0x284c96[_0x2145bf(0x25f)](0x0)['toUpperCase']()+_0x284c96['slice'](0x1);let _0x50b5bf=_0x4929b7[_0x2145bf(0x224)]()-0x1;if(_0x50b5bf===-0x1)_0x50b5bf=0x6;const _0x238db3=availabilityPattern[_0x50b5bf]||[],_0x565e3e=0x18-_0x238db3[_0x2145bf(0x1e0)],_0x20f1e9=_0x565e3e*0x3c,_0x351deb=sessions['filter'](_0x5485c5=>_0x5485c5[_0x2145bf(0x18e)]===_0x120747&&_0x5485c5[_0x2145bf(0x1c1)]!==_0x2145bf(0x1ac));let _0x17fbef=_0x351deb[_0x2145bf(0x272)](_0x41d72d=>{const _0x35664c=_0x2145bf,[_0x1f5035,_0xe20f2f]=_0x41d72d[_0x35664c(0x24b)]['split'](':')[_0x35664c(0x272)](Number),[_0x385fef,_0x4f2c3e]=_0x41d72d[_0x35664c(0x253)]['split'](':')[_0x35664c(0x272)](Number);return[_0x1f5035*0x3c+_0xe20f2f,_0x385fef*0x3c+_0x4f2c3e];});_0x17fbef['sort']((_0x3cfe7e,_0x14fb3d)=>_0x3cfe7e[0x0]-_0x14fb3d[0x0]);let _0x2ba8ad=[];if(_0x17fbef[_0x2145bf(0x1e0)]>0x0){let _0x3faf11=_0x17fbef[0x0];for(let _0x5a95a0=0x1;_0x5a95a0<_0x17fbef['length'];_0x5a95a0++){_0x17fbef[_0x5a95a0][0x0]<_0x3faf11[0x1]?_0x3faf11[0x1]=Math[_0x2145bf(0x247)](_0x3faf11[0x1],_0x17fbef[_0x5a95a0][0x1]):(_0x2ba8ad[_0x2145bf(0x2cb)](_0x3faf11),_0x3faf11=_0x17fbef[_0x5a95a0]);}_0x2ba8ad['push'](_0x3faf11);}let _0x5a1ce6=0x0;_0x2ba8ad[_0x2145bf(0x25e)](_0x57db57=>_0x5a1ce6+=_0x57db57[0x1]-_0x57db57[0x0]),document['getElementById'](_0x2145bf(0x2de))['textContent']=formatMinsToHrs(_0x20f1e9),document[_0x2145bf(0x23c)](_0x2145bf(0x271))[_0x2145bf(0x2d8)]=formatMinsToHrs(_0x5a1ce6);const _0x58f4ef=_0x20f1e9>0x0?Math[_0x2145bf(0x303)](_0x5a1ce6/_0x20f1e9*0x64):0x0,_0x12259a=document[_0x2145bf(0x23c)](_0x2145bf(0x2d3));_0x12259a[_0x2145bf(0x2d8)]=_0x58f4ef+'%';const _0x44babd=document[_0x2145bf(0x23c)](_0x2145bf(0x22c));if(_0x58f4ef>0x64)_0x12259a['style'][_0x2145bf(0x2cf)]=_0x2145bf(0x229),_0x44babd[_0x2145bf(0x2c9)][_0x2145bf(0x1c0)]=_0x2145bf(0x2b2);else _0x58f4ef>0x50?(_0x12259a[_0x2145bf(0x2c9)][_0x2145bf(0x2cf)]=_0x2145bf(0x208),_0x44babd[_0x2145bf(0x2c9)][_0x2145bf(0x1c0)]=_0x2145bf(0x196)):(_0x12259a[_0x2145bf(0x2c9)][_0x2145bf(0x2cf)]=_0x2145bf(0x259),_0x44babd[_0x2145bf(0x2c9)][_0x2145bf(0x1c0)]=_0x2145bf(0x1b1));const _0x498fec=document[_0x2145bf(0x23c)](_0x2145bf(0x1eb));_0x498fec['innerHTML']='';_0x351deb[_0x2145bf(0x1e0)]===0x0?_0x498fec[_0x2145bf(0x2bc)]=_0x2145bf(0x23d):(_0x351deb[_0x2145bf(0x1a7)]((_0x5c71c8,_0x240d18)=>_0x5c71c8[_0x2145bf(0x24b)][_0x2145bf(0x1ae)](_0x240d18[_0x2145bf(0x24b)])),_0x351deb['forEach'](_0xaf7719=>{const _0x17076d=_0x2145bf,_0x1c52f4=clients[_0x17076d(0x26c)](_0x318f0d=>_0x318f0d[_0x17076d(0x296)]===_0xaf7719[_0x17076d(0x26a)]),_0x580a51=_0x1c52f4?_0x1c52f4['color']:_0x17076d(0x232),_0xba7836=_0xaf7719[_0x17076d(0x1c1)]===_0x17076d(0x1c2),_0x418ce8=_0xba7836?_0x17076d(0x2ea):'',_0x3d9a98=document[_0x17076d(0x1c8)](_0x17076d(0x1f4));_0x3d9a98[_0x17076d(0x294)]=_0x17076d(0x2a3),_0x3d9a98[_0x17076d(0x2c9)][_0x17076d(0x197)]=_0x580a51,_0x3d9a98[_0x17076d(0x2bc)]=_0x17076d(0x1f6)+_0xaf7719[_0x17076d(0x24b)]+_0x17076d(0x1e4)+_0xaf7719['end']+_0x17076d(0x2e4)+_0xaf7719[_0x17076d(0x26a)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x418ce8+_0x17076d(0x244),_0x498fec[_0x17076d(0x1b9)](_0x3d9a98);}));const _0x30ab6d=document[_0x2145bf(0x23c)](_0x2145bf(0x304)),_0xe369c1=dateExceptions[_0x120747]===_0x2145bf(0x20d);_0xe369c1?(_0x30ab6d[_0x2145bf(0x2d8)]=_0x2145bf(0x195),_0x30ab6d['className']=_0x2145bf(0x2fb),_0x30ab6d[_0x2145bf(0x2c9)][_0x2145bf(0x2cf)]=_0x2145bf(0x259),_0x30ab6d[_0x2145bf(0x2c9)]['background']=_0x2145bf(0x1f5)):(_0x30ab6d[_0x2145bf(0x2d8)]=_0x2145bf(0x1ed),_0x30ab6d[_0x2145bf(0x294)]='btn-primary\x20btn-danger',_0x30ab6d['style'][_0x2145bf(0x2cf)]='var(--acc-red)',_0x30ab6d[_0x2145bf(0x2c9)][_0x2145bf(0x302)]=_0x2145bf(0x250)),openSheet('dayOptionsSheet');}let currentAnPeriod='week';function openAnalytics(){const _0x3cb79e=a2_0x213f93,_0x2db01a=document[_0x3cb79e(0x19f)](_0x3cb79e(0x2ce));setAnalyticsPeriod(_0x3cb79e(0x2d7),_0x2db01a),closeAllSheets(),openSheet(_0x3cb79e(0x2f2));}function setAnalyticsPeriod(_0x47f716,_0x46ebea){const _0x290db4=a2_0x213f93;currentAnPeriod=_0x47f716,document['querySelectorAll'](_0x290db4(0x2ce))['forEach'](_0x5733ab=>_0x5733ab[_0x290db4(0x21a)][_0x290db4(0x1da)](_0x290db4(0x226)));if(_0x46ebea)_0x46ebea[_0x290db4(0x21a)][_0x290db4(0x1d1)]('active');const _0xb5dcfa=document[_0x290db4(0x23c)]('anCustomDates');_0xb5dcfa[_0x290db4(0x2c9)]['display']=_0x47f716===_0x290db4(0x1b3)?'flex':'none';const _0x4c1686=new Date();let _0x519932=new Date(),_0x107a82=new Date();if(_0x47f716==='week')_0x519932=getStartOfWeek(_0x4c1686),_0x107a82=new Date(_0x519932),_0x107a82[_0x290db4(0x19b)](_0x107a82[_0x290db4(0x2d2)]()+0x6);else{if(_0x47f716==='month')_0x519932=new Date(_0x4c1686[_0x290db4(0x1b8)](),_0x4c1686['getMonth'](),0x1),_0x107a82=new Date(_0x4c1686['getFullYear'](),_0x4c1686[_0x290db4(0x21e)]()+0x1,0x0);else{!document[_0x290db4(0x23c)]('anStart')[_0x290db4(0x2e8)]&&(document[_0x290db4(0x23c)](_0x290db4(0x2fc))[_0x290db4(0x2e8)]=getLocalDateStr(_0x4c1686),document[_0x290db4(0x23c)](_0x290db4(0x306))[_0x290db4(0x2e8)]=getLocalDateStr(_0x4c1686));refreshAnalytics();return;}}document[_0x290db4(0x23c)]('anStart')[_0x290db4(0x2e8)]=getLocalDateStr(_0x519932),document[_0x290db4(0x23c)](_0x290db4(0x306))[_0x290db4(0x2e8)]=getLocalDateStr(_0x107a82),refreshAnalytics();}function refreshAnalytics(){const _0x304c64=a2_0x213f93,_0x1c8c86=document[_0x304c64(0x23c)]('anStart')[_0x304c64(0x2e8)],_0xa37e46=document['getElementById'](_0x304c64(0x306))['value'];if(!_0x1c8c86||!_0xa37e46)return;const _0x5e7ad2=sessions['filter'](_0x255f7f=>_0x255f7f['dateStr']>=_0x1c8c86&&_0x255f7f[_0x304c64(0x18e)]<=_0xa37e46&&_0x255f7f['status']!==_0x304c64(0x1ac)),_0x1d4201=_0x5e7ad2[_0x304c64(0x1e0)],_0x334219=_0x5e7ad2[_0x304c64(0x223)](_0x5127bc=>_0x5127bc[_0x304c64(0x1c1)]===_0x304c64(0x1c2))['length'],_0x3a239f=_0x1d4201>0x0?Math['round'](_0x334219/_0x1d4201*0x64):0x0;document['getElementById']('anPercent')['textContent']=_0x3a239f+'%',document[_0x304c64(0x23c)](_0x304c64(0x1a5))[_0x304c64(0x2d8)]=_0x334219+_0x304c64(0x2c7)+_0x1d4201+'\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ';const _0x4b1823=document[_0x304c64(0x23c)](_0x304c64(0x1cd)),_0x4f9c6f=0x2*Math['PI']*0x23,_0x2e37da=_0x4f9c6f-_0x3a239f/0x64*_0x4f9c6f;_0x4b1823[_0x304c64(0x2c9)]['strokeDashoffset']=_0x2e37da;const _0xd14141={};_0x5e7ad2[_0x304c64(0x25e)](_0x13b28f=>{const _0x17ab8b=_0x304c64;if(!_0xd14141[_0x13b28f[_0x17ab8b(0x26a)]]){const _0x470b02=clients['find'](_0x2b841b=>_0x2b841b['name']===_0x13b28f['client']);_0xd14141[_0x13b28f['client']]={'total':0x0,'done':0x0,'color':_0x470b02?_0x470b02[_0x17ab8b(0x2cf)]:_0x17ab8b(0x232)};}_0xd14141[_0x13b28f['client']][_0x17ab8b(0x1bb)]++;if(_0x13b28f[_0x17ab8b(0x1c1)]==='completed')_0xd14141[_0x13b28f['client']][_0x17ab8b(0x2b0)]++;});const _0x26e45f=document['getElementById'](_0x304c64(0x234));_0x26e45f[_0x304c64(0x2bc)]='';const _0x4dceef=Object[_0x304c64(0x263)](_0xd14141)[_0x304c64(0x1a7)]((_0x3ac324,_0x5617f7)=>_0x5617f7[0x1][_0x304c64(0x1bb)]-_0x3ac324[0x1][_0x304c64(0x1bb)]);if(_0x4dceef['length']===0x0){_0x26e45f['innerHTML']=_0x304c64(0x23e);return;}_0x4dceef[_0x304c64(0x25e)](([_0x437492,_0x532639])=>{const _0x2f9c94=_0x304c64,_0x9083f1=Math[_0x2f9c94(0x303)](_0x532639[_0x2f9c94(0x2b0)]/_0x532639[_0x2f9c94(0x1bb)]*0x64),_0xac23ee=document['createElement'](_0x2f9c94(0x1f4));_0xac23ee[_0x2f9c94(0x294)]=_0x2f9c94(0x266),_0xac23ee[_0x2f9c94(0x2c9)][_0x2f9c94(0x197)]=_0x532639[_0x2f9c94(0x2cf)],_0xac23ee[_0x2f9c94(0x2bc)]=_0x2f9c94(0x2dd)+_0x437492+_0x2f9c94(0x1e5)+_0x532639[_0x2f9c94(0x2b0)]+_0x2f9c94(0x22d)+_0x532639[_0x2f9c94(0x1bb)]+_0x2f9c94(0x1d9)+_0x9083f1+_0x2f9c94(0x1f7),_0x26e45f[_0x2f9c94(0x1b9)](_0xac23ee);});}function formatMinsToHrs(_0x383e01){const _0x3ba881=a2_0x213f93;if(_0x383e01===0x0)return'0';const _0x3ad148=Math[_0x3ba881(0x264)](_0x383e01/0x3c),_0x3e2aff=_0x383e01%0x3c;if(_0x3e2aff===0x0)return _0x3ad148+'—á';return _0x3ad148+'—á\x20'+_0x3e2aff+'–º';}