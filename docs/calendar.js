function a2_0x48e1(){const _0x4f7420=['[Sync]\x20Loading\x20','completed','syncLoad','custom','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','zIndex','entries','create','splice','<b>‚úÖ\x20','charAt','remove','client','mini','setHours','dayOptionsSheet','anDonutCircle','POST','user','off','timeColumn','var(--acc-red)','querySelector','max','actionSheet','px\x20-','getHours','push','send_notification','now','top','background','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','round','update','setBackgroundColor','343245dNwGAQ','textContent','data-date','toastTitle',']\x20Failed:','patternEditor','mergeServerData','4241172igHNLt','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','backgroundColor','style','rangeEndTime','rangesList','(((.+)+)+)+$','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','localeCompare','\x20status-completed','rangesSheet','firstChild','cancel','planned','btn-status-toggle','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','doWorkHours','data-day-idx','daysHeaderTrack','gridColumns','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','doBusyHours','setMonth','forEach','settingsSheet','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','week','querySelectorAll','toast-notification\x20','today','btnDelete','\x20–∏–∑\x20','getAttribute','rgba(255,\x2069,\x2058,\x200.3)','strokeDashoffset','getTime','toastMessage','1634638AWAcBU','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','touches','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','Batch\x20Sync\x20OK','touchend','rangeStartTime','done','floor','backgroundPosition','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','left','clientId','find','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','touchstart','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','Local\x20Save\x20Error','day-col-header\x20','inpRecurring','\x20‚Äî\x20','var(--acc-orange)','status','flex','–ò–Ω—Ñ–æ','deleted','100%','option','active','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','getDate','inpSeriesCount','formatDate','length','.pib-text','[Notify]\x20Client\x20SWAP\x20detected','#0a84ff','checked','onClick','Error\x20setting\x20color:','rangeEndDate','Telegram','setDate','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','from','sheetTitle','pe-corner','</span>\x20/\x20','null','1071161JUDMgS','Server\x20Error','sessionSheet','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','open','borderLeftColor','add','px\x200px','data','getMonth',':00','.period-switch\x20.p-btn','setHeaderColor','single','statLoadCard','btn-primary\x20btn-danger','stopPropagation','scrollWidth','6CmFPRG','seriesCountContainer','doLoadPercent','log','calc(','seriesId','#gridColumns\x20.day-column','scrollLeft','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','padStart','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-',':00</span>','end','[Series]\x20Skipped\x20','btnStatusToggle','block','sort','insertBefore','settings','[Notify]\x20Network\x20Failed','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','var(--acc-current)','onclick','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','cancelled','undefined','event-card','#050505','recurringOptionContainer','rangeStartDate','DOMContentLoaded','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','WebApp','stringify','<span>','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','createElement','BackButton','dateStr','inpDate','offsetWidth','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','search','blocked-slot\x20stripe-bg','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','1630wQflhk','anTotalStats','catch','header-','init_load','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','includes','\x20-\x20','rgba(255,255,255,0.05)','settingCancelWindow','min','1287595tNTbjA','indexOf','getFullYear','<div\x20class=\x22ev-title\x22>','patternInfoBox','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','note','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','month','color','btnDayToggle','success','anCustomDates','series','uc_clients_v9','#fff','Error\x20setting\x20back\x20button:','save_settings','parse','toFixed','asTitle','borderRadius','createDocumentFragment','T23:59:59','ready','.day-off-overlay','[Notify]\x20Error:\x20Text\x20generation\x20failed','\x20days','then',':\x20Client\x20already\x20booked','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','blocked-range-part\x20stripe-bg','range-item','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','valid','[Notify]\x20Attempting\x20to\x20send:','getElementById','fetchFromServer','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','innerHTML','height','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','setAttribute','ranges','Save\x20settings\x20error:','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','send','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','complete','text/plain;charset=UTF-8','pattern',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','[Notify]\x20Detected\x20Client\x20ID:','as-button\x20danger\x20bold','href','pe-time-label','getText','uc_settings_cancel_window','vibrate','offsetLeft','apply','total','setItem','analyticsList','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','colIndex','show','target','.event-card','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','ru-RU','10px\x2010px\x200\x200','clients','asBtnOne','overlay','%\x20+\x202px)','pe-cell\x20','constructor','borderColor','cancel_window','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','23:59','inpStart','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','rgba(255,\x2069,\x2058,\x200.15)','toUpperCase','none','var(--acc-green)','save','toLocaleString','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','scroll','...','.day-col-header','anStart','text','10px','numeric','<div\x20class=\x22dch-day\x22>','toString','[API\x20','getMinutes','btn-primary\x20btn-secondary','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','rgba(48,\x20209,\x2088,\x200.15)','expand',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','inpClient','anEnd','pe-col-header','appendChild','getDay','classList','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','analyticsSheet','clientWidth','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','width','matrixViewport','filter','toLocaleDateString','initDataUnsafe','name','mousemove','mouseup','</div><div\x20class=\x22dch-num\x22>','.day-column','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','.sheet','div','–£—Å–ø–µ—à–Ω–æ','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','display','exceptions','headerMonth','value','batch_sync','error','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','warn','isArray','as-button\x20danger','v9.0-BATCH-CALENDAR','map','day-off-overlay\x20stripe-bg','4ahhrUF','00:00','Unknown','disableVerticalSwipes','className','getItem','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','inpNote','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','delete','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','warning','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','slice','saveLocally','peGrid','closest','loadLocal','calendar','13788EIIZcC',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','start','findIndex','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','actionSheetOverlay','day-column\x20','offClick','6742664EYaUWs','stat-','inpEnd','long','sid','addEventListener','split','[Settings]\x20Cancel\x20window\x20set\x20to:'];a2_0x48e1=function(){return _0x4f7420;};return a2_0x48e1();}const a2_0x31f1bd=a2_0x3081;(function(_0x59b4f8,_0x5ba0e1){const _0xaa7714=a2_0x3081,_0xc7e7c3=_0x59b4f8();while(!![]){try{const _0x70cfd6=parseInt(_0xaa7714(0x1c4))/0x1+-parseInt(_0xaa7714(0x1f3))/0x2+-parseInt(_0xaa7714(0x1cb))/0x3*(-parseInt(_0xaa7714(0x179))/0x4)+parseInt(_0xaa7714(0xe7))/0x5*(parseInt(_0xaa7714(0xae))/0x6)+parseInt(_0xaa7714(0x9c))/0x7+-parseInt(_0xaa7714(0x198))/0x8+parseInt(_0xaa7714(0x18f))/0x9*(parseInt(_0xaa7714(0xdc))/0xa);if(_0x70cfd6===_0x5ba0e1)break;else _0xc7e7c3['push'](_0xc7e7c3['shift']());}catch(_0x4e8605){_0xc7e7c3['push'](_0xc7e7c3['shift']());}}}(a2_0x48e1,0xb8d53),function initTMA(){const _0x3456cb=a2_0x3081;try{const _0x438697=window['Telegram']?.['WebApp'];if(!_0x438697)return;_0x438697[_0x3456cb(0xff)](),_0x438697[_0x3456cb(0x151)]();try{_0x438697[_0x3456cb(0xa8)](_0x3456cb(0xca)),_0x438697[_0x3456cb(0x1c3)]&&_0x438697[_0x3456cb(0x1c3)](_0x3456cb(0xca));}catch(_0xbe987f){console[_0x3456cb(0xb1)](_0x3456cb(0x92),_0xbe987f);}try{_0x438697[_0x3456cb(0xd4)]&&(_0x438697[_0x3456cb(0xd4)][_0x3456cb(0x12a)](),_0x438697[_0x3456cb(0xd4)][_0x3456cb(0x197)](),_0x438697['BackButton'][_0x3456cb(0x91)](function(){const _0x384b24=_0x3456cb;window['location'][_0x384b24(0x11d)]='router.html';}));}catch(_0x153c8b){console[_0x3456cb(0xb1)](_0x3456cb(0xf7),_0x153c8b);}try{if(_0x438697['disableVerticalSwipes'])_0x438697[_0x3456cb(0x17c)]();}catch(_0x5522fc){}}catch(_0x7c9ee0){console['error']('Critical\x20TMA\x20Error:',_0x7c9ee0);}}());function isAdmin(){const _0x1cf481=a2_0x3081;try{const _0x3f2920=Number(window[_0x1cf481(0x94)]?.[_0x1cf481(0xcf)]?.[_0x1cf481(0x161)]?.['user']?.['id']);return _0x3f2920===0xbaf7174;}catch(_0x35d853){return![];}}const APP_VERSION=a2_0x31f1bd(0x176),API_URL=a2_0x31f1bd(0x1dd),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x31f1bd(0xf5),KEY_SESSIONS='uc_sessions_v9',KEY_SETTINGS='uc_settings_v9';let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x45fe29=a2_0x31f1bd;return window[_0x45fe29(0x94)]?.[_0x45fe29(0xcf)]?.[_0x45fe29(0x161)]?.[_0x45fe29(0x1b2)]?.['id']||'guest';},'saveLocally'(){const _0xb7c268=a2_0x31f1bd;try{localStorage['setItem'](KEY_CLIENTS,JSON['stringify'](clients)),localStorage[_0xb7c268(0x125)](KEY_SESSIONS,JSON[_0xb7c268(0xd0)](sessions)),localStorage[_0xb7c268(0x125)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x234621){console[_0xb7c268(0x171)](_0xb7c268(0x204),_0x234621);}},'loadLocal'(){const _0x2b9af1=a2_0x31f1bd;try{const _0x2376a7=localStorage[_0x2b9af1(0x17e)](KEY_CLIENTS);if(_0x2376a7)clients=JSON[_0x2b9af1(0xf9)](_0x2376a7);const _0x1e4ace=localStorage[_0x2b9af1(0x17e)](KEY_SESSIONS);if(_0x1e4ace)sessions=JSON['parse'](_0x1e4ace);const _0x30c9e3=localStorage[_0x2b9af1(0x17e)](KEY_SETTINGS);if(_0x30c9e3){const _0xadfec6=JSON[_0x2b9af1(0xf9)](_0x30c9e3);if(_0xadfec6[_0x2b9af1(0x119)])availabilityPattern=_0xadfec6[_0x2b9af1(0x119)];if(_0xadfec6[_0x2b9af1(0x16d)])dateExceptions=_0xadfec6[_0x2b9af1(0x16d)];if(_0xadfec6[_0x2b9af1(0x112)])specialRanges=_0xadfec6[_0x2b9af1(0x112)];}else{for(let _0x53826f=0x0;_0x53826f<0x7;_0x53826f++)availabilityPattern[_0x53826f]=Array[_0x2b9af1(0x97)]({'length':0xc},(_0x5defa0,_0x2357cf)=>_0x2357cf+0x9);}}catch(_0x4e9e0e){console[_0x2b9af1(0x171)]('Local\x20Load\x20Error',_0x4e9e0e);}},async 'fetchFromServer'(_0x2d3915,_0x166952={}){const _0x29b7ab=a2_0x31f1bd,_0x45d870=window[_0x29b7ab(0x94)]?.[_0x29b7ab(0xcf)],_0xc90943={'action':_0x2d3915,'init_data':_0x45d870?.['initData']||'',..._0x166952};try{const _0x535bb7=await fetch(API_URL,{'method':_0x29b7ab(0x1b1),'headers':{'Content-Type':_0x29b7ab(0x118)},'body':JSON['stringify'](_0xc90943)}),_0x162715=await _0x535bb7['json']();if(!_0x162715['ok'])throw new Error(_0x162715[_0x29b7ab(0x171)]||_0x29b7ab(0x9d));return _0x162715[_0x29b7ab(0xa4)];}catch(_0x26a849){console[_0x29b7ab(0x171)](_0x29b7ab(0x14c)+_0x2d3915+_0x29b7ab(0x1c8),_0x26a849);throw _0x26a849;}},async 'syncLoad'(){const _0x86e415=a2_0x31f1bd,_0x13de54=new Date(),_0x208d7b=_0x13de54[_0x86e415(0xe9)]()+'-'+String(_0x13de54['getMonth']()+0x1)['padStart'](0x2,'0'),_0x1df00f=new Date(_0x13de54);_0x1df00f[_0x86e415(0x1e4)](_0x13de54['getMonth']()+0x1);const _0x1b7f3a=_0x1df00f['getFullYear']()+'-'+String(_0x1df00f['getMonth']()+0x1)[_0x86e415(0xb7)](0x2,'0'),_0x5ca459=Date[_0x86e415(0x1bd)]();console[_0x86e415(0xb1)](_0x86e415(0x1a0)+_0x208d7b+',\x20'+_0x1b7f3a+_0x86e415(0x144));try{const [_0x28bf37,_0x1581ce]=await Promise['all']([this['fetchFromServer'](_0x86e415(0xe0),{'month_str':_0x208d7b}),this[_0x86e415(0x10c)](_0x86e415(0xe0),{'month_str':_0x1b7f3a})]);if(lastUserActionTime>_0x5ca459)return console[_0x86e415(0x173)](_0x86e415(0x17f)),![];return this[_0x86e415(0x1ca)](_0x28bf37,_0x208d7b),this['mergeServerData'](_0x1581ce,_0x1b7f3a),this[_0x86e415(0x18a)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0xc35a0c){console['error'](_0xc35a0c);throw _0xc35a0c;}},'mergeServerData'(_0x21efa4,_0x293619){const _0x2cc3d7=a2_0x31f1bd;if(!_0x21efa4)return;_0x21efa4['clients']&&Array[_0x2cc3d7(0x174)](_0x21efa4[_0x2cc3d7(0x130)])&&(clients=_0x21efa4[_0x2cc3d7(0x130)]);if(_0x21efa4[_0x2cc3d7(0xc1)]){if(_0x21efa4[_0x2cc3d7(0xc1)][_0x2cc3d7(0x119)])availabilityPattern=_0x21efa4['settings']['pattern'];if(_0x21efa4[_0x2cc3d7(0xc1)][_0x2cc3d7(0x16d)])dateExceptions=_0x21efa4[_0x2cc3d7(0xc1)]['exceptions'];if(_0x21efa4[_0x2cc3d7(0xc1)][_0x2cc3d7(0x112)])specialRanges=_0x21efa4[_0x2cc3d7(0xc1)][_0x2cc3d7(0x112)];if(_0x21efa4['settings'][_0x2cc3d7(0x137)]){localStorage[_0x2cc3d7(0x125)](_0x2cc3d7(0x120),_0x21efa4['settings'][_0x2cc3d7(0x137)]);const _0x2de9e4=document['getElementById'](_0x2cc3d7(0xe5));if(_0x2de9e4)_0x2de9e4[_0x2cc3d7(0x16f)]=_0x21efa4['settings'][_0x2cc3d7(0x137)];}}_0x21efa4[_0x2cc3d7(0x18e)]&&(sessions=sessions[_0x2cc3d7(0x15f)](_0xdef906=>!_0xdef906['dateStr']['startsWith'](_0x293619)),Object['keys'](_0x21efa4['calendar'])[_0x2cc3d7(0x1e5)](_0x4e1cbb=>{const _0x70eb9a=_0x2cc3d7,_0x48785b=_0x21efa4[_0x70eb9a(0x18e)][_0x4e1cbb];_0x48785b[_0x70eb9a(0x1e5)](_0x1b91a0=>{const _0x4ef32c=_0x70eb9a,_0x4b17f8=clients[_0x4ef32c(0x200)](_0x45ae4b=>String(_0x45ae4b['id'])===String(_0x1b91a0['c']));sessions[_0x4ef32c(0x1bb)]({'id':_0x1b91a0['i'],'clientId':_0x1b91a0['c'],'client':_0x4b17f8?_0x4b17f8[_0x4ef32c(0x162)]:_0x4ef32c(0x17b),'dateStr':_0x293619+'-'+_0x4e1cbb[_0x4ef32c(0xb7)](0x2,'0'),'start':_0x1b91a0['s'],'end':_0x1b91a0['e'],'status':_0x1b91a0['st']||_0x4ef32c(0x1d9),'note':_0x1b91a0['n']||'','seriesId':_0x1b91a0[_0x4ef32c(0x19c)]||null});});}));},async 'syncBatch'(_0x5b712a){const _0x136450=a2_0x31f1bd,_0x3000c1=[...new Set(_0x5b712a)],_0x2967fd=_0x3000c1['map'](_0x3e4a36=>{const _0x505f82=a2_0x3081,_0x10f640=sessions[_0x505f82(0x15f)](_0x197c86=>_0x197c86[_0x505f82(0xd5)]===_0x3e4a36&&_0x197c86[_0x505f82(0x81)]!==_0x505f82(0x84)),_0xc5382c=_0x10f640[_0x505f82(0x177)](_0x101731=>({'i':_0x101731['id'],'c':_0x101731['clientId'],'s':_0x101731['start'],'e':_0x101731['end'],'st':_0x101731[_0x505f82(0x81)],'n':_0x101731['note'],'sid':_0x101731[_0x505f82(0xb3)]}));return{'date':_0x3e4a36,'day_data':_0xc5382c};});if(_0x2967fd[_0x136450(0x8c)]===0x0)return;console[_0x136450(0xb1)](_0x136450(0x14f)+_0x2967fd[_0x136450(0x8c)]+_0x136450(0x102)),await this[_0x136450(0x10c)](_0x136450(0x170),{'changes':_0x2967fd});}};async function init(){const _0x1cf8a1=a2_0x31f1bd;DataManager[_0x1cf8a1(0x18d)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x1cf8a1(0x10b)]('matrixViewport')[_0x1cf8a1(0x19d)](_0x1cf8a1(0x143),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x1cf8a1(0x1a2)]()['then'](()=>{const _0x528a3d=_0x1cf8a1;showToast(_0x528a3d(0xce),!![]);})['catch'](_0x5caf3e=>{showToast('–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º',![]);});}function generateId(){const _0xc0308f=a2_0x31f1bd;return Date[_0xc0308f(0x1bd)]()[_0xc0308f(0x14b)](0x24)+Math['random']()[_0xc0308f(0x14b)](0x24)['substr'](0x2,0x5);}function toggleSeriesInput(){const _0x1f827b=a2_0x31f1bd,_0x4919a8=document[_0x1f827b(0x10b)](_0x1f827b(0x206))[_0x1f827b(0x90)],_0x11beaa=document['getElementById']('seriesCountContainer');_0x11beaa[_0x1f827b(0x1ce)][_0x1f827b(0x16c)]=_0x4919a8?'block':'none';const _0x5cb800=document[_0x1f827b(0x10b)]('recurringOptionContainer');_0x5cb800[_0x1f827b(0x1ce)][_0x1f827b(0xfc)]=_0x4919a8?_0x1f827b(0x12f):_0x1f827b(0x148);}function openAddSession(_0x155ed9){const _0x11fbc5=a2_0x31f1bd;editingId=null,populateClientSelect(),document[_0x11fbc5(0x10b)](_0x11fbc5(0x98))[_0x11fbc5(0x1c5)]=_0x11fbc5(0x116),document['getElementById'](_0x11fbc5(0x1ec))['style']['display']=_0x11fbc5(0x13e),document[_0x11fbc5(0x10b)](_0x11fbc5(0xbd))[_0x11fbc5(0x1ce)]['display']=_0x11fbc5(0x13e);const _0x5a3627=document['getElementById'](_0x11fbc5(0xcb)),_0x4b01d9=document['getElementById'](_0x11fbc5(0xaf));_0x5a3627[_0x11fbc5(0x1ce)]['display']='flex',_0x5a3627['style'][_0x11fbc5(0xfc)]=_0x11fbc5(0x148),document['getElementById'](_0x11fbc5(0x206))[_0x11fbc5(0x90)]=![],document[_0x11fbc5(0x10b)](_0x11fbc5(0x8a))[_0x11fbc5(0x16f)]=0x4,_0x4b01d9[_0x11fbc5(0x1ce)][_0x11fbc5(0x16c)]=_0x11fbc5(0x13e),document['getElementById'](_0x11fbc5(0xd6))[_0x11fbc5(0x16f)]=getLocalDateStr(_0x155ed9),updateDateDisplay();const _0x308a06=_0x155ed9[_0x11fbc5(0x1ba)]();document[_0x11fbc5(0x10b)](_0x11fbc5(0x13a))[_0x11fbc5(0x16f)]=String(_0x308a06)[_0x11fbc5(0xb7)](0x2,'0')+_0x11fbc5(0xa6),document[_0x11fbc5(0x10b)](_0x11fbc5(0x19a))[_0x11fbc5(0x16f)]=String(_0x308a06+0x1)[_0x11fbc5(0xb7)](0x2,'0')+_0x11fbc5(0xa6),openSheet('sessionSheet');}function openEdit(_0x6b64e1){const _0x1b4ae6=a2_0x31f1bd;editingId=_0x6b64e1['id'],populateClientSelect(),document[_0x1b4ae6(0x10b)](_0x1b4ae6(0x98))[_0x1b4ae6(0x1c5)]=_0x1b4ae6(0x201),document[_0x1b4ae6(0x10b)](_0x1b4ae6(0x1ec))[_0x1b4ae6(0x1ce)][_0x1b4ae6(0x16c)]='block';const _0xcb1d32=document[_0x1b4ae6(0x10b)]('btnStatusToggle');_0xcb1d32[_0x1b4ae6(0x1ce)][_0x1b4ae6(0x16c)]=_0x1b4ae6(0x82);_0x6b64e1[_0x1b4ae6(0x81)]===_0x1b4ae6(0x1a1)?(_0xcb1d32['className']='btn-status-toggle\x20undo-mode',_0xcb1d32['innerHTML']=_0x1b4ae6(0x16b)):(_0xcb1d32[_0x1b4ae6(0x17d)]=_0x1b4ae6(0x1da),_0xcb1d32[_0x1b4ae6(0x10e)]=_0x1b4ae6(0xec));const _0xb4c8bf=!!_0x6b64e1[_0x1b4ae6(0xb3)];document[_0x1b4ae6(0x10b)](_0x1b4ae6(0xcb))[_0x1b4ae6(0x1ce)][_0x1b4ae6(0x16c)]='none',document['getElementById'](_0x1b4ae6(0xaf))[_0x1b4ae6(0x1ce)][_0x1b4ae6(0x16c)]='none',_0xb4c8bf?(document[_0x1b4ae6(0x10b)](_0x1b4ae6(0xeb))[_0x1b4ae6(0x1ce)][_0x1b4ae6(0x16c)]=_0x1b4ae6(0x82),document['getElementById']('patternInfoBox')[_0x1b4ae6(0x1b6)](_0x1b4ae6(0x8d))[_0x1b4ae6(0x1c5)]=_0x1b4ae6(0x193)):document[_0x1b4ae6(0x10b)](_0x1b4ae6(0xeb))[_0x1b4ae6(0x1ce)]['display']='none',document[_0x1b4ae6(0x10b)](_0x1b4ae6(0x153))[_0x1b4ae6(0x16f)]=_0x6b64e1[_0x1b4ae6(0x1ac)],document['getElementById']('inpDate')[_0x1b4ae6(0x16f)]=_0x6b64e1[_0x1b4ae6(0xd5)],document['getElementById'](_0x1b4ae6(0x13a))[_0x1b4ae6(0x16f)]=_0x6b64e1[_0x1b4ae6(0x191)],document['getElementById']('inpEnd')[_0x1b4ae6(0x16f)]=_0x6b64e1[_0x1b4ae6(0xbb)],document[_0x1b4ae6(0x10b)](_0x1b4ae6(0x180))['value']=_0x6b64e1[_0x1b4ae6(0xed)]||'',updateDateDisplay(),openSheet(_0x1b4ae6(0x9e));}async function trySaveSession(){const _0x911554=a2_0x31f1bd,_0x3cf4e5=document[_0x911554(0x10b)]('inpClient')[_0x911554(0x16f)],_0x22bba8=document[_0x911554(0x10b)](_0x911554(0xd6))['value'],_0x2fdd7c=document['getElementById'](_0x911554(0x13a))['value'],_0x2580e9=document[_0x911554(0x10b)](_0x911554(0x19a))['value'],_0x2999f8=document[_0x911554(0x10b)](_0x911554(0x180))[_0x911554(0x16f)],_0x151890=document[_0x911554(0x10b)](_0x911554(0x206))[_0x911554(0x90)];let _0x2abc7c=0x4;if(_0x151890){const _0x14f8d8=parseInt(document[_0x911554(0x10b)](_0x911554(0x8a))[_0x911554(0x16f)]);if(!_0x14f8d8||_0x14f8d8<0x2){showToast(_0x911554(0xd8),![]);return;}if(_0x14f8d8>0x64){showToast(_0x911554(0xee),![]);return;}_0x2abc7c=_0x14f8d8;}const _0x28d9a1=clients['find'](_0x4c486c=>_0x4c486c['name']===_0x3cf4e5);if(!_0x28d9a1){showToast(_0x911554(0x1a4),![]);return;}const _0x5cbb8b=validateAppointment(_0x22bba8,_0x2fdd7c,_0x2580e9,editingId,_0x28d9a1['id']);if(!_0x5cbb8b[_0x911554(0x109)]){showToast(_0x5cbb8b['msg'],![]);return;}_0x5cbb8b['warning']&&showToast(_0x5cbb8b[_0x911554(0x187)],![]);const _0x1ff44b={'client':_0x3cf4e5,'clientId':_0x28d9a1['id'],'start':_0x2fdd7c,'end':_0x2580e9,'note':_0x2999f8,'status':_0x911554(0x1d9)},_0x1a1cb3=editingId?sessions[_0x911554(0x200)](_0x536c64=>_0x536c64['id']===editingId):null;if(_0x1a1cb3&&_0x1a1cb3['seriesId']){tempSessionData={..._0x1ff44b,'dateStr':_0x22bba8,'id':editingId,'seriesId':_0x1a1cb3[_0x911554(0xb3)]},openActionSheet('save');return;}let _0x11e9cb=null;if(!editingId)_0x11e9cb=_0x911554(0x1a7);else{if(_0x1a1cb3){if(String(_0x1a1cb3[_0x911554(0x1ff)])!==String(_0x28d9a1['id']))console[_0x911554(0xb1)](_0x911554(0x8e)),NotificationManager[_0x911554(0x115)](_0x911554(0x1d8),_0x1a1cb3),_0x11e9cb='create';else(_0x1a1cb3['start']!==_0x2fdd7c||_0x1a1cb3['end']!==_0x2580e9||_0x1a1cb3[_0x911554(0xd5)]!==_0x22bba8)&&(_0x11e9cb=_0x911554(0x1c2));}}if(!editingId&&_0x151890){createBatchSeries(_0x1ff44b,_0x22bba8,_0x2abc7c),NotificationManager[_0x911554(0x115)](_0x911554(0x1a7),{..._0x1ff44b,'dateStr':_0x22bba8});return;}lastUserActionTime=Date['now']();const _0x347624={..._0x1ff44b,'dateStr':_0x22bba8,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x347624),_0x11e9cb&&NotificationManager[_0x911554(0x115)](_0x11e9cb,_0x347624);}function toggleSessionStatus(){const _0x2d2791=a2_0x31f1bd;lastUserActionTime=Date['now']();const _0x3be858=sessions[_0x2d2791(0x200)](_0x5ca7a9=>_0x5ca7a9['id']===editingId);if(!_0x3be858)return;const _0x31d182=_0x3be858[_0x2d2791(0x81)]===_0x2d2791(0x1a1)?_0x2d2791(0x1d9):_0x2d2791(0x1a1);_0x3be858[_0x2d2791(0x81)]=_0x31d182,saveSingleSession(_0x3be858),_0x31d182===_0x2d2791(0x1a1)&&NotificationManager[_0x2d2791(0x115)](_0x2d2791(0x117),_0x3be858),showToast(_0x31d182===_0x2d2791(0x1a1)?_0x2d2791(0x110):'–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω',!![]);}function validateAppointment(_0x3bd7d9,_0x34c9da,_0xe2e1f9,_0x462847,_0x4c55c0){const _0x951c44=a2_0x31f1bd,[_0x144ba1,_0x252110]=_0x34c9da[_0x951c44(0x19e)](':')[_0x951c44(0x177)](Number),[_0x4ab6b0,_0x4dc31b]=_0xe2e1f9[_0x951c44(0x19e)](':')[_0x951c44(0x177)](Number),_0x5f1144=_0x144ba1*0x3c+_0x252110,_0x44a10f=_0x4ab6b0*0x3c+_0x4dc31b,_0x510ea3=String(_0x4c55c0);let _0x19ede4=![],_0xc79883='';for(let _0x2caab9 of sessions){if(_0x2caab9['dateStr']!==_0x3bd7d9)continue;if(_0x2caab9[_0x951c44(0x81)]==='cancelled')continue;if(_0x462847&&String(_0x2caab9['id'])===String(_0x462847))continue;const [_0x268b63,_0x31c337]=_0x2caab9[_0x951c44(0x191)][_0x951c44(0x19e)](':')[_0x951c44(0x177)](Number),[_0x59b928,_0x1abf04]=_0x2caab9['end'][_0x951c44(0x19e)](':')['map'](Number),_0x535a77=_0x268b63*0x3c+_0x31c337,_0x1e445d=_0x59b928*0x3c+_0x1abf04;if(Math[_0x951c44(0x1b7)](_0x5f1144,_0x535a77)<Math[_0x951c44(0xe6)](_0x44a10f,_0x1e445d)){if(_0x2caab9[_0x951c44(0x1ff)]&&String(_0x2caab9[_0x951c44(0x1ff)])===_0x510ea3)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0x2caab9[_0x951c44(0x1ac)]+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x19ede4=!![],_0xc79883=_0x2caab9['client'];}}if(_0x19ede4)return{'valid':!![],'warning':_0x951c44(0xb8)+_0xc79883};return{'valid':!![]};}function saveSingleSession(_0x2a462c){const _0x35817e=a2_0x31f1bd;if(editingId){const _0x1a11dd=sessions[_0x35817e(0x192)](_0x3745ad=>_0x3745ad['id']===editingId);if(_0x1a11dd!==-0x1)sessions[_0x1a11dd]=_0x2a462c;}else sessions['push'](_0x2a462c);afterSaveAction([_0x2a462c[_0x35817e(0xd5)]]);}function createBatchSeries(_0x42c6be,_0x41388b,_0x57dbef){const _0x3a95ae=a2_0x31f1bd,_0x2157a2=generateId(),_0x2d5ced=[],_0x1b371e=[];let _0x18e9d8=0x0,_0x58c344=new Date(_0x41388b);for(let _0x329612=0x0;_0x329612<_0x57dbef;_0x329612++){const _0x1465c5=getLocalDateStr(_0x58c344),_0x9db462=validateAppointment(_0x1465c5,_0x42c6be['start'],_0x42c6be[_0x3a95ae(0xbb)],null,_0x42c6be[_0x3a95ae(0x1ff)]);if(!_0x9db462[_0x3a95ae(0x109)])console['log'](_0x3a95ae(0xbc)+_0x1465c5+_0x3a95ae(0x104)),_0x18e9d8++;else{const _0x5c4ab5={..._0x42c6be,'id':generateId(),'dateStr':_0x1465c5,'seriesId':_0x2157a2};_0x1b371e[_0x3a95ae(0x1bb)](_0x5c4ab5),_0x2d5ced['push'](_0x1465c5);}_0x58c344[_0x3a95ae(0x95)](_0x58c344['getDate']()+0x7);}if(_0x1b371e[_0x3a95ae(0x8c)]===0x0){showToast(_0x3a95ae(0x10d),![]);return;}sessions[_0x3a95ae(0x1bb)](..._0x1b371e),lastUserActionTime=Date[_0x3a95ae(0x1bd)]();let _0x35ded9=_0x3a95ae(0x88)+_0x1b371e[_0x3a95ae(0x8c)];_0x18e9d8>0x0&&(_0x35ded9+=_0x3a95ae(0x188)+_0x18e9d8+')'),showToast(_0x35ded9,!![]),afterSaveAction(_0x2d5ced);}function updateSeriesBatch(_0x2359bf,_0x299c96){const _0x23f0b9=a2_0x31f1bd,_0x237a44=[],_0x52123e=_0x299c96[_0x23f0b9(0xb3)];if(_0x2359bf===_0x23f0b9(0xa9)){const _0x3cb972={..._0x299c96,'seriesId':null},_0x678769=sessions[_0x23f0b9(0x192)](_0x47c858=>_0x47c858['id']===_0x299c96['id']);if(_0x678769!==-0x1)sessions[_0x678769]=_0x3cb972;_0x237a44['push'](_0x3cb972[_0x23f0b9(0xd5)]);}else{if(_0x2359bf==='series'){const _0x11a13b=_0x299c96[_0x23f0b9(0xd5)];sessions['forEach']((_0x4d77bb,_0xd7fa31)=>{const _0x24c5f5=_0x23f0b9;_0x4d77bb['seriesId']===_0x52123e&&_0x4d77bb[_0x24c5f5(0xd5)]>=_0x11a13b&&(sessions[_0xd7fa31]={...sessions[_0xd7fa31],'start':_0x299c96['start'],'end':_0x299c96[_0x24c5f5(0xbb)],'note':_0x299c96['note'],'client':_0x299c96[_0x24c5f5(0x1ac)],'clientId':_0x299c96[_0x24c5f5(0x1ff)]},_0x237a44[_0x24c5f5(0x1bb)](_0x4d77bb[_0x24c5f5(0xd5)]));});}}afterSaveAction(_0x237a44);}function tryDeleteSession(){const _0x252893=a2_0x31f1bd,_0xdbc0bc=sessions[_0x252893(0x200)](_0x37ae28=>_0x37ae28['id']===editingId);if(!_0xdbc0bc)return;_0xdbc0bc[_0x252893(0xb3)]?openActionSheet(_0x252893(0x184)):commitDelete(_0x252893(0xa9),_0xdbc0bc);}function commitDelete(_0x70ad58,_0x2f1e8f){const _0xf88975=a2_0x31f1bd;lastUserActionTime=Date[_0xf88975(0x1bd)](),NotificationManager['send'](_0xf88975(0x1d8),_0x2f1e8f);const _0x2790f9=[];if(_0x70ad58===_0xf88975(0xa9))sessions=sessions[_0xf88975(0x15f)](_0x4415e0=>_0x4415e0['id']!==_0x2f1e8f['id']),_0x2790f9[_0xf88975(0x1bb)](_0x2f1e8f[_0xf88975(0xd5)]);else{if(_0x70ad58===_0xf88975(0xf4)){const _0x2ec13b=_0x2f1e8f[_0xf88975(0xd5)],_0x33fa13=_0x2f1e8f[_0xf88975(0xb3)];sessions[_0xf88975(0x1e5)](_0x24e9b3=>{const _0x44c44e=_0xf88975;_0x24e9b3['seriesId']===_0x33fa13&&_0x24e9b3['dateStr']>=_0x2ec13b&&_0x2790f9[_0x44c44e(0x1bb)](_0x24e9b3['dateStr']);}),sessions=sessions[_0xf88975(0x15f)](_0xdf4911=>!(_0xdf4911[_0xf88975(0xb3)]===_0x33fa13&&_0xdf4911[_0xf88975(0xd5)]>=_0x2ec13b));}}afterSaveAction(_0x2790f9);}function afterSaveAction(_0xa769ee){const _0x2efc78=a2_0x31f1bd;DataManager['saveLocally'](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager['syncBatch'](_0xa769ee)['then'](()=>console['log'](_0x2efc78(0x1f7)))[_0x2efc78(0xde)](_0x57bca8=>showToast(_0x2efc78(0x1db),![]));}const NotificationManager={'formatDate'(_0x54ce40){const _0x635ec7=a2_0x31f1bd,_0xd60d22=new Date(_0x54ce40),_0x489482={'weekday':_0x635ec7(0x19b),'day':'numeric','month':_0x635ec7(0x19b)};let _0x42eee5=_0xd60d22[_0x635ec7(0x160)](_0x635ec7(0x12e),_0x489482);return _0x42eee5[_0x635ec7(0x1aa)](0x0)[_0x635ec7(0x13d)]()+_0x42eee5[_0x635ec7(0x189)](0x1);},'getText'(_0x3a718a,_0x30393b){const _0xe4ab86=a2_0x31f1bd,_0xdd017=this[_0xe4ab86(0x8b)](_0x30393b[_0xe4ab86(0xd5)]);switch(_0x3a718a){case _0xe4ab86(0x1a7):return _0xe4ab86(0x1cc)+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0xdd017+'\x0a')+(_0xe4ab86(0xd2)+_0x30393b[_0xe4ab86(0x191)]+_0xe4ab86(0x207)+_0x30393b[_0xe4ab86(0xbb)]+'\x0a\x0a')+_0xe4ab86(0x159);case _0xe4ab86(0x1c2):return _0xe4ab86(0x1e7)+_0xe4ab86(0x1d3)+(_0xe4ab86(0x1a9)+_0x30393b['start']+_0xe4ab86(0x207)+_0x30393b['end']+'</b>\x0a\x0a')+(_0xe4ab86(0x114)+_0xdd017);case _0xe4ab86(0x1d8):return _0xe4ab86(0x1d2)+('–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>'+_0xdd017+'\x20('+_0x30393b[_0xe4ab86(0x191)]+_0xe4ab86(0x190));case _0xe4ab86(0x117):return'<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a'+_0xe4ab86(0x96)+'<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>';default:return'';}},async 'send'(_0x4b4354,_0x7eeac7){const _0x1833a2=a2_0x31f1bd;console[_0x1833a2(0xb1)](_0x1833a2(0x10a),_0x4b4354,_0x7eeac7);if(!_0x7eeac7){console['error']('[Notify]\x20Error:\x20sessionData\x20is\x20null');return;}const _0x342a56=String(_0x7eeac7[_0x1833a2(0x1ff)]);console[_0x1833a2(0xb1)](_0x1833a2(0x11b),_0x342a56);if(!_0x7eeac7['clientId']||_0x342a56===_0x1833a2(0xc8)||_0x342a56===_0x1833a2(0x9b)){console[_0x1833a2(0x171)](_0x1833a2(0x1e2));if(_0x7eeac7[_0x1833a2(0x1ac)]){const _0x2fefb6=clients[_0x1833a2(0x200)](_0x404b52=>_0x404b52[_0x1833a2(0x162)]===_0x7eeac7[_0x1833a2(0x1ac)]);if(_0x2fefb6)return console['log'](_0x1833a2(0xb6),_0x2fefb6['id']),this[_0x1833a2(0x115)](_0x4b4354,{..._0x7eeac7,'clientId':_0x2fefb6['id']});}return;}if(_0x342a56['length']<0x5){console[_0x1833a2(0x173)]('[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)',_0x342a56);return;}const _0x3dd3c6=this[_0x1833a2(0x11f)](_0x4b4354,_0x7eeac7);if(!_0x3dd3c6){console['error'](_0x1833a2(0x101));return;}console[_0x1833a2(0xb1)](_0x1833a2(0xc3)+_0x342a56+_0x1833a2(0x144)),DataManager['fetchFromServer'](_0x1833a2(0x1bc),{'chatId':_0x342a56,'text':_0x3dd3c6})[_0x1833a2(0x103)](_0xe6594c=>console[_0x1833a2(0xb1)]('[Notify]\x20Server\x20Response:',_0xe6594c))[_0x1833a2(0xde)](_0x5a7204=>console[_0x1833a2(0x171)](_0x1833a2(0xc2),_0x5a7204));}};function getLocalDateStr(_0x1e3afe){const _0xeb4fcc=a2_0x31f1bd,_0x5d15b6=_0x1e3afe['getFullYear'](),_0x3b5f10=String(_0x1e3afe[_0xeb4fcc(0xa5)]()+0x1)[_0xeb4fcc(0xb7)](0x2,'0'),_0x5ac674=String(_0x1e3afe[_0xeb4fcc(0x89)]())['padStart'](0x2,'0');return _0x5d15b6+'-'+_0x3b5f10+'-'+_0x5ac674;}function getDateStr(_0x1a5c3c){const _0x57dd53=a2_0x31f1bd,_0x2f9e69=new Date();return _0x2f9e69[_0x57dd53(0x95)](_0x2f9e69['getDate']()+_0x1a5c3c),getLocalDateStr(_0x2f9e69);}function getStartOfWeek(_0x4b4e6e){const _0x4c6f7d=a2_0x31f1bd,_0x350274=(function(){let _0x2dd815=!![];return function(_0x3448a1,_0x13af13){const _0x46ec82=_0x2dd815?function(){const _0x50a18e=a2_0x3081;if(_0x13af13){const _0x245bd4=_0x13af13[_0x50a18e(0x123)](_0x3448a1,arguments);return _0x13af13=null,_0x245bd4;}}:function(){};return _0x2dd815=![],_0x46ec82;};}()),_0x3f3ef2=_0x350274(this,function(){const _0x1fd117=a2_0x3081;return _0x3f3ef2[_0x1fd117(0x14b)]()[_0x1fd117(0xd9)](_0x1fd117(0x1d1))[_0x1fd117(0x14b)]()[_0x1fd117(0x135)](_0x3f3ef2)[_0x1fd117(0xd9)]('(((.+)+)+)+$');});_0x3f3ef2();const _0x25e68c=new Date(_0x4b4e6e),_0x563400=_0x25e68c[_0x4c6f7d(0x157)](),_0x381f4a=_0x25e68c['getDate']()-_0x563400+(_0x563400===0x0?-0x6:0x1);return _0x25e68c[_0x4c6f7d(0x95)](_0x381f4a),_0x25e68c['setHours'](0x0,0x0,0x0,0x0),_0x25e68c;}function hexToRgba(_0x56da0e,_0x165b3e){if(!_0x56da0e)return'rgba(100,100,100,0.5)';let _0x2cdb7f=0x0,_0x277c32=0x0,_0xd7ac00=0x0;if(_0x56da0e['length']===0x4)_0x2cdb7f='0x'+_0x56da0e[0x1]+_0x56da0e[0x1],_0x277c32='0x'+_0x56da0e[0x2]+_0x56da0e[0x2],_0xd7ac00='0x'+_0x56da0e[0x3]+_0x56da0e[0x3];else _0x56da0e['length']===0x7&&(_0x2cdb7f='0x'+_0x56da0e[0x1]+_0x56da0e[0x2],_0x277c32='0x'+_0x56da0e[0x3]+_0x56da0e[0x4],_0xd7ac00='0x'+_0x56da0e[0x5]+_0x56da0e[0x6]);return'rgba('+ +_0x2cdb7f+',\x20'+ +_0x277c32+',\x20'+ +_0xd7ac00+',\x20'+_0x165b3e+')';}function renderTimeColumn(){const _0x2c8b70=a2_0x31f1bd,_0x5b183a=document[_0x2c8b70(0x10b)](_0x2c8b70(0x1b4)),_0x1fff51=document[_0x2c8b70(0x10b)]('timeLineBadge');_0x5b183a[_0x2c8b70(0x10e)]='',_0x5b183a[_0x2c8b70(0x156)](_0x1fff51);for(let _0x280f99=0x0;_0x280f99<0x18;_0x280f99++){const _0x542381=document['createElement'](_0x2c8b70(0x169));_0x542381['className']='time-label';if(_0x280f99>0x0)_0x542381[_0x2c8b70(0x10e)]=_0x2c8b70(0xd1)+String(_0x280f99)[_0x2c8b70(0xb7)](0x2,'0')+_0x2c8b70(0xba);_0x5b183a[_0x2c8b70(0x156)](_0x542381);}}function renderDayRange(_0x4cbe7c,_0x44f3d5){const _0x3e1201=a2_0x31f1bd,_0x3ea0a9=document[_0x3e1201(0x10b)](_0x3e1201(0x1e0)),_0x25668a=document[_0x3e1201(0x10b)]('gridColumns'),_0x755e4b=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x3ebbb2=new Date();_0x3ebbb2['setHours'](0x0,0x0,0x0,0x0);const _0x1aa2ba=getLocalDateStr(new Date());for(let _0x42214e=_0x4cbe7c;_0x42214e<=_0x44f3d5;_0x42214e++){const _0xbd713=new Date(_0x3ebbb2);_0xbd713[_0x3e1201(0x95)](_0xbd713[_0x3e1201(0x89)]()+_0x42214e);const _0x44c4dc=getLocalDateStr(_0xbd713);let _0x41c7c0=_0xbd713['getDay']()-0x1;if(_0x41c7c0===-0x1)_0x41c7c0=0x6;const _0x4c3d93=_0x44c4dc===_0x1aa2ba,_0x24a585=document[_0x3e1201(0xd3)](_0x3e1201(0x169));_0x24a585[_0x3e1201(0x17d)]=_0x3e1201(0x205)+(_0x4c3d93?_0x3e1201(0x1eb):''),_0x24a585['id']=_0x3e1201(0xdf)+_0x44c4dc,_0x24a585[_0x3e1201(0x111)]('data-date',_0x44c4dc),_0x24a585['innerHTML']=_0x3e1201(0x14a)+_0x755e4b[_0x41c7c0]+'</div><div\x20class=\x22dch-num\x22>'+_0xbd713[_0x3e1201(0x89)]()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0x44c4dc+_0x3e1201(0x1f4),_0x24a585[_0x3e1201(0xc5)]=()=>openDayOptions(_0x44c4dc,_0x755e4b[_0x41c7c0]+'\x20'+_0xbd713['getDate']()),_0x3ea0a9[_0x3e1201(0x156)](_0x24a585);const _0xb45f7b=document[_0x3e1201(0xd3)]('div');_0xb45f7b[_0x3e1201(0x17d)]=_0x3e1201(0x196)+(_0x4c3d93?_0x3e1201(0x1eb):''),_0xb45f7b[_0x3e1201(0x111)]('data-date',_0x44c4dc),_0xb45f7b[_0x3e1201(0x111)](_0x3e1201(0x1df),_0x41c7c0),renderEventsForColumn(_0xb45f7b,_0x44c4dc,_0x41c7c0),attachLongPressHandler(_0xb45f7b,_0xbd713),_0x25668a['appendChild'](_0xb45f7b),updateDayStats(_0x44c4dc);}}function reRenderBlocks(){const _0x5c6c71=a2_0x31f1bd;document[_0x5c6c71(0x1e9)](_0x5c6c71(0xb4))[_0x5c6c71(0x1e5)](_0x20e0bc=>{const _0x4968b1=_0x5c6c71;_0x20e0bc[_0x4968b1(0x1e9)](_0x4968b1(0x1f6))[_0x4968b1(0x1e5)](_0x3fbd36=>_0x3fbd36[_0x4968b1(0x1ab)]());const _0x1c6ca2=_0x20e0bc[_0x4968b1(0x1ee)](_0x4968b1(0x1c6)),_0x22b109=parseInt(_0x20e0bc[_0x4968b1(0x1ee)](_0x4968b1(0x1df))),_0x1f1288=Math['round'](_0x20e0bc[_0x4968b1(0x122)]);(availabilityPattern[_0x22b109]||[])['forEach'](_0x1d35f7=>{const _0x362ec1=_0x4968b1,_0x19c5b0=document['createElement'](_0x362ec1(0x169));_0x19c5b0[_0x362ec1(0x17d)]='blocked-slot\x20stripe-bg';const _0x21cf24=_0x1d35f7*GRID_H;_0x19c5b0[_0x362ec1(0x1ce)][_0x362ec1(0x1be)]=_0x21cf24+'px',_0x19c5b0[_0x362ec1(0x1ce)]['backgroundPosition']='-'+_0x1f1288+_0x362ec1(0x1b9)+_0x21cf24+'px',_0x20e0bc[_0x362ec1(0x156)](_0x19c5b0);});if(specialRanges&&specialRanges[_0x4968b1(0x8c)]>0x0){const _0x3c1db9=new Date(_0x1c6ca2+'T00:00:00')[_0x4968b1(0x1f1)](),_0x3db91f=new Date(_0x1c6ca2+_0x4968b1(0xfe))[_0x4968b1(0x1f1)]();specialRanges['forEach'](_0x1fbecd=>{const _0x592f9f=_0x4968b1,_0x520f26=new Date(_0x1fbecd[_0x592f9f(0x191)])[_0x592f9f(0x1f1)](),_0x5ca4c7=new Date(_0x1fbecd[_0x592f9f(0xbb)])['getTime'](),_0x3610a6=Math[_0x592f9f(0x1b7)](_0x3c1db9,_0x520f26),_0x886492=Math[_0x592f9f(0xe6)](_0x3db91f,_0x5ca4c7);if(_0x3610a6<_0x886492){if(_0x3610a6<=_0x3c1db9&&_0x886492>=_0x3db91f-0xea60){if(!_0x20e0bc[_0x592f9f(0x1b6)]('.day-off-overlay')){const _0x21bcaa=document[_0x592f9f(0xd3)](_0x592f9f(0x169));_0x21bcaa[_0x592f9f(0x17d)]=_0x592f9f(0x178),_0x21bcaa['style'][_0x592f9f(0x1fc)]='-'+_0x1f1288+_0x592f9f(0xa3),_0x20e0bc[_0x592f9f(0x156)](_0x21bcaa);}}else{const _0x3cbbbd=(_0x3610a6-_0x3c1db9)/0x36ee80*GRID_H,_0x24a3a0=(_0x886492-_0x3610a6)/0x36ee80*GRID_H,_0x3722ae=document[_0x592f9f(0xd3)](_0x592f9f(0x169));_0x3722ae[_0x592f9f(0x17d)]=_0x592f9f(0x106),_0x3722ae[_0x592f9f(0x1ce)][_0x592f9f(0x1be)]=_0x3cbbbd+'px',_0x3722ae['style'][_0x592f9f(0x10f)]=_0x24a3a0+'px',_0x3722ae[_0x592f9f(0x1ce)][_0x592f9f(0x1fc)]='-'+_0x1f1288+_0x592f9f(0x1b9)+_0x3cbbbd+'px',_0x20e0bc[_0x592f9f(0x156)](_0x3722ae);}}});}if(dateExceptions[_0x1c6ca2]===_0x4968b1(0x1b3)){if(!_0x20e0bc[_0x4968b1(0x1b6)](_0x4968b1(0x100))){const _0xc7af6a=document[_0x4968b1(0xd3)]('div');_0xc7af6a[_0x4968b1(0x17d)]='day-off-overlay\x20stripe-bg',_0xc7af6a[_0x4968b1(0x1ce)][_0x4968b1(0x1fc)]='-'+_0x1f1288+_0x4968b1(0xa3),_0x20e0bc[_0x4968b1(0x156)](_0xc7af6a);}}renderEventsForColumn(_0x20e0bc,_0x1c6ca2,_0x22b109),updateDayStats(_0x1c6ca2);});}function updateAllDayStats(){const _0x3f3a59=a2_0x31f1bd;document['querySelectorAll'](_0x3f3a59(0x145))[_0x3f3a59(0x1e5)](_0x790f97=>{const _0x5f535b=_0x3f3a59;updateDayStats(_0x790f97[_0x5f535b(0x1ee)](_0x5f535b(0x1c6)));});}function updateDayStats(_0x4761e5){const _0x2ef7a3=a2_0x31f1bd,_0x42a022=document['getElementById'](_0x2ef7a3(0x199)+_0x4761e5);if(!_0x42a022)return;const _0x4fe11c=new Date(_0x4761e5);let _0x46f7a2=_0x4fe11c['getDay']()-0x1;if(_0x46f7a2===-0x1)_0x46f7a2=0x6;if(dateExceptions[_0x4761e5]===_0x2ef7a3(0x1b3)){_0x42a022['style'][_0x2ef7a3(0x16c)]=_0x2ef7a3(0x13e);return;}const _0x51617c=availabilityPattern[_0x46f7a2]||[],_0x201085=0x18-_0x51617c['length'],_0x3736b8=_0x201085*0x3c,_0x5b407b=sessions[_0x2ef7a3(0x15f)](_0x47553d=>_0x47553d[_0x2ef7a3(0xd5)]===_0x4761e5&&_0x47553d[_0x2ef7a3(0x81)]!==_0x2ef7a3(0xc7));if(_0x5b407b[_0x2ef7a3(0x8c)]===0x0){_0x42a022[_0x2ef7a3(0x1ce)][_0x2ef7a3(0x16c)]=_0x2ef7a3(0x13e);return;}let _0x1d8442=_0x5b407b['map'](_0xbecfe1=>{const _0x42be72=_0x2ef7a3,[_0x4acfdf,_0x248ff2]=_0xbecfe1[_0x42be72(0x191)][_0x42be72(0x19e)](':')[_0x42be72(0x177)](Number),[_0x4a9b93,_0x51ece9]=_0xbecfe1['end'][_0x42be72(0x19e)](':')[_0x42be72(0x177)](Number);return[_0x4acfdf*0x3c+_0x248ff2,_0x4a9b93*0x3c+_0x51ece9];});_0x1d8442[_0x2ef7a3(0xbf)]((_0x57a8d1,_0x2ce7c9)=>_0x57a8d1[0x0]-_0x2ce7c9[0x0]);let _0x114cb0=[];if(_0x1d8442['length']>0x0){let _0x43ad0d=_0x1d8442[0x0];for(let _0x5b96ce=0x1;_0x5b96ce<_0x1d8442['length'];_0x5b96ce++){_0x1d8442[_0x5b96ce][0x0]<_0x43ad0d[0x1]?_0x43ad0d[0x1]=Math['max'](_0x43ad0d[0x1],_0x1d8442[_0x5b96ce][0x1]):(_0x114cb0['push'](_0x43ad0d),_0x43ad0d=_0x1d8442[_0x5b96ce]);}_0x114cb0['push'](_0x43ad0d);}let _0x27da4a=0x0;_0x114cb0[_0x2ef7a3(0x1e5)](_0x33ebe0=>_0x27da4a+=_0x33ebe0[0x1]-_0x33ebe0[0x0]),_0x42a022['style'][_0x2ef7a3(0x16c)]='flex';const _0x1e9e70=_0x42a022['querySelector']('.dch-stats-fill');if(_0x3736b8===0x0){_0x1e9e70[_0x2ef7a3(0x1ce)]['width']=_0x2ef7a3(0x85),_0x1e9e70[_0x2ef7a3(0x1ce)][_0x2ef7a3(0x1bf)]='var(--acc-red)';return;}const _0x1bd91e=_0x27da4a/_0x3736b8*0x64;console[_0x2ef7a3(0xb1)]('['+_0x4761e5+']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20'+_0x201085+_0x2ef7a3(0x108)+_0x27da4a+'–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20'+_0x1bd91e[_0x2ef7a3(0xfa)](0x1)+'%'),_0x1bd91e>0x64?(_0x1e9e70['style'][_0x2ef7a3(0x15d)]=_0x2ef7a3(0x85),_0x1e9e70[_0x2ef7a3(0x1ce)][_0x2ef7a3(0x1bf)]='var(--acc-red)'):(_0x1e9e70[_0x2ef7a3(0x1ce)][_0x2ef7a3(0x15d)]=_0x1bd91e+'%',_0x1e9e70['style'][_0x2ef7a3(0x1bf)]=_0x2ef7a3(0xc4));}function renderEventsForColumn(_0x149465,_0x3d0d81,_0x498531){const _0x76b960=a2_0x31f1bd,_0x45b8f1=sessions['filter'](_0x4d5162=>_0x4d5162[_0x76b960(0xd5)]===_0x3d0d81),_0x5c59c2=_0x45b8f1[_0x76b960(0x177)](_0x38c57b=>{const _0x5bdb15=_0x76b960,[_0x49a55b,_0x28fd6c]=_0x38c57b[_0x5bdb15(0x191)][_0x5bdb15(0x19e)](':')[_0x5bdb15(0x177)](Number),[_0x2a1327,_0x96aed4]=_0x38c57b[_0x5bdb15(0xbb)][_0x5bdb15(0x19e)](':')[_0x5bdb15(0x177)](Number);return{'data':_0x38c57b,'start':_0x49a55b*0x3c+_0x28fd6c,'end':_0x2a1327*0x3c+_0x96aed4,'colIndex':0x0};});_0x5c59c2[_0x76b960(0xbf)]((_0x47a7a5,_0x1f636c)=>{const _0x542dbc=_0x76b960;if(_0x47a7a5['start']!==_0x1f636c['start'])return _0x47a7a5[_0x542dbc(0x191)]-_0x1f636c[_0x542dbc(0x191)];return _0x1f636c[_0x542dbc(0xbb)]-_0x1f636c['start']-(_0x47a7a5['end']-_0x47a7a5[_0x542dbc(0x191)]);});const _0x2d7355=[];_0x5c59c2[_0x76b960(0x1e5)](_0x57ced6=>{const _0x169183=_0x76b960;let _0x5ae69b=![];for(let _0x583126=0x0;_0x583126<_0x2d7355[_0x169183(0x8c)];_0x583126++){const _0x2773ae=_0x2d7355[_0x583126],_0x583f3b=_0x2773ae[_0x2773ae[_0x169183(0x8c)]-0x1];if(_0x57ced6[_0x169183(0x191)]>=_0x583f3b[_0x169183(0xbb)]){_0x2773ae[_0x169183(0x1bb)](_0x57ced6),_0x57ced6[_0x169183(0x129)]=_0x583126,_0x5ae69b=!![];break;}}!_0x5ae69b&&(_0x2d7355[_0x169183(0x1bb)]([_0x57ced6]),_0x57ced6[_0x169183(0x129)]=_0x2d7355[_0x169183(0x8c)]-0x1);}),_0x5c59c2[_0x76b960(0x1e5)](_0x261bb8=>{const _0x313cbd=_0x76b960;let _0x49b8b5=0x0;_0x5c59c2['forEach'](_0x47607a=>{const _0x2277f8=a2_0x3081;if(Math['max'](_0x261bb8[_0x2277f8(0x191)],_0x47607a[_0x2277f8(0x191)])<Math[_0x2277f8(0xe6)](_0x261bb8[_0x2277f8(0xbb)],_0x47607a[_0x2277f8(0xbb)])){if(_0x47607a[_0x2277f8(0x129)]>_0x49b8b5)_0x49b8b5=_0x47607a['colIndex'];}});const _0x306087=_0x49b8b5+0x1,_0x5d2a98=0x64/_0x306087,_0x3c5a38=_0x261bb8[_0x313cbd(0x129)]*_0x5d2a98,_0x316d0c=createEventEl(_0x261bb8[_0x313cbd(0xa4)]);_0x316d0c[_0x313cbd(0x1ce)][_0x313cbd(0x15d)]=_0x313cbd(0xb2)+_0x5d2a98+'%\x20-\x204px)',_0x316d0c[_0x313cbd(0x1ce)][_0x313cbd(0x1fe)]='calc('+_0x3c5a38+_0x313cbd(0x133),_0x316d0c[_0x313cbd(0x1ce)][_0x313cbd(0x1a5)]=0xa+_0x261bb8['colIndex'],_0x5d2a98<0x55&&_0x316d0c['classList']['add'](_0x313cbd(0x1ad)),_0x149465['appendChild'](_0x316d0c);});}function a2_0x3081(_0x59b4cd,_0x1c0608){_0x59b4cd=_0x59b4cd-0x80;const _0x3af12f=a2_0x48e1();let _0x5b0cd3=_0x3af12f[_0x59b4cd];return _0x5b0cd3;}function createEventEl(_0x31fd5d){const _0x5b30cb=a2_0x31f1bd,[_0x428559,_0xb5c39e]=_0x31fd5d[_0x5b30cb(0x191)]['split'](':')[_0x5b30cb(0x177)](Number),[_0x28fb8d,_0x315045]=_0x31fd5d['end'][_0x5b30cb(0x19e)](':')[_0x5b30cb(0x177)](Number),_0x14c464=(_0x428559*0x3c+_0xb5c39e)/0x3c*GRID_H,_0xeed4cc=(_0x28fb8d*0x3c+_0x315045-(_0x428559*0x3c+_0xb5c39e))/0x3c*GRID_H,_0x528e93=document[_0x5b30cb(0xd3)]('div'),_0x2330bb=_0x31fd5d[_0x5b30cb(0x81)]===_0x5b30cb(0x1a1)?_0x5b30cb(0x1d5):'';_0x528e93[_0x5b30cb(0x17d)]=_0x5b30cb(0xc9)+_0x2330bb,_0x528e93['style'][_0x5b30cb(0x1be)]=_0x14c464+'px',_0x528e93[_0x5b30cb(0x1ce)][_0x5b30cb(0x10f)]=Math[_0x5b30cb(0x1b7)](_0xeed4cc,0x14)+'px';const _0x5ec014=clients['find'](_0x23b917=>_0x31fd5d[_0x5b30cb(0x1ff)]&&String(_0x23b917['id'])===String(_0x31fd5d[_0x5b30cb(0x1ff)])||_0x23b917[_0x5b30cb(0x162)]===_0x31fd5d['client']),_0x4d3daf=_0x5ec014?_0x5ec014[_0x5b30cb(0xf0)]:_0x5b30cb(0x8f);_0x528e93[_0x5b30cb(0x1ce)]['borderLeftColor']=_0x4d3daf,_0x528e93['style'][_0x5b30cb(0x1cd)]=hexToRgba(_0x4d3daf,0.85);let _0x169dc5=_0x5b30cb(0xea)+_0x31fd5d['client']+'</div><div\x20class=\x22ev-time\x22>'+_0x31fd5d[_0x5b30cb(0x191)]+_0x5b30cb(0xe3)+_0x31fd5d['end']+'</div>';return _0x31fd5d[_0x5b30cb(0xb3)]&&(_0x169dc5+='<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>'),_0x31fd5d[_0x5b30cb(0x81)]==='completed'&&(_0x169dc5+=_0x5b30cb(0x142)),_0x528e93[_0x5b30cb(0x10e)]=_0x169dc5,_0x528e93[_0x5b30cb(0xc5)]=_0x273ed5=>{const _0x55d566=_0x5b30cb;_0x273ed5[_0x55d566(0xac)](),openEdit(_0x31fd5d);},_0x528e93;}function attachLongPressHandler(_0x29c6db,_0x2f07de){const _0x134854=a2_0x31f1bd;let _0x2dd568=0x0,_0x57ab9c=null;const _0x141d24=_0x1281a2=>{const _0x34140a=a2_0x3081;if(_0x1281a2[_0x34140a(0x12b)][_0x34140a(0x18c)](_0x34140a(0x12c)))return;isScrolling=![],_0x2dd568=_0x1281a2[_0x34140a(0x1f5)]?_0x1281a2[_0x34140a(0x1f5)][0x0]['clientY']:_0x1281a2['clientY'],_0x57ab9c=setTimeout(()=>{const _0x4cf7b0=_0x34140a;if(!isScrolling){navigator[_0x4cf7b0(0x121)]?.(0x32);const _0x8c8ba8=_0x29c6db['getBoundingClientRect'](),_0x5c06e5=Math[_0x4cf7b0(0x1fb)]((_0x2dd568-_0x8c8ba8[_0x4cf7b0(0x1be)])/GRID_H);_0x2f07de[_0x4cf7b0(0x1ae)](_0x5c06e5,0x0),openAddSession(_0x2f07de);}},0x1f4);},_0x4b22ea=()=>{isScrolling=!![],clearTimeout(_0x57ab9c);},_0x5d5ebb=()=>{clearTimeout(_0x57ab9c);};_0x29c6db[_0x134854(0x19d)](_0x134854(0x202),_0x141d24,{'passive':!![]}),_0x29c6db[_0x134854(0x19d)]('touchmove',_0x4b22ea,{'passive':!![]}),_0x29c6db['addEventListener'](_0x134854(0x1f8),_0x5d5ebb),_0x29c6db[_0x134854(0x19d)]('mousedown',_0x141d24),_0x29c6db['addEventListener'](_0x134854(0x163),_0x4b22ea),_0x29c6db[_0x134854(0x19d)](_0x134854(0x164),_0x5d5ebb);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x154314=a2_0x31f1bd,_0x4e617b=document[_0x154314(0x10b)]('matrixViewport'),_0x36fdc4=_0x4e617b[_0x154314(0xb5)],_0x508f41=_0x4e617b[_0x154314(0xad)],_0x1886c8=_0x4e617b['clientWidth'];if(_0x508f41-(_0x36fdc4+_0x1886c8)<0x12c){const _0x22075a=endOffset;endOffset+=0xe,renderDayRange(_0x22075a+0x1,endOffset),reRenderBlocks();}if(_0x36fdc4<0x12c){const _0x4cfc84=startOffset;startOffset-=0xe,prependDays(startOffset,_0x4cfc84-0x1),_0x4e617b[_0x154314(0xb5)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x3a1a00,_0x24ee4d){const _0x390b53=a2_0x31f1bd,_0x22a912=document[_0x390b53(0x10b)](_0x390b53(0x1e0)),_0x3ecfa3=document[_0x390b53(0x10b)](_0x390b53(0x1e1)),_0x18f5b9=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x48536f=new Date();_0x48536f[_0x390b53(0x1ae)](0x0,0x0,0x0,0x0);const _0x419a8a=getLocalDateStr(new Date()),_0x44e5ac=document['createDocumentFragment'](),_0x48c0a3=document[_0x390b53(0xfd)]();for(let _0x123b05=_0x3a1a00;_0x123b05<=_0x24ee4d;_0x123b05++){const _0x3a7f79=new Date(_0x48536f);_0x3a7f79[_0x390b53(0x95)](_0x3a7f79[_0x390b53(0x89)]()+_0x123b05);const _0x517c6e=getLocalDateStr(_0x3a7f79);let _0x41e44b=_0x3a7f79[_0x390b53(0x157)]()-0x1;if(_0x41e44b===-0x1)_0x41e44b=0x6;const _0x292ad1=_0x517c6e===_0x419a8a,_0x1ab5b2=document[_0x390b53(0xd3)](_0x390b53(0x169));_0x1ab5b2[_0x390b53(0x17d)]='day-col-header\x20'+(_0x292ad1?_0x390b53(0x1eb):''),_0x1ab5b2['id']=_0x390b53(0xdf)+_0x517c6e,_0x1ab5b2[_0x390b53(0x111)]('data-date',_0x517c6e),_0x1ab5b2[_0x390b53(0x10e)]='<div\x20class=\x22dch-day\x22>'+_0x18f5b9[_0x41e44b]+_0x390b53(0x165)+_0x3a7f79[_0x390b53(0x89)]()+_0x390b53(0xb9)+_0x517c6e+_0x390b53(0x1f4),_0x1ab5b2[_0x390b53(0xc5)]=()=>openDayOptions(_0x517c6e,_0x18f5b9[_0x41e44b]+'\x20'+_0x3a7f79['getDate']()),_0x44e5ac[_0x390b53(0x156)](_0x1ab5b2);const _0x11aa2f=document[_0x390b53(0xd3)](_0x390b53(0x169));_0x11aa2f[_0x390b53(0x17d)]='day-column\x20'+(_0x292ad1?_0x390b53(0x1eb):''),_0x11aa2f['setAttribute'](_0x390b53(0x1c6),_0x517c6e),_0x11aa2f[_0x390b53(0x111)](_0x390b53(0x1df),_0x41e44b),renderEventsForColumn(_0x11aa2f,_0x517c6e,_0x41e44b),attachLongPressHandler(_0x11aa2f,_0x3a7f79),_0x48c0a3[_0x390b53(0x156)](_0x11aa2f),updateDayStats(_0x517c6e);}_0x22a912[_0x390b53(0xc0)](_0x44e5ac,_0x22a912[_0x390b53(0x1d7)]),_0x3ecfa3[_0x390b53(0xc0)](_0x48c0a3,_0x3ecfa3[_0x390b53(0x1b6)](_0x390b53(0x166)));}function validateAppointment(_0x437f66,_0x35ede1,_0x562332,_0x4592f9,_0x34259b){const _0x2edb95=a2_0x31f1bd,[_0x1b556c,_0x5eeb85]=_0x35ede1[_0x2edb95(0x19e)](':')[_0x2edb95(0x177)](Number),[_0x479a21,_0x462fbf]=_0x562332[_0x2edb95(0x19e)](':')[_0x2edb95(0x177)](Number),_0x5aff2e=_0x1b556c*0x3c+_0x5eeb85,_0x44c34d=_0x479a21*0x3c+_0x462fbf,_0x3fe2cc=String(_0x34259b);let _0x4dbf4d=![],_0x491f4c='';for(let _0xb5ea3 of sessions){if(_0xb5ea3[_0x2edb95(0xd5)]!==_0x437f66)continue;if(_0xb5ea3[_0x2edb95(0x81)]===_0x2edb95(0xc7))continue;if(_0x4592f9&&String(_0xb5ea3['id'])===String(_0x4592f9))continue;const [_0x26d9f2,_0x415519]=_0xb5ea3['start']['split'](':')[_0x2edb95(0x177)](Number),[_0x37ab6c,_0x27def6]=_0xb5ea3[_0x2edb95(0xbb)]['split'](':')[_0x2edb95(0x177)](Number),_0x34caaa=_0x26d9f2*0x3c+_0x415519,_0x97f3ca=_0x37ab6c*0x3c+_0x27def6;if(Math['max'](_0x5aff2e,_0x34caaa)<Math[_0x2edb95(0xe6)](_0x44c34d,_0x97f3ca)){if(_0xb5ea3[_0x2edb95(0x1ff)]&&String(_0xb5ea3[_0x2edb95(0x1ff)])===_0x3fe2cc)return{'valid':![],'msg':_0x2edb95(0x185)+_0xb5ea3[_0x2edb95(0x1ac)]+_0x2edb95(0x152)};_0x4dbf4d=!![],_0x491f4c=_0xb5ea3['client'];}}if(_0x4dbf4d)return{'valid':!![],'warning':_0x2edb95(0xb8)+_0x491f4c};return{'valid':!![]};}function updateDateDisplay(){const _0x1dc551=a2_0x31f1bd,_0x28339e=document[_0x1dc551(0x10b)](_0x1dc551(0xd6))[_0x1dc551(0x16f)],_0x4aee2a=document[_0x1dc551(0x10b)]('sheetDateSubtitle');if(!_0x28339e){_0x4aee2a[_0x1dc551(0x1c5)]='';return;}const [_0x5c7910,_0x137e65,_0x1239f6]=_0x28339e[_0x1dc551(0x19e)]('-')[_0x1dc551(0x177)](Number),_0x1077a2=new Date(_0x5c7910,_0x137e65-0x1,_0x1239f6),_0xb20869={'weekday':_0x1dc551(0x19b),'day':'numeric','month':'long','year':_0x1dc551(0x149)};let _0x3ed717=_0x1077a2[_0x1dc551(0x160)](_0x1dc551(0x12e),_0xb20869);_0x3ed717=_0x3ed717['charAt'](0x0)['toUpperCase']()+_0x3ed717[_0x1dc551(0x189)](0x1),_0x4aee2a['textContent']=_0x3ed717;}function autoSetEndTime(){const _0x1f1bed=a2_0x31f1bd,_0x4312d4=document[_0x1f1bed(0x10b)](_0x1f1bed(0x13a))[_0x1f1bed(0x16f)];if(!_0x4312d4)return;const [_0x578fae,_0xe9de6]=_0x4312d4[_0x1f1bed(0x19e)](':')['map'](Number);let _0x7b1149=_0x578fae+0x1;if(_0x7b1149>0x17)_0x7b1149=0x0;const _0x4afcb4=String(_0x7b1149)[_0x1f1bed(0xb7)](0x2,'0')+':'+String(_0xe9de6)[_0x1f1bed(0xb7)](0x2,'0');document[_0x1f1bed(0x10b)](_0x1f1bed(0x19a))[_0x1f1bed(0x16f)]=_0x4afcb4;}function populateClientSelect(){const _0x53b597=a2_0x31f1bd,_0x4f4758=document[_0x53b597(0x10b)](_0x53b597(0x153));_0x4f4758[_0x53b597(0x10e)]='';if(clients['length']===0x0){const _0x1c53ea=document['createElement'](_0x53b597(0x86));_0x1c53ea[_0x53b597(0x147)]='–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤',_0x4f4758[_0x53b597(0x156)](_0x1c53ea);return;}clients['forEach'](_0x178c42=>{const _0x4b509e=_0x53b597,_0x1fdfaa=document[_0x4b509e(0xd3)]('option');_0x1fdfaa[_0x4b509e(0x16f)]=_0x178c42['name'],_0x1fdfaa[_0x4b509e(0x1c5)]=_0x178c42[_0x4b509e(0x162)],_0x4f4758[_0x4b509e(0x156)](_0x1fdfaa);});}function openActionSheet(_0x970e95){const _0x4848fb=a2_0x31f1bd,_0x20cd9f=document[_0x4848fb(0x10b)](_0x4848fb(0x1b8)),_0x2d8725=document[_0x4848fb(0x10b)](_0x4848fb(0x195)),_0x3122df=document[_0x4848fb(0x10b)](_0x4848fb(0xfb)),_0x57d463=document[_0x4848fb(0x10b)](_0x4848fb(0x131)),_0x15ca01=document[_0x4848fb(0x10b)]('asBtnSeries');_0x2d8725[_0x4848fb(0x158)]['add'](_0x4848fb(0x87)),_0x20cd9f['classList'][_0x4848fb(0xa2)](_0x4848fb(0xa0));if(_0x970e95===_0x4848fb(0x140))_0x3122df['textContent']=_0x4848fb(0xdb),_0x57d463['textContent']=_0x4848fb(0x13b),_0x57d463[_0x4848fb(0xc5)]=()=>{const _0x29fefc=_0x4848fb;closeActionSheet(),updateSeriesBatch(_0x29fefc(0xa9),tempSessionData);},_0x15ca01[_0x4848fb(0x1c5)]=_0x4848fb(0x182),_0x15ca01['onclick']=()=>{const _0x3f0314=_0x4848fb;closeActionSheet(),updateSeriesBatch(_0x3f0314(0xf4),tempSessionData);};else _0x970e95===_0x4848fb(0x184)&&(_0x3122df[_0x4848fb(0x1c5)]='–£–¥–∞–ª–µ–Ω–∏–µ',_0x57d463[_0x4848fb(0x1c5)]=_0x4848fb(0x13b),_0x57d463[_0x4848fb(0x17d)]=_0x4848fb(0x175),_0x57d463[_0x4848fb(0xc5)]=()=>{const _0x5e3466=_0x4848fb;closeActionSheet(),commitDelete(_0x5e3466(0xa9),sessions['find'](_0x22964e=>_0x22964e['id']===editingId));},_0x15ca01['textContent']=_0x4848fb(0x182),_0x15ca01[_0x4848fb(0x17d)]=_0x4848fb(0x11c),_0x15ca01[_0x4848fb(0xc5)]=()=>{const _0x4cd7ca=_0x4848fb;closeActionSheet(),commitDelete(_0x4cd7ca(0xf4),sessions[_0x4cd7ca(0x200)](_0x53bfe8=>_0x53bfe8['id']===editingId));});}function closeActionSheet(){const _0x26fe4b=a2_0x31f1bd;document[_0x26fe4b(0x10b)](_0x26fe4b(0x1b8))[_0x26fe4b(0x158)]['remove'](_0x26fe4b(0xa0)),document[_0x26fe4b(0x10b)](_0x26fe4b(0x195))['classList']['remove'](_0x26fe4b(0x87));}function openSettings(){const _0xa828df=a2_0x31f1bd;openSheet(_0xa828df(0x1e6));}function saveCoachSettings(){const _0xb2d208=a2_0x31f1bd,_0x31cdfd=document[_0xb2d208(0x10b)](_0xb2d208(0xe5))['value'];localStorage[_0xb2d208(0x125)](_0xb2d208(0x120),_0x31cdfd),console[_0xb2d208(0xb1)](_0xb2d208(0x19f),_0x31cdfd),DataManager[_0xb2d208(0x10c)]('save_settings',{'settings':{'cancel_window':_0x31cdfd}})[_0xb2d208(0xde)](_0x5cf7c5=>{const _0x114b50=_0xb2d208;console['error'](_0x114b50(0x113),_0x5cf7c5),showToast(_0x114b50(0xc6),![]);});}function loadCoachSettings(){const _0x3391c5=a2_0x31f1bd,_0x280625=localStorage[_0x3391c5(0x17e)]('uc_settings_cancel_window');_0x280625&&(document[_0x3391c5(0x10b)](_0x3391c5(0xe5))[_0x3391c5(0x16f)]=_0x280625);}function openRangesSheet(){const _0x17db59=a2_0x31f1bd;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x17db59(0x1d6));}function addRange(){const _0x596168=a2_0x31f1bd,_0x48dab9=document[_0x596168(0x10b)](_0x596168(0xcc))['value'],_0x3092a0=document[_0x596168(0x10b)](_0x596168(0x1f9))[_0x596168(0x16f)],_0x1c57ca=document[_0x596168(0x10b)](_0x596168(0x93))[_0x596168(0x16f)],_0x12397e=document[_0x596168(0x10b)](_0x596168(0x1cf))['value'];if(!_0x48dab9||!_0x3092a0||!_0x1c57ca||!_0x12397e)return alert(_0x596168(0x181));const _0x283d29=_0x48dab9+'T'+_0x3092a0,_0x189893=_0x1c57ca+'T'+_0x12397e;if(_0x283d29>=_0x189893)return alert(_0x596168(0x172));specialRanges[_0x596168(0x1bb)]({'start':_0x283d29,'end':_0x189893}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x596168(0x18a)](),DataManager[_0x596168(0x10c)](_0x596168(0xf8),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x43157e){const _0xa5dd38=a2_0x31f1bd;specialRanges[_0xa5dd38(0x1a8)](_0x43157e,0x1),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0xa5dd38(0x10c)](_0xa5dd38(0xf8),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x3d6473=a2_0x31f1bd;document['getElementById'](_0x3d6473(0xcc))[_0x3d6473(0x16f)]='',document[_0x3d6473(0x10b)](_0x3d6473(0x1f9))[_0x3d6473(0x16f)]=_0x3d6473(0x17a),document[_0x3d6473(0x10b)](_0x3d6473(0x93))[_0x3d6473(0x16f)]='',document[_0x3d6473(0x10b)](_0x3d6473(0x1cf))[_0x3d6473(0x16f)]=_0x3d6473(0x139);}function renderRangesList(){const _0x343794=a2_0x31f1bd,_0xb10236=document[_0x343794(0x10b)](_0x343794(0x1d0));_0xb10236[_0x343794(0x10e)]='';if(!specialRanges[_0x343794(0x8c)]){_0xb10236['innerHTML']='<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>';return;}specialRanges['forEach']((_0x5ef37a,_0x367fbf)=>{const _0x558d0d=_0x343794,_0xe9f7e3=document[_0x558d0d(0xd3)](_0x558d0d(0x169));_0xe9f7e3[_0x558d0d(0x17d)]=_0x558d0d(0x107);const _0x57181d=_0x40da1c=>{const _0x48524b=_0x558d0d,_0x2dda0e=new Date(_0x40da1c);return _0x2dda0e['getDate']()+'.'+String(_0x2dda0e[_0x48524b(0xa5)]()+0x1)[_0x48524b(0xb7)](0x2,'0')+'\x20'+String(_0x2dda0e['getHours']())[_0x48524b(0xb7)](0x2,'0')+':'+String(_0x2dda0e[_0x48524b(0x14d)]())[_0x48524b(0xb7)](0x2,'0');};_0xe9f7e3[_0x558d0d(0x10e)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>'+_0x57181d(_0x5ef37a[_0x558d0d(0x191)])+_0x558d0d(0x207)+_0x57181d(_0x5ef37a['end'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange('+_0x367fbf+_0x558d0d(0x11a),_0xb10236['appendChild'](_0xe9f7e3);});}function scrollToToday(){const _0x4757b6=a2_0x31f1bd,_0x508c98=getLocalDateStr(new Date()),_0x446599=document[_0x4757b6(0x10b)](_0x4757b6(0xdf)+_0x508c98),_0x18c187=document['getElementById'](_0x4757b6(0x15e));if(_0x446599&&_0x18c187){const _0x152fe2=_0x18c187[_0x4757b6(0x15b)],_0x547daf=_0x446599['offsetLeft'],_0x2d1be7=_0x446599[_0x4757b6(0xd7)];_0x18c187[_0x4757b6(0xb5)]=_0x547daf-_0x152fe2/0x2+_0x2d1be7/0x2,_0x18c187['scrollTop']=0x9*GRID_H;}}function onScroll(){const _0xe927ee=a2_0x31f1bd,_0x664f9e=document[_0xe927ee(0x10b)](_0xe927ee(0x15e)),_0x12f816=document[_0xe927ee(0x1e9)]('.day-col-header');for(let _0x8a3fd5 of _0x12f816)if(_0x8a3fd5[_0xe927ee(0x122)]>=_0x664f9e[_0xe927ee(0xb5)]){const _0x4c838d=new Date(_0x8a3fd5['getAttribute'](_0xe927ee(0x1c6)));document[_0xe927ee(0x10b)](_0xe927ee(0x16e))[_0xe927ee(0x1c5)]=_0x4c838d[_0xe927ee(0x141)]('ru',{'month':_0xe927ee(0x19b)})[_0xe927ee(0x13d)]()+'\x20'+_0x4c838d[_0xe927ee(0xe9)]();break;}}function showToast(_0x18c578,_0x15c137=![]){const _0x1d807d=a2_0x31f1bd,_0x1c459b=document[_0x1d807d(0x10b)]('toast');_0x1c459b['className']=_0x1d807d(0x1ea)+(_0x15c137?_0x1d807d(0xf2):''),document[_0x1d807d(0x10b)](_0x1d807d(0x1c7))['textContent']=_0x15c137?_0x1d807d(0x16a):_0x1d807d(0x83),document[_0x1d807d(0x10b)](_0x1d807d(0x1f2))[_0x1d807d(0x1c5)]=_0x18c578,_0x1c459b[_0x1d807d(0x158)]['add'](_0x1d807d(0x12a)),setTimeout(()=>{const _0x178523=_0x1d807d;_0x1c459b['classList'][_0x178523(0x1ab)](_0x178523(0x12a));},0xbb8);}function openDayOptions(_0x24f16d,_0x4e1c56){const _0x239fdd=a2_0x31f1bd;selectedDayForOptions=_0x24f16d,document[_0x239fdd(0x10b)]('dayOptionsTitle')[_0x239fdd(0x1c5)]=_0x4e1c56,openSheet(_0x239fdd(0x1af));}function toggleDayOff(){const _0x1ed559=a2_0x31f1bd;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]='off',reRenderBlocks(),closeAllSheets(),DataManager[_0x1ed559(0x18a)](),DataManager[_0x1ed559(0x10c)](_0x1ed559(0xf8),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x1ced84=a2_0x31f1bd;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x1ced84(0x18a)](),DataManager[_0x1ced84(0x10c)](_0x1ced84(0xf8),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0xf7be13){const _0xb1c910=a2_0x31f1bd;document[_0xb1c910(0x10b)]('overlay')['classList'][_0xb1c910(0xa2)](_0xb1c910(0x87)),document['getElementById'](_0xf7be13)[_0xb1c910(0x158)][_0xb1c910(0xa2)]('open');}function closeAllSheets(){const _0x3badce=a2_0x31f1bd;document[_0x3badce(0x10b)](_0x3badce(0x132))[_0x3badce(0x158)][_0x3badce(0x1ab)](_0x3badce(0x87)),document[_0x3badce(0x1e9)](_0x3badce(0x168))['forEach'](_0x1646ad=>_0x1646ad[_0x3badce(0x158)][_0x3badce(0x1ab)]('open'));}function openPatternEditor(){const _0x1cb5a8=a2_0x31f1bd;closeAllSheets(),document[_0x1cb5a8(0x10b)](_0x1cb5a8(0x1c9))['classList']['add'](_0x1cb5a8(0xa0)),renderPatternEditor();}function closePatternEditor(){const _0x28b872=a2_0x31f1bd;document['getElementById'](_0x28b872(0x1c9))[_0x28b872(0x158)][_0x28b872(0x1ab)]('open');}function savePattern(){const _0x35f563=a2_0x31f1bd;document[_0x35f563(0x10b)](_0x35f563(0x1c9))[_0x35f563(0x158)][_0x35f563(0x1ab)](_0x35f563(0xa0)),reRenderBlocks(),DataManager['saveLocally'](),DataManager['fetchFromServer']('save_settings',{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x320f8d=a2_0x31f1bd,_0x42ca0d=document[_0x320f8d(0x10b)](_0x320f8d(0x18b));_0x42ca0d['innerHTML']='';const _0x37c2ab=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x391777=document[_0x320f8d(0xd3)](_0x320f8d(0x169));_0x391777['className']=_0x320f8d(0x99),_0x42ca0d[_0x320f8d(0x156)](_0x391777),_0x37c2ab[_0x320f8d(0x1e5)]((_0x30abe2,_0x1eb078)=>{const _0x33fa06=_0x320f8d,_0x503742=document[_0x33fa06(0xd3)](_0x33fa06(0x169));_0x503742['className']=_0x33fa06(0x155),_0x503742[_0x33fa06(0x10e)]=_0x30abe2+_0x33fa06(0x9f),_0x503742[_0x33fa06(0xc5)]=()=>toggleColPattern(_0x1eb078),_0x42ca0d['appendChild'](_0x503742);});for(let _0x5b3ff8=0x0;_0x5b3ff8<0x18;_0x5b3ff8++){const _0x1669da=document[_0x320f8d(0xd3)]('div');_0x1669da['className']=_0x320f8d(0x11e),_0x1669da['innerHTML']=_0x320f8d(0x1dc)+String(_0x5b3ff8)['padStart'](0x2,'0')+_0x320f8d(0xa6),_0x1669da['onclick']=()=>toggleRowPattern(_0x5b3ff8),_0x42ca0d['appendChild'](_0x1669da);for(let _0x2832f8=0x0;_0x2832f8<0x7;_0x2832f8++){const _0x43680e=document[_0x320f8d(0xd3)](_0x320f8d(0x169)),_0x4dbd18=(availabilityPattern[_0x2832f8]||[])[_0x320f8d(0xe2)](_0x5b3ff8),_0x37ac4f=!_0x4dbd18;_0x43680e[_0x320f8d(0x17d)]=_0x320f8d(0x134)+(_0x37ac4f?_0x320f8d(0x87):''),_0x43680e[_0x320f8d(0xc5)]=()=>toggleSinglePattern(_0x2832f8,_0x5b3ff8),_0x42ca0d[_0x320f8d(0x156)](_0x43680e);}}}function toggleSinglePattern(_0xd69c69,_0x56bde9){const _0x3dea5b=a2_0x31f1bd;if(!availabilityPattern[_0xd69c69])availabilityPattern[_0xd69c69]=[];const _0x109556=availabilityPattern[_0xd69c69],_0x229702=_0x109556[_0x3dea5b(0xe8)](_0x56bde9);_0x229702===-0x1?_0x109556['push'](_0x56bde9):_0x109556[_0x3dea5b(0x1a8)](_0x229702,0x1),renderPatternEditor();}function toggleColPattern(_0x459fbb){const _0x4667c1=a2_0x31f1bd;if(!availabilityPattern[_0x459fbb])availabilityPattern[_0x459fbb]=[];const _0x40e24e=availabilityPattern[_0x459fbb];_0x40e24e[_0x4667c1(0x8c)]===0x0?availabilityPattern[_0x459fbb]=Array[_0x4667c1(0x97)]({'length':0x18},(_0x595f6b,_0x5dc0a7)=>_0x5dc0a7):availabilityPattern[_0x459fbb]=[],renderPatternEditor();}function toggleRowPattern(_0x1877d4){const _0x19ddab=a2_0x31f1bd;let _0x470fc5=!![];for(let _0x90d149=0x0;_0x90d149<0x7;_0x90d149++){if((availabilityPattern[_0x90d149]||[])[_0x19ddab(0xe2)](_0x1877d4)){_0x470fc5=![];break;}}for(let _0x5bbc99=0x0;_0x5bbc99<0x7;_0x5bbc99++){if(!availabilityPattern[_0x5bbc99])availabilityPattern[_0x5bbc99]=[];const _0x187428=availabilityPattern[_0x5bbc99][_0x19ddab(0xe8)](_0x1877d4);if(_0x470fc5){if(_0x187428===-0x1)availabilityPattern[_0x5bbc99][_0x19ddab(0x1bb)](_0x1877d4);}else{if(_0x187428!==-0x1)availabilityPattern[_0x5bbc99][_0x19ddab(0x1a8)](_0x187428,0x1);}}renderPatternEditor();}function renderPCol(_0x4695e1,_0x31ef21){const _0x41491e=a2_0x31f1bd;_0x4695e1[_0x41491e(0x10e)]='';const _0x133333=Math[_0x41491e(0x1c1)](_0x4695e1[_0x41491e(0x122)]);(availabilityPattern[_0x31ef21]||[])[_0x41491e(0x1e5)](_0x2cc879=>{const _0x1b2d70=_0x41491e,_0x42bda9=document['createElement']('div');_0x42bda9['className']=_0x1b2d70(0xda);const _0x28482d=_0x2cc879*GRID_H;_0x42bda9[_0x1b2d70(0x1ce)]['top']=_0x28482d+'px',_0x42bda9[_0x1b2d70(0x1ce)][_0x1b2d70(0x1fc)]='-'+_0x133333+_0x1b2d70(0x1b9)+_0x28482d+'px',_0x42bda9[_0x1b2d70(0xc5)]=_0x2e09d0=>{const _0x176d33=_0x1b2d70;_0x2e09d0[_0x176d33(0xac)](),toggleSinglePattern(_0x31ef21,_0x2cc879);},_0x4695e1['appendChild'](_0x42bda9);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x3d5ea9=a2_0x31f1bd,_0x2098e9=new Date(),_0x378f15=document['getElementById']('globalTimeLine'),_0x22d6d9=document['getElementById']('timeLineBadge'),_0x2c736c=(_0x2098e9[_0x3d5ea9(0x1ba)]()*0x3c+_0x2098e9['getMinutes']())/0x3c*GRID_H;_0x378f15['style'][_0x3d5ea9(0x1be)]=_0x2c736c+'px',_0x378f15[_0x3d5ea9(0x1ce)][_0x3d5ea9(0x16c)]='block',_0x22d6d9[_0x3d5ea9(0x1c5)]=String(_0x2098e9[_0x3d5ea9(0x1ba)]())[_0x3d5ea9(0xb7)](0x2,'0')+':'+String(_0x2098e9[_0x3d5ea9(0x14d)]())[_0x3d5ea9(0xb7)](0x2,'0'),_0x22d6d9[_0x3d5ea9(0x1ce)][_0x3d5ea9(0x16c)]=_0x3d5ea9(0xbe),_0x22d6d9[_0x3d5ea9(0x1ce)]['top']=_0x2c736c+'px';}document[a2_0x31f1bd(0x19d)](a2_0x31f1bd(0xcd),init);function openDayOptions(_0x33d367){const _0x492898=a2_0x31f1bd;selectedDayForOptions=_0x33d367;const _0x384f12=new Date(_0x33d367),_0x50b969={'weekday':'long','day':_0x492898(0x149),'month':_0x492898(0x19b),'year':_0x492898(0x149)},_0x11a8d3=_0x384f12['toLocaleDateString'](_0x492898(0x12e),_0x50b969);document[_0x492898(0x10b)]('doDateHeader')['textContent']=_0x11a8d3[_0x492898(0x1aa)](0x0)[_0x492898(0x13d)]()+_0x11a8d3[_0x492898(0x189)](0x1);let _0x26bafc=_0x384f12[_0x492898(0x157)]()-0x1;if(_0x26bafc===-0x1)_0x26bafc=0x6;const _0x3f73c4=availabilityPattern[_0x26bafc]||[],_0x393b95=0x18-_0x3f73c4[_0x492898(0x8c)],_0x20c754=_0x393b95*0x3c,_0x33758c=sessions[_0x492898(0x15f)](_0x36ae96=>_0x36ae96['dateStr']===_0x33d367&&_0x36ae96[_0x492898(0x81)]!==_0x492898(0xc7));let _0x41ca9f=_0x33758c[_0x492898(0x177)](_0x1b1661=>{const _0x44902a=_0x492898,[_0x1f3430,_0x46e64b]=_0x1b1661[_0x44902a(0x191)][_0x44902a(0x19e)](':')[_0x44902a(0x177)](Number),[_0x3a820c,_0x4cbd5a]=_0x1b1661[_0x44902a(0xbb)][_0x44902a(0x19e)](':')[_0x44902a(0x177)](Number);return[_0x1f3430*0x3c+_0x46e64b,_0x3a820c*0x3c+_0x4cbd5a];});_0x41ca9f[_0x492898(0xbf)]((_0x3a4c84,_0x5d099f)=>_0x3a4c84[0x0]-_0x5d099f[0x0]);let _0x21fd7a=[];if(_0x41ca9f['length']>0x0){let _0x41d70f=_0x41ca9f[0x0];for(let _0x48bb78=0x1;_0x48bb78<_0x41ca9f['length'];_0x48bb78++){_0x41ca9f[_0x48bb78][0x0]<_0x41d70f[0x1]?_0x41d70f[0x1]=Math[_0x492898(0x1b7)](_0x41d70f[0x1],_0x41ca9f[_0x48bb78][0x1]):(_0x21fd7a[_0x492898(0x1bb)](_0x41d70f),_0x41d70f=_0x41ca9f[_0x48bb78]);}_0x21fd7a[_0x492898(0x1bb)](_0x41d70f);}let _0x11df60=0x0;_0x21fd7a[_0x492898(0x1e5)](_0x5b7f82=>_0x11df60+=_0x5b7f82[0x1]-_0x5b7f82[0x0]),document[_0x492898(0x10b)](_0x492898(0x1de))['textContent']=formatMinsToHrs(_0x20c754),document['getElementById'](_0x492898(0x1e3))[_0x492898(0x1c5)]=formatMinsToHrs(_0x11df60);const _0x1cda33=_0x20c754>0x0?Math[_0x492898(0x1c1)](_0x11df60/_0x20c754*0x64):0x0,_0x3ba162=document[_0x492898(0x10b)](_0x492898(0xb0));_0x3ba162['textContent']=_0x1cda33+'%';const _0x3875e3=document[_0x492898(0x10b)](_0x492898(0xaa));if(_0x1cda33>0x64)_0x3ba162[_0x492898(0x1ce)][_0x492898(0xf0)]=_0x492898(0x1b5),_0x3875e3[_0x492898(0x1ce)][_0x492898(0x136)]=_0x492898(0x1ef);else _0x1cda33>0x50?(_0x3ba162[_0x492898(0x1ce)][_0x492898(0xf0)]=_0x492898(0x80),_0x3875e3[_0x492898(0x1ce)][_0x492898(0x136)]='rgba(255,\x20159,\x2010,\x200.3)'):(_0x3ba162[_0x492898(0x1ce)][_0x492898(0xf0)]=_0x492898(0x13f),_0x3875e3[_0x492898(0x1ce)][_0x492898(0x136)]=_0x492898(0xe4));const _0x23c9fb=document[_0x492898(0x10b)]('doEventsList');_0x23c9fb[_0x492898(0x10e)]='';_0x33758c[_0x492898(0x8c)]===0x0?_0x23c9fb['innerHTML']=_0x492898(0x127):(_0x33758c['sort']((_0xff188e,_0x2348b9)=>_0xff188e['start'][_0x492898(0x1d4)](_0x2348b9['start'])),_0x33758c[_0x492898(0x1e5)](_0x5c7b41=>{const _0xe1070a=_0x492898,_0x46a497=clients[_0xe1070a(0x200)](_0x4a0596=>_0x4a0596[_0xe1070a(0x162)]===_0x5c7b41['client']),_0x1fe9d9=_0x46a497?_0x46a497['color']:'#fff',_0x1a72eb=_0x5c7b41[_0xe1070a(0x81)]===_0xe1070a(0x1a1),_0x3aff58=_0x1a72eb?_0xe1070a(0x105):'',_0x5c8cb4=document['createElement']('div');_0x5c8cb4[_0xe1070a(0x17d)]='de-item',_0x5c8cb4[_0xe1070a(0x1ce)]['borderLeftColor']=_0x1fe9d9,_0x5c8cb4['innerHTML']=_0xe1070a(0x12d)+_0x5c7b41[_0xe1070a(0x191)]+_0xe1070a(0xe3)+_0x5c7b41[_0xe1070a(0xbb)]+_0xe1070a(0x194)+_0x5c7b41[_0xe1070a(0x1ac)]+_0xe1070a(0x1c0)+_0x3aff58+_0xe1070a(0x1fd),_0x23c9fb[_0xe1070a(0x156)](_0x5c8cb4);}));const _0x1d2737=document['getElementById'](_0x492898(0xf1)),_0x4c0f2e=dateExceptions[_0x33d367]===_0x492898(0x1b3);_0x4c0f2e?(_0x1d2737['textContent']=_0x492898(0x203),_0x1d2737['className']=_0x492898(0x14e),_0x1d2737[_0x492898(0x1ce)]['color']=_0x492898(0x13f),_0x1d2737[_0x492898(0x1ce)][_0x492898(0x1bf)]=_0x492898(0x150)):(_0x1d2737['textContent']=_0x492898(0x15c),_0x1d2737[_0x492898(0x17d)]=_0x492898(0xab),_0x1d2737[_0x492898(0x1ce)][_0x492898(0xf0)]=_0x492898(0x1b5),_0x1d2737['style'][_0x492898(0x1bf)]=_0x492898(0x13c)),openSheet(_0x492898(0x1af));}let currentAnPeriod=a2_0x31f1bd(0x1e8);function openAnalytics(){const _0x52dfca=a2_0x31f1bd,_0x452e8f=document[_0x52dfca(0x1b6)]('.period-switch\x20.p-btn');setAnalyticsPeriod(_0x52dfca(0x1e8),_0x452e8f),closeAllSheets(),openSheet(_0x52dfca(0x15a));}function setAnalyticsPeriod(_0x22d84a,_0x11b6ac){const _0x24935b=a2_0x31f1bd;currentAnPeriod=_0x22d84a,document['querySelectorAll'](_0x24935b(0xa7))[_0x24935b(0x1e5)](_0x128049=>_0x128049[_0x24935b(0x158)][_0x24935b(0x1ab)](_0x24935b(0x87)));if(_0x11b6ac)_0x11b6ac[_0x24935b(0x158)][_0x24935b(0xa2)](_0x24935b(0x87));const _0x47389f=document['getElementById'](_0x24935b(0xf3));_0x47389f[_0x24935b(0x1ce)]['display']=_0x22d84a===_0x24935b(0x1a3)?_0x24935b(0x82):'none';const _0x1c0d55=new Date();let _0x28c0d7=new Date(),_0x532a78=new Date();if(_0x22d84a===_0x24935b(0x1e8))_0x28c0d7=getStartOfWeek(_0x1c0d55),_0x532a78=new Date(_0x28c0d7),_0x532a78[_0x24935b(0x95)](_0x532a78[_0x24935b(0x89)]()+0x6);else{if(_0x22d84a===_0x24935b(0xef))_0x28c0d7=new Date(_0x1c0d55[_0x24935b(0xe9)](),_0x1c0d55[_0x24935b(0xa5)](),0x1),_0x532a78=new Date(_0x1c0d55[_0x24935b(0xe9)](),_0x1c0d55['getMonth']()+0x1,0x0);else{!document[_0x24935b(0x10b)](_0x24935b(0x146))[_0x24935b(0x16f)]&&(document['getElementById'](_0x24935b(0x146))['value']=getLocalDateStr(_0x1c0d55),document[_0x24935b(0x10b)](_0x24935b(0x154))[_0x24935b(0x16f)]=getLocalDateStr(_0x1c0d55));refreshAnalytics();return;}}document[_0x24935b(0x10b)]('anStart')[_0x24935b(0x16f)]=getLocalDateStr(_0x28c0d7),document[_0x24935b(0x10b)]('anEnd')['value']=getLocalDateStr(_0x532a78),refreshAnalytics();}function refreshAnalytics(){const _0x37e29a=a2_0x31f1bd,_0x4b5314=document[_0x37e29a(0x10b)]('anStart')[_0x37e29a(0x16f)],_0x3a62e6=document['getElementById']('anEnd')[_0x37e29a(0x16f)];if(!_0x4b5314||!_0x3a62e6)return;const _0x2ff102=sessions[_0x37e29a(0x15f)](_0x2314d3=>_0x2314d3['dateStr']>=_0x4b5314&&_0x2314d3[_0x37e29a(0xd5)]<=_0x3a62e6&&_0x2314d3[_0x37e29a(0x81)]!=='cancelled'),_0x434b2d=_0x2ff102[_0x37e29a(0x8c)],_0x2f601d=_0x2ff102[_0x37e29a(0x15f)](_0x2208db=>_0x2208db['status']===_0x37e29a(0x1a1))[_0x37e29a(0x8c)],_0x5c5d22=_0x434b2d>0x0?Math[_0x37e29a(0x1c1)](_0x2f601d/_0x434b2d*0x64):0x0;document['getElementById']('anPercent')[_0x37e29a(0x1c5)]=_0x5c5d22+'%',document[_0x37e29a(0x10b)](_0x37e29a(0xdd))[_0x37e29a(0x1c5)]=_0x2f601d+_0x37e29a(0x1ed)+_0x434b2d+_0x37e29a(0x186);const _0x18dc37=document['getElementById'](_0x37e29a(0x1b0)),_0x21aa71=0x2*Math['PI']*0x23,_0x13046e=_0x21aa71-_0x5c5d22/0x64*_0x21aa71;_0x18dc37[_0x37e29a(0x1ce)][_0x37e29a(0x1f0)]=_0x13046e;const _0x3ae84d={};_0x2ff102['forEach'](_0x19e080=>{const _0x5ba082=_0x37e29a;if(!_0x3ae84d[_0x19e080[_0x5ba082(0x1ac)]]){const _0x975536=clients[_0x5ba082(0x200)](_0x5bbe75=>_0x5bbe75['name']===_0x19e080[_0x5ba082(0x1ac)]);_0x3ae84d[_0x19e080[_0x5ba082(0x1ac)]]={'total':0x0,'done':0x0,'color':_0x975536?_0x975536[_0x5ba082(0xf0)]:_0x5ba082(0xf6)};}_0x3ae84d[_0x19e080[_0x5ba082(0x1ac)]]['total']++;if(_0x19e080[_0x5ba082(0x81)]===_0x5ba082(0x1a1))_0x3ae84d[_0x19e080[_0x5ba082(0x1ac)]]['done']++;});const _0x4c2a8b=document[_0x37e29a(0x10b)](_0x37e29a(0x126));_0x4c2a8b[_0x37e29a(0x10e)]='';const _0x53e785=Object[_0x37e29a(0x1a6)](_0x3ae84d)[_0x37e29a(0xbf)]((_0x1cd21f,_0xd1430)=>_0xd1430[0x1][_0x37e29a(0x124)]-_0x1cd21f[0x1][_0x37e29a(0x124)]);if(_0x53e785[_0x37e29a(0x8c)]===0x0){_0x4c2a8b[_0x37e29a(0x10e)]=_0x37e29a(0xe1);return;}_0x53e785['forEach'](([_0x1fd145,_0x585b38])=>{const _0x5a21bd=_0x37e29a,_0x3ff5e6=Math[_0x5a21bd(0x1c1)](_0x585b38[_0x5a21bd(0x1fa)]/_0x585b38[_0x5a21bd(0x124)]*0x64),_0x357009=document['createElement'](_0x5a21bd(0x169));_0x357009[_0x5a21bd(0x17d)]='client-stat-card',_0x357009[_0x5a21bd(0x1ce)][_0x5a21bd(0xa1)]=_0x585b38[_0x5a21bd(0xf0)],_0x357009[_0x5a21bd(0x10e)]=_0x5a21bd(0x138)+_0x1fd145+_0x5a21bd(0x167)+_0x585b38['done']+_0x5a21bd(0x9a)+_0x585b38[_0x5a21bd(0x124)]+_0x5a21bd(0x128)+_0x3ff5e6+_0x5a21bd(0x183),_0x4c2a8b[_0x5a21bd(0x156)](_0x357009);});}function formatMinsToHrs(_0x3d9341){const _0x21d666=a2_0x31f1bd;if(_0x3d9341===0x0)return'0';const _0x4f0394=Math[_0x21d666(0x1fb)](_0x3d9341/0x3c),_0x2bf6bb=_0x3d9341%0x3c;if(_0x2bf6bb===0x0)return _0x4f0394+'—á';return _0x4f0394+'—á\x20'+_0x2bf6bb+'–º';}