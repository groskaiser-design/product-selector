const a2_0x549775=a2_0xc46d;(function(_0x57a291,_0x2d74e9){const _0x551f98=a2_0xc46d,_0x35622c=_0x57a291();while(!![]){try{const _0x5f49e2=parseInt(_0x551f98(0x1cd))/0x1+-parseInt(_0x551f98(0x1ff))/0x2+parseInt(_0x551f98(0x275))/0x3*(-parseInt(_0x551f98(0x1c7))/0x4)+parseInt(_0x551f98(0x281))/0x5*(-parseInt(_0x551f98(0x25d))/0x6)+-parseInt(_0x551f98(0x30c))/0x7+-parseInt(_0x551f98(0x1a5))/0x8+-parseInt(_0x551f98(0x28b))/0x9*(-parseInt(_0x551f98(0x313))/0xa);if(_0x5f49e2===_0x2d74e9)break;else _0x35622c['push'](_0x35622c['shift']());}catch(_0x1e7524){_0x35622c['push'](_0x35622c['shift']());}}}(a2_0x4043,0x682d2),function initTMA(){const _0x4c447e=a2_0xc46d;try{const _0x3eb3f5=window['Telegram']?.[_0x4c447e(0x2a4)];if(!_0x3eb3f5)return;_0x3eb3f5[_0x4c447e(0x1bd)](),_0x3eb3f5['expand']();try{_0x3eb3f5[_0x4c447e(0x264)](_0x4c447e(0x2ad)),_0x3eb3f5[_0x4c447e(0x315)]&&_0x3eb3f5[_0x4c447e(0x315)](_0x4c447e(0x2ad));}catch(_0x275119){console[_0x4c447e(0x30b)](_0x4c447e(0x28d),_0x275119);}try{_0x3eb3f5[_0x4c447e(0x24d)]&&(_0x3eb3f5[_0x4c447e(0x24d)][_0x4c447e(0x262)](),_0x3eb3f5[_0x4c447e(0x24d)]['offClick'](),_0x3eb3f5[_0x4c447e(0x24d)]['onClick'](function(){const _0x23bf8e=_0x4c447e;window[_0x23bf8e(0x2a9)][_0x23bf8e(0x2d9)]='router.html';}));}catch(_0x2d764c){console[_0x4c447e(0x30b)]('Error\x20setting\x20back\x20button:',_0x2d764c);}try{if(_0x3eb3f5[_0x4c447e(0x1b7)])_0x3eb3f5[_0x4c447e(0x1b7)]();}catch(_0x448b5e){}}catch(_0x418725){console[_0x4c447e(0x2ef)](_0x4c447e(0x1e6),_0x418725);}}());function isAdmin(){const _0x38d145=a2_0xc46d;try{const _0x79e46c=Number(window[_0x38d145(0x230)]?.[_0x38d145(0x2a4)]?.[_0x38d145(0x1c3)]?.[_0x38d145(0x1d4)]?.['id']);return _0x79e46c===0xbaf7174;}catch(_0x1b5fd1){return![];}}function a2_0x4043(){const _0x461675=['sort',':\x20Client\x20already\x20booked','inpRecurring','654614VbpNDc','time-label','toString','data-date','setMonth','startsWith','sheetDateSubtitle','user','status','%\x20+\x202px)','px\x200px','inpNote','\x20status-completed','mergeServerData','getFullYear','pattern','strokeDashoffset','rangesSheet','touchmove','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','dayOptionsSheet','doWorkHours','initData','rgba(100,100,100,0.5)','gridColumns','Critical\x20TMA\x20Error:','day-col-header\x20','innerHTML','00:00','DOMContentLoaded','var(--acc-orange)','\x20–∏–∑\x20','stringify','top','settings','map','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','getHours','msg','settingCancelWindow','borderLeftColor','rgba(255,\x2069,\x2058,\x200.15)','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','padStart','undefined','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','T00:00:00','start','anStart','270138WczYwz','actionSheetOverlay','create','height','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','\x20days','setItem','syncLoad','[Notify]\x20Server\x20Response:','complete','analyticsList','single','[Notify]\x20Error:\x20Text\x20generation\x20failed','save_settings','mini','var(--acc-current)','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','px\x20-','recurringOptionContainer','active','from','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','getDay','toastTitle','stat-','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','<div\x20class=\x22ev-title\x22>','.sheet','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','scrollLeft','className','</div>','blocked-slot\x20stripe-bg','name','filter','syncBatch','left','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','splice','anTotalStats','json','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','completed','catch','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','null','clientY','btn-status-toggle','Telegram','toUpperCase','matrixViewport','createDocumentFragment','init_load','uc_settings_cancel_window','#gridColumns\x20.day-column','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','toLocaleDateString','cancelled','cancel',':00</span>','max','clientWidth','querySelector','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','</div><div\x20class=\x22dch-num\x22>','</div><div\x20class=\x22ev-time\x22>','overlay','btnDayToggle','client','pe-col-header','seriesCountContainer','T23:59:59','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','long','.event-card','POST','BackButton','send_notification','week','inpEnd','toastMessage','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','calendar','deleted','getDate','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','setDate',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','min','10px\x2010px\x200\x200','color','textContent','6GfQmSl','anEnd',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','day-off-overlay\x20stripe-bg','none','show','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','setHeaderColor','pe-corner','[Notify]\x20Attempting\x20to\x20send:','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','getItem','addEventListener','<b>‚úÖ\x20','–£—Å–ø–µ—à–Ω–æ','text','[Notify]\x20Client\x20SWAP\x20detected','asBtnOne','var(--acc-red)','onclick','10px','round','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','warning','111bOlPbi','btn-primary\x20btn-secondary','rangeEndDate','display','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','offsetWidth','<div\x20class=\x22dch-day\x22>','forEach','clients','value','<span>','setAttribute','3791005pgkIyz','note','23:59','offsetLeft','Local\x20Load\x20Error','then','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','analyticsSheet','Batch\x20Sync\x20OK','calc(','36lbgYRP','actionSheet','Error\x20setting\x20color:','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','rgba(255,\x2069,\x2058,\x200.3)','createElement','firstChild','rgba(','day-column\x20','update','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','series','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','block','search','headerMonth','de-item','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','custom','target','setHours','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','#0a84ff','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','split','WebApp','remove','range-item','length','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','location','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','inpStart','[API\x20','#050505','flex','statLoadCard','parse','borderColor','Unknown','.day-off-overlay','doBusyHours','\x20-\x20','patternInfoBox','done','mouseup','ranges','getBoundingClientRect','apply','slice','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','getTime','open','checked','btn-status-toggle\x20undo-mode','warn','data-day-idx','patternEditor','valid','dateStr','includes','.day-col-header','send','pe-cell\x20','width','add','backgroundColor','borderRadius','100%','–ò–Ω—Ñ–æ','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','uc_sessions_v9','toFixed','indexOf','anPercent','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','now','href','querySelectorAll','backgroundPosition','total','rgba(255,255,255,0.05)','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','find','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','v9.0-BATCH-CALENDAR','insertBefore','cancel_window','getAttribute','settingsSheet','sid','zIndex','event-card','peGrid','rangeStartDate','Local\x20Save\x20Error','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','as-button\x20danger\x20bold','error','touchend','pe-time-label','classList','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','findIndex','random','btnDelete','success','seriesId','toast','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','getElementById','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','inpSeriesCount','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','save','header-','option','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','div','off','mousedown','formatDate','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','uc_clients_v9','toLocaleString','log','1893766mxjaeJ','btnStatusToggle',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','clientId','appendChild','closest','today','6126310GQWyIn','globalTimeLine','setBackgroundColor','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','style','background','isArray','inpDate','data','anCustomDates','5745000AnBogL','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','touches','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','numeric','ru-RU','asBtnSeries','</span>\x20/\x20','guest','scrollTop','colIndex','scrollWidth','charAt','end','batch_sync','push','getMinutes','planned','disableVerticalSwipes','rangeEndTime','.period-switch\x20.p-btn','#fff','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','localeCompare','ready','exceptions','fetchFromServer','\x20‚Äî\x20','getMonth','keys','initDataUnsafe','floor','.pib-text','[Notify]\x20Error:\x20sessionData\x20is\x20null','86108teGEgY','btn-primary\x20btn-danger','saveLocally'];a2_0x4043=function(){return _0x461675;};return a2_0x4043();}const APP_VERSION=a2_0x549775(0x2e2),API_URL=a2_0x549775(0x2df),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x549775(0x309),KEY_SESSIONS=a2_0x549775(0x2d3),KEY_SETTINGS='uc_settings_v9';let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x3d02e0=a2_0x549775;return window[_0x3d02e0(0x230)]?.['WebApp']?.[_0x3d02e0(0x1c3)]?.[_0x3d02e0(0x1d4)]?.['id']||_0x3d02e0(0x1ad);},'saveLocally'(){const _0x4528e5=a2_0x549775;try{localStorage[_0x4528e5(0x206)](KEY_CLIENTS,JSON['stringify'](clients)),localStorage[_0x4528e5(0x206)](KEY_SESSIONS,JSON['stringify'](sessions)),localStorage[_0x4528e5(0x206)](KEY_SETTINGS,JSON[_0x4528e5(0x1ed)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x3a1a71){console[_0x4528e5(0x2ef)](_0x4528e5(0x2ec),_0x3a1a71);}},'loadLocal'(){const _0x34e443=a2_0x549775;try{const _0x2a389f=localStorage[_0x34e443(0x268)](KEY_CLIENTS);if(_0x2a389f)clients=JSON[_0x34e443(0x2b0)](_0x2a389f);const _0x2e3521=localStorage[_0x34e443(0x268)](KEY_SESSIONS);if(_0x2e3521)sessions=JSON['parse'](_0x2e3521);const _0xd12162=localStorage['getItem'](KEY_SETTINGS);if(_0xd12162){const _0x1f62e6=JSON[_0x34e443(0x2b0)](_0xd12162);if(_0x1f62e6[_0x34e443(0x1dc)])availabilityPattern=_0x1f62e6['pattern'];if(_0x1f62e6['exceptions'])dateExceptions=_0x1f62e6[_0x34e443(0x1be)];if(_0x1f62e6[_0x34e443(0x2b9)])specialRanges=_0x1f62e6[_0x34e443(0x2b9)];}else{for(let _0x34db04=0x0;_0x34db04<0x7;_0x34db04++)availabilityPattern[_0x34db04]=Array[_0x34e443(0x214)]({'length':0xc},(_0x2c9092,_0x1d57f0)=>_0x1d57f0+0x9);}}catch(_0x1b566e){console[_0x34e443(0x2ef)](_0x34e443(0x285),_0x1b566e);}},async 'fetchFromServer'(_0x2f0fec,_0x141073={}){const _0x27f466=a2_0x549775,_0x39fab5=window[_0x27f466(0x230)]?.[_0x27f466(0x2a4)],_0x12a1e2={'action':_0x2f0fec,'init_data':_0x39fab5?.[_0x27f466(0x1e3)]||'',..._0x141073};try{const _0x271b5c=await fetch(API_URL,{'method':_0x27f466(0x24c),'headers':{'Content-Type':'text/plain;charset=UTF-8'},'body':JSON[_0x27f466(0x1ed)](_0x12a1e2)}),_0x915659=await _0x271b5c[_0x27f466(0x228)]();if(!_0x915659['ok'])throw new Error(_0x915659[_0x27f466(0x2ef)]||'Server\x20Error');return _0x915659['data'];}catch(_0x54c3c1){console[_0x27f466(0x2ef)](_0x27f466(0x2ac)+_0x2f0fec+']\x20Failed:',_0x54c3c1);throw _0x54c3c1;}},async 'syncLoad'(){const _0x5a10a0=a2_0x549775,_0x5de7e5=new Date(),_0x308b9c=_0x5de7e5[_0x5a10a0(0x1db)]()+'-'+String(_0x5de7e5[_0x5a10a0(0x1c1)]()+0x1)[_0x5a10a0(0x1f8)](0x2,'0'),_0x17ccec=new Date(_0x5de7e5);_0x17ccec[_0x5a10a0(0x1d1)](_0x5de7e5[_0x5a10a0(0x1c1)]()+0x1);const _0x3f31e2=_0x17ccec['getFullYear']()+'-'+String(_0x17ccec[_0x5a10a0(0x1c1)]()+0x1)['padStart'](0x2,'0'),_0x2ad0ae=Date[_0x5a10a0(0x2d8)]();console[_0x5a10a0(0x30b)]('[Sync]\x20Loading\x20'+_0x308b9c+',\x20'+_0x3f31e2+'...');try{const [_0x2255fd,_0x18fa2e]=await Promise['all']([this['fetchFromServer'](_0x5a10a0(0x234),{'month_str':_0x308b9c}),this[_0x5a10a0(0x1bf)]('init_load',{'month_str':_0x3f31e2})]);if(lastUserActionTime>_0x2ad0ae)return console[_0x5a10a0(0x2c2)](_0x5a10a0(0x2a0)),![];return this['mergeServerData'](_0x2255fd,_0x308b9c),this[_0x5a10a0(0x1da)](_0x18fa2e,_0x3f31e2),this[_0x5a10a0(0x1c9)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x6c2786){console[_0x5a10a0(0x2ef)](_0x6c2786);throw _0x6c2786;}},'mergeServerData'(_0x470eae,_0x24d75b){const _0x10c254=a2_0x549775;if(!_0x470eae)return;_0x470eae[_0x10c254(0x27d)]&&Array[_0x10c254(0x1a1)](_0x470eae[_0x10c254(0x27d)])&&(clients=_0x470eae['clients']);if(_0x470eae[_0x10c254(0x1ef)]){if(_0x470eae[_0x10c254(0x1ef)][_0x10c254(0x1dc)])availabilityPattern=_0x470eae['settings'][_0x10c254(0x1dc)];if(_0x470eae[_0x10c254(0x1ef)][_0x10c254(0x1be)])dateExceptions=_0x470eae[_0x10c254(0x1ef)]['exceptions'];if(_0x470eae['settings'][_0x10c254(0x2b9)])specialRanges=_0x470eae[_0x10c254(0x1ef)][_0x10c254(0x2b9)];if(_0x470eae[_0x10c254(0x1ef)][_0x10c254(0x2e4)]){localStorage[_0x10c254(0x206)](_0x10c254(0x235),_0x470eae[_0x10c254(0x1ef)][_0x10c254(0x2e4)]);const _0x51b822=document[_0x10c254(0x2fb)]('settingCancelWindow');if(_0x51b822)_0x51b822[_0x10c254(0x27e)]=_0x470eae[_0x10c254(0x1ef)]['cancel_window'];}}_0x470eae[_0x10c254(0x253)]&&(sessions=sessions[_0x10c254(0x222)](_0x1662cd=>!_0x1662cd[_0x10c254(0x2c6)][_0x10c254(0x1d2)](_0x24d75b)),Object[_0x10c254(0x1c2)](_0x470eae[_0x10c254(0x253)])[_0x10c254(0x27c)](_0x274a37=>{const _0x4b22eb=_0x10c254,_0x4a5b5a=_0x470eae[_0x4b22eb(0x253)][_0x274a37];_0x4a5b5a[_0x4b22eb(0x27c)](_0x593e36=>{const _0x18b612=_0x4b22eb,_0x15564a=clients[_0x18b612(0x2e0)](_0x53b5e8=>String(_0x53b5e8['id'])===String(_0x593e36['c']));sessions[_0x18b612(0x1b4)]({'id':_0x593e36['i'],'clientId':_0x593e36['c'],'client':_0x15564a?_0x15564a['name']:_0x18b612(0x2b2),'dateStr':_0x24d75b+'-'+_0x274a37[_0x18b612(0x1f8)](0x2,'0'),'start':_0x593e36['s'],'end':_0x593e36['e'],'status':_0x593e36['st']||_0x18b612(0x1b6),'note':_0x593e36['n']||'','seriesId':_0x593e36[_0x18b612(0x2e7)]||null});});}));},async 'syncBatch'(_0x175876){const _0x292e2d=a2_0x549775,_0x5418b2=[...new Set(_0x175876)],_0x2f7203=_0x5418b2[_0x292e2d(0x1f0)](_0x1337c5=>{const _0x2b3818=_0x292e2d,_0x5ed79a=sessions[_0x2b3818(0x222)](_0x42c5ac=>_0x42c5ac[_0x2b3818(0x2c6)]===_0x1337c5&&_0x42c5ac[_0x2b3818(0x1d5)]!==_0x2b3818(0x254)),_0x2e481c=_0x5ed79a['map'](_0x357bf5=>({'i':_0x357bf5['id'],'c':_0x357bf5['clientId'],'s':_0x357bf5[_0x2b3818(0x1fd)],'e':_0x357bf5[_0x2b3818(0x1b2)],'st':_0x357bf5['status'],'n':_0x357bf5[_0x2b3818(0x282)],'sid':_0x357bf5[_0x2b3818(0x2f8)]}));return{'date':_0x1337c5,'day_data':_0x2e481c};});if(_0x2f7203[_0x292e2d(0x2a7)]===0x0)return;console[_0x292e2d(0x30b)]('[Sync]\x20Pushing\x20batch\x20updates\x20for\x20'+_0x2f7203['length']+_0x292e2d(0x205)),await this[_0x292e2d(0x1bf)](_0x292e2d(0x1b3),{'changes':_0x2f7203});}};async function init(){const _0x15e33b=a2_0x549775;DataManager['loadLocal'](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x15e33b(0x2fb)]('matrixViewport')[_0x15e33b(0x269)]('scroll',()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x15e33b(0x207)]()[_0x15e33b(0x286)](()=>{const _0x14e789=_0x15e33b;showToast(_0x14e789(0x2de),!![]);})[_0x15e33b(0x22b)](_0x49a417=>{const _0x1ecca3=_0x15e33b;showToast(_0x1ecca3(0x28e),![]);});}function generateId(){const _0x2e68c2=a2_0x549775;return Date[_0x2e68c2(0x2d8)]()[_0x2e68c2(0x1cf)](0x24)+Math[_0x2e68c2(0x2f5)]()[_0x2e68c2(0x1cf)](0x24)['substr'](0x2,0x5);}function toggleSeriesInput(){const _0x2e61aa=a2_0x549775,_0x5d5b7a=document['getElementById'](_0x2e61aa(0x1cc))['checked'],_0x226c6e=document[_0x2e61aa(0x2fb)](_0x2e61aa(0x246));_0x226c6e['style'][_0x2e61aa(0x278)]=_0x5d5b7a?_0x2e61aa(0x298):_0x2e61aa(0x261);const _0x5257e1=document[_0x2e61aa(0x2fb)](_0x2e61aa(0x212));_0x5257e1[_0x2e61aa(0x317)]['borderRadius']=_0x5d5b7a?_0x2e61aa(0x25a):_0x2e61aa(0x271);}function openAddSession(_0x1c2bf0){const _0x5382ed=a2_0x549775;editingId=null,populateClientSelect(),document['getElementById']('sheetTitle')[_0x5382ed(0x25c)]=_0x5382ed(0x1a6),document[_0x5382ed(0x2fb)](_0x5382ed(0x2f6))[_0x5382ed(0x317)]['display']=_0x5382ed(0x261),document[_0x5382ed(0x2fb)](_0x5382ed(0x30d))[_0x5382ed(0x317)]['display']=_0x5382ed(0x261);const _0x2bda30=document[_0x5382ed(0x2fb)](_0x5382ed(0x212)),_0x2aba5a=document[_0x5382ed(0x2fb)]('seriesCountContainer');_0x2bda30[_0x5382ed(0x317)][_0x5382ed(0x278)]=_0x5382ed(0x2ae),_0x2bda30['style'][_0x5382ed(0x2ce)]=_0x5382ed(0x271),document[_0x5382ed(0x2fb)](_0x5382ed(0x1cc))['checked']=![],document[_0x5382ed(0x2fb)](_0x5382ed(0x2fd))['value']=0x4,_0x2aba5a[_0x5382ed(0x317)][_0x5382ed(0x278)]=_0x5382ed(0x261),document[_0x5382ed(0x2fb)](_0x5382ed(0x1a2))[_0x5382ed(0x27e)]=getLocalDateStr(_0x1c2bf0),updateDateDisplay();const _0x1218b1=_0x1c2bf0[_0x5382ed(0x1f2)]();document[_0x5382ed(0x2fb)](_0x5382ed(0x2ab))[_0x5382ed(0x27e)]=String(_0x1218b1)[_0x5382ed(0x1f8)](0x2,'0')+':00',document[_0x5382ed(0x2fb)](_0x5382ed(0x250))[_0x5382ed(0x27e)]=String(_0x1218b1+0x1)['padStart'](0x2,'0')+':00',openSheet('sessionSheet');}function openEdit(_0x28f1aa){const _0x4a8799=a2_0x549775;editingId=_0x28f1aa['id'],populateClientSelect(),document[_0x4a8799(0x2fb)]('sheetTitle')[_0x4a8799(0x25c)]=_0x4a8799(0x287),document[_0x4a8799(0x2fb)](_0x4a8799(0x2f6))[_0x4a8799(0x317)]['display']=_0x4a8799(0x298);const _0x1f1a5f=document[_0x4a8799(0x2fb)]('btnStatusToggle');_0x1f1a5f[_0x4a8799(0x317)][_0x4a8799(0x278)]=_0x4a8799(0x2ae);_0x28f1aa[_0x4a8799(0x1d5)]==='completed'?(_0x1f1a5f[_0x4a8799(0x21e)]=_0x4a8799(0x2c1),_0x1f1a5f[_0x4a8799(0x1e8)]='–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ'):(_0x1f1a5f[_0x4a8799(0x21e)]=_0x4a8799(0x22f),_0x1f1a5f[_0x4a8799(0x1e8)]=_0x4a8799(0x2fa));const _0x3347c6=!!_0x28f1aa['seriesId'];document[_0x4a8799(0x2fb)](_0x4a8799(0x212))[_0x4a8799(0x317)][_0x4a8799(0x278)]='none',document['getElementById'](_0x4a8799(0x246))['style'][_0x4a8799(0x278)]=_0x4a8799(0x261),_0x3347c6?(document[_0x4a8799(0x2fb)]('patternInfoBox')[_0x4a8799(0x317)]['display']='flex',document[_0x4a8799(0x2fb)](_0x4a8799(0x2b6))[_0x4a8799(0x23e)](_0x4a8799(0x1c5))[_0x4a8799(0x25c)]=_0x4a8799(0x23f)):document['getElementById']('patternInfoBox')[_0x4a8799(0x317)]['display']=_0x4a8799(0x261),document[_0x4a8799(0x2fb)]('inpClient')[_0x4a8799(0x27e)]=_0x28f1aa[_0x4a8799(0x244)],document[_0x4a8799(0x2fb)](_0x4a8799(0x1a2))['value']=_0x28f1aa[_0x4a8799(0x2c6)],document['getElementById'](_0x4a8799(0x2ab))[_0x4a8799(0x27e)]=_0x28f1aa[_0x4a8799(0x1fd)],document['getElementById'](_0x4a8799(0x250))['value']=_0x28f1aa['end'],document['getElementById'](_0x4a8799(0x1d8))['value']=_0x28f1aa[_0x4a8799(0x282)]||'',updateDateDisplay(),openSheet('sessionSheet');}async function trySaveSession(){const _0x3ae75d=a2_0x549775,_0x49a5a9=document[_0x3ae75d(0x2fb)]('inpClient')[_0x3ae75d(0x27e)],_0x31085e=document[_0x3ae75d(0x2fb)](_0x3ae75d(0x1a2))[_0x3ae75d(0x27e)],_0x210c52=document[_0x3ae75d(0x2fb)](_0x3ae75d(0x2ab))[_0x3ae75d(0x27e)],_0x41c12b=document[_0x3ae75d(0x2fb)](_0x3ae75d(0x250))['value'],_0x21d293=document[_0x3ae75d(0x2fb)](_0x3ae75d(0x1d8))[_0x3ae75d(0x27e)],_0x1593e3=document[_0x3ae75d(0x2fb)](_0x3ae75d(0x1cc))[_0x3ae75d(0x2c0)];let _0x4af3de=0x4;if(_0x1593e3){const _0x4f3904=parseInt(document[_0x3ae75d(0x2fb)](_0x3ae75d(0x2fd))[_0x3ae75d(0x27e)]);if(!_0x4f3904||_0x4f3904<0x2){showToast(_0x3ae75d(0x1f1),![]);return;}if(_0x4f3904>0x64){showToast(_0x3ae75d(0x2d2),![]);return;}_0x4af3de=_0x4f3904;}const _0x1f030a=clients[_0x3ae75d(0x2e0)](_0x34bb90=>_0x34bb90['name']===_0x49a5a9);if(!_0x1f030a){showToast(_0x3ae75d(0x2e1),![]);return;}const _0x24474d=validateAppointment(_0x31085e,_0x210c52,_0x41c12b,editingId,_0x1f030a['id']);if(!_0x24474d[_0x3ae75d(0x2c5)]){showToast(_0x24474d[_0x3ae75d(0x1f3)],![]);return;}_0x24474d[_0x3ae75d(0x274)]&&showToast(_0x24474d[_0x3ae75d(0x274)],![]);const _0x1c1d18={'client':_0x49a5a9,'clientId':_0x1f030a['id'],'start':_0x210c52,'end':_0x41c12b,'note':_0x21d293,'status':_0x3ae75d(0x1b6)},_0x2d0620=editingId?sessions[_0x3ae75d(0x2e0)](_0x28dac1=>_0x28dac1['id']===editingId):null;if(_0x2d0620&&_0x2d0620[_0x3ae75d(0x2f8)]){tempSessionData={..._0x1c1d18,'dateStr':_0x31085e,'id':editingId,'seriesId':_0x2d0620[_0x3ae75d(0x2f8)]},openActionSheet(_0x3ae75d(0x2ff));return;}let _0x65455c=null;if(!editingId)_0x65455c=_0x3ae75d(0x201);else{if(_0x2d0620){if(String(_0x2d0620[_0x3ae75d(0x30f)])!==String(_0x1f030a['id']))console[_0x3ae75d(0x30b)](_0x3ae75d(0x26d)),NotificationManager[_0x3ae75d(0x2c9)](_0x3ae75d(0x23a),_0x2d0620),_0x65455c='create';else(_0x2d0620[_0x3ae75d(0x1fd)]!==_0x210c52||_0x2d0620['end']!==_0x41c12b||_0x2d0620['dateStr']!==_0x31085e)&&(_0x65455c=_0x3ae75d(0x294));}}if(!editingId&&_0x1593e3){createBatchSeries(_0x1c1d18,_0x31085e,_0x4af3de),NotificationManager['send']('create',{..._0x1c1d18,'dateStr':_0x31085e});return;}lastUserActionTime=Date[_0x3ae75d(0x2d8)]();const _0x52cd63={..._0x1c1d18,'dateStr':_0x31085e,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x52cd63),_0x65455c&&NotificationManager[_0x3ae75d(0x2c9)](_0x65455c,_0x52cd63);}function toggleSessionStatus(){const _0x3805ae=a2_0x549775;lastUserActionTime=Date[_0x3805ae(0x2d8)]();const _0x3e9ea2=sessions[_0x3805ae(0x2e0)](_0x3949e2=>_0x3949e2['id']===editingId);if(!_0x3e9ea2)return;const _0x56d22e=_0x3e9ea2[_0x3805ae(0x1d5)]===_0x3805ae(0x22a)?_0x3805ae(0x1b6):_0x3805ae(0x22a);_0x3e9ea2[_0x3805ae(0x1d5)]=_0x56d22e,saveSingleSession(_0x3e9ea2),_0x56d22e==='completed'&&NotificationManager[_0x3805ae(0x2c9)](_0x3805ae(0x209),_0x3e9ea2),showToast(_0x56d22e==='completed'?_0x3805ae(0x316):_0x3805ae(0x229),!![]);}function validateAppointment(_0x1a984f,_0xc194d8,_0x14f3e6,_0x13ca7f,_0x2dd969){const _0x14b3cf=a2_0x549775,[_0x568d84,_0x1046db]=_0xc194d8['split'](':')[_0x14b3cf(0x1f0)](Number),[_0x28cb1e,_0x5442a2]=_0x14f3e6[_0x14b3cf(0x2a3)](':')['map'](Number),_0x4c99fc=_0x568d84*0x3c+_0x1046db,_0x5bf861=_0x28cb1e*0x3c+_0x5442a2,_0x198229=String(_0x2dd969);let _0x787be0=![],_0x27eec7='';for(let _0x1c65a3 of sessions){if(_0x1c65a3[_0x14b3cf(0x2c6)]!==_0x1a984f)continue;if(_0x1c65a3[_0x14b3cf(0x1d5)]===_0x14b3cf(0x239))continue;if(_0x13ca7f&&String(_0x1c65a3['id'])===String(_0x13ca7f))continue;const [_0x124de0,_0x4dee95]=_0x1c65a3[_0x14b3cf(0x1fd)]['split'](':')[_0x14b3cf(0x1f0)](Number),[_0x1a8c68,_0x24705b]=_0x1c65a3[_0x14b3cf(0x1b2)][_0x14b3cf(0x2a3)](':')[_0x14b3cf(0x1f0)](Number),_0x1de8d9=_0x124de0*0x3c+_0x4dee95,_0x340dc3=_0x1a8c68*0x3c+_0x24705b;if(Math[_0x14b3cf(0x23c)](_0x4c99fc,_0x1de8d9)<Math[_0x14b3cf(0x259)](_0x5bf861,_0x340dc3)){if(_0x1c65a3['clientId']&&String(_0x1c65a3[_0x14b3cf(0x30f)])===_0x198229)return{'valid':![],'msg':_0x14b3cf(0x2a2)+_0x1c65a3['client']+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x787be0=!![],_0x27eec7=_0x1c65a3[_0x14b3cf(0x244)];}}if(_0x787be0)return{'valid':!![],'warning':_0x14b3cf(0x237)+_0x27eec7};return{'valid':!![]};}function saveSingleSession(_0x57e75e){const _0x44b6f9=a2_0x549775;if(editingId){const _0x2b8c34=sessions['findIndex'](_0xfacc9f=>_0xfacc9f['id']===editingId);if(_0x2b8c34!==-0x1)sessions[_0x2b8c34]=_0x57e75e;}else sessions[_0x44b6f9(0x1b4)](_0x57e75e);afterSaveAction([_0x57e75e[_0x44b6f9(0x2c6)]]);}function createBatchSeries(_0x37b075,_0x42f729,_0x106498){const _0xd36fbb=a2_0x549775,_0x24d60a=generateId(),_0x319182=[],_0x43810d=[];let _0x131578=0x0,_0xdf52c1=new Date(_0x42f729);for(let _0x316c8e=0x0;_0x316c8e<_0x106498;_0x316c8e++){const _0x21b3a0=getLocalDateStr(_0xdf52c1),_0x4eda80=validateAppointment(_0x21b3a0,_0x37b075[_0xd36fbb(0x1fd)],_0x37b075['end'],null,_0x37b075['clientId']);if(!_0x4eda80[_0xd36fbb(0x2c5)])console[_0xd36fbb(0x30b)]('[Series]\x20Skipped\x20'+_0x21b3a0+_0xd36fbb(0x1cb)),_0x131578++;else{const _0x1aee21={..._0x37b075,'id':generateId(),'dateStr':_0x21b3a0,'seriesId':_0x24d60a};_0x43810d['push'](_0x1aee21),_0x319182[_0xd36fbb(0x1b4)](_0x21b3a0);}_0xdf52c1[_0xd36fbb(0x257)](_0xdf52c1[_0xd36fbb(0x255)]()+0x7);}if(_0x43810d[_0xd36fbb(0x2a7)]===0x0){showToast(_0xd36fbb(0x1e0),![]);return;}sessions[_0xd36fbb(0x1b4)](..._0x43810d),lastUserActionTime=Date[_0xd36fbb(0x2d8)]();let _0x240ec2='–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20'+_0x43810d[_0xd36fbb(0x2a7)];_0x131578>0x0&&(_0x240ec2+=_0xd36fbb(0x2d1)+_0x131578+')'),showToast(_0x240ec2,!![]),afterSaveAction(_0x319182);}function updateSeriesBatch(_0x23b0a3,_0x59333b){const _0x49546e=a2_0x549775,_0x25ce97=[],_0x31b4f1=_0x59333b['seriesId'];if(_0x23b0a3==='single'){const _0x18a950={..._0x59333b,'seriesId':null},_0x2718cc=sessions[_0x49546e(0x2f4)](_0x157a46=>_0x157a46['id']===_0x59333b['id']);if(_0x2718cc!==-0x1)sessions[_0x2718cc]=_0x18a950;_0x25ce97[_0x49546e(0x1b4)](_0x18a950[_0x49546e(0x2c6)]);}else{if(_0x23b0a3===_0x49546e(0x296)){const _0x1fa37b=_0x59333b[_0x49546e(0x2c6)];sessions[_0x49546e(0x27c)]((_0x53a59f,_0x248cc2)=>{const _0x216857=_0x49546e;_0x53a59f[_0x216857(0x2f8)]===_0x31b4f1&&_0x53a59f[_0x216857(0x2c6)]>=_0x1fa37b&&(sessions[_0x248cc2]={...sessions[_0x248cc2],'start':_0x59333b[_0x216857(0x1fd)],'end':_0x59333b[_0x216857(0x1b2)],'note':_0x59333b['note'],'client':_0x59333b['client'],'clientId':_0x59333b[_0x216857(0x30f)]},_0x25ce97[_0x216857(0x1b4)](_0x53a59f[_0x216857(0x2c6)]));});}}afterSaveAction(_0x25ce97);}function tryDeleteSession(){const _0x3f951b=a2_0x549775,_0x2fb5f0=sessions['find'](_0x3de4ac=>_0x3de4ac['id']===editingId);if(!_0x2fb5f0)return;_0x2fb5f0['seriesId']?openActionSheet('delete'):commitDelete(_0x3f951b(0x20b),_0x2fb5f0);}function commitDelete(_0x2d98dc,_0x54a73e){const _0xd7547a=a2_0x549775;lastUserActionTime=Date[_0xd7547a(0x2d8)](),NotificationManager[_0xd7547a(0x2c9)](_0xd7547a(0x23a),_0x54a73e);const _0x4bc5c2=[];if(_0x2d98dc==='single')sessions=sessions[_0xd7547a(0x222)](_0x40cfeb=>_0x40cfeb['id']!==_0x54a73e['id']),_0x4bc5c2[_0xd7547a(0x1b4)](_0x54a73e[_0xd7547a(0x2c6)]);else{if(_0x2d98dc===_0xd7547a(0x296)){const _0x404e08=_0x54a73e[_0xd7547a(0x2c6)],_0x175754=_0x54a73e[_0xd7547a(0x2f8)];sessions[_0xd7547a(0x27c)](_0x5b96ec=>{const _0x3d32ec=_0xd7547a;_0x5b96ec[_0x3d32ec(0x2f8)]===_0x175754&&_0x5b96ec[_0x3d32ec(0x2c6)]>=_0x404e08&&_0x4bc5c2[_0x3d32ec(0x1b4)](_0x5b96ec[_0x3d32ec(0x2c6)]);}),sessions=sessions['filter'](_0x28b1bd=>!(_0x28b1bd['seriesId']===_0x175754&&_0x28b1bd[_0xd7547a(0x2c6)]>=_0x404e08));}}afterSaveAction(_0x4bc5c2);}function afterSaveAction(_0x1a59fd){const _0x525991=a2_0x549775;DataManager['saveLocally'](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x525991(0x223)](_0x1a59fd)[_0x525991(0x286)](()=>console[_0x525991(0x30b)](_0x525991(0x289)))[_0x525991(0x22b)](_0x32b52e=>showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ',![]));}const NotificationManager={'formatDate'(_0x5367d8){const _0x9b5dcf=a2_0x549775,_0x34c49d=new Date(_0x5367d8),_0x59ee00={'weekday':_0x9b5dcf(0x24a),'day':_0x9b5dcf(0x1a9),'month':_0x9b5dcf(0x24a)};let _0x3a3835=_0x34c49d[_0x9b5dcf(0x238)]('ru-RU',_0x59ee00);return _0x3a3835[_0x9b5dcf(0x1b1)](0x0)[_0x9b5dcf(0x231)]()+_0x3a3835[_0x9b5dcf(0x2bc)](0x1);},'getText'(_0xa049c8,_0x5de560){const _0x22cc6d=a2_0x549775,_0x47e0c2=this[_0x22cc6d(0x307)](_0x5de560[_0x22cc6d(0x2c6)]);switch(_0xa049c8){case'create':return _0x22cc6d(0x303)+(_0x22cc6d(0x249)+_0x47e0c2+'\x0a')+(_0x22cc6d(0x267)+_0x5de560['start']+_0x22cc6d(0x1c0)+_0x5de560[_0x22cc6d(0x1b2)]+'\x0a\x0a')+_0x22cc6d(0x21c);case _0x22cc6d(0x294):return _0x22cc6d(0x2a8)+'–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a'+(_0x22cc6d(0x26a)+_0x5de560['start']+_0x22cc6d(0x1c0)+_0x5de560[_0x22cc6d(0x1b2)]+'</b>\x0a\x0a')+(_0x22cc6d(0x249)+_0x47e0c2);case _0x22cc6d(0x23a):return _0x22cc6d(0x297)+(_0x22cc6d(0x2fe)+_0x47e0c2+'\x20('+_0x5de560[_0x22cc6d(0x1fd)]+_0x22cc6d(0x30e));case _0x22cc6d(0x209):return'<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a'+_0x22cc6d(0x1f7)+_0x22cc6d(0x273);default:return'';}},async 'send'(_0x2894f2,_0x5c4b16){const _0x31f81e=a2_0x549775;console[_0x31f81e(0x30b)](_0x31f81e(0x266),_0x2894f2,_0x5c4b16);if(!_0x5c4b16){console[_0x31f81e(0x2ef)](_0x31f81e(0x1c6));return;}const _0x1df337=String(_0x5c4b16[_0x31f81e(0x30f)]);console['log']('[Notify]\x20Detected\x20Client\x20ID:',_0x1df337);if(!_0x5c4b16[_0x31f81e(0x30f)]||_0x1df337===_0x31f81e(0x1f9)||_0x1df337===_0x31f81e(0x22d)){console[_0x31f81e(0x2ef)](_0x31f81e(0x263));if(_0x5c4b16[_0x31f81e(0x244)]){const _0x23dc0e=clients['find'](_0x96d391=>_0x96d391[_0x31f81e(0x221)]===_0x5c4b16[_0x31f81e(0x244)]);if(_0x23dc0e)return console['log']('[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:',_0x23dc0e['id']),this[_0x31f81e(0x2c9)](_0x2894f2,{..._0x5c4b16,'clientId':_0x23dc0e['id']});}return;}if(_0x1df337[_0x31f81e(0x2a7)]<0x5){console[_0x31f81e(0x2c2)]('[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)',_0x1df337);return;}const _0x18434b=this['getText'](_0x2894f2,_0x5c4b16);if(!_0x18434b){console[_0x31f81e(0x2ef)](_0x31f81e(0x20c));return;}console[_0x31f81e(0x30b)](_0x31f81e(0x1fa)+_0x1df337+'...'),DataManager['fetchFromServer'](_0x31f81e(0x24e),{'chatId':_0x1df337,'text':_0x18434b})[_0x31f81e(0x286)](_0x8a162a=>console[_0x31f81e(0x30b)](_0x31f81e(0x208),_0x8a162a))[_0x31f81e(0x22b)](_0x5ca3bc=>console[_0x31f81e(0x2ef)]('[Notify]\x20Network\x20Failed',_0x5ca3bc));}};function getLocalDateStr(_0x1bd8cd){const _0x5759ef=a2_0x549775,_0x2b4c78=_0x1bd8cd[_0x5759ef(0x1db)](),_0x252ab2=String(_0x1bd8cd[_0x5759ef(0x1c1)]()+0x1)[_0x5759ef(0x1f8)](0x2,'0'),_0x3409dd=String(_0x1bd8cd[_0x5759ef(0x255)]())[_0x5759ef(0x1f8)](0x2,'0');return _0x2b4c78+'-'+_0x252ab2+'-'+_0x3409dd;}function getDateStr(_0x32ea7b){const _0x4ffeab=a2_0x549775,_0x167583=new Date();return _0x167583[_0x4ffeab(0x257)](_0x167583['getDate']()+_0x32ea7b),getLocalDateStr(_0x167583);}function getStartOfWeek(_0x43c0ce){const _0x223e66=a2_0x549775,_0x598898=(function(){let _0x3cc706=!![];return function(_0x118b5b,_0x37519d){const _0x466891=_0x3cc706?function(){const _0x57087f=a2_0xc46d;if(_0x37519d){const _0x43ac08=_0x37519d[_0x57087f(0x2bb)](_0x118b5b,arguments);return _0x37519d=null,_0x43ac08;}}:function(){};return _0x3cc706=![],_0x466891;};}()),_0x453dde=_0x598898(this,function(){const _0x20cca4=a2_0xc46d;return _0x453dde[_0x20cca4(0x1cf)]()[_0x20cca4(0x299)]('(((.+)+)+)+$')[_0x20cca4(0x1cf)]()['constructor'](_0x453dde)[_0x20cca4(0x299)]('(((.+)+)+)+$');});_0x453dde();const _0x37cae0=new Date(_0x43c0ce),_0x197180=_0x37cae0[_0x223e66(0x216)](),_0x2dc07e=_0x37cae0[_0x223e66(0x255)]()-_0x197180+(_0x197180===0x0?-0x6:0x1);return _0x37cae0[_0x223e66(0x257)](_0x2dc07e),_0x37cae0[_0x223e66(0x29f)](0x0,0x0,0x0,0x0),_0x37cae0;}function hexToRgba(_0x5d695b,_0x4b356f){const _0x25f0d6=a2_0x549775;if(!_0x5d695b)return _0x25f0d6(0x1e4);let _0x416608=0x0,_0xd6ecac=0x0,_0x4779e6=0x0;if(_0x5d695b[_0x25f0d6(0x2a7)]===0x4)_0x416608='0x'+_0x5d695b[0x1]+_0x5d695b[0x1],_0xd6ecac='0x'+_0x5d695b[0x2]+_0x5d695b[0x2],_0x4779e6='0x'+_0x5d695b[0x3]+_0x5d695b[0x3];else _0x5d695b['length']===0x7&&(_0x416608='0x'+_0x5d695b[0x1]+_0x5d695b[0x2],_0xd6ecac='0x'+_0x5d695b[0x3]+_0x5d695b[0x4],_0x4779e6='0x'+_0x5d695b[0x5]+_0x5d695b[0x6]);return _0x25f0d6(0x292)+ +_0x416608+',\x20'+ +_0xd6ecac+',\x20'+ +_0x4779e6+',\x20'+_0x4b356f+')';}function renderTimeColumn(){const _0x6cc6ff=a2_0x549775,_0x124acc=document[_0x6cc6ff(0x2fb)]('timeColumn'),_0x2c02a1=document[_0x6cc6ff(0x2fb)]('timeLineBadge');_0x124acc[_0x6cc6ff(0x1e8)]='',_0x124acc[_0x6cc6ff(0x310)](_0x2c02a1);for(let _0x4f86f3=0x0;_0x4f86f3<0x18;_0x4f86f3++){const _0x17ecf6=document['createElement'](_0x6cc6ff(0x304));_0x17ecf6['className']=_0x6cc6ff(0x1ce);if(_0x4f86f3>0x0)_0x17ecf6[_0x6cc6ff(0x1e8)]=_0x6cc6ff(0x27f)+String(_0x4f86f3)[_0x6cc6ff(0x1f8)](0x2,'0')+_0x6cc6ff(0x23b);_0x124acc[_0x6cc6ff(0x310)](_0x17ecf6);}}function renderDayRange(_0x300911,_0x3cc091){const _0x1d0ccf=a2_0x549775,_0x188208=document[_0x1d0ccf(0x2fb)]('daysHeaderTrack'),_0x340062=document[_0x1d0ccf(0x2fb)](_0x1d0ccf(0x1e5)),_0x462269=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x12631f=new Date();_0x12631f[_0x1d0ccf(0x29f)](0x0,0x0,0x0,0x0);const _0x2a83ee=getLocalDateStr(new Date());for(let _0x44375e=_0x300911;_0x44375e<=_0x3cc091;_0x44375e++){const _0x22be66=new Date(_0x12631f);_0x22be66['setDate'](_0x22be66[_0x1d0ccf(0x255)]()+_0x44375e);const _0x42902b=getLocalDateStr(_0x22be66);let _0x56cbf0=_0x22be66[_0x1d0ccf(0x216)]()-0x1;if(_0x56cbf0===-0x1)_0x56cbf0=0x6;const _0x2b2794=_0x42902b===_0x2a83ee,_0x5e7980=document[_0x1d0ccf(0x290)](_0x1d0ccf(0x304));_0x5e7980['className']=_0x1d0ccf(0x1e7)+(_0x2b2794?_0x1d0ccf(0x312):''),_0x5e7980['id']=_0x1d0ccf(0x300)+_0x42902b,_0x5e7980[_0x1d0ccf(0x280)](_0x1d0ccf(0x1d0),_0x42902b),_0x5e7980[_0x1d0ccf(0x1e8)]=_0x1d0ccf(0x27b)+_0x462269[_0x56cbf0]+'</div><div\x20class=\x22dch-num\x22>'+_0x22be66['getDate']()+_0x1d0ccf(0x29c)+_0x42902b+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x5e7980[_0x1d0ccf(0x270)]=()=>openDayOptions(_0x42902b,_0x462269[_0x56cbf0]+'\x20'+_0x22be66[_0x1d0ccf(0x255)]()),_0x188208['appendChild'](_0x5e7980);const _0x426f93=document['createElement'](_0x1d0ccf(0x304));_0x426f93[_0x1d0ccf(0x21e)]=_0x1d0ccf(0x293)+(_0x2b2794?_0x1d0ccf(0x312):''),_0x426f93['setAttribute'](_0x1d0ccf(0x1d0),_0x42902b),_0x426f93[_0x1d0ccf(0x280)]('data-day-idx',_0x56cbf0),renderEventsForColumn(_0x426f93,_0x42902b,_0x56cbf0),attachLongPressHandler(_0x426f93,_0x22be66),_0x340062['appendChild'](_0x426f93),updateDayStats(_0x42902b);}}function reRenderBlocks(){const _0x3a8746=a2_0x549775;document['querySelectorAll'](_0x3a8746(0x236))[_0x3a8746(0x27c)](_0x297e9e=>{const _0x59d573=_0x3a8746;_0x297e9e['querySelectorAll'](_0x59d573(0x1a8))[_0x59d573(0x27c)](_0x44636f=>_0x44636f['remove']());const _0x58d83e=_0x297e9e[_0x59d573(0x2e5)](_0x59d573(0x1d0)),_0x6aa153=parseInt(_0x297e9e['getAttribute'](_0x59d573(0x2c3))),_0x518280=Math[_0x59d573(0x272)](_0x297e9e[_0x59d573(0x284)]);(availabilityPattern[_0x6aa153]||[])[_0x59d573(0x27c)](_0x2d3dd6=>{const _0x5341a9=_0x59d573,_0x2ad483=document[_0x5341a9(0x290)]('div');_0x2ad483[_0x5341a9(0x21e)]=_0x5341a9(0x220);const _0xe99f3c=_0x2d3dd6*GRID_H;_0x2ad483[_0x5341a9(0x317)][_0x5341a9(0x1ee)]=_0xe99f3c+'px',_0x2ad483[_0x5341a9(0x317)][_0x5341a9(0x2db)]='-'+_0x518280+_0x5341a9(0x211)+_0xe99f3c+'px',_0x297e9e[_0x5341a9(0x310)](_0x2ad483);});if(specialRanges&&specialRanges['length']>0x0){const _0x20efb0=new Date(_0x58d83e+_0x59d573(0x1fc))[_0x59d573(0x2be)](),_0x4fcf89=new Date(_0x58d83e+_0x59d573(0x247))[_0x59d573(0x2be)]();specialRanges['forEach'](_0x569438=>{const _0x196d9e=_0x59d573,_0x1ed6d9=new Date(_0x569438[_0x196d9e(0x1fd)])[_0x196d9e(0x2be)](),_0x1308bf=new Date(_0x569438[_0x196d9e(0x1b2)])['getTime'](),_0x42bd91=Math[_0x196d9e(0x23c)](_0x20efb0,_0x1ed6d9),_0x284f6d=Math[_0x196d9e(0x259)](_0x4fcf89,_0x1308bf);if(_0x42bd91<_0x284f6d){if(_0x42bd91<=_0x20efb0&&_0x284f6d>=_0x4fcf89-0xea60){if(!_0x297e9e['querySelector'](_0x196d9e(0x2b3))){const _0x610380=document['createElement'](_0x196d9e(0x304));_0x610380[_0x196d9e(0x21e)]=_0x196d9e(0x260),_0x610380[_0x196d9e(0x317)][_0x196d9e(0x2db)]='-'+_0x518280+_0x196d9e(0x1d7),_0x297e9e[_0x196d9e(0x310)](_0x610380);}}else{const _0x4fe8d1=(_0x42bd91-_0x20efb0)/0x36ee80*GRID_H,_0x132787=(_0x284f6d-_0x42bd91)/0x36ee80*GRID_H,_0x183af8=document[_0x196d9e(0x290)](_0x196d9e(0x304));_0x183af8['className']='blocked-range-part\x20stripe-bg',_0x183af8[_0x196d9e(0x317)][_0x196d9e(0x1ee)]=_0x4fe8d1+'px',_0x183af8['style'][_0x196d9e(0x202)]=_0x132787+'px',_0x183af8['style']['backgroundPosition']='-'+_0x518280+_0x196d9e(0x211)+_0x4fe8d1+'px',_0x297e9e[_0x196d9e(0x310)](_0x183af8);}}});}if(dateExceptions[_0x58d83e]===_0x59d573(0x305)){if(!_0x297e9e['querySelector'](_0x59d573(0x2b3))){const _0x4470e6=document[_0x59d573(0x290)](_0x59d573(0x304));_0x4470e6[_0x59d573(0x21e)]='day-off-overlay\x20stripe-bg',_0x4470e6['style']['backgroundPosition']='-'+_0x518280+_0x59d573(0x1d7),_0x297e9e['appendChild'](_0x4470e6);}}renderEventsForColumn(_0x297e9e,_0x58d83e,_0x6aa153),updateDayStats(_0x58d83e);});}function updateAllDayStats(){const _0x1c8751=a2_0x549775;document['querySelectorAll'](_0x1c8751(0x2c8))[_0x1c8751(0x27c)](_0x32b0fa=>{const _0x2f9e71=_0x1c8751;updateDayStats(_0x32b0fa[_0x2f9e71(0x2e5)]('data-date'));});}function updateDayStats(_0x469497){const _0x407500=a2_0x549775,_0x776dab=document[_0x407500(0x2fb)](_0x407500(0x218)+_0x469497);if(!_0x776dab)return;const _0x1958c4=new Date(_0x469497);let _0x45e9d4=_0x1958c4[_0x407500(0x216)]()-0x1;if(_0x45e9d4===-0x1)_0x45e9d4=0x6;if(dateExceptions[_0x469497]===_0x407500(0x305)){_0x776dab[_0x407500(0x317)][_0x407500(0x278)]=_0x407500(0x261);return;}const _0x15ea7f=availabilityPattern[_0x45e9d4]||[],_0x276cb8=0x18-_0x15ea7f[_0x407500(0x2a7)],_0x413792=_0x276cb8*0x3c,_0x2aee3d=sessions[_0x407500(0x222)](_0x58a207=>_0x58a207['dateStr']===_0x469497&&_0x58a207[_0x407500(0x1d5)]!==_0x407500(0x239));if(_0x2aee3d[_0x407500(0x2a7)]===0x0){_0x776dab[_0x407500(0x317)][_0x407500(0x278)]=_0x407500(0x261);return;}let _0x52232e=_0x2aee3d[_0x407500(0x1f0)](_0x424d38=>{const _0x210437=_0x407500,[_0x40b1d7,_0x2cfb0d]=_0x424d38['start']['split'](':')[_0x210437(0x1f0)](Number),[_0x5d5a58,_0x93f41]=_0x424d38[_0x210437(0x1b2)]['split'](':')[_0x210437(0x1f0)](Number);return[_0x40b1d7*0x3c+_0x2cfb0d,_0x5d5a58*0x3c+_0x93f41];});_0x52232e[_0x407500(0x1ca)]((_0x406680,_0x3a8034)=>_0x406680[0x0]-_0x3a8034[0x0]);let _0x2c2c13=[];if(_0x52232e[_0x407500(0x2a7)]>0x0){let _0x8c65bf=_0x52232e[0x0];for(let _0x1ffd20=0x1;_0x1ffd20<_0x52232e[_0x407500(0x2a7)];_0x1ffd20++){_0x52232e[_0x1ffd20][0x0]<_0x8c65bf[0x1]?_0x8c65bf[0x1]=Math[_0x407500(0x23c)](_0x8c65bf[0x1],_0x52232e[_0x1ffd20][0x1]):(_0x2c2c13[_0x407500(0x1b4)](_0x8c65bf),_0x8c65bf=_0x52232e[_0x1ffd20]);}_0x2c2c13['push'](_0x8c65bf);}let _0x33fdf6=0x0;_0x2c2c13[_0x407500(0x27c)](_0x5ece09=>_0x33fdf6+=_0x5ece09[0x1]-_0x5ece09[0x0]),_0x776dab[_0x407500(0x317)][_0x407500(0x278)]=_0x407500(0x2ae);const _0x1adca5=_0x776dab[_0x407500(0x23e)]('.dch-stats-fill');if(_0x413792===0x0){_0x1adca5[_0x407500(0x317)][_0x407500(0x2cb)]=_0x407500(0x2cf),_0x1adca5[_0x407500(0x317)]['background']=_0x407500(0x26f);return;}const _0x5e6447=_0x33fdf6/_0x413792*0x64;console[_0x407500(0x30b)]('['+_0x469497+']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20'+_0x276cb8+'—á,\x20–ó–∞–Ω—è—Ç–æ:\x20'+_0x33fdf6+_0x407500(0x203)+_0x5e6447[_0x407500(0x2d4)](0x1)+'%'),_0x5e6447>0x64?(_0x1adca5['style'][_0x407500(0x2cb)]=_0x407500(0x2cf),_0x1adca5['style'][_0x407500(0x1a0)]=_0x407500(0x26f)):(_0x1adca5[_0x407500(0x317)]['width']=_0x5e6447+'%',_0x1adca5[_0x407500(0x317)]['background']=_0x407500(0x20f));}function renderEventsForColumn(_0xe2a33f,_0x2ad451,_0x3cff60){const _0x22583d=a2_0x549775,_0x4b5fe5=sessions[_0x22583d(0x222)](_0x1a9208=>_0x1a9208[_0x22583d(0x2c6)]===_0x2ad451),_0x108011=_0x4b5fe5['map'](_0x5b35dc=>{const _0x318a93=_0x22583d,[_0x5def79,_0x44f753]=_0x5b35dc[_0x318a93(0x1fd)][_0x318a93(0x2a3)](':')['map'](Number),[_0x4a071d,_0x6d2bbb]=_0x5b35dc[_0x318a93(0x1b2)][_0x318a93(0x2a3)](':')['map'](Number);return{'data':_0x5b35dc,'start':_0x5def79*0x3c+_0x44f753,'end':_0x4a071d*0x3c+_0x6d2bbb,'colIndex':0x0};});_0x108011[_0x22583d(0x1ca)]((_0x3be53c,_0x56ad67)=>{const _0x2e020b=_0x22583d;if(_0x3be53c[_0x2e020b(0x1fd)]!==_0x56ad67[_0x2e020b(0x1fd)])return _0x3be53c[_0x2e020b(0x1fd)]-_0x56ad67[_0x2e020b(0x1fd)];return _0x56ad67[_0x2e020b(0x1b2)]-_0x56ad67[_0x2e020b(0x1fd)]-(_0x3be53c[_0x2e020b(0x1b2)]-_0x3be53c[_0x2e020b(0x1fd)]);});const _0x3454a0=[];_0x108011[_0x22583d(0x27c)](_0x39974a=>{const _0x41b989=_0x22583d;let _0x1bc9f6=![];for(let _0x592bed=0x0;_0x592bed<_0x3454a0[_0x41b989(0x2a7)];_0x592bed++){const _0x3e410b=_0x3454a0[_0x592bed],_0x5d63ae=_0x3e410b[_0x3e410b['length']-0x1];if(_0x39974a[_0x41b989(0x1fd)]>=_0x5d63ae[_0x41b989(0x1b2)]){_0x3e410b[_0x41b989(0x1b4)](_0x39974a),_0x39974a['colIndex']=_0x592bed,_0x1bc9f6=!![];break;}}!_0x1bc9f6&&(_0x3454a0[_0x41b989(0x1b4)]([_0x39974a]),_0x39974a[_0x41b989(0x1af)]=_0x3454a0[_0x41b989(0x2a7)]-0x1);}),_0x108011[_0x22583d(0x27c)](_0x1f5070=>{const _0xea3809=_0x22583d;let _0x12ab01=0x0;_0x108011[_0xea3809(0x27c)](_0x1a0d8=>{const _0x57c2ca=_0xea3809;if(Math[_0x57c2ca(0x23c)](_0x1f5070[_0x57c2ca(0x1fd)],_0x1a0d8[_0x57c2ca(0x1fd)])<Math[_0x57c2ca(0x259)](_0x1f5070[_0x57c2ca(0x1b2)],_0x1a0d8[_0x57c2ca(0x1b2)])){if(_0x1a0d8[_0x57c2ca(0x1af)]>_0x12ab01)_0x12ab01=_0x1a0d8[_0x57c2ca(0x1af)];}});const _0x1aaa37=_0x12ab01+0x1,_0x563fee=0x64/_0x1aaa37,_0x15bf06=_0x1f5070['colIndex']*_0x563fee,_0x5e4de5=createEventEl(_0x1f5070[_0xea3809(0x1a3)]);_0x5e4de5['style'][_0xea3809(0x2cb)]='calc('+_0x563fee+'%\x20-\x204px)',_0x5e4de5[_0xea3809(0x317)][_0xea3809(0x224)]=_0xea3809(0x28a)+_0x15bf06+_0xea3809(0x1d6),_0x5e4de5[_0xea3809(0x317)][_0xea3809(0x2e8)]=0xa+_0x1f5070[_0xea3809(0x1af)],_0x563fee<0x55&&_0x5e4de5['classList'][_0xea3809(0x2cc)](_0xea3809(0x20e)),_0xe2a33f[_0xea3809(0x310)](_0x5e4de5);});}function createEventEl(_0x3d9f95){const _0x444782=a2_0x549775,[_0x3d421f,_0x104c6d]=_0x3d9f95[_0x444782(0x1fd)][_0x444782(0x2a3)](':')[_0x444782(0x1f0)](Number),[_0x5ea961,_0xe01364]=_0x3d9f95[_0x444782(0x1b2)][_0x444782(0x2a3)](':')[_0x444782(0x1f0)](Number),_0x5d7511=(_0x3d421f*0x3c+_0x104c6d)/0x3c*GRID_H,_0x3e17b2=(_0x5ea961*0x3c+_0xe01364-(_0x3d421f*0x3c+_0x104c6d))/0x3c*GRID_H,_0x1314e0=document[_0x444782(0x290)](_0x444782(0x304)),_0x2faedb=_0x3d9f95[_0x444782(0x1d5)]===_0x444782(0x22a)?_0x444782(0x1d9):'';_0x1314e0[_0x444782(0x21e)]=_0x444782(0x2e9)+_0x2faedb,_0x1314e0[_0x444782(0x317)][_0x444782(0x1ee)]=_0x5d7511+'px',_0x1314e0[_0x444782(0x317)][_0x444782(0x202)]=Math[_0x444782(0x23c)](_0x3e17b2,0x14)+'px';const _0x1c44f6=clients[_0x444782(0x2e0)](_0xbe5880=>_0x3d9f95[_0x444782(0x30f)]&&String(_0xbe5880['id'])===String(_0x3d9f95[_0x444782(0x30f)])||_0xbe5880['name']===_0x3d9f95['client']),_0x47aab4=_0x1c44f6?_0x1c44f6[_0x444782(0x25b)]:_0x444782(0x2a1);_0x1314e0[_0x444782(0x317)]['borderLeftColor']=_0x47aab4,_0x1314e0[_0x444782(0x317)][_0x444782(0x2cd)]=hexToRgba(_0x47aab4,0.85);let _0x29d590=_0x444782(0x21a)+_0x3d9f95['client']+_0x444782(0x241)+_0x3d9f95[_0x444782(0x1fd)]+_0x444782(0x2b5)+_0x3d9f95[_0x444782(0x1b2)]+_0x444782(0x21f);return _0x3d9f95['seriesId']&&(_0x29d590+='<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>'),_0x3d9f95[_0x444782(0x1d5)]===_0x444782(0x22a)&&(_0x29d590+='<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>'),_0x1314e0[_0x444782(0x1e8)]=_0x29d590,_0x1314e0[_0x444782(0x270)]=_0x298235=>{_0x298235['stopPropagation'](),openEdit(_0x3d9f95);},_0x1314e0;}function attachLongPressHandler(_0xa66689,_0x456996){const _0xc8bd10=a2_0x549775;let _0xa865e6=0x0,_0x26259=null;const _0x3bc298=_0x3cdc50=>{const _0x18b4f9=a2_0xc46d;if(_0x3cdc50[_0x18b4f9(0x29e)][_0x18b4f9(0x311)](_0x18b4f9(0x24b)))return;isScrolling=![],_0xa865e6=_0x3cdc50[_0x18b4f9(0x1a7)]?_0x3cdc50[_0x18b4f9(0x1a7)][0x0][_0x18b4f9(0x22e)]:_0x3cdc50[_0x18b4f9(0x22e)],_0x26259=setTimeout(()=>{const _0x731d83=_0x18b4f9;if(!isScrolling){navigator['vibrate']?.(0x32);const _0x12a6ba=_0xa66689[_0x731d83(0x2ba)](),_0x575d75=Math['floor']((_0xa865e6-_0x12a6ba[_0x731d83(0x1ee)])/GRID_H);_0x456996[_0x731d83(0x29f)](_0x575d75,0x0),openAddSession(_0x456996);}},0x1f4);},_0x28e46e=()=>{isScrolling=!![],clearTimeout(_0x26259);},_0x28eb53=()=>{clearTimeout(_0x26259);};_0xa66689[_0xc8bd10(0x269)]('touchstart',_0x3bc298,{'passive':!![]}),_0xa66689[_0xc8bd10(0x269)](_0xc8bd10(0x1df),_0x28e46e,{'passive':!![]}),_0xa66689[_0xc8bd10(0x269)](_0xc8bd10(0x2f0),_0x28eb53),_0xa66689[_0xc8bd10(0x269)](_0xc8bd10(0x306),_0x3bc298),_0xa66689['addEventListener']('mousemove',_0x28e46e),_0xa66689[_0xc8bd10(0x269)](_0xc8bd10(0x2b8),_0x28eb53);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x3389fc=a2_0x549775,_0x2443d9=document[_0x3389fc(0x2fb)]('matrixViewport'),_0x3cbd6d=_0x2443d9[_0x3389fc(0x21d)],_0x47907c=_0x2443d9[_0x3389fc(0x1b0)],_0x8c6b3e=_0x2443d9['clientWidth'];if(_0x47907c-(_0x3cbd6d+_0x8c6b3e)<0x12c){const _0x4538b9=endOffset;endOffset+=0xe,renderDayRange(_0x4538b9+0x1,endOffset),reRenderBlocks();}if(_0x3cbd6d<0x12c){const _0x577d5c=startOffset;startOffset-=0xe,prependDays(startOffset,_0x577d5c-0x1),_0x2443d9['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x28465f,_0xa875ed){const _0x2d252c=a2_0x549775,_0x2fa675=document[_0x2d252c(0x2fb)]('daysHeaderTrack'),_0x2c5d44=document[_0x2d252c(0x2fb)](_0x2d252c(0x1e5)),_0x1f18c6=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x5e8158=new Date();_0x5e8158[_0x2d252c(0x29f)](0x0,0x0,0x0,0x0);const _0x3a41e1=getLocalDateStr(new Date()),_0x37119d=document[_0x2d252c(0x233)](),_0x5df6d7=document[_0x2d252c(0x233)]();for(let _0x377579=_0x28465f;_0x377579<=_0xa875ed;_0x377579++){const _0x2209ad=new Date(_0x5e8158);_0x2209ad[_0x2d252c(0x257)](_0x2209ad[_0x2d252c(0x255)]()+_0x377579);const _0x3243ab=getLocalDateStr(_0x2209ad);let _0x535094=_0x2209ad[_0x2d252c(0x216)]()-0x1;if(_0x535094===-0x1)_0x535094=0x6;const _0x52f327=_0x3243ab===_0x3a41e1,_0xae17d2=document[_0x2d252c(0x290)](_0x2d252c(0x304));_0xae17d2[_0x2d252c(0x21e)]='day-col-header\x20'+(_0x52f327?_0x2d252c(0x312):''),_0xae17d2['id']=_0x2d252c(0x300)+_0x3243ab,_0xae17d2[_0x2d252c(0x280)](_0x2d252c(0x1d0),_0x3243ab),_0xae17d2[_0x2d252c(0x1e8)]=_0x2d252c(0x27b)+_0x1f18c6[_0x535094]+_0x2d252c(0x240)+_0x2209ad['getDate']()+_0x2d252c(0x29c)+_0x3243ab+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0xae17d2[_0x2d252c(0x270)]=()=>openDayOptions(_0x3243ab,_0x1f18c6[_0x535094]+'\x20'+_0x2209ad[_0x2d252c(0x255)]()),_0x37119d['appendChild'](_0xae17d2);const _0x5b4144=document[_0x2d252c(0x290)](_0x2d252c(0x304));_0x5b4144[_0x2d252c(0x21e)]=_0x2d252c(0x293)+(_0x52f327?'today':''),_0x5b4144[_0x2d252c(0x280)](_0x2d252c(0x1d0),_0x3243ab),_0x5b4144[_0x2d252c(0x280)](_0x2d252c(0x2c3),_0x535094),renderEventsForColumn(_0x5b4144,_0x3243ab,_0x535094),attachLongPressHandler(_0x5b4144,_0x2209ad),_0x5df6d7[_0x2d252c(0x310)](_0x5b4144),updateDayStats(_0x3243ab);}_0x2fa675['insertBefore'](_0x37119d,_0x2fa675[_0x2d252c(0x291)]),_0x2c5d44[_0x2d252c(0x2e3)](_0x5df6d7,_0x2c5d44[_0x2d252c(0x23e)]('.day-column'));}function validateAppointment(_0xeb16c0,_0x237513,_0x2707e6,_0x2c428a,_0x289381){const _0x4ac55e=a2_0x549775,[_0x4c4374,_0x8057d7]=_0x237513[_0x4ac55e(0x2a3)](':')['map'](Number),[_0x248edd,_0x520529]=_0x2707e6[_0x4ac55e(0x2a3)](':')[_0x4ac55e(0x1f0)](Number),_0x2b2095=_0x4c4374*0x3c+_0x8057d7,_0x4711fe=_0x248edd*0x3c+_0x520529,_0x16c85a=String(_0x289381);let _0x8306ec=![],_0x4999cf='';for(let _0x3ada18 of sessions){if(_0x3ada18[_0x4ac55e(0x2c6)]!==_0xeb16c0)continue;if(_0x3ada18[_0x4ac55e(0x1d5)]===_0x4ac55e(0x239))continue;if(_0x2c428a&&String(_0x3ada18['id'])===String(_0x2c428a))continue;const [_0x3cc12e,_0x197c95]=_0x3ada18[_0x4ac55e(0x1fd)][_0x4ac55e(0x2a3)](':')['map'](Number),[_0x399ae2,_0x282600]=_0x3ada18[_0x4ac55e(0x1b2)]['split'](':')[_0x4ac55e(0x1f0)](Number),_0x44a8f6=_0x3cc12e*0x3c+_0x197c95,_0x71d829=_0x399ae2*0x3c+_0x282600;if(Math[_0x4ac55e(0x23c)](_0x2b2095,_0x44a8f6)<Math[_0x4ac55e(0x259)](_0x4711fe,_0x71d829)){if(_0x3ada18['clientId']&&String(_0x3ada18[_0x4ac55e(0x30f)])===_0x16c85a)return{'valid':![],'msg':_0x4ac55e(0x2a2)+_0x3ada18[_0x4ac55e(0x244)]+_0x4ac55e(0x25f)};_0x8306ec=!![],_0x4999cf=_0x3ada18[_0x4ac55e(0x244)];}}if(_0x8306ec)return{'valid':!![],'warning':_0x4ac55e(0x237)+_0x4999cf};return{'valid':!![]};}function updateDateDisplay(){const _0x47f23f=a2_0x549775,_0x28645=document['getElementById'](_0x47f23f(0x1a2))[_0x47f23f(0x27e)],_0x48db49=document[_0x47f23f(0x2fb)](_0x47f23f(0x1d3));if(!_0x28645){_0x48db49[_0x47f23f(0x25c)]='';return;}const [_0x27ced9,_0x2b964b,_0x458192]=_0x28645[_0x47f23f(0x2a3)]('-')['map'](Number),_0x22d891=new Date(_0x27ced9,_0x2b964b-0x1,_0x458192),_0x25aecb={'weekday':_0x47f23f(0x24a),'day':'numeric','month':_0x47f23f(0x24a),'year':_0x47f23f(0x1a9)};let _0x289405=_0x22d891[_0x47f23f(0x238)](_0x47f23f(0x1aa),_0x25aecb);_0x289405=_0x289405[_0x47f23f(0x1b1)](0x0)[_0x47f23f(0x231)]()+_0x289405['slice'](0x1),_0x48db49[_0x47f23f(0x25c)]=_0x289405;}function autoSetEndTime(){const _0x4b1554=a2_0x549775,_0xcdb2e8=document['getElementById'](_0x4b1554(0x2ab))[_0x4b1554(0x27e)];if(!_0xcdb2e8)return;const [_0x4aa5ff,_0x462dc0]=_0xcdb2e8[_0x4b1554(0x2a3)](':')[_0x4b1554(0x1f0)](Number);let _0x4f9d3a=_0x4aa5ff+0x1;if(_0x4f9d3a>0x17)_0x4f9d3a=0x0;const _0x495d94=String(_0x4f9d3a)[_0x4b1554(0x1f8)](0x2,'0')+':'+String(_0x462dc0)[_0x4b1554(0x1f8)](0x2,'0');document['getElementById'](_0x4b1554(0x250))[_0x4b1554(0x27e)]=_0x495d94;}function populateClientSelect(){const _0x866da6=a2_0x549775,_0x56a748=document[_0x866da6(0x2fb)]('inpClient');_0x56a748[_0x866da6(0x1e8)]='';if(clients['length']===0x0){const _0x24e259=document[_0x866da6(0x290)](_0x866da6(0x301));_0x24e259[_0x866da6(0x26c)]=_0x866da6(0x256),_0x56a748['appendChild'](_0x24e259);return;}clients[_0x866da6(0x27c)](_0x3a7a09=>{const _0x1e0e9e=_0x866da6,_0x36ae7a=document[_0x1e0e9e(0x290)](_0x1e0e9e(0x301));_0x36ae7a[_0x1e0e9e(0x27e)]=_0x3a7a09[_0x1e0e9e(0x221)],_0x36ae7a[_0x1e0e9e(0x25c)]=_0x3a7a09[_0x1e0e9e(0x221)],_0x56a748[_0x1e0e9e(0x310)](_0x36ae7a);});}function openActionSheet(_0x1ce591){const _0x59134f=a2_0x549775,_0x2d6689=document[_0x59134f(0x2fb)](_0x59134f(0x28c)),_0x446ec2=document[_0x59134f(0x2fb)](_0x59134f(0x200)),_0x171146=document[_0x59134f(0x2fb)]('asTitle'),_0x5c47d8=document[_0x59134f(0x2fb)](_0x59134f(0x26e)),_0x201fe5=document[_0x59134f(0x2fb)](_0x59134f(0x1ab));_0x446ec2['classList'][_0x59134f(0x2cc)](_0x59134f(0x213)),_0x2d6689[_0x59134f(0x2f2)][_0x59134f(0x2cc)](_0x59134f(0x2bf));if(_0x1ce591===_0x59134f(0x2ff))_0x171146[_0x59134f(0x25c)]=_0x59134f(0x2f3),_0x5c47d8['textContent']=_0x59134f(0x210),_0x5c47d8[_0x59134f(0x270)]=()=>{const _0x27e438=_0x59134f;closeActionSheet(),updateSeriesBatch(_0x27e438(0x20b),tempSessionData);},_0x201fe5[_0x59134f(0x25c)]=_0x59134f(0x308),_0x201fe5['onclick']=()=>{const _0xf2e49d=_0x59134f;closeActionSheet(),updateSeriesBatch(_0xf2e49d(0x296),tempSessionData);};else _0x1ce591==='delete'&&(_0x171146['textContent']='–£–¥–∞–ª–µ–Ω–∏–µ',_0x5c47d8[_0x59134f(0x25c)]='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x5c47d8[_0x59134f(0x21e)]='as-button\x20danger',_0x5c47d8[_0x59134f(0x270)]=()=>{const _0x41b8c4=_0x59134f;closeActionSheet(),commitDelete(_0x41b8c4(0x20b),sessions[_0x41b8c4(0x2e0)](_0x50c6d3=>_0x50c6d3['id']===editingId));},_0x201fe5[_0x59134f(0x25c)]=_0x59134f(0x308),_0x201fe5[_0x59134f(0x21e)]=_0x59134f(0x2ee),_0x201fe5[_0x59134f(0x270)]=()=>{const _0x47388e=_0x59134f;closeActionSheet(),commitDelete(_0x47388e(0x296),sessions[_0x47388e(0x2e0)](_0x4971de=>_0x4971de['id']===editingId));});}function closeActionSheet(){const _0x1eb2d6=a2_0x549775;document[_0x1eb2d6(0x2fb)](_0x1eb2d6(0x28c))[_0x1eb2d6(0x2f2)][_0x1eb2d6(0x2a5)](_0x1eb2d6(0x2bf)),document[_0x1eb2d6(0x2fb)]('actionSheetOverlay')[_0x1eb2d6(0x2f2)][_0x1eb2d6(0x2a5)](_0x1eb2d6(0x213));}function openSettings(){const _0x85268e=a2_0x549775;openSheet(_0x85268e(0x2e6));}function saveCoachSettings(){const _0x421a98=a2_0x549775,_0x2ece34=document['getElementById'](_0x421a98(0x1f4))[_0x421a98(0x27e)];localStorage['setItem']('uc_settings_cancel_window',_0x2ece34),console[_0x421a98(0x30b)]('[Settings]\x20Cancel\x20window\x20set\x20to:',_0x2ece34),DataManager[_0x421a98(0x1bf)](_0x421a98(0x20d),{'settings':{'cancel_window':_0x2ece34}})[_0x421a98(0x22b)](_0x20d712=>{const _0x535890=_0x421a98;console[_0x535890(0x2ef)]('Save\x20settings\x20error:',_0x20d712),showToast(_0x535890(0x279),![]);});}function loadCoachSettings(){const _0x17f615=a2_0x549775,_0x1d1b51=localStorage['getItem'](_0x17f615(0x235));_0x1d1b51&&(document[_0x17f615(0x2fb)](_0x17f615(0x1f4))[_0x17f615(0x27e)]=_0x1d1b51);}function openRangesSheet(){const _0x2c7a6a=a2_0x549775;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x2c7a6a(0x1de));}function addRange(){const _0x4beea6=a2_0x549775,_0x26c798=document[_0x4beea6(0x2fb)](_0x4beea6(0x2eb))[_0x4beea6(0x27e)],_0x25450b=document[_0x4beea6(0x2fb)]('rangeStartTime')[_0x4beea6(0x27e)],_0xb2d336=document[_0x4beea6(0x2fb)](_0x4beea6(0x277))[_0x4beea6(0x27e)],_0x3dbbc6=document[_0x4beea6(0x2fb)](_0x4beea6(0x1b8))[_0x4beea6(0x27e)];if(!_0x26c798||!_0x25450b||!_0xb2d336||!_0x3dbbc6)return alert(_0x4beea6(0x219));const _0x4c79e1=_0x26c798+'T'+_0x25450b,_0x28dcff=_0xb2d336+'T'+_0x3dbbc6;if(_0x4c79e1>=_0x28dcff)return alert(_0x4beea6(0x2aa));specialRanges[_0x4beea6(0x1b4)]({'start':_0x4c79e1,'end':_0x28dcff}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x4beea6(0x1c9)](),DataManager[_0x4beea6(0x1bf)](_0x4beea6(0x20d),{'settings':{'ranges':specialRanges}});}function deleteRange(_0xe6d7e0){const _0x492830=a2_0x549775;specialRanges['splice'](_0xe6d7e0,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x492830(0x1c9)](),DataManager[_0x492830(0x1bf)](_0x492830(0x20d),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x36f45d=a2_0x549775;document[_0x36f45d(0x2fb)](_0x36f45d(0x2eb))[_0x36f45d(0x27e)]='',document[_0x36f45d(0x2fb)]('rangeStartTime')['value']=_0x36f45d(0x1e9),document[_0x36f45d(0x2fb)]('rangeEndDate')[_0x36f45d(0x27e)]='',document[_0x36f45d(0x2fb)](_0x36f45d(0x1b8))['value']=_0x36f45d(0x283);}function renderRangesList(){const _0x22075d=a2_0x549775,_0x1d9106=document[_0x22075d(0x2fb)]('rangesList');_0x1d9106['innerHTML']='';if(!specialRanges['length']){_0x1d9106[_0x22075d(0x1e8)]=_0x22075d(0x2d7);return;}specialRanges[_0x22075d(0x27c)]((_0x46f950,_0x25a3ad)=>{const _0x2ff193=_0x22075d,_0x4e20ad=document[_0x2ff193(0x290)](_0x2ff193(0x304));_0x4e20ad[_0x2ff193(0x21e)]=_0x2ff193(0x2a6);const _0x400333=_0x20b1b6=>{const _0x25580e=_0x2ff193,_0x222c21=new Date(_0x20b1b6);return _0x222c21[_0x25580e(0x255)]()+'.'+String(_0x222c21[_0x25580e(0x1c1)]()+0x1)[_0x25580e(0x1f8)](0x2,'0')+'\x20'+String(_0x222c21[_0x25580e(0x1f2)]())[_0x25580e(0x1f8)](0x2,'0')+':'+String(_0x222c21[_0x25580e(0x1b5)]())[_0x25580e(0x1f8)](0x2,'0');};_0x4e20ad[_0x2ff193(0x1e8)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>'+_0x400333(_0x46f950['start'])+_0x2ff193(0x1c0)+_0x400333(_0x46f950[_0x2ff193(0x1b2)])+_0x2ff193(0x1bb)+_0x25a3ad+_0x2ff193(0x258),_0x1d9106[_0x2ff193(0x310)](_0x4e20ad);});}function scrollToToday(){const _0x143355=a2_0x549775,_0x2c25dd=getLocalDateStr(new Date()),_0x1eed47=document[_0x143355(0x2fb)](_0x143355(0x300)+_0x2c25dd),_0x3d1011=document[_0x143355(0x2fb)](_0x143355(0x232));if(_0x1eed47&&_0x3d1011){const _0x507424=_0x3d1011[_0x143355(0x23d)],_0x3b3f20=_0x1eed47['offsetLeft'],_0x15f74a=_0x1eed47[_0x143355(0x27a)];_0x3d1011[_0x143355(0x21d)]=_0x3b3f20-_0x507424/0x2+_0x15f74a/0x2,_0x3d1011[_0x143355(0x1ae)]=0x9*GRID_H;}}function onScroll(){const _0x21cfbd=a2_0x549775,_0x5ed0d8=document[_0x21cfbd(0x2fb)]('matrixViewport'),_0x24f380=document[_0x21cfbd(0x2da)](_0x21cfbd(0x2c8));for(let _0x2a39f8 of _0x24f380)if(_0x2a39f8[_0x21cfbd(0x284)]>=_0x5ed0d8['scrollLeft']){const _0x22058b=new Date(_0x2a39f8[_0x21cfbd(0x2e5)](_0x21cfbd(0x1d0)));document[_0x21cfbd(0x2fb)](_0x21cfbd(0x29a))[_0x21cfbd(0x25c)]=_0x22058b[_0x21cfbd(0x30a)]('ru',{'month':_0x21cfbd(0x24a)})[_0x21cfbd(0x231)]()+'\x20'+_0x22058b[_0x21cfbd(0x1db)]();break;}}function showToast(_0x5ab5d3,_0x2cc251=![]){const _0x491bd0=a2_0x549775,_0x175f2e=document[_0x491bd0(0x2fb)](_0x491bd0(0x2f9));_0x175f2e[_0x491bd0(0x21e)]='toast-notification\x20'+(_0x2cc251?_0x491bd0(0x2f7):''),document[_0x491bd0(0x2fb)](_0x491bd0(0x217))[_0x491bd0(0x25c)]=_0x2cc251?_0x491bd0(0x26b):_0x491bd0(0x2d0),document['getElementById'](_0x491bd0(0x251))[_0x491bd0(0x25c)]=_0x5ab5d3,_0x175f2e['classList']['add']('show'),setTimeout(()=>{const _0x4a499b=_0x491bd0;_0x175f2e[_0x4a499b(0x2f2)]['remove'](_0x4a499b(0x262));},0xbb8);}function openDayOptions(_0x1c2983,_0xd3c883){const _0x45536a=a2_0x549775;selectedDayForOptions=_0x1c2983,document['getElementById']('dayOptionsTitle')[_0x45536a(0x25c)]=_0xd3c883,openSheet('dayOptionsSheet');}function toggleDayOff(){const _0x11a39d=a2_0x549775;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]='off',reRenderBlocks(),closeAllSheets(),DataManager[_0x11a39d(0x1c9)](),DataManager[_0x11a39d(0x1bf)](_0x11a39d(0x20d),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x2d699b=a2_0x549775;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x2d699b(0x1c9)](),DataManager[_0x2d699b(0x1bf)](_0x2d699b(0x20d),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0xf86807){const _0x4bf5ed=a2_0x549775;document[_0x4bf5ed(0x2fb)](_0x4bf5ed(0x242))[_0x4bf5ed(0x2f2)][_0x4bf5ed(0x2cc)]('active'),document[_0x4bf5ed(0x2fb)](_0xf86807)[_0x4bf5ed(0x2f2)][_0x4bf5ed(0x2cc)](_0x4bf5ed(0x2bf));}function closeAllSheets(){const _0x101d00=a2_0x549775;document[_0x101d00(0x2fb)](_0x101d00(0x242))[_0x101d00(0x2f2)][_0x101d00(0x2a5)]('active'),document[_0x101d00(0x2da)](_0x101d00(0x21b))['forEach'](_0x41f548=>_0x41f548[_0x101d00(0x2f2)][_0x101d00(0x2a5)](_0x101d00(0x2bf)));}function openPatternEditor(){const _0x4b49d0=a2_0x549775;closeAllSheets(),document[_0x4b49d0(0x2fb)](_0x4b49d0(0x2c4))[_0x4b49d0(0x2f2)]['add']('open'),renderPatternEditor();}function closePatternEditor(){const _0x11ba46=a2_0x549775;document['getElementById'](_0x11ba46(0x2c4))[_0x11ba46(0x2f2)]['remove'](_0x11ba46(0x2bf));}function savePattern(){const _0x1927dc=a2_0x549775;document[_0x1927dc(0x2fb)]('patternEditor')['classList'][_0x1927dc(0x2a5)](_0x1927dc(0x2bf)),reRenderBlocks(),DataManager[_0x1927dc(0x1c9)](),DataManager[_0x1927dc(0x1bf)](_0x1927dc(0x20d),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x1ba0d6=a2_0x549775,_0x294e5b=document[_0x1ba0d6(0x2fb)](_0x1ba0d6(0x2ea));_0x294e5b[_0x1ba0d6(0x1e8)]='';const _0x2aac1d=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x3f4093=document[_0x1ba0d6(0x290)]('div');_0x3f4093[_0x1ba0d6(0x21e)]=_0x1ba0d6(0x265),_0x294e5b[_0x1ba0d6(0x310)](_0x3f4093),_0x2aac1d[_0x1ba0d6(0x27c)]((_0x2621cc,_0x243763)=>{const _0x5bab1b=_0x1ba0d6,_0x487e90=document[_0x5bab1b(0x290)](_0x5bab1b(0x304));_0x487e90['className']=_0x5bab1b(0x245),_0x487e90[_0x5bab1b(0x1e8)]=_0x2621cc+_0x5bab1b(0x225),_0x487e90['onclick']=()=>toggleColPattern(_0x243763),_0x294e5b['appendChild'](_0x487e90);});for(let _0x47458c=0x0;_0x47458c<0x18;_0x47458c++){const _0x5103bc=document[_0x1ba0d6(0x290)](_0x1ba0d6(0x304));_0x5103bc['className']=_0x1ba0d6(0x2f1),_0x5103bc[_0x1ba0d6(0x1e8)]=_0x1ba0d6(0x2fc)+String(_0x47458c)['padStart'](0x2,'0')+':00',_0x5103bc[_0x1ba0d6(0x270)]=()=>toggleRowPattern(_0x47458c),_0x294e5b[_0x1ba0d6(0x310)](_0x5103bc);for(let _0x11b901=0x0;_0x11b901<0x7;_0x11b901++){const _0x5e8640=document[_0x1ba0d6(0x290)]('div'),_0x5c7cc7=(availabilityPattern[_0x11b901]||[])[_0x1ba0d6(0x2c7)](_0x47458c),_0xec2417=!_0x5c7cc7;_0x5e8640['className']=_0x1ba0d6(0x2ca)+(_0xec2417?'active':''),_0x5e8640[_0x1ba0d6(0x270)]=()=>toggleSinglePattern(_0x11b901,_0x47458c),_0x294e5b[_0x1ba0d6(0x310)](_0x5e8640);}}}function toggleSinglePattern(_0x1154e6,_0x2bbfe7){const _0x2bb08c=a2_0x549775;if(!availabilityPattern[_0x1154e6])availabilityPattern[_0x1154e6]=[];const _0x242ecd=availabilityPattern[_0x1154e6],_0x396787=_0x242ecd['indexOf'](_0x2bbfe7);_0x396787===-0x1?_0x242ecd[_0x2bb08c(0x1b4)](_0x2bbfe7):_0x242ecd[_0x2bb08c(0x226)](_0x396787,0x1),renderPatternEditor();}function toggleColPattern(_0x210fbc){const _0x26b861=a2_0x549775;if(!availabilityPattern[_0x210fbc])availabilityPattern[_0x210fbc]=[];const _0x1e22e8=availabilityPattern[_0x210fbc];_0x1e22e8['length']===0x0?availabilityPattern[_0x210fbc]=Array[_0x26b861(0x214)]({'length':0x18},(_0x43841f,_0x2e062b)=>_0x2e062b):availabilityPattern[_0x210fbc]=[],renderPatternEditor();}function toggleRowPattern(_0x175ce8){const _0x225246=a2_0x549775;let _0x513be5=!![];for(let _0x893f26=0x0;_0x893f26<0x7;_0x893f26++){if((availabilityPattern[_0x893f26]||[])[_0x225246(0x2c7)](_0x175ce8)){_0x513be5=![];break;}}for(let _0x26b3bd=0x0;_0x26b3bd<0x7;_0x26b3bd++){if(!availabilityPattern[_0x26b3bd])availabilityPattern[_0x26b3bd]=[];const _0x1fb45b=availabilityPattern[_0x26b3bd][_0x225246(0x2d5)](_0x175ce8);if(_0x513be5){if(_0x1fb45b===-0x1)availabilityPattern[_0x26b3bd][_0x225246(0x1b4)](_0x175ce8);}else{if(_0x1fb45b!==-0x1)availabilityPattern[_0x26b3bd]['splice'](_0x1fb45b,0x1);}}renderPatternEditor();}function a2_0xc46d(_0x3c8c2f,_0x2f69cc){_0x3c8c2f=_0x3c8c2f-0x1a0;const _0x4c1e9b=a2_0x4043();let _0x270c75=_0x4c1e9b[_0x3c8c2f];return _0x270c75;}function renderPCol(_0x6e929b,_0xcd1f95){const _0x7151d3=a2_0x549775;_0x6e929b[_0x7151d3(0x1e8)]='';const _0x5e0e31=Math[_0x7151d3(0x272)](_0x6e929b['offsetLeft']);(availabilityPattern[_0xcd1f95]||[])[_0x7151d3(0x27c)](_0x1e689a=>{const _0x20787d=_0x7151d3,_0xae0caa=document[_0x20787d(0x290)](_0x20787d(0x304));_0xae0caa[_0x20787d(0x21e)]=_0x20787d(0x220);const _0x50819d=_0x1e689a*GRID_H;_0xae0caa[_0x20787d(0x317)][_0x20787d(0x1ee)]=_0x50819d+'px',_0xae0caa[_0x20787d(0x317)]['backgroundPosition']='-'+_0x5e0e31+_0x20787d(0x211)+_0x50819d+'px',_0xae0caa[_0x20787d(0x270)]=_0x29ff7c=>{_0x29ff7c['stopPropagation'](),toggleSinglePattern(_0xcd1f95,_0x1e689a);},_0x6e929b[_0x20787d(0x310)](_0xae0caa);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x452a1a=a2_0x549775,_0x2f689f=new Date(),_0x24ede4=document['getElementById'](_0x452a1a(0x314)),_0x28ee30=document[_0x452a1a(0x2fb)]('timeLineBadge'),_0x5f0acb=(_0x2f689f[_0x452a1a(0x1f2)]()*0x3c+_0x2f689f[_0x452a1a(0x1b5)]())/0x3c*GRID_H;_0x24ede4[_0x452a1a(0x317)]['top']=_0x5f0acb+'px',_0x24ede4['style']['display']=_0x452a1a(0x298),_0x28ee30[_0x452a1a(0x25c)]=String(_0x2f689f[_0x452a1a(0x1f2)]())['padStart'](0x2,'0')+':'+String(_0x2f689f[_0x452a1a(0x1b5)]())[_0x452a1a(0x1f8)](0x2,'0'),_0x28ee30['style'][_0x452a1a(0x278)]=_0x452a1a(0x298),_0x28ee30[_0x452a1a(0x317)][_0x452a1a(0x1ee)]=_0x5f0acb+'px';}document[a2_0x549775(0x269)](a2_0x549775(0x1ea),init);function openDayOptions(_0x2b1187){const _0x281b5b=a2_0x549775;selectedDayForOptions=_0x2b1187;const _0xa41c10=new Date(_0x2b1187),_0x1cf8a3={'weekday':_0x281b5b(0x24a),'day':_0x281b5b(0x1a9),'month':_0x281b5b(0x24a),'year':'numeric'},_0x3a92ec=_0xa41c10[_0x281b5b(0x238)]('ru-RU',_0x1cf8a3);document[_0x281b5b(0x2fb)]('doDateHeader')[_0x281b5b(0x25c)]=_0x3a92ec[_0x281b5b(0x1b1)](0x0)[_0x281b5b(0x231)]()+_0x3a92ec['slice'](0x1);let _0x3a4f16=_0xa41c10[_0x281b5b(0x216)]()-0x1;if(_0x3a4f16===-0x1)_0x3a4f16=0x6;const _0x289d18=availabilityPattern[_0x3a4f16]||[],_0x4d9be9=0x18-_0x289d18[_0x281b5b(0x2a7)],_0x4e4d01=_0x4d9be9*0x3c,_0x4cd0b5=sessions[_0x281b5b(0x222)](_0x48eb4f=>_0x48eb4f[_0x281b5b(0x2c6)]===_0x2b1187&&_0x48eb4f[_0x281b5b(0x1d5)]!==_0x281b5b(0x239));let _0x254077=_0x4cd0b5[_0x281b5b(0x1f0)](_0x5bbab8=>{const _0x5392be=_0x281b5b,[_0x4d5c1c,_0x6d731]=_0x5bbab8[_0x5392be(0x1fd)][_0x5392be(0x2a3)](':')[_0x5392be(0x1f0)](Number),[_0x1d0c01,_0x230b4b]=_0x5bbab8[_0x5392be(0x1b2)]['split'](':')[_0x5392be(0x1f0)](Number);return[_0x4d5c1c*0x3c+_0x6d731,_0x1d0c01*0x3c+_0x230b4b];});_0x254077[_0x281b5b(0x1ca)]((_0x32d96e,_0x114d7c)=>_0x32d96e[0x0]-_0x114d7c[0x0]);let _0x548504=[];if(_0x254077[_0x281b5b(0x2a7)]>0x0){let _0x3a9033=_0x254077[0x0];for(let _0x5842e7=0x1;_0x5842e7<_0x254077['length'];_0x5842e7++){_0x254077[_0x5842e7][0x0]<_0x3a9033[0x1]?_0x3a9033[0x1]=Math[_0x281b5b(0x23c)](_0x3a9033[0x1],_0x254077[_0x5842e7][0x1]):(_0x548504[_0x281b5b(0x1b4)](_0x3a9033),_0x3a9033=_0x254077[_0x5842e7]);}_0x548504[_0x281b5b(0x1b4)](_0x3a9033);}let _0x570409=0x0;_0x548504['forEach'](_0x436778=>_0x570409+=_0x436778[0x1]-_0x436778[0x0]),document['getElementById'](_0x281b5b(0x1e2))[_0x281b5b(0x25c)]=formatMinsToHrs(_0x4e4d01),document[_0x281b5b(0x2fb)](_0x281b5b(0x2b4))[_0x281b5b(0x25c)]=formatMinsToHrs(_0x570409);const _0x4fb1ef=_0x4e4d01>0x0?Math[_0x281b5b(0x272)](_0x570409/_0x4e4d01*0x64):0x0,_0x2e4fab=document['getElementById']('doLoadPercent');_0x2e4fab['textContent']=_0x4fb1ef+'%';const _0x17373d=document[_0x281b5b(0x2fb)](_0x281b5b(0x2af));if(_0x4fb1ef>0x64)_0x2e4fab['style'][_0x281b5b(0x25b)]=_0x281b5b(0x26f),_0x17373d[_0x281b5b(0x317)]['borderColor']=_0x281b5b(0x28f);else _0x4fb1ef>0x50?(_0x2e4fab[_0x281b5b(0x317)][_0x281b5b(0x25b)]=_0x281b5b(0x1eb),_0x17373d[_0x281b5b(0x317)][_0x281b5b(0x2b1)]='rgba(255,\x20159,\x2010,\x200.3)'):(_0x2e4fab['style']['color']='var(--acc-green)',_0x17373d[_0x281b5b(0x317)][_0x281b5b(0x2b1)]=_0x281b5b(0x2dd));const _0x3f39cc=document['getElementById']('doEventsList');_0x3f39cc[_0x281b5b(0x1e8)]='';_0x4cd0b5['length']===0x0?_0x3f39cc['innerHTML']=_0x281b5b(0x248):(_0x4cd0b5[_0x281b5b(0x1ca)]((_0x21929f,_0x355728)=>_0x21929f[_0x281b5b(0x1fd)][_0x281b5b(0x1bc)](_0x355728[_0x281b5b(0x1fd)])),_0x4cd0b5['forEach'](_0x44bbb2=>{const _0x5b71b5=_0x281b5b,_0x5a9901=clients[_0x5b71b5(0x2e0)](_0x250c0c=>_0x250c0c[_0x5b71b5(0x221)]===_0x44bbb2[_0x5b71b5(0x244)]),_0x3abb46=_0x5a9901?_0x5a9901[_0x5b71b5(0x25b)]:_0x5b71b5(0x1ba),_0x126dc0=_0x44bbb2['status']===_0x5b71b5(0x22a),_0x5556f3=_0x126dc0?_0x5b71b5(0x2bd):'',_0x3d851d=document[_0x5b71b5(0x290)]('div');_0x3d851d['className']=_0x5b71b5(0x29b),_0x3d851d['style'][_0x5b71b5(0x1f5)]=_0x3abb46,_0x3d851d['innerHTML']=_0x5b71b5(0x252)+_0x44bbb2[_0x5b71b5(0x1fd)]+_0x5b71b5(0x2b5)+_0x44bbb2[_0x5b71b5(0x1b2)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x44bbb2[_0x5b71b5(0x244)]+_0x5b71b5(0x22c)+_0x5556f3+_0x5b71b5(0x295),_0x3f39cc['appendChild'](_0x3d851d);}));const _0x3228a7=document[_0x281b5b(0x2fb)](_0x281b5b(0x243)),_0x4943cc=dateExceptions[_0x2b1187]==='off';_0x4943cc?(_0x3228a7['textContent']=_0x281b5b(0x204),_0x3228a7['className']=_0x281b5b(0x276),_0x3228a7[_0x281b5b(0x317)][_0x281b5b(0x25b)]='var(--acc-green)',_0x3228a7[_0x281b5b(0x317)]['background']='rgba(48,\x20209,\x2088,\x200.15)'):(_0x3228a7[_0x281b5b(0x25c)]=_0x281b5b(0x1fb),_0x3228a7[_0x281b5b(0x21e)]=_0x281b5b(0x1c8),_0x3228a7[_0x281b5b(0x317)][_0x281b5b(0x25b)]=_0x281b5b(0x26f),_0x3228a7[_0x281b5b(0x317)]['background']=_0x281b5b(0x1f6)),openSheet(_0x281b5b(0x1e1));}let currentAnPeriod=a2_0x549775(0x24f);function openAnalytics(){const _0x884cea=a2_0x549775,_0xf3d5eb=document[_0x884cea(0x23e)](_0x884cea(0x1b9));setAnalyticsPeriod(_0x884cea(0x24f),_0xf3d5eb),closeAllSheets(),openSheet(_0x884cea(0x288));}function setAnalyticsPeriod(_0x3fa930,_0xdded9f){const _0x13940d=a2_0x549775;currentAnPeriod=_0x3fa930,document[_0x13940d(0x2da)]('.period-switch\x20.p-btn')[_0x13940d(0x27c)](_0x29bb7e=>_0x29bb7e[_0x13940d(0x2f2)]['remove'](_0x13940d(0x213)));if(_0xdded9f)_0xdded9f[_0x13940d(0x2f2)][_0x13940d(0x2cc)](_0x13940d(0x213));const _0x2ccb46=document[_0x13940d(0x2fb)](_0x13940d(0x1a4));_0x2ccb46[_0x13940d(0x317)][_0x13940d(0x278)]=_0x3fa930===_0x13940d(0x29d)?_0x13940d(0x2ae):_0x13940d(0x261);const _0x2c343a=new Date();let _0x467b6f=new Date(),_0x32cdda=new Date();if(_0x3fa930===_0x13940d(0x24f))_0x467b6f=getStartOfWeek(_0x2c343a),_0x32cdda=new Date(_0x467b6f),_0x32cdda[_0x13940d(0x257)](_0x32cdda[_0x13940d(0x255)]()+0x6);else{if(_0x3fa930==='month')_0x467b6f=new Date(_0x2c343a['getFullYear'](),_0x2c343a[_0x13940d(0x1c1)](),0x1),_0x32cdda=new Date(_0x2c343a[_0x13940d(0x1db)](),_0x2c343a[_0x13940d(0x1c1)]()+0x1,0x0);else{!document[_0x13940d(0x2fb)](_0x13940d(0x1fe))['value']&&(document['getElementById'](_0x13940d(0x1fe))[_0x13940d(0x27e)]=getLocalDateStr(_0x2c343a),document[_0x13940d(0x2fb)](_0x13940d(0x25e))[_0x13940d(0x27e)]=getLocalDateStr(_0x2c343a));refreshAnalytics();return;}}document[_0x13940d(0x2fb)](_0x13940d(0x1fe))[_0x13940d(0x27e)]=getLocalDateStr(_0x467b6f),document[_0x13940d(0x2fb)](_0x13940d(0x25e))['value']=getLocalDateStr(_0x32cdda),refreshAnalytics();}function refreshAnalytics(){const _0x396f23=a2_0x549775,_0x5e6078=document[_0x396f23(0x2fb)](_0x396f23(0x1fe))['value'],_0x14c57d=document[_0x396f23(0x2fb)]('anEnd')[_0x396f23(0x27e)];if(!_0x5e6078||!_0x14c57d)return;const _0x1892f7=sessions[_0x396f23(0x222)](_0x51b84a=>_0x51b84a[_0x396f23(0x2c6)]>=_0x5e6078&&_0x51b84a[_0x396f23(0x2c6)]<=_0x14c57d&&_0x51b84a[_0x396f23(0x1d5)]!==_0x396f23(0x239)),_0x19ef9f=_0x1892f7[_0x396f23(0x2a7)],_0x3b8672=_0x1892f7[_0x396f23(0x222)](_0x5c9bcd=>_0x5c9bcd[_0x396f23(0x1d5)]===_0x396f23(0x22a))[_0x396f23(0x2a7)],_0x5a411f=_0x19ef9f>0x0?Math['round'](_0x3b8672/_0x19ef9f*0x64):0x0;document['getElementById'](_0x396f23(0x2d6))['textContent']=_0x5a411f+'%',document['getElementById'](_0x396f23(0x227))['textContent']=_0x3b8672+_0x396f23(0x1ec)+_0x19ef9f+'\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ';const _0x27e93b=document['getElementById']('anDonutCircle'),_0x20af95=0x2*Math['PI']*0x23,_0x2c936d=_0x20af95-_0x5a411f/0x64*_0x20af95;_0x27e93b['style'][_0x396f23(0x1dd)]=_0x2c936d;const _0x558f0e={};_0x1892f7[_0x396f23(0x27c)](_0x1dd89e=>{const _0x524088=_0x396f23;if(!_0x558f0e[_0x1dd89e['client']]){const _0xd11fb7=clients['find'](_0x3f5d98=>_0x3f5d98[_0x524088(0x221)]===_0x1dd89e[_0x524088(0x244)]);_0x558f0e[_0x1dd89e[_0x524088(0x244)]]={'total':0x0,'done':0x0,'color':_0xd11fb7?_0xd11fb7[_0x524088(0x25b)]:_0x524088(0x1ba)};}_0x558f0e[_0x1dd89e[_0x524088(0x244)]][_0x524088(0x2dc)]++;if(_0x1dd89e['status']==='completed')_0x558f0e[_0x1dd89e[_0x524088(0x244)]][_0x524088(0x2b7)]++;});const _0x57573c=document['getElementById'](_0x396f23(0x20a));_0x57573c[_0x396f23(0x1e8)]='';const _0x15cec1=Object['entries'](_0x558f0e)[_0x396f23(0x1ca)]((_0x1c63c3,_0x1dc411)=>_0x1dc411[0x1][_0x396f23(0x2dc)]-_0x1c63c3[0x1][_0x396f23(0x2dc)]);if(_0x15cec1['length']===0x0){_0x57573c[_0x396f23(0x1e8)]=_0x396f23(0x2ed);return;}_0x15cec1['forEach'](([_0x5b1867,_0x1ceb4e])=>{const _0x31efcf=_0x396f23,_0x4034b8=Math[_0x31efcf(0x272)](_0x1ceb4e[_0x31efcf(0x2b7)]/_0x1ceb4e[_0x31efcf(0x2dc)]*0x64),_0x15d06d=document[_0x31efcf(0x290)](_0x31efcf(0x304));_0x15d06d[_0x31efcf(0x21e)]='client-stat-card',_0x15d06d['style'][_0x31efcf(0x1f5)]=_0x1ceb4e[_0x31efcf(0x25b)],_0x15d06d[_0x31efcf(0x1e8)]=_0x31efcf(0x215)+_0x5b1867+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x1ceb4e['done']+_0x31efcf(0x1ac)+_0x1ceb4e['total']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x4034b8+_0x31efcf(0x302),_0x57573c[_0x31efcf(0x310)](_0x15d06d);});}function formatMinsToHrs(_0x1d9d0c){const _0x23d10b=a2_0x549775;if(_0x1d9d0c===0x0)return'0';const _0x36a59a=Math[_0x23d10b(0x1c4)](_0x1d9d0c/0x3c),_0x3b45f8=_0x1d9d0c%0x3c;if(_0x3b45f8===0x0)return _0x36a59a+'—á';return _0x36a59a+'—á\x20'+_0x3b45f8+'–º';}