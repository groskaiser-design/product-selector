const a2_0x5ee2d3=a2_0x25aa;(function(_0x3a5294,_0x48f437){const _0x31c689=a2_0x25aa,_0x330686=_0x3a5294();while(!![]){try{const _0x27c7a2=parseInt(_0x31c689(0x1b7))/0x1*(parseInt(_0x31c689(0xbb))/0x2)+-parseInt(_0x31c689(0x163))/0x3+parseInt(_0x31c689(0x200))/0x4*(parseInt(_0x31c689(0x153))/0x5)+parseInt(_0x31c689(0x218))/0x6*(-parseInt(_0x31c689(0x210))/0x7)+parseInt(_0x31c689(0xa8))/0x8*(parseInt(_0x31c689(0xc2))/0x9)+parseInt(_0x31c689(0xac))/0xa+parseInt(_0x31c689(0x1d5))/0xb*(parseInt(_0x31c689(0x190))/0xc);if(_0x27c7a2===_0x48f437)break;else _0x330686['push'](_0x330686['shift']());}catch(_0x5a9c3f){_0x330686['push'](_0x330686['shift']());}}}(a2_0x36da,0x769cc),function initTMA(){const _0x3ef9fc=a2_0x25aa,_0x2844ea=(function(){let _0x16eaac=!![];return function(_0x2b8213,_0x16ce4c){const _0x1f3a0e=_0x16eaac?function(){const _0x124e72=a2_0x25aa;if(_0x16ce4c){const _0x4aec24=_0x16ce4c[_0x124e72(0x20b)](_0x2b8213,arguments);return _0x16ce4c=null,_0x4aec24;}}:function(){};return _0x16eaac=![],_0x1f3a0e;};}()),_0x953087=_0x2844ea(this,function(){const _0x4da71f=a2_0x25aa;return _0x953087[_0x4da71f(0x19a)]()[_0x4da71f(0x1f6)](_0x4da71f(0x215))[_0x4da71f(0x19a)]()['constructor'](_0x953087)['search']('(((.+)+)+)+$');});_0x953087();try{const _0x2cc5f3=window[_0x3ef9fc(0x16d)]?.[_0x3ef9fc(0x207)];if(!_0x2cc5f3)return;_0x2cc5f3[_0x3ef9fc(0x1f8)](),_0x2cc5f3[_0x3ef9fc(0x186)]();try{_0x2cc5f3['setHeaderColor'](_0x3ef9fc(0x12a)),_0x2cc5f3[_0x3ef9fc(0xea)]&&_0x2cc5f3[_0x3ef9fc(0xea)](_0x3ef9fc(0x12a));}catch(_0x38df02){console['log'](_0x3ef9fc(0x213),_0x38df02);}try{_0x2cc5f3[_0x3ef9fc(0x159)]&&(_0x2cc5f3['BackButton'][_0x3ef9fc(0x188)](),_0x2cc5f3[_0x3ef9fc(0x159)][_0x3ef9fc(0x1e4)](),_0x2cc5f3[_0x3ef9fc(0x159)][_0x3ef9fc(0x1fe)](function(){const _0x4210e0=_0x3ef9fc;window['location'][_0x4210e0(0x189)]='router.html';}));}catch(_0x278c71){console[_0x3ef9fc(0x222)](_0x3ef9fc(0x14b),_0x278c71);}try{if(_0x2cc5f3[_0x3ef9fc(0x214)])_0x2cc5f3['disableVerticalSwipes']();}catch(_0x2a2284){}}catch(_0x47a412){console[_0x3ef9fc(0x16f)](_0x3ef9fc(0x1dc),_0x47a412);}}());function isAdmin(){const _0x3b1151=a2_0x25aa;try{const _0x3d4d98=Number(window[_0x3b1151(0x16d)]?.['WebApp']?.[_0x3b1151(0x204)]?.['user']?.['id']);return _0x3d4d98===0xbaf7174;}catch(_0x187554){return![];}}const APP_VERSION=a2_0x5ee2d3(0x1d4),API_URL=a2_0x5ee2d3(0xb2),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x5ee2d3(0x16a),KEY_SESSIONS=a2_0x5ee2d3(0x18d),KEY_SETTINGS=a2_0x5ee2d3(0x1e3);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x2abc4d=a2_0x5ee2d3;return window[_0x2abc4d(0x16d)]?.[_0x2abc4d(0x207)]?.[_0x2abc4d(0x204)]?.['user']?.['id']||'guest';},'saveLocally'(){const _0x4ef10c=a2_0x5ee2d3;try{localStorage[_0x4ef10c(0x1d2)](KEY_CLIENTS,JSON[_0x4ef10c(0xfd)](clients)),localStorage[_0x4ef10c(0x1d2)](KEY_SESSIONS,JSON[_0x4ef10c(0xfd)](sessions)),localStorage[_0x4ef10c(0x1d2)](KEY_SETTINGS,JSON[_0x4ef10c(0xfd)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x595bdc){console[_0x4ef10c(0x16f)]('Local\x20Save\x20Error',_0x595bdc);}},'loadLocal'(){const _0x6671bd=a2_0x5ee2d3;try{const _0x1d435c=localStorage[_0x6671bd(0x12f)](KEY_CLIENTS);if(_0x1d435c)clients=JSON[_0x6671bd(0x142)](_0x1d435c);const _0x40c806=localStorage[_0x6671bd(0x12f)](KEY_SESSIONS);if(_0x40c806)sessions=JSON['parse'](_0x40c806);const _0x42cec8=localStorage[_0x6671bd(0x12f)](KEY_SETTINGS);if(_0x42cec8){const _0x35f90c=JSON[_0x6671bd(0x142)](_0x42cec8);if(_0x35f90c[_0x6671bd(0x150)])availabilityPattern=_0x35f90c['pattern'];if(_0x35f90c['exceptions'])dateExceptions=_0x35f90c[_0x6671bd(0x1b9)];if(_0x35f90c[_0x6671bd(0x1d8)])specialRanges=_0x35f90c[_0x6671bd(0x1d8)];}else{for(let _0x552027=0x0;_0x552027<0x7;_0x552027++)availabilityPattern[_0x552027]=Array[_0x6671bd(0x1ef)]({'length':0xc},(_0xb00158,_0x3c492e)=>_0x3c492e+0x9);}}catch(_0x549450){console[_0x6671bd(0x16f)]('Local\x20Load\x20Error',_0x549450);}},async 'fetchFromServer'(_0x33ecc7,_0x10cc17={}){const _0x48da8c=a2_0x5ee2d3,_0x550d2b=window[_0x48da8c(0x16d)]?.[_0x48da8c(0x207)],_0x164acb={'action':_0x33ecc7,'init_data':_0x550d2b?.[_0x48da8c(0x205)]||'',..._0x10cc17};try{const _0x4af14a=await fetch(API_URL,{'method':_0x48da8c(0x177),'headers':{'Content-Type':_0x48da8c(0x21c)},'body':JSON['stringify'](_0x164acb)}),_0x4f78a2=await _0x4af14a['json']();if(!_0x4f78a2['ok'])throw new Error(_0x4f78a2[_0x48da8c(0x16f)]||_0x48da8c(0x11d));return _0x4f78a2[_0x48da8c(0x127)];}catch(_0x3e834e){console[_0x48da8c(0x16f)]('[API\x20'+_0x33ecc7+']\x20Failed:',_0x3e834e);throw _0x3e834e;}},async 'syncLoad'(){const _0x5643d3=a2_0x5ee2d3,_0x286d49=new Date(),_0x5b67df=_0x286d49[_0x5643d3(0xc3)]()+'-'+String(_0x286d49['getMonth']()+0x1)[_0x5643d3(0x131)](0x2,'0'),_0x7cab3c=new Date(_0x286d49);_0x7cab3c[_0x5643d3(0x1eb)](_0x286d49[_0x5643d3(0xf6)]()+0x1);const _0x331765=_0x7cab3c[_0x5643d3(0xc3)]()+'-'+String(_0x7cab3c[_0x5643d3(0xf6)]()+0x1)[_0x5643d3(0x131)](0x2,'0'),_0x81fb26=Date[_0x5643d3(0xe5)]();console['log'](_0x5643d3(0x20a)+_0x5b67df+',\x20'+_0x331765+_0x5643d3(0x225));try{const [_0x5971a8,_0x93baad]=await Promise['all']([this[_0x5643d3(0x155)](_0x5643d3(0x20c),{'month_str':_0x5b67df}),this[_0x5643d3(0x155)](_0x5643d3(0x20c),{'month_str':_0x331765})]);if(lastUserActionTime>_0x81fb26)return console[_0x5643d3(0x194)]('[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response'),![];return this[_0x5643d3(0x21e)](_0x5971a8,_0x5b67df),this['mergeServerData'](_0x93baad,_0x331765),this[_0x5643d3(0x138)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x43f98){console[_0x5643d3(0x16f)](_0x43f98);throw _0x43f98;}},'mergeServerData'(_0x32f13b,_0x2be4ec){const _0x301e68=a2_0x5ee2d3;if(!_0x32f13b)return;_0x32f13b['clients']&&Array[_0x301e68(0x110)](_0x32f13b['clients'])&&(clients=_0x32f13b[_0x301e68(0x1b2)]);if(_0x32f13b['settings']){if(_0x32f13b['settings'][_0x301e68(0x150)])availabilityPattern=_0x32f13b[_0x301e68(0x19c)][_0x301e68(0x150)];if(_0x32f13b['settings'][_0x301e68(0x1b9)])dateExceptions=_0x32f13b[_0x301e68(0x19c)]['exceptions'];if(_0x32f13b['settings']['ranges'])specialRanges=_0x32f13b[_0x301e68(0x19c)][_0x301e68(0x1d8)];if(_0x32f13b[_0x301e68(0x19c)][_0x301e68(0xba)]){localStorage[_0x301e68(0x1d2)]('uc_settings_cancel_window',_0x32f13b['settings'][_0x301e68(0xba)]);const _0x77a801=document[_0x301e68(0xe9)]('settingCancelWindow');if(_0x77a801)_0x77a801[_0x301e68(0x15b)]=_0x32f13b['settings'][_0x301e68(0xba)];}}_0x32f13b[_0x301e68(0x14a)]&&(sessions=sessions['filter'](_0x42d3ac=>!_0x42d3ac[_0x301e68(0xd8)]['startsWith'](_0x2be4ec)),Object[_0x301e68(0x166)](_0x32f13b[_0x301e68(0x14a)])[_0x301e68(0x109)](_0x3b7451=>{const _0x543733=_0x301e68,_0x2109b0=_0x32f13b[_0x543733(0x14a)][_0x3b7451];_0x2109b0['forEach'](_0x92f3f5=>{const _0x15a22a=_0x543733,_0x3e2731=clients[_0x15a22a(0x191)](_0x1fc29e=>String(_0x1fc29e['id'])===String(_0x92f3f5['c']));sessions[_0x15a22a(0x168)]({'id':_0x92f3f5['i'],'clientId':_0x92f3f5['c'],'client':_0x3e2731?_0x3e2731[_0x15a22a(0x137)]:_0x15a22a(0xeb),'dateStr':_0x2be4ec+'-'+_0x3b7451[_0x15a22a(0x131)](0x2,'0'),'start':_0x92f3f5['s'],'end':_0x92f3f5['e'],'status':_0x92f3f5['st']||_0x15a22a(0x21d),'note':_0x92f3f5['n']||'','seriesId':_0x92f3f5['sid']||null});});}));},async 'syncBatch'(_0x44946c){const _0x2e936c=a2_0x5ee2d3,_0x3f6d91=[...new Set(_0x44946c)],_0x23729a=_0x3f6d91[_0x2e936c(0xfc)](_0x23a5ce=>{const _0x5bd26a=_0x2e936c,_0x3fb79a=sessions[_0x5bd26a(0x1b4)](_0x4e5284=>_0x4e5284[_0x5bd26a(0xd8)]===_0x23a5ce&&_0x4e5284[_0x5bd26a(0x1f1)]!==_0x5bd26a(0x11f)),_0x12c3dc=_0x3fb79a['map'](_0x32cb70=>({'i':_0x32cb70['id'],'c':_0x32cb70[_0x5bd26a(0xc1)],'s':_0x32cb70[_0x5bd26a(0x1f9)],'e':_0x32cb70['end'],'st':_0x32cb70[_0x5bd26a(0x1f1)],'n':_0x32cb70[_0x5bd26a(0x1f3)],'sid':_0x32cb70[_0x5bd26a(0xf8)]}));return{'date':_0x23a5ce,'day_data':_0x12c3dc};});if(_0x23729a[_0x2e936c(0x17a)]===0x0)return;console[_0x2e936c(0x222)](_0x2e936c(0x227)+_0x23729a[_0x2e936c(0x17a)]+'\x20days'),await this[_0x2e936c(0x155)](_0x2e936c(0x1c4),{'changes':_0x23729a});}};async function init(){const _0x35fe63=a2_0x5ee2d3;DataManager['loadLocal'](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById'](_0x35fe63(0x20e))[_0x35fe63(0x1f5)](_0x35fe63(0x119),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x35fe63(0x18e)]()[_0x35fe63(0xc0)](()=>{const _0x30e5e5=_0x35fe63;showToast(_0x30e5e5(0x1c9),!![]);})[_0x35fe63(0x151)](_0x2ce789=>{showToast('–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º',![]);});}function generateId(){const _0x70d4c8=a2_0x5ee2d3;return Date['now']()[_0x70d4c8(0x19a)](0x24)+Math[_0x70d4c8(0x1ad)]()[_0x70d4c8(0x19a)](0x24)[_0x70d4c8(0x165)](0x2,0x5);}function toggleSeriesInput(){const _0x38c448=a2_0x5ee2d3,_0x1eb982=document[_0x38c448(0xe9)](_0x38c448(0xdb))['checked'],_0x20fb81=document['getElementById']('seriesCountContainer');_0x20fb81[_0x38c448(0xee)][_0x38c448(0xbf)]=_0x1eb982?'block':_0x38c448(0xec);const _0x34399c=document[_0x38c448(0xe9)](_0x38c448(0x15e));_0x34399c['style'][_0x38c448(0xcc)]=_0x1eb982?_0x38c448(0x130):_0x38c448(0xc5);}function openAddSession(_0x50445f){const _0x3f4e32=a2_0x5ee2d3;editingId=null,populateClientSelect(),document[_0x3f4e32(0xe9)]('sheetTitle')[_0x3f4e32(0x1e9)]='–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å',document[_0x3f4e32(0xe9)](_0x3f4e32(0x219))['style'][_0x3f4e32(0xbf)]=_0x3f4e32(0xec),document['getElementById'](_0x3f4e32(0xdc))['style']['display']=_0x3f4e32(0xec);const _0x5c4aff=document[_0x3f4e32(0xe9)]('recurringOptionContainer'),_0x71bccd=document[_0x3f4e32(0xe9)](_0x3f4e32(0x1a3));_0x5c4aff[_0x3f4e32(0xee)]['display']='flex',_0x5c4aff[_0x3f4e32(0xee)][_0x3f4e32(0xcc)]='10px',document[_0x3f4e32(0xe9)]('inpRecurring')[_0x3f4e32(0xd0)]=![],document[_0x3f4e32(0xe9)](_0x3f4e32(0x19f))['value']=0x4,_0x71bccd[_0x3f4e32(0xee)][_0x3f4e32(0xbf)]=_0x3f4e32(0xec),document['getElementById'](_0x3f4e32(0x15d))[_0x3f4e32(0x15b)]=getLocalDateStr(_0x50445f),updateDateDisplay();const _0x2f5479=_0x50445f[_0x3f4e32(0x171)]();document[_0x3f4e32(0xe9)](_0x3f4e32(0xb6))[_0x3f4e32(0x15b)]=String(_0x2f5479)[_0x3f4e32(0x131)](0x2,'0')+_0x3f4e32(0x221),document[_0x3f4e32(0xe9)](_0x3f4e32(0x136))[_0x3f4e32(0x15b)]=String(_0x2f5479+0x1)[_0x3f4e32(0x131)](0x2,'0')+_0x3f4e32(0x221),openSheet(_0x3f4e32(0x198));}function openEdit(_0x3384a8){const _0x3bb781=a2_0x5ee2d3;editingId=_0x3384a8['id'],populateClientSelect(),document[_0x3bb781(0xe9)](_0x3bb781(0x1f7))[_0x3bb781(0x1e9)]=_0x3bb781(0x1c6),document[_0x3bb781(0xe9)]('btnDelete')[_0x3bb781(0xee)][_0x3bb781(0xbf)]='block';const _0x5cc762=document[_0x3bb781(0xe9)](_0x3bb781(0xdc));_0x5cc762['style'][_0x3bb781(0xbf)]=_0x3bb781(0x1d6);_0x3384a8['status']===_0x3bb781(0xb9)?(_0x5cc762[_0x3bb781(0x111)]=_0x3bb781(0x1b8),_0x5cc762[_0x3bb781(0x1ed)]=_0x3bb781(0x106)):(_0x5cc762[_0x3bb781(0x111)]=_0x3bb781(0x1fc),_0x5cc762[_0x3bb781(0x1ed)]=_0x3bb781(0x1a1));const _0x48a44e=!!_0x3384a8[_0x3bb781(0xf8)];document['getElementById']('recurringOptionContainer')['style'][_0x3bb781(0xbf)]=_0x3bb781(0xec),document[_0x3bb781(0xe9)]('seriesCountContainer')['style']['display']=_0x3bb781(0xec),_0x48a44e?(document[_0x3bb781(0xe9)]('patternInfoBox')[_0x3bb781(0xee)][_0x3bb781(0xbf)]=_0x3bb781(0x1d6),document[_0x3bb781(0xe9)](_0x3bb781(0x206))['querySelector'](_0x3bb781(0x1ee))[_0x3bb781(0x1e9)]=_0x3bb781(0x1d9)):document[_0x3bb781(0xe9)](_0x3bb781(0x206))[_0x3bb781(0xee)][_0x3bb781(0xbf)]=_0x3bb781(0xec),document[_0x3bb781(0xe9)]('inpClient')[_0x3bb781(0x15b)]=_0x3384a8[_0x3bb781(0x156)],document[_0x3bb781(0xe9)](_0x3bb781(0x15d))[_0x3bb781(0x15b)]=_0x3384a8[_0x3bb781(0xd8)],document['getElementById'](_0x3bb781(0xb6))['value']=_0x3384a8[_0x3bb781(0x1f9)],document[_0x3bb781(0xe9)](_0x3bb781(0x136))['value']=_0x3384a8[_0x3bb781(0xf9)],document[_0x3bb781(0xe9)](_0x3bb781(0xf2))['value']=_0x3384a8[_0x3bb781(0x1f3)]||'',updateDateDisplay(),openSheet('sessionSheet');}async function trySaveSession(){const _0x44d908=a2_0x5ee2d3,_0x5585f1=document['getElementById']('inpClient')[_0x44d908(0x15b)],_0x19528c=document[_0x44d908(0xe9)](_0x44d908(0x15d))[_0x44d908(0x15b)],_0x1ff998=document[_0x44d908(0xe9)](_0x44d908(0xb6))[_0x44d908(0x15b)],_0x3a7a41=document['getElementById'](_0x44d908(0x136))[_0x44d908(0x15b)],_0x3ac2cb=document[_0x44d908(0xe9)]('inpNote')[_0x44d908(0x15b)],_0x489815=document[_0x44d908(0xe9)](_0x44d908(0xdb))[_0x44d908(0xd0)];let _0x20edca=0x4;if(_0x489815){const _0xa55305=parseInt(document[_0x44d908(0xe9)](_0x44d908(0x19f))[_0x44d908(0x15b)]);if(!_0xa55305||_0xa55305<0x2){showToast(_0x44d908(0x1c1),![]);return;}if(_0xa55305>0x64){showToast(_0x44d908(0xe0),![]);return;}_0x20edca=_0xa55305;}const _0x3ff70d=clients[_0x44d908(0x191)](_0x368e25=>_0x368e25[_0x44d908(0x137)]===_0x5585f1);if(!_0x3ff70d){showToast('–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞',![]);return;}const _0x17727f=validateAppointment(_0x19528c,_0x1ff998,_0x3a7a41,editingId,_0x3ff70d['id']);if(!_0x17727f[_0x44d908(0x143)]){showToast(_0x17727f[_0x44d908(0x154)],![]);return;}_0x17727f[_0x44d908(0x1c8)]&&showToast(_0x17727f[_0x44d908(0x1c8)],![]);const _0x5f223a={'client':_0x5585f1,'clientId':_0x3ff70d['id'],'start':_0x1ff998,'end':_0x3a7a41,'note':_0x3ac2cb,'status':_0x44d908(0x21d)},_0x1f4f5a=editingId?sessions[_0x44d908(0x191)](_0x5c79d3=>_0x5c79d3['id']===editingId):null;if(_0x1f4f5a&&_0x1f4f5a[_0x44d908(0xf8)]){tempSessionData={..._0x5f223a,'dateStr':_0x19528c,'id':editingId,'seriesId':_0x1f4f5a['seriesId']},openActionSheet('save');return;}let _0x4bfe75=null;if(!editingId)_0x4bfe75=_0x44d908(0x167);else{if(_0x1f4f5a){if(String(_0x1f4f5a['clientId'])!==String(_0x3ff70d['id']))console[_0x44d908(0x222)](_0x44d908(0xbc)),NotificationManager[_0x44d908(0x1fa)]('cancel',_0x1f4f5a),_0x4bfe75=_0x44d908(0x167);else(_0x1f4f5a['start']!==_0x1ff998||_0x1f4f5a[_0x44d908(0xf9)]!==_0x3a7a41||_0x1f4f5a[_0x44d908(0xd8)]!==_0x19528c)&&(_0x4bfe75=_0x44d908(0x20f));}}if(!editingId&&_0x489815){createBatchSeries(_0x5f223a,_0x19528c,_0x20edca),NotificationManager[_0x44d908(0x1fa)](_0x44d908(0x167),{..._0x5f223a,'dateStr':_0x19528c});return;}lastUserActionTime=Date['now']();const _0x123535={..._0x5f223a,'dateStr':_0x19528c,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x123535),_0x4bfe75&&NotificationManager['send'](_0x4bfe75,_0x123535);}function toggleSessionStatus(){const _0xaea656=a2_0x5ee2d3;lastUserActionTime=Date['now']();const _0x4d4298=sessions[_0xaea656(0x191)](_0x1c61d4=>_0x1c61d4['id']===editingId);if(!_0x4d4298)return;const _0x5a9768=_0x4d4298['status']===_0xaea656(0xb9)?_0xaea656(0x21d):_0xaea656(0xb9);_0x4d4298['status']=_0x5a9768,saveSingleSession(_0x4d4298),_0x5a9768===_0xaea656(0xb9)&&NotificationManager[_0xaea656(0x1fa)](_0xaea656(0x1fd),_0x4d4298),showToast(_0x5a9768===_0xaea656(0xb9)?_0xaea656(0xd1):_0xaea656(0x122),!![]);}function validateAppointment(_0x228d90,_0x18598a,_0x15652f,_0x26deb0,_0x441726){const _0xb6e3ce=a2_0x5ee2d3,[_0x16f754,_0x1fabdc]=_0x18598a[_0xb6e3ce(0x173)](':')[_0xb6e3ce(0xfc)](Number),[_0x43e080,_0x298171]=_0x15652f[_0xb6e3ce(0x173)](':')[_0xb6e3ce(0xfc)](Number),_0x288301=_0x16f754*0x3c+_0x1fabdc,_0x3b30d3=_0x43e080*0x3c+_0x298171,_0x199018=String(_0x441726);let _0x4bb735=![],_0x3bc03c='';for(let _0x107d6e of sessions){if(_0x107d6e[_0xb6e3ce(0xd8)]!==_0x228d90)continue;if(_0x107d6e[_0xb6e3ce(0x1f1)]===_0xb6e3ce(0x1c2))continue;if(_0x26deb0&&String(_0x107d6e['id'])===String(_0x26deb0))continue;const [_0xe44e70,_0x15d896]=_0x107d6e[_0xb6e3ce(0x1f9)][_0xb6e3ce(0x173)](':')[_0xb6e3ce(0xfc)](Number),[_0x3e7726,_0x36263f]=_0x107d6e[_0xb6e3ce(0xf9)][_0xb6e3ce(0x173)](':')[_0xb6e3ce(0xfc)](Number),_0x51a740=_0xe44e70*0x3c+_0x15d896,_0x2959c7=_0x3e7726*0x3c+_0x36263f;if(Math['max'](_0x288301,_0x51a740)<Math[_0xb6e3ce(0x13f)](_0x3b30d3,_0x2959c7)){if(_0x107d6e[_0xb6e3ce(0xc1)]&&String(_0x107d6e['clientId'])===_0x199018)return{'valid':![],'msg':_0xb6e3ce(0xce)+_0x107d6e[_0xb6e3ce(0x156)]+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x4bb735=!![],_0x3bc03c=_0x107d6e[_0xb6e3ce(0x156)];}}if(_0x4bb735)return{'valid':!![],'warning':_0xb6e3ce(0x103)+_0x3bc03c};return{'valid':!![]};}function saveSingleSession(_0x359a44){const _0x47de75=a2_0x5ee2d3;if(editingId){const _0x46805b=sessions[_0x47de75(0x1f0)](_0x4750e5=>_0x4750e5['id']===editingId);if(_0x46805b!==-0x1)sessions[_0x46805b]=_0x359a44;}else sessions[_0x47de75(0x168)](_0x359a44);afterSaveAction([_0x359a44['dateStr']]);}function createBatchSeries(_0x2037c6,_0xa1938f,_0x185551){const _0x1c6b46=a2_0x5ee2d3,_0x45fa4b=generateId(),_0x3ae5a6=[],_0x543403=[];let _0x2fc371=0x0,_0xe96e9=new Date(_0xa1938f);for(let _0x5151f2=0x0;_0x5151f2<_0x185551;_0x5151f2++){const _0x5183b2=getLocalDateStr(_0xe96e9),_0x38681a=validateAppointment(_0x5183b2,_0x2037c6[_0x1c6b46(0x1f9)],_0x2037c6[_0x1c6b46(0xf9)],null,_0x2037c6[_0x1c6b46(0xc1)]);if(!_0x38681a[_0x1c6b46(0x143)])console['log'](_0x1c6b46(0x182)+_0x5183b2+_0x1c6b46(0x183)),_0x2fc371++;else{const _0x2086d3={..._0x2037c6,'id':generateId(),'dateStr':_0x5183b2,'seriesId':_0x45fa4b};_0x543403[_0x1c6b46(0x168)](_0x2086d3),_0x3ae5a6[_0x1c6b46(0x168)](_0x5183b2);}_0xe96e9['setDate'](_0xe96e9[_0x1c6b46(0x21b)]()+0x7);}if(_0x543403[_0x1c6b46(0x17a)]===0x0){showToast(_0x1c6b46(0x1de),![]);return;}sessions[_0x1c6b46(0x168)](..._0x543403),lastUserActionTime=Date['now']();let _0x5112ac=_0x1c6b46(0x1ac)+_0x543403[_0x1c6b46(0x17a)];_0x2fc371>0x0&&(_0x5112ac+=_0x1c6b46(0x105)+_0x2fc371+')'),showToast(_0x5112ac,!![]),afterSaveAction(_0x3ae5a6);}function updateSeriesBatch(_0x407251,_0x5003e5){const _0x37a105=a2_0x5ee2d3,_0x304518=[],_0x7de0d8=_0x5003e5[_0x37a105(0xf8)];if(_0x407251==='single'){const _0x221111={..._0x5003e5,'seriesId':null},_0x36e110=sessions[_0x37a105(0x1f0)](_0x31041d=>_0x31041d['id']===_0x5003e5['id']);if(_0x36e110!==-0x1)sessions[_0x36e110]=_0x221111;_0x304518['push'](_0x221111['dateStr']);}else{if(_0x407251===_0x37a105(0x1d0)){const _0x39cb31=_0x5003e5['dateStr'];sessions['forEach']((_0x8c838,_0x15313c)=>{const _0x57b954=_0x37a105;_0x8c838['seriesId']===_0x7de0d8&&_0x8c838[_0x57b954(0xd8)]>=_0x39cb31&&(sessions[_0x15313c]={...sessions[_0x15313c],'start':_0x5003e5[_0x57b954(0x1f9)],'end':_0x5003e5['end'],'note':_0x5003e5['note'],'client':_0x5003e5[_0x57b954(0x156)],'clientId':_0x5003e5[_0x57b954(0xc1)]},_0x304518[_0x57b954(0x168)](_0x8c838[_0x57b954(0xd8)]));});}}afterSaveAction(_0x304518);}function tryDeleteSession(){const _0x445826=a2_0x5ee2d3,_0x50d457=sessions[_0x445826(0x191)](_0x42b963=>_0x42b963['id']===editingId);if(!_0x50d457)return;_0x50d457[_0x445826(0xf8)]?openActionSheet('delete'):commitDelete(_0x445826(0x1df),_0x50d457);}function commitDelete(_0x30453e,_0x4e37b4){const _0x274025=a2_0x5ee2d3;lastUserActionTime=Date[_0x274025(0xe5)](),NotificationManager[_0x274025(0x1fa)]('cancel',_0x4e37b4);const _0x49f81e=[];if(_0x30453e===_0x274025(0x1df))sessions=sessions[_0x274025(0x1b4)](_0x208477=>_0x208477['id']!==_0x4e37b4['id']),_0x49f81e[_0x274025(0x168)](_0x4e37b4[_0x274025(0xd8)]);else{if(_0x30453e===_0x274025(0x1d0)){const _0x2267cf=_0x4e37b4[_0x274025(0xd8)],_0x3d31f2=_0x4e37b4[_0x274025(0xf8)];sessions[_0x274025(0x109)](_0x3e01b4=>{const _0x143893=_0x274025;_0x3e01b4['seriesId']===_0x3d31f2&&_0x3e01b4[_0x143893(0xd8)]>=_0x2267cf&&_0x49f81e[_0x143893(0x168)](_0x3e01b4[_0x143893(0xd8)]);}),sessions=sessions['filter'](_0x2a3ff7=>!(_0x2a3ff7[_0x274025(0xf8)]===_0x3d31f2&&_0x2a3ff7[_0x274025(0xd8)]>=_0x2267cf));}}afterSaveAction(_0x49f81e);}function afterSaveAction(_0x521d97){const _0x51f3f9=a2_0x5ee2d3;DataManager['saveLocally'](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x51f3f9(0x11a)](_0x521d97)[_0x51f3f9(0xc0)](()=>console['log']('Batch\x20Sync\x20OK'))[_0x51f3f9(0x151)](_0x2b0166=>showToast(_0x51f3f9(0x1cc),![]));}const NotificationManager={'formatDate'(_0x5124b6){const _0x548359=a2_0x5ee2d3,_0x3ef8ca=new Date(_0x5124b6),_0x480da3={'weekday':_0x548359(0x226),'day':_0x548359(0x21f),'month':_0x548359(0x226)};let _0x274e4c=_0x3ef8ca[_0x548359(0x116)](_0x548359(0x120),_0x480da3);return _0x274e4c[_0x548359(0x1e8)](0x0)['toUpperCase']()+_0x274e4c[_0x548359(0x10f)](0x1);},'getText'(_0x45f9b5,_0x474532){const _0x1c746f=a2_0x5ee2d3,_0x66773=this['formatDate'](_0x474532[_0x1c746f(0xd8)]);switch(_0x45f9b5){case'create':return _0x1c746f(0xca)+(_0x1c746f(0x1bf)+_0x66773+'\x0a')+('<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20'+_0x474532[_0x1c746f(0x1f9)]+_0x1c746f(0xe1)+_0x474532[_0x1c746f(0xf9)]+'\x0a\x0a')+_0x1c746f(0x21a);case _0x1c746f(0x20f):return _0x1c746f(0xd2)+_0x1c746f(0x1fb)+(_0x1c746f(0x197)+_0x474532[_0x1c746f(0x1f9)]+_0x1c746f(0xe1)+_0x474532[_0x1c746f(0xf9)]+_0x1c746f(0x202))+(_0x1c746f(0x1bf)+_0x66773);case _0x1c746f(0x133):return _0x1c746f(0x176)+(_0x1c746f(0x14f)+_0x66773+'\x20('+_0x474532['start']+')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.');case'complete':return _0x1c746f(0x15c)+'–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a'+_0x1c746f(0x187);default:return'';}},async 'send'(_0x40795a,_0x3656b0){const _0xaa511b=a2_0x5ee2d3;console['log'](_0xaa511b(0x12e),_0x40795a,_0x3656b0);if(!_0x3656b0){console[_0xaa511b(0x16f)](_0xaa511b(0x10e));return;}const _0x531fbb=String(_0x3656b0[_0xaa511b(0xc1)]);console[_0xaa511b(0x222)](_0xaa511b(0x17f),_0x531fbb);if(!_0x3656b0[_0xaa511b(0xc1)]||_0x531fbb==='undefined'||_0x531fbb==='null'){console[_0xaa511b(0x16f)](_0xaa511b(0x108));if(_0x3656b0['client']){const _0x7b83cf=clients[_0xaa511b(0x191)](_0x47a97e=>_0x47a97e[_0xaa511b(0x137)]===_0x3656b0[_0xaa511b(0x156)]);if(_0x7b83cf)return console[_0xaa511b(0x222)]('[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:',_0x7b83cf['id']),this['send'](_0x40795a,{..._0x3656b0,'clientId':_0x7b83cf['id']});}return;}if(_0x531fbb['length']<0x5){console[_0xaa511b(0x194)]('[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)',_0x531fbb);return;}const _0x11c603=this[_0xaa511b(0x1ff)](_0x40795a,_0x3656b0);if(!_0x11c603){console[_0xaa511b(0x16f)](_0xaa511b(0x15a));return;}console[_0xaa511b(0x222)](_0xaa511b(0x134)+_0x531fbb+_0xaa511b(0x225)),DataManager[_0xaa511b(0x155)]('send_notification',{'chatId':_0x531fbb,'text':_0x11c603})[_0xaa511b(0xc0)](_0x10d21c=>console[_0xaa511b(0x222)](_0xaa511b(0x1c3),_0x10d21c))[_0xaa511b(0x151)](_0x36df49=>console['error']('[Notify]\x20Network\x20Failed',_0x36df49));}};function getLocalDateStr(_0x5a3b29){const _0x44116d=a2_0x5ee2d3,_0xeccb54=_0x5a3b29[_0x44116d(0xc3)](),_0x534046=String(_0x5a3b29[_0x44116d(0xf6)]()+0x1)['padStart'](0x2,'0'),_0x30076e=String(_0x5a3b29[_0x44116d(0x21b)]())['padStart'](0x2,'0');return _0xeccb54+'-'+_0x534046+'-'+_0x30076e;}function getDateStr(_0x5d1b40){const _0x2a9ddf=a2_0x5ee2d3,_0x1e7460=new Date();return _0x1e7460[_0x2a9ddf(0x178)](_0x1e7460[_0x2a9ddf(0x21b)]()+_0x5d1b40),getLocalDateStr(_0x1e7460);}function getStartOfWeek(_0x20cb58){const _0x5a5f14=a2_0x5ee2d3,_0x1e1ed4=new Date(_0x20cb58),_0x489112=_0x1e1ed4[_0x5a5f14(0x16b)](),_0x2715cb=_0x1e1ed4['getDate']()-_0x489112+(_0x489112===0x0?-0x6:0x1);return _0x1e1ed4[_0x5a5f14(0x178)](_0x2715cb),_0x1e1ed4[_0x5a5f14(0x1cb)](0x0,0x0,0x0,0x0),_0x1e1ed4;}function hexToRgba(_0x4427d9,_0x1c2996){const _0x22100b=a2_0x5ee2d3;if(!_0x4427d9)return _0x22100b(0x1cd);let _0x58a418=0x0,_0xd4d695=0x0,_0x471b65=0x0;if(_0x4427d9[_0x22100b(0x17a)]===0x4)_0x58a418='0x'+_0x4427d9[0x1]+_0x4427d9[0x1],_0xd4d695='0x'+_0x4427d9[0x2]+_0x4427d9[0x2],_0x471b65='0x'+_0x4427d9[0x3]+_0x4427d9[0x3];else _0x4427d9['length']===0x7&&(_0x58a418='0x'+_0x4427d9[0x1]+_0x4427d9[0x2],_0xd4d695='0x'+_0x4427d9[0x3]+_0x4427d9[0x4],_0x471b65='0x'+_0x4427d9[0x5]+_0x4427d9[0x6]);return _0x22100b(0xff)+ +_0x58a418+',\x20'+ +_0xd4d695+',\x20'+ +_0x471b65+',\x20'+_0x1c2996+')';}function renderTimeColumn(){const _0x551da3=a2_0x5ee2d3,_0x32691e=document['getElementById']('timeColumn'),_0x2ee5be=document[_0x551da3(0xe9)](_0x551da3(0x10b));_0x32691e[_0x551da3(0x1ed)]='',_0x32691e[_0x551da3(0x1a5)](_0x2ee5be);for(let _0x3e7ae9=0x0;_0x3e7ae9<0x18;_0x3e7ae9++){const _0x599921=document['createElement']('div');_0x599921[_0x551da3(0x111)]='time-label';if(_0x3e7ae9>0x0)_0x599921[_0x551da3(0x1ed)]=_0x551da3(0x17d)+String(_0x3e7ae9)[_0x551da3(0x131)](0x2,'0')+_0x551da3(0xdd);_0x32691e[_0x551da3(0x1a5)](_0x599921);}}function renderDayRange(_0x30cca0,_0x60185c){const _0x5b9d84=a2_0x5ee2d3,_0x558dee=document[_0x5b9d84(0xe9)](_0x5b9d84(0x125)),_0x511af8=document[_0x5b9d84(0xe9)](_0x5b9d84(0x102)),_0x4c5508=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x322d25=new Date();_0x322d25[_0x5b9d84(0x1cb)](0x0,0x0,0x0,0x0);const _0x1a153e=getLocalDateStr(new Date());for(let _0x45c579=_0x30cca0;_0x45c579<=_0x60185c;_0x45c579++){const _0x88d942=new Date(_0x322d25);_0x88d942[_0x5b9d84(0x178)](_0x88d942[_0x5b9d84(0x21b)]()+_0x45c579);const _0x3d3af7=getLocalDateStr(_0x88d942);let _0x18f5b2=_0x88d942[_0x5b9d84(0x16b)]()-0x1;if(_0x18f5b2===-0x1)_0x18f5b2=0x6;const _0x4ae881=_0x3d3af7===_0x1a153e,_0x2c70d1=document[_0x5b9d84(0x1ae)](_0x5b9d84(0x1db));_0x2c70d1[_0x5b9d84(0x111)]=_0x5b9d84(0x181)+(_0x4ae881?_0x5b9d84(0x113):''),_0x2c70d1['id']='header-'+_0x3d3af7,_0x2c70d1['setAttribute']('data-date',_0x3d3af7),_0x2c70d1['innerHTML']=_0x5b9d84(0x14e)+_0x4c5508[_0x18f5b2]+_0x5b9d84(0x13b)+_0x88d942[_0x5b9d84(0x21b)]()+_0x5b9d84(0x1a2)+_0x3d3af7+_0x5b9d84(0x18c),_0x2c70d1['onclick']=()=>openDayOptions(_0x3d3af7,_0x4c5508[_0x18f5b2]+'\x20'+_0x88d942[_0x5b9d84(0x21b)]()),_0x558dee['appendChild'](_0x2c70d1);const _0x49ab05=document['createElement'](_0x5b9d84(0x1db));_0x49ab05[_0x5b9d84(0x111)]='day-column\x20'+(_0x4ae881?_0x5b9d84(0x113):''),_0x49ab05[_0x5b9d84(0x184)](_0x5b9d84(0x157),_0x3d3af7),_0x49ab05[_0x5b9d84(0x184)](_0x5b9d84(0x223),_0x18f5b2),renderEventsForColumn(_0x49ab05,_0x3d3af7,_0x18f5b2),attachLongPressHandler(_0x49ab05,_0x88d942),_0x511af8['appendChild'](_0x49ab05),updateDayStats(_0x3d3af7);}}function reRenderBlocks(){const _0x44c4d4=a2_0x5ee2d3;document[_0x44c4d4(0x19e)](_0x44c4d4(0xd4))[_0x44c4d4(0x109)](_0x1df732=>{const _0x1187ea=_0x44c4d4;_0x1df732[_0x1187ea(0x19e)](_0x1187ea(0x11b))['forEach'](_0x1b112f=>_0x1b112f['remove']());const _0x19b60b=_0x1df732[_0x1187ea(0x149)](_0x1187ea(0x157)),_0x471835=parseInt(_0x1df732[_0x1187ea(0x149)](_0x1187ea(0x223))),_0x223b19=Math[_0x1187ea(0x16e)](_0x1df732[_0x1187ea(0xa9)]);(availabilityPattern[_0x471835]||[])['forEach'](_0x4e8904=>{const _0x1077b7=_0x1187ea,_0x2d6820=document[_0x1077b7(0x1ae)](_0x1077b7(0x1db));_0x2d6820[_0x1077b7(0x111)]='blocked-slot\x20stripe-bg';const _0x203063=_0x4e8904*GRID_H;_0x2d6820['style'][_0x1077b7(0x152)]=_0x203063+'px',_0x2d6820['style'][_0x1077b7(0x1ec)]='-'+_0x223b19+_0x1077b7(0xd7)+_0x203063+'px',_0x1df732[_0x1077b7(0x1a5)](_0x2d6820);});if(specialRanges&&specialRanges[_0x1187ea(0x17a)]>0x0){const _0x5efe70=new Date(_0x19b60b+_0x1187ea(0xfe))[_0x1187ea(0x199)](),_0x299c5b=new Date(_0x19b60b+_0x1187ea(0x193))[_0x1187ea(0x199)]();specialRanges[_0x1187ea(0x109)](_0x3041d7=>{const _0x501d86=_0x1187ea,_0x2ad3bf=new Date(_0x3041d7[_0x501d86(0x1f9)])[_0x501d86(0x199)](),_0x564931=new Date(_0x3041d7['end'])[_0x501d86(0x199)](),_0xdd93ab=Math[_0x501d86(0x107)](_0x5efe70,_0x2ad3bf),_0x3163cc=Math['min'](_0x299c5b,_0x564931);if(_0xdd93ab<_0x3163cc){if(_0xdd93ab<=_0x5efe70&&_0x3163cc>=_0x299c5b-0xea60){if(!_0x1df732[_0x501d86(0xd5)]('.day-off-overlay')){const _0x27b5ae=document['createElement'](_0x501d86(0x1db));_0x27b5ae['className']='day-off-overlay\x20stripe-bg',_0x27b5ae[_0x501d86(0xee)]['backgroundPosition']='-'+_0x223b19+_0x501d86(0x1b0),_0x1df732['appendChild'](_0x27b5ae);}}else{const _0x1daf4c=(_0xdd93ab-_0x5efe70)/0x36ee80*GRID_H,_0x26e1fb=(_0x3163cc-_0xdd93ab)/0x36ee80*GRID_H,_0x1e2e8b=document['createElement'](_0x501d86(0x1db));_0x1e2e8b[_0x501d86(0x111)]=_0x501d86(0x1ba),_0x1e2e8b[_0x501d86(0xee)][_0x501d86(0x152)]=_0x1daf4c+'px',_0x1e2e8b[_0x501d86(0xee)][_0x501d86(0x140)]=_0x26e1fb+'px',_0x1e2e8b[_0x501d86(0xee)][_0x501d86(0x1ec)]='-'+_0x223b19+_0x501d86(0xd7)+_0x1daf4c+'px',_0x1df732[_0x501d86(0x1a5)](_0x1e2e8b);}}});}if(dateExceptions[_0x19b60b]===_0x1187ea(0x1e2)){if(!_0x1df732['querySelector'](_0x1187ea(0x1c7))){const _0x308aa6=document[_0x1187ea(0x1ae)](_0x1187ea(0x1db));_0x308aa6[_0x1187ea(0x111)]=_0x1187ea(0xae),_0x308aa6['style'][_0x1187ea(0x1ec)]='-'+_0x223b19+'px\x200px',_0x1df732[_0x1187ea(0x1a5)](_0x308aa6);}}renderEventsForColumn(_0x1df732,_0x19b60b,_0x471835),updateDayStats(_0x19b60b);});}function updateAllDayStats(){const _0x10d43b=a2_0x5ee2d3;document[_0x10d43b(0x19e)](_0x10d43b(0x128))['forEach'](_0x26662a=>{const _0x1c5653=_0x10d43b;updateDayStats(_0x26662a[_0x1c5653(0x149)](_0x1c5653(0x157)));});}function updateDayStats(_0x1dea1e){const _0x11a3e5=a2_0x5ee2d3,_0x592bca=document['getElementById'](_0x11a3e5(0x10c)+_0x1dea1e);if(!_0x592bca)return;const _0x16183b=new Date(_0x1dea1e);let _0x14f36e=_0x16183b[_0x11a3e5(0x16b)]()-0x1;if(_0x14f36e===-0x1)_0x14f36e=0x6;if(dateExceptions[_0x1dea1e]===_0x11a3e5(0x1e2)){_0x592bca['style'][_0x11a3e5(0xbf)]=_0x11a3e5(0xec);return;}const _0x91a92=availabilityPattern[_0x14f36e]||[],_0x16b2cf=0x18-_0x91a92[_0x11a3e5(0x17a)],_0x65849e=_0x16b2cf*0x3c,_0x5cff76=sessions[_0x11a3e5(0x1b4)](_0xb2c214=>_0xb2c214[_0x11a3e5(0xd8)]===_0x1dea1e&&_0xb2c214[_0x11a3e5(0x1f1)]!=='cancelled');if(_0x5cff76[_0x11a3e5(0x17a)]===0x0){_0x592bca['style'][_0x11a3e5(0xbf)]=_0x11a3e5(0xec);return;}let _0x477472=_0x5cff76[_0x11a3e5(0xfc)](_0x11384c=>{const _0x31fb5a=_0x11a3e5,[_0xd5c0cd,_0x39bfc1]=_0x11384c[_0x31fb5a(0x1f9)][_0x31fb5a(0x173)](':')['map'](Number),[_0x2af52e,_0x55d95b]=_0x11384c['end'][_0x31fb5a(0x173)](':')['map'](Number);return[_0xd5c0cd*0x3c+_0x39bfc1,_0x2af52e*0x3c+_0x55d95b];});_0x477472[_0x11a3e5(0xde)]((_0x1914c3,_0x2430d3)=>_0x1914c3[0x0]-_0x2430d3[0x0]);let _0x4cd598=[];if(_0x477472['length']>0x0){let _0x3f5260=_0x477472[0x0];for(let _0xefa42d=0x1;_0xefa42d<_0x477472[_0x11a3e5(0x17a)];_0xefa42d++){_0x477472[_0xefa42d][0x0]<_0x3f5260[0x1]?_0x3f5260[0x1]=Math[_0x11a3e5(0x107)](_0x3f5260[0x1],_0x477472[_0xefa42d][0x1]):(_0x4cd598[_0x11a3e5(0x168)](_0x3f5260),_0x3f5260=_0x477472[_0xefa42d]);}_0x4cd598[_0x11a3e5(0x168)](_0x3f5260);}let _0x443436=0x0;_0x4cd598['forEach'](_0x59b599=>_0x443436+=_0x59b599[0x1]-_0x59b599[0x0]),_0x592bca[_0x11a3e5(0xee)]['display']='flex';const _0x1afdd5=_0x592bca['querySelector'](_0x11a3e5(0x1f2));if(_0x65849e===0x0){_0x1afdd5['style'][_0x11a3e5(0x141)]=_0x11a3e5(0x1bb),_0x1afdd5[_0x11a3e5(0xee)][_0x11a3e5(0x18a)]=_0x11a3e5(0x1a9);return;}const _0x26205e=_0x443436/_0x65849e*0x64;console[_0x11a3e5(0x222)]('['+_0x1dea1e+_0x11a3e5(0x1dd)+_0x16b2cf+_0x11a3e5(0xf5)+_0x443436+_0x11a3e5(0x164)+_0x26205e[_0x11a3e5(0x101)](0x1)+'%'),_0x26205e>0x64?(_0x1afdd5['style'][_0x11a3e5(0x141)]=_0x11a3e5(0x1bb),_0x1afdd5[_0x11a3e5(0xee)][_0x11a3e5(0x18a)]=_0x11a3e5(0x1a9)):(_0x1afdd5['style']['width']=_0x26205e+'%',_0x1afdd5['style'][_0x11a3e5(0x18a)]=_0x11a3e5(0xc9));}function renderEventsForColumn(_0x5610b5,_0x292bac,_0x2811b9){const _0x116b87=a2_0x5ee2d3,_0x48b32d=sessions[_0x116b87(0x1b4)](_0x1a79bb=>_0x1a79bb[_0x116b87(0xd8)]===_0x292bac),_0x5b059d=_0x48b32d[_0x116b87(0xfc)](_0x43d463=>{const _0x3a3655=_0x116b87,[_0x1e1651,_0x9fdfba]=_0x43d463[_0x3a3655(0x1f9)][_0x3a3655(0x173)](':')[_0x3a3655(0xfc)](Number),[_0x1db4c7,_0x144eb9]=_0x43d463[_0x3a3655(0xf9)][_0x3a3655(0x173)](':')[_0x3a3655(0xfc)](Number);return{'data':_0x43d463,'start':_0x1e1651*0x3c+_0x9fdfba,'end':_0x1db4c7*0x3c+_0x144eb9,'colIndex':0x0};});_0x5b059d[_0x116b87(0xde)]((_0x4fba88,_0x4aab77)=>{const _0x2fb48e=_0x116b87;if(_0x4fba88[_0x2fb48e(0x1f9)]!==_0x4aab77['start'])return _0x4fba88[_0x2fb48e(0x1f9)]-_0x4aab77[_0x2fb48e(0x1f9)];return _0x4aab77['end']-_0x4aab77['start']-(_0x4fba88[_0x2fb48e(0xf9)]-_0x4fba88[_0x2fb48e(0x1f9)]);});const _0x5745e2=[];_0x5b059d[_0x116b87(0x109)](_0x33280b=>{const _0x239504=_0x116b87;let _0x44b5d8=![];for(let _0x23dcdc=0x0;_0x23dcdc<_0x5745e2[_0x239504(0x17a)];_0x23dcdc++){const _0x3789ea=_0x5745e2[_0x23dcdc],_0x25afeb=_0x3789ea[_0x3789ea[_0x239504(0x17a)]-0x1];if(_0x33280b[_0x239504(0x1f9)]>=_0x25afeb['end']){_0x3789ea[_0x239504(0x168)](_0x33280b),_0x33280b[_0x239504(0xb7)]=_0x23dcdc,_0x44b5d8=!![];break;}}!_0x44b5d8&&(_0x5745e2[_0x239504(0x168)]([_0x33280b]),_0x33280b[_0x239504(0xb7)]=_0x5745e2[_0x239504(0x17a)]-0x1);}),_0x5b059d[_0x116b87(0x109)](_0xb31987=>{const _0x394850=_0x116b87;let _0x40a700=0x0;_0x5b059d['forEach'](_0x1d1250=>{const _0x127853=a2_0x25aa;if(Math['max'](_0xb31987[_0x127853(0x1f9)],_0x1d1250[_0x127853(0x1f9)])<Math[_0x127853(0x13f)](_0xb31987[_0x127853(0xf9)],_0x1d1250['end'])){if(_0x1d1250[_0x127853(0xb7)]>_0x40a700)_0x40a700=_0x1d1250[_0x127853(0xb7)];}});const _0x162e9c=_0x40a700+0x1,_0x18de6c=0x64/_0x162e9c,_0x1ac8f3=_0xb31987[_0x394850(0xb7)]*_0x18de6c,_0x4f4517=createEventEl(_0xb31987['data']);_0x4f4517[_0x394850(0xee)][_0x394850(0x141)]=_0x394850(0x162)+_0x18de6c+'%\x20-\x204px)',_0x4f4517[_0x394850(0xee)]['left']=_0x394850(0x162)+_0x1ac8f3+_0x394850(0xc6),_0x4f4517[_0x394850(0xee)][_0x394850(0x201)]=0xa+_0xb31987[_0x394850(0xb7)],_0x18de6c<0x55&&_0x4f4517[_0x394850(0x195)]['add'](_0x394850(0x1d7)),_0x5610b5['appendChild'](_0x4f4517);});}function createEventEl(_0x5b2392){const _0x5d4049=a2_0x5ee2d3,[_0x10d5a4,_0x1b30ec]=_0x5b2392['start']['split'](':')[_0x5d4049(0xfc)](Number),[_0x7296ef,_0x160456]=_0x5b2392[_0x5d4049(0xf9)][_0x5d4049(0x173)](':')[_0x5d4049(0xfc)](Number),_0x2686e5=(_0x10d5a4*0x3c+_0x1b30ec)/0x3c*GRID_H,_0x525cfc=(_0x7296ef*0x3c+_0x160456-(_0x10d5a4*0x3c+_0x1b30ec))/0x3c*GRID_H,_0x5a4ca4=document[_0x5d4049(0x1ae)](_0x5d4049(0x1db)),_0x29820d=_0x5b2392['status']===_0x5d4049(0xb9)?_0x5d4049(0x196):'';_0x5a4ca4[_0x5d4049(0x111)]=_0x5d4049(0xe4)+_0x29820d,_0x5a4ca4[_0x5d4049(0xee)][_0x5d4049(0x152)]=_0x2686e5+'px',_0x5a4ca4['style'][_0x5d4049(0x140)]=Math[_0x5d4049(0x107)](_0x525cfc,0x14)+'px';const _0x429385=clients[_0x5d4049(0x191)](_0x1e06c8=>_0x5b2392[_0x5d4049(0xc1)]&&String(_0x1e06c8['id'])===String(_0x5b2392[_0x5d4049(0xc1)])||_0x1e06c8[_0x5d4049(0x137)]===_0x5b2392['client']),_0x111bd6=_0x429385?_0x429385[_0x5d4049(0x1ab)]:_0x5d4049(0x17e);_0x5a4ca4[_0x5d4049(0xee)][_0x5d4049(0x1f4)]=_0x111bd6,_0x5a4ca4['style'][_0x5d4049(0xb8)]=hexToRgba(_0x111bd6,0.85);let _0xb8116e=_0x5d4049(0x114)+_0x5b2392[_0x5d4049(0x156)]+_0x5d4049(0x1e5)+_0x5b2392['start']+'\x20-\x20'+_0x5b2392[_0x5d4049(0xf9)]+_0x5d4049(0x100);return _0x5b2392['seriesId']&&(_0xb8116e+=_0x5d4049(0x1af)),_0x5b2392[_0x5d4049(0x1f1)]==='completed'&&(_0xb8116e+=_0x5d4049(0x1e1)),_0x5a4ca4[_0x5d4049(0x1ed)]=_0xb8116e,_0x5a4ca4[_0x5d4049(0x170)]=_0x42193a=>{const _0x380f23=_0x5d4049;_0x42193a[_0x380f23(0x216)](),openEdit(_0x5b2392);},_0x5a4ca4;}function attachLongPressHandler(_0x5394b5,_0x2dfa97){const _0x36f2f2=a2_0x5ee2d3;let _0x27e41f=0x0,_0x468dea=null;const _0x156edb=_0x44858e=>{const _0x43c2b8=a2_0x25aa;if(_0x44858e['target'][_0x43c2b8(0x124)](_0x43c2b8(0x1ea)))return;isScrolling=![],_0x27e41f=_0x44858e[_0x43c2b8(0x146)]?_0x44858e[_0x43c2b8(0x146)][0x0]['clientY']:_0x44858e['clientY'],_0x468dea=setTimeout(()=>{const _0x4dcaa6=_0x43c2b8;if(!isScrolling){navigator['vibrate']?.(0x32);const _0x2ee503=_0x5394b5[_0x4dcaa6(0x104)](),_0x1ab279=Math[_0x4dcaa6(0x1d3)]((_0x27e41f-_0x2ee503[_0x4dcaa6(0x152)])/GRID_H);_0x2dfa97['setHours'](_0x1ab279,0x0),openAddSession(_0x2dfa97);}},0x1f4);},_0x3c6e91=()=>{isScrolling=!![],clearTimeout(_0x468dea);},_0xec88af=()=>{clearTimeout(_0x468dea);};_0x5394b5['addEventListener'](_0x36f2f2(0x208),_0x156edb,{'passive':!![]}),_0x5394b5[_0x36f2f2(0x1f5)](_0x36f2f2(0x139),_0x3c6e91,{'passive':!![]}),_0x5394b5[_0x36f2f2(0x1f5)](_0x36f2f2(0xe2),_0xec88af),_0x5394b5['addEventListener']('mousedown',_0x156edb),_0x5394b5[_0x36f2f2(0x1f5)](_0x36f2f2(0x1a7),_0x3c6e91),_0x5394b5[_0x36f2f2(0x1f5)](_0x36f2f2(0xcb),_0xec88af);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x28e4a7=a2_0x5ee2d3,_0x4bba87=document[_0x28e4a7(0xe9)](_0x28e4a7(0x20e)),_0x5ebb43=_0x4bba87['scrollLeft'],_0x5473a9=_0x4bba87[_0x28e4a7(0x144)],_0x4934bf=_0x4bba87[_0x28e4a7(0xd9)];if(_0x5473a9-(_0x5ebb43+_0x4934bf)<0x12c){const _0x509f01=endOffset;endOffset+=0xe,renderDayRange(_0x509f01+0x1,endOffset),reRenderBlocks();}if(_0x5ebb43<0x12c){const _0x283c02=startOffset;startOffset-=0xe,prependDays(startOffset,_0x283c02-0x1),_0x4bba87[_0x28e4a7(0xd3)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x592c30,_0x55e36b){const _0x183cc2=a2_0x5ee2d3,_0x1ca678=document[_0x183cc2(0xe9)]('daysHeaderTrack'),_0x119814=document[_0x183cc2(0xe9)](_0x183cc2(0x102)),_0x42a83f=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x49685d=new Date();_0x49685d['setHours'](0x0,0x0,0x0,0x0);const _0x461e6d=getLocalDateStr(new Date()),_0x122ffd=document[_0x183cc2(0xf3)](),_0x2f9068=document[_0x183cc2(0xf3)]();for(let _0x2c35f4=_0x592c30;_0x2c35f4<=_0x55e36b;_0x2c35f4++){const _0x9fa121=new Date(_0x49685d);_0x9fa121['setDate'](_0x9fa121[_0x183cc2(0x21b)]()+_0x2c35f4);const _0x5f2ce1=getLocalDateStr(_0x9fa121);let _0x10ddb2=_0x9fa121[_0x183cc2(0x16b)]()-0x1;if(_0x10ddb2===-0x1)_0x10ddb2=0x6;const _0x26b237=_0x5f2ce1===_0x461e6d,_0x55ba30=document[_0x183cc2(0x1ae)](_0x183cc2(0x1db));_0x55ba30[_0x183cc2(0x111)]=_0x183cc2(0x181)+(_0x26b237?_0x183cc2(0x113):''),_0x55ba30['id']=_0x183cc2(0x121)+_0x5f2ce1,_0x55ba30['setAttribute'](_0x183cc2(0x157),_0x5f2ce1),_0x55ba30['innerHTML']=_0x183cc2(0x14e)+_0x42a83f[_0x10ddb2]+_0x183cc2(0x13b)+_0x9fa121[_0x183cc2(0x21b)]()+_0x183cc2(0x1a2)+_0x5f2ce1+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x55ba30[_0x183cc2(0x170)]=()=>openDayOptions(_0x5f2ce1,_0x42a83f[_0x10ddb2]+'\x20'+_0x9fa121[_0x183cc2(0x21b)]()),_0x122ffd[_0x183cc2(0x1a5)](_0x55ba30);const _0x6f13e9=document[_0x183cc2(0x1ae)](_0x183cc2(0x1db));_0x6f13e9[_0x183cc2(0x111)]=_0x183cc2(0xf1)+(_0x26b237?_0x183cc2(0x113):''),_0x6f13e9[_0x183cc2(0x184)](_0x183cc2(0x157),_0x5f2ce1),_0x6f13e9[_0x183cc2(0x184)](_0x183cc2(0x223),_0x10ddb2),renderEventsForColumn(_0x6f13e9,_0x5f2ce1,_0x10ddb2),attachLongPressHandler(_0x6f13e9,_0x9fa121),_0x2f9068['appendChild'](_0x6f13e9),updateDayStats(_0x5f2ce1);}_0x1ca678[_0x183cc2(0x11c)](_0x122ffd,_0x1ca678[_0x183cc2(0xaa)]),_0x119814[_0x183cc2(0x11c)](_0x2f9068,_0x119814[_0x183cc2(0xd5)](_0x183cc2(0xa5)));}function validateAppointment(_0x1743c5,_0x265f8c,_0x59372c,_0x58dcfb,_0x121232){const _0x2a817c=a2_0x5ee2d3,[_0x3417c8,_0x513fd0]=_0x265f8c['split'](':')[_0x2a817c(0xfc)](Number),[_0x1c0641,_0x4f28b9]=_0x59372c[_0x2a817c(0x173)](':')['map'](Number),_0x1175c2=_0x3417c8*0x3c+_0x513fd0,_0x14e849=_0x1c0641*0x3c+_0x4f28b9,_0x44e1dc=String(_0x121232);let _0xa3f2a1=![],_0x2eaa5f='';for(let _0x5a4c60 of sessions){if(_0x5a4c60['dateStr']!==_0x1743c5)continue;if(_0x5a4c60[_0x2a817c(0x1f1)]===_0x2a817c(0x1c2))continue;if(_0x58dcfb&&String(_0x5a4c60['id'])===String(_0x58dcfb))continue;const [_0x2eaf39,_0x2f806a]=_0x5a4c60[_0x2a817c(0x1f9)][_0x2a817c(0x173)](':')[_0x2a817c(0xfc)](Number),[_0x16d176,_0x4cb6b4]=_0x5a4c60['end'][_0x2a817c(0x173)](':')[_0x2a817c(0xfc)](Number),_0x3fa8fe=_0x2eaf39*0x3c+_0x2f806a,_0x23b694=_0x16d176*0x3c+_0x4cb6b4;if(Math[_0x2a817c(0x107)](_0x1175c2,_0x3fa8fe)<Math[_0x2a817c(0x13f)](_0x14e849,_0x23b694)){if(_0x5a4c60[_0x2a817c(0xc1)]&&String(_0x5a4c60['clientId'])===_0x44e1dc)return{'valid':![],'msg':_0x2a817c(0xce)+_0x5a4c60['client']+_0x2a817c(0xed)};_0xa3f2a1=!![],_0x2eaa5f=_0x5a4c60[_0x2a817c(0x156)];}}if(_0xa3f2a1)return{'valid':!![],'warning':'–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20'+_0x2eaa5f};return{'valid':!![]};}function updateDateDisplay(){const _0x1e1415=a2_0x5ee2d3,_0x2f3396=document[_0x1e1415(0xe9)](_0x1e1415(0x15d))[_0x1e1415(0x15b)],_0x5a8afa=document[_0x1e1415(0xe9)](_0x1e1415(0x147));if(!_0x2f3396){_0x5a8afa['textContent']='';return;}const [_0x126d76,_0x449bea,_0x517fb5]=_0x2f3396[_0x1e1415(0x173)]('-')[_0x1e1415(0xfc)](Number),_0x122cc9=new Date(_0x126d76,_0x449bea-0x1,_0x517fb5),_0x2d1d0a={'weekday':'long','day':_0x1e1415(0x21f),'month':_0x1e1415(0x226),'year':'numeric'};let _0x3b0c0b=_0x122cc9[_0x1e1415(0x116)]('ru-RU',_0x2d1d0a);_0x3b0c0b=_0x3b0c0b['charAt'](0x0)['toUpperCase']()+_0x3b0c0b['slice'](0x1),_0x5a8afa[_0x1e1415(0x1e9)]=_0x3b0c0b;}function autoSetEndTime(){const _0x227463=a2_0x5ee2d3,_0x1ad301=document[_0x227463(0xe9)](_0x227463(0xb6))[_0x227463(0x15b)];if(!_0x1ad301)return;const [_0x40be00,_0x5071d7]=_0x1ad301[_0x227463(0x173)](':')[_0x227463(0xfc)](Number);let _0x241dcc=_0x40be00+0x1;if(_0x241dcc>0x17)_0x241dcc=0x0;const _0x4aa93c=String(_0x241dcc)['padStart'](0x2,'0')+':'+String(_0x5071d7)['padStart'](0x2,'0');document['getElementById'](_0x227463(0x136))[_0x227463(0x15b)]=_0x4aa93c;}function a2_0x25aa(_0x43ee87,_0x30dac0){_0x43ee87=_0x43ee87-0xa5;const _0x14a8b9=a2_0x36da();let _0x4b2396=_0x14a8b9[_0x43ee87];return _0x4b2396;}function populateClientSelect(){const _0x20b0f6=a2_0x5ee2d3,_0x2d5204=document['getElementById'](_0x20b0f6(0x14c));_0x2d5204[_0x20b0f6(0x1ed)]='';if(clients[_0x20b0f6(0x17a)]===0x0){const _0xe926cf=document['createElement'](_0x20b0f6(0x1e7));_0xe926cf[_0x20b0f6(0xbe)]='–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤',_0x2d5204[_0x20b0f6(0x1a5)](_0xe926cf);return;}clients['forEach'](_0x1ec483=>{const _0x1dc620=_0x20b0f6,_0x5bfd6c=document[_0x1dc620(0x1ae)](_0x1dc620(0x1e7));_0x5bfd6c[_0x1dc620(0x15b)]=_0x1ec483[_0x1dc620(0x137)],_0x5bfd6c[_0x1dc620(0x1e9)]=_0x1ec483['name'],_0x2d5204[_0x1dc620(0x1a5)](_0x5bfd6c);});}function openActionSheet(_0x5859aa){const _0x5abe2c=a2_0x5ee2d3,_0x447ce7=document['getElementById'](_0x5abe2c(0x1e0)),_0x43ad98=document['getElementById'](_0x5abe2c(0x13d)),_0x5859b6=document['getElementById'](_0x5abe2c(0x1b6)),_0x38a700=document[_0x5abe2c(0xe9)](_0x5abe2c(0x224)),_0x10d312=document[_0x5abe2c(0xe9)]('asBtnSeries');_0x43ad98['classList'][_0x5abe2c(0x13a)](_0x5abe2c(0xbd)),_0x447ce7['classList']['add']('open');if(_0x5859aa==='save')_0x5859b6[_0x5abe2c(0x1e9)]=_0x5abe2c(0xe8),_0x38a700[_0x5abe2c(0x1e9)]=_0x5abe2c(0x112),_0x38a700[_0x5abe2c(0x170)]=()=>{closeActionSheet(),updateSeriesBatch('single',tempSessionData);},_0x10d312[_0x5abe2c(0x1e9)]='–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ',_0x10d312[_0x5abe2c(0x170)]=()=>{closeActionSheet(),updateSeriesBatch('series',tempSessionData);};else _0x5859aa==='delete'&&(_0x5859b6['textContent']=_0x5abe2c(0xb0),_0x38a700[_0x5abe2c(0x1e9)]='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x38a700[_0x5abe2c(0x111)]=_0x5abe2c(0x180),_0x38a700['onclick']=()=>{const _0x3874b2=_0x5abe2c;closeActionSheet(),commitDelete(_0x3874b2(0x1df),sessions[_0x3874b2(0x191)](_0x29e5c6=>_0x29e5c6['id']===editingId));},_0x10d312[_0x5abe2c(0x1e9)]='–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ',_0x10d312[_0x5abe2c(0x111)]='as-button\x20danger\x20bold',_0x10d312['onclick']=()=>{const _0x19c220=_0x5abe2c;closeActionSheet(),commitDelete(_0x19c220(0x1d0),sessions[_0x19c220(0x191)](_0x137f94=>_0x137f94['id']===editingId));});}function closeActionSheet(){const _0x1d3c2f=a2_0x5ee2d3;document[_0x1d3c2f(0xe9)](_0x1d3c2f(0x1e0))['classList'][_0x1d3c2f(0x12d)]('open'),document['getElementById']('actionSheetOverlay')[_0x1d3c2f(0x195)][_0x1d3c2f(0x12d)](_0x1d3c2f(0xbd));}function openSettings(){const _0x2b4e75=a2_0x5ee2d3;openSheet(_0x2b4e75(0xd6));}function saveCoachSettings(){const _0x360867=a2_0x5ee2d3,_0x1b4f7e=document[_0x360867(0xe9)](_0x360867(0x145))[_0x360867(0x15b)];localStorage[_0x360867(0x1d2)](_0x360867(0x11e),_0x1b4f7e),console[_0x360867(0x222)](_0x360867(0x1c0),_0x1b4f7e),DataManager['fetchFromServer'](_0x360867(0xad),{'settings':{'cancel_window':_0x1b4f7e}})['catch'](_0x481746=>{const _0x30b969=_0x360867;console[_0x30b969(0x16f)](_0x30b969(0xe6),_0x481746),showToast(_0x30b969(0xfa),![]);});}function loadCoachSettings(){const _0x3d8dcf=a2_0x5ee2d3,_0x3bcab5=localStorage[_0x3d8dcf(0x12f)](_0x3d8dcf(0x11e));_0x3bcab5&&(document[_0x3d8dcf(0xe9)](_0x3d8dcf(0x145))[_0x3d8dcf(0x15b)]=_0x3bcab5);}function openRangesSheet(){const _0x59c898=a2_0x5ee2d3;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x59c898(0x1ce));}function addRange(){const _0x4df3d5=a2_0x5ee2d3,_0x2d45ec=document[_0x4df3d5(0xe9)]('rangeStartDate')[_0x4df3d5(0x15b)],_0x17e054=document[_0x4df3d5(0xe9)](_0x4df3d5(0xc7))[_0x4df3d5(0x15b)],_0x5d649c=document['getElementById'](_0x4df3d5(0x117))[_0x4df3d5(0x15b)],_0x231355=document[_0x4df3d5(0xe9)](_0x4df3d5(0x1a6))[_0x4df3d5(0x15b)];if(!_0x2d45ec||!_0x17e054||!_0x5d649c||!_0x231355)return alert(_0x4df3d5(0xb3));const _0x787286=_0x2d45ec+'T'+_0x17e054,_0x593644=_0x5d649c+'T'+_0x231355;if(_0x787286>=_0x593644)return alert(_0x4df3d5(0x185));specialRanges[_0x4df3d5(0x168)]({'start':_0x787286,'end':_0x593644}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x4df3d5(0x138)](),DataManager[_0x4df3d5(0x155)](_0x4df3d5(0xad),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x2034ec){const _0x38da5d=a2_0x5ee2d3;specialRanges[_0x38da5d(0x174)](_0x2034ec,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x38da5d(0x138)](),DataManager[_0x38da5d(0x155)](_0x38da5d(0xad),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x39019f=a2_0x5ee2d3;document[_0x39019f(0xe9)](_0x39019f(0x135))['value']='',document['getElementById']('rangeStartTime')['value']='00:00',document[_0x39019f(0xe9)](_0x39019f(0x117))['value']='',document[_0x39019f(0xe9)](_0x39019f(0x1a6))['value']=_0x39019f(0xaf);}function renderRangesList(){const _0x1cfeef=a2_0x5ee2d3,_0x3b0014=document[_0x1cfeef(0xe9)]('rangesList');_0x3b0014[_0x1cfeef(0x1ed)]='';if(!specialRanges[_0x1cfeef(0x17a)]){_0x3b0014[_0x1cfeef(0x1ed)]=_0x1cfeef(0xf0);return;}specialRanges[_0x1cfeef(0x109)]((_0x2042fe,_0x442a5d)=>{const _0x48c365=_0x1cfeef,_0x8b293b=document['createElement'](_0x48c365(0x1db));_0x8b293b[_0x48c365(0x111)]=_0x48c365(0x118);const _0x3b03d3=_0x4b53c5=>{const _0xc24f9f=_0x48c365,_0x1e1642=new Date(_0x4b53c5);return _0x1e1642[_0xc24f9f(0x21b)]()+'.'+String(_0x1e1642[_0xc24f9f(0xf6)]()+0x1)[_0xc24f9f(0x131)](0x2,'0')+'\x20'+String(_0x1e1642['getHours']())[_0xc24f9f(0x131)](0x2,'0')+':'+String(_0x1e1642[_0xc24f9f(0x217)]())[_0xc24f9f(0x131)](0x2,'0');};_0x8b293b['innerHTML']=_0x48c365(0x10a)+_0x3b03d3(_0x2042fe[_0x48c365(0x1f9)])+_0x48c365(0xe1)+_0x3b03d3(_0x2042fe[_0x48c365(0xf9)])+_0x48c365(0xb4)+_0x442a5d+_0x48c365(0x16c),_0x3b0014[_0x48c365(0x1a5)](_0x8b293b);});}function scrollToToday(){const _0x27f2b5=a2_0x5ee2d3,_0x114a1e=getLocalDateStr(new Date()),_0x313bb0=document[_0x27f2b5(0xe9)](_0x27f2b5(0x121)+_0x114a1e),_0x42acae=document[_0x27f2b5(0xe9)](_0x27f2b5(0x20e));if(_0x313bb0&&_0x42acae){const _0x246946=_0x42acae[_0x27f2b5(0xd9)],_0x1458d1=_0x313bb0[_0x27f2b5(0xa9)],_0x1ae6cc=_0x313bb0[_0x27f2b5(0x179)];_0x42acae[_0x27f2b5(0xd3)]=_0x1458d1-_0x246946/0x2+_0x1ae6cc/0x2,_0x42acae[_0x27f2b5(0x1c5)]=0x9*GRID_H;}}function onScroll(){const _0x4fc9f9=a2_0x5ee2d3,_0x1c2d14=document[_0x4fc9f9(0xe9)](_0x4fc9f9(0x20e)),_0x210f8b=document['querySelectorAll'](_0x4fc9f9(0x128));for(let _0x40e2af of _0x210f8b)if(_0x40e2af[_0x4fc9f9(0xa9)]>=_0x1c2d14[_0x4fc9f9(0xd3)]){const _0x5b12c7=new Date(_0x40e2af[_0x4fc9f9(0x149)]('data-date'));document[_0x4fc9f9(0xe9)](_0x4fc9f9(0x1b5))[_0x4fc9f9(0x1e9)]=_0x5b12c7['toLocaleString']('ru',{'month':_0x4fc9f9(0x226)})[_0x4fc9f9(0xf7)]()+'\x20'+_0x5b12c7[_0x4fc9f9(0xc3)]();break;}}function showToast(_0x1662d4,_0x5ed8a3=![]){const _0x4680d0=a2_0x5ee2d3,_0x436421=document[_0x4680d0(0xe9)](_0x4680d0(0x160));_0x436421[_0x4680d0(0x111)]=_0x4680d0(0xdf)+(_0x5ed8a3?_0x4680d0(0x148):''),document[_0x4680d0(0xe9)](_0x4680d0(0x1da))[_0x4680d0(0x1e9)]=_0x5ed8a3?_0x4680d0(0xc4):_0x4680d0(0x14d),document['getElementById'](_0x4680d0(0xef))[_0x4680d0(0x1e9)]=_0x1662d4,_0x436421[_0x4680d0(0x195)][_0x4680d0(0x13a)]('show'),setTimeout(()=>{const _0x4c27dd=_0x4680d0;_0x436421[_0x4c27dd(0x195)][_0x4c27dd(0x12d)]('show');},0xbb8);}function openDayOptions(_0x8e9010,_0x155418){const _0x78a055=a2_0x5ee2d3;selectedDayForOptions=_0x8e9010,document[_0x78a055(0xe9)](_0x78a055(0xa6))[_0x78a055(0x1e9)]=_0x155418,openSheet(_0x78a055(0x1b3));}function toggleDayOff(){const _0x3b5930=a2_0x5ee2d3;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]='off',reRenderBlocks(),closeAllSheets(),DataManager[_0x3b5930(0x138)](),DataManager[_0x3b5930(0x155)](_0x3b5930(0xad),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x20fb5e=a2_0x5ee2d3;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x20fb5e(0x138)](),DataManager['fetchFromServer'](_0x20fb5e(0xad),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x36025f){const _0x13908a=a2_0x5ee2d3;document[_0x13908a(0xe9)](_0x13908a(0x1be))[_0x13908a(0x195)][_0x13908a(0x13a)](_0x13908a(0xbd)),document[_0x13908a(0xe9)](_0x36025f)[_0x13908a(0x195)][_0x13908a(0x13a)](_0x13908a(0x12c));}function closeAllSheets(){const _0x1151f3=a2_0x5ee2d3;document[_0x1151f3(0xe9)](_0x1151f3(0x1be))[_0x1151f3(0x195)][_0x1151f3(0x12d)]('active'),document['querySelectorAll']('.sheet')[_0x1151f3(0x109)](_0x59163b=>_0x59163b[_0x1151f3(0x195)][_0x1151f3(0x12d)](_0x1151f3(0x12c)));}function openPatternEditor(){const _0x333487=a2_0x5ee2d3;closeAllSheets(),document['getElementById']('patternEditor')[_0x333487(0x195)][_0x333487(0x13a)](_0x333487(0x12c)),renderPatternEditor();}function closePatternEditor(){const _0x317537=a2_0x5ee2d3;document['getElementById'](_0x317537(0x211))['classList'][_0x317537(0x12d)]('open');}function savePattern(){const _0x481eb3=a2_0x5ee2d3;document['getElementById'](_0x481eb3(0x211))[_0x481eb3(0x195)][_0x481eb3(0x12d)](_0x481eb3(0x12c)),reRenderBlocks(),DataManager[_0x481eb3(0x138)](),DataManager[_0x481eb3(0x155)](_0x481eb3(0xad),{'settings':{'pattern':availabilityPattern}});}function a2_0x36da(){const _0x46f8ed=['add','</div><div\x20class=\x22dch-num\x22>','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','actionSheetOverlay','rgba(255,\x2069,\x2058,\x200.3)','min','height','width','parse','valid','scrollWidth','settingCancelWindow','touches','sheetDateSubtitle','success','getAttribute','calendar','Error\x20setting\x20back\x20button:','inpClient','–ò–Ω—Ñ–æ','<div\x20class=\x22dch-day\x22>','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','pattern','catch','top','1909480oYcdvA','msg','fetchFromServer','client','data-date','pe-time-label','BackButton','[Notify]\x20Error:\x20Text\x20generation\x20failed','value','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','inpDate','recurringOptionContainer','rgba(255,\x2069,\x2058,\x200.15)','toast','indexOf','calc(','2645898CvLbaT','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','substr','keys','create','push','anPercent','uc_clients_v9','getDay',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','Telegram','round','error','onclick','getHours','DOMContentLoaded','split','splice','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','POST','setDate','offsetWidth','length','client-stat-card','rgba(255,255,255,0.05)','<span>','#0a84ff','[Notify]\x20Detected\x20Client\x20ID:','as-button\x20danger','day-col-header\x20','[Series]\x20Skipped\x20',':\x20Client\x20already\x20booked','setAttribute','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','expand','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','show','href','background','doBusyHours','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','uc_sessions_v9','syncLoad','.period-switch\x20.p-btn','1349232ipQalj','find','borderColor','T23:59:59','warn','classList','\x20status-completed','<b>‚úÖ\x20','sessionSheet','getTime','toString','done','settings','entries','querySelectorAll','inpSeriesCount','anStart','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','seriesCountContainer','anEnd','appendChild','rangeEndTime','mousemove','total','var(--acc-red)','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','color','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','random','createElement','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','px\x200px','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','clients','dayOptionsSheet','filter','headerMonth','asTitle','601dLnmiq','btn-status-toggle\x20undo-mode','exceptions','blocked-range-part\x20stripe-bg','100%','\x20–∏–∑\x20','btn-primary\x20btn-danger','overlay','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','[Settings]\x20Cancel\x20window\x20set\x20to:','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','cancelled','[Notify]\x20Server\x20Response:','batch_sync','scrollTop','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','.day-off-overlay','warning','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','doWorkHours','setHours','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','rgba(100,100,100,0.5)','rangesSheet','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','series','rgba(48,\x20209,\x2088,\x200.15)','setItem','floor','v9.0-BATCH-CALENDAR','11IOsUIJ','flex','mini','ranges','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','toastTitle','div','Critical\x20TMA\x20Error:',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','single','actionSheet','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','off','uc_settings_v9','offClick','</div><div\x20class=\x22ev-time\x22>','includes','option','charAt','textContent','.event-card','setMonth','backgroundPosition','innerHTML','.pib-text','from','findIndex','status','.dch-stats-fill','note','borderLeftColor','addEventListener','search','sheetTitle','ready','start','send','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','btn-status-toggle','complete','onClick','getText','4zamBXS','zIndex','</b>\x0a\x0a','anCustomDates','initDataUnsafe','initData','patternInfoBox','WebApp','touchstart','peGrid','[Sync]\x20Loading\x20','apply','init_load','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','matrixViewport','update','62965IAOpxK','patternEditor','week','Error\x20setting\x20color:','disableVerticalSwipes','(((.+)+)+)+$','stopPropagation','getMinutes','486Wxyimk','btnDelete','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','getDate','text/plain;charset=UTF-8','planned','mergeServerData','numeric','custom',':00','log','data-day-idx','asBtnOne','...','long','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','.day-column','dayOptionsTitle','\x20-\x20','8iyvutu','offsetLeft','firstChild','btn-primary\x20btn-secondary','8248110HvdqJU','save_settings','day-off-overlay\x20stripe-bg','23:59','–£–¥–∞–ª–µ–Ω–∏–µ','rgba(255,\x20159,\x2010,\x200.3)','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','anTotalStats','inpStart','colIndex','backgroundColor','completed','cancel_window','2370ubEYVo','[Notify]\x20Client\x20SWAP\x20detected','active','text','display','then','clientId','585621IhrcQZ','getFullYear','–£—Å–ø–µ—à–Ω–æ','10px','%\x20+\x202px)','rangeStartTime','block','var(--acc-current)','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','mouseup','borderRadius','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','checked','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','scrollLeft','#gridColumns\x20.day-column','querySelector','settingsSheet','px\x20-','dateStr','clientWidth','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','inpRecurring','btnStatusToggle',':00</span>','sort','toast-notification\x20','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','\x20‚Äî\x20','touchend','anDonutCircle','event-card','now','Save\x20settings\x20error:','doEventsList','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','getElementById','setBackgroundColor','Unknown','none',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','style','toastMessage','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','day-column\x20','inpNote','createDocumentFragment','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','getMonth','toUpperCase','seriesId','end','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','map','stringify','T00:00:00','rgba(','</div>','toFixed','gridColumns','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','getBoundingClientRect','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','max','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','forEach','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','timeLineBadge','stat-','pe-cell\x20','[Notify]\x20Error:\x20sessionData\x20is\x20null','slice','isArray','className','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','today','<div\x20class=\x22ev-title\x22>','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','toLocaleDateString','rangeEndDate','range-item','scroll','syncBatch','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','insertBefore','Server\x20Error','uc_settings_cancel_window','deleted','ru-RU','header-','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','de-item','closest','daysHeaderTrack','</span>\x20/\x20','data','.day-col-header','pe-col-header','#050505','pe-corner','open','remove','[Notify]\x20Attempting\x20to\x20send:','getItem','10px\x2010px\x200\x200','padStart','strokeDashoffset','cancel','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','rangeStartDate','inpEnd','name','saveLocally','touchmove'];a2_0x36da=function(){return _0x46f8ed;};return a2_0x36da();}function renderPatternEditor(){const _0x1ac6d7=a2_0x5ee2d3,_0x588b44=document[_0x1ac6d7(0xe9)](_0x1ac6d7(0x209));_0x588b44['innerHTML']='';const _0x189b24=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x4509b=document[_0x1ac6d7(0x1ae)](_0x1ac6d7(0x1db));_0x4509b[_0x1ac6d7(0x111)]=_0x1ac6d7(0x12b),_0x588b44[_0x1ac6d7(0x1a5)](_0x4509b),_0x189b24[_0x1ac6d7(0x109)]((_0x1e62e7,_0x49f599)=>{const _0x4db844=_0x1ac6d7,_0x8475e6=document[_0x4db844(0x1ae)](_0x4db844(0x1db));_0x8475e6[_0x4db844(0x111)]=_0x4db844(0x129),_0x8475e6['innerHTML']=_0x1e62e7+_0x4db844(0x175),_0x8475e6['onclick']=()=>toggleColPattern(_0x49f599),_0x588b44[_0x4db844(0x1a5)](_0x8475e6);});for(let _0x346af=0x0;_0x346af<0x18;_0x346af++){const _0x20c803=document[_0x1ac6d7(0x1ae)](_0x1ac6d7(0x1db));_0x20c803[_0x1ac6d7(0x111)]=_0x1ac6d7(0x158),_0x20c803['innerHTML']=_0x1ac6d7(0xcd)+String(_0x346af)[_0x1ac6d7(0x131)](0x2,'0')+_0x1ac6d7(0x221),_0x20c803[_0x1ac6d7(0x170)]=()=>toggleRowPattern(_0x346af),_0x588b44[_0x1ac6d7(0x1a5)](_0x20c803);for(let _0x1e8752=0x0;_0x1e8752<0x7;_0x1e8752++){const _0x277585=document[_0x1ac6d7(0x1ae)](_0x1ac6d7(0x1db)),_0x645bd9=(availabilityPattern[_0x1e8752]||[])[_0x1ac6d7(0x1e6)](_0x346af),_0x433719=!_0x645bd9;_0x277585[_0x1ac6d7(0x111)]=_0x1ac6d7(0x10d)+(_0x433719?_0x1ac6d7(0xbd):''),_0x277585[_0x1ac6d7(0x170)]=()=>toggleSinglePattern(_0x1e8752,_0x346af),_0x588b44[_0x1ac6d7(0x1a5)](_0x277585);}}}function toggleSinglePattern(_0x39fd8b,_0x25eb99){const _0x46b420=a2_0x5ee2d3;if(!availabilityPattern[_0x39fd8b])availabilityPattern[_0x39fd8b]=[];const _0x229668=availabilityPattern[_0x39fd8b],_0x543e81=_0x229668[_0x46b420(0x161)](_0x25eb99);_0x543e81===-0x1?_0x229668[_0x46b420(0x168)](_0x25eb99):_0x229668[_0x46b420(0x174)](_0x543e81,0x1),renderPatternEditor();}function toggleColPattern(_0x24543a){const _0x562808=a2_0x5ee2d3;if(!availabilityPattern[_0x24543a])availabilityPattern[_0x24543a]=[];const _0x529a50=availabilityPattern[_0x24543a];_0x529a50[_0x562808(0x17a)]===0x0?availabilityPattern[_0x24543a]=Array[_0x562808(0x1ef)]({'length':0x18},(_0x548852,_0x1a898c)=>_0x1a898c):availabilityPattern[_0x24543a]=[],renderPatternEditor();}function toggleRowPattern(_0x1f61d5){const _0x5f71f4=a2_0x5ee2d3;let _0x107ad4=!![];for(let _0x1af1d8=0x0;_0x1af1d8<0x7;_0x1af1d8++){if((availabilityPattern[_0x1af1d8]||[])['includes'](_0x1f61d5)){_0x107ad4=![];break;}}for(let _0x4cd1c1=0x0;_0x4cd1c1<0x7;_0x4cd1c1++){if(!availabilityPattern[_0x4cd1c1])availabilityPattern[_0x4cd1c1]=[];const _0x2abf96=availabilityPattern[_0x4cd1c1][_0x5f71f4(0x161)](_0x1f61d5);if(_0x107ad4){if(_0x2abf96===-0x1)availabilityPattern[_0x4cd1c1][_0x5f71f4(0x168)](_0x1f61d5);}else{if(_0x2abf96!==-0x1)availabilityPattern[_0x4cd1c1][_0x5f71f4(0x174)](_0x2abf96,0x1);}}renderPatternEditor();}function renderPCol(_0x271d50,_0x5baf64){const _0x383453=a2_0x5ee2d3;_0x271d50[_0x383453(0x1ed)]='';const _0x65b305=Math[_0x383453(0x16e)](_0x271d50[_0x383453(0xa9)]);(availabilityPattern[_0x5baf64]||[])[_0x383453(0x109)](_0x153077=>{const _0x91c907=_0x383453,_0x1e16b1=document[_0x91c907(0x1ae)]('div');_0x1e16b1[_0x91c907(0x111)]='blocked-slot\x20stripe-bg';const _0x3eb13b=_0x153077*GRID_H;_0x1e16b1[_0x91c907(0xee)]['top']=_0x3eb13b+'px',_0x1e16b1['style'][_0x91c907(0x1ec)]='-'+_0x65b305+'px\x20-'+_0x3eb13b+'px',_0x1e16b1[_0x91c907(0x170)]=_0x22eb57=>{const _0x5bd557=_0x91c907;_0x22eb57[_0x5bd557(0x216)](),toggleSinglePattern(_0x5baf64,_0x153077);},_0x271d50[_0x91c907(0x1a5)](_0x1e16b1);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0xf6ece4=a2_0x5ee2d3,_0x1a8204=new Date(),_0x5c5b42=document[_0xf6ece4(0xe9)]('globalTimeLine'),_0x440cf0=document[_0xf6ece4(0xe9)]('timeLineBadge'),_0x2f7e5e=(_0x1a8204[_0xf6ece4(0x171)]()*0x3c+_0x1a8204[_0xf6ece4(0x217)]())/0x3c*GRID_H;_0x5c5b42[_0xf6ece4(0xee)][_0xf6ece4(0x152)]=_0x2f7e5e+'px',_0x5c5b42[_0xf6ece4(0xee)][_0xf6ece4(0xbf)]=_0xf6ece4(0xc8),_0x440cf0[_0xf6ece4(0x1e9)]=String(_0x1a8204['getHours']())['padStart'](0x2,'0')+':'+String(_0x1a8204[_0xf6ece4(0x217)]())['padStart'](0x2,'0'),_0x440cf0['style'][_0xf6ece4(0xbf)]=_0xf6ece4(0xc8),_0x440cf0[_0xf6ece4(0xee)][_0xf6ece4(0x152)]=_0x2f7e5e+'px';}document[a2_0x5ee2d3(0x1f5)](a2_0x5ee2d3(0x172),init);function openDayOptions(_0x4f9dda){const _0x5f345e=a2_0x5ee2d3;selectedDayForOptions=_0x4f9dda;const _0x516450=new Date(_0x4f9dda),_0x6624e6={'weekday':_0x5f345e(0x226),'day':_0x5f345e(0x21f),'month':'long','year':_0x5f345e(0x21f)},_0x5ad82f=_0x516450[_0x5f345e(0x116)](_0x5f345e(0x120),_0x6624e6);document[_0x5f345e(0xe9)]('doDateHeader')[_0x5f345e(0x1e9)]=_0x5ad82f[_0x5f345e(0x1e8)](0x0)[_0x5f345e(0xf7)]()+_0x5ad82f[_0x5f345e(0x10f)](0x1);let _0x543cec=_0x516450[_0x5f345e(0x16b)]()-0x1;if(_0x543cec===-0x1)_0x543cec=0x6;const _0x1180a2=availabilityPattern[_0x543cec]||[],_0xe82d2=0x18-_0x1180a2['length'],_0x31b405=_0xe82d2*0x3c,_0x4f442f=sessions[_0x5f345e(0x1b4)](_0x1689b7=>_0x1689b7[_0x5f345e(0xd8)]===_0x4f9dda&&_0x1689b7[_0x5f345e(0x1f1)]!==_0x5f345e(0x1c2));let _0x4a0f14=_0x4f442f[_0x5f345e(0xfc)](_0x2c1c87=>{const _0x553fce=_0x5f345e,[_0x40b604,_0x2e2872]=_0x2c1c87[_0x553fce(0x1f9)][_0x553fce(0x173)](':')[_0x553fce(0xfc)](Number),[_0x86ee0,_0x5e16b7]=_0x2c1c87['end']['split'](':')[_0x553fce(0xfc)](Number);return[_0x40b604*0x3c+_0x2e2872,_0x86ee0*0x3c+_0x5e16b7];});_0x4a0f14[_0x5f345e(0xde)]((_0x580b71,_0x20771a)=>_0x580b71[0x0]-_0x20771a[0x0]);let _0x1d77c2=[];if(_0x4a0f14[_0x5f345e(0x17a)]>0x0){let _0x3a5979=_0x4a0f14[0x0];for(let _0x2fef4c=0x1;_0x2fef4c<_0x4a0f14[_0x5f345e(0x17a)];_0x2fef4c++){_0x4a0f14[_0x2fef4c][0x0]<_0x3a5979[0x1]?_0x3a5979[0x1]=Math[_0x5f345e(0x107)](_0x3a5979[0x1],_0x4a0f14[_0x2fef4c][0x1]):(_0x1d77c2[_0x5f345e(0x168)](_0x3a5979),_0x3a5979=_0x4a0f14[_0x2fef4c]);}_0x1d77c2[_0x5f345e(0x168)](_0x3a5979);}let _0x3c3be4=0x0;_0x1d77c2['forEach'](_0x40161b=>_0x3c3be4+=_0x40161b[0x1]-_0x40161b[0x0]),document[_0x5f345e(0xe9)](_0x5f345e(0x1ca))['textContent']=formatMinsToHrs(_0x31b405),document[_0x5f345e(0xe9)](_0x5f345e(0x18b))[_0x5f345e(0x1e9)]=formatMinsToHrs(_0x3c3be4);const _0x41385b=_0x31b405>0x0?Math[_0x5f345e(0x16e)](_0x3c3be4/_0x31b405*0x64):0x0,_0x54df30=document[_0x5f345e(0xe9)]('doLoadPercent');_0x54df30['textContent']=_0x41385b+'%';const _0x5f4f69=document[_0x5f345e(0xe9)]('statLoadCard');if(_0x41385b>0x64)_0x54df30[_0x5f345e(0xee)][_0x5f345e(0x1ab)]='var(--acc-red)',_0x5f4f69[_0x5f345e(0xee)][_0x5f345e(0x192)]=_0x5f345e(0x13e);else _0x41385b>0x50?(_0x54df30[_0x5f345e(0xee)][_0x5f345e(0x1ab)]='var(--acc-orange)',_0x5f4f69[_0x5f345e(0xee)][_0x5f345e(0x192)]=_0x5f345e(0xb1)):(_0x54df30[_0x5f345e(0xee)]['color']='var(--acc-green)',_0x5f4f69['style']['borderColor']=_0x5f345e(0x17c));const _0x14e059=document[_0x5f345e(0xe9)](_0x5f345e(0xe7));_0x14e059[_0x5f345e(0x1ed)]='';_0x4f442f['length']===0x0?_0x14e059[_0x5f345e(0x1ed)]=_0x5f345e(0x20d):(_0x4f442f[_0x5f345e(0xde)]((_0x4ca29d,_0x2689c0)=>_0x4ca29d[_0x5f345e(0x1f9)]['localeCompare'](_0x2689c0[_0x5f345e(0x1f9)])),_0x4f442f[_0x5f345e(0x109)](_0x39766e=>{const _0xfb6673=_0x5f345e,_0x1d8891=clients['find'](_0x467b3c=>_0x467b3c[_0xfb6673(0x137)]===_0x39766e[_0xfb6673(0x156)]),_0x30c2d0=_0x1d8891?_0x1d8891[_0xfb6673(0x1ab)]:'#fff',_0x529f7c=_0x39766e[_0xfb6673(0x1f1)]===_0xfb6673(0xb9),_0x12178a=_0x529f7c?_0xfb6673(0xda):'',_0x22b62f=document['createElement'](_0xfb6673(0x1db));_0x22b62f[_0xfb6673(0x111)]=_0xfb6673(0x123),_0x22b62f[_0xfb6673(0xee)][_0xfb6673(0x1f4)]=_0x30c2d0,_0x22b62f[_0xfb6673(0x1ed)]=_0xfb6673(0x1b1)+_0x39766e['start']+_0xfb6673(0xa7)+_0x39766e[_0xfb6673(0xf9)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x39766e[_0xfb6673(0x156)]+_0xfb6673(0xf4)+_0x12178a+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x14e059['appendChild'](_0x22b62f);}));const _0x40e0e1=document[_0x5f345e(0xe9)]('btnDayToggle'),_0x141986=dateExceptions[_0x4f9dda]===_0x5f345e(0x1e2);_0x141986?(_0x40e0e1[_0x5f345e(0x1e9)]=_0x5f345e(0x13c),_0x40e0e1[_0x5f345e(0x111)]=_0x5f345e(0xab),_0x40e0e1['style'][_0x5f345e(0x1ab)]='var(--acc-green)',_0x40e0e1[_0x5f345e(0xee)][_0x5f345e(0x18a)]=_0x5f345e(0x1d1)):(_0x40e0e1[_0x5f345e(0x1e9)]='–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º',_0x40e0e1[_0x5f345e(0x111)]=_0x5f345e(0x1bd),_0x40e0e1[_0x5f345e(0xee)][_0x5f345e(0x1ab)]='var(--acc-red)',_0x40e0e1['style']['background']=_0x5f345e(0x15f)),openSheet('dayOptionsSheet');}let currentAnPeriod=a2_0x5ee2d3(0x212);function openAnalytics(){const _0xd4076f=a2_0x5ee2d3,_0x56975e=document[_0xd4076f(0xd5)](_0xd4076f(0x18f));setAnalyticsPeriod('week',_0x56975e),closeAllSheets(),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x2ad7fc,_0x117703){const _0x265495=a2_0x5ee2d3;currentAnPeriod=_0x2ad7fc,document[_0x265495(0x19e)](_0x265495(0x18f))[_0x265495(0x109)](_0x3346b7=>_0x3346b7[_0x265495(0x195)][_0x265495(0x12d)](_0x265495(0xbd)));if(_0x117703)_0x117703[_0x265495(0x195)]['add']('active');const _0x1e5a3d=document[_0x265495(0xe9)](_0x265495(0x203));_0x1e5a3d[_0x265495(0xee)][_0x265495(0xbf)]=_0x2ad7fc===_0x265495(0x220)?'flex':_0x265495(0xec);const _0x259c4b=new Date();let _0x4c7aa1=new Date(),_0xfb8207=new Date();if(_0x2ad7fc===_0x265495(0x212))_0x4c7aa1=getStartOfWeek(_0x259c4b),_0xfb8207=new Date(_0x4c7aa1),_0xfb8207[_0x265495(0x178)](_0xfb8207[_0x265495(0x21b)]()+0x6);else{if(_0x2ad7fc==='month')_0x4c7aa1=new Date(_0x259c4b['getFullYear'](),_0x259c4b[_0x265495(0xf6)](),0x1),_0xfb8207=new Date(_0x259c4b[_0x265495(0xc3)](),_0x259c4b[_0x265495(0xf6)]()+0x1,0x0);else{!document[_0x265495(0xe9)](_0x265495(0x1a0))[_0x265495(0x15b)]&&(document[_0x265495(0xe9)](_0x265495(0x1a0))['value']=getLocalDateStr(_0x259c4b),document[_0x265495(0xe9)]('anEnd')[_0x265495(0x15b)]=getLocalDateStr(_0x259c4b));refreshAnalytics();return;}}document[_0x265495(0xe9)]('anStart')[_0x265495(0x15b)]=getLocalDateStr(_0x4c7aa1),document[_0x265495(0xe9)]('anEnd')[_0x265495(0x15b)]=getLocalDateStr(_0xfb8207),refreshAnalytics();}function refreshAnalytics(){const _0x3b7b32=a2_0x5ee2d3,_0xf8c05e=document[_0x3b7b32(0xe9)](_0x3b7b32(0x1a0))[_0x3b7b32(0x15b)],_0x1d68b7=document[_0x3b7b32(0xe9)](_0x3b7b32(0x1a4))[_0x3b7b32(0x15b)];if(!_0xf8c05e||!_0x1d68b7)return;const _0x525f39=sessions[_0x3b7b32(0x1b4)](_0xd157ae=>_0xd157ae[_0x3b7b32(0xd8)]>=_0xf8c05e&&_0xd157ae[_0x3b7b32(0xd8)]<=_0x1d68b7&&_0xd157ae[_0x3b7b32(0x1f1)]!==_0x3b7b32(0x1c2)),_0x2033d1=_0x525f39['length'],_0x52dae8=_0x525f39['filter'](_0x4fcd82=>_0x4fcd82[_0x3b7b32(0x1f1)]===_0x3b7b32(0xb9))[_0x3b7b32(0x17a)],_0x1225ae=_0x2033d1>0x0?Math[_0x3b7b32(0x16e)](_0x52dae8/_0x2033d1*0x64):0x0;document['getElementById'](_0x3b7b32(0x169))['textContent']=_0x1225ae+'%',document[_0x3b7b32(0xe9)](_0x3b7b32(0xb5))[_0x3b7b32(0x1e9)]=_0x52dae8+_0x3b7b32(0x1bc)+_0x2033d1+_0x3b7b32(0x115);const _0x4860f3=document[_0x3b7b32(0xe9)](_0x3b7b32(0xe3)),_0x2958c7=0x2*Math['PI']*0x23,_0x12df02=_0x2958c7-_0x1225ae/0x64*_0x2958c7;_0x4860f3['style'][_0x3b7b32(0x132)]=_0x12df02;const _0x3a4ac4={};_0x525f39[_0x3b7b32(0x109)](_0x4427e3=>{const _0x115e1b=_0x3b7b32;if(!_0x3a4ac4[_0x4427e3[_0x115e1b(0x156)]]){const _0x5049ef=clients[_0x115e1b(0x191)](_0x1ab19b=>_0x1ab19b[_0x115e1b(0x137)]===_0x4427e3['client']);_0x3a4ac4[_0x4427e3[_0x115e1b(0x156)]]={'total':0x0,'done':0x0,'color':_0x5049ef?_0x5049ef[_0x115e1b(0x1ab)]:'#fff'};}_0x3a4ac4[_0x4427e3[_0x115e1b(0x156)]][_0x115e1b(0x1a8)]++;if(_0x4427e3[_0x115e1b(0x1f1)]===_0x115e1b(0xb9))_0x3a4ac4[_0x4427e3[_0x115e1b(0x156)]][_0x115e1b(0x19b)]++;});const _0x45fbbc=document[_0x3b7b32(0xe9)]('analyticsList');_0x45fbbc[_0x3b7b32(0x1ed)]='';const _0x2590dc=Object[_0x3b7b32(0x19d)](_0x3a4ac4)[_0x3b7b32(0xde)]((_0x49df09,_0x438f3c)=>_0x438f3c[0x1][_0x3b7b32(0x1a8)]-_0x49df09[0x1][_0x3b7b32(0x1a8)]);if(_0x2590dc[_0x3b7b32(0x17a)]===0x0){_0x45fbbc[_0x3b7b32(0x1ed)]=_0x3b7b32(0xfb);return;}_0x2590dc[_0x3b7b32(0x109)](([_0x2964b7,_0x1f1ec2])=>{const _0x3bc70b=_0x3b7b32,_0x1032aa=Math[_0x3bc70b(0x16e)](_0x1f1ec2[_0x3bc70b(0x19b)]/_0x1f1ec2[_0x3bc70b(0x1a8)]*0x64),_0x34f990=document[_0x3bc70b(0x1ae)]('div');_0x34f990['className']=_0x3bc70b(0x17b),_0x34f990[_0x3bc70b(0xee)][_0x3bc70b(0x1f4)]=_0x1f1ec2[_0x3bc70b(0x1ab)],_0x34f990[_0x3bc70b(0x1ed)]=_0x3bc70b(0x1cf)+_0x2964b7+_0x3bc70b(0x1aa)+_0x1f1ec2[_0x3bc70b(0x19b)]+_0x3bc70b(0x126)+_0x1f1ec2[_0x3bc70b(0x1a8)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x1032aa+_0x3bc70b(0xcf),_0x45fbbc['appendChild'](_0x34f990);});}function formatMinsToHrs(_0x3e2fa9){const _0x1ce75f=a2_0x5ee2d3;if(_0x3e2fa9===0x0)return'0';const _0x12996f=Math[_0x1ce75f(0x1d3)](_0x3e2fa9/0x3c),_0x44d874=_0x3e2fa9%0x3c;if(_0x44d874===0x0)return _0x12996f+'—á';return _0x12996f+'—á\x20'+_0x44d874+'–º';}