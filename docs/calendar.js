const a2_0x4e05c4=a2_0x4881;(function(_0x153169,_0x49c2f8){const _0x119262=a2_0x4881,_0x24758a=_0x153169();while(!![]){try{const _0x150261=-parseInt(_0x119262(0x1a5))/0x1+parseInt(_0x119262(0x244))/0x2+parseInt(_0x119262(0x15a))/0x3*(parseInt(_0x119262(0x14b))/0x4)+-parseInt(_0x119262(0x22c))/0x5+parseInt(_0x119262(0x270))/0x6+parseInt(_0x119262(0x1cd))/0x7*(parseInt(_0x119262(0x1c4))/0x8)+-parseInt(_0x119262(0x1c2))/0x9;if(_0x150261===_0x49c2f8)break;else _0x24758a['push'](_0x24758a['shift']());}catch(_0x40c36f){_0x24758a['push'](_0x24758a['shift']());}}}(a2_0x3b61,0xb8bbc),function initTMA(){const _0x5829ad=a2_0x4881;try{const _0x40c1b1=window['Telegram']?.['WebApp'];if(!_0x40c1b1)return;_0x40c1b1[_0x5829ad(0x1c1)](),_0x40c1b1[_0x5829ad(0x1de)]();try{_0x40c1b1['setHeaderColor'](_0x5829ad(0x1cb)),_0x40c1b1[_0x5829ad(0x1e9)]&&_0x40c1b1[_0x5829ad(0x1e9)](_0x5829ad(0x1cb));}catch(_0x39b828){console[_0x5829ad(0x152)](_0x5829ad(0x159),_0x39b828);}try{_0x40c1b1['BackButton']&&(_0x40c1b1[_0x5829ad(0x185)][_0x5829ad(0x1e8)](),_0x40c1b1[_0x5829ad(0x185)][_0x5829ad(0x135)](),_0x40c1b1[_0x5829ad(0x185)][_0x5829ad(0x17e)](function(){const _0x39d06b=_0x5829ad;window[_0x39d06b(0x219)][_0x39d06b(0x281)]=_0x39d06b(0x1ca);}));}catch(_0x5da607){console['log'](_0x5829ad(0x21e),_0x5da607);}try{if(_0x40c1b1[_0x5829ad(0x266)])_0x40c1b1[_0x5829ad(0x266)]();}catch(_0x1aca3a){}}catch(_0x784d4a){console[_0x5829ad(0x102)](_0x5829ad(0x26a),_0x784d4a);}}());function a2_0x4881(_0x51b10d,_0x2defac){_0x51b10d=_0x51b10d-0xfe;const _0x4ff507=a2_0x3b61();let _0xef3c2b=_0x4ff507[_0x51b10d];return _0xef3c2b;}function isAdmin(){const _0x1c4454=a2_0x4881;try{const _0x2a75eb=Number(window[_0x1c4454(0x214)]?.[_0x1c4454(0x205)]?.[_0x1c4454(0x271)]?.['user']?.['id']);return _0x2a75eb===0xbaf7174;}catch(_0x55cab4){return![];}}const APP_VERSION=a2_0x4e05c4(0x165),API_URL=a2_0x4e05c4(0x248),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS='uc_clients_v9',KEY_SESSIONS=a2_0x4e05c4(0x124),KEY_SETTINGS=a2_0x4e05c4(0x12d);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x136eb4=a2_0x4e05c4;return window[_0x136eb4(0x214)]?.[_0x136eb4(0x205)]?.['initDataUnsafe']?.[_0x136eb4(0x204)]?.['id']||'guest';},'saveLocally'(){const _0x52c0c1=a2_0x4e05c4;try{localStorage['setItem'](KEY_CLIENTS,JSON[_0x52c0c1(0x1c7)](clients)),localStorage['setItem'](KEY_SESSIONS,JSON['stringify'](sessions)),localStorage[_0x52c0c1(0x267)](KEY_SETTINGS,JSON[_0x52c0c1(0x1c7)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x59bc6c){console['error'](_0x52c0c1(0x127),_0x59bc6c);}},'loadLocal'(){const _0x4d7f90=a2_0x4e05c4;try{const _0x4b0eef=localStorage[_0x4d7f90(0x1d8)](KEY_CLIENTS);if(_0x4b0eef)clients=JSON[_0x4d7f90(0x253)](_0x4b0eef);const _0x1b35b7=localStorage[_0x4d7f90(0x1d8)](KEY_SESSIONS);if(_0x1b35b7)sessions=JSON[_0x4d7f90(0x253)](_0x1b35b7);const _0x5d32c8=localStorage[_0x4d7f90(0x1d8)](KEY_SETTINGS);if(_0x5d32c8){const _0x7387f4=JSON[_0x4d7f90(0x253)](_0x5d32c8);if(_0x7387f4[_0x4d7f90(0x1f6)])availabilityPattern=_0x7387f4[_0x4d7f90(0x1f6)];if(_0x7387f4[_0x4d7f90(0x27a)])dateExceptions=_0x7387f4[_0x4d7f90(0x27a)];if(_0x7387f4[_0x4d7f90(0x173)])specialRanges=_0x7387f4['ranges'];}else{for(let _0x3dd5fb=0x0;_0x3dd5fb<0x7;_0x3dd5fb++)availabilityPattern[_0x3dd5fb]=Array[_0x4d7f90(0x1f0)]({'length':0xc},(_0x18fc76,_0x504eb6)=>_0x504eb6+0x9);}}catch(_0x540f06){console[_0x4d7f90(0x102)]('Local\x20Load\x20Error',_0x540f06);}},async 'fetchFromServer'(_0x3ce228,_0x4ed03e={}){const _0x17ed61=a2_0x4e05c4,_0x1063cd=window[_0x17ed61(0x214)]?.[_0x17ed61(0x205)],_0x10b84b={'action':_0x3ce228,'init_data':_0x1063cd?.[_0x17ed61(0x109)]||'',..._0x4ed03e};try{const _0x4ee502=await fetch(API_URL,{'method':_0x17ed61(0x130),'headers':{'Content-Type':_0x17ed61(0x18a)},'body':JSON[_0x17ed61(0x1c7)](_0x10b84b)}),_0x277380=await _0x4ee502[_0x17ed61(0x1ce)]();if(!_0x277380['ok'])throw new Error(_0x277380[_0x17ed61(0x102)]||_0x17ed61(0x1b7));return _0x277380[_0x17ed61(0x15c)];}catch(_0xdb240f){console[_0x17ed61(0x102)](_0x17ed61(0x107)+_0x3ce228+_0x17ed61(0x10c),_0xdb240f);throw _0xdb240f;}},async 'syncLoad'(){const _0x4fab43=a2_0x4e05c4,_0x47f333=new Date(),_0x558ef3=_0x47f333['getFullYear']()+'-'+String(_0x47f333[_0x4fab43(0x206)]()+0x1)['padStart'](0x2,'0'),_0x492ec9=new Date(_0x47f333);_0x492ec9['setMonth'](_0x47f333[_0x4fab43(0x206)]()+0x1);const _0x5da1ce=_0x492ec9[_0x4fab43(0x14f)]()+'-'+String(_0x492ec9[_0x4fab43(0x206)]()+0x1)[_0x4fab43(0x122)](0x2,'0'),_0x382334=Date[_0x4fab43(0x1a9)]();console['log'](_0x4fab43(0x209)+_0x558ef3+',\x20'+_0x5da1ce+_0x4fab43(0x163));try{const [_0x3fe7f3,_0x5640a4]=await Promise[_0x4fab43(0x117)]([this[_0x4fab43(0x134)](_0x4fab43(0x255),{'month_str':_0x558ef3}),this['fetchFromServer'](_0x4fab43(0x255),{'month_str':_0x5da1ce})]);if(lastUserActionTime>_0x382334)return console[_0x4fab43(0x258)](_0x4fab43(0x1d9)),![];return this[_0x4fab43(0x1fc)](_0x3fe7f3,_0x558ef3),this[_0x4fab43(0x1fc)](_0x5640a4,_0x5da1ce),this[_0x4fab43(0x262)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x5412e8){console[_0x4fab43(0x102)](_0x5412e8);throw _0x5412e8;}},'mergeServerData'(_0x44952d,_0x5e0077){const _0x2c9202=a2_0x4e05c4;if(!_0x44952d)return;_0x44952d[_0x2c9202(0x1e7)]&&Array[_0x2c9202(0x19e)](_0x44952d['clients'])&&(clients=_0x44952d[_0x2c9202(0x1e7)]);if(_0x44952d['settings']){if(_0x44952d[_0x2c9202(0x1d7)]['pattern'])availabilityPattern=_0x44952d[_0x2c9202(0x1d7)][_0x2c9202(0x1f6)];if(_0x44952d['settings']['exceptions'])dateExceptions=_0x44952d['settings'][_0x2c9202(0x27a)];if(_0x44952d['settings'][_0x2c9202(0x173)])specialRanges=_0x44952d[_0x2c9202(0x1d7)][_0x2c9202(0x173)];if(_0x44952d[_0x2c9202(0x1d7)]['cancel_window']){localStorage['setItem'](_0x2c9202(0x15b),_0x44952d[_0x2c9202(0x1d7)][_0x2c9202(0x177)]);const _0x1a3a2a=document[_0x2c9202(0x154)](_0x2c9202(0x23b));if(_0x1a3a2a)_0x1a3a2a[_0x2c9202(0x1a2)]=_0x44952d[_0x2c9202(0x1d7)][_0x2c9202(0x177)];}}_0x44952d[_0x2c9202(0x238)]&&(sessions=sessions[_0x2c9202(0x148)](_0x5ba16a=>!_0x5ba16a[_0x2c9202(0x17a)][_0x2c9202(0x191)](_0x5e0077)),Object['keys'](_0x44952d[_0x2c9202(0x238)])[_0x2c9202(0x1da)](_0x414c0d=>{const _0x20b528=_0x2c9202,_0xd11faf=_0x44952d[_0x20b528(0x238)][_0x414c0d];_0xd11faf[_0x20b528(0x1da)](_0x2c40f0=>{const _0x3e2331=_0x20b528,_0x4cf8a4=clients['find'](_0x539e7c=>String(_0x539e7c['id'])===String(_0x2c40f0['c']));sessions[_0x3e2331(0x129)]({'id':_0x2c40f0['i'],'clientId':_0x2c40f0['c'],'client':_0x4cf8a4?_0x4cf8a4['name']:'Unknown','dateStr':_0x5e0077+'-'+_0x414c0d[_0x3e2331(0x122)](0x2,'0'),'start':_0x2c40f0['s'],'end':_0x2c40f0['e'],'status':_0x2c40f0['st']||'planned','note':_0x2c40f0['n']||'','seriesId':_0x2c40f0[_0x3e2331(0x1a6)]||null});});}));},async 'syncBatch'(_0x528808){const _0x5a20b0=a2_0x4e05c4,_0x40c438=[...new Set(_0x528808)],_0x27e384=_0x40c438['map'](_0x113d82=>{const _0x4fe90f=a2_0x4881,_0x4b9ae2=sessions['filter'](_0x5e2040=>_0x5e2040[_0x4fe90f(0x17a)]===_0x113d82&&_0x5e2040[_0x4fe90f(0x21a)]!=='deleted'),_0x391f48=_0x4b9ae2['map'](_0x61e4cb=>({'i':_0x61e4cb['id'],'c':_0x61e4cb['clientId'],'s':_0x61e4cb[_0x4fe90f(0x20a)],'e':_0x61e4cb[_0x4fe90f(0x26e)],'st':_0x61e4cb[_0x4fe90f(0x21a)],'n':_0x61e4cb[_0x4fe90f(0x178)],'sid':_0x61e4cb[_0x4fe90f(0x14e)]}));return{'date':_0x113d82,'day_data':_0x391f48};});if(_0x27e384[_0x5a20b0(0x26b)]===0x0)return;console[_0x5a20b0(0x152)](_0x5a20b0(0x22e)+_0x27e384[_0x5a20b0(0x26b)]+_0x5a20b0(0x239)),await this[_0x5a20b0(0x134)](_0x5a20b0(0x229),{'changes':_0x27e384});}};async function init(){const _0x203bc3=a2_0x4e05c4;DataManager['loadLocal'](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x203bc3(0x154)](_0x203bc3(0x215))[_0x203bc3(0x230)](_0x203bc3(0x220),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x203bc3(0x155)]()['then'](()=>{const _0x27e155=_0x203bc3;showToast(_0x27e155(0x1a1),!![]);})[_0x203bc3(0x118)](_0x176e8b=>{const _0x4eb12a=_0x203bc3;showToast(_0x4eb12a(0x176),![]);});}function generateId(){const _0x23d0a7=a2_0x4e05c4;return Date['now']()[_0x23d0a7(0x1b2)](0x24)+Math['random']()[_0x23d0a7(0x1b2)](0x24)[_0x23d0a7(0x174)](0x2,0x5);}function toggleSeriesInput(){const _0x2076e8=a2_0x4e05c4,_0x51110b=document[_0x2076e8(0x154)]('inpRecurring')[_0x2076e8(0x141)],_0x409137=document['getElementById']('seriesCountContainer');_0x409137[_0x2076e8(0x16e)][_0x2076e8(0x120)]=_0x51110b?_0x2076e8(0x1f4):'none';const _0x399edd=document[_0x2076e8(0x154)](_0x2076e8(0x275));_0x399edd['style'][_0x2076e8(0x11d)]=_0x51110b?'10px\x2010px\x200\x200':_0x2076e8(0x24a);}function openAddSession(_0x304772){const _0x529cde=a2_0x4e05c4;editingId=null,populateClientSelect(),document['getElementById'](_0x529cde(0x212))[_0x529cde(0x216)]=_0x529cde(0x1c9),document[_0x529cde(0x154)]('btnDelete')[_0x529cde(0x16e)][_0x529cde(0x120)]=_0x529cde(0x15e),document[_0x529cde(0x154)](_0x529cde(0x18d))[_0x529cde(0x16e)]['display']='none';const _0x2257ce=document[_0x529cde(0x154)]('recurringOptionContainer'),_0x17a7b7=document['getElementById'](_0x529cde(0x19d));_0x2257ce[_0x529cde(0x16e)][_0x529cde(0x120)]=_0x529cde(0x150),_0x2257ce[_0x529cde(0x16e)][_0x529cde(0x11d)]=_0x529cde(0x24a),document[_0x529cde(0x154)](_0x529cde(0x221))[_0x529cde(0x141)]=![],document[_0x529cde(0x154)]('inpSeriesCount')[_0x529cde(0x1a2)]=0x4,_0x17a7b7['style'][_0x529cde(0x120)]=_0x529cde(0x15e),document[_0x529cde(0x154)](_0x529cde(0x18b))[_0x529cde(0x1a2)]=getLocalDateStr(_0x304772),updateDateDisplay();const _0x8c8eb0=_0x304772['getHours']();document[_0x529cde(0x154)](_0x529cde(0x1a0))[_0x529cde(0x1a2)]=String(_0x8c8eb0)[_0x529cde(0x122)](0x2,'0')+':00',document['getElementById'](_0x529cde(0x11c))['value']=String(_0x8c8eb0+0x1)[_0x529cde(0x122)](0x2,'0')+_0x529cde(0x268),openSheet(_0x529cde(0x12c));}function openEdit(_0x5675a0){const _0x42ec19=a2_0x4e05c4;editingId=_0x5675a0['id'],populateClientSelect(),document[_0x42ec19(0x154)](_0x42ec19(0x212))['textContent']=_0x42ec19(0x26d),document[_0x42ec19(0x154)](_0x42ec19(0x10d))[_0x42ec19(0x16e)][_0x42ec19(0x120)]=_0x42ec19(0x1f4);const _0x5f14dd=document[_0x42ec19(0x154)](_0x42ec19(0x18d));_0x5f14dd['style']['display']=_0x42ec19(0x150);_0x5675a0[_0x42ec19(0x21a)]===_0x42ec19(0x1aa)?(_0x5f14dd[_0x42ec19(0x1f9)]='btn-status-toggle\x20undo-mode',_0x5f14dd[_0x42ec19(0x1b0)]=_0x42ec19(0x1be)):(_0x5f14dd[_0x42ec19(0x1f9)]=_0x42ec19(0x123),_0x5f14dd['innerHTML']=_0x42ec19(0x25e));const _0x482c2a=!!_0x5675a0[_0x42ec19(0x14e)];document[_0x42ec19(0x154)](_0x42ec19(0x275))[_0x42ec19(0x16e)][_0x42ec19(0x120)]=_0x42ec19(0x15e),document[_0x42ec19(0x154)](_0x42ec19(0x19d))[_0x42ec19(0x16e)][_0x42ec19(0x120)]=_0x42ec19(0x15e),_0x482c2a?(document[_0x42ec19(0x154)](_0x42ec19(0x260))['style']['display']=_0x42ec19(0x150),document[_0x42ec19(0x154)]('patternInfoBox')[_0x42ec19(0x1bd)](_0x42ec19(0x25c))[_0x42ec19(0x216)]=_0x42ec19(0x1f3)):document[_0x42ec19(0x154)]('patternInfoBox')['style'][_0x42ec19(0x120)]=_0x42ec19(0x15e),document[_0x42ec19(0x154)](_0x42ec19(0x21f))[_0x42ec19(0x1a2)]=_0x5675a0[_0x42ec19(0x15f)],document[_0x42ec19(0x154)]('inpDate')[_0x42ec19(0x1a2)]=_0x5675a0[_0x42ec19(0x17a)],document['getElementById'](_0x42ec19(0x1a0))[_0x42ec19(0x1a2)]=_0x5675a0[_0x42ec19(0x20a)],document['getElementById'](_0x42ec19(0x11c))[_0x42ec19(0x1a2)]=_0x5675a0[_0x42ec19(0x26e)],document[_0x42ec19(0x154)](_0x42ec19(0x1f1))['value']=_0x5675a0[_0x42ec19(0x178)]||'',updateDateDisplay(),openSheet(_0x42ec19(0x12c));}function a2_0x3b61(){const _0x3f2523=['max','querySelector','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','headerMonth','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','ready','5302377xZVlPH','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','750136EKyiAO','today','option','stringify','#fff','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','router.html','#050505','[Notify]\x20Detected\x20Client\x20ID:','7ySkHFy','json','scrollWidth','toast-notification\x20','rgba(100,100,100,0.5)','blocked-range-part\x20stripe-bg','anStart','Batch\x20Sync\x20OK','</div>','month','settings','getItem','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','forEach','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','remove','[Notify]\x20Error:\x20Text\x20generation\x20failed','expand','px\x200px','colIndex','scrollTop','createDocumentFragment','</div><div\x20class=\x22ev-time\x22>','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','btn-primary\x20btn-danger','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','clients','show','setBackgroundColor','floor','getAttribute','map','syncBatch','delete','round','from','inpNote','apply','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','block','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','pattern','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','className','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scrollLeft','mergeServerData','backgroundPosition','var(--acc-orange)','[Notify]\x20Client\x20SWAP\x20detected','rgba(255,255,255,0.05)','gridColumns',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','user','WebApp','getMonth','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','min','[Sync]\x20Loading\x20','start','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','\x20‚Äî\x20','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','getDate','rgba(48,\x20209,\x2088,\x200.15)','offsetWidth','sheetTitle','height','Telegram','matrixViewport','textContent','[Settings]\x20Cancel\x20window\x20set\x20to:','doLoadPercent','location','status','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','Error\x20setting\x20back\x20button:','inpClient','scroll','inpRecurring','.sheet','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','<div\x20class=\x22dch-day\x22>','entries','success','setAttribute','overlay','batch_sync','div','setHours','5908310DagnvR','complete','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','(((.+)+)+)+$','addEventListener','event-card','single','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','settingsSheet','[Notify]\x20Error:\x20sessionData\x20is\x20null','var(--acc-current)','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','calendar','\x20days','\x20-\x20','settingCancelWindow','anEnd','stat-','findIndex','background','dayOptionsSheet','slice','timeLineBadge','var(--acc-red)','1147326MKEhqC','\x20status-completed','[Series]\x20Skipped\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','cancel','10px','[Notify]\x20Server\x20Response:','planned','day-off-overlay\x20stripe-bg','series','mini','doEventsList','.day-column','getText','parse','includes','init_load','</div><div\x20class=\x22dch-num\x22>','active','warn','toUpperCase','left','<span>','.pib-text','clientWidth','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','</b>\x0a\x0a','patternInfoBox','range-item','saveLocally','cancelled','then','rgba(','disableVerticalSwipes','setItem',':00','statLoadCard','Critical\x20TMA\x20Error:','length','getMinutes','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','end','anPercent','7697022XCAeLs','initDataUnsafe','getDay','constructor','touchstart','recurringOptionContainer','anTotalStats','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','patternEditor','analyticsList','exceptions','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','stopPropagation','insertBefore',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','add','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','href','done','daysHeaderTrack','send','color','toLocaleDateString','error','btnDayToggle','strokeDashoffset','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','.dch-stats-fill','[API\x20','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','initData','calc(','clientId',']\x20Failed:','btnDelete','save_settings','#0a84ff','split','setDate','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','var(--acc-green)',':00</span>','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','day-col-header\x20','all','catch','vibrate','long','update','inpEnd','borderRadius','rangeEndTime','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','display','localeCompare','padStart','btn-status-toggle','uc_sessions_v9','find','search','Local\x20Save\x20Error','blocked-slot\x20stripe-bg','push','pe-col-header','data-day-idx','sessionSheet','uc_settings_v9','total','pe-corner','POST','toLocaleString','charAt','rgba(255,\x2069,\x2058,\x200.15)','fetchFromServer','offClick','warning','getHours','mousedown','onclick','.period-switch\x20.p-btn','asTitle','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','width','mouseup','indexOf','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','checked','querySelectorAll','actionSheet','off','</span>\x20/\x20','client-stat-card','touches','filter','toFixed','100%','499544aHmoxa','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','seriesId','getFullYear','flex','–£—Å–ø–µ—à–Ω–æ','log','.day-off-overlay','getElementById','syncLoad','as-button\x20danger','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','borderLeftColor','Error\x20setting\x20color:','15DnNiDn','uc_settings_cancel_window','data','00:00','none','client','–£–¥–∞–ª–µ–Ω–∏–µ','anCustomDates','rangeEndDate','...','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','v9.0-BATCH-CALENDAR',':\x20Client\x20already\x20booked','valid','mousemove','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','save','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','style','[Notify]\x20Attempting\x20to\x20send:','name','.day-col-header','sort','ranges','substr','null','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','cancel_window','note','closest','dateStr','btn-primary\x20btn-secondary','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','appendChild','onClick','numeric','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','doDateHeader','ru-RU','time-label','23:59','BackButton','data-date','splice','asBtnSeries','[Notify]\x20Network\x20Failed','text/plain;charset=UTF-8','inpDate','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','btnStatusToggle','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','open','DOMContentLoaded','startsWith','day-column\x20','createElement','<div\x20class=\x22ev-title\x22>','px\x20-','week','classList','borderColor','zIndex','offsetLeft','send_notification','.event-card','seriesCountContainer','isArray','header-','inpStart','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','value','rangesSheet','%\x20-\x204px)','47214oDerQK','sid','formatDate','anDonutCircle','now','completed','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','toast','top','innerHTML','msg','toString','getTime','as-button\x20danger\x20bold','rangeStartDate','backgroundColor','Server\x20Error',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','create','undefined'];a2_0x3b61=function(){return _0x3f2523;};return a2_0x3b61();}async function trySaveSession(){const _0x42809d=a2_0x4e05c4,_0x19943a=document['getElementById']('inpClient')[_0x42809d(0x1a2)],_0xfd5322=document[_0x42809d(0x154)]('inpDate')[_0x42809d(0x1a2)],_0x2225c4=document[_0x42809d(0x154)](_0x42809d(0x1a0))[_0x42809d(0x1a2)],_0x93f983=document['getElementById'](_0x42809d(0x11c))[_0x42809d(0x1a2)],_0x1ee546=document['getElementById'](_0x42809d(0x1f1))[_0x42809d(0x1a2)],_0x1d9221=document[_0x42809d(0x154)]('inpRecurring')['checked'];let _0x2e1ca2=0x4;if(_0x1d9221){const _0x229311=parseInt(document[_0x42809d(0x154)]('inpSeriesCount')['value']);if(!_0x229311||_0x229311<0x2){showToast(_0x42809d(0x21b),![]);return;}if(_0x229311>0x64){showToast('–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑',![]);return;}_0x2e1ca2=_0x229311;}const _0x593cc5=clients[_0x42809d(0x125)](_0x4c90f5=>_0x4c90f5[_0x42809d(0x170)]===_0x19943a);if(!_0x593cc5){showToast(_0x42809d(0x16d),![]);return;}const _0x23ebd6=validateAppointment(_0xfd5322,_0x2225c4,_0x93f983,editingId,_0x593cc5['id']);if(!_0x23ebd6['valid']){showToast(_0x23ebd6[_0x42809d(0x1b1)],![]);return;}_0x23ebd6['warning']&&showToast(_0x23ebd6[_0x42809d(0x136)],![]);const _0x2a981c={'client':_0x19943a,'clientId':_0x593cc5['id'],'start':_0x2225c4,'end':_0x93f983,'note':_0x1ee546,'status':'planned'},_0x119425=editingId?sessions[_0x42809d(0x125)](_0x262ba7=>_0x262ba7['id']===editingId):null;if(_0x119425&&_0x119425[_0x42809d(0x14e)]){tempSessionData={..._0x2a981c,'dateStr':_0xfd5322,'id':editingId,'seriesId':_0x119425[_0x42809d(0x14e)]},openActionSheet('save');return;}let _0x5979ce=null;if(!editingId)_0x5979ce='create';else{if(_0x119425){if(String(_0x119425[_0x42809d(0x10b)])!==String(_0x593cc5['id']))console[_0x42809d(0x152)](_0x42809d(0x1ff)),NotificationManager['send']('cancel',_0x119425),_0x5979ce='create';else(_0x119425[_0x42809d(0x20a)]!==_0x2225c4||_0x119425[_0x42809d(0x26e)]!==_0x93f983||_0x119425[_0x42809d(0x17a)]!==_0xfd5322)&&(_0x5979ce=_0x42809d(0x11b));}}if(!editingId&&_0x1d9221){createBatchSeries(_0x2a981c,_0xfd5322,_0x2e1ca2),NotificationManager[_0x42809d(0xff)](_0x42809d(0x1ba),{..._0x2a981c,'dateStr':_0xfd5322});return;}lastUserActionTime=Date[_0x42809d(0x1a9)]();const _0x3893ae={..._0x2a981c,'dateStr':_0xfd5322,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x3893ae),_0x5979ce&&NotificationManager[_0x42809d(0xff)](_0x5979ce,_0x3893ae);}function toggleSessionStatus(){const _0x21b11d=a2_0x4e05c4;lastUserActionTime=Date[_0x21b11d(0x1a9)]();const _0x359724=sessions[_0x21b11d(0x125)](_0x223d2b=>_0x223d2b['id']===editingId);if(!_0x359724)return;const _0x2e81cb=_0x359724[_0x21b11d(0x21a)]===_0x21b11d(0x1aa)?_0x21b11d(0x24c):_0x21b11d(0x1aa);_0x359724[_0x21b11d(0x21a)]=_0x2e81cb,saveSingleSession(_0x359724),_0x2e81cb===_0x21b11d(0x1aa)&&NotificationManager[_0x21b11d(0xff)](_0x21b11d(0x22d),_0x359724),showToast(_0x2e81cb===_0x21b11d(0x1aa)?_0x21b11d(0x277):_0x21b11d(0x18e),!![]);}function validateAppointment(_0x5aa9af,_0x5434be,_0x331d51,_0x208a98,_0x2f4a43){const _0x34d2bd=a2_0x4e05c4,[_0x11d489,_0x23f5f8]=_0x5434be[_0x34d2bd(0x110)](':')['map'](Number),[_0x455e46,_0xd2e8a5]=_0x331d51[_0x34d2bd(0x110)](':')[_0x34d2bd(0x1ec)](Number),_0x160594=_0x11d489*0x3c+_0x23f5f8,_0xa4a5d8=_0x455e46*0x3c+_0xd2e8a5,_0xf55b84=String(_0x2f4a43);let _0x336e8b=![],_0x4d4292='';for(let _0x311f9d of sessions){if(_0x311f9d[_0x34d2bd(0x17a)]!==_0x5aa9af)continue;if(_0x311f9d[_0x34d2bd(0x21a)]===_0x34d2bd(0x263))continue;if(_0x208a98&&String(_0x311f9d['id'])===String(_0x208a98))continue;const [_0x7308a2,_0x566da0]=_0x311f9d['start'][_0x34d2bd(0x110)](':')['map'](Number),[_0x271223,_0x36ebc3]=_0x311f9d[_0x34d2bd(0x26e)][_0x34d2bd(0x110)](':')[_0x34d2bd(0x1ec)](Number),_0x24bce6=_0x7308a2*0x3c+_0x566da0,_0x4336a2=_0x271223*0x3c+_0x36ebc3;if(Math[_0x34d2bd(0x1bc)](_0x160594,_0x24bce6)<Math[_0x34d2bd(0x208)](_0xa4a5d8,_0x4336a2)){if(_0x311f9d[_0x34d2bd(0x10b)]&&String(_0x311f9d[_0x34d2bd(0x10b)])===_0xf55b84)return{'valid':![],'msg':_0x34d2bd(0x20e)+_0x311f9d['client']+_0x34d2bd(0x1ac)};_0x336e8b=!![],_0x4d4292=_0x311f9d[_0x34d2bd(0x15f)];}}if(_0x336e8b)return{'valid':!![],'warning':_0x34d2bd(0x20b)+_0x4d4292};return{'valid':!![]};}function saveSingleSession(_0x121840){const _0x2dbe87=a2_0x4e05c4;if(editingId){const _0x301d41=sessions[_0x2dbe87(0x23e)](_0x4bcbdc=>_0x4bcbdc['id']===editingId);if(_0x301d41!==-0x1)sessions[_0x301d41]=_0x121840;}else sessions[_0x2dbe87(0x129)](_0x121840);afterSaveAction([_0x121840[_0x2dbe87(0x17a)]]);}function createBatchSeries(_0x23df17,_0x9072d3,_0x22bcd8){const _0x25744f=a2_0x4e05c4,_0x3ac522=generateId(),_0x25bf73=[],_0x271325=[];let _0x48afdf=0x0,_0x2efcbd=new Date(_0x9072d3);for(let _0x5b4c83=0x0;_0x5b4c83<_0x22bcd8;_0x5b4c83++){const _0x11e37a=getLocalDateStr(_0x2efcbd),_0x42ab3a=validateAppointment(_0x11e37a,_0x23df17[_0x25744f(0x20a)],_0x23df17['end'],null,_0x23df17['clientId']);if(!_0x42ab3a[_0x25744f(0x167)])console['log'](_0x25744f(0x246)+_0x11e37a+_0x25744f(0x166)),_0x48afdf++;else{const _0xa07a2d={..._0x23df17,'id':generateId(),'dateStr':_0x11e37a,'seriesId':_0x3ac522};_0x271325[_0x25744f(0x129)](_0xa07a2d),_0x25bf73[_0x25744f(0x129)](_0x11e37a);}_0x2efcbd['setDate'](_0x2efcbd[_0x25744f(0x20f)]()+0x7);}if(_0x271325['length']===0x0){showToast(_0x25744f(0x21d),![]);return;}sessions[_0x25744f(0x129)](..._0x271325),lastUserActionTime=Date['now']();let _0x5b6d40=_0x25744f(0x17c)+_0x271325[_0x25744f(0x26b)];_0x48afdf>0x0&&(_0x5b6d40+=_0x25744f(0x105)+_0x48afdf+')'),showToast(_0x5b6d40,!![]),afterSaveAction(_0x25bf73);}function updateSeriesBatch(_0x21fc55,_0x5d5a2d){const _0x1983c8=a2_0x4e05c4,_0x215069=[],_0x5b8f54=_0x5d5a2d[_0x1983c8(0x14e)];if(_0x21fc55===_0x1983c8(0x232)){const _0x56e5ee={..._0x5d5a2d,'seriesId':null},_0x420e08=sessions[_0x1983c8(0x23e)](_0x1c3639=>_0x1c3639['id']===_0x5d5a2d['id']);if(_0x420e08!==-0x1)sessions[_0x420e08]=_0x56e5ee;_0x215069['push'](_0x56e5ee[_0x1983c8(0x17a)]);}else{if(_0x21fc55===_0x1983c8(0x24e)){const _0x58fe05=_0x5d5a2d[_0x1983c8(0x17a)];sessions[_0x1983c8(0x1da)]((_0x1c5306,_0x4c1a7f)=>{const _0x124a90=_0x1983c8;_0x1c5306[_0x124a90(0x14e)]===_0x5b8f54&&_0x1c5306[_0x124a90(0x17a)]>=_0x58fe05&&(sessions[_0x4c1a7f]={...sessions[_0x4c1a7f],'start':_0x5d5a2d[_0x124a90(0x20a)],'end':_0x5d5a2d['end'],'note':_0x5d5a2d[_0x124a90(0x178)],'client':_0x5d5a2d[_0x124a90(0x15f)],'clientId':_0x5d5a2d['clientId']},_0x215069['push'](_0x1c5306[_0x124a90(0x17a)]));});}}afterSaveAction(_0x215069);}function tryDeleteSession(){const _0x51a064=a2_0x4e05c4,_0x54c273=sessions[_0x51a064(0x125)](_0x345a0c=>_0x345a0c['id']===editingId);if(!_0x54c273)return;_0x54c273['seriesId']?openActionSheet('delete'):commitDelete('single',_0x54c273);}function commitDelete(_0x129ca4,_0x47b9f2){const _0x40ea49=a2_0x4e05c4;lastUserActionTime=Date[_0x40ea49(0x1a9)](),NotificationManager[_0x40ea49(0xff)](_0x40ea49(0x249),_0x47b9f2);const _0x10c67b=[];if(_0x129ca4===_0x40ea49(0x232))sessions=sessions['filter'](_0x438942=>_0x438942['id']!==_0x47b9f2['id']),_0x10c67b[_0x40ea49(0x129)](_0x47b9f2['dateStr']);else{if(_0x129ca4===_0x40ea49(0x24e)){const _0x52879e=_0x47b9f2[_0x40ea49(0x17a)],_0x479940=_0x47b9f2[_0x40ea49(0x14e)];sessions['forEach'](_0x5607da=>{const _0x1cdd76=_0x40ea49;_0x5607da[_0x1cdd76(0x14e)]===_0x479940&&_0x5607da[_0x1cdd76(0x17a)]>=_0x52879e&&_0x10c67b[_0x1cdd76(0x129)](_0x5607da[_0x1cdd76(0x17a)]);}),sessions=sessions[_0x40ea49(0x148)](_0x54ce5a=>!(_0x54ce5a['seriesId']===_0x479940&&_0x54ce5a[_0x40ea49(0x17a)]>=_0x52879e));}}afterSaveAction(_0x10c67b);}function afterSaveAction(_0x41df26){const _0x1636ad=a2_0x4e05c4;DataManager[_0x1636ad(0x262)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x1636ad(0x1ed)](_0x41df26)[_0x1636ad(0x264)](()=>console[_0x1636ad(0x152)](_0x1636ad(0x1d4)))[_0x1636ad(0x118)](_0x3a81f1=>showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ',![]));}const NotificationManager={'formatDate'(_0x4ea9bf){const _0x22461e=a2_0x4e05c4,_0x10dcbb=new Date(_0x4ea9bf),_0x5d8ee8={'weekday':_0x22461e(0x11a),'day':_0x22461e(0x17f),'month':_0x22461e(0x11a)};let _0x5d786a=_0x10dcbb['toLocaleDateString'](_0x22461e(0x182),_0x5d8ee8);return _0x5d786a[_0x22461e(0x132)](0x0)['toUpperCase']()+_0x5d786a[_0x22461e(0x241)](0x1);},'getText'(_0x4e2574,_0x213f40){const _0x22f5c6=a2_0x4e05c4,_0x309619=this[_0x22f5c6(0x1a7)](_0x213f40['dateStr']);switch(_0x4e2574){case _0x22f5c6(0x1ba):return _0x22f5c6(0x207)+(_0x22f5c6(0x18c)+_0x309619+'\x0a')+('<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20'+_0x213f40[_0x22f5c6(0x20a)]+_0x22f5c6(0x20d)+_0x213f40[_0x22f5c6(0x26e)]+'\x0a\x0a')+_0x22f5c6(0x13c);case _0x22f5c6(0x11b):return _0x22f5c6(0x27b)+_0x22f5c6(0x1c0)+('<b>‚úÖ\x20'+_0x213f40['start']+'\x20‚Äî\x20'+_0x213f40[_0x22f5c6(0x26e)]+_0x22f5c6(0x25f))+(_0x22f5c6(0x18c)+_0x309619);case _0x22f5c6(0x249):return _0x22f5c6(0x14d)+('–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>'+_0x309619+'\x20('+_0x213f40[_0x22f5c6(0x20a)]+_0x22f5c6(0x27e));case _0x22f5c6(0x22d):return'<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a'+_0x22f5c6(0x1f8)+_0x22f5c6(0x115);default:return'';}},async 'send'(_0x5e6f6b,_0x10b6b2){const _0x4b8b26=a2_0x4e05c4;console[_0x4b8b26(0x152)](_0x4b8b26(0x16f),_0x5e6f6b,_0x10b6b2);if(!_0x10b6b2){console[_0x4b8b26(0x102)](_0x4b8b26(0x235));return;}const _0x57e4d9=String(_0x10b6b2['clientId']);console[_0x4b8b26(0x152)](_0x4b8b26(0x1cc),_0x57e4d9);if(!_0x10b6b2['clientId']||_0x57e4d9===_0x4b8b26(0x1bb)||_0x57e4d9===_0x4b8b26(0x175)){console[_0x4b8b26(0x102)]('[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!');if(_0x10b6b2[_0x4b8b26(0x15f)]){const _0x11849e=clients[_0x4b8b26(0x125)](_0x345ec7=>_0x345ec7['name']===_0x10b6b2['client']);if(_0x11849e)return console[_0x4b8b26(0x152)](_0x4b8b26(0x233),_0x11849e['id']),this['send'](_0x5e6f6b,{..._0x10b6b2,'clientId':_0x11849e['id']});}return;}if(_0x57e4d9['length']<0x5){console['warn'](_0x4b8b26(0x1f5),_0x57e4d9);return;}const _0x18b3ea=this[_0x4b8b26(0x252)](_0x5e6f6b,_0x10b6b2);if(!_0x18b3ea){console['error'](_0x4b8b26(0x1dd));return;}console[_0x4b8b26(0x152)](_0x4b8b26(0x16a)+_0x57e4d9+_0x4b8b26(0x163)),DataManager[_0x4b8b26(0x134)](_0x4b8b26(0x19b),{'chatId':_0x57e4d9,'text':_0x18b3ea})[_0x4b8b26(0x264)](_0x558abe=>console[_0x4b8b26(0x152)](_0x4b8b26(0x24b),_0x558abe))[_0x4b8b26(0x118)](_0x45ec12=>console[_0x4b8b26(0x102)](_0x4b8b26(0x189),_0x45ec12));}};function getLocalDateStr(_0x531b98){const _0x213799=a2_0x4e05c4,_0x2428f8=_0x531b98[_0x213799(0x14f)](),_0x17f2ee=String(_0x531b98[_0x213799(0x206)]()+0x1)[_0x213799(0x122)](0x2,'0'),_0x103f9b=String(_0x531b98[_0x213799(0x20f)]())[_0x213799(0x122)](0x2,'0');return _0x2428f8+'-'+_0x17f2ee+'-'+_0x103f9b;}function getDateStr(_0x308524){const _0x16bf0a=a2_0x4e05c4,_0x34b5c4=new Date();return _0x34b5c4[_0x16bf0a(0x111)](_0x34b5c4[_0x16bf0a(0x20f)]()+_0x308524),getLocalDateStr(_0x34b5c4);}function getStartOfWeek(_0x352b71){const _0x30143d=a2_0x4e05c4,_0x516810=(function(){let _0x47f59e=!![];return function(_0x21f68e,_0x2530ff){const _0x913df1=_0x47f59e?function(){const _0x1bc5ec=a2_0x4881;if(_0x2530ff){const _0x408b93=_0x2530ff[_0x1bc5ec(0x1f2)](_0x21f68e,arguments);return _0x2530ff=null,_0x408b93;}}:function(){};return _0x47f59e=![],_0x913df1;};}()),_0x292055=_0x516810(this,function(){const _0x334edf=a2_0x4881;return _0x292055[_0x334edf(0x1b2)]()['search'](_0x334edf(0x22f))['toString']()[_0x334edf(0x273)](_0x292055)[_0x334edf(0x126)](_0x334edf(0x22f));});_0x292055();const _0x5ecc06=new Date(_0x352b71),_0x2e7150=_0x5ecc06[_0x30143d(0x272)](),_0x41853d=_0x5ecc06['getDate']()-_0x2e7150+(_0x2e7150===0x0?-0x6:0x1);return _0x5ecc06[_0x30143d(0x111)](_0x41853d),_0x5ecc06[_0x30143d(0x22b)](0x0,0x0,0x0,0x0),_0x5ecc06;}function hexToRgba(_0x5d940e,_0xf3bbfb){const _0x2a5461=a2_0x4e05c4;if(!_0x5d940e)return _0x2a5461(0x1d1);let _0x535fe2=0x0,_0x46728d=0x0,_0x2a09a2=0x0;if(_0x5d940e[_0x2a5461(0x26b)]===0x4)_0x535fe2='0x'+_0x5d940e[0x1]+_0x5d940e[0x1],_0x46728d='0x'+_0x5d940e[0x2]+_0x5d940e[0x2],_0x2a09a2='0x'+_0x5d940e[0x3]+_0x5d940e[0x3];else _0x5d940e[_0x2a5461(0x26b)]===0x7&&(_0x535fe2='0x'+_0x5d940e[0x1]+_0x5d940e[0x2],_0x46728d='0x'+_0x5d940e[0x3]+_0x5d940e[0x4],_0x2a09a2='0x'+_0x5d940e[0x5]+_0x5d940e[0x6]);return _0x2a5461(0x265)+ +_0x535fe2+',\x20'+ +_0x46728d+',\x20'+ +_0x2a09a2+',\x20'+_0xf3bbfb+')';}function renderTimeColumn(){const _0x5b7c00=a2_0x4e05c4,_0x27b29a=document[_0x5b7c00(0x154)]('timeColumn'),_0x1633f0=document['getElementById']('timeLineBadge');_0x27b29a[_0x5b7c00(0x1b0)]='',_0x27b29a[_0x5b7c00(0x17d)](_0x1633f0);for(let _0x493fc9=0x0;_0x493fc9<0x18;_0x493fc9++){const _0x409c6b=document['createElement'](_0x5b7c00(0x22a));_0x409c6b[_0x5b7c00(0x1f9)]=_0x5b7c00(0x183);if(_0x493fc9>0x0)_0x409c6b[_0x5b7c00(0x1b0)]=_0x5b7c00(0x25b)+String(_0x493fc9)[_0x5b7c00(0x122)](0x2,'0')+_0x5b7c00(0x114);_0x27b29a[_0x5b7c00(0x17d)](_0x409c6b);}}function renderDayRange(_0x145457,_0x1d6e38){const _0x13eb4b=a2_0x4e05c4,_0x3a2252=document[_0x13eb4b(0x154)](_0x13eb4b(0xfe)),_0x88342c=document['getElementById']('gridColumns'),_0x48ec76=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x40dd1c=new Date();_0x40dd1c['setHours'](0x0,0x0,0x0,0x0);const _0x35ae79=getLocalDateStr(new Date());for(let _0x918903=_0x145457;_0x918903<=_0x1d6e38;_0x918903++){const _0x3a42f2=new Date(_0x40dd1c);_0x3a42f2[_0x13eb4b(0x111)](_0x3a42f2['getDate']()+_0x918903);const _0x240837=getLocalDateStr(_0x3a42f2);let _0x3ab34a=_0x3a42f2['getDay']()-0x1;if(_0x3ab34a===-0x1)_0x3ab34a=0x6;const _0x3a050c=_0x240837===_0x35ae79,_0xe7dd31=document[_0x13eb4b(0x193)](_0x13eb4b(0x22a));_0xe7dd31[_0x13eb4b(0x1f9)]='day-col-header\x20'+(_0x3a050c?_0x13eb4b(0x1c5):''),_0xe7dd31['id']=_0x13eb4b(0x19f)+_0x240837,_0xe7dd31['setAttribute'](_0x13eb4b(0x186),_0x240837),_0xe7dd31[_0x13eb4b(0x1b0)]=_0x13eb4b(0x224)+_0x48ec76[_0x3ab34a]+'</div><div\x20class=\x22dch-num\x22>'+_0x3a42f2[_0x13eb4b(0x20f)]()+_0x13eb4b(0x1e6)+_0x240837+_0x13eb4b(0x180),_0xe7dd31[_0x13eb4b(0x139)]=()=>openDayOptions(_0x240837,_0x48ec76[_0x3ab34a]+'\x20'+_0x3a42f2[_0x13eb4b(0x20f)]()),_0x3a2252['appendChild'](_0xe7dd31);const _0x36c9d6=document[_0x13eb4b(0x193)](_0x13eb4b(0x22a));_0x36c9d6[_0x13eb4b(0x1f9)]=_0x13eb4b(0x192)+(_0x3a050c?_0x13eb4b(0x1c5):''),_0x36c9d6['setAttribute'](_0x13eb4b(0x186),_0x240837),_0x36c9d6[_0x13eb4b(0x227)]('data-day-idx',_0x3ab34a),renderEventsForColumn(_0x36c9d6,_0x240837,_0x3ab34a),attachLongPressHandler(_0x36c9d6,_0x3a42f2),_0x88342c[_0x13eb4b(0x17d)](_0x36c9d6),updateDayStats(_0x240837);}}function reRenderBlocks(){const _0xc81f2e=a2_0x4e05c4;document[_0xc81f2e(0x142)]('#gridColumns\x20.day-column')[_0xc81f2e(0x1da)](_0x473860=>{const _0x9b6b5a=_0xc81f2e;_0x473860[_0x9b6b5a(0x142)](_0x9b6b5a(0x140))[_0x9b6b5a(0x1da)](_0x50419f=>_0x50419f[_0x9b6b5a(0x1dc)]());const _0x24a98c=_0x473860[_0x9b6b5a(0x1eb)]('data-date'),_0x311ae2=parseInt(_0x473860['getAttribute']('data-day-idx')),_0x12a13a=Math['round'](_0x473860[_0x9b6b5a(0x19a)]);(availabilityPattern[_0x311ae2]||[])['forEach'](_0x5948db=>{const _0x59ad57=_0x9b6b5a,_0x2bea59=document[_0x59ad57(0x193)](_0x59ad57(0x22a));_0x2bea59[_0x59ad57(0x1f9)]=_0x59ad57(0x128);const _0x1118fb=_0x5948db*GRID_H;_0x2bea59[_0x59ad57(0x16e)]['top']=_0x1118fb+'px',_0x2bea59[_0x59ad57(0x16e)][_0x59ad57(0x1fd)]='-'+_0x12a13a+_0x59ad57(0x195)+_0x1118fb+'px',_0x473860[_0x59ad57(0x17d)](_0x2bea59);});if(specialRanges&&specialRanges[_0x9b6b5a(0x26b)]>0x0){const _0x2df126=new Date(_0x24a98c+'T00:00:00')['getTime'](),_0x2aaec6=new Date(_0x24a98c+'T23:59:59')[_0x9b6b5a(0x1b3)]();specialRanges[_0x9b6b5a(0x1da)](_0x5949d7=>{const _0x463acf=_0x9b6b5a,_0xa49c38=new Date(_0x5949d7[_0x463acf(0x20a)])[_0x463acf(0x1b3)](),_0x3e2329=new Date(_0x5949d7[_0x463acf(0x26e)])[_0x463acf(0x1b3)](),_0x523a4f=Math['max'](_0x2df126,_0xa49c38),_0x27433e=Math[_0x463acf(0x208)](_0x2aaec6,_0x3e2329);if(_0x523a4f<_0x27433e){if(_0x523a4f<=_0x2df126&&_0x27433e>=_0x2aaec6-0xea60){if(!_0x473860['querySelector']('.day-off-overlay')){const _0x12cade=document[_0x463acf(0x193)](_0x463acf(0x22a));_0x12cade[_0x463acf(0x1f9)]=_0x463acf(0x24d),_0x12cade[_0x463acf(0x16e)]['backgroundPosition']='-'+_0x12a13a+_0x463acf(0x1df),_0x473860[_0x463acf(0x17d)](_0x12cade);}}else{const _0x4dcf17=(_0x523a4f-_0x2df126)/0x36ee80*GRID_H,_0x5b9758=(_0x27433e-_0x523a4f)/0x36ee80*GRID_H,_0x40c332=document[_0x463acf(0x193)](_0x463acf(0x22a));_0x40c332[_0x463acf(0x1f9)]=_0x463acf(0x1d2),_0x40c332[_0x463acf(0x16e)]['top']=_0x4dcf17+'px',_0x40c332[_0x463acf(0x16e)][_0x463acf(0x213)]=_0x5b9758+'px',_0x40c332[_0x463acf(0x16e)][_0x463acf(0x1fd)]='-'+_0x12a13a+'px\x20-'+_0x4dcf17+'px',_0x473860[_0x463acf(0x17d)](_0x40c332);}}});}if(dateExceptions[_0x24a98c]==='off'){if(!_0x473860['querySelector'](_0x9b6b5a(0x153))){const _0x5bf5a9=document[_0x9b6b5a(0x193)](_0x9b6b5a(0x22a));_0x5bf5a9[_0x9b6b5a(0x1f9)]=_0x9b6b5a(0x24d),_0x5bf5a9['style'][_0x9b6b5a(0x1fd)]='-'+_0x12a13a+_0x9b6b5a(0x1df),_0x473860['appendChild'](_0x5bf5a9);}}renderEventsForColumn(_0x473860,_0x24a98c,_0x311ae2),updateDayStats(_0x24a98c);});}function updateAllDayStats(){const _0x509a7f=a2_0x4e05c4;document[_0x509a7f(0x142)](_0x509a7f(0x171))[_0x509a7f(0x1da)](_0x583f60=>{const _0x238d93=_0x509a7f;updateDayStats(_0x583f60[_0x238d93(0x1eb)](_0x238d93(0x186)));});}function updateDayStats(_0x4b5c62){const _0x3457a3=a2_0x4e05c4,_0x4d2fbd=document[_0x3457a3(0x154)](_0x3457a3(0x23d)+_0x4b5c62);if(!_0x4d2fbd)return;const _0x1e8d22=new Date(_0x4b5c62);let _0x3766f7=_0x1e8d22[_0x3457a3(0x272)]()-0x1;if(_0x3766f7===-0x1)_0x3766f7=0x6;if(dateExceptions[_0x4b5c62]===_0x3457a3(0x144)){_0x4d2fbd[_0x3457a3(0x16e)][_0x3457a3(0x120)]=_0x3457a3(0x15e);return;}const _0x13d1c7=availabilityPattern[_0x3766f7]||[],_0x8b61f7=0x18-_0x13d1c7[_0x3457a3(0x26b)],_0x5de011=_0x8b61f7*0x3c,_0x291de8=sessions[_0x3457a3(0x148)](_0x33ccae=>_0x33ccae['dateStr']===_0x4b5c62&&_0x33ccae[_0x3457a3(0x21a)]!==_0x3457a3(0x263));if(_0x291de8[_0x3457a3(0x26b)]===0x0){_0x4d2fbd[_0x3457a3(0x16e)][_0x3457a3(0x120)]=_0x3457a3(0x15e);return;}let _0x3a52da=_0x291de8['map'](_0x28d494=>{const _0x666d4d=_0x3457a3,[_0x4597ed,_0x518970]=_0x28d494['start']['split'](':')[_0x666d4d(0x1ec)](Number),[_0x5d4fed,_0x77ddf3]=_0x28d494[_0x666d4d(0x26e)][_0x666d4d(0x110)](':')[_0x666d4d(0x1ec)](Number);return[_0x4597ed*0x3c+_0x518970,_0x5d4fed*0x3c+_0x77ddf3];});_0x3a52da[_0x3457a3(0x172)]((_0x4a17b0,_0x3aec)=>_0x4a17b0[0x0]-_0x3aec[0x0]);let _0x2a9bf1=[];if(_0x3a52da[_0x3457a3(0x26b)]>0x0){let _0x485c45=_0x3a52da[0x0];for(let _0x2d265f=0x1;_0x2d265f<_0x3a52da[_0x3457a3(0x26b)];_0x2d265f++){_0x3a52da[_0x2d265f][0x0]<_0x485c45[0x1]?_0x485c45[0x1]=Math[_0x3457a3(0x1bc)](_0x485c45[0x1],_0x3a52da[_0x2d265f][0x1]):(_0x2a9bf1[_0x3457a3(0x129)](_0x485c45),_0x485c45=_0x3a52da[_0x2d265f]);}_0x2a9bf1[_0x3457a3(0x129)](_0x485c45);}let _0x3cc3b4=0x0;_0x2a9bf1[_0x3457a3(0x1da)](_0xb84493=>_0x3cc3b4+=_0xb84493[0x1]-_0xb84493[0x0]),_0x4d2fbd['style'][_0x3457a3(0x120)]=_0x3457a3(0x150);const _0x191047=_0x4d2fbd[_0x3457a3(0x1bd)](_0x3457a3(0x106));if(_0x5de011===0x0){_0x191047[_0x3457a3(0x16e)]['width']=_0x3457a3(0x14a),_0x191047[_0x3457a3(0x16e)][_0x3457a3(0x23f)]=_0x3457a3(0x243);return;}const _0x1e26b3=_0x3cc3b4/_0x5de011*0x64;console[_0x3457a3(0x152)]('['+_0x4b5c62+_0x3457a3(0x202)+_0x8b61f7+_0x3457a3(0x16b)+_0x3cc3b4+_0x3457a3(0x1ad)+_0x1e26b3[_0x3457a3(0x149)](0x1)+'%'),_0x1e26b3>0x64?(_0x191047[_0x3457a3(0x16e)][_0x3457a3(0x13d)]=_0x3457a3(0x14a),_0x191047[_0x3457a3(0x16e)][_0x3457a3(0x23f)]=_0x3457a3(0x243)):(_0x191047[_0x3457a3(0x16e)][_0x3457a3(0x13d)]=_0x1e26b3+'%',_0x191047[_0x3457a3(0x16e)][_0x3457a3(0x23f)]=_0x3457a3(0x236));}function renderEventsForColumn(_0x34d08d,_0x5f2cf1,_0x393d69){const _0x38d2f7=a2_0x4e05c4,_0x2b4489=sessions[_0x38d2f7(0x148)](_0xeaa8fd=>_0xeaa8fd[_0x38d2f7(0x17a)]===_0x5f2cf1),_0x20de6a=_0x2b4489[_0x38d2f7(0x1ec)](_0x18328f=>{const _0x2d45eb=_0x38d2f7,[_0x169da2,_0x41eaad]=_0x18328f[_0x2d45eb(0x20a)][_0x2d45eb(0x110)](':')[_0x2d45eb(0x1ec)](Number),[_0xda31d1,_0x35d6ba]=_0x18328f[_0x2d45eb(0x26e)][_0x2d45eb(0x110)](':')[_0x2d45eb(0x1ec)](Number);return{'data':_0x18328f,'start':_0x169da2*0x3c+_0x41eaad,'end':_0xda31d1*0x3c+_0x35d6ba,'colIndex':0x0};});_0x20de6a['sort']((_0xbc0224,_0x2de7b1)=>{const _0x34bc8d=_0x38d2f7;if(_0xbc0224[_0x34bc8d(0x20a)]!==_0x2de7b1[_0x34bc8d(0x20a)])return _0xbc0224[_0x34bc8d(0x20a)]-_0x2de7b1[_0x34bc8d(0x20a)];return _0x2de7b1[_0x34bc8d(0x26e)]-_0x2de7b1[_0x34bc8d(0x20a)]-(_0xbc0224['end']-_0xbc0224[_0x34bc8d(0x20a)]);});const _0x129d41=[];_0x20de6a[_0x38d2f7(0x1da)](_0xa4f095=>{const _0x23fa4e=_0x38d2f7;let _0x711ebd=![];for(let _0xa461d=0x0;_0xa461d<_0x129d41['length'];_0xa461d++){const _0x5245a0=_0x129d41[_0xa461d],_0x5e3ffb=_0x5245a0[_0x5245a0[_0x23fa4e(0x26b)]-0x1];if(_0xa4f095[_0x23fa4e(0x20a)]>=_0x5e3ffb[_0x23fa4e(0x26e)]){_0x5245a0[_0x23fa4e(0x129)](_0xa4f095),_0xa4f095[_0x23fa4e(0x1e0)]=_0xa461d,_0x711ebd=!![];break;}}!_0x711ebd&&(_0x129d41[_0x23fa4e(0x129)]([_0xa4f095]),_0xa4f095[_0x23fa4e(0x1e0)]=_0x129d41[_0x23fa4e(0x26b)]-0x1);}),_0x20de6a[_0x38d2f7(0x1da)](_0x54342c=>{const _0x297055=_0x38d2f7;let _0x1ff8f0=0x0;_0x20de6a[_0x297055(0x1da)](_0x53fcc5=>{const _0x36fe53=_0x297055;if(Math[_0x36fe53(0x1bc)](_0x54342c[_0x36fe53(0x20a)],_0x53fcc5['start'])<Math[_0x36fe53(0x208)](_0x54342c['end'],_0x53fcc5[_0x36fe53(0x26e)])){if(_0x53fcc5[_0x36fe53(0x1e0)]>_0x1ff8f0)_0x1ff8f0=_0x53fcc5[_0x36fe53(0x1e0)];}});const _0xfd787d=_0x1ff8f0+0x1,_0x10ec93=0x64/_0xfd787d,_0x2fbfcb=_0x54342c[_0x297055(0x1e0)]*_0x10ec93,_0x333a31=createEventEl(_0x54342c[_0x297055(0x15c)]);_0x333a31[_0x297055(0x16e)]['width']=_0x297055(0x10a)+_0x10ec93+_0x297055(0x1a4),_0x333a31[_0x297055(0x16e)][_0x297055(0x25a)]=_0x297055(0x10a)+_0x2fbfcb+'%\x20+\x202px)',_0x333a31[_0x297055(0x16e)][_0x297055(0x199)]=0xa+_0x54342c['colIndex'],_0x10ec93<0x55&&_0x333a31[_0x297055(0x197)][_0x297055(0x27f)](_0x297055(0x24f)),_0x34d08d[_0x297055(0x17d)](_0x333a31);});}function createEventEl(_0x488a14){const _0x2cd1b9=a2_0x4e05c4,[_0x1b1b0c,_0x5ce44d]=_0x488a14[_0x2cd1b9(0x20a)]['split'](':')[_0x2cd1b9(0x1ec)](Number),[_0x60472a,_0x5b6545]=_0x488a14[_0x2cd1b9(0x26e)][_0x2cd1b9(0x110)](':')[_0x2cd1b9(0x1ec)](Number),_0x5486f1=(_0x1b1b0c*0x3c+_0x5ce44d)/0x3c*GRID_H,_0x45e02a=(_0x60472a*0x3c+_0x5b6545-(_0x1b1b0c*0x3c+_0x5ce44d))/0x3c*GRID_H,_0xdccca8=document[_0x2cd1b9(0x193)](_0x2cd1b9(0x22a)),_0x57cfb1=_0x488a14['status']==='completed'?_0x2cd1b9(0x245):'';_0xdccca8[_0x2cd1b9(0x1f9)]=_0x2cd1b9(0x231)+_0x57cfb1,_0xdccca8[_0x2cd1b9(0x16e)][_0x2cd1b9(0x1af)]=_0x5486f1+'px',_0xdccca8[_0x2cd1b9(0x16e)][_0x2cd1b9(0x213)]=Math['max'](_0x45e02a,0x14)+'px';const _0x42ed43=clients['find'](_0x41894d=>_0x488a14[_0x2cd1b9(0x10b)]&&String(_0x41894d['id'])===String(_0x488a14[_0x2cd1b9(0x10b)])||_0x41894d[_0x2cd1b9(0x170)]===_0x488a14[_0x2cd1b9(0x15f)]),_0x3ff0c4=_0x42ed43?_0x42ed43[_0x2cd1b9(0x100)]:_0x2cd1b9(0x10f);_0xdccca8['style'][_0x2cd1b9(0x158)]=_0x3ff0c4,_0xdccca8['style'][_0x2cd1b9(0x1b6)]=hexToRgba(_0x3ff0c4,0.85);let _0x1cc9e9=_0x2cd1b9(0x194)+_0x488a14['client']+_0x2cd1b9(0x1e3)+_0x488a14[_0x2cd1b9(0x20a)]+_0x2cd1b9(0x23a)+_0x488a14[_0x2cd1b9(0x26e)]+_0x2cd1b9(0x1d5);return _0x488a14[_0x2cd1b9(0x14e)]&&(_0x1cc9e9+='<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>'),_0x488a14[_0x2cd1b9(0x21a)]==='completed'&&(_0x1cc9e9+=_0x2cd1b9(0x1ab)),_0xdccca8[_0x2cd1b9(0x1b0)]=_0x1cc9e9,_0xdccca8[_0x2cd1b9(0x139)]=_0x14a354=>{const _0x3e7308=_0x2cd1b9;_0x14a354[_0x3e7308(0x27c)](),openEdit(_0x488a14);},_0xdccca8;}function attachLongPressHandler(_0x1e2069,_0x513b97){const _0x586c08=a2_0x4e05c4;let _0x55004a=0x0,_0x585324=null;const _0x4023d1=_0x33f871=>{const _0x5ef41b=a2_0x4881;if(_0x33f871['target'][_0x5ef41b(0x179)](_0x5ef41b(0x19c)))return;isScrolling=![],_0x55004a=_0x33f871['touches']?_0x33f871[_0x5ef41b(0x147)][0x0]['clientY']:_0x33f871['clientY'],_0x585324=setTimeout(()=>{const _0x5916b9=_0x5ef41b;if(!isScrolling){navigator[_0x5916b9(0x119)]?.(0x32);const _0xcf555c=_0x1e2069['getBoundingClientRect'](),_0x2e0bac=Math[_0x5916b9(0x1ea)]((_0x55004a-_0xcf555c[_0x5916b9(0x1af)])/GRID_H);_0x513b97[_0x5916b9(0x22b)](_0x2e0bac,0x0),openAddSession(_0x513b97);}},0x1f4);},_0x175db5=()=>{isScrolling=!![],clearTimeout(_0x585324);},_0x535749=()=>{clearTimeout(_0x585324);};_0x1e2069[_0x586c08(0x230)](_0x586c08(0x274),_0x4023d1,{'passive':!![]}),_0x1e2069['addEventListener']('touchmove',_0x175db5,{'passive':!![]}),_0x1e2069['addEventListener']('touchend',_0x535749),_0x1e2069[_0x586c08(0x230)](_0x586c08(0x138),_0x4023d1),_0x1e2069['addEventListener'](_0x586c08(0x168),_0x175db5),_0x1e2069[_0x586c08(0x230)](_0x586c08(0x13e),_0x535749);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x3746f4=a2_0x4e05c4,_0x409c7f=document[_0x3746f4(0x154)](_0x3746f4(0x215)),_0x32700f=_0x409c7f['scrollLeft'],_0x17c067=_0x409c7f[_0x3746f4(0x1cf)],_0x252918=_0x409c7f[_0x3746f4(0x25d)];if(_0x17c067-(_0x32700f+_0x252918)<0x12c){const _0x5cade2=endOffset;endOffset+=0xe,renderDayRange(_0x5cade2+0x1,endOffset),reRenderBlocks();}if(_0x32700f<0x12c){const _0x334133=startOffset;startOffset-=0xe,prependDays(startOffset,_0x334133-0x1),_0x409c7f[_0x3746f4(0x1fb)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x325d98,_0x493996){const _0x1e31bd=a2_0x4e05c4,_0x5a3371=document[_0x1e31bd(0x154)]('daysHeaderTrack'),_0x18e76c=document[_0x1e31bd(0x154)](_0x1e31bd(0x201)),_0x13cedb=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x25254a=new Date();_0x25254a[_0x1e31bd(0x22b)](0x0,0x0,0x0,0x0);const _0x864f4b=getLocalDateStr(new Date()),_0x127797=document[_0x1e31bd(0x1e2)](),_0x522e8a=document[_0x1e31bd(0x1e2)]();for(let _0x28c628=_0x325d98;_0x28c628<=_0x493996;_0x28c628++){const _0x469d61=new Date(_0x25254a);_0x469d61[_0x1e31bd(0x111)](_0x469d61[_0x1e31bd(0x20f)]()+_0x28c628);const _0xf7163e=getLocalDateStr(_0x469d61);let _0x506d67=_0x469d61['getDay']()-0x1;if(_0x506d67===-0x1)_0x506d67=0x6;const _0x32ea15=_0xf7163e===_0x864f4b,_0x35ec2d=document['createElement'](_0x1e31bd(0x22a));_0x35ec2d[_0x1e31bd(0x1f9)]=_0x1e31bd(0x116)+(_0x32ea15?_0x1e31bd(0x1c5):''),_0x35ec2d['id']=_0x1e31bd(0x19f)+_0xf7163e,_0x35ec2d[_0x1e31bd(0x227)](_0x1e31bd(0x186),_0xf7163e),_0x35ec2d[_0x1e31bd(0x1b0)]='<div\x20class=\x22dch-day\x22>'+_0x13cedb[_0x506d67]+_0x1e31bd(0x256)+_0x469d61[_0x1e31bd(0x20f)]()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0xf7163e+_0x1e31bd(0x180),_0x35ec2d[_0x1e31bd(0x139)]=()=>openDayOptions(_0xf7163e,_0x13cedb[_0x506d67]+'\x20'+_0x469d61['getDate']()),_0x127797['appendChild'](_0x35ec2d);const _0x2c7324=document[_0x1e31bd(0x193)](_0x1e31bd(0x22a));_0x2c7324[_0x1e31bd(0x1f9)]=_0x1e31bd(0x192)+(_0x32ea15?'today':''),_0x2c7324[_0x1e31bd(0x227)](_0x1e31bd(0x186),_0xf7163e),_0x2c7324['setAttribute'](_0x1e31bd(0x12b),_0x506d67),renderEventsForColumn(_0x2c7324,_0xf7163e,_0x506d67),attachLongPressHandler(_0x2c7324,_0x469d61),_0x522e8a[_0x1e31bd(0x17d)](_0x2c7324),updateDayStats(_0xf7163e);}_0x5a3371[_0x1e31bd(0x27d)](_0x127797,_0x5a3371['firstChild']),_0x18e76c[_0x1e31bd(0x27d)](_0x522e8a,_0x18e76c[_0x1e31bd(0x1bd)](_0x1e31bd(0x251)));}function validateAppointment(_0x5c7773,_0x3b63bf,_0x30583e,_0x35057e,_0x5b7036){const _0x55806b=a2_0x4e05c4,[_0x3683fd,_0x306a3b]=_0x3b63bf[_0x55806b(0x110)](':')['map'](Number),[_0x594821,_0x57b517]=_0x30583e[_0x55806b(0x110)](':')[_0x55806b(0x1ec)](Number),_0x497eef=_0x3683fd*0x3c+_0x306a3b,_0x57d626=_0x594821*0x3c+_0x57b517,_0x556c23=String(_0x5b7036);let _0x1e81f8=![],_0x1e79de='';for(let _0xf21cfd of sessions){if(_0xf21cfd[_0x55806b(0x17a)]!==_0x5c7773)continue;if(_0xf21cfd[_0x55806b(0x21a)]===_0x55806b(0x263))continue;if(_0x35057e&&String(_0xf21cfd['id'])===String(_0x35057e))continue;const [_0x2ab9b7,_0x22cd31]=_0xf21cfd[_0x55806b(0x20a)][_0x55806b(0x110)](':')[_0x55806b(0x1ec)](Number),[_0xe84295,_0x1f9670]=_0xf21cfd[_0x55806b(0x26e)][_0x55806b(0x110)](':')[_0x55806b(0x1ec)](Number),_0x1bf752=_0x2ab9b7*0x3c+_0x22cd31,_0x11fe4f=_0xe84295*0x3c+_0x1f9670;if(Math[_0x55806b(0x1bc)](_0x497eef,_0x1bf752)<Math[_0x55806b(0x208)](_0x57d626,_0x11fe4f)){if(_0xf21cfd[_0x55806b(0x10b)]&&String(_0xf21cfd[_0x55806b(0x10b)])===_0x556c23)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0xf21cfd[_0x55806b(0x15f)]+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x1e81f8=!![],_0x1e79de=_0xf21cfd[_0x55806b(0x15f)];}}if(_0x1e81f8)return{'valid':!![],'warning':_0x55806b(0x20b)+_0x1e79de};return{'valid':!![]};}function updateDateDisplay(){const _0x2b9027=a2_0x4e05c4,_0x2bc347=document[_0x2b9027(0x154)](_0x2b9027(0x18b))['value'],_0x414817=document['getElementById']('sheetDateSubtitle');if(!_0x2bc347){_0x414817[_0x2b9027(0x216)]='';return;}const [_0x522f4f,_0x1967cb,_0xc0ddfe]=_0x2bc347[_0x2b9027(0x110)]('-')[_0x2b9027(0x1ec)](Number),_0x1a0d44=new Date(_0x522f4f,_0x1967cb-0x1,_0xc0ddfe),_0x56948d={'weekday':_0x2b9027(0x11a),'day':_0x2b9027(0x17f),'month':_0x2b9027(0x11a),'year':'numeric'};let _0x4b7a2d=_0x1a0d44[_0x2b9027(0x101)](_0x2b9027(0x182),_0x56948d);_0x4b7a2d=_0x4b7a2d[_0x2b9027(0x132)](0x0)[_0x2b9027(0x259)]()+_0x4b7a2d[_0x2b9027(0x241)](0x1),_0x414817[_0x2b9027(0x216)]=_0x4b7a2d;}function autoSetEndTime(){const _0xaef820=a2_0x4e05c4,_0x37c6ca=document[_0xaef820(0x154)](_0xaef820(0x1a0))[_0xaef820(0x1a2)];if(!_0x37c6ca)return;const [_0x827bfe,_0x3f7410]=_0x37c6ca[_0xaef820(0x110)](':')[_0xaef820(0x1ec)](Number);let _0x4dac08=_0x827bfe+0x1;if(_0x4dac08>0x17)_0x4dac08=0x0;const _0x452947=String(_0x4dac08)['padStart'](0x2,'0')+':'+String(_0x3f7410)[_0xaef820(0x122)](0x2,'0');document[_0xaef820(0x154)](_0xaef820(0x11c))[_0xaef820(0x1a2)]=_0x452947;}function populateClientSelect(){const _0xd1d4b4=a2_0x4e05c4,_0xb71c61=document[_0xd1d4b4(0x154)](_0xd1d4b4(0x21f));_0xb71c61[_0xd1d4b4(0x1b0)]='';if(clients[_0xd1d4b4(0x26b)]===0x0){const _0x188d92=document[_0xd1d4b4(0x193)](_0xd1d4b4(0x1c6));_0x188d92['text']=_0xd1d4b4(0x14c),_0xb71c61['appendChild'](_0x188d92);return;}clients['forEach'](_0x400791=>{const _0x26e444=_0xd1d4b4,_0x4950d3=document[_0x26e444(0x193)]('option');_0x4950d3[_0x26e444(0x1a2)]=_0x400791[_0x26e444(0x170)],_0x4950d3['textContent']=_0x400791[_0x26e444(0x170)],_0xb71c61[_0x26e444(0x17d)](_0x4950d3);});}function openActionSheet(_0x2a48fc){const _0x2dabb6=a2_0x4e05c4,_0x4d7ec2=document[_0x2dabb6(0x154)]('actionSheet'),_0x431ace=document[_0x2dabb6(0x154)]('actionSheetOverlay'),_0x4b7c4c=document[_0x2dabb6(0x154)](_0x2dabb6(0x13b)),_0x388843=document[_0x2dabb6(0x154)]('asBtnOne'),_0x26228e=document[_0x2dabb6(0x154)](_0x2dabb6(0x188));_0x431ace[_0x2dabb6(0x197)][_0x2dabb6(0x27f)]('active'),_0x4d7ec2['classList'][_0x2dabb6(0x27f)](_0x2dabb6(0x18f));if(_0x2a48fc===_0x2dabb6(0x16c))_0x4b7c4c[_0x2dabb6(0x216)]=_0x2dabb6(0x169),_0x388843[_0x2dabb6(0x216)]='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x388843['onclick']=()=>{const _0x25cd4a=_0x2dabb6;closeActionSheet(),updateSeriesBatch(_0x25cd4a(0x232),tempSessionData);},_0x26228e['textContent']=_0x2dabb6(0x164),_0x26228e[_0x2dabb6(0x139)]=()=>{const _0x25fd69=_0x2dabb6;closeActionSheet(),updateSeriesBatch(_0x25fd69(0x24e),tempSessionData);};else _0x2a48fc===_0x2dabb6(0x1ee)&&(_0x4b7c4c[_0x2dabb6(0x216)]=_0x2dabb6(0x160),_0x388843[_0x2dabb6(0x216)]=_0x2dabb6(0x112),_0x388843[_0x2dabb6(0x1f9)]=_0x2dabb6(0x156),_0x388843['onclick']=()=>{const _0x10a00c=_0x2dabb6;closeActionSheet(),commitDelete(_0x10a00c(0x232),sessions[_0x10a00c(0x125)](_0x40f8b6=>_0x40f8b6['id']===editingId));},_0x26228e[_0x2dabb6(0x216)]=_0x2dabb6(0x164),_0x26228e[_0x2dabb6(0x1f9)]=_0x2dabb6(0x1b4),_0x26228e[_0x2dabb6(0x139)]=()=>{const _0x2332d8=_0x2dabb6;closeActionSheet(),commitDelete(_0x2332d8(0x24e),sessions['find'](_0x43032f=>_0x43032f['id']===editingId));});}function closeActionSheet(){const _0x6732ed=a2_0x4e05c4;document[_0x6732ed(0x154)](_0x6732ed(0x143))[_0x6732ed(0x197)]['remove'](_0x6732ed(0x18f)),document[_0x6732ed(0x154)]('actionSheetOverlay')[_0x6732ed(0x197)][_0x6732ed(0x1dc)]('active');}function openSettings(){const _0x70a5d8=a2_0x4e05c4;openSheet(_0x70a5d8(0x234));}function saveCoachSettings(){const _0x5c2be3=a2_0x4e05c4,_0x5387f4=document['getElementById'](_0x5c2be3(0x23b))['value'];localStorage[_0x5c2be3(0x267)](_0x5c2be3(0x15b),_0x5387f4),console['log'](_0x5c2be3(0x217),_0x5387f4),DataManager['fetchFromServer']('save_settings',{'settings':{'cancel_window':_0x5387f4}})[_0x5c2be3(0x118)](_0x2d71b8=>{const _0x5cd618=_0x5c2be3;console[_0x5cd618(0x102)]('Save\x20settings\x20error:',_0x2d71b8),showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫',![]);});}function loadCoachSettings(){const _0x3bbbb1=a2_0x4e05c4,_0x1d51ee=localStorage[_0x3bbbb1(0x1d8)](_0x3bbbb1(0x15b));_0x1d51ee&&(document[_0x3bbbb1(0x154)](_0x3bbbb1(0x23b))[_0x3bbbb1(0x1a2)]=_0x1d51ee);}function openRangesSheet(){const _0x4dbe32=a2_0x4e05c4;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x4dbe32(0x1a3));}function addRange(){const _0x578ad6=a2_0x4e05c4,_0xdb7503=document[_0x578ad6(0x154)](_0x578ad6(0x1b5))[_0x578ad6(0x1a2)],_0x1b3634=document[_0x578ad6(0x154)]('rangeStartTime')[_0x578ad6(0x1a2)],_0x980cc7=document['getElementById'](_0x578ad6(0x162))[_0x578ad6(0x1a2)],_0x114419=document['getElementById'](_0x578ad6(0x11e))[_0x578ad6(0x1a2)];if(!_0xdb7503||!_0x1b3634||!_0x980cc7||!_0x114419)return alert(_0x578ad6(0x1db));const _0x20d7be=_0xdb7503+'T'+_0x1b3634,_0x1531f3=_0x980cc7+'T'+_0x114419;if(_0x20d7be>=_0x1531f3)return alert(_0x578ad6(0x20c));specialRanges[_0x578ad6(0x129)]({'start':_0x20d7be,'end':_0x1531f3}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x578ad6(0x262)](),DataManager[_0x578ad6(0x134)](_0x578ad6(0x10e),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x3284d8){const _0x12063b=a2_0x4e05c4;specialRanges[_0x12063b(0x187)](_0x3284d8,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x12063b(0x262)](),DataManager[_0x12063b(0x134)](_0x12063b(0x10e),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x37f9da=a2_0x4e05c4;document[_0x37f9da(0x154)](_0x37f9da(0x1b5))[_0x37f9da(0x1a2)]='',document[_0x37f9da(0x154)]('rangeStartTime')[_0x37f9da(0x1a2)]=_0x37f9da(0x15d),document[_0x37f9da(0x154)](_0x37f9da(0x162))['value']='',document[_0x37f9da(0x154)](_0x37f9da(0x11e))[_0x37f9da(0x1a2)]=_0x37f9da(0x184);}function renderRangesList(){const _0x36e8d2=a2_0x4e05c4,_0x3e3efe=document[_0x36e8d2(0x154)]('rangesList');_0x3e3efe[_0x36e8d2(0x1b0)]='';if(!specialRanges['length']){_0x3e3efe[_0x36e8d2(0x1b0)]=_0x36e8d2(0x11f);return;}specialRanges[_0x36e8d2(0x1da)]((_0x273504,_0x2393c9)=>{const _0xa584b0=_0x36e8d2,_0x4cd55f=document['createElement'](_0xa584b0(0x22a));_0x4cd55f['className']=_0xa584b0(0x261);const _0x235626=_0x414665=>{const _0x63b3e7=_0xa584b0,_0x4c3657=new Date(_0x414665);return _0x4c3657[_0x63b3e7(0x20f)]()+'.'+String(_0x4c3657[_0x63b3e7(0x206)]()+0x1)[_0x63b3e7(0x122)](0x2,'0')+'\x20'+String(_0x4c3657[_0x63b3e7(0x137)]())[_0x63b3e7(0x122)](0x2,'0')+':'+String(_0x4c3657[_0x63b3e7(0x26c)]())['padStart'](0x2,'0');};_0x4cd55f['innerHTML']=_0xa584b0(0x247)+_0x235626(_0x273504[_0xa584b0(0x20a)])+_0xa584b0(0x20d)+_0x235626(_0x273504[_0xa584b0(0x26e)])+_0xa584b0(0x280)+_0x2393c9+_0xa584b0(0x1b8),_0x3e3efe[_0xa584b0(0x17d)](_0x4cd55f);});}function scrollToToday(){const _0x18ab4a=a2_0x4e05c4,_0x262250=getLocalDateStr(new Date()),_0x346b8a=document[_0x18ab4a(0x154)](_0x18ab4a(0x19f)+_0x262250),_0x6f1453=document['getElementById'](_0x18ab4a(0x215));if(_0x346b8a&&_0x6f1453){const _0x1333bb=_0x6f1453['clientWidth'],_0x332367=_0x346b8a[_0x18ab4a(0x19a)],_0x552b63=_0x346b8a[_0x18ab4a(0x211)];_0x6f1453[_0x18ab4a(0x1fb)]=_0x332367-_0x1333bb/0x2+_0x552b63/0x2,_0x6f1453[_0x18ab4a(0x1e1)]=0x9*GRID_H;}}function onScroll(){const _0x3f0301=a2_0x4e05c4,_0x53aad8=document['getElementById'](_0x3f0301(0x215)),_0x246488=document['querySelectorAll']('.day-col-header');for(let _0x59cd34 of _0x246488)if(_0x59cd34[_0x3f0301(0x19a)]>=_0x53aad8[_0x3f0301(0x1fb)]){const _0x52ec84=new Date(_0x59cd34[_0x3f0301(0x1eb)](_0x3f0301(0x186)));document[_0x3f0301(0x154)](_0x3f0301(0x1bf))[_0x3f0301(0x216)]=_0x52ec84[_0x3f0301(0x131)]('ru',{'month':_0x3f0301(0x11a)})[_0x3f0301(0x259)]()+'\x20'+_0x52ec84[_0x3f0301(0x14f)]();break;}}function showToast(_0x11ad5e,_0xf27617=![]){const _0x560da5=a2_0x4e05c4,_0xe41578=document['getElementById'](_0x560da5(0x1ae));_0xe41578[_0x560da5(0x1f9)]=_0x560da5(0x1d0)+(_0xf27617?_0x560da5(0x226):''),document[_0x560da5(0x154)]('toastTitle')[_0x560da5(0x216)]=_0xf27617?_0x560da5(0x151):'–ò–Ω—Ñ–æ',document[_0x560da5(0x154)]('toastMessage')['textContent']=_0x11ad5e,_0xe41578[_0x560da5(0x197)][_0x560da5(0x27f)](_0x560da5(0x1e8)),setTimeout(()=>{const _0x4c58c2=_0x560da5;_0xe41578['classList'][_0x4c58c2(0x1dc)](_0x4c58c2(0x1e8));},0xbb8);}function openDayOptions(_0x3c3788,_0x490dfc){const _0x579db2=a2_0x4e05c4;selectedDayForOptions=_0x3c3788,document[_0x579db2(0x154)]('dayOptionsTitle')[_0x579db2(0x216)]=_0x490dfc,openSheet(_0x579db2(0x240));}function toggleDayOff(){const _0x2a331c=a2_0x4e05c4;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x2a331c(0x144),reRenderBlocks(),closeAllSheets(),DataManager[_0x2a331c(0x262)](),DataManager[_0x2a331c(0x134)](_0x2a331c(0x10e),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x3d2863=a2_0x4e05c4;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x3d2863(0x262)](),DataManager['fetchFromServer'](_0x3d2863(0x10e),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x131a15){const _0x5c730c=a2_0x4e05c4;document[_0x5c730c(0x154)](_0x5c730c(0x228))[_0x5c730c(0x197)][_0x5c730c(0x27f)](_0x5c730c(0x257)),document['getElementById'](_0x131a15)[_0x5c730c(0x197)]['add']('open');}function closeAllSheets(){const _0x3e03e1=a2_0x4e05c4;document[_0x3e03e1(0x154)](_0x3e03e1(0x228))[_0x3e03e1(0x197)][_0x3e03e1(0x1dc)]('active'),document[_0x3e03e1(0x142)](_0x3e03e1(0x222))['forEach'](_0x254f88=>_0x254f88[_0x3e03e1(0x197)][_0x3e03e1(0x1dc)]('open'));}function openPatternEditor(){const _0x1459d1=a2_0x4e05c4;closeAllSheets(),document[_0x1459d1(0x154)](_0x1459d1(0x278))[_0x1459d1(0x197)][_0x1459d1(0x27f)](_0x1459d1(0x18f)),renderPatternEditor();}function closePatternEditor(){const _0x2f6836=a2_0x4e05c4;document[_0x2f6836(0x154)]('patternEditor')[_0x2f6836(0x197)][_0x2f6836(0x1dc)]('open');}function savePattern(){const _0xd2af65=a2_0x4e05c4;document[_0xd2af65(0x154)]('patternEditor')[_0xd2af65(0x197)][_0xd2af65(0x1dc)](_0xd2af65(0x18f)),reRenderBlocks(),DataManager[_0xd2af65(0x262)](),DataManager[_0xd2af65(0x134)](_0xd2af65(0x10e),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x4412c2=a2_0x4e05c4,_0x45e6f8=document[_0x4412c2(0x154)]('peGrid');_0x45e6f8[_0x4412c2(0x1b0)]='';const _0x4a223e=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0xdfd2f3=document[_0x4412c2(0x193)](_0x4412c2(0x22a));_0xdfd2f3[_0x4412c2(0x1f9)]=_0x4412c2(0x12f),_0x45e6f8[_0x4412c2(0x17d)](_0xdfd2f3),_0x4a223e[_0x4412c2(0x1da)]((_0x5191a8,_0x37d41a)=>{const _0x4c0f78=_0x4412c2,_0x1c1961=document['createElement'](_0x4c0f78(0x22a));_0x1c1961[_0x4c0f78(0x1f9)]=_0x4c0f78(0x12a),_0x1c1961[_0x4c0f78(0x1b0)]=_0x5191a8+'\x20<span\x20class=\x22arrow\x22>‚Üì</span>',_0x1c1961[_0x4c0f78(0x139)]=()=>toggleColPattern(_0x37d41a),_0x45e6f8['appendChild'](_0x1c1961);});for(let _0x581e28=0x0;_0x581e28<0x18;_0x581e28++){const _0x28b9b5=document['createElement'](_0x4412c2(0x22a));_0x28b9b5[_0x4412c2(0x1f9)]='pe-time-label',_0x28b9b5[_0x4412c2(0x1b0)]=_0x4412c2(0x157)+String(_0x581e28)[_0x4412c2(0x122)](0x2,'0')+_0x4412c2(0x268),_0x28b9b5[_0x4412c2(0x139)]=()=>toggleRowPattern(_0x581e28),_0x45e6f8['appendChild'](_0x28b9b5);for(let _0x288dd9=0x0;_0x288dd9<0x7;_0x288dd9++){const _0x3c26a6=document[_0x4412c2(0x193)]('div'),_0x3335a0=(availabilityPattern[_0x288dd9]||[])[_0x4412c2(0x254)](_0x581e28),_0x276df1=!_0x3335a0;_0x3c26a6[_0x4412c2(0x1f9)]='pe-cell\x20'+(_0x276df1?_0x4412c2(0x257):''),_0x3c26a6[_0x4412c2(0x139)]=()=>toggleSinglePattern(_0x288dd9,_0x581e28),_0x45e6f8['appendChild'](_0x3c26a6);}}}function toggleSinglePattern(_0x3a992e,_0x4a715b){const _0x3eddbc=a2_0x4e05c4;if(!availabilityPattern[_0x3a992e])availabilityPattern[_0x3a992e]=[];const _0x1c48f2=availabilityPattern[_0x3a992e],_0x519638=_0x1c48f2[_0x3eddbc(0x13f)](_0x4a715b);_0x519638===-0x1?_0x1c48f2[_0x3eddbc(0x129)](_0x4a715b):_0x1c48f2[_0x3eddbc(0x187)](_0x519638,0x1),renderPatternEditor();}function toggleColPattern(_0x4c4504){const _0x2c2ba8=a2_0x4e05c4;if(!availabilityPattern[_0x4c4504])availabilityPattern[_0x4c4504]=[];const _0x72b1df=availabilityPattern[_0x4c4504];_0x72b1df[_0x2c2ba8(0x26b)]===0x0?availabilityPattern[_0x4c4504]=Array[_0x2c2ba8(0x1f0)]({'length':0x18},(_0x57caa5,_0x37df58)=>_0x37df58):availabilityPattern[_0x4c4504]=[],renderPatternEditor();}function toggleRowPattern(_0x17c2be){const _0xf04830=a2_0x4e05c4;let _0x5c0476=!![];for(let _0x201337=0x0;_0x201337<0x7;_0x201337++){if((availabilityPattern[_0x201337]||[])[_0xf04830(0x254)](_0x17c2be)){_0x5c0476=![];break;}}for(let _0x332686=0x0;_0x332686<0x7;_0x332686++){if(!availabilityPattern[_0x332686])availabilityPattern[_0x332686]=[];const _0x11771e=availabilityPattern[_0x332686][_0xf04830(0x13f)](_0x17c2be);if(_0x5c0476){if(_0x11771e===-0x1)availabilityPattern[_0x332686][_0xf04830(0x129)](_0x17c2be);}else{if(_0x11771e!==-0x1)availabilityPattern[_0x332686][_0xf04830(0x187)](_0x11771e,0x1);}}renderPatternEditor();}function renderPCol(_0x355d56,_0x4a0beb){const _0x47243c=a2_0x4e05c4;_0x355d56[_0x47243c(0x1b0)]='';const _0x42be44=Math[_0x47243c(0x1ef)](_0x355d56[_0x47243c(0x19a)]);(availabilityPattern[_0x4a0beb]||[])['forEach'](_0xfcbf6=>{const _0x4ac3d7=_0x47243c,_0x11eadc=document['createElement'](_0x4ac3d7(0x22a));_0x11eadc[_0x4ac3d7(0x1f9)]=_0x4ac3d7(0x128);const _0x3573c4=_0xfcbf6*GRID_H;_0x11eadc[_0x4ac3d7(0x16e)]['top']=_0x3573c4+'px',_0x11eadc[_0x4ac3d7(0x16e)]['backgroundPosition']='-'+_0x42be44+'px\x20-'+_0x3573c4+'px',_0x11eadc[_0x4ac3d7(0x139)]=_0x5a9e32=>{const _0x23111a=_0x4ac3d7;_0x5a9e32[_0x23111a(0x27c)](),toggleSinglePattern(_0x4a0beb,_0xfcbf6);},_0x355d56[_0x4ac3d7(0x17d)](_0x11eadc);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x18e4c3=a2_0x4e05c4,_0x3e1850=new Date(),_0x532734=document['getElementById']('globalTimeLine'),_0x140ecc=document[_0x18e4c3(0x154)](_0x18e4c3(0x242)),_0x2cb45f=(_0x3e1850[_0x18e4c3(0x137)]()*0x3c+_0x3e1850['getMinutes']())/0x3c*GRID_H;_0x532734[_0x18e4c3(0x16e)]['top']=_0x2cb45f+'px',_0x532734[_0x18e4c3(0x16e)][_0x18e4c3(0x120)]='block',_0x140ecc[_0x18e4c3(0x216)]=String(_0x3e1850[_0x18e4c3(0x137)]())[_0x18e4c3(0x122)](0x2,'0')+':'+String(_0x3e1850[_0x18e4c3(0x26c)]())['padStart'](0x2,'0'),_0x140ecc[_0x18e4c3(0x16e)][_0x18e4c3(0x120)]=_0x18e4c3(0x1f4),_0x140ecc['style'][_0x18e4c3(0x1af)]=_0x2cb45f+'px';}document[a2_0x4e05c4(0x230)](a2_0x4e05c4(0x190),init);function openDayOptions(_0x566ec5){const _0xb40954=a2_0x4e05c4;selectedDayForOptions=_0x566ec5;const _0x579b65=new Date(_0x566ec5),_0x515393={'weekday':_0xb40954(0x11a),'day':_0xb40954(0x17f),'month':_0xb40954(0x11a),'year':_0xb40954(0x17f)},_0x4e7db2=_0x579b65[_0xb40954(0x101)]('ru-RU',_0x515393);document[_0xb40954(0x154)](_0xb40954(0x181))[_0xb40954(0x216)]=_0x4e7db2['charAt'](0x0)['toUpperCase']()+_0x4e7db2[_0xb40954(0x241)](0x1);let _0x2a4ddd=_0x579b65[_0xb40954(0x272)]()-0x1;if(_0x2a4ddd===-0x1)_0x2a4ddd=0x6;const _0x3c3103=availabilityPattern[_0x2a4ddd]||[],_0x5c653a=0x18-_0x3c3103[_0xb40954(0x26b)],_0x564dfe=_0x5c653a*0x3c,_0x423d3f=sessions[_0xb40954(0x148)](_0x2b4dc9=>_0x2b4dc9[_0xb40954(0x17a)]===_0x566ec5&&_0x2b4dc9[_0xb40954(0x21a)]!==_0xb40954(0x263));let _0x47cc3b=_0x423d3f[_0xb40954(0x1ec)](_0x379067=>{const _0x1607f7=_0xb40954,[_0x46489f,_0x2b7cc7]=_0x379067[_0x1607f7(0x20a)]['split'](':')[_0x1607f7(0x1ec)](Number),[_0x345c1b,_0x316321]=_0x379067[_0x1607f7(0x26e)]['split'](':')[_0x1607f7(0x1ec)](Number);return[_0x46489f*0x3c+_0x2b7cc7,_0x345c1b*0x3c+_0x316321];});_0x47cc3b['sort']((_0x1775fa,_0xfa0f9a)=>_0x1775fa[0x0]-_0xfa0f9a[0x0]);let _0x3cdf47=[];if(_0x47cc3b['length']>0x0){let _0x2fb4cd=_0x47cc3b[0x0];for(let _0x3c3a2e=0x1;_0x3c3a2e<_0x47cc3b[_0xb40954(0x26b)];_0x3c3a2e++){_0x47cc3b[_0x3c3a2e][0x0]<_0x2fb4cd[0x1]?_0x2fb4cd[0x1]=Math[_0xb40954(0x1bc)](_0x2fb4cd[0x1],_0x47cc3b[_0x3c3a2e][0x1]):(_0x3cdf47['push'](_0x2fb4cd),_0x2fb4cd=_0x47cc3b[_0x3c3a2e]);}_0x3cdf47[_0xb40954(0x129)](_0x2fb4cd);}let _0x589b14=0x0;_0x3cdf47[_0xb40954(0x1da)](_0x5a958b=>_0x589b14+=_0x5a958b[0x1]-_0x5a958b[0x0]),document['getElementById']('doWorkHours')[_0xb40954(0x216)]=formatMinsToHrs(_0x564dfe),document[_0xb40954(0x154)]('doBusyHours')[_0xb40954(0x216)]=formatMinsToHrs(_0x589b14);const _0x201904=_0x564dfe>0x0?Math[_0xb40954(0x1ef)](_0x589b14/_0x564dfe*0x64):0x0,_0x1166da=document['getElementById'](_0xb40954(0x218));_0x1166da[_0xb40954(0x216)]=_0x201904+'%';const _0x565a57=document['getElementById'](_0xb40954(0x269));if(_0x201904>0x64)_0x1166da[_0xb40954(0x16e)][_0xb40954(0x100)]=_0xb40954(0x243),_0x565a57['style'][_0xb40954(0x198)]='rgba(255,\x2069,\x2058,\x200.3)';else _0x201904>0x50?(_0x1166da[_0xb40954(0x16e)][_0xb40954(0x100)]=_0xb40954(0x1fe),_0x565a57[_0xb40954(0x16e)][_0xb40954(0x198)]='rgba(255,\x20159,\x2010,\x200.3)'):(_0x1166da[_0xb40954(0x16e)][_0xb40954(0x100)]=_0xb40954(0x113),_0x565a57[_0xb40954(0x16e)][_0xb40954(0x198)]=_0xb40954(0x200));const _0xa56c84=document[_0xb40954(0x154)](_0xb40954(0x250));_0xa56c84['innerHTML']='';_0x423d3f['length']===0x0?_0xa56c84[_0xb40954(0x1b0)]=_0xb40954(0x108):(_0x423d3f[_0xb40954(0x172)]((_0x273361,_0x5de87a)=>_0x273361[_0xb40954(0x20a)][_0xb40954(0x121)](_0x5de87a['start'])),_0x423d3f[_0xb40954(0x1da)](_0x3d317d=>{const _0x561021=_0xb40954,_0x19e48a=clients['find'](_0x3b2046=>_0x3b2046[_0x561021(0x170)]===_0x3d317d['client']),_0x40af22=_0x19e48a?_0x19e48a[_0x561021(0x100)]:'#fff',_0x2497c7=_0x3d317d[_0x561021(0x21a)]===_0x561021(0x1aa),_0x211904=_0x2497c7?'<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>':'',_0x284a13=document[_0x561021(0x193)]('div');_0x284a13['className']='de-item',_0x284a13[_0x561021(0x16e)][_0x561021(0x158)]=_0x40af22,_0x284a13[_0x561021(0x1b0)]=_0x561021(0x1b9)+_0x3d317d[_0x561021(0x20a)]+_0x561021(0x23a)+_0x3d317d[_0x561021(0x26e)]+_0x561021(0x237)+_0x3d317d['client']+_0x561021(0x21c)+_0x211904+_0x561021(0x1fa),_0xa56c84['appendChild'](_0x284a13);}));const _0x37b439=document[_0xb40954(0x154)](_0xb40954(0x103)),_0x3d235d=dateExceptions[_0x566ec5]===_0xb40954(0x144);_0x3d235d?(_0x37b439[_0xb40954(0x216)]='–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º',_0x37b439[_0xb40954(0x1f9)]=_0xb40954(0x17b),_0x37b439['style']['color']=_0xb40954(0x113),_0x37b439[_0xb40954(0x16e)][_0xb40954(0x23f)]=_0xb40954(0x210)):(_0x37b439[_0xb40954(0x216)]=_0xb40954(0x1e4),_0x37b439[_0xb40954(0x1f9)]=_0xb40954(0x1e5),_0x37b439[_0xb40954(0x16e)][_0xb40954(0x100)]='var(--acc-red)',_0x37b439['style'][_0xb40954(0x23f)]=_0xb40954(0x133)),openSheet(_0xb40954(0x240));}let currentAnPeriod=a2_0x4e05c4(0x196);function openAnalytics(){const _0x47b541=a2_0x4e05c4,_0x43316d=document[_0x47b541(0x1bd)](_0x47b541(0x13a));setAnalyticsPeriod(_0x47b541(0x196),_0x43316d),closeAllSheets(),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x3585cc,_0xabe008){const _0x567a51=a2_0x4e05c4;currentAnPeriod=_0x3585cc,document[_0x567a51(0x142)]('.period-switch\x20.p-btn')['forEach'](_0x7d0a44=>_0x7d0a44[_0x567a51(0x197)][_0x567a51(0x1dc)]('active'));if(_0xabe008)_0xabe008[_0x567a51(0x197)][_0x567a51(0x27f)](_0x567a51(0x257));const _0x3908b4=document[_0x567a51(0x154)](_0x567a51(0x161));_0x3908b4[_0x567a51(0x16e)]['display']=_0x3585cc==='custom'?_0x567a51(0x150):'none';const _0x1e7009=new Date();let _0x571216=new Date(),_0x2b6420=new Date();if(_0x3585cc===_0x567a51(0x196))_0x571216=getStartOfWeek(_0x1e7009),_0x2b6420=new Date(_0x571216),_0x2b6420[_0x567a51(0x111)](_0x2b6420['getDate']()+0x6);else{if(_0x3585cc===_0x567a51(0x1d6))_0x571216=new Date(_0x1e7009[_0x567a51(0x14f)](),_0x1e7009[_0x567a51(0x206)](),0x1),_0x2b6420=new Date(_0x1e7009[_0x567a51(0x14f)](),_0x1e7009[_0x567a51(0x206)]()+0x1,0x0);else{!document['getElementById'](_0x567a51(0x1d3))[_0x567a51(0x1a2)]&&(document['getElementById'](_0x567a51(0x1d3))[_0x567a51(0x1a2)]=getLocalDateStr(_0x1e7009),document[_0x567a51(0x154)](_0x567a51(0x23c))[_0x567a51(0x1a2)]=getLocalDateStr(_0x1e7009));refreshAnalytics();return;}}document[_0x567a51(0x154)](_0x567a51(0x1d3))['value']=getLocalDateStr(_0x571216),document[_0x567a51(0x154)](_0x567a51(0x23c))[_0x567a51(0x1a2)]=getLocalDateStr(_0x2b6420),refreshAnalytics();}function refreshAnalytics(){const _0xa3f0d=a2_0x4e05c4,_0xf8048f=document[_0xa3f0d(0x154)](_0xa3f0d(0x1d3))[_0xa3f0d(0x1a2)],_0x631aaa=document[_0xa3f0d(0x154)](_0xa3f0d(0x23c))[_0xa3f0d(0x1a2)];if(!_0xf8048f||!_0x631aaa)return;const _0x315b7d=sessions[_0xa3f0d(0x148)](_0x3a40a6=>_0x3a40a6[_0xa3f0d(0x17a)]>=_0xf8048f&&_0x3a40a6['dateStr']<=_0x631aaa&&_0x3a40a6[_0xa3f0d(0x21a)]!==_0xa3f0d(0x263)),_0xced9ae=_0x315b7d[_0xa3f0d(0x26b)],_0x2a5d09=_0x315b7d['filter'](_0x1f3bb9=>_0x1f3bb9['status']===_0xa3f0d(0x1aa))[_0xa3f0d(0x26b)],_0xd2fb26=_0xced9ae>0x0?Math['round'](_0x2a5d09/_0xced9ae*0x64):0x0;document['getElementById'](_0xa3f0d(0x26f))['textContent']=_0xd2fb26+'%',document['getElementById'](_0xa3f0d(0x276))[_0xa3f0d(0x216)]=_0x2a5d09+'\x20–∏–∑\x20'+_0xced9ae+_0xa3f0d(0x1f7);const _0x1d1100=document[_0xa3f0d(0x154)](_0xa3f0d(0x1a8)),_0x35fbc1=0x2*Math['PI']*0x23,_0x5c1174=_0x35fbc1-_0xd2fb26/0x64*_0x35fbc1;_0x1d1100['style'][_0xa3f0d(0x104)]=_0x5c1174;const _0x17d8f8={};_0x315b7d[_0xa3f0d(0x1da)](_0x47d5a4=>{const _0x5aa5d5=_0xa3f0d;if(!_0x17d8f8[_0x47d5a4[_0x5aa5d5(0x15f)]]){const _0x25ed24=clients[_0x5aa5d5(0x125)](_0x309260=>_0x309260[_0x5aa5d5(0x170)]===_0x47d5a4[_0x5aa5d5(0x15f)]);_0x17d8f8[_0x47d5a4[_0x5aa5d5(0x15f)]]={'total':0x0,'done':0x0,'color':_0x25ed24?_0x25ed24['color']:_0x5aa5d5(0x1c8)};}_0x17d8f8[_0x47d5a4[_0x5aa5d5(0x15f)]][_0x5aa5d5(0x12e)]++;if(_0x47d5a4['status']===_0x5aa5d5(0x1aa))_0x17d8f8[_0x47d5a4[_0x5aa5d5(0x15f)]]['done']++;});const _0x3fca01=document[_0xa3f0d(0x154)](_0xa3f0d(0x279));_0x3fca01['innerHTML']='';const _0x3dec99=Object[_0xa3f0d(0x225)](_0x17d8f8)[_0xa3f0d(0x172)]((_0x14b31e,_0x2e045d)=>_0x2e045d[0x1][_0xa3f0d(0x12e)]-_0x14b31e[0x1][_0xa3f0d(0x12e)]);if(_0x3dec99[_0xa3f0d(0x26b)]===0x0){_0x3fca01['innerHTML']='<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>';return;}_0x3dec99[_0xa3f0d(0x1da)](([_0x6367c,_0x5be81e])=>{const _0x40f6b0=_0xa3f0d,_0x157f5a=Math['round'](_0x5be81e[_0x40f6b0(0x282)]/_0x5be81e[_0x40f6b0(0x12e)]*0x64),_0x47507b=document[_0x40f6b0(0x193)](_0x40f6b0(0x22a));_0x47507b['className']=_0x40f6b0(0x146),_0x47507b[_0x40f6b0(0x16e)][_0x40f6b0(0x158)]=_0x5be81e[_0x40f6b0(0x100)],_0x47507b[_0x40f6b0(0x1b0)]=_0x40f6b0(0x223)+_0x6367c+_0x40f6b0(0x1c3)+_0x5be81e[_0x40f6b0(0x282)]+_0x40f6b0(0x145)+_0x5be81e[_0x40f6b0(0x12e)]+_0x40f6b0(0x203)+_0x157f5a+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x3fca01[_0x40f6b0(0x17d)](_0x47507b);});}function formatMinsToHrs(_0x1cdc23){const _0x1b699c=a2_0x4e05c4;if(_0x1cdc23===0x0)return'0';const _0x417163=Math[_0x1b699c(0x1ea)](_0x1cdc23/0x3c),_0x3d360b=_0x1cdc23%0x3c;if(_0x3d360b===0x0)return _0x417163+'—á';return _0x417163+'—á\x20'+_0x3d360b+'–º';}