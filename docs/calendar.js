const a2_0x189b91=a2_0x428e;(function(_0x5e3453,_0x1a0a33){const _0x21f8cc=a2_0x428e,_0x318a68=_0x5e3453();while(!![]){try{const _0x517cee=parseInt(_0x21f8cc(0x2d9))/0x1*(parseInt(_0x21f8cc(0x19e))/0x2)+-parseInt(_0x21f8cc(0x1c2))/0x3*(-parseInt(_0x21f8cc(0x2d5))/0x4)+-parseInt(_0x21f8cc(0x243))/0x5+-parseInt(_0x21f8cc(0x222))/0x6*(-parseInt(_0x21f8cc(0x27e))/0x7)+parseInt(_0x21f8cc(0x281))/0x8*(-parseInt(_0x21f8cc(0x1b2))/0x9)+parseInt(_0x21f8cc(0x1b0))/0xa+parseInt(_0x21f8cc(0x2c8))/0xb*(parseInt(_0x21f8cc(0x266))/0xc);if(_0x517cee===_0x1a0a33)break;else _0x318a68['push'](_0x318a68['shift']());}catch(_0x561ad5){_0x318a68['push'](_0x318a68['shift']());}}}(a2_0x9795,0x7fe2c),function initTMA(){const _0x5735d7=a2_0x428e,_0x465f5a=(function(){let _0x404582=!![];return function(_0x2c14ea,_0x455710){const _0x27047b=_0x404582?function(){if(_0x455710){const _0x556337=_0x455710['apply'](_0x2c14ea,arguments);return _0x455710=null,_0x556337;}}:function(){};return _0x404582=![],_0x27047b;};}()),_0xd9bc7b=_0x465f5a(this,function(){const _0x20c00e=a2_0x428e;return _0xd9bc7b[_0x20c00e(0x261)]()[_0x20c00e(0x2bb)](_0x20c00e(0x187))[_0x20c00e(0x261)]()[_0x20c00e(0x217)](_0xd9bc7b)['search'](_0x20c00e(0x187));});_0xd9bc7b();try{const _0x1d500f=window[_0x5735d7(0x182)]?.['WebApp'];if(!_0x1d500f)return;_0x1d500f[_0x5735d7(0x21d)](),_0x1d500f[_0x5735d7(0x258)]();try{_0x1d500f[_0x5735d7(0x282)](_0x5735d7(0x184)),_0x1d500f['setBackgroundColor']&&_0x1d500f[_0x5735d7(0x1f1)](_0x5735d7(0x184));}catch(_0x46b2ce){console[_0x5735d7(0x186)](_0x5735d7(0x2e4),_0x46b2ce);}try{_0x1d500f[_0x5735d7(0x1a2)]&&(_0x1d500f['BackButton']['show'](),_0x1d500f['BackButton'][_0x5735d7(0x2b6)](),_0x1d500f['BackButton'][_0x5735d7(0x1db)](function(){const _0x1ee83b=_0x5735d7;window[_0x1ee83b(0x247)]['href']=_0x1ee83b(0x1aa);}));}catch(_0x1c5dc2){console['log'](_0x5735d7(0x2c1),_0x1c5dc2);}try{if(_0x1d500f[_0x5735d7(0x269)])_0x1d500f[_0x5735d7(0x269)]();}catch(_0x58ba3b){}}catch(_0x5145c3){console[_0x5735d7(0x18e)]('Critical\x20TMA\x20Error:',_0x5145c3);}}());function isAdmin(){const _0x4802ad=a2_0x428e;try{const _0x391ef1=Number(window[_0x4802ad(0x182)]?.[_0x4802ad(0x2ff)]?.[_0x4802ad(0x288)]?.[_0x4802ad(0x200)]?.['id']);return _0x391ef1===0xbaf7174;}catch(_0x5e8371){return![];}}function a2_0x428e(_0x4d59d9,_0x19c84d){_0x4d59d9=_0x4d59d9-0x17c;const _0x1dc193=a2_0x9795();let _0x1d45eb=_0x1dc193[_0x4d59d9];return _0x1d45eb;}const APP_VERSION=a2_0x189b91(0x1c9),API_URL=a2_0x189b91(0x259),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS='uc_clients_v9',KEY_SESSIONS=a2_0x189b91(0x1d7),KEY_SETTINGS=a2_0x189b91(0x2fc);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0xa01545=a2_0x189b91;return window[_0xa01545(0x182)]?.[_0xa01545(0x2ff)]?.[_0xa01545(0x288)]?.['user']?.['id']||_0xa01545(0x29c);},'saveLocally'(){const _0x530de5=a2_0x189b91;try{localStorage['setItem'](KEY_CLIENTS,JSON['stringify'](clients)),localStorage[_0x530de5(0x22d)](KEY_SESSIONS,JSON['stringify'](sessions)),localStorage[_0x530de5(0x22d)](KEY_SETTINGS,JSON[_0x530de5(0x1f6)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0xce86a0){console[_0x530de5(0x18e)]('Local\x20Save\x20Error',_0xce86a0);}},'loadLocal'(){const _0x23c2e8=a2_0x189b91;try{const _0x3a1af2=localStorage[_0x23c2e8(0x1a7)](KEY_CLIENTS);if(_0x3a1af2)clients=JSON['parse'](_0x3a1af2);const _0x2cd84f=localStorage[_0x23c2e8(0x1a7)](KEY_SESSIONS);if(_0x2cd84f)sessions=JSON[_0x23c2e8(0x285)](_0x2cd84f);const _0x47b61a=localStorage[_0x23c2e8(0x1a7)](KEY_SETTINGS);if(_0x47b61a){const _0x1138a7=JSON[_0x23c2e8(0x285)](_0x47b61a);if(_0x1138a7[_0x23c2e8(0x289)])availabilityPattern=_0x1138a7[_0x23c2e8(0x289)];if(_0x1138a7['exceptions'])dateExceptions=_0x1138a7['exceptions'];if(_0x1138a7[_0x23c2e8(0x1a8)])specialRanges=_0x1138a7[_0x23c2e8(0x1a8)];}else{for(let _0x3bed48=0x0;_0x3bed48<0x7;_0x3bed48++)availabilityPattern[_0x3bed48]=Array['from']({'length':0xc},(_0x2e2c92,_0x53a3a2)=>_0x53a3a2+0x9);}}catch(_0x22729b){console[_0x23c2e8(0x18e)](_0x23c2e8(0x238),_0x22729b);}},async 'fetchFromServer'(_0x252c35,_0x44562f={}){const _0x136e89=a2_0x189b91,_0x45079b=window[_0x136e89(0x182)]?.[_0x136e89(0x2ff)],_0x263184={'action':_0x252c35,'init_data':_0x45079b?.[_0x136e89(0x27b)]||'',..._0x44562f};try{const _0xd8996e=await fetch(API_URL,{'method':'POST','headers':{'Content-Type':_0x136e89(0x22f)},'body':JSON[_0x136e89(0x1f6)](_0x263184)}),_0x30f7f6=await _0xd8996e[_0x136e89(0x1c0)]();if(!_0x30f7f6['ok'])throw new Error(_0x30f7f6[_0x136e89(0x18e)]||_0x136e89(0x2d3));return _0x30f7f6[_0x136e89(0x208)];}catch(_0x1b6c6b){console[_0x136e89(0x18e)](_0x136e89(0x1e6)+_0x252c35+']\x20Failed:',_0x1b6c6b);throw _0x1b6c6b;}},async 'syncLoad'(){const _0x1e8d1e=a2_0x189b91,_0x27ec4b=new Date(),_0x59d78f=_0x27ec4b['getFullYear']()+'-'+String(_0x27ec4b['getMonth']()+0x1)[_0x1e8d1e(0x1cb)](0x2,'0'),_0x5a66c0=new Date(_0x27ec4b);_0x5a66c0[_0x1e8d1e(0x2b2)](_0x27ec4b[_0x1e8d1e(0x24c)]()+0x1);const _0x5ea0c3=_0x5a66c0[_0x1e8d1e(0x1fb)]()+'-'+String(_0x5a66c0[_0x1e8d1e(0x24c)]()+0x1)['padStart'](0x2,'0'),_0x4e7c85=Date[_0x1e8d1e(0x19d)]();console[_0x1e8d1e(0x186)](_0x1e8d1e(0x264)+_0x59d78f+',\x20'+_0x5ea0c3+_0x1e8d1e(0x1e7));try{const [_0x63ad74,_0x2b1653]=await Promise[_0x1e8d1e(0x253)]([this[_0x1e8d1e(0x202)](_0x1e8d1e(0x28b),{'month_str':_0x59d78f}),this[_0x1e8d1e(0x202)](_0x1e8d1e(0x28b),{'month_str':_0x5ea0c3})]);if(lastUserActionTime>_0x4e7c85)return console['warn'](_0x1e8d1e(0x262)),![];return this['mergeServerData'](_0x63ad74,_0x59d78f),this[_0x1e8d1e(0x300)](_0x2b1653,_0x5ea0c3),this['saveLocally'](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x23b528){console[_0x1e8d1e(0x18e)](_0x23b528);throw _0x23b528;}},'mergeServerData'(_0x3eef8c,_0xdc6ab3){const _0x28c508=a2_0x189b91;if(!_0x3eef8c)return;_0x3eef8c[_0x28c508(0x26a)]&&Array[_0x28c508(0x18b)](_0x3eef8c[_0x28c508(0x26a)])&&(clients=_0x3eef8c[_0x28c508(0x26a)]);if(_0x3eef8c[_0x28c508(0x209)]){if(_0x3eef8c[_0x28c508(0x209)][_0x28c508(0x289)])availabilityPattern=_0x3eef8c[_0x28c508(0x209)][_0x28c508(0x289)];if(_0x3eef8c[_0x28c508(0x209)]['exceptions'])dateExceptions=_0x3eef8c['settings']['exceptions'];if(_0x3eef8c[_0x28c508(0x209)]['ranges'])specialRanges=_0x3eef8c['settings'][_0x28c508(0x1a8)];if(_0x3eef8c['settings'][_0x28c508(0x2ea)]){localStorage[_0x28c508(0x22d)](_0x28c508(0x25b),_0x3eef8c[_0x28c508(0x209)][_0x28c508(0x2ea)]);const _0xb1d1ef=document['getElementById'](_0x28c508(0x1d3));if(_0xb1d1ef)_0xb1d1ef[_0x28c508(0x20b)]=_0x3eef8c[_0x28c508(0x209)][_0x28c508(0x2ea)];}}_0x3eef8c[_0x28c508(0x1b4)]&&(sessions=sessions[_0x28c508(0x1c5)](_0x3c7d42=>!_0x3c7d42['dateStr'][_0x28c508(0x1e2)](_0xdc6ab3)),Object[_0x28c508(0x2b5)](_0x3eef8c['calendar'])[_0x28c508(0x1df)](_0x5542c5=>{const _0x1966bb=_0x3eef8c['calendar'][_0x5542c5];_0x1966bb['forEach'](_0x3ddadd=>{const _0x30d028=a2_0x428e,_0x4d6540=clients[_0x30d028(0x2b3)](_0x4715ca=>String(_0x4715ca['id'])===String(_0x3ddadd['c']));sessions[_0x30d028(0x28e)]({'id':_0x3ddadd['i'],'clientId':_0x3ddadd['c'],'client':_0x4d6540?_0x4d6540[_0x30d028(0x1a5)]:_0x30d028(0x1cc),'dateStr':_0xdc6ab3+'-'+_0x5542c5['padStart'](0x2,'0'),'start':_0x3ddadd['s'],'end':_0x3ddadd['e'],'status':_0x3ddadd['st']||_0x30d028(0x2a2),'note':_0x3ddadd['n']||'','seriesId':_0x3ddadd[_0x30d028(0x1fc)]||null});});}));},async 'syncBatch'(_0x2b9644){const _0x315986=a2_0x189b91,_0x278da7=[...new Set(_0x2b9644)],_0x40de6c=_0x278da7[_0x315986(0x185)](_0x26d793=>{const _0x12b16e=_0x315986,_0x100927=sessions[_0x12b16e(0x1c5)](_0x19f9db=>_0x19f9db[_0x12b16e(0x2ce)]===_0x26d793&&_0x19f9db[_0x12b16e(0x293)]!==_0x12b16e(0x22e)),_0x39d1f3=_0x100927[_0x12b16e(0x185)](_0x2a039e=>({'i':_0x2a039e['id'],'c':_0x2a039e[_0x12b16e(0x1fa)],'s':_0x2a039e['start'],'e':_0x2a039e[_0x12b16e(0x210)],'st':_0x2a039e[_0x12b16e(0x293)],'n':_0x2a039e[_0x12b16e(0x1a1)],'sid':_0x2a039e['seriesId']}));return{'date':_0x26d793,'day_data':_0x39d1f3};});if(_0x40de6c['length']===0x0)return;console['log'](_0x315986(0x284)+_0x40de6c[_0x315986(0x21c)]+_0x315986(0x2a9)),await this['fetchFromServer'](_0x315986(0x2f2),{'changes':_0x40de6c});}};async function init(){const _0x529891=a2_0x189b91;DataManager['loadLocal'](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById'](_0x529891(0x2f3))[_0x529891(0x1de)]('scroll',()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x529891(0x283)]()[_0x529891(0x231)](()=>{const _0xc877ee=_0x529891;showToast(_0xc877ee(0x2ca),!![]);})[_0x529891(0x2da)](_0x5c5be9=>{const _0x1b82cd=_0x529891;showToast(_0x1b82cd(0x214),![]);});}function generateId(){const _0x555379=a2_0x189b91;return Date[_0x555379(0x19d)]()[_0x555379(0x261)](0x24)+Math[_0x555379(0x2b1)]()['toString'](0x24)[_0x555379(0x1bb)](0x2,0x5);}function toggleSeriesInput(){const _0x40e25f=a2_0x189b91,_0x2c7854=document[_0x40e25f(0x2e2)](_0x40e25f(0x206))['checked'],_0x541318=document['getElementById'](_0x40e25f(0x225));_0x541318['style'][_0x40e25f(0x1cd)]=_0x2c7854?_0x40e25f(0x2c9):'none';const _0x290cd6=document['getElementById'](_0x40e25f(0x249));_0x290cd6[_0x40e25f(0x298)][_0x40e25f(0x305)]=_0x2c7854?'10px\x2010px\x200\x200':_0x40e25f(0x24d);}function openAddSession(_0x2d1e02){const _0x3a6913=a2_0x189b91;editingId=null,populateClientSelect(),document[_0x3a6913(0x2e2)](_0x3a6913(0x196))[_0x3a6913(0x1d5)]='–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å',document[_0x3a6913(0x2e2)](_0x3a6913(0x1b3))[_0x3a6913(0x298)][_0x3a6913(0x1cd)]=_0x3a6913(0x1be),document[_0x3a6913(0x2e2)](_0x3a6913(0x271))[_0x3a6913(0x298)]['display']=_0x3a6913(0x1be);const _0x2502b9=document[_0x3a6913(0x2e2)]('recurringOptionContainer'),_0x229890=document[_0x3a6913(0x2e2)](_0x3a6913(0x225));_0x2502b9[_0x3a6913(0x298)]['display']=_0x3a6913(0x2e8),_0x2502b9[_0x3a6913(0x298)]['borderRadius']=_0x3a6913(0x24d),document[_0x3a6913(0x2e2)](_0x3a6913(0x206))[_0x3a6913(0x207)]=![],document[_0x3a6913(0x2e2)](_0x3a6913(0x301))[_0x3a6913(0x20b)]=0x4,_0x229890['style'][_0x3a6913(0x1cd)]=_0x3a6913(0x1be),document['getElementById']('inpDate')['value']=getLocalDateStr(_0x2d1e02),updateDateDisplay();const _0x5adce9=_0x2d1e02[_0x3a6913(0x2ed)]();document['getElementById']('inpStart')[_0x3a6913(0x20b)]=String(_0x5adce9)[_0x3a6913(0x1cb)](0x2,'0')+_0x3a6913(0x242),document['getElementById'](_0x3a6913(0x188))[_0x3a6913(0x20b)]=String(_0x5adce9+0x1)[_0x3a6913(0x1cb)](0x2,'0')+_0x3a6913(0x242),openSheet(_0x3a6913(0x199));}function openEdit(_0x10434f){const _0x4903e6=a2_0x189b91;editingId=_0x10434f['id'],populateClientSelect(),document[_0x4903e6(0x2e2)](_0x4903e6(0x196))[_0x4903e6(0x1d5)]='–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å',document[_0x4903e6(0x2e2)](_0x4903e6(0x1b3))[_0x4903e6(0x298)][_0x4903e6(0x1cd)]='block';const _0x22cd04=document[_0x4903e6(0x2e2)](_0x4903e6(0x271));_0x22cd04[_0x4903e6(0x298)][_0x4903e6(0x1cd)]=_0x4903e6(0x2e8);_0x10434f[_0x4903e6(0x293)]===_0x4903e6(0x220)?(_0x22cd04[_0x4903e6(0x256)]=_0x4903e6(0x181),_0x22cd04[_0x4903e6(0x2dc)]=_0x4903e6(0x2d7)):(_0x22cd04['className']=_0x4903e6(0x1e4),_0x22cd04['innerHTML']=_0x4903e6(0x1f0));const _0x2bd8a0=!!_0x10434f[_0x4903e6(0x2cc)];document[_0x4903e6(0x2e2)]('recurringOptionContainer')[_0x4903e6(0x298)][_0x4903e6(0x1cd)]=_0x4903e6(0x1be),document[_0x4903e6(0x2e2)](_0x4903e6(0x225))[_0x4903e6(0x298)]['display']=_0x4903e6(0x1be),_0x2bd8a0?(document['getElementById'](_0x4903e6(0x2fa))[_0x4903e6(0x298)][_0x4903e6(0x1cd)]='flex',document[_0x4903e6(0x2e2)]('patternInfoBox')[_0x4903e6(0x2e3)](_0x4903e6(0x1d0))[_0x4903e6(0x1d5)]=_0x4903e6(0x2f9)):document[_0x4903e6(0x2e2)](_0x4903e6(0x2fa))[_0x4903e6(0x298)][_0x4903e6(0x1cd)]=_0x4903e6(0x1be),document['getElementById']('inpClient')[_0x4903e6(0x20b)]=_0x10434f[_0x4903e6(0x1ee)],document[_0x4903e6(0x2e2)](_0x4903e6(0x203))[_0x4903e6(0x20b)]=_0x10434f[_0x4903e6(0x2ce)],document[_0x4903e6(0x2e2)]('inpStart')[_0x4903e6(0x20b)]=_0x10434f[_0x4903e6(0x2c4)],document['getElementById'](_0x4903e6(0x188))[_0x4903e6(0x20b)]=_0x10434f[_0x4903e6(0x210)],document[_0x4903e6(0x2e2)](_0x4903e6(0x1bc))[_0x4903e6(0x20b)]=_0x10434f[_0x4903e6(0x1a1)]||'',updateDateDisplay(),openSheet('sessionSheet');}async function trySaveSession(){const _0x309cde=a2_0x189b91,_0x273806=document[_0x309cde(0x2e2)]('inpClient')[_0x309cde(0x20b)],_0xffabc0=document[_0x309cde(0x2e2)]('inpDate')[_0x309cde(0x20b)],_0x581c5f=document['getElementById']('inpStart')[_0x309cde(0x20b)],_0x1fe2c9=document['getElementById'](_0x309cde(0x188))[_0x309cde(0x20b)],_0x4d5a7c=document['getElementById'](_0x309cde(0x1bc))[_0x309cde(0x20b)],_0x58aad2=document[_0x309cde(0x2e2)](_0x309cde(0x206))[_0x309cde(0x207)];let _0x5b65d5=0x4;if(_0x58aad2){const _0x357836=parseInt(document[_0x309cde(0x2e2)](_0x309cde(0x301))[_0x309cde(0x20b)]);if(!_0x357836||_0x357836<0x2){showToast(_0x309cde(0x1dd),![]);return;}if(_0x357836>0x64){showToast('–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑',![]);return;}_0x5b65d5=_0x357836;}const _0x4765b7=clients['find'](_0x2314a0=>_0x2314a0['name']===_0x273806);if(!_0x4765b7){showToast(_0x309cde(0x19f),![]);return;}const _0x2b7a09=validateAppointment(_0xffabc0,_0x581c5f,_0x1fe2c9,editingId,_0x4765b7['id']);if(!_0x2b7a09[_0x309cde(0x1c7)]){showToast(_0x2b7a09[_0x309cde(0x2df)],![]);return;}_0x2b7a09[_0x309cde(0x29d)]&&showToast(_0x2b7a09[_0x309cde(0x29d)],![]);const _0x36ac0c={'client':_0x273806,'clientId':_0x4765b7['id'],'start':_0x581c5f,'end':_0x1fe2c9,'note':_0x4d5a7c,'status':_0x309cde(0x2a2)},_0x42197a=editingId?sessions['find'](_0x50326b=>_0x50326b['id']===editingId):null;if(_0x42197a&&_0x42197a[_0x309cde(0x2cc)]){tempSessionData={..._0x36ac0c,'dateStr':_0xffabc0,'id':editingId,'seriesId':_0x42197a[_0x309cde(0x2cc)]},openActionSheet(_0x309cde(0x24b));return;}let _0x30574c=null;if(!editingId)_0x30574c=_0x309cde(0x2f5);else{if(_0x42197a){if(String(_0x42197a[_0x309cde(0x1fa)])!==String(_0x4765b7['id']))console[_0x309cde(0x186)](_0x309cde(0x2a6)),NotificationManager[_0x309cde(0x2ec)](_0x309cde(0x2d4),_0x42197a),_0x30574c=_0x309cde(0x2f5);else(_0x42197a['start']!==_0x581c5f||_0x42197a[_0x309cde(0x210)]!==_0x1fe2c9||_0x42197a[_0x309cde(0x2ce)]!==_0xffabc0)&&(_0x30574c=_0x309cde(0x198));}}if(!editingId&&_0x58aad2){createBatchSeries(_0x36ac0c,_0xffabc0,_0x5b65d5),NotificationManager['send'](_0x309cde(0x2f5),{..._0x36ac0c,'dateStr':_0xffabc0});return;}lastUserActionTime=Date[_0x309cde(0x19d)]();const _0x23188f={..._0x36ac0c,'dateStr':_0xffabc0,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x23188f),_0x30574c&&NotificationManager[_0x309cde(0x2ec)](_0x30574c,_0x23188f);}function toggleSessionStatus(){const _0xd0239d=a2_0x189b91;lastUserActionTime=Date[_0xd0239d(0x19d)]();const _0x526b7e=sessions[_0xd0239d(0x2b3)](_0x210424=>_0x210424['id']===editingId);if(!_0x526b7e)return;const _0x548161=_0x526b7e[_0xd0239d(0x293)]===_0xd0239d(0x220)?_0xd0239d(0x2a2):'completed';_0x526b7e[_0xd0239d(0x293)]=_0x548161,saveSingleSession(_0x526b7e),_0x548161===_0xd0239d(0x220)&&NotificationManager[_0xd0239d(0x2ec)](_0xd0239d(0x26b),_0x526b7e),showToast(_0x548161===_0xd0239d(0x220)?_0xd0239d(0x2c7):_0xd0239d(0x2fd),!![]);}function validateAppointment(_0xd2aaa2,_0x5f0e1b,_0x1385b7,_0x38ff9d,_0xea2db0){const _0x2fd9ec=a2_0x189b91,[_0x237d1a,_0x6105ff]=_0x5f0e1b[_0x2fd9ec(0x20a)](':')[_0x2fd9ec(0x185)](Number),[_0x30a8aa,_0x239b07]=_0x1385b7['split'](':')[_0x2fd9ec(0x185)](Number),_0x443071=_0x237d1a*0x3c+_0x6105ff,_0x17dc6a=_0x30a8aa*0x3c+_0x239b07,_0x3f7dcf=String(_0xea2db0);let _0x114d8a=![],_0x39e57b='';for(let _0x39d39a of sessions){if(_0x39d39a[_0x2fd9ec(0x2ce)]!==_0xd2aaa2)continue;if(_0x39d39a[_0x2fd9ec(0x293)]===_0x2fd9ec(0x267))continue;if(_0x38ff9d&&String(_0x39d39a['id'])===String(_0x38ff9d))continue;const [_0x378db7,_0xe9f512]=_0x39d39a[_0x2fd9ec(0x2c4)]['split'](':')[_0x2fd9ec(0x185)](Number),[_0x2e2e7e,_0x257470]=_0x39d39a[_0x2fd9ec(0x210)][_0x2fd9ec(0x20a)](':')[_0x2fd9ec(0x185)](Number),_0x46622a=_0x378db7*0x3c+_0xe9f512,_0x2376fd=_0x2e2e7e*0x3c+_0x257470;if(Math['max'](_0x443071,_0x46622a)<Math[_0x2fd9ec(0x20d)](_0x17dc6a,_0x2376fd)){if(_0x39d39a[_0x2fd9ec(0x1fa)]&&String(_0x39d39a[_0x2fd9ec(0x1fa)])===_0x3f7dcf)return{'valid':![],'msg':_0x2fd9ec(0x2ef)+_0x39d39a[_0x2fd9ec(0x1ee)]+_0x2fd9ec(0x1da)};_0x114d8a=!![],_0x39e57b=_0x39d39a['client'];}}if(_0x114d8a)return{'valid':!![],'warning':_0x2fd9ec(0x248)+_0x39e57b};return{'valid':!![]};}function saveSingleSession(_0x3ea139){const _0x573982=a2_0x189b91;if(editingId){const _0x407fb8=sessions[_0x573982(0x2dd)](_0x4e68b8=>_0x4e68b8['id']===editingId);if(_0x407fb8!==-0x1)sessions[_0x407fb8]=_0x3ea139;}else sessions[_0x573982(0x28e)](_0x3ea139);afterSaveAction([_0x3ea139[_0x573982(0x2ce)]]);}function createBatchSeries(_0x1f634f,_0x1ebb04,_0x17e58e){const _0xe91600=a2_0x189b91,_0x11d921=generateId(),_0x129e81=[],_0x29c4ff=[];let _0x240980=0x0,_0x312d50=new Date(_0x1ebb04);for(let _0x55c8c5=0x0;_0x55c8c5<_0x17e58e;_0x55c8c5++){const _0x4e5d6d=getLocalDateStr(_0x312d50),_0x3a394b=validateAppointment(_0x4e5d6d,_0x1f634f[_0xe91600(0x2c4)],_0x1f634f[_0xe91600(0x210)],null,_0x1f634f[_0xe91600(0x1fa)]);if(!_0x3a394b['valid'])console['log']('[Series]\x20Skipped\x20'+_0x4e5d6d+_0xe91600(0x23c)),_0x240980++;else{const _0x1e3017={..._0x1f634f,'id':generateId(),'dateStr':_0x4e5d6d,'seriesId':_0x11d921};_0x29c4ff[_0xe91600(0x28e)](_0x1e3017),_0x129e81['push'](_0x4e5d6d);}_0x312d50[_0xe91600(0x204)](_0x312d50[_0xe91600(0x2bd)]()+0x7);}if(_0x29c4ff[_0xe91600(0x21c)]===0x0){showToast(_0xe91600(0x1a4),![]);return;}sessions[_0xe91600(0x28e)](..._0x29c4ff),lastUserActionTime=Date['now']();let _0x4fea31=_0xe91600(0x192)+_0x29c4ff[_0xe91600(0x21c)];_0x240980>0x0&&(_0x4fea31+=_0xe91600(0x276)+_0x240980+')'),showToast(_0x4fea31,!![]),afterSaveAction(_0x129e81);}function updateSeriesBatch(_0x429553,_0x4f61fc){const _0x2a67b3=a2_0x189b91,_0x46c2ef=[],_0x556905=_0x4f61fc[_0x2a67b3(0x2cc)];if(_0x429553===_0x2a67b3(0x29e)){const _0x5d23eb={..._0x4f61fc,'seriesId':null},_0x5eece3=sessions[_0x2a67b3(0x2dd)](_0x2a04d3=>_0x2a04d3['id']===_0x4f61fc['id']);if(_0x5eece3!==-0x1)sessions[_0x5eece3]=_0x5d23eb;_0x46c2ef[_0x2a67b3(0x28e)](_0x5d23eb[_0x2a67b3(0x2ce)]);}else{if(_0x429553==='series'){const _0x2853fc=_0x4f61fc[_0x2a67b3(0x2ce)];sessions[_0x2a67b3(0x1df)]((_0x1e8c18,_0x3f3136)=>{const _0x3acaf1=_0x2a67b3;_0x1e8c18[_0x3acaf1(0x2cc)]===_0x556905&&_0x1e8c18['dateStr']>=_0x2853fc&&(sessions[_0x3f3136]={...sessions[_0x3f3136],'start':_0x4f61fc['start'],'end':_0x4f61fc[_0x3acaf1(0x210)],'note':_0x4f61fc['note'],'client':_0x4f61fc['client'],'clientId':_0x4f61fc[_0x3acaf1(0x1fa)]},_0x46c2ef[_0x3acaf1(0x28e)](_0x1e8c18[_0x3acaf1(0x2ce)]));});}}afterSaveAction(_0x46c2ef);}function tryDeleteSession(){const _0x24ce93=a2_0x189b91,_0x4daff6=sessions[_0x24ce93(0x2b3)](_0x4cbf18=>_0x4cbf18['id']===editingId);if(!_0x4daff6)return;_0x4daff6[_0x24ce93(0x2cc)]?openActionSheet('delete'):commitDelete(_0x24ce93(0x29e),_0x4daff6);}function commitDelete(_0x15a1a2,_0x57fe81){const _0x8a57f4=a2_0x189b91;lastUserActionTime=Date[_0x8a57f4(0x19d)](),NotificationManager[_0x8a57f4(0x2ec)]('cancel',_0x57fe81);const _0x37386f=[];if(_0x15a1a2==='single')sessions=sessions[_0x8a57f4(0x1c5)](_0x421fc4=>_0x421fc4['id']!==_0x57fe81['id']),_0x37386f[_0x8a57f4(0x28e)](_0x57fe81[_0x8a57f4(0x2ce)]);else{if(_0x15a1a2===_0x8a57f4(0x299)){const _0x17dd75=_0x57fe81[_0x8a57f4(0x2ce)],_0x46c0a4=_0x57fe81[_0x8a57f4(0x2cc)];sessions[_0x8a57f4(0x1df)](_0x3f22aa=>{const _0x41f826=_0x8a57f4;_0x3f22aa['seriesId']===_0x46c0a4&&_0x3f22aa[_0x41f826(0x2ce)]>=_0x17dd75&&_0x37386f[_0x41f826(0x28e)](_0x3f22aa['dateStr']);}),sessions=sessions['filter'](_0x379c46=>!(_0x379c46[_0x8a57f4(0x2cc)]===_0x46c0a4&&_0x379c46[_0x8a57f4(0x2ce)]>=_0x17dd75));}}afterSaveAction(_0x37386f);}function afterSaveAction(_0x443c49){const _0x4c2b05=a2_0x189b91;DataManager['saveLocally'](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager['syncBatch'](_0x443c49)[_0x4c2b05(0x231)](()=>console['log']('Batch\x20Sync\x20OK'))[_0x4c2b05(0x2da)](_0x51e5db=>showToast(_0x4c2b05(0x275),![]));}const NotificationManager={'formatDate'(_0x19aea0){const _0x4bb8b5=a2_0x189b91,_0x2e13c2=new Date(_0x19aea0),_0x52c80b={'weekday':'long','day':_0x4bb8b5(0x1ae),'month':'long'};let _0x3892d9=_0x2e13c2['toLocaleDateString'](_0x4bb8b5(0x273),_0x52c80b);return _0x3892d9[_0x4bb8b5(0x180)](0x0)[_0x4bb8b5(0x286)]()+_0x3892d9[_0x4bb8b5(0x1ce)](0x1);},'getText'(_0x504778,_0x1247a0){const _0x28e8ae=a2_0x189b91,_0x5a4615=this[_0x28e8ae(0x212)](_0x1247a0[_0x28e8ae(0x2ce)]);switch(_0x504778){case'create':return _0x28e8ae(0x2a7)+(_0x28e8ae(0x190)+_0x5a4615+'\x0a')+(_0x28e8ae(0x22a)+_0x1247a0[_0x28e8ae(0x2c4)]+'\x20‚Äî\x20'+_0x1247a0[_0x28e8ae(0x210)]+'\x0a\x0a')+_0x28e8ae(0x2a3);case'update':return _0x28e8ae(0x191)+_0x28e8ae(0x2fe)+(_0x28e8ae(0x1fe)+_0x1247a0[_0x28e8ae(0x2c4)]+_0x28e8ae(0x2b8)+_0x1247a0[_0x28e8ae(0x210)]+_0x28e8ae(0x28f))+(_0x28e8ae(0x190)+_0x5a4615);case'cancel':return _0x28e8ae(0x2e6)+('–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>'+_0x5a4615+'\x20('+_0x1247a0[_0x28e8ae(0x2c4)]+_0x28e8ae(0x252));case _0x28e8ae(0x26b):return _0x28e8ae(0x1e5)+_0x28e8ae(0x2cb)+_0x28e8ae(0x205);default:return'';}},async 'send'(_0x16d18f,_0x1a986a){const _0x47a933=a2_0x189b91;console['log'](_0x47a933(0x1af),_0x16d18f,_0x1a986a);if(!_0x1a986a){console[_0x47a933(0x18e)](_0x47a933(0x254));return;}const _0x3f6b60=String(_0x1a986a[_0x47a933(0x1fa)]);console['log'](_0x47a933(0x270),_0x3f6b60);if(!_0x1a986a[_0x47a933(0x1fa)]||_0x3f6b60==='undefined'||_0x3f6b60===_0x47a933(0x21e)){console[_0x47a933(0x18e)](_0x47a933(0x19a));if(_0x1a986a['client']){const _0x4fa5aa=clients[_0x47a933(0x2b3)](_0x129f5c=>_0x129f5c['name']===_0x1a986a[_0x47a933(0x1ee)]);if(_0x4fa5aa)return console[_0x47a933(0x186)](_0x47a933(0x236),_0x4fa5aa['id']),this[_0x47a933(0x2ec)](_0x16d18f,{..._0x1a986a,'clientId':_0x4fa5aa['id']});}return;}if(_0x3f6b60[_0x47a933(0x21c)]<0x5){console[_0x47a933(0x211)]('[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)',_0x3f6b60);return;}const _0x4eb8b3=this[_0x47a933(0x1bf)](_0x16d18f,_0x1a986a);if(!_0x4eb8b3){console['error'](_0x47a933(0x2a4));return;}console[_0x47a933(0x186)]('[Notify]\x20Sending\x20to\x20GAS\x20for\x20'+_0x3f6b60+_0x47a933(0x1e7)),DataManager['fetchFromServer'](_0x47a933(0x307),{'chatId':_0x3f6b60,'text':_0x4eb8b3})['then'](_0x48d070=>console[_0x47a933(0x186)](_0x47a933(0x260),_0x48d070))[_0x47a933(0x2da)](_0x3294ad=>console[_0x47a933(0x18e)](_0x47a933(0x255),_0x3294ad));}};function getLocalDateStr(_0x4cfaa7){const _0x571816=a2_0x189b91,_0x554f7f=_0x4cfaa7[_0x571816(0x1fb)](),_0x1dcc26=String(_0x4cfaa7[_0x571816(0x24c)]()+0x1)[_0x571816(0x1cb)](0x2,'0'),_0x572656=String(_0x4cfaa7['getDate']())['padStart'](0x2,'0');return _0x554f7f+'-'+_0x1dcc26+'-'+_0x572656;}function getDateStr(_0x4eec18){const _0x3d3909=a2_0x189b91,_0x42a324=new Date();return _0x42a324[_0x3d3909(0x204)](_0x42a324[_0x3d3909(0x2bd)]()+_0x4eec18),getLocalDateStr(_0x42a324);}function getStartOfWeek(_0xc14ccc){const _0x3c3f2b=a2_0x189b91,_0x51740a=new Date(_0xc14ccc),_0x3f62e2=_0x51740a[_0x3c3f2b(0x2b4)](),_0x2181ba=_0x51740a['getDate']()-_0x3f62e2+(_0x3f62e2===0x0?-0x6:0x1);return _0x51740a[_0x3c3f2b(0x204)](_0x2181ba),_0x51740a['setHours'](0x0,0x0,0x0,0x0),_0x51740a;}function hexToRgba(_0x2cf99e,_0x4ebed0){const _0x8de777=a2_0x189b91;if(!_0x2cf99e)return'rgba(100,100,100,0.5)';let _0x2b9eb4=0x0,_0x8317db=0x0,_0xdf6dd9=0x0;if(_0x2cf99e['length']===0x4)_0x2b9eb4='0x'+_0x2cf99e[0x1]+_0x2cf99e[0x1],_0x8317db='0x'+_0x2cf99e[0x2]+_0x2cf99e[0x2],_0xdf6dd9='0x'+_0x2cf99e[0x3]+_0x2cf99e[0x3];else _0x2cf99e[_0x8de777(0x21c)]===0x7&&(_0x2b9eb4='0x'+_0x2cf99e[0x1]+_0x2cf99e[0x2],_0x8317db='0x'+_0x2cf99e[0x3]+_0x2cf99e[0x4],_0xdf6dd9='0x'+_0x2cf99e[0x5]+_0x2cf99e[0x6]);return _0x8de777(0x1a6)+ +_0x2b9eb4+',\x20'+ +_0x8317db+',\x20'+ +_0xdf6dd9+',\x20'+_0x4ebed0+')';}function renderTimeColumn(){const _0x574571=a2_0x189b91,_0x2e664e=document[_0x574571(0x2e2)](_0x574571(0x1b9)),_0x22ed75=document[_0x574571(0x2e2)](_0x574571(0x1c6));_0x2e664e[_0x574571(0x2dc)]='',_0x2e664e['appendChild'](_0x22ed75);for(let _0x328a76=0x0;_0x328a76<0x18;_0x328a76++){const _0x4aa785=document[_0x574571(0x29f)](_0x574571(0x17c));_0x4aa785[_0x574571(0x256)]=_0x574571(0x2d0);if(_0x328a76>0x0)_0x4aa785[_0x574571(0x2dc)]=_0x574571(0x268)+String(_0x328a76)['padStart'](0x2,'0')+_0x574571(0x2b9);_0x2e664e[_0x574571(0x2c0)](_0x4aa785);}}function renderDayRange(_0x25cc8f,_0x18376b){const _0x23c955=a2_0x189b91,_0x347125=document[_0x23c955(0x2e2)](_0x23c955(0x240)),_0x2b29cd=document[_0x23c955(0x2e2)](_0x23c955(0x20e)),_0x2703e7=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x10d38d=new Date();_0x10d38d[_0x23c955(0x1ea)](0x0,0x0,0x0,0x0);const _0x1c239e=getLocalDateStr(new Date());for(let _0x1634eb=_0x25cc8f;_0x1634eb<=_0x18376b;_0x1634eb++){const _0x5ae021=new Date(_0x10d38d);_0x5ae021[_0x23c955(0x204)](_0x5ae021[_0x23c955(0x2bd)]()+_0x1634eb);const _0x3394e7=getLocalDateStr(_0x5ae021);let _0x4eed4f=_0x5ae021[_0x23c955(0x2b4)]()-0x1;if(_0x4eed4f===-0x1)_0x4eed4f=0x6;const _0x4b4ea9=_0x3394e7===_0x1c239e,_0x1bb044=document[_0x23c955(0x29f)](_0x23c955(0x17c));_0x1bb044['className']=_0x23c955(0x197)+(_0x4b4ea9?_0x23c955(0x2ac):''),_0x1bb044['id']=_0x23c955(0x2a1)+_0x3394e7,_0x1bb044[_0x23c955(0x241)](_0x23c955(0x2c3),_0x3394e7),_0x1bb044[_0x23c955(0x2dc)]=_0x23c955(0x23a)+_0x2703e7[_0x4eed4f]+'</div><div\x20class=\x22dch-num\x22>'+_0x5ae021[_0x23c955(0x2bd)]()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0x3394e7+_0x23c955(0x221),_0x1bb044[_0x23c955(0x228)]=()=>openDayOptions(_0x3394e7,_0x2703e7[_0x4eed4f]+'\x20'+_0x5ae021['getDate']()),_0x347125[_0x23c955(0x2c0)](_0x1bb044);const _0x567115=document[_0x23c955(0x29f)]('div');_0x567115[_0x23c955(0x256)]='day-column\x20'+(_0x4b4ea9?_0x23c955(0x2ac):''),_0x567115['setAttribute']('data-date',_0x3394e7),_0x567115[_0x23c955(0x241)](_0x23c955(0x1f2),_0x4eed4f),renderEventsForColumn(_0x567115,_0x3394e7,_0x4eed4f),attachLongPressHandler(_0x567115,_0x5ae021),_0x2b29cd[_0x23c955(0x2c0)](_0x567115),updateDayStats(_0x3394e7);}}function reRenderBlocks(){const _0x5d37e4=a2_0x189b91;document[_0x5d37e4(0x244)](_0x5d37e4(0x1e9))['forEach'](_0x5f54ed=>{const _0x4817bd=_0x5d37e4;_0x5f54ed[_0x4817bd(0x244)](_0x4817bd(0x1e0))['forEach'](_0x3cf473=>_0x3cf473[_0x4817bd(0x1cf)]());const _0x5bad5b=_0x5f54ed[_0x4817bd(0x1d6)](_0x4817bd(0x2c3)),_0x10c666=parseInt(_0x5f54ed['getAttribute'](_0x4817bd(0x1f2))),_0x159035=Math['round'](_0x5f54ed[_0x4817bd(0x2ee)]);(availabilityPattern[_0x10c666]||[])[_0x4817bd(0x1df)](_0x56c6eb=>{const _0x12248c=_0x4817bd,_0x111313=document['createElement']('div');_0x111313[_0x12248c(0x256)]='blocked-slot\x20stripe-bg';const _0x349d49=_0x56c6eb*GRID_H;_0x111313[_0x12248c(0x298)][_0x12248c(0x297)]=_0x349d49+'px',_0x111313['style']['backgroundPosition']='-'+_0x159035+_0x12248c(0x303)+_0x349d49+'px',_0x5f54ed[_0x12248c(0x2c0)](_0x111313);});if(specialRanges&&specialRanges['length']>0x0){const _0x2197fe=new Date(_0x5bad5b+_0x4817bd(0x1c3))['getTime'](),_0x95e1b5=new Date(_0x5bad5b+_0x4817bd(0x19c))['getTime']();specialRanges[_0x4817bd(0x1df)](_0x1ba113=>{const _0x2d4ecb=_0x4817bd,_0x425e3f=new Date(_0x1ba113[_0x2d4ecb(0x2c4)])['getTime'](),_0x4bb42d=new Date(_0x1ba113[_0x2d4ecb(0x210)])[_0x2d4ecb(0x1d1)](),_0x47cb73=Math[_0x2d4ecb(0x2fb)](_0x2197fe,_0x425e3f),_0x1a51e2=Math['min'](_0x95e1b5,_0x4bb42d);if(_0x47cb73<_0x1a51e2){if(_0x47cb73<=_0x2197fe&&_0x1a51e2>=_0x95e1b5-0xea60){if(!_0x5f54ed[_0x2d4ecb(0x2e3)](_0x2d4ecb(0x279))){const _0x54a4f9=document[_0x2d4ecb(0x29f)](_0x2d4ecb(0x17c));_0x54a4f9[_0x2d4ecb(0x256)]=_0x2d4ecb(0x25e),_0x54a4f9[_0x2d4ecb(0x298)][_0x2d4ecb(0x2bf)]='-'+_0x159035+_0x2d4ecb(0x1b1),_0x5f54ed[_0x2d4ecb(0x2c0)](_0x54a4f9);}}else{const _0x5a9365=(_0x47cb73-_0x2197fe)/0x36ee80*GRID_H,_0x12a2e8=(_0x1a51e2-_0x47cb73)/0x36ee80*GRID_H,_0x542fc8=document['createElement'](_0x2d4ecb(0x17c));_0x542fc8[_0x2d4ecb(0x256)]=_0x2d4ecb(0x292),_0x542fc8['style'][_0x2d4ecb(0x297)]=_0x5a9365+'px',_0x542fc8[_0x2d4ecb(0x298)][_0x2d4ecb(0x2d6)]=_0x12a2e8+'px',_0x542fc8['style'][_0x2d4ecb(0x2bf)]='-'+_0x159035+_0x2d4ecb(0x303)+_0x5a9365+'px',_0x5f54ed['appendChild'](_0x542fc8);}}});}if(dateExceptions[_0x5bad5b]==='off'){if(!_0x5f54ed['querySelector'](_0x4817bd(0x279))){const _0x125f61=document[_0x4817bd(0x29f)](_0x4817bd(0x17c));_0x125f61[_0x4817bd(0x256)]=_0x4817bd(0x25e),_0x125f61[_0x4817bd(0x298)][_0x4817bd(0x2bf)]='-'+_0x159035+_0x4817bd(0x1b1),_0x5f54ed['appendChild'](_0x125f61);}}renderEventsForColumn(_0x5f54ed,_0x5bad5b,_0x10c666),updateDayStats(_0x5bad5b);});}function updateAllDayStats(){const _0x5e98d1=a2_0x189b91;document[_0x5e98d1(0x244)](_0x5e98d1(0x2ad))[_0x5e98d1(0x1df)](_0x13aab2=>{const _0x22e229=_0x5e98d1;updateDayStats(_0x13aab2[_0x22e229(0x1d6)](_0x22e229(0x2c3)));});}function updateDayStats(_0x1cc4f4){const _0x25d57e=a2_0x189b91,_0x388f3b=document['getElementById'](_0x25d57e(0x21a)+_0x1cc4f4);if(!_0x388f3b)return;const _0x41c074=new Date(_0x1cc4f4);let _0x70e334=_0x41c074[_0x25d57e(0x2b4)]()-0x1;if(_0x70e334===-0x1)_0x70e334=0x6;if(dateExceptions[_0x1cc4f4]===_0x25d57e(0x1dc)){_0x388f3b[_0x25d57e(0x298)][_0x25d57e(0x1cd)]=_0x25d57e(0x1be);return;}const _0x4cc396=availabilityPattern[_0x70e334]||[],_0x21c6d9=0x18-_0x4cc396[_0x25d57e(0x21c)],_0x50cc23=_0x21c6d9*0x3c,_0x5d92cb=sessions['filter'](_0x207cd4=>_0x207cd4[_0x25d57e(0x2ce)]===_0x1cc4f4&&_0x207cd4['status']!=='cancelled');if(_0x5d92cb[_0x25d57e(0x21c)]===0x0){_0x388f3b[_0x25d57e(0x298)][_0x25d57e(0x1cd)]=_0x25d57e(0x1be);return;}let _0xf763dc=_0x5d92cb['map'](_0xd52c52=>{const _0xa27f54=_0x25d57e,[_0x4f4d7a,_0xce605a]=_0xd52c52[_0xa27f54(0x2c4)][_0xa27f54(0x20a)](':')[_0xa27f54(0x185)](Number),[_0x2d8aa8,_0xa3e8ef]=_0xd52c52[_0xa27f54(0x210)][_0xa27f54(0x20a)](':')[_0xa27f54(0x185)](Number);return[_0x4f4d7a*0x3c+_0xce605a,_0x2d8aa8*0x3c+_0xa3e8ef];});_0xf763dc[_0x25d57e(0x1e1)]((_0x4a43a5,_0x53df0e)=>_0x4a43a5[0x0]-_0x53df0e[0x0]);let _0x3931c2=[];if(_0xf763dc[_0x25d57e(0x21c)]>0x0){let _0x5d6eaa=_0xf763dc[0x0];for(let _0x4193cb=0x1;_0x4193cb<_0xf763dc[_0x25d57e(0x21c)];_0x4193cb++){_0xf763dc[_0x4193cb][0x0]<_0x5d6eaa[0x1]?_0x5d6eaa[0x1]=Math[_0x25d57e(0x2fb)](_0x5d6eaa[0x1],_0xf763dc[_0x4193cb][0x1]):(_0x3931c2['push'](_0x5d6eaa),_0x5d6eaa=_0xf763dc[_0x4193cb]);}_0x3931c2[_0x25d57e(0x28e)](_0x5d6eaa);}let _0x39840f=0x0;_0x3931c2['forEach'](_0x23b595=>_0x39840f+=_0x23b595[0x1]-_0x23b595[0x0]),_0x388f3b[_0x25d57e(0x298)]['display']=_0x25d57e(0x2e8);const _0x54dab1=_0x388f3b[_0x25d57e(0x2e3)]('.dch-stats-fill');if(_0x50cc23===0x0){_0x54dab1[_0x25d57e(0x298)][_0x25d57e(0x1a0)]='100%',_0x54dab1['style'][_0x25d57e(0x291)]='var(--acc-red)';return;}const _0x2d8ca6=_0x39840f/_0x50cc23*0x64;console[_0x25d57e(0x186)]('['+_0x1cc4f4+_0x25d57e(0x18d)+_0x21c6d9+_0x25d57e(0x2ba)+_0x39840f+_0x25d57e(0x2a8)+_0x2d8ca6[_0x25d57e(0x1ac)](0x1)+'%'),_0x2d8ca6>0x64?(_0x54dab1['style'][_0x25d57e(0x1a0)]='100%',_0x54dab1[_0x25d57e(0x298)][_0x25d57e(0x291)]=_0x25d57e(0x2e5)):(_0x54dab1[_0x25d57e(0x298)][_0x25d57e(0x1a0)]=_0x2d8ca6+'%',_0x54dab1[_0x25d57e(0x298)][_0x25d57e(0x291)]=_0x25d57e(0x218));}function renderEventsForColumn(_0x1fc4cb,_0x296278,_0x58390a){const _0x3bd1fa=a2_0x189b91,_0x2aa6e9=sessions[_0x3bd1fa(0x1c5)](_0x4f7680=>_0x4f7680[_0x3bd1fa(0x2ce)]===_0x296278),_0x18db47=_0x2aa6e9[_0x3bd1fa(0x185)](_0x2041ac=>{const _0xf2f83=_0x3bd1fa,[_0x1e8950,_0x1fcd4c]=_0x2041ac[_0xf2f83(0x2c4)][_0xf2f83(0x20a)](':')[_0xf2f83(0x185)](Number),[_0x156991,_0x292ab4]=_0x2041ac['end'][_0xf2f83(0x20a)](':')['map'](Number);return{'data':_0x2041ac,'start':_0x1e8950*0x3c+_0x1fcd4c,'end':_0x156991*0x3c+_0x292ab4,'colIndex':0x0};});_0x18db47[_0x3bd1fa(0x1e1)]((_0x2ae9bf,_0x4947f3)=>{const _0x1a49f4=_0x3bd1fa;if(_0x2ae9bf[_0x1a49f4(0x2c4)]!==_0x4947f3[_0x1a49f4(0x2c4)])return _0x2ae9bf[_0x1a49f4(0x2c4)]-_0x4947f3[_0x1a49f4(0x2c4)];return _0x4947f3[_0x1a49f4(0x210)]-_0x4947f3['start']-(_0x2ae9bf[_0x1a49f4(0x210)]-_0x2ae9bf[_0x1a49f4(0x2c4)]);});const _0x2b866b=[];_0x18db47[_0x3bd1fa(0x1df)](_0x40b3c5=>{const _0x237572=_0x3bd1fa;let _0x475193=![];for(let _0x399d6c=0x0;_0x399d6c<_0x2b866b[_0x237572(0x21c)];_0x399d6c++){const _0x5cd04=_0x2b866b[_0x399d6c],_0x2cd1f8=_0x5cd04[_0x5cd04['length']-0x1];if(_0x40b3c5[_0x237572(0x2c4)]>=_0x2cd1f8[_0x237572(0x210)]){_0x5cd04[_0x237572(0x28e)](_0x40b3c5),_0x40b3c5[_0x237572(0x19b)]=_0x399d6c,_0x475193=!![];break;}}!_0x475193&&(_0x2b866b[_0x237572(0x28e)]([_0x40b3c5]),_0x40b3c5[_0x237572(0x19b)]=_0x2b866b[_0x237572(0x21c)]-0x1);}),_0x18db47[_0x3bd1fa(0x1df)](_0x2701a1=>{const _0x4affb4=_0x3bd1fa;let _0x258cf0=0x0;_0x18db47[_0x4affb4(0x1df)](_0x4b3f18=>{const _0x2396aa=_0x4affb4;if(Math[_0x2396aa(0x2fb)](_0x2701a1[_0x2396aa(0x2c4)],_0x4b3f18[_0x2396aa(0x2c4)])<Math[_0x2396aa(0x20d)](_0x2701a1[_0x2396aa(0x210)],_0x4b3f18['end'])){if(_0x4b3f18[_0x2396aa(0x19b)]>_0x258cf0)_0x258cf0=_0x4b3f18[_0x2396aa(0x19b)];}});const _0x4a3cca=_0x258cf0+0x1,_0x38fb96=0x64/_0x4a3cca,_0x2d4a07=_0x2701a1[_0x4affb4(0x19b)]*_0x38fb96,_0x597185=createEventEl(_0x2701a1[_0x4affb4(0x208)]);_0x597185[_0x4affb4(0x298)][_0x4affb4(0x1a0)]=_0x4affb4(0x24a)+_0x38fb96+_0x4affb4(0x226),_0x597185['style'][_0x4affb4(0x26c)]=_0x4affb4(0x24a)+_0x2d4a07+'%\x20+\x202px)',_0x597185['style'][_0x4affb4(0x22b)]=0xa+_0x2701a1[_0x4affb4(0x19b)],_0x38fb96<0x55&&_0x597185[_0x4affb4(0x2f4)][_0x4affb4(0x1f3)]('mini'),_0x1fc4cb[_0x4affb4(0x2c0)](_0x597185);});}function createEventEl(_0x545f60){const _0x25c991=a2_0x189b91,[_0x41e8b0,_0x44fa9f]=_0x545f60[_0x25c991(0x2c4)]['split'](':')[_0x25c991(0x185)](Number),[_0x5e7a00,_0x607f20]=_0x545f60[_0x25c991(0x210)][_0x25c991(0x20a)](':')[_0x25c991(0x185)](Number),_0x3d360e=(_0x41e8b0*0x3c+_0x44fa9f)/0x3c*GRID_H,_0x1d1d66=(_0x5e7a00*0x3c+_0x607f20-(_0x41e8b0*0x3c+_0x44fa9f))/0x3c*GRID_H,_0xe64231=document[_0x25c991(0x29f)]('div'),_0x3500e7=_0x545f60[_0x25c991(0x293)]===_0x25c991(0x220)?_0x25c991(0x246):'';_0xe64231[_0x25c991(0x256)]=_0x25c991(0x26d)+_0x3500e7,_0xe64231[_0x25c991(0x298)][_0x25c991(0x297)]=_0x3d360e+'px',_0xe64231[_0x25c991(0x298)][_0x25c991(0x2d6)]=Math[_0x25c991(0x2fb)](_0x1d1d66,0x14)+'px';const _0x51f3e5=clients[_0x25c991(0x2b3)](_0x423fa0=>_0x545f60[_0x25c991(0x1fa)]&&String(_0x423fa0['id'])===String(_0x545f60[_0x25c991(0x1fa)])||_0x423fa0[_0x25c991(0x1a5)]===_0x545f60[_0x25c991(0x1ee)]),_0x3ef586=_0x51f3e5?_0x51f3e5[_0x25c991(0x229)]:_0x25c991(0x2f6);_0xe64231[_0x25c991(0x298)][_0x25c991(0x18f)]=_0x3ef586,_0xe64231['style']['backgroundColor']=hexToRgba(_0x3ef586,0.85);let _0x4f34ee=_0x25c991(0x24f)+_0x545f60['client']+'</div><div\x20class=\x22ev-time\x22>'+_0x545f60['start']+'\x20-\x20'+_0x545f60[_0x25c991(0x210)]+_0x25c991(0x22c);return _0x545f60[_0x25c991(0x2cc)]&&(_0x4f34ee+=_0x25c991(0x28a)),_0x545f60[_0x25c991(0x293)]===_0x25c991(0x220)&&(_0x4f34ee+=_0x25c991(0x189)),_0xe64231[_0x25c991(0x2dc)]=_0x4f34ee,_0xe64231[_0x25c991(0x228)]=_0x46026b=>{_0x46026b['stopPropagation'](),openEdit(_0x545f60);},_0xe64231;}function attachLongPressHandler(_0x3080cc,_0x26a426){const _0x3b3b1f=a2_0x189b91;let _0xe6cd13=0x0,_0x55bd87=null;const _0x4446e8=_0x20dda7=>{const _0x9b0c0d=a2_0x428e;if(_0x20dda7[_0x9b0c0d(0x274)][_0x9b0c0d(0x201)](_0x9b0c0d(0x295)))return;isScrolling=![],_0xe6cd13=_0x20dda7['touches']?_0x20dda7[_0x9b0c0d(0x245)][0x0][_0x9b0c0d(0x29b)]:_0x20dda7[_0x9b0c0d(0x29b)],_0x55bd87=setTimeout(()=>{const _0x497c1e=_0x9b0c0d;if(!isScrolling){navigator['vibrate']?.(0x32);const _0xdeca78=_0x3080cc[_0x497c1e(0x2ae)](),_0x2ac527=Math['floor']((_0xe6cd13-_0xdeca78[_0x497c1e(0x297)])/GRID_H);_0x26a426[_0x497c1e(0x1ea)](_0x2ac527,0x0),openAddSession(_0x26a426);}},0x1f4);},_0x57f3f2=()=>{isScrolling=!![],clearTimeout(_0x55bd87);},_0x31b315=()=>{clearTimeout(_0x55bd87);};_0x3080cc[_0x3b3b1f(0x1de)](_0x3b3b1f(0x227),_0x4446e8,{'passive':!![]}),_0x3080cc[_0x3b3b1f(0x1de)](_0x3b3b1f(0x302),_0x57f3f2,{'passive':!![]}),_0x3080cc['addEventListener'](_0x3b3b1f(0x2bc),_0x31b315),_0x3080cc['addEventListener'](_0x3b3b1f(0x1f9),_0x4446e8),_0x3080cc[_0x3b3b1f(0x1de)](_0x3b3b1f(0x1ed),_0x57f3f2),_0x3080cc[_0x3b3b1f(0x1de)](_0x3b3b1f(0x294),_0x31b315);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x16a616=a2_0x189b91,_0x181949=document['getElementById'](_0x16a616(0x2f3)),_0x23d285=_0x181949[_0x16a616(0x24e)],_0x3861c1=_0x181949[_0x16a616(0x2aa)],_0x3caa3d=_0x181949[_0x16a616(0x29a)];if(_0x3861c1-(_0x23d285+_0x3caa3d)<0x12c){const _0x113176=endOffset;endOffset+=0xe,renderDayRange(_0x113176+0x1,endOffset),reRenderBlocks();}if(_0x23d285<0x12c){const _0x17ec45=startOffset;startOffset-=0xe,prependDays(startOffset,_0x17ec45-0x1),_0x181949[_0x16a616(0x24e)]+=0xe*0x41,reRenderBlocks();}}function a2_0x9795(){const _0x4b23fd=['<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','setBackgroundColor','data-day-idx','add','rgba(255,\x2069,\x2058,\x200.15)','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','stringify','toastMessage','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','mousedown','clientId','getFullYear','sid','save_settings','<b>‚úÖ\x20','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','user','closest','fetchFromServer','inpDate','setDate','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','inpRecurring','checked','data','settings','split','value','doBusyHours','min','gridColumns','anTotalStats','end','warn','formatDate','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','–ò–Ω—Ñ–æ','rgba(255,255,255,0.05)','constructor','var(--acc-current)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','stat-','borderColor','length','ready','null','round','completed','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','102AakYrr','asBtnSeries','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','seriesCountContainer','%\x20-\x204px)','touchstart','onclick','color','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','zIndex','</div>','setItem','deleted','text/plain;charset=UTF-8','inpStart','then','DOMContentLoaded','anPercent','offsetWidth','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','rangeEndTime','Local\x20Load\x20Error','anStart','<div\x20class=\x22dch-day\x22>','as-button\x20danger',':\x20Client\x20already\x20booked','indexOf','btn-primary\x20btn-danger','–£–¥–∞–ª–µ–Ω–∏–µ','daysHeaderTrack','setAttribute',':00','4174955yKPIed','querySelectorAll','touches','\x20status-completed','location','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','recurringOptionContainer','calc(','save','getMonth','10px','scrollLeft','<div\x20class=\x22ev-title\x22>','analyticsList','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','all','[Notify]\x20Error:\x20sessionData\x20is\x20null','[Notify]\x20Network\x20Failed','className','[Settings]\x20Cancel\x20window\x20set\x20to:','expand','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','rgba(255,\x2069,\x2058,\x200.3)','uc_settings_cancel_window','#fff','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','day-off-overlay\x20stripe-bg','long','[Notify]\x20Server\x20Response:','toString','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','settingsSheet','[Sync]\x20Loading\x20','rangesSheet','156dIdmIo','cancelled','<span>','disableVerticalSwipes','clients','complete','left','event-card','anEnd','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','[Notify]\x20Detected\x20Client\x20ID:','btnStatusToggle','week','ru-RU','target','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','client-stat-card','actionSheetOverlay','.day-off-overlay','toastTitle','initData','doLoadPercent','analyticsSheet','248423PeqqZA','var(--acc-green)',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','16yoiNjv','setHeaderColor','syncLoad','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','parse','toUpperCase','show','initDataUnsafe','pattern','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','init_load','stopPropagation','createDocumentFragment','push','</b>\x0a\x0a','pe-cell\x20','background','blocked-range-part\x20stripe-bg','status','mouseup','.event-card','active','top','style','series','clientWidth','clientY','guest','warning','single','createElement','rgba(48,\x20209,\x2088,\x200.15)','header-','planned','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','[Notify]\x20Error:\x20Text\x20generation\x20failed','delete','[Notify]\x20Client\x20SWAP\x20detected','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','\x20days','scrollWidth','btn-primary\x20btn-secondary','today','.day-col-header','getBoundingClientRect','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','toast-notification\x20','random','setMonth','find','getDay','keys','offClick','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','\x20‚Äî\x20',':00</span>','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','search','touchend','getDate','</span>\x20/\x20','backgroundPosition','appendChild','Error\x20setting\x20back\x20button:','rangesList','data-date','start','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','getMinutes','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','384285vcgiPU','block','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','seriesId','rangeStartTime','dateStr','firstChild','time-label','var(--acc-orange)','actionSheet','Server\x20Error','cancel','20GmNakc','height','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','patternEditor','306179IiwnJf','catch','pe-corner','innerHTML','findIndex','floor','msg','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','23:59','getElementById','querySelector','Error\x20setting\x20color:','var(--acc-red)','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','flex','dayOptionsSheet','cancel_window','anCustomDates','send','getHours','offsetLeft','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','.period-switch\x20.p-btn','rangeEndDate','batch_sync','matrixViewport','classList','create','#0a84ff','.day-column','blocked-slot\x20stripe-bg','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','patternInfoBox','max','uc_settings_v9','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','WebApp','mergeServerData','inpSeriesCount','touchmove','px\x20-','toast','borderRadius','text','send_notification','div','saveLocally','option','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','charAt','btn-status-toggle\x20undo-mode','Telegram','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','#050505','map','log','(((.+)+)+)+$','inpEnd','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','sheetDateSubtitle','isArray','rangeStartDate',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','error','borderLeftColor','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','splice','.sheet','pe-col-header','sheetTitle','day-col-header\x20','update','sessionSheet','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','colIndex','T23:59:59','now','2MrXoVr','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','width','note','BackButton','–£—Å–ø–µ—à–Ω–æ','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','name','rgba(','getItem','ranges','done','router.html','insertBefore','toFixed','range-item','numeric','[Notify]\x20Attempting\x20to\x20send:','5423810HqCXDh','px\x200px','2587239klEOjc','btnDelete','calendar','includes','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','rgba(255,\x20159,\x2010,\x200.3)','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','timeColumn','toLocaleDateString','substr','inpNote','\x20-\x20','none','getText','json','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','16635KcYBDL','T00:00:00','month','filter','timeLineBadge','valid','open','v9.0-BATCH-CALENDAR','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','padStart','Unknown','display','slice','remove','.pib-text','getTime','doWorkHours','settingCancelWindow','inpClient','textContent','getAttribute','uc_sessions_v9','dayOptionsTitle','\x20–∏–∑\x20',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','onClick','off','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','addEventListener','forEach','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','sort','startsWith','overlay','btn-status-toggle','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','[API\x20','...','day-column\x20','#gridColumns\x20.day-column','setHours','anDonutCircle','total','mousemove','client','scrollTop'];a2_0x9795=function(){return _0x4b23fd;};return a2_0x9795();}function prependDays(_0x348cef,_0x26b744){const _0x1a2955=a2_0x189b91,_0x1d7b5f=document[_0x1a2955(0x2e2)](_0x1a2955(0x240)),_0x511052=document[_0x1a2955(0x2e2)]('gridColumns'),_0x174a5e=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x445744=new Date();_0x445744['setHours'](0x0,0x0,0x0,0x0);const _0x4fcd98=getLocalDateStr(new Date()),_0x1b2e2c=document[_0x1a2955(0x28d)](),_0x24b16d=document[_0x1a2955(0x28d)]();for(let _0x14fecc=_0x348cef;_0x14fecc<=_0x26b744;_0x14fecc++){const _0x3e5192=new Date(_0x445744);_0x3e5192[_0x1a2955(0x204)](_0x3e5192[_0x1a2955(0x2bd)]()+_0x14fecc);const _0x20f989=getLocalDateStr(_0x3e5192);let _0x1bd017=_0x3e5192['getDay']()-0x1;if(_0x1bd017===-0x1)_0x1bd017=0x6;const _0x8a685f=_0x20f989===_0x4fcd98,_0x1f7910=document[_0x1a2955(0x29f)](_0x1a2955(0x17c));_0x1f7910[_0x1a2955(0x256)]=_0x1a2955(0x197)+(_0x8a685f?'today':''),_0x1f7910['id']=_0x1a2955(0x2a1)+_0x20f989,_0x1f7910[_0x1a2955(0x241)]('data-date',_0x20f989),_0x1f7910[_0x1a2955(0x2dc)]=_0x1a2955(0x23a)+_0x174a5e[_0x1bd017]+'</div><div\x20class=\x22dch-num\x22>'+_0x3e5192[_0x1a2955(0x2bd)]()+_0x1a2955(0x235)+_0x20f989+_0x1a2955(0x221),_0x1f7910['onclick']=()=>openDayOptions(_0x20f989,_0x174a5e[_0x1bd017]+'\x20'+_0x3e5192['getDate']()),_0x1b2e2c['appendChild'](_0x1f7910);const _0x6ed953=document[_0x1a2955(0x29f)]('div');_0x6ed953[_0x1a2955(0x256)]=_0x1a2955(0x1e8)+(_0x8a685f?_0x1a2955(0x2ac):''),_0x6ed953[_0x1a2955(0x241)]('data-date',_0x20f989),_0x6ed953[_0x1a2955(0x241)](_0x1a2955(0x1f2),_0x1bd017),renderEventsForColumn(_0x6ed953,_0x20f989,_0x1bd017),attachLongPressHandler(_0x6ed953,_0x3e5192),_0x24b16d[_0x1a2955(0x2c0)](_0x6ed953),updateDayStats(_0x20f989);}_0x1d7b5f[_0x1a2955(0x1ab)](_0x1b2e2c,_0x1d7b5f[_0x1a2955(0x2cf)]),_0x511052[_0x1a2955(0x1ab)](_0x24b16d,_0x511052['querySelector'](_0x1a2955(0x2f7)));}function validateAppointment(_0x278c96,_0x30e83f,_0x607851,_0x1eef98,_0x4c30f6){const _0x127216=a2_0x189b91,[_0x5e7ab3,_0x46d48e]=_0x30e83f[_0x127216(0x20a)](':')['map'](Number),[_0x163389,_0xab6db]=_0x607851[_0x127216(0x20a)](':')[_0x127216(0x185)](Number),_0x407efa=_0x5e7ab3*0x3c+_0x46d48e,_0x3e1225=_0x163389*0x3c+_0xab6db,_0x318954=String(_0x4c30f6);let _0x927926=![],_0x58b13f='';for(let _0x83ba31 of sessions){if(_0x83ba31['dateStr']!==_0x278c96)continue;if(_0x83ba31['status']==='cancelled')continue;if(_0x1eef98&&String(_0x83ba31['id'])===String(_0x1eef98))continue;const [_0xd7a94c,_0x48e55f]=_0x83ba31[_0x127216(0x2c4)][_0x127216(0x20a)](':')[_0x127216(0x185)](Number),[_0x52ef05,_0x1e5ca3]=_0x83ba31[_0x127216(0x210)][_0x127216(0x20a)](':')[_0x127216(0x185)](Number),_0x57c0f6=_0xd7a94c*0x3c+_0x48e55f,_0x2affd1=_0x52ef05*0x3c+_0x1e5ca3;if(Math[_0x127216(0x2fb)](_0x407efa,_0x57c0f6)<Math[_0x127216(0x20d)](_0x3e1225,_0x2affd1)){if(_0x83ba31[_0x127216(0x1fa)]&&String(_0x83ba31[_0x127216(0x1fa)])===_0x318954)return{'valid':![],'msg':_0x127216(0x2ef)+_0x83ba31[_0x127216(0x1ee)]+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x927926=!![],_0x58b13f=_0x83ba31[_0x127216(0x1ee)];}}if(_0x927926)return{'valid':!![],'warning':_0x127216(0x248)+_0x58b13f};return{'valid':!![]};}function updateDateDisplay(){const _0x3f4ad0=a2_0x189b91,_0x457269=document[_0x3f4ad0(0x2e2)](_0x3f4ad0(0x203))['value'],_0x5ac5aa=document[_0x3f4ad0(0x2e2)](_0x3f4ad0(0x18a));if(!_0x457269){_0x5ac5aa[_0x3f4ad0(0x1d5)]='';return;}const [_0x32495f,_0x1b5750,_0x30d281]=_0x457269[_0x3f4ad0(0x20a)]('-')['map'](Number),_0x8c9424=new Date(_0x32495f,_0x1b5750-0x1,_0x30d281),_0x53b3f2={'weekday':_0x3f4ad0(0x25f),'day':_0x3f4ad0(0x1ae),'month':'long','year':_0x3f4ad0(0x1ae)};let _0x1d4c96=_0x8c9424[_0x3f4ad0(0x1ba)](_0x3f4ad0(0x273),_0x53b3f2);_0x1d4c96=_0x1d4c96[_0x3f4ad0(0x180)](0x0)[_0x3f4ad0(0x286)]()+_0x1d4c96[_0x3f4ad0(0x1ce)](0x1),_0x5ac5aa[_0x3f4ad0(0x1d5)]=_0x1d4c96;}function autoSetEndTime(){const _0x23ded7=a2_0x189b91,_0x411f34=document[_0x23ded7(0x2e2)](_0x23ded7(0x230))[_0x23ded7(0x20b)];if(!_0x411f34)return;const [_0x447926,_0x4a5870]=_0x411f34[_0x23ded7(0x20a)](':')[_0x23ded7(0x185)](Number);let _0x4bf1b0=_0x447926+0x1;if(_0x4bf1b0>0x17)_0x4bf1b0=0x0;const _0x20a2b5=String(_0x4bf1b0)[_0x23ded7(0x1cb)](0x2,'0')+':'+String(_0x4a5870)[_0x23ded7(0x1cb)](0x2,'0');document[_0x23ded7(0x2e2)](_0x23ded7(0x188))[_0x23ded7(0x20b)]=_0x20a2b5;}function populateClientSelect(){const _0x4a4d47=a2_0x189b91,_0xbe4823=document[_0x4a4d47(0x2e2)](_0x4a4d47(0x1d4));_0xbe4823['innerHTML']='';if(clients['length']===0x0){const _0xc98a97=document[_0x4a4d47(0x29f)](_0x4a4d47(0x17e));_0xc98a97[_0x4a4d47(0x306)]=_0x4a4d47(0x2af),_0xbe4823[_0x4a4d47(0x2c0)](_0xc98a97);return;}clients[_0x4a4d47(0x1df)](_0x177ad0=>{const _0x41b49e=_0x4a4d47,_0x2980e2=document[_0x41b49e(0x29f)](_0x41b49e(0x17e));_0x2980e2[_0x41b49e(0x20b)]=_0x177ad0['name'],_0x2980e2[_0x41b49e(0x1d5)]=_0x177ad0[_0x41b49e(0x1a5)],_0xbe4823[_0x41b49e(0x2c0)](_0x2980e2);});}function openActionSheet(_0x1e4142){const _0x39987b=a2_0x189b91,_0x5865dd=document[_0x39987b(0x2e2)](_0x39987b(0x2d2)),_0x4225cb=document[_0x39987b(0x2e2)](_0x39987b(0x278)),_0x490d53=document[_0x39987b(0x2e2)]('asTitle'),_0x62c5f=document['getElementById']('asBtnOne'),_0x35ad91=document[_0x39987b(0x2e2)](_0x39987b(0x223));_0x4225cb[_0x39987b(0x2f4)]['add'](_0x39987b(0x296)),_0x5865dd['classList'][_0x39987b(0x1f3)](_0x39987b(0x1c8));if(_0x1e4142==='save')_0x490d53[_0x39987b(0x1d5)]=_0x39987b(0x17f),_0x62c5f[_0x39987b(0x1d5)]=_0x39987b(0x1c1),_0x62c5f[_0x39987b(0x228)]=()=>{const _0xbdf6a1=_0x39987b;closeActionSheet(),updateSeriesBatch(_0xbdf6a1(0x29e),tempSessionData);},_0x35ad91[_0x39987b(0x1d5)]=_0x39987b(0x1ff),_0x35ad91[_0x39987b(0x228)]=()=>{const _0x2c00f7=_0x39987b;closeActionSheet(),updateSeriesBatch(_0x2c00f7(0x299),tempSessionData);};else _0x1e4142===_0x39987b(0x2a5)&&(_0x490d53[_0x39987b(0x1d5)]=_0x39987b(0x23f),_0x62c5f[_0x39987b(0x1d5)]=_0x39987b(0x1c1),_0x62c5f[_0x39987b(0x256)]=_0x39987b(0x23b),_0x62c5f['onclick']=()=>{const _0x548233=_0x39987b;closeActionSheet(),commitDelete('single',sessions[_0x548233(0x2b3)](_0x103640=>_0x103640['id']===editingId));},_0x35ad91['textContent']=_0x39987b(0x1ff),_0x35ad91['className']='as-button\x20danger\x20bold',_0x35ad91[_0x39987b(0x228)]=()=>{const _0x5874d9=_0x39987b;closeActionSheet(),commitDelete(_0x5874d9(0x299),sessions[_0x5874d9(0x2b3)](_0x353011=>_0x353011['id']===editingId));});}function closeActionSheet(){const _0x2f541b=a2_0x189b91;document['getElementById']('actionSheet')['classList'][_0x2f541b(0x1cf)](_0x2f541b(0x1c8)),document[_0x2f541b(0x2e2)]('actionSheetOverlay')['classList'][_0x2f541b(0x1cf)]('active');}function openSettings(){const _0x21631e=a2_0x189b91;openSheet(_0x21631e(0x263));}function saveCoachSettings(){const _0x153221=a2_0x189b91,_0x1c7aee=document['getElementById']('settingCancelWindow')[_0x153221(0x20b)];localStorage['setItem']('uc_settings_cancel_window',_0x1c7aee),console[_0x153221(0x186)](_0x153221(0x257),_0x1c7aee),DataManager[_0x153221(0x202)](_0x153221(0x1fd),{'settings':{'cancel_window':_0x1c7aee}})[_0x153221(0x2da)](_0xc31009=>{const _0x367eee=_0x153221;console[_0x367eee(0x18e)]('Save\x20settings\x20error:',_0xc31009),showToast(_0x367eee(0x26f),![]);});}function loadCoachSettings(){const _0x495c59=a2_0x189b91,_0x59629d=localStorage[_0x495c59(0x1a7)](_0x495c59(0x25b));_0x59629d&&(document[_0x495c59(0x2e2)](_0x495c59(0x1d3))[_0x495c59(0x20b)]=_0x59629d);}function openRangesSheet(){const _0x45cf56=a2_0x189b91;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x45cf56(0x265));}function addRange(){const _0x39ecef=a2_0x189b91,_0x10a85e=document['getElementById'](_0x39ecef(0x18c))[_0x39ecef(0x20b)],_0x3d4de0=document['getElementById'](_0x39ecef(0x2cd))[_0x39ecef(0x20b)],_0x2cecd1=document[_0x39ecef(0x2e2)](_0x39ecef(0x2f1))['value'],_0x58c509=document[_0x39ecef(0x2e2)](_0x39ecef(0x237))[_0x39ecef(0x20b)];if(!_0x10a85e||!_0x3d4de0||!_0x2cecd1||!_0x58c509)return alert(_0x39ecef(0x2c5));const _0xa287a1=_0x10a85e+'T'+_0x3d4de0,_0xfcf00d=_0x2cecd1+'T'+_0x58c509;if(_0xa287a1>=_0xfcf00d)return alert(_0x39ecef(0x213));specialRanges[_0x39ecef(0x28e)]({'start':_0xa287a1,'end':_0xfcf00d}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x39ecef(0x202)]('save_settings',{'settings':{'ranges':specialRanges}});}function deleteRange(_0x20c5df){const _0x356a79=a2_0x189b91;specialRanges[_0x356a79(0x193)](_0x20c5df,0x1),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x356a79(0x202)](_0x356a79(0x1fd),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x54fd58=a2_0x189b91;document['getElementById'](_0x54fd58(0x18c))[_0x54fd58(0x20b)]='',document[_0x54fd58(0x2e2)](_0x54fd58(0x2cd))[_0x54fd58(0x20b)]='00:00',document[_0x54fd58(0x2e2)](_0x54fd58(0x2f1))[_0x54fd58(0x20b)]='',document[_0x54fd58(0x2e2)](_0x54fd58(0x237))[_0x54fd58(0x20b)]=_0x54fd58(0x2e1);}function renderRangesList(){const _0x538e9b=a2_0x189b91,_0x353c58=document[_0x538e9b(0x2e2)](_0x538e9b(0x2c2));_0x353c58[_0x538e9b(0x2dc)]='';if(!specialRanges[_0x538e9b(0x21c)]){_0x353c58[_0x538e9b(0x2dc)]=_0x538e9b(0x183);return;}specialRanges[_0x538e9b(0x1df)]((_0x538fd5,_0x3f5719)=>{const _0x359b4d=_0x538e9b,_0x36277e=document[_0x359b4d(0x29f)](_0x359b4d(0x17c));_0x36277e[_0x359b4d(0x256)]=_0x359b4d(0x1ad);const _0x39e39b=_0x386c6b=>{const _0x4b4abb=_0x359b4d,_0x3062ca=new Date(_0x386c6b);return _0x3062ca[_0x4b4abb(0x2bd)]()+'.'+String(_0x3062ca['getMonth']()+0x1)[_0x4b4abb(0x1cb)](0x2,'0')+'\x20'+String(_0x3062ca[_0x4b4abb(0x2ed)]())[_0x4b4abb(0x1cb)](0x2,'0')+':'+String(_0x3062ca[_0x4b4abb(0x2c6)]())['padStart'](0x2,'0');};_0x36277e[_0x359b4d(0x2dc)]=_0x359b4d(0x219)+_0x39e39b(_0x538fd5[_0x359b4d(0x2c4)])+_0x359b4d(0x2b8)+_0x39e39b(_0x538fd5[_0x359b4d(0x210)])+_0x359b4d(0x224)+_0x3f5719+_0x359b4d(0x280),_0x353c58[_0x359b4d(0x2c0)](_0x36277e);});}function scrollToToday(){const _0x141bf3=a2_0x189b91,_0x34d69c=getLocalDateStr(new Date()),_0x3e98d0=document[_0x141bf3(0x2e2)]('header-'+_0x34d69c),_0x58d5de=document[_0x141bf3(0x2e2)](_0x141bf3(0x2f3));if(_0x3e98d0&&_0x58d5de){const _0x882ee9=_0x58d5de['clientWidth'],_0x185912=_0x3e98d0[_0x141bf3(0x2ee)],_0xa8df4c=_0x3e98d0[_0x141bf3(0x234)];_0x58d5de[_0x141bf3(0x24e)]=_0x185912-_0x882ee9/0x2+_0xa8df4c/0x2,_0x58d5de[_0x141bf3(0x1ef)]=0x9*GRID_H;}}function onScroll(){const _0x52e135=a2_0x189b91,_0x2371b6=document['getElementById'](_0x52e135(0x2f3)),_0x1db72e=document[_0x52e135(0x244)](_0x52e135(0x2ad));for(let _0x803220 of _0x1db72e)if(_0x803220[_0x52e135(0x2ee)]>=_0x2371b6[_0x52e135(0x24e)]){const _0xc736f1=new Date(_0x803220['getAttribute'](_0x52e135(0x2c3)));document[_0x52e135(0x2e2)]('headerMonth')['textContent']=_0xc736f1['toLocaleString']('ru',{'month':_0x52e135(0x25f)})[_0x52e135(0x286)]()+'\x20'+_0xc736f1[_0x52e135(0x1fb)]();break;}}function showToast(_0x24d6eb,_0x2bf460=![]){const _0x42ce5a=a2_0x189b91,_0x2cef67=document[_0x42ce5a(0x2e2)](_0x42ce5a(0x304));_0x2cef67[_0x42ce5a(0x256)]=_0x42ce5a(0x2b0)+(_0x2bf460?'success':''),document[_0x42ce5a(0x2e2)](_0x42ce5a(0x27a))[_0x42ce5a(0x1d5)]=_0x2bf460?_0x42ce5a(0x1a3):_0x42ce5a(0x215),document[_0x42ce5a(0x2e2)](_0x42ce5a(0x1f7))[_0x42ce5a(0x1d5)]=_0x24d6eb,_0x2cef67[_0x42ce5a(0x2f4)]['add'](_0x42ce5a(0x287)),setTimeout(()=>{const _0x1ce0e9=_0x42ce5a;_0x2cef67[_0x1ce0e9(0x2f4)][_0x1ce0e9(0x1cf)](_0x1ce0e9(0x287));},0xbb8);}function openDayOptions(_0x3c4dc2,_0x3fe359){const _0x5655a1=a2_0x189b91;selectedDayForOptions=_0x3c4dc2,document[_0x5655a1(0x2e2)](_0x5655a1(0x1d8))[_0x5655a1(0x1d5)]=_0x3fe359,openSheet(_0x5655a1(0x2e9));}function toggleDayOff(){const _0x5a89aa=a2_0x189b91;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x5a89aa(0x1dc),reRenderBlocks(),closeAllSheets(),DataManager[_0x5a89aa(0x17d)](),DataManager[_0x5a89aa(0x202)](_0x5a89aa(0x1fd),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x4e8678=a2_0x189b91;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x4e8678(0x17d)](),DataManager[_0x4e8678(0x202)](_0x4e8678(0x1fd),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0xd5b5b0){const _0x129651=a2_0x189b91;document['getElementById']('overlay')[_0x129651(0x2f4)][_0x129651(0x1f3)](_0x129651(0x296)),document[_0x129651(0x2e2)](_0xd5b5b0)[_0x129651(0x2f4)][_0x129651(0x1f3)]('open');}function closeAllSheets(){const _0x593afa=a2_0x189b91;document['getElementById'](_0x593afa(0x1e3))[_0x593afa(0x2f4)][_0x593afa(0x1cf)](_0x593afa(0x296)),document[_0x593afa(0x244)](_0x593afa(0x194))[_0x593afa(0x1df)](_0x3dffb2=>_0x3dffb2[_0x593afa(0x2f4)][_0x593afa(0x1cf)]('open'));}function openPatternEditor(){const _0x5326a9=a2_0x189b91;closeAllSheets(),document['getElementById']('patternEditor')[_0x5326a9(0x2f4)][_0x5326a9(0x1f3)](_0x5326a9(0x1c8)),renderPatternEditor();}function closePatternEditor(){const _0x899ad6=a2_0x189b91;document['getElementById']('patternEditor')[_0x899ad6(0x2f4)]['remove'](_0x899ad6(0x1c8));}function savePattern(){const _0x5b20ec=a2_0x189b91;document[_0x5b20ec(0x2e2)](_0x5b20ec(0x2d8))[_0x5b20ec(0x2f4)][_0x5b20ec(0x1cf)](_0x5b20ec(0x1c8)),reRenderBlocks(),DataManager[_0x5b20ec(0x17d)](),DataManager[_0x5b20ec(0x202)](_0x5b20ec(0x1fd),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x9803b1=a2_0x189b91,_0x1150ce=document[_0x9803b1(0x2e2)]('peGrid');_0x1150ce['innerHTML']='';const _0x2165f5=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x588bb9=document[_0x9803b1(0x29f)](_0x9803b1(0x17c));_0x588bb9[_0x9803b1(0x256)]=_0x9803b1(0x2db),_0x1150ce[_0x9803b1(0x2c0)](_0x588bb9),_0x2165f5['forEach']((_0x2b0c50,_0x162d8b)=>{const _0x5bd4d2=_0x9803b1,_0x49fa4c=document[_0x5bd4d2(0x29f)](_0x5bd4d2(0x17c));_0x49fa4c[_0x5bd4d2(0x256)]=_0x5bd4d2(0x195),_0x49fa4c['innerHTML']=_0x2b0c50+_0x5bd4d2(0x2e0),_0x49fa4c[_0x5bd4d2(0x228)]=()=>toggleColPattern(_0x162d8b),_0x1150ce[_0x5bd4d2(0x2c0)](_0x49fa4c);});for(let _0x5199e2=0x0;_0x5199e2<0x18;_0x5199e2++){const _0x1e7be8=document[_0x9803b1(0x29f)]('div');_0x1e7be8['className']='pe-time-label',_0x1e7be8[_0x9803b1(0x2dc)]=_0x9803b1(0x251)+String(_0x5199e2)[_0x9803b1(0x1cb)](0x2,'0')+':00',_0x1e7be8[_0x9803b1(0x228)]=()=>toggleRowPattern(_0x5199e2),_0x1150ce['appendChild'](_0x1e7be8);for(let _0x56d3ea=0x0;_0x56d3ea<0x7;_0x56d3ea++){const _0x2901ed=document[_0x9803b1(0x29f)](_0x9803b1(0x17c)),_0x3f7dd1=(availabilityPattern[_0x56d3ea]||[])[_0x9803b1(0x1b5)](_0x5199e2),_0x3f9433=!_0x3f7dd1;_0x2901ed[_0x9803b1(0x256)]=_0x9803b1(0x290)+(_0x3f9433?_0x9803b1(0x296):''),_0x2901ed[_0x9803b1(0x228)]=()=>toggleSinglePattern(_0x56d3ea,_0x5199e2),_0x1150ce[_0x9803b1(0x2c0)](_0x2901ed);}}}function toggleSinglePattern(_0x208502,_0x126bdc){const _0x187d3e=a2_0x189b91;if(!availabilityPattern[_0x208502])availabilityPattern[_0x208502]=[];const _0x4e0337=availabilityPattern[_0x208502],_0x146084=_0x4e0337[_0x187d3e(0x23d)](_0x126bdc);_0x146084===-0x1?_0x4e0337[_0x187d3e(0x28e)](_0x126bdc):_0x4e0337[_0x187d3e(0x193)](_0x146084,0x1),renderPatternEditor();}function toggleColPattern(_0x4c1cca){const _0x5929d0=a2_0x189b91;if(!availabilityPattern[_0x4c1cca])availabilityPattern[_0x4c1cca]=[];const _0x3c9ccb=availabilityPattern[_0x4c1cca];_0x3c9ccb[_0x5929d0(0x21c)]===0x0?availabilityPattern[_0x4c1cca]=Array['from']({'length':0x18},(_0xb9b173,_0x170546)=>_0x170546):availabilityPattern[_0x4c1cca]=[],renderPatternEditor();}function toggleRowPattern(_0x4a39ad){const _0x1d56d6=a2_0x189b91;let _0xe0042=!![];for(let _0x1bb4a0=0x0;_0x1bb4a0<0x7;_0x1bb4a0++){if((availabilityPattern[_0x1bb4a0]||[])['includes'](_0x4a39ad)){_0xe0042=![];break;}}for(let _0x38110b=0x0;_0x38110b<0x7;_0x38110b++){if(!availabilityPattern[_0x38110b])availabilityPattern[_0x38110b]=[];const _0x5843a8=availabilityPattern[_0x38110b][_0x1d56d6(0x23d)](_0x4a39ad);if(_0xe0042){if(_0x5843a8===-0x1)availabilityPattern[_0x38110b]['push'](_0x4a39ad);}else{if(_0x5843a8!==-0x1)availabilityPattern[_0x38110b]['splice'](_0x5843a8,0x1);}}renderPatternEditor();}function renderPCol(_0x3028bd,_0x143fea){const _0x368590=a2_0x189b91;_0x3028bd[_0x368590(0x2dc)]='';const _0x27797f=Math[_0x368590(0x21f)](_0x3028bd[_0x368590(0x2ee)]);(availabilityPattern[_0x143fea]||[])['forEach'](_0x20fcdc=>{const _0x4a8fb0=_0x368590,_0x4f960b=document['createElement'](_0x4a8fb0(0x17c));_0x4f960b[_0x4a8fb0(0x256)]=_0x4a8fb0(0x2f8);const _0x2fd39f=_0x20fcdc*GRID_H;_0x4f960b[_0x4a8fb0(0x298)][_0x4a8fb0(0x297)]=_0x2fd39f+'px',_0x4f960b[_0x4a8fb0(0x298)][_0x4a8fb0(0x2bf)]='-'+_0x27797f+_0x4a8fb0(0x303)+_0x2fd39f+'px',_0x4f960b[_0x4a8fb0(0x228)]=_0x44642c=>{const _0x39d492=_0x4a8fb0;_0x44642c[_0x39d492(0x28c)](),toggleSinglePattern(_0x143fea,_0x20fcdc);},_0x3028bd['appendChild'](_0x4f960b);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x50c537=a2_0x189b91,_0x4a0c77=new Date(),_0x213321=document[_0x50c537(0x2e2)]('globalTimeLine'),_0x52f1d5=document[_0x50c537(0x2e2)]('timeLineBadge'),_0x58e3a5=(_0x4a0c77[_0x50c537(0x2ed)]()*0x3c+_0x4a0c77['getMinutes']())/0x3c*GRID_H;_0x213321[_0x50c537(0x298)][_0x50c537(0x297)]=_0x58e3a5+'px',_0x213321[_0x50c537(0x298)]['display']=_0x50c537(0x2c9),_0x52f1d5[_0x50c537(0x1d5)]=String(_0x4a0c77[_0x50c537(0x2ed)]())[_0x50c537(0x1cb)](0x2,'0')+':'+String(_0x4a0c77[_0x50c537(0x2c6)]())[_0x50c537(0x1cb)](0x2,'0'),_0x52f1d5['style'][_0x50c537(0x1cd)]=_0x50c537(0x2c9),_0x52f1d5[_0x50c537(0x298)]['top']=_0x58e3a5+'px';}document['addEventListener'](a2_0x189b91(0x232),init);function openDayOptions(_0x430e64){const _0x4fc1bb=a2_0x189b91;selectedDayForOptions=_0x430e64;const _0xbe093e=new Date(_0x430e64),_0x6be40d={'weekday':'long','day':_0x4fc1bb(0x1ae),'month':_0x4fc1bb(0x25f),'year':_0x4fc1bb(0x1ae)},_0x3e3d8f=_0xbe093e['toLocaleDateString']('ru-RU',_0x6be40d);document['getElementById']('doDateHeader')['textContent']=_0x3e3d8f['charAt'](0x0)[_0x4fc1bb(0x286)]()+_0x3e3d8f['slice'](0x1);let _0x412f94=_0xbe093e[_0x4fc1bb(0x2b4)]()-0x1;if(_0x412f94===-0x1)_0x412f94=0x6;const _0x179c9e=availabilityPattern[_0x412f94]||[],_0x209841=0x18-_0x179c9e['length'],_0x117724=_0x209841*0x3c,_0x2047e0=sessions[_0x4fc1bb(0x1c5)](_0x46b7ed=>_0x46b7ed['dateStr']===_0x430e64&&_0x46b7ed['status']!==_0x4fc1bb(0x267));let _0x44e323=_0x2047e0['map'](_0x3ffe92=>{const _0x5a1a23=_0x4fc1bb,[_0x4dc724,_0x4c9056]=_0x3ffe92[_0x5a1a23(0x2c4)][_0x5a1a23(0x20a)](':')[_0x5a1a23(0x185)](Number),[_0x669c3a,_0x362c21]=_0x3ffe92['end']['split'](':')[_0x5a1a23(0x185)](Number);return[_0x4dc724*0x3c+_0x4c9056,_0x669c3a*0x3c+_0x362c21];});_0x44e323[_0x4fc1bb(0x1e1)]((_0x15b10c,_0x20979e)=>_0x15b10c[0x0]-_0x20979e[0x0]);let _0x275db2=[];if(_0x44e323[_0x4fc1bb(0x21c)]>0x0){let _0x2c3a3e=_0x44e323[0x0];for(let _0x9fd486=0x1;_0x9fd486<_0x44e323[_0x4fc1bb(0x21c)];_0x9fd486++){_0x44e323[_0x9fd486][0x0]<_0x2c3a3e[0x1]?_0x2c3a3e[0x1]=Math[_0x4fc1bb(0x2fb)](_0x2c3a3e[0x1],_0x44e323[_0x9fd486][0x1]):(_0x275db2[_0x4fc1bb(0x28e)](_0x2c3a3e),_0x2c3a3e=_0x44e323[_0x9fd486]);}_0x275db2[_0x4fc1bb(0x28e)](_0x2c3a3e);}let _0x1b2a8d=0x0;_0x275db2['forEach'](_0xc8d022=>_0x1b2a8d+=_0xc8d022[0x1]-_0xc8d022[0x0]),document[_0x4fc1bb(0x2e2)](_0x4fc1bb(0x1d2))[_0x4fc1bb(0x1d5)]=formatMinsToHrs(_0x117724),document['getElementById'](_0x4fc1bb(0x20c))[_0x4fc1bb(0x1d5)]=formatMinsToHrs(_0x1b2a8d);const _0x472b6b=_0x117724>0x0?Math[_0x4fc1bb(0x21f)](_0x1b2a8d/_0x117724*0x64):0x0,_0x348e6a=document[_0x4fc1bb(0x2e2)](_0x4fc1bb(0x27c));_0x348e6a[_0x4fc1bb(0x1d5)]=_0x472b6b+'%';const _0x49e24c=document[_0x4fc1bb(0x2e2)]('statLoadCard');if(_0x472b6b>0x64)_0x348e6a[_0x4fc1bb(0x298)][_0x4fc1bb(0x229)]='var(--acc-red)',_0x49e24c['style'][_0x4fc1bb(0x21b)]=_0x4fc1bb(0x25a);else _0x472b6b>0x50?(_0x348e6a[_0x4fc1bb(0x298)][_0x4fc1bb(0x229)]=_0x4fc1bb(0x2d1),_0x49e24c[_0x4fc1bb(0x298)][_0x4fc1bb(0x21b)]=_0x4fc1bb(0x1b7)):(_0x348e6a[_0x4fc1bb(0x298)][_0x4fc1bb(0x229)]=_0x4fc1bb(0x27f),_0x49e24c[_0x4fc1bb(0x298)][_0x4fc1bb(0x21b)]=_0x4fc1bb(0x216));const _0x59b366=document[_0x4fc1bb(0x2e2)]('doEventsList');_0x59b366[_0x4fc1bb(0x2dc)]='';_0x2047e0[_0x4fc1bb(0x21c)]===0x0?_0x59b366[_0x4fc1bb(0x2dc)]='<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>':(_0x2047e0['sort']((_0x2b669c,_0x53ff50)=>_0x2b669c['start']['localeCompare'](_0x53ff50[_0x4fc1bb(0x2c4)])),_0x2047e0[_0x4fc1bb(0x1df)](_0x86e777=>{const _0x5daabf=_0x4fc1bb,_0x47c97b=clients['find'](_0x2bc9aa=>_0x2bc9aa[_0x5daabf(0x1a5)]===_0x86e777[_0x5daabf(0x1ee)]),_0x37b081=_0x47c97b?_0x47c97b[_0x5daabf(0x229)]:_0x5daabf(0x25c),_0x5b3f13=_0x86e777[_0x5daabf(0x293)]===_0x5daabf(0x220),_0x5812cb=_0x5b3f13?_0x5daabf(0x25d):'',_0x47adf8=document[_0x5daabf(0x29f)](_0x5daabf(0x17c));_0x47adf8[_0x5daabf(0x256)]='de-item',_0x47adf8[_0x5daabf(0x298)][_0x5daabf(0x18f)]=_0x37b081,_0x47adf8[_0x5daabf(0x2dc)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>'+_0x86e777[_0x5daabf(0x2c4)]+_0x5daabf(0x1bd)+_0x86e777[_0x5daabf(0x210)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x86e777[_0x5daabf(0x1ee)]+_0x5daabf(0x2e7)+_0x5812cb+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x59b366[_0x5daabf(0x2c0)](_0x47adf8);}));const _0x1990e1=document[_0x4fc1bb(0x2e2)]('btnDayToggle'),_0x40a24c=dateExceptions[_0x430e64]==='off';_0x40a24c?(_0x1990e1[_0x4fc1bb(0x1d5)]=_0x4fc1bb(0x1f8),_0x1990e1[_0x4fc1bb(0x256)]=_0x4fc1bb(0x2ab),_0x1990e1[_0x4fc1bb(0x298)]['color']=_0x4fc1bb(0x27f),_0x1990e1[_0x4fc1bb(0x298)][_0x4fc1bb(0x291)]=_0x4fc1bb(0x2a0)):(_0x1990e1['textContent']=_0x4fc1bb(0x1ca),_0x1990e1[_0x4fc1bb(0x256)]=_0x4fc1bb(0x23e),_0x1990e1['style'][_0x4fc1bb(0x229)]=_0x4fc1bb(0x2e5),_0x1990e1[_0x4fc1bb(0x298)][_0x4fc1bb(0x291)]=_0x4fc1bb(0x1f4)),openSheet(_0x4fc1bb(0x2e9));}let currentAnPeriod='week';function openAnalytics(){const _0x48b436=a2_0x189b91,_0x408f20=document[_0x48b436(0x2e3)](_0x48b436(0x2f0));setAnalyticsPeriod(_0x48b436(0x272),_0x408f20),closeAllSheets(),openSheet(_0x48b436(0x27d));}function setAnalyticsPeriod(_0x3b9c9b,_0x4d43fd){const _0xeb1792=a2_0x189b91;currentAnPeriod=_0x3b9c9b,document['querySelectorAll']('.period-switch\x20.p-btn')[_0xeb1792(0x1df)](_0x582ba5=>_0x582ba5['classList'][_0xeb1792(0x1cf)](_0xeb1792(0x296)));if(_0x4d43fd)_0x4d43fd[_0xeb1792(0x2f4)][_0xeb1792(0x1f3)](_0xeb1792(0x296));const _0x414b3e=document['getElementById'](_0xeb1792(0x2eb));_0x414b3e[_0xeb1792(0x298)]['display']=_0x3b9c9b==='custom'?_0xeb1792(0x2e8):_0xeb1792(0x1be);const _0x12a97a=new Date();let _0x3ca80d=new Date(),_0x4f3100=new Date();if(_0x3b9c9b===_0xeb1792(0x272))_0x3ca80d=getStartOfWeek(_0x12a97a),_0x4f3100=new Date(_0x3ca80d),_0x4f3100['setDate'](_0x4f3100['getDate']()+0x6);else{if(_0x3b9c9b===_0xeb1792(0x1c4))_0x3ca80d=new Date(_0x12a97a[_0xeb1792(0x1fb)](),_0x12a97a['getMonth'](),0x1),_0x4f3100=new Date(_0x12a97a[_0xeb1792(0x1fb)](),_0x12a97a[_0xeb1792(0x24c)]()+0x1,0x0);else{!document[_0xeb1792(0x2e2)](_0xeb1792(0x239))[_0xeb1792(0x20b)]&&(document['getElementById'](_0xeb1792(0x239))[_0xeb1792(0x20b)]=getLocalDateStr(_0x12a97a),document[_0xeb1792(0x2e2)](_0xeb1792(0x26e))[_0xeb1792(0x20b)]=getLocalDateStr(_0x12a97a));refreshAnalytics();return;}}document[_0xeb1792(0x2e2)](_0xeb1792(0x239))[_0xeb1792(0x20b)]=getLocalDateStr(_0x3ca80d),document[_0xeb1792(0x2e2)](_0xeb1792(0x26e))[_0xeb1792(0x20b)]=getLocalDateStr(_0x4f3100),refreshAnalytics();}function refreshAnalytics(){const _0x2b3593=a2_0x189b91,_0x5554fa=document[_0x2b3593(0x2e2)](_0x2b3593(0x239))['value'],_0x1d29fd=document[_0x2b3593(0x2e2)](_0x2b3593(0x26e))['value'];if(!_0x5554fa||!_0x1d29fd)return;const _0x3890e2=sessions[_0x2b3593(0x1c5)](_0x28c5b8=>_0x28c5b8[_0x2b3593(0x2ce)]>=_0x5554fa&&_0x28c5b8[_0x2b3593(0x2ce)]<=_0x1d29fd&&_0x28c5b8[_0x2b3593(0x293)]!=='cancelled'),_0x3cec45=_0x3890e2['length'],_0x189296=_0x3890e2[_0x2b3593(0x1c5)](_0x4b2b43=>_0x4b2b43[_0x2b3593(0x293)]==='completed')[_0x2b3593(0x21c)],_0x298900=_0x3cec45>0x0?Math[_0x2b3593(0x21f)](_0x189296/_0x3cec45*0x64):0x0;document[_0x2b3593(0x2e2)](_0x2b3593(0x233))[_0x2b3593(0x1d5)]=_0x298900+'%',document[_0x2b3593(0x2e2)](_0x2b3593(0x20f))[_0x2b3593(0x1d5)]=_0x189296+_0x2b3593(0x1d9)+_0x3cec45+_0x2b3593(0x1b6);const _0x102119=document[_0x2b3593(0x2e2)](_0x2b3593(0x1eb)),_0x4a226f=0x2*Math['PI']*0x23,_0x39856c=_0x4a226f-_0x298900/0x64*_0x4a226f;_0x102119[_0x2b3593(0x298)]['strokeDashoffset']=_0x39856c;const _0x2d56c7={};_0x3890e2['forEach'](_0x462f96=>{const _0x3b47e6=_0x2b3593;if(!_0x2d56c7[_0x462f96[_0x3b47e6(0x1ee)]]){const _0x4192fb=clients[_0x3b47e6(0x2b3)](_0x267cb8=>_0x267cb8[_0x3b47e6(0x1a5)]===_0x462f96[_0x3b47e6(0x1ee)]);_0x2d56c7[_0x462f96[_0x3b47e6(0x1ee)]]={'total':0x0,'done':0x0,'color':_0x4192fb?_0x4192fb['color']:_0x3b47e6(0x25c)};}_0x2d56c7[_0x462f96['client']]['total']++;if(_0x462f96[_0x3b47e6(0x293)]==='completed')_0x2d56c7[_0x462f96['client']][_0x3b47e6(0x1a9)]++;});const _0x196fc4=document[_0x2b3593(0x2e2)](_0x2b3593(0x250));_0x196fc4[_0x2b3593(0x2dc)]='';const _0x315ed5=Object['entries'](_0x2d56c7)[_0x2b3593(0x1e1)]((_0x2cb1ca,_0x3217b4)=>_0x3217b4[0x1]['total']-_0x2cb1ca[0x1][_0x2b3593(0x1ec)]);if(_0x315ed5[_0x2b3593(0x21c)]===0x0){_0x196fc4['innerHTML']='<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>';return;}_0x315ed5[_0x2b3593(0x1df)](([_0x49b719,_0x207647])=>{const _0xe521f3=_0x2b3593,_0x1c5254=Math[_0xe521f3(0x21f)](_0x207647[_0xe521f3(0x1a9)]/_0x207647[_0xe521f3(0x1ec)]*0x64),_0x5c28fc=document[_0xe521f3(0x29f)](_0xe521f3(0x17c));_0x5c28fc[_0xe521f3(0x256)]=_0xe521f3(0x277),_0x5c28fc[_0xe521f3(0x298)][_0xe521f3(0x18f)]=_0x207647[_0xe521f3(0x229)],_0x5c28fc['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>'+_0x49b719+_0xe521f3(0x2b7)+_0x207647[_0xe521f3(0x1a9)]+_0xe521f3(0x2be)+_0x207647[_0xe521f3(0x1ec)]+_0xe521f3(0x1b8)+_0x1c5254+_0xe521f3(0x1f5),_0x196fc4[_0xe521f3(0x2c0)](_0x5c28fc);});}function formatMinsToHrs(_0x383dbf){const _0x9ae747=a2_0x189b91;if(_0x383dbf===0x0)return'0';const _0x469f31=Math[_0x9ae747(0x2de)](_0x383dbf/0x3c),_0x3dd1c2=_0x383dbf%0x3c;if(_0x3dd1c2===0x0)return _0x469f31+'—á';return _0x469f31+'—á\x20'+_0x3dd1c2+'–º';}