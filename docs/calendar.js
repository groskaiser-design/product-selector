const a2_0x1c4ed3=a2_0x1b80;(function(_0xd826bf,_0x508c7f){const _0x52f298=a2_0x1b80,_0x51b035=_0xd826bf();while(!![]){try{const _0x227568=-parseInt(_0x52f298(0x12c))/0x1+parseInt(_0x52f298(0x1ca))/0x2*(parseInt(_0x52f298(0x72))/0x3)+-parseInt(_0x52f298(0x1cf))/0x4*(-parseInt(_0x52f298(0x1dd))/0x5)+-parseInt(_0x52f298(0x115))/0x6*(parseInt(_0x52f298(0x140))/0x7)+parseInt(_0x52f298(0x1db))/0x8*(parseInt(_0x52f298(0x1d2))/0x9)+parseInt(_0x52f298(0x1a1))/0xa+parseInt(_0x52f298(0x9c))/0xb*(-parseInt(_0x52f298(0x195))/0xc);if(_0x227568===_0x508c7f)break;else _0x51b035['push'](_0x51b035['shift']());}catch(_0x170d66){_0x51b035['push'](_0x51b035['shift']());}}}(a2_0x58d1,0x92678),function initTMA(){const _0x416c10=a2_0x1b80;try{const _0x33a687=window['Telegram']?.[_0x416c10(0x172)];if(!_0x33a687)return;_0x33a687[_0x416c10(0x14e)](),_0x33a687[_0x416c10(0x1bb)]();try{_0x33a687[_0x416c10(0x114)](_0x416c10(0xe4)),_0x33a687[_0x416c10(0x1ad)]&&_0x33a687[_0x416c10(0x1ad)]('#050505');}catch(_0x378dbe){console[_0x416c10(0xf5)](_0x416c10(0x178),_0x378dbe);}try{_0x33a687[_0x416c10(0x1a3)]&&(_0x33a687[_0x416c10(0x1a3)][_0x416c10(0x190)](),_0x33a687[_0x416c10(0x1a3)][_0x416c10(0x18e)](),_0x33a687[_0x416c10(0x1a3)][_0x416c10(0x1ce)](function(){const _0x4ad084=_0x416c10;window[_0x4ad084(0x88)][_0x4ad084(0x7f)]=_0x4ad084(0x96);}));}catch(_0x14c1a5){console['log'](_0x416c10(0xcd),_0x14c1a5);}try{if(_0x33a687[_0x416c10(0x76)])_0x33a687[_0x416c10(0x76)]();}catch(_0x381642){}}catch(_0x3f35e4){console['error'](_0x416c10(0x1d3),_0x3f35e4);}}());function isAdmin(){const _0x1013e7=a2_0x1b80;try{const _0x254fb8=Number(window[_0x1013e7(0x6b)]?.['WebApp']?.[_0x1013e7(0x7d)]?.['user']?.['id']);return _0x254fb8===0xbaf7174;}catch(_0x1de0a6){return![];}}const APP_VERSION=a2_0x1c4ed3(0x94),API_URL=a2_0x1c4ed3(0xe5),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS='uc_clients_v9',KEY_SESSIONS='uc_sessions_v9',KEY_SETTINGS='uc_settings_v9';let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x3abb32=a2_0x1c4ed3;return window[_0x3abb32(0x6b)]?.[_0x3abb32(0x172)]?.[_0x3abb32(0x7d)]?.[_0x3abb32(0x109)]?.['id']||'guest';},'saveLocally'(){const _0x4197c6=a2_0x1c4ed3;try{localStorage[_0x4197c6(0x187)](KEY_CLIENTS,JSON[_0x4197c6(0x17f)](clients)),localStorage[_0x4197c6(0x187)](KEY_SESSIONS,JSON[_0x4197c6(0x17f)](sessions)),localStorage['setItem'](KEY_SETTINGS,JSON[_0x4197c6(0x17f)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x294fc8){console[_0x4197c6(0x177)](_0x4197c6(0x1c8),_0x294fc8);}},'loadLocal'(){const _0x2cad4f=a2_0x1c4ed3;try{const _0x4a7d11=localStorage[_0x2cad4f(0x1d4)](KEY_CLIENTS);if(_0x4a7d11)clients=JSON[_0x2cad4f(0x1c0)](_0x4a7d11);const _0x149042=localStorage[_0x2cad4f(0x1d4)](KEY_SESSIONS);if(_0x149042)sessions=JSON['parse'](_0x149042);const _0x54c87f=localStorage[_0x2cad4f(0x1d4)](KEY_SETTINGS);if(_0x54c87f){const _0x5d6292=JSON[_0x2cad4f(0x1c0)](_0x54c87f);if(_0x5d6292['pattern'])availabilityPattern=_0x5d6292[_0x2cad4f(0xf1)];if(_0x5d6292['exceptions'])dateExceptions=_0x5d6292[_0x2cad4f(0x1cc)];if(_0x5d6292[_0x2cad4f(0x131)])specialRanges=_0x5d6292[_0x2cad4f(0x131)];}else{for(let _0x511fcf=0x0;_0x511fcf<0x7;_0x511fcf++)availabilityPattern[_0x511fcf]=Array[_0x2cad4f(0xe9)]({'length':0xc},(_0x4ed543,_0x170d28)=>_0x170d28+0x9);}}catch(_0x328a3c){console[_0x2cad4f(0x177)](_0x2cad4f(0xb9),_0x328a3c);}},async 'fetchFromServer'(_0x56a1c6,_0x5234e1={}){const _0x387539=a2_0x1c4ed3,_0x577d01=window[_0x387539(0x6b)]?.['WebApp'],_0xda22e2={'action':_0x56a1c6,'init_data':_0x577d01?.[_0x387539(0xf6)]||'',..._0x5234e1};try{const _0x55100a=await fetch(API_URL,{'method':_0x387539(0x17e),'headers':{'Content-Type':_0x387539(0xd9)},'body':JSON[_0x387539(0x17f)](_0xda22e2)}),_0xb5961a=await _0x55100a[_0x387539(0x143)]();if(!_0xb5961a['ok'])throw new Error(_0xb5961a['error']||_0x387539(0xad));return _0xb5961a[_0x387539(0x19b)];}catch(_0x4e4ae2){console[_0x387539(0x177)](_0x387539(0x102)+_0x56a1c6+_0x387539(0x87),_0x4e4ae2);throw _0x4e4ae2;}},async 'syncLoad'(){const _0x5cf6e9=a2_0x1c4ed3,_0x10b414=new Date(),_0x490509=_0x10b414[_0x5cf6e9(0x13c)]()+'-'+String(_0x10b414[_0x5cf6e9(0x174)]()+0x1)[_0x5cf6e9(0x8b)](0x2,'0'),_0x2bcf62=new Date(_0x10b414);_0x2bcf62[_0x5cf6e9(0x146)](_0x10b414[_0x5cf6e9(0x174)]()+0x1);const _0x465ba3=_0x2bcf62[_0x5cf6e9(0x13c)]()+'-'+String(_0x2bcf62[_0x5cf6e9(0x174)]()+0x1)[_0x5cf6e9(0x8b)](0x2,'0'),_0x3c7cf9=Date['now']();console[_0x5cf6e9(0xf5)](_0x5cf6e9(0x15b)+_0x490509+',\x20'+_0x465ba3+_0x5cf6e9(0x93));try{const [_0x53b269,_0x389d14]=await Promise['all']([this['fetchFromServer']('init_load',{'month_str':_0x490509}),this[_0x5cf6e9(0x1b6)](_0x5cf6e9(0x164),{'month_str':_0x465ba3})]);if(lastUserActionTime>_0x3c7cf9)return console[_0x5cf6e9(0x1a7)]('[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response'),![];return this[_0x5cf6e9(0x120)](_0x53b269,_0x490509),this[_0x5cf6e9(0x120)](_0x389d14,_0x465ba3),this[_0x5cf6e9(0xfd)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x23beba){console[_0x5cf6e9(0x177)](_0x23beba);throw _0x23beba;}},'mergeServerData'(_0x1aeac3,_0x204281){const _0x12e1b5=a2_0x1c4ed3;if(!_0x1aeac3)return;_0x1aeac3['clients']&&Array[_0x12e1b5(0x112)](_0x1aeac3['clients'])&&(clients=_0x1aeac3[_0x12e1b5(0x117)]);if(_0x1aeac3['settings']){if(_0x1aeac3[_0x12e1b5(0xe2)][_0x12e1b5(0xf1)])availabilityPattern=_0x1aeac3[_0x12e1b5(0xe2)][_0x12e1b5(0xf1)];if(_0x1aeac3['settings'][_0x12e1b5(0x1cc)])dateExceptions=_0x1aeac3[_0x12e1b5(0xe2)]['exceptions'];if(_0x1aeac3[_0x12e1b5(0xe2)][_0x12e1b5(0x131)])specialRanges=_0x1aeac3[_0x12e1b5(0xe2)][_0x12e1b5(0x131)];if(_0x1aeac3['settings'][_0x12e1b5(0x1e8)]){localStorage['setItem'](_0x12e1b5(0x15a),_0x1aeac3['settings']['cancel_window']);const _0x131aa6=document[_0x12e1b5(0x1e1)](_0x12e1b5(0x184));if(_0x131aa6)_0x131aa6[_0x12e1b5(0xeb)]=_0x1aeac3['settings'][_0x12e1b5(0x1e8)];}}_0x1aeac3[_0x12e1b5(0xa1)]&&(sessions=sessions['filter'](_0x1dfab2=>!_0x1dfab2['dateStr'][_0x12e1b5(0x136)](_0x204281)),Object[_0x12e1b5(0x13f)](_0x1aeac3['calendar'])[_0x12e1b5(0x12d)](_0x9b8af0=>{const _0x8b9bff=_0x12e1b5,_0x4ab64d=_0x1aeac3[_0x8b9bff(0xa1)][_0x9b8af0];_0x4ab64d[_0x8b9bff(0x12d)](_0x2386f2=>{const _0x379fec=_0x8b9bff,_0x56a6fd=clients['find'](_0x10e330=>String(_0x10e330['id'])===String(_0x2386f2['c']));sessions['push']({'id':_0x2386f2['i'],'clientId':_0x2386f2['c'],'client':_0x56a6fd?_0x56a6fd[_0x379fec(0x144)]:_0x379fec(0x1cd),'dateStr':_0x204281+'-'+_0x9b8af0['padStart'](0x2,'0'),'start':_0x2386f2['s'],'end':_0x2386f2['e'],'status':_0x2386f2['st']||_0x379fec(0x69),'note':_0x2386f2['n']||'','seriesId':_0x2386f2[_0x379fec(0x14d)]||null});});}));},async 'syncBatch'(_0x44add7){const _0x246bd4=a2_0x1c4ed3,_0x3764e2=[...new Set(_0x44add7)],_0x40b0c3=_0x3764e2['map'](_0x5cd96c=>{const _0x2698b8=a2_0x1b80,_0x4a7c99=sessions[_0x2698b8(0xea)](_0x31213c=>_0x31213c[_0x2698b8(0x19a)]===_0x5cd96c&&_0x31213c[_0x2698b8(0x1c6)]!=='deleted'),_0x3383ab=_0x4a7c99[_0x2698b8(0xcf)](_0x1d358c=>({'i':_0x1d358c['id'],'c':_0x1d358c['clientId'],'s':_0x1d358c[_0x2698b8(0x155)],'e':_0x1d358c[_0x2698b8(0x181)],'st':_0x1d358c[_0x2698b8(0x1c6)],'n':_0x1d358c[_0x2698b8(0x162)],'sid':_0x1d358c['seriesId']}));return{'date':_0x5cd96c,'day_data':_0x3383ab};});if(_0x40b0c3['length']===0x0)return;console[_0x246bd4(0xf5)](_0x246bd4(0x1be)+_0x40b0c3['length']+_0x246bd4(0xef)),await this[_0x246bd4(0x1b6)]('batch_sync',{'changes':_0x40b0c3});}};async function init(){const _0x554f5b=a2_0x1c4ed3;DataManager['loadLocal'](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x554f5b(0x1e1)]('matrixViewport')[_0x554f5b(0x1e4)]('scroll',()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x554f5b(0x19f)]()[_0x554f5b(0x1a2)](()=>{const _0x3e7d70=_0x554f5b;showToast(_0x3e7d70(0x10e),!![]);})[_0x554f5b(0xf2)](_0x16a7d6=>{showToast('–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º',![]);});}function generateId(){const _0x2a70e7=a2_0x1c4ed3;return Date[_0x2a70e7(0xe6)]()['toString'](0x24)+Math[_0x2a70e7(0x130)]()[_0x2a70e7(0xc6)](0x24)[_0x2a70e7(0x118)](0x2,0x5);}function toggleSeriesInput(){const _0x39ed7e=a2_0x1c4ed3,_0x4db677=document[_0x39ed7e(0x1e1)]('inpRecurring')[_0x39ed7e(0xc5)],_0x5b5698=document[_0x39ed7e(0x1e1)](_0x39ed7e(0x6d));_0x5b5698['style']['display']=_0x4db677?_0x39ed7e(0xd4):_0x39ed7e(0x1b1);const _0xdf5b2f=document['getElementById'](_0x39ed7e(0x133));_0xdf5b2f['style'][_0x39ed7e(0x16c)]=_0x4db677?_0x39ed7e(0x119):'10px';}function a2_0x1b80(_0x5a5810,_0x2fb990){_0x5a5810=_0x5a5810-0x66;const _0x5445d4=a2_0x58d1();let _0x1ba417=_0x5445d4[_0x5a5810];return _0x1ba417;}function openAddSession(_0x4fc37c){const _0xa0a9cd=a2_0x1c4ed3;editingId=null,populateClientSelect(),document[_0xa0a9cd(0x1e1)](_0xa0a9cd(0x156))[_0xa0a9cd(0xc4)]='–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å',document[_0xa0a9cd(0x1e1)](_0xa0a9cd(0xfe))[_0xa0a9cd(0x127)]['display']=_0xa0a9cd(0x1b1),document[_0xa0a9cd(0x1e1)]('btnStatusToggle')['style']['display']=_0xa0a9cd(0x1b1);const _0x5adecb=document[_0xa0a9cd(0x1e1)](_0xa0a9cd(0x133)),_0x56ae3e=document[_0xa0a9cd(0x1e1)](_0xa0a9cd(0x6d));_0x5adecb[_0xa0a9cd(0x127)][_0xa0a9cd(0xb2)]=_0xa0a9cd(0x16f),_0x5adecb['style'][_0xa0a9cd(0x16c)]=_0xa0a9cd(0x168),document[_0xa0a9cd(0x1e1)](_0xa0a9cd(0x16d))[_0xa0a9cd(0xc5)]=![],document['getElementById'](_0xa0a9cd(0x1d8))['value']=0x4,_0x56ae3e[_0xa0a9cd(0x127)][_0xa0a9cd(0xb2)]='none',document['getElementById']('inpDate')[_0xa0a9cd(0xeb)]=getLocalDateStr(_0x4fc37c),updateDateDisplay();const _0x34cf81=_0x4fc37c[_0xa0a9cd(0x193)]();document[_0xa0a9cd(0x1e1)](_0xa0a9cd(0x14b))[_0xa0a9cd(0xeb)]=String(_0x34cf81)[_0xa0a9cd(0x8b)](0x2,'0')+_0xa0a9cd(0x149),document[_0xa0a9cd(0x1e1)](_0xa0a9cd(0x1d7))[_0xa0a9cd(0xeb)]=String(_0x34cf81+0x1)['padStart'](0x2,'0')+':00',openSheet(_0xa0a9cd(0x183));}function openEdit(_0x31cd7d){const _0x349d2b=a2_0x1c4ed3;editingId=_0x31cd7d['id'],populateClientSelect(),document[_0x349d2b(0x1e1)](_0x349d2b(0x156))[_0x349d2b(0xc4)]=_0x349d2b(0x152),document[_0x349d2b(0x1e1)](_0x349d2b(0xfe))[_0x349d2b(0x127)]['display']=_0x349d2b(0xd4);const _0x59ec57=document['getElementById'](_0x349d2b(0xb6));_0x59ec57[_0x349d2b(0x127)][_0x349d2b(0xb2)]='flex';_0x31cd7d['status']===_0x349d2b(0x81)?(_0x59ec57[_0x349d2b(0x142)]=_0x349d2b(0x67),_0x59ec57[_0x349d2b(0xbb)]=_0x349d2b(0x169)):(_0x59ec57['className']=_0x349d2b(0xd5),_0x59ec57['innerHTML']='<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É');const _0x3f5fd2=!!_0x31cd7d[_0x349d2b(0x77)];document['getElementById'](_0x349d2b(0x133))['style'][_0x349d2b(0xb2)]=_0x349d2b(0x1b1),document[_0x349d2b(0x1e1)](_0x349d2b(0x6d))[_0x349d2b(0x127)][_0x349d2b(0xb2)]=_0x349d2b(0x1b1),_0x3f5fd2?(document[_0x349d2b(0x1e1)]('patternInfoBox')[_0x349d2b(0x127)][_0x349d2b(0xb2)]=_0x349d2b(0x16f),document[_0x349d2b(0x1e1)]('patternInfoBox')[_0x349d2b(0x1af)](_0x349d2b(0x17c))[_0x349d2b(0xc4)]='–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫'):document[_0x349d2b(0x1e1)](_0x349d2b(0x171))[_0x349d2b(0x127)][_0x349d2b(0xb2)]=_0x349d2b(0x1b1),document[_0x349d2b(0x1e1)](_0x349d2b(0x1e7))[_0x349d2b(0xeb)]=_0x31cd7d[_0x349d2b(0x14c)],document[_0x349d2b(0x1e1)](_0x349d2b(0xd6))[_0x349d2b(0xeb)]=_0x31cd7d[_0x349d2b(0x19a)],document[_0x349d2b(0x1e1)](_0x349d2b(0x14b))[_0x349d2b(0xeb)]=_0x31cd7d[_0x349d2b(0x155)],document[_0x349d2b(0x1e1)](_0x349d2b(0x1d7))['value']=_0x31cd7d[_0x349d2b(0x181)],document['getElementById'](_0x349d2b(0x1bc))[_0x349d2b(0xeb)]=_0x31cd7d[_0x349d2b(0x162)]||'',updateDateDisplay(),openSheet(_0x349d2b(0x183));}async function trySaveSession(){const _0x270982=a2_0x1c4ed3,_0x582dfa=document[_0x270982(0x1e1)](_0x270982(0x1e7))['value'],_0x4b02fa=document[_0x270982(0x1e1)]('inpDate')[_0x270982(0xeb)],_0x373a1b=document['getElementById'](_0x270982(0x14b))[_0x270982(0xeb)],_0x28c246=document[_0x270982(0x1e1)](_0x270982(0x1d7))[_0x270982(0xeb)],_0x5b2b12=document[_0x270982(0x1e1)]('inpNote')['value'],_0x429f6e=document['getElementById'](_0x270982(0x16d))[_0x270982(0xc5)];let _0x49cb68=0x4;if(_0x429f6e){const _0x473823=parseInt(document['getElementById']('inpSeriesCount')[_0x270982(0xeb)]);if(!_0x473823||_0x473823<0x2){showToast('–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏',![]);return;}if(_0x473823>0x64){showToast(_0x270982(0xc2),![]);return;}_0x49cb68=_0x473823;}const _0x484893=clients[_0x270982(0x151)](_0x3163cd=>_0x3163cd[_0x270982(0x144)]===_0x582dfa);if(!_0x484893){showToast(_0x270982(0x1a5),![]);return;}const _0x40be19=validateAppointment(_0x4b02fa,_0x373a1b,_0x28c246,editingId,_0x484893['id']);if(!_0x40be19[_0x270982(0x10b)]){showToast(_0x40be19[_0x270982(0x1c1)],![]);return;}_0x40be19[_0x270982(0x1ea)]&&showToast(_0x40be19['warning'],![]);const _0x1a3b1d={'client':_0x582dfa,'clientId':_0x484893['id'],'start':_0x373a1b,'end':_0x28c246,'note':_0x5b2b12,'status':'planned'},_0x2cc979=editingId?sessions[_0x270982(0x151)](_0x31b863=>_0x31b863['id']===editingId):null;if(_0x2cc979&&_0x2cc979[_0x270982(0x77)]){tempSessionData={..._0x1a3b1d,'dateStr':_0x4b02fa,'id':editingId,'seriesId':_0x2cc979['seriesId']},openActionSheet(_0x270982(0xd0));return;}let _0x2b8f4d=null;if(!editingId)_0x2b8f4d=_0x270982(0xb0);else{if(_0x2cc979){if(String(_0x2cc979[_0x270982(0x78)])!==String(_0x484893['id']))console[_0x270982(0xf5)]('[Notify]\x20Client\x20SWAP\x20detected'),NotificationManager[_0x270982(0x1e5)](_0x270982(0x91),_0x2cc979),_0x2b8f4d='create';else(_0x2cc979[_0x270982(0x155)]!==_0x373a1b||_0x2cc979['end']!==_0x28c246||_0x2cc979[_0x270982(0x19a)]!==_0x4b02fa)&&(_0x2b8f4d='update');}}if(!editingId&&_0x429f6e){createBatchSeries(_0x1a3b1d,_0x4b02fa,_0x49cb68),NotificationManager[_0x270982(0x1e5)](_0x270982(0xb0),{..._0x1a3b1d,'dateStr':_0x4b02fa});return;}lastUserActionTime=Date[_0x270982(0xe6)]();const _0x3baa97={..._0x1a3b1d,'dateStr':_0x4b02fa,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x3baa97),_0x2b8f4d&&NotificationManager[_0x270982(0x1e5)](_0x2b8f4d,_0x3baa97);}function toggleSessionStatus(){const _0x36ba6e=a2_0x1c4ed3;lastUserActionTime=Date[_0x36ba6e(0xe6)]();const _0x171e74=sessions[_0x36ba6e(0x151)](_0x486496=>_0x486496['id']===editingId);if(!_0x171e74)return;const _0x2592c8=_0x171e74[_0x36ba6e(0x1c6)]===_0x36ba6e(0x81)?'planned':_0x36ba6e(0x81);_0x171e74[_0x36ba6e(0x1c6)]=_0x2592c8,saveSingleSession(_0x171e74),_0x2592c8===_0x36ba6e(0x81)&&NotificationManager[_0x36ba6e(0x1e5)](_0x36ba6e(0x199),_0x171e74),showToast(_0x2592c8===_0x36ba6e(0x81)?_0x36ba6e(0x165):_0x36ba6e(0x16b),!![]);}function validateAppointment(_0x15b8a1,_0x302b1f,_0xed08a7,_0x32cb66,_0x1c8696){const _0x5dafac=a2_0x1c4ed3,[_0x50e61e,_0x15e6d4]=_0x302b1f[_0x5dafac(0x11d)](':')[_0x5dafac(0xcf)](Number),[_0x3ff187,_0x441e1a]=_0xed08a7['split'](':')['map'](Number),_0x37ad7b=_0x50e61e*0x3c+_0x15e6d4,_0x11d767=_0x3ff187*0x3c+_0x441e1a,_0x5005ab=String(_0x1c8696);let _0x29de93=![],_0x5e3ab6='';for(let _0x3276ff of sessions){if(_0x3276ff[_0x5dafac(0x19a)]!==_0x15b8a1)continue;if(_0x3276ff[_0x5dafac(0x1c6)]===_0x5dafac(0x166))continue;if(_0x32cb66&&String(_0x3276ff['id'])===String(_0x32cb66))continue;const [_0x10690a,_0x1f176a]=_0x3276ff[_0x5dafac(0x155)][_0x5dafac(0x11d)](':')['map'](Number),[_0x53ee41,_0x2370e4]=_0x3276ff[_0x5dafac(0x181)][_0x5dafac(0x11d)](':')[_0x5dafac(0xcf)](Number),_0x544797=_0x10690a*0x3c+_0x1f176a,_0x28aa4f=_0x53ee41*0x3c+_0x2370e4;if(Math[_0x5dafac(0xdf)](_0x37ad7b,_0x544797)<Math[_0x5dafac(0x1d9)](_0x11d767,_0x28aa4f)){if(_0x3276ff['clientId']&&String(_0x3276ff['clientId'])===_0x5005ab)return{'valid':![],'msg':_0x5dafac(0x8c)+_0x3276ff['client']+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x29de93=!![],_0x5e3ab6=_0x3276ff[_0x5dafac(0x14c)];}}if(_0x29de93)return{'valid':!![],'warning':'–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20'+_0x5e3ab6};return{'valid':!![]};}function saveSingleSession(_0x4a1ae0){const _0x25df2a=a2_0x1c4ed3;if(editingId){const _0x1c0bdb=sessions[_0x25df2a(0x90)](_0x1a2575=>_0x1a2575['id']===editingId);if(_0x1c0bdb!==-0x1)sessions[_0x1c0bdb]=_0x4a1ae0;}else sessions['push'](_0x4a1ae0);afterSaveAction([_0x4a1ae0[_0x25df2a(0x19a)]]);}function createBatchSeries(_0x307412,_0x528428,_0x4b90e6){const _0x42d64f=a2_0x1c4ed3,_0x40906a=generateId(),_0x455f75=[],_0x1998e1=[];let _0x2ae6d5=0x0,_0x49a63a=new Date(_0x528428);for(let _0x3b7bfb=0x0;_0x3b7bfb<_0x4b90e6;_0x3b7bfb++){const _0x10292a=getLocalDateStr(_0x49a63a),_0x4e2c70=validateAppointment(_0x10292a,_0x307412['start'],_0x307412[_0x42d64f(0x181)],null,_0x307412[_0x42d64f(0x78)]);if(!_0x4e2c70[_0x42d64f(0x10b)])console[_0x42d64f(0xf5)](_0x42d64f(0x1d6)+_0x10292a+_0x42d64f(0x134)),_0x2ae6d5++;else{const _0x5dcf8a={..._0x307412,'id':generateId(),'dateStr':_0x10292a,'seriesId':_0x40906a};_0x1998e1['push'](_0x5dcf8a),_0x455f75[_0x42d64f(0x71)](_0x10292a);}_0x49a63a[_0x42d64f(0x1c3)](_0x49a63a[_0x42d64f(0x129)]()+0x7);}if(_0x1998e1[_0x42d64f(0x74)]===0x0){showToast('–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!',![]);return;}sessions[_0x42d64f(0x71)](..._0x1998e1),lastUserActionTime=Date[_0x42d64f(0xe6)]();let _0x25649b=_0x42d64f(0xb1)+_0x1998e1[_0x42d64f(0x74)];_0x2ae6d5>0x0&&(_0x25649b+=_0x42d64f(0xee)+_0x2ae6d5+')'),showToast(_0x25649b,!![]),afterSaveAction(_0x455f75);}function updateSeriesBatch(_0x3412e5,_0x2cfa56){const _0x5241a8=a2_0x1c4ed3,_0x4206a8=[],_0xbd1db8=_0x2cfa56['seriesId'];if(_0x3412e5==='single'){const _0x3e6603={..._0x2cfa56,'seriesId':null},_0x5a2b2b=sessions[_0x5241a8(0x90)](_0x172f6a=>_0x172f6a['id']===_0x2cfa56['id']);if(_0x5a2b2b!==-0x1)sessions[_0x5a2b2b]=_0x3e6603;_0x4206a8[_0x5241a8(0x71)](_0x3e6603['dateStr']);}else{if(_0x3412e5===_0x5241a8(0x1a8)){const _0x3923bb=_0x2cfa56[_0x5241a8(0x19a)];sessions[_0x5241a8(0x12d)]((_0x16210d,_0x19429a)=>{const _0x4e31cd=_0x5241a8;_0x16210d[_0x4e31cd(0x77)]===_0xbd1db8&&_0x16210d['dateStr']>=_0x3923bb&&(sessions[_0x19429a]={...sessions[_0x19429a],'start':_0x2cfa56['start'],'end':_0x2cfa56['end'],'note':_0x2cfa56[_0x4e31cd(0x162)],'client':_0x2cfa56[_0x4e31cd(0x14c)],'clientId':_0x2cfa56[_0x4e31cd(0x78)]},_0x4206a8[_0x4e31cd(0x71)](_0x16210d[_0x4e31cd(0x19a)]));});}}afterSaveAction(_0x4206a8);}function tryDeleteSession(){const _0x451bdb=a2_0x1c4ed3,_0x1bde5d=sessions[_0x451bdb(0x151)](_0xdeaeb7=>_0xdeaeb7['id']===editingId);if(!_0x1bde5d)return;_0x1bde5d[_0x451bdb(0x77)]?openActionSheet(_0x451bdb(0xe0)):commitDelete(_0x451bdb(0xfb),_0x1bde5d);}function commitDelete(_0x5bac0c,_0x114b81){const _0x4f132a=a2_0x1c4ed3;lastUserActionTime=Date[_0x4f132a(0xe6)](),NotificationManager[_0x4f132a(0x1e5)](_0x4f132a(0x91),_0x114b81);const _0x58135f=[];if(_0x5bac0c===_0x4f132a(0xfb))sessions=sessions[_0x4f132a(0xea)](_0x19dab9=>_0x19dab9['id']!==_0x114b81['id']),_0x58135f[_0x4f132a(0x71)](_0x114b81['dateStr']);else{if(_0x5bac0c===_0x4f132a(0x1a8)){const _0x273f69=_0x114b81[_0x4f132a(0x19a)],_0x19613b=_0x114b81['seriesId'];sessions['forEach'](_0x35e6ff=>{const _0x2d239b=_0x4f132a;_0x35e6ff[_0x2d239b(0x77)]===_0x19613b&&_0x35e6ff[_0x2d239b(0x19a)]>=_0x273f69&&_0x58135f[_0x2d239b(0x71)](_0x35e6ff['dateStr']);}),sessions=sessions[_0x4f132a(0xea)](_0x91dae6=>!(_0x91dae6['seriesId']===_0x19613b&&_0x91dae6[_0x4f132a(0x19a)]>=_0x273f69));}}afterSaveAction(_0x58135f);}function afterSaveAction(_0x9018fe){const _0xc76b48=a2_0x1c4ed3;DataManager['saveLocally'](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager['syncBatch'](_0x9018fe)['then'](()=>console[_0xc76b48(0xf5)](_0xc76b48(0x106)))[_0xc76b48(0xf2)](_0x97985a=>showToast(_0xc76b48(0x141),![]));}const NotificationManager={'formatDate'(_0x39cb4f){const _0x32c04b=a2_0x1c4ed3,_0x514147=new Date(_0x39cb4f),_0x235745={'weekday':'long','day':_0x32c04b(0x97),'month':_0x32c04b(0x10a)};let _0x12d1b2=_0x514147[_0x32c04b(0x17b)]('ru-RU',_0x235745);return _0x12d1b2[_0x32c04b(0x1a9)](0x0)[_0x32c04b(0x12b)]()+_0x12d1b2[_0x32c04b(0x132)](0x1);},'getText'(_0x28c82f,_0x3d28c1){const _0x892cf4=a2_0x1c4ed3,_0x5959ce=this[_0x892cf4(0x1ac)](_0x3d28c1[_0x892cf4(0x19a)]);switch(_0x28c82f){case _0x892cf4(0xb0):return _0x892cf4(0x7b)+(_0x892cf4(0x13a)+_0x5959ce+'\x0a')+(_0x892cf4(0xba)+_0x3d28c1['start']+_0x892cf4(0x18c)+_0x3d28c1[_0x892cf4(0x181)]+'\x0a\x0a')+_0x892cf4(0x182);case _0x892cf4(0xec):return _0x892cf4(0xdb)+'–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a'+('<b>‚úÖ\x20'+_0x3d28c1[_0x892cf4(0x155)]+_0x892cf4(0x18c)+_0x3d28c1[_0x892cf4(0x181)]+'</b>\x0a\x0a')+(_0x892cf4(0x13a)+_0x5959ce);case'cancel':return _0x892cf4(0x14f)+('–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>'+_0x5959ce+'\x20('+_0x3d28c1[_0x892cf4(0x155)]+_0x892cf4(0x191));case'complete':return _0x892cf4(0x167)+'–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a'+_0x892cf4(0x198);default:return'';}},async 'send'(_0x28344b,_0x1bb359){const _0x407209=a2_0x1c4ed3;console[_0x407209(0xf5)](_0x407209(0xbf),_0x28344b,_0x1bb359);if(!_0x1bb359){console[_0x407209(0x177)](_0x407209(0x1e9));return;}const _0x153f97=String(_0x1bb359['clientId']);console[_0x407209(0xf5)](_0x407209(0x1a0),_0x153f97);if(!_0x1bb359['clientId']||_0x153f97===_0x407209(0xce)||_0x153f97==='null'){console['error'](_0x407209(0x107));if(_0x1bb359[_0x407209(0x14c)]){const _0x4af976=clients[_0x407209(0x151)](_0x2e2ad1=>_0x2e2ad1[_0x407209(0x144)]===_0x1bb359['client']);if(_0x4af976)return console['log'](_0x407209(0x18d),_0x4af976['id']),this[_0x407209(0x1e5)](_0x28344b,{..._0x1bb359,'clientId':_0x4af976['id']});}return;}if(_0x153f97[_0x407209(0x74)]<0x5){console[_0x407209(0x1a7)](_0x407209(0xb5),_0x153f97);return;}const _0xda3274=this['getText'](_0x28344b,_0x1bb359);if(!_0xda3274){console[_0x407209(0x177)](_0x407209(0xa3));return;}console['log'](_0x407209(0x11f)+_0x153f97+_0x407209(0x93)),DataManager[_0x407209(0x1b6)](_0x407209(0x18b),{'chatId':_0x153f97,'text':_0xda3274})[_0x407209(0x1a2)](_0x4a87fd=>console[_0x407209(0xf5)](_0x407209(0x163),_0x4a87fd))[_0x407209(0xf2)](_0x202692=>console[_0x407209(0x177)](_0x407209(0x66),_0x202692));}};function getLocalDateStr(_0x52926c){const _0x363d5c=a2_0x1c4ed3,_0x4aaf86=_0x52926c['getFullYear'](),_0xc21173=String(_0x52926c[_0x363d5c(0x174)]()+0x1)['padStart'](0x2,'0'),_0x5832ad=String(_0x52926c[_0x363d5c(0x129)]())[_0x363d5c(0x8b)](0x2,'0');return _0x4aaf86+'-'+_0xc21173+'-'+_0x5832ad;}function getDateStr(_0x54cc42){const _0xc47f19=a2_0x1c4ed3,_0x55be16=new Date();return _0x55be16[_0xc47f19(0x1c3)](_0x55be16[_0xc47f19(0x129)]()+_0x54cc42),getLocalDateStr(_0x55be16);}function getStartOfWeek(_0x3c1b40){const _0x5b1681=a2_0x1c4ed3,_0x4b46cf=(function(){let _0x52d5a1=!![];return function(_0x28776a,_0x256e1e){const _0x5be397=_0x52d5a1?function(){const _0x3c75d8=a2_0x1b80;if(_0x256e1e){const _0x589dbc=_0x256e1e[_0x3c75d8(0x8f)](_0x28776a,arguments);return _0x256e1e=null,_0x589dbc;}}:function(){};return _0x52d5a1=![],_0x5be397;};}()),_0x53efcb=_0x4b46cf(this,function(){const _0x58e8fb=a2_0x1b80;return _0x53efcb[_0x58e8fb(0xc6)]()[_0x58e8fb(0x1c9)](_0x58e8fb(0x123))['toString']()[_0x58e8fb(0x9f)](_0x53efcb)[_0x58e8fb(0x1c9)]('(((.+)+)+)+$');});_0x53efcb();const _0xafa486=new Date(_0x3c1b40),_0x75e4ac=_0xafa486[_0x5b1681(0x8a)](),_0x44494e=_0xafa486[_0x5b1681(0x129)]()-_0x75e4ac+(_0x75e4ac===0x0?-0x6:0x1);return _0xafa486['setDate'](_0x44494e),_0xafa486[_0x5b1681(0x111)](0x0,0x0,0x0,0x0),_0xafa486;}function hexToRgba(_0x211679,_0x4564b3){const _0x33a91b=a2_0x1c4ed3;if(!_0x211679)return'rgba(100,100,100,0.5)';let _0x3d51c6=0x0,_0x300049=0x0,_0x2aed42=0x0;if(_0x211679['length']===0x4)_0x3d51c6='0x'+_0x211679[0x1]+_0x211679[0x1],_0x300049='0x'+_0x211679[0x2]+_0x211679[0x2],_0x2aed42='0x'+_0x211679[0x3]+_0x211679[0x3];else _0x211679[_0x33a91b(0x74)]===0x7&&(_0x3d51c6='0x'+_0x211679[0x1]+_0x211679[0x2],_0x300049='0x'+_0x211679[0x3]+_0x211679[0x4],_0x2aed42='0x'+_0x211679[0x5]+_0x211679[0x6]);return _0x33a91b(0xdc)+ +_0x3d51c6+',\x20'+ +_0x300049+',\x20'+ +_0x2aed42+',\x20'+_0x4564b3+')';}function renderTimeColumn(){const _0xe95728=a2_0x1c4ed3,_0x1ed063=document[_0xe95728(0x1e1)](_0xe95728(0x1d1)),_0x297d1e=document['getElementById'](_0xe95728(0x7a));_0x1ed063[_0xe95728(0xbb)]='',_0x1ed063['appendChild'](_0x297d1e);for(let _0x151cc1=0x0;_0x151cc1<0x18;_0x151cc1++){const _0x39057f=document['createElement']('div');_0x39057f['className']=_0xe95728(0xb4);if(_0x151cc1>0x0)_0x39057f[_0xe95728(0xbb)]=_0xe95728(0x100)+String(_0x151cc1)[_0xe95728(0x8b)](0x2,'0')+':00</span>';_0x1ed063['appendChild'](_0x39057f);}}function renderDayRange(_0x38e9ed,_0x45c442){const _0x81405e=a2_0x1c4ed3,_0x25c885=document[_0x81405e(0x1e1)](_0x81405e(0x16e)),_0x2da46d=document[_0x81405e(0x1e1)](_0x81405e(0x9e)),_0x1ab5da=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x18a292=new Date();_0x18a292['setHours'](0x0,0x0,0x0,0x0);const _0x50ae2d=getLocalDateStr(new Date());for(let _0x38dfea=_0x38e9ed;_0x38dfea<=_0x45c442;_0x38dfea++){const _0x361f53=new Date(_0x18a292);_0x361f53[_0x81405e(0x1c3)](_0x361f53[_0x81405e(0x129)]()+_0x38dfea);const _0x2025b0=getLocalDateStr(_0x361f53);let _0x19c1e1=_0x361f53['getDay']()-0x1;if(_0x19c1e1===-0x1)_0x19c1e1=0x6;const _0x149c6c=_0x2025b0===_0x50ae2d,_0x436e92=document[_0x81405e(0x158)](_0x81405e(0x11e));_0x436e92['className']=_0x81405e(0x1df)+(_0x149c6c?'today':''),_0x436e92['id']='header-'+_0x2025b0,_0x436e92['setAttribute'](_0x81405e(0xd3),_0x2025b0),_0x436e92['innerHTML']=_0x81405e(0x1dc)+_0x1ab5da[_0x19c1e1]+_0x81405e(0x135)+_0x361f53[_0x81405e(0x129)]()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0x2025b0+_0x81405e(0xac),_0x436e92[_0x81405e(0x1cb)]=()=>openDayOptions(_0x2025b0,_0x1ab5da[_0x19c1e1]+'\x20'+_0x361f53[_0x81405e(0x129)]()),_0x25c885[_0x81405e(0x19c)](_0x436e92);const _0x130850=document[_0x81405e(0x158)](_0x81405e(0x11e));_0x130850[_0x81405e(0x142)]=_0x81405e(0xdd)+(_0x149c6c?_0x81405e(0xf7):''),_0x130850[_0x81405e(0x75)](_0x81405e(0xd3),_0x2025b0),_0x130850[_0x81405e(0x75)]('data-day-idx',_0x19c1e1),renderEventsForColumn(_0x130850,_0x2025b0,_0x19c1e1),attachLongPressHandler(_0x130850,_0x361f53),_0x2da46d[_0x81405e(0x19c)](_0x130850),updateDayStats(_0x2025b0);}}function reRenderBlocks(){const _0x1af876=a2_0x1c4ed3;document[_0x1af876(0xa7)]('#gridColumns\x20.day-column')[_0x1af876(0x12d)](_0x3de4a4=>{const _0x5b6324=_0x1af876;_0x3de4a4['querySelectorAll']('.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card')[_0x5b6324(0x12d)](_0x263e39=>_0x263e39['remove']());const _0x2dea83=_0x3de4a4[_0x5b6324(0x84)]('data-date'),_0x3de550=parseInt(_0x3de4a4[_0x5b6324(0x84)](_0x5b6324(0xfa))),_0x5d025a=Math[_0x5b6324(0x1e6)](_0x3de4a4['offsetLeft']);(availabilityPattern[_0x3de550]||[])['forEach'](_0x40805f=>{const _0x1428a4=_0x5b6324,_0x58514d=document[_0x1428a4(0x158)]('div');_0x58514d['className']=_0x1428a4(0x153);const _0x95aaa3=_0x40805f*GRID_H;_0x58514d[_0x1428a4(0x127)][_0x1428a4(0x9b)]=_0x95aaa3+'px',_0x58514d[_0x1428a4(0x127)][_0x1428a4(0x125)]='-'+_0x5d025a+_0x1428a4(0x186)+_0x95aaa3+'px',_0x3de4a4[_0x1428a4(0x19c)](_0x58514d);});if(specialRanges&&specialRanges['length']>0x0){const _0x55c43e=new Date(_0x2dea83+'T00:00:00')[_0x5b6324(0xda)](),_0x16fa66=new Date(_0x2dea83+'T23:59:59')[_0x5b6324(0xda)]();specialRanges[_0x5b6324(0x12d)](_0x3c23a5=>{const _0x25f118=_0x5b6324,_0x2df5a5=new Date(_0x3c23a5['start'])[_0x25f118(0xda)](),_0x3dc618=new Date(_0x3c23a5[_0x25f118(0x181)])[_0x25f118(0xda)](),_0x403a99=Math[_0x25f118(0xdf)](_0x55c43e,_0x2df5a5),_0x488fb2=Math[_0x25f118(0x1d9)](_0x16fa66,_0x3dc618);if(_0x403a99<_0x488fb2){if(_0x403a99<=_0x55c43e&&_0x488fb2>=_0x16fa66-0xea60){if(!_0x3de4a4[_0x25f118(0x1af)](_0x25f118(0x1b5))){const _0x18240f=document[_0x25f118(0x158)](_0x25f118(0x11e));_0x18240f[_0x25f118(0x142)]=_0x25f118(0x6f),_0x18240f['style']['backgroundPosition']='-'+_0x5d025a+_0x25f118(0xa4),_0x3de4a4[_0x25f118(0x19c)](_0x18240f);}}else{const _0x2e75e9=(_0x403a99-_0x55c43e)/0x36ee80*GRID_H,_0x120c14=(_0x488fb2-_0x403a99)/0x36ee80*GRID_H,_0x104000=document[_0x25f118(0x158)](_0x25f118(0x11e));_0x104000[_0x25f118(0x142)]='blocked-range-part\x20stripe-bg',_0x104000[_0x25f118(0x127)][_0x25f118(0x9b)]=_0x2e75e9+'px',_0x104000['style']['height']=_0x120c14+'px',_0x104000['style'][_0x25f118(0x125)]='-'+_0x5d025a+_0x25f118(0x186)+_0x2e75e9+'px',_0x3de4a4[_0x25f118(0x19c)](_0x104000);}}});}if(dateExceptions[_0x2dea83]===_0x5b6324(0x108)){if(!_0x3de4a4['querySelector'](_0x5b6324(0x1b5))){const _0x174bd3=document['createElement'](_0x5b6324(0x11e));_0x174bd3['className']=_0x5b6324(0x6f),_0x174bd3[_0x5b6324(0x127)][_0x5b6324(0x125)]='-'+_0x5d025a+_0x5b6324(0xa4),_0x3de4a4[_0x5b6324(0x19c)](_0x174bd3);}}renderEventsForColumn(_0x3de4a4,_0x2dea83,_0x3de550),updateDayStats(_0x2dea83);});}function updateAllDayStats(){const _0x38094b=a2_0x1c4ed3;document[_0x38094b(0xa7)]('.day-col-header')['forEach'](_0x346ebe=>{const _0x2b6e3b=_0x38094b;updateDayStats(_0x346ebe['getAttribute'](_0x2b6e3b(0xd3)));});}function updateDayStats(_0x39ee8a){const _0x498bba=a2_0x1c4ed3,_0xa2969d=document[_0x498bba(0x1e1)](_0x498bba(0x194)+_0x39ee8a);if(!_0xa2969d)return;const _0x59a15e=new Date(_0x39ee8a);let _0x544454=_0x59a15e[_0x498bba(0x8a)]()-0x1;if(_0x544454===-0x1)_0x544454=0x6;if(dateExceptions[_0x39ee8a]===_0x498bba(0x108)){_0xa2969d[_0x498bba(0x127)]['display']=_0x498bba(0x1b1);return;}const _0x3d8100=availabilityPattern[_0x544454]||[],_0xbd4ed9=0x18-_0x3d8100[_0x498bba(0x74)],_0x20ef68=_0xbd4ed9*0x3c,_0x443473=sessions[_0x498bba(0xea)](_0x38d882=>_0x38d882[_0x498bba(0x19a)]===_0x39ee8a&&_0x38d882[_0x498bba(0x1c6)]!=='cancelled');if(_0x443473[_0x498bba(0x74)]===0x0){_0xa2969d[_0x498bba(0x127)][_0x498bba(0xb2)]='none';return;}let _0x10057a=_0x443473[_0x498bba(0xcf)](_0x35ba9c=>{const _0x3c7be8=_0x498bba,[_0x34b64a,_0x2fd0c5]=_0x35ba9c[_0x3c7be8(0x155)][_0x3c7be8(0x11d)](':')[_0x3c7be8(0xcf)](Number),[_0x3ca951,_0x55e794]=_0x35ba9c['end']['split'](':')[_0x3c7be8(0xcf)](Number);return[_0x34b64a*0x3c+_0x2fd0c5,_0x3ca951*0x3c+_0x55e794];});_0x10057a[_0x498bba(0x7e)]((_0x40501e,_0x46617f)=>_0x40501e[0x0]-_0x46617f[0x0]);let _0x370be1=[];if(_0x10057a[_0x498bba(0x74)]>0x0){let _0x259e7a=_0x10057a[0x0];for(let _0x479837=0x1;_0x479837<_0x10057a[_0x498bba(0x74)];_0x479837++){_0x10057a[_0x479837][0x0]<_0x259e7a[0x1]?_0x259e7a[0x1]=Math[_0x498bba(0xdf)](_0x259e7a[0x1],_0x10057a[_0x479837][0x1]):(_0x370be1[_0x498bba(0x71)](_0x259e7a),_0x259e7a=_0x10057a[_0x479837]);}_0x370be1['push'](_0x259e7a);}let _0x17211e=0x0;_0x370be1[_0x498bba(0x12d)](_0x47ad8f=>_0x17211e+=_0x47ad8f[0x1]-_0x47ad8f[0x0]),_0xa2969d[_0x498bba(0x127)]['display']='flex';const _0x2a47e7=_0xa2969d['querySelector']('.dch-stats-fill');if(_0x20ef68===0x0){_0x2a47e7[_0x498bba(0x127)][_0x498bba(0xe3)]=_0x498bba(0x82),_0x2a47e7[_0x498bba(0x127)][_0x498bba(0x13b)]=_0x498bba(0x1a4);return;}const _0x5e2899=_0x17211e/_0x20ef68*0x64;console[_0x498bba(0xf5)]('['+_0x39ee8a+_0x498bba(0xfc)+_0xbd4ed9+'—á,\x20–ó–∞–Ω—è—Ç–æ:\x20'+_0x17211e+'–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20'+_0x5e2899[_0x498bba(0x11a)](0x1)+'%'),_0x5e2899>0x64?(_0x2a47e7[_0x498bba(0x127)][_0x498bba(0xe3)]='100%',_0x2a47e7[_0x498bba(0x127)][_0x498bba(0x13b)]=_0x498bba(0x1a4)):(_0x2a47e7[_0x498bba(0x127)][_0x498bba(0xe3)]=_0x5e2899+'%',_0x2a47e7[_0x498bba(0x127)][_0x498bba(0x13b)]=_0x498bba(0xd7));}function renderEventsForColumn(_0x37159d,_0x46897c,_0x930b90){const _0x968bf3=a2_0x1c4ed3,_0x34fa4e=sessions['filter'](_0x49b403=>_0x49b403[_0x968bf3(0x19a)]===_0x46897c),_0x14a239=_0x34fa4e['map'](_0x21934b=>{const _0x5705f1=_0x968bf3,[_0x2d43b1,_0x11fb3b]=_0x21934b[_0x5705f1(0x155)][_0x5705f1(0x11d)](':')['map'](Number),[_0x2cb253,_0x490f2a]=_0x21934b['end'][_0x5705f1(0x11d)](':')[_0x5705f1(0xcf)](Number);return{'data':_0x21934b,'start':_0x2d43b1*0x3c+_0x11fb3b,'end':_0x2cb253*0x3c+_0x490f2a,'colIndex':0x0};});_0x14a239[_0x968bf3(0x7e)]((_0x2d599f,_0x20dded)=>{const _0x2d44de=_0x968bf3;if(_0x2d599f[_0x2d44de(0x155)]!==_0x20dded[_0x2d44de(0x155)])return _0x2d599f['start']-_0x20dded[_0x2d44de(0x155)];return _0x20dded[_0x2d44de(0x181)]-_0x20dded[_0x2d44de(0x155)]-(_0x2d599f[_0x2d44de(0x181)]-_0x2d599f[_0x2d44de(0x155)]);});const _0x86c878=[];_0x14a239[_0x968bf3(0x12d)](_0x540a7a=>{const _0x353dc4=_0x968bf3;let _0x29faab=![];for(let _0x1f8c21=0x0;_0x1f8c21<_0x86c878['length'];_0x1f8c21++){const _0x32bf33=_0x86c878[_0x1f8c21],_0x1ba5a9=_0x32bf33[_0x32bf33['length']-0x1];if(_0x540a7a['start']>=_0x1ba5a9['end']){_0x32bf33['push'](_0x540a7a),_0x540a7a[_0x353dc4(0x92)]=_0x1f8c21,_0x29faab=!![];break;}}!_0x29faab&&(_0x86c878['push']([_0x540a7a]),_0x540a7a[_0x353dc4(0x92)]=_0x86c878[_0x353dc4(0x74)]-0x1);}),_0x14a239[_0x968bf3(0x12d)](_0x4d945c=>{const _0x48186b=_0x968bf3;let _0x505bd7=0x0;_0x14a239['forEach'](_0x4f3f3d=>{const _0x39c27e=a2_0x1b80;if(Math[_0x39c27e(0xdf)](_0x4d945c[_0x39c27e(0x155)],_0x4f3f3d[_0x39c27e(0x155)])<Math['min'](_0x4d945c[_0x39c27e(0x181)],_0x4f3f3d['end'])){if(_0x4f3f3d[_0x39c27e(0x92)]>_0x505bd7)_0x505bd7=_0x4f3f3d[_0x39c27e(0x92)];}});const _0x2740b9=_0x505bd7+0x1,_0x3eed90=0x64/_0x2740b9,_0x3d6d89=_0x4d945c['colIndex']*_0x3eed90,_0x12765d=createEventEl(_0x4d945c[_0x48186b(0x19b)]);_0x12765d[_0x48186b(0x127)]['width']='calc('+_0x3eed90+_0x48186b(0x139),_0x12765d['style']['left']=_0x48186b(0x188)+_0x3d6d89+_0x48186b(0x1aa),_0x12765d[_0x48186b(0x127)][_0x48186b(0xd1)]=0xa+_0x4d945c[_0x48186b(0x92)],_0x3eed90<0x55&&_0x12765d[_0x48186b(0xd8)][_0x48186b(0x19e)](_0x48186b(0x9d)),_0x37159d['appendChild'](_0x12765d);});}function createEventEl(_0x1b446e){const _0x6eb1db=a2_0x1c4ed3,[_0x52bbfa,_0x533896]=_0x1b446e[_0x6eb1db(0x155)][_0x6eb1db(0x11d)](':')[_0x6eb1db(0xcf)](Number),[_0x77257f,_0x5a8fdc]=_0x1b446e['end'][_0x6eb1db(0x11d)](':')[_0x6eb1db(0xcf)](Number),_0x47716b=(_0x52bbfa*0x3c+_0x533896)/0x3c*GRID_H,_0x13fa2a=(_0x77257f*0x3c+_0x5a8fdc-(_0x52bbfa*0x3c+_0x533896))/0x3c*GRID_H,_0x136aea=document[_0x6eb1db(0x158)](_0x6eb1db(0x11e)),_0x389b55=_0x1b446e['status']===_0x6eb1db(0x81)?'\x20status-completed':'';_0x136aea['className']=_0x6eb1db(0x104)+_0x389b55,_0x136aea['style'][_0x6eb1db(0x9b)]=_0x47716b+'px',_0x136aea[_0x6eb1db(0x127)][_0x6eb1db(0xc3)]=Math['max'](_0x13fa2a,0x14)+'px';const _0x1c6531=clients['find'](_0x5e2807=>_0x1b446e[_0x6eb1db(0x78)]&&String(_0x5e2807['id'])===String(_0x1b446e[_0x6eb1db(0x78)])||_0x5e2807[_0x6eb1db(0x144)]===_0x1b446e['client']),_0x2af7a6=_0x1c6531?_0x1c6531['color']:_0x6eb1db(0x105);_0x136aea['style'][_0x6eb1db(0x161)]=_0x2af7a6,_0x136aea[_0x6eb1db(0x127)][_0x6eb1db(0xca)]=hexToRgba(_0x2af7a6,0.85);let _0x1b3674='<div\x20class=\x22ev-title\x22>'+_0x1b446e[_0x6eb1db(0x14c)]+_0x6eb1db(0xf3)+_0x1b446e[_0x6eb1db(0x155)]+_0x6eb1db(0x1d0)+_0x1b446e[_0x6eb1db(0x181)]+_0x6eb1db(0xc8);return _0x1b446e['seriesId']&&(_0x1b3674+=_0x6eb1db(0x1a6)),_0x1b446e[_0x6eb1db(0x1c6)]===_0x6eb1db(0x81)&&(_0x1b3674+=_0x6eb1db(0xff)),_0x136aea[_0x6eb1db(0xbb)]=_0x1b3674,_0x136aea['onclick']=_0x4db27e=>{const _0x184baf=_0x6eb1db;_0x4db27e[_0x184baf(0x1b9)](),openEdit(_0x1b446e);},_0x136aea;}function attachLongPressHandler(_0x57c521,_0x355eea){const _0x423a07=a2_0x1c4ed3;let _0x1dd46d=0x0,_0xd5cca8=null;const _0x2cf180=_0x35495b=>{const _0x3a874c=a2_0x1b80;if(_0x35495b[_0x3a874c(0x1c4)][_0x3a874c(0x176)](_0x3a874c(0x1ab)))return;isScrolling=![],_0x1dd46d=_0x35495b[_0x3a874c(0x1c7)]?_0x35495b[_0x3a874c(0x1c7)][0x0][_0x3a874c(0x128)]:_0x35495b[_0x3a874c(0x128)],_0xd5cca8=setTimeout(()=>{const _0x2923b0=_0x3a874c;if(!isScrolling){navigator[_0x2923b0(0xa6)]?.(0x32);const _0x5b970a=_0x57c521[_0x2923b0(0x1ae)](),_0x22dc9d=Math['floor']((_0x1dd46d-_0x5b970a['top'])/GRID_H);_0x355eea['setHours'](_0x22dc9d,0x0),openAddSession(_0x355eea);}},0x1f4);},_0x200ac5=()=>{isScrolling=!![],clearTimeout(_0xd5cca8);},_0x3f8352=()=>{clearTimeout(_0xd5cca8);};_0x57c521[_0x423a07(0x1e4)]('touchstart',_0x2cf180,{'passive':!![]}),_0x57c521['addEventListener']('touchmove',_0x200ac5,{'passive':!![]}),_0x57c521[_0x423a07(0x1e4)](_0x423a07(0x6c),_0x3f8352),_0x57c521[_0x423a07(0x1e4)](_0x423a07(0x95),_0x2cf180),_0x57c521[_0x423a07(0x1e4)](_0x423a07(0x10c),_0x200ac5),_0x57c521[_0x423a07(0x1e4)](_0x423a07(0x150),_0x3f8352);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x402d9e=a2_0x1c4ed3,_0xab1a72=document[_0x402d9e(0x1e1)]('matrixViewport'),_0x44b371=_0xab1a72['scrollLeft'],_0x4ac1aa=_0xab1a72[_0x402d9e(0x157)],_0x4a82da=_0xab1a72[_0x402d9e(0x197)];if(_0x4ac1aa-(_0x44b371+_0x4a82da)<0x12c){const _0xe172f3=endOffset;endOffset+=0xe,renderDayRange(_0xe172f3+0x1,endOffset),reRenderBlocks();}if(_0x44b371<0x12c){const _0x165321=startOffset;startOffset-=0xe,prependDays(startOffset,_0x165321-0x1),_0xab1a72[_0x402d9e(0x17a)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x39a8c7,_0x4754df){const _0x12ea36=a2_0x1c4ed3,_0x93acf6=document[_0x12ea36(0x1e1)](_0x12ea36(0x16e)),_0x1b1085=document['getElementById'](_0x12ea36(0x9e)),_0x27ab40=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x6927a1=new Date();_0x6927a1['setHours'](0x0,0x0,0x0,0x0);const _0x3df067=getLocalDateStr(new Date()),_0x35b4f0=document[_0x12ea36(0xa8)](),_0x23bf4d=document['createDocumentFragment']();for(let _0x4465f2=_0x39a8c7;_0x4465f2<=_0x4754df;_0x4465f2++){const _0x4ca2e1=new Date(_0x6927a1);_0x4ca2e1[_0x12ea36(0x1c3)](_0x4ca2e1[_0x12ea36(0x129)]()+_0x4465f2);const _0x57f97c=getLocalDateStr(_0x4ca2e1);let _0x35c726=_0x4ca2e1[_0x12ea36(0x8a)]()-0x1;if(_0x35c726===-0x1)_0x35c726=0x6;const _0x34af58=_0x57f97c===_0x3df067,_0x2d7e04=document[_0x12ea36(0x158)](_0x12ea36(0x11e));_0x2d7e04['className']=_0x12ea36(0x1df)+(_0x34af58?_0x12ea36(0xf7):''),_0x2d7e04['id']='header-'+_0x57f97c,_0x2d7e04[_0x12ea36(0x75)](_0x12ea36(0xd3),_0x57f97c),_0x2d7e04[_0x12ea36(0xbb)]=_0x12ea36(0x1dc)+_0x27ab40[_0x35c726]+_0x12ea36(0x135)+_0x4ca2e1[_0x12ea36(0x129)]()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0x57f97c+_0x12ea36(0xac),_0x2d7e04['onclick']=()=>openDayOptions(_0x57f97c,_0x27ab40[_0x35c726]+'\x20'+_0x4ca2e1[_0x12ea36(0x129)]()),_0x35b4f0[_0x12ea36(0x19c)](_0x2d7e04);const _0x100f46=document['createElement'](_0x12ea36(0x11e));_0x100f46[_0x12ea36(0x142)]=_0x12ea36(0xdd)+(_0x34af58?_0x12ea36(0xf7):''),_0x100f46[_0x12ea36(0x75)](_0x12ea36(0xd3),_0x57f97c),_0x100f46['setAttribute']('data-day-idx',_0x35c726),renderEventsForColumn(_0x100f46,_0x57f97c,_0x35c726),attachLongPressHandler(_0x100f46,_0x4ca2e1),_0x23bf4d[_0x12ea36(0x19c)](_0x100f46),updateDayStats(_0x57f97c);}_0x93acf6[_0x12ea36(0xa5)](_0x35b4f0,_0x93acf6[_0x12ea36(0xc7)]),_0x1b1085[_0x12ea36(0xa5)](_0x23bf4d,_0x1b1085[_0x12ea36(0x1af)]('.day-column'));}function validateAppointment(_0x58d29a,_0x25eb0c,_0x42edd4,_0x36352d,_0x37931f){const _0x1c3207=a2_0x1c4ed3,[_0x5d7c8e,_0x1376ea]=_0x25eb0c[_0x1c3207(0x11d)](':')[_0x1c3207(0xcf)](Number),[_0x1cbb94,_0x3b301d]=_0x42edd4[_0x1c3207(0x11d)](':')[_0x1c3207(0xcf)](Number),_0x509389=_0x5d7c8e*0x3c+_0x1376ea,_0x533a2e=_0x1cbb94*0x3c+_0x3b301d,_0x2f1a24=String(_0x37931f);let _0x183366=![],_0x2b9ded='';for(let _0x476e83 of sessions){if(_0x476e83[_0x1c3207(0x19a)]!==_0x58d29a)continue;if(_0x476e83[_0x1c3207(0x1c6)]===_0x1c3207(0x166))continue;if(_0x36352d&&String(_0x476e83['id'])===String(_0x36352d))continue;const [_0x5eab66,_0x2d6d58]=_0x476e83[_0x1c3207(0x155)][_0x1c3207(0x11d)](':')[_0x1c3207(0xcf)](Number),[_0x14672a,_0x597da7]=_0x476e83[_0x1c3207(0x181)][_0x1c3207(0x11d)](':')['map'](Number),_0x4b9aa9=_0x5eab66*0x3c+_0x2d6d58,_0x1c8934=_0x14672a*0x3c+_0x597da7;if(Math[_0x1c3207(0xdf)](_0x509389,_0x4b9aa9)<Math[_0x1c3207(0x1d9)](_0x533a2e,_0x1c8934)){if(_0x476e83[_0x1c3207(0x78)]&&String(_0x476e83[_0x1c3207(0x78)])===_0x2f1a24)return{'valid':![],'msg':_0x1c3207(0x8c)+_0x476e83['client']+_0x1c3207(0x113)};_0x183366=!![],_0x2b9ded=_0x476e83[_0x1c3207(0x14c)];}}if(_0x183366)return{'valid':!![],'warning':_0x1c3207(0x12f)+_0x2b9ded};return{'valid':!![]};}function updateDateDisplay(){const _0xc2039=a2_0x1c4ed3,_0x51e6d7=document['getElementById']('inpDate')[_0xc2039(0xeb)],_0x25e491=document[_0xc2039(0x1e1)](_0xc2039(0x10d));if(!_0x51e6d7){_0x25e491[_0xc2039(0xc4)]='';return;}const [_0x1efa37,_0x49d1f6,_0x177e68]=_0x51e6d7['split']('-')['map'](Number),_0x2e2045=new Date(_0x1efa37,_0x49d1f6-0x1,_0x177e68),_0x1b04ec={'weekday':_0xc2039(0x10a),'day':_0xc2039(0x97),'month':_0xc2039(0x10a),'year':_0xc2039(0x97)};let _0xd3589d=_0x2e2045[_0xc2039(0x17b)](_0xc2039(0x1b4),_0x1b04ec);_0xd3589d=_0xd3589d['charAt'](0x0)[_0xc2039(0x12b)]()+_0xd3589d['slice'](0x1),_0x25e491['textContent']=_0xd3589d;}function autoSetEndTime(){const _0x40156a=a2_0x1c4ed3,_0x34f237=document['getElementById'](_0x40156a(0x14b))[_0x40156a(0xeb)];if(!_0x34f237)return;const [_0x2f3bc2,_0x1263bc]=_0x34f237[_0x40156a(0x11d)](':')[_0x40156a(0xcf)](Number);let _0x3bdaed=_0x2f3bc2+0x1;if(_0x3bdaed>0x17)_0x3bdaed=0x0;const _0x3005f3=String(_0x3bdaed)['padStart'](0x2,'0')+':'+String(_0x1263bc)['padStart'](0x2,'0');document[_0x40156a(0x1e1)]('inpEnd')['value']=_0x3005f3;}function populateClientSelect(){const _0x298aa2=a2_0x1c4ed3,_0x20ffa9=document[_0x298aa2(0x1e1)](_0x298aa2(0x1e7));_0x20ffa9[_0x298aa2(0xbb)]='';if(clients[_0x298aa2(0x74)]===0x0){const _0x3bedaf=document[_0x298aa2(0x158)](_0x298aa2(0x99));_0x3bedaf[_0x298aa2(0x83)]=_0x298aa2(0x15d),_0x20ffa9['appendChild'](_0x3bedaf);return;}clients['forEach'](_0xf2f0f=>{const _0x1d1ea5=_0x298aa2,_0xfe6694=document['createElement']('option');_0xfe6694[_0x1d1ea5(0xeb)]=_0xf2f0f[_0x1d1ea5(0x144)],_0xfe6694[_0x1d1ea5(0xc4)]=_0xf2f0f[_0x1d1ea5(0x144)],_0x20ffa9['appendChild'](_0xfe6694);});}function openActionSheet(_0xda5db5){const _0x2ab94f=a2_0x1c4ed3,_0x2de574=document[_0x2ab94f(0x1e1)]('actionSheet'),_0x46d62b=document['getElementById']('actionSheetOverlay'),_0x12403c=document[_0x2ab94f(0x1e1)](_0x2ab94f(0xae)),_0xfc0c06=document[_0x2ab94f(0x1e1)]('asBtnOne'),_0x4155cd=document[_0x2ab94f(0x1e1)](_0x2ab94f(0xbe));_0x46d62b['classList'][_0x2ab94f(0x19e)](_0x2ab94f(0x101)),_0x2de574[_0x2ab94f(0xd8)][_0x2ab94f(0x19e)](_0x2ab94f(0xd2));if(_0xda5db5===_0x2ab94f(0xd0))_0x12403c[_0x2ab94f(0xc4)]=_0x2ab94f(0x1e2),_0xfc0c06['textContent']=_0x2ab94f(0x1b0),_0xfc0c06['onclick']=()=>{const _0x5c5ece=_0x2ab94f;closeActionSheet(),updateSeriesBatch(_0x5c5ece(0xfb),tempSessionData);},_0x4155cd['textContent']=_0x2ab94f(0xbc),_0x4155cd[_0x2ab94f(0x1cb)]=()=>{const _0x5c521d=_0x2ab94f;closeActionSheet(),updateSeriesBatch(_0x5c521d(0x1a8),tempSessionData);};else _0xda5db5==='delete'&&(_0x12403c[_0x2ab94f(0xc4)]=_0x2ab94f(0x145),_0xfc0c06['textContent']=_0x2ab94f(0x1b0),_0xfc0c06['className']='as-button\x20danger',_0xfc0c06[_0x2ab94f(0x1cb)]=()=>{closeActionSheet(),commitDelete('single',sessions['find'](_0x337099=>_0x337099['id']===editingId));},_0x4155cd['textContent']='–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ',_0x4155cd[_0x2ab94f(0x142)]=_0x2ab94f(0x1e3),_0x4155cd[_0x2ab94f(0x1cb)]=()=>{const _0x189692=_0x2ab94f;closeActionSheet(),commitDelete(_0x189692(0x1a8),sessions[_0x189692(0x151)](_0x1b8f86=>_0x1b8f86['id']===editingId));});}function closeActionSheet(){const _0x31befd=a2_0x1c4ed3;document['getElementById'](_0x31befd(0x8e))[_0x31befd(0xd8)][_0x31befd(0x189)](_0x31befd(0xd2)),document[_0x31befd(0x1e1)](_0x31befd(0x68))[_0x31befd(0xd8)][_0x31befd(0x189)](_0x31befd(0x101));}function openSettings(){const _0x5ba0ce=a2_0x1c4ed3;openSheet(_0x5ba0ce(0x103));}function saveCoachSettings(){const _0x2e5542=a2_0x1c4ed3,_0x22ef54=document['getElementById'](_0x2e5542(0x184))['value'];localStorage['setItem'](_0x2e5542(0x15a),_0x22ef54),console['log']('[Settings]\x20Cancel\x20window\x20set\x20to:',_0x22ef54),DataManager['fetchFromServer'](_0x2e5542(0x121),{'settings':{'cancel_window':_0x22ef54}})[_0x2e5542(0xf2)](_0x5f5b9a=>{const _0x5e3aa1=_0x2e5542;console['error'](_0x5e3aa1(0xbd),_0x5f5b9a),showToast(_0x5e3aa1(0x85),![]);});}function loadCoachSettings(){const _0x3f2c11=a2_0x1c4ed3,_0x4ec095=localStorage['getItem'](_0x3f2c11(0x15a));_0x4ec095&&(document[_0x3f2c11(0x1e1)](_0x3f2c11(0x184))[_0x3f2c11(0xeb)]=_0x4ec095);}function openRangesSheet(){closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet('rangesSheet');}function addRange(){const _0x4ad169=a2_0x1c4ed3,_0x56ffea=document[_0x4ad169(0x1e1)](_0x4ad169(0xc0))[_0x4ad169(0xeb)],_0xd4ac34=document['getElementById'](_0x4ad169(0x159))[_0x4ad169(0xeb)],_0x18d86d=document[_0x4ad169(0x1e1)](_0x4ad169(0x14a))['value'],_0x14a7af=document[_0x4ad169(0x1e1)]('rangeEndTime')[_0x4ad169(0xeb)];if(!_0x56ffea||!_0xd4ac34||!_0x18d86d||!_0x14a7af)return alert(_0x4ad169(0x1b3));const _0x4bb73b=_0x56ffea+'T'+_0xd4ac34,_0x401e57=_0x18d86d+'T'+_0x14a7af;if(_0x4bb73b>=_0x401e57)return alert(_0x4ad169(0xe1));specialRanges['push']({'start':_0x4bb73b,'end':_0x401e57}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x4ad169(0xfd)](),DataManager[_0x4ad169(0x1b6)](_0x4ad169(0x121),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x295b31){const _0x24a78c=a2_0x1c4ed3;specialRanges[_0x24a78c(0xa9)](_0x295b31,0x1),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager['fetchFromServer'](_0x24a78c(0x121),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x263758=a2_0x1c4ed3;document[_0x263758(0x1e1)](_0x263758(0xc0))[_0x263758(0xeb)]='',document['getElementById'](_0x263758(0x159))[_0x263758(0xeb)]='00:00',document[_0x263758(0x1e1)]('rangeEndDate')[_0x263758(0xeb)]='',document['getElementById'](_0x263758(0x19d))[_0x263758(0xeb)]='23:59';}function renderRangesList(){const _0x97a664=a2_0x1c4ed3,_0x7805d2=document[_0x97a664(0x1e1)](_0x97a664(0xb3));_0x7805d2[_0x97a664(0xbb)]='';if(!specialRanges['length']){_0x7805d2['innerHTML']=_0x97a664(0x80);return;}specialRanges['forEach']((_0x2c6b3c,_0x496cd9)=>{const _0x48acfb=_0x97a664,_0x329772=document[_0x48acfb(0x158)](_0x48acfb(0x11e));_0x329772[_0x48acfb(0x142)]=_0x48acfb(0x15c);const _0x4cc2c8=_0x3c1235=>{const _0x4d7d2b=_0x48acfb,_0x508c3a=new Date(_0x3c1235);return _0x508c3a[_0x4d7d2b(0x129)]()+'.'+String(_0x508c3a['getMonth']()+0x1)['padStart'](0x2,'0')+'\x20'+String(_0x508c3a[_0x4d7d2b(0x193)]())['padStart'](0x2,'0')+':'+String(_0x508c3a[_0x4d7d2b(0x1b2)]())['padStart'](0x2,'0');};_0x329772['innerHTML']=_0x48acfb(0xb7)+_0x4cc2c8(_0x2c6b3c[_0x48acfb(0x155)])+_0x48acfb(0x18c)+_0x4cc2c8(_0x2c6b3c[_0x48acfb(0x181)])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange('+_0x496cd9+_0x48acfb(0x137),_0x7805d2[_0x48acfb(0x19c)](_0x329772);});}function scrollToToday(){const _0x4da4c6=a2_0x1c4ed3,_0x258407=getLocalDateStr(new Date()),_0x4cff17=document[_0x4da4c6(0x1e1)](_0x4da4c6(0x1b7)+_0x258407),_0x289054=document[_0x4da4c6(0x1e1)](_0x4da4c6(0xcc));if(_0x4cff17&&_0x289054){const _0x2195b5=_0x289054[_0x4da4c6(0x197)],_0xeda0c6=_0x4cff17[_0x4da4c6(0xcb)],_0x563309=_0x4cff17[_0x4da4c6(0x175)];_0x289054['scrollLeft']=_0xeda0c6-_0x2195b5/0x2+_0x563309/0x2,_0x289054['scrollTop']=0x9*GRID_H;}}function onScroll(){const _0xfb07da=a2_0x1c4ed3,_0x415fe8=document[_0xfb07da(0x1e1)](_0xfb07da(0xcc)),_0xdc25eb=document[_0xfb07da(0xa7)](_0xfb07da(0x17d));for(let _0x5a326b of _0xdc25eb)if(_0x5a326b[_0xfb07da(0xcb)]>=_0x415fe8[_0xfb07da(0x17a)]){const _0x2f2064=new Date(_0x5a326b[_0xfb07da(0x84)]('data-date'));document['getElementById'](_0xfb07da(0x18a))[_0xfb07da(0xc4)]=_0x2f2064['toLocaleString']('ru',{'month':_0xfb07da(0x10a)})[_0xfb07da(0x12b)]()+'\x20'+_0x2f2064[_0xfb07da(0x13c)]();break;}}function showToast(_0x25ded3,_0x5804d4=![]){const _0x486b20=a2_0x1c4ed3,_0x25ca6e=document[_0x486b20(0x1e1)](_0x486b20(0xaf));_0x25ca6e[_0x486b20(0x142)]=_0x486b20(0x1bd)+(_0x5804d4?'success':''),document['getElementById'](_0x486b20(0x1c2))['textContent']=_0x5804d4?_0x486b20(0xab):_0x486b20(0x7c),document[_0x486b20(0x1e1)](_0x486b20(0x1d5))['textContent']=_0x25ded3,_0x25ca6e[_0x486b20(0xd8)]['add']('show'),setTimeout(()=>{const _0x2dc10b=_0x486b20;_0x25ca6e['classList'][_0x2dc10b(0x189)]('show');},0xbb8);}function openDayOptions(_0x301242,_0x598e07){const _0xab7cb0=a2_0x1c4ed3;selectedDayForOptions=_0x301242,document['getElementById'](_0xab7cb0(0xe7))[_0xab7cb0(0xc4)]=_0x598e07,openSheet(_0xab7cb0(0x192));}function toggleDayOff(){const _0x474532=a2_0x1c4ed3;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]='off',reRenderBlocks(),closeAllSheets(),DataManager[_0x474532(0xfd)](),DataManager[_0x474532(0x1b6)](_0x474532(0x121),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x1d16f6=a2_0x1c4ed3;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x1d16f6(0xfd)](),DataManager[_0x1d16f6(0x1b6)](_0x1d16f6(0x121),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x424e06){const _0xfdbd0b=a2_0x1c4ed3;document[_0xfdbd0b(0x1e1)](_0xfdbd0b(0x154))['classList'][_0xfdbd0b(0x19e)](_0xfdbd0b(0x101)),document[_0xfdbd0b(0x1e1)](_0x424e06)[_0xfdbd0b(0xd8)][_0xfdbd0b(0x19e)](_0xfdbd0b(0xd2));}function closeAllSheets(){const _0x380f0b=a2_0x1c4ed3;document[_0x380f0b(0x1e1)](_0x380f0b(0x154))[_0x380f0b(0xd8)]['remove'](_0x380f0b(0x101)),document[_0x380f0b(0xa7)](_0x380f0b(0xe8))[_0x380f0b(0x12d)](_0x549b72=>_0x549b72[_0x380f0b(0xd8)][_0x380f0b(0x189)]('open'));}function openPatternEditor(){const _0x37700f=a2_0x1c4ed3;closeAllSheets(),document['getElementById'](_0x37700f(0x11b))['classList'][_0x37700f(0x19e)]('open'),renderPatternEditor();}function closePatternEditor(){const _0x18b208=a2_0x1c4ed3;document[_0x18b208(0x1e1)](_0x18b208(0x11b))[_0x18b208(0xd8)]['remove']('open');}function savePattern(){const _0x4bbfb0=a2_0x1c4ed3;document[_0x4bbfb0(0x1e1)](_0x4bbfb0(0x11b))[_0x4bbfb0(0xd8)][_0x4bbfb0(0x189)]('open'),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x4bbfb0(0x1b6)](_0x4bbfb0(0x121),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x57f421=a2_0x1c4ed3,_0x4db51a=document['getElementById'](_0x57f421(0xc1));_0x4db51a['innerHTML']='';const _0x42f68c=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x42399a=document[_0x57f421(0x158)](_0x57f421(0x11e));_0x42399a['className']='pe-corner',_0x4db51a[_0x57f421(0x19c)](_0x42399a),_0x42f68c[_0x57f421(0x12d)]((_0xf9616e,_0x25f6e6)=>{const _0x54e71c=_0x57f421,_0x4f2318=document[_0x54e71c(0x158)]('div');_0x4f2318['className']=_0x54e71c(0x12a),_0x4f2318[_0x54e71c(0xbb)]=_0xf9616e+_0x54e71c(0x126),_0x4f2318[_0x54e71c(0x1cb)]=()=>toggleColPattern(_0x25f6e6),_0x4db51a[_0x54e71c(0x19c)](_0x4f2318);});for(let _0x121d4c=0x0;_0x121d4c<0x18;_0x121d4c++){const _0x1f519a=document[_0x57f421(0x158)](_0x57f421(0x11e));_0x1f519a[_0x57f421(0x142)]=_0x57f421(0x16a),_0x1f519a[_0x57f421(0xbb)]=_0x57f421(0x124)+String(_0x121d4c)[_0x57f421(0x8b)](0x2,'0')+_0x57f421(0x149),_0x1f519a[_0x57f421(0x1cb)]=()=>toggleRowPattern(_0x121d4c),_0x4db51a[_0x57f421(0x19c)](_0x1f519a);for(let _0x4ac4f3=0x0;_0x4ac4f3<0x7;_0x4ac4f3++){const _0x40a4b6=document[_0x57f421(0x158)](_0x57f421(0x11e)),_0x5dfdc6=(availabilityPattern[_0x4ac4f3]||[])[_0x57f421(0x73)](_0x121d4c),_0x27c81e=!_0x5dfdc6;_0x40a4b6[_0x57f421(0x142)]=_0x57f421(0x6e)+(_0x27c81e?_0x57f421(0x101):''),_0x40a4b6['onclick']=()=>toggleSinglePattern(_0x4ac4f3,_0x121d4c),_0x4db51a[_0x57f421(0x19c)](_0x40a4b6);}}}function a2_0x58d1(){const _0x45047f=['stringify','\x20–∏–∑\x20','end','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','sessionSheet','settingCancelWindow','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','px\x20-','setItem','calc(','remove','headerMonth','send_notification','\x20‚Äî\x20','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','offClick','client-stat-card','show',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','dayOptionsSheet','getHours','stat-','1752PkhkpJ','btn-primary\x20btn-secondary','clientWidth','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','complete','dateStr','data','appendChild','rangeEndTime','add','syncLoad','[Notify]\x20Detected\x20Client\x20ID:','8006680JjuXgf','then','BackButton','var(--acc-red)','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','warn','series','charAt','%\x20+\x202px)','.event-card','formatDate','setBackgroundColor','getBoundingClientRect','querySelector','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','none','getMinutes','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','ru-RU','.day-off-overlay','fetchFromServer','header-','var(--acc-orange)','stopPropagation','rgba(255,255,255,0.05)','expand','inpNote','toast-notification\x20','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','custom','parse','msg','toastTitle','setDate','target','doWorkHours','status','touches','Local\x20Save\x20Error','search','2966FCarYf','onclick','exceptions','Unknown','onClick','136RUmmSS','\x20-\x20','timeColumn','3690WHCnHn','Critical\x20TMA\x20Error:','getItem','toastMessage','[Series]\x20Skipped\x20','inpEnd','inpSeriesCount','min','doDateHeader','1128SiLSRN','<div\x20class=\x22dch-day\x22>','175645ZCSJkS','anEnd','day-col-header\x20','analyticsSheet','getElementById','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','as-button\x20danger\x20bold','addEventListener','send','round','inpClient','cancel_window','[Notify]\x20Error:\x20sessionData\x20is\x20null','warning','[Notify]\x20Network\x20Failed','btn-status-toggle\x20undo-mode','actionSheetOverlay','planned','rgba(48,\x20209,\x2088,\x200.15)','Telegram','touchend','seriesCountContainer','pe-cell\x20','day-off-overlay\x20stripe-bg','statLoadCard','push','375EJsRsy','includes','length','setAttribute','disableVerticalSwipes','seriesId','clientId','color','timeLineBadge','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','–ò–Ω—Ñ–æ','initDataUnsafe','sort','href','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','completed','100%','text','getAttribute','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','borderColor',']\x20Failed:','location','localeCompare','getDay','padStart','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','var(--acc-green)','actionSheet','apply','findIndex','cancel','colIndex','...','v9.0-BATCH-CALENDAR','mousedown','router.html','numeric','doEventsList','option','btnDayToggle','top','14971PeOyaH','mini','gridColumns','constructor','rgba(255,\x20159,\x2010,\x200.3)','calendar','anCustomDates','[Notify]\x20Error:\x20Text\x20generation\x20failed','px\x200px','insertBefore','vibrate','querySelectorAll','createDocumentFragment','splice','rgba(255,\x2069,\x2058,\x200.3)','–£—Å–ø–µ—à–Ω–æ','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','Server\x20Error','asTitle','toast','create','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','display','rangesList','time-label','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','btnStatusToggle','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','done','Local\x20Load\x20Error','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','innerHTML','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','Save\x20settings\x20error:','asBtnSeries','[Notify]\x20Attempting\x20to\x20send:','rangeStartDate','peGrid','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','height','textContent','checked','toString','firstChild','</div>','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','backgroundColor','offsetLeft','matrixViewport','Error\x20setting\x20back\x20button:','undefined','map','save','zIndex','open','data-date','block','btn-status-toggle','inpDate','var(--acc-current)','classList','text/plain;charset=UTF-8','getTime','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','rgba(','day-column\x20','.period-switch\x20.p-btn','max','delete','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','settings','width','#050505','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','now','dayOptionsTitle','.sheet','from','filter','value','update','analyticsList','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','\x20days','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','pattern','catch','</div><div\x20class=\x22ev-time\x22>','DOMContentLoaded','log','initData','today','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','week','data-day-idx','single',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','saveLocally','btnDelete','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','<span>','active','[API\x20','settingsSheet','event-card','#0a84ff','Batch\x20Sync\x20OK','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','off','user','long','valid','mousemove','sheetDateSubtitle','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','setHours','isArray',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','setHeaderColor','272406REbjXi','total','clients','substr','10px\x2010px\x200\x200','toFixed','patternEditor','de-item','split','div','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','mergeServerData','save_settings','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','(((.+)+)+)+$','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','backgroundPosition','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','style','clientY','getDate','pe-col-header','toUpperCase','1031252ZFulZC','forEach','anStart','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','random','ranges','slice','recurringOptionContainer',':\x20Client\x20already\x20booked','</div><div\x20class=\x22dch-num\x22>','startsWith',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','month','%\x20-\x204px)','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','background','getFullYear','indexOf','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','keys','63FvvjVw','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','className','json','name','–£–¥–∞–ª–µ–Ω–∏–µ','setMonth','anPercent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',':00','rangeEndDate','inpStart','client','sid','ready','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','mouseup','find','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','blocked-slot\x20stripe-bg','overlay','start','sheetTitle','scrollWidth','createElement','rangeStartTime','uc_settings_cancel_window','[Sync]\x20Loading\x20','range-item','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','strokeDashoffset','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','borderLeftColor','note','[Notify]\x20Server\x20Response:','init_load','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','cancelled','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','10px','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','pe-time-label','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','borderRadius','inpRecurring','daysHeaderTrack','flex','rgba(255,\x2069,\x2058,\x200.15)','patternInfoBox','WebApp','doLoadPercent','getMonth','offsetWidth','closest','error','Error\x20setting\x20color:','#fff','scrollLeft','toLocaleDateString','.pib-text','.day-col-header','POST'];a2_0x58d1=function(){return _0x45047f;};return a2_0x58d1();}function toggleSinglePattern(_0x3dfb49,_0x5c298d){const _0x46e809=a2_0x1c4ed3;if(!availabilityPattern[_0x3dfb49])availabilityPattern[_0x3dfb49]=[];const _0xa8da27=availabilityPattern[_0x3dfb49],_0x302e88=_0xa8da27[_0x46e809(0x13d)](_0x5c298d);_0x302e88===-0x1?_0xa8da27['push'](_0x5c298d):_0xa8da27[_0x46e809(0xa9)](_0x302e88,0x1),renderPatternEditor();}function toggleColPattern(_0x4473af){const _0x53b7df=a2_0x1c4ed3;if(!availabilityPattern[_0x4473af])availabilityPattern[_0x4473af]=[];const _0x5d87ee=availabilityPattern[_0x4473af];_0x5d87ee[_0x53b7df(0x74)]===0x0?availabilityPattern[_0x4473af]=Array['from']({'length':0x18},(_0x312575,_0x5b998a)=>_0x5b998a):availabilityPattern[_0x4473af]=[],renderPatternEditor();}function toggleRowPattern(_0x468222){const _0x1eee42=a2_0x1c4ed3;let _0x7ca99c=!![];for(let _0x3fa47a=0x0;_0x3fa47a<0x7;_0x3fa47a++){if((availabilityPattern[_0x3fa47a]||[])[_0x1eee42(0x73)](_0x468222)){_0x7ca99c=![];break;}}for(let _0x3a83ff=0x0;_0x3a83ff<0x7;_0x3a83ff++){if(!availabilityPattern[_0x3a83ff])availabilityPattern[_0x3a83ff]=[];const _0x308a8c=availabilityPattern[_0x3a83ff][_0x1eee42(0x13d)](_0x468222);if(_0x7ca99c){if(_0x308a8c===-0x1)availabilityPattern[_0x3a83ff][_0x1eee42(0x71)](_0x468222);}else{if(_0x308a8c!==-0x1)availabilityPattern[_0x3a83ff][_0x1eee42(0xa9)](_0x308a8c,0x1);}}renderPatternEditor();}function renderPCol(_0x333ed1,_0x117e1b){const _0x124f51=a2_0x1c4ed3;_0x333ed1[_0x124f51(0xbb)]='';const _0x580306=Math[_0x124f51(0x1e6)](_0x333ed1[_0x124f51(0xcb)]);(availabilityPattern[_0x117e1b]||[])[_0x124f51(0x12d)](_0x2920a4=>{const _0x4e4d18=_0x124f51,_0x46907b=document['createElement'](_0x4e4d18(0x11e));_0x46907b[_0x4e4d18(0x142)]='blocked-slot\x20stripe-bg';const _0x361bca=_0x2920a4*GRID_H;_0x46907b['style'][_0x4e4d18(0x9b)]=_0x361bca+'px',_0x46907b[_0x4e4d18(0x127)][_0x4e4d18(0x125)]='-'+_0x580306+'px\x20-'+_0x361bca+'px',_0x46907b[_0x4e4d18(0x1cb)]=_0x6b60d3=>{const _0x10c500=_0x4e4d18;_0x6b60d3[_0x10c500(0x1b9)](),toggleSinglePattern(_0x117e1b,_0x2920a4);},_0x333ed1[_0x4e4d18(0x19c)](_0x46907b);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x293b5a=a2_0x1c4ed3,_0x28a860=new Date(),_0x4958c9=document[_0x293b5a(0x1e1)]('globalTimeLine'),_0x15d5b5=document[_0x293b5a(0x1e1)](_0x293b5a(0x7a)),_0x5193b8=(_0x28a860[_0x293b5a(0x193)]()*0x3c+_0x28a860[_0x293b5a(0x1b2)]())/0x3c*GRID_H;_0x4958c9[_0x293b5a(0x127)][_0x293b5a(0x9b)]=_0x5193b8+'px',_0x4958c9[_0x293b5a(0x127)][_0x293b5a(0xb2)]=_0x293b5a(0xd4),_0x15d5b5[_0x293b5a(0xc4)]=String(_0x28a860[_0x293b5a(0x193)]())[_0x293b5a(0x8b)](0x2,'0')+':'+String(_0x28a860[_0x293b5a(0x1b2)]())[_0x293b5a(0x8b)](0x2,'0'),_0x15d5b5['style'][_0x293b5a(0xb2)]=_0x293b5a(0xd4),_0x15d5b5['style'][_0x293b5a(0x9b)]=_0x5193b8+'px';}document['addEventListener'](a2_0x1c4ed3(0xf4),init);function openDayOptions(_0x4a5c5c){const _0x3829b5=a2_0x1c4ed3;selectedDayForOptions=_0x4a5c5c;const _0x56d06c=new Date(_0x4a5c5c),_0x32982f={'weekday':_0x3829b5(0x10a),'day':_0x3829b5(0x97),'month':_0x3829b5(0x10a),'year':_0x3829b5(0x97)},_0x2fe613=_0x56d06c[_0x3829b5(0x17b)](_0x3829b5(0x1b4),_0x32982f);document[_0x3829b5(0x1e1)](_0x3829b5(0x1da))[_0x3829b5(0xc4)]=_0x2fe613[_0x3829b5(0x1a9)](0x0)['toUpperCase']()+_0x2fe613[_0x3829b5(0x132)](0x1);let _0x21fd7c=_0x56d06c[_0x3829b5(0x8a)]()-0x1;if(_0x21fd7c===-0x1)_0x21fd7c=0x6;const _0x179067=availabilityPattern[_0x21fd7c]||[],_0x41e330=0x18-_0x179067[_0x3829b5(0x74)],_0x5c2e68=_0x41e330*0x3c,_0x33f8cc=sessions[_0x3829b5(0xea)](_0x5bc965=>_0x5bc965[_0x3829b5(0x19a)]===_0x4a5c5c&&_0x5bc965['status']!==_0x3829b5(0x166));let _0xd8e02c=_0x33f8cc[_0x3829b5(0xcf)](_0x31b0ee=>{const _0x2ce935=_0x3829b5,[_0x2fc161,_0x469165]=_0x31b0ee[_0x2ce935(0x155)][_0x2ce935(0x11d)](':')[_0x2ce935(0xcf)](Number),[_0x1b8773,_0x5e3ba4]=_0x31b0ee[_0x2ce935(0x181)][_0x2ce935(0x11d)](':')[_0x2ce935(0xcf)](Number);return[_0x2fc161*0x3c+_0x469165,_0x1b8773*0x3c+_0x5e3ba4];});_0xd8e02c[_0x3829b5(0x7e)]((_0x5dd75e,_0x5dcc7f)=>_0x5dd75e[0x0]-_0x5dcc7f[0x0]);let _0x51b0b5=[];if(_0xd8e02c[_0x3829b5(0x74)]>0x0){let _0x5dbe44=_0xd8e02c[0x0];for(let _0x41445c=0x1;_0x41445c<_0xd8e02c[_0x3829b5(0x74)];_0x41445c++){_0xd8e02c[_0x41445c][0x0]<_0x5dbe44[0x1]?_0x5dbe44[0x1]=Math[_0x3829b5(0xdf)](_0x5dbe44[0x1],_0xd8e02c[_0x41445c][0x1]):(_0x51b0b5[_0x3829b5(0x71)](_0x5dbe44),_0x5dbe44=_0xd8e02c[_0x41445c]);}_0x51b0b5[_0x3829b5(0x71)](_0x5dbe44);}let _0x33d0fb=0x0;_0x51b0b5[_0x3829b5(0x12d)](_0x7fc409=>_0x33d0fb+=_0x7fc409[0x1]-_0x7fc409[0x0]),document[_0x3829b5(0x1e1)](_0x3829b5(0x1c5))[_0x3829b5(0xc4)]=formatMinsToHrs(_0x5c2e68),document[_0x3829b5(0x1e1)]('doBusyHours')[_0x3829b5(0xc4)]=formatMinsToHrs(_0x33d0fb);const _0x3412a8=_0x5c2e68>0x0?Math['round'](_0x33d0fb/_0x5c2e68*0x64):0x0,_0x25dba2=document['getElementById'](_0x3829b5(0x173));_0x25dba2[_0x3829b5(0xc4)]=_0x3412a8+'%';const _0x341e7c=document[_0x3829b5(0x1e1)](_0x3829b5(0x70));if(_0x3412a8>0x64)_0x25dba2[_0x3829b5(0x127)]['color']=_0x3829b5(0x1a4),_0x341e7c[_0x3829b5(0x127)][_0x3829b5(0x86)]=_0x3829b5(0xaa);else _0x3412a8>0x50?(_0x25dba2[_0x3829b5(0x127)][_0x3829b5(0x79)]=_0x3829b5(0x1b8),_0x341e7c[_0x3829b5(0x127)][_0x3829b5(0x86)]=_0x3829b5(0xa0)):(_0x25dba2[_0x3829b5(0x127)][_0x3829b5(0x79)]=_0x3829b5(0x8d),_0x341e7c[_0x3829b5(0x127)][_0x3829b5(0x86)]=_0x3829b5(0x1ba));const _0x337a0f=document['getElementById'](_0x3829b5(0x98));_0x337a0f[_0x3829b5(0xbb)]='';_0x33f8cc[_0x3829b5(0x74)]===0x0?_0x337a0f[_0x3829b5(0xbb)]=_0x3829b5(0x160):(_0x33f8cc[_0x3829b5(0x7e)]((_0x5cbbfb,_0x26319b)=>_0x5cbbfb['start'][_0x3829b5(0x89)](_0x26319b[_0x3829b5(0x155)])),_0x33f8cc[_0x3829b5(0x12d)](_0x3d62c4=>{const _0x4feae6=_0x3829b5,_0x5f4260=clients[_0x4feae6(0x151)](_0x16e035=>_0x16e035[_0x4feae6(0x144)]===_0x3d62c4['client']),_0x311bb4=_0x5f4260?_0x5f4260[_0x4feae6(0x79)]:_0x4feae6(0x179),_0x44f21d=_0x3d62c4[_0x4feae6(0x1c6)]===_0x4feae6(0x81),_0x2cb4fe=_0x44f21d?_0x4feae6(0x10f):'',_0x201dd5=document[_0x4feae6(0x158)]('div');_0x201dd5[_0x4feae6(0x142)]=_0x4feae6(0x11c),_0x201dd5[_0x4feae6(0x127)][_0x4feae6(0x161)]=_0x311bb4,_0x201dd5[_0x4feae6(0xbb)]=_0x4feae6(0xf8)+_0x3d62c4[_0x4feae6(0x155)]+_0x4feae6(0x1d0)+_0x3d62c4[_0x4feae6(0x181)]+_0x4feae6(0x185)+_0x3d62c4[_0x4feae6(0x14c)]+_0x4feae6(0x110)+_0x2cb4fe+_0x4feae6(0x148),_0x337a0f[_0x4feae6(0x19c)](_0x201dd5);}));const _0x5ea505=document[_0x3829b5(0x1e1)](_0x3829b5(0x9a)),_0x196954=dateExceptions[_0x4a5c5c]===_0x3829b5(0x108);_0x196954?(_0x5ea505[_0x3829b5(0xc4)]=_0x3829b5(0x13e),_0x5ea505[_0x3829b5(0x142)]=_0x3829b5(0x196),_0x5ea505[_0x3829b5(0x127)]['color']=_0x3829b5(0x8d),_0x5ea505[_0x3829b5(0x127)][_0x3829b5(0x13b)]=_0x3829b5(0x6a)):(_0x5ea505['textContent']='–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º',_0x5ea505[_0x3829b5(0x142)]='btn-primary\x20btn-danger',_0x5ea505[_0x3829b5(0x127)]['color']=_0x3829b5(0x1a4),_0x5ea505[_0x3829b5(0x127)][_0x3829b5(0x13b)]=_0x3829b5(0x170)),openSheet(_0x3829b5(0x192));}let currentAnPeriod=a2_0x1c4ed3(0xf9);function openAnalytics(){const _0x4b59a7=a2_0x1c4ed3,_0x128cd0=document[_0x4b59a7(0x1af)]('.period-switch\x20.p-btn');setAnalyticsPeriod(_0x4b59a7(0xf9),_0x128cd0),closeAllSheets(),openSheet(_0x4b59a7(0x1e0));}function setAnalyticsPeriod(_0x138baf,_0x247755){const _0x3b4cab=a2_0x1c4ed3;currentAnPeriod=_0x138baf,document[_0x3b4cab(0xa7)](_0x3b4cab(0xde))['forEach'](_0x2b8987=>_0x2b8987['classList'][_0x3b4cab(0x189)](_0x3b4cab(0x101)));if(_0x247755)_0x247755[_0x3b4cab(0xd8)][_0x3b4cab(0x19e)](_0x3b4cab(0x101));const _0x3ce818=document[_0x3b4cab(0x1e1)](_0x3b4cab(0xa2));_0x3ce818[_0x3b4cab(0x127)]['display']=_0x138baf===_0x3b4cab(0x1bf)?'flex':_0x3b4cab(0x1b1);const _0x1fc469=new Date();let _0x24cc8a=new Date(),_0x300b43=new Date();if(_0x138baf==='week')_0x24cc8a=getStartOfWeek(_0x1fc469),_0x300b43=new Date(_0x24cc8a),_0x300b43[_0x3b4cab(0x1c3)](_0x300b43[_0x3b4cab(0x129)]()+0x6);else{if(_0x138baf===_0x3b4cab(0x138))_0x24cc8a=new Date(_0x1fc469[_0x3b4cab(0x13c)](),_0x1fc469[_0x3b4cab(0x174)](),0x1),_0x300b43=new Date(_0x1fc469[_0x3b4cab(0x13c)](),_0x1fc469[_0x3b4cab(0x174)]()+0x1,0x0);else{!document['getElementById'](_0x3b4cab(0x12e))[_0x3b4cab(0xeb)]&&(document[_0x3b4cab(0x1e1)]('anStart')[_0x3b4cab(0xeb)]=getLocalDateStr(_0x1fc469),document[_0x3b4cab(0x1e1)](_0x3b4cab(0x1de))[_0x3b4cab(0xeb)]=getLocalDateStr(_0x1fc469));refreshAnalytics();return;}}document[_0x3b4cab(0x1e1)](_0x3b4cab(0x12e))[_0x3b4cab(0xeb)]=getLocalDateStr(_0x24cc8a),document[_0x3b4cab(0x1e1)](_0x3b4cab(0x1de))[_0x3b4cab(0xeb)]=getLocalDateStr(_0x300b43),refreshAnalytics();}function refreshAnalytics(){const _0x30609a=a2_0x1c4ed3,_0x361830=document[_0x30609a(0x1e1)](_0x30609a(0x12e))[_0x30609a(0xeb)],_0x3d3450=document['getElementById'](_0x30609a(0x1de))[_0x30609a(0xeb)];if(!_0x361830||!_0x3d3450)return;const _0x2fd9c8=sessions[_0x30609a(0xea)](_0x308268=>_0x308268['dateStr']>=_0x361830&&_0x308268[_0x30609a(0x19a)]<=_0x3d3450&&_0x308268['status']!==_0x30609a(0x166)),_0x1cfaf2=_0x2fd9c8[_0x30609a(0x74)],_0xea687f=_0x2fd9c8[_0x30609a(0xea)](_0x21ca67=>_0x21ca67[_0x30609a(0x1c6)]===_0x30609a(0x81))['length'],_0x2a8d9a=_0x1cfaf2>0x0?Math[_0x30609a(0x1e6)](_0xea687f/_0x1cfaf2*0x64):0x0;document[_0x30609a(0x1e1)](_0x30609a(0x147))[_0x30609a(0xc4)]=_0x2a8d9a+'%',document[_0x30609a(0x1e1)]('anTotalStats')[_0x30609a(0xc4)]=_0xea687f+_0x30609a(0x180)+_0x1cfaf2+_0x30609a(0xc9);const _0x2dddac=document['getElementById']('anDonutCircle'),_0x1c69d1=0x2*Math['PI']*0x23,_0x5e97d5=_0x1c69d1-_0x2a8d9a/0x64*_0x1c69d1;_0x2dddac[_0x30609a(0x127)][_0x30609a(0x15f)]=_0x5e97d5;const _0x5906a8={};_0x2fd9c8['forEach'](_0x1c89d7=>{const _0x3aca71=_0x30609a;if(!_0x5906a8[_0x1c89d7[_0x3aca71(0x14c)]]){const _0x5cc7c7=clients[_0x3aca71(0x151)](_0x2ef737=>_0x2ef737['name']===_0x1c89d7[_0x3aca71(0x14c)]);_0x5906a8[_0x1c89d7[_0x3aca71(0x14c)]]={'total':0x0,'done':0x0,'color':_0x5cc7c7?_0x5cc7c7['color']:_0x3aca71(0x179)};}_0x5906a8[_0x1c89d7[_0x3aca71(0x14c)]]['total']++;if(_0x1c89d7['status']===_0x3aca71(0x81))_0x5906a8[_0x1c89d7[_0x3aca71(0x14c)]][_0x3aca71(0xb8)]++;});const _0x4ef58b=document[_0x30609a(0x1e1)](_0x30609a(0xed));_0x4ef58b['innerHTML']='';const _0x363188=Object['entries'](_0x5906a8)[_0x30609a(0x7e)]((_0x50851a,_0x31f29e)=>_0x31f29e[0x1][_0x30609a(0x116)]-_0x50851a[0x1][_0x30609a(0x116)]);if(_0x363188['length']===0x0){_0x4ef58b[_0x30609a(0xbb)]='<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>';return;}_0x363188[_0x30609a(0x12d)](([_0x30f870,_0x1deac2])=>{const _0x52f1a8=_0x30609a,_0x468dda=Math[_0x52f1a8(0x1e6)](_0x1deac2[_0x52f1a8(0xb8)]/_0x1deac2[_0x52f1a8(0x116)]*0x64),_0xd1610c=document[_0x52f1a8(0x158)](_0x52f1a8(0x11e));_0xd1610c['className']=_0x52f1a8(0x18f),_0xd1610c[_0x52f1a8(0x127)][_0x52f1a8(0x161)]=_0x1deac2[_0x52f1a8(0x79)],_0xd1610c[_0x52f1a8(0xbb)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>'+_0x30f870+_0x52f1a8(0x122)+_0x1deac2[_0x52f1a8(0xb8)]+'</span>\x20/\x20'+_0x1deac2[_0x52f1a8(0x116)]+_0x52f1a8(0xf0)+_0x468dda+_0x52f1a8(0x15e),_0x4ef58b[_0x52f1a8(0x19c)](_0xd1610c);});}function formatMinsToHrs(_0x2fd701){if(_0x2fd701===0x0)return'0';const _0x5d0f19=Math['floor'](_0x2fd701/0x3c),_0x344d05=_0x2fd701%0x3c;if(_0x344d05===0x0)return _0x5d0f19+'—á';return _0x5d0f19+'—á\x20'+_0x344d05+'–º';}