const a2_0x4c36b7=a2_0x3ecb;(function(_0x2b8f88,_0x486a90){const _0x39f038=a2_0x3ecb,_0x450f35=_0x2b8f88();while(!![]){try{const _0x57cd2d=parseInt(_0x39f038(0x1ab))/0x1+parseInt(_0x39f038(0x7b))/0x2*(parseInt(_0x39f038(0xce))/0x3)+-parseInt(_0x39f038(0x13f))/0x4*(-parseInt(_0x39f038(0x1a7))/0x5)+parseInt(_0x39f038(0xaa))/0x6*(-parseInt(_0x39f038(0xa9))/0x7)+-parseInt(_0x39f038(0x1c7))/0x8+-parseInt(_0x39f038(0x177))/0x9*(-parseInt(_0x39f038(0x194))/0xa)+-parseInt(_0x39f038(0x15b))/0xb;if(_0x57cd2d===_0x486a90)break;else _0x450f35['push'](_0x450f35['shift']());}catch(_0x15b6ec){_0x450f35['push'](_0x450f35['shift']());}}}(a2_0x45d7,0xeabab),function initTMA(){const _0x31c87b=a2_0x3ecb,_0x1db8c3=(function(){let _0x14648a=!![];return function(_0xd125c8,_0x24ca07){const _0x49dba1=_0x14648a?function(){const _0x544a0a=a2_0x3ecb;if(_0x24ca07){const _0x109df2=_0x24ca07[_0x544a0a(0xe0)](_0xd125c8,arguments);return _0x24ca07=null,_0x109df2;}}:function(){};return _0x14648a=![],_0x49dba1;};}()),_0x3405dc=_0x1db8c3(this,function(){const _0x159dc2=a2_0x3ecb;return _0x3405dc[_0x159dc2(0x145)]()[_0x159dc2(0xe5)](_0x159dc2(0x154))[_0x159dc2(0x145)]()[_0x159dc2(0x1cc)](_0x3405dc)[_0x159dc2(0xe5)](_0x159dc2(0x154));});_0x3405dc();try{const _0x1a56b5=window[_0x31c87b(0x10f)]?.[_0x31c87b(0xbc)];if(!_0x1a56b5)return;_0x1a56b5['ready'](),_0x1a56b5[_0x31c87b(0x13d)]();try{_0x1a56b5[_0x31c87b(0x1ac)]('#050505'),_0x1a56b5[_0x31c87b(0x175)]&&_0x1a56b5[_0x31c87b(0x175)]('#050505');}catch(_0x35c90b){console[_0x31c87b(0x18a)](_0x31c87b(0x1e9),_0x35c90b);}try{_0x1a56b5[_0x31c87b(0x1b2)]&&(_0x1a56b5[_0x31c87b(0x1b2)]['show'](),_0x1a56b5['BackButton'][_0x31c87b(0x150)](),_0x1a56b5[_0x31c87b(0x1b2)][_0x31c87b(0x147)](function(){const _0x30e35c=_0x31c87b;window[_0x30e35c(0xdb)][_0x30e35c(0xb8)]=_0x30e35c(0x18e);}));}catch(_0x6421e8){console[_0x31c87b(0x18a)](_0x31c87b(0x109),_0x6421e8);}try{if(_0x1a56b5[_0x31c87b(0x165)])_0x1a56b5[_0x31c87b(0x165)]();}catch(_0x1da757){}}catch(_0x117482){console['error']('Critical\x20TMA\x20Error:',_0x117482);}}());function isAdmin(){const _0x4b4708=a2_0x3ecb;try{const _0x13f2e3=Number(window[_0x4b4708(0x10f)]?.[_0x4b4708(0xbc)]?.[_0x4b4708(0xe6)]?.['user']?.['id']);return _0x13f2e3===0xbaf7174;}catch(_0x24a5f4){return![];}}const APP_VERSION='v9.0-BATCH-CALENDAR',API_URL=a2_0x4c36b7(0x1e3),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS='uc_clients_v9',KEY_SESSIONS=a2_0x4c36b7(0x19a),KEY_SETTINGS='uc_settings_v9';let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x1769a6=a2_0x4c36b7;return window['Telegram']?.[_0x1769a6(0xbc)]?.[_0x1769a6(0xe6)]?.['user']?.['id']||'guest';},'saveLocally'(){const _0x5106d3=a2_0x4c36b7;try{localStorage['setItem'](KEY_CLIENTS,JSON[_0x5106d3(0x8f)](clients)),localStorage[_0x5106d3(0x148)](KEY_SESSIONS,JSON[_0x5106d3(0x8f)](sessions)),localStorage[_0x5106d3(0x148)](KEY_SETTINGS,JSON[_0x5106d3(0x8f)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x31a398){console[_0x5106d3(0xf6)]('Local\x20Save\x20Error',_0x31a398);}},'loadLocal'(){const _0x45b2e5=a2_0x4c36b7;try{const _0x47025c=localStorage['getItem'](KEY_CLIENTS);if(_0x47025c)clients=JSON['parse'](_0x47025c);const _0x140832=localStorage[_0x45b2e5(0x8b)](KEY_SESSIONS);if(_0x140832)sessions=JSON[_0x45b2e5(0x11b)](_0x140832);const _0x52f725=localStorage[_0x45b2e5(0x8b)](KEY_SETTINGS);if(_0x52f725){const _0x3251b2=JSON['parse'](_0x52f725);if(_0x3251b2['pattern'])availabilityPattern=_0x3251b2['pattern'];if(_0x3251b2[_0x45b2e5(0xbd)])dateExceptions=_0x3251b2[_0x45b2e5(0xbd)];if(_0x3251b2[_0x45b2e5(0x1ee)])specialRanges=_0x3251b2[_0x45b2e5(0x1ee)];}else{for(let _0x182817=0x0;_0x182817<0x7;_0x182817++)availabilityPattern[_0x182817]=Array[_0x45b2e5(0x15f)]({'length':0xc},(_0x21c1c6,_0x154185)=>_0x154185+0x9);}}catch(_0x20854f){console['error']('Local\x20Load\x20Error',_0x20854f);}},async 'fetchFromServer'(_0x1a5469,_0x5d7e2d={}){const _0x5e7413=a2_0x4c36b7,_0x31bbb9=window[_0x5e7413(0x10f)]?.['WebApp'],_0x2c224b={'action':_0x1a5469,'init_data':_0x31bbb9?.[_0x5e7413(0x142)]||'',..._0x5d7e2d};try{const _0x219d11=await fetch(API_URL,{'method':'POST','headers':{'Content-Type':'text/plain;charset=UTF-8'},'body':JSON[_0x5e7413(0x8f)](_0x2c224b)}),_0x19f585=await _0x219d11[_0x5e7413(0x1d6)]();if(!_0x19f585['ok'])throw new Error(_0x19f585['error']||_0x5e7413(0x196));return _0x19f585[_0x5e7413(0x125)];}catch(_0x16b49c){console['error'](_0x5e7413(0x1bb)+_0x1a5469+']\x20Failed:',_0x16b49c);throw _0x16b49c;}},async 'syncLoad'(){const _0x22ecfe=a2_0x4c36b7,_0x84730=new Date(),_0x5e4e6a=_0x84730[_0x22ecfe(0x14b)]()+'-'+String(_0x84730[_0x22ecfe(0x1c9)]()+0x1)[_0x22ecfe(0x91)](0x2,'0'),_0x5aada3=new Date(_0x84730);_0x5aada3[_0x22ecfe(0xd7)](_0x84730[_0x22ecfe(0x1c9)]()+0x1);const _0x4c5bb5=_0x5aada3['getFullYear']()+'-'+String(_0x5aada3[_0x22ecfe(0x1c9)]()+0x1)[_0x22ecfe(0x91)](0x2,'0'),_0x21a341=Date[_0x22ecfe(0xa4)]();console[_0x22ecfe(0x18a)](_0x22ecfe(0x195)+_0x5e4e6a+',\x20'+_0x4c5bb5+'...');try{const [_0x4b3ca6,_0x495e51]=await Promise[_0x22ecfe(0x107)]([this[_0x22ecfe(0x174)]('init_load',{'month_str':_0x5e4e6a}),this['fetchFromServer'](_0x22ecfe(0x1cd),{'month_str':_0x4c5bb5})]);if(lastUserActionTime>_0x21a341)return console['warn'](_0x22ecfe(0x1c0)),![];return this[_0x22ecfe(0xea)](_0x4b3ca6,_0x5e4e6a),this[_0x22ecfe(0xea)](_0x495e51,_0x4c5bb5),this[_0x22ecfe(0x19e)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x1245ca){console[_0x22ecfe(0xf6)](_0x1245ca);throw _0x1245ca;}},'mergeServerData'(_0x243f93,_0x31bc69){const _0x1f30b4=a2_0x4c36b7;if(!_0x243f93)return;_0x243f93[_0x1f30b4(0x15d)]&&Array[_0x1f30b4(0x158)](_0x243f93[_0x1f30b4(0x15d)])&&(clients=_0x243f93[_0x1f30b4(0x15d)]);if(_0x243f93[_0x1f30b4(0x10c)]){if(_0x243f93[_0x1f30b4(0x10c)][_0x1f30b4(0xb6)])availabilityPattern=_0x243f93['settings'][_0x1f30b4(0xb6)];if(_0x243f93['settings']['exceptions'])dateExceptions=_0x243f93[_0x1f30b4(0x10c)]['exceptions'];if(_0x243f93['settings'][_0x1f30b4(0x1ee)])specialRanges=_0x243f93[_0x1f30b4(0x10c)][_0x1f30b4(0x1ee)];if(_0x243f93[_0x1f30b4(0x10c)][_0x1f30b4(0x129)]){localStorage[_0x1f30b4(0x148)](_0x1f30b4(0x1b1),_0x243f93[_0x1f30b4(0x10c)][_0x1f30b4(0x129)]);const _0x14d643=document['getElementById'](_0x1f30b4(0xa7));if(_0x14d643)_0x14d643['value']=_0x243f93[_0x1f30b4(0x10c)][_0x1f30b4(0x129)];}}_0x243f93[_0x1f30b4(0x113)]&&(sessions=sessions['filter'](_0x548b50=>!_0x548b50[_0x1f30b4(0xa8)][_0x1f30b4(0x16e)](_0x31bc69)),Object[_0x1f30b4(0x1ae)](_0x243f93[_0x1f30b4(0x113)])[_0x1f30b4(0x104)](_0x128f7c=>{const _0xd57f88=_0x1f30b4,_0x5069e2=_0x243f93[_0xd57f88(0x113)][_0x128f7c];_0x5069e2[_0xd57f88(0x104)](_0x5a3993=>{const _0x1d8f49=_0xd57f88,_0x56a89a=clients[_0x1d8f49(0xfd)](_0x126d13=>String(_0x126d13['id'])===String(_0x5a3993['c']));sessions['push']({'id':_0x5a3993['i'],'clientId':_0x5a3993['c'],'client':_0x56a89a?_0x56a89a[_0x1d8f49(0xcc)]:_0x1d8f49(0x178),'dateStr':_0x31bc69+'-'+_0x128f7c[_0x1d8f49(0x91)](0x2,'0'),'start':_0x5a3993['s'],'end':_0x5a3993['e'],'status':_0x5a3993['st']||_0x1d8f49(0x19c),'note':_0x5a3993['n']||'','seriesId':_0x5a3993['sid']||null});});}));},async 'syncBatch'(_0x3ca46f){const _0x8bdd78=a2_0x4c36b7,_0x123aab=[...new Set(_0x3ca46f)],_0x178bf9=_0x123aab[_0x8bdd78(0x16a)](_0x599d39=>{const _0x1ea6ae=_0x8bdd78,_0x27d460=sessions['filter'](_0x473f7f=>_0x473f7f[_0x1ea6ae(0xa8)]===_0x599d39&&_0x473f7f[_0x1ea6ae(0xf9)]!=='deleted'),_0x206fb8=_0x27d460[_0x1ea6ae(0x16a)](_0x35bc6f=>({'i':_0x35bc6f['id'],'c':_0x35bc6f[_0x1ea6ae(0xbb)],'s':_0x35bc6f['start'],'e':_0x35bc6f[_0x1ea6ae(0x1b6)],'st':_0x35bc6f[_0x1ea6ae(0xf9)],'n':_0x35bc6f[_0x1ea6ae(0xf2)],'sid':_0x35bc6f[_0x1ea6ae(0x15c)]}));return{'date':_0x599d39,'day_data':_0x206fb8};});if(_0x178bf9['length']===0x0)return;console[_0x8bdd78(0x18a)]('[Sync]\x20Pushing\x20batch\x20updates\x20for\x20'+_0x178bf9[_0x8bdd78(0x1db)]+_0x8bdd78(0xe7)),await this['fetchFromServer'](_0x8bdd78(0x1ca),{'changes':_0x178bf9});}};async function init(){const _0x41c7a4=a2_0x4c36b7;DataManager[_0x41c7a4(0x101)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x41c7a4(0x1b0)]('matrixViewport')[_0x41c7a4(0x19f)](_0x41c7a4(0xac),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x41c7a4(0x12f)]()[_0x41c7a4(0xfe)](()=>{const _0x195bdc=_0x41c7a4;showToast(_0x195bdc(0x97),!![]);})[_0x41c7a4(0xd0)](_0xf8f2a7=>{const _0x5677ad=_0x41c7a4;showToast(_0x5677ad(0x172),![]);});}function generateId(){const _0x39bd0d=a2_0x4c36b7;return Date['now']()[_0x39bd0d(0x145)](0x24)+Math[_0x39bd0d(0x8d)]()[_0x39bd0d(0x145)](0x24)['substr'](0x2,0x5);}function toggleSeriesInput(){const _0x4b48b1=a2_0x4c36b7,_0x5d0fce=document[_0x4b48b1(0x1b0)](_0x4b48b1(0x1a5))[_0x4b48b1(0x162)],_0x5209a9=document[_0x4b48b1(0x1b0)](_0x4b48b1(0x199));_0x5209a9[_0x4b48b1(0xa3)][_0x4b48b1(0x1ba)]=_0x5d0fce?_0x4b48b1(0x13e):_0x4b48b1(0x1a6);const _0x5b511a=document['getElementById'](_0x4b48b1(0x1ce));_0x5b511a['style'][_0x4b48b1(0x170)]=_0x5d0fce?_0x4b48b1(0x1c5):_0x4b48b1(0xf1);}function openAddSession(_0xc9308a){const _0x263690=a2_0x4c36b7;editingId=null,populateClientSelect(),document[_0x263690(0x1b0)](_0x263690(0x1c4))[_0x263690(0xad)]=_0x263690(0x166),document['getElementById']('btnDelete')[_0x263690(0xa3)][_0x263690(0x1ba)]=_0x263690(0x1a6),document['getElementById'](_0x263690(0x1d5))[_0x263690(0xa3)]['display']=_0x263690(0x1a6);const _0x8dfa90=document[_0x263690(0x1b0)](_0x263690(0x1ce)),_0xad62b4=document[_0x263690(0x1b0)]('seriesCountContainer');_0x8dfa90['style'][_0x263690(0x1ba)]='flex',_0x8dfa90[_0x263690(0xa3)][_0x263690(0x170)]=_0x263690(0xf1),document[_0x263690(0x1b0)](_0x263690(0x1a5))[_0x263690(0x162)]=![],document['getElementById'](_0x263690(0x168))[_0x263690(0x96)]=0x4,_0xad62b4[_0x263690(0xa3)]['display']=_0x263690(0x1a6),document[_0x263690(0x1b0)](_0x263690(0x1e0))[_0x263690(0x96)]=getLocalDateStr(_0xc9308a),updateDateDisplay();const _0x359c20=_0xc9308a[_0x263690(0x133)]();document[_0x263690(0x1b0)](_0x263690(0x1a3))['value']=String(_0x359c20)[_0x263690(0x91)](0x2,'0')+_0x263690(0x83),document['getElementById'](_0x263690(0x17e))[_0x263690(0x96)]=String(_0x359c20+0x1)[_0x263690(0x91)](0x2,'0')+_0x263690(0x83),openSheet(_0x263690(0x14f));}function openEdit(_0x37a6cb){const _0x54e0b2=a2_0x4c36b7;editingId=_0x37a6cb['id'],populateClientSelect(),document[_0x54e0b2(0x1b0)](_0x54e0b2(0x1c4))[_0x54e0b2(0xad)]=_0x54e0b2(0x1c6),document[_0x54e0b2(0x1b0)]('btnDelete')[_0x54e0b2(0xa3)][_0x54e0b2(0x1ba)]='block';const _0x44578c=document['getElementById']('btnStatusToggle');_0x44578c[_0x54e0b2(0xa3)][_0x54e0b2(0x1ba)]=_0x54e0b2(0xfb);_0x37a6cb[_0x54e0b2(0xf9)]===_0x54e0b2(0x1ed)?(_0x44578c['className']=_0x54e0b2(0xdd),_0x44578c[_0x54e0b2(0xc4)]=_0x54e0b2(0xa2)):(_0x44578c[_0x54e0b2(0x84)]=_0x54e0b2(0x11c),_0x44578c['innerHTML']=_0x54e0b2(0x9c));const _0xd8a42b=!!_0x37a6cb['seriesId'];document[_0x54e0b2(0x1b0)](_0x54e0b2(0x1ce))['style'][_0x54e0b2(0x1ba)]='none',document[_0x54e0b2(0x1b0)](_0x54e0b2(0x199))[_0x54e0b2(0xa3)][_0x54e0b2(0x1ba)]='none',_0xd8a42b?(document[_0x54e0b2(0x1b0)](_0x54e0b2(0xb1))[_0x54e0b2(0xa3)][_0x54e0b2(0x1ba)]=_0x54e0b2(0xfb),document[_0x54e0b2(0x1b0)]('patternInfoBox')[_0x54e0b2(0x141)](_0x54e0b2(0x155))[_0x54e0b2(0xad)]='–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫'):document['getElementById']('patternInfoBox')['style'][_0x54e0b2(0x1ba)]=_0x54e0b2(0x1a6),document[_0x54e0b2(0x1b0)](_0x54e0b2(0x108))[_0x54e0b2(0x96)]=_0x37a6cb[_0x54e0b2(0xca)],document['getElementById'](_0x54e0b2(0x1e0))[_0x54e0b2(0x96)]=_0x37a6cb[_0x54e0b2(0xa8)],document[_0x54e0b2(0x1b0)](_0x54e0b2(0x1a3))['value']=_0x37a6cb[_0x54e0b2(0x1ec)],document['getElementById'](_0x54e0b2(0x17e))['value']=_0x37a6cb[_0x54e0b2(0x1b6)],document[_0x54e0b2(0x1b0)](_0x54e0b2(0x10d))[_0x54e0b2(0x96)]=_0x37a6cb[_0x54e0b2(0xf2)]||'',updateDateDisplay(),openSheet(_0x54e0b2(0x14f));}async function trySaveSession(){const _0x702fa3=a2_0x4c36b7,_0x331ace=document[_0x702fa3(0x1b0)](_0x702fa3(0x108))[_0x702fa3(0x96)],_0x4330a5=document[_0x702fa3(0x1b0)](_0x702fa3(0x1e0))[_0x702fa3(0x96)],_0x43c1e1=document[_0x702fa3(0x1b0)]('inpStart')['value'],_0x1aef1c=document[_0x702fa3(0x1b0)](_0x702fa3(0x17e))[_0x702fa3(0x96)],_0x357b1a=document[_0x702fa3(0x1b0)](_0x702fa3(0x10d))['value'],_0x534fa1=document[_0x702fa3(0x1b0)]('inpRecurring')[_0x702fa3(0x162)];let _0x5cd5b8=0x4;if(_0x534fa1){const _0x12c62d=parseInt(document[_0x702fa3(0x1b0)](_0x702fa3(0x168))['value']);if(!_0x12c62d||_0x12c62d<0x2){showToast(_0x702fa3(0x183),![]);return;}if(_0x12c62d>0x64){showToast(_0x702fa3(0x80),![]);return;}_0x5cd5b8=_0x12c62d;}const _0x2d8f7f=clients[_0x702fa3(0xfd)](_0x367fe4=>_0x367fe4[_0x702fa3(0xcc)]===_0x331ace);if(!_0x2d8f7f){showToast('–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞',![]);return;}const _0x292674=validateAppointment(_0x4330a5,_0x43c1e1,_0x1aef1c,editingId,_0x2d8f7f['id']);if(!_0x292674[_0x702fa3(0x124)]){showToast(_0x292674[_0x702fa3(0xd1)],![]);return;}_0x292674[_0x702fa3(0x189)]&&showToast(_0x292674[_0x702fa3(0x189)],![]);const _0x841c19={'client':_0x331ace,'clientId':_0x2d8f7f['id'],'start':_0x43c1e1,'end':_0x1aef1c,'note':_0x357b1a,'status':_0x702fa3(0x19c)},_0x55d613=editingId?sessions['find'](_0x43731a=>_0x43731a['id']===editingId):null;if(_0x55d613&&_0x55d613['seriesId']){tempSessionData={..._0x841c19,'dateStr':_0x4330a5,'id':editingId,'seriesId':_0x55d613['seriesId']},openActionSheet('save');return;}let _0x3b2f03=null;if(!editingId)_0x3b2f03=_0x702fa3(0x1d9);else{if(_0x55d613){if(String(_0x55d613[_0x702fa3(0xbb)])!==String(_0x2d8f7f['id']))console['log']('[Notify]\x20Client\x20SWAP\x20detected'),NotificationManager[_0x702fa3(0x1ad)]('cancel',_0x55d613),_0x3b2f03='create';else(_0x55d613['start']!==_0x43c1e1||_0x55d613[_0x702fa3(0x1b6)]!==_0x1aef1c||_0x55d613[_0x702fa3(0xa8)]!==_0x4330a5)&&(_0x3b2f03=_0x702fa3(0x1a1));}}if(!editingId&&_0x534fa1){createBatchSeries(_0x841c19,_0x4330a5,_0x5cd5b8),NotificationManager[_0x702fa3(0x1ad)](_0x702fa3(0x1d9),{..._0x841c19,'dateStr':_0x4330a5});return;}lastUserActionTime=Date[_0x702fa3(0xa4)]();const _0x3c7768={..._0x841c19,'dateStr':_0x4330a5,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x3c7768),_0x3b2f03&&NotificationManager[_0x702fa3(0x1ad)](_0x3b2f03,_0x3c7768);}function a2_0x45d7(){const _0x2cb3a7=['<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','pe-corner','min','valid','data','custom','.day-col-header','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','cancel_window','[Settings]\x20Cancel\x20window\x20set\x20to:','width','</div><div\x20class=\x22ev-time\x22>','var(--acc-red)','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','syncLoad','#fff',':\x20Client\x20already\x20booked','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','getHours','calc(','–£—Å–ø–µ—à–Ω–æ','touches','colIndex','toFixed','.day-off-overlay','</b>\x0a\x0a','insertBefore','splice','expand','block','1052hIeNyz','<div\x20class=\x22dch-day\x22>','querySelector','initData','DOMContentLoaded','add','toString','push','onClick','setItem','backgroundPosition','mousemove','getFullYear','target','numeric','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','sessionSheet','offClick','scrollTop','setAttribute','<div\x20class=\x22ev-title\x22>','(((.+)+)+)+$','.pib-text','strokeDashoffset','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','isArray','anPercent','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','1303588tyjvxZ','seriesId','clients','offsetLeft','from','[Notify]\x20Attempting\x20to\x20send:','headerMonth','checked','getDay','createElement','disableVerticalSwipes','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','option','inpSeriesCount','closest','map','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','background','rgba(255,255,255,0.05)','startsWith','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','borderRadius','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','–£–¥–∞–ª–µ–Ω–∏–µ','fetchFromServer','setBackgroundColor','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','15138eBRfUF','Unknown','...','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','asBtnOne','borderLeftColor','100%','inpEnd','px\x200px','data-date','zIndex','doDateHeader','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','floor','slice','day-column\x20','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','\x20status-completed','warning','log','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','month','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','router.html','cancelled','\x20‚Äî\x20','header-','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','color','1880HJikjN','[Sync]\x20Loading\x20','Server\x20Error','done','asTitle','seriesCountContainer','uc_sessions_v9','save','planned','actionSheet','saveLocally','addEventListener','active','update','event-card','inpStart','00:00','inpRecurring','none','375RxvHCG','data-day-idx','mousedown','gridColumns','740689NhUsGj','setHeaderColor','send','keys','toastTitle','getElementById','uc_settings_cancel_window','BackButton','clientY','height','scrollWidth','end','entries','anStart','\x20-\x20','display','[API\x20','scrollLeft',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','matrixViewport','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','indexOf','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','sheetTitle','10px\x2010px\x200\x200','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','8924960qqmbgv','#0a84ff','getMonth','batch_sync','#gridColumns\x20.day-column','constructor','init_load','recurringOptionContainer','ru-RU','day-col-header\x20','setHours','querySelectorAll','borderColor','blocked-slot\x20stripe-bg','btnStatusToggle','json','as-button\x20danger\x20bold',':00</span>','create','show','length','backgroundColor','includes','left','[Notify]\x20Server\x20Response:','inpDate','getDate','timeLineBadge','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','text','stat-','T23:59:59','.period-switch\x20.p-btn','.event-card','Error\x20setting\x20color:','toLocaleDateString','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','start','completed','ranges','actionSheetOverlay','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','as-button\x20danger','today','doLoadPercent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','open','success','toastMessage','remove','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','analyticsList','2656742YCvIsg','asBtnSeries','formatDate','toUpperCase','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','round','send_notification',':00','className','anEnd','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','\x20–∏–∑\x20','23:59','week','getItem','delete','random','pe-col-header','stringify','toast','padStart','%\x20-\x204px)','timeColumn','getBoundingClientRect','vibrate','value','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','getTime','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','rangeStartDate','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','rangesList','.dch-stats-fill','rgba(255,\x2069,\x2058,\x200.15)','Save\x20settings\x20error:','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','style','now','appendChild','patternEditor','settingCancelWindow','dateStr','1465954ettkNV','6orSYVu','anTotalStats','scroll','textContent','single','filter','rgba(255,\x2069,\x2058,\x200.3)','patternInfoBox','long','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','off','time-label','pattern','client-stat-card','href','btn-primary\x20btn-danger','max','clientId','WebApp','exceptions','dayOptionsSheet','total','undefined','div','doBusyHours','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','innerHTML','[Notify]\x20Error:\x20sessionData\x20is\x20null','px\x20-','save_settings','setDate','statLoadCard','client','rangesSheet','name','touchstart','3FLzSDq','offsetWidth','catch','msg','rangeStartTime','findIndex','dayOptionsTitle','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','onclick','setMonth','sort','pe-cell\x20','.sheet','location','day-off-overlay\x20stripe-bg','btn-status-toggle\x20undo-mode','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','localeCompare','apply','warn','.day-column','anDonutCircle','getText','search','initDataUnsafe','\x20days','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','var(--acc-current)','mergeServerData','series','split','mini','peGrid','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','getMinutes','10px','note','createDocumentFragment','doEventsList','%\x20+\x202px)','error','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','de-item','status','daysHeaderTrack','flex','complete','find','then','toLocaleString','overlay','loadLocal','rangeEndDate','mouseup','forEach','T00:00:00','</div><div\x20class=\x22dch-num\x22>','all','inpClient','Error\x20setting\x20back\x20button:','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','</div>','settings','inpNote','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','Telegram','top','rangeEndTime','var(--acc-green)','calendar','analyticsSheet','</span>\x20/\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','touchend','toast-notification\x20','clientWidth','parse','btn-status-toggle','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','classList','sheetDateSubtitle','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ'];a2_0x45d7=function(){return _0x2cb3a7;};return a2_0x45d7();}function toggleSessionStatus(){const _0x38d634=a2_0x4c36b7;lastUserActionTime=Date[_0x38d634(0xa4)]();const _0x10cee5=sessions[_0x38d634(0xfd)](_0x18cc16=>_0x18cc16['id']===editingId);if(!_0x10cee5)return;const _0x580fc6=_0x10cee5[_0x38d634(0xf9)]===_0x38d634(0x1ed)?'planned':_0x38d634(0x1ed);_0x10cee5['status']=_0x580fc6,saveSingleSession(_0x10cee5),_0x580fc6===_0x38d634(0x1ed)&&NotificationManager[_0x38d634(0x1ad)](_0x38d634(0xfc),_0x10cee5),showToast(_0x580fc6===_0x38d634(0x1ed)?_0x38d634(0x132):_0x38d634(0x157),!![]);}function validateAppointment(_0x37e84f,_0x15388e,_0x31ebf0,_0x5ddf1e,_0x268314){const _0x5aa7c7=a2_0x4c36b7,[_0x55f415,_0x5c944d]=_0x15388e[_0x5aa7c7(0xec)](':')[_0x5aa7c7(0x16a)](Number),[_0x2ad4ce,_0x393576]=_0x31ebf0[_0x5aa7c7(0xec)](':')[_0x5aa7c7(0x16a)](Number),_0x1317ab=_0x55f415*0x3c+_0x5c944d,_0x111557=_0x2ad4ce*0x3c+_0x393576,_0xfe86d3=String(_0x268314);let _0x107c54=![],_0x44e6d6='';for(let _0x4c9d49 of sessions){if(_0x4c9d49[_0x5aa7c7(0xa8)]!==_0x37e84f)continue;if(_0x4c9d49[_0x5aa7c7(0xf9)]==='cancelled')continue;if(_0x5ddf1e&&String(_0x4c9d49['id'])===String(_0x5ddf1e))continue;const [_0x3e1617,_0x2e434d]=_0x4c9d49[_0x5aa7c7(0x1ec)]['split'](':')['map'](Number),[_0x3e0b30,_0xbe17fc]=_0x4c9d49[_0x5aa7c7(0x1b6)][_0x5aa7c7(0xec)](':')[_0x5aa7c7(0x16a)](Number),_0x4a8e44=_0x3e1617*0x3c+_0x2e434d,_0x24a8fd=_0x3e0b30*0x3c+_0xbe17fc;if(Math[_0x5aa7c7(0xba)](_0x1317ab,_0x4a8e44)<Math[_0x5aa7c7(0x123)](_0x111557,_0x24a8fd)){if(_0x4c9d49['clientId']&&String(_0x4c9d49[_0x5aa7c7(0xbb)])===_0xfe86d3)return{'valid':![],'msg':_0x5aa7c7(0x192)+_0x4c9d49['client']+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x107c54=!![],_0x44e6d6=_0x4c9d49['client'];}}if(_0x107c54)return{'valid':!![],'warning':_0x5aa7c7(0xde)+_0x44e6d6};return{'valid':!![]};}function saveSingleSession(_0x2170c5){const _0x18ee5a=a2_0x4c36b7;if(editingId){const _0x4df75c=sessions[_0x18ee5a(0xd3)](_0x481231=>_0x481231['id']===editingId);if(_0x4df75c!==-0x1)sessions[_0x4df75c]=_0x2170c5;}else sessions[_0x18ee5a(0x146)](_0x2170c5);afterSaveAction([_0x2170c5[_0x18ee5a(0xa8)]]);}function createBatchSeries(_0x87daf1,_0x2d8f24,_0xcc46b5){const _0x2bbec3=a2_0x4c36b7,_0x31cc88=generateId(),_0x491945=[],_0x195822=[];let _0x56a050=0x0,_0x515585=new Date(_0x2d8f24);for(let _0x3c113d=0x0;_0x3c113d<_0xcc46b5;_0x3c113d++){const _0x4a1161=getLocalDateStr(_0x515585),_0x447759=validateAppointment(_0x4a1161,_0x87daf1['start'],_0x87daf1[_0x2bbec3(0x1b6)],null,_0x87daf1[_0x2bbec3(0xbb)]);if(!_0x447759[_0x2bbec3(0x124)])console[_0x2bbec3(0x18a)]('[Series]\x20Skipped\x20'+_0x4a1161+_0x2bbec3(0x131)),_0x56a050++;else{const _0x1885aa={..._0x87daf1,'id':generateId(),'dateStr':_0x4a1161,'seriesId':_0x31cc88};_0x195822['push'](_0x1885aa),_0x491945['push'](_0x4a1161);}_0x515585[_0x2bbec3(0xc8)](_0x515585['getDate']()+0x7);}if(_0x195822[_0x2bbec3(0x1db)]===0x0){showToast('–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!',![]);return;}sessions[_0x2bbec3(0x146)](..._0x195822),lastUserActionTime=Date[_0x2bbec3(0xa4)]();let _0x1b3492=_0x2bbec3(0x1c2)+_0x195822[_0x2bbec3(0x1db)];_0x56a050>0x0&&(_0x1b3492+='\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20'+_0x56a050+')'),showToast(_0x1b3492,!![]),afterSaveAction(_0x491945);}function updateSeriesBatch(_0x3e6231,_0x9d387b){const _0x5f32dc=a2_0x4c36b7,_0x577c4b=[],_0x3bc7dd=_0x9d387b[_0x5f32dc(0x15c)];if(_0x3e6231===_0x5f32dc(0xae)){const _0x4b676d={..._0x9d387b,'seriesId':null},_0x4f8fa0=sessions[_0x5f32dc(0xd3)](_0x11ce62=>_0x11ce62['id']===_0x9d387b['id']);if(_0x4f8fa0!==-0x1)sessions[_0x4f8fa0]=_0x4b676d;_0x577c4b[_0x5f32dc(0x146)](_0x4b676d[_0x5f32dc(0xa8)]);}else{if(_0x3e6231==='series'){const _0x36dbca=_0x9d387b[_0x5f32dc(0xa8)];sessions[_0x5f32dc(0x104)]((_0x5797b4,_0x4f8636)=>{const _0x2e050c=_0x5f32dc;_0x5797b4[_0x2e050c(0x15c)]===_0x3bc7dd&&_0x5797b4[_0x2e050c(0xa8)]>=_0x36dbca&&(sessions[_0x4f8636]={...sessions[_0x4f8636],'start':_0x9d387b[_0x2e050c(0x1ec)],'end':_0x9d387b[_0x2e050c(0x1b6)],'note':_0x9d387b[_0x2e050c(0xf2)],'client':_0x9d387b[_0x2e050c(0xca)],'clientId':_0x9d387b[_0x2e050c(0xbb)]},_0x577c4b[_0x2e050c(0x146)](_0x5797b4[_0x2e050c(0xa8)]));});}}afterSaveAction(_0x577c4b);}function tryDeleteSession(){const _0x519a9c=a2_0x4c36b7,_0x476d59=sessions[_0x519a9c(0xfd)](_0x3409f7=>_0x3409f7['id']===editingId);if(!_0x476d59)return;_0x476d59[_0x519a9c(0x15c)]?openActionSheet(_0x519a9c(0x8c)):commitDelete('single',_0x476d59);}function commitDelete(_0x23bd4a,_0x3bc73a){const _0x2cd3df=a2_0x4c36b7;lastUserActionTime=Date[_0x2cd3df(0xa4)](),NotificationManager[_0x2cd3df(0x1ad)]('cancel',_0x3bc73a);const _0xe5f7d7=[];if(_0x23bd4a===_0x2cd3df(0xae))sessions=sessions[_0x2cd3df(0xaf)](_0x5701f2=>_0x5701f2['id']!==_0x3bc73a['id']),_0xe5f7d7[_0x2cd3df(0x146)](_0x3bc73a[_0x2cd3df(0xa8)]);else{if(_0x23bd4a===_0x2cd3df(0xeb)){const _0x1d9f3b=_0x3bc73a[_0x2cd3df(0xa8)],_0x837ff6=_0x3bc73a[_0x2cd3df(0x15c)];sessions[_0x2cd3df(0x104)](_0x57c3c1=>{const _0x1ec9f5=_0x2cd3df;_0x57c3c1[_0x1ec9f5(0x15c)]===_0x837ff6&&_0x57c3c1[_0x1ec9f5(0xa8)]>=_0x1d9f3b&&_0xe5f7d7[_0x1ec9f5(0x146)](_0x57c3c1[_0x1ec9f5(0xa8)]);}),sessions=sessions['filter'](_0x2952c6=>!(_0x2952c6['seriesId']===_0x837ff6&&_0x2952c6[_0x2cd3df(0xa8)]>=_0x1d9f3b));}}afterSaveAction(_0xe5f7d7);}function afterSaveAction(_0x39a3b6){const _0x42d003=a2_0x4c36b7;DataManager[_0x42d003(0x19e)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager['syncBatch'](_0x39a3b6)[_0x42d003(0xfe)](()=>console[_0x42d003(0x18a)]('Batch\x20Sync\x20OK'))[_0x42d003(0xd0)](_0x2cb21a=>showToast(_0x42d003(0xb3),![]));}const NotificationManager={'formatDate'(_0xea6276){const _0x429ea7=a2_0x4c36b7,_0x4d10d6=new Date(_0xea6276),_0x144609={'weekday':_0x429ea7(0xb2),'day':'numeric','month':'long'};let _0x1afd75=_0x4d10d6[_0x429ea7(0x1ea)](_0x429ea7(0x1cf),_0x144609);return _0x1afd75['charAt'](0x0)['toUpperCase']()+_0x1afd75[_0x429ea7(0x185)](0x1);},'getText'(_0x202537,_0x1b3265){const _0x5d34a3=a2_0x4c36b7,_0x1109e3=this[_0x5d34a3(0x7d)](_0x1b3265['dateStr']);switch(_0x202537){case _0x5d34a3(0x1d9):return _0x5d34a3(0xe8)+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0x1109e3+'\x0a')+(_0x5d34a3(0x121)+_0x1b3265[_0x5d34a3(0x1ec)]+_0x5d34a3(0x190)+_0x1b3265[_0x5d34a3(0x1b6)]+'\x0a\x0a')+'–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™';case'update':return _0x5d34a3(0x70)+_0x5d34a3(0x16f)+('<b>‚úÖ\x20'+_0x1b3265[_0x5d34a3(0x1ec)]+_0x5d34a3(0x190)+_0x1b3265['end']+_0x5d34a3(0x13a))+(_0x5d34a3(0x7f)+_0x1109e3);case'cancel':return _0x5d34a3(0x14e)+(_0x5d34a3(0x10e)+_0x1109e3+'\x20('+_0x1b3265[_0x5d34a3(0x1ec)]+')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.');case _0x5d34a3(0xfc):return'<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a'+'–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a'+_0x5d34a3(0x99);default:return'';}},async 'send'(_0x441853,_0x8bcd1f){const _0x39510a=a2_0x4c36b7;console['log'](_0x39510a(0x160),_0x441853,_0x8bcd1f);if(!_0x8bcd1f){console['error'](_0x39510a(0xc5));return;}const _0x5bf375=String(_0x8bcd1f[_0x39510a(0xbb)]);console[_0x39510a(0x18a)]('[Notify]\x20Detected\x20Client\x20ID:',_0x5bf375);if(!_0x8bcd1f[_0x39510a(0xbb)]||_0x5bf375===_0x39510a(0xc0)||_0x5bf375==='null'){console[_0x39510a(0xf6)]('[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!');if(_0x8bcd1f[_0x39510a(0xca)]){const _0x302f6b=clients[_0x39510a(0xfd)](_0x2b13a7=>_0x2b13a7[_0x39510a(0xcc)]===_0x8bcd1f['client']);if(_0x302f6b)return console[_0x39510a(0x18a)](_0x39510a(0x87),_0x302f6b['id']),this[_0x39510a(0x1ad)](_0x441853,{..._0x8bcd1f,'clientId':_0x302f6b['id']});}return;}if(_0x5bf375[_0x39510a(0x1db)]<0x5){console[_0x39510a(0xe1)](_0x39510a(0xc3),_0x5bf375);return;}const _0x3fc2a6=this[_0x39510a(0xe4)](_0x441853,_0x8bcd1f);if(!_0x3fc2a6){console[_0x39510a(0xf6)]('[Notify]\x20Error:\x20Text\x20generation\x20failed');return;}console[_0x39510a(0x18a)]('[Notify]\x20Sending\x20to\x20GAS\x20for\x20'+_0x5bf375+_0x39510a(0x179)),DataManager[_0x39510a(0x174)](_0x39510a(0x82),{'chatId':_0x5bf375,'text':_0x3fc2a6})[_0x39510a(0xfe)](_0x2258aa=>console[_0x39510a(0x18a)](_0x39510a(0x1df),_0x2258aa))['catch'](_0x16599f=>console[_0x39510a(0xf6)]('[Notify]\x20Network\x20Failed',_0x16599f));}};function getLocalDateStr(_0x593135){const _0x336f25=a2_0x4c36b7,_0x4d1c35=_0x593135[_0x336f25(0x14b)](),_0x1d808d=String(_0x593135['getMonth']()+0x1)['padStart'](0x2,'0'),_0x101813=String(_0x593135['getDate']())[_0x336f25(0x91)](0x2,'0');return _0x4d1c35+'-'+_0x1d808d+'-'+_0x101813;}function getDateStr(_0x3778bd){const _0x18765a=a2_0x4c36b7,_0x331d63=new Date();return _0x331d63[_0x18765a(0xc8)](_0x331d63[_0x18765a(0x1e1)]()+_0x3778bd),getLocalDateStr(_0x331d63);}function getStartOfWeek(_0x212da4){const _0x17ff34=a2_0x4c36b7,_0x279a5d=new Date(_0x212da4),_0xec2486=_0x279a5d[_0x17ff34(0x163)](),_0x1faee8=_0x279a5d[_0x17ff34(0x1e1)]()-_0xec2486+(_0xec2486===0x0?-0x6:0x1);return _0x279a5d[_0x17ff34(0xc8)](_0x1faee8),_0x279a5d['setHours'](0x0,0x0,0x0,0x0),_0x279a5d;}function hexToRgba(_0x3d5214,_0x5f54d4){const _0x4d6ae6=a2_0x4c36b7;if(!_0x3d5214)return'rgba(100,100,100,0.5)';let _0x4b6248=0x0,_0x5b2da3=0x0,_0x15d686=0x0;if(_0x3d5214[_0x4d6ae6(0x1db)]===0x4)_0x4b6248='0x'+_0x3d5214[0x1]+_0x3d5214[0x1],_0x5b2da3='0x'+_0x3d5214[0x2]+_0x3d5214[0x2],_0x15d686='0x'+_0x3d5214[0x3]+_0x3d5214[0x3];else _0x3d5214[_0x4d6ae6(0x1db)]===0x7&&(_0x4b6248='0x'+_0x3d5214[0x1]+_0x3d5214[0x2],_0x5b2da3='0x'+_0x3d5214[0x3]+_0x3d5214[0x4],_0x15d686='0x'+_0x3d5214[0x5]+_0x3d5214[0x6]);return'rgba('+ +_0x4b6248+',\x20'+ +_0x5b2da3+',\x20'+ +_0x15d686+',\x20'+_0x5f54d4+')';}function renderTimeColumn(){const _0x50dabe=a2_0x4c36b7,_0x2b3f05=document[_0x50dabe(0x1b0)](_0x50dabe(0x93)),_0x493749=document[_0x50dabe(0x1b0)](_0x50dabe(0x1e2));_0x2b3f05[_0x50dabe(0xc4)]='',_0x2b3f05[_0x50dabe(0xa5)](_0x493749);for(let _0x1e0b80=0x0;_0x1e0b80<0x18;_0x1e0b80++){const _0x23297e=document[_0x50dabe(0x164)](_0x50dabe(0xc1));_0x23297e['className']=_0x50dabe(0xb5);if(_0x1e0b80>0x0)_0x23297e[_0x50dabe(0xc4)]='<span>'+String(_0x1e0b80)[_0x50dabe(0x91)](0x2,'0')+_0x50dabe(0x1d8);_0x2b3f05['appendChild'](_0x23297e);}}function renderDayRange(_0x2e01a6,_0x38a118){const _0xae736f=a2_0x4c36b7,_0x542900=document[_0xae736f(0x1b0)]('daysHeaderTrack'),_0x1588b5=document[_0xae736f(0x1b0)](_0xae736f(0x1aa)),_0x4909c0=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x4939b5=new Date();_0x4939b5[_0xae736f(0x1d1)](0x0,0x0,0x0,0x0);const _0x46d90b=getLocalDateStr(new Date());for(let _0x1d6be8=_0x2e01a6;_0x1d6be8<=_0x38a118;_0x1d6be8++){const _0x529624=new Date(_0x4939b5);_0x529624['setDate'](_0x529624[_0xae736f(0x1e1)]()+_0x1d6be8);const _0x4d9e7c=getLocalDateStr(_0x529624);let _0x20c83b=_0x529624[_0xae736f(0x163)]()-0x1;if(_0x20c83b===-0x1)_0x20c83b=0x6;const _0x104eee=_0x4d9e7c===_0x46d90b,_0x1f362d=document['createElement'](_0xae736f(0xc1));_0x1f362d[_0xae736f(0x84)]=_0xae736f(0x1d0)+(_0x104eee?_0xae736f(0x72):''),_0x1f362d['id']=_0xae736f(0x191)+_0x4d9e7c,_0x1f362d[_0xae736f(0x152)]('data-date',_0x4d9e7c),_0x1f362d['innerHTML']=_0xae736f(0x140)+_0x4909c0[_0x20c83b]+_0xae736f(0x106)+_0x529624[_0xae736f(0x1e1)]()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0x4d9e7c+_0xae736f(0x16b),_0x1f362d[_0xae736f(0xd6)]=()=>openDayOptions(_0x4d9e7c,_0x4909c0[_0x20c83b]+'\x20'+_0x529624[_0xae736f(0x1e1)]()),_0x542900[_0xae736f(0xa5)](_0x1f362d);const _0x3e8155=document[_0xae736f(0x164)]('div');_0x3e8155[_0xae736f(0x84)]='day-column\x20'+(_0x104eee?_0xae736f(0x72):''),_0x3e8155[_0xae736f(0x152)](_0xae736f(0x180),_0x4d9e7c),_0x3e8155[_0xae736f(0x152)](_0xae736f(0x1a8),_0x20c83b),renderEventsForColumn(_0x3e8155,_0x4d9e7c,_0x20c83b),attachLongPressHandler(_0x3e8155,_0x529624),_0x1588b5['appendChild'](_0x3e8155),updateDayStats(_0x4d9e7c);}}function reRenderBlocks(){const _0x42a86e=a2_0x4c36b7;document[_0x42a86e(0x1d2)](_0x42a86e(0x1cb))['forEach'](_0x3e4150=>{const _0x4de97e=_0x42a86e;_0x3e4150[_0x4de97e(0x1d2)](_0x4de97e(0x79))[_0x4de97e(0x104)](_0x2443e4=>_0x2443e4[_0x4de97e(0x78)]());const _0x16b3ec=_0x3e4150['getAttribute'](_0x4de97e(0x180)),_0x488471=parseInt(_0x3e4150['getAttribute'](_0x4de97e(0x1a8))),_0xfbe311=Math[_0x4de97e(0x81)](_0x3e4150[_0x4de97e(0x15e)]);(availabilityPattern[_0x488471]||[])[_0x4de97e(0x104)](_0x90b477=>{const _0x2c9ff4=_0x4de97e,_0x3cd73e=document[_0x2c9ff4(0x164)](_0x2c9ff4(0xc1));_0x3cd73e['className']=_0x2c9ff4(0x1d4);const _0x586f3c=_0x90b477*GRID_H;_0x3cd73e[_0x2c9ff4(0xa3)][_0x2c9ff4(0x110)]=_0x586f3c+'px',_0x3cd73e[_0x2c9ff4(0xa3)]['backgroundPosition']='-'+_0xfbe311+_0x2c9ff4(0xc6)+_0x586f3c+'px',_0x3e4150[_0x2c9ff4(0xa5)](_0x3cd73e);});if(specialRanges&&specialRanges[_0x4de97e(0x1db)]>0x0){const _0x2c8d52=new Date(_0x16b3ec+_0x4de97e(0x105))[_0x4de97e(0x98)](),_0x3fbaf3=new Date(_0x16b3ec+_0x4de97e(0x1e6))[_0x4de97e(0x98)]();specialRanges[_0x4de97e(0x104)](_0x3ebf8a=>{const _0x414608=_0x4de97e,_0x4d7104=new Date(_0x3ebf8a[_0x414608(0x1ec)])[_0x414608(0x98)](),_0x52ad8a=new Date(_0x3ebf8a['end'])['getTime'](),_0x9a7fd0=Math['max'](_0x2c8d52,_0x4d7104),_0x2858e8=Math[_0x414608(0x123)](_0x3fbaf3,_0x52ad8a);if(_0x9a7fd0<_0x2858e8){if(_0x9a7fd0<=_0x2c8d52&&_0x2858e8>=_0x3fbaf3-0xea60){if(!_0x3e4150['querySelector'](_0x414608(0x139))){const _0x48f196=document[_0x414608(0x164)]('div');_0x48f196[_0x414608(0x84)]=_0x414608(0xdc),_0x48f196[_0x414608(0xa3)][_0x414608(0x149)]='-'+_0xfbe311+_0x414608(0x17f),_0x3e4150[_0x414608(0xa5)](_0x48f196);}}else{const _0x3c42b0=(_0x9a7fd0-_0x2c8d52)/0x36ee80*GRID_H,_0x2d80be=(_0x2858e8-_0x9a7fd0)/0x36ee80*GRID_H,_0x362b91=document[_0x414608(0x164)](_0x414608(0xc1));_0x362b91[_0x414608(0x84)]='blocked-range-part\x20stripe-bg',_0x362b91['style'][_0x414608(0x110)]=_0x3c42b0+'px',_0x362b91[_0x414608(0xa3)]['height']=_0x2d80be+'px',_0x362b91['style'][_0x414608(0x149)]='-'+_0xfbe311+_0x414608(0xc6)+_0x3c42b0+'px',_0x3e4150[_0x414608(0xa5)](_0x362b91);}}});}if(dateExceptions[_0x16b3ec]==='off'){if(!_0x3e4150[_0x4de97e(0x141)](_0x4de97e(0x139))){const _0x1074fc=document[_0x4de97e(0x164)](_0x4de97e(0xc1));_0x1074fc['className']=_0x4de97e(0xdc),_0x1074fc['style']['backgroundPosition']='-'+_0xfbe311+_0x4de97e(0x17f),_0x3e4150[_0x4de97e(0xa5)](_0x1074fc);}}renderEventsForColumn(_0x3e4150,_0x16b3ec,_0x488471),updateDayStats(_0x16b3ec);});}function updateAllDayStats(){const _0x184fdf=a2_0x4c36b7;document[_0x184fdf(0x1d2)]('.day-col-header')[_0x184fdf(0x104)](_0x1b7581=>{const _0x5a356b=_0x184fdf;updateDayStats(_0x1b7581['getAttribute'](_0x5a356b(0x180)));});}function updateDayStats(_0x3a256c){const _0x3bf73b=a2_0x4c36b7,_0x45b7d5=document[_0x3bf73b(0x1b0)](_0x3bf73b(0x1e5)+_0x3a256c);if(!_0x45b7d5)return;const _0x59f838=new Date(_0x3a256c);let _0x5c1830=_0x59f838['getDay']()-0x1;if(_0x5c1830===-0x1)_0x5c1830=0x6;if(dateExceptions[_0x3a256c]===_0x3bf73b(0xb4)){_0x45b7d5[_0x3bf73b(0xa3)]['display']='none';return;}const _0x3704f8=availabilityPattern[_0x5c1830]||[],_0x3f59ee=0x18-_0x3704f8[_0x3bf73b(0x1db)],_0x202462=_0x3f59ee*0x3c,_0x5a716c=sessions[_0x3bf73b(0xaf)](_0xe02b29=>_0xe02b29[_0x3bf73b(0xa8)]===_0x3a256c&&_0xe02b29[_0x3bf73b(0xf9)]!=='cancelled');if(_0x5a716c[_0x3bf73b(0x1db)]===0x0){_0x45b7d5[_0x3bf73b(0xa3)]['display']=_0x3bf73b(0x1a6);return;}let _0x577f2c=_0x5a716c[_0x3bf73b(0x16a)](_0x3b372d=>{const _0x29e748=_0x3bf73b,[_0xd27a6e,_0x7b2e8c]=_0x3b372d[_0x29e748(0x1ec)]['split'](':')[_0x29e748(0x16a)](Number),[_0x3dee1c,_0x2339b8]=_0x3b372d[_0x29e748(0x1b6)][_0x29e748(0xec)](':')[_0x29e748(0x16a)](Number);return[_0xd27a6e*0x3c+_0x7b2e8c,_0x3dee1c*0x3c+_0x2339b8];});_0x577f2c['sort']((_0x37236,_0x25d2e3)=>_0x37236[0x0]-_0x25d2e3[0x0]);let _0x5564f2=[];if(_0x577f2c[_0x3bf73b(0x1db)]>0x0){let _0x4b494d=_0x577f2c[0x0];for(let _0x249789=0x1;_0x249789<_0x577f2c['length'];_0x249789++){_0x577f2c[_0x249789][0x0]<_0x4b494d[0x1]?_0x4b494d[0x1]=Math[_0x3bf73b(0xba)](_0x4b494d[0x1],_0x577f2c[_0x249789][0x1]):(_0x5564f2[_0x3bf73b(0x146)](_0x4b494d),_0x4b494d=_0x577f2c[_0x249789]);}_0x5564f2[_0x3bf73b(0x146)](_0x4b494d);}let _0x772c7c=0x0;_0x5564f2['forEach'](_0x2f2e26=>_0x772c7c+=_0x2f2e26[0x1]-_0x2f2e26[0x0]),_0x45b7d5[_0x3bf73b(0xa3)][_0x3bf73b(0x1ba)]=_0x3bf73b(0xfb);const _0x2bce90=_0x45b7d5[_0x3bf73b(0x141)](_0x3bf73b(0x9f));if(_0x202462===0x0){_0x2bce90['style']['width']='100%',_0x2bce90[_0x3bf73b(0xa3)][_0x3bf73b(0x16c)]=_0x3bf73b(0x12d);return;}const _0x4506d8=_0x772c7c/_0x202462*0x64;console['log']('['+_0x3a256c+_0x3bf73b(0x1bd)+_0x3f59ee+_0x3bf73b(0x171)+_0x772c7c+_0x3bf73b(0x1eb)+_0x4506d8[_0x3bf73b(0x138)](0x1)+'%'),_0x4506d8>0x64?(_0x2bce90[_0x3bf73b(0xa3)][_0x3bf73b(0x12b)]=_0x3bf73b(0x17d),_0x2bce90[_0x3bf73b(0xa3)][_0x3bf73b(0x16c)]=_0x3bf73b(0x12d)):(_0x2bce90[_0x3bf73b(0xa3)][_0x3bf73b(0x12b)]=_0x4506d8+'%',_0x2bce90[_0x3bf73b(0xa3)]['background']=_0x3bf73b(0xe9));}function renderEventsForColumn(_0x5ba1be,_0x34f159,_0x1847f9){const _0x4f7c56=a2_0x4c36b7,_0x5dd128=sessions[_0x4f7c56(0xaf)](_0x1441f4=>_0x1441f4['dateStr']===_0x34f159),_0x5ceee5=_0x5dd128[_0x4f7c56(0x16a)](_0x5be099=>{const _0x1efe95=_0x4f7c56,[_0x131e3e,_0x3814a4]=_0x5be099[_0x1efe95(0x1ec)][_0x1efe95(0xec)](':')[_0x1efe95(0x16a)](Number),[_0xfd17ff,_0x2c359e]=_0x5be099[_0x1efe95(0x1b6)][_0x1efe95(0xec)](':')[_0x1efe95(0x16a)](Number);return{'data':_0x5be099,'start':_0x131e3e*0x3c+_0x3814a4,'end':_0xfd17ff*0x3c+_0x2c359e,'colIndex':0x0};});_0x5ceee5[_0x4f7c56(0xd8)]((_0x53855b,_0x3e0bdf)=>{const _0x5f45e4=_0x4f7c56;if(_0x53855b[_0x5f45e4(0x1ec)]!==_0x3e0bdf[_0x5f45e4(0x1ec)])return _0x53855b[_0x5f45e4(0x1ec)]-_0x3e0bdf[_0x5f45e4(0x1ec)];return _0x3e0bdf[_0x5f45e4(0x1b6)]-_0x3e0bdf[_0x5f45e4(0x1ec)]-(_0x53855b[_0x5f45e4(0x1b6)]-_0x53855b[_0x5f45e4(0x1ec)]);});const _0x2aa899=[];_0x5ceee5[_0x4f7c56(0x104)](_0x2339c7=>{const _0xf9c952=_0x4f7c56;let _0x59fc46=![];for(let _0x2b772b=0x0;_0x2b772b<_0x2aa899[_0xf9c952(0x1db)];_0x2b772b++){const _0xfd253e=_0x2aa899[_0x2b772b],_0x1ef685=_0xfd253e[_0xfd253e['length']-0x1];if(_0x2339c7['start']>=_0x1ef685[_0xf9c952(0x1b6)]){_0xfd253e[_0xf9c952(0x146)](_0x2339c7),_0x2339c7[_0xf9c952(0x137)]=_0x2b772b,_0x59fc46=!![];break;}}!_0x59fc46&&(_0x2aa899[_0xf9c952(0x146)]([_0x2339c7]),_0x2339c7['colIndex']=_0x2aa899[_0xf9c952(0x1db)]-0x1);}),_0x5ceee5[_0x4f7c56(0x104)](_0x57a12d=>{const _0x2ca0f6=_0x4f7c56;let _0x57f803=0x0;_0x5ceee5[_0x2ca0f6(0x104)](_0x4729ba=>{const _0x1f3766=_0x2ca0f6;if(Math['max'](_0x57a12d[_0x1f3766(0x1ec)],_0x4729ba['start'])<Math['min'](_0x57a12d['end'],_0x4729ba[_0x1f3766(0x1b6)])){if(_0x4729ba['colIndex']>_0x57f803)_0x57f803=_0x4729ba[_0x1f3766(0x137)];}});const _0x1d493c=_0x57f803+0x1,_0x2250d7=0x64/_0x1d493c,_0x18edbb=_0x57a12d['colIndex']*_0x2250d7,_0x2df425=createEventEl(_0x57a12d[_0x2ca0f6(0x125)]);_0x2df425[_0x2ca0f6(0xa3)][_0x2ca0f6(0x12b)]='calc('+_0x2250d7+_0x2ca0f6(0x92),_0x2df425[_0x2ca0f6(0xa3)][_0x2ca0f6(0x1de)]=_0x2ca0f6(0x134)+_0x18edbb+_0x2ca0f6(0xf5),_0x2df425[_0x2ca0f6(0xa3)][_0x2ca0f6(0x181)]=0xa+_0x57a12d[_0x2ca0f6(0x137)],_0x2250d7<0x55&&_0x2df425[_0x2ca0f6(0x11e)][_0x2ca0f6(0x144)](_0x2ca0f6(0xed)),_0x5ba1be['appendChild'](_0x2df425);});}function createEventEl(_0x36a69d){const _0x4a7f03=a2_0x4c36b7,[_0x2889e6,_0x3b16ac]=_0x36a69d[_0x4a7f03(0x1ec)][_0x4a7f03(0xec)](':')[_0x4a7f03(0x16a)](Number),[_0x56d014,_0x479696]=_0x36a69d[_0x4a7f03(0x1b6)][_0x4a7f03(0xec)](':')[_0x4a7f03(0x16a)](Number),_0x119118=(_0x2889e6*0x3c+_0x3b16ac)/0x3c*GRID_H,_0x75b9c4=(_0x56d014*0x3c+_0x479696-(_0x2889e6*0x3c+_0x3b16ac))/0x3c*GRID_H,_0x6172f4=document['createElement'](_0x4a7f03(0xc1)),_0x5f2b63=_0x36a69d[_0x4a7f03(0xf9)]===_0x4a7f03(0x1ed)?_0x4a7f03(0x188):'';_0x6172f4[_0x4a7f03(0x84)]=_0x4a7f03(0x1a2)+_0x5f2b63,_0x6172f4[_0x4a7f03(0xa3)][_0x4a7f03(0x110)]=_0x119118+'px',_0x6172f4[_0x4a7f03(0xa3)][_0x4a7f03(0x1b4)]=Math[_0x4a7f03(0xba)](_0x75b9c4,0x14)+'px';const _0x394c68=clients[_0x4a7f03(0xfd)](_0x300e36=>_0x36a69d[_0x4a7f03(0xbb)]&&String(_0x300e36['id'])===String(_0x36a69d[_0x4a7f03(0xbb)])||_0x300e36[_0x4a7f03(0xcc)]===_0x36a69d['client']),_0x5ad4e5=_0x394c68?_0x394c68[_0x4a7f03(0x193)]:_0x4a7f03(0x1c8);_0x6172f4[_0x4a7f03(0xa3)][_0x4a7f03(0x17c)]=_0x5ad4e5,_0x6172f4[_0x4a7f03(0xa3)][_0x4a7f03(0x1dc)]=hexToRgba(_0x5ad4e5,0.85);let _0x31bfd5=_0x4a7f03(0x153)+_0x36a69d[_0x4a7f03(0xca)]+_0x4a7f03(0x12c)+_0x36a69d['start']+'\x20-\x20'+_0x36a69d[_0x4a7f03(0x1b6)]+_0x4a7f03(0x10b);return _0x36a69d['seriesId']&&(_0x31bfd5+='<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>'),_0x36a69d[_0x4a7f03(0xf9)]===_0x4a7f03(0x1ed)&&(_0x31bfd5+=_0x4a7f03(0x9b)),_0x6172f4['innerHTML']=_0x31bfd5,_0x6172f4['onclick']=_0x284d94=>{_0x284d94['stopPropagation'](),openEdit(_0x36a69d);},_0x6172f4;}function attachLongPressHandler(_0x2a4974,_0x17d095){const _0x1db6f7=a2_0x4c36b7;let _0x55aae4=0x0,_0x320859=null;const _0x4c19e6=_0x49e492=>{const _0x3213ed=a2_0x3ecb;if(_0x49e492[_0x3213ed(0x14c)][_0x3213ed(0x169)](_0x3213ed(0x1e8)))return;isScrolling=![],_0x55aae4=_0x49e492[_0x3213ed(0x136)]?_0x49e492[_0x3213ed(0x136)][0x0][_0x3213ed(0x1b3)]:_0x49e492['clientY'],_0x320859=setTimeout(()=>{const _0xaafcb9=_0x3213ed;if(!isScrolling){navigator[_0xaafcb9(0x95)]?.(0x32);const _0x49a323=_0x2a4974[_0xaafcb9(0x94)](),_0x506cfe=Math[_0xaafcb9(0x184)]((_0x55aae4-_0x49a323[_0xaafcb9(0x110)])/GRID_H);_0x17d095[_0xaafcb9(0x1d1)](_0x506cfe,0x0),openAddSession(_0x17d095);}},0x1f4);},_0x12bdd8=()=>{isScrolling=!![],clearTimeout(_0x320859);},_0x53977e=()=>{clearTimeout(_0x320859);};_0x2a4974[_0x1db6f7(0x19f)](_0x1db6f7(0xcd),_0x4c19e6,{'passive':!![]}),_0x2a4974['addEventListener']('touchmove',_0x12bdd8,{'passive':!![]}),_0x2a4974['addEventListener'](_0x1db6f7(0x118),_0x53977e),_0x2a4974[_0x1db6f7(0x19f)](_0x1db6f7(0x1a9),_0x4c19e6),_0x2a4974['addEventListener'](_0x1db6f7(0x14a),_0x12bdd8),_0x2a4974[_0x1db6f7(0x19f)](_0x1db6f7(0x103),_0x53977e);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x5db6b1=a2_0x4c36b7,_0x41d61c=document[_0x5db6b1(0x1b0)](_0x5db6b1(0x1be)),_0x43a27f=_0x41d61c[_0x5db6b1(0x1bc)],_0x3f2f40=_0x41d61c[_0x5db6b1(0x1b5)],_0x512c7b=_0x41d61c[_0x5db6b1(0x11a)];if(_0x3f2f40-(_0x43a27f+_0x512c7b)<0x12c){const _0x2b8c7f=endOffset;endOffset+=0xe,renderDayRange(_0x2b8c7f+0x1,endOffset),reRenderBlocks();}if(_0x43a27f<0x12c){const _0x1d9e2e=startOffset;startOffset-=0xe,prependDays(startOffset,_0x1d9e2e-0x1),_0x41d61c[_0x5db6b1(0x1bc)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x44218d,_0x3ee22c){const _0x75704f=a2_0x4c36b7,_0x3cab24=document[_0x75704f(0x1b0)](_0x75704f(0xfa)),_0x394d7d=document[_0x75704f(0x1b0)]('gridColumns'),_0x1a0c06=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x34da5e=new Date();_0x34da5e['setHours'](0x0,0x0,0x0,0x0);const _0x20bd9a=getLocalDateStr(new Date()),_0x5e07a0=document[_0x75704f(0xf3)](),_0x40adf7=document[_0x75704f(0xf3)]();for(let _0x25633c=_0x44218d;_0x25633c<=_0x3ee22c;_0x25633c++){const _0x3ad92c=new Date(_0x34da5e);_0x3ad92c[_0x75704f(0xc8)](_0x3ad92c[_0x75704f(0x1e1)]()+_0x25633c);const _0xe9e75e=getLocalDateStr(_0x3ad92c);let _0x5b9128=_0x3ad92c['getDay']()-0x1;if(_0x5b9128===-0x1)_0x5b9128=0x6;const _0x329267=_0xe9e75e===_0x20bd9a,_0xa16214=document[_0x75704f(0x164)](_0x75704f(0xc1));_0xa16214[_0x75704f(0x84)]=_0x75704f(0x1d0)+(_0x329267?_0x75704f(0x72):''),_0xa16214['id']=_0x75704f(0x191)+_0xe9e75e,_0xa16214[_0x75704f(0x152)](_0x75704f(0x180),_0xe9e75e),_0xa16214[_0x75704f(0xc4)]=_0x75704f(0x140)+_0x1a0c06[_0x5b9128]+'</div><div\x20class=\x22dch-num\x22>'+_0x3ad92c[_0x75704f(0x1e1)]()+_0x75704f(0x10a)+_0xe9e75e+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0xa16214[_0x75704f(0xd6)]=()=>openDayOptions(_0xe9e75e,_0x1a0c06[_0x5b9128]+'\x20'+_0x3ad92c[_0x75704f(0x1e1)]()),_0x5e07a0[_0x75704f(0xa5)](_0xa16214);const _0x4e6b6c=document[_0x75704f(0x164)]('div');_0x4e6b6c[_0x75704f(0x84)]=_0x75704f(0x186)+(_0x329267?_0x75704f(0x72):''),_0x4e6b6c[_0x75704f(0x152)](_0x75704f(0x180),_0xe9e75e),_0x4e6b6c[_0x75704f(0x152)](_0x75704f(0x1a8),_0x5b9128),renderEventsForColumn(_0x4e6b6c,_0xe9e75e,_0x5b9128),attachLongPressHandler(_0x4e6b6c,_0x3ad92c),_0x40adf7[_0x75704f(0xa5)](_0x4e6b6c),updateDayStats(_0xe9e75e);}_0x3cab24['insertBefore'](_0x5e07a0,_0x3cab24['firstChild']),_0x394d7d[_0x75704f(0x13b)](_0x40adf7,_0x394d7d[_0x75704f(0x141)](_0x75704f(0xe2)));}function validateAppointment(_0x48fb02,_0x5d5339,_0x3cb891,_0x2a8ed2,_0x5efd34){const _0x584240=a2_0x4c36b7,[_0x255ab0,_0x49e189]=_0x5d5339['split'](':')['map'](Number),[_0x79e24,_0x389917]=_0x3cb891['split'](':')[_0x584240(0x16a)](Number),_0x59a099=_0x255ab0*0x3c+_0x49e189,_0x305c27=_0x79e24*0x3c+_0x389917,_0x540346=String(_0x5efd34);let _0x1f5590=![],_0x360d38='';for(let _0x3d306b of sessions){if(_0x3d306b[_0x584240(0xa8)]!==_0x48fb02)continue;if(_0x3d306b['status']===_0x584240(0x18f))continue;if(_0x2a8ed2&&String(_0x3d306b['id'])===String(_0x2a8ed2))continue;const [_0x6a2d55,_0x307794]=_0x3d306b[_0x584240(0x1ec)][_0x584240(0xec)](':')[_0x584240(0x16a)](Number),[_0x3fac00,_0x2b8f20]=_0x3d306b[_0x584240(0x1b6)][_0x584240(0xec)](':')[_0x584240(0x16a)](Number),_0x43fd53=_0x6a2d55*0x3c+_0x307794,_0x35dd3f=_0x3fac00*0x3c+_0x2b8f20;if(Math[_0x584240(0xba)](_0x59a099,_0x43fd53)<Math[_0x584240(0x123)](_0x305c27,_0x35dd3f)){if(_0x3d306b[_0x584240(0xbb)]&&String(_0x3d306b[_0x584240(0xbb)])===_0x540346)return{'valid':![],'msg':_0x584240(0x192)+_0x3d306b[_0x584240(0xca)]+_0x584240(0x117)};_0x1f5590=!![],_0x360d38=_0x3d306b[_0x584240(0xca)];}}if(_0x1f5590)return{'valid':!![],'warning':_0x584240(0xde)+_0x360d38};return{'valid':!![]};}function updateDateDisplay(){const _0x511c71=a2_0x4c36b7,_0x24a4c0=document['getElementById'](_0x511c71(0x1e0))['value'],_0x4e80e5=document[_0x511c71(0x1b0)](_0x511c71(0x11f));if(!_0x24a4c0){_0x4e80e5[_0x511c71(0xad)]='';return;}const [_0x251a46,_0x74985e,_0x36f675]=_0x24a4c0['split']('-')['map'](Number),_0x1f786a=new Date(_0x251a46,_0x74985e-0x1,_0x36f675),_0x5f2ca0={'weekday':'long','day':'numeric','month':_0x511c71(0xb2),'year':'numeric'};let _0x52fe22=_0x1f786a['toLocaleDateString'](_0x511c71(0x1cf),_0x5f2ca0);_0x52fe22=_0x52fe22['charAt'](0x0)[_0x511c71(0x7e)]()+_0x52fe22[_0x511c71(0x185)](0x1),_0x4e80e5[_0x511c71(0xad)]=_0x52fe22;}function autoSetEndTime(){const _0x29dd51=a2_0x4c36b7,_0x5bb6e4=document[_0x29dd51(0x1b0)](_0x29dd51(0x1a3))[_0x29dd51(0x96)];if(!_0x5bb6e4)return;const [_0xef9de4,_0x2132f4]=_0x5bb6e4[_0x29dd51(0xec)](':')[_0x29dd51(0x16a)](Number);let _0x41ffab=_0xef9de4+0x1;if(_0x41ffab>0x17)_0x41ffab=0x0;const _0x15be94=String(_0x41ffab)['padStart'](0x2,'0')+':'+String(_0x2132f4)['padStart'](0x2,'0');document['getElementById']('inpEnd')[_0x29dd51(0x96)]=_0x15be94;}function populateClientSelect(){const _0x582180=a2_0x4c36b7,_0x3abc76=document[_0x582180(0x1b0)](_0x582180(0x108));_0x3abc76['innerHTML']='';if(clients['length']===0x0){const _0x4377b4=document[_0x582180(0x164)](_0x582180(0x167));_0x4377b4[_0x582180(0x1e4)]='–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤',_0x3abc76[_0x582180(0xa5)](_0x4377b4);return;}clients[_0x582180(0x104)](_0xcf5f75=>{const _0x55e991=_0x582180,_0x33177a=document['createElement'](_0x55e991(0x167));_0x33177a[_0x55e991(0x96)]=_0xcf5f75[_0x55e991(0xcc)],_0x33177a[_0x55e991(0xad)]=_0xcf5f75[_0x55e991(0xcc)],_0x3abc76['appendChild'](_0x33177a);});}function openActionSheet(_0x312fa2){const _0x34be36=a2_0x4c36b7,_0x4b7643=document[_0x34be36(0x1b0)]('actionSheet'),_0x5bb5a0=document[_0x34be36(0x1b0)](_0x34be36(0x6f)),_0x2b4400=document[_0x34be36(0x1b0)](_0x34be36(0x198)),_0x2ac8ae=document[_0x34be36(0x1b0)](_0x34be36(0x17b)),_0x57d933=document[_0x34be36(0x1b0)](_0x34be36(0x7c));_0x5bb5a0['classList'][_0x34be36(0x144)](_0x34be36(0x1a0)),_0x4b7643[_0x34be36(0x11e)][_0x34be36(0x144)](_0x34be36(0x75));if(_0x312fa2===_0x34be36(0x19b))_0x2b4400['textContent']=_0x34be36(0x11d),_0x2ac8ae[_0x34be36(0xad)]=_0x34be36(0xef),_0x2ac8ae[_0x34be36(0xd6)]=()=>{const _0x349b96=_0x34be36;closeActionSheet(),updateSeriesBatch(_0x349b96(0xae),tempSessionData);},_0x57d933[_0x34be36(0xad)]=_0x34be36(0xd5),_0x57d933[_0x34be36(0xd6)]=()=>{const _0x2fe0ff=_0x34be36;closeActionSheet(),updateSeriesBatch(_0x2fe0ff(0xeb),tempSessionData);};else _0x312fa2===_0x34be36(0x8c)&&(_0x2b4400[_0x34be36(0xad)]=_0x34be36(0x173),_0x2ac8ae[_0x34be36(0xad)]=_0x34be36(0xef),_0x2ac8ae[_0x34be36(0x84)]=_0x34be36(0x71),_0x2ac8ae[_0x34be36(0xd6)]=()=>{const _0x1fb747=_0x34be36;closeActionSheet(),commitDelete(_0x1fb747(0xae),sessions[_0x1fb747(0xfd)](_0x4fa514=>_0x4fa514['id']===editingId));},_0x57d933[_0x34be36(0xad)]='–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ',_0x57d933[_0x34be36(0x84)]=_0x34be36(0x1d7),_0x57d933[_0x34be36(0xd6)]=()=>{const _0xc28c4d=_0x34be36;closeActionSheet(),commitDelete(_0xc28c4d(0xeb),sessions[_0xc28c4d(0xfd)](_0x3a0126=>_0x3a0126['id']===editingId));});}function closeActionSheet(){const _0x536ab7=a2_0x4c36b7;document[_0x536ab7(0x1b0)](_0x536ab7(0x19d))[_0x536ab7(0x11e)]['remove'](_0x536ab7(0x75)),document[_0x536ab7(0x1b0)](_0x536ab7(0x6f))[_0x536ab7(0x11e)][_0x536ab7(0x78)](_0x536ab7(0x1a0));}function openSettings(){openSheet('settingsSheet');}function saveCoachSettings(){const _0x39c128=a2_0x4c36b7,_0x281d6d=document['getElementById']('settingCancelWindow')[_0x39c128(0x96)];localStorage[_0x39c128(0x148)](_0x39c128(0x1b1),_0x281d6d),console[_0x39c128(0x18a)](_0x39c128(0x12a),_0x281d6d),DataManager[_0x39c128(0x174)](_0x39c128(0xc7),{'settings':{'cancel_window':_0x281d6d}})[_0x39c128(0xd0)](_0x3c6dbe=>{const _0x217aea=_0x39c128;console[_0x217aea(0xf6)](_0x217aea(0xa1),_0x3c6dbe),showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫',![]);});}function loadCoachSettings(){const _0x50928c=a2_0x4c36b7,_0x8194e2=localStorage[_0x50928c(0x8b)](_0x50928c(0x1b1));_0x8194e2&&(document[_0x50928c(0x1b0)](_0x50928c(0xa7))[_0x50928c(0x96)]=_0x8194e2);}function openRangesSheet(){const _0x19df6f=a2_0x4c36b7;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x19df6f(0xcb));}function addRange(){const _0x49360c=a2_0x4c36b7,_0x588b25=document[_0x49360c(0x1b0)](_0x49360c(0x9a))['value'],_0x3022e0=document[_0x49360c(0x1b0)](_0x49360c(0xd2))['value'],_0x39ca8c=document['getElementById'](_0x49360c(0x102))['value'],_0x20ef53=document[_0x49360c(0x1b0)](_0x49360c(0x111))[_0x49360c(0x96)];if(!_0x588b25||!_0x3022e0||!_0x39ca8c||!_0x20ef53)return alert(_0x49360c(0x15a));const _0xa05a9a=_0x588b25+'T'+_0x3022e0,_0xc234ac=_0x39ca8c+'T'+_0x20ef53;if(_0xa05a9a>=_0xc234ac)return alert('–û—à–∏–±–∫–∞\x20–¥–∞—Ç');specialRanges[_0x49360c(0x146)]({'start':_0xa05a9a,'end':_0xc234ac}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x49360c(0x174)](_0x49360c(0xc7),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x1938e1){const _0x4494f6=a2_0x4c36b7;specialRanges['splice'](_0x1938e1,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x4494f6(0x19e)](),DataManager[_0x4494f6(0x174)](_0x4494f6(0xc7),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x1b19ae=a2_0x4c36b7;document[_0x1b19ae(0x1b0)](_0x1b19ae(0x9a))[_0x1b19ae(0x96)]='',document['getElementById']('rangeStartTime')['value']=_0x1b19ae(0x1a4),document[_0x1b19ae(0x1b0)](_0x1b19ae(0x102))['value']='',document[_0x1b19ae(0x1b0)](_0x1b19ae(0x111))[_0x1b19ae(0x96)]=_0x1b19ae(0x89);}function renderRangesList(){const _0x5bddda=a2_0x4c36b7,_0x5999eb=document['getElementById'](_0x5bddda(0x9e));_0x5999eb[_0x5bddda(0xc4)]='';if(!specialRanges[_0x5bddda(0x1db)]){_0x5999eb[_0x5bddda(0xc4)]=_0x5bddda(0x128);return;}specialRanges['forEach']((_0x17bd97,_0xe9b727)=>{const _0xbe8c3=_0x5bddda,_0x1e1b6b=document['createElement'](_0xbe8c3(0xc1));_0x1e1b6b['className']='range-item';const _0x296c1e=_0x2dfb18=>{const _0x227b4e=_0xbe8c3,_0x5166b6=new Date(_0x2dfb18);return _0x5166b6['getDate']()+'.'+String(_0x5166b6[_0x227b4e(0x1c9)]()+0x1)['padStart'](0x2,'0')+'\x20'+String(_0x5166b6['getHours']())[_0x227b4e(0x91)](0x2,'0')+':'+String(_0x5166b6[_0x227b4e(0xf0)]())[_0x227b4e(0x91)](0x2,'0');};_0x1e1b6b[_0xbe8c3(0xc4)]=_0xbe8c3(0xf7)+_0x296c1e(_0x17bd97[_0xbe8c3(0x1ec)])+'\x20‚Äî\x20'+_0x296c1e(_0x17bd97[_0xbe8c3(0x1b6)])+_0xbe8c3(0x9d)+_0xe9b727+')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>',_0x5999eb[_0xbe8c3(0xa5)](_0x1e1b6b);});}function scrollToToday(){const _0x36428a=a2_0x4c36b7,_0x5aca45=getLocalDateStr(new Date()),_0x16271d=document[_0x36428a(0x1b0)](_0x36428a(0x191)+_0x5aca45),_0x372aad=document['getElementById'](_0x36428a(0x1be));if(_0x16271d&&_0x372aad){const _0x3c2c73=_0x372aad[_0x36428a(0x11a)],_0x2f1f68=_0x16271d[_0x36428a(0x15e)],_0x3ed0f6=_0x16271d[_0x36428a(0xcf)];_0x372aad[_0x36428a(0x1bc)]=_0x2f1f68-_0x3c2c73/0x2+_0x3ed0f6/0x2,_0x372aad[_0x36428a(0x151)]=0x9*GRID_H;}}function onScroll(){const _0x4ff7bf=a2_0x4c36b7,_0x199409=document[_0x4ff7bf(0x1b0)](_0x4ff7bf(0x1be)),_0x20cb53=document[_0x4ff7bf(0x1d2)](_0x4ff7bf(0x127));for(let _0x6ff1ff of _0x20cb53)if(_0x6ff1ff[_0x4ff7bf(0x15e)]>=_0x199409['scrollLeft']){const _0x28394b=new Date(_0x6ff1ff['getAttribute'](_0x4ff7bf(0x180)));document[_0x4ff7bf(0x1b0)](_0x4ff7bf(0x161))[_0x4ff7bf(0xad)]=_0x28394b[_0x4ff7bf(0xff)]('ru',{'month':'long'})[_0x4ff7bf(0x7e)]()+'\x20'+_0x28394b[_0x4ff7bf(0x14b)]();break;}}function showToast(_0x460a8b,_0x5730a1=![]){const _0xe953ae=a2_0x4c36b7,_0x3496ae=document[_0xe953ae(0x1b0)](_0xe953ae(0x90));_0x3496ae[_0xe953ae(0x84)]=_0xe953ae(0x119)+(_0x5730a1?_0xe953ae(0x76):''),document[_0xe953ae(0x1b0)](_0xe953ae(0x1af))['textContent']=_0x5730a1?_0xe953ae(0x135):'–ò–Ω—Ñ–æ',document[_0xe953ae(0x1b0)](_0xe953ae(0x77))[_0xe953ae(0xad)]=_0x460a8b,_0x3496ae['classList']['add'](_0xe953ae(0x1da)),setTimeout(()=>{const _0x331162=_0xe953ae;_0x3496ae[_0x331162(0x11e)][_0x331162(0x78)]('show');},0xbb8);}function openDayOptions(_0x453d11,_0x542f77){const _0x2787e5=a2_0x4c36b7;selectedDayForOptions=_0x453d11,document['getElementById'](_0x2787e5(0xd4))[_0x2787e5(0xad)]=_0x542f77,openSheet(_0x2787e5(0xbe));}function toggleDayOff(){const _0xcc9527=a2_0x4c36b7;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0xcc9527(0xb4),reRenderBlocks(),closeAllSheets(),DataManager[_0xcc9527(0x19e)](),DataManager[_0xcc9527(0x174)](_0xcc9527(0xc7),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x1679a1=a2_0x4c36b7;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x1679a1(0x19e)](),DataManager[_0x1679a1(0x174)](_0x1679a1(0xc7),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x807cd7){const _0x1e4ebb=a2_0x4c36b7;document[_0x1e4ebb(0x1b0)]('overlay')[_0x1e4ebb(0x11e)][_0x1e4ebb(0x144)](_0x1e4ebb(0x1a0)),document[_0x1e4ebb(0x1b0)](_0x807cd7)['classList'][_0x1e4ebb(0x144)](_0x1e4ebb(0x75));}function closeAllSheets(){const _0x5c6096=a2_0x4c36b7;document[_0x5c6096(0x1b0)](_0x5c6096(0x100))[_0x5c6096(0x11e)][_0x5c6096(0x78)]('active'),document['querySelectorAll'](_0x5c6096(0xda))['forEach'](_0x35586b=>_0x35586b[_0x5c6096(0x11e)][_0x5c6096(0x78)](_0x5c6096(0x75)));}function openPatternEditor(){const _0xc4471e=a2_0x4c36b7;closeAllSheets(),document[_0xc4471e(0x1b0)](_0xc4471e(0xa6))[_0xc4471e(0x11e)][_0xc4471e(0x144)](_0xc4471e(0x75)),renderPatternEditor();}function a2_0x3ecb(_0x154944,_0x49b09a){_0x154944=_0x154944-0x6f;const _0x16dcec=a2_0x45d7();let _0x541c62=_0x16dcec[_0x154944];return _0x541c62;}function closePatternEditor(){const _0xe2ca9f=a2_0x4c36b7;document[_0xe2ca9f(0x1b0)]('patternEditor')[_0xe2ca9f(0x11e)][_0xe2ca9f(0x78)](_0xe2ca9f(0x75));}function savePattern(){const _0x2145f1=a2_0x4c36b7;document[_0x2145f1(0x1b0)](_0x2145f1(0xa6))[_0x2145f1(0x11e)]['remove'](_0x2145f1(0x75)),reRenderBlocks(),DataManager['saveLocally'](),DataManager['fetchFromServer'](_0x2145f1(0xc7),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x53bf3d=a2_0x4c36b7,_0x218f7f=document['getElementById'](_0x53bf3d(0xee));_0x218f7f['innerHTML']='';const _0x5c331e=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x404136=document[_0x53bf3d(0x164)](_0x53bf3d(0xc1));_0x404136['className']=_0x53bf3d(0x122),_0x218f7f['appendChild'](_0x404136),_0x5c331e[_0x53bf3d(0x104)]((_0x49c0d2,_0xda0d9f)=>{const _0x32f18d=_0x53bf3d,_0x5db2ba=document[_0x32f18d(0x164)]('div');_0x5db2ba[_0x32f18d(0x84)]=_0x32f18d(0x8e),_0x5db2ba[_0x32f18d(0xc4)]=_0x49c0d2+_0x32f18d(0x18b),_0x5db2ba[_0x32f18d(0xd6)]=()=>toggleColPattern(_0xda0d9f),_0x218f7f[_0x32f18d(0xa5)](_0x5db2ba);});for(let _0x1d56c0=0x0;_0x1d56c0<0x18;_0x1d56c0++){const _0x5b13e5=document[_0x53bf3d(0x164)](_0x53bf3d(0xc1));_0x5b13e5['className']='pe-time-label',_0x5b13e5[_0x53bf3d(0xc4)]=_0x53bf3d(0x17a)+String(_0x1d56c0)[_0x53bf3d(0x91)](0x2,'0')+_0x53bf3d(0x83),_0x5b13e5[_0x53bf3d(0xd6)]=()=>toggleRowPattern(_0x1d56c0),_0x218f7f[_0x53bf3d(0xa5)](_0x5b13e5);for(let _0x3cf45d=0x0;_0x3cf45d<0x7;_0x3cf45d++){const _0x5fa4a2=document[_0x53bf3d(0x164)]('div'),_0x51ace2=(availabilityPattern[_0x3cf45d]||[])[_0x53bf3d(0x1dd)](_0x1d56c0),_0x30f088=!_0x51ace2;_0x5fa4a2[_0x53bf3d(0x84)]=_0x53bf3d(0xd9)+(_0x30f088?_0x53bf3d(0x1a0):''),_0x5fa4a2[_0x53bf3d(0xd6)]=()=>toggleSinglePattern(_0x3cf45d,_0x1d56c0),_0x218f7f[_0x53bf3d(0xa5)](_0x5fa4a2);}}}function toggleSinglePattern(_0x4584f2,_0x50aaed){const _0x13e5c0=a2_0x4c36b7;if(!availabilityPattern[_0x4584f2])availabilityPattern[_0x4584f2]=[];const _0x354932=availabilityPattern[_0x4584f2],_0x2e5802=_0x354932[_0x13e5c0(0x1c1)](_0x50aaed);_0x2e5802===-0x1?_0x354932['push'](_0x50aaed):_0x354932['splice'](_0x2e5802,0x1),renderPatternEditor();}function toggleColPattern(_0x135d33){const _0x117250=a2_0x4c36b7;if(!availabilityPattern[_0x135d33])availabilityPattern[_0x135d33]=[];const _0x3971c0=availabilityPattern[_0x135d33];_0x3971c0[_0x117250(0x1db)]===0x0?availabilityPattern[_0x135d33]=Array[_0x117250(0x15f)]({'length':0x18},(_0x3d6e13,_0x2c9a0b)=>_0x2c9a0b):availabilityPattern[_0x135d33]=[],renderPatternEditor();}function toggleRowPattern(_0x27a0df){const _0x22f856=a2_0x4c36b7;let _0x22286c=!![];for(let _0x1c8b2a=0x0;_0x1c8b2a<0x7;_0x1c8b2a++){if((availabilityPattern[_0x1c8b2a]||[])[_0x22f856(0x1dd)](_0x27a0df)){_0x22286c=![];break;}}for(let _0x49c4a3=0x0;_0x49c4a3<0x7;_0x49c4a3++){if(!availabilityPattern[_0x49c4a3])availabilityPattern[_0x49c4a3]=[];const _0xe3b4a6=availabilityPattern[_0x49c4a3][_0x22f856(0x1c1)](_0x27a0df);if(_0x22286c){if(_0xe3b4a6===-0x1)availabilityPattern[_0x49c4a3][_0x22f856(0x146)](_0x27a0df);}else{if(_0xe3b4a6!==-0x1)availabilityPattern[_0x49c4a3][_0x22f856(0x13c)](_0xe3b4a6,0x1);}}renderPatternEditor();}function renderPCol(_0x208a51,_0x390d1b){const _0x5e9691=a2_0x4c36b7;_0x208a51['innerHTML']='';const _0x5dd2c4=Math[_0x5e9691(0x81)](_0x208a51[_0x5e9691(0x15e)]);(availabilityPattern[_0x390d1b]||[])[_0x5e9691(0x104)](_0xc9742d=>{const _0xc84662=_0x5e9691,_0x1e73f6=document[_0xc84662(0x164)](_0xc84662(0xc1));_0x1e73f6[_0xc84662(0x84)]=_0xc84662(0x1d4);const _0x51a5c5=_0xc9742d*GRID_H;_0x1e73f6[_0xc84662(0xa3)]['top']=_0x51a5c5+'px',_0x1e73f6[_0xc84662(0xa3)]['backgroundPosition']='-'+_0x5dd2c4+'px\x20-'+_0x51a5c5+'px',_0x1e73f6[_0xc84662(0xd6)]=_0x23323c=>{_0x23323c['stopPropagation'](),toggleSinglePattern(_0x390d1b,_0xc9742d);},_0x208a51[_0xc84662(0xa5)](_0x1e73f6);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x286e51=a2_0x4c36b7,_0x2ab573=new Date(),_0x1fb341=document[_0x286e51(0x1b0)]('globalTimeLine'),_0x5e9d9b=document['getElementById']('timeLineBadge'),_0x526833=(_0x2ab573['getHours']()*0x3c+_0x2ab573[_0x286e51(0xf0)]())/0x3c*GRID_H;_0x1fb341[_0x286e51(0xa3)][_0x286e51(0x110)]=_0x526833+'px',_0x1fb341['style'][_0x286e51(0x1ba)]=_0x286e51(0x13e),_0x5e9d9b[_0x286e51(0xad)]=String(_0x2ab573[_0x286e51(0x133)]())['padStart'](0x2,'0')+':'+String(_0x2ab573[_0x286e51(0xf0)]())[_0x286e51(0x91)](0x2,'0'),_0x5e9d9b[_0x286e51(0xa3)]['display']=_0x286e51(0x13e),_0x5e9d9b['style']['top']=_0x526833+'px';}document[a2_0x4c36b7(0x19f)](a2_0x4c36b7(0x143),init);function openDayOptions(_0x3d2ac1){const _0x11411c=a2_0x4c36b7;selectedDayForOptions=_0x3d2ac1;const _0x266523=new Date(_0x3d2ac1),_0x14b4b4={'weekday':_0x11411c(0xb2),'day':_0x11411c(0x14d),'month':_0x11411c(0xb2),'year':_0x11411c(0x14d)},_0x19eb81=_0x266523['toLocaleDateString']('ru-RU',_0x14b4b4);document[_0x11411c(0x1b0)](_0x11411c(0x182))[_0x11411c(0xad)]=_0x19eb81['charAt'](0x0)['toUpperCase']()+_0x19eb81[_0x11411c(0x185)](0x1);let _0x18d52a=_0x266523['getDay']()-0x1;if(_0x18d52a===-0x1)_0x18d52a=0x6;const _0x52d744=availabilityPattern[_0x18d52a]||[],_0x45aab1=0x18-_0x52d744['length'],_0x110517=_0x45aab1*0x3c,_0x31947e=sessions[_0x11411c(0xaf)](_0x495885=>_0x495885[_0x11411c(0xa8)]===_0x3d2ac1&&_0x495885[_0x11411c(0xf9)]!==_0x11411c(0x18f));let _0x5dbd88=_0x31947e[_0x11411c(0x16a)](_0x57a7a3=>{const _0xebc6ff=_0x11411c,[_0x5118b7,_0x2dbeeb]=_0x57a7a3[_0xebc6ff(0x1ec)]['split'](':')[_0xebc6ff(0x16a)](Number),[_0x4ba692,_0x34a53d]=_0x57a7a3[_0xebc6ff(0x1b6)]['split'](':')[_0xebc6ff(0x16a)](Number);return[_0x5118b7*0x3c+_0x2dbeeb,_0x4ba692*0x3c+_0x34a53d];});_0x5dbd88[_0x11411c(0xd8)]((_0x5b07b2,_0x92e858)=>_0x5b07b2[0x0]-_0x92e858[0x0]);let _0x2179cf=[];if(_0x5dbd88[_0x11411c(0x1db)]>0x0){let _0x1b460e=_0x5dbd88[0x0];for(let _0x4d38ba=0x1;_0x4d38ba<_0x5dbd88[_0x11411c(0x1db)];_0x4d38ba++){_0x5dbd88[_0x4d38ba][0x0]<_0x1b460e[0x1]?_0x1b460e[0x1]=Math[_0x11411c(0xba)](_0x1b460e[0x1],_0x5dbd88[_0x4d38ba][0x1]):(_0x2179cf[_0x11411c(0x146)](_0x1b460e),_0x1b460e=_0x5dbd88[_0x4d38ba]);}_0x2179cf['push'](_0x1b460e);}let _0x598aa3=0x0;_0x2179cf[_0x11411c(0x104)](_0x3e3c75=>_0x598aa3+=_0x3e3c75[0x1]-_0x3e3c75[0x0]),document[_0x11411c(0x1b0)]('doWorkHours')[_0x11411c(0xad)]=formatMinsToHrs(_0x110517),document[_0x11411c(0x1b0)](_0x11411c(0xc2))[_0x11411c(0xad)]=formatMinsToHrs(_0x598aa3);const _0x53b62d=_0x110517>0x0?Math['round'](_0x598aa3/_0x110517*0x64):0x0,_0x24051a=document[_0x11411c(0x1b0)](_0x11411c(0x73));_0x24051a['textContent']=_0x53b62d+'%';const _0x30df4f=document[_0x11411c(0x1b0)](_0x11411c(0xc9));if(_0x53b62d>0x64)_0x24051a[_0x11411c(0xa3)][_0x11411c(0x193)]=_0x11411c(0x12d),_0x30df4f[_0x11411c(0xa3)][_0x11411c(0x1d3)]=_0x11411c(0xb0);else _0x53b62d>0x50?(_0x24051a[_0x11411c(0xa3)]['color']='var(--acc-orange)',_0x30df4f[_0x11411c(0xa3)][_0x11411c(0x1d3)]='rgba(255,\x20159,\x2010,\x200.3)'):(_0x24051a[_0x11411c(0xa3)][_0x11411c(0x193)]=_0x11411c(0x112),_0x30df4f[_0x11411c(0xa3)][_0x11411c(0x1d3)]=_0x11411c(0x16d));const _0x45d09a=document[_0x11411c(0x1b0)](_0x11411c(0xf4));_0x45d09a[_0x11411c(0xc4)]='';_0x31947e[_0x11411c(0x1db)]===0x0?_0x45d09a[_0x11411c(0xc4)]=_0x11411c(0x12e):(_0x31947e[_0x11411c(0xd8)]((_0x4016e1,_0x110844)=>_0x4016e1['start'][_0x11411c(0xdf)](_0x110844[_0x11411c(0x1ec)])),_0x31947e['forEach'](_0x45e674=>{const _0x4acc28=_0x11411c,_0x372673=clients['find'](_0x4e938b=>_0x4e938b[_0x4acc28(0xcc)]===_0x45e674[_0x4acc28(0xca)]),_0x5d1146=_0x372673?_0x372673[_0x4acc28(0x193)]:_0x4acc28(0x130),_0x19d152=_0x45e674[_0x4acc28(0xf9)]===_0x4acc28(0x1ed),_0x2cae4c=_0x19d152?_0x4acc28(0x18d):'',_0x2f5bcb=document[_0x4acc28(0x164)]('div');_0x2f5bcb[_0x4acc28(0x84)]=_0x4acc28(0xf8),_0x2f5bcb[_0x4acc28(0xa3)][_0x4acc28(0x17c)]=_0x5d1146,_0x2f5bcb[_0x4acc28(0xc4)]=_0x4acc28(0x1c3)+_0x45e674[_0x4acc28(0x1ec)]+_0x4acc28(0x1b9)+_0x45e674['end']+_0x4acc28(0x86)+_0x45e674[_0x4acc28(0xca)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2cae4c+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x45d09a[_0x4acc28(0xa5)](_0x2f5bcb);}));const _0x3eb678=document[_0x11411c(0x1b0)]('btnDayToggle'),_0x3c15ce=dateExceptions[_0x3d2ac1]===_0x11411c(0xb4);_0x3c15ce?(_0x3eb678[_0x11411c(0xad)]='–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º',_0x3eb678[_0x11411c(0x84)]='btn-primary\x20btn-secondary',_0x3eb678[_0x11411c(0xa3)]['color']=_0x11411c(0x112),_0x3eb678['style']['background']='rgba(48,\x20209,\x2088,\x200.15)'):(_0x3eb678['textContent']=_0x11411c(0x1bf),_0x3eb678['className']=_0x11411c(0xb9),_0x3eb678[_0x11411c(0xa3)][_0x11411c(0x193)]='var(--acc-red)',_0x3eb678[_0x11411c(0xa3)][_0x11411c(0x16c)]=_0x11411c(0xa0)),openSheet(_0x11411c(0xbe));}let currentAnPeriod=a2_0x4c36b7(0x8a);function openAnalytics(){const _0x41e84e=a2_0x4c36b7,_0x18abcc=document[_0x41e84e(0x141)](_0x41e84e(0x1e7));setAnalyticsPeriod(_0x41e84e(0x8a),_0x18abcc),closeAllSheets(),openSheet(_0x41e84e(0x114));}function setAnalyticsPeriod(_0x5955d3,_0x6841c){const _0x15b675=a2_0x4c36b7;currentAnPeriod=_0x5955d3,document['querySelectorAll'](_0x15b675(0x1e7))[_0x15b675(0x104)](_0x1c4d5f=>_0x1c4d5f[_0x15b675(0x11e)][_0x15b675(0x78)](_0x15b675(0x1a0)));if(_0x6841c)_0x6841c[_0x15b675(0x11e)]['add'](_0x15b675(0x1a0));const _0x41670f=document[_0x15b675(0x1b0)]('anCustomDates');_0x41670f[_0x15b675(0xa3)][_0x15b675(0x1ba)]=_0x5955d3===_0x15b675(0x126)?_0x15b675(0xfb):_0x15b675(0x1a6);const _0x4e9880=new Date();let _0x36921b=new Date(),_0x4c04f8=new Date();if(_0x5955d3===_0x15b675(0x8a))_0x36921b=getStartOfWeek(_0x4e9880),_0x4c04f8=new Date(_0x36921b),_0x4c04f8[_0x15b675(0xc8)](_0x4c04f8[_0x15b675(0x1e1)]()+0x6);else{if(_0x5955d3===_0x15b675(0x18c))_0x36921b=new Date(_0x4e9880[_0x15b675(0x14b)](),_0x4e9880[_0x15b675(0x1c9)](),0x1),_0x4c04f8=new Date(_0x4e9880[_0x15b675(0x14b)](),_0x4e9880[_0x15b675(0x1c9)]()+0x1,0x0);else{!document[_0x15b675(0x1b0)]('anStart')[_0x15b675(0x96)]&&(document[_0x15b675(0x1b0)](_0x15b675(0x1b8))[_0x15b675(0x96)]=getLocalDateStr(_0x4e9880),document['getElementById'](_0x15b675(0x85))[_0x15b675(0x96)]=getLocalDateStr(_0x4e9880));refreshAnalytics();return;}}document[_0x15b675(0x1b0)](_0x15b675(0x1b8))[_0x15b675(0x96)]=getLocalDateStr(_0x36921b),document['getElementById'](_0x15b675(0x85))[_0x15b675(0x96)]=getLocalDateStr(_0x4c04f8),refreshAnalytics();}function refreshAnalytics(){const _0xeb855=a2_0x4c36b7,_0x243ce9=document[_0xeb855(0x1b0)]('anStart')[_0xeb855(0x96)],_0x3805fe=document[_0xeb855(0x1b0)](_0xeb855(0x85))[_0xeb855(0x96)];if(!_0x243ce9||!_0x3805fe)return;const _0x9d3399=sessions['filter'](_0x263d45=>_0x263d45[_0xeb855(0xa8)]>=_0x243ce9&&_0x263d45[_0xeb855(0xa8)]<=_0x3805fe&&_0x263d45[_0xeb855(0xf9)]!==_0xeb855(0x18f)),_0x3ea152=_0x9d3399[_0xeb855(0x1db)],_0x3f7515=_0x9d3399[_0xeb855(0xaf)](_0x232928=>_0x232928[_0xeb855(0xf9)]==='completed')['length'],_0x75b4a0=_0x3ea152>0x0?Math['round'](_0x3f7515/_0x3ea152*0x64):0x0;document[_0xeb855(0x1b0)](_0xeb855(0x159))['textContent']=_0x75b4a0+'%',document[_0xeb855(0x1b0)](_0xeb855(0xab))[_0xeb855(0xad)]=_0x3f7515+_0xeb855(0x88)+_0x3ea152+_0xeb855(0x120);const _0x38f25d=document[_0xeb855(0x1b0)](_0xeb855(0xe3)),_0x1d2844=0x2*Math['PI']*0x23,_0x79fd4a=_0x1d2844-_0x75b4a0/0x64*_0x1d2844;_0x38f25d[_0xeb855(0xa3)][_0xeb855(0x156)]=_0x79fd4a;const _0x1b3d20={};_0x9d3399[_0xeb855(0x104)](_0x519d90=>{const _0x4598f3=_0xeb855;if(!_0x1b3d20[_0x519d90[_0x4598f3(0xca)]]){const _0x245755=clients[_0x4598f3(0xfd)](_0x54d83d=>_0x54d83d[_0x4598f3(0xcc)]===_0x519d90[_0x4598f3(0xca)]);_0x1b3d20[_0x519d90[_0x4598f3(0xca)]]={'total':0x0,'done':0x0,'color':_0x245755?_0x245755[_0x4598f3(0x193)]:_0x4598f3(0x130)};}_0x1b3d20[_0x519d90[_0x4598f3(0xca)]][_0x4598f3(0xbf)]++;if(_0x519d90[_0x4598f3(0xf9)]==='completed')_0x1b3d20[_0x519d90[_0x4598f3(0xca)]][_0x4598f3(0x197)]++;});const _0x2bbd0e=document[_0xeb855(0x1b0)](_0xeb855(0x7a));_0x2bbd0e[_0xeb855(0xc4)]='';const _0x5cd4c5=Object[_0xeb855(0x1b7)](_0x1b3d20)['sort']((_0x244a55,_0x238782)=>_0x238782[0x1][_0xeb855(0xbf)]-_0x244a55[0x1][_0xeb855(0xbf)]);if(_0x5cd4c5['length']===0x0){_0x2bbd0e[_0xeb855(0xc4)]=_0xeb855(0x187);return;}_0x5cd4c5[_0xeb855(0x104)](([_0x4f77e2,_0x1b93ee])=>{const _0x3dde8e=_0xeb855,_0x22afd6=Math[_0x3dde8e(0x81)](_0x1b93ee[_0x3dde8e(0x197)]/_0x1b93ee['total']*0x64),_0x17d3b7=document[_0x3dde8e(0x164)](_0x3dde8e(0xc1));_0x17d3b7['className']=_0x3dde8e(0xb7),_0x17d3b7['style'][_0x3dde8e(0x17c)]=_0x1b93ee[_0x3dde8e(0x193)],_0x17d3b7['innerHTML']=_0x3dde8e(0x74)+_0x4f77e2+_0x3dde8e(0x176)+_0x1b93ee[_0x3dde8e(0x197)]+_0x3dde8e(0x115)+_0x1b93ee[_0x3dde8e(0xbf)]+_0x3dde8e(0x116)+_0x22afd6+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x2bbd0e[_0x3dde8e(0xa5)](_0x17d3b7);});}function formatMinsToHrs(_0x1aad03){const _0x400197=a2_0x4c36b7;if(_0x1aad03===0x0)return'0';const _0x4a21bb=Math[_0x400197(0x184)](_0x1aad03/0x3c),_0x22f60d=_0x1aad03%0x3c;if(_0x22f60d===0x0)return _0x4a21bb+'—á';return _0x4a21bb+'—á\x20'+_0x22f60d+'–º';}