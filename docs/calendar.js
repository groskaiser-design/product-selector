const a2_0x21a314=a2_0x5059;(function(_0x169d4b,_0x1b0bed){const _0x55a0df=a2_0x5059,_0x4a070c=_0x169d4b();while(!![]){try{const _0x4daf61=parseInt(_0x55a0df(0x2b0))/0x1+-parseInt(_0x55a0df(0x34b))/0x2*(parseInt(_0x55a0df(0x27b))/0x3)+-parseInt(_0x55a0df(0x1de))/0x4*(parseInt(_0x55a0df(0x278))/0x5)+parseInt(_0x55a0df(0x232))/0x6+parseInt(_0x55a0df(0x325))/0x7*(-parseInt(_0x55a0df(0x258))/0x8)+parseInt(_0x55a0df(0x2c5))/0x9+parseInt(_0x55a0df(0x25d))/0xa;if(_0x4daf61===_0x1b0bed)break;else _0x4a070c['push'](_0x4a070c['shift']());}catch(_0x4a7d50){_0x4a070c['push'](_0x4a070c['shift']());}}}(a2_0x2d7c,0x6280d),function initTMA(){const _0x21953e=a2_0x5059;try{const _0x557555=window[_0x21953e(0x1ee)]?.[_0x21953e(0x2bf)];if(!_0x557555)return;_0x557555[_0x21953e(0x266)](),_0x557555[_0x21953e(0x20c)]();try{_0x557555['setHeaderColor'](_0x21953e(0x21e)),_0x557555[_0x21953e(0x2e6)]&&_0x557555[_0x21953e(0x2e6)]('#050505');}catch(_0x358ef4){console['log'](_0x21953e(0x293),_0x358ef4);}try{_0x557555[_0x21953e(0x275)]&&(_0x557555[_0x21953e(0x275)][_0x21953e(0x2fd)](),_0x557555[_0x21953e(0x275)][_0x21953e(0x33a)](),_0x557555['BackButton'][_0x21953e(0x317)](function(){const _0x4617cb=_0x21953e;window['location'][_0x4617cb(0x283)]=_0x4617cb(0x235);}));}catch(_0x417a3e){console['log'](_0x21953e(0x257),_0x417a3e);}try{if(_0x557555[_0x21953e(0x318)])_0x557555['disableVerticalSwipes']();}catch(_0x9c5ff9){}}catch(_0xd5a9fb){console[_0x21953e(0x32d)](_0x21953e(0x2dd),_0xd5a9fb);}}());function isAdmin(){const _0x355e1e=a2_0x5059;try{const _0x364d40=Number(window[_0x355e1e(0x1ee)]?.[_0x355e1e(0x2bf)]?.[_0x355e1e(0x26c)]?.[_0x355e1e(0x287)]?.['id']);return _0x364d40===0xbaf7174;}catch(_0x371b6e){return![];}}const APP_VERSION='v9.0-BATCH-CALENDAR',API_URL=a2_0x21a314(0x2ef),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x21a314(0x1eb),KEY_SESSIONS=a2_0x21a314(0x276),KEY_SETTINGS=a2_0x21a314(0x1fd);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x135498=a2_0x21a314;return window[_0x135498(0x1ee)]?.[_0x135498(0x2bf)]?.['initDataUnsafe']?.[_0x135498(0x287)]?.['id']||_0x135498(0x210);},'saveLocally'(){const _0x589e27=a2_0x21a314;try{localStorage[_0x589e27(0x220)](KEY_CLIENTS,JSON[_0x589e27(0x30f)](clients)),localStorage[_0x589e27(0x220)](KEY_SESSIONS,JSON[_0x589e27(0x30f)](sessions)),localStorage['setItem'](KEY_SETTINGS,JSON[_0x589e27(0x30f)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x3a50f3){console[_0x589e27(0x32d)]('Local\x20Save\x20Error',_0x3a50f3);}},'loadLocal'(){const _0x4c0577=a2_0x21a314;try{const _0x1c4e62=localStorage[_0x4c0577(0x25c)](KEY_CLIENTS);if(_0x1c4e62)clients=JSON[_0x4c0577(0x289)](_0x1c4e62);const _0x33ad22=localStorage[_0x4c0577(0x25c)](KEY_SESSIONS);if(_0x33ad22)sessions=JSON[_0x4c0577(0x289)](_0x33ad22);const _0x59a8b6=localStorage[_0x4c0577(0x25c)](KEY_SETTINGS);if(_0x59a8b6){const _0x316b76=JSON[_0x4c0577(0x289)](_0x59a8b6);if(_0x316b76[_0x4c0577(0x1fb)])availabilityPattern=_0x316b76[_0x4c0577(0x1fb)];if(_0x316b76[_0x4c0577(0x2af)])dateExceptions=_0x316b76[_0x4c0577(0x2af)];if(_0x316b76[_0x4c0577(0x28b)])specialRanges=_0x316b76[_0x4c0577(0x28b)];}else{for(let _0xa2f965=0x0;_0xa2f965<0x7;_0xa2f965++)availabilityPattern[_0xa2f965]=Array['from']({'length':0xc},(_0x4890e6,_0x5aa585)=>_0x5aa585+0x9);}}catch(_0x527a76){console[_0x4c0577(0x32d)](_0x4c0577(0x2c1),_0x527a76);}},async 'fetchFromServer'(_0x4177ae,_0x4eee9f={}){const _0x17e0ba=a2_0x21a314,_0x551c4f=window['Telegram']?.[_0x17e0ba(0x2bf)],_0x12753d={'action':_0x4177ae,'init_data':_0x551c4f?.['initData']||'',..._0x4eee9f};try{const _0x38f3a5=await fetch(API_URL,{'method':_0x17e0ba(0x23c),'headers':{'Content-Type':_0x17e0ba(0x29c)},'body':JSON[_0x17e0ba(0x30f)](_0x12753d)}),_0x38d8fc=await _0x38f3a5[_0x17e0ba(0x281)]();if(!_0x38d8fc['ok'])throw new Error(_0x38d8fc[_0x17e0ba(0x32d)]||_0x17e0ba(0x2ce));return _0x38d8fc[_0x17e0ba(0x26f)];}catch(_0x58671c){console[_0x17e0ba(0x32d)]('[API\x20'+_0x4177ae+']\x20Failed:',_0x58671c);throw _0x58671c;}},async 'syncLoad'(){const _0x138105=a2_0x21a314,_0x4aeb13=new Date(),_0x2be9b4=_0x4aeb13[_0x138105(0x2ab)]()+'-'+String(_0x4aeb13[_0x138105(0x2ba)]()+0x1)[_0x138105(0x290)](0x2,'0'),_0x3654e6=new Date(_0x4aeb13);_0x3654e6['setMonth'](_0x4aeb13[_0x138105(0x2ba)]()+0x1);const _0x122baa=_0x3654e6[_0x138105(0x2ab)]()+'-'+String(_0x3654e6['getMonth']()+0x1)[_0x138105(0x290)](0x2,'0'),_0x3305f7=Date[_0x138105(0x260)]();console[_0x138105(0x341)](_0x138105(0x24c)+_0x2be9b4+',\x20'+_0x122baa+_0x138105(0x1ed));try{const [_0xfa0d61,_0x567445]=await Promise[_0x138105(0x292)]([this[_0x138105(0x216)](_0x138105(0x301),{'month_str':_0x2be9b4}),this[_0x138105(0x216)](_0x138105(0x301),{'month_str':_0x122baa})]);if(lastUserActionTime>_0x3305f7)return console[_0x138105(0x2cc)](_0x138105(0x1d1)),![];return this[_0x138105(0x23d)](_0xfa0d61,_0x2be9b4),this[_0x138105(0x23d)](_0x567445,_0x122baa),this['saveLocally'](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x3dcdcc){console['error'](_0x3dcdcc);throw _0x3dcdcc;}},'mergeServerData'(_0x4701d9,_0x2b640d){const _0x25e8fa=a2_0x21a314;if(!_0x4701d9)return;_0x4701d9[_0x25e8fa(0x221)]&&Array[_0x25e8fa(0x2fc)](_0x4701d9[_0x25e8fa(0x221)])&&(clients=_0x4701d9[_0x25e8fa(0x221)]);if(_0x4701d9[_0x25e8fa(0x217)]){if(_0x4701d9['settings'][_0x25e8fa(0x1fb)])availabilityPattern=_0x4701d9[_0x25e8fa(0x217)][_0x25e8fa(0x1fb)];if(_0x4701d9['settings'][_0x25e8fa(0x2af)])dateExceptions=_0x4701d9[_0x25e8fa(0x217)][_0x25e8fa(0x2af)];if(_0x4701d9[_0x25e8fa(0x217)][_0x25e8fa(0x28b)])specialRanges=_0x4701d9['settings'][_0x25e8fa(0x28b)];if(_0x4701d9[_0x25e8fa(0x217)][_0x25e8fa(0x261)]){localStorage['setItem'](_0x25e8fa(0x22f),_0x4701d9[_0x25e8fa(0x217)]['cancel_window']);const _0x56dfbf=document['getElementById'](_0x25e8fa(0x2ee));if(_0x56dfbf)_0x56dfbf[_0x25e8fa(0x320)]=_0x4701d9[_0x25e8fa(0x217)]['cancel_window'];}}_0x4701d9[_0x25e8fa(0x32f)]&&(sessions=sessions[_0x25e8fa(0x294)](_0xec9278=>!_0xec9278['dateStr'][_0x25e8fa(0x204)](_0x2b640d)),Object[_0x25e8fa(0x2ac)](_0x4701d9[_0x25e8fa(0x32f)])[_0x25e8fa(0x28e)](_0x15115d=>{const _0x20d8a6=_0x25e8fa,_0x28ef19=_0x4701d9[_0x20d8a6(0x32f)][_0x15115d];_0x28ef19[_0x20d8a6(0x28e)](_0x388d17=>{const _0x1f7b9e=_0x20d8a6,_0x4f9c75=clients[_0x1f7b9e(0x1db)](_0x2b72d5=>String(_0x2b72d5['id'])===String(_0x388d17['c']));sessions[_0x1f7b9e(0x1f2)]({'id':_0x388d17['i'],'clientId':_0x388d17['c'],'client':_0x4f9c75?_0x4f9c75[_0x1f7b9e(0x242)]:_0x1f7b9e(0x334),'dateStr':_0x2b640d+'-'+_0x15115d[_0x1f7b9e(0x290)](0x2,'0'),'start':_0x388d17['s'],'end':_0x388d17['e'],'status':_0x388d17['st']||_0x1f7b9e(0x279),'note':_0x388d17['n']||'','seriesId':_0x388d17['sid']||null});});}));},async 'syncBatch'(_0x4c2349){const _0x49c487=a2_0x21a314,_0x101d95=[...new Set(_0x4c2349)],_0x5512e8=_0x101d95[_0x49c487(0x264)](_0x52e0f1=>{const _0x20626f=_0x49c487,_0x1f8ab5=sessions[_0x20626f(0x294)](_0x38f7a2=>_0x38f7a2[_0x20626f(0x2b4)]===_0x52e0f1&&_0x38f7a2['status']!==_0x20626f(0x2d9)),_0x53267f=_0x1f8ab5[_0x20626f(0x264)](_0x247716=>({'i':_0x247716['id'],'c':_0x247716[_0x20626f(0x2ad)],'s':_0x247716['start'],'e':_0x247716[_0x20626f(0x34a)],'st':_0x247716[_0x20626f(0x21f)],'n':_0x247716[_0x20626f(0x1dc)],'sid':_0x247716[_0x20626f(0x28a)]}));return{'date':_0x52e0f1,'day_data':_0x53267f};});if(_0x5512e8[_0x49c487(0x2e0)]===0x0)return;console[_0x49c487(0x341)]('[Sync]\x20Pushing\x20batch\x20updates\x20for\x20'+_0x5512e8['length']+_0x49c487(0x22c)),await this[_0x49c487(0x216)](_0x49c487(0x1e5),{'changes':_0x5512e8});}};async function init(){const _0x48c1cc=a2_0x21a314;DataManager[_0x48c1cc(0x33d)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x48c1cc(0x2c6)](_0x48c1cc(0x319))[_0x48c1cc(0x24e)](_0x48c1cc(0x2c3),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x48c1cc(0x203)]()['then'](()=>{const _0x5c0084=_0x48c1cc;showToast(_0x5c0084(0x2f9),!![]);})['catch'](_0x2c7a34=>{const _0x4af35e=_0x48c1cc;showToast(_0x4af35e(0x30d),![]);});}function generateId(){const _0x76ac0=a2_0x21a314;return Date[_0x76ac0(0x260)]()['toString'](0x24)+Math[_0x76ac0(0x1df)]()[_0x76ac0(0x2c2)](0x24)[_0x76ac0(0x2b5)](0x2,0x5);}function toggleSeriesInput(){const _0x5efa11=a2_0x21a314,_0x2d4991=document[_0x5efa11(0x2c6)]('inpRecurring')[_0x5efa11(0x255)],_0x4d6d69=document[_0x5efa11(0x2c6)](_0x5efa11(0x2e2));_0x4d6d69['style'][_0x5efa11(0x2b8)]=_0x2d4991?'block':_0x5efa11(0x245);const _0x114d1a=document[_0x5efa11(0x2c6)](_0x5efa11(0x2cd));_0x114d1a[_0x5efa11(0x339)][_0x5efa11(0x29f)]=_0x2d4991?'10px\x2010px\x200\x200':_0x5efa11(0x1e2);}function openAddSession(_0x27f4c5){const _0x1aced6=a2_0x21a314;editingId=null,populateClientSelect(),document[_0x1aced6(0x2c6)](_0x1aced6(0x23a))[_0x1aced6(0x246)]=_0x1aced6(0x2ca),document['getElementById'](_0x1aced6(0x2c7))['style'][_0x1aced6(0x2b8)]=_0x1aced6(0x245),document[_0x1aced6(0x2c6)](_0x1aced6(0x307))[_0x1aced6(0x339)]['display']='none';const _0x11a4b4=document[_0x1aced6(0x2c6)](_0x1aced6(0x2cd)),_0x6ce9b2=document[_0x1aced6(0x2c6)]('seriesCountContainer');_0x11a4b4[_0x1aced6(0x339)][_0x1aced6(0x2b8)]=_0x1aced6(0x252),_0x11a4b4[_0x1aced6(0x339)][_0x1aced6(0x29f)]=_0x1aced6(0x1e2),document[_0x1aced6(0x2c6)](_0x1aced6(0x1da))['checked']=![],document[_0x1aced6(0x2c6)](_0x1aced6(0x33c))[_0x1aced6(0x320)]=0x4,_0x6ce9b2[_0x1aced6(0x339)][_0x1aced6(0x2b8)]=_0x1aced6(0x245),document[_0x1aced6(0x2c6)]('inpDate')[_0x1aced6(0x320)]=getLocalDateStr(_0x27f4c5),updateDateDisplay();const _0x343eb9=_0x27f4c5['getHours']();document[_0x1aced6(0x2c6)]('inpStart')[_0x1aced6(0x320)]=String(_0x343eb9)['padStart'](0x2,'0')+_0x1aced6(0x306),document[_0x1aced6(0x2c6)]('inpEnd')[_0x1aced6(0x320)]=String(_0x343eb9+0x1)[_0x1aced6(0x290)](0x2,'0')+_0x1aced6(0x306),openSheet(_0x1aced6(0x2ed));}function openEdit(_0x2150d8){const _0x2c2754=a2_0x21a314;editingId=_0x2150d8['id'],populateClientSelect(),document['getElementById'](_0x2c2754(0x23a))['textContent']=_0x2c2754(0x27c),document[_0x2c2754(0x2c6)](_0x2c2754(0x2c7))['style']['display']=_0x2c2754(0x236);const _0xc72639=document[_0x2c2754(0x2c6)]('btnStatusToggle');_0xc72639[_0x2c2754(0x339)]['display']=_0x2c2754(0x252);_0x2150d8[_0x2c2754(0x21f)]===_0x2c2754(0x1e6)?(_0xc72639['className']=_0x2c2754(0x230),_0xc72639[_0x2c2754(0x25b)]=_0x2c2754(0x274)):(_0xc72639['className']='btn-status-toggle',_0xc72639[_0x2c2754(0x25b)]=_0x2c2754(0x304));const _0x37cbf6=!!_0x2150d8['seriesId'];document['getElementById'](_0x2c2754(0x2cd))['style']['display']=_0x2c2754(0x245),document['getElementById']('seriesCountContainer')[_0x2c2754(0x339)][_0x2c2754(0x2b8)]=_0x2c2754(0x245),_0x37cbf6?(document['getElementById'](_0x2c2754(0x2c4))['style']['display']=_0x2c2754(0x252),document[_0x2c2754(0x2c6)](_0x2c2754(0x2c4))['querySelector']('.pib-text')['textContent']=_0x2c2754(0x2da)):document[_0x2c2754(0x2c6)](_0x2c2754(0x2c4))[_0x2c2754(0x339)]['display']=_0x2c2754(0x245),document[_0x2c2754(0x2c6)]('inpClient')[_0x2c2754(0x320)]=_0x2150d8[_0x2c2754(0x327)],document[_0x2c2754(0x2c6)]('inpDate')[_0x2c2754(0x320)]=_0x2150d8[_0x2c2754(0x2b4)],document['getElementById']('inpStart')[_0x2c2754(0x320)]=_0x2150d8[_0x2c2754(0x313)],document[_0x2c2754(0x2c6)]('inpEnd')[_0x2c2754(0x320)]=_0x2150d8[_0x2c2754(0x34a)],document['getElementById'](_0x2c2754(0x2f7))[_0x2c2754(0x320)]=_0x2150d8[_0x2c2754(0x1dc)]||'',updateDateDisplay(),openSheet(_0x2c2754(0x2ed));}async function trySaveSession(){const _0x3942c6=a2_0x21a314,_0x13611b=document[_0x3942c6(0x2c6)]('inpClient')[_0x3942c6(0x320)],_0x27067=document[_0x3942c6(0x2c6)](_0x3942c6(0x2e9))[_0x3942c6(0x320)],_0x2cc186=document['getElementById'](_0x3942c6(0x2f4))[_0x3942c6(0x320)],_0x48ebac=document[_0x3942c6(0x2c6)]('inpEnd')[_0x3942c6(0x320)],_0x41b43c=document['getElementById']('inpNote')[_0x3942c6(0x320)],_0x3a32d7=document[_0x3942c6(0x2c6)](_0x3942c6(0x1da))[_0x3942c6(0x255)];let _0x56a4c0=0x4;if(_0x3a32d7){const _0x10568a=parseInt(document['getElementById'](_0x3942c6(0x33c))[_0x3942c6(0x320)]);if(!_0x10568a||_0x10568a<0x2){showToast(_0x3942c6(0x270),![]);return;}if(_0x10568a>0x64){showToast('–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑',![]);return;}_0x56a4c0=_0x10568a;}const _0x4649da=clients[_0x3942c6(0x1db)](_0x3a1fe9=>_0x3a1fe9[_0x3942c6(0x242)]===_0x13611b);if(!_0x4649da){showToast(_0x3942c6(0x26a),![]);return;}const _0x487893=validateAppointment(_0x27067,_0x2cc186,_0x48ebac,editingId,_0x4649da['id']);if(!_0x487893[_0x3942c6(0x309)]){showToast(_0x487893[_0x3942c6(0x1d7)],![]);return;}_0x487893[_0x3942c6(0x205)]&&showToast(_0x487893[_0x3942c6(0x205)],![]);const _0x2d36db={'client':_0x13611b,'clientId':_0x4649da['id'],'start':_0x2cc186,'end':_0x48ebac,'note':_0x41b43c,'status':'planned'},_0x2ecb92=editingId?sessions[_0x3942c6(0x1db)](_0x3d1c3e=>_0x3d1c3e['id']===editingId):null;if(_0x2ecb92&&_0x2ecb92['seriesId']){tempSessionData={..._0x2d36db,'dateStr':_0x27067,'id':editingId,'seriesId':_0x2ecb92[_0x3942c6(0x28a)]},openActionSheet('save');return;}let _0x527f3f=null;if(!editingId)_0x527f3f=_0x3942c6(0x244);else{if(_0x2ecb92){if(String(_0x2ecb92['clientId'])!==String(_0x4649da['id']))console[_0x3942c6(0x341)]('[Notify]\x20Client\x20SWAP\x20detected'),NotificationManager['send'](_0x3942c6(0x2d6),_0x2ecb92),_0x527f3f=_0x3942c6(0x244);else(_0x2ecb92['start']!==_0x2cc186||_0x2ecb92[_0x3942c6(0x34a)]!==_0x48ebac||_0x2ecb92[_0x3942c6(0x2b4)]!==_0x27067)&&(_0x527f3f=_0x3942c6(0x225));}}if(!editingId&&_0x3a32d7){createBatchSeries(_0x2d36db,_0x27067,_0x56a4c0),NotificationManager[_0x3942c6(0x321)]('create',{..._0x2d36db,'dateStr':_0x27067});return;}lastUserActionTime=Date[_0x3942c6(0x260)]();const _0x43dee3={..._0x2d36db,'dateStr':_0x27067,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x43dee3),_0x527f3f&&NotificationManager[_0x3942c6(0x321)](_0x527f3f,_0x43dee3);}function toggleSessionStatus(){const _0x330bc5=a2_0x21a314;lastUserActionTime=Date['now']();const _0x2f0137=sessions[_0x330bc5(0x1db)](_0x268cc9=>_0x268cc9['id']===editingId);if(!_0x2f0137)return;const _0x583c58=_0x2f0137[_0x330bc5(0x21f)]==='completed'?_0x330bc5(0x279):_0x330bc5(0x1e6);_0x2f0137[_0x330bc5(0x21f)]=_0x583c58,saveSingleSession(_0x2f0137),_0x583c58===_0x330bc5(0x1e6)&&NotificationManager[_0x330bc5(0x321)](_0x330bc5(0x1e7),_0x2f0137),showToast(_0x583c58===_0x330bc5(0x1e6)?_0x330bc5(0x1ec):'–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω',!![]);}function validateAppointment(_0x5d143d,_0x4ad6db,_0x4ac90e,_0x21c18c,_0x5aef1e){const _0x383633=a2_0x21a314,[_0x416385,_0x4d2054]=_0x4ad6db[_0x383633(0x282)](':')[_0x383633(0x264)](Number),[_0x33128f,_0x90967c]=_0x4ac90e[_0x383633(0x282)](':')[_0x383633(0x264)](Number),_0x4cf137=_0x416385*0x3c+_0x4d2054,_0x21bd3f=_0x33128f*0x3c+_0x90967c,_0x1342e9=String(_0x5aef1e);let _0x5d648d=![],_0x5d6394='';for(let _0x656285 of sessions){if(_0x656285['dateStr']!==_0x5d143d)continue;if(_0x656285[_0x383633(0x21f)]==='cancelled')continue;if(_0x21c18c&&String(_0x656285['id'])===String(_0x21c18c))continue;const [_0x5060a0,_0x3f447a]=_0x656285[_0x383633(0x313)]['split'](':')[_0x383633(0x264)](Number),[_0x3cf57c,_0x130fa5]=_0x656285[_0x383633(0x34a)][_0x383633(0x282)](':')[_0x383633(0x264)](Number),_0x47257f=_0x5060a0*0x3c+_0x3f447a,_0x11b1f8=_0x3cf57c*0x3c+_0x130fa5;if(Math[_0x383633(0x280)](_0x4cf137,_0x47257f)<Math['min'](_0x21bd3f,_0x11b1f8)){if(_0x656285[_0x383633(0x2ad)]&&String(_0x656285[_0x383633(0x2ad)])===_0x1342e9)return{'valid':![],'msg':_0x383633(0x21d)+_0x656285[_0x383633(0x327)]+_0x383633(0x2f3)};_0x5d648d=!![],_0x5d6394=_0x656285[_0x383633(0x327)];}}if(_0x5d648d)return{'valid':!![],'warning':_0x383633(0x200)+_0x5d6394};return{'valid':!![]};}function saveSingleSession(_0x552ed1){const _0x5bda3e=a2_0x21a314;if(editingId){const _0x209c49=sessions[_0x5bda3e(0x1d3)](_0x4e369a=>_0x4e369a['id']===editingId);if(_0x209c49!==-0x1)sessions[_0x209c49]=_0x552ed1;}else sessions[_0x5bda3e(0x1f2)](_0x552ed1);afterSaveAction([_0x552ed1['dateStr']]);}function createBatchSeries(_0x4d3006,_0x33f120,_0xc79ed6){const _0x4807e2=a2_0x21a314,_0x218909=generateId(),_0x28920e=[],_0x572954=[];let _0x14517a=0x0,_0x4eef3a=new Date(_0x33f120);for(let _0x1cb81c=0x0;_0x1cb81c<_0xc79ed6;_0x1cb81c++){const _0x552921=getLocalDateStr(_0x4eef3a),_0x24b6cd=validateAppointment(_0x552921,_0x4d3006[_0x4807e2(0x313)],_0x4d3006[_0x4807e2(0x34a)],null,_0x4d3006[_0x4807e2(0x2ad)]);if(!_0x24b6cd[_0x4807e2(0x309)])console[_0x4807e2(0x341)](_0x4807e2(0x1d6)+_0x552921+_0x4807e2(0x231)),_0x14517a++;else{const _0x386c39={..._0x4d3006,'id':generateId(),'dateStr':_0x552921,'seriesId':_0x218909};_0x572954[_0x4807e2(0x1f2)](_0x386c39),_0x28920e['push'](_0x552921);}_0x4eef3a['setDate'](_0x4eef3a[_0x4807e2(0x254)]()+0x7);}if(_0x572954[_0x4807e2(0x2e0)]===0x0){showToast('–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!',![]);return;}sessions[_0x4807e2(0x1f2)](..._0x572954),lastUserActionTime=Date[_0x4807e2(0x260)]();let _0x14b56d=_0x4807e2(0x340)+_0x572954[_0x4807e2(0x2e0)];_0x14517a>0x0&&(_0x14b56d+='\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20'+_0x14517a+')'),showToast(_0x14b56d,!![]),afterSaveAction(_0x28920e);}function updateSeriesBatch(_0x40276c,_0x572005){const _0x5b07f6=a2_0x21a314,_0x45a437=[],_0x4f7336=_0x572005['seriesId'];if(_0x40276c===_0x5b07f6(0x33f)){const _0x5b2ad4={..._0x572005,'seriesId':null},_0xe793d3=sessions['findIndex'](_0x41f471=>_0x41f471['id']===_0x572005['id']);if(_0xe793d3!==-0x1)sessions[_0xe793d3]=_0x5b2ad4;_0x45a437['push'](_0x5b2ad4[_0x5b07f6(0x2b4)]);}else{if(_0x40276c===_0x5b07f6(0x272)){const _0x2bebb9=_0x572005['dateStr'];sessions[_0x5b07f6(0x28e)]((_0x146c5a,_0x1b9bed)=>{const _0x55efed=_0x5b07f6;_0x146c5a['seriesId']===_0x4f7336&&_0x146c5a[_0x55efed(0x2b4)]>=_0x2bebb9&&(sessions[_0x1b9bed]={...sessions[_0x1b9bed],'start':_0x572005['start'],'end':_0x572005[_0x55efed(0x34a)],'note':_0x572005[_0x55efed(0x1dc)],'client':_0x572005[_0x55efed(0x327)],'clientId':_0x572005['clientId']},_0x45a437[_0x55efed(0x1f2)](_0x146c5a[_0x55efed(0x2b4)]));});}}afterSaveAction(_0x45a437);}function tryDeleteSession(){const _0x5f483d=a2_0x21a314,_0x222946=sessions[_0x5f483d(0x1db)](_0x9a787=>_0x9a787['id']===editingId);if(!_0x222946)return;_0x222946[_0x5f483d(0x28a)]?openActionSheet(_0x5f483d(0x300)):commitDelete(_0x5f483d(0x33f),_0x222946);}function a2_0x5059(_0x4ca5f4,_0x22925a){_0x4ca5f4=_0x4ca5f4-0x1cd;const _0x44490b=a2_0x2d7c();let _0x438019=_0x44490b[_0x4ca5f4];return _0x438019;}function commitDelete(_0x9fc481,_0x5e0d7e){const _0x2288f0=a2_0x21a314;lastUserActionTime=Date[_0x2288f0(0x260)](),NotificationManager[_0x2288f0(0x321)](_0x2288f0(0x2d6),_0x5e0d7e);const _0x5e68b4=[];if(_0x9fc481===_0x2288f0(0x33f))sessions=sessions[_0x2288f0(0x294)](_0x39c9c1=>_0x39c9c1['id']!==_0x5e0d7e['id']),_0x5e68b4[_0x2288f0(0x1f2)](_0x5e0d7e[_0x2288f0(0x2b4)]);else{if(_0x9fc481==='series'){const _0x35cc1e=_0x5e0d7e[_0x2288f0(0x2b4)],_0x2b0b0d=_0x5e0d7e['seriesId'];sessions['forEach'](_0x1a6f5d=>{const _0x3cb240=_0x2288f0;_0x1a6f5d[_0x3cb240(0x28a)]===_0x2b0b0d&&_0x1a6f5d[_0x3cb240(0x2b4)]>=_0x35cc1e&&_0x5e68b4[_0x3cb240(0x1f2)](_0x1a6f5d[_0x3cb240(0x2b4)]);}),sessions=sessions[_0x2288f0(0x294)](_0x2e7695=>!(_0x2e7695['seriesId']===_0x2b0b0d&&_0x2e7695[_0x2288f0(0x2b4)]>=_0x35cc1e));}}afterSaveAction(_0x5e68b4);}function afterSaveAction(_0x183d36){const _0x186b88=a2_0x21a314;DataManager[_0x186b88(0x2d2)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager['syncBatch'](_0x183d36)[_0x186b88(0x2b7)](()=>console[_0x186b88(0x341)]('Batch\x20Sync\x20OK'))[_0x186b88(0x2bb)](_0x33e3c6=>showToast(_0x186b88(0x2c0),![]));}const NotificationManager={'formatDate'(_0x106b4c){const _0x23a965=a2_0x21a314,_0x45c24f=new Date(_0x106b4c),_0x2cd81c={'weekday':_0x23a965(0x21b),'day':_0x23a965(0x1f1),'month':_0x23a965(0x21b)};let _0x3bc19b=_0x45c24f[_0x23a965(0x206)](_0x23a965(0x222),_0x2cd81c);return _0x3bc19b['charAt'](0x0)[_0x23a965(0x271)]()+_0x3bc19b[_0x23a965(0x29a)](0x1);},'getText'(_0x29fac4,_0x296ac1){const _0x524c94=a2_0x21a314,_0x583979=this['formatDate'](_0x296ac1[_0x524c94(0x2b4)]);switch(_0x29fac4){case _0x524c94(0x244):return _0x524c94(0x2cf)+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0x583979+'\x0a')+('<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20'+_0x296ac1['start']+_0x524c94(0x238)+_0x296ac1[_0x524c94(0x34a)]+'\x0a\x0a')+'–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™';case _0x524c94(0x225):return _0x524c94(0x267)+_0x524c94(0x2ff)+('<b>‚úÖ\x20'+_0x296ac1['start']+_0x524c94(0x238)+_0x296ac1[_0x524c94(0x34a)]+'</b>\x0a\x0a')+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0x583979);case _0x524c94(0x2d6):return _0x524c94(0x2e1)+(_0x524c94(0x324)+_0x583979+'\x20('+_0x296ac1['start']+')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.');case _0x524c94(0x1e7):return'<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a'+_0x524c94(0x328)+_0x524c94(0x2d8);default:return'';}},async 'send'(_0x47057c,_0x83b17b){const _0x208a34=a2_0x21a314;console[_0x208a34(0x341)](_0x208a34(0x2db),_0x47057c,_0x83b17b);if(!_0x83b17b){console[_0x208a34(0x32d)](_0x208a34(0x31f));return;}const _0x424987=String(_0x83b17b['clientId']);console[_0x208a34(0x341)](_0x208a34(0x288),_0x424987);if(!_0x83b17b['clientId']||_0x424987===_0x208a34(0x22e)||_0x424987===_0x208a34(0x2de)){console[_0x208a34(0x32d)](_0x208a34(0x27f));if(_0x83b17b[_0x208a34(0x327)]){const _0x1cf232=clients[_0x208a34(0x1db)](_0x517937=>_0x517937[_0x208a34(0x242)]===_0x83b17b['client']);if(_0x1cf232)return console[_0x208a34(0x341)](_0x208a34(0x2a0),_0x1cf232['id']),this['send'](_0x47057c,{..._0x83b17b,'clientId':_0x1cf232['id']});}return;}if(_0x424987[_0x208a34(0x2e0)]<0x5){console[_0x208a34(0x2cc)](_0x208a34(0x1e8),_0x424987);return;}const _0x584aad=this[_0x208a34(0x25e)](_0x47057c,_0x83b17b);if(!_0x584aad){console[_0x208a34(0x32d)](_0x208a34(0x348));return;}console['log']('[Notify]\x20Sending\x20to\x20GAS\x20for\x20'+_0x424987+_0x208a34(0x1ed)),DataManager[_0x208a34(0x216)](_0x208a34(0x2a5),{'chatId':_0x424987,'text':_0x584aad})[_0x208a34(0x2b7)](_0x308a03=>console[_0x208a34(0x341)](_0x208a34(0x2e4),_0x308a03))[_0x208a34(0x2bb)](_0x1f8f8e=>console[_0x208a34(0x32d)](_0x208a34(0x239),_0x1f8f8e));}};function getLocalDateStr(_0x5003a5){const _0x19e51f=a2_0x21a314,_0xbf5602=_0x5003a5['getFullYear'](),_0x16e68c=String(_0x5003a5[_0x19e51f(0x2ba)]()+0x1)['padStart'](0x2,'0'),_0x490c3b=String(_0x5003a5['getDate']())[_0x19e51f(0x290)](0x2,'0');return _0xbf5602+'-'+_0x16e68c+'-'+_0x490c3b;}function getDateStr(_0x2425c0){const _0x362d7a=a2_0x21a314,_0x2e0ea3=new Date();return _0x2e0ea3[_0x362d7a(0x29e)](_0x2e0ea3[_0x362d7a(0x254)]()+_0x2425c0),getLocalDateStr(_0x2e0ea3);}function getStartOfWeek(_0x37a521){const _0x28e4e2=a2_0x21a314,_0x309847=(function(){let _0x487008=!![];return function(_0x17fc25,_0x1ff02f){const _0x1d8d88=_0x487008?function(){const _0x246408=a2_0x5059;if(_0x1ff02f){const _0x531a07=_0x1ff02f[_0x246408(0x31b)](_0x17fc25,arguments);return _0x1ff02f=null,_0x531a07;}}:function(){};return _0x487008=![],_0x1d8d88;};}()),_0x5cc5ca=_0x309847(this,function(){const _0x9b211e=a2_0x5059;return _0x5cc5ca['toString']()['search'](_0x9b211e(0x330))[_0x9b211e(0x2c2)]()[_0x9b211e(0x277)](_0x5cc5ca)[_0x9b211e(0x285)](_0x9b211e(0x330));});_0x5cc5ca();const _0x116089=new Date(_0x37a521),_0x425e7d=_0x116089[_0x28e4e2(0x1f8)](),_0x55a43a=_0x116089[_0x28e4e2(0x254)]()-_0x425e7d+(_0x425e7d===0x0?-0x6:0x1);return _0x116089[_0x28e4e2(0x29e)](_0x55a43a),_0x116089[_0x28e4e2(0x2b3)](0x0,0x0,0x0,0x0),_0x116089;}function hexToRgba(_0x210d8e,_0x496b1a){const _0x57673b=a2_0x21a314;if(!_0x210d8e)return _0x57673b(0x343);let _0x41928d=0x0,_0x4b1bab=0x0,_0x4cc5e8=0x0;if(_0x210d8e[_0x57673b(0x2e0)]===0x4)_0x41928d='0x'+_0x210d8e[0x1]+_0x210d8e[0x1],_0x4b1bab='0x'+_0x210d8e[0x2]+_0x210d8e[0x2],_0x4cc5e8='0x'+_0x210d8e[0x3]+_0x210d8e[0x3];else _0x210d8e[_0x57673b(0x2e0)]===0x7&&(_0x41928d='0x'+_0x210d8e[0x1]+_0x210d8e[0x2],_0x4b1bab='0x'+_0x210d8e[0x3]+_0x210d8e[0x4],_0x4cc5e8='0x'+_0x210d8e[0x5]+_0x210d8e[0x6]);return'rgba('+ +_0x41928d+',\x20'+ +_0x4b1bab+',\x20'+ +_0x4cc5e8+',\x20'+_0x496b1a+')';}function renderTimeColumn(){const _0x2be3c8=a2_0x21a314,_0x4fa92a=document[_0x2be3c8(0x2c6)](_0x2be3c8(0x2df)),_0x145924=document[_0x2be3c8(0x2c6)](_0x2be3c8(0x1d8));_0x4fa92a[_0x2be3c8(0x25b)]='',_0x4fa92a['appendChild'](_0x145924);for(let _0x3d2e77=0x0;_0x3d2e77<0x18;_0x3d2e77++){const _0x3b1795=document[_0x2be3c8(0x2a2)](_0x2be3c8(0x27e));_0x3b1795[_0x2be3c8(0x1f9)]='time-label';if(_0x3d2e77>0x0)_0x3b1795[_0x2be3c8(0x25b)]=_0x2be3c8(0x2d3)+String(_0x3d2e77)['padStart'](0x2,'0')+_0x2be3c8(0x2a6);_0x4fa92a[_0x2be3c8(0x2f8)](_0x3b1795);}}function renderDayRange(_0x3ac0c7,_0x17d045){const _0x360f8c=a2_0x21a314,_0x20aa5f=document['getElementById']('daysHeaderTrack'),_0x25e083=document['getElementById'](_0x360f8c(0x347)),_0x221669=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x518f05=new Date();_0x518f05['setHours'](0x0,0x0,0x0,0x0);const _0x3df704=getLocalDateStr(new Date());for(let _0x5b3bf9=_0x3ac0c7;_0x5b3bf9<=_0x17d045;_0x5b3bf9++){const _0x1acd97=new Date(_0x518f05);_0x1acd97[_0x360f8c(0x29e)](_0x1acd97[_0x360f8c(0x254)]()+_0x5b3bf9);const _0x5662e1=getLocalDateStr(_0x1acd97);let _0x3f9004=_0x1acd97[_0x360f8c(0x1f8)]()-0x1;if(_0x3f9004===-0x1)_0x3f9004=0x6;const _0x3d7d11=_0x5662e1===_0x3df704,_0x3ad3c2=document['createElement'](_0x360f8c(0x27e));_0x3ad3c2[_0x360f8c(0x1f9)]=_0x360f8c(0x2d0)+(_0x3d7d11?'today':''),_0x3ad3c2['id']=_0x360f8c(0x1d9)+_0x5662e1,_0x3ad3c2[_0x360f8c(0x1ce)](_0x360f8c(0x337),_0x5662e1),_0x3ad3c2['innerHTML']=_0x360f8c(0x1cf)+_0x221669[_0x3f9004]+'</div><div\x20class=\x22dch-num\x22>'+_0x1acd97[_0x360f8c(0x254)]()+_0x360f8c(0x329)+_0x5662e1+_0x360f8c(0x26b),_0x3ad3c2[_0x360f8c(0x265)]=()=>openDayOptions(_0x5662e1,_0x221669[_0x3f9004]+'\x20'+_0x1acd97[_0x360f8c(0x254)]()),_0x20aa5f['appendChild'](_0x3ad3c2);const _0x5b2928=document[_0x360f8c(0x2a2)](_0x360f8c(0x27e));_0x5b2928[_0x360f8c(0x1f9)]=_0x360f8c(0x1e9)+(_0x3d7d11?_0x360f8c(0x240):''),_0x5b2928[_0x360f8c(0x1ce)](_0x360f8c(0x337),_0x5662e1),_0x5b2928['setAttribute'](_0x360f8c(0x305),_0x3f9004),renderEventsForColumn(_0x5b2928,_0x5662e1,_0x3f9004),attachLongPressHandler(_0x5b2928,_0x1acd97),_0x25e083[_0x360f8c(0x2f8)](_0x5b2928),updateDayStats(_0x5662e1);}}function reRenderBlocks(){const _0x4868d5=a2_0x21a314;document[_0x4868d5(0x312)](_0x4868d5(0x209))[_0x4868d5(0x28e)](_0x1642fd=>{const _0x453e63=_0x4868d5;_0x1642fd[_0x453e63(0x312)](_0x453e63(0x32a))[_0x453e63(0x28e)](_0x57c000=>_0x57c000['remove']());const _0x435852=_0x1642fd[_0x453e63(0x25f)](_0x453e63(0x337)),_0x4e2868=parseInt(_0x1642fd['getAttribute'](_0x453e63(0x305))),_0x12f84d=Math[_0x453e63(0x28d)](_0x1642fd[_0x453e63(0x1f0)]);(availabilityPattern[_0x4e2868]||[])['forEach'](_0x2f4ec5=>{const _0x5179db=_0x453e63,_0x575ec7=document['createElement'](_0x5179db(0x27e));_0x575ec7[_0x5179db(0x1f9)]=_0x5179db(0x30e);const _0x18ec2=_0x2f4ec5*GRID_H;_0x575ec7[_0x5179db(0x339)][_0x5179db(0x223)]=_0x18ec2+'px',_0x575ec7['style'][_0x5179db(0x237)]='-'+_0x12f84d+_0x5179db(0x28c)+_0x18ec2+'px',_0x1642fd[_0x5179db(0x2f8)](_0x575ec7);});if(specialRanges&&specialRanges[_0x453e63(0x2e0)]>0x0){const _0x48c354=new Date(_0x435852+_0x453e63(0x30c))[_0x453e63(0x1e4)](),_0x55f0c3=new Date(_0x435852+_0x453e63(0x263))[_0x453e63(0x1e4)]();specialRanges[_0x453e63(0x28e)](_0x282633=>{const _0x16c147=_0x453e63,_0x16c1a4=new Date(_0x282633['start'])[_0x16c147(0x1e4)](),_0x49b5d9=new Date(_0x282633['end'])[_0x16c147(0x1e4)](),_0x331a6f=Math[_0x16c147(0x280)](_0x48c354,_0x16c1a4),_0x539e77=Math[_0x16c147(0x310)](_0x55f0c3,_0x49b5d9);if(_0x331a6f<_0x539e77){if(_0x331a6f<=_0x48c354&&_0x539e77>=_0x55f0c3-0xea60){if(!_0x1642fd[_0x16c147(0x26d)](_0x16c147(0x33b))){const _0x2a1ca9=document[_0x16c147(0x2a2)](_0x16c147(0x27e));_0x2a1ca9[_0x16c147(0x1f9)]=_0x16c147(0x1cd),_0x2a1ca9['style'][_0x16c147(0x237)]='-'+_0x12f84d+'px\x200px',_0x1642fd[_0x16c147(0x2f8)](_0x2a1ca9);}}else{const _0x24c027=(_0x331a6f-_0x48c354)/0x36ee80*GRID_H,_0x571beb=(_0x539e77-_0x331a6f)/0x36ee80*GRID_H,_0x40a603=document[_0x16c147(0x2a2)](_0x16c147(0x27e));_0x40a603[_0x16c147(0x1f9)]=_0x16c147(0x201),_0x40a603[_0x16c147(0x339)][_0x16c147(0x223)]=_0x24c027+'px',_0x40a603[_0x16c147(0x339)][_0x16c147(0x2b6)]=_0x571beb+'px',_0x40a603['style'][_0x16c147(0x237)]='-'+_0x12f84d+'px\x20-'+_0x24c027+'px',_0x1642fd[_0x16c147(0x2f8)](_0x40a603);}}});}if(dateExceptions[_0x435852]===_0x453e63(0x2fe)){if(!_0x1642fd[_0x453e63(0x26d)](_0x453e63(0x33b))){const _0x4b666f=document['createElement']('div');_0x4b666f[_0x453e63(0x1f9)]=_0x453e63(0x1cd),_0x4b666f[_0x453e63(0x339)][_0x453e63(0x237)]='-'+_0x12f84d+_0x453e63(0x1ea),_0x1642fd[_0x453e63(0x2f8)](_0x4b666f);}}renderEventsForColumn(_0x1642fd,_0x435852,_0x4e2868),updateDayStats(_0x435852);});}function updateAllDayStats(){const _0x38654f=a2_0x21a314;document[_0x38654f(0x312)](_0x38654f(0x2a7))[_0x38654f(0x28e)](_0xee2b84=>{const _0x2f7276=_0x38654f;updateDayStats(_0xee2b84['getAttribute'](_0x2f7276(0x337)));});}function updateDayStats(_0x57ae02){const _0x18ceab=a2_0x21a314,_0x5e0d7f=document[_0x18ceab(0x2c6)](_0x18ceab(0x2e3)+_0x57ae02);if(!_0x5e0d7f)return;const _0x56d4df=new Date(_0x57ae02);let _0x427be4=_0x56d4df['getDay']()-0x1;if(_0x427be4===-0x1)_0x427be4=0x6;if(dateExceptions[_0x57ae02]===_0x18ceab(0x2fe)){_0x5e0d7f[_0x18ceab(0x339)]['display']=_0x18ceab(0x245);return;}const _0x56a396=availabilityPattern[_0x427be4]||[],_0x296858=0x18-_0x56a396[_0x18ceab(0x2e0)],_0x5f3f2d=_0x296858*0x3c,_0x1d3af8=sessions['filter'](_0x1b3634=>_0x1b3634['dateStr']===_0x57ae02&&_0x1b3634[_0x18ceab(0x21f)]!==_0x18ceab(0x1f5));if(_0x1d3af8[_0x18ceab(0x2e0)]===0x0){_0x5e0d7f[_0x18ceab(0x339)][_0x18ceab(0x2b8)]=_0x18ceab(0x245);return;}let _0x55c596=_0x1d3af8[_0x18ceab(0x264)](_0x290d15=>{const _0x3ec583=_0x18ceab,[_0xd3e56f,_0x302079]=_0x290d15[_0x3ec583(0x313)][_0x3ec583(0x282)](':')[_0x3ec583(0x264)](Number),[_0x3ba04b,_0x4960e0]=_0x290d15['end']['split'](':')[_0x3ec583(0x264)](Number);return[_0xd3e56f*0x3c+_0x302079,_0x3ba04b*0x3c+_0x4960e0];});_0x55c596[_0x18ceab(0x1ef)]((_0x29d53f,_0xbb0a45)=>_0x29d53f[0x0]-_0xbb0a45[0x0]);let _0x50da03=[];if(_0x55c596[_0x18ceab(0x2e0)]>0x0){let _0x438bde=_0x55c596[0x0];for(let _0xcaebe3=0x1;_0xcaebe3<_0x55c596[_0x18ceab(0x2e0)];_0xcaebe3++){_0x55c596[_0xcaebe3][0x0]<_0x438bde[0x1]?_0x438bde[0x1]=Math['max'](_0x438bde[0x1],_0x55c596[_0xcaebe3][0x1]):(_0x50da03['push'](_0x438bde),_0x438bde=_0x55c596[_0xcaebe3]);}_0x50da03[_0x18ceab(0x1f2)](_0x438bde);}let _0x22cfbc=0x0;_0x50da03['forEach'](_0x4e37c8=>_0x22cfbc+=_0x4e37c8[0x1]-_0x4e37c8[0x0]),_0x5e0d7f[_0x18ceab(0x339)][_0x18ceab(0x2b8)]=_0x18ceab(0x252);const _0x5be998=_0x5e0d7f['querySelector']('.dch-stats-fill');if(_0x5f3f2d===0x0){_0x5be998['style'][_0x18ceab(0x2cb)]=_0x18ceab(0x268),_0x5be998['style']['background']='var(--acc-red)';return;}const _0x2489f1=_0x22cfbc/_0x5f3f2d*0x64;console[_0x18ceab(0x341)]('['+_0x57ae02+_0x18ceab(0x342)+_0x296858+_0x18ceab(0x2a8)+_0x22cfbc+_0x18ceab(0x2e5)+_0x2489f1[_0x18ceab(0x32e)](0x1)+'%'),_0x2489f1>0x64?(_0x5be998[_0x18ceab(0x339)]['width']=_0x18ceab(0x268),_0x5be998['style'][_0x18ceab(0x323)]=_0x18ceab(0x259)):(_0x5be998['style']['width']=_0x2489f1+'%',_0x5be998[_0x18ceab(0x339)][_0x18ceab(0x323)]=_0x18ceab(0x2c9));}function renderEventsForColumn(_0x32e557,_0x4806e2,_0x121f83){const _0x1a91f0=a2_0x21a314,_0x29251b=sessions[_0x1a91f0(0x294)](_0x22d943=>_0x22d943[_0x1a91f0(0x2b4)]===_0x4806e2),_0x1790e9=_0x29251b['map'](_0x3edea3=>{const _0x9cf71d=_0x1a91f0,[_0x5f1206,_0x34dcd2]=_0x3edea3['start']['split'](':')[_0x9cf71d(0x264)](Number),[_0x1764ef,_0x1c9d88]=_0x3edea3['end'][_0x9cf71d(0x282)](':')[_0x9cf71d(0x264)](Number);return{'data':_0x3edea3,'start':_0x5f1206*0x3c+_0x34dcd2,'end':_0x1764ef*0x3c+_0x1c9d88,'colIndex':0x0};});_0x1790e9[_0x1a91f0(0x1ef)]((_0x3d5e4a,_0x24d182)=>{const _0x15a5c3=_0x1a91f0;if(_0x3d5e4a[_0x15a5c3(0x313)]!==_0x24d182[_0x15a5c3(0x313)])return _0x3d5e4a[_0x15a5c3(0x313)]-_0x24d182[_0x15a5c3(0x313)];return _0x24d182[_0x15a5c3(0x34a)]-_0x24d182[_0x15a5c3(0x313)]-(_0x3d5e4a[_0x15a5c3(0x34a)]-_0x3d5e4a[_0x15a5c3(0x313)]);});const _0x4fb323=[];_0x1790e9['forEach'](_0x16d74d=>{const _0x27a0a4=_0x1a91f0;let _0x579451=![];for(let _0xcf2b87=0x0;_0xcf2b87<_0x4fb323[_0x27a0a4(0x2e0)];_0xcf2b87++){const _0xc744d1=_0x4fb323[_0xcf2b87],_0x49bef1=_0xc744d1[_0xc744d1[_0x27a0a4(0x2e0)]-0x1];if(_0x16d74d[_0x27a0a4(0x313)]>=_0x49bef1[_0x27a0a4(0x34a)]){_0xc744d1['push'](_0x16d74d),_0x16d74d[_0x27a0a4(0x2ea)]=_0xcf2b87,_0x579451=!![];break;}}!_0x579451&&(_0x4fb323['push']([_0x16d74d]),_0x16d74d[_0x27a0a4(0x2ea)]=_0x4fb323['length']-0x1);}),_0x1790e9[_0x1a91f0(0x28e)](_0x3a2ee0=>{const _0x4158be=_0x1a91f0;let _0x5d5493=0x0;_0x1790e9[_0x4158be(0x28e)](_0xc21b82=>{const _0x517df2=_0x4158be;if(Math[_0x517df2(0x280)](_0x3a2ee0[_0x517df2(0x313)],_0xc21b82[_0x517df2(0x313)])<Math[_0x517df2(0x310)](_0x3a2ee0[_0x517df2(0x34a)],_0xc21b82[_0x517df2(0x34a)])){if(_0xc21b82[_0x517df2(0x2ea)]>_0x5d5493)_0x5d5493=_0xc21b82['colIndex'];}});const _0x48a213=_0x5d5493+0x1,_0x1b79b5=0x64/_0x48a213,_0xd789ae=_0x3a2ee0['colIndex']*_0x1b79b5,_0x1aba97=createEventEl(_0x3a2ee0[_0x4158be(0x26f)]);_0x1aba97[_0x4158be(0x339)][_0x4158be(0x2cb)]=_0x4158be(0x32b)+_0x1b79b5+_0x4158be(0x2bd),_0x1aba97[_0x4158be(0x339)][_0x4158be(0x303)]=_0x4158be(0x32b)+_0xd789ae+_0x4158be(0x25a),_0x1aba97['style']['zIndex']=0xa+_0x3a2ee0[_0x4158be(0x2ea)],_0x1b79b5<0x55&&_0x1aba97[_0x4158be(0x21c)][_0x4158be(0x250)](_0x4158be(0x215)),_0x32e557[_0x4158be(0x2f8)](_0x1aba97);});}function createEventEl(_0x1dbea5){const _0x17692c=a2_0x21a314,[_0x478531,_0x4fc19e]=_0x1dbea5[_0x17692c(0x313)][_0x17692c(0x282)](':')['map'](Number),[_0x2c1857,_0x51ce8e]=_0x1dbea5[_0x17692c(0x34a)]['split'](':')[_0x17692c(0x264)](Number),_0x5a6d8c=(_0x478531*0x3c+_0x4fc19e)/0x3c*GRID_H,_0x317b4f=(_0x2c1857*0x3c+_0x51ce8e-(_0x478531*0x3c+_0x4fc19e))/0x3c*GRID_H,_0xcf1ab7=document[_0x17692c(0x2a2)]('div'),_0x490b36=_0x1dbea5[_0x17692c(0x21f)]===_0x17692c(0x1e6)?_0x17692c(0x273):'';_0xcf1ab7['className']=_0x17692c(0x23b)+_0x490b36,_0xcf1ab7[_0x17692c(0x339)]['top']=_0x5a6d8c+'px',_0xcf1ab7[_0x17692c(0x339)]['height']=Math[_0x17692c(0x280)](_0x317b4f,0x14)+'px';const _0x43f8ab=clients[_0x17692c(0x1db)](_0x5a5e62=>_0x1dbea5[_0x17692c(0x2ad)]&&String(_0x5a5e62['id'])===String(_0x1dbea5['clientId'])||_0x5a5e62[_0x17692c(0x242)]===_0x1dbea5[_0x17692c(0x327)]),_0x2c7aff=_0x43f8ab?_0x43f8ab[_0x17692c(0x349)]:'#0a84ff';_0xcf1ab7[_0x17692c(0x339)][_0x17692c(0x1e3)]=_0x2c7aff,_0xcf1ab7[_0x17692c(0x339)]['backgroundColor']=hexToRgba(_0x2c7aff,0.85);let _0x45b242=_0x17692c(0x1d2)+_0x1dbea5[_0x17692c(0x327)]+_0x17692c(0x315)+_0x1dbea5[_0x17692c(0x313)]+'\x20-\x20'+_0x1dbea5[_0x17692c(0x34a)]+_0x17692c(0x2d7);return _0x1dbea5[_0x17692c(0x28a)]&&(_0x45b242+=_0x17692c(0x241)),_0x1dbea5[_0x17692c(0x21f)]===_0x17692c(0x1e6)&&(_0x45b242+='<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>'),_0xcf1ab7[_0x17692c(0x25b)]=_0x45b242,_0xcf1ab7[_0x17692c(0x265)]=_0x128266=>{_0x128266['stopPropagation'](),openEdit(_0x1dbea5);},_0xcf1ab7;}function attachLongPressHandler(_0x7d294a,_0x1f16f3){const _0x496dec=a2_0x21a314;let _0x55930c=0x0,_0x351a8c=null;const _0x3b6934=_0x2b2437=>{const _0x58f98a=a2_0x5059;if(_0x2b2437[_0x58f98a(0x27a)]['closest'](_0x58f98a(0x2ec)))return;isScrolling=![],_0x55930c=_0x2b2437[_0x58f98a(0x26e)]?_0x2b2437[_0x58f98a(0x26e)][0x0][_0x58f98a(0x296)]:_0x2b2437[_0x58f98a(0x296)],_0x351a8c=setTimeout(()=>{const _0x28e36a=_0x58f98a;if(!isScrolling){navigator['vibrate']?.(0x32);const _0x78a73b=_0x7d294a[_0x28e36a(0x335)](),_0x1d0149=Math[_0x28e36a(0x2f6)]((_0x55930c-_0x78a73b[_0x28e36a(0x223)])/GRID_H);_0x1f16f3[_0x28e36a(0x2b3)](_0x1d0149,0x0),openAddSession(_0x1f16f3);}},0x1f4);},_0x138362=()=>{isScrolling=!![],clearTimeout(_0x351a8c);},_0x2f234a=()=>{clearTimeout(_0x351a8c);};_0x7d294a['addEventListener']('touchstart',_0x3b6934,{'passive':!![]}),_0x7d294a[_0x496dec(0x24e)](_0x496dec(0x2a3),_0x138362,{'passive':!![]}),_0x7d294a[_0x496dec(0x24e)](_0x496dec(0x212),_0x2f234a),_0x7d294a[_0x496dec(0x24e)](_0x496dec(0x30b),_0x3b6934),_0x7d294a['addEventListener'](_0x496dec(0x1f4),_0x138362),_0x7d294a[_0x496dec(0x24e)]('mouseup',_0x2f234a);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x2b169f=a2_0x21a314,_0x91ccae=document[_0x2b169f(0x2c6)](_0x2b169f(0x319)),_0x4b06d1=_0x91ccae['scrollLeft'],_0x512370=_0x91ccae[_0x2b169f(0x316)],_0x116978=_0x91ccae['clientWidth'];if(_0x512370-(_0x4b06d1+_0x116978)<0x12c){const _0x733fc0=endOffset;endOffset+=0xe,renderDayRange(_0x733fc0+0x1,endOffset),reRenderBlocks();}if(_0x4b06d1<0x12c){const _0x450282=startOffset;startOffset-=0xe,prependDays(startOffset,_0x450282-0x1),_0x91ccae['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x24680c,_0x17f0c8){const _0x15912d=a2_0x21a314,_0x82715b=document['getElementById'](_0x15912d(0x251)),_0x219940=document[_0x15912d(0x2c6)]('gridColumns'),_0x4c55b6=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x534627=new Date();_0x534627[_0x15912d(0x2b3)](0x0,0x0,0x0,0x0);const _0x1d10ef=getLocalDateStr(new Date()),_0x3fced8=document['createDocumentFragment'](),_0x4c0cc5=document[_0x15912d(0x20e)]();for(let _0x115574=_0x24680c;_0x115574<=_0x17f0c8;_0x115574++){const _0x556b42=new Date(_0x534627);_0x556b42[_0x15912d(0x29e)](_0x556b42[_0x15912d(0x254)]()+_0x115574);const _0x500bc6=getLocalDateStr(_0x556b42);let _0x3039a0=_0x556b42[_0x15912d(0x1f8)]()-0x1;if(_0x3039a0===-0x1)_0x3039a0=0x6;const _0x58f0f5=_0x500bc6===_0x1d10ef,_0x4bcc9a=document['createElement'](_0x15912d(0x27e));_0x4bcc9a['className']=_0x15912d(0x2d0)+(_0x58f0f5?_0x15912d(0x240):''),_0x4bcc9a['id']='header-'+_0x500bc6,_0x4bcc9a[_0x15912d(0x1ce)]('data-date',_0x500bc6),_0x4bcc9a[_0x15912d(0x25b)]='<div\x20class=\x22dch-day\x22>'+_0x4c55b6[_0x3039a0]+_0x15912d(0x2bc)+_0x556b42['getDate']()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0x500bc6+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x4bcc9a[_0x15912d(0x265)]=()=>openDayOptions(_0x500bc6,_0x4c55b6[_0x3039a0]+'\x20'+_0x556b42[_0x15912d(0x254)]()),_0x3fced8[_0x15912d(0x2f8)](_0x4bcc9a);const _0x319a49=document[_0x15912d(0x2a2)](_0x15912d(0x27e));_0x319a49[_0x15912d(0x1f9)]=_0x15912d(0x1e9)+(_0x58f0f5?_0x15912d(0x240):''),_0x319a49[_0x15912d(0x1ce)]('data-date',_0x500bc6),_0x319a49[_0x15912d(0x1ce)](_0x15912d(0x305),_0x3039a0),renderEventsForColumn(_0x319a49,_0x500bc6,_0x3039a0),attachLongPressHandler(_0x319a49,_0x556b42),_0x4c0cc5['appendChild'](_0x319a49),updateDayStats(_0x500bc6);}_0x82715b['insertBefore'](_0x3fced8,_0x82715b[_0x15912d(0x23f)]),_0x219940['insertBefore'](_0x4c0cc5,_0x219940[_0x15912d(0x26d)](_0x15912d(0x31a)));}function validateAppointment(_0x183534,_0x5448df,_0x12d8e3,_0xbbce76,_0x49d387){const _0x10e34c=a2_0x21a314,[_0x1810d7,_0x133097]=_0x5448df[_0x10e34c(0x282)](':')[_0x10e34c(0x264)](Number),[_0x15ba80,_0x55cfa6]=_0x12d8e3[_0x10e34c(0x282)](':')['map'](Number),_0x2d3322=_0x1810d7*0x3c+_0x133097,_0x14731d=_0x15ba80*0x3c+_0x55cfa6,_0x2ba308=String(_0x49d387);let _0x32b78a=![],_0x31a424='';for(let _0x5904ae of sessions){if(_0x5904ae[_0x10e34c(0x2b4)]!==_0x183534)continue;if(_0x5904ae[_0x10e34c(0x21f)]===_0x10e34c(0x1f5))continue;if(_0xbbce76&&String(_0x5904ae['id'])===String(_0xbbce76))continue;const [_0x2f5d5d,_0x291508]=_0x5904ae[_0x10e34c(0x313)][_0x10e34c(0x282)](':')['map'](Number),[_0x24fe04,_0x3dba7c]=_0x5904ae[_0x10e34c(0x34a)][_0x10e34c(0x282)](':')[_0x10e34c(0x264)](Number),_0x253d27=_0x2f5d5d*0x3c+_0x291508,_0x54bc7a=_0x24fe04*0x3c+_0x3dba7c;if(Math[_0x10e34c(0x280)](_0x2d3322,_0x253d27)<Math[_0x10e34c(0x310)](_0x14731d,_0x54bc7a)){if(_0x5904ae[_0x10e34c(0x2ad)]&&String(_0x5904ae['clientId'])===_0x2ba308)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0x5904ae[_0x10e34c(0x327)]+_0x10e34c(0x2f3)};_0x32b78a=!![],_0x31a424=_0x5904ae['client'];}}if(_0x32b78a)return{'valid':!![],'warning':'–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20'+_0x31a424};return{'valid':!![]};}function updateDateDisplay(){const _0x95b125=a2_0x21a314,_0x30d2ba=document[_0x95b125(0x2c6)]('inpDate')[_0x95b125(0x320)],_0x413933=document[_0x95b125(0x2c6)](_0x95b125(0x311));if(!_0x30d2ba){_0x413933[_0x95b125(0x246)]='';return;}const [_0x4198ef,_0x4cfce4,_0x225950]=_0x30d2ba['split']('-')[_0x95b125(0x264)](Number),_0x2a2ed5=new Date(_0x4198ef,_0x4cfce4-0x1,_0x225950),_0x43413f={'weekday':'long','day':_0x95b125(0x1f1),'month':_0x95b125(0x21b),'year':_0x95b125(0x1f1)};let _0x57fe87=_0x2a2ed5[_0x95b125(0x206)](_0x95b125(0x222),_0x43413f);_0x57fe87=_0x57fe87['charAt'](0x0)[_0x95b125(0x271)]()+_0x57fe87[_0x95b125(0x29a)](0x1),_0x413933['textContent']=_0x57fe87;}function autoSetEndTime(){const _0x1205bb=a2_0x21a314,_0x34dcde=document['getElementById'](_0x1205bb(0x2f4))[_0x1205bb(0x320)];if(!_0x34dcde)return;const [_0x4c41a2,_0x184f70]=_0x34dcde['split'](':')['map'](Number);let _0x202fb6=_0x4c41a2+0x1;if(_0x202fb6>0x17)_0x202fb6=0x0;const _0x1fe0b4=String(_0x202fb6)[_0x1205bb(0x290)](0x2,'0')+':'+String(_0x184f70)[_0x1205bb(0x290)](0x2,'0');document[_0x1205bb(0x2c6)](_0x1205bb(0x211))[_0x1205bb(0x320)]=_0x1fe0b4;}function populateClientSelect(){const _0x570771=a2_0x21a314,_0x5dbd84=document[_0x570771(0x2c6)]('inpClient');_0x5dbd84[_0x570771(0x25b)]='';if(clients[_0x570771(0x2e0)]===0x0){const _0x826aa7=document[_0x570771(0x2a2)](_0x570771(0x33e));_0x826aa7['text']=_0x570771(0x2d5),_0x5dbd84[_0x570771(0x2f8)](_0x826aa7);return;}clients[_0x570771(0x28e)](_0x4aa6e8=>{const _0xf1494d=_0x570771,_0x29083e=document[_0xf1494d(0x2a2)](_0xf1494d(0x33e));_0x29083e['value']=_0x4aa6e8[_0xf1494d(0x242)],_0x29083e[_0xf1494d(0x246)]=_0x4aa6e8[_0xf1494d(0x242)],_0x5dbd84[_0xf1494d(0x2f8)](_0x29083e);});}function openActionSheet(_0x531cf9){const _0x506f83=a2_0x21a314,_0x19ca55=document[_0x506f83(0x2c6)](_0x506f83(0x302)),_0x71fd99=document[_0x506f83(0x2c6)]('actionSheetOverlay'),_0x21e9c4=document['getElementById']('asTitle'),_0x278abf=document[_0x506f83(0x2c6)](_0x506f83(0x219)),_0x24ff13=document[_0x506f83(0x2c6)](_0x506f83(0x286));_0x71fd99[_0x506f83(0x21c)][_0x506f83(0x250)](_0x506f83(0x24f)),_0x19ca55[_0x506f83(0x21c)][_0x506f83(0x250)]('open');if(_0x531cf9==='save')_0x21e9c4['textContent']=_0x506f83(0x20d),_0x278abf['textContent']='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x278abf[_0x506f83(0x265)]=()=>{const _0x2179d1=_0x506f83;closeActionSheet(),updateSeriesBatch(_0x2179d1(0x33f),tempSessionData);},_0x24ff13[_0x506f83(0x246)]=_0x506f83(0x31c),_0x24ff13[_0x506f83(0x265)]=()=>{const _0x584734=_0x506f83;closeActionSheet(),updateSeriesBatch(_0x584734(0x272),tempSessionData);};else _0x531cf9===_0x506f83(0x300)&&(_0x21e9c4[_0x506f83(0x246)]=_0x506f83(0x299),_0x278abf[_0x506f83(0x246)]=_0x506f83(0x314),_0x278abf[_0x506f83(0x1f9)]='as-button\x20danger',_0x278abf[_0x506f83(0x265)]=()=>{const _0x2e81c3=_0x506f83;closeActionSheet(),commitDelete('single',sessions[_0x2e81c3(0x1db)](_0xcd86b5=>_0xcd86b5['id']===editingId));},_0x24ff13[_0x506f83(0x246)]='–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ',_0x24ff13[_0x506f83(0x1f9)]=_0x506f83(0x1fa),_0x24ff13[_0x506f83(0x265)]=()=>{const _0x26c936=_0x506f83;closeActionSheet(),commitDelete(_0x26c936(0x272),sessions[_0x26c936(0x1db)](_0x36dc2b=>_0x36dc2b['id']===editingId));});}function closeActionSheet(){const _0x333985=a2_0x21a314;document[_0x333985(0x2c6)](_0x333985(0x302))[_0x333985(0x21c)][_0x333985(0x297)](_0x333985(0x1d0)),document['getElementById'](_0x333985(0x1d5))[_0x333985(0x21c)][_0x333985(0x297)](_0x333985(0x24f));}function openSettings(){const _0x4b30bc=a2_0x21a314;openSheet(_0x4b30bc(0x22a));}function saveCoachSettings(){const _0x50688b=a2_0x21a314,_0x396662=document[_0x50688b(0x2c6)](_0x50688b(0x2ee))[_0x50688b(0x320)];localStorage['setItem'](_0x50688b(0x22f),_0x396662),console[_0x50688b(0x341)]('[Settings]\x20Cancel\x20window\x20set\x20to:',_0x396662),DataManager[_0x50688b(0x216)](_0x50688b(0x213),{'settings':{'cancel_window':_0x396662}})[_0x50688b(0x2bb)](_0x1f3a3a=>{const _0x46e9b5=_0x50688b;console['error']('Save\x20settings\x20error:',_0x1f3a3a),showToast(_0x46e9b5(0x2fa),![]);});}function loadCoachSettings(){const _0x2d328d=a2_0x21a314,_0x41a0ee=localStorage[_0x2d328d(0x25c)](_0x2d328d(0x22f));_0x41a0ee&&(document[_0x2d328d(0x2c6)]('settingCancelWindow')[_0x2d328d(0x320)]=_0x41a0ee);}function openRangesSheet(){const _0x436958=a2_0x21a314;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x436958(0x22d));}function addRange(){const _0x474de3=a2_0x21a314,_0x502903=document[_0x474de3(0x2c6)]('rangeStartDate')[_0x474de3(0x320)],_0x28794c=document[_0x474de3(0x2c6)](_0x474de3(0x224))[_0x474de3(0x320)],_0xa58ea6=document[_0x474de3(0x2c6)]('rangeEndDate')[_0x474de3(0x320)],_0x4466f4=document[_0x474de3(0x2c6)]('rangeEndTime')['value'];if(!_0x502903||!_0x28794c||!_0xa58ea6||!_0x4466f4)return alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è');const _0x41e297=_0x502903+'T'+_0x28794c,_0x420616=_0xa58ea6+'T'+_0x4466f4;if(_0x41e297>=_0x420616)return alert('–û—à–∏–±–∫–∞\x20–¥–∞—Ç');specialRanges['push']({'start':_0x41e297,'end':_0x420616}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x474de3(0x216)]('save_settings',{'settings':{'ranges':specialRanges}});}function deleteRange(_0xd9b509){const _0x3d8985=a2_0x21a314;specialRanges[_0x3d8985(0x2d1)](_0xd9b509,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x3d8985(0x2d2)](),DataManager[_0x3d8985(0x216)](_0x3d8985(0x213),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x17728f=a2_0x21a314;document['getElementById']('rangeStartDate')['value']='',document[_0x17728f(0x2c6)](_0x17728f(0x224))['value']=_0x17728f(0x2f2),document[_0x17728f(0x2c6)](_0x17728f(0x253))[_0x17728f(0x320)]='',document[_0x17728f(0x2c6)](_0x17728f(0x256))[_0x17728f(0x320)]=_0x17728f(0x208);}function renderRangesList(){const _0x4ad52f=a2_0x21a314,_0x196627=document[_0x4ad52f(0x2c6)](_0x4ad52f(0x322));_0x196627[_0x4ad52f(0x25b)]='';if(!specialRanges[_0x4ad52f(0x2e0)]){_0x196627['innerHTML']=_0x4ad52f(0x24a);return;}specialRanges['forEach']((_0x47d13b,_0x58f39b)=>{const _0x3c5466=_0x4ad52f,_0x16a116=document[_0x3c5466(0x2a2)]('div');_0x16a116[_0x3c5466(0x1f9)]='range-item';const _0x2d8383=_0x38e6cb=>{const _0x363aa2=_0x3c5466,_0x52aa6e=new Date(_0x38e6cb);return _0x52aa6e[_0x363aa2(0x254)]()+'.'+String(_0x52aa6e[_0x363aa2(0x2ba)]()+0x1)[_0x363aa2(0x290)](0x2,'0')+'\x20'+String(_0x52aa6e[_0x363aa2(0x2f0)]())[_0x363aa2(0x290)](0x2,'0')+':'+String(_0x52aa6e['getMinutes']())[_0x363aa2(0x290)](0x2,'0');};_0x16a116[_0x3c5466(0x25b)]=_0x3c5466(0x338)+_0x2d8383(_0x47d13b[_0x3c5466(0x313)])+'\x20‚Äî\x20'+_0x2d8383(_0x47d13b['end'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange('+_0x58f39b+_0x3c5466(0x1dd),_0x196627[_0x3c5466(0x2f8)](_0x16a116);});}function scrollToToday(){const _0x5d04a9=a2_0x21a314,_0x4c9936=getLocalDateStr(new Date()),_0x5584e3=document[_0x5d04a9(0x2c6)](_0x5d04a9(0x1d9)+_0x4c9936),_0x6ea259=document['getElementById']('matrixViewport');if(_0x5584e3&&_0x6ea259){const _0x5e0ec7=_0x6ea259[_0x5d04a9(0x2eb)],_0x6fc1a1=_0x5584e3[_0x5d04a9(0x1f0)],_0x40d75c=_0x5584e3[_0x5d04a9(0x2c8)];_0x6ea259[_0x5d04a9(0x2ae)]=_0x6fc1a1-_0x5e0ec7/0x2+_0x40d75c/0x2,_0x6ea259[_0x5d04a9(0x262)]=0x9*GRID_H;}}function onScroll(){const _0x56e7ef=a2_0x21a314,_0x4d8fd9=document[_0x56e7ef(0x2c6)]('matrixViewport'),_0x5d9bdc=document['querySelectorAll'](_0x56e7ef(0x2a7));for(let _0x49bd2d of _0x5d9bdc)if(_0x49bd2d[_0x56e7ef(0x1f0)]>=_0x4d8fd9[_0x56e7ef(0x2ae)]){const _0x35d5bd=new Date(_0x49bd2d[_0x56e7ef(0x25f)](_0x56e7ef(0x337)));document[_0x56e7ef(0x2c6)](_0x56e7ef(0x29b))[_0x56e7ef(0x246)]=_0x35d5bd[_0x56e7ef(0x1fc)]('ru',{'month':_0x56e7ef(0x21b)})[_0x56e7ef(0x271)]()+'\x20'+_0x35d5bd[_0x56e7ef(0x2ab)]();break;}}function showToast(_0x9a4b09,_0x459881=![]){const _0x1e7e28=a2_0x21a314,_0x24112c=document[_0x1e7e28(0x2c6)](_0x1e7e28(0x229));_0x24112c[_0x1e7e28(0x1f9)]=_0x1e7e28(0x332)+(_0x459881?_0x1e7e28(0x34c):''),document[_0x1e7e28(0x2c6)](_0x1e7e28(0x269))[_0x1e7e28(0x246)]=_0x459881?_0x1e7e28(0x207):_0x1e7e28(0x2a4),document[_0x1e7e28(0x2c6)](_0x1e7e28(0x202))['textContent']=_0x9a4b09,_0x24112c[_0x1e7e28(0x21c)][_0x1e7e28(0x250)](_0x1e7e28(0x2fd)),setTimeout(()=>{const _0x4b8907=_0x1e7e28;_0x24112c['classList'][_0x4b8907(0x297)](_0x4b8907(0x2fd));},0xbb8);}function openDayOptions(_0x1c1c19,_0xa05e91){const _0x3375b8=a2_0x21a314;selectedDayForOptions=_0x1c1c19,document[_0x3375b8(0x2c6)]('dayOptionsTitle')[_0x3375b8(0x246)]=_0xa05e91,openSheet(_0x3375b8(0x1e1));}function toggleDayOff(){const _0x25a982=a2_0x21a314;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x25a982(0x2fe),reRenderBlocks(),closeAllSheets(),DataManager[_0x25a982(0x2d2)](),DataManager['fetchFromServer'](_0x25a982(0x213),{'settings':{'exceptions':dateExceptions}}));}function a2_0x2d7c(){const _0x3dca47=['findIndex','</span>\x20/\x20','actionSheetOverlay','[Series]\x20Skipped\x20','msg','timeLineBadge','header-','inpRecurring','find','note',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','789048DsrFPl','random','entries','dayOptionsSheet','10px','borderLeftColor','getTime','batch_sync','completed','complete','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','day-column\x20','px\x200px','uc_clients_v9','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','...','Telegram','sort','offsetLeft','numeric','push','pe-col-header','mousemove','cancelled','includes','rgba(255,\x20159,\x2010,\x200.3)','getDay','className','as-button\x20danger\x20bold','pattern','toLocaleString','uc_settings_v9','pe-time-label','btn-primary\x20btn-secondary','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','blocked-range-part\x20stripe-bg','toastMessage','syncLoad','startsWith','warning','toLocaleDateString','–£—Å–ø–µ—à–Ω–æ','23:59','#gridColumns\x20.day-column','doWorkHours','anStart','expand','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','createDocumentFragment','.period-switch\x20.p-btn','guest','inpEnd','touchend','save_settings','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','mini','fetchFromServer','settings','total','asBtnOne','statLoadCard','long','classList','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','#050505','status','setItem','clients','ru-RU','top','rangeStartTime','update','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','done','rgba(255,\x2069,\x2058,\x200.15)','toast','settingsSheet','anTotalStats','\x20days','rangesSheet','undefined','uc_settings_cancel_window','btn-status-toggle\x20undo-mode',':\x20Client\x20already\x20booked','3245394TOoemo','\x20-\x20','localeCompare','router.html','block','backgroundPosition','\x20‚Äî\x20','[Notify]\x20Network\x20Failed','sheetTitle','event-card','POST','mergeServerData','client-stat-card','firstChild','today','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','name','btn-primary\x20btn-danger','create','none','textContent','pe-corner','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','[Sync]\x20Loading\x20','charAt','addEventListener','active','add','daysHeaderTrack','flex','rangeEndDate','getDate','checked','rangeEndTime','Error\x20setting\x20back\x20button:','16xJcSlU','var(--acc-red)','%\x20+\x202px)','innerHTML','getItem','1760360FjKgHp','getText','getAttribute','now','cancel_window','scrollTop','T23:59:59','map','onclick','ready','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','100%','toastTitle','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','initDataUnsafe','querySelector','touches','data','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','toUpperCase','series','\x20status-completed','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','BackButton','uc_sessions_v9','constructor','15mgCXxS','planned','target','9gSLzVE','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','div','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','max','json','split','href','doEventsList','search','asBtnSeries','user','[Notify]\x20Detected\x20Client\x20ID:','parse','seriesId','ranges','px\x20-','round','forEach','strokeDashoffset','padStart','borderColor','all','Error\x20setting\x20color:','filter','#fff','clientY','remove','anPercent','–£–¥–∞–ª–µ–Ω–∏–µ','slice','headerMonth','text/plain;charset=UTF-8','DOMContentLoaded','setDate','borderRadius','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','rgba(255,\x2069,\x2058,\x200.3)','createElement','touchmove','–ò–Ω—Ñ–æ','send_notification',':00</span>','.day-col-header','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','globalTimeLine','rgba(255,255,255,0.05)','getFullYear','keys','clientId','scrollLeft','exceptions','362850kqUUnX','getMinutes','anDonutCircle','setHours','dateStr','substr','height','then','display','stopPropagation','getMonth','catch','</div><div\x20class=\x22dch-num\x22>','%\x20-\x204px)','pe-cell\x20','WebApp','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','Local\x20Load\x20Error','toString','scroll','patternInfoBox','4439853IePyGo','getElementById','btnDelete','offsetWidth','var(--acc-current)','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','width','warn','recurringOptionContainer','Server\x20Error','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','day-col-header\x20','splice','saveLocally','<span>','\x20–∏–∑\x20','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','cancel','</div>','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','deleted','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','[Notify]\x20Attempting\x20to\x20send:','analyticsSheet','Critical\x20TMA\x20Error:','null','timeColumn','length','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','seriesCountContainer','stat-','[Notify]\x20Server\x20Response:','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','setBackgroundColor','doBusyHours','anEnd','inpDate','colIndex','clientWidth','.event-card','sessionSheet','settingCancelWindow','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','getHours','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','00:00',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','inpStart','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','floor','inpNote','appendChild','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','from','isArray','show','off','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','delete','init_load','actionSheet','left','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','data-day-idx',':00','btnStatusToggle','doDateHeader','valid','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','mousedown','T00:00:00','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','blocked-slot\x20stripe-bg','stringify','min','sheetDateSubtitle','querySelectorAll','start','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','</div><div\x20class=\x22ev-time\x22>','scrollWidth','onClick','disableVerticalSwipes','matrixViewport','.day-column','apply','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','custom','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','[Notify]\x20Error:\x20sessionData\x20is\x20null','value','send','rangesList','background','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','1541890MxniZx','patternEditor','client','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','calc(','indexOf','error','toFixed','calendar','(((.+)+)+)+$','var(--acc-green)','toast-notification\x20','rgba(48,\x20209,\x2088,\x200.15)','Unknown','getBoundingClientRect','var(--acc-orange)','data-date','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','style','offClick','.day-off-overlay','inpSeriesCount','loadLocal','option','single','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','log',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','rgba(100,100,100,0.5)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','peGrid','week','gridColumns','[Notify]\x20Error:\x20Text\x20generation\x20failed','color','end','91538gxMquz','success','day-off-overlay\x20stripe-bg','setAttribute','<div\x20class=\x22dch-day\x22>','open','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','<div\x20class=\x22ev-title\x22>'];a2_0x2d7c=function(){return _0x3dca47;};return a2_0x2d7c();}function clearDayOff(){const _0x34ddd4=a2_0x21a314;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x34ddd4(0x2d2)](),DataManager[_0x34ddd4(0x216)]('save_settings',{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x48a0f6){const _0x1294ce=a2_0x21a314;document[_0x1294ce(0x2c6)]('overlay')['classList'][_0x1294ce(0x250)]('active'),document[_0x1294ce(0x2c6)](_0x48a0f6)[_0x1294ce(0x21c)]['add']('open');}function closeAllSheets(){const _0x184a94=a2_0x21a314;document['getElementById']('overlay')[_0x184a94(0x21c)]['remove'](_0x184a94(0x24f)),document[_0x184a94(0x312)]('.sheet')[_0x184a94(0x28e)](_0x19cc65=>_0x19cc65['classList'][_0x184a94(0x297)]('open'));}function openPatternEditor(){const _0x4da3a2=a2_0x21a314;closeAllSheets(),document[_0x4da3a2(0x2c6)](_0x4da3a2(0x326))[_0x4da3a2(0x21c)][_0x4da3a2(0x250)](_0x4da3a2(0x1d0)),renderPatternEditor();}function closePatternEditor(){const _0x151f86=a2_0x21a314;document['getElementById'](_0x151f86(0x326))['classList'][_0x151f86(0x297)](_0x151f86(0x1d0));}function savePattern(){const _0x5358f7=a2_0x21a314;document['getElementById'](_0x5358f7(0x326))['classList'][_0x5358f7(0x297)]('open'),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x5358f7(0x216)](_0x5358f7(0x213),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x97855f=a2_0x21a314,_0x50078c=document[_0x97855f(0x2c6)](_0x97855f(0x345));_0x50078c[_0x97855f(0x25b)]='';const _0x8bdb90=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x36b06b=document['createElement'](_0x97855f(0x27e));_0x36b06b['className']=_0x97855f(0x247),_0x50078c['appendChild'](_0x36b06b),_0x8bdb90[_0x97855f(0x28e)]((_0x1232e6,_0x1f8bca)=>{const _0x3c0fe9=_0x97855f,_0xe4c00e=document[_0x3c0fe9(0x2a2)](_0x3c0fe9(0x27e));_0xe4c00e[_0x3c0fe9(0x1f9)]=_0x3c0fe9(0x1f3),_0xe4c00e['innerHTML']=_0x1232e6+_0x3c0fe9(0x226),_0xe4c00e[_0x3c0fe9(0x265)]=()=>toggleColPattern(_0x1f8bca),_0x50078c[_0x3c0fe9(0x2f8)](_0xe4c00e);});for(let _0x5acc8c=0x0;_0x5acc8c<0x18;_0x5acc8c++){const _0x4faf04=document[_0x97855f(0x2a2)](_0x97855f(0x27e));_0x4faf04[_0x97855f(0x1f9)]=_0x97855f(0x1fe),_0x4faf04[_0x97855f(0x25b)]='<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>'+String(_0x5acc8c)[_0x97855f(0x290)](0x2,'0')+_0x97855f(0x306),_0x4faf04[_0x97855f(0x265)]=()=>toggleRowPattern(_0x5acc8c),_0x50078c[_0x97855f(0x2f8)](_0x4faf04);for(let _0x112883=0x0;_0x112883<0x7;_0x112883++){const _0x31a01a=document[_0x97855f(0x2a2)]('div'),_0x2b618d=(availabilityPattern[_0x112883]||[])['includes'](_0x5acc8c),_0x191a21=!_0x2b618d;_0x31a01a['className']=_0x97855f(0x2be)+(_0x191a21?_0x97855f(0x24f):''),_0x31a01a['onclick']=()=>toggleSinglePattern(_0x112883,_0x5acc8c),_0x50078c[_0x97855f(0x2f8)](_0x31a01a);}}}function toggleSinglePattern(_0x3179e9,_0x3617ab){const _0x3f3bc7=a2_0x21a314;if(!availabilityPattern[_0x3179e9])availabilityPattern[_0x3179e9]=[];const _0x48396b=availabilityPattern[_0x3179e9],_0x31091e=_0x48396b[_0x3f3bc7(0x32c)](_0x3617ab);_0x31091e===-0x1?_0x48396b[_0x3f3bc7(0x1f2)](_0x3617ab):_0x48396b[_0x3f3bc7(0x2d1)](_0x31091e,0x1),renderPatternEditor();}function toggleColPattern(_0x1fbe48){const _0x2be6be=a2_0x21a314;if(!availabilityPattern[_0x1fbe48])availabilityPattern[_0x1fbe48]=[];const _0x273528=availabilityPattern[_0x1fbe48];_0x273528[_0x2be6be(0x2e0)]===0x0?availabilityPattern[_0x1fbe48]=Array[_0x2be6be(0x2fb)]({'length':0x18},(_0x3103af,_0x2fcc08)=>_0x2fcc08):availabilityPattern[_0x1fbe48]=[],renderPatternEditor();}function toggleRowPattern(_0x3c5b64){const _0x431a38=a2_0x21a314;let _0x400e81=!![];for(let _0x347e13=0x0;_0x347e13<0x7;_0x347e13++){if((availabilityPattern[_0x347e13]||[])[_0x431a38(0x1f6)](_0x3c5b64)){_0x400e81=![];break;}}for(let _0x259301=0x0;_0x259301<0x7;_0x259301++){if(!availabilityPattern[_0x259301])availabilityPattern[_0x259301]=[];const _0x2a49ca=availabilityPattern[_0x259301]['indexOf'](_0x3c5b64);if(_0x400e81){if(_0x2a49ca===-0x1)availabilityPattern[_0x259301]['push'](_0x3c5b64);}else{if(_0x2a49ca!==-0x1)availabilityPattern[_0x259301]['splice'](_0x2a49ca,0x1);}}renderPatternEditor();}function renderPCol(_0x390b63,_0x17abe1){const _0x4550c9=a2_0x21a314;_0x390b63[_0x4550c9(0x25b)]='';const _0x5b1b27=Math[_0x4550c9(0x28d)](_0x390b63[_0x4550c9(0x1f0)]);(availabilityPattern[_0x17abe1]||[])['forEach'](_0x2dd977=>{const _0x1f40e0=_0x4550c9,_0x247ba0=document[_0x1f40e0(0x2a2)](_0x1f40e0(0x27e));_0x247ba0[_0x1f40e0(0x1f9)]=_0x1f40e0(0x30e);const _0x568a65=_0x2dd977*GRID_H;_0x247ba0[_0x1f40e0(0x339)]['top']=_0x568a65+'px',_0x247ba0[_0x1f40e0(0x339)][_0x1f40e0(0x237)]='-'+_0x5b1b27+_0x1f40e0(0x28c)+_0x568a65+'px',_0x247ba0[_0x1f40e0(0x265)]=_0x370387=>{const _0xcf5075=_0x1f40e0;_0x370387[_0xcf5075(0x2b9)](),toggleSinglePattern(_0x17abe1,_0x2dd977);},_0x390b63[_0x1f40e0(0x2f8)](_0x247ba0);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x439287=a2_0x21a314,_0x25c21f=new Date(),_0xe1a0de=document[_0x439287(0x2c6)](_0x439287(0x2a9)),_0x4c149d=document[_0x439287(0x2c6)](_0x439287(0x1d8)),_0x50bdc8=(_0x25c21f[_0x439287(0x2f0)]()*0x3c+_0x25c21f['getMinutes']())/0x3c*GRID_H;_0xe1a0de['style'][_0x439287(0x223)]=_0x50bdc8+'px',_0xe1a0de[_0x439287(0x339)][_0x439287(0x2b8)]=_0x439287(0x236),_0x4c149d['textContent']=String(_0x25c21f['getHours']())['padStart'](0x2,'0')+':'+String(_0x25c21f[_0x439287(0x2b1)]())[_0x439287(0x290)](0x2,'0'),_0x4c149d[_0x439287(0x339)]['display']=_0x439287(0x236),_0x4c149d[_0x439287(0x339)]['top']=_0x50bdc8+'px';}document[a2_0x21a314(0x24e)](a2_0x21a314(0x29d),init);function openDayOptions(_0x572f25){const _0x50c46b=a2_0x21a314;selectedDayForOptions=_0x572f25;const _0x4f4ea8=new Date(_0x572f25),_0xb001d8={'weekday':_0x50c46b(0x21b),'day':_0x50c46b(0x1f1),'month':_0x50c46b(0x21b),'year':_0x50c46b(0x1f1)},_0x16580c=_0x4f4ea8[_0x50c46b(0x206)]('ru-RU',_0xb001d8);document[_0x50c46b(0x2c6)](_0x50c46b(0x308))[_0x50c46b(0x246)]=_0x16580c[_0x50c46b(0x24d)](0x0)[_0x50c46b(0x271)]()+_0x16580c['slice'](0x1);let _0x412302=_0x4f4ea8[_0x50c46b(0x1f8)]()-0x1;if(_0x412302===-0x1)_0x412302=0x6;const _0x2d6f0f=availabilityPattern[_0x412302]||[],_0x3dc5c3=0x18-_0x2d6f0f['length'],_0x96db4d=_0x3dc5c3*0x3c,_0x3055b2=sessions[_0x50c46b(0x294)](_0x1d7224=>_0x1d7224['dateStr']===_0x572f25&&_0x1d7224['status']!==_0x50c46b(0x1f5));let _0x2549de=_0x3055b2[_0x50c46b(0x264)](_0x5dd9d6=>{const _0x5df700=_0x50c46b,[_0x524edd,_0x4e6c25]=_0x5dd9d6[_0x5df700(0x313)]['split'](':')['map'](Number),[_0x176372,_0x83f82]=_0x5dd9d6[_0x5df700(0x34a)][_0x5df700(0x282)](':')['map'](Number);return[_0x524edd*0x3c+_0x4e6c25,_0x176372*0x3c+_0x83f82];});_0x2549de['sort']((_0x1c61ef,_0x152131)=>_0x1c61ef[0x0]-_0x152131[0x0]);let _0x38704f=[];if(_0x2549de[_0x50c46b(0x2e0)]>0x0){let _0x13fa1b=_0x2549de[0x0];for(let _0x571888=0x1;_0x571888<_0x2549de[_0x50c46b(0x2e0)];_0x571888++){_0x2549de[_0x571888][0x0]<_0x13fa1b[0x1]?_0x13fa1b[0x1]=Math[_0x50c46b(0x280)](_0x13fa1b[0x1],_0x2549de[_0x571888][0x1]):(_0x38704f[_0x50c46b(0x1f2)](_0x13fa1b),_0x13fa1b=_0x2549de[_0x571888]);}_0x38704f['push'](_0x13fa1b);}let _0x2a181d=0x0;_0x38704f['forEach'](_0x4c7c61=>_0x2a181d+=_0x4c7c61[0x1]-_0x4c7c61[0x0]),document[_0x50c46b(0x2c6)](_0x50c46b(0x20a))[_0x50c46b(0x246)]=formatMinsToHrs(_0x96db4d),document[_0x50c46b(0x2c6)](_0x50c46b(0x2e7))[_0x50c46b(0x246)]=formatMinsToHrs(_0x2a181d);const _0x33067b=_0x96db4d>0x0?Math['round'](_0x2a181d/_0x96db4d*0x64):0x0,_0x3e7606=document['getElementById']('doLoadPercent');_0x3e7606[_0x50c46b(0x246)]=_0x33067b+'%';const _0x312863=document['getElementById'](_0x50c46b(0x21a));if(_0x33067b>0x64)_0x3e7606[_0x50c46b(0x339)]['color']=_0x50c46b(0x259),_0x312863[_0x50c46b(0x339)][_0x50c46b(0x291)]=_0x50c46b(0x2a1);else _0x33067b>0x50?(_0x3e7606[_0x50c46b(0x339)][_0x50c46b(0x349)]=_0x50c46b(0x336),_0x312863['style'][_0x50c46b(0x291)]=_0x50c46b(0x1f7)):(_0x3e7606[_0x50c46b(0x339)][_0x50c46b(0x349)]=_0x50c46b(0x331),_0x312863['style']['borderColor']=_0x50c46b(0x2aa));const _0xb70c98=document[_0x50c46b(0x2c6)](_0x50c46b(0x284));_0xb70c98[_0x50c46b(0x25b)]='';_0x3055b2['length']===0x0?_0xb70c98[_0x50c46b(0x25b)]=_0x50c46b(0x2f5):(_0x3055b2['sort']((_0x588475,_0x38737c)=>_0x588475[_0x50c46b(0x313)][_0x50c46b(0x234)](_0x38737c['start'])),_0x3055b2[_0x50c46b(0x28e)](_0x1501a6=>{const _0x1242b6=_0x50c46b,_0x242f96=clients[_0x1242b6(0x1db)](_0x4c903c=>_0x4c903c['name']===_0x1501a6['client']),_0x26c2f1=_0x242f96?_0x242f96['color']:_0x1242b6(0x295),_0x5dcae0=_0x1501a6[_0x1242b6(0x21f)]===_0x1242b6(0x1e6),_0x14850d=_0x5dcae0?_0x1242b6(0x214):'',_0x294d45=document[_0x1242b6(0x2a2)](_0x1242b6(0x27e));_0x294d45[_0x1242b6(0x1f9)]='de-item',_0x294d45[_0x1242b6(0x339)]['borderLeftColor']=_0x26c2f1,_0x294d45[_0x1242b6(0x25b)]=_0x1242b6(0x344)+_0x1501a6[_0x1242b6(0x313)]+_0x1242b6(0x233)+_0x1501a6[_0x1242b6(0x34a)]+_0x1242b6(0x24b)+_0x1501a6[_0x1242b6(0x327)]+_0x1242b6(0x31e)+_0x14850d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0xb70c98[_0x1242b6(0x2f8)](_0x294d45);}));const _0x1abbf3=document[_0x50c46b(0x2c6)]('btnDayToggle'),_0x292d35=dateExceptions[_0x572f25]===_0x50c46b(0x2fe);_0x292d35?(_0x1abbf3[_0x50c46b(0x246)]=_0x50c46b(0x27d),_0x1abbf3['className']=_0x50c46b(0x1ff),_0x1abbf3[_0x50c46b(0x339)][_0x50c46b(0x349)]='var(--acc-green)',_0x1abbf3[_0x50c46b(0x339)]['background']=_0x50c46b(0x333)):(_0x1abbf3[_0x50c46b(0x246)]=_0x50c46b(0x249),_0x1abbf3[_0x50c46b(0x1f9)]=_0x50c46b(0x243),_0x1abbf3[_0x50c46b(0x339)][_0x50c46b(0x349)]='var(--acc-red)',_0x1abbf3[_0x50c46b(0x339)][_0x50c46b(0x323)]=_0x50c46b(0x228)),openSheet(_0x50c46b(0x1e1));}let currentAnPeriod=a2_0x21a314(0x346);function openAnalytics(){const _0x5737=a2_0x21a314,_0x299a26=document['querySelector']('.period-switch\x20.p-btn');setAnalyticsPeriod('week',_0x299a26),closeAllSheets(),openSheet(_0x5737(0x2dc));}function setAnalyticsPeriod(_0xefe575,_0x2754b2){const _0x6d2f63=a2_0x21a314;currentAnPeriod=_0xefe575,document[_0x6d2f63(0x312)](_0x6d2f63(0x20f))[_0x6d2f63(0x28e)](_0x1bc396=>_0x1bc396[_0x6d2f63(0x21c)][_0x6d2f63(0x297)](_0x6d2f63(0x24f)));if(_0x2754b2)_0x2754b2['classList']['add'](_0x6d2f63(0x24f));const _0xa5a1eb=document[_0x6d2f63(0x2c6)]('anCustomDates');_0xa5a1eb[_0x6d2f63(0x339)][_0x6d2f63(0x2b8)]=_0xefe575===_0x6d2f63(0x31d)?_0x6d2f63(0x252):_0x6d2f63(0x245);const _0x35e852=new Date();let _0x5cfbb0=new Date(),_0x34c5c7=new Date();if(_0xefe575===_0x6d2f63(0x346))_0x5cfbb0=getStartOfWeek(_0x35e852),_0x34c5c7=new Date(_0x5cfbb0),_0x34c5c7[_0x6d2f63(0x29e)](_0x34c5c7[_0x6d2f63(0x254)]()+0x6);else{if(_0xefe575==='month')_0x5cfbb0=new Date(_0x35e852['getFullYear'](),_0x35e852[_0x6d2f63(0x2ba)](),0x1),_0x34c5c7=new Date(_0x35e852[_0x6d2f63(0x2ab)](),_0x35e852[_0x6d2f63(0x2ba)]()+0x1,0x0);else{!document[_0x6d2f63(0x2c6)](_0x6d2f63(0x20b))['value']&&(document[_0x6d2f63(0x2c6)](_0x6d2f63(0x20b))[_0x6d2f63(0x320)]=getLocalDateStr(_0x35e852),document[_0x6d2f63(0x2c6)](_0x6d2f63(0x2e8))[_0x6d2f63(0x320)]=getLocalDateStr(_0x35e852));refreshAnalytics();return;}}document['getElementById'](_0x6d2f63(0x20b))[_0x6d2f63(0x320)]=getLocalDateStr(_0x5cfbb0),document[_0x6d2f63(0x2c6)]('anEnd')['value']=getLocalDateStr(_0x34c5c7),refreshAnalytics();}function refreshAnalytics(){const _0xfc8d03=a2_0x21a314,_0x3dbd15=document[_0xfc8d03(0x2c6)](_0xfc8d03(0x20b))['value'],_0x2f24d5=document['getElementById'](_0xfc8d03(0x2e8))['value'];if(!_0x3dbd15||!_0x2f24d5)return;const _0x249a79=sessions[_0xfc8d03(0x294)](_0xda1375=>_0xda1375[_0xfc8d03(0x2b4)]>=_0x3dbd15&&_0xda1375[_0xfc8d03(0x2b4)]<=_0x2f24d5&&_0xda1375['status']!==_0xfc8d03(0x1f5)),_0x49a637=_0x249a79[_0xfc8d03(0x2e0)],_0x36e746=_0x249a79[_0xfc8d03(0x294)](_0x654da2=>_0x654da2[_0xfc8d03(0x21f)]===_0xfc8d03(0x1e6))['length'],_0x58aab2=_0x49a637>0x0?Math[_0xfc8d03(0x28d)](_0x36e746/_0x49a637*0x64):0x0;document[_0xfc8d03(0x2c6)](_0xfc8d03(0x298))[_0xfc8d03(0x246)]=_0x58aab2+'%',document[_0xfc8d03(0x2c6)](_0xfc8d03(0x22b))[_0xfc8d03(0x246)]=_0x36e746+_0xfc8d03(0x2d4)+_0x49a637+_0xfc8d03(0x248);const _0x24af62=document[_0xfc8d03(0x2c6)](_0xfc8d03(0x2b2)),_0x26f24a=0x2*Math['PI']*0x23,_0x314413=_0x26f24a-_0x58aab2/0x64*_0x26f24a;_0x24af62[_0xfc8d03(0x339)][_0xfc8d03(0x28f)]=_0x314413;const _0x2df541={};_0x249a79['forEach'](_0xdcb742=>{const _0x582eed=_0xfc8d03;if(!_0x2df541[_0xdcb742[_0x582eed(0x327)]]){const _0x1d0925=clients[_0x582eed(0x1db)](_0x1443ba=>_0x1443ba['name']===_0xdcb742[_0x582eed(0x327)]);_0x2df541[_0xdcb742['client']]={'total':0x0,'done':0x0,'color':_0x1d0925?_0x1d0925[_0x582eed(0x349)]:_0x582eed(0x295)};}_0x2df541[_0xdcb742[_0x582eed(0x327)]]['total']++;if(_0xdcb742[_0x582eed(0x21f)]===_0x582eed(0x1e6))_0x2df541[_0xdcb742[_0x582eed(0x327)]][_0x582eed(0x227)]++;});const _0x50f887=document[_0xfc8d03(0x2c6)]('analyticsList');_0x50f887[_0xfc8d03(0x25b)]='';const _0x2eaf96=Object[_0xfc8d03(0x1e0)](_0x2df541)[_0xfc8d03(0x1ef)]((_0x20414e,_0x1cd5f6)=>_0x1cd5f6[0x1][_0xfc8d03(0x218)]-_0x20414e[0x1][_0xfc8d03(0x218)]);if(_0x2eaf96[_0xfc8d03(0x2e0)]===0x0){_0x50f887[_0xfc8d03(0x25b)]='<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>';return;}_0x2eaf96[_0xfc8d03(0x28e)](([_0x2a9fc4,_0x1cdb19])=>{const _0x484f1c=_0xfc8d03,_0x1196d5=Math[_0x484f1c(0x28d)](_0x1cdb19['done']/_0x1cdb19[_0x484f1c(0x218)]*0x64),_0x263929=document[_0x484f1c(0x2a2)](_0x484f1c(0x27e));_0x263929[_0x484f1c(0x1f9)]=_0x484f1c(0x23e),_0x263929[_0x484f1c(0x339)][_0x484f1c(0x1e3)]=_0x1cdb19[_0x484f1c(0x349)],_0x263929['innerHTML']=_0x484f1c(0x30a)+_0x2a9fc4+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x1cdb19[_0x484f1c(0x227)]+_0x484f1c(0x1d4)+_0x1cdb19[_0x484f1c(0x218)]+_0x484f1c(0x2f1)+_0x1196d5+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x50f887[_0x484f1c(0x2f8)](_0x263929);});}function formatMinsToHrs(_0x3e28ba){const _0x448bb6=a2_0x21a314;if(_0x3e28ba===0x0)return'0';const _0x265374=Math[_0x448bb6(0x2f6)](_0x3e28ba/0x3c),_0xb7611f=_0x3e28ba%0x3c;if(_0xb7611f===0x0)return _0x265374+'—á';return _0x265374+'—á\x20'+_0xb7611f+'–º';}