const a2_0x4b79d9=a2_0x53a9;(function(_0x2f038a,_0x3e9623){const _0x38a531=a2_0x53a9,_0x36bd9a=_0x2f038a();while(!![]){try{const _0x147cec=-parseInt(_0x38a531(0x20a))/0x1*(parseInt(_0x38a531(0x1d5))/0x2)+parseInt(_0x38a531(0x120))/0x3+-parseInt(_0x38a531(0x1b4))/0x4+parseInt(_0x38a531(0x238))/0x5+-parseInt(_0x38a531(0x1be))/0x6*(parseInt(_0x38a531(0x1a3))/0x7)+parseInt(_0x38a531(0x20f))/0x8+parseInt(_0x38a531(0x210))/0x9;if(_0x147cec===_0x3e9623)break;else _0x36bd9a['push'](_0x36bd9a['shift']());}catch(_0x439fd2){_0x36bd9a['push'](_0x36bd9a['shift']());}}}(a2_0x3e97,0x8ee1c),function initTMA(){const _0x294671=a2_0x53a9,_0x49dc45=(function(){let _0x2520cf=!![];return function(_0x16aaef,_0x3e468c){const _0x19bf44=_0x2520cf?function(){const _0x49888d=a2_0x53a9;if(_0x3e468c){const _0x39cb71=_0x3e468c[_0x49888d(0x240)](_0x16aaef,arguments);return _0x3e468c=null,_0x39cb71;}}:function(){};return _0x2520cf=![],_0x19bf44;};}()),_0x457007=_0x49dc45(this,function(){const _0x1ae565=a2_0x53a9;return _0x457007[_0x1ae565(0x14b)]()[_0x1ae565(0x190)]('(((.+)+)+)+$')['toString']()[_0x1ae565(0x1ae)](_0x457007)[_0x1ae565(0x190)](_0x1ae565(0x27e));});_0x457007();try{const _0x55449c=window[_0x294671(0x26d)]?.['WebApp'];if(!_0x55449c)return;_0x55449c[_0x294671(0x24d)](),_0x55449c[_0x294671(0x158)]();try{_0x55449c[_0x294671(0x195)](_0x294671(0x15c)),_0x55449c['setBackgroundColor']&&_0x55449c['setBackgroundColor'](_0x294671(0x15c));}catch(_0x4099f4){console[_0x294671(0x1df)](_0x294671(0x1a0),_0x4099f4);}try{_0x55449c['BackButton']&&(_0x55449c[_0x294671(0x164)][_0x294671(0x1b0)](),_0x55449c[_0x294671(0x164)][_0x294671(0x27c)](),_0x55449c['BackButton'][_0x294671(0x131)](function(){const _0x1d56ac=_0x294671;window['location'][_0x1d56ac(0x15d)]=_0x1d56ac(0x223);}));}catch(_0x21ee18){console[_0x294671(0x1df)]('Error\x20setting\x20back\x20button:',_0x21ee18);}try{if(_0x55449c[_0x294671(0x1bc)])_0x55449c[_0x294671(0x1bc)]();}catch(_0xe72a11){}}catch(_0x232fcf){console['error'](_0x294671(0x18d),_0x232fcf);}}());function isAdmin(){const _0x42668c=a2_0x53a9;try{const _0x44236c=Number(window[_0x42668c(0x26d)]?.[_0x42668c(0x16a)]?.[_0x42668c(0x12d)]?.[_0x42668c(0x1b2)]?.['id']);return _0x44236c===0xbaf7174;}catch(_0x497285){return![];}}const APP_VERSION=a2_0x4b79d9(0x166),API_URL=a2_0x4b79d9(0x1ad),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x4b79d9(0x1b5),KEY_SESSIONS=a2_0x4b79d9(0x16d),KEY_SETTINGS=a2_0x4b79d9(0x173);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x261aa2=a2_0x4b79d9;return window[_0x261aa2(0x26d)]?.[_0x261aa2(0x16a)]?.[_0x261aa2(0x12d)]?.[_0x261aa2(0x1b2)]?.['id']||_0x261aa2(0x211);},'saveLocally'(){const _0x289b42=a2_0x4b79d9;try{localStorage[_0x289b42(0x148)](KEY_CLIENTS,JSON[_0x289b42(0x1e4)](clients)),localStorage[_0x289b42(0x148)](KEY_SESSIONS,JSON[_0x289b42(0x1e4)](sessions)),localStorage['setItem'](KEY_SETTINGS,JSON[_0x289b42(0x1e4)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x5ba23c){console['error'](_0x289b42(0x156),_0x5ba23c);}},'loadLocal'(){const _0x19a765=a2_0x4b79d9;try{const _0x1f56c5=localStorage['getItem'](KEY_CLIENTS);if(_0x1f56c5)clients=JSON['parse'](_0x1f56c5);const _0x1329ca=localStorage[_0x19a765(0x1ec)](KEY_SESSIONS);if(_0x1329ca)sessions=JSON[_0x19a765(0x16c)](_0x1329ca);const _0x53a6f7=localStorage[_0x19a765(0x1ec)](KEY_SETTINGS);if(_0x53a6f7){const _0x2b8b27=JSON[_0x19a765(0x16c)](_0x53a6f7);if(_0x2b8b27[_0x19a765(0x132)])availabilityPattern=_0x2b8b27[_0x19a765(0x132)];if(_0x2b8b27[_0x19a765(0x1cd)])dateExceptions=_0x2b8b27[_0x19a765(0x1cd)];if(_0x2b8b27[_0x19a765(0x176)])specialRanges=_0x2b8b27[_0x19a765(0x176)];}else{for(let _0x3fd9e3=0x0;_0x3fd9e3<0x7;_0x3fd9e3++)availabilityPattern[_0x3fd9e3]=Array[_0x19a765(0x255)]({'length':0xc},(_0xf3fb68,_0x2dd904)=>_0x2dd904+0x9);}}catch(_0x47de82){console[_0x19a765(0x172)](_0x19a765(0x1aa),_0x47de82);}},async 'fetchFromServer'(_0x29a22f,_0x2e900b={}){const _0x173507=a2_0x4b79d9,_0x52b097=window[_0x173507(0x26d)]?.[_0x173507(0x16a)],_0x73355b={'action':_0x29a22f,'init_data':_0x52b097?.[_0x173507(0x1a2)]||'',..._0x2e900b};try{const _0x233ae1=await fetch(API_URL,{'method':_0x173507(0x262),'headers':{'Content-Type':_0x173507(0x16e)},'body':JSON[_0x173507(0x1e4)](_0x73355b)}),_0x365bd5=await _0x233ae1[_0x173507(0x200)]();if(!_0x365bd5['ok'])throw new Error(_0x365bd5[_0x173507(0x172)]||_0x173507(0x1f6));return _0x365bd5['data'];}catch(_0x3408fb){console['error'](_0x173507(0x250)+_0x29a22f+_0x173507(0x21a),_0x3408fb);throw _0x3408fb;}},async 'syncLoad'(){const _0x4389e0=a2_0x4b79d9,_0x6942c6=new Date(),_0x5c5732=_0x6942c6[_0x4389e0(0x139)]()+'-'+String(_0x6942c6['getMonth']()+0x1)[_0x4389e0(0x26b)](0x2,'0'),_0x10c4c9=new Date(_0x6942c6);_0x10c4c9[_0x4389e0(0x128)](_0x6942c6['getMonth']()+0x1);const _0x4cfdce=_0x10c4c9['getFullYear']()+'-'+String(_0x10c4c9[_0x4389e0(0x16b)]()+0x1)[_0x4389e0(0x26b)](0x2,'0'),_0x240603=Date[_0x4389e0(0x14e)]();console[_0x4389e0(0x1df)](_0x4389e0(0x1e0)+_0x5c5732+',\x20'+_0x4cfdce+_0x4389e0(0x1d0));try{const [_0xeaf990,_0x1e34b3]=await Promise[_0x4389e0(0x260)]([this[_0x4389e0(0x219)](_0x4389e0(0x1a7),{'month_str':_0x5c5732}),this[_0x4389e0(0x219)](_0x4389e0(0x1a7),{'month_str':_0x4cfdce})]);if(lastUserActionTime>_0x240603)return console[_0x4389e0(0x1fc)](_0x4389e0(0x230)),![];return this[_0x4389e0(0x124)](_0xeaf990,_0x5c5732),this[_0x4389e0(0x124)](_0x1e34b3,_0x4cfdce),this[_0x4389e0(0x142)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x4bea14){console['error'](_0x4bea14);throw _0x4bea14;}},'mergeServerData'(_0x18135e,_0x20546a){const _0x170ad3=a2_0x4b79d9;if(!_0x18135e)return;_0x18135e[_0x170ad3(0x177)]&&Array['isArray'](_0x18135e[_0x170ad3(0x177)])&&(clients=_0x18135e[_0x170ad3(0x177)]);if(_0x18135e[_0x170ad3(0x28d)]){if(_0x18135e[_0x170ad3(0x28d)]['pattern'])availabilityPattern=_0x18135e[_0x170ad3(0x28d)][_0x170ad3(0x132)];if(_0x18135e[_0x170ad3(0x28d)][_0x170ad3(0x1cd)])dateExceptions=_0x18135e[_0x170ad3(0x28d)][_0x170ad3(0x1cd)];if(_0x18135e[_0x170ad3(0x28d)]['ranges'])specialRanges=_0x18135e['settings']['ranges'];if(_0x18135e[_0x170ad3(0x28d)][_0x170ad3(0x234)]){localStorage[_0x170ad3(0x148)](_0x170ad3(0x19c),_0x18135e[_0x170ad3(0x28d)]['cancel_window']);const _0x1f00f6=document[_0x170ad3(0x11c)](_0x170ad3(0x191));if(_0x1f00f6)_0x1f00f6['value']=_0x18135e[_0x170ad3(0x28d)][_0x170ad3(0x234)];}}_0x18135e[_0x170ad3(0x1fd)]&&(sessions=sessions[_0x170ad3(0x288)](_0x248449=>!_0x248449[_0x170ad3(0x1ee)][_0x170ad3(0x1d3)](_0x20546a)),Object[_0x170ad3(0x202)](_0x18135e[_0x170ad3(0x1fd)])['forEach'](_0x2505a3=>{const _0x4732ec=_0x18135e['calendar'][_0x2505a3];_0x4732ec['forEach'](_0x5949f9=>{const _0x212962=a2_0x53a9,_0x5661b3=clients[_0x212962(0x1ff)](_0x4c5c99=>String(_0x4c5c99['id'])===String(_0x5949f9['c']));sessions[_0x212962(0x17b)]({'id':_0x5949f9['i'],'clientId':_0x5949f9['c'],'client':_0x5661b3?_0x5661b3[_0x212962(0x1ef)]:'Unknown','dateStr':_0x20546a+'-'+_0x2505a3['padStart'](0x2,'0'),'start':_0x5949f9['s'],'end':_0x5949f9['e'],'status':_0x5949f9['st']||_0x212962(0x174),'note':_0x5949f9['n']||'','seriesId':_0x5949f9['sid']||null});});}));},async 'syncBatch'(_0x227f83){const _0x120ebc=a2_0x4b79d9,_0x27fd66=[...new Set(_0x227f83)],_0x5d93e7=_0x27fd66['map'](_0x529f57=>{const _0x33b808=a2_0x53a9,_0x6fe017=sessions[_0x33b808(0x288)](_0x2b7afc=>_0x2b7afc[_0x33b808(0x1ee)]===_0x529f57&&_0x2b7afc[_0x33b808(0x27f)]!=='deleted'),_0x1408ed=_0x6fe017[_0x33b808(0x24c)](_0x44bf3f=>({'i':_0x44bf3f['id'],'c':_0x44bf3f['clientId'],'s':_0x44bf3f['start'],'e':_0x44bf3f[_0x33b808(0x1fb)],'st':_0x44bf3f[_0x33b808(0x27f)],'n':_0x44bf3f[_0x33b808(0x13d)],'sid':_0x44bf3f[_0x33b808(0x20d)]}));return{'date':_0x529f57,'day_data':_0x1408ed};});if(_0x5d93e7[_0x120ebc(0x28f)]===0x0)return;console[_0x120ebc(0x1df)](_0x120ebc(0x1e3)+_0x5d93e7[_0x120ebc(0x28f)]+_0x120ebc(0x151)),await this[_0x120ebc(0x219)]('batch_sync',{'changes':_0x5d93e7});}};async function init(){const _0x1e2f02=a2_0x4b79d9;DataManager[_0x1e2f02(0x22c)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x1e2f02(0x11c)]('matrixViewport')[_0x1e2f02(0x145)](_0x1e2f02(0x236),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x1e2f02(0x26f)]()[_0x1e2f02(0x159)](()=>{showToast('–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ',!![]);})[_0x1e2f02(0x126)](_0x4ddca1=>{const _0xeab41b=_0x1e2f02;showToast(_0xeab41b(0x280),![]);});}function generateId(){const _0x411c6=a2_0x4b79d9;return Date[_0x411c6(0x14e)]()[_0x411c6(0x14b)](0x24)+Math[_0x411c6(0x189)]()[_0x411c6(0x14b)](0x24)['substr'](0x2,0x5);}function toggleSeriesInput(){const _0x30aa01=a2_0x4b79d9,_0x244a81=document['getElementById'](_0x30aa01(0x258))[_0x30aa01(0x251)],_0x2d68e8=document[_0x30aa01(0x11c)](_0x30aa01(0x171));_0x2d68e8[_0x30aa01(0x143)][_0x30aa01(0x209)]=_0x244a81?_0x30aa01(0x292):_0x30aa01(0x155);const _0x52459b=document[_0x30aa01(0x11c)](_0x30aa01(0x1a6));_0x52459b['style'][_0x30aa01(0x17e)]=_0x244a81?_0x30aa01(0x17c):_0x30aa01(0x179);}function openAddSession(_0x48b38d){const _0x43c51b=a2_0x4b79d9;editingId=null,populateClientSelect(),document[_0x43c51b(0x11c)](_0x43c51b(0x226))[_0x43c51b(0x144)]=_0x43c51b(0x261),document['getElementById'](_0x43c51b(0x284))[_0x43c51b(0x143)][_0x43c51b(0x209)]='none',document[_0x43c51b(0x11c)](_0x43c51b(0x150))[_0x43c51b(0x143)][_0x43c51b(0x209)]=_0x43c51b(0x155);const _0x2bfca8=document['getElementById'](_0x43c51b(0x1a6)),_0x1a91e4=document[_0x43c51b(0x11c)]('seriesCountContainer');_0x2bfca8[_0x43c51b(0x143)][_0x43c51b(0x209)]='flex',_0x2bfca8['style'][_0x43c51b(0x17e)]=_0x43c51b(0x179),document[_0x43c51b(0x11c)](_0x43c51b(0x258))[_0x43c51b(0x251)]=![],document[_0x43c51b(0x11c)](_0x43c51b(0x214))[_0x43c51b(0x1f2)]=0x4,_0x1a91e4[_0x43c51b(0x143)][_0x43c51b(0x209)]=_0x43c51b(0x155),document[_0x43c51b(0x11c)]('inpDate')['value']=getLocalDateStr(_0x48b38d),updateDateDisplay();const _0x16b85a=_0x48b38d['getHours']();document[_0x43c51b(0x11c)](_0x43c51b(0x20b))['value']=String(_0x16b85a)[_0x43c51b(0x26b)](0x2,'0')+':00',document[_0x43c51b(0x11c)]('inpEnd')[_0x43c51b(0x1f2)]=String(_0x16b85a+0x1)[_0x43c51b(0x26b)](0x2,'0')+_0x43c51b(0x289),openSheet(_0x43c51b(0x290));}function openEdit(_0x2d5872){const _0x538409=a2_0x4b79d9;editingId=_0x2d5872['id'],populateClientSelect(),document[_0x538409(0x11c)](_0x538409(0x226))[_0x538409(0x144)]=_0x538409(0x1de),document[_0x538409(0x11c)](_0x538409(0x284))[_0x538409(0x143)][_0x538409(0x209)]=_0x538409(0x292);const _0x528651=document[_0x538409(0x11c)](_0x538409(0x150));_0x528651[_0x538409(0x143)][_0x538409(0x209)]=_0x538409(0x11f);_0x2d5872['status']==='completed'?(_0x528651[_0x538409(0x272)]=_0x538409(0x217),_0x528651[_0x538409(0x1b1)]=_0x538409(0x21f)):(_0x528651[_0x538409(0x272)]=_0x538409(0x14c),_0x528651[_0x538409(0x1b1)]='<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É');const _0x2d16d1=!!_0x2d5872['seriesId'];document[_0x538409(0x11c)]('recurringOptionContainer')[_0x538409(0x143)][_0x538409(0x209)]=_0x538409(0x155),document[_0x538409(0x11c)](_0x538409(0x171))['style'][_0x538409(0x209)]=_0x538409(0x155),_0x2d16d1?(document['getElementById'](_0x538409(0x23e))[_0x538409(0x143)][_0x538409(0x209)]='flex',document['getElementById'](_0x538409(0x23e))[_0x538409(0x293)](_0x538409(0x265))['textContent']='–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫'):document['getElementById']('patternInfoBox')['style'][_0x538409(0x209)]='none',document[_0x538409(0x11c)](_0x538409(0x26a))['value']=_0x2d5872[_0x538409(0x188)],document['getElementById']('inpDate')['value']=_0x2d5872['dateStr'],document[_0x538409(0x11c)](_0x538409(0x20b))[_0x538409(0x1f2)]=_0x2d5872[_0x538409(0x244)],document['getElementById'](_0x538409(0x162))[_0x538409(0x1f2)]=_0x2d5872['end'],document[_0x538409(0x11c)](_0x538409(0x220))[_0x538409(0x1f2)]=_0x2d5872[_0x538409(0x13d)]||'',updateDateDisplay(),openSheet('sessionSheet');}async function trySaveSession(){const _0x409db0=a2_0x4b79d9,_0x1284bc=document[_0x409db0(0x11c)](_0x409db0(0x26a))['value'],_0x537cb8=document['getElementById'](_0x409db0(0x152))[_0x409db0(0x1f2)],_0x535c09=document[_0x409db0(0x11c)]('inpStart')[_0x409db0(0x1f2)],_0x30a7c6=document[_0x409db0(0x11c)]('inpEnd')[_0x409db0(0x1f2)],_0x97a41b=document['getElementById'](_0x409db0(0x220))[_0x409db0(0x1f2)],_0x31c63a=document[_0x409db0(0x11c)]('inpRecurring')[_0x409db0(0x251)];let _0x7fe588=0x4;if(_0x31c63a){const _0x28a1ad=parseInt(document[_0x409db0(0x11c)](_0x409db0(0x214))[_0x409db0(0x1f2)]);if(!_0x28a1ad||_0x28a1ad<0x2){showToast(_0x409db0(0x1ca),![]);return;}if(_0x28a1ad>0x64){showToast('–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑',![]);return;}_0x7fe588=_0x28a1ad;}const _0x2f7407=clients[_0x409db0(0x1ff)](_0x12a7c0=>_0x12a7c0[_0x409db0(0x1ef)]===_0x1284bc);if(!_0x2f7407){showToast(_0x409db0(0x291),![]);return;}const _0x5392e0=validateAppointment(_0x537cb8,_0x535c09,_0x30a7c6,editingId,_0x2f7407['id']);if(!_0x5392e0[_0x409db0(0x208)]){showToast(_0x5392e0['msg'],![]);return;}_0x5392e0['warning']&&showToast(_0x5392e0[_0x409db0(0x20e)],![]);const _0x4d9bc1={'client':_0x1284bc,'clientId':_0x2f7407['id'],'start':_0x535c09,'end':_0x30a7c6,'note':_0x97a41b,'status':_0x409db0(0x174)},_0x332730=editingId?sessions[_0x409db0(0x1ff)](_0x451af1=>_0x451af1['id']===editingId):null;if(_0x332730&&_0x332730[_0x409db0(0x20d)]){tempSessionData={..._0x4d9bc1,'dateStr':_0x537cb8,'id':editingId,'seriesId':_0x332730[_0x409db0(0x20d)]},openActionSheet(_0x409db0(0x1b8));return;}let _0x1cbf0f=null;if(!editingId)_0x1cbf0f=_0x409db0(0x1c1);else{if(_0x332730){if(String(_0x332730[_0x409db0(0x186)])!==String(_0x2f7407['id']))console[_0x409db0(0x1df)]('[Notify]\x20Client\x20SWAP\x20detected'),NotificationManager[_0x409db0(0x27d)](_0x409db0(0x180),_0x332730),_0x1cbf0f=_0x409db0(0x1c1);else(_0x332730[_0x409db0(0x244)]!==_0x535c09||_0x332730[_0x409db0(0x1fb)]!==_0x30a7c6||_0x332730['dateStr']!==_0x537cb8)&&(_0x1cbf0f='update');}}if(!editingId&&_0x31c63a){createBatchSeries(_0x4d9bc1,_0x537cb8,_0x7fe588),NotificationManager[_0x409db0(0x27d)](_0x409db0(0x1c1),{..._0x4d9bc1,'dateStr':_0x537cb8});return;}lastUserActionTime=Date[_0x409db0(0x14e)]();const _0x3aca5a={..._0x4d9bc1,'dateStr':_0x537cb8,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x3aca5a),_0x1cbf0f&&NotificationManager[_0x409db0(0x27d)](_0x1cbf0f,_0x3aca5a);}function toggleSessionStatus(){const _0x2d2259=a2_0x4b79d9;lastUserActionTime=Date[_0x2d2259(0x14e)]();const _0x58daab=sessions['find'](_0x5a39f9=>_0x5a39f9['id']===editingId);if(!_0x58daab)return;const _0x1e65f8=_0x58daab[_0x2d2259(0x27f)]===_0x2d2259(0x21d)?_0x2d2259(0x174):_0x2d2259(0x21d);_0x58daab[_0x2d2259(0x27f)]=_0x1e65f8,saveSingleSession(_0x58daab),_0x1e65f8===_0x2d2259(0x21d)&&NotificationManager['send'](_0x2d2259(0x216),_0x58daab),showToast(_0x1e65f8===_0x2d2259(0x21d)?_0x2d2259(0x263):_0x2d2259(0x1a5),!![]);}function validateAppointment(_0x4b9442,_0x10480f,_0x39d3a7,_0x3d8d0d,_0x1ccab9){const _0x49311e=a2_0x4b79d9,[_0x3868ba,_0x1c264c]=_0x10480f[_0x49311e(0x25c)](':')[_0x49311e(0x24c)](Number),[_0x1e80a9,_0x310c9c]=_0x39d3a7[_0x49311e(0x25c)](':')['map'](Number),_0x2ffc97=_0x3868ba*0x3c+_0x1c264c,_0x2ffe8f=_0x1e80a9*0x3c+_0x310c9c,_0x5d7fb0=String(_0x1ccab9);let _0x3295f8=![],_0x358f15='';for(let _0x543ecb of sessions){if(_0x543ecb[_0x49311e(0x1ee)]!==_0x4b9442)continue;if(_0x543ecb['status']==='cancelled')continue;if(_0x3d8d0d&&String(_0x543ecb['id'])===String(_0x3d8d0d))continue;const [_0xee93f7,_0x1fc37e]=_0x543ecb[_0x49311e(0x244)][_0x49311e(0x25c)](':')['map'](Number),[_0x21a385,_0x4959b0]=_0x543ecb[_0x49311e(0x1fb)][_0x49311e(0x25c)](':')[_0x49311e(0x24c)](Number),_0x49b5d3=_0xee93f7*0x3c+_0x1fc37e,_0x25bacb=_0x21a385*0x3c+_0x4959b0;if(Math['max'](_0x2ffc97,_0x49b5d3)<Math[_0x49311e(0x268)](_0x2ffe8f,_0x25bacb)){if(_0x543ecb[_0x49311e(0x186)]&&String(_0x543ecb[_0x49311e(0x186)])===_0x5d7fb0)return{'valid':![],'msg':_0x49311e(0x24b)+_0x543ecb['client']+_0x49311e(0x133)};_0x3295f8=!![],_0x358f15=_0x543ecb[_0x49311e(0x188)];}}if(_0x3295f8)return{'valid':!![],'warning':_0x49311e(0x21e)+_0x358f15};return{'valid':!![]};}function saveSingleSession(_0x2645fe){const _0x1e64d4=a2_0x4b79d9;if(editingId){const _0x4d20e0=sessions[_0x1e64d4(0x129)](_0x1cd5c9=>_0x1cd5c9['id']===editingId);if(_0x4d20e0!==-0x1)sessions[_0x4d20e0]=_0x2645fe;}else sessions[_0x1e64d4(0x17b)](_0x2645fe);afterSaveAction([_0x2645fe[_0x1e64d4(0x1ee)]]);}function createBatchSeries(_0x4d1a9a,_0x2629c9,_0x3e4a86){const _0x1f872e=a2_0x4b79d9,_0x353e64=generateId(),_0x5c173b=[],_0x56fbdc=[];let _0x594664=0x0,_0x11ddf3=new Date(_0x2629c9);for(let _0x27be02=0x0;_0x27be02<_0x3e4a86;_0x27be02++){const _0x5c2e92=getLocalDateStr(_0x11ddf3),_0x48d457=validateAppointment(_0x5c2e92,_0x4d1a9a[_0x1f872e(0x244)],_0x4d1a9a[_0x1f872e(0x1fb)],null,_0x4d1a9a[_0x1f872e(0x186)]);if(!_0x48d457[_0x1f872e(0x208)])console[_0x1f872e(0x1df)](_0x1f872e(0x1bf)+_0x5c2e92+_0x1f872e(0x175)),_0x594664++;else{const _0x56e044={..._0x4d1a9a,'id':generateId(),'dateStr':_0x5c2e92,'seriesId':_0x353e64};_0x56fbdc[_0x1f872e(0x17b)](_0x56e044),_0x5c173b[_0x1f872e(0x17b)](_0x5c2e92);}_0x11ddf3[_0x1f872e(0x1ab)](_0x11ddf3[_0x1f872e(0x157)]()+0x7);}if(_0x56fbdc[_0x1f872e(0x28f)]===0x0){showToast('–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!',![]);return;}sessions[_0x1f872e(0x17b)](..._0x56fbdc),lastUserActionTime=Date['now']();let _0x5ca5a6=_0x1f872e(0x137)+_0x56fbdc[_0x1f872e(0x28f)];_0x594664>0x0&&(_0x5ca5a6+=_0x1f872e(0x207)+_0x594664+')'),showToast(_0x5ca5a6,!![]),afterSaveAction(_0x5c173b);}function updateSeriesBatch(_0x3fe2e8,_0xee5bf6){const _0x5a921c=a2_0x4b79d9,_0x1826a2=[],_0x433341=_0xee5bf6[_0x5a921c(0x20d)];if(_0x3fe2e8==='single'){const _0x2ee18b={..._0xee5bf6,'seriesId':null},_0x2ad3a9=sessions[_0x5a921c(0x129)](_0x26556d=>_0x26556d['id']===_0xee5bf6['id']);if(_0x2ad3a9!==-0x1)sessions[_0x2ad3a9]=_0x2ee18b;_0x1826a2['push'](_0x2ee18b[_0x5a921c(0x1ee)]);}else{if(_0x3fe2e8===_0x5a921c(0x135)){const _0x4b69ca=_0xee5bf6[_0x5a921c(0x1ee)];sessions[_0x5a921c(0x197)]((_0x42369d,_0x37d288)=>{const _0x12848d=_0x5a921c;_0x42369d['seriesId']===_0x433341&&_0x42369d['dateStr']>=_0x4b69ca&&(sessions[_0x37d288]={...sessions[_0x37d288],'start':_0xee5bf6[_0x12848d(0x244)],'end':_0xee5bf6[_0x12848d(0x1fb)],'note':_0xee5bf6[_0x12848d(0x13d)],'client':_0xee5bf6['client'],'clientId':_0xee5bf6[_0x12848d(0x186)]},_0x1826a2[_0x12848d(0x17b)](_0x42369d['dateStr']));});}}afterSaveAction(_0x1826a2);}function tryDeleteSession(){const _0x285549=a2_0x4b79d9,_0x343d8e=sessions['find'](_0x105edc=>_0x105edc['id']===editingId);if(!_0x343d8e)return;_0x343d8e['seriesId']?openActionSheet('delete'):commitDelete(_0x285549(0x167),_0x343d8e);}function commitDelete(_0x4d1bd7,_0x31d9d2){const _0x2f67a8=a2_0x4b79d9;lastUserActionTime=Date['now'](),NotificationManager[_0x2f67a8(0x27d)](_0x2f67a8(0x180),_0x31d9d2);const _0x8beaf1=[];if(_0x4d1bd7===_0x2f67a8(0x167))sessions=sessions[_0x2f67a8(0x288)](_0x38e4b6=>_0x38e4b6['id']!==_0x31d9d2['id']),_0x8beaf1['push'](_0x31d9d2[_0x2f67a8(0x1ee)]);else{if(_0x4d1bd7===_0x2f67a8(0x135)){const _0x109437=_0x31d9d2['dateStr'],_0x323022=_0x31d9d2['seriesId'];sessions[_0x2f67a8(0x197)](_0x3d59f5=>{const _0x366934=_0x2f67a8;_0x3d59f5[_0x366934(0x20d)]===_0x323022&&_0x3d59f5[_0x366934(0x1ee)]>=_0x109437&&_0x8beaf1['push'](_0x3d59f5[_0x366934(0x1ee)]);}),sessions=sessions[_0x2f67a8(0x288)](_0x6e3125=>!(_0x6e3125[_0x2f67a8(0x20d)]===_0x323022&&_0x6e3125[_0x2f67a8(0x1ee)]>=_0x109437));}}afterSaveAction(_0x8beaf1);}function afterSaveAction(_0xd5a092){const _0x275635=a2_0x4b79d9;DataManager['saveLocally'](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x275635(0x233)](_0xd5a092)['then'](()=>console[_0x275635(0x1df)]('Batch\x20Sync\x20OK'))['catch'](_0xf8a057=>showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ',![]));}const NotificationManager={'formatDate'(_0x358bd3){const _0x8752c9=a2_0x4b79d9,_0x4cbfd8=new Date(_0x358bd3),_0x1da544={'weekday':'long','day':'numeric','month':_0x8752c9(0x259)};let _0x38a53e=_0x4cbfd8['toLocaleDateString'](_0x8752c9(0x15b),_0x1da544);return _0x38a53e[_0x8752c9(0x19b)](0x0)['toUpperCase']()+_0x38a53e[_0x8752c9(0x21b)](0x1);},'getText'(_0x2a68e9,_0x4c8487){const _0x5523d7=a2_0x4b79d9,_0xa964=this[_0x5523d7(0x11d)](_0x4c8487[_0x5523d7(0x1ee)]);switch(_0x2a68e9){case'create':return'<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a'+(_0x5523d7(0x243)+_0xa964+'\x0a')+(_0x5523d7(0x28e)+_0x4c8487[_0x5523d7(0x244)]+_0x5523d7(0x1c8)+_0x4c8487[_0x5523d7(0x1fb)]+'\x0a\x0a')+'–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™';case _0x5523d7(0x221):return'<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a'+_0x5523d7(0x23f)+('<b>‚úÖ\x20'+_0x4c8487[_0x5523d7(0x244)]+_0x5523d7(0x1c8)+_0x4c8487[_0x5523d7(0x1fb)]+'</b>\x0a\x0a')+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0xa964);case'cancel':return _0x5523d7(0x12b)+(_0x5523d7(0x18c)+_0xa964+'\x20('+_0x4c8487[_0x5523d7(0x244)]+_0x5523d7(0x1db));case _0x5523d7(0x216):return _0x5523d7(0x1dd)+'–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a'+_0x5523d7(0x122);default:return'';}},async 'send'(_0xcfdc1,_0x4d8f6b){const _0x170567=a2_0x4b79d9;console[_0x170567(0x1df)](_0x170567(0x13a),_0xcfdc1,_0x4d8f6b);if(!_0x4d8f6b){console['error']('[Notify]\x20Error:\x20sessionData\x20is\x20null');return;}const _0xe4d019=String(_0x4d8f6b['clientId']);console[_0x170567(0x1df)](_0x170567(0x281),_0xe4d019);if(!_0x4d8f6b[_0x170567(0x186)]||_0xe4d019===_0x170567(0x182)||_0xe4d019===_0x170567(0x25f)){console[_0x170567(0x172)](_0x170567(0x163));if(_0x4d8f6b[_0x170567(0x188)]){const _0x2bfb04=clients['find'](_0x51d8dc=>_0x51d8dc[_0x170567(0x1ef)]===_0x4d8f6b[_0x170567(0x188)]);if(_0x2bfb04)return console[_0x170567(0x1df)]('[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:',_0x2bfb04['id']),this[_0x170567(0x27d)](_0xcfdc1,{..._0x4d8f6b,'clientId':_0x2bfb04['id']});}return;}if(_0xe4d019[_0x170567(0x28f)]<0x5){console[_0x170567(0x1fc)]('[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)',_0xe4d019);return;}const _0x25cdf9=this[_0x170567(0x282)](_0xcfdc1,_0x4d8f6b);if(!_0x25cdf9){console[_0x170567(0x172)](_0x170567(0x283));return;}console['log'](_0x170567(0x161)+_0xe4d019+_0x170567(0x1d0)),DataManager[_0x170567(0x219)](_0x170567(0x276),{'chatId':_0xe4d019,'text':_0x25cdf9})[_0x170567(0x159)](_0x4ed677=>console['log'](_0x170567(0x242),_0x4ed677))[_0x170567(0x126)](_0x2ce1e2=>console['error'](_0x170567(0x1c4),_0x2ce1e2));}};function getLocalDateStr(_0x2331b3){const _0x338ca0=a2_0x4b79d9,_0x226cde=_0x2331b3[_0x338ca0(0x139)](),_0x1e51d0=String(_0x2331b3[_0x338ca0(0x16b)]()+0x1)['padStart'](0x2,'0'),_0x43cfe9=String(_0x2331b3[_0x338ca0(0x157)]())['padStart'](0x2,'0');return _0x226cde+'-'+_0x1e51d0+'-'+_0x43cfe9;}function getDateStr(_0x3318bf){const _0x2a023a=a2_0x4b79d9,_0x5b68e9=new Date();return _0x5b68e9[_0x2a023a(0x1ab)](_0x5b68e9[_0x2a023a(0x157)]()+_0x3318bf),getLocalDateStr(_0x5b68e9);}function getStartOfWeek(_0x34f7ab){const _0x46f2f1=a2_0x4b79d9,_0x1800f0=new Date(_0x34f7ab),_0x4b7ef5=_0x1800f0[_0x46f2f1(0x271)](),_0x5e2629=_0x1800f0[_0x46f2f1(0x157)]()-_0x4b7ef5+(_0x4b7ef5===0x0?-0x6:0x1);return _0x1800f0['setDate'](_0x5e2629),_0x1800f0[_0x46f2f1(0x1ed)](0x0,0x0,0x0,0x0),_0x1800f0;}function hexToRgba(_0x4f5fd3,_0x1f6c06){const _0x54f7c5=a2_0x4b79d9;if(!_0x4f5fd3)return'rgba(100,100,100,0.5)';let _0x15a89d=0x0,_0x1f088c=0x0,_0x1f6e39=0x0;if(_0x4f5fd3[_0x54f7c5(0x28f)]===0x4)_0x15a89d='0x'+_0x4f5fd3[0x1]+_0x4f5fd3[0x1],_0x1f088c='0x'+_0x4f5fd3[0x2]+_0x4f5fd3[0x2],_0x1f6e39='0x'+_0x4f5fd3[0x3]+_0x4f5fd3[0x3];else _0x4f5fd3[_0x54f7c5(0x28f)]===0x7&&(_0x15a89d='0x'+_0x4f5fd3[0x1]+_0x4f5fd3[0x2],_0x1f088c='0x'+_0x4f5fd3[0x3]+_0x4f5fd3[0x4],_0x1f6e39='0x'+_0x4f5fd3[0x5]+_0x4f5fd3[0x6]);return'rgba('+ +_0x15a89d+',\x20'+ +_0x1f088c+',\x20'+ +_0x1f6e39+',\x20'+_0x1f6c06+')';}function renderTimeColumn(){const _0x4736c7=a2_0x4b79d9,_0x569f4e=document['getElementById'](_0x4736c7(0x18e)),_0x359a85=document[_0x4736c7(0x11c)]('timeLineBadge');_0x569f4e[_0x4736c7(0x1b1)]='',_0x569f4e['appendChild'](_0x359a85);for(let _0x176539=0x0;_0x176539<0x18;_0x176539++){const _0x5be186=document[_0x4736c7(0x23c)](_0x4736c7(0x231));_0x5be186[_0x4736c7(0x272)]=_0x4736c7(0x1e2);if(_0x176539>0x0)_0x5be186['innerHTML']=_0x4736c7(0x1b7)+String(_0x176539)[_0x4736c7(0x26b)](0x2,'0')+':00</span>';_0x569f4e[_0x4736c7(0x28c)](_0x5be186);}}function renderDayRange(_0x467221,_0x4292a2){const _0x1694ca=a2_0x4b79d9,_0x49e39b=document[_0x1694ca(0x11c)](_0x1694ca(0x1d4)),_0x4fe3fa=document[_0x1694ca(0x11c)](_0x1694ca(0x239)),_0x4ef0e6=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0xaf0e12=new Date();_0xaf0e12[_0x1694ca(0x1ed)](0x0,0x0,0x0,0x0);const _0x338b2e=getLocalDateStr(new Date());for(let _0xa32ba7=_0x467221;_0xa32ba7<=_0x4292a2;_0xa32ba7++){const _0x5de5bd=new Date(_0xaf0e12);_0x5de5bd[_0x1694ca(0x1ab)](_0x5de5bd['getDate']()+_0xa32ba7);const _0x53421=getLocalDateStr(_0x5de5bd);let _0xf439fa=_0x5de5bd['getDay']()-0x1;if(_0xf439fa===-0x1)_0xf439fa=0x6;const _0x1167d7=_0x53421===_0x338b2e,_0x34dcd3=document[_0x1694ca(0x23c)](_0x1694ca(0x231));_0x34dcd3[_0x1694ca(0x272)]='day-col-header\x20'+(_0x1167d7?_0x1694ca(0x1b3):''),_0x34dcd3['id']='header-'+_0x53421,_0x34dcd3[_0x1694ca(0x19f)]('data-date',_0x53421),_0x34dcd3[_0x1694ca(0x1b1)]='<div\x20class=\x22dch-day\x22>'+_0x4ef0e6[_0xf439fa]+_0x1694ca(0x153)+_0x5de5bd['getDate']()+_0x1694ca(0x24e)+_0x53421+_0x1694ca(0x1f7),_0x34dcd3[_0x1694ca(0x1f1)]=()=>openDayOptions(_0x53421,_0x4ef0e6[_0xf439fa]+'\x20'+_0x5de5bd[_0x1694ca(0x157)]()),_0x49e39b['appendChild'](_0x34dcd3);const _0x5c5d0d=document['createElement'](_0x1694ca(0x231));_0x5c5d0d[_0x1694ca(0x272)]=_0x1694ca(0x1a4)+(_0x1167d7?_0x1694ca(0x1b3):''),_0x5c5d0d[_0x1694ca(0x19f)]('data-date',_0x53421),_0x5c5d0d[_0x1694ca(0x19f)](_0x1694ca(0x12a),_0xf439fa),renderEventsForColumn(_0x5c5d0d,_0x53421,_0xf439fa),attachLongPressHandler(_0x5c5d0d,_0x5de5bd),_0x4fe3fa['appendChild'](_0x5c5d0d),updateDayStats(_0x53421);}}function reRenderBlocks(){const _0x190514=a2_0x4b79d9;document[_0x190514(0x199)]('#gridColumns\x20.day-column')[_0x190514(0x197)](_0x59bd82=>{const _0x3bdc5f=_0x190514;_0x59bd82[_0x3bdc5f(0x199)](_0x3bdc5f(0x1f5))['forEach'](_0x55309c=>_0x55309c['remove']());const _0x5c6e13=_0x59bd82['getAttribute'](_0x3bdc5f(0x19a)),_0x27e63d=parseInt(_0x59bd82['getAttribute']('data-day-idx')),_0x3f7fe4=Math[_0x3bdc5f(0x1ba)](_0x59bd82[_0x3bdc5f(0x15f)]);(availabilityPattern[_0x27e63d]||[])[_0x3bdc5f(0x197)](_0x1a72cb=>{const _0x32c4cb=_0x3bdc5f,_0x2ab6c3=document[_0x32c4cb(0x23c)]('div');_0x2ab6c3[_0x32c4cb(0x272)]=_0x32c4cb(0x1c6);const _0x4e13d7=_0x1a72cb*GRID_H;_0x2ab6c3['style']['top']=_0x4e13d7+'px',_0x2ab6c3[_0x32c4cb(0x143)][_0x32c4cb(0x12f)]='-'+_0x3f7fe4+_0x32c4cb(0x249)+_0x4e13d7+'px',_0x59bd82['appendChild'](_0x2ab6c3);});if(specialRanges&&specialRanges['length']>0x0){const _0x28ec55=new Date(_0x5c6e13+_0x3bdc5f(0x1f8))[_0x3bdc5f(0x232)](),_0x2ace79=new Date(_0x5c6e13+_0x3bdc5f(0x267))[_0x3bdc5f(0x232)]();specialRanges[_0x3bdc5f(0x197)](_0x5f032f=>{const _0x2e7576=_0x3bdc5f,_0xe1b96=new Date(_0x5f032f[_0x2e7576(0x244)])[_0x2e7576(0x232)](),_0x584383=new Date(_0x5f032f[_0x2e7576(0x1fb)])['getTime'](),_0x4e80ad=Math[_0x2e7576(0x184)](_0x28ec55,_0xe1b96),_0x54f18b=Math['min'](_0x2ace79,_0x584383);if(_0x4e80ad<_0x54f18b){if(_0x4e80ad<=_0x28ec55&&_0x54f18b>=_0x2ace79-0xea60){if(!_0x59bd82[_0x2e7576(0x293)](_0x2e7576(0x229))){const _0x5599f7=document[_0x2e7576(0x23c)](_0x2e7576(0x231));_0x5599f7[_0x2e7576(0x272)]=_0x2e7576(0x121),_0x5599f7[_0x2e7576(0x143)][_0x2e7576(0x12f)]='-'+_0x3f7fe4+_0x2e7576(0x224),_0x59bd82[_0x2e7576(0x28c)](_0x5599f7);}}else{const _0x567613=(_0x4e80ad-_0x28ec55)/0x36ee80*GRID_H,_0x35950a=(_0x54f18b-_0x4e80ad)/0x36ee80*GRID_H,_0x19808c=document[_0x2e7576(0x23c)](_0x2e7576(0x231));_0x19808c[_0x2e7576(0x272)]='blocked-range-part\x20stripe-bg',_0x19808c['style'][_0x2e7576(0x1e7)]=_0x567613+'px',_0x19808c[_0x2e7576(0x143)][_0x2e7576(0x194)]=_0x35950a+'px',_0x19808c[_0x2e7576(0x143)][_0x2e7576(0x12f)]='-'+_0x3f7fe4+'px\x20-'+_0x567613+'px',_0x59bd82['appendChild'](_0x19808c);}}});}if(dateExceptions[_0x5c6e13]===_0x3bdc5f(0x1f3)){if(!_0x59bd82['querySelector']('.day-off-overlay')){const _0x1a07ff=document['createElement'](_0x3bdc5f(0x231));_0x1a07ff[_0x3bdc5f(0x272)]=_0x3bdc5f(0x121),_0x1a07ff[_0x3bdc5f(0x143)][_0x3bdc5f(0x12f)]='-'+_0x3f7fe4+'px\x200px',_0x59bd82['appendChild'](_0x1a07ff);}}renderEventsForColumn(_0x59bd82,_0x5c6e13,_0x27e63d),updateDayStats(_0x5c6e13);});}function updateAllDayStats(){const _0x17a963=a2_0x4b79d9;document[_0x17a963(0x199)](_0x17a963(0x13c))[_0x17a963(0x197)](_0x47a227=>{const _0x3090fb=_0x17a963;updateDayStats(_0x47a227[_0x3090fb(0x1f0)](_0x3090fb(0x19a)));});}function updateDayStats(_0x2bee5e){const _0x3e9113=a2_0x4b79d9,_0x2121bb=document[_0x3e9113(0x11c)](_0x3e9113(0x1f9)+_0x2bee5e);if(!_0x2121bb)return;const _0x215d44=new Date(_0x2bee5e);let _0xfac783=_0x215d44[_0x3e9113(0x271)]()-0x1;if(_0xfac783===-0x1)_0xfac783=0x6;if(dateExceptions[_0x2bee5e]===_0x3e9113(0x1f3)){_0x2121bb['style'][_0x3e9113(0x209)]='none';return;}const _0x4fb3bb=availabilityPattern[_0xfac783]||[],_0x5863ba=0x18-_0x4fb3bb['length'],_0x307415=_0x5863ba*0x3c,_0x56a724=sessions[_0x3e9113(0x288)](_0xd17966=>_0xd17966[_0x3e9113(0x1ee)]===_0x2bee5e&&_0xd17966[_0x3e9113(0x27f)]!==_0x3e9113(0x1e6));if(_0x56a724['length']===0x0){_0x2121bb['style'][_0x3e9113(0x209)]=_0x3e9113(0x155);return;}let _0x4c7d29=_0x56a724[_0x3e9113(0x24c)](_0x3e5b61=>{const _0x1e01fc=_0x3e9113,[_0x569b83,_0x5173f4]=_0x3e5b61[_0x1e01fc(0x244)]['split'](':')[_0x1e01fc(0x24c)](Number),[_0x2aca96,_0x3c0164]=_0x3e5b61[_0x1e01fc(0x1fb)][_0x1e01fc(0x25c)](':')[_0x1e01fc(0x24c)](Number);return[_0x569b83*0x3c+_0x5173f4,_0x2aca96*0x3c+_0x3c0164];});_0x4c7d29[_0x3e9113(0x21c)]((_0x360447,_0xe9981d)=>_0x360447[0x0]-_0xe9981d[0x0]);let _0xfece1d=[];if(_0x4c7d29[_0x3e9113(0x28f)]>0x0){let _0x3c22ce=_0x4c7d29[0x0];for(let _0x5704fc=0x1;_0x5704fc<_0x4c7d29[_0x3e9113(0x28f)];_0x5704fc++){_0x4c7d29[_0x5704fc][0x0]<_0x3c22ce[0x1]?_0x3c22ce[0x1]=Math['max'](_0x3c22ce[0x1],_0x4c7d29[_0x5704fc][0x1]):(_0xfece1d[_0x3e9113(0x17b)](_0x3c22ce),_0x3c22ce=_0x4c7d29[_0x5704fc]);}_0xfece1d[_0x3e9113(0x17b)](_0x3c22ce);}let _0x5695f3=0x0;_0xfece1d[_0x3e9113(0x197)](_0x3e1783=>_0x5695f3+=_0x3e1783[0x1]-_0x3e1783[0x0]),_0x2121bb[_0x3e9113(0x143)][_0x3e9113(0x209)]=_0x3e9113(0x11f);const _0x55bd1b=_0x2121bb[_0x3e9113(0x293)](_0x3e9113(0x16f));if(_0x307415===0x0){_0x55bd1b[_0x3e9113(0x143)][_0x3e9113(0x246)]=_0x3e9113(0x140),_0x55bd1b[_0x3e9113(0x143)][_0x3e9113(0x204)]=_0x3e9113(0x138);return;}const _0x8fcce7=_0x5695f3/_0x307415*0x64;console[_0x3e9113(0x1df)]('['+_0x2bee5e+']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20'+_0x5863ba+_0x3e9113(0x13f)+_0x5695f3+_0x3e9113(0x19e)+_0x8fcce7[_0x3e9113(0x287)](0x1)+'%'),_0x8fcce7>0x64?(_0x55bd1b[_0x3e9113(0x143)][_0x3e9113(0x246)]=_0x3e9113(0x140),_0x55bd1b[_0x3e9113(0x143)][_0x3e9113(0x204)]='var(--acc-red)'):(_0x55bd1b[_0x3e9113(0x143)][_0x3e9113(0x246)]=_0x8fcce7+'%',_0x55bd1b[_0x3e9113(0x143)][_0x3e9113(0x204)]=_0x3e9113(0x198));}function a2_0x3e97(){const _0x310340=['—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','100%','%\x20-\x204px)','saveLocally','style','textContent','addEventListener','includes','colIndex','setItem','var(--acc-green)','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','toString','btn-status-toggle','scrollLeft','now','floor','btnStatusToggle','\x20days','inpDate','</div><div\x20class=\x22dch-num\x22>','headerMonth','none','Local\x20Save\x20Error','getDate','expand','then','text','ru-RU','#050505','href','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','offsetLeft','pe-time-label','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','inpEnd','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','BackButton','indexOf','v9.0-BATCH-CALENDAR','single','actionSheet','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','WebApp','getMonth','parse','uc_sessions_v9','text/plain;charset=UTF-8','.dch-stats-fill','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','seriesCountContainer','error','uc_settings_v9','planned',':\x20Client\x20already\x20booked','ranges','clients','as-button\x20danger','10px','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','push','10px\x2010px\x200\x200','anEnd','borderRadius','month','cancel','borderLeftColor','undefined',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','max','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','clientId','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','client','random','toLocaleString','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','Critical\x20TMA\x20Error:','timeColumn','globalTimeLine','search','settingCancelWindow','23:59','toast-notification\x20','height','setHeaderColor','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','forEach','var(--acc-current)','querySelectorAll','data-date','charAt','uc_settings_cancel_window','mousedown','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','setAttribute','Error\x20setting\x20color:','borderColor','initData','238stoEsv','day-column\x20','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','recurringOptionContainer','init_load','touches','add','Local\x20Load\x20Error','setDate','patternEditor','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','constructor','calc(','show','innerHTML','user','today','582112FicLqu','uc_clients_v9','total','<span>','save','target','round','peGrid','disableVerticalSwipes','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','95766EecEWI','[Series]\x20Skipped\x20','anCustomDates','create','.period-switch\x20.p-btn','rgba(255,\x2069,\x2058,\x200.15)','[Notify]\x20Network\x20Failed','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','blocked-slot\x20stripe-bg','client-stat-card','\x20‚Äî\x20','getHours','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','option','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','exceptions','localeCompare','color','...','anDonutCircle','rgba(255,255,255,0.05)','startsWith','daysHeaderTrack','827166TixCIp','backgroundColor','rangeEndDate','splice','DOMContentLoaded','statLoadCard',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','zIndex','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','log','[Sync]\x20Loading\x20','rangeStartTime','time-label','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','stringify','rangesList','cancelled','top','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','vibrate','anTotalStats','rgba(255,\x2069,\x2058,\x200.3)','getItem','setHours','dateStr','name','getAttribute','onclick','value','off','closest','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','Server\x20Error','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','T00:00:00','stat-','actionSheetOverlay','end','warn','calendar','mouseup','find','json','active','keys','done','background','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','scrollTop','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','valid','display','2EwsFhc','inpStart','custom','seriesId','warning','6287624Yoodmk','1671687TvGYNt','guest','dayOptionsTitle','–£–¥–∞–ª–µ–Ω–∏–µ','inpSeriesCount','numeric','complete','btn-status-toggle\x20undo-mode','success','fetchFromServer',']\x20Failed:','slice','sort','completed','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','inpNote','update','dayOptionsSheet','router.html','px\x200px','analyticsSheet','sheetTitle','clientWidth','timeLineBadge','.day-off-overlay','toLocaleDateString','header-','loadLocal','insertBefore','touchstart','mousemove','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','div','getTime','syncBatch','cancel_window','rangeEndTime','scroll','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','4885080SFJXKw','gridColumns','settingsSheet','btn-primary\x20btn-danger','createElement','</div><div\x20class=\x22ev-time\x22>','patternInfoBox','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','apply','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','[Notify]\x20Server\x20Response:','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','start','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','width','doWorkHours','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','px\x20-','</div>','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','map','ready','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','getMinutes','[API\x20','checked','scrollWidth','anStart','save_settings','from','getBoundingClientRect','#fff','inpRecurring','long','clientY','</span>\x20/\x20','split','<div\x20class=\x22dch-day\x22>','stopPropagation','null','all','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','POST','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','–ò–Ω—Ñ–æ','.pib-text','matrixViewport','T23:59:59','min','#0a84ff','inpClient','padStart','pe-cell\x20','Telegram','toUpperCase','syncLoad','strokeDashoffset','getDay','className','open','asBtnSeries','week','send_notification','.event-card','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','pe-col-header','toastMessage','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','offClick','send','(((.+)+)+)+$','status','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','[Notify]\x20Detected\x20Client\x20ID:','getText','[Notify]\x20Error:\x20Text\x20generation\x20failed','btnDelete','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','classList','toFixed','filter',':00','rangeStartDate','event-card','appendChild','settings','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','length','sessionSheet','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','block','querySelector','range-item','getElementById','formatDate','left','flex','455700IBBhhy','day-off-overlay\x20stripe-bg','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','toastTitle','mergeServerData','asTitle','catch','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','setMonth','findIndex','data-day-idx','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','.day-column','initDataUnsafe','remove','backgroundPosition','day-col-header\x20','onClick','pattern',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','touchend','series','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','var(--acc-red)','getFullYear','[Notify]\x20Attempting\x20to\x20send:','btnDayToggle','.day-col-header','note','<div\x20class=\x22ev-title\x22>'];a2_0x3e97=function(){return _0x310340;};return a2_0x3e97();}function renderEventsForColumn(_0x429558,_0x21dd5b,_0x32f7f2){const _0x4edb7f=a2_0x4b79d9,_0x390976=sessions['filter'](_0x1c1ab8=>_0x1c1ab8['dateStr']===_0x21dd5b),_0x12c16c=_0x390976[_0x4edb7f(0x24c)](_0x566422=>{const _0x3cb7f0=_0x4edb7f,[_0x105ca5,_0x2d4dfd]=_0x566422[_0x3cb7f0(0x244)][_0x3cb7f0(0x25c)](':')['map'](Number),[_0x4101f1,_0x101546]=_0x566422[_0x3cb7f0(0x1fb)][_0x3cb7f0(0x25c)](':')[_0x3cb7f0(0x24c)](Number);return{'data':_0x566422,'start':_0x105ca5*0x3c+_0x2d4dfd,'end':_0x4101f1*0x3c+_0x101546,'colIndex':0x0};});_0x12c16c[_0x4edb7f(0x21c)]((_0x230a24,_0x586d66)=>{const _0x172797=_0x4edb7f;if(_0x230a24[_0x172797(0x244)]!==_0x586d66[_0x172797(0x244)])return _0x230a24[_0x172797(0x244)]-_0x586d66[_0x172797(0x244)];return _0x586d66[_0x172797(0x1fb)]-_0x586d66[_0x172797(0x244)]-(_0x230a24['end']-_0x230a24[_0x172797(0x244)]);});const _0x509adf=[];_0x12c16c['forEach'](_0x454728=>{const _0xeee41=_0x4edb7f;let _0x5f0a7f=![];for(let _0x23bde6=0x0;_0x23bde6<_0x509adf['length'];_0x23bde6++){const _0x3b6695=_0x509adf[_0x23bde6],_0x48c1f9=_0x3b6695[_0x3b6695['length']-0x1];if(_0x454728['start']>=_0x48c1f9[_0xeee41(0x1fb)]){_0x3b6695[_0xeee41(0x17b)](_0x454728),_0x454728[_0xeee41(0x147)]=_0x23bde6,_0x5f0a7f=!![];break;}}!_0x5f0a7f&&(_0x509adf[_0xeee41(0x17b)]([_0x454728]),_0x454728[_0xeee41(0x147)]=_0x509adf[_0xeee41(0x28f)]-0x1);}),_0x12c16c['forEach'](_0xc70a75=>{const _0x1812e6=_0x4edb7f;let _0x29209c=0x0;_0x12c16c[_0x1812e6(0x197)](_0x1e626c=>{const _0xb3745=_0x1812e6;if(Math['max'](_0xc70a75[_0xb3745(0x244)],_0x1e626c[_0xb3745(0x244)])<Math[_0xb3745(0x268)](_0xc70a75[_0xb3745(0x1fb)],_0x1e626c[_0xb3745(0x1fb)])){if(_0x1e626c['colIndex']>_0x29209c)_0x29209c=_0x1e626c[_0xb3745(0x147)];}});const _0x50ff8b=_0x29209c+0x1,_0xe6b95e=0x64/_0x50ff8b,_0x2da9fe=_0xc70a75[_0x1812e6(0x147)]*_0xe6b95e,_0x524050=createEventEl(_0xc70a75['data']);_0x524050[_0x1812e6(0x143)][_0x1812e6(0x246)]='calc('+_0xe6b95e+_0x1812e6(0x141),_0x524050[_0x1812e6(0x143)][_0x1812e6(0x11e)]=_0x1812e6(0x1af)+_0x2da9fe+'%\x20+\x202px)',_0x524050[_0x1812e6(0x143)][_0x1812e6(0x1dc)]=0xa+_0xc70a75[_0x1812e6(0x147)],_0xe6b95e<0x55&&_0x524050['classList'][_0x1812e6(0x1a9)]('mini'),_0x429558[_0x1812e6(0x28c)](_0x524050);});}function createEventEl(_0x396ea5){const _0x2e20bf=a2_0x4b79d9,[_0x3a5e8a,_0x19648f]=_0x396ea5[_0x2e20bf(0x244)][_0x2e20bf(0x25c)](':')[_0x2e20bf(0x24c)](Number),[_0x7ce880,_0x26f205]=_0x396ea5[_0x2e20bf(0x1fb)][_0x2e20bf(0x25c)](':')['map'](Number),_0x35d21c=(_0x3a5e8a*0x3c+_0x19648f)/0x3c*GRID_H,_0x1072cd=(_0x7ce880*0x3c+_0x26f205-(_0x3a5e8a*0x3c+_0x19648f))/0x3c*GRID_H,_0x55fa2f=document['createElement']('div'),_0x44e946=_0x396ea5[_0x2e20bf(0x27f)]==='completed'?'\x20status-completed':'';_0x55fa2f[_0x2e20bf(0x272)]=_0x2e20bf(0x28b)+_0x44e946,_0x55fa2f[_0x2e20bf(0x143)][_0x2e20bf(0x1e7)]=_0x35d21c+'px',_0x55fa2f['style'][_0x2e20bf(0x194)]=Math['max'](_0x1072cd,0x14)+'px';const _0x227acb=clients[_0x2e20bf(0x1ff)](_0x4a2d14=>_0x396ea5[_0x2e20bf(0x186)]&&String(_0x4a2d14['id'])===String(_0x396ea5[_0x2e20bf(0x186)])||_0x4a2d14['name']===_0x396ea5[_0x2e20bf(0x188)]),_0x454896=_0x227acb?_0x227acb[_0x2e20bf(0x1cf)]:_0x2e20bf(0x269);_0x55fa2f['style'][_0x2e20bf(0x181)]=_0x454896,_0x55fa2f['style'][_0x2e20bf(0x1d6)]=hexToRgba(_0x454896,0.85);let _0x3e3a98=_0x2e20bf(0x13e)+_0x396ea5[_0x2e20bf(0x188)]+_0x2e20bf(0x23d)+_0x396ea5[_0x2e20bf(0x244)]+'\x20-\x20'+_0x396ea5['end']+_0x2e20bf(0x24a);return _0x396ea5[_0x2e20bf(0x20d)]&&(_0x3e3a98+=_0x2e20bf(0x285)),_0x396ea5['status']===_0x2e20bf(0x21d)&&(_0x3e3a98+=_0x2e20bf(0x187)),_0x55fa2f[_0x2e20bf(0x1b1)]=_0x3e3a98,_0x55fa2f[_0x2e20bf(0x1f1)]=_0x1d20c7=>{_0x1d20c7['stopPropagation'](),openEdit(_0x396ea5);},_0x55fa2f;}function attachLongPressHandler(_0x425c18,_0x2eed7f){const _0x4dca9b=a2_0x4b79d9;let _0x33ad51=0x0,_0x587cf5=null;const _0x1f30c5=_0x36c943=>{const _0x3d5408=a2_0x53a9;if(_0x36c943[_0x3d5408(0x1b9)][_0x3d5408(0x1f4)](_0x3d5408(0x277)))return;isScrolling=![],_0x33ad51=_0x36c943[_0x3d5408(0x1a8)]?_0x36c943[_0x3d5408(0x1a8)][0x0][_0x3d5408(0x25a)]:_0x36c943[_0x3d5408(0x25a)],_0x587cf5=setTimeout(()=>{const _0x3027b4=_0x3d5408;if(!isScrolling){navigator[_0x3027b4(0x1e9)]?.(0x32);const _0x33786b=_0x425c18[_0x3027b4(0x256)](),_0x56a61f=Math[_0x3027b4(0x14f)]((_0x33ad51-_0x33786b[_0x3027b4(0x1e7)])/GRID_H);_0x2eed7f[_0x3027b4(0x1ed)](_0x56a61f,0x0),openAddSession(_0x2eed7f);}},0x1f4);},_0x52934b=()=>{isScrolling=!![],clearTimeout(_0x587cf5);},_0x1fc7d7=()=>{clearTimeout(_0x587cf5);};_0x425c18[_0x4dca9b(0x145)](_0x4dca9b(0x22e),_0x1f30c5,{'passive':!![]}),_0x425c18[_0x4dca9b(0x145)]('touchmove',_0x52934b,{'passive':!![]}),_0x425c18['addEventListener'](_0x4dca9b(0x134),_0x1fc7d7),_0x425c18[_0x4dca9b(0x145)](_0x4dca9b(0x19d),_0x1f30c5),_0x425c18[_0x4dca9b(0x145)](_0x4dca9b(0x22f),_0x52934b),_0x425c18['addEventListener'](_0x4dca9b(0x1fe),_0x1fc7d7);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x58b29b=a2_0x4b79d9,_0x4940e4=document[_0x58b29b(0x11c)](_0x58b29b(0x266)),_0x13d1c7=_0x4940e4[_0x58b29b(0x14d)],_0x2cac0f=_0x4940e4[_0x58b29b(0x252)],_0x557748=_0x4940e4['clientWidth'];if(_0x2cac0f-(_0x13d1c7+_0x557748)<0x12c){const _0x2077bc=endOffset;endOffset+=0xe,renderDayRange(_0x2077bc+0x1,endOffset),reRenderBlocks();}if(_0x13d1c7<0x12c){const _0x34c2a5=startOffset;startOffset-=0xe,prependDays(startOffset,_0x34c2a5-0x1),_0x4940e4[_0x58b29b(0x14d)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x1c9afe,_0x23c0ab){const _0x43bc1a=a2_0x4b79d9,_0x25ac10=document[_0x43bc1a(0x11c)]('daysHeaderTrack'),_0x2f2ea5=document[_0x43bc1a(0x11c)](_0x43bc1a(0x239)),_0x1978ad=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1c74c7=new Date();_0x1c74c7[_0x43bc1a(0x1ed)](0x0,0x0,0x0,0x0);const _0x2b1632=getLocalDateStr(new Date()),_0x11a584=document['createDocumentFragment'](),_0x157eb3=document['createDocumentFragment']();for(let _0x5041fd=_0x1c9afe;_0x5041fd<=_0x23c0ab;_0x5041fd++){const _0x3c6211=new Date(_0x1c74c7);_0x3c6211['setDate'](_0x3c6211[_0x43bc1a(0x157)]()+_0x5041fd);const _0x2e9479=getLocalDateStr(_0x3c6211);let _0xe02ddf=_0x3c6211[_0x43bc1a(0x271)]()-0x1;if(_0xe02ddf===-0x1)_0xe02ddf=0x6;const _0xdeb2c2=_0x2e9479===_0x2b1632,_0x361643=document[_0x43bc1a(0x23c)](_0x43bc1a(0x231));_0x361643[_0x43bc1a(0x272)]=_0x43bc1a(0x130)+(_0xdeb2c2?_0x43bc1a(0x1b3):''),_0x361643['id']=_0x43bc1a(0x22b)+_0x2e9479,_0x361643[_0x43bc1a(0x19f)](_0x43bc1a(0x19a),_0x2e9479),_0x361643[_0x43bc1a(0x1b1)]=_0x43bc1a(0x25d)+_0x1978ad[_0xe02ddf]+_0x43bc1a(0x153)+_0x3c6211['getDate']()+_0x43bc1a(0x24e)+_0x2e9479+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x361643[_0x43bc1a(0x1f1)]=()=>openDayOptions(_0x2e9479,_0x1978ad[_0xe02ddf]+'\x20'+_0x3c6211[_0x43bc1a(0x157)]()),_0x11a584['appendChild'](_0x361643);const _0x41bda0=document[_0x43bc1a(0x23c)]('div');_0x41bda0[_0x43bc1a(0x272)]='day-column\x20'+(_0xdeb2c2?_0x43bc1a(0x1b3):''),_0x41bda0[_0x43bc1a(0x19f)]('data-date',_0x2e9479),_0x41bda0[_0x43bc1a(0x19f)](_0x43bc1a(0x12a),_0xe02ddf),renderEventsForColumn(_0x41bda0,_0x2e9479,_0xe02ddf),attachLongPressHandler(_0x41bda0,_0x3c6211),_0x157eb3['appendChild'](_0x41bda0),updateDayStats(_0x2e9479);}_0x25ac10[_0x43bc1a(0x22d)](_0x11a584,_0x25ac10['firstChild']),_0x2f2ea5[_0x43bc1a(0x22d)](_0x157eb3,_0x2f2ea5[_0x43bc1a(0x293)](_0x43bc1a(0x12c)));}function validateAppointment(_0x47cab5,_0x346174,_0x48f3e1,_0x19510b,_0x2fc965){const _0x3c01d9=a2_0x4b79d9,[_0x55ed0f,_0x37cbe8]=_0x346174[_0x3c01d9(0x25c)](':')['map'](Number),[_0x43e875,_0x4218fe]=_0x48f3e1[_0x3c01d9(0x25c)](':')['map'](Number),_0x44531b=_0x55ed0f*0x3c+_0x37cbe8,_0x193681=_0x43e875*0x3c+_0x4218fe,_0x2b0dd5=String(_0x2fc965);let _0xd8237=![],_0x2a7d89='';for(let _0x5364d5 of sessions){if(_0x5364d5[_0x3c01d9(0x1ee)]!==_0x47cab5)continue;if(_0x5364d5['status']===_0x3c01d9(0x1e6))continue;if(_0x19510b&&String(_0x5364d5['id'])===String(_0x19510b))continue;const [_0x4bf495,_0x5caf56]=_0x5364d5[_0x3c01d9(0x244)]['split'](':')[_0x3c01d9(0x24c)](Number),[_0x4c0304,_0x1c35e1]=_0x5364d5[_0x3c01d9(0x1fb)][_0x3c01d9(0x25c)](':')[_0x3c01d9(0x24c)](Number),_0x37814e=_0x4bf495*0x3c+_0x5caf56,_0x394da2=_0x4c0304*0x3c+_0x1c35e1;if(Math['max'](_0x44531b,_0x37814e)<Math[_0x3c01d9(0x268)](_0x193681,_0x394da2)){if(_0x5364d5['clientId']&&String(_0x5364d5['clientId'])===_0x2b0dd5)return{'valid':![],'msg':_0x3c01d9(0x24b)+_0x5364d5[_0x3c01d9(0x188)]+_0x3c01d9(0x133)};_0xd8237=!![],_0x2a7d89=_0x5364d5['client'];}}if(_0xd8237)return{'valid':!![],'warning':_0x3c01d9(0x21e)+_0x2a7d89};return{'valid':!![]};}function updateDateDisplay(){const _0x3b99f3=a2_0x4b79d9,_0x4f3eb4=document[_0x3b99f3(0x11c)](_0x3b99f3(0x152))[_0x3b99f3(0x1f2)],_0x4d08cd=document[_0x3b99f3(0x11c)]('sheetDateSubtitle');if(!_0x4f3eb4){_0x4d08cd[_0x3b99f3(0x144)]='';return;}const [_0x4b8009,_0x552c6d,_0x350d00]=_0x4f3eb4[_0x3b99f3(0x25c)]('-')['map'](Number),_0x57f34d=new Date(_0x4b8009,_0x552c6d-0x1,_0x350d00),_0x42e2db={'weekday':_0x3b99f3(0x259),'day':'numeric','month':'long','year':_0x3b99f3(0x215)};let _0x238609=_0x57f34d[_0x3b99f3(0x22a)](_0x3b99f3(0x15b),_0x42e2db);_0x238609=_0x238609[_0x3b99f3(0x19b)](0x0)[_0x3b99f3(0x26e)]()+_0x238609[_0x3b99f3(0x21b)](0x1),_0x4d08cd[_0x3b99f3(0x144)]=_0x238609;}function autoSetEndTime(){const _0x16f44c=a2_0x4b79d9,_0x2620d9=document[_0x16f44c(0x11c)](_0x16f44c(0x20b))[_0x16f44c(0x1f2)];if(!_0x2620d9)return;const [_0x52d0e4,_0x2f9c09]=_0x2620d9[_0x16f44c(0x25c)](':')['map'](Number);let _0x18d405=_0x52d0e4+0x1;if(_0x18d405>0x17)_0x18d405=0x0;const _0x125551=String(_0x18d405)[_0x16f44c(0x26b)](0x2,'0')+':'+String(_0x2f9c09)[_0x16f44c(0x26b)](0x2,'0');document[_0x16f44c(0x11c)](_0x16f44c(0x162))[_0x16f44c(0x1f2)]=_0x125551;}function populateClientSelect(){const _0x89004d=a2_0x4b79d9,_0x2b5fea=document[_0x89004d(0x11c)]('inpClient');_0x2b5fea[_0x89004d(0x1b1)]='';if(clients['length']===0x0){const _0x5d4a4d=document[_0x89004d(0x23c)]('option');_0x5d4a4d[_0x89004d(0x15a)]=_0x89004d(0x205),_0x2b5fea[_0x89004d(0x28c)](_0x5d4a4d);return;}clients[_0x89004d(0x197)](_0x19441e=>{const _0x203915=_0x89004d,_0x35e80c=document[_0x203915(0x23c)](_0x203915(0x1cb));_0x35e80c[_0x203915(0x1f2)]=_0x19441e[_0x203915(0x1ef)],_0x35e80c['textContent']=_0x19441e[_0x203915(0x1ef)],_0x2b5fea[_0x203915(0x28c)](_0x35e80c);});}function openActionSheet(_0x11108c){const _0x155637=a2_0x4b79d9,_0x507a58=document['getElementById'](_0x155637(0x168)),_0x4e9b07=document[_0x155637(0x11c)](_0x155637(0x1fa)),_0x3280ce=document[_0x155637(0x11c)](_0x155637(0x125)),_0x38c837=document[_0x155637(0x11c)]('asBtnOne'),_0x1a0922=document[_0x155637(0x11c)](_0x155637(0x274));_0x4e9b07[_0x155637(0x286)][_0x155637(0x1a9)](_0x155637(0x201)),_0x507a58[_0x155637(0x286)][_0x155637(0x1a9)](_0x155637(0x273));if(_0x11108c===_0x155637(0x1b8))_0x3280ce[_0x155637(0x144)]=_0x155637(0x17a),_0x38c837[_0x155637(0x144)]=_0x155637(0x278),_0x38c837[_0x155637(0x1f1)]=()=>{const _0x68caff=_0x155637;closeActionSheet(),updateSeriesBatch(_0x68caff(0x167),tempSessionData);},_0x1a0922['textContent']='–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ',_0x1a0922[_0x155637(0x1f1)]=()=>{closeActionSheet(),updateSeriesBatch('series',tempSessionData);};else _0x11108c==='delete'&&(_0x3280ce[_0x155637(0x144)]=_0x155637(0x213),_0x38c837[_0x155637(0x144)]='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x38c837[_0x155637(0x272)]=_0x155637(0x178),_0x38c837['onclick']=()=>{const _0x3b40b7=_0x155637;closeActionSheet(),commitDelete('single',sessions[_0x3b40b7(0x1ff)](_0x2a5f51=>_0x2a5f51['id']===editingId));},_0x1a0922['textContent']=_0x155637(0x169),_0x1a0922[_0x155637(0x272)]='as-button\x20danger\x20bold',_0x1a0922[_0x155637(0x1f1)]=()=>{closeActionSheet(),commitDelete('series',sessions['find'](_0x23d46e=>_0x23d46e['id']===editingId));});}function closeActionSheet(){const _0xf049f0=a2_0x4b79d9;document[_0xf049f0(0x11c)](_0xf049f0(0x168))[_0xf049f0(0x286)][_0xf049f0(0x12e)]('open'),document[_0xf049f0(0x11c)]('actionSheetOverlay')['classList'][_0xf049f0(0x12e)](_0xf049f0(0x201));}function openSettings(){const _0x114d0f=a2_0x4b79d9;openSheet(_0x114d0f(0x23a));}function saveCoachSettings(){const _0x8fb3d=a2_0x4b79d9,_0x3ad6bf=document[_0x8fb3d(0x11c)]('settingCancelWindow')[_0x8fb3d(0x1f2)];localStorage['setItem'](_0x8fb3d(0x19c),_0x3ad6bf),console[_0x8fb3d(0x1df)]('[Settings]\x20Cancel\x20window\x20set\x20to:',_0x3ad6bf),DataManager[_0x8fb3d(0x219)]('save_settings',{'settings':{'cancel_window':_0x3ad6bf}})[_0x8fb3d(0x126)](_0x143bcd=>{const _0x38f34a=_0x8fb3d;console[_0x38f34a(0x172)]('Save\x20settings\x20error:',_0x143bcd),showToast(_0x38f34a(0x15e),![]);});}function loadCoachSettings(){const _0x5f363b=a2_0x4b79d9,_0x27c27d=localStorage[_0x5f363b(0x1ec)](_0x5f363b(0x19c));_0x27c27d&&(document['getElementById']('settingCancelWindow')[_0x5f363b(0x1f2)]=_0x27c27d);}function openRangesSheet(){closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet('rangesSheet');}function addRange(){const _0x1208ff=a2_0x4b79d9,_0x1f04b0=document[_0x1208ff(0x11c)](_0x1208ff(0x28a))[_0x1208ff(0x1f2)],_0x1f857f=document['getElementById'](_0x1208ff(0x1e1))['value'],_0x2c9318=document[_0x1208ff(0x11c)](_0x1208ff(0x1d7))[_0x1208ff(0x1f2)],_0x1332b7=document[_0x1208ff(0x11c)](_0x1208ff(0x235))[_0x1208ff(0x1f2)];if(!_0x1f04b0||!_0x1f857f||!_0x2c9318||!_0x1332b7)return alert(_0x1208ff(0x1c5));const _0x641de7=_0x1f04b0+'T'+_0x1f857f,_0x509064=_0x2c9318+'T'+_0x1332b7;if(_0x641de7>=_0x509064)return alert(_0x1208ff(0x237));specialRanges[_0x1208ff(0x17b)]({'start':_0x641de7,'end':_0x509064}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x1208ff(0x142)](),DataManager[_0x1208ff(0x219)](_0x1208ff(0x254),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x51e24c){const _0x28868e=a2_0x4b79d9;specialRanges[_0x28868e(0x1d8)](_0x51e24c,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x28868e(0x142)](),DataManager[_0x28868e(0x219)](_0x28868e(0x254),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x4491a0=a2_0x4b79d9;document[_0x4491a0(0x11c)](_0x4491a0(0x28a))[_0x4491a0(0x1f2)]='',document[_0x4491a0(0x11c)](_0x4491a0(0x1e1))['value']='00:00',document['getElementById'](_0x4491a0(0x1d7))[_0x4491a0(0x1f2)]='',document[_0x4491a0(0x11c)]('rangeEndTime')['value']=_0x4491a0(0x192);}function renderRangesList(){const _0x5aa365=a2_0x4b79d9,_0x2e9f4a=document[_0x5aa365(0x11c)](_0x5aa365(0x1e5));_0x2e9f4a['innerHTML']='';if(!specialRanges[_0x5aa365(0x28f)]){_0x2e9f4a[_0x5aa365(0x1b1)]=_0x5aa365(0x14a);return;}specialRanges[_0x5aa365(0x197)]((_0x19f0df,_0x58dd65)=>{const _0x39e6e0=_0x5aa365,_0xeafb8c=document[_0x39e6e0(0x23c)](_0x39e6e0(0x231));_0xeafb8c['className']=_0x39e6e0(0x11b);const _0x2cc663=_0x1698f3=>{const _0x36d0c4=_0x39e6e0,_0x4306cc=new Date(_0x1698f3);return _0x4306cc[_0x36d0c4(0x157)]()+'.'+String(_0x4306cc[_0x36d0c4(0x16b)]()+0x1)[_0x36d0c4(0x26b)](0x2,'0')+'\x20'+String(_0x4306cc['getHours']())[_0x36d0c4(0x26b)](0x2,'0')+':'+String(_0x4306cc['getMinutes']())[_0x36d0c4(0x26b)](0x2,'0');};_0xeafb8c[_0x39e6e0(0x1b1)]=_0x39e6e0(0x1cc)+_0x2cc663(_0x19f0df[_0x39e6e0(0x244)])+_0x39e6e0(0x1c8)+_0x2cc663(_0x19f0df[_0x39e6e0(0x1fb)])+_0x39e6e0(0x185)+_0x58dd65+_0x39e6e0(0x183),_0x2e9f4a[_0x39e6e0(0x28c)](_0xeafb8c);});}function scrollToToday(){const _0x1bde50=a2_0x4b79d9,_0x36dd8c=getLocalDateStr(new Date()),_0x52cee5=document[_0x1bde50(0x11c)](_0x1bde50(0x22b)+_0x36dd8c),_0x5a3a60=document[_0x1bde50(0x11c)]('matrixViewport');if(_0x52cee5&&_0x5a3a60){const _0x324fec=_0x5a3a60[_0x1bde50(0x227)],_0x37041f=_0x52cee5[_0x1bde50(0x15f)],_0xa5bd70=_0x52cee5['offsetWidth'];_0x5a3a60[_0x1bde50(0x14d)]=_0x37041f-_0x324fec/0x2+_0xa5bd70/0x2,_0x5a3a60[_0x1bde50(0x206)]=0x9*GRID_H;}}function onScroll(){const _0x145074=a2_0x4b79d9,_0xfa9c88=document[_0x145074(0x11c)]('matrixViewport'),_0x1d44b8=document[_0x145074(0x199)](_0x145074(0x13c));for(let _0x221d1b of _0x1d44b8)if(_0x221d1b['offsetLeft']>=_0xfa9c88['scrollLeft']){const _0x1144a1=new Date(_0x221d1b['getAttribute'](_0x145074(0x19a)));document[_0x145074(0x11c)](_0x145074(0x154))[_0x145074(0x144)]=_0x1144a1[_0x145074(0x18a)]('ru',{'month':_0x145074(0x259)})[_0x145074(0x26e)]()+'\x20'+_0x1144a1['getFullYear']();break;}}function a2_0x53a9(_0x35cf24,_0x3237c3){_0x35cf24=_0x35cf24-0x11b;const _0x25e095=a2_0x3e97();let _0x4b18fa=_0x25e095[_0x35cf24];return _0x4b18fa;}function showToast(_0x87fc86,_0x3e8a14=![]){const _0xf91c9a=a2_0x4b79d9,_0x32e984=document[_0xf91c9a(0x11c)]('toast');_0x32e984[_0xf91c9a(0x272)]=_0xf91c9a(0x193)+(_0x3e8a14?_0xf91c9a(0x218):''),document[_0xf91c9a(0x11c)](_0xf91c9a(0x123))[_0xf91c9a(0x144)]=_0x3e8a14?'–£—Å–ø–µ—à–Ω–æ':_0xf91c9a(0x264),document['getElementById'](_0xf91c9a(0x27a))['textContent']=_0x87fc86,_0x32e984[_0xf91c9a(0x286)][_0xf91c9a(0x1a9)](_0xf91c9a(0x1b0)),setTimeout(()=>{const _0x3602e7=_0xf91c9a;_0x32e984[_0x3602e7(0x286)][_0x3602e7(0x12e)](_0x3602e7(0x1b0));},0xbb8);}function openDayOptions(_0x5c316b,_0x2cdec1){const _0x3f0986=a2_0x4b79d9;selectedDayForOptions=_0x5c316b,document[_0x3f0986(0x11c)](_0x3f0986(0x212))[_0x3f0986(0x144)]=_0x2cdec1,openSheet('dayOptionsSheet');}function toggleDayOff(){const _0x3ae406=a2_0x4b79d9;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x3ae406(0x1f3),reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager[_0x3ae406(0x219)](_0x3ae406(0x254),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x1d252f=a2_0x4b79d9;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager['fetchFromServer'](_0x1d252f(0x254),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0xf5b6c6){const _0x1603c7=a2_0x4b79d9;document[_0x1603c7(0x11c)]('overlay')[_0x1603c7(0x286)]['add'](_0x1603c7(0x201)),document[_0x1603c7(0x11c)](_0xf5b6c6)[_0x1603c7(0x286)][_0x1603c7(0x1a9)](_0x1603c7(0x273));}function closeAllSheets(){const _0x125d63=a2_0x4b79d9;document['getElementById']('overlay')[_0x125d63(0x286)][_0x125d63(0x12e)](_0x125d63(0x201)),document[_0x125d63(0x199)]('.sheet')[_0x125d63(0x197)](_0x4f766c=>_0x4f766c[_0x125d63(0x286)][_0x125d63(0x12e)](_0x125d63(0x273)));}function openPatternEditor(){const _0x5ee934=a2_0x4b79d9;closeAllSheets(),document[_0x5ee934(0x11c)](_0x5ee934(0x1ac))[_0x5ee934(0x286)][_0x5ee934(0x1a9)](_0x5ee934(0x273)),renderPatternEditor();}function closePatternEditor(){const _0x4ab0d6=a2_0x4b79d9;document[_0x4ab0d6(0x11c)](_0x4ab0d6(0x1ac))[_0x4ab0d6(0x286)][_0x4ab0d6(0x12e)](_0x4ab0d6(0x273));}function savePattern(){const _0x2fbc11=a2_0x4b79d9;document[_0x2fbc11(0x11c)](_0x2fbc11(0x1ac))[_0x2fbc11(0x286)][_0x2fbc11(0x12e)](_0x2fbc11(0x273)),reRenderBlocks(),DataManager[_0x2fbc11(0x142)](),DataManager[_0x2fbc11(0x219)](_0x2fbc11(0x254),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x3af052=a2_0x4b79d9,_0x3b3797=document[_0x3af052(0x11c)](_0x3af052(0x1bb));_0x3b3797[_0x3af052(0x1b1)]='';const _0x5c3f92=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x305c9b=document['createElement'](_0x3af052(0x231));_0x305c9b[_0x3af052(0x272)]='pe-corner',_0x3b3797['appendChild'](_0x305c9b),_0x5c3f92[_0x3af052(0x197)]((_0x4cd728,_0x35a4d1)=>{const _0x57f3bc=_0x3af052,_0x1b200d=document[_0x57f3bc(0x23c)](_0x57f3bc(0x231));_0x1b200d['className']=_0x57f3bc(0x279),_0x1b200d[_0x57f3bc(0x1b1)]=_0x4cd728+_0x57f3bc(0x245),_0x1b200d[_0x57f3bc(0x1f1)]=()=>toggleColPattern(_0x35a4d1),_0x3b3797[_0x57f3bc(0x28c)](_0x1b200d);});for(let _0x2ae0f3=0x0;_0x2ae0f3<0x18;_0x2ae0f3++){const _0x55edbc=document[_0x3af052(0x23c)](_0x3af052(0x231));_0x55edbc[_0x3af052(0x272)]=_0x3af052(0x160),_0x55edbc[_0x3af052(0x1b1)]=_0x3af052(0x127)+String(_0x2ae0f3)[_0x3af052(0x26b)](0x2,'0')+_0x3af052(0x289),_0x55edbc[_0x3af052(0x1f1)]=()=>toggleRowPattern(_0x2ae0f3),_0x3b3797['appendChild'](_0x55edbc);for(let _0x4d8eb8=0x0;_0x4d8eb8<0x7;_0x4d8eb8++){const _0x1dd028=document[_0x3af052(0x23c)]('div'),_0x5c8a74=(availabilityPattern[_0x4d8eb8]||[])[_0x3af052(0x146)](_0x2ae0f3),_0x19dc0d=!_0x5c8a74;_0x1dd028[_0x3af052(0x272)]=_0x3af052(0x26c)+(_0x19dc0d?_0x3af052(0x201):''),_0x1dd028[_0x3af052(0x1f1)]=()=>toggleSinglePattern(_0x4d8eb8,_0x2ae0f3),_0x3b3797[_0x3af052(0x28c)](_0x1dd028);}}}function toggleSinglePattern(_0x267baa,_0x5be2f5){const _0x327cb6=a2_0x4b79d9;if(!availabilityPattern[_0x267baa])availabilityPattern[_0x267baa]=[];const _0x309b4f=availabilityPattern[_0x267baa],_0x2aaf57=_0x309b4f[_0x327cb6(0x165)](_0x5be2f5);_0x2aaf57===-0x1?_0x309b4f['push'](_0x5be2f5):_0x309b4f[_0x327cb6(0x1d8)](_0x2aaf57,0x1),renderPatternEditor();}function toggleColPattern(_0x2a7f22){if(!availabilityPattern[_0x2a7f22])availabilityPattern[_0x2a7f22]=[];const _0x4a0f2b=availabilityPattern[_0x2a7f22];_0x4a0f2b['length']===0x0?availabilityPattern[_0x2a7f22]=Array['from']({'length':0x18},(_0x2db6fe,_0x3f82fe)=>_0x3f82fe):availabilityPattern[_0x2a7f22]=[],renderPatternEditor();}function toggleRowPattern(_0x126b16){const _0x728615=a2_0x4b79d9;let _0x5c4874=!![];for(let _0x30dbf3=0x0;_0x30dbf3<0x7;_0x30dbf3++){if((availabilityPattern[_0x30dbf3]||[])[_0x728615(0x146)](_0x126b16)){_0x5c4874=![];break;}}for(let _0x5f4e7a=0x0;_0x5f4e7a<0x7;_0x5f4e7a++){if(!availabilityPattern[_0x5f4e7a])availabilityPattern[_0x5f4e7a]=[];const _0x3df2f0=availabilityPattern[_0x5f4e7a][_0x728615(0x165)](_0x126b16);if(_0x5c4874){if(_0x3df2f0===-0x1)availabilityPattern[_0x5f4e7a][_0x728615(0x17b)](_0x126b16);}else{if(_0x3df2f0!==-0x1)availabilityPattern[_0x5f4e7a][_0x728615(0x1d8)](_0x3df2f0,0x1);}}renderPatternEditor();}function renderPCol(_0x41eef4,_0x22dda4){const _0x49a296=a2_0x4b79d9;_0x41eef4['innerHTML']='';const _0x517db1=Math[_0x49a296(0x1ba)](_0x41eef4[_0x49a296(0x15f)]);(availabilityPattern[_0x22dda4]||[])['forEach'](_0x3b23a7=>{const _0x437056=_0x49a296,_0x1c28ec=document[_0x437056(0x23c)](_0x437056(0x231));_0x1c28ec['className']='blocked-slot\x20stripe-bg';const _0x4d0f0d=_0x3b23a7*GRID_H;_0x1c28ec[_0x437056(0x143)][_0x437056(0x1e7)]=_0x4d0f0d+'px',_0x1c28ec[_0x437056(0x143)][_0x437056(0x12f)]='-'+_0x517db1+'px\x20-'+_0x4d0f0d+'px',_0x1c28ec[_0x437056(0x1f1)]=_0x305a86=>{const _0x4541f2=_0x437056;_0x305a86[_0x4541f2(0x25e)](),toggleSinglePattern(_0x22dda4,_0x3b23a7);},_0x41eef4[_0x437056(0x28c)](_0x1c28ec);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x582d4f=a2_0x4b79d9,_0x2378e7=new Date(),_0xa04ea3=document[_0x582d4f(0x11c)](_0x582d4f(0x18f)),_0x246143=document[_0x582d4f(0x11c)](_0x582d4f(0x228)),_0x527418=(_0x2378e7[_0x582d4f(0x1c9)]()*0x3c+_0x2378e7['getMinutes']())/0x3c*GRID_H;_0xa04ea3[_0x582d4f(0x143)][_0x582d4f(0x1e7)]=_0x527418+'px',_0xa04ea3['style'][_0x582d4f(0x209)]=_0x582d4f(0x292),_0x246143[_0x582d4f(0x144)]=String(_0x2378e7[_0x582d4f(0x1c9)]())[_0x582d4f(0x26b)](0x2,'0')+':'+String(_0x2378e7[_0x582d4f(0x24f)]())[_0x582d4f(0x26b)](0x2,'0'),_0x246143['style'][_0x582d4f(0x209)]=_0x582d4f(0x292),_0x246143[_0x582d4f(0x143)][_0x582d4f(0x1e7)]=_0x527418+'px';}document[a2_0x4b79d9(0x145)](a2_0x4b79d9(0x1d9),init);function openDayOptions(_0x45d2c8){const _0x5973d4=a2_0x4b79d9;selectedDayForOptions=_0x45d2c8;const _0x5ba032=new Date(_0x45d2c8),_0x12ff29={'weekday':_0x5973d4(0x259),'day':'numeric','month':'long','year':'numeric'},_0x5730c2=_0x5ba032['toLocaleDateString'](_0x5973d4(0x15b),_0x12ff29);document[_0x5973d4(0x11c)]('doDateHeader')[_0x5973d4(0x144)]=_0x5730c2[_0x5973d4(0x19b)](0x0)['toUpperCase']()+_0x5730c2['slice'](0x1);let _0x4bbcec=_0x5ba032[_0x5973d4(0x271)]()-0x1;if(_0x4bbcec===-0x1)_0x4bbcec=0x6;const _0x166f45=availabilityPattern[_0x4bbcec]||[],_0x421af5=0x18-_0x166f45['length'],_0x432650=_0x421af5*0x3c,_0x58166c=sessions[_0x5973d4(0x288)](_0x29b76d=>_0x29b76d[_0x5973d4(0x1ee)]===_0x45d2c8&&_0x29b76d['status']!==_0x5973d4(0x1e6));let _0x218f9e=_0x58166c['map'](_0x58e228=>{const _0x45875f=_0x5973d4,[_0x37df9d,_0x269cfa]=_0x58e228[_0x45875f(0x244)][_0x45875f(0x25c)](':')['map'](Number),[_0x323045,_0x4fad32]=_0x58e228[_0x45875f(0x1fb)]['split'](':')[_0x45875f(0x24c)](Number);return[_0x37df9d*0x3c+_0x269cfa,_0x323045*0x3c+_0x4fad32];});_0x218f9e[_0x5973d4(0x21c)]((_0x54fcec,_0x1701fe)=>_0x54fcec[0x0]-_0x1701fe[0x0]);let _0x312adf=[];if(_0x218f9e[_0x5973d4(0x28f)]>0x0){let _0x1272b3=_0x218f9e[0x0];for(let _0x3f1be9=0x1;_0x3f1be9<_0x218f9e[_0x5973d4(0x28f)];_0x3f1be9++){_0x218f9e[_0x3f1be9][0x0]<_0x1272b3[0x1]?_0x1272b3[0x1]=Math[_0x5973d4(0x184)](_0x1272b3[0x1],_0x218f9e[_0x3f1be9][0x1]):(_0x312adf[_0x5973d4(0x17b)](_0x1272b3),_0x1272b3=_0x218f9e[_0x3f1be9]);}_0x312adf[_0x5973d4(0x17b)](_0x1272b3);}let _0x14ca7b=0x0;_0x312adf[_0x5973d4(0x197)](_0x28c31c=>_0x14ca7b+=_0x28c31c[0x1]-_0x28c31c[0x0]),document['getElementById'](_0x5973d4(0x247))['textContent']=formatMinsToHrs(_0x432650),document[_0x5973d4(0x11c)]('doBusyHours')[_0x5973d4(0x144)]=formatMinsToHrs(_0x14ca7b);const _0x2b5695=_0x432650>0x0?Math[_0x5973d4(0x1ba)](_0x14ca7b/_0x432650*0x64):0x0,_0x11da6a=document[_0x5973d4(0x11c)]('doLoadPercent');_0x11da6a['textContent']=_0x2b5695+'%';const _0x134b4f=document[_0x5973d4(0x11c)](_0x5973d4(0x1da));if(_0x2b5695>0x64)_0x11da6a[_0x5973d4(0x143)]['color']=_0x5973d4(0x138),_0x134b4f[_0x5973d4(0x143)][_0x5973d4(0x1a1)]=_0x5973d4(0x1eb);else _0x2b5695>0x50?(_0x11da6a[_0x5973d4(0x143)]['color']='var(--acc-orange)',_0x134b4f['style'][_0x5973d4(0x1a1)]='rgba(255,\x20159,\x2010,\x200.3)'):(_0x11da6a['style'][_0x5973d4(0x1cf)]=_0x5973d4(0x149),_0x134b4f[_0x5973d4(0x143)][_0x5973d4(0x1a1)]=_0x5973d4(0x1d2));const _0x3c7099=document[_0x5973d4(0x11c)]('doEventsList');_0x3c7099[_0x5973d4(0x1b1)]='';_0x58166c[_0x5973d4(0x28f)]===0x0?_0x3c7099[_0x5973d4(0x1b1)]=_0x5973d4(0x136):(_0x58166c[_0x5973d4(0x21c)]((_0x5d1596,_0x1d1d86)=>_0x5d1596['start'][_0x5973d4(0x1ce)](_0x1d1d86[_0x5973d4(0x244)])),_0x58166c[_0x5973d4(0x197)](_0x521d83=>{const _0x58167e=_0x5973d4,_0x1adf64=clients[_0x58167e(0x1ff)](_0x1ec763=>_0x1ec763[_0x58167e(0x1ef)]===_0x521d83[_0x58167e(0x188)]),_0xa3cf8e=_0x1adf64?_0x1adf64[_0x58167e(0x1cf)]:'#fff',_0x16550a=_0x521d83[_0x58167e(0x27f)]===_0x58167e(0x21d),_0x46ef46=_0x16550a?_0x58167e(0x196):'',_0x126f4d=document[_0x58167e(0x23c)](_0x58167e(0x231));_0x126f4d['className']='de-item',_0x126f4d[_0x58167e(0x143)][_0x58167e(0x181)]=_0xa3cf8e,_0x126f4d['innerHTML']=_0x58167e(0x1bd)+_0x521d83['start']+'\x20-\x20'+_0x521d83[_0x58167e(0x1fb)]+_0x58167e(0x170)+_0x521d83['client']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x46ef46+_0x58167e(0x1e8),_0x3c7099[_0x58167e(0x28c)](_0x126f4d);}));const _0x4fc61b=document[_0x5973d4(0x11c)](_0x5973d4(0x13b)),_0x1110c5=dateExceptions[_0x45d2c8]===_0x5973d4(0x1f3);_0x1110c5?(_0x4fc61b[_0x5973d4(0x144)]='–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º',_0x4fc61b['className']='btn-primary\x20btn-secondary',_0x4fc61b[_0x5973d4(0x143)][_0x5973d4(0x1cf)]=_0x5973d4(0x149),_0x4fc61b[_0x5973d4(0x143)][_0x5973d4(0x204)]='rgba(48,\x20209,\x2088,\x200.15)'):(_0x4fc61b[_0x5973d4(0x144)]=_0x5973d4(0x27b),_0x4fc61b['className']=_0x5973d4(0x23b),_0x4fc61b['style'][_0x5973d4(0x1cf)]=_0x5973d4(0x138),_0x4fc61b['style'][_0x5973d4(0x204)]=_0x5973d4(0x1c3)),openSheet(_0x5973d4(0x222));}let currentAnPeriod='week';function openAnalytics(){const _0x456c07=a2_0x4b79d9,_0xd08ad6=document['querySelector'](_0x456c07(0x1c2));setAnalyticsPeriod(_0x456c07(0x275),_0xd08ad6),closeAllSheets(),openSheet(_0x456c07(0x225));}function setAnalyticsPeriod(_0x442f77,_0x1f8352){const _0x2e0ff1=a2_0x4b79d9;currentAnPeriod=_0x442f77,document[_0x2e0ff1(0x199)](_0x2e0ff1(0x1c2))[_0x2e0ff1(0x197)](_0x5b2ec5=>_0x5b2ec5['classList'][_0x2e0ff1(0x12e)](_0x2e0ff1(0x201)));if(_0x1f8352)_0x1f8352[_0x2e0ff1(0x286)][_0x2e0ff1(0x1a9)]('active');const _0x1338cf=document['getElementById'](_0x2e0ff1(0x1c0));_0x1338cf[_0x2e0ff1(0x143)]['display']=_0x442f77===_0x2e0ff1(0x20c)?_0x2e0ff1(0x11f):_0x2e0ff1(0x155);const _0x4794ae=new Date();let _0x35c82f=new Date(),_0x4388a2=new Date();if(_0x442f77==='week')_0x35c82f=getStartOfWeek(_0x4794ae),_0x4388a2=new Date(_0x35c82f),_0x4388a2[_0x2e0ff1(0x1ab)](_0x4388a2[_0x2e0ff1(0x157)]()+0x6);else{if(_0x442f77===_0x2e0ff1(0x17f))_0x35c82f=new Date(_0x4794ae[_0x2e0ff1(0x139)](),_0x4794ae['getMonth'](),0x1),_0x4388a2=new Date(_0x4794ae[_0x2e0ff1(0x139)](),_0x4794ae[_0x2e0ff1(0x16b)]()+0x1,0x0);else{!document[_0x2e0ff1(0x11c)](_0x2e0ff1(0x253))[_0x2e0ff1(0x1f2)]&&(document['getElementById']('anStart')[_0x2e0ff1(0x1f2)]=getLocalDateStr(_0x4794ae),document[_0x2e0ff1(0x11c)](_0x2e0ff1(0x17d))['value']=getLocalDateStr(_0x4794ae));refreshAnalytics();return;}}document['getElementById'](_0x2e0ff1(0x253))[_0x2e0ff1(0x1f2)]=getLocalDateStr(_0x35c82f),document[_0x2e0ff1(0x11c)](_0x2e0ff1(0x17d))[_0x2e0ff1(0x1f2)]=getLocalDateStr(_0x4388a2),refreshAnalytics();}function refreshAnalytics(){const _0x2b12c6=a2_0x4b79d9,_0x1f663b=document[_0x2b12c6(0x11c)](_0x2b12c6(0x253))[_0x2b12c6(0x1f2)],_0x310720=document['getElementById']('anEnd')[_0x2b12c6(0x1f2)];if(!_0x1f663b||!_0x310720)return;const _0x4788ba=sessions[_0x2b12c6(0x288)](_0x6cfd25=>_0x6cfd25['dateStr']>=_0x1f663b&&_0x6cfd25[_0x2b12c6(0x1ee)]<=_0x310720&&_0x6cfd25[_0x2b12c6(0x27f)]!==_0x2b12c6(0x1e6)),_0x1b6ff3=_0x4788ba[_0x2b12c6(0x28f)],_0x4a9efb=_0x4788ba[_0x2b12c6(0x288)](_0x202749=>_0x202749[_0x2b12c6(0x27f)]===_0x2b12c6(0x21d))[_0x2b12c6(0x28f)],_0x15ba92=_0x1b6ff3>0x0?Math[_0x2b12c6(0x1ba)](_0x4a9efb/_0x1b6ff3*0x64):0x0;document[_0x2b12c6(0x11c)]('anPercent')[_0x2b12c6(0x144)]=_0x15ba92+'%',document[_0x2b12c6(0x11c)](_0x2b12c6(0x1ea))['textContent']=_0x4a9efb+'\x20–∏–∑\x20'+_0x1b6ff3+'\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ';const _0x1aaf40=document[_0x2b12c6(0x11c)](_0x2b12c6(0x1d1)),_0x1646cb=0x2*Math['PI']*0x23,_0x9d1120=_0x1646cb-_0x15ba92/0x64*_0x1646cb;_0x1aaf40[_0x2b12c6(0x143)][_0x2b12c6(0x270)]=_0x9d1120;const _0x22a294={};_0x4788ba[_0x2b12c6(0x197)](_0x4fe223=>{const _0x55c419=_0x2b12c6;if(!_0x22a294[_0x4fe223[_0x55c419(0x188)]]){const _0x460c17=clients[_0x55c419(0x1ff)](_0x390883=>_0x390883[_0x55c419(0x1ef)]===_0x4fe223[_0x55c419(0x188)]);_0x22a294[_0x4fe223[_0x55c419(0x188)]]={'total':0x0,'done':0x0,'color':_0x460c17?_0x460c17[_0x55c419(0x1cf)]:_0x55c419(0x257)};}_0x22a294[_0x4fe223['client']]['total']++;if(_0x4fe223[_0x55c419(0x27f)]===_0x55c419(0x21d))_0x22a294[_0x4fe223['client']][_0x55c419(0x203)]++;});const _0x2e167e=document[_0x2b12c6(0x11c)]('analyticsList');_0x2e167e[_0x2b12c6(0x1b1)]='';const _0x309fe2=Object['entries'](_0x22a294)[_0x2b12c6(0x21c)]((_0x35a1b0,_0x1d6b12)=>_0x1d6b12[0x1][_0x2b12c6(0x1b6)]-_0x35a1b0[0x1][_0x2b12c6(0x1b6)]);if(_0x309fe2[_0x2b12c6(0x28f)]===0x0){_0x2e167e['innerHTML']=_0x2b12c6(0x241);return;}_0x309fe2[_0x2b12c6(0x197)](([_0x1b6811,_0x47a52f])=>{const _0xf08611=_0x2b12c6,_0x1fffd9=Math[_0xf08611(0x1ba)](_0x47a52f[_0xf08611(0x203)]/_0x47a52f['total']*0x64),_0x8f78f1=document[_0xf08611(0x23c)]('div');_0x8f78f1[_0xf08611(0x272)]=_0xf08611(0x1c7),_0x8f78f1[_0xf08611(0x143)][_0xf08611(0x181)]=_0x47a52f[_0xf08611(0x1cf)],_0x8f78f1[_0xf08611(0x1b1)]=_0xf08611(0x248)+_0x1b6811+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x47a52f[_0xf08611(0x203)]+_0xf08611(0x25b)+_0x47a52f[_0xf08611(0x1b6)]+_0xf08611(0x18b)+_0x1fffd9+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x2e167e[_0xf08611(0x28c)](_0x8f78f1);});}function formatMinsToHrs(_0x3e195a){const _0x4c6e4e=a2_0x4b79d9;if(_0x3e195a===0x0)return'0';const _0x2357fc=Math[_0x4c6e4e(0x14f)](_0x3e195a/0x3c),_0x59e83e=_0x3e195a%0x3c;if(_0x59e83e===0x0)return _0x2357fc+'—á';return _0x2357fc+'—á\x20'+_0x59e83e+'–º';}