const a2_0x3a07e7=a2_0x270c;(function(_0x4b8085,_0x13eb28){const _0x264c3e=a2_0x270c,_0x4688e6=_0x4b8085();while(!![]){try{const _0x2607d2=parseInt(_0x264c3e(0x18d))/0x1+parseInt(_0x264c3e(0x226))/0x2*(-parseInt(_0x264c3e(0x1ba))/0x3)+-parseInt(_0x264c3e(0xc9))/0x4*(-parseInt(_0x264c3e(0x126))/0x5)+-parseInt(_0x264c3e(0x13d))/0x6+-parseInt(_0x264c3e(0xeb))/0x7+parseInt(_0x264c3e(0x16e))/0x8*(parseInt(_0x264c3e(0xac))/0x9)+parseInt(_0x264c3e(0x21d))/0xa;if(_0x2607d2===_0x13eb28)break;else _0x4688e6['push'](_0x4688e6['shift']());}catch(_0x1fb4d3){_0x4688e6['push'](_0x4688e6['shift']());}}}(a2_0x1a7a,0x307a6),function initTMA(){const _0x4baabb=a2_0x270c;try{const _0x276fb3=window[_0x4baabb(0x1a3)]?.['WebApp'];if(!_0x276fb3)return;_0x276fb3['ready'](),_0x276fb3[_0x4baabb(0x174)]();try{_0x276fb3[_0x4baabb(0x167)](_0x4baabb(0x1c7)),_0x276fb3[_0x4baabb(0xb2)]&&_0x276fb3[_0x4baabb(0xb2)](_0x4baabb(0x1c7));}catch(_0x158c38){console[_0x4baabb(0x1f9)](_0x4baabb(0x1be),_0x158c38);}try{_0x276fb3['BackButton']&&(_0x276fb3[_0x4baabb(0xe3)][_0x4baabb(0x214)](),_0x276fb3[_0x4baabb(0xe3)][_0x4baabb(0x1b4)](),_0x276fb3[_0x4baabb(0xe3)][_0x4baabb(0x216)](function(){const _0xe8ac88=_0x4baabb;window[_0xe8ac88(0x192)]['href']=_0xe8ac88(0x215);}));}catch(_0x31a935){console[_0x4baabb(0x1f9)](_0x4baabb(0x1a1),_0x31a935);}try{if(_0x276fb3[_0x4baabb(0xc4)])_0x276fb3[_0x4baabb(0xc4)]();}catch(_0x1ad592){}}catch(_0x19ed13){console[_0x4baabb(0x150)](_0x4baabb(0xff),_0x19ed13);}}());function isAdmin(){const _0x5c39d1=a2_0x270c;try{const _0x24153f=Number(window[_0x5c39d1(0x1a3)]?.[_0x5c39d1(0x160)]?.['initDataUnsafe']?.[_0x5c39d1(0x22b)]?.['id']);return _0x24153f===0xbaf7174;}catch(_0x5c527b){return![];}}const APP_VERSION='v9.0-BATCH-CALENDAR',API_URL=a2_0x3a07e7(0x194),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x3a07e7(0xc5),KEY_SESSIONS=a2_0x3a07e7(0x1cd),KEY_SETTINGS='uc_settings_v9';let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x1fdc95=a2_0x3a07e7;return window['Telegram']?.[_0x1fdc95(0x160)]?.['initDataUnsafe']?.[_0x1fdc95(0x22b)]?.['id']||_0x1fdc95(0x20d);},'saveLocally'(){const _0x125c76=a2_0x3a07e7;try{localStorage[_0x125c76(0x208)](KEY_CLIENTS,JSON[_0x125c76(0x1a6)](clients)),localStorage[_0x125c76(0x208)](KEY_SESSIONS,JSON[_0x125c76(0x1a6)](sessions)),localStorage[_0x125c76(0x208)](KEY_SETTINGS,JSON[_0x125c76(0x1a6)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x9a7d15){console[_0x125c76(0x150)](_0x125c76(0xed),_0x9a7d15);}},'loadLocal'(){const _0x5ad022=a2_0x3a07e7;try{const _0xd9764b=localStorage[_0x5ad022(0xd4)](KEY_CLIENTS);if(_0xd9764b)clients=JSON[_0x5ad022(0x1fa)](_0xd9764b);const _0x23bd85=localStorage[_0x5ad022(0xd4)](KEY_SESSIONS);if(_0x23bd85)sessions=JSON['parse'](_0x23bd85);const _0x55579e=localStorage[_0x5ad022(0xd4)](KEY_SETTINGS);if(_0x55579e){const _0x4dfa44=JSON[_0x5ad022(0x1fa)](_0x55579e);if(_0x4dfa44[_0x5ad022(0xe1)])availabilityPattern=_0x4dfa44['pattern'];if(_0x4dfa44[_0x5ad022(0xb8)])dateExceptions=_0x4dfa44[_0x5ad022(0xb8)];if(_0x4dfa44['ranges'])specialRanges=_0x4dfa44[_0x5ad022(0x184)];}else{for(let _0x316b02=0x0;_0x316b02<0x7;_0x316b02++)availabilityPattern[_0x316b02]=Array[_0x5ad022(0x18f)]({'length':0xc},(_0x5e52b0,_0x41c4a7)=>_0x41c4a7+0x9);}}catch(_0x34f72c){console['error'](_0x5ad022(0x110),_0x34f72c);}},async 'fetchFromServer'(_0x144593,_0x3fa83c={}){const _0x429d4e=a2_0x3a07e7,_0x1aea29=window[_0x429d4e(0x1a3)]?.[_0x429d4e(0x160)],_0x437c44={'action':_0x144593,'init_data':_0x1aea29?.[_0x429d4e(0xab)]||'',..._0x3fa83c};try{const _0xeecd2d=await fetch(API_URL,{'method':_0x429d4e(0x16b),'headers':{'Content-Type':'text/plain;charset=UTF-8'},'body':JSON[_0x429d4e(0x1a6)](_0x437c44)}),_0x479141=await _0xeecd2d['json']();if(!_0x479141['ok'])throw new Error(_0x479141[_0x429d4e(0x150)]||'Server\x20Error');return _0x479141[_0x429d4e(0x229)];}catch(_0x74e7cc){console['error'](_0x429d4e(0x140)+_0x144593+_0x429d4e(0x19c),_0x74e7cc);throw _0x74e7cc;}},async 'syncLoad'(){const _0x47bee9=a2_0x3a07e7,_0x268bfa=new Date(),_0x303b23=_0x268bfa[_0x47bee9(0xdf)]()+'-'+String(_0x268bfa[_0x47bee9(0x188)]()+0x1)[_0x47bee9(0xd2)](0x2,'0'),_0x330b71=new Date(_0x268bfa);_0x330b71['setMonth'](_0x268bfa[_0x47bee9(0x188)]()+0x1);const _0x702b6d=_0x330b71[_0x47bee9(0xdf)]()+'-'+String(_0x330b71[_0x47bee9(0x188)]()+0x1)[_0x47bee9(0xd2)](0x2,'0'),_0x4afdd9=Date['now']();console[_0x47bee9(0x1f9)](_0x47bee9(0x142)+_0x303b23+',\x20'+_0x702b6d+_0x47bee9(0x1cf));try{const [_0x2ecbfa,_0x2512e0]=await Promise[_0x47bee9(0x1f8)]([this[_0x47bee9(0x171)](_0x47bee9(0xf5),{'month_str':_0x303b23}),this[_0x47bee9(0x171)](_0x47bee9(0xf5),{'month_str':_0x702b6d})]);if(lastUserActionTime>_0x4afdd9)return console[_0x47bee9(0x1c5)]('[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response'),![];return this[_0x47bee9(0x17a)](_0x2ecbfa,_0x303b23),this[_0x47bee9(0x17a)](_0x2512e0,_0x702b6d),this[_0x47bee9(0xe4)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x5e3757){console['error'](_0x5e3757);throw _0x5e3757;}},'mergeServerData'(_0x5b83f2,_0x4302bd){const _0x62e941=a2_0x3a07e7;if(!_0x5b83f2)return;_0x5b83f2['clients']&&Array[_0x62e941(0x217)](_0x5b83f2[_0x62e941(0x170)])&&(clients=_0x5b83f2[_0x62e941(0x170)]);if(_0x5b83f2['settings']){if(_0x5b83f2[_0x62e941(0x10b)][_0x62e941(0xe1)])availabilityPattern=_0x5b83f2[_0x62e941(0x10b)][_0x62e941(0xe1)];if(_0x5b83f2[_0x62e941(0x10b)][_0x62e941(0xb8)])dateExceptions=_0x5b83f2['settings'][_0x62e941(0xb8)];if(_0x5b83f2['settings']['ranges'])specialRanges=_0x5b83f2['settings']['ranges'];if(_0x5b83f2[_0x62e941(0x10b)][_0x62e941(0xbf)]){localStorage['setItem'](_0x62e941(0x10d),_0x5b83f2[_0x62e941(0x10b)][_0x62e941(0xbf)]);const _0x47f51f=document[_0x62e941(0xe5)](_0x62e941(0x128));if(_0x47f51f)_0x47f51f[_0x62e941(0x180)]=_0x5b83f2[_0x62e941(0x10b)][_0x62e941(0xbf)];}}_0x5b83f2['calendar']&&(sessions=sessions[_0x62e941(0x107)](_0x237af9=>!_0x237af9[_0x62e941(0x154)][_0x62e941(0xc0)](_0x4302bd)),Object[_0x62e941(0x1e1)](_0x5b83f2[_0x62e941(0xf8)])[_0x62e941(0x15a)](_0x3ceee2=>{const _0x223760=_0x62e941,_0x43cded=_0x5b83f2[_0x223760(0xf8)][_0x3ceee2];_0x43cded[_0x223760(0x15a)](_0x357f82=>{const _0x4059fc=_0x223760,_0x534902=clients['find'](_0x87a1b1=>String(_0x87a1b1['id'])===String(_0x357f82['c']));sessions[_0x4059fc(0x1eb)]({'id':_0x357f82['i'],'clientId':_0x357f82['c'],'client':_0x534902?_0x534902[_0x4059fc(0x1f3)]:_0x4059fc(0xf0),'dateStr':_0x4302bd+'-'+_0x3ceee2['padStart'](0x2,'0'),'start':_0x357f82['s'],'end':_0x357f82['e'],'status':_0x357f82['st']||_0x4059fc(0xc6),'note':_0x357f82['n']||'','seriesId':_0x357f82['sid']||null});});}));},async 'syncBatch'(_0x45db74){const _0x1354a9=a2_0x3a07e7,_0x573e94=[...new Set(_0x45db74)],_0x3dd747=_0x573e94[_0x1354a9(0xe2)](_0xef235f=>{const _0x19ff8c=_0x1354a9,_0x3b72bc=sessions['filter'](_0x537728=>_0x537728[_0x19ff8c(0x154)]===_0xef235f&&_0x537728[_0x19ff8c(0x1ae)]!=='deleted'),_0x3c2667=_0x3b72bc[_0x19ff8c(0xe2)](_0x287f0e=>({'i':_0x287f0e['id'],'c':_0x287f0e[_0x19ff8c(0x143)],'s':_0x287f0e['start'],'e':_0x287f0e['end'],'st':_0x287f0e['status'],'n':_0x287f0e['note'],'sid':_0x287f0e[_0x19ff8c(0x21a)]}));return{'date':_0xef235f,'day_data':_0x3c2667};});if(_0x3dd747[_0x1354a9(0x104)]===0x0)return;console[_0x1354a9(0x1f9)](_0x1354a9(0x1b6)+_0x3dd747[_0x1354a9(0x104)]+'\x20days'),await this[_0x1354a9(0x171)]('batch_sync',{'changes':_0x3dd747});}};async function init(){const _0x126f8e=a2_0x3a07e7;DataManager[_0x126f8e(0x18e)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x126f8e(0xe5)](_0x126f8e(0xd6))[_0x126f8e(0x209)](_0x126f8e(0x1fc),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']()['then'](()=>{const _0x103ab1=_0x126f8e;showToast(_0x103ab1(0x1f5),!![]);})[_0x126f8e(0x168)](_0x1c92f9=>{const _0x2af428=_0x126f8e;showToast(_0x2af428(0xce),![]);});}function generateId(){const _0x3de697=a2_0x3a07e7;return Date[_0x3de697(0x20c)]()[_0x3de697(0x183)](0x24)+Math[_0x3de697(0x1c4)]()['toString'](0x24)['substr'](0x2,0x5);}function toggleSeriesInput(){const _0x31db93=a2_0x3a07e7,_0x26e919=document[_0x31db93(0xe5)](_0x31db93(0xe7))[_0x31db93(0x147)],_0x284f52=document[_0x31db93(0xe5)]('seriesCountContainer');_0x284f52['style'][_0x31db93(0x155)]=_0x26e919?_0x31db93(0xe6):'none';const _0x714edc=document['getElementById'](_0x31db93(0x122));_0x714edc['style']['borderRadius']=_0x26e919?'10px\x2010px\x200\x200':_0x31db93(0x164);}function openAddSession(_0x39e751){const _0x18dfc4=a2_0x3a07e7;editingId=null,populateClientSelect(),document[_0x18dfc4(0xe5)](_0x18dfc4(0x1c6))[_0x18dfc4(0x132)]=_0x18dfc4(0x1d2),document[_0x18dfc4(0xe5)]('btnDelete')[_0x18dfc4(0x102)][_0x18dfc4(0x155)]=_0x18dfc4(0xb4),document[_0x18dfc4(0xe5)]('btnStatusToggle')[_0x18dfc4(0x102)][_0x18dfc4(0x155)]=_0x18dfc4(0xb4);const _0x2fb665=document['getElementById'](_0x18dfc4(0x122)),_0x146f71=document[_0x18dfc4(0xe5)](_0x18dfc4(0x15d));_0x2fb665[_0x18dfc4(0x102)][_0x18dfc4(0x155)]='flex',_0x2fb665[_0x18dfc4(0x102)][_0x18dfc4(0x177)]=_0x18dfc4(0x164),document[_0x18dfc4(0xe5)](_0x18dfc4(0xe7))[_0x18dfc4(0x147)]=![],document[_0x18dfc4(0xe5)](_0x18dfc4(0x1d1))[_0x18dfc4(0x180)]=0x4,_0x146f71[_0x18dfc4(0x102)][_0x18dfc4(0x155)]=_0x18dfc4(0xb4),document[_0x18dfc4(0xe5)](_0x18dfc4(0x1c2))[_0x18dfc4(0x180)]=getLocalDateStr(_0x39e751),updateDateDisplay();const _0x282510=_0x39e751[_0x18dfc4(0x13f)]();document['getElementById'](_0x18dfc4(0x1af))['value']=String(_0x282510)[_0x18dfc4(0xd2)](0x2,'0')+_0x18dfc4(0x1b2),document[_0x18dfc4(0xe5)](_0x18dfc4(0x1a2))[_0x18dfc4(0x180)]=String(_0x282510+0x1)[_0x18dfc4(0xd2)](0x2,'0')+_0x18dfc4(0x1b2),openSheet(_0x18dfc4(0x1f4));}function openEdit(_0x3e7a46){const _0x4a74d4=a2_0x3a07e7;editingId=_0x3e7a46['id'],populateClientSelect(),document[_0x4a74d4(0xe5)]('sheetTitle')[_0x4a74d4(0x132)]=_0x4a74d4(0x200),document[_0x4a74d4(0xe5)](_0x4a74d4(0x11b))[_0x4a74d4(0x102)][_0x4a74d4(0x155)]=_0x4a74d4(0xe6);const _0x4b41a5=document[_0x4a74d4(0xe5)](_0x4a74d4(0x1b8));_0x4b41a5['style'][_0x4a74d4(0x155)]='flex';_0x3e7a46[_0x4a74d4(0x1ae)]===_0x4a74d4(0x1aa)?(_0x4b41a5[_0x4a74d4(0x17e)]='btn-status-toggle\x20undo-mode',_0x4b41a5[_0x4a74d4(0xd1)]=_0x4a74d4(0x1db)):(_0x4b41a5[_0x4a74d4(0x17e)]=_0x4a74d4(0xd9),_0x4b41a5['innerHTML']=_0x4a74d4(0x195));const _0x1870b2=!!_0x3e7a46['seriesId'];document[_0x4a74d4(0xe5)](_0x4a74d4(0x122))[_0x4a74d4(0x102)]['display']='none',document[_0x4a74d4(0xe5)](_0x4a74d4(0x15d))['style'][_0x4a74d4(0x155)]=_0x4a74d4(0xb4),_0x1870b2?(document['getElementById'](_0x4a74d4(0x158))[_0x4a74d4(0x102)][_0x4a74d4(0x155)]=_0x4a74d4(0x138),document[_0x4a74d4(0xe5)](_0x4a74d4(0x158))[_0x4a74d4(0x112)](_0x4a74d4(0x219))[_0x4a74d4(0x132)]='–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫'):document[_0x4a74d4(0xe5)](_0x4a74d4(0x158))[_0x4a74d4(0x102)]['display']=_0x4a74d4(0xb4),document[_0x4a74d4(0xe5)]('inpClient')['value']=_0x3e7a46[_0x4a74d4(0xd7)],document[_0x4a74d4(0xe5)]('inpDate')[_0x4a74d4(0x180)]=_0x3e7a46[_0x4a74d4(0x154)],document[_0x4a74d4(0xe5)]('inpStart')[_0x4a74d4(0x180)]=_0x3e7a46[_0x4a74d4(0x1d7)],document[_0x4a74d4(0xe5)](_0x4a74d4(0x1a2))[_0x4a74d4(0x180)]=_0x3e7a46[_0x4a74d4(0xc8)],document[_0x4a74d4(0xe5)](_0x4a74d4(0x12c))[_0x4a74d4(0x180)]=_0x3e7a46['note']||'',updateDateDisplay(),openSheet(_0x4a74d4(0x1f4));}async function trySaveSession(){const _0x5a19f9=a2_0x3a07e7,_0x9a8779=document[_0x5a19f9(0xe5)](_0x5a19f9(0xcb))[_0x5a19f9(0x180)],_0x54cfc6=document['getElementById'](_0x5a19f9(0x1c2))[_0x5a19f9(0x180)],_0x5bbcb8=document['getElementById'](_0x5a19f9(0x1af))[_0x5a19f9(0x180)],_0x3fb2b6=document[_0x5a19f9(0xe5)](_0x5a19f9(0x1a2))[_0x5a19f9(0x180)],_0x5e5a85=document[_0x5a19f9(0xe5)]('inpNote')['value'],_0x55ef94=document[_0x5a19f9(0xe5)]('inpRecurring')['checked'];let _0x13e527=0x4;if(_0x55ef94){const _0x56a803=parseInt(document[_0x5a19f9(0xe5)](_0x5a19f9(0x1d1))[_0x5a19f9(0x180)]);if(!_0x56a803||_0x56a803<0x2){showToast('–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏',![]);return;}if(_0x56a803>0x64){showToast(_0x5a19f9(0x157),![]);return;}_0x13e527=_0x56a803;}const _0x56b3ff=clients[_0x5a19f9(0x19d)](_0xf33900=>_0xf33900[_0x5a19f9(0x1f3)]===_0x9a8779);if(!_0x56b3ff){showToast(_0x5a19f9(0x1d3),![]);return;}const _0x2b9402=validateAppointment(_0x54cfc6,_0x5bbcb8,_0x3fb2b6,editingId,_0x56b3ff['id']);if(!_0x2b9402[_0x5a19f9(0x19b)]){showToast(_0x2b9402[_0x5a19f9(0x11f)],![]);return;}_0x2b9402[_0x5a19f9(0x205)]&&showToast(_0x2b9402[_0x5a19f9(0x205)],![]);const _0x193cda={'client':_0x9a8779,'clientId':_0x56b3ff['id'],'start':_0x5bbcb8,'end':_0x3fb2b6,'note':_0x5e5a85,'status':_0x5a19f9(0xc6)},_0x3ab72d=editingId?sessions['find'](_0x529030=>_0x529030['id']===editingId):null;if(_0x3ab72d&&_0x3ab72d[_0x5a19f9(0x21a)]){tempSessionData={..._0x193cda,'dateStr':_0x54cfc6,'id':editingId,'seriesId':_0x3ab72d[_0x5a19f9(0x21a)]},openActionSheet('save');return;}let _0x53003b=null;if(!editingId)_0x53003b=_0x5a19f9(0x15e);else{if(_0x3ab72d){if(String(_0x3ab72d[_0x5a19f9(0x143)])!==String(_0x56b3ff['id']))console[_0x5a19f9(0x1f9)]('[Notify]\x20Client\x20SWAP\x20detected'),NotificationManager['send']('cancel',_0x3ab72d),_0x53003b='create';else(_0x3ab72d['start']!==_0x5bbcb8||_0x3ab72d[_0x5a19f9(0xc8)]!==_0x3fb2b6||_0x3ab72d[_0x5a19f9(0x154)]!==_0x54cfc6)&&(_0x53003b=_0x5a19f9(0x105));}}if(!editingId&&_0x55ef94){createBatchSeries(_0x193cda,_0x54cfc6,_0x13e527),NotificationManager[_0x5a19f9(0xfb)](_0x5a19f9(0x15e),{..._0x193cda,'dateStr':_0x54cfc6});return;}lastUserActionTime=Date[_0x5a19f9(0x20c)]();const _0x327a58={..._0x193cda,'dateStr':_0x54cfc6,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x327a58),_0x53003b&&NotificationManager['send'](_0x53003b,_0x327a58);}function toggleSessionStatus(){const _0x53eea9=a2_0x3a07e7;lastUserActionTime=Date[_0x53eea9(0x20c)]();const _0x2a60ab=sessions[_0x53eea9(0x19d)](_0x4c9599=>_0x4c9599['id']===editingId);if(!_0x2a60ab)return;const _0x4445f2=_0x2a60ab[_0x53eea9(0x1ae)]===_0x53eea9(0x1aa)?_0x53eea9(0xc6):_0x53eea9(0x1aa);_0x2a60ab[_0x53eea9(0x1ae)]=_0x4445f2,saveSingleSession(_0x2a60ab),_0x4445f2==='completed'&&NotificationManager['send'](_0x53eea9(0xfd),_0x2a60ab),showToast(_0x4445f2===_0x53eea9(0x1aa)?_0x53eea9(0x1ea):_0x53eea9(0x212),!![]);}function a2_0x1a7a(){const _0x4028d0=['setHours','calc(','recurringOptionContainer','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','save_settings','single','5mMxisX','day-off-overlay\x20stripe-bg','settingCancelWindow','getDay','toast-notification\x20','backgroundPosition','inpNote','remove','ru-RU','[Notify]\x20Server\x20Response:','then','range-item','textContent','charAt','includes','var(--acc-orange)','vibrate','getDate','flex','as-button\x20danger','<div\x20class=\x22ev-title\x22>','pe-corner','series','1802172prINao','anTotalStats','getHours','[API\x20','target','[Sync]\x20Loading\x20','clientId','doEventsList','width','entries','checked','toUpperCase','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','touchend','pe-time-label','height','rangeEndDate','\x20‚Äî\x20','px\x20-','error','getBoundingClientRect','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','floor','dateStr','display','.sheet','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','patternInfoBox','patternEditor','forEach','localeCompare',':\x20Client\x20already\x20booked','seriesCountContainer','create','rgba(255,\x2069,\x2058,\x200.3)','WebApp','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','formatDate','strokeDashoffset','10px','asBtnSeries','var(--acc-red)','setHeaderColor','catch','DOMContentLoaded','custom','POST','.day-off-overlay','cancelled','2591384EOUJml','#gridColumns\x20.day-column','clients','fetchFromServer',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','text','expand',':00</span>','var(--acc-current)','borderRadius','btn-primary\x20btn-danger','anEnd','mergeServerData','active','rangeEndTime','week','className','done','value','de-item','getMinutes','toString','ranges','asTitle','zIndex','send_notification','getMonth','appendChild','asBtnOne','add','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','128867DFkapv','loadLocal','from','toLocaleDateString','colIndex','location','rangeStartTime','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','day-col-header\x20','success','.period-switch\x20.p-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','<span>','valid',']\x20Failed:','find','sheetDateSubtitle','scrollLeft','%\x20+\x202px)','Error\x20setting\x20back\x20button:','inpEnd','Telegram','month','save','stringify','#fff','time-label','analyticsList','completed','(((.+)+)+)+$','splice','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','status','inpStart','top','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20',':00','long','offClick','rgba(100,100,100,0.5)','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','getText','btnStatusToggle','rangesList','147MfVamn','toFixed','anCustomDates','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','Error\x20setting\x20color:','daysHeaderTrack','[Notify]\x20Error:\x20sessionData\x20is\x20null','div','inpDate','100%','random','warn','sheetTitle','#050505','open','createDocumentFragment','<b>‚úÖ\x20','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','color','uc_sessions_v9','–£–¥–∞–ª–µ–Ω–∏–µ','...','timeLineBadge','inpSeriesCount','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','btn-primary\x20btn-secondary','toastTitle','start','headerMonth','%\x20-\x204px)','mousemove','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','setDate','querySelectorAll','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','.event-card','borderLeftColor','keys','statLoadCard','[Series]\x20Skipped\x20','doBusyHours','btnDayToggle','note','23:59','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','push','blocked-range-part\x20stripe-bg','rgba(48,\x20209,\x2088,\x200.15)','classList','option','mini','firstChild','touchmove','name','sessionSheet','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','touches','all','log','parse','cancel','scroll','stopPropagation','rangeStartDate','constructor','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','anStart','peGrid','today',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','warning','sort','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','setItem','addEventListener','backgroundColor','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','now','guest','doDateHeader','clientWidth','actionSheetOverlay','actionSheet','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','var(--acc-green)','show','router.html','onClick','isArray','offsetWidth','.pib-text','seriesId','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','</span>\x20/\x20','947370DHckUq','rgba(255,\x2069,\x2058,\x200.15)','mousedown','</div><div\x20class=\x22ev-time\x22>','scrollWidth','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','numeric','gridColumns','3386uNPzvf','clientY','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','data','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','user','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','off','timeColumn','initData','9HlSNpr','anPercent','header-','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','dayOptionsSheet','slice','setBackgroundColor','undefined','none','max','findIndex','scrollTop','exceptions',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','insertBefore','setAttribute','00:00','offsetLeft','.day-col-header','cancel_window','startsWith','split','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','disableVerticalSwipes','uc_clients_v9','planned','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','end','980132yMUreq','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','inpClient','background','Batch\x20Sync\x20OK','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','min','indexOf','innerHTML','padStart','getTime','getItem','rgba(255,\x20159,\x2010,\x200.3)','matrixViewport','client','data-date','btn-status-toggle','apply','search','settingsSheet','mouseup','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','getFullYear','getAttribute','pattern','map','BackButton','saveLocally','getElementById','block','inpRecurring','data-day-idx','</b>\x0a\x0a','\x20-\x20','1474725zrAReW','total','Local\x20Save\x20Error','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','\x20–∏–∑\x20','Unknown','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','blocked-slot\x20stripe-bg','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','delete','init_load','anDonutCircle','createElement','calendar','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','</div>','send','onclick','complete','\x20status-completed','Critical\x20TMA\x20Error:','–ò–Ω—Ñ–æ','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','style','[Notify]\x20Network\x20Failed','length','update','</div><div\x20class=\x22dch-num\x22>','filter','syncBatch','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','doLoadPercent','settings','pe-col-header','uc_settings_cancel_window','rgba(255,255,255,0.05)','pe-cell\x20','Local\x20Load\x20Error','day-column\x20','querySelector','Save\x20settings\x20error:','px\x200px','closest','globalTimeLine','–£—Å–ø–µ—à–Ω–æ','borderColor',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','client-stat-card','btnDelete','round','dayOptionsTitle','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','msg'];a2_0x1a7a=function(){return _0x4028d0;};return a2_0x1a7a();}function validateAppointment(_0xcc5dd9,_0x1027fe,_0x1d6f04,_0x39bf28,_0x3f7d81){const _0x5e01ca=a2_0x3a07e7,[_0x2498ab,_0x470bf0]=_0x1027fe[_0x5e01ca(0xc1)](':')[_0x5e01ca(0xe2)](Number),[_0x4bf6a4,_0x4387a1]=_0x1d6f04[_0x5e01ca(0xc1)](':')[_0x5e01ca(0xe2)](Number),_0x123678=_0x2498ab*0x3c+_0x470bf0,_0x4e1f7d=_0x4bf6a4*0x3c+_0x4387a1,_0x36e586=String(_0x3f7d81);let _0x563f77=![],_0x5041c4='';for(let _0x5bb205 of sessions){if(_0x5bb205[_0x5e01ca(0x154)]!==_0xcc5dd9)continue;if(_0x5bb205['status']===_0x5e01ca(0x16d))continue;if(_0x39bf28&&String(_0x5bb205['id'])===String(_0x39bf28))continue;const [_0x52ca03,_0x1fb48]=_0x5bb205[_0x5e01ca(0x1d7)][_0x5e01ca(0xc1)](':')['map'](Number),[_0x3ed0cb,_0x59d3f5]=_0x5bb205[_0x5e01ca(0xc8)][_0x5e01ca(0xc1)](':')[_0x5e01ca(0xe2)](Number),_0x3ddebd=_0x52ca03*0x3c+_0x1fb48,_0x3c422f=_0x3ed0cb*0x3c+_0x59d3f5;if(Math[_0x5e01ca(0xb5)](_0x123678,_0x3ddebd)<Math['min'](_0x4e1f7d,_0x3c422f)){if(_0x5bb205[_0x5e01ca(0x143)]&&String(_0x5bb205[_0x5e01ca(0x143)])===_0x36e586)return{'valid':![],'msg':_0x5e01ca(0xca)+_0x5bb205['client']+_0x5e01ca(0x172)};_0x563f77=!![],_0x5041c4=_0x5bb205[_0x5e01ca(0xd7)];}}if(_0x563f77)return{'valid':!![],'warning':_0x5e01ca(0x109)+_0x5041c4};return{'valid':!![]};}function saveSingleSession(_0x27a753){const _0x4722cf=a2_0x3a07e7;if(editingId){const _0x542913=sessions[_0x4722cf(0xb6)](_0x52eb88=>_0x52eb88['id']===editingId);if(_0x542913!==-0x1)sessions[_0x542913]=_0x27a753;}else sessions[_0x4722cf(0x1eb)](_0x27a753);afterSaveAction([_0x27a753['dateStr']]);}function createBatchSeries(_0x21a0c4,_0x209594,_0x43c65c){const _0x4db4eb=a2_0x3a07e7,_0x25326d=generateId(),_0x15a496=[],_0x40d590=[];let _0x52cc75=0x0,_0x4b2f38=new Date(_0x209594);for(let _0x2a9728=0x0;_0x2a9728<_0x43c65c;_0x2a9728++){const _0x3848f7=getLocalDateStr(_0x4b2f38),_0x5ac4dc=validateAppointment(_0x3848f7,_0x21a0c4[_0x4db4eb(0x1d7)],_0x21a0c4[_0x4db4eb(0xc8)],null,_0x21a0c4[_0x4db4eb(0x143)]);if(!_0x5ac4dc[_0x4db4eb(0x19b)])console[_0x4db4eb(0x1f9)](_0x4db4eb(0x1e3)+_0x3848f7+_0x4db4eb(0x15c)),_0x52cc75++;else{const _0x3c32cc={..._0x21a0c4,'id':generateId(),'dateStr':_0x3848f7,'seriesId':_0x25326d};_0x40d590[_0x4db4eb(0x1eb)](_0x3c32cc),_0x15a496[_0x4db4eb(0x1eb)](_0x3848f7);}_0x4b2f38[_0x4db4eb(0x1dc)](_0x4b2f38['getDate']()+0x7);}if(_0x40d590[_0x4db4eb(0x104)]===0x0){showToast(_0x4db4eb(0x11e),![]);return;}sessions[_0x4db4eb(0x1eb)](..._0x40d590),lastUserActionTime=Date[_0x4db4eb(0x20c)]();let _0x45918b=_0x4db4eb(0x22c)+_0x40d590[_0x4db4eb(0x104)];_0x52cc75>0x0&&(_0x45918b+=_0x4db4eb(0xaf)+_0x52cc75+')'),showToast(_0x45918b,!![]),afterSaveAction(_0x15a496);}function updateSeriesBatch(_0x48e436,_0x56f9e9){const _0x371dc8=a2_0x3a07e7,_0x354572=[],_0x4d7b64=_0x56f9e9[_0x371dc8(0x21a)];if(_0x48e436===_0x371dc8(0x125)){const _0x3ab01a={..._0x56f9e9,'seriesId':null},_0x3d0107=sessions[_0x371dc8(0xb6)](_0x58f957=>_0x58f957['id']===_0x56f9e9['id']);if(_0x3d0107!==-0x1)sessions[_0x3d0107]=_0x3ab01a;_0x354572['push'](_0x3ab01a['dateStr']);}else{if(_0x48e436===_0x371dc8(0x13c)){const _0xddd647=_0x56f9e9[_0x371dc8(0x154)];sessions[_0x371dc8(0x15a)]((_0x346c15,_0x28b4a2)=>{const _0x285b03=_0x371dc8;_0x346c15[_0x285b03(0x21a)]===_0x4d7b64&&_0x346c15['dateStr']>=_0xddd647&&(sessions[_0x28b4a2]={...sessions[_0x28b4a2],'start':_0x56f9e9[_0x285b03(0x1d7)],'end':_0x56f9e9[_0x285b03(0xc8)],'note':_0x56f9e9[_0x285b03(0x1e6)],'client':_0x56f9e9[_0x285b03(0xd7)],'clientId':_0x56f9e9[_0x285b03(0x143)]},_0x354572[_0x285b03(0x1eb)](_0x346c15[_0x285b03(0x154)]));});}}afterSaveAction(_0x354572);}function tryDeleteSession(){const _0x53b99b=a2_0x3a07e7,_0x258d4c=sessions['find'](_0x133b6d=>_0x133b6d['id']===editingId);if(!_0x258d4c)return;_0x258d4c[_0x53b99b(0x21a)]?openActionSheet('delete'):commitDelete(_0x53b99b(0x125),_0x258d4c);}function commitDelete(_0x2a92cc,_0x4db743){const _0xef234=a2_0x3a07e7;lastUserActionTime=Date['now'](),NotificationManager[_0xef234(0xfb)](_0xef234(0x1fb),_0x4db743);const _0x4cfe1a=[];if(_0x2a92cc===_0xef234(0x125))sessions=sessions[_0xef234(0x107)](_0x39904c=>_0x39904c['id']!==_0x4db743['id']),_0x4cfe1a['push'](_0x4db743[_0xef234(0x154)]);else{if(_0x2a92cc===_0xef234(0x13c)){const _0x21cfae=_0x4db743[_0xef234(0x154)],_0xa39776=_0x4db743[_0xef234(0x21a)];sessions[_0xef234(0x15a)](_0x251500=>{const _0x1a1482=_0xef234;_0x251500[_0x1a1482(0x21a)]===_0xa39776&&_0x251500[_0x1a1482(0x154)]>=_0x21cfae&&_0x4cfe1a[_0x1a1482(0x1eb)](_0x251500[_0x1a1482(0x154)]);}),sessions=sessions[_0xef234(0x107)](_0x24cd0c=>!(_0x24cd0c[_0xef234(0x21a)]===_0xa39776&&_0x24cd0c[_0xef234(0x154)]>=_0x21cfae));}}afterSaveAction(_0x4cfe1a);}function afterSaveAction(_0xbd1e59){const _0x55cbd2=a2_0x3a07e7;DataManager[_0x55cbd2(0xe4)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x55cbd2(0x108)](_0xbd1e59)[_0x55cbd2(0x130)](()=>console[_0x55cbd2(0x1f9)](_0x55cbd2(0xcd)))[_0x55cbd2(0x168)](_0x18a7b3=>showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ',![]));}const NotificationManager={'formatDate'(_0x336449){const _0x193a6f=a2_0x3a07e7,_0x1a5340=new Date(_0x336449),_0x511bd4={'weekday':_0x193a6f(0x1b3),'day':'numeric','month':_0x193a6f(0x1b3)};let _0x594a71=_0x1a5340['toLocaleDateString']('ru-RU',_0x511bd4);return _0x594a71[_0x193a6f(0x133)](0x0)['toUpperCase']()+_0x594a71[_0x193a6f(0xb1)](0x1);},'getText'(_0xe0db56,_0x177af3){const _0x153049=a2_0x3a07e7,_0x5ec7e2=this[_0x153049(0x162)](_0x177af3[_0x153049(0x154)]);switch(_0xe0db56){case _0x153049(0x15e):return'<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a'+(_0x153049(0x20b)+_0x5ec7e2+'\x0a')+(_0x153049(0x152)+_0x177af3['start']+_0x153049(0x14e)+_0x177af3[_0x153049(0xc8)]+'\x0a\x0a')+'–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™';case'update':return _0x153049(0x1f6)+_0x153049(0xf1)+(_0x153049(0x1ca)+_0x177af3['start']+_0x153049(0x14e)+_0x177af3[_0x153049(0xc8)]+_0x153049(0xe9))+(_0x153049(0x20b)+_0x5ec7e2);case _0x153049(0x1fb):return'<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a'+('–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>'+_0x5ec7e2+'\x20('+_0x177af3['start']+_0x153049(0x119));case _0x153049(0xfd):return _0x153049(0x1bd)+_0x153049(0xee)+'<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>';default:return'';}},async 'send'(_0x5186f7,_0x57367b){const _0xccb144=a2_0x3a07e7;console['log']('[Notify]\x20Attempting\x20to\x20send:',_0x5186f7,_0x57367b);if(!_0x57367b){console['error'](_0xccb144(0x1c0));return;}const _0x4b9608=String(_0x57367b[_0xccb144(0x143)]);console[_0xccb144(0x1f9)]('[Notify]\x20Detected\x20Client\x20ID:',_0x4b9608);if(!_0x57367b[_0xccb144(0x143)]||_0x4b9608===_0xccb144(0xb3)||_0x4b9608==='null'){console['error']('[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!');if(_0x57367b[_0xccb144(0xd7)]){const _0x548573=clients[_0xccb144(0x19d)](_0x488087=>_0x488087[_0xccb144(0x1f3)]===_0x57367b[_0xccb144(0xd7)]);if(_0x548573)return console[_0xccb144(0x1f9)](_0xccb144(0xde),_0x548573['id']),this['send'](_0x5186f7,{..._0x57367b,'clientId':_0x548573['id']});}return;}if(_0x4b9608[_0xccb144(0x104)]<0x5){console[_0xccb144(0x1c5)](_0xccb144(0x223),_0x4b9608);return;}const _0x3f045c=this[_0xccb144(0x1b7)](_0x5186f7,_0x57367b);if(!_0x3f045c){console[_0xccb144(0x150)]('[Notify]\x20Error:\x20Text\x20generation\x20failed');return;}console['log'](_0xccb144(0x228)+_0x4b9608+_0xccb144(0x1cf)),DataManager['fetchFromServer'](_0xccb144(0x187),{'chatId':_0x4b9608,'text':_0x3f045c})[_0xccb144(0x130)](_0x3ac711=>console[_0xccb144(0x1f9)](_0xccb144(0x12f),_0x3ac711))[_0xccb144(0x168)](_0x31e8ca=>console['error'](_0xccb144(0x103),_0x31e8ca));}};function getLocalDateStr(_0x1c1d38){const _0x5dd848=a2_0x3a07e7,_0x293770=_0x1c1d38[_0x5dd848(0xdf)](),_0x2c7694=String(_0x1c1d38[_0x5dd848(0x188)]()+0x1)['padStart'](0x2,'0'),_0x18d82b=String(_0x1c1d38[_0x5dd848(0x137)]())[_0x5dd848(0xd2)](0x2,'0');return _0x293770+'-'+_0x2c7694+'-'+_0x18d82b;}function getDateStr(_0x33f57e){const _0x5c35ac=a2_0x3a07e7,_0x6fe5bb=new Date();return _0x6fe5bb[_0x5c35ac(0x1dc)](_0x6fe5bb[_0x5c35ac(0x137)]()+_0x33f57e),getLocalDateStr(_0x6fe5bb);}function a2_0x270c(_0xb7198,_0x46bbd1){_0xb7198=_0xb7198-0xa9;const _0x5684ff=a2_0x1a7a();let _0x522f46=_0x5684ff[_0xb7198];return _0x522f46;}function getStartOfWeek(_0x5c163d){const _0x2892be=a2_0x3a07e7,_0x173b44=(function(){let _0x5eb704=!![];return function(_0x5a0bdf,_0x3c8e47){const _0x3b8b86=_0x5eb704?function(){const _0x1ea031=a2_0x270c;if(_0x3c8e47){const _0x31e4a7=_0x3c8e47[_0x1ea031(0xda)](_0x5a0bdf,arguments);return _0x3c8e47=null,_0x31e4a7;}}:function(){};return _0x5eb704=![],_0x3b8b86;};}()),_0x34a3b0=_0x173b44(this,function(){const _0xa16d96=a2_0x270c;return _0x34a3b0['toString']()[_0xa16d96(0xdb)](_0xa16d96(0x1ab))[_0xa16d96(0x183)]()[_0xa16d96(0x1ff)](_0x34a3b0)[_0xa16d96(0xdb)](_0xa16d96(0x1ab));});_0x34a3b0();const _0x3202e6=new Date(_0x5c163d),_0x5d6840=_0x3202e6[_0x2892be(0x129)](),_0x1dc59b=_0x3202e6[_0x2892be(0x137)]()-_0x5d6840+(_0x5d6840===0x0?-0x6:0x1);return _0x3202e6[_0x2892be(0x1dc)](_0x1dc59b),_0x3202e6[_0x2892be(0x120)](0x0,0x0,0x0,0x0),_0x3202e6;}function hexToRgba(_0x430011,_0x3b892b){const _0x351131=a2_0x3a07e7;if(!_0x430011)return _0x351131(0x1b5);let _0x46f4bc=0x0,_0x21d71d=0x0,_0x37d15f=0x0;if(_0x430011[_0x351131(0x104)]===0x4)_0x46f4bc='0x'+_0x430011[0x1]+_0x430011[0x1],_0x21d71d='0x'+_0x430011[0x2]+_0x430011[0x2],_0x37d15f='0x'+_0x430011[0x3]+_0x430011[0x3];else _0x430011[_0x351131(0x104)]===0x7&&(_0x46f4bc='0x'+_0x430011[0x1]+_0x430011[0x2],_0x21d71d='0x'+_0x430011[0x3]+_0x430011[0x4],_0x37d15f='0x'+_0x430011[0x5]+_0x430011[0x6]);return'rgba('+ +_0x46f4bc+',\x20'+ +_0x21d71d+',\x20'+ +_0x37d15f+',\x20'+_0x3b892b+')';}function renderTimeColumn(){const _0x48e06f=a2_0x3a07e7,_0xf8e6a2=document[_0x48e06f(0xe5)](_0x48e06f(0xaa)),_0xafd3d5=document[_0x48e06f(0xe5)]('timeLineBadge');_0xf8e6a2[_0x48e06f(0xd1)]='',_0xf8e6a2[_0x48e06f(0x189)](_0xafd3d5);for(let _0x384835=0x0;_0x384835<0x18;_0x384835++){const _0x3a5a7f=document[_0x48e06f(0xf7)](_0x48e06f(0x1c1));_0x3a5a7f['className']=_0x48e06f(0x1a8);if(_0x384835>0x0)_0x3a5a7f[_0x48e06f(0xd1)]=_0x48e06f(0x19a)+String(_0x384835)['padStart'](0x2,'0')+_0x48e06f(0x175);_0xf8e6a2[_0x48e06f(0x189)](_0x3a5a7f);}}function renderDayRange(_0xfb9aa,_0x3812b8){const _0x3a1665=a2_0x3a07e7,_0x527c5a=document['getElementById'](_0x3a1665(0x1bf)),_0x4d6cb6=document['getElementById']('gridColumns'),_0x5eeee3=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x5952cb=new Date();_0x5952cb[_0x3a1665(0x120)](0x0,0x0,0x0,0x0);const _0x546680=getLocalDateStr(new Date());for(let _0x3f0417=_0xfb9aa;_0x3f0417<=_0x3812b8;_0x3f0417++){const _0x44bbb6=new Date(_0x5952cb);_0x44bbb6[_0x3a1665(0x1dc)](_0x44bbb6[_0x3a1665(0x137)]()+_0x3f0417);const _0x16fb23=getLocalDateStr(_0x44bbb6);let _0x2a2e1f=_0x44bbb6[_0x3a1665(0x129)]()-0x1;if(_0x2a2e1f===-0x1)_0x2a2e1f=0x6;const _0x81102b=_0x16fb23===_0x546680,_0x1d4ed6=document[_0x3a1665(0xf7)](_0x3a1665(0x1c1));_0x1d4ed6[_0x3a1665(0x17e)]=_0x3a1665(0x196)+(_0x81102b?_0x3a1665(0x203):''),_0x1d4ed6['id']=_0x3a1665(0xae)+_0x16fb23,_0x1d4ed6[_0x3a1665(0xbb)]('data-date',_0x16fb23),_0x1d4ed6[_0x3a1665(0xd1)]='<div\x20class=\x22dch-day\x22>'+_0x5eeee3[_0x2a2e1f]+_0x3a1665(0x106)+_0x44bbb6[_0x3a1665(0x137)]()+_0x3a1665(0xf9)+_0x16fb23+_0x3a1665(0x222),_0x1d4ed6[_0x3a1665(0xfc)]=()=>openDayOptions(_0x16fb23,_0x5eeee3[_0x2a2e1f]+'\x20'+_0x44bbb6['getDate']()),_0x527c5a['appendChild'](_0x1d4ed6);const _0xcfc847=document[_0x3a1665(0xf7)](_0x3a1665(0x1c1));_0xcfc847['className']='day-column\x20'+(_0x81102b?_0x3a1665(0x203):''),_0xcfc847[_0x3a1665(0xbb)](_0x3a1665(0xd8),_0x16fb23),_0xcfc847[_0x3a1665(0xbb)](_0x3a1665(0xe8),_0x2a2e1f),renderEventsForColumn(_0xcfc847,_0x16fb23,_0x2a2e1f),attachLongPressHandler(_0xcfc847,_0x44bbb6),_0x4d6cb6['appendChild'](_0xcfc847),updateDayStats(_0x16fb23);}}function reRenderBlocks(){const _0x1f6a2f=a2_0x3a07e7;document['querySelectorAll'](_0x1f6a2f(0x16f))[_0x1f6a2f(0x15a)](_0x7892ce=>{const _0x4e80ec=_0x1f6a2f;_0x7892ce[_0x4e80ec(0x1dd)]('.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card')[_0x4e80ec(0x15a)](_0x16aa67=>_0x16aa67[_0x4e80ec(0x12d)]());const _0x51a558=_0x7892ce['getAttribute'](_0x4e80ec(0xd8)),_0x2bc7f9=parseInt(_0x7892ce[_0x4e80ec(0xe0)](_0x4e80ec(0xe8))),_0x3c1ae0=Math['round'](_0x7892ce[_0x4e80ec(0xbd)]);(availabilityPattern[_0x2bc7f9]||[])[_0x4e80ec(0x15a)](_0x541d4d=>{const _0x4e24a9=_0x4e80ec,_0x355a20=document[_0x4e24a9(0xf7)]('div');_0x355a20[_0x4e24a9(0x17e)]=_0x4e24a9(0xf2);const _0x320827=_0x541d4d*GRID_H;_0x355a20['style'][_0x4e24a9(0x1b0)]=_0x320827+'px',_0x355a20[_0x4e24a9(0x102)][_0x4e24a9(0x12b)]='-'+_0x3c1ae0+_0x4e24a9(0x14f)+_0x320827+'px',_0x7892ce[_0x4e24a9(0x189)](_0x355a20);});if(specialRanges&&specialRanges['length']>0x0){const _0x395a9c=new Date(_0x51a558+'T00:00:00')[_0x4e80ec(0xd3)](),_0x24dbd0=new Date(_0x51a558+'T23:59:59')[_0x4e80ec(0xd3)]();specialRanges[_0x4e80ec(0x15a)](_0x3cdce2=>{const _0x208524=_0x4e80ec,_0x123900=new Date(_0x3cdce2['start'])['getTime'](),_0xbf5e2a=new Date(_0x3cdce2['end'])['getTime'](),_0x4b97db=Math[_0x208524(0xb5)](_0x395a9c,_0x123900),_0x1a868d=Math[_0x208524(0xcf)](_0x24dbd0,_0xbf5e2a);if(_0x4b97db<_0x1a868d){if(_0x4b97db<=_0x395a9c&&_0x1a868d>=_0x24dbd0-0xea60){if(!_0x7892ce[_0x208524(0x112)](_0x208524(0x16c))){const _0x3fb454=document[_0x208524(0xf7)](_0x208524(0x1c1));_0x3fb454[_0x208524(0x17e)]='day-off-overlay\x20stripe-bg',_0x3fb454['style'][_0x208524(0x12b)]='-'+_0x3c1ae0+_0x208524(0x114),_0x7892ce[_0x208524(0x189)](_0x3fb454);}}else{const _0x591741=(_0x4b97db-_0x395a9c)/0x36ee80*GRID_H,_0x138677=(_0x1a868d-_0x4b97db)/0x36ee80*GRID_H,_0x5e8230=document[_0x208524(0xf7)](_0x208524(0x1c1));_0x5e8230[_0x208524(0x17e)]=_0x208524(0x1ec),_0x5e8230['style'][_0x208524(0x1b0)]=_0x591741+'px',_0x5e8230[_0x208524(0x102)][_0x208524(0x14c)]=_0x138677+'px',_0x5e8230['style']['backgroundPosition']='-'+_0x3c1ae0+_0x208524(0x14f)+_0x591741+'px',_0x7892ce[_0x208524(0x189)](_0x5e8230);}}});}if(dateExceptions[_0x51a558]===_0x4e80ec(0xa9)){if(!_0x7892ce[_0x4e80ec(0x112)](_0x4e80ec(0x16c))){const _0x3ca35e=document[_0x4e80ec(0xf7)](_0x4e80ec(0x1c1));_0x3ca35e['className']=_0x4e80ec(0x127),_0x3ca35e[_0x4e80ec(0x102)][_0x4e80ec(0x12b)]='-'+_0x3c1ae0+_0x4e80ec(0x114),_0x7892ce[_0x4e80ec(0x189)](_0x3ca35e);}}renderEventsForColumn(_0x7892ce,_0x51a558,_0x2bc7f9),updateDayStats(_0x51a558);});}function updateAllDayStats(){const _0x45265a=a2_0x3a07e7;document['querySelectorAll'](_0x45265a(0xbe))[_0x45265a(0x15a)](_0x3e00ab=>{const _0x524c01=_0x45265a;updateDayStats(_0x3e00ab[_0x524c01(0xe0)](_0x524c01(0xd8)));});}function updateDayStats(_0x430392){const _0x173f37=a2_0x3a07e7,_0x144a90=document[_0x173f37(0xe5)]('stat-'+_0x430392);if(!_0x144a90)return;const _0x32f5c5=new Date(_0x430392);let _0x58f1aa=_0x32f5c5[_0x173f37(0x129)]()-0x1;if(_0x58f1aa===-0x1)_0x58f1aa=0x6;if(dateExceptions[_0x430392]===_0x173f37(0xa9)){_0x144a90[_0x173f37(0x102)][_0x173f37(0x155)]=_0x173f37(0xb4);return;}const _0x2883b5=availabilityPattern[_0x58f1aa]||[],_0x577d99=0x18-_0x2883b5['length'],_0x410b64=_0x577d99*0x3c,_0x23f408=sessions[_0x173f37(0x107)](_0x1b6f97=>_0x1b6f97[_0x173f37(0x154)]===_0x430392&&_0x1b6f97[_0x173f37(0x1ae)]!==_0x173f37(0x16d));if(_0x23f408['length']===0x0){_0x144a90['style'][_0x173f37(0x155)]=_0x173f37(0xb4);return;}let _0x28385d=_0x23f408[_0x173f37(0xe2)](_0x59cc41=>{const _0x30c653=_0x173f37,[_0x598db4,_0xfd5b48]=_0x59cc41[_0x30c653(0x1d7)][_0x30c653(0xc1)](':')['map'](Number),[_0x4768fc,_0x569175]=_0x59cc41['end'][_0x30c653(0xc1)](':')[_0x30c653(0xe2)](Number);return[_0x598db4*0x3c+_0xfd5b48,_0x4768fc*0x3c+_0x569175];});_0x28385d[_0x173f37(0x206)]((_0x3f21e0,_0x3885f6)=>_0x3f21e0[0x0]-_0x3885f6[0x0]);let _0x3b90f0=[];if(_0x28385d[_0x173f37(0x104)]>0x0){let _0x32208b=_0x28385d[0x0];for(let _0x402302=0x1;_0x402302<_0x28385d[_0x173f37(0x104)];_0x402302++){_0x28385d[_0x402302][0x0]<_0x32208b[0x1]?_0x32208b[0x1]=Math[_0x173f37(0xb5)](_0x32208b[0x1],_0x28385d[_0x402302][0x1]):(_0x3b90f0[_0x173f37(0x1eb)](_0x32208b),_0x32208b=_0x28385d[_0x402302]);}_0x3b90f0['push'](_0x32208b);}let _0x301e97=0x0;_0x3b90f0['forEach'](_0x2752d6=>_0x301e97+=_0x2752d6[0x1]-_0x2752d6[0x0]),_0x144a90['style']['display']=_0x173f37(0x138);const _0x47bc8d=_0x144a90[_0x173f37(0x112)]('.dch-stats-fill');if(_0x410b64===0x0){_0x47bc8d[_0x173f37(0x102)][_0x173f37(0x145)]='100%',_0x47bc8d['style'][_0x173f37(0xcc)]=_0x173f37(0x166);return;}const _0xf6c414=_0x301e97/_0x410b64*0x64;console['log']('['+_0x430392+_0x173f37(0x204)+_0x577d99+_0x173f37(0x1cb)+_0x301e97+_0x173f37(0x1b1)+_0xf6c414[_0x173f37(0x1bb)](0x1)+'%'),_0xf6c414>0x64?(_0x47bc8d[_0x173f37(0x102)][_0x173f37(0x145)]=_0x173f37(0x1c3),_0x47bc8d[_0x173f37(0x102)]['background']=_0x173f37(0x166)):(_0x47bc8d[_0x173f37(0x102)][_0x173f37(0x145)]=_0xf6c414+'%',_0x47bc8d[_0x173f37(0x102)][_0x173f37(0xcc)]=_0x173f37(0x176));}function renderEventsForColumn(_0x51b8b6,_0x42e3b6,_0x31c891){const _0x5df4ed=a2_0x3a07e7,_0x4ff626=sessions[_0x5df4ed(0x107)](_0x54cf7f=>_0x54cf7f[_0x5df4ed(0x154)]===_0x42e3b6),_0xed322b=_0x4ff626[_0x5df4ed(0xe2)](_0x2ac755=>{const _0x44fae9=_0x5df4ed,[_0x521f12,_0x2d9d0b]=_0x2ac755[_0x44fae9(0x1d7)][_0x44fae9(0xc1)](':')[_0x44fae9(0xe2)](Number),[_0x10740d,_0x5e4980]=_0x2ac755['end'][_0x44fae9(0xc1)](':')[_0x44fae9(0xe2)](Number);return{'data':_0x2ac755,'start':_0x521f12*0x3c+_0x2d9d0b,'end':_0x10740d*0x3c+_0x5e4980,'colIndex':0x0};});_0xed322b['sort']((_0x3a8b49,_0x48b4d2)=>{const _0x47ca62=_0x5df4ed;if(_0x3a8b49['start']!==_0x48b4d2[_0x47ca62(0x1d7)])return _0x3a8b49['start']-_0x48b4d2['start'];return _0x48b4d2[_0x47ca62(0xc8)]-_0x48b4d2['start']-(_0x3a8b49['end']-_0x3a8b49[_0x47ca62(0x1d7)]);});const _0x57b2fa=[];_0xed322b['forEach'](_0x14619a=>{const _0x1f21e8=_0x5df4ed;let _0x129908=![];for(let _0x328e7=0x0;_0x328e7<_0x57b2fa[_0x1f21e8(0x104)];_0x328e7++){const _0x34c2cc=_0x57b2fa[_0x328e7],_0x5b6d33=_0x34c2cc[_0x34c2cc[_0x1f21e8(0x104)]-0x1];if(_0x14619a['start']>=_0x5b6d33['end']){_0x34c2cc[_0x1f21e8(0x1eb)](_0x14619a),_0x14619a[_0x1f21e8(0x191)]=_0x328e7,_0x129908=!![];break;}}!_0x129908&&(_0x57b2fa['push']([_0x14619a]),_0x14619a[_0x1f21e8(0x191)]=_0x57b2fa['length']-0x1);}),_0xed322b[_0x5df4ed(0x15a)](_0x5d0fc3=>{const _0x24e502=_0x5df4ed;let _0x377dd4=0x0;_0xed322b[_0x24e502(0x15a)](_0x40514b=>{const _0x33dcfb=_0x24e502;if(Math[_0x33dcfb(0xb5)](_0x5d0fc3[_0x33dcfb(0x1d7)],_0x40514b['start'])<Math[_0x33dcfb(0xcf)](_0x5d0fc3[_0x33dcfb(0xc8)],_0x40514b[_0x33dcfb(0xc8)])){if(_0x40514b[_0x33dcfb(0x191)]>_0x377dd4)_0x377dd4=_0x40514b['colIndex'];}});const _0x20ddb1=_0x377dd4+0x1,_0x169b7e=0x64/_0x20ddb1,_0x5e0628=_0x5d0fc3['colIndex']*_0x169b7e,_0x2f274d=createEventEl(_0x5d0fc3[_0x24e502(0x229)]);_0x2f274d[_0x24e502(0x102)][_0x24e502(0x145)]=_0x24e502(0x121)+_0x169b7e+_0x24e502(0x1d9),_0x2f274d[_0x24e502(0x102)]['left']='calc('+_0x5e0628+_0x24e502(0x1a0),_0x2f274d[_0x24e502(0x102)][_0x24e502(0x186)]=0xa+_0x5d0fc3[_0x24e502(0x191)],_0x169b7e<0x55&&_0x2f274d[_0x24e502(0x1ee)][_0x24e502(0x18b)](_0x24e502(0x1f0)),_0x51b8b6['appendChild'](_0x2f274d);});}function createEventEl(_0x23d82d){const _0x30b93d=a2_0x3a07e7,[_0x12ee2a,_0x5537ef]=_0x23d82d['start'][_0x30b93d(0xc1)](':')[_0x30b93d(0xe2)](Number),[_0x13834a,_0x5e179f]=_0x23d82d[_0x30b93d(0xc8)]['split'](':')[_0x30b93d(0xe2)](Number),_0x19166a=(_0x12ee2a*0x3c+_0x5537ef)/0x3c*GRID_H,_0x7ed42b=(_0x13834a*0x3c+_0x5e179f-(_0x12ee2a*0x3c+_0x5537ef))/0x3c*GRID_H,_0x208f54=document[_0x30b93d(0xf7)](_0x30b93d(0x1c1)),_0x30820a=_0x23d82d[_0x30b93d(0x1ae)]===_0x30b93d(0x1aa)?_0x30b93d(0xfe):'';_0x208f54[_0x30b93d(0x17e)]='event-card'+_0x30820a,_0x208f54[_0x30b93d(0x102)][_0x30b93d(0x1b0)]=_0x19166a+'px',_0x208f54[_0x30b93d(0x102)][_0x30b93d(0x14c)]=Math['max'](_0x7ed42b,0x14)+'px';const _0x1af51b=clients['find'](_0x33d92c=>_0x23d82d['clientId']&&String(_0x33d92c['id'])===String(_0x23d82d[_0x30b93d(0x143)])||_0x33d92c[_0x30b93d(0x1f3)]===_0x23d82d[_0x30b93d(0xd7)]),_0x692c1b=_0x1af51b?_0x1af51b[_0x30b93d(0x1cc)]:'#0a84ff';_0x208f54['style'][_0x30b93d(0x1e0)]=_0x692c1b,_0x208f54[_0x30b93d(0x102)][_0x30b93d(0x20a)]=hexToRgba(_0x692c1b,0.85);let _0x338db1=_0x30b93d(0x13a)+_0x23d82d[_0x30b93d(0xd7)]+_0x30b93d(0x220)+_0x23d82d[_0x30b93d(0x1d7)]+_0x30b93d(0xea)+_0x23d82d[_0x30b93d(0xc8)]+_0x30b93d(0xfa);return _0x23d82d[_0x30b93d(0x21a)]&&(_0x338db1+=_0x30b93d(0x21b)),_0x23d82d['status']===_0x30b93d(0x1aa)&&(_0x338db1+=_0x30b93d(0xf3)),_0x208f54[_0x30b93d(0xd1)]=_0x338db1,_0x208f54[_0x30b93d(0xfc)]=_0x2a406f=>{_0x2a406f['stopPropagation'](),openEdit(_0x23d82d);},_0x208f54;}function attachLongPressHandler(_0x5baef8,_0xd9bf4f){const _0x5e9a9a=a2_0x3a07e7;let _0x25ba39=0x0,_0x410d36=null;const _0x509df1=_0x268db2=>{const _0x44ec62=a2_0x270c;if(_0x268db2[_0x44ec62(0x141)][_0x44ec62(0x115)](_0x44ec62(0x1df)))return;isScrolling=![],_0x25ba39=_0x268db2[_0x44ec62(0x1f7)]?_0x268db2['touches'][0x0][_0x44ec62(0x227)]:_0x268db2['clientY'],_0x410d36=setTimeout(()=>{const _0x31027f=_0x44ec62;if(!isScrolling){navigator[_0x31027f(0x136)]?.(0x32);const _0x107abf=_0x5baef8[_0x31027f(0x151)](),_0x543f90=Math[_0x31027f(0x153)]((_0x25ba39-_0x107abf[_0x31027f(0x1b0)])/GRID_H);_0xd9bf4f[_0x31027f(0x120)](_0x543f90,0x0),openAddSession(_0xd9bf4f);}},0x1f4);},_0x24f99f=()=>{isScrolling=!![],clearTimeout(_0x410d36);},_0x1609e5=()=>{clearTimeout(_0x410d36);};_0x5baef8[_0x5e9a9a(0x209)]('touchstart',_0x509df1,{'passive':!![]}),_0x5baef8[_0x5e9a9a(0x209)](_0x5e9a9a(0x1f2),_0x24f99f,{'passive':!![]}),_0x5baef8[_0x5e9a9a(0x209)](_0x5e9a9a(0x14a),_0x1609e5),_0x5baef8[_0x5e9a9a(0x209)](_0x5e9a9a(0x21f),_0x509df1),_0x5baef8[_0x5e9a9a(0x209)](_0x5e9a9a(0x1da),_0x24f99f),_0x5baef8[_0x5e9a9a(0x209)](_0x5e9a9a(0xdd),_0x1609e5);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x46b43b=a2_0x3a07e7,_0x28fcdd=document[_0x46b43b(0xe5)](_0x46b43b(0xd6)),_0x46648a=_0x28fcdd[_0x46b43b(0x19f)],_0x55ba85=_0x28fcdd[_0x46b43b(0x221)],_0x3e8aee=_0x28fcdd['clientWidth'];if(_0x55ba85-(_0x46648a+_0x3e8aee)<0x12c){const _0x494c86=endOffset;endOffset+=0xe,renderDayRange(_0x494c86+0x1,endOffset),reRenderBlocks();}if(_0x46648a<0x12c){const _0x21fc2c=startOffset;startOffset-=0xe,prependDays(startOffset,_0x21fc2c-0x1),_0x28fcdd['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x2823d9,_0x1bb916){const _0x395ba1=a2_0x3a07e7,_0x33afad=document[_0x395ba1(0xe5)](_0x395ba1(0x1bf)),_0x17bedd=document['getElementById'](_0x395ba1(0x225)),_0x3730ef=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x6f4f52=new Date();_0x6f4f52[_0x395ba1(0x120)](0x0,0x0,0x0,0x0);const _0x204a8b=getLocalDateStr(new Date()),_0x1639fd=document['createDocumentFragment'](),_0x36078a=document[_0x395ba1(0x1c9)]();for(let _0x3b85b1=_0x2823d9;_0x3b85b1<=_0x1bb916;_0x3b85b1++){const _0x44eac1=new Date(_0x6f4f52);_0x44eac1['setDate'](_0x44eac1[_0x395ba1(0x137)]()+_0x3b85b1);const _0x4c24cc=getLocalDateStr(_0x44eac1);let _0x43351e=_0x44eac1[_0x395ba1(0x129)]()-0x1;if(_0x43351e===-0x1)_0x43351e=0x6;const _0x10b7eb=_0x4c24cc===_0x204a8b,_0x32d334=document[_0x395ba1(0xf7)](_0x395ba1(0x1c1));_0x32d334['className']=_0x395ba1(0x196)+(_0x10b7eb?_0x395ba1(0x203):''),_0x32d334['id']='header-'+_0x4c24cc,_0x32d334['setAttribute'](_0x395ba1(0xd8),_0x4c24cc),_0x32d334[_0x395ba1(0xd1)]='<div\x20class=\x22dch-day\x22>'+_0x3730ef[_0x43351e]+_0x395ba1(0x106)+_0x44eac1['getDate']()+_0x395ba1(0xf9)+_0x4c24cc+_0x395ba1(0x222),_0x32d334[_0x395ba1(0xfc)]=()=>openDayOptions(_0x4c24cc,_0x3730ef[_0x43351e]+'\x20'+_0x44eac1[_0x395ba1(0x137)]()),_0x1639fd[_0x395ba1(0x189)](_0x32d334);const _0x575de8=document[_0x395ba1(0xf7)](_0x395ba1(0x1c1));_0x575de8[_0x395ba1(0x17e)]=_0x395ba1(0x111)+(_0x10b7eb?_0x395ba1(0x203):''),_0x575de8[_0x395ba1(0xbb)](_0x395ba1(0xd8),_0x4c24cc),_0x575de8[_0x395ba1(0xbb)]('data-day-idx',_0x43351e),renderEventsForColumn(_0x575de8,_0x4c24cc,_0x43351e),attachLongPressHandler(_0x575de8,_0x44eac1),_0x36078a[_0x395ba1(0x189)](_0x575de8),updateDayStats(_0x4c24cc);}_0x33afad[_0x395ba1(0xba)](_0x1639fd,_0x33afad[_0x395ba1(0x1f1)]),_0x17bedd[_0x395ba1(0xba)](_0x36078a,_0x17bedd[_0x395ba1(0x112)]('.day-column'));}function validateAppointment(_0x14fed1,_0x13cb77,_0x20f468,_0x2a2e28,_0x22b005){const _0x4224f3=a2_0x3a07e7,[_0x5b6a10,_0x55251a]=_0x13cb77[_0x4224f3(0xc1)](':')[_0x4224f3(0xe2)](Number),[_0x176654,_0x3b8acf]=_0x20f468[_0x4224f3(0xc1)](':')[_0x4224f3(0xe2)](Number),_0x15ce89=_0x5b6a10*0x3c+_0x55251a,_0x2f2e6d=_0x176654*0x3c+_0x3b8acf,_0x462d91=String(_0x22b005);let _0x364ddb=![],_0x395a9a='';for(let _0x1ae082 of sessions){if(_0x1ae082['dateStr']!==_0x14fed1)continue;if(_0x1ae082[_0x4224f3(0x1ae)]===_0x4224f3(0x16d))continue;if(_0x2a2e28&&String(_0x1ae082['id'])===String(_0x2a2e28))continue;const [_0x1f28f7,_0x2e2c7b]=_0x1ae082[_0x4224f3(0x1d7)][_0x4224f3(0xc1)](':')[_0x4224f3(0xe2)](Number),[_0x321f1c,_0x19f1e2]=_0x1ae082['end'][_0x4224f3(0xc1)](':')[_0x4224f3(0xe2)](Number),_0x42a655=_0x1f28f7*0x3c+_0x2e2c7b,_0x661939=_0x321f1c*0x3c+_0x19f1e2;if(Math[_0x4224f3(0xb5)](_0x15ce89,_0x42a655)<Math[_0x4224f3(0xcf)](_0x2f2e6d,_0x661939)){if(_0x1ae082[_0x4224f3(0x143)]&&String(_0x1ae082[_0x4224f3(0x143)])===_0x462d91)return{'valid':![],'msg':_0x4224f3(0xca)+_0x1ae082[_0x4224f3(0xd7)]+_0x4224f3(0x172)};_0x364ddb=!![],_0x395a9a=_0x1ae082[_0x4224f3(0xd7)];}}if(_0x364ddb)return{'valid':!![],'warning':'–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20'+_0x395a9a};return{'valid':!![]};}function updateDateDisplay(){const _0x11f626=a2_0x3a07e7,_0x1ca305=document[_0x11f626(0xe5)]('inpDate')[_0x11f626(0x180)],_0x3cd006=document['getElementById'](_0x11f626(0x19e));if(!_0x1ca305){_0x3cd006[_0x11f626(0x132)]='';return;}const [_0x264672,_0x416eb8,_0x400d26]=_0x1ca305['split']('-')[_0x11f626(0xe2)](Number),_0x59f9a9=new Date(_0x264672,_0x416eb8-0x1,_0x400d26),_0x44c8eb={'weekday':_0x11f626(0x1b3),'day':'numeric','month':_0x11f626(0x1b3),'year':_0x11f626(0x224)};let _0x2aaad7=_0x59f9a9['toLocaleDateString'](_0x11f626(0x12e),_0x44c8eb);_0x2aaad7=_0x2aaad7[_0x11f626(0x133)](0x0)['toUpperCase']()+_0x2aaad7[_0x11f626(0xb1)](0x1),_0x3cd006[_0x11f626(0x132)]=_0x2aaad7;}function autoSetEndTime(){const _0x3869a9=a2_0x3a07e7,_0x5e4c39=document['getElementById'](_0x3869a9(0x1af))[_0x3869a9(0x180)];if(!_0x5e4c39)return;const [_0xf458ae,_0x287bfb]=_0x5e4c39[_0x3869a9(0xc1)](':')['map'](Number);let _0x12f8e6=_0xf458ae+0x1;if(_0x12f8e6>0x17)_0x12f8e6=0x0;const _0xacf48c=String(_0x12f8e6)[_0x3869a9(0xd2)](0x2,'0')+':'+String(_0x287bfb)[_0x3869a9(0xd2)](0x2,'0');document['getElementById']('inpEnd')['value']=_0xacf48c;}function populateClientSelect(){const _0x22a6eb=a2_0x3a07e7,_0x45c8d6=document[_0x22a6eb(0xe5)](_0x22a6eb(0xcb));_0x45c8d6['innerHTML']='';if(clients[_0x22a6eb(0x104)]===0x0){const _0x4287ce=document[_0x22a6eb(0xf7)](_0x22a6eb(0x1ef));_0x4287ce[_0x22a6eb(0x173)]='–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤',_0x45c8d6[_0x22a6eb(0x189)](_0x4287ce);return;}clients['forEach'](_0x1304c5=>{const _0x535dbc=_0x22a6eb,_0x1aa728=document[_0x535dbc(0xf7)](_0x535dbc(0x1ef));_0x1aa728[_0x535dbc(0x180)]=_0x1304c5['name'],_0x1aa728[_0x535dbc(0x132)]=_0x1304c5['name'],_0x45c8d6[_0x535dbc(0x189)](_0x1aa728);});}function openActionSheet(_0x38ce25){const _0x44acee=a2_0x3a07e7,_0x5b767f=document[_0x44acee(0xe5)](_0x44acee(0x211)),_0x1b2985=document['getElementById'](_0x44acee(0x210)),_0x5da047=document['getElementById'](_0x44acee(0x185)),_0x5527da=document[_0x44acee(0xe5)](_0x44acee(0x18a)),_0x28f023=document[_0x44acee(0xe5)](_0x44acee(0x165));_0x1b2985['classList'][_0x44acee(0x18b)](_0x44acee(0x17b)),_0x5b767f[_0x44acee(0x1ee)]['add'](_0x44acee(0x1c8));if(_0x38ce25===_0x44acee(0x1a5))_0x5da047[_0x44acee(0x132)]='–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏',_0x5527da[_0x44acee(0x132)]=_0x44acee(0x161),_0x5527da[_0x44acee(0xfc)]=()=>{closeActionSheet(),updateSeriesBatch('single',tempSessionData);},_0x28f023[_0x44acee(0x132)]=_0x44acee(0xc3),_0x28f023['onclick']=()=>{const _0x302975=_0x44acee;closeActionSheet(),updateSeriesBatch(_0x302975(0x13c),tempSessionData);};else _0x38ce25===_0x44acee(0xf4)&&(_0x5da047['textContent']=_0x44acee(0x1ce),_0x5527da[_0x44acee(0x132)]=_0x44acee(0x161),_0x5527da['className']=_0x44acee(0x139),_0x5527da[_0x44acee(0xfc)]=()=>{const _0x2bf62a=_0x44acee;closeActionSheet(),commitDelete(_0x2bf62a(0x125),sessions[_0x2bf62a(0x19d)](_0x437a8d=>_0x437a8d['id']===editingId));},_0x28f023[_0x44acee(0x132)]=_0x44acee(0xc3),_0x28f023[_0x44acee(0x17e)]='as-button\x20danger\x20bold',_0x28f023[_0x44acee(0xfc)]=()=>{const _0x3d851d=_0x44acee;closeActionSheet(),commitDelete(_0x3d851d(0x13c),sessions['find'](_0x5f471e=>_0x5f471e['id']===editingId));});}function closeActionSheet(){const _0x339f65=a2_0x3a07e7;document[_0x339f65(0xe5)](_0x339f65(0x211))['classList'][_0x339f65(0x12d)](_0x339f65(0x1c8)),document[_0x339f65(0xe5)](_0x339f65(0x210))['classList']['remove'](_0x339f65(0x17b));}function openSettings(){const _0x5966ee=a2_0x3a07e7;openSheet(_0x5966ee(0xdc));}function saveCoachSettings(){const _0x431e11=a2_0x3a07e7,_0x464ab9=document[_0x431e11(0xe5)](_0x431e11(0x128))[_0x431e11(0x180)];localStorage[_0x431e11(0x208)]('uc_settings_cancel_window',_0x464ab9),console[_0x431e11(0x1f9)]('[Settings]\x20Cancel\x20window\x20set\x20to:',_0x464ab9),DataManager[_0x431e11(0x171)](_0x431e11(0x124),{'settings':{'cancel_window':_0x464ab9}})[_0x431e11(0x168)](_0x1ecae7=>{const _0x591bf9=_0x431e11;console[_0x591bf9(0x150)](_0x591bf9(0x113),_0x1ecae7),showToast(_0x591bf9(0x18c),![]);});}function loadCoachSettings(){const _0x127976=a2_0x3a07e7,_0xa34c87=localStorage[_0x127976(0xd4)]('uc_settings_cancel_window');_0xa34c87&&(document[_0x127976(0xe5)](_0x127976(0x128))[_0x127976(0x180)]=_0xa34c87);}function openRangesSheet(){closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet('rangesSheet');}function addRange(){const _0x51804f=a2_0x3a07e7,_0x1fabb8=document[_0x51804f(0xe5)](_0x51804f(0x1fe))[_0x51804f(0x180)],_0xb7f105=document[_0x51804f(0xe5)](_0x51804f(0x193))[_0x51804f(0x180)],_0x3cf8fa=document[_0x51804f(0xe5)](_0x51804f(0x14d))['value'],_0x287886=document['getElementById'](_0x51804f(0x17c))[_0x51804f(0x180)];if(!_0x1fabb8||!_0xb7f105||!_0x3cf8fa||!_0x287886)return alert(_0x51804f(0x1d4));const _0x3fd31a=_0x1fabb8+'T'+_0xb7f105,_0x499050=_0x3cf8fa+'T'+_0x287886;if(_0x3fd31a>=_0x499050)return alert('–û—à–∏–±–∫–∞\x20–¥–∞—Ç');specialRanges['push']({'start':_0x3fd31a,'end':_0x499050}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x51804f(0xe4)](),DataManager[_0x51804f(0x171)]('save_settings',{'settings':{'ranges':specialRanges}});}function deleteRange(_0x25734b){const _0x76bc10=a2_0x3a07e7;specialRanges['splice'](_0x25734b,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x76bc10(0xe4)](),DataManager[_0x76bc10(0x171)](_0x76bc10(0x124),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x14d6ff=a2_0x3a07e7;document[_0x14d6ff(0xe5)]('rangeStartDate')[_0x14d6ff(0x180)]='',document[_0x14d6ff(0xe5)](_0x14d6ff(0x193))[_0x14d6ff(0x180)]=_0x14d6ff(0xbc),document[_0x14d6ff(0xe5)](_0x14d6ff(0x14d))[_0x14d6ff(0x180)]='',document[_0x14d6ff(0xe5)](_0x14d6ff(0x17c))[_0x14d6ff(0x180)]=_0x14d6ff(0x1e7);}function renderRangesList(){const _0x3b6b5d=a2_0x3a07e7,_0xdc6968=document[_0x3b6b5d(0xe5)](_0x3b6b5d(0x1b9));_0xdc6968[_0x3b6b5d(0xd1)]='';if(!specialRanges[_0x3b6b5d(0x104)]){_0xdc6968['innerHTML']=_0x3b6b5d(0x123);return;}specialRanges[_0x3b6b5d(0x15a)]((_0x35fd8d,_0x3092a8)=>{const _0x16d27d=_0x3b6b5d,_0x445101=document[_0x16d27d(0xf7)](_0x16d27d(0x1c1));_0x445101['className']=_0x16d27d(0x131);const _0x13fe33=_0x32c7f7=>{const _0x5c570d=_0x16d27d,_0x18af6c=new Date(_0x32c7f7);return _0x18af6c[_0x5c570d(0x137)]()+'.'+String(_0x18af6c[_0x5c570d(0x188)]()+0x1)[_0x5c570d(0xd2)](0x2,'0')+'\x20'+String(_0x18af6c['getHours']())['padStart'](0x2,'0')+':'+String(_0x18af6c[_0x5c570d(0x182)]())[_0x5c570d(0xd2)](0x2,'0');};_0x445101[_0x16d27d(0xd1)]=_0x16d27d(0xc2)+_0x13fe33(_0x35fd8d[_0x16d27d(0x1d7)])+_0x16d27d(0x14e)+_0x13fe33(_0x35fd8d[_0x16d27d(0xc8)])+_0x16d27d(0x149)+_0x3092a8+_0x16d27d(0xb9),_0xdc6968[_0x16d27d(0x189)](_0x445101);});}function scrollToToday(){const _0x569939=a2_0x3a07e7,_0xdf80e8=getLocalDateStr(new Date()),_0x2722ff=document[_0x569939(0xe5)](_0x569939(0xae)+_0xdf80e8),_0x134d8e=document[_0x569939(0xe5)](_0x569939(0xd6));if(_0x2722ff&&_0x134d8e){const _0xbaae90=_0x134d8e[_0x569939(0x20f)],_0x15e453=_0x2722ff[_0x569939(0xbd)],_0x3cecad=_0x2722ff[_0x569939(0x218)];_0x134d8e[_0x569939(0x19f)]=_0x15e453-_0xbaae90/0x2+_0x3cecad/0x2,_0x134d8e[_0x569939(0xb7)]=0x9*GRID_H;}}function onScroll(){const _0x481c1e=a2_0x3a07e7,_0x524bb1=document[_0x481c1e(0xe5)](_0x481c1e(0xd6)),_0x1dc6a0=document['querySelectorAll']('.day-col-header');for(let _0x53e7d1 of _0x1dc6a0)if(_0x53e7d1[_0x481c1e(0xbd)]>=_0x524bb1[_0x481c1e(0x19f)]){const _0x37eb0b=new Date(_0x53e7d1['getAttribute'](_0x481c1e(0xd8)));document[_0x481c1e(0xe5)](_0x481c1e(0x1d8))[_0x481c1e(0x132)]=_0x37eb0b['toLocaleString']('ru',{'month':_0x481c1e(0x1b3)})[_0x481c1e(0x148)]()+'\x20'+_0x37eb0b[_0x481c1e(0xdf)]();break;}}function showToast(_0x2050d5,_0x1c37b0=![]){const _0x3407a0=a2_0x3a07e7,_0x336832=document['getElementById']('toast');_0x336832['className']=_0x3407a0(0x12a)+(_0x1c37b0?_0x3407a0(0x197):''),document['getElementById'](_0x3407a0(0x1d6))[_0x3407a0(0x132)]=_0x1c37b0?_0x3407a0(0x117):_0x3407a0(0x100),document[_0x3407a0(0xe5)]('toastMessage')[_0x3407a0(0x132)]=_0x2050d5,_0x336832['classList'][_0x3407a0(0x18b)]('show'),setTimeout(()=>{const _0x3606eb=_0x3407a0;_0x336832[_0x3606eb(0x1ee)][_0x3606eb(0x12d)](_0x3606eb(0x214));},0xbb8);}function openDayOptions(_0x4cd1b5,_0x11456c){const _0x3ef44d=a2_0x3a07e7;selectedDayForOptions=_0x4cd1b5,document[_0x3ef44d(0xe5)](_0x3ef44d(0x11d))[_0x3ef44d(0x132)]=_0x11456c,openSheet(_0x3ef44d(0xb0));}function toggleDayOff(){const _0x306afc=a2_0x3a07e7;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]='off',reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager['fetchFromServer'](_0x306afc(0x124),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x2a83a8=a2_0x3a07e7;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager[_0x2a83a8(0x171)](_0x2a83a8(0x124),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x26f423){const _0xf65bb2=a2_0x3a07e7;document[_0xf65bb2(0xe5)]('overlay')[_0xf65bb2(0x1ee)][_0xf65bb2(0x18b)](_0xf65bb2(0x17b)),document[_0xf65bb2(0xe5)](_0x26f423)[_0xf65bb2(0x1ee)][_0xf65bb2(0x18b)](_0xf65bb2(0x1c8));}function closeAllSheets(){const _0x331508=a2_0x3a07e7;document[_0x331508(0xe5)]('overlay')[_0x331508(0x1ee)][_0x331508(0x12d)]('active'),document[_0x331508(0x1dd)](_0x331508(0x156))[_0x331508(0x15a)](_0x1b0499=>_0x1b0499[_0x331508(0x1ee)]['remove'](_0x331508(0x1c8)));}function openPatternEditor(){const _0x4f929f=a2_0x3a07e7;closeAllSheets(),document['getElementById'](_0x4f929f(0x159))[_0x4f929f(0x1ee)][_0x4f929f(0x18b)]('open'),renderPatternEditor();}function closePatternEditor(){const _0x960c32=a2_0x3a07e7;document[_0x960c32(0xe5)](_0x960c32(0x159))['classList'][_0x960c32(0x12d)](_0x960c32(0x1c8));}function savePattern(){const _0x34df71=a2_0x3a07e7;document[_0x34df71(0xe5)]('patternEditor')[_0x34df71(0x1ee)][_0x34df71(0x12d)]('open'),reRenderBlocks(),DataManager['saveLocally'](),DataManager['fetchFromServer'](_0x34df71(0x124),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x139bb1=a2_0x3a07e7,_0x56f815=document[_0x139bb1(0xe5)](_0x139bb1(0x202));_0x56f815['innerHTML']='';const _0x59f736=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x3ef664=document[_0x139bb1(0xf7)](_0x139bb1(0x1c1));_0x3ef664[_0x139bb1(0x17e)]=_0x139bb1(0x13b),_0x56f815[_0x139bb1(0x189)](_0x3ef664),_0x59f736[_0x139bb1(0x15a)]((_0x3b240d,_0x4b67f2)=>{const _0x5e26da=_0x139bb1,_0x391938=document[_0x5e26da(0xf7)](_0x5e26da(0x1c1));_0x391938['className']=_0x5e26da(0x10c),_0x391938[_0x5e26da(0xd1)]=_0x3b240d+'\x20<span\x20class=\x22arrow\x22>‚Üì</span>',_0x391938['onclick']=()=>toggleColPattern(_0x4b67f2),_0x56f815['appendChild'](_0x391938);});for(let _0xa05b70=0x0;_0xa05b70<0x18;_0xa05b70++){const _0x1d37a4=document[_0x139bb1(0xf7)](_0x139bb1(0x1c1));_0x1d37a4[_0x139bb1(0x17e)]=_0x139bb1(0x14b),_0x1d37a4[_0x139bb1(0xd1)]=_0x139bb1(0x101)+String(_0xa05b70)[_0x139bb1(0xd2)](0x2,'0')+':00',_0x1d37a4[_0x139bb1(0xfc)]=()=>toggleRowPattern(_0xa05b70),_0x56f815[_0x139bb1(0x189)](_0x1d37a4);for(let _0x414ef9=0x0;_0x414ef9<0x7;_0x414ef9++){const _0x42516d=document[_0x139bb1(0xf7)](_0x139bb1(0x1c1)),_0x286835=(availabilityPattern[_0x414ef9]||[])[_0x139bb1(0x134)](_0xa05b70),_0x650cd6=!_0x286835;_0x42516d[_0x139bb1(0x17e)]=_0x139bb1(0x10f)+(_0x650cd6?'active':''),_0x42516d['onclick']=()=>toggleSinglePattern(_0x414ef9,_0xa05b70),_0x56f815[_0x139bb1(0x189)](_0x42516d);}}}function toggleSinglePattern(_0x20e5b7,_0x4ce496){const _0x34eb90=a2_0x3a07e7;if(!availabilityPattern[_0x20e5b7])availabilityPattern[_0x20e5b7]=[];const _0x34f355=availabilityPattern[_0x20e5b7],_0x1281c3=_0x34f355[_0x34eb90(0xd0)](_0x4ce496);_0x1281c3===-0x1?_0x34f355[_0x34eb90(0x1eb)](_0x4ce496):_0x34f355[_0x34eb90(0x1ac)](_0x1281c3,0x1),renderPatternEditor();}function toggleColPattern(_0xb92d65){const _0x41016d=a2_0x3a07e7;if(!availabilityPattern[_0xb92d65])availabilityPattern[_0xb92d65]=[];const _0x2d7045=availabilityPattern[_0xb92d65];_0x2d7045[_0x41016d(0x104)]===0x0?availabilityPattern[_0xb92d65]=Array[_0x41016d(0x18f)]({'length':0x18},(_0x157272,_0x3a338a)=>_0x3a338a):availabilityPattern[_0xb92d65]=[],renderPatternEditor();}function toggleRowPattern(_0x4c0857){const _0x4f5bb6=a2_0x3a07e7;let _0x235c16=!![];for(let _0x59891b=0x0;_0x59891b<0x7;_0x59891b++){if((availabilityPattern[_0x59891b]||[])['includes'](_0x4c0857)){_0x235c16=![];break;}}for(let _0x709fe9=0x0;_0x709fe9<0x7;_0x709fe9++){if(!availabilityPattern[_0x709fe9])availabilityPattern[_0x709fe9]=[];const _0x1432dc=availabilityPattern[_0x709fe9][_0x4f5bb6(0xd0)](_0x4c0857);if(_0x235c16){if(_0x1432dc===-0x1)availabilityPattern[_0x709fe9][_0x4f5bb6(0x1eb)](_0x4c0857);}else{if(_0x1432dc!==-0x1)availabilityPattern[_0x709fe9][_0x4f5bb6(0x1ac)](_0x1432dc,0x1);}}renderPatternEditor();}function renderPCol(_0x1bb613,_0xc5bc82){const _0x1cac6a=a2_0x3a07e7;_0x1bb613[_0x1cac6a(0xd1)]='';const _0x3585b7=Math[_0x1cac6a(0x11c)](_0x1bb613[_0x1cac6a(0xbd)]);(availabilityPattern[_0xc5bc82]||[])['forEach'](_0x17c4e1=>{const _0x2489ee=_0x1cac6a,_0x3b7d3c=document[_0x2489ee(0xf7)](_0x2489ee(0x1c1));_0x3b7d3c[_0x2489ee(0x17e)]=_0x2489ee(0xf2);const _0x1bf4ee=_0x17c4e1*GRID_H;_0x3b7d3c[_0x2489ee(0x102)]['top']=_0x1bf4ee+'px',_0x3b7d3c['style'][_0x2489ee(0x12b)]='-'+_0x3585b7+_0x2489ee(0x14f)+_0x1bf4ee+'px',_0x3b7d3c[_0x2489ee(0xfc)]=_0x3aab12=>{const _0x184b58=_0x2489ee;_0x3aab12[_0x184b58(0x1fd)](),toggleSinglePattern(_0xc5bc82,_0x17c4e1);},_0x1bb613[_0x2489ee(0x189)](_0x3b7d3c);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x5e3455=a2_0x3a07e7,_0x4bb2b4=new Date(),_0x57e69a=document[_0x5e3455(0xe5)](_0x5e3455(0x116)),_0x57c16=document[_0x5e3455(0xe5)](_0x5e3455(0x1d0)),_0x34569c=(_0x4bb2b4['getHours']()*0x3c+_0x4bb2b4[_0x5e3455(0x182)]())/0x3c*GRID_H;_0x57e69a[_0x5e3455(0x102)][_0x5e3455(0x1b0)]=_0x34569c+'px',_0x57e69a[_0x5e3455(0x102)][_0x5e3455(0x155)]=_0x5e3455(0xe6),_0x57c16[_0x5e3455(0x132)]=String(_0x4bb2b4[_0x5e3455(0x13f)]())[_0x5e3455(0xd2)](0x2,'0')+':'+String(_0x4bb2b4[_0x5e3455(0x182)]())['padStart'](0x2,'0'),_0x57c16['style'][_0x5e3455(0x155)]=_0x5e3455(0xe6),_0x57c16[_0x5e3455(0x102)]['top']=_0x34569c+'px';}document[a2_0x3a07e7(0x209)](a2_0x3a07e7(0x169),init);function openDayOptions(_0x16fd5a){const _0x37fb04=a2_0x3a07e7;selectedDayForOptions=_0x16fd5a;const _0x5f1fad=new Date(_0x16fd5a),_0x5cce08={'weekday':_0x37fb04(0x1b3),'day':_0x37fb04(0x224),'month':_0x37fb04(0x1b3),'year':_0x37fb04(0x224)},_0x149210=_0x5f1fad[_0x37fb04(0x190)]('ru-RU',_0x5cce08);document[_0x37fb04(0xe5)](_0x37fb04(0x20e))[_0x37fb04(0x132)]=_0x149210[_0x37fb04(0x133)](0x0)[_0x37fb04(0x148)]()+_0x149210[_0x37fb04(0xb1)](0x1);let _0x1b1e35=_0x5f1fad['getDay']()-0x1;if(_0x1b1e35===-0x1)_0x1b1e35=0x6;const _0x380d58=availabilityPattern[_0x1b1e35]||[],_0x5efa9e=0x18-_0x380d58['length'],_0xdc1446=_0x5efa9e*0x3c,_0x3701dd=sessions['filter'](_0x3985f6=>_0x3985f6[_0x37fb04(0x154)]===_0x16fd5a&&_0x3985f6[_0x37fb04(0x1ae)]!==_0x37fb04(0x16d));let _0x2e42e7=_0x3701dd[_0x37fb04(0xe2)](_0x1d9b92=>{const _0x5a077d=_0x37fb04,[_0x24ba00,_0x3997f8]=_0x1d9b92[_0x5a077d(0x1d7)][_0x5a077d(0xc1)](':')[_0x5a077d(0xe2)](Number),[_0x4b2541,_0x113b74]=_0x1d9b92[_0x5a077d(0xc8)][_0x5a077d(0xc1)](':')[_0x5a077d(0xe2)](Number);return[_0x24ba00*0x3c+_0x3997f8,_0x4b2541*0x3c+_0x113b74];});_0x2e42e7[_0x37fb04(0x206)]((_0x105787,_0x4abb15)=>_0x105787[0x0]-_0x4abb15[0x0]);let _0x36ec03=[];if(_0x2e42e7['length']>0x0){let _0x1c4c58=_0x2e42e7[0x0];for(let _0x1f82ee=0x1;_0x1f82ee<_0x2e42e7['length'];_0x1f82ee++){_0x2e42e7[_0x1f82ee][0x0]<_0x1c4c58[0x1]?_0x1c4c58[0x1]=Math[_0x37fb04(0xb5)](_0x1c4c58[0x1],_0x2e42e7[_0x1f82ee][0x1]):(_0x36ec03['push'](_0x1c4c58),_0x1c4c58=_0x2e42e7[_0x1f82ee]);}_0x36ec03[_0x37fb04(0x1eb)](_0x1c4c58);}let _0x394d64=0x0;_0x36ec03[_0x37fb04(0x15a)](_0x252d35=>_0x394d64+=_0x252d35[0x1]-_0x252d35[0x0]),document[_0x37fb04(0xe5)]('doWorkHours')[_0x37fb04(0x132)]=formatMinsToHrs(_0xdc1446),document[_0x37fb04(0xe5)](_0x37fb04(0x1e4))['textContent']=formatMinsToHrs(_0x394d64);const _0x3ffa4f=_0xdc1446>0x0?Math[_0x37fb04(0x11c)](_0x394d64/_0xdc1446*0x64):0x0,_0x54bc7c=document[_0x37fb04(0xe5)](_0x37fb04(0x10a));_0x54bc7c[_0x37fb04(0x132)]=_0x3ffa4f+'%';const _0x33ad75=document[_0x37fb04(0xe5)](_0x37fb04(0x1e2));if(_0x3ffa4f>0x64)_0x54bc7c[_0x37fb04(0x102)]['color']=_0x37fb04(0x166),_0x33ad75['style'][_0x37fb04(0x118)]=_0x37fb04(0x15f);else _0x3ffa4f>0x50?(_0x54bc7c[_0x37fb04(0x102)]['color']=_0x37fb04(0x135),_0x33ad75[_0x37fb04(0x102)][_0x37fb04(0x118)]=_0x37fb04(0xd5)):(_0x54bc7c[_0x37fb04(0x102)][_0x37fb04(0x1cc)]=_0x37fb04(0x213),_0x33ad75[_0x37fb04(0x102)][_0x37fb04(0x118)]=_0x37fb04(0x10e));const _0x47ccb2=document[_0x37fb04(0xe5)](_0x37fb04(0x144));_0x47ccb2['innerHTML']='';_0x3701dd['length']===0x0?_0x47ccb2[_0x37fb04(0xd1)]='<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>':(_0x3701dd['sort']((_0x4ac05c,_0x2c5ba9)=>_0x4ac05c[_0x37fb04(0x1d7)][_0x37fb04(0x15b)](_0x2c5ba9[_0x37fb04(0x1d7)])),_0x3701dd[_0x37fb04(0x15a)](_0x4e92a5=>{const _0x32dff6=_0x37fb04,_0x599f3a=clients[_0x32dff6(0x19d)](_0x562bc8=>_0x562bc8['name']===_0x4e92a5[_0x32dff6(0xd7)]),_0xff5d65=_0x599f3a?_0x599f3a[_0x32dff6(0x1cc)]:'#fff',_0x26beae=_0x4e92a5[_0x32dff6(0x1ae)]===_0x32dff6(0x1aa),_0x5ad212=_0x26beae?_0x32dff6(0x207):'',_0x190a56=document[_0x32dff6(0xf7)]('div');_0x190a56[_0x32dff6(0x17e)]=_0x32dff6(0x181),_0x190a56[_0x32dff6(0x102)]['borderLeftColor']=_0xff5d65,_0x190a56[_0x32dff6(0xd1)]=_0x32dff6(0x199)+_0x4e92a5[_0x32dff6(0x1d7)]+_0x32dff6(0xea)+_0x4e92a5[_0x32dff6(0xc8)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4e92a5[_0x32dff6(0xd7)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5ad212+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x47ccb2['appendChild'](_0x190a56);}));const _0x4fc93a=document[_0x37fb04(0xe5)](_0x37fb04(0x1e5)),_0x30bf7a=dateExceptions[_0x16fd5a]==='off';_0x30bf7a?(_0x4fc93a[_0x37fb04(0x132)]='–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º',_0x4fc93a['className']=_0x37fb04(0x1d5),_0x4fc93a[_0x37fb04(0x102)][_0x37fb04(0x1cc)]='var(--acc-green)',_0x4fc93a['style'][_0x37fb04(0xcc)]=_0x37fb04(0x1ed)):(_0x4fc93a[_0x37fb04(0x132)]='–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º',_0x4fc93a['className']=_0x37fb04(0x178),_0x4fc93a[_0x37fb04(0x102)][_0x37fb04(0x1cc)]=_0x37fb04(0x166),_0x4fc93a[_0x37fb04(0x102)][_0x37fb04(0xcc)]=_0x37fb04(0x21e)),openSheet(_0x37fb04(0xb0));}let currentAnPeriod=a2_0x3a07e7(0x17d);function openAnalytics(){const _0x1bebe9=a2_0x3a07e7,_0x5820bd=document[_0x1bebe9(0x112)](_0x1bebe9(0x198));setAnalyticsPeriod(_0x1bebe9(0x17d),_0x5820bd),closeAllSheets(),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x25676b,_0x45083b){const _0x669cfd=a2_0x3a07e7;currentAnPeriod=_0x25676b,document[_0x669cfd(0x1dd)](_0x669cfd(0x198))[_0x669cfd(0x15a)](_0x14fce8=>_0x14fce8[_0x669cfd(0x1ee)][_0x669cfd(0x12d)](_0x669cfd(0x17b)));if(_0x45083b)_0x45083b[_0x669cfd(0x1ee)][_0x669cfd(0x18b)](_0x669cfd(0x17b));const _0x3934fb=document[_0x669cfd(0xe5)](_0x669cfd(0x1bc));_0x3934fb[_0x669cfd(0x102)][_0x669cfd(0x155)]=_0x25676b===_0x669cfd(0x16a)?_0x669cfd(0x138):_0x669cfd(0xb4);const _0x4d590a=new Date();let _0x4ef4aa=new Date(),_0x1797b6=new Date();if(_0x25676b==='week')_0x4ef4aa=getStartOfWeek(_0x4d590a),_0x1797b6=new Date(_0x4ef4aa),_0x1797b6[_0x669cfd(0x1dc)](_0x1797b6['getDate']()+0x6);else{if(_0x25676b===_0x669cfd(0x1a4))_0x4ef4aa=new Date(_0x4d590a[_0x669cfd(0xdf)](),_0x4d590a[_0x669cfd(0x188)](),0x1),_0x1797b6=new Date(_0x4d590a[_0x669cfd(0xdf)](),_0x4d590a[_0x669cfd(0x188)]()+0x1,0x0);else{!document[_0x669cfd(0xe5)](_0x669cfd(0x201))[_0x669cfd(0x180)]&&(document['getElementById'](_0x669cfd(0x201))['value']=getLocalDateStr(_0x4d590a),document[_0x669cfd(0xe5)](_0x669cfd(0x179))[_0x669cfd(0x180)]=getLocalDateStr(_0x4d590a));refreshAnalytics();return;}}document[_0x669cfd(0xe5)]('anStart')['value']=getLocalDateStr(_0x4ef4aa),document[_0x669cfd(0xe5)](_0x669cfd(0x179))[_0x669cfd(0x180)]=getLocalDateStr(_0x1797b6),refreshAnalytics();}function refreshAnalytics(){const _0xca4eb5=a2_0x3a07e7,_0x2284d6=document['getElementById'](_0xca4eb5(0x201))[_0xca4eb5(0x180)],_0x562403=document[_0xca4eb5(0xe5)](_0xca4eb5(0x179))[_0xca4eb5(0x180)];if(!_0x2284d6||!_0x562403)return;const _0x302c0c=sessions[_0xca4eb5(0x107)](_0x4eabf0=>_0x4eabf0['dateStr']>=_0x2284d6&&_0x4eabf0[_0xca4eb5(0x154)]<=_0x562403&&_0x4eabf0[_0xca4eb5(0x1ae)]!==_0xca4eb5(0x16d)),_0x3a3ec9=_0x302c0c[_0xca4eb5(0x104)],_0x214328=_0x302c0c[_0xca4eb5(0x107)](_0x4d5191=>_0x4d5191[_0xca4eb5(0x1ae)]===_0xca4eb5(0x1aa))[_0xca4eb5(0x104)],_0xbb4595=_0x3a3ec9>0x0?Math[_0xca4eb5(0x11c)](_0x214328/_0x3a3ec9*0x64):0x0;document[_0xca4eb5(0xe5)](_0xca4eb5(0xad))[_0xca4eb5(0x132)]=_0xbb4595+'%',document[_0xca4eb5(0xe5)](_0xca4eb5(0x13e))[_0xca4eb5(0x132)]=_0x214328+_0xca4eb5(0xef)+_0x3a3ec9+_0xca4eb5(0x1de);const _0x27e023=document[_0xca4eb5(0xe5)](_0xca4eb5(0xf6)),_0x2810e2=0x2*Math['PI']*0x23,_0x390504=_0x2810e2-_0xbb4595/0x64*_0x2810e2;_0x27e023[_0xca4eb5(0x102)][_0xca4eb5(0x163)]=_0x390504;const _0x1a7631={};_0x302c0c[_0xca4eb5(0x15a)](_0x42b573=>{const _0x359aa8=_0xca4eb5;if(!_0x1a7631[_0x42b573[_0x359aa8(0xd7)]]){const _0x171414=clients[_0x359aa8(0x19d)](_0x51f6b0=>_0x51f6b0['name']===_0x42b573[_0x359aa8(0xd7)]);_0x1a7631[_0x42b573[_0x359aa8(0xd7)]]={'total':0x0,'done':0x0,'color':_0x171414?_0x171414[_0x359aa8(0x1cc)]:_0x359aa8(0x1a7)};}_0x1a7631[_0x42b573['client']][_0x359aa8(0xec)]++;if(_0x42b573['status']==='completed')_0x1a7631[_0x42b573[_0x359aa8(0xd7)]][_0x359aa8(0x17f)]++;});const _0x1f7350=document[_0xca4eb5(0xe5)](_0xca4eb5(0x1a9));_0x1f7350['innerHTML']='';const _0x41a872=Object[_0xca4eb5(0x146)](_0x1a7631)[_0xca4eb5(0x206)]((_0xf13679,_0x48fee4)=>_0x48fee4[0x1][_0xca4eb5(0xec)]-_0xf13679[0x1][_0xca4eb5(0xec)]);if(_0x41a872[_0xca4eb5(0x104)]===0x0){_0x1f7350[_0xca4eb5(0xd1)]=_0xca4eb5(0x1ad);return;}_0x41a872[_0xca4eb5(0x15a)](([_0x2e0b8a,_0x4f431f])=>{const _0x5afd13=_0xca4eb5,_0x5798cb=Math['round'](_0x4f431f[_0x5afd13(0x17f)]/_0x4f431f[_0x5afd13(0xec)]*0x64),_0x17e38f=document[_0x5afd13(0xf7)]('div');_0x17e38f[_0x5afd13(0x17e)]=_0x5afd13(0x11a),_0x17e38f['style'][_0x5afd13(0x1e0)]=_0x4f431f[_0x5afd13(0x1cc)],_0x17e38f['innerHTML']=_0x5afd13(0x1e8)+_0x2e0b8a+_0x5afd13(0x1e9)+_0x4f431f[_0x5afd13(0x17f)]+_0x5afd13(0x21c)+_0x4f431f[_0x5afd13(0xec)]+_0x5afd13(0x22a)+_0x5798cb+_0x5afd13(0xc7),_0x1f7350[_0x5afd13(0x189)](_0x17e38f);});}function formatMinsToHrs(_0xf1ab2b){if(_0xf1ab2b===0x0)return'0';const _0x20a3c0=Math['floor'](_0xf1ab2b/0x3c),_0x21b10b=_0xf1ab2b%0x3c;if(_0x21b10b===0x0)return _0x20a3c0+'—á';return _0x20a3c0+'—á\x20'+_0x21b10b+'–º';}