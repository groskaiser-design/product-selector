const a2_0x12b48f=a2_0xe4e7;(function(_0x3e41d8,_0x2f9739){const _0x3fd6f6=a2_0xe4e7,_0x390205=_0x3e41d8();while(!![]){try{const _0x2dbb7c=-parseInt(_0x3fd6f6(0x1b8))/0x1+parseInt(_0x3fd6f6(0x1ae))/0x2+parseInt(_0x3fd6f6(0x22a))/0x3+-parseInt(_0x3fd6f6(0x229))/0x4*(-parseInt(_0x3fd6f6(0x1c5))/0x5)+parseInt(_0x3fd6f6(0x174))/0x6+-parseInt(_0x3fd6f6(0x288))/0x7+-parseInt(_0x3fd6f6(0x19a))/0x8;if(_0x2dbb7c===_0x2f9739)break;else _0x390205['push'](_0x390205['shift']());}catch(_0x435cd6){_0x390205['push'](_0x390205['shift']());}}}(a2_0x28f8,0x70116),function initTMA(){const _0x25fb2f=a2_0xe4e7,_0xa30423=(function(){let _0x289106=!![];return function(_0x2d0a08,_0x186861){const _0xdcf6a3=_0x289106?function(){const _0x2f350a=a2_0xe4e7;if(_0x186861){const _0x3efade=_0x186861[_0x2f350a(0x238)](_0x2d0a08,arguments);return _0x186861=null,_0x3efade;}}:function(){};return _0x289106=![],_0xdcf6a3;};}()),_0x22a6b4=_0xa30423(this,function(){const _0x508d19=a2_0xe4e7;return _0x22a6b4['toString']()[_0x508d19(0x28c)](_0x508d19(0x18c))[_0x508d19(0x19b)]()[_0x508d19(0x29f)](_0x22a6b4)['search'](_0x508d19(0x18c));});_0x22a6b4();try{const _0xff5a27=window[_0x25fb2f(0x260)]?.[_0x25fb2f(0x26b)];if(!_0xff5a27)return;_0xff5a27['ready'](),_0xff5a27['expand']();try{_0xff5a27['setHeaderColor'](_0x25fb2f(0x297)),_0xff5a27[_0x25fb2f(0x1e5)]&&_0xff5a27[_0x25fb2f(0x1e5)](_0x25fb2f(0x297));}catch(_0x391324){console['log']('Error\x20setting\x20color:',_0x391324);}try{_0xff5a27['BackButton']&&(_0xff5a27[_0x25fb2f(0x27a)]['show'](),_0xff5a27['BackButton']['offClick'](),_0xff5a27['BackButton']['onClick'](function(){const _0x491714=_0x25fb2f;window[_0x491714(0x1e2)][_0x491714(0x206)]='router.html';}));}catch(_0x1a2445){console['log']('Error\x20setting\x20back\x20button:',_0x1a2445);}try{if(_0xff5a27[_0x25fb2f(0x180)])_0xff5a27['disableVerticalSwipes']();}catch(_0x29ab25){}}catch(_0x1902cd){console[_0x25fb2f(0x2db)](_0x25fb2f(0x170),_0x1902cd);}}());function isAdmin(){const _0x1e7e06=a2_0xe4e7;try{const _0x4b2392=Number(window[_0x1e7e06(0x260)]?.[_0x1e7e06(0x26b)]?.[_0x1e7e06(0x1e8)]?.[_0x1e7e06(0x194)]?.['id']);return _0x4b2392===0xbaf7174;}catch(_0x2210f7){return![];}}const APP_VERSION=a2_0x12b48f(0x210),API_URL='https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec',GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x12b48f(0x219),KEY_SESSIONS=a2_0x12b48f(0x27d),KEY_SETTINGS=a2_0x12b48f(0x1d5);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x38804f=a2_0x12b48f;return window[_0x38804f(0x260)]?.['WebApp']?.['initDataUnsafe']?.[_0x38804f(0x194)]?.['id']||_0x38804f(0x249);},'saveLocally'(){const _0x1a2f29=a2_0x12b48f;try{localStorage[_0x1a2f29(0x2de)](KEY_CLIENTS,JSON[_0x1a2f29(0x1c9)](clients)),localStorage['setItem'](KEY_SESSIONS,JSON[_0x1a2f29(0x1c9)](sessions)),localStorage[_0x1a2f29(0x2de)](KEY_SETTINGS,JSON[_0x1a2f29(0x1c9)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x3ced06){console['error']('Local\x20Save\x20Error',_0x3ced06);}},'loadLocal'(){const _0x25179e=a2_0x12b48f;try{const _0x581b5c=localStorage['getItem'](KEY_CLIENTS);if(_0x581b5c)clients=JSON[_0x25179e(0x2b8)](_0x581b5c);const _0x131e29=localStorage[_0x25179e(0x1e9)](KEY_SESSIONS);if(_0x131e29)sessions=JSON['parse'](_0x131e29);const _0x481184=localStorage[_0x25179e(0x1e9)](KEY_SETTINGS);if(_0x481184){const _0x31433e=JSON['parse'](_0x481184);if(_0x31433e[_0x25179e(0x21b)])availabilityPattern=_0x31433e[_0x25179e(0x21b)];if(_0x31433e['exceptions'])dateExceptions=_0x31433e[_0x25179e(0x17d)];if(_0x31433e[_0x25179e(0x1f6)])specialRanges=_0x31433e[_0x25179e(0x1f6)];}else{for(let _0xdb401=0x0;_0xdb401<0x7;_0xdb401++)availabilityPattern[_0xdb401]=Array['from']({'length':0xc},(_0x39b40e,_0x4b481c)=>_0x4b481c+0x9);}}catch(_0x4f2a7b){console[_0x25179e(0x2db)](_0x25179e(0x185),_0x4f2a7b);}},async 'fetchFromServer'(_0x2cdce8,_0x2a1305={}){const _0x9da914=a2_0x12b48f,_0x169a3b=window['Telegram']?.[_0x9da914(0x26b)],_0xe6cf1e={'action':_0x2cdce8,'init_data':_0x169a3b?.['initData']||'',..._0x2a1305};try{const _0x3c209b=await fetch(API_URL,{'method':_0x9da914(0x1ee),'headers':{'Content-Type':_0x9da914(0x22e)},'body':JSON[_0x9da914(0x1c9)](_0xe6cf1e)}),_0x6e216d=await _0x3c209b[_0x9da914(0x1cb)]();if(!_0x6e216d['ok'])throw new Error(_0x6e216d[_0x9da914(0x2db)]||'Server\x20Error');return _0x6e216d[_0x9da914(0x236)];}catch(_0xc8e029){console['error'](_0x9da914(0x2d8)+_0x2cdce8+']\x20Failed:',_0xc8e029);throw _0xc8e029;}},async 'syncLoad'(){const _0x1d3b71=a2_0x12b48f,_0xee43e=new Date(),_0x46b958=_0xee43e[_0x1d3b71(0x2cf)]()+'-'+String(_0xee43e[_0x1d3b71(0x2be)]()+0x1)[_0x1d3b71(0x1f8)](0x2,'0'),_0x565a60=new Date(_0xee43e);_0x565a60['setMonth'](_0xee43e[_0x1d3b71(0x2be)]()+0x1);const _0x157c6a=_0x565a60[_0x1d3b71(0x2cf)]()+'-'+String(_0x565a60['getMonth']()+0x1)[_0x1d3b71(0x1f8)](0x2,'0'),_0x4f8101=Date[_0x1d3b71(0x25b)]();console['log'](_0x1d3b71(0x243)+_0x46b958+',\x20'+_0x157c6a+_0x1d3b71(0x27f));try{const [_0x540d91,_0x576711]=await Promise[_0x1d3b71(0x1a9)]([this[_0x1d3b71(0x1f2)](_0x1d3b71(0x2a2),{'month_str':_0x46b958}),this[_0x1d3b71(0x1f2)]('init_load',{'month_str':_0x157c6a})]);if(lastUserActionTime>_0x4f8101)return console[_0x1d3b71(0x267)](_0x1d3b71(0x2ae)),![];return this[_0x1d3b71(0x20f)](_0x540d91,_0x46b958),this[_0x1d3b71(0x20f)](_0x576711,_0x157c6a),this['saveLocally'](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x3ead55){console['error'](_0x3ead55);throw _0x3ead55;}},'mergeServerData'(_0x53c9a5,_0x4c6e8d){const _0x1c1947=a2_0x12b48f;if(!_0x53c9a5)return;_0x53c9a5[_0x1c1947(0x215)]&&Array[_0x1c1947(0x270)](_0x53c9a5[_0x1c1947(0x215)])&&(clients=_0x53c9a5[_0x1c1947(0x215)]);if(_0x53c9a5['settings']){if(_0x53c9a5[_0x1c1947(0x23b)][_0x1c1947(0x21b)])availabilityPattern=_0x53c9a5[_0x1c1947(0x23b)][_0x1c1947(0x21b)];if(_0x53c9a5['settings'][_0x1c1947(0x17d)])dateExceptions=_0x53c9a5['settings'][_0x1c1947(0x17d)];if(_0x53c9a5[_0x1c1947(0x23b)][_0x1c1947(0x1f6)])specialRanges=_0x53c9a5[_0x1c1947(0x23b)][_0x1c1947(0x1f6)];if(_0x53c9a5[_0x1c1947(0x23b)][_0x1c1947(0x2d7)]){localStorage[_0x1c1947(0x2de)](_0x1c1947(0x178),_0x53c9a5[_0x1c1947(0x23b)][_0x1c1947(0x2d7)]);const _0x320564=document['getElementById'](_0x1c1947(0x1ef));if(_0x320564)_0x320564[_0x1c1947(0x252)]=_0x53c9a5[_0x1c1947(0x23b)]['cancel_window'];}}_0x53c9a5['calendar']&&(sessions=sessions[_0x1c1947(0x2d1)](_0x441af8=>!_0x441af8[_0x1c1947(0x193)][_0x1c1947(0x192)](_0x4c6e8d)),Object[_0x1c1947(0x1b5)](_0x53c9a5[_0x1c1947(0x1ed)])[_0x1c1947(0x23c)](_0x149b58=>{const _0x15e06d=_0x1c1947,_0x49e61b=_0x53c9a5[_0x15e06d(0x1ed)][_0x149b58];_0x49e61b['forEach'](_0xaa745f=>{const _0x5a093e=_0x15e06d,_0x132d40=clients['find'](_0x3ebe6d=>String(_0x3ebe6d['id'])===String(_0xaa745f['c']));sessions[_0x5a093e(0x1b0)]({'id':_0xaa745f['i'],'clientId':_0xaa745f['c'],'client':_0x132d40?_0x132d40[_0x5a093e(0x234)]:'Unknown','dateStr':_0x4c6e8d+'-'+_0x149b58[_0x5a093e(0x1f8)](0x2,'0'),'start':_0xaa745f['s'],'end':_0xaa745f['e'],'status':_0xaa745f['st']||_0x5a093e(0x1fb),'note':_0xaa745f['n']||'','seriesId':_0xaa745f['sid']||null});});}));},async 'syncBatch'(_0x281695){const _0x130acc=a2_0x12b48f,_0x573572=[...new Set(_0x281695)],_0x3a30f4=_0x573572['map'](_0x4ebf15=>{const _0x7af0ea=a2_0xe4e7,_0x49c455=sessions['filter'](_0x2bf353=>_0x2bf353[_0x7af0ea(0x193)]===_0x4ebf15&&_0x2bf353[_0x7af0ea(0x1f7)]!==_0x7af0ea(0x298)),_0x278bae=_0x49c455[_0x7af0ea(0x23f)](_0x2e9574=>({'i':_0x2e9574['id'],'c':_0x2e9574[_0x7af0ea(0x22b)],'s':_0x2e9574[_0x7af0ea(0x264)],'e':_0x2e9574[_0x7af0ea(0x20b)],'st':_0x2e9574['status'],'n':_0x2e9574[_0x7af0ea(0x2cb)],'sid':_0x2e9574[_0x7af0ea(0x2d4)]}));return{'date':_0x4ebf15,'day_data':_0x278bae};});if(_0x3a30f4[_0x130acc(0x2ca)]===0x0)return;console[_0x130acc(0x1ac)](_0x130acc(0x1a0)+_0x3a30f4[_0x130acc(0x2ca)]+'\x20days'),await this[_0x130acc(0x1f2)]('batch_sync',{'changes':_0x3a30f4});}};async function init(){const _0x1c10a6=a2_0x12b48f;DataManager[_0x1c10a6(0x262)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x1c10a6(0x1ba)](_0x1c10a6(0x226))[_0x1c10a6(0x1f1)]('scroll',()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x1c10a6(0x224)]()[_0x1c10a6(0x245)](()=>{showToast('–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ',!![]);})['catch'](_0x5f27f9=>{showToast('–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º',![]);});}function generateId(){const _0x413e91=a2_0x12b48f;return Date['now']()[_0x413e91(0x19b)](0x24)+Math[_0x413e91(0x2cd)]()[_0x413e91(0x19b)](0x24)[_0x413e91(0x2a6)](0x2,0x5);}function toggleSeriesInput(){const _0x11a34f=a2_0x12b48f,_0x429444=document['getElementById'](_0x11a34f(0x186))[_0x11a34f(0x17c)],_0x507b62=document[_0x11a34f(0x1ba)](_0x11a34f(0x1c7));_0x507b62['style']['display']=_0x429444?_0x11a34f(0x171):_0x11a34f(0x28f);const _0x3e1939=document['getElementById']('recurringOptionContainer');_0x3e1939[_0x11a34f(0x1e3)]['borderRadius']=_0x429444?_0x11a34f(0x17f):'10px';}function openAddSession(_0x27ff5f){const _0x178d69=a2_0x12b48f;editingId=null,populateClientSelect(),document['getElementById']('sheetTitle')[_0x178d69(0x2dc)]='–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å',document[_0x178d69(0x1ba)](_0x178d69(0x201))[_0x178d69(0x1e3)][_0x178d69(0x221)]='none',document['getElementById'](_0x178d69(0x190))[_0x178d69(0x1e3)][_0x178d69(0x221)]=_0x178d69(0x28f);const _0xd005bc=document[_0x178d69(0x1ba)](_0x178d69(0x21a)),_0x34e0c0=document[_0x178d69(0x1ba)](_0x178d69(0x1c7));_0xd005bc[_0x178d69(0x1e3)]['display']=_0x178d69(0x2bf),_0xd005bc[_0x178d69(0x1e3)][_0x178d69(0x22f)]='10px',document[_0x178d69(0x1ba)](_0x178d69(0x186))[_0x178d69(0x17c)]=![],document[_0x178d69(0x1ba)]('inpSeriesCount')[_0x178d69(0x252)]=0x4,_0x34e0c0[_0x178d69(0x1e3)][_0x178d69(0x221)]='none',document[_0x178d69(0x1ba)](_0x178d69(0x1da))[_0x178d69(0x252)]=getLocalDateStr(_0x27ff5f),updateDateDisplay();const _0x391a05=_0x27ff5f['getHours']();document[_0x178d69(0x1ba)](_0x178d69(0x1fd))[_0x178d69(0x252)]=String(_0x391a05)[_0x178d69(0x1f8)](0x2,'0')+':00',document['getElementById']('inpEnd')[_0x178d69(0x252)]=String(_0x391a05+0x1)[_0x178d69(0x1f8)](0x2,'0')+_0x178d69(0x2a5),openSheet('sessionSheet');}function openEdit(_0x3d5119){const _0x2de6d1=a2_0x12b48f;editingId=_0x3d5119['id'],populateClientSelect(),document[_0x2de6d1(0x1ba)]('sheetTitle')[_0x2de6d1(0x2dc)]=_0x2de6d1(0x2d2),document[_0x2de6d1(0x1ba)]('btnDelete')[_0x2de6d1(0x1e3)][_0x2de6d1(0x221)]=_0x2de6d1(0x171);const _0x57af9a=document['getElementById'](_0x2de6d1(0x190));_0x57af9a['style'][_0x2de6d1(0x221)]=_0x2de6d1(0x2bf);_0x3d5119[_0x2de6d1(0x1f7)]==='completed'?(_0x57af9a['className']=_0x2de6d1(0x253),_0x57af9a[_0x2de6d1(0x2af)]=_0x2de6d1(0x1d9)):(_0x57af9a['className']=_0x2de6d1(0x266),_0x57af9a['innerHTML']='<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É');const _0x5293be=!!_0x3d5119[_0x2de6d1(0x2d4)];document[_0x2de6d1(0x1ba)](_0x2de6d1(0x21a))[_0x2de6d1(0x1e3)][_0x2de6d1(0x221)]=_0x2de6d1(0x28f),document[_0x2de6d1(0x1ba)]('seriesCountContainer')[_0x2de6d1(0x1e3)][_0x2de6d1(0x221)]='none',_0x5293be?(document['getElementById'](_0x2de6d1(0x220))[_0x2de6d1(0x1e3)]['display']=_0x2de6d1(0x2bf),document[_0x2de6d1(0x1ba)](_0x2de6d1(0x220))[_0x2de6d1(0x19d)]('.pib-text')[_0x2de6d1(0x2dc)]=_0x2de6d1(0x25f)):document[_0x2de6d1(0x1ba)](_0x2de6d1(0x220))[_0x2de6d1(0x1e3)][_0x2de6d1(0x221)]=_0x2de6d1(0x28f),document[_0x2de6d1(0x1ba)](_0x2de6d1(0x1db))[_0x2de6d1(0x252)]=_0x3d5119[_0x2de6d1(0x1c6)],document['getElementById'](_0x2de6d1(0x1da))[_0x2de6d1(0x252)]=_0x3d5119[_0x2de6d1(0x193)],document[_0x2de6d1(0x1ba)]('inpStart')['value']=_0x3d5119[_0x2de6d1(0x264)],document[_0x2de6d1(0x1ba)](_0x2de6d1(0x16e))['value']=_0x3d5119[_0x2de6d1(0x20b)],document['getElementById'](_0x2de6d1(0x1dc))['value']=_0x3d5119[_0x2de6d1(0x2cb)]||'',updateDateDisplay(),openSheet(_0x2de6d1(0x2d9));}async function trySaveSession(){const _0x42e83c=a2_0x12b48f,_0x1bc514=document[_0x42e83c(0x1ba)]('inpClient')[_0x42e83c(0x252)],_0x508690=document['getElementById'](_0x42e83c(0x1da))[_0x42e83c(0x252)],_0x4f6ea4=document[_0x42e83c(0x1ba)](_0x42e83c(0x1fd))[_0x42e83c(0x252)],_0x29be99=document['getElementById'](_0x42e83c(0x16e))[_0x42e83c(0x252)],_0x33659f=document[_0x42e83c(0x1ba)](_0x42e83c(0x1dc))[_0x42e83c(0x252)],_0x409052=document['getElementById'](_0x42e83c(0x186))['checked'];let _0x541f94=0x4;if(_0x409052){const _0x2ac469=parseInt(document[_0x42e83c(0x1ba)](_0x42e83c(0x1bc))[_0x42e83c(0x252)]);if(!_0x2ac469||_0x2ac469<0x2){showToast('–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏',![]);return;}if(_0x2ac469>0x64){showToast(_0x42e83c(0x1cc),![]);return;}_0x541f94=_0x2ac469;}const _0x52ff6e=clients[_0x42e83c(0x2c5)](_0x5f30c2=>_0x5f30c2['name']===_0x1bc514);if(!_0x52ff6e){showToast(_0x42e83c(0x299),![]);return;}const _0x83df4b=validateAppointment(_0x508690,_0x4f6ea4,_0x29be99,editingId,_0x52ff6e['id']);if(!_0x83df4b[_0x42e83c(0x2c6)]){showToast(_0x83df4b[_0x42e83c(0x20e)],![]);return;}_0x83df4b['warning']&&showToast(_0x83df4b[_0x42e83c(0x2aa)],![]);const _0x2df253={'client':_0x1bc514,'clientId':_0x52ff6e['id'],'start':_0x4f6ea4,'end':_0x29be99,'note':_0x33659f,'status':_0x42e83c(0x1fb)},_0xb98d45=editingId?sessions[_0x42e83c(0x2c5)](_0x5538b3=>_0x5538b3['id']===editingId):null;if(_0xb98d45&&_0xb98d45[_0x42e83c(0x2d4)]){tempSessionData={..._0x2df253,'dateStr':_0x508690,'id':editingId,'seriesId':_0xb98d45['seriesId']},openActionSheet(_0x42e83c(0x173));return;}let _0x2bba60=null;if(!editingId)_0x2bba60='create';else{if(_0xb98d45){if(String(_0xb98d45[_0x42e83c(0x22b)])!==String(_0x52ff6e['id']))console[_0x42e83c(0x1ac)](_0x42e83c(0x29e)),NotificationManager[_0x42e83c(0x1c3)](_0x42e83c(0x235),_0xb98d45),_0x2bba60='create';else(_0xb98d45[_0x42e83c(0x264)]!==_0x4f6ea4||_0xb98d45[_0x42e83c(0x20b)]!==_0x29be99||_0xb98d45[_0x42e83c(0x193)]!==_0x508690)&&(_0x2bba60=_0x42e83c(0x2b9));}}if(!editingId&&_0x409052){createBatchSeries(_0x2df253,_0x508690,_0x541f94),NotificationManager[_0x42e83c(0x1c3)](_0x42e83c(0x239),{..._0x2df253,'dateStr':_0x508690});return;}lastUserActionTime=Date[_0x42e83c(0x25b)]();const _0x221dfa={..._0x2df253,'dateStr':_0x508690,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x221dfa),_0x2bba60&&NotificationManager[_0x42e83c(0x1c3)](_0x2bba60,_0x221dfa);}function toggleSessionStatus(){const _0x37bc2a=a2_0x12b48f;lastUserActionTime=Date[_0x37bc2a(0x25b)]();const _0x3ea36f=sessions[_0x37bc2a(0x2c5)](_0x5f024b=>_0x5f024b['id']===editingId);if(!_0x3ea36f)return;const _0x1ceeed=_0x3ea36f[_0x37bc2a(0x1f7)]===_0x37bc2a(0x213)?_0x37bc2a(0x1fb):'completed';_0x3ea36f[_0x37bc2a(0x1f7)]=_0x1ceeed,saveSingleSession(_0x3ea36f),_0x1ceeed==='completed'&&NotificationManager[_0x37bc2a(0x1c3)](_0x37bc2a(0x1fc),_0x3ea36f),showToast(_0x1ceeed==='completed'?_0x37bc2a(0x1a8):_0x37bc2a(0x1b9),!![]);}function validateAppointment(_0xa8e62a,_0x5b9303,_0x5afcb8,_0x415002,_0x390089){const _0xb59f1a=a2_0x12b48f,[_0x4e0404,_0x88038a]=_0x5b9303[_0xb59f1a(0x2b2)](':')['map'](Number),[_0x44071b,_0x5e57a8]=_0x5afcb8[_0xb59f1a(0x2b2)](':')[_0xb59f1a(0x23f)](Number),_0x427e40=_0x4e0404*0x3c+_0x88038a,_0x2674ca=_0x44071b*0x3c+_0x5e57a8,_0x25739b=String(_0x390089);let _0x108fbb=![],_0x5d0d35='';for(let _0x3497b4 of sessions){if(_0x3497b4[_0xb59f1a(0x193)]!==_0xa8e62a)continue;if(_0x3497b4['status']==='cancelled')continue;if(_0x415002&&String(_0x3497b4['id'])===String(_0x415002))continue;const [_0x1ea85d,_0x35de5f]=_0x3497b4['start']['split'](':')[_0xb59f1a(0x23f)](Number),[_0x298deb,_0x30bbd2]=_0x3497b4[_0xb59f1a(0x20b)][_0xb59f1a(0x2b2)](':')[_0xb59f1a(0x23f)](Number),_0x5afad4=_0x1ea85d*0x3c+_0x35de5f,_0x14167c=_0x298deb*0x3c+_0x30bbd2;if(Math[_0xb59f1a(0x261)](_0x427e40,_0x5afad4)<Math[_0xb59f1a(0x202)](_0x2674ca,_0x14167c)){if(_0x3497b4[_0xb59f1a(0x22b)]&&String(_0x3497b4[_0xb59f1a(0x22b)])===_0x25739b)return{'valid':![],'msg':_0xb59f1a(0x2c2)+_0x3497b4['client']+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x108fbb=!![],_0x5d0d35=_0x3497b4[_0xb59f1a(0x1c6)];}}if(_0x108fbb)return{'valid':!![],'warning':_0xb59f1a(0x28e)+_0x5d0d35};return{'valid':!![]};}function saveSingleSession(_0x17532f){const _0x33f16a=a2_0x12b48f;if(editingId){const _0x1c06db=sessions[_0x33f16a(0x24c)](_0x109f20=>_0x109f20['id']===editingId);if(_0x1c06db!==-0x1)sessions[_0x1c06db]=_0x17532f;}else sessions[_0x33f16a(0x1b0)](_0x17532f);afterSaveAction([_0x17532f['dateStr']]);}function createBatchSeries(_0x1b0a52,_0x334385,_0x1a92cc){const _0xe1b6a7=a2_0x12b48f,_0x43d345=generateId(),_0x434b5a=[],_0x2ddbd5=[];let _0x5abfc9=0x0,_0x4b58f9=new Date(_0x334385);for(let _0x4cbefa=0x0;_0x4cbefa<_0x1a92cc;_0x4cbefa++){const _0xf900b8=getLocalDateStr(_0x4b58f9),_0x2e9cf3=validateAppointment(_0xf900b8,_0x1b0a52[_0xe1b6a7(0x264)],_0x1b0a52[_0xe1b6a7(0x20b)],null,_0x1b0a52[_0xe1b6a7(0x22b)]);if(!_0x2e9cf3[_0xe1b6a7(0x2c6)])console[_0xe1b6a7(0x1ac)](_0xe1b6a7(0x289)+_0xf900b8+_0xe1b6a7(0x29a)),_0x5abfc9++;else{const _0x284f8c={..._0x1b0a52,'id':generateId(),'dateStr':_0xf900b8,'seriesId':_0x43d345};_0x2ddbd5[_0xe1b6a7(0x1b0)](_0x284f8c),_0x434b5a[_0xe1b6a7(0x1b0)](_0xf900b8);}_0x4b58f9['setDate'](_0x4b58f9[_0xe1b6a7(0x208)]()+0x7);}if(_0x2ddbd5['length']===0x0){showToast('–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!',![]);return;}sessions[_0xe1b6a7(0x1b0)](..._0x2ddbd5),lastUserActionTime=Date[_0xe1b6a7(0x25b)]();let _0x5364ee=_0xe1b6a7(0x209)+_0x2ddbd5[_0xe1b6a7(0x2ca)];_0x5abfc9>0x0&&(_0x5364ee+='\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20'+_0x5abfc9+')'),showToast(_0x5364ee,!![]),afterSaveAction(_0x434b5a);}function updateSeriesBatch(_0x599a53,_0x34048b){const _0x567859=a2_0x12b48f,_0x34245d=[],_0x824406=_0x34048b[_0x567859(0x2d4)];if(_0x599a53===_0x567859(0x17b)){const _0x5bc682={..._0x34048b,'seriesId':null},_0x5c57ac=sessions[_0x567859(0x24c)](_0x1a39de=>_0x1a39de['id']===_0x34048b['id']);if(_0x5c57ac!==-0x1)sessions[_0x5c57ac]=_0x5bc682;_0x34245d[_0x567859(0x1b0)](_0x5bc682[_0x567859(0x193)]);}else{if(_0x599a53===_0x567859(0x2b4)){const _0x4d3723=_0x34048b['dateStr'];sessions[_0x567859(0x23c)]((_0x587b95,_0x433ac2)=>{const _0xb0812a=_0x567859;_0x587b95[_0xb0812a(0x2d4)]===_0x824406&&_0x587b95['dateStr']>=_0x4d3723&&(sessions[_0x433ac2]={...sessions[_0x433ac2],'start':_0x34048b['start'],'end':_0x34048b[_0xb0812a(0x20b)],'note':_0x34048b['note'],'client':_0x34048b[_0xb0812a(0x1c6)],'clientId':_0x34048b[_0xb0812a(0x22b)]},_0x34245d['push'](_0x587b95[_0xb0812a(0x193)]));});}}afterSaveAction(_0x34245d);}function tryDeleteSession(){const _0x59ef42=a2_0x12b48f,_0x301e02=sessions['find'](_0x435a85=>_0x435a85['id']===editingId);if(!_0x301e02)return;_0x301e02[_0x59ef42(0x2d4)]?openActionSheet(_0x59ef42(0x18a)):commitDelete(_0x59ef42(0x17b),_0x301e02);}function commitDelete(_0x4fbd1a,_0xe679a1){const _0x12a14d=a2_0x12b48f;lastUserActionTime=Date[_0x12a14d(0x25b)](),NotificationManager[_0x12a14d(0x1c3)](_0x12a14d(0x235),_0xe679a1);const _0x1cbcec=[];if(_0x4fbd1a==='single')sessions=sessions[_0x12a14d(0x2d1)](_0x4798f3=>_0x4798f3['id']!==_0xe679a1['id']),_0x1cbcec[_0x12a14d(0x1b0)](_0xe679a1[_0x12a14d(0x193)]);else{if(_0x4fbd1a===_0x12a14d(0x2b4)){const _0x542ffd=_0xe679a1['dateStr'],_0x2632ba=_0xe679a1['seriesId'];sessions[_0x12a14d(0x23c)](_0x3df9e4=>{const _0x150b84=_0x12a14d;_0x3df9e4['seriesId']===_0x2632ba&&_0x3df9e4[_0x150b84(0x193)]>=_0x542ffd&&_0x1cbcec['push'](_0x3df9e4['dateStr']);}),sessions=sessions[_0x12a14d(0x2d1)](_0x59a7e0=>!(_0x59a7e0['seriesId']===_0x2632ba&&_0x59a7e0[_0x12a14d(0x193)]>=_0x542ffd));}}afterSaveAction(_0x1cbcec);}function afterSaveAction(_0x2adbcd){const _0x1091bb=a2_0x12b48f;DataManager[_0x1091bb(0x1c8)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x1091bb(0x216)](_0x2adbcd)['then'](()=>console[_0x1091bb(0x1ac)](_0x1091bb(0x28b)))['catch'](_0x80c7c9=>showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ',![]));}const NotificationManager={'formatDate'(_0x29c67a){const _0x260be8=a2_0x12b48f,_0xdf56f0=new Date(_0x29c67a),_0x128125={'weekday':'long','day':_0x260be8(0x1a7),'month':_0x260be8(0x2cc)};let _0x1ca20b=_0xdf56f0[_0x260be8(0x22d)](_0x260be8(0x187),_0x128125);return _0x1ca20b['charAt'](0x0)[_0x260be8(0x16f)]()+_0x1ca20b[_0x260be8(0x2bb)](0x1);},'getText'(_0x29025e,_0x283852){const _0x3f1774=a2_0x12b48f,_0x2745eb=this[_0x3f1774(0x2d3)](_0x283852[_0x3f1774(0x193)]);switch(_0x29025e){case _0x3f1774(0x239):return _0x3f1774(0x222)+(_0x3f1774(0x1a4)+_0x2745eb+'\x0a')+(_0x3f1774(0x2d5)+_0x283852[_0x3f1774(0x264)]+_0x3f1774(0x1e6)+_0x283852[_0x3f1774(0x20b)]+'\x0a\x0a')+'–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™';case _0x3f1774(0x2b9):return'<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a'+_0x3f1774(0x1f3)+(_0x3f1774(0x29c)+_0x283852[_0x3f1774(0x264)]+_0x3f1774(0x1e6)+_0x283852[_0x3f1774(0x20b)]+_0x3f1774(0x277))+(_0x3f1774(0x1a4)+_0x2745eb);case _0x3f1774(0x235):return _0x3f1774(0x176)+(_0x3f1774(0x2c8)+_0x2745eb+'\x20('+_0x283852[_0x3f1774(0x264)]+_0x3f1774(0x2c0));case _0x3f1774(0x1fc):return _0x3f1774(0x1a5)+_0x3f1774(0x293)+_0x3f1774(0x199);default:return'';}},async 'send'(_0x5135e8,_0x2add54){const _0x4564eb=a2_0x12b48f;console[_0x4564eb(0x1ac)](_0x4564eb(0x23e),_0x5135e8,_0x2add54);if(!_0x2add54){console['error'](_0x4564eb(0x1a2));return;}const _0x174a99=String(_0x2add54[_0x4564eb(0x22b)]);console[_0x4564eb(0x1ac)](_0x4564eb(0x17a),_0x174a99);if(!_0x2add54[_0x4564eb(0x22b)]||_0x174a99===_0x4564eb(0x20a)||_0x174a99===_0x4564eb(0x18b)){console[_0x4564eb(0x2db)](_0x4564eb(0x1f5));if(_0x2add54[_0x4564eb(0x1c6)]){const _0x1f9c06=clients[_0x4564eb(0x2c5)](_0xc2319=>_0xc2319[_0x4564eb(0x234)]===_0x2add54[_0x4564eb(0x1c6)]);if(_0x1f9c06)return console[_0x4564eb(0x1ac)](_0x4564eb(0x182),_0x1f9c06['id']),this[_0x4564eb(0x1c3)](_0x5135e8,{..._0x2add54,'clientId':_0x1f9c06['id']});}return;}if(_0x174a99[_0x4564eb(0x2ca)]<0x5){console[_0x4564eb(0x267)](_0x4564eb(0x254),_0x174a99);return;}const _0x3050a5=this[_0x4564eb(0x197)](_0x5135e8,_0x2add54);if(!_0x3050a5){console['error']('[Notify]\x20Error:\x20Text\x20generation\x20failed');return;}console['log'](_0x4564eb(0x27e)+_0x174a99+_0x4564eb(0x27f)),DataManager[_0x4564eb(0x1f2)]('send_notification',{'chatId':_0x174a99,'text':_0x3050a5})[_0x4564eb(0x245)](_0x55d3d0=>console[_0x4564eb(0x1ac)](_0x4564eb(0x1d3),_0x55d3d0))[_0x4564eb(0x188)](_0xa628bc=>console[_0x4564eb(0x2db)](_0x4564eb(0x1b3),_0xa628bc));}};function getLocalDateStr(_0x11a293){const _0x42f3f8=a2_0x12b48f,_0x48d29e=_0x11a293[_0x42f3f8(0x2cf)](),_0x1bf34f=String(_0x11a293[_0x42f3f8(0x2be)]()+0x1)[_0x42f3f8(0x1f8)](0x2,'0'),_0x3cb48a=String(_0x11a293[_0x42f3f8(0x208)]())[_0x42f3f8(0x1f8)](0x2,'0');return _0x48d29e+'-'+_0x1bf34f+'-'+_0x3cb48a;}function getDateStr(_0xe0f584){const _0xb7a026=a2_0x12b48f,_0x4243a5=new Date();return _0x4243a5[_0xb7a026(0x244)](_0x4243a5['getDate']()+_0xe0f584),getLocalDateStr(_0x4243a5);}function getStartOfWeek(_0x47eb8c){const _0x31228f=a2_0x12b48f,_0x2492d5=new Date(_0x47eb8c),_0x42feb4=_0x2492d5['getDay'](),_0x5bbb83=_0x2492d5[_0x31228f(0x208)]()-_0x42feb4+(_0x42feb4===0x0?-0x6:0x1);return _0x2492d5[_0x31228f(0x244)](_0x5bbb83),_0x2492d5[_0x31228f(0x1e1)](0x0,0x0,0x0,0x0),_0x2492d5;}function hexToRgba(_0x40765f,_0x58b099){const _0x3e47e6=a2_0x12b48f;if(!_0x40765f)return _0x3e47e6(0x205);let _0xea394=0x0,_0x1f80ff=0x0,_0xf2ac4b=0x0;if(_0x40765f[_0x3e47e6(0x2ca)]===0x4)_0xea394='0x'+_0x40765f[0x1]+_0x40765f[0x1],_0x1f80ff='0x'+_0x40765f[0x2]+_0x40765f[0x2],_0xf2ac4b='0x'+_0x40765f[0x3]+_0x40765f[0x3];else _0x40765f[_0x3e47e6(0x2ca)]===0x7&&(_0xea394='0x'+_0x40765f[0x1]+_0x40765f[0x2],_0x1f80ff='0x'+_0x40765f[0x3]+_0x40765f[0x4],_0xf2ac4b='0x'+_0x40765f[0x5]+_0x40765f[0x6]);return'rgba('+ +_0xea394+',\x20'+ +_0x1f80ff+',\x20'+ +_0xf2ac4b+',\x20'+_0x58b099+')';}function renderTimeColumn(){const _0x513460=a2_0x12b48f,_0x47e25e=document[_0x513460(0x1ba)]('timeColumn'),_0x23fa64=document['getElementById'](_0x513460(0x2dd));_0x47e25e[_0x513460(0x2af)]='',_0x47e25e[_0x513460(0x2c1)](_0x23fa64);for(let _0x5bfa5e=0x0;_0x5bfa5e<0x18;_0x5bfa5e++){const _0x2f7c55=document[_0x513460(0x21f)](_0x513460(0x2c3));_0x2f7c55[_0x513460(0x1a6)]='time-label';if(_0x5bfa5e>0x0)_0x2f7c55[_0x513460(0x2af)]=_0x513460(0x21d)+String(_0x5bfa5e)[_0x513460(0x1f8)](0x2,'0')+_0x513460(0x1ea);_0x47e25e[_0x513460(0x2c1)](_0x2f7c55);}}function renderDayRange(_0x547682,_0x5942ef){const _0x5af902=a2_0x12b48f,_0x66a11d=document['getElementById'](_0x5af902(0x218)),_0x52a581=document[_0x5af902(0x1ba)](_0x5af902(0x217)),_0x48bfda=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x12ec31=new Date();_0x12ec31['setHours'](0x0,0x0,0x0,0x0);const _0x2833e3=getLocalDateStr(new Date());for(let _0x4183a0=_0x547682;_0x4183a0<=_0x5942ef;_0x4183a0++){const _0xc34dbc=new Date(_0x12ec31);_0xc34dbc[_0x5af902(0x244)](_0xc34dbc[_0x5af902(0x208)]()+_0x4183a0);const _0x3b9245=getLocalDateStr(_0xc34dbc);let _0x1a8abd=_0xc34dbc[_0x5af902(0x1cd)]()-0x1;if(_0x1a8abd===-0x1)_0x1a8abd=0x6;const _0x4e1957=_0x3b9245===_0x2833e3,_0x2db1fe=document['createElement'](_0x5af902(0x2c3));_0x2db1fe['className']=_0x5af902(0x296)+(_0x4e1957?_0x5af902(0x1ce):''),_0x2db1fe['id']=_0x5af902(0x295)+_0x3b9245,_0x2db1fe[_0x5af902(0x275)](_0x5af902(0x1d0),_0x3b9245),_0x2db1fe[_0x5af902(0x2af)]=_0x5af902(0x22c)+_0x48bfda[_0x1a8abd]+_0x5af902(0x24b)+_0xc34dbc[_0x5af902(0x208)]()+_0x5af902(0x259)+_0x3b9245+_0x5af902(0x1c4),_0x2db1fe[_0x5af902(0x237)]=()=>openDayOptions(_0x3b9245,_0x48bfda[_0x1a8abd]+'\x20'+_0xc34dbc[_0x5af902(0x208)]()),_0x66a11d[_0x5af902(0x2c1)](_0x2db1fe);const _0x120bb9=document['createElement'](_0x5af902(0x2c3));_0x120bb9['className']=_0x5af902(0x25d)+(_0x4e1957?'today':''),_0x120bb9['setAttribute']('data-date',_0x3b9245),_0x120bb9['setAttribute'](_0x5af902(0x1c1),_0x1a8abd),renderEventsForColumn(_0x120bb9,_0x3b9245,_0x1a8abd),attachLongPressHandler(_0x120bb9,_0xc34dbc),_0x52a581[_0x5af902(0x2c1)](_0x120bb9),updateDayStats(_0x3b9245);}}function reRenderBlocks(){const _0x4e96d0=a2_0x12b48f;document[_0x4e96d0(0x290)](_0x4e96d0(0x1b4))[_0x4e96d0(0x23c)](_0x4d11f6=>{const _0xbd1d05=_0x4e96d0;_0x4d11f6['querySelectorAll'](_0xbd1d05(0x1c2))[_0xbd1d05(0x23c)](_0xe29fa9=>_0xe29fa9['remove']());const _0xc1ddbd=_0x4d11f6[_0xbd1d05(0x225)](_0xbd1d05(0x1d0)),_0x47db14=parseInt(_0x4d11f6[_0xbd1d05(0x225)](_0xbd1d05(0x1c1))),_0x1f7913=Math[_0xbd1d05(0x2a9)](_0x4d11f6[_0xbd1d05(0x20c)]);(availabilityPattern[_0x47db14]||[])[_0xbd1d05(0x23c)](_0x34a49d=>{const _0xe211f3=_0xbd1d05,_0x290243=document[_0xe211f3(0x21f)](_0xe211f3(0x2c3));_0x290243[_0xe211f3(0x1a6)]='blocked-slot\x20stripe-bg';const _0x2bac1a=_0x34a49d*GRID_H;_0x290243[_0xe211f3(0x1e3)][_0xe211f3(0x191)]=_0x2bac1a+'px',_0x290243[_0xe211f3(0x1e3)]['backgroundPosition']='-'+_0x1f7913+_0xe211f3(0x1d2)+_0x2bac1a+'px',_0x4d11f6[_0xe211f3(0x2c1)](_0x290243);});if(specialRanges&&specialRanges[_0xbd1d05(0x2ca)]>0x0){const _0x10b72c=new Date(_0xc1ddbd+_0xbd1d05(0x175))['getTime'](),_0xe6c874=new Date(_0xc1ddbd+_0xbd1d05(0x1ab))[_0xbd1d05(0x26c)]();specialRanges[_0xbd1d05(0x23c)](_0x44c878=>{const _0x156937=_0xbd1d05,_0x9a7084=new Date(_0x44c878[_0x156937(0x264)])[_0x156937(0x26c)](),_0x1897b1=new Date(_0x44c878[_0x156937(0x20b)])[_0x156937(0x26c)](),_0x4b6f16=Math[_0x156937(0x261)](_0x10b72c,_0x9a7084),_0x44f522=Math[_0x156937(0x202)](_0xe6c874,_0x1897b1);if(_0x4b6f16<_0x44f522){if(_0x4b6f16<=_0x10b72c&&_0x44f522>=_0xe6c874-0xea60){if(!_0x4d11f6[_0x156937(0x19d)](_0x156937(0x2b5))){const _0x1afc2f=document[_0x156937(0x21f)](_0x156937(0x2c3));_0x1afc2f['className']=_0x156937(0x212),_0x1afc2f[_0x156937(0x1e3)]['backgroundPosition']='-'+_0x1f7913+_0x156937(0x1d4),_0x4d11f6[_0x156937(0x2c1)](_0x1afc2f);}}else{const _0x431766=(_0x4b6f16-_0x10b72c)/0x36ee80*GRID_H,_0xe20dfc=(_0x44f522-_0x4b6f16)/0x36ee80*GRID_H,_0x421bde=document[_0x156937(0x21f)](_0x156937(0x2c3));_0x421bde['className']=_0x156937(0x278),_0x421bde['style'][_0x156937(0x191)]=_0x431766+'px',_0x421bde[_0x156937(0x1e3)][_0x156937(0x1e4)]=_0xe20dfc+'px',_0x421bde['style'][_0x156937(0x28a)]='-'+_0x1f7913+_0x156937(0x1d2)+_0x431766+'px',_0x4d11f6[_0x156937(0x2c1)](_0x421bde);}}});}if(dateExceptions[_0xc1ddbd]===_0xbd1d05(0x2b1)){if(!_0x4d11f6[_0xbd1d05(0x19d)](_0xbd1d05(0x2b5))){const _0xd5f0c1=document['createElement'](_0xbd1d05(0x2c3));_0xd5f0c1[_0xbd1d05(0x1a6)]=_0xbd1d05(0x212),_0xd5f0c1[_0xbd1d05(0x1e3)][_0xbd1d05(0x28a)]='-'+_0x1f7913+_0xbd1d05(0x1d4),_0x4d11f6[_0xbd1d05(0x2c1)](_0xd5f0c1);}}renderEventsForColumn(_0x4d11f6,_0xc1ddbd,_0x47db14),updateDayStats(_0xc1ddbd);});}function updateAllDayStats(){const _0x5741f5=a2_0x12b48f;document[_0x5741f5(0x290)]('.day-col-header')[_0x5741f5(0x23c)](_0x21129c=>{const _0x258ed4=_0x5741f5;updateDayStats(_0x21129c[_0x258ed4(0x225)](_0x258ed4(0x1d0)));});}function updateDayStats(_0x365e4f){const _0xbd3dfb=a2_0x12b48f,_0x4ae77d=document[_0xbd3dfb(0x1ba)](_0xbd3dfb(0x1df)+_0x365e4f);if(!_0x4ae77d)return;const _0x35f59a=new Date(_0x365e4f);let _0x4459ba=_0x35f59a['getDay']()-0x1;if(_0x4459ba===-0x1)_0x4459ba=0x6;if(dateExceptions[_0x365e4f]===_0xbd3dfb(0x2b1)){_0x4ae77d[_0xbd3dfb(0x1e3)]['display']=_0xbd3dfb(0x28f);return;}const _0xbe7a0b=availabilityPattern[_0x4459ba]||[],_0x4240a8=0x18-_0xbe7a0b[_0xbd3dfb(0x2ca)],_0x278eee=_0x4240a8*0x3c,_0x4c3694=sessions[_0xbd3dfb(0x2d1)](_0x178222=>_0x178222[_0xbd3dfb(0x193)]===_0x365e4f&&_0x178222[_0xbd3dfb(0x1f7)]!==_0xbd3dfb(0x286));if(_0x4c3694[_0xbd3dfb(0x2ca)]===0x0){_0x4ae77d['style'][_0xbd3dfb(0x221)]='none';return;}let _0x46778d=_0x4c3694['map'](_0x2734d8=>{const _0x214c2c=_0xbd3dfb,[_0x51f76f,_0x1db588]=_0x2734d8[_0x214c2c(0x264)]['split'](':')['map'](Number),[_0x465175,_0x2f5ef3]=_0x2734d8[_0x214c2c(0x20b)][_0x214c2c(0x2b2)](':')['map'](Number);return[_0x51f76f*0x3c+_0x1db588,_0x465175*0x3c+_0x2f5ef3];});_0x46778d['sort']((_0x28d99d,_0x259a8a)=>_0x28d99d[0x0]-_0x259a8a[0x0]);let _0x25274b=[];if(_0x46778d[_0xbd3dfb(0x2ca)]>0x0){let _0x290a04=_0x46778d[0x0];for(let _0x4c50be=0x1;_0x4c50be<_0x46778d[_0xbd3dfb(0x2ca)];_0x4c50be++){_0x46778d[_0x4c50be][0x0]<_0x290a04[0x1]?_0x290a04[0x1]=Math[_0xbd3dfb(0x261)](_0x290a04[0x1],_0x46778d[_0x4c50be][0x1]):(_0x25274b[_0xbd3dfb(0x1b0)](_0x290a04),_0x290a04=_0x46778d[_0x4c50be]);}_0x25274b['push'](_0x290a04);}let _0x2a3dea=0x0;_0x25274b['forEach'](_0x5163b6=>_0x2a3dea+=_0x5163b6[0x1]-_0x5163b6[0x0]),_0x4ae77d[_0xbd3dfb(0x1e3)][_0xbd3dfb(0x221)]='flex';const _0x20f462=_0x4ae77d[_0xbd3dfb(0x19d)](_0xbd3dfb(0x184));if(_0x278eee===0x0){_0x20f462['style'][_0xbd3dfb(0x230)]=_0xbd3dfb(0x276),_0x20f462[_0xbd3dfb(0x1e3)][_0xbd3dfb(0x1dd)]=_0xbd3dfb(0x1d8);return;}const _0x38624c=_0x2a3dea/_0x278eee*0x64;console['log']('['+_0x365e4f+_0xbd3dfb(0x2bd)+_0x4240a8+_0xbd3dfb(0x294)+_0x2a3dea+_0xbd3dfb(0x26a)+_0x38624c['toFixed'](0x1)+'%'),_0x38624c>0x64?(_0x20f462['style'][_0xbd3dfb(0x230)]=_0xbd3dfb(0x276),_0x20f462[_0xbd3dfb(0x1e3)][_0xbd3dfb(0x1dd)]='var(--acc-red)'):(_0x20f462[_0xbd3dfb(0x1e3)][_0xbd3dfb(0x230)]=_0x38624c+'%',_0x20f462[_0xbd3dfb(0x1e3)][_0xbd3dfb(0x1dd)]=_0xbd3dfb(0x1ff));}function renderEventsForColumn(_0x4519b5,_0x5c1961,_0x125d86){const _0x908e7a=a2_0x12b48f,_0x4b58bc=sessions[_0x908e7a(0x2d1)](_0x290803=>_0x290803[_0x908e7a(0x193)]===_0x5c1961),_0x349503=_0x4b58bc['map'](_0x481420=>{const _0x55e7a3=_0x908e7a,[_0x4f6f67,_0x47aa4a]=_0x481420[_0x55e7a3(0x264)][_0x55e7a3(0x2b2)](':')['map'](Number),[_0xbc3b5c,_0x588a91]=_0x481420[_0x55e7a3(0x20b)]['split'](':')[_0x55e7a3(0x23f)](Number);return{'data':_0x481420,'start':_0x4f6f67*0x3c+_0x47aa4a,'end':_0xbc3b5c*0x3c+_0x588a91,'colIndex':0x0};});_0x349503[_0x908e7a(0x1fe)]((_0x765d72,_0x5a2c1f)=>{const _0x4ad9ee=_0x908e7a;if(_0x765d72[_0x4ad9ee(0x264)]!==_0x5a2c1f['start'])return _0x765d72[_0x4ad9ee(0x264)]-_0x5a2c1f['start'];return _0x5a2c1f['end']-_0x5a2c1f['start']-(_0x765d72[_0x4ad9ee(0x20b)]-_0x765d72['start']);});const _0xb3979=[];_0x349503[_0x908e7a(0x23c)](_0x106792=>{const _0x3ef64b=_0x908e7a;let _0x2b142f=![];for(let _0x38b0ff=0x0;_0x38b0ff<_0xb3979[_0x3ef64b(0x2ca)];_0x38b0ff++){const _0x3c5bb6=_0xb3979[_0x38b0ff],_0x3c4e96=_0x3c5bb6[_0x3c5bb6[_0x3ef64b(0x2ca)]-0x1];if(_0x106792[_0x3ef64b(0x264)]>=_0x3c4e96[_0x3ef64b(0x20b)]){_0x3c5bb6['push'](_0x106792),_0x106792[_0x3ef64b(0x2ba)]=_0x38b0ff,_0x2b142f=!![];break;}}!_0x2b142f&&(_0xb3979['push']([_0x106792]),_0x106792[_0x3ef64b(0x2ba)]=_0xb3979[_0x3ef64b(0x2ca)]-0x1);}),_0x349503[_0x908e7a(0x23c)](_0x27559e=>{const _0x3887db=_0x908e7a;let _0x21b3c9=0x0;_0x349503[_0x3887db(0x23c)](_0x438ad6=>{const _0xfa53c=_0x3887db;if(Math[_0xfa53c(0x261)](_0x27559e[_0xfa53c(0x264)],_0x438ad6[_0xfa53c(0x264)])<Math['min'](_0x27559e[_0xfa53c(0x20b)],_0x438ad6[_0xfa53c(0x20b)])){if(_0x438ad6[_0xfa53c(0x2ba)]>_0x21b3c9)_0x21b3c9=_0x438ad6[_0xfa53c(0x2ba)];}});const _0xfd5231=_0x21b3c9+0x1,_0x105923=0x64/_0xfd5231,_0x40e889=_0x27559e[_0x3887db(0x2ba)]*_0x105923,_0x5ab089=createEventEl(_0x27559e[_0x3887db(0x236)]);_0x5ab089[_0x3887db(0x1e3)][_0x3887db(0x230)]=_0x3887db(0x1b1)+_0x105923+_0x3887db(0x181),_0x5ab089['style'][_0x3887db(0x172)]=_0x3887db(0x1b1)+_0x40e889+_0x3887db(0x20d),_0x5ab089[_0x3887db(0x1e3)][_0x3887db(0x228)]=0xa+_0x27559e[_0x3887db(0x2ba)],_0x105923<0x55&&_0x5ab089[_0x3887db(0x287)][_0x3887db(0x246)](_0x3887db(0x291)),_0x4519b5['appendChild'](_0x5ab089);});}function createEventEl(_0x59f4b0){const _0x39ab65=a2_0x12b48f,[_0x47b02e,_0x521c1f]=_0x59f4b0[_0x39ab65(0x264)]['split'](':')[_0x39ab65(0x23f)](Number),[_0x45cb35,_0x3f01cd]=_0x59f4b0[_0x39ab65(0x20b)][_0x39ab65(0x2b2)](':')['map'](Number),_0x38d267=(_0x47b02e*0x3c+_0x521c1f)/0x3c*GRID_H,_0x24a892=(_0x45cb35*0x3c+_0x3f01cd-(_0x47b02e*0x3c+_0x521c1f))/0x3c*GRID_H,_0x44e3fb=document[_0x39ab65(0x21f)](_0x39ab65(0x2c3)),_0x14df49=_0x59f4b0[_0x39ab65(0x1f7)]===_0x39ab65(0x213)?'\x20status-completed':'';_0x44e3fb[_0x39ab65(0x1a6)]='event-card'+_0x14df49,_0x44e3fb[_0x39ab65(0x1e3)][_0x39ab65(0x191)]=_0x38d267+'px',_0x44e3fb[_0x39ab65(0x1e3)]['height']=Math[_0x39ab65(0x261)](_0x24a892,0x14)+'px';const _0xa15c42=clients[_0x39ab65(0x2c5)](_0x2a338e=>_0x59f4b0[_0x39ab65(0x22b)]&&String(_0x2a338e['id'])===String(_0x59f4b0[_0x39ab65(0x22b)])||_0x2a338e[_0x39ab65(0x234)]===_0x59f4b0['client']),_0x5ea7c9=_0xa15c42?_0xa15c42['color']:_0x39ab65(0x1b2);_0x44e3fb[_0x39ab65(0x1e3)][_0x39ab65(0x2a3)]=_0x5ea7c9,_0x44e3fb[_0x39ab65(0x1e3)][_0x39ab65(0x281)]=hexToRgba(_0x5ea7c9,0.85);let _0x9aa42=_0x39ab65(0x271)+_0x59f4b0[_0x39ab65(0x1c6)]+_0x39ab65(0x257)+_0x59f4b0[_0x39ab65(0x264)]+_0x39ab65(0x247)+_0x59f4b0[_0x39ab65(0x20b)]+'</div>';return _0x59f4b0[_0x39ab65(0x2d4)]&&(_0x9aa42+='<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>'),_0x59f4b0[_0x39ab65(0x1f7)]==='completed'&&(_0x9aa42+=_0x39ab65(0x183)),_0x44e3fb[_0x39ab65(0x2af)]=_0x9aa42,_0x44e3fb[_0x39ab65(0x237)]=_0x213918=>{const _0x2a42ab=_0x39ab65;_0x213918[_0x2a42ab(0x203)](),openEdit(_0x59f4b0);},_0x44e3fb;}function attachLongPressHandler(_0xa9841c,_0xde1a18){const _0x9981cf=a2_0x12b48f;let _0x33e360=0x0,_0x47c920=null;const _0x207c97=_0x497f76=>{const _0x4f4cfb=a2_0xe4e7;if(_0x497f76[_0x4f4cfb(0x272)]['closest'](_0x4f4cfb(0x1e7)))return;isScrolling=![],_0x33e360=_0x497f76[_0x4f4cfb(0x23a)]?_0x497f76[_0x4f4cfb(0x23a)][0x0][_0x4f4cfb(0x1bf)]:_0x497f76[_0x4f4cfb(0x1bf)],_0x47c920=setTimeout(()=>{const _0x372c18=_0x4f4cfb;if(!isScrolling){navigator['vibrate']?.(0x32);const _0x300516=_0xa9841c[_0x372c18(0x207)](),_0xa7c7a1=Math[_0x372c18(0x242)]((_0x33e360-_0x300516[_0x372c18(0x191)])/GRID_H);_0xde1a18[_0x372c18(0x1e1)](_0xa7c7a1,0x0),openAddSession(_0xde1a18);}},0x1f4);},_0x414303=()=>{isScrolling=!![],clearTimeout(_0x47c920);},_0x37adb8=()=>{clearTimeout(_0x47c920);};_0xa9841c[_0x9981cf(0x1f1)](_0x9981cf(0x1ad),_0x207c97,{'passive':!![]}),_0xa9841c['addEventListener']('touchmove',_0x414303,{'passive':!![]}),_0xa9841c[_0x9981cf(0x1f1)](_0x9981cf(0x2a0),_0x37adb8),_0xa9841c[_0x9981cf(0x1f1)]('mousedown',_0x207c97),_0xa9841c['addEventListener'](_0x9981cf(0x2d0),_0x414303),_0xa9841c[_0x9981cf(0x1f1)](_0x9981cf(0x2d6),_0x37adb8);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x3aeeba=a2_0x12b48f,_0x5b9b0b=document['getElementById'](_0x3aeeba(0x226)),_0x3270ea=_0x5b9b0b['scrollLeft'],_0x500780=_0x5b9b0b[_0x3aeeba(0x2da)],_0x321adb=_0x5b9b0b[_0x3aeeba(0x21c)];if(_0x500780-(_0x3270ea+_0x321adb)<0x12c){const _0x3ee2e9=endOffset;endOffset+=0xe,renderDayRange(_0x3ee2e9+0x1,endOffset),reRenderBlocks();}if(_0x3270ea<0x12c){const _0x8713fd=startOffset;startOffset-=0xe,prependDays(startOffset,_0x8713fd-0x1),_0x5b9b0b[_0x3aeeba(0x2c4)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x2bb68b,_0x4bc0ac){const _0x47e8d2=a2_0x12b48f,_0xe478c6=document['getElementById'](_0x47e8d2(0x218)),_0x2e5212=document[_0x47e8d2(0x1ba)]('gridColumns'),_0xfc7b89=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x434828=new Date();_0x434828[_0x47e8d2(0x1e1)](0x0,0x0,0x0,0x0);const _0x28f54b=getLocalDateStr(new Date()),_0x175629=document['createDocumentFragment'](),_0x4805a8=document['createDocumentFragment']();for(let _0x37ebb9=_0x2bb68b;_0x37ebb9<=_0x4bc0ac;_0x37ebb9++){const _0x37d9ce=new Date(_0x434828);_0x37d9ce[_0x47e8d2(0x244)](_0x37d9ce[_0x47e8d2(0x208)]()+_0x37ebb9);const _0x596589=getLocalDateStr(_0x37d9ce);let _0x5ae38a=_0x37d9ce[_0x47e8d2(0x1cd)]()-0x1;if(_0x5ae38a===-0x1)_0x5ae38a=0x6;const _0x15860b=_0x596589===_0x28f54b,_0x34b59b=document[_0x47e8d2(0x21f)](_0x47e8d2(0x2c3));_0x34b59b['className']='day-col-header\x20'+(_0x15860b?_0x47e8d2(0x1ce):''),_0x34b59b['id']='header-'+_0x596589,_0x34b59b['setAttribute'](_0x47e8d2(0x1d0),_0x596589),_0x34b59b['innerHTML']=_0x47e8d2(0x22c)+_0xfc7b89[_0x5ae38a]+_0x47e8d2(0x24b)+_0x37d9ce['getDate']()+_0x47e8d2(0x259)+_0x596589+_0x47e8d2(0x1c4),_0x34b59b[_0x47e8d2(0x237)]=()=>openDayOptions(_0x596589,_0xfc7b89[_0x5ae38a]+'\x20'+_0x37d9ce['getDate']()),_0x175629['appendChild'](_0x34b59b);const _0x120aa0=document[_0x47e8d2(0x21f)](_0x47e8d2(0x2c3));_0x120aa0[_0x47e8d2(0x1a6)]=_0x47e8d2(0x25d)+(_0x15860b?_0x47e8d2(0x1ce):''),_0x120aa0[_0x47e8d2(0x275)](_0x47e8d2(0x1d0),_0x596589),_0x120aa0['setAttribute'](_0x47e8d2(0x1c1),_0x5ae38a),renderEventsForColumn(_0x120aa0,_0x596589,_0x5ae38a),attachLongPressHandler(_0x120aa0,_0x37d9ce),_0x4805a8[_0x47e8d2(0x2c1)](_0x120aa0),updateDayStats(_0x596589);}_0xe478c6[_0x47e8d2(0x195)](_0x175629,_0xe478c6[_0x47e8d2(0x29d)]),_0x2e5212['insertBefore'](_0x4805a8,_0x2e5212[_0x47e8d2(0x19d)](_0x47e8d2(0x285)));}function validateAppointment(_0x47759b,_0xaa6eab,_0x193966,_0x561f46,_0x378ca9){const _0x186d91=a2_0x12b48f,[_0x428622,_0x52d4c3]=_0xaa6eab[_0x186d91(0x2b2)](':')[_0x186d91(0x23f)](Number),[_0x4ca3a7,_0xf428dc]=_0x193966[_0x186d91(0x2b2)](':')[_0x186d91(0x23f)](Number),_0x14feb8=_0x428622*0x3c+_0x52d4c3,_0x5f4fdc=_0x4ca3a7*0x3c+_0xf428dc,_0x1d30e4=String(_0x378ca9);let _0x24f620=![],_0x417c1f='';for(let _0x40bfbd of sessions){if(_0x40bfbd[_0x186d91(0x193)]!==_0x47759b)continue;if(_0x40bfbd[_0x186d91(0x1f7)]===_0x186d91(0x286))continue;if(_0x561f46&&String(_0x40bfbd['id'])===String(_0x561f46))continue;const [_0x2bb9d0,_0x262997]=_0x40bfbd['start'][_0x186d91(0x2b2)](':')[_0x186d91(0x23f)](Number),[_0xe47795,_0x32eda2]=_0x40bfbd['end'][_0x186d91(0x2b2)](':')['map'](Number),_0x4d6b01=_0x2bb9d0*0x3c+_0x262997,_0x587b00=_0xe47795*0x3c+_0x32eda2;if(Math[_0x186d91(0x261)](_0x14feb8,_0x4d6b01)<Math[_0x186d91(0x202)](_0x5f4fdc,_0x587b00)){if(_0x40bfbd['clientId']&&String(_0x40bfbd['clientId'])===_0x1d30e4)return{'valid':![],'msg':_0x186d91(0x2c2)+_0x40bfbd[_0x186d91(0x1c6)]+_0x186d91(0x231)};_0x24f620=!![],_0x417c1f=_0x40bfbd[_0x186d91(0x1c6)];}}if(_0x24f620)return{'valid':!![],'warning':'–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20'+_0x417c1f};return{'valid':!![]};}function updateDateDisplay(){const _0x37afb7=a2_0x12b48f,_0x1e7b3e=document['getElementById']('inpDate')[_0x37afb7(0x252)],_0x12bfc9=document[_0x37afb7(0x1ba)]('sheetDateSubtitle');if(!_0x1e7b3e){_0x12bfc9[_0x37afb7(0x2dc)]='';return;}const [_0x5cb720,_0x28e6b0,_0x545e80]=_0x1e7b3e[_0x37afb7(0x2b2)]('-')[_0x37afb7(0x23f)](Number),_0x45d17c=new Date(_0x5cb720,_0x28e6b0-0x1,_0x545e80),_0x1d5a06={'weekday':'long','day':_0x37afb7(0x1a7),'month':'long','year':_0x37afb7(0x1a7)};let _0x228096=_0x45d17c[_0x37afb7(0x22d)]('ru-RU',_0x1d5a06);_0x228096=_0x228096[_0x37afb7(0x177)](0x0)[_0x37afb7(0x16f)]()+_0x228096[_0x37afb7(0x2bb)](0x1),_0x12bfc9[_0x37afb7(0x2dc)]=_0x228096;}function autoSetEndTime(){const _0x3e2a93=a2_0x12b48f,_0x89669c=document[_0x3e2a93(0x1ba)](_0x3e2a93(0x1fd))['value'];if(!_0x89669c)return;const [_0x121dc0,_0x537c4a]=_0x89669c['split'](':')['map'](Number);let _0x115630=_0x121dc0+0x1;if(_0x115630>0x17)_0x115630=0x0;const _0x2abb4d=String(_0x115630)[_0x3e2a93(0x1f8)](0x2,'0')+':'+String(_0x537c4a)[_0x3e2a93(0x1f8)](0x2,'0');document[_0x3e2a93(0x1ba)]('inpEnd')[_0x3e2a93(0x252)]=_0x2abb4d;}function populateClientSelect(){const _0x5c173d=a2_0x12b48f,_0x2b4dc3=document[_0x5c173d(0x1ba)](_0x5c173d(0x1db));_0x2b4dc3[_0x5c173d(0x2af)]='';if(clients[_0x5c173d(0x2ca)]===0x0){const _0x454c13=document[_0x5c173d(0x21f)](_0x5c173d(0x282));_0x454c13['text']=_0x5c173d(0x24a),_0x2b4dc3[_0x5c173d(0x2c1)](_0x454c13);return;}clients[_0x5c173d(0x23c)](_0x4f06fd=>{const _0x251e92=_0x5c173d,_0x59c17d=document['createElement']('option');_0x59c17d['value']=_0x4f06fd[_0x251e92(0x234)],_0x59c17d[_0x251e92(0x2dc)]=_0x4f06fd[_0x251e92(0x234)],_0x2b4dc3[_0x251e92(0x2c1)](_0x59c17d);});}function a2_0xe4e7(_0x3c3e49,_0x215e11){_0x3c3e49=_0x3c3e49-0x16e;const _0x4a9642=a2_0x28f8();let _0x43b2d1=_0x4a9642[_0x3c3e49];return _0x43b2d1;}function openActionSheet(_0x53ed47){const _0x1f6adf=a2_0x12b48f,_0xd95bd5=document[_0x1f6adf(0x1ba)](_0x1f6adf(0x251)),_0x2d1f00=document[_0x1f6adf(0x1ba)](_0x1f6adf(0x1bb)),_0x7d6416=document[_0x1f6adf(0x1ba)]('asTitle'),_0x3ceb1a=document[_0x1f6adf(0x1ba)]('asBtnOne'),_0x19968=document[_0x1f6adf(0x1ba)]('asBtnSeries');_0x2d1f00[_0x1f6adf(0x287)]['add']('active'),_0xd95bd5[_0x1f6adf(0x287)]['add'](_0x1f6adf(0x18f));if(_0x53ed47===_0x1f6adf(0x173))_0x7d6416[_0x1f6adf(0x2dc)]='–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏',_0x3ceb1a[_0x1f6adf(0x2dc)]=_0x1f6adf(0x1ec),_0x3ceb1a[_0x1f6adf(0x237)]=()=>{const _0x29c9fc=_0x1f6adf;closeActionSheet(),updateSeriesBatch(_0x29c9fc(0x17b),tempSessionData);},_0x19968[_0x1f6adf(0x2dc)]=_0x1f6adf(0x2ad),_0x19968[_0x1f6adf(0x237)]=()=>{const _0x175fa1=_0x1f6adf;closeActionSheet(),updateSeriesBatch(_0x175fa1(0x2b4),tempSessionData);};else _0x53ed47===_0x1f6adf(0x18a)&&(_0x7d6416[_0x1f6adf(0x2dc)]='–£–¥–∞–ª–µ–Ω–∏–µ',_0x3ceb1a[_0x1f6adf(0x2dc)]=_0x1f6adf(0x1ec),_0x3ceb1a['className']=_0x1f6adf(0x27c),_0x3ceb1a[_0x1f6adf(0x237)]=()=>{const _0x953a06=_0x1f6adf;closeActionSheet(),commitDelete(_0x953a06(0x17b),sessions['find'](_0x581605=>_0x581605['id']===editingId));},_0x19968[_0x1f6adf(0x2dc)]=_0x1f6adf(0x2ad),_0x19968[_0x1f6adf(0x1a6)]=_0x1f6adf(0x2ce),_0x19968['onclick']=()=>{const _0x4d0dc4=_0x1f6adf;closeActionSheet(),commitDelete(_0x4d0dc4(0x2b4),sessions['find'](_0x21e3ed=>_0x21e3ed['id']===editingId));});}function closeActionSheet(){const _0x46a437=a2_0x12b48f;document[_0x46a437(0x1ba)]('actionSheet')['classList'][_0x46a437(0x2b3)]('open'),document[_0x46a437(0x1ba)](_0x46a437(0x1bb))[_0x46a437(0x287)]['remove']('active');}function openSettings(){const _0x374fd6=a2_0x12b48f;openSheet(_0x374fd6(0x25a));}function saveCoachSettings(){const _0x1779b4=a2_0x12b48f,_0x93bdc1=document['getElementById']('settingCancelWindow')[_0x1779b4(0x252)];localStorage['setItem'](_0x1779b4(0x178),_0x93bdc1),console[_0x1779b4(0x1ac)]('[Settings]\x20Cancel\x20window\x20set\x20to:',_0x93bdc1),DataManager['fetchFromServer'](_0x1779b4(0x2ab),{'settings':{'cancel_window':_0x93bdc1}})[_0x1779b4(0x188)](_0x5bf4f8=>{const _0x1ba6ea=_0x1779b4;console[_0x1ba6ea(0x2db)](_0x1ba6ea(0x274),_0x5bf4f8),showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫',![]);});}function loadCoachSettings(){const _0x1054d7=a2_0x12b48f,_0x2526c3=localStorage[_0x1054d7(0x1e9)](_0x1054d7(0x178));_0x2526c3&&(document[_0x1054d7(0x1ba)]('settingCancelWindow')['value']=_0x2526c3);}function openRangesSheet(){const _0x3a593c=a2_0x12b48f;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x3a593c(0x1d6));}function addRange(){const _0x2ee512=a2_0x12b48f,_0x27989b=document[_0x2ee512(0x1ba)]('rangeStartDate')[_0x2ee512(0x252)],_0x2f9cb9=document[_0x2ee512(0x1ba)]('rangeStartTime')['value'],_0x3ea262=document['getElementById'](_0x2ee512(0x2b7))['value'],_0x40f375=document[_0x2ee512(0x1ba)](_0x2ee512(0x280))['value'];if(!_0x27989b||!_0x2f9cb9||!_0x3ea262||!_0x40f375)return alert(_0x2ee512(0x284));const _0x2f4794=_0x27989b+'T'+_0x2f9cb9,_0x4188ae=_0x3ea262+'T'+_0x40f375;if(_0x2f4794>=_0x4188ae)return alert(_0x2ee512(0x204));specialRanges[_0x2ee512(0x1b0)]({'start':_0x2f4794,'end':_0x4188ae}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager['fetchFromServer'](_0x2ee512(0x2ab),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x3d1282){const _0x427d03=a2_0x12b48f;specialRanges[_0x427d03(0x25c)](_0x3d1282,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x427d03(0x1c8)](),DataManager[_0x427d03(0x1f2)](_0x427d03(0x2ab),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x29b16e=a2_0x12b48f;document[_0x29b16e(0x1ba)]('rangeStartDate')['value']='',document[_0x29b16e(0x1ba)](_0x29b16e(0x241))[_0x29b16e(0x252)]=_0x29b16e(0x198),document[_0x29b16e(0x1ba)]('rangeEndDate')['value']='',document[_0x29b16e(0x1ba)](_0x29b16e(0x280))['value']=_0x29b16e(0x255);}function renderRangesList(){const _0x5ab1d3=a2_0x12b48f,_0x11bd36=document[_0x5ab1d3(0x1ba)]('rangesList');_0x11bd36[_0x5ab1d3(0x2af)]='';if(!specialRanges[_0x5ab1d3(0x2ca)]){_0x11bd36[_0x5ab1d3(0x2af)]=_0x5ab1d3(0x179);return;}specialRanges[_0x5ab1d3(0x23c)]((_0x10ad68,_0x35c1bc)=>{const _0x16f189=_0x5ab1d3,_0x31c9aa=document[_0x16f189(0x21f)](_0x16f189(0x2c3));_0x31c9aa['className']=_0x16f189(0x1be);const _0xc9b12c=_0x4b0c74=>{const _0x41e960=_0x16f189,_0x22dc67=new Date(_0x4b0c74);return _0x22dc67[_0x41e960(0x208)]()+'.'+String(_0x22dc67[_0x41e960(0x2be)]()+0x1)[_0x41e960(0x1f8)](0x2,'0')+'\x20'+String(_0x22dc67['getHours']())[_0x41e960(0x1f8)](0x2,'0')+':'+String(_0x22dc67[_0x41e960(0x24f)]())[_0x41e960(0x1f8)](0x2,'0');};_0x31c9aa[_0x16f189(0x2af)]=_0x16f189(0x211)+_0xc9b12c(_0x10ad68['start'])+_0x16f189(0x1e6)+_0xc9b12c(_0x10ad68['end'])+_0x16f189(0x1de)+_0x35c1bc+_0x16f189(0x1af),_0x11bd36['appendChild'](_0x31c9aa);});}function scrollToToday(){const _0x15040d=a2_0x12b48f,_0x548250=getLocalDateStr(new Date()),_0x5dc05f=document['getElementById'](_0x15040d(0x295)+_0x548250),_0x4cd404=document[_0x15040d(0x1ba)](_0x15040d(0x226));if(_0x5dc05f&&_0x4cd404){const _0x5aa7b6=_0x4cd404[_0x15040d(0x21c)],_0x3b38d6=_0x5dc05f[_0x15040d(0x20c)],_0x136da2=_0x5dc05f['offsetWidth'];_0x4cd404['scrollLeft']=_0x3b38d6-_0x5aa7b6/0x2+_0x136da2/0x2,_0x4cd404['scrollTop']=0x9*GRID_H;}}function onScroll(){const _0x26ec3a=a2_0x12b48f,_0x47280f=document[_0x26ec3a(0x1ba)]('matrixViewport'),_0x267abd=document[_0x26ec3a(0x290)](_0x26ec3a(0x18d));for(let _0x5594ca of _0x267abd)if(_0x5594ca[_0x26ec3a(0x20c)]>=_0x47280f['scrollLeft']){const _0x3ca81f=new Date(_0x5594ca[_0x26ec3a(0x225)](_0x26ec3a(0x1d0)));document[_0x26ec3a(0x1ba)](_0x26ec3a(0x1cf))[_0x26ec3a(0x2dc)]=_0x3ca81f[_0x26ec3a(0x2a4)]('ru',{'month':_0x26ec3a(0x2cc)})['toUpperCase']()+'\x20'+_0x3ca81f['getFullYear']();break;}}function showToast(_0x195ed1,_0x17386a=![]){const _0x333d0f=a2_0x12b48f,_0x179ce1=document[_0x333d0f(0x1ba)](_0x333d0f(0x273));_0x179ce1[_0x333d0f(0x1a6)]=_0x333d0f(0x1ca)+(_0x17386a?_0x333d0f(0x23d):''),document[_0x333d0f(0x1ba)]('toastTitle')[_0x333d0f(0x2dc)]=_0x17386a?'–£—Å–ø–µ—à–Ω–æ':_0x333d0f(0x200),document[_0x333d0f(0x1ba)](_0x333d0f(0x1b7))['textContent']=_0x195ed1,_0x179ce1[_0x333d0f(0x287)][_0x333d0f(0x246)](_0x333d0f(0x1f0)),setTimeout(()=>{const _0x5c30c2=_0x333d0f;_0x179ce1[_0x5c30c2(0x287)][_0x5c30c2(0x2b3)](_0x5c30c2(0x1f0));},0xbb8);}function a2_0x28f8(){const _0x20d050=['forEach','success','[Notify]\x20Attempting\x20to\x20send:','map','rgba(255,255,255,0.05)','rangeStartTime','floor','[Sync]\x20Loading\x20','setDate','then','add','\x20-\x20','var(--acc-green)','guest','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','</div><div\x20class=\x22dch-num\x22>','findIndex','entries','btnDayToggle','getMinutes','pe-cell\x20','actionSheet','value','btn-status-toggle\x20undo-mode','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','23:59','analyticsList','</div><div\x20class=\x22ev-time\x22>','client-stat-card','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','settingsSheet','now','splice','day-column\x20','includes','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','Telegram','max','loadLocal','doLoadPercent','start','</span>\x20/\x20','btn-status-toggle','warn','pe-col-header','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','WebApp','getTime','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','patternEditor','anDonutCircle','isArray','<div\x20class=\x22ev-title\x22>','target','toast','Save\x20settings\x20error:','setAttribute','100%','</b>\x0a\x0a','blocked-range-part\x20stripe-bg','peGrid','BackButton','#fff','as-button\x20danger','uc_sessions_v9','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','...','rangeEndTime','backgroundColor','option','var(--acc-orange)','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','.day-column','cancelled','classList','4712624mpFwmV','[Series]\x20Skipped\x20','backgroundPosition','Batch\x20Sync\x20OK','search','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','none','querySelectorAll','mini','strokeDashoffset','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','header-','day-col-header\x20','#050505','deleted','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞',':\x20Client\x20already\x20booked','localeCompare','<b>‚úÖ\x20','firstChild','[Notify]\x20Client\x20SWAP\x20detected','constructor','touchend','borderColor','init_load','borderLeftColor','toLocaleString',':00','substr','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','.period-switch\x20.p-btn','round','warning','save_settings','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','innerHTML','globalTimeLine','off','split','remove','series','.day-off-overlay','anCustomDates','rangeEndDate','parse','update','colIndex','slice','pe-corner',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','getMonth','flex',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','appendChild','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','div','scrollLeft','find','valid','btn-primary\x20btn-secondary','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','length','note','long','random','as-button\x20danger\x20bold','getFullYear','mousemove','filter','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','formatDate','seriesId','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','mouseup','cancel_window','[API\x20','sessionSheet','scrollWidth','error','textContent','timeLineBadge','setItem','inpEnd','toUpperCase','Critical\x20TMA\x20Error:','block','left','save','2229030bVXjNJ','T00:00:00','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','charAt','uc_settings_cancel_window','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','[Notify]\x20Detected\x20Client\x20ID:','single','checked','exceptions','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','10px\x2010px\x200\x200','disableVerticalSwipes','%\x20-\x204px)','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','.dch-stats-fill','Local\x20Load\x20Error','inpRecurring','ru-RU','catch','total','delete','null','(((.+)+)+)+$','.day-col-header','custom','open','btnStatusToggle','top','startsWith','dateStr','user','insertBefore','doEventsList','getText','00:00','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','2907976niGgJe','toString','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','querySelector','\x20–∏–∑\x20','overlay','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','anTotalStats','[Notify]\x20Error:\x20sessionData\x20is\x20null','getHours','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','className','numeric','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','all','from','T23:59:59','log','touchstart','1023836TbQIjP',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','push','calc(','#0a84ff','[Notify]\x20Network\x20Failed','#gridColumns\x20.day-column','keys','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','toastMessage','283742KoqDeL','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','getElementById','actionSheetOverlay','inpSeriesCount','anEnd','range-item','clientY','done','data-day-idx','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','send','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','56415iSwwej','client','seriesCountContainer','saveLocally','stringify','toast-notification\x20','json','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','getDay','today','headerMonth','data-date','de-item','px\x20-','[Notify]\x20Server\x20Response:','px\x200px','uc_settings_v9','rangesSheet','color','var(--acc-red)','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','inpDate','inpClient','inpNote','background','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','stat-','rgba(48,\x20209,\x2088,\x200.15)','setHours','location','style','height','setBackgroundColor','\x20‚Äî\x20','.event-card','initDataUnsafe','getItem',':00</span>','blocked-slot\x20stripe-bg','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','calendar','POST','settingCancelWindow','show','addEventListener','fetchFromServer','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','rgba(255,\x2069,\x2058,\x200.3)','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','ranges','status','padStart','dayOptionsSheet','anStart','planned','complete','inpStart','sort','var(--acc-current)','–ò–Ω—Ñ–æ','btnDelete','min','stopPropagation','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','rgba(100,100,100,0.5)','href','getBoundingClientRect','getDate','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','undefined','end','offsetLeft','%\x20+\x202px)','msg','mergeServerData','v9.0-BATCH-CALENDAR','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','day-off-overlay\x20stripe-bg','completed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','clients','syncBatch','gridColumns','daysHeaderTrack','uc_clients_v9','recurringOptionContainer','pattern','clientWidth','<span>','week','createElement','patternInfoBox','display','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','syncLoad','getAttribute','matrixViewport','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','zIndex','244hLsXlg','623445kabfvi','clientId','<div\x20class=\x22dch-day\x22>','toLocaleDateString','text/plain;charset=UTF-8','borderRadius','width',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','indexOf','active','name','cancel','data','onclick','apply','create','touches','settings'];a2_0x28f8=function(){return _0x20d050;};return a2_0x28f8();}function openDayOptions(_0x233d2f,_0x58710c){const _0x45a0b9=a2_0x12b48f;selectedDayForOptions=_0x233d2f,document[_0x45a0b9(0x1ba)]('dayOptionsTitle')[_0x45a0b9(0x2dc)]=_0x58710c,openSheet(_0x45a0b9(0x1f9));}function toggleDayOff(){const _0x2628a7=a2_0x12b48f;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x2628a7(0x2b1),reRenderBlocks(),closeAllSheets(),DataManager[_0x2628a7(0x1c8)](),DataManager[_0x2628a7(0x1f2)](_0x2628a7(0x2ab),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x2cd288=a2_0x12b48f;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x2cd288(0x1c8)](),DataManager[_0x2cd288(0x1f2)]('save_settings',{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x6c01b2){const _0x408bb9=a2_0x12b48f;document[_0x408bb9(0x1ba)](_0x408bb9(0x19f))[_0x408bb9(0x287)][_0x408bb9(0x246)](_0x408bb9(0x233)),document['getElementById'](_0x6c01b2)[_0x408bb9(0x287)]['add']('open');}function closeAllSheets(){const _0x2d80c3=a2_0x12b48f;document[_0x2d80c3(0x1ba)](_0x2d80c3(0x19f))[_0x2d80c3(0x287)][_0x2d80c3(0x2b3)](_0x2d80c3(0x233)),document[_0x2d80c3(0x290)]('.sheet')[_0x2d80c3(0x23c)](_0x16de98=>_0x16de98['classList']['remove']('open'));}function openPatternEditor(){const _0x302269=a2_0x12b48f;closeAllSheets(),document['getElementById'](_0x302269(0x26e))[_0x302269(0x287)][_0x302269(0x246)](_0x302269(0x18f)),renderPatternEditor();}function closePatternEditor(){const _0x2b5e58=a2_0x12b48f;document['getElementById'](_0x2b5e58(0x26e))[_0x2b5e58(0x287)][_0x2b5e58(0x2b3)]('open');}function savePattern(){const _0x1eb15d=a2_0x12b48f;document[_0x1eb15d(0x1ba)](_0x1eb15d(0x26e))[_0x1eb15d(0x287)][_0x1eb15d(0x2b3)](_0x1eb15d(0x18f)),reRenderBlocks(),DataManager[_0x1eb15d(0x1c8)](),DataManager[_0x1eb15d(0x1f2)]('save_settings',{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x51de5b=a2_0x12b48f,_0x4777ce=document[_0x51de5b(0x1ba)](_0x51de5b(0x279));_0x4777ce[_0x51de5b(0x2af)]='';const _0x4a22ec=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x5b20fd=document['createElement']('div');_0x5b20fd[_0x51de5b(0x1a6)]=_0x51de5b(0x2bc),_0x4777ce[_0x51de5b(0x2c1)](_0x5b20fd),_0x4a22ec[_0x51de5b(0x23c)]((_0x451c6a,_0x4a3e34)=>{const _0x1efdf7=_0x51de5b,_0x5a4a65=document['createElement'](_0x1efdf7(0x2c3));_0x5a4a65[_0x1efdf7(0x1a6)]=_0x1efdf7(0x268),_0x5a4a65[_0x1efdf7(0x2af)]=_0x451c6a+'\x20<span\x20class=\x22arrow\x22>‚Üì</span>',_0x5a4a65['onclick']=()=>toggleColPattern(_0x4a3e34),_0x4777ce['appendChild'](_0x5a4a65);});for(let _0x3fef71=0x0;_0x3fef71<0x18;_0x3fef71++){const _0x1771d2=document['createElement']('div');_0x1771d2[_0x51de5b(0x1a6)]='pe-time-label',_0x1771d2[_0x51de5b(0x2af)]=_0x51de5b(0x26d)+String(_0x3fef71)[_0x51de5b(0x1f8)](0x2,'0')+_0x51de5b(0x2a5),_0x1771d2[_0x51de5b(0x237)]=()=>toggleRowPattern(_0x3fef71),_0x4777ce[_0x51de5b(0x2c1)](_0x1771d2);for(let _0x6aa323=0x0;_0x6aa323<0x7;_0x6aa323++){const _0x43adae=document[_0x51de5b(0x21f)](_0x51de5b(0x2c3)),_0x7f88e3=(availabilityPattern[_0x6aa323]||[])[_0x51de5b(0x25e)](_0x3fef71),_0x1d3f97=!_0x7f88e3;_0x43adae[_0x51de5b(0x1a6)]=_0x51de5b(0x250)+(_0x1d3f97?_0x51de5b(0x233):''),_0x43adae[_0x51de5b(0x237)]=()=>toggleSinglePattern(_0x6aa323,_0x3fef71),_0x4777ce[_0x51de5b(0x2c1)](_0x43adae);}}}function toggleSinglePattern(_0x45f35f,_0x301f6d){const _0x10ba78=a2_0x12b48f;if(!availabilityPattern[_0x45f35f])availabilityPattern[_0x45f35f]=[];const _0x3708de=availabilityPattern[_0x45f35f],_0x49325a=_0x3708de[_0x10ba78(0x232)](_0x301f6d);_0x49325a===-0x1?_0x3708de[_0x10ba78(0x1b0)](_0x301f6d):_0x3708de[_0x10ba78(0x25c)](_0x49325a,0x1),renderPatternEditor();}function toggleColPattern(_0x2a8142){const _0x457d14=a2_0x12b48f;if(!availabilityPattern[_0x2a8142])availabilityPattern[_0x2a8142]=[];const _0x9ed062=availabilityPattern[_0x2a8142];_0x9ed062[_0x457d14(0x2ca)]===0x0?availabilityPattern[_0x2a8142]=Array[_0x457d14(0x1aa)]({'length':0x18},(_0xaf320f,_0x54cf65)=>_0x54cf65):availabilityPattern[_0x2a8142]=[],renderPatternEditor();}function toggleRowPattern(_0x3b5422){const _0x3e1548=a2_0x12b48f;let _0x36dae9=!![];for(let _0x5b0f99=0x0;_0x5b0f99<0x7;_0x5b0f99++){if((availabilityPattern[_0x5b0f99]||[])[_0x3e1548(0x25e)](_0x3b5422)){_0x36dae9=![];break;}}for(let _0x4d94d5=0x0;_0x4d94d5<0x7;_0x4d94d5++){if(!availabilityPattern[_0x4d94d5])availabilityPattern[_0x4d94d5]=[];const _0x559d1b=availabilityPattern[_0x4d94d5][_0x3e1548(0x232)](_0x3b5422);if(_0x36dae9){if(_0x559d1b===-0x1)availabilityPattern[_0x4d94d5]['push'](_0x3b5422);}else{if(_0x559d1b!==-0x1)availabilityPattern[_0x4d94d5]['splice'](_0x559d1b,0x1);}}renderPatternEditor();}function renderPCol(_0x480a5f,_0x1a3885){const _0x2aab36=a2_0x12b48f;_0x480a5f[_0x2aab36(0x2af)]='';const _0x8bb840=Math[_0x2aab36(0x2a9)](_0x480a5f[_0x2aab36(0x20c)]);(availabilityPattern[_0x1a3885]||[])[_0x2aab36(0x23c)](_0x573ed5=>{const _0x3e7ab5=_0x2aab36,_0x4128a4=document[_0x3e7ab5(0x21f)](_0x3e7ab5(0x2c3));_0x4128a4[_0x3e7ab5(0x1a6)]=_0x3e7ab5(0x1eb);const _0x26dcf6=_0x573ed5*GRID_H;_0x4128a4['style']['top']=_0x26dcf6+'px',_0x4128a4[_0x3e7ab5(0x1e3)]['backgroundPosition']='-'+_0x8bb840+'px\x20-'+_0x26dcf6+'px',_0x4128a4['onclick']=_0x1dc52a=>{_0x1dc52a['stopPropagation'](),toggleSinglePattern(_0x1a3885,_0x573ed5);},_0x480a5f[_0x3e7ab5(0x2c1)](_0x4128a4);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x229742=a2_0x12b48f,_0x55c9ac=new Date(),_0x3d9cde=document[_0x229742(0x1ba)](_0x229742(0x2b0)),_0x5547ed=document[_0x229742(0x1ba)](_0x229742(0x2dd)),_0x8ea4bf=(_0x55c9ac[_0x229742(0x1a3)]()*0x3c+_0x55c9ac[_0x229742(0x24f)]())/0x3c*GRID_H;_0x3d9cde[_0x229742(0x1e3)][_0x229742(0x191)]=_0x8ea4bf+'px',_0x3d9cde['style'][_0x229742(0x221)]=_0x229742(0x171),_0x5547ed[_0x229742(0x2dc)]=String(_0x55c9ac[_0x229742(0x1a3)]())[_0x229742(0x1f8)](0x2,'0')+':'+String(_0x55c9ac[_0x229742(0x24f)]())[_0x229742(0x1f8)](0x2,'0'),_0x5547ed['style'][_0x229742(0x221)]=_0x229742(0x171),_0x5547ed[_0x229742(0x1e3)]['top']=_0x8ea4bf+'px';}document['addEventListener']('DOMContentLoaded',init);function openDayOptions(_0x6eb695){const _0x3fdb9d=a2_0x12b48f;selectedDayForOptions=_0x6eb695;const _0x385e74=new Date(_0x6eb695),_0x56d313={'weekday':'long','day':'numeric','month':'long','year':'numeric'},_0x353cca=_0x385e74[_0x3fdb9d(0x22d)](_0x3fdb9d(0x187),_0x56d313);document[_0x3fdb9d(0x1ba)]('doDateHeader')[_0x3fdb9d(0x2dc)]=_0x353cca['charAt'](0x0)[_0x3fdb9d(0x16f)]()+_0x353cca[_0x3fdb9d(0x2bb)](0x1);let _0x41399e=_0x385e74[_0x3fdb9d(0x1cd)]()-0x1;if(_0x41399e===-0x1)_0x41399e=0x6;const _0x4a287c=availabilityPattern[_0x41399e]||[],_0x5d8c93=0x18-_0x4a287c[_0x3fdb9d(0x2ca)],_0x3cc16d=_0x5d8c93*0x3c,_0x3f02e4=sessions['filter'](_0x52344e=>_0x52344e['dateStr']===_0x6eb695&&_0x52344e['status']!==_0x3fdb9d(0x286));let _0x40bf0b=_0x3f02e4['map'](_0x1cc344=>{const _0x24c950=_0x3fdb9d,[_0x1334ee,_0x31e62b]=_0x1cc344[_0x24c950(0x264)]['split'](':')['map'](Number),[_0x12b28b,_0x22b370]=_0x1cc344[_0x24c950(0x20b)][_0x24c950(0x2b2)](':')[_0x24c950(0x23f)](Number);return[_0x1334ee*0x3c+_0x31e62b,_0x12b28b*0x3c+_0x22b370];});_0x40bf0b['sort']((_0xa60064,_0x27c0a9)=>_0xa60064[0x0]-_0x27c0a9[0x0]);let _0x469fe8=[];if(_0x40bf0b[_0x3fdb9d(0x2ca)]>0x0){let _0x28f4e7=_0x40bf0b[0x0];for(let _0x47b39c=0x1;_0x47b39c<_0x40bf0b[_0x3fdb9d(0x2ca)];_0x47b39c++){_0x40bf0b[_0x47b39c][0x0]<_0x28f4e7[0x1]?_0x28f4e7[0x1]=Math[_0x3fdb9d(0x261)](_0x28f4e7[0x1],_0x40bf0b[_0x47b39c][0x1]):(_0x469fe8[_0x3fdb9d(0x1b0)](_0x28f4e7),_0x28f4e7=_0x40bf0b[_0x47b39c]);}_0x469fe8[_0x3fdb9d(0x1b0)](_0x28f4e7);}let _0x2f3205=0x0;_0x469fe8[_0x3fdb9d(0x23c)](_0xa023=>_0x2f3205+=_0xa023[0x1]-_0xa023[0x0]),document['getElementById']('doWorkHours')[_0x3fdb9d(0x2dc)]=formatMinsToHrs(_0x3cc16d),document[_0x3fdb9d(0x1ba)]('doBusyHours')[_0x3fdb9d(0x2dc)]=formatMinsToHrs(_0x2f3205);const _0x24b8d2=_0x3cc16d>0x0?Math['round'](_0x2f3205/_0x3cc16d*0x64):0x0,_0x1d1ea6=document[_0x3fdb9d(0x1ba)](_0x3fdb9d(0x263));_0x1d1ea6[_0x3fdb9d(0x2dc)]=_0x24b8d2+'%';const _0x2e0727=document[_0x3fdb9d(0x1ba)]('statLoadCard');if(_0x24b8d2>0x64)_0x1d1ea6[_0x3fdb9d(0x1e3)][_0x3fdb9d(0x1d7)]=_0x3fdb9d(0x1d8),_0x2e0727['style'][_0x3fdb9d(0x2a1)]=_0x3fdb9d(0x1f4);else _0x24b8d2>0x50?(_0x1d1ea6['style'][_0x3fdb9d(0x1d7)]=_0x3fdb9d(0x283),_0x2e0727[_0x3fdb9d(0x1e3)]['borderColor']='rgba(255,\x20159,\x2010,\x200.3)'):(_0x1d1ea6[_0x3fdb9d(0x1e3)][_0x3fdb9d(0x1d7)]=_0x3fdb9d(0x248),_0x2e0727['style']['borderColor']=_0x3fdb9d(0x240));const _0x4fb1ef=document[_0x3fdb9d(0x1ba)](_0x3fdb9d(0x196));_0x4fb1ef[_0x3fdb9d(0x2af)]='';_0x3f02e4['length']===0x0?_0x4fb1ef[_0x3fdb9d(0x2af)]=_0x3fdb9d(0x2a7):(_0x3f02e4[_0x3fdb9d(0x1fe)]((_0x5423d4,_0x2ee312)=>_0x5423d4['start'][_0x3fdb9d(0x29b)](_0x2ee312[_0x3fdb9d(0x264)])),_0x3f02e4[_0x3fdb9d(0x23c)](_0x44d1bf=>{const _0x300396=_0x3fdb9d,_0x2f3a54=clients[_0x300396(0x2c5)](_0x489a66=>_0x489a66[_0x300396(0x234)]===_0x44d1bf[_0x300396(0x1c6)]),_0x4616f2=_0x2f3a54?_0x2f3a54['color']:_0x300396(0x27b),_0x1d0845=_0x44d1bf['status']===_0x300396(0x213),_0x463eec=_0x1d0845?'<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>':'',_0x474d89=document[_0x300396(0x21f)](_0x300396(0x2c3));_0x474d89[_0x300396(0x1a6)]=_0x300396(0x1d1),_0x474d89[_0x300396(0x1e3)][_0x300396(0x2a3)]=_0x4616f2,_0x474d89[_0x300396(0x2af)]=_0x300396(0x1b6)+_0x44d1bf[_0x300396(0x264)]+_0x300396(0x247)+_0x44d1bf[_0x300396(0x20b)]+_0x300396(0x19c)+_0x44d1bf['client']+_0x300396(0x214)+_0x463eec+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x4fb1ef['appendChild'](_0x474d89);}));const _0x12fb17=document[_0x3fdb9d(0x1ba)](_0x3fdb9d(0x24e)),_0x51df58=dateExceptions[_0x6eb695]===_0x3fdb9d(0x2b1);_0x51df58?(_0x12fb17[_0x3fdb9d(0x2dc)]=_0x3fdb9d(0x17e),_0x12fb17['className']=_0x3fdb9d(0x2c7),_0x12fb17['style']['color']='var(--acc-green)',_0x12fb17[_0x3fdb9d(0x1e3)][_0x3fdb9d(0x1dd)]=_0x3fdb9d(0x1e0)):(_0x12fb17[_0x3fdb9d(0x2dc)]=_0x3fdb9d(0x223),_0x12fb17[_0x3fdb9d(0x1a6)]='btn-primary\x20btn-danger',_0x12fb17['style'][_0x3fdb9d(0x1d7)]='var(--acc-red)',_0x12fb17['style'][_0x3fdb9d(0x1dd)]='rgba(255,\x2069,\x2058,\x200.15)'),openSheet(_0x3fdb9d(0x1f9));}let currentAnPeriod=a2_0x12b48f(0x21e);function openAnalytics(){const _0x550b92=a2_0x12b48f,_0x1fd246=document[_0x550b92(0x19d)](_0x550b92(0x2a8));setAnalyticsPeriod('week',_0x1fd246),closeAllSheets(),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x1ff74b,_0x3e1d85){const _0x327f59=a2_0x12b48f;currentAnPeriod=_0x1ff74b,document[_0x327f59(0x290)]('.period-switch\x20.p-btn')[_0x327f59(0x23c)](_0x2ef761=>_0x2ef761['classList'][_0x327f59(0x2b3)](_0x327f59(0x233)));if(_0x3e1d85)_0x3e1d85[_0x327f59(0x287)][_0x327f59(0x246)](_0x327f59(0x233));const _0x422aa7=document['getElementById'](_0x327f59(0x2b6));_0x422aa7[_0x327f59(0x1e3)]['display']=_0x1ff74b===_0x327f59(0x18e)?_0x327f59(0x2bf):_0x327f59(0x28f);const _0xc4b8b7=new Date();let _0x2cdfd6=new Date(),_0x493192=new Date();if(_0x1ff74b===_0x327f59(0x21e))_0x2cdfd6=getStartOfWeek(_0xc4b8b7),_0x493192=new Date(_0x2cdfd6),_0x493192['setDate'](_0x493192['getDate']()+0x6);else{if(_0x1ff74b==='month')_0x2cdfd6=new Date(_0xc4b8b7[_0x327f59(0x2cf)](),_0xc4b8b7[_0x327f59(0x2be)](),0x1),_0x493192=new Date(_0xc4b8b7[_0x327f59(0x2cf)](),_0xc4b8b7[_0x327f59(0x2be)]()+0x1,0x0);else{!document[_0x327f59(0x1ba)]('anStart')[_0x327f59(0x252)]&&(document[_0x327f59(0x1ba)](_0x327f59(0x1fa))[_0x327f59(0x252)]=getLocalDateStr(_0xc4b8b7),document['getElementById'](_0x327f59(0x1bd))[_0x327f59(0x252)]=getLocalDateStr(_0xc4b8b7));refreshAnalytics();return;}}document[_0x327f59(0x1ba)](_0x327f59(0x1fa))[_0x327f59(0x252)]=getLocalDateStr(_0x2cdfd6),document[_0x327f59(0x1ba)]('anEnd')[_0x327f59(0x252)]=getLocalDateStr(_0x493192),refreshAnalytics();}function refreshAnalytics(){const _0x52ad4b=a2_0x12b48f,_0x28a2f1=document[_0x52ad4b(0x1ba)](_0x52ad4b(0x1fa))['value'],_0x81b094=document['getElementById'](_0x52ad4b(0x1bd))['value'];if(!_0x28a2f1||!_0x81b094)return;const _0x40c91a=sessions['filter'](_0x5b4304=>_0x5b4304[_0x52ad4b(0x193)]>=_0x28a2f1&&_0x5b4304[_0x52ad4b(0x193)]<=_0x81b094&&_0x5b4304['status']!=='cancelled'),_0x19e57a=_0x40c91a[_0x52ad4b(0x2ca)],_0x15ff44=_0x40c91a['filter'](_0x26c44b=>_0x26c44b[_0x52ad4b(0x1f7)]===_0x52ad4b(0x213))[_0x52ad4b(0x2ca)],_0x48dfc3=_0x19e57a>0x0?Math[_0x52ad4b(0x2a9)](_0x15ff44/_0x19e57a*0x64):0x0;document['getElementById']('anPercent')[_0x52ad4b(0x2dc)]=_0x48dfc3+'%',document[_0x52ad4b(0x1ba)](_0x52ad4b(0x1a1))['textContent']=_0x15ff44+_0x52ad4b(0x19e)+_0x19e57a+_0x52ad4b(0x227);const _0x378a9d=document[_0x52ad4b(0x1ba)](_0x52ad4b(0x26f)),_0x404355=0x2*Math['PI']*0x23,_0xb4520c=_0x404355-_0x48dfc3/0x64*_0x404355;_0x378a9d[_0x52ad4b(0x1e3)][_0x52ad4b(0x292)]=_0xb4520c;const _0x14eb0b={};_0x40c91a[_0x52ad4b(0x23c)](_0x5806f9=>{const _0x405300=_0x52ad4b;if(!_0x14eb0b[_0x5806f9[_0x405300(0x1c6)]]){const _0x408c73=clients[_0x405300(0x2c5)](_0x430cbd=>_0x430cbd[_0x405300(0x234)]===_0x5806f9[_0x405300(0x1c6)]);_0x14eb0b[_0x5806f9['client']]={'total':0x0,'done':0x0,'color':_0x408c73?_0x408c73['color']:_0x405300(0x27b)};}_0x14eb0b[_0x5806f9[_0x405300(0x1c6)]]['total']++;if(_0x5806f9[_0x405300(0x1f7)]==='completed')_0x14eb0b[_0x5806f9[_0x405300(0x1c6)]]['done']++;});const _0x19141d=document[_0x52ad4b(0x1ba)](_0x52ad4b(0x256));_0x19141d[_0x52ad4b(0x2af)]='';const _0x598e5a=Object[_0x52ad4b(0x24d)](_0x14eb0b)[_0x52ad4b(0x1fe)]((_0x1d61a9,_0x27d023)=>_0x27d023[0x1]['total']-_0x1d61a9[0x1]['total']);if(_0x598e5a['length']===0x0){_0x19141d[_0x52ad4b(0x2af)]=_0x52ad4b(0x269);return;}_0x598e5a[_0x52ad4b(0x23c)](([_0x2ac3de,_0x47a0f3])=>{const _0xfcc498=_0x52ad4b,_0x118608=Math[_0xfcc498(0x2a9)](_0x47a0f3[_0xfcc498(0x1c0)]/_0x47a0f3[_0xfcc498(0x189)]*0x64),_0x20de61=document['createElement'](_0xfcc498(0x2c3));_0x20de61['className']=_0xfcc498(0x258),_0x20de61['style'][_0xfcc498(0x2a3)]=_0x47a0f3[_0xfcc498(0x1d7)],_0x20de61[_0xfcc498(0x2af)]=_0xfcc498(0x2ac)+_0x2ac3de+_0xfcc498(0x2c9)+_0x47a0f3[_0xfcc498(0x1c0)]+_0xfcc498(0x265)+_0x47a0f3[_0xfcc498(0x189)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x118608+_0xfcc498(0x28d),_0x19141d[_0xfcc498(0x2c1)](_0x20de61);});}function formatMinsToHrs(_0x2b6724){const _0x22b5e0=a2_0x12b48f;if(_0x2b6724===0x0)return'0';const _0x4c5da0=Math[_0x22b5e0(0x242)](_0x2b6724/0x3c),_0x4c0fc5=_0x2b6724%0x3c;if(_0x4c0fc5===0x0)return _0x4c5da0+'—á';return _0x4c5da0+'—á\x20'+_0x4c0fc5+'–º';}