const a2_0x1e6a25=a2_0x1e51;(function(_0x3a3f21,_0x1fb520){const _0x37ea6f=a2_0x1e51,_0x271fa1=_0x3a3f21();while(!![]){try{const _0x3c9650=parseInt(_0x37ea6f(0x1bb))/0x1+-parseInt(_0x37ea6f(0x1b5))/0x2+parseInt(_0x37ea6f(0x2a6))/0x3+-parseInt(_0x37ea6f(0x233))/0x4*(parseInt(_0x37ea6f(0x2f3))/0x5)+-parseInt(_0x37ea6f(0x21e))/0x6+parseInt(_0x37ea6f(0x276))/0x7*(-parseInt(_0x37ea6f(0x230))/0x8)+parseInt(_0x37ea6f(0x225))/0x9*(parseInt(_0x37ea6f(0x290))/0xa);if(_0x3c9650===_0x1fb520)break;else _0x271fa1['push'](_0x271fa1['shift']());}catch(_0x203e2d){_0x271fa1['push'](_0x271fa1['shift']());}}}(a2_0x671a,0x4249e),function initTMA(){const _0x5cdb4b=a2_0x1e51,_0x3e7600=(function(){let _0x333754=!![];return function(_0x558ff3,_0x1710dc){const _0x3951e5=_0x333754?function(){const _0x1b1351=a2_0x1e51;if(_0x1710dc){const _0x1dcb84=_0x1710dc[_0x1b1351(0x2c3)](_0x558ff3,arguments);return _0x1710dc=null,_0x1dcb84;}}:function(){};return _0x333754=![],_0x3951e5;};}()),_0x36da6d=_0x3e7600(this,function(){const _0x4231e1=a2_0x1e51;return _0x36da6d[_0x4231e1(0x210)]()[_0x4231e1(0x224)](_0x4231e1(0x2fc))[_0x4231e1(0x210)]()[_0x4231e1(0x206)](_0x36da6d)[_0x4231e1(0x224)](_0x4231e1(0x2fc));});_0x36da6d();try{const _0x44c132=window['Telegram']?.['WebApp'];if(!_0x44c132)return;_0x44c132[_0x5cdb4b(0x20d)](),_0x44c132['expand']();try{_0x44c132[_0x5cdb4b(0x2f8)](_0x5cdb4b(0x2ec)),_0x44c132[_0x5cdb4b(0x2bf)]&&_0x44c132[_0x5cdb4b(0x2bf)](_0x5cdb4b(0x2ec));}catch(_0x3d6863){console[_0x5cdb4b(0x2e8)]('Error\x20setting\x20color:',_0x3d6863);}try{_0x44c132[_0x5cdb4b(0x2ab)]&&(_0x44c132[_0x5cdb4b(0x2ab)][_0x5cdb4b(0x1ae)](),_0x44c132[_0x5cdb4b(0x2ab)][_0x5cdb4b(0x231)](),_0x44c132[_0x5cdb4b(0x2ab)][_0x5cdb4b(0x204)](function(){const _0xc5c0de=_0x5cdb4b;window[_0xc5c0de(0x24c)]['href']=_0xc5c0de(0x2e4);}));}catch(_0x4099b0){console[_0x5cdb4b(0x2e8)](_0x5cdb4b(0x282),_0x4099b0);}try{if(_0x44c132[_0x5cdb4b(0x280)])_0x44c132[_0x5cdb4b(0x280)]();}catch(_0x572402){}}catch(_0x20a35b){console[_0x5cdb4b(0x1ed)]('Critical\x20TMA\x20Error:',_0x20a35b);}}());function isAdmin(){const _0x454fbf=a2_0x1e51;try{const _0x33fca3=Number(window[_0x454fbf(0x2bb)]?.['WebApp']?.[_0x454fbf(0x180)]?.['user']?.['id']);return _0x33fca3===0xbaf7174;}catch(_0x42479c){return![];}}const APP_VERSION=a2_0x1e6a25(0x2fd),API_URL=a2_0x1e6a25(0x1f6),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x1e6a25(0x22f),KEY_SESSIONS=a2_0x1e6a25(0x191),KEY_SETTINGS=a2_0x1e6a25(0x270);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x88b9a1=a2_0x1e6a25;return window[_0x88b9a1(0x2bb)]?.['WebApp']?.[_0x88b9a1(0x180)]?.[_0x88b9a1(0x23d)]?.['id']||_0x88b9a1(0x27b);},'saveLocally'(){const _0x350058=a2_0x1e6a25;try{localStorage['setItem'](KEY_CLIENTS,JSON['stringify'](clients)),localStorage[_0x350058(0x1d7)](KEY_SESSIONS,JSON[_0x350058(0x2fb)](sessions)),localStorage['setItem'](KEY_SETTINGS,JSON[_0x350058(0x2fb)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x26438f){console[_0x350058(0x1ed)]('Local\x20Save\x20Error',_0x26438f);}},'loadLocal'(){const _0xcf3629=a2_0x1e6a25;try{const _0x54648b=localStorage[_0xcf3629(0x1e1)](KEY_CLIENTS);if(_0x54648b)clients=JSON[_0xcf3629(0x2ed)](_0x54648b);const _0x4cb245=localStorage[_0xcf3629(0x1e1)](KEY_SESSIONS);if(_0x4cb245)sessions=JSON[_0xcf3629(0x2ed)](_0x4cb245);const _0x565693=localStorage[_0xcf3629(0x1e1)](KEY_SETTINGS);if(_0x565693){const _0x23a9d4=JSON['parse'](_0x565693);if(_0x23a9d4[_0xcf3629(0x27e)])availabilityPattern=_0x23a9d4['pattern'];if(_0x23a9d4['exceptions'])dateExceptions=_0x23a9d4[_0xcf3629(0x1d6)];if(_0x23a9d4[_0xcf3629(0x1f0)])specialRanges=_0x23a9d4[_0xcf3629(0x1f0)];}else{for(let _0x3bafd8=0x0;_0x3bafd8<0x7;_0x3bafd8++)availabilityPattern[_0x3bafd8]=Array['from']({'length':0xc},(_0x4a90d6,_0x223087)=>_0x223087+0x9);}}catch(_0x361e86){console[_0xcf3629(0x1ed)](_0xcf3629(0x264),_0x361e86);}},async 'fetchFromServer'(_0x5df374,_0x1d073d={}){const _0x5a88a8=a2_0x1e6a25,_0x48b824=window[_0x5a88a8(0x2bb)]?.[_0x5a88a8(0x2cf)],_0x209388={'action':_0x5df374,'init_data':_0x48b824?.[_0x5a88a8(0x208)]||'',..._0x1d073d};try{const _0x3ee46c=await fetch(API_URL,{'method':_0x5a88a8(0x2bd),'headers':{'Content-Type':'text/plain;charset=UTF-8'},'body':JSON['stringify'](_0x209388)}),_0x2072cc=await _0x3ee46c[_0x5a88a8(0x247)]();if(!_0x2072cc['ok'])throw new Error(_0x2072cc[_0x5a88a8(0x1ed)]||_0x5a88a8(0x279));return _0x2072cc[_0x5a88a8(0x2de)];}catch(_0x5bf13d){console[_0x5a88a8(0x1ed)]('[API\x20'+_0x5df374+_0x5a88a8(0x2e0),_0x5bf13d);throw _0x5bf13d;}},async 'syncLoad'(){const _0x6d8fb8=a2_0x1e6a25,_0x1cafec=new Date(),_0x36abbb=_0x1cafec['getFullYear']()+'-'+String(_0x1cafec[_0x6d8fb8(0x221)]()+0x1)[_0x6d8fb8(0x17d)](0x2,'0'),_0x199b82=new Date(_0x1cafec);_0x199b82[_0x6d8fb8(0x2ee)](_0x1cafec[_0x6d8fb8(0x221)]()+0x1);const _0x4880da=_0x199b82['getFullYear']()+'-'+String(_0x199b82[_0x6d8fb8(0x221)]()+0x1)[_0x6d8fb8(0x17d)](0x2,'0'),_0x506377=Date[_0x6d8fb8(0x1ba)]();console[_0x6d8fb8(0x2e8)]('[Sync]\x20Loading\x20'+_0x36abbb+',\x20'+_0x4880da+_0x6d8fb8(0x235));try{const [_0x470b65,_0x5781d0]=await Promise[_0x6d8fb8(0x250)]([this['fetchFromServer'](_0x6d8fb8(0x28b),{'month_str':_0x36abbb}),this[_0x6d8fb8(0x178)](_0x6d8fb8(0x28b),{'month_str':_0x4880da})]);if(lastUserActionTime>_0x506377)return console[_0x6d8fb8(0x27a)](_0x6d8fb8(0x1a2)),![];return this[_0x6d8fb8(0x1b9)](_0x470b65,_0x36abbb),this[_0x6d8fb8(0x1b9)](_0x5781d0,_0x4880da),this[_0x6d8fb8(0x1de)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x1921a3){console['error'](_0x1921a3);throw _0x1921a3;}},'mergeServerData'(_0x52c3eb,_0x4b2b5e){const _0x38c26b=a2_0x1e6a25;if(!_0x52c3eb)return;_0x52c3eb[_0x38c26b(0x2c1)]&&Array[_0x38c26b(0x1a5)](_0x52c3eb[_0x38c26b(0x2c1)])&&(clients=_0x52c3eb['clients']);if(_0x52c3eb[_0x38c26b(0x2ef)]){if(_0x52c3eb[_0x38c26b(0x2ef)][_0x38c26b(0x27e)])availabilityPattern=_0x52c3eb['settings'][_0x38c26b(0x27e)];if(_0x52c3eb[_0x38c26b(0x2ef)][_0x38c26b(0x1d6)])dateExceptions=_0x52c3eb[_0x38c26b(0x2ef)]['exceptions'];if(_0x52c3eb[_0x38c26b(0x2ef)]['ranges'])specialRanges=_0x52c3eb[_0x38c26b(0x2ef)][_0x38c26b(0x1f0)];if(_0x52c3eb[_0x38c26b(0x2ef)][_0x38c26b(0x20a)]){localStorage[_0x38c26b(0x1d7)](_0x38c26b(0x1e4),_0x52c3eb[_0x38c26b(0x2ef)][_0x38c26b(0x20a)]);const _0x182631=document[_0x38c26b(0x205)](_0x38c26b(0x1ac));if(_0x182631)_0x182631[_0x38c26b(0x1c5)]=_0x52c3eb['settings'][_0x38c26b(0x20a)];}}_0x52c3eb[_0x38c26b(0x20c)]&&(sessions=sessions[_0x38c26b(0x262)](_0x4e99c4=>!_0x4e99c4[_0x38c26b(0x19b)][_0x38c26b(0x2f0)](_0x4b2b5e)),Object['keys'](_0x52c3eb[_0x38c26b(0x20c)])[_0x38c26b(0x1d5)](_0x2417eb=>{const _0xe4aff0=_0x52c3eb['calendar'][_0x2417eb];_0xe4aff0['forEach'](_0x3eaa7c=>{const _0x13d410=a2_0x1e51,_0x268d53=clients[_0x13d410(0x200)](_0x2cda92=>String(_0x2cda92['id'])===String(_0x3eaa7c['c']));sessions[_0x13d410(0x27d)]({'id':_0x3eaa7c['i'],'clientId':_0x3eaa7c['c'],'client':_0x268d53?_0x268d53[_0x13d410(0x198)]:_0x13d410(0x2ea),'dateStr':_0x4b2b5e+'-'+_0x2417eb[_0x13d410(0x17d)](0x2,'0'),'start':_0x3eaa7c['s'],'end':_0x3eaa7c['e'],'status':_0x3eaa7c['st']||_0x13d410(0x1a8),'note':_0x3eaa7c['n']||'','seriesId':_0x3eaa7c[_0x13d410(0x1ab)]||null});});}));},async 'syncBatch'(_0x2a7156){const _0x7ec582=a2_0x1e6a25,_0x42328e=[...new Set(_0x2a7156)],_0x3acc3e=_0x42328e[_0x7ec582(0x27c)](_0x49fee0=>{const _0x35e51a=_0x7ec582,_0x95ccfd=sessions['filter'](_0x36f009=>_0x36f009[_0x35e51a(0x19b)]===_0x49fee0&&_0x36f009[_0x35e51a(0x2a7)]!=='deleted'),_0x5b1f8f=_0x95ccfd[_0x35e51a(0x27c)](_0xf2b07c=>({'i':_0xf2b07c['id'],'c':_0xf2b07c[_0x35e51a(0x2c0)],'s':_0xf2b07c[_0x35e51a(0x2e6)],'e':_0xf2b07c[_0x35e51a(0x1b3)],'st':_0xf2b07c[_0x35e51a(0x2a7)],'n':_0xf2b07c['note'],'sid':_0xf2b07c[_0x35e51a(0x2da)]}));return{'date':_0x49fee0,'day_data':_0x5b1f8f};});if(_0x3acc3e['length']===0x0)return;console['log'](_0x7ec582(0x263)+_0x3acc3e['length']+_0x7ec582(0x1c4)),await this[_0x7ec582(0x178)](_0x7ec582(0x197),{'changes':_0x3acc3e});}};async function init(){const _0x1c17f8=a2_0x1e6a25;DataManager[_0x1c17f8(0x1fc)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById'](_0x1c17f8(0x1ce))['addEventListener']('scroll',()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x1c17f8(0x2db)]()[_0x1c17f8(0x2c7)](()=>{const _0x4fab07=_0x1c17f8;showToast(_0x4fab07(0x227),!![]);})[_0x1c17f8(0x2e9)](_0x405038=>{showToast('–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º',![]);});}function generateId(){const _0x2bf916=a2_0x1e6a25;return Date[_0x2bf916(0x1ba)]()[_0x2bf916(0x210)](0x24)+Math['random']()['toString'](0x24)['substr'](0x2,0x5);}function toggleSeriesInput(){const _0x2549a9=a2_0x1e6a25,_0x4b970c=document['getElementById'](_0x2549a9(0x2d8))[_0x2549a9(0x2fe)],_0x2c665f=document[_0x2549a9(0x205)](_0x2549a9(0x239));_0x2c665f[_0x2549a9(0x288)][_0x2549a9(0x277)]=_0x4b970c?_0x2549a9(0x1f7):_0x2549a9(0x24f);const _0x41ae7c=document[_0x2549a9(0x205)]('recurringOptionContainer');_0x41ae7c['style'][_0x2549a9(0x2b7)]=_0x4b970c?_0x2549a9(0x1af):_0x2549a9(0x1e9);}function openAddSession(_0xbb225c){const _0x3d092e=a2_0x1e6a25;editingId=null,populateClientSelect(),document[_0x3d092e(0x205)](_0x3d092e(0x184))[_0x3d092e(0x267)]=_0x3d092e(0x199),document[_0x3d092e(0x205)](_0x3d092e(0x237))[_0x3d092e(0x288)][_0x3d092e(0x277)]='none',document[_0x3d092e(0x205)]('btnStatusToggle')['style'][_0x3d092e(0x277)]='none';const _0x4e8d8d=document[_0x3d092e(0x205)](_0x3d092e(0x1d9)),_0x130447=document[_0x3d092e(0x205)](_0x3d092e(0x239));_0x4e8d8d[_0x3d092e(0x288)]['display']=_0x3d092e(0x292),_0x4e8d8d[_0x3d092e(0x288)]['borderRadius']=_0x3d092e(0x1e9),document[_0x3d092e(0x205)](_0x3d092e(0x2d8))[_0x3d092e(0x2fe)]=![],document[_0x3d092e(0x205)](_0x3d092e(0x29b))['value']=0x4,_0x130447['style']['display']=_0x3d092e(0x24f),document[_0x3d092e(0x205)](_0x3d092e(0x256))[_0x3d092e(0x1c5)]=getLocalDateStr(_0xbb225c),updateDateDisplay();const _0xc8a947=_0xbb225c[_0x3d092e(0x20e)]();document['getElementById'](_0x3d092e(0x252))[_0x3d092e(0x1c5)]=String(_0xc8a947)[_0x3d092e(0x17d)](0x2,'0')+_0x3d092e(0x240),document['getElementById'](_0x3d092e(0x236))[_0x3d092e(0x1c5)]=String(_0xc8a947+0x1)['padStart'](0x2,'0')+':00',openSheet('sessionSheet');}function openEdit(_0x37e2bb){const _0x2335e1=a2_0x1e6a25;editingId=_0x37e2bb['id'],populateClientSelect(),document[_0x2335e1(0x205)](_0x2335e1(0x184))['textContent']=_0x2335e1(0x214),document['getElementById']('btnDelete')[_0x2335e1(0x288)][_0x2335e1(0x277)]=_0x2335e1(0x1f7);const _0x1a1e7f=document[_0x2335e1(0x205)](_0x2335e1(0x2c8));_0x1a1e7f['style']['display']=_0x2335e1(0x292);_0x37e2bb['status']===_0x2335e1(0x2a4)?(_0x1a1e7f[_0x2335e1(0x266)]=_0x2335e1(0x285),_0x1a1e7f[_0x2335e1(0x212)]=_0x2335e1(0x2ad)):(_0x1a1e7f[_0x2335e1(0x266)]=_0x2335e1(0x2af),_0x1a1e7f[_0x2335e1(0x212)]=_0x2335e1(0x196));const _0x34e7ed=!!_0x37e2bb[_0x2335e1(0x2da)];document[_0x2335e1(0x205)]('recurringOptionContainer')[_0x2335e1(0x288)][_0x2335e1(0x277)]='none',document[_0x2335e1(0x205)](_0x2335e1(0x239))[_0x2335e1(0x288)][_0x2335e1(0x277)]=_0x2335e1(0x24f),_0x34e7ed?(document['getElementById'](_0x2335e1(0x251))[_0x2335e1(0x288)][_0x2335e1(0x277)]=_0x2335e1(0x292),document[_0x2335e1(0x205)](_0x2335e1(0x251))[_0x2335e1(0x1e3)](_0x2335e1(0x2c5))['textContent']=_0x2335e1(0x21f)):document['getElementById'](_0x2335e1(0x251))[_0x2335e1(0x288)][_0x2335e1(0x277)]='none',document[_0x2335e1(0x205)]('inpClient')[_0x2335e1(0x1c5)]=_0x37e2bb['client'],document['getElementById']('inpDate')[_0x2335e1(0x1c5)]=_0x37e2bb[_0x2335e1(0x19b)],document[_0x2335e1(0x205)](_0x2335e1(0x252))[_0x2335e1(0x1c5)]=_0x37e2bb[_0x2335e1(0x2e6)],document['getElementById'](_0x2335e1(0x236))[_0x2335e1(0x1c5)]=_0x37e2bb['end'],document[_0x2335e1(0x205)]('inpNote')[_0x2335e1(0x1c5)]=_0x37e2bb[_0x2335e1(0x1d4)]||'',updateDateDisplay(),openSheet(_0x2335e1(0x1bc));}function a2_0x671a(){const _0x19e3ce=['rgba(48,\x20209,\x2088,\x200.15)','data','rgba(255,\x2069,\x2058,\x200.15)',']\x20Failed:','23:59','firstChild','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','router.html','.day-column','start','vibrate','log','catch','Unknown','formatDate','#050505','parse','setMonth','settings','startsWith','top','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','269150EsDIwm','timeLineBadge','mouseup','add','color','setHeaderColor','</div><div\x20class=\x22dch-num\x22>','charAt','stringify','(((.+)+)+)+$','v9.0-BATCH-CALENDAR','checked','client','fetchFromServer','offsetLeft','headerMonth','px\x200px','setDate','padStart','100%','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','initDataUnsafe','getFullYear','.dch-stats-fill','inpClient','sheetTitle','sort','actionSheetOverlay','dayOptionsSheet','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','var(--acc-orange)','touchmove','send','doBusyHours','gridColumns','[Notify]\x20Error:\x20Text\x20generation\x20failed','doEventsList','uc_sessions_v9','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','doWorkHours','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','toastTitle','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','batch_sync','name','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','dateStr','var(--acc-current)','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','month',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','.sheet','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','statLoadCard','cancel','isArray','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','day-col-header\x20','planned','[Settings]\x20Cancel\x20window\x20set\x20to:','zIndex','sid','settingCancelWindow','touches','show','10px\x2010px\x200\x200','range-item','backgroundPosition','delete','end','getDate','865096XewKRv','setHours','doLoadPercent','update','mergeServerData','now','318633suwsRm','sessionSheet','week','[Notify]\x20Client\x20SWAP\x20detected','var(--acc-red)','height','open','doDateHeader','background','\x20days','value','save','[Notify]\x20Error:\x20sessionData\x20is\x20null','create','rgba(100,100,100,0.5)','findIndex','borderColor','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','[Notify]\x20Attempting\x20to\x20send:','matrixViewport','daysHeaderTrack','rgba(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','createElement','\x20-\x20','note','forEach','exceptions','setItem','floor','recurringOptionContainer','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','left','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','touchstart','saveLocally','var(--acc-green)','success','getItem','actionSheet','querySelector','uc_settings_cancel_window','indexOf','done','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','#0a84ff','10px','getText','getMinutes','asBtnOne','error','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','rgba(255,255,255,0.05)','ranges','toUpperCase','stat-','#gridColumns\x20.day-column','.day-off-overlay','</b>\x0a\x0a','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','block','anPercent','</span>\x20/\x20','rangeEndDate','valid','loadLocal','long','createDocumentFragment','save_settings','find','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','event-card','onClick','getElementById','constructor','Save\x20settings\x20error:','initData','max','cancel_window','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','calendar','ready','getHours','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','toString','00:00','innerHTML','T23:59:59','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','width','patternEditor','anEnd','strokeDashoffset','pe-time-label','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','de-item','from','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','1687134EijZSg','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','offsetWidth','getMonth','colIndex','timeColumn','search','559161ddYsWs','[Notify]\x20Server\x20Response:','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','data-day-idx','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','null','querySelectorAll','rangesList','anStart','.day-col-header','uc_clients_v9','136soFzCl','offClick','clientWidth','4sGNhYb','analyticsSheet','...','inpEnd','btnDelete','option','seriesCountContainer','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','anCustomDates','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','user','–£—Å–ø–µ—à–Ω–æ','\x20‚Äî\x20',':00','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','rangeStartTime','slice','div','off','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','json','toLocaleString','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','round','cancelled','location','%\x20+\x202px)','splice','none','all','patternInfoBox','inpStart','warning','length','.period-switch\x20.p-btn','inpDate','#fff','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','min','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','client-stat-card','<b>‚úÖ\x20','mousedown','day-column\x20',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','overlay',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','filter','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','Local\x20Load\x20Error','series','className','textContent','inpNote','asBtnSeries','rangeEndTime','btnDayToggle','getTime','rangeStartDate','mini','rangesSheet','uc_settings_v9','appendChild','blocked-slot\x20stripe-bg','anTotalStats','btn-primary\x20btn-secondary','mousemove','74102QKQAlY','display','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','Server\x20Error','warn','guest','map','push','pattern','toast','disableVerticalSwipes','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','Error\x20setting\x20back\x20button:','as-button\x20danger\x20bold','scrollTop','btn-status-toggle\x20undo-mode','px\x20-','ru-RU','style','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','split','init_load','active','includes','rgba(255,\x2069,\x2058,\x200.3)','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','80ZsZdIw','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','flex','header-','borderLeftColor','toLocaleDateString','setAttribute','today','dayOptionsTitle','classList','scrollLeft','inpSeriesCount','getDay','–£–¥–∞–ª–µ–Ω–∏–µ','[Series]\x20Skipped\x20',':\x20Client\x20already\x20booked','target','pe-corner','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','–ò–Ω—Ñ–æ','completed','onclick','1210146szIDks','status','<span>','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','BackButton','<div\x20class=\x22dch-day\x22>','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','pe-cell\x20','btn-status-toggle','data-date','total','clientY','asTitle','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','stopPropagation','complete','borderRadius','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','touchend',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','Telegram','globalTimeLine','POST','remove','setBackgroundColor','clientId','clients','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','apply','\x20–∏–∑\x20','.pib-text','scrollWidth','then','btnStatusToggle','peGrid','backgroundColor','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','single','getAttribute','WebApp','day-off-overlay\x20stripe-bg','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','addEventListener','DOMContentLoaded','insertBefore','time-label',':00</span>','numeric','inpRecurring','pe-col-header','seriesId','syncLoad','text'];a2_0x671a=function(){return _0x19e3ce;};return a2_0x671a();}async function trySaveSession(){const _0x100a76=a2_0x1e6a25,_0x290665=document[_0x100a76(0x205)](_0x100a76(0x183))['value'],_0x362efa=document[_0x100a76(0x205)](_0x100a76(0x256))[_0x100a76(0x1c5)],_0x7eb148=document['getElementById']('inpStart')['value'],_0x2d9636=document['getElementById'](_0x100a76(0x236))['value'],_0x26f294=document[_0x100a76(0x205)](_0x100a76(0x268))[_0x100a76(0x1c5)],_0x2b5510=document[_0x100a76(0x205)](_0x100a76(0x2d8))[_0x100a76(0x2fe)];let _0x40f359=0x4;if(_0x2b5510){const _0x223c4e=parseInt(document[_0x100a76(0x205)]('inpSeriesCount')[_0x100a76(0x1c5)]);if(!_0x223c4e||_0x223c4e<0x2){showToast(_0x100a76(0x21a),![]);return;}if(_0x223c4e>0x64){showToast(_0x100a76(0x20f),![]);return;}_0x40f359=_0x223c4e;}const _0x5d0866=clients[_0x100a76(0x200)](_0x57d33f=>_0x57d33f[_0x100a76(0x198)]===_0x290665);if(!_0x5d0866){showToast('–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞',![]);return;}const _0x246c6a=validateAppointment(_0x362efa,_0x7eb148,_0x2d9636,editingId,_0x5d0866['id']);if(!_0x246c6a[_0x100a76(0x1fb)]){showToast(_0x246c6a['msg'],![]);return;}_0x246c6a[_0x100a76(0x253)]&&showToast(_0x246c6a['warning'],![]);const _0x4be782={'client':_0x290665,'clientId':_0x5d0866['id'],'start':_0x7eb148,'end':_0x2d9636,'note':_0x26f294,'status':_0x100a76(0x1a8)},_0x4eb4a1=editingId?sessions[_0x100a76(0x200)](_0x53a8fc=>_0x53a8fc['id']===editingId):null;if(_0x4eb4a1&&_0x4eb4a1[_0x100a76(0x2da)]){tempSessionData={..._0x4be782,'dateStr':_0x362efa,'id':editingId,'seriesId':_0x4eb4a1[_0x100a76(0x2da)]},openActionSheet(_0x100a76(0x1c6));return;}let _0x400fbb=null;if(!editingId)_0x400fbb=_0x100a76(0x1c8);else{if(_0x4eb4a1){if(String(_0x4eb4a1[_0x100a76(0x2c0)])!==String(_0x5d0866['id']))console[_0x100a76(0x2e8)](_0x100a76(0x1be)),NotificationManager[_0x100a76(0x18c)]('cancel',_0x4eb4a1),_0x400fbb=_0x100a76(0x1c8);else(_0x4eb4a1['start']!==_0x7eb148||_0x4eb4a1[_0x100a76(0x1b3)]!==_0x2d9636||_0x4eb4a1[_0x100a76(0x19b)]!==_0x362efa)&&(_0x400fbb=_0x100a76(0x1b8));}}if(!editingId&&_0x2b5510){createBatchSeries(_0x4be782,_0x362efa,_0x40f359),NotificationManager['send']('create',{..._0x4be782,'dateStr':_0x362efa});return;}lastUserActionTime=Date[_0x100a76(0x1ba)]();const _0x50dd52={..._0x4be782,'dateStr':_0x362efa,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x50dd52),_0x400fbb&&NotificationManager[_0x100a76(0x18c)](_0x400fbb,_0x50dd52);}function toggleSessionStatus(){const _0x2a0dfb=a2_0x1e6a25;lastUserActionTime=Date['now']();const _0x397e43=sessions['find'](_0x2f6870=>_0x2f6870['id']===editingId);if(!_0x397e43)return;const _0x1c798c=_0x397e43[_0x2a0dfb(0x2a7)]===_0x2a0dfb(0x2a4)?_0x2a0dfb(0x1a8):_0x2a0dfb(0x2a4);_0x397e43[_0x2a0dfb(0x2a7)]=_0x1c798c,saveSingleSession(_0x397e43),_0x1c798c==='completed'&&NotificationManager[_0x2a0dfb(0x18c)](_0x2a0dfb(0x2b6),_0x397e43),showToast(_0x1c798c==='completed'?_0x2a0dfb(0x258):_0x2a0dfb(0x2a9),!![]);}function validateAppointment(_0x3acdfa,_0x18bcb9,_0xdb8862,_0x42b5a4,_0x1f0cfe){const _0x1178a5=a2_0x1e6a25,[_0x4a16e8,_0x2e0dd6]=_0x18bcb9[_0x1178a5(0x28a)](':')['map'](Number),[_0x400c8b,_0x5e5c46]=_0xdb8862[_0x1178a5(0x28a)](':')[_0x1178a5(0x27c)](Number),_0x93efb4=_0x4a16e8*0x3c+_0x2e0dd6,_0x10a735=_0x400c8b*0x3c+_0x5e5c46,_0x5e6e08=String(_0x1f0cfe);let _0x35fab7=![],_0x49b08f='';for(let _0x512799 of sessions){if(_0x512799[_0x1178a5(0x19b)]!==_0x3acdfa)continue;if(_0x512799[_0x1178a5(0x2a7)]===_0x1178a5(0x24b))continue;if(_0x42b5a4&&String(_0x512799['id'])===String(_0x42b5a4))continue;const [_0x5117f9,_0x31b13d]=_0x512799['start']['split'](':')[_0x1178a5(0x27c)](Number),[_0x315cfc,_0x12f263]=_0x512799[_0x1178a5(0x1b3)][_0x1178a5(0x28a)](':')['map'](Number),_0x1541a2=_0x5117f9*0x3c+_0x31b13d,_0x749eb9=_0x315cfc*0x3c+_0x12f263;if(Math[_0x1178a5(0x209)](_0x93efb4,_0x1541a2)<Math[_0x1178a5(0x259)](_0x10a735,_0x749eb9)){if(_0x512799['clientId']&&String(_0x512799['clientId'])===_0x5e6e08)return{'valid':![],'msg':_0x1178a5(0x1ee)+_0x512799[_0x1178a5(0x177)]+_0x1178a5(0x25f)};_0x35fab7=!![],_0x49b08f=_0x512799[_0x1178a5(0x177)];}}if(_0x35fab7)return{'valid':!![],'warning':_0x1178a5(0x246)+_0x49b08f};return{'valid':!![]};}function saveSingleSession(_0x5ced64){const _0x562d3e=a2_0x1e6a25;if(editingId){const _0x19295e=sessions[_0x562d3e(0x1ca)](_0x54d804=>_0x54d804['id']===editingId);if(_0x19295e!==-0x1)sessions[_0x19295e]=_0x5ced64;}else sessions[_0x562d3e(0x27d)](_0x5ced64);afterSaveAction([_0x5ced64[_0x562d3e(0x19b)]]);}function createBatchSeries(_0x5e9cad,_0xc26385,_0x430b02){const _0x3f1246=a2_0x1e6a25,_0x505d7e=generateId(),_0x33a8fa=[],_0x515920=[];let _0x5c516f=0x0,_0x11a057=new Date(_0xc26385);for(let _0x5b4d15=0x0;_0x5b4d15<_0x430b02;_0x5b4d15++){const _0x53beef=getLocalDateStr(_0x11a057),_0x20f595=validateAppointment(_0x53beef,_0x5e9cad[_0x3f1246(0x2e6)],_0x5e9cad[_0x3f1246(0x1b3)],null,_0x5e9cad['clientId']);if(!_0x20f595[_0x3f1246(0x1fb)])console[_0x3f1246(0x2e8)](_0x3f1246(0x29e)+_0x53beef+_0x3f1246(0x29f)),_0x5c516f++;else{const _0x30db4f={..._0x5e9cad,'id':generateId(),'dateStr':_0x53beef,'seriesId':_0x505d7e};_0x515920['push'](_0x30db4f),_0x33a8fa[_0x3f1246(0x27d)](_0x53beef);}_0x11a057[_0x3f1246(0x17c)](_0x11a057['getDate']()+0x7);}if(_0x515920['length']===0x0){showToast(_0x3f1246(0x2f2),![]);return;}sessions['push'](..._0x515920),lastUserActionTime=Date[_0x3f1246(0x1ba)]();let _0xa0136a=_0x3f1246(0x1da)+_0x515920['length'];_0x5c516f>0x0&&(_0xa0136a+=_0x3f1246(0x249)+_0x5c516f+')'),showToast(_0xa0136a,!![]),afterSaveAction(_0x33a8fa);}function updateSeriesBatch(_0x4f8009,_0x118405){const _0x10f4f9=a2_0x1e6a25,_0x3c591c=[],_0x21fc54=_0x118405[_0x10f4f9(0x2da)];if(_0x4f8009===_0x10f4f9(0x2cd)){const _0x65348f={..._0x118405,'seriesId':null},_0x425826=sessions[_0x10f4f9(0x1ca)](_0x1af7ec=>_0x1af7ec['id']===_0x118405['id']);if(_0x425826!==-0x1)sessions[_0x425826]=_0x65348f;_0x3c591c[_0x10f4f9(0x27d)](_0x65348f[_0x10f4f9(0x19b)]);}else{if(_0x4f8009===_0x10f4f9(0x265)){const _0x191d96=_0x118405['dateStr'];sessions[_0x10f4f9(0x1d5)]((_0x330042,_0x4e4037)=>{const _0x40153c=_0x10f4f9;_0x330042['seriesId']===_0x21fc54&&_0x330042['dateStr']>=_0x191d96&&(sessions[_0x4e4037]={...sessions[_0x4e4037],'start':_0x118405[_0x40153c(0x2e6)],'end':_0x118405[_0x40153c(0x1b3)],'note':_0x118405['note'],'client':_0x118405['client'],'clientId':_0x118405[_0x40153c(0x2c0)]},_0x3c591c[_0x40153c(0x27d)](_0x330042['dateStr']));});}}afterSaveAction(_0x3c591c);}function tryDeleteSession(){const _0x3a75a1=a2_0x1e6a25,_0x182503=sessions[_0x3a75a1(0x200)](_0x4d3ef4=>_0x4d3ef4['id']===editingId);if(!_0x182503)return;_0x182503[_0x3a75a1(0x2da)]?openActionSheet(_0x3a75a1(0x1b2)):commitDelete(_0x3a75a1(0x2cd),_0x182503);}function commitDelete(_0x55aacc,_0x467ada){const _0x1c55c9=a2_0x1e6a25;lastUserActionTime=Date['now'](),NotificationManager[_0x1c55c9(0x18c)](_0x1c55c9(0x1a4),_0x467ada);const _0x58bf11=[];if(_0x55aacc===_0x1c55c9(0x2cd))sessions=sessions['filter'](_0x243600=>_0x243600['id']!==_0x467ada['id']),_0x58bf11[_0x1c55c9(0x27d)](_0x467ada[_0x1c55c9(0x19b)]);else{if(_0x55aacc===_0x1c55c9(0x265)){const _0x37394b=_0x467ada['dateStr'],_0x283ed6=_0x467ada['seriesId'];sessions[_0x1c55c9(0x1d5)](_0x106cb5=>{const _0x4f46de=_0x1c55c9;_0x106cb5[_0x4f46de(0x2da)]===_0x283ed6&&_0x106cb5[_0x4f46de(0x19b)]>=_0x37394b&&_0x58bf11[_0x4f46de(0x27d)](_0x106cb5[_0x4f46de(0x19b)]);}),sessions=sessions[_0x1c55c9(0x262)](_0x136939=>!(_0x136939['seriesId']===_0x283ed6&&_0x136939[_0x1c55c9(0x19b)]>=_0x37394b));}}afterSaveAction(_0x58bf11);}function afterSaveAction(_0x311248){const _0x39fa1a=a2_0x1e6a25;DataManager[_0x39fa1a(0x1de)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager['syncBatch'](_0x311248)[_0x39fa1a(0x2c7)](()=>console[_0x39fa1a(0x2e8)]('Batch\x20Sync\x20OK'))[_0x39fa1a(0x2e9)](_0x14407c=>showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ',![]));}const NotificationManager={'formatDate'(_0x1b32ae){const _0x26a9bd=a2_0x1e6a25,_0x11fa41=new Date(_0x1b32ae),_0x2a17da={'weekday':'long','day':'numeric','month':_0x26a9bd(0x1fd)};let _0x5e8e2d=_0x11fa41[_0x26a9bd(0x295)](_0x26a9bd(0x287),_0x2a17da);return _0x5e8e2d['charAt'](0x0)[_0x26a9bd(0x1f1)]()+_0x5e8e2d[_0x26a9bd(0x243)](0x1);},'getText'(_0x5575f2,_0x348b6b){const _0x3ef3f6=a2_0x1e6a25,_0x506c1e=this[_0x3ef3f6(0x2eb)](_0x348b6b['dateStr']);switch(_0x5575f2){case _0x3ef3f6(0x1c8):return'<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a'+(_0x3ef3f6(0x241)+_0x506c1e+'\x0a')+(_0x3ef3f6(0x23c)+_0x348b6b[_0x3ef3f6(0x2e6)]+_0x3ef3f6(0x23f)+_0x348b6b[_0x3ef3f6(0x1b3)]+'\x0a\x0a')+_0x3ef3f6(0x188);case _0x3ef3f6(0x1b8):return _0x3ef3f6(0x1cc)+_0x3ef3f6(0x2b8)+(_0x3ef3f6(0x25c)+_0x348b6b[_0x3ef3f6(0x2e6)]+'\x20‚Äî\x20'+_0x348b6b['end']+_0x3ef3f6(0x1f5))+(_0x3ef3f6(0x241)+_0x506c1e);case _0x3ef3f6(0x1a4):return _0x3ef3f6(0x17f)+(_0x3ef3f6(0x28f)+_0x506c1e+'\x20('+_0x348b6b[_0x3ef3f6(0x2e6)]+_0x3ef3f6(0x2ba));case _0x3ef3f6(0x2b6):return _0x3ef3f6(0x2aa)+'–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a'+'<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>';default:return'';}},async 'send'(_0x2a222c,_0x53e48a){const _0x422483=a2_0x1e6a25;console[_0x422483(0x2e8)](_0x422483(0x1cd),_0x2a222c,_0x53e48a);if(!_0x53e48a){console[_0x422483(0x1ed)](_0x422483(0x1c7));return;}const _0xdb65ca=String(_0x53e48a['clientId']);console[_0x422483(0x2e8)]('[Notify]\x20Detected\x20Client\x20ID:',_0xdb65ca);if(!_0x53e48a[_0x422483(0x2c0)]||_0xdb65ca==='undefined'||_0xdb65ca===_0x422483(0x22a)){console[_0x422483(0x1ed)](_0x422483(0x2c2));if(_0x53e48a['client']){const _0x57549d=clients[_0x422483(0x200)](_0x4c6df2=>_0x4c6df2[_0x422483(0x198)]===_0x53e48a[_0x422483(0x177)]);if(_0x57549d)return console['log']('[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:',_0x57549d['id']),this['send'](_0x2a222c,{..._0x53e48a,'clientId':_0x57549d['id']});}return;}if(_0xdb65ca[_0x422483(0x254)]<0x5){console[_0x422483(0x27a)](_0x422483(0x1e7),_0xdb65ca);return;}const _0x42f954=this[_0x422483(0x1ea)](_0x2a222c,_0x53e48a);if(!_0x42f954){console['error'](_0x422483(0x18f));return;}console[_0x422483(0x2e8)]('[Notify]\x20Sending\x20to\x20GAS\x20for\x20'+_0xdb65ca+_0x422483(0x235)),DataManager[_0x422483(0x178)]('send_notification',{'chatId':_0xdb65ca,'text':_0x42f954})[_0x422483(0x2c7)](_0x2e10e6=>console['log'](_0x422483(0x226),_0x2e10e6))[_0x422483(0x2e9)](_0x3f749a=>console[_0x422483(0x1ed)]('[Notify]\x20Network\x20Failed',_0x3f749a));}};function getLocalDateStr(_0x5e1761){const _0x38cfc1=a2_0x1e6a25,_0x13ff7f=_0x5e1761['getFullYear'](),_0xcca183=String(_0x5e1761['getMonth']()+0x1)[_0x38cfc1(0x17d)](0x2,'0'),_0x15eea0=String(_0x5e1761[_0x38cfc1(0x1b4)]())[_0x38cfc1(0x17d)](0x2,'0');return _0x13ff7f+'-'+_0xcca183+'-'+_0x15eea0;}function getDateStr(_0xb89f3c){const _0x5378ba=a2_0x1e6a25,_0x418a3f=new Date();return _0x418a3f[_0x5378ba(0x17c)](_0x418a3f[_0x5378ba(0x1b4)]()+_0xb89f3c),getLocalDateStr(_0x418a3f);}function getStartOfWeek(_0x1e44bd){const _0x3520ac=a2_0x1e6a25,_0x4d864f=new Date(_0x1e44bd),_0x10df57=_0x4d864f[_0x3520ac(0x29c)](),_0x3e5161=_0x4d864f[_0x3520ac(0x1b4)]()-_0x10df57+(_0x10df57===0x0?-0x6:0x1);return _0x4d864f['setDate'](_0x3e5161),_0x4d864f[_0x3520ac(0x1b6)](0x0,0x0,0x0,0x0),_0x4d864f;}function hexToRgba(_0x2112ee,_0x280a02){const _0x257d34=a2_0x1e6a25;if(!_0x2112ee)return _0x257d34(0x1c9);let _0x191ae7=0x0,_0x1eac98=0x0,_0x3a24c0=0x0;if(_0x2112ee['length']===0x4)_0x191ae7='0x'+_0x2112ee[0x1]+_0x2112ee[0x1],_0x1eac98='0x'+_0x2112ee[0x2]+_0x2112ee[0x2],_0x3a24c0='0x'+_0x2112ee[0x3]+_0x2112ee[0x3];else _0x2112ee['length']===0x7&&(_0x191ae7='0x'+_0x2112ee[0x1]+_0x2112ee[0x2],_0x1eac98='0x'+_0x2112ee[0x3]+_0x2112ee[0x4],_0x3a24c0='0x'+_0x2112ee[0x5]+_0x2112ee[0x6]);return _0x257d34(0x1d0)+ +_0x191ae7+',\x20'+ +_0x1eac98+',\x20'+ +_0x3a24c0+',\x20'+_0x280a02+')';}function renderTimeColumn(){const _0x593ed5=a2_0x1e6a25,_0x1853bc=document['getElementById'](_0x593ed5(0x223)),_0x209fba=document[_0x593ed5(0x205)](_0x593ed5(0x2f4));_0x1853bc[_0x593ed5(0x212)]='',_0x1853bc[_0x593ed5(0x271)](_0x209fba);for(let _0x42d6dc=0x0;_0x42d6dc<0x18;_0x42d6dc++){const _0x43c8f8=document[_0x593ed5(0x1d2)](_0x593ed5(0x244));_0x43c8f8[_0x593ed5(0x266)]=_0x593ed5(0x2d5);if(_0x42d6dc>0x0)_0x43c8f8[_0x593ed5(0x212)]=_0x593ed5(0x2a8)+String(_0x42d6dc)[_0x593ed5(0x17d)](0x2,'0')+_0x593ed5(0x2d6);_0x1853bc[_0x593ed5(0x271)](_0x43c8f8);}}function renderDayRange(_0xd2d16c,_0x13e4db){const _0x113a29=a2_0x1e6a25,_0xac5c5e=document['getElementById'](_0x113a29(0x1cf)),_0x38d0c9=document[_0x113a29(0x205)]('gridColumns'),_0x3931cc=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x23d9a6=new Date();_0x23d9a6[_0x113a29(0x1b6)](0x0,0x0,0x0,0x0);const _0x228483=getLocalDateStr(new Date());for(let _0x3c3a37=_0xd2d16c;_0x3c3a37<=_0x13e4db;_0x3c3a37++){const _0x531237=new Date(_0x23d9a6);_0x531237[_0x113a29(0x17c)](_0x531237['getDate']()+_0x3c3a37);const _0x257b48=getLocalDateStr(_0x531237);let _0x189dd2=_0x531237[_0x113a29(0x29c)]()-0x1;if(_0x189dd2===-0x1)_0x189dd2=0x6;const _0x327d53=_0x257b48===_0x228483,_0x225066=document[_0x113a29(0x1d2)](_0x113a29(0x244));_0x225066['className']='day-col-header\x20'+(_0x327d53?_0x113a29(0x297):''),_0x225066['id']='header-'+_0x257b48,_0x225066['setAttribute'](_0x113a29(0x2b0),_0x257b48),_0x225066[_0x113a29(0x212)]=_0x113a29(0x2ac)+_0x3931cc[_0x189dd2]+_0x113a29(0x2f9)+_0x531237[_0x113a29(0x1b4)]()+_0x113a29(0x23a)+_0x257b48+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x225066[_0x113a29(0x2a5)]=()=>openDayOptions(_0x257b48,_0x3931cc[_0x189dd2]+'\x20'+_0x531237['getDate']()),_0xac5c5e['appendChild'](_0x225066);const _0x51f1a9=document[_0x113a29(0x1d2)](_0x113a29(0x244));_0x51f1a9['className']='day-column\x20'+(_0x327d53?_0x113a29(0x297):''),_0x51f1a9['setAttribute'](_0x113a29(0x2b0),_0x257b48),_0x51f1a9[_0x113a29(0x296)]('data-day-idx',_0x189dd2),renderEventsForColumn(_0x51f1a9,_0x257b48,_0x189dd2),attachLongPressHandler(_0x51f1a9,_0x531237),_0x38d0c9[_0x113a29(0x271)](_0x51f1a9),updateDayStats(_0x257b48);}}function reRenderBlocks(){const _0x46943c=a2_0x1e6a25;document['querySelectorAll'](_0x46943c(0x1f3))['forEach'](_0x3d3ce4=>{const _0x4c8e40=_0x46943c;_0x3d3ce4[_0x4c8e40(0x22b)]('.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card')[_0x4c8e40(0x1d5)](_0x2f35d4=>_0x2f35d4[_0x4c8e40(0x2be)]());const _0x508481=_0x3d3ce4[_0x4c8e40(0x2ce)](_0x4c8e40(0x2b0)),_0x4a8d25=parseInt(_0x3d3ce4[_0x4c8e40(0x2ce)](_0x4c8e40(0x228))),_0x151008=Math[_0x4c8e40(0x24a)](_0x3d3ce4[_0x4c8e40(0x179)]);(availabilityPattern[_0x4a8d25]||[])[_0x4c8e40(0x1d5)](_0x5adcee=>{const _0x4d45f5=_0x4c8e40,_0x346e45=document[_0x4d45f5(0x1d2)](_0x4d45f5(0x244));_0x346e45[_0x4d45f5(0x266)]='blocked-slot\x20stripe-bg';const _0xb34754=_0x5adcee*GRID_H;_0x346e45['style']['top']=_0xb34754+'px',_0x346e45[_0x4d45f5(0x288)]['backgroundPosition']='-'+_0x151008+_0x4d45f5(0x286)+_0xb34754+'px',_0x3d3ce4['appendChild'](_0x346e45);});if(specialRanges&&specialRanges[_0x4c8e40(0x254)]>0x0){const _0x3a45d2=new Date(_0x508481+'T00:00:00')[_0x4c8e40(0x26c)](),_0x93a921=new Date(_0x508481+_0x4c8e40(0x213))['getTime']();specialRanges[_0x4c8e40(0x1d5)](_0x5f14dd=>{const _0x2a0df6=_0x4c8e40,_0x49a549=new Date(_0x5f14dd[_0x2a0df6(0x2e6)])['getTime'](),_0x499756=new Date(_0x5f14dd[_0x2a0df6(0x1b3)])[_0x2a0df6(0x26c)](),_0x28ae7c=Math[_0x2a0df6(0x209)](_0x3a45d2,_0x49a549),_0x296aab=Math['min'](_0x93a921,_0x499756);if(_0x28ae7c<_0x296aab){if(_0x28ae7c<=_0x3a45d2&&_0x296aab>=_0x93a921-0xea60){if(!_0x3d3ce4[_0x2a0df6(0x1e3)](_0x2a0df6(0x1f4))){const _0x4822e6=document[_0x2a0df6(0x1d2)](_0x2a0df6(0x244));_0x4822e6[_0x2a0df6(0x266)]=_0x2a0df6(0x2d0),_0x4822e6[_0x2a0df6(0x288)][_0x2a0df6(0x1b1)]='-'+_0x151008+_0x2a0df6(0x17b),_0x3d3ce4[_0x2a0df6(0x271)](_0x4822e6);}}else{const _0x203754=(_0x28ae7c-_0x3a45d2)/0x36ee80*GRID_H,_0x286c9b=(_0x296aab-_0x28ae7c)/0x36ee80*GRID_H,_0x2133fa=document['createElement'](_0x2a0df6(0x244));_0x2133fa['className']='blocked-range-part\x20stripe-bg',_0x2133fa[_0x2a0df6(0x288)][_0x2a0df6(0x2f1)]=_0x203754+'px',_0x2133fa[_0x2a0df6(0x288)][_0x2a0df6(0x1c0)]=_0x286c9b+'px',_0x2133fa['style'][_0x2a0df6(0x1b1)]='-'+_0x151008+'px\x20-'+_0x203754+'px',_0x3d3ce4[_0x2a0df6(0x271)](_0x2133fa);}}});}if(dateExceptions[_0x508481]==='off'){if(!_0x3d3ce4['querySelector']('.day-off-overlay')){const _0x5146e8=document['createElement'](_0x4c8e40(0x244));_0x5146e8['className']='day-off-overlay\x20stripe-bg',_0x5146e8[_0x4c8e40(0x288)][_0x4c8e40(0x1b1)]='-'+_0x151008+'px\x200px',_0x3d3ce4[_0x4c8e40(0x271)](_0x5146e8);}}renderEventsForColumn(_0x3d3ce4,_0x508481,_0x4a8d25),updateDayStats(_0x508481);});}function updateAllDayStats(){const _0x51bb2a=a2_0x1e6a25;document[_0x51bb2a(0x22b)](_0x51bb2a(0x22e))[_0x51bb2a(0x1d5)](_0x4ec258=>{const _0x32ab42=_0x51bb2a;updateDayStats(_0x4ec258[_0x32ab42(0x2ce)](_0x32ab42(0x2b0)));});}function updateDayStats(_0x3911f3){const _0x5d67f3=a2_0x1e6a25,_0x151262=document[_0x5d67f3(0x205)](_0x5d67f3(0x1f2)+_0x3911f3);if(!_0x151262)return;const _0x18f77f=new Date(_0x3911f3);let _0x4605d8=_0x18f77f[_0x5d67f3(0x29c)]()-0x1;if(_0x4605d8===-0x1)_0x4605d8=0x6;if(dateExceptions[_0x3911f3]===_0x5d67f3(0x245)){_0x151262[_0x5d67f3(0x288)][_0x5d67f3(0x277)]='none';return;}const _0x378e29=availabilityPattern[_0x4605d8]||[],_0x19e6db=0x18-_0x378e29['length'],_0x583fbc=_0x19e6db*0x3c,_0x39550e=sessions['filter'](_0x4ef5ec=>_0x4ef5ec['dateStr']===_0x3911f3&&_0x4ef5ec[_0x5d67f3(0x2a7)]!==_0x5d67f3(0x24b));if(_0x39550e['length']===0x0){_0x151262['style']['display']='none';return;}let _0x5d8cf3=_0x39550e[_0x5d67f3(0x27c)](_0x205c6f=>{const _0x19578c=_0x5d67f3,[_0x1e9b88,_0x334a58]=_0x205c6f[_0x19578c(0x2e6)][_0x19578c(0x28a)](':')[_0x19578c(0x27c)](Number),[_0x1b74e8,_0x558f8b]=_0x205c6f[_0x19578c(0x1b3)][_0x19578c(0x28a)](':')[_0x19578c(0x27c)](Number);return[_0x1e9b88*0x3c+_0x334a58,_0x1b74e8*0x3c+_0x558f8b];});_0x5d8cf3[_0x5d67f3(0x185)]((_0x169b60,_0x2a3567)=>_0x169b60[0x0]-_0x2a3567[0x0]);let _0x50815f=[];if(_0x5d8cf3[_0x5d67f3(0x254)]>0x0){let _0x50e90d=_0x5d8cf3[0x0];for(let _0x215bbf=0x1;_0x215bbf<_0x5d8cf3[_0x5d67f3(0x254)];_0x215bbf++){_0x5d8cf3[_0x215bbf][0x0]<_0x50e90d[0x1]?_0x50e90d[0x1]=Math[_0x5d67f3(0x209)](_0x50e90d[0x1],_0x5d8cf3[_0x215bbf][0x1]):(_0x50815f[_0x5d67f3(0x27d)](_0x50e90d),_0x50e90d=_0x5d8cf3[_0x215bbf]);}_0x50815f[_0x5d67f3(0x27d)](_0x50e90d);}let _0x526bbb=0x0;_0x50815f[_0x5d67f3(0x1d5)](_0x2dab4b=>_0x526bbb+=_0x2dab4b[0x1]-_0x2dab4b[0x0]),_0x151262[_0x5d67f3(0x288)][_0x5d67f3(0x277)]=_0x5d67f3(0x292);const _0x35f123=_0x151262[_0x5d67f3(0x1e3)](_0x5d67f3(0x182));if(_0x583fbc===0x0){_0x35f123[_0x5d67f3(0x288)][_0x5d67f3(0x215)]=_0x5d67f3(0x17e),_0x35f123[_0x5d67f3(0x288)]['background']='var(--acc-red)';return;}const _0x5cd05d=_0x526bbb/_0x583fbc*0x64;console[_0x5d67f3(0x2e8)]('['+_0x3911f3+_0x5d67f3(0x261)+_0x19e6db+'—á,\x20–ó–∞–Ω—è—Ç–æ:\x20'+_0x526bbb+'–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20'+_0x5cd05d['toFixed'](0x1)+'%'),_0x5cd05d>0x64?(_0x35f123[_0x5d67f3(0x288)]['width']=_0x5d67f3(0x17e),_0x35f123['style'][_0x5d67f3(0x1c3)]=_0x5d67f3(0x1bf)):(_0x35f123['style'][_0x5d67f3(0x215)]=_0x5cd05d+'%',_0x35f123['style'][_0x5d67f3(0x1c3)]=_0x5d67f3(0x19c));}function renderEventsForColumn(_0x1265ac,_0x19396e,_0x25a9e0){const _0xdb795a=a2_0x1e6a25,_0x21585a=sessions[_0xdb795a(0x262)](_0x15b151=>_0x15b151['dateStr']===_0x19396e),_0x10f908=_0x21585a[_0xdb795a(0x27c)](_0x240970=>{const _0x1a7a59=_0xdb795a,[_0x215737,_0x470cf1]=_0x240970[_0x1a7a59(0x2e6)][_0x1a7a59(0x28a)](':')[_0x1a7a59(0x27c)](Number),[_0x1529f0,_0x279468]=_0x240970[_0x1a7a59(0x1b3)][_0x1a7a59(0x28a)](':')[_0x1a7a59(0x27c)](Number);return{'data':_0x240970,'start':_0x215737*0x3c+_0x470cf1,'end':_0x1529f0*0x3c+_0x279468,'colIndex':0x0};});_0x10f908['sort']((_0x46027a,_0x423f7b)=>{const _0x3ea963=_0xdb795a;if(_0x46027a[_0x3ea963(0x2e6)]!==_0x423f7b['start'])return _0x46027a[_0x3ea963(0x2e6)]-_0x423f7b[_0x3ea963(0x2e6)];return _0x423f7b['end']-_0x423f7b['start']-(_0x46027a[_0x3ea963(0x1b3)]-_0x46027a['start']);});const _0x5cfbe6=[];_0x10f908[_0xdb795a(0x1d5)](_0x393b02=>{const _0x228eed=_0xdb795a;let _0x1d1344=![];for(let _0x1046da=0x0;_0x1046da<_0x5cfbe6[_0x228eed(0x254)];_0x1046da++){const _0x51473c=_0x5cfbe6[_0x1046da],_0x3288e4=_0x51473c[_0x51473c[_0x228eed(0x254)]-0x1];if(_0x393b02[_0x228eed(0x2e6)]>=_0x3288e4[_0x228eed(0x1b3)]){_0x51473c[_0x228eed(0x27d)](_0x393b02),_0x393b02['colIndex']=_0x1046da,_0x1d1344=!![];break;}}!_0x1d1344&&(_0x5cfbe6['push']([_0x393b02]),_0x393b02[_0x228eed(0x222)]=_0x5cfbe6[_0x228eed(0x254)]-0x1);}),_0x10f908['forEach'](_0x30dea2=>{const _0x5b10cc=_0xdb795a;let _0x3815df=0x0;_0x10f908['forEach'](_0x29483e=>{const _0x56ed23=a2_0x1e51;if(Math[_0x56ed23(0x209)](_0x30dea2[_0x56ed23(0x2e6)],_0x29483e[_0x56ed23(0x2e6)])<Math[_0x56ed23(0x259)](_0x30dea2[_0x56ed23(0x1b3)],_0x29483e[_0x56ed23(0x1b3)])){if(_0x29483e[_0x56ed23(0x222)]>_0x3815df)_0x3815df=_0x29483e[_0x56ed23(0x222)];}});const _0x4bf9e7=_0x3815df+0x1,_0x49fdec=0x64/_0x4bf9e7,_0x2334b9=_0x30dea2[_0x5b10cc(0x222)]*_0x49fdec,_0x49db95=createEventEl(_0x30dea2['data']);_0x49db95[_0x5b10cc(0x288)][_0x5b10cc(0x215)]='calc('+_0x49fdec+'%\x20-\x204px)',_0x49db95[_0x5b10cc(0x288)][_0x5b10cc(0x1db)]='calc('+_0x2334b9+_0x5b10cc(0x24d),_0x49db95['style'][_0x5b10cc(0x1aa)]=0xa+_0x30dea2[_0x5b10cc(0x222)],_0x49fdec<0x55&&_0x49db95['classList'][_0x5b10cc(0x2f6)](_0x5b10cc(0x26e)),_0x1265ac[_0x5b10cc(0x271)](_0x49db95);});}function createEventEl(_0x461111){const _0x4ede26=a2_0x1e6a25,[_0x64674d,_0x4a93d5]=_0x461111[_0x4ede26(0x2e6)][_0x4ede26(0x28a)](':')['map'](Number),[_0x4aa0fa,_0x587c4a]=_0x461111[_0x4ede26(0x1b3)][_0x4ede26(0x28a)](':')['map'](Number),_0x44d74d=(_0x64674d*0x3c+_0x4a93d5)/0x3c*GRID_H,_0x55f03b=(_0x4aa0fa*0x3c+_0x587c4a-(_0x64674d*0x3c+_0x4a93d5))/0x3c*GRID_H,_0x579cc9=document[_0x4ede26(0x1d2)](_0x4ede26(0x244)),_0x2bf43e=_0x461111['status']===_0x4ede26(0x2a4)?'\x20status-completed':'';_0x579cc9[_0x4ede26(0x266)]=_0x4ede26(0x203)+_0x2bf43e,_0x579cc9[_0x4ede26(0x288)][_0x4ede26(0x2f1)]=_0x44d74d+'px',_0x579cc9[_0x4ede26(0x288)][_0x4ede26(0x1c0)]=Math[_0x4ede26(0x209)](_0x55f03b,0x14)+'px';const _0x194ea7=clients[_0x4ede26(0x200)](_0x499276=>_0x461111[_0x4ede26(0x2c0)]&&String(_0x499276['id'])===String(_0x461111['clientId'])||_0x499276[_0x4ede26(0x198)]===_0x461111[_0x4ede26(0x177)]),_0x5a94be=_0x194ea7?_0x194ea7[_0x4ede26(0x2f7)]:_0x4ede26(0x1e8);_0x579cc9['style']['borderLeftColor']=_0x5a94be,_0x579cc9[_0x4ede26(0x288)][_0x4ede26(0x2ca)]=hexToRgba(_0x5a94be,0.85);let _0x2021b4='<div\x20class=\x22ev-title\x22>'+_0x461111[_0x4ede26(0x177)]+'</div><div\x20class=\x22ev-time\x22>'+_0x461111[_0x4ede26(0x2e6)]+'\x20-\x20'+_0x461111['end']+'</div>';return _0x461111[_0x4ede26(0x2da)]&&(_0x2021b4+=_0x4ede26(0x194)),_0x461111['status']===_0x4ede26(0x2a4)&&(_0x2021b4+=_0x4ede26(0x202)),_0x579cc9['innerHTML']=_0x2021b4,_0x579cc9[_0x4ede26(0x2a5)]=_0x3aebb8=>{const _0x1e1004=_0x4ede26;_0x3aebb8[_0x1e1004(0x2b5)](),openEdit(_0x461111);},_0x579cc9;}function attachLongPressHandler(_0x1f7970,_0x57bffe){const _0x25198d=a2_0x1e6a25;let _0x47abfc=0x0,_0x2ee44b=null;const _0x3e19c9=_0x3d2320=>{const _0x157350=a2_0x1e51;if(_0x3d2320[_0x157350(0x2a0)]['closest']('.event-card'))return;isScrolling=![],_0x47abfc=_0x3d2320[_0x157350(0x1ad)]?_0x3d2320[_0x157350(0x1ad)][0x0]['clientY']:_0x3d2320[_0x157350(0x2b2)],_0x2ee44b=setTimeout(()=>{const _0x108870=_0x157350;if(!isScrolling){navigator[_0x108870(0x2e7)]?.(0x32);const _0x132c8a=_0x1f7970['getBoundingClientRect'](),_0x114149=Math['floor']((_0x47abfc-_0x132c8a[_0x108870(0x2f1)])/GRID_H);_0x57bffe[_0x108870(0x1b6)](_0x114149,0x0),openAddSession(_0x57bffe);}},0x1f4);},_0x594e8f=()=>{isScrolling=!![],clearTimeout(_0x2ee44b);},_0x1e46fc=()=>{clearTimeout(_0x2ee44b);};_0x1f7970[_0x25198d(0x2d2)](_0x25198d(0x1dd),_0x3e19c9,{'passive':!![]}),_0x1f7970[_0x25198d(0x2d2)](_0x25198d(0x18b),_0x594e8f,{'passive':!![]}),_0x1f7970[_0x25198d(0x2d2)](_0x25198d(0x2b9),_0x1e46fc),_0x1f7970[_0x25198d(0x2d2)](_0x25198d(0x25d),_0x3e19c9),_0x1f7970['addEventListener'](_0x25198d(0x275),_0x594e8f),_0x1f7970['addEventListener'](_0x25198d(0x2f5),_0x1e46fc);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x57842f=a2_0x1e6a25,_0x50ce17=document[_0x57842f(0x205)](_0x57842f(0x1ce)),_0x55d33e=_0x50ce17[_0x57842f(0x29a)],_0x50e9cb=_0x50ce17[_0x57842f(0x2c6)],_0x2bbb19=_0x50ce17['clientWidth'];if(_0x50e9cb-(_0x55d33e+_0x2bbb19)<0x12c){const _0x8f951=endOffset;endOffset+=0xe,renderDayRange(_0x8f951+0x1,endOffset),reRenderBlocks();}if(_0x55d33e<0x12c){const _0x534a6d=startOffset;startOffset-=0xe,prependDays(startOffset,_0x534a6d-0x1),_0x50ce17[_0x57842f(0x29a)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x51caed,_0x26d4b0){const _0x26dba9=a2_0x1e6a25,_0xf3159d=document[_0x26dba9(0x205)]('daysHeaderTrack'),_0x5756bd=document['getElementById'](_0x26dba9(0x18e)),_0x184e06=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x48c0fc=new Date();_0x48c0fc[_0x26dba9(0x1b6)](0x0,0x0,0x0,0x0);const _0x17af80=getLocalDateStr(new Date()),_0x39eb1e=document['createDocumentFragment'](),_0x493786=document[_0x26dba9(0x1fe)]();for(let _0x408f03=_0x51caed;_0x408f03<=_0x26d4b0;_0x408f03++){const _0x1de190=new Date(_0x48c0fc);_0x1de190[_0x26dba9(0x17c)](_0x1de190['getDate']()+_0x408f03);const _0x564984=getLocalDateStr(_0x1de190);let _0x2815b6=_0x1de190['getDay']()-0x1;if(_0x2815b6===-0x1)_0x2815b6=0x6;const _0x1e5798=_0x564984===_0x17af80,_0x4c7d41=document['createElement'](_0x26dba9(0x244));_0x4c7d41['className']=_0x26dba9(0x1a7)+(_0x1e5798?'today':''),_0x4c7d41['id']=_0x26dba9(0x293)+_0x564984,_0x4c7d41[_0x26dba9(0x296)](_0x26dba9(0x2b0),_0x564984),_0x4c7d41[_0x26dba9(0x212)]='<div\x20class=\x22dch-day\x22>'+_0x184e06[_0x2815b6]+_0x26dba9(0x2f9)+_0x1de190[_0x26dba9(0x1b4)]()+_0x26dba9(0x23a)+_0x564984+_0x26dba9(0x25a),_0x4c7d41[_0x26dba9(0x2a5)]=()=>openDayOptions(_0x564984,_0x184e06[_0x2815b6]+'\x20'+_0x1de190[_0x26dba9(0x1b4)]()),_0x39eb1e[_0x26dba9(0x271)](_0x4c7d41);const _0x4d256f=document[_0x26dba9(0x1d2)](_0x26dba9(0x244));_0x4d256f['className']=_0x26dba9(0x25e)+(_0x1e5798?'today':''),_0x4d256f[_0x26dba9(0x296)]('data-date',_0x564984),_0x4d256f['setAttribute']('data-day-idx',_0x2815b6),renderEventsForColumn(_0x4d256f,_0x564984,_0x2815b6),attachLongPressHandler(_0x4d256f,_0x1de190),_0x493786['appendChild'](_0x4d256f),updateDayStats(_0x564984);}_0xf3159d['insertBefore'](_0x39eb1e,_0xf3159d[_0x26dba9(0x2e2)]),_0x5756bd[_0x26dba9(0x2d4)](_0x493786,_0x5756bd[_0x26dba9(0x1e3)](_0x26dba9(0x2e5)));}function validateAppointment(_0xb9fc05,_0x3e0629,_0x57a6ea,_0x4ec98c,_0x366c9f){const _0x45366e=a2_0x1e6a25,[_0x2ff53f,_0x365531]=_0x3e0629['split'](':')['map'](Number),[_0x47eb54,_0x169a0a]=_0x57a6ea['split'](':')['map'](Number),_0x112450=_0x2ff53f*0x3c+_0x365531,_0x5f03d0=_0x47eb54*0x3c+_0x169a0a,_0x59f36f=String(_0x366c9f);let _0x39adbf=![],_0x40183b='';for(let _0x22ce64 of sessions){if(_0x22ce64[_0x45366e(0x19b)]!==_0xb9fc05)continue;if(_0x22ce64[_0x45366e(0x2a7)]===_0x45366e(0x24b))continue;if(_0x4ec98c&&String(_0x22ce64['id'])===String(_0x4ec98c))continue;const [_0x1e7176,_0x392b50]=_0x22ce64[_0x45366e(0x2e6)][_0x45366e(0x28a)](':')[_0x45366e(0x27c)](Number),[_0x463bea,_0x418033]=_0x22ce64['end'][_0x45366e(0x28a)](':')[_0x45366e(0x27c)](Number),_0x5c2aa5=_0x1e7176*0x3c+_0x392b50,_0x5040ea=_0x463bea*0x3c+_0x418033;if(Math[_0x45366e(0x209)](_0x112450,_0x5c2aa5)<Math[_0x45366e(0x259)](_0x5f03d0,_0x5040ea)){if(_0x22ce64[_0x45366e(0x2c0)]&&String(_0x22ce64[_0x45366e(0x2c0)])===_0x59f36f)return{'valid':![],'msg':_0x45366e(0x1ee)+_0x22ce64[_0x45366e(0x177)]+_0x45366e(0x25f)};_0x39adbf=!![],_0x40183b=_0x22ce64['client'];}}if(_0x39adbf)return{'valid':!![],'warning':_0x45366e(0x246)+_0x40183b};return{'valid':!![]};}function updateDateDisplay(){const _0x179fbd=a2_0x1e6a25,_0x1d16b2=document[_0x179fbd(0x205)](_0x179fbd(0x256))[_0x179fbd(0x1c5)],_0x3fa47c=document[_0x179fbd(0x205)]('sheetDateSubtitle');if(!_0x1d16b2){_0x3fa47c['textContent']='';return;}const [_0x26591a,_0x38a4e5,_0x1d4360]=_0x1d16b2[_0x179fbd(0x28a)]('-')[_0x179fbd(0x27c)](Number),_0x440eec=new Date(_0x26591a,_0x38a4e5-0x1,_0x1d4360),_0x5285b5={'weekday':_0x179fbd(0x1fd),'day':'numeric','month':_0x179fbd(0x1fd),'year':_0x179fbd(0x2d7)};let _0xbee0ef=_0x440eec[_0x179fbd(0x295)](_0x179fbd(0x287),_0x5285b5);_0xbee0ef=_0xbee0ef[_0x179fbd(0x2fa)](0x0)[_0x179fbd(0x1f1)]()+_0xbee0ef['slice'](0x1),_0x3fa47c[_0x179fbd(0x267)]=_0xbee0ef;}function autoSetEndTime(){const _0x3594c1=a2_0x1e6a25,_0x19b257=document[_0x3594c1(0x205)](_0x3594c1(0x252))[_0x3594c1(0x1c5)];if(!_0x19b257)return;const [_0x59b005,_0x591572]=_0x19b257[_0x3594c1(0x28a)](':')['map'](Number);let _0x4b4e38=_0x59b005+0x1;if(_0x4b4e38>0x17)_0x4b4e38=0x0;const _0x27b582=String(_0x4b4e38)[_0x3594c1(0x17d)](0x2,'0')+':'+String(_0x591572)[_0x3594c1(0x17d)](0x2,'0');document[_0x3594c1(0x205)](_0x3594c1(0x236))[_0x3594c1(0x1c5)]=_0x27b582;}function populateClientSelect(){const _0x35531b=a2_0x1e6a25,_0x552bef=document[_0x35531b(0x205)](_0x35531b(0x183));_0x552bef[_0x35531b(0x212)]='';if(clients['length']===0x0){const _0x397988=document['createElement'](_0x35531b(0x238));_0x397988[_0x35531b(0x2dc)]=_0x35531b(0x291),_0x552bef[_0x35531b(0x271)](_0x397988);return;}clients[_0x35531b(0x1d5)](_0x3dd5e2=>{const _0x53b1cb=_0x35531b,_0x1cb731=document['createElement'](_0x53b1cb(0x238));_0x1cb731[_0x53b1cb(0x1c5)]=_0x3dd5e2[_0x53b1cb(0x198)],_0x1cb731[_0x53b1cb(0x267)]=_0x3dd5e2['name'],_0x552bef[_0x53b1cb(0x271)](_0x1cb731);});}function openActionSheet(_0x3af5ed){const _0x324ec3=a2_0x1e6a25,_0x3463ed=document[_0x324ec3(0x205)](_0x324ec3(0x1e2)),_0x2a3e79=document[_0x324ec3(0x205)](_0x324ec3(0x186)),_0x155c81=document[_0x324ec3(0x205)](_0x324ec3(0x2b3)),_0x359f23=document[_0x324ec3(0x205)](_0x324ec3(0x1ec)),_0x465d49=document[_0x324ec3(0x205)](_0x324ec3(0x269));_0x2a3e79[_0x324ec3(0x299)][_0x324ec3(0x2f6)]('active'),_0x3463ed[_0x324ec3(0x299)][_0x324ec3(0x2f6)]('open');if(_0x3af5ed===_0x324ec3(0x1c6))_0x155c81[_0x324ec3(0x267)]=_0x324ec3(0x278),_0x359f23[_0x324ec3(0x267)]=_0x324ec3(0x20b),_0x359f23[_0x324ec3(0x2a5)]=()=>{const _0x1e85bc=_0x324ec3;closeActionSheet(),updateSeriesBatch(_0x1e85bc(0x2cd),tempSessionData);},_0x465d49[_0x324ec3(0x267)]=_0x324ec3(0x281),_0x465d49[_0x324ec3(0x2a5)]=()=>{closeActionSheet(),updateSeriesBatch('series',tempSessionData);};else _0x3af5ed===_0x324ec3(0x1b2)&&(_0x155c81['textContent']=_0x324ec3(0x29d),_0x359f23[_0x324ec3(0x267)]='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x359f23['className']='as-button\x20danger',_0x359f23[_0x324ec3(0x2a5)]=()=>{const _0x443d48=_0x324ec3;closeActionSheet(),commitDelete(_0x443d48(0x2cd),sessions[_0x443d48(0x200)](_0x175cd5=>_0x175cd5['id']===editingId));},_0x465d49[_0x324ec3(0x267)]='–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ',_0x465d49[_0x324ec3(0x266)]=_0x324ec3(0x283),_0x465d49[_0x324ec3(0x2a5)]=()=>{const _0x5ded07=_0x324ec3;closeActionSheet(),commitDelete(_0x5ded07(0x265),sessions[_0x5ded07(0x200)](_0x451892=>_0x451892['id']===editingId));});}function closeActionSheet(){const _0x322d9f=a2_0x1e6a25;document['getElementById'](_0x322d9f(0x1e2))['classList'][_0x322d9f(0x2be)]('open'),document[_0x322d9f(0x205)]('actionSheetOverlay')[_0x322d9f(0x299)][_0x322d9f(0x2be)]('active');}function openSettings(){openSheet('settingsSheet');}function saveCoachSettings(){const _0x51f26b=a2_0x1e6a25,_0x56db88=document[_0x51f26b(0x205)]('settingCancelWindow')['value'];localStorage[_0x51f26b(0x1d7)]('uc_settings_cancel_window',_0x56db88),console['log'](_0x51f26b(0x1a9),_0x56db88),DataManager[_0x51f26b(0x178)](_0x51f26b(0x1ff),{'settings':{'cancel_window':_0x56db88}})[_0x51f26b(0x2e9)](_0xfed1c3=>{const _0xc8fa90=_0x51f26b;console[_0xc8fa90(0x1ed)](_0xc8fa90(0x207),_0xfed1c3),showToast(_0xc8fa90(0x19d),![]);});}function loadCoachSettings(){const _0x2cba50=a2_0x1e6a25,_0x501dc3=localStorage[_0x2cba50(0x1e1)]('uc_settings_cancel_window');_0x501dc3&&(document[_0x2cba50(0x205)](_0x2cba50(0x1ac))[_0x2cba50(0x1c5)]=_0x501dc3);}function openRangesSheet(){const _0x35fdea=a2_0x1e6a25;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x35fdea(0x26f));}function addRange(){const _0x1bd7ff=a2_0x1e6a25,_0x3360dd=document['getElementById'](_0x1bd7ff(0x26d))[_0x1bd7ff(0x1c5)],_0x5d7e31=document[_0x1bd7ff(0x205)](_0x1bd7ff(0x242))['value'],_0xdb3b24=document[_0x1bd7ff(0x205)](_0x1bd7ff(0x1fa))[_0x1bd7ff(0x1c5)],_0x12bd2f=document[_0x1bd7ff(0x205)](_0x1bd7ff(0x26a))['value'];if(!_0x3360dd||!_0x5d7e31||!_0xdb3b24||!_0x12bd2f)return alert(_0x1bd7ff(0x2cb));const _0x5061ec=_0x3360dd+'T'+_0x5d7e31,_0x54e755=_0xdb3b24+'T'+_0x12bd2f;if(_0x5061ec>=_0x54e755)return alert('–û—à–∏–±–∫–∞\x20–¥–∞—Ç');specialRanges[_0x1bd7ff(0x27d)]({'start':_0x5061ec,'end':_0x54e755}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x1bd7ff(0x1de)](),DataManager['fetchFromServer'](_0x1bd7ff(0x1ff),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x25b766){const _0x13ea7b=a2_0x1e6a25;specialRanges['splice'](_0x25b766,0x1),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager['fetchFromServer'](_0x13ea7b(0x1ff),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x7a8503=a2_0x1e6a25;document[_0x7a8503(0x205)](_0x7a8503(0x26d))[_0x7a8503(0x1c5)]='',document[_0x7a8503(0x205)](_0x7a8503(0x242))[_0x7a8503(0x1c5)]=_0x7a8503(0x211),document[_0x7a8503(0x205)]('rangeEndDate')[_0x7a8503(0x1c5)]='',document[_0x7a8503(0x205)](_0x7a8503(0x26a))[_0x7a8503(0x1c5)]=_0x7a8503(0x2e1);}function renderRangesList(){const _0x2e3ec4=a2_0x1e6a25,_0xa26f9c=document[_0x2e3ec4(0x205)](_0x2e3ec4(0x22c));_0xa26f9c[_0x2e3ec4(0x212)]='';if(!specialRanges['length']){_0xa26f9c[_0x2e3ec4(0x212)]=_0x2e3ec4(0x1dc);return;}specialRanges[_0x2e3ec4(0x1d5)]((_0x290375,_0x20b1e4)=>{const _0x157e13=_0x2e3ec4,_0x348bd5=document['createElement']('div');_0x348bd5[_0x157e13(0x266)]=_0x157e13(0x1b0);const _0x39192d=_0x29f37c=>{const _0x342a80=_0x157e13,_0x492c43=new Date(_0x29f37c);return _0x492c43['getDate']()+'.'+String(_0x492c43[_0x342a80(0x221)]()+0x1)[_0x342a80(0x17d)](0x2,'0')+'\x20'+String(_0x492c43['getHours']())[_0x342a80(0x17d)](0x2,'0')+':'+String(_0x492c43[_0x342a80(0x1eb)]())[_0x342a80(0x17d)](0x2,'0');};_0x348bd5[_0x157e13(0x212)]=_0x157e13(0x201)+_0x39192d(_0x290375[_0x157e13(0x2e6)])+'\x20‚Äî\x20'+_0x39192d(_0x290375['end'])+_0x157e13(0x192)+_0x20b1e4+_0x157e13(0x1a0),_0xa26f9c[_0x157e13(0x271)](_0x348bd5);});}function scrollToToday(){const _0x3914d3=a2_0x1e6a25,_0x26f490=getLocalDateStr(new Date()),_0x4eaf66=document['getElementById'](_0x3914d3(0x293)+_0x26f490),_0x208a25=document[_0x3914d3(0x205)](_0x3914d3(0x1ce));if(_0x4eaf66&&_0x208a25){const _0x48d79d=_0x208a25[_0x3914d3(0x232)],_0x4222d4=_0x4eaf66[_0x3914d3(0x179)],_0x5532ab=_0x4eaf66[_0x3914d3(0x220)];_0x208a25[_0x3914d3(0x29a)]=_0x4222d4-_0x48d79d/0x2+_0x5532ab/0x2,_0x208a25[_0x3914d3(0x284)]=0x9*GRID_H;}}function onScroll(){const _0x277346=a2_0x1e6a25,_0x328096=document['getElementById'](_0x277346(0x1ce)),_0x190e84=document[_0x277346(0x22b)](_0x277346(0x22e));for(let _0x145d5f of _0x190e84)if(_0x145d5f[_0x277346(0x179)]>=_0x328096[_0x277346(0x29a)]){const _0x1e26f7=new Date(_0x145d5f['getAttribute']('data-date'));document[_0x277346(0x205)](_0x277346(0x17a))[_0x277346(0x267)]=_0x1e26f7[_0x277346(0x248)]('ru',{'month':_0x277346(0x1fd)})['toUpperCase']()+'\x20'+_0x1e26f7[_0x277346(0x181)]();break;}}function showToast(_0x161f3c,_0x437b31=![]){const _0x3c7ccc=a2_0x1e6a25,_0x5ce3a6=document['getElementById'](_0x3c7ccc(0x27f));_0x5ce3a6[_0x3c7ccc(0x266)]='toast-notification\x20'+(_0x437b31?_0x3c7ccc(0x1e0):''),document['getElementById'](_0x3c7ccc(0x195))['textContent']=_0x437b31?_0x3c7ccc(0x23e):_0x3c7ccc(0x2a3),document[_0x3c7ccc(0x205)]('toastMessage')[_0x3c7ccc(0x267)]=_0x161f3c,_0x5ce3a6[_0x3c7ccc(0x299)][_0x3c7ccc(0x2f6)](_0x3c7ccc(0x1ae)),setTimeout(()=>{const _0x5081fb=_0x3c7ccc;_0x5ce3a6[_0x5081fb(0x299)][_0x5081fb(0x2be)](_0x5081fb(0x1ae));},0xbb8);}function openDayOptions(_0x476139,_0x885860){const _0x536b2c=a2_0x1e6a25;selectedDayForOptions=_0x476139,document[_0x536b2c(0x205)](_0x536b2c(0x298))[_0x536b2c(0x267)]=_0x885860,openSheet(_0x536b2c(0x187));}function toggleDayOff(){const _0x3aa33b=a2_0x1e6a25;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x3aa33b(0x245),reRenderBlocks(),closeAllSheets(),DataManager[_0x3aa33b(0x1de)](),DataManager[_0x3aa33b(0x178)](_0x3aa33b(0x1ff),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x58a183=a2_0x1e6a25;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager[_0x58a183(0x178)]('save_settings',{'settings':{'exceptions':dateExceptions}}));}function a2_0x1e51(_0x1c2d86,_0x50d95a){_0x1c2d86=_0x1c2d86-0x177;const _0x1107c8=a2_0x671a();let _0x459c8f=_0x1107c8[_0x1c2d86];return _0x459c8f;}function openSheet(_0x4965ba){const _0x4985a8=a2_0x1e6a25;document[_0x4985a8(0x205)](_0x4985a8(0x260))[_0x4985a8(0x299)][_0x4985a8(0x2f6)](_0x4985a8(0x28c)),document[_0x4985a8(0x205)](_0x4965ba)[_0x4985a8(0x299)][_0x4985a8(0x2f6)](_0x4985a8(0x1c1));}function closeAllSheets(){const _0x5a6d0f=a2_0x1e6a25;document[_0x5a6d0f(0x205)](_0x5a6d0f(0x260))[_0x5a6d0f(0x299)][_0x5a6d0f(0x2be)](_0x5a6d0f(0x28c)),document[_0x5a6d0f(0x22b)](_0x5a6d0f(0x1a1))[_0x5a6d0f(0x1d5)](_0x193e4a=>_0x193e4a[_0x5a6d0f(0x299)][_0x5a6d0f(0x2be)](_0x5a6d0f(0x1c1)));}function openPatternEditor(){const _0x38ada5=a2_0x1e6a25;closeAllSheets(),document['getElementById']('patternEditor')[_0x38ada5(0x299)][_0x38ada5(0x2f6)](_0x38ada5(0x1c1)),renderPatternEditor();}function closePatternEditor(){const _0x3bf7a3=a2_0x1e6a25;document[_0x3bf7a3(0x205)]('patternEditor')[_0x3bf7a3(0x299)][_0x3bf7a3(0x2be)]('open');}function savePattern(){const _0x37a06a=a2_0x1e6a25;document[_0x37a06a(0x205)](_0x37a06a(0x216))[_0x37a06a(0x299)][_0x37a06a(0x2be)](_0x37a06a(0x1c1)),reRenderBlocks(),DataManager[_0x37a06a(0x1de)](),DataManager[_0x37a06a(0x178)](_0x37a06a(0x1ff),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0xd9a2f4=a2_0x1e6a25,_0x3f8835=document[_0xd9a2f4(0x205)](_0xd9a2f4(0x2c9));_0x3f8835['innerHTML']='';const _0x4c6bf6=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x3df3e1=document['createElement'](_0xd9a2f4(0x244));_0x3df3e1[_0xd9a2f4(0x266)]=_0xd9a2f4(0x2a1),_0x3f8835['appendChild'](_0x3df3e1),_0x4c6bf6[_0xd9a2f4(0x1d5)]((_0x548b8d,_0x242f71)=>{const _0x1aa132=_0xd9a2f4,_0x32cc9b=document[_0x1aa132(0x1d2)]('div');_0x32cc9b[_0x1aa132(0x266)]=_0x1aa132(0x2d9),_0x32cc9b[_0x1aa132(0x212)]=_0x548b8d+'\x20<span\x20class=\x22arrow\x22>‚Üì</span>',_0x32cc9b[_0x1aa132(0x2a5)]=()=>toggleColPattern(_0x242f71),_0x3f8835[_0x1aa132(0x271)](_0x32cc9b);});for(let _0x26be8f=0x0;_0x26be8f<0x18;_0x26be8f++){const _0x3f36c3=document[_0xd9a2f4(0x1d2)](_0xd9a2f4(0x244));_0x3f36c3[_0xd9a2f4(0x266)]=_0xd9a2f4(0x219),_0x3f36c3[_0xd9a2f4(0x212)]=_0xd9a2f4(0x2a2)+String(_0x26be8f)['padStart'](0x2,'0')+':00',_0x3f36c3[_0xd9a2f4(0x2a5)]=()=>toggleRowPattern(_0x26be8f),_0x3f8835['appendChild'](_0x3f36c3);for(let _0x2c380c=0x0;_0x2c380c<0x7;_0x2c380c++){const _0x30262a=document[_0xd9a2f4(0x1d2)](_0xd9a2f4(0x244)),_0x7703ed=(availabilityPattern[_0x2c380c]||[])[_0xd9a2f4(0x28d)](_0x26be8f),_0x214ea1=!_0x7703ed;_0x30262a[_0xd9a2f4(0x266)]=_0xd9a2f4(0x2ae)+(_0x214ea1?_0xd9a2f4(0x28c):''),_0x30262a[_0xd9a2f4(0x2a5)]=()=>toggleSinglePattern(_0x2c380c,_0x26be8f),_0x3f8835[_0xd9a2f4(0x271)](_0x30262a);}}}function toggleSinglePattern(_0x5c51fc,_0x5aa100){const _0x1908c6=a2_0x1e6a25;if(!availabilityPattern[_0x5c51fc])availabilityPattern[_0x5c51fc]=[];const _0x371c75=availabilityPattern[_0x5c51fc],_0x1781c3=_0x371c75[_0x1908c6(0x1e5)](_0x5aa100);_0x1781c3===-0x1?_0x371c75[_0x1908c6(0x27d)](_0x5aa100):_0x371c75[_0x1908c6(0x24e)](_0x1781c3,0x1),renderPatternEditor();}function toggleColPattern(_0x4081e6){const _0x5ce772=a2_0x1e6a25;if(!availabilityPattern[_0x4081e6])availabilityPattern[_0x4081e6]=[];const _0x58d65c=availabilityPattern[_0x4081e6];_0x58d65c[_0x5ce772(0x254)]===0x0?availabilityPattern[_0x4081e6]=Array[_0x5ce772(0x21c)]({'length':0x18},(_0x36eac8,_0x23ff96)=>_0x23ff96):availabilityPattern[_0x4081e6]=[],renderPatternEditor();}function toggleRowPattern(_0x32fd99){const _0x49cacb=a2_0x1e6a25;let _0x201e83=!![];for(let _0x5d0dc2=0x0;_0x5d0dc2<0x7;_0x5d0dc2++){if((availabilityPattern[_0x5d0dc2]||[])[_0x49cacb(0x28d)](_0x32fd99)){_0x201e83=![];break;}}for(let _0x13ce2b=0x0;_0x13ce2b<0x7;_0x13ce2b++){if(!availabilityPattern[_0x13ce2b])availabilityPattern[_0x13ce2b]=[];const _0x179ae4=availabilityPattern[_0x13ce2b][_0x49cacb(0x1e5)](_0x32fd99);if(_0x201e83){if(_0x179ae4===-0x1)availabilityPattern[_0x13ce2b][_0x49cacb(0x27d)](_0x32fd99);}else{if(_0x179ae4!==-0x1)availabilityPattern[_0x13ce2b][_0x49cacb(0x24e)](_0x179ae4,0x1);}}renderPatternEditor();}function renderPCol(_0x1667de,_0x18791a){const _0x3d72a2=a2_0x1e6a25;_0x1667de[_0x3d72a2(0x212)]='';const _0xfc1fe4=Math[_0x3d72a2(0x24a)](_0x1667de[_0x3d72a2(0x179)]);(availabilityPattern[_0x18791a]||[])['forEach'](_0x47fa15=>{const _0x17b06c=_0x3d72a2,_0x3a5ea3=document[_0x17b06c(0x1d2)](_0x17b06c(0x244));_0x3a5ea3['className']=_0x17b06c(0x272);const _0x35af7a=_0x47fa15*GRID_H;_0x3a5ea3[_0x17b06c(0x288)]['top']=_0x35af7a+'px',_0x3a5ea3[_0x17b06c(0x288)][_0x17b06c(0x1b1)]='-'+_0xfc1fe4+_0x17b06c(0x286)+_0x35af7a+'px',_0x3a5ea3[_0x17b06c(0x2a5)]=_0x505040=>{_0x505040['stopPropagation'](),toggleSinglePattern(_0x18791a,_0x47fa15);},_0x1667de[_0x17b06c(0x271)](_0x3a5ea3);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x4a4b77=a2_0x1e6a25,_0x2c15c5=new Date(),_0x432419=document['getElementById'](_0x4a4b77(0x2bc)),_0x42e2af=document[_0x4a4b77(0x205)](_0x4a4b77(0x2f4)),_0x2b0ca3=(_0x2c15c5[_0x4a4b77(0x20e)]()*0x3c+_0x2c15c5[_0x4a4b77(0x1eb)]())/0x3c*GRID_H;_0x432419[_0x4a4b77(0x288)][_0x4a4b77(0x2f1)]=_0x2b0ca3+'px',_0x432419['style'][_0x4a4b77(0x277)]=_0x4a4b77(0x1f7),_0x42e2af[_0x4a4b77(0x267)]=String(_0x2c15c5['getHours']())[_0x4a4b77(0x17d)](0x2,'0')+':'+String(_0x2c15c5[_0x4a4b77(0x1eb)]())[_0x4a4b77(0x17d)](0x2,'0'),_0x42e2af[_0x4a4b77(0x288)][_0x4a4b77(0x277)]=_0x4a4b77(0x1f7),_0x42e2af[_0x4a4b77(0x288)][_0x4a4b77(0x2f1)]=_0x2b0ca3+'px';}document[a2_0x1e6a25(0x2d2)](a2_0x1e6a25(0x2d3),init);function openDayOptions(_0xb403d1){const _0x489f10=a2_0x1e6a25;selectedDayForOptions=_0xb403d1;const _0x34eb28=new Date(_0xb403d1),_0x13d5b1={'weekday':'long','day':_0x489f10(0x2d7),'month':'long','year':'numeric'},_0x285038=_0x34eb28[_0x489f10(0x295)]('ru-RU',_0x13d5b1);document[_0x489f10(0x205)](_0x489f10(0x1c2))['textContent']=_0x285038[_0x489f10(0x2fa)](0x0)[_0x489f10(0x1f1)]()+_0x285038[_0x489f10(0x243)](0x1);let _0x49fe97=_0x34eb28[_0x489f10(0x29c)]()-0x1;if(_0x49fe97===-0x1)_0x49fe97=0x6;const _0x51834c=availabilityPattern[_0x49fe97]||[],_0x3d89f4=0x18-_0x51834c[_0x489f10(0x254)],_0x318eea=_0x3d89f4*0x3c,_0xfade6b=sessions[_0x489f10(0x262)](_0x5f5496=>_0x5f5496[_0x489f10(0x19b)]===_0xb403d1&&_0x5f5496[_0x489f10(0x2a7)]!==_0x489f10(0x24b));let _0x17888f=_0xfade6b[_0x489f10(0x27c)](_0xf96fd9=>{const _0x35d883=_0x489f10,[_0x583f64,_0xa80b9c]=_0xf96fd9[_0x35d883(0x2e6)][_0x35d883(0x28a)](':')[_0x35d883(0x27c)](Number),[_0x53b522,_0x2924b2]=_0xf96fd9[_0x35d883(0x1b3)]['split'](':')[_0x35d883(0x27c)](Number);return[_0x583f64*0x3c+_0xa80b9c,_0x53b522*0x3c+_0x2924b2];});_0x17888f['sort']((_0x3cbc60,_0x1cfd5f)=>_0x3cbc60[0x0]-_0x1cfd5f[0x0]);let _0x3d1a0b=[];if(_0x17888f[_0x489f10(0x254)]>0x0){let _0x315c04=_0x17888f[0x0];for(let _0x4b87fc=0x1;_0x4b87fc<_0x17888f[_0x489f10(0x254)];_0x4b87fc++){_0x17888f[_0x4b87fc][0x0]<_0x315c04[0x1]?_0x315c04[0x1]=Math[_0x489f10(0x209)](_0x315c04[0x1],_0x17888f[_0x4b87fc][0x1]):(_0x3d1a0b[_0x489f10(0x27d)](_0x315c04),_0x315c04=_0x17888f[_0x4b87fc]);}_0x3d1a0b[_0x489f10(0x27d)](_0x315c04);}let _0xcbba75=0x0;_0x3d1a0b['forEach'](_0x3da074=>_0xcbba75+=_0x3da074[0x1]-_0x3da074[0x0]),document[_0x489f10(0x205)](_0x489f10(0x193))[_0x489f10(0x267)]=formatMinsToHrs(_0x318eea),document[_0x489f10(0x205)](_0x489f10(0x18d))[_0x489f10(0x267)]=formatMinsToHrs(_0xcbba75);const _0x346b07=_0x318eea>0x0?Math[_0x489f10(0x24a)](_0xcbba75/_0x318eea*0x64):0x0,_0x1cfa5b=document[_0x489f10(0x205)](_0x489f10(0x1b7));_0x1cfa5b[_0x489f10(0x267)]=_0x346b07+'%';const _0x39ca06=document[_0x489f10(0x205)](_0x489f10(0x1a3));if(_0x346b07>0x64)_0x1cfa5b[_0x489f10(0x288)][_0x489f10(0x2f7)]=_0x489f10(0x1bf),_0x39ca06[_0x489f10(0x288)][_0x489f10(0x1cb)]=_0x489f10(0x28e);else _0x346b07>0x50?(_0x1cfa5b[_0x489f10(0x288)]['color']=_0x489f10(0x18a),_0x39ca06[_0x489f10(0x288)][_0x489f10(0x1cb)]='rgba(255,\x20159,\x2010,\x200.3)'):(_0x1cfa5b['style'][_0x489f10(0x2f7)]=_0x489f10(0x1df),_0x39ca06['style']['borderColor']=_0x489f10(0x1ef));const _0x5ca074=document[_0x489f10(0x205)](_0x489f10(0x190));_0x5ca074['innerHTML']='';_0xfade6b[_0x489f10(0x254)]===0x0?_0x5ca074[_0x489f10(0x212)]='<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>':(_0xfade6b[_0x489f10(0x185)]((_0x15bdd7,_0x15f136)=>_0x15bdd7['start']['localeCompare'](_0x15f136[_0x489f10(0x2e6)])),_0xfade6b[_0x489f10(0x1d5)](_0x99df43=>{const _0xa9f631=_0x489f10,_0x2813bd=clients[_0xa9f631(0x200)](_0xf54db=>_0xf54db['name']===_0x99df43['client']),_0x272f6b=_0x2813bd?_0x2813bd[_0xa9f631(0x2f7)]:'#fff',_0x3a9fff=_0x99df43[_0xa9f631(0x2a7)]===_0xa9f631(0x2a4),_0x346319=_0x3a9fff?_0xa9f631(0x189):'',_0x8a1b94=document[_0xa9f631(0x1d2)](_0xa9f631(0x244));_0x8a1b94[_0xa9f631(0x266)]=_0xa9f631(0x21b),_0x8a1b94['style'][_0xa9f631(0x294)]=_0x272f6b,_0x8a1b94[_0xa9f631(0x212)]=_0xa9f631(0x289)+_0x99df43[_0xa9f631(0x2e6)]+_0xa9f631(0x1d3)+_0x99df43['end']+_0xa9f631(0x229)+_0x99df43['client']+_0xa9f631(0x21d)+_0x346319+_0xa9f631(0x19a),_0x5ca074[_0xa9f631(0x271)](_0x8a1b94);}));const _0x5ca86b=document[_0x489f10(0x205)](_0x489f10(0x26b)),_0x5a09a2=dateExceptions[_0xb403d1]===_0x489f10(0x245);_0x5a09a2?(_0x5ca86b[_0x489f10(0x267)]=_0x489f10(0x2cc),_0x5ca86b[_0x489f10(0x266)]=_0x489f10(0x274),_0x5ca86b['style'][_0x489f10(0x2f7)]='var(--acc-green)',_0x5ca86b[_0x489f10(0x288)][_0x489f10(0x1c3)]=_0x489f10(0x2dd)):(_0x5ca86b[_0x489f10(0x267)]=_0x489f10(0x2d1),_0x5ca86b[_0x489f10(0x266)]='btn-primary\x20btn-danger',_0x5ca86b[_0x489f10(0x288)][_0x489f10(0x2f7)]=_0x489f10(0x1bf),_0x5ca86b[_0x489f10(0x288)][_0x489f10(0x1c3)]=_0x489f10(0x2df)),openSheet(_0x489f10(0x187));}let currentAnPeriod=a2_0x1e6a25(0x1bd);function openAnalytics(){const _0x204783=a2_0x1e6a25,_0x38f2e9=document[_0x204783(0x1e3)](_0x204783(0x255));setAnalyticsPeriod(_0x204783(0x1bd),_0x38f2e9),closeAllSheets(),openSheet(_0x204783(0x234));}function setAnalyticsPeriod(_0x4abeb5,_0x4f49c8){const _0x2ccea2=a2_0x1e6a25;currentAnPeriod=_0x4abeb5,document[_0x2ccea2(0x22b)]('.period-switch\x20.p-btn')['forEach'](_0x4a7cb5=>_0x4a7cb5[_0x2ccea2(0x299)][_0x2ccea2(0x2be)](_0x2ccea2(0x28c)));if(_0x4f49c8)_0x4f49c8['classList'][_0x2ccea2(0x2f6)](_0x2ccea2(0x28c));const _0x2a7560=document['getElementById'](_0x2ccea2(0x23b));_0x2a7560[_0x2ccea2(0x288)]['display']=_0x4abeb5==='custom'?_0x2ccea2(0x292):_0x2ccea2(0x24f);const _0x4d96e3=new Date();let _0x1e237d=new Date(),_0x22e955=new Date();if(_0x4abeb5===_0x2ccea2(0x1bd))_0x1e237d=getStartOfWeek(_0x4d96e3),_0x22e955=new Date(_0x1e237d),_0x22e955['setDate'](_0x22e955['getDate']()+0x6);else{if(_0x4abeb5===_0x2ccea2(0x19f))_0x1e237d=new Date(_0x4d96e3[_0x2ccea2(0x181)](),_0x4d96e3[_0x2ccea2(0x221)](),0x1),_0x22e955=new Date(_0x4d96e3[_0x2ccea2(0x181)](),_0x4d96e3['getMonth']()+0x1,0x0);else{!document[_0x2ccea2(0x205)](_0x2ccea2(0x22d))['value']&&(document[_0x2ccea2(0x205)]('anStart')[_0x2ccea2(0x1c5)]=getLocalDateStr(_0x4d96e3),document['getElementById'](_0x2ccea2(0x217))['value']=getLocalDateStr(_0x4d96e3));refreshAnalytics();return;}}document[_0x2ccea2(0x205)](_0x2ccea2(0x22d))[_0x2ccea2(0x1c5)]=getLocalDateStr(_0x1e237d),document[_0x2ccea2(0x205)](_0x2ccea2(0x217))['value']=getLocalDateStr(_0x22e955),refreshAnalytics();}function refreshAnalytics(){const _0x1b40d4=a2_0x1e6a25,_0x535cff=document['getElementById'](_0x1b40d4(0x22d))['value'],_0x8e6eda=document[_0x1b40d4(0x205)](_0x1b40d4(0x217))[_0x1b40d4(0x1c5)];if(!_0x535cff||!_0x8e6eda)return;const _0x3f97e7=sessions['filter'](_0x7aee7f=>_0x7aee7f[_0x1b40d4(0x19b)]>=_0x535cff&&_0x7aee7f[_0x1b40d4(0x19b)]<=_0x8e6eda&&_0x7aee7f[_0x1b40d4(0x2a7)]!==_0x1b40d4(0x24b)),_0x7bc033=_0x3f97e7[_0x1b40d4(0x254)],_0x45c3a7=_0x3f97e7[_0x1b40d4(0x262)](_0x5b0b8a=>_0x5b0b8a[_0x1b40d4(0x2a7)]===_0x1b40d4(0x2a4))[_0x1b40d4(0x254)],_0x521935=_0x7bc033>0x0?Math[_0x1b40d4(0x24a)](_0x45c3a7/_0x7bc033*0x64):0x0;document[_0x1b40d4(0x205)](_0x1b40d4(0x1f8))['textContent']=_0x521935+'%',document[_0x1b40d4(0x205)](_0x1b40d4(0x273))['textContent']=_0x45c3a7+_0x1b40d4(0x2c4)+_0x7bc033+'\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ';const _0x513f57=document[_0x1b40d4(0x205)]('anDonutCircle'),_0x2cb5ad=0x2*Math['PI']*0x23,_0x5c8ae4=_0x2cb5ad-_0x521935/0x64*_0x2cb5ad;_0x513f57['style'][_0x1b40d4(0x218)]=_0x5c8ae4;const _0x7ffc54={};_0x3f97e7[_0x1b40d4(0x1d5)](_0x56e2aa=>{const _0x26773e=_0x1b40d4;if(!_0x7ffc54[_0x56e2aa[_0x26773e(0x177)]]){const _0x10324c=clients[_0x26773e(0x200)](_0x24359c=>_0x24359c[_0x26773e(0x198)]===_0x56e2aa['client']);_0x7ffc54[_0x56e2aa[_0x26773e(0x177)]]={'total':0x0,'done':0x0,'color':_0x10324c?_0x10324c[_0x26773e(0x2f7)]:_0x26773e(0x257)};}_0x7ffc54[_0x56e2aa[_0x26773e(0x177)]][_0x26773e(0x2b1)]++;if(_0x56e2aa['status']==='completed')_0x7ffc54[_0x56e2aa[_0x26773e(0x177)]][_0x26773e(0x1e6)]++;});const _0x2a2e11=document[_0x1b40d4(0x205)]('analyticsList');_0x2a2e11[_0x1b40d4(0x212)]='';const _0x3ed969=Object['entries'](_0x7ffc54)[_0x1b40d4(0x185)]((_0x5d2eb6,_0x211497)=>_0x211497[0x1][_0x1b40d4(0x2b1)]-_0x5d2eb6[0x1]['total']);if(_0x3ed969[_0x1b40d4(0x254)]===0x0){_0x2a2e11['innerHTML']=_0x1b40d4(0x2e3);return;}_0x3ed969[_0x1b40d4(0x1d5)](([_0x3aa603,_0xa9937f])=>{const _0x4c9301=_0x1b40d4,_0x2c06e4=Math[_0x4c9301(0x24a)](_0xa9937f[_0x4c9301(0x1e6)]/_0xa9937f[_0x4c9301(0x2b1)]*0x64),_0x13b83c=document[_0x4c9301(0x1d2)](_0x4c9301(0x244));_0x13b83c[_0x4c9301(0x266)]=_0x4c9301(0x25b),_0x13b83c['style'][_0x4c9301(0x294)]=_0xa9937f[_0x4c9301(0x2f7)],_0x13b83c['innerHTML']=_0x4c9301(0x1d1)+_0x3aa603+_0x4c9301(0x2b4)+_0xa9937f[_0x4c9301(0x1e6)]+_0x4c9301(0x1f9)+_0xa9937f[_0x4c9301(0x2b1)]+_0x4c9301(0x19e)+_0x2c06e4+_0x4c9301(0x1a6),_0x2a2e11[_0x4c9301(0x271)](_0x13b83c);});}function formatMinsToHrs(_0x4c22d6){const _0x3c3079=a2_0x1e6a25;if(_0x4c22d6===0x0)return'0';const _0x3ae2c2=Math[_0x3c3079(0x1d8)](_0x4c22d6/0x3c),_0x5da82a=_0x4c22d6%0x3c;if(_0x5da82a===0x0)return _0x3ae2c2+'—á';return _0x3ae2c2+'—á\x20'+_0x5da82a+'–º';}