const a2_0x2acf6f=a2_0x6885;(function(_0x10c106,_0xe26ce9){const _0x587483=a2_0x6885,_0xdba9b0=_0x10c106();while(!![]){try{const _0x5c0cdf=parseInt(_0x587483(0x266))/0x1*(-parseInt(_0x587483(0x2f5))/0x2)+-parseInt(_0x587483(0x2d3))/0x3*(-parseInt(_0x587483(0x26d))/0x4)+parseInt(_0x587483(0x253))/0x5*(parseInt(_0x587483(0x251))/0x6)+parseInt(_0x587483(0x273))/0x7*(parseInt(_0x587483(0x227))/0x8)+-parseInt(_0x587483(0x202))/0x9+parseInt(_0x587483(0x286))/0xa+-parseInt(_0x587483(0x27a))/0xb;if(_0x5c0cdf===_0xe26ce9)break;else _0xdba9b0['push'](_0xdba9b0['shift']());}catch(_0x535472){_0xdba9b0['push'](_0xdba9b0['shift']());}}}(a2_0x3218,0xaacf2),function initTMA(){const _0x494f4f=a2_0x6885;try{const _0x4f708c=window[_0x494f4f(0x215)]?.[_0x494f4f(0x1b4)];if(!_0x4f708c)return;_0x4f708c[_0x494f4f(0x199)](),_0x4f708c[_0x494f4f(0x204)]();try{_0x4f708c['setHeaderColor'](_0x494f4f(0x181)),_0x4f708c[_0x494f4f(0x2d5)]&&_0x4f708c[_0x494f4f(0x2d5)](_0x494f4f(0x181));}catch(_0x4d1baa){console[_0x494f4f(0x2f7)](_0x494f4f(0x18d),_0x4d1baa);}try{_0x4f708c[_0x494f4f(0x1a4)]&&(_0x4f708c[_0x494f4f(0x1a4)][_0x494f4f(0x1b1)](),_0x4f708c[_0x494f4f(0x1a4)]['offClick'](),_0x4f708c['BackButton']['onClick'](function(){const _0x8343ef=_0x494f4f;window[_0x8343ef(0x205)][_0x8343ef(0x22d)]=_0x8343ef(0x2f3);}));}catch(_0x4684d2){console['log'](_0x494f4f(0x18b),_0x4684d2);}try{if(_0x4f708c[_0x494f4f(0x1b2)])_0x4f708c[_0x494f4f(0x1b2)]();}catch(_0xc7bfd0){}}catch(_0xc48e16){console[_0x494f4f(0x19b)]('Critical\x20TMA\x20Error:',_0xc48e16);}}());function isAdmin(){const _0x33a21b=a2_0x6885;try{const _0x17a9fe=Number(window['Telegram']?.[_0x33a21b(0x1b4)]?.[_0x33a21b(0x2d2)]?.[_0x33a21b(0x29d)]?.['id']);return _0x17a9fe===0xbaf7174;}catch(_0x3b8d8d){return![];}}const APP_VERSION=a2_0x2acf6f(0x189),API_URL=a2_0x2acf6f(0x1dd),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x2acf6f(0x1cc),KEY_SESSIONS='uc_sessions_v9',KEY_SETTINGS=a2_0x2acf6f(0x2cd);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x412788=a2_0x2acf6f;return window[_0x412788(0x215)]?.[_0x412788(0x1b4)]?.[_0x412788(0x2d2)]?.[_0x412788(0x29d)]?.['id']||_0x412788(0x29f);},'saveLocally'(){const _0x2462be=a2_0x2acf6f;try{localStorage['setItem'](KEY_CLIENTS,JSON[_0x2462be(0x2b7)](clients)),localStorage['setItem'](KEY_SESSIONS,JSON[_0x2462be(0x2b7)](sessions)),localStorage[_0x2462be(0x1ce)](KEY_SETTINGS,JSON[_0x2462be(0x2b7)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x37116d){console[_0x2462be(0x19b)](_0x2462be(0x1ef),_0x37116d);}},'loadLocal'(){const _0xf1e148=a2_0x2acf6f;try{const _0x47ec70=localStorage[_0xf1e148(0x1bf)](KEY_CLIENTS);if(_0x47ec70)clients=JSON[_0xf1e148(0x207)](_0x47ec70);const _0x5780d8=localStorage['getItem'](KEY_SESSIONS);if(_0x5780d8)sessions=JSON[_0xf1e148(0x207)](_0x5780d8);const _0x54b08f=localStorage['getItem'](KEY_SETTINGS);if(_0x54b08f){const _0x19a22=JSON[_0xf1e148(0x207)](_0x54b08f);if(_0x19a22[_0xf1e148(0x2b2)])availabilityPattern=_0x19a22[_0xf1e148(0x2b2)];if(_0x19a22[_0xf1e148(0x269)])dateExceptions=_0x19a22[_0xf1e148(0x269)];if(_0x19a22[_0xf1e148(0x1e2)])specialRanges=_0x19a22[_0xf1e148(0x1e2)];}else{for(let _0x251404=0x0;_0x251404<0x7;_0x251404++)availabilityPattern[_0x251404]=Array[_0xf1e148(0x1d5)]({'length':0xc},(_0x4c7b59,_0x2fcda2)=>_0x2fcda2+0x9);}}catch(_0x48c13d){console[_0xf1e148(0x19b)](_0xf1e148(0x27e),_0x48c13d);}},async 'fetchFromServer'(_0x336057,_0x4eb935={}){const _0x2c7e1d=a2_0x2acf6f,_0x51dfaa=window[_0x2c7e1d(0x215)]?.['WebApp'],_0x14b5ca={'action':_0x336057,'init_data':_0x51dfaa?.[_0x2c7e1d(0x260)]||'',..._0x4eb935};try{const _0x57125c=await fetch(API_URL,{'method':_0x2c7e1d(0x23a),'headers':{'Content-Type':_0x2c7e1d(0x21d)},'body':JSON['stringify'](_0x14b5ca)}),_0x4f5a40=await _0x57125c[_0x2c7e1d(0x283)]();if(!_0x4f5a40['ok'])throw new Error(_0x4f5a40['error']||_0x2c7e1d(0x194));return _0x4f5a40[_0x2c7e1d(0x278)];}catch(_0x4f629c){console[_0x2c7e1d(0x19b)]('[API\x20'+_0x336057+_0x2c7e1d(0x196),_0x4f629c);throw _0x4f629c;}},async 'syncLoad'(){const _0x247c07=a2_0x2acf6f,_0x2e42bf=new Date(),_0x4f6773=_0x2e42bf[_0x247c07(0x1cb)]()+'-'+String(_0x2e42bf[_0x247c07(0x258)]()+0x1)[_0x247c07(0x216)](0x2,'0'),_0x163ce6=new Date(_0x2e42bf);_0x163ce6['setMonth'](_0x2e42bf['getMonth']()+0x1);const _0x44f893=_0x163ce6['getFullYear']()+'-'+String(_0x163ce6[_0x247c07(0x258)]()+0x1)[_0x247c07(0x216)](0x2,'0'),_0x66bee7=Date[_0x247c07(0x1ee)]();console[_0x247c07(0x2f7)](_0x247c07(0x193)+_0x4f6773+',\x20'+_0x44f893+_0x247c07(0x2cb));try{const [_0x3b1d26,_0x342a4c]=await Promise[_0x247c07(0x275)]([this[_0x247c07(0x2e3)](_0x247c07(0x2a6),{'month_str':_0x4f6773}),this[_0x247c07(0x2e3)](_0x247c07(0x2a6),{'month_str':_0x44f893})]);if(lastUserActionTime>_0x66bee7)return console[_0x247c07(0x180)](_0x247c07(0x1e9)),![];return this[_0x247c07(0x2c7)](_0x3b1d26,_0x4f6773),this['mergeServerData'](_0x342a4c,_0x44f893),this['saveLocally'](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x3640f6){console[_0x247c07(0x19b)](_0x3640f6);throw _0x3640f6;}},'mergeServerData'(_0x2a8f72,_0x69044e){const _0x5425b6=a2_0x2acf6f;if(!_0x2a8f72)return;_0x2a8f72[_0x5425b6(0x249)]&&Array[_0x5425b6(0x20f)](_0x2a8f72[_0x5425b6(0x249)])&&(clients=_0x2a8f72[_0x5425b6(0x249)]);if(_0x2a8f72[_0x5425b6(0x1de)]){if(_0x2a8f72[_0x5425b6(0x1de)][_0x5425b6(0x2b2)])availabilityPattern=_0x2a8f72[_0x5425b6(0x1de)]['pattern'];if(_0x2a8f72[_0x5425b6(0x1de)][_0x5425b6(0x269)])dateExceptions=_0x2a8f72[_0x5425b6(0x1de)][_0x5425b6(0x269)];if(_0x2a8f72[_0x5425b6(0x1de)]['ranges'])specialRanges=_0x2a8f72['settings'][_0x5425b6(0x1e2)];if(_0x2a8f72['settings']['cancel_window']){localStorage['setItem'](_0x5425b6(0x2e0),_0x2a8f72[_0x5425b6(0x1de)][_0x5425b6(0x2d1)]);const _0x5b3c59=document[_0x5425b6(0x2b0)](_0x5425b6(0x1ba));if(_0x5b3c59)_0x5b3c59['value']=_0x2a8f72[_0x5425b6(0x1de)][_0x5425b6(0x2d1)];}}_0x2a8f72[_0x5425b6(0x22f)]&&(sessions=sessions[_0x5425b6(0x1fe)](_0x3cfad6=>!_0x3cfad6[_0x5425b6(0x2df)][_0x5425b6(0x2ef)](_0x69044e)),Object[_0x5425b6(0x2e4)](_0x2a8f72[_0x5425b6(0x22f)])[_0x5425b6(0x2bb)](_0x2b6aca=>{const _0x408eec=_0x5425b6,_0x4991d7=_0x2a8f72['calendar'][_0x2b6aca];_0x4991d7[_0x408eec(0x2bb)](_0x21bc39=>{const _0x37c706=_0x408eec,_0x5515d0=clients['find'](_0x4a5986=>String(_0x4a5986['id'])===String(_0x21bc39['c']));sessions[_0x37c706(0x21b)]({'id':_0x21bc39['i'],'clientId':_0x21bc39['c'],'client':_0x5515d0?_0x5515d0[_0x37c706(0x1a1)]:_0x37c706(0x27c),'dateStr':_0x69044e+'-'+_0x2b6aca[_0x37c706(0x216)](0x2,'0'),'start':_0x21bc39['s'],'end':_0x21bc39['e'],'status':_0x21bc39['st']||'planned','note':_0x21bc39['n']||'','seriesId':_0x21bc39['sid']||null});});}));},async 'syncBatch'(_0x541ebe){const _0x4f1c67=a2_0x2acf6f,_0xd6f279=[...new Set(_0x541ebe)],_0x40aab3=_0xd6f279['map'](_0x3219cd=>{const _0x563f08=a2_0x6885,_0x2e9fd1=sessions['filter'](_0x32a836=>_0x32a836[_0x563f08(0x2df)]===_0x3219cd&&_0x32a836['status']!==_0x563f08(0x221)),_0xb604a1=_0x2e9fd1[_0x563f08(0x26e)](_0x10bde2=>({'i':_0x10bde2['id'],'c':_0x10bde2[_0x563f08(0x268)],'s':_0x10bde2[_0x563f08(0x252)],'e':_0x10bde2[_0x563f08(0x2ce)],'st':_0x10bde2[_0x563f08(0x2c6)],'n':_0x10bde2[_0x563f08(0x247)],'sid':_0x10bde2[_0x563f08(0x1a0)]}));return{'date':_0x3219cd,'day_data':_0xb604a1};});if(_0x40aab3[_0x4f1c67(0x29e)]===0x0)return;console[_0x4f1c67(0x2f7)](_0x4f1c67(0x20d)+_0x40aab3[_0x4f1c67(0x29e)]+_0x4f1c67(0x19d)),await this[_0x4f1c67(0x2e3)](_0x4f1c67(0x2f4),{'changes':_0x40aab3});}};async function init(){const _0x5f4101=a2_0x2acf6f;DataManager[_0x5f4101(0x230)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x5f4101(0x2b0)](_0x5f4101(0x281))[_0x5f4101(0x2f0)](_0x5f4101(0x212),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']()['then'](()=>{const _0x286912=_0x5f4101;showToast(_0x286912(0x28c),!![]);})[_0x5f4101(0x2c5)](_0x36df43=>{const _0x2b760d=_0x5f4101;showToast(_0x2b760d(0x24d),![]);});}function generateId(){const _0x281961=a2_0x2acf6f;return Date[_0x281961(0x1ee)]()['toString'](0x24)+Math['random']()[_0x281961(0x1bc)](0x24)[_0x281961(0x28a)](0x2,0x5);}function toggleSeriesInput(){const _0x1462c6=a2_0x2acf6f,_0x1437e8=document[_0x1462c6(0x2b0)](_0x1462c6(0x1cd))['checked'],_0x3bf408=document['getElementById'](_0x1462c6(0x237));_0x3bf408[_0x1462c6(0x1d6)][_0x1462c6(0x22c)]=_0x1437e8?_0x1462c6(0x2eb):_0x1462c6(0x2b1);const _0x344f4f=document[_0x1462c6(0x2b0)]('recurringOptionContainer');_0x344f4f['style'][_0x1462c6(0x295)]=_0x1437e8?'10px\x2010px\x200\x200':_0x1462c6(0x2e9);}function openAddSession(_0x1586e8){const _0x551554=a2_0x2acf6f;editingId=null,populateClientSelect(),document[_0x551554(0x2b0)](_0x551554(0x2ea))[_0x551554(0x1f9)]=_0x551554(0x26b),document['getElementById'](_0x551554(0x195))['style'][_0x551554(0x22c)]=_0x551554(0x2b1),document[_0x551554(0x2b0)](_0x551554(0x256))['style']['display']=_0x551554(0x2b1);const _0x5d3dda=document['getElementById'](_0x551554(0x263)),_0x548909=document['getElementById']('seriesCountContainer');_0x5d3dda[_0x551554(0x1d6)]['display']=_0x551554(0x1b0),_0x5d3dda[_0x551554(0x1d6)][_0x551554(0x295)]=_0x551554(0x2e9),document[_0x551554(0x2b0)](_0x551554(0x1cd))['checked']=![],document[_0x551554(0x2b0)](_0x551554(0x2ad))[_0x551554(0x21e)]=0x4,_0x548909[_0x551554(0x1d6)][_0x551554(0x22c)]=_0x551554(0x2b1),document['getElementById'](_0x551554(0x1c2))[_0x551554(0x21e)]=getLocalDateStr(_0x1586e8),updateDateDisplay();const _0x3860ba=_0x1586e8[_0x551554(0x235)]();document[_0x551554(0x2b0)](_0x551554(0x20b))['value']=String(_0x3860ba)[_0x551554(0x216)](0x2,'0')+':00',document[_0x551554(0x2b0)](_0x551554(0x2a5))[_0x551554(0x21e)]=String(_0x3860ba+0x1)[_0x551554(0x216)](0x2,'0')+_0x551554(0x240),openSheet(_0x551554(0x23e));}function openEdit(_0x48a8e0){const _0x1e0292=a2_0x2acf6f;editingId=_0x48a8e0['id'],populateClientSelect(),document[_0x1e0292(0x2b0)]('sheetTitle')[_0x1e0292(0x1f9)]=_0x1e0292(0x1ab),document[_0x1e0292(0x2b0)](_0x1e0292(0x195))[_0x1e0292(0x1d6)][_0x1e0292(0x22c)]=_0x1e0292(0x2eb);const _0x3ba462=document[_0x1e0292(0x2b0)](_0x1e0292(0x256));_0x3ba462['style'][_0x1e0292(0x22c)]=_0x1e0292(0x1b0);_0x48a8e0['status']===_0x1e0292(0x1d7)?(_0x3ba462[_0x1e0292(0x1be)]=_0x1e0292(0x292),_0x3ba462[_0x1e0292(0x1d9)]='–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ'):(_0x3ba462[_0x1e0292(0x1be)]=_0x1e0292(0x2a1),_0x3ba462['innerHTML']='<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É');const _0x1c86ac=!!_0x48a8e0[_0x1e0292(0x1a0)];document[_0x1e0292(0x2b0)](_0x1e0292(0x263))['style'][_0x1e0292(0x22c)]=_0x1e0292(0x2b1),document[_0x1e0292(0x2b0)](_0x1e0292(0x237))['style'][_0x1e0292(0x22c)]=_0x1e0292(0x2b1),_0x1c86ac?(document[_0x1e0292(0x2b0)](_0x1e0292(0x2e8))[_0x1e0292(0x1d6)][_0x1e0292(0x22c)]=_0x1e0292(0x1b0),document[_0x1e0292(0x2b0)](_0x1e0292(0x2e8))['querySelector'](_0x1e0292(0x1b8))[_0x1e0292(0x1f9)]=_0x1e0292(0x28b)):document[_0x1e0292(0x2b0)](_0x1e0292(0x2e8))[_0x1e0292(0x1d6)][_0x1e0292(0x22c)]=_0x1e0292(0x2b1),document['getElementById']('inpClient')[_0x1e0292(0x21e)]=_0x48a8e0['client'],document[_0x1e0292(0x2b0)](_0x1e0292(0x1c2))[_0x1e0292(0x21e)]=_0x48a8e0[_0x1e0292(0x2df)],document[_0x1e0292(0x2b0)](_0x1e0292(0x20b))[_0x1e0292(0x21e)]=_0x48a8e0['start'],document[_0x1e0292(0x2b0)](_0x1e0292(0x2a5))[_0x1e0292(0x21e)]=_0x48a8e0[_0x1e0292(0x2ce)],document['getElementById'](_0x1e0292(0x2e6))[_0x1e0292(0x21e)]=_0x48a8e0[_0x1e0292(0x247)]||'',updateDateDisplay(),openSheet(_0x1e0292(0x23e));}async function trySaveSession(){const _0xdfc243=a2_0x2acf6f,_0x227c6f=document[_0xdfc243(0x2b0)](_0xdfc243(0x21f))['value'],_0x1ebc40=document['getElementById']('inpDate')[_0xdfc243(0x21e)],_0x3e0634=document['getElementById']('inpStart')[_0xdfc243(0x21e)],_0x1f6765=document['getElementById'](_0xdfc243(0x2a5))[_0xdfc243(0x21e)],_0x283fef=document[_0xdfc243(0x2b0)](_0xdfc243(0x2e6))[_0xdfc243(0x21e)],_0xa407fd=document['getElementById'](_0xdfc243(0x1cd))[_0xdfc243(0x24b)];let _0x58a800=0x4;if(_0xa407fd){const _0x7a9ebb=parseInt(document[_0xdfc243(0x2b0)]('inpSeriesCount')['value']);if(!_0x7a9ebb||_0x7a9ebb<0x2){showToast(_0xdfc243(0x2bc),![]);return;}if(_0x7a9ebb>0x64){showToast(_0xdfc243(0x1dc),![]);return;}_0x58a800=_0x7a9ebb;}const _0x2cdb82=clients[_0xdfc243(0x2b3)](_0x1e293a=>_0x1e293a[_0xdfc243(0x1a1)]===_0x227c6f);if(!_0x2cdb82){showToast('–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞',![]);return;}const _0x569ee9=validateAppointment(_0x1ebc40,_0x3e0634,_0x1f6765,editingId,_0x2cdb82['id']);if(!_0x569ee9['valid']){showToast(_0x569ee9[_0xdfc243(0x1c9)],![]);return;}_0x569ee9[_0xdfc243(0x1bb)]&&showToast(_0x569ee9['warning'],![]);const _0x345ff1={'client':_0x227c6f,'clientId':_0x2cdb82['id'],'start':_0x3e0634,'end':_0x1f6765,'note':_0x283fef,'status':_0xdfc243(0x2bd)},_0x25bead=editingId?sessions[_0xdfc243(0x2b3)](_0x25efb4=>_0x25efb4['id']===editingId):null;if(_0x25bead&&_0x25bead[_0xdfc243(0x1a0)]){tempSessionData={..._0x345ff1,'dateStr':_0x1ebc40,'id':editingId,'seriesId':_0x25bead[_0xdfc243(0x1a0)]},openActionSheet(_0xdfc243(0x1a8));return;}let _0x49792e=null;if(!editingId)_0x49792e=_0xdfc243(0x229);else{if(_0x25bead){if(String(_0x25bead['clientId'])!==String(_0x2cdb82['id']))console['log'](_0xdfc243(0x1f7)),NotificationManager['send'](_0xdfc243(0x296),_0x25bead),_0x49792e='create';else(_0x25bead[_0xdfc243(0x252)]!==_0x3e0634||_0x25bead[_0xdfc243(0x2ce)]!==_0x1f6765||_0x25bead['dateStr']!==_0x1ebc40)&&(_0x49792e='update');}}if(!editingId&&_0xa407fd){createBatchSeries(_0x345ff1,_0x1ebc40,_0x58a800),NotificationManager['send'](_0xdfc243(0x229),{..._0x345ff1,'dateStr':_0x1ebc40});return;}lastUserActionTime=Date['now']();const _0x3694a6={..._0x345ff1,'dateStr':_0x1ebc40,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x3694a6),_0x49792e&&NotificationManager[_0xdfc243(0x1f5)](_0x49792e,_0x3694a6);}function toggleSessionStatus(){const _0x50499f=a2_0x2acf6f;lastUserActionTime=Date[_0x50499f(0x1ee)]();const _0x4c7b3b=sessions['find'](_0x38f938=>_0x38f938['id']===editingId);if(!_0x4c7b3b)return;const _0xa63fa1=_0x4c7b3b[_0x50499f(0x2c6)]==='completed'?_0x50499f(0x2bd):'completed';_0x4c7b3b[_0x50499f(0x2c6)]=_0xa63fa1,saveSingleSession(_0x4c7b3b),_0xa63fa1===_0x50499f(0x1d7)&&NotificationManager['send'](_0x50499f(0x20a),_0x4c7b3b),showToast(_0xa63fa1===_0x50499f(0x1d7)?_0x50499f(0x203):_0x50499f(0x2ac),!![]);}function validateAppointment(_0x518c19,_0x1ed82c,_0x2d18c2,_0x38e84a,_0x555b5b){const _0x59b1b6=a2_0x2acf6f,[_0x3ad749,_0x4da259]=_0x1ed82c['split'](':')[_0x59b1b6(0x26e)](Number),[_0x2161d0,_0x4e756c]=_0x2d18c2['split'](':')[_0x59b1b6(0x26e)](Number),_0x2db408=_0x3ad749*0x3c+_0x4da259,_0xeb8ba0=_0x2161d0*0x3c+_0x4e756c,_0x2bc703=String(_0x555b5b);let _0x3b63f6=![],_0x19bba3='';for(let _0x78f5c8 of sessions){if(_0x78f5c8['dateStr']!==_0x518c19)continue;if(_0x78f5c8[_0x59b1b6(0x2c6)]===_0x59b1b6(0x2c4))continue;if(_0x38e84a&&String(_0x78f5c8['id'])===String(_0x38e84a))continue;const [_0x32afdb,_0x3b327a]=_0x78f5c8[_0x59b1b6(0x252)][_0x59b1b6(0x201)](':')['map'](Number),[_0x37746a,_0x28fc1c]=_0x78f5c8[_0x59b1b6(0x2ce)][_0x59b1b6(0x201)](':')[_0x59b1b6(0x26e)](Number),_0x1a185c=_0x32afdb*0x3c+_0x3b327a,_0x4999a8=_0x37746a*0x3c+_0x28fc1c;if(Math['max'](_0x2db408,_0x1a185c)<Math[_0x59b1b6(0x188)](_0xeb8ba0,_0x4999a8)){if(_0x78f5c8[_0x59b1b6(0x268)]&&String(_0x78f5c8[_0x59b1b6(0x268)])===_0x2bc703)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0x78f5c8[_0x59b1b6(0x290)]+_0x59b1b6(0x2d0)};_0x3b63f6=!![],_0x19bba3=_0x78f5c8[_0x59b1b6(0x290)];}}if(_0x3b63f6)return{'valid':!![],'warning':_0x59b1b6(0x257)+_0x19bba3};return{'valid':!![]};}function saveSingleSession(_0xb48dfd){const _0xfa926d=a2_0x2acf6f;if(editingId){const _0x31ce7b=sessions[_0xfa926d(0x23b)](_0x323b4d=>_0x323b4d['id']===editingId);if(_0x31ce7b!==-0x1)sessions[_0x31ce7b]=_0xb48dfd;}else sessions['push'](_0xb48dfd);afterSaveAction([_0xb48dfd['dateStr']]);}function createBatchSeries(_0x5784d5,_0x3a9c06,_0x2e2061){const _0x314023=a2_0x2acf6f,_0x5be05a=generateId(),_0x563083=[],_0x5b065e=[];let _0x2e22ae=0x0,_0x2293d9=new Date(_0x3a9c06);for(let _0x4a9f45=0x0;_0x4a9f45<_0x2e2061;_0x4a9f45++){const _0x188bc8=getLocalDateStr(_0x2293d9),_0x2ceed8=validateAppointment(_0x188bc8,_0x5784d5[_0x314023(0x252)],_0x5784d5[_0x314023(0x2ce)],null,_0x5784d5[_0x314023(0x268)]);if(!_0x2ceed8[_0x314023(0x25f)])console[_0x314023(0x2f7)](_0x314023(0x2cf)+_0x188bc8+':\x20Client\x20already\x20booked'),_0x2e22ae++;else{const _0x205470={..._0x5784d5,'id':generateId(),'dateStr':_0x188bc8,'seriesId':_0x5be05a};_0x5b065e[_0x314023(0x21b)](_0x205470),_0x563083[_0x314023(0x21b)](_0x188bc8);}_0x2293d9[_0x314023(0x284)](_0x2293d9['getDate']()+0x7);}if(_0x5b065e[_0x314023(0x29e)]===0x0){showToast('–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!',![]);return;}sessions[_0x314023(0x21b)](..._0x5b065e),lastUserActionTime=Date['now']();let _0x144cae='–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20'+_0x5b065e[_0x314023(0x29e)];_0x2e22ae>0x0&&(_0x144cae+=_0x314023(0x1e7)+_0x2e22ae+')'),showToast(_0x144cae,!![]),afterSaveAction(_0x563083);}function updateSeriesBatch(_0x4492c4,_0x12efe5){const _0x1b74d0=a2_0x2acf6f,_0x320291=[],_0x16021a=_0x12efe5[_0x1b74d0(0x1a0)];if(_0x4492c4===_0x1b74d0(0x2db)){const _0x4306b2={..._0x12efe5,'seriesId':null},_0x68c668=sessions['findIndex'](_0x2331fe=>_0x2331fe['id']===_0x12efe5['id']);if(_0x68c668!==-0x1)sessions[_0x68c668]=_0x4306b2;_0x320291['push'](_0x4306b2[_0x1b74d0(0x2df)]);}else{if(_0x4492c4===_0x1b74d0(0x1f3)){const _0x50eb4b=_0x12efe5[_0x1b74d0(0x2df)];sessions[_0x1b74d0(0x2bb)]((_0x1b0d5e,_0x3d34f9)=>{const _0x214f32=_0x1b74d0;_0x1b0d5e['seriesId']===_0x16021a&&_0x1b0d5e[_0x214f32(0x2df)]>=_0x50eb4b&&(sessions[_0x3d34f9]={...sessions[_0x3d34f9],'start':_0x12efe5[_0x214f32(0x252)],'end':_0x12efe5[_0x214f32(0x2ce)],'note':_0x12efe5[_0x214f32(0x247)],'client':_0x12efe5['client'],'clientId':_0x12efe5['clientId']},_0x320291[_0x214f32(0x21b)](_0x1b0d5e[_0x214f32(0x2df)]));});}}afterSaveAction(_0x320291);}function tryDeleteSession(){const _0x4655d7=a2_0x2acf6f,_0x148021=sessions['find'](_0x411b70=>_0x411b70['id']===editingId);if(!_0x148021)return;_0x148021['seriesId']?openActionSheet(_0x4655d7(0x264)):commitDelete('single',_0x148021);}function commitDelete(_0x31b06d,_0x49ff5c){const _0x4862b5=a2_0x2acf6f;lastUserActionTime=Date[_0x4862b5(0x1ee)](),NotificationManager[_0x4862b5(0x1f5)](_0x4862b5(0x296),_0x49ff5c);const _0x57f75f=[];if(_0x31b06d===_0x4862b5(0x2db))sessions=sessions['filter'](_0x334a18=>_0x334a18['id']!==_0x49ff5c['id']),_0x57f75f[_0x4862b5(0x21b)](_0x49ff5c[_0x4862b5(0x2df)]);else{if(_0x31b06d===_0x4862b5(0x1f3)){const _0x2b0da3=_0x49ff5c['dateStr'],_0x20439c=_0x49ff5c[_0x4862b5(0x1a0)];sessions['forEach'](_0x1e92cf=>{const _0x51a945=_0x4862b5;_0x1e92cf[_0x51a945(0x1a0)]===_0x20439c&&_0x1e92cf[_0x51a945(0x2df)]>=_0x2b0da3&&_0x57f75f[_0x51a945(0x21b)](_0x1e92cf['dateStr']);}),sessions=sessions[_0x4862b5(0x1fe)](_0x355b20=>!(_0x355b20[_0x4862b5(0x1a0)]===_0x20439c&&_0x355b20[_0x4862b5(0x2df)]>=_0x2b0da3));}}afterSaveAction(_0x57f75f);}function afterSaveAction(_0x142d2c){const _0x45e700=a2_0x2acf6f;DataManager[_0x45e700(0x287)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x45e700(0x19c)](_0x142d2c)[_0x45e700(0x1eb)](()=>console[_0x45e700(0x2f7)](_0x45e700(0x206)))['catch'](_0x587a8f=>showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ',![]));}const NotificationManager={'formatDate'(_0x3c4333){const _0x3738b8=a2_0x2acf6f,_0xc3742=new Date(_0x3c4333),_0x272566={'weekday':_0x3738b8(0x1e4),'day':_0x3738b8(0x211),'month':_0x3738b8(0x1e4)};let _0x58889b=_0xc3742[_0x3738b8(0x27f)](_0x3738b8(0x29a),_0x272566);return _0x58889b[_0x3738b8(0x259)](0x0)[_0x3738b8(0x197)]()+_0x58889b[_0x3738b8(0x297)](0x1);},'getText'(_0x10205c,_0x47eef9){const _0x181709=a2_0x2acf6f,_0x47fb7b=this[_0x181709(0x2e2)](_0x47eef9[_0x181709(0x2df)]);switch(_0x10205c){case _0x181709(0x229):return _0x181709(0x26f)+(_0x181709(0x27d)+_0x47fb7b+'\x0a')+('<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20'+_0x47eef9[_0x181709(0x252)]+_0x181709(0x25a)+_0x47eef9[_0x181709(0x2ce)]+'\x0a\x0a')+_0x181709(0x293);case _0x181709(0x1a2):return _0x181709(0x241)+_0x181709(0x1b5)+('<b>‚úÖ\x20'+_0x47eef9[_0x181709(0x252)]+_0x181709(0x25a)+_0x47eef9[_0x181709(0x2ce)]+'</b>\x0a\x0a')+(_0x181709(0x27d)+_0x47fb7b);case _0x181709(0x296):return _0x181709(0x250)+('–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>'+_0x47fb7b+'\x20('+_0x47eef9[_0x181709(0x252)]+_0x181709(0x1e6));case'complete':return'<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a'+'–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a'+_0x181709(0x2ab);default:return'';}},async 'send'(_0x140df8,_0x573496){const _0xe09d84=a2_0x2acf6f;console['log'](_0xe09d84(0x1aa),_0x140df8,_0x573496);if(!_0x573496){console[_0xe09d84(0x19b)](_0xe09d84(0x1ff));return;}const _0x404f56=String(_0x573496[_0xe09d84(0x268)]);console['log']('[Notify]\x20Detected\x20Client\x20ID:',_0x404f56);if(!_0x573496['clientId']||_0x404f56===_0xe09d84(0x1ad)||_0x404f56===_0xe09d84(0x2ee)){console[_0xe09d84(0x19b)](_0xe09d84(0x1c0));if(_0x573496[_0xe09d84(0x290)]){const _0x2ba3b8=clients[_0xe09d84(0x2b3)](_0x2a898f=>_0x2a898f[_0xe09d84(0x1a1)]===_0x573496[_0xe09d84(0x290)]);if(_0x2ba3b8)return console['log']('[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:',_0x2ba3b8['id']),this[_0xe09d84(0x1f5)](_0x140df8,{..._0x573496,'clientId':_0x2ba3b8['id']});}return;}if(_0x404f56[_0xe09d84(0x29e)]<0x5){console['warn']('[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)',_0x404f56);return;}const _0x432698=this[_0xe09d84(0x29b)](_0x140df8,_0x573496);if(!_0x432698){console[_0xe09d84(0x19b)](_0xe09d84(0x182));return;}console[_0xe09d84(0x2f7)](_0xe09d84(0x1ac)+_0x404f56+_0xe09d84(0x2cb)),DataManager[_0xe09d84(0x2e3)](_0xe09d84(0x208),{'chatId':_0x404f56,'text':_0x432698})[_0xe09d84(0x1eb)](_0x185c4e=>console[_0xe09d84(0x2f7)](_0xe09d84(0x1c6),_0x185c4e))['catch'](_0x491ea4=>console[_0xe09d84(0x19b)](_0xe09d84(0x243),_0x491ea4));}};function getLocalDateStr(_0xcd034c){const _0x2e09d3=a2_0x2acf6f,_0x3c3803=_0xcd034c[_0x2e09d3(0x1cb)](),_0x543a65=String(_0xcd034c['getMonth']()+0x1)[_0x2e09d3(0x216)](0x2,'0'),_0x14e1e1=String(_0xcd034c['getDate']())['padStart'](0x2,'0');return _0x3c3803+'-'+_0x543a65+'-'+_0x14e1e1;}function getDateStr(_0x546c8a){const _0x44d542=a2_0x2acf6f,_0x135ed7=new Date();return _0x135ed7[_0x44d542(0x284)](_0x135ed7[_0x44d542(0x2b9)]()+_0x546c8a),getLocalDateStr(_0x135ed7);}function getStartOfWeek(_0x573447){const _0x4427a6=a2_0x2acf6f,_0x4e611f=(function(){let _0x1ae4c7=!![];return function(_0x3aa627,_0x505679){const _0x5f1493=_0x1ae4c7?function(){const _0x12d26a=a2_0x6885;if(_0x505679){const _0x29cad9=_0x505679[_0x12d26a(0x2be)](_0x3aa627,arguments);return _0x505679=null,_0x29cad9;}}:function(){};return _0x1ae4c7=![],_0x5f1493;};}()),_0xf3a4dc=_0x4e611f(this,function(){const _0x58546a=a2_0x6885;return _0xf3a4dc[_0x58546a(0x1bc)]()[_0x58546a(0x218)](_0x58546a(0x20c))['toString']()['constructor'](_0xf3a4dc)['search'](_0x58546a(0x20c));});_0xf3a4dc();const _0x385512=new Date(_0x573447),_0x29b3ff=_0x385512[_0x4427a6(0x1d3)](),_0x25335e=_0x385512[_0x4427a6(0x2b9)]()-_0x29b3ff+(_0x29b3ff===0x0?-0x6:0x1);return _0x385512[_0x4427a6(0x284)](_0x25335e),_0x385512[_0x4427a6(0x1b9)](0x0,0x0,0x0,0x0),_0x385512;}function hexToRgba(_0x177e99,_0x12a9f7){const _0x2aa5fc=a2_0x2acf6f;if(!_0x177e99)return _0x2aa5fc(0x192);let _0x383179=0x0,_0x54ea25=0x0,_0x5d35e6=0x0;if(_0x177e99[_0x2aa5fc(0x29e)]===0x4)_0x383179='0x'+_0x177e99[0x1]+_0x177e99[0x1],_0x54ea25='0x'+_0x177e99[0x2]+_0x177e99[0x2],_0x5d35e6='0x'+_0x177e99[0x3]+_0x177e99[0x3];else _0x177e99[_0x2aa5fc(0x29e)]===0x7&&(_0x383179='0x'+_0x177e99[0x1]+_0x177e99[0x2],_0x54ea25='0x'+_0x177e99[0x3]+_0x177e99[0x4],_0x5d35e6='0x'+_0x177e99[0x5]+_0x177e99[0x6]);return _0x2aa5fc(0x1e0)+ +_0x383179+',\x20'+ +_0x54ea25+',\x20'+ +_0x5d35e6+',\x20'+_0x12a9f7+')';}function renderTimeColumn(){const _0x13aa7d=a2_0x2acf6f,_0x366d76=document['getElementById'](_0x13aa7d(0x1bd)),_0x4aa6db=document[_0x13aa7d(0x2b0)](_0x13aa7d(0x26c));_0x366d76['innerHTML']='',_0x366d76[_0x13aa7d(0x22b)](_0x4aa6db);for(let _0x58cf46=0x0;_0x58cf46<0x18;_0x58cf46++){const _0x1decb5=document[_0x13aa7d(0x1c8)](_0x13aa7d(0x1a6));_0x1decb5[_0x13aa7d(0x1be)]='time-label';if(_0x58cf46>0x0)_0x1decb5['innerHTML']=_0x13aa7d(0x2d9)+String(_0x58cf46)[_0x13aa7d(0x216)](0x2,'0')+_0x13aa7d(0x22a);_0x366d76['appendChild'](_0x1decb5);}}function renderDayRange(_0x39cb37,_0x4c566f){const _0x540476=a2_0x2acf6f,_0x472e6b=document[_0x540476(0x2b0)](_0x540476(0x1f4)),_0x5ae31f=document[_0x540476(0x2b0)]('gridColumns'),_0x374e6a=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x5695d8=new Date();_0x5695d8['setHours'](0x0,0x0,0x0,0x0);const _0x5203b8=getLocalDateStr(new Date());for(let _0x316522=_0x39cb37;_0x316522<=_0x4c566f;_0x316522++){const _0x2d2449=new Date(_0x5695d8);_0x2d2449[_0x540476(0x284)](_0x2d2449[_0x540476(0x2b9)]()+_0x316522);const _0xc5d8a8=getLocalDateStr(_0x2d2449);let _0x56214a=_0x2d2449[_0x540476(0x1d3)]()-0x1;if(_0x56214a===-0x1)_0x56214a=0x6;const _0xa89b88=_0xc5d8a8===_0x5203b8,_0x3efca0=document[_0x540476(0x1c8)](_0x540476(0x1a6));_0x3efca0[_0x540476(0x1be)]=_0x540476(0x270)+(_0xa89b88?_0x540476(0x19e):''),_0x3efca0['id']=_0x540476(0x24e)+_0xc5d8a8,_0x3efca0['setAttribute'](_0x540476(0x190),_0xc5d8a8),_0x3efca0[_0x540476(0x1d9)]=_0x540476(0x2c8)+_0x374e6a[_0x56214a]+'</div><div\x20class=\x22dch-num\x22>'+_0x2d2449[_0x540476(0x2b9)]()+_0x540476(0x234)+_0xc5d8a8+_0x540476(0x280),_0x3efca0[_0x540476(0x2b8)]=()=>openDayOptions(_0xc5d8a8,_0x374e6a[_0x56214a]+'\x20'+_0x2d2449[_0x540476(0x2b9)]()),_0x472e6b[_0x540476(0x22b)](_0x3efca0);const _0x5487c9=document['createElement'](_0x540476(0x1a6));_0x5487c9[_0x540476(0x1be)]='day-column\x20'+(_0xa89b88?_0x540476(0x19e):''),_0x5487c9[_0x540476(0x1ca)](_0x540476(0x190),_0xc5d8a8),_0x5487c9[_0x540476(0x1ca)](_0x540476(0x271),_0x56214a),renderEventsForColumn(_0x5487c9,_0xc5d8a8,_0x56214a),attachLongPressHandler(_0x5487c9,_0x2d2449),_0x5ae31f[_0x540476(0x22b)](_0x5487c9),updateDayStats(_0xc5d8a8);}}function reRenderBlocks(){const _0x517b94=a2_0x2acf6f;document[_0x517b94(0x2a9)](_0x517b94(0x184))['forEach'](_0x619641=>{const _0x4b4393=_0x517b94;_0x619641[_0x4b4393(0x2a9)](_0x4b4393(0x25d))[_0x4b4393(0x2bb)](_0x73f9c3=>_0x73f9c3[_0x4b4393(0x198)]());const _0x57b077=_0x619641[_0x4b4393(0x23c)](_0x4b4393(0x190)),_0x4fef44=parseInt(_0x619641['getAttribute'](_0x4b4393(0x271))),_0x413b7b=Math[_0x4b4393(0x1c7)](_0x619641[_0x4b4393(0x255)]);(availabilityPattern[_0x4fef44]||[])[_0x4b4393(0x2bb)](_0x204371=>{const _0x7caab4=_0x4b4393,_0xc05f05=document[_0x7caab4(0x1c8)](_0x7caab4(0x1a6));_0xc05f05[_0x7caab4(0x1be)]=_0x7caab4(0x299);const _0x33e281=_0x204371*GRID_H;_0xc05f05['style'][_0x7caab4(0x2fb)]=_0x33e281+'px',_0xc05f05['style'][_0x7caab4(0x225)]='-'+_0x413b7b+_0x7caab4(0x2a7)+_0x33e281+'px',_0x619641['appendChild'](_0xc05f05);});if(specialRanges&&specialRanges[_0x4b4393(0x29e)]>0x0){const _0x1fcadf=new Date(_0x57b077+_0x4b4393(0x1e1))[_0x4b4393(0x23d)](),_0x3be565=new Date(_0x57b077+_0x4b4393(0x285))[_0x4b4393(0x23d)]();specialRanges[_0x4b4393(0x2bb)](_0x15b6db=>{const _0x49a6bf=_0x4b4393,_0x5ec406=new Date(_0x15b6db[_0x49a6bf(0x252)])[_0x49a6bf(0x23d)](),_0x1ded6e=new Date(_0x15b6db[_0x49a6bf(0x2ce)])['getTime'](),_0x2e8bae=Math[_0x49a6bf(0x28f)](_0x1fcadf,_0x5ec406),_0x3387b5=Math[_0x49a6bf(0x188)](_0x3be565,_0x1ded6e);if(_0x2e8bae<_0x3387b5){if(_0x2e8bae<=_0x1fcadf&&_0x3387b5>=_0x3be565-0xea60){if(!_0x619641[_0x49a6bf(0x2b5)]('.day-off-overlay')){const _0x10913b=document[_0x49a6bf(0x1c8)]('div');_0x10913b[_0x49a6bf(0x1be)]='day-off-overlay\x20stripe-bg',_0x10913b[_0x49a6bf(0x1d6)]['backgroundPosition']='-'+_0x413b7b+_0x49a6bf(0x239),_0x619641['appendChild'](_0x10913b);}}else{const _0x509d7d=(_0x2e8bae-_0x1fcadf)/0x36ee80*GRID_H,_0x151926=(_0x3387b5-_0x2e8bae)/0x36ee80*GRID_H,_0x5a0cef=document['createElement'](_0x49a6bf(0x1a6));_0x5a0cef[_0x49a6bf(0x1be)]='blocked-range-part\x20stripe-bg',_0x5a0cef[_0x49a6bf(0x1d6)]['top']=_0x509d7d+'px',_0x5a0cef[_0x49a6bf(0x1d6)][_0x49a6bf(0x242)]=_0x151926+'px',_0x5a0cef[_0x49a6bf(0x1d6)][_0x49a6bf(0x225)]='-'+_0x413b7b+_0x49a6bf(0x2a7)+_0x509d7d+'px',_0x619641[_0x49a6bf(0x22b)](_0x5a0cef);}}});}if(dateExceptions[_0x57b077]===_0x4b4393(0x183)){if(!_0x619641[_0x4b4393(0x2b5)]('.day-off-overlay')){const _0x1d889e=document[_0x4b4393(0x1c8)](_0x4b4393(0x1a6));_0x1d889e[_0x4b4393(0x1be)]=_0x4b4393(0x1a9),_0x1d889e['style'][_0x4b4393(0x225)]='-'+_0x413b7b+_0x4b4393(0x239),_0x619641[_0x4b4393(0x22b)](_0x1d889e);}}renderEventsForColumn(_0x619641,_0x57b077,_0x4fef44),updateDayStats(_0x57b077);});}function updateAllDayStats(){const _0x10b5a7=a2_0x2acf6f;document[_0x10b5a7(0x2a9)](_0x10b5a7(0x2c9))[_0x10b5a7(0x2bb)](_0x5912c7=>{const _0x4369aa=_0x10b5a7;updateDayStats(_0x5912c7[_0x4369aa(0x23c)](_0x4369aa(0x190)));});}function updateDayStats(_0x6bc827){const _0xff6ddf=a2_0x2acf6f,_0x2745fb=document['getElementById'](_0xff6ddf(0x1f1)+_0x6bc827);if(!_0x2745fb)return;const _0x493a0c=new Date(_0x6bc827);let _0x38c5bf=_0x493a0c[_0xff6ddf(0x1d3)]()-0x1;if(_0x38c5bf===-0x1)_0x38c5bf=0x6;if(dateExceptions[_0x6bc827]===_0xff6ddf(0x183)){_0x2745fb[_0xff6ddf(0x1d6)]['display']='none';return;}const _0xad2045=availabilityPattern[_0x38c5bf]||[],_0x879c93=0x18-_0xad2045['length'],_0x18fe22=_0x879c93*0x3c,_0x3b9ee5=sessions[_0xff6ddf(0x1fe)](_0x3b3002=>_0x3b3002[_0xff6ddf(0x2df)]===_0x6bc827&&_0x3b3002[_0xff6ddf(0x2c6)]!==_0xff6ddf(0x2c4));if(_0x3b9ee5[_0xff6ddf(0x29e)]===0x0){_0x2745fb['style']['display']=_0xff6ddf(0x2b1);return;}let _0x1a61a6=_0x3b9ee5[_0xff6ddf(0x26e)](_0x560891=>{const _0x5cd9aa=_0xff6ddf,[_0x24872b,_0xb34b39]=_0x560891[_0x5cd9aa(0x252)][_0x5cd9aa(0x201)](':')['map'](Number),[_0x12222b,_0x5ec8d2]=_0x560891[_0x5cd9aa(0x2ce)][_0x5cd9aa(0x201)](':')['map'](Number);return[_0x24872b*0x3c+_0xb34b39,_0x12222b*0x3c+_0x5ec8d2];});_0x1a61a6[_0xff6ddf(0x277)]((_0x4c99b0,_0xebc857)=>_0x4c99b0[0x0]-_0xebc857[0x0]);let _0xdda8b9=[];if(_0x1a61a6[_0xff6ddf(0x29e)]>0x0){let _0x3138a5=_0x1a61a6[0x0];for(let _0x3373c5=0x1;_0x3373c5<_0x1a61a6[_0xff6ddf(0x29e)];_0x3373c5++){_0x1a61a6[_0x3373c5][0x0]<_0x3138a5[0x1]?_0x3138a5[0x1]=Math['max'](_0x3138a5[0x1],_0x1a61a6[_0x3373c5][0x1]):(_0xdda8b9[_0xff6ddf(0x21b)](_0x3138a5),_0x3138a5=_0x1a61a6[_0x3373c5]);}_0xdda8b9[_0xff6ddf(0x21b)](_0x3138a5);}let _0x31e58c=0x0;_0xdda8b9[_0xff6ddf(0x2bb)](_0xe52940=>_0x31e58c+=_0xe52940[0x1]-_0xe52940[0x0]),_0x2745fb[_0xff6ddf(0x1d6)][_0xff6ddf(0x22c)]=_0xff6ddf(0x1b0);const _0xe70dab=_0x2745fb[_0xff6ddf(0x2b5)](_0xff6ddf(0x1ae));if(_0x18fe22===0x0){_0xe70dab[_0xff6ddf(0x1d6)][_0xff6ddf(0x291)]='100%',_0xe70dab['style'][_0xff6ddf(0x1d4)]=_0xff6ddf(0x267);return;}const _0xea0bd0=_0x31e58c/_0x18fe22*0x64;console[_0xff6ddf(0x2f7)]('['+_0x6bc827+_0xff6ddf(0x1c4)+_0x879c93+_0xff6ddf(0x254)+_0x31e58c+'–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20'+_0xea0bd0['toFixed'](0x1)+'%'),_0xea0bd0>0x64?(_0xe70dab[_0xff6ddf(0x1d6)][_0xff6ddf(0x291)]='100%',_0xe70dab['style']['background']=_0xff6ddf(0x267)):(_0xe70dab['style'][_0xff6ddf(0x291)]=_0xea0bd0+'%',_0xe70dab[_0xff6ddf(0x1d6)]['background']=_0xff6ddf(0x1da));}function renderEventsForColumn(_0x3e11d9,_0xefde82,_0x5e803c){const _0x357eb3=a2_0x2acf6f,_0x409f0e=sessions[_0x357eb3(0x1fe)](_0x21d074=>_0x21d074[_0x357eb3(0x2df)]===_0xefde82),_0x202f14=_0x409f0e[_0x357eb3(0x26e)](_0x13b6b3=>{const _0x579caa=_0x357eb3,[_0x364fbc,_0xd28a57]=_0x13b6b3[_0x579caa(0x252)]['split'](':')[_0x579caa(0x26e)](Number),[_0x54b766,_0x16c3ee]=_0x13b6b3[_0x579caa(0x2ce)][_0x579caa(0x201)](':')[_0x579caa(0x26e)](Number);return{'data':_0x13b6b3,'start':_0x364fbc*0x3c+_0xd28a57,'end':_0x54b766*0x3c+_0x16c3ee,'colIndex':0x0};});_0x202f14[_0x357eb3(0x277)]((_0x2fb189,_0x4ee70d)=>{const _0x263a97=_0x357eb3;if(_0x2fb189[_0x263a97(0x252)]!==_0x4ee70d[_0x263a97(0x252)])return _0x2fb189[_0x263a97(0x252)]-_0x4ee70d['start'];return _0x4ee70d[_0x263a97(0x2ce)]-_0x4ee70d[_0x263a97(0x252)]-(_0x2fb189[_0x263a97(0x2ce)]-_0x2fb189[_0x263a97(0x252)]);});const _0x1150c3=[];_0x202f14[_0x357eb3(0x2bb)](_0x1bb57d=>{const _0x546b77=_0x357eb3;let _0xe849f2=![];for(let _0x28efb3=0x0;_0x28efb3<_0x1150c3[_0x546b77(0x29e)];_0x28efb3++){const _0x55c840=_0x1150c3[_0x28efb3],_0x4d23f8=_0x55c840[_0x55c840[_0x546b77(0x29e)]-0x1];if(_0x1bb57d[_0x546b77(0x252)]>=_0x4d23f8[_0x546b77(0x2ce)]){_0x55c840[_0x546b77(0x21b)](_0x1bb57d),_0x1bb57d[_0x546b77(0x1f2)]=_0x28efb3,_0xe849f2=!![];break;}}!_0xe849f2&&(_0x1150c3[_0x546b77(0x21b)]([_0x1bb57d]),_0x1bb57d['colIndex']=_0x1150c3[_0x546b77(0x29e)]-0x1);}),_0x202f14[_0x357eb3(0x2bb)](_0x13487=>{const _0x48276b=_0x357eb3;let _0x363d3c=0x0;_0x202f14[_0x48276b(0x2bb)](_0x53a604=>{const _0x2ccd36=_0x48276b;if(Math[_0x2ccd36(0x28f)](_0x13487['start'],_0x53a604[_0x2ccd36(0x252)])<Math['min'](_0x13487[_0x2ccd36(0x2ce)],_0x53a604[_0x2ccd36(0x2ce)])){if(_0x53a604[_0x2ccd36(0x1f2)]>_0x363d3c)_0x363d3c=_0x53a604[_0x2ccd36(0x1f2)];}});const _0x596439=_0x363d3c+0x1,_0xaf28d6=0x64/_0x596439,_0x2e7f66=_0x13487['colIndex']*_0xaf28d6,_0x52723b=createEventEl(_0x13487[_0x48276b(0x278)]);_0x52723b[_0x48276b(0x1d6)]['width']=_0x48276b(0x2b4)+_0xaf28d6+_0x48276b(0x21c),_0x52723b[_0x48276b(0x1d6)]['left']='calc('+_0x2e7f66+_0x48276b(0x2f9),_0x52723b[_0x48276b(0x1d6)][_0x48276b(0x21a)]=0xa+_0x13487['colIndex'],_0xaf28d6<0x55&&_0x52723b[_0x48276b(0x209)][_0x48276b(0x2da)](_0x48276b(0x232)),_0x3e11d9['appendChild'](_0x52723b);});}function createEventEl(_0x3970dc){const _0x25935a=a2_0x2acf6f,[_0xc4dcbd,_0x27a812]=_0x3970dc['start']['split'](':')[_0x25935a(0x26e)](Number),[_0x5a5096,_0x3d46cf]=_0x3970dc[_0x25935a(0x2ce)][_0x25935a(0x201)](':')[_0x25935a(0x26e)](Number),_0x18f8d7=(_0xc4dcbd*0x3c+_0x27a812)/0x3c*GRID_H,_0x251bf2=(_0x5a5096*0x3c+_0x3d46cf-(_0xc4dcbd*0x3c+_0x27a812))/0x3c*GRID_H,_0x47139b=document[_0x25935a(0x1c8)](_0x25935a(0x1a6)),_0x24cc3a=_0x3970dc[_0x25935a(0x2c6)]===_0x25935a(0x1d7)?_0x25935a(0x1c5):'';_0x47139b['className']='event-card'+_0x24cc3a,_0x47139b[_0x25935a(0x1d6)][_0x25935a(0x2fb)]=_0x18f8d7+'px',_0x47139b[_0x25935a(0x1d6)][_0x25935a(0x242)]=Math[_0x25935a(0x28f)](_0x251bf2,0x14)+'px';const _0x21744c=clients['find'](_0x324772=>_0x3970dc[_0x25935a(0x268)]&&String(_0x324772['id'])===String(_0x3970dc['clientId'])||_0x324772['name']===_0x3970dc[_0x25935a(0x290)]),_0x33cdb9=_0x21744c?_0x21744c[_0x25935a(0x1b3)]:'#0a84ff';_0x47139b[_0x25935a(0x1d6)]['borderLeftColor']=_0x33cdb9,_0x47139b[_0x25935a(0x1d6)][_0x25935a(0x2fc)]=hexToRgba(_0x33cdb9,0.85);let _0x271173='<div\x20class=\x22ev-title\x22>'+_0x3970dc['client']+'</div><div\x20class=\x22ev-time\x22>'+_0x3970dc['start']+_0x25935a(0x236)+_0x3970dc[_0x25935a(0x2ce)]+_0x25935a(0x2dd);return _0x3970dc[_0x25935a(0x1a0)]&&(_0x271173+=_0x25935a(0x214)),_0x3970dc[_0x25935a(0x2c6)]===_0x25935a(0x1d7)&&(_0x271173+=_0x25935a(0x1b6)),_0x47139b[_0x25935a(0x1d9)]=_0x271173,_0x47139b[_0x25935a(0x2b8)]=_0x17f2e6=>{const _0x1907e6=_0x25935a;_0x17f2e6[_0x1907e6(0x282)](),openEdit(_0x3970dc);},_0x47139b;}function attachLongPressHandler(_0x351e2a,_0x361330){const _0x561238=a2_0x2acf6f;let _0x595ce4=0x0,_0x59a03c=null;const _0x52ad53=_0x4113a6=>{const _0x1d4c23=a2_0x6885;if(_0x4113a6[_0x1d4c23(0x2a0)][_0x1d4c23(0x25c)](_0x1d4c23(0x1f6)))return;isScrolling=![],_0x595ce4=_0x4113a6['touches']?_0x4113a6[_0x1d4c23(0x2e7)][0x0][_0x1d4c23(0x210)]:_0x4113a6[_0x1d4c23(0x210)],_0x59a03c=setTimeout(()=>{const _0x794129=_0x1d4c23;if(!isScrolling){navigator[_0x794129(0x2a4)]?.(0x32);const _0x550e62=_0x351e2a[_0x794129(0x246)](),_0x40b45a=Math[_0x794129(0x2ec)]((_0x595ce4-_0x550e62['top'])/GRID_H);_0x361330[_0x794129(0x1b9)](_0x40b45a,0x0),openAddSession(_0x361330);}},0x1f4);},_0x5c8bdd=()=>{isScrolling=!![],clearTimeout(_0x59a03c);},_0x56de57=()=>{clearTimeout(_0x59a03c);};_0x351e2a[_0x561238(0x2f0)]('touchstart',_0x52ad53,{'passive':!![]}),_0x351e2a['addEventListener'](_0x561238(0x28e),_0x5c8bdd,{'passive':!![]}),_0x351e2a[_0x561238(0x2f0)](_0x561238(0x2e1),_0x56de57),_0x351e2a[_0x561238(0x2f0)](_0x561238(0x2d6),_0x52ad53),_0x351e2a[_0x561238(0x2f0)](_0x561238(0x261),_0x5c8bdd),_0x351e2a[_0x561238(0x2f0)]('mouseup',_0x56de57);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x2544e1=a2_0x2acf6f,_0x5f39f7=document['getElementById'](_0x2544e1(0x281)),_0x2b558b=_0x5f39f7['scrollLeft'],_0x4226ea=_0x5f39f7[_0x2544e1(0x24a)],_0xe2eb8a=_0x5f39f7['clientWidth'];if(_0x4226ea-(_0x2b558b+_0xe2eb8a)<0x12c){const _0x36a025=endOffset;endOffset+=0xe,renderDayRange(_0x36a025+0x1,endOffset),reRenderBlocks();}if(_0x2b558b<0x12c){const _0x21f02b=startOffset;startOffset-=0xe,prependDays(startOffset,_0x21f02b-0x1),_0x5f39f7['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x57f586,_0x45c172){const _0x846f71=a2_0x2acf6f,_0x51ec94=document[_0x846f71(0x2b0)](_0x846f71(0x1f4)),_0x387dc6=document[_0x846f71(0x2b0)](_0x846f71(0x265)),_0x13f071=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x28e8e5=new Date();_0x28e8e5[_0x846f71(0x1b9)](0x0,0x0,0x0,0x0);const _0x1ca096=getLocalDateStr(new Date()),_0x2a4e65=document[_0x846f71(0x1af)](),_0x10cf8a=document[_0x846f71(0x1af)]();for(let _0x2ac843=_0x57f586;_0x2ac843<=_0x45c172;_0x2ac843++){const _0x2cc4de=new Date(_0x28e8e5);_0x2cc4de['setDate'](_0x2cc4de[_0x846f71(0x2b9)]()+_0x2ac843);const _0x1c54c6=getLocalDateStr(_0x2cc4de);let _0x1e03d0=_0x2cc4de['getDay']()-0x1;if(_0x1e03d0===-0x1)_0x1e03d0=0x6;const _0x92d4e6=_0x1c54c6===_0x1ca096,_0x37190a=document[_0x846f71(0x1c8)](_0x846f71(0x1a6));_0x37190a[_0x846f71(0x1be)]=_0x846f71(0x270)+(_0x92d4e6?_0x846f71(0x19e):''),_0x37190a['id']=_0x846f71(0x24e)+_0x1c54c6,_0x37190a[_0x846f71(0x1ca)](_0x846f71(0x190),_0x1c54c6),_0x37190a[_0x846f71(0x1d9)]=_0x846f71(0x2c8)+_0x13f071[_0x1e03d0]+_0x846f71(0x2b6)+_0x2cc4de[_0x846f71(0x2b9)]()+_0x846f71(0x234)+_0x1c54c6+_0x846f71(0x280),_0x37190a[_0x846f71(0x2b8)]=()=>openDayOptions(_0x1c54c6,_0x13f071[_0x1e03d0]+'\x20'+_0x2cc4de[_0x846f71(0x2b9)]()),_0x2a4e65[_0x846f71(0x22b)](_0x37190a);const _0x132585=document[_0x846f71(0x1c8)](_0x846f71(0x1a6));_0x132585[_0x846f71(0x1be)]=_0x846f71(0x2f8)+(_0x92d4e6?_0x846f71(0x19e):''),_0x132585[_0x846f71(0x1ca)](_0x846f71(0x190),_0x1c54c6),_0x132585[_0x846f71(0x1ca)]('data-day-idx',_0x1e03d0),renderEventsForColumn(_0x132585,_0x1c54c6,_0x1e03d0),attachLongPressHandler(_0x132585,_0x2cc4de),_0x10cf8a['appendChild'](_0x132585),updateDayStats(_0x1c54c6);}_0x51ec94[_0x846f71(0x245)](_0x2a4e65,_0x51ec94[_0x846f71(0x2a3)]),_0x387dc6['insertBefore'](_0x10cf8a,_0x387dc6[_0x846f71(0x2b5)](_0x846f71(0x2cc)));}function validateAppointment(_0x5b7e2d,_0x5cf7e8,_0x43c85d,_0x3676f4,_0xeae631){const _0x58993d=a2_0x2acf6f,[_0x3dbbc8,_0x533606]=_0x5cf7e8[_0x58993d(0x201)](':')[_0x58993d(0x26e)](Number),[_0x42df6b,_0x16f13]=_0x43c85d[_0x58993d(0x201)](':')[_0x58993d(0x26e)](Number),_0x4848ba=_0x3dbbc8*0x3c+_0x533606,_0x13a150=_0x42df6b*0x3c+_0x16f13,_0x26a85e=String(_0xeae631);let _0x454ff3=![],_0x294f9a='';for(let _0x1b63a3 of sessions){if(_0x1b63a3['dateStr']!==_0x5b7e2d)continue;if(_0x1b63a3[_0x58993d(0x2c6)]===_0x58993d(0x2c4))continue;if(_0x3676f4&&String(_0x1b63a3['id'])===String(_0x3676f4))continue;const [_0x229cb3,_0x5a7f8a]=_0x1b63a3[_0x58993d(0x252)]['split'](':')[_0x58993d(0x26e)](Number),[_0x48b682,_0x1a02c9]=_0x1b63a3[_0x58993d(0x2ce)][_0x58993d(0x201)](':')[_0x58993d(0x26e)](Number),_0x2cb46d=_0x229cb3*0x3c+_0x5a7f8a,_0x69f08f=_0x48b682*0x3c+_0x1a02c9;if(Math['max'](_0x4848ba,_0x2cb46d)<Math[_0x58993d(0x188)](_0x13a150,_0x69f08f)){if(_0x1b63a3[_0x58993d(0x268)]&&String(_0x1b63a3['clientId'])===_0x26a85e)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0x1b63a3[_0x58993d(0x290)]+_0x58993d(0x2d0)};_0x454ff3=!![],_0x294f9a=_0x1b63a3[_0x58993d(0x290)];}}if(_0x454ff3)return{'valid':!![],'warning':'–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20'+_0x294f9a};return{'valid':!![]};}function updateDateDisplay(){const _0x20cca0=a2_0x2acf6f,_0x2a4cc0=document['getElementById'](_0x20cca0(0x1c2))[_0x20cca0(0x21e)],_0x18af3e=document[_0x20cca0(0x2b0)](_0x20cca0(0x289));if(!_0x2a4cc0){_0x18af3e[_0x20cca0(0x1f9)]='';return;}const [_0x627276,_0x4e9961,_0x49cbff]=_0x2a4cc0[_0x20cca0(0x201)]('-')['map'](Number),_0x149853=new Date(_0x627276,_0x4e9961-0x1,_0x49cbff),_0x13a279={'weekday':_0x20cca0(0x1e4),'day':_0x20cca0(0x211),'month':_0x20cca0(0x1e4),'year':_0x20cca0(0x211)};let _0x5c1f8b=_0x149853[_0x20cca0(0x27f)]('ru-RU',_0x13a279);_0x5c1f8b=_0x5c1f8b['charAt'](0x0)[_0x20cca0(0x197)]()+_0x5c1f8b[_0x20cca0(0x297)](0x1),_0x18af3e['textContent']=_0x5c1f8b;}function autoSetEndTime(){const _0xb14e5b=a2_0x2acf6f,_0x297f20=document['getElementById'](_0xb14e5b(0x20b))[_0xb14e5b(0x21e)];if(!_0x297f20)return;const [_0x44a2ec,_0x52c850]=_0x297f20['split'](':')[_0xb14e5b(0x26e)](Number);let _0x23651e=_0x44a2ec+0x1;if(_0x23651e>0x17)_0x23651e=0x0;const _0x29a1d5=String(_0x23651e)[_0xb14e5b(0x216)](0x2,'0')+':'+String(_0x52c850)[_0xb14e5b(0x216)](0x2,'0');document[_0xb14e5b(0x2b0)](_0xb14e5b(0x2a5))[_0xb14e5b(0x21e)]=_0x29a1d5;}function populateClientSelect(){const _0x3ff4a0=a2_0x2acf6f,_0x48a2d9=document['getElementById'](_0x3ff4a0(0x21f));_0x48a2d9[_0x3ff4a0(0x1d9)]='';if(clients[_0x3ff4a0(0x29e)]===0x0){const _0x4d8237=document['createElement'](_0x3ff4a0(0x2c1));_0x4d8237[_0x3ff4a0(0x213)]=_0x3ff4a0(0x2fa),_0x48a2d9[_0x3ff4a0(0x22b)](_0x4d8237);return;}clients['forEach'](_0x5c3c6f=>{const _0x56c73e=_0x3ff4a0,_0x13d58f=document['createElement'](_0x56c73e(0x2c1));_0x13d58f['value']=_0x5c3c6f[_0x56c73e(0x1a1)],_0x13d58f[_0x56c73e(0x1f9)]=_0x5c3c6f[_0x56c73e(0x1a1)],_0x48a2d9[_0x56c73e(0x22b)](_0x13d58f);});}function openActionSheet(_0x344dab){const _0x14422f=a2_0x2acf6f,_0x160aeb=document[_0x14422f(0x2b0)]('actionSheet'),_0x597a1c=document[_0x14422f(0x2b0)](_0x14422f(0x276)),_0x4b3784=document[_0x14422f(0x2b0)](_0x14422f(0x294)),_0x16c4d7=document[_0x14422f(0x2b0)]('asBtnOne'),_0x3c16cd=document['getElementById'](_0x14422f(0x2c3));_0x597a1c[_0x14422f(0x209)]['add'](_0x14422f(0x219)),_0x160aeb['classList'][_0x14422f(0x2da)](_0x14422f(0x274));if(_0x344dab===_0x14422f(0x1a8))_0x4b3784['textContent']='–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏',_0x16c4d7[_0x14422f(0x1f9)]='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x16c4d7[_0x14422f(0x2b8)]=()=>{const _0x523e73=_0x14422f;closeActionSheet(),updateSeriesBatch(_0x523e73(0x2db),tempSessionData);},_0x3c16cd[_0x14422f(0x1f9)]='–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ',_0x3c16cd[_0x14422f(0x2b8)]=()=>{closeActionSheet(),updateSeriesBatch('series',tempSessionData);};else _0x344dab===_0x14422f(0x264)&&(_0x4b3784[_0x14422f(0x1f9)]='–£–¥–∞–ª–µ–Ω–∏–µ',_0x16c4d7['textContent']='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x16c4d7[_0x14422f(0x1be)]=_0x14422f(0x19f),_0x16c4d7['onclick']=()=>{closeActionSheet(),commitDelete('single',sessions['find'](_0x13b187=>_0x13b187['id']===editingId));},_0x3c16cd[_0x14422f(0x1f9)]='–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ',_0x3c16cd['className']=_0x14422f(0x24f),_0x3c16cd[_0x14422f(0x2b8)]=()=>{const _0x580b91=_0x14422f;closeActionSheet(),commitDelete(_0x580b91(0x1f3),sessions[_0x580b91(0x2b3)](_0x31e464=>_0x31e464['id']===editingId));});}function closeActionSheet(){const _0x5501b6=a2_0x2acf6f;document[_0x5501b6(0x2b0)](_0x5501b6(0x2aa))['classList'][_0x5501b6(0x198)]('open'),document[_0x5501b6(0x2b0)](_0x5501b6(0x276))[_0x5501b6(0x209)]['remove'](_0x5501b6(0x219));}function openSettings(){openSheet('settingsSheet');}function saveCoachSettings(){const _0x283968=a2_0x2acf6f,_0x4c4511=document[_0x283968(0x2b0)](_0x283968(0x1ba))[_0x283968(0x21e)];localStorage[_0x283968(0x1ce)](_0x283968(0x2e0),_0x4c4511),console[_0x283968(0x2f7)](_0x283968(0x2f2),_0x4c4511),DataManager['fetchFromServer'](_0x283968(0x279),{'settings':{'cancel_window':_0x4c4511}})[_0x283968(0x2c5)](_0x2d226d=>{const _0x3e1782=_0x283968;console[_0x3e1782(0x19b)](_0x3e1782(0x1b7),_0x2d226d),showToast(_0x3e1782(0x1fd),![]);});}function loadCoachSettings(){const _0x114dbf=a2_0x2acf6f,_0x16c065=localStorage[_0x114dbf(0x1bf)](_0x114dbf(0x2e0));_0x16c065&&(document[_0x114dbf(0x2b0)](_0x114dbf(0x1ba))[_0x114dbf(0x21e)]=_0x16c065);}function openRangesSheet(){const _0x4cfeef=a2_0x2acf6f;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x4cfeef(0x18c));}function addRange(){const _0x4eac16=a2_0x2acf6f,_0x1f1543=document[_0x4eac16(0x2b0)](_0x4eac16(0x244))[_0x4eac16(0x21e)],_0x323a99=document[_0x4eac16(0x2b0)](_0x4eac16(0x288))['value'],_0x4b4dd6=document[_0x4eac16(0x2b0)]('rangeEndDate')[_0x4eac16(0x21e)],_0x4a823c=document['getElementById'](_0x4eac16(0x1fb))[_0x4eac16(0x21e)];if(!_0x1f1543||!_0x323a99||!_0x4b4dd6||!_0x4a823c)return alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è');const _0x5eb285=_0x1f1543+'T'+_0x323a99,_0x2467f0=_0x4b4dd6+'T'+_0x4a823c;if(_0x5eb285>=_0x2467f0)return alert(_0x4eac16(0x26a));specialRanges[_0x4eac16(0x21b)]({'start':_0x5eb285,'end':_0x2467f0}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x4eac16(0x287)](),DataManager[_0x4eac16(0x2e3)]('save_settings',{'settings':{'ranges':specialRanges}});}function deleteRange(_0x408c9b){const _0xe49817=a2_0x2acf6f;specialRanges[_0xe49817(0x1a3)](_0x408c9b,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0xe49817(0x287)](),DataManager[_0xe49817(0x2e3)]('save_settings',{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x21bba2=a2_0x2acf6f;document[_0x21bba2(0x2b0)](_0x21bba2(0x244))[_0x21bba2(0x21e)]='',document['getElementById']('rangeStartTime')[_0x21bba2(0x21e)]=_0x21bba2(0x1e3),document[_0x21bba2(0x2b0)](_0x21bba2(0x2ed))['value']='',document[_0x21bba2(0x2b0)](_0x21bba2(0x1fb))[_0x21bba2(0x21e)]='23:59';}function renderRangesList(){const _0x384765=a2_0x2acf6f,_0x4d2c96=document['getElementById'](_0x384765(0x2e5));_0x4d2c96[_0x384765(0x1d9)]='';if(!specialRanges[_0x384765(0x29e)]){_0x4d2c96['innerHTML']='<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>';return;}specialRanges['forEach']((_0x5e3045,_0x129ae6)=>{const _0x772db8=_0x384765,_0x22dc62=document[_0x772db8(0x1c8)](_0x772db8(0x1a6));_0x22dc62[_0x772db8(0x1be)]=_0x772db8(0x18a);const _0x1d2dbe=_0x170d7d=>{const _0x52059c=_0x772db8,_0x5da600=new Date(_0x170d7d);return _0x5da600[_0x52059c(0x2b9)]()+'.'+String(_0x5da600[_0x52059c(0x258)]()+0x1)['padStart'](0x2,'0')+'\x20'+String(_0x5da600['getHours']())[_0x52059c(0x216)](0x2,'0')+':'+String(_0x5da600[_0x52059c(0x1d8)]())[_0x52059c(0x216)](0x2,'0');};_0x22dc62[_0x772db8(0x1d9)]=_0x772db8(0x1e5)+_0x1d2dbe(_0x5e3045['start'])+'\x20‚Äî\x20'+_0x1d2dbe(_0x5e3045['end'])+_0x772db8(0x248)+_0x129ae6+')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>',_0x4d2c96[_0x772db8(0x22b)](_0x22dc62);});}function scrollToToday(){const _0x1b75b0=a2_0x2acf6f,_0x48a5fe=getLocalDateStr(new Date()),_0x43dd7d=document[_0x1b75b0(0x2b0)](_0x1b75b0(0x24e)+_0x48a5fe),_0x3f71b7=document[_0x1b75b0(0x2b0)](_0x1b75b0(0x281));if(_0x43dd7d&&_0x3f71b7){const _0x9ebed3=_0x3f71b7['clientWidth'],_0x2b2f38=_0x43dd7d['offsetLeft'],_0x42cad0=_0x43dd7d['offsetWidth'];_0x3f71b7[_0x1b75b0(0x2a8)]=_0x2b2f38-_0x9ebed3/0x2+_0x42cad0/0x2,_0x3f71b7[_0x1b75b0(0x1f8)]=0x9*GRID_H;}}function onScroll(){const _0x12390b=a2_0x2acf6f,_0xa5543c=document['getElementById'](_0x12390b(0x281)),_0x3caa05=document[_0x12390b(0x2a9)](_0x12390b(0x2c9));for(let _0x4b38c1 of _0x3caa05)if(_0x4b38c1[_0x12390b(0x255)]>=_0xa5543c['scrollLeft']){const _0x43a4fc=new Date(_0x4b38c1[_0x12390b(0x23c)](_0x12390b(0x190)));document[_0x12390b(0x2b0)]('headerMonth')[_0x12390b(0x1f9)]=_0x43a4fc[_0x12390b(0x217)]('ru',{'month':_0x12390b(0x1e4)})['toUpperCase']()+'\x20'+_0x43a4fc[_0x12390b(0x1cb)]();break;}}function showToast(_0x5afb76,_0x59ecd6=![]){const _0x249a38=a2_0x2acf6f,_0x247237=document['getElementById'](_0x249a38(0x2ae));_0x247237[_0x249a38(0x1be)]='toast-notification\x20'+(_0x59ecd6?_0x249a38(0x20e):''),document[_0x249a38(0x2b0)](_0x249a38(0x2f1))[_0x249a38(0x1f9)]=_0x59ecd6?'–£—Å–ø–µ—à–Ω–æ':_0x249a38(0x200),document[_0x249a38(0x2b0)](_0x249a38(0x1a5))[_0x249a38(0x1f9)]=_0x5afb76,_0x247237['classList'][_0x249a38(0x2da)]('show'),setTimeout(()=>{const _0x91c8d=_0x249a38;_0x247237['classList'][_0x91c8d(0x198)](_0x91c8d(0x1b1));},0xbb8);}function openDayOptions(_0xb250da,_0x1bbddf){const _0x3f4d99=a2_0x2acf6f;selectedDayForOptions=_0xb250da,document['getElementById'](_0x3f4d99(0x27b))[_0x3f4d99(0x1f9)]=_0x1bbddf,openSheet(_0x3f4d99(0x29c));}function toggleDayOff(){const _0x270db0=a2_0x2acf6f;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]='off',reRenderBlocks(),closeAllSheets(),DataManager[_0x270db0(0x287)](),DataManager[_0x270db0(0x2e3)]('save_settings',{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x575c96=a2_0x2acf6f;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x575c96(0x287)](),DataManager[_0x575c96(0x2e3)](_0x575c96(0x279),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x1605a5){const _0x97276d=a2_0x2acf6f;document['getElementById'](_0x97276d(0x224))['classList'][_0x97276d(0x2da)](_0x97276d(0x219)),document[_0x97276d(0x2b0)](_0x1605a5)['classList'][_0x97276d(0x2da)](_0x97276d(0x274));}function closeAllSheets(){const _0x432fd0=a2_0x2acf6f;document[_0x432fd0(0x2b0)](_0x432fd0(0x224))[_0x432fd0(0x209)]['remove'](_0x432fd0(0x219)),document['querySelectorAll'](_0x432fd0(0x1e8))['forEach'](_0x3c27cb=>_0x3c27cb[_0x432fd0(0x209)][_0x432fd0(0x198)](_0x432fd0(0x274)));}function openPatternEditor(){const _0x24b1b4=a2_0x2acf6f;closeAllSheets(),document[_0x24b1b4(0x2b0)](_0x24b1b4(0x187))[_0x24b1b4(0x209)][_0x24b1b4(0x2da)]('open'),renderPatternEditor();}function closePatternEditor(){const _0x3080fa=a2_0x2acf6f;document[_0x3080fa(0x2b0)]('patternEditor')[_0x3080fa(0x209)][_0x3080fa(0x198)](_0x3080fa(0x274));}function savePattern(){const _0x53b862=a2_0x2acf6f;document[_0x53b862(0x2b0)](_0x53b862(0x187))['classList'][_0x53b862(0x198)](_0x53b862(0x274)),reRenderBlocks(),DataManager[_0x53b862(0x287)](),DataManager[_0x53b862(0x2e3)](_0x53b862(0x279),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0xd09162=a2_0x2acf6f,_0x3d9f05=document['getElementById']('peGrid');_0x3d9f05[_0xd09162(0x1d9)]='';const _0x160528=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x58e5a8=document['createElement'](_0xd09162(0x1a6));_0x58e5a8[_0xd09162(0x1be)]=_0xd09162(0x2dc),_0x3d9f05[_0xd09162(0x22b)](_0x58e5a8),_0x160528['forEach']((_0x122ab2,_0x2fe834)=>{const _0x4ae2ac=_0xd09162,_0x369e41=document[_0x4ae2ac(0x1c8)]('div');_0x369e41[_0x4ae2ac(0x1be)]=_0x4ae2ac(0x23f),_0x369e41[_0x4ae2ac(0x1d9)]=_0x122ab2+'\x20<span\x20class=\x22arrow\x22>‚Üì</span>',_0x369e41[_0x4ae2ac(0x2b8)]=()=>toggleColPattern(_0x2fe834),_0x3d9f05['appendChild'](_0x369e41);});for(let _0x555e19=0x0;_0x555e19<0x18;_0x555e19++){const _0x55ec65=document['createElement'](_0xd09162(0x1a6));_0x55ec65['className']=_0xd09162(0x2ca),_0x55ec65['innerHTML']=_0xd09162(0x231)+String(_0x555e19)[_0xd09162(0x216)](0x2,'0')+_0xd09162(0x240),_0x55ec65['onclick']=()=>toggleRowPattern(_0x555e19),_0x3d9f05[_0xd09162(0x22b)](_0x55ec65);for(let _0x5a818e=0x0;_0x5a818e<0x7;_0x5a818e++){const _0x5b9ee0=document[_0xd09162(0x1c8)](_0xd09162(0x1a6)),_0xf3d901=(availabilityPattern[_0x5a818e]||[])[_0xd09162(0x2c2)](_0x555e19),_0x250b0d=!_0xf3d901;_0x5b9ee0[_0xd09162(0x1be)]=_0xd09162(0x1fc)+(_0x250b0d?_0xd09162(0x219):''),_0x5b9ee0[_0xd09162(0x2b8)]=()=>toggleSinglePattern(_0x5a818e,_0x555e19),_0x3d9f05['appendChild'](_0x5b9ee0);}}}function toggleSinglePattern(_0x122a8b,_0x162de5){const _0x390027=a2_0x2acf6f;if(!availabilityPattern[_0x122a8b])availabilityPattern[_0x122a8b]=[];const _0x226bc7=availabilityPattern[_0x122a8b],_0x26937c=_0x226bc7['indexOf'](_0x162de5);_0x26937c===-0x1?_0x226bc7[_0x390027(0x21b)](_0x162de5):_0x226bc7['splice'](_0x26937c,0x1),renderPatternEditor();}function toggleColPattern(_0x28c6a9){const _0x4696e3=a2_0x2acf6f;if(!availabilityPattern[_0x28c6a9])availabilityPattern[_0x28c6a9]=[];const _0x3b9e05=availabilityPattern[_0x28c6a9];_0x3b9e05[_0x4696e3(0x29e)]===0x0?availabilityPattern[_0x28c6a9]=Array['from']({'length':0x18},(_0x4c786b,_0x3eb4b8)=>_0x3eb4b8):availabilityPattern[_0x28c6a9]=[],renderPatternEditor();}function a2_0x3218(){const _0x24f2bb=['add','single','pe-corner','</div>','rgba(255,\x2069,\x2058,\x200.3)','dateStr','uc_settings_cancel_window','touchend','formatDate','fetchFromServer','keys','rangesList','inpNote','touches','patternInfoBox','10px','sheetTitle','block','floor','rangeEndDate','null','startsWith','addEventListener','toastTitle','[Settings]\x20Cancel\x20window\x20set\x20to:','router.html','batch_sync','2225308wwGRFa','strokeDashoffset','log','day-column\x20','%\x20+\x202px)','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','top','backgroundColor','warn','#050505','[Notify]\x20Error:\x20Text\x20generation\x20failed','off','#gridColumns\x20.day-column','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','patternEditor','min','v9.0-BATCH-CALENDAR','range-item','Error\x20setting\x20back\x20button:','rangesSheet','Error\x20setting\x20color:','globalTimeLine','\x20–∏–∑\x20','data-date','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rgba(100,100,100,0.5)','[Sync]\x20Loading\x20','Server\x20Error','btnDelete',']\x20Failed:','toUpperCase','remove','ready','custom','error','syncBatch','\x20days','today','as-button\x20danger','seriesId','name','update','splice','BackButton','toastMessage','div','month','save','day-off-overlay\x20stripe-bg','[Notify]\x20Attempting\x20to\x20send:','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','undefined','.dch-stats-fill','createDocumentFragment','flex','show','disableVerticalSwipes','color','WebApp','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','Save\x20settings\x20error:','.pib-text','setHours','settingCancelWindow','warning','toString','timeColumn','className','getItem','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','doEventsList','inpDate','rgba(255,\x2069,\x2058,\x200.15)',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','\x20status-completed','[Notify]\x20Server\x20Response:','round','createElement','msg','setAttribute','getFullYear','uc_clients_v9','inpRecurring','setItem','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','borderColor','var(--acc-orange)','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','getDay','background','from','style','completed','getMinutes','innerHTML','var(--acc-current)','borderLeftColor','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','settings','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','rgba(','T00:00:00','ranges','00:00','long','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','.sheet','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','total','then','anDonutCircle','client-stat-card','now','Local\x20Save\x20Error','anStart','stat-','colIndex','series','daysHeaderTrack','send','.event-card','[Notify]\x20Client\x20SWAP\x20detected','scrollTop','textContent','doDateHeader','rangeEndTime','pe-cell\x20','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','filter','[Notify]\x20Error:\x20sessionData\x20is\x20null','–ò–Ω—Ñ–æ','split','11041083xWiwXh','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','expand','location','Batch\x20Sync\x20OK','parse','send_notification','classList','complete','inpStart','(((.+)+)+)+$','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','success','isArray','clientY','numeric','scroll','text','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','Telegram','padStart','toLocaleString','search','active','zIndex','push','%\x20-\x204px)','text/plain;charset=UTF-8','value','inpClient','done','deleted','statLoadCard','var(--acc-green)','overlay','backgroundPosition','anTotalStats','8QZcjtV','doWorkHours','create',':00</span>','appendChild','display','href','.period-switch\x20.p-btn','calendar','loadLocal','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','mini','analyticsList','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','getHours','\x20-\x20','seriesCountContainer','anEnd','px\x200px','POST','findIndex','getAttribute','getTime','sessionSheet','pe-col-header',':00','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','height','[Notify]\x20Network\x20Failed','rangeStartDate','insertBefore','getBoundingClientRect','note','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','clients','scrollWidth','checked','DOMContentLoaded','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','header-','as-button\x20danger\x20bold','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','6108726jGMWpp','start','5lfBBFB','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','offsetLeft','btnStatusToggle','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','getMonth','charAt','\x20‚Äî\x20','localeCompare','closest','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','valid','initData','mousemove','anPercent','recurringOptionContainer','delete','gridColumns','1ApEnQr','var(--acc-red)','clientId','exceptions','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','timeLineBadge','358928MoIMKn','map','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','day-col-header\x20','data-day-idx','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','7255696MQsNad','open','all','actionSheetOverlay','sort','data','save_settings','5224263SXBDIi','dayOptionsTitle','Unknown','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','Local\x20Load\x20Error','toLocaleDateString','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','matrixViewport','stopPropagation','json','setDate','T23:59:59','5620390oZRlmx','saveLocally','rangeStartTime','sheetDateSubtitle','substr','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','touchmove','max','client','width','btn-status-toggle\x20undo-mode','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','asTitle','borderRadius','cancel','slice','rgba(48,\x20209,\x2088,\x200.15)','blocked-slot\x20stripe-bg','ru-RU','getText','dayOptionsSheet','user','length','guest','target','btn-status-toggle','indexOf','firstChild','vibrate','inpEnd','init_load','px\x20-','scrollLeft','querySelectorAll','actionSheet','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','inpSeriesCount','toast','de-item','getElementById','none','pattern','find','calc(','querySelector','</div><div\x20class=\x22dch-num\x22>','stringify','onclick','getDate','week','forEach','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','planned','apply','anCustomDates','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','option','includes','asBtnSeries','cancelled','catch','status','mergeServerData','<div\x20class=\x22dch-day\x22>','.day-col-header','pe-time-label','...','.day-column','uc_settings_v9','end','[Series]\x20Skipped\x20',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','cancel_window','initDataUnsafe','30meOwmu','</span>\x20/\x20','setBackgroundColor','mousedown','#fff','analyticsSheet','<span>'];a2_0x3218=function(){return _0x24f2bb;};return a2_0x3218();}function toggleRowPattern(_0x779d63){const _0x17f2f2=a2_0x2acf6f;let _0x2a82a9=!![];for(let _0x1b8e06=0x0;_0x1b8e06<0x7;_0x1b8e06++){if((availabilityPattern[_0x1b8e06]||[])[_0x17f2f2(0x2c2)](_0x779d63)){_0x2a82a9=![];break;}}for(let _0x1fe07b=0x0;_0x1fe07b<0x7;_0x1fe07b++){if(!availabilityPattern[_0x1fe07b])availabilityPattern[_0x1fe07b]=[];const _0x205ba3=availabilityPattern[_0x1fe07b][_0x17f2f2(0x2a2)](_0x779d63);if(_0x2a82a9){if(_0x205ba3===-0x1)availabilityPattern[_0x1fe07b][_0x17f2f2(0x21b)](_0x779d63);}else{if(_0x205ba3!==-0x1)availabilityPattern[_0x1fe07b]['splice'](_0x205ba3,0x1);}}renderPatternEditor();}function a2_0x6885(_0x4ed72e,_0x2c9862){_0x4ed72e=_0x4ed72e-0x180;const _0x3215a1=a2_0x3218();let _0x3cf9a8=_0x3215a1[_0x4ed72e];return _0x3cf9a8;}function renderPCol(_0x1960c2,_0x59c1db){const _0x2ce9fe=a2_0x2acf6f;_0x1960c2['innerHTML']='';const _0x3ad2b2=Math[_0x2ce9fe(0x1c7)](_0x1960c2[_0x2ce9fe(0x255)]);(availabilityPattern[_0x59c1db]||[])['forEach'](_0x553d46=>{const _0x3cdb88=_0x2ce9fe,_0x431b05=document[_0x3cdb88(0x1c8)]('div');_0x431b05[_0x3cdb88(0x1be)]=_0x3cdb88(0x299);const _0x596e72=_0x553d46*GRID_H;_0x431b05[_0x3cdb88(0x1d6)]['top']=_0x596e72+'px',_0x431b05[_0x3cdb88(0x1d6)][_0x3cdb88(0x225)]='-'+_0x3ad2b2+'px\x20-'+_0x596e72+'px',_0x431b05[_0x3cdb88(0x2b8)]=_0x4fc735=>{const _0x3fd344=_0x3cdb88;_0x4fc735[_0x3fd344(0x282)](),toggleSinglePattern(_0x59c1db,_0x553d46);},_0x1960c2[_0x3cdb88(0x22b)](_0x431b05);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x5aae6e=a2_0x2acf6f,_0x4caaa9=new Date(),_0x358557=document[_0x5aae6e(0x2b0)](_0x5aae6e(0x18e)),_0x4c919e=document[_0x5aae6e(0x2b0)]('timeLineBadge'),_0x5eb310=(_0x4caaa9['getHours']()*0x3c+_0x4caaa9['getMinutes']())/0x3c*GRID_H;_0x358557[_0x5aae6e(0x1d6)][_0x5aae6e(0x2fb)]=_0x5eb310+'px',_0x358557['style']['display']=_0x5aae6e(0x2eb),_0x4c919e[_0x5aae6e(0x1f9)]=String(_0x4caaa9[_0x5aae6e(0x235)]())[_0x5aae6e(0x216)](0x2,'0')+':'+String(_0x4caaa9[_0x5aae6e(0x1d8)]())[_0x5aae6e(0x216)](0x2,'0'),_0x4c919e['style']['display']=_0x5aae6e(0x2eb),_0x4c919e['style'][_0x5aae6e(0x2fb)]=_0x5eb310+'px';}document[a2_0x2acf6f(0x2f0)](a2_0x2acf6f(0x24c),init);function openDayOptions(_0x20df57){const _0x2c6858=a2_0x2acf6f;selectedDayForOptions=_0x20df57;const _0x2603fe=new Date(_0x20df57),_0x3b5273={'weekday':_0x2c6858(0x1e4),'day':_0x2c6858(0x211),'month':'long','year':_0x2c6858(0x211)},_0x16c947=_0x2603fe[_0x2c6858(0x27f)]('ru-RU',_0x3b5273);document[_0x2c6858(0x2b0)](_0x2c6858(0x1fa))[_0x2c6858(0x1f9)]=_0x16c947[_0x2c6858(0x259)](0x0)[_0x2c6858(0x197)]()+_0x16c947[_0x2c6858(0x297)](0x1);let _0x589be0=_0x2603fe[_0x2c6858(0x1d3)]()-0x1;if(_0x589be0===-0x1)_0x589be0=0x6;const _0x24c831=availabilityPattern[_0x589be0]||[],_0x2d1dd2=0x18-_0x24c831[_0x2c6858(0x29e)],_0x281340=_0x2d1dd2*0x3c,_0x57ef28=sessions[_0x2c6858(0x1fe)](_0x3fb947=>_0x3fb947[_0x2c6858(0x2df)]===_0x20df57&&_0x3fb947[_0x2c6858(0x2c6)]!==_0x2c6858(0x2c4));let _0x16f00c=_0x57ef28[_0x2c6858(0x26e)](_0x158558=>{const _0x809523=_0x2c6858,[_0x5ba7f9,_0x321720]=_0x158558['start'][_0x809523(0x201)](':')['map'](Number),[_0x316996,_0x19dec7]=_0x158558['end']['split'](':')[_0x809523(0x26e)](Number);return[_0x5ba7f9*0x3c+_0x321720,_0x316996*0x3c+_0x19dec7];});_0x16f00c['sort']((_0x5da1c3,_0x51674b)=>_0x5da1c3[0x0]-_0x51674b[0x0]);let _0x505653=[];if(_0x16f00c[_0x2c6858(0x29e)]>0x0){let _0xdb53ea=_0x16f00c[0x0];for(let _0x368c2d=0x1;_0x368c2d<_0x16f00c[_0x2c6858(0x29e)];_0x368c2d++){_0x16f00c[_0x368c2d][0x0]<_0xdb53ea[0x1]?_0xdb53ea[0x1]=Math[_0x2c6858(0x28f)](_0xdb53ea[0x1],_0x16f00c[_0x368c2d][0x1]):(_0x505653[_0x2c6858(0x21b)](_0xdb53ea),_0xdb53ea=_0x16f00c[_0x368c2d]);}_0x505653[_0x2c6858(0x21b)](_0xdb53ea);}let _0x275591=0x0;_0x505653[_0x2c6858(0x2bb)](_0x9500af=>_0x275591+=_0x9500af[0x1]-_0x9500af[0x0]),document[_0x2c6858(0x2b0)](_0x2c6858(0x228))[_0x2c6858(0x1f9)]=formatMinsToHrs(_0x281340),document[_0x2c6858(0x2b0)]('doBusyHours')['textContent']=formatMinsToHrs(_0x275591);const _0x23e4ce=_0x281340>0x0?Math[_0x2c6858(0x1c7)](_0x275591/_0x281340*0x64):0x0,_0x4020d7=document[_0x2c6858(0x2b0)]('doLoadPercent');_0x4020d7['textContent']=_0x23e4ce+'%';const _0x12fae8=document['getElementById'](_0x2c6858(0x222));if(_0x23e4ce>0x64)_0x4020d7['style'][_0x2c6858(0x1b3)]=_0x2c6858(0x267),_0x12fae8[_0x2c6858(0x1d6)][_0x2c6858(0x1d0)]=_0x2c6858(0x2de);else _0x23e4ce>0x50?(_0x4020d7[_0x2c6858(0x1d6)]['color']=_0x2c6858(0x1d1),_0x12fae8[_0x2c6858(0x1d6)][_0x2c6858(0x1d0)]='rgba(255,\x20159,\x2010,\x200.3)'):(_0x4020d7['style'][_0x2c6858(0x1b3)]=_0x2c6858(0x223),_0x12fae8[_0x2c6858(0x1d6)][_0x2c6858(0x1d0)]='rgba(255,255,255,0.05)');const _0x5df686=document[_0x2c6858(0x2b0)](_0x2c6858(0x1c1));_0x5df686[_0x2c6858(0x1d9)]='';_0x57ef28[_0x2c6858(0x29e)]===0x0?_0x5df686[_0x2c6858(0x1d9)]=_0x2c6858(0x1d2):(_0x57ef28[_0x2c6858(0x277)]((_0x5cb013,_0xaf8076)=>_0x5cb013['start'][_0x2c6858(0x25b)](_0xaf8076[_0x2c6858(0x252)])),_0x57ef28[_0x2c6858(0x2bb)](_0x27388a=>{const _0x3120c3=_0x2c6858,_0x272342=clients['find'](_0xeaaa4a=>_0xeaaa4a[_0x3120c3(0x1a1)]===_0x27388a[_0x3120c3(0x290)]),_0x52b645=_0x272342?_0x272342[_0x3120c3(0x1b3)]:_0x3120c3(0x2d7),_0x2eb60e=_0x27388a[_0x3120c3(0x2c6)]===_0x3120c3(0x1d7),_0x3910fd=_0x2eb60e?'<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>':'',_0x19f113=document[_0x3120c3(0x1c8)](_0x3120c3(0x1a6));_0x19f113[_0x3120c3(0x1be)]=_0x3120c3(0x2af),_0x19f113[_0x3120c3(0x1d6)][_0x3120c3(0x1db)]=_0x52b645,_0x19f113[_0x3120c3(0x1d9)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>'+_0x27388a[_0x3120c3(0x252)]+_0x3120c3(0x236)+_0x27388a[_0x3120c3(0x2ce)]+_0x3120c3(0x25e)+_0x27388a['client']+_0x3120c3(0x191)+_0x3910fd+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x5df686[_0x3120c3(0x22b)](_0x19f113);}));const _0x53007a=document[_0x2c6858(0x2b0)]('btnDayToggle'),_0x34f4c7=dateExceptions[_0x20df57]===_0x2c6858(0x183);_0x34f4c7?(_0x53007a[_0x2c6858(0x1f9)]=_0x2c6858(0x2c0),_0x53007a[_0x2c6858(0x1be)]='btn-primary\x20btn-secondary',_0x53007a['style'][_0x2c6858(0x1b3)]='var(--acc-green)',_0x53007a[_0x2c6858(0x1d6)][_0x2c6858(0x1d4)]=_0x2c6858(0x298)):(_0x53007a['textContent']=_0x2c6858(0x272),_0x53007a['className']='btn-primary\x20btn-danger',_0x53007a[_0x2c6858(0x1d6)][_0x2c6858(0x1b3)]=_0x2c6858(0x267),_0x53007a[_0x2c6858(0x1d6)][_0x2c6858(0x1d4)]=_0x2c6858(0x1c3)),openSheet('dayOptionsSheet');}let currentAnPeriod=a2_0x2acf6f(0x2ba);function openAnalytics(){const _0xb71042=a2_0x2acf6f,_0xcbfa0=document[_0xb71042(0x2b5)](_0xb71042(0x22e));setAnalyticsPeriod(_0xb71042(0x2ba),_0xcbfa0),closeAllSheets(),openSheet(_0xb71042(0x2d8));}function setAnalyticsPeriod(_0x807676,_0x26332c){const _0x2135f6=a2_0x2acf6f;currentAnPeriod=_0x807676,document[_0x2135f6(0x2a9)](_0x2135f6(0x22e))[_0x2135f6(0x2bb)](_0x33f6d5=>_0x33f6d5[_0x2135f6(0x209)][_0x2135f6(0x198)](_0x2135f6(0x219)));if(_0x26332c)_0x26332c[_0x2135f6(0x209)][_0x2135f6(0x2da)]('active');const _0x5bde27=document[_0x2135f6(0x2b0)](_0x2135f6(0x2bf));_0x5bde27[_0x2135f6(0x1d6)]['display']=_0x807676===_0x2135f6(0x19a)?_0x2135f6(0x1b0):_0x2135f6(0x2b1);const _0x18f5bc=new Date();let _0x1a8f1a=new Date(),_0x12c2b1=new Date();if(_0x807676===_0x2135f6(0x2ba))_0x1a8f1a=getStartOfWeek(_0x18f5bc),_0x12c2b1=new Date(_0x1a8f1a),_0x12c2b1['setDate'](_0x12c2b1[_0x2135f6(0x2b9)]()+0x6);else{if(_0x807676===_0x2135f6(0x1a7))_0x1a8f1a=new Date(_0x18f5bc[_0x2135f6(0x1cb)](),_0x18f5bc[_0x2135f6(0x258)](),0x1),_0x12c2b1=new Date(_0x18f5bc['getFullYear'](),_0x18f5bc[_0x2135f6(0x258)]()+0x1,0x0);else{!document[_0x2135f6(0x2b0)]('anStart')[_0x2135f6(0x21e)]&&(document[_0x2135f6(0x2b0)](_0x2135f6(0x1f0))[_0x2135f6(0x21e)]=getLocalDateStr(_0x18f5bc),document[_0x2135f6(0x2b0)]('anEnd')['value']=getLocalDateStr(_0x18f5bc));refreshAnalytics();return;}}document[_0x2135f6(0x2b0)]('anStart')['value']=getLocalDateStr(_0x1a8f1a),document[_0x2135f6(0x2b0)](_0x2135f6(0x238))['value']=getLocalDateStr(_0x12c2b1),refreshAnalytics();}function refreshAnalytics(){const _0x2d0c32=a2_0x2acf6f,_0x417eff=document[_0x2d0c32(0x2b0)](_0x2d0c32(0x1f0))['value'],_0x126a7d=document[_0x2d0c32(0x2b0)](_0x2d0c32(0x238))['value'];if(!_0x417eff||!_0x126a7d)return;const _0x3293da=sessions[_0x2d0c32(0x1fe)](_0x4ef976=>_0x4ef976[_0x2d0c32(0x2df)]>=_0x417eff&&_0x4ef976[_0x2d0c32(0x2df)]<=_0x126a7d&&_0x4ef976[_0x2d0c32(0x2c6)]!==_0x2d0c32(0x2c4)),_0x371302=_0x3293da[_0x2d0c32(0x29e)],_0x5a4d5a=_0x3293da['filter'](_0x511591=>_0x511591[_0x2d0c32(0x2c6)]===_0x2d0c32(0x1d7))[_0x2d0c32(0x29e)],_0x1b2347=_0x371302>0x0?Math['round'](_0x5a4d5a/_0x371302*0x64):0x0;document[_0x2d0c32(0x2b0)](_0x2d0c32(0x262))['textContent']=_0x1b2347+'%',document[_0x2d0c32(0x2b0)](_0x2d0c32(0x226))['textContent']=_0x5a4d5a+_0x2d0c32(0x18f)+_0x371302+_0x2d0c32(0x185);const _0x161f92=document['getElementById'](_0x2d0c32(0x1ec)),_0x9dba70=0x2*Math['PI']*0x23,_0x50b299=_0x9dba70-_0x1b2347/0x64*_0x9dba70;_0x161f92[_0x2d0c32(0x1d6)][_0x2d0c32(0x2f6)]=_0x50b299;const _0x208af1={};_0x3293da[_0x2d0c32(0x2bb)](_0x4dd105=>{const _0x19e2de=_0x2d0c32;if(!_0x208af1[_0x4dd105[_0x19e2de(0x290)]]){const _0x3f0cf7=clients[_0x19e2de(0x2b3)](_0x3c3d16=>_0x3c3d16[_0x19e2de(0x1a1)]===_0x4dd105['client']);_0x208af1[_0x4dd105[_0x19e2de(0x290)]]={'total':0x0,'done':0x0,'color':_0x3f0cf7?_0x3f0cf7[_0x19e2de(0x1b3)]:_0x19e2de(0x2d7)};}_0x208af1[_0x4dd105['client']][_0x19e2de(0x1ea)]++;if(_0x4dd105['status']==='completed')_0x208af1[_0x4dd105[_0x19e2de(0x290)]][_0x19e2de(0x220)]++;});const _0x576b80=document[_0x2d0c32(0x2b0)](_0x2d0c32(0x233));_0x576b80[_0x2d0c32(0x1d9)]='';const _0x4f5978=Object['entries'](_0x208af1)['sort']((_0x3257eb,_0x557ce2)=>_0x557ce2[0x1][_0x2d0c32(0x1ea)]-_0x3257eb[0x1][_0x2d0c32(0x1ea)]);if(_0x4f5978[_0x2d0c32(0x29e)]===0x0){_0x576b80[_0x2d0c32(0x1d9)]=_0x2d0c32(0x186);return;}_0x4f5978[_0x2d0c32(0x2bb)](([_0x29aed1,_0x166178])=>{const _0x345b80=_0x2d0c32,_0xf105af=Math[_0x345b80(0x1c7)](_0x166178[_0x345b80(0x220)]/_0x166178[_0x345b80(0x1ea)]*0x64),_0x16b3b2=document['createElement'](_0x345b80(0x1a6));_0x16b3b2[_0x345b80(0x1be)]=_0x345b80(0x1ed),_0x16b3b2[_0x345b80(0x1d6)]['borderLeftColor']=_0x166178[_0x345b80(0x1b3)],_0x16b3b2['innerHTML']=_0x345b80(0x28d)+_0x29aed1+_0x345b80(0x1df)+_0x166178['done']+_0x345b80(0x2d4)+_0x166178[_0x345b80(0x1ea)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0xf105af+_0x345b80(0x1cf),_0x576b80[_0x345b80(0x22b)](_0x16b3b2);});}function formatMinsToHrs(_0x45c4f6){if(_0x45c4f6===0x0)return'0';const _0x21c7c2=Math['floor'](_0x45c4f6/0x3c),_0x329910=_0x45c4f6%0x3c;if(_0x329910===0x0)return _0x21c7c2+'—á';return _0x21c7c2+'—á\x20'+_0x329910+'–º';}