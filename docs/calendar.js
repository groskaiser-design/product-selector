const a2_0x594572=a2_0x1d66;(function(_0x157fc3,_0x18d5a2){const _0x517df9=a2_0x1d66,_0x2c5ff1=_0x157fc3();while(!![]){try{const _0x240c34=parseInt(_0x517df9(0x307))/0x1*(-parseInt(_0x517df9(0x2cf))/0x2)+-parseInt(_0x517df9(0x295))/0x3+-parseInt(_0x517df9(0x2a3))/0x4*(-parseInt(_0x517df9(0x221))/0x5)+parseInt(_0x517df9(0x2bb))/0x6+-parseInt(_0x517df9(0x25d))/0x7*(parseInt(_0x517df9(0x2d6))/0x8)+-parseInt(_0x517df9(0x334))/0x9*(parseInt(_0x517df9(0x30d))/0xa)+parseInt(_0x517df9(0x329))/0xb;if(_0x240c34===_0x18d5a2)break;else _0x2c5ff1['push'](_0x2c5ff1['shift']());}catch(_0x131692){_0x2c5ff1['push'](_0x2c5ff1['shift']());}}}(a2_0x20f4,0x334c2),function initTMA(){const _0x1416f2=a2_0x1d66;try{const _0x8059da=window[_0x1416f2(0x285)]?.[_0x1416f2(0x2c5)];if(!_0x8059da)return;_0x8059da[_0x1416f2(0x2ff)](),_0x8059da[_0x1416f2(0x215)]();try{_0x8059da[_0x1416f2(0x269)]('#050505'),_0x8059da[_0x1416f2(0x2f8)]&&_0x8059da['setBackgroundColor'](_0x1416f2(0x1e6));}catch(_0x304ec6){console[_0x1416f2(0x240)](_0x1416f2(0x352),_0x304ec6);}try{_0x8059da['BackButton']&&(_0x8059da['BackButton']['show'](),_0x8059da[_0x1416f2(0x253)]['offClick'](),_0x8059da[_0x1416f2(0x253)][_0x1416f2(0x2fd)](function(){const _0x567cff=_0x1416f2;window['location'][_0x567cff(0x325)]=_0x567cff(0x309);}));}catch(_0x2bd997){console[_0x1416f2(0x240)](_0x1416f2(0x335),_0x2bd997);}try{if(_0x8059da[_0x1416f2(0x1e7)])_0x8059da[_0x1416f2(0x1e7)]();}catch(_0x5a892f){}}catch(_0x2972b8){console[_0x1416f2(0x29e)]('Critical\x20TMA\x20Error:',_0x2972b8);}}());function isAdmin(){const _0x8ce9cf=a2_0x1d66;try{const _0x427250=Number(window[_0x8ce9cf(0x285)]?.['WebApp']?.[_0x8ce9cf(0x299)]?.[_0x8ce9cf(0x23d)]?.['id']);return _0x427250===0xbaf7174;}catch(_0x51abba){return![];}}const APP_VERSION=a2_0x594572(0x260),API_URL=a2_0x594572(0x30f),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());function a2_0x1d66(_0x7e08ff,_0x3ab2ef){_0x7e08ff=_0x7e08ff-0x1d8;const _0x4d4d08=a2_0x20f4();let _0x5a6522=_0x4d4d08[_0x7e08ff];return _0x5a6522;}const KEY_CLIENTS=a2_0x594572(0x2da),KEY_SESSIONS=a2_0x594572(0x1e0),KEY_SETTINGS=a2_0x594572(0x32c);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x1b2960=a2_0x594572;return window[_0x1b2960(0x285)]?.[_0x1b2960(0x2c5)]?.['initDataUnsafe']?.[_0x1b2960(0x23d)]?.['id']||'guest';},'saveLocally'(){const _0x54f8e8=a2_0x594572;try{localStorage['setItem'](KEY_CLIENTS,JSON[_0x54f8e8(0x2ec)](clients)),localStorage[_0x54f8e8(0x2b3)](KEY_SESSIONS,JSON[_0x54f8e8(0x2ec)](sessions)),localStorage[_0x54f8e8(0x2b3)](KEY_SETTINGS,JSON[_0x54f8e8(0x2ec)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x34493a){console[_0x54f8e8(0x29e)](_0x54f8e8(0x25b),_0x34493a);}},'loadLocal'(){const _0x2bbec9=a2_0x594572;try{const _0x1b460c=localStorage['getItem'](KEY_CLIENTS);if(_0x1b460c)clients=JSON[_0x2bbec9(0x24f)](_0x1b460c);const _0x5995f9=localStorage['getItem'](KEY_SESSIONS);if(_0x5995f9)sessions=JSON[_0x2bbec9(0x24f)](_0x5995f9);const _0x3db189=localStorage[_0x2bbec9(0x331)](KEY_SETTINGS);if(_0x3db189){const _0x5b16d8=JSON['parse'](_0x3db189);if(_0x5b16d8[_0x2bbec9(0x1e3)])availabilityPattern=_0x5b16d8[_0x2bbec9(0x1e3)];if(_0x5b16d8[_0x2bbec9(0x1ea)])dateExceptions=_0x5b16d8[_0x2bbec9(0x1ea)];if(_0x5b16d8[_0x2bbec9(0x357)])specialRanges=_0x5b16d8['ranges'];}else{for(let _0x22fab0=0x0;_0x22fab0<0x7;_0x22fab0++)availabilityPattern[_0x22fab0]=Array[_0x2bbec9(0x26e)]({'length':0xc},(_0x1deb18,_0x11898d)=>_0x11898d+0x9);}}catch(_0x32d1ce){console['error'](_0x2bbec9(0x2c8),_0x32d1ce);}},async 'fetchFromServer'(_0xa06003,_0x1bd3f0={}){const _0x321fa9=a2_0x594572,_0x2245b8=window[_0x321fa9(0x285)]?.[_0x321fa9(0x2c5)],_0x3b3da0={'action':_0xa06003,'init_data':_0x2245b8?.[_0x321fa9(0x333)]||'',..._0x1bd3f0};try{const _0x5bdfaf=await fetch(API_URL,{'method':'POST','headers':{'Content-Type':_0x321fa9(0x2c6)},'body':JSON['stringify'](_0x3b3da0)}),_0x1e16af=await _0x5bdfaf[_0x321fa9(0x208)]();if(!_0x1e16af['ok'])throw new Error(_0x1e16af['error']||_0x321fa9(0x2ba));return _0x1e16af[_0x321fa9(0x26f)];}catch(_0x394ef3){console[_0x321fa9(0x29e)]('[API\x20'+_0xa06003+_0x321fa9(0x2fb),_0x394ef3);throw _0x394ef3;}},async 'syncLoad'(){const _0x335bf1=a2_0x594572,_0x49ae9d=new Date(),_0x3908b6=_0x49ae9d[_0x335bf1(0x251)]()+'-'+String(_0x49ae9d[_0x335bf1(0x1f5)]()+0x1)[_0x335bf1(0x2b8)](0x2,'0'),_0x1391ff=new Date(_0x49ae9d);_0x1391ff[_0x335bf1(0x2c2)](_0x49ae9d[_0x335bf1(0x1f5)]()+0x1);const _0xb8e1ff=_0x1391ff[_0x335bf1(0x251)]()+'-'+String(_0x1391ff['getMonth']()+0x1)[_0x335bf1(0x2b8)](0x2,'0'),_0x58361d=Date[_0x335bf1(0x2b5)]();console[_0x335bf1(0x240)](_0x335bf1(0x229)+_0x3908b6+',\x20'+_0xb8e1ff+_0x335bf1(0x1fe));try{const [_0x4e646f,_0x2c53bd]=await Promise[_0x335bf1(0x2dc)]([this[_0x335bf1(0x2ce)](_0x335bf1(0x2ee),{'month_str':_0x3908b6}),this['fetchFromServer'](_0x335bf1(0x2ee),{'month_str':_0xb8e1ff})]);if(lastUserActionTime>_0x58361d)return console[_0x335bf1(0x2c7)]('[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response'),![];return this[_0x335bf1(0x324)](_0x4e646f,_0x3908b6),this[_0x335bf1(0x324)](_0x2c53bd,_0xb8e1ff),this[_0x335bf1(0x32e)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x150464){console[_0x335bf1(0x29e)](_0x150464);throw _0x150464;}},'mergeServerData'(_0x211dcc,_0x1cd6b5){const _0x1cc638=a2_0x594572;if(!_0x211dcc)return;_0x211dcc[_0x1cc638(0x24d)]&&Array[_0x1cc638(0x32d)](_0x211dcc['clients'])&&(clients=_0x211dcc['clients']);if(_0x211dcc['settings']){if(_0x211dcc[_0x1cc638(0x239)][_0x1cc638(0x1e3)])availabilityPattern=_0x211dcc[_0x1cc638(0x239)]['pattern'];if(_0x211dcc['settings']['exceptions'])dateExceptions=_0x211dcc[_0x1cc638(0x239)]['exceptions'];if(_0x211dcc[_0x1cc638(0x239)][_0x1cc638(0x357)])specialRanges=_0x211dcc['settings'][_0x1cc638(0x357)];if(_0x211dcc['settings'][_0x1cc638(0x271)]){localStorage[_0x1cc638(0x2b3)](_0x1cc638(0x1f3),_0x211dcc[_0x1cc638(0x239)][_0x1cc638(0x271)]);const _0x13ca36=document[_0x1cc638(0x279)](_0x1cc638(0x1f1));if(_0x13ca36)_0x13ca36[_0x1cc638(0x228)]=_0x211dcc[_0x1cc638(0x239)][_0x1cc638(0x271)];}}_0x211dcc[_0x1cc638(0x32f)]&&(sessions=sessions[_0x1cc638(0x217)](_0x2788fe=>!_0x2788fe[_0x1cc638(0x1e4)]['startsWith'](_0x1cd6b5)),Object['keys'](_0x211dcc['calendar'])[_0x1cc638(0x2f9)](_0x3309b9=>{const _0x3f7426=_0x1cc638,_0xac085d=_0x211dcc[_0x3f7426(0x32f)][_0x3309b9];_0xac085d[_0x3f7426(0x2f9)](_0x31d8f2=>{const _0x1212bc=_0x3f7426,_0x545845=clients[_0x1212bc(0x320)](_0x3d03ef=>String(_0x3d03ef['id'])===String(_0x31d8f2['c']));sessions[_0x1212bc(0x2e8)]({'id':_0x31d8f2['i'],'clientId':_0x31d8f2['c'],'client':_0x545845?_0x545845[_0x1212bc(0x21e)]:_0x1212bc(0x2be),'dateStr':_0x1cd6b5+'-'+_0x3309b9['padStart'](0x2,'0'),'start':_0x31d8f2['s'],'end':_0x31d8f2['e'],'status':_0x31d8f2['st']||_0x1212bc(0x1f4),'note':_0x31d8f2['n']||'','seriesId':_0x31d8f2[_0x1212bc(0x2c1)]||null});});}));},async 'syncBatch'(_0x986c7a){const _0xd4f76d=a2_0x594572,_0x4a8a7c=[...new Set(_0x986c7a)],_0x9924b8=_0x4a8a7c[_0xd4f76d(0x257)](_0x4933c7=>{const _0x4c5477=_0xd4f76d,_0x87130b=sessions[_0x4c5477(0x217)](_0x30860b=>_0x30860b[_0x4c5477(0x1e4)]===_0x4933c7&&_0x30860b['status']!=='deleted'),_0x185404=_0x87130b[_0x4c5477(0x257)](_0x2dc243=>({'i':_0x2dc243['id'],'c':_0x2dc243[_0x4c5477(0x225)],'s':_0x2dc243[_0x4c5477(0x30e)],'e':_0x2dc243[_0x4c5477(0x1d9)],'st':_0x2dc243[_0x4c5477(0x346)],'n':_0x2dc243[_0x4c5477(0x340)],'sid':_0x2dc243[_0x4c5477(0x304)]}));return{'date':_0x4933c7,'day_data':_0x185404};});if(_0x9924b8['length']===0x0)return;console['log']('[Sync]\x20Pushing\x20batch\x20updates\x20for\x20'+_0x9924b8[_0xd4f76d(0x1f6)]+_0xd4f76d(0x2d2)),await this[_0xd4f76d(0x2ce)]('batch_sync',{'changes':_0x9924b8});}};async function init(){const _0x40a48c=a2_0x594572;DataManager[_0x40a48c(0x27c)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById'](_0x40a48c(0x31b))[_0x40a48c(0x308)](_0x40a48c(0x272),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x40a48c(0x2f4)]()[_0x40a48c(0x214)](()=>{showToast('–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ',!![]);})[_0x40a48c(0x21d)](_0x4f9e46=>{const _0x37eed1=_0x40a48c;showToast(_0x37eed1(0x25a),![]);});}function generateId(){const _0x18ec14=a2_0x594572;return Date['now']()[_0x18ec14(0x2ef)](0x24)+Math[_0x18ec14(0x222)]()[_0x18ec14(0x2ef)](0x24)[_0x18ec14(0x2ed)](0x2,0x5);}function toggleSeriesInput(){const _0xc2f709=a2_0x594572,_0x42af85=document['getElementById']('inpRecurring')[_0xc2f709(0x29f)],_0x445e08=document[_0xc2f709(0x279)](_0xc2f709(0x1f7));_0x445e08[_0xc2f709(0x33e)]['display']=_0x42af85?_0xc2f709(0x2af):_0xc2f709(0x238);const _0x1e7600=document[_0xc2f709(0x279)](_0xc2f709(0x264));_0x1e7600['style'][_0xc2f709(0x211)]=_0x42af85?'10px\x2010px\x200\x200':'10px';}function openAddSession(_0x5df970){const _0x533286=a2_0x594572;editingId=null,populateClientSelect(),document[_0x533286(0x279)](_0x533286(0x2e6))[_0x533286(0x2e4)]=_0x533286(0x275),document['getElementById'](_0x533286(0x348))[_0x533286(0x33e)]['display']=_0x533286(0x238),document[_0x533286(0x279)]('btnStatusToggle')[_0x533286(0x33e)][_0x533286(0x297)]='none';const _0x1c0723=document['getElementById'](_0x533286(0x264)),_0x36f71e=document['getElementById'](_0x533286(0x1f7));_0x1c0723[_0x533286(0x33e)][_0x533286(0x297)]=_0x533286(0x20d),_0x1c0723[_0x533286(0x33e)][_0x533286(0x211)]=_0x533286(0x32b),document[_0x533286(0x279)](_0x533286(0x206))['checked']=![],document['getElementById'](_0x533286(0x20b))[_0x533286(0x228)]=0x4,_0x36f71e[_0x533286(0x33e)][_0x533286(0x297)]=_0x533286(0x238),document[_0x533286(0x279)]('inpDate')[_0x533286(0x228)]=getLocalDateStr(_0x5df970),updateDateDisplay();const _0x2c9db2=_0x5df970[_0x533286(0x1dd)]();document[_0x533286(0x279)](_0x533286(0x1de))[_0x533286(0x228)]=String(_0x2c9db2)[_0x533286(0x2b8)](0x2,'0')+_0x533286(0x1ef),document[_0x533286(0x279)](_0x533286(0x2bc))[_0x533286(0x228)]=String(_0x2c9db2+0x1)['padStart'](0x2,'0')+_0x533286(0x1ef),openSheet(_0x533286(0x244));}function openEdit(_0x25fa9c){const _0x17335b=a2_0x594572;editingId=_0x25fa9c['id'],populateClientSelect(),document['getElementById'](_0x17335b(0x2e6))['textContent']='–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å',document[_0x17335b(0x279)](_0x17335b(0x348))[_0x17335b(0x33e)][_0x17335b(0x297)]=_0x17335b(0x2af);const _0x1fcff7=document['getElementById'](_0x17335b(0x2c0));_0x1fcff7['style']['display']=_0x17335b(0x20d);_0x25fa9c[_0x17335b(0x346)]==='completed'?(_0x1fcff7['className']=_0x17335b(0x31a),_0x1fcff7[_0x17335b(0x1db)]='–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ'):(_0x1fcff7['className']=_0x17335b(0x2b1),_0x1fcff7[_0x17335b(0x1db)]='<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É');const _0x1164d9=!!_0x25fa9c[_0x17335b(0x304)];document[_0x17335b(0x279)]('recurringOptionContainer')[_0x17335b(0x33e)][_0x17335b(0x297)]=_0x17335b(0x238),document[_0x17335b(0x279)](_0x17335b(0x1f7))['style']['display']='none',_0x1164d9?(document[_0x17335b(0x279)]('patternInfoBox')['style']['display']=_0x17335b(0x20d),document[_0x17335b(0x279)](_0x17335b(0x1f8))[_0x17335b(0x223)](_0x17335b(0x235))['textContent']=_0x17335b(0x293)):document['getElementById'](_0x17335b(0x1f8))[_0x17335b(0x33e)]['display']=_0x17335b(0x238),document[_0x17335b(0x279)]('inpClient')[_0x17335b(0x228)]=_0x25fa9c[_0x17335b(0x358)],document['getElementById'](_0x17335b(0x26d))[_0x17335b(0x228)]=_0x25fa9c[_0x17335b(0x1e4)],document[_0x17335b(0x279)](_0x17335b(0x1de))[_0x17335b(0x228)]=_0x25fa9c[_0x17335b(0x30e)],document[_0x17335b(0x279)](_0x17335b(0x2bc))[_0x17335b(0x228)]=_0x25fa9c[_0x17335b(0x1d9)],document[_0x17335b(0x279)](_0x17335b(0x32a))[_0x17335b(0x228)]=_0x25fa9c[_0x17335b(0x340)]||'',updateDateDisplay(),openSheet(_0x17335b(0x244));}async function trySaveSession(){const _0x20b542=a2_0x594572,_0xa56799=document[_0x20b542(0x279)](_0x20b542(0x313))[_0x20b542(0x228)],_0x32b3ea=document[_0x20b542(0x279)](_0x20b542(0x26d))[_0x20b542(0x228)],_0x50a959=document[_0x20b542(0x279)](_0x20b542(0x1de))[_0x20b542(0x228)],_0x55d4c3=document[_0x20b542(0x279)](_0x20b542(0x2bc))[_0x20b542(0x228)],_0xe08ddb=document[_0x20b542(0x279)](_0x20b542(0x32a))[_0x20b542(0x228)],_0x4ff7b3=document[_0x20b542(0x279)](_0x20b542(0x206))[_0x20b542(0x29f)];let _0x36344c=0x4;if(_0x4ff7b3){const _0x4e6f3a=parseInt(document[_0x20b542(0x279)](_0x20b542(0x20b))[_0x20b542(0x228)]);if(!_0x4e6f3a||_0x4e6f3a<0x2){showToast(_0x20b542(0x261),![]);return;}if(_0x4e6f3a>0x64){showToast(_0x20b542(0x22e),![]);return;}_0x36344c=_0x4e6f3a;}const _0x11d3da=clients['find'](_0x523934=>_0x523934[_0x20b542(0x21e)]===_0xa56799);if(!_0x11d3da){showToast(_0x20b542(0x2ea),![]);return;}const _0x47a203=validateAppointment(_0x32b3ea,_0x50a959,_0x55d4c3,editingId,_0x11d3da['id']);if(!_0x47a203[_0x20b542(0x227)]){showToast(_0x47a203[_0x20b542(0x284)],![]);return;}_0x47a203[_0x20b542(0x1e5)]&&showToast(_0x47a203[_0x20b542(0x1e5)],![]);const _0x37fcef={'client':_0xa56799,'clientId':_0x11d3da['id'],'start':_0x50a959,'end':_0x55d4c3,'note':_0xe08ddb,'status':_0x20b542(0x1f4)},_0x5e21ce=editingId?sessions[_0x20b542(0x320)](_0xcba0db=>_0xcba0db['id']===editingId):null;if(_0x5e21ce&&_0x5e21ce[_0x20b542(0x304)]){tempSessionData={..._0x37fcef,'dateStr':_0x32b3ea,'id':editingId,'seriesId':_0x5e21ce[_0x20b542(0x304)]},openActionSheet(_0x20b542(0x305));return;}let _0x5429d5=null;if(!editingId)_0x5429d5=_0x20b542(0x2e7);else{if(_0x5e21ce){if(String(_0x5e21ce[_0x20b542(0x225)])!==String(_0x11d3da['id']))console['log'](_0x20b542(0x262)),NotificationManager[_0x20b542(0x2e1)](_0x20b542(0x29b),_0x5e21ce),_0x5429d5=_0x20b542(0x2e7);else(_0x5e21ce[_0x20b542(0x30e)]!==_0x50a959||_0x5e21ce[_0x20b542(0x1d9)]!==_0x55d4c3||_0x5e21ce['dateStr']!==_0x32b3ea)&&(_0x5429d5=_0x20b542(0x2d0));}}if(!editingId&&_0x4ff7b3){createBatchSeries(_0x37fcef,_0x32b3ea,_0x36344c),NotificationManager[_0x20b542(0x2e1)](_0x20b542(0x2e7),{..._0x37fcef,'dateStr':_0x32b3ea});return;}lastUserActionTime=Date['now']();const _0xdc71d8={..._0x37fcef,'dateStr':_0x32b3ea,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0xdc71d8),_0x5429d5&&NotificationManager[_0x20b542(0x2e1)](_0x5429d5,_0xdc71d8);}function toggleSessionStatus(){const _0x3929d1=a2_0x594572;lastUserActionTime=Date[_0x3929d1(0x2b5)]();const _0x39157f=sessions[_0x3929d1(0x320)](_0x8de45b=>_0x8de45b['id']===editingId);if(!_0x39157f)return;const _0xa6ae90=_0x39157f[_0x3929d1(0x346)]===_0x3929d1(0x28e)?_0x3929d1(0x1f4):_0x3929d1(0x28e);_0x39157f[_0x3929d1(0x346)]=_0xa6ae90,saveSingleSession(_0x39157f),_0xa6ae90===_0x3929d1(0x28e)&&NotificationManager['send'](_0x3929d1(0x265),_0x39157f),showToast(_0xa6ae90===_0x3929d1(0x28e)?_0x3929d1(0x353):_0x3929d1(0x25e),!![]);}function validateAppointment(_0x336169,_0x245580,_0x3a2115,_0x5146e8,_0x4404e8){const _0x5ba9c6=a2_0x594572,[_0x4626ba,_0x484207]=_0x245580[_0x5ba9c6(0x280)](':')[_0x5ba9c6(0x257)](Number),[_0x3de582,_0x1c9e24]=_0x3a2115['split'](':')[_0x5ba9c6(0x257)](Number),_0x3ab046=_0x4626ba*0x3c+_0x484207,_0x2eb73d=_0x3de582*0x3c+_0x1c9e24,_0x366d65=String(_0x4404e8);let _0x5c9646=![],_0x156e12='';for(let _0x25a533 of sessions){if(_0x25a533[_0x5ba9c6(0x1e4)]!==_0x336169)continue;if(_0x25a533[_0x5ba9c6(0x346)]===_0x5ba9c6(0x231))continue;if(_0x5146e8&&String(_0x25a533['id'])===String(_0x5146e8))continue;const [_0x52468e,_0x5421b6]=_0x25a533['start']['split'](':')[_0x5ba9c6(0x257)](Number),[_0x998947,_0x488cef]=_0x25a533[_0x5ba9c6(0x1d9)][_0x5ba9c6(0x280)](':')['map'](Number),_0x291212=_0x52468e*0x3c+_0x5421b6,_0x33d68c=_0x998947*0x3c+_0x488cef;if(Math['max'](_0x3ab046,_0x291212)<Math[_0x5ba9c6(0x20f)](_0x2eb73d,_0x33d68c)){if(_0x25a533['clientId']&&String(_0x25a533[_0x5ba9c6(0x225)])===_0x366d65)return{'valid':![],'msg':_0x5ba9c6(0x210)+_0x25a533[_0x5ba9c6(0x358)]+_0x5ba9c6(0x327)};_0x5c9646=!![],_0x156e12=_0x25a533[_0x5ba9c6(0x358)];}}if(_0x5c9646)return{'valid':!![],'warning':_0x5ba9c6(0x31d)+_0x156e12};return{'valid':!![]};}function saveSingleSession(_0x2c2d65){const _0x3be601=a2_0x594572;if(editingId){const _0x4f1fa1=sessions[_0x3be601(0x2db)](_0x4f0a9a=>_0x4f0a9a['id']===editingId);if(_0x4f1fa1!==-0x1)sessions[_0x4f1fa1]=_0x2c2d65;}else sessions[_0x3be601(0x2e8)](_0x2c2d65);afterSaveAction([_0x2c2d65[_0x3be601(0x1e4)]]);}function createBatchSeries(_0x300b78,_0x9c0571,_0x2ca704){const _0x2d02a9=a2_0x594572,_0x28ab20=generateId(),_0xdc60f4=[],_0x858427=[];let _0x49e913=0x0,_0x4f31c7=new Date(_0x9c0571);for(let _0x41b33d=0x0;_0x41b33d<_0x2ca704;_0x41b33d++){const _0x56c678=getLocalDateStr(_0x4f31c7),_0x5ea5ba=validateAppointment(_0x56c678,_0x300b78[_0x2d02a9(0x30e)],_0x300b78[_0x2d02a9(0x1d9)],null,_0x300b78['clientId']);if(!_0x5ea5ba[_0x2d02a9(0x227)])console['log'](_0x2d02a9(0x277)+_0x56c678+':\x20Client\x20already\x20booked'),_0x49e913++;else{const _0x3e16f6={..._0x300b78,'id':generateId(),'dateStr':_0x56c678,'seriesId':_0x28ab20};_0x858427[_0x2d02a9(0x2e8)](_0x3e16f6),_0xdc60f4[_0x2d02a9(0x2e8)](_0x56c678);}_0x4f31c7[_0x2d02a9(0x2b2)](_0x4f31c7[_0x2d02a9(0x1f9)]()+0x7);}if(_0x858427[_0x2d02a9(0x1f6)]===0x0){showToast(_0x2d02a9(0x34e),![]);return;}sessions[_0x2d02a9(0x2e8)](..._0x858427),lastUserActionTime=Date[_0x2d02a9(0x2b5)]();let _0x435791=_0x2d02a9(0x2ae)+_0x858427[_0x2d02a9(0x1f6)];_0x49e913>0x0&&(_0x435791+=_0x2d02a9(0x28d)+_0x49e913+')'),showToast(_0x435791,!![]),afterSaveAction(_0xdc60f4);}function updateSeriesBatch(_0x1f5c39,_0x1b214a){const _0x21b24f=a2_0x594572,_0x5d01f4=[],_0x1ba70a=_0x1b214a[_0x21b24f(0x304)];if(_0x1f5c39===_0x21b24f(0x232)){const _0x3cf9c6={..._0x1b214a,'seriesId':null},_0x990c88=sessions[_0x21b24f(0x2db)](_0x4c3ae6=>_0x4c3ae6['id']===_0x1b214a['id']);if(_0x990c88!==-0x1)sessions[_0x990c88]=_0x3cf9c6;_0x5d01f4[_0x21b24f(0x2e8)](_0x3cf9c6['dateStr']);}else{if(_0x1f5c39===_0x21b24f(0x2e2)){const _0xc90027=_0x1b214a[_0x21b24f(0x1e4)];sessions[_0x21b24f(0x2f9)]((_0x16a46e,_0x92acf6)=>{const _0x183664=_0x21b24f;_0x16a46e['seriesId']===_0x1ba70a&&_0x16a46e[_0x183664(0x1e4)]>=_0xc90027&&(sessions[_0x92acf6]={...sessions[_0x92acf6],'start':_0x1b214a[_0x183664(0x30e)],'end':_0x1b214a[_0x183664(0x1d9)],'note':_0x1b214a[_0x183664(0x340)],'client':_0x1b214a[_0x183664(0x358)],'clientId':_0x1b214a[_0x183664(0x225)]},_0x5d01f4[_0x183664(0x2e8)](_0x16a46e[_0x183664(0x1e4)]));});}}afterSaveAction(_0x5d01f4);}function tryDeleteSession(){const _0x324938=a2_0x594572,_0x4549b7=sessions[_0x324938(0x320)](_0x41e392=>_0x41e392['id']===editingId);if(!_0x4549b7)return;_0x4549b7['seriesId']?openActionSheet(_0x324938(0x347)):commitDelete(_0x324938(0x232),_0x4549b7);}function commitDelete(_0x50990c,_0x1602d3){const _0x10bb69=a2_0x594572;lastUserActionTime=Date['now'](),NotificationManager[_0x10bb69(0x2e1)]('cancel',_0x1602d3);const _0x100e45=[];if(_0x50990c==='single')sessions=sessions['filter'](_0x3352a2=>_0x3352a2['id']!==_0x1602d3['id']),_0x100e45[_0x10bb69(0x2e8)](_0x1602d3[_0x10bb69(0x1e4)]);else{if(_0x50990c==='series'){const _0x4be78e=_0x1602d3[_0x10bb69(0x1e4)],_0x10291d=_0x1602d3[_0x10bb69(0x304)];sessions['forEach'](_0x34e2b2=>{const _0x11db2f=_0x10bb69;_0x34e2b2[_0x11db2f(0x304)]===_0x10291d&&_0x34e2b2['dateStr']>=_0x4be78e&&_0x100e45[_0x11db2f(0x2e8)](_0x34e2b2[_0x11db2f(0x1e4)]);}),sessions=sessions['filter'](_0x5591f8=>!(_0x5591f8[_0x10bb69(0x304)]===_0x10291d&&_0x5591f8['dateStr']>=_0x4be78e));}}afterSaveAction(_0x100e45);}function afterSaveAction(_0x1eff74){const _0x42c07a=a2_0x594572;DataManager[_0x42c07a(0x32e)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x42c07a(0x296)](_0x1eff74)[_0x42c07a(0x214)](()=>console['log'](_0x42c07a(0x2cb)))[_0x42c07a(0x21d)](_0x49bfd7=>showToast(_0x42c07a(0x1fc),![]));}const NotificationManager={'formatDate'(_0xe6b7b0){const _0x459e72=a2_0x594572,_0x147098=new Date(_0xe6b7b0),_0x16e4be={'weekday':_0x459e72(0x286),'day':'numeric','month':_0x459e72(0x286)};let _0x1d98a6=_0x147098[_0x459e72(0x30a)]('ru-RU',_0x16e4be);return _0x1d98a6[_0x459e72(0x326)](0x0)['toUpperCase']()+_0x1d98a6[_0x459e72(0x241)](0x1);},'getText'(_0x5b0f43,_0xa9231a){const _0x52d784=a2_0x594572,_0x79afbd=this['formatDate'](_0xa9231a[_0x52d784(0x1e4)]);switch(_0x5b0f43){case'create':return _0x52d784(0x248)+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0x79afbd+'\x0a')+(_0x52d784(0x289)+_0xa9231a[_0x52d784(0x30e)]+'\x20‚Äî\x20'+_0xa9231a['end']+'\x0a\x0a')+_0x52d784(0x1f2);case _0x52d784(0x2d0):return _0x52d784(0x35b)+_0x52d784(0x314)+(_0x52d784(0x22a)+_0xa9231a['start']+_0x52d784(0x26b)+_0xa9231a[_0x52d784(0x1d9)]+_0x52d784(0x27a))+(_0x52d784(0x354)+_0x79afbd);case _0x52d784(0x29b):return _0x52d784(0x2ca)+(_0x52d784(0x341)+_0x79afbd+'\x20('+_0xa9231a[_0x52d784(0x30e)]+')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.');case'complete':return _0x52d784(0x2d9)+_0x52d784(0x25f)+_0x52d784(0x31c);default:return'';}},async 'send'(_0x4426ab,_0x586238){const _0x48f6f3=a2_0x594572;console[_0x48f6f3(0x240)](_0x48f6f3(0x33c),_0x4426ab,_0x586238);if(!_0x586238){console[_0x48f6f3(0x29e)](_0x48f6f3(0x33f));return;}const _0x4f371b=String(_0x586238[_0x48f6f3(0x225)]);console[_0x48f6f3(0x240)]('[Notify]\x20Detected\x20Client\x20ID:',_0x4f371b);if(!_0x586238[_0x48f6f3(0x225)]||_0x4f371b===_0x48f6f3(0x2ad)||_0x4f371b===_0x48f6f3(0x2a8)){console[_0x48f6f3(0x29e)]('[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!');if(_0x586238['client']){const _0x127b77=clients['find'](_0x51d445=>_0x51d445['name']===_0x586238['client']);if(_0x127b77)return console[_0x48f6f3(0x240)](_0x48f6f3(0x1dc),_0x127b77['id']),this[_0x48f6f3(0x2e1)](_0x4426ab,{..._0x586238,'clientId':_0x127b77['id']});}return;}if(_0x4f371b[_0x48f6f3(0x1f6)]<0x5){console[_0x48f6f3(0x2c7)]('[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)',_0x4f371b);return;}const _0x3f9040=this[_0x48f6f3(0x323)](_0x4426ab,_0x586238);if(!_0x3f9040){console[_0x48f6f3(0x29e)](_0x48f6f3(0x2d4));return;}console['log']('[Notify]\x20Sending\x20to\x20GAS\x20for\x20'+_0x4f371b+_0x48f6f3(0x1fe)),DataManager[_0x48f6f3(0x2ce)]('send_notification',{'chatId':_0x4f371b,'text':_0x3f9040})[_0x48f6f3(0x214)](_0x43ec2a=>console[_0x48f6f3(0x240)](_0x48f6f3(0x2f0),_0x43ec2a))[_0x48f6f3(0x21d)](_0x340394=>console[_0x48f6f3(0x29e)](_0x48f6f3(0x273),_0x340394));}};function getLocalDateStr(_0x544b2a){const _0x2d8ffc=a2_0x594572,_0x1cbe89=_0x544b2a[_0x2d8ffc(0x251)](),_0x475814=String(_0x544b2a[_0x2d8ffc(0x1f5)]()+0x1)[_0x2d8ffc(0x2b8)](0x2,'0'),_0xe0b709=String(_0x544b2a['getDate']())['padStart'](0x2,'0');return _0x1cbe89+'-'+_0x475814+'-'+_0xe0b709;}function getDateStr(_0x55a40a){const _0x24147d=new Date();return _0x24147d['setDate'](_0x24147d['getDate']()+_0x55a40a),getLocalDateStr(_0x24147d);}function getStartOfWeek(_0x151057){const _0x39d19e=a2_0x594572,_0x6ef577=(function(){let _0x55cdf8=!![];return function(_0x4dea7e,_0x538777){const _0x100ff3=_0x55cdf8?function(){const _0x5c413e=a2_0x1d66;if(_0x538777){const _0x2640f1=_0x538777[_0x5c413e(0x29d)](_0x4dea7e,arguments);return _0x538777=null,_0x2640f1;}}:function(){};return _0x55cdf8=![],_0x100ff3;};}()),_0x264523=_0x6ef577(this,function(){const _0x522c1b=a2_0x1d66;return _0x264523[_0x522c1b(0x2ef)]()[_0x522c1b(0x246)]('(((.+)+)+)+$')[_0x522c1b(0x2ef)]()[_0x522c1b(0x2e0)](_0x264523)[_0x522c1b(0x246)](_0x522c1b(0x2f6));});_0x264523();const _0x2f4bd=new Date(_0x151057),_0x1cdaf8=_0x2f4bd['getDay'](),_0x56d727=_0x2f4bd[_0x39d19e(0x1f9)]()-_0x1cdaf8+(_0x1cdaf8===0x0?-0x6:0x1);return _0x2f4bd['setDate'](_0x56d727),_0x2f4bd[_0x39d19e(0x1fa)](0x0,0x0,0x0,0x0),_0x2f4bd;}function hexToRgba(_0x4248ab,_0x2767b2){const _0x228533=a2_0x594572;if(!_0x4248ab)return _0x228533(0x267);let _0x57f8a4=0x0,_0x47fad7=0x0,_0x365515=0x0;if(_0x4248ab[_0x228533(0x1f6)]===0x4)_0x57f8a4='0x'+_0x4248ab[0x1]+_0x4248ab[0x1],_0x47fad7='0x'+_0x4248ab[0x2]+_0x4248ab[0x2],_0x365515='0x'+_0x4248ab[0x3]+_0x4248ab[0x3];else _0x4248ab[_0x228533(0x1f6)]===0x7&&(_0x57f8a4='0x'+_0x4248ab[0x1]+_0x4248ab[0x2],_0x47fad7='0x'+_0x4248ab[0x3]+_0x4248ab[0x4],_0x365515='0x'+_0x4248ab[0x5]+_0x4248ab[0x6]);return _0x228533(0x311)+ +_0x57f8a4+',\x20'+ +_0x47fad7+',\x20'+ +_0x365515+',\x20'+_0x2767b2+')';}function renderTimeColumn(){const _0x3174bc=a2_0x594572,_0x3ac75d=document[_0x3174bc(0x279)](_0x3174bc(0x278)),_0x3f1743=document['getElementById'](_0x3174bc(0x345));_0x3ac75d[_0x3174bc(0x1db)]='',_0x3ac75d[_0x3174bc(0x22b)](_0x3f1743);for(let _0x232d9a=0x0;_0x232d9a<0x18;_0x232d9a++){const _0x32cb12=document['createElement']('div');_0x32cb12[_0x3174bc(0x30b)]='time-label';if(_0x232d9a>0x0)_0x32cb12[_0x3174bc(0x1db)]=_0x3174bc(0x23c)+String(_0x232d9a)[_0x3174bc(0x2b8)](0x2,'0')+_0x3174bc(0x24e);_0x3ac75d[_0x3174bc(0x22b)](_0x32cb12);}}function renderDayRange(_0x426984,_0x4bfb8f){const _0x2eae14=a2_0x594572,_0x4fae90=document[_0x2eae14(0x279)](_0x2eae14(0x2df)),_0x1aac62=document['getElementById'](_0x2eae14(0x256)),_0x4aa04d=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x937543=new Date();_0x937543[_0x2eae14(0x1fa)](0x0,0x0,0x0,0x0);const _0x42d9dd=getLocalDateStr(new Date());for(let _0x9f08e2=_0x426984;_0x9f08e2<=_0x4bfb8f;_0x9f08e2++){const _0x47863f=new Date(_0x937543);_0x47863f['setDate'](_0x47863f[_0x2eae14(0x1f9)]()+_0x9f08e2);const _0x42615c=getLocalDateStr(_0x47863f);let _0x140531=_0x47863f[_0x2eae14(0x2b7)]()-0x1;if(_0x140531===-0x1)_0x140531=0x6;const _0x5e7ca6=_0x42615c===_0x42d9dd,_0x4e4f68=document[_0x2eae14(0x242)](_0x2eae14(0x322));_0x4e4f68[_0x2eae14(0x30b)]='day-col-header\x20'+(_0x5e7ca6?'today':''),_0x4e4f68['id']=_0x2eae14(0x30c)+_0x42615c,_0x4e4f68['setAttribute'](_0x2eae14(0x28c),_0x42615c),_0x4e4f68[_0x2eae14(0x1db)]=_0x2eae14(0x300)+_0x4aa04d[_0x140531]+_0x2eae14(0x27d)+_0x47863f[_0x2eae14(0x1f9)]()+_0x2eae14(0x21b)+_0x42615c+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x4e4f68['onclick']=()=>openDayOptions(_0x42615c,_0x4aa04d[_0x140531]+'\x20'+_0x47863f[_0x2eae14(0x1f9)]()),_0x4fae90['appendChild'](_0x4e4f68);const _0x29035f=document['createElement']('div');_0x29035f[_0x2eae14(0x30b)]=_0x2eae14(0x291)+(_0x5e7ca6?_0x2eae14(0x243):''),_0x29035f[_0x2eae14(0x230)](_0x2eae14(0x28c),_0x42615c),_0x29035f[_0x2eae14(0x230)](_0x2eae14(0x34a),_0x140531),renderEventsForColumn(_0x29035f,_0x42615c,_0x140531),attachLongPressHandler(_0x29035f,_0x47863f),_0x1aac62[_0x2eae14(0x22b)](_0x29035f),updateDayStats(_0x42615c);}}function reRenderBlocks(){const _0x1726b1=a2_0x594572;document['querySelectorAll'](_0x1726b1(0x2fe))['forEach'](_0x53365b=>{const _0xd5334=_0x1726b1;_0x53365b[_0xd5334(0x21f)](_0xd5334(0x294))['forEach'](_0x47e476=>_0x47e476[_0xd5334(0x2f7)]());const _0x336c44=_0x53365b['getAttribute'](_0xd5334(0x28c)),_0x5936b6=parseInt(_0x53365b[_0xd5334(0x351)](_0xd5334(0x34a))),_0x4c5f4f=Math['round'](_0x53365b[_0xd5334(0x249)]);(availabilityPattern[_0x5936b6]||[])['forEach'](_0x2513c6=>{const _0x512987=_0xd5334,_0x5ecfa2=document['createElement'](_0x512987(0x322));_0x5ecfa2[_0x512987(0x30b)]='blocked-slot\x20stripe-bg';const _0x2cd580=_0x2513c6*GRID_H;_0x5ecfa2['style'][_0x512987(0x23a)]=_0x2cd580+'px',_0x5ecfa2[_0x512987(0x33e)][_0x512987(0x207)]='-'+_0x4c5f4f+'px\x20-'+_0x2cd580+'px',_0x53365b[_0x512987(0x22b)](_0x5ecfa2);});if(specialRanges&&specialRanges['length']>0x0){const _0x131b77=new Date(_0x336c44+'T00:00:00')['getTime'](),_0x44afbf=new Date(_0x336c44+'T23:59:59')[_0xd5334(0x2b0)]();specialRanges[_0xd5334(0x2f9)](_0x1e8117=>{const _0xf483c1=_0xd5334,_0x1166fb=new Date(_0x1e8117[_0xf483c1(0x30e)])[_0xf483c1(0x2b0)](),_0x2eb204=new Date(_0x1e8117[_0xf483c1(0x1d9)])[_0xf483c1(0x2b0)](),_0x21e651=Math['max'](_0x131b77,_0x1166fb),_0x59df34=Math[_0xf483c1(0x20f)](_0x44afbf,_0x2eb204);if(_0x21e651<_0x59df34){if(_0x21e651<=_0x131b77&&_0x59df34>=_0x44afbf-0xea60){if(!_0x53365b[_0xf483c1(0x223)]('.day-off-overlay')){const _0x2f2bb1=document[_0xf483c1(0x242)](_0xf483c1(0x322));_0x2f2bb1[_0xf483c1(0x30b)]=_0xf483c1(0x268),_0x2f2bb1[_0xf483c1(0x33e)]['backgroundPosition']='-'+_0x4c5f4f+_0xf483c1(0x303),_0x53365b[_0xf483c1(0x22b)](_0x2f2bb1);}}else{const _0x305494=(_0x21e651-_0x131b77)/0x36ee80*GRID_H,_0xa5381f=(_0x59df34-_0x21e651)/0x36ee80*GRID_H,_0x165491=document[_0xf483c1(0x242)]('div');_0x165491['className']=_0xf483c1(0x2c4),_0x165491['style'][_0xf483c1(0x23a)]=_0x305494+'px',_0x165491[_0xf483c1(0x33e)]['height']=_0xa5381f+'px',_0x165491[_0xf483c1(0x33e)][_0xf483c1(0x207)]='-'+_0x4c5f4f+'px\x20-'+_0x305494+'px',_0x53365b[_0xf483c1(0x22b)](_0x165491);}}});}if(dateExceptions[_0x336c44]===_0xd5334(0x2f3)){if(!_0x53365b[_0xd5334(0x223)](_0xd5334(0x26c))){const _0x1dd840=document[_0xd5334(0x242)](_0xd5334(0x322));_0x1dd840[_0xd5334(0x30b)]=_0xd5334(0x268),_0x1dd840['style'][_0xd5334(0x207)]='-'+_0x4c5f4f+_0xd5334(0x303),_0x53365b[_0xd5334(0x22b)](_0x1dd840);}}renderEventsForColumn(_0x53365b,_0x336c44,_0x5936b6),updateDayStats(_0x336c44);});}function updateAllDayStats(){const _0x36b18e=a2_0x594572;document[_0x36b18e(0x21f)](_0x36b18e(0x254))[_0x36b18e(0x2f9)](_0x419852=>{updateDayStats(_0x419852['getAttribute']('data-date'));});}function updateDayStats(_0x55f944){const _0x8f01f=a2_0x594572,_0xb8ff19=document[_0x8f01f(0x279)](_0x8f01f(0x2e5)+_0x55f944);if(!_0xb8ff19)return;const _0x34cfc3=new Date(_0x55f944);let _0x5b3535=_0x34cfc3[_0x8f01f(0x2b7)]()-0x1;if(_0x5b3535===-0x1)_0x5b3535=0x6;if(dateExceptions[_0x55f944]===_0x8f01f(0x2f3)){_0xb8ff19[_0x8f01f(0x33e)][_0x8f01f(0x297)]=_0x8f01f(0x238);return;}const _0x13b9ef=availabilityPattern[_0x5b3535]||[],_0x3f2bf1=0x18-_0x13b9ef[_0x8f01f(0x1f6)],_0x1e9ec8=_0x3f2bf1*0x3c,_0x513089=sessions[_0x8f01f(0x217)](_0x7033b4=>_0x7033b4['dateStr']===_0x55f944&&_0x7033b4['status']!==_0x8f01f(0x231));if(_0x513089[_0x8f01f(0x1f6)]===0x0){_0xb8ff19['style']['display']='none';return;}let _0xf49b02=_0x513089[_0x8f01f(0x257)](_0x358217=>{const _0x447420=_0x8f01f,[_0x294461,_0x31fada]=_0x358217[_0x447420(0x30e)][_0x447420(0x280)](':')['map'](Number),[_0x43fb0f,_0x42e026]=_0x358217[_0x447420(0x1d9)][_0x447420(0x280)](':')[_0x447420(0x257)](Number);return[_0x294461*0x3c+_0x31fada,_0x43fb0f*0x3c+_0x42e026];});_0xf49b02[_0x8f01f(0x276)]((_0x3149f0,_0x3ab6ea)=>_0x3149f0[0x0]-_0x3ab6ea[0x0]);let _0x35f374=[];if(_0xf49b02[_0x8f01f(0x1f6)]>0x0){let _0x55d549=_0xf49b02[0x0];for(let _0x305c15=0x1;_0x305c15<_0xf49b02['length'];_0x305c15++){_0xf49b02[_0x305c15][0x0]<_0x55d549[0x1]?_0x55d549[0x1]=Math['max'](_0x55d549[0x1],_0xf49b02[_0x305c15][0x1]):(_0x35f374[_0x8f01f(0x2e8)](_0x55d549),_0x55d549=_0xf49b02[_0x305c15]);}_0x35f374[_0x8f01f(0x2e8)](_0x55d549);}let _0x381278=0x0;_0x35f374['forEach'](_0x5a204a=>_0x381278+=_0x5a204a[0x1]-_0x5a204a[0x0]),_0xb8ff19[_0x8f01f(0x33e)][_0x8f01f(0x297)]=_0x8f01f(0x20d);const _0x167c47=_0xb8ff19[_0x8f01f(0x223)]('.dch-stats-fill');if(_0x1e9ec8===0x0){_0x167c47[_0x8f01f(0x33e)][_0x8f01f(0x220)]=_0x8f01f(0x23e),_0x167c47[_0x8f01f(0x33e)][_0x8f01f(0x1d8)]=_0x8f01f(0x1e9);return;}const _0x48d779=_0x381278/_0x1e9ec8*0x64;console[_0x8f01f(0x240)]('['+_0x55f944+_0x8f01f(0x24a)+_0x3f2bf1+_0x8f01f(0x29a)+_0x381278+_0x8f01f(0x2b9)+_0x48d779['toFixed'](0x1)+'%'),_0x48d779>0x64?(_0x167c47[_0x8f01f(0x33e)][_0x8f01f(0x220)]=_0x8f01f(0x23e),_0x167c47[_0x8f01f(0x33e)][_0x8f01f(0x1d8)]='var(--acc-red)'):(_0x167c47[_0x8f01f(0x33e)][_0x8f01f(0x220)]=_0x48d779+'%',_0x167c47[_0x8f01f(0x33e)][_0x8f01f(0x1d8)]=_0x8f01f(0x281));}function renderEventsForColumn(_0x42c185,_0x448822,_0x2edd03){const _0x47e24d=a2_0x594572,_0x14223b=sessions[_0x47e24d(0x217)](_0x2d6115=>_0x2d6115[_0x47e24d(0x1e4)]===_0x448822),_0x111256=_0x14223b['map'](_0x2c00e5=>{const _0xfc4921=_0x47e24d,[_0x359726,_0x5e90db]=_0x2c00e5['start'][_0xfc4921(0x280)](':')[_0xfc4921(0x257)](Number),[_0x59c17a,_0x3e10d1]=_0x2c00e5[_0xfc4921(0x1d9)][_0xfc4921(0x280)](':')['map'](Number);return{'data':_0x2c00e5,'start':_0x359726*0x3c+_0x5e90db,'end':_0x59c17a*0x3c+_0x3e10d1,'colIndex':0x0};});_0x111256[_0x47e24d(0x276)]((_0x5d5f2e,_0x2c87aa)=>{const _0x424edc=_0x47e24d;if(_0x5d5f2e['start']!==_0x2c87aa[_0x424edc(0x30e)])return _0x5d5f2e['start']-_0x2c87aa[_0x424edc(0x30e)];return _0x2c87aa['end']-_0x2c87aa[_0x424edc(0x30e)]-(_0x5d5f2e[_0x424edc(0x1d9)]-_0x5d5f2e['start']);});const _0x2a885d=[];_0x111256[_0x47e24d(0x2f9)](_0x37daef=>{const _0x328b76=_0x47e24d;let _0x1d5bf5=![];for(let _0x1b77c5=0x0;_0x1b77c5<_0x2a885d[_0x328b76(0x1f6)];_0x1b77c5++){const _0x41ccb7=_0x2a885d[_0x1b77c5],_0x568ca6=_0x41ccb7[_0x41ccb7[_0x328b76(0x1f6)]-0x1];if(_0x37daef[_0x328b76(0x30e)]>=_0x568ca6['end']){_0x41ccb7[_0x328b76(0x2e8)](_0x37daef),_0x37daef['colIndex']=_0x1b77c5,_0x1d5bf5=!![];break;}}!_0x1d5bf5&&(_0x2a885d[_0x328b76(0x2e8)]([_0x37daef]),_0x37daef[_0x328b76(0x2ac)]=_0x2a885d[_0x328b76(0x1f6)]-0x1);}),_0x111256[_0x47e24d(0x2f9)](_0x36a22a=>{const _0x20dc8b=_0x47e24d;let _0x46034e=0x0;_0x111256['forEach'](_0x48fad1=>{const _0x4dd32d=a2_0x1d66;if(Math[_0x4dd32d(0x287)](_0x36a22a[_0x4dd32d(0x30e)],_0x48fad1[_0x4dd32d(0x30e)])<Math[_0x4dd32d(0x20f)](_0x36a22a[_0x4dd32d(0x1d9)],_0x48fad1['end'])){if(_0x48fad1[_0x4dd32d(0x2ac)]>_0x46034e)_0x46034e=_0x48fad1[_0x4dd32d(0x2ac)];}});const _0x3f7bda=_0x46034e+0x1,_0x1458d0=0x64/_0x3f7bda,_0x32831a=_0x36a22a[_0x20dc8b(0x2ac)]*_0x1458d0,_0x31078a=createEventEl(_0x36a22a[_0x20dc8b(0x26f)]);_0x31078a[_0x20dc8b(0x33e)]['width']='calc('+_0x1458d0+_0x20dc8b(0x31e),_0x31078a[_0x20dc8b(0x33e)][_0x20dc8b(0x343)]=_0x20dc8b(0x25c)+_0x32831a+_0x20dc8b(0x209),_0x31078a[_0x20dc8b(0x33e)][_0x20dc8b(0x1ee)]=0xa+_0x36a22a[_0x20dc8b(0x2ac)],_0x1458d0<0x55&&_0x31078a[_0x20dc8b(0x1e1)][_0x20dc8b(0x2b6)](_0x20dc8b(0x306)),_0x42c185[_0x20dc8b(0x22b)](_0x31078a);});}function createEventEl(_0x1639f0){const _0x2a7af2=a2_0x594572,[_0x26cf84,_0x4681d9]=_0x1639f0['start'][_0x2a7af2(0x280)](':')['map'](Number),[_0x2fa8cf,_0x47f5f9]=_0x1639f0[_0x2a7af2(0x1d9)][_0x2a7af2(0x280)](':')[_0x2a7af2(0x257)](Number),_0x48c404=(_0x26cf84*0x3c+_0x4681d9)/0x3c*GRID_H,_0x30c80a=(_0x2fa8cf*0x3c+_0x47f5f9-(_0x26cf84*0x3c+_0x4681d9))/0x3c*GRID_H,_0xb6776b=document[_0x2a7af2(0x242)](_0x2a7af2(0x322)),_0x2cf8df=_0x1639f0['status']==='completed'?_0x2a7af2(0x2dd):'';_0xb6776b[_0x2a7af2(0x30b)]='event-card'+_0x2cf8df,_0xb6776b[_0x2a7af2(0x33e)][_0x2a7af2(0x23a)]=_0x48c404+'px',_0xb6776b[_0x2a7af2(0x33e)][_0x2a7af2(0x316)]=Math[_0x2a7af2(0x287)](_0x30c80a,0x14)+'px';const _0x5ea321=clients['find'](_0x378da0=>_0x1639f0['clientId']&&String(_0x378da0['id'])===String(_0x1639f0[_0x2a7af2(0x225)])||_0x378da0[_0x2a7af2(0x21e)]===_0x1639f0['client']),_0x1b81fa=_0x5ea321?_0x5ea321[_0x2a7af2(0x35a)]:'#0a84ff';_0xb6776b[_0x2a7af2(0x33e)][_0x2a7af2(0x302)]=_0x1b81fa,_0xb6776b[_0x2a7af2(0x33e)]['backgroundColor']=hexToRgba(_0x1b81fa,0.85);let _0x546270='<div\x20class=\x22ev-title\x22>'+_0x1639f0[_0x2a7af2(0x358)]+_0x2a7af2(0x344)+_0x1639f0[_0x2a7af2(0x30e)]+'\x20-\x20'+_0x1639f0[_0x2a7af2(0x1d9)]+_0x2a7af2(0x245);return _0x1639f0['seriesId']&&(_0x546270+=_0x2a7af2(0x1e8)),_0x1639f0[_0x2a7af2(0x346)]===_0x2a7af2(0x28e)&&(_0x546270+=_0x2a7af2(0x2d3)),_0xb6776b['innerHTML']=_0x546270,_0xb6776b['onclick']=_0x15e9dc=>{const _0x50731c=_0x2a7af2;_0x15e9dc[_0x50731c(0x233)](),openEdit(_0x1639f0);},_0xb6776b;}function attachLongPressHandler(_0x2d1314,_0x535f93){const _0x42acd9=a2_0x594572;let _0x428ffa=0x0,_0x415cdb=null;const _0x1a1aa7=_0x3baedf=>{const _0x45bd9b=a2_0x1d66;if(_0x3baedf[_0x45bd9b(0x1fb)][_0x45bd9b(0x1df)](_0x45bd9b(0x298)))return;isScrolling=![],_0x428ffa=_0x3baedf[_0x45bd9b(0x237)]?_0x3baedf[_0x45bd9b(0x237)][0x0][_0x45bd9b(0x292)]:_0x3baedf[_0x45bd9b(0x292)],_0x415cdb=setTimeout(()=>{const _0x5f3374=_0x45bd9b;if(!isScrolling){navigator[_0x5f3374(0x2e3)]?.(0x32);const _0x3ca332=_0x2d1314[_0x5f3374(0x1da)](),_0x3517fd=Math[_0x5f3374(0x20e)]((_0x428ffa-_0x3ca332[_0x5f3374(0x23a)])/GRID_H);_0x535f93[_0x5f3374(0x1fa)](_0x3517fd,0x0),openAddSession(_0x535f93);}},0x1f4);},_0x312dd3=()=>{isScrolling=!![],clearTimeout(_0x415cdb);},_0x17fbde=()=>{clearTimeout(_0x415cdb);};_0x2d1314[_0x42acd9(0x308)](_0x42acd9(0x2cc),_0x1a1aa7,{'passive':!![]}),_0x2d1314['addEventListener']('touchmove',_0x312dd3,{'passive':!![]}),_0x2d1314['addEventListener'](_0x42acd9(0x33b),_0x17fbde),_0x2d1314[_0x42acd9(0x308)](_0x42acd9(0x24b),_0x1a1aa7),_0x2d1314[_0x42acd9(0x308)]('mousemove',_0x312dd3),_0x2d1314['addEventListener'](_0x42acd9(0x27b),_0x17fbde);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x1f3ee6=a2_0x594572,_0x47d1f0=document[_0x1f3ee6(0x279)]('matrixViewport'),_0x134692=_0x47d1f0[_0x1f3ee6(0x1eb)],_0x345864=_0x47d1f0[_0x1f3ee6(0x22f)],_0x507487=_0x47d1f0[_0x1f3ee6(0x2a7)];if(_0x345864-(_0x134692+_0x507487)<0x12c){const _0x57db13=endOffset;endOffset+=0xe,renderDayRange(_0x57db13+0x1,endOffset),reRenderBlocks();}if(_0x134692<0x12c){const _0x493249=startOffset;startOffset-=0xe,prependDays(startOffset,_0x493249-0x1),_0x47d1f0['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x297e42,_0x7baf7f){const _0x3feb7b=a2_0x594572,_0x3d22f9=document['getElementById'](_0x3feb7b(0x2df)),_0x3523fc=document[_0x3feb7b(0x279)](_0x3feb7b(0x256)),_0x1b79c9=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x523460=new Date();_0x523460[_0x3feb7b(0x1fa)](0x0,0x0,0x0,0x0);const _0x277c30=getLocalDateStr(new Date()),_0x41b17f=document[_0x3feb7b(0x2d5)](),_0x3d23fb=document[_0x3feb7b(0x2d5)]();for(let _0x4fa6f1=_0x297e42;_0x4fa6f1<=_0x7baf7f;_0x4fa6f1++){const _0x2c1b52=new Date(_0x523460);_0x2c1b52[_0x3feb7b(0x2b2)](_0x2c1b52[_0x3feb7b(0x1f9)]()+_0x4fa6f1);const _0x2fa917=getLocalDateStr(_0x2c1b52);let _0x12f901=_0x2c1b52['getDay']()-0x1;if(_0x12f901===-0x1)_0x12f901=0x6;const _0xc7eef6=_0x2fa917===_0x277c30,_0x4ac0f7=document['createElement'](_0x3feb7b(0x322));_0x4ac0f7[_0x3feb7b(0x30b)]=_0x3feb7b(0x339)+(_0xc7eef6?_0x3feb7b(0x243):''),_0x4ac0f7['id']=_0x3feb7b(0x30c)+_0x2fa917,_0x4ac0f7[_0x3feb7b(0x230)](_0x3feb7b(0x28c),_0x2fa917),_0x4ac0f7[_0x3feb7b(0x1db)]='<div\x20class=\x22dch-day\x22>'+_0x1b79c9[_0x12f901]+_0x3feb7b(0x27d)+_0x2c1b52[_0x3feb7b(0x1f9)]()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0x2fa917+_0x3feb7b(0x315),_0x4ac0f7['onclick']=()=>openDayOptions(_0x2fa917,_0x1b79c9[_0x12f901]+'\x20'+_0x2c1b52[_0x3feb7b(0x1f9)]()),_0x41b17f[_0x3feb7b(0x22b)](_0x4ac0f7);const _0x5f2490=document[_0x3feb7b(0x242)](_0x3feb7b(0x322));_0x5f2490[_0x3feb7b(0x30b)]=_0x3feb7b(0x291)+(_0xc7eef6?_0x3feb7b(0x243):''),_0x5f2490[_0x3feb7b(0x230)]('data-date',_0x2fa917),_0x5f2490['setAttribute'](_0x3feb7b(0x34a),_0x12f901),renderEventsForColumn(_0x5f2490,_0x2fa917,_0x12f901),attachLongPressHandler(_0x5f2490,_0x2c1b52),_0x3d23fb[_0x3feb7b(0x22b)](_0x5f2490),updateDayStats(_0x2fa917);}_0x3d22f9[_0x3feb7b(0x349)](_0x41b17f,_0x3d22f9[_0x3feb7b(0x2a1)]),_0x3523fc[_0x3feb7b(0x349)](_0x3d23fb,_0x3523fc['querySelector'](_0x3feb7b(0x312)));}function validateAppointment(_0x147ad3,_0x18eae2,_0x16d991,_0x17ca87,_0x56f080){const _0x428b3a=a2_0x594572,[_0xc289e2,_0x96ffec]=_0x18eae2['split'](':')[_0x428b3a(0x257)](Number),[_0xeaf745,_0x3849c9]=_0x16d991[_0x428b3a(0x280)](':')[_0x428b3a(0x257)](Number),_0x19176d=_0xc289e2*0x3c+_0x96ffec,_0xa0d855=_0xeaf745*0x3c+_0x3849c9,_0x4eba52=String(_0x56f080);let _0x22c78d=![],_0x173279='';for(let _0x5132eb of sessions){if(_0x5132eb[_0x428b3a(0x1e4)]!==_0x147ad3)continue;if(_0x5132eb['status']===_0x428b3a(0x231))continue;if(_0x17ca87&&String(_0x5132eb['id'])===String(_0x17ca87))continue;const [_0xe2fc38,_0x59d427]=_0x5132eb[_0x428b3a(0x30e)][_0x428b3a(0x280)](':')[_0x428b3a(0x257)](Number),[_0x2261b8,_0x1f5b99]=_0x5132eb['end'][_0x428b3a(0x280)](':')['map'](Number),_0x49ffee=_0xe2fc38*0x3c+_0x59d427,_0x361d67=_0x2261b8*0x3c+_0x1f5b99;if(Math['max'](_0x19176d,_0x49ffee)<Math[_0x428b3a(0x20f)](_0xa0d855,_0x361d67)){if(_0x5132eb[_0x428b3a(0x225)]&&String(_0x5132eb['clientId'])===_0x4eba52)return{'valid':![],'msg':_0x428b3a(0x210)+_0x5132eb[_0x428b3a(0x358)]+_0x428b3a(0x327)};_0x22c78d=!![],_0x173279=_0x5132eb[_0x428b3a(0x358)];}}if(_0x22c78d)return{'valid':!![],'warning':_0x428b3a(0x31d)+_0x173279};return{'valid':!![]};}function updateDateDisplay(){const _0x55a3a5=a2_0x594572,_0x3f7071=document['getElementById'](_0x55a3a5(0x26d))[_0x55a3a5(0x228)],_0x435c7e=document[_0x55a3a5(0x279)](_0x55a3a5(0x2f2));if(!_0x3f7071){_0x435c7e[_0x55a3a5(0x2e4)]='';return;}const [_0x496eeb,_0x240ef0,_0x3516aa]=_0x3f7071[_0x55a3a5(0x280)]('-')[_0x55a3a5(0x257)](Number),_0x2ce2fd=new Date(_0x496eeb,_0x240ef0-0x1,_0x3516aa),_0x1f4cac={'weekday':'long','day':_0x55a3a5(0x1fd),'month':_0x55a3a5(0x286),'year':'numeric'};let _0x30fc28=_0x2ce2fd[_0x55a3a5(0x30a)]('ru-RU',_0x1f4cac);_0x30fc28=_0x30fc28['charAt'](0x0)[_0x55a3a5(0x34f)]()+_0x30fc28['slice'](0x1),_0x435c7e[_0x55a3a5(0x2e4)]=_0x30fc28;}function autoSetEndTime(){const _0xd87664=a2_0x594572,_0x42f7b1=document[_0xd87664(0x279)](_0xd87664(0x1de))[_0xd87664(0x228)];if(!_0x42f7b1)return;const [_0x1ce54c,_0x23ba2c]=_0x42f7b1['split'](':')[_0xd87664(0x257)](Number);let _0x485312=_0x1ce54c+0x1;if(_0x485312>0x17)_0x485312=0x0;const _0x336000=String(_0x485312)[_0xd87664(0x2b8)](0x2,'0')+':'+String(_0x23ba2c)[_0xd87664(0x2b8)](0x2,'0');document[_0xd87664(0x279)](_0xd87664(0x2bc))[_0xd87664(0x228)]=_0x336000;}function populateClientSelect(){const _0x223dc8=a2_0x594572,_0x1d1aed=document[_0x223dc8(0x279)]('inpClient');_0x1d1aed[_0x223dc8(0x1db)]='';if(clients['length']===0x0){const _0x1d962d=document[_0x223dc8(0x242)](_0x223dc8(0x337));_0x1d962d[_0x223dc8(0x2f1)]=_0x223dc8(0x21c),_0x1d1aed['appendChild'](_0x1d962d);return;}clients['forEach'](_0x9347df=>{const _0x58f0c5=_0x223dc8,_0x57527f=document['createElement']('option');_0x57527f[_0x58f0c5(0x228)]=_0x9347df['name'],_0x57527f[_0x58f0c5(0x2e4)]=_0x9347df[_0x58f0c5(0x21e)],_0x1d1aed[_0x58f0c5(0x22b)](_0x57527f);});}function openActionSheet(_0x40e4dd){const _0x4a26b2=a2_0x594572,_0x5291c6=document[_0x4a26b2(0x279)]('actionSheet'),_0x313282=document[_0x4a26b2(0x279)](_0x4a26b2(0x332)),_0x30c701=document['getElementById']('asTitle'),_0x3b42aa=document[_0x4a26b2(0x279)]('asBtnOne'),_0x5ea87f=document[_0x4a26b2(0x279)](_0x4a26b2(0x236));_0x313282[_0x4a26b2(0x1e1)][_0x4a26b2(0x2b6)]('active'),_0x5291c6[_0x4a26b2(0x1e1)]['add'](_0x4a26b2(0x2a2));if(_0x40e4dd===_0x4a26b2(0x305))_0x30c701[_0x4a26b2(0x2e4)]=_0x4a26b2(0x212),_0x3b42aa[_0x4a26b2(0x2e4)]=_0x4a26b2(0x328),_0x3b42aa[_0x4a26b2(0x33d)]=()=>{closeActionSheet(),updateSeriesBatch('single',tempSessionData);},_0x5ea87f[_0x4a26b2(0x2e4)]='–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ',_0x5ea87f[_0x4a26b2(0x33d)]=()=>{const _0x19f9dc=_0x4a26b2;closeActionSheet(),updateSeriesBatch(_0x19f9dc(0x2e2),tempSessionData);};else _0x40e4dd==='delete'&&(_0x30c701[_0x4a26b2(0x2e4)]=_0x4a26b2(0x2a4),_0x3b42aa['textContent']=_0x4a26b2(0x328),_0x3b42aa['className']='as-button\x20danger',_0x3b42aa[_0x4a26b2(0x33d)]=()=>{const _0xa33fb8=_0x4a26b2;closeActionSheet(),commitDelete(_0xa33fb8(0x232),sessions[_0xa33fb8(0x320)](_0x20d12c=>_0x20d12c['id']===editingId));},_0x5ea87f[_0x4a26b2(0x2e4)]=_0x4a26b2(0x1ff),_0x5ea87f[_0x4a26b2(0x30b)]=_0x4a26b2(0x23f),_0x5ea87f[_0x4a26b2(0x33d)]=()=>{const _0x5b6f3d=_0x4a26b2;closeActionSheet(),commitDelete(_0x5b6f3d(0x2e2),sessions['find'](_0x4d4a2d=>_0x4d4a2d['id']===editingId));});}function closeActionSheet(){const _0x465ddd=a2_0x594572;document['getElementById']('actionSheet')[_0x465ddd(0x1e1)]['remove'](_0x465ddd(0x2a2)),document['getElementById']('actionSheetOverlay')[_0x465ddd(0x1e1)][_0x465ddd(0x2f7)](_0x465ddd(0x1e2));}function openSettings(){openSheet('settingsSheet');}function saveCoachSettings(){const _0x188581=a2_0x594572,_0x13bb76=document[_0x188581(0x279)]('settingCancelWindow')[_0x188581(0x228)];localStorage[_0x188581(0x2b3)](_0x188581(0x1f3),_0x13bb76),console[_0x188581(0x240)](_0x188581(0x28f),_0x13bb76),DataManager['fetchFromServer'](_0x188581(0x213),{'settings':{'cancel_window':_0x13bb76}})[_0x188581(0x21d)](_0x3c7563=>{const _0x5cef72=_0x188581;console[_0x5cef72(0x29e)](_0x5cef72(0x21a),_0x3c7563),showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫',![]);});}function loadCoachSettings(){const _0x4fc89c=a2_0x594572,_0x485f78=localStorage[_0x4fc89c(0x331)]('uc_settings_cancel_window');_0x485f78&&(document['getElementById'](_0x4fc89c(0x1f1))[_0x4fc89c(0x228)]=_0x485f78);}function openRangesSheet(){const _0x17851d=a2_0x594572;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x17851d(0x2fa));}function addRange(){const _0x5eca9a=a2_0x594572,_0x27585a=document[_0x5eca9a(0x279)](_0x5eca9a(0x28b))[_0x5eca9a(0x228)],_0x1f3a41=document[_0x5eca9a(0x279)](_0x5eca9a(0x2d1))[_0x5eca9a(0x228)],_0x1283f0=document[_0x5eca9a(0x279)]('rangeEndDate')[_0x5eca9a(0x228)],_0x5a399b=document['getElementById'](_0x5eca9a(0x202))[_0x5eca9a(0x228)];if(!_0x27585a||!_0x1f3a41||!_0x1283f0||!_0x5a399b)return alert(_0x5eca9a(0x359));const _0x10baa9=_0x27585a+'T'+_0x1f3a41,_0x37af0f=_0x1283f0+'T'+_0x5a399b;if(_0x10baa9>=_0x37af0f)return alert('–û—à–∏–±–∫–∞\x20–¥–∞—Ç');specialRanges[_0x5eca9a(0x2e8)]({'start':_0x10baa9,'end':_0x37af0f}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x5eca9a(0x32e)](),DataManager[_0x5eca9a(0x2ce)](_0x5eca9a(0x213),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x454229){const _0x4d8baa=a2_0x594572;specialRanges[_0x4d8baa(0x2a5)](_0x454229,0x1),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x4d8baa(0x2ce)](_0x4d8baa(0x213),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x4aa8d3=a2_0x594572;document[_0x4aa8d3(0x279)](_0x4aa8d3(0x28b))[_0x4aa8d3(0x228)]='',document[_0x4aa8d3(0x279)](_0x4aa8d3(0x2d1))['value']=_0x4aa8d3(0x205),document['getElementById'](_0x4aa8d3(0x317))[_0x4aa8d3(0x228)]='',document['getElementById'](_0x4aa8d3(0x202))[_0x4aa8d3(0x228)]=_0x4aa8d3(0x2cd);}function renderRangesList(){const _0x17a7be=a2_0x594572,_0x5a6461=document['getElementById']('rangesList');_0x5a6461[_0x17a7be(0x1db)]='';if(!specialRanges[_0x17a7be(0x1f6)]){_0x5a6461[_0x17a7be(0x1db)]=_0x17a7be(0x350);return;}specialRanges[_0x17a7be(0x2f9)]((_0x1ede20,_0x10c62c)=>{const _0x2d642b=_0x17a7be,_0x44418a=document['createElement'](_0x2d642b(0x322));_0x44418a[_0x2d642b(0x30b)]=_0x2d642b(0x1ec);const _0xa99de4=_0x55524f=>{const _0x152302=_0x2d642b,_0x17775f=new Date(_0x55524f);return _0x17775f[_0x152302(0x1f9)]()+'.'+String(_0x17775f[_0x152302(0x1f5)]()+0x1)['padStart'](0x2,'0')+'\x20'+String(_0x17775f['getHours']())[_0x152302(0x2b8)](0x2,'0')+':'+String(_0x17775f[_0x152302(0x2aa)]())['padStart'](0x2,'0');};_0x44418a[_0x2d642b(0x1db)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>'+_0xa99de4(_0x1ede20[_0x2d642b(0x30e)])+_0x2d642b(0x26b)+_0xa99de4(_0x1ede20[_0x2d642b(0x1d9)])+_0x2d642b(0x288)+_0x10c62c+')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>',_0x5a6461['appendChild'](_0x44418a);});}function scrollToToday(){const _0x1b5393=a2_0x594572,_0x181875=getLocalDateStr(new Date()),_0x9e020a=document[_0x1b5393(0x279)](_0x1b5393(0x30c)+_0x181875),_0x5c9de2=document[_0x1b5393(0x279)]('matrixViewport');if(_0x9e020a&&_0x5c9de2){const _0x3c01ee=_0x5c9de2[_0x1b5393(0x2a7)],_0x152689=_0x9e020a[_0x1b5393(0x249)],_0x3bdbb4=_0x9e020a[_0x1b5393(0x226)];_0x5c9de2['scrollLeft']=_0x152689-_0x3c01ee/0x2+_0x3bdbb4/0x2,_0x5c9de2[_0x1b5393(0x27f)]=0x9*GRID_H;}}function onScroll(){const _0x2e0693=a2_0x594572,_0x40bc04=document['getElementById'](_0x2e0693(0x31b)),_0x3643f0=document['querySelectorAll'](_0x2e0693(0x254));for(let _0xfeb549 of _0x3643f0)if(_0xfeb549[_0x2e0693(0x249)]>=_0x40bc04[_0x2e0693(0x1eb)]){const _0x2b6ed7=new Date(_0xfeb549[_0x2e0693(0x351)](_0x2e0693(0x28c)));document[_0x2e0693(0x279)](_0x2e0693(0x2f5))['textContent']=_0x2b6ed7[_0x2e0693(0x2eb)]('ru',{'month':'long'})[_0x2e0693(0x34f)]()+'\x20'+_0x2b6ed7[_0x2e0693(0x251)]();break;}}function showToast(_0x317005,_0x176e66=![]){const _0x3be757=a2_0x594572,_0x25fe4a=document['getElementById'](_0x3be757(0x259));_0x25fe4a[_0x3be757(0x30b)]='toast-notification\x20'+(_0x176e66?'success':''),document['getElementById'](_0x3be757(0x201))[_0x3be757(0x2e4)]=_0x176e66?'–£—Å–ø–µ—à–Ω–æ':_0x3be757(0x24c),document['getElementById'](_0x3be757(0x28a))[_0x3be757(0x2e4)]=_0x317005,_0x25fe4a['classList']['add']('show'),setTimeout(()=>{const _0x4d5f41=_0x3be757;_0x25fe4a[_0x4d5f41(0x1e1)][_0x4d5f41(0x2f7)](_0x4d5f41(0x355));},0xbb8);}function openDayOptions(_0x25db36,_0x1855d9){const _0x29867b=a2_0x594572;selectedDayForOptions=_0x25db36,document[_0x29867b(0x279)](_0x29867b(0x34c))[_0x29867b(0x2e4)]=_0x1855d9,openSheet(_0x29867b(0x34b));}function toggleDayOff(){const _0x267eb6=a2_0x594572;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x267eb6(0x2f3),reRenderBlocks(),closeAllSheets(),DataManager[_0x267eb6(0x32e)](),DataManager['fetchFromServer'](_0x267eb6(0x213),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x3633b2=a2_0x594572;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x3633b2(0x32e)](),DataManager[_0x3633b2(0x2ce)](_0x3633b2(0x213),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x1c24d0){const _0x3af243=a2_0x594572;document[_0x3af243(0x279)](_0x3af243(0x218))[_0x3af243(0x1e1)][_0x3af243(0x2b6)](_0x3af243(0x1e2)),document[_0x3af243(0x279)](_0x1c24d0)[_0x3af243(0x1e1)]['add'](_0x3af243(0x2a2));}function closeAllSheets(){const _0x5490d4=a2_0x594572;document[_0x5490d4(0x279)]('overlay')[_0x5490d4(0x1e1)]['remove'](_0x5490d4(0x1e2)),document[_0x5490d4(0x21f)](_0x5490d4(0x301))[_0x5490d4(0x2f9)](_0x195f55=>_0x195f55[_0x5490d4(0x1e1)][_0x5490d4(0x2f7)](_0x5490d4(0x2a2)));}function openPatternEditor(){const _0x5479b7=a2_0x594572;closeAllSheets(),document[_0x5479b7(0x279)](_0x5479b7(0x20a))['classList'][_0x5479b7(0x2b6)]('open'),renderPatternEditor();}function closePatternEditor(){const _0x4bbd05=a2_0x594572;document['getElementById'](_0x4bbd05(0x20a))[_0x4bbd05(0x1e1)][_0x4bbd05(0x2f7)](_0x4bbd05(0x2a2));}function savePattern(){const _0x3bf0e5=a2_0x594572;document['getElementById'](_0x3bf0e5(0x20a))[_0x3bf0e5(0x1e1)][_0x3bf0e5(0x2f7)](_0x3bf0e5(0x2a2)),reRenderBlocks(),DataManager[_0x3bf0e5(0x32e)](),DataManager[_0x3bf0e5(0x2ce)](_0x3bf0e5(0x213),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x45a57a=a2_0x594572,_0x2dd6d3=document[_0x45a57a(0x279)]('peGrid');_0x2dd6d3[_0x45a57a(0x1db)]='';const _0xe1ae02=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x24dd04=document[_0x45a57a(0x242)]('div');_0x24dd04[_0x45a57a(0x30b)]='pe-corner',_0x2dd6d3[_0x45a57a(0x22b)](_0x24dd04),_0xe1ae02[_0x45a57a(0x2f9)]((_0x458036,_0x4253a7)=>{const _0x2c80c4=_0x45a57a,_0x23c3e=document['createElement'](_0x2c80c4(0x322));_0x23c3e[_0x2c80c4(0x30b)]=_0x2c80c4(0x338),_0x23c3e[_0x2c80c4(0x1db)]=_0x458036+_0x2c80c4(0x2a0),_0x23c3e[_0x2c80c4(0x33d)]=()=>toggleColPattern(_0x4253a7),_0x2dd6d3['appendChild'](_0x23c3e);});for(let _0x259054=0x0;_0x259054<0x18;_0x259054++){const _0x23dad3=document[_0x45a57a(0x242)]('div');_0x23dad3[_0x45a57a(0x30b)]=_0x45a57a(0x310),_0x23dad3[_0x45a57a(0x1db)]='<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>'+String(_0x259054)['padStart'](0x2,'0')+':00',_0x23dad3['onclick']=()=>toggleRowPattern(_0x259054),_0x2dd6d3[_0x45a57a(0x22b)](_0x23dad3);for(let _0x23136b=0x0;_0x23136b<0x7;_0x23136b++){const _0x5ab9e2=document[_0x45a57a(0x242)](_0x45a57a(0x322)),_0x90f875=(availabilityPattern[_0x23136b]||[])[_0x45a57a(0x318)](_0x259054),_0x3bffcb=!_0x90f875;_0x5ab9e2[_0x45a57a(0x30b)]=_0x45a57a(0x342)+(_0x3bffcb?_0x45a57a(0x1e2):''),_0x5ab9e2[_0x45a57a(0x33d)]=()=>toggleSinglePattern(_0x23136b,_0x259054),_0x2dd6d3['appendChild'](_0x5ab9e2);}}}function toggleSinglePattern(_0x4d7352,_0xae0ac0){const _0x4938dd=a2_0x594572;if(!availabilityPattern[_0x4d7352])availabilityPattern[_0x4d7352]=[];const _0x17c797=availabilityPattern[_0x4d7352],_0x3536a0=_0x17c797[_0x4938dd(0x234)](_0xae0ac0);_0x3536a0===-0x1?_0x17c797[_0x4938dd(0x2e8)](_0xae0ac0):_0x17c797[_0x4938dd(0x2a5)](_0x3536a0,0x1),renderPatternEditor();}function toggleColPattern(_0x51fc3f){const _0x2eee39=a2_0x594572;if(!availabilityPattern[_0x51fc3f])availabilityPattern[_0x51fc3f]=[];const _0x173a85=availabilityPattern[_0x51fc3f];_0x173a85[_0x2eee39(0x1f6)]===0x0?availabilityPattern[_0x51fc3f]=Array[_0x2eee39(0x26e)]({'length':0x18},(_0x13019b,_0x4e843e)=>_0x4e843e):availabilityPattern[_0x51fc3f]=[],renderPatternEditor();}function toggleRowPattern(_0xda270e){const _0x48cc9b=a2_0x594572;let _0x151fd1=!![];for(let _0xe614fc=0x0;_0xe614fc<0x7;_0xe614fc++){if((availabilityPattern[_0xe614fc]||[])['includes'](_0xda270e)){_0x151fd1=![];break;}}for(let _0x34d9e8=0x0;_0x34d9e8<0x7;_0x34d9e8++){if(!availabilityPattern[_0x34d9e8])availabilityPattern[_0x34d9e8]=[];const _0x36e757=availabilityPattern[_0x34d9e8][_0x48cc9b(0x234)](_0xda270e);if(_0x151fd1){if(_0x36e757===-0x1)availabilityPattern[_0x34d9e8][_0x48cc9b(0x2e8)](_0xda270e);}else{if(_0x36e757!==-0x1)availabilityPattern[_0x34d9e8][_0x48cc9b(0x2a5)](_0x36e757,0x1);}}renderPatternEditor();}function renderPCol(_0x21ddc8,_0x1baa89){const _0x24e5e1=a2_0x594572;_0x21ddc8[_0x24e5e1(0x1db)]='';const _0x358378=Math[_0x24e5e1(0x270)](_0x21ddc8[_0x24e5e1(0x249)]);(availabilityPattern[_0x1baa89]||[])[_0x24e5e1(0x2f9)](_0x25fe93=>{const _0x55fe9a=_0x24e5e1,_0x201bb9=document['createElement'](_0x55fe9a(0x322));_0x201bb9[_0x55fe9a(0x30b)]=_0x55fe9a(0x252);const _0x41ddf8=_0x25fe93*GRID_H;_0x201bb9[_0x55fe9a(0x33e)][_0x55fe9a(0x23a)]=_0x41ddf8+'px',_0x201bb9[_0x55fe9a(0x33e)]['backgroundPosition']='-'+_0x358378+'px\x20-'+_0x41ddf8+'px',_0x201bb9['onclick']=_0x32dc0b=>{const _0x29b48=_0x55fe9a;_0x32dc0b[_0x29b48(0x233)](),toggleSinglePattern(_0x1baa89,_0x25fe93);},_0x21ddc8['appendChild'](_0x201bb9);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x182b59=a2_0x594572,_0x16bd17=new Date(),_0x5d004c=document['getElementById'](_0x182b59(0x224)),_0x3f66db=document[_0x182b59(0x279)](_0x182b59(0x345)),_0x2e025a=(_0x16bd17[_0x182b59(0x1dd)]()*0x3c+_0x16bd17[_0x182b59(0x2aa)]())/0x3c*GRID_H;_0x5d004c[_0x182b59(0x33e)][_0x182b59(0x23a)]=_0x2e025a+'px',_0x5d004c[_0x182b59(0x33e)][_0x182b59(0x297)]=_0x182b59(0x2af),_0x3f66db['textContent']=String(_0x16bd17[_0x182b59(0x1dd)]())[_0x182b59(0x2b8)](0x2,'0')+':'+String(_0x16bd17[_0x182b59(0x2aa)]())['padStart'](0x2,'0'),_0x3f66db[_0x182b59(0x33e)]['display']='block',_0x3f66db[_0x182b59(0x33e)][_0x182b59(0x23a)]=_0x2e025a+'px';}document[a2_0x594572(0x308)](a2_0x594572(0x22c),init);function a2_0x20f4(){const _0x5dfb5d=['complete','doBusyHours','rgba(100,100,100,0.5)','day-off-overlay\x20stripe-bg','setHeaderColor','rgba(255,255,255,0.05)','\x20‚Äî\x20','.day-off-overlay','inpDate','from','data','round','cancel_window','scroll','[Notify]\x20Network\x20Failed','.period-switch\x20.p-btn','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','sort','[Series]\x20Skipped\x20','timeColumn','getElementById','</b>\x0a\x0a','mouseup','loadLocal','</div><div\x20class=\x22dch-num\x22>','anDonutCircle','scrollTop','split','var(--acc-current)','btnDayToggle','week','msg','Telegram','long','max','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','toastMessage','rangeStartDate','data-date','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','completed','[Settings]\x20Cancel\x20window\x20set\x20to:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','day-column\x20','clientY','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','491112wLvcKB','syncBatch','display','.event-card','initDataUnsafe','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','cancel','btn-primary\x20btn-danger','apply','error','checked','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','firstChild','open','5468YTIGxy','–£–¥–∞–ª–µ–Ω–∏–µ','splice','rgba(255,\x20159,\x2010,\x200.3)','clientWidth','null','month','getMinutes','anTotalStats','colIndex','undefined','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','block','getTime','btn-status-toggle','setDate','setItem','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','now','add','getDay','padStart','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','Server\x20Error','2239554YGXDiG','inpEnd','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','Unknown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','btnStatusToggle','sid','setMonth','\x20–∏–∑\x20','blocked-range-part\x20stripe-bg','WebApp','text/plain;charset=UTF-8','warn','Local\x20Load\x20Error','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','Batch\x20Sync\x20OK','touchstart','23:59','fetchFromServer','1404dQREJS','update','rangeStartTime','\x20days','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','[Notify]\x20Error:\x20Text\x20generation\x20failed','createDocumentFragment','8TyZeFa','anPercent','custom','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','uc_clients_v9','findIndex','all','\x20status-completed','rgba(48,\x20209,\x2088,\x200.15)','daysHeaderTrack','constructor','send','series','vibrate','textContent','stat-','sheetTitle','create','push','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','toLocaleString','stringify','substr','init_load','toString','[Notify]\x20Server\x20Response:','text','sheetDateSubtitle','off','syncLoad','headerMonth','(((.+)+)+)+$','remove','setBackgroundColor','forEach','rangesSheet',']\x20Failed:','anCustomDates','onClick','#gridColumns\x20.day-column','ready','<div\x20class=\x22dch-day\x22>','.sheet','borderLeftColor','px\x200px','seriesId','save','mini','193gFjpxg','addEventListener','router.html','toLocaleDateString','className','header-','231910CUPNSB','start','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','pe-time-label','rgba(','.day-column','inpClient','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','height','rangeEndDate','includes','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','btn-status-toggle\x20undo-mode','matrixViewport','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','%\x20-\x204px)','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','find','localeCompare','div','getText','mergeServerData','href','charAt',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','44308xfIpqG','inpNote','10px','uc_settings_v9','isArray','saveLocally','calendar','#fff','getItem','actionSheetOverlay','initData','9iHifhH','Error\x20setting\x20back\x20button:','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','option','pe-col-header','day-col-header\x20','doLoadPercent','touchend','[Notify]\x20Attempting\x20to\x20send:','onclick','style','[Notify]\x20Error:\x20sessionData\x20is\x20null','note','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','pe-cell\x20','left','</div><div\x20class=\x22ev-time\x22>','timeLineBadge','status','delete','btnDelete','insertBefore','data-day-idx','dayOptionsSheet','dayOptionsTitle','done','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','toUpperCase','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','getAttribute','Error\x20setting\x20color:','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','show','total','ranges','client','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','color','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','background','end','getBoundingClientRect','innerHTML','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','getHours','inpStart','closest','uc_sessions_v9','classList','active','pattern','dateStr','warning','#050505','disableVerticalSwipes','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','var(--acc-red)','exceptions','scrollLeft','range-item','analyticsSheet','zIndex',':00','var(--acc-orange)','settingCancelWindow','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','uc_settings_cancel_window','planned','getMonth','length','seriesCountContainer','patternInfoBox','getDate','setHours','target','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','numeric','...','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','analyticsList','toastTitle','rangeEndTime','btn-primary\x20btn-secondary','client-stat-card','00:00','inpRecurring','backgroundPosition','json','%\x20+\x202px)','patternEditor','inpSeriesCount','borderColor','flex','floor','min','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','borderRadius','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','save_settings','then','expand','anStart','filter','overlay','doDateHeader','Save\x20settings\x20error:','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','catch','name','querySelectorAll','width','965aXClfi','random','querySelector','globalTimeLine','clientId','offsetWidth','valid','value','[Sync]\x20Loading\x20','<b>‚úÖ\x20','appendChild','DOMContentLoaded','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','scrollWidth','setAttribute','cancelled','single','stopPropagation','indexOf','.pib-text','asBtnSeries','touches','none','settings','top','rgba(255,\x2069,\x2058,\x200.3)','<span>','user','100%','as-button\x20danger\x20bold','log','slice','createElement','today','sessionSheet','</div>','search','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','offsetLeft',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','mousedown','–ò–Ω—Ñ–æ','clients',':00</span>','parse','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','getFullYear','blocked-slot\x20stripe-bg','BackButton','.day-col-header','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','gridColumns','map','anEnd','toast','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','Local\x20Save\x20Error','calc(','760361ZXaDle','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','v9.0-BATCH-CALENDAR','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','[Notify]\x20Client\x20SWAP\x20detected','strokeDashoffset','recurringOptionContainer'];a2_0x20f4=function(){return _0x5dfb5d;};return a2_0x20f4();}function openDayOptions(_0x444a3a){const _0x156b59=a2_0x594572;selectedDayForOptions=_0x444a3a;const _0x1dc63a=new Date(_0x444a3a),_0x550d61={'weekday':_0x156b59(0x286),'day':'numeric','month':_0x156b59(0x286),'year':_0x156b59(0x1fd)},_0x502ed1=_0x1dc63a[_0x156b59(0x30a)]('ru-RU',_0x550d61);document[_0x156b59(0x279)](_0x156b59(0x219))['textContent']=_0x502ed1[_0x156b59(0x326)](0x0)['toUpperCase']()+_0x502ed1[_0x156b59(0x241)](0x1);let _0x5bfa9f=_0x1dc63a['getDay']()-0x1;if(_0x5bfa9f===-0x1)_0x5bfa9f=0x6;const _0x4deee9=availabilityPattern[_0x5bfa9f]||[],_0x38b67d=0x18-_0x4deee9[_0x156b59(0x1f6)],_0x108a88=_0x38b67d*0x3c,_0x11a967=sessions['filter'](_0x528db9=>_0x528db9[_0x156b59(0x1e4)]===_0x444a3a&&_0x528db9[_0x156b59(0x346)]!=='cancelled');let _0x31bf11=_0x11a967['map'](_0x28d9b0=>{const _0x55503f=_0x156b59,[_0x439cee,_0x10a654]=_0x28d9b0[_0x55503f(0x30e)]['split'](':')[_0x55503f(0x257)](Number),[_0x17404a,_0x1b61ac]=_0x28d9b0[_0x55503f(0x1d9)][_0x55503f(0x280)](':')[_0x55503f(0x257)](Number);return[_0x439cee*0x3c+_0x10a654,_0x17404a*0x3c+_0x1b61ac];});_0x31bf11['sort']((_0x2803d5,_0x3c1688)=>_0x2803d5[0x0]-_0x3c1688[0x0]);let _0x519eeb=[];if(_0x31bf11[_0x156b59(0x1f6)]>0x0){let _0x5ef7f4=_0x31bf11[0x0];for(let _0x399474=0x1;_0x399474<_0x31bf11[_0x156b59(0x1f6)];_0x399474++){_0x31bf11[_0x399474][0x0]<_0x5ef7f4[0x1]?_0x5ef7f4[0x1]=Math[_0x156b59(0x287)](_0x5ef7f4[0x1],_0x31bf11[_0x399474][0x1]):(_0x519eeb[_0x156b59(0x2e8)](_0x5ef7f4),_0x5ef7f4=_0x31bf11[_0x399474]);}_0x519eeb['push'](_0x5ef7f4);}let _0x5293d9=0x0;_0x519eeb[_0x156b59(0x2f9)](_0x4d4340=>_0x5293d9+=_0x4d4340[0x1]-_0x4d4340[0x0]),document[_0x156b59(0x279)]('doWorkHours')[_0x156b59(0x2e4)]=formatMinsToHrs(_0x108a88),document['getElementById'](_0x156b59(0x266))[_0x156b59(0x2e4)]=formatMinsToHrs(_0x5293d9);const _0x4bc8dc=_0x108a88>0x0?Math[_0x156b59(0x270)](_0x5293d9/_0x108a88*0x64):0x0,_0x15c0a9=document[_0x156b59(0x279)](_0x156b59(0x33a));_0x15c0a9['textContent']=_0x4bc8dc+'%';const _0x488983=document['getElementById']('statLoadCard');if(_0x4bc8dc>0x64)_0x15c0a9['style'][_0x156b59(0x35a)]='var(--acc-red)',_0x488983[_0x156b59(0x33e)]['borderColor']=_0x156b59(0x23b);else _0x4bc8dc>0x50?(_0x15c0a9[_0x156b59(0x33e)][_0x156b59(0x35a)]=_0x156b59(0x1f0),_0x488983[_0x156b59(0x33e)][_0x156b59(0x20c)]=_0x156b59(0x2a6)):(_0x15c0a9[_0x156b59(0x33e)][_0x156b59(0x35a)]='var(--acc-green)',_0x488983[_0x156b59(0x33e)][_0x156b59(0x20c)]=_0x156b59(0x26a));const _0x16e40c=document[_0x156b59(0x279)]('doEventsList');_0x16e40c['innerHTML']='';_0x11a967[_0x156b59(0x1f6)]===0x0?_0x16e40c[_0x156b59(0x1db)]=_0x156b59(0x247):(_0x11a967[_0x156b59(0x276)]((_0x1ac2de,_0x316584)=>_0x1ac2de[_0x156b59(0x30e)][_0x156b59(0x321)](_0x316584[_0x156b59(0x30e)])),_0x11a967[_0x156b59(0x2f9)](_0x7066d2=>{const _0x1f0aee=_0x156b59,_0x32f120=clients[_0x1f0aee(0x320)](_0x16e3bf=>_0x16e3bf[_0x1f0aee(0x21e)]===_0x7066d2[_0x1f0aee(0x358)]),_0x2e6873=_0x32f120?_0x32f120[_0x1f0aee(0x35a)]:_0x1f0aee(0x330),_0x477d40=_0x7066d2[_0x1f0aee(0x346)]===_0x1f0aee(0x28e),_0x8a4aaa=_0x477d40?_0x1f0aee(0x336):'',_0x3005ee=document['createElement'](_0x1f0aee(0x322));_0x3005ee[_0x1f0aee(0x30b)]='de-item',_0x3005ee['style'][_0x1f0aee(0x302)]=_0x2e6873,_0x3005ee['innerHTML']=_0x1f0aee(0x22d)+_0x7066d2[_0x1f0aee(0x30e)]+'\x20-\x20'+_0x7066d2['end']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x7066d2[_0x1f0aee(0x358)]+_0x1f0aee(0x2e9)+_0x8a4aaa+_0x1f0aee(0x290),_0x16e40c[_0x1f0aee(0x22b)](_0x3005ee);}));const _0x1ff049=document[_0x156b59(0x279)](_0x156b59(0x282)),_0x328096=dateExceptions[_0x444a3a]===_0x156b59(0x2f3);_0x328096?(_0x1ff049[_0x156b59(0x2e4)]=_0x156b59(0x2c9),_0x1ff049[_0x156b59(0x30b)]=_0x156b59(0x203),_0x1ff049['style'][_0x156b59(0x35a)]='var(--acc-green)',_0x1ff049['style'][_0x156b59(0x1d8)]=_0x156b59(0x2de)):(_0x1ff049[_0x156b59(0x2e4)]=_0x156b59(0x2bd),_0x1ff049[_0x156b59(0x30b)]=_0x156b59(0x29c),_0x1ff049[_0x156b59(0x33e)]['color']=_0x156b59(0x1e9),_0x1ff049['style'][_0x156b59(0x1d8)]='rgba(255,\x2069,\x2058,\x200.15)'),openSheet('dayOptionsSheet');}let currentAnPeriod='week';function openAnalytics(){const _0x11614a=a2_0x594572,_0x231234=document['querySelector'](_0x11614a(0x274));setAnalyticsPeriod(_0x11614a(0x283),_0x231234),closeAllSheets(),openSheet(_0x11614a(0x1ed));}function setAnalyticsPeriod(_0x7da27a,_0x27adcb){const _0x4eb9e4=a2_0x594572;currentAnPeriod=_0x7da27a,document[_0x4eb9e4(0x21f)](_0x4eb9e4(0x274))[_0x4eb9e4(0x2f9)](_0x4e8f94=>_0x4e8f94['classList'][_0x4eb9e4(0x2f7)]('active'));if(_0x27adcb)_0x27adcb[_0x4eb9e4(0x1e1)][_0x4eb9e4(0x2b6)](_0x4eb9e4(0x1e2));const _0x1a91b0=document[_0x4eb9e4(0x279)](_0x4eb9e4(0x2fc));_0x1a91b0[_0x4eb9e4(0x33e)]['display']=_0x7da27a===_0x4eb9e4(0x2d8)?_0x4eb9e4(0x20d):_0x4eb9e4(0x238);const _0x3b708c=new Date();let _0x5224bf=new Date(),_0x277acc=new Date();if(_0x7da27a==='week')_0x5224bf=getStartOfWeek(_0x3b708c),_0x277acc=new Date(_0x5224bf),_0x277acc[_0x4eb9e4(0x2b2)](_0x277acc[_0x4eb9e4(0x1f9)]()+0x6);else{if(_0x7da27a===_0x4eb9e4(0x2a9))_0x5224bf=new Date(_0x3b708c[_0x4eb9e4(0x251)](),_0x3b708c['getMonth'](),0x1),_0x277acc=new Date(_0x3b708c[_0x4eb9e4(0x251)](),_0x3b708c[_0x4eb9e4(0x1f5)]()+0x1,0x0);else{!document['getElementById']('anStart')['value']&&(document['getElementById'](_0x4eb9e4(0x216))[_0x4eb9e4(0x228)]=getLocalDateStr(_0x3b708c),document[_0x4eb9e4(0x279)](_0x4eb9e4(0x258))[_0x4eb9e4(0x228)]=getLocalDateStr(_0x3b708c));refreshAnalytics();return;}}document[_0x4eb9e4(0x279)](_0x4eb9e4(0x216))['value']=getLocalDateStr(_0x5224bf),document[_0x4eb9e4(0x279)]('anEnd')[_0x4eb9e4(0x228)]=getLocalDateStr(_0x277acc),refreshAnalytics();}function refreshAnalytics(){const _0x2d6361=a2_0x594572,_0x7595d=document[_0x2d6361(0x279)](_0x2d6361(0x216))[_0x2d6361(0x228)],_0x5a2c5f=document[_0x2d6361(0x279)](_0x2d6361(0x258))[_0x2d6361(0x228)];if(!_0x7595d||!_0x5a2c5f)return;const _0x51875b=sessions[_0x2d6361(0x217)](_0x3bc8c1=>_0x3bc8c1[_0x2d6361(0x1e4)]>=_0x7595d&&_0x3bc8c1[_0x2d6361(0x1e4)]<=_0x5a2c5f&&_0x3bc8c1['status']!=='cancelled'),_0x5279d6=_0x51875b[_0x2d6361(0x1f6)],_0x31fe64=_0x51875b[_0x2d6361(0x217)](_0x736b85=>_0x736b85[_0x2d6361(0x346)]==='completed')[_0x2d6361(0x1f6)],_0xa4ee17=_0x5279d6>0x0?Math['round'](_0x31fe64/_0x5279d6*0x64):0x0;document[_0x2d6361(0x279)](_0x2d6361(0x2d7))[_0x2d6361(0x2e4)]=_0xa4ee17+'%',document['getElementById'](_0x2d6361(0x2ab))[_0x2d6361(0x2e4)]=_0x31fe64+_0x2d6361(0x2c3)+_0x5279d6+_0x2d6361(0x31f);const _0x57111c=document['getElementById'](_0x2d6361(0x27e)),_0x1d3c45=0x2*Math['PI']*0x23,_0x3e8e6c=_0x1d3c45-_0xa4ee17/0x64*_0x1d3c45;_0x57111c[_0x2d6361(0x33e)][_0x2d6361(0x263)]=_0x3e8e6c;const _0x45d466={};_0x51875b[_0x2d6361(0x2f9)](_0x403162=>{const _0x5efc6b=_0x2d6361;if(!_0x45d466[_0x403162[_0x5efc6b(0x358)]]){const _0x3d1098=clients[_0x5efc6b(0x320)](_0x534952=>_0x534952[_0x5efc6b(0x21e)]===_0x403162['client']);_0x45d466[_0x403162[_0x5efc6b(0x358)]]={'total':0x0,'done':0x0,'color':_0x3d1098?_0x3d1098[_0x5efc6b(0x35a)]:_0x5efc6b(0x330)};}_0x45d466[_0x403162[_0x5efc6b(0x358)]][_0x5efc6b(0x356)]++;if(_0x403162[_0x5efc6b(0x346)]===_0x5efc6b(0x28e))_0x45d466[_0x403162['client']][_0x5efc6b(0x34d)]++;});const _0x416a2f=document[_0x2d6361(0x279)](_0x2d6361(0x200));_0x416a2f['innerHTML']='';const _0x5a6d52=Object['entries'](_0x45d466)['sort']((_0x561d0f,_0x1d8983)=>_0x1d8983[0x1]['total']-_0x561d0f[0x1]['total']);if(_0x5a6d52['length']===0x0){_0x416a2f[_0x2d6361(0x1db)]=_0x2d6361(0x319);return;}_0x5a6d52[_0x2d6361(0x2f9)](([_0x567638,_0x262625])=>{const _0x36e638=_0x2d6361,_0xaf4fe5=Math['round'](_0x262625[_0x36e638(0x34d)]/_0x262625[_0x36e638(0x356)]*0x64),_0x45704d=document[_0x36e638(0x242)](_0x36e638(0x322));_0x45704d['className']=_0x36e638(0x204),_0x45704d[_0x36e638(0x33e)]['borderLeftColor']=_0x262625['color'],_0x45704d[_0x36e638(0x1db)]=_0x36e638(0x2bf)+_0x567638+_0x36e638(0x2b4)+_0x262625[_0x36e638(0x34d)]+'</span>\x20/\x20'+_0x262625[_0x36e638(0x356)]+_0x36e638(0x250)+_0xaf4fe5+_0x36e638(0x255),_0x416a2f['appendChild'](_0x45704d);});}function formatMinsToHrs(_0x2c2c3d){const _0x18042a=a2_0x594572;if(_0x2c2c3d===0x0)return'0';const _0x2c0c4f=Math[_0x18042a(0x20e)](_0x2c2c3d/0x3c),_0x2331a0=_0x2c2c3d%0x3c;if(_0x2331a0===0x0)return _0x2c0c4f+'—á';return _0x2c0c4f+'—á\x20'+_0x2331a0+'–º';}