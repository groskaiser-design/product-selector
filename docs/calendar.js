const a2_0x352174=a2_0x227e;(function(_0x425d6a,_0x41eb06){const _0x56e8eb=a2_0x227e,_0x3e69f7=_0x425d6a();while(!![]){try{const _0x122d78=parseInt(_0x56e8eb(0x1e5))/0x1+-parseInt(_0x56e8eb(0x1ff))/0x2*(parseInt(_0x56e8eb(0x20e))/0x3)+parseInt(_0x56e8eb(0x14a))/0x4+-parseInt(_0x56e8eb(0x206))/0x5*(-parseInt(_0x56e8eb(0x171))/0x6)+-parseInt(_0x56e8eb(0x14c))/0x7+-parseInt(_0x56e8eb(0x217))/0x8+parseInt(_0x56e8eb(0x12a))/0x9*(parseInt(_0x56e8eb(0xe6))/0xa);if(_0x122d78===_0x41eb06)break;else _0x3e69f7['push'](_0x3e69f7['shift']());}catch(_0x9dbf25){_0x3e69f7['push'](_0x3e69f7['shift']());}}}(a2_0xd512,0xcb3ed),function initTMA(){const _0x20d974=a2_0x227e;try{const _0x519dcd=window['Telegram']?.[_0x20d974(0xed)];if(!_0x519dcd)return;_0x519dcd['ready'](),_0x519dcd[_0x20d974(0x193)]();try{_0x519dcd[_0x20d974(0x1d8)]('#050505'),_0x519dcd[_0x20d974(0x136)]&&_0x519dcd['setBackgroundColor'](_0x20d974(0xd2));}catch(_0x1e760b){console[_0x20d974(0x173)](_0x20d974(0x107),_0x1e760b);}try{_0x519dcd[_0x20d974(0xf8)]&&(_0x519dcd[_0x20d974(0xf8)]['show'](),_0x519dcd[_0x20d974(0xf8)][_0x20d974(0x1b7)](),_0x519dcd[_0x20d974(0xf8)]['onClick'](function(){const _0xb5eb8c=_0x20d974;window[_0xb5eb8c(0x20f)][_0xb5eb8c(0x1ac)]=_0xb5eb8c(0x10d);}));}catch(_0x5cd7fd){console[_0x20d974(0x173)](_0x20d974(0x1fa),_0x5cd7fd);}try{if(_0x519dcd[_0x20d974(0x146)])_0x519dcd[_0x20d974(0x146)]();}catch(_0xbf60d4){}}catch(_0x233acd){console[_0x20d974(0xd4)]('Critical\x20TMA\x20Error:',_0x233acd);}}());function isAdmin(){const _0x5899fb=a2_0x227e;try{const _0x264ffc=Number(window[_0x5899fb(0xc4)]?.[_0x5899fb(0xed)]?.[_0x5899fb(0x18e)]?.[_0x5899fb(0x151)]?.['id']);return _0x264ffc===0xbaf7174;}catch(_0x50706c){return![];}}const APP_VERSION=a2_0x352174(0x145),API_URL=a2_0x352174(0x15b),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x352174(0x1a9),KEY_SESSIONS=a2_0x352174(0x148),KEY_SETTINGS=a2_0x352174(0x155);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x2be585=a2_0x352174;return window[_0x2be585(0xc4)]?.[_0x2be585(0xed)]?.[_0x2be585(0x18e)]?.[_0x2be585(0x151)]?.['id']||'guest';},'saveLocally'(){const _0x490dd3=a2_0x352174;try{localStorage[_0x490dd3(0x118)](KEY_CLIENTS,JSON[_0x490dd3(0x1a8)](clients)),localStorage['setItem'](KEY_SESSIONS,JSON[_0x490dd3(0x1a8)](sessions)),localStorage[_0x490dd3(0x118)](KEY_SETTINGS,JSON[_0x490dd3(0x1a8)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x10c8d4){console[_0x490dd3(0xd4)](_0x490dd3(0x104),_0x10c8d4);}},'loadLocal'(){const _0x5f3589=a2_0x352174;try{const _0x39c3ea=localStorage[_0x5f3589(0xd9)](KEY_CLIENTS);if(_0x39c3ea)clients=JSON[_0x5f3589(0x1ba)](_0x39c3ea);const _0x2ebbd4=localStorage[_0x5f3589(0xd9)](KEY_SESSIONS);if(_0x2ebbd4)sessions=JSON['parse'](_0x2ebbd4);const _0x132323=localStorage[_0x5f3589(0xd9)](KEY_SETTINGS);if(_0x132323){const _0x269d62=JSON[_0x5f3589(0x1ba)](_0x132323);if(_0x269d62[_0x5f3589(0x1e4)])availabilityPattern=_0x269d62['pattern'];if(_0x269d62[_0x5f3589(0x1cb)])dateExceptions=_0x269d62[_0x5f3589(0x1cb)];if(_0x269d62[_0x5f3589(0xca)])specialRanges=_0x269d62['ranges'];}else{for(let _0x3aece0=0x0;_0x3aece0<0x7;_0x3aece0++)availabilityPattern[_0x3aece0]=Array[_0x5f3589(0x140)]({'length':0xc},(_0x45a088,_0x1673d6)=>_0x1673d6+0x9);}}catch(_0x2f9ac8){console[_0x5f3589(0xd4)](_0x5f3589(0xbd),_0x2f9ac8);}},async 'fetchFromServer'(_0x4e04fd,_0x346dcd={}){const _0x10488f=a2_0x352174,_0x1b5305=window[_0x10488f(0xc4)]?.['WebApp'],_0x4c9c2f={'action':_0x4e04fd,'init_data':_0x1b5305?.[_0x10488f(0x1f2)]||'',..._0x346dcd};try{const _0xfbb747=await fetch(API_URL,{'method':_0x10488f(0x1de),'headers':{'Content-Type':_0x10488f(0xbc)},'body':JSON['stringify'](_0x4c9c2f)}),_0x20d3be=await _0xfbb747[_0x10488f(0x10e)]();if(!_0x20d3be['ok'])throw new Error(_0x20d3be[_0x10488f(0xd4)]||'Server\x20Error');return _0x20d3be[_0x10488f(0x1fb)];}catch(_0x343fa6){console['error'](_0x10488f(0x195)+_0x4e04fd+_0x10488f(0x17d),_0x343fa6);throw _0x343fa6;}},async 'syncLoad'(){const _0x238606=a2_0x352174,_0x576089=new Date(),_0x3f8285=_0x576089[_0x238606(0xce)]()+'-'+String(_0x576089[_0x238606(0x103)]()+0x1)[_0x238606(0x1bc)](0x2,'0'),_0x5ed66d=new Date(_0x576089);_0x5ed66d[_0x238606(0x15e)](_0x576089[_0x238606(0x103)]()+0x1);const _0x1b6223=_0x5ed66d[_0x238606(0xce)]()+'-'+String(_0x5ed66d[_0x238606(0x103)]()+0x1)[_0x238606(0x1bc)](0x2,'0'),_0x56af92=Date[_0x238606(0x198)]();console['log'](_0x238606(0x161)+_0x3f8285+',\x20'+_0x1b6223+_0x238606(0x1f8));try{const [_0x47237c,_0x41d60b]=await Promise[_0x238606(0x1a6)]([this['fetchFromServer'](_0x238606(0xf4),{'month_str':_0x3f8285}),this[_0x238606(0xf5)](_0x238606(0xf4),{'month_str':_0x1b6223})]);if(lastUserActionTime>_0x56af92)return console[_0x238606(0xe0)](_0x238606(0x18d)),![];return this[_0x238606(0x1c8)](_0x47237c,_0x3f8285),this[_0x238606(0x1c8)](_0x41d60b,_0x1b6223),this[_0x238606(0xb4)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x372be5){console[_0x238606(0xd4)](_0x372be5);throw _0x372be5;}},'mergeServerData'(_0x5776e6,_0x5557f7){const _0x38618c=a2_0x352174;if(!_0x5776e6)return;_0x5776e6[_0x38618c(0x156)]&&Array[_0x38618c(0xcf)](_0x5776e6[_0x38618c(0x156)])&&(clients=_0x5776e6['clients']);if(_0x5776e6[_0x38618c(0x143)]){if(_0x5776e6[_0x38618c(0x143)]['pattern'])availabilityPattern=_0x5776e6[_0x38618c(0x143)][_0x38618c(0x1e4)];if(_0x5776e6[_0x38618c(0x143)]['exceptions'])dateExceptions=_0x5776e6[_0x38618c(0x143)]['exceptions'];if(_0x5776e6[_0x38618c(0x143)][_0x38618c(0xca)])specialRanges=_0x5776e6[_0x38618c(0x143)]['ranges'];if(_0x5776e6['settings'][_0x38618c(0x13a)]){localStorage['setItem'](_0x38618c(0xd1),_0x5776e6[_0x38618c(0x143)]['cancel_window']);const _0x1dea0f=document[_0x38618c(0x186)](_0x38618c(0x1d1));if(_0x1dea0f)_0x1dea0f[_0x38618c(0x116)]=_0x5776e6[_0x38618c(0x143)][_0x38618c(0x13a)];}}_0x5776e6['calendar']&&(sessions=sessions['filter'](_0x506d00=>!_0x506d00['dateStr'][_0x38618c(0x200)](_0x5557f7)),Object['keys'](_0x5776e6['calendar'])[_0x38618c(0x1a1)](_0x54e30b=>{const _0x2c0ab7=_0x38618c,_0x57d288=_0x5776e6[_0x2c0ab7(0x19c)][_0x54e30b];_0x57d288[_0x2c0ab7(0x1a1)](_0x413af6=>{const _0x435be7=_0x2c0ab7,_0x3032fb=clients[_0x435be7(0xcb)](_0x35e954=>String(_0x35e954['id'])===String(_0x413af6['c']));sessions[_0x435be7(0x100)]({'id':_0x413af6['i'],'clientId':_0x413af6['c'],'client':_0x3032fb?_0x3032fb[_0x435be7(0x1b8)]:_0x435be7(0xdb),'dateStr':_0x5557f7+'-'+_0x54e30b['padStart'](0x2,'0'),'start':_0x413af6['s'],'end':_0x413af6['e'],'status':_0x413af6['st']||_0x435be7(0x1c1),'note':_0x413af6['n']||'','seriesId':_0x413af6['sid']||null});});}));},async 'syncBatch'(_0x27decb){const _0x28360a=a2_0x352174,_0x4d7875=[...new Set(_0x27decb)],_0x5c2e08=_0x4d7875[_0x28360a(0x14d)](_0x58443c=>{const _0x477fb9=_0x28360a,_0x13c240=sessions[_0x477fb9(0xdd)](_0xcb947e=>_0xcb947e[_0x477fb9(0x199)]===_0x58443c&&_0xcb947e[_0x477fb9(0x1f4)]!==_0x477fb9(0xf0)),_0x1e0367=_0x13c240['map'](_0x157e54=>({'i':_0x157e54['id'],'c':_0x157e54[_0x477fb9(0x164)],'s':_0x157e54[_0x477fb9(0xf3)],'e':_0x157e54[_0x477fb9(0x10c)],'st':_0x157e54[_0x477fb9(0x1f4)],'n':_0x157e54[_0x477fb9(0x203)],'sid':_0x157e54['seriesId']}));return{'date':_0x58443c,'day_data':_0x1e0367};});if(_0x5c2e08[_0x28360a(0x1b2)]===0x0)return;console['log'](_0x28360a(0x19e)+_0x5c2e08[_0x28360a(0x1b2)]+'\x20days'),await this['fetchFromServer']('batch_sync',{'changes':_0x5c2e08});}};async function init(){const _0xe9e996=a2_0x352174;DataManager[_0xe9e996(0xc7)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0xe9e996(0x186)](_0xe9e996(0x1fd))[_0xe9e996(0x1db)]('scroll',()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']()['then'](()=>{const _0x174046=_0xe9e996;showToast(_0x174046(0x20a),!![]);})[_0xe9e996(0x183)](_0x259da0=>{const _0x30226b=_0xe9e996;showToast(_0x30226b(0xe4),![]);});}function generateId(){const _0x39340f=a2_0x352174;return Date[_0x39340f(0x198)]()['toString'](0x24)+Math[_0x39340f(0x213)]()[_0x39340f(0x1b6)](0x24)[_0x39340f(0x137)](0x2,0x5);}function toggleSeriesInput(){const _0x216bb0=a2_0x352174,_0x506cf0=document[_0x216bb0(0x186)](_0x216bb0(0x17e))['checked'],_0x536ca5=document[_0x216bb0(0x186)](_0x216bb0(0x14e));_0x536ca5[_0x216bb0(0xef)][_0x216bb0(0x194)]=_0x506cf0?_0x216bb0(0x209):'none';const _0x9f5608=document[_0x216bb0(0x186)](_0x216bb0(0x20b));_0x9f5608[_0x216bb0(0xef)][_0x216bb0(0x150)]=_0x506cf0?_0x216bb0(0xfa):'10px';}function openAddSession(_0x537b4d){const _0x13ecdf=a2_0x352174;editingId=null,populateClientSelect(),document['getElementById'](_0x13ecdf(0x16d))[_0x13ecdf(0x1ab)]=_0x13ecdf(0x19a),document[_0x13ecdf(0x186)](_0x13ecdf(0x1eb))[_0x13ecdf(0xef)][_0x13ecdf(0x194)]=_0x13ecdf(0x113),document[_0x13ecdf(0x186)]('btnStatusToggle')[_0x13ecdf(0xef)][_0x13ecdf(0x194)]=_0x13ecdf(0x113);const _0x34bb0b=document['getElementById'](_0x13ecdf(0x20b)),_0x4453c0=document[_0x13ecdf(0x186)](_0x13ecdf(0x14e));_0x34bb0b[_0x13ecdf(0xef)][_0x13ecdf(0x194)]=_0x13ecdf(0x167),_0x34bb0b[_0x13ecdf(0xef)][_0x13ecdf(0x150)]=_0x13ecdf(0xcd),document[_0x13ecdf(0x186)]('inpRecurring')[_0x13ecdf(0x160)]=![],document[_0x13ecdf(0x186)]('inpSeriesCount')[_0x13ecdf(0x116)]=0x4,_0x4453c0[_0x13ecdf(0xef)][_0x13ecdf(0x194)]='none',document[_0x13ecdf(0x186)](_0x13ecdf(0x121))[_0x13ecdf(0x116)]=getLocalDateStr(_0x537b4d),updateDateDisplay();const _0x49b3cc=_0x537b4d[_0x13ecdf(0x109)]();document[_0x13ecdf(0x186)](_0x13ecdf(0x176))['value']=String(_0x49b3cc)['padStart'](0x2,'0')+':00',document['getElementById'](_0x13ecdf(0x117))[_0x13ecdf(0x116)]=String(_0x49b3cc+0x1)['padStart'](0x2,'0')+_0x13ecdf(0x1c7),openSheet(_0x13ecdf(0x16b));}function openEdit(_0x4966fc){const _0x59c3ef=a2_0x352174;editingId=_0x4966fc['id'],populateClientSelect(),document[_0x59c3ef(0x186)](_0x59c3ef(0x16d))[_0x59c3ef(0x1ab)]=_0x59c3ef(0x1f3),document['getElementById'](_0x59c3ef(0x1eb))[_0x59c3ef(0xef)][_0x59c3ef(0x194)]=_0x59c3ef(0x209);const _0x42d60e=document[_0x59c3ef(0x186)](_0x59c3ef(0x1c6));_0x42d60e[_0x59c3ef(0xef)][_0x59c3ef(0x194)]=_0x59c3ef(0x167);_0x4966fc[_0x59c3ef(0x1f4)]==='completed'?(_0x42d60e[_0x59c3ef(0x220)]=_0x59c3ef(0x13f),_0x42d60e[_0x59c3ef(0x196)]=_0x59c3ef(0xf9)):(_0x42d60e[_0x59c3ef(0x220)]='btn-status-toggle',_0x42d60e[_0x59c3ef(0x196)]='<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É');const _0x4d3b00=!!_0x4966fc[_0x59c3ef(0x18a)];document[_0x59c3ef(0x186)](_0x59c3ef(0x20b))[_0x59c3ef(0xef)]['display']=_0x59c3ef(0x113),document[_0x59c3ef(0x186)](_0x59c3ef(0x14e))[_0x59c3ef(0xef)][_0x59c3ef(0x194)]='none',_0x4d3b00?(document[_0x59c3ef(0x186)](_0x59c3ef(0x15a))['style'][_0x59c3ef(0x194)]='flex',document[_0x59c3ef(0x186)](_0x59c3ef(0x15a))['querySelector'](_0x59c3ef(0xda))[_0x59c3ef(0x1ab)]=_0x59c3ef(0xc0)):document[_0x59c3ef(0x186)](_0x59c3ef(0x15a))[_0x59c3ef(0xef)][_0x59c3ef(0x194)]=_0x59c3ef(0x113),document['getElementById'](_0x59c3ef(0x17c))['value']=_0x4966fc[_0x59c3ef(0x184)],document[_0x59c3ef(0x186)](_0x59c3ef(0x121))[_0x59c3ef(0x116)]=_0x4966fc['dateStr'],document[_0x59c3ef(0x186)]('inpStart')['value']=_0x4966fc['start'],document[_0x59c3ef(0x186)]('inpEnd')[_0x59c3ef(0x116)]=_0x4966fc[_0x59c3ef(0x10c)],document['getElementById'](_0x59c3ef(0x149))[_0x59c3ef(0x116)]=_0x4966fc[_0x59c3ef(0x203)]||'',updateDateDisplay(),openSheet(_0x59c3ef(0x16b));}async function trySaveSession(){const _0x313912=a2_0x352174,_0x5e75c0=document[_0x313912(0x186)]('inpClient')[_0x313912(0x116)],_0x59c06c=document['getElementById'](_0x313912(0x121))['value'],_0x39e88a=document[_0x313912(0x186)]('inpStart')[_0x313912(0x116)],_0x4862d9=document[_0x313912(0x186)](_0x313912(0x117))['value'],_0x26ab1e=document['getElementById'](_0x313912(0x149))[_0x313912(0x116)],_0x4eca3f=document[_0x313912(0x186)](_0x313912(0x17e))[_0x313912(0x160)];let _0xa4e2ce=0x4;if(_0x4eca3f){const _0x4627d5=parseInt(document['getElementById']('inpSeriesCount')[_0x313912(0x116)]);if(!_0x4627d5||_0x4627d5<0x2){showToast(_0x313912(0xbe),![]);return;}if(_0x4627d5>0x64){showToast(_0x313912(0x1b4),![]);return;}_0xa4e2ce=_0x4627d5;}const _0x2eb9b3=clients[_0x313912(0xcb)](_0x40528b=>_0x40528b[_0x313912(0x1b8)]===_0x5e75c0);if(!_0x2eb9b3){showToast(_0x313912(0x1f9),![]);return;}const _0x52b593=validateAppointment(_0x59c06c,_0x39e88a,_0x4862d9,editingId,_0x2eb9b3['id']);if(!_0x52b593[_0x313912(0x135)]){showToast(_0x52b593[_0x313912(0x181)],![]);return;}_0x52b593['warning']&&showToast(_0x52b593[_0x313912(0x21d)],![]);const _0x3eabdf={'client':_0x5e75c0,'clientId':_0x2eb9b3['id'],'start':_0x39e88a,'end':_0x4862d9,'note':_0x26ab1e,'status':_0x313912(0x1c1)},_0x338ac1=editingId?sessions[_0x313912(0xcb)](_0x524ba9=>_0x524ba9['id']===editingId):null;if(_0x338ac1&&_0x338ac1[_0x313912(0x18a)]){tempSessionData={..._0x3eabdf,'dateStr':_0x59c06c,'id':editingId,'seriesId':_0x338ac1[_0x313912(0x18a)]},openActionSheet('save');return;}let _0x24d64b=null;if(!editingId)_0x24d64b=_0x313912(0x1ef);else{if(_0x338ac1){if(String(_0x338ac1[_0x313912(0x164)])!==String(_0x2eb9b3['id']))console['log']('[Notify]\x20Client\x20SWAP\x20detected'),NotificationManager['send']('cancel',_0x338ac1),_0x24d64b='create';else(_0x338ac1[_0x313912(0xf3)]!==_0x39e88a||_0x338ac1['end']!==_0x4862d9||_0x338ac1[_0x313912(0x199)]!==_0x59c06c)&&(_0x24d64b=_0x313912(0xc6));}}if(!editingId&&_0x4eca3f){createBatchSeries(_0x3eabdf,_0x59c06c,_0xa4e2ce),NotificationManager[_0x313912(0x1ea)](_0x313912(0x1ef),{..._0x3eabdf,'dateStr':_0x59c06c});return;}lastUserActionTime=Date[_0x313912(0x198)]();const _0x105de5={..._0x3eabdf,'dateStr':_0x59c06c,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x105de5),_0x24d64b&&NotificationManager['send'](_0x24d64b,_0x105de5);}function toggleSessionStatus(){const _0x3a5634=a2_0x352174;lastUserActionTime=Date[_0x3a5634(0x198)]();const _0x296641=sessions['find'](_0x2bf277=>_0x2bf277['id']===editingId);if(!_0x296641)return;const _0x46329a=_0x296641[_0x3a5634(0x1f4)]===_0x3a5634(0x172)?_0x3a5634(0x1c1):_0x3a5634(0x172);_0x296641[_0x3a5634(0x1f4)]=_0x46329a,saveSingleSession(_0x296641),_0x46329a==='completed'&&NotificationManager[_0x3a5634(0x1ea)]('complete',_0x296641),showToast(_0x46329a===_0x3a5634(0x172)?_0x3a5634(0x188):'–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω',!![]);}function validateAppointment(_0x1f87de,_0xa88ba3,_0x31194a,_0x5419b1,_0x2d8215){const _0x12f1c8=a2_0x352174,[_0x2e7f54,_0x443e6d]=_0xa88ba3[_0x12f1c8(0x1f7)](':')[_0x12f1c8(0x14d)](Number),[_0x4b457b,_0x34cc7b]=_0x31194a[_0x12f1c8(0x1f7)](':')[_0x12f1c8(0x14d)](Number),_0x3ce5a2=_0x2e7f54*0x3c+_0x443e6d,_0x55ec36=_0x4b457b*0x3c+_0x34cc7b,_0x4998fa=String(_0x2d8215);let _0x41a37e=![],_0x571ffd='';for(let _0x1957d8 of sessions){if(_0x1957d8['dateStr']!==_0x1f87de)continue;if(_0x1957d8[_0x12f1c8(0x1f4)]===_0x12f1c8(0x123))continue;if(_0x5419b1&&String(_0x1957d8['id'])===String(_0x5419b1))continue;const [_0x1b73f6,_0x1643a7]=_0x1957d8[_0x12f1c8(0xf3)]['split'](':')[_0x12f1c8(0x14d)](Number),[_0x57cd5e,_0x15887a]=_0x1957d8['end']['split'](':')[_0x12f1c8(0x14d)](Number),_0x20aba1=_0x1b73f6*0x3c+_0x1643a7,_0x2ae3a5=_0x57cd5e*0x3c+_0x15887a;if(Math['max'](_0x3ce5a2,_0x20aba1)<Math[_0x12f1c8(0xb7)](_0x55ec36,_0x2ae3a5)){if(_0x1957d8[_0x12f1c8(0x164)]&&String(_0x1957d8['clientId'])===_0x4998fa)return{'valid':![],'msg':_0x12f1c8(0x1f0)+_0x1957d8[_0x12f1c8(0x184)]+_0x12f1c8(0xe1)};_0x41a37e=!![],_0x571ffd=_0x1957d8[_0x12f1c8(0x184)];}}if(_0x41a37e)return{'valid':!![],'warning':_0x12f1c8(0xbf)+_0x571ffd};return{'valid':!![]};}function saveSingleSession(_0x26bf68){const _0xac361=a2_0x352174;if(editingId){const _0x32d2f5=sessions[_0xac361(0x15c)](_0x866722=>_0x866722['id']===editingId);if(_0x32d2f5!==-0x1)sessions[_0x32d2f5]=_0x26bf68;}else sessions['push'](_0x26bf68);afterSaveAction([_0x26bf68[_0xac361(0x199)]]);}function createBatchSeries(_0x2e3b54,_0x1253f0,_0x51d0ce){const _0x4e6422=a2_0x352174,_0x3cddb8=generateId(),_0x277aab=[],_0x44eceb=[];let _0x16236c=0x0,_0x474805=new Date(_0x1253f0);for(let _0x70245b=0x0;_0x70245b<_0x51d0ce;_0x70245b++){const _0x3a3087=getLocalDateStr(_0x474805),_0xa14262=validateAppointment(_0x3a3087,_0x2e3b54[_0x4e6422(0xf3)],_0x2e3b54[_0x4e6422(0x10c)],null,_0x2e3b54['clientId']);if(!_0xa14262[_0x4e6422(0x135)])console[_0x4e6422(0x173)](_0x4e6422(0x201)+_0x3a3087+':\x20Client\x20already\x20booked'),_0x16236c++;else{const _0x3d08c9={..._0x2e3b54,'id':generateId(),'dateStr':_0x3a3087,'seriesId':_0x3cddb8};_0x44eceb[_0x4e6422(0x100)](_0x3d08c9),_0x277aab['push'](_0x3a3087);}_0x474805[_0x4e6422(0xf2)](_0x474805[_0x4e6422(0xc3)]()+0x7);}if(_0x44eceb['length']===0x0){showToast(_0x4e6422(0xb1),![]);return;}sessions[_0x4e6422(0x100)](..._0x44eceb),lastUserActionTime=Date['now']();let _0x1958f8=_0x4e6422(0x166)+_0x44eceb['length'];_0x16236c>0x0&&(_0x1958f8+='\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20'+_0x16236c+')'),showToast(_0x1958f8,!![]),afterSaveAction(_0x277aab);}function updateSeriesBatch(_0x79a1cf,_0x464f00){const _0x5410c3=a2_0x352174,_0x122f71=[],_0x5e5181=_0x464f00[_0x5410c3(0x18a)];if(_0x79a1cf===_0x5410c3(0x168)){const _0x19ed44={..._0x464f00,'seriesId':null},_0x58a450=sessions[_0x5410c3(0x15c)](_0x26779d=>_0x26779d['id']===_0x464f00['id']);if(_0x58a450!==-0x1)sessions[_0x58a450]=_0x19ed44;_0x122f71[_0x5410c3(0x100)](_0x19ed44[_0x5410c3(0x199)]);}else{if(_0x79a1cf===_0x5410c3(0x101)){const _0x2cbe47=_0x464f00[_0x5410c3(0x199)];sessions[_0x5410c3(0x1a1)]((_0x4c4f70,_0x17e304)=>{const _0x3cb169=_0x5410c3;_0x4c4f70['seriesId']===_0x5e5181&&_0x4c4f70[_0x3cb169(0x199)]>=_0x2cbe47&&(sessions[_0x17e304]={...sessions[_0x17e304],'start':_0x464f00[_0x3cb169(0xf3)],'end':_0x464f00['end'],'note':_0x464f00[_0x3cb169(0x203)],'client':_0x464f00[_0x3cb169(0x184)],'clientId':_0x464f00[_0x3cb169(0x164)]},_0x122f71['push'](_0x4c4f70[_0x3cb169(0x199)]));});}}afterSaveAction(_0x122f71);}function tryDeleteSession(){const _0x14b833=a2_0x352174,_0x31c840=sessions[_0x14b833(0xcb)](_0x41e10e=>_0x41e10e['id']===editingId);if(!_0x31c840)return;_0x31c840['seriesId']?openActionSheet('delete'):commitDelete('single',_0x31c840);}function commitDelete(_0x340bd2,_0xe3d01a){const _0x45c617=a2_0x352174;lastUserActionTime=Date['now'](),NotificationManager[_0x45c617(0x1ea)](_0x45c617(0x119),_0xe3d01a);const _0x2ed6a3=[];if(_0x340bd2==='single')sessions=sessions[_0x45c617(0xdd)](_0x53e14c=>_0x53e14c['id']!==_0xe3d01a['id']),_0x2ed6a3[_0x45c617(0x100)](_0xe3d01a['dateStr']);else{if(_0x340bd2===_0x45c617(0x101)){const _0x235fec=_0xe3d01a[_0x45c617(0x199)],_0x532659=_0xe3d01a[_0x45c617(0x18a)];sessions[_0x45c617(0x1a1)](_0x350215=>{const _0x9290f8=_0x45c617;_0x350215['seriesId']===_0x532659&&_0x350215[_0x9290f8(0x199)]>=_0x235fec&&_0x2ed6a3[_0x9290f8(0x100)](_0x350215['dateStr']);}),sessions=sessions['filter'](_0x36c098=>!(_0x36c098[_0x45c617(0x18a)]===_0x532659&&_0x36c098[_0x45c617(0x199)]>=_0x235fec));}}afterSaveAction(_0x2ed6a3);}function afterSaveAction(_0x3d97d0){const _0x39cbb9=a2_0x352174;DataManager[_0x39cbb9(0xb4)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x39cbb9(0x1ca)](_0x3d97d0)[_0x39cbb9(0x17f)](()=>console[_0x39cbb9(0x173)](_0x39cbb9(0x1df)))[_0x39cbb9(0x183)](_0x348822=>showToast(_0x39cbb9(0x174),![]));}const NotificationManager={'formatDate'(_0x38f1b0){const _0x1dc9f2=a2_0x352174,_0x342650=new Date(_0x38f1b0),_0x7b5fbd={'weekday':_0x1dc9f2(0x1a7),'day':'numeric','month':_0x1dc9f2(0x1a7)};let _0x3d9113=_0x342650[_0x1dc9f2(0x13b)]('ru-RU',_0x7b5fbd);return _0x3d9113[_0x1dc9f2(0x208)](0x0)['toUpperCase']()+_0x3d9113[_0x1dc9f2(0xae)](0x1);},'getText'(_0x59f8fb,_0x2abaed){const _0x369ce4=a2_0x352174,_0x2e6fe=this[_0x369ce4(0x16a)](_0x2abaed[_0x369ce4(0x199)]);switch(_0x59f8fb){case'create':return _0x369ce4(0x211)+(_0x369ce4(0x1ce)+_0x2e6fe+'\x0a')+('<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20'+_0x2abaed[_0x369ce4(0xf3)]+_0x369ce4(0x111)+_0x2abaed[_0x369ce4(0x10c)]+'\x0a\x0a')+_0x369ce4(0x124);case'update':return _0x369ce4(0x1c5)+'–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a'+(_0x369ce4(0x133)+_0x2abaed['start']+_0x369ce4(0x111)+_0x2abaed['end']+_0x369ce4(0x126))+(_0x369ce4(0x1ce)+_0x2e6fe);case'cancel':return'<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a'+(_0x369ce4(0x1bf)+_0x2e6fe+'\x20('+_0x2abaed[_0x369ce4(0xf3)]+')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.');case _0x369ce4(0x1f6):return _0x369ce4(0x1bb)+_0x369ce4(0x115)+_0x369ce4(0x12b);default:return'';}},async 'send'(_0x4719df,_0x461ef2){const _0x546d33=a2_0x352174;console[_0x546d33(0x173)]('[Notify]\x20Attempting\x20to\x20send:',_0x4719df,_0x461ef2);if(!_0x461ef2){console[_0x546d33(0xd4)](_0x546d33(0x12e));return;}const _0x1b3a6a=String(_0x461ef2[_0x546d33(0x164)]);console[_0x546d33(0x173)](_0x546d33(0x12c),_0x1b3a6a);if(!_0x461ef2['clientId']||_0x1b3a6a===_0x546d33(0x1a2)||_0x1b3a6a==='null'){console[_0x546d33(0xd4)](_0x546d33(0x14f));if(_0x461ef2['client']){const _0x2bc511=clients['find'](_0x2cc766=>_0x2cc766[_0x546d33(0x1b8)]===_0x461ef2[_0x546d33(0x184)]);if(_0x2bc511)return console[_0x546d33(0x173)](_0x546d33(0x18f),_0x2bc511['id']),this[_0x546d33(0x1ea)](_0x4719df,{..._0x461ef2,'clientId':_0x2bc511['id']});}return;}if(_0x1b3a6a[_0x546d33(0x1b2)]<0x5){console['warn']('[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)',_0x1b3a6a);return;}const _0x52ce27=this[_0x546d33(0x1ad)](_0x4719df,_0x461ef2);if(!_0x52ce27){console[_0x546d33(0xd4)]('[Notify]\x20Error:\x20Text\x20generation\x20failed');return;}console[_0x546d33(0x173)]('[Notify]\x20Sending\x20to\x20GAS\x20for\x20'+_0x1b3a6a+_0x546d33(0x1f8)),DataManager['fetchFromServer'](_0x546d33(0x139),{'chatId':_0x1b3a6a,'text':_0x52ce27})[_0x546d33(0x17f)](_0x7596a8=>console[_0x546d33(0x173)](_0x546d33(0x110),_0x7596a8))[_0x546d33(0x183)](_0x4f1e8f=>console['error'](_0x546d33(0xc1),_0x4f1e8f));}};function getLocalDateStr(_0x2335cc){const _0x305c85=a2_0x352174,_0x4d9937=_0x2335cc[_0x305c85(0xce)](),_0x29b757=String(_0x2335cc[_0x305c85(0x103)]()+0x1)['padStart'](0x2,'0'),_0x564043=String(_0x2335cc[_0x305c85(0xc3)]())[_0x305c85(0x1bc)](0x2,'0');return _0x4d9937+'-'+_0x29b757+'-'+_0x564043;}function getDateStr(_0x515932){const _0x169bc5=a2_0x352174,_0x462187=new Date();return _0x462187[_0x169bc5(0xf2)](_0x462187[_0x169bc5(0xc3)]()+_0x515932),getLocalDateStr(_0x462187);}function getStartOfWeek(_0x3d2fbb){const _0x24a177=a2_0x352174,_0x3c8977=(function(){let _0x36f27a=!![];return function(_0x4e0652,_0x2bdd36){const _0x43d0bc=_0x36f27a?function(){const _0x5685f2=a2_0x227e;if(_0x2bdd36){const _0x50f7d7=_0x2bdd36[_0x5685f2(0xff)](_0x4e0652,arguments);return _0x2bdd36=null,_0x50f7d7;}}:function(){};return _0x36f27a=![],_0x43d0bc;};}()),_0x504c40=_0x3c8977(this,function(){const _0x1a1f6e=a2_0x227e;return _0x504c40['toString']()[_0x1a1f6e(0x1c3)]('(((.+)+)+)+$')['toString']()['constructor'](_0x504c40)['search']('(((.+)+)+)+$');});_0x504c40();const _0x44b517=new Date(_0x3d2fbb),_0x4777ef=_0x44b517[_0x24a177(0xf1)](),_0xd89c7b=_0x44b517[_0x24a177(0xc3)]()-_0x4777ef+(_0x4777ef===0x0?-0x6:0x1);return _0x44b517['setDate'](_0xd89c7b),_0x44b517[_0x24a177(0x212)](0x0,0x0,0x0,0x0),_0x44b517;}function hexToRgba(_0x3ecadd,_0x2a2ba1){const _0x30d32f=a2_0x352174;if(!_0x3ecadd)return _0x30d32f(0x1d2);let _0x487f34=0x0,_0x58975c=0x0,_0x13cc7c=0x0;if(_0x3ecadd['length']===0x4)_0x487f34='0x'+_0x3ecadd[0x1]+_0x3ecadd[0x1],_0x58975c='0x'+_0x3ecadd[0x2]+_0x3ecadd[0x2],_0x13cc7c='0x'+_0x3ecadd[0x3]+_0x3ecadd[0x3];else _0x3ecadd[_0x30d32f(0x1b2)]===0x7&&(_0x487f34='0x'+_0x3ecadd[0x1]+_0x3ecadd[0x2],_0x58975c='0x'+_0x3ecadd[0x3]+_0x3ecadd[0x4],_0x13cc7c='0x'+_0x3ecadd[0x5]+_0x3ecadd[0x6]);return _0x30d32f(0xe8)+ +_0x487f34+',\x20'+ +_0x58975c+',\x20'+ +_0x13cc7c+',\x20'+_0x2a2ba1+')';}function renderTimeColumn(){const _0x4cc0f4=a2_0x352174,_0x39a586=document[_0x4cc0f4(0x186)](_0x4cc0f4(0x112)),_0x108a45=document[_0x4cc0f4(0x186)](_0x4cc0f4(0x1ed));_0x39a586[_0x4cc0f4(0x196)]='',_0x39a586[_0x4cc0f4(0x1cc)](_0x108a45);for(let _0x3bd807=0x0;_0x3bd807<0x18;_0x3bd807++){const _0x5d46b8=document['createElement'](_0x4cc0f4(0x16c));_0x5d46b8[_0x4cc0f4(0x220)]=_0x4cc0f4(0xeb);if(_0x3bd807>0x0)_0x5d46b8[_0x4cc0f4(0x196)]=_0x4cc0f4(0x1a5)+String(_0x3bd807)['padStart'](0x2,'0')+_0x4cc0f4(0x190);_0x39a586[_0x4cc0f4(0x1cc)](_0x5d46b8);}}function renderDayRange(_0x5974b1,_0x4fb568){const _0x39ff0e=a2_0x352174,_0x33e580=document[_0x39ff0e(0x186)](_0x39ff0e(0x1b9)),_0xcefe27=document[_0x39ff0e(0x186)](_0x39ff0e(0x152)),_0x445926=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x51c54a=new Date();_0x51c54a[_0x39ff0e(0x212)](0x0,0x0,0x0,0x0);const _0x1311f4=getLocalDateStr(new Date());for(let _0x18dcac=_0x5974b1;_0x18dcac<=_0x4fb568;_0x18dcac++){const _0x54121c=new Date(_0x51c54a);_0x54121c['setDate'](_0x54121c[_0x39ff0e(0xc3)]()+_0x18dcac);const _0x22eb0e=getLocalDateStr(_0x54121c);let _0x3afe99=_0x54121c[_0x39ff0e(0xf1)]()-0x1;if(_0x3afe99===-0x1)_0x3afe99=0x6;const _0x7e66b9=_0x22eb0e===_0x1311f4,_0x231f44=document[_0x39ff0e(0x216)](_0x39ff0e(0x16c));_0x231f44[_0x39ff0e(0x220)]='day-col-header\x20'+(_0x7e66b9?_0x39ff0e(0x1ee):''),_0x231f44['id']=_0x39ff0e(0x16e)+_0x22eb0e,_0x231f44['setAttribute'](_0x39ff0e(0xad),_0x22eb0e),_0x231f44[_0x39ff0e(0x196)]=_0x39ff0e(0x158)+_0x445926[_0x3afe99]+_0x39ff0e(0x1b1)+_0x54121c[_0x39ff0e(0xc3)]()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0x22eb0e+_0x39ff0e(0xfc),_0x231f44[_0x39ff0e(0x1d3)]=()=>openDayOptions(_0x22eb0e,_0x445926[_0x3afe99]+'\x20'+_0x54121c['getDate']()),_0x33e580['appendChild'](_0x231f44);const _0x176916=document[_0x39ff0e(0x216)](_0x39ff0e(0x16c));_0x176916['className']=_0x39ff0e(0xb0)+(_0x7e66b9?'today':''),_0x176916['setAttribute'](_0x39ff0e(0xad),_0x22eb0e),_0x176916[_0x39ff0e(0x14b)](_0x39ff0e(0x1dc),_0x3afe99),renderEventsForColumn(_0x176916,_0x22eb0e,_0x3afe99),attachLongPressHandler(_0x176916,_0x54121c),_0xcefe27[_0x39ff0e(0x1cc)](_0x176916),updateDayStats(_0x22eb0e);}}function reRenderBlocks(){const _0x20e18b=a2_0x352174;document['querySelectorAll'](_0x20e18b(0x189))[_0x20e18b(0x1a1)](_0x33f28d=>{const _0x3252f3=_0x20e18b;_0x33f28d[_0x3252f3(0xc5)](_0x3252f3(0x1bd))[_0x3252f3(0x1a1)](_0x6bb850=>_0x6bb850[_0x3252f3(0x165)]());const _0xcf2a8b=_0x33f28d['getAttribute'](_0x3252f3(0xad)),_0x8272ce=parseInt(_0x33f28d['getAttribute'](_0x3252f3(0x1dc))),_0x557f0d=Math[_0x3252f3(0x192)](_0x33f28d[_0x3252f3(0x11f)]);(availabilityPattern[_0x8272ce]||[])['forEach'](_0x1f57a9=>{const _0x195caa=_0x3252f3,_0x2cc518=document[_0x195caa(0x216)]('div');_0x2cc518[_0x195caa(0x220)]=_0x195caa(0x21b);const _0x1597a4=_0x1f57a9*GRID_H;_0x2cc518[_0x195caa(0xef)]['top']=_0x1597a4+'px',_0x2cc518[_0x195caa(0xef)]['backgroundPosition']='-'+_0x557f0d+_0x195caa(0x1c2)+_0x1597a4+'px',_0x33f28d['appendChild'](_0x2cc518);});if(specialRanges&&specialRanges[_0x3252f3(0x1b2)]>0x0){const _0x257f50=new Date(_0xcf2a8b+_0x3252f3(0x105))[_0x3252f3(0x17b)](),_0x4e097b=new Date(_0xcf2a8b+_0x3252f3(0x162))[_0x3252f3(0x17b)]();specialRanges[_0x3252f3(0x1a1)](_0x31249b=>{const _0x15b211=_0x3252f3,_0x73395b=new Date(_0x31249b[_0x15b211(0xf3)])[_0x15b211(0x17b)](),_0x45a164=new Date(_0x31249b[_0x15b211(0x10c)])['getTime'](),_0x51a2a0=Math['max'](_0x257f50,_0x73395b),_0x18ff24=Math['min'](_0x4e097b,_0x45a164);if(_0x51a2a0<_0x18ff24){if(_0x51a2a0<=_0x257f50&&_0x18ff24>=_0x4e097b-0xea60){if(!_0x33f28d[_0x15b211(0x12d)](_0x15b211(0xea))){const _0x51bb9a=document[_0x15b211(0x216)](_0x15b211(0x16c));_0x51bb9a['className']='day-off-overlay\x20stripe-bg',_0x51bb9a[_0x15b211(0xef)][_0x15b211(0x1da)]='-'+_0x557f0d+_0x15b211(0x1af),_0x33f28d[_0x15b211(0x1cc)](_0x51bb9a);}}else{const _0x6cb8c5=(_0x51a2a0-_0x257f50)/0x36ee80*GRID_H,_0x336e56=(_0x18ff24-_0x51a2a0)/0x36ee80*GRID_H,_0x3a466f=document[_0x15b211(0x216)](_0x15b211(0x16c));_0x3a466f[_0x15b211(0x220)]=_0x15b211(0x205),_0x3a466f[_0x15b211(0xef)][_0x15b211(0x10a)]=_0x6cb8c5+'px',_0x3a466f[_0x15b211(0xef)][_0x15b211(0x15d)]=_0x336e56+'px',_0x3a466f[_0x15b211(0xef)][_0x15b211(0x1da)]='-'+_0x557f0d+_0x15b211(0x1c2)+_0x6cb8c5+'px',_0x33f28d[_0x15b211(0x1cc)](_0x3a466f);}}});}if(dateExceptions[_0xcf2a8b]===_0x3252f3(0xee)){if(!_0x33f28d[_0x3252f3(0x12d)](_0x3252f3(0xea))){const _0x2f4729=document[_0x3252f3(0x216)]('div');_0x2f4729['className']=_0x3252f3(0xfd),_0x2f4729[_0x3252f3(0xef)][_0x3252f3(0x1da)]='-'+_0x557f0d+'px\x200px',_0x33f28d[_0x3252f3(0x1cc)](_0x2f4729);}}renderEventsForColumn(_0x33f28d,_0xcf2a8b,_0x8272ce),updateDayStats(_0xcf2a8b);});}function updateAllDayStats(){const _0xde2166=a2_0x352174;document[_0xde2166(0xc5)]('.day-col-header')[_0xde2166(0x1a1)](_0x156291=>{updateDayStats(_0x156291['getAttribute']('data-date'));});}function updateDayStats(_0x2e758f){const _0x85152e=a2_0x352174,_0x202075=document['getElementById'](_0x85152e(0x10f)+_0x2e758f);if(!_0x202075)return;const _0x5b5544=new Date(_0x2e758f);let _0x3d40f5=_0x5b5544[_0x85152e(0xf1)]()-0x1;if(_0x3d40f5===-0x1)_0x3d40f5=0x6;if(dateExceptions[_0x2e758f]===_0x85152e(0xee)){_0x202075[_0x85152e(0xef)][_0x85152e(0x194)]=_0x85152e(0x113);return;}const _0x375fce=availabilityPattern[_0x3d40f5]||[],_0x3f4bdb=0x18-_0x375fce[_0x85152e(0x1b2)],_0xbf97d9=_0x3f4bdb*0x3c,_0x4a5348=sessions[_0x85152e(0xdd)](_0x54ea36=>_0x54ea36[_0x85152e(0x199)]===_0x2e758f&&_0x54ea36[_0x85152e(0x1f4)]!==_0x85152e(0x123));if(_0x4a5348[_0x85152e(0x1b2)]===0x0){_0x202075[_0x85152e(0xef)]['display']=_0x85152e(0x113);return;}let _0x462d20=_0x4a5348[_0x85152e(0x14d)](_0x28495c=>{const _0x28dff5=_0x85152e,[_0x4b7e62,_0x145ba2]=_0x28495c[_0x28dff5(0xf3)][_0x28dff5(0x1f7)](':')[_0x28dff5(0x14d)](Number),[_0x5b4ed6,_0x49cec5]=_0x28495c[_0x28dff5(0x10c)]['split'](':')[_0x28dff5(0x14d)](Number);return[_0x4b7e62*0x3c+_0x145ba2,_0x5b4ed6*0x3c+_0x49cec5];});_0x462d20[_0x85152e(0x129)]((_0x1ade30,_0x55ef01)=>_0x1ade30[0x0]-_0x55ef01[0x0]);let _0x2ad697=[];if(_0x462d20[_0x85152e(0x1b2)]>0x0){let _0x4f32c2=_0x462d20[0x0];for(let _0x1f29da=0x1;_0x1f29da<_0x462d20[_0x85152e(0x1b2)];_0x1f29da++){_0x462d20[_0x1f29da][0x0]<_0x4f32c2[0x1]?_0x4f32c2[0x1]=Math[_0x85152e(0xf7)](_0x4f32c2[0x1],_0x462d20[_0x1f29da][0x1]):(_0x2ad697[_0x85152e(0x100)](_0x4f32c2),_0x4f32c2=_0x462d20[_0x1f29da]);}_0x2ad697['push'](_0x4f32c2);}let _0x1bc4f0=0x0;_0x2ad697[_0x85152e(0x1a1)](_0x594c6c=>_0x1bc4f0+=_0x594c6c[0x1]-_0x594c6c[0x0]),_0x202075[_0x85152e(0xef)][_0x85152e(0x194)]=_0x85152e(0x167);const _0xa8abbd=_0x202075['querySelector'](_0x85152e(0x163));if(_0xbf97d9===0x0){_0xa8abbd[_0x85152e(0xef)][_0x85152e(0x144)]=_0x85152e(0x21e),_0xa8abbd[_0x85152e(0xef)][_0x85152e(0xba)]=_0x85152e(0xbb);return;}const _0x434d18=_0x1bc4f0/_0xbf97d9*0x64;console['log']('['+_0x2e758f+_0x85152e(0x191)+_0x3f4bdb+'—á,\x20–ó–∞–Ω—è—Ç–æ:\x20'+_0x1bc4f0+_0x85152e(0x1cf)+_0x434d18['toFixed'](0x1)+'%'),_0x434d18>0x64?(_0xa8abbd[_0x85152e(0xef)][_0x85152e(0x144)]=_0x85152e(0x21e),_0xa8abbd[_0x85152e(0xef)]['background']='var(--acc-red)'):(_0xa8abbd[_0x85152e(0xef)][_0x85152e(0x144)]=_0x434d18+'%',_0xa8abbd[_0x85152e(0xef)][_0x85152e(0xba)]=_0x85152e(0x157));}function renderEventsForColumn(_0x41421e,_0x5c39d4,_0x4cdac9){const _0x560475=a2_0x352174,_0x1bb790=sessions['filter'](_0x48fde5=>_0x48fde5['dateStr']===_0x5c39d4),_0x569a7d=_0x1bb790[_0x560475(0x14d)](_0x3089c7=>{const _0x11de42=_0x560475,[_0x385d43,_0x3bfa2b]=_0x3089c7[_0x11de42(0xf3)][_0x11de42(0x1f7)](':')[_0x11de42(0x14d)](Number),[_0xf4c627,_0x1a0986]=_0x3089c7[_0x11de42(0x10c)][_0x11de42(0x1f7)](':')[_0x11de42(0x14d)](Number);return{'data':_0x3089c7,'start':_0x385d43*0x3c+_0x3bfa2b,'end':_0xf4c627*0x3c+_0x1a0986,'colIndex':0x0};});_0x569a7d[_0x560475(0x129)]((_0x345761,_0x518fd1)=>{const _0x554bff=_0x560475;if(_0x345761[_0x554bff(0xf3)]!==_0x518fd1[_0x554bff(0xf3)])return _0x345761['start']-_0x518fd1[_0x554bff(0xf3)];return _0x518fd1['end']-_0x518fd1['start']-(_0x345761[_0x554bff(0x10c)]-_0x345761['start']);});const _0x46e911=[];_0x569a7d[_0x560475(0x1a1)](_0x51a725=>{const _0x2b6f21=_0x560475;let _0x4d8339=![];for(let _0x4eb7de=0x0;_0x4eb7de<_0x46e911[_0x2b6f21(0x1b2)];_0x4eb7de++){const _0x510882=_0x46e911[_0x4eb7de],_0x336cc5=_0x510882[_0x510882[_0x2b6f21(0x1b2)]-0x1];if(_0x51a725[_0x2b6f21(0xf3)]>=_0x336cc5[_0x2b6f21(0x10c)]){_0x510882[_0x2b6f21(0x100)](_0x51a725),_0x51a725[_0x2b6f21(0x141)]=_0x4eb7de,_0x4d8339=!![];break;}}!_0x4d8339&&(_0x46e911[_0x2b6f21(0x100)]([_0x51a725]),_0x51a725[_0x2b6f21(0x141)]=_0x46e911['length']-0x1);}),_0x569a7d[_0x560475(0x1a1)](_0x1787b9=>{const _0x4471e2=_0x560475;let _0x5bcbc8=0x0;_0x569a7d[_0x4471e2(0x1a1)](_0x375552=>{const _0x3ca29b=_0x4471e2;if(Math[_0x3ca29b(0xf7)](_0x1787b9[_0x3ca29b(0xf3)],_0x375552[_0x3ca29b(0xf3)])<Math[_0x3ca29b(0xb7)](_0x1787b9[_0x3ca29b(0x10c)],_0x375552[_0x3ca29b(0x10c)])){if(_0x375552[_0x3ca29b(0x141)]>_0x5bcbc8)_0x5bcbc8=_0x375552[_0x3ca29b(0x141)];}});const _0x431dc2=_0x5bcbc8+0x1,_0x229ed3=0x64/_0x431dc2,_0x499ea7=_0x1787b9[_0x4471e2(0x141)]*_0x229ed3,_0x2fd1ac=createEventEl(_0x1787b9['data']);_0x2fd1ac[_0x4471e2(0xef)][_0x4471e2(0x144)]='calc('+_0x229ed3+'%\x20-\x204px)',_0x2fd1ac[_0x4471e2(0xef)][_0x4471e2(0x1e2)]='calc('+_0x499ea7+_0x4471e2(0x114),_0x2fd1ac[_0x4471e2(0xef)][_0x4471e2(0xb9)]=0xa+_0x1787b9[_0x4471e2(0x141)],_0x229ed3<0x55&&_0x2fd1ac[_0x4471e2(0x102)]['add'](_0x4471e2(0x1e8)),_0x41421e[_0x4471e2(0x1cc)](_0x2fd1ac);});}function createEventEl(_0x1f9781){const _0x12fb3d=a2_0x352174,[_0x273b71,_0x42752b]=_0x1f9781[_0x12fb3d(0xf3)][_0x12fb3d(0x1f7)](':')[_0x12fb3d(0x14d)](Number),[_0x3a7677,_0x64b74d]=_0x1f9781[_0x12fb3d(0x10c)][_0x12fb3d(0x1f7)](':')[_0x12fb3d(0x14d)](Number),_0x37177d=(_0x273b71*0x3c+_0x42752b)/0x3c*GRID_H,_0x24ae42=(_0x3a7677*0x3c+_0x64b74d-(_0x273b71*0x3c+_0x42752b))/0x3c*GRID_H,_0x13daab=document[_0x12fb3d(0x216)](_0x12fb3d(0x16c)),_0x834658=_0x1f9781[_0x12fb3d(0x1f4)]===_0x12fb3d(0x172)?_0x12fb3d(0xaf):'';_0x13daab[_0x12fb3d(0x220)]=_0x12fb3d(0x13d)+_0x834658,_0x13daab[_0x12fb3d(0xef)][_0x12fb3d(0x10a)]=_0x37177d+'px',_0x13daab['style'][_0x12fb3d(0x15d)]=Math[_0x12fb3d(0xf7)](_0x24ae42,0x14)+'px';const _0x2cb1de=clients[_0x12fb3d(0xcb)](_0x1d3e42=>_0x1f9781['clientId']&&String(_0x1d3e42['id'])===String(_0x1f9781[_0x12fb3d(0x164)])||_0x1d3e42[_0x12fb3d(0x1b8)]===_0x1f9781['client']),_0xa00aec=_0x2cb1de?_0x2cb1de[_0x12fb3d(0x20d)]:_0x12fb3d(0xd7);_0x13daab['style'][_0x12fb3d(0x130)]=_0xa00aec,_0x13daab[_0x12fb3d(0xef)][_0x12fb3d(0x1d5)]=hexToRgba(_0xa00aec,0.85);let _0xd7c2af=_0x12fb3d(0xc2)+_0x1f9781[_0x12fb3d(0x184)]+_0x12fb3d(0x202)+_0x1f9781[_0x12fb3d(0xf3)]+_0x12fb3d(0x142)+_0x1f9781[_0x12fb3d(0x10c)]+_0x12fb3d(0x1f1);return _0x1f9781[_0x12fb3d(0x18a)]&&(_0xd7c2af+='<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>'),_0x1f9781[_0x12fb3d(0x1f4)]===_0x12fb3d(0x172)&&(_0xd7c2af+='<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>'),_0x13daab[_0x12fb3d(0x196)]=_0xd7c2af,_0x13daab[_0x12fb3d(0x1d3)]=_0x96020c=>{_0x96020c['stopPropagation'](),openEdit(_0x1f9781);},_0x13daab;}function attachLongPressHandler(_0x4428c0,_0x39b58c){const _0xde1084=a2_0x352174;let _0x8ce400=0x0,_0x10aee1=null;const _0x2e842e=_0x448932=>{const _0x37424d=a2_0x227e;if(_0x448932[_0x37424d(0xac)][_0x37424d(0xb5)](_0x37424d(0x19d)))return;isScrolling=![],_0x8ce400=_0x448932[_0x37424d(0x170)]?_0x448932['touches'][0x0]['clientY']:_0x448932[_0x37424d(0x19b)],_0x10aee1=setTimeout(()=>{const _0x41aa4e=_0x37424d;if(!isScrolling){navigator[_0x41aa4e(0x11b)]?.(0x32);const _0x3ecb11=_0x4428c0['getBoundingClientRect'](),_0x37aea7=Math[_0x41aa4e(0xe7)]((_0x8ce400-_0x3ecb11[_0x41aa4e(0x10a)])/GRID_H);_0x39b58c[_0x41aa4e(0x212)](_0x37aea7,0x0),openAddSession(_0x39b58c);}},0x1f4);},_0xad034a=()=>{isScrolling=!![],clearTimeout(_0x10aee1);},_0x184833=()=>{clearTimeout(_0x10aee1);};_0x4428c0[_0xde1084(0x1db)](_0xde1084(0x159),_0x2e842e,{'passive':!![]}),_0x4428c0[_0xde1084(0x1db)]('touchmove',_0xad034a,{'passive':!![]}),_0x4428c0[_0xde1084(0x1db)]('touchend',_0x184833),_0x4428c0[_0xde1084(0x1db)](_0xde1084(0xe3),_0x2e842e),_0x4428c0[_0xde1084(0x1db)]('mousemove',_0xad034a),_0x4428c0[_0xde1084(0x1db)](_0xde1084(0x17a),_0x184833);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x7f4b1f=a2_0x352174,_0x51f8d4=document[_0x7f4b1f(0x186)]('matrixViewport'),_0x364ca8=_0x51f8d4[_0x7f4b1f(0xec)],_0x15175b=_0x51f8d4[_0x7f4b1f(0x16f)],_0x2d9f96=_0x51f8d4['clientWidth'];if(_0x15175b-(_0x364ca8+_0x2d9f96)<0x12c){const _0x57391b=endOffset;endOffset+=0xe,renderDayRange(_0x57391b+0x1,endOffset),reRenderBlocks();}if(_0x364ca8<0x12c){const _0x278213=startOffset;startOffset-=0xe,prependDays(startOffset,_0x278213-0x1),_0x51f8d4[_0x7f4b1f(0xec)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x3ca671,_0x14a6f6){const _0x3a2255=a2_0x352174,_0x568178=document[_0x3a2255(0x186)]('daysHeaderTrack'),_0x252d4f=document[_0x3a2255(0x186)](_0x3a2255(0x152)),_0x2959d4=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0xc8bdf1=new Date();_0xc8bdf1[_0x3a2255(0x212)](0x0,0x0,0x0,0x0);const _0x2b9fb9=getLocalDateStr(new Date()),_0x4b7abe=document['createDocumentFragment'](),_0x5b146c=document[_0x3a2255(0x21c)]();for(let _0x2c733d=_0x3ca671;_0x2c733d<=_0x14a6f6;_0x2c733d++){const _0x5b0837=new Date(_0xc8bdf1);_0x5b0837[_0x3a2255(0xf2)](_0x5b0837[_0x3a2255(0xc3)]()+_0x2c733d);const _0x528a83=getLocalDateStr(_0x5b0837);let _0x1d644f=_0x5b0837[_0x3a2255(0xf1)]()-0x1;if(_0x1d644f===-0x1)_0x1d644f=0x6;const _0x1d14c3=_0x528a83===_0x2b9fb9,_0x54ecb5=document['createElement'](_0x3a2255(0x16c));_0x54ecb5[_0x3a2255(0x220)]=_0x3a2255(0x1b5)+(_0x1d14c3?_0x3a2255(0x1ee):''),_0x54ecb5['id']='header-'+_0x528a83,_0x54ecb5[_0x3a2255(0x14b)](_0x3a2255(0xad),_0x528a83),_0x54ecb5[_0x3a2255(0x196)]='<div\x20class=\x22dch-day\x22>'+_0x2959d4[_0x1d644f]+_0x3a2255(0x1b1)+_0x5b0837['getDate']()+_0x3a2255(0x131)+_0x528a83+_0x3a2255(0xfc),_0x54ecb5[_0x3a2255(0x1d3)]=()=>openDayOptions(_0x528a83,_0x2959d4[_0x1d644f]+'\x20'+_0x5b0837['getDate']()),_0x4b7abe['appendChild'](_0x54ecb5);const _0x16618e=document[_0x3a2255(0x216)]('div');_0x16618e[_0x3a2255(0x220)]=_0x3a2255(0xb0)+(_0x1d14c3?'today':''),_0x16618e[_0x3a2255(0x14b)]('data-date',_0x528a83),_0x16618e[_0x3a2255(0x14b)](_0x3a2255(0x1dc),_0x1d644f),renderEventsForColumn(_0x16618e,_0x528a83,_0x1d644f),attachLongPressHandler(_0x16618e,_0x5b0837),_0x5b146c[_0x3a2255(0x1cc)](_0x16618e),updateDayStats(_0x528a83);}_0x568178[_0x3a2255(0x122)](_0x4b7abe,_0x568178[_0x3a2255(0x20c)]),_0x252d4f[_0x3a2255(0x122)](_0x5b146c,_0x252d4f[_0x3a2255(0x12d)]('.day-column'));}function a2_0x227e(_0x46545a,_0x519853){_0x46545a=_0x46545a-0xac;const _0x43fc26=a2_0xd512();let _0x4be817=_0x43fc26[_0x46545a];return _0x4be817;}function validateAppointment(_0x37bcd7,_0x3fd13e,_0x1ec926,_0x349295,_0x2695c5){const _0x54d3ed=a2_0x352174,[_0x154358,_0xccb71c]=_0x3fd13e[_0x54d3ed(0x1f7)](':')[_0x54d3ed(0x14d)](Number),[_0x2327b2,_0x397855]=_0x1ec926[_0x54d3ed(0x1f7)](':')['map'](Number),_0x21e13f=_0x154358*0x3c+_0xccb71c,_0xd07b0=_0x2327b2*0x3c+_0x397855,_0x335714=String(_0x2695c5);let _0x53d86e=![],_0xa09049='';for(let _0xe00e5 of sessions){if(_0xe00e5[_0x54d3ed(0x199)]!==_0x37bcd7)continue;if(_0xe00e5[_0x54d3ed(0x1f4)]===_0x54d3ed(0x123))continue;if(_0x349295&&String(_0xe00e5['id'])===String(_0x349295))continue;const [_0x3d7483,_0x7df3e]=_0xe00e5[_0x54d3ed(0xf3)]['split'](':')['map'](Number),[_0xace8ae,_0x2d56fe]=_0xe00e5[_0x54d3ed(0x10c)][_0x54d3ed(0x1f7)](':')[_0x54d3ed(0x14d)](Number),_0x43821f=_0x3d7483*0x3c+_0x7df3e,_0x31d234=_0xace8ae*0x3c+_0x2d56fe;if(Math['max'](_0x21e13f,_0x43821f)<Math[_0x54d3ed(0xb7)](_0xd07b0,_0x31d234)){if(_0xe00e5[_0x54d3ed(0x164)]&&String(_0xe00e5[_0x54d3ed(0x164)])===_0x335714)return{'valid':![],'msg':_0x54d3ed(0x1f0)+_0xe00e5[_0x54d3ed(0x184)]+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x53d86e=!![],_0xa09049=_0xe00e5[_0x54d3ed(0x184)];}}if(_0x53d86e)return{'valid':!![],'warning':_0x54d3ed(0xbf)+_0xa09049};return{'valid':!![]};}function updateDateDisplay(){const _0x520057=a2_0x352174,_0x519843=document[_0x520057(0x186)](_0x520057(0x121))['value'],_0x86434b=document[_0x520057(0x186)](_0x520057(0x11e));if(!_0x519843){_0x86434b['textContent']='';return;}const [_0x5d37bb,_0x4eb7bf,_0x509634]=_0x519843[_0x520057(0x1f7)]('-')[_0x520057(0x14d)](Number),_0x5d7859=new Date(_0x5d37bb,_0x4eb7bf-0x1,_0x509634),_0x57c433={'weekday':_0x520057(0x1a7),'day':_0x520057(0x153),'month':_0x520057(0x1a7),'year':'numeric'};let _0x49e6c5=_0x5d7859[_0x520057(0x13b)]('ru-RU',_0x57c433);_0x49e6c5=_0x49e6c5['charAt'](0x0)[_0x520057(0x204)]()+_0x49e6c5[_0x520057(0xae)](0x1),_0x86434b['textContent']=_0x49e6c5;}function autoSetEndTime(){const _0x2158a6=a2_0x352174,_0xbc5936=document[_0x2158a6(0x186)](_0x2158a6(0x176))[_0x2158a6(0x116)];if(!_0xbc5936)return;const [_0x194525,_0x49d400]=_0xbc5936[_0x2158a6(0x1f7)](':')['map'](Number);let _0x5b5af5=_0x194525+0x1;if(_0x5b5af5>0x17)_0x5b5af5=0x0;const _0x55a092=String(_0x5b5af5)[_0x2158a6(0x1bc)](0x2,'0')+':'+String(_0x49d400)[_0x2158a6(0x1bc)](0x2,'0');document[_0x2158a6(0x186)](_0x2158a6(0x117))[_0x2158a6(0x116)]=_0x55a092;}function populateClientSelect(){const _0x5a91f9=a2_0x352174,_0x359db4=document[_0x5a91f9(0x186)]('inpClient');_0x359db4[_0x5a91f9(0x196)]='';if(clients['length']===0x0){const _0x4c9edc=document[_0x5a91f9(0x216)](_0x5a91f9(0xde));_0x4c9edc['text']='–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤',_0x359db4['appendChild'](_0x4c9edc);return;}clients['forEach'](_0x58a6d2=>{const _0x4af5b8=_0x5a91f9,_0xec5451=document[_0x4af5b8(0x216)](_0x4af5b8(0xde));_0xec5451['value']=_0x58a6d2['name'],_0xec5451[_0x4af5b8(0x1ab)]=_0x58a6d2[_0x4af5b8(0x1b8)],_0x359db4[_0x4af5b8(0x1cc)](_0xec5451);});}function openActionSheet(_0x13cd9b){const _0x36a879=a2_0x352174,_0x2daf34=document[_0x36a879(0x186)](_0x36a879(0x19f)),_0x59e08c=document[_0x36a879(0x186)](_0x36a879(0x1d7)),_0x10e21b=document[_0x36a879(0x186)](_0x36a879(0x219)),_0x1895e4=document[_0x36a879(0x186)]('asBtnOne'),_0xaa04a4=document[_0x36a879(0x186)](_0x36a879(0xb2));_0x59e08c[_0x36a879(0x102)][_0x36a879(0x215)](_0x36a879(0x207)),_0x2daf34[_0x36a879(0x102)]['add'](_0x36a879(0x138));if(_0x13cd9b==='save')_0x10e21b[_0x36a879(0x1ab)]='–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏',_0x1895e4['textContent']=_0x36a879(0x21f),_0x1895e4[_0x36a879(0x1d3)]=()=>{const _0x511aff=_0x36a879;closeActionSheet(),updateSeriesBatch(_0x511aff(0x168),tempSessionData);},_0xaa04a4[_0x36a879(0x1ab)]=_0x36a879(0x178),_0xaa04a4[_0x36a879(0x1d3)]=()=>{closeActionSheet(),updateSeriesBatch('series',tempSessionData);};else _0x13cd9b===_0x36a879(0xb8)&&(_0x10e21b['textContent']='–£–¥–∞–ª–µ–Ω–∏–µ',_0x1895e4['textContent']='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x1895e4[_0x36a879(0x220)]=_0x36a879(0x1aa),_0x1895e4[_0x36a879(0x1d3)]=()=>{const _0x556279=_0x36a879;closeActionSheet(),commitDelete(_0x556279(0x168),sessions['find'](_0x1cd827=>_0x1cd827['id']===editingId));},_0xaa04a4[_0x36a879(0x1ab)]=_0x36a879(0x178),_0xaa04a4[_0x36a879(0x220)]='as-button\x20danger\x20bold',_0xaa04a4[_0x36a879(0x1d3)]=()=>{const _0x4fca03=_0x36a879;closeActionSheet(),commitDelete(_0x4fca03(0x101),sessions['find'](_0x544cbe=>_0x544cbe['id']===editingId));});}function closeActionSheet(){const _0x3a8750=a2_0x352174;document[_0x3a8750(0x186)](_0x3a8750(0x19f))[_0x3a8750(0x102)]['remove'](_0x3a8750(0x138)),document['getElementById'](_0x3a8750(0x1d7))[_0x3a8750(0x102)][_0x3a8750(0x165)](_0x3a8750(0x207));}function openSettings(){openSheet('settingsSheet');}function saveCoachSettings(){const _0x14c4e0=a2_0x352174,_0x276e53=document[_0x14c4e0(0x186)](_0x14c4e0(0x1d1))[_0x14c4e0(0x116)];localStorage['setItem'](_0x14c4e0(0xd1),_0x276e53),console[_0x14c4e0(0x173)](_0x14c4e0(0x1a3),_0x276e53),DataManager[_0x14c4e0(0xf5)](_0x14c4e0(0xfe),{'settings':{'cancel_window':_0x276e53}})['catch'](_0x290788=>{const _0x85c9a7=_0x14c4e0;console[_0x85c9a7(0xd4)](_0x85c9a7(0x10b),_0x290788),showToast(_0x85c9a7(0x125),![]);});}function loadCoachSettings(){const _0xaa3801=a2_0x352174,_0x4be323=localStorage[_0xaa3801(0xd9)]('uc_settings_cancel_window');_0x4be323&&(document[_0xaa3801(0x186)](_0xaa3801(0x1d1))[_0xaa3801(0x116)]=_0x4be323);}function openRangesSheet(){const _0x57cfc1=a2_0x352174;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x57cfc1(0x18c));}function addRange(){const _0x1f7e53=a2_0x352174,_0x3cff65=document['getElementById']('rangeStartDate')[_0x1f7e53(0x116)],_0xae1a6e=document['getElementById'](_0x1f7e53(0x1be))[_0x1f7e53(0x116)],_0x5a41b9=document['getElementById'](_0x1f7e53(0x127))[_0x1f7e53(0x116)],_0x102dbc=document[_0x1f7e53(0x186)](_0x1f7e53(0x132))['value'];if(!_0x3cff65||!_0xae1a6e||!_0x5a41b9||!_0x102dbc)return alert(_0x1f7e53(0x11a));const _0x2736d0=_0x3cff65+'T'+_0xae1a6e,_0x481785=_0x5a41b9+'T'+_0x102dbc;if(_0x2736d0>=_0x481785)return alert(_0x1f7e53(0x1d9));specialRanges[_0x1f7e53(0x100)]({'start':_0x2736d0,'end':_0x481785}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager['fetchFromServer'](_0x1f7e53(0xfe),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x347d1b){const _0x534deb=a2_0x352174;specialRanges[_0x534deb(0xfb)](_0x347d1b,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x534deb(0xb4)](),DataManager[_0x534deb(0xf5)](_0x534deb(0xfe),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0xb55fb5=a2_0x352174;document[_0xb55fb5(0x186)]('rangeStartDate')['value']='',document[_0xb55fb5(0x186)]('rangeStartTime')['value']=_0xb55fb5(0x12f),document[_0xb55fb5(0x186)](_0xb55fb5(0x127))[_0xb55fb5(0x116)]='',document[_0xb55fb5(0x186)](_0xb55fb5(0x132))['value']='23:59';}function renderRangesList(){const _0x58e534=a2_0x352174,_0x492003=document[_0x58e534(0x186)]('rangesList');_0x492003[_0x58e534(0x196)]='';if(!specialRanges['length']){_0x492003[_0x58e534(0x196)]='<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>';return;}specialRanges[_0x58e534(0x1a1)]((_0x4bc239,_0x43475c)=>{const _0x154ccd=_0x58e534,_0x5de84a=document['createElement'](_0x154ccd(0x16c));_0x5de84a[_0x154ccd(0x220)]='range-item';const _0x453611=_0x5b946e=>{const _0x455608=_0x154ccd,_0x45c86c=new Date(_0x5b946e);return _0x45c86c[_0x455608(0xc3)]()+'.'+String(_0x45c86c[_0x455608(0x103)]()+0x1)[_0x455608(0x1bc)](0x2,'0')+'\x20'+String(_0x45c86c['getHours']())[_0x455608(0x1bc)](0x2,'0')+':'+String(_0x45c86c[_0x455608(0x1a4)]())[_0x455608(0x1bc)](0x2,'0');};_0x5de84a[_0x154ccd(0x196)]=_0x154ccd(0xdc)+_0x453611(_0x4bc239['start'])+_0x154ccd(0x111)+_0x453611(_0x4bc239[_0x154ccd(0x10c)])+_0x154ccd(0xd0)+_0x43475c+')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>',_0x492003['appendChild'](_0x5de84a);});}function scrollToToday(){const _0x3db298=a2_0x352174,_0x57e088=getLocalDateStr(new Date()),_0x8145e=document[_0x3db298(0x186)](_0x3db298(0x16e)+_0x57e088),_0x1e22cf=document[_0x3db298(0x186)](_0x3db298(0x1fd));if(_0x8145e&&_0x1e22cf){const _0x415996=_0x1e22cf['clientWidth'],_0x1c0f2d=_0x8145e[_0x3db298(0x11f)],_0x422030=_0x8145e[_0x3db298(0xc9)];_0x1e22cf[_0x3db298(0xec)]=_0x1c0f2d-_0x415996/0x2+_0x422030/0x2,_0x1e22cf[_0x3db298(0x15f)]=0x9*GRID_H;}}function onScroll(){const _0x32e5ea=a2_0x352174,_0x524074=document[_0x32e5ea(0x186)](_0x32e5ea(0x1fd)),_0x3ada2a=document[_0x32e5ea(0xc5)](_0x32e5ea(0x1cd));for(let _0x17e977 of _0x3ada2a)if(_0x17e977[_0x32e5ea(0x11f)]>=_0x524074[_0x32e5ea(0xec)]){const _0x2a09e3=new Date(_0x17e977[_0x32e5ea(0x11d)](_0x32e5ea(0xad)));document[_0x32e5ea(0x186)]('headerMonth')[_0x32e5ea(0x1ab)]=_0x2a09e3[_0x32e5ea(0x1e9)]('ru',{'month':'long'})['toUpperCase']()+'\x20'+_0x2a09e3[_0x32e5ea(0xce)]();break;}}function showToast(_0x2c717a,_0x2ce6e1=![]){const _0x3212fd=a2_0x352174,_0xbece94=document[_0x3212fd(0x186)]('toast');_0xbece94[_0x3212fd(0x220)]='toast-notification\x20'+(_0x2ce6e1?_0x3212fd(0x1b3):''),document[_0x3212fd(0x186)](_0x3212fd(0x18b))[_0x3212fd(0x1ab)]=_0x2ce6e1?'–£—Å–ø–µ—à–Ω–æ':_0x3212fd(0x197),document[_0x3212fd(0x186)](_0x3212fd(0x11c))[_0x3212fd(0x1ab)]=_0x2c717a,_0xbece94[_0x3212fd(0x102)]['add']('show'),setTimeout(()=>{const _0x3bfcc5=_0x3212fd;_0xbece94['classList'][_0x3bfcc5(0x165)](_0x3bfcc5(0x147));},0xbb8);}function openDayOptions(_0x19ca3e,_0x2822cf){const _0x7c4f34=a2_0x352174;selectedDayForOptions=_0x19ca3e,document[_0x7c4f34(0x186)](_0x7c4f34(0x106))[_0x7c4f34(0x1ab)]=_0x2822cf,openSheet(_0x7c4f34(0x1b0));}function toggleDayOff(){const _0x1ddabc=a2_0x352174;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x1ddabc(0xee),reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager[_0x1ddabc(0xf5)](_0x1ddabc(0xfe),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x2e4d4c=a2_0x352174;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager['fetchFromServer'](_0x2e4d4c(0xfe),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x985e99){const _0x499f2b=a2_0x352174;document['getElementById']('overlay')[_0x499f2b(0x102)]['add']('active'),document['getElementById'](_0x985e99)['classList'][_0x499f2b(0x215)]('open');}function closeAllSheets(){const _0x251406=a2_0x352174;document[_0x251406(0x186)](_0x251406(0x1fe))[_0x251406(0x102)]['remove']('active'),document['querySelectorAll'](_0x251406(0x1c4))[_0x251406(0x1a1)](_0x352c2a=>_0x352c2a['classList'][_0x251406(0x165)](_0x251406(0x138)));}function openPatternEditor(){const _0x3b078b=a2_0x352174;closeAllSheets(),document[_0x3b078b(0x186)]('patternEditor')[_0x3b078b(0x102)][_0x3b078b(0x215)]('open'),renderPatternEditor();}function closePatternEditor(){const _0x1bb67d=a2_0x352174;document[_0x1bb67d(0x186)](_0x1bb67d(0xdf))['classList'][_0x1bb67d(0x165)](_0x1bb67d(0x138));}function savePattern(){const _0x48393d=a2_0x352174;document['getElementById']('patternEditor')[_0x48393d(0x102)][_0x48393d(0x165)](_0x48393d(0x138)),reRenderBlocks(),DataManager[_0x48393d(0xb4)](),DataManager[_0x48393d(0xf5)](_0x48393d(0xfe),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0xc1c799=a2_0x352174,_0x423ca1=document['getElementById']('peGrid');_0x423ca1[_0xc1c799(0x196)]='';const _0x34eeca=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x3dd6d8=document['createElement'](_0xc1c799(0x16c));_0x3dd6d8[_0xc1c799(0x220)]=_0xc1c799(0x177),_0x423ca1['appendChild'](_0x3dd6d8),_0x34eeca[_0xc1c799(0x1a1)]((_0x434555,_0x2b5a7a)=>{const _0x36f0c7=_0xc1c799,_0x41da11=document[_0x36f0c7(0x216)](_0x36f0c7(0x16c));_0x41da11[_0x36f0c7(0x220)]=_0x36f0c7(0x1f5),_0x41da11[_0x36f0c7(0x196)]=_0x434555+_0x36f0c7(0xe9),_0x41da11[_0x36f0c7(0x1d3)]=()=>toggleColPattern(_0x2b5a7a),_0x423ca1['appendChild'](_0x41da11);});for(let _0x587746=0x0;_0x587746<0x18;_0x587746++){const _0x4a8277=document[_0xc1c799(0x216)]('div');_0x4a8277[_0xc1c799(0x220)]=_0xc1c799(0xb6),_0x4a8277[_0xc1c799(0x196)]='<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>'+String(_0x587746)[_0xc1c799(0x1bc)](0x2,'0')+_0xc1c799(0x1c7),_0x4a8277[_0xc1c799(0x1d3)]=()=>toggleRowPattern(_0x587746),_0x423ca1[_0xc1c799(0x1cc)](_0x4a8277);for(let _0x34e744=0x0;_0x34e744<0x7;_0x34e744++){const _0x5dff0f=document[_0xc1c799(0x216)](_0xc1c799(0x16c)),_0x545f93=(availabilityPattern[_0x34e744]||[])[_0xc1c799(0x21a)](_0x587746),_0x413c2e=!_0x545f93;_0x5dff0f['className']=_0xc1c799(0x1e6)+(_0x413c2e?_0xc1c799(0x207):''),_0x5dff0f[_0xc1c799(0x1d3)]=()=>toggleSinglePattern(_0x34e744,_0x587746),_0x423ca1['appendChild'](_0x5dff0f);}}}function toggleSinglePattern(_0x3908b7,_0x1b3871){const _0x3f179d=a2_0x352174;if(!availabilityPattern[_0x3908b7])availabilityPattern[_0x3908b7]=[];const _0x383fdb=availabilityPattern[_0x3908b7],_0x2314da=_0x383fdb[_0x3f179d(0xd3)](_0x1b3871);_0x2314da===-0x1?_0x383fdb[_0x3f179d(0x100)](_0x1b3871):_0x383fdb[_0x3f179d(0xfb)](_0x2314da,0x1),renderPatternEditor();}function toggleColPattern(_0x2a8d2f){const _0x41a77c=a2_0x352174;if(!availabilityPattern[_0x2a8d2f])availabilityPattern[_0x2a8d2f]=[];const _0x5c9259=availabilityPattern[_0x2a8d2f];_0x5c9259[_0x41a77c(0x1b2)]===0x0?availabilityPattern[_0x2a8d2f]=Array[_0x41a77c(0x140)]({'length':0x18},(_0x19cfdd,_0x18817b)=>_0x18817b):availabilityPattern[_0x2a8d2f]=[],renderPatternEditor();}function toggleRowPattern(_0x579f5d){const _0x278df6=a2_0x352174;let _0x55661a=!![];for(let _0x579eda=0x0;_0x579eda<0x7;_0x579eda++){if((availabilityPattern[_0x579eda]||[])[_0x278df6(0x21a)](_0x579f5d)){_0x55661a=![];break;}}for(let _0x5f4b4d=0x0;_0x5f4b4d<0x7;_0x5f4b4d++){if(!availabilityPattern[_0x5f4b4d])availabilityPattern[_0x5f4b4d]=[];const _0x499c2f=availabilityPattern[_0x5f4b4d][_0x278df6(0xd3)](_0x579f5d);if(_0x55661a){if(_0x499c2f===-0x1)availabilityPattern[_0x5f4b4d][_0x278df6(0x100)](_0x579f5d);}else{if(_0x499c2f!==-0x1)availabilityPattern[_0x5f4b4d][_0x278df6(0xfb)](_0x499c2f,0x1);}}renderPatternEditor();}function renderPCol(_0x1d2c42,_0xe6310b){const _0x151919=a2_0x352174;_0x1d2c42[_0x151919(0x196)]='';const _0x33ba8d=Math['round'](_0x1d2c42[_0x151919(0x11f)]);(availabilityPattern[_0xe6310b]||[])[_0x151919(0x1a1)](_0x18b593=>{const _0x43487d=_0x151919,_0x22e66d=document[_0x43487d(0x216)](_0x43487d(0x16c));_0x22e66d[_0x43487d(0x220)]=_0x43487d(0x21b);const _0x5119ff=_0x18b593*GRID_H;_0x22e66d[_0x43487d(0xef)][_0x43487d(0x10a)]=_0x5119ff+'px',_0x22e66d[_0x43487d(0xef)][_0x43487d(0x1da)]='-'+_0x33ba8d+_0x43487d(0x1c2)+_0x5119ff+'px',_0x22e66d[_0x43487d(0x1d3)]=_0x437242=>{const _0x17ae0c=_0x43487d;_0x437242[_0x17ae0c(0xcc)](),toggleSinglePattern(_0xe6310b,_0x18b593);},_0x1d2c42[_0x43487d(0x1cc)](_0x22e66d);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x1eaa91=a2_0x352174,_0x1e9d7b=new Date(),_0x7434c9=document[_0x1eaa91(0x186)](_0x1eaa91(0x185)),_0x89a823=document[_0x1eaa91(0x186)](_0x1eaa91(0x1ed)),_0x2bbc59=(_0x1e9d7b[_0x1eaa91(0x109)]()*0x3c+_0x1e9d7b[_0x1eaa91(0x1a4)]())/0x3c*GRID_H;_0x7434c9['style'][_0x1eaa91(0x10a)]=_0x2bbc59+'px',_0x7434c9[_0x1eaa91(0xef)][_0x1eaa91(0x194)]=_0x1eaa91(0x209),_0x89a823['textContent']=String(_0x1e9d7b['getHours']())[_0x1eaa91(0x1bc)](0x2,'0')+':'+String(_0x1e9d7b[_0x1eaa91(0x1a4)]())[_0x1eaa91(0x1bc)](0x2,'0'),_0x89a823[_0x1eaa91(0xef)][_0x1eaa91(0x194)]=_0x1eaa91(0x209),_0x89a823[_0x1eaa91(0xef)][_0x1eaa91(0x10a)]=_0x2bbc59+'px';}document[a2_0x352174(0x1db)](a2_0x352174(0x154),init);function a2_0xd512(){const _0x3d7b0e=['Error\x20setting\x20back\x20button:','data','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','matrixViewport','overlay','7720SDFFnl','startsWith','[Series]\x20Skipped\x20','</div><div\x20class=\x22ev-time\x22>','note','toUpperCase','blocked-range-part\x20stripe-bg','950QyvFWF','active','charAt','block','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','recurringOptionContainer','firstChild','color','1245rRNmFb','location','rgba(255,\x2069,\x2058,\x200.3)','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','setHours','random','\x20–∏–∑\x20','add','createElement','4724728ftDczi','month','asTitle','includes','blocked-slot\x20stripe-bg','createDocumentFragment','warning','100%','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','className','target','data-date','slice','\x20status-completed','day-column\x20','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','asBtnSeries','entries','saveLocally','closest','pe-time-label','min','delete','zIndex','background','var(--acc-red)','text/plain;charset=UTF-8','Local\x20Load\x20Error','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','[Notify]\x20Network\x20Failed','<div\x20class=\x22ev-title\x22>','getDate','Telegram','querySelectorAll','update','loadLocal','analyticsSheet','offsetWidth','ranges','find','stopPropagation','10px','getFullYear','isArray','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','uc_settings_cancel_window','#050505','indexOf','error','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','#fff','#0a84ff','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','getItem','.pib-text','Unknown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','filter','option','patternEditor','warn',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','de-item','mousedown','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','doEventsList','50Thfrdv','floor','rgba(','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','.day-off-overlay','time-label','scrollLeft','WebApp','off','style','deleted','getDay','setDate','start','init_load','fetchFromServer','btn-primary\x20btn-secondary','max','BackButton','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','10px\x2010px\x200\x200','splice','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','day-off-overlay\x20stripe-bg','save_settings','apply','push','series','classList','getMonth','Local\x20Save\x20Error','T00:00:00','dayOptionsTitle','Error\x20setting\x20color:','doWorkHours','getHours','top','Save\x20settings\x20error:','end','router.html','json','stat-','[Notify]\x20Server\x20Response:','\x20‚Äî\x20','timeColumn','none','%\x20+\x202px)','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','value','inpEnd','setItem','cancel','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','vibrate','toastMessage','getAttribute','sheetDateSubtitle','offsetLeft','anDonutCircle','inpDate','insertBefore','cancelled','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','</b>\x0a\x0a','rangeEndDate','.period-switch\x20.p-btn','sort','3423249hXSxQq','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','[Notify]\x20Detected\x20Client\x20ID:','querySelector','[Notify]\x20Error:\x20sessionData\x20is\x20null','00:00','borderLeftColor','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','rangeEndTime','<b>‚úÖ\x20','done','valid','setBackgroundColor','substr','open','send_notification','cancel_window','toLocaleDateString','anPercent','event-card','anTotalStats','btn-status-toggle\x20undo-mode','from','colIndex','\x20-\x20','settings','width','v9.0-BATCH-CALENDAR','disableVerticalSwipes','show','uc_sessions_v9','inpNote','5412228FlWXmZ','setAttribute','5074657bGkFBz','map','seriesCountContainer','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','borderRadius','user','gridColumns','numeric','DOMContentLoaded','uc_settings_v9','clients','var(--acc-current)','<div\x20class=\x22dch-day\x22>','touchstart','patternInfoBox','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','findIndex','height','setMonth','scrollTop','checked','[Sync]\x20Loading\x20','T23:59:59','.dch-stats-fill','clientId','remove','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','flex','single','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','formatDate','sessionSheet','div','sheetTitle','header-','scrollWidth','touches','11568AbwTTl','completed','log','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','inpStart','pe-corner','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','total','mouseup','getTime','inpClient',']\x20Failed:','inpRecurring','then','</span>\x20/\x20','msg','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','catch','client','globalTimeLine','getElementById','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','#gridColumns\x20.day-column','seriesId','toastTitle','rangesSheet','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','initDataUnsafe','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:',':00</span>',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','round','expand','display','[API\x20','innerHTML','–ò–Ω—Ñ–æ','now','dateStr','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','clientY','calendar','.event-card','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','actionSheet','rgba(255,\x20159,\x2010,\x200.3)','forEach','undefined','[Settings]\x20Cancel\x20window\x20set\x20to:','getMinutes','<span>','all','long','stringify','uc_clients_v9','as-button\x20danger','textContent','href','getText','localeCompare','px\x200px','dayOptionsSheet','</div><div\x20class=\x22dch-num\x22>','length','success','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','day-col-header\x20','toString','offClick','name','daysHeaderTrack','parse','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','padStart','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','rangeStartTime','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','strokeDashoffset','planned','px\x20-','search','.sheet','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','btnStatusToggle',':00','mergeServerData','borderColor','syncBatch','exceptions','appendChild','.day-col-header','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','custom','settingCancelWindow','rgba(100,100,100,0.5)','onclick','anStart','backgroundColor','week','actionSheetOverlay','setHeaderColor','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','backgroundPosition','addEventListener','data-day-idx','var(--acc-green)','POST','Batch\x20Sync\x20OK','btn-primary\x20btn-danger','doLoadPercent','left','anEnd','pattern','128753KFOOMT','pe-cell\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mini','toLocaleString','send','btnDelete','analyticsList','timeLineBadge','today','create','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','</div>','initData','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','status','pe-col-header','complete','split','...','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞'];a2_0xd512=function(){return _0x3d7b0e;};return a2_0xd512();}function openDayOptions(_0x4739be){const _0x51e37e=a2_0x352174;selectedDayForOptions=_0x4739be;const _0x5c240f=new Date(_0x4739be),_0x4eab5c={'weekday':'long','day':'numeric','month':'long','year':_0x51e37e(0x153)},_0x151196=_0x5c240f[_0x51e37e(0x13b)]('ru-RU',_0x4eab5c);document[_0x51e37e(0x186)]('doDateHeader')[_0x51e37e(0x1ab)]=_0x151196[_0x51e37e(0x208)](0x0)[_0x51e37e(0x204)]()+_0x151196[_0x51e37e(0xae)](0x1);let _0x127257=_0x5c240f[_0x51e37e(0xf1)]()-0x1;if(_0x127257===-0x1)_0x127257=0x6;const _0xc2f0de=availabilityPattern[_0x127257]||[],_0xb4b47f=0x18-_0xc2f0de[_0x51e37e(0x1b2)],_0xf17ad0=_0xb4b47f*0x3c,_0xed82b5=sessions['filter'](_0x41414e=>_0x41414e[_0x51e37e(0x199)]===_0x4739be&&_0x41414e['status']!==_0x51e37e(0x123));let _0x206f18=_0xed82b5['map'](_0x536fc9=>{const _0xc53885=_0x51e37e,[_0x9038d6,_0x3eec16]=_0x536fc9[_0xc53885(0xf3)]['split'](':')['map'](Number),[_0x119840,_0x354122]=_0x536fc9[_0xc53885(0x10c)]['split'](':')['map'](Number);return[_0x9038d6*0x3c+_0x3eec16,_0x119840*0x3c+_0x354122];});_0x206f18[_0x51e37e(0x129)]((_0x5ec0ae,_0x55ff5d)=>_0x5ec0ae[0x0]-_0x55ff5d[0x0]);let _0x439c65=[];if(_0x206f18[_0x51e37e(0x1b2)]>0x0){let _0x5baf3a=_0x206f18[0x0];for(let _0x1a17b5=0x1;_0x1a17b5<_0x206f18[_0x51e37e(0x1b2)];_0x1a17b5++){_0x206f18[_0x1a17b5][0x0]<_0x5baf3a[0x1]?_0x5baf3a[0x1]=Math[_0x51e37e(0xf7)](_0x5baf3a[0x1],_0x206f18[_0x1a17b5][0x1]):(_0x439c65[_0x51e37e(0x100)](_0x5baf3a),_0x5baf3a=_0x206f18[_0x1a17b5]);}_0x439c65[_0x51e37e(0x100)](_0x5baf3a);}let _0x271ad8=0x0;_0x439c65[_0x51e37e(0x1a1)](_0x34cc28=>_0x271ad8+=_0x34cc28[0x1]-_0x34cc28[0x0]),document['getElementById'](_0x51e37e(0x108))[_0x51e37e(0x1ab)]=formatMinsToHrs(_0xf17ad0),document['getElementById']('doBusyHours')[_0x51e37e(0x1ab)]=formatMinsToHrs(_0x271ad8);const _0xbff612=_0xf17ad0>0x0?Math[_0x51e37e(0x192)](_0x271ad8/_0xf17ad0*0x64):0x0,_0x1eb5ad=document[_0x51e37e(0x186)](_0x51e37e(0x1e1));_0x1eb5ad[_0x51e37e(0x1ab)]=_0xbff612+'%';const _0x5215f9=document[_0x51e37e(0x186)]('statLoadCard');if(_0xbff612>0x64)_0x1eb5ad[_0x51e37e(0xef)][_0x51e37e(0x20d)]=_0x51e37e(0xbb),_0x5215f9[_0x51e37e(0xef)]['borderColor']=_0x51e37e(0x210);else _0xbff612>0x50?(_0x1eb5ad[_0x51e37e(0xef)][_0x51e37e(0x20d)]='var(--acc-orange)',_0x5215f9['style'][_0x51e37e(0x1c9)]=_0x51e37e(0x1a0)):(_0x1eb5ad[_0x51e37e(0xef)][_0x51e37e(0x20d)]=_0x51e37e(0x1dd),_0x5215f9['style'][_0x51e37e(0x1c9)]='rgba(255,255,255,0.05)');const _0x1fda51=document[_0x51e37e(0x186)](_0x51e37e(0xe5));_0x1fda51[_0x51e37e(0x196)]='';_0xed82b5[_0x51e37e(0x1b2)]===0x0?_0x1fda51[_0x51e37e(0x196)]='<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>':(_0xed82b5[_0x51e37e(0x129)]((_0x13027f,_0x2cff40)=>_0x13027f['start'][_0x51e37e(0x1ae)](_0x2cff40['start'])),_0xed82b5['forEach'](_0x2169aa=>{const _0x105a8a=_0x51e37e,_0x11a8d8=clients[_0x105a8a(0xcb)](_0x2192bd=>_0x2192bd[_0x105a8a(0x1b8)]===_0x2169aa[_0x105a8a(0x184)]),_0x2b04c0=_0x11a8d8?_0x11a8d8[_0x105a8a(0x20d)]:_0x105a8a(0xd6),_0x3ddc5d=_0x2169aa[_0x105a8a(0x1f4)]===_0x105a8a(0x172),_0x517e0c=_0x3ddc5d?'<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>':'',_0x1ee330=document['createElement'](_0x105a8a(0x16c));_0x1ee330[_0x105a8a(0x220)]=_0x105a8a(0xe2),_0x1ee330['style'][_0x105a8a(0x130)]=_0x2b04c0,_0x1ee330['innerHTML']=_0x105a8a(0x187)+_0x2169aa[_0x105a8a(0xf3)]+_0x105a8a(0x142)+_0x2169aa['end']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2169aa[_0x105a8a(0x184)]+_0x105a8a(0x1e7)+_0x517e0c+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x1fda51['appendChild'](_0x1ee330);}));const _0x2eccf4=document[_0x51e37e(0x186)]('btnDayToggle'),_0x58beee=dateExceptions[_0x4739be]===_0x51e37e(0xee);_0x58beee?(_0x2eccf4[_0x51e37e(0x1ab)]=_0x51e37e(0xd8),_0x2eccf4[_0x51e37e(0x220)]=_0x51e37e(0xf6),_0x2eccf4['style'][_0x51e37e(0x20d)]='var(--acc-green)',_0x2eccf4['style'][_0x51e37e(0xba)]='rgba(48,\x20209,\x2088,\x200.15)'):(_0x2eccf4[_0x51e37e(0x1ab)]=_0x51e37e(0x169),_0x2eccf4[_0x51e37e(0x220)]=_0x51e37e(0x1e0),_0x2eccf4[_0x51e37e(0xef)][_0x51e37e(0x20d)]=_0x51e37e(0xbb),_0x2eccf4[_0x51e37e(0xef)]['background']='rgba(255,\x2069,\x2058,\x200.15)'),openSheet(_0x51e37e(0x1b0));}let currentAnPeriod=a2_0x352174(0x1d6);function openAnalytics(){const _0x2284f5=a2_0x352174,_0x21eebc=document[_0x2284f5(0x12d)](_0x2284f5(0x128));setAnalyticsPeriod(_0x2284f5(0x1d6),_0x21eebc),closeAllSheets(),openSheet(_0x2284f5(0xc8));}function setAnalyticsPeriod(_0x437551,_0x477806){const _0x5d83b1=a2_0x352174;currentAnPeriod=_0x437551,document[_0x5d83b1(0xc5)](_0x5d83b1(0x128))[_0x5d83b1(0x1a1)](_0xab0f0c=>_0xab0f0c['classList'][_0x5d83b1(0x165)]('active'));if(_0x477806)_0x477806[_0x5d83b1(0x102)]['add'](_0x5d83b1(0x207));const _0x4101c7=document[_0x5d83b1(0x186)]('anCustomDates');_0x4101c7[_0x5d83b1(0xef)][_0x5d83b1(0x194)]=_0x437551===_0x5d83b1(0x1d0)?_0x5d83b1(0x167):_0x5d83b1(0x113);const _0x6dd9=new Date();let _0x2ce8be=new Date(),_0x44847c=new Date();if(_0x437551===_0x5d83b1(0x1d6))_0x2ce8be=getStartOfWeek(_0x6dd9),_0x44847c=new Date(_0x2ce8be),_0x44847c['setDate'](_0x44847c['getDate']()+0x6);else{if(_0x437551===_0x5d83b1(0x218))_0x2ce8be=new Date(_0x6dd9[_0x5d83b1(0xce)](),_0x6dd9[_0x5d83b1(0x103)](),0x1),_0x44847c=new Date(_0x6dd9[_0x5d83b1(0xce)](),_0x6dd9['getMonth']()+0x1,0x0);else{!document['getElementById']('anStart')[_0x5d83b1(0x116)]&&(document[_0x5d83b1(0x186)]('anStart')[_0x5d83b1(0x116)]=getLocalDateStr(_0x6dd9),document[_0x5d83b1(0x186)](_0x5d83b1(0x1e3))[_0x5d83b1(0x116)]=getLocalDateStr(_0x6dd9));refreshAnalytics();return;}}document[_0x5d83b1(0x186)]('anStart')[_0x5d83b1(0x116)]=getLocalDateStr(_0x2ce8be),document[_0x5d83b1(0x186)](_0x5d83b1(0x1e3))['value']=getLocalDateStr(_0x44847c),refreshAnalytics();}function refreshAnalytics(){const _0x3e83d9=a2_0x352174,_0x56c1d5=document[_0x3e83d9(0x186)](_0x3e83d9(0x1d4))['value'],_0x3ac4c7=document[_0x3e83d9(0x186)]('anEnd')['value'];if(!_0x56c1d5||!_0x3ac4c7)return;const _0x574974=sessions[_0x3e83d9(0xdd)](_0xb772b3=>_0xb772b3[_0x3e83d9(0x199)]>=_0x56c1d5&&_0xb772b3[_0x3e83d9(0x199)]<=_0x3ac4c7&&_0xb772b3[_0x3e83d9(0x1f4)]!==_0x3e83d9(0x123)),_0x39b417=_0x574974[_0x3e83d9(0x1b2)],_0x132b76=_0x574974[_0x3e83d9(0xdd)](_0x40224f=>_0x40224f['status']===_0x3e83d9(0x172))[_0x3e83d9(0x1b2)],_0x126dc2=_0x39b417>0x0?Math[_0x3e83d9(0x192)](_0x132b76/_0x39b417*0x64):0x0;document[_0x3e83d9(0x186)](_0x3e83d9(0x13c))[_0x3e83d9(0x1ab)]=_0x126dc2+'%',document[_0x3e83d9(0x186)](_0x3e83d9(0x13e))[_0x3e83d9(0x1ab)]=_0x132b76+_0x3e83d9(0x214)+_0x39b417+_0x3e83d9(0xd5);const _0x514f5e=document[_0x3e83d9(0x186)](_0x3e83d9(0x120)),_0x2350d1=0x2*Math['PI']*0x23,_0x1e0a42=_0x2350d1-_0x126dc2/0x64*_0x2350d1;_0x514f5e['style'][_0x3e83d9(0x1c0)]=_0x1e0a42;const _0x33571e={};_0x574974[_0x3e83d9(0x1a1)](_0x10d1a9=>{const _0x2512da=_0x3e83d9;if(!_0x33571e[_0x10d1a9[_0x2512da(0x184)]]){const _0x3cb61c=clients[_0x2512da(0xcb)](_0x4375de=>_0x4375de[_0x2512da(0x1b8)]===_0x10d1a9[_0x2512da(0x184)]);_0x33571e[_0x10d1a9[_0x2512da(0x184)]]={'total':0x0,'done':0x0,'color':_0x3cb61c?_0x3cb61c['color']:_0x2512da(0xd6)};}_0x33571e[_0x10d1a9['client']][_0x2512da(0x179)]++;if(_0x10d1a9[_0x2512da(0x1f4)]===_0x2512da(0x172))_0x33571e[_0x10d1a9[_0x2512da(0x184)]]['done']++;});const _0x555ea4=document[_0x3e83d9(0x186)](_0x3e83d9(0x1ec));_0x555ea4['innerHTML']='';const _0x3cf7a1=Object[_0x3e83d9(0xb3)](_0x33571e)[_0x3e83d9(0x129)]((_0x53c985,_0x158e04)=>_0x158e04[0x1][_0x3e83d9(0x179)]-_0x53c985[0x1][_0x3e83d9(0x179)]);if(_0x3cf7a1[_0x3e83d9(0x1b2)]===0x0){_0x555ea4[_0x3e83d9(0x196)]=_0x3e83d9(0x182);return;}_0x3cf7a1[_0x3e83d9(0x1a1)](([_0x4b4cb7,_0x17f212])=>{const _0x51bf68=_0x3e83d9,_0x11b5b5=Math['round'](_0x17f212[_0x51bf68(0x134)]/_0x17f212['total']*0x64),_0x1ed15d=document[_0x51bf68(0x216)](_0x51bf68(0x16c));_0x1ed15d['className']='client-stat-card',_0x1ed15d[_0x51bf68(0xef)][_0x51bf68(0x130)]=_0x17f212['color'],_0x1ed15d[_0x51bf68(0x196)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>'+_0x4b4cb7+_0x51bf68(0x1fc)+_0x17f212[_0x51bf68(0x134)]+_0x51bf68(0x180)+_0x17f212[_0x51bf68(0x179)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x11b5b5+_0x51bf68(0x175),_0x555ea4[_0x51bf68(0x1cc)](_0x1ed15d);});}function formatMinsToHrs(_0x63cfc){if(_0x63cfc===0x0)return'0';const _0x350501=Math['floor'](_0x63cfc/0x3c),_0x497835=_0x63cfc%0x3c;if(_0x497835===0x0)return _0x350501+'—á';return _0x350501+'—á\x20'+_0x497835+'–º';}