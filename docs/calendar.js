const a2_0x217626=a2_0x3f48;(function(_0x12e06e,_0x2c8941){const _0x5d4403=a2_0x3f48,_0x282015=_0x12e06e();while(!![]){try{const _0x1d471b=parseInt(_0x5d4403(0x244))/0x1+-parseInt(_0x5d4403(0x2ad))/0x2*(-parseInt(_0x5d4403(0x1f5))/0x3)+parseInt(_0x5d4403(0x34c))/0x4*(-parseInt(_0x5d4403(0x2bc))/0x5)+parseInt(_0x5d4403(0x1e5))/0x6*(-parseInt(_0x5d4403(0x2db))/0x7)+parseInt(_0x5d4403(0x351))/0x8+parseInt(_0x5d4403(0x2b2))/0x9+-parseInt(_0x5d4403(0x2fc))/0xa;if(_0x1d471b===_0x2c8941)break;else _0x282015['push'](_0x282015['shift']());}catch(_0x4b0ae1){_0x282015['push'](_0x282015['shift']());}}}(a2_0x5140,0xb9c72),function initTMA(){const _0x276761=a2_0x3f48,_0xc14f70=(function(){let _0x4ed915=!![];return function(_0x26d68e,_0x2a2b04){const _0x3d4663=_0x4ed915?function(){const _0x54d5a3=a2_0x3f48;if(_0x2a2b04){const _0x5933a5=_0x2a2b04[_0x54d5a3(0x2f6)](_0x26d68e,arguments);return _0x2a2b04=null,_0x5933a5;}}:function(){};return _0x4ed915=![],_0x3d4663;};}()),_0x5192da=_0xc14f70(this,function(){const _0x46283b=a2_0x3f48;return _0x5192da[_0x46283b(0x24a)]()[_0x46283b(0x349)]('(((.+)+)+)+$')[_0x46283b(0x24a)]()[_0x46283b(0x265)](_0x5192da)[_0x46283b(0x349)](_0x46283b(0x2d6));});_0x5192da();try{const _0x325451=window['Telegram']?.[_0x276761(0x2c8)];if(!_0x325451)return;_0x325451[_0x276761(0x301)](),_0x325451[_0x276761(0x27b)]();try{_0x325451[_0x276761(0x2ca)]('#050505'),_0x325451[_0x276761(0x302)]&&_0x325451['setBackgroundColor']('#050505');}catch(_0x16df79){console[_0x276761(0x1fc)]('Error\x20setting\x20color:',_0x16df79);}try{_0x325451[_0x276761(0x24c)]&&(_0x325451[_0x276761(0x24c)]['show'](),_0x325451['BackButton'][_0x276761(0x290)](),_0x325451[_0x276761(0x24c)][_0x276761(0x247)](function(){const _0x5755d0=_0x276761;window[_0x5755d0(0x34b)]['href']=_0x5755d0(0x2e9);}));}catch(_0x3c05f2){console[_0x276761(0x1fc)](_0x276761(0x236),_0x3c05f2);}try{if(_0x325451['disableVerticalSwipes'])_0x325451[_0x276761(0x33f)]();}catch(_0x2bc374){}}catch(_0x1f3b18){console[_0x276761(0x2f1)](_0x276761(0x331),_0x1f3b18);}}());function isAdmin(){const _0x3317ea=a2_0x3f48;try{const _0x19fa21=Number(window[_0x3317ea(0x281)]?.['WebApp']?.['initDataUnsafe']?.[_0x3317ea(0x337)]?.['id']);return _0x19fa21===0xbaf7174;}catch(_0x44411f){return![];}}const APP_VERSION='v9.0-BATCH-CALENDAR',API_URL=a2_0x217626(0x340),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x217626(0x348),KEY_SESSIONS=a2_0x217626(0x279),KEY_SETTINGS=a2_0x217626(0x293);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0xab1f06=a2_0x217626;return window[_0xab1f06(0x281)]?.['WebApp']?.[_0xab1f06(0x2af)]?.['user']?.['id']||_0xab1f06(0x287);},'saveLocally'(){const _0x4d0e19=a2_0x217626;try{localStorage['setItem'](KEY_CLIENTS,JSON[_0x4d0e19(0x2dc)](clients)),localStorage[_0x4d0e19(0x23d)](KEY_SESSIONS,JSON[_0x4d0e19(0x2dc)](sessions)),localStorage['setItem'](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x139aae){console[_0x4d0e19(0x2f1)](_0x4d0e19(0x24b),_0x139aae);}},'loadLocal'(){const _0x40adab=a2_0x217626;try{const _0x2474aa=localStorage['getItem'](KEY_CLIENTS);if(_0x2474aa)clients=JSON[_0x40adab(0x2d7)](_0x2474aa);const _0x5eec28=localStorage['getItem'](KEY_SESSIONS);if(_0x5eec28)sessions=JSON[_0x40adab(0x2d7)](_0x5eec28);const _0x7574ff=localStorage[_0x40adab(0x28b)](KEY_SETTINGS);if(_0x7574ff){const _0x3e7a78=JSON[_0x40adab(0x2d7)](_0x7574ff);if(_0x3e7a78[_0x40adab(0x2cd)])availabilityPattern=_0x3e7a78[_0x40adab(0x2cd)];if(_0x3e7a78[_0x40adab(0x1e2)])dateExceptions=_0x3e7a78[_0x40adab(0x1e2)];if(_0x3e7a78['ranges'])specialRanges=_0x3e7a78['ranges'];}else{for(let _0x46b930=0x0;_0x46b930<0x7;_0x46b930++)availabilityPattern[_0x46b930]=Array[_0x40adab(0x20e)]({'length':0xc},(_0x19b278,_0x53c7e1)=>_0x53c7e1+0x9);}}catch(_0xa713fe){console[_0x40adab(0x2f1)]('Local\x20Load\x20Error',_0xa713fe);}},async 'fetchFromServer'(_0x1a36cb,_0x4a9316={}){const _0xba723a=a2_0x217626,_0x1a9754=window[_0xba723a(0x281)]?.['WebApp'],_0x1485d1={'action':_0x1a36cb,'init_data':_0x1a9754?.[_0xba723a(0x2e7)]||'',..._0x4a9316};try{const _0x705d8d=await fetch(API_URL,{'method':'POST','headers':{'Content-Type':_0xba723a(0x20f)},'body':JSON[_0xba723a(0x2dc)](_0x1485d1)}),_0x3d67c2=await _0x705d8d['json']();if(!_0x3d67c2['ok'])throw new Error(_0x3d67c2['error']||'Server\x20Error');return _0x3d67c2[_0xba723a(0x1f7)];}catch(_0x54cb04){console[_0xba723a(0x2f1)]('[API\x20'+_0x1a36cb+']\x20Failed:',_0x54cb04);throw _0x54cb04;}},async 'syncLoad'(){const _0x42cf17=a2_0x217626,_0x2a6f94=new Date(),_0x44c766=_0x2a6f94['getFullYear']()+'-'+String(_0x2a6f94[_0x42cf17(0x2c5)]()+0x1)['padStart'](0x2,'0'),_0x401b31=new Date(_0x2a6f94);_0x401b31['setMonth'](_0x2a6f94['getMonth']()+0x1);const _0x31cf09=_0x401b31[_0x42cf17(0x2bd)]()+'-'+String(_0x401b31[_0x42cf17(0x2c5)]()+0x1)['padStart'](0x2,'0'),_0x2abce9=Date[_0x42cf17(0x240)]();console[_0x42cf17(0x1fc)](_0x42cf17(0x356)+_0x44c766+',\x20'+_0x31cf09+'...');try{const [_0x315b97,_0x467b62]=await Promise[_0x42cf17(0x2d1)]([this['fetchFromServer'](_0x42cf17(0x2a3),{'month_str':_0x44c766}),this[_0x42cf17(0x235)](_0x42cf17(0x2a3),{'month_str':_0x31cf09})]);if(lastUserActionTime>_0x2abce9)return console[_0x42cf17(0x2a0)](_0x42cf17(0x1f8)),![];return this[_0x42cf17(0x242)](_0x315b97,_0x44c766),this[_0x42cf17(0x242)](_0x467b62,_0x31cf09),this['saveLocally'](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x27e1e4){console[_0x42cf17(0x2f1)](_0x27e1e4);throw _0x27e1e4;}},'mergeServerData'(_0x1668bb,_0x19b77d){const _0x5f4de6=a2_0x217626;if(!_0x1668bb)return;_0x1668bb[_0x5f4de6(0x2f0)]&&Array[_0x5f4de6(0x224)](_0x1668bb['clients'])&&(clients=_0x1668bb['clients']);if(_0x1668bb[_0x5f4de6(0x285)]){if(_0x1668bb['settings'][_0x5f4de6(0x2cd)])availabilityPattern=_0x1668bb[_0x5f4de6(0x285)][_0x5f4de6(0x2cd)];if(_0x1668bb[_0x5f4de6(0x285)]['exceptions'])dateExceptions=_0x1668bb['settings'][_0x5f4de6(0x1e2)];if(_0x1668bb[_0x5f4de6(0x285)]['ranges'])specialRanges=_0x1668bb['settings']['ranges'];if(_0x1668bb['settings']['cancel_window']){localStorage['setItem'](_0x5f4de6(0x295),_0x1668bb['settings'][_0x5f4de6(0x334)]);const _0x5ed710=document[_0x5f4de6(0x28e)]('settingCancelWindow');if(_0x5ed710)_0x5ed710[_0x5f4de6(0x234)]=_0x1668bb[_0x5f4de6(0x285)][_0x5f4de6(0x334)];}}_0x1668bb[_0x5f4de6(0x300)]&&(sessions=sessions[_0x5f4de6(0x2d8)](_0x3dee43=>!_0x3dee43[_0x5f4de6(0x2ee)][_0x5f4de6(0x25e)](_0x19b77d)),Object['keys'](_0x1668bb[_0x5f4de6(0x300)])[_0x5f4de6(0x26e)](_0x2d31b0=>{const _0x31b643=_0x1668bb['calendar'][_0x2d31b0];_0x31b643['forEach'](_0x1e2f57=>{const _0x368a05=a2_0x3f48,_0x3f9b29=clients[_0x368a05(0x321)](_0x1c6d30=>String(_0x1c6d30['id'])===String(_0x1e2f57['c']));sessions[_0x368a05(0x2fa)]({'id':_0x1e2f57['i'],'clientId':_0x1e2f57['c'],'client':_0x3f9b29?_0x3f9b29['name']:_0x368a05(0x2ec),'dateStr':_0x19b77d+'-'+_0x2d31b0[_0x368a05(0x2b3)](0x2,'0'),'start':_0x1e2f57['s'],'end':_0x1e2f57['e'],'status':_0x1e2f57['st']||_0x368a05(0x25f),'note':_0x1e2f57['n']||'','seriesId':_0x1e2f57['sid']||null});});}));},async 'syncBatch'(_0x3fa87c){const _0x174711=a2_0x217626,_0x171c1f=[...new Set(_0x3fa87c)],_0x3501c2=_0x171c1f[_0x174711(0x335)](_0xc0b89f=>{const _0x21e855=_0x174711,_0x1ca0c0=sessions[_0x21e855(0x2d8)](_0x12449f=>_0x12449f[_0x21e855(0x2ee)]===_0xc0b89f&&_0x12449f[_0x21e855(0x31c)]!=='deleted'),_0x4f0290=_0x1ca0c0[_0x21e855(0x335)](_0x21065e=>({'i':_0x21065e['id'],'c':_0x21065e['clientId'],'s':_0x21065e[_0x21e855(0x2d9)],'e':_0x21065e[_0x21e855(0x2a1)],'st':_0x21065e[_0x21e855(0x31c)],'n':_0x21065e[_0x21e855(0x2f4)],'sid':_0x21065e[_0x21e855(0x20d)]}));return{'date':_0xc0b89f,'day_data':_0x4f0290};});if(_0x3501c2[_0x174711(0x228)]===0x0)return;console['log'](_0x174711(0x307)+_0x3501c2['length']+_0x174711(0x2da)),await this[_0x174711(0x235)]('batch_sync',{'changes':_0x3501c2});}};async function init(){const _0x312798=a2_0x217626;DataManager['loadLocal'](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x312798(0x28e)](_0x312798(0x347))['addEventListener'](_0x312798(0x311),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']()['then'](()=>{const _0x333fa4=_0x312798;showToast(_0x333fa4(0x2e5),!![]);})[_0x312798(0x2f5)](_0x56d395=>{showToast('–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º',![]);});}function generateId(){const _0x455140=a2_0x217626;return Date[_0x455140(0x240)]()[_0x455140(0x24a)](0x24)+Math[_0x455140(0x211)]()[_0x455140(0x24a)](0x24)[_0x455140(0x21c)](0x2,0x5);}function toggleSeriesInput(){const _0x52d722=a2_0x217626,_0x2a39f2=document[_0x52d722(0x28e)](_0x52d722(0x27f))['checked'],_0x19dce9=document[_0x52d722(0x28e)]('seriesCountContainer');_0x19dce9[_0x52d722(0x2e0)][_0x52d722(0x25b)]=_0x2a39f2?'block':_0x52d722(0x291);const _0xf68ddd=document[_0x52d722(0x28e)](_0x52d722(0x33a));_0xf68ddd['style'][_0x52d722(0x1de)]=_0x2a39f2?'10px\x2010px\x200\x200':_0x52d722(0x289);}function openAddSession(_0xaf2b94){const _0x151a7d=a2_0x217626;editingId=null,populateClientSelect(),document[_0x151a7d(0x28e)](_0x151a7d(0x218))[_0x151a7d(0x205)]=_0x151a7d(0x2fe),document['getElementById'](_0x151a7d(0x2b0))[_0x151a7d(0x2e0)][_0x151a7d(0x25b)]=_0x151a7d(0x291),document[_0x151a7d(0x28e)](_0x151a7d(0x202))[_0x151a7d(0x2e0)][_0x151a7d(0x25b)]=_0x151a7d(0x291);const _0xaa1251=document['getElementById'](_0x151a7d(0x33a)),_0x268fdd=document[_0x151a7d(0x28e)](_0x151a7d(0x225));_0xaa1251['style']['display']='flex',_0xaa1251[_0x151a7d(0x2e0)][_0x151a7d(0x1de)]=_0x151a7d(0x289),document[_0x151a7d(0x28e)](_0x151a7d(0x27f))['checked']=![],document[_0x151a7d(0x28e)](_0x151a7d(0x2a6))[_0x151a7d(0x234)]=0x4,_0x268fdd['style'][_0x151a7d(0x25b)]=_0x151a7d(0x291),document['getElementById'](_0x151a7d(0x344))[_0x151a7d(0x234)]=getLocalDateStr(_0xaf2b94),updateDateDisplay();const _0x561aff=_0xaf2b94[_0x151a7d(0x1f9)]();document['getElementById']('inpStart')[_0x151a7d(0x234)]=String(_0x561aff)[_0x151a7d(0x2b3)](0x2,'0')+_0x151a7d(0x227),document[_0x151a7d(0x28e)](_0x151a7d(0x2ac))[_0x151a7d(0x234)]=String(_0x561aff+0x1)['padStart'](0x2,'0')+':00',openSheet(_0x151a7d(0x22b));}function openEdit(_0xa860f1){const _0x3e5493=a2_0x217626;editingId=_0xa860f1['id'],populateClientSelect(),document[_0x3e5493(0x28e)](_0x3e5493(0x218))[_0x3e5493(0x205)]='–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å',document[_0x3e5493(0x28e)](_0x3e5493(0x2b0))['style'][_0x3e5493(0x25b)]=_0x3e5493(0x2f7);const _0x191a61=document[_0x3e5493(0x28e)]('btnStatusToggle');_0x191a61[_0x3e5493(0x2e0)][_0x3e5493(0x25b)]=_0x3e5493(0x1e4);_0xa860f1['status']===_0x3e5493(0x30f)?(_0x191a61[_0x3e5493(0x1fd)]=_0x3e5493(0x2b9),_0x191a61[_0x3e5493(0x282)]='–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ'):(_0x191a61[_0x3e5493(0x1fd)]=_0x3e5493(0x220),_0x191a61['innerHTML']=_0x3e5493(0x226));const _0x44c1b5=!!_0xa860f1['seriesId'];document[_0x3e5493(0x28e)]('recurringOptionContainer')['style'][_0x3e5493(0x25b)]=_0x3e5493(0x291),document[_0x3e5493(0x28e)]('seriesCountContainer')[_0x3e5493(0x2e0)]['display']=_0x3e5493(0x291),_0x44c1b5?(document[_0x3e5493(0x28e)]('patternInfoBox')['style'][_0x3e5493(0x25b)]='flex',document[_0x3e5493(0x28e)]('patternInfoBox')[_0x3e5493(0x32e)](_0x3e5493(0x34f))[_0x3e5493(0x205)]=_0x3e5493(0x2c6)):document[_0x3e5493(0x28e)](_0x3e5493(0x2c0))[_0x3e5493(0x2e0)][_0x3e5493(0x25b)]=_0x3e5493(0x291),document[_0x3e5493(0x28e)](_0x3e5493(0x32c))[_0x3e5493(0x234)]=_0xa860f1['client'],document[_0x3e5493(0x28e)](_0x3e5493(0x344))[_0x3e5493(0x234)]=_0xa860f1[_0x3e5493(0x2ee)],document[_0x3e5493(0x28e)]('inpStart')[_0x3e5493(0x234)]=_0xa860f1[_0x3e5493(0x2d9)],document[_0x3e5493(0x28e)](_0x3e5493(0x2ac))['value']=_0xa860f1['end'],document[_0x3e5493(0x28e)](_0x3e5493(0x2f2))[_0x3e5493(0x234)]=_0xa860f1[_0x3e5493(0x2f4)]||'',updateDateDisplay(),openSheet(_0x3e5493(0x22b));}async function trySaveSession(){const _0x242252=a2_0x217626,_0x3c6860=document['getElementById'](_0x242252(0x32c))[_0x242252(0x234)],_0x380418=document[_0x242252(0x28e)]('inpDate')[_0x242252(0x234)],_0x51e1a2=document[_0x242252(0x28e)](_0x242252(0x323))['value'],_0x172882=document[_0x242252(0x28e)]('inpEnd')['value'],_0x3ee7d5=document[_0x242252(0x28e)](_0x242252(0x2f2))['value'],_0x579efd=document[_0x242252(0x28e)](_0x242252(0x27f))['checked'];let _0x2a7dd7=0x4;if(_0x579efd){const _0x547a90=parseInt(document[_0x242252(0x28e)](_0x242252(0x2a6))[_0x242252(0x234)]);if(!_0x547a90||_0x547a90<0x2){showToast('–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏',![]);return;}if(_0x547a90>0x64){showToast(_0x242252(0x2ab),![]);return;}_0x2a7dd7=_0x547a90;}const _0xe1f1df=clients['find'](_0x553b9e=>_0x553b9e[_0x242252(0x2fd)]===_0x3c6860);if(!_0xe1f1df){showToast(_0x242252(0x357),![]);return;}const _0x58644f=validateAppointment(_0x380418,_0x51e1a2,_0x172882,editingId,_0xe1f1df['id']);if(!_0x58644f['valid']){showToast(_0x58644f['msg'],![]);return;}_0x58644f[_0x242252(0x214)]&&showToast(_0x58644f['warning'],![]);const _0x2cde96={'client':_0x3c6860,'clientId':_0xe1f1df['id'],'start':_0x51e1a2,'end':_0x172882,'note':_0x3ee7d5,'status':_0x242252(0x25f)},_0x1445ac=editingId?sessions[_0x242252(0x321)](_0x41981c=>_0x41981c['id']===editingId):null;if(_0x1445ac&&_0x1445ac[_0x242252(0x20d)]){tempSessionData={..._0x2cde96,'dateStr':_0x380418,'id':editingId,'seriesId':_0x1445ac[_0x242252(0x20d)]},openActionSheet(_0x242252(0x31b));return;}let _0x43e2cb=null;if(!editingId)_0x43e2cb='create';else{if(_0x1445ac){if(String(_0x1445ac[_0x242252(0x2e3)])!==String(_0xe1f1df['id']))console[_0x242252(0x1fc)](_0x242252(0x324)),NotificationManager[_0x242252(0x29a)]('cancel',_0x1445ac),_0x43e2cb=_0x242252(0x274);else(_0x1445ac[_0x242252(0x2d9)]!==_0x51e1a2||_0x1445ac[_0x242252(0x2a1)]!==_0x172882||_0x1445ac[_0x242252(0x2ee)]!==_0x380418)&&(_0x43e2cb=_0x242252(0x28d));}}if(!editingId&&_0x579efd){createBatchSeries(_0x2cde96,_0x380418,_0x2a7dd7),NotificationManager[_0x242252(0x29a)](_0x242252(0x274),{..._0x2cde96,'dateStr':_0x380418});return;}lastUserActionTime=Date[_0x242252(0x240)]();const _0x1a1176={..._0x2cde96,'dateStr':_0x380418,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x1a1176),_0x43e2cb&&NotificationManager['send'](_0x43e2cb,_0x1a1176);}function toggleSessionStatus(){const _0x53e16a=a2_0x217626;lastUserActionTime=Date[_0x53e16a(0x240)]();const _0x1f1ff9=sessions[_0x53e16a(0x321)](_0x1dd56a=>_0x1dd56a['id']===editingId);if(!_0x1f1ff9)return;const _0x593e61=_0x1f1ff9[_0x53e16a(0x31c)]===_0x53e16a(0x30f)?'planned':'completed';_0x1f1ff9[_0x53e16a(0x31c)]=_0x593e61,saveSingleSession(_0x1f1ff9),_0x593e61===_0x53e16a(0x30f)&&NotificationManager[_0x53e16a(0x29a)]('complete',_0x1f1ff9),showToast(_0x593e61===_0x53e16a(0x30f)?_0x53e16a(0x253):_0x53e16a(0x232),!![]);}function validateAppointment(_0x5a92e7,_0x12a0f4,_0x1ba464,_0xba5343,_0x1a6ffd){const _0x731aa9=a2_0x217626,[_0x185c18,_0x54cf4d]=_0x12a0f4['split'](':')[_0x731aa9(0x335)](Number),[_0x29c868,_0x4fd006]=_0x1ba464[_0x731aa9(0x239)](':')[_0x731aa9(0x335)](Number),_0x31aabf=_0x185c18*0x3c+_0x54cf4d,_0x1dda2a=_0x29c868*0x3c+_0x4fd006,_0x1bee4f=String(_0x1a6ffd);let _0x38d67c=![],_0x54ed0f='';for(let _0x197fa1 of sessions){if(_0x197fa1['dateStr']!==_0x5a92e7)continue;if(_0x197fa1[_0x731aa9(0x31c)]==='cancelled')continue;if(_0xba5343&&String(_0x197fa1['id'])===String(_0xba5343))continue;const [_0x1f3cbe,_0x395029]=_0x197fa1[_0x731aa9(0x2d9)][_0x731aa9(0x239)](':')[_0x731aa9(0x335)](Number),[_0x47e174,_0x3e06a3]=_0x197fa1[_0x731aa9(0x2a1)][_0x731aa9(0x239)](':')[_0x731aa9(0x335)](Number),_0x2d4212=_0x1f3cbe*0x3c+_0x395029,_0x31e228=_0x47e174*0x3c+_0x3e06a3;if(Math['max'](_0x31aabf,_0x2d4212)<Math[_0x731aa9(0x1f3)](_0x1dda2a,_0x31e228)){if(_0x197fa1[_0x731aa9(0x2e3)]&&String(_0x197fa1[_0x731aa9(0x2e3)])===_0x1bee4f)return{'valid':![],'msg':_0x731aa9(0x251)+_0x197fa1['client']+_0x731aa9(0x24e)};_0x38d67c=!![],_0x54ed0f=_0x197fa1[_0x731aa9(0x255)];}}if(_0x38d67c)return{'valid':!![],'warning':_0x731aa9(0x1e0)+_0x54ed0f};return{'valid':!![]};}function saveSingleSession(_0x513fd5){const _0x32f257=a2_0x217626;if(editingId){const _0x1e6d55=sessions[_0x32f257(0x229)](_0x28ce8a=>_0x28ce8a['id']===editingId);if(_0x1e6d55!==-0x1)sessions[_0x1e6d55]=_0x513fd5;}else sessions[_0x32f257(0x2fa)](_0x513fd5);afterSaveAction([_0x513fd5[_0x32f257(0x2ee)]]);}function createBatchSeries(_0x1fcd5d,_0x1462c4,_0x27d19d){const _0x2f333d=a2_0x217626,_0x3359fc=generateId(),_0x4379ce=[],_0x5bfa3a=[];let _0x29dd00=0x0,_0x589409=new Date(_0x1462c4);for(let _0x496dc3=0x0;_0x496dc3<_0x27d19d;_0x496dc3++){const _0x1ded88=getLocalDateStr(_0x589409),_0x2bf239=validateAppointment(_0x1ded88,_0x1fcd5d[_0x2f333d(0x2d9)],_0x1fcd5d[_0x2f333d(0x2a1)],null,_0x1fcd5d['clientId']);if(!_0x2bf239[_0x2f333d(0x21d)])console[_0x2f333d(0x1fc)](_0x2f333d(0x314)+_0x1ded88+':\x20Client\x20already\x20booked'),_0x29dd00++;else{const _0x536366={..._0x1fcd5d,'id':generateId(),'dateStr':_0x1ded88,'seriesId':_0x3359fc};_0x5bfa3a[_0x2f333d(0x2fa)](_0x536366),_0x4379ce[_0x2f333d(0x2fa)](_0x1ded88);}_0x589409[_0x2f333d(0x320)](_0x589409[_0x2f333d(0x2e2)]()+0x7);}if(_0x5bfa3a['length']===0x0){showToast(_0x2f333d(0x22f),![]);return;}sessions[_0x2f333d(0x2fa)](..._0x5bfa3a),lastUserActionTime=Date[_0x2f333d(0x240)]();let _0x3c6396=_0x2f333d(0x1e3)+_0x5bfa3a[_0x2f333d(0x228)];_0x29dd00>0x0&&(_0x3c6396+='\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20'+_0x29dd00+')'),showToast(_0x3c6396,!![]),afterSaveAction(_0x4379ce);}function updateSeriesBatch(_0xf922c5,_0x54011d){const _0x29d2f5=a2_0x217626,_0xc6f7c5=[],_0x13ac14=_0x54011d[_0x29d2f5(0x20d)];if(_0xf922c5===_0x29d2f5(0x20a)){const _0x35f02d={..._0x54011d,'seriesId':null},_0x157228=sessions[_0x29d2f5(0x229)](_0x2da284=>_0x2da284['id']===_0x54011d['id']);if(_0x157228!==-0x1)sessions[_0x157228]=_0x35f02d;_0xc6f7c5['push'](_0x35f02d[_0x29d2f5(0x2ee)]);}else{if(_0xf922c5===_0x29d2f5(0x22d)){const _0x5d8435=_0x54011d['dateStr'];sessions[_0x29d2f5(0x26e)]((_0x55832a,_0x4f452b)=>{const _0x120e73=_0x29d2f5;_0x55832a[_0x120e73(0x20d)]===_0x13ac14&&_0x55832a['dateStr']>=_0x5d8435&&(sessions[_0x4f452b]={...sessions[_0x4f452b],'start':_0x54011d[_0x120e73(0x2d9)],'end':_0x54011d[_0x120e73(0x2a1)],'note':_0x54011d[_0x120e73(0x2f4)],'client':_0x54011d[_0x120e73(0x255)],'clientId':_0x54011d['clientId']},_0xc6f7c5[_0x120e73(0x2fa)](_0x55832a[_0x120e73(0x2ee)]));});}}afterSaveAction(_0xc6f7c5);}function tryDeleteSession(){const _0x2a6d3f=a2_0x217626,_0x1a7408=sessions[_0x2a6d3f(0x321)](_0x5b21de=>_0x5b21de['id']===editingId);if(!_0x1a7408)return;_0x1a7408[_0x2a6d3f(0x20d)]?openActionSheet(_0x2a6d3f(0x298)):commitDelete(_0x2a6d3f(0x20a),_0x1a7408);}function commitDelete(_0x5d8b35,_0x99c058){const _0x2f4e95=a2_0x217626;lastUserActionTime=Date[_0x2f4e95(0x240)](),NotificationManager[_0x2f4e95(0x29a)](_0x2f4e95(0x21a),_0x99c058);const _0x1c16b6=[];if(_0x5d8b35===_0x2f4e95(0x20a))sessions=sessions[_0x2f4e95(0x2d8)](_0x37bf12=>_0x37bf12['id']!==_0x99c058['id']),_0x1c16b6['push'](_0x99c058[_0x2f4e95(0x2ee)]);else{if(_0x5d8b35===_0x2f4e95(0x22d)){const _0xe8b49b=_0x99c058[_0x2f4e95(0x2ee)],_0x316c2e=_0x99c058[_0x2f4e95(0x20d)];sessions['forEach'](_0x50948d=>{const _0x300634=_0x2f4e95;_0x50948d['seriesId']===_0x316c2e&&_0x50948d['dateStr']>=_0xe8b49b&&_0x1c16b6[_0x300634(0x2fa)](_0x50948d['dateStr']);}),sessions=sessions[_0x2f4e95(0x2d8)](_0x58315c=>!(_0x58315c[_0x2f4e95(0x20d)]===_0x316c2e&&_0x58315c[_0x2f4e95(0x2ee)]>=_0xe8b49b));}}afterSaveAction(_0x1c16b6);}function afterSaveAction(_0x53244b){const _0x2aaf7c=a2_0x217626;DataManager[_0x2aaf7c(0x2d2)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x2aaf7c(0x256)](_0x53244b)[_0x2aaf7c(0x262)](()=>console[_0x2aaf7c(0x1fc)](_0x2aaf7c(0x2a5)))[_0x2aaf7c(0x2f5)](_0x30359b=>showToast(_0x2aaf7c(0x221),![]));}const NotificationManager={'formatDate'(_0x423672){const _0x30281e=a2_0x217626,_0x41aed=new Date(_0x423672),_0x25a79b={'weekday':'long','day':_0x30281e(0x258),'month':_0x30281e(0x2d4)};let _0x4a1a0b=_0x41aed[_0x30281e(0x2ed)](_0x30281e(0x27c),_0x25a79b);return _0x4a1a0b[_0x30281e(0x30a)](0x0)[_0x30281e(0x2f8)]()+_0x4a1a0b['slice'](0x1);},'getText'(_0x551fbc,_0x521e3b){const _0x54000a=a2_0x217626,_0x3d59d2=this['formatDate'](_0x521e3b['dateStr']);switch(_0x551fbc){case _0x54000a(0x274):return'<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a'+(_0x54000a(0x34d)+_0x3d59d2+'\x0a')+(_0x54000a(0x29b)+_0x521e3b[_0x54000a(0x2d9)]+_0x54000a(0x33e)+_0x521e3b['end']+'\x0a\x0a')+_0x54000a(0x1dd);case _0x54000a(0x28d):return _0x54000a(0x280)+_0x54000a(0x288)+('<b>‚úÖ\x20'+_0x521e3b[_0x54000a(0x2d9)]+_0x54000a(0x33e)+_0x521e3b['end']+_0x54000a(0x23a))+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0x3d59d2);case'cancel':return'<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a'+('–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>'+_0x3d59d2+'\x20('+_0x521e3b[_0x54000a(0x2d9)]+_0x54000a(0x28c));case _0x54000a(0x292):return'<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a'+'–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a'+_0x54000a(0x29f);default:return'';}},async 'send'(_0x38861c,_0x58a11e){const _0x29de38=a2_0x217626;console['log'](_0x29de38(0x1f0),_0x38861c,_0x58a11e);if(!_0x58a11e){console['error'](_0x29de38(0x217));return;}const _0x59a545=String(_0x58a11e[_0x29de38(0x2e3)]);console[_0x29de38(0x1fc)](_0x29de38(0x304),_0x59a545);if(!_0x58a11e[_0x29de38(0x2e3)]||_0x59a545===_0x29de38(0x246)||_0x59a545===_0x29de38(0x1e6)){console[_0x29de38(0x2f1)]('[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!');if(_0x58a11e[_0x29de38(0x255)]){const _0x352b11=clients[_0x29de38(0x321)](_0x206f1c=>_0x206f1c[_0x29de38(0x2fd)]===_0x58a11e[_0x29de38(0x255)]);if(_0x352b11)return console[_0x29de38(0x1fc)]('[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:',_0x352b11['id']),this[_0x29de38(0x29a)](_0x38861c,{..._0x58a11e,'clientId':_0x352b11['id']});}return;}if(_0x59a545['length']<0x5){console[_0x29de38(0x2a0)]('[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)',_0x59a545);return;}const _0x120cc1=this[_0x29de38(0x2cb)](_0x38861c,_0x58a11e);if(!_0x120cc1){console[_0x29de38(0x2f1)]('[Notify]\x20Error:\x20Text\x20generation\x20failed');return;}console[_0x29de38(0x1fc)](_0x29de38(0x2e1)+_0x59a545+_0x29de38(0x318)),DataManager['fetchFromServer'](_0x29de38(0x336),{'chatId':_0x59a545,'text':_0x120cc1})[_0x29de38(0x262)](_0x5b887e=>console[_0x29de38(0x1fc)](_0x29de38(0x306),_0x5b887e))['catch'](_0x2dbcf0=>console['error']('[Notify]\x20Network\x20Failed',_0x2dbcf0));}};function a2_0x5140(){const _0x52fa44=['getDate','clientId','background','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','querySelectorAll','initData','daysHeaderTrack','router.html','toast-notification\x20','localeCompare','Unknown','toLocaleDateString','dateStr','btn-primary\x20btn-danger','clients','error','inpNote','clientY','note','catch','apply','block','toUpperCase','header-','push','firstChild','9407040JpWmcH','name','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','success','calendar','ready','setBackgroundColor','includes','[Notify]\x20Detected\x20Client\x20ID:','rgba(255,255,255,0.05)','[Notify]\x20Server\x20Response:','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','#gridColumns\x20.day-column','–ò–Ω—Ñ–æ','charAt','getDay','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','%\x20-\x204px)','floor','completed','asTitle','scroll','createDocumentFragment','colIndex','[Series]\x20Skipped\x20','indexOf','anEnd','blocked-range-part\x20stripe-bg','...','doWorkHours','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','save','status','settingCancelWindow','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','setDate','find',':00</span>','inpStart','[Notify]\x20Client\x20SWAP\x20detected','top','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','width','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','touchmove','doEventsList','cancelled','inpClient','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','querySelector','off','touches','Critical\x20TMA\x20Error:','onclick','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','cancel_window','map','send_notification','user','<div\x20class=\x22dch-day\x22>','doBusyHours','recurringOptionContainer','target','T00:00:00','rangesList','\x20‚Äî\x20','disableVerticalSwipes','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','round','pe-col-header','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','inpDate','timeColumn','toastTitle','matrixViewport','uc_clients_v9','search','borderColor','location','20kAVDGK','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','.pib-text','custom','4326720WVfSKo','mini','strokeDashoffset','active','100%','[Sync]\x20Loading\x20','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','DOMContentLoaded','rgba(','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','borderRadius','rangeEndTime','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','classList','exceptions','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','flex','96ioXLxh','null','23:59','asBtnOne','T23:59:59','analyticsList','getBoundingClientRect','\x20status-completed','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','div','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','[Notify]\x20Attempting\x20to\x20send:',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','%\x20+\x202px)','min','save_settings','27zpptda','addEventListener','data','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','getHours','actionSheetOverlay','doDateHeader','log','className','toLocaleString','clientWidth','Save\x20settings\x20error:','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','btnStatusToggle','data-date','scrollWidth','textContent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','touchstart','</div>','backgroundPosition','single','px\x200px','day-col-header\x20','seriesId','from','text/plain;charset=UTF-8','.period-switch\x20.p-btn','random','rgba(255,\x2069,\x2058,\x200.15)','\x20–∏–∑\x20','warning','left','touchend','[Notify]\x20Error:\x20sessionData\x20is\x20null','sheetTitle','offsetLeft','cancel','timeLineBadge','substr','valid','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','px\x20-','btn-status-toggle','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','createElement','appendChild','isArray','seriesCountContainer','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É',':00','length','findIndex','var(--acc-green)','sessionSheet','max','series','sheetDateSubtitle','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','getMinutes','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','total','value','fetchFromServer','Error\x20setting\x20back\x20button:','zIndex','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','split','</b>\x0a\x0a','var(--acc-orange)','gridColumns','setItem','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','now','rangeEndDate','mergeServerData','splice','712234uFNhJt','blocked-slot\x20stripe-bg','undefined','onClick','pe-corner','settingsSheet','toString','Local\x20Save\x20Error','BackButton','data-day-idx',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','calc(','done','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','client','syncBatch','<span>','numeric','doLoadPercent','[Settings]\x20Cancel\x20window\x20set\x20to:','display','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','color','startsWith','planned','.day-col-header','#0a84ff','then','time-label','anTotalStats','constructor','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','dayOptionsSheet','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','.day-off-overlay','as-button\x20danger\x20bold','getAttribute','dayOptionsTitle','scrollLeft','forEach','scrollTop','.day-column',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','mousemove','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','create','rangeStartTime','</div><div\x20class=\x22dch-num\x22>','#fff','getTime','uc_sessions_v9','overlay','expand','ru-RU','sort','rgba(100,100,100,0.5)','inpRecurring','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','Telegram','innerHTML','option','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','settings','show','guest','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','10px','mousedown','getItem',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','update','getElementById','range-item','offClick','none','complete','uc_settings_v9','toastMessage','uc_settings_cancel_window','peGrid','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','delete','\x20-\x20','send','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','analyticsSheet','rgba(255,\x2069,\x2058,\x200.3)','actionSheet','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','warn','end','open','init_load','–£–¥–∞–ª–µ–Ω–∏–µ','Batch\x20Sync\x20OK','inpSeriesCount','day-column\x20','borderLeftColor','week','<div\x20class=\x22ev-title\x22>','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','inpEnd','16262VTspOo','remove','initDataUnsafe','btnDelete','slice','13275936QOgsTh','padStart','stat-','rangesSheet','stopPropagation','pe-cell\x20','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','btn-status-toggle\x20undo-mode','setAttribute','closest','856315vLbhHO','getFullYear','statLoadCard','insertBefore','patternInfoBox','anStart','as-button\x20danger','entries','anPercent','getMonth','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','today','WebApp','patternEditor','setHeaderColor','getText','setHours','pattern','–£—Å–ø–µ—à–Ω–æ','day-off-overlay\x20stripe-bg','height','all','saveLocally','offsetWidth','long','add','(((.+)+)+)+$','parse','filter','start','\x20days','106484ZKwxoj','stringify','var(--acc-current)','rgba(255,\x20159,\x2010,\x200.3)','.dch-stats-fill','style','[Notify]\x20Sending\x20to\x20GAS\x20for\x20'];a2_0x5140=function(){return _0x52fa44;};return a2_0x5140();}function getLocalDateStr(_0x500828){const _0x8a7344=a2_0x217626,_0x316ab5=_0x500828['getFullYear'](),_0x4dc9d3=String(_0x500828[_0x8a7344(0x2c5)]()+0x1)[_0x8a7344(0x2b3)](0x2,'0'),_0x1a5068=String(_0x500828[_0x8a7344(0x2e2)]())[_0x8a7344(0x2b3)](0x2,'0');return _0x316ab5+'-'+_0x4dc9d3+'-'+_0x1a5068;}function getDateStr(_0x494ec3){const _0x574d92=a2_0x217626,_0x1a0df4=new Date();return _0x1a0df4[_0x574d92(0x320)](_0x1a0df4[_0x574d92(0x2e2)]()+_0x494ec3),getLocalDateStr(_0x1a0df4);}function getStartOfWeek(_0x319899){const _0x159f81=a2_0x217626,_0x23b59d=new Date(_0x319899),_0x6f5095=_0x23b59d['getDay'](),_0x4c3b48=_0x23b59d['getDate']()-_0x6f5095+(_0x6f5095===0x0?-0x6:0x1);return _0x23b59d['setDate'](_0x4c3b48),_0x23b59d[_0x159f81(0x2cc)](0x0,0x0,0x0,0x0),_0x23b59d;}function hexToRgba(_0x5ab8dd,_0xeaf348){const _0x32d70b=a2_0x217626;if(!_0x5ab8dd)return _0x32d70b(0x27e);let _0x452283=0x0,_0x2a92b6=0x0,_0x50aa66=0x0;if(_0x5ab8dd[_0x32d70b(0x228)]===0x4)_0x452283='0x'+_0x5ab8dd[0x1]+_0x5ab8dd[0x1],_0x2a92b6='0x'+_0x5ab8dd[0x2]+_0x5ab8dd[0x2],_0x50aa66='0x'+_0x5ab8dd[0x3]+_0x5ab8dd[0x3];else _0x5ab8dd['length']===0x7&&(_0x452283='0x'+_0x5ab8dd[0x1]+_0x5ab8dd[0x2],_0x2a92b6='0x'+_0x5ab8dd[0x3]+_0x5ab8dd[0x4],_0x50aa66='0x'+_0x5ab8dd[0x5]+_0x5ab8dd[0x6]);return _0x32d70b(0x1dc)+ +_0x452283+',\x20'+ +_0x2a92b6+',\x20'+ +_0x50aa66+',\x20'+_0xeaf348+')';}function renderTimeColumn(){const _0x3403d1=a2_0x217626,_0x20512e=document[_0x3403d1(0x28e)](_0x3403d1(0x345)),_0x33caa3=document[_0x3403d1(0x28e)](_0x3403d1(0x21b));_0x20512e[_0x3403d1(0x282)]='',_0x20512e[_0x3403d1(0x223)](_0x33caa3);for(let _0x35e690=0x0;_0x35e690<0x18;_0x35e690++){const _0x1f4eae=document[_0x3403d1(0x222)](_0x3403d1(0x1ee));_0x1f4eae[_0x3403d1(0x1fd)]=_0x3403d1(0x263);if(_0x35e690>0x0)_0x1f4eae[_0x3403d1(0x282)]=_0x3403d1(0x257)+String(_0x35e690)['padStart'](0x2,'0')+_0x3403d1(0x322);_0x20512e['appendChild'](_0x1f4eae);}}function renderDayRange(_0x521e0b,_0x257c27){const _0x1113c1=a2_0x217626,_0x306d71=document[_0x1113c1(0x28e)](_0x1113c1(0x2e8)),_0x2a18c8=document['getElementById'](_0x1113c1(0x23c)),_0x51bab8=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x2e5d33=new Date();_0x2e5d33[_0x1113c1(0x2cc)](0x0,0x0,0x0,0x0);const _0x4f2227=getLocalDateStr(new Date());for(let _0x3c46ab=_0x521e0b;_0x3c46ab<=_0x257c27;_0x3c46ab++){const _0x2533ad=new Date(_0x2e5d33);_0x2533ad[_0x1113c1(0x320)](_0x2533ad['getDate']()+_0x3c46ab);const _0x14d5f8=getLocalDateStr(_0x2533ad);let _0x4228fe=_0x2533ad[_0x1113c1(0x30b)]()-0x1;if(_0x4228fe===-0x1)_0x4228fe=0x6;const _0x43d04c=_0x14d5f8===_0x4f2227,_0x240b73=document[_0x1113c1(0x222)](_0x1113c1(0x1ee));_0x240b73[_0x1113c1(0x1fd)]=_0x1113c1(0x20c)+(_0x43d04c?_0x1113c1(0x2c7):''),_0x240b73['id']=_0x1113c1(0x2f9)+_0x14d5f8,_0x240b73[_0x1113c1(0x2ba)]('data-date',_0x14d5f8),_0x240b73[_0x1113c1(0x282)]=_0x1113c1(0x338)+_0x51bab8[_0x4228fe]+'</div><div\x20class=\x22dch-num\x22>'+_0x2533ad[_0x1113c1(0x2e2)]()+_0x1113c1(0x268)+_0x14d5f8+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x240b73['onclick']=()=>openDayOptions(_0x14d5f8,_0x51bab8[_0x4228fe]+'\x20'+_0x2533ad[_0x1113c1(0x2e2)]()),_0x306d71[_0x1113c1(0x223)](_0x240b73);const _0x2ac906=document[_0x1113c1(0x222)](_0x1113c1(0x1ee));_0x2ac906[_0x1113c1(0x1fd)]=_0x1113c1(0x2a7)+(_0x43d04c?_0x1113c1(0x2c7):''),_0x2ac906['setAttribute'](_0x1113c1(0x203),_0x14d5f8),_0x2ac906['setAttribute']('data-day-idx',_0x4228fe),renderEventsForColumn(_0x2ac906,_0x14d5f8,_0x4228fe),attachLongPressHandler(_0x2ac906,_0x2533ad),_0x2a18c8[_0x1113c1(0x223)](_0x2ac906),updateDayStats(_0x14d5f8);}}function reRenderBlocks(){const _0x4ec7b4=a2_0x217626;document[_0x4ec7b4(0x2e6)](_0x4ec7b4(0x308))['forEach'](_0x43b211=>{const _0x4e03f7=_0x4ec7b4;_0x43b211['querySelectorAll'](_0x4e03f7(0x34e))[_0x4e03f7(0x26e)](_0xec190b=>_0xec190b[_0x4e03f7(0x2ae)]());const _0x2d60e0=_0x43b211[_0x4e03f7(0x26b)](_0x4e03f7(0x203)),_0x3402a2=parseInt(_0x43b211['getAttribute'](_0x4e03f7(0x24d))),_0xa2b059=Math[_0x4e03f7(0x341)](_0x43b211[_0x4e03f7(0x219)]);(availabilityPattern[_0x3402a2]||[])[_0x4e03f7(0x26e)](_0x34e66b=>{const _0x2e057b=_0x4e03f7,_0x202fbb=document[_0x2e057b(0x222)](_0x2e057b(0x1ee));_0x202fbb[_0x2e057b(0x1fd)]=_0x2e057b(0x245);const _0x3abb21=_0x34e66b*GRID_H;_0x202fbb[_0x2e057b(0x2e0)][_0x2e057b(0x325)]=_0x3abb21+'px',_0x202fbb[_0x2e057b(0x2e0)][_0x2e057b(0x209)]='-'+_0xa2b059+_0x2e057b(0x21f)+_0x3abb21+'px',_0x43b211['appendChild'](_0x202fbb);});if(specialRanges&&specialRanges[_0x4e03f7(0x228)]>0x0){const _0x45c060=new Date(_0x2d60e0+_0x4e03f7(0x33c))['getTime'](),_0x30d27d=new Date(_0x2d60e0+_0x4e03f7(0x1e9))['getTime']();specialRanges[_0x4e03f7(0x26e)](_0x4fcf8f=>{const _0x32c803=_0x4e03f7,_0x56dcde=new Date(_0x4fcf8f[_0x32c803(0x2d9)])[_0x32c803(0x278)](),_0x57821e=new Date(_0x4fcf8f[_0x32c803(0x2a1)])['getTime'](),_0x4e9f15=Math['max'](_0x45c060,_0x56dcde),_0x1f228b=Math['min'](_0x30d27d,_0x57821e);if(_0x4e9f15<_0x1f228b){if(_0x4e9f15<=_0x45c060&&_0x1f228b>=_0x30d27d-0xea60){if(!_0x43b211[_0x32c803(0x32e)](_0x32c803(0x269))){const _0x5f3154=document[_0x32c803(0x222)]('div');_0x5f3154[_0x32c803(0x1fd)]=_0x32c803(0x2cf),_0x5f3154['style'][_0x32c803(0x209)]='-'+_0xa2b059+_0x32c803(0x20b),_0x43b211[_0x32c803(0x223)](_0x5f3154);}}else{const _0xec5b84=(_0x4e9f15-_0x45c060)/0x36ee80*GRID_H,_0x36edf5=(_0x1f228b-_0x4e9f15)/0x36ee80*GRID_H,_0x246181=document[_0x32c803(0x222)](_0x32c803(0x1ee));_0x246181['className']=_0x32c803(0x317),_0x246181[_0x32c803(0x2e0)][_0x32c803(0x325)]=_0xec5b84+'px',_0x246181[_0x32c803(0x2e0)]['height']=_0x36edf5+'px',_0x246181[_0x32c803(0x2e0)]['backgroundPosition']='-'+_0xa2b059+'px\x20-'+_0xec5b84+'px',_0x43b211[_0x32c803(0x223)](_0x246181);}}});}if(dateExceptions[_0x2d60e0]==='off'){if(!_0x43b211[_0x4e03f7(0x32e)](_0x4e03f7(0x269))){const _0x194a2a=document[_0x4e03f7(0x222)](_0x4e03f7(0x1ee));_0x194a2a['className']='day-off-overlay\x20stripe-bg',_0x194a2a['style']['backgroundPosition']='-'+_0xa2b059+_0x4e03f7(0x20b),_0x43b211[_0x4e03f7(0x223)](_0x194a2a);}}renderEventsForColumn(_0x43b211,_0x2d60e0,_0x3402a2),updateDayStats(_0x2d60e0);});}function updateAllDayStats(){const _0x1228cd=a2_0x217626;document['querySelectorAll']('.day-col-header')[_0x1228cd(0x26e)](_0x36f397=>{const _0x57035b=_0x1228cd;updateDayStats(_0x36f397[_0x57035b(0x26b)](_0x57035b(0x203)));});}function updateDayStats(_0x5dd681){const _0x48050a=a2_0x217626,_0x1a0193=document[_0x48050a(0x28e)](_0x48050a(0x2b4)+_0x5dd681);if(!_0x1a0193)return;const _0xb256f3=new Date(_0x5dd681);let _0x574f0c=_0xb256f3['getDay']()-0x1;if(_0x574f0c===-0x1)_0x574f0c=0x6;if(dateExceptions[_0x5dd681]===_0x48050a(0x32f)){_0x1a0193['style'][_0x48050a(0x25b)]='none';return;}const _0xbfef2=availabilityPattern[_0x574f0c]||[],_0x2c9416=0x18-_0xbfef2[_0x48050a(0x228)],_0x180293=_0x2c9416*0x3c,_0x34709b=sessions[_0x48050a(0x2d8)](_0xfdced4=>_0xfdced4[_0x48050a(0x2ee)]===_0x5dd681&&_0xfdced4[_0x48050a(0x31c)]!==_0x48050a(0x32b));if(_0x34709b['length']===0x0){_0x1a0193[_0x48050a(0x2e0)][_0x48050a(0x25b)]=_0x48050a(0x291);return;}let _0x102b31=_0x34709b[_0x48050a(0x335)](_0x539c9d=>{const _0x726ac6=_0x48050a,[_0x4f3059,_0x4d1082]=_0x539c9d[_0x726ac6(0x2d9)]['split'](':')[_0x726ac6(0x335)](Number),[_0x12638b,_0x270969]=_0x539c9d[_0x726ac6(0x2a1)][_0x726ac6(0x239)](':')[_0x726ac6(0x335)](Number);return[_0x4f3059*0x3c+_0x4d1082,_0x12638b*0x3c+_0x270969];});_0x102b31[_0x48050a(0x27d)]((_0x3be20f,_0x1c89c5)=>_0x3be20f[0x0]-_0x1c89c5[0x0]);let _0x4e2e02=[];if(_0x102b31[_0x48050a(0x228)]>0x0){let _0x26be2e=_0x102b31[0x0];for(let _0x10ddec=0x1;_0x10ddec<_0x102b31[_0x48050a(0x228)];_0x10ddec++){_0x102b31[_0x10ddec][0x0]<_0x26be2e[0x1]?_0x26be2e[0x1]=Math['max'](_0x26be2e[0x1],_0x102b31[_0x10ddec][0x1]):(_0x4e2e02['push'](_0x26be2e),_0x26be2e=_0x102b31[_0x10ddec]);}_0x4e2e02['push'](_0x26be2e);}let _0x54b84b=0x0;_0x4e2e02[_0x48050a(0x26e)](_0x15f9bd=>_0x54b84b+=_0x15f9bd[0x1]-_0x15f9bd[0x0]),_0x1a0193['style']['display']='flex';const _0x9a317b=_0x1a0193[_0x48050a(0x32e)](_0x48050a(0x2df));if(_0x180293===0x0){_0x9a317b[_0x48050a(0x2e0)][_0x48050a(0x327)]=_0x48050a(0x355),_0x9a317b[_0x48050a(0x2e0)][_0x48050a(0x2e4)]='var(--acc-red)';return;}const _0xa122be=_0x54b84b/_0x180293*0x64;console[_0x48050a(0x1fc)]('['+_0x5dd681+_0x48050a(0x1f1)+_0x2c9416+_0x48050a(0x252)+_0x54b84b+_0x48050a(0x1ed)+_0xa122be['toFixed'](0x1)+'%'),_0xa122be>0x64?(_0x9a317b[_0x48050a(0x2e0)][_0x48050a(0x327)]=_0x48050a(0x355),_0x9a317b[_0x48050a(0x2e0)]['background']='var(--acc-red)'):(_0x9a317b[_0x48050a(0x2e0)][_0x48050a(0x327)]=_0xa122be+'%',_0x9a317b[_0x48050a(0x2e0)][_0x48050a(0x2e4)]=_0x48050a(0x2dd));}function renderEventsForColumn(_0x18ff38,_0x170177,_0x44c918){const _0x253f50=a2_0x217626,_0xb6ede4=sessions[_0x253f50(0x2d8)](_0xcb16e2=>_0xcb16e2[_0x253f50(0x2ee)]===_0x170177),_0x1363ea=_0xb6ede4[_0x253f50(0x335)](_0x5be262=>{const _0x18dd9a=_0x253f50,[_0x3cf90c,_0x5e711b]=_0x5be262[_0x18dd9a(0x2d9)][_0x18dd9a(0x239)](':')['map'](Number),[_0x334854,_0x43f638]=_0x5be262[_0x18dd9a(0x2a1)][_0x18dd9a(0x239)](':')[_0x18dd9a(0x335)](Number);return{'data':_0x5be262,'start':_0x3cf90c*0x3c+_0x5e711b,'end':_0x334854*0x3c+_0x43f638,'colIndex':0x0};});_0x1363ea[_0x253f50(0x27d)]((_0x3a307c,_0x4df828)=>{const _0x4f2908=_0x253f50;if(_0x3a307c['start']!==_0x4df828[_0x4f2908(0x2d9)])return _0x3a307c[_0x4f2908(0x2d9)]-_0x4df828[_0x4f2908(0x2d9)];return _0x4df828[_0x4f2908(0x2a1)]-_0x4df828[_0x4f2908(0x2d9)]-(_0x3a307c[_0x4f2908(0x2a1)]-_0x3a307c[_0x4f2908(0x2d9)]);});const _0x55458d=[];_0x1363ea[_0x253f50(0x26e)](_0x4489cf=>{const _0x111096=_0x253f50;let _0x2e5a1b=![];for(let _0x3cd493=0x0;_0x3cd493<_0x55458d[_0x111096(0x228)];_0x3cd493++){const _0x5a7fa6=_0x55458d[_0x3cd493],_0xa02218=_0x5a7fa6[_0x5a7fa6[_0x111096(0x228)]-0x1];if(_0x4489cf[_0x111096(0x2d9)]>=_0xa02218['end']){_0x5a7fa6[_0x111096(0x2fa)](_0x4489cf),_0x4489cf[_0x111096(0x313)]=_0x3cd493,_0x2e5a1b=!![];break;}}!_0x2e5a1b&&(_0x55458d[_0x111096(0x2fa)]([_0x4489cf]),_0x4489cf['colIndex']=_0x55458d[_0x111096(0x228)]-0x1);}),_0x1363ea[_0x253f50(0x26e)](_0x135e29=>{const _0x38f526=_0x253f50;let _0xe91577=0x0;_0x1363ea[_0x38f526(0x26e)](_0x8eb5b2=>{const _0x43dc91=_0x38f526;if(Math[_0x43dc91(0x22c)](_0x135e29['start'],_0x8eb5b2[_0x43dc91(0x2d9)])<Math[_0x43dc91(0x1f3)](_0x135e29[_0x43dc91(0x2a1)],_0x8eb5b2[_0x43dc91(0x2a1)])){if(_0x8eb5b2[_0x43dc91(0x313)]>_0xe91577)_0xe91577=_0x8eb5b2[_0x43dc91(0x313)];}});const _0x45ecaa=_0xe91577+0x1,_0xd956fa=0x64/_0x45ecaa,_0x1f01c9=_0x135e29['colIndex']*_0xd956fa,_0x2ca64f=createEventEl(_0x135e29['data']);_0x2ca64f[_0x38f526(0x2e0)][_0x38f526(0x327)]=_0x38f526(0x24f)+_0xd956fa+_0x38f526(0x30d),_0x2ca64f['style'][_0x38f526(0x215)]=_0x38f526(0x24f)+_0x1f01c9+_0x38f526(0x1f2),_0x2ca64f['style'][_0x38f526(0x237)]=0xa+_0x135e29[_0x38f526(0x313)],_0xd956fa<0x55&&_0x2ca64f[_0x38f526(0x1e1)][_0x38f526(0x2d5)](_0x38f526(0x352)),_0x18ff38[_0x38f526(0x223)](_0x2ca64f);});}function createEventEl(_0x4721b6){const _0x4e853f=a2_0x217626,[_0x21f17e,_0x27e17f]=_0x4721b6[_0x4e853f(0x2d9)][_0x4e853f(0x239)](':')[_0x4e853f(0x335)](Number),[_0x4c6986,_0x10251e]=_0x4721b6[_0x4e853f(0x2a1)][_0x4e853f(0x239)](':')['map'](Number),_0x51ec67=(_0x21f17e*0x3c+_0x27e17f)/0x3c*GRID_H,_0x4f86a4=(_0x4c6986*0x3c+_0x10251e-(_0x21f17e*0x3c+_0x27e17f))/0x3c*GRID_H,_0x421106=document['createElement'](_0x4e853f(0x1ee)),_0x1c8810=_0x4721b6[_0x4e853f(0x31c)]===_0x4e853f(0x30f)?_0x4e853f(0x1ec):'';_0x421106['className']='event-card'+_0x1c8810,_0x421106[_0x4e853f(0x2e0)][_0x4e853f(0x325)]=_0x51ec67+'px',_0x421106[_0x4e853f(0x2e0)][_0x4e853f(0x2d0)]=Math[_0x4e853f(0x22c)](_0x4f86a4,0x14)+'px';const _0x5d9a72=clients[_0x4e853f(0x321)](_0x2fd942=>_0x4721b6[_0x4e853f(0x2e3)]&&String(_0x2fd942['id'])===String(_0x4721b6[_0x4e853f(0x2e3)])||_0x2fd942[_0x4e853f(0x2fd)]===_0x4721b6[_0x4e853f(0x255)]),_0x48d5ef=_0x5d9a72?_0x5d9a72[_0x4e853f(0x25d)]:_0x4e853f(0x261);_0x421106[_0x4e853f(0x2e0)][_0x4e853f(0x2a8)]=_0x48d5ef,_0x421106[_0x4e853f(0x2e0)]['backgroundColor']=hexToRgba(_0x48d5ef,0.85);let _0x4117fc=_0x4e853f(0x2aa)+_0x4721b6[_0x4e853f(0x255)]+'</div><div\x20class=\x22ev-time\x22>'+_0x4721b6[_0x4e853f(0x2d9)]+_0x4e853f(0x299)+_0x4721b6[_0x4e853f(0x2a1)]+_0x4e853f(0x208);return _0x4721b6[_0x4e853f(0x20d)]&&(_0x4117fc+='<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>'),_0x4721b6['status']===_0x4e853f(0x30f)&&(_0x4117fc+=_0x4e853f(0x32d)),_0x421106[_0x4e853f(0x282)]=_0x4117fc,_0x421106[_0x4e853f(0x332)]=_0x18dd0d=>{const _0x2c1154=_0x4e853f;_0x18dd0d[_0x2c1154(0x2b6)](),openEdit(_0x4721b6);},_0x421106;}function attachLongPressHandler(_0x1029fb,_0x206059){const _0x371c0a=a2_0x217626;let _0x317bb9=0x0,_0x1adfbd=null;const _0x665010=_0xb8c482=>{const _0x5dbd31=a2_0x3f48;if(_0xb8c482[_0x5dbd31(0x33b)][_0x5dbd31(0x2bb)]('.event-card'))return;isScrolling=![],_0x317bb9=_0xb8c482[_0x5dbd31(0x330)]?_0xb8c482['touches'][0x0][_0x5dbd31(0x2f3)]:_0xb8c482[_0x5dbd31(0x2f3)],_0x1adfbd=setTimeout(()=>{const _0x205305=_0x5dbd31;if(!isScrolling){navigator['vibrate']?.(0x32);const _0x5ef5ec=_0x1029fb[_0x205305(0x1eb)](),_0x17f277=Math[_0x205305(0x30e)]((_0x317bb9-_0x5ef5ec[_0x205305(0x325)])/GRID_H);_0x206059[_0x205305(0x2cc)](_0x17f277,0x0),openAddSession(_0x206059);}},0x1f4);},_0x570c22=()=>{isScrolling=!![],clearTimeout(_0x1adfbd);},_0x4b66b6=()=>{clearTimeout(_0x1adfbd);};_0x1029fb[_0x371c0a(0x1f6)](_0x371c0a(0x207),_0x665010,{'passive':!![]}),_0x1029fb[_0x371c0a(0x1f6)](_0x371c0a(0x329),_0x570c22,{'passive':!![]}),_0x1029fb[_0x371c0a(0x1f6)](_0x371c0a(0x216),_0x4b66b6),_0x1029fb[_0x371c0a(0x1f6)](_0x371c0a(0x28a),_0x665010),_0x1029fb['addEventListener'](_0x371c0a(0x272),_0x570c22),_0x1029fb[_0x371c0a(0x1f6)]('mouseup',_0x4b66b6);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x2bc057=a2_0x217626,_0x48b001=document[_0x2bc057(0x28e)]('matrixViewport'),_0x456421=_0x48b001[_0x2bc057(0x26d)],_0x36355d=_0x48b001[_0x2bc057(0x204)],_0x1d5fb4=_0x48b001[_0x2bc057(0x1ff)];if(_0x36355d-(_0x456421+_0x1d5fb4)<0x12c){const _0x14222a=endOffset;endOffset+=0xe,renderDayRange(_0x14222a+0x1,endOffset),reRenderBlocks();}if(_0x456421<0x12c){const _0x1636ba=startOffset;startOffset-=0xe,prependDays(startOffset,_0x1636ba-0x1),_0x48b001[_0x2bc057(0x26d)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x58a95c,_0x4feee9){const _0x2ad1d1=a2_0x217626,_0x5a2367=document[_0x2ad1d1(0x28e)](_0x2ad1d1(0x2e8)),_0x527f82=document[_0x2ad1d1(0x28e)](_0x2ad1d1(0x23c)),_0x289893=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0xf884b0=new Date();_0xf884b0[_0x2ad1d1(0x2cc)](0x0,0x0,0x0,0x0);const _0x22ab4f=getLocalDateStr(new Date()),_0x132b2d=document[_0x2ad1d1(0x312)](),_0x34d475=document[_0x2ad1d1(0x312)]();for(let _0x2fe841=_0x58a95c;_0x2fe841<=_0x4feee9;_0x2fe841++){const _0x1df6ff=new Date(_0xf884b0);_0x1df6ff[_0x2ad1d1(0x320)](_0x1df6ff[_0x2ad1d1(0x2e2)]()+_0x2fe841);const _0x5b1025=getLocalDateStr(_0x1df6ff);let _0x409258=_0x1df6ff[_0x2ad1d1(0x30b)]()-0x1;if(_0x409258===-0x1)_0x409258=0x6;const _0xfa3c65=_0x5b1025===_0x22ab4f,_0x3d3847=document[_0x2ad1d1(0x222)](_0x2ad1d1(0x1ee));_0x3d3847['className']=_0x2ad1d1(0x20c)+(_0xfa3c65?_0x2ad1d1(0x2c7):''),_0x3d3847['id']=_0x2ad1d1(0x2f9)+_0x5b1025,_0x3d3847[_0x2ad1d1(0x2ba)](_0x2ad1d1(0x203),_0x5b1025),_0x3d3847[_0x2ad1d1(0x282)]=_0x2ad1d1(0x338)+_0x289893[_0x409258]+_0x2ad1d1(0x276)+_0x1df6ff['getDate']()+_0x2ad1d1(0x268)+_0x5b1025+_0x2ad1d1(0x1ef),_0x3d3847[_0x2ad1d1(0x332)]=()=>openDayOptions(_0x5b1025,_0x289893[_0x409258]+'\x20'+_0x1df6ff[_0x2ad1d1(0x2e2)]()),_0x132b2d[_0x2ad1d1(0x223)](_0x3d3847);const _0x50a906=document[_0x2ad1d1(0x222)]('div');_0x50a906['className']=_0x2ad1d1(0x2a7)+(_0xfa3c65?'today':''),_0x50a906[_0x2ad1d1(0x2ba)]('data-date',_0x5b1025),_0x50a906['setAttribute'](_0x2ad1d1(0x24d),_0x409258),renderEventsForColumn(_0x50a906,_0x5b1025,_0x409258),attachLongPressHandler(_0x50a906,_0x1df6ff),_0x34d475[_0x2ad1d1(0x223)](_0x50a906),updateDayStats(_0x5b1025);}_0x5a2367[_0x2ad1d1(0x2bf)](_0x132b2d,_0x5a2367[_0x2ad1d1(0x2fb)]),_0x527f82[_0x2ad1d1(0x2bf)](_0x34d475,_0x527f82[_0x2ad1d1(0x32e)](_0x2ad1d1(0x270)));}function validateAppointment(_0x12069d,_0x482b5b,_0xadb2e7,_0x59e543,_0x1b703e){const _0x1d2c7f=a2_0x217626,[_0x41bcff,_0x4a8ae1]=_0x482b5b['split'](':')['map'](Number),[_0x419513,_0x2dc480]=_0xadb2e7['split'](':')['map'](Number),_0x496caa=_0x41bcff*0x3c+_0x4a8ae1,_0x5005a0=_0x419513*0x3c+_0x2dc480,_0x4cfa42=String(_0x1b703e);let _0x399c94=![],_0x3dc020='';for(let _0x562325 of sessions){if(_0x562325['dateStr']!==_0x12069d)continue;if(_0x562325[_0x1d2c7f(0x31c)]===_0x1d2c7f(0x32b))continue;if(_0x59e543&&String(_0x562325['id'])===String(_0x59e543))continue;const [_0x2ed4cc,_0x33f5c8]=_0x562325[_0x1d2c7f(0x2d9)][_0x1d2c7f(0x239)](':')['map'](Number),[_0x2d818d,_0x15a307]=_0x562325[_0x1d2c7f(0x2a1)][_0x1d2c7f(0x239)](':')['map'](Number),_0xce9c60=_0x2ed4cc*0x3c+_0x33f5c8,_0x5636c5=_0x2d818d*0x3c+_0x15a307;if(Math[_0x1d2c7f(0x22c)](_0x496caa,_0xce9c60)<Math['min'](_0x5005a0,_0x5636c5)){if(_0x562325[_0x1d2c7f(0x2e3)]&&String(_0x562325[_0x1d2c7f(0x2e3)])===_0x4cfa42)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0x562325['client']+_0x1d2c7f(0x24e)};_0x399c94=!![],_0x3dc020=_0x562325[_0x1d2c7f(0x255)];}}if(_0x399c94)return{'valid':!![],'warning':_0x1d2c7f(0x1e0)+_0x3dc020};return{'valid':!![]};}function updateDateDisplay(){const _0x416cb1=a2_0x217626,_0x1074f7=document[_0x416cb1(0x28e)](_0x416cb1(0x344))['value'],_0x12234f=document[_0x416cb1(0x28e)](_0x416cb1(0x22e));if(!_0x1074f7){_0x12234f[_0x416cb1(0x205)]='';return;}const [_0x3677c1,_0x1e1eed,_0x466fb0]=_0x1074f7[_0x416cb1(0x239)]('-')[_0x416cb1(0x335)](Number),_0x4d4b8e=new Date(_0x3677c1,_0x1e1eed-0x1,_0x466fb0),_0xac80ce={'weekday':'long','day':_0x416cb1(0x258),'month':_0x416cb1(0x2d4),'year':_0x416cb1(0x258)};let _0x5d5e4b=_0x4d4b8e[_0x416cb1(0x2ed)](_0x416cb1(0x27c),_0xac80ce);_0x5d5e4b=_0x5d5e4b[_0x416cb1(0x30a)](0x0)['toUpperCase']()+_0x5d5e4b[_0x416cb1(0x2b1)](0x1),_0x12234f[_0x416cb1(0x205)]=_0x5d5e4b;}function autoSetEndTime(){const _0x5ae83a=a2_0x217626,_0x105158=document[_0x5ae83a(0x28e)](_0x5ae83a(0x323))[_0x5ae83a(0x234)];if(!_0x105158)return;const [_0x5482d8,_0x57f34c]=_0x105158[_0x5ae83a(0x239)](':')[_0x5ae83a(0x335)](Number);let _0x575ffa=_0x5482d8+0x1;if(_0x575ffa>0x17)_0x575ffa=0x0;const _0x5c6c10=String(_0x575ffa)['padStart'](0x2,'0')+':'+String(_0x57f34c)[_0x5ae83a(0x2b3)](0x2,'0');document[_0x5ae83a(0x28e)](_0x5ae83a(0x2ac))[_0x5ae83a(0x234)]=_0x5c6c10;}function populateClientSelect(){const _0x22e15a=a2_0x217626,_0x207e80=document[_0x22e15a(0x28e)](_0x22e15a(0x32c));_0x207e80[_0x22e15a(0x282)]='';if(clients[_0x22e15a(0x228)]===0x0){const _0x3423db=document[_0x22e15a(0x222)](_0x22e15a(0x283));_0x3423db['text']=_0x22e15a(0x23e),_0x207e80[_0x22e15a(0x223)](_0x3423db);return;}clients['forEach'](_0x2cc616=>{const _0x477b0a=_0x22e15a,_0x19677e=document[_0x477b0a(0x222)]('option');_0x19677e['value']=_0x2cc616[_0x477b0a(0x2fd)],_0x19677e[_0x477b0a(0x205)]=_0x2cc616[_0x477b0a(0x2fd)],_0x207e80[_0x477b0a(0x223)](_0x19677e);});}function openActionSheet(_0x396aa3){const _0x5b1e83=a2_0x217626,_0x24ec02=document[_0x5b1e83(0x28e)](_0x5b1e83(0x29e)),_0x1043df=document[_0x5b1e83(0x28e)](_0x5b1e83(0x1fa)),_0x2051a2=document['getElementById'](_0x5b1e83(0x310)),_0x1e454b=document[_0x5b1e83(0x28e)](_0x5b1e83(0x1e8)),_0x512613=document[_0x5b1e83(0x28e)]('asBtnSeries');_0x1043df['classList'][_0x5b1e83(0x2d5)](_0x5b1e83(0x354)),_0x24ec02[_0x5b1e83(0x1e1)][_0x5b1e83(0x2d5)](_0x5b1e83(0x2a2));if(_0x396aa3===_0x5b1e83(0x31b))_0x2051a2[_0x5b1e83(0x205)]=_0x5b1e83(0x25c),_0x1e454b[_0x5b1e83(0x205)]=_0x5b1e83(0x31e),_0x1e454b[_0x5b1e83(0x332)]=()=>{const _0x51f9d8=_0x5b1e83;closeActionSheet(),updateSeriesBatch(_0x51f9d8(0x20a),tempSessionData);},_0x512613[_0x5b1e83(0x205)]=_0x5b1e83(0x201),_0x512613[_0x5b1e83(0x332)]=()=>{const _0x1a6616=_0x5b1e83;closeActionSheet(),updateSeriesBatch(_0x1a6616(0x22d),tempSessionData);};else _0x396aa3===_0x5b1e83(0x298)&&(_0x2051a2['textContent']=_0x5b1e83(0x2a4),_0x1e454b[_0x5b1e83(0x205)]=_0x5b1e83(0x31e),_0x1e454b[_0x5b1e83(0x1fd)]=_0x5b1e83(0x2c2),_0x1e454b[_0x5b1e83(0x332)]=()=>{const _0x12a9b2=_0x5b1e83;closeActionSheet(),commitDelete(_0x12a9b2(0x20a),sessions[_0x12a9b2(0x321)](_0x52cc61=>_0x52cc61['id']===editingId));},_0x512613[_0x5b1e83(0x205)]=_0x5b1e83(0x201),_0x512613[_0x5b1e83(0x1fd)]=_0x5b1e83(0x26a),_0x512613[_0x5b1e83(0x332)]=()=>{const _0x196880=_0x5b1e83;closeActionSheet(),commitDelete(_0x196880(0x22d),sessions['find'](_0x10fb6=>_0x10fb6['id']===editingId));});}function closeActionSheet(){const _0x2b1c64=a2_0x217626;document[_0x2b1c64(0x28e)](_0x2b1c64(0x29e))[_0x2b1c64(0x1e1)][_0x2b1c64(0x2ae)](_0x2b1c64(0x2a2)),document[_0x2b1c64(0x28e)](_0x2b1c64(0x1fa))[_0x2b1c64(0x1e1)][_0x2b1c64(0x2ae)](_0x2b1c64(0x354));}function openSettings(){const _0x3a2cf8=a2_0x217626;openSheet(_0x3a2cf8(0x249));}function saveCoachSettings(){const _0x55971f=a2_0x217626,_0xf21b58=document[_0x55971f(0x28e)]('settingCancelWindow')[_0x55971f(0x234)];localStorage[_0x55971f(0x23d)](_0x55971f(0x295),_0xf21b58),console[_0x55971f(0x1fc)](_0x55971f(0x25a),_0xf21b58),DataManager[_0x55971f(0x235)](_0x55971f(0x1f4),{'settings':{'cancel_window':_0xf21b58}})[_0x55971f(0x2f5)](_0x51e321=>{const _0x37f34f=_0x55971f;console[_0x37f34f(0x2f1)](_0x37f34f(0x200),_0x51e321),showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫',![]);});}function loadCoachSettings(){const _0x4acf09=a2_0x217626,_0x1e7aa5=localStorage[_0x4acf09(0x28b)]('uc_settings_cancel_window');_0x1e7aa5&&(document[_0x4acf09(0x28e)](_0x4acf09(0x31d))[_0x4acf09(0x234)]=_0x1e7aa5);}function openRangesSheet(){const _0x247730=a2_0x217626;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x247730(0x2b5));}function addRange(){const _0x7ec5e7=a2_0x217626,_0x50d97c=document['getElementById']('rangeStartDate')[_0x7ec5e7(0x234)],_0x4e1d36=document['getElementById']('rangeStartTime')[_0x7ec5e7(0x234)],_0x37d8c7=document[_0x7ec5e7(0x28e)](_0x7ec5e7(0x241))['value'],_0x3e4e87=document[_0x7ec5e7(0x28e)](_0x7ec5e7(0x1df))['value'];if(!_0x50d97c||!_0x4e1d36||!_0x37d8c7||!_0x3e4e87)return alert(_0x7ec5e7(0x284));const _0x2991da=_0x50d97c+'T'+_0x4e1d36,_0x2fc734=_0x37d8c7+'T'+_0x3e4e87;if(_0x2991da>=_0x2fc734)return alert(_0x7ec5e7(0x254));specialRanges[_0x7ec5e7(0x2fa)]({'start':_0x2991da,'end':_0x2fc734}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x7ec5e7(0x2d2)](),DataManager['fetchFromServer'](_0x7ec5e7(0x1f4),{'settings':{'ranges':specialRanges}});}function a2_0x3f48(_0x10d79f,_0x43aced){_0x10d79f=_0x10d79f-0x1db;const _0x4cab75=a2_0x5140();let _0x246bc7=_0x4cab75[_0x10d79f];return _0x246bc7;}function deleteRange(_0x52e12f){const _0x2c6006=a2_0x217626;specialRanges['splice'](_0x52e12f,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x2c6006(0x2d2)](),DataManager[_0x2c6006(0x235)](_0x2c6006(0x1f4),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x169408=a2_0x217626;document['getElementById']('rangeStartDate')[_0x169408(0x234)]='',document['getElementById'](_0x169408(0x275))[_0x169408(0x234)]='00:00',document['getElementById'](_0x169408(0x241))[_0x169408(0x234)]='',document[_0x169408(0x28e)](_0x169408(0x1df))[_0x169408(0x234)]=_0x169408(0x1e7);}function renderRangesList(){const _0x32203d=a2_0x217626,_0x3b3340=document[_0x32203d(0x28e)](_0x32203d(0x33d));_0x3b3340['innerHTML']='';if(!specialRanges['length']){_0x3b3340['innerHTML']=_0x32203d(0x266);return;}specialRanges[_0x32203d(0x26e)]((_0x2fb678,_0x20e4a9)=>{const _0x49ee6d=_0x32203d,_0x375441=document['createElement'](_0x49ee6d(0x1ee));_0x375441[_0x49ee6d(0x1fd)]=_0x49ee6d(0x28f);const _0x4a1033=_0x1813a0=>{const _0x16916c=_0x49ee6d,_0x9b9eb2=new Date(_0x1813a0);return _0x9b9eb2[_0x16916c(0x2e2)]()+'.'+String(_0x9b9eb2[_0x16916c(0x2c5)]()+0x1)[_0x16916c(0x2b3)](0x2,'0')+'\x20'+String(_0x9b9eb2[_0x16916c(0x1f9)]())[_0x16916c(0x2b3)](0x2,'0')+':'+String(_0x9b9eb2['getMinutes']())[_0x16916c(0x2b3)](0x2,'0');};_0x375441[_0x49ee6d(0x282)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>'+_0x4a1033(_0x2fb678[_0x49ee6d(0x2d9)])+'\x20‚Äî\x20'+_0x4a1033(_0x2fb678[_0x49ee6d(0x2a1)])+_0x49ee6d(0x31a)+_0x20e4a9+_0x49ee6d(0x271),_0x3b3340[_0x49ee6d(0x223)](_0x375441);});}function scrollToToday(){const _0x592bf2=a2_0x217626,_0x5f1fb5=getLocalDateStr(new Date()),_0x31235a=document['getElementById'](_0x592bf2(0x2f9)+_0x5f1fb5),_0x250474=document['getElementById']('matrixViewport');if(_0x31235a&&_0x250474){const _0x8c74e1=_0x250474[_0x592bf2(0x1ff)],_0x3ff604=_0x31235a[_0x592bf2(0x219)],_0x436d1c=_0x31235a[_0x592bf2(0x2d3)];_0x250474[_0x592bf2(0x26d)]=_0x3ff604-_0x8c74e1/0x2+_0x436d1c/0x2,_0x250474[_0x592bf2(0x26f)]=0x9*GRID_H;}}function onScroll(){const _0x2c3775=a2_0x217626,_0x1e19f1=document[_0x2c3775(0x28e)](_0x2c3775(0x347)),_0x56e518=document[_0x2c3775(0x2e6)](_0x2c3775(0x260));for(let _0x6e19f8 of _0x56e518)if(_0x6e19f8['offsetLeft']>=_0x1e19f1[_0x2c3775(0x26d)]){const _0x56775b=new Date(_0x6e19f8[_0x2c3775(0x26b)](_0x2c3775(0x203)));document[_0x2c3775(0x28e)]('headerMonth')['textContent']=_0x56775b[_0x2c3775(0x1fe)]('ru',{'month':_0x2c3775(0x2d4)})[_0x2c3775(0x2f8)]()+'\x20'+_0x56775b['getFullYear']();break;}}function showToast(_0x518d89,_0x18efa4=![]){const _0x2894d9=a2_0x217626,_0x1058c6=document[_0x2894d9(0x28e)]('toast');_0x1058c6[_0x2894d9(0x1fd)]=_0x2894d9(0x2ea)+(_0x18efa4?_0x2894d9(0x2ff):''),document['getElementById'](_0x2894d9(0x346))[_0x2894d9(0x205)]=_0x18efa4?_0x2894d9(0x2ce):_0x2894d9(0x309),document[_0x2894d9(0x28e)](_0x2894d9(0x294))[_0x2894d9(0x205)]=_0x518d89,_0x1058c6[_0x2894d9(0x1e1)]['add'](_0x2894d9(0x286)),setTimeout(()=>{const _0x5ecd6d=_0x2894d9;_0x1058c6[_0x5ecd6d(0x1e1)][_0x5ecd6d(0x2ae)](_0x5ecd6d(0x286));},0xbb8);}function openDayOptions(_0x4f85af,_0x19e925){const _0x3b4dcd=a2_0x217626;selectedDayForOptions=_0x4f85af,document[_0x3b4dcd(0x28e)](_0x3b4dcd(0x26c))[_0x3b4dcd(0x205)]=_0x19e925,openSheet(_0x3b4dcd(0x267));}function toggleDayOff(){const _0x8dfca9=a2_0x217626;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x8dfca9(0x32f),reRenderBlocks(),closeAllSheets(),DataManager[_0x8dfca9(0x2d2)](),DataManager[_0x8dfca9(0x235)]('save_settings',{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x207225=a2_0x217626;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager['fetchFromServer'](_0x207225(0x1f4),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x27609f){const _0x26cbdf=a2_0x217626;document[_0x26cbdf(0x28e)](_0x26cbdf(0x27a))['classList'][_0x26cbdf(0x2d5)](_0x26cbdf(0x354)),document[_0x26cbdf(0x28e)](_0x27609f)[_0x26cbdf(0x1e1)][_0x26cbdf(0x2d5)](_0x26cbdf(0x2a2));}function closeAllSheets(){const _0x34a220=a2_0x217626;document[_0x34a220(0x28e)](_0x34a220(0x27a))[_0x34a220(0x1e1)][_0x34a220(0x2ae)](_0x34a220(0x354)),document['querySelectorAll']('.sheet')[_0x34a220(0x26e)](_0xd1be83=>_0xd1be83[_0x34a220(0x1e1)][_0x34a220(0x2ae)]('open'));}function openPatternEditor(){const _0x380feb=a2_0x217626;closeAllSheets(),document[_0x380feb(0x28e)](_0x380feb(0x2c9))[_0x380feb(0x1e1)][_0x380feb(0x2d5)](_0x380feb(0x2a2)),renderPatternEditor();}function closePatternEditor(){const _0x18902a=a2_0x217626;document[_0x18902a(0x28e)](_0x18902a(0x2c9))[_0x18902a(0x1e1)][_0x18902a(0x2ae)](_0x18902a(0x2a2));}function savePattern(){const _0x5cddd1=a2_0x217626;document[_0x5cddd1(0x28e)](_0x5cddd1(0x2c9))[_0x5cddd1(0x1e1)][_0x5cddd1(0x2ae)](_0x5cddd1(0x2a2)),reRenderBlocks(),DataManager[_0x5cddd1(0x2d2)](),DataManager[_0x5cddd1(0x235)](_0x5cddd1(0x1f4),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x47b3e9=a2_0x217626,_0x365aeb=document['getElementById'](_0x47b3e9(0x296));_0x365aeb[_0x47b3e9(0x282)]='';const _0x2b158e=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x497a82=document[_0x47b3e9(0x222)](_0x47b3e9(0x1ee));_0x497a82[_0x47b3e9(0x1fd)]=_0x47b3e9(0x248),_0x365aeb[_0x47b3e9(0x223)](_0x497a82),_0x2b158e['forEach']((_0x1865b3,_0x3aae57)=>{const _0x266e59=_0x47b3e9,_0x5c556f=document['createElement'](_0x266e59(0x1ee));_0x5c556f[_0x266e59(0x1fd)]=_0x266e59(0x342),_0x5c556f['innerHTML']=_0x1865b3+_0x266e59(0x23f),_0x5c556f[_0x266e59(0x332)]=()=>toggleColPattern(_0x3aae57),_0x365aeb[_0x266e59(0x223)](_0x5c556f);});for(let _0x3812fc=0x0;_0x3812fc<0x18;_0x3812fc++){const _0x3ebfac=document[_0x47b3e9(0x222)](_0x47b3e9(0x1ee));_0x3ebfac['className']='pe-time-label',_0x3ebfac[_0x47b3e9(0x282)]=_0x47b3e9(0x326)+String(_0x3812fc)['padStart'](0x2,'0')+_0x47b3e9(0x227),_0x3ebfac['onclick']=()=>toggleRowPattern(_0x3812fc),_0x365aeb[_0x47b3e9(0x223)](_0x3ebfac);for(let _0x513ca6=0x0;_0x513ca6<0x7;_0x513ca6++){const _0x331f02=document[_0x47b3e9(0x222)](_0x47b3e9(0x1ee)),_0x1b874a=(availabilityPattern[_0x513ca6]||[])[_0x47b3e9(0x303)](_0x3812fc),_0x3e4b19=!_0x1b874a;_0x331f02['className']=_0x47b3e9(0x2b7)+(_0x3e4b19?_0x47b3e9(0x354):''),_0x331f02['onclick']=()=>toggleSinglePattern(_0x513ca6,_0x3812fc),_0x365aeb[_0x47b3e9(0x223)](_0x331f02);}}}function toggleSinglePattern(_0x2750f6,_0x1f6e72){const _0x2bad44=a2_0x217626;if(!availabilityPattern[_0x2750f6])availabilityPattern[_0x2750f6]=[];const _0x363a36=availabilityPattern[_0x2750f6],_0x559777=_0x363a36['indexOf'](_0x1f6e72);_0x559777===-0x1?_0x363a36[_0x2bad44(0x2fa)](_0x1f6e72):_0x363a36[_0x2bad44(0x243)](_0x559777,0x1),renderPatternEditor();}function toggleColPattern(_0x5bc948){const _0x48ae10=a2_0x217626;if(!availabilityPattern[_0x5bc948])availabilityPattern[_0x5bc948]=[];const _0x7c7399=availabilityPattern[_0x5bc948];_0x7c7399[_0x48ae10(0x228)]===0x0?availabilityPattern[_0x5bc948]=Array[_0x48ae10(0x20e)]({'length':0x18},(_0x5e8aae,_0x5c30d0)=>_0x5c30d0):availabilityPattern[_0x5bc948]=[],renderPatternEditor();}function toggleRowPattern(_0x521116){const _0x24456b=a2_0x217626;let _0xecc28b=!![];for(let _0x342306=0x0;_0x342306<0x7;_0x342306++){if((availabilityPattern[_0x342306]||[])['includes'](_0x521116)){_0xecc28b=![];break;}}for(let _0x226aaf=0x0;_0x226aaf<0x7;_0x226aaf++){if(!availabilityPattern[_0x226aaf])availabilityPattern[_0x226aaf]=[];const _0x17f5b6=availabilityPattern[_0x226aaf][_0x24456b(0x315)](_0x521116);if(_0xecc28b){if(_0x17f5b6===-0x1)availabilityPattern[_0x226aaf][_0x24456b(0x2fa)](_0x521116);}else{if(_0x17f5b6!==-0x1)availabilityPattern[_0x226aaf][_0x24456b(0x243)](_0x17f5b6,0x1);}}renderPatternEditor();}function renderPCol(_0x2361d0,_0x59f57b){const _0x17e3bd=a2_0x217626;_0x2361d0[_0x17e3bd(0x282)]='';const _0xbaceb4=Math[_0x17e3bd(0x341)](_0x2361d0['offsetLeft']);(availabilityPattern[_0x59f57b]||[])[_0x17e3bd(0x26e)](_0x21ee1b=>{const _0x515cae=_0x17e3bd,_0x5abbd4=document[_0x515cae(0x222)]('div');_0x5abbd4[_0x515cae(0x1fd)]=_0x515cae(0x245);const _0x9cdf22=_0x21ee1b*GRID_H;_0x5abbd4['style'][_0x515cae(0x325)]=_0x9cdf22+'px',_0x5abbd4[_0x515cae(0x2e0)][_0x515cae(0x209)]='-'+_0xbaceb4+_0x515cae(0x21f)+_0x9cdf22+'px',_0x5abbd4['onclick']=_0x2f54d0=>{const _0x363b9a=_0x515cae;_0x2f54d0[_0x363b9a(0x2b6)](),toggleSinglePattern(_0x59f57b,_0x21ee1b);},_0x2361d0[_0x515cae(0x223)](_0x5abbd4);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x58dec6=a2_0x217626,_0x36fb11=new Date(),_0xfa4f1c=document[_0x58dec6(0x28e)]('globalTimeLine'),_0x413b6c=document[_0x58dec6(0x28e)](_0x58dec6(0x21b)),_0x128504=(_0x36fb11['getHours']()*0x3c+_0x36fb11['getMinutes']())/0x3c*GRID_H;_0xfa4f1c[_0x58dec6(0x2e0)][_0x58dec6(0x325)]=_0x128504+'px',_0xfa4f1c[_0x58dec6(0x2e0)][_0x58dec6(0x25b)]='block',_0x413b6c['textContent']=String(_0x36fb11[_0x58dec6(0x1f9)]())[_0x58dec6(0x2b3)](0x2,'0')+':'+String(_0x36fb11[_0x58dec6(0x230)]())[_0x58dec6(0x2b3)](0x2,'0'),_0x413b6c[_0x58dec6(0x2e0)]['display']=_0x58dec6(0x2f7),_0x413b6c[_0x58dec6(0x2e0)][_0x58dec6(0x325)]=_0x128504+'px';}document['addEventListener'](a2_0x217626(0x1db),init);function openDayOptions(_0x341879){const _0x5c3544=a2_0x217626;selectedDayForOptions=_0x341879;const _0x10f4b1=new Date(_0x341879),_0x49bffb={'weekday':_0x5c3544(0x2d4),'day':_0x5c3544(0x258),'month':_0x5c3544(0x2d4),'year':'numeric'},_0x15b676=_0x10f4b1[_0x5c3544(0x2ed)](_0x5c3544(0x27c),_0x49bffb);document[_0x5c3544(0x28e)](_0x5c3544(0x1fb))[_0x5c3544(0x205)]=_0x15b676[_0x5c3544(0x30a)](0x0)[_0x5c3544(0x2f8)]()+_0x15b676['slice'](0x1);let _0x3ded0e=_0x10f4b1[_0x5c3544(0x30b)]()-0x1;if(_0x3ded0e===-0x1)_0x3ded0e=0x6;const _0x2abd98=availabilityPattern[_0x3ded0e]||[],_0x3b44e3=0x18-_0x2abd98['length'],_0x35e741=_0x3b44e3*0x3c,_0x3214d2=sessions[_0x5c3544(0x2d8)](_0x499141=>_0x499141[_0x5c3544(0x2ee)]===_0x341879&&_0x499141[_0x5c3544(0x31c)]!==_0x5c3544(0x32b));let _0x6a4ee5=_0x3214d2[_0x5c3544(0x335)](_0x28c328=>{const _0x4f822c=_0x5c3544,[_0x21047a,_0xb1a1c0]=_0x28c328[_0x4f822c(0x2d9)][_0x4f822c(0x239)](':')[_0x4f822c(0x335)](Number),[_0x57eee0,_0x16f5c2]=_0x28c328[_0x4f822c(0x2a1)][_0x4f822c(0x239)](':')[_0x4f822c(0x335)](Number);return[_0x21047a*0x3c+_0xb1a1c0,_0x57eee0*0x3c+_0x16f5c2];});_0x6a4ee5[_0x5c3544(0x27d)]((_0x199d91,_0x267991)=>_0x199d91[0x0]-_0x267991[0x0]);let _0x56b8ef=[];if(_0x6a4ee5[_0x5c3544(0x228)]>0x0){let _0x18e14e=_0x6a4ee5[0x0];for(let _0x34c5da=0x1;_0x34c5da<_0x6a4ee5['length'];_0x34c5da++){_0x6a4ee5[_0x34c5da][0x0]<_0x18e14e[0x1]?_0x18e14e[0x1]=Math[_0x5c3544(0x22c)](_0x18e14e[0x1],_0x6a4ee5[_0x34c5da][0x1]):(_0x56b8ef[_0x5c3544(0x2fa)](_0x18e14e),_0x18e14e=_0x6a4ee5[_0x34c5da]);}_0x56b8ef[_0x5c3544(0x2fa)](_0x18e14e);}let _0x5ec1cf=0x0;_0x56b8ef['forEach'](_0x306fd3=>_0x5ec1cf+=_0x306fd3[0x1]-_0x306fd3[0x0]),document[_0x5c3544(0x28e)](_0x5c3544(0x319))[_0x5c3544(0x205)]=formatMinsToHrs(_0x35e741),document[_0x5c3544(0x28e)](_0x5c3544(0x339))['textContent']=formatMinsToHrs(_0x5ec1cf);const _0x277f13=_0x35e741>0x0?Math['round'](_0x5ec1cf/_0x35e741*0x64):0x0,_0x25271a=document['getElementById'](_0x5c3544(0x259));_0x25271a[_0x5c3544(0x205)]=_0x277f13+'%';const _0x598fbf=document[_0x5c3544(0x28e)](_0x5c3544(0x2be));if(_0x277f13>0x64)_0x25271a[_0x5c3544(0x2e0)][_0x5c3544(0x25d)]='var(--acc-red)',_0x598fbf['style'][_0x5c3544(0x34a)]=_0x5c3544(0x29d);else _0x277f13>0x50?(_0x25271a[_0x5c3544(0x2e0)][_0x5c3544(0x25d)]=_0x5c3544(0x23b),_0x598fbf[_0x5c3544(0x2e0)][_0x5c3544(0x34a)]=_0x5c3544(0x2de)):(_0x25271a[_0x5c3544(0x2e0)][_0x5c3544(0x25d)]=_0x5c3544(0x22a),_0x598fbf[_0x5c3544(0x2e0)][_0x5c3544(0x34a)]=_0x5c3544(0x305));const _0x1d0405=document['getElementById'](_0x5c3544(0x32a));_0x1d0405[_0x5c3544(0x282)]='';_0x3214d2[_0x5c3544(0x228)]===0x0?_0x1d0405[_0x5c3544(0x282)]=_0x5c3544(0x297):(_0x3214d2[_0x5c3544(0x27d)]((_0x125814,_0x1f2c91)=>_0x125814[_0x5c3544(0x2d9)][_0x5c3544(0x2eb)](_0x1f2c91[_0x5c3544(0x2d9)])),_0x3214d2[_0x5c3544(0x26e)](_0x31fc60=>{const _0x16c77c=_0x5c3544,_0x33510b=clients[_0x16c77c(0x321)](_0x739fb7=>_0x739fb7['name']===_0x31fc60[_0x16c77c(0x255)]),_0x2d4c1c=_0x33510b?_0x33510b[_0x16c77c(0x25d)]:_0x16c77c(0x277),_0x30f73a=_0x31fc60[_0x16c77c(0x31c)]===_0x16c77c(0x30f),_0x37e1da=_0x30f73a?_0x16c77c(0x21e):'',_0x4d53e0=document[_0x16c77c(0x222)](_0x16c77c(0x1ee));_0x4d53e0[_0x16c77c(0x1fd)]='de-item',_0x4d53e0[_0x16c77c(0x2e0)]['borderLeftColor']=_0x2d4c1c,_0x4d53e0['innerHTML']=_0x16c77c(0x273)+_0x31fc60[_0x16c77c(0x2d9)]+_0x16c77c(0x299)+_0x31fc60[_0x16c77c(0x2a1)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x31fc60[_0x16c77c(0x255)]+_0x16c77c(0x206)+_0x37e1da+_0x16c77c(0x328),_0x1d0405[_0x16c77c(0x223)](_0x4d53e0);}));const _0x2a0337=document['getElementById']('btnDayToggle'),_0x680755=dateExceptions[_0x341879]===_0x5c3544(0x32f);_0x680755?(_0x2a0337[_0x5c3544(0x205)]=_0x5c3544(0x333),_0x2a0337[_0x5c3544(0x1fd)]='btn-primary\x20btn-secondary',_0x2a0337['style'][_0x5c3544(0x25d)]=_0x5c3544(0x22a),_0x2a0337[_0x5c3544(0x2e0)][_0x5c3544(0x2e4)]='rgba(48,\x20209,\x2088,\x200.15)'):(_0x2a0337[_0x5c3544(0x205)]=_0x5c3544(0x238),_0x2a0337['className']=_0x5c3544(0x2ef),_0x2a0337['style'][_0x5c3544(0x25d)]='var(--acc-red)',_0x2a0337[_0x5c3544(0x2e0)][_0x5c3544(0x2e4)]=_0x5c3544(0x212)),openSheet(_0x5c3544(0x267));}let currentAnPeriod='week';function openAnalytics(){const _0x1b106e=a2_0x217626,_0x5d9983=document[_0x1b106e(0x32e)](_0x1b106e(0x210));setAnalyticsPeriod('week',_0x5d9983),closeAllSheets(),openSheet(_0x1b106e(0x29c));}function setAnalyticsPeriod(_0x3ed302,_0x232eec){const _0x4775ed=a2_0x217626;currentAnPeriod=_0x3ed302,document[_0x4775ed(0x2e6)](_0x4775ed(0x210))['forEach'](_0x288534=>_0x288534[_0x4775ed(0x1e1)][_0x4775ed(0x2ae)](_0x4775ed(0x354)));if(_0x232eec)_0x232eec['classList']['add']('active');const _0x2adb14=document[_0x4775ed(0x28e)]('anCustomDates');_0x2adb14[_0x4775ed(0x2e0)][_0x4775ed(0x25b)]=_0x3ed302===_0x4775ed(0x350)?_0x4775ed(0x1e4):'none';const _0x20c3ba=new Date();let _0x1b3ff3=new Date(),_0x5dd0fd=new Date();if(_0x3ed302===_0x4775ed(0x2a9))_0x1b3ff3=getStartOfWeek(_0x20c3ba),_0x5dd0fd=new Date(_0x1b3ff3),_0x5dd0fd[_0x4775ed(0x320)](_0x5dd0fd['getDate']()+0x6);else{if(_0x3ed302==='month')_0x1b3ff3=new Date(_0x20c3ba['getFullYear'](),_0x20c3ba['getMonth'](),0x1),_0x5dd0fd=new Date(_0x20c3ba[_0x4775ed(0x2bd)](),_0x20c3ba[_0x4775ed(0x2c5)]()+0x1,0x0);else{!document['getElementById']('anStart')['value']&&(document[_0x4775ed(0x28e)](_0x4775ed(0x2c1))[_0x4775ed(0x234)]=getLocalDateStr(_0x20c3ba),document['getElementById']('anEnd')[_0x4775ed(0x234)]=getLocalDateStr(_0x20c3ba));refreshAnalytics();return;}}document[_0x4775ed(0x28e)](_0x4775ed(0x2c1))[_0x4775ed(0x234)]=getLocalDateStr(_0x1b3ff3),document['getElementById']('anEnd')['value']=getLocalDateStr(_0x5dd0fd),refreshAnalytics();}function refreshAnalytics(){const _0x5c176e=a2_0x217626,_0x405c68=document['getElementById']('anStart')['value'],_0x58204e=document[_0x5c176e(0x28e)](_0x5c176e(0x316))[_0x5c176e(0x234)];if(!_0x405c68||!_0x58204e)return;const _0x1a58b3=sessions[_0x5c176e(0x2d8)](_0x45ef16=>_0x45ef16[_0x5c176e(0x2ee)]>=_0x405c68&&_0x45ef16[_0x5c176e(0x2ee)]<=_0x58204e&&_0x45ef16[_0x5c176e(0x31c)]!==_0x5c176e(0x32b)),_0x4fa02c=_0x1a58b3['length'],_0x3b20c9=_0x1a58b3['filter'](_0x4b30f7=>_0x4b30f7['status']===_0x5c176e(0x30f))['length'],_0xdffc2a=_0x4fa02c>0x0?Math[_0x5c176e(0x341)](_0x3b20c9/_0x4fa02c*0x64):0x0;document[_0x5c176e(0x28e)](_0x5c176e(0x2c4))['textContent']=_0xdffc2a+'%',document['getElementById'](_0x5c176e(0x264))[_0x5c176e(0x205)]=_0x3b20c9+_0x5c176e(0x213)+_0x4fa02c+_0x5c176e(0x2b8);const _0x1b019c=document[_0x5c176e(0x28e)]('anDonutCircle'),_0xc29c93=0x2*Math['PI']*0x23,_0x1ae56b=_0xc29c93-_0xdffc2a/0x64*_0xc29c93;_0x1b019c['style'][_0x5c176e(0x353)]=_0x1ae56b;const _0x48b570={};_0x1a58b3[_0x5c176e(0x26e)](_0x2856e9=>{const _0x33ed74=_0x5c176e;if(!_0x48b570[_0x2856e9[_0x33ed74(0x255)]]){const _0x58e140=clients[_0x33ed74(0x321)](_0xaaadb4=>_0xaaadb4[_0x33ed74(0x2fd)]===_0x2856e9[_0x33ed74(0x255)]);_0x48b570[_0x2856e9[_0x33ed74(0x255)]]={'total':0x0,'done':0x0,'color':_0x58e140?_0x58e140['color']:_0x33ed74(0x277)};}_0x48b570[_0x2856e9['client']][_0x33ed74(0x233)]++;if(_0x2856e9['status']===_0x33ed74(0x30f))_0x48b570[_0x2856e9['client']][_0x33ed74(0x250)]++;});const _0x4603cc=document[_0x5c176e(0x28e)](_0x5c176e(0x1ea));_0x4603cc[_0x5c176e(0x282)]='';const _0x111e3c=Object[_0x5c176e(0x2c3)](_0x48b570)['sort']((_0x223259,_0x59450a)=>_0x59450a[0x1]['total']-_0x223259[0x1][_0x5c176e(0x233)]);if(_0x111e3c[_0x5c176e(0x228)]===0x0){_0x4603cc['innerHTML']=_0x5c176e(0x343);return;}_0x111e3c['forEach'](([_0x56ef15,_0x592d55])=>{const _0x4fee19=_0x5c176e,_0x4dd4b3=Math[_0x4fee19(0x341)](_0x592d55['done']/_0x592d55[_0x4fee19(0x233)]*0x64),_0x4decc0=document[_0x4fee19(0x222)](_0x4fee19(0x1ee));_0x4decc0[_0x4fee19(0x1fd)]='client-stat-card',_0x4decc0['style'][_0x4fee19(0x2a8)]=_0x592d55[_0x4fee19(0x25d)],_0x4decc0[_0x4fee19(0x282)]=_0x4fee19(0x231)+_0x56ef15+_0x4fee19(0x31f)+_0x592d55[_0x4fee19(0x250)]+'</span>\x20/\x20'+_0x592d55[_0x4fee19(0x233)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x4dd4b3+_0x4fee19(0x30c),_0x4603cc[_0x4fee19(0x223)](_0x4decc0);});}function formatMinsToHrs(_0x34a17b){if(_0x34a17b===0x0)return'0';const _0x48500b=Math['floor'](_0x34a17b/0x3c),_0x5519c2=_0x34a17b%0x3c;if(_0x5519c2===0x0)return _0x48500b+'—á';return _0x48500b+'—á\x20'+_0x5519c2+'–º';}