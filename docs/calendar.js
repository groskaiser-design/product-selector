const a2_0x28ad0a=a2_0x1477;(function(_0x31f98b,_0x5465ad){const _0x2a7d23=a2_0x1477,_0x541361=_0x31f98b();while(!![]){try{const _0x258dc0=-parseInt(_0x2a7d23(0x12a))/0x1+-parseInt(_0x2a7d23(0x19d))/0x2+parseInt(_0x2a7d23(0x123))/0x3*(parseInt(_0x2a7d23(0x133))/0x4)+parseInt(_0x2a7d23(0x174))/0x5*(-parseInt(_0x2a7d23(0x146))/0x6)+-parseInt(_0x2a7d23(0x17f))/0x7*(parseInt(_0x2a7d23(0x1f6))/0x8)+-parseInt(_0x2a7d23(0x1cd))/0x9+parseInt(_0x2a7d23(0x11e))/0xa;if(_0x258dc0===_0x5465ad)break;else _0x541361['push'](_0x541361['shift']());}catch(_0x2db709){_0x541361['push'](_0x541361['shift']());}}}(a2_0xe1a6,0xdb223),function initTMA(){const _0x5c4b63=a2_0x1477,_0x246e22=(function(){let _0x1728b1=!![];return function(_0x2af8f7,_0x3ebbcb){const _0x293d57=_0x1728b1?function(){const _0x2c5020=a2_0x1477;if(_0x3ebbcb){const _0x3bad17=_0x3ebbcb[_0x2c5020(0x1a7)](_0x2af8f7,arguments);return _0x3ebbcb=null,_0x3bad17;}}:function(){};return _0x1728b1=![],_0x293d57;};}()),_0x43a2ce=_0x246e22(this,function(){const _0x233efa=a2_0x1477;return _0x43a2ce[_0x233efa(0xf5)]()['search'](_0x233efa(0x14a))[_0x233efa(0xf5)]()[_0x233efa(0x183)](_0x43a2ce)[_0x233efa(0x1e9)](_0x233efa(0x14a));});_0x43a2ce();try{const _0xa025c1=window[_0x5c4b63(0xa1)]?.[_0x5c4b63(0x1d6)];if(!_0xa025c1)return;_0xa025c1[_0x5c4b63(0x1f3)](),_0xa025c1['expand']();try{_0xa025c1[_0x5c4b63(0xf4)]('#050505'),_0xa025c1[_0x5c4b63(0x113)]&&_0xa025c1[_0x5c4b63(0x113)](_0x5c4b63(0xb8));}catch(_0x1ae069){console[_0x5c4b63(0xf9)](_0x5c4b63(0x12c),_0x1ae069);}try{_0xa025c1[_0x5c4b63(0xff)]&&(_0xa025c1[_0x5c4b63(0xff)][_0x5c4b63(0x191)](),_0xa025c1[_0x5c4b63(0xff)][_0x5c4b63(0x157)](),_0xa025c1[_0x5c4b63(0xff)][_0x5c4b63(0x159)](function(){const _0x29be2f=_0x5c4b63;window['location'][_0x29be2f(0x12e)]=_0x29be2f(0x1eb);}));}catch(_0x5eb2a8){console[_0x5c4b63(0xf9)](_0x5c4b63(0x12f),_0x5eb2a8);}try{if(_0xa025c1[_0x5c4b63(0x1c8)])_0xa025c1[_0x5c4b63(0x1c8)]();}catch(_0x229d4b){}}catch(_0x547136){console[_0x5c4b63(0x11a)]('Critical\x20TMA\x20Error:',_0x547136);}}());function isAdmin(){const _0x1410fe=a2_0x1477;try{const _0x3421de=Number(window['Telegram']?.[_0x1410fe(0x1d6)]?.[_0x1410fe(0x122)]?.[_0x1410fe(0x1ab)]?.['id']);return _0x3421de===0xbaf7174;}catch(_0x91df80){return![];}}const APP_VERSION=a2_0x28ad0a(0x189),API_URL='https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec',GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x28ad0a(0x158),KEY_SESSIONS=a2_0x28ad0a(0x184),KEY_SETTINGS=a2_0x28ad0a(0x1f5);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0xcfe56=a2_0x28ad0a;return window[_0xcfe56(0xa1)]?.[_0xcfe56(0x1d6)]?.['initDataUnsafe']?.[_0xcfe56(0x1ab)]?.['id']||_0xcfe56(0x10d);},'saveLocally'(){const _0x199662=a2_0x28ad0a;try{localStorage[_0x199662(0x1ae)](KEY_CLIENTS,JSON[_0x199662(0xe4)](clients)),localStorage[_0x199662(0x1ae)](KEY_SESSIONS,JSON[_0x199662(0xe4)](sessions)),localStorage[_0x199662(0x1ae)](KEY_SETTINGS,JSON[_0x199662(0xe4)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x3baf6d){console['error'](_0x199662(0x13a),_0x3baf6d);}},'loadLocal'(){const _0x46050b=a2_0x28ad0a;try{const _0x24947f=localStorage[_0x46050b(0x138)](KEY_CLIENTS);if(_0x24947f)clients=JSON['parse'](_0x24947f);const _0x57cef0=localStorage[_0x46050b(0x138)](KEY_SESSIONS);if(_0x57cef0)sessions=JSON[_0x46050b(0x136)](_0x57cef0);const _0x453a17=localStorage[_0x46050b(0x138)](KEY_SETTINGS);if(_0x453a17){const _0x79f254=JSON[_0x46050b(0x136)](_0x453a17);if(_0x79f254[_0x46050b(0x1c2)])availabilityPattern=_0x79f254[_0x46050b(0x1c2)];if(_0x79f254[_0x46050b(0xb7)])dateExceptions=_0x79f254[_0x46050b(0xb7)];if(_0x79f254[_0x46050b(0x1bb)])specialRanges=_0x79f254['ranges'];}else{for(let _0x1599b6=0x0;_0x1599b6<0x7;_0x1599b6++)availabilityPattern[_0x1599b6]=Array['from']({'length':0xc},(_0x49717f,_0x181823)=>_0x181823+0x9);}}catch(_0x4c3bb9){console['error'](_0x46050b(0x1ba),_0x4c3bb9);}},async 'fetchFromServer'(_0x4f0747,_0x10d260={}){const _0x1d6996=a2_0x28ad0a,_0x561c29=window['Telegram']?.[_0x1d6996(0x1d6)],_0xed461f={'action':_0x4f0747,'init_data':_0x561c29?.['initData']||'',..._0x10d260};try{const _0xae2dfa=await fetch(API_URL,{'method':_0x1d6996(0x1d4),'headers':{'Content-Type':_0x1d6996(0xc3)},'body':JSON[_0x1d6996(0xe4)](_0xed461f)}),_0x1e791f=await _0xae2dfa['json']();if(!_0x1e791f['ok'])throw new Error(_0x1e791f[_0x1d6996(0x11a)]||'Server\x20Error');return _0x1e791f['data'];}catch(_0x4ef791){console['error']('[API\x20'+_0x4f0747+_0x1d6996(0xa2),_0x4ef791);throw _0x4ef791;}},async 'syncLoad'(){const _0x382274=a2_0x28ad0a,_0x14b24b=new Date(),_0x36c196=_0x14b24b[_0x382274(0x134)]()+'-'+String(_0x14b24b['getMonth']()+0x1)[_0x382274(0x20a)](0x2,'0'),_0x3235ac=new Date(_0x14b24b);_0x3235ac['setMonth'](_0x14b24b[_0x382274(0x1fd)]()+0x1);const _0x32e598=_0x3235ac['getFullYear']()+'-'+String(_0x3235ac[_0x382274(0x1fd)]()+0x1)[_0x382274(0x20a)](0x2,'0'),_0x4aac4d=Date['now']();console[_0x382274(0xf9)](_0x382274(0x16b)+_0x36c196+',\x20'+_0x32e598+_0x382274(0x1ee));try{const [_0x8545c,_0x1cf4e5]=await Promise[_0x382274(0x1d1)]([this['fetchFromServer']('init_load',{'month_str':_0x36c196}),this[_0x382274(0x1cf)]('init_load',{'month_str':_0x32e598})]);if(lastUserActionTime>_0x4aac4d)return console['warn'](_0x382274(0x18e)),![];return this[_0x382274(0x1d2)](_0x8545c,_0x36c196),this[_0x382274(0x1d2)](_0x1cf4e5,_0x32e598),this['saveLocally'](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x1f43a9){console['error'](_0x1f43a9);throw _0x1f43a9;}},'mergeServerData'(_0x5dc37b,_0x302be2){const _0x41206a=a2_0x28ad0a;if(!_0x5dc37b)return;_0x5dc37b['clients']&&Array['isArray'](_0x5dc37b[_0x41206a(0xdc)])&&(clients=_0x5dc37b[_0x41206a(0xdc)]);if(_0x5dc37b[_0x41206a(0x198)]){if(_0x5dc37b['settings']['pattern'])availabilityPattern=_0x5dc37b[_0x41206a(0x198)][_0x41206a(0x1c2)];if(_0x5dc37b[_0x41206a(0x198)]['exceptions'])dateExceptions=_0x5dc37b[_0x41206a(0x198)][_0x41206a(0xb7)];if(_0x5dc37b[_0x41206a(0x198)][_0x41206a(0x1bb)])specialRanges=_0x5dc37b[_0x41206a(0x198)][_0x41206a(0x1bb)];if(_0x5dc37b['settings'][_0x41206a(0xe5)]){localStorage[_0x41206a(0x1ae)](_0x41206a(0x1ec),_0x5dc37b['settings']['cancel_window']);const _0x564775=document[_0x41206a(0x1ca)]('settingCancelWindow');if(_0x564775)_0x564775[_0x41206a(0x1e0)]=_0x5dc37b[_0x41206a(0x198)][_0x41206a(0xe5)];}}_0x5dc37b[_0x41206a(0x17a)]&&(sessions=sessions[_0x41206a(0x1d9)](_0x353c40=>!_0x353c40[_0x41206a(0xc8)][_0x41206a(0x187)](_0x302be2)),Object['keys'](_0x5dc37b[_0x41206a(0x17a)])[_0x41206a(0x171)](_0x141fd6=>{const _0x3f232e=_0x41206a,_0xf1ff7e=_0x5dc37b[_0x3f232e(0x17a)][_0x141fd6];_0xf1ff7e[_0x3f232e(0x171)](_0x27d7c9=>{const _0xdac0c4=_0x3f232e,_0x346152=clients[_0xdac0c4(0x178)](_0x3b80c3=>String(_0x3b80c3['id'])===String(_0x27d7c9['c']));sessions[_0xdac0c4(0x205)]({'id':_0x27d7c9['i'],'clientId':_0x27d7c9['c'],'client':_0x346152?_0x346152[_0xdac0c4(0x1b9)]:_0xdac0c4(0x1ea),'dateStr':_0x302be2+'-'+_0x141fd6[_0xdac0c4(0x20a)](0x2,'0'),'start':_0x27d7c9['s'],'end':_0x27d7c9['e'],'status':_0x27d7c9['st']||_0xdac0c4(0x181),'note':_0x27d7c9['n']||'','seriesId':_0x27d7c9[_0xdac0c4(0x20c)]||null});});}));},async 'syncBatch'(_0x465fa2){const _0x28eb03=a2_0x28ad0a,_0x59eef1=[...new Set(_0x465fa2)],_0x5d14e5=_0x59eef1[_0x28eb03(0xe0)](_0x17bf9c=>{const _0x49fdad=_0x28eb03,_0x40a7ef=sessions[_0x49fdad(0x1d9)](_0x4819e7=>_0x4819e7['dateStr']===_0x17bf9c&&_0x4819e7[_0x49fdad(0x110)]!==_0x49fdad(0xb5)),_0xea0689=_0x40a7ef[_0x49fdad(0xe0)](_0x50361e=>({'i':_0x50361e['id'],'c':_0x50361e[_0x49fdad(0xcf)],'s':_0x50361e[_0x49fdad(0xc6)],'e':_0x50361e[_0x49fdad(0x150)],'st':_0x50361e[_0x49fdad(0x110)],'n':_0x50361e[_0x49fdad(0x1a3)],'sid':_0x50361e[_0x49fdad(0x11f)]}));return{'date':_0x17bf9c,'day_data':_0xea0689};});if(_0x5d14e5[_0x28eb03(0x1dc)]===0x0)return;console[_0x28eb03(0xf9)](_0x28eb03(0xe6)+_0x5d14e5['length']+_0x28eb03(0x199)),await this[_0x28eb03(0x1cf)](_0x28eb03(0x105),{'changes':_0x5d14e5});}};async function init(){const _0x475554=a2_0x28ad0a;DataManager[_0x475554(0x197)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x475554(0x1ca)]('matrixViewport')[_0x475554(0x1b3)]('scroll',()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x475554(0x11b)]()[_0x475554(0xe9)](()=>{showToast('–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ',!![]);})[_0x475554(0x172)](_0x4293ab=>{const _0x382728=_0x475554;showToast(_0x382728(0x1ed),![]);});}function generateId(){const _0xe801f4=a2_0x28ad0a;return Date[_0xe801f4(0x1e2)]()[_0xe801f4(0xf5)](0x24)+Math[_0xe801f4(0xf6)]()['toString'](0x24)[_0xe801f4(0x194)](0x2,0x5);}function toggleSeriesInput(){const _0x1a4d30=a2_0x28ad0a,_0x13c45a=document[_0x1a4d30(0x1ca)](_0x1a4d30(0x193))[_0x1a4d30(0xec)],_0x49e3ef=document[_0x1a4d30(0x1ca)](_0x1a4d30(0x1c4));_0x49e3ef[_0x1a4d30(0x153)][_0x1a4d30(0x111)]=_0x13c45a?_0x1a4d30(0xfb):_0x1a4d30(0x9c);const _0x1d4b8e=document['getElementById'](_0x1a4d30(0x1c9));_0x1d4b8e[_0x1a4d30(0x153)][_0x1a4d30(0x16e)]=_0x13c45a?_0x1a4d30(0x143):_0x1a4d30(0xa3);}function openAddSession(_0x1ebc49){const _0x2e7314=a2_0x28ad0a;editingId=null,populateClientSelect(),document['getElementById'](_0x2e7314(0x208))[_0x2e7314(0x125)]=_0x2e7314(0x165),document['getElementById'](_0x2e7314(0x209))[_0x2e7314(0x153)][_0x2e7314(0x111)]=_0x2e7314(0x9c),document['getElementById'](_0x2e7314(0xd2))['style']['display']=_0x2e7314(0x9c);const _0x17c2eb=document[_0x2e7314(0x1ca)](_0x2e7314(0x1c9)),_0x584b8d=document[_0x2e7314(0x1ca)](_0x2e7314(0x1c4));_0x17c2eb[_0x2e7314(0x153)]['display']=_0x2e7314(0x185),_0x17c2eb[_0x2e7314(0x153)][_0x2e7314(0x16e)]=_0x2e7314(0xa3),document[_0x2e7314(0x1ca)]('inpRecurring')[_0x2e7314(0xec)]=![],document['getElementById'](_0x2e7314(0x9d))[_0x2e7314(0x1e0)]=0x4,_0x584b8d[_0x2e7314(0x153)][_0x2e7314(0x111)]=_0x2e7314(0x9c),document[_0x2e7314(0x1ca)]('inpDate')[_0x2e7314(0x1e0)]=getLocalDateStr(_0x1ebc49),updateDateDisplay();const _0x536080=_0x1ebc49[_0x2e7314(0xd9)]();document[_0x2e7314(0x1ca)](_0x2e7314(0x131))[_0x2e7314(0x1e0)]=String(_0x536080)['padStart'](0x2,'0')+_0x2e7314(0x20e),document[_0x2e7314(0x1ca)](_0x2e7314(0xc9))['value']=String(_0x536080+0x1)[_0x2e7314(0x20a)](0x2,'0')+_0x2e7314(0x20e),openSheet(_0x2e7314(0x90));}function openEdit(_0x295099){const _0x5cfcb7=a2_0x28ad0a;editingId=_0x295099['id'],populateClientSelect(),document[_0x5cfcb7(0x1ca)]('sheetTitle')['textContent']=_0x5cfcb7(0x1e5),document[_0x5cfcb7(0x1ca)](_0x5cfcb7(0x209))[_0x5cfcb7(0x153)]['display']='block';const _0x4554d1=document[_0x5cfcb7(0x1ca)]('btnStatusToggle');_0x4554d1[_0x5cfcb7(0x153)][_0x5cfcb7(0x111)]=_0x5cfcb7(0x185);_0x295099['status']==='completed'?(_0x4554d1[_0x5cfcb7(0x162)]=_0x5cfcb7(0x115),_0x4554d1[_0x5cfcb7(0x1e1)]=_0x5cfcb7(0x11d)):(_0x4554d1[_0x5cfcb7(0x162)]='btn-status-toggle',_0x4554d1['innerHTML']=_0x5cfcb7(0x147));const _0x12f9cc=!!_0x295099[_0x5cfcb7(0x11f)];document[_0x5cfcb7(0x1ca)]('recurringOptionContainer')[_0x5cfcb7(0x153)][_0x5cfcb7(0x111)]=_0x5cfcb7(0x9c),document[_0x5cfcb7(0x1ca)](_0x5cfcb7(0x1c4))[_0x5cfcb7(0x153)][_0x5cfcb7(0x111)]=_0x5cfcb7(0x9c),_0x12f9cc?(document[_0x5cfcb7(0x1ca)](_0x5cfcb7(0x182))[_0x5cfcb7(0x153)][_0x5cfcb7(0x111)]='flex',document[_0x5cfcb7(0x1ca)]('patternInfoBox')[_0x5cfcb7(0x1f1)](_0x5cfcb7(0x1fb))['textContent']=_0x5cfcb7(0x10e)):document[_0x5cfcb7(0x1ca)]('patternInfoBox')[_0x5cfcb7(0x153)][_0x5cfcb7(0x111)]='none',document[_0x5cfcb7(0x1ca)](_0x5cfcb7(0x139))['value']=_0x295099['client'],document['getElementById'](_0x5cfcb7(0x16c))['value']=_0x295099[_0x5cfcb7(0xc8)],document['getElementById'](_0x5cfcb7(0x131))[_0x5cfcb7(0x1e0)]=_0x295099[_0x5cfcb7(0xc6)],document[_0x5cfcb7(0x1ca)]('inpEnd')[_0x5cfcb7(0x1e0)]=_0x295099[_0x5cfcb7(0x150)],document[_0x5cfcb7(0x1ca)](_0x5cfcb7(0xda))[_0x5cfcb7(0x1e0)]=_0x295099['note']||'',updateDateDisplay(),openSheet('sessionSheet');}async function trySaveSession(){const _0xaefd65=a2_0x28ad0a,_0x389315=document[_0xaefd65(0x1ca)](_0xaefd65(0x139))[_0xaefd65(0x1e0)],_0x5bf949=document[_0xaefd65(0x1ca)]('inpDate')[_0xaefd65(0x1e0)],_0x25153e=document[_0xaefd65(0x1ca)](_0xaefd65(0x131))[_0xaefd65(0x1e0)],_0x17f27a=document[_0xaefd65(0x1ca)]('inpEnd')[_0xaefd65(0x1e0)],_0xb84ff3=document[_0xaefd65(0x1ca)](_0xaefd65(0xda))[_0xaefd65(0x1e0)],_0x51b8bc=document['getElementById'](_0xaefd65(0x193))[_0xaefd65(0xec)];let _0x141e5b=0x4;if(_0x51b8bc){const _0x53a553=parseInt(document[_0xaefd65(0x1ca)](_0xaefd65(0x9d))[_0xaefd65(0x1e0)]);if(!_0x53a553||_0x53a553<0x2){showToast(_0xaefd65(0xdd),![]);return;}if(_0x53a553>0x64){showToast(_0xaefd65(0xfa),![]);return;}_0x141e5b=_0x53a553;}const _0x5f0e17=clients[_0xaefd65(0x178)](_0x1621e1=>_0x1621e1['name']===_0x389315);if(!_0x5f0e17){showToast('–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞',![]);return;}const _0x4d3db2=validateAppointment(_0x5bf949,_0x25153e,_0x17f27a,editingId,_0x5f0e17['id']);if(!_0x4d3db2[_0xaefd65(0x1c1)]){showToast(_0x4d3db2[_0xaefd65(0xf2)],![]);return;}_0x4d3db2['warning']&&showToast(_0x4d3db2[_0xaefd65(0x19b)],![]);const _0x5f123e={'client':_0x389315,'clientId':_0x5f0e17['id'],'start':_0x25153e,'end':_0x17f27a,'note':_0xb84ff3,'status':_0xaefd65(0x181)},_0x12469d=editingId?sessions[_0xaefd65(0x178)](_0x567698=>_0x567698['id']===editingId):null;if(_0x12469d&&_0x12469d[_0xaefd65(0x11f)]){tempSessionData={..._0x5f123e,'dateStr':_0x5bf949,'id':editingId,'seriesId':_0x12469d[_0xaefd65(0x11f)]},openActionSheet(_0xaefd65(0x10b));return;}let _0xdb3e4f=null;if(!editingId)_0xdb3e4f=_0xaefd65(0x166);else{if(_0x12469d){if(String(_0x12469d[_0xaefd65(0xcf)])!==String(_0x5f0e17['id']))console[_0xaefd65(0xf9)]('[Notify]\x20Client\x20SWAP\x20detected'),NotificationManager[_0xaefd65(0xe8)](_0xaefd65(0x176),_0x12469d),_0xdb3e4f=_0xaefd65(0x166);else(_0x12469d[_0xaefd65(0xc6)]!==_0x25153e||_0x12469d[_0xaefd65(0x150)]!==_0x17f27a||_0x12469d[_0xaefd65(0xc8)]!==_0x5bf949)&&(_0xdb3e4f=_0xaefd65(0x1f8));}}if(!editingId&&_0x51b8bc){createBatchSeries(_0x5f123e,_0x5bf949,_0x141e5b),NotificationManager[_0xaefd65(0xe8)](_0xaefd65(0x166),{..._0x5f123e,'dateStr':_0x5bf949});return;}lastUserActionTime=Date[_0xaefd65(0x1e2)]();const _0x3366f5={..._0x5f123e,'dateStr':_0x5bf949,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x3366f5),_0xdb3e4f&&NotificationManager[_0xaefd65(0xe8)](_0xdb3e4f,_0x3366f5);}function toggleSessionStatus(){const _0x169349=a2_0x28ad0a;lastUserActionTime=Date[_0x169349(0x1e2)]();const _0x35ee82=sessions[_0x169349(0x178)](_0x5a096e=>_0x5a096e['id']===editingId);if(!_0x35ee82)return;const _0x1e4bc6=_0x35ee82[_0x169349(0x110)]===_0x169349(0xee)?_0x169349(0x181):_0x169349(0xee);_0x35ee82[_0x169349(0x110)]=_0x1e4bc6,saveSingleSession(_0x35ee82),_0x1e4bc6==='completed'&&NotificationManager[_0x169349(0xe8)](_0x169349(0x1db),_0x35ee82),showToast(_0x1e4bc6===_0x169349(0xee)?'–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞':_0x169349(0x17c),!![]);}function validateAppointment(_0x3ac5ab,_0xaadbe1,_0x37337b,_0x12328e,_0xc16309){const _0x3befb6=a2_0x28ad0a,[_0x261d34,_0x48b3e0]=_0xaadbe1[_0x3befb6(0xe7)](':')['map'](Number),[_0x338cc3,_0x2e9408]=_0x37337b[_0x3befb6(0xe7)](':')[_0x3befb6(0xe0)](Number),_0x9b499c=_0x261d34*0x3c+_0x48b3e0,_0x47e1ad=_0x338cc3*0x3c+_0x2e9408,_0x669de0=String(_0xc16309);let _0x2a7a95=![],_0x2862bd='';for(let _0x5c6608 of sessions){if(_0x5c6608[_0x3befb6(0xc8)]!==_0x3ac5ab)continue;if(_0x5c6608[_0x3befb6(0x110)]===_0x3befb6(0x1bd))continue;if(_0x12328e&&String(_0x5c6608['id'])===String(_0x12328e))continue;const [_0x4cf575,_0x2be211]=_0x5c6608[_0x3befb6(0xc6)][_0x3befb6(0xe7)](':')[_0x3befb6(0xe0)](Number),[_0x526e14,_0x2f6f3a]=_0x5c6608['end'][_0x3befb6(0xe7)](':')[_0x3befb6(0xe0)](Number),_0x5c2e33=_0x4cf575*0x3c+_0x2be211,_0x2864e6=_0x526e14*0x3c+_0x2f6f3a;if(Math[_0x3befb6(0x15c)](_0x9b499c,_0x5c2e33)<Math[_0x3befb6(0x13e)](_0x47e1ad,_0x2864e6)){if(_0x5c6608[_0x3befb6(0xcf)]&&String(_0x5c6608[_0x3befb6(0xcf)])===_0x669de0)return{'valid':![],'msg':_0x3befb6(0x18f)+_0x5c6608[_0x3befb6(0x168)]+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x2a7a95=!![],_0x2862bd=_0x5c6608[_0x3befb6(0x168)];}}if(_0x2a7a95)return{'valid':!![],'warning':_0x3befb6(0x1d7)+_0x2862bd};return{'valid':!![]};}function saveSingleSession(_0x54b745){const _0x7bc665=a2_0x28ad0a;if(editingId){const _0x1b5631=sessions[_0x7bc665(0x118)](_0x396520=>_0x396520['id']===editingId);if(_0x1b5631!==-0x1)sessions[_0x1b5631]=_0x54b745;}else sessions[_0x7bc665(0x205)](_0x54b745);afterSaveAction([_0x54b745[_0x7bc665(0xc8)]]);}function createBatchSeries(_0x230f26,_0x4633ad,_0x4e28d3){const _0x3a96eb=a2_0x28ad0a,_0x3437e4=generateId(),_0x2fc4a6=[],_0x330b77=[];let _0x2486c4=0x0,_0x26ca0d=new Date(_0x4633ad);for(let _0x47c4b4=0x0;_0x47c4b4<_0x4e28d3;_0x47c4b4++){const _0x566374=getLocalDateStr(_0x26ca0d),_0x40b8ba=validateAppointment(_0x566374,_0x230f26[_0x3a96eb(0xc6)],_0x230f26[_0x3a96eb(0x150)],null,_0x230f26[_0x3a96eb(0xcf)]);if(!_0x40b8ba[_0x3a96eb(0x1c1)])console[_0x3a96eb(0xf9)](_0x3a96eb(0x9e)+_0x566374+':\x20Client\x20already\x20booked'),_0x2486c4++;else{const _0x438c84={..._0x230f26,'id':generateId(),'dateStr':_0x566374,'seriesId':_0x3437e4};_0x330b77[_0x3a96eb(0x205)](_0x438c84),_0x2fc4a6[_0x3a96eb(0x205)](_0x566374);}_0x26ca0d[_0x3a96eb(0x1e6)](_0x26ca0d[_0x3a96eb(0xbd)]()+0x7);}if(_0x330b77['length']===0x0){showToast('–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!',![]);return;}sessions[_0x3a96eb(0x205)](..._0x330b77),lastUserActionTime=Date[_0x3a96eb(0x1e2)]();let _0x25b5d5=_0x3a96eb(0xae)+_0x330b77['length'];_0x2486c4>0x0&&(_0x25b5d5+=_0x3a96eb(0x1ac)+_0x2486c4+')'),showToast(_0x25b5d5,!![]),afterSaveAction(_0x2fc4a6);}function updateSeriesBatch(_0x33ffa3,_0x32e853){const _0x4a4f17=a2_0x28ad0a,_0x1206e5=[],_0x222772=_0x32e853[_0x4a4f17(0x11f)];if(_0x33ffa3===_0x4a4f17(0xaa)){const _0x3df1cd={..._0x32e853,'seriesId':null},_0x3e401c=sessions[_0x4a4f17(0x118)](_0x22792d=>_0x22792d['id']===_0x32e853['id']);if(_0x3e401c!==-0x1)sessions[_0x3e401c]=_0x3df1cd;_0x1206e5[_0x4a4f17(0x205)](_0x3df1cd[_0x4a4f17(0xc8)]);}else{if(_0x33ffa3===_0x4a4f17(0xeb)){const _0x106c66=_0x32e853[_0x4a4f17(0xc8)];sessions[_0x4a4f17(0x171)]((_0x5a0a25,_0x58a364)=>{const _0x1b83af=_0x4a4f17;_0x5a0a25[_0x1b83af(0x11f)]===_0x222772&&_0x5a0a25[_0x1b83af(0xc8)]>=_0x106c66&&(sessions[_0x58a364]={...sessions[_0x58a364],'start':_0x32e853[_0x1b83af(0xc6)],'end':_0x32e853[_0x1b83af(0x150)],'note':_0x32e853['note'],'client':_0x32e853['client'],'clientId':_0x32e853['clientId']},_0x1206e5[_0x1b83af(0x205)](_0x5a0a25[_0x1b83af(0xc8)]));});}}afterSaveAction(_0x1206e5);}function tryDeleteSession(){const _0x10d325=a2_0x28ad0a,_0x35dd7f=sessions['find'](_0x206e1f=>_0x206e1f['id']===editingId);if(!_0x35dd7f)return;_0x35dd7f[_0x10d325(0x11f)]?openActionSheet('delete'):commitDelete('single',_0x35dd7f);}function commitDelete(_0x2e200b,_0x5d54b5){const _0x52ced4=a2_0x28ad0a;lastUserActionTime=Date['now'](),NotificationManager[_0x52ced4(0xe8)](_0x52ced4(0x176),_0x5d54b5);const _0x296b6d=[];if(_0x2e200b===_0x52ced4(0xaa))sessions=sessions['filter'](_0x2af86f=>_0x2af86f['id']!==_0x5d54b5['id']),_0x296b6d[_0x52ced4(0x205)](_0x5d54b5[_0x52ced4(0xc8)]);else{if(_0x2e200b===_0x52ced4(0xeb)){const _0x36554e=_0x5d54b5[_0x52ced4(0xc8)],_0x3f9cd2=_0x5d54b5['seriesId'];sessions[_0x52ced4(0x171)](_0x43bb07=>{const _0xc8909f=_0x52ced4;_0x43bb07[_0xc8909f(0x11f)]===_0x3f9cd2&&_0x43bb07[_0xc8909f(0xc8)]>=_0x36554e&&_0x296b6d[_0xc8909f(0x205)](_0x43bb07['dateStr']);}),sessions=sessions[_0x52ced4(0x1d9)](_0x22803a=>!(_0x22803a[_0x52ced4(0x11f)]===_0x3f9cd2&&_0x22803a[_0x52ced4(0xc8)]>=_0x36554e));}}afterSaveAction(_0x296b6d);}function afterSaveAction(_0x5375ff){const _0x2010f5=a2_0x28ad0a;DataManager[_0x2010f5(0xa9)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager['syncBatch'](_0x5375ff)[_0x2010f5(0xe9)](()=>console[_0x2010f5(0xf9)](_0x2010f5(0x202)))['catch'](_0xdca735=>showToast(_0x2010f5(0x1aa),![]));}const NotificationManager={'formatDate'(_0xfcef4){const _0x32c329=a2_0x28ad0a,_0x3e4ff7=new Date(_0xfcef4),_0x44cc38={'weekday':_0x32c329(0x1a0),'day':_0x32c329(0xac),'month':_0x32c329(0x1a0)};let _0xe315d0=_0x3e4ff7[_0x32c329(0x8f)]('ru-RU',_0x44cc38);return _0xe315d0[_0x32c329(0xa7)](0x0)[_0x32c329(0xfe)]()+_0xe315d0['slice'](0x1);},'getText'(_0x57dc2b,_0x580139){const _0x21a075=a2_0x28ad0a,_0x36e7f0=this[_0x21a075(0x100)](_0x580139[_0x21a075(0xc8)]);switch(_0x57dc2b){case'create':return'<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a'+(_0x21a075(0x154)+_0x36e7f0+'\x0a')+(_0x21a075(0xdb)+_0x580139[_0x21a075(0xc6)]+'\x20‚Äî\x20'+_0x580139[_0x21a075(0x150)]+'\x0a\x0a')+_0x21a075(0x1f4);case'update':return _0x21a075(0xde)+_0x21a075(0x1ff)+(_0x21a075(0x126)+_0x580139[_0x21a075(0xc6)]+_0x21a075(0x1c5)+_0x580139[_0x21a075(0x150)]+'</b>\x0a\x0a')+(_0x21a075(0x154)+_0x36e7f0);case _0x21a075(0x176):return _0x21a075(0x104)+(_0x21a075(0xed)+_0x36e7f0+'\x20('+_0x580139['start']+')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.');case _0x21a075(0x1db):return _0x21a075(0x119)+_0x21a075(0xc0)+_0x21a075(0x17b);default:return'';}},async 'send'(_0x22f1ca,_0x1dbdac){const _0x579203=a2_0x28ad0a;console[_0x579203(0xf9)](_0x579203(0x15a),_0x22f1ca,_0x1dbdac);if(!_0x1dbdac){console[_0x579203(0x11a)](_0x579203(0x108));return;}const _0xedd59=String(_0x1dbdac[_0x579203(0xcf)]);console['log'](_0x579203(0x190),_0xedd59);if(!_0x1dbdac[_0x579203(0xcf)]||_0xedd59===_0x579203(0xd0)||_0xedd59===_0x579203(0xef)){console[_0x579203(0x11a)](_0x579203(0x1cb));if(_0x1dbdac[_0x579203(0x168)]){const _0x47dbaf=clients[_0x579203(0x178)](_0x266224=>_0x266224[_0x579203(0x1b9)]===_0x1dbdac[_0x579203(0x168)]);if(_0x47dbaf)return console['log'](_0x579203(0x8c),_0x47dbaf['id']),this[_0x579203(0xe8)](_0x22f1ca,{..._0x1dbdac,'clientId':_0x47dbaf['id']});}return;}if(_0xedd59['length']<0x5){console['warn'](_0x579203(0xc7),_0xedd59);return;}const _0x3c91d9=this['getText'](_0x22f1ca,_0x1dbdac);if(!_0x3c91d9){console[_0x579203(0x11a)](_0x579203(0xce));return;}console[_0x579203(0xf9)]('[Notify]\x20Sending\x20to\x20GAS\x20for\x20'+_0xedd59+_0x579203(0x1ee)),DataManager['fetchFromServer'](_0x579203(0x207),{'chatId':_0xedd59,'text':_0x3c91d9})[_0x579203(0xe9)](_0x42cc78=>console[_0x579203(0xf9)](_0x579203(0xbf),_0x42cc78))[_0x579203(0x172)](_0x10fc8a=>console[_0x579203(0x11a)](_0x579203(0x18c),_0x10fc8a));}};function getLocalDateStr(_0x261571){const _0x53297=a2_0x28ad0a,_0x53edd1=_0x261571['getFullYear'](),_0x5e3522=String(_0x261571[_0x53297(0x1fd)]()+0x1)[_0x53297(0x20a)](0x2,'0'),_0x528b79=String(_0x261571[_0x53297(0xbd)]())['padStart'](0x2,'0');return _0x53edd1+'-'+_0x5e3522+'-'+_0x528b79;}function getDateStr(_0x2d8027){const _0x22ca49=a2_0x28ad0a,_0x50eb0f=new Date();return _0x50eb0f[_0x22ca49(0x1e6)](_0x50eb0f[_0x22ca49(0xbd)]()+_0x2d8027),getLocalDateStr(_0x50eb0f);}function getStartOfWeek(_0x16b89e){const _0x135ec7=a2_0x28ad0a,_0x40236b=new Date(_0x16b89e),_0x4abea1=_0x40236b[_0x135ec7(0x1f9)](),_0x1fe6f3=_0x40236b[_0x135ec7(0xbd)]()-_0x4abea1+(_0x4abea1===0x0?-0x6:0x1);return _0x40236b[_0x135ec7(0x1e6)](_0x1fe6f3),_0x40236b['setHours'](0x0,0x0,0x0,0x0),_0x40236b;}function hexToRgba(_0x5d86ad,_0x3a69ff){const _0x59085e=a2_0x28ad0a;if(!_0x5d86ad)return _0x59085e(0x16d);let _0x4feaf5=0x0,_0x1de367=0x0,_0x4bd657=0x0;if(_0x5d86ad[_0x59085e(0x1dc)]===0x4)_0x4feaf5='0x'+_0x5d86ad[0x1]+_0x5d86ad[0x1],_0x1de367='0x'+_0x5d86ad[0x2]+_0x5d86ad[0x2],_0x4bd657='0x'+_0x5d86ad[0x3]+_0x5d86ad[0x3];else _0x5d86ad[_0x59085e(0x1dc)]===0x7&&(_0x4feaf5='0x'+_0x5d86ad[0x1]+_0x5d86ad[0x2],_0x1de367='0x'+_0x5d86ad[0x3]+_0x5d86ad[0x4],_0x4bd657='0x'+_0x5d86ad[0x5]+_0x5d86ad[0x6]);return _0x59085e(0x1b8)+ +_0x4feaf5+',\x20'+ +_0x1de367+',\x20'+ +_0x4bd657+',\x20'+_0x3a69ff+')';}function renderTimeColumn(){const _0x2d4ff0=a2_0x28ad0a,_0x4531c3=document['getElementById'](_0x2d4ff0(0x107)),_0x1b6622=document[_0x2d4ff0(0x1ca)]('timeLineBadge');_0x4531c3[_0x2d4ff0(0x1e1)]='',_0x4531c3[_0x2d4ff0(0x160)](_0x1b6622);for(let _0x4105a1=0x0;_0x4105a1<0x18;_0x4105a1++){const _0x2507ec=document[_0x2d4ff0(0xd5)](_0x2d4ff0(0x140));_0x2507ec[_0x2d4ff0(0x162)]=_0x2d4ff0(0x13f);if(_0x4105a1>0x0)_0x2507ec[_0x2d4ff0(0x1e1)]=_0x2d4ff0(0x142)+String(_0x4105a1)[_0x2d4ff0(0x20a)](0x2,'0')+_0x2d4ff0(0x188);_0x4531c3['appendChild'](_0x2507ec);}}function renderDayRange(_0x2657c2,_0x2558d4){const _0xb34982=a2_0x28ad0a,_0x14d14b=document['getElementById'](_0xb34982(0x195)),_0x8233f3=document['getElementById'](_0xb34982(0x1a8)),_0x533fcc=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x54ee5d=new Date();_0x54ee5d['setHours'](0x0,0x0,0x0,0x0);const _0x2659b0=getLocalDateStr(new Date());for(let _0x40679c=_0x2657c2;_0x40679c<=_0x2558d4;_0x40679c++){const _0xe71d68=new Date(_0x54ee5d);_0xe71d68[_0xb34982(0x1e6)](_0xe71d68['getDate']()+_0x40679c);const _0x45a6f8=getLocalDateStr(_0xe71d68);let _0x1337e6=_0xe71d68['getDay']()-0x1;if(_0x1337e6===-0x1)_0x1337e6=0x6;const _0x57c2d0=_0x45a6f8===_0x2659b0,_0x6015b5=document[_0xb34982(0xd5)]('div');_0x6015b5[_0xb34982(0x162)]='day-col-header\x20'+(_0x57c2d0?_0xb34982(0x192):''),_0x6015b5['id']='header-'+_0x45a6f8,_0x6015b5[_0xb34982(0xcd)](_0xb34982(0x14c),_0x45a6f8),_0x6015b5[_0xb34982(0x1e1)]=_0xb34982(0x114)+_0x533fcc[_0x1337e6]+_0xb34982(0x13c)+_0xe71d68[_0xb34982(0xbd)]()+_0xb34982(0x1c6)+_0x45a6f8+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x6015b5['onclick']=()=>openDayOptions(_0x45a6f8,_0x533fcc[_0x1337e6]+'\x20'+_0xe71d68[_0xb34982(0xbd)]()),_0x14d14b[_0xb34982(0x160)](_0x6015b5);const _0x4b098a=document[_0xb34982(0xd5)]('div');_0x4b098a[_0xb34982(0x162)]=_0xb34982(0xad)+(_0x57c2d0?_0xb34982(0x192):''),_0x4b098a['setAttribute'](_0xb34982(0x14c),_0x45a6f8),_0x4b098a[_0xb34982(0xcd)](_0xb34982(0xb1),_0x1337e6),renderEventsForColumn(_0x4b098a,_0x45a6f8,_0x1337e6),attachLongPressHandler(_0x4b098a,_0xe71d68),_0x8233f3['appendChild'](_0x4b098a),updateDayStats(_0x45a6f8);}}function reRenderBlocks(){const _0x2e5d62=a2_0x28ad0a;document[_0x2e5d62(0x135)](_0x2e5d62(0xa4))[_0x2e5d62(0x171)](_0x2d5544=>{const _0x2e2ce3=_0x2e5d62;_0x2d5544[_0x2e2ce3(0x135)]('.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card')[_0x2e2ce3(0x171)](_0x2e98a9=>_0x2e98a9[_0x2e2ce3(0x12d)]());const _0x2dc9b2=_0x2d5544[_0x2e2ce3(0x1d5)]('data-date'),_0x17ceac=parseInt(_0x2d5544[_0x2e2ce3(0x1d5)](_0x2e2ce3(0xb1))),_0x4e8112=Math[_0x2e2ce3(0xc4)](_0x2d5544[_0x2e2ce3(0x1b5)]);(availabilityPattern[_0x17ceac]||[])[_0x2e2ce3(0x171)](_0x3e1c80=>{const _0x40dcd8=_0x2e2ce3,_0x5ddbdf=document['createElement'](_0x40dcd8(0x140));_0x5ddbdf[_0x40dcd8(0x162)]=_0x40dcd8(0x1bc);const _0x203af1=_0x3e1c80*GRID_H;_0x5ddbdf[_0x40dcd8(0x153)][_0x40dcd8(0xb9)]=_0x203af1+'px',_0x5ddbdf['style'][_0x40dcd8(0x96)]='-'+_0x4e8112+_0x40dcd8(0xa8)+_0x203af1+'px',_0x2d5544[_0x40dcd8(0x160)](_0x5ddbdf);});if(specialRanges&&specialRanges[_0x2e2ce3(0x1dc)]>0x0){const _0x7adbbc=new Date(_0x2dc9b2+'T00:00:00')['getTime'](),_0x217c1a=new Date(_0x2dc9b2+'T23:59:59')[_0x2e2ce3(0xd7)]();specialRanges[_0x2e2ce3(0x171)](_0x4575ec=>{const _0x2590f7=_0x2e2ce3,_0x56401a=new Date(_0x4575ec[_0x2590f7(0xc6)])['getTime'](),_0x320150=new Date(_0x4575ec['end'])[_0x2590f7(0xd7)](),_0x47f060=Math['max'](_0x7adbbc,_0x56401a),_0xc6124e=Math[_0x2590f7(0x13e)](_0x217c1a,_0x320150);if(_0x47f060<_0xc6124e){if(_0x47f060<=_0x7adbbc&&_0xc6124e>=_0x217c1a-0xea60){if(!_0x2d5544[_0x2590f7(0x1f1)](_0x2590f7(0x145))){const _0x257da9=document[_0x2590f7(0xd5)](_0x2590f7(0x140));_0x257da9[_0x2590f7(0x162)]=_0x2590f7(0x1be),_0x257da9['style'][_0x2590f7(0x96)]='-'+_0x4e8112+'px\x200px',_0x2d5544['appendChild'](_0x257da9);}}else{const _0x590af1=(_0x47f060-_0x7adbbc)/0x36ee80*GRID_H,_0x5cf121=(_0xc6124e-_0x47f060)/0x36ee80*GRID_H,_0x4b3b6f=document[_0x2590f7(0xd5)]('div');_0x4b3b6f[_0x2590f7(0x162)]='blocked-range-part\x20stripe-bg',_0x4b3b6f[_0x2590f7(0x153)][_0x2590f7(0xb9)]=_0x590af1+'px',_0x4b3b6f[_0x2590f7(0x153)][_0x2590f7(0xb0)]=_0x5cf121+'px',_0x4b3b6f[_0x2590f7(0x153)]['backgroundPosition']='-'+_0x4e8112+'px\x20-'+_0x590af1+'px',_0x2d5544[_0x2590f7(0x160)](_0x4b3b6f);}}});}if(dateExceptions[_0x2dc9b2]==='off'){if(!_0x2d5544[_0x2e2ce3(0x1f1)](_0x2e2ce3(0x145))){const _0x3d6189=document[_0x2e2ce3(0xd5)](_0x2e2ce3(0x140));_0x3d6189[_0x2e2ce3(0x162)]=_0x2e2ce3(0x1be),_0x3d6189['style'][_0x2e2ce3(0x96)]='-'+_0x4e8112+'px\x200px',_0x2d5544[_0x2e2ce3(0x160)](_0x3d6189);}}renderEventsForColumn(_0x2d5544,_0x2dc9b2,_0x17ceac),updateDayStats(_0x2dc9b2);});}function updateAllDayStats(){const _0x23a47f=a2_0x28ad0a;document[_0x23a47f(0x135)]('.day-col-header')[_0x23a47f(0x171)](_0xde0d0b=>{const _0x3be941=_0x23a47f;updateDayStats(_0xde0d0b[_0x3be941(0x1d5)]('data-date'));});}function updateDayStats(_0x378f6e){const _0x2289cf=a2_0x28ad0a,_0x57e4ac=document[_0x2289cf(0x1ca)](_0x2289cf(0x14e)+_0x378f6e);if(!_0x57e4ac)return;const _0x41d31b=new Date(_0x378f6e);let _0x397f46=_0x41d31b[_0x2289cf(0x1f9)]()-0x1;if(_0x397f46===-0x1)_0x397f46=0x6;if(dateExceptions[_0x378f6e]==='off'){_0x57e4ac['style']['display']=_0x2289cf(0x9c);return;}const _0x36f3fb=availabilityPattern[_0x397f46]||[],_0x7c2570=0x18-_0x36f3fb[_0x2289cf(0x1dc)],_0x45e38d=_0x7c2570*0x3c,_0x5ba9e4=sessions[_0x2289cf(0x1d9)](_0x547209=>_0x547209['dateStr']===_0x378f6e&&_0x547209[_0x2289cf(0x110)]!==_0x2289cf(0x1bd));if(_0x5ba9e4[_0x2289cf(0x1dc)]===0x0){_0x57e4ac[_0x2289cf(0x153)][_0x2289cf(0x111)]=_0x2289cf(0x9c);return;}let _0x4007e9=_0x5ba9e4[_0x2289cf(0xe0)](_0x17a7d2=>{const _0x1d2d9b=_0x2289cf,[_0xbe1c5d,_0x40fff9]=_0x17a7d2[_0x1d2d9b(0xc6)][_0x1d2d9b(0xe7)](':')[_0x1d2d9b(0xe0)](Number),[_0x31bf08,_0x8cc745]=_0x17a7d2[_0x1d2d9b(0x150)][_0x1d2d9b(0xe7)](':')[_0x1d2d9b(0xe0)](Number);return[_0xbe1c5d*0x3c+_0x40fff9,_0x31bf08*0x3c+_0x8cc745];});_0x4007e9['sort']((_0x2d53a2,_0x262525)=>_0x2d53a2[0x0]-_0x262525[0x0]);let _0x68a3b7=[];if(_0x4007e9['length']>0x0){let _0x986d87=_0x4007e9[0x0];for(let _0x2ebfc9=0x1;_0x2ebfc9<_0x4007e9[_0x2289cf(0x1dc)];_0x2ebfc9++){_0x4007e9[_0x2ebfc9][0x0]<_0x986d87[0x1]?_0x986d87[0x1]=Math[_0x2289cf(0x15c)](_0x986d87[0x1],_0x4007e9[_0x2ebfc9][0x1]):(_0x68a3b7[_0x2289cf(0x205)](_0x986d87),_0x986d87=_0x4007e9[_0x2ebfc9]);}_0x68a3b7['push'](_0x986d87);}let _0x2d4d6f=0x0;_0x68a3b7[_0x2289cf(0x171)](_0xd92058=>_0x2d4d6f+=_0xd92058[0x1]-_0xd92058[0x0]),_0x57e4ac['style']['display']='flex';const _0x239a78=_0x57e4ac['querySelector'](_0x2289cf(0x101));if(_0x45e38d===0x0){_0x239a78[_0x2289cf(0x153)]['width']=_0x2289cf(0x186),_0x239a78[_0x2289cf(0x153)][_0x2289cf(0xd6)]=_0x2289cf(0x93);return;}const _0x543f16=_0x2d4d6f/_0x45e38d*0x64;console['log']('['+_0x378f6e+']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20'+_0x7c2570+_0x2289cf(0xf0)+_0x2d4d6f+_0x2289cf(0xf1)+_0x543f16[_0x2289cf(0x124)](0x1)+'%'),_0x543f16>0x64?(_0x239a78[_0x2289cf(0x153)][_0x2289cf(0x13b)]=_0x2289cf(0x186),_0x239a78[_0x2289cf(0x153)][_0x2289cf(0xd6)]=_0x2289cf(0x93)):(_0x239a78[_0x2289cf(0x153)][_0x2289cf(0x13b)]=_0x543f16+'%',_0x239a78['style']['background']=_0x2289cf(0x173));}function renderEventsForColumn(_0x5e5104,_0x5891c2,_0x4c493b){const _0x4b987c=a2_0x28ad0a,_0x35c980=sessions['filter'](_0x33457c=>_0x33457c[_0x4b987c(0xc8)]===_0x5891c2),_0x424fad=_0x35c980['map'](_0x40591b=>{const _0x5b799b=_0x4b987c,[_0x5e32e8,_0x193f89]=_0x40591b[_0x5b799b(0xc6)][_0x5b799b(0xe7)](':')['map'](Number),[_0x4cfee2,_0x2b8d15]=_0x40591b[_0x5b799b(0x150)][_0x5b799b(0xe7)](':')[_0x5b799b(0xe0)](Number);return{'data':_0x40591b,'start':_0x5e32e8*0x3c+_0x193f89,'end':_0x4cfee2*0x3c+_0x2b8d15,'colIndex':0x0};});_0x424fad['sort']((_0xcd67af,_0x3b7886)=>{const _0x262cd1=_0x4b987c;if(_0xcd67af[_0x262cd1(0xc6)]!==_0x3b7886[_0x262cd1(0xc6)])return _0xcd67af[_0x262cd1(0xc6)]-_0x3b7886[_0x262cd1(0xc6)];return _0x3b7886[_0x262cd1(0x150)]-_0x3b7886[_0x262cd1(0xc6)]-(_0xcd67af['end']-_0xcd67af[_0x262cd1(0xc6)]);});const _0x243278=[];_0x424fad['forEach'](_0x5b09=>{const _0x5da7e3=_0x4b987c;let _0x34c6ac=![];for(let _0xca9802=0x0;_0xca9802<_0x243278[_0x5da7e3(0x1dc)];_0xca9802++){const _0x40e53c=_0x243278[_0xca9802],_0x4cc612=_0x40e53c[_0x40e53c[_0x5da7e3(0x1dc)]-0x1];if(_0x5b09[_0x5da7e3(0xc6)]>=_0x4cc612[_0x5da7e3(0x150)]){_0x40e53c[_0x5da7e3(0x205)](_0x5b09),_0x5b09['colIndex']=_0xca9802,_0x34c6ac=!![];break;}}!_0x34c6ac&&(_0x243278[_0x5da7e3(0x205)]([_0x5b09]),_0x5b09[_0x5da7e3(0x206)]=_0x243278[_0x5da7e3(0x1dc)]-0x1);}),_0x424fad[_0x4b987c(0x171)](_0x285284=>{const _0x49346b=_0x4b987c;let _0x1f625e=0x0;_0x424fad[_0x49346b(0x171)](_0x18138d=>{const _0x386ba2=_0x49346b;if(Math[_0x386ba2(0x15c)](_0x285284[_0x386ba2(0xc6)],_0x18138d[_0x386ba2(0xc6)])<Math['min'](_0x285284[_0x386ba2(0x150)],_0x18138d[_0x386ba2(0x150)])){if(_0x18138d[_0x386ba2(0x206)]>_0x1f625e)_0x1f625e=_0x18138d['colIndex'];}});const _0x4166b8=_0x1f625e+0x1,_0x496cae=0x64/_0x4166b8,_0x621255=_0x285284['colIndex']*_0x496cae,_0x305af8=createEventEl(_0x285284['data']);_0x305af8[_0x49346b(0x153)][_0x49346b(0x13b)]=_0x49346b(0xc1)+_0x496cae+_0x49346b(0x18b),_0x305af8[_0x49346b(0x153)][_0x49346b(0xcb)]=_0x49346b(0xc1)+_0x621255+_0x49346b(0xfd),_0x305af8[_0x49346b(0x153)][_0x49346b(0xfc)]=0xa+_0x285284[_0x49346b(0x206)],_0x496cae<0x55&&_0x305af8[_0x49346b(0xab)][_0x49346b(0x200)]('mini'),_0x5e5104[_0x49346b(0x160)](_0x305af8);});}function createEventEl(_0x53000d){const _0x18a077=a2_0x28ad0a,[_0x35e902,_0x44554c]=_0x53000d[_0x18a077(0xc6)][_0x18a077(0xe7)](':')['map'](Number),[_0x23f08b,_0x204bd4]=_0x53000d[_0x18a077(0x150)][_0x18a077(0xe7)](':')[_0x18a077(0xe0)](Number),_0x27e288=(_0x35e902*0x3c+_0x44554c)/0x3c*GRID_H,_0x2e5fbd=(_0x23f08b*0x3c+_0x204bd4-(_0x35e902*0x3c+_0x44554c))/0x3c*GRID_H,_0x205f6d=document[_0x18a077(0xd5)]('div'),_0x5bd16e=_0x53000d[_0x18a077(0x110)]===_0x18a077(0xee)?_0x18a077(0xd4):'';_0x205f6d[_0x18a077(0x162)]='event-card'+_0x5bd16e,_0x205f6d[_0x18a077(0x153)][_0x18a077(0xb9)]=_0x27e288+'px',_0x205f6d[_0x18a077(0x153)]['height']=Math[_0x18a077(0x15c)](_0x2e5fbd,0x14)+'px';const _0x5499ef=clients[_0x18a077(0x178)](_0x308fa4=>_0x53000d[_0x18a077(0xcf)]&&String(_0x308fa4['id'])===String(_0x53000d[_0x18a077(0xcf)])||_0x308fa4[_0x18a077(0x1b9)]===_0x53000d[_0x18a077(0x168)]),_0x16cc38=_0x5499ef?_0x5499ef[_0x18a077(0x19c)]:_0x18a077(0x1cc);_0x205f6d[_0x18a077(0x153)][_0x18a077(0xba)]=_0x16cc38,_0x205f6d['style'][_0x18a077(0x19f)]=hexToRgba(_0x16cc38,0.85);let _0x39c87c=_0x18a077(0x1b6)+_0x53000d[_0x18a077(0x168)]+_0x18a077(0x120)+_0x53000d[_0x18a077(0xc6)]+'\x20-\x20'+_0x53000d[_0x18a077(0x150)]+'</div>';return _0x53000d[_0x18a077(0x11f)]&&(_0x39c87c+=_0x18a077(0xe3)),_0x53000d['status']==='completed'&&(_0x39c87c+='<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>'),_0x205f6d[_0x18a077(0x1e1)]=_0x39c87c,_0x205f6d['onclick']=_0x5d919f=>{const _0x4d8c57=_0x18a077;_0x5d919f[_0x4d8c57(0x1f7)](),openEdit(_0x53000d);},_0x205f6d;}function attachLongPressHandler(_0x1a958e,_0x59116f){const _0x1ad5e1=a2_0x28ad0a;let _0x5f2161=0x0,_0x23016b=null;const _0x3d6ae5=_0x391dcd=>{const _0x39926b=a2_0x1477;if(_0x391dcd[_0x39926b(0xd3)][_0x39926b(0x16a)](_0x39926b(0x130)))return;isScrolling=![],_0x5f2161=_0x391dcd['touches']?_0x391dcd['touches'][0x0][_0x39926b(0x1c0)]:_0x391dcd[_0x39926b(0x1c0)],_0x23016b=setTimeout(()=>{const _0x3b7c9e=_0x39926b;if(!isScrolling){navigator[_0x3b7c9e(0xbc)]?.(0x32);const _0x26fe97=_0x1a958e[_0x3b7c9e(0xcc)](),_0x1d6a32=Math[_0x3b7c9e(0x169)]((_0x5f2161-_0x26fe97[_0x3b7c9e(0xb9)])/GRID_H);_0x59116f[_0x3b7c9e(0xb3)](_0x1d6a32,0x0),openAddSession(_0x59116f);}},0x1f4);},_0x1ad732=()=>{isScrolling=!![],clearTimeout(_0x23016b);},_0x5e4b25=()=>{clearTimeout(_0x23016b);};_0x1a958e[_0x1ad5e1(0x1b3)](_0x1ad5e1(0xd1),_0x3d6ae5,{'passive':!![]}),_0x1a958e[_0x1ad5e1(0x1b3)](_0x1ad5e1(0xea),_0x1ad732,{'passive':!![]}),_0x1a958e[_0x1ad5e1(0x1b3)](_0x1ad5e1(0x17e),_0x5e4b25),_0x1a958e[_0x1ad5e1(0x1b3)]('mousedown',_0x3d6ae5),_0x1a958e[_0x1ad5e1(0x1b3)]('mousemove',_0x1ad732),_0x1a958e[_0x1ad5e1(0x1b3)](_0x1ad5e1(0x201),_0x5e4b25);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x30f983=a2_0x28ad0a,_0x47859c=document['getElementById'](_0x30f983(0x1ef)),_0x5ba168=_0x47859c[_0x30f983(0x1b7)],_0x40a288=_0x47859c[_0x30f983(0x14f)],_0x1037ba=_0x47859c[_0x30f983(0x1f0)];if(_0x40a288-(_0x5ba168+_0x1037ba)<0x12c){const _0x259f07=endOffset;endOffset+=0xe,renderDayRange(_0x259f07+0x1,endOffset),reRenderBlocks();}if(_0x5ba168<0x12c){const _0x42a417=startOffset;startOffset-=0xe,prependDays(startOffset,_0x42a417-0x1),_0x47859c[_0x30f983(0x1b7)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x15a91f,_0xe2e246){const _0x146af8=a2_0x28ad0a,_0x3799c1=document['getElementById'](_0x146af8(0x195)),_0x64274b=document['getElementById'](_0x146af8(0x1a8)),_0x2927d0=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x5f49ee=new Date();_0x5f49ee[_0x146af8(0xb3)](0x0,0x0,0x0,0x0);const _0x5ac6fc=getLocalDateStr(new Date()),_0x325cba=document[_0x146af8(0x109)](),_0xd0a4b7=document[_0x146af8(0x109)]();for(let _0x2db7b0=_0x15a91f;_0x2db7b0<=_0xe2e246;_0x2db7b0++){const _0xa34cb=new Date(_0x5f49ee);_0xa34cb['setDate'](_0xa34cb[_0x146af8(0xbd)]()+_0x2db7b0);const _0x871689=getLocalDateStr(_0xa34cb);let _0x4a5400=_0xa34cb['getDay']()-0x1;if(_0x4a5400===-0x1)_0x4a5400=0x6;const _0x3d8bc9=_0x871689===_0x5ac6fc,_0x2780bf=document[_0x146af8(0xd5)]('div');_0x2780bf[_0x146af8(0x162)]=_0x146af8(0x141)+(_0x3d8bc9?_0x146af8(0x192):''),_0x2780bf['id']=_0x146af8(0x127)+_0x871689,_0x2780bf[_0x146af8(0xcd)](_0x146af8(0x14c),_0x871689),_0x2780bf[_0x146af8(0x1e1)]=_0x146af8(0x114)+_0x2927d0[_0x4a5400]+_0x146af8(0x13c)+_0xa34cb[_0x146af8(0xbd)]()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0x871689+_0x146af8(0x1b0),_0x2780bf[_0x146af8(0x10a)]=()=>openDayOptions(_0x871689,_0x2927d0[_0x4a5400]+'\x20'+_0xa34cb[_0x146af8(0xbd)]()),_0x325cba[_0x146af8(0x160)](_0x2780bf);const _0x5e79ab=document['createElement'](_0x146af8(0x140));_0x5e79ab[_0x146af8(0x162)]='day-column\x20'+(_0x3d8bc9?_0x146af8(0x192):''),_0x5e79ab[_0x146af8(0xcd)](_0x146af8(0x14c),_0x871689),_0x5e79ab[_0x146af8(0xcd)](_0x146af8(0xb1),_0x4a5400),renderEventsForColumn(_0x5e79ab,_0x871689,_0x4a5400),attachLongPressHandler(_0x5e79ab,_0xa34cb),_0xd0a4b7[_0x146af8(0x160)](_0x5e79ab),updateDayStats(_0x871689);}_0x3799c1[_0x146af8(0x1a9)](_0x325cba,_0x3799c1[_0x146af8(0x180)]),_0x64274b[_0x146af8(0x1a9)](_0xd0a4b7,_0x64274b['querySelector']('.day-column'));}function validateAppointment(_0x2dea90,_0x306f5d,_0x41fd2a,_0x5985cd,_0x593041){const _0x21aea0=a2_0x28ad0a,[_0x2321ab,_0x25e8ff]=_0x306f5d['split'](':')['map'](Number),[_0x2cca9b,_0x32686e]=_0x41fd2a[_0x21aea0(0xe7)](':')[_0x21aea0(0xe0)](Number),_0x3d45dc=_0x2321ab*0x3c+_0x25e8ff,_0x1c799f=_0x2cca9b*0x3c+_0x32686e,_0x2572ef=String(_0x593041);let _0x2bf31b=![],_0x58abfa='';for(let _0x50af3a of sessions){if(_0x50af3a[_0x21aea0(0xc8)]!==_0x2dea90)continue;if(_0x50af3a[_0x21aea0(0x110)]===_0x21aea0(0x1bd))continue;if(_0x5985cd&&String(_0x50af3a['id'])===String(_0x5985cd))continue;const [_0x4d8179,_0x424f30]=_0x50af3a[_0x21aea0(0xc6)][_0x21aea0(0xe7)](':')[_0x21aea0(0xe0)](Number),[_0x5b00e2,_0xf5397e]=_0x50af3a['end'][_0x21aea0(0xe7)](':')['map'](Number),_0x410435=_0x4d8179*0x3c+_0x424f30,_0x23aed0=_0x5b00e2*0x3c+_0xf5397e;if(Math[_0x21aea0(0x15c)](_0x3d45dc,_0x410435)<Math[_0x21aea0(0x13e)](_0x1c799f,_0x23aed0)){if(_0x50af3a[_0x21aea0(0xcf)]&&String(_0x50af3a[_0x21aea0(0xcf)])===_0x2572ef)return{'valid':![],'msg':_0x21aea0(0x18f)+_0x50af3a[_0x21aea0(0x168)]+_0x21aea0(0xd8)};_0x2bf31b=!![],_0x58abfa=_0x50af3a[_0x21aea0(0x168)];}}if(_0x2bf31b)return{'valid':!![],'warning':'–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20'+_0x58abfa};return{'valid':!![]};}function updateDateDisplay(){const _0x3d3881=a2_0x28ad0a,_0x5def71=document['getElementById'](_0x3d3881(0x16c))[_0x3d3881(0x1e0)],_0x67aed7=document['getElementById']('sheetDateSubtitle');if(!_0x5def71){_0x67aed7[_0x3d3881(0x125)]='';return;}const [_0x46d57f,_0x1997b8,_0x4218ee]=_0x5def71[_0x3d3881(0xe7)]('-')[_0x3d3881(0xe0)](Number),_0x61d1d5=new Date(_0x46d57f,_0x1997b8-0x1,_0x4218ee),_0x13a4ab={'weekday':_0x3d3881(0x1a0),'day':'numeric','month':_0x3d3881(0x1a0),'year':_0x3d3881(0xac)};let _0x40281b=_0x61d1d5[_0x3d3881(0x8f)]('ru-RU',_0x13a4ab);_0x40281b=_0x40281b[_0x3d3881(0xa7)](0x0)[_0x3d3881(0xfe)]()+_0x40281b['slice'](0x1),_0x67aed7[_0x3d3881(0x125)]=_0x40281b;}function a2_0xe1a6(){const _0x5d5e5f=['POST','getAttribute','WebApp','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','asBtnOne','filter','analyticsSheet','complete','length','includes','var(--acc-orange)','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','value','innerHTML','now','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','Save\x20settings\x20error:','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','setDate','anEnd','btnDayToggle','search','Unknown','router.html','uc_settings_cancel_window','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','...','matrixViewport','clientWidth','querySelector','success','ready','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','uc_settings_v9','11531064UYdUaw','stopPropagation','update','getDay','as-button\x20danger\x20bold','.pib-text','DOMContentLoaded','getMonth','btn-primary\x20btn-danger','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','add','mouseup','Batch\x20Sync\x20OK','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','active','push','colIndex','send_notification','sheetTitle','btnDelete','padStart','\x20–∏–∑\x20','sid','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è',':00','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','slice','toLocaleDateString','sessionSheet','as-button\x20danger','settingCancelWindow','var(--acc-red)','timeLineBadge','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','backgroundPosition','toast-notification\x20','off','client-stat-card','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','none','inpSeriesCount','[Series]\x20Skipped\x20','\x20-\x20','actionSheetOverlay','Telegram',']\x20Failed:','10px','#gridColumns\x20.day-column','de-item','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','charAt','px\x20-','saveLocally','single','classList','numeric','day-column\x20','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','week','height','data-day-idx','–£—Å–ø–µ—à–Ω–æ','setHours','anTotalStats','deleted','00:00','exceptions','#050505','top','borderLeftColor','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','vibrate','getDate','overlay','[Notify]\x20Server\x20Response:','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','calc(','done','text/plain;charset=UTF-8','round','anCustomDates','start','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','dateStr','inpEnd','total','left','getBoundingClientRect','setAttribute','[Notify]\x20Error:\x20Text\x20generation\x20failed','clientId','undefined','touchstart','btnStatusToggle','target','\x20status-completed','createElement','background','getTime',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','getHours','inpNote','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','clients','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','ru-RU','map','indexOf','</span>\x20/\x20','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','stringify','cancel_window','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','split','send','then','touchmove','series','checked','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','completed','null','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','msg','anPercent','setHeaderColor','toString','random','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','log','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','block','zIndex','%\x20+\x202px)','toUpperCase','BackButton','formatDate','.dch-stats-fill','localeCompare','analyticsList','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','batch_sync','anStart','timeColumn','[Notify]\x20Error:\x20sessionData\x20is\x20null','createDocumentFragment','onclick','save','toast','guest','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','var(--acc-green)','status','display','sort','setBackgroundColor','<div\x20class=\x22dch-day\x22>','btn-status-toggle\x20undo-mode','dayOptionsTitle','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','findIndex','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','error','syncLoad','–£–¥–∞–ª–µ–Ω–∏–µ','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','51236840BSssSs','seriesId','</div><div\x20class=\x22ev-time\x22>',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','initDataUnsafe','90771DJrTGX','toFixed','textContent','<b>‚úÖ\x20','header-','dayOptionsSheet','pe-time-label','1437066KCWlpZ','pe-corner','Error\x20setting\x20color:','remove','href','Error\x20setting\x20back\x20button:','.event-card','inpStart','doEventsList','148vWwVNo','getFullYear','querySelectorAll','parse','doWorkHours','getItem','inpClient','Local\x20Save\x20Error','width','</div><div\x20class=\x22dch-num\x22>','rgba(255,255,255,0.05)','min','time-label','div','day-col-header\x20','<span>','10px\x2010px\x200\x200','option','.day-off-overlay','2837310ArvSUf','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','strokeDashoffset','(((.+)+)+)+$','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','data-date','rangeEndTime','stat-','scrollWidth','end','settingsSheet','doBusyHours','style','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','rgba(255,\x2069,\x2058,\x200.3)','from','offClick','uc_clients_v9','onClick','[Notify]\x20Attempting\x20to\x20send:','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','max','rangeStartTime','asBtnSeries','scrollTop','appendChild','delete','className','splice','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','create','rangesSheet','client','floor','closest','[Sync]\x20Loading\x20','inpDate','rgba(100,100,100,0.5)','borderRadius','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','#fff','forEach','catch','var(--acc-current)','5xTRdjs','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','cancel','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','find','entries','calendar','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','rangesList','touchend','7fSZHHe','firstChild','planned','patternInfoBox','constructor','uc_sessions_v9','flex','100%','startsWith',':00</span>','v9.0-BATCH-CALENDAR','headerMonth','%\x20-\x204px)','[Notify]\x20Network\x20Failed','text','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','[Notify]\x20Detected\x20Client\x20ID:','show','today','inpRecurring','substr','daysHeaderTrack','patternEditor','loadLocal','settings','\x20days','custom','warning','color','1196446jxUwOF','.day-col-header','backgroundColor','long','getMinutes','actionSheet','note','offsetWidth','anDonutCircle','save_settings','apply','gridColumns','insertBefore','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','user','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','toLocaleString','setItem','open','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','pe-cell\x20','[Settings]\x20Cancel\x20window\x20set\x20to:','addEventListener','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','offsetLeft','<div\x20class=\x22ev-title\x22>','scrollLeft','rgba(','name','Local\x20Load\x20Error','ranges','blocked-slot\x20stripe-bg','cancelled','day-off-overlay\x20stripe-bg','doLoadPercent','clientY','valid','pattern','statLoadCard','seriesCountContainer','\x20‚Äî\x20','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','range-item','disableVerticalSwipes','recurringOptionContainer','getElementById','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','#0a84ff','12564585wrMifw','btn-primary\x20btn-secondary','fetchFromServer','rangeEndDate','all','mergeServerData','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>'];a2_0xe1a6=function(){return _0x5d5e5f;};return a2_0xe1a6();}function autoSetEndTime(){const _0x1da2f8=a2_0x28ad0a,_0xd7e286=document[_0x1da2f8(0x1ca)](_0x1da2f8(0x131))[_0x1da2f8(0x1e0)];if(!_0xd7e286)return;const [_0x5dc7aa,_0x2aacc7]=_0xd7e286[_0x1da2f8(0xe7)](':')['map'](Number);let _0x18c1fe=_0x5dc7aa+0x1;if(_0x18c1fe>0x17)_0x18c1fe=0x0;const _0x6f6b4d=String(_0x18c1fe)[_0x1da2f8(0x20a)](0x2,'0')+':'+String(_0x2aacc7)[_0x1da2f8(0x20a)](0x2,'0');document[_0x1da2f8(0x1ca)](_0x1da2f8(0xc9))[_0x1da2f8(0x1e0)]=_0x6f6b4d;}function populateClientSelect(){const _0x1c406f=a2_0x28ad0a,_0x13d726=document[_0x1c406f(0x1ca)](_0x1c406f(0x139));_0x13d726[_0x1c406f(0x1e1)]='';if(clients[_0x1c406f(0x1dc)]===0x0){const _0xff5460=document['createElement'](_0x1c406f(0x144));_0xff5460[_0x1c406f(0x18d)]=_0x1c406f(0xf7),_0x13d726[_0x1c406f(0x160)](_0xff5460);return;}clients[_0x1c406f(0x171)](_0x191318=>{const _0x575d02=_0x1c406f,_0xaf4da1=document[_0x575d02(0xd5)]('option');_0xaf4da1['value']=_0x191318[_0x575d02(0x1b9)],_0xaf4da1['textContent']=_0x191318[_0x575d02(0x1b9)],_0x13d726[_0x575d02(0x160)](_0xaf4da1);});}function openActionSheet(_0x9e6043){const _0x44986d=a2_0x28ad0a,_0x3cbdc7=document[_0x44986d(0x1ca)](_0x44986d(0x1a2)),_0x1c1ba2=document[_0x44986d(0x1ca)](_0x44986d(0xa0)),_0x2fef49=document[_0x44986d(0x1ca)]('asTitle'),_0x5d36c7=document[_0x44986d(0x1ca)](_0x44986d(0x1d8)),_0x3b9876=document[_0x44986d(0x1ca)](_0x44986d(0x15e));_0x1c1ba2[_0x44986d(0xab)][_0x44986d(0x200)]('active'),_0x3cbdc7[_0x44986d(0xab)][_0x44986d(0x200)](_0x44986d(0x1af));if(_0x9e6043===_0x44986d(0x10b))_0x2fef49[_0x44986d(0x125)]=_0x44986d(0x15b),_0x5d36c7[_0x44986d(0x125)]='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x5d36c7[_0x44986d(0x10a)]=()=>{const _0x73bb5b=_0x44986d;closeActionSheet(),updateSeriesBatch(_0x73bb5b(0xaa),tempSessionData);},_0x3b9876[_0x44986d(0x125)]='–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ',_0x3b9876[_0x44986d(0x10a)]=()=>{closeActionSheet(),updateSeriesBatch('series',tempSessionData);};else _0x9e6043===_0x44986d(0x161)&&(_0x2fef49[_0x44986d(0x125)]=_0x44986d(0x11c),_0x5d36c7['textContent']='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x5d36c7[_0x44986d(0x162)]=_0x44986d(0x91),_0x5d36c7['onclick']=()=>{const _0x163d97=_0x44986d;closeActionSheet(),commitDelete('single',sessions[_0x163d97(0x178)](_0x27cfed=>_0x27cfed['id']===editingId));},_0x3b9876[_0x44986d(0x125)]=_0x44986d(0x14b),_0x3b9876[_0x44986d(0x162)]=_0x44986d(0x1fa),_0x3b9876[_0x44986d(0x10a)]=()=>{const _0x2181a3=_0x44986d;closeActionSheet(),commitDelete('series',sessions[_0x2181a3(0x178)](_0x58c0dd=>_0x58c0dd['id']===editingId));});}function closeActionSheet(){const _0x4635de=a2_0x28ad0a;document[_0x4635de(0x1ca)](_0x4635de(0x1a2))[_0x4635de(0xab)][_0x4635de(0x12d)]('open'),document[_0x4635de(0x1ca)](_0x4635de(0xa0))[_0x4635de(0xab)]['remove'](_0x4635de(0x204));}function openSettings(){const _0x81812e=a2_0x28ad0a;openSheet(_0x81812e(0x151));}function saveCoachSettings(){const _0x3924f2=a2_0x28ad0a,_0x5051da=document[_0x3924f2(0x1ca)](_0x3924f2(0x92))[_0x3924f2(0x1e0)];localStorage['setItem'](_0x3924f2(0x1ec),_0x5051da),console[_0x3924f2(0xf9)](_0x3924f2(0x1b2),_0x5051da),DataManager[_0x3924f2(0x1cf)](_0x3924f2(0x1a6),{'settings':{'cancel_window':_0x5051da}})['catch'](_0x12681e=>{const _0x111608=_0x3924f2;console[_0x111608(0x11a)](_0x111608(0x1e4),_0x12681e),showToast(_0x111608(0x1b4),![]);});}function loadCoachSettings(){const _0x598fc1=a2_0x28ad0a,_0x2a4965=localStorage[_0x598fc1(0x138)](_0x598fc1(0x1ec));_0x2a4965&&(document[_0x598fc1(0x1ca)](_0x598fc1(0x92))['value']=_0x2a4965);}function openRangesSheet(){const _0x3573ba=a2_0x28ad0a;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x3573ba(0x167));}function addRange(){const _0x28cb25=a2_0x28ad0a,_0x20039a=document['getElementById']('rangeStartDate')[_0x28cb25(0x1e0)],_0x3981dd=document[_0x28cb25(0x1ca)]('rangeStartTime')[_0x28cb25(0x1e0)],_0x4d2680=document[_0x28cb25(0x1ca)](_0x28cb25(0x1d0))['value'],_0x428baf=document['getElementById']('rangeEndTime')['value'];if(!_0x20039a||!_0x3981dd||!_0x4d2680||!_0x428baf)return alert(_0x28cb25(0x20d));const _0x561685=_0x20039a+'T'+_0x3981dd,_0x4af216=_0x4d2680+'T'+_0x428baf;if(_0x561685>=_0x4af216)return alert(_0x28cb25(0x1e3));specialRanges[_0x28cb25(0x205)]({'start':_0x561685,'end':_0x4af216}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x28cb25(0xa9)](),DataManager['fetchFromServer'](_0x28cb25(0x1a6),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x32aacb){const _0x3ef891=a2_0x28ad0a;specialRanges[_0x3ef891(0x163)](_0x32aacb,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x3ef891(0xa9)](),DataManager[_0x3ef891(0x1cf)](_0x3ef891(0x1a6),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x14a441=a2_0x28ad0a;document[_0x14a441(0x1ca)]('rangeStartDate')[_0x14a441(0x1e0)]='',document['getElementById'](_0x14a441(0x15d))[_0x14a441(0x1e0)]=_0x14a441(0xb6),document[_0x14a441(0x1ca)](_0x14a441(0x1d0))[_0x14a441(0x1e0)]='',document[_0x14a441(0x1ca)](_0x14a441(0x14d))['value']='23:59';}function a2_0x1477(_0x44c15c,_0xb91d1c){_0x44c15c=_0x44c15c-0x8c;const _0x234e1e=a2_0xe1a6();let _0x26df07=_0x234e1e[_0x44c15c];return _0x26df07;}function renderRangesList(){const _0x286f7f=a2_0x28ad0a,_0x365bc8=document[_0x286f7f(0x1ca)](_0x286f7f(0x17d));_0x365bc8['innerHTML']='';if(!specialRanges['length']){_0x365bc8[_0x286f7f(0x1e1)]=_0x286f7f(0x1df);return;}specialRanges[_0x286f7f(0x171)]((_0x10be3a,_0x4bc759)=>{const _0x567776=_0x286f7f,_0x121fe1=document[_0x567776(0xd5)](_0x567776(0x140));_0x121fe1[_0x567776(0x162)]=_0x567776(0x1c7);const _0x2e39d3=_0x488699=>{const _0x3f073b=_0x567776,_0x4880e9=new Date(_0x488699);return _0x4880e9[_0x3f073b(0xbd)]()+'.'+String(_0x4880e9[_0x3f073b(0x1fd)]()+0x1)[_0x3f073b(0x20a)](0x2,'0')+'\x20'+String(_0x4880e9[_0x3f073b(0xd9)]())[_0x3f073b(0x20a)](0x2,'0')+':'+String(_0x4880e9[_0x3f073b(0x1a1)]())[_0x3f073b(0x20a)](0x2,'0');};_0x121fe1[_0x567776(0x1e1)]=_0x567776(0x9a)+_0x2e39d3(_0x10be3a[_0x567776(0xc6)])+_0x567776(0x1c5)+_0x2e39d3(_0x10be3a['end'])+_0x567776(0x117)+_0x4bc759+_0x567776(0x121),_0x365bc8[_0x567776(0x160)](_0x121fe1);});}function scrollToToday(){const _0x3b8800=a2_0x28ad0a,_0x35f4dc=getLocalDateStr(new Date()),_0x341b8b=document[_0x3b8800(0x1ca)](_0x3b8800(0x127)+_0x35f4dc),_0x188d96=document[_0x3b8800(0x1ca)](_0x3b8800(0x1ef));if(_0x341b8b&&_0x188d96){const _0x2f1a9a=_0x188d96[_0x3b8800(0x1f0)],_0x3c7c5d=_0x341b8b['offsetLeft'],_0x4776b6=_0x341b8b[_0x3b8800(0x1a4)];_0x188d96[_0x3b8800(0x1b7)]=_0x3c7c5d-_0x2f1a9a/0x2+_0x4776b6/0x2,_0x188d96[_0x3b8800(0x15f)]=0x9*GRID_H;}}function onScroll(){const _0x5a3e99=a2_0x28ad0a,_0x5a61be=document[_0x5a3e99(0x1ca)](_0x5a3e99(0x1ef)),_0x27d3ef=document['querySelectorAll'](_0x5a3e99(0x19e));for(let _0x41c726 of _0x27d3ef)if(_0x41c726['offsetLeft']>=_0x5a61be['scrollLeft']){const _0x1734d8=new Date(_0x41c726[_0x5a3e99(0x1d5)]('data-date'));document[_0x5a3e99(0x1ca)](_0x5a3e99(0x18a))['textContent']=_0x1734d8[_0x5a3e99(0x1ad)]('ru',{'month':_0x5a3e99(0x1a0)})[_0x5a3e99(0xfe)]()+'\x20'+_0x1734d8[_0x5a3e99(0x134)]();break;}}function showToast(_0x10dce5,_0x1a6d7a=![]){const _0x8967a0=a2_0x28ad0a,_0x8f9d7e=document[_0x8967a0(0x1ca)](_0x8967a0(0x10c));_0x8f9d7e['className']=_0x8967a0(0x97)+(_0x1a6d7a?_0x8967a0(0x1f2):''),document[_0x8967a0(0x1ca)]('toastTitle')['textContent']=_0x1a6d7a?_0x8967a0(0xb2):'–ò–Ω—Ñ–æ',document[_0x8967a0(0x1ca)]('toastMessage')[_0x8967a0(0x125)]=_0x10dce5,_0x8f9d7e[_0x8967a0(0xab)][_0x8967a0(0x200)](_0x8967a0(0x191)),setTimeout(()=>{_0x8f9d7e['classList']['remove']('show');},0xbb8);}function openDayOptions(_0x552926,_0x5b24e2){const _0x1bd179=a2_0x28ad0a;selectedDayForOptions=_0x552926,document['getElementById'](_0x1bd179(0x116))[_0x1bd179(0x125)]=_0x5b24e2,openSheet(_0x1bd179(0x128));}function toggleDayOff(){const _0x331c7a=a2_0x28ad0a;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]='off',reRenderBlocks(),closeAllSheets(),DataManager[_0x331c7a(0xa9)](),DataManager[_0x331c7a(0x1cf)](_0x331c7a(0x1a6),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x36e64f=a2_0x28ad0a;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x36e64f(0xa9)](),DataManager[_0x36e64f(0x1cf)](_0x36e64f(0x1a6),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x511805){const _0x1312af=a2_0x28ad0a;document[_0x1312af(0x1ca)](_0x1312af(0xbe))[_0x1312af(0xab)][_0x1312af(0x200)](_0x1312af(0x204)),document[_0x1312af(0x1ca)](_0x511805)[_0x1312af(0xab)][_0x1312af(0x200)](_0x1312af(0x1af));}function closeAllSheets(){const _0x474769=a2_0x28ad0a;document[_0x474769(0x1ca)](_0x474769(0xbe))['classList'][_0x474769(0x12d)](_0x474769(0x204)),document['querySelectorAll']('.sheet')[_0x474769(0x171)](_0x2d4552=>_0x2d4552[_0x474769(0xab)]['remove'](_0x474769(0x1af)));}function openPatternEditor(){const _0x4dede3=a2_0x28ad0a;closeAllSheets(),document['getElementById'](_0x4dede3(0x196))[_0x4dede3(0xab)][_0x4dede3(0x200)](_0x4dede3(0x1af)),renderPatternEditor();}function closePatternEditor(){const _0x4d30f4=a2_0x28ad0a;document[_0x4d30f4(0x1ca)]('patternEditor')[_0x4d30f4(0xab)][_0x4d30f4(0x12d)]('open');}function savePattern(){const _0x334b42=a2_0x28ad0a;document[_0x334b42(0x1ca)](_0x334b42(0x196))['classList'][_0x334b42(0x12d)](_0x334b42(0x1af)),reRenderBlocks(),DataManager[_0x334b42(0xa9)](),DataManager[_0x334b42(0x1cf)](_0x334b42(0x1a6),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x36ad24=a2_0x28ad0a,_0x3eb9ee=document[_0x36ad24(0x1ca)]('peGrid');_0x3eb9ee[_0x36ad24(0x1e1)]='';const _0x3b628c=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x117d1f=document[_0x36ad24(0xd5)](_0x36ad24(0x140));_0x117d1f[_0x36ad24(0x162)]=_0x36ad24(0x12b),_0x3eb9ee[_0x36ad24(0x160)](_0x117d1f),_0x3b628c[_0x36ad24(0x171)]((_0x2ff97d,_0x49e1d0)=>{const _0x8f7a7c=_0x36ad24,_0x37a546=document[_0x8f7a7c(0xd5)](_0x8f7a7c(0x140));_0x37a546['className']='pe-col-header',_0x37a546[_0x8f7a7c(0x1e1)]=_0x2ff97d+_0x8f7a7c(0x175),_0x37a546[_0x8f7a7c(0x10a)]=()=>toggleColPattern(_0x49e1d0),_0x3eb9ee['appendChild'](_0x37a546);});for(let _0x4fcdd0=0x0;_0x4fcdd0<0x18;_0x4fcdd0++){const _0x5e53dd=document[_0x36ad24(0xd5)](_0x36ad24(0x140));_0x5e53dd[_0x36ad24(0x162)]=_0x36ad24(0x129),_0x5e53dd[_0x36ad24(0x1e1)]=_0x36ad24(0x1d3)+String(_0x4fcdd0)[_0x36ad24(0x20a)](0x2,'0')+':00',_0x5e53dd[_0x36ad24(0x10a)]=()=>toggleRowPattern(_0x4fcdd0),_0x3eb9ee[_0x36ad24(0x160)](_0x5e53dd);for(let _0x358fb6=0x0;_0x358fb6<0x7;_0x358fb6++){const _0x5df842=document[_0x36ad24(0xd5)](_0x36ad24(0x140)),_0x2ef4e9=(availabilityPattern[_0x358fb6]||[])[_0x36ad24(0x1dd)](_0x4fcdd0),_0x1c0daa=!_0x2ef4e9;_0x5df842[_0x36ad24(0x162)]=_0x36ad24(0x1b1)+(_0x1c0daa?_0x36ad24(0x204):''),_0x5df842[_0x36ad24(0x10a)]=()=>toggleSinglePattern(_0x358fb6,_0x4fcdd0),_0x3eb9ee[_0x36ad24(0x160)](_0x5df842);}}}function toggleSinglePattern(_0x345468,_0x583a92){const _0x1beecd=a2_0x28ad0a;if(!availabilityPattern[_0x345468])availabilityPattern[_0x345468]=[];const _0x34e84e=availabilityPattern[_0x345468],_0x167889=_0x34e84e[_0x1beecd(0xe1)](_0x583a92);_0x167889===-0x1?_0x34e84e[_0x1beecd(0x205)](_0x583a92):_0x34e84e[_0x1beecd(0x163)](_0x167889,0x1),renderPatternEditor();}function toggleColPattern(_0x3e6953){const _0x266e53=a2_0x28ad0a;if(!availabilityPattern[_0x3e6953])availabilityPattern[_0x3e6953]=[];const _0x46c999=availabilityPattern[_0x3e6953];_0x46c999[_0x266e53(0x1dc)]===0x0?availabilityPattern[_0x3e6953]=Array[_0x266e53(0x156)]({'length':0x18},(_0x1529d1,_0x57f4fe)=>_0x57f4fe):availabilityPattern[_0x3e6953]=[],renderPatternEditor();}function toggleRowPattern(_0x3d46b7){const _0x37e92b=a2_0x28ad0a;let _0x373acf=!![];for(let _0xf97ad4=0x0;_0xf97ad4<0x7;_0xf97ad4++){if((availabilityPattern[_0xf97ad4]||[])[_0x37e92b(0x1dd)](_0x3d46b7)){_0x373acf=![];break;}}for(let _0x458358=0x0;_0x458358<0x7;_0x458358++){if(!availabilityPattern[_0x458358])availabilityPattern[_0x458358]=[];const _0x69c31e=availabilityPattern[_0x458358][_0x37e92b(0xe1)](_0x3d46b7);if(_0x373acf){if(_0x69c31e===-0x1)availabilityPattern[_0x458358][_0x37e92b(0x205)](_0x3d46b7);}else{if(_0x69c31e!==-0x1)availabilityPattern[_0x458358][_0x37e92b(0x163)](_0x69c31e,0x1);}}renderPatternEditor();}function renderPCol(_0x390021,_0x220f65){const _0x22dd91=a2_0x28ad0a;_0x390021[_0x22dd91(0x1e1)]='';const _0x204f4f=Math[_0x22dd91(0xc4)](_0x390021[_0x22dd91(0x1b5)]);(availabilityPattern[_0x220f65]||[])['forEach'](_0x1702f5=>{const _0xc9c5cf=_0x22dd91,_0x24dfec=document['createElement'](_0xc9c5cf(0x140));_0x24dfec[_0xc9c5cf(0x162)]=_0xc9c5cf(0x1bc);const _0x2edbd5=_0x1702f5*GRID_H;_0x24dfec[_0xc9c5cf(0x153)][_0xc9c5cf(0xb9)]=_0x2edbd5+'px',_0x24dfec['style'][_0xc9c5cf(0x96)]='-'+_0x204f4f+_0xc9c5cf(0xa8)+_0x2edbd5+'px',_0x24dfec[_0xc9c5cf(0x10a)]=_0x3f5922=>{_0x3f5922['stopPropagation'](),toggleSinglePattern(_0x220f65,_0x1702f5);},_0x390021['appendChild'](_0x24dfec);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x3d438f=a2_0x28ad0a,_0x315e27=new Date(),_0x2ddcfd=document[_0x3d438f(0x1ca)]('globalTimeLine'),_0x429b93=document[_0x3d438f(0x1ca)](_0x3d438f(0x94)),_0x4cffa2=(_0x315e27[_0x3d438f(0xd9)]()*0x3c+_0x315e27[_0x3d438f(0x1a1)]())/0x3c*GRID_H;_0x2ddcfd[_0x3d438f(0x153)][_0x3d438f(0xb9)]=_0x4cffa2+'px',_0x2ddcfd[_0x3d438f(0x153)]['display']=_0x3d438f(0xfb),_0x429b93[_0x3d438f(0x125)]=String(_0x315e27['getHours']())[_0x3d438f(0x20a)](0x2,'0')+':'+String(_0x315e27[_0x3d438f(0x1a1)]())[_0x3d438f(0x20a)](0x2,'0'),_0x429b93['style'][_0x3d438f(0x111)]=_0x3d438f(0xfb),_0x429b93[_0x3d438f(0x153)][_0x3d438f(0xb9)]=_0x4cffa2+'px';}document[a2_0x28ad0a(0x1b3)](a2_0x28ad0a(0x1fc),init);function openDayOptions(_0x1f0ae4){const _0x29cbbb=a2_0x28ad0a;selectedDayForOptions=_0x1f0ae4;const _0x4badd1=new Date(_0x1f0ae4),_0x417c0b={'weekday':_0x29cbbb(0x1a0),'day':'numeric','month':_0x29cbbb(0x1a0),'year':_0x29cbbb(0xac)},_0x521fba=_0x4badd1[_0x29cbbb(0x8f)](_0x29cbbb(0xdf),_0x417c0b);document[_0x29cbbb(0x1ca)]('doDateHeader')[_0x29cbbb(0x125)]=_0x521fba[_0x29cbbb(0xa7)](0x0)[_0x29cbbb(0xfe)]()+_0x521fba[_0x29cbbb(0x8e)](0x1);let _0x270e36=_0x4badd1[_0x29cbbb(0x1f9)]()-0x1;if(_0x270e36===-0x1)_0x270e36=0x6;const _0x266228=availabilityPattern[_0x270e36]||[],_0x524f08=0x18-_0x266228[_0x29cbbb(0x1dc)],_0x401461=_0x524f08*0x3c,_0x3d70b5=sessions['filter'](_0x56a4e2=>_0x56a4e2[_0x29cbbb(0xc8)]===_0x1f0ae4&&_0x56a4e2[_0x29cbbb(0x110)]!==_0x29cbbb(0x1bd));let _0x4f9e6d=_0x3d70b5[_0x29cbbb(0xe0)](_0x52fa5b=>{const _0x3954cd=_0x29cbbb,[_0x104520,_0x3051a3]=_0x52fa5b[_0x3954cd(0xc6)]['split'](':')[_0x3954cd(0xe0)](Number),[_0x46627c,_0x353968]=_0x52fa5b['end']['split'](':')[_0x3954cd(0xe0)](Number);return[_0x104520*0x3c+_0x3051a3,_0x46627c*0x3c+_0x353968];});_0x4f9e6d[_0x29cbbb(0x112)]((_0x40d158,_0x4c74d2)=>_0x40d158[0x0]-_0x4c74d2[0x0]);let _0x5469f4=[];if(_0x4f9e6d[_0x29cbbb(0x1dc)]>0x0){let _0x1eba02=_0x4f9e6d[0x0];for(let _0x40cdc4=0x1;_0x40cdc4<_0x4f9e6d['length'];_0x40cdc4++){_0x4f9e6d[_0x40cdc4][0x0]<_0x1eba02[0x1]?_0x1eba02[0x1]=Math[_0x29cbbb(0x15c)](_0x1eba02[0x1],_0x4f9e6d[_0x40cdc4][0x1]):(_0x5469f4[_0x29cbbb(0x205)](_0x1eba02),_0x1eba02=_0x4f9e6d[_0x40cdc4]);}_0x5469f4[_0x29cbbb(0x205)](_0x1eba02);}let _0x5591bb=0x0;_0x5469f4[_0x29cbbb(0x171)](_0x37266e=>_0x5591bb+=_0x37266e[0x1]-_0x37266e[0x0]),document[_0x29cbbb(0x1ca)](_0x29cbbb(0x137))[_0x29cbbb(0x125)]=formatMinsToHrs(_0x401461),document[_0x29cbbb(0x1ca)](_0x29cbbb(0x152))[_0x29cbbb(0x125)]=formatMinsToHrs(_0x5591bb);const _0x4b5f05=_0x401461>0x0?Math['round'](_0x5591bb/_0x401461*0x64):0x0,_0x47f65a=document[_0x29cbbb(0x1ca)](_0x29cbbb(0x1bf));_0x47f65a['textContent']=_0x4b5f05+'%';const _0x12fe3a=document['getElementById'](_0x29cbbb(0x1c3));if(_0x4b5f05>0x64)_0x47f65a[_0x29cbbb(0x153)][_0x29cbbb(0x19c)]=_0x29cbbb(0x93),_0x12fe3a[_0x29cbbb(0x153)]['borderColor']=_0x29cbbb(0x155);else _0x4b5f05>0x50?(_0x47f65a[_0x29cbbb(0x153)][_0x29cbbb(0x19c)]=_0x29cbbb(0x1de),_0x12fe3a[_0x29cbbb(0x153)]['borderColor']='rgba(255,\x20159,\x2010,\x200.3)'):(_0x47f65a[_0x29cbbb(0x153)][_0x29cbbb(0x19c)]=_0x29cbbb(0x10f),_0x12fe3a[_0x29cbbb(0x153)]['borderColor']=_0x29cbbb(0x13d));const _0x330fbb=document['getElementById'](_0x29cbbb(0x132));_0x330fbb[_0x29cbbb(0x1e1)]='';_0x3d70b5['length']===0x0?_0x330fbb['innerHTML']=_0x29cbbb(0xf8):(_0x3d70b5[_0x29cbbb(0x112)]((_0x78e4f8,_0x245b03)=>_0x78e4f8[_0x29cbbb(0xc6)][_0x29cbbb(0x102)](_0x245b03[_0x29cbbb(0xc6)])),_0x3d70b5[_0x29cbbb(0x171)](_0x32b07a=>{const _0x453c12=_0x29cbbb,_0x121185=clients[_0x453c12(0x178)](_0x3a0c4b=>_0x3a0c4b[_0x453c12(0x1b9)]===_0x32b07a['client']),_0x2853d7=_0x121185?_0x121185[_0x453c12(0x19c)]:_0x453c12(0x170),_0x293ae1=_0x32b07a[_0x453c12(0x110)]===_0x453c12(0xee),_0x2d645b=_0x293ae1?_0x453c12(0x148):'',_0xd9e51a=document[_0x453c12(0xd5)]('div');_0xd9e51a['className']=_0x453c12(0xa5),_0xd9e51a[_0x453c12(0x153)][_0x453c12(0xba)]=_0x2853d7,_0xd9e51a[_0x453c12(0x1e1)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>'+_0x32b07a[_0x453c12(0xc6)]+_0x453c12(0x9f)+_0x32b07a[_0x453c12(0x150)]+_0x453c12(0x8d)+_0x32b07a[_0x453c12(0x168)]+_0x453c12(0x9b)+_0x2d645b+_0x453c12(0xa6),_0x330fbb[_0x453c12(0x160)](_0xd9e51a);}));const _0x56787d=document[_0x29cbbb(0x1ca)](_0x29cbbb(0x1e8)),_0x53c957=dateExceptions[_0x1f0ae4]===_0x29cbbb(0x98);_0x53c957?(_0x56787d[_0x29cbbb(0x125)]=_0x29cbbb(0x177),_0x56787d[_0x29cbbb(0x162)]=_0x29cbbb(0x1ce),_0x56787d[_0x29cbbb(0x153)][_0x29cbbb(0x19c)]=_0x29cbbb(0x10f),_0x56787d[_0x29cbbb(0x153)][_0x29cbbb(0xd6)]='rgba(48,\x20209,\x2088,\x200.15)'):(_0x56787d[_0x29cbbb(0x125)]=_0x29cbbb(0x95),_0x56787d['className']=_0x29cbbb(0x1fe),_0x56787d[_0x29cbbb(0x153)][_0x29cbbb(0x19c)]=_0x29cbbb(0x93),_0x56787d[_0x29cbbb(0x153)][_0x29cbbb(0xd6)]='rgba(255,\x2069,\x2058,\x200.15)'),openSheet(_0x29cbbb(0x128));}let currentAnPeriod=a2_0x28ad0a(0xaf);function openAnalytics(){const _0x4dc61f=a2_0x28ad0a,_0x3351d6=document[_0x4dc61f(0x1f1)]('.period-switch\x20.p-btn');setAnalyticsPeriod(_0x4dc61f(0xaf),_0x3351d6),closeAllSheets(),openSheet(_0x4dc61f(0x1da));}function setAnalyticsPeriod(_0x254ca0,_0x550b6f){const _0x4d30c7=a2_0x28ad0a;currentAnPeriod=_0x254ca0,document[_0x4d30c7(0x135)]('.period-switch\x20.p-btn')['forEach'](_0x5b1701=>_0x5b1701[_0x4d30c7(0xab)]['remove'](_0x4d30c7(0x204)));if(_0x550b6f)_0x550b6f[_0x4d30c7(0xab)][_0x4d30c7(0x200)]('active');const _0x369bdb=document[_0x4d30c7(0x1ca)](_0x4d30c7(0xc5));_0x369bdb['style']['display']=_0x254ca0===_0x4d30c7(0x19a)?_0x4d30c7(0x185):_0x4d30c7(0x9c);const _0x256cb0=new Date();let _0x179371=new Date(),_0x3e21e0=new Date();if(_0x254ca0===_0x4d30c7(0xaf))_0x179371=getStartOfWeek(_0x256cb0),_0x3e21e0=new Date(_0x179371),_0x3e21e0[_0x4d30c7(0x1e6)](_0x3e21e0[_0x4d30c7(0xbd)]()+0x6);else{if(_0x254ca0==='month')_0x179371=new Date(_0x256cb0['getFullYear'](),_0x256cb0['getMonth'](),0x1),_0x3e21e0=new Date(_0x256cb0['getFullYear'](),_0x256cb0['getMonth']()+0x1,0x0);else{!document['getElementById']('anStart')[_0x4d30c7(0x1e0)]&&(document[_0x4d30c7(0x1ca)](_0x4d30c7(0x106))[_0x4d30c7(0x1e0)]=getLocalDateStr(_0x256cb0),document['getElementById'](_0x4d30c7(0x1e7))[_0x4d30c7(0x1e0)]=getLocalDateStr(_0x256cb0));refreshAnalytics();return;}}document[_0x4d30c7(0x1ca)](_0x4d30c7(0x106))[_0x4d30c7(0x1e0)]=getLocalDateStr(_0x179371),document[_0x4d30c7(0x1ca)](_0x4d30c7(0x1e7))['value']=getLocalDateStr(_0x3e21e0),refreshAnalytics();}function refreshAnalytics(){const _0x55f39a=a2_0x28ad0a,_0x3a960c=document[_0x55f39a(0x1ca)]('anStart')[_0x55f39a(0x1e0)],_0x10edcf=document[_0x55f39a(0x1ca)](_0x55f39a(0x1e7))[_0x55f39a(0x1e0)];if(!_0x3a960c||!_0x10edcf)return;const _0x504fb1=sessions['filter'](_0x50f140=>_0x50f140[_0x55f39a(0xc8)]>=_0x3a960c&&_0x50f140['dateStr']<=_0x10edcf&&_0x50f140[_0x55f39a(0x110)]!==_0x55f39a(0x1bd)),_0x28c128=_0x504fb1[_0x55f39a(0x1dc)],_0x11fd94=_0x504fb1[_0x55f39a(0x1d9)](_0x511769=>_0x511769[_0x55f39a(0x110)]==='completed')[_0x55f39a(0x1dc)],_0x256c0d=_0x28c128>0x0?Math['round'](_0x11fd94/_0x28c128*0x64):0x0;document[_0x55f39a(0x1ca)](_0x55f39a(0xf3))[_0x55f39a(0x125)]=_0x256c0d+'%',document[_0x55f39a(0x1ca)](_0x55f39a(0xb4))['textContent']=_0x11fd94+_0x55f39a(0x20b)+_0x28c128+_0x55f39a(0x164);const _0x5d5952=document[_0x55f39a(0x1ca)](_0x55f39a(0x1a5)),_0x2f4f58=0x2*Math['PI']*0x23,_0x42ad74=_0x2f4f58-_0x256c0d/0x64*_0x2f4f58;_0x5d5952[_0x55f39a(0x153)][_0x55f39a(0x149)]=_0x42ad74;const _0x311414={};_0x504fb1[_0x55f39a(0x171)](_0x465373=>{const _0x38ddfd=_0x55f39a;if(!_0x311414[_0x465373[_0x38ddfd(0x168)]]){const _0x27f004=clients[_0x38ddfd(0x178)](_0x237a49=>_0x237a49[_0x38ddfd(0x1b9)]===_0x465373[_0x38ddfd(0x168)]);_0x311414[_0x465373[_0x38ddfd(0x168)]]={'total':0x0,'done':0x0,'color':_0x27f004?_0x27f004['color']:'#fff'};}_0x311414[_0x465373[_0x38ddfd(0x168)]][_0x38ddfd(0xca)]++;if(_0x465373[_0x38ddfd(0x110)]===_0x38ddfd(0xee))_0x311414[_0x465373[_0x38ddfd(0x168)]][_0x38ddfd(0xc2)]++;});const _0x9f837d=document[_0x55f39a(0x1ca)](_0x55f39a(0x103));_0x9f837d[_0x55f39a(0x1e1)]='';const _0x3c31a6=Object[_0x55f39a(0x179)](_0x311414)[_0x55f39a(0x112)]((_0xb3081e,_0x2f18d0)=>_0x2f18d0[0x1][_0x55f39a(0xca)]-_0xb3081e[0x1][_0x55f39a(0xca)]);if(_0x3c31a6['length']===0x0){_0x9f837d[_0x55f39a(0x1e1)]=_0x55f39a(0x203);return;}_0x3c31a6[_0x55f39a(0x171)](([_0x4a572f,_0x3bd624])=>{const _0x561d97=_0x55f39a,_0x1df86c=Math[_0x561d97(0xc4)](_0x3bd624['done']/_0x3bd624[_0x561d97(0xca)]*0x64),_0x328e99=document[_0x561d97(0xd5)]('div');_0x328e99[_0x561d97(0x162)]=_0x561d97(0x99),_0x328e99[_0x561d97(0x153)]['borderLeftColor']=_0x3bd624[_0x561d97(0x19c)],_0x328e99[_0x561d97(0x1e1)]=_0x561d97(0x16f)+_0x4a572f+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x3bd624[_0x561d97(0xc2)]+_0x561d97(0xe2)+_0x3bd624[_0x561d97(0xca)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x1df86c+_0x561d97(0xbb),_0x9f837d[_0x561d97(0x160)](_0x328e99);});}function formatMinsToHrs(_0x312420){const _0x3050b6=a2_0x28ad0a;if(_0x312420===0x0)return'0';const _0x3263d3=Math[_0x3050b6(0x169)](_0x312420/0x3c),_0x42c05b=_0x312420%0x3c;if(_0x42c05b===0x0)return _0x3263d3+'—á';return _0x3263d3+'—á\x20'+_0x42c05b+'–º';}