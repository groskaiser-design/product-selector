const a2_0x4be98a=a2_0xeb91;(function(_0x4800f2,_0x383c80){const _0xc68942=a2_0xeb91,_0x563079=_0x4800f2();while(!![]){try{const _0x4e8f67=-parseInt(_0xc68942(0x1d6))/0x1*(parseInt(_0xc68942(0x204))/0x2)+parseInt(_0xc68942(0x1ac))/0x3*(-parseInt(_0xc68942(0x1d8))/0x4)+-parseInt(_0xc68942(0x1c1))/0x5*(-parseInt(_0xc68942(0xc4))/0x6)+-parseInt(_0xc68942(0x170))/0x7+parseInt(_0xc68942(0x185))/0x8+-parseInt(_0xc68942(0xbb))/0x9+parseInt(_0xc68942(0x1f8))/0xa;if(_0x4e8f67===_0x383c80)break;else _0x563079['push'](_0x563079['shift']());}catch(_0x493505){_0x563079['push'](_0x563079['shift']());}}}(a2_0x31d2,0xd58d3),function initTMA(){const _0x5e0652=a2_0xeb91,_0x2e8f2a=(function(){let _0x46b81a=!![];return function(_0xd15a16,_0x255402){const _0x45ed0c=_0x46b81a?function(){if(_0x255402){const _0x275885=_0x255402['apply'](_0xd15a16,arguments);return _0x255402=null,_0x275885;}}:function(){};return _0x46b81a=![],_0x45ed0c;};}()),_0x46f747=_0x2e8f2a(this,function(){const _0x25b8f3=a2_0xeb91;return _0x46f747[_0x25b8f3(0x205)]()[_0x25b8f3(0x108)]('(((.+)+)+)+$')['toString']()[_0x25b8f3(0x1d4)](_0x46f747)[_0x25b8f3(0x108)]('(((.+)+)+)+$');});_0x46f747();try{const _0x272e53=window[_0x5e0652(0x138)]?.[_0x5e0652(0x1b9)];if(!_0x272e53)return;_0x272e53[_0x5e0652(0x14a)](),_0x272e53[_0x5e0652(0x1c3)]();try{_0x272e53[_0x5e0652(0x18f)](_0x5e0652(0xc9)),_0x272e53['setBackgroundColor']&&_0x272e53[_0x5e0652(0x13d)](_0x5e0652(0xc9));}catch(_0x22e306){console[_0x5e0652(0x1a4)](_0x5e0652(0x1b7),_0x22e306);}try{_0x272e53[_0x5e0652(0x100)]&&(_0x272e53[_0x5e0652(0x100)][_0x5e0652(0x1d2)](),_0x272e53[_0x5e0652(0x100)][_0x5e0652(0xc3)](),_0x272e53['BackButton'][_0x5e0652(0x197)](function(){const _0x50e4e2=_0x5e0652;window[_0x50e4e2(0xd6)][_0x50e4e2(0xd7)]=_0x50e4e2(0x183);}));}catch(_0x2fcc33){console[_0x5e0652(0x1a4)]('Error\x20setting\x20back\x20button:',_0x2fcc33);}try{if(_0x272e53[_0x5e0652(0x1e3)])_0x272e53['disableVerticalSwipes']();}catch(_0xfa1397){}}catch(_0x492b46){console['error'](_0x5e0652(0x106),_0x492b46);}}());function isAdmin(){const _0x460e74=a2_0xeb91;try{const _0x4cee3e=Number(window[_0x460e74(0x138)]?.['WebApp']?.[_0x460e74(0xb6)]?.[_0x460e74(0x15c)]?.['id']);return _0x4cee3e===0xbaf7174;}catch(_0x540700){return![];}}const APP_VERSION='v9.0-BATCH-CALENDAR',API_URL=a2_0x4be98a(0x90),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x4be98a(0x20a),KEY_SESSIONS='uc_sessions_v9',KEY_SETTINGS=a2_0x4be98a(0x103);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x30c289=a2_0x4be98a;return window[_0x30c289(0x138)]?.['WebApp']?.[_0x30c289(0xb6)]?.['user']?.['id']||'guest';},'saveLocally'(){const _0x28e144=a2_0x4be98a;try{localStorage[_0x28e144(0x10c)](KEY_CLIENTS,JSON[_0x28e144(0x1f4)](clients)),localStorage[_0x28e144(0x10c)](KEY_SESSIONS,JSON[_0x28e144(0x1f4)](sessions)),localStorage[_0x28e144(0x10c)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x122a78){console['error'](_0x28e144(0xc8),_0x122a78);}},'loadLocal'(){const _0x3f80a3=a2_0x4be98a;try{const _0x1a3343=localStorage['getItem'](KEY_CLIENTS);if(_0x1a3343)clients=JSON[_0x3f80a3(0x161)](_0x1a3343);const _0x348a4a=localStorage[_0x3f80a3(0x1f5)](KEY_SESSIONS);if(_0x348a4a)sessions=JSON[_0x3f80a3(0x161)](_0x348a4a);const _0x15667f=localStorage[_0x3f80a3(0x1f5)](KEY_SETTINGS);if(_0x15667f){const _0x116a1f=JSON['parse'](_0x15667f);if(_0x116a1f['pattern'])availabilityPattern=_0x116a1f['pattern'];if(_0x116a1f['exceptions'])dateExceptions=_0x116a1f[_0x3f80a3(0xe1)];if(_0x116a1f[_0x3f80a3(0x1a2)])specialRanges=_0x116a1f['ranges'];}else{for(let _0x1b5b31=0x0;_0x1b5b31<0x7;_0x1b5b31++)availabilityPattern[_0x1b5b31]=Array[_0x3f80a3(0x1ab)]({'length':0xc},(_0x265d3e,_0x848161)=>_0x848161+0x9);}}catch(_0x12f4ad){console[_0x3f80a3(0xf1)](_0x3f80a3(0xa1),_0x12f4ad);}},async 'fetchFromServer'(_0x4b61e9,_0x45e303={}){const _0x214f44=a2_0x4be98a,_0xed8dbc=window[_0x214f44(0x138)]?.['WebApp'],_0x52296d={'action':_0x4b61e9,'init_data':_0xed8dbc?.['initData']||'',..._0x45e303};try{const _0x2e2b57=await fetch(API_URL,{'method':_0x214f44(0x1bd),'headers':{'Content-Type':'text/plain;charset=UTF-8'},'body':JSON[_0x214f44(0x1f4)](_0x52296d)}),_0x2f3a3f=await _0x2e2b57[_0x214f44(0x9b)]();if(!_0x2f3a3f['ok'])throw new Error(_0x2f3a3f[_0x214f44(0xf1)]||_0x214f44(0x1bb));return _0x2f3a3f[_0x214f44(0x140)];}catch(_0x5d4608){console['error'](_0x214f44(0xcd)+_0x4b61e9+_0x214f44(0x200),_0x5d4608);throw _0x5d4608;}},async 'syncLoad'(){const _0x57d9be=a2_0x4be98a,_0x56e3c4=new Date(),_0x1eaf8a=_0x56e3c4['getFullYear']()+'-'+String(_0x56e3c4[_0x57d9be(0x16f)]()+0x1)[_0x57d9be(0xed)](0x2,'0'),_0x52c4dd=new Date(_0x56e3c4);_0x52c4dd[_0x57d9be(0x125)](_0x56e3c4['getMonth']()+0x1);const _0x39b94c=_0x52c4dd[_0x57d9be(0xda)]()+'-'+String(_0x52c4dd['getMonth']()+0x1)[_0x57d9be(0xed)](0x2,'0'),_0x11c726=Date['now']();console[_0x57d9be(0x1a4)](_0x57d9be(0x188)+_0x1eaf8a+',\x20'+_0x39b94c+_0x57d9be(0x171));try{const [_0xd56586,_0x3621d7]=await Promise[_0x57d9be(0x1ca)]([this[_0x57d9be(0x17c)]('init_load',{'month_str':_0x1eaf8a}),this[_0x57d9be(0x17c)]('init_load',{'month_str':_0x39b94c})]);if(lastUserActionTime>_0x11c726)return console[_0x57d9be(0x1e4)](_0x57d9be(0x1ad)),![];return this[_0x57d9be(0x17d)](_0xd56586,_0x1eaf8a),this[_0x57d9be(0x17d)](_0x3621d7,_0x39b94c),this[_0x57d9be(0x110)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x5f0170){console['error'](_0x5f0170);throw _0x5f0170;}},'mergeServerData'(_0x4bc2f9,_0x3baa55){const _0x2ef977=a2_0x4be98a;if(!_0x4bc2f9)return;_0x4bc2f9[_0x2ef977(0xe9)]&&Array[_0x2ef977(0x143)](_0x4bc2f9[_0x2ef977(0xe9)])&&(clients=_0x4bc2f9[_0x2ef977(0xe9)]);if(_0x4bc2f9['settings']){if(_0x4bc2f9[_0x2ef977(0x1be)][_0x2ef977(0xdd)])availabilityPattern=_0x4bc2f9[_0x2ef977(0x1be)][_0x2ef977(0xdd)];if(_0x4bc2f9[_0x2ef977(0x1be)][_0x2ef977(0xe1)])dateExceptions=_0x4bc2f9[_0x2ef977(0x1be)][_0x2ef977(0xe1)];if(_0x4bc2f9[_0x2ef977(0x1be)]['ranges'])specialRanges=_0x4bc2f9[_0x2ef977(0x1be)][_0x2ef977(0x1a2)];if(_0x4bc2f9[_0x2ef977(0x1be)][_0x2ef977(0x1ee)]){localStorage[_0x2ef977(0x10c)]('uc_settings_cancel_window',_0x4bc2f9[_0x2ef977(0x1be)]['cancel_window']);const _0xbc7cf9=document[_0x2ef977(0x1d9)](_0x2ef977(0xc7));if(_0xbc7cf9)_0xbc7cf9[_0x2ef977(0x120)]=_0x4bc2f9[_0x2ef977(0x1be)]['cancel_window'];}}_0x4bc2f9[_0x2ef977(0x152)]&&(sessions=sessions[_0x2ef977(0xbf)](_0x5233c8=>!_0x5233c8[_0x2ef977(0x10b)][_0x2ef977(0x1fe)](_0x3baa55)),Object[_0x2ef977(0x10a)](_0x4bc2f9[_0x2ef977(0x152)])[_0x2ef977(0x156)](_0x295431=>{const _0x1b8a20=_0x2ef977,_0x4fc815=_0x4bc2f9['calendar'][_0x295431];_0x4fc815[_0x1b8a20(0x156)](_0x4932e2=>{const _0x5b467d=_0x1b8a20,_0x5d9ab9=clients[_0x5b467d(0x20c)](_0x427576=>String(_0x427576['id'])===String(_0x4932e2['c']));sessions[_0x5b467d(0x165)]({'id':_0x4932e2['i'],'clientId':_0x4932e2['c'],'client':_0x5d9ab9?_0x5d9ab9[_0x5b467d(0xe2)]:_0x5b467d(0x1af),'dateStr':_0x3baa55+'-'+_0x295431[_0x5b467d(0xed)](0x2,'0'),'start':_0x4932e2['s'],'end':_0x4932e2['e'],'status':_0x4932e2['st']||_0x5b467d(0x17b),'note':_0x4932e2['n']||'','seriesId':_0x4932e2[_0x5b467d(0x1ba)]||null});});}));},async 'syncBatch'(_0x5f4df4){const _0x284a05=a2_0x4be98a,_0x52a067=[...new Set(_0x5f4df4)],_0x1c6cb1=_0x52a067[_0x284a05(0x1f3)](_0x92b567=>{const _0x15ba8f=_0x284a05,_0x22de55=sessions[_0x15ba8f(0xbf)](_0xa94f83=>_0xa94f83['dateStr']===_0x92b567&&_0xa94f83[_0x15ba8f(0xf7)]!=='deleted'),_0x1c5e16=_0x22de55['map'](_0x4fef9f=>({'i':_0x4fef9f['id'],'c':_0x4fef9f[_0x15ba8f(0xc2)],'s':_0x4fef9f['start'],'e':_0x4fef9f['end'],'st':_0x4fef9f[_0x15ba8f(0xf7)],'n':_0x4fef9f[_0x15ba8f(0x16b)],'sid':_0x4fef9f[_0x15ba8f(0x1d1)]}));return{'date':_0x92b567,'day_data':_0x1c5e16};});if(_0x1c6cb1[_0x284a05(0x17e)]===0x0)return;console['log'](_0x284a05(0x149)+_0x1c6cb1['length']+_0x284a05(0x16a)),await this[_0x284a05(0x17c)]('batch_sync',{'changes':_0x1c6cb1});}};async function init(){const _0x4ca83c=a2_0x4be98a;DataManager['loadLocal'](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x4ca83c(0x1d9)](_0x4ca83c(0x13c))['addEventListener'](_0x4ca83c(0x1d0),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x4ca83c(0x1de)]()[_0x4ca83c(0x11e)](()=>{const _0x1a2f82=_0x4ca83c;showToast(_0x1a2f82(0x142),!![]);})[_0x4ca83c(0x131)](_0x258a18=>{showToast('–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º',![]);});}function generateId(){const _0x47e67e=a2_0x4be98a;return Date[_0x47e67e(0x1c6)]()['toString'](0x24)+Math[_0x47e67e(0xff)]()[_0x47e67e(0x205)](0x24)[_0x47e67e(0xea)](0x2,0x5);}function toggleSeriesInput(){const _0x5a5f69=a2_0x4be98a,_0x37ebec=document[_0x5a5f69(0x1d9)]('inpRecurring')[_0x5a5f69(0x19a)],_0x392395=document[_0x5a5f69(0x1d9)](_0x5a5f69(0xf6));_0x392395['style']['display']=_0x37ebec?'block':_0x5a5f69(0x122);const _0x5d8819=document[_0x5a5f69(0x1d9)]('recurringOptionContainer');_0x5d8819[_0x5a5f69(0x15d)][_0x5a5f69(0x116)]=_0x37ebec?_0x5a5f69(0x1b8):'10px';}function openAddSession(_0x330ce1){const _0x3bc9a3=a2_0x4be98a;editingId=null,populateClientSelect(),document[_0x3bc9a3(0x1d9)](_0x3bc9a3(0x194))[_0x3bc9a3(0xfd)]=_0x3bc9a3(0x14c),document[_0x3bc9a3(0x1d9)](_0x3bc9a3(0x1f7))['style']['display']='none',document['getElementById']('btnStatusToggle')['style']['display']=_0x3bc9a3(0x122);const _0x4f3cd3=document[_0x3bc9a3(0x1d9)](_0x3bc9a3(0xfe)),_0x1c081=document[_0x3bc9a3(0x1d9)]('seriesCountContainer');_0x4f3cd3[_0x3bc9a3(0x15d)][_0x3bc9a3(0xf3)]='flex',_0x4f3cd3[_0x3bc9a3(0x15d)]['borderRadius']='10px',document[_0x3bc9a3(0x1d9)](_0x3bc9a3(0x175))[_0x3bc9a3(0x19a)]=![],document['getElementById'](_0x3bc9a3(0xba))['value']=0x4,_0x1c081[_0x3bc9a3(0x15d)][_0x3bc9a3(0xf3)]=_0x3bc9a3(0x122),document['getElementById'](_0x3bc9a3(0x1ec))[_0x3bc9a3(0x120)]=getLocalDateStr(_0x330ce1),updateDateDisplay();const _0x4f2789=_0x330ce1['getHours']();document[_0x3bc9a3(0x1d9)](_0x3bc9a3(0x88))[_0x3bc9a3(0x120)]=String(_0x4f2789)[_0x3bc9a3(0xed)](0x2,'0')+_0x3bc9a3(0x13a),document[_0x3bc9a3(0x1d9)]('inpEnd')[_0x3bc9a3(0x120)]=String(_0x4f2789+0x1)[_0x3bc9a3(0xed)](0x2,'0')+':00',openSheet(_0x3bc9a3(0xb7));}function openEdit(_0x4c9d71){const _0x3cad58=a2_0x4be98a;editingId=_0x4c9d71['id'],populateClientSelect(),document[_0x3cad58(0x1d9)](_0x3cad58(0x194))[_0x3cad58(0xfd)]=_0x3cad58(0xee),document[_0x3cad58(0x1d9)](_0x3cad58(0x1f7))[_0x3cad58(0x15d)][_0x3cad58(0xf3)]='block';const _0x1be67c=document['getElementById'](_0x3cad58(0x179));_0x1be67c[_0x3cad58(0x15d)][_0x3cad58(0xf3)]=_0x3cad58(0x158);_0x4c9d71[_0x3cad58(0xf7)]===_0x3cad58(0x130)?(_0x1be67c['className']='btn-status-toggle\x20undo-mode',_0x1be67c[_0x3cad58(0x176)]=_0x3cad58(0xd8)):(_0x1be67c[_0x3cad58(0x12f)]=_0x3cad58(0xa9),_0x1be67c[_0x3cad58(0x176)]=_0x3cad58(0x102));const _0x64322b=!!_0x4c9d71['seriesId'];document['getElementById'](_0x3cad58(0xfe))['style']['display']='none',document[_0x3cad58(0x1d9)](_0x3cad58(0xf6))[_0x3cad58(0x15d)]['display']=_0x3cad58(0x122),_0x64322b?(document['getElementById'](_0x3cad58(0x145))[_0x3cad58(0x15d)]['display']=_0x3cad58(0x158),document[_0x3cad58(0x1d9)](_0x3cad58(0x145))[_0x3cad58(0xcc)]('.pib-text')[_0x3cad58(0xfd)]=_0x3cad58(0x201)):document[_0x3cad58(0x1d9)]('patternInfoBox')[_0x3cad58(0x15d)][_0x3cad58(0xf3)]=_0x3cad58(0x122),document[_0x3cad58(0x1d9)](_0x3cad58(0x166))['value']=_0x4c9d71[_0x3cad58(0x9c)],document[_0x3cad58(0x1d9)](_0x3cad58(0x1ec))['value']=_0x4c9d71[_0x3cad58(0x10b)],document[_0x3cad58(0x1d9)](_0x3cad58(0x88))[_0x3cad58(0x120)]=_0x4c9d71['start'],document[_0x3cad58(0x1d9)](_0x3cad58(0xfb))[_0x3cad58(0x120)]=_0x4c9d71[_0x3cad58(0x114)],document['getElementById'](_0x3cad58(0x187))[_0x3cad58(0x120)]=_0x4c9d71[_0x3cad58(0x16b)]||'',updateDateDisplay(),openSheet('sessionSheet');}async function trySaveSession(){const _0x38053e=a2_0x4be98a,_0x152ab3=document[_0x38053e(0x1d9)](_0x38053e(0x166))[_0x38053e(0x120)],_0x1db651=document[_0x38053e(0x1d9)]('inpDate')[_0x38053e(0x120)],_0x1d78ca=document[_0x38053e(0x1d9)]('inpStart')[_0x38053e(0x120)],_0x4d05ec=document[_0x38053e(0x1d9)](_0x38053e(0xfb))[_0x38053e(0x120)],_0x583c5e=document['getElementById']('inpNote')[_0x38053e(0x120)],_0x4623ea=document[_0x38053e(0x1d9)](_0x38053e(0x175))[_0x38053e(0x19a)];let _0x40a9ec=0x4;if(_0x4623ea){const _0xbf6b2f=parseInt(document[_0x38053e(0x1d9)]('inpSeriesCount')[_0x38053e(0x120)]);if(!_0xbf6b2f||_0xbf6b2f<0x2){showToast(_0x38053e(0x1c2),![]);return;}if(_0xbf6b2f>0x64){showToast(_0x38053e(0x137),![]);return;}_0x40a9ec=_0xbf6b2f;}const _0x5172e7=clients[_0x38053e(0x20c)](_0x318de1=>_0x318de1[_0x38053e(0xe2)]===_0x152ab3);if(!_0x5172e7){showToast('–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞',![]);return;}const _0x2203b0=validateAppointment(_0x1db651,_0x1d78ca,_0x4d05ec,editingId,_0x5172e7['id']);if(!_0x2203b0[_0x38053e(0x18c)]){showToast(_0x2203b0['msg'],![]);return;}_0x2203b0['warning']&&showToast(_0x2203b0[_0x38053e(0x160)],![]);const _0x250c94={'client':_0x152ab3,'clientId':_0x5172e7['id'],'start':_0x1d78ca,'end':_0x4d05ec,'note':_0x583c5e,'status':_0x38053e(0x17b)},_0x5cf065=editingId?sessions[_0x38053e(0x20c)](_0x5cabe7=>_0x5cabe7['id']===editingId):null;if(_0x5cf065&&_0x5cf065[_0x38053e(0x1d1)]){tempSessionData={..._0x250c94,'dateStr':_0x1db651,'id':editingId,'seriesId':_0x5cf065[_0x38053e(0x1d1)]},openActionSheet(_0x38053e(0x1c9));return;}let _0x5dfe70=null;if(!editingId)_0x5dfe70=_0x38053e(0x14d);else{if(_0x5cf065){if(String(_0x5cf065[_0x38053e(0xc2)])!==String(_0x5172e7['id']))console[_0x38053e(0x1a4)](_0x38053e(0x1e2)),NotificationManager['send'](_0x38053e(0x150),_0x5cf065),_0x5dfe70=_0x38053e(0x14d);else(_0x5cf065[_0x38053e(0x182)]!==_0x1d78ca||_0x5cf065[_0x38053e(0x114)]!==_0x4d05ec||_0x5cf065[_0x38053e(0x10b)]!==_0x1db651)&&(_0x5dfe70=_0x38053e(0x117));}}if(!editingId&&_0x4623ea){createBatchSeries(_0x250c94,_0x1db651,_0x40a9ec),NotificationManager[_0x38053e(0x19e)](_0x38053e(0x14d),{..._0x250c94,'dateStr':_0x1db651});return;}lastUserActionTime=Date[_0x38053e(0x1c6)]();const _0x185e0e={..._0x250c94,'dateStr':_0x1db651,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x185e0e),_0x5dfe70&&NotificationManager[_0x38053e(0x19e)](_0x5dfe70,_0x185e0e);}function toggleSessionStatus(){const _0x1a11e5=a2_0x4be98a;lastUserActionTime=Date['now']();const _0x2b594e=sessions[_0x1a11e5(0x20c)](_0x643f0e=>_0x643f0e['id']===editingId);if(!_0x2b594e)return;const _0x583719=_0x2b594e['status']===_0x1a11e5(0x130)?_0x1a11e5(0x17b):'completed';_0x2b594e[_0x1a11e5(0xf7)]=_0x583719,saveSingleSession(_0x2b594e),_0x583719===_0x1a11e5(0x130)&&NotificationManager[_0x1a11e5(0x19e)](_0x1a11e5(0x12b),_0x2b594e),showToast(_0x583719===_0x1a11e5(0x130)?_0x1a11e5(0x1b1):_0x1a11e5(0x123),!![]);}function validateAppointment(_0x1c37c7,_0x1f643e,_0x53e0b0,_0x42eaa1,_0x2489f0){const _0x8019a1=a2_0x4be98a,[_0x1afbb7,_0x302dd9]=_0x1f643e[_0x8019a1(0x127)](':')[_0x8019a1(0x1f3)](Number),[_0x1579ec,_0x31cbc4]=_0x53e0b0['split'](':')[_0x8019a1(0x1f3)](Number),_0x252f1d=_0x1afbb7*0x3c+_0x302dd9,_0x1059b3=_0x1579ec*0x3c+_0x31cbc4,_0x284c87=String(_0x2489f0);let _0x754d6b=![],_0x405cb9='';for(let _0x4a67f2 of sessions){if(_0x4a67f2[_0x8019a1(0x10b)]!==_0x1c37c7)continue;if(_0x4a67f2[_0x8019a1(0xf7)]==='cancelled')continue;if(_0x42eaa1&&String(_0x4a67f2['id'])===String(_0x42eaa1))continue;const [_0x427299,_0x204f8e]=_0x4a67f2[_0x8019a1(0x182)][_0x8019a1(0x127)](':')[_0x8019a1(0x1f3)](Number),[_0x1abebf,_0x296a8b]=_0x4a67f2[_0x8019a1(0x114)][_0x8019a1(0x127)](':')[_0x8019a1(0x1f3)](Number),_0x1cfba1=_0x427299*0x3c+_0x204f8e,_0x295e73=_0x1abebf*0x3c+_0x296a8b;if(Math[_0x8019a1(0x132)](_0x252f1d,_0x1cfba1)<Math[_0x8019a1(0x126)](_0x1059b3,_0x295e73)){if(_0x4a67f2['clientId']&&String(_0x4a67f2[_0x8019a1(0xc2)])===_0x284c87)return{'valid':![],'msg':_0x8019a1(0x184)+_0x4a67f2['client']+_0x8019a1(0x151)};_0x754d6b=!![],_0x405cb9=_0x4a67f2[_0x8019a1(0x9c)];}}if(_0x754d6b)return{'valid':!![],'warning':_0x8019a1(0xf9)+_0x405cb9};return{'valid':!![]};}function saveSingleSession(_0x2bb1c1){const _0x1a2857=a2_0x4be98a;if(editingId){const _0x7c4451=sessions['findIndex'](_0x76c227=>_0x76c227['id']===editingId);if(_0x7c4451!==-0x1)sessions[_0x7c4451]=_0x2bb1c1;}else sessions['push'](_0x2bb1c1);afterSaveAction([_0x2bb1c1[_0x1a2857(0x10b)]]);}function createBatchSeries(_0x5f54f8,_0x34b466,_0x3f58ea){const _0x4796d9=a2_0x4be98a,_0x2eec24=generateId(),_0xd88cf3=[],_0x1cca29=[];let _0x1fafd3=0x0,_0x4d1a17=new Date(_0x34b466);for(let _0x55c407=0x0;_0x55c407<_0x3f58ea;_0x55c407++){const _0x24a1ac=getLocalDateStr(_0x4d1a17),_0xb29da8=validateAppointment(_0x24a1ac,_0x5f54f8[_0x4796d9(0x182)],_0x5f54f8[_0x4796d9(0x114)],null,_0x5f54f8[_0x4796d9(0xc2)]);if(!_0xb29da8[_0x4796d9(0x18c)])console[_0x4796d9(0x1a4)]('[Series]\x20Skipped\x20'+_0x24a1ac+_0x4796d9(0x1ef)),_0x1fafd3++;else{const _0x6631e3={..._0x5f54f8,'id':generateId(),'dateStr':_0x24a1ac,'seriesId':_0x2eec24};_0x1cca29[_0x4796d9(0x165)](_0x6631e3),_0xd88cf3[_0x4796d9(0x165)](_0x24a1ac);}_0x4d1a17[_0x4796d9(0x1e7)](_0x4d1a17[_0x4796d9(0x1b0)]()+0x7);}if(_0x1cca29[_0x4796d9(0x17e)]===0x0){showToast(_0x4796d9(0x9d),![]);return;}sessions['push'](..._0x1cca29),lastUserActionTime=Date['now']();let _0x12631d=_0x4796d9(0x8b)+_0x1cca29[_0x4796d9(0x17e)];_0x1fafd3>0x0&&(_0x12631d+='\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20'+_0x1fafd3+')'),showToast(_0x12631d,!![]),afterSaveAction(_0xd88cf3);}function updateSeriesBatch(_0x340897,_0xb042eb){const _0x142440=a2_0x4be98a,_0x563d4b=[],_0x9911c5=_0xb042eb[_0x142440(0x1d1)];if(_0x340897===_0x142440(0x174)){const _0x328893={..._0xb042eb,'seriesId':null},_0x18da89=sessions['findIndex'](_0x4bc103=>_0x4bc103['id']===_0xb042eb['id']);if(_0x18da89!==-0x1)sessions[_0x18da89]=_0x328893;_0x563d4b[_0x142440(0x165)](_0x328893['dateStr']);}else{if(_0x340897===_0x142440(0xfc)){const _0x20f9d2=_0xb042eb[_0x142440(0x10b)];sessions[_0x142440(0x156)]((_0x40537d,_0x4a9f41)=>{const _0x420630=_0x142440;_0x40537d[_0x420630(0x1d1)]===_0x9911c5&&_0x40537d[_0x420630(0x10b)]>=_0x20f9d2&&(sessions[_0x4a9f41]={...sessions[_0x4a9f41],'start':_0xb042eb[_0x420630(0x182)],'end':_0xb042eb[_0x420630(0x114)],'note':_0xb042eb['note'],'client':_0xb042eb[_0x420630(0x9c)],'clientId':_0xb042eb[_0x420630(0xc2)]},_0x563d4b[_0x420630(0x165)](_0x40537d[_0x420630(0x10b)]));});}}afterSaveAction(_0x563d4b);}function tryDeleteSession(){const _0x34e183=a2_0x4be98a,_0x1e42c0=sessions['find'](_0x7d8490=>_0x7d8490['id']===editingId);if(!_0x1e42c0)return;_0x1e42c0[_0x34e183(0x1d1)]?openActionSheet(_0x34e183(0x1e0)):commitDelete(_0x34e183(0x174),_0x1e42c0);}function commitDelete(_0x7fe9a7,_0x57f01b){const _0x463d31=a2_0x4be98a;lastUserActionTime=Date[_0x463d31(0x1c6)](),NotificationManager[_0x463d31(0x19e)]('cancel',_0x57f01b);const _0x52e25e=[];if(_0x7fe9a7===_0x463d31(0x174))sessions=sessions['filter'](_0x2b3709=>_0x2b3709['id']!==_0x57f01b['id']),_0x52e25e[_0x463d31(0x165)](_0x57f01b[_0x463d31(0x10b)]);else{if(_0x7fe9a7===_0x463d31(0xfc)){const _0x261358=_0x57f01b[_0x463d31(0x10b)],_0x35abbc=_0x57f01b[_0x463d31(0x1d1)];sessions[_0x463d31(0x156)](_0x3ad4b6=>{const _0x3fcc59=_0x463d31;_0x3ad4b6[_0x3fcc59(0x1d1)]===_0x35abbc&&_0x3ad4b6[_0x3fcc59(0x10b)]>=_0x261358&&_0x52e25e[_0x3fcc59(0x165)](_0x3ad4b6[_0x3fcc59(0x10b)]);}),sessions=sessions[_0x463d31(0xbf)](_0x3ba20e=>!(_0x3ba20e[_0x463d31(0x1d1)]===_0x35abbc&&_0x3ba20e[_0x463d31(0x10b)]>=_0x261358));}}afterSaveAction(_0x52e25e);}function afterSaveAction(_0x31cdaf){const _0x1632a4=a2_0x4be98a;DataManager[_0x1632a4(0x110)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x1632a4(0x121)](_0x31cdaf)[_0x1632a4(0x11e)](()=>console[_0x1632a4(0x1a4)](_0x1632a4(0x12c)))['catch'](_0x573789=>showToast(_0x1632a4(0xa7),![]));}const NotificationManager={'formatDate'(_0x40b671){const _0x10811e=a2_0x4be98a,_0x24d38f=new Date(_0x40b671),_0x3e962f={'weekday':'long','day':_0x10811e(0x94),'month':_0x10811e(0x141)};let _0x499410=_0x24d38f[_0x10811e(0x162)](_0x10811e(0x134),_0x3e962f);return _0x499410[_0x10811e(0x113)](0x0)[_0x10811e(0x192)]()+_0x499410['slice'](0x1);},'getText'(_0x3e9083,_0x361916){const _0x10c7ed=a2_0x4be98a,_0xe27473=this[_0x10c7ed(0x119)](_0x361916[_0x10c7ed(0x10b)]);switch(_0x3e9083){case _0x10c7ed(0x14d):return _0x10c7ed(0xae)+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0xe27473+'\x0a')+(_0x10c7ed(0x91)+_0x361916['start']+_0x10c7ed(0xe3)+_0x361916[_0x10c7ed(0x114)]+'\x0a\x0a')+_0x10c7ed(0x20d);case _0x10c7ed(0x117):return _0x10c7ed(0xc5)+'–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a'+(_0x10c7ed(0x101)+_0x361916[_0x10c7ed(0x182)]+_0x10c7ed(0xe3)+_0x361916[_0x10c7ed(0x114)]+'</b>\x0a\x0a')+(_0x10c7ed(0x18b)+_0xe27473);case _0x10c7ed(0x150):return _0x10c7ed(0x1a5)+(_0x10c7ed(0x173)+_0xe27473+'\x20('+_0x361916['start']+_0x10c7ed(0x139));case _0x10c7ed(0x12b):return _0x10c7ed(0xbe)+'–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a'+_0x10c7ed(0xe0);default:return'';}},async 'send'(_0x50e024,_0x5e42f4){const _0x477758=a2_0x4be98a;console['log'](_0x477758(0x1e5),_0x50e024,_0x5e42f4);if(!_0x5e42f4){console[_0x477758(0xf1)](_0x477758(0x1d3));return;}const _0x4cc3ed=String(_0x5e42f4[_0x477758(0xc2)]);console[_0x477758(0x1a4)]('[Notify]\x20Detected\x20Client\x20ID:',_0x4cc3ed);if(!_0x5e42f4['clientId']||_0x4cc3ed==='undefined'||_0x4cc3ed===_0x477758(0xb1)){console[_0x477758(0xf1)](_0x477758(0x1c8));if(_0x5e42f4[_0x477758(0x9c)]){const _0x5a3ff0=clients[_0x477758(0x20c)](_0x235d7d=>_0x235d7d['name']===_0x5e42f4[_0x477758(0x9c)]);if(_0x5a3ff0)return console[_0x477758(0x1a4)](_0x477758(0x15a),_0x5a3ff0['id']),this['send'](_0x50e024,{..._0x5e42f4,'clientId':_0x5a3ff0['id']});}return;}if(_0x4cc3ed['length']<0x5){console[_0x477758(0x1e4)](_0x477758(0x16d),_0x4cc3ed);return;}const _0x597ea1=this[_0x477758(0x202)](_0x50e024,_0x5e42f4);if(!_0x597ea1){console[_0x477758(0xf1)](_0x477758(0xf5));return;}console[_0x477758(0x1a4)](_0x477758(0x167)+_0x4cc3ed+_0x477758(0x171)),DataManager[_0x477758(0x17c)]('send_notification',{'chatId':_0x4cc3ed,'text':_0x597ea1})[_0x477758(0x11e)](_0x174aea=>console[_0x477758(0x1a4)](_0x477758(0x14f),_0x174aea))[_0x477758(0x131)](_0x2892f8=>console[_0x477758(0xf1)](_0x477758(0x1dc),_0x2892f8));}};function getLocalDateStr(_0x3a198a){const _0x388ed9=a2_0x4be98a,_0x79b2c1=_0x3a198a[_0x388ed9(0xda)](),_0x3595c9=String(_0x3a198a[_0x388ed9(0x16f)]()+0x1)[_0x388ed9(0xed)](0x2,'0'),_0x40b443=String(_0x3a198a[_0x388ed9(0x1b0)]())[_0x388ed9(0xed)](0x2,'0');return _0x79b2c1+'-'+_0x3595c9+'-'+_0x40b443;}function getDateStr(_0x2093b4){const _0x696f3a=a2_0x4be98a,_0x1aef86=new Date();return _0x1aef86[_0x696f3a(0x1e7)](_0x1aef86[_0x696f3a(0x1b0)]()+_0x2093b4),getLocalDateStr(_0x1aef86);}function getStartOfWeek(_0x4df645){const _0x56dba3=a2_0x4be98a,_0x3202e7=new Date(_0x4df645),_0x295745=_0x3202e7['getDay'](),_0x13f209=_0x3202e7[_0x56dba3(0x1b0)]()-_0x295745+(_0x295745===0x0?-0x6:0x1);return _0x3202e7['setDate'](_0x13f209),_0x3202e7[_0x56dba3(0xb8)](0x0,0x0,0x0,0x0),_0x3202e7;}function hexToRgba(_0x5567db,_0x10bcb2){const _0x681811=a2_0x4be98a;if(!_0x5567db)return _0x681811(0xf8);let _0x201d82=0x0,_0x45e71e=0x0,_0x3003f0=0x0;if(_0x5567db[_0x681811(0x17e)]===0x4)_0x201d82='0x'+_0x5567db[0x1]+_0x5567db[0x1],_0x45e71e='0x'+_0x5567db[0x2]+_0x5567db[0x2],_0x3003f0='0x'+_0x5567db[0x3]+_0x5567db[0x3];else _0x5567db['length']===0x7&&(_0x201d82='0x'+_0x5567db[0x1]+_0x5567db[0x2],_0x45e71e='0x'+_0x5567db[0x3]+_0x5567db[0x4],_0x3003f0='0x'+_0x5567db[0x5]+_0x5567db[0x6]);return'rgba('+ +_0x201d82+',\x20'+ +_0x45e71e+',\x20'+ +_0x3003f0+',\x20'+_0x10bcb2+')';}function renderTimeColumn(){const _0x2127f7=a2_0x4be98a,_0x11ddac=document[_0x2127f7(0x1d9)]('timeColumn'),_0x725b83=document[_0x2127f7(0x1d9)](_0x2127f7(0xb3));_0x11ddac[_0x2127f7(0x176)]='',_0x11ddac[_0x2127f7(0xe8)](_0x725b83);for(let _0x5b81b3=0x0;_0x5b81b3<0x18;_0x5b81b3++){const _0x307ea9=document['createElement']('div');_0x307ea9[_0x2127f7(0x12f)]=_0x2127f7(0x8d);if(_0x5b81b3>0x0)_0x307ea9['innerHTML']=_0x2127f7(0x109)+String(_0x5b81b3)[_0x2127f7(0xed)](0x2,'0')+_0x2127f7(0x129);_0x11ddac[_0x2127f7(0xe8)](_0x307ea9);}}function renderDayRange(_0x5082b5,_0x4a9bbe){const _0x504710=a2_0x4be98a,_0x31543e=document[_0x504710(0x1d9)]('daysHeaderTrack'),_0xdd5d21=document[_0x504710(0x1d9)](_0x504710(0x1f9)),_0x20120e=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x39f60a=new Date();_0x39f60a['setHours'](0x0,0x0,0x0,0x0);const _0x5cce3d=getLocalDateStr(new Date());for(let _0x2186b9=_0x5082b5;_0x2186b9<=_0x4a9bbe;_0x2186b9++){const _0x514c1c=new Date(_0x39f60a);_0x514c1c['setDate'](_0x514c1c[_0x504710(0x1b0)]()+_0x2186b9);const _0x3bb724=getLocalDateStr(_0x514c1c);let _0x4fdf59=_0x514c1c[_0x504710(0x14e)]()-0x1;if(_0x4fdf59===-0x1)_0x4fdf59=0x6;const _0x994bd6=_0x3bb724===_0x5cce3d,_0x4d0942=document[_0x504710(0x178)](_0x504710(0x1c4));_0x4d0942['className']=_0x504710(0x19c)+(_0x994bd6?_0x504710(0x177):''),_0x4d0942['id']=_0x504710(0xaa)+_0x3bb724,_0x4d0942[_0x504710(0xd5)]('data-date',_0x3bb724),_0x4d0942['innerHTML']=_0x504710(0x1bf)+_0x20120e[_0x4fdf59]+_0x504710(0x169)+_0x514c1c[_0x504710(0x1b0)]()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0x3bb724+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x4d0942[_0x504710(0x181)]=()=>openDayOptions(_0x3bb724,_0x20120e[_0x4fdf59]+'\x20'+_0x514c1c[_0x504710(0x1b0)]()),_0x31543e[_0x504710(0xe8)](_0x4d0942);const _0x1f6564=document['createElement'](_0x504710(0x1c4));_0x1f6564[_0x504710(0x12f)]=_0x504710(0x98)+(_0x994bd6?'today':''),_0x1f6564[_0x504710(0xd5)](_0x504710(0xf0),_0x3bb724),_0x1f6564[_0x504710(0xd5)](_0x504710(0x203),_0x4fdf59),renderEventsForColumn(_0x1f6564,_0x3bb724,_0x4fdf59),attachLongPressHandler(_0x1f6564,_0x514c1c),_0xdd5d21['appendChild'](_0x1f6564),updateDayStats(_0x3bb724);}}function reRenderBlocks(){const _0x253c05=a2_0x4be98a;document[_0x253c05(0xc0)](_0x253c05(0xd4))[_0x253c05(0x156)](_0x4aa3e2=>{const _0x230f7a=_0x253c05;_0x4aa3e2[_0x230f7a(0xc0)](_0x230f7a(0x206))[_0x230f7a(0x156)](_0x5a7e7b=>_0x5a7e7b[_0x230f7a(0xe6)]());const _0xe8236a=_0x4aa3e2['getAttribute'](_0x230f7a(0xf0)),_0x44e04d=parseInt(_0x4aa3e2['getAttribute'](_0x230f7a(0x203))),_0x6993d8=Math['round'](_0x4aa3e2[_0x230f7a(0x16e)]);(availabilityPattern[_0x44e04d]||[])[_0x230f7a(0x156)](_0x22e443=>{const _0xffb7e=_0x230f7a,_0x3a132b=document['createElement'](_0xffb7e(0x1c4));_0x3a132b[_0xffb7e(0x12f)]=_0xffb7e(0xad);const _0x221106=_0x22e443*GRID_H;_0x3a132b['style'][_0xffb7e(0x1b4)]=_0x221106+'px',_0x3a132b[_0xffb7e(0x15d)]['backgroundPosition']='-'+_0x6993d8+'px\x20-'+_0x221106+'px',_0x4aa3e2[_0xffb7e(0xe8)](_0x3a132b);});if(specialRanges&&specialRanges[_0x230f7a(0x17e)]>0x0){const _0x3bf608=new Date(_0xe8236a+_0x230f7a(0x1cf))[_0x230f7a(0x104)](),_0x1618c3=new Date(_0xe8236a+_0x230f7a(0x164))[_0x230f7a(0x104)]();specialRanges['forEach'](_0x39aedf=>{const _0x2e24be=_0x230f7a,_0x54fcf4=new Date(_0x39aedf['start'])['getTime'](),_0x171010=new Date(_0x39aedf['end'])['getTime'](),_0x5d73c3=Math[_0x2e24be(0x132)](_0x3bf608,_0x54fcf4),_0x551bcc=Math[_0x2e24be(0x126)](_0x1618c3,_0x171010);if(_0x5d73c3<_0x551bcc){if(_0x5d73c3<=_0x3bf608&&_0x551bcc>=_0x1618c3-0xea60){if(!_0x4aa3e2['querySelector'](_0x2e24be(0x168))){const _0x31c61d=document['createElement']('div');_0x31c61d[_0x2e24be(0x12f)]='day-off-overlay\x20stripe-bg',_0x31c61d['style'][_0x2e24be(0x111)]='-'+_0x6993d8+_0x2e24be(0x15e),_0x4aa3e2[_0x2e24be(0xe8)](_0x31c61d);}}else{const _0x2e6d73=(_0x5d73c3-_0x3bf608)/0x36ee80*GRID_H,_0x2744b8=(_0x551bcc-_0x5d73c3)/0x36ee80*GRID_H,_0x429987=document[_0x2e24be(0x178)]('div');_0x429987[_0x2e24be(0x12f)]=_0x2e24be(0x1fd),_0x429987['style']['top']=_0x2e6d73+'px',_0x429987[_0x2e24be(0x15d)][_0x2e24be(0x124)]=_0x2744b8+'px',_0x429987[_0x2e24be(0x15d)][_0x2e24be(0x111)]='-'+_0x6993d8+_0x2e24be(0xef)+_0x2e6d73+'px',_0x4aa3e2['appendChild'](_0x429987);}}});}if(dateExceptions[_0xe8236a]===_0x230f7a(0x14b)){if(!_0x4aa3e2['querySelector'](_0x230f7a(0x168))){const _0x5c0409=document['createElement']('div');_0x5c0409[_0x230f7a(0x12f)]='day-off-overlay\x20stripe-bg',_0x5c0409[_0x230f7a(0x15d)]['backgroundPosition']='-'+_0x6993d8+_0x230f7a(0x15e),_0x4aa3e2[_0x230f7a(0xe8)](_0x5c0409);}}renderEventsForColumn(_0x4aa3e2,_0xe8236a,_0x44e04d),updateDayStats(_0xe8236a);});}function updateAllDayStats(){const _0x2cb89f=a2_0x4be98a;document[_0x2cb89f(0xc0)](_0x2cb89f(0x208))[_0x2cb89f(0x156)](_0x1f0efb=>{const _0x6d35d8=_0x2cb89f;updateDayStats(_0x1f0efb[_0x6d35d8(0x153)](_0x6d35d8(0xf0)));});}function updateDayStats(_0x3615af){const _0x1694de=a2_0x4be98a,_0x4523f1=document[_0x1694de(0x1d9)]('stat-'+_0x3615af);if(!_0x4523f1)return;const _0x5d4904=new Date(_0x3615af);let _0x433cf3=_0x5d4904[_0x1694de(0x14e)]()-0x1;if(_0x433cf3===-0x1)_0x433cf3=0x6;if(dateExceptions[_0x3615af]===_0x1694de(0x14b)){_0x4523f1[_0x1694de(0x15d)][_0x1694de(0xf3)]=_0x1694de(0x122);return;}const _0x7e9c3=availabilityPattern[_0x433cf3]||[],_0x87f5a7=0x18-_0x7e9c3[_0x1694de(0x17e)],_0x3f0bdf=_0x87f5a7*0x3c,_0xd17534=sessions[_0x1694de(0xbf)](_0x3b4f4c=>_0x3b4f4c['dateStr']===_0x3615af&&_0x3b4f4c[_0x1694de(0xf7)]!==_0x1694de(0x11d));if(_0xd17534[_0x1694de(0x17e)]===0x0){_0x4523f1['style']['display']='none';return;}let _0x19cf59=_0xd17534['map'](_0x4aa4e3=>{const _0x215436=_0x1694de,[_0x2f33db,_0x2c12e2]=_0x4aa4e3[_0x215436(0x182)][_0x215436(0x127)](':')[_0x215436(0x1f3)](Number),[_0x518681,_0x145ed3]=_0x4aa4e3[_0x215436(0x114)]['split'](':')[_0x215436(0x1f3)](Number);return[_0x2f33db*0x3c+_0x2c12e2,_0x518681*0x3c+_0x145ed3];});_0x19cf59[_0x1694de(0x1a8)]((_0xce6ea8,_0x477890)=>_0xce6ea8[0x0]-_0x477890[0x0]);let _0xf9b514=[];if(_0x19cf59['length']>0x0){let _0x11750c=_0x19cf59[0x0];for(let _0x46a435=0x1;_0x46a435<_0x19cf59[_0x1694de(0x17e)];_0x46a435++){_0x19cf59[_0x46a435][0x0]<_0x11750c[0x1]?_0x11750c[0x1]=Math[_0x1694de(0x132)](_0x11750c[0x1],_0x19cf59[_0x46a435][0x1]):(_0xf9b514[_0x1694de(0x165)](_0x11750c),_0x11750c=_0x19cf59[_0x46a435]);}_0xf9b514['push'](_0x11750c);}let _0x312718=0x0;_0xf9b514[_0x1694de(0x156)](_0x25faae=>_0x312718+=_0x25faae[0x1]-_0x25faae[0x0]),_0x4523f1['style'][_0x1694de(0xf3)]='flex';const _0x20940c=_0x4523f1['querySelector'](_0x1694de(0x15b));if(_0x3f0bdf===0x0){_0x20940c[_0x1694de(0x15d)][_0x1694de(0x107)]='100%',_0x20940c['style']['background']=_0x1694de(0x196);return;}const _0x1c7517=_0x312718/_0x3f0bdf*0x64;console[_0x1694de(0x1a4)]('['+_0x3615af+_0x1694de(0xa0)+_0x87f5a7+_0x1694de(0x190)+_0x312718+_0x1694de(0xb2)+_0x1c7517[_0x1694de(0x1f1)](0x1)+'%'),_0x1c7517>0x64?(_0x20940c[_0x1694de(0x15d)][_0x1694de(0x107)]=_0x1694de(0x199),_0x20940c[_0x1694de(0x15d)][_0x1694de(0xbd)]='var(--acc-red)'):(_0x20940c['style'][_0x1694de(0x107)]=_0x1c7517+'%',_0x20940c[_0x1694de(0x15d)]['background']=_0x1694de(0x1aa));}function renderEventsForColumn(_0xa1a65d,_0x8b8f71,_0x5e8cd6){const _0x50f3be=a2_0x4be98a,_0x35ccf2=sessions[_0x50f3be(0xbf)](_0x230ea6=>_0x230ea6[_0x50f3be(0x10b)]===_0x8b8f71),_0x5d2e3b=_0x35ccf2['map'](_0x17d171=>{const _0x3e3dbb=_0x50f3be,[_0x56b512,_0x44b9e6]=_0x17d171[_0x3e3dbb(0x182)][_0x3e3dbb(0x127)](':')[_0x3e3dbb(0x1f3)](Number),[_0x4a4897,_0x225313]=_0x17d171[_0x3e3dbb(0x114)]['split'](':')[_0x3e3dbb(0x1f3)](Number);return{'data':_0x17d171,'start':_0x56b512*0x3c+_0x44b9e6,'end':_0x4a4897*0x3c+_0x225313,'colIndex':0x0};});_0x5d2e3b[_0x50f3be(0x1a8)]((_0x14f971,_0x2b09e3)=>{const _0x3c73a3=_0x50f3be;if(_0x14f971[_0x3c73a3(0x182)]!==_0x2b09e3[_0x3c73a3(0x182)])return _0x14f971['start']-_0x2b09e3[_0x3c73a3(0x182)];return _0x2b09e3[_0x3c73a3(0x114)]-_0x2b09e3[_0x3c73a3(0x182)]-(_0x14f971[_0x3c73a3(0x114)]-_0x14f971[_0x3c73a3(0x182)]);});const _0x55c9f1=[];_0x5d2e3b[_0x50f3be(0x156)](_0x5bd15a=>{const _0x5beaaf=_0x50f3be;let _0x5608bd=![];for(let _0x48aab4=0x0;_0x48aab4<_0x55c9f1['length'];_0x48aab4++){const _0x19677c=_0x55c9f1[_0x48aab4],_0x4f227f=_0x19677c[_0x19677c[_0x5beaaf(0x17e)]-0x1];if(_0x5bd15a['start']>=_0x4f227f[_0x5beaaf(0x114)]){_0x19677c[_0x5beaaf(0x165)](_0x5bd15a),_0x5bd15a[_0x5beaaf(0xac)]=_0x48aab4,_0x5608bd=!![];break;}}!_0x5608bd&&(_0x55c9f1['push']([_0x5bd15a]),_0x5bd15a[_0x5beaaf(0xac)]=_0x55c9f1[_0x5beaaf(0x17e)]-0x1);}),_0x5d2e3b[_0x50f3be(0x156)](_0x1bd570=>{const _0x12788e=_0x50f3be;let _0x224984=0x0;_0x5d2e3b[_0x12788e(0x156)](_0x42e82e=>{const _0x3b1186=_0x12788e;if(Math[_0x3b1186(0x132)](_0x1bd570[_0x3b1186(0x182)],_0x42e82e[_0x3b1186(0x182)])<Math[_0x3b1186(0x126)](_0x1bd570['end'],_0x42e82e['end'])){if(_0x42e82e[_0x3b1186(0xac)]>_0x224984)_0x224984=_0x42e82e[_0x3b1186(0xac)];}});const _0xc2b8e6=_0x224984+0x1,_0x52e01a=0x64/_0xc2b8e6,_0x55f8e0=_0x1bd570[_0x12788e(0xac)]*_0x52e01a,_0x422080=createEventEl(_0x1bd570['data']);_0x422080[_0x12788e(0x15d)][_0x12788e(0x107)]=_0x12788e(0x1f2)+_0x52e01a+_0x12788e(0x1ce),_0x422080[_0x12788e(0x15d)][_0x12788e(0xf4)]=_0x12788e(0x1f2)+_0x55f8e0+_0x12788e(0xf2),_0x422080[_0x12788e(0x15d)]['zIndex']=0xa+_0x1bd570['colIndex'],_0x52e01a<0x55&&_0x422080['classList'][_0x12788e(0xe7)](_0x12788e(0x15f)),_0xa1a65d[_0x12788e(0xe8)](_0x422080);});}function createEventEl(_0x194b59){const _0x1a03ae=a2_0x4be98a,[_0x38a670,_0x3f567e]=_0x194b59[_0x1a03ae(0x182)][_0x1a03ae(0x127)](':')[_0x1a03ae(0x1f3)](Number),[_0xfe6121,_0x4c3748]=_0x194b59[_0x1a03ae(0x114)][_0x1a03ae(0x127)](':')[_0x1a03ae(0x1f3)](Number),_0x5b0239=(_0x38a670*0x3c+_0x3f567e)/0x3c*GRID_H,_0x2dd6d5=(_0xfe6121*0x3c+_0x4c3748-(_0x38a670*0x3c+_0x3f567e))/0x3c*GRID_H,_0x1a78a3=document[_0x1a03ae(0x178)](_0x1a03ae(0x1c4)),_0x3fb398=_0x194b59[_0x1a03ae(0xf7)]===_0x1a03ae(0x130)?_0x1a03ae(0x180):'';_0x1a78a3[_0x1a03ae(0x12f)]=_0x1a03ae(0x136)+_0x3fb398,_0x1a78a3[_0x1a03ae(0x15d)][_0x1a03ae(0x1b4)]=_0x5b0239+'px',_0x1a78a3[_0x1a03ae(0x15d)][_0x1a03ae(0x124)]=Math[_0x1a03ae(0x132)](_0x2dd6d5,0x14)+'px';const _0x138aa5=clients['find'](_0x5d9a0c=>_0x194b59[_0x1a03ae(0xc2)]&&String(_0x5d9a0c['id'])===String(_0x194b59[_0x1a03ae(0xc2)])||_0x5d9a0c[_0x1a03ae(0xe2)]===_0x194b59[_0x1a03ae(0x9c)]),_0x425ad4=_0x138aa5?_0x138aa5[_0x1a03ae(0x207)]:'#0a84ff';_0x1a78a3[_0x1a03ae(0x15d)][_0x1a03ae(0xd3)]=_0x425ad4,_0x1a78a3[_0x1a03ae(0x15d)]['backgroundColor']=hexToRgba(_0x425ad4,0.85);let _0xe67834=_0x1a03ae(0x1f6)+_0x194b59['client']+_0x1a03ae(0x1a6)+_0x194b59[_0x1a03ae(0x182)]+_0x1a03ae(0x1eb)+_0x194b59[_0x1a03ae(0x114)]+_0x1a03ae(0x97);return _0x194b59[_0x1a03ae(0x1d1)]&&(_0xe67834+='<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>'),_0x194b59[_0x1a03ae(0xf7)]===_0x1a03ae(0x130)&&(_0xe67834+='<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>'),_0x1a78a3[_0x1a03ae(0x176)]=_0xe67834,_0x1a78a3[_0x1a03ae(0x181)]=_0xdc3331=>{const _0xbb6cc5=_0x1a03ae;_0xdc3331[_0xbb6cc5(0x8f)](),openEdit(_0x194b59);},_0x1a78a3;}function a2_0x31d2(){const _0x7a6a54=['off','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','create','getDay','[Notify]\x20Server\x20Response:','cancel',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','calendar','getAttribute','getMinutes','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','forEach','scrollWidth','flex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','.dch-stats-fill','user','style','px\x200px','mini','warning','parse','toLocaleDateString','active','T23:59:59','push','inpClient','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','.day-off-overlay','</div><div\x20class=\x22dch-num\x22>','\x20days','note','settingsSheet','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','offsetLeft','getMonth','8281987ezULgM','...','asTitle','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','single','inpRecurring','innerHTML','today','createElement','btnStatusToggle','getBoundingClientRect','planned','fetchFromServer','mergeServerData','length','floor','\x20status-completed','onclick','start','router.html','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','13539080vSVSaN','rangesSheet','inpNote','[Sync]\x20Loading\x20','touchstart','week','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','valid','mouseup','</span>\x20/\x20','setHeaderColor','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','rgba(255,\x20159,\x2010,\x200.3)','toUpperCase','as-button\x20danger\x20bold','sheetTitle','–£—Å–ø–µ—à–Ω–æ','var(--acc-red)','onClick','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','100%','checked','.day-column','day-col-header\x20','entries','send','addEventListener','open','option','ranges','doEventsList','log','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','</div><div\x20class=\x22ev-time\x22>','localeCompare','sort','text','var(--acc-current)','from','9WWsPRp','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','rangeEndTime','Unknown','getDate','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','target','doDateHeader','top','classList','globalTimeLine','Error\x20setting\x20color:','10px\x2010px\x200\x200','WebApp','sid','Server\x20Error','23:59','POST','settings','<div\x20class=\x22dch-day\x22>','dayOptionsSheet','10WhbAQx','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','expand','div','touches','now','total','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','save','all','slice','btnDayToggle','touchmove','%\x20-\x204px)','T00:00:00','scroll','seriesId','show','[Notify]\x20Error:\x20sessionData\x20is\x20null','constructor','.event-card','1sOByYL','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','1570676tJtLRd','getElementById','borderColor','btn-primary\x20btn-danger','[Notify]\x20Network\x20Failed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','syncLoad','success','delete','pe-cell\x20','[Notify]\x20Client\x20SWAP\x20detected','disableVerticalSwipes','warn','[Notify]\x20Attempting\x20to\x20send:','vibrate','setDate','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','daysHeaderTrack','touchend','\x20-\x20','inpDate','analyticsSheet','cancel_window',':\x20Client\x20already\x20booked','rgba(255,255,255,0.05)','toFixed','calc(','map','stringify','getItem','<div\x20class=\x22ev-title\x22>','btnDelete','16253380KHcnLy','gridColumns','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','rgba(48,\x20209,\x2088,\x200.15)','getHours','blocked-range-part\x20stripe-bg','startsWith','round',']\x20Failed:','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','getText','data-day-idx','1331138ANOnzR','toString','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','color','.day-col-header','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','uc_clients_v9','toastTitle','find','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','inpStart','peGrid','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','mousemove','time-label','splice','stopPropagation','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','toast-notification\x20','rangesList','numeric','doBusyHours','asBtnSeries','</div>','day-column\x20','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','doWorkHours','json','client','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','Local\x20Load\x20Error','as-button\x20danger','dayOptionsTitle','anEnd','save_settings','scrollLeft','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','statLoadCard','btn-status-toggle','header-','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','colIndex','blocked-slot\x20stripe-bg','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','indexOf','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','null','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','timeLineBadge','doLoadPercent','rangeStartDate','initDataUnsafe','sessionSheet','setHours','toast','inpSeriesCount','1285803BtWQqa','asBtnOne','background','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','filter','querySelectorAll','range-item','clientId','offClick','2179704vZTBFP','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','scrollTop','settingCancelWindow','Local\x20Save\x20Error','#050505','\x20–∏–∑\x20','rgba(255,\x2069,\x2058,\x200.3)','querySelector','[API\x20','firstChild','patternEditor','createDocumentFragment',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','.sheet','borderLeftColor','#gridColumns\x20.day-column','setAttribute','location','href','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','uc_settings_cancel_window','getFullYear','anStart','closest','pattern','#fff','insertBefore','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','exceptions','name','\x20‚Äî\x20','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','DOMContentLoaded','remove','add','appendChild','clients','substr','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','strokeDashoffset','padStart','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','px\x20-','data-date','error','%\x20+\x202px)','display','left','[Notify]\x20Error:\x20Text\x20generation\x20failed','seriesCountContainer','status','rgba(100,100,100,0.5)','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','inpEnd','series','textContent','recurringOptionContainer','random','BackButton','<b>‚úÖ\x20','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','uc_settings_v9','getTime','.period-switch\x20.p-btn','Critical\x20TMA\x20Error:','width','search','<span>','keys','dateStr','setItem','actionSheetOverlay','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','clientY','saveLocally','backgroundPosition','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','charAt','end','offsetWidth','borderRadius','update','rgba(255,\x2069,\x2058,\x200.15)','formatDate','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','toastMessage','cancelled','then','actionSheet','value','syncBatch','none','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','height','setMonth','min','split','–£–¥–∞–ª–µ–Ω–∏–µ',':00</span>','headerMonth','complete','Batch\x20Sync\x20OK','block','rangeStartTime','className','completed','catch','max','pe-col-header','ru-RU','[Settings]\x20Cancel\x20window\x20set\x20to:','event-card','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','Telegram',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.',':00','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','matrixViewport','setBackgroundColor','done','overlay','data','long','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','isArray','includes','patternInfoBox','var(--acc-green)','var(--acc-orange)','client-stat-card','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','ready'];a2_0x31d2=function(){return _0x7a6a54;};return a2_0x31d2();}function attachLongPressHandler(_0x38f3ae,_0x4fc051){const _0xcdf483=a2_0x4be98a;let _0x365b5c=0x0,_0x432186=null;const _0x22e51b=_0x3d562b=>{const _0x28e0e4=a2_0xeb91;if(_0x3d562b[_0x28e0e4(0x1b2)][_0x28e0e4(0xdc)](_0x28e0e4(0x1d5)))return;isScrolling=![],_0x365b5c=_0x3d562b[_0x28e0e4(0x1c5)]?_0x3d562b['touches'][0x0][_0x28e0e4(0x10f)]:_0x3d562b[_0x28e0e4(0x10f)],_0x432186=setTimeout(()=>{const _0x50491e=_0x28e0e4;if(!isScrolling){navigator[_0x50491e(0x1e6)]?.(0x32);const _0x8f2541=_0x38f3ae[_0x50491e(0x17a)](),_0x25d62b=Math[_0x50491e(0x17f)]((_0x365b5c-_0x8f2541[_0x50491e(0x1b4)])/GRID_H);_0x4fc051[_0x50491e(0xb8)](_0x25d62b,0x0),openAddSession(_0x4fc051);}},0x1f4);},_0x151785=()=>{isScrolling=!![],clearTimeout(_0x432186);},_0x1c9481=()=>{clearTimeout(_0x432186);};_0x38f3ae[_0xcdf483(0x19f)](_0xcdf483(0x189),_0x22e51b,{'passive':!![]}),_0x38f3ae[_0xcdf483(0x19f)](_0xcdf483(0x1cd),_0x151785,{'passive':!![]}),_0x38f3ae['addEventListener'](_0xcdf483(0x1ea),_0x1c9481),_0x38f3ae[_0xcdf483(0x19f)]('mousedown',_0x22e51b),_0x38f3ae[_0xcdf483(0x19f)](_0xcdf483(0x8c),_0x151785),_0x38f3ae[_0xcdf483(0x19f)](_0xcdf483(0x18d),_0x1c9481);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x33be35=a2_0x4be98a,_0xd3afab=document[_0x33be35(0x1d9)](_0x33be35(0x13c)),_0x5cacfb=_0xd3afab['scrollLeft'],_0x27f4e6=_0xd3afab[_0x33be35(0x157)],_0x5f38df=_0xd3afab['clientWidth'];if(_0x27f4e6-(_0x5cacfb+_0x5f38df)<0x12c){const _0x2c0879=endOffset;endOffset+=0xe,renderDayRange(_0x2c0879+0x1,endOffset),reRenderBlocks();}if(_0x5cacfb<0x12c){const _0x253cbd=startOffset;startOffset-=0xe,prependDays(startOffset,_0x253cbd-0x1),_0xd3afab[_0x33be35(0xa6)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x1f8555,_0x3d28b4){const _0x107c46=a2_0x4be98a,_0x4cb5e2=document[_0x107c46(0x1d9)](_0x107c46(0x1e9)),_0x495f29=document[_0x107c46(0x1d9)](_0x107c46(0x1f9)),_0x5d4045=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x277681=new Date();_0x277681[_0x107c46(0xb8)](0x0,0x0,0x0,0x0);const _0x158741=getLocalDateStr(new Date()),_0x1e9451=document[_0x107c46(0xd0)](),_0x2820e8=document[_0x107c46(0xd0)]();for(let _0x2d0d0c=_0x1f8555;_0x2d0d0c<=_0x3d28b4;_0x2d0d0c++){const _0x5de668=new Date(_0x277681);_0x5de668[_0x107c46(0x1e7)](_0x5de668[_0x107c46(0x1b0)]()+_0x2d0d0c);const _0x5c8e1a=getLocalDateStr(_0x5de668);let _0x1e28dc=_0x5de668['getDay']()-0x1;if(_0x1e28dc===-0x1)_0x1e28dc=0x6;const _0x3c9833=_0x5c8e1a===_0x158741,_0x333ee5=document[_0x107c46(0x178)]('div');_0x333ee5['className']=_0x107c46(0x19c)+(_0x3c9833?_0x107c46(0x177):''),_0x333ee5['id']=_0x107c46(0xaa)+_0x5c8e1a,_0x333ee5['setAttribute'](_0x107c46(0xf0),_0x5c8e1a),_0x333ee5['innerHTML']=_0x107c46(0x1bf)+_0x5d4045[_0x1e28dc]+_0x107c46(0x169)+_0x5de668[_0x107c46(0x1b0)]()+_0x107c46(0x198)+_0x5c8e1a+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x333ee5[_0x107c46(0x181)]=()=>openDayOptions(_0x5c8e1a,_0x5d4045[_0x1e28dc]+'\x20'+_0x5de668[_0x107c46(0x1b0)]()),_0x1e9451[_0x107c46(0xe8)](_0x333ee5);const _0x4aa304=document[_0x107c46(0x178)](_0x107c46(0x1c4));_0x4aa304[_0x107c46(0x12f)]=_0x107c46(0x98)+(_0x3c9833?_0x107c46(0x177):''),_0x4aa304[_0x107c46(0xd5)](_0x107c46(0xf0),_0x5c8e1a),_0x4aa304[_0x107c46(0xd5)](_0x107c46(0x203),_0x1e28dc),renderEventsForColumn(_0x4aa304,_0x5c8e1a,_0x1e28dc),attachLongPressHandler(_0x4aa304,_0x5de668),_0x2820e8[_0x107c46(0xe8)](_0x4aa304),updateDayStats(_0x5c8e1a);}_0x4cb5e2[_0x107c46(0xdf)](_0x1e9451,_0x4cb5e2[_0x107c46(0xce)]),_0x495f29[_0x107c46(0xdf)](_0x2820e8,_0x495f29[_0x107c46(0xcc)](_0x107c46(0x19b)));}function validateAppointment(_0x15393b,_0x50ef07,_0xe510e9,_0x5452a3,_0x4bb354){const _0x15d6cb=a2_0x4be98a,[_0x4bbedf,_0x41d200]=_0x50ef07['split'](':')[_0x15d6cb(0x1f3)](Number),[_0x44a272,_0x456289]=_0xe510e9['split'](':')[_0x15d6cb(0x1f3)](Number),_0x4886f3=_0x4bbedf*0x3c+_0x41d200,_0x5137f2=_0x44a272*0x3c+_0x456289,_0x4999b7=String(_0x4bb354);let _0x46c191=![],_0x1c4426='';for(let _0x5f0ec9 of sessions){if(_0x5f0ec9[_0x15d6cb(0x10b)]!==_0x15393b)continue;if(_0x5f0ec9[_0x15d6cb(0xf7)]===_0x15d6cb(0x11d))continue;if(_0x5452a3&&String(_0x5f0ec9['id'])===String(_0x5452a3))continue;const [_0x2e6460,_0x2e7933]=_0x5f0ec9[_0x15d6cb(0x182)][_0x15d6cb(0x127)](':')[_0x15d6cb(0x1f3)](Number),[_0x32c3b3,_0x317c8a]=_0x5f0ec9[_0x15d6cb(0x114)][_0x15d6cb(0x127)](':')['map'](Number),_0x368146=_0x2e6460*0x3c+_0x2e7933,_0x4d0b45=_0x32c3b3*0x3c+_0x317c8a;if(Math[_0x15d6cb(0x132)](_0x4886f3,_0x368146)<Math['min'](_0x5137f2,_0x4d0b45)){if(_0x5f0ec9['clientId']&&String(_0x5f0ec9['clientId'])===_0x4999b7)return{'valid':![],'msg':_0x15d6cb(0x184)+_0x5f0ec9[_0x15d6cb(0x9c)]+_0x15d6cb(0x151)};_0x46c191=!![],_0x1c4426=_0x5f0ec9[_0x15d6cb(0x9c)];}}if(_0x46c191)return{'valid':!![],'warning':_0x15d6cb(0xf9)+_0x1c4426};return{'valid':!![]};}function updateDateDisplay(){const _0x42d710=a2_0x4be98a,_0x3c9cb6=document[_0x42d710(0x1d9)]('inpDate')[_0x42d710(0x120)],_0x4e8e6d=document[_0x42d710(0x1d9)]('sheetDateSubtitle');if(!_0x3c9cb6){_0x4e8e6d[_0x42d710(0xfd)]='';return;}const [_0x1fa783,_0x681143,_0x5c014f]=_0x3c9cb6[_0x42d710(0x127)]('-')[_0x42d710(0x1f3)](Number),_0x461eea=new Date(_0x1fa783,_0x681143-0x1,_0x5c014f),_0x58e7f1={'weekday':_0x42d710(0x141),'day':_0x42d710(0x94),'month':_0x42d710(0x141),'year':_0x42d710(0x94)};let _0x23fa3f=_0x461eea[_0x42d710(0x162)](_0x42d710(0x134),_0x58e7f1);_0x23fa3f=_0x23fa3f[_0x42d710(0x113)](0x0)[_0x42d710(0x192)]()+_0x23fa3f[_0x42d710(0x1cb)](0x1),_0x4e8e6d[_0x42d710(0xfd)]=_0x23fa3f;}function autoSetEndTime(){const _0x667a17=a2_0x4be98a,_0x299f4e=document[_0x667a17(0x1d9)]('inpStart')[_0x667a17(0x120)];if(!_0x299f4e)return;const [_0x27bdee,_0x817ea7]=_0x299f4e[_0x667a17(0x127)](':')[_0x667a17(0x1f3)](Number);let _0x161095=_0x27bdee+0x1;if(_0x161095>0x17)_0x161095=0x0;const _0x5d0801=String(_0x161095)[_0x667a17(0xed)](0x2,'0')+':'+String(_0x817ea7)[_0x667a17(0xed)](0x2,'0');document['getElementById']('inpEnd')[_0x667a17(0x120)]=_0x5d0801;}function populateClientSelect(){const _0x1ffaa4=a2_0x4be98a,_0x3b9548=document[_0x1ffaa4(0x1d9)](_0x1ffaa4(0x166));_0x3b9548[_0x1ffaa4(0x176)]='';if(clients['length']===0x0){const _0x2a8ce1=document[_0x1ffaa4(0x178)](_0x1ffaa4(0x1a1));_0x2a8ce1[_0x1ffaa4(0x1a9)]=_0x1ffaa4(0x1fa),_0x3b9548[_0x1ffaa4(0xe8)](_0x2a8ce1);return;}clients[_0x1ffaa4(0x156)](_0x39286b=>{const _0x1d90e4=_0x1ffaa4,_0x4c3720=document['createElement'](_0x1d90e4(0x1a1));_0x4c3720[_0x1d90e4(0x120)]=_0x39286b['name'],_0x4c3720[_0x1d90e4(0xfd)]=_0x39286b[_0x1d90e4(0xe2)],_0x3b9548[_0x1d90e4(0xe8)](_0x4c3720);});}function openActionSheet(_0x123197){const _0x2bbc10=a2_0x4be98a,_0x2e09bd=document[_0x2bbc10(0x1d9)](_0x2bbc10(0x11f)),_0x18512e=document[_0x2bbc10(0x1d9)](_0x2bbc10(0x10d)),_0x14ff7b=document['getElementById'](_0x2bbc10(0x172)),_0x8d7146=document['getElementById'](_0x2bbc10(0xbc)),_0x508d40=document[_0x2bbc10(0x1d9)](_0x2bbc10(0x96));_0x18512e[_0x2bbc10(0x1b5)][_0x2bbc10(0xe7)](_0x2bbc10(0x163)),_0x2e09bd['classList'][_0x2bbc10(0xe7)]('open');if(_0x123197===_0x2bbc10(0x1c9))_0x14ff7b[_0x2bbc10(0xfd)]=_0x2bbc10(0xb0),_0x8d7146[_0x2bbc10(0xfd)]='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x8d7146['onclick']=()=>{const _0x6385f5=_0x2bbc10;closeActionSheet(),updateSeriesBatch(_0x6385f5(0x174),tempSessionData);},_0x508d40[_0x2bbc10(0xfd)]=_0x2bbc10(0x10e),_0x508d40[_0x2bbc10(0x181)]=()=>{closeActionSheet(),updateSeriesBatch('series',tempSessionData);};else _0x123197==='delete'&&(_0x14ff7b['textContent']=_0x2bbc10(0x128),_0x8d7146[_0x2bbc10(0xfd)]='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x8d7146[_0x2bbc10(0x12f)]=_0x2bbc10(0xa2),_0x8d7146[_0x2bbc10(0x181)]=()=>{const _0x44bfec=_0x2bbc10;closeActionSheet(),commitDelete(_0x44bfec(0x174),sessions[_0x44bfec(0x20c)](_0x340f47=>_0x340f47['id']===editingId));},_0x508d40[_0x2bbc10(0xfd)]=_0x2bbc10(0x10e),_0x508d40['className']=_0x2bbc10(0x193),_0x508d40[_0x2bbc10(0x181)]=()=>{const _0x58fd95=_0x2bbc10;closeActionSheet(),commitDelete(_0x58fd95(0xfc),sessions[_0x58fd95(0x20c)](_0x2a07d4=>_0x2a07d4['id']===editingId));});}function closeActionSheet(){const _0x1a78c1=a2_0x4be98a;document['getElementById']('actionSheet')[_0x1a78c1(0x1b5)][_0x1a78c1(0xe6)](_0x1a78c1(0x1a0)),document[_0x1a78c1(0x1d9)]('actionSheetOverlay')['classList'][_0x1a78c1(0xe6)]('active');}function openSettings(){const _0xd7ba67=a2_0x4be98a;openSheet(_0xd7ba67(0x16c));}function a2_0xeb91(_0x4e8310,_0x58e327){_0x4e8310=_0x4e8310-0x88;const _0x119710=a2_0x31d2();let _0x298af2=_0x119710[_0x4e8310];return _0x298af2;}function saveCoachSettings(){const _0x27b2a9=a2_0x4be98a,_0x496e4a=document[_0x27b2a9(0x1d9)](_0x27b2a9(0xc7))[_0x27b2a9(0x120)];localStorage[_0x27b2a9(0x10c)](_0x27b2a9(0xd9),_0x496e4a),console['log'](_0x27b2a9(0x135),_0x496e4a),DataManager[_0x27b2a9(0x17c)](_0x27b2a9(0xa5),{'settings':{'cancel_window':_0x496e4a}})[_0x27b2a9(0x131)](_0x3898e4=>{const _0x7c81fd=_0x27b2a9;console['error']('Save\x20settings\x20error:',_0x3898e4),showToast(_0x7c81fd(0xe4),![]);});}function loadCoachSettings(){const _0x2a3d3c=a2_0x4be98a,_0x4a5ee5=localStorage[_0x2a3d3c(0x1f5)](_0x2a3d3c(0xd9));_0x4a5ee5&&(document['getElementById'](_0x2a3d3c(0xc7))['value']=_0x4a5ee5);}function openRangesSheet(){const _0x476901=a2_0x4be98a;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x476901(0x186));}function addRange(){const _0xcb54b6=a2_0x4be98a,_0x259cfd=document['getElementById'](_0xcb54b6(0xb5))['value'],_0x59c3ed=document['getElementById'](_0xcb54b6(0x12e))['value'],_0xc6fdd9=document['getElementById']('rangeEndDate')[_0xcb54b6(0x120)],_0x2cf7db=document[_0xcb54b6(0x1d9)](_0xcb54b6(0x1ae))['value'];if(!_0x259cfd||!_0x59c3ed||!_0xc6fdd9||!_0x2cf7db)return alert(_0xcb54b6(0x9e));const _0x490949=_0x259cfd+'T'+_0x59c3ed,_0x4c3e59=_0xc6fdd9+'T'+_0x2cf7db;if(_0x490949>=_0x4c3e59)return alert('–û—à–∏–±–∫–∞\x20–¥–∞—Ç');specialRanges[_0xcb54b6(0x165)]({'start':_0x490949,'end':_0x4c3e59}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0xcb54b6(0x110)](),DataManager[_0xcb54b6(0x17c)](_0xcb54b6(0xa5),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x1c1883){const _0x1994cd=a2_0x4be98a;specialRanges[_0x1994cd(0x8e)](_0x1c1883,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x1994cd(0x110)](),DataManager['fetchFromServer']('save_settings',{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x115f0f=a2_0x4be98a;document[_0x115f0f(0x1d9)](_0x115f0f(0xb5))[_0x115f0f(0x120)]='',document['getElementById'](_0x115f0f(0x12e))[_0x115f0f(0x120)]='00:00',document[_0x115f0f(0x1d9)]('rangeEndDate')['value']='',document['getElementById'](_0x115f0f(0x1ae))[_0x115f0f(0x120)]=_0x115f0f(0x1bc);}function renderRangesList(){const _0x28a2a4=a2_0x4be98a,_0x285764=document['getElementById'](_0x28a2a4(0x93));_0x285764[_0x28a2a4(0x176)]='';if(!specialRanges[_0x28a2a4(0x17e)]){_0x285764[_0x28a2a4(0x176)]=_0x28a2a4(0x1d7);return;}specialRanges[_0x28a2a4(0x156)]((_0x357e84,_0x3c911a)=>{const _0x28c90d=_0x28a2a4,_0x478ab1=document['createElement'](_0x28c90d(0x1c4));_0x478ab1['className']=_0x28c90d(0xc1);const _0x184ed4=_0x1195da=>{const _0x336872=_0x28c90d,_0x269f9d=new Date(_0x1195da);return _0x269f9d[_0x336872(0x1b0)]()+'.'+String(_0x269f9d['getMonth']()+0x1)[_0x336872(0xed)](0x2,'0')+'\x20'+String(_0x269f9d[_0x336872(0x1fc)]())[_0x336872(0xed)](0x2,'0')+':'+String(_0x269f9d[_0x336872(0x154)]())['padStart'](0x2,'0');};_0x478ab1['innerHTML']=_0x28c90d(0xfa)+_0x184ed4(_0x357e84[_0x28c90d(0x182)])+_0x28c90d(0xe3)+_0x184ed4(_0x357e84[_0x28c90d(0x114)])+_0x28c90d(0x99)+_0x3c911a+_0x28c90d(0xd1),_0x285764[_0x28c90d(0xe8)](_0x478ab1);});}function scrollToToday(){const _0x328974=a2_0x4be98a,_0x3075a2=getLocalDateStr(new Date()),_0x5a8622=document['getElementById'](_0x328974(0xaa)+_0x3075a2),_0xbf1bfe=document[_0x328974(0x1d9)]('matrixViewport');if(_0x5a8622&&_0xbf1bfe){const _0x1fc8c1=_0xbf1bfe['clientWidth'],_0xadc368=_0x5a8622[_0x328974(0x16e)],_0x35a197=_0x5a8622[_0x328974(0x115)];_0xbf1bfe[_0x328974(0xa6)]=_0xadc368-_0x1fc8c1/0x2+_0x35a197/0x2,_0xbf1bfe[_0x328974(0xc6)]=0x9*GRID_H;}}function onScroll(){const _0x36d3d4=a2_0x4be98a,_0x4430d8=document[_0x36d3d4(0x1d9)](_0x36d3d4(0x13c)),_0x458e65=document['querySelectorAll']('.day-col-header');for(let _0x2d9274 of _0x458e65)if(_0x2d9274[_0x36d3d4(0x16e)]>=_0x4430d8[_0x36d3d4(0xa6)]){const _0x548742=new Date(_0x2d9274[_0x36d3d4(0x153)](_0x36d3d4(0xf0)));document[_0x36d3d4(0x1d9)](_0x36d3d4(0x12a))[_0x36d3d4(0xfd)]=_0x548742['toLocaleString']('ru',{'month':'long'})['toUpperCase']()+'\x20'+_0x548742[_0x36d3d4(0xda)]();break;}}function showToast(_0x21dcea,_0x387c2c=![]){const _0x20d0e2=a2_0x4be98a,_0x14e0a0=document['getElementById'](_0x20d0e2(0xb9));_0x14e0a0[_0x20d0e2(0x12f)]=_0x20d0e2(0x92)+(_0x387c2c?_0x20d0e2(0x1df):''),document['getElementById'](_0x20d0e2(0x20b))[_0x20d0e2(0xfd)]=_0x387c2c?_0x20d0e2(0x195):'–ò–Ω—Ñ–æ',document[_0x20d0e2(0x1d9)](_0x20d0e2(0x11c))[_0x20d0e2(0xfd)]=_0x21dcea,_0x14e0a0[_0x20d0e2(0x1b5)][_0x20d0e2(0xe7)](_0x20d0e2(0x1d2)),setTimeout(()=>{const _0x3d8b33=_0x20d0e2;_0x14e0a0[_0x3d8b33(0x1b5)][_0x3d8b33(0xe6)](_0x3d8b33(0x1d2));},0xbb8);}function openDayOptions(_0x341da0,_0x575179){const _0x354c38=a2_0x4be98a;selectedDayForOptions=_0x341da0,document[_0x354c38(0x1d9)](_0x354c38(0xa3))[_0x354c38(0xfd)]=_0x575179,openSheet('dayOptionsSheet');}function toggleDayOff(){const _0x454b8e=a2_0x4be98a;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x454b8e(0x14b),reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager[_0x454b8e(0x17c)](_0x454b8e(0xa5),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x544848=a2_0x4be98a;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager[_0x544848(0x17c)](_0x544848(0xa5),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x2e7d85){const _0x344bec=a2_0x4be98a;document[_0x344bec(0x1d9)](_0x344bec(0x13f))[_0x344bec(0x1b5)][_0x344bec(0xe7)]('active'),document[_0x344bec(0x1d9)](_0x2e7d85)[_0x344bec(0x1b5)][_0x344bec(0xe7)](_0x344bec(0x1a0));}function closeAllSheets(){const _0x512132=a2_0x4be98a;document[_0x512132(0x1d9)]('overlay')[_0x512132(0x1b5)][_0x512132(0xe6)]('active'),document[_0x512132(0xc0)](_0x512132(0xd2))[_0x512132(0x156)](_0x18d42b=>_0x18d42b[_0x512132(0x1b5)][_0x512132(0xe6)]('open'));}function openPatternEditor(){const _0x158594=a2_0x4be98a;closeAllSheets(),document[_0x158594(0x1d9)](_0x158594(0xcf))[_0x158594(0x1b5)]['add'](_0x158594(0x1a0)),renderPatternEditor();}function closePatternEditor(){const _0x3d372a=a2_0x4be98a;document[_0x3d372a(0x1d9)](_0x3d372a(0xcf))[_0x3d372a(0x1b5)][_0x3d372a(0xe6)](_0x3d372a(0x1a0));}function savePattern(){const _0x4231d4=a2_0x4be98a;document['getElementById'](_0x4231d4(0xcf))[_0x4231d4(0x1b5)][_0x4231d4(0xe6)](_0x4231d4(0x1a0)),reRenderBlocks(),DataManager[_0x4231d4(0x110)](),DataManager[_0x4231d4(0x17c)](_0x4231d4(0xa5),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x1b0738=a2_0x4be98a,_0x551807=document[_0x1b0738(0x1d9)](_0x1b0738(0x89));_0x551807['innerHTML']='';const _0x5d51db=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x590648=document[_0x1b0738(0x178)](_0x1b0738(0x1c4));_0x590648[_0x1b0738(0x12f)]='pe-corner',_0x551807[_0x1b0738(0xe8)](_0x590648),_0x5d51db[_0x1b0738(0x156)]((_0x2cf071,_0x5b40c8)=>{const _0x56798b=_0x1b0738,_0x3efb61=document[_0x56798b(0x178)](_0x56798b(0x1c4));_0x3efb61[_0x56798b(0x12f)]=_0x56798b(0x133),_0x3efb61[_0x56798b(0x176)]=_0x2cf071+'\x20<span\x20class=\x22arrow\x22>‚Üì</span>',_0x3efb61[_0x56798b(0x181)]=()=>toggleColPattern(_0x5b40c8),_0x551807[_0x56798b(0xe8)](_0x3efb61);});for(let _0x14c101=0x0;_0x14c101<0x18;_0x14c101++){const _0x8ce10c=document[_0x1b0738(0x178)](_0x1b0738(0x1c4));_0x8ce10c['className']='pe-time-label',_0x8ce10c[_0x1b0738(0x176)]=_0x1b0738(0x11a)+String(_0x14c101)[_0x1b0738(0xed)](0x2,'0')+':00',_0x8ce10c['onclick']=()=>toggleRowPattern(_0x14c101),_0x551807[_0x1b0738(0xe8)](_0x8ce10c);for(let _0x28af3b=0x0;_0x28af3b<0x7;_0x28af3b++){const _0xef319b=document['createElement'](_0x1b0738(0x1c4)),_0x201166=(availabilityPattern[_0x28af3b]||[])[_0x1b0738(0x144)](_0x14c101),_0x6a5515=!_0x201166;_0xef319b[_0x1b0738(0x12f)]=_0x1b0738(0x1e1)+(_0x6a5515?_0x1b0738(0x163):''),_0xef319b[_0x1b0738(0x181)]=()=>toggleSinglePattern(_0x28af3b,_0x14c101),_0x551807['appendChild'](_0xef319b);}}}function toggleSinglePattern(_0x3e0665,_0x4a2f91){const _0x553239=a2_0x4be98a;if(!availabilityPattern[_0x3e0665])availabilityPattern[_0x3e0665]=[];const _0x2b03c2=availabilityPattern[_0x3e0665],_0x18932c=_0x2b03c2[_0x553239(0xaf)](_0x4a2f91);_0x18932c===-0x1?_0x2b03c2[_0x553239(0x165)](_0x4a2f91):_0x2b03c2[_0x553239(0x8e)](_0x18932c,0x1),renderPatternEditor();}function toggleColPattern(_0x3e5db2){const _0xc15ee4=a2_0x4be98a;if(!availabilityPattern[_0x3e5db2])availabilityPattern[_0x3e5db2]=[];const _0x576eea=availabilityPattern[_0x3e5db2];_0x576eea[_0xc15ee4(0x17e)]===0x0?availabilityPattern[_0x3e5db2]=Array['from']({'length':0x18},(_0x2e9456,_0x148737)=>_0x148737):availabilityPattern[_0x3e5db2]=[],renderPatternEditor();}function toggleRowPattern(_0x143536){const _0x3f5225=a2_0x4be98a;let _0x5c4da5=!![];for(let _0x16805f=0x0;_0x16805f<0x7;_0x16805f++){if((availabilityPattern[_0x16805f]||[])[_0x3f5225(0x144)](_0x143536)){_0x5c4da5=![];break;}}for(let _0x2926d4=0x0;_0x2926d4<0x7;_0x2926d4++){if(!availabilityPattern[_0x2926d4])availabilityPattern[_0x2926d4]=[];const _0x2e961d=availabilityPattern[_0x2926d4][_0x3f5225(0xaf)](_0x143536);if(_0x5c4da5){if(_0x2e961d===-0x1)availabilityPattern[_0x2926d4]['push'](_0x143536);}else{if(_0x2e961d!==-0x1)availabilityPattern[_0x2926d4][_0x3f5225(0x8e)](_0x2e961d,0x1);}}renderPatternEditor();}function renderPCol(_0x5d5e57,_0x1a019e){const _0x2e9c85=a2_0x4be98a;_0x5d5e57[_0x2e9c85(0x176)]='';const _0x3ade54=Math[_0x2e9c85(0x1ff)](_0x5d5e57['offsetLeft']);(availabilityPattern[_0x1a019e]||[])[_0x2e9c85(0x156)](_0x3e6b46=>{const _0x47f3a1=_0x2e9c85,_0x37d01d=document[_0x47f3a1(0x178)]('div');_0x37d01d['className']=_0x47f3a1(0xad);const _0x38b013=_0x3e6b46*GRID_H;_0x37d01d[_0x47f3a1(0x15d)][_0x47f3a1(0x1b4)]=_0x38b013+'px',_0x37d01d[_0x47f3a1(0x15d)][_0x47f3a1(0x111)]='-'+_0x3ade54+_0x47f3a1(0xef)+_0x38b013+'px',_0x37d01d[_0x47f3a1(0x181)]=_0x480487=>{const _0x3c87db=_0x47f3a1;_0x480487[_0x3c87db(0x8f)](),toggleSinglePattern(_0x1a019e,_0x3e6b46);},_0x5d5e57['appendChild'](_0x37d01d);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x5cebda=a2_0x4be98a,_0x1a7de7=new Date(),_0x4b5dad=document['getElementById'](_0x5cebda(0x1b6)),_0x24c341=document['getElementById'](_0x5cebda(0xb3)),_0x514a13=(_0x1a7de7[_0x5cebda(0x1fc)]()*0x3c+_0x1a7de7[_0x5cebda(0x154)]())/0x3c*GRID_H;_0x4b5dad[_0x5cebda(0x15d)][_0x5cebda(0x1b4)]=_0x514a13+'px',_0x4b5dad[_0x5cebda(0x15d)][_0x5cebda(0xf3)]=_0x5cebda(0x12d),_0x24c341[_0x5cebda(0xfd)]=String(_0x1a7de7[_0x5cebda(0x1fc)]())[_0x5cebda(0xed)](0x2,'0')+':'+String(_0x1a7de7[_0x5cebda(0x154)]())[_0x5cebda(0xed)](0x2,'0'),_0x24c341[_0x5cebda(0x15d)][_0x5cebda(0xf3)]='block',_0x24c341[_0x5cebda(0x15d)][_0x5cebda(0x1b4)]=_0x514a13+'px';}document['addEventListener'](a2_0x4be98a(0xe5),init);function openDayOptions(_0x4f5003){const _0x1ee236=a2_0x4be98a;selectedDayForOptions=_0x4f5003;const _0x58a8bf=new Date(_0x4f5003),_0x5e89ca={'weekday':_0x1ee236(0x141),'day':'numeric','month':_0x1ee236(0x141),'year':_0x1ee236(0x94)},_0x189f87=_0x58a8bf['toLocaleDateString'](_0x1ee236(0x134),_0x5e89ca);document[_0x1ee236(0x1d9)](_0x1ee236(0x1b3))['textContent']=_0x189f87[_0x1ee236(0x113)](0x0)[_0x1ee236(0x192)]()+_0x189f87[_0x1ee236(0x1cb)](0x1);let _0x6e9290=_0x58a8bf[_0x1ee236(0x14e)]()-0x1;if(_0x6e9290===-0x1)_0x6e9290=0x6;const _0x583711=availabilityPattern[_0x6e9290]||[],_0x3cc374=0x18-_0x583711[_0x1ee236(0x17e)],_0x37f2c6=_0x3cc374*0x3c,_0xfe84f8=sessions[_0x1ee236(0xbf)](_0x316950=>_0x316950[_0x1ee236(0x10b)]===_0x4f5003&&_0x316950[_0x1ee236(0xf7)]!=='cancelled');let _0x1bc00b=_0xfe84f8['map'](_0x40e2f0=>{const _0x3c2636=_0x1ee236,[_0x274c68,_0x59ed9f]=_0x40e2f0[_0x3c2636(0x182)][_0x3c2636(0x127)](':')[_0x3c2636(0x1f3)](Number),[_0x5a6bfe,_0x55e665]=_0x40e2f0['end']['split'](':')[_0x3c2636(0x1f3)](Number);return[_0x274c68*0x3c+_0x59ed9f,_0x5a6bfe*0x3c+_0x55e665];});_0x1bc00b[_0x1ee236(0x1a8)]((_0x3067ad,_0x5e6cd3)=>_0x3067ad[0x0]-_0x5e6cd3[0x0]);let _0x300f69=[];if(_0x1bc00b[_0x1ee236(0x17e)]>0x0){let _0x49eec7=_0x1bc00b[0x0];for(let _0x42ebe6=0x1;_0x42ebe6<_0x1bc00b['length'];_0x42ebe6++){_0x1bc00b[_0x42ebe6][0x0]<_0x49eec7[0x1]?_0x49eec7[0x1]=Math['max'](_0x49eec7[0x1],_0x1bc00b[_0x42ebe6][0x1]):(_0x300f69['push'](_0x49eec7),_0x49eec7=_0x1bc00b[_0x42ebe6]);}_0x300f69[_0x1ee236(0x165)](_0x49eec7);}let _0x21a5c6=0x0;_0x300f69[_0x1ee236(0x156)](_0x4c5a59=>_0x21a5c6+=_0x4c5a59[0x1]-_0x4c5a59[0x0]),document[_0x1ee236(0x1d9)](_0x1ee236(0x9a))[_0x1ee236(0xfd)]=formatMinsToHrs(_0x37f2c6),document['getElementById'](_0x1ee236(0x95))[_0x1ee236(0xfd)]=formatMinsToHrs(_0x21a5c6);const _0x4f6449=_0x37f2c6>0x0?Math[_0x1ee236(0x1ff)](_0x21a5c6/_0x37f2c6*0x64):0x0,_0x305d93=document[_0x1ee236(0x1d9)](_0x1ee236(0xb4));_0x305d93[_0x1ee236(0xfd)]=_0x4f6449+'%';const _0x2f3bcd=document['getElementById'](_0x1ee236(0xa8));if(_0x4f6449>0x64)_0x305d93[_0x1ee236(0x15d)][_0x1ee236(0x207)]='var(--acc-red)',_0x2f3bcd['style'][_0x1ee236(0x1da)]=_0x1ee236(0xcb);else _0x4f6449>0x50?(_0x305d93[_0x1ee236(0x15d)]['color']=_0x1ee236(0x147),_0x2f3bcd[_0x1ee236(0x15d)][_0x1ee236(0x1da)]=_0x1ee236(0x191)):(_0x305d93['style']['color']=_0x1ee236(0x146),_0x2f3bcd['style']['borderColor']=_0x1ee236(0x1f0));const _0x4e706d=document['getElementById'](_0x1ee236(0x1a3));_0x4e706d[_0x1ee236(0x176)]='';_0xfe84f8[_0x1ee236(0x17e)]===0x0?_0x4e706d[_0x1ee236(0x176)]=_0x1ee236(0x11b):(_0xfe84f8[_0x1ee236(0x1a8)]((_0x2e094a,_0x462b9e)=>_0x2e094a[_0x1ee236(0x182)][_0x1ee236(0x1a7)](_0x462b9e[_0x1ee236(0x182)])),_0xfe84f8[_0x1ee236(0x156)](_0xcf25cb=>{const _0x50fdd0=_0x1ee236,_0x48511a=clients['find'](_0x1e49be=>_0x1e49be[_0x50fdd0(0xe2)]===_0xcf25cb['client']),_0x190df6=_0x48511a?_0x48511a[_0x50fdd0(0x207)]:_0x50fdd0(0xde),_0x15d2a9=_0xcf25cb[_0x50fdd0(0xf7)]===_0x50fdd0(0x130),_0x52a113=_0x15d2a9?_0x50fdd0(0xeb):'',_0xa30f2=document[_0x50fdd0(0x178)](_0x50fdd0(0x1c4));_0xa30f2['className']='de-item',_0xa30f2['style'][_0x50fdd0(0xd3)]=_0x190df6,_0xa30f2['innerHTML']=_0x50fdd0(0x1dd)+_0xcf25cb['start']+_0x50fdd0(0x1eb)+_0xcf25cb[_0x50fdd0(0x114)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xcf25cb[_0x50fdd0(0x9c)]+_0x50fdd0(0x112)+_0x52a113+_0x50fdd0(0x159),_0x4e706d['appendChild'](_0xa30f2);}));const _0x204726=document[_0x1ee236(0x1d9)](_0x1ee236(0x1cc)),_0x56521f=dateExceptions[_0x4f5003]===_0x1ee236(0x14b);_0x56521f?(_0x204726[_0x1ee236(0xfd)]=_0x1ee236(0x9f),_0x204726[_0x1ee236(0x12f)]='btn-primary\x20btn-secondary',_0x204726[_0x1ee236(0x15d)][_0x1ee236(0x207)]=_0x1ee236(0x146),_0x204726[_0x1ee236(0x15d)][_0x1ee236(0xbd)]=_0x1ee236(0x1fb)):(_0x204726[_0x1ee236(0xfd)]=_0x1ee236(0x13b),_0x204726[_0x1ee236(0x12f)]=_0x1ee236(0x1db),_0x204726['style'][_0x1ee236(0x207)]='var(--acc-red)',_0x204726[_0x1ee236(0x15d)][_0x1ee236(0xbd)]=_0x1ee236(0x118)),openSheet(_0x1ee236(0x1c0));}let currentAnPeriod=a2_0x4be98a(0x18a);function openAnalytics(){const _0x416eaa=a2_0x4be98a,_0x264737=document['querySelector'](_0x416eaa(0x105));setAnalyticsPeriod('week',_0x264737),closeAllSheets(),openSheet(_0x416eaa(0x1ed));}function setAnalyticsPeriod(_0x2ea4ee,_0x514677){const _0xb771dc=a2_0x4be98a;currentAnPeriod=_0x2ea4ee,document[_0xb771dc(0xc0)](_0xb771dc(0x105))[_0xb771dc(0x156)](_0x3c1477=>_0x3c1477[_0xb771dc(0x1b5)]['remove']('active'));if(_0x514677)_0x514677[_0xb771dc(0x1b5)]['add'](_0xb771dc(0x163));const _0x5ec8c6=document['getElementById']('anCustomDates');_0x5ec8c6[_0xb771dc(0x15d)][_0xb771dc(0xf3)]=_0x2ea4ee==='custom'?_0xb771dc(0x158):_0xb771dc(0x122);const _0x36ea3b=new Date();let _0x1f649c=new Date(),_0x19c7b4=new Date();if(_0x2ea4ee===_0xb771dc(0x18a))_0x1f649c=getStartOfWeek(_0x36ea3b),_0x19c7b4=new Date(_0x1f649c),_0x19c7b4[_0xb771dc(0x1e7)](_0x19c7b4[_0xb771dc(0x1b0)]()+0x6);else{if(_0x2ea4ee==='month')_0x1f649c=new Date(_0x36ea3b[_0xb771dc(0xda)](),_0x36ea3b[_0xb771dc(0x16f)](),0x1),_0x19c7b4=new Date(_0x36ea3b['getFullYear'](),_0x36ea3b[_0xb771dc(0x16f)]()+0x1,0x0);else{!document[_0xb771dc(0x1d9)](_0xb771dc(0xdb))[_0xb771dc(0x120)]&&(document[_0xb771dc(0x1d9)](_0xb771dc(0xdb))[_0xb771dc(0x120)]=getLocalDateStr(_0x36ea3b),document[_0xb771dc(0x1d9)](_0xb771dc(0xa4))['value']=getLocalDateStr(_0x36ea3b));refreshAnalytics();return;}}document['getElementById'](_0xb771dc(0xdb))[_0xb771dc(0x120)]=getLocalDateStr(_0x1f649c),document[_0xb771dc(0x1d9)](_0xb771dc(0xa4))['value']=getLocalDateStr(_0x19c7b4),refreshAnalytics();}function refreshAnalytics(){const _0x54598d=a2_0x4be98a,_0x22931d=document[_0x54598d(0x1d9)]('anStart')['value'],_0x377911=document[_0x54598d(0x1d9)](_0x54598d(0xa4))['value'];if(!_0x22931d||!_0x377911)return;const _0x3b8fd5=sessions[_0x54598d(0xbf)](_0x215a5b=>_0x215a5b[_0x54598d(0x10b)]>=_0x22931d&&_0x215a5b[_0x54598d(0x10b)]<=_0x377911&&_0x215a5b['status']!==_0x54598d(0x11d)),_0xe5fac6=_0x3b8fd5[_0x54598d(0x17e)],_0x5e307c=_0x3b8fd5[_0x54598d(0xbf)](_0x2375d1=>_0x2375d1[_0x54598d(0xf7)]==='completed')[_0x54598d(0x17e)],_0x2b6010=_0xe5fac6>0x0?Math[_0x54598d(0x1ff)](_0x5e307c/_0xe5fac6*0x64):0x0;document[_0x54598d(0x1d9)]('anPercent')[_0x54598d(0xfd)]=_0x2b6010+'%',document[_0x54598d(0x1d9)]('anTotalStats')[_0x54598d(0xfd)]=_0x5e307c+_0x54598d(0xca)+_0xe5fac6+_0x54598d(0x155);const _0xdc6784=document[_0x54598d(0x1d9)]('anDonutCircle'),_0x1714f2=0x2*Math['PI']*0x23,_0x3485cc=_0x1714f2-_0x2b6010/0x64*_0x1714f2;_0xdc6784[_0x54598d(0x15d)][_0x54598d(0xec)]=_0x3485cc;const _0x3fec9b={};_0x3b8fd5[_0x54598d(0x156)](_0x38cbff=>{const _0x16f59b=_0x54598d;if(!_0x3fec9b[_0x38cbff['client']]){const _0x316b7d=clients[_0x16f59b(0x20c)](_0x4f9ae0=>_0x4f9ae0[_0x16f59b(0xe2)]===_0x38cbff[_0x16f59b(0x9c)]);_0x3fec9b[_0x38cbff[_0x16f59b(0x9c)]]={'total':0x0,'done':0x0,'color':_0x316b7d?_0x316b7d[_0x16f59b(0x207)]:_0x16f59b(0xde)};}_0x3fec9b[_0x38cbff[_0x16f59b(0x9c)]][_0x16f59b(0x1c7)]++;if(_0x38cbff['status']===_0x16f59b(0x130))_0x3fec9b[_0x38cbff[_0x16f59b(0x9c)]][_0x16f59b(0x13e)]++;});const _0x1d9dae=document['getElementById']('analyticsList');_0x1d9dae[_0x54598d(0x176)]='';const _0x5c1ba7=Object[_0x54598d(0x19d)](_0x3fec9b)[_0x54598d(0x1a8)]((_0x276be1,_0x567c95)=>_0x567c95[0x1][_0x54598d(0x1c7)]-_0x276be1[0x1]['total']);if(_0x5c1ba7[_0x54598d(0x17e)]===0x0){_0x1d9dae['innerHTML']=_0x54598d(0x8a);return;}_0x5c1ba7['forEach'](([_0x379626,_0x5777d4])=>{const _0x3d24c4=_0x54598d,_0x28ef9f=Math[_0x3d24c4(0x1ff)](_0x5777d4[_0x3d24c4(0x13e)]/_0x5777d4[_0x3d24c4(0x1c7)]*0x64),_0x296c80=document[_0x3d24c4(0x178)](_0x3d24c4(0x1c4));_0x296c80[_0x3d24c4(0x12f)]=_0x3d24c4(0x148),_0x296c80[_0x3d24c4(0x15d)][_0x3d24c4(0xd3)]=_0x5777d4[_0x3d24c4(0x207)],_0x296c80[_0x3d24c4(0x176)]=_0x3d24c4(0x1e8)+_0x379626+_0x3d24c4(0x209)+_0x5777d4[_0x3d24c4(0x13e)]+_0x3d24c4(0x18e)+_0x5777d4[_0x3d24c4(0x1c7)]+_0x3d24c4(0xab)+_0x28ef9f+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x1d9dae[_0x3d24c4(0xe8)](_0x296c80);});}function formatMinsToHrs(_0x35833d){const _0x2f2e7e=a2_0x4be98a;if(_0x35833d===0x0)return'0';const _0x34971f=Math[_0x2f2e7e(0x17f)](_0x35833d/0x3c),_0x1e702c=_0x35833d%0x3c;if(_0x1e702c===0x0)return _0x34971f+'—á';return _0x34971f+'—á\x20'+_0x1e702c+'–º';}