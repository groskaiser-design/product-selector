const a2_0x516c20=a2_0x1f9b;(function(_0x4a9cfa,_0x5936ce){const _0x234c00=a2_0x1f9b,_0x19dbea=_0x4a9cfa();while(!![]){try{const _0x4078d8=-parseInt(_0x234c00(0x2a8))/0x1+parseInt(_0x234c00(0x2a3))/0x2*(parseInt(_0x234c00(0x2e6))/0x3)+parseInt(_0x234c00(0x2f0))/0x4*(parseInt(_0x234c00(0x204))/0x5)+parseInt(_0x234c00(0x324))/0x6+parseInt(_0x234c00(0x2fd))/0x7+-parseInt(_0x234c00(0x2bd))/0x8*(parseInt(_0x234c00(0x20f))/0x9)+-parseInt(_0x234c00(0x2ff))/0xa*(-parseInt(_0x234c00(0x316))/0xb);if(_0x4078d8===_0x5936ce)break;else _0x19dbea['push'](_0x19dbea['shift']());}catch(_0x536d84){_0x19dbea['push'](_0x19dbea['shift']());}}}(a2_0x3524,0x776f4),function initTMA(){const _0x1eae07=a2_0x1f9b,_0x219478=(function(){let _0x25e906=!![];return function(_0x3aa92a,_0x547034){const _0xd5c9f7=_0x25e906?function(){if(_0x547034){const _0x454209=_0x547034['apply'](_0x3aa92a,arguments);return _0x547034=null,_0x454209;}}:function(){};return _0x25e906=![],_0xd5c9f7;};}()),_0x546b19=_0x219478(this,function(){const _0x4a26b0=a2_0x1f9b;return _0x546b19['toString']()[_0x4a26b0(0x1ca)](_0x4a26b0(0x2d9))['toString']()[_0x4a26b0(0x232)](_0x546b19)[_0x4a26b0(0x1ca)](_0x4a26b0(0x2d9));});_0x546b19();try{const _0x4ae1a5=window['Telegram']?.[_0x1eae07(0x2cc)];if(!_0x4ae1a5)return;_0x4ae1a5[_0x1eae07(0x265)](),_0x4ae1a5[_0x1eae07(0x309)]();try{_0x4ae1a5[_0x1eae07(0x27c)](_0x1eae07(0x1e7)),_0x4ae1a5[_0x1eae07(0x1db)]&&_0x4ae1a5['setBackgroundColor'](_0x1eae07(0x1e7));}catch(_0x242e6e){console[_0x1eae07(0x2cd)](_0x1eae07(0x294),_0x242e6e);}try{_0x4ae1a5[_0x1eae07(0x206)]&&(_0x4ae1a5['BackButton'][_0x1eae07(0x2ef)](),_0x4ae1a5['BackButton'][_0x1eae07(0x288)](),_0x4ae1a5[_0x1eae07(0x206)][_0x1eae07(0x2cb)](function(){const _0x5b6034=_0x1eae07;window[_0x5b6034(0x2cf)][_0x5b6034(0x1e3)]=_0x5b6034(0x2be);}));}catch(_0x38fab6){console['log']('Error\x20setting\x20back\x20button:',_0x38fab6);}try{if(_0x4ae1a5[_0x1eae07(0x1d8)])_0x4ae1a5[_0x1eae07(0x1d8)]();}catch(_0x355d49){}}catch(_0x49c7c1){console['error'](_0x1eae07(0x308),_0x49c7c1);}}());function isAdmin(){const _0x1ed177=a2_0x1f9b;try{const _0x57d0b3=Number(window[_0x1ed177(0x244)]?.[_0x1ed177(0x2cc)]?.[_0x1ed177(0x2f4)]?.[_0x1ed177(0x222)]?.['id']);return _0x57d0b3===0xbaf7174;}catch(_0x216ed){return![];}}const APP_VERSION=a2_0x516c20(0x311),API_URL=a2_0x516c20(0x2ec),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS='uc_clients_v9',KEY_SESSIONS=a2_0x516c20(0x1f1),KEY_SETTINGS=a2_0x516c20(0x26e);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x10977f=a2_0x516c20;return window[_0x10977f(0x244)]?.[_0x10977f(0x2cc)]?.[_0x10977f(0x2f4)]?.[_0x10977f(0x222)]?.['id']||_0x10977f(0x1c5);},'saveLocally'(){const _0xf00dab=a2_0x516c20;try{localStorage[_0xf00dab(0x2c1)](KEY_CLIENTS,JSON[_0xf00dab(0x32c)](clients)),localStorage['setItem'](KEY_SESSIONS,JSON['stringify'](sessions)),localStorage[_0xf00dab(0x2c1)](KEY_SETTINGS,JSON[_0xf00dab(0x32c)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x4cf5b5){console[_0xf00dab(0x310)]('Local\x20Save\x20Error',_0x4cf5b5);}},'loadLocal'(){const _0x8c3ba0=a2_0x516c20;try{const _0x3a8af4=localStorage['getItem'](KEY_CLIENTS);if(_0x3a8af4)clients=JSON['parse'](_0x3a8af4);const _0x10aa38=localStorage['getItem'](KEY_SESSIONS);if(_0x10aa38)sessions=JSON[_0x8c3ba0(0x2f8)](_0x10aa38);const _0x5f3cc6=localStorage[_0x8c3ba0(0x1c8)](KEY_SETTINGS);if(_0x5f3cc6){const _0x49ed54=JSON[_0x8c3ba0(0x2f8)](_0x5f3cc6);if(_0x49ed54['pattern'])availabilityPattern=_0x49ed54[_0x8c3ba0(0x1ec)];if(_0x49ed54['exceptions'])dateExceptions=_0x49ed54[_0x8c3ba0(0x246)];if(_0x49ed54[_0x8c3ba0(0x223)])specialRanges=_0x49ed54[_0x8c3ba0(0x223)];}else{for(let _0x431008=0x0;_0x431008<0x7;_0x431008++)availabilityPattern[_0x431008]=Array[_0x8c3ba0(0x248)]({'length':0xc},(_0x2264a1,_0x3b108b)=>_0x3b108b+0x9);}}catch(_0x30dece){console[_0x8c3ba0(0x310)](_0x8c3ba0(0x2c3),_0x30dece);}},async 'fetchFromServer'(_0xdf7efd,_0x91a543={}){const _0xbae8b2=a2_0x516c20,_0x348f4d=window['Telegram']?.['WebApp'],_0x187d7c={'action':_0xdf7efd,'init_data':_0x348f4d?.[_0xbae8b2(0x314)]||'',..._0x91a543};try{const _0x3add70=await fetch(API_URL,{'method':_0xbae8b2(0x1e8),'headers':{'Content-Type':_0xbae8b2(0x2ac)},'body':JSON[_0xbae8b2(0x32c)](_0x187d7c)}),_0x2edd81=await _0x3add70[_0xbae8b2(0x211)]();if(!_0x2edd81['ok'])throw new Error(_0x2edd81[_0xbae8b2(0x310)]||'Server\x20Error');return _0x2edd81['data'];}catch(_0x10fef0){console[_0xbae8b2(0x310)]('[API\x20'+_0xdf7efd+']\x20Failed:',_0x10fef0);throw _0x10fef0;}},async 'syncLoad'(){const _0x4f396b=a2_0x516c20,_0x37796c=new Date(),_0x300108=_0x37796c[_0x4f396b(0x233)]()+'-'+String(_0x37796c[_0x4f396b(0x1d9)]()+0x1)[_0x4f396b(0x20b)](0x2,'0'),_0x468b7d=new Date(_0x37796c);_0x468b7d['setMonth'](_0x37796c['getMonth']()+0x1);const _0x3ef385=_0x468b7d['getFullYear']()+'-'+String(_0x468b7d[_0x4f396b(0x1d9)]()+0x1)[_0x4f396b(0x20b)](0x2,'0'),_0x6bdcbf=Date['now']();console[_0x4f396b(0x2cd)](_0x4f396b(0x307)+_0x300108+',\x20'+_0x3ef385+_0x4f396b(0x20d));try{const [_0x1a68a7,_0x4208f2]=await Promise[_0x4f396b(0x225)]([this[_0x4f396b(0x303)](_0x4f396b(0x336),{'month_str':_0x300108}),this[_0x4f396b(0x303)]('init_load',{'month_str':_0x3ef385})]);if(lastUserActionTime>_0x6bdcbf)return console[_0x4f396b(0x1f9)]('[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response'),![];return this[_0x4f396b(0x1f3)](_0x1a68a7,_0x300108),this[_0x4f396b(0x1f3)](_0x4208f2,_0x3ef385),this['saveLocally'](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x12a17a){console[_0x4f396b(0x310)](_0x12a17a);throw _0x12a17a;}},'mergeServerData'(_0x1d3f8e,_0xab3911){const _0x367c38=a2_0x516c20;if(!_0x1d3f8e)return;_0x1d3f8e[_0x367c38(0x31b)]&&Array[_0x367c38(0x209)](_0x1d3f8e[_0x367c38(0x31b)])&&(clients=_0x1d3f8e[_0x367c38(0x31b)]);if(_0x1d3f8e[_0x367c38(0x2aa)]){if(_0x1d3f8e[_0x367c38(0x2aa)][_0x367c38(0x1ec)])availabilityPattern=_0x1d3f8e['settings'][_0x367c38(0x1ec)];if(_0x1d3f8e[_0x367c38(0x2aa)]['exceptions'])dateExceptions=_0x1d3f8e[_0x367c38(0x2aa)][_0x367c38(0x246)];if(_0x1d3f8e[_0x367c38(0x2aa)][_0x367c38(0x223)])specialRanges=_0x1d3f8e['settings'][_0x367c38(0x223)];if(_0x1d3f8e[_0x367c38(0x2aa)][_0x367c38(0x247)]){localStorage[_0x367c38(0x2c1)](_0x367c38(0x2af),_0x1d3f8e[_0x367c38(0x2aa)]['cancel_window']);const _0x6c7ec2=document['getElementById'](_0x367c38(0x270));if(_0x6c7ec2)_0x6c7ec2[_0x367c38(0x27d)]=_0x1d3f8e[_0x367c38(0x2aa)][_0x367c38(0x247)];}}_0x1d3f8e[_0x367c38(0x2dc)]&&(sessions=sessions[_0x367c38(0x2f6)](_0x26b4b8=>!_0x26b4b8[_0x367c38(0x2d2)][_0x367c38(0x1ef)](_0xab3911)),Object[_0x367c38(0x201)](_0x1d3f8e[_0x367c38(0x2dc)])['forEach'](_0x2ab653=>{const _0xe317da=_0x367c38,_0x4664ea=_0x1d3f8e['calendar'][_0x2ab653];_0x4664ea[_0xe317da(0x254)](_0x29ff03=>{const _0x324663=_0xe317da,_0x18067f=clients[_0x324663(0x2f1)](_0x448275=>String(_0x448275['id'])===String(_0x29ff03['c']));sessions['push']({'id':_0x29ff03['i'],'clientId':_0x29ff03['c'],'client':_0x18067f?_0x18067f['name']:_0x324663(0x208),'dateStr':_0xab3911+'-'+_0x2ab653[_0x324663(0x20b)](0x2,'0'),'start':_0x29ff03['s'],'end':_0x29ff03['e'],'status':_0x29ff03['st']||_0x324663(0x245),'note':_0x29ff03['n']||'','seriesId':_0x29ff03[_0x324663(0x271)]||null});});}));},async 'syncBatch'(_0x3ae480){const _0x4fbb26=a2_0x516c20,_0x82e949=[...new Set(_0x3ae480)],_0xc2abe6=_0x82e949[_0x4fbb26(0x299)](_0x10b06d=>{const _0x2f726c=_0x4fbb26,_0x1b1077=sessions[_0x2f726c(0x2f6)](_0x57b0d3=>_0x57b0d3[_0x2f726c(0x2d2)]===_0x10b06d&&_0x57b0d3['status']!==_0x2f726c(0x1cd)),_0x2ac2c6=_0x1b1077[_0x2f726c(0x299)](_0x4496b8=>({'i':_0x4496b8['id'],'c':_0x4496b8[_0x2f726c(0x29d)],'s':_0x4496b8['start'],'e':_0x4496b8[_0x2f726c(0x26b)],'st':_0x4496b8[_0x2f726c(0x2da)],'n':_0x4496b8[_0x2f726c(0x24a)],'sid':_0x4496b8[_0x2f726c(0x1da)]}));return{'date':_0x10b06d,'day_data':_0x2ac2c6};});if(_0xc2abe6[_0x4fbb26(0x1fb)]===0x0)return;console[_0x4fbb26(0x2cd)](_0x4fbb26(0x321)+_0xc2abe6['length']+'\x20days'),await this[_0x4fbb26(0x303)]('batch_sync',{'changes':_0xc2abe6});}};async function init(){const _0xbcea96=a2_0x516c20;DataManager[_0xbcea96(0x31e)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0xbcea96(0x1d4)](_0xbcea96(0x22b))['addEventListener'](_0xbcea96(0x252),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0xbcea96(0x250)]()[_0xbcea96(0x302)](()=>{showToast('–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ',!![]);})[_0xbcea96(0x1d0)](_0x153282=>{const _0x470d52=_0xbcea96;showToast(_0x470d52(0x2e0),![]);});}function generateId(){const _0x2bccaf=a2_0x516c20;return Date['now']()[_0x2bccaf(0x258)](0x24)+Math['random']()['toString'](0x24)['substr'](0x2,0x5);}function toggleSeriesInput(){const _0x26c79d=a2_0x516c20,_0x2b2239=document[_0x26c79d(0x1d4)](_0x26c79d(0x30e))[_0x26c79d(0x281)],_0x269013=document['getElementById'](_0x26c79d(0x21b));_0x269013[_0x26c79d(0x2df)][_0x26c79d(0x264)]=_0x2b2239?_0x26c79d(0x267):'none';const _0xd1319e=document[_0x26c79d(0x1d4)]('recurringOptionContainer');_0xd1319e[_0x26c79d(0x2df)][_0x26c79d(0x2db)]=_0x2b2239?_0x26c79d(0x333):_0x26c79d(0x1d5);}function openAddSession(_0x533c7c){const _0x45ee92=a2_0x516c20;editingId=null,populateClientSelect(),document[_0x45ee92(0x1d4)](_0x45ee92(0x27f))[_0x45ee92(0x2e8)]='–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å',document[_0x45ee92(0x1d4)](_0x45ee92(0x207))['style'][_0x45ee92(0x264)]=_0x45ee92(0x29f),document[_0x45ee92(0x1d4)](_0x45ee92(0x2c2))[_0x45ee92(0x2df)][_0x45ee92(0x264)]='none';const _0x4016c0=document[_0x45ee92(0x1d4)](_0x45ee92(0x326)),_0x581f28=document['getElementById']('seriesCountContainer');_0x4016c0[_0x45ee92(0x2df)][_0x45ee92(0x264)]=_0x45ee92(0x237),_0x4016c0[_0x45ee92(0x2df)]['borderRadius']=_0x45ee92(0x1d5),document[_0x45ee92(0x1d4)]('inpRecurring')[_0x45ee92(0x281)]=![],document[_0x45ee92(0x1d4)](_0x45ee92(0x291))[_0x45ee92(0x27d)]=0x4,_0x581f28[_0x45ee92(0x2df)][_0x45ee92(0x264)]=_0x45ee92(0x29f),document[_0x45ee92(0x1d4)]('inpDate')['value']=getLocalDateStr(_0x533c7c),updateDateDisplay();const _0x55a142=_0x533c7c[_0x45ee92(0x30b)]();document[_0x45ee92(0x1d4)](_0x45ee92(0x2c4))['value']=String(_0x55a142)[_0x45ee92(0x20b)](0x2,'0')+_0x45ee92(0x300),document[_0x45ee92(0x1d4)](_0x45ee92(0x2c7))[_0x45ee92(0x27d)]=String(_0x55a142+0x1)['padStart'](0x2,'0')+_0x45ee92(0x300),openSheet(_0x45ee92(0x28d));}function openEdit(_0x4a6907){const _0x2f9a6b=a2_0x516c20;editingId=_0x4a6907['id'],populateClientSelect(),document[_0x2f9a6b(0x1d4)](_0x2f9a6b(0x27f))[_0x2f9a6b(0x2e8)]=_0x2f9a6b(0x23d),document['getElementById'](_0x2f9a6b(0x207))[_0x2f9a6b(0x2df)][_0x2f9a6b(0x264)]=_0x2f9a6b(0x267);const _0x1c4197=document[_0x2f9a6b(0x1d4)](_0x2f9a6b(0x2c2));_0x1c4197['style']['display']=_0x2f9a6b(0x237);_0x4a6907[_0x2f9a6b(0x2da)]===_0x2f9a6b(0x260)?(_0x1c4197[_0x2f9a6b(0x29e)]=_0x2f9a6b(0x2e2),_0x1c4197['innerHTML']=_0x2f9a6b(0x27b)):(_0x1c4197[_0x2f9a6b(0x29e)]='btn-status-toggle',_0x1c4197[_0x2f9a6b(0x2ba)]=_0x2f9a6b(0x289));const _0x448e73=!!_0x4a6907[_0x2f9a6b(0x1da)];document[_0x2f9a6b(0x1d4)](_0x2f9a6b(0x326))[_0x2f9a6b(0x2df)][_0x2f9a6b(0x264)]=_0x2f9a6b(0x29f),document[_0x2f9a6b(0x1d4)](_0x2f9a6b(0x21b))[_0x2f9a6b(0x2df)][_0x2f9a6b(0x264)]=_0x2f9a6b(0x29f),_0x448e73?(document[_0x2f9a6b(0x1d4)](_0x2f9a6b(0x275))['style']['display']=_0x2f9a6b(0x237),document['getElementById'](_0x2f9a6b(0x275))['querySelector'](_0x2f9a6b(0x2bc))[_0x2f9a6b(0x2e8)]=_0x2f9a6b(0x23b)):document[_0x2f9a6b(0x1d4)]('patternInfoBox')['style'][_0x2f9a6b(0x264)]='none',document[_0x2f9a6b(0x1d4)]('inpClient')[_0x2f9a6b(0x27d)]=_0x4a6907[_0x2f9a6b(0x203)],document['getElementById']('inpDate')['value']=_0x4a6907[_0x2f9a6b(0x2d2)],document[_0x2f9a6b(0x1d4)]('inpStart')['value']=_0x4a6907['start'],document[_0x2f9a6b(0x1d4)](_0x2f9a6b(0x2c7))['value']=_0x4a6907[_0x2f9a6b(0x26b)],document[_0x2f9a6b(0x1d4)](_0x2f9a6b(0x1cb))[_0x2f9a6b(0x27d)]=_0x4a6907[_0x2f9a6b(0x24a)]||'',updateDateDisplay(),openSheet(_0x2f9a6b(0x28d));}async function trySaveSession(){const _0x1205af=a2_0x516c20,_0x44374c=document['getElementById'](_0x1205af(0x305))[_0x1205af(0x27d)],_0x10e48f=document['getElementById'](_0x1205af(0x2a0))[_0x1205af(0x27d)],_0x3d0e9f=document['getElementById']('inpStart')['value'],_0x50a240=document[_0x1205af(0x1d4)](_0x1205af(0x2c7))[_0x1205af(0x27d)],_0x4384b9=document[_0x1205af(0x1d4)](_0x1205af(0x1cb))['value'],_0x5f35b5=document[_0x1205af(0x1d4)](_0x1205af(0x30e))['checked'];let _0x2df3b2=0x4;if(_0x5f35b5){const _0x212eaa=parseInt(document[_0x1205af(0x1d4)](_0x1205af(0x291))['value']);if(!_0x212eaa||_0x212eaa<0x2){showToast(_0x1205af(0x205),![]);return;}if(_0x212eaa>0x64){showToast('–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑',![]);return;}_0x2df3b2=_0x212eaa;}const _0x4e42f0=clients[_0x1205af(0x2f1)](_0x46df81=>_0x46df81['name']===_0x44374c);if(!_0x4e42f0){showToast('–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞',![]);return;}const _0x4f0f94=validateAppointment(_0x10e48f,_0x3d0e9f,_0x50a240,editingId,_0x4e42f0['id']);if(!_0x4f0f94['valid']){showToast(_0x4f0f94['msg'],![]);return;}_0x4f0f94[_0x1205af(0x2fa)]&&showToast(_0x4f0f94['warning'],![]);const _0x85754a={'client':_0x44374c,'clientId':_0x4e42f0['id'],'start':_0x3d0e9f,'end':_0x50a240,'note':_0x4384b9,'status':_0x1205af(0x245)},_0x47af17=editingId?sessions[_0x1205af(0x2f1)](_0x622e28=>_0x622e28['id']===editingId):null;if(_0x47af17&&_0x47af17[_0x1205af(0x1da)]){tempSessionData={..._0x85754a,'dateStr':_0x10e48f,'id':editingId,'seriesId':_0x47af17[_0x1205af(0x1da)]},openActionSheet(_0x1205af(0x2bb));return;}let _0x54600b=null;if(!editingId)_0x54600b=_0x1205af(0x25e);else{if(_0x47af17){if(String(_0x47af17[_0x1205af(0x29d)])!==String(_0x4e42f0['id']))console[_0x1205af(0x2cd)](_0x1205af(0x249)),NotificationManager['send'](_0x1205af(0x2b0),_0x47af17),_0x54600b=_0x1205af(0x25e);else(_0x47af17[_0x1205af(0x304)]!==_0x3d0e9f||_0x47af17[_0x1205af(0x26b)]!==_0x50a240||_0x47af17[_0x1205af(0x2d2)]!==_0x10e48f)&&(_0x54600b=_0x1205af(0x33c));}}if(!editingId&&_0x5f35b5){createBatchSeries(_0x85754a,_0x10e48f,_0x2df3b2),NotificationManager['send'](_0x1205af(0x25e),{..._0x85754a,'dateStr':_0x10e48f});return;}lastUserActionTime=Date[_0x1205af(0x283)]();const _0x316f85={..._0x85754a,'dateStr':_0x10e48f,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x316f85),_0x54600b&&NotificationManager[_0x1205af(0x2c6)](_0x54600b,_0x316f85);}function toggleSessionStatus(){const _0x381341=a2_0x516c20;lastUserActionTime=Date['now']();const _0x3db268=sessions['find'](_0x45761e=>_0x45761e['id']===editingId);if(!_0x3db268)return;const _0x97e581=_0x3db268['status']==='completed'?'planned':_0x381341(0x260);_0x3db268[_0x381341(0x2da)]=_0x97e581,saveSingleSession(_0x3db268),_0x97e581==='completed'&&NotificationManager['send']('complete',_0x3db268),showToast(_0x97e581==='completed'?_0x381341(0x2c0):_0x381341(0x2a5),!![]);}function validateAppointment(_0x2f56f5,_0xe294bb,_0x5b2946,_0x34ea9a,_0x1a01d0){const _0x44353f=a2_0x516c20,[_0x40e140,_0x228cd6]=_0xe294bb['split'](':')[_0x44353f(0x299)](Number),[_0x285bca,_0x1fd60e]=_0x5b2946['split'](':')[_0x44353f(0x299)](Number),_0x28528f=_0x40e140*0x3c+_0x228cd6,_0x2865d3=_0x285bca*0x3c+_0x1fd60e,_0x186b18=String(_0x1a01d0);let _0xde78b0=![],_0x3b1d27='';for(let _0x4aae1b of sessions){if(_0x4aae1b['dateStr']!==_0x2f56f5)continue;if(_0x4aae1b['status']==='cancelled')continue;if(_0x34ea9a&&String(_0x4aae1b['id'])===String(_0x34ea9a))continue;const [_0x1cc88c,_0x48d9c2]=_0x4aae1b[_0x44353f(0x304)][_0x44353f(0x287)](':')[_0x44353f(0x299)](Number),[_0xb233f8,_0x1fee55]=_0x4aae1b[_0x44353f(0x26b)]['split'](':')[_0x44353f(0x299)](Number),_0x104359=_0x1cc88c*0x3c+_0x48d9c2,_0x5d75b5=_0xb233f8*0x3c+_0x1fee55;if(Math['max'](_0x28528f,_0x104359)<Math['min'](_0x2865d3,_0x5d75b5)){if(_0x4aae1b[_0x44353f(0x29d)]&&String(_0x4aae1b[_0x44353f(0x29d)])===_0x186b18)return{'valid':![],'msg':_0x44353f(0x2d7)+_0x4aae1b[_0x44353f(0x203)]+_0x44353f(0x31c)};_0xde78b0=!![],_0x3b1d27=_0x4aae1b[_0x44353f(0x203)];}}if(_0xde78b0)return{'valid':!![],'warning':_0x44353f(0x338)+_0x3b1d27};return{'valid':!![]};}function saveSingleSession(_0xb8645f){const _0x4a37be=a2_0x516c20;if(editingId){const _0x1956d4=sessions[_0x4a37be(0x22c)](_0x419ea2=>_0x419ea2['id']===editingId);if(_0x1956d4!==-0x1)sessions[_0x1956d4]=_0xb8645f;}else sessions[_0x4a37be(0x23a)](_0xb8645f);afterSaveAction([_0xb8645f[_0x4a37be(0x2d2)]]);}function createBatchSeries(_0x24da3f,_0x5aae1d,_0x537674){const _0x570ea9=a2_0x516c20,_0x56eafd=generateId(),_0x17d4d1=[],_0xb9d9b=[];let _0x5331b6=0x0,_0x4a7091=new Date(_0x5aae1d);for(let _0x96c2bd=0x0;_0x96c2bd<_0x537674;_0x96c2bd++){const _0x1424ff=getLocalDateStr(_0x4a7091),_0x1fda6e=validateAppointment(_0x1424ff,_0x24da3f['start'],_0x24da3f['end'],null,_0x24da3f[_0x570ea9(0x29d)]);if(!_0x1fda6e['valid'])console[_0x570ea9(0x2cd)](_0x570ea9(0x240)+_0x1424ff+_0x570ea9(0x227)),_0x5331b6++;else{const _0x26601d={..._0x24da3f,'id':generateId(),'dateStr':_0x1424ff,'seriesId':_0x56eafd};_0xb9d9b[_0x570ea9(0x23a)](_0x26601d),_0x17d4d1[_0x570ea9(0x23a)](_0x1424ff);}_0x4a7091[_0x570ea9(0x295)](_0x4a7091[_0x570ea9(0x24f)]()+0x7);}if(_0xb9d9b[_0x570ea9(0x1fb)]===0x0){showToast(_0x570ea9(0x33a),![]);return;}sessions['push'](..._0xb9d9b),lastUserActionTime=Date[_0x570ea9(0x283)]();let _0x31c4c6='–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20'+_0xb9d9b[_0x570ea9(0x1fb)];_0x5331b6>0x0&&(_0x31c4c6+='\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20'+_0x5331b6+')'),showToast(_0x31c4c6,!![]),afterSaveAction(_0x17d4d1);}function updateSeriesBatch(_0x15f624,_0x263a5c){const _0x39d229=a2_0x516c20,_0x4f488e=[],_0x4e6ae7=_0x263a5c[_0x39d229(0x1da)];if(_0x15f624===_0x39d229(0x31d)){const _0x11480a={..._0x263a5c,'seriesId':null},_0x1c2e5f=sessions[_0x39d229(0x22c)](_0x3f0abf=>_0x3f0abf['id']===_0x263a5c['id']);if(_0x1c2e5f!==-0x1)sessions[_0x1c2e5f]=_0x11480a;_0x4f488e[_0x39d229(0x23a)](_0x11480a[_0x39d229(0x2d2)]);}else{if(_0x15f624===_0x39d229(0x2a2)){const _0x210b5f=_0x263a5c[_0x39d229(0x2d2)];sessions[_0x39d229(0x254)]((_0x11cfc0,_0x31e22d)=>{const _0xddcace=_0x39d229;_0x11cfc0[_0xddcace(0x1da)]===_0x4e6ae7&&_0x11cfc0['dateStr']>=_0x210b5f&&(sessions[_0x31e22d]={...sessions[_0x31e22d],'start':_0x263a5c[_0xddcace(0x304)],'end':_0x263a5c[_0xddcace(0x26b)],'note':_0x263a5c[_0xddcace(0x24a)],'client':_0x263a5c[_0xddcace(0x203)],'clientId':_0x263a5c[_0xddcace(0x29d)]},_0x4f488e[_0xddcace(0x23a)](_0x11cfc0[_0xddcace(0x2d2)]));});}}afterSaveAction(_0x4f488e);}function tryDeleteSession(){const _0x3242e4=a2_0x516c20,_0x2a4f92=sessions['find'](_0x568863=>_0x568863['id']===editingId);if(!_0x2a4f92)return;_0x2a4f92[_0x3242e4(0x1da)]?openActionSheet('delete'):commitDelete(_0x3242e4(0x31d),_0x2a4f92);}function commitDelete(_0x21497d,_0x32a46b){const _0x1a5f21=a2_0x516c20;lastUserActionTime=Date[_0x1a5f21(0x283)](),NotificationManager['send'](_0x1a5f21(0x2b0),_0x32a46b);const _0x226f2f=[];if(_0x21497d===_0x1a5f21(0x31d))sessions=sessions[_0x1a5f21(0x2f6)](_0x333649=>_0x333649['id']!==_0x32a46b['id']),_0x226f2f[_0x1a5f21(0x23a)](_0x32a46b[_0x1a5f21(0x2d2)]);else{if(_0x21497d===_0x1a5f21(0x2a2)){const _0x27cf09=_0x32a46b['dateStr'],_0x46bd51=_0x32a46b[_0x1a5f21(0x1da)];sessions['forEach'](_0x5a56b7=>{const _0x3b45e8=_0x1a5f21;_0x5a56b7[_0x3b45e8(0x1da)]===_0x46bd51&&_0x5a56b7[_0x3b45e8(0x2d2)]>=_0x27cf09&&_0x226f2f[_0x3b45e8(0x23a)](_0x5a56b7[_0x3b45e8(0x2d2)]);}),sessions=sessions['filter'](_0x18ab50=>!(_0x18ab50[_0x1a5f21(0x1da)]===_0x46bd51&&_0x18ab50[_0x1a5f21(0x2d2)]>=_0x27cf09));}}afterSaveAction(_0x226f2f);}function afterSaveAction(_0x7a4986){const _0x284899=a2_0x516c20;DataManager['saveLocally'](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x284899(0x327)](_0x7a4986)[_0x284899(0x302)](()=>console[_0x284899(0x2cd)](_0x284899(0x32e)))[_0x284899(0x1d0)](_0x1b70af=>showToast(_0x284899(0x2b9),![]));}const NotificationManager={'formatDate'(_0x900cf7){const _0xe26600=a2_0x516c20,_0xfbd0b8=new Date(_0x900cf7),_0x47e935={'weekday':'long','day':'numeric','month':_0xe26600(0x24e)};let _0x56f0a3=_0xfbd0b8[_0xe26600(0x22f)](_0xe26600(0x272),_0x47e935);return _0x56f0a3['charAt'](0x0)[_0xe26600(0x293)]()+_0x56f0a3['slice'](0x1);},'getText'(_0x5bfb0c,_0x1e70e4){const _0x3d6ac8=a2_0x516c20,_0x2dca5b=this[_0x3d6ac8(0x313)](_0x1e70e4[_0x3d6ac8(0x2d2)]);switch(_0x5bfb0c){case _0x3d6ac8(0x25e):return _0x3d6ac8(0x202)+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0x2dca5b+'\x0a')+('<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20'+_0x1e70e4['start']+_0x3d6ac8(0x312)+_0x1e70e4[_0x3d6ac8(0x26b)]+'\x0a\x0a')+_0x3d6ac8(0x231);case _0x3d6ac8(0x33c):return _0x3d6ac8(0x2f7)+_0x3d6ac8(0x325)+(_0x3d6ac8(0x1dd)+_0x1e70e4[_0x3d6ac8(0x304)]+_0x3d6ac8(0x312)+_0x1e70e4[_0x3d6ac8(0x26b)]+_0x3d6ac8(0x21c))+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0x2dca5b);case _0x3d6ac8(0x2b0):return _0x3d6ac8(0x298)+('–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>'+_0x2dca5b+'\x20('+_0x1e70e4[_0x3d6ac8(0x304)]+_0x3d6ac8(0x1e1));case _0x3d6ac8(0x1f7):return'<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a'+'–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a'+_0x3d6ac8(0x251);default:return'';}},async 'send'(_0x5213e6,_0x10104e){const _0x2054f1=a2_0x516c20;console[_0x2054f1(0x2cd)]('[Notify]\x20Attempting\x20to\x20send:',_0x5213e6,_0x10104e);if(!_0x10104e){console[_0x2054f1(0x310)](_0x2054f1(0x220));return;}const _0x1fe93e=String(_0x10104e[_0x2054f1(0x29d)]);console[_0x2054f1(0x2cd)](_0x2054f1(0x1d3),_0x1fe93e);if(!_0x10104e['clientId']||_0x1fe93e===_0x2054f1(0x2f5)||_0x1fe93e===_0x2054f1(0x2c9)){console[_0x2054f1(0x310)]('[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!');if(_0x10104e['client']){const _0x2df558=clients['find'](_0x48fbee=>_0x48fbee[_0x2054f1(0x25b)]===_0x10104e[_0x2054f1(0x203)]);if(_0x2df558)return console[_0x2054f1(0x2cd)]('[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:',_0x2df558['id']),this['send'](_0x5213e6,{..._0x10104e,'clientId':_0x2df558['id']});}return;}if(_0x1fe93e[_0x2054f1(0x1fb)]<0x5){console['warn']('[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)',_0x1fe93e);return;}const _0x1a4c17=this[_0x2054f1(0x26f)](_0x5213e6,_0x10104e);if(!_0x1a4c17){console['error'](_0x2054f1(0x234));return;}console['log'](_0x2054f1(0x228)+_0x1fe93e+_0x2054f1(0x20d)),DataManager[_0x2054f1(0x303)]('send_notification',{'chatId':_0x1fe93e,'text':_0x1a4c17})['then'](_0x430d4c=>console[_0x2054f1(0x2cd)](_0x2054f1(0x2d8),_0x430d4c))[_0x2054f1(0x1d0)](_0x1af168=>console['error'](_0x2054f1(0x323),_0x1af168));}};function getLocalDateStr(_0x4f0cdb){const _0x2dbf9b=a2_0x516c20,_0x241989=_0x4f0cdb['getFullYear'](),_0x219cb2=String(_0x4f0cdb['getMonth']()+0x1)[_0x2dbf9b(0x20b)](0x2,'0'),_0xed2561=String(_0x4f0cdb[_0x2dbf9b(0x24f)]())[_0x2dbf9b(0x20b)](0x2,'0');return _0x241989+'-'+_0x219cb2+'-'+_0xed2561;}function getDateStr(_0x18e622){const _0x4b0623=a2_0x516c20,_0x514b25=new Date();return _0x514b25['setDate'](_0x514b25[_0x4b0623(0x24f)]()+_0x18e622),getLocalDateStr(_0x514b25);}function getStartOfWeek(_0x2b3eac){const _0x423907=a2_0x516c20,_0x51d8b0=new Date(_0x2b3eac),_0x3400a6=_0x51d8b0[_0x423907(0x2d4)](),_0x2d981e=_0x51d8b0['getDate']()-_0x3400a6+(_0x3400a6===0x0?-0x6:0x1);return _0x51d8b0['setDate'](_0x2d981e),_0x51d8b0[_0x423907(0x25f)](0x0,0x0,0x0,0x0),_0x51d8b0;}function hexToRgba(_0x497992,_0x848931){const _0x35e451=a2_0x516c20;if(!_0x497992)return _0x35e451(0x1d1);let _0x4ee0eb=0x0,_0x1031a4=0x0,_0x20f08e=0x0;if(_0x497992['length']===0x4)_0x4ee0eb='0x'+_0x497992[0x1]+_0x497992[0x1],_0x1031a4='0x'+_0x497992[0x2]+_0x497992[0x2],_0x20f08e='0x'+_0x497992[0x3]+_0x497992[0x3];else _0x497992[_0x35e451(0x1fb)]===0x7&&(_0x4ee0eb='0x'+_0x497992[0x1]+_0x497992[0x2],_0x1031a4='0x'+_0x497992[0x3]+_0x497992[0x4],_0x20f08e='0x'+_0x497992[0x5]+_0x497992[0x6]);return _0x35e451(0x2c5)+ +_0x4ee0eb+',\x20'+ +_0x1031a4+',\x20'+ +_0x20f08e+',\x20'+_0x848931+')';}function renderTimeColumn(){const _0x3b91dc=a2_0x516c20,_0x258662=document[_0x3b91dc(0x1d4)](_0x3b91dc(0x2de)),_0x1dec5b=document[_0x3b91dc(0x1d4)](_0x3b91dc(0x216));_0x258662[_0x3b91dc(0x2ba)]='',_0x258662[_0x3b91dc(0x280)](_0x1dec5b);for(let _0x36deb2=0x0;_0x36deb2<0x18;_0x36deb2++){const _0x5edd39=document[_0x3b91dc(0x1f6)](_0x3b91dc(0x21a));_0x5edd39[_0x3b91dc(0x29e)]=_0x3b91dc(0x1f4);if(_0x36deb2>0x0)_0x5edd39[_0x3b91dc(0x2ba)]=_0x3b91dc(0x25d)+String(_0x36deb2)[_0x3b91dc(0x20b)](0x2,'0')+':00</span>';_0x258662['appendChild'](_0x5edd39);}}function renderDayRange(_0x56c39c,_0x471c49){const _0x1f00eb=a2_0x516c20,_0x23635c=document[_0x1f00eb(0x1d4)]('daysHeaderTrack'),_0x399702=document['getElementById'](_0x1f00eb(0x255)),_0x555d3a=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x4028e6=new Date();_0x4028e6[_0x1f00eb(0x25f)](0x0,0x0,0x0,0x0);const _0x520545=getLocalDateStr(new Date());for(let _0x2d6048=_0x56c39c;_0x2d6048<=_0x471c49;_0x2d6048++){const _0x208980=new Date(_0x4028e6);_0x208980['setDate'](_0x208980[_0x1f00eb(0x24f)]()+_0x2d6048);const _0x4d0a68=getLocalDateStr(_0x208980);let _0xa5473d=_0x208980[_0x1f00eb(0x2d4)]()-0x1;if(_0xa5473d===-0x1)_0xa5473d=0x6;const _0x3d2745=_0x4d0a68===_0x520545,_0x146182=document[_0x1f00eb(0x1f6)](_0x1f00eb(0x21a));_0x146182['className']=_0x1f00eb(0x1e4)+(_0x3d2745?_0x1f00eb(0x210):''),_0x146182['id']='header-'+_0x4d0a68,_0x146182[_0x1f00eb(0x1e6)](_0x1f00eb(0x1eb),_0x4d0a68),_0x146182[_0x1f00eb(0x2ba)]='<div\x20class=\x22dch-day\x22>'+_0x555d3a[_0xa5473d]+_0x1f00eb(0x28e)+_0x208980['getDate']()+_0x1f00eb(0x322)+_0x4d0a68+_0x1f00eb(0x253),_0x146182[_0x1f00eb(0x2a9)]=()=>openDayOptions(_0x4d0a68,_0x555d3a[_0xa5473d]+'\x20'+_0x208980[_0x1f00eb(0x24f)]()),_0x23635c[_0x1f00eb(0x280)](_0x146182);const _0x1e9504=document[_0x1f00eb(0x1f6)](_0x1f00eb(0x21a));_0x1e9504[_0x1f00eb(0x29e)]='day-column\x20'+(_0x3d2745?'today':''),_0x1e9504[_0x1f00eb(0x1e6)](_0x1f00eb(0x1eb),_0x4d0a68),_0x1e9504[_0x1f00eb(0x1e6)](_0x1f00eb(0x2a4),_0xa5473d),renderEventsForColumn(_0x1e9504,_0x4d0a68,_0xa5473d),attachLongPressHandler(_0x1e9504,_0x208980),_0x399702[_0x1f00eb(0x280)](_0x1e9504),updateDayStats(_0x4d0a68);}}function reRenderBlocks(){const _0x2311c6=a2_0x516c20;document[_0x2311c6(0x226)](_0x2311c6(0x24c))[_0x2311c6(0x254)](_0x1d7716=>{const _0x5b4384=_0x2311c6;_0x1d7716['querySelectorAll'](_0x5b4384(0x2e7))['forEach'](_0x3fa061=>_0x3fa061['remove']());const _0xf203ec=_0x1d7716[_0x5b4384(0x2ce)](_0x5b4384(0x1eb)),_0x3dc0b1=parseInt(_0x1d7716[_0x5b4384(0x2ce)](_0x5b4384(0x2a4))),_0x11a4c4=Math[_0x5b4384(0x23c)](_0x1d7716[_0x5b4384(0x24b)]);(availabilityPattern[_0x3dc0b1]||[])[_0x5b4384(0x254)](_0x4d1bde=>{const _0x25c759=_0x5b4384,_0x387385=document[_0x25c759(0x1f6)](_0x25c759(0x21a));_0x387385[_0x25c759(0x29e)]=_0x25c759(0x2b6);const _0x48146f=_0x4d1bde*GRID_H;_0x387385[_0x25c759(0x2df)][_0x25c759(0x26d)]=_0x48146f+'px',_0x387385[_0x25c759(0x2df)]['backgroundPosition']='-'+_0x11a4c4+_0x25c759(0x1c4)+_0x48146f+'px',_0x1d7716[_0x25c759(0x280)](_0x387385);});if(specialRanges&&specialRanges[_0x5b4384(0x1fb)]>0x0){const _0x2440ab=new Date(_0xf203ec+'T00:00:00')[_0x5b4384(0x2e3)](),_0x1f86bb=new Date(_0xf203ec+_0x5b4384(0x2eb))['getTime']();specialRanges['forEach'](_0x1b8a68=>{const _0x322cea=_0x5b4384,_0x3860cc=new Date(_0x1b8a68[_0x322cea(0x304)])[_0x322cea(0x2e3)](),_0x3759ca=new Date(_0x1b8a68['end'])[_0x322cea(0x2e3)](),_0xe951d6=Math['max'](_0x2440ab,_0x3860cc),_0x107e23=Math['min'](_0x1f86bb,_0x3759ca);if(_0xe951d6<_0x107e23){if(_0xe951d6<=_0x2440ab&&_0x107e23>=_0x1f86bb-0xea60){if(!_0x1d7716[_0x322cea(0x2b1)]('.day-off-overlay')){const _0x201c00=document[_0x322cea(0x1f6)](_0x322cea(0x21a));_0x201c00['className']=_0x322cea(0x23e),_0x201c00[_0x322cea(0x2df)][_0x322cea(0x319)]='-'+_0x11a4c4+_0x322cea(0x2ae),_0x1d7716['appendChild'](_0x201c00);}}else{const _0xed758c=(_0xe951d6-_0x2440ab)/0x36ee80*GRID_H,_0x30d73e=(_0x107e23-_0xe951d6)/0x36ee80*GRID_H,_0x459279=document[_0x322cea(0x1f6)](_0x322cea(0x21a));_0x459279[_0x322cea(0x29e)]=_0x322cea(0x22d),_0x459279[_0x322cea(0x2df)][_0x322cea(0x26d)]=_0xed758c+'px',_0x459279[_0x322cea(0x2df)]['height']=_0x30d73e+'px',_0x459279[_0x322cea(0x2df)]['backgroundPosition']='-'+_0x11a4c4+'px\x20-'+_0xed758c+'px',_0x1d7716[_0x322cea(0x280)](_0x459279);}}});}if(dateExceptions[_0xf203ec]===_0x5b4384(0x1fe)){if(!_0x1d7716[_0x5b4384(0x2b1)](_0x5b4384(0x215))){const _0x7c9c11=document['createElement']('div');_0x7c9c11[_0x5b4384(0x29e)]=_0x5b4384(0x23e),_0x7c9c11['style'][_0x5b4384(0x319)]='-'+_0x11a4c4+_0x5b4384(0x2ae),_0x1d7716[_0x5b4384(0x280)](_0x7c9c11);}}renderEventsForColumn(_0x1d7716,_0xf203ec,_0x3dc0b1),updateDayStats(_0xf203ec);});}function a2_0x1f9b(_0xcad9f4,_0x33cc45){_0xcad9f4=_0xcad9f4-0x1c4;const _0x275c28=a2_0x3524();let _0xd91006=_0x275c28[_0xcad9f4];return _0xd91006;}function updateAllDayStats(){const _0x1d2489=a2_0x516c20;document['querySelectorAll'](_0x1d2489(0x268))['forEach'](_0x20993b=>{const _0x5bc37a=_0x1d2489;updateDayStats(_0x20993b['getAttribute'](_0x5bc37a(0x1eb)));});}function updateDayStats(_0x3c0b85){const _0x15a111=a2_0x516c20,_0x5a6440=document[_0x15a111(0x1d4)](_0x15a111(0x278)+_0x3c0b85);if(!_0x5a6440)return;const _0x19a72d=new Date(_0x3c0b85);let _0x557ed7=_0x19a72d[_0x15a111(0x2d4)]()-0x1;if(_0x557ed7===-0x1)_0x557ed7=0x6;if(dateExceptions[_0x3c0b85]===_0x15a111(0x1fe)){_0x5a6440[_0x15a111(0x2df)]['display']=_0x15a111(0x29f);return;}const _0x2fa7b1=availabilityPattern[_0x557ed7]||[],_0x5882cd=0x18-_0x2fa7b1[_0x15a111(0x1fb)],_0x1605c8=_0x5882cd*0x3c,_0x1e9796=sessions[_0x15a111(0x2f6)](_0x5286af=>_0x5286af[_0x15a111(0x2d2)]===_0x3c0b85&&_0x5286af[_0x15a111(0x2da)]!==_0x15a111(0x2a1));if(_0x1e9796[_0x15a111(0x1fb)]===0x0){_0x5a6440[_0x15a111(0x2df)][_0x15a111(0x264)]=_0x15a111(0x29f);return;}let _0x1db362=_0x1e9796[_0x15a111(0x299)](_0x32517f=>{const _0x1ed7a2=_0x15a111,[_0x4026ff,_0x36ea57]=_0x32517f[_0x1ed7a2(0x304)]['split'](':')['map'](Number),[_0x24f617,_0x2d553c]=_0x32517f[_0x1ed7a2(0x26b)]['split'](':')[_0x1ed7a2(0x299)](Number);return[_0x4026ff*0x3c+_0x36ea57,_0x24f617*0x3c+_0x2d553c];});_0x1db362[_0x15a111(0x2bf)]((_0x5015f2,_0x49b3d4)=>_0x5015f2[0x0]-_0x49b3d4[0x0]);let _0x4519a8=[];if(_0x1db362[_0x15a111(0x1fb)]>0x0){let _0x4a6740=_0x1db362[0x0];for(let _0x50b27f=0x1;_0x50b27f<_0x1db362['length'];_0x50b27f++){_0x1db362[_0x50b27f][0x0]<_0x4a6740[0x1]?_0x4a6740[0x1]=Math[_0x15a111(0x257)](_0x4a6740[0x1],_0x1db362[_0x50b27f][0x1]):(_0x4519a8[_0x15a111(0x23a)](_0x4a6740),_0x4a6740=_0x1db362[_0x50b27f]);}_0x4519a8[_0x15a111(0x23a)](_0x4a6740);}let _0x4f59bd=0x0;_0x4519a8['forEach'](_0x996dc7=>_0x4f59bd+=_0x996dc7[0x1]-_0x996dc7[0x0]),_0x5a6440[_0x15a111(0x2df)][_0x15a111(0x264)]=_0x15a111(0x237);const _0x3cdfe4=_0x5a6440[_0x15a111(0x2b1)]('.dch-stats-fill');if(_0x1605c8===0x0){_0x3cdfe4[_0x15a111(0x2df)][_0x15a111(0x22a)]=_0x15a111(0x274),_0x3cdfe4[_0x15a111(0x2df)][_0x15a111(0x2e1)]=_0x15a111(0x28b);return;}const _0x2e8d33=_0x4f59bd/_0x1605c8*0x64;console['log']('['+_0x3c0b85+_0x15a111(0x2ab)+_0x5882cd+_0x15a111(0x1f2)+_0x4f59bd+_0x15a111(0x27e)+_0x2e8d33['toFixed'](0x1)+'%'),_0x2e8d33>0x64?(_0x3cdfe4['style'][_0x15a111(0x22a)]=_0x15a111(0x274),_0x3cdfe4['style'][_0x15a111(0x2e1)]=_0x15a111(0x28b)):(_0x3cdfe4['style'][_0x15a111(0x22a)]=_0x2e8d33+'%',_0x3cdfe4[_0x15a111(0x2df)][_0x15a111(0x2e1)]='var(--acc-current)');}function renderEventsForColumn(_0x5b963f,_0x84d26b,_0x28cf3d){const _0x2f0cdb=a2_0x516c20,_0x1876c4=sessions['filter'](_0x4d8d11=>_0x4d8d11[_0x2f0cdb(0x2d2)]===_0x84d26b),_0x25e8e9=_0x1876c4[_0x2f0cdb(0x299)](_0x26357a=>{const _0x33e056=_0x2f0cdb,[_0x2c31b4,_0x41cd77]=_0x26357a[_0x33e056(0x304)][_0x33e056(0x287)](':')[_0x33e056(0x299)](Number),[_0x409ff8,_0x43ba2a]=_0x26357a[_0x33e056(0x26b)][_0x33e056(0x287)](':')[_0x33e056(0x299)](Number);return{'data':_0x26357a,'start':_0x2c31b4*0x3c+_0x41cd77,'end':_0x409ff8*0x3c+_0x43ba2a,'colIndex':0x0};});_0x25e8e9[_0x2f0cdb(0x2bf)]((_0x4f77a7,_0x2a4d32)=>{const _0x4bfa53=_0x2f0cdb;if(_0x4f77a7[_0x4bfa53(0x304)]!==_0x2a4d32['start'])return _0x4f77a7[_0x4bfa53(0x304)]-_0x2a4d32['start'];return _0x2a4d32[_0x4bfa53(0x26b)]-_0x2a4d32[_0x4bfa53(0x304)]-(_0x4f77a7['end']-_0x4f77a7[_0x4bfa53(0x304)]);});const _0x4839a7=[];_0x25e8e9[_0x2f0cdb(0x254)](_0x1129a1=>{const _0x2da85e=_0x2f0cdb;let _0x21aeb8=![];for(let _0x3d5159=0x0;_0x3d5159<_0x4839a7[_0x2da85e(0x1fb)];_0x3d5159++){const _0x3ab3d9=_0x4839a7[_0x3d5159],_0x44c871=_0x3ab3d9[_0x3ab3d9['length']-0x1];if(_0x1129a1['start']>=_0x44c871[_0x2da85e(0x26b)]){_0x3ab3d9[_0x2da85e(0x23a)](_0x1129a1),_0x1129a1[_0x2da85e(0x1f8)]=_0x3d5159,_0x21aeb8=!![];break;}}!_0x21aeb8&&(_0x4839a7[_0x2da85e(0x23a)]([_0x1129a1]),_0x1129a1[_0x2da85e(0x1f8)]=_0x4839a7[_0x2da85e(0x1fb)]-0x1);}),_0x25e8e9[_0x2f0cdb(0x254)](_0xdc7acb=>{const _0x3893c7=_0x2f0cdb;let _0x3d9e7f=0x0;_0x25e8e9[_0x3893c7(0x254)](_0x579f09=>{const _0x1043fc=_0x3893c7;if(Math[_0x1043fc(0x257)](_0xdc7acb[_0x1043fc(0x304)],_0x579f09[_0x1043fc(0x304)])<Math['min'](_0xdc7acb[_0x1043fc(0x26b)],_0x579f09[_0x1043fc(0x26b)])){if(_0x579f09[_0x1043fc(0x1f8)]>_0x3d9e7f)_0x3d9e7f=_0x579f09[_0x1043fc(0x1f8)];}});const _0x3dcfd7=_0x3d9e7f+0x1,_0xa0e18=0x64/_0x3dcfd7,_0x2f0c1c=_0xdc7acb['colIndex']*_0xa0e18,_0x9ef1bb=createEventEl(_0xdc7acb[_0x3893c7(0x2b7)]);_0x9ef1bb[_0x3893c7(0x2df)][_0x3893c7(0x22a)]=_0x3893c7(0x285)+_0xa0e18+_0x3893c7(0x334),_0x9ef1bb[_0x3893c7(0x2df)][_0x3893c7(0x224)]=_0x3893c7(0x285)+_0x2f0c1c+_0x3893c7(0x335),_0x9ef1bb[_0x3893c7(0x2df)][_0x3893c7(0x1ce)]=0xa+_0xdc7acb[_0x3893c7(0x1f8)],_0xa0e18<0x55&&_0x9ef1bb[_0x3893c7(0x1ed)][_0x3893c7(0x28c)](_0x3893c7(0x2c8)),_0x5b963f[_0x3893c7(0x280)](_0x9ef1bb);});}function createEventEl(_0xadfbc2){const _0x59f69b=a2_0x516c20,[_0x4c4132,_0x1b9dd8]=_0xadfbc2[_0x59f69b(0x304)][_0x59f69b(0x287)](':')[_0x59f69b(0x299)](Number),[_0x444419,_0x1373fd]=_0xadfbc2[_0x59f69b(0x26b)][_0x59f69b(0x287)](':')[_0x59f69b(0x299)](Number),_0x1c8b29=(_0x4c4132*0x3c+_0x1b9dd8)/0x3c*GRID_H,_0x33788e=(_0x444419*0x3c+_0x1373fd-(_0x4c4132*0x3c+_0x1b9dd8))/0x3c*GRID_H,_0x5af3d8=document[_0x59f69b(0x1f6)](_0x59f69b(0x21a)),_0xd2c997=_0xadfbc2[_0x59f69b(0x2da)]===_0x59f69b(0x260)?_0x59f69b(0x282):'';_0x5af3d8[_0x59f69b(0x29e)]=_0x59f69b(0x284)+_0xd2c997,_0x5af3d8[_0x59f69b(0x2df)][_0x59f69b(0x26d)]=_0x1c8b29+'px',_0x5af3d8['style']['height']=Math[_0x59f69b(0x257)](_0x33788e,0x14)+'px';const _0x1ba3e1=clients[_0x59f69b(0x2f1)](_0x182483=>_0xadfbc2[_0x59f69b(0x29d)]&&String(_0x182483['id'])===String(_0xadfbc2['clientId'])||_0x182483[_0x59f69b(0x25b)]===_0xadfbc2['client']),_0x258d04=_0x1ba3e1?_0x1ba3e1[_0x59f69b(0x1c9)]:_0x59f69b(0x2d3);_0x5af3d8[_0x59f69b(0x2df)]['borderLeftColor']=_0x258d04,_0x5af3d8['style'][_0x59f69b(0x29b)]=hexToRgba(_0x258d04,0.85);let _0x4abaa1='<div\x20class=\x22ev-title\x22>'+_0xadfbc2['client']+'</div><div\x20class=\x22ev-time\x22>'+_0xadfbc2[_0x59f69b(0x304)]+_0x59f69b(0x337)+_0xadfbc2[_0x59f69b(0x26b)]+_0x59f69b(0x212);return _0xadfbc2['seriesId']&&(_0x4abaa1+='<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>'),_0xadfbc2[_0x59f69b(0x2da)]===_0x59f69b(0x260)&&(_0x4abaa1+=_0x59f69b(0x2d1)),_0x5af3d8['innerHTML']=_0x4abaa1,_0x5af3d8[_0x59f69b(0x2a9)]=_0x597c5c=>{const _0x5e319f=_0x59f69b;_0x597c5c[_0x5e319f(0x27a)](),openEdit(_0xadfbc2);},_0x5af3d8;}function attachLongPressHandler(_0x49a2e5,_0x49d7b3){const _0x413fbc=a2_0x516c20;let _0x19c365=0x0,_0x18662d=null;const _0x360754=_0x5678cd=>{const _0x2faa8f=a2_0x1f9b;if(_0x5678cd['target'][_0x2faa8f(0x21e)](_0x2faa8f(0x32f)))return;isScrolling=![],_0x19c365=_0x5678cd['touches']?_0x5678cd[_0x2faa8f(0x331)][0x0][_0x2faa8f(0x20a)]:_0x5678cd[_0x2faa8f(0x20a)],_0x18662d=setTimeout(()=>{const _0x4c7b77=_0x2faa8f;if(!isScrolling){navigator[_0x4c7b77(0x2f2)]?.(0x32);const _0x2cd1d2=_0x49a2e5[_0x4c7b77(0x1fd)](),_0x228275=Math['floor']((_0x19c365-_0x2cd1d2['top'])/GRID_H);_0x49d7b3[_0x4c7b77(0x25f)](_0x228275,0x0),openAddSession(_0x49d7b3);}},0x1f4);},_0xd128f6=()=>{isScrolling=!![],clearTimeout(_0x18662d);},_0x234e77=()=>{clearTimeout(_0x18662d);};_0x49a2e5[_0x413fbc(0x25c)](_0x413fbc(0x20e),_0x360754,{'passive':!![]}),_0x49a2e5['addEventListener']('touchmove',_0xd128f6,{'passive':!![]}),_0x49a2e5['addEventListener'](_0x413fbc(0x2ad),_0x234e77),_0x49a2e5['addEventListener']('mousedown',_0x360754),_0x49a2e5['addEventListener'](_0x413fbc(0x32a),_0xd128f6),_0x49a2e5['addEventListener']('mouseup',_0x234e77);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x3ad1c0=a2_0x516c20,_0x1a02ae=document[_0x3ad1c0(0x1d4)](_0x3ad1c0(0x22b)),_0x43b772=_0x1a02ae[_0x3ad1c0(0x277)],_0xc996aa=_0x1a02ae['scrollWidth'],_0x5df956=_0x1a02ae[_0x3ad1c0(0x235)];if(_0xc996aa-(_0x43b772+_0x5df956)<0x12c){const _0x446283=endOffset;endOffset+=0xe,renderDayRange(_0x446283+0x1,endOffset),reRenderBlocks();}if(_0x43b772<0x12c){const _0x50aec6=startOffset;startOffset-=0xe,prependDays(startOffset,_0x50aec6-0x1),_0x1a02ae['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function a2_0x3524(){const _0x51094b=['WebApp','log','getAttribute','location','dayOptionsSheet','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','dateStr','#0a84ff','getDay','client-stat-card','toastMessage','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','[Notify]\x20Server\x20Response:','(((.+)+)+)+$','status','borderRadius','calendar','firstChild','timeColumn','style','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','background','btn-status-toggle\x20undo-mode','getTime','rangeEndDate','open','7341ApnRlw','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','textContent','text','asTitle','T23:59:59','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','month','btn-primary\x20btn-danger','show','696EOTaCO','find','vibrate','Save\x20settings\x20error:','initDataUnsafe','undefined','filter','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','parse','delete','warning','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','rgba(255,\x20159,\x2010,\x200.3)','4483374NmnkRx','createDocumentFragment','870GYUGjS',':00','asBtnOne','then','fetchFromServer','start','inpClient','doLoadPercent','[Sync]\x20Loading\x20','Critical\x20TMA\x20Error:','expand','var(--acc-orange)','getHours','doWorkHours','00:00','inpRecurring','done','error','v9.0-BATCH-CALENDAR','\x20‚Äî\x20','formatDate','initData','\x20–∏–∑\x20','99077iOYCwy','btn-primary\x20btn-secondary','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','backgroundPosition','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','clients',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','single','loadLocal','anDonutCircle','.period-switch\x20.p-btn','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','[Notify]\x20Network\x20Failed','2263164FouLOh','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','recurringOptionContainer','syncBatch','settingsSheet','getMinutes','mousemove','<div\x20class=\x22dch-day\x22>','stringify','doEventsList','Batch\x20Sync\x20OK','.event-card','doDateHeader','touches','overlay','10px\x2010px\x200\x200','%\x20-\x204px)','%\x20+\x202px)','init_load','\x20-\x20','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','splice','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','update','offsetWidth','px\x20-','guest','analyticsSheet','remove','getItem','color','search','inpNote','day-column\x20','deleted','zIndex','charAt','catch','rgba(100,100,100,0.5)','option','[Notify]\x20Detected\x20Client\x20ID:','getElementById','10px','pe-time-label','active','disableVerticalSwipes','getMonth','seriesId','setBackgroundColor','as-button\x20danger','<b>‚úÖ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','pe-cell\x20','rangeStartTime',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','href','day-col-header\x20','patternEditor','setAttribute','#050505','POST','borderLeftColor','min','data-date','pattern','classList','strokeDashoffset','startsWith','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','uc_sessions_v9','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','mergeServerData','time-label','anCustomDates','createElement','complete','colIndex','warn','actionSheet','length',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','getBoundingClientRect','off','toast-notification\x20','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','keys','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','client','12480qSmKGG','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','BackButton','btnDelete','Unknown','isArray','clientY','padStart','entries','...','touchstart','18423wPGxpi','today','json','</div>','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','rgba(255,\x2069,\x2058,\x200.3)','.day-off-overlay','timeLineBadge','[Settings]\x20Cancel\x20window\x20set\x20to:','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','statLoadCard','div','seriesCountContainer','</b>\x0a\x0a','anTotalStats','closest','saveLocally','[Notify]\x20Error:\x20sessionData\x20is\x20null','save_settings','user','ranges','left','all','querySelectorAll',':\x20Client\x20already\x20booked','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','width','matrixViewport','findIndex','blocked-range-part\x20stripe-bg','peGrid','toLocaleDateString','week','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','constructor','getFullYear','[Notify]\x20Error:\x20Text\x20generation\x20failed','clientWidth','de-item','flex','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','anStart','push','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','round','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','day-off-overlay\x20stripe-bg','toastTitle','[Series]\x20Skipped\x20','rangesList','asBtnSeries','total','Telegram','planned','exceptions','cancel_window','from','[Notify]\x20Client\x20SWAP\x20detected','note','offsetLeft','#gridColumns\x20.day-column','dayOptionsTitle','long','getDate','syncLoad','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','scroll','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','forEach','gridColumns','pe-col-header','max','toString','custom','var(--acc-green)','name','addEventListener','<span>','create','setHours','completed','rangeStartDate','pe-corner','#fff','display','ready','indexOf','block','.day-col-header','slice','includes','end','doBusyHours','top','uc_settings_v9','getText','settingCancelWindow','sid','ru-RU','range-item','100%','patternInfoBox','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','scrollLeft','stat-','DOMContentLoaded','stopPropagation','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','setHeaderColor','value','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','sheetTitle','appendChild','checked','\x20status-completed','now','event-card','calc(','.day-column','split','offClick','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','var(--acc-red)','add','sessionSheet','</div><div\x20class=\x22dch-num\x22>','as-button\x20danger\x20bold','23:59','inpSeriesCount','insertBefore','toUpperCase','Error\x20setting\x20color:','setDate','actionSheetOverlay','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','map','anEnd','backgroundColor','rangeEndTime','clientId','className','none','inpDate','cancelled','series','100JXskVt','data-day-idx','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','numeric','borderColor','906645swuOUz','onclick','settings',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','text/plain;charset=UTF-8','touchend','px\x200px','uc_settings_cancel_window','cancel','querySelector','anPercent','rgba(48,\x20209,\x2088,\x200.15)','globalTimeLine','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','blocked-slot\x20stripe-bg','data','header-','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','innerHTML','save','.pib-text','3760kdUNxo','router.html','sort','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','setItem','btnStatusToggle','Local\x20Load\x20Error','inpStart','rgba(','send','inpEnd','mini','null','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','onClick'];a2_0x3524=function(){return _0x51094b;};return a2_0x3524();}function prependDays(_0x25b689,_0x376398){const _0x595eab=a2_0x516c20,_0x143ba9=document['getElementById']('daysHeaderTrack'),_0xeab370=document[_0x595eab(0x1d4)](_0x595eab(0x255)),_0x12a2f9=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x223b12=new Date();_0x223b12['setHours'](0x0,0x0,0x0,0x0);const _0x4e17d7=getLocalDateStr(new Date()),_0xba821d=document[_0x595eab(0x2fe)](),_0x358537=document[_0x595eab(0x2fe)]();for(let _0x4ec12b=_0x25b689;_0x4ec12b<=_0x376398;_0x4ec12b++){const _0xc538da=new Date(_0x223b12);_0xc538da[_0x595eab(0x295)](_0xc538da[_0x595eab(0x24f)]()+_0x4ec12b);const _0x1a6c29=getLocalDateStr(_0xc538da);let _0x45743d=_0xc538da[_0x595eab(0x2d4)]()-0x1;if(_0x45743d===-0x1)_0x45743d=0x6;const _0x2b09b2=_0x1a6c29===_0x4e17d7,_0x137890=document[_0x595eab(0x1f6)](_0x595eab(0x21a));_0x137890[_0x595eab(0x29e)]=_0x595eab(0x1e4)+(_0x2b09b2?_0x595eab(0x210):''),_0x137890['id']=_0x595eab(0x2b8)+_0x1a6c29,_0x137890[_0x595eab(0x1e6)](_0x595eab(0x1eb),_0x1a6c29),_0x137890[_0x595eab(0x2ba)]=_0x595eab(0x32b)+_0x12a2f9[_0x45743d]+'</div><div\x20class=\x22dch-num\x22>'+_0xc538da[_0x595eab(0x24f)]()+_0x595eab(0x322)+_0x1a6c29+_0x595eab(0x253),_0x137890[_0x595eab(0x2a9)]=()=>openDayOptions(_0x1a6c29,_0x12a2f9[_0x45743d]+'\x20'+_0xc538da['getDate']()),_0xba821d[_0x595eab(0x280)](_0x137890);const _0x5bc280=document[_0x595eab(0x1f6)](_0x595eab(0x21a));_0x5bc280[_0x595eab(0x29e)]=_0x595eab(0x1cc)+(_0x2b09b2?_0x595eab(0x210):''),_0x5bc280[_0x595eab(0x1e6)](_0x595eab(0x1eb),_0x1a6c29),_0x5bc280[_0x595eab(0x1e6)]('data-day-idx',_0x45743d),renderEventsForColumn(_0x5bc280,_0x1a6c29,_0x45743d),attachLongPressHandler(_0x5bc280,_0xc538da),_0x358537[_0x595eab(0x280)](_0x5bc280),updateDayStats(_0x1a6c29);}_0x143ba9[_0x595eab(0x292)](_0xba821d,_0x143ba9[_0x595eab(0x2dd)]),_0xeab370['insertBefore'](_0x358537,_0xeab370[_0x595eab(0x2b1)](_0x595eab(0x286)));}function validateAppointment(_0x41fc97,_0x333db0,_0x4ea34c,_0x13c4c7,_0x3ec562){const _0x34b31c=a2_0x516c20,[_0x275604,_0xa5a33]=_0x333db0[_0x34b31c(0x287)](':')[_0x34b31c(0x299)](Number),[_0x1c2964,_0x1cc2b5]=_0x4ea34c[_0x34b31c(0x287)](':')[_0x34b31c(0x299)](Number),_0xeaaae6=_0x275604*0x3c+_0xa5a33,_0x202e3d=_0x1c2964*0x3c+_0x1cc2b5,_0x28e1c2=String(_0x3ec562);let _0x29e06e=![],_0x159a95='';for(let _0x5a1850 of sessions){if(_0x5a1850['dateStr']!==_0x41fc97)continue;if(_0x5a1850[_0x34b31c(0x2da)]===_0x34b31c(0x2a1))continue;if(_0x13c4c7&&String(_0x5a1850['id'])===String(_0x13c4c7))continue;const [_0x1efb0e,_0x58e7ab]=_0x5a1850[_0x34b31c(0x304)]['split'](':')[_0x34b31c(0x299)](Number),[_0x8349ce,_0x3ead83]=_0x5a1850[_0x34b31c(0x26b)][_0x34b31c(0x287)](':')[_0x34b31c(0x299)](Number),_0x343466=_0x1efb0e*0x3c+_0x58e7ab,_0xa1c2ad=_0x8349ce*0x3c+_0x3ead83;if(Math[_0x34b31c(0x257)](_0xeaaae6,_0x343466)<Math[_0x34b31c(0x1ea)](_0x202e3d,_0xa1c2ad)){if(_0x5a1850[_0x34b31c(0x29d)]&&String(_0x5a1850[_0x34b31c(0x29d)])===_0x28e1c2)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0x5a1850[_0x34b31c(0x203)]+_0x34b31c(0x31c)};_0x29e06e=!![],_0x159a95=_0x5a1850[_0x34b31c(0x203)];}}if(_0x29e06e)return{'valid':!![],'warning':'–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20'+_0x159a95};return{'valid':!![]};}function updateDateDisplay(){const _0x525fb2=a2_0x516c20,_0x5aedf1=document['getElementById'](_0x525fb2(0x2a0))[_0x525fb2(0x27d)],_0x55bd1c=document[_0x525fb2(0x1d4)]('sheetDateSubtitle');if(!_0x5aedf1){_0x55bd1c[_0x525fb2(0x2e8)]='';return;}const [_0x270394,_0x474e97,_0x521a50]=_0x5aedf1[_0x525fb2(0x287)]('-')[_0x525fb2(0x299)](Number),_0x34b3f8=new Date(_0x270394,_0x474e97-0x1,_0x521a50),_0x21d76d={'weekday':'long','day':'numeric','month':_0x525fb2(0x24e),'year':_0x525fb2(0x2a6)};let _0x2ad858=_0x34b3f8[_0x525fb2(0x22f)]('ru-RU',_0x21d76d);_0x2ad858=_0x2ad858['charAt'](0x0)[_0x525fb2(0x293)]()+_0x2ad858[_0x525fb2(0x269)](0x1),_0x55bd1c[_0x525fb2(0x2e8)]=_0x2ad858;}function autoSetEndTime(){const _0xd434c7=a2_0x516c20,_0x5b59ca=document[_0xd434c7(0x1d4)](_0xd434c7(0x2c4))['value'];if(!_0x5b59ca)return;const [_0x5c73de,_0x231e92]=_0x5b59ca[_0xd434c7(0x287)](':')[_0xd434c7(0x299)](Number);let _0x22e50c=_0x5c73de+0x1;if(_0x22e50c>0x17)_0x22e50c=0x0;const _0x24a47f=String(_0x22e50c)[_0xd434c7(0x20b)](0x2,'0')+':'+String(_0x231e92)[_0xd434c7(0x20b)](0x2,'0');document[_0xd434c7(0x1d4)]('inpEnd')['value']=_0x24a47f;}function populateClientSelect(){const _0x319515=a2_0x516c20,_0x5e8bef=document[_0x319515(0x1d4)]('inpClient');_0x5e8bef[_0x319515(0x2ba)]='';if(clients['length']===0x0){const _0x125feb=document['createElement'](_0x319515(0x1d2));_0x125feb[_0x319515(0x2e9)]='–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤',_0x5e8bef[_0x319515(0x280)](_0x125feb);return;}clients[_0x319515(0x254)](_0x42f802=>{const _0x2f5e54=_0x319515,_0x5f1b25=document[_0x2f5e54(0x1f6)](_0x2f5e54(0x1d2));_0x5f1b25[_0x2f5e54(0x27d)]=_0x42f802[_0x2f5e54(0x25b)],_0x5f1b25[_0x2f5e54(0x2e8)]=_0x42f802[_0x2f5e54(0x25b)],_0x5e8bef[_0x2f5e54(0x280)](_0x5f1b25);});}function openActionSheet(_0x22a02c){const _0x1bf306=a2_0x516c20,_0x52fd55=document[_0x1bf306(0x1d4)](_0x1bf306(0x1fa)),_0x687a6=document['getElementById']('actionSheetOverlay'),_0xa9d323=document[_0x1bf306(0x1d4)](_0x1bf306(0x2ea)),_0x3c6dab=document[_0x1bf306(0x1d4)](_0x1bf306(0x301)),_0x522be3=document['getElementById'](_0x1bf306(0x242));_0x687a6['classList'][_0x1bf306(0x28c)]('active'),_0x52fd55[_0x1bf306(0x1ed)][_0x1bf306(0x28c)](_0x1bf306(0x2e5));if(_0x22a02c==='save')_0xa9d323[_0x1bf306(0x2e8)]='–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏',_0x3c6dab[_0x1bf306(0x2e8)]=_0x1bf306(0x213),_0x3c6dab[_0x1bf306(0x2a9)]=()=>{const _0x556785=_0x1bf306;closeActionSheet(),updateSeriesBatch(_0x556785(0x31d),tempSessionData);},_0x522be3[_0x1bf306(0x2e8)]=_0x1bf306(0x2ca),_0x522be3[_0x1bf306(0x2a9)]=()=>{const _0x595f17=_0x1bf306;closeActionSheet(),updateSeriesBatch(_0x595f17(0x2a2),tempSessionData);};else _0x22a02c===_0x1bf306(0x2f9)&&(_0xa9d323[_0x1bf306(0x2e8)]='–£–¥–∞–ª–µ–Ω–∏–µ',_0x3c6dab[_0x1bf306(0x2e8)]='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x3c6dab[_0x1bf306(0x29e)]=_0x1bf306(0x1dc),_0x3c6dab['onclick']=()=>{const _0x2bea8d=_0x1bf306;closeActionSheet(),commitDelete(_0x2bea8d(0x31d),sessions[_0x2bea8d(0x2f1)](_0x3f63e9=>_0x3f63e9['id']===editingId));},_0x522be3['textContent']=_0x1bf306(0x2ca),_0x522be3[_0x1bf306(0x29e)]=_0x1bf306(0x28f),_0x522be3[_0x1bf306(0x2a9)]=()=>{const _0x4a49a8=_0x1bf306;closeActionSheet(),commitDelete(_0x4a49a8(0x2a2),sessions[_0x4a49a8(0x2f1)](_0x5a451a=>_0x5a451a['id']===editingId));});}function closeActionSheet(){const _0x438dfb=a2_0x516c20;document[_0x438dfb(0x1d4)](_0x438dfb(0x1fa))[_0x438dfb(0x1ed)]['remove']('open'),document[_0x438dfb(0x1d4)](_0x438dfb(0x296))['classList']['remove'](_0x438dfb(0x1d7));}function openSettings(){const _0x969940=a2_0x516c20;openSheet(_0x969940(0x328));}function saveCoachSettings(){const _0x5302c1=a2_0x516c20,_0x5d2318=document['getElementById'](_0x5302c1(0x270))['value'];localStorage['setItem'](_0x5302c1(0x2af),_0x5d2318),console[_0x5302c1(0x2cd)](_0x5302c1(0x217),_0x5d2318),DataManager['fetchFromServer'](_0x5302c1(0x221),{'settings':{'cancel_window':_0x5d2318}})[_0x5302c1(0x1d0)](_0x30034a=>{const _0x42770b=_0x5302c1;console[_0x42770b(0x310)](_0x42770b(0x2f3),_0x30034a),showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫',![]);});}function loadCoachSettings(){const _0x54a015=a2_0x516c20,_0x2ee502=localStorage[_0x54a015(0x1c8)](_0x54a015(0x2af));_0x2ee502&&(document[_0x54a015(0x1d4)](_0x54a015(0x270))[_0x54a015(0x27d)]=_0x2ee502);}function openRangesSheet(){closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet('rangesSheet');}function addRange(){const _0x4c5a68=a2_0x516c20,_0x7823a0=document[_0x4c5a68(0x1d4)]('rangeStartDate')[_0x4c5a68(0x27d)],_0xfe0f3=document[_0x4c5a68(0x1d4)](_0x4c5a68(0x1e0))['value'],_0x4aa645=document[_0x4c5a68(0x1d4)](_0x4c5a68(0x2e4))[_0x4c5a68(0x27d)],_0x388fe4=document['getElementById'](_0x4c5a68(0x29c))['value'];if(!_0x7823a0||!_0xfe0f3||!_0x4aa645||!_0x388fe4)return alert(_0x4c5a68(0x1e2));const _0x5d6330=_0x7823a0+'T'+_0xfe0f3,_0x5b4338=_0x4aa645+'T'+_0x388fe4;if(_0x5d6330>=_0x5b4338)return alert('–û—à–∏–±–∫–∞\x20–¥–∞—Ç');specialRanges['push']({'start':_0x5d6330,'end':_0x5b4338}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x4c5a68(0x21f)](),DataManager['fetchFromServer'](_0x4c5a68(0x221),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x34817d){const _0x5bbc31=a2_0x516c20;specialRanges[_0x5bbc31(0x339)](_0x34817d,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x5bbc31(0x21f)](),DataManager['fetchFromServer']('save_settings',{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x1e5eba=a2_0x516c20;document[_0x1e5eba(0x1d4)](_0x1e5eba(0x261))[_0x1e5eba(0x27d)]='',document['getElementById'](_0x1e5eba(0x1e0))[_0x1e5eba(0x27d)]=_0x1e5eba(0x30d),document['getElementById'](_0x1e5eba(0x2e4))[_0x1e5eba(0x27d)]='',document['getElementById'](_0x1e5eba(0x29c))['value']=_0x1e5eba(0x290);}function renderRangesList(){const _0x21ea37=a2_0x516c20,_0x55fb61=document['getElementById'](_0x21ea37(0x241));_0x55fb61[_0x21ea37(0x2ba)]='';if(!specialRanges[_0x21ea37(0x1fb)]){_0x55fb61[_0x21ea37(0x2ba)]=_0x21ea37(0x2b5);return;}specialRanges[_0x21ea37(0x254)]((_0x452b52,_0x438df2)=>{const _0x1c6a8e=_0x21ea37,_0x4b6890=document['createElement'](_0x1c6a8e(0x21a));_0x4b6890['className']=_0x1c6a8e(0x273);const _0x2ce52e=_0x5932a8=>{const _0x22d1c3=_0x1c6a8e,_0x3d14b3=new Date(_0x5932a8);return _0x3d14b3['getDate']()+'.'+String(_0x3d14b3[_0x22d1c3(0x1d9)]()+0x1)[_0x22d1c3(0x20b)](0x2,'0')+'\x20'+String(_0x3d14b3['getHours']())[_0x22d1c3(0x20b)](0x2,'0')+':'+String(_0x3d14b3[_0x22d1c3(0x329)]())[_0x22d1c3(0x20b)](0x2,'0');};_0x4b6890[_0x1c6a8e(0x2ba)]=_0x1c6a8e(0x1de)+_0x2ce52e(_0x452b52[_0x1c6a8e(0x304)])+_0x1c6a8e(0x312)+_0x2ce52e(_0x452b52['end'])+_0x1c6a8e(0x238)+_0x438df2+_0x1c6a8e(0x1fc),_0x55fb61['appendChild'](_0x4b6890);});}function scrollToToday(){const _0x36faf2=a2_0x516c20,_0x40ce23=getLocalDateStr(new Date()),_0x30d2c5=document['getElementById'](_0x36faf2(0x2b8)+_0x40ce23),_0x574544=document[_0x36faf2(0x1d4)](_0x36faf2(0x22b));if(_0x30d2c5&&_0x574544){const _0x286eb2=_0x574544[_0x36faf2(0x235)],_0x6381e3=_0x30d2c5[_0x36faf2(0x24b)],_0x278977=_0x30d2c5[_0x36faf2(0x33d)];_0x574544['scrollLeft']=_0x6381e3-_0x286eb2/0x2+_0x278977/0x2,_0x574544['scrollTop']=0x9*GRID_H;}}function onScroll(){const _0x4d3a87=a2_0x516c20,_0x23bde5=document['getElementById'](_0x4d3a87(0x22b)),_0xa6390b=document[_0x4d3a87(0x226)](_0x4d3a87(0x268));for(let _0x29ba2a of _0xa6390b)if(_0x29ba2a[_0x4d3a87(0x24b)]>=_0x23bde5[_0x4d3a87(0x277)]){const _0x1efa54=new Date(_0x29ba2a[_0x4d3a87(0x2ce)](_0x4d3a87(0x1eb)));document[_0x4d3a87(0x1d4)]('headerMonth')[_0x4d3a87(0x2e8)]=_0x1efa54['toLocaleString']('ru',{'month':_0x4d3a87(0x24e)})['toUpperCase']()+'\x20'+_0x1efa54[_0x4d3a87(0x233)]();break;}}function showToast(_0x43b96e,_0x54a21b=![]){const _0x286b2e=a2_0x516c20,_0x27d401=document['getElementById']('toast');_0x27d401[_0x286b2e(0x29e)]=_0x286b2e(0x1ff)+(_0x54a21b?'success':''),document[_0x286b2e(0x1d4)](_0x286b2e(0x23f))[_0x286b2e(0x2e8)]=_0x54a21b?'–£—Å–ø–µ—à–Ω–æ':'–ò–Ω—Ñ–æ',document[_0x286b2e(0x1d4)](_0x286b2e(0x2d6))[_0x286b2e(0x2e8)]=_0x43b96e,_0x27d401[_0x286b2e(0x1ed)][_0x286b2e(0x28c)](_0x286b2e(0x2ef)),setTimeout(()=>{const _0x483341=_0x286b2e;_0x27d401[_0x483341(0x1ed)][_0x483341(0x1c7)](_0x483341(0x2ef));},0xbb8);}function openDayOptions(_0x4f61e3,_0x61bfe){const _0x45aaf2=a2_0x516c20;selectedDayForOptions=_0x4f61e3,document[_0x45aaf2(0x1d4)](_0x45aaf2(0x24d))[_0x45aaf2(0x2e8)]=_0x61bfe,openSheet(_0x45aaf2(0x2d0));}function toggleDayOff(){const _0x43ab39=a2_0x516c20;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x43ab39(0x1fe),reRenderBlocks(),closeAllSheets(),DataManager[_0x43ab39(0x21f)](),DataManager[_0x43ab39(0x303)](_0x43ab39(0x221),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x5f5028=a2_0x516c20;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager[_0x5f5028(0x303)](_0x5f5028(0x221),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x3e6c53){const _0x519f74=a2_0x516c20;document[_0x519f74(0x1d4)](_0x519f74(0x332))[_0x519f74(0x1ed)]['add']('active'),document[_0x519f74(0x1d4)](_0x3e6c53)[_0x519f74(0x1ed)][_0x519f74(0x28c)](_0x519f74(0x2e5));}function closeAllSheets(){const _0x31ce7c=a2_0x516c20;document[_0x31ce7c(0x1d4)](_0x31ce7c(0x332))[_0x31ce7c(0x1ed)]['remove']('active'),document['querySelectorAll']('.sheet')['forEach'](_0x4c983d=>_0x4c983d[_0x31ce7c(0x1ed)]['remove']('open'));}function openPatternEditor(){const _0x4aaae8=a2_0x516c20;closeAllSheets(),document['getElementById'](_0x4aaae8(0x1e5))[_0x4aaae8(0x1ed)]['add']('open'),renderPatternEditor();}function closePatternEditor(){const _0x2d4fc6=a2_0x516c20;document['getElementById'](_0x2d4fc6(0x1e5))['classList']['remove'](_0x2d4fc6(0x2e5));}function savePattern(){const _0x4d7d90=a2_0x516c20;document['getElementById'](_0x4d7d90(0x1e5))[_0x4d7d90(0x1ed)][_0x4d7d90(0x1c7)](_0x4d7d90(0x2e5)),reRenderBlocks(),DataManager[_0x4d7d90(0x21f)](),DataManager[_0x4d7d90(0x303)](_0x4d7d90(0x221),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x17a2eb=a2_0x516c20,_0x2838db=document[_0x17a2eb(0x1d4)](_0x17a2eb(0x22e));_0x2838db[_0x17a2eb(0x2ba)]='';const _0x30b3ea=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x28a296=document[_0x17a2eb(0x1f6)](_0x17a2eb(0x21a));_0x28a296[_0x17a2eb(0x29e)]=_0x17a2eb(0x262),_0x2838db[_0x17a2eb(0x280)](_0x28a296),_0x30b3ea[_0x17a2eb(0x254)]((_0x19b6a3,_0x488f68)=>{const _0x261f43=_0x17a2eb,_0x3ded46=document[_0x261f43(0x1f6)](_0x261f43(0x21a));_0x3ded46['className']=_0x261f43(0x256),_0x3ded46[_0x261f43(0x2ba)]=_0x19b6a3+_0x261f43(0x200),_0x3ded46[_0x261f43(0x2a9)]=()=>toggleColPattern(_0x488f68),_0x2838db[_0x261f43(0x280)](_0x3ded46);});for(let _0x2b28fe=0x0;_0x2b28fe<0x18;_0x2b28fe++){const _0x50ff43=document[_0x17a2eb(0x1f6)](_0x17a2eb(0x21a));_0x50ff43[_0x17a2eb(0x29e)]=_0x17a2eb(0x1d6),_0x50ff43[_0x17a2eb(0x2ba)]=_0x17a2eb(0x229)+String(_0x2b28fe)['padStart'](0x2,'0')+_0x17a2eb(0x300),_0x50ff43[_0x17a2eb(0x2a9)]=()=>toggleRowPattern(_0x2b28fe),_0x2838db[_0x17a2eb(0x280)](_0x50ff43);for(let _0x48e22a=0x0;_0x48e22a<0x7;_0x48e22a++){const _0x202a92=document['createElement'](_0x17a2eb(0x21a)),_0xbb23fb=(availabilityPattern[_0x48e22a]||[])[_0x17a2eb(0x26a)](_0x2b28fe),_0x48a133=!_0xbb23fb;_0x202a92[_0x17a2eb(0x29e)]=_0x17a2eb(0x1df)+(_0x48a133?_0x17a2eb(0x1d7):''),_0x202a92[_0x17a2eb(0x2a9)]=()=>toggleSinglePattern(_0x48e22a,_0x2b28fe),_0x2838db[_0x17a2eb(0x280)](_0x202a92);}}}function toggleSinglePattern(_0x48ae6a,_0x3dab65){const _0x3c7c63=a2_0x516c20;if(!availabilityPattern[_0x48ae6a])availabilityPattern[_0x48ae6a]=[];const _0x181afc=availabilityPattern[_0x48ae6a],_0x4d9a53=_0x181afc[_0x3c7c63(0x266)](_0x3dab65);_0x4d9a53===-0x1?_0x181afc[_0x3c7c63(0x23a)](_0x3dab65):_0x181afc['splice'](_0x4d9a53,0x1),renderPatternEditor();}function toggleColPattern(_0x447135){const _0x1229f9=a2_0x516c20;if(!availabilityPattern[_0x447135])availabilityPattern[_0x447135]=[];const _0x367a53=availabilityPattern[_0x447135];_0x367a53['length']===0x0?availabilityPattern[_0x447135]=Array[_0x1229f9(0x248)]({'length':0x18},(_0x5d14e1,_0x5baa5a)=>_0x5baa5a):availabilityPattern[_0x447135]=[],renderPatternEditor();}function toggleRowPattern(_0x494ec7){const _0xde829=a2_0x516c20;let _0x30beee=!![];for(let _0x1c606b=0x0;_0x1c606b<0x7;_0x1c606b++){if((availabilityPattern[_0x1c606b]||[])[_0xde829(0x26a)](_0x494ec7)){_0x30beee=![];break;}}for(let _0x3d5c42=0x0;_0x3d5c42<0x7;_0x3d5c42++){if(!availabilityPattern[_0x3d5c42])availabilityPattern[_0x3d5c42]=[];const _0x582fff=availabilityPattern[_0x3d5c42]['indexOf'](_0x494ec7);if(_0x30beee){if(_0x582fff===-0x1)availabilityPattern[_0x3d5c42][_0xde829(0x23a)](_0x494ec7);}else{if(_0x582fff!==-0x1)availabilityPattern[_0x3d5c42][_0xde829(0x339)](_0x582fff,0x1);}}renderPatternEditor();}function renderPCol(_0x2447ab,_0x147a56){const _0x4e3ac2=a2_0x516c20;_0x2447ab[_0x4e3ac2(0x2ba)]='';const _0x33c227=Math[_0x4e3ac2(0x23c)](_0x2447ab['offsetLeft']);(availabilityPattern[_0x147a56]||[])['forEach'](_0x295ad9=>{const _0x1f87eb=_0x4e3ac2,_0x1a81a6=document[_0x1f87eb(0x1f6)](_0x1f87eb(0x21a));_0x1a81a6[_0x1f87eb(0x29e)]=_0x1f87eb(0x2b6);const _0x5df227=_0x295ad9*GRID_H;_0x1a81a6[_0x1f87eb(0x2df)][_0x1f87eb(0x26d)]=_0x5df227+'px',_0x1a81a6[_0x1f87eb(0x2df)][_0x1f87eb(0x319)]='-'+_0x33c227+_0x1f87eb(0x1c4)+_0x5df227+'px',_0x1a81a6[_0x1f87eb(0x2a9)]=_0x30485f=>{_0x30485f['stopPropagation'](),toggleSinglePattern(_0x147a56,_0x295ad9);},_0x2447ab['appendChild'](_0x1a81a6);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x517c58=a2_0x516c20,_0xbc2c3a=new Date(),_0x57dd0c=document[_0x517c58(0x1d4)](_0x517c58(0x2b4)),_0x38961f=document[_0x517c58(0x1d4)](_0x517c58(0x216)),_0x3d7d4d=(_0xbc2c3a[_0x517c58(0x30b)]()*0x3c+_0xbc2c3a[_0x517c58(0x329)]())/0x3c*GRID_H;_0x57dd0c[_0x517c58(0x2df)][_0x517c58(0x26d)]=_0x3d7d4d+'px',_0x57dd0c[_0x517c58(0x2df)][_0x517c58(0x264)]=_0x517c58(0x267),_0x38961f['textContent']=String(_0xbc2c3a[_0x517c58(0x30b)]())['padStart'](0x2,'0')+':'+String(_0xbc2c3a[_0x517c58(0x329)]())['padStart'](0x2,'0'),_0x38961f[_0x517c58(0x2df)][_0x517c58(0x264)]=_0x517c58(0x267),_0x38961f[_0x517c58(0x2df)][_0x517c58(0x26d)]=_0x3d7d4d+'px';}document[a2_0x516c20(0x25c)](a2_0x516c20(0x279),init);function openDayOptions(_0x4d2d97){const _0x92e6d0=a2_0x516c20;selectedDayForOptions=_0x4d2d97;const _0x4bb165=new Date(_0x4d2d97),_0x1a76c9={'weekday':_0x92e6d0(0x24e),'day':'numeric','month':'long','year':_0x92e6d0(0x2a6)},_0x48fa9a=_0x4bb165[_0x92e6d0(0x22f)]('ru-RU',_0x1a76c9);document[_0x92e6d0(0x1d4)](_0x92e6d0(0x330))[_0x92e6d0(0x2e8)]=_0x48fa9a[_0x92e6d0(0x1cf)](0x0)[_0x92e6d0(0x293)]()+_0x48fa9a['slice'](0x1);let _0x171625=_0x4bb165[_0x92e6d0(0x2d4)]()-0x1;if(_0x171625===-0x1)_0x171625=0x6;const _0x5630c3=availabilityPattern[_0x171625]||[],_0x5175ae=0x18-_0x5630c3[_0x92e6d0(0x1fb)],_0xea6f1=_0x5175ae*0x3c,_0x5ece1b=sessions[_0x92e6d0(0x2f6)](_0x360c9f=>_0x360c9f['dateStr']===_0x4d2d97&&_0x360c9f[_0x92e6d0(0x2da)]!==_0x92e6d0(0x2a1));let _0x38f7d7=_0x5ece1b[_0x92e6d0(0x299)](_0x1c2a96=>{const _0x5e881b=_0x92e6d0,[_0x3291bb,_0x11c3b6]=_0x1c2a96[_0x5e881b(0x304)][_0x5e881b(0x287)](':')['map'](Number),[_0x3733c5,_0x226714]=_0x1c2a96[_0x5e881b(0x26b)][_0x5e881b(0x287)](':')[_0x5e881b(0x299)](Number);return[_0x3291bb*0x3c+_0x11c3b6,_0x3733c5*0x3c+_0x226714];});_0x38f7d7['sort']((_0xee6438,_0x30a310)=>_0xee6438[0x0]-_0x30a310[0x0]);let _0x5f2de1=[];if(_0x38f7d7[_0x92e6d0(0x1fb)]>0x0){let _0x315017=_0x38f7d7[0x0];for(let _0x31499b=0x1;_0x31499b<_0x38f7d7[_0x92e6d0(0x1fb)];_0x31499b++){_0x38f7d7[_0x31499b][0x0]<_0x315017[0x1]?_0x315017[0x1]=Math[_0x92e6d0(0x257)](_0x315017[0x1],_0x38f7d7[_0x31499b][0x1]):(_0x5f2de1[_0x92e6d0(0x23a)](_0x315017),_0x315017=_0x38f7d7[_0x31499b]);}_0x5f2de1[_0x92e6d0(0x23a)](_0x315017);}let _0x24722b=0x0;_0x5f2de1[_0x92e6d0(0x254)](_0x3e36f8=>_0x24722b+=_0x3e36f8[0x1]-_0x3e36f8[0x0]),document[_0x92e6d0(0x1d4)](_0x92e6d0(0x30c))['textContent']=formatMinsToHrs(_0xea6f1),document[_0x92e6d0(0x1d4)](_0x92e6d0(0x26c))['textContent']=formatMinsToHrs(_0x24722b);const _0x1f99f1=_0xea6f1>0x0?Math['round'](_0x24722b/_0xea6f1*0x64):0x0,_0x529688=document[_0x92e6d0(0x1d4)](_0x92e6d0(0x306));_0x529688[_0x92e6d0(0x2e8)]=_0x1f99f1+'%';const _0x147836=document['getElementById'](_0x92e6d0(0x219));if(_0x1f99f1>0x64)_0x529688['style'][_0x92e6d0(0x1c9)]='var(--acc-red)',_0x147836['style'][_0x92e6d0(0x2a7)]=_0x92e6d0(0x214);else _0x1f99f1>0x50?(_0x529688[_0x92e6d0(0x2df)]['color']=_0x92e6d0(0x30a),_0x147836[_0x92e6d0(0x2df)][_0x92e6d0(0x2a7)]=_0x92e6d0(0x2fc)):(_0x529688[_0x92e6d0(0x2df)][_0x92e6d0(0x1c9)]='var(--acc-green)',_0x147836[_0x92e6d0(0x2df)]['borderColor']='rgba(255,255,255,0.05)');const _0x52d696=document[_0x92e6d0(0x1d4)](_0x92e6d0(0x32d));_0x52d696[_0x92e6d0(0x2ba)]='';_0x5ece1b['length']===0x0?_0x52d696[_0x92e6d0(0x2ba)]='<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>':(_0x5ece1b[_0x92e6d0(0x2bf)]((_0x38606c,_0x119603)=>_0x38606c[_0x92e6d0(0x304)]['localeCompare'](_0x119603['start'])),_0x5ece1b['forEach'](_0x234628=>{const _0x174eb7=_0x92e6d0,_0x144037=clients[_0x174eb7(0x2f1)](_0x40be1b=>_0x40be1b['name']===_0x234628[_0x174eb7(0x203)]),_0x250521=_0x144037?_0x144037[_0x174eb7(0x1c9)]:_0x174eb7(0x263),_0x320001=_0x234628['status']===_0x174eb7(0x260),_0x27cad3=_0x320001?_0x174eb7(0x33b):'',_0x470c36=document[_0x174eb7(0x1f6)](_0x174eb7(0x21a));_0x470c36[_0x174eb7(0x29e)]=_0x174eb7(0x236),_0x470c36[_0x174eb7(0x2df)][_0x174eb7(0x1e9)]=_0x250521,_0x470c36[_0x174eb7(0x2ba)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>'+_0x234628['start']+'\x20-\x20'+_0x234628[_0x174eb7(0x26b)]+_0x174eb7(0x318)+_0x234628['client']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x27cad3+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x52d696[_0x174eb7(0x280)](_0x470c36);}));const _0x3cbcc0=document[_0x92e6d0(0x1d4)]('btnDayToggle'),_0x3e5bb3=dateExceptions[_0x4d2d97]===_0x92e6d0(0x1fe);_0x3e5bb3?(_0x3cbcc0[_0x92e6d0(0x2e8)]=_0x92e6d0(0x1f0),_0x3cbcc0[_0x92e6d0(0x29e)]=_0x92e6d0(0x317),_0x3cbcc0[_0x92e6d0(0x2df)][_0x92e6d0(0x1c9)]=_0x92e6d0(0x25a),_0x3cbcc0[_0x92e6d0(0x2df)]['background']=_0x92e6d0(0x2b3)):(_0x3cbcc0['textContent']=_0x92e6d0(0x218),_0x3cbcc0['className']=_0x92e6d0(0x2ee),_0x3cbcc0['style'][_0x92e6d0(0x1c9)]='var(--acc-red)',_0x3cbcc0[_0x92e6d0(0x2df)]['background']='rgba(255,\x2069,\x2058,\x200.15)'),openSheet(_0x92e6d0(0x2d0));}let currentAnPeriod=a2_0x516c20(0x230);function openAnalytics(){const _0x39d80a=a2_0x516c20,_0x442361=document[_0x39d80a(0x2b1)]('.period-switch\x20.p-btn');setAnalyticsPeriod('week',_0x442361),closeAllSheets(),openSheet(_0x39d80a(0x1c6));}function setAnalyticsPeriod(_0x37a856,_0x58c6cf){const _0x4e6158=a2_0x516c20;currentAnPeriod=_0x37a856,document['querySelectorAll'](_0x4e6158(0x320))[_0x4e6158(0x254)](_0x113085=>_0x113085[_0x4e6158(0x1ed)][_0x4e6158(0x1c7)](_0x4e6158(0x1d7)));if(_0x58c6cf)_0x58c6cf[_0x4e6158(0x1ed)][_0x4e6158(0x28c)](_0x4e6158(0x1d7));const _0x4ddb70=document['getElementById'](_0x4e6158(0x1f5));_0x4ddb70[_0x4e6158(0x2df)][_0x4e6158(0x264)]=_0x37a856===_0x4e6158(0x259)?_0x4e6158(0x237):'none';const _0x261c1e=new Date();let _0x141aa6=new Date(),_0xf914b2=new Date();if(_0x37a856===_0x4e6158(0x230))_0x141aa6=getStartOfWeek(_0x261c1e),_0xf914b2=new Date(_0x141aa6),_0xf914b2[_0x4e6158(0x295)](_0xf914b2[_0x4e6158(0x24f)]()+0x6);else{if(_0x37a856===_0x4e6158(0x2ed))_0x141aa6=new Date(_0x261c1e['getFullYear'](),_0x261c1e[_0x4e6158(0x1d9)](),0x1),_0xf914b2=new Date(_0x261c1e[_0x4e6158(0x233)](),_0x261c1e[_0x4e6158(0x1d9)]()+0x1,0x0);else{!document['getElementById']('anStart')[_0x4e6158(0x27d)]&&(document[_0x4e6158(0x1d4)](_0x4e6158(0x239))['value']=getLocalDateStr(_0x261c1e),document[_0x4e6158(0x1d4)]('anEnd')[_0x4e6158(0x27d)]=getLocalDateStr(_0x261c1e));refreshAnalytics();return;}}document[_0x4e6158(0x1d4)](_0x4e6158(0x239))[_0x4e6158(0x27d)]=getLocalDateStr(_0x141aa6),document['getElementById'](_0x4e6158(0x29a))[_0x4e6158(0x27d)]=getLocalDateStr(_0xf914b2),refreshAnalytics();}function refreshAnalytics(){const _0x1c36ac=a2_0x516c20,_0xcdc6a6=document[_0x1c36ac(0x1d4)]('anStart')[_0x1c36ac(0x27d)],_0x5d9ee6=document[_0x1c36ac(0x1d4)](_0x1c36ac(0x29a))[_0x1c36ac(0x27d)];if(!_0xcdc6a6||!_0x5d9ee6)return;const _0x413449=sessions[_0x1c36ac(0x2f6)](_0x3361b0=>_0x3361b0['dateStr']>=_0xcdc6a6&&_0x3361b0[_0x1c36ac(0x2d2)]<=_0x5d9ee6&&_0x3361b0[_0x1c36ac(0x2da)]!==_0x1c36ac(0x2a1)),_0x4307d1=_0x413449[_0x1c36ac(0x1fb)],_0xf7c182=_0x413449[_0x1c36ac(0x2f6)](_0xd021c9=>_0xd021c9[_0x1c36ac(0x2da)]==='completed')[_0x1c36ac(0x1fb)],_0x144117=_0x4307d1>0x0?Math['round'](_0xf7c182/_0x4307d1*0x64):0x0;document[_0x1c36ac(0x1d4)](_0x1c36ac(0x2b2))['textContent']=_0x144117+'%',document['getElementById'](_0x1c36ac(0x21d))[_0x1c36ac(0x2e8)]=_0xf7c182+_0x1c36ac(0x315)+_0x4307d1+_0x1c36ac(0x276);const _0x1b76e9=document['getElementById'](_0x1c36ac(0x31f)),_0x2e8838=0x2*Math['PI']*0x23,_0x1cc236=_0x2e8838-_0x144117/0x64*_0x2e8838;_0x1b76e9['style'][_0x1c36ac(0x1ee)]=_0x1cc236;const _0x169c1c={};_0x413449['forEach'](_0x5bdcd8=>{const _0x13e660=_0x1c36ac;if(!_0x169c1c[_0x5bdcd8[_0x13e660(0x203)]]){const _0x83b496=clients[_0x13e660(0x2f1)](_0x3581f4=>_0x3581f4['name']===_0x5bdcd8[_0x13e660(0x203)]);_0x169c1c[_0x5bdcd8[_0x13e660(0x203)]]={'total':0x0,'done':0x0,'color':_0x83b496?_0x83b496[_0x13e660(0x1c9)]:_0x13e660(0x263)};}_0x169c1c[_0x5bdcd8[_0x13e660(0x203)]][_0x13e660(0x243)]++;if(_0x5bdcd8[_0x13e660(0x2da)]==='completed')_0x169c1c[_0x5bdcd8[_0x13e660(0x203)]][_0x13e660(0x30f)]++;});const _0x2afc9a=document['getElementById']('analyticsList');_0x2afc9a[_0x1c36ac(0x2ba)]='';const _0x2d3828=Object[_0x1c36ac(0x20c)](_0x169c1c)[_0x1c36ac(0x2bf)]((_0x312fe2,_0x4f02db)=>_0x4f02db[0x1][_0x1c36ac(0x243)]-_0x312fe2[0x1]['total']);if(_0x2d3828[_0x1c36ac(0x1fb)]===0x0){_0x2afc9a['innerHTML']=_0x1c36ac(0x28a);return;}_0x2d3828[_0x1c36ac(0x254)](([_0x1cda5c,_0x5668d6])=>{const _0xd89880=_0x1c36ac,_0x378b69=Math[_0xd89880(0x23c)](_0x5668d6[_0xd89880(0x30f)]/_0x5668d6[_0xd89880(0x243)]*0x64),_0x3eef89=document['createElement'](_0xd89880(0x21a));_0x3eef89[_0xd89880(0x29e)]=_0xd89880(0x2d5),_0x3eef89[_0xd89880(0x2df)]['borderLeftColor']=_0x5668d6['color'],_0x3eef89[_0xd89880(0x2ba)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>'+_0x1cda5c+_0xd89880(0x2fb)+_0x5668d6[_0xd89880(0x30f)]+'</span>\x20/\x20'+_0x5668d6[_0xd89880(0x243)]+_0xd89880(0x31a)+_0x378b69+_0xd89880(0x297),_0x2afc9a[_0xd89880(0x280)](_0x3eef89);});}function formatMinsToHrs(_0xbab74a){if(_0xbab74a===0x0)return'0';const _0x4c8d57=Math['floor'](_0xbab74a/0x3c),_0x250d96=_0xbab74a%0x3c;if(_0x250d96===0x0)return _0x4c8d57+'—á';return _0x4c8d57+'—á\x20'+_0x250d96+'–º';}