const a2_0x375a5d=a2_0x6a73;(function(_0x247b2c,_0x7d5e12){const _0x3b8eb9=a2_0x6a73,_0x45dd32=_0x247b2c();while(!![]){try{const _0x3f872a=parseInt(_0x3b8eb9(0x1a4))/0x1+parseInt(_0x3b8eb9(0x11a))/0x2*(parseInt(_0x3b8eb9(0x253))/0x3)+-parseInt(_0x3b8eb9(0x1f7))/0x4+-parseInt(_0x3b8eb9(0xe8))/0x5*(parseInt(_0x3b8eb9(0x250))/0x6)+parseInt(_0x3b8eb9(0x25d))/0x7+parseInt(_0x3b8eb9(0x12f))/0x8*(parseInt(_0x3b8eb9(0x101))/0x9)+-parseInt(_0x3b8eb9(0x1c6))/0xa;if(_0x3f872a===_0x7d5e12)break;else _0x45dd32['push'](_0x45dd32['shift']());}catch(_0x33bdc2){_0x45dd32['push'](_0x45dd32['shift']());}}}(a2_0x4dad,0x595f1),function initTMA(){const _0x43bfa5=a2_0x6a73,_0x1d0b1b=(function(){let _0x310f06=!![];return function(_0x3286ba,_0x34c410){const _0x476718=_0x310f06?function(){const _0x61c6d4=a2_0x6a73;if(_0x34c410){const _0x5d6a92=_0x34c410[_0x61c6d4(0x173)](_0x3286ba,arguments);return _0x34c410=null,_0x5d6a92;}}:function(){};return _0x310f06=![],_0x476718;};}()),_0x1704f7=_0x1d0b1b(this,function(){const _0x4c48d3=a2_0x6a73;return _0x1704f7[_0x4c48d3(0x10d)]()[_0x4c48d3(0x1af)]('(((.+)+)+)+$')['toString']()[_0x4c48d3(0x1fc)](_0x1704f7)[_0x4c48d3(0x1af)](_0x4c48d3(0x124));});_0x1704f7();try{const _0x523efe=window[_0x43bfa5(0x1e1)]?.[_0x43bfa5(0x115)];if(!_0x523efe)return;_0x523efe[_0x43bfa5(0x1ff)](),_0x523efe[_0x43bfa5(0x17a)]();try{_0x523efe[_0x43bfa5(0x236)]('#050505'),_0x523efe[_0x43bfa5(0x1db)]&&_0x523efe['setBackgroundColor']('#050505');}catch(_0x1f1d13){console['log']('Error\x20setting\x20color:',_0x1f1d13);}try{_0x523efe[_0x43bfa5(0x12e)]&&(_0x523efe[_0x43bfa5(0x12e)][_0x43bfa5(0x204)](),_0x523efe[_0x43bfa5(0x12e)]['offClick'](),_0x523efe['BackButton'][_0x43bfa5(0x22a)](function(){const _0x203629=_0x43bfa5;window[_0x203629(0x18a)][_0x203629(0x11b)]=_0x203629(0x1cf);}));}catch(_0x1cbb20){console[_0x43bfa5(0x113)](_0x43bfa5(0x190),_0x1cbb20);}try{if(_0x523efe[_0x43bfa5(0x118)])_0x523efe[_0x43bfa5(0x118)]();}catch(_0x142d5d){}}catch(_0x4cb27c){console[_0x43bfa5(0xdc)](_0x43bfa5(0x133),_0x4cb27c);}}());function isAdmin(){const _0x58a29a=a2_0x6a73;try{const _0x561129=Number(window[_0x58a29a(0x1e1)]?.[_0x58a29a(0x115)]?.['initDataUnsafe']?.[_0x58a29a(0x1ca)]?.['id']);return _0x561129===0xbaf7174;}catch(_0x1ac268){return![];}}const APP_VERSION=a2_0x375a5d(0x17b),API_URL='https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec',GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x375a5d(0x1a3),KEY_SESSIONS=a2_0x375a5d(0x18e),KEY_SETTINGS=a2_0x375a5d(0x106);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x16525f=a2_0x375a5d;return window[_0x16525f(0x1e1)]?.[_0x16525f(0x115)]?.[_0x16525f(0x22f)]?.[_0x16525f(0x1ca)]?.['id']||_0x16525f(0x104);},'saveLocally'(){const _0x1b1a0e=a2_0x375a5d;try{localStorage[_0x1b1a0e(0x242)](KEY_CLIENTS,JSON[_0x1b1a0e(0x1d7)](clients)),localStorage['setItem'](KEY_SESSIONS,JSON[_0x1b1a0e(0x1d7)](sessions)),localStorage[_0x1b1a0e(0x242)](KEY_SETTINGS,JSON[_0x1b1a0e(0x1d7)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x1f719b){console[_0x1b1a0e(0xdc)]('Local\x20Save\x20Error',_0x1f719b);}},'loadLocal'(){const _0x48a559=a2_0x375a5d;try{const _0x4c2cd9=localStorage['getItem'](KEY_CLIENTS);if(_0x4c2cd9)clients=JSON['parse'](_0x4c2cd9);const _0x4f453f=localStorage[_0x48a559(0xe0)](KEY_SESSIONS);if(_0x4f453f)sessions=JSON[_0x48a559(0x255)](_0x4f453f);const _0x20d228=localStorage['getItem'](KEY_SETTINGS);if(_0x20d228){const _0x444013=JSON['parse'](_0x20d228);if(_0x444013[_0x48a559(0x19a)])availabilityPattern=_0x444013['pattern'];if(_0x444013['exceptions'])dateExceptions=_0x444013[_0x48a559(0x1f3)];if(_0x444013[_0x48a559(0x1d8)])specialRanges=_0x444013[_0x48a559(0x1d8)];}else{for(let _0x38bfe3=0x0;_0x38bfe3<0x7;_0x38bfe3++)availabilityPattern[_0x38bfe3]=Array[_0x48a559(0x20f)]({'length':0xc},(_0x9e7558,_0xe5bf85)=>_0xe5bf85+0x9);}}catch(_0x37c64f){console[_0x48a559(0xdc)]('Local\x20Load\x20Error',_0x37c64f);}},async 'fetchFromServer'(_0x873a1e,_0x163fb1={}){const _0x402683=a2_0x375a5d,_0x305094=window[_0x402683(0x1e1)]?.[_0x402683(0x115)],_0x34d7f3={'action':_0x873a1e,'init_data':_0x305094?.[_0x402683(0x14e)]||'',..._0x163fb1};try{const _0x438ded=await fetch(API_URL,{'method':'POST','headers':{'Content-Type':_0x402683(0x155)},'body':JSON['stringify'](_0x34d7f3)}),_0x34604a=await _0x438ded['json']();if(!_0x34604a['ok'])throw new Error(_0x34604a[_0x402683(0xdc)]||_0x402683(0xf7));return _0x34604a['data'];}catch(_0x1ecde7){console['error'](_0x402683(0x180)+_0x873a1e+_0x402683(0xf5),_0x1ecde7);throw _0x1ecde7;}},async 'syncLoad'(){const _0x5e333c=a2_0x375a5d,_0xb148da=new Date(),_0xe4292e=_0xb148da[_0x5e333c(0x227)]()+'-'+String(_0xb148da['getMonth']()+0x1)[_0x5e333c(0x25b)](0x2,'0'),_0x32a54e=new Date(_0xb148da);_0x32a54e[_0x5e333c(0x1bf)](_0xb148da[_0x5e333c(0x163)]()+0x1);const _0x467fe8=_0x32a54e[_0x5e333c(0x227)]()+'-'+String(_0x32a54e[_0x5e333c(0x163)]()+0x1)[_0x5e333c(0x25b)](0x2,'0'),_0x49d90a=Date[_0x5e333c(0x116)]();console[_0x5e333c(0x113)](_0x5e333c(0x218)+_0xe4292e+',\x20'+_0x467fe8+'...');try{const [_0x3507bc,_0x44e8ce]=await Promise[_0x5e333c(0x16c)]([this[_0x5e333c(0x1e8)](_0x5e333c(0xf6),{'month_str':_0xe4292e}),this[_0x5e333c(0x1e8)](_0x5e333c(0xf6),{'month_str':_0x467fe8})]);if(lastUserActionTime>_0x49d90a)return console[_0x5e333c(0x1e9)](_0x5e333c(0x132)),![];return this[_0x5e333c(0x164)](_0x3507bc,_0xe4292e),this[_0x5e333c(0x164)](_0x44e8ce,_0x467fe8),this[_0x5e333c(0x1fb)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x35c475){console[_0x5e333c(0xdc)](_0x35c475);throw _0x35c475;}},'mergeServerData'(_0x35a1ab,_0xb048aa){const _0x2d210b=a2_0x375a5d;if(!_0x35a1ab)return;_0x35a1ab['clients']&&Array[_0x2d210b(0x108)](_0x35a1ab['clients'])&&(clients=_0x35a1ab[_0x2d210b(0x1d2)]);if(_0x35a1ab['settings']){if(_0x35a1ab['settings']['pattern'])availabilityPattern=_0x35a1ab[_0x2d210b(0x232)]['pattern'];if(_0x35a1ab['settings'][_0x2d210b(0x1f3)])dateExceptions=_0x35a1ab['settings'][_0x2d210b(0x1f3)];if(_0x35a1ab[_0x2d210b(0x232)][_0x2d210b(0x1d8)])specialRanges=_0x35a1ab[_0x2d210b(0x232)]['ranges'];if(_0x35a1ab['settings'][_0x2d210b(0x21e)]){localStorage['setItem'](_0x2d210b(0x1bc),_0x35a1ab['settings']['cancel_window']);const _0x53410c=document['getElementById'](_0x2d210b(0x185));if(_0x53410c)_0x53410c[_0x2d210b(0x24b)]=_0x35a1ab[_0x2d210b(0x232)][_0x2d210b(0x21e)];}}_0x35a1ab[_0x2d210b(0x249)]&&(sessions=sessions['filter'](_0x457ace=>!_0x457ace[_0x2d210b(0x120)][_0x2d210b(0x22d)](_0xb048aa)),Object['keys'](_0x35a1ab[_0x2d210b(0x249)])[_0x2d210b(0x215)](_0x5a265c=>{const _0x5d5858=_0x2d210b,_0x220715=_0x35a1ab[_0x5d5858(0x249)][_0x5a265c];_0x220715[_0x5d5858(0x215)](_0x324295=>{const _0x2f294e=_0x5d5858,_0x44c766=clients['find'](_0x18862a=>String(_0x18862a['id'])===String(_0x324295['c']));sessions[_0x2f294e(0x111)]({'id':_0x324295['i'],'clientId':_0x324295['c'],'client':_0x44c766?_0x44c766[_0x2f294e(0x181)]:_0x2f294e(0x194),'dateStr':_0xb048aa+'-'+_0x5a265c['padStart'](0x2,'0'),'start':_0x324295['s'],'end':_0x324295['e'],'status':_0x324295['st']||_0x2f294e(0x13d),'note':_0x324295['n']||'','seriesId':_0x324295[_0x2f294e(0x151)]||null});});}));},async 'syncBatch'(_0x5e4851){const _0x2d893f=a2_0x375a5d,_0x1ca08b=[...new Set(_0x5e4851)],_0x405693=_0x1ca08b[_0x2d893f(0x1fa)](_0x229711=>{const _0x4aee2e=_0x2d893f,_0x103216=sessions[_0x4aee2e(0x195)](_0x3f9a36=>_0x3f9a36[_0x4aee2e(0x120)]===_0x229711&&_0x3f9a36[_0x4aee2e(0x1b7)]!==_0x4aee2e(0x1ee)),_0x2901cc=_0x103216[_0x4aee2e(0x1fa)](_0x2dd880=>({'i':_0x2dd880['id'],'c':_0x2dd880[_0x4aee2e(0x15a)],'s':_0x2dd880[_0x4aee2e(0x183)],'e':_0x2dd880[_0x4aee2e(0x159)],'st':_0x2dd880[_0x4aee2e(0x1b7)],'n':_0x2dd880[_0x4aee2e(0x247)],'sid':_0x2dd880[_0x4aee2e(0x121)]}));return{'date':_0x229711,'day_data':_0x2901cc};});if(_0x405693[_0x2d893f(0x1d6)]===0x0)return;console[_0x2d893f(0x113)](_0x2d893f(0x1d4)+_0x405693[_0x2d893f(0x1d6)]+_0x2d893f(0x16d)),await this[_0x2d893f(0x1e8)](_0x2d893f(0x1d5),{'changes':_0x405693});}};async function init(){const _0x165409=a2_0x375a5d;DataManager['loadLocal'](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x165409(0x167)]('matrixViewport')[_0x165409(0x226)]('scroll',()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x165409(0xfb)]()[_0x165409(0x18f)](()=>{const _0x466336=_0x165409;showToast(_0x466336(0x21a),!![]);})[_0x165409(0x17e)](_0x2d4896=>{const _0x1ab0c2=_0x165409;showToast(_0x1ab0c2(0x1e6),![]);});}function generateId(){const _0x295ea4=a2_0x375a5d;return Date[_0x295ea4(0x116)]()['toString'](0x24)+Math[_0x295ea4(0x143)]()[_0x295ea4(0x10d)](0x24)[_0x295ea4(0x205)](0x2,0x5);}function toggleSeriesInput(){const _0x208d8b=a2_0x375a5d,_0x3c66a8=document[_0x208d8b(0x167)](_0x208d8b(0x19c))[_0x208d8b(0x1df)],_0x19c5b3=document[_0x208d8b(0x167)](_0x208d8b(0x16f));_0x19c5b3[_0x208d8b(0x233)]['display']=_0x3c66a8?'block':_0x208d8b(0x144);const _0xe11e72=document[_0x208d8b(0x167)](_0x208d8b(0x149));_0xe11e72[_0x208d8b(0x233)][_0x208d8b(0x248)]=_0x3c66a8?_0x208d8b(0x240):_0x208d8b(0x1b6);}function openAddSession(_0x205f18){const _0x421aeb=a2_0x375a5d;editingId=null,populateClientSelect(),document[_0x421aeb(0x167)](_0x421aeb(0x20a))[_0x421aeb(0x1ac)]=_0x421aeb(0x202),document[_0x421aeb(0x167)](_0x421aeb(0x12a))['style'][_0x421aeb(0x147)]=_0x421aeb(0x144),document[_0x421aeb(0x167)]('btnStatusToggle')[_0x421aeb(0x233)][_0x421aeb(0x147)]=_0x421aeb(0x144);const _0x2dfcff=document['getElementById']('recurringOptionContainer'),_0x1a533c=document[_0x421aeb(0x167)](_0x421aeb(0x16f));_0x2dfcff['style'][_0x421aeb(0x147)]='flex',_0x2dfcff[_0x421aeb(0x233)][_0x421aeb(0x248)]=_0x421aeb(0x1b6),document[_0x421aeb(0x167)](_0x421aeb(0x19c))[_0x421aeb(0x1df)]=![],document['getElementById'](_0x421aeb(0x217))['value']=0x4,_0x1a533c[_0x421aeb(0x233)][_0x421aeb(0x147)]='none',document[_0x421aeb(0x167)](_0x421aeb(0x179))[_0x421aeb(0x24b)]=getLocalDateStr(_0x205f18),updateDateDisplay();const _0x49a48f=_0x205f18[_0x421aeb(0x184)]();document[_0x421aeb(0x167)](_0x421aeb(0xf9))['value']=String(_0x49a48f)[_0x421aeb(0x25b)](0x2,'0')+':00',document['getElementById'](_0x421aeb(0x136))[_0x421aeb(0x24b)]=String(_0x49a48f+0x1)[_0x421aeb(0x25b)](0x2,'0')+_0x421aeb(0x206),openSheet(_0x421aeb(0x127));}function openEdit(_0x4ff427){const _0x54d959=a2_0x375a5d;editingId=_0x4ff427['id'],populateClientSelect(),document[_0x54d959(0x167)](_0x54d959(0x20a))[_0x54d959(0x1ac)]=_0x54d959(0xed),document[_0x54d959(0x167)]('btnDelete')['style'][_0x54d959(0x147)]='block';const _0x257861=document[_0x54d959(0x167)](_0x54d959(0xe7));_0x257861['style'][_0x54d959(0x147)]=_0x54d959(0x1a2);_0x4ff427['status']===_0x54d959(0x156)?(_0x257861[_0x54d959(0x165)]=_0x54d959(0x161),_0x257861[_0x54d959(0x1a0)]=_0x54d959(0x117)):(_0x257861[_0x54d959(0x165)]=_0x54d959(0x17c),_0x257861[_0x54d959(0x1a0)]='<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É');const _0x5296df=!!_0x4ff427[_0x54d959(0x121)];document[_0x54d959(0x167)](_0x54d959(0x149))['style'][_0x54d959(0x147)]=_0x54d959(0x144),document[_0x54d959(0x167)](_0x54d959(0x16f))[_0x54d959(0x233)]['display']=_0x54d959(0x144),_0x5296df?(document[_0x54d959(0x167)](_0x54d959(0x12d))[_0x54d959(0x233)][_0x54d959(0x147)]=_0x54d959(0x1a2),document['getElementById']('patternInfoBox')[_0x54d959(0x150)]('.pib-text')['textContent']=_0x54d959(0x135)):document[_0x54d959(0x167)](_0x54d959(0x12d))[_0x54d959(0x233)]['display']=_0x54d959(0x144),document['getElementById'](_0x54d959(0x114))[_0x54d959(0x24b)]=_0x4ff427['client'],document[_0x54d959(0x167)]('inpDate')['value']=_0x4ff427['dateStr'],document[_0x54d959(0x167)]('inpStart')[_0x54d959(0x24b)]=_0x4ff427[_0x54d959(0x183)],document['getElementById']('inpEnd')[_0x54d959(0x24b)]=_0x4ff427[_0x54d959(0x159)],document[_0x54d959(0x167)](_0x54d959(0x22c))[_0x54d959(0x24b)]=_0x4ff427[_0x54d959(0x247)]||'',updateDateDisplay(),openSheet(_0x54d959(0x127));}async function trySaveSession(){const _0x429641=a2_0x375a5d,_0x44dfef=document['getElementById'](_0x429641(0x114))[_0x429641(0x24b)],_0xb45b77=document[_0x429641(0x167)](_0x429641(0x179))['value'],_0x423486=document['getElementById'](_0x429641(0xf9))[_0x429641(0x24b)],_0xe23e5=document['getElementById']('inpEnd')['value'],_0x5c19f5=document['getElementById']('inpNote')[_0x429641(0x24b)],_0x14628a=document[_0x429641(0x167)](_0x429641(0x19c))[_0x429641(0x1df)];let _0x454897=0x4;if(_0x14628a){const _0x429a73=parseInt(document[_0x429641(0x167)]('inpSeriesCount')[_0x429641(0x24b)]);if(!_0x429a73||_0x429a73<0x2){showToast(_0x429641(0xfe),![]);return;}if(_0x429a73>0x64){showToast(_0x429641(0xe9),![]);return;}_0x454897=_0x429a73;}const _0x4f9998=clients[_0x429641(0x1f9)](_0x461484=>_0x461484[_0x429641(0x181)]===_0x44dfef);if(!_0x4f9998){showToast(_0x429641(0x128),![]);return;}const _0x36363b=validateAppointment(_0xb45b77,_0x423486,_0xe23e5,editingId,_0x4f9998['id']);if(!_0x36363b['valid']){showToast(_0x36363b[_0x429641(0x15c)],![]);return;}_0x36363b['warning']&&showToast(_0x36363b[_0x429641(0x10b)],![]);const _0x41d73c={'client':_0x44dfef,'clientId':_0x4f9998['id'],'start':_0x423486,'end':_0xe23e5,'note':_0x5c19f5,'status':_0x429641(0x13d)},_0xeb4cc5=editingId?sessions[_0x429641(0x1f9)](_0x10f916=>_0x10f916['id']===editingId):null;if(_0xeb4cc5&&_0xeb4cc5[_0x429641(0x121)]){tempSessionData={..._0x41d73c,'dateStr':_0xb45b77,'id':editingId,'seriesId':_0xeb4cc5[_0x429641(0x121)]},openActionSheet(_0x429641(0x246));return;}let _0x124516=null;if(!editingId)_0x124516=_0x429641(0x1c9);else{if(_0xeb4cc5){if(String(_0xeb4cc5['clientId'])!==String(_0x4f9998['id']))console[_0x429641(0x113)](_0x429641(0x25a)),NotificationManager['send'](_0x429641(0xfa),_0xeb4cc5),_0x124516=_0x429641(0x1c9);else(_0xeb4cc5[_0x429641(0x183)]!==_0x423486||_0xeb4cc5['end']!==_0xe23e5||_0xeb4cc5[_0x429641(0x120)]!==_0xb45b77)&&(_0x124516=_0x429641(0x252));}}if(!editingId&&_0x14628a){createBatchSeries(_0x41d73c,_0xb45b77,_0x454897),NotificationManager[_0x429641(0x200)](_0x429641(0x1c9),{..._0x41d73c,'dateStr':_0xb45b77});return;}lastUserActionTime=Date[_0x429641(0x116)]();const _0x59ce97={..._0x41d73c,'dateStr':_0xb45b77,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x59ce97),_0x124516&&NotificationManager['send'](_0x124516,_0x59ce97);}function toggleSessionStatus(){const _0x227619=a2_0x375a5d;lastUserActionTime=Date[_0x227619(0x116)]();const _0xcfe86f=sessions[_0x227619(0x1f9)](_0x321eb2=>_0x321eb2['id']===editingId);if(!_0xcfe86f)return;const _0x45dba7=_0xcfe86f[_0x227619(0x1b7)]===_0x227619(0x156)?_0x227619(0x13d):'completed';_0xcfe86f[_0x227619(0x1b7)]=_0x45dba7,saveSingleSession(_0xcfe86f),_0x45dba7===_0x227619(0x156)&&NotificationManager[_0x227619(0x200)](_0x227619(0xef),_0xcfe86f),showToast(_0x45dba7===_0x227619(0x156)?'–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞':_0x227619(0x1ec),!![]);}function validateAppointment(_0xad9638,_0x2c1db5,_0x5df826,_0x1f75e5,_0x4401b9){const _0x47bb69=a2_0x375a5d,[_0x1c4462,_0x28fccb]=_0x2c1db5[_0x47bb69(0x182)](':')['map'](Number),[_0x51271e,_0x376055]=_0x5df826[_0x47bb69(0x182)](':')[_0x47bb69(0x1fa)](Number),_0x3a1fe9=_0x1c4462*0x3c+_0x28fccb,_0x1f8fa2=_0x51271e*0x3c+_0x376055,_0x14bead=String(_0x4401b9);let _0x50c3ad=![],_0x13e52b='';for(let _0x36c1c3 of sessions){if(_0x36c1c3[_0x47bb69(0x120)]!==_0xad9638)continue;if(_0x36c1c3['status']==='cancelled')continue;if(_0x1f75e5&&String(_0x36c1c3['id'])===String(_0x1f75e5))continue;const [_0x5c46ec,_0x1d8033]=_0x36c1c3[_0x47bb69(0x183)][_0x47bb69(0x182)](':')[_0x47bb69(0x1fa)](Number),[_0x56b948,_0x19ca2a]=_0x36c1c3['end'][_0x47bb69(0x182)](':')['map'](Number),_0x4f21a4=_0x5c46ec*0x3c+_0x1d8033,_0x4c2ff5=_0x56b948*0x3c+_0x19ca2a;if(Math[_0x47bb69(0x24f)](_0x3a1fe9,_0x4f21a4)<Math[_0x47bb69(0x146)](_0x1f8fa2,_0x4c2ff5)){if(_0x36c1c3[_0x47bb69(0x15a)]&&String(_0x36c1c3['clientId'])===_0x14bead)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0x36c1c3[_0x47bb69(0x1c3)]+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x50c3ad=!![],_0x13e52b=_0x36c1c3[_0x47bb69(0x1c3)];}}if(_0x50c3ad)return{'valid':!![],'warning':'–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20'+_0x13e52b};return{'valid':!![]};}function saveSingleSession(_0x4fe0f5){const _0x113dab=a2_0x375a5d;if(editingId){const _0x134a59=sessions[_0x113dab(0x222)](_0x2ac4ba=>_0x2ac4ba['id']===editingId);if(_0x134a59!==-0x1)sessions[_0x134a59]=_0x4fe0f5;}else sessions[_0x113dab(0x111)](_0x4fe0f5);afterSaveAction([_0x4fe0f5[_0x113dab(0x120)]]);}function createBatchSeries(_0x56846f,_0x439e30,_0x508bd4){const _0x509a55=a2_0x375a5d,_0x5ae090=generateId(),_0x33a4ba=[],_0x55c1b4=[];let _0x18cd2b=0x0,_0x23f4ee=new Date(_0x439e30);for(let _0x49ce37=0x0;_0x49ce37<_0x508bd4;_0x49ce37++){const _0x87aaa3=getLocalDateStr(_0x23f4ee),_0x53471c=validateAppointment(_0x87aaa3,_0x56846f[_0x509a55(0x183)],_0x56846f['end'],null,_0x56846f[_0x509a55(0x15a)]);if(!_0x53471c[_0x509a55(0x1ae)])console['log'](_0x509a55(0x1ad)+_0x87aaa3+_0x509a55(0x174)),_0x18cd2b++;else{const _0x401f59={..._0x56846f,'id':generateId(),'dateStr':_0x87aaa3,'seriesId':_0x5ae090};_0x55c1b4[_0x509a55(0x111)](_0x401f59),_0x33a4ba[_0x509a55(0x111)](_0x87aaa3);}_0x23f4ee[_0x509a55(0x230)](_0x23f4ee[_0x509a55(0xea)]()+0x7);}if(_0x55c1b4[_0x509a55(0x1d6)]===0x0){showToast(_0x509a55(0x112),![]);return;}sessions[_0x509a55(0x111)](..._0x55c1b4),lastUserActionTime=Date[_0x509a55(0x116)]();let _0x2a71ad=_0x509a55(0x211)+_0x55c1b4['length'];_0x18cd2b>0x0&&(_0x2a71ad+=_0x509a55(0x191)+_0x18cd2b+')'),showToast(_0x2a71ad,!![]),afterSaveAction(_0x33a4ba);}function updateSeriesBatch(_0x4bb84b,_0x1c66cd){const _0x43f45d=a2_0x375a5d,_0x2f1d4b=[],_0x3440dd=_0x1c66cd['seriesId'];if(_0x4bb84b==='single'){const _0x47f514={..._0x1c66cd,'seriesId':null},_0x36f0dd=sessions[_0x43f45d(0x222)](_0x1653b2=>_0x1653b2['id']===_0x1c66cd['id']);if(_0x36f0dd!==-0x1)sessions[_0x36f0dd]=_0x47f514;_0x2f1d4b['push'](_0x47f514['dateStr']);}else{if(_0x4bb84b===_0x43f45d(0x1b1)){const _0x146f97=_0x1c66cd[_0x43f45d(0x120)];sessions[_0x43f45d(0x215)]((_0x1c29fd,_0x23236e)=>{const _0x54153a=_0x43f45d;_0x1c29fd[_0x54153a(0x121)]===_0x3440dd&&_0x1c29fd[_0x54153a(0x120)]>=_0x146f97&&(sessions[_0x23236e]={...sessions[_0x23236e],'start':_0x1c66cd[_0x54153a(0x183)],'end':_0x1c66cd['end'],'note':_0x1c66cd[_0x54153a(0x247)],'client':_0x1c66cd[_0x54153a(0x1c3)],'clientId':_0x1c66cd[_0x54153a(0x15a)]},_0x2f1d4b[_0x54153a(0x111)](_0x1c29fd[_0x54153a(0x120)]));});}}afterSaveAction(_0x2f1d4b);}function tryDeleteSession(){const _0x215dae=a2_0x375a5d,_0x3799c0=sessions['find'](_0x5a787e=>_0x5a787e['id']===editingId);if(!_0x3799c0)return;_0x3799c0['seriesId']?openActionSheet(_0x215dae(0x210)):commitDelete(_0x215dae(0x1b5),_0x3799c0);}function commitDelete(_0x3889dc,_0x16f337){const _0x2a5e63=a2_0x375a5d;lastUserActionTime=Date[_0x2a5e63(0x116)](),NotificationManager[_0x2a5e63(0x200)]('cancel',_0x16f337);const _0x4c84e2=[];if(_0x3889dc===_0x2a5e63(0x1b5))sessions=sessions[_0x2a5e63(0x195)](_0x3bd4e8=>_0x3bd4e8['id']!==_0x16f337['id']),_0x4c84e2[_0x2a5e63(0x111)](_0x16f337[_0x2a5e63(0x120)]);else{if(_0x3889dc===_0x2a5e63(0x1b1)){const _0x10a89c=_0x16f337[_0x2a5e63(0x120)],_0x48aea6=_0x16f337[_0x2a5e63(0x121)];sessions[_0x2a5e63(0x215)](_0x247ec3=>{const _0x161658=_0x2a5e63;_0x247ec3[_0x161658(0x121)]===_0x48aea6&&_0x247ec3['dateStr']>=_0x10a89c&&_0x4c84e2[_0x161658(0x111)](_0x247ec3[_0x161658(0x120)]);}),sessions=sessions[_0x2a5e63(0x195)](_0x559e3e=>!(_0x559e3e[_0x2a5e63(0x121)]===_0x48aea6&&_0x559e3e[_0x2a5e63(0x120)]>=_0x10a89c));}}afterSaveAction(_0x4c84e2);}function afterSaveAction(_0x192ea5){const _0x4c09e9=a2_0x375a5d;DataManager[_0x4c09e9(0x1fb)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x4c09e9(0x14a)](_0x192ea5)['then'](()=>console[_0x4c09e9(0x113)](_0x4c09e9(0x16e)))[_0x4c09e9(0x17e)](_0x452a6e=>showToast(_0x4c09e9(0x14d),![]));}const NotificationManager={'formatDate'(_0x351ae3){const _0x5a5d27=a2_0x375a5d,_0x1a3c0b=new Date(_0x351ae3),_0x33ca7c={'weekday':_0x5a5d27(0x197),'day':_0x5a5d27(0x229),'month':'long'};let _0x4843cd=_0x1a3c0b[_0x5a5d27(0x225)](_0x5a5d27(0xee),_0x33ca7c);return _0x4843cd[_0x5a5d27(0x1f2)](0x0)[_0x5a5d27(0x12c)]()+_0x4843cd[_0x5a5d27(0x1dc)](0x1);},'getText'(_0x5b7611,_0x1ac632){const _0x2aacd0=a2_0x375a5d,_0x39e165=this[_0x2aacd0(0x109)](_0x1ac632['dateStr']);switch(_0x5b7611){case _0x2aacd0(0x1c9):return'<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a'+(_0x2aacd0(0x241)+_0x39e165+'\x0a')+('<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20'+_0x1ac632[_0x2aacd0(0x183)]+_0x2aacd0(0x13b)+_0x1ac632[_0x2aacd0(0x159)]+'\x0a\x0a')+_0x2aacd0(0x221);case _0x2aacd0(0x252):return _0x2aacd0(0x11e)+_0x2aacd0(0x1fe)+('<b>‚úÖ\x20'+_0x1ac632['start']+'\x20‚Äî\x20'+_0x1ac632[_0x2aacd0(0x159)]+_0x2aacd0(0x254))+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0x39e165);case'cancel':return _0x2aacd0(0x1e7)+(_0x2aacd0(0x256)+_0x39e165+'\x20('+_0x1ac632[_0x2aacd0(0x183)]+_0x2aacd0(0x142));case _0x2aacd0(0xef):return'<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a'+_0x2aacd0(0x1a5)+_0x2aacd0(0x187);default:return'';}},async 'send'(_0x214a06,_0x16710c){const _0x1dd601=a2_0x375a5d;console[_0x1dd601(0x113)](_0x1dd601(0x166),_0x214a06,_0x16710c);if(!_0x16710c){console[_0x1dd601(0xdc)](_0x1dd601(0x20e));return;}const _0x19b2cb=String(_0x16710c[_0x1dd601(0x15a)]);console[_0x1dd601(0x113)]('[Notify]\x20Detected\x20Client\x20ID:',_0x19b2cb);if(!_0x16710c[_0x1dd601(0x15a)]||_0x19b2cb==='undefined'||_0x19b2cb===_0x1dd601(0x176)){console[_0x1dd601(0xdc)](_0x1dd601(0xde));if(_0x16710c[_0x1dd601(0x1c3)]){const _0x6cbfcf=clients['find'](_0x1ed5cf=>_0x1ed5cf[_0x1dd601(0x181)]===_0x16710c['client']);if(_0x6cbfcf)return console[_0x1dd601(0x113)](_0x1dd601(0x1c4),_0x6cbfcf['id']),this[_0x1dd601(0x200)](_0x214a06,{..._0x16710c,'clientId':_0x6cbfcf['id']});}return;}if(_0x19b2cb[_0x1dd601(0x1d6)]<0x5){console['warn'](_0x1dd601(0x1ef),_0x19b2cb);return;}const _0x149f77=this[_0x1dd601(0x23f)](_0x214a06,_0x16710c);if(!_0x149f77){console[_0x1dd601(0xdc)](_0x1dd601(0x20c));return;}console[_0x1dd601(0x113)](_0x1dd601(0x24e)+_0x19b2cb+'...'),DataManager[_0x1dd601(0x1e8)]('send_notification',{'chatId':_0x19b2cb,'text':_0x149f77})[_0x1dd601(0x18f)](_0x42146d=>console[_0x1dd601(0x113)](_0x1dd601(0x235),_0x42146d))['catch'](_0x387d98=>console[_0x1dd601(0xdc)](_0x1dd601(0x207),_0x387d98));}};function getLocalDateStr(_0x1070a6){const _0xb5e602=a2_0x375a5d,_0x401fb8=_0x1070a6[_0xb5e602(0x227)](),_0x355a0a=String(_0x1070a6['getMonth']()+0x1)[_0xb5e602(0x25b)](0x2,'0'),_0x547b0f=String(_0x1070a6[_0xb5e602(0xea)]())[_0xb5e602(0x25b)](0x2,'0');return _0x401fb8+'-'+_0x355a0a+'-'+_0x547b0f;}function getDateStr(_0x3c9c10){const _0x380db5=a2_0x375a5d,_0x451c89=new Date();return _0x451c89[_0x380db5(0x230)](_0x451c89[_0x380db5(0xea)]()+_0x3c9c10),getLocalDateStr(_0x451c89);}function getStartOfWeek(_0x538784){const _0x575978=a2_0x375a5d,_0x5db530=new Date(_0x538784),_0x427c41=_0x5db530[_0x575978(0x10c)](),_0x48a083=_0x5db530['getDate']()-_0x427c41+(_0x427c41===0x0?-0x6:0x1);return _0x5db530[_0x575978(0x230)](_0x48a083),_0x5db530[_0x575978(0x23a)](0x0,0x0,0x0,0x0),_0x5db530;}function hexToRgba(_0x3d8882,_0x424694){const _0x25268d=a2_0x375a5d;if(!_0x3d8882)return'rgba(100,100,100,0.5)';let _0x25ca08=0x0,_0xce1236=0x0,_0xd972aa=0x0;if(_0x3d8882[_0x25268d(0x1d6)]===0x4)_0x25ca08='0x'+_0x3d8882[0x1]+_0x3d8882[0x1],_0xce1236='0x'+_0x3d8882[0x2]+_0x3d8882[0x2],_0xd972aa='0x'+_0x3d8882[0x3]+_0x3d8882[0x3];else _0x3d8882[_0x25268d(0x1d6)]===0x7&&(_0x25ca08='0x'+_0x3d8882[0x1]+_0x3d8882[0x2],_0xce1236='0x'+_0x3d8882[0x3]+_0x3d8882[0x4],_0xd972aa='0x'+_0x3d8882[0x5]+_0x3d8882[0x6]);return _0x25268d(0x243)+ +_0x25ca08+',\x20'+ +_0xce1236+',\x20'+ +_0xd972aa+',\x20'+_0x424694+')';}function renderTimeColumn(){const _0xbdbda4=a2_0x375a5d,_0x378b16=document[_0xbdbda4(0x167)](_0xbdbda4(0x1a7)),_0xcec089=document[_0xbdbda4(0x167)]('timeLineBadge');_0x378b16[_0xbdbda4(0x1a0)]='',_0x378b16[_0xbdbda4(0xfd)](_0xcec089);for(let _0x11adcc=0x0;_0x11adcc<0x18;_0x11adcc++){const _0x47ffec=document[_0xbdbda4(0x1cc)](_0xbdbda4(0x1b0));_0x47ffec[_0xbdbda4(0x165)]=_0xbdbda4(0x138);if(_0x11adcc>0x0)_0x47ffec[_0xbdbda4(0x1a0)]=_0xbdbda4(0xe4)+String(_0x11adcc)[_0xbdbda4(0x25b)](0x2,'0')+_0xbdbda4(0x245);_0x378b16['appendChild'](_0x47ffec);}}function renderDayRange(_0x1dc6be,_0x24d139){const _0x5be39a=a2_0x375a5d,_0xfe4630=document[_0x5be39a(0x167)](_0x5be39a(0x16b)),_0x12ec58=document['getElementById'](_0x5be39a(0x260)),_0x5d36fe=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x8e8b20=new Date();_0x8e8b20['setHours'](0x0,0x0,0x0,0x0);const _0x222442=getLocalDateStr(new Date());for(let _0x2856ed=_0x1dc6be;_0x2856ed<=_0x24d139;_0x2856ed++){const _0x4da91f=new Date(_0x8e8b20);_0x4da91f[_0x5be39a(0x230)](_0x4da91f[_0x5be39a(0xea)]()+_0x2856ed);const _0x433f66=getLocalDateStr(_0x4da91f);let _0x32b56c=_0x4da91f[_0x5be39a(0x10c)]()-0x1;if(_0x32b56c===-0x1)_0x32b56c=0x6;const _0x4d07bd=_0x433f66===_0x222442,_0x270d5e=document[_0x5be39a(0x1cc)](_0x5be39a(0x1b0));_0x270d5e[_0x5be39a(0x165)]='day-col-header\x20'+(_0x4d07bd?'today':''),_0x270d5e['id']='header-'+_0x433f66,_0x270d5e['setAttribute'](_0x5be39a(0x257),_0x433f66),_0x270d5e[_0x5be39a(0x1a0)]=_0x5be39a(0x1f0)+_0x5d36fe[_0x32b56c]+_0x5be39a(0x158)+_0x4da91f[_0x5be39a(0xea)]()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0x433f66+_0x5be39a(0x1aa),_0x270d5e[_0x5be39a(0x13f)]=()=>openDayOptions(_0x433f66,_0x5d36fe[_0x32b56c]+'\x20'+_0x4da91f['getDate']()),_0xfe4630[_0x5be39a(0xfd)](_0x270d5e);const _0x1c92f5=document[_0x5be39a(0x1cc)]('div');_0x1c92f5[_0x5be39a(0x165)]=_0x5be39a(0x169)+(_0x4d07bd?_0x5be39a(0xf1):''),_0x1c92f5[_0x5be39a(0xec)](_0x5be39a(0x257),_0x433f66),_0x1c92f5['setAttribute'](_0x5be39a(0x20b),_0x32b56c),renderEventsForColumn(_0x1c92f5,_0x433f66,_0x32b56c),attachLongPressHandler(_0x1c92f5,_0x4da91f),_0x12ec58[_0x5be39a(0xfd)](_0x1c92f5),updateDayStats(_0x433f66);}}function a2_0x6a73(_0x40fc1a,_0x375d0b){_0x40fc1a=_0x40fc1a-0xdb;const _0x1bb337=a2_0x4dad();let _0x572380=_0x1bb337[_0x40fc1a];return _0x572380;}function reRenderBlocks(){const _0xf801c2=a2_0x375a5d;document[_0xf801c2(0x224)](_0xf801c2(0x148))[_0xf801c2(0x215)](_0x44c207=>{const _0x189375=_0xf801c2;_0x44c207[_0x189375(0x224)](_0x189375(0x23e))['forEach'](_0x128a4f=>_0x128a4f[_0x189375(0xe2)]());const _0x46d623=_0x44c207['getAttribute'](_0x189375(0x257)),_0x3275eb=parseInt(_0x44c207[_0x189375(0x171)]('data-day-idx')),_0x2f92f5=Math[_0x189375(0x223)](_0x44c207[_0x189375(0x1be)]);(availabilityPattern[_0x3275eb]||[])['forEach'](_0xb1cfc2=>{const _0x354161=_0x189375,_0x507e0e=document[_0x354161(0x1cc)](_0x354161(0x1b0));_0x507e0e[_0x354161(0x165)]=_0x354161(0x231);const _0x1c8cbe=_0xb1cfc2*GRID_H;_0x507e0e['style']['top']=_0x1c8cbe+'px',_0x507e0e[_0x354161(0x233)][_0x354161(0x1f6)]='-'+_0x2f92f5+_0x354161(0x1ba)+_0x1c8cbe+'px',_0x44c207['appendChild'](_0x507e0e);});if(specialRanges&&specialRanges[_0x189375(0x1d6)]>0x0){const _0x2f721a=new Date(_0x46d623+'T00:00:00')['getTime'](),_0x2273cb=new Date(_0x46d623+_0x189375(0x170))['getTime']();specialRanges[_0x189375(0x215)](_0x7a6426=>{const _0x28cf53=_0x189375,_0x522c36=new Date(_0x7a6426[_0x28cf53(0x183)])[_0x28cf53(0x1e0)](),_0x138d23=new Date(_0x7a6426['end'])[_0x28cf53(0x1e0)](),_0x14861f=Math[_0x28cf53(0x24f)](_0x2f721a,_0x522c36),_0x52d086=Math[_0x28cf53(0x146)](_0x2273cb,_0x138d23);if(_0x14861f<_0x52d086){if(_0x14861f<=_0x2f721a&&_0x52d086>=_0x2273cb-0xea60){if(!_0x44c207[_0x28cf53(0x150)](_0x28cf53(0x1b2))){const _0x37d4fa=document[_0x28cf53(0x1cc)](_0x28cf53(0x1b0));_0x37d4fa[_0x28cf53(0x165)]=_0x28cf53(0x228),_0x37d4fa['style'][_0x28cf53(0x1f6)]='-'+_0x2f92f5+_0x28cf53(0x141),_0x44c207['appendChild'](_0x37d4fa);}}else{const _0x3d9b76=(_0x14861f-_0x2f721a)/0x36ee80*GRID_H,_0x52a847=(_0x52d086-_0x14861f)/0x36ee80*GRID_H,_0x530e97=document[_0x28cf53(0x1cc)](_0x28cf53(0x1b0));_0x530e97[_0x28cf53(0x165)]='blocked-range-part\x20stripe-bg',_0x530e97[_0x28cf53(0x233)][_0x28cf53(0x1c7)]=_0x3d9b76+'px',_0x530e97[_0x28cf53(0x233)]['height']=_0x52a847+'px',_0x530e97[_0x28cf53(0x233)][_0x28cf53(0x1f6)]='-'+_0x2f92f5+'px\x20-'+_0x3d9b76+'px',_0x44c207[_0x28cf53(0xfd)](_0x530e97);}}});}if(dateExceptions[_0x46d623]===_0x189375(0x188)){if(!_0x44c207[_0x189375(0x150)]('.day-off-overlay')){const _0x42f38c=document[_0x189375(0x1cc)]('div');_0x42f38c['className']=_0x189375(0x228),_0x42f38c[_0x189375(0x233)][_0x189375(0x1f6)]='-'+_0x2f92f5+_0x189375(0x141),_0x44c207[_0x189375(0xfd)](_0x42f38c);}}renderEventsForColumn(_0x44c207,_0x46d623,_0x3275eb),updateDayStats(_0x46d623);});}function updateAllDayStats(){const _0x265529=a2_0x375a5d;document['querySelectorAll']('.day-col-header')[_0x265529(0x215)](_0x11b0bb=>{const _0x165e32=_0x265529;updateDayStats(_0x11b0bb[_0x165e32(0x171)](_0x165e32(0x257)));});}function updateDayStats(_0x99188d){const _0x61baa9=a2_0x375a5d,_0x36dfc7=document['getElementById'](_0x61baa9(0x1ab)+_0x99188d);if(!_0x36dfc7)return;const _0x1baa7c=new Date(_0x99188d);let _0x1405a3=_0x1baa7c[_0x61baa9(0x10c)]()-0x1;if(_0x1405a3===-0x1)_0x1405a3=0x6;if(dateExceptions[_0x99188d]===_0x61baa9(0x188)){_0x36dfc7[_0x61baa9(0x233)][_0x61baa9(0x147)]=_0x61baa9(0x144);return;}const _0x131fb6=availabilityPattern[_0x1405a3]||[],_0x12e398=0x18-_0x131fb6[_0x61baa9(0x1d6)],_0x2b0743=_0x12e398*0x3c,_0x29607d=sessions[_0x61baa9(0x195)](_0x2ff778=>_0x2ff778[_0x61baa9(0x120)]===_0x99188d&&_0x2ff778[_0x61baa9(0x1b7)]!==_0x61baa9(0x1b4));if(_0x29607d['length']===0x0){_0x36dfc7[_0x61baa9(0x233)]['display']=_0x61baa9(0x144);return;}let _0x4c528f=_0x29607d['map'](_0x1f23e5=>{const _0x2a77f8=_0x61baa9,[_0x4142bd,_0x24990b]=_0x1f23e5[_0x2a77f8(0x183)][_0x2a77f8(0x182)](':')[_0x2a77f8(0x1fa)](Number),[_0x503621,_0x426f1c]=_0x1f23e5[_0x2a77f8(0x159)][_0x2a77f8(0x182)](':')[_0x2a77f8(0x1fa)](Number);return[_0x4142bd*0x3c+_0x24990b,_0x503621*0x3c+_0x426f1c];});_0x4c528f[_0x61baa9(0x1ce)]((_0x183900,_0x5ed834)=>_0x183900[0x0]-_0x5ed834[0x0]);let _0x3092fd=[];if(_0x4c528f[_0x61baa9(0x1d6)]>0x0){let _0x48132e=_0x4c528f[0x0];for(let _0x324eb9=0x1;_0x324eb9<_0x4c528f['length'];_0x324eb9++){_0x4c528f[_0x324eb9][0x0]<_0x48132e[0x1]?_0x48132e[0x1]=Math[_0x61baa9(0x24f)](_0x48132e[0x1],_0x4c528f[_0x324eb9][0x1]):(_0x3092fd[_0x61baa9(0x111)](_0x48132e),_0x48132e=_0x4c528f[_0x324eb9]);}_0x3092fd[_0x61baa9(0x111)](_0x48132e);}let _0x4bbc11=0x0;_0x3092fd['forEach'](_0x866ebb=>_0x4bbc11+=_0x866ebb[0x1]-_0x866ebb[0x0]),_0x36dfc7['style'][_0x61baa9(0x147)]=_0x61baa9(0x1a2);const _0x338697=_0x36dfc7[_0x61baa9(0x150)](_0x61baa9(0x237));if(_0x2b0743===0x0){_0x338697[_0x61baa9(0x233)][_0x61baa9(0x12b)]=_0x61baa9(0x196),_0x338697[_0x61baa9(0x233)][_0x61baa9(0x209)]=_0x61baa9(0x18c);return;}const _0x3381f4=_0x4bbc11/_0x2b0743*0x64;console[_0x61baa9(0x113)]('['+_0x99188d+_0x61baa9(0x1cb)+_0x12e398+_0x61baa9(0x14c)+_0x4bbc11+_0x61baa9(0xf4)+_0x3381f4[_0x61baa9(0x1e4)](0x1)+'%'),_0x3381f4>0x64?(_0x338697[_0x61baa9(0x233)][_0x61baa9(0x12b)]=_0x61baa9(0x196),_0x338697['style'][_0x61baa9(0x209)]=_0x61baa9(0x18c)):(_0x338697[_0x61baa9(0x233)][_0x61baa9(0x12b)]=_0x3381f4+'%',_0x338697[_0x61baa9(0x233)][_0x61baa9(0x209)]=_0x61baa9(0x203));}function renderEventsForColumn(_0x29a212,_0x3dce13,_0x51bfc4){const _0x1999d2=a2_0x375a5d,_0x5831fa=sessions[_0x1999d2(0x195)](_0x1ee5d3=>_0x1ee5d3[_0x1999d2(0x120)]===_0x3dce13),_0xcd7cc1=_0x5831fa[_0x1999d2(0x1fa)](_0x26052d=>{const _0x261536=_0x1999d2,[_0x36668c,_0x5ba089]=_0x26052d[_0x261536(0x183)][_0x261536(0x182)](':')[_0x261536(0x1fa)](Number),[_0x2d4ce4,_0x1dec30]=_0x26052d[_0x261536(0x159)][_0x261536(0x182)](':')[_0x261536(0x1fa)](Number);return{'data':_0x26052d,'start':_0x36668c*0x3c+_0x5ba089,'end':_0x2d4ce4*0x3c+_0x1dec30,'colIndex':0x0};});_0xcd7cc1['sort']((_0x288700,_0x271c90)=>{const _0x4873d9=_0x1999d2;if(_0x288700['start']!==_0x271c90[_0x4873d9(0x183)])return _0x288700[_0x4873d9(0x183)]-_0x271c90['start'];return _0x271c90['end']-_0x271c90['start']-(_0x288700[_0x4873d9(0x159)]-_0x288700[_0x4873d9(0x183)]);});const _0x452b7d=[];_0xcd7cc1['forEach'](_0x3de406=>{const _0x1393c1=_0x1999d2;let _0x2215b3=![];for(let _0x13ca7c=0x0;_0x13ca7c<_0x452b7d[_0x1393c1(0x1d6)];_0x13ca7c++){const _0x70ca39=_0x452b7d[_0x13ca7c],_0xe49834=_0x70ca39[_0x70ca39['length']-0x1];if(_0x3de406['start']>=_0xe49834[_0x1393c1(0x159)]){_0x70ca39['push'](_0x3de406),_0x3de406['colIndex']=_0x13ca7c,_0x2215b3=!![];break;}}!_0x2215b3&&(_0x452b7d[_0x1393c1(0x111)]([_0x3de406]),_0x3de406['colIndex']=_0x452b7d[_0x1393c1(0x1d6)]-0x1);}),_0xcd7cc1[_0x1999d2(0x215)](_0x3da639=>{const _0x3377b4=_0x1999d2;let _0x1d765f=0x0;_0xcd7cc1[_0x3377b4(0x215)](_0x4a5d91=>{const _0x1121d1=_0x3377b4;if(Math[_0x1121d1(0x24f)](_0x3da639[_0x1121d1(0x183)],_0x4a5d91[_0x1121d1(0x183)])<Math[_0x1121d1(0x146)](_0x3da639[_0x1121d1(0x159)],_0x4a5d91['end'])){if(_0x4a5d91['colIndex']>_0x1d765f)_0x1d765f=_0x4a5d91[_0x1121d1(0x162)];}});const _0x181d40=_0x1d765f+0x1,_0x7dbfc8=0x64/_0x181d40,_0x44e719=_0x3da639[_0x3377b4(0x162)]*_0x7dbfc8,_0x5319e7=createEventEl(_0x3da639['data']);_0x5319e7['style']['width']=_0x3377b4(0x199)+_0x7dbfc8+_0x3377b4(0x1cd),_0x5319e7[_0x3377b4(0x233)][_0x3377b4(0x139)]='calc('+_0x44e719+_0x3377b4(0xe5),_0x5319e7[_0x3377b4(0x233)][_0x3377b4(0xe1)]=0xa+_0x3da639['colIndex'],_0x7dbfc8<0x55&&_0x5319e7[_0x3377b4(0x15b)]['add'](_0x3377b4(0x178)),_0x29a212[_0x3377b4(0xfd)](_0x5319e7);});}function createEventEl(_0x340c4f){const _0x119b2e=a2_0x375a5d,[_0x2b5d58,_0x2f8697]=_0x340c4f[_0x119b2e(0x183)][_0x119b2e(0x182)](':')['map'](Number),[_0x508a1a,_0xa90156]=_0x340c4f['end'][_0x119b2e(0x182)](':')[_0x119b2e(0x1fa)](Number),_0x3eef51=(_0x2b5d58*0x3c+_0x2f8697)/0x3c*GRID_H,_0x13761a=(_0x508a1a*0x3c+_0xa90156-(_0x2b5d58*0x3c+_0x2f8697))/0x3c*GRID_H,_0x2dcb85=document['createElement'](_0x119b2e(0x1b0)),_0x2f2fde=_0x340c4f[_0x119b2e(0x1b7)]===_0x119b2e(0x156)?_0x119b2e(0x131):'';_0x2dcb85[_0x119b2e(0x165)]='event-card'+_0x2f2fde,_0x2dcb85[_0x119b2e(0x233)]['top']=_0x3eef51+'px',_0x2dcb85[_0x119b2e(0x233)]['height']=Math[_0x119b2e(0x24f)](_0x13761a,0x14)+'px';const _0x12e70d=clients[_0x119b2e(0x1f9)](_0x3b8e24=>_0x340c4f[_0x119b2e(0x15a)]&&String(_0x3b8e24['id'])===String(_0x340c4f[_0x119b2e(0x15a)])||_0x3b8e24[_0x119b2e(0x181)]===_0x340c4f[_0x119b2e(0x1c3)]),_0x40abb1=_0x12e70d?_0x12e70d[_0x119b2e(0x1c5)]:_0x119b2e(0x1c8);_0x2dcb85[_0x119b2e(0x233)][_0x119b2e(0x1fd)]=_0x40abb1,_0x2dcb85[_0x119b2e(0x233)][_0x119b2e(0x10a)]=hexToRgba(_0x40abb1,0.85);let _0x4f6a89=_0x119b2e(0x103)+_0x340c4f[_0x119b2e(0x1c3)]+_0x119b2e(0x125)+_0x340c4f[_0x119b2e(0x183)]+'\x20-\x20'+_0x340c4f[_0x119b2e(0x159)]+_0x119b2e(0x1ea);return _0x340c4f[_0x119b2e(0x121)]&&(_0x4f6a89+=_0x119b2e(0xdf)),_0x340c4f[_0x119b2e(0x1b7)]===_0x119b2e(0x156)&&(_0x4f6a89+=_0x119b2e(0x212)),_0x2dcb85['innerHTML']=_0x4f6a89,_0x2dcb85[_0x119b2e(0x13f)]=_0x3cef61=>{const _0xbcd762=_0x119b2e;_0x3cef61[_0xbcd762(0x168)](),openEdit(_0x340c4f);},_0x2dcb85;}function attachLongPressHandler(_0x4c2f4c,_0x1be1b7){const _0x86a1ac=a2_0x375a5d;let _0x5c548e=0x0,_0xbc70ff=null;const _0x217a0b=_0x9a391f=>{const _0x465a6c=a2_0x6a73;if(_0x9a391f['target'][_0x465a6c(0x123)]('.event-card'))return;isScrolling=![],_0x5c548e=_0x9a391f[_0x465a6c(0x1d0)]?_0x9a391f[_0x465a6c(0x1d0)][0x0][_0x465a6c(0x100)]:_0x9a391f[_0x465a6c(0x100)],_0xbc70ff=setTimeout(()=>{const _0x382927=_0x465a6c;if(!isScrolling){navigator['vibrate']?.(0x32);const _0x44a9cc=_0x4c2f4c[_0x382927(0x1e2)](),_0x1a9c95=Math['floor']((_0x5c548e-_0x44a9cc[_0x382927(0x1c7)])/GRID_H);_0x1be1b7[_0x382927(0x23a)](_0x1a9c95,0x0),openAddSession(_0x1be1b7);}},0x1f4);},_0x51e1e5=()=>{isScrolling=!![],clearTimeout(_0xbc70ff);},_0x21d848=()=>{clearTimeout(_0xbc70ff);};_0x4c2f4c[_0x86a1ac(0x226)]('touchstart',_0x217a0b,{'passive':!![]}),_0x4c2f4c[_0x86a1ac(0x226)](_0x86a1ac(0x145),_0x51e1e5,{'passive':!![]}),_0x4c2f4c['addEventListener'](_0x86a1ac(0x1dd),_0x21d848),_0x4c2f4c[_0x86a1ac(0x226)](_0x86a1ac(0x15e),_0x217a0b),_0x4c2f4c['addEventListener'](_0x86a1ac(0x15f),_0x51e1e5),_0x4c2f4c[_0x86a1ac(0x226)](_0x86a1ac(0x19b),_0x21d848);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x12ad72=a2_0x375a5d,_0x32cb34=document['getElementById'](_0x12ad72(0xfc)),_0x16f1a8=_0x32cb34[_0x12ad72(0x17f)],_0x4583e9=_0x32cb34[_0x12ad72(0x1b8)],_0x49bd83=_0x32cb34['clientWidth'];if(_0x4583e9-(_0x16f1a8+_0x49bd83)<0x12c){const _0x5e47e2=endOffset;endOffset+=0xe,renderDayRange(_0x5e47e2+0x1,endOffset),reRenderBlocks();}if(_0x16f1a8<0x12c){const _0x161fce=startOffset;startOffset-=0xe,prependDays(startOffset,_0x161fce-0x1),_0x32cb34['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x5d2cc4,_0x440f8d){const _0x4d00b0=a2_0x375a5d,_0x3f724e=document[_0x4d00b0(0x167)](_0x4d00b0(0x16b)),_0x59ec44=document[_0x4d00b0(0x167)]('gridColumns'),_0x4d5b2f=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1d0e5b=new Date();_0x1d0e5b[_0x4d00b0(0x23a)](0x0,0x0,0x0,0x0);const _0x107311=getLocalDateStr(new Date()),_0x25be33=document[_0x4d00b0(0xe6)](),_0x3b47cc=document[_0x4d00b0(0xe6)]();for(let _0x2e0795=_0x5d2cc4;_0x2e0795<=_0x440f8d;_0x2e0795++){const _0x56ab5f=new Date(_0x1d0e5b);_0x56ab5f[_0x4d00b0(0x230)](_0x56ab5f[_0x4d00b0(0xea)]()+_0x2e0795);const _0x3f2ce1=getLocalDateStr(_0x56ab5f);let _0x2ba3df=_0x56ab5f[_0x4d00b0(0x10c)]()-0x1;if(_0x2ba3df===-0x1)_0x2ba3df=0x6;const _0x2c836b=_0x3f2ce1===_0x107311,_0x469c0b=document[_0x4d00b0(0x1cc)](_0x4d00b0(0x1b0));_0x469c0b[_0x4d00b0(0x165)]=_0x4d00b0(0x186)+(_0x2c836b?_0x4d00b0(0xf1):''),_0x469c0b['id']=_0x4d00b0(0x213)+_0x3f2ce1,_0x469c0b[_0x4d00b0(0xec)]('data-date',_0x3f2ce1),_0x469c0b[_0x4d00b0(0x1a0)]=_0x4d00b0(0x1f0)+_0x4d5b2f[_0x2ba3df]+'</div><div\x20class=\x22dch-num\x22>'+_0x56ab5f[_0x4d00b0(0xea)]()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0x3f2ce1+_0x4d00b0(0x1aa),_0x469c0b[_0x4d00b0(0x13f)]=()=>openDayOptions(_0x3f2ce1,_0x4d5b2f[_0x2ba3df]+'\x20'+_0x56ab5f[_0x4d00b0(0xea)]()),_0x25be33[_0x4d00b0(0xfd)](_0x469c0b);const _0x49ce4f=document[_0x4d00b0(0x1cc)](_0x4d00b0(0x1b0));_0x49ce4f[_0x4d00b0(0x165)]='day-column\x20'+(_0x2c836b?_0x4d00b0(0xf1):''),_0x49ce4f[_0x4d00b0(0xec)](_0x4d00b0(0x257),_0x3f2ce1),_0x49ce4f[_0x4d00b0(0xec)](_0x4d00b0(0x20b),_0x2ba3df),renderEventsForColumn(_0x49ce4f,_0x3f2ce1,_0x2ba3df),attachLongPressHandler(_0x49ce4f,_0x56ab5f),_0x3b47cc[_0x4d00b0(0xfd)](_0x49ce4f),updateDayStats(_0x3f2ce1);}_0x3f724e[_0x4d00b0(0x15d)](_0x25be33,_0x3f724e[_0x4d00b0(0x11c)]),_0x59ec44[_0x4d00b0(0x15d)](_0x3b47cc,_0x59ec44['querySelector'](_0x4d00b0(0x1d9)));}function validateAppointment(_0x4680f7,_0x14c1c6,_0x1d2672,_0x49b3b9,_0x520def){const _0x3c4d40=a2_0x375a5d,[_0x2e6708,_0x6d94bb]=_0x14c1c6['split'](':')[_0x3c4d40(0x1fa)](Number),[_0x5906cb,_0x5df802]=_0x1d2672[_0x3c4d40(0x182)](':')[_0x3c4d40(0x1fa)](Number),_0x5932fd=_0x2e6708*0x3c+_0x6d94bb,_0x3169d5=_0x5906cb*0x3c+_0x5df802,_0x262bcc=String(_0x520def);let _0x58632f=![],_0x51d91c='';for(let _0x282a77 of sessions){if(_0x282a77[_0x3c4d40(0x120)]!==_0x4680f7)continue;if(_0x282a77[_0x3c4d40(0x1b7)]===_0x3c4d40(0x1b4))continue;if(_0x49b3b9&&String(_0x282a77['id'])===String(_0x49b3b9))continue;const [_0x5a578d,_0x5cb9ee]=_0x282a77['start'][_0x3c4d40(0x182)](':')[_0x3c4d40(0x1fa)](Number),[_0x4c60b0,_0x5b6200]=_0x282a77['end'][_0x3c4d40(0x182)](':')[_0x3c4d40(0x1fa)](Number),_0x206acc=_0x5a578d*0x3c+_0x5cb9ee,_0x2d0dd9=_0x4c60b0*0x3c+_0x5b6200;if(Math['max'](_0x5932fd,_0x206acc)<Math[_0x3c4d40(0x146)](_0x3169d5,_0x2d0dd9)){if(_0x282a77['clientId']&&String(_0x282a77['clientId'])===_0x262bcc)return{'valid':![],'msg':_0x3c4d40(0x130)+_0x282a77[_0x3c4d40(0x1c3)]+_0x3c4d40(0x13e)};_0x58632f=!![],_0x51d91c=_0x282a77[_0x3c4d40(0x1c3)];}}if(_0x58632f)return{'valid':!![],'warning':_0x3c4d40(0x11d)+_0x51d91c};return{'valid':!![]};}function updateDateDisplay(){const _0x111310=a2_0x375a5d,_0x40ead9=document[_0x111310(0x167)]('inpDate')['value'],_0x17f15f=document['getElementById'](_0x111310(0x1e3));if(!_0x40ead9){_0x17f15f['textContent']='';return;}const [_0x133a26,_0xf16902,_0x3484c9]=_0x40ead9['split']('-')[_0x111310(0x1fa)](Number),_0x3b77ef=new Date(_0x133a26,_0xf16902-0x1,_0x3484c9),_0x365cc0={'weekday':_0x111310(0x197),'day':_0x111310(0x229),'month':_0x111310(0x197),'year':_0x111310(0x229)};let _0x5c016a=_0x3b77ef['toLocaleDateString']('ru-RU',_0x365cc0);_0x5c016a=_0x5c016a[_0x111310(0x1f2)](0x0)[_0x111310(0x12c)]()+_0x5c016a[_0x111310(0x1dc)](0x1),_0x17f15f[_0x111310(0x1ac)]=_0x5c016a;}function autoSetEndTime(){const _0x35e82d=a2_0x375a5d,_0x59c8e1=document[_0x35e82d(0x167)](_0x35e82d(0xf9))[_0x35e82d(0x24b)];if(!_0x59c8e1)return;const [_0x2f9e4c,_0x443ad4]=_0x59c8e1[_0x35e82d(0x182)](':')[_0x35e82d(0x1fa)](Number);let _0x543754=_0x2f9e4c+0x1;if(_0x543754>0x17)_0x543754=0x0;const _0x391060=String(_0x543754)[_0x35e82d(0x25b)](0x2,'0')+':'+String(_0x443ad4)[_0x35e82d(0x25b)](0x2,'0');document[_0x35e82d(0x167)](_0x35e82d(0x136))[_0x35e82d(0x24b)]=_0x391060;}function populateClientSelect(){const _0x5294ea=a2_0x375a5d,_0x2d2118=document[_0x5294ea(0x167)](_0x5294ea(0x114));_0x2d2118[_0x5294ea(0x1a0)]='';if(clients[_0x5294ea(0x1d6)]===0x0){const _0x1b1ea0=document[_0x5294ea(0x1cc)]('option');_0x1b1ea0[_0x5294ea(0x102)]=_0x5294ea(0x107),_0x2d2118[_0x5294ea(0xfd)](_0x1b1ea0);return;}clients[_0x5294ea(0x215)](_0x4bc792=>{const _0x4e3080=_0x5294ea,_0xc97dd2=document[_0x4e3080(0x1cc)](_0x4e3080(0xf2));_0xc97dd2[_0x4e3080(0x24b)]=_0x4bc792[_0x4e3080(0x181)],_0xc97dd2[_0x4e3080(0x1ac)]=_0x4bc792['name'],_0x2d2118['appendChild'](_0xc97dd2);});}function openActionSheet(_0x377195){const _0x36fc4f=a2_0x375a5d,_0x3b5c8f=document[_0x36fc4f(0x167)](_0x36fc4f(0x140)),_0x12f919=document[_0x36fc4f(0x167)]('actionSheetOverlay'),_0x3b13eb=document[_0x36fc4f(0x167)](_0x36fc4f(0x198)),_0x4cdc15=document[_0x36fc4f(0x167)](_0x36fc4f(0x25e)),_0x2f70d2=document[_0x36fc4f(0x167)](_0x36fc4f(0x160));_0x12f919[_0x36fc4f(0x15b)]['add'](_0x36fc4f(0x23d)),_0x3b5c8f[_0x36fc4f(0x15b)][_0x36fc4f(0xeb)](_0x36fc4f(0x110));if(_0x377195===_0x36fc4f(0x246))_0x3b13eb['textContent']=_0x36fc4f(0x25f),_0x4cdc15['textContent']=_0x36fc4f(0x219),_0x4cdc15[_0x36fc4f(0x13f)]=()=>{const _0x5c516b=_0x36fc4f;closeActionSheet(),updateSeriesBatch(_0x5c516b(0x1b5),tempSessionData);},_0x2f70d2['textContent']='–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ',_0x2f70d2[_0x36fc4f(0x13f)]=()=>{const _0x16084a=_0x36fc4f;closeActionSheet(),updateSeriesBatch(_0x16084a(0x1b1),tempSessionData);};else _0x377195===_0x36fc4f(0x210)&&(_0x3b13eb[_0x36fc4f(0x1ac)]='–£–¥–∞–ª–µ–Ω–∏–µ',_0x4cdc15[_0x36fc4f(0x1ac)]=_0x36fc4f(0x219),_0x4cdc15['className']='as-button\x20danger',_0x4cdc15[_0x36fc4f(0x13f)]=()=>{const _0x3da17c=_0x36fc4f;closeActionSheet(),commitDelete(_0x3da17c(0x1b5),sessions[_0x3da17c(0x1f9)](_0x50861c=>_0x50861c['id']===editingId));},_0x2f70d2[_0x36fc4f(0x1ac)]='–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ',_0x2f70d2[_0x36fc4f(0x165)]=_0x36fc4f(0x1e5),_0x2f70d2[_0x36fc4f(0x13f)]=()=>{const _0xbab587=_0x36fc4f;closeActionSheet(),commitDelete(_0xbab587(0x1b1),sessions[_0xbab587(0x1f9)](_0x286940=>_0x286940['id']===editingId));});}function closeActionSheet(){const _0x442a1a=a2_0x375a5d;document['getElementById'](_0x442a1a(0x140))['classList'][_0x442a1a(0xe2)]('open'),document[_0x442a1a(0x167)](_0x442a1a(0x1b3))[_0x442a1a(0x15b)][_0x442a1a(0xe2)](_0x442a1a(0x23d));}function openSettings(){const _0x2331ce=a2_0x375a5d;openSheet(_0x2331ce(0x21d));}function saveCoachSettings(){const _0x1b30b5=a2_0x375a5d,_0x5ea5db=document[_0x1b30b5(0x167)]('settingCancelWindow')['value'];localStorage[_0x1b30b5(0x242)](_0x1b30b5(0x1bc),_0x5ea5db),console[_0x1b30b5(0x113)](_0x1b30b5(0x1c0),_0x5ea5db),DataManager['fetchFromServer'](_0x1b30b5(0x1a9),{'settings':{'cancel_window':_0x5ea5db}})[_0x1b30b5(0x17e)](_0x533b2f=>{const _0x4e59c2=_0x1b30b5;console['error']('Save\x20settings\x20error:',_0x533b2f),showToast(_0x4e59c2(0x152),![]);});}function loadCoachSettings(){const _0x25628e=a2_0x375a5d,_0x2a3da4=localStorage['getItem']('uc_settings_cancel_window');_0x2a3da4&&(document['getElementById']('settingCancelWindow')[_0x25628e(0x24b)]=_0x2a3da4);}function openRangesSheet(){const _0x3e3395=a2_0x375a5d;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x3e3395(0x1f8));}function addRange(){const _0x57e008=a2_0x375a5d,_0x366542=document[_0x57e008(0x167)](_0x57e008(0x16a))[_0x57e008(0x24b)],_0x425d1d=document[_0x57e008(0x167)](_0x57e008(0x19d))[_0x57e008(0x24b)],_0x17b8f0=document[_0x57e008(0x167)]('rangeEndDate')[_0x57e008(0x24b)],_0x2fd8c5=document[_0x57e008(0x167)](_0x57e008(0x1d3))[_0x57e008(0x24b)];if(!_0x366542||!_0x425d1d||!_0x17b8f0||!_0x2fd8c5)return alert(_0x57e008(0x10f));const _0x4aa638=_0x366542+'T'+_0x425d1d,_0x4b8403=_0x17b8f0+'T'+_0x2fd8c5;if(_0x4aa638>=_0x4b8403)return alert(_0x57e008(0x154));specialRanges[_0x57e008(0x111)]({'start':_0x4aa638,'end':_0x4b8403}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager['fetchFromServer'](_0x57e008(0x1a9),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x1d243d){const _0x709c64=a2_0x375a5d;specialRanges[_0x709c64(0x21c)](_0x1d243d,0x1),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x709c64(0x1e8)](_0x709c64(0x1a9),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x2cca94=a2_0x375a5d;document[_0x2cca94(0x167)](_0x2cca94(0x16a))[_0x2cca94(0x24b)]='',document['getElementById'](_0x2cca94(0x19d))[_0x2cca94(0x24b)]='00:00',document[_0x2cca94(0x167)]('rangeEndDate')['value']='',document['getElementById']('rangeEndTime')[_0x2cca94(0x24b)]='23:59';}function renderRangesList(){const _0x2f5e6e=a2_0x375a5d,_0x23cbc8=document[_0x2f5e6e(0x167)](_0x2f5e6e(0x20d));_0x23cbc8[_0x2f5e6e(0x1a0)]='';if(!specialRanges[_0x2f5e6e(0x1d6)]){_0x23cbc8['innerHTML']=_0x2f5e6e(0x21b);return;}specialRanges[_0x2f5e6e(0x215)]((_0x2eecac,_0x37c9fa)=>{const _0x45d5ce=_0x2f5e6e,_0x279f41=document[_0x45d5ce(0x1cc)]('div');_0x279f41['className']='range-item';const _0x5b7ded=_0x2dc960=>{const _0x35203e=_0x45d5ce,_0xd2e04e=new Date(_0x2dc960);return _0xd2e04e['getDate']()+'.'+String(_0xd2e04e[_0x35203e(0x163)]()+0x1)[_0x35203e(0x25b)](0x2,'0')+'\x20'+String(_0xd2e04e[_0x35203e(0x184)]())[_0x35203e(0x25b)](0x2,'0')+':'+String(_0xd2e04e[_0x35203e(0x13c)]())[_0x35203e(0x25b)](0x2,'0');};_0x279f41[_0x45d5ce(0x1a0)]=_0x45d5ce(0x18d)+_0x5b7ded(_0x2eecac['start'])+_0x45d5ce(0x13b)+_0x5b7ded(_0x2eecac[_0x45d5ce(0x159)])+_0x45d5ce(0xe3)+_0x37c9fa+_0x45d5ce(0xf0),_0x23cbc8[_0x45d5ce(0xfd)](_0x279f41);});}function scrollToToday(){const _0x160124=a2_0x375a5d,_0x86a9f5=getLocalDateStr(new Date()),_0x147e07=document[_0x160124(0x167)]('header-'+_0x86a9f5),_0x5cc3a9=document['getElementById'](_0x160124(0xfc));if(_0x147e07&&_0x5cc3a9){const _0x1e3f40=_0x5cc3a9['clientWidth'],_0x2dec62=_0x147e07[_0x160124(0x1be)],_0x37110b=_0x147e07[_0x160124(0xf3)];_0x5cc3a9[_0x160124(0x17f)]=_0x2dec62-_0x1e3f40/0x2+_0x37110b/0x2,_0x5cc3a9['scrollTop']=0x9*GRID_H;}}function onScroll(){const _0x2eb35b=a2_0x375a5d,_0x966a34=document[_0x2eb35b(0x167)]('matrixViewport'),_0x55a265=document[_0x2eb35b(0x224)](_0x2eb35b(0x24a));for(let _0x56bae0 of _0x55a265)if(_0x56bae0[_0x2eb35b(0x1be)]>=_0x966a34['scrollLeft']){const _0x20eb67=new Date(_0x56bae0[_0x2eb35b(0x171)]('data-date'));document[_0x2eb35b(0x167)](_0x2eb35b(0x137))[_0x2eb35b(0x1ac)]=_0x20eb67[_0x2eb35b(0x24c)]('ru',{'month':'long'})[_0x2eb35b(0x12c)]()+'\x20'+_0x20eb67[_0x2eb35b(0x227)]();break;}}function showToast(_0x116167,_0x5a1583=![]){const _0x447ed2=a2_0x375a5d,_0x103b53=document[_0x447ed2(0x167)](_0x447ed2(0x25c));_0x103b53[_0x447ed2(0x165)]=_0x447ed2(0x1f1)+(_0x5a1583?_0x447ed2(0x216):''),document['getElementById'](_0x447ed2(0x129))[_0x447ed2(0x1ac)]=_0x5a1583?'–£—Å–ø–µ—à–Ω–æ':_0x447ed2(0x1eb),document[_0x447ed2(0x167)](_0x447ed2(0x126))['textContent']=_0x116167,_0x103b53[_0x447ed2(0x15b)]['add'](_0x447ed2(0x204)),setTimeout(()=>{const _0xbbd055=_0x447ed2;_0x103b53[_0xbbd055(0x15b)][_0xbbd055(0xe2)](_0xbbd055(0x204));},0xbb8);}function openDayOptions(_0x21f104,_0x54f217){const _0x560e49=a2_0x375a5d;selectedDayForOptions=_0x21f104,document[_0x560e49(0x167)](_0x560e49(0x208))['textContent']=_0x54f217,openSheet(_0x560e49(0xf8));}function toggleDayOff(){const _0x4fd339=a2_0x375a5d;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x4fd339(0x188),reRenderBlocks(),closeAllSheets(),DataManager[_0x4fd339(0x1fb)](),DataManager['fetchFromServer'](_0x4fd339(0x1a9),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x36df69=a2_0x375a5d;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x36df69(0x1fb)](),DataManager[_0x36df69(0x1e8)](_0x36df69(0x1a9),{'settings':{'exceptions':dateExceptions}}));}function a2_0x4dad(){const _0x25dd27=['rangesList','[Notify]\x20Error:\x20sessionData\x20is\x20null','from','delete','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','header-','btnDayToggle','forEach','success','inpSeriesCount','[Sync]\x20Loading\x20','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','splice','settingsSheet','cancel_window','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','var(--acc-green)','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','findIndex','round','querySelectorAll','toLocaleDateString','addEventListener','getFullYear','day-off-overlay\x20stripe-bg','numeric','onClick','client-stat-card','inpNote','startsWith','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','initDataUnsafe','setDate','blocked-slot\x20stripe-bg','settings','style','rgba(255,\x2069,\x2058,\x200.15)','[Notify]\x20Server\x20Response:','setHeaderColor','.dch-stats-fill','pe-cell\x20','doEventsList','setHours','anEnd','pe-time-label','active','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','getText','10px\x2010px\x200\x200','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','setItem','rgba(','anStart',':00</span>','save','note','borderRadius','calendar','.day-col-header','value','toLocaleString','overlay','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','max','18GGNrAE','anPercent','update','9PHONAw','</b>\x0a\x0a','parse','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','data-date','entries','pe-col-header','[Notify]\x20Client\x20SWAP\x20detected','padStart','toast','1786484MwcLdK','asBtnOne','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','gridColumns','floor','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','error','doDateHeader','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','getItem','zIndex','remove','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','<span>','%\x20+\x202px)','createDocumentFragment','btnStatusToggle','165380sElbZC','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','getDate','add','setAttribute','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','ru-RU','complete',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','today','option','offsetWidth','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20',']\x20Failed:','init_load','Server\x20Error','dayOptionsSheet','inpStart','cancel','syncLoad','matrixViewport','appendChild','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','de-item','clientY','259263tCAcez','text','<div\x20class=\x22ev-title\x22>','guest','patternEditor','uc_settings_v9','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','isArray','formatDate','backgroundColor','warning','getDay','toString','var(--acc-orange)','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','open','push','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','log','inpClient','WebApp','now','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','disableVerticalSwipes','week','411082qxghsw','href','firstChild','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','total','dateStr','seriesId','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','closest','(((.+)+)+)+$','</div><div\x20class=\x22ev-time\x22>','toastMessage','sessionSheet','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','toastTitle','btnDelete','width','toUpperCase','patternInfoBox','BackButton','128rAbhdB','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','\x20status-completed','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','Critical\x20TMA\x20Error:','localeCompare','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','inpEnd','headerMonth','time-label','left','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','\x20‚Äî\x20','getMinutes','planned',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','onclick','actionSheet','px\x200px',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','random','none','touchmove','min','display','#gridColumns\x20.day-column','recurringOptionContainer','syncBatch','indexOf','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','initData','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','querySelector','sid','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','timeLineBadge','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','text/plain;charset=UTF-8','completed','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','</div><div\x20class=\x22dch-num\x22>','end','clientId','classList','msg','insertBefore','mousedown','mousemove','asBtnSeries','btn-status-toggle\x20undo-mode','colIndex','getMonth','mergeServerData','className','[Notify]\x20Attempting\x20to\x20send:','getElementById','stopPropagation','day-column\x20','rangeStartDate','daysHeaderTrack','all','\x20days','Batch\x20Sync\x20OK','seriesCountContainer','T23:59:59','getAttribute','\x20-\x20','apply',':\x20Client\x20already\x20booked','strokeDashoffset','null','</span>\x20/\x20','mini','inpDate','expand','v9.0-BATCH-CALENDAR','btn-status-toggle','borderColor','catch','scrollLeft','[API\x20','name','split','start','getHours','settingCancelWindow','day-col-header\x20','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','off','includes','location','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','var(--acc-red)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','uc_sessions_v9','then','Error\x20setting\x20back\x20button:','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','doBusyHours','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','Unknown','filter','100%','long','asTitle','calc(','pattern','mouseup','inpRecurring','rangeStartTime','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','done','innerHTML','rgba(255,255,255,0.05)','flex','uc_clients_v9','635557obBQGK','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','timeColumn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','save_settings','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','stat-','textContent','[Series]\x20Skipped\x20','valid','search','div','series','.day-off-overlay','actionSheetOverlay','cancelled','single','10px','status','scrollWidth','analyticsSheet','px\x20-','rgba(48,\x20209,\x2088,\x200.15)','uc_settings_cancel_window','#fff','offsetLeft','setMonth','[Settings]\x20Cancel\x20window\x20set\x20to:','doLoadPercent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','client','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','color','12309650ALiZsQ','top','#0a84ff','create','user',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','createElement','%\x20-\x204px)','sort','router.html','touches','peGrid','clients','rangeEndTime','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','batch_sync','length','stringify','ranges','.day-column','analyticsList','setBackgroundColor','slice','touchend','anCustomDates','checked','getTime','Telegram','getBoundingClientRect','sheetDateSubtitle','toFixed','as-button\x20danger\x20bold','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','fetchFromServer','warn','</div>','–ò–Ω—Ñ–æ','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','custom','deleted','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','<div\x20class=\x22dch-day\x22>','toast-notification\x20','charAt','exceptions','anTotalStats','block','backgroundPosition','1088184LREQDV','rangesSheet','find','map','saveLocally','constructor','borderLeftColor','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','ready','send','.sheet','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','var(--acc-current)','show','substr',':00','[Notify]\x20Network\x20Failed','dayOptionsTitle','background','sheetTitle','data-day-idx','[Notify]\x20Error:\x20Text\x20generation\x20failed'];a2_0x4dad=function(){return _0x25dd27;};return a2_0x4dad();}function openSheet(_0x22ff1c){const _0x1a9fac=a2_0x375a5d;document[_0x1a9fac(0x167)](_0x1a9fac(0x24d))['classList'][_0x1a9fac(0xeb)](_0x1a9fac(0x23d)),document[_0x1a9fac(0x167)](_0x22ff1c)['classList'][_0x1a9fac(0xeb)](_0x1a9fac(0x110));}function closeAllSheets(){const _0x1e65f1=a2_0x375a5d;document[_0x1e65f1(0x167)](_0x1e65f1(0x24d))[_0x1e65f1(0x15b)][_0x1e65f1(0xe2)](_0x1e65f1(0x23d)),document[_0x1e65f1(0x224)](_0x1e65f1(0x201))[_0x1e65f1(0x215)](_0x7d925d=>_0x7d925d[_0x1e65f1(0x15b)][_0x1e65f1(0xe2)](_0x1e65f1(0x110)));}function openPatternEditor(){const _0x526ae4=a2_0x375a5d;closeAllSheets(),document[_0x526ae4(0x167)](_0x526ae4(0x105))[_0x526ae4(0x15b)][_0x526ae4(0xeb)](_0x526ae4(0x110)),renderPatternEditor();}function closePatternEditor(){const _0x1e448f=a2_0x375a5d;document['getElementById'](_0x1e448f(0x105))[_0x1e448f(0x15b)]['remove'](_0x1e448f(0x110));}function savePattern(){const _0x4efd7c=a2_0x375a5d;document[_0x4efd7c(0x167)](_0x4efd7c(0x105))[_0x4efd7c(0x15b)]['remove'](_0x4efd7c(0x110)),reRenderBlocks(),DataManager[_0x4efd7c(0x1fb)](),DataManager['fetchFromServer'](_0x4efd7c(0x1a9),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x19c27e=a2_0x375a5d,_0x1fe3ba=document['getElementById'](_0x19c27e(0x1d1));_0x1fe3ba['innerHTML']='';const _0x1f31c8=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x145f9d=document[_0x19c27e(0x1cc)](_0x19c27e(0x1b0));_0x145f9d[_0x19c27e(0x165)]='pe-corner',_0x1fe3ba[_0x19c27e(0xfd)](_0x145f9d),_0x1f31c8[_0x19c27e(0x215)]((_0x553161,_0x1f6f61)=>{const _0x1dca60=_0x19c27e,_0x55c474=document[_0x1dca60(0x1cc)](_0x1dca60(0x1b0));_0x55c474['className']=_0x1dca60(0x259),_0x55c474[_0x1dca60(0x1a0)]=_0x553161+_0x1dca60(0x1a6),_0x55c474[_0x1dca60(0x13f)]=()=>toggleColPattern(_0x1f6f61),_0x1fe3ba[_0x1dca60(0xfd)](_0x55c474);});for(let _0x3c4219=0x0;_0x3c4219<0x18;_0x3c4219++){const _0x5c530a=document[_0x19c27e(0x1cc)](_0x19c27e(0x1b0));_0x5c530a[_0x19c27e(0x165)]=_0x19c27e(0x23c),_0x5c530a[_0x19c27e(0x1a0)]=_0x19c27e(0x14f)+String(_0x3c4219)[_0x19c27e(0x25b)](0x2,'0')+_0x19c27e(0x206),_0x5c530a[_0x19c27e(0x13f)]=()=>toggleRowPattern(_0x3c4219),_0x1fe3ba[_0x19c27e(0xfd)](_0x5c530a);for(let _0x58f02f=0x0;_0x58f02f<0x7;_0x58f02f++){const _0x55b2cf=document[_0x19c27e(0x1cc)](_0x19c27e(0x1b0)),_0xb70c39=(availabilityPattern[_0x58f02f]||[])[_0x19c27e(0x189)](_0x3c4219),_0x5f2246=!_0xb70c39;_0x55b2cf[_0x19c27e(0x165)]=_0x19c27e(0x238)+(_0x5f2246?_0x19c27e(0x23d):''),_0x55b2cf[_0x19c27e(0x13f)]=()=>toggleSinglePattern(_0x58f02f,_0x3c4219),_0x1fe3ba['appendChild'](_0x55b2cf);}}}function toggleSinglePattern(_0x2d8080,_0x16df6b){const _0x3c034c=a2_0x375a5d;if(!availabilityPattern[_0x2d8080])availabilityPattern[_0x2d8080]=[];const _0x3227a5=availabilityPattern[_0x2d8080],_0x46e477=_0x3227a5[_0x3c034c(0x14b)](_0x16df6b);_0x46e477===-0x1?_0x3227a5[_0x3c034c(0x111)](_0x16df6b):_0x3227a5[_0x3c034c(0x21c)](_0x46e477,0x1),renderPatternEditor();}function toggleColPattern(_0x3e18c8){const _0x250907=a2_0x375a5d;if(!availabilityPattern[_0x3e18c8])availabilityPattern[_0x3e18c8]=[];const _0x6351e8=availabilityPattern[_0x3e18c8];_0x6351e8['length']===0x0?availabilityPattern[_0x3e18c8]=Array[_0x250907(0x20f)]({'length':0x18},(_0x239cc6,_0x5a07a0)=>_0x5a07a0):availabilityPattern[_0x3e18c8]=[],renderPatternEditor();}function toggleRowPattern(_0x495f8f){const _0x1093b3=a2_0x375a5d;let _0x22c2d9=!![];for(let _0x448cd7=0x0;_0x448cd7<0x7;_0x448cd7++){if((availabilityPattern[_0x448cd7]||[])['includes'](_0x495f8f)){_0x22c2d9=![];break;}}for(let _0xcd1d55=0x0;_0xcd1d55<0x7;_0xcd1d55++){if(!availabilityPattern[_0xcd1d55])availabilityPattern[_0xcd1d55]=[];const _0x204485=availabilityPattern[_0xcd1d55]['indexOf'](_0x495f8f);if(_0x22c2d9){if(_0x204485===-0x1)availabilityPattern[_0xcd1d55]['push'](_0x495f8f);}else{if(_0x204485!==-0x1)availabilityPattern[_0xcd1d55][_0x1093b3(0x21c)](_0x204485,0x1);}}renderPatternEditor();}function renderPCol(_0x122594,_0x640e9b){const _0x470ee0=a2_0x375a5d;_0x122594[_0x470ee0(0x1a0)]='';const _0x88ad29=Math['round'](_0x122594[_0x470ee0(0x1be)]);(availabilityPattern[_0x640e9b]||[])[_0x470ee0(0x215)](_0xb4bad9=>{const _0x3320eb=_0x470ee0,_0x1148dc=document[_0x3320eb(0x1cc)](_0x3320eb(0x1b0));_0x1148dc['className']=_0x3320eb(0x231);const _0x740c=_0xb4bad9*GRID_H;_0x1148dc[_0x3320eb(0x233)][_0x3320eb(0x1c7)]=_0x740c+'px',_0x1148dc[_0x3320eb(0x233)][_0x3320eb(0x1f6)]='-'+_0x88ad29+_0x3320eb(0x1ba)+_0x740c+'px',_0x1148dc[_0x3320eb(0x13f)]=_0x479fd2=>{const _0x28ce95=_0x3320eb;_0x479fd2[_0x28ce95(0x168)](),toggleSinglePattern(_0x640e9b,_0xb4bad9);},_0x122594[_0x3320eb(0xfd)](_0x1148dc);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x5241a9=a2_0x375a5d,_0x812f06=new Date(),_0x901905=document[_0x5241a9(0x167)]('globalTimeLine'),_0x33830d=document['getElementById'](_0x5241a9(0x153)),_0x2c784e=(_0x812f06['getHours']()*0x3c+_0x812f06[_0x5241a9(0x13c)]())/0x3c*GRID_H;_0x901905[_0x5241a9(0x233)][_0x5241a9(0x1c7)]=_0x2c784e+'px',_0x901905['style'][_0x5241a9(0x147)]=_0x5241a9(0x1f5),_0x33830d['textContent']=String(_0x812f06[_0x5241a9(0x184)]())[_0x5241a9(0x25b)](0x2,'0')+':'+String(_0x812f06[_0x5241a9(0x13c)]())[_0x5241a9(0x25b)](0x2,'0'),_0x33830d[_0x5241a9(0x233)]['display']=_0x5241a9(0x1f5),_0x33830d[_0x5241a9(0x233)][_0x5241a9(0x1c7)]=_0x2c784e+'px';}document['addEventListener']('DOMContentLoaded',init);function openDayOptions(_0x2b7f02){const _0x51a022=a2_0x375a5d;selectedDayForOptions=_0x2b7f02;const _0x3e2da4=new Date(_0x2b7f02),_0x1ec06e={'weekday':_0x51a022(0x197),'day':'numeric','month':_0x51a022(0x197),'year':_0x51a022(0x229)},_0x35dc9a=_0x3e2da4[_0x51a022(0x225)](_0x51a022(0xee),_0x1ec06e);document[_0x51a022(0x167)](_0x51a022(0xdd))[_0x51a022(0x1ac)]=_0x35dc9a[_0x51a022(0x1f2)](0x0)[_0x51a022(0x12c)]()+_0x35dc9a[_0x51a022(0x1dc)](0x1);let _0x21fbbc=_0x3e2da4[_0x51a022(0x10c)]()-0x1;if(_0x21fbbc===-0x1)_0x21fbbc=0x6;const _0x41716e=availabilityPattern[_0x21fbbc]||[],_0x344715=0x18-_0x41716e[_0x51a022(0x1d6)],_0x19949c=_0x344715*0x3c,_0x1321f7=sessions[_0x51a022(0x195)](_0x47d389=>_0x47d389[_0x51a022(0x120)]===_0x2b7f02&&_0x47d389['status']!==_0x51a022(0x1b4));let _0x2aa82a=_0x1321f7['map'](_0x19bd00=>{const _0x5c76d3=_0x51a022,[_0x353d86,_0x4e346e]=_0x19bd00[_0x5c76d3(0x183)][_0x5c76d3(0x182)](':')[_0x5c76d3(0x1fa)](Number),[_0x1d21ab,_0x29cef0]=_0x19bd00[_0x5c76d3(0x159)][_0x5c76d3(0x182)](':')['map'](Number);return[_0x353d86*0x3c+_0x4e346e,_0x1d21ab*0x3c+_0x29cef0];});_0x2aa82a[_0x51a022(0x1ce)]((_0x1b4565,_0x5b5710)=>_0x1b4565[0x0]-_0x5b5710[0x0]);let _0x8f0c02=[];if(_0x2aa82a[_0x51a022(0x1d6)]>0x0){let _0x522409=_0x2aa82a[0x0];for(let _0x2ea763=0x1;_0x2ea763<_0x2aa82a[_0x51a022(0x1d6)];_0x2ea763++){_0x2aa82a[_0x2ea763][0x0]<_0x522409[0x1]?_0x522409[0x1]=Math[_0x51a022(0x24f)](_0x522409[0x1],_0x2aa82a[_0x2ea763][0x1]):(_0x8f0c02[_0x51a022(0x111)](_0x522409),_0x522409=_0x2aa82a[_0x2ea763]);}_0x8f0c02[_0x51a022(0x111)](_0x522409);}let _0xe745d6=0x0;_0x8f0c02[_0x51a022(0x215)](_0x16cde0=>_0xe745d6+=_0x16cde0[0x1]-_0x16cde0[0x0]),document[_0x51a022(0x167)]('doWorkHours')[_0x51a022(0x1ac)]=formatMinsToHrs(_0x19949c),document[_0x51a022(0x167)](_0x51a022(0x192))['textContent']=formatMinsToHrs(_0xe745d6);const _0x1ba285=_0x19949c>0x0?Math[_0x51a022(0x223)](_0xe745d6/_0x19949c*0x64):0x0,_0x44b607=document['getElementById'](_0x51a022(0x1c1));_0x44b607['textContent']=_0x1ba285+'%';const _0x439b9c=document['getElementById']('statLoadCard');if(_0x1ba285>0x64)_0x44b607[_0x51a022(0x233)][_0x51a022(0x1c5)]=_0x51a022(0x18c),_0x439b9c[_0x51a022(0x233)][_0x51a022(0x17d)]='rgba(255,\x2069,\x2058,\x200.3)';else _0x1ba285>0x50?(_0x44b607[_0x51a022(0x233)][_0x51a022(0x1c5)]=_0x51a022(0x10e),_0x439b9c['style']['borderColor']='rgba(255,\x20159,\x2010,\x200.3)'):(_0x44b607['style'][_0x51a022(0x1c5)]=_0x51a022(0x220),_0x439b9c['style'][_0x51a022(0x17d)]=_0x51a022(0x1a1));const _0x36c548=document[_0x51a022(0x167)](_0x51a022(0x239));_0x36c548['innerHTML']='';_0x1321f7[_0x51a022(0x1d6)]===0x0?_0x36c548[_0x51a022(0x1a0)]=_0x51a022(0x157):(_0x1321f7[_0x51a022(0x1ce)]((_0xb7b84f,_0x5b6c3b)=>_0xb7b84f[_0x51a022(0x183)][_0x51a022(0x134)](_0x5b6c3b['start'])),_0x1321f7['forEach'](_0x3bcf40=>{const _0x4aa7a9=_0x51a022,_0x2f92fa=clients[_0x4aa7a9(0x1f9)](_0x14eae3=>_0x14eae3[_0x4aa7a9(0x181)]===_0x3bcf40[_0x4aa7a9(0x1c3)]),_0x59dd31=_0x2f92fa?_0x2f92fa[_0x4aa7a9(0x1c5)]:_0x4aa7a9(0x1bd),_0x2bbd4e=_0x3bcf40[_0x4aa7a9(0x1b7)]==='completed',_0x417e04=_0x2bbd4e?'<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>':'',_0x3c2ecc=document[_0x4aa7a9(0x1cc)](_0x4aa7a9(0x1b0));_0x3c2ecc[_0x4aa7a9(0x165)]=_0x4aa7a9(0xff),_0x3c2ecc[_0x4aa7a9(0x233)][_0x4aa7a9(0x1fd)]=_0x59dd31,_0x3c2ecc[_0x4aa7a9(0x1a0)]=_0x4aa7a9(0x193)+_0x3bcf40[_0x4aa7a9(0x183)]+_0x4aa7a9(0x172)+_0x3bcf40[_0x4aa7a9(0x159)]+_0x4aa7a9(0x18b)+_0x3bcf40[_0x4aa7a9(0x1c3)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x417e04+_0x4aa7a9(0x1a8),_0x36c548[_0x4aa7a9(0xfd)](_0x3c2ecc);}));const _0x4cd61e=document[_0x51a022(0x167)](_0x51a022(0x214)),_0x46b7ab=dateExceptions[_0x2b7f02]===_0x51a022(0x188);_0x46b7ab?(_0x4cd61e[_0x51a022(0x1ac)]=_0x51a022(0x122),_0x4cd61e[_0x51a022(0x165)]='btn-primary\x20btn-secondary',_0x4cd61e[_0x51a022(0x233)][_0x51a022(0x1c5)]='var(--acc-green)',_0x4cd61e['style'][_0x51a022(0x209)]=_0x51a022(0x1bb)):(_0x4cd61e[_0x51a022(0x1ac)]=_0x51a022(0x21f),_0x4cd61e['className']='btn-primary\x20btn-danger',_0x4cd61e[_0x51a022(0x233)]['color']=_0x51a022(0x18c),_0x4cd61e[_0x51a022(0x233)][_0x51a022(0x209)]=_0x51a022(0x234)),openSheet(_0x51a022(0xf8));}let currentAnPeriod=a2_0x375a5d(0x119);function openAnalytics(){const _0x5a7bb3=a2_0x375a5d,_0x36d0a3=document[_0x5a7bb3(0x150)]('.period-switch\x20.p-btn');setAnalyticsPeriod(_0x5a7bb3(0x119),_0x36d0a3),closeAllSheets(),openSheet(_0x5a7bb3(0x1b9));}function setAnalyticsPeriod(_0x4ff302,_0x379e4){const _0xcceaf9=a2_0x375a5d;currentAnPeriod=_0x4ff302,document[_0xcceaf9(0x224)]('.period-switch\x20.p-btn')[_0xcceaf9(0x215)](_0x563948=>_0x563948['classList'][_0xcceaf9(0xe2)]('active'));if(_0x379e4)_0x379e4[_0xcceaf9(0x15b)][_0xcceaf9(0xeb)](_0xcceaf9(0x23d));const _0x2cd39e=document[_0xcceaf9(0x167)](_0xcceaf9(0x1de));_0x2cd39e['style'][_0xcceaf9(0x147)]=_0x4ff302===_0xcceaf9(0x1ed)?'flex':'none';const _0x11828b=new Date();let _0x1e23e=new Date(),_0x1a1406=new Date();if(_0x4ff302===_0xcceaf9(0x119))_0x1e23e=getStartOfWeek(_0x11828b),_0x1a1406=new Date(_0x1e23e),_0x1a1406[_0xcceaf9(0x230)](_0x1a1406[_0xcceaf9(0xea)]()+0x6);else{if(_0x4ff302==='month')_0x1e23e=new Date(_0x11828b[_0xcceaf9(0x227)](),_0x11828b[_0xcceaf9(0x163)](),0x1),_0x1a1406=new Date(_0x11828b[_0xcceaf9(0x227)](),_0x11828b['getMonth']()+0x1,0x0);else{!document[_0xcceaf9(0x167)](_0xcceaf9(0x244))[_0xcceaf9(0x24b)]&&(document[_0xcceaf9(0x167)]('anStart')[_0xcceaf9(0x24b)]=getLocalDateStr(_0x11828b),document['getElementById'](_0xcceaf9(0x23b))['value']=getLocalDateStr(_0x11828b));refreshAnalytics();return;}}document['getElementById'](_0xcceaf9(0x244))[_0xcceaf9(0x24b)]=getLocalDateStr(_0x1e23e),document[_0xcceaf9(0x167)](_0xcceaf9(0x23b))['value']=getLocalDateStr(_0x1a1406),refreshAnalytics();}function refreshAnalytics(){const _0x56ed0c=a2_0x375a5d,_0x532317=document[_0x56ed0c(0x167)](_0x56ed0c(0x244))[_0x56ed0c(0x24b)],_0x347c91=document[_0x56ed0c(0x167)](_0x56ed0c(0x23b))['value'];if(!_0x532317||!_0x347c91)return;const _0x653ca5=sessions[_0x56ed0c(0x195)](_0x26c637=>_0x26c637[_0x56ed0c(0x120)]>=_0x532317&&_0x26c637[_0x56ed0c(0x120)]<=_0x347c91&&_0x26c637[_0x56ed0c(0x1b7)]!=='cancelled'),_0x50af29=_0x653ca5['length'],_0xab813d=_0x653ca5[_0x56ed0c(0x195)](_0x4744eb=>_0x4744eb[_0x56ed0c(0x1b7)]===_0x56ed0c(0x156))['length'],_0x10d0dc=_0x50af29>0x0?Math[_0x56ed0c(0x223)](_0xab813d/_0x50af29*0x64):0x0;document['getElementById'](_0x56ed0c(0x251))[_0x56ed0c(0x1ac)]=_0x10d0dc+'%',document['getElementById'](_0x56ed0c(0x1f4))[_0x56ed0c(0x1ac)]=_0xab813d+'\x20–∏–∑\x20'+_0x50af29+_0x56ed0c(0x22e);const _0x117c49=document[_0x56ed0c(0x167)]('anDonutCircle'),_0x717236=0x2*Math['PI']*0x23,_0x56a25d=_0x717236-_0x10d0dc/0x64*_0x717236;_0x117c49[_0x56ed0c(0x233)][_0x56ed0c(0x175)]=_0x56a25d;const _0xc82766={};_0x653ca5[_0x56ed0c(0x215)](_0x1ef2b6=>{const _0x15983c=_0x56ed0c;if(!_0xc82766[_0x1ef2b6[_0x15983c(0x1c3)]]){const _0x272c44=clients['find'](_0x354b53=>_0x354b53['name']===_0x1ef2b6[_0x15983c(0x1c3)]);_0xc82766[_0x1ef2b6[_0x15983c(0x1c3)]]={'total':0x0,'done':0x0,'color':_0x272c44?_0x272c44[_0x15983c(0x1c5)]:_0x15983c(0x1bd)};}_0xc82766[_0x1ef2b6[_0x15983c(0x1c3)]][_0x15983c(0x11f)]++;if(_0x1ef2b6[_0x15983c(0x1b7)]==='completed')_0xc82766[_0x1ef2b6['client']][_0x15983c(0x19f)]++;});const _0x1002ac=document[_0x56ed0c(0x167)](_0x56ed0c(0x1da));_0x1002ac[_0x56ed0c(0x1a0)]='';const _0x22229c=Object[_0x56ed0c(0x258)](_0xc82766)['sort']((_0x2b5bbd,_0x567998)=>_0x567998[0x1][_0x56ed0c(0x11f)]-_0x2b5bbd[0x1][_0x56ed0c(0x11f)]);if(_0x22229c[_0x56ed0c(0x1d6)]===0x0){_0x1002ac[_0x56ed0c(0x1a0)]=_0x56ed0c(0x13a);return;}_0x22229c['forEach'](([_0x37647b,_0xfb30bb])=>{const _0x4b16b4=_0x56ed0c,_0x248333=Math['round'](_0xfb30bb[_0x4b16b4(0x19f)]/_0xfb30bb['total']*0x64),_0x15e43a=document['createElement'](_0x4b16b4(0x1b0));_0x15e43a[_0x4b16b4(0x165)]=_0x4b16b4(0x22b),_0x15e43a['style'][_0x4b16b4(0x1fd)]=_0xfb30bb[_0x4b16b4(0x1c5)],_0x15e43a[_0x4b16b4(0x1a0)]=_0x4b16b4(0x1c2)+_0x37647b+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0xfb30bb[_0x4b16b4(0x19f)]+_0x4b16b4(0x177)+_0xfb30bb[_0x4b16b4(0x11f)]+_0x4b16b4(0x19e)+_0x248333+_0x4b16b4(0xdb),_0x1002ac[_0x4b16b4(0xfd)](_0x15e43a);});}function formatMinsToHrs(_0x1b9d47){const _0x5eaa02=a2_0x375a5d;if(_0x1b9d47===0x0)return'0';const _0x98af74=Math[_0x5eaa02(0x261)](_0x1b9d47/0x3c),_0x281631=_0x1b9d47%0x3c;if(_0x281631===0x0)return _0x98af74+'—á';return _0x98af74+'—á\x20'+_0x281631+'–º';}