const a2_0x34ca0a=a2_0x4c71;(function(_0x533588,_0x35aa3){const _0x2e81f1=a2_0x4c71,_0x19b1b0=_0x533588();while(!![]){try{const _0x2db544=-parseInt(_0x2e81f1(0x1de))/0x1*(-parseInt(_0x2e81f1(0x27e))/0x2)+-parseInt(_0x2e81f1(0x263))/0x3*(-parseInt(_0x2e81f1(0x116))/0x4)+-parseInt(_0x2e81f1(0x203))/0x5+-parseInt(_0x2e81f1(0x265))/0x6*(-parseInt(_0x2e81f1(0x27d))/0x7)+parseInt(_0x2e81f1(0x1b7))/0x8*(parseInt(_0x2e81f1(0x253))/0x9)+parseInt(_0x2e81f1(0x157))/0xa+-parseInt(_0x2e81f1(0x1f7))/0xb;if(_0x2db544===_0x35aa3)break;else _0x19b1b0['push'](_0x19b1b0['shift']());}catch(_0x1c2b23){_0x19b1b0['push'](_0x19b1b0['shift']());}}}(a2_0x39eb,0x3a30f),function initTMA(){const _0x21011d=a2_0x4c71,_0x4b366f=(function(){let _0x5353f1=!![];return function(_0x3a3f56,_0x1c9a5c){const _0x4ffe01=_0x5353f1?function(){const _0x4b69c7=a2_0x4c71;if(_0x1c9a5c){const _0x403870=_0x1c9a5c[_0x4b69c7(0x240)](_0x3a3f56,arguments);return _0x1c9a5c=null,_0x403870;}}:function(){};return _0x5353f1=![],_0x4ffe01;};}()),_0x34e68a=_0x4b366f(this,function(){const _0x24600a=a2_0x4c71;return _0x34e68a[_0x24600a(0x26c)]()[_0x24600a(0x26f)]('(((.+)+)+)+$')[_0x24600a(0x26c)]()[_0x24600a(0x194)](_0x34e68a)[_0x24600a(0x26f)](_0x24600a(0x24c));});_0x34e68a();try{const _0x378860=window[_0x21011d(0x13b)]?.['WebApp'];if(!_0x378860)return;_0x378860[_0x21011d(0x19d)](),_0x378860[_0x21011d(0x10d)]();try{_0x378860[_0x21011d(0x208)]('#050505'),_0x378860[_0x21011d(0x182)]&&_0x378860[_0x21011d(0x182)](_0x21011d(0x1ee));}catch(_0x5cc6c2){console[_0x21011d(0x247)](_0x21011d(0x1e2),_0x5cc6c2);}try{_0x378860[_0x21011d(0x103)]&&(_0x378860[_0x21011d(0x103)][_0x21011d(0x101)](),_0x378860[_0x21011d(0x103)]['offClick'](),_0x378860['BackButton'][_0x21011d(0x18b)](function(){const _0x9d7c5a=_0x21011d;window[_0x9d7c5a(0x205)][_0x9d7c5a(0x10c)]=_0x9d7c5a(0x13d);}));}catch(_0xaf1ca4){console[_0x21011d(0x247)](_0x21011d(0x1b8),_0xaf1ca4);}try{if(_0x378860[_0x21011d(0xf7)])_0x378860[_0x21011d(0xf7)]();}catch(_0x45a008){}}catch(_0x5b2901){console[_0x21011d(0x271)](_0x21011d(0xfb),_0x5b2901);}}());function isAdmin(){const _0x354b6e=a2_0x4c71;try{const _0xba6721=Number(window[_0x354b6e(0x13b)]?.[_0x354b6e(0x144)]?.[_0x354b6e(0x172)]?.[_0x354b6e(0x150)]?.['id']);return _0xba6721===0xbaf7174;}catch(_0x62a59c){return![];}}function a2_0x39eb(){const _0x43ccf0=['mousemove','clients','display','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','Local\x20Load\x20Error','touches','createDocumentFragment','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','getAttribute','getHours','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','save_settings',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','mergeServerData','rgba(48,\x20209,\x2088,\x200.15)','toast-notification\x20','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','asBtnSeries','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','[Settings]\x20Cancel\x20window\x20set\x20to:','complete','fetchFromServer','batch_sync','Telegram','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','router.html','week','%\x20+\x202px)','</span>\x20/\x20','loadLocal','cancel','keys','WebApp','stringify','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','.event-card','save','gridColumns','toastMessage','doDateHeader','borderLeftColor','recurringOptionContainer','data-day-idx','[Notify]\x20Client\x20SWAP\x20detected','user','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','10px\x2010px\x200\x200','block','rgba(100,100,100,0.5)','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','...','1828340gDmGWz','rangeStartDate','valid','asTitle','start','split','delete','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','rgba(','text','calendar','querySelectorAll','getItem','onclick','setItem','dayOptionsSheet','parse','getTime','now','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','scrollLeft','getElementById','overlay','T23:59:59','actionSheetOverlay','flex','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','initDataUnsafe','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','data-date','#0a84ff','10px','name','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','total','client','rangesSheet','rgba(255,255,255,0.05)','clientY','completed','cancel_window','v9.0-BATCH-CALENDAR','</div><div\x20class=\x22ev-time\x22>','setBackgroundColor','px\x200px','dateStr','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','de-item','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','msg','pe-cell\x20','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','onClick','rgba(255,\x2069,\x2058,\x200.15)','Save\x20settings\x20error:','mousedown','scrollWidth','from','ranges','push','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','constructor','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>',':00</span>','time-label','globalTimeLine','uc_settings_v9','[API\x20','catch','toast','ready','rgba(255,\x2069,\x2058,\x200.3)','header-','exceptions','anDonutCircle','DOMContentLoaded','series','sessionSheet','anPercent','done','getDate','patternEditor','end','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','custom','option','settings','anStart','uc_sessions_v9','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','setHours','\x20status-completed','mouseup','.period-switch\x20.p-btn','16NvBKQj','Error\x20setting\x20back\x20button:','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','splice','all','guest','scrollTop','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','borderRadius','analyticsList','none','pe-time-label','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','anCustomDates','style','length','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','timeColumn','value','clientWidth','startsWith','sheetDateSubtitle','find','toUpperCase','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','blocked-range-part\x20stripe-bg','min','<div\x20class=\x22ev-title\x22>','#fff','touchmove','substr','top','day-col-header\x20','scroll','innerHTML','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','[Sync]\x20Loading\x20','4995vGaDZq','querySelector','btnDayToggle','long','Error\x20setting\x20color:','00:00','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','colIndex','status','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','rangeEndTime','create','pe-col-header','getDay','#gridColumns\x20.day-column','#050505','cancelled','open','send_notification','inpSeriesCount','asBtnOne','charAt','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','appendChild','10195790GlEVyF','clientId','offsetLeft','includes','</div><div\x20class=\x22dch-num\x22>','\x20-\x20','color','doBusyHours','settingCancelWindow','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','seriesId','1515485TPVBym','null','location','entries','planned','setHeaderColor','getMinutes','undefined','analyticsSheet','.dch-stats-fill',':00','then','active','var(--acc-current)','className','div','btn-primary\x20btn-danger','data','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','[Notify]\x20Error:\x20sessionData\x20is\x20null',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','.sheet','–£–¥–∞–ª–µ–Ω–∏–µ','strokeDashoffset','warn','map','getFullYear','inpDate','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','100%','inpStart','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','initData','btnDelete','setAttribute','</b>\x0a\x0a','pattern','saveLocally','.day-col-header','actionSheet','toFixed','btnStatusToggle','toLocaleDateString','\x20days','success','inpClient','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','zIndex','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','–ò–Ω—Ñ–æ','sid','forEach','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','[Series]\x20Skipped\x20','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','max','rgba(255,\x20159,\x2010,\x200.3)','off','getBoundingClientRect','round','apply','\x20‚Äî\x20',']\x20Failed:','height','day-column\x20','seriesCountContainer','patternInfoBox','log','.day-off-overlay','dayOptionsTitle','classList','rangeEndDate','(((.+)+)+)+$','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','uc_clients_v9','init_load','slice','rangeStartTime','var(--acc-green)','1518903vqSLig','doLoadPercent','anEnd','update','left','backgroundPosition','indexOf','target','inpRecurring','background','ru-RU','setDate','daysHeaderTrack','range-item','.day-column','inpEnd','1195773JPzOgl','px\x20-','958614sxpJuJ','floor','numeric','add','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','–£—Å–ø–µ—à–Ω–æ','width','toString','calc(','textContent','search','stopPropagation','error','filter','today','setMonth','blocked-slot\x20stripe-bg','mini','toastTitle','offsetWidth','Unknown','var(--acc-red)','single','anTotalStats','7QNrxMO','156PakQBQ','peGrid','day-off-overlay\x20stripe-bg','Local\x20Save\x20Error','headerMonth','addEventListener','pe-corner','sort','<b>‚úÖ\x20','getMonth','[Notify]\x20Error:\x20Text\x20generation\x20failed','month','disableVerticalSwipes',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','T00:00:00','btn-status-toggle\x20undo-mode','Critical\x20TMA\x20Error:','send','padStart','as-button\x20danger\x20bold','doWorkHours','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','show','rangesList','BackButton','inpNote','note','json','matrixViewport','isArray','sheetTitle','[Notify]\x20Network\x20Failed','insertBefore','href','expand','checked','event-card','remove','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','client-stat-card','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','as-button\x20danger','text/plain;charset=UTF-8','4ZPwvdW','uc_settings_cancel_window','touchstart','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','[Notify]\x20Server\x20Response:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','btn-status-toggle','warning','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','createElement'];a2_0x39eb=function(){return _0x43ccf0;};return a2_0x39eb();}const APP_VERSION=a2_0x34ca0a(0x180),API_URL=a2_0x34ca0a(0x15e),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x34ca0a(0x24e),KEY_SESSIONS=a2_0x34ca0a(0x1af),KEY_SETTINGS=a2_0x34ca0a(0x199);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x18d245=a2_0x34ca0a;return window[_0x18d245(0x13b)]?.[_0x18d245(0x144)]?.['initDataUnsafe']?.['user']?.['id']||_0x18d245(0x1bd);},'saveLocally'(){const _0x4bd83a=a2_0x34ca0a;try{localStorage[_0x4bd83a(0x165)](KEY_CLIENTS,JSON[_0x4bd83a(0x145)](clients)),localStorage[_0x4bd83a(0x165)](KEY_SESSIONS,JSON[_0x4bd83a(0x145)](sessions)),localStorage[_0x4bd83a(0x165)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0xc9bd02){console[_0x4bd83a(0x271)](_0x4bd83a(0x281),_0xc9bd02);}},'loadLocal'(){const _0xefa702=a2_0x34ca0a;try{const _0x1e1568=localStorage[_0xefa702(0x163)](KEY_CLIENTS);if(_0x1e1568)clients=JSON[_0xefa702(0x167)](_0x1e1568);const _0x34f273=localStorage[_0xefa702(0x163)](KEY_SESSIONS);if(_0x34f273)sessions=JSON[_0xefa702(0x167)](_0x34f273);const _0x139d7a=localStorage['getItem'](KEY_SETTINGS);if(_0x139d7a){const _0x18a5db=JSON[_0xefa702(0x167)](_0x139d7a);if(_0x18a5db[_0xefa702(0x227)])availabilityPattern=_0x18a5db[_0xefa702(0x227)];if(_0x18a5db[_0xefa702(0x1a0)])dateExceptions=_0x18a5db[_0xefa702(0x1a0)];if(_0x18a5db[_0xefa702(0x191)])specialRanges=_0x18a5db[_0xefa702(0x191)];}else{for(let _0x209c6e=0x0;_0x209c6e<0x7;_0x209c6e++)availabilityPattern[_0x209c6e]=Array[_0xefa702(0x190)]({'length':0xc},(_0x5f41d1,_0xe63e41)=>_0xe63e41+0x9);}}catch(_0x2a7574){console['error'](_0xefa702(0x125),_0x2a7574);}},async 'fetchFromServer'(_0x371ede,_0xec9ab6={}){const _0x4d2570=a2_0x34ca0a,_0x195406=window['Telegram']?.[_0x4d2570(0x144)],_0x27f777={'action':_0x371ede,'init_data':_0x195406?.[_0x4d2570(0x223)]||'',..._0xec9ab6};try{const _0x199c63=await fetch(API_URL,{'method':'POST','headers':{'Content-Type':_0x4d2570(0x115)},'body':JSON[_0x4d2570(0x145)](_0x27f777)}),_0x3dba20=await _0x199c63[_0x4d2570(0x106)]();if(!_0x3dba20['ok'])throw new Error(_0x3dba20[_0x4d2570(0x271)]||'Server\x20Error');return _0x3dba20[_0x4d2570(0x214)];}catch(_0x3041d8){console[_0x4d2570(0x271)](_0x4d2570(0x19a)+_0x371ede+_0x4d2570(0x242),_0x3041d8);throw _0x3041d8;}},async 'syncLoad'(){const _0x47187c=a2_0x34ca0a,_0x2dbad4=new Date(),_0x474b2b=_0x2dbad4[_0x47187c(0x21d)]()+'-'+String(_0x2dbad4[_0x47187c(0xf4)]()+0x1)[_0x47187c(0xfd)](0x2,'0'),_0x4ba722=new Date(_0x2dbad4);_0x4ba722[_0x47187c(0x274)](_0x2dbad4[_0x47187c(0xf4)]()+0x1);const _0x56ac3b=_0x4ba722[_0x47187c(0x21d)]()+'-'+String(_0x4ba722[_0x47187c(0xf4)]()+0x1)[_0x47187c(0xfd)](0x2,'0'),_0x3c6af7=Date['now']();console[_0x47187c(0x247)](_0x47187c(0x1dd)+_0x474b2b+',\x20'+_0x56ac3b+_0x47187c(0x156));try{const [_0x5c8b2f,_0x3b701d]=await Promise[_0x47187c(0x1bc)]([this[_0x47187c(0x139)](_0x47187c(0x24f),{'month_str':_0x474b2b}),this[_0x47187c(0x139)]('init_load',{'month_str':_0x56ac3b})]);if(lastUserActionTime>_0x3c6af7)return console['warn'](_0x47187c(0x1f5)),![];return this[_0x47187c(0x12f)](_0x5c8b2f,_0x474b2b),this[_0x47187c(0x12f)](_0x3b701d,_0x56ac3b),this[_0x47187c(0x228)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x17327f){console[_0x47187c(0x271)](_0x17327f);throw _0x17327f;}},'mergeServerData'(_0x1b0d7d,_0xf4e387){const _0x3e742e=a2_0x34ca0a;if(!_0x1b0d7d)return;_0x1b0d7d['clients']&&Array[_0x3e742e(0x108)](_0x1b0d7d[_0x3e742e(0x122)])&&(clients=_0x1b0d7d[_0x3e742e(0x122)]);if(_0x1b0d7d['settings']){if(_0x1b0d7d[_0x3e742e(0x1ad)][_0x3e742e(0x227)])availabilityPattern=_0x1b0d7d[_0x3e742e(0x1ad)][_0x3e742e(0x227)];if(_0x1b0d7d[_0x3e742e(0x1ad)][_0x3e742e(0x1a0)])dateExceptions=_0x1b0d7d[_0x3e742e(0x1ad)][_0x3e742e(0x1a0)];if(_0x1b0d7d['settings'][_0x3e742e(0x191)])specialRanges=_0x1b0d7d[_0x3e742e(0x1ad)]['ranges'];if(_0x1b0d7d[_0x3e742e(0x1ad)][_0x3e742e(0x17f)]){localStorage[_0x3e742e(0x165)](_0x3e742e(0x117),_0x1b0d7d['settings'][_0x3e742e(0x17f)]);const _0x38a2bb=document[_0x3e742e(0x16c)](_0x3e742e(0x1ff));if(_0x38a2bb)_0x38a2bb[_0x3e742e(0x1ca)]=_0x1b0d7d['settings'][_0x3e742e(0x17f)];}}_0x1b0d7d['calendar']&&(sessions=sessions[_0x3e742e(0x272)](_0x1e5306=>!_0x1e5306[_0x3e742e(0x184)][_0x3e742e(0x1cc)](_0xf4e387)),Object[_0x3e742e(0x143)](_0x1b0d7d[_0x3e742e(0x161)])[_0x3e742e(0x236)](_0x2bd1b6=>{const _0x7acf2f=_0x3e742e,_0x2fcf28=_0x1b0d7d[_0x7acf2f(0x161)][_0x2bd1b6];_0x2fcf28['forEach'](_0x334a4a=>{const _0x135ee9=_0x7acf2f,_0xa555b2=clients[_0x135ee9(0x1ce)](_0x4f2d94=>String(_0x4f2d94['id'])===String(_0x334a4a['c']));sessions[_0x135ee9(0x192)]({'id':_0x334a4a['i'],'clientId':_0x334a4a['c'],'client':_0xa555b2?_0xa555b2[_0x135ee9(0x177)]:_0x135ee9(0x279),'dateStr':_0xf4e387+'-'+_0x2bd1b6[_0x135ee9(0xfd)](0x2,'0'),'start':_0x334a4a['s'],'end':_0x334a4a['e'],'status':_0x334a4a['st']||_0x135ee9(0x207),'note':_0x334a4a['n']||'','seriesId':_0x334a4a[_0x135ee9(0x235)]||null});});}));},async 'syncBatch'(_0x58442d){const _0x30d1ac=a2_0x34ca0a,_0xe98651=[...new Set(_0x58442d)],_0x538f63=_0xe98651[_0x30d1ac(0x21c)](_0x4a27f6=>{const _0x5ab2fa=_0x30d1ac,_0x565fcb=sessions['filter'](_0x51dbee=>_0x51dbee[_0x5ab2fa(0x184)]===_0x4a27f6&&_0x51dbee[_0x5ab2fa(0x1e7)]!=='deleted'),_0x396571=_0x565fcb[_0x5ab2fa(0x21c)](_0x3829c6=>({'i':_0x3829c6['id'],'c':_0x3829c6[_0x5ab2fa(0x1f8)],'s':_0x3829c6[_0x5ab2fa(0x15b)],'e':_0x3829c6[_0x5ab2fa(0x1a9)],'st':_0x3829c6[_0x5ab2fa(0x1e7)],'n':_0x3829c6[_0x5ab2fa(0x105)],'sid':_0x3829c6['seriesId']}));return{'date':_0x4a27f6,'day_data':_0x396571};});if(_0x538f63[_0x30d1ac(0x1c7)]===0x0)return;console[_0x30d1ac(0x247)](_0x30d1ac(0x233)+_0x538f63[_0x30d1ac(0x1c7)]+_0x30d1ac(0x22e)),await this[_0x30d1ac(0x139)](_0x30d1ac(0x13a),{'changes':_0x538f63});}};async function init(){const _0x280c9f=a2_0x34ca0a;DataManager[_0x280c9f(0x141)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x280c9f(0x16c)](_0x280c9f(0x107))[_0x280c9f(0x283)](_0x280c9f(0x1da),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']()[_0x280c9f(0x20e)](()=>{const _0x53bf7e=_0x280c9f;showToast(_0x53bf7e(0x134),!![]);})[_0x280c9f(0x19b)](_0x3b22d5=>{const _0xb91b6f=_0x280c9f;showToast(_0xb91b6f(0x222),![]);});}function generateId(){const _0x5ed537=a2_0x34ca0a;return Date[_0x5ed537(0x169)]()[_0x5ed537(0x26c)](0x24)+Math['random']()[_0x5ed537(0x26c)](0x24)[_0x5ed537(0x1d7)](0x2,0x5);}function toggleSeriesInput(){const _0x42aae2=a2_0x34ca0a,_0x3e8c3d=document['getElementById'](_0x42aae2(0x25b))[_0x42aae2(0x10e)],_0x4866a9=document[_0x42aae2(0x16c)](_0x42aae2(0x245));_0x4866a9[_0x42aae2(0x1c6)]['display']=_0x3e8c3d?_0x42aae2(0x153):'none';const _0x399109=document[_0x42aae2(0x16c)]('recurringOptionContainer');_0x399109['style']['borderRadius']=_0x3e8c3d?_0x42aae2(0x152):_0x42aae2(0x176);}function openAddSession(_0x1fe31f){const _0x3ca9a5=a2_0x34ca0a;editingId=null,populateClientSelect(),document['getElementById'](_0x3ca9a5(0x109))[_0x3ca9a5(0x26e)]=_0x3ca9a5(0x16a),document[_0x3ca9a5(0x16c)](_0x3ca9a5(0x224))['style']['display']=_0x3ca9a5(0x1c2),document['getElementById'](_0x3ca9a5(0x22c))[_0x3ca9a5(0x1c6)][_0x3ca9a5(0x123)]=_0x3ca9a5(0x1c2);const _0x35615c=document[_0x3ca9a5(0x16c)](_0x3ca9a5(0x14d)),_0x5f42b0=document['getElementById'](_0x3ca9a5(0x245));_0x35615c['style']['display']=_0x3ca9a5(0x170),_0x35615c[_0x3ca9a5(0x1c6)][_0x3ca9a5(0x1c0)]=_0x3ca9a5(0x176),document[_0x3ca9a5(0x16c)](_0x3ca9a5(0x25b))['checked']=![],document[_0x3ca9a5(0x16c)](_0x3ca9a5(0x1f2))[_0x3ca9a5(0x1ca)]=0x4,_0x5f42b0[_0x3ca9a5(0x1c6)][_0x3ca9a5(0x123)]=_0x3ca9a5(0x1c2),document[_0x3ca9a5(0x16c)](_0x3ca9a5(0x21e))[_0x3ca9a5(0x1ca)]=getLocalDateStr(_0x1fe31f),updateDateDisplay();const _0x268a51=_0x1fe31f['getHours']();document[_0x3ca9a5(0x16c)](_0x3ca9a5(0x221))[_0x3ca9a5(0x1ca)]=String(_0x268a51)['padStart'](0x2,'0')+_0x3ca9a5(0x20d),document[_0x3ca9a5(0x16c)](_0x3ca9a5(0x262))['value']=String(_0x268a51+0x1)['padStart'](0x2,'0')+_0x3ca9a5(0x20d),openSheet(_0x3ca9a5(0x1a4));}function openEdit(_0x4ea951){const _0x500dfc=a2_0x34ca0a;editingId=_0x4ea951['id'],populateClientSelect(),document[_0x500dfc(0x16c)](_0x500dfc(0x109))['textContent']=_0x500dfc(0x1e4),document[_0x500dfc(0x16c)]('btnDelete')[_0x500dfc(0x1c6)][_0x500dfc(0x123)]='block';const _0x446052=document[_0x500dfc(0x16c)](_0x500dfc(0x22c));_0x446052[_0x500dfc(0x1c6)][_0x500dfc(0x123)]=_0x500dfc(0x170);_0x4ea951[_0x500dfc(0x1e7)]===_0x500dfc(0x17e)?(_0x446052['className']=_0x500dfc(0xfa),_0x446052[_0x500dfc(0x1db)]=_0x500dfc(0x171)):(_0x446052[_0x500dfc(0x211)]=_0x500dfc(0x11d),_0x446052[_0x500dfc(0x1db)]='<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É');const _0x493b1f=!!_0x4ea951['seriesId'];document[_0x500dfc(0x16c)](_0x500dfc(0x14d))[_0x500dfc(0x1c6)][_0x500dfc(0x123)]=_0x500dfc(0x1c2),document[_0x500dfc(0x16c)]('seriesCountContainer')[_0x500dfc(0x1c6)][_0x500dfc(0x123)]=_0x500dfc(0x1c2),_0x493b1f?(document[_0x500dfc(0x16c)](_0x500dfc(0x246))['style'][_0x500dfc(0x123)]=_0x500dfc(0x170),document[_0x500dfc(0x16c)]('patternInfoBox')[_0x500dfc(0x1df)]('.pib-text')[_0x500dfc(0x26e)]=_0x500dfc(0x113)):document[_0x500dfc(0x16c)](_0x500dfc(0x246))[_0x500dfc(0x1c6)][_0x500dfc(0x123)]='none',document[_0x500dfc(0x16c)](_0x500dfc(0x230))['value']=_0x4ea951[_0x500dfc(0x17a)],document[_0x500dfc(0x16c)]('inpDate')['value']=_0x4ea951[_0x500dfc(0x184)],document['getElementById'](_0x500dfc(0x221))[_0x500dfc(0x1ca)]=_0x4ea951[_0x500dfc(0x15b)],document[_0x500dfc(0x16c)](_0x500dfc(0x262))['value']=_0x4ea951['end'],document[_0x500dfc(0x16c)](_0x500dfc(0x104))[_0x500dfc(0x1ca)]=_0x4ea951[_0x500dfc(0x105)]||'',updateDateDisplay(),openSheet(_0x500dfc(0x1a4));}async function trySaveSession(){const _0x4a1a4d=a2_0x34ca0a,_0x513f2d=document['getElementById'](_0x4a1a4d(0x230))[_0x4a1a4d(0x1ca)],_0x47c89b=document['getElementById'](_0x4a1a4d(0x21e))[_0x4a1a4d(0x1ca)],_0x5f4f5c=document['getElementById']('inpStart')[_0x4a1a4d(0x1ca)],_0x3711cc=document[_0x4a1a4d(0x16c)]('inpEnd')['value'],_0x17e7f5=document[_0x4a1a4d(0x16c)]('inpNote')[_0x4a1a4d(0x1ca)],_0x4c6a10=document[_0x4a1a4d(0x16c)](_0x4a1a4d(0x25b))[_0x4a1a4d(0x10e)];let _0x24c97c=0x4;if(_0x4c6a10){const _0x506f6b=parseInt(document['getElementById'](_0x4a1a4d(0x1f2))[_0x4a1a4d(0x1ca)]);if(!_0x506f6b||_0x506f6b<0x2){showToast(_0x4a1a4d(0x11f),![]);return;}if(_0x506f6b>0x64){showToast(_0x4a1a4d(0x13c),![]);return;}_0x24c97c=_0x506f6b;}const _0x4c6f7b=clients[_0x4a1a4d(0x1ce)](_0x116a6f=>_0x116a6f['name']===_0x513f2d);if(!_0x4c6f7b){showToast(_0x4a1a4d(0x1aa),![]);return;}const _0xd7c97b=validateAppointment(_0x47c89b,_0x5f4f5c,_0x3711cc,editingId,_0x4c6f7b['id']);if(!_0xd7c97b[_0x4a1a4d(0x159)]){showToast(_0xd7c97b[_0x4a1a4d(0x188)],![]);return;}_0xd7c97b[_0x4a1a4d(0x11e)]&&showToast(_0xd7c97b[_0x4a1a4d(0x11e)],![]);const _0x21566c={'client':_0x513f2d,'clientId':_0x4c6f7b['id'],'start':_0x5f4f5c,'end':_0x3711cc,'note':_0x17e7f5,'status':_0x4a1a4d(0x207)},_0x1f8c11=editingId?sessions[_0x4a1a4d(0x1ce)](_0xef5733=>_0xef5733['id']===editingId):null;if(_0x1f8c11&&_0x1f8c11[_0x4a1a4d(0x202)]){tempSessionData={..._0x21566c,'dateStr':_0x47c89b,'id':editingId,'seriesId':_0x1f8c11[_0x4a1a4d(0x202)]},openActionSheet(_0x4a1a4d(0x148));return;}let _0x5a21cb=null;if(!editingId)_0x5a21cb=_0x4a1a4d(0x1ea);else{if(_0x1f8c11){if(String(_0x1f8c11[_0x4a1a4d(0x1f8)])!==String(_0x4c6f7b['id']))console[_0x4a1a4d(0x247)](_0x4a1a4d(0x14f)),NotificationManager[_0x4a1a4d(0xfc)]('cancel',_0x1f8c11),_0x5a21cb=_0x4a1a4d(0x1ea);else(_0x1f8c11['start']!==_0x5f4f5c||_0x1f8c11[_0x4a1a4d(0x1a9)]!==_0x3711cc||_0x1f8c11['dateStr']!==_0x47c89b)&&(_0x5a21cb=_0x4a1a4d(0x256));}}if(!editingId&&_0x4c6a10){createBatchSeries(_0x21566c,_0x47c89b,_0x24c97c),NotificationManager[_0x4a1a4d(0xfc)](_0x4a1a4d(0x1ea),{..._0x21566c,'dateStr':_0x47c89b});return;}lastUserActionTime=Date[_0x4a1a4d(0x169)]();const _0x2d78fd={..._0x21566c,'dateStr':_0x47c89b,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x2d78fd),_0x5a21cb&&NotificationManager[_0x4a1a4d(0xfc)](_0x5a21cb,_0x2d78fd);}function toggleSessionStatus(){const _0x5db51f=a2_0x34ca0a;lastUserActionTime=Date['now']();const _0x3a2634=sessions[_0x5db51f(0x1ce)](_0x47460c=>_0x47460c['id']===editingId);if(!_0x3a2634)return;const _0x4bf962=_0x3a2634['status']==='completed'?'planned':'completed';_0x3a2634['status']=_0x4bf962,saveSingleSession(_0x3a2634),_0x4bf962===_0x5db51f(0x17e)&&NotificationManager[_0x5db51f(0xfc)](_0x5db51f(0x138),_0x3a2634),showToast(_0x4bf962===_0x5db51f(0x17e)?'–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞':_0x5db51f(0x132),!![]);}function validateAppointment(_0x258074,_0x2aad49,_0x55a9a1,_0x3e9e54,_0x421bfa){const _0x2f3568=a2_0x34ca0a,[_0x4621aa,_0x4779b4]=_0x2aad49[_0x2f3568(0x15c)](':')[_0x2f3568(0x21c)](Number),[_0x2e0356,_0x3f3a21]=_0x55a9a1[_0x2f3568(0x15c)](':')['map'](Number),_0x1be632=_0x4621aa*0x3c+_0x4779b4,_0x1e4634=_0x2e0356*0x3c+_0x3f3a21,_0x206ad0=String(_0x421bfa);let _0x24b900=![],_0x3a806d='';for(let _0x584488 of sessions){if(_0x584488[_0x2f3568(0x184)]!==_0x258074)continue;if(_0x584488[_0x2f3568(0x1e7)]===_0x2f3568(0x1ef))continue;if(_0x3e9e54&&String(_0x584488['id'])===String(_0x3e9e54))continue;const [_0x3a3dae,_0x46e7b4]=_0x584488[_0x2f3568(0x15b)]['split'](':')[_0x2f3568(0x21c)](Number),[_0x54085f,_0xbf2ef9]=_0x584488[_0x2f3568(0x1a9)][_0x2f3568(0x15c)](':')['map'](Number),_0x22f32a=_0x3a3dae*0x3c+_0x46e7b4,_0x370b0f=_0x54085f*0x3c+_0xbf2ef9;if(Math[_0x2f3568(0x23b)](_0x1be632,_0x22f32a)<Math[_0x2f3568(0x1d3)](_0x1e4634,_0x370b0f)){if(_0x584488[_0x2f3568(0x1f8)]&&String(_0x584488['clientId'])===_0x206ad0)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0x584488[_0x2f3568(0x17a)]+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x24b900=!![],_0x3a806d=_0x584488[_0x2f3568(0x17a)];}}if(_0x24b900)return{'valid':!![],'warning':_0x2f3568(0x151)+_0x3a806d};return{'valid':!![]};}function saveSingleSession(_0x190917){const _0x39039d=a2_0x34ca0a;if(editingId){const _0x5dfe32=sessions['findIndex'](_0x9412ba=>_0x9412ba['id']===editingId);if(_0x5dfe32!==-0x1)sessions[_0x5dfe32]=_0x190917;}else sessions[_0x39039d(0x192)](_0x190917);afterSaveAction([_0x190917[_0x39039d(0x184)]]);}function createBatchSeries(_0x5c0fdc,_0x3020b6,_0x2ede67){const _0x288695=a2_0x34ca0a,_0x18898f=generateId(),_0x52b48d=[],_0xdfa1b5=[];let _0x195c20=0x0,_0x16b540=new Date(_0x3020b6);for(let _0x3ecea1=0x0;_0x3ecea1<_0x2ede67;_0x3ecea1++){const _0xeca901=getLocalDateStr(_0x16b540),_0x38350f=validateAppointment(_0xeca901,_0x5c0fdc[_0x288695(0x15b)],_0x5c0fdc[_0x288695(0x1a9)],null,_0x5c0fdc[_0x288695(0x1f8)]);if(!_0x38350f[_0x288695(0x159)])console[_0x288695(0x247)](_0x288695(0x238)+_0xeca901+':\x20Client\x20already\x20booked'),_0x195c20++;else{const _0x30e219={..._0x5c0fdc,'id':generateId(),'dateStr':_0xeca901,'seriesId':_0x18898f};_0xdfa1b5[_0x288695(0x192)](_0x30e219),_0x52b48d[_0x288695(0x192)](_0xeca901);}_0x16b540[_0x288695(0x25e)](_0x16b540[_0x288695(0x1a7)]()+0x7);}if(_0xdfa1b5[_0x288695(0x1c7)]===0x0){showToast(_0x288695(0x1c8),![]);return;}sessions[_0x288695(0x192)](..._0xdfa1b5),lastUserActionTime=Date['now']();let _0x16565a=_0x288695(0x12c)+_0xdfa1b5['length'];_0x195c20>0x0&&(_0x16565a+=_0x288695(0x124)+_0x195c20+')'),showToast(_0x16565a,!![]),afterSaveAction(_0x52b48d);}function updateSeriesBatch(_0x4ce567,_0x1807e6){const _0x3344e4=a2_0x34ca0a,_0x224a5c=[],_0x6b8baf=_0x1807e6[_0x3344e4(0x202)];if(_0x4ce567==='single'){const _0x50be71={..._0x1807e6,'seriesId':null},_0x107afb=sessions['findIndex'](_0x18ca28=>_0x18ca28['id']===_0x1807e6['id']);if(_0x107afb!==-0x1)sessions[_0x107afb]=_0x50be71;_0x224a5c['push'](_0x50be71['dateStr']);}else{if(_0x4ce567===_0x3344e4(0x1a3)){const _0x2c7f23=_0x1807e6[_0x3344e4(0x184)];sessions['forEach']((_0x2ac3a9,_0x40c99a)=>{const _0x1e154f=_0x3344e4;_0x2ac3a9['seriesId']===_0x6b8baf&&_0x2ac3a9[_0x1e154f(0x184)]>=_0x2c7f23&&(sessions[_0x40c99a]={...sessions[_0x40c99a],'start':_0x1807e6['start'],'end':_0x1807e6[_0x1e154f(0x1a9)],'note':_0x1807e6['note'],'client':_0x1807e6[_0x1e154f(0x17a)],'clientId':_0x1807e6[_0x1e154f(0x1f8)]},_0x224a5c['push'](_0x2ac3a9[_0x1e154f(0x184)]));});}}afterSaveAction(_0x224a5c);}function tryDeleteSession(){const _0x32344f=a2_0x34ca0a,_0x346573=sessions[_0x32344f(0x1ce)](_0x3a481a=>_0x3a481a['id']===editingId);if(!_0x346573)return;_0x346573[_0x32344f(0x202)]?openActionSheet(_0x32344f(0x15d)):commitDelete('single',_0x346573);}function commitDelete(_0x26b76c,_0x3dd58e){const _0x572500=a2_0x34ca0a;lastUserActionTime=Date[_0x572500(0x169)](),NotificationManager[_0x572500(0xfc)](_0x572500(0x142),_0x3dd58e);const _0x2c4158=[];if(_0x26b76c==='single')sessions=sessions[_0x572500(0x272)](_0x403293=>_0x403293['id']!==_0x3dd58e['id']),_0x2c4158[_0x572500(0x192)](_0x3dd58e[_0x572500(0x184)]);else{if(_0x26b76c===_0x572500(0x1a3)){const _0x58a031=_0x3dd58e['dateStr'],_0x46ae7f=_0x3dd58e['seriesId'];sessions[_0x572500(0x236)](_0x3a06c9=>{const _0x1fb73e=_0x572500;_0x3a06c9[_0x1fb73e(0x202)]===_0x46ae7f&&_0x3a06c9[_0x1fb73e(0x184)]>=_0x58a031&&_0x2c4158['push'](_0x3a06c9[_0x1fb73e(0x184)]);}),sessions=sessions['filter'](_0x1780dc=>!(_0x1780dc[_0x572500(0x202)]===_0x46ae7f&&_0x1780dc[_0x572500(0x184)]>=_0x58a031));}}afterSaveAction(_0x2c4158);}function a2_0x4c71(_0x344588,_0x49efba){_0x344588=_0x344588-0xf4;const _0x14f6ad=a2_0x39eb();let _0x9de8ed=_0x14f6ad[_0x344588];return _0x9de8ed;}function afterSaveAction(_0x115daf){const _0x461244=a2_0x34ca0a;DataManager['saveLocally'](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager['syncBatch'](_0x115daf)['then'](()=>console[_0x461244(0x247)]('Batch\x20Sync\x20OK'))[_0x461244(0x19b)](_0x4bebb6=>showToast(_0x461244(0x178),![]));}const NotificationManager={'formatDate'(_0x41ba5e){const _0x3f20e7=a2_0x34ca0a,_0x4a99e8=new Date(_0x41ba5e),_0x58a4bc={'weekday':_0x3f20e7(0x1e1),'day':_0x3f20e7(0x267),'month':_0x3f20e7(0x1e1)};let _0x2555a3=_0x4a99e8['toLocaleDateString'](_0x3f20e7(0x25d),_0x58a4bc);return _0x2555a3['charAt'](0x0)['toUpperCase']()+_0x2555a3[_0x3f20e7(0x250)](0x1);},'getText'(_0x1aced2,_0x366a62){const _0x49b1c7=a2_0x34ca0a,_0x139038=this['formatDate'](_0x366a62[_0x49b1c7(0x184)]);switch(_0x1aced2){case _0x49b1c7(0x1ea):return'<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a'+(_0x49b1c7(0x136)+_0x139038+'\x0a')+(_0x49b1c7(0x193)+_0x366a62['start']+_0x49b1c7(0x241)+_0x366a62[_0x49b1c7(0x1a9)]+'\x0a\x0a')+'–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™';case _0x49b1c7(0x256):return _0x49b1c7(0x11a)+'–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a'+(_0x49b1c7(0x286)+_0x366a62['start']+_0x49b1c7(0x241)+_0x366a62[_0x49b1c7(0x1a9)]+_0x49b1c7(0x226))+(_0x49b1c7(0x136)+_0x139038);case _0x49b1c7(0x142):return'<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a'+(_0x49b1c7(0x18a)+_0x139038+'\x20('+_0x366a62['start']+_0x49b1c7(0x217));case _0x49b1c7(0x138):return _0x49b1c7(0x200)+'–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a'+_0x49b1c7(0x1b2);default:return'';}},async 'send'(_0x1e783c,_0x15012a){const _0x2d4308=a2_0x34ca0a;console['log']('[Notify]\x20Attempting\x20to\x20send:',_0x1e783c,_0x15012a);if(!_0x15012a){console[_0x2d4308(0x271)](_0x2d4308(0x216));return;}const _0x4c8267=String(_0x15012a['clientId']);console[_0x2d4308(0x247)]('[Notify]\x20Detected\x20Client\x20ID:',_0x4c8267);if(!_0x15012a[_0x2d4308(0x1f8)]||_0x4c8267===_0x2d4308(0x20a)||_0x4c8267===_0x2d4308(0x204)){console[_0x2d4308(0x271)]('[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!');if(_0x15012a['client']){const _0x2bc505=clients['find'](_0x26db43=>_0x26db43[_0x2d4308(0x177)]===_0x15012a[_0x2d4308(0x17a)]);if(_0x2bc505)return console[_0x2d4308(0x247)](_0x2d4308(0x146),_0x2bc505['id']),this['send'](_0x1e783c,{..._0x15012a,'clientId':_0x2bc505['id']});}return;}if(_0x4c8267[_0x2d4308(0x1c7)]<0x5){console[_0x2d4308(0x21b)](_0x2d4308(0x111),_0x4c8267);return;}const _0x43d076=this['getText'](_0x1e783c,_0x15012a);if(!_0x43d076){console[_0x2d4308(0x271)](_0x2d4308(0xf5));return;}console[_0x2d4308(0x247)](_0x2d4308(0x1d0)+_0x4c8267+_0x2d4308(0x156)),DataManager[_0x2d4308(0x139)](_0x2d4308(0x1f1),{'chatId':_0x4c8267,'text':_0x43d076})[_0x2d4308(0x20e)](_0x4ec118=>console['log'](_0x2d4308(0x11b),_0x4ec118))[_0x2d4308(0x19b)](_0x3ce1c8=>console[_0x2d4308(0x271)](_0x2d4308(0x10a),_0x3ce1c8));}};function getLocalDateStr(_0x360a90){const _0x11a2e3=a2_0x34ca0a,_0xe63f3b=_0x360a90['getFullYear'](),_0x430a01=String(_0x360a90[_0x11a2e3(0xf4)]()+0x1)[_0x11a2e3(0xfd)](0x2,'0'),_0x46bafc=String(_0x360a90['getDate']())['padStart'](0x2,'0');return _0xe63f3b+'-'+_0x430a01+'-'+_0x46bafc;}function getDateStr(_0x563743){const _0x2f1d63=a2_0x34ca0a,_0x9c98aa=new Date();return _0x9c98aa[_0x2f1d63(0x25e)](_0x9c98aa[_0x2f1d63(0x1a7)]()+_0x563743),getLocalDateStr(_0x9c98aa);}function getStartOfWeek(_0x3ebf1b){const _0x46a631=a2_0x34ca0a,_0x4a59d5=new Date(_0x3ebf1b),_0x5c624f=_0x4a59d5[_0x46a631(0x1ec)](),_0x2465eb=_0x4a59d5[_0x46a631(0x1a7)]()-_0x5c624f+(_0x5c624f===0x0?-0x6:0x1);return _0x4a59d5['setDate'](_0x2465eb),_0x4a59d5[_0x46a631(0x1b3)](0x0,0x0,0x0,0x0),_0x4a59d5;}function hexToRgba(_0x2b1bcd,_0x582311){const _0x1694da=a2_0x34ca0a;if(!_0x2b1bcd)return _0x1694da(0x154);let _0x2bb0ff=0x0,_0x340efc=0x0,_0x10a48d=0x0;if(_0x2b1bcd[_0x1694da(0x1c7)]===0x4)_0x2bb0ff='0x'+_0x2b1bcd[0x1]+_0x2b1bcd[0x1],_0x340efc='0x'+_0x2b1bcd[0x2]+_0x2b1bcd[0x2],_0x10a48d='0x'+_0x2b1bcd[0x3]+_0x2b1bcd[0x3];else _0x2b1bcd[_0x1694da(0x1c7)]===0x7&&(_0x2bb0ff='0x'+_0x2b1bcd[0x1]+_0x2b1bcd[0x2],_0x340efc='0x'+_0x2b1bcd[0x3]+_0x2b1bcd[0x4],_0x10a48d='0x'+_0x2b1bcd[0x5]+_0x2b1bcd[0x6]);return _0x1694da(0x15f)+ +_0x2bb0ff+',\x20'+ +_0x340efc+',\x20'+ +_0x10a48d+',\x20'+_0x582311+')';}function renderTimeColumn(){const _0x22297a=a2_0x34ca0a,_0x626052=document[_0x22297a(0x16c)](_0x22297a(0x1c9)),_0x573624=document[_0x22297a(0x16c)]('timeLineBadge');_0x626052[_0x22297a(0x1db)]='',_0x626052['appendChild'](_0x573624);for(let _0x199d5=0x0;_0x199d5<0x18;_0x199d5++){const _0x2dc18f=document['createElement']('div');_0x2dc18f[_0x22297a(0x211)]=_0x22297a(0x197);if(_0x199d5>0x0)_0x2dc18f[_0x22297a(0x1db)]='<span>'+String(_0x199d5)['padStart'](0x2,'0')+_0x22297a(0x196);_0x626052[_0x22297a(0x1f6)](_0x2dc18f);}}function renderDayRange(_0x4cd2e5,_0x22a037){const _0x33bdac=a2_0x34ca0a,_0x268faa=document[_0x33bdac(0x16c)](_0x33bdac(0x25f)),_0x4b3fc4=document[_0x33bdac(0x16c)](_0x33bdac(0x149)),_0x244703=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x3b8b75=new Date();_0x3b8b75[_0x33bdac(0x1b3)](0x0,0x0,0x0,0x0);const _0x23bc32=getLocalDateStr(new Date());for(let _0x2a3c84=_0x4cd2e5;_0x2a3c84<=_0x22a037;_0x2a3c84++){const _0x5d487d=new Date(_0x3b8b75);_0x5d487d[_0x33bdac(0x25e)](_0x5d487d[_0x33bdac(0x1a7)]()+_0x2a3c84);const _0x39aa5f=getLocalDateStr(_0x5d487d);let _0x1ec721=_0x5d487d[_0x33bdac(0x1ec)]()-0x1;if(_0x1ec721===-0x1)_0x1ec721=0x6;const _0x3df4eb=_0x39aa5f===_0x23bc32,_0x362517=document[_0x33bdac(0x120)](_0x33bdac(0x212));_0x362517[_0x33bdac(0x211)]=_0x33bdac(0x1d9)+(_0x3df4eb?_0x33bdac(0x273):''),_0x362517['id']='header-'+_0x39aa5f,_0x362517[_0x33bdac(0x225)](_0x33bdac(0x174),_0x39aa5f),_0x362517[_0x33bdac(0x1db)]='<div\x20class=\x22dch-day\x22>'+_0x244703[_0x1ec721]+'</div><div\x20class=\x22dch-num\x22>'+_0x5d487d['getDate']()+_0x33bdac(0x1b0)+_0x39aa5f+_0x33bdac(0x239),_0x362517[_0x33bdac(0x164)]=()=>openDayOptions(_0x39aa5f,_0x244703[_0x1ec721]+'\x20'+_0x5d487d[_0x33bdac(0x1a7)]()),_0x268faa['appendChild'](_0x362517);const _0x5951a6=document[_0x33bdac(0x120)]('div');_0x5951a6[_0x33bdac(0x211)]=_0x33bdac(0x244)+(_0x3df4eb?'today':''),_0x5951a6['setAttribute'](_0x33bdac(0x174),_0x39aa5f),_0x5951a6[_0x33bdac(0x225)](_0x33bdac(0x14e),_0x1ec721),renderEventsForColumn(_0x5951a6,_0x39aa5f,_0x1ec721),attachLongPressHandler(_0x5951a6,_0x5d487d),_0x4b3fc4['appendChild'](_0x5951a6),updateDayStats(_0x39aa5f);}}function reRenderBlocks(){const _0x45cf20=a2_0x34ca0a;document[_0x45cf20(0x162)](_0x45cf20(0x1ed))[_0x45cf20(0x236)](_0x51e766=>{const _0x2d0b64=_0x45cf20;_0x51e766[_0x2d0b64(0x162)](_0x2d0b64(0x1c4))[_0x2d0b64(0x236)](_0xbfe04e=>_0xbfe04e[_0x2d0b64(0x110)]());const _0xee23ba=_0x51e766[_0x2d0b64(0x129)](_0x2d0b64(0x174)),_0x4efc64=parseInt(_0x51e766[_0x2d0b64(0x129)]('data-day-idx')),_0x575e5b=Math[_0x2d0b64(0x23f)](_0x51e766['offsetLeft']);(availabilityPattern[_0x4efc64]||[])[_0x2d0b64(0x236)](_0x397cdb=>{const _0x10212f=_0x2d0b64,_0x25601f=document[_0x10212f(0x120)](_0x10212f(0x212));_0x25601f[_0x10212f(0x211)]=_0x10212f(0x275);const _0x5c465b=_0x397cdb*GRID_H;_0x25601f['style'][_0x10212f(0x1d8)]=_0x5c465b+'px',_0x25601f[_0x10212f(0x1c6)][_0x10212f(0x258)]='-'+_0x575e5b+_0x10212f(0x264)+_0x5c465b+'px',_0x51e766[_0x10212f(0x1f6)](_0x25601f);});if(specialRanges&&specialRanges[_0x2d0b64(0x1c7)]>0x0){const _0x5419b5=new Date(_0xee23ba+_0x2d0b64(0xf9))[_0x2d0b64(0x168)](),_0xb6e769=new Date(_0xee23ba+_0x2d0b64(0x16e))[_0x2d0b64(0x168)]();specialRanges['forEach'](_0x5f0b66=>{const _0x96e96e=_0x2d0b64,_0x167eb1=new Date(_0x5f0b66[_0x96e96e(0x15b)])[_0x96e96e(0x168)](),_0x5893ac=new Date(_0x5f0b66[_0x96e96e(0x1a9)])[_0x96e96e(0x168)](),_0x1c26e9=Math[_0x96e96e(0x23b)](_0x5419b5,_0x167eb1),_0x48295c=Math[_0x96e96e(0x1d3)](_0xb6e769,_0x5893ac);if(_0x1c26e9<_0x48295c){if(_0x1c26e9<=_0x5419b5&&_0x48295c>=_0xb6e769-0xea60){if(!_0x51e766[_0x96e96e(0x1df)](_0x96e96e(0x248))){const _0x277962=document[_0x96e96e(0x120)](_0x96e96e(0x212));_0x277962[_0x96e96e(0x211)]='day-off-overlay\x20stripe-bg',_0x277962[_0x96e96e(0x1c6)][_0x96e96e(0x258)]='-'+_0x575e5b+_0x96e96e(0x183),_0x51e766['appendChild'](_0x277962);}}else{const _0x367bff=(_0x1c26e9-_0x5419b5)/0x36ee80*GRID_H,_0x253e31=(_0x48295c-_0x1c26e9)/0x36ee80*GRID_H,_0x5a7594=document[_0x96e96e(0x120)](_0x96e96e(0x212));_0x5a7594[_0x96e96e(0x211)]=_0x96e96e(0x1d2),_0x5a7594['style'][_0x96e96e(0x1d8)]=_0x367bff+'px',_0x5a7594[_0x96e96e(0x1c6)][_0x96e96e(0x243)]=_0x253e31+'px',_0x5a7594[_0x96e96e(0x1c6)][_0x96e96e(0x258)]='-'+_0x575e5b+'px\x20-'+_0x367bff+'px',_0x51e766[_0x96e96e(0x1f6)](_0x5a7594);}}});}if(dateExceptions[_0xee23ba]===_0x2d0b64(0x23d)){if(!_0x51e766[_0x2d0b64(0x1df)](_0x2d0b64(0x248))){const _0x503599=document[_0x2d0b64(0x120)](_0x2d0b64(0x212));_0x503599[_0x2d0b64(0x211)]=_0x2d0b64(0x280),_0x503599[_0x2d0b64(0x1c6)][_0x2d0b64(0x258)]='-'+_0x575e5b+_0x2d0b64(0x183),_0x51e766[_0x2d0b64(0x1f6)](_0x503599);}}renderEventsForColumn(_0x51e766,_0xee23ba,_0x4efc64),updateDayStats(_0xee23ba);});}function updateAllDayStats(){const _0x48413d=a2_0x34ca0a;document[_0x48413d(0x162)]('.day-col-header')['forEach'](_0x2c1620=>{const _0x4a8d5c=_0x48413d;updateDayStats(_0x2c1620[_0x4a8d5c(0x129)](_0x4a8d5c(0x174)));});}function updateDayStats(_0x7bf15b){const _0x2831d1=a2_0x34ca0a,_0x38e62d=document[_0x2831d1(0x16c)]('stat-'+_0x7bf15b);if(!_0x38e62d)return;const _0x481fc8=new Date(_0x7bf15b);let _0x5a3bc1=_0x481fc8[_0x2831d1(0x1ec)]()-0x1;if(_0x5a3bc1===-0x1)_0x5a3bc1=0x6;if(dateExceptions[_0x7bf15b]===_0x2831d1(0x23d)){_0x38e62d[_0x2831d1(0x1c6)][_0x2831d1(0x123)]=_0x2831d1(0x1c2);return;}const _0x1c996b=availabilityPattern[_0x5a3bc1]||[],_0x14c04c=0x18-_0x1c996b[_0x2831d1(0x1c7)],_0x3623ca=_0x14c04c*0x3c,_0x4b4d92=sessions['filter'](_0x247a57=>_0x247a57['dateStr']===_0x7bf15b&&_0x247a57[_0x2831d1(0x1e7)]!==_0x2831d1(0x1ef));if(_0x4b4d92['length']===0x0){_0x38e62d[_0x2831d1(0x1c6)][_0x2831d1(0x123)]=_0x2831d1(0x1c2);return;}let _0x4f6262=_0x4b4d92['map'](_0x1a9d74=>{const _0x2f071e=_0x2831d1,[_0x4c0959,_0x1c01c0]=_0x1a9d74['start'][_0x2f071e(0x15c)](':')[_0x2f071e(0x21c)](Number),[_0x50940f,_0x48f46e]=_0x1a9d74[_0x2f071e(0x1a9)][_0x2f071e(0x15c)](':')[_0x2f071e(0x21c)](Number);return[_0x4c0959*0x3c+_0x1c01c0,_0x50940f*0x3c+_0x48f46e];});_0x4f6262['sort']((_0x5c2bf1,_0x4a6ca6)=>_0x5c2bf1[0x0]-_0x4a6ca6[0x0]);let _0x1c19c=[];if(_0x4f6262[_0x2831d1(0x1c7)]>0x0){let _0x638fc3=_0x4f6262[0x0];for(let _0x47524e=0x1;_0x47524e<_0x4f6262[_0x2831d1(0x1c7)];_0x47524e++){_0x4f6262[_0x47524e][0x0]<_0x638fc3[0x1]?_0x638fc3[0x1]=Math[_0x2831d1(0x23b)](_0x638fc3[0x1],_0x4f6262[_0x47524e][0x1]):(_0x1c19c['push'](_0x638fc3),_0x638fc3=_0x4f6262[_0x47524e]);}_0x1c19c['push'](_0x638fc3);}let _0x4b2076=0x0;_0x1c19c[_0x2831d1(0x236)](_0x10040e=>_0x4b2076+=_0x10040e[0x1]-_0x10040e[0x0]),_0x38e62d[_0x2831d1(0x1c6)][_0x2831d1(0x123)]='flex';const _0x102a69=_0x38e62d[_0x2831d1(0x1df)](_0x2831d1(0x20c));if(_0x3623ca===0x0){_0x102a69[_0x2831d1(0x1c6)]['width']=_0x2831d1(0x220),_0x102a69[_0x2831d1(0x1c6)][_0x2831d1(0x25c)]='var(--acc-red)';return;}const _0xcc0f08=_0x4b2076/_0x3623ca*0x64;console['log']('['+_0x7bf15b+_0x2831d1(0x12e)+_0x14c04c+_0x2831d1(0x23a)+_0x4b2076+_0x2831d1(0x1e8)+_0xcc0f08[_0x2831d1(0x22b)](0x1)+'%'),_0xcc0f08>0x64?(_0x102a69[_0x2831d1(0x1c6)]['width']='100%',_0x102a69[_0x2831d1(0x1c6)][_0x2831d1(0x25c)]='var(--acc-red)'):(_0x102a69[_0x2831d1(0x1c6)][_0x2831d1(0x26b)]=_0xcc0f08+'%',_0x102a69[_0x2831d1(0x1c6)][_0x2831d1(0x25c)]=_0x2831d1(0x210));}function renderEventsForColumn(_0x2fbd8f,_0x561ef1,_0x4aa162){const _0x136bc8=a2_0x34ca0a,_0x4cf471=sessions[_0x136bc8(0x272)](_0x3e3ad3=>_0x3e3ad3[_0x136bc8(0x184)]===_0x561ef1),_0x452784=_0x4cf471[_0x136bc8(0x21c)](_0x23d8ba=>{const _0x2eb850=_0x136bc8,[_0x4a2e23,_0x351080]=_0x23d8ba[_0x2eb850(0x15b)][_0x2eb850(0x15c)](':')[_0x2eb850(0x21c)](Number),[_0x436a1e,_0x50e739]=_0x23d8ba[_0x2eb850(0x1a9)]['split'](':')[_0x2eb850(0x21c)](Number);return{'data':_0x23d8ba,'start':_0x4a2e23*0x3c+_0x351080,'end':_0x436a1e*0x3c+_0x50e739,'colIndex':0x0};});_0x452784[_0x136bc8(0x285)]((_0x52fd88,_0x36afe4)=>{const _0x536f56=_0x136bc8;if(_0x52fd88[_0x536f56(0x15b)]!==_0x36afe4['start'])return _0x52fd88['start']-_0x36afe4[_0x536f56(0x15b)];return _0x36afe4[_0x536f56(0x1a9)]-_0x36afe4['start']-(_0x52fd88[_0x536f56(0x1a9)]-_0x52fd88[_0x536f56(0x15b)]);});const _0x46d38d=[];_0x452784[_0x136bc8(0x236)](_0x55520f=>{const _0x29464e=_0x136bc8;let _0x521dfb=![];for(let _0x2cd497=0x0;_0x2cd497<_0x46d38d[_0x29464e(0x1c7)];_0x2cd497++){const _0x58ad99=_0x46d38d[_0x2cd497],_0x3e2e1d=_0x58ad99[_0x58ad99[_0x29464e(0x1c7)]-0x1];if(_0x55520f['start']>=_0x3e2e1d['end']){_0x58ad99['push'](_0x55520f),_0x55520f[_0x29464e(0x1e6)]=_0x2cd497,_0x521dfb=!![];break;}}!_0x521dfb&&(_0x46d38d[_0x29464e(0x192)]([_0x55520f]),_0x55520f[_0x29464e(0x1e6)]=_0x46d38d[_0x29464e(0x1c7)]-0x1);}),_0x452784[_0x136bc8(0x236)](_0x35401a=>{const _0x25be5c=_0x136bc8;let _0x4c1b0a=0x0;_0x452784['forEach'](_0x44cc9a=>{const _0x21865b=a2_0x4c71;if(Math['max'](_0x35401a['start'],_0x44cc9a['start'])<Math[_0x21865b(0x1d3)](_0x35401a[_0x21865b(0x1a9)],_0x44cc9a['end'])){if(_0x44cc9a[_0x21865b(0x1e6)]>_0x4c1b0a)_0x4c1b0a=_0x44cc9a['colIndex'];}});const _0x500d74=_0x4c1b0a+0x1,_0x3787bf=0x64/_0x500d74,_0x40ab88=_0x35401a[_0x25be5c(0x1e6)]*_0x3787bf,_0x528645=createEventEl(_0x35401a[_0x25be5c(0x214)]);_0x528645[_0x25be5c(0x1c6)][_0x25be5c(0x26b)]=_0x25be5c(0x26d)+_0x3787bf+'%\x20-\x204px)',_0x528645['style'][_0x25be5c(0x257)]='calc('+_0x40ab88+_0x25be5c(0x13f),_0x528645['style'][_0x25be5c(0x232)]=0xa+_0x35401a[_0x25be5c(0x1e6)],_0x3787bf<0x55&&_0x528645[_0x25be5c(0x24a)]['add'](_0x25be5c(0x276)),_0x2fbd8f['appendChild'](_0x528645);});}function createEventEl(_0x1f4110){const _0x1be805=a2_0x34ca0a,[_0x25ee3f,_0x56a98b]=_0x1f4110['start'][_0x1be805(0x15c)](':')[_0x1be805(0x21c)](Number),[_0x5430e7,_0x20cbac]=_0x1f4110[_0x1be805(0x1a9)][_0x1be805(0x15c)](':')['map'](Number),_0x2d5488=(_0x25ee3f*0x3c+_0x56a98b)/0x3c*GRID_H,_0x4c13ef=(_0x5430e7*0x3c+_0x20cbac-(_0x25ee3f*0x3c+_0x56a98b))/0x3c*GRID_H,_0x1d00fb=document[_0x1be805(0x120)](_0x1be805(0x212)),_0x477a7b=_0x1f4110[_0x1be805(0x1e7)]===_0x1be805(0x17e)?_0x1be805(0x1b4):'';_0x1d00fb['className']=_0x1be805(0x10f)+_0x477a7b,_0x1d00fb['style'][_0x1be805(0x1d8)]=_0x2d5488+'px',_0x1d00fb[_0x1be805(0x1c6)][_0x1be805(0x243)]=Math['max'](_0x4c13ef,0x14)+'px';const _0xeea8cb=clients[_0x1be805(0x1ce)](_0x489d66=>_0x1f4110['clientId']&&String(_0x489d66['id'])===String(_0x1f4110['clientId'])||_0x489d66[_0x1be805(0x177)]===_0x1f4110[_0x1be805(0x17a)]),_0x43cc6e=_0xeea8cb?_0xeea8cb['color']:_0x1be805(0x175);_0x1d00fb[_0x1be805(0x1c6)]['borderLeftColor']=_0x43cc6e,_0x1d00fb['style']['backgroundColor']=hexToRgba(_0x43cc6e,0.85);let _0x11b80f=_0x1be805(0x1d4)+_0x1f4110[_0x1be805(0x17a)]+_0x1be805(0x181)+_0x1f4110['start']+_0x1be805(0x1fc)+_0x1f4110[_0x1be805(0x1a9)]+'</div>';return _0x1f4110[_0x1be805(0x202)]&&(_0x11b80f+='<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>'),_0x1f4110[_0x1be805(0x1e7)]===_0x1be805(0x17e)&&(_0x11b80f+=_0x1be805(0x12b)),_0x1d00fb[_0x1be805(0x1db)]=_0x11b80f,_0x1d00fb[_0x1be805(0x164)]=_0x2d34ff=>{const _0x2f8773=_0x1be805;_0x2d34ff[_0x2f8773(0x270)](),openEdit(_0x1f4110);},_0x1d00fb;}function attachLongPressHandler(_0x3fb2db,_0x56c623){const _0xb712eb=a2_0x34ca0a;let _0x42d080=0x0,_0x1c003d=null;const _0x12b1aa=_0x4f0621=>{const _0x8d221a=a2_0x4c71;if(_0x4f0621[_0x8d221a(0x25a)]['closest'](_0x8d221a(0x147)))return;isScrolling=![],_0x42d080=_0x4f0621['touches']?_0x4f0621[_0x8d221a(0x126)][0x0][_0x8d221a(0x17d)]:_0x4f0621['clientY'],_0x1c003d=setTimeout(()=>{const _0x1c2a69=_0x8d221a;if(!isScrolling){navigator['vibrate']?.(0x32);const _0x1f3dfd=_0x3fb2db[_0x1c2a69(0x23e)](),_0x5bc5ad=Math[_0x1c2a69(0x266)]((_0x42d080-_0x1f3dfd[_0x1c2a69(0x1d8)])/GRID_H);_0x56c623[_0x1c2a69(0x1b3)](_0x5bc5ad,0x0),openAddSession(_0x56c623);}},0x1f4);},_0x2c395e=()=>{isScrolling=!![],clearTimeout(_0x1c003d);},_0x12c3db=()=>{clearTimeout(_0x1c003d);};_0x3fb2db[_0xb712eb(0x283)](_0xb712eb(0x118),_0x12b1aa,{'passive':!![]}),_0x3fb2db[_0xb712eb(0x283)](_0xb712eb(0x1d6),_0x2c395e,{'passive':!![]}),_0x3fb2db['addEventListener']('touchend',_0x12c3db),_0x3fb2db[_0xb712eb(0x283)](_0xb712eb(0x18e),_0x12b1aa),_0x3fb2db[_0xb712eb(0x283)](_0xb712eb(0x121),_0x2c395e),_0x3fb2db[_0xb712eb(0x283)](_0xb712eb(0x1b5),_0x12c3db);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x1ae61b=a2_0x34ca0a,_0x55c65e=document[_0x1ae61b(0x16c)](_0x1ae61b(0x107)),_0x557b98=_0x55c65e['scrollLeft'],_0x1d8095=_0x55c65e[_0x1ae61b(0x18f)],_0x33b28a=_0x55c65e['clientWidth'];if(_0x1d8095-(_0x557b98+_0x33b28a)<0x12c){const _0x28d17c=endOffset;endOffset+=0xe,renderDayRange(_0x28d17c+0x1,endOffset),reRenderBlocks();}if(_0x557b98<0x12c){const _0x4cc4be=startOffset;startOffset-=0xe,prependDays(startOffset,_0x4cc4be-0x1),_0x55c65e['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x29b179,_0x191e04){const _0x151f06=a2_0x34ca0a,_0xd742ef=document[_0x151f06(0x16c)](_0x151f06(0x25f)),_0x4d4fd5=document[_0x151f06(0x16c)](_0x151f06(0x149)),_0x22cf39=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x54fed0=new Date();_0x54fed0[_0x151f06(0x1b3)](0x0,0x0,0x0,0x0);const _0x12ba72=getLocalDateStr(new Date()),_0x9c828=document[_0x151f06(0x127)](),_0x6ad88a=document['createDocumentFragment']();for(let _0xca511b=_0x29b179;_0xca511b<=_0x191e04;_0xca511b++){const _0x46a5dd=new Date(_0x54fed0);_0x46a5dd[_0x151f06(0x25e)](_0x46a5dd[_0x151f06(0x1a7)]()+_0xca511b);const _0x2a0f14=getLocalDateStr(_0x46a5dd);let _0x56098a=_0x46a5dd[_0x151f06(0x1ec)]()-0x1;if(_0x56098a===-0x1)_0x56098a=0x6;const _0x5d895b=_0x2a0f14===_0x12ba72,_0x39921f=document[_0x151f06(0x120)](_0x151f06(0x212));_0x39921f['className']=_0x151f06(0x1d9)+(_0x5d895b?_0x151f06(0x273):''),_0x39921f['id']=_0x151f06(0x19f)+_0x2a0f14,_0x39921f['setAttribute'](_0x151f06(0x174),_0x2a0f14),_0x39921f['innerHTML']='<div\x20class=\x22dch-day\x22>'+_0x22cf39[_0x56098a]+_0x151f06(0x1fb)+_0x46a5dd[_0x151f06(0x1a7)]()+_0x151f06(0x1b0)+_0x2a0f14+_0x151f06(0x239),_0x39921f[_0x151f06(0x164)]=()=>openDayOptions(_0x2a0f14,_0x22cf39[_0x56098a]+'\x20'+_0x46a5dd[_0x151f06(0x1a7)]()),_0x9c828[_0x151f06(0x1f6)](_0x39921f);const _0x4bcfe7=document['createElement'](_0x151f06(0x212));_0x4bcfe7['className']=_0x151f06(0x244)+(_0x5d895b?_0x151f06(0x273):''),_0x4bcfe7[_0x151f06(0x225)]('data-date',_0x2a0f14),_0x4bcfe7[_0x151f06(0x225)]('data-day-idx',_0x56098a),renderEventsForColumn(_0x4bcfe7,_0x2a0f14,_0x56098a),attachLongPressHandler(_0x4bcfe7,_0x46a5dd),_0x6ad88a[_0x151f06(0x1f6)](_0x4bcfe7),updateDayStats(_0x2a0f14);}_0xd742ef[_0x151f06(0x10b)](_0x9c828,_0xd742ef['firstChild']),_0x4d4fd5[_0x151f06(0x10b)](_0x6ad88a,_0x4d4fd5[_0x151f06(0x1df)](_0x151f06(0x261)));}function validateAppointment(_0x2843cc,_0x56ee72,_0x1433e2,_0x454898,_0x537631){const _0x36ed19=a2_0x34ca0a,[_0x3d3733,_0x3c65c3]=_0x56ee72[_0x36ed19(0x15c)](':')['map'](Number),[_0x299a6e,_0x44d0f3]=_0x1433e2[_0x36ed19(0x15c)](':')[_0x36ed19(0x21c)](Number),_0x1c9ec8=_0x3d3733*0x3c+_0x3c65c3,_0x43ea50=_0x299a6e*0x3c+_0x44d0f3,_0x35a78c=String(_0x537631);let _0x58906d=![],_0x7c7abf='';for(let _0x4d4f9f of sessions){if(_0x4d4f9f[_0x36ed19(0x184)]!==_0x2843cc)continue;if(_0x4d4f9f[_0x36ed19(0x1e7)]===_0x36ed19(0x1ef))continue;if(_0x454898&&String(_0x4d4f9f['id'])===String(_0x454898))continue;const [_0x146c0b,_0x1950ae]=_0x4d4f9f['start'][_0x36ed19(0x15c)](':')[_0x36ed19(0x21c)](Number),[_0x367d51,_0x39138e]=_0x4d4f9f[_0x36ed19(0x1a9)][_0x36ed19(0x15c)](':')[_0x36ed19(0x21c)](Number),_0x289fa2=_0x146c0b*0x3c+_0x1950ae,_0x2bda94=_0x367d51*0x3c+_0x39138e;if(Math[_0x36ed19(0x23b)](_0x1c9ec8,_0x289fa2)<Math[_0x36ed19(0x1d3)](_0x43ea50,_0x2bda94)){if(_0x4d4f9f[_0x36ed19(0x1f8)]&&String(_0x4d4f9f[_0x36ed19(0x1f8)])===_0x35a78c)return{'valid':![],'msg':_0x36ed19(0x215)+_0x4d4f9f['client']+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x58906d=!![],_0x7c7abf=_0x4d4f9f[_0x36ed19(0x17a)];}}if(_0x58906d)return{'valid':!![],'warning':_0x36ed19(0x151)+_0x7c7abf};return{'valid':!![]};}function updateDateDisplay(){const _0x351f0d=a2_0x34ca0a,_0x4ac3a0=document['getElementById'](_0x351f0d(0x21e))[_0x351f0d(0x1ca)],_0xa604a5=document['getElementById'](_0x351f0d(0x1cd));if(!_0x4ac3a0){_0xa604a5[_0x351f0d(0x26e)]='';return;}const [_0x55a966,_0x1aa852,_0x110b6e]=_0x4ac3a0['split']('-')['map'](Number),_0x3af516=new Date(_0x55a966,_0x1aa852-0x1,_0x110b6e),_0x54ded5={'weekday':_0x351f0d(0x1e1),'day':_0x351f0d(0x267),'month':_0x351f0d(0x1e1),'year':_0x351f0d(0x267)};let _0x47b05d=_0x3af516['toLocaleDateString'](_0x351f0d(0x25d),_0x54ded5);_0x47b05d=_0x47b05d[_0x351f0d(0x1f4)](0x0)['toUpperCase']()+_0x47b05d[_0x351f0d(0x250)](0x1),_0xa604a5[_0x351f0d(0x26e)]=_0x47b05d;}function autoSetEndTime(){const _0x2679a4=a2_0x34ca0a,_0x21aff3=document['getElementById'](_0x2679a4(0x221))[_0x2679a4(0x1ca)];if(!_0x21aff3)return;const [_0x1e8ab7,_0x30d6e0]=_0x21aff3[_0x2679a4(0x15c)](':')['map'](Number);let _0x124149=_0x1e8ab7+0x1;if(_0x124149>0x17)_0x124149=0x0;const _0xcf15a7=String(_0x124149)[_0x2679a4(0xfd)](0x2,'0')+':'+String(_0x30d6e0)[_0x2679a4(0xfd)](0x2,'0');document['getElementById'](_0x2679a4(0x262))[_0x2679a4(0x1ca)]=_0xcf15a7;}function populateClientSelect(){const _0x2bff52=a2_0x34ca0a,_0x1e2ff7=document[_0x2bff52(0x16c)](_0x2bff52(0x230));_0x1e2ff7['innerHTML']='';if(clients['length']===0x0){const _0x24ae6f=document[_0x2bff52(0x120)](_0x2bff52(0x1ac));_0x24ae6f[_0x2bff52(0x160)]=_0x2bff52(0x1bf),_0x1e2ff7[_0x2bff52(0x1f6)](_0x24ae6f);return;}clients['forEach'](_0x5193a8=>{const _0x37f603=_0x2bff52,_0x5e435f=document[_0x37f603(0x120)](_0x37f603(0x1ac));_0x5e435f['value']=_0x5193a8['name'],_0x5e435f[_0x37f603(0x26e)]=_0x5193a8['name'],_0x1e2ff7[_0x37f603(0x1f6)](_0x5e435f);});}function openActionSheet(_0x4c519e){const _0x582042=a2_0x34ca0a,_0x47f6bc=document['getElementById']('actionSheet'),_0x2a42d6=document[_0x582042(0x16c)]('actionSheetOverlay'),_0x59c405=document[_0x582042(0x16c)](_0x582042(0x15a)),_0x2582da=document[_0x582042(0x16c)](_0x582042(0x1f3)),_0x4c6c96=document[_0x582042(0x16c)](_0x582042(0x133));_0x2a42d6['classList'][_0x582042(0x268)](_0x582042(0x20f)),_0x47f6bc[_0x582042(0x24a)]['add'](_0x582042(0x1f0));if(_0x4c519e==='save')_0x59c405['textContent']='–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏',_0x2582da[_0x582042(0x26e)]=_0x582042(0x231),_0x2582da[_0x582042(0x164)]=()=>{const _0x156f52=_0x582042;closeActionSheet(),updateSeriesBatch(_0x156f52(0x27b),tempSessionData);},_0x4c6c96[_0x582042(0x26e)]=_0x582042(0x155),_0x4c6c96[_0x582042(0x164)]=()=>{const _0x297f48=_0x582042;closeActionSheet(),updateSeriesBatch(_0x297f48(0x1a3),tempSessionData);};else _0x4c519e===_0x582042(0x15d)&&(_0x59c405[_0x582042(0x26e)]=_0x582042(0x219),_0x2582da[_0x582042(0x26e)]='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x2582da[_0x582042(0x211)]=_0x582042(0x114),_0x2582da[_0x582042(0x164)]=()=>{const _0x29e759=_0x582042;closeActionSheet(),commitDelete(_0x29e759(0x27b),sessions[_0x29e759(0x1ce)](_0x419bed=>_0x419bed['id']===editingId));},_0x4c6c96[_0x582042(0x26e)]='–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ',_0x4c6c96['className']=_0x582042(0xfe),_0x4c6c96[_0x582042(0x164)]=()=>{const _0x2bd029=_0x582042;closeActionSheet(),commitDelete(_0x2bd029(0x1a3),sessions['find'](_0xbecfd0=>_0xbecfd0['id']===editingId));});}function closeActionSheet(){const _0x2589c3=a2_0x34ca0a;document[_0x2589c3(0x16c)](_0x2589c3(0x22a))[_0x2589c3(0x24a)][_0x2589c3(0x110)](_0x2589c3(0x1f0)),document[_0x2589c3(0x16c)](_0x2589c3(0x16f))[_0x2589c3(0x24a)][_0x2589c3(0x110)](_0x2589c3(0x20f));}function openSettings(){openSheet('settingsSheet');}function saveCoachSettings(){const _0x116aae=a2_0x34ca0a,_0x138c72=document[_0x116aae(0x16c)](_0x116aae(0x1ff))[_0x116aae(0x1ca)];localStorage[_0x116aae(0x165)](_0x116aae(0x117),_0x138c72),console['log'](_0x116aae(0x137),_0x138c72),DataManager[_0x116aae(0x139)](_0x116aae(0x12d),{'settings':{'cancel_window':_0x138c72}})[_0x116aae(0x19b)](_0x27f0e6=>{const _0x498e04=_0x116aae;console[_0x498e04(0x271)](_0x498e04(0x18d),_0x27f0e6),showToast(_0x498e04(0x237),![]);});}function loadCoachSettings(){const _0x39c56f=a2_0x34ca0a,_0x551b8d=localStorage['getItem'](_0x39c56f(0x117));_0x551b8d&&(document[_0x39c56f(0x16c)](_0x39c56f(0x1ff))[_0x39c56f(0x1ca)]=_0x551b8d);}function openRangesSheet(){const _0x3dfad4=a2_0x34ca0a;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x3dfad4(0x17b));}function addRange(){const _0x19364a=a2_0x34ca0a,_0x1c604c=document['getElementById'](_0x19364a(0x158))[_0x19364a(0x1ca)],_0x112b87=document[_0x19364a(0x16c)](_0x19364a(0x251))[_0x19364a(0x1ca)],_0x168564=document[_0x19364a(0x16c)](_0x19364a(0x24b))[_0x19364a(0x1ca)],_0x567fd8=document[_0x19364a(0x16c)](_0x19364a(0x1e9))[_0x19364a(0x1ca)];if(!_0x1c604c||!_0x112b87||!_0x168564||!_0x567fd8)return alert(_0x19364a(0x269));const _0xd04021=_0x1c604c+'T'+_0x112b87,_0x4de490=_0x168564+'T'+_0x567fd8;if(_0xd04021>=_0x4de490)return alert(_0x19364a(0x1d1));specialRanges[_0x19364a(0x192)]({'start':_0xd04021,'end':_0x4de490}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x19364a(0x228)](),DataManager[_0x19364a(0x139)](_0x19364a(0x12d),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x785cc5){const _0x59931d=a2_0x34ca0a;specialRanges[_0x59931d(0x1bb)](_0x785cc5,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x59931d(0x228)](),DataManager[_0x59931d(0x139)](_0x59931d(0x12d),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x469150=a2_0x34ca0a;document[_0x469150(0x16c)](_0x469150(0x158))[_0x469150(0x1ca)]='',document['getElementById'](_0x469150(0x251))[_0x469150(0x1ca)]=_0x469150(0x1e3),document[_0x469150(0x16c)](_0x469150(0x24b))[_0x469150(0x1ca)]='',document[_0x469150(0x16c)](_0x469150(0x1e9))[_0x469150(0x1ca)]='23:59';}function renderRangesList(){const _0x505f32=a2_0x34ca0a,_0x295d92=document[_0x505f32(0x16c)](_0x505f32(0x102));_0x295d92[_0x505f32(0x1db)]='';if(!specialRanges[_0x505f32(0x1c7)]){_0x295d92[_0x505f32(0x1db)]=_0x505f32(0x187);return;}specialRanges['forEach']((_0x2474b2,_0x268021)=>{const _0x355a1e=_0x505f32,_0x24bd5c=document[_0x355a1e(0x120)]('div');_0x24bd5c['className']=_0x355a1e(0x260);const _0x5ca8b0=_0x3b523f=>{const _0x36242f=_0x355a1e,_0x2f2c1b=new Date(_0x3b523f);return _0x2f2c1b[_0x36242f(0x1a7)]()+'.'+String(_0x2f2c1b['getMonth']()+0x1)[_0x36242f(0xfd)](0x2,'0')+'\x20'+String(_0x2f2c1b[_0x36242f(0x12a)]())[_0x36242f(0xfd)](0x2,'0')+':'+String(_0x2f2c1b[_0x36242f(0x209)]())[_0x36242f(0xfd)](0x2,'0');};_0x24bd5c['innerHTML']=_0x355a1e(0x1ba)+_0x5ca8b0(_0x2474b2[_0x355a1e(0x15b)])+_0x355a1e(0x241)+_0x5ca8b0(_0x2474b2['end'])+_0x355a1e(0x1dc)+_0x268021+_0x355a1e(0xf8),_0x295d92[_0x355a1e(0x1f6)](_0x24bd5c);});}function scrollToToday(){const _0x2929e0=a2_0x34ca0a,_0x2edc3e=getLocalDateStr(new Date()),_0x2aa88f=document[_0x2929e0(0x16c)](_0x2929e0(0x19f)+_0x2edc3e),_0x2c57ee=document[_0x2929e0(0x16c)](_0x2929e0(0x107));if(_0x2aa88f&&_0x2c57ee){const _0x390b52=_0x2c57ee[_0x2929e0(0x1cb)],_0x363ed7=_0x2aa88f[_0x2929e0(0x1f9)],_0x52949b=_0x2aa88f[_0x2929e0(0x278)];_0x2c57ee[_0x2929e0(0x16b)]=_0x363ed7-_0x390b52/0x2+_0x52949b/0x2,_0x2c57ee[_0x2929e0(0x1be)]=0x9*GRID_H;}}function onScroll(){const _0x3fe661=a2_0x34ca0a,_0x1a6b1a=document[_0x3fe661(0x16c)](_0x3fe661(0x107)),_0x43af42=document[_0x3fe661(0x162)](_0x3fe661(0x229));for(let _0x4694d6 of _0x43af42)if(_0x4694d6[_0x3fe661(0x1f9)]>=_0x1a6b1a[_0x3fe661(0x16b)]){const _0x1f761e=new Date(_0x4694d6[_0x3fe661(0x129)](_0x3fe661(0x174)));document[_0x3fe661(0x16c)](_0x3fe661(0x282))[_0x3fe661(0x26e)]=_0x1f761e['toLocaleString']('ru',{'month':'long'})[_0x3fe661(0x1cf)]()+'\x20'+_0x1f761e['getFullYear']();break;}}function showToast(_0x4661ae,_0x2bb5a3=![]){const _0x14c7d6=a2_0x34ca0a,_0x495a5a=document[_0x14c7d6(0x16c)](_0x14c7d6(0x19c));_0x495a5a[_0x14c7d6(0x211)]=_0x14c7d6(0x131)+(_0x2bb5a3?_0x14c7d6(0x22f):''),document[_0x14c7d6(0x16c)](_0x14c7d6(0x277))['textContent']=_0x2bb5a3?_0x14c7d6(0x26a):_0x14c7d6(0x234),document[_0x14c7d6(0x16c)](_0x14c7d6(0x14a))[_0x14c7d6(0x26e)]=_0x4661ae,_0x495a5a[_0x14c7d6(0x24a)][_0x14c7d6(0x268)](_0x14c7d6(0x101)),setTimeout(()=>{const _0x2d5ab9=_0x14c7d6;_0x495a5a[_0x2d5ab9(0x24a)][_0x2d5ab9(0x110)]('show');},0xbb8);}function openDayOptions(_0x54d235,_0x497ff1){const _0x351cb3=a2_0x34ca0a;selectedDayForOptions=_0x54d235,document[_0x351cb3(0x16c)](_0x351cb3(0x249))['textContent']=_0x497ff1,openSheet('dayOptionsSheet');}function toggleDayOff(){const _0x465ddb=a2_0x34ca0a;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x465ddb(0x23d),reRenderBlocks(),closeAllSheets(),DataManager[_0x465ddb(0x228)](),DataManager['fetchFromServer'](_0x465ddb(0x12d),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x30e809=a2_0x34ca0a;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x30e809(0x228)](),DataManager[_0x30e809(0x139)](_0x30e809(0x12d),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x2697e7){const _0x1e7407=a2_0x34ca0a;document['getElementById'](_0x1e7407(0x16d))[_0x1e7407(0x24a)][_0x1e7407(0x268)](_0x1e7407(0x20f)),document[_0x1e7407(0x16c)](_0x2697e7)['classList'][_0x1e7407(0x268)]('open');}function closeAllSheets(){const _0x1d22b2=a2_0x34ca0a;document[_0x1d22b2(0x16c)]('overlay')[_0x1d22b2(0x24a)][_0x1d22b2(0x110)](_0x1d22b2(0x20f)),document[_0x1d22b2(0x162)](_0x1d22b2(0x218))[_0x1d22b2(0x236)](_0x488e71=>_0x488e71['classList'][_0x1d22b2(0x110)]('open'));}function openPatternEditor(){const _0x1b0eee=a2_0x34ca0a;closeAllSheets(),document['getElementById'](_0x1b0eee(0x1a8))[_0x1b0eee(0x24a)][_0x1b0eee(0x268)](_0x1b0eee(0x1f0)),renderPatternEditor();}function closePatternEditor(){const _0xc2edd4=a2_0x34ca0a;document['getElementById'](_0xc2edd4(0x1a8))['classList'][_0xc2edd4(0x110)](_0xc2edd4(0x1f0));}function savePattern(){const _0x96ced1=a2_0x34ca0a;document['getElementById']('patternEditor')[_0x96ced1(0x24a)][_0x96ced1(0x110)](_0x96ced1(0x1f0)),reRenderBlocks(),DataManager[_0x96ced1(0x228)](),DataManager['fetchFromServer'](_0x96ced1(0x12d),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0xf281c2=a2_0x34ca0a,_0x5049ae=document[_0xf281c2(0x16c)](_0xf281c2(0x27f));_0x5049ae[_0xf281c2(0x1db)]='';const _0x94e0ff=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x16f829=document[_0xf281c2(0x120)]('div');_0x16f829['className']=_0xf281c2(0x284),_0x5049ae[_0xf281c2(0x1f6)](_0x16f829),_0x94e0ff[_0xf281c2(0x236)]((_0x5a1db6,_0x1edb86)=>{const _0x198730=_0xf281c2,_0x459074=document['createElement'](_0x198730(0x212));_0x459074[_0x198730(0x211)]=_0x198730(0x1eb),_0x459074[_0x198730(0x1db)]=_0x5a1db6+_0x198730(0x24d),_0x459074[_0x198730(0x164)]=()=>toggleColPattern(_0x1edb86),_0x5049ae['appendChild'](_0x459074);});for(let _0x39779f=0x0;_0x39779f<0x18;_0x39779f++){const _0x1edfc7=document[_0xf281c2(0x120)]('div');_0x1edfc7[_0xf281c2(0x211)]=_0xf281c2(0x1c3),_0x1edfc7[_0xf281c2(0x1db)]=_0xf281c2(0x195)+String(_0x39779f)[_0xf281c2(0xfd)](0x2,'0')+':00',_0x1edfc7[_0xf281c2(0x164)]=()=>toggleRowPattern(_0x39779f),_0x5049ae[_0xf281c2(0x1f6)](_0x1edfc7);for(let _0x284172=0x0;_0x284172<0x7;_0x284172++){const _0x4f3a68=document['createElement'](_0xf281c2(0x212)),_0x29133e=(availabilityPattern[_0x284172]||[])[_0xf281c2(0x1fa)](_0x39779f),_0x4ca378=!_0x29133e;_0x4f3a68[_0xf281c2(0x211)]=_0xf281c2(0x189)+(_0x4ca378?'active':''),_0x4f3a68['onclick']=()=>toggleSinglePattern(_0x284172,_0x39779f),_0x5049ae[_0xf281c2(0x1f6)](_0x4f3a68);}}}function toggleSinglePattern(_0x5a68df,_0x3424ca){const _0x4d8378=a2_0x34ca0a;if(!availabilityPattern[_0x5a68df])availabilityPattern[_0x5a68df]=[];const _0x3631bb=availabilityPattern[_0x5a68df],_0x5537a6=_0x3631bb[_0x4d8378(0x259)](_0x3424ca);_0x5537a6===-0x1?_0x3631bb[_0x4d8378(0x192)](_0x3424ca):_0x3631bb['splice'](_0x5537a6,0x1),renderPatternEditor();}function toggleColPattern(_0x22728b){const _0x47bfd3=a2_0x34ca0a;if(!availabilityPattern[_0x22728b])availabilityPattern[_0x22728b]=[];const _0x4ce7e0=availabilityPattern[_0x22728b];_0x4ce7e0['length']===0x0?availabilityPattern[_0x22728b]=Array[_0x47bfd3(0x190)]({'length':0x18},(_0x1c9292,_0xbcf6e1)=>_0xbcf6e1):availabilityPattern[_0x22728b]=[],renderPatternEditor();}function toggleRowPattern(_0xdf463b){const _0x10042=a2_0x34ca0a;let _0x3bd3a6=!![];for(let _0x3e8a37=0x0;_0x3e8a37<0x7;_0x3e8a37++){if((availabilityPattern[_0x3e8a37]||[])[_0x10042(0x1fa)](_0xdf463b)){_0x3bd3a6=![];break;}}for(let _0xab3d82=0x0;_0xab3d82<0x7;_0xab3d82++){if(!availabilityPattern[_0xab3d82])availabilityPattern[_0xab3d82]=[];const _0x3eda1=availabilityPattern[_0xab3d82][_0x10042(0x259)](_0xdf463b);if(_0x3bd3a6){if(_0x3eda1===-0x1)availabilityPattern[_0xab3d82]['push'](_0xdf463b);}else{if(_0x3eda1!==-0x1)availabilityPattern[_0xab3d82][_0x10042(0x1bb)](_0x3eda1,0x1);}}renderPatternEditor();}function renderPCol(_0x2cd432,_0x5dc676){const _0x2091e1=a2_0x34ca0a;_0x2cd432['innerHTML']='';const _0x320489=Math[_0x2091e1(0x23f)](_0x2cd432[_0x2091e1(0x1f9)]);(availabilityPattern[_0x5dc676]||[])[_0x2091e1(0x236)](_0x80406e=>{const _0x3c1b89=_0x2091e1,_0x7762fc=document[_0x3c1b89(0x120)](_0x3c1b89(0x212));_0x7762fc[_0x3c1b89(0x211)]=_0x3c1b89(0x275);const _0x4d37cb=_0x80406e*GRID_H;_0x7762fc[_0x3c1b89(0x1c6)][_0x3c1b89(0x1d8)]=_0x4d37cb+'px',_0x7762fc[_0x3c1b89(0x1c6)][_0x3c1b89(0x258)]='-'+_0x320489+_0x3c1b89(0x264)+_0x4d37cb+'px',_0x7762fc[_0x3c1b89(0x164)]=_0x27ddad=>{const _0x36d65f=_0x3c1b89;_0x27ddad[_0x36d65f(0x270)](),toggleSinglePattern(_0x5dc676,_0x80406e);},_0x2cd432['appendChild'](_0x7762fc);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x55afbb=a2_0x34ca0a,_0x16e325=new Date(),_0x546ff8=document[_0x55afbb(0x16c)](_0x55afbb(0x198)),_0x3aed3a=document[_0x55afbb(0x16c)]('timeLineBadge'),_0x2c3314=(_0x16e325[_0x55afbb(0x12a)]()*0x3c+_0x16e325[_0x55afbb(0x209)]())/0x3c*GRID_H;_0x546ff8['style']['top']=_0x2c3314+'px',_0x546ff8[_0x55afbb(0x1c6)][_0x55afbb(0x123)]=_0x55afbb(0x153),_0x3aed3a[_0x55afbb(0x26e)]=String(_0x16e325['getHours']())[_0x55afbb(0xfd)](0x2,'0')+':'+String(_0x16e325[_0x55afbb(0x209)]())[_0x55afbb(0xfd)](0x2,'0'),_0x3aed3a['style'][_0x55afbb(0x123)]=_0x55afbb(0x153),_0x3aed3a['style']['top']=_0x2c3314+'px';}document['addEventListener'](a2_0x34ca0a(0x1a2),init);function openDayOptions(_0x52110f){const _0x3b5d05=a2_0x34ca0a;selectedDayForOptions=_0x52110f;const _0x3bb33c=new Date(_0x52110f),_0x2cfb45={'weekday':'long','day':_0x3b5d05(0x267),'month':_0x3b5d05(0x1e1),'year':_0x3b5d05(0x267)},_0x507c00=_0x3bb33c[_0x3b5d05(0x22d)](_0x3b5d05(0x25d),_0x2cfb45);document[_0x3b5d05(0x16c)](_0x3b5d05(0x14b))[_0x3b5d05(0x26e)]=_0x507c00[_0x3b5d05(0x1f4)](0x0)['toUpperCase']()+_0x507c00[_0x3b5d05(0x250)](0x1);let _0x50370b=_0x3bb33c[_0x3b5d05(0x1ec)]()-0x1;if(_0x50370b===-0x1)_0x50370b=0x6;const _0x42f948=availabilityPattern[_0x50370b]||[],_0x4a2f00=0x18-_0x42f948[_0x3b5d05(0x1c7)],_0x31daae=_0x4a2f00*0x3c,_0x3e743e=sessions[_0x3b5d05(0x272)](_0x5e8e13=>_0x5e8e13[_0x3b5d05(0x184)]===_0x52110f&&_0x5e8e13['status']!==_0x3b5d05(0x1ef));let _0x1ef324=_0x3e743e['map'](_0x1f9409=>{const _0x1b6774=_0x3b5d05,[_0x331f87,_0x4472af]=_0x1f9409[_0x1b6774(0x15b)][_0x1b6774(0x15c)](':')[_0x1b6774(0x21c)](Number),[_0x331320,_0x105315]=_0x1f9409[_0x1b6774(0x1a9)][_0x1b6774(0x15c)](':')['map'](Number);return[_0x331f87*0x3c+_0x4472af,_0x331320*0x3c+_0x105315];});_0x1ef324[_0x3b5d05(0x285)]((_0x2dd74c,_0x494acd)=>_0x2dd74c[0x0]-_0x494acd[0x0]);let _0x188145=[];if(_0x1ef324[_0x3b5d05(0x1c7)]>0x0){let _0x1e8b1a=_0x1ef324[0x0];for(let _0x7d35f7=0x1;_0x7d35f7<_0x1ef324[_0x3b5d05(0x1c7)];_0x7d35f7++){_0x1ef324[_0x7d35f7][0x0]<_0x1e8b1a[0x1]?_0x1e8b1a[0x1]=Math['max'](_0x1e8b1a[0x1],_0x1ef324[_0x7d35f7][0x1]):(_0x188145[_0x3b5d05(0x192)](_0x1e8b1a),_0x1e8b1a=_0x1ef324[_0x7d35f7]);}_0x188145[_0x3b5d05(0x192)](_0x1e8b1a);}let _0x245ee8=0x0;_0x188145[_0x3b5d05(0x236)](_0x323f83=>_0x245ee8+=_0x323f83[0x1]-_0x323f83[0x0]),document['getElementById'](_0x3b5d05(0xff))[_0x3b5d05(0x26e)]=formatMinsToHrs(_0x31daae),document[_0x3b5d05(0x16c)](_0x3b5d05(0x1fe))[_0x3b5d05(0x26e)]=formatMinsToHrs(_0x245ee8);const _0x29fda8=_0x31daae>0x0?Math['round'](_0x245ee8/_0x31daae*0x64):0x0,_0x2d8708=document['getElementById'](_0x3b5d05(0x254));_0x2d8708[_0x3b5d05(0x26e)]=_0x29fda8+'%';const _0x39ad48=document['getElementById']('statLoadCard');if(_0x29fda8>0x64)_0x2d8708['style'][_0x3b5d05(0x1fd)]=_0x3b5d05(0x27a),_0x39ad48[_0x3b5d05(0x1c6)]['borderColor']=_0x3b5d05(0x19e);else _0x29fda8>0x50?(_0x2d8708['style'][_0x3b5d05(0x1fd)]='var(--acc-orange)',_0x39ad48[_0x3b5d05(0x1c6)]['borderColor']=_0x3b5d05(0x23c)):(_0x2d8708['style'][_0x3b5d05(0x1fd)]='var(--acc-green)',_0x39ad48[_0x3b5d05(0x1c6)]['borderColor']=_0x3b5d05(0x17c));const _0x459fdb=document[_0x3b5d05(0x16c)]('doEventsList');_0x459fdb[_0x3b5d05(0x1db)]='';_0x3e743e[_0x3b5d05(0x1c7)]===0x0?_0x459fdb[_0x3b5d05(0x1db)]=_0x3b5d05(0x1b1):(_0x3e743e[_0x3b5d05(0x285)]((_0xb9303a,_0x5251ca)=>_0xb9303a[_0x3b5d05(0x15b)]['localeCompare'](_0x5251ca[_0x3b5d05(0x15b)])),_0x3e743e[_0x3b5d05(0x236)](_0x5584d8=>{const _0x3c131a=_0x3b5d05,_0x384787=clients[_0x3c131a(0x1ce)](_0x2c2fc2=>_0x2c2fc2[_0x3c131a(0x177)]===_0x5584d8[_0x3c131a(0x17a)]),_0x52dd27=_0x384787?_0x384787[_0x3c131a(0x1fd)]:_0x3c131a(0x1d5),_0x226c17=_0x5584d8[_0x3c131a(0x1e7)]===_0x3c131a(0x17e),_0x4abc3d=_0x226c17?_0x3c131a(0x128):'',_0x3c5c66=document['createElement'](_0x3c131a(0x212));_0x3c5c66[_0x3c131a(0x211)]=_0x3c131a(0x186),_0x3c5c66[_0x3c131a(0x1c6)][_0x3c131a(0x14c)]=_0x52dd27,_0x3c5c66[_0x3c131a(0x1db)]=_0x3c131a(0x119)+_0x5584d8[_0x3c131a(0x15b)]+_0x3c131a(0x1fc)+_0x5584d8['end']+_0x3c131a(0x185)+_0x5584d8[_0x3c131a(0x17a)]+_0x3c131a(0x1e5)+_0x4abc3d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x459fdb[_0x3c131a(0x1f6)](_0x3c5c66);}));const _0x4e8a36=document['getElementById'](_0x3b5d05(0x1e0)),_0x34c819=dateExceptions[_0x52110f]==='off';_0x34c819?(_0x4e8a36['textContent']=_0x3b5d05(0x173),_0x4e8a36['className']='btn-primary\x20btn-secondary',_0x4e8a36[_0x3b5d05(0x1c6)][_0x3b5d05(0x1fd)]=_0x3b5d05(0x252),_0x4e8a36[_0x3b5d05(0x1c6)]['background']=_0x3b5d05(0x130)):(_0x4e8a36[_0x3b5d05(0x26e)]=_0x3b5d05(0x21f),_0x4e8a36[_0x3b5d05(0x211)]=_0x3b5d05(0x213),_0x4e8a36[_0x3b5d05(0x1c6)][_0x3b5d05(0x1fd)]=_0x3b5d05(0x27a),_0x4e8a36[_0x3b5d05(0x1c6)]['background']=_0x3b5d05(0x18c)),openSheet(_0x3b5d05(0x166));}let currentAnPeriod=a2_0x34ca0a(0x13e);function openAnalytics(){const _0x182a88=a2_0x34ca0a,_0x168622=document[_0x182a88(0x1df)](_0x182a88(0x1b6));setAnalyticsPeriod(_0x182a88(0x13e),_0x168622),closeAllSheets(),openSheet(_0x182a88(0x20b));}function setAnalyticsPeriod(_0x3d7e16,_0x184a1d){const _0x1a8f2a=a2_0x34ca0a;currentAnPeriod=_0x3d7e16,document[_0x1a8f2a(0x162)]('.period-switch\x20.p-btn')[_0x1a8f2a(0x236)](_0x6b9ec9=>_0x6b9ec9['classList']['remove'](_0x1a8f2a(0x20f)));if(_0x184a1d)_0x184a1d['classList']['add'](_0x1a8f2a(0x20f));const _0x1172f1=document[_0x1a8f2a(0x16c)](_0x1a8f2a(0x1c5));_0x1172f1['style'][_0x1a8f2a(0x123)]=_0x3d7e16===_0x1a8f2a(0x1ab)?_0x1a8f2a(0x170):_0x1a8f2a(0x1c2);const _0x1264c4=new Date();let _0x4c6a2f=new Date(),_0x34fd99=new Date();if(_0x3d7e16==='week')_0x4c6a2f=getStartOfWeek(_0x1264c4),_0x34fd99=new Date(_0x4c6a2f),_0x34fd99[_0x1a8f2a(0x25e)](_0x34fd99[_0x1a8f2a(0x1a7)]()+0x6);else{if(_0x3d7e16===_0x1a8f2a(0xf6))_0x4c6a2f=new Date(_0x1264c4[_0x1a8f2a(0x21d)](),_0x1264c4[_0x1a8f2a(0xf4)](),0x1),_0x34fd99=new Date(_0x1264c4[_0x1a8f2a(0x21d)](),_0x1264c4['getMonth']()+0x1,0x0);else{!document[_0x1a8f2a(0x16c)](_0x1a8f2a(0x1ae))['value']&&(document[_0x1a8f2a(0x16c)](_0x1a8f2a(0x1ae))[_0x1a8f2a(0x1ca)]=getLocalDateStr(_0x1264c4),document[_0x1a8f2a(0x16c)]('anEnd')['value']=getLocalDateStr(_0x1264c4));refreshAnalytics();return;}}document[_0x1a8f2a(0x16c)](_0x1a8f2a(0x1ae))[_0x1a8f2a(0x1ca)]=getLocalDateStr(_0x4c6a2f),document[_0x1a8f2a(0x16c)](_0x1a8f2a(0x255))[_0x1a8f2a(0x1ca)]=getLocalDateStr(_0x34fd99),refreshAnalytics();}function refreshAnalytics(){const _0x281a6a=a2_0x34ca0a,_0x182708=document[_0x281a6a(0x16c)](_0x281a6a(0x1ae))['value'],_0x335fd2=document[_0x281a6a(0x16c)]('anEnd')[_0x281a6a(0x1ca)];if(!_0x182708||!_0x335fd2)return;const _0x4a157f=sessions[_0x281a6a(0x272)](_0xd2f25d=>_0xd2f25d[_0x281a6a(0x184)]>=_0x182708&&_0xd2f25d[_0x281a6a(0x184)]<=_0x335fd2&&_0xd2f25d[_0x281a6a(0x1e7)]!=='cancelled'),_0x37d263=_0x4a157f['length'],_0x4c1f2e=_0x4a157f['filter'](_0x29e63b=>_0x29e63b[_0x281a6a(0x1e7)]===_0x281a6a(0x17e))['length'],_0x52b19b=_0x37d263>0x0?Math['round'](_0x4c1f2e/_0x37d263*0x64):0x0;document[_0x281a6a(0x16c)](_0x281a6a(0x1a5))['textContent']=_0x52b19b+'%',document[_0x281a6a(0x16c)](_0x281a6a(0x27c))[_0x281a6a(0x26e)]=_0x4c1f2e+'\x20–∏–∑\x20'+_0x37d263+_0x281a6a(0x1b9);const _0x3c127e=document[_0x281a6a(0x16c)](_0x281a6a(0x1a1)),_0x34b977=0x2*Math['PI']*0x23,_0x38ab2f=_0x34b977-_0x52b19b/0x64*_0x34b977;_0x3c127e[_0x281a6a(0x1c6)][_0x281a6a(0x21a)]=_0x38ab2f;const _0x5bd5ad={};_0x4a157f['forEach'](_0x412181=>{const _0x236316=_0x281a6a;if(!_0x5bd5ad[_0x412181[_0x236316(0x17a)]]){const _0x1c7e20=clients[_0x236316(0x1ce)](_0x43a752=>_0x43a752['name']===_0x412181['client']);_0x5bd5ad[_0x412181[_0x236316(0x17a)]]={'total':0x0,'done':0x0,'color':_0x1c7e20?_0x1c7e20['color']:'#fff'};}_0x5bd5ad[_0x412181[_0x236316(0x17a)]][_0x236316(0x179)]++;if(_0x412181[_0x236316(0x1e7)]===_0x236316(0x17e))_0x5bd5ad[_0x412181['client']][_0x236316(0x1a6)]++;});const _0x5d6675=document['getElementById'](_0x281a6a(0x1c1));_0x5d6675[_0x281a6a(0x1db)]='';const _0x4167c9=Object[_0x281a6a(0x206)](_0x5bd5ad)[_0x281a6a(0x285)]((_0x46e0f0,_0x42c916)=>_0x42c916[0x1][_0x281a6a(0x179)]-_0x46e0f0[0x1][_0x281a6a(0x179)]);if(_0x4167c9[_0x281a6a(0x1c7)]===0x0){_0x5d6675[_0x281a6a(0x1db)]=_0x281a6a(0x201);return;}_0x4167c9[_0x281a6a(0x236)](([_0x8e70ba,_0x498c42])=>{const _0x247d61=_0x281a6a,_0x31e702=Math[_0x247d61(0x23f)](_0x498c42[_0x247d61(0x1a6)]/_0x498c42[_0x247d61(0x179)]*0x64),_0x4f10f4=document[_0x247d61(0x120)](_0x247d61(0x212));_0x4f10f4['className']=_0x247d61(0x112),_0x4f10f4['style'][_0x247d61(0x14c)]=_0x498c42['color'],_0x4f10f4[_0x247d61(0x1db)]=_0x247d61(0x11c)+_0x8e70ba+_0x247d61(0x135)+_0x498c42[_0x247d61(0x1a6)]+_0x247d61(0x140)+_0x498c42[_0x247d61(0x179)]+_0x247d61(0x100)+_0x31e702+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x5d6675['appendChild'](_0x4f10f4);});}function formatMinsToHrs(_0x142685){const _0x142def=a2_0x34ca0a;if(_0x142685===0x0)return'0';const _0x22a034=Math[_0x142def(0x266)](_0x142685/0x3c),_0xdb696b=_0x142685%0x3c;if(_0xdb696b===0x0)return _0x22a034+'—á';return _0x22a034+'—á\x20'+_0xdb696b+'–º';}