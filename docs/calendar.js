const a2_0x1283c3=a2_0x2845;(function(_0x58e861,_0x40a925){const _0x2050aa=a2_0x2845,_0x2ac9e9=_0x58e861();while(!![]){try{const _0x59fdfb=-parseInt(_0x2050aa(0x1fa))/0x1+parseInt(_0x2050aa(0x18c))/0x2*(-parseInt(_0x2050aa(0x26f))/0x3)+parseInt(_0x2050aa(0x146))/0x4*(-parseInt(_0x2050aa(0x196))/0x5)+-parseInt(_0x2050aa(0x115))/0x6*(parseInt(_0x2050aa(0x10f))/0x7)+-parseInt(_0x2050aa(0x149))/0x8*(-parseInt(_0x2050aa(0x237))/0x9)+-parseInt(_0x2050aa(0x1e3))/0xa+parseInt(_0x2050aa(0x183))/0xb*(parseInt(_0x2050aa(0x1f5))/0xc);if(_0x59fdfb===_0x40a925)break;else _0x2ac9e9['push'](_0x2ac9e9['shift']());}catch(_0x46d408){_0x2ac9e9['push'](_0x2ac9e9['shift']());}}}(a2_0x1651,0xc5561),function initTMA(){const _0x560030=a2_0x2845;try{const _0x3b15e2=window[_0x560030(0x1db)]?.[_0x560030(0x26c)];if(!_0x3b15e2)return;_0x3b15e2[_0x560030(0x171)](),_0x3b15e2['expand']();try{_0x3b15e2['setHeaderColor'](_0x560030(0x19a)),_0x3b15e2[_0x560030(0x138)]&&_0x3b15e2[_0x560030(0x138)](_0x560030(0x19a));}catch(_0x5a55d1){console['log']('Error\x20setting\x20color:',_0x5a55d1);}try{_0x3b15e2[_0x560030(0x1f4)]&&(_0x3b15e2[_0x560030(0x1f4)][_0x560030(0x14c)](),_0x3b15e2['BackButton'][_0x560030(0x22d)](),_0x3b15e2['BackButton'][_0x560030(0x249)](function(){const _0x3551be=_0x560030;window[_0x3551be(0x178)][_0x3551be(0x247)]=_0x3551be(0x273);}));}catch(_0x2c5d24){console[_0x560030(0x155)](_0x560030(0x15e),_0x2c5d24);}try{if(_0x3b15e2['disableVerticalSwipes'])_0x3b15e2[_0x560030(0x256)]();}catch(_0x53006b){}}catch(_0x5ce5ac){console[_0x560030(0x166)](_0x560030(0x164),_0x5ce5ac);}}());function isAdmin(){const _0x523a52=a2_0x2845;try{const _0xe0d05c=Number(window[_0x523a52(0x1db)]?.[_0x523a52(0x26c)]?.['initDataUnsafe']?.['user']?.['id']);return _0xe0d05c===0xbaf7174;}catch(_0x3275b3){return![];}}const APP_VERSION='v9.0-BATCH-CALENDAR',API_URL=a2_0x1283c3(0x1d6),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x1283c3(0x1d4),KEY_SESSIONS='uc_sessions_v9',KEY_SETTINGS='uc_settings_v9';let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x4aa0fe=a2_0x1283c3;return window['Telegram']?.[_0x4aa0fe(0x26c)]?.['initDataUnsafe']?.[_0x4aa0fe(0x216)]?.['id']||_0x4aa0fe(0x1af);},'saveLocally'(){const _0x25eec6=a2_0x1283c3;try{localStorage['setItem'](KEY_CLIENTS,JSON[_0x25eec6(0x259)](clients)),localStorage[_0x25eec6(0x17c)](KEY_SESSIONS,JSON[_0x25eec6(0x259)](sessions)),localStorage[_0x25eec6(0x17c)](KEY_SETTINGS,JSON[_0x25eec6(0x259)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x52bedd){console[_0x25eec6(0x166)](_0x25eec6(0x165),_0x52bedd);}},'loadLocal'(){const _0x3e9e26=a2_0x1283c3;try{const _0x2662a6=localStorage[_0x3e9e26(0x157)](KEY_CLIENTS);if(_0x2662a6)clients=JSON['parse'](_0x2662a6);const _0x3be925=localStorage[_0x3e9e26(0x157)](KEY_SESSIONS);if(_0x3be925)sessions=JSON['parse'](_0x3be925);const _0x2b12c=localStorage['getItem'](KEY_SETTINGS);if(_0x2b12c){const _0x5903cd=JSON['parse'](_0x2b12c);if(_0x5903cd[_0x3e9e26(0x162)])availabilityPattern=_0x5903cd[_0x3e9e26(0x162)];if(_0x5903cd['exceptions'])dateExceptions=_0x5903cd[_0x3e9e26(0x19f)];if(_0x5903cd[_0x3e9e26(0x20c)])specialRanges=_0x5903cd['ranges'];}else{for(let _0x17fc4b=0x0;_0x17fc4b<0x7;_0x17fc4b++)availabilityPattern[_0x17fc4b]=Array[_0x3e9e26(0x1f6)]({'length':0xc},(_0x3669f2,_0x328b95)=>_0x328b95+0x9);}}catch(_0x54d64b){console['error']('Local\x20Load\x20Error',_0x54d64b);}},async 'fetchFromServer'(_0x383e12,_0xfc05b0={}){const _0x4d3a5e=a2_0x1283c3,_0x2f0499=window[_0x4d3a5e(0x1db)]?.[_0x4d3a5e(0x26c)],_0x39cb2d={'action':_0x383e12,'init_data':_0x2f0499?.[_0x4d3a5e(0x17b)]||'',..._0xfc05b0};try{const _0x271b48=await fetch(API_URL,{'method':_0x4d3a5e(0x13b),'headers':{'Content-Type':_0x4d3a5e(0x117)},'body':JSON[_0x4d3a5e(0x259)](_0x39cb2d)}),_0x4f848c=await _0x271b48[_0x4d3a5e(0x182)]();if(!_0x4f848c['ok'])throw new Error(_0x4f848c[_0x4d3a5e(0x166)]||_0x4d3a5e(0x159));return _0x4f848c[_0x4d3a5e(0x16e)];}catch(_0x397c60){console['error'](_0x4d3a5e(0x217)+_0x383e12+_0x4d3a5e(0x156),_0x397c60);throw _0x397c60;}},async 'syncLoad'(){const _0x573066=a2_0x1283c3,_0x1a0f21=new Date(),_0x3b2c64=_0x1a0f21[_0x573066(0x227)]()+'-'+String(_0x1a0f21[_0x573066(0x27a)]()+0x1)[_0x573066(0x111)](0x2,'0'),_0x450a9c=new Date(_0x1a0f21);_0x450a9c['setMonth'](_0x1a0f21[_0x573066(0x27a)]()+0x1);const _0x497324=_0x450a9c[_0x573066(0x227)]()+'-'+String(_0x450a9c[_0x573066(0x27a)]()+0x1)['padStart'](0x2,'0'),_0x1f23fa=Date['now']();console[_0x573066(0x155)](_0x573066(0x233)+_0x3b2c64+',\x20'+_0x497324+_0x573066(0x12a));try{const [_0x577fee,_0x5ddd39]=await Promise[_0x573066(0x184)]([this[_0x573066(0x1c6)](_0x573066(0x261),{'month_str':_0x3b2c64}),this[_0x573066(0x1c6)](_0x573066(0x261),{'month_str':_0x497324})]);if(lastUserActionTime>_0x1f23fa)return console['warn'](_0x573066(0x114)),![];return this['mergeServerData'](_0x577fee,_0x3b2c64),this[_0x573066(0x1e1)](_0x5ddd39,_0x497324),this['saveLocally'](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x7b69e1){console[_0x573066(0x166)](_0x7b69e1);throw _0x7b69e1;}},'mergeServerData'(_0x4acb2b,_0x5ecd90){const _0x6eb58b=a2_0x1283c3;if(!_0x4acb2b)return;_0x4acb2b['clients']&&Array['isArray'](_0x4acb2b[_0x6eb58b(0x119)])&&(clients=_0x4acb2b['clients']);if(_0x4acb2b[_0x6eb58b(0x193)]){if(_0x4acb2b[_0x6eb58b(0x193)][_0x6eb58b(0x162)])availabilityPattern=_0x4acb2b['settings'][_0x6eb58b(0x162)];if(_0x4acb2b[_0x6eb58b(0x193)]['exceptions'])dateExceptions=_0x4acb2b[_0x6eb58b(0x193)][_0x6eb58b(0x19f)];if(_0x4acb2b[_0x6eb58b(0x193)][_0x6eb58b(0x20c)])specialRanges=_0x4acb2b[_0x6eb58b(0x193)][_0x6eb58b(0x20c)];if(_0x4acb2b[_0x6eb58b(0x193)]['cancel_window']){localStorage[_0x6eb58b(0x17c)]('uc_settings_cancel_window',_0x4acb2b[_0x6eb58b(0x193)][_0x6eb58b(0x1eb)]);const _0x1f7f12=document[_0x6eb58b(0x1da)](_0x6eb58b(0x1a9));if(_0x1f7f12)_0x1f7f12['value']=_0x4acb2b[_0x6eb58b(0x193)][_0x6eb58b(0x1eb)];}}_0x4acb2b[_0x6eb58b(0x211)]&&(sessions=sessions[_0x6eb58b(0x167)](_0x1a2541=>!_0x1a2541[_0x6eb58b(0x27b)][_0x6eb58b(0x201)](_0x5ecd90)),Object[_0x6eb58b(0x1ac)](_0x4acb2b['calendar'])[_0x6eb58b(0x1f9)](_0x48c824=>{const _0x285c6a=_0x6eb58b,_0x77001e=_0x4acb2b[_0x285c6a(0x211)][_0x48c824];_0x77001e['forEach'](_0x429821=>{const _0x23144d=_0x285c6a,_0x577e11=clients[_0x23144d(0x142)](_0x5ec634=>String(_0x5ec634['id'])===String(_0x429821['c']));sessions[_0x23144d(0x1b9)]({'id':_0x429821['i'],'clientId':_0x429821['c'],'client':_0x577e11?_0x577e11['name']:_0x23144d(0x168),'dateStr':_0x5ecd90+'-'+_0x48c824[_0x23144d(0x111)](0x2,'0'),'start':_0x429821['s'],'end':_0x429821['e'],'status':_0x429821['st']||_0x23144d(0x1f7),'note':_0x429821['n']||'','seriesId':_0x429821[_0x23144d(0x11e)]||null});});}));},async 'syncBatch'(_0xbed04c){const _0x3895bd=a2_0x1283c3,_0x141594=[...new Set(_0xbed04c)],_0x5dad83=_0x141594[_0x3895bd(0x276)](_0x377676=>{const _0x510ef7=_0x3895bd,_0x5aebbb=sessions[_0x510ef7(0x167)](_0x519365=>_0x519365['dateStr']===_0x377676&&_0x519365['status']!=='deleted'),_0x5e9825=_0x5aebbb['map'](_0x436ed2=>({'i':_0x436ed2['id'],'c':_0x436ed2[_0x510ef7(0x12d)],'s':_0x436ed2['start'],'e':_0x436ed2[_0x510ef7(0x126)],'st':_0x436ed2[_0x510ef7(0x1dd)],'n':_0x436ed2[_0x510ef7(0x180)],'sid':_0x436ed2['seriesId']}));return{'date':_0x377676,'day_data':_0x5e9825};});if(_0x5dad83[_0x3895bd(0x1f0)]===0x0)return;console[_0x3895bd(0x155)](_0x3895bd(0x1aa)+_0x5dad83[_0x3895bd(0x1f0)]+_0x3895bd(0x1bc)),await this[_0x3895bd(0x1c6)]('batch_sync',{'changes':_0x5dad83});}};async function init(){const _0x1e69da=a2_0x1283c3;DataManager['loadLocal'](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x1e69da(0x1da)](_0x1e69da(0x1b0))[_0x1e69da(0x1c4)]('scroll',()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']()[_0x1e69da(0x125)](()=>{showToast('–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ',!![]);})[_0x1e69da(0x246)](_0x2b9a92=>{const _0x60d45f=_0x1e69da;showToast(_0x60d45f(0x1c2),![]);});}function generateId(){const _0x2290e2=a2_0x1283c3;return Date[_0x2290e2(0x1f3)]()[_0x2290e2(0x11c)](0x24)+Math[_0x2290e2(0x15c)]()[_0x2290e2(0x11c)](0x24)[_0x2290e2(0x21f)](0x2,0x5);}function toggleSeriesInput(){const _0xece41e=a2_0x1283c3,_0x9c6481=document[_0xece41e(0x1da)]('inpRecurring')[_0xece41e(0x222)],_0x5901f3=document[_0xece41e(0x1da)](_0xece41e(0x269));_0x5901f3[_0xece41e(0x1bb)][_0xece41e(0x13d)]=_0x9c6481?'block':_0xece41e(0x1d9);const _0x189d0e=document[_0xece41e(0x1da)]('recurringOptionContainer');_0x189d0e[_0xece41e(0x1bb)]['borderRadius']=_0x9c6481?_0xece41e(0x281):'10px';}function openAddSession(_0x574ae1){const _0x68f59b=a2_0x1283c3;editingId=null,populateClientSelect(),document[_0x68f59b(0x1da)](_0x68f59b(0x21e))[_0x68f59b(0x16d)]=_0x68f59b(0x177),document['getElementById'](_0x68f59b(0x1e7))[_0x68f59b(0x1bb)][_0x68f59b(0x13d)]=_0x68f59b(0x1d9),document[_0x68f59b(0x1da)](_0x68f59b(0x279))[_0x68f59b(0x1bb)][_0x68f59b(0x13d)]='none';const _0x403e26=document[_0x68f59b(0x1da)](_0x68f59b(0x136)),_0xaa2116=document[_0x68f59b(0x1da)](_0x68f59b(0x269));_0x403e26[_0x68f59b(0x1bb)][_0x68f59b(0x13d)]='flex',_0x403e26[_0x68f59b(0x1bb)][_0x68f59b(0x140)]=_0x68f59b(0x24d),document[_0x68f59b(0x1da)](_0x68f59b(0x23a))[_0x68f59b(0x222)]=![],document[_0x68f59b(0x1da)](_0x68f59b(0x17f))[_0x68f59b(0x224)]=0x4,_0xaa2116[_0x68f59b(0x1bb)][_0x68f59b(0x13d)]=_0x68f59b(0x1d9),document[_0x68f59b(0x1da)]('inpDate')[_0x68f59b(0x224)]=getLocalDateStr(_0x574ae1),updateDateDisplay();const _0x529b61=_0x574ae1[_0x68f59b(0x25e)]();document[_0x68f59b(0x1da)](_0x68f59b(0x24f))[_0x68f59b(0x224)]=String(_0x529b61)['padStart'](0x2,'0')+_0x68f59b(0x170),document[_0x68f59b(0x1da)]('inpEnd')[_0x68f59b(0x224)]=String(_0x529b61+0x1)[_0x68f59b(0x111)](0x2,'0')+_0x68f59b(0x170),openSheet(_0x68f59b(0x120));}function openEdit(_0x8ede0a){const _0x2b4bec=a2_0x1283c3;editingId=_0x8ede0a['id'],populateClientSelect(),document[_0x2b4bec(0x1da)](_0x2b4bec(0x21e))[_0x2b4bec(0x16d)]='–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å',document[_0x2b4bec(0x1da)](_0x2b4bec(0x1e7))[_0x2b4bec(0x1bb)][_0x2b4bec(0x13d)]=_0x2b4bec(0x13e);const _0x327b74=document[_0x2b4bec(0x1da)](_0x2b4bec(0x279));_0x327b74[_0x2b4bec(0x1bb)]['display']=_0x2b4bec(0x238);_0x8ede0a[_0x2b4bec(0x1dd)]===_0x2b4bec(0x18f)?(_0x327b74[_0x2b4bec(0x118)]=_0x2b4bec(0x123),_0x327b74[_0x2b4bec(0x202)]=_0x2b4bec(0x192)):(_0x327b74[_0x2b4bec(0x118)]=_0x2b4bec(0x112),_0x327b74[_0x2b4bec(0x202)]=_0x2b4bec(0x11f));const _0x803cc0=!!_0x8ede0a['seriesId'];document[_0x2b4bec(0x1da)]('recurringOptionContainer')[_0x2b4bec(0x1bb)]['display']=_0x2b4bec(0x1d9),document[_0x2b4bec(0x1da)]('seriesCountContainer')['style'][_0x2b4bec(0x13d)]='none',_0x803cc0?(document[_0x2b4bec(0x1da)](_0x2b4bec(0x160))[_0x2b4bec(0x1bb)][_0x2b4bec(0x13d)]=_0x2b4bec(0x238),document[_0x2b4bec(0x1da)](_0x2b4bec(0x160))[_0x2b4bec(0x1d8)](_0x2b4bec(0x235))[_0x2b4bec(0x16d)]=_0x2b4bec(0x132)):document['getElementById'](_0x2b4bec(0x160))['style'][_0x2b4bec(0x13d)]=_0x2b4bec(0x1d9),document[_0x2b4bec(0x1da)]('inpClient')[_0x2b4bec(0x224)]=_0x8ede0a[_0x2b4bec(0x242)],document[_0x2b4bec(0x1da)](_0x2b4bec(0x18d))[_0x2b4bec(0x224)]=_0x8ede0a[_0x2b4bec(0x27b)],document[_0x2b4bec(0x1da)]('inpStart')[_0x2b4bec(0x224)]=_0x8ede0a[_0x2b4bec(0x23d)],document[_0x2b4bec(0x1da)](_0x2b4bec(0x1d7))[_0x2b4bec(0x224)]=_0x8ede0a[_0x2b4bec(0x126)],document['getElementById']('inpNote')[_0x2b4bec(0x224)]=_0x8ede0a[_0x2b4bec(0x180)]||'',updateDateDisplay(),openSheet(_0x2b4bec(0x120));}async function trySaveSession(){const _0x4aa673=a2_0x1283c3,_0x501fc5=document[_0x4aa673(0x1da)](_0x4aa673(0x1a7))[_0x4aa673(0x224)],_0x516873=document[_0x4aa673(0x1da)](_0x4aa673(0x18d))[_0x4aa673(0x224)],_0x222fa3=document[_0x4aa673(0x1da)](_0x4aa673(0x24f))[_0x4aa673(0x224)],_0x254582=document[_0x4aa673(0x1da)]('inpEnd')['value'],_0x548548=document['getElementById'](_0x4aa673(0x1ba))[_0x4aa673(0x224)],_0x2e695d=document[_0x4aa673(0x1da)](_0x4aa673(0x23a))[_0x4aa673(0x222)];let _0x59f8d1=0x4;if(_0x2e695d){const _0x5125b1=parseInt(document[_0x4aa673(0x1da)]('inpSeriesCount')[_0x4aa673(0x224)]);if(!_0x5125b1||_0x5125b1<0x2){showToast('–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏',![]);return;}if(_0x5125b1>0x64){showToast(_0x4aa673(0x1bd),![]);return;}_0x59f8d1=_0x5125b1;}const _0x5e843d=clients[_0x4aa673(0x142)](_0x30a385=>_0x30a385['name']===_0x501fc5);if(!_0x5e843d){showToast('–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞',![]);return;}const _0x53de34=validateAppointment(_0x516873,_0x222fa3,_0x254582,editingId,_0x5e843d['id']);if(!_0x53de34[_0x4aa673(0x251)]){showToast(_0x53de34[_0x4aa673(0x260)],![]);return;}_0x53de34['warning']&&showToast(_0x53de34[_0x4aa673(0x19e)],![]);const _0x227433={'client':_0x501fc5,'clientId':_0x5e843d['id'],'start':_0x222fa3,'end':_0x254582,'note':_0x548548,'status':_0x4aa673(0x1f7)},_0x4e1a08=editingId?sessions[_0x4aa673(0x142)](_0x15c7d5=>_0x15c7d5['id']===editingId):null;if(_0x4e1a08&&_0x4e1a08[_0x4aa673(0x1ff)]){tempSessionData={..._0x227433,'dateStr':_0x516873,'id':editingId,'seriesId':_0x4e1a08[_0x4aa673(0x1ff)]},openActionSheet(_0x4aa673(0x21d));return;}let _0x5349ef=null;if(!editingId)_0x5349ef=_0x4aa673(0x124);else{if(_0x4e1a08){if(String(_0x4e1a08['clientId'])!==String(_0x5e843d['id']))console['log'](_0x4aa673(0x252)),NotificationManager[_0x4aa673(0x1a1)](_0x4aa673(0x137),_0x4e1a08),_0x5349ef=_0x4aa673(0x124);else(_0x4e1a08[_0x4aa673(0x23d)]!==_0x222fa3||_0x4e1a08[_0x4aa673(0x126)]!==_0x254582||_0x4e1a08['dateStr']!==_0x516873)&&(_0x5349ef=_0x4aa673(0x148));}}if(!editingId&&_0x2e695d){createBatchSeries(_0x227433,_0x516873,_0x59f8d1),NotificationManager['send'](_0x4aa673(0x124),{..._0x227433,'dateStr':_0x516873});return;}lastUserActionTime=Date[_0x4aa673(0x1f3)]();const _0x1f8e47={..._0x227433,'dateStr':_0x516873,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x1f8e47),_0x5349ef&&NotificationManager[_0x4aa673(0x1a1)](_0x5349ef,_0x1f8e47);}function toggleSessionStatus(){const _0xbce3a6=a2_0x1283c3;lastUserActionTime=Date['now']();const _0x23723e=sessions['find'](_0x4ebaa7=>_0x4ebaa7['id']===editingId);if(!_0x23723e)return;const _0x78b519=_0x23723e[_0xbce3a6(0x1dd)]==='completed'?_0xbce3a6(0x1f7):_0xbce3a6(0x18f);_0x23723e[_0xbce3a6(0x1dd)]=_0x78b519,saveSingleSession(_0x23723e),_0x78b519===_0xbce3a6(0x18f)&&NotificationManager[_0xbce3a6(0x1a1)](_0xbce3a6(0x266),_0x23723e),showToast(_0x78b519==='completed'?_0xbce3a6(0x205):_0xbce3a6(0x24b),!![]);}function validateAppointment(_0x4226b6,_0x44465c,_0x490e7e,_0xaff148,_0x564ed8){const _0x5a839b=a2_0x1283c3,[_0x327b7b,_0x261e59]=_0x44465c['split'](':')[_0x5a839b(0x276)](Number),[_0x5700f9,_0x4a1252]=_0x490e7e[_0x5a839b(0x23b)](':')[_0x5a839b(0x276)](Number),_0x7b226f=_0x327b7b*0x3c+_0x261e59,_0x423482=_0x5700f9*0x3c+_0x4a1252,_0x3b61a1=String(_0x564ed8);let _0x3d0bf3=![],_0x375c32='';for(let _0x770e83 of sessions){if(_0x770e83[_0x5a839b(0x27b)]!==_0x4226b6)continue;if(_0x770e83[_0x5a839b(0x1dd)]===_0x5a839b(0x163))continue;if(_0xaff148&&String(_0x770e83['id'])===String(_0xaff148))continue;const [_0x1e5a3b,_0x512b25]=_0x770e83[_0x5a839b(0x23d)][_0x5a839b(0x23b)](':')[_0x5a839b(0x276)](Number),[_0x3f41d5,_0x4fa9cd]=_0x770e83['end'][_0x5a839b(0x23b)](':')[_0x5a839b(0x276)](Number),_0x5f2e7d=_0x1e5a3b*0x3c+_0x512b25,_0xf0bb42=_0x3f41d5*0x3c+_0x4fa9cd;if(Math['max'](_0x7b226f,_0x5f2e7d)<Math[_0x5a839b(0x258)](_0x423482,_0xf0bb42)){if(_0x770e83[_0x5a839b(0x12d)]&&String(_0x770e83[_0x5a839b(0x12d)])===_0x3b61a1)return{'valid':![],'msg':_0x5a839b(0x1b4)+_0x770e83[_0x5a839b(0x242)]+_0x5a839b(0x254)};_0x3d0bf3=!![],_0x375c32=_0x770e83[_0x5a839b(0x242)];}}if(_0x3d0bf3)return{'valid':!![],'warning':_0x5a839b(0x20b)+_0x375c32};return{'valid':!![]};}function saveSingleSession(_0x2cd402){const _0x5ab68b=a2_0x1283c3;if(editingId){const _0x268bb7=sessions[_0x5ab68b(0x198)](_0x114ecf=>_0x114ecf['id']===editingId);if(_0x268bb7!==-0x1)sessions[_0x268bb7]=_0x2cd402;}else sessions['push'](_0x2cd402);afterSaveAction([_0x2cd402[_0x5ab68b(0x27b)]]);}function createBatchSeries(_0x3fddf0,_0x4c9be9,_0x38ff63){const _0x9312a1=a2_0x1283c3,_0x415d5f=generateId(),_0x778057=[],_0x6c9c1a=[];let _0x19b63c=0x0,_0x1a5a1e=new Date(_0x4c9be9);for(let _0xc447b=0x0;_0xc447b<_0x38ff63;_0xc447b++){const _0x53bd58=getLocalDateStr(_0x1a5a1e),_0x500ca5=validateAppointment(_0x53bd58,_0x3fddf0['start'],_0x3fddf0[_0x9312a1(0x126)],null,_0x3fddf0['clientId']);if(!_0x500ca5['valid'])console['log'](_0x9312a1(0x174)+_0x53bd58+_0x9312a1(0x1df)),_0x19b63c++;else{const _0x4f80a1={..._0x3fddf0,'id':generateId(),'dateStr':_0x53bd58,'seriesId':_0x415d5f};_0x6c9c1a[_0x9312a1(0x1b9)](_0x4f80a1),_0x778057[_0x9312a1(0x1b9)](_0x53bd58);}_0x1a5a1e[_0x9312a1(0x15a)](_0x1a5a1e[_0x9312a1(0x12f)]()+0x7);}if(_0x6c9c1a[_0x9312a1(0x1f0)]===0x0){showToast('–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!',![]);return;}sessions[_0x9312a1(0x1b9)](..._0x6c9c1a),lastUserActionTime=Date[_0x9312a1(0x1f3)]();let _0x1f7eb1=_0x9312a1(0x277)+_0x6c9c1a[_0x9312a1(0x1f0)];_0x19b63c>0x0&&(_0x1f7eb1+=_0x9312a1(0x131)+_0x19b63c+')'),showToast(_0x1f7eb1,!![]),afterSaveAction(_0x778057);}function updateSeriesBatch(_0x38c20c,_0x2c03b4){const _0x37daad=a2_0x1283c3,_0x3220aa=[],_0x14cabb=_0x2c03b4[_0x37daad(0x1ff)];if(_0x38c20c===_0x37daad(0x1cd)){const _0x4aa55e={..._0x2c03b4,'seriesId':null},_0x2b5e30=sessions[_0x37daad(0x198)](_0x96a370=>_0x96a370['id']===_0x2c03b4['id']);if(_0x2b5e30!==-0x1)sessions[_0x2b5e30]=_0x4aa55e;_0x3220aa['push'](_0x4aa55e['dateStr']);}else{if(_0x38c20c==='series'){const _0x554dcf=_0x2c03b4[_0x37daad(0x27b)];sessions[_0x37daad(0x1f9)]((_0x22b1d2,_0x54e69e)=>{const _0x5bcdb1=_0x37daad;_0x22b1d2[_0x5bcdb1(0x1ff)]===_0x14cabb&&_0x22b1d2[_0x5bcdb1(0x27b)]>=_0x554dcf&&(sessions[_0x54e69e]={...sessions[_0x54e69e],'start':_0x2c03b4[_0x5bcdb1(0x23d)],'end':_0x2c03b4['end'],'note':_0x2c03b4[_0x5bcdb1(0x180)],'client':_0x2c03b4[_0x5bcdb1(0x242)],'clientId':_0x2c03b4[_0x5bcdb1(0x12d)]},_0x3220aa['push'](_0x22b1d2[_0x5bcdb1(0x27b)]));});}}afterSaveAction(_0x3220aa);}function tryDeleteSession(){const _0x414dd7=a2_0x1283c3,_0x5e077e=sessions['find'](_0x4340e6=>_0x4340e6['id']===editingId);if(!_0x5e077e)return;_0x5e077e[_0x414dd7(0x1ff)]?openActionSheet(_0x414dd7(0x1d2)):commitDelete(_0x414dd7(0x1cd),_0x5e077e);}function commitDelete(_0x5511ef,_0x12a7ba){const _0x1376cb=a2_0x1283c3;lastUserActionTime=Date['now'](),NotificationManager[_0x1376cb(0x1a1)](_0x1376cb(0x137),_0x12a7ba);const _0x1f27f0=[];if(_0x5511ef===_0x1376cb(0x1cd))sessions=sessions[_0x1376cb(0x167)](_0x521fd0=>_0x521fd0['id']!==_0x12a7ba['id']),_0x1f27f0[_0x1376cb(0x1b9)](_0x12a7ba[_0x1376cb(0x27b)]);else{if(_0x5511ef===_0x1376cb(0x26d)){const _0x25cac9=_0x12a7ba[_0x1376cb(0x27b)],_0x4f6706=_0x12a7ba[_0x1376cb(0x1ff)];sessions[_0x1376cb(0x1f9)](_0x42cb22=>{const _0x3fb4a1=_0x1376cb;_0x42cb22[_0x3fb4a1(0x1ff)]===_0x4f6706&&_0x42cb22[_0x3fb4a1(0x27b)]>=_0x25cac9&&_0x1f27f0[_0x3fb4a1(0x1b9)](_0x42cb22[_0x3fb4a1(0x27b)]);}),sessions=sessions[_0x1376cb(0x167)](_0x15bad7=>!(_0x15bad7[_0x1376cb(0x1ff)]===_0x4f6706&&_0x15bad7[_0x1376cb(0x27b)]>=_0x25cac9));}}afterSaveAction(_0x1f27f0);}function afterSaveAction(_0x315fbb){const _0x209e16=a2_0x1283c3;DataManager[_0x209e16(0x199)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x209e16(0x1ef)](_0x315fbb)[_0x209e16(0x125)](()=>console['log'](_0x209e16(0x1ca)))[_0x209e16(0x246)](_0x1202a4=>showToast(_0x209e16(0x17a),![]));}const NotificationManager={'formatDate'(_0x149b7b){const _0x1a4113=a2_0x1283c3,_0xdc0bb0=new Date(_0x149b7b),_0x25b876={'weekday':_0x1a4113(0x22f),'day':'numeric','month':_0x1a4113(0x22f)};let _0x3f1f01=_0xdc0bb0[_0x1a4113(0x23f)]('ru-RU',_0x25b876);return _0x3f1f01[_0x1a4113(0x282)](0x0)[_0x1a4113(0x1be)]()+_0x3f1f01[_0x1a4113(0x20a)](0x1);},'getText'(_0x524496,_0x43636d){const _0x409bd5=a2_0x1283c3,_0x14a017=this['formatDate'](_0x43636d[_0x409bd5(0x27b)]);switch(_0x524496){case _0x409bd5(0x124):return'<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a'+(_0x409bd5(0x179)+_0x14a017+'\x0a')+(_0x409bd5(0x20f)+_0x43636d[_0x409bd5(0x23d)]+_0x409bd5(0x234)+_0x43636d[_0x409bd5(0x126)]+'\x0a\x0a')+'–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™';case'update':return _0x409bd5(0x128)+'–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a'+(_0x409bd5(0x27c)+_0x43636d['start']+'\x20‚Äî\x20'+_0x43636d['end']+'</b>\x0a\x0a')+(_0x409bd5(0x179)+_0x14a017);case'cancel':return _0x409bd5(0x250)+('–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>'+_0x14a017+'\x20('+_0x43636d['start']+_0x409bd5(0x152));case _0x409bd5(0x266):return _0x409bd5(0x14a)+'–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a'+_0x409bd5(0x22e);default:return'';}},async 'send'(_0xe21b0,_0x50ef55){const _0x365581=a2_0x1283c3;console[_0x365581(0x155)](_0x365581(0x1dc),_0xe21b0,_0x50ef55);if(!_0x50ef55){console[_0x365581(0x166)](_0x365581(0x1ad));return;}const _0x694893=String(_0x50ef55[_0x365581(0x12d)]);console[_0x365581(0x155)](_0x365581(0x1ce),_0x694893);if(!_0x50ef55[_0x365581(0x12d)]||_0x694893===_0x365581(0x1e2)||_0x694893==='null'){console['error'](_0x365581(0x1ea));if(_0x50ef55[_0x365581(0x242)]){const _0x146976=clients['find'](_0xb2ac81=>_0xb2ac81['name']===_0x50ef55['client']);if(_0x146976)return console['log']('[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:',_0x146976['id']),this[_0x365581(0x1a1)](_0xe21b0,{..._0x50ef55,'clientId':_0x146976['id']});}return;}if(_0x694893[_0x365581(0x1f0)]<0x5){console['warn'](_0x365581(0x1fe),_0x694893);return;}const _0xda969a=this['getText'](_0xe21b0,_0x50ef55);if(!_0xda969a){console['error']('[Notify]\x20Error:\x20Text\x20generation\x20failed');return;}console[_0x365581(0x155)](_0x365581(0x147)+_0x694893+'...'),DataManager[_0x365581(0x1c6)]('send_notification',{'chatId':_0x694893,'text':_0xda969a})[_0x365581(0x125)](_0xef4dc3=>console['log'](_0x365581(0x1e6),_0xef4dc3))[_0x365581(0x246)](_0x3a41b3=>console[_0x365581(0x166)](_0x365581(0x15b),_0x3a41b3));}};function getLocalDateStr(_0x355540){const _0x156df2=a2_0x1283c3,_0x387b3e=_0x355540['getFullYear'](),_0x1ffda2=String(_0x355540[_0x156df2(0x27a)]()+0x1)['padStart'](0x2,'0'),_0x528f0c=String(_0x355540[_0x156df2(0x12f)]())[_0x156df2(0x111)](0x2,'0');return _0x387b3e+'-'+_0x1ffda2+'-'+_0x528f0c;}function getDateStr(_0x2f92f5){const _0x6689be=a2_0x1283c3,_0x23bb39=new Date();return _0x23bb39[_0x6689be(0x15a)](_0x23bb39[_0x6689be(0x12f)]()+_0x2f92f5),getLocalDateStr(_0x23bb39);}function getStartOfWeek(_0x5745f1){const _0x3ddca4=a2_0x1283c3,_0x3cbf29=(function(){let _0x5be7ce=!![];return function(_0x2c2bda,_0x4223f8){const _0x4748ae=_0x5be7ce?function(){const _0x580a6d=a2_0x2845;if(_0x4223f8){const _0x836e8f=_0x4223f8[_0x580a6d(0x169)](_0x2c2bda,arguments);return _0x4223f8=null,_0x836e8f;}}:function(){};return _0x5be7ce=![],_0x4748ae;};}()),_0x5cfc0e=_0x3cbf29(this,function(){const _0x593294=a2_0x2845;return _0x5cfc0e[_0x593294(0x11c)]()['search']('(((.+)+)+)+$')[_0x593294(0x11c)]()[_0x593294(0x244)](_0x5cfc0e)[_0x593294(0x14d)]('(((.+)+)+)+$');});_0x5cfc0e();const _0x4bed72=new Date(_0x5745f1),_0x1a1f70=_0x4bed72['getDay'](),_0x5c92ed=_0x4bed72[_0x3ddca4(0x12f)]()-_0x1a1f70+(_0x1a1f70===0x0?-0x6:0x1);return _0x4bed72[_0x3ddca4(0x15a)](_0x5c92ed),_0x4bed72['setHours'](0x0,0x0,0x0,0x0),_0x4bed72;}function hexToRgba(_0x162379,_0x152b16){const _0x4f4fd5=a2_0x1283c3;if(!_0x162379)return _0x4f4fd5(0x21a);let _0x179e51=0x0,_0x22fa7d=0x0,_0x97c4f=0x0;if(_0x162379['length']===0x4)_0x179e51='0x'+_0x162379[0x1]+_0x162379[0x1],_0x22fa7d='0x'+_0x162379[0x2]+_0x162379[0x2],_0x97c4f='0x'+_0x162379[0x3]+_0x162379[0x3];else _0x162379[_0x4f4fd5(0x1f0)]===0x7&&(_0x179e51='0x'+_0x162379[0x1]+_0x162379[0x2],_0x22fa7d='0x'+_0x162379[0x3]+_0x162379[0x4],_0x97c4f='0x'+_0x162379[0x5]+_0x162379[0x6]);return _0x4f4fd5(0x141)+ +_0x179e51+',\x20'+ +_0x22fa7d+',\x20'+ +_0x97c4f+',\x20'+_0x152b16+')';}function renderTimeColumn(){const _0x594e4b=a2_0x1283c3,_0x193e2c=document['getElementById']('timeColumn'),_0x43206b=document[_0x594e4b(0x1da)]('timeLineBadge');_0x193e2c[_0x594e4b(0x202)]='',_0x193e2c[_0x594e4b(0x190)](_0x43206b);for(let _0x5926f6=0x0;_0x5926f6<0x18;_0x5926f6++){const _0x58330d=document[_0x594e4b(0x11d)]('div');_0x58330d['className']=_0x594e4b(0x18b);if(_0x5926f6>0x0)_0x58330d[_0x594e4b(0x202)]=_0x594e4b(0x135)+String(_0x5926f6)[_0x594e4b(0x111)](0x2,'0')+_0x594e4b(0x185);_0x193e2c['appendChild'](_0x58330d);}}function renderDayRange(_0x8ca0b6,_0xba06ba){const _0x587f1=a2_0x1283c3,_0x36e21a=document['getElementById'](_0x587f1(0x21c)),_0x36cef4=document[_0x587f1(0x1da)](_0x587f1(0x1ee)),_0x4e6c9a=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x230624=new Date();_0x230624['setHours'](0x0,0x0,0x0,0x0);const _0x31c2a9=getLocalDateStr(new Date());for(let _0x3d5ada=_0x8ca0b6;_0x3d5ada<=_0xba06ba;_0x3d5ada++){const _0x5757f5=new Date(_0x230624);_0x5757f5['setDate'](_0x5757f5[_0x587f1(0x12f)]()+_0x3d5ada);const _0x206a48=getLocalDateStr(_0x5757f5);let _0xeef70f=_0x5757f5['getDay']()-0x1;if(_0xeef70f===-0x1)_0xeef70f=0x6;const _0x3855e1=_0x206a48===_0x31c2a9,_0x2acf43=document['createElement'](_0x587f1(0x19b));_0x2acf43[_0x587f1(0x118)]='day-col-header\x20'+(_0x3855e1?'today':''),_0x2acf43['id']=_0x587f1(0x229)+_0x206a48,_0x2acf43[_0x587f1(0x1ec)](_0x587f1(0x191),_0x206a48),_0x2acf43[_0x587f1(0x202)]=_0x587f1(0x26b)+_0x4e6c9a[_0xeef70f]+_0x587f1(0x1b5)+_0x5757f5['getDate']()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0x206a48+_0x587f1(0x207),_0x2acf43[_0x587f1(0x204)]=()=>openDayOptions(_0x206a48,_0x4e6c9a[_0xeef70f]+'\x20'+_0x5757f5[_0x587f1(0x12f)]()),_0x36e21a[_0x587f1(0x190)](_0x2acf43);const _0xf2c75b=document[_0x587f1(0x11d)](_0x587f1(0x19b));_0xf2c75b[_0x587f1(0x118)]=_0x587f1(0x21b)+(_0x3855e1?_0x587f1(0x14f):''),_0xf2c75b[_0x587f1(0x1ec)](_0x587f1(0x191),_0x206a48),_0xf2c75b[_0x587f1(0x1ec)](_0x587f1(0x27e),_0xeef70f),renderEventsForColumn(_0xf2c75b,_0x206a48,_0xeef70f),attachLongPressHandler(_0xf2c75b,_0x5757f5),_0x36cef4[_0x587f1(0x190)](_0xf2c75b),updateDayStats(_0x206a48);}}function reRenderBlocks(){const _0x4243e0=a2_0x1283c3;document['querySelectorAll'](_0x4243e0(0x1a6))[_0x4243e0(0x1f9)](_0x2d5cc1=>{const _0x33a4d2=_0x4243e0;_0x2d5cc1['querySelectorAll'](_0x33a4d2(0x1de))[_0x33a4d2(0x1f9)](_0x16388e=>_0x16388e[_0x33a4d2(0x209)]());const _0x4bab07=_0x2d5cc1[_0x33a4d2(0x24c)](_0x33a4d2(0x191)),_0x4d3f33=parseInt(_0x2d5cc1['getAttribute'](_0x33a4d2(0x27e))),_0x224f48=Math['round'](_0x2d5cc1[_0x33a4d2(0x203)]);(availabilityPattern[_0x4d3f33]||[])[_0x33a4d2(0x1f9)](_0x61b100=>{const _0x5a513f=_0x33a4d2,_0x58632f=document[_0x5a513f(0x11d)](_0x5a513f(0x19b));_0x58632f[_0x5a513f(0x118)]='blocked-slot\x20stripe-bg';const _0x19448a=_0x61b100*GRID_H;_0x58632f[_0x5a513f(0x1bb)]['top']=_0x19448a+'px',_0x58632f[_0x5a513f(0x1bb)][_0x5a513f(0x1e4)]='-'+_0x224f48+'px\x20-'+_0x19448a+'px',_0x2d5cc1[_0x5a513f(0x190)](_0x58632f);});if(specialRanges&&specialRanges[_0x33a4d2(0x1f0)]>0x0){const _0x334b81=new Date(_0x4bab07+_0x33a4d2(0x1c0))['getTime'](),_0x5aad11=new Date(_0x4bab07+_0x33a4d2(0x153))[_0x33a4d2(0x268)]();specialRanges[_0x33a4d2(0x1f9)](_0x166a28=>{const _0x20fe8c=_0x33a4d2,_0x4e5e95=new Date(_0x166a28[_0x20fe8c(0x23d)])['getTime'](),_0x1fc93a=new Date(_0x166a28[_0x20fe8c(0x126)])[_0x20fe8c(0x268)](),_0x506129=Math[_0x20fe8c(0x208)](_0x334b81,_0x4e5e95),_0xd73ad4=Math[_0x20fe8c(0x258)](_0x5aad11,_0x1fc93a);if(_0x506129<_0xd73ad4){if(_0x506129<=_0x334b81&&_0xd73ad4>=_0x5aad11-0xea60){if(!_0x2d5cc1[_0x20fe8c(0x1d8)](_0x20fe8c(0x27d))){const _0x5974b4=document[_0x20fe8c(0x11d)](_0x20fe8c(0x19b));_0x5974b4[_0x20fe8c(0x118)]=_0x20fe8c(0x1b7),_0x5974b4[_0x20fe8c(0x1bb)][_0x20fe8c(0x1e4)]='-'+_0x224f48+_0x20fe8c(0x176),_0x2d5cc1['appendChild'](_0x5974b4);}}else{const _0x118c62=(_0x506129-_0x334b81)/0x36ee80*GRID_H,_0x481bc5=(_0xd73ad4-_0x506129)/0x36ee80*GRID_H,_0x3bd214=document[_0x20fe8c(0x11d)](_0x20fe8c(0x19b));_0x3bd214[_0x20fe8c(0x118)]=_0x20fe8c(0x23c),_0x3bd214[_0x20fe8c(0x1bb)]['top']=_0x118c62+'px',_0x3bd214['style'][_0x20fe8c(0x24a)]=_0x481bc5+'px',_0x3bd214[_0x20fe8c(0x1bb)][_0x20fe8c(0x1e4)]='-'+_0x224f48+_0x20fe8c(0x1cc)+_0x118c62+'px',_0x2d5cc1[_0x20fe8c(0x190)](_0x3bd214);}}});}if(dateExceptions[_0x4bab07]==='off'){if(!_0x2d5cc1[_0x33a4d2(0x1d8)]('.day-off-overlay')){const _0x247bbf=document[_0x33a4d2(0x11d)](_0x33a4d2(0x19b));_0x247bbf[_0x33a4d2(0x118)]='day-off-overlay\x20stripe-bg',_0x247bbf[_0x33a4d2(0x1bb)]['backgroundPosition']='-'+_0x224f48+_0x33a4d2(0x176),_0x2d5cc1[_0x33a4d2(0x190)](_0x247bbf);}}renderEventsForColumn(_0x2d5cc1,_0x4bab07,_0x4d3f33),updateDayStats(_0x4bab07);});}function updateAllDayStats(){const _0x393ce2=a2_0x1283c3;document[_0x393ce2(0x143)](_0x393ce2(0x154))[_0x393ce2(0x1f9)](_0x573bda=>{const _0x3c29bf=_0x393ce2;updateDayStats(_0x573bda[_0x3c29bf(0x24c)](_0x3c29bf(0x191)));});}function updateDayStats(_0x181330){const _0x187a86=a2_0x1283c3,_0x2aa0e3=document[_0x187a86(0x1da)](_0x187a86(0x12b)+_0x181330);if(!_0x2aa0e3)return;const _0x2bf78a=new Date(_0x181330);let _0x1a3381=_0x2bf78a['getDay']()-0x1;if(_0x1a3381===-0x1)_0x1a3381=0x6;if(dateExceptions[_0x181330]===_0x187a86(0x265)){_0x2aa0e3[_0x187a86(0x1bb)]['display']=_0x187a86(0x1d9);return;}const _0xa31e5a=availabilityPattern[_0x1a3381]||[],_0x6867c0=0x18-_0xa31e5a[_0x187a86(0x1f0)],_0x116a57=_0x6867c0*0x3c,_0x3f0def=sessions[_0x187a86(0x167)](_0x3b9a2a=>_0x3b9a2a[_0x187a86(0x27b)]===_0x181330&&_0x3b9a2a[_0x187a86(0x1dd)]!=='cancelled');if(_0x3f0def[_0x187a86(0x1f0)]===0x0){_0x2aa0e3[_0x187a86(0x1bb)][_0x187a86(0x13d)]=_0x187a86(0x1d9);return;}let _0xd846be=_0x3f0def['map'](_0x1109d4=>{const _0x22f062=_0x187a86,[_0x309463,_0x596a95]=_0x1109d4[_0x22f062(0x23d)]['split'](':')[_0x22f062(0x276)](Number),[_0x4cfd63,_0x278842]=_0x1109d4[_0x22f062(0x126)][_0x22f062(0x23b)](':')[_0x22f062(0x276)](Number);return[_0x309463*0x3c+_0x596a95,_0x4cfd63*0x3c+_0x278842];});_0xd846be['sort']((_0x4b65b5,_0xbe810a)=>_0x4b65b5[0x0]-_0xbe810a[0x0]);let _0x27d4d7=[];if(_0xd846be['length']>0x0){let _0x28fcdc=_0xd846be[0x0];for(let _0x3a9c4d=0x1;_0x3a9c4d<_0xd846be[_0x187a86(0x1f0)];_0x3a9c4d++){_0xd846be[_0x3a9c4d][0x0]<_0x28fcdc[0x1]?_0x28fcdc[0x1]=Math[_0x187a86(0x208)](_0x28fcdc[0x1],_0xd846be[_0x3a9c4d][0x1]):(_0x27d4d7['push'](_0x28fcdc),_0x28fcdc=_0xd846be[_0x3a9c4d]);}_0x27d4d7[_0x187a86(0x1b9)](_0x28fcdc);}let _0x23fce1=0x0;_0x27d4d7['forEach'](_0x5acf12=>_0x23fce1+=_0x5acf12[0x1]-_0x5acf12[0x0]),_0x2aa0e3[_0x187a86(0x1bb)][_0x187a86(0x13d)]=_0x187a86(0x238);const _0x40d070=_0x2aa0e3['querySelector'](_0x187a86(0x173));if(_0x116a57===0x0){_0x40d070[_0x187a86(0x1bb)][_0x187a86(0x13c)]=_0x187a86(0x1d1),_0x40d070[_0x187a86(0x1bb)][_0x187a86(0x232)]='var(--acc-red)';return;}const _0x3f3745=_0x23fce1/_0x116a57*0x64;console[_0x187a86(0x155)]('['+_0x181330+_0x187a86(0x243)+_0x6867c0+'—á,\x20–ó–∞–Ω—è—Ç–æ:\x20'+_0x23fce1+_0x187a86(0x278)+_0x3f3745[_0x187a86(0x187)](0x1)+'%'),_0x3f3745>0x64?(_0x40d070[_0x187a86(0x1bb)][_0x187a86(0x13c)]=_0x187a86(0x1d1),_0x40d070[_0x187a86(0x1bb)]['background']=_0x187a86(0x210)):(_0x40d070[_0x187a86(0x1bb)][_0x187a86(0x13c)]=_0x3f3745+'%',_0x40d070[_0x187a86(0x1bb)][_0x187a86(0x232)]='var(--acc-current)');}function renderEventsForColumn(_0x432132,_0x2a15fa,_0x15e504){const _0x20a26a=a2_0x1283c3,_0x1607e8=sessions['filter'](_0xe3a16a=>_0xe3a16a[_0x20a26a(0x27b)]===_0x2a15fa),_0x52c450=_0x1607e8[_0x20a26a(0x276)](_0x43fc4e=>{const _0x4afa19=_0x20a26a,[_0x5c0503,_0x26c144]=_0x43fc4e[_0x4afa19(0x23d)][_0x4afa19(0x23b)](':')['map'](Number),[_0x58e5df,_0x53b758]=_0x43fc4e[_0x4afa19(0x126)]['split'](':')[_0x4afa19(0x276)](Number);return{'data':_0x43fc4e,'start':_0x5c0503*0x3c+_0x26c144,'end':_0x58e5df*0x3c+_0x53b758,'colIndex':0x0};});_0x52c450[_0x20a26a(0x158)]((_0x369670,_0x441f72)=>{const _0x3fb584=_0x20a26a;if(_0x369670[_0x3fb584(0x23d)]!==_0x441f72[_0x3fb584(0x23d)])return _0x369670['start']-_0x441f72[_0x3fb584(0x23d)];return _0x441f72[_0x3fb584(0x126)]-_0x441f72[_0x3fb584(0x23d)]-(_0x369670['end']-_0x369670['start']);});const _0x2ee45f=[];_0x52c450[_0x20a26a(0x1f9)](_0x4f5b10=>{const _0x535bea=_0x20a26a;let _0x49e71b=![];for(let _0x4832a9=0x0;_0x4832a9<_0x2ee45f['length'];_0x4832a9++){const _0xb59d67=_0x2ee45f[_0x4832a9],_0x882563=_0xb59d67[_0xb59d67[_0x535bea(0x1f0)]-0x1];if(_0x4f5b10[_0x535bea(0x23d)]>=_0x882563['end']){_0xb59d67[_0x535bea(0x1b9)](_0x4f5b10),_0x4f5b10[_0x535bea(0x1c3)]=_0x4832a9,_0x49e71b=!![];break;}}!_0x49e71b&&(_0x2ee45f['push']([_0x4f5b10]),_0x4f5b10[_0x535bea(0x1c3)]=_0x2ee45f[_0x535bea(0x1f0)]-0x1);}),_0x52c450[_0x20a26a(0x1f9)](_0x22086c=>{const _0x5dd613=_0x20a26a;let _0x2de7ee=0x0;_0x52c450[_0x5dd613(0x1f9)](_0x5734e5=>{const _0x489bb4=_0x5dd613;if(Math[_0x489bb4(0x208)](_0x22086c[_0x489bb4(0x23d)],_0x5734e5[_0x489bb4(0x23d)])<Math['min'](_0x22086c['end'],_0x5734e5[_0x489bb4(0x126)])){if(_0x5734e5[_0x489bb4(0x1c3)]>_0x2de7ee)_0x2de7ee=_0x5734e5[_0x489bb4(0x1c3)];}});const _0x49008f=_0x2de7ee+0x1,_0x48ab93=0x64/_0x49008f,_0x5514e5=_0x22086c[_0x5dd613(0x1c3)]*_0x48ab93,_0x1c8cb1=createEventEl(_0x22086c['data']);_0x1c8cb1['style'][_0x5dd613(0x13c)]=_0x5dd613(0x1d5)+_0x48ab93+'%\x20-\x204px)',_0x1c8cb1['style'][_0x5dd613(0x1c9)]=_0x5dd613(0x1d5)+_0x5514e5+'%\x20+\x202px)',_0x1c8cb1[_0x5dd613(0x1bb)][_0x5dd613(0x24e)]=0xa+_0x22086c['colIndex'],_0x48ab93<0x55&&_0x1c8cb1[_0x5dd613(0x267)][_0x5dd613(0x1f1)](_0x5dd613(0x194)),_0x432132['appendChild'](_0x1c8cb1);});}function createEventEl(_0x2ee783){const _0x5c8006=a2_0x1283c3,[_0x4885c0,_0x8bea53]=_0x2ee783[_0x5c8006(0x23d)]['split'](':')[_0x5c8006(0x276)](Number),[_0x19343b,_0x6ed871]=_0x2ee783[_0x5c8006(0x126)][_0x5c8006(0x23b)](':')['map'](Number),_0x4e2787=(_0x4885c0*0x3c+_0x8bea53)/0x3c*GRID_H,_0xc5b72=(_0x19343b*0x3c+_0x6ed871-(_0x4885c0*0x3c+_0x8bea53))/0x3c*GRID_H,_0x48523a=document[_0x5c8006(0x11d)]('div'),_0x2136b1=_0x2ee783['status']===_0x5c8006(0x18f)?_0x5c8006(0x223):'';_0x48523a[_0x5c8006(0x118)]='event-card'+_0x2136b1,_0x48523a['style'][_0x5c8006(0x275)]=_0x4e2787+'px',_0x48523a[_0x5c8006(0x1bb)][_0x5c8006(0x24a)]=Math[_0x5c8006(0x208)](_0xc5b72,0x14)+'px';const _0x5cb5f3=clients[_0x5c8006(0x142)](_0x37316c=>_0x2ee783['clientId']&&String(_0x37316c['id'])===String(_0x2ee783[_0x5c8006(0x12d)])||_0x37316c[_0x5c8006(0x20d)]===_0x2ee783[_0x5c8006(0x242)]),_0x468dc1=_0x5cb5f3?_0x5cb5f3[_0x5c8006(0x12e)]:'#0a84ff';_0x48523a[_0x5c8006(0x1bb)][_0x5c8006(0x14b)]=_0x468dc1,_0x48523a[_0x5c8006(0x1bb)]['backgroundColor']=hexToRgba(_0x468dc1,0.85);let _0x486695=_0x5c8006(0x1cf)+_0x2ee783[_0x5c8006(0x242)]+'</div><div\x20class=\x22ev-time\x22>'+_0x2ee783[_0x5c8006(0x23d)]+_0x5c8006(0x255)+_0x2ee783[_0x5c8006(0x126)]+_0x5c8006(0x220);return _0x2ee783[_0x5c8006(0x1ff)]&&(_0x486695+=_0x5c8006(0x1b1)),_0x2ee783['status']===_0x5c8006(0x18f)&&(_0x486695+=_0x5c8006(0x215)),_0x48523a[_0x5c8006(0x202)]=_0x486695,_0x48523a[_0x5c8006(0x204)]=_0x15fbf7=>{const _0x7458c8=_0x5c8006;_0x15fbf7[_0x7458c8(0x127)](),openEdit(_0x2ee783);},_0x48523a;}function attachLongPressHandler(_0x483875,_0x3cbed7){const _0xb167aa=a2_0x1283c3;let _0x524150=0x0,_0x2c60c6=null;const _0x3410ca=_0xe1dcdd=>{const _0x328bbb=a2_0x2845;if(_0xe1dcdd[_0x328bbb(0x1ae)][_0x328bbb(0x226)](_0x328bbb(0x1e9)))return;isScrolling=![],_0x524150=_0xe1dcdd['touches']?_0xe1dcdd[_0x328bbb(0x22b)][0x0]['clientY']:_0xe1dcdd[_0x328bbb(0x1b3)],_0x2c60c6=setTimeout(()=>{const _0x461a50=_0x328bbb;if(!isScrolling){navigator[_0x461a50(0x25b)]?.(0x32);const _0x24e53f=_0x483875['getBoundingClientRect'](),_0x3016c5=Math['floor']((_0x524150-_0x24e53f[_0x461a50(0x275)])/GRID_H);_0x3cbed7[_0x461a50(0x17d)](_0x3016c5,0x0),openAddSession(_0x3cbed7);}},0x1f4);},_0xfcb3a3=()=>{isScrolling=!![],clearTimeout(_0x2c60c6);},_0x31ee40=()=>{clearTimeout(_0x2c60c6);};_0x483875['addEventListener'](_0xb167aa(0x186),_0x3410ca,{'passive':!![]}),_0x483875['addEventListener']('touchmove',_0xfcb3a3,{'passive':!![]}),_0x483875[_0xb167aa(0x1c4)](_0xb167aa(0x1bf),_0x31ee40),_0x483875[_0xb167aa(0x1c4)](_0xb167aa(0x263),_0x3410ca),_0x483875[_0xb167aa(0x1c4)](_0xb167aa(0x219),_0xfcb3a3),_0x483875['addEventListener'](_0xb167aa(0x25d),_0x31ee40);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x41b367=a2_0x1283c3,_0x2102e3=document[_0x41b367(0x1da)]('matrixViewport'),_0x23f490=_0x2102e3['scrollLeft'],_0x19369a=_0x2102e3[_0x41b367(0x195)],_0x4bc978=_0x2102e3[_0x41b367(0x1c5)];if(_0x19369a-(_0x23f490+_0x4bc978)<0x12c){const _0xbce60e=endOffset;endOffset+=0xe,renderDayRange(_0xbce60e+0x1,endOffset),reRenderBlocks();}if(_0x23f490<0x12c){const _0x5c6c34=startOffset;startOffset-=0xe,prependDays(startOffset,_0x5c6c34-0x1),_0x2102e3[_0x41b367(0x18a)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x323ca2,_0x2722ff){const _0x31518c=a2_0x1283c3,_0x7029ad=document[_0x31518c(0x1da)](_0x31518c(0x21c)),_0x4328ec=document['getElementById'](_0x31518c(0x1ee)),_0x33adac=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x2006ad=new Date();_0x2006ad[_0x31518c(0x17d)](0x0,0x0,0x0,0x0);const _0x2a0876=getLocalDateStr(new Date()),_0x2f9a24=document[_0x31518c(0x151)](),_0x253d7c=document[_0x31518c(0x151)]();for(let _0x4abcde=_0x323ca2;_0x4abcde<=_0x2722ff;_0x4abcde++){const _0x1bf0c4=new Date(_0x2006ad);_0x1bf0c4['setDate'](_0x1bf0c4[_0x31518c(0x12f)]()+_0x4abcde);const _0x46818a=getLocalDateStr(_0x1bf0c4);let _0x9e46fb=_0x1bf0c4[_0x31518c(0x264)]()-0x1;if(_0x9e46fb===-0x1)_0x9e46fb=0x6;const _0x27ac2c=_0x46818a===_0x2a0876,_0x86cf22=document['createElement'](_0x31518c(0x19b));_0x86cf22[_0x31518c(0x118)]='day-col-header\x20'+(_0x27ac2c?_0x31518c(0x14f):''),_0x86cf22['id']='header-'+_0x46818a,_0x86cf22[_0x31518c(0x1ec)](_0x31518c(0x191),_0x46818a),_0x86cf22['innerHTML']=_0x31518c(0x26b)+_0x33adac[_0x9e46fb]+_0x31518c(0x1b5)+_0x1bf0c4[_0x31518c(0x12f)]()+_0x31518c(0x262)+_0x46818a+_0x31518c(0x207),_0x86cf22[_0x31518c(0x204)]=()=>openDayOptions(_0x46818a,_0x33adac[_0x9e46fb]+'\x20'+_0x1bf0c4[_0x31518c(0x12f)]()),_0x2f9a24[_0x31518c(0x190)](_0x86cf22);const _0x28d683=document[_0x31518c(0x11d)](_0x31518c(0x19b));_0x28d683['className']=_0x31518c(0x21b)+(_0x27ac2c?_0x31518c(0x14f):''),_0x28d683[_0x31518c(0x1ec)](_0x31518c(0x191),_0x46818a),_0x28d683[_0x31518c(0x1ec)](_0x31518c(0x27e),_0x9e46fb),renderEventsForColumn(_0x28d683,_0x46818a,_0x9e46fb),attachLongPressHandler(_0x28d683,_0x1bf0c4),_0x253d7c['appendChild'](_0x28d683),updateDayStats(_0x46818a);}_0x7029ad[_0x31518c(0x197)](_0x2f9a24,_0x7029ad['firstChild']),_0x4328ec[_0x31518c(0x197)](_0x253d7c,_0x4328ec['querySelector'](_0x31518c(0x150)));}function validateAppointment(_0x1a6cd9,_0x273640,_0x2afff0,_0x5149f3,_0x4e97cb){const _0x64b20d=a2_0x1283c3,[_0x1f302a,_0x1dd2b7]=_0x273640[_0x64b20d(0x23b)](':')[_0x64b20d(0x276)](Number),[_0x30d5a3,_0x355966]=_0x2afff0[_0x64b20d(0x23b)](':')[_0x64b20d(0x276)](Number),_0x431870=_0x1f302a*0x3c+_0x1dd2b7,_0xd6a01c=_0x30d5a3*0x3c+_0x355966,_0xb1b857=String(_0x4e97cb);let _0x1aa28d=![],_0x349052='';for(let _0x17e3d7 of sessions){if(_0x17e3d7[_0x64b20d(0x27b)]!==_0x1a6cd9)continue;if(_0x17e3d7['status']===_0x64b20d(0x163))continue;if(_0x5149f3&&String(_0x17e3d7['id'])===String(_0x5149f3))continue;const [_0x5815de,_0xf9e9a]=_0x17e3d7[_0x64b20d(0x23d)][_0x64b20d(0x23b)](':')[_0x64b20d(0x276)](Number),[_0x23d646,_0xe5d201]=_0x17e3d7['end'][_0x64b20d(0x23b)](':')['map'](Number),_0x36cf87=_0x5815de*0x3c+_0xf9e9a,_0x4837b=_0x23d646*0x3c+_0xe5d201;if(Math[_0x64b20d(0x208)](_0x431870,_0x36cf87)<Math['min'](_0xd6a01c,_0x4837b)){if(_0x17e3d7['clientId']&&String(_0x17e3d7[_0x64b20d(0x12d)])===_0xb1b857)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0x17e3d7['client']+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x1aa28d=!![],_0x349052=_0x17e3d7[_0x64b20d(0x242)];}}if(_0x1aa28d)return{'valid':!![],'warning':_0x64b20d(0x20b)+_0x349052};return{'valid':!![]};}function updateDateDisplay(){const _0x3452a2=a2_0x1283c3,_0x4273b6=document[_0x3452a2(0x1da)](_0x3452a2(0x18d))['value'],_0x29730c=document[_0x3452a2(0x1da)](_0x3452a2(0x248));if(!_0x4273b6){_0x29730c[_0x3452a2(0x16d)]='';return;}const [_0x517530,_0x38f31f,_0x1321e1]=_0x4273b6[_0x3452a2(0x23b)]('-')[_0x3452a2(0x276)](Number),_0x1d69a8=new Date(_0x517530,_0x38f31f-0x1,_0x1321e1),_0xc707f8={'weekday':_0x3452a2(0x22f),'day':'numeric','month':_0x3452a2(0x22f),'year':_0x3452a2(0x20e)};let _0x157cad=_0x1d69a8['toLocaleDateString']('ru-RU',_0xc707f8);_0x157cad=_0x157cad[_0x3452a2(0x282)](0x0)['toUpperCase']()+_0x157cad[_0x3452a2(0x20a)](0x1),_0x29730c[_0x3452a2(0x16d)]=_0x157cad;}function autoSetEndTime(){const _0x5b9b58=a2_0x1283c3,_0x5a9b19=document[_0x5b9b58(0x1da)](_0x5b9b58(0x24f))[_0x5b9b58(0x224)];if(!_0x5a9b19)return;const [_0x4966f1,_0x471353]=_0x5a9b19['split'](':')[_0x5b9b58(0x276)](Number);let _0x180386=_0x4966f1+0x1;if(_0x180386>0x17)_0x180386=0x0;const _0x5dfe78=String(_0x180386)[_0x5b9b58(0x111)](0x2,'0')+':'+String(_0x471353)[_0x5b9b58(0x111)](0x2,'0');document[_0x5b9b58(0x1da)]('inpEnd')[_0x5b9b58(0x224)]=_0x5dfe78;}function populateClientSelect(){const _0x5f144c=a2_0x1283c3,_0x637a8c=document[_0x5f144c(0x1da)](_0x5f144c(0x1a7));_0x637a8c[_0x5f144c(0x202)]='';if(clients['length']===0x0){const _0x48e742=document[_0x5f144c(0x11d)](_0x5f144c(0x284));_0x48e742[_0x5f144c(0x1fc)]=_0x5f144c(0x1b8),_0x637a8c[_0x5f144c(0x190)](_0x48e742);return;}clients[_0x5f144c(0x1f9)](_0xcab8a1=>{const _0xa18bc9=_0x5f144c,_0x51882c=document[_0xa18bc9(0x11d)]('option');_0x51882c['value']=_0xcab8a1[_0xa18bc9(0x20d)],_0x51882c[_0xa18bc9(0x16d)]=_0xcab8a1[_0xa18bc9(0x20d)],_0x637a8c[_0xa18bc9(0x190)](_0x51882c);});}function openActionSheet(_0x2bf231){const _0x2a057a=a2_0x1283c3,_0x1cc630=document['getElementById'](_0x2a057a(0x1c8)),_0x491c4a=document['getElementById'](_0x2a057a(0x25c)),_0x8e7fdd=document[_0x2a057a(0x1da)]('asTitle'),_0x1921b8=document[_0x2a057a(0x1da)](_0x2a057a(0x14e)),_0x383e92=document[_0x2a057a(0x1da)]('asBtnSeries');_0x491c4a[_0x2a057a(0x267)][_0x2a057a(0x1f1)](_0x2a057a(0x230)),_0x1cc630['classList'][_0x2a057a(0x1f1)]('open');if(_0x2bf231==='save')_0x8e7fdd[_0x2a057a(0x16d)]='–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏',_0x1921b8[_0x2a057a(0x16d)]=_0x2a057a(0x16b),_0x1921b8[_0x2a057a(0x204)]=()=>{closeActionSheet(),updateSeriesBatch('single',tempSessionData);},_0x383e92['textContent']=_0x2a057a(0x1fd),_0x383e92[_0x2a057a(0x204)]=()=>{const _0x2e1ede=_0x2a057a;closeActionSheet(),updateSeriesBatch(_0x2e1ede(0x26d),tempSessionData);};else _0x2bf231==='delete'&&(_0x8e7fdd[_0x2a057a(0x16d)]=_0x2a057a(0x19c),_0x1921b8['textContent']='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x1921b8['className']='as-button\x20danger',_0x1921b8[_0x2a057a(0x204)]=()=>{const _0x551f10=_0x2a057a;closeActionSheet(),commitDelete(_0x551f10(0x1cd),sessions[_0x551f10(0x142)](_0x246792=>_0x246792['id']===editingId));},_0x383e92[_0x2a057a(0x16d)]=_0x2a057a(0x1fd),_0x383e92[_0x2a057a(0x118)]=_0x2a057a(0x1b6),_0x383e92[_0x2a057a(0x204)]=()=>{const _0x49f088=_0x2a057a;closeActionSheet(),commitDelete(_0x49f088(0x26d),sessions[_0x49f088(0x142)](_0x40cad9=>_0x40cad9['id']===editingId));});}function closeActionSheet(){const _0x49d4bc=a2_0x1283c3;document[_0x49d4bc(0x1da)]('actionSheet')['classList']['remove']('open'),document['getElementById'](_0x49d4bc(0x25c))[_0x49d4bc(0x267)][_0x49d4bc(0x209)](_0x49d4bc(0x230));}function openSettings(){const _0x4aaa26=a2_0x1283c3;openSheet(_0x4aaa26(0x240));}function saveCoachSettings(){const _0x2eab7c=a2_0x1283c3,_0xafb77e=document[_0x2eab7c(0x1da)]('settingCancelWindow')[_0x2eab7c(0x224)];localStorage[_0x2eab7c(0x17c)](_0x2eab7c(0x15d),_0xafb77e),console[_0x2eab7c(0x155)](_0x2eab7c(0x271),_0xafb77e),DataManager[_0x2eab7c(0x1c6)](_0x2eab7c(0x270),{'settings':{'cancel_window':_0xafb77e}})[_0x2eab7c(0x246)](_0x4c9e17=>{const _0x19a836=_0x2eab7c;console[_0x19a836(0x166)]('Save\x20settings\x20error:',_0x4c9e17),showToast(_0x19a836(0x110),![]);});}function loadCoachSettings(){const _0x5181c2=a2_0x1283c3,_0x3b4191=localStorage[_0x5181c2(0x157)](_0x5181c2(0x15d));_0x3b4191&&(document['getElementById']('settingCancelWindow')[_0x5181c2(0x224)]=_0x3b4191);}function openRangesSheet(){const _0xcc2344=a2_0x1283c3;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0xcc2344(0x1a4));}function addRange(){const _0x3c69a8=a2_0x1283c3,_0x4b4da5=document[_0x3c69a8(0x1da)](_0x3c69a8(0x283))[_0x3c69a8(0x224)],_0x2826c0=document[_0x3c69a8(0x1da)](_0x3c69a8(0x189))['value'],_0x441437=document[_0x3c69a8(0x1da)](_0x3c69a8(0x13a))[_0x3c69a8(0x224)],_0xa161f=document[_0x3c69a8(0x1da)](_0x3c69a8(0x1c1))[_0x3c69a8(0x224)];if(!_0x4b4da5||!_0x2826c0||!_0x441437||!_0xa161f)return alert(_0x3c69a8(0x213));const _0x24641a=_0x4b4da5+'T'+_0x2826c0,_0x2ccba0=_0x441437+'T'+_0xa161f;if(_0x24641a>=_0x2ccba0)return alert('–û—à–∏–±–∫–∞\x20–¥–∞—Ç');specialRanges[_0x3c69a8(0x1b9)]({'start':_0x24641a,'end':_0x2ccba0}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x3c69a8(0x199)](),DataManager[_0x3c69a8(0x1c6)](_0x3c69a8(0x270),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x3e5217){const _0x34e8bb=a2_0x1283c3;specialRanges[_0x34e8bb(0x236)](_0x3e5217,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x34e8bb(0x199)](),DataManager['fetchFromServer'](_0x34e8bb(0x270),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x5bcc29=a2_0x1283c3;document[_0x5bcc29(0x1da)]('rangeStartDate')['value']='',document[_0x5bcc29(0x1da)](_0x5bcc29(0x189))[_0x5bcc29(0x224)]=_0x5bcc29(0x17e),document[_0x5bcc29(0x1da)](_0x5bcc29(0x13a))[_0x5bcc29(0x224)]='',document['getElementById'](_0x5bcc29(0x1c1))[_0x5bcc29(0x224)]='23:59';}function a2_0x1651(){const _0x3992e4=['.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card',':\x20Client\x20already\x20booked','anCustomDates','mergeServerData','undefined','3444390JHrZoX','backgroundPosition','.sheet','[Notify]\x20Server\x20Response:','btnDelete','week','.event-card','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','cancel_window','setAttribute','var(--acc-green)','gridColumns','syncBatch','length','add','doWorkHours','now','BackButton','13829028UouzKj','from','planned','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','forEach','264285nhmqpu','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','text','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','seriesId','analyticsSheet','startsWith','innerHTML','offsetLeft','onclick','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','doLoadPercent','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','max','remove','slice','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','ranges','name','numeric','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','var(--acc-red)','calendar','scrollTop','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','user','[API\x20','.period-switch\x20.p-btn','mousemove','rgba(100,100,100,0.5)','day-column\x20','daysHeaderTrack','save','sheetTitle','substr','</div>','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','checked','\x20status-completed','value','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','closest','getFullYear','done','header-','overlay','touches','–ò–Ω—Ñ–æ','offClick','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','long','active','localeCompare','background','[Sync]\x20Loading\x20','\x20‚Äî\x20','.pib-text','splice','355986ONxXcQ','flex','patternEditor','inpRecurring','split','blocked-range-part\x20stripe-bg','start','doDateHeader','toLocaleDateString','settingsSheet','rgba(255,255,255,0.05)','client',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','constructor','toast','catch','href','sheetDateSubtitle','onClick','height','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','getAttribute','10px','zIndex','inpStart','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','valid','[Notify]\x20Client\x20SWAP\x20detected','anStart',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','\x20-\x20','disableVerticalSwipes','open','min','stringify','rgba(255,\x20159,\x2010,\x200.3)','vibrate','actionSheetOverlay','mouseup','getHours',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','msg','init_load','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','mousedown','getDay','off','complete','classList','getTime','seriesCountContainer','de-item','<div\x20class=\x22dch-day\x22>','WebApp','series','anTotalStats','789yNjiyl','save_settings','[Settings]\x20Cancel\x20window\x20set\x20to:','rgba(255,\x2069,\x2058,\x200.15)','router.html','getMinutes','top','map','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','btnStatusToggle','getMonth','dateStr','<b>‚úÖ\x20','.day-off-overlay','data-day-idx','month','ru-RU','10px\x2010px\x200\x200','charAt','rangeStartDate','option','993181anCNWd','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','padStart','btn-status-toggle','globalTimeLine','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','48EkaINp','btn-primary\x20btn-danger','text/plain;charset=UTF-8','className','clients','range-item','pe-time-label','toString','createElement','sid','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','sessionSheet','dayOptionsSheet','doBusyHours','btn-status-toggle\x20undo-mode','create','then','end','stopPropagation','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','...','stat-','dayOptionsTitle','clientId','color','getDate','toast-notification\x20','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','timeLineBadge','custom','<span>','recurringOptionContainer','cancel','setBackgroundColor','strokeDashoffset','rangeEndDate','POST','width','display','block','btn-primary\x20btn-secondary','borderRadius','rgba(','find','querySelectorAll','rgba(48,\x20209,\x2088,\x200.15)','floor','2711256wafqlC','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','update','160ydPafi','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','borderLeftColor','show','search','asBtnOne','today','.day-column','createDocumentFragment',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','T23:59:59','.day-col-header','log',']\x20Failed:','getItem','sort','Server\x20Error','setDate','[Notify]\x20Network\x20Failed','random','uc_settings_cancel_window','Error\x20setting\x20back\x20button:','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','patternInfoBox','anPercent','pattern','cancelled','Critical\x20TMA\x20Error:','Local\x20Save\x20Error','error','filter','Unknown','apply','success','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','anEnd','textContent','data','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(',':00','ready','doEventsList','.dch-stats-fill','[Series]\x20Skipped\x20','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','px\x200px','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','location','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','initData','setItem','setHours','00:00','inpSeriesCount','note','includes','json','44qpkxlo','all',':00</span>','touchstart','toFixed','#fff','rangeStartTime','scrollLeft','time-label','11354TXVTLa','inpDate','indexOf','completed','appendChild','data-date','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','settings','mini','scrollWidth','10POrVdA','insertBefore','findIndex','saveLocally','#050505','div','–£–¥–∞–ª–µ–Ω–∏–µ','borderColor','warning','exceptions','blocked-slot\x20stripe-bg','send','total','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rangesSheet','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','#gridColumns\x20.day-column','inpClient','rgba(255,\x2069,\x2058,\x200.3)','settingCancelWindow','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','analyticsList','keys','[Notify]\x20Error:\x20sessionData\x20is\x20null','target','guest','matrixViewport','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','rangesList','clientY','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','</div><div\x20class=\x22dch-num\x22>','as-button\x20danger\x20bold','day-off-overlay\x20stripe-bg','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','push','inpNote','style','\x20days','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','toUpperCase','touchend','T00:00:00','rangeEndTime','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','colIndex','addEventListener','clientWidth','fetchFromServer','pe-col-header','actionSheet','left','Batch\x20Sync\x20OK','pe-cell\x20','px\x20-','single','[Notify]\x20Detected\x20Client\x20ID:','<div\x20class=\x22ev-title\x22>','round','100%','delete','btnDayToggle','uc_clients_v9','calc(','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','inpEnd','querySelector','none','getElementById','Telegram','[Notify]\x20Attempting\x20to\x20send:','status'];a2_0x1651=function(){return _0x3992e4;};return a2_0x1651();}function renderRangesList(){const _0x2bb57f=a2_0x1283c3,_0x39dbae=document[_0x2bb57f(0x1da)](_0x2bb57f(0x1b2));_0x39dbae['innerHTML']='';if(!specialRanges['length']){_0x39dbae[_0x2bb57f(0x202)]=_0x2bb57f(0x1a5);return;}specialRanges[_0x2bb57f(0x1f9)]((_0xb7ee9e,_0x26144a)=>{const _0x5f4027=_0x2bb57f,_0x3f05a3=document[_0x5f4027(0x11d)]('div');_0x3f05a3[_0x5f4027(0x118)]=_0x5f4027(0x11a);const _0x101901=_0xcf4a6a=>{const _0x5470e2=_0x5f4027,_0x423405=new Date(_0xcf4a6a);return _0x423405[_0x5470e2(0x12f)]()+'.'+String(_0x423405['getMonth']()+0x1)[_0x5470e2(0x111)](0x2,'0')+'\x20'+String(_0x423405[_0x5470e2(0x25e)]())[_0x5470e2(0x111)](0x2,'0')+':'+String(_0x423405[_0x5470e2(0x274)]())[_0x5470e2(0x111)](0x2,'0');};_0x3f05a3[_0x5f4027(0x202)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>'+_0x101901(_0xb7ee9e[_0x5f4027(0x23d)])+_0x5f4027(0x234)+_0x101901(_0xb7ee9e['end'])+_0x5f4027(0x16f)+_0x26144a+_0x5f4027(0x25f),_0x39dbae[_0x5f4027(0x190)](_0x3f05a3);});}function scrollToToday(){const _0x2b79a5=a2_0x1283c3,_0x3d6a1a=getLocalDateStr(new Date()),_0x5bbf0d=document['getElementById']('header-'+_0x3d6a1a),_0x183557=document[_0x2b79a5(0x1da)](_0x2b79a5(0x1b0));if(_0x5bbf0d&&_0x183557){const _0x5b599d=_0x183557[_0x2b79a5(0x1c5)],_0xd0c039=_0x5bbf0d[_0x2b79a5(0x203)],_0x27f95c=_0x5bbf0d['offsetWidth'];_0x183557['scrollLeft']=_0xd0c039-_0x5b599d/0x2+_0x27f95c/0x2,_0x183557[_0x2b79a5(0x212)]=0x9*GRID_H;}}function onScroll(){const _0x55deb2=a2_0x1283c3,_0x236376=document[_0x55deb2(0x1da)]('matrixViewport'),_0x52dcc9=document[_0x55deb2(0x143)](_0x55deb2(0x154));for(let _0x1a6da5 of _0x52dcc9)if(_0x1a6da5[_0x55deb2(0x203)]>=_0x236376[_0x55deb2(0x18a)]){const _0x254592=new Date(_0x1a6da5[_0x55deb2(0x24c)](_0x55deb2(0x191)));document[_0x55deb2(0x1da)]('headerMonth')[_0x55deb2(0x16d)]=_0x254592['toLocaleString']('ru',{'month':_0x55deb2(0x22f)})['toUpperCase']()+'\x20'+_0x254592['getFullYear']();break;}}function showToast(_0x28421a,_0x3984ac=![]){const _0x5227c5=a2_0x1283c3,_0x5cdc83=document[_0x5227c5(0x1da)](_0x5227c5(0x245));_0x5cdc83[_0x5227c5(0x118)]=_0x5227c5(0x130)+(_0x3984ac?_0x5227c5(0x16a):''),document['getElementById']('toastTitle')['textContent']=_0x3984ac?'–£—Å–ø–µ—à–Ω–æ':_0x5227c5(0x22c),document[_0x5227c5(0x1da)]('toastMessage')[_0x5227c5(0x16d)]=_0x28421a,_0x5cdc83['classList'][_0x5227c5(0x1f1)](_0x5227c5(0x14c)),setTimeout(()=>{const _0x4f9e8f=_0x5227c5;_0x5cdc83[_0x4f9e8f(0x267)][_0x4f9e8f(0x209)](_0x4f9e8f(0x14c));},0xbb8);}function openDayOptions(_0x1700ff,_0x2dbe18){const _0x15ab38=a2_0x1283c3;selectedDayForOptions=_0x1700ff,document[_0x15ab38(0x1da)](_0x15ab38(0x12c))[_0x15ab38(0x16d)]=_0x2dbe18,openSheet(_0x15ab38(0x121));}function toggleDayOff(){const _0x2d441d=a2_0x1283c3;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x2d441d(0x265),reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager[_0x2d441d(0x1c6)](_0x2d441d(0x270),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x31a456=a2_0x1283c3;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x31a456(0x199)](),DataManager[_0x31a456(0x1c6)](_0x31a456(0x270),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x57fd55){const _0xf4e781=a2_0x1283c3;document[_0xf4e781(0x1da)](_0xf4e781(0x22a))[_0xf4e781(0x267)]['add'](_0xf4e781(0x230)),document[_0xf4e781(0x1da)](_0x57fd55)['classList'][_0xf4e781(0x1f1)]('open');}function closeAllSheets(){const _0x4cbedd=a2_0x1283c3;document['getElementById'](_0x4cbedd(0x22a))[_0x4cbedd(0x267)][_0x4cbedd(0x209)](_0x4cbedd(0x230)),document[_0x4cbedd(0x143)](_0x4cbedd(0x1e5))[_0x4cbedd(0x1f9)](_0x34b9b3=>_0x34b9b3[_0x4cbedd(0x267)]['remove'](_0x4cbedd(0x257)));}function openPatternEditor(){const _0x27f23b=a2_0x1283c3;closeAllSheets(),document[_0x27f23b(0x1da)](_0x27f23b(0x239))[_0x27f23b(0x267)]['add']('open'),renderPatternEditor();}function closePatternEditor(){const _0x4104c=a2_0x1283c3;document[_0x4104c(0x1da)](_0x4104c(0x239))[_0x4104c(0x267)][_0x4104c(0x209)](_0x4104c(0x257));}function savePattern(){const _0xcb43d9=a2_0x1283c3;document[_0xcb43d9(0x1da)]('patternEditor')[_0xcb43d9(0x267)][_0xcb43d9(0x209)](_0xcb43d9(0x257)),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0xcb43d9(0x1c6)]('save_settings',{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x55f936=a2_0x1283c3,_0x3b4ac9=document[_0x55f936(0x1da)]('peGrid');_0x3b4ac9[_0x55f936(0x202)]='';const _0x20a1c6=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x5709fd=document['createElement'](_0x55f936(0x19b));_0x5709fd['className']='pe-corner',_0x3b4ac9[_0x55f936(0x190)](_0x5709fd),_0x20a1c6[_0x55f936(0x1f9)]((_0x546893,_0x22f0a9)=>{const _0x4ff41d=_0x55f936,_0x281c94=document[_0x4ff41d(0x11d)](_0x4ff41d(0x19b));_0x281c94[_0x4ff41d(0x118)]=_0x4ff41d(0x1c7),_0x281c94[_0x4ff41d(0x202)]=_0x546893+_0x4ff41d(0x129),_0x281c94['onclick']=()=>toggleColPattern(_0x22f0a9),_0x3b4ac9[_0x4ff41d(0x190)](_0x281c94);});for(let _0x238f0a=0x0;_0x238f0a<0x18;_0x238f0a++){const _0x15d5b5=document[_0x55f936(0x11d)]('div');_0x15d5b5[_0x55f936(0x118)]=_0x55f936(0x11b),_0x15d5b5['innerHTML']='<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>'+String(_0x238f0a)['padStart'](0x2,'0')+_0x55f936(0x170),_0x15d5b5[_0x55f936(0x204)]=()=>toggleRowPattern(_0x238f0a),_0x3b4ac9[_0x55f936(0x190)](_0x15d5b5);for(let _0x5036c5=0x0;_0x5036c5<0x7;_0x5036c5++){const _0x164814=document[_0x55f936(0x11d)](_0x55f936(0x19b)),_0x3c896c=(availabilityPattern[_0x5036c5]||[])[_0x55f936(0x181)](_0x238f0a),_0x1c1339=!_0x3c896c;_0x164814['className']=_0x55f936(0x1cb)+(_0x1c1339?_0x55f936(0x230):''),_0x164814[_0x55f936(0x204)]=()=>toggleSinglePattern(_0x5036c5,_0x238f0a),_0x3b4ac9[_0x55f936(0x190)](_0x164814);}}}function toggleSinglePattern(_0x1c5315,_0x5721c2){const _0x52a351=a2_0x1283c3;if(!availabilityPattern[_0x1c5315])availabilityPattern[_0x1c5315]=[];const _0x18fa8c=availabilityPattern[_0x1c5315],_0x4c9940=_0x18fa8c['indexOf'](_0x5721c2);_0x4c9940===-0x1?_0x18fa8c[_0x52a351(0x1b9)](_0x5721c2):_0x18fa8c[_0x52a351(0x236)](_0x4c9940,0x1),renderPatternEditor();}function toggleColPattern(_0x1e979e){const _0x1bcff5=a2_0x1283c3;if(!availabilityPattern[_0x1e979e])availabilityPattern[_0x1e979e]=[];const _0xbf119=availabilityPattern[_0x1e979e];_0xbf119['length']===0x0?availabilityPattern[_0x1e979e]=Array[_0x1bcff5(0x1f6)]({'length':0x18},(_0x5d8d41,_0x27ce98)=>_0x27ce98):availabilityPattern[_0x1e979e]=[],renderPatternEditor();}function toggleRowPattern(_0x1955a9){const _0x3a5608=a2_0x1283c3;let _0x83edb9=!![];for(let _0x6c2e28=0x0;_0x6c2e28<0x7;_0x6c2e28++){if((availabilityPattern[_0x6c2e28]||[])['includes'](_0x1955a9)){_0x83edb9=![];break;}}for(let _0x700f75=0x0;_0x700f75<0x7;_0x700f75++){if(!availabilityPattern[_0x700f75])availabilityPattern[_0x700f75]=[];const _0x323210=availabilityPattern[_0x700f75][_0x3a5608(0x18e)](_0x1955a9);if(_0x83edb9){if(_0x323210===-0x1)availabilityPattern[_0x700f75][_0x3a5608(0x1b9)](_0x1955a9);}else{if(_0x323210!==-0x1)availabilityPattern[_0x700f75][_0x3a5608(0x236)](_0x323210,0x1);}}renderPatternEditor();}function renderPCol(_0x112408,_0x397c36){const _0x5b818d=a2_0x1283c3;_0x112408[_0x5b818d(0x202)]='';const _0x5a8032=Math['round'](_0x112408[_0x5b818d(0x203)]);(availabilityPattern[_0x397c36]||[])[_0x5b818d(0x1f9)](_0x57dd84=>{const _0x5bbbf7=_0x5b818d,_0x3ee679=document[_0x5bbbf7(0x11d)]('div');_0x3ee679[_0x5bbbf7(0x118)]=_0x5bbbf7(0x1a0);const _0x2242e5=_0x57dd84*GRID_H;_0x3ee679[_0x5bbbf7(0x1bb)][_0x5bbbf7(0x275)]=_0x2242e5+'px',_0x3ee679['style'][_0x5bbbf7(0x1e4)]='-'+_0x5a8032+_0x5bbbf7(0x1cc)+_0x2242e5+'px',_0x3ee679[_0x5bbbf7(0x204)]=_0x6094dd=>{const _0x20d4a3=_0x5bbbf7;_0x6094dd[_0x20d4a3(0x127)](),toggleSinglePattern(_0x397c36,_0x57dd84);},_0x112408[_0x5bbbf7(0x190)](_0x3ee679);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x1af721=a2_0x1283c3,_0x55b459=new Date(),_0x2b251f=document[_0x1af721(0x1da)](_0x1af721(0x113)),_0x19a4ce=document[_0x1af721(0x1da)](_0x1af721(0x133)),_0x5cce18=(_0x55b459[_0x1af721(0x25e)]()*0x3c+_0x55b459[_0x1af721(0x274)]())/0x3c*GRID_H;_0x2b251f[_0x1af721(0x1bb)]['top']=_0x5cce18+'px',_0x2b251f[_0x1af721(0x1bb)][_0x1af721(0x13d)]=_0x1af721(0x13e),_0x19a4ce[_0x1af721(0x16d)]=String(_0x55b459['getHours']())['padStart'](0x2,'0')+':'+String(_0x55b459['getMinutes']())['padStart'](0x2,'0'),_0x19a4ce['style'][_0x1af721(0x13d)]=_0x1af721(0x13e),_0x19a4ce[_0x1af721(0x1bb)][_0x1af721(0x275)]=_0x5cce18+'px';}document[a2_0x1283c3(0x1c4)]('DOMContentLoaded',init);function a2_0x2845(_0x244c05,_0x20cc76){_0x244c05=_0x244c05-0x10f;const _0x48b520=a2_0x1651();let _0x29244d=_0x48b520[_0x244c05];return _0x29244d;}function openDayOptions(_0x3db8b8){const _0x4bfe47=a2_0x1283c3;selectedDayForOptions=_0x3db8b8;const _0x15b93a=new Date(_0x3db8b8),_0x578263={'weekday':'long','day':_0x4bfe47(0x20e),'month':_0x4bfe47(0x22f),'year':_0x4bfe47(0x20e)},_0x34a0f2=_0x15b93a[_0x4bfe47(0x23f)](_0x4bfe47(0x280),_0x578263);document[_0x4bfe47(0x1da)](_0x4bfe47(0x23e))['textContent']=_0x34a0f2[_0x4bfe47(0x282)](0x0)[_0x4bfe47(0x1be)]()+_0x34a0f2[_0x4bfe47(0x20a)](0x1);let _0x31f3cc=_0x15b93a['getDay']()-0x1;if(_0x31f3cc===-0x1)_0x31f3cc=0x6;const _0x263d70=availabilityPattern[_0x31f3cc]||[],_0x3b77c9=0x18-_0x263d70[_0x4bfe47(0x1f0)],_0x371277=_0x3b77c9*0x3c,_0x366736=sessions[_0x4bfe47(0x167)](_0x180644=>_0x180644['dateStr']===_0x3db8b8&&_0x180644[_0x4bfe47(0x1dd)]!==_0x4bfe47(0x163));let _0x209a8e=_0x366736['map'](_0x5d0cb4=>{const _0x4bccfc=_0x4bfe47,[_0x34016f,_0x58b295]=_0x5d0cb4['start'][_0x4bccfc(0x23b)](':')[_0x4bccfc(0x276)](Number),[_0x30207d,_0x5bc510]=_0x5d0cb4[_0x4bccfc(0x126)][_0x4bccfc(0x23b)](':')[_0x4bccfc(0x276)](Number);return[_0x34016f*0x3c+_0x58b295,_0x30207d*0x3c+_0x5bc510];});_0x209a8e[_0x4bfe47(0x158)]((_0x5dbc2b,_0x3aa96a)=>_0x5dbc2b[0x0]-_0x3aa96a[0x0]);let _0x38f2c5=[];if(_0x209a8e[_0x4bfe47(0x1f0)]>0x0){let _0x42823e=_0x209a8e[0x0];for(let _0x4dd056=0x1;_0x4dd056<_0x209a8e[_0x4bfe47(0x1f0)];_0x4dd056++){_0x209a8e[_0x4dd056][0x0]<_0x42823e[0x1]?_0x42823e[0x1]=Math[_0x4bfe47(0x208)](_0x42823e[0x1],_0x209a8e[_0x4dd056][0x1]):(_0x38f2c5[_0x4bfe47(0x1b9)](_0x42823e),_0x42823e=_0x209a8e[_0x4dd056]);}_0x38f2c5[_0x4bfe47(0x1b9)](_0x42823e);}let _0x1a4901=0x0;_0x38f2c5['forEach'](_0x4fa832=>_0x1a4901+=_0x4fa832[0x1]-_0x4fa832[0x0]),document[_0x4bfe47(0x1da)](_0x4bfe47(0x1f2))[_0x4bfe47(0x16d)]=formatMinsToHrs(_0x371277),document[_0x4bfe47(0x1da)](_0x4bfe47(0x122))[_0x4bfe47(0x16d)]=formatMinsToHrs(_0x1a4901);const _0x18d9ae=_0x371277>0x0?Math[_0x4bfe47(0x1d0)](_0x1a4901/_0x371277*0x64):0x0,_0x4a51e3=document['getElementById'](_0x4bfe47(0x206));_0x4a51e3[_0x4bfe47(0x16d)]=_0x18d9ae+'%';const _0x5908f4=document[_0x4bfe47(0x1da)]('statLoadCard');if(_0x18d9ae>0x64)_0x4a51e3['style'][_0x4bfe47(0x12e)]=_0x4bfe47(0x210),_0x5908f4['style'][_0x4bfe47(0x19d)]=_0x4bfe47(0x1a8);else _0x18d9ae>0x50?(_0x4a51e3[_0x4bfe47(0x1bb)][_0x4bfe47(0x12e)]='var(--acc-orange)',_0x5908f4[_0x4bfe47(0x1bb)][_0x4bfe47(0x19d)]=_0x4bfe47(0x25a)):(_0x4a51e3[_0x4bfe47(0x1bb)]['color']=_0x4bfe47(0x1ed),_0x5908f4[_0x4bfe47(0x1bb)][_0x4bfe47(0x19d)]=_0x4bfe47(0x241));const _0x341f64=document[_0x4bfe47(0x1da)](_0x4bfe47(0x172));_0x341f64['innerHTML']='';_0x366736[_0x4bfe47(0x1f0)]===0x0?_0x341f64['innerHTML']=_0x4bfe47(0x15f):(_0x366736[_0x4bfe47(0x158)]((_0x54ffb8,_0x2add27)=>_0x54ffb8[_0x4bfe47(0x23d)][_0x4bfe47(0x231)](_0x2add27[_0x4bfe47(0x23d)])),_0x366736[_0x4bfe47(0x1f9)](_0xb51148=>{const _0x17c9bb=_0x4bfe47,_0x3b64f9=clients[_0x17c9bb(0x142)](_0x9bf81e=>_0x9bf81e[_0x17c9bb(0x20d)]===_0xb51148['client']),_0x4c0516=_0x3b64f9?_0x3b64f9[_0x17c9bb(0x12e)]:_0x17c9bb(0x188),_0x432cca=_0xb51148[_0x17c9bb(0x1dd)]===_0x17c9bb(0x18f),_0x1d5345=_0x432cca?'<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>':'',_0x4aaa77=document[_0x17c9bb(0x11d)](_0x17c9bb(0x19b));_0x4aaa77['className']=_0x17c9bb(0x26a),_0x4aaa77['style'][_0x17c9bb(0x14b)]=_0x4c0516,_0x4aaa77[_0x17c9bb(0x202)]=_0x17c9bb(0x1f8)+_0xb51148['start']+_0x17c9bb(0x255)+_0xb51148['end']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xb51148[_0x17c9bb(0x242)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1d5345+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x341f64[_0x17c9bb(0x190)](_0x4aaa77);}));const _0x3e1645=document[_0x4bfe47(0x1da)](_0x4bfe47(0x1d3)),_0x25df05=dateExceptions[_0x3db8b8]==='off';_0x25df05?(_0x3e1645[_0x4bfe47(0x16d)]=_0x4bfe47(0x221),_0x3e1645[_0x4bfe47(0x118)]=_0x4bfe47(0x13f),_0x3e1645[_0x4bfe47(0x1bb)][_0x4bfe47(0x12e)]='var(--acc-green)',_0x3e1645[_0x4bfe47(0x1bb)][_0x4bfe47(0x232)]=_0x4bfe47(0x144)):(_0x3e1645[_0x4bfe47(0x16d)]='–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º',_0x3e1645[_0x4bfe47(0x118)]=_0x4bfe47(0x116),_0x3e1645[_0x4bfe47(0x1bb)][_0x4bfe47(0x12e)]='var(--acc-red)',_0x3e1645[_0x4bfe47(0x1bb)][_0x4bfe47(0x232)]=_0x4bfe47(0x272)),openSheet(_0x4bfe47(0x121));}let currentAnPeriod=a2_0x1283c3(0x1e8);function openAnalytics(){const _0x11f249=a2_0x1283c3,_0x593072=document[_0x11f249(0x1d8)](_0x11f249(0x218));setAnalyticsPeriod(_0x11f249(0x1e8),_0x593072),closeAllSheets(),openSheet(_0x11f249(0x200));}function setAnalyticsPeriod(_0x9eb2bf,_0x5b08ec){const _0x2f9404=a2_0x1283c3;currentAnPeriod=_0x9eb2bf,document[_0x2f9404(0x143)](_0x2f9404(0x218))[_0x2f9404(0x1f9)](_0x5d52f5=>_0x5d52f5[_0x2f9404(0x267)][_0x2f9404(0x209)](_0x2f9404(0x230)));if(_0x5b08ec)_0x5b08ec[_0x2f9404(0x267)]['add'](_0x2f9404(0x230));const _0x2b01a7=document['getElementById'](_0x2f9404(0x1e0));_0x2b01a7[_0x2f9404(0x1bb)]['display']=_0x9eb2bf===_0x2f9404(0x134)?_0x2f9404(0x238):_0x2f9404(0x1d9);const _0x16b39d=new Date();let _0x2002f8=new Date(),_0x2df87e=new Date();if(_0x9eb2bf===_0x2f9404(0x1e8))_0x2002f8=getStartOfWeek(_0x16b39d),_0x2df87e=new Date(_0x2002f8),_0x2df87e['setDate'](_0x2df87e['getDate']()+0x6);else{if(_0x9eb2bf===_0x2f9404(0x27f))_0x2002f8=new Date(_0x16b39d[_0x2f9404(0x227)](),_0x16b39d[_0x2f9404(0x27a)](),0x1),_0x2df87e=new Date(_0x16b39d[_0x2f9404(0x227)](),_0x16b39d[_0x2f9404(0x27a)]()+0x1,0x0);else{!document[_0x2f9404(0x1da)]('anStart')[_0x2f9404(0x224)]&&(document[_0x2f9404(0x1da)](_0x2f9404(0x253))[_0x2f9404(0x224)]=getLocalDateStr(_0x16b39d),document[_0x2f9404(0x1da)](_0x2f9404(0x16c))[_0x2f9404(0x224)]=getLocalDateStr(_0x16b39d));refreshAnalytics();return;}}document[_0x2f9404(0x1da)](_0x2f9404(0x253))['value']=getLocalDateStr(_0x2002f8),document[_0x2f9404(0x1da)](_0x2f9404(0x16c))[_0x2f9404(0x224)]=getLocalDateStr(_0x2df87e),refreshAnalytics();}function refreshAnalytics(){const _0x5cc2fe=a2_0x1283c3,_0x2a5149=document[_0x5cc2fe(0x1da)](_0x5cc2fe(0x253))[_0x5cc2fe(0x224)],_0x392003=document['getElementById']('anEnd')['value'];if(!_0x2a5149||!_0x392003)return;const _0x12ed9e=sessions[_0x5cc2fe(0x167)](_0x3001d9=>_0x3001d9[_0x5cc2fe(0x27b)]>=_0x2a5149&&_0x3001d9[_0x5cc2fe(0x27b)]<=_0x392003&&_0x3001d9[_0x5cc2fe(0x1dd)]!==_0x5cc2fe(0x163)),_0x3cec45=_0x12ed9e[_0x5cc2fe(0x1f0)],_0x2f84fd=_0x12ed9e['filter'](_0x3269f4=>_0x3269f4[_0x5cc2fe(0x1dd)]===_0x5cc2fe(0x18f))['length'],_0x3a9063=_0x3cec45>0x0?Math[_0x5cc2fe(0x1d0)](_0x2f84fd/_0x3cec45*0x64):0x0;document[_0x5cc2fe(0x1da)](_0x5cc2fe(0x161))['textContent']=_0x3a9063+'%',document[_0x5cc2fe(0x1da)](_0x5cc2fe(0x26e))[_0x5cc2fe(0x16d)]=_0x2f84fd+'\x20–∏–∑\x20'+_0x3cec45+_0x5cc2fe(0x214);const _0x2cf74f=document[_0x5cc2fe(0x1da)]('anDonutCircle'),_0x1fc0af=0x2*Math['PI']*0x23,_0x485101=_0x1fc0af-_0x3a9063/0x64*_0x1fc0af;_0x2cf74f[_0x5cc2fe(0x1bb)][_0x5cc2fe(0x139)]=_0x485101;const _0x1d9b4d={};_0x12ed9e[_0x5cc2fe(0x1f9)](_0x416a21=>{const _0x13d892=_0x5cc2fe;if(!_0x1d9b4d[_0x416a21[_0x13d892(0x242)]]){const _0x400f87=clients[_0x13d892(0x142)](_0x59d928=>_0x59d928['name']===_0x416a21[_0x13d892(0x242)]);_0x1d9b4d[_0x416a21[_0x13d892(0x242)]]={'total':0x0,'done':0x0,'color':_0x400f87?_0x400f87[_0x13d892(0x12e)]:_0x13d892(0x188)};}_0x1d9b4d[_0x416a21[_0x13d892(0x242)]][_0x13d892(0x1a2)]++;if(_0x416a21[_0x13d892(0x1dd)]===_0x13d892(0x18f))_0x1d9b4d[_0x416a21[_0x13d892(0x242)]][_0x13d892(0x228)]++;});const _0x4326af=document[_0x5cc2fe(0x1da)](_0x5cc2fe(0x1ab));_0x4326af[_0x5cc2fe(0x202)]='';const _0x3aa5c6=Object['entries'](_0x1d9b4d)['sort']((_0x42b32c,_0x30e759)=>_0x30e759[0x1][_0x5cc2fe(0x1a2)]-_0x42b32c[0x1]['total']);if(_0x3aa5c6[_0x5cc2fe(0x1f0)]===0x0){_0x4326af[_0x5cc2fe(0x202)]=_0x5cc2fe(0x175);return;}_0x3aa5c6[_0x5cc2fe(0x1f9)](([_0x2828ac,_0x27b7d5])=>{const _0x850040=_0x5cc2fe,_0x423edd=Math[_0x850040(0x1d0)](_0x27b7d5['done']/_0x27b7d5[_0x850040(0x1a2)]*0x64),_0x50843c=document[_0x850040(0x11d)]('div');_0x50843c[_0x850040(0x118)]='client-stat-card',_0x50843c[_0x850040(0x1bb)]['borderLeftColor']=_0x27b7d5[_0x850040(0x12e)],_0x50843c[_0x850040(0x202)]=_0x850040(0x1fb)+_0x2828ac+_0x850040(0x225)+_0x27b7d5[_0x850040(0x228)]+'</span>\x20/\x20'+_0x27b7d5['total']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x423edd+_0x850040(0x1a3),_0x4326af[_0x850040(0x190)](_0x50843c);});}function formatMinsToHrs(_0x3ecb54){const _0x19dcd3=a2_0x1283c3;if(_0x3ecb54===0x0)return'0';const _0x5d67f1=Math[_0x19dcd3(0x145)](_0x3ecb54/0x3c),_0x38dcfd=_0x3ecb54%0x3c;if(_0x38dcfd===0x0)return _0x5d67f1+'—á';return _0x5d67f1+'—á\x20'+_0x38dcfd+'–º';}