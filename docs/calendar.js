const a2_0xbe857=a2_0x2c6a;(function(_0x4d323c,_0x63ad52){const _0x5738b9=a2_0x2c6a,_0x502620=_0x4d323c();while(!![]){try{const _0x2f3213=parseInt(_0x5738b9(0x18c))/0x1*(-parseInt(_0x5738b9(0xe4))/0x2)+-parseInt(_0x5738b9(0x182))/0x3*(parseInt(_0x5738b9(0x144))/0x4)+-parseInt(_0x5738b9(0x153))/0x5+parseInt(_0x5738b9(0xff))/0x6*(-parseInt(_0x5738b9(0x122))/0x7)+parseInt(_0x5738b9(0x105))/0x8+parseInt(_0x5738b9(0x189))/0x9*(-parseInt(_0x5738b9(0x17f))/0xa)+parseInt(_0x5738b9(0x16a))/0xb;if(_0x2f3213===_0x63ad52)break;else _0x502620['push'](_0x502620['shift']());}catch(_0x1d19bb){_0x502620['push'](_0x502620['shift']());}}}(a2_0x2b4e,0x67d67),function initTMA(){const _0x36cc51=a2_0x2c6a;try{const _0x1d4707=window['Telegram']?.[_0x36cc51(0x156)];if(!_0x1d4707)return;_0x1d4707[_0x36cc51(0xc8)](),_0x1d4707[_0x36cc51(0x148)]();try{_0x1d4707['setHeaderColor'](_0x36cc51(0x1bd)),_0x1d4707[_0x36cc51(0xe1)]&&_0x1d4707['setBackgroundColor'](_0x36cc51(0x1bd));}catch(_0x180533){console[_0x36cc51(0x10e)]('Error\x20setting\x20color:',_0x180533);}try{_0x1d4707[_0x36cc51(0x168)]&&(_0x1d4707[_0x36cc51(0x168)]['show'](),_0x1d4707['BackButton'][_0x36cc51(0x221)](),_0x1d4707[_0x36cc51(0x168)][_0x36cc51(0x177)](function(){const _0x1a74a6=_0x36cc51;window[_0x1a74a6(0x1bf)]['href']='router.html';}));}catch(_0x33c63a){console[_0x36cc51(0x10e)](_0x36cc51(0x18b),_0x33c63a);}try{if(_0x1d4707[_0x36cc51(0x1da)])_0x1d4707[_0x36cc51(0x1da)]();}catch(_0xca7bb1){}}catch(_0x5b5ddd){console['error'](_0x36cc51(0x160),_0x5b5ddd);}}());function isAdmin(){const _0x923eaa=a2_0x2c6a;try{const _0x43659f=Number(window['Telegram']?.[_0x923eaa(0x156)]?.[_0x923eaa(0x12d)]?.['user']?.['id']);return _0x43659f===0xbaf7174;}catch(_0x5ae377){return![];}}const APP_VERSION=a2_0xbe857(0xfd),API_URL=a2_0xbe857(0xd2),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0xbe857(0x215),KEY_SESSIONS='uc_sessions_v9',KEY_SETTINGS='uc_settings_v9';let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0xf83b50=a2_0xbe857;return window[_0xf83b50(0xef)]?.[_0xf83b50(0x156)]?.[_0xf83b50(0x12d)]?.['user']?.['id']||_0xf83b50(0x15e);},'saveLocally'(){const _0x281f0c=a2_0xbe857;try{localStorage[_0x281f0c(0x18a)](KEY_CLIENTS,JSON[_0x281f0c(0x17c)](clients)),localStorage[_0x281f0c(0x18a)](KEY_SESSIONS,JSON[_0x281f0c(0x17c)](sessions)),localStorage[_0x281f0c(0x18a)](KEY_SETTINGS,JSON[_0x281f0c(0x17c)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x723b41){console[_0x281f0c(0x20f)](_0x281f0c(0x13b),_0x723b41);}},'loadLocal'(){const _0x10c42e=a2_0xbe857;try{const _0x3abe89=localStorage[_0x10c42e(0x16b)](KEY_CLIENTS);if(_0x3abe89)clients=JSON[_0x10c42e(0x158)](_0x3abe89);const _0x112291=localStorage[_0x10c42e(0x16b)](KEY_SESSIONS);if(_0x112291)sessions=JSON[_0x10c42e(0x158)](_0x112291);const _0x15b596=localStorage[_0x10c42e(0x16b)](KEY_SETTINGS);if(_0x15b596){const _0x13fb3d=JSON[_0x10c42e(0x158)](_0x15b596);if(_0x13fb3d[_0x10c42e(0x11c)])availabilityPattern=_0x13fb3d[_0x10c42e(0x11c)];if(_0x13fb3d['exceptions'])dateExceptions=_0x13fb3d[_0x10c42e(0xbf)];if(_0x13fb3d[_0x10c42e(0x130)])specialRanges=_0x13fb3d[_0x10c42e(0x130)];}else{for(let _0x368614=0x0;_0x368614<0x7;_0x368614++)availabilityPattern[_0x368614]=Array[_0x10c42e(0x1fb)]({'length':0xc},(_0x38d48f,_0x3c6b1a)=>_0x3c6b1a+0x9);}}catch(_0x1169d6){console[_0x10c42e(0x20f)](_0x10c42e(0x120),_0x1169d6);}},async 'fetchFromServer'(_0x247b21,_0x198e4b={}){const _0x12a967=a2_0xbe857,_0x36ccea=window[_0x12a967(0xef)]?.['WebApp'],_0x20aa45={'action':_0x247b21,'init_data':_0x36ccea?.[_0x12a967(0xd8)]||'',..._0x198e4b};try{const _0x3467f7=await fetch(API_URL,{'method':_0x12a967(0xbc),'headers':{'Content-Type':_0x12a967(0x108)},'body':JSON[_0x12a967(0x17c)](_0x20aa45)}),_0x290a58=await _0x3467f7[_0x12a967(0x173)]();if(!_0x290a58['ok'])throw new Error(_0x290a58[_0x12a967(0x20f)]||_0x12a967(0x1d7));return _0x290a58[_0x12a967(0x11e)];}catch(_0x3a5a17){console[_0x12a967(0x20f)]('[API\x20'+_0x247b21+']\x20Failed:',_0x3a5a17);throw _0x3a5a17;}},async 'syncLoad'(){const _0x95b922=a2_0xbe857,_0x1ae35e=new Date(),_0x5838b3=_0x1ae35e[_0x95b922(0x225)]()+'-'+String(_0x1ae35e['getMonth']()+0x1)['padStart'](0x2,'0'),_0x4b5159=new Date(_0x1ae35e);_0x4b5159[_0x95b922(0xf0)](_0x1ae35e[_0x95b922(0x1ba)]()+0x1);const _0x201cfe=_0x4b5159['getFullYear']()+'-'+String(_0x4b5159[_0x95b922(0x1ba)]()+0x1)[_0x95b922(0x198)](0x2,'0'),_0x20a990=Date[_0x95b922(0x18d)]();console[_0x95b922(0x10e)](_0x95b922(0x12f)+_0x5838b3+',\x20'+_0x201cfe+'...');try{const [_0x3d4a79,_0x4f5b31]=await Promise['all']([this[_0x95b922(0x12a)]('init_load',{'month_str':_0x5838b3}),this[_0x95b922(0x12a)](_0x95b922(0x199),{'month_str':_0x201cfe})]);if(lastUserActionTime>_0x20a990)return console[_0x95b922(0xc3)](_0x95b922(0xcf)),![];return this[_0x95b922(0xdd)](_0x3d4a79,_0x5838b3),this[_0x95b922(0xdd)](_0x4f5b31,_0x201cfe),this['saveLocally'](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x2b125){console[_0x95b922(0x20f)](_0x2b125);throw _0x2b125;}},'mergeServerData'(_0x42a454,_0x14d45b){const _0x2d58a8=a2_0xbe857;if(!_0x42a454)return;_0x42a454[_0x2d58a8(0x20e)]&&Array[_0x2d58a8(0x12b)](_0x42a454[_0x2d58a8(0x20e)])&&(clients=_0x42a454[_0x2d58a8(0x20e)]);if(_0x42a454['settings']){if(_0x42a454[_0x2d58a8(0x139)][_0x2d58a8(0x11c)])availabilityPattern=_0x42a454[_0x2d58a8(0x139)][_0x2d58a8(0x11c)];if(_0x42a454[_0x2d58a8(0x139)][_0x2d58a8(0xbf)])dateExceptions=_0x42a454[_0x2d58a8(0x139)][_0x2d58a8(0xbf)];if(_0x42a454[_0x2d58a8(0x139)][_0x2d58a8(0x130)])specialRanges=_0x42a454[_0x2d58a8(0x139)]['ranges'];if(_0x42a454[_0x2d58a8(0x139)][_0x2d58a8(0xda)]){localStorage[_0x2d58a8(0x18a)](_0x2d58a8(0x13f),_0x42a454[_0x2d58a8(0x139)]['cancel_window']);const _0x313c5c=document[_0x2d58a8(0x1b7)](_0x2d58a8(0xd7));if(_0x313c5c)_0x313c5c[_0x2d58a8(0x143)]=_0x42a454[_0x2d58a8(0x139)][_0x2d58a8(0xda)];}}_0x42a454[_0x2d58a8(0xb0)]&&(sessions=sessions[_0x2d58a8(0xd6)](_0x26c2c7=>!_0x26c2c7['dateStr'][_0x2d58a8(0xfb)](_0x14d45b)),Object[_0x2d58a8(0x126)](_0x42a454[_0x2d58a8(0xb0)])[_0x2d58a8(0x159)](_0x3b620e=>{const _0xd76ffc=_0x2d58a8,_0x59ac69=_0x42a454['calendar'][_0x3b620e];_0x59ac69[_0xd76ffc(0x159)](_0x4058ee=>{const _0x188c48=_0xd76ffc,_0x454721=clients[_0x188c48(0x205)](_0x26ef75=>String(_0x26ef75['id'])===String(_0x4058ee['c']));sessions['push']({'id':_0x4058ee['i'],'clientId':_0x4058ee['c'],'client':_0x454721?_0x454721[_0x188c48(0x207)]:_0x188c48(0x14b),'dateStr':_0x14d45b+'-'+_0x3b620e[_0x188c48(0x198)](0x2,'0'),'start':_0x4058ee['s'],'end':_0x4058ee['e'],'status':_0x4058ee['st']||'planned','note':_0x4058ee['n']||'','seriesId':_0x4058ee['sid']||null});});}));},async 'syncBatch'(_0x290e31){const _0x5ddc3d=a2_0xbe857,_0x2fd6d4=[...new Set(_0x290e31)],_0x50e5da=_0x2fd6d4[_0x5ddc3d(0xdf)](_0xe483a5=>{const _0x2c023e=_0x5ddc3d,_0x5a173e=sessions[_0x2c023e(0xd6)](_0x321ac0=>_0x321ac0['dateStr']===_0xe483a5&&_0x321ac0[_0x2c023e(0x150)]!==_0x2c023e(0x13c)),_0x2f3c36=_0x5a173e[_0x2c023e(0xdf)](_0x57a194=>({'i':_0x57a194['id'],'c':_0x57a194['clientId'],'s':_0x57a194['start'],'e':_0x57a194['end'],'st':_0x57a194[_0x2c023e(0x150)],'n':_0x57a194['note'],'sid':_0x57a194[_0x2c023e(0x192)]}));return{'date':_0xe483a5,'day_data':_0x2f3c36};});if(_0x50e5da[_0x5ddc3d(0x1e7)]===0x0)return;console[_0x5ddc3d(0x10e)]('[Sync]\x20Pushing\x20batch\x20updates\x20for\x20'+_0x50e5da['length']+'\x20days'),await this['fetchFromServer']('batch_sync',{'changes':_0x50e5da});}};async function init(){const _0x47654c=a2_0xbe857;DataManager[_0x47654c(0xe9)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x47654c(0x1b7)](_0x47654c(0x19d))['addEventListener']('scroll',()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x47654c(0xde)]()[_0x47654c(0x151)](()=>{const _0x30636e=_0x47654c;showToast(_0x30636e(0x187),!![]);})[_0x47654c(0x1f5)](_0x4676ed=>{const _0xc81258=_0x47654c;showToast(_0xc81258(0xae),![]);});}function generateId(){const _0xa0ca9c=a2_0xbe857;return Date[_0xa0ca9c(0x18d)]()[_0xa0ca9c(0x1e6)](0x24)+Math[_0xa0ca9c(0xd4)]()[_0xa0ca9c(0x1e6)](0x24)[_0xa0ca9c(0xbb)](0x2,0x5);}function toggleSeriesInput(){const _0x5beae9=a2_0xbe857,_0x440d5b=document[_0x5beae9(0x1b7)](_0x5beae9(0x102))[_0x5beae9(0x217)],_0x2d42fb=document[_0x5beae9(0x1b7)](_0x5beae9(0x121));_0x2d42fb[_0x5beae9(0x12e)]['display']=_0x440d5b?'block':_0x5beae9(0x179);const _0x19f87e=document[_0x5beae9(0x1b7)](_0x5beae9(0x1e2));_0x19f87e[_0x5beae9(0x12e)][_0x5beae9(0xb5)]=_0x440d5b?_0x5beae9(0x14f):_0x5beae9(0x13a);}function openAddSession(_0x55704c){const _0x3d2a4d=a2_0xbe857;editingId=null,populateClientSelect(),document[_0x3d2a4d(0x1b7)](_0x3d2a4d(0x101))[_0x3d2a4d(0x1f9)]='–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å',document[_0x3d2a4d(0x1b7)](_0x3d2a4d(0x15f))[_0x3d2a4d(0x12e)][_0x3d2a4d(0xb7)]=_0x3d2a4d(0x179),document['getElementById'](_0x3d2a4d(0x1eb))[_0x3d2a4d(0x12e)][_0x3d2a4d(0xb7)]=_0x3d2a4d(0x179);const _0x21e683=document[_0x3d2a4d(0x1b7)](_0x3d2a4d(0x1e2)),_0x51a039=document[_0x3d2a4d(0x1b7)]('seriesCountContainer');_0x21e683[_0x3d2a4d(0x12e)][_0x3d2a4d(0xb7)]=_0x3d2a4d(0x163),_0x21e683[_0x3d2a4d(0x12e)][_0x3d2a4d(0xb5)]=_0x3d2a4d(0x13a),document[_0x3d2a4d(0x1b7)](_0x3d2a4d(0x102))['checked']=![],document['getElementById']('inpSeriesCount')[_0x3d2a4d(0x143)]=0x4,_0x51a039['style']['display']=_0x3d2a4d(0x179),document[_0x3d2a4d(0x1b7)]('inpDate')[_0x3d2a4d(0x143)]=getLocalDateStr(_0x55704c),updateDateDisplay();const _0xa22001=_0x55704c[_0x3d2a4d(0x227)]();document['getElementById'](_0x3d2a4d(0xe0))[_0x3d2a4d(0x143)]=String(_0xa22001)['padStart'](0x2,'0')+_0x3d2a4d(0x202),document[_0x3d2a4d(0x1b7)](_0x3d2a4d(0x170))[_0x3d2a4d(0x143)]=String(_0xa22001+0x1)[_0x3d2a4d(0x198)](0x2,'0')+_0x3d2a4d(0x202),openSheet('sessionSheet');}function openEdit(_0x5c883a){const _0x54d4c8=a2_0xbe857;editingId=_0x5c883a['id'],populateClientSelect(),document['getElementById'](_0x54d4c8(0x101))[_0x54d4c8(0x1f9)]=_0x54d4c8(0x109),document[_0x54d4c8(0x1b7)](_0x54d4c8(0x15f))[_0x54d4c8(0x12e)][_0x54d4c8(0xb7)]=_0x54d4c8(0x183);const _0x2cd22f=document[_0x54d4c8(0x1b7)](_0x54d4c8(0x1eb));_0x2cd22f[_0x54d4c8(0x12e)]['display']=_0x54d4c8(0x163);_0x5c883a[_0x54d4c8(0x150)]===_0x54d4c8(0x135)?(_0x2cd22f[_0x54d4c8(0x184)]=_0x54d4c8(0x1d0),_0x2cd22f[_0x54d4c8(0x166)]=_0x54d4c8(0x138)):(_0x2cd22f[_0x54d4c8(0x184)]=_0x54d4c8(0x15b),_0x2cd22f['innerHTML']='<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É');const _0xf1861e=!!_0x5c883a[_0x54d4c8(0x192)];document[_0x54d4c8(0x1b7)](_0x54d4c8(0x1e2))[_0x54d4c8(0x12e)][_0x54d4c8(0xb7)]=_0x54d4c8(0x179),document['getElementById'](_0x54d4c8(0x121))['style'][_0x54d4c8(0xb7)]='none',_0xf1861e?(document[_0x54d4c8(0x1b7)](_0x54d4c8(0x206))['style']['display']='flex',document[_0x54d4c8(0x1b7)]('patternInfoBox')[_0x54d4c8(0x1cd)](_0x54d4c8(0x180))['textContent']='–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫'):document['getElementById']('patternInfoBox')[_0x54d4c8(0x12e)][_0x54d4c8(0xb7)]=_0x54d4c8(0x179),document[_0x54d4c8(0x1b7)](_0x54d4c8(0x161))[_0x54d4c8(0x143)]=_0x5c883a['client'],document[_0x54d4c8(0x1b7)](_0x54d4c8(0x200))[_0x54d4c8(0x143)]=_0x5c883a[_0x54d4c8(0x1c1)],document[_0x54d4c8(0x1b7)]('inpStart')[_0x54d4c8(0x143)]=_0x5c883a['start'],document[_0x54d4c8(0x1b7)](_0x54d4c8(0x170))[_0x54d4c8(0x143)]=_0x5c883a[_0x54d4c8(0x1a1)],document[_0x54d4c8(0x1b7)](_0x54d4c8(0xc2))['value']=_0x5c883a[_0x54d4c8(0xdc)]||'',updateDateDisplay(),openSheet(_0x54d4c8(0x19f));}async function trySaveSession(){const _0x3288d8=a2_0xbe857,_0xda701a=document['getElementById'](_0x3288d8(0x161))[_0x3288d8(0x143)],_0x244bab=document[_0x3288d8(0x1b7)](_0x3288d8(0x200))[_0x3288d8(0x143)],_0x123334=document[_0x3288d8(0x1b7)](_0x3288d8(0xe0))[_0x3288d8(0x143)],_0x17682e=document[_0x3288d8(0x1b7)](_0x3288d8(0x170))[_0x3288d8(0x143)],_0x3dbd85=document[_0x3288d8(0x1b7)](_0x3288d8(0xc2))[_0x3288d8(0x143)],_0x1162d3=document[_0x3288d8(0x1b7)](_0x3288d8(0x102))[_0x3288d8(0x217)];let _0x3f5c32=0x4;if(_0x1162d3){const _0x16577e=parseInt(document[_0x3288d8(0x1b7)](_0x3288d8(0x155))[_0x3288d8(0x143)]);if(!_0x16577e||_0x16577e<0x2){showToast('–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏',![]);return;}if(_0x16577e>0x64){showToast(_0x3288d8(0x1cf),![]);return;}_0x3f5c32=_0x16577e;}const _0x25dac6=clients[_0x3288d8(0x205)](_0x3341cf=>_0x3341cf[_0x3288d8(0x207)]===_0xda701a);if(!_0x25dac6){showToast(_0x3288d8(0x1c8),![]);return;}const _0x5ca0f4=validateAppointment(_0x244bab,_0x123334,_0x17682e,editingId,_0x25dac6['id']);if(!_0x5ca0f4[_0x3288d8(0x186)]){showToast(_0x5ca0f4[_0x3288d8(0x145)],![]);return;}_0x5ca0f4['warning']&&showToast(_0x5ca0f4[_0x3288d8(0x1b6)],![]);const _0xff146d={'client':_0xda701a,'clientId':_0x25dac6['id'],'start':_0x123334,'end':_0x17682e,'note':_0x3dbd85,'status':'planned'},_0x45c466=editingId?sessions[_0x3288d8(0x205)](_0x53bb04=>_0x53bb04['id']===editingId):null;if(_0x45c466&&_0x45c466[_0x3288d8(0x192)]){tempSessionData={..._0xff146d,'dateStr':_0x244bab,'id':editingId,'seriesId':_0x45c466['seriesId']},openActionSheet(_0x3288d8(0x14a));return;}let _0x2dfa34=null;if(!editingId)_0x2dfa34='create';else{if(_0x45c466){if(String(_0x45c466[_0x3288d8(0xec)])!==String(_0x25dac6['id']))console[_0x3288d8(0x10e)](_0x3288d8(0x1c7)),NotificationManager[_0x3288d8(0x1df)]('cancel',_0x45c466),_0x2dfa34=_0x3288d8(0x1a8);else(_0x45c466[_0x3288d8(0x17a)]!==_0x123334||_0x45c466[_0x3288d8(0x1a1)]!==_0x17682e||_0x45c466[_0x3288d8(0x1c1)]!==_0x244bab)&&(_0x2dfa34=_0x3288d8(0xc4));}}if(!editingId&&_0x1162d3){createBatchSeries(_0xff146d,_0x244bab,_0x3f5c32),NotificationManager[_0x3288d8(0x1df)](_0x3288d8(0x1a8),{..._0xff146d,'dateStr':_0x244bab});return;}lastUserActionTime=Date['now']();const _0x2ebb64={..._0xff146d,'dateStr':_0x244bab,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x2ebb64),_0x2dfa34&&NotificationManager[_0x3288d8(0x1df)](_0x2dfa34,_0x2ebb64);}function toggleSessionStatus(){const _0x2fb1c6=a2_0xbe857;lastUserActionTime=Date['now']();const _0x2b007a=sessions[_0x2fb1c6(0x205)](_0x1eb403=>_0x1eb403['id']===editingId);if(!_0x2b007a)return;const _0x46859d=_0x2b007a[_0x2fb1c6(0x150)]===_0x2fb1c6(0x135)?'planned':_0x2fb1c6(0x135);_0x2b007a[_0x2fb1c6(0x150)]=_0x46859d,saveSingleSession(_0x2b007a),_0x46859d===_0x2fb1c6(0x135)&&NotificationManager[_0x2fb1c6(0x1df)](_0x2fb1c6(0x18e),_0x2b007a),showToast(_0x46859d===_0x2fb1c6(0x135)?_0x2fb1c6(0x142):_0x2fb1c6(0xf8),!![]);}function validateAppointment(_0x5a6d3a,_0x15c27e,_0x59f4e6,_0x587b0b,_0x267384){const _0x4e5bbb=a2_0xbe857,[_0x2c148a,_0x3b2345]=_0x15c27e[_0x4e5bbb(0x129)](':')[_0x4e5bbb(0xdf)](Number),[_0x39da91,_0x2cc2c2]=_0x59f4e6[_0x4e5bbb(0x129)](':')['map'](Number),_0x12556c=_0x2c148a*0x3c+_0x3b2345,_0x30efe3=_0x39da91*0x3c+_0x2cc2c2,_0x38dd23=String(_0x267384);let _0x573281=![],_0x3d840c='';for(let _0x197a0a of sessions){if(_0x197a0a[_0x4e5bbb(0x1c1)]!==_0x5a6d3a)continue;if(_0x197a0a[_0x4e5bbb(0x150)]===_0x4e5bbb(0x17d))continue;if(_0x587b0b&&String(_0x197a0a['id'])===String(_0x587b0b))continue;const [_0x1dac4f,_0x2ae207]=_0x197a0a[_0x4e5bbb(0x17a)]['split'](':')[_0x4e5bbb(0xdf)](Number),[_0x273042,_0x525bc2]=_0x197a0a[_0x4e5bbb(0x1a1)][_0x4e5bbb(0x129)](':')[_0x4e5bbb(0xdf)](Number),_0x4e8550=_0x1dac4f*0x3c+_0x2ae207,_0x10f008=_0x273042*0x3c+_0x525bc2;if(Math['max'](_0x12556c,_0x4e8550)<Math[_0x4e5bbb(0x21c)](_0x30efe3,_0x10f008)){if(_0x197a0a['clientId']&&String(_0x197a0a['clientId'])===_0x38dd23)return{'valid':![],'msg':_0x4e5bbb(0xd0)+_0x197a0a[_0x4e5bbb(0x219)]+_0x4e5bbb(0x224)};_0x573281=!![],_0x3d840c=_0x197a0a[_0x4e5bbb(0x219)];}}if(_0x573281)return{'valid':!![],'warning':_0x4e5bbb(0x1b4)+_0x3d840c};return{'valid':!![]};}function saveSingleSession(_0x148c52){const _0x17ed16=a2_0xbe857;if(editingId){const _0x465ef6=sessions[_0x17ed16(0x176)](_0x21ffab=>_0x21ffab['id']===editingId);if(_0x465ef6!==-0x1)sessions[_0x465ef6]=_0x148c52;}else sessions[_0x17ed16(0x164)](_0x148c52);afterSaveAction([_0x148c52[_0x17ed16(0x1c1)]]);}function createBatchSeries(_0x2a9881,_0x29457e,_0x233a7e){const _0x1b0f3f=a2_0xbe857,_0x3f2790=generateId(),_0x4147c9=[],_0x2e16db=[];let _0x58553d=0x0,_0x596645=new Date(_0x29457e);for(let _0x26a63e=0x0;_0x26a63e<_0x233a7e;_0x26a63e++){const _0xc3d1dd=getLocalDateStr(_0x596645),_0x39539e=validateAppointment(_0xc3d1dd,_0x2a9881['start'],_0x2a9881[_0x1b0f3f(0x1a1)],null,_0x2a9881['clientId']);if(!_0x39539e[_0x1b0f3f(0x186)])console[_0x1b0f3f(0x10e)]('[Series]\x20Skipped\x20'+_0xc3d1dd+_0x1b0f3f(0xac)),_0x58553d++;else{const _0x346957={..._0x2a9881,'id':generateId(),'dateStr':_0xc3d1dd,'seriesId':_0x3f2790};_0x2e16db['push'](_0x346957),_0x4147c9['push'](_0xc3d1dd);}_0x596645[_0x1b0f3f(0xe6)](_0x596645[_0x1b0f3f(0x1ad)]()+0x7);}if(_0x2e16db[_0x1b0f3f(0x1e7)]===0x0){showToast(_0x1b0f3f(0xea),![]);return;}sessions[_0x1b0f3f(0x164)](..._0x2e16db),lastUserActionTime=Date[_0x1b0f3f(0x18d)]();let _0x3665e9='–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20'+_0x2e16db[_0x1b0f3f(0x1e7)];_0x58553d>0x0&&(_0x3665e9+=_0x1b0f3f(0x117)+_0x58553d+')'),showToast(_0x3665e9,!![]),afterSaveAction(_0x4147c9);}function updateSeriesBatch(_0x446535,_0x240eb2){const _0x5790d9=a2_0xbe857,_0x5639c7=[],_0x58a404=_0x240eb2[_0x5790d9(0x192)];if(_0x446535===_0x5790d9(0x1a5)){const _0x4da3ba={..._0x240eb2,'seriesId':null},_0x495561=sessions['findIndex'](_0x58e6a2=>_0x58e6a2['id']===_0x240eb2['id']);if(_0x495561!==-0x1)sessions[_0x495561]=_0x4da3ba;_0x5639c7[_0x5790d9(0x164)](_0x4da3ba['dateStr']);}else{if(_0x446535===_0x5790d9(0xcb)){const _0x258b1b=_0x240eb2[_0x5790d9(0x1c1)];sessions[_0x5790d9(0x159)]((_0x4af117,_0x513ef4)=>{const _0x4c6271=_0x5790d9;_0x4af117[_0x4c6271(0x192)]===_0x58a404&&_0x4af117['dateStr']>=_0x258b1b&&(sessions[_0x513ef4]={...sessions[_0x513ef4],'start':_0x240eb2[_0x4c6271(0x17a)],'end':_0x240eb2[_0x4c6271(0x1a1)],'note':_0x240eb2[_0x4c6271(0xdc)],'client':_0x240eb2[_0x4c6271(0x219)],'clientId':_0x240eb2['clientId']},_0x5639c7[_0x4c6271(0x164)](_0x4af117['dateStr']));});}}afterSaveAction(_0x5639c7);}function tryDeleteSession(){const _0x3a2e2f=a2_0xbe857,_0x3ceb2d=sessions[_0x3a2e2f(0x205)](_0x46f3ed=>_0x46f3ed['id']===editingId);if(!_0x3ceb2d)return;_0x3ceb2d[_0x3a2e2f(0x192)]?openActionSheet(_0x3a2e2f(0x21e)):commitDelete('single',_0x3ceb2d);}function commitDelete(_0x2e4a62,_0x1f73e6){const _0xf5f9ad=a2_0xbe857;lastUserActionTime=Date[_0xf5f9ad(0x18d)](),NotificationManager['send'](_0xf5f9ad(0x216),_0x1f73e6);const _0x5aa271=[];if(_0x2e4a62===_0xf5f9ad(0x1a5))sessions=sessions['filter'](_0x590ba5=>_0x590ba5['id']!==_0x1f73e6['id']),_0x5aa271[_0xf5f9ad(0x164)](_0x1f73e6[_0xf5f9ad(0x1c1)]);else{if(_0x2e4a62===_0xf5f9ad(0xcb)){const _0x127aa2=_0x1f73e6['dateStr'],_0x5f4b73=_0x1f73e6[_0xf5f9ad(0x192)];sessions[_0xf5f9ad(0x159)](_0x214e37=>{const _0x4663c1=_0xf5f9ad;_0x214e37['seriesId']===_0x5f4b73&&_0x214e37[_0x4663c1(0x1c1)]>=_0x127aa2&&_0x5aa271[_0x4663c1(0x164)](_0x214e37[_0x4663c1(0x1c1)]);}),sessions=sessions[_0xf5f9ad(0xd6)](_0x315399=>!(_0x315399[_0xf5f9ad(0x192)]===_0x5f4b73&&_0x315399[_0xf5f9ad(0x1c1)]>=_0x127aa2));}}afterSaveAction(_0x5aa271);}function afterSaveAction(_0x54442a){const _0x2e4e56=a2_0xbe857;DataManager[_0x2e4e56(0x172)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x2e4e56(0x103)](_0x54442a)[_0x2e4e56(0x151)](()=>console['log']('Batch\x20Sync\x20OK'))[_0x2e4e56(0x1f5)](_0x34692a=>showToast(_0x2e4e56(0x14d),![]));}const NotificationManager={'formatDate'(_0x83b5b8){const _0x59adc3=a2_0xbe857,_0x5a5881=new Date(_0x83b5b8),_0x4988ab={'weekday':'long','day':_0x59adc3(0x15d),'month':'long'};let _0x346d95=_0x5a5881[_0x59adc3(0x1e5)]('ru-RU',_0x4988ab);return _0x346d95[_0x59adc3(0xe5)](0x0)[_0x59adc3(0x114)]()+_0x346d95['slice'](0x1);},'getText'(_0xb409aa,_0x498d62){const _0x5484f8=a2_0xbe857,_0x470b57=this[_0x5484f8(0x154)](_0x498d62[_0x5484f8(0x1c1)]);switch(_0xb409aa){case _0x5484f8(0x1a8):return _0x5484f8(0x1fe)+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0x470b57+'\x0a')+('<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20'+_0x498d62[_0x5484f8(0x17a)]+_0x5484f8(0x185)+_0x498d62[_0x5484f8(0x1a1)]+'\x0a\x0a')+_0x5484f8(0xeb);case'update':return _0x5484f8(0x1aa)+_0x5484f8(0x1ef)+(_0x5484f8(0x223)+_0x498d62[_0x5484f8(0x17a)]+_0x5484f8(0x185)+_0x498d62['end']+_0x5484f8(0x14e))+(_0x5484f8(0x19c)+_0x470b57);case _0x5484f8(0x216):return _0x5484f8(0x1ed)+('–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>'+_0x470b57+'\x20('+_0x498d62[_0x5484f8(0x17a)]+_0x5484f8(0x11b));case _0x5484f8(0x18e):return _0x5484f8(0xf2)+'–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a'+'<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>';default:return'';}},async 'send'(_0x20cf72,_0x1e97d8){const _0x84eeb7=a2_0xbe857;console[_0x84eeb7(0x10e)](_0x84eeb7(0xb4),_0x20cf72,_0x1e97d8);if(!_0x1e97d8){console[_0x84eeb7(0x20f)](_0x84eeb7(0x15a));return;}const _0x4dfae5=String(_0x1e97d8[_0x84eeb7(0xec)]);console[_0x84eeb7(0x10e)](_0x84eeb7(0x1ac),_0x4dfae5);if(!_0x1e97d8[_0x84eeb7(0xec)]||_0x4dfae5===_0x84eeb7(0x1d4)||_0x4dfae5===_0x84eeb7(0xf4)){console['error'](_0x84eeb7(0x20c));if(_0x1e97d8[_0x84eeb7(0x219)]){const _0x42062f=clients['find'](_0x419926=>_0x419926[_0x84eeb7(0x207)]===_0x1e97d8[_0x84eeb7(0x219)]);if(_0x42062f)return console[_0x84eeb7(0x10e)](_0x84eeb7(0x1b0),_0x42062f['id']),this['send'](_0x20cf72,{..._0x1e97d8,'clientId':_0x42062f['id']});}return;}if(_0x4dfae5[_0x84eeb7(0x1e7)]<0x5){console[_0x84eeb7(0xc3)](_0x84eeb7(0xd5),_0x4dfae5);return;}const _0x1731fc=this[_0x84eeb7(0x1a2)](_0x20cf72,_0x1e97d8);if(!_0x1731fc){console[_0x84eeb7(0x20f)](_0x84eeb7(0x1c0));return;}console['log']('[Notify]\x20Sending\x20to\x20GAS\x20for\x20'+_0x4dfae5+_0x84eeb7(0x17e)),DataManager[_0x84eeb7(0x12a)]('send_notification',{'chatId':_0x4dfae5,'text':_0x1731fc})[_0x84eeb7(0x151)](_0x5397a1=>console['log'](_0x84eeb7(0x1a6),_0x5397a1))[_0x84eeb7(0x1f5)](_0x4aca95=>console[_0x84eeb7(0x20f)](_0x84eeb7(0x157),_0x4aca95));}};function getLocalDateStr(_0x3043d7){const _0x4c4fd7=a2_0xbe857,_0x19a4b6=_0x3043d7[_0x4c4fd7(0x225)](),_0x459fe2=String(_0x3043d7[_0x4c4fd7(0x1ba)]()+0x1)['padStart'](0x2,'0'),_0x5bee9f=String(_0x3043d7['getDate']())['padStart'](0x2,'0');return _0x19a4b6+'-'+_0x459fe2+'-'+_0x5bee9f;}function getDateStr(_0x138805){const _0x5e9727=a2_0xbe857,_0x4a6456=new Date();return _0x4a6456['setDate'](_0x4a6456[_0x5e9727(0x1ad)]()+_0x138805),getLocalDateStr(_0x4a6456);}function getStartOfWeek(_0x22352e){const _0x39f504=a2_0xbe857,_0xc3a0c5=(function(){let _0x487e78=!![];return function(_0x2df1ff,_0x1421b8){const _0x4b6029=_0x487e78?function(){if(_0x1421b8){const _0x260eff=_0x1421b8['apply'](_0x2df1ff,arguments);return _0x1421b8=null,_0x260eff;}}:function(){};return _0x487e78=![],_0x4b6029;};}()),_0x5838ca=_0xc3a0c5(this,function(){const _0x4c85bc=a2_0x2c6a;return _0x5838ca[_0x4c85bc(0x1e6)]()[_0x4c85bc(0x1ab)](_0x4c85bc(0x1c9))[_0x4c85bc(0x1e6)]()[_0x4c85bc(0x1b1)](_0x5838ca)[_0x4c85bc(0x1ab)](_0x4c85bc(0x1c9));});_0x5838ca();const _0x39cfe2=new Date(_0x22352e),_0x24b57d=_0x39cfe2[_0x39f504(0xb8)](),_0x4c5365=_0x39cfe2[_0x39f504(0x1ad)]()-_0x24b57d+(_0x24b57d===0x0?-0x6:0x1);return _0x39cfe2['setDate'](_0x4c5365),_0x39cfe2['setHours'](0x0,0x0,0x0,0x0),_0x39cfe2;}function a2_0x2c6a(_0x23bf6a,_0x1febe5){_0x23bf6a=_0x23bf6a-0xac;const _0x4d5971=a2_0x2b4e();let _0x1606b8=_0x4d5971[_0x23bf6a];return _0x1606b8;}function hexToRgba(_0x3f2556,_0x211da4){const _0x4f0e59=a2_0xbe857;if(!_0x3f2556)return _0x4f0e59(0x203);let _0x17dd55=0x0,_0x23a392=0x0,_0x77e0e5=0x0;if(_0x3f2556[_0x4f0e59(0x1e7)]===0x4)_0x17dd55='0x'+_0x3f2556[0x1]+_0x3f2556[0x1],_0x23a392='0x'+_0x3f2556[0x2]+_0x3f2556[0x2],_0x77e0e5='0x'+_0x3f2556[0x3]+_0x3f2556[0x3];else _0x3f2556['length']===0x7&&(_0x17dd55='0x'+_0x3f2556[0x1]+_0x3f2556[0x2],_0x23a392='0x'+_0x3f2556[0x3]+_0x3f2556[0x4],_0x77e0e5='0x'+_0x3f2556[0x5]+_0x3f2556[0x6]);return'rgba('+ +_0x17dd55+',\x20'+ +_0x23a392+',\x20'+ +_0x77e0e5+',\x20'+_0x211da4+')';}function renderTimeColumn(){const _0x3bfb97=a2_0xbe857,_0x3879a6=document[_0x3bfb97(0x1b7)](_0x3bfb97(0x1ae)),_0x25f833=document[_0x3bfb97(0x1b7)]('timeLineBadge');_0x3879a6[_0x3bfb97(0x166)]='',_0x3879a6['appendChild'](_0x25f833);for(let _0x30730d=0x0;_0x30730d<0x18;_0x30730d++){const _0x4e90e6=document[_0x3bfb97(0x10a)](_0x3bfb97(0x1b5));_0x4e90e6[_0x3bfb97(0x184)]='time-label';if(_0x30730d>0x0)_0x4e90e6[_0x3bfb97(0x166)]='<span>'+String(_0x30730d)[_0x3bfb97(0x198)](0x2,'0')+_0x3bfb97(0x134);_0x3879a6['appendChild'](_0x4e90e6);}}function renderDayRange(_0xac38fb,_0x46ca9d){const _0x1d7f94=a2_0xbe857,_0x1b9882=document[_0x1d7f94(0x1b7)](_0x1d7f94(0x1ff)),_0x1fe738=document[_0x1d7f94(0x1b7)]('gridColumns'),_0x5baa74=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x5e4710=new Date();_0x5e4710['setHours'](0x0,0x0,0x0,0x0);const _0x359f7f=getLocalDateStr(new Date());for(let _0x593e1e=_0xac38fb;_0x593e1e<=_0x46ca9d;_0x593e1e++){const _0x3fdd8c=new Date(_0x5e4710);_0x3fdd8c[_0x1d7f94(0xe6)](_0x3fdd8c[_0x1d7f94(0x1ad)]()+_0x593e1e);const _0xead67b=getLocalDateStr(_0x3fdd8c);let _0x2b0c11=_0x3fdd8c['getDay']()-0x1;if(_0x2b0c11===-0x1)_0x2b0c11=0x6;const _0x583872=_0xead67b===_0x359f7f,_0x4f14c9=document[_0x1d7f94(0x10a)]('div');_0x4f14c9[_0x1d7f94(0x184)]='day-col-header\x20'+(_0x583872?_0x1d7f94(0xbe):''),_0x4f14c9['id']=_0x1d7f94(0x1e8)+_0xead67b,_0x4f14c9[_0x1d7f94(0x1a0)](_0x1d7f94(0x1b2),_0xead67b),_0x4f14c9['innerHTML']=_0x1d7f94(0xc9)+_0x5baa74[_0x2b0c11]+'</div><div\x20class=\x22dch-num\x22>'+_0x3fdd8c[_0x1d7f94(0x1ad)]()+_0x1d7f94(0xe2)+_0xead67b+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x4f14c9['onclick']=()=>openDayOptions(_0xead67b,_0x5baa74[_0x2b0c11]+'\x20'+_0x3fdd8c[_0x1d7f94(0x1ad)]()),_0x1b9882[_0x1d7f94(0xe7)](_0x4f14c9);const _0x4db8e6=document[_0x1d7f94(0x10a)]('div');_0x4db8e6[_0x1d7f94(0x184)]=_0x1d7f94(0x1ec)+(_0x583872?_0x1d7f94(0xbe):''),_0x4db8e6['setAttribute'](_0x1d7f94(0x1b2),_0xead67b),_0x4db8e6[_0x1d7f94(0x1a0)](_0x1d7f94(0x162),_0x2b0c11),renderEventsForColumn(_0x4db8e6,_0xead67b,_0x2b0c11),attachLongPressHandler(_0x4db8e6,_0x3fdd8c),_0x1fe738['appendChild'](_0x4db8e6),updateDayStats(_0xead67b);}}function reRenderBlocks(){const _0x25742e=a2_0xbe857;document[_0x25742e(0x1d6)](_0x25742e(0x107))[_0x25742e(0x159)](_0x47100d=>{const _0x80fb54=_0x25742e;_0x47100d['querySelectorAll'](_0x80fb54(0x16f))[_0x80fb54(0x159)](_0x34acb6=>_0x34acb6['remove']());const _0x175cd9=_0x47100d['getAttribute'](_0x80fb54(0x1b2)),_0x1e2da9=parseInt(_0x47100d[_0x80fb54(0x214)](_0x80fb54(0x162))),_0x51d374=Math[_0x80fb54(0x1be)](_0x47100d[_0x80fb54(0x1f7)]);(availabilityPattern[_0x1e2da9]||[])[_0x80fb54(0x159)](_0x39d490=>{const _0x1211de=_0x80fb54,_0x13b2df=document[_0x1211de(0x10a)](_0x1211de(0x1b5));_0x13b2df[_0x1211de(0x184)]=_0x1211de(0x131);const _0x173f85=_0x39d490*GRID_H;_0x13b2df[_0x1211de(0x12e)]['top']=_0x173f85+'px',_0x13b2df[_0x1211de(0x12e)][_0x1211de(0x1c4)]='-'+_0x51d374+_0x1211de(0x1ca)+_0x173f85+'px',_0x47100d[_0x1211de(0xe7)](_0x13b2df);});if(specialRanges&&specialRanges['length']>0x0){const _0xb0922f=new Date(_0x175cd9+_0x80fb54(0x1fd))[_0x80fb54(0x211)](),_0x405420=new Date(_0x175cd9+'T23:59:59')[_0x80fb54(0x211)]();specialRanges[_0x80fb54(0x159)](_0x38d830=>{const _0x32c2e5=_0x80fb54,_0x4a270d=new Date(_0x38d830[_0x32c2e5(0x17a)])[_0x32c2e5(0x211)](),_0x480dfe=new Date(_0x38d830[_0x32c2e5(0x1a1)])[_0x32c2e5(0x211)](),_0x279d32=Math[_0x32c2e5(0x16c)](_0xb0922f,_0x4a270d),_0x58ea1e=Math[_0x32c2e5(0x21c)](_0x405420,_0x480dfe);if(_0x279d32<_0x58ea1e){if(_0x279d32<=_0xb0922f&&_0x58ea1e>=_0x405420-0xea60){if(!_0x47100d[_0x32c2e5(0x1cd)](_0x32c2e5(0x1bc))){const _0x89e56e=document[_0x32c2e5(0x10a)]('div');_0x89e56e[_0x32c2e5(0x184)]=_0x32c2e5(0x174),_0x89e56e[_0x32c2e5(0x12e)][_0x32c2e5(0x1c4)]='-'+_0x51d374+'px\x200px',_0x47100d[_0x32c2e5(0xe7)](_0x89e56e);}}else{const _0x2f729b=(_0x279d32-_0xb0922f)/0x36ee80*GRID_H,_0x5ca80e=(_0x58ea1e-_0x279d32)/0x36ee80*GRID_H,_0x278b3b=document[_0x32c2e5(0x10a)](_0x32c2e5(0x1b5));_0x278b3b[_0x32c2e5(0x184)]=_0x32c2e5(0x196),_0x278b3b[_0x32c2e5(0x12e)]['top']=_0x2f729b+'px',_0x278b3b['style'][_0x32c2e5(0x19e)]=_0x5ca80e+'px',_0x278b3b[_0x32c2e5(0x12e)][_0x32c2e5(0x1c4)]='-'+_0x51d374+_0x32c2e5(0x1ca)+_0x2f729b+'px',_0x47100d[_0x32c2e5(0xe7)](_0x278b3b);}}});}if(dateExceptions[_0x175cd9]===_0x80fb54(0x1d9)){if(!_0x47100d[_0x80fb54(0x1cd)](_0x80fb54(0x1bc))){const _0xd9bd68=document['createElement'](_0x80fb54(0x1b5));_0xd9bd68['className']='day-off-overlay\x20stripe-bg',_0xd9bd68[_0x80fb54(0x12e)][_0x80fb54(0x1c4)]='-'+_0x51d374+_0x80fb54(0xdb),_0x47100d[_0x80fb54(0xe7)](_0xd9bd68);}}renderEventsForColumn(_0x47100d,_0x175cd9,_0x1e2da9),updateDayStats(_0x175cd9);});}function updateAllDayStats(){const _0x12f91f=a2_0xbe857;document[_0x12f91f(0x1d6)](_0x12f91f(0x1a3))['forEach'](_0x254d17=>{const _0x151172=_0x12f91f;updateDayStats(_0x254d17[_0x151172(0x214)](_0x151172(0x1b2)));});}function updateDayStats(_0x570806){const _0x970cf4=a2_0xbe857,_0x275ee1=document[_0x970cf4(0x1b7)](_0x970cf4(0xfa)+_0x570806);if(!_0x275ee1)return;const _0x2139bd=new Date(_0x570806);let _0x3ad2a0=_0x2139bd[_0x970cf4(0xb8)]()-0x1;if(_0x3ad2a0===-0x1)_0x3ad2a0=0x6;if(dateExceptions[_0x570806]===_0x970cf4(0x1d9)){_0x275ee1[_0x970cf4(0x12e)][_0x970cf4(0xb7)]=_0x970cf4(0x179);return;}const _0x54dccd=availabilityPattern[_0x3ad2a0]||[],_0x9faf2=0x18-_0x54dccd[_0x970cf4(0x1e7)],_0x58b4f9=_0x9faf2*0x3c,_0x48c540=sessions[_0x970cf4(0xd6)](_0x3ca334=>_0x3ca334[_0x970cf4(0x1c1)]===_0x570806&&_0x3ca334[_0x970cf4(0x150)]!==_0x970cf4(0x17d));if(_0x48c540[_0x970cf4(0x1e7)]===0x0){_0x275ee1['style'][_0x970cf4(0xb7)]=_0x970cf4(0x179);return;}let _0x279a71=_0x48c540[_0x970cf4(0xdf)](_0x5db952=>{const _0x474bb8=_0x970cf4,[_0x2a7e6f,_0x3b746d]=_0x5db952[_0x474bb8(0x17a)][_0x474bb8(0x129)](':')[_0x474bb8(0xdf)](Number),[_0x36c764,_0x328918]=_0x5db952[_0x474bb8(0x1a1)][_0x474bb8(0x129)](':')[_0x474bb8(0xdf)](Number);return[_0x2a7e6f*0x3c+_0x3b746d,_0x36c764*0x3c+_0x328918];});_0x279a71[_0x970cf4(0x1dd)]((_0xc8887d,_0xaa45e6)=>_0xc8887d[0x0]-_0xaa45e6[0x0]);let _0x3213e1=[];if(_0x279a71[_0x970cf4(0x1e7)]>0x0){let _0xed34b1=_0x279a71[0x0];for(let _0x4e50aa=0x1;_0x4e50aa<_0x279a71[_0x970cf4(0x1e7)];_0x4e50aa++){_0x279a71[_0x4e50aa][0x0]<_0xed34b1[0x1]?_0xed34b1[0x1]=Math[_0x970cf4(0x16c)](_0xed34b1[0x1],_0x279a71[_0x4e50aa][0x1]):(_0x3213e1[_0x970cf4(0x164)](_0xed34b1),_0xed34b1=_0x279a71[_0x4e50aa]);}_0x3213e1[_0x970cf4(0x164)](_0xed34b1);}let _0x2b8789=0x0;_0x3213e1[_0x970cf4(0x159)](_0x5a3a93=>_0x2b8789+=_0x5a3a93[0x1]-_0x5a3a93[0x0]),_0x275ee1[_0x970cf4(0x12e)][_0x970cf4(0xb7)]='flex';const _0x58f4f4=_0x275ee1['querySelector'](_0x970cf4(0x226));if(_0x58b4f9===0x0){_0x58f4f4['style'][_0x970cf4(0xf3)]=_0x970cf4(0x194),_0x58f4f4[_0x970cf4(0x12e)][_0x970cf4(0x11a)]=_0x970cf4(0x1ce);return;}const _0x54e683=_0x2b8789/_0x58b4f9*0x64;console[_0x970cf4(0x10e)]('['+_0x570806+_0x970cf4(0x1d2)+_0x9faf2+_0x970cf4(0xf7)+_0x2b8789+'–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20'+_0x54e683[_0x970cf4(0x116)](0x1)+'%'),_0x54e683>0x64?(_0x58f4f4['style']['width']='100%',_0x58f4f4[_0x970cf4(0x12e)][_0x970cf4(0x11a)]=_0x970cf4(0x1ce)):(_0x58f4f4[_0x970cf4(0x12e)]['width']=_0x54e683+'%',_0x58f4f4[_0x970cf4(0x12e)][_0x970cf4(0x11a)]=_0x970cf4(0x133));}function renderEventsForColumn(_0x512baa,_0x23c0a7,_0x598e13){const _0x51de6a=a2_0xbe857,_0x35a7b1=sessions[_0x51de6a(0xd6)](_0x3056f7=>_0x3056f7[_0x51de6a(0x1c1)]===_0x23c0a7),_0x575799=_0x35a7b1[_0x51de6a(0xdf)](_0x4d9ec7=>{const _0x5bf995=_0x51de6a,[_0x4e5666,_0x1c118b]=_0x4d9ec7[_0x5bf995(0x17a)]['split'](':')[_0x5bf995(0xdf)](Number),[_0x4f693b,_0x18e6ef]=_0x4d9ec7[_0x5bf995(0x1a1)][_0x5bf995(0x129)](':')[_0x5bf995(0xdf)](Number);return{'data':_0x4d9ec7,'start':_0x4e5666*0x3c+_0x1c118b,'end':_0x4f693b*0x3c+_0x18e6ef,'colIndex':0x0};});_0x575799[_0x51de6a(0x1dd)]((_0x258730,_0x5111e0)=>{const _0x6726c2=_0x51de6a;if(_0x258730[_0x6726c2(0x17a)]!==_0x5111e0['start'])return _0x258730[_0x6726c2(0x17a)]-_0x5111e0[_0x6726c2(0x17a)];return _0x5111e0[_0x6726c2(0x1a1)]-_0x5111e0[_0x6726c2(0x17a)]-(_0x258730[_0x6726c2(0x1a1)]-_0x258730[_0x6726c2(0x17a)]);});const _0x300b74=[];_0x575799[_0x51de6a(0x159)](_0x5dd561=>{const _0x407b4f=_0x51de6a;let _0x10a2c7=![];for(let _0x464a5e=0x0;_0x464a5e<_0x300b74[_0x407b4f(0x1e7)];_0x464a5e++){const _0x3eee35=_0x300b74[_0x464a5e],_0x482622=_0x3eee35[_0x3eee35[_0x407b4f(0x1e7)]-0x1];if(_0x5dd561[_0x407b4f(0x17a)]>=_0x482622[_0x407b4f(0x1a1)]){_0x3eee35[_0x407b4f(0x164)](_0x5dd561),_0x5dd561['colIndex']=_0x464a5e,_0x10a2c7=!![];break;}}!_0x10a2c7&&(_0x300b74[_0x407b4f(0x164)]([_0x5dd561]),_0x5dd561[_0x407b4f(0x167)]=_0x300b74['length']-0x1);}),_0x575799['forEach'](_0x183e52=>{const _0x573b4a=_0x51de6a;let _0x42c5e2=0x0;_0x575799['forEach'](_0x30c961=>{const _0x4a1a9a=a2_0x2c6a;if(Math[_0x4a1a9a(0x16c)](_0x183e52[_0x4a1a9a(0x17a)],_0x30c961[_0x4a1a9a(0x17a)])<Math[_0x4a1a9a(0x21c)](_0x183e52['end'],_0x30c961['end'])){if(_0x30c961[_0x4a1a9a(0x167)]>_0x42c5e2)_0x42c5e2=_0x30c961[_0x4a1a9a(0x167)];}});const _0x5e2f17=_0x42c5e2+0x1,_0x36a629=0x64/_0x5e2f17,_0x18115d=_0x183e52[_0x573b4a(0x167)]*_0x36a629,_0x7c274c=createEventEl(_0x183e52[_0x573b4a(0x11e)]);_0x7c274c[_0x573b4a(0x12e)][_0x573b4a(0xf3)]=_0x573b4a(0x10f)+_0x36a629+_0x573b4a(0x178),_0x7c274c[_0x573b4a(0x12e)][_0x573b4a(0x1bb)]=_0x573b4a(0x10f)+_0x18115d+_0x573b4a(0xaf),_0x7c274c[_0x573b4a(0x12e)]['zIndex']=0xa+_0x183e52[_0x573b4a(0x167)],_0x36a629<0x55&&_0x7c274c['classList'][_0x573b4a(0x15c)](_0x573b4a(0x1c5)),_0x512baa[_0x573b4a(0xe7)](_0x7c274c);});}function createEventEl(_0x44cba0){const _0x245697=a2_0xbe857,[_0x532420,_0x5cc6f5]=_0x44cba0[_0x245697(0x17a)]['split'](':')[_0x245697(0xdf)](Number),[_0x35f990,_0x779b4f]=_0x44cba0[_0x245697(0x1a1)]['split'](':')[_0x245697(0xdf)](Number),_0x405a0d=(_0x532420*0x3c+_0x5cc6f5)/0x3c*GRID_H,_0x2b19d6=(_0x35f990*0x3c+_0x779b4f-(_0x532420*0x3c+_0x5cc6f5))/0x3c*GRID_H,_0x5ea248=document[_0x245697(0x10a)](_0x245697(0x1b5)),_0x4d3a01=_0x44cba0[_0x245697(0x150)]===_0x245697(0x135)?'\x20status-completed':'';_0x5ea248[_0x245697(0x184)]=_0x245697(0x110)+_0x4d3a01,_0x5ea248[_0x245697(0x12e)][_0x245697(0x140)]=_0x405a0d+'px',_0x5ea248['style'][_0x245697(0x19e)]=Math[_0x245697(0x16c)](_0x2b19d6,0x14)+'px';const _0x4b5546=clients[_0x245697(0x205)](_0x431704=>_0x44cba0['clientId']&&String(_0x431704['id'])===String(_0x44cba0[_0x245697(0xec)])||_0x431704[_0x245697(0x207)]===_0x44cba0[_0x245697(0x219)]),_0x2e5f81=_0x4b5546?_0x4b5546[_0x245697(0x1f2)]:_0x245697(0x1a7);_0x5ea248[_0x245697(0x12e)][_0x245697(0x1dc)]=_0x2e5f81,_0x5ea248[_0x245697(0x12e)][_0x245697(0x1a9)]=hexToRgba(_0x2e5f81,0.85);let _0x19c086=_0x245697(0x118)+_0x44cba0['client']+_0x245697(0xc0)+_0x44cba0['start']+_0x245697(0x125)+_0x44cba0[_0x245697(0x1a1)]+_0x245697(0xd9);return _0x44cba0[_0x245697(0x192)]&&(_0x19c086+='<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>'),_0x44cba0[_0x245697(0x150)]===_0x245697(0x135)&&(_0x19c086+=_0x245697(0xb2)),_0x5ea248['innerHTML']=_0x19c086,_0x5ea248[_0x245697(0x124)]=_0x4a654f=>{_0x4a654f['stopPropagation'](),openEdit(_0x44cba0);},_0x5ea248;}function attachLongPressHandler(_0x49fb09,_0x55b73c){const _0x37d2e6=a2_0xbe857;let _0x369404=0x0,_0x1b3cd6=null;const _0x156811=_0x346f9f=>{const _0x3a644d=a2_0x2c6a;if(_0x346f9f[_0x3a644d(0x10d)][_0x3a644d(0x1e0)](_0x3a644d(0x149)))return;isScrolling=![],_0x369404=_0x346f9f[_0x3a644d(0x146)]?_0x346f9f[_0x3a644d(0x146)][0x0]['clientY']:_0x346f9f[_0x3a644d(0xc7)],_0x1b3cd6=setTimeout(()=>{const _0x542fd9=_0x3a644d;if(!isScrolling){navigator[_0x542fd9(0x1b3)]?.(0x32);const _0x1c0a35=_0x49fb09[_0x542fd9(0x213)](),_0x361f5c=Math[_0x542fd9(0xcc)]((_0x369404-_0x1c0a35['top'])/GRID_H);_0x55b73c['setHours'](_0x361f5c,0x0),openAddSession(_0x55b73c);}},0x1f4);},_0x169023=()=>{isScrolling=!![],clearTimeout(_0x1b3cd6);},_0x1b9e8c=()=>{clearTimeout(_0x1b3cd6);};_0x49fb09[_0x37d2e6(0x111)](_0x37d2e6(0x191),_0x156811,{'passive':!![]}),_0x49fb09[_0x37d2e6(0x111)](_0x37d2e6(0xfe),_0x169023,{'passive':!![]}),_0x49fb09[_0x37d2e6(0x111)](_0x37d2e6(0x1ee),_0x1b9e8c),_0x49fb09[_0x37d2e6(0x111)](_0x37d2e6(0x19a),_0x156811),_0x49fb09[_0x37d2e6(0x111)]('mousemove',_0x169023),_0x49fb09[_0x37d2e6(0x111)]('mouseup',_0x1b9e8c);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x5e5844=a2_0xbe857,_0x1c8fb3=document[_0x5e5844(0x1b7)](_0x5e5844(0x19d)),_0x17493e=_0x1c8fb3[_0x5e5844(0x19b)],_0x3bc457=_0x1c8fb3[_0x5e5844(0xe8)],_0x517623=_0x1c8fb3[_0x5e5844(0x21d)];if(_0x3bc457-(_0x17493e+_0x517623)<0x12c){const _0xd7f2a=endOffset;endOffset+=0xe,renderDayRange(_0xd7f2a+0x1,endOffset),reRenderBlocks();}if(_0x17493e<0x12c){const _0x4288aa=startOffset;startOffset-=0xe,prependDays(startOffset,_0x4288aa-0x1),_0x1c8fb3[_0x5e5844(0x19b)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x40700e,_0x55c9d0){const _0x4f0da4=a2_0xbe857,_0x27625f=document['getElementById'](_0x4f0da4(0x1ff)),_0x527359=document[_0x4f0da4(0x1b7)](_0x4f0da4(0xad)),_0x2a878b=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x13759b=new Date();_0x13759b[_0x4f0da4(0x175)](0x0,0x0,0x0,0x0);const _0x77759e=getLocalDateStr(new Date()),_0xb7c78d=document[_0x4f0da4(0x1d5)](),_0x31bc58=document[_0x4f0da4(0x1d5)]();for(let _0x51b240=_0x40700e;_0x51b240<=_0x55c9d0;_0x51b240++){const _0x55960f=new Date(_0x13759b);_0x55960f['setDate'](_0x55960f['getDate']()+_0x51b240);const _0x285b6c=getLocalDateStr(_0x55960f);let _0x1dc082=_0x55960f[_0x4f0da4(0xb8)]()-0x1;if(_0x1dc082===-0x1)_0x1dc082=0x6;const _0x1ebc44=_0x285b6c===_0x77759e,_0x32e0da=document['createElement'](_0x4f0da4(0x1b5));_0x32e0da[_0x4f0da4(0x184)]='day-col-header\x20'+(_0x1ebc44?'today':''),_0x32e0da['id']='header-'+_0x285b6c,_0x32e0da[_0x4f0da4(0x1a0)](_0x4f0da4(0x1b2),_0x285b6c),_0x32e0da[_0x4f0da4(0x166)]=_0x4f0da4(0xc9)+_0x2a878b[_0x1dc082]+'</div><div\x20class=\x22dch-num\x22>'+_0x55960f[_0x4f0da4(0x1ad)]()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0x285b6c+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x32e0da[_0x4f0da4(0x124)]=()=>openDayOptions(_0x285b6c,_0x2a878b[_0x1dc082]+'\x20'+_0x55960f[_0x4f0da4(0x1ad)]()),_0xb7c78d[_0x4f0da4(0xe7)](_0x32e0da);const _0x4b1782=document[_0x4f0da4(0x10a)](_0x4f0da4(0x1b5));_0x4b1782['className']=_0x4f0da4(0x1ec)+(_0x1ebc44?_0x4f0da4(0xbe):''),_0x4b1782[_0x4f0da4(0x1a0)]('data-date',_0x285b6c),_0x4b1782[_0x4f0da4(0x1a0)]('data-day-idx',_0x1dc082),renderEventsForColumn(_0x4b1782,_0x285b6c,_0x1dc082),attachLongPressHandler(_0x4b1782,_0x55960f),_0x31bc58[_0x4f0da4(0xe7)](_0x4b1782),updateDayStats(_0x285b6c);}_0x27625f[_0x4f0da4(0x188)](_0xb7c78d,_0x27625f[_0x4f0da4(0x147)]),_0x527359[_0x4f0da4(0x188)](_0x31bc58,_0x527359[_0x4f0da4(0x1cd)](_0x4f0da4(0x1f3)));}function validateAppointment(_0x63a314,_0x52b05b,_0x1a64c5,_0x58c4a1,_0x57a656){const _0xb1e50c=a2_0xbe857,[_0x3bb3b3,_0xc68c68]=_0x52b05b[_0xb1e50c(0x129)](':')['map'](Number),[_0x19a4b9,_0x1463aa]=_0x1a64c5[_0xb1e50c(0x129)](':')[_0xb1e50c(0xdf)](Number),_0x45495a=_0x3bb3b3*0x3c+_0xc68c68,_0x166acf=_0x19a4b9*0x3c+_0x1463aa,_0xf0bc18=String(_0x57a656);let _0x2f63aa=![],_0x1d2019='';for(let _0x55e3ab of sessions){if(_0x55e3ab[_0xb1e50c(0x1c1)]!==_0x63a314)continue;if(_0x55e3ab[_0xb1e50c(0x150)]==='cancelled')continue;if(_0x58c4a1&&String(_0x55e3ab['id'])===String(_0x58c4a1))continue;const [_0x2f52e5,_0x5b742d]=_0x55e3ab[_0xb1e50c(0x17a)][_0xb1e50c(0x129)](':')[_0xb1e50c(0xdf)](Number),[_0x3f8c78,_0x1994f6]=_0x55e3ab[_0xb1e50c(0x1a1)]['split'](':')[_0xb1e50c(0xdf)](Number),_0x24d21a=_0x2f52e5*0x3c+_0x5b742d,_0x36f820=_0x3f8c78*0x3c+_0x1994f6;if(Math[_0xb1e50c(0x16c)](_0x45495a,_0x24d21a)<Math[_0xb1e50c(0x21c)](_0x166acf,_0x36f820)){if(_0x55e3ab[_0xb1e50c(0xec)]&&String(_0x55e3ab[_0xb1e50c(0xec)])===_0xf0bc18)return{'valid':![],'msg':_0xb1e50c(0xd0)+_0x55e3ab[_0xb1e50c(0x219)]+_0xb1e50c(0x224)};_0x2f63aa=!![],_0x1d2019=_0x55e3ab[_0xb1e50c(0x219)];}}if(_0x2f63aa)return{'valid':!![],'warning':_0xb1e50c(0x1b4)+_0x1d2019};return{'valid':!![]};}function updateDateDisplay(){const _0x27a5cb=a2_0xbe857,_0xa05010=document['getElementById'](_0x27a5cb(0x200))[_0x27a5cb(0x143)],_0x20520b=document[_0x27a5cb(0x1b7)](_0x27a5cb(0x1db));if(!_0xa05010){_0x20520b['textContent']='';return;}const [_0x40639f,_0xeaaf36,_0xc722de]=_0xa05010[_0x27a5cb(0x129)]('-')['map'](Number),_0x207143=new Date(_0x40639f,_0xeaaf36-0x1,_0xc722de),_0x449de5={'weekday':_0x27a5cb(0x190),'day':'numeric','month':_0x27a5cb(0x190),'year':'numeric'};let _0x365c3b=_0x207143['toLocaleDateString'](_0x27a5cb(0x1b8),_0x449de5);_0x365c3b=_0x365c3b[_0x27a5cb(0xe5)](0x0)[_0x27a5cb(0x114)]()+_0x365c3b[_0x27a5cb(0x127)](0x1),_0x20520b['textContent']=_0x365c3b;}function autoSetEndTime(){const _0x2285d3=a2_0xbe857,_0x3d77dc=document['getElementById'](_0x2285d3(0xe0))['value'];if(!_0x3d77dc)return;const [_0x140c2e,_0x12be16]=_0x3d77dc[_0x2285d3(0x129)](':')['map'](Number);let _0x38b795=_0x140c2e+0x1;if(_0x38b795>0x17)_0x38b795=0x0;const _0xf9fdd4=String(_0x38b795)[_0x2285d3(0x198)](0x2,'0')+':'+String(_0x12be16)[_0x2285d3(0x198)](0x2,'0');document['getElementById'](_0x2285d3(0x170))['value']=_0xf9fdd4;}function populateClientSelect(){const _0x531555=a2_0xbe857,_0x3d8ef3=document[_0x531555(0x1b7)](_0x531555(0x161));_0x3d8ef3[_0x531555(0x166)]='';if(clients['length']===0x0){const _0x35f1b9=document['createElement'](_0x531555(0xcd));_0x35f1b9[_0x531555(0xf6)]='–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤',_0x3d8ef3[_0x531555(0xe7)](_0x35f1b9);return;}clients[_0x531555(0x159)](_0x294dcf=>{const _0x51b815=_0x531555,_0x7ab3f3=document[_0x51b815(0x10a)](_0x51b815(0xcd));_0x7ab3f3[_0x51b815(0x143)]=_0x294dcf[_0x51b815(0x207)],_0x7ab3f3[_0x51b815(0x1f9)]=_0x294dcf[_0x51b815(0x207)],_0x3d8ef3[_0x51b815(0xe7)](_0x7ab3f3);});}function openActionSheet(_0x5014be){const _0x51cd93=a2_0xbe857,_0xdb7408=document[_0x51cd93(0x1b7)]('actionSheet'),_0x18ee13=document[_0x51cd93(0x1b7)](_0x51cd93(0xe3)),_0x327062=document[_0x51cd93(0x1b7)](_0x51cd93(0x141)),_0x2949bc=document[_0x51cd93(0x1b7)](_0x51cd93(0x1ea)),_0x2cb2a3=document[_0x51cd93(0x1b7)](_0x51cd93(0x1cc));_0x18ee13[_0x51cd93(0xbd)][_0x51cd93(0x15c)](_0x51cd93(0x112)),_0xdb7408[_0x51cd93(0xbd)]['add'](_0x51cd93(0x123));if(_0x5014be===_0x51cd93(0x14a))_0x327062[_0x51cd93(0x1f9)]=_0x51cd93(0x218),_0x2949bc['textContent']=_0x51cd93(0x1b9),_0x2949bc['onclick']=()=>{const _0x49971d=_0x51cd93;closeActionSheet(),updateSeriesBatch(_0x49971d(0x1a5),tempSessionData);},_0x2cb2a3[_0x51cd93(0x1f9)]=_0x51cd93(0x181),_0x2cb2a3[_0x51cd93(0x124)]=()=>{const _0x19f545=_0x51cd93;closeActionSheet(),updateSeriesBatch(_0x19f545(0xcb),tempSessionData);};else _0x5014be===_0x51cd93(0x21e)&&(_0x327062[_0x51cd93(0x1f9)]='–£–¥–∞–ª–µ–Ω–∏–µ',_0x2949bc[_0x51cd93(0x1f9)]=_0x51cd93(0x1b9),_0x2949bc[_0x51cd93(0x184)]='as-button\x20danger',_0x2949bc[_0x51cd93(0x124)]=()=>{const _0x22efef=_0x51cd93;closeActionSheet(),commitDelete(_0x22efef(0x1a5),sessions[_0x22efef(0x205)](_0x59216d=>_0x59216d['id']===editingId));},_0x2cb2a3[_0x51cd93(0x1f9)]=_0x51cd93(0x181),_0x2cb2a3[_0x51cd93(0x184)]=_0x51cd93(0xc1),_0x2cb2a3[_0x51cd93(0x124)]=()=>{const _0x1ecad6=_0x51cd93;closeActionSheet(),commitDelete(_0x1ecad6(0xcb),sessions[_0x1ecad6(0x205)](_0x320d1c=>_0x320d1c['id']===editingId));});}function closeActionSheet(){const _0x1ecfdf=a2_0xbe857;document[_0x1ecfdf(0x1b7)](_0x1ecfdf(0x171))[_0x1ecfdf(0xbd)][_0x1ecfdf(0xd3)](_0x1ecfdf(0x123)),document[_0x1ecfdf(0x1b7)](_0x1ecfdf(0xe3))[_0x1ecfdf(0xbd)]['remove'](_0x1ecfdf(0x112));}function openSettings(){const _0x837bbf=a2_0xbe857;openSheet(_0x837bbf(0x1c2));}function saveCoachSettings(){const _0x487b89=a2_0xbe857,_0x465d87=document[_0x487b89(0x1b7)]('settingCancelWindow')[_0x487b89(0x143)];localStorage[_0x487b89(0x18a)](_0x487b89(0x13f),_0x465d87),console[_0x487b89(0x10e)](_0x487b89(0x1fa),_0x465d87),DataManager['fetchFromServer'](_0x487b89(0xc6),{'settings':{'cancel_window':_0x465d87}})[_0x487b89(0x1f5)](_0x4cdc82=>{const _0x4ddb28=_0x487b89;console['error']('Save\x20settings\x20error:',_0x4cdc82),showToast(_0x4ddb28(0x18f),![]);});}function loadCoachSettings(){const _0x38c272=a2_0xbe857,_0x1397d7=localStorage[_0x38c272(0x16b)]('uc_settings_cancel_window');_0x1397d7&&(document[_0x38c272(0x1b7)](_0x38c272(0xd7))['value']=_0x1397d7);}function openRangesSheet(){const _0x29ca73=a2_0xbe857;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x29ca73(0x169));}function addRange(){const _0x445476=a2_0xbe857,_0x1751f5=document[_0x445476(0x1b7)](_0x445476(0x20a))[_0x445476(0x143)],_0xffccb9=document[_0x445476(0x1b7)](_0x445476(0x1e1))[_0x445476(0x143)],_0x23256a=document[_0x445476(0x1b7)](_0x445476(0x137))['value'],_0x25d71f=document[_0x445476(0x1b7)](_0x445476(0x12c))[_0x445476(0x143)];if(!_0x1751f5||!_0xffccb9||!_0x23256a||!_0x25d71f)return alert(_0x445476(0x210));const _0xbc31e2=_0x1751f5+'T'+_0xffccb9,_0x1d24e0=_0x23256a+'T'+_0x25d71f;if(_0xbc31e2>=_0x1d24e0)return alert('–û—à–∏–±–∫–∞\x20–¥–∞—Ç');specialRanges[_0x445476(0x164)]({'start':_0xbc31e2,'end':_0x1d24e0}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x445476(0x12a)](_0x445476(0xc6),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x38a652){const _0x239460=a2_0xbe857;specialRanges['splice'](_0x38a652,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x239460(0x172)](),DataManager[_0x239460(0x12a)](_0x239460(0xc6),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x363635=a2_0xbe857;document[_0x363635(0x1b7)](_0x363635(0x20a))[_0x363635(0x143)]='',document[_0x363635(0x1b7)](_0x363635(0x1e1))[_0x363635(0x143)]=_0x363635(0x212),document[_0x363635(0x1b7)](_0x363635(0x137))[_0x363635(0x143)]='',document[_0x363635(0x1b7)](_0x363635(0x12c))[_0x363635(0x143)]='23:59';}function renderRangesList(){const _0x4083fd=a2_0xbe857,_0x33213d=document['getElementById']('rangesList');_0x33213d[_0x4083fd(0x166)]='';if(!specialRanges[_0x4083fd(0x1e7)]){_0x33213d[_0x4083fd(0x166)]=_0x4083fd(0x104);return;}specialRanges[_0x4083fd(0x159)]((_0x51e3f0,_0x1cb9a9)=>{const _0x9ab4fb=_0x4083fd,_0x5deb57=document[_0x9ab4fb(0x10a)](_0x9ab4fb(0x1b5));_0x5deb57[_0x9ab4fb(0x184)]=_0x9ab4fb(0x195);const _0x3c9ec8=_0x5ce899=>{const _0x2cad17=_0x9ab4fb,_0x25f7bf=new Date(_0x5ce899);return _0x25f7bf[_0x2cad17(0x1ad)]()+'.'+String(_0x25f7bf['getMonth']()+0x1)[_0x2cad17(0x198)](0x2,'0')+'\x20'+String(_0x25f7bf['getHours']())[_0x2cad17(0x198)](0x2,'0')+':'+String(_0x25f7bf[_0x2cad17(0xca)]())[_0x2cad17(0x198)](0x2,'0');};_0x5deb57[_0x9ab4fb(0x166)]=_0x9ab4fb(0x128)+_0x3c9ec8(_0x51e3f0['start'])+_0x9ab4fb(0x185)+_0x3c9ec8(_0x51e3f0[_0x9ab4fb(0x1a1)])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange('+_0x1cb9a9+_0x9ab4fb(0x136),_0x33213d[_0x9ab4fb(0xe7)](_0x5deb57);});}function scrollToToday(){const _0x583586=a2_0xbe857,_0x1d44a7=getLocalDateStr(new Date()),_0x13290c=document[_0x583586(0x1b7)](_0x583586(0x1e8)+_0x1d44a7),_0x46db15=document['getElementById'](_0x583586(0x19d));if(_0x13290c&&_0x46db15){const _0x3e3fa2=_0x46db15['clientWidth'],_0x5d4eb6=_0x13290c[_0x583586(0x1f7)],_0x3081cb=_0x13290c['offsetWidth'];_0x46db15[_0x583586(0x19b)]=_0x5d4eb6-_0x3e3fa2/0x2+_0x3081cb/0x2,_0x46db15[_0x583586(0x209)]=0x9*GRID_H;}}function onScroll(){const _0x32a20d=a2_0xbe857,_0x41e5df=document['getElementById'](_0x32a20d(0x19d)),_0x2bc824=document[_0x32a20d(0x1d6)](_0x32a20d(0x1a3));for(let _0x5d404e of _0x2bc824)if(_0x5d404e['offsetLeft']>=_0x41e5df[_0x32a20d(0x19b)]){const _0x4fa70b=new Date(_0x5d404e['getAttribute'](_0x32a20d(0x1b2)));document[_0x32a20d(0x1b7)](_0x32a20d(0x1e9))[_0x32a20d(0x1f9)]=_0x4fa70b[_0x32a20d(0x1c6)]('ru',{'month':_0x32a20d(0x190)})['toUpperCase']()+'\x20'+_0x4fa70b[_0x32a20d(0x225)]();break;}}function showToast(_0x3a55b9,_0x14b307=![]){const _0x2b13a5=a2_0xbe857,_0xc7fbc3=document[_0x2b13a5(0x1b7)](_0x2b13a5(0xfc));_0xc7fbc3[_0x2b13a5(0x184)]=_0x2b13a5(0x152)+(_0x14b307?_0x2b13a5(0xd1):''),document['getElementById']('toastTitle')[_0x2b13a5(0x1f9)]=_0x14b307?'–£—Å–ø–µ—à–Ω–æ':'–ò–Ω—Ñ–æ',document[_0x2b13a5(0x1b7)]('toastMessage')[_0x2b13a5(0x1f9)]=_0x3a55b9,_0xc7fbc3[_0x2b13a5(0xbd)][_0x2b13a5(0x15c)]('show'),setTimeout(()=>{const _0x5665ed=_0x2b13a5;_0xc7fbc3['classList'][_0x5665ed(0xd3)](_0x5665ed(0x13d));},0xbb8);}function openDayOptions(_0x22c133,_0x3a33cd){const _0x20b239=a2_0xbe857;selectedDayForOptions=_0x22c133,document[_0x20b239(0x1b7)](_0x20b239(0xba))[_0x20b239(0x1f9)]=_0x3a33cd,openSheet('dayOptionsSheet');}function toggleDayOff(){const _0x563a6f=a2_0xbe857;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x563a6f(0x1d9),reRenderBlocks(),closeAllSheets(),DataManager[_0x563a6f(0x172)](),DataManager['fetchFromServer'](_0x563a6f(0xc6),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x431f95=a2_0xbe857;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager[_0x431f95(0x12a)](_0x431f95(0xc6),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x596a0f){const _0x3f139b=a2_0xbe857;document[_0x3f139b(0x1b7)]('overlay')[_0x3f139b(0xbd)][_0x3f139b(0x15c)]('active'),document['getElementById'](_0x596a0f)[_0x3f139b(0xbd)]['add']('open');}function closeAllSheets(){const _0x387f94=a2_0xbe857;document['getElementById'](_0x387f94(0x10b))[_0x387f94(0xbd)]['remove'](_0x387f94(0x112)),document['querySelectorAll'](_0x387f94(0x13e))[_0x387f94(0x159)](_0x26473e=>_0x26473e[_0x387f94(0xbd)]['remove']('open'));}function openPatternEditor(){const _0xf7e84f=a2_0xbe857;closeAllSheets(),document[_0xf7e84f(0x1b7)](_0xf7e84f(0x21a))['classList'][_0xf7e84f(0x15c)]('open'),renderPatternEditor();}function closePatternEditor(){const _0x2e5172=a2_0xbe857;document[_0x2e5172(0x1b7)](_0x2e5172(0x21a))[_0x2e5172(0xbd)][_0x2e5172(0xd3)]('open');}function savePattern(){const _0xbacc54=a2_0xbe857;document['getElementById'](_0xbacc54(0x21a))[_0xbacc54(0xbd)][_0xbacc54(0xd3)](_0xbacc54(0x123)),reRenderBlocks(),DataManager[_0xbacc54(0x172)](),DataManager['fetchFromServer'](_0xbacc54(0xc6),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x2bc8fe=a2_0xbe857,_0x1e0963=document[_0x2bc8fe(0x1b7)](_0x2bc8fe(0x17b));_0x1e0963[_0x2bc8fe(0x166)]='';const _0x2b6a72=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x302236=document['createElement'](_0x2bc8fe(0x1b5));_0x302236[_0x2bc8fe(0x184)]='pe-corner',_0x1e0963[_0x2bc8fe(0xe7)](_0x302236),_0x2b6a72[_0x2bc8fe(0x159)]((_0x97416,_0x54833c)=>{const _0x596a73=_0x2bc8fe,_0x47c2e0=document[_0x596a73(0x10a)]('div');_0x47c2e0['className']='pe-col-header',_0x47c2e0[_0x596a73(0x166)]=_0x97416+'\x20<span\x20class=\x22arrow\x22>‚Üì</span>',_0x47c2e0[_0x596a73(0x124)]=()=>toggleColPattern(_0x54833c),_0x1e0963[_0x596a73(0xe7)](_0x47c2e0);});for(let _0xc1fdf3=0x0;_0xc1fdf3<0x18;_0xc1fdf3++){const _0x46c92d=document[_0x2bc8fe(0x10a)](_0x2bc8fe(0x1b5));_0x46c92d['className']=_0x2bc8fe(0x193),_0x46c92d[_0x2bc8fe(0x166)]=_0x2bc8fe(0xb3)+String(_0xc1fdf3)[_0x2bc8fe(0x198)](0x2,'0')+':00',_0x46c92d[_0x2bc8fe(0x124)]=()=>toggleRowPattern(_0xc1fdf3),_0x1e0963['appendChild'](_0x46c92d);for(let _0x292559=0x0;_0x292559<0x7;_0x292559++){const _0x4b0964=document['createElement'](_0x2bc8fe(0x1b5)),_0x5eadda=(availabilityPattern[_0x292559]||[])[_0x2bc8fe(0x208)](_0xc1fdf3),_0x8b30c1=!_0x5eadda;_0x4b0964['className']=_0x2bc8fe(0x1f8)+(_0x8b30c1?_0x2bc8fe(0x112):''),_0x4b0964['onclick']=()=>toggleSinglePattern(_0x292559,_0xc1fdf3),_0x1e0963[_0x2bc8fe(0xe7)](_0x4b0964);}}}function toggleSinglePattern(_0x3bb57b,_0x24fb65){const _0x148469=a2_0xbe857;if(!availabilityPattern[_0x3bb57b])availabilityPattern[_0x3bb57b]=[];const _0x559840=availabilityPattern[_0x3bb57b],_0x2cd44b=_0x559840[_0x148469(0x1d1)](_0x24fb65);_0x2cd44b===-0x1?_0x559840['push'](_0x24fb65):_0x559840[_0x148469(0x1e3)](_0x2cd44b,0x1),renderPatternEditor();}function toggleColPattern(_0x1108af){const _0x105436=a2_0xbe857;if(!availabilityPattern[_0x1108af])availabilityPattern[_0x1108af]=[];const _0x2b3a6f=availabilityPattern[_0x1108af];_0x2b3a6f[_0x105436(0x1e7)]===0x0?availabilityPattern[_0x1108af]=Array[_0x105436(0x1fb)]({'length':0x18},(_0x308235,_0x150af4)=>_0x150af4):availabilityPattern[_0x1108af]=[],renderPatternEditor();}function toggleRowPattern(_0x1a6225){const _0x15c8bc=a2_0xbe857;let _0x11863=!![];for(let _0x398b0c=0x0;_0x398b0c<0x7;_0x398b0c++){if((availabilityPattern[_0x398b0c]||[])[_0x15c8bc(0x208)](_0x1a6225)){_0x11863=![];break;}}for(let _0x305f6d=0x0;_0x305f6d<0x7;_0x305f6d++){if(!availabilityPattern[_0x305f6d])availabilityPattern[_0x305f6d]=[];const _0x1cac15=availabilityPattern[_0x305f6d][_0x15c8bc(0x1d1)](_0x1a6225);if(_0x11863){if(_0x1cac15===-0x1)availabilityPattern[_0x305f6d][_0x15c8bc(0x164)](_0x1a6225);}else{if(_0x1cac15!==-0x1)availabilityPattern[_0x305f6d]['splice'](_0x1cac15,0x1);}}renderPatternEditor();}function renderPCol(_0x1712df,_0x28d57b){const _0x527753=a2_0xbe857;_0x1712df['innerHTML']='';const _0x406eac=Math['round'](_0x1712df[_0x527753(0x1f7)]);(availabilityPattern[_0x28d57b]||[])[_0x527753(0x159)](_0x49c10c=>{const _0x47ffd0=_0x527753,_0x221c2a=document[_0x47ffd0(0x10a)](_0x47ffd0(0x1b5));_0x221c2a[_0x47ffd0(0x184)]=_0x47ffd0(0x131);const _0x4cf919=_0x49c10c*GRID_H;_0x221c2a[_0x47ffd0(0x12e)][_0x47ffd0(0x140)]=_0x4cf919+'px',_0x221c2a['style'][_0x47ffd0(0x1c4)]='-'+_0x406eac+_0x47ffd0(0x1ca)+_0x4cf919+'px',_0x221c2a[_0x47ffd0(0x124)]=_0x4e6dfe=>{const _0x2e215a=_0x47ffd0;_0x4e6dfe[_0x2e215a(0x1c3)](),toggleSinglePattern(_0x28d57b,_0x49c10c);},_0x1712df[_0x47ffd0(0xe7)](_0x221c2a);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function a2_0x2b4e(){const _0x432fda=['sheetDateSubtitle','borderLeftColor','sort','anCustomDates','send','closest','rangeStartTime','recurringOptionContainer','splice','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','toLocaleDateString','toString','length','header-','headerMonth','asBtnOne','btnStatusToggle','day-column\x20','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','touchend','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','DOMContentLoaded','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','color','.day-column','anPercent','catch','borderColor','offsetLeft','pe-cell\x20','textContent','[Settings]\x20Cancel\x20window\x20set\x20to:','from','done','T00:00:00','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','daysHeaderTrack','inpDate','rgba(48,\x20209,\x2088,\x200.15)',':00','rgba(100,100,100,0.5)','anEnd','find','patternInfoBox','name','includes','scrollTop','rangeStartDate','doBusyHours','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','analyticsSheet','clients','error','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','getTime','00:00','getBoundingClientRect','getAttribute','uc_clients_v9','cancel','checked','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','client','patternEditor','.period-switch\x20.p-btn','min','clientWidth','delete','week','month','offClick','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<b>‚úÖ\x20',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','getFullYear','.dch-stats-fill','getHours',':\x20Client\x20already\x20booked','gridColumns','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','%\x20+\x202px)','calendar','btnDayToggle','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','[Notify]\x20Attempting\x20to\x20send:','borderRadius','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','display','getDay','strokeDashoffset','dayOptionsTitle','substr','POST','classList','today','exceptions','</div><div\x20class=\x22ev-time\x22>','as-button\x20danger\x20bold','inpNote','warn','update','custom','save_settings','clientY','ready','<div\x20class=\x22dch-day\x22>','getMinutes','series','floor','option','btn-primary\x20btn-secondary','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','success','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','remove','random','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','filter','settingCancelWindow','initData','</div>','cancel_window','px\x200px','note','mergeServerData','syncLoad','map','inpStart','setBackgroundColor','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','actionSheetOverlay','4djQiiu','charAt','setDate','appendChild','scrollWidth','loadLocal','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','clientId','entries','rgba(255,\x2069,\x2058,\x200.3)','Telegram','setMonth','\x20–∏–∑\x20','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','width','null','#fff','text','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','stat-','startsWith','toast','v9.0-BATCH-CALENDAR','touchmove','3016842OIFKTT','dayOptionsSheet','sheetTitle','inpRecurring','syncBatch','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','231896wfaTgl','total','#gridColumns\x20.day-column','text/plain;charset=UTF-8','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','createElement','overlay','client-stat-card','target','log','calc(','event-card','addEventListener','active','anStart','toUpperCase','var(--acc-green)','toFixed','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','<div\x20class=\x22ev-title\x22>','anTotalStats','background',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','pattern','analyticsList','data','timeLineBadge','Local\x20Load\x20Error','seriesCountContainer','7OwtatW','open','onclick','\x20-\x20','keys','slice','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','split','fetchFromServer','isArray','rangeEndTime','initDataUnsafe','style','[Sync]\x20Loading\x20','ranges','blocked-slot\x20stripe-bg','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','var(--acc-current)',':00</span>','completed',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','rangeEndDate','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','settings','10px','Local\x20Save\x20Error','deleted','show','.sheet','uc_settings_cancel_window','top','asTitle','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','value','105724gMpyaf','msg','touches','firstChild','expand','.event-card','save','Unknown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','</b>\x0a\x0a','10px\x2010px\x200\x200','status','then','toast-notification\x20','259445gtBwLe','formatDate','inpSeriesCount','WebApp','[Notify]\x20Network\x20Failed','parse','forEach','[Notify]\x20Error:\x20sessionData\x20is\x20null','btn-status-toggle','add','numeric','guest','btnDelete','Critical\x20TMA\x20Error:','inpClient','data-day-idx','flex','push','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','innerHTML','colIndex','BackButton','rangesSheet','17703279BGMgpE','getItem','max','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','statLoadCard','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','inpEnd','actionSheet','saveLocally','json','day-off-overlay\x20stripe-bg','setHours','findIndex','onClick','%\x20-\x204px)','none','start','peGrid','stringify','cancelled','...','280zIvBuP','.pib-text','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','27tGIBEF','block','className','\x20‚Äî\x20','valid','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','insertBefore','61371reukDh','setItem','Error\x20setting\x20back\x20button:','114775dYmyHI','now','complete','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','long','touchstart','seriesId','pe-time-label','100%','range-item','blocked-range-part\x20stripe-bg','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','padStart','init_load','mousedown','scrollLeft','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','matrixViewport','height','sessionSheet','setAttribute','end','getText','.day-col-header','doWorkHours','single','[Notify]\x20Server\x20Response:','#0a84ff','create','backgroundColor','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','search','[Notify]\x20Detected\x20Client\x20ID:','getDate','timeColumn','de-item','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','constructor','data-date','vibrate','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','div','warning','getElementById','ru-RU','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','getMonth','left','.day-off-overlay','#050505','round','location','[Notify]\x20Error:\x20Text\x20generation\x20failed','dateStr','settingsSheet','stopPropagation','backgroundPosition','mini','toLocaleString','[Notify]\x20Client\x20SWAP\x20detected','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','(((.+)+)+)+$','px\x20-','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','asBtnSeries','querySelector','var(--acc-red)','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','btn-status-toggle\x20undo-mode','indexOf',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','undefined','createDocumentFragment','querySelectorAll','Server\x20Error','var(--acc-orange)','off','disableVerticalSwipes'];a2_0x2b4e=function(){return _0x432fda;};return a2_0x2b4e();}function updateClock(){const _0x5a76b2=a2_0xbe857,_0x10a930=new Date(),_0x4e7f2b=document[_0x5a76b2(0x1b7)]('globalTimeLine'),_0x46c7a4=document[_0x5a76b2(0x1b7)](_0x5a76b2(0x11f)),_0xa646c=(_0x10a930['getHours']()*0x3c+_0x10a930[_0x5a76b2(0xca)]())/0x3c*GRID_H;_0x4e7f2b[_0x5a76b2(0x12e)][_0x5a76b2(0x140)]=_0xa646c+'px',_0x4e7f2b[_0x5a76b2(0x12e)][_0x5a76b2(0xb7)]=_0x5a76b2(0x183),_0x46c7a4['textContent']=String(_0x10a930[_0x5a76b2(0x227)]())[_0x5a76b2(0x198)](0x2,'0')+':'+String(_0x10a930['getMinutes']())[_0x5a76b2(0x198)](0x2,'0'),_0x46c7a4[_0x5a76b2(0x12e)][_0x5a76b2(0xb7)]=_0x5a76b2(0x183),_0x46c7a4[_0x5a76b2(0x12e)][_0x5a76b2(0x140)]=_0xa646c+'px';}document[a2_0xbe857(0x111)](a2_0xbe857(0x1f0),init);function openDayOptions(_0x3600bf){const _0x53776a=a2_0xbe857;selectedDayForOptions=_0x3600bf;const _0x320a2c=new Date(_0x3600bf),_0x2b664d={'weekday':_0x53776a(0x190),'day':_0x53776a(0x15d),'month':_0x53776a(0x190),'year':'numeric'},_0x13cd62=_0x320a2c[_0x53776a(0x1e5)](_0x53776a(0x1b8),_0x2b664d);document[_0x53776a(0x1b7)]('doDateHeader')[_0x53776a(0x1f9)]=_0x13cd62[_0x53776a(0xe5)](0x0)[_0x53776a(0x114)]()+_0x13cd62[_0x53776a(0x127)](0x1);let _0x33bbb6=_0x320a2c[_0x53776a(0xb8)]()-0x1;if(_0x33bbb6===-0x1)_0x33bbb6=0x6;const _0x5a69f3=availabilityPattern[_0x33bbb6]||[],_0x99e370=0x18-_0x5a69f3['length'],_0x2275d5=_0x99e370*0x3c,_0xda290c=sessions[_0x53776a(0xd6)](_0x44cbd7=>_0x44cbd7[_0x53776a(0x1c1)]===_0x3600bf&&_0x44cbd7['status']!=='cancelled');let _0x336c5f=_0xda290c[_0x53776a(0xdf)](_0x5f570e=>{const _0x419849=_0x53776a,[_0x2faf0a,_0x2b3bf6]=_0x5f570e['start']['split'](':')[_0x419849(0xdf)](Number),[_0x2d4edc,_0x34722b]=_0x5f570e[_0x419849(0x1a1)][_0x419849(0x129)](':')[_0x419849(0xdf)](Number);return[_0x2faf0a*0x3c+_0x2b3bf6,_0x2d4edc*0x3c+_0x34722b];});_0x336c5f['sort']((_0x243df2,_0x23eb52)=>_0x243df2[0x0]-_0x23eb52[0x0]);let _0x3a843b=[];if(_0x336c5f['length']>0x0){let _0x3a6cf5=_0x336c5f[0x0];for(let _0x37bb8a=0x1;_0x37bb8a<_0x336c5f[_0x53776a(0x1e7)];_0x37bb8a++){_0x336c5f[_0x37bb8a][0x0]<_0x3a6cf5[0x1]?_0x3a6cf5[0x1]=Math[_0x53776a(0x16c)](_0x3a6cf5[0x1],_0x336c5f[_0x37bb8a][0x1]):(_0x3a843b[_0x53776a(0x164)](_0x3a6cf5),_0x3a6cf5=_0x336c5f[_0x37bb8a]);}_0x3a843b['push'](_0x3a6cf5);}let _0x245671=0x0;_0x3a843b['forEach'](_0xd4ab8b=>_0x245671+=_0xd4ab8b[0x1]-_0xd4ab8b[0x0]),document[_0x53776a(0x1b7)](_0x53776a(0x1a4))[_0x53776a(0x1f9)]=formatMinsToHrs(_0x2275d5),document[_0x53776a(0x1b7)](_0x53776a(0x20b))[_0x53776a(0x1f9)]=formatMinsToHrs(_0x245671);const _0x4f3658=_0x2275d5>0x0?Math[_0x53776a(0x1be)](_0x245671/_0x2275d5*0x64):0x0,_0x9e86b1=document[_0x53776a(0x1b7)]('doLoadPercent');_0x9e86b1[_0x53776a(0x1f9)]=_0x4f3658+'%';const _0x153901=document[_0x53776a(0x1b7)](_0x53776a(0x16e));if(_0x4f3658>0x64)_0x9e86b1['style'][_0x53776a(0x1f2)]=_0x53776a(0x1ce),_0x153901[_0x53776a(0x12e)][_0x53776a(0x1f6)]=_0x53776a(0xee);else _0x4f3658>0x50?(_0x9e86b1[_0x53776a(0x12e)][_0x53776a(0x1f2)]=_0x53776a(0x1d8),_0x153901[_0x53776a(0x12e)][_0x53776a(0x1f6)]='rgba(255,\x20159,\x2010,\x200.3)'):(_0x9e86b1[_0x53776a(0x12e)][_0x53776a(0x1f2)]=_0x53776a(0x115),_0x153901[_0x53776a(0x12e)][_0x53776a(0x1f6)]='rgba(255,255,255,0.05)');const _0x3b13b8=document[_0x53776a(0x1b7)]('doEventsList');_0x3b13b8[_0x53776a(0x166)]='';_0xda290c['length']===0x0?_0x3b13b8[_0x53776a(0x166)]=_0x53776a(0x197):(_0xda290c['sort']((_0x3fd6a3,_0x43e234)=>_0x3fd6a3[_0x53776a(0x17a)]['localeCompare'](_0x43e234[_0x53776a(0x17a)])),_0xda290c[_0x53776a(0x159)](_0x433772=>{const _0x5f1639=_0x53776a,_0x3c5e46=clients['find'](_0x2638d3=>_0x2638d3['name']===_0x433772['client']),_0x2de2cb=_0x3c5e46?_0x3c5e46[_0x5f1639(0x1f2)]:_0x5f1639(0xf5),_0x5547c0=_0x433772[_0x5f1639(0x150)]===_0x5f1639(0x135),_0x25ca9c=_0x5547c0?_0x5f1639(0x1d3):'',_0x51b337=document[_0x5f1639(0x10a)](_0x5f1639(0x1b5));_0x51b337[_0x5f1639(0x184)]=_0x5f1639(0x1af),_0x51b337['style']['borderLeftColor']=_0x2de2cb,_0x51b337[_0x5f1639(0x166)]=_0x5f1639(0x14c)+_0x433772[_0x5f1639(0x17a)]+_0x5f1639(0x125)+_0x433772[_0x5f1639(0x1a1)]+_0x5f1639(0x165)+_0x433772['client']+_0x5f1639(0x16d)+_0x25ca9c+_0x5f1639(0x222),_0x3b13b8[_0x5f1639(0xe7)](_0x51b337);}));const _0x5b899c=document[_0x53776a(0x1b7)](_0x53776a(0xb1)),_0x23169c=dateExceptions[_0x3600bf]===_0x53776a(0x1d9);_0x23169c?(_0x5b899c[_0x53776a(0x1f9)]=_0x53776a(0x1f1),_0x5b899c[_0x53776a(0x184)]=_0x53776a(0xce),_0x5b899c[_0x53776a(0x12e)][_0x53776a(0x1f2)]=_0x53776a(0x115),_0x5b899c[_0x53776a(0x12e)][_0x53776a(0x11a)]=_0x53776a(0x201)):(_0x5b899c[_0x53776a(0x1f9)]='–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º',_0x5b899c[_0x53776a(0x184)]='btn-primary\x20btn-danger',_0x5b899c['style']['color']=_0x53776a(0x1ce),_0x5b899c[_0x53776a(0x12e)]['background']='rgba(255,\x2069,\x2058,\x200.15)'),openSheet(_0x53776a(0x100));}let currentAnPeriod=a2_0xbe857(0x21f);function openAnalytics(){const _0x2a3215=a2_0xbe857,_0x5e0cd7=document[_0x2a3215(0x1cd)]('.period-switch\x20.p-btn');setAnalyticsPeriod(_0x2a3215(0x21f),_0x5e0cd7),closeAllSheets(),openSheet(_0x2a3215(0x20d));}function setAnalyticsPeriod(_0x4fa7d7,_0x1c5d7b){const _0x8b6fe8=a2_0xbe857;currentAnPeriod=_0x4fa7d7,document['querySelectorAll'](_0x8b6fe8(0x21b))[_0x8b6fe8(0x159)](_0xd4dbcb=>_0xd4dbcb[_0x8b6fe8(0xbd)][_0x8b6fe8(0xd3)](_0x8b6fe8(0x112)));if(_0x1c5d7b)_0x1c5d7b[_0x8b6fe8(0xbd)]['add'](_0x8b6fe8(0x112));const _0x3e9341=document[_0x8b6fe8(0x1b7)](_0x8b6fe8(0x1de));_0x3e9341['style'][_0x8b6fe8(0xb7)]=_0x4fa7d7===_0x8b6fe8(0xc5)?_0x8b6fe8(0x163):_0x8b6fe8(0x179);const _0x21fa44=new Date();let _0x338767=new Date(),_0x5b6060=new Date();if(_0x4fa7d7===_0x8b6fe8(0x21f))_0x338767=getStartOfWeek(_0x21fa44),_0x5b6060=new Date(_0x338767),_0x5b6060[_0x8b6fe8(0xe6)](_0x5b6060['getDate']()+0x6);else{if(_0x4fa7d7===_0x8b6fe8(0x220))_0x338767=new Date(_0x21fa44['getFullYear'](),_0x21fa44[_0x8b6fe8(0x1ba)](),0x1),_0x5b6060=new Date(_0x21fa44[_0x8b6fe8(0x225)](),_0x21fa44[_0x8b6fe8(0x1ba)]()+0x1,0x0);else{!document['getElementById'](_0x8b6fe8(0x113))[_0x8b6fe8(0x143)]&&(document[_0x8b6fe8(0x1b7)](_0x8b6fe8(0x113))[_0x8b6fe8(0x143)]=getLocalDateStr(_0x21fa44),document[_0x8b6fe8(0x1b7)](_0x8b6fe8(0x204))[_0x8b6fe8(0x143)]=getLocalDateStr(_0x21fa44));refreshAnalytics();return;}}document[_0x8b6fe8(0x1b7)](_0x8b6fe8(0x113))[_0x8b6fe8(0x143)]=getLocalDateStr(_0x338767),document['getElementById'](_0x8b6fe8(0x204))[_0x8b6fe8(0x143)]=getLocalDateStr(_0x5b6060),refreshAnalytics();}function refreshAnalytics(){const _0x1ad6d9=a2_0xbe857,_0x2aebc9=document[_0x1ad6d9(0x1b7)](_0x1ad6d9(0x113))['value'],_0x18ebd5=document[_0x1ad6d9(0x1b7)](_0x1ad6d9(0x204))[_0x1ad6d9(0x143)];if(!_0x2aebc9||!_0x18ebd5)return;const _0x264d89=sessions[_0x1ad6d9(0xd6)](_0x12f112=>_0x12f112[_0x1ad6d9(0x1c1)]>=_0x2aebc9&&_0x12f112[_0x1ad6d9(0x1c1)]<=_0x18ebd5&&_0x12f112[_0x1ad6d9(0x150)]!==_0x1ad6d9(0x17d)),_0x355417=_0x264d89[_0x1ad6d9(0x1e7)],_0x21dc4a=_0x264d89[_0x1ad6d9(0xd6)](_0xe17dc4=>_0xe17dc4[_0x1ad6d9(0x150)]===_0x1ad6d9(0x135))[_0x1ad6d9(0x1e7)],_0x4283c6=_0x355417>0x0?Math[_0x1ad6d9(0x1be)](_0x21dc4a/_0x355417*0x64):0x0;document[_0x1ad6d9(0x1b7)](_0x1ad6d9(0x1f4))[_0x1ad6d9(0x1f9)]=_0x4283c6+'%',document['getElementById'](_0x1ad6d9(0x119))[_0x1ad6d9(0x1f9)]=_0x21dc4a+_0x1ad6d9(0xf1)+_0x355417+_0x1ad6d9(0xb6);const _0x18eeb5=document[_0x1ad6d9(0x1b7)]('anDonutCircle'),_0x379d3e=0x2*Math['PI']*0x23,_0x278a86=_0x379d3e-_0x4283c6/0x64*_0x379d3e;_0x18eeb5[_0x1ad6d9(0x12e)][_0x1ad6d9(0xb9)]=_0x278a86;const _0x4ea25f={};_0x264d89[_0x1ad6d9(0x159)](_0x33c379=>{const _0x14b380=_0x1ad6d9;if(!_0x4ea25f[_0x33c379[_0x14b380(0x219)]]){const _0x5abb46=clients[_0x14b380(0x205)](_0x566480=>_0x566480[_0x14b380(0x207)]===_0x33c379[_0x14b380(0x219)]);_0x4ea25f[_0x33c379[_0x14b380(0x219)]]={'total':0x0,'done':0x0,'color':_0x5abb46?_0x5abb46['color']:'#fff'};}_0x4ea25f[_0x33c379[_0x14b380(0x219)]][_0x14b380(0x106)]++;if(_0x33c379[_0x14b380(0x150)]==='completed')_0x4ea25f[_0x33c379['client']][_0x14b380(0x1fc)]++;});const _0x146fbf=document[_0x1ad6d9(0x1b7)](_0x1ad6d9(0x11d));_0x146fbf['innerHTML']='';const _0x487c97=Object[_0x1ad6d9(0xed)](_0x4ea25f)[_0x1ad6d9(0x1dd)]((_0x2613f4,_0x49a35b)=>_0x49a35b[0x1][_0x1ad6d9(0x106)]-_0x2613f4[0x1]['total']);if(_0x487c97[_0x1ad6d9(0x1e7)]===0x0){_0x146fbf[_0x1ad6d9(0x166)]='<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>';return;}_0x487c97['forEach'](([_0xb4ffcb,_0x37eab4])=>{const _0x2c2f10=_0x1ad6d9,_0x1e5df4=Math[_0x2c2f10(0x1be)](_0x37eab4[_0x2c2f10(0x1fc)]/_0x37eab4[_0x2c2f10(0x106)]*0x64),_0x467464=document['createElement'](_0x2c2f10(0x1b5));_0x467464['className']=_0x2c2f10(0x10c),_0x467464['style'][_0x2c2f10(0x1dc)]=_0x37eab4[_0x2c2f10(0x1f2)],_0x467464[_0x2c2f10(0x166)]=_0x2c2f10(0xf9)+_0xb4ffcb+_0x2c2f10(0x1e4)+_0x37eab4[_0x2c2f10(0x1fc)]+'</span>\x20/\x20'+_0x37eab4[_0x2c2f10(0x106)]+_0x2c2f10(0x1cb)+_0x1e5df4+_0x2c2f10(0x132),_0x146fbf[_0x2c2f10(0xe7)](_0x467464);});}function formatMinsToHrs(_0xa5502f){const _0x5b6f88=a2_0xbe857;if(_0xa5502f===0x0)return'0';const _0x34a94c=Math[_0x5b6f88(0xcc)](_0xa5502f/0x3c),_0x5d861b=_0xa5502f%0x3c;if(_0x5d861b===0x0)return _0x34a94c+'—á';return _0x34a94c+'—á\x20'+_0x5d861b+'–º';}