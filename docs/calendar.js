const a2_0x28cee2=a2_0xf67e;(function(_0x9dd573,_0x2c4d22){const _0x37998f=a2_0xf67e,_0x3bb0af=_0x9dd573();while(!![]){try{const _0x5da568=parseInt(_0x37998f(0x1aa))/0x1+-parseInt(_0x37998f(0x168))/0x2+-parseInt(_0x37998f(0x25a))/0x3*(parseInt(_0x37998f(0x1fb))/0x4)+-parseInt(_0x37998f(0x193))/0x5*(-parseInt(_0x37998f(0x203))/0x6)+parseInt(_0x37998f(0x196))/0x7*(parseInt(_0x37998f(0x160))/0x8)+-parseInt(_0x37998f(0x24a))/0x9*(-parseInt(_0x37998f(0x1dc))/0xa)+-parseInt(_0x37998f(0x1ab))/0xb;if(_0x5da568===_0x2c4d22)break;else _0x3bb0af['push'](_0x3bb0af['shift']());}catch(_0x2b8924){_0x3bb0af['push'](_0x3bb0af['shift']());}}}(a2_0x33ea,0x80c46),function initTMA(){const _0x238b11=a2_0xf67e,_0x4c0dee=(function(){let _0x702f1a=!![];return function(_0x4469ce,_0x4991f1){const _0xea9049=_0x702f1a?function(){const _0x3a1172=a2_0xf67e;if(_0x4991f1){const _0x97dd1d=_0x4991f1[_0x3a1172(0x21c)](_0x4469ce,arguments);return _0x4991f1=null,_0x97dd1d;}}:function(){};return _0x702f1a=![],_0xea9049;};}()),_0x401aeb=_0x4c0dee(this,function(){const _0x586c9a=a2_0xf67e;return _0x401aeb[_0x586c9a(0x26c)]()[_0x586c9a(0x27c)](_0x586c9a(0x19d))[_0x586c9a(0x26c)]()['constructor'](_0x401aeb)['search']('(((.+)+)+)+$');});_0x401aeb();try{const _0x457643=window[_0x238b11(0x274)]?.['WebApp'];if(!_0x457643)return;_0x457643['ready'](),_0x457643[_0x238b11(0x153)]();try{_0x457643['setHeaderColor'](_0x238b11(0x10a)),_0x457643[_0x238b11(0x119)]&&_0x457643[_0x238b11(0x119)](_0x238b11(0x10a));}catch(_0x32ba84){console[_0x238b11(0xfd)](_0x238b11(0x1ac),_0x32ba84);}try{_0x457643[_0x238b11(0x23b)]&&(_0x457643[_0x238b11(0x23b)][_0x238b11(0x197)](),_0x457643[_0x238b11(0x23b)][_0x238b11(0x155)](),_0x457643[_0x238b11(0x23b)]['onClick'](function(){const _0x2178a0=_0x238b11;window[_0x2178a0(0x1a4)][_0x2178a0(0x156)]=_0x2178a0(0x19c);}));}catch(_0x1c0142){console[_0x238b11(0xfd)](_0x238b11(0x22b),_0x1c0142);}try{if(_0x457643[_0x238b11(0x16a)])_0x457643[_0x238b11(0x16a)]();}catch(_0x2791c8){}}catch(_0x1c5c7c){console[_0x238b11(0x18e)](_0x238b11(0x15c),_0x1c5c7c);}}());function isAdmin(){const _0x4ba00b=a2_0xf67e;try{const _0xc60e3a=Number(window[_0x4ba00b(0x274)]?.[_0x4ba00b(0x10b)]?.[_0x4ba00b(0x111)]?.[_0x4ba00b(0x1de)]?.['id']);return _0xc60e3a===0xbaf7174;}catch(_0x57ff0a){return![];}}const APP_VERSION=a2_0x28cee2(0x1d9),API_URL=a2_0x28cee2(0x1ed),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS='uc_clients_v9',KEY_SESSIONS='uc_sessions_v9',KEY_SETTINGS=a2_0x28cee2(0x13f);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x3f8028=a2_0x28cee2;return window['Telegram']?.[_0x3f8028(0x10b)]?.[_0x3f8028(0x111)]?.[_0x3f8028(0x1de)]?.['id']||_0x3f8028(0x20b);},'saveLocally'(){const _0x4ea3b9=a2_0x28cee2;try{localStorage[_0x4ea3b9(0x1e1)](KEY_CLIENTS,JSON[_0x4ea3b9(0x217)](clients)),localStorage['setItem'](KEY_SESSIONS,JSON[_0x4ea3b9(0x217)](sessions)),localStorage[_0x4ea3b9(0x1e1)](KEY_SETTINGS,JSON[_0x4ea3b9(0x217)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x40d1c5){console[_0x4ea3b9(0x18e)](_0x4ea3b9(0x246),_0x40d1c5);}},'loadLocal'(){const _0x2e9434=a2_0x28cee2;try{const _0x845d5=localStorage[_0x2e9434(0x24e)](KEY_CLIENTS);if(_0x845d5)clients=JSON[_0x2e9434(0x174)](_0x845d5);const _0x110251=localStorage[_0x2e9434(0x24e)](KEY_SESSIONS);if(_0x110251)sessions=JSON['parse'](_0x110251);const _0x228b64=localStorage['getItem'](KEY_SETTINGS);if(_0x228b64){const _0x5ef2f2=JSON[_0x2e9434(0x174)](_0x228b64);if(_0x5ef2f2[_0x2e9434(0x260)])availabilityPattern=_0x5ef2f2[_0x2e9434(0x260)];if(_0x5ef2f2[_0x2e9434(0x1dd)])dateExceptions=_0x5ef2f2[_0x2e9434(0x1dd)];if(_0x5ef2f2['ranges'])specialRanges=_0x5ef2f2[_0x2e9434(0x131)];}else{for(let _0xfc805e=0x0;_0xfc805e<0x7;_0xfc805e++)availabilityPattern[_0xfc805e]=Array[_0x2e9434(0x279)]({'length':0xc},(_0x3ec5c3,_0x24460f)=>_0x24460f+0x9);}}catch(_0x61b7cf){console[_0x2e9434(0x18e)](_0x2e9434(0x181),_0x61b7cf);}},async 'fetchFromServer'(_0x28121d,_0x300572={}){const _0xa42526=a2_0x28cee2,_0x3b1c86=window[_0xa42526(0x274)]?.[_0xa42526(0x10b)],_0x20adb0={'action':_0x28121d,'init_data':_0x3b1c86?.[_0xa42526(0x161)]||'',..._0x300572};try{const _0x1b5502=await fetch(API_URL,{'method':_0xa42526(0x1b3),'headers':{'Content-Type':_0xa42526(0x186)},'body':JSON['stringify'](_0x20adb0)}),_0xdc10a0=await _0x1b5502['json']();if(!_0xdc10a0['ok'])throw new Error(_0xdc10a0['error']||_0xa42526(0x151));return _0xdc10a0[_0xa42526(0x220)];}catch(_0x573f86){console[_0xa42526(0x18e)](_0xa42526(0x1c1)+_0x28121d+_0xa42526(0x17f),_0x573f86);throw _0x573f86;}},async 'syncLoad'(){const _0x5c68fb=a2_0x28cee2,_0x53a926=new Date(),_0x95b899=_0x53a926['getFullYear']()+'-'+String(_0x53a926[_0x5c68fb(0x275)]()+0x1)[_0x5c68fb(0x1c4)](0x2,'0'),_0x57562e=new Date(_0x53a926);_0x57562e['setMonth'](_0x53a926[_0x5c68fb(0x275)]()+0x1);const _0x157b08=_0x57562e[_0x5c68fb(0x24d)]()+'-'+String(_0x57562e[_0x5c68fb(0x275)]()+0x1)[_0x5c68fb(0x1c4)](0x2,'0'),_0xd27eb4=Date['now']();console[_0x5c68fb(0xfd)](_0x5c68fb(0x120)+_0x95b899+',\x20'+_0x157b08+_0x5c68fb(0x268));try{const [_0xe0f54,_0x4919c3]=await Promise['all']([this[_0x5c68fb(0x11a)](_0x5c68fb(0xfe),{'month_str':_0x95b899}),this[_0x5c68fb(0x11a)](_0x5c68fb(0xfe),{'month_str':_0x157b08})]);if(lastUserActionTime>_0xd27eb4)return console[_0x5c68fb(0x207)](_0x5c68fb(0x1c2)),![];return this[_0x5c68fb(0x23d)](_0xe0f54,_0x95b899),this[_0x5c68fb(0x23d)](_0x4919c3,_0x157b08),this['saveLocally'](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x287398){console[_0x5c68fb(0x18e)](_0x287398);throw _0x287398;}},'mergeServerData'(_0x4c25a5,_0x324fa8){const _0x5dc5a5=a2_0x28cee2;if(!_0x4c25a5)return;_0x4c25a5[_0x5dc5a5(0x141)]&&Array[_0x5dc5a5(0x280)](_0x4c25a5[_0x5dc5a5(0x141)])&&(clients=_0x4c25a5[_0x5dc5a5(0x141)]);if(_0x4c25a5[_0x5dc5a5(0x23f)]){if(_0x4c25a5[_0x5dc5a5(0x23f)][_0x5dc5a5(0x260)])availabilityPattern=_0x4c25a5[_0x5dc5a5(0x23f)][_0x5dc5a5(0x260)];if(_0x4c25a5[_0x5dc5a5(0x23f)][_0x5dc5a5(0x1dd)])dateExceptions=_0x4c25a5[_0x5dc5a5(0x23f)][_0x5dc5a5(0x1dd)];if(_0x4c25a5[_0x5dc5a5(0x23f)][_0x5dc5a5(0x131)])specialRanges=_0x4c25a5[_0x5dc5a5(0x23f)][_0x5dc5a5(0x131)];if(_0x4c25a5[_0x5dc5a5(0x23f)]['cancel_window']){localStorage[_0x5dc5a5(0x1e1)](_0x5dc5a5(0x183),_0x4c25a5[_0x5dc5a5(0x23f)][_0x5dc5a5(0x167)]);const _0x388c03=document[_0x5dc5a5(0x16b)]('settingCancelWindow');if(_0x388c03)_0x388c03[_0x5dc5a5(0x219)]=_0x4c25a5[_0x5dc5a5(0x23f)]['cancel_window'];}}_0x4c25a5['calendar']&&(sessions=sessions[_0x5dc5a5(0x21a)](_0x287733=>!_0x287733['dateStr'][_0x5dc5a5(0x269)](_0x324fa8)),Object[_0x5dc5a5(0x1c7)](_0x4c25a5[_0x5dc5a5(0x1bc)])[_0x5dc5a5(0x175)](_0xf631fc=>{const _0x54e513=_0x5dc5a5,_0x15bc9c=_0x4c25a5[_0x54e513(0x1bc)][_0xf631fc];_0x15bc9c[_0x54e513(0x175)](_0x54ca19=>{const _0xfbc25e=_0x54e513,_0x5672d9=clients[_0xfbc25e(0x165)](_0x20d12e=>String(_0x20d12e['id'])===String(_0x54ca19['c']));sessions['push']({'id':_0x54ca19['i'],'clientId':_0x54ca19['c'],'client':_0x5672d9?_0x5672d9['name']:_0xfbc25e(0x173),'dateStr':_0x324fa8+'-'+_0xf631fc[_0xfbc25e(0x1c4)](0x2,'0'),'start':_0x54ca19['s'],'end':_0x54ca19['e'],'status':_0x54ca19['st']||_0xfbc25e(0x132),'note':_0x54ca19['n']||'','seriesId':_0x54ca19['sid']||null});});}));},async 'syncBatch'(_0x2186ba){const _0x10bd4e=a2_0x28cee2,_0x5e68fa=[...new Set(_0x2186ba)],_0x153a9d=_0x5e68fa[_0x10bd4e(0x281)](_0x4b1c56=>{const _0x7e56a8=_0x10bd4e,_0x27419e=sessions[_0x7e56a8(0x21a)](_0x442ec4=>_0x442ec4['dateStr']===_0x4b1c56&&_0x442ec4[_0x7e56a8(0x1a1)]!==_0x7e56a8(0x105)),_0x16e0fc=_0x27419e[_0x7e56a8(0x281)](_0x1d8a64=>({'i':_0x1d8a64['id'],'c':_0x1d8a64[_0x7e56a8(0x11f)],'s':_0x1d8a64['start'],'e':_0x1d8a64[_0x7e56a8(0x259)],'st':_0x1d8a64[_0x7e56a8(0x1a1)],'n':_0x1d8a64[_0x7e56a8(0x180)],'sid':_0x1d8a64['seriesId']}));return{'date':_0x4b1c56,'day_data':_0x16e0fc};});if(_0x153a9d['length']===0x0)return;console[_0x10bd4e(0xfd)]('[Sync]\x20Pushing\x20batch\x20updates\x20for\x20'+_0x153a9d[_0x10bd4e(0x283)]+_0x10bd4e(0x1c8)),await this['fetchFromServer'](_0x10bd4e(0x15e),{'changes':_0x153a9d});}};async function init(){const _0x38600d=a2_0x28cee2;DataManager['loadLocal'](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x38600d(0x16b)](_0x38600d(0x109))[_0x38600d(0x1cc)](_0x38600d(0x112),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x38600d(0x285)]()[_0x38600d(0x27a)](()=>{const _0x5a85a6=_0x38600d;showToast(_0x5a85a6(0x10d),!![]);})['catch'](_0x2be024=>{showToast('–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º',![]);});}function generateId(){const _0x4b15fb=a2_0x28cee2;return Date['now']()[_0x4b15fb(0x26c)](0x24)+Math['random']()[_0x4b15fb(0x26c)](0x24)[_0x4b15fb(0x176)](0x2,0x5);}function toggleSeriesInput(){const _0x58afc5=a2_0x28cee2,_0x46de9d=document[_0x58afc5(0x16b)](_0x58afc5(0x194))['checked'],_0x2bb7b9=document['getElementById'](_0x58afc5(0x210));_0x2bb7b9[_0x58afc5(0x135)][_0x58afc5(0x18c)]=_0x46de9d?'block':_0x58afc5(0x22d);const _0x15aec0=document[_0x58afc5(0x16b)](_0x58afc5(0x1b4));_0x15aec0['style'][_0x58afc5(0x15a)]=_0x46de9d?_0x58afc5(0x273):_0x58afc5(0x19f);}function openAddSession(_0xab9ccf){const _0xe3f451=a2_0x28cee2;editingId=null,populateClientSelect(),document[_0xe3f451(0x16b)]('sheetTitle')[_0xe3f451(0x113)]=_0xe3f451(0x243),document[_0xe3f451(0x16b)]('btnDelete')[_0xe3f451(0x135)][_0xe3f451(0x18c)]=_0xe3f451(0x22d),document[_0xe3f451(0x16b)](_0xe3f451(0x226))['style'][_0xe3f451(0x18c)]=_0xe3f451(0x22d);const _0x5e5165=document[_0xe3f451(0x16b)]('recurringOptionContainer'),_0x425f8b=document['getElementById'](_0xe3f451(0x210));_0x5e5165[_0xe3f451(0x135)][_0xe3f451(0x18c)]=_0xe3f451(0x19b),_0x5e5165['style'][_0xe3f451(0x15a)]=_0xe3f451(0x19f),document[_0xe3f451(0x16b)](_0xe3f451(0x194))[_0xe3f451(0x252)]=![],document[_0xe3f451(0x16b)](_0xe3f451(0x1e2))[_0xe3f451(0x219)]=0x4,_0x425f8b['style']['display']='none',document[_0xe3f451(0x16b)]('inpDate')[_0xe3f451(0x219)]=getLocalDateStr(_0xab9ccf),updateDateDisplay();const _0x1246f2=_0xab9ccf[_0xe3f451(0x20d)]();document[_0xe3f451(0x16b)](_0xe3f451(0x13a))[_0xe3f451(0x219)]=String(_0x1246f2)[_0xe3f451(0x1c4)](0x2,'0')+_0xe3f451(0x1e7),document['getElementById']('inpEnd')[_0xe3f451(0x219)]=String(_0x1246f2+0x1)[_0xe3f451(0x1c4)](0x2,'0')+_0xe3f451(0x1e7),openSheet('sessionSheet');}function openEdit(_0x1a030a){const _0x502192=a2_0x28cee2;editingId=_0x1a030a['id'],populateClientSelect(),document[_0x502192(0x16b)]('sheetTitle')[_0x502192(0x113)]=_0x502192(0x1e4),document['getElementById'](_0x502192(0xff))['style']['display']=_0x502192(0x1ca);const _0x88b297=document['getElementById'](_0x502192(0x226));_0x88b297['style'][_0x502192(0x18c)]='flex';_0x1a030a[_0x502192(0x1a1)]===_0x502192(0x201)?(_0x88b297[_0x502192(0x26a)]=_0x502192(0x126),_0x88b297[_0x502192(0x234)]=_0x502192(0x14b)):(_0x88b297['className']=_0x502192(0x21d),_0x88b297[_0x502192(0x234)]='<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É');const _0x2a4f8e=!!_0x1a030a[_0x502192(0x179)];document[_0x502192(0x16b)](_0x502192(0x1b4))[_0x502192(0x135)][_0x502192(0x18c)]=_0x502192(0x22d),document[_0x502192(0x16b)]('seriesCountContainer')[_0x502192(0x135)][_0x502192(0x18c)]='none',_0x2a4f8e?(document[_0x502192(0x16b)](_0x502192(0x1e6))[_0x502192(0x135)]['display']='flex',document[_0x502192(0x16b)]('patternInfoBox')[_0x502192(0xf8)](_0x502192(0x185))[_0x502192(0x113)]=_0x502192(0x129)):document[_0x502192(0x16b)](_0x502192(0x1e6))[_0x502192(0x135)][_0x502192(0x18c)]='none',document['getElementById'](_0x502192(0x1a5))[_0x502192(0x219)]=_0x1a030a[_0x502192(0x1d0)],document[_0x502192(0x16b)]('inpDate')[_0x502192(0x219)]=_0x1a030a[_0x502192(0x169)],document[_0x502192(0x16b)](_0x502192(0x13a))[_0x502192(0x219)]=_0x1a030a[_0x502192(0x1bf)],document[_0x502192(0x16b)](_0x502192(0x1a6))[_0x502192(0x219)]=_0x1a030a[_0x502192(0x259)],document[_0x502192(0x16b)](_0x502192(0x130))[_0x502192(0x219)]=_0x1a030a[_0x502192(0x180)]||'',updateDateDisplay(),openSheet('sessionSheet');}async function trySaveSession(){const _0x1bbf65=a2_0x28cee2,_0x353f89=document[_0x1bbf65(0x16b)]('inpClient')['value'],_0x57b51a=document['getElementById'](_0x1bbf65(0x1f6))[_0x1bbf65(0x219)],_0x129fe1=document['getElementById'](_0x1bbf65(0x13a))[_0x1bbf65(0x219)],_0xbfc669=document[_0x1bbf65(0x16b)](_0x1bbf65(0x1a6))['value'],_0x28ab32=document[_0x1bbf65(0x16b)](_0x1bbf65(0x130))[_0x1bbf65(0x219)],_0x4008c8=document['getElementById'](_0x1bbf65(0x194))[_0x1bbf65(0x252)];let _0x2e094b=0x4;if(_0x4008c8){const _0x23d08a=parseInt(document[_0x1bbf65(0x16b)]('inpSeriesCount')[_0x1bbf65(0x219)]);if(!_0x23d08a||_0x23d08a<0x2){showToast(_0x1bbf65(0x1fa),![]);return;}if(_0x23d08a>0x64){showToast('–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑',![]);return;}_0x2e094b=_0x23d08a;}const _0x50acc0=clients[_0x1bbf65(0x165)](_0x362169=>_0x362169[_0x1bbf65(0x1f3)]===_0x353f89);if(!_0x50acc0){showToast(_0x1bbf65(0x1be),![]);return;}const _0x4f8f3e=validateAppointment(_0x57b51a,_0x129fe1,_0xbfc669,editingId,_0x50acc0['id']);if(!_0x4f8f3e[_0x1bbf65(0x1b0)]){showToast(_0x4f8f3e[_0x1bbf65(0x237)],![]);return;}_0x4f8f3e['warning']&&showToast(_0x4f8f3e[_0x1bbf65(0x158)],![]);const _0x3e51e4={'client':_0x353f89,'clientId':_0x50acc0['id'],'start':_0x129fe1,'end':_0xbfc669,'note':_0x28ab32,'status':_0x1bbf65(0x132)},_0x5098c3=editingId?sessions[_0x1bbf65(0x165)](_0x10cf21=>_0x10cf21['id']===editingId):null;if(_0x5098c3&&_0x5098c3[_0x1bbf65(0x179)]){tempSessionData={..._0x3e51e4,'dateStr':_0x57b51a,'id':editingId,'seriesId':_0x5098c3[_0x1bbf65(0x179)]},openActionSheet('save');return;}let _0x4c9feb=null;if(!editingId)_0x4c9feb='create';else{if(_0x5098c3){if(String(_0x5098c3[_0x1bbf65(0x11f)])!==String(_0x50acc0['id']))console[_0x1bbf65(0xfd)](_0x1bbf65(0x159)),NotificationManager[_0x1bbf65(0x20a)](_0x1bbf65(0x18a),_0x5098c3),_0x4c9feb=_0x1bbf65(0x258);else(_0x5098c3['start']!==_0x129fe1||_0x5098c3[_0x1bbf65(0x259)]!==_0xbfc669||_0x5098c3[_0x1bbf65(0x169)]!==_0x57b51a)&&(_0x4c9feb=_0x1bbf65(0x204));}}if(!editingId&&_0x4008c8){createBatchSeries(_0x3e51e4,_0x57b51a,_0x2e094b),NotificationManager[_0x1bbf65(0x20a)]('create',{..._0x3e51e4,'dateStr':_0x57b51a});return;}lastUserActionTime=Date['now']();const _0x20723d={..._0x3e51e4,'dateStr':_0x57b51a,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x20723d),_0x4c9feb&&NotificationManager[_0x1bbf65(0x20a)](_0x4c9feb,_0x20723d);}function toggleSessionStatus(){const _0x32645a=a2_0x28cee2;lastUserActionTime=Date[_0x32645a(0x1ba)]();const _0x519669=sessions[_0x32645a(0x165)](_0x315745=>_0x315745['id']===editingId);if(!_0x519669)return;const _0x171070=_0x519669[_0x32645a(0x1a1)]===_0x32645a(0x201)?_0x32645a(0x132):'completed';_0x519669['status']=_0x171070,saveSingleSession(_0x519669),_0x171070===_0x32645a(0x201)&&NotificationManager[_0x32645a(0x20a)]('complete',_0x519669),showToast(_0x171070===_0x32645a(0x201)?_0x32645a(0x1e0):'–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω',!![]);}function validateAppointment(_0xfeb6b7,_0xbd3499,_0x1e44f0,_0x2236d8,_0x42076f){const _0x278306=a2_0x28cee2,[_0x29b6b9,_0x47b341]=_0xbd3499['split'](':')[_0x278306(0x281)](Number),[_0x377a0f,_0x187725]=_0x1e44f0[_0x278306(0x1cb)](':')[_0x278306(0x281)](Number),_0x3bb528=_0x29b6b9*0x3c+_0x47b341,_0xc1243=_0x377a0f*0x3c+_0x187725,_0x4de809=String(_0x42076f);let _0x54b4cd=![],_0x393a00='';for(let _0x443406 of sessions){if(_0x443406['dateStr']!==_0xfeb6b7)continue;if(_0x443406[_0x278306(0x1a1)]===_0x278306(0x209))continue;if(_0x2236d8&&String(_0x443406['id'])===String(_0x2236d8))continue;const [_0x31f72e,_0x3b7ba0]=_0x443406['start'][_0x278306(0x1cb)](':')['map'](Number),[_0x1bad35,_0x2dfbaf]=_0x443406[_0x278306(0x259)]['split'](':')[_0x278306(0x281)](Number),_0x252258=_0x31f72e*0x3c+_0x3b7ba0,_0x5c97f2=_0x1bad35*0x3c+_0x2dfbaf;if(Math[_0x278306(0x265)](_0x3bb528,_0x252258)<Math[_0x278306(0x1cd)](_0xc1243,_0x5c97f2)){if(_0x443406[_0x278306(0x11f)]&&String(_0x443406[_0x278306(0x11f)])===_0x4de809)return{'valid':![],'msg':_0x278306(0x214)+_0x443406['client']+_0x278306(0x23e)};_0x54b4cd=!![],_0x393a00=_0x443406[_0x278306(0x1d0)];}}if(_0x54b4cd)return{'valid':!![],'warning':'–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20'+_0x393a00};return{'valid':!![]};}function saveSingleSession(_0x6e2248){const _0x72cdf6=a2_0x28cee2;if(editingId){const _0x2941b3=sessions[_0x72cdf6(0x211)](_0x27ce5b=>_0x27ce5b['id']===editingId);if(_0x2941b3!==-0x1)sessions[_0x2941b3]=_0x6e2248;}else sessions['push'](_0x6e2248);afterSaveAction([_0x6e2248[_0x72cdf6(0x169)]]);}function createBatchSeries(_0x24ad52,_0x27974f,_0x52b655){const _0x2de978=a2_0x28cee2,_0x4312ad=generateId(),_0x54c4cd=[],_0x5d7257=[];let _0x2dcb7f=0x0,_0x1875f7=new Date(_0x27974f);for(let _0x1fc85e=0x0;_0x1fc85e<_0x52b655;_0x1fc85e++){const _0x45c811=getLocalDateStr(_0x1875f7),_0x5817ad=validateAppointment(_0x45c811,_0x24ad52[_0x2de978(0x1bf)],_0x24ad52[_0x2de978(0x259)],null,_0x24ad52[_0x2de978(0x11f)]);if(!_0x5817ad['valid'])console[_0x2de978(0xfd)](_0x2de978(0x177)+_0x45c811+_0x2de978(0x1ec)),_0x2dcb7f++;else{const _0x56c35a={..._0x24ad52,'id':generateId(),'dateStr':_0x45c811,'seriesId':_0x4312ad};_0x5d7257[_0x2de978(0x121)](_0x56c35a),_0x54c4cd[_0x2de978(0x121)](_0x45c811);}_0x1875f7[_0x2de978(0x19e)](_0x1875f7[_0x2de978(0x1fd)]()+0x7);}if(_0x5d7257[_0x2de978(0x283)]===0x0){showToast(_0x2de978(0x228),![]);return;}sessions[_0x2de978(0x121)](..._0x5d7257),lastUserActionTime=Date[_0x2de978(0x1ba)]();let _0x404da3=_0x2de978(0x1c0)+_0x5d7257[_0x2de978(0x283)];_0x2dcb7f>0x0&&(_0x404da3+='\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20'+_0x2dcb7f+')'),showToast(_0x404da3,!![]),afterSaveAction(_0x54c4cd);}function updateSeriesBatch(_0x1d624c,_0x569c6c){const _0x3980e1=a2_0x28cee2,_0x16944d=[],_0x2f2f06=_0x569c6c['seriesId'];if(_0x1d624c==='single'){const _0x42fc50={..._0x569c6c,'seriesId':null},_0xcbd2d=sessions[_0x3980e1(0x211)](_0x1d3eab=>_0x1d3eab['id']===_0x569c6c['id']);if(_0xcbd2d!==-0x1)sessions[_0xcbd2d]=_0x42fc50;_0x16944d['push'](_0x42fc50[_0x3980e1(0x169)]);}else{if(_0x1d624c===_0x3980e1(0x1cf)){const _0x3a4bf2=_0x569c6c[_0x3980e1(0x169)];sessions[_0x3980e1(0x175)]((_0x29d3b5,_0x4ac447)=>{const _0x3e9154=_0x3980e1;_0x29d3b5[_0x3e9154(0x179)]===_0x2f2f06&&_0x29d3b5[_0x3e9154(0x169)]>=_0x3a4bf2&&(sessions[_0x4ac447]={...sessions[_0x4ac447],'start':_0x569c6c[_0x3e9154(0x1bf)],'end':_0x569c6c['end'],'note':_0x569c6c[_0x3e9154(0x180)],'client':_0x569c6c[_0x3e9154(0x1d0)],'clientId':_0x569c6c['clientId']},_0x16944d['push'](_0x29d3b5[_0x3e9154(0x169)]));});}}afterSaveAction(_0x16944d);}function tryDeleteSession(){const _0x18d740=a2_0x28cee2,_0x174035=sessions[_0x18d740(0x165)](_0x4989f6=>_0x4989f6['id']===editingId);if(!_0x174035)return;_0x174035[_0x18d740(0x179)]?openActionSheet(_0x18d740(0x104)):commitDelete('single',_0x174035);}function commitDelete(_0x14b093,_0x370d37){const _0x334efe=a2_0x28cee2;lastUserActionTime=Date[_0x334efe(0x1ba)](),NotificationManager[_0x334efe(0x20a)](_0x334efe(0x18a),_0x370d37);const _0x45ded5=[];if(_0x14b093===_0x334efe(0x206))sessions=sessions[_0x334efe(0x21a)](_0x2e5e86=>_0x2e5e86['id']!==_0x370d37['id']),_0x45ded5['push'](_0x370d37[_0x334efe(0x169)]);else{if(_0x14b093===_0x334efe(0x1cf)){const _0x4b769c=_0x370d37[_0x334efe(0x169)],_0x5771a0=_0x370d37[_0x334efe(0x179)];sessions[_0x334efe(0x175)](_0x1deb59=>{const _0x4bc6f4=_0x334efe;_0x1deb59[_0x4bc6f4(0x179)]===_0x5771a0&&_0x1deb59[_0x4bc6f4(0x169)]>=_0x4b769c&&_0x45ded5[_0x4bc6f4(0x121)](_0x1deb59['dateStr']);}),sessions=sessions[_0x334efe(0x21a)](_0x4704a1=>!(_0x4704a1['seriesId']===_0x5771a0&&_0x4704a1[_0x334efe(0x169)]>=_0x4b769c));}}afterSaveAction(_0x45ded5);}function afterSaveAction(_0x4774ac){const _0x1bb4a9=a2_0x28cee2;DataManager['saveLocally'](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager['syncBatch'](_0x4774ac)['then'](()=>console[_0x1bb4a9(0xfd)](_0x1bb4a9(0x1b1)))[_0x1bb4a9(0x257)](_0x26b159=>showToast(_0x1bb4a9(0x27b),![]));}function a2_0x33ea(){const _0x67e661=['doWorkHours','seriesId','actionSheet','offsetLeft','#fff','as-button\x20danger\x20bold','[Notify]\x20Error:\x20sessionData\x20is\x20null',']\x20Failed:','note','Local\x20Load\x20Error','mousedown','uc_settings_cancel_window','anCustomDates','.pib-text','text/plain;charset=UTF-8','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','charAt','anStart','cancel','–£—Å–ø–µ—à–Ω–æ','display','\x20status-completed','error','time-label','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','ru-RU','rangeEndDate','14550OtKXFK','inpRecurring','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','105yEqmTJ','show','insertBefore','data-date','height','flex','router.html','(((.+)+)+)+$','setDate','10px','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','status','asBtnOne','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','location','inpClient','inpEnd','getMinutes','rangeEndTime','send_notification','916759UYdbRp','3369432ISZaaM','Error\x20setting\x20color:','doDateHeader','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','headerMonth','valid','Batch\x20Sync\x20OK','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','POST','recurringOptionContainer','open','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','sheetDateSubtitle','backgroundColor','mouseup','now','–£–¥–∞–ª–µ–Ω–∏–µ','calendar','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','start','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','[API\x20','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','padStart','includes','btn-primary\x20btn-danger','keys','\x20days','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','block','split','addEventListener','min','touchend','series','client','complete','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','pe-col-header','var(--acc-red)','getAttribute','option','remove','borderLeftColor','v9.0-BATCH-CALENDAR',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','active','8871150QnEPHz','exceptions','user','clientWidth','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','setItem','inpSeriesCount','numeric','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','–ò–Ω—Ñ–æ','patternInfoBox',':00','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','null','–û—à–∏–±–∫–∞\x20–¥–∞—Ç',':\x20Client\x20already\x20booked','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','saveLocally','top','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','pe-time-label','name','toastTitle','globalTimeLine','inpDate','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','.event-card','indexOf','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','12leOnBa','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','getDate','<div\x20class=\x22dch-day\x22>','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','setHours','completed','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','6vOisRP','update','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','single','warn','</div><div\x20class=\x22dch-num\x22>','cancelled','send','guest','T23:59:59','getHours','slice','day-off-overlay\x20stripe-bg','seriesCountContainer','findIndex','entries','splice','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','rgba(255,\x2069,\x2058,\x200.15)','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','stringify','save_settings','value','filter','daysHeaderTrack','apply','btn-status-toggle','doLoadPercent','</span>\x20/\x20','data','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','header-','background','total','100%','btnStatusToggle','week','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','%\x20-\x204px)','touchmove','Error\x20setting\x20back\x20button:','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','none','blocked-range-part\x20stripe-bg','sort','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','offsetWidth','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','innerHTML','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','msg','scrollTop','px\x200px','day-column\x20','BackButton','color','mergeServerData',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','settings','stat-','.day-off-overlay','onclick','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','today','querySelectorAll','Local\x20Save\x20Error','var(--acc-orange)','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','backgroundPosition','9CwNZGi','anDonutCircle','clientY','getFullYear','getItem','long','anTotalStats','rangeStartDate','checked','.day-col-header','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','de-item','catch','create','end','737349PvSGVc','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toast-notification\x20','</div>','.period-switch\x20.p-btn','localeCompare','pattern','off','left','event-card','add','max','data-day-idx','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','...','startsWith','className','timeLineBadge','toString','month','[Notify]\x20Error:\x20Text\x20generation\x20failed','%\x20+\x202px)','done','patternEditor','mousemove','10px\x2010px\x200\x200','Telegram','getMonth','statLoadCard','rgba(','pe-cell\x20','from','then','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','search','\x20-\x20','settingCancelWindow','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','isArray','map','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','length','[Settings]\x20Cancel\x20window\x20set\x20to:','syncLoad','querySelector','doBusyHours','anEnd','undefined','touchstart','log','init_load','btnDelete','round','rgba(48,\x20209,\x2088,\x200.15)','floor','dayOptionsSheet','delete','deleted','btn-primary\x20btn-secondary','toFixed','toLocaleString','matrixViewport','#050505','WebApp','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','analyticsSheet','asBtnSeries','px\x20-','initDataUnsafe','scroll','textContent','timeColumn','rgba(255,255,255,0.05)','rangesSheet','colIndex','rangeStartTime','setBackgroundColor','fetchFromServer','[Notify]\x20Network\x20Failed','[Notify]\x20Detected\x20Client\x20ID:','</b>\x0a\x0a','save','clientId','[Sync]\x20Loading\x20','push','toUpperCase','client-stat-card','as-button\x20danger','\x20–∏–∑\x20','btn-status-toggle\x20undo-mode','DOMContentLoaded','.dch-stats-fill','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','getText','day-col-header\x20','getBoundingClientRect','setAttribute','touches','\x20‚Äî\x20','inpNote','ranges','planned','width','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','style','createDocumentFragment','overlay','Save\x20settings\x20error:','getTime','inpStart','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','div','scrollLeft','appendChild','uc_settings_v9','T00:00:00','clients','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','createElement','scrollWidth','stopPropagation','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','[Notify]\x20Attempting\x20to\x20send:','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','<span>','firstChild','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','.sheet','var(--acc-current)','asTitle','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','actionSheetOverlay','Server\x20Error','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','expand','classList','offClick','href','pe-corner','warning','[Notify]\x20Client\x20SWAP\x20detected','borderRadius','vibrate','Critical\x20TMA\x20Error:','analyticsList','batch_sync','strokeDashoffset','56136YuNLSl','initData','blocked-slot\x20stripe-bg','toastMessage','toLocaleDateString','find','getDay','cancel_window','681896UPoIuM','dateStr','disableVerticalSwipes','getElementById','rangesList','</div><div\x20class=\x22ev-time\x22>','range-item','custom','success','borderColor','gridColumns','Unknown','parse','forEach','substr','[Series]\x20Skipped\x20'];a2_0x33ea=function(){return _0x67e661;};return a2_0x33ea();}const NotificationManager={'formatDate'(_0x5df1b7){const _0x149115=a2_0x28cee2,_0x5a3452=new Date(_0x5df1b7),_0x5de8d5={'weekday':_0x149115(0x24f),'day':'numeric','month':_0x149115(0x24f)};let _0x51690f=_0x5a3452[_0x149115(0x164)]('ru-RU',_0x5de8d5);return _0x51690f[_0x149115(0x188)](0x0)[_0x149115(0x122)]()+_0x51690f[_0x149115(0x20e)](0x1);},'getText'(_0x161574,_0x544c31){const _0x222715=a2_0x28cee2,_0x497312=this['formatDate'](_0x544c31['dateStr']);switch(_0x161574){case'create':return _0x222715(0x13b)+(_0x222715(0x202)+_0x497312+'\x0a')+(_0x222715(0x235)+_0x544c31[_0x222715(0x1bf)]+_0x222715(0x12f)+_0x544c31[_0x222715(0x259)]+'\x0a\x0a')+_0x222715(0x22c);case'update':return _0x222715(0x187)+'–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a'+('<b>‚úÖ\x20'+_0x544c31['start']+_0x222715(0x12f)+_0x544c31[_0x222715(0x259)]+_0x222715(0x11d))+(_0x222715(0x202)+_0x497312);case _0x222715(0x18a):return'<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a'+(_0x222715(0x195)+_0x497312+'\x20('+_0x544c31['start']+_0x222715(0x1da));case _0x222715(0x1d1):return _0x222715(0x27f)+_0x222715(0x254)+'<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>';default:return'';}},async 'send'(_0x313cfc,_0x1ffa88){const _0xa46330=a2_0x28cee2;console['log'](_0xa46330(0x147),_0x313cfc,_0x1ffa88);if(!_0x1ffa88){console[_0xa46330(0x18e)](_0xa46330(0x17e));return;}const _0x39a523=String(_0x1ffa88[_0xa46330(0x11f)]);console[_0xa46330(0xfd)](_0xa46330(0x11c),_0x39a523);if(!_0x1ffa88[_0xa46330(0x11f)]||_0x39a523===_0xa46330(0xfb)||_0x39a523===_0xa46330(0x1ea)){console['error'](_0xa46330(0x205));if(_0x1ffa88[_0xa46330(0x1d0)]){const _0x58bb98=clients['find'](_0x3b4919=>_0x3b4919[_0xa46330(0x1f3)]===_0x1ffa88['client']);if(_0x58bb98)return console[_0xa46330(0xfd)](_0xa46330(0x142),_0x58bb98['id']),this[_0xa46330(0x20a)](_0x313cfc,{..._0x1ffa88,'clientId':_0x58bb98['id']});}return;}if(_0x39a523[_0xa46330(0x283)]<0x5){console['warn'](_0xa46330(0x236),_0x39a523);return;}const _0x481c9d=this[_0xa46330(0x12a)](_0x313cfc,_0x1ffa88);if(!_0x481c9d){console[_0xa46330(0x18e)](_0xa46330(0x26e));return;}console[_0xa46330(0xfd)](_0xa46330(0x1fc)+_0x39a523+_0xa46330(0x268)),DataManager[_0xa46330(0x11a)](_0xa46330(0x1a9),{'chatId':_0x39a523,'text':_0x481c9d})['then'](_0x2c775a=>console[_0xa46330(0xfd)]('[Notify]\x20Server\x20Response:',_0x2c775a))['catch'](_0x3f5806=>console['error'](_0xa46330(0x11b),_0x3f5806));}};function getLocalDateStr(_0x410852){const _0x36e03d=a2_0x28cee2,_0x2872fe=_0x410852[_0x36e03d(0x24d)](),_0x2f1561=String(_0x410852[_0x36e03d(0x275)]()+0x1)[_0x36e03d(0x1c4)](0x2,'0'),_0x5dbc99=String(_0x410852['getDate']())[_0x36e03d(0x1c4)](0x2,'0');return _0x2872fe+'-'+_0x2f1561+'-'+_0x5dbc99;}function getDateStr(_0x3c3038){const _0x58cc56=a2_0x28cee2,_0x2cd79a=new Date();return _0x2cd79a[_0x58cc56(0x19e)](_0x2cd79a['getDate']()+_0x3c3038),getLocalDateStr(_0x2cd79a);}function getStartOfWeek(_0x18757b){const _0x49375e=a2_0x28cee2,_0x5a355b=new Date(_0x18757b),_0xfc82e7=_0x5a355b[_0x49375e(0x166)](),_0x4e9733=_0x5a355b[_0x49375e(0x1fd)]()-_0xfc82e7+(_0xfc82e7===0x0?-0x6:0x1);return _0x5a355b['setDate'](_0x4e9733),_0x5a355b[_0x49375e(0x200)](0x0,0x0,0x0,0x0),_0x5a355b;}function hexToRgba(_0x3948cf,_0x10bf79){const _0x11b8e4=a2_0x28cee2;if(!_0x3948cf)return'rgba(100,100,100,0.5)';let _0x4615c1=0x0,_0xa0110b=0x0,_0x455fa1=0x0;if(_0x3948cf[_0x11b8e4(0x283)]===0x4)_0x4615c1='0x'+_0x3948cf[0x1]+_0x3948cf[0x1],_0xa0110b='0x'+_0x3948cf[0x2]+_0x3948cf[0x2],_0x455fa1='0x'+_0x3948cf[0x3]+_0x3948cf[0x3];else _0x3948cf['length']===0x7&&(_0x4615c1='0x'+_0x3948cf[0x1]+_0x3948cf[0x2],_0xa0110b='0x'+_0x3948cf[0x3]+_0x3948cf[0x4],_0x455fa1='0x'+_0x3948cf[0x5]+_0x3948cf[0x6]);return _0x11b8e4(0x277)+ +_0x4615c1+',\x20'+ +_0xa0110b+',\x20'+ +_0x455fa1+',\x20'+_0x10bf79+')';}function a2_0xf67e(_0x20aec9,_0x4c4f3b){_0x20aec9=_0x20aec9-0xf8;const _0x2bcf09=a2_0x33ea();let _0x3f2f92=_0x2bcf09[_0x20aec9];return _0x3f2f92;}function renderTimeColumn(){const _0x510e82=a2_0x28cee2,_0x975ebf=document[_0x510e82(0x16b)](_0x510e82(0x114)),_0x45643d=document[_0x510e82(0x16b)](_0x510e82(0x26b));_0x975ebf[_0x510e82(0x234)]='',_0x975ebf[_0x510e82(0x13e)](_0x45643d);for(let _0xf7a74b=0x0;_0xf7a74b<0x18;_0xf7a74b++){const _0x8e3faf=document[_0x510e82(0x143)](_0x510e82(0x13c));_0x8e3faf[_0x510e82(0x26a)]=_0x510e82(0x18f);if(_0xf7a74b>0x0)_0x8e3faf[_0x510e82(0x234)]=_0x510e82(0x149)+String(_0xf7a74b)['padStart'](0x2,'0')+':00</span>';_0x975ebf['appendChild'](_0x8e3faf);}}function renderDayRange(_0x4b99e3,_0x9a96b){const _0x52ad48=a2_0x28cee2,_0x30cf4e=document[_0x52ad48(0x16b)](_0x52ad48(0x21b)),_0x252041=document[_0x52ad48(0x16b)](_0x52ad48(0x172)),_0x428b68=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x4e71bd=new Date();_0x4e71bd[_0x52ad48(0x200)](0x0,0x0,0x0,0x0);const _0x135aea=getLocalDateStr(new Date());for(let _0x1a6271=_0x4b99e3;_0x1a6271<=_0x9a96b;_0x1a6271++){const _0x780e6d=new Date(_0x4e71bd);_0x780e6d[_0x52ad48(0x19e)](_0x780e6d[_0x52ad48(0x1fd)]()+_0x1a6271);const _0x19b1b6=getLocalDateStr(_0x780e6d);let _0x46afbe=_0x780e6d[_0x52ad48(0x166)]()-0x1;if(_0x46afbe===-0x1)_0x46afbe=0x6;const _0x387b2f=_0x19b1b6===_0x135aea,_0x113dfd=document[_0x52ad48(0x143)](_0x52ad48(0x13c));_0x113dfd[_0x52ad48(0x26a)]=_0x52ad48(0x12b)+(_0x387b2f?_0x52ad48(0x244):''),_0x113dfd['id']=_0x52ad48(0x222)+_0x19b1b6,_0x113dfd[_0x52ad48(0x12d)](_0x52ad48(0x199),_0x19b1b6),_0x113dfd[_0x52ad48(0x234)]='<div\x20class=\x22dch-day\x22>'+_0x428b68[_0x46afbe]+_0x52ad48(0x208)+_0x780e6d[_0x52ad48(0x1fd)]()+_0x52ad48(0x10c)+_0x19b1b6+_0x52ad48(0x1a3),_0x113dfd[_0x52ad48(0x242)]=()=>openDayOptions(_0x19b1b6,_0x428b68[_0x46afbe]+'\x20'+_0x780e6d[_0x52ad48(0x1fd)]()),_0x30cf4e['appendChild'](_0x113dfd);const _0xe1cd76=document[_0x52ad48(0x143)](_0x52ad48(0x13c));_0xe1cd76['className']=_0x52ad48(0x23a)+(_0x387b2f?_0x52ad48(0x244):''),_0xe1cd76[_0x52ad48(0x12d)]('data-date',_0x19b1b6),_0xe1cd76['setAttribute'](_0x52ad48(0x266),_0x46afbe),renderEventsForColumn(_0xe1cd76,_0x19b1b6,_0x46afbe),attachLongPressHandler(_0xe1cd76,_0x780e6d),_0x252041[_0x52ad48(0x13e)](_0xe1cd76),updateDayStats(_0x19b1b6);}}function reRenderBlocks(){const _0x3ebaee=a2_0x28cee2;document[_0x3ebaee(0x245)]('#gridColumns\x20.day-column')['forEach'](_0x27335d=>{const _0x46427e=_0x3ebaee;_0x27335d[_0x46427e(0x245)](_0x46427e(0x190))[_0x46427e(0x175)](_0x3ef244=>_0x3ef244[_0x46427e(0x1d7)]());const _0x2bd8c2=_0x27335d['getAttribute']('data-date'),_0x2c5a2e=parseInt(_0x27335d[_0x46427e(0x1d5)](_0x46427e(0x266))),_0x4cd444=Math[_0x46427e(0x100)](_0x27335d[_0x46427e(0x17b)]);(availabilityPattern[_0x2c5a2e]||[])[_0x46427e(0x175)](_0x32ffbb=>{const _0x39ee9c=_0x46427e,_0x15f9e3=document['createElement'](_0x39ee9c(0x13c));_0x15f9e3[_0x39ee9c(0x26a)]='blocked-slot\x20stripe-bg';const _0x3f7f60=_0x32ffbb*GRID_H;_0x15f9e3[_0x39ee9c(0x135)][_0x39ee9c(0x1f0)]=_0x3f7f60+'px',_0x15f9e3['style'][_0x39ee9c(0x249)]='-'+_0x4cd444+_0x39ee9c(0x110)+_0x3f7f60+'px',_0x27335d[_0x39ee9c(0x13e)](_0x15f9e3);});if(specialRanges&&specialRanges[_0x46427e(0x283)]>0x0){const _0x5b4c9a=new Date(_0x2bd8c2+_0x46427e(0x140))[_0x46427e(0x139)](),_0x19d4e0=new Date(_0x2bd8c2+_0x46427e(0x20c))[_0x46427e(0x139)]();specialRanges[_0x46427e(0x175)](_0x3adf78=>{const _0x1134ed=_0x46427e,_0x12b54b=new Date(_0x3adf78[_0x1134ed(0x1bf)])[_0x1134ed(0x139)](),_0x17e580=new Date(_0x3adf78[_0x1134ed(0x259)])[_0x1134ed(0x139)](),_0x350a4b=Math['max'](_0x5b4c9a,_0x12b54b),_0x5cb4af=Math[_0x1134ed(0x1cd)](_0x19d4e0,_0x17e580);if(_0x350a4b<_0x5cb4af){if(_0x350a4b<=_0x5b4c9a&&_0x5cb4af>=_0x19d4e0-0xea60){if(!_0x27335d['querySelector']('.day-off-overlay')){const _0x165744=document[_0x1134ed(0x143)](_0x1134ed(0x13c));_0x165744['className']='day-off-overlay\x20stripe-bg',_0x165744[_0x1134ed(0x135)][_0x1134ed(0x249)]='-'+_0x4cd444+'px\x200px',_0x27335d[_0x1134ed(0x13e)](_0x165744);}}else{const _0x50214c=(_0x350a4b-_0x5b4c9a)/0x36ee80*GRID_H,_0x304e5d=(_0x5cb4af-_0x350a4b)/0x36ee80*GRID_H,_0x39113e=document[_0x1134ed(0x143)]('div');_0x39113e[_0x1134ed(0x26a)]=_0x1134ed(0x22e),_0x39113e[_0x1134ed(0x135)][_0x1134ed(0x1f0)]=_0x50214c+'px',_0x39113e[_0x1134ed(0x135)][_0x1134ed(0x19a)]=_0x304e5d+'px',_0x39113e[_0x1134ed(0x135)][_0x1134ed(0x249)]='-'+_0x4cd444+'px\x20-'+_0x50214c+'px',_0x27335d[_0x1134ed(0x13e)](_0x39113e);}}});}if(dateExceptions[_0x2bd8c2]===_0x46427e(0x261)){if(!_0x27335d[_0x46427e(0xf8)](_0x46427e(0x241))){const _0x598f09=document[_0x46427e(0x143)]('div');_0x598f09[_0x46427e(0x26a)]=_0x46427e(0x20f),_0x598f09[_0x46427e(0x135)]['backgroundPosition']='-'+_0x4cd444+_0x46427e(0x239),_0x27335d['appendChild'](_0x598f09);}}renderEventsForColumn(_0x27335d,_0x2bd8c2,_0x2c5a2e),updateDayStats(_0x2bd8c2);});}function updateAllDayStats(){const _0x4e39b2=a2_0x28cee2;document[_0x4e39b2(0x245)](_0x4e39b2(0x253))['forEach'](_0x14fe29=>{const _0xc99457=_0x4e39b2;updateDayStats(_0x14fe29[_0xc99457(0x1d5)]('data-date'));});}function updateDayStats(_0x243426){const _0x3b846b=a2_0x28cee2,_0x160812=document[_0x3b846b(0x16b)](_0x3b846b(0x240)+_0x243426);if(!_0x160812)return;const _0xd00e16=new Date(_0x243426);let _0x564291=_0xd00e16[_0x3b846b(0x166)]()-0x1;if(_0x564291===-0x1)_0x564291=0x6;if(dateExceptions[_0x243426]===_0x3b846b(0x261)){_0x160812[_0x3b846b(0x135)]['display']=_0x3b846b(0x22d);return;}const _0x16fe2e=availabilityPattern[_0x564291]||[],_0x4de8a4=0x18-_0x16fe2e[_0x3b846b(0x283)],_0x3b142e=_0x4de8a4*0x3c,_0x202203=sessions['filter'](_0x251c9f=>_0x251c9f[_0x3b846b(0x169)]===_0x243426&&_0x251c9f[_0x3b846b(0x1a1)]!==_0x3b846b(0x209));if(_0x202203[_0x3b846b(0x283)]===0x0){_0x160812['style']['display']=_0x3b846b(0x22d);return;}let _0x3ffcf4=_0x202203['map'](_0x2b9456=>{const _0x2020dd=_0x3b846b,[_0x200dd8,_0x4ead9d]=_0x2b9456['start']['split'](':')[_0x2020dd(0x281)](Number),[_0x343dcc,_0x486f8b]=_0x2b9456[_0x2020dd(0x259)][_0x2020dd(0x1cb)](':')[_0x2020dd(0x281)](Number);return[_0x200dd8*0x3c+_0x4ead9d,_0x343dcc*0x3c+_0x486f8b];});_0x3ffcf4['sort']((_0x1369a6,_0x1f86de)=>_0x1369a6[0x0]-_0x1f86de[0x0]);let _0x17152b=[];if(_0x3ffcf4[_0x3b846b(0x283)]>0x0){let _0xee16f4=_0x3ffcf4[0x0];for(let _0x16d2f1=0x1;_0x16d2f1<_0x3ffcf4[_0x3b846b(0x283)];_0x16d2f1++){_0x3ffcf4[_0x16d2f1][0x0]<_0xee16f4[0x1]?_0xee16f4[0x1]=Math[_0x3b846b(0x265)](_0xee16f4[0x1],_0x3ffcf4[_0x16d2f1][0x1]):(_0x17152b[_0x3b846b(0x121)](_0xee16f4),_0xee16f4=_0x3ffcf4[_0x16d2f1]);}_0x17152b['push'](_0xee16f4);}let _0x51a611=0x0;_0x17152b['forEach'](_0x17f87b=>_0x51a611+=_0x17f87b[0x1]-_0x17f87b[0x0]),_0x160812[_0x3b846b(0x135)][_0x3b846b(0x18c)]=_0x3b846b(0x19b);const _0x53af44=_0x160812['querySelector'](_0x3b846b(0x128));if(_0x3b142e===0x0){_0x53af44[_0x3b846b(0x135)][_0x3b846b(0x133)]='100%',_0x53af44[_0x3b846b(0x135)][_0x3b846b(0x223)]=_0x3b846b(0x1d4);return;}const _0x372d99=_0x51a611/_0x3b142e*0x64;console[_0x3b846b(0xfd)]('['+_0x243426+_0x3b846b(0x1e9)+_0x4de8a4+_0x3b846b(0x221)+_0x51a611+'–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20'+_0x372d99[_0x3b846b(0x107)](0x1)+'%'),_0x372d99>0x64?(_0x53af44[_0x3b846b(0x135)][_0x3b846b(0x133)]=_0x3b846b(0x225),_0x53af44[_0x3b846b(0x135)][_0x3b846b(0x223)]='var(--acc-red)'):(_0x53af44[_0x3b846b(0x135)][_0x3b846b(0x133)]=_0x372d99+'%',_0x53af44[_0x3b846b(0x135)][_0x3b846b(0x223)]=_0x3b846b(0x14d));}function renderEventsForColumn(_0x18d1fe,_0x243305,_0x3e0f35){const _0x5a1265=a2_0x28cee2,_0x24b390=sessions[_0x5a1265(0x21a)](_0x38867e=>_0x38867e['dateStr']===_0x243305),_0x32e8b0=_0x24b390[_0x5a1265(0x281)](_0x1bb00e=>{const _0x37a1a2=_0x5a1265,[_0x1625fb,_0x3a7a74]=_0x1bb00e[_0x37a1a2(0x1bf)][_0x37a1a2(0x1cb)](':')[_0x37a1a2(0x281)](Number),[_0x4585ad,_0x55c2f9]=_0x1bb00e[_0x37a1a2(0x259)][_0x37a1a2(0x1cb)](':')[_0x37a1a2(0x281)](Number);return{'data':_0x1bb00e,'start':_0x1625fb*0x3c+_0x3a7a74,'end':_0x4585ad*0x3c+_0x55c2f9,'colIndex':0x0};});_0x32e8b0[_0x5a1265(0x22f)]((_0x45e1dd,_0x114b68)=>{const _0x3c3be4=_0x5a1265;if(_0x45e1dd['start']!==_0x114b68[_0x3c3be4(0x1bf)])return _0x45e1dd[_0x3c3be4(0x1bf)]-_0x114b68[_0x3c3be4(0x1bf)];return _0x114b68[_0x3c3be4(0x259)]-_0x114b68[_0x3c3be4(0x1bf)]-(_0x45e1dd[_0x3c3be4(0x259)]-_0x45e1dd['start']);});const _0x3a0da4=[];_0x32e8b0[_0x5a1265(0x175)](_0x1fa960=>{const _0x4f8a63=_0x5a1265;let _0xea80e8=![];for(let _0x3a3c60=0x0;_0x3a3c60<_0x3a0da4[_0x4f8a63(0x283)];_0x3a3c60++){const _0x158ff3=_0x3a0da4[_0x3a3c60],_0x49ca6c=_0x158ff3[_0x158ff3[_0x4f8a63(0x283)]-0x1];if(_0x1fa960[_0x4f8a63(0x1bf)]>=_0x49ca6c[_0x4f8a63(0x259)]){_0x158ff3[_0x4f8a63(0x121)](_0x1fa960),_0x1fa960[_0x4f8a63(0x117)]=_0x3a3c60,_0xea80e8=!![];break;}}!_0xea80e8&&(_0x3a0da4['push']([_0x1fa960]),_0x1fa960[_0x4f8a63(0x117)]=_0x3a0da4['length']-0x1);}),_0x32e8b0[_0x5a1265(0x175)](_0x512118=>{const _0x3c75ab=_0x5a1265;let _0x3a35ea=0x0;_0x32e8b0[_0x3c75ab(0x175)](_0x47b14b=>{const _0x41a964=_0x3c75ab;if(Math[_0x41a964(0x265)](_0x512118[_0x41a964(0x1bf)],_0x47b14b[_0x41a964(0x1bf)])<Math[_0x41a964(0x1cd)](_0x512118['end'],_0x47b14b[_0x41a964(0x259)])){if(_0x47b14b[_0x41a964(0x117)]>_0x3a35ea)_0x3a35ea=_0x47b14b['colIndex'];}});const _0x291296=_0x3a35ea+0x1,_0x58feba=0x64/_0x291296,_0x275375=_0x512118[_0x3c75ab(0x117)]*_0x58feba,_0x10ef30=createEventEl(_0x512118[_0x3c75ab(0x220)]);_0x10ef30[_0x3c75ab(0x135)][_0x3c75ab(0x133)]='calc('+_0x58feba+_0x3c75ab(0x229),_0x10ef30[_0x3c75ab(0x135)][_0x3c75ab(0x262)]='calc('+_0x275375+_0x3c75ab(0x26f),_0x10ef30[_0x3c75ab(0x135)]['zIndex']=0xa+_0x512118[_0x3c75ab(0x117)],_0x58feba<0x55&&_0x10ef30[_0x3c75ab(0x154)][_0x3c75ab(0x264)]('mini'),_0x18d1fe[_0x3c75ab(0x13e)](_0x10ef30);});}function createEventEl(_0x42c203){const _0x247cec=a2_0x28cee2,[_0x440e40,_0x3c41cf]=_0x42c203[_0x247cec(0x1bf)][_0x247cec(0x1cb)](':')[_0x247cec(0x281)](Number),[_0x182802,_0x472b44]=_0x42c203[_0x247cec(0x259)]['split'](':')[_0x247cec(0x281)](Number),_0x3be90a=(_0x440e40*0x3c+_0x3c41cf)/0x3c*GRID_H,_0x318d61=(_0x182802*0x3c+_0x472b44-(_0x440e40*0x3c+_0x3c41cf))/0x3c*GRID_H,_0x503a86=document[_0x247cec(0x143)]('div'),_0x47312a=_0x42c203[_0x247cec(0x1a1)]===_0x247cec(0x201)?_0x247cec(0x18d):'';_0x503a86[_0x247cec(0x26a)]=_0x247cec(0x263)+_0x47312a,_0x503a86[_0x247cec(0x135)][_0x247cec(0x1f0)]=_0x3be90a+'px',_0x503a86[_0x247cec(0x135)][_0x247cec(0x19a)]=Math[_0x247cec(0x265)](_0x318d61,0x14)+'px';const _0x163bce=clients[_0x247cec(0x165)](_0x474a5a=>_0x42c203[_0x247cec(0x11f)]&&String(_0x474a5a['id'])===String(_0x42c203[_0x247cec(0x11f)])||_0x474a5a[_0x247cec(0x1f3)]===_0x42c203[_0x247cec(0x1d0)]),_0x9818f1=_0x163bce?_0x163bce[_0x247cec(0x23c)]:'#0a84ff';_0x503a86['style'][_0x247cec(0x1d8)]=_0x9818f1,_0x503a86['style'][_0x247cec(0x1b8)]=hexToRgba(_0x9818f1,0.85);let _0x7604a0='<div\x20class=\x22ev-title\x22>'+_0x42c203[_0x247cec(0x1d0)]+_0x247cec(0x16d)+_0x42c203[_0x247cec(0x1bf)]+_0x247cec(0x27d)+_0x42c203[_0x247cec(0x259)]+_0x247cec(0x25d);return _0x42c203['seriesId']&&(_0x7604a0+=_0x247cec(0x1ff)),_0x42c203['status']===_0x247cec(0x201)&&(_0x7604a0+=_0x247cec(0x1c9)),_0x503a86[_0x247cec(0x234)]=_0x7604a0,_0x503a86[_0x247cec(0x242)]=_0xc3128b=>{const _0xed67da=_0x247cec;_0xc3128b[_0xed67da(0x145)](),openEdit(_0x42c203);},_0x503a86;}function attachLongPressHandler(_0x5071bb,_0x3cc098){const _0xea5673=a2_0x28cee2;let _0x145303=0x0,_0x4f640b=null;const _0x19783d=_0x7db9f2=>{const _0x4e5485=a2_0xf67e;if(_0x7db9f2['target']['closest'](_0x4e5485(0x1f8)))return;isScrolling=![],_0x145303=_0x7db9f2[_0x4e5485(0x12e)]?_0x7db9f2[_0x4e5485(0x12e)][0x0][_0x4e5485(0x24c)]:_0x7db9f2['clientY'],_0x4f640b=setTimeout(()=>{const _0x3c8be6=_0x4e5485;if(!isScrolling){navigator[_0x3c8be6(0x15b)]?.(0x32);const _0x4b8a2d=_0x5071bb[_0x3c8be6(0x12c)](),_0x3e05e5=Math[_0x3c8be6(0x102)]((_0x145303-_0x4b8a2d[_0x3c8be6(0x1f0)])/GRID_H);_0x3cc098[_0x3c8be6(0x200)](_0x3e05e5,0x0),openAddSession(_0x3cc098);}},0x1f4);},_0x1d13a9=()=>{isScrolling=!![],clearTimeout(_0x4f640b);},_0x38d50e=()=>{clearTimeout(_0x4f640b);};_0x5071bb[_0xea5673(0x1cc)](_0xea5673(0xfc),_0x19783d,{'passive':!![]}),_0x5071bb[_0xea5673(0x1cc)](_0xea5673(0x22a),_0x1d13a9,{'passive':!![]}),_0x5071bb['addEventListener'](_0xea5673(0x1ce),_0x38d50e),_0x5071bb[_0xea5673(0x1cc)](_0xea5673(0x182),_0x19783d),_0x5071bb[_0xea5673(0x1cc)](_0xea5673(0x272),_0x1d13a9),_0x5071bb[_0xea5673(0x1cc)](_0xea5673(0x1b9),_0x38d50e);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x5c5c9d=a2_0x28cee2,_0x5f17da=document[_0x5c5c9d(0x16b)]('matrixViewport'),_0x5805af=_0x5f17da[_0x5c5c9d(0x13d)],_0x50bbfc=_0x5f17da[_0x5c5c9d(0x144)],_0x364eb9=_0x5f17da[_0x5c5c9d(0x1df)];if(_0x50bbfc-(_0x5805af+_0x364eb9)<0x12c){const _0x55d75d=endOffset;endOffset+=0xe,renderDayRange(_0x55d75d+0x1,endOffset),reRenderBlocks();}if(_0x5805af<0x12c){const _0xf1de4c=startOffset;startOffset-=0xe,prependDays(startOffset,_0xf1de4c-0x1),_0x5f17da[_0x5c5c9d(0x13d)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x44ab06,_0x4dbe53){const _0x1132df=a2_0x28cee2,_0x3a8ea0=document[_0x1132df(0x16b)](_0x1132df(0x21b)),_0x3e43d1=document[_0x1132df(0x16b)]('gridColumns'),_0x48cf2e=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x45545e=new Date();_0x45545e[_0x1132df(0x200)](0x0,0x0,0x0,0x0);const _0x5dd7d3=getLocalDateStr(new Date()),_0x20c8dc=document[_0x1132df(0x136)](),_0x638b2b=document[_0x1132df(0x136)]();for(let _0x393e41=_0x44ab06;_0x393e41<=_0x4dbe53;_0x393e41++){const _0x47bc06=new Date(_0x45545e);_0x47bc06['setDate'](_0x47bc06[_0x1132df(0x1fd)]()+_0x393e41);const _0x46010c=getLocalDateStr(_0x47bc06);let _0x57fc5f=_0x47bc06[_0x1132df(0x166)]()-0x1;if(_0x57fc5f===-0x1)_0x57fc5f=0x6;const _0x37eeb1=_0x46010c===_0x5dd7d3,_0x7e4483=document[_0x1132df(0x143)](_0x1132df(0x13c));_0x7e4483[_0x1132df(0x26a)]='day-col-header\x20'+(_0x37eeb1?_0x1132df(0x244):''),_0x7e4483['id']='header-'+_0x46010c,_0x7e4483[_0x1132df(0x12d)]('data-date',_0x46010c),_0x7e4483['innerHTML']=_0x1132df(0x1fe)+_0x48cf2e[_0x57fc5f]+'</div><div\x20class=\x22dch-num\x22>'+_0x47bc06['getDate']()+_0x1132df(0x10c)+_0x46010c+_0x1132df(0x1a3),_0x7e4483[_0x1132df(0x242)]=()=>openDayOptions(_0x46010c,_0x48cf2e[_0x57fc5f]+'\x20'+_0x47bc06['getDate']()),_0x20c8dc[_0x1132df(0x13e)](_0x7e4483);const _0x33251d=document[_0x1132df(0x143)](_0x1132df(0x13c));_0x33251d[_0x1132df(0x26a)]='day-column\x20'+(_0x37eeb1?_0x1132df(0x244):''),_0x33251d['setAttribute'](_0x1132df(0x199),_0x46010c),_0x33251d[_0x1132df(0x12d)](_0x1132df(0x266),_0x57fc5f),renderEventsForColumn(_0x33251d,_0x46010c,_0x57fc5f),attachLongPressHandler(_0x33251d,_0x47bc06),_0x638b2b['appendChild'](_0x33251d),updateDayStats(_0x46010c);}_0x3a8ea0['insertBefore'](_0x20c8dc,_0x3a8ea0[_0x1132df(0x14a)]),_0x3e43d1[_0x1132df(0x198)](_0x638b2b,_0x3e43d1[_0x1132df(0xf8)]('.day-column'));}function validateAppointment(_0x71f263,_0x385d29,_0x50f6f4,_0x342cc0,_0x4bfcd6){const _0x4817c7=a2_0x28cee2,[_0x76fbb9,_0x218271]=_0x385d29[_0x4817c7(0x1cb)](':')['map'](Number),[_0x3c5c86,_0x16cc84]=_0x50f6f4[_0x4817c7(0x1cb)](':')[_0x4817c7(0x281)](Number),_0x55d887=_0x76fbb9*0x3c+_0x218271,_0x2ab719=_0x3c5c86*0x3c+_0x16cc84,_0x4dad46=String(_0x4bfcd6);let _0x17b440=![],_0x4d972b='';for(let _0x4c4b33 of sessions){if(_0x4c4b33[_0x4817c7(0x169)]!==_0x71f263)continue;if(_0x4c4b33[_0x4817c7(0x1a1)]===_0x4817c7(0x209))continue;if(_0x342cc0&&String(_0x4c4b33['id'])===String(_0x342cc0))continue;const [_0x590e0f,_0x5e3870]=_0x4c4b33[_0x4817c7(0x1bf)][_0x4817c7(0x1cb)](':')[_0x4817c7(0x281)](Number),[_0x5c28ec,_0x52ea2c]=_0x4c4b33['end'][_0x4817c7(0x1cb)](':')[_0x4817c7(0x281)](Number),_0x44a4a3=_0x590e0f*0x3c+_0x5e3870,_0x5a1f3c=_0x5c28ec*0x3c+_0x52ea2c;if(Math['max'](_0x55d887,_0x44a4a3)<Math['min'](_0x2ab719,_0x5a1f3c)){if(_0x4c4b33['clientId']&&String(_0x4c4b33[_0x4817c7(0x11f)])===_0x4dad46)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0x4c4b33[_0x4817c7(0x1d0)]+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x17b440=!![],_0x4d972b=_0x4c4b33[_0x4817c7(0x1d0)];}}if(_0x17b440)return{'valid':!![],'warning':_0x4817c7(0x1c3)+_0x4d972b};return{'valid':!![]};}function updateDateDisplay(){const _0x293ffd=a2_0x28cee2,_0x1dbe96=document[_0x293ffd(0x16b)](_0x293ffd(0x1f6))[_0x293ffd(0x219)],_0x491b56=document[_0x293ffd(0x16b)](_0x293ffd(0x1b7));if(!_0x1dbe96){_0x491b56['textContent']='';return;}const [_0x1b8001,_0x4e2a70,_0x1ffced]=_0x1dbe96[_0x293ffd(0x1cb)]('-')[_0x293ffd(0x281)](Number),_0x118db4=new Date(_0x1b8001,_0x4e2a70-0x1,_0x1ffced),_0x263e8b={'weekday':_0x293ffd(0x24f),'day':_0x293ffd(0x1e3),'month':_0x293ffd(0x24f),'year':'numeric'};let _0x428f0a=_0x118db4[_0x293ffd(0x164)](_0x293ffd(0x191),_0x263e8b);_0x428f0a=_0x428f0a['charAt'](0x0)[_0x293ffd(0x122)]()+_0x428f0a[_0x293ffd(0x20e)](0x1),_0x491b56['textContent']=_0x428f0a;}function autoSetEndTime(){const _0x1a2ab9=a2_0x28cee2,_0x397496=document[_0x1a2ab9(0x16b)](_0x1a2ab9(0x13a))[_0x1a2ab9(0x219)];if(!_0x397496)return;const [_0x3cb8ba,_0x191b67]=_0x397496['split'](':')[_0x1a2ab9(0x281)](Number);let _0x38d779=_0x3cb8ba+0x1;if(_0x38d779>0x17)_0x38d779=0x0;const _0x4a9484=String(_0x38d779)['padStart'](0x2,'0')+':'+String(_0x191b67)[_0x1a2ab9(0x1c4)](0x2,'0');document[_0x1a2ab9(0x16b)](_0x1a2ab9(0x1a6))['value']=_0x4a9484;}function populateClientSelect(){const _0xaf3e3a=a2_0x28cee2,_0x248e92=document[_0xaf3e3a(0x16b)](_0xaf3e3a(0x1a5));_0x248e92[_0xaf3e3a(0x234)]='';if(clients['length']===0x0){const _0x378e3d=document[_0xaf3e3a(0x143)]('option');_0x378e3d['text']=_0xaf3e3a(0x230),_0x248e92[_0xaf3e3a(0x13e)](_0x378e3d);return;}clients[_0xaf3e3a(0x175)](_0x48e4f3=>{const _0x58d782=_0xaf3e3a,_0x258521=document[_0x58d782(0x143)](_0x58d782(0x1d6));_0x258521[_0x58d782(0x219)]=_0x48e4f3[_0x58d782(0x1f3)],_0x258521[_0x58d782(0x113)]=_0x48e4f3[_0x58d782(0x1f3)],_0x248e92[_0x58d782(0x13e)](_0x258521);});}function openActionSheet(_0x2054c4){const _0x27321a=a2_0x28cee2,_0x33253e=document[_0x27321a(0x16b)](_0x27321a(0x17a)),_0x1a0781=document[_0x27321a(0x16b)]('actionSheetOverlay'),_0x4ccdc2=document[_0x27321a(0x16b)](_0x27321a(0x14e)),_0x22e556=document[_0x27321a(0x16b)](_0x27321a(0x1a2)),_0x3e58fd=document['getElementById'](_0x27321a(0x10f));_0x1a0781['classList'][_0x27321a(0x264)](_0x27321a(0x1db)),_0x33253e[_0x27321a(0x154)][_0x27321a(0x264)](_0x27321a(0x1b5));if(_0x2054c4===_0x27321a(0x11e))_0x4ccdc2['textContent']=_0x27321a(0x1d2),_0x22e556['textContent']=_0x27321a(0x233),_0x22e556[_0x27321a(0x242)]=()=>{const _0x1e0e11=_0x27321a;closeActionSheet(),updateSeriesBatch(_0x1e0e11(0x206),tempSessionData);},_0x3e58fd[_0x27321a(0x113)]=_0x27321a(0x1e8),_0x3e58fd[_0x27321a(0x242)]=()=>{const _0x1c745c=_0x27321a;closeActionSheet(),updateSeriesBatch(_0x1c745c(0x1cf),tempSessionData);};else _0x2054c4===_0x27321a(0x104)&&(_0x4ccdc2[_0x27321a(0x113)]=_0x27321a(0x1bb),_0x22e556[_0x27321a(0x113)]=_0x27321a(0x233),_0x22e556[_0x27321a(0x26a)]=_0x27321a(0x124),_0x22e556[_0x27321a(0x242)]=()=>{const _0x184c19=_0x27321a;closeActionSheet(),commitDelete(_0x184c19(0x206),sessions[_0x184c19(0x165)](_0xd482b6=>_0xd482b6['id']===editingId));},_0x3e58fd[_0x27321a(0x113)]=_0x27321a(0x1e8),_0x3e58fd[_0x27321a(0x26a)]=_0x27321a(0x17d),_0x3e58fd[_0x27321a(0x242)]=()=>{const _0x1a856d=_0x27321a;closeActionSheet(),commitDelete(_0x1a856d(0x1cf),sessions[_0x1a856d(0x165)](_0x24906b=>_0x24906b['id']===editingId));});}function closeActionSheet(){const _0x2792b0=a2_0x28cee2;document[_0x2792b0(0x16b)](_0x2792b0(0x17a))[_0x2792b0(0x154)][_0x2792b0(0x1d7)](_0x2792b0(0x1b5)),document['getElementById'](_0x2792b0(0x150))[_0x2792b0(0x154)][_0x2792b0(0x1d7)](_0x2792b0(0x1db));}function openSettings(){openSheet('settingsSheet');}function saveCoachSettings(){const _0x5b8702=a2_0x28cee2,_0xc7d127=document[_0x5b8702(0x16b)](_0x5b8702(0x27e))[_0x5b8702(0x219)];localStorage[_0x5b8702(0x1e1)](_0x5b8702(0x183),_0xc7d127),console['log'](_0x5b8702(0x284),_0xc7d127),DataManager[_0x5b8702(0x11a)]('save_settings',{'settings':{'cancel_window':_0xc7d127}})[_0x5b8702(0x257)](_0x4dda2e=>{const _0x20fdc2=_0x5b8702;console[_0x20fdc2(0x18e)](_0x20fdc2(0x138),_0x4dda2e),showToast(_0x20fdc2(0x134),![]);});}function loadCoachSettings(){const _0x1c4ceb=a2_0x28cee2,_0x5aa6f1=localStorage[_0x1c4ceb(0x24e)](_0x1c4ceb(0x183));_0x5aa6f1&&(document[_0x1c4ceb(0x16b)](_0x1c4ceb(0x27e))[_0x1c4ceb(0x219)]=_0x5aa6f1);}function openRangesSheet(){const _0x2fac74=a2_0x28cee2;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x2fac74(0x116));}function addRange(){const _0x3b8e39=a2_0x28cee2,_0x165583=document['getElementById']('rangeStartDate')['value'],_0x2e88c4=document['getElementById'](_0x3b8e39(0x118))[_0x3b8e39(0x219)],_0x4bb92c=document[_0x3b8e39(0x16b)](_0x3b8e39(0x192))[_0x3b8e39(0x219)],_0x3e041c=document[_0x3b8e39(0x16b)](_0x3b8e39(0x1a8))[_0x3b8e39(0x219)];if(!_0x165583||!_0x2e88c4||!_0x4bb92c||!_0x3e041c)return alert(_0x3b8e39(0x1f7));const _0x423494=_0x165583+'T'+_0x2e88c4,_0x49a9ce=_0x4bb92c+'T'+_0x3e041c;if(_0x423494>=_0x49a9ce)return alert(_0x3b8e39(0x1eb));specialRanges[_0x3b8e39(0x121)]({'start':_0x423494,'end':_0x49a9ce}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x3b8e39(0x1ef)](),DataManager['fetchFromServer']('save_settings',{'settings':{'ranges':specialRanges}});}function deleteRange(_0x30d159){const _0x13f049=a2_0x28cee2;specialRanges[_0x13f049(0x213)](_0x30d159,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x13f049(0x1ef)](),DataManager[_0x13f049(0x11a)]('save_settings',{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x94fff4=a2_0x28cee2;document[_0x94fff4(0x16b)](_0x94fff4(0x251))[_0x94fff4(0x219)]='',document[_0x94fff4(0x16b)]('rangeStartTime')[_0x94fff4(0x219)]='00:00',document['getElementById'](_0x94fff4(0x192))['value']='',document[_0x94fff4(0x16b)](_0x94fff4(0x1a8))['value']='23:59';}function renderRangesList(){const _0xe282ce=a2_0x28cee2,_0x512919=document[_0xe282ce(0x16b)](_0xe282ce(0x16c));_0x512919[_0xe282ce(0x234)]='';if(!specialRanges[_0xe282ce(0x283)]){_0x512919[_0xe282ce(0x234)]=_0xe282ce(0x282);return;}specialRanges[_0xe282ce(0x175)]((_0x19c88b,_0x3b585b)=>{const _0xdeffc9=_0xe282ce,_0x188bd6=document[_0xdeffc9(0x143)](_0xdeffc9(0x13c));_0x188bd6[_0xdeffc9(0x26a)]=_0xdeffc9(0x16e);const _0x51544b=_0x1b4602=>{const _0x1797c1=_0xdeffc9,_0x173846=new Date(_0x1b4602);return _0x173846[_0x1797c1(0x1fd)]()+'.'+String(_0x173846[_0x1797c1(0x275)]()+0x1)[_0x1797c1(0x1c4)](0x2,'0')+'\x20'+String(_0x173846[_0x1797c1(0x20d)]())[_0x1797c1(0x1c4)](0x2,'0')+':'+String(_0x173846[_0x1797c1(0x1a7)]())[_0x1797c1(0x1c4)](0x2,'0');};_0x188bd6[_0xdeffc9(0x234)]=_0xdeffc9(0x232)+_0x51544b(_0x19c88b[_0xdeffc9(0x1bf)])+_0xdeffc9(0x12f)+_0x51544b(_0x19c88b[_0xdeffc9(0x259)])+_0xdeffc9(0x152)+_0x3b585b+')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>',_0x512919[_0xdeffc9(0x13e)](_0x188bd6);});}function scrollToToday(){const _0x216dc3=a2_0x28cee2,_0x19d0a4=getLocalDateStr(new Date()),_0x23225c=document[_0x216dc3(0x16b)]('header-'+_0x19d0a4),_0x2128c3=document[_0x216dc3(0x16b)](_0x216dc3(0x109));if(_0x23225c&&_0x2128c3){const _0x41cd5c=_0x2128c3[_0x216dc3(0x1df)],_0xa14777=_0x23225c['offsetLeft'],_0x1374ca=_0x23225c[_0x216dc3(0x231)];_0x2128c3[_0x216dc3(0x13d)]=_0xa14777-_0x41cd5c/0x2+_0x1374ca/0x2,_0x2128c3[_0x216dc3(0x238)]=0x9*GRID_H;}}function onScroll(){const _0x2ab764=a2_0x28cee2,_0x1dc191=document['getElementById']('matrixViewport'),_0x4f66d4=document[_0x2ab764(0x245)](_0x2ab764(0x253));for(let _0x5bcdea of _0x4f66d4)if(_0x5bcdea[_0x2ab764(0x17b)]>=_0x1dc191[_0x2ab764(0x13d)]){const _0x979c85=new Date(_0x5bcdea[_0x2ab764(0x1d5)]('data-date'));document[_0x2ab764(0x16b)](_0x2ab764(0x1af))[_0x2ab764(0x113)]=_0x979c85[_0x2ab764(0x108)]('ru',{'month':'long'})[_0x2ab764(0x122)]()+'\x20'+_0x979c85[_0x2ab764(0x24d)]();break;}}function showToast(_0x250e1c,_0x359ca5=![]){const _0x29c9b8=a2_0x28cee2,_0x31cf25=document[_0x29c9b8(0x16b)]('toast');_0x31cf25[_0x29c9b8(0x26a)]=_0x29c9b8(0x25c)+(_0x359ca5?_0x29c9b8(0x170):''),document[_0x29c9b8(0x16b)](_0x29c9b8(0x1f4))['textContent']=_0x359ca5?_0x29c9b8(0x18b):_0x29c9b8(0x1e5),document[_0x29c9b8(0x16b)](_0x29c9b8(0x163))[_0x29c9b8(0x113)]=_0x250e1c,_0x31cf25[_0x29c9b8(0x154)][_0x29c9b8(0x264)](_0x29c9b8(0x197)),setTimeout(()=>{const _0x9a87be=_0x29c9b8;_0x31cf25[_0x9a87be(0x154)][_0x9a87be(0x1d7)](_0x9a87be(0x197));},0xbb8);}function openDayOptions(_0x230ca6,_0x10209c){const _0x559ec7=a2_0x28cee2;selectedDayForOptions=_0x230ca6,document[_0x559ec7(0x16b)]('dayOptionsTitle')[_0x559ec7(0x113)]=_0x10209c,openSheet('dayOptionsSheet');}function toggleDayOff(){const _0x2f105e=a2_0x28cee2;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x2f105e(0x261),reRenderBlocks(),closeAllSheets(),DataManager[_0x2f105e(0x1ef)](),DataManager[_0x2f105e(0x11a)](_0x2f105e(0x218),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x33ec72=a2_0x28cee2;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x33ec72(0x1ef)](),DataManager[_0x33ec72(0x11a)](_0x33ec72(0x218),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x47ead7){const _0xdc961b=a2_0x28cee2;document[_0xdc961b(0x16b)]('overlay')[_0xdc961b(0x154)]['add'](_0xdc961b(0x1db)),document[_0xdc961b(0x16b)](_0x47ead7)[_0xdc961b(0x154)]['add'](_0xdc961b(0x1b5));}function closeAllSheets(){const _0x146e3a=a2_0x28cee2;document[_0x146e3a(0x16b)](_0x146e3a(0x137))['classList'][_0x146e3a(0x1d7)]('active'),document[_0x146e3a(0x245)](_0x146e3a(0x14c))[_0x146e3a(0x175)](_0x396b55=>_0x396b55[_0x146e3a(0x154)][_0x146e3a(0x1d7)](_0x146e3a(0x1b5)));}function openPatternEditor(){const _0x4252ee=a2_0x28cee2;closeAllSheets(),document[_0x4252ee(0x16b)](_0x4252ee(0x271))[_0x4252ee(0x154)][_0x4252ee(0x264)](_0x4252ee(0x1b5)),renderPatternEditor();}function closePatternEditor(){const _0x317996=a2_0x28cee2;document[_0x317996(0x16b)](_0x317996(0x271))[_0x317996(0x154)]['remove'](_0x317996(0x1b5));}function savePattern(){const _0x58f1eb=a2_0x28cee2;document[_0x58f1eb(0x16b)](_0x58f1eb(0x271))[_0x58f1eb(0x154)][_0x58f1eb(0x1d7)](_0x58f1eb(0x1b5)),reRenderBlocks(),DataManager[_0x58f1eb(0x1ef)](),DataManager[_0x58f1eb(0x11a)]('save_settings',{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x1d6dc8=a2_0x28cee2,_0x51c8d8=document[_0x1d6dc8(0x16b)]('peGrid');_0x51c8d8[_0x1d6dc8(0x234)]='';const _0x51dddc=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x15f2dc=document['createElement']('div');_0x15f2dc['className']=_0x1d6dc8(0x157),_0x51c8d8['appendChild'](_0x15f2dc),_0x51dddc[_0x1d6dc8(0x175)]((_0x154917,_0x49f77f)=>{const _0x5c57ad=_0x1d6dc8,_0x1176fe=document[_0x5c57ad(0x143)](_0x5c57ad(0x13c));_0x1176fe[_0x5c57ad(0x26a)]=_0x5c57ad(0x1d3),_0x1176fe[_0x5c57ad(0x234)]=_0x154917+_0x5c57ad(0x14f),_0x1176fe[_0x5c57ad(0x242)]=()=>toggleColPattern(_0x49f77f),_0x51c8d8[_0x5c57ad(0x13e)](_0x1176fe);});for(let _0x1e3daa=0x0;_0x1e3daa<0x18;_0x1e3daa++){const _0x440570=document[_0x1d6dc8(0x143)](_0x1d6dc8(0x13c));_0x440570[_0x1d6dc8(0x26a)]=_0x1d6dc8(0x1f2),_0x440570[_0x1d6dc8(0x234)]=_0x1d6dc8(0x1ae)+String(_0x1e3daa)[_0x1d6dc8(0x1c4)](0x2,'0')+_0x1d6dc8(0x1e7),_0x440570[_0x1d6dc8(0x242)]=()=>toggleRowPattern(_0x1e3daa),_0x51c8d8[_0x1d6dc8(0x13e)](_0x440570);for(let _0x31e5c3=0x0;_0x31e5c3<0x7;_0x31e5c3++){const _0x37ed85=document[_0x1d6dc8(0x143)](_0x1d6dc8(0x13c)),_0x139dbc=(availabilityPattern[_0x31e5c3]||[])['includes'](_0x1e3daa),_0x1c658d=!_0x139dbc;_0x37ed85[_0x1d6dc8(0x26a)]=_0x1d6dc8(0x278)+(_0x1c658d?_0x1d6dc8(0x1db):''),_0x37ed85[_0x1d6dc8(0x242)]=()=>toggleSinglePattern(_0x31e5c3,_0x1e3daa),_0x51c8d8[_0x1d6dc8(0x13e)](_0x37ed85);}}}function toggleSinglePattern(_0x552981,_0x5c51a8){const _0x56a01d=a2_0x28cee2;if(!availabilityPattern[_0x552981])availabilityPattern[_0x552981]=[];const _0x598b81=availabilityPattern[_0x552981],_0x3c6132=_0x598b81[_0x56a01d(0x1f9)](_0x5c51a8);_0x3c6132===-0x1?_0x598b81[_0x56a01d(0x121)](_0x5c51a8):_0x598b81['splice'](_0x3c6132,0x1),renderPatternEditor();}function toggleColPattern(_0x441528){const _0x2b69ed=a2_0x28cee2;if(!availabilityPattern[_0x441528])availabilityPattern[_0x441528]=[];const _0x26d6d3=availabilityPattern[_0x441528];_0x26d6d3[_0x2b69ed(0x283)]===0x0?availabilityPattern[_0x441528]=Array['from']({'length':0x18},(_0x16d9d3,_0x230a7c)=>_0x230a7c):availabilityPattern[_0x441528]=[],renderPatternEditor();}function toggleRowPattern(_0x87ffac){const _0x44c8c5=a2_0x28cee2;let _0x1b5c6b=!![];for(let _0x5dc405=0x0;_0x5dc405<0x7;_0x5dc405++){if((availabilityPattern[_0x5dc405]||[])[_0x44c8c5(0x1c5)](_0x87ffac)){_0x1b5c6b=![];break;}}for(let _0xf63b8a=0x0;_0xf63b8a<0x7;_0xf63b8a++){if(!availabilityPattern[_0xf63b8a])availabilityPattern[_0xf63b8a]=[];const _0x4acd7e=availabilityPattern[_0xf63b8a][_0x44c8c5(0x1f9)](_0x87ffac);if(_0x1b5c6b){if(_0x4acd7e===-0x1)availabilityPattern[_0xf63b8a]['push'](_0x87ffac);}else{if(_0x4acd7e!==-0x1)availabilityPattern[_0xf63b8a]['splice'](_0x4acd7e,0x1);}}renderPatternEditor();}function renderPCol(_0x390f4e,_0x2cce4a){const _0xd7fef=a2_0x28cee2;_0x390f4e[_0xd7fef(0x234)]='';const _0x38287c=Math[_0xd7fef(0x100)](_0x390f4e['offsetLeft']);(availabilityPattern[_0x2cce4a]||[])['forEach'](_0x215189=>{const _0x158f4c=_0xd7fef,_0x1f0490=document[_0x158f4c(0x143)]('div');_0x1f0490[_0x158f4c(0x26a)]=_0x158f4c(0x162);const _0x186f22=_0x215189*GRID_H;_0x1f0490[_0x158f4c(0x135)]['top']=_0x186f22+'px',_0x1f0490[_0x158f4c(0x135)][_0x158f4c(0x249)]='-'+_0x38287c+'px\x20-'+_0x186f22+'px',_0x1f0490[_0x158f4c(0x242)]=_0x381cad=>{const _0x2675ce=_0x158f4c;_0x381cad[_0x2675ce(0x145)](),toggleSinglePattern(_0x2cce4a,_0x215189);},_0x390f4e['appendChild'](_0x1f0490);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x4596f0=a2_0x28cee2,_0xaac693=new Date(),_0x384461=document[_0x4596f0(0x16b)](_0x4596f0(0x1f5)),_0x5e706c=document['getElementById'](_0x4596f0(0x26b)),_0x578c29=(_0xaac693[_0x4596f0(0x20d)]()*0x3c+_0xaac693[_0x4596f0(0x1a7)]())/0x3c*GRID_H;_0x384461[_0x4596f0(0x135)][_0x4596f0(0x1f0)]=_0x578c29+'px',_0x384461[_0x4596f0(0x135)][_0x4596f0(0x18c)]='block',_0x5e706c[_0x4596f0(0x113)]=String(_0xaac693['getHours']())[_0x4596f0(0x1c4)](0x2,'0')+':'+String(_0xaac693[_0x4596f0(0x1a7)]())[_0x4596f0(0x1c4)](0x2,'0'),_0x5e706c[_0x4596f0(0x135)][_0x4596f0(0x18c)]=_0x4596f0(0x1ca),_0x5e706c[_0x4596f0(0x135)][_0x4596f0(0x1f0)]=_0x578c29+'px';}document[a2_0x28cee2(0x1cc)](a2_0x28cee2(0x127),init);function openDayOptions(_0x2ceec8){const _0x3da285=a2_0x28cee2;selectedDayForOptions=_0x2ceec8;const _0xea745a=new Date(_0x2ceec8),_0x502d09={'weekday':'long','day':_0x3da285(0x1e3),'month':'long','year':_0x3da285(0x1e3)},_0x41f1a4=_0xea745a[_0x3da285(0x164)](_0x3da285(0x191),_0x502d09);document[_0x3da285(0x16b)](_0x3da285(0x1ad))['textContent']=_0x41f1a4['charAt'](0x0)[_0x3da285(0x122)]()+_0x41f1a4['slice'](0x1);let _0x22ed0d=_0xea745a[_0x3da285(0x166)]()-0x1;if(_0x22ed0d===-0x1)_0x22ed0d=0x6;const _0x381ae1=availabilityPattern[_0x22ed0d]||[],_0x184944=0x18-_0x381ae1[_0x3da285(0x283)],_0x5633c4=_0x184944*0x3c,_0x3b3869=sessions[_0x3da285(0x21a)](_0x1eaad6=>_0x1eaad6[_0x3da285(0x169)]===_0x2ceec8&&_0x1eaad6['status']!==_0x3da285(0x209));let _0x6ae0ed=_0x3b3869['map'](_0x3a6334=>{const _0x112cc8=_0x3da285,[_0x2babe,_0x1d0fde]=_0x3a6334[_0x112cc8(0x1bf)][_0x112cc8(0x1cb)](':')[_0x112cc8(0x281)](Number),[_0x1931d3,_0x3f66d7]=_0x3a6334[_0x112cc8(0x259)][_0x112cc8(0x1cb)](':')[_0x112cc8(0x281)](Number);return[_0x2babe*0x3c+_0x1d0fde,_0x1931d3*0x3c+_0x3f66d7];});_0x6ae0ed['sort']((_0x34f082,_0x4e4709)=>_0x34f082[0x0]-_0x4e4709[0x0]);let _0x28d0df=[];if(_0x6ae0ed['length']>0x0){let _0x1ab222=_0x6ae0ed[0x0];for(let _0x552906=0x1;_0x552906<_0x6ae0ed['length'];_0x552906++){_0x6ae0ed[_0x552906][0x0]<_0x1ab222[0x1]?_0x1ab222[0x1]=Math[_0x3da285(0x265)](_0x1ab222[0x1],_0x6ae0ed[_0x552906][0x1]):(_0x28d0df['push'](_0x1ab222),_0x1ab222=_0x6ae0ed[_0x552906]);}_0x28d0df[_0x3da285(0x121)](_0x1ab222);}let _0x2c44e9=0x0;_0x28d0df[_0x3da285(0x175)](_0x40247c=>_0x2c44e9+=_0x40247c[0x1]-_0x40247c[0x0]),document[_0x3da285(0x16b)](_0x3da285(0x178))[_0x3da285(0x113)]=formatMinsToHrs(_0x5633c4),document[_0x3da285(0x16b)](_0x3da285(0xf9))[_0x3da285(0x113)]=formatMinsToHrs(_0x2c44e9);const _0xc0fe83=_0x5633c4>0x0?Math[_0x3da285(0x100)](_0x2c44e9/_0x5633c4*0x64):0x0,_0x39134c=document[_0x3da285(0x16b)](_0x3da285(0x21e));_0x39134c['textContent']=_0xc0fe83+'%';const _0x4bad6d=document[_0x3da285(0x16b)](_0x3da285(0x276));if(_0xc0fe83>0x64)_0x39134c[_0x3da285(0x135)]['color']=_0x3da285(0x1d4),_0x4bad6d[_0x3da285(0x135)]['borderColor']='rgba(255,\x2069,\x2058,\x200.3)';else _0xc0fe83>0x50?(_0x39134c[_0x3da285(0x135)]['color']=_0x3da285(0x247),_0x4bad6d[_0x3da285(0x135)][_0x3da285(0x171)]='rgba(255,\x20159,\x2010,\x200.3)'):(_0x39134c['style']['color']='var(--acc-green)',_0x4bad6d['style'][_0x3da285(0x171)]=_0x3da285(0x115));const _0x49acf9=document['getElementById']('doEventsList');_0x49acf9['innerHTML']='';_0x3b3869[_0x3da285(0x283)]===0x0?_0x49acf9[_0x3da285(0x234)]=_0x3da285(0x1f1):(_0x3b3869[_0x3da285(0x22f)]((_0x44c046,_0x2d6084)=>_0x44c046['start'][_0x3da285(0x25f)](_0x2d6084[_0x3da285(0x1bf)])),_0x3b3869['forEach'](_0x5c4556=>{const _0x2f1ea7=_0x3da285,_0x312f19=clients[_0x2f1ea7(0x165)](_0x24b185=>_0x24b185[_0x2f1ea7(0x1f3)]===_0x5c4556[_0x2f1ea7(0x1d0)]),_0x37c1a6=_0x312f19?_0x312f19[_0x2f1ea7(0x23c)]:_0x2f1ea7(0x17c),_0x1f58fe=_0x5c4556[_0x2f1ea7(0x1a1)]===_0x2f1ea7(0x201),_0x29e109=_0x1f58fe?_0x2f1ea7(0x216):'',_0x4a6df1=document[_0x2f1ea7(0x143)](_0x2f1ea7(0x13c));_0x4a6df1[_0x2f1ea7(0x26a)]=_0x2f1ea7(0x256),_0x4a6df1[_0x2f1ea7(0x135)][_0x2f1ea7(0x1d8)]=_0x37c1a6,_0x4a6df1[_0x2f1ea7(0x234)]=_0x2f1ea7(0x267)+_0x5c4556[_0x2f1ea7(0x1bf)]+_0x2f1ea7(0x27d)+_0x5c4556[_0x2f1ea7(0x259)]+_0x2f1ea7(0x248)+_0x5c4556['client']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x29e109+_0x2f1ea7(0x255),_0x49acf9['appendChild'](_0x4a6df1);}));const _0x3a1038=document['getElementById']('btnDayToggle'),_0x42a0e4=dateExceptions[_0x2ceec8]===_0x3da285(0x261);_0x42a0e4?(_0x3a1038['textContent']=_0x3da285(0x146),_0x3a1038[_0x3da285(0x26a)]=_0x3da285(0x106),_0x3a1038['style'][_0x3da285(0x23c)]='var(--acc-green)',_0x3a1038['style']['background']=_0x3da285(0x101)):(_0x3a1038[_0x3da285(0x113)]=_0x3da285(0x1b2),_0x3a1038[_0x3da285(0x26a)]=_0x3da285(0x1c6),_0x3a1038['style'][_0x3da285(0x23c)]=_0x3da285(0x1d4),_0x3a1038['style'][_0x3da285(0x223)]=_0x3da285(0x215)),openSheet(_0x3da285(0x103));}let currentAnPeriod=a2_0x28cee2(0x227);function openAnalytics(){const _0x5a4d7e=a2_0x28cee2,_0x3eb362=document[_0x5a4d7e(0xf8)](_0x5a4d7e(0x25e));setAnalyticsPeriod(_0x5a4d7e(0x227),_0x3eb362),closeAllSheets(),openSheet(_0x5a4d7e(0x10e));}function setAnalyticsPeriod(_0x3c655e,_0x53d80e){const _0x90e983=a2_0x28cee2;currentAnPeriod=_0x3c655e,document[_0x90e983(0x245)]('.period-switch\x20.p-btn')[_0x90e983(0x175)](_0x498872=>_0x498872[_0x90e983(0x154)][_0x90e983(0x1d7)](_0x90e983(0x1db)));if(_0x53d80e)_0x53d80e[_0x90e983(0x154)][_0x90e983(0x264)](_0x90e983(0x1db));const _0x1095a7=document['getElementById'](_0x90e983(0x184));_0x1095a7[_0x90e983(0x135)][_0x90e983(0x18c)]=_0x3c655e===_0x90e983(0x16f)?_0x90e983(0x19b):_0x90e983(0x22d);const _0x4ac113=new Date();let _0x92ee3e=new Date(),_0xa4ca0a=new Date();if(_0x3c655e===_0x90e983(0x227))_0x92ee3e=getStartOfWeek(_0x4ac113),_0xa4ca0a=new Date(_0x92ee3e),_0xa4ca0a[_0x90e983(0x19e)](_0xa4ca0a[_0x90e983(0x1fd)]()+0x6);else{if(_0x3c655e===_0x90e983(0x26d))_0x92ee3e=new Date(_0x4ac113[_0x90e983(0x24d)](),_0x4ac113['getMonth'](),0x1),_0xa4ca0a=new Date(_0x4ac113[_0x90e983(0x24d)](),_0x4ac113['getMonth']()+0x1,0x0);else{!document[_0x90e983(0x16b)](_0x90e983(0x189))[_0x90e983(0x219)]&&(document['getElementById'](_0x90e983(0x189))[_0x90e983(0x219)]=getLocalDateStr(_0x4ac113),document[_0x90e983(0x16b)](_0x90e983(0xfa))[_0x90e983(0x219)]=getLocalDateStr(_0x4ac113));refreshAnalytics();return;}}document['getElementById'](_0x90e983(0x189))[_0x90e983(0x219)]=getLocalDateStr(_0x92ee3e),document[_0x90e983(0x16b)](_0x90e983(0xfa))[_0x90e983(0x219)]=getLocalDateStr(_0xa4ca0a),refreshAnalytics();}function refreshAnalytics(){const _0x1a0194=a2_0x28cee2,_0x19fa90=document[_0x1a0194(0x16b)](_0x1a0194(0x189))[_0x1a0194(0x219)],_0x1e8ee8=document['getElementById']('anEnd')['value'];if(!_0x19fa90||!_0x1e8ee8)return;const _0x4e6e0c=sessions['filter'](_0x1ff53f=>_0x1ff53f[_0x1a0194(0x169)]>=_0x19fa90&&_0x1ff53f[_0x1a0194(0x169)]<=_0x1e8ee8&&_0x1ff53f[_0x1a0194(0x1a1)]!==_0x1a0194(0x209)),_0x5ac4f9=_0x4e6e0c['length'],_0x221885=_0x4e6e0c['filter'](_0x3254c6=>_0x3254c6[_0x1a0194(0x1a1)]==='completed')[_0x1a0194(0x283)],_0x2f9dc9=_0x5ac4f9>0x0?Math[_0x1a0194(0x100)](_0x221885/_0x5ac4f9*0x64):0x0;document[_0x1a0194(0x16b)]('anPercent')[_0x1a0194(0x113)]=_0x2f9dc9+'%',document[_0x1a0194(0x16b)](_0x1a0194(0x250))[_0x1a0194(0x113)]=_0x221885+_0x1a0194(0x125)+_0x5ac4f9+_0x1a0194(0x1b6);const _0xe3566d=document[_0x1a0194(0x16b)](_0x1a0194(0x24b)),_0x13fa85=0x2*Math['PI']*0x23,_0x235fb7=_0x13fa85-_0x2f9dc9/0x64*_0x13fa85;_0xe3566d[_0x1a0194(0x135)][_0x1a0194(0x15f)]=_0x235fb7;const _0x3e0c6f={};_0x4e6e0c[_0x1a0194(0x175)](_0x36c13c=>{const _0x29a9b7=_0x1a0194;if(!_0x3e0c6f[_0x36c13c[_0x29a9b7(0x1d0)]]){const _0x5d9b3c=clients[_0x29a9b7(0x165)](_0x4321ff=>_0x4321ff[_0x29a9b7(0x1f3)]===_0x36c13c['client']);_0x3e0c6f[_0x36c13c[_0x29a9b7(0x1d0)]]={'total':0x0,'done':0x0,'color':_0x5d9b3c?_0x5d9b3c[_0x29a9b7(0x23c)]:'#fff'};}_0x3e0c6f[_0x36c13c[_0x29a9b7(0x1d0)]][_0x29a9b7(0x224)]++;if(_0x36c13c[_0x29a9b7(0x1a1)]===_0x29a9b7(0x201))_0x3e0c6f[_0x36c13c['client']][_0x29a9b7(0x270)]++;});const _0x52d6a7=document['getElementById'](_0x1a0194(0x15d));_0x52d6a7[_0x1a0194(0x234)]='';const _0xd51b06=Object[_0x1a0194(0x212)](_0x3e0c6f)[_0x1a0194(0x22f)]((_0x37aea6,_0x5600da)=>_0x5600da[0x1]['total']-_0x37aea6[0x1][_0x1a0194(0x224)]);if(_0xd51b06[_0x1a0194(0x283)]===0x0){_0x52d6a7[_0x1a0194(0x234)]=_0x1a0194(0x148);return;}_0xd51b06[_0x1a0194(0x175)](([_0x2d9a1c,_0x5f0f7c])=>{const _0x133b81=_0x1a0194,_0x75a959=Math[_0x133b81(0x100)](_0x5f0f7c[_0x133b81(0x270)]/_0x5f0f7c[_0x133b81(0x224)]*0x64),_0x2dcecb=document[_0x133b81(0x143)](_0x133b81(0x13c));_0x2dcecb[_0x133b81(0x26a)]=_0x133b81(0x123),_0x2dcecb[_0x133b81(0x135)][_0x133b81(0x1d8)]=_0x5f0f7c[_0x133b81(0x23c)],_0x2dcecb[_0x133b81(0x234)]=_0x133b81(0x1ee)+_0x2d9a1c+_0x133b81(0x1bd)+_0x5f0f7c[_0x133b81(0x270)]+_0x133b81(0x21f)+_0x5f0f7c[_0x133b81(0x224)]+_0x133b81(0x1a0)+_0x75a959+_0x133b81(0x25b),_0x52d6a7['appendChild'](_0x2dcecb);});}function formatMinsToHrs(_0xc3c42e){const _0x263ce5=a2_0x28cee2;if(_0xc3c42e===0x0)return'0';const _0x28366a=Math[_0x263ce5(0x102)](_0xc3c42e/0x3c),_0x5ca7a9=_0xc3c42e%0x3c;if(_0x5ca7a9===0x0)return _0x28366a+'—á';return _0x28366a+'—á\x20'+_0x5ca7a9+'–º';}