const a2_0x45ac07=a2_0x2785;(function(_0x212d44,_0x2abc8a){const _0x39b385=a2_0x2785,_0x18f849=_0x212d44();while(!![]){try{const _0x3beb35=-parseInt(_0x39b385(0x208))/0x1*(-parseInt(_0x39b385(0x244))/0x2)+parseInt(_0x39b385(0x335))/0x3+-parseInt(_0x39b385(0x35b))/0x4*(-parseInt(_0x39b385(0x211))/0x5)+parseInt(_0x39b385(0x331))/0x6*(-parseInt(_0x39b385(0x26b))/0x7)+-parseInt(_0x39b385(0x1e9))/0x8*(parseInt(_0x39b385(0x342))/0x9)+-parseInt(_0x39b385(0x1ed))/0xa+-parseInt(_0x39b385(0x201))/0xb*(parseInt(_0x39b385(0x2cf))/0xc);if(_0x3beb35===_0x2abc8a)break;else _0x18f849['push'](_0x18f849['shift']());}catch(_0x186ba2){_0x18f849['push'](_0x18f849['shift']());}}}(a2_0x254e,0x668d7),function initTMA(){const _0x12498e=a2_0x2785,_0x559271=(function(){let _0x5c9a88=!![];return function(_0x736d4,_0x5c05ca){const _0x15b645=_0x5c9a88?function(){const _0x40e322=a2_0x2785;if(_0x5c05ca){const _0x7a9219=_0x5c05ca[_0x40e322(0x1ee)](_0x736d4,arguments);return _0x5c05ca=null,_0x7a9219;}}:function(){};return _0x5c9a88=![],_0x15b645;};}()),_0x2b47a3=_0x559271(this,function(){const _0x44446d=a2_0x2785;return _0x2b47a3[_0x44446d(0x2c7)]()[_0x44446d(0x26c)](_0x44446d(0x306))[_0x44446d(0x2c7)]()[_0x44446d(0x327)](_0x2b47a3)[_0x44446d(0x26c)](_0x44446d(0x306));});_0x2b47a3();try{const _0x41b6b7=window['Telegram']?.[_0x12498e(0x243)];if(!_0x41b6b7)return;_0x41b6b7[_0x12498e(0x2ef)](),_0x41b6b7[_0x12498e(0x263)]();try{_0x41b6b7[_0x12498e(0x25f)](_0x12498e(0x323)),_0x41b6b7[_0x12498e(0x2c0)]&&_0x41b6b7[_0x12498e(0x2c0)](_0x12498e(0x323));}catch(_0x48a838){console[_0x12498e(0x2fa)]('Error\x20setting\x20color:',_0x48a838);}try{_0x41b6b7[_0x12498e(0x2ed)]&&(_0x41b6b7['BackButton'][_0x12498e(0x270)](),_0x41b6b7[_0x12498e(0x2ed)]['offClick'](),_0x41b6b7['BackButton'][_0x12498e(0x258)](function(){const _0x283493=_0x12498e;window['location']['href']=_0x283493(0x255);}));}catch(_0x110ca9){console['log'](_0x12498e(0x2eb),_0x110ca9);}try{if(_0x41b6b7[_0x12498e(0x321)])_0x41b6b7[_0x12498e(0x321)]();}catch(_0x4b0bf5){}}catch(_0x20cb40){console[_0x12498e(0x359)](_0x12498e(0x347),_0x20cb40);}}());function isAdmin(){const _0x4e8a4e=a2_0x2785;try{const _0x342593=Number(window[_0x4e8a4e(0x203)]?.[_0x4e8a4e(0x243)]?.[_0x4e8a4e(0x315)]?.['user']?.['id']);return _0x342593===0xbaf7174;}catch(_0x29f4c3){return![];}}const APP_VERSION=a2_0x45ac07(0x2b9),API_URL=a2_0x45ac07(0x35d),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x45ac07(0x30e),KEY_SESSIONS=a2_0x45ac07(0x261),KEY_SETTINGS=a2_0x45ac07(0x2d5);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x3e3eb5=a2_0x45ac07;return window['Telegram']?.[_0x3e3eb5(0x243)]?.[_0x3e3eb5(0x315)]?.[_0x3e3eb5(0x345)]?.['id']||'guest';},'saveLocally'(){const _0x52ff4f=a2_0x45ac07;try{localStorage[_0x52ff4f(0x232)](KEY_CLIENTS,JSON[_0x52ff4f(0x29a)](clients)),localStorage[_0x52ff4f(0x232)](KEY_SESSIONS,JSON['stringify'](sessions)),localStorage[_0x52ff4f(0x232)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x10facf){console[_0x52ff4f(0x359)]('Local\x20Save\x20Error',_0x10facf);}},'loadLocal'(){const _0x3f7de3=a2_0x45ac07;try{const _0x4fa632=localStorage[_0x3f7de3(0x1fc)](KEY_CLIENTS);if(_0x4fa632)clients=JSON['parse'](_0x4fa632);const _0x307a09=localStorage[_0x3f7de3(0x1fc)](KEY_SESSIONS);if(_0x307a09)sessions=JSON[_0x3f7de3(0x1e8)](_0x307a09);const _0x50d6cc=localStorage[_0x3f7de3(0x1fc)](KEY_SETTINGS);if(_0x50d6cc){const _0xb56027=JSON[_0x3f7de3(0x1e8)](_0x50d6cc);if(_0xb56027[_0x3f7de3(0x24e)])availabilityPattern=_0xb56027[_0x3f7de3(0x24e)];if(_0xb56027[_0x3f7de3(0x27d)])dateExceptions=_0xb56027['exceptions'];if(_0xb56027[_0x3f7de3(0x2a3)])specialRanges=_0xb56027['ranges'];}else{for(let _0x5c385e=0x0;_0x5c385e<0x7;_0x5c385e++)availabilityPattern[_0x5c385e]=Array[_0x3f7de3(0x2c5)]({'length':0xc},(_0x3fc5ac,_0x448154)=>_0x448154+0x9);}}catch(_0x5c0a23){console['error'](_0x3f7de3(0x27f),_0x5c0a23);}},async 'fetchFromServer'(_0x24a531,_0x58331d={}){const _0x32d5cf=a2_0x45ac07,_0x42e10b=window['Telegram']?.['WebApp'],_0x5defb2={'action':_0x24a531,'init_data':_0x42e10b?.['initData']||'',..._0x58331d};try{const _0x2d7c14=await fetch(API_URL,{'method':_0x32d5cf(0x265),'headers':{'Content-Type':_0x32d5cf(0x2f8)},'body':JSON[_0x32d5cf(0x29a)](_0x5defb2)}),_0x125679=await _0x2d7c14[_0x32d5cf(0x35a)]();if(!_0x125679['ok'])throw new Error(_0x125679[_0x32d5cf(0x359)]||'Server\x20Error');return _0x125679['data'];}catch(_0x2fb6d3){console[_0x32d5cf(0x359)](_0x32d5cf(0x30c)+_0x24a531+_0x32d5cf(0x34f),_0x2fb6d3);throw _0x2fb6d3;}},async 'syncLoad'(){const _0x1f1cf3=a2_0x45ac07,_0x4c522c=new Date(),_0x41d1fa=_0x4c522c['getFullYear']()+'-'+String(_0x4c522c['getMonth']()+0x1)[_0x1f1cf3(0x2de)](0x2,'0'),_0xa2aeb9=new Date(_0x4c522c);_0xa2aeb9[_0x1f1cf3(0x21c)](_0x4c522c[_0x1f1cf3(0x31c)]()+0x1);const _0x28c7ca=_0xa2aeb9[_0x1f1cf3(0x29b)]()+'-'+String(_0xa2aeb9['getMonth']()+0x1)[_0x1f1cf3(0x2de)](0x2,'0'),_0x3d4766=Date['now']();console[_0x1f1cf3(0x2fa)](_0x1f1cf3(0x304)+_0x41d1fa+',\x20'+_0x28c7ca+_0x1f1cf3(0x247));try{const [_0x2ed000,_0x2c0c09]=await Promise[_0x1f1cf3(0x21d)]([this[_0x1f1cf3(0x1ea)]('init_load',{'month_str':_0x41d1fa}),this[_0x1f1cf3(0x1ea)]('init_load',{'month_str':_0x28c7ca})]);if(lastUserActionTime>_0x3d4766)return console['warn'](_0x1f1cf3(0x329)),![];return this[_0x1f1cf3(0x332)](_0x2ed000,_0x41d1fa),this[_0x1f1cf3(0x332)](_0x2c0c09,_0x28c7ca),this[_0x1f1cf3(0x20d)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x44fca8){console[_0x1f1cf3(0x359)](_0x44fca8);throw _0x44fca8;}},'mergeServerData'(_0x175cca,_0x30164e){const _0x93d45c=a2_0x45ac07;if(!_0x175cca)return;_0x175cca[_0x93d45c(0x292)]&&Array['isArray'](_0x175cca[_0x93d45c(0x292)])&&(clients=_0x175cca['clients']);if(_0x175cca['settings']){if(_0x175cca['settings']['pattern'])availabilityPattern=_0x175cca[_0x93d45c(0x1f9)][_0x93d45c(0x24e)];if(_0x175cca[_0x93d45c(0x1f9)][_0x93d45c(0x27d)])dateExceptions=_0x175cca[_0x93d45c(0x1f9)][_0x93d45c(0x27d)];if(_0x175cca[_0x93d45c(0x1f9)][_0x93d45c(0x2a3)])specialRanges=_0x175cca[_0x93d45c(0x1f9)][_0x93d45c(0x2a3)];if(_0x175cca[_0x93d45c(0x1f9)][_0x93d45c(0x2fc)]){localStorage[_0x93d45c(0x232)](_0x93d45c(0x2ad),_0x175cca['settings'][_0x93d45c(0x2fc)]);const _0x12d27a=document[_0x93d45c(0x25e)]('settingCancelWindow');if(_0x12d27a)_0x12d27a[_0x93d45c(0x358)]=_0x175cca['settings'][_0x93d45c(0x2fc)];}}_0x175cca[_0x93d45c(0x355)]&&(sessions=sessions[_0x93d45c(0x23b)](_0x366663=>!_0x366663[_0x93d45c(0x27b)]['startsWith'](_0x30164e)),Object[_0x93d45c(0x2b7)](_0x175cca[_0x93d45c(0x355)])[_0x93d45c(0x30a)](_0x563d89=>{const _0x47819d=_0x93d45c,_0x31c03a=_0x175cca[_0x47819d(0x355)][_0x563d89];_0x31c03a['forEach'](_0x4ae74b=>{const _0xce6295=_0x47819d,_0x417b16=clients[_0xce6295(0x34b)](_0x5d3e7f=>String(_0x5d3e7f['id'])===String(_0x4ae74b['c']));sessions[_0xce6295(0x228)]({'id':_0x4ae74b['i'],'clientId':_0x4ae74b['c'],'client':_0x417b16?_0x417b16[_0xce6295(0x2ce)]:_0xce6295(0x2e1),'dateStr':_0x30164e+'-'+_0x563d89[_0xce6295(0x2de)](0x2,'0'),'start':_0x4ae74b['s'],'end':_0x4ae74b['e'],'status':_0x4ae74b['st']||'planned','note':_0x4ae74b['n']||'','seriesId':_0x4ae74b['sid']||null});});}));},async 'syncBatch'(_0x1dad83){const _0x7b26c1=a2_0x45ac07,_0x3d003e=[...new Set(_0x1dad83)],_0xc7ec9=_0x3d003e[_0x7b26c1(0x2b8)](_0x498dae=>{const _0x11eb9c=_0x7b26c1,_0xd65c53=sessions['filter'](_0x22c961=>_0x22c961[_0x11eb9c(0x27b)]===_0x498dae&&_0x22c961['status']!==_0x11eb9c(0x22a)),_0x4a2101=_0xd65c53['map'](_0x218491=>({'i':_0x218491['id'],'c':_0x218491[_0x11eb9c(0x206)],'s':_0x218491[_0x11eb9c(0x20a)],'e':_0x218491[_0x11eb9c(0x27a)],'st':_0x218491[_0x11eb9c(0x1ef)],'n':_0x218491[_0x11eb9c(0x324)],'sid':_0x218491[_0x11eb9c(0x2a7)]}));return{'date':_0x498dae,'day_data':_0x4a2101};});if(_0xc7ec9[_0x7b26c1(0x336)]===0x0)return;console[_0x7b26c1(0x2fa)](_0x7b26c1(0x312)+_0xc7ec9['length']+'\x20days'),await this[_0x7b26c1(0x1ea)](_0x7b26c1(0x216),{'changes':_0xc7ec9});}};async function init(){const _0x154120=a2_0x45ac07;DataManager['loadLocal'](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x154120(0x25e)](_0x154120(0x2ca))[_0x154120(0x303)]('scroll',()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']()[_0x154120(0x31f)](()=>{const _0x29f84a=_0x154120;showToast(_0x29f84a(0x2f7),!![]);})['catch'](_0x7bf27a=>{showToast('–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º',![]);});}function generateId(){const _0x55f26c=a2_0x45ac07;return Date[_0x55f26c(0x278)]()['toString'](0x24)+Math[_0x55f26c(0x276)]()[_0x55f26c(0x2c7)](0x24)[_0x55f26c(0x299)](0x2,0x5);}function toggleSeriesInput(){const _0x4e73a9=a2_0x45ac07,_0x4e1c41=document[_0x4e73a9(0x25e)](_0x4e73a9(0x286))[_0x4e73a9(0x273)],_0x5dce51=document[_0x4e73a9(0x25e)](_0x4e73a9(0x2d4));_0x5dce51['style'][_0x4e73a9(0x24b)]=_0x4e1c41?'block':_0x4e73a9(0x2ac);const _0x8f43fc=document['getElementById']('recurringOptionContainer');_0x8f43fc[_0x4e73a9(0x22c)][_0x4e73a9(0x289)]=_0x4e1c41?_0x4e73a9(0x280):'10px';}function openAddSession(_0x333921){const _0x26018b=a2_0x45ac07;editingId=null,populateClientSelect(),document['getElementById'](_0x26018b(0x27e))['textContent']=_0x26018b(0x227),document[_0x26018b(0x25e)]('btnDelete')[_0x26018b(0x22c)][_0x26018b(0x24b)]=_0x26018b(0x2ac),document[_0x26018b(0x25e)]('btnStatusToggle')['style']['display']=_0x26018b(0x2ac);const _0x34f687=document[_0x26018b(0x25e)]('recurringOptionContainer'),_0xe330ed=document[_0x26018b(0x25e)](_0x26018b(0x2d4));_0x34f687[_0x26018b(0x22c)][_0x26018b(0x24b)]=_0x26018b(0x275),_0x34f687[_0x26018b(0x22c)][_0x26018b(0x289)]=_0x26018b(0x230),document[_0x26018b(0x25e)](_0x26018b(0x286))[_0x26018b(0x273)]=![],document['getElementById'](_0x26018b(0x2e3))[_0x26018b(0x358)]=0x4,_0xe330ed[_0x26018b(0x22c)][_0x26018b(0x24b)]=_0x26018b(0x2ac),document[_0x26018b(0x25e)](_0x26018b(0x287))['value']=getLocalDateStr(_0x333921),updateDateDisplay();const _0x345aa4=_0x333921[_0x26018b(0x24a)]();document['getElementById'](_0x26018b(0x2c2))['value']=String(_0x345aa4)[_0x26018b(0x2de)](0x2,'0')+_0x26018b(0x35c),document[_0x26018b(0x25e)]('inpEnd')[_0x26018b(0x358)]=String(_0x345aa4+0x1)[_0x26018b(0x2de)](0x2,'0')+_0x26018b(0x35c),openSheet(_0x26018b(0x314));}function openEdit(_0x242b67){const _0x489ed3=a2_0x45ac07;editingId=_0x242b67['id'],populateClientSelect(),document[_0x489ed3(0x25e)](_0x489ed3(0x27e))[_0x489ed3(0x293)]=_0x489ed3(0x215),document['getElementById']('btnDelete')['style'][_0x489ed3(0x24b)]='block';const _0x44a6e0=document[_0x489ed3(0x25e)](_0x489ed3(0x2a1));_0x44a6e0['style'][_0x489ed3(0x24b)]=_0x489ed3(0x275);_0x242b67[_0x489ed3(0x1ef)]==='completed'?(_0x44a6e0[_0x489ed3(0x34c)]=_0x489ed3(0x2ea),_0x44a6e0[_0x489ed3(0x320)]=_0x489ed3(0x33d)):(_0x44a6e0[_0x489ed3(0x34c)]='btn-status-toggle',_0x44a6e0[_0x489ed3(0x320)]=_0x489ed3(0x32c));const _0x17ff0d=!!_0x242b67[_0x489ed3(0x2a7)];document[_0x489ed3(0x25e)](_0x489ed3(0x283))[_0x489ed3(0x22c)]['display']='none',document[_0x489ed3(0x25e)](_0x489ed3(0x2d4))[_0x489ed3(0x22c)][_0x489ed3(0x24b)]=_0x489ed3(0x2ac),_0x17ff0d?(document['getElementById'](_0x489ed3(0x294))[_0x489ed3(0x22c)][_0x489ed3(0x24b)]=_0x489ed3(0x275),document['getElementById']('patternInfoBox')[_0x489ed3(0x28c)](_0x489ed3(0x29c))[_0x489ed3(0x293)]=_0x489ed3(0x2aa)):document[_0x489ed3(0x25e)](_0x489ed3(0x294))[_0x489ed3(0x22c)][_0x489ed3(0x24b)]=_0x489ed3(0x2ac),document[_0x489ed3(0x25e)](_0x489ed3(0x2e7))[_0x489ed3(0x358)]=_0x242b67[_0x489ed3(0x257)],document['getElementById'](_0x489ed3(0x287))[_0x489ed3(0x358)]=_0x242b67[_0x489ed3(0x27b)],document['getElementById'](_0x489ed3(0x2c2))[_0x489ed3(0x358)]=_0x242b67[_0x489ed3(0x20a)],document[_0x489ed3(0x25e)](_0x489ed3(0x214))['value']=_0x242b67['end'],document['getElementById']('inpNote')['value']=_0x242b67[_0x489ed3(0x324)]||'',updateDateDisplay(),openSheet('sessionSheet');}async function trySaveSession(){const _0x6253e1=a2_0x45ac07,_0x16752f=document[_0x6253e1(0x25e)](_0x6253e1(0x2e7))[_0x6253e1(0x358)],_0x232d9=document[_0x6253e1(0x25e)](_0x6253e1(0x287))[_0x6253e1(0x358)],_0x537208=document[_0x6253e1(0x25e)](_0x6253e1(0x2c2))[_0x6253e1(0x358)],_0x7a985d=document['getElementById'](_0x6253e1(0x214))[_0x6253e1(0x358)],_0x37b804=document['getElementById']('inpNote')[_0x6253e1(0x358)],_0x4efaa9=document['getElementById'](_0x6253e1(0x286))[_0x6253e1(0x273)];let _0x2d6565=0x4;if(_0x4efaa9){const _0x1d309b=parseInt(document['getElementById'](_0x6253e1(0x2e3))[_0x6253e1(0x358)]);if(!_0x1d309b||_0x1d309b<0x2){showToast('–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏',![]);return;}if(_0x1d309b>0x64){showToast(_0x6253e1(0x350),![]);return;}_0x2d6565=_0x1d309b;}const _0x47dacc=clients[_0x6253e1(0x34b)](_0x5cdca4=>_0x5cdca4[_0x6253e1(0x2ce)]===_0x16752f);if(!_0x47dacc){showToast(_0x6253e1(0x30d),![]);return;}const _0x492be0=validateAppointment(_0x232d9,_0x537208,_0x7a985d,editingId,_0x47dacc['id']);if(!_0x492be0[_0x6253e1(0x2e5)]){showToast(_0x492be0['msg'],![]);return;}_0x492be0[_0x6253e1(0x2d1)]&&showToast(_0x492be0[_0x6253e1(0x2d1)],![]);const _0x331416={'client':_0x16752f,'clientId':_0x47dacc['id'],'start':_0x537208,'end':_0x7a985d,'note':_0x37b804,'status':_0x6253e1(0x1f2)},_0x5efb79=editingId?sessions[_0x6253e1(0x34b)](_0x39e17d=>_0x39e17d['id']===editingId):null;if(_0x5efb79&&_0x5efb79[_0x6253e1(0x2a7)]){tempSessionData={..._0x331416,'dateStr':_0x232d9,'id':editingId,'seriesId':_0x5efb79[_0x6253e1(0x2a7)]},openActionSheet(_0x6253e1(0x2bc));return;}let _0x2a3c9a=null;if(!editingId)_0x2a3c9a=_0x6253e1(0x1fa);else{if(_0x5efb79){if(String(_0x5efb79[_0x6253e1(0x206)])!==String(_0x47dacc['id']))console[_0x6253e1(0x2fa)](_0x6253e1(0x2d0)),NotificationManager[_0x6253e1(0x219)](_0x6253e1(0x2da),_0x5efb79),_0x2a3c9a=_0x6253e1(0x1fa);else(_0x5efb79['start']!==_0x537208||_0x5efb79['end']!==_0x7a985d||_0x5efb79[_0x6253e1(0x27b)]!==_0x232d9)&&(_0x2a3c9a=_0x6253e1(0x2f6));}}if(!editingId&&_0x4efaa9){createBatchSeries(_0x331416,_0x232d9,_0x2d6565),NotificationManager['send'](_0x6253e1(0x1fa),{..._0x331416,'dateStr':_0x232d9});return;}lastUserActionTime=Date[_0x6253e1(0x278)]();const _0x53bc05={..._0x331416,'dateStr':_0x232d9,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x53bc05),_0x2a3c9a&&NotificationManager[_0x6253e1(0x219)](_0x2a3c9a,_0x53bc05);}function toggleSessionStatus(){const _0x5b132b=a2_0x45ac07;lastUserActionTime=Date[_0x5b132b(0x278)]();const _0x18cdf2=sessions['find'](_0x2c60dd=>_0x2c60dd['id']===editingId);if(!_0x18cdf2)return;const _0xfeb795=_0x18cdf2[_0x5b132b(0x1ef)]==='completed'?'planned':_0x5b132b(0x2b2);_0x18cdf2[_0x5b132b(0x1ef)]=_0xfeb795,saveSingleSession(_0x18cdf2),_0xfeb795===_0x5b132b(0x2b2)&&NotificationManager[_0x5b132b(0x219)](_0x5b132b(0x2a5),_0x18cdf2),showToast(_0xfeb795===_0x5b132b(0x2b2)?_0x5b132b(0x348):_0x5b132b(0x256),!![]);}function validateAppointment(_0xf7b4f0,_0x27d90a,_0x9e3210,_0x514f09,_0x235c56){const _0x193347=a2_0x45ac07,[_0x3093bb,_0x4a1152]=_0x27d90a[_0x193347(0x2b0)](':')['map'](Number),[_0xf51de8,_0x372ac4]=_0x9e3210['split'](':')[_0x193347(0x2b8)](Number),_0x545654=_0x3093bb*0x3c+_0x4a1152,_0x2361d0=_0xf51de8*0x3c+_0x372ac4,_0x5e6865=String(_0x235c56);let _0x472a66=![],_0x29a920='';for(let _0xc4dc05 of sessions){if(_0xc4dc05[_0x193347(0x27b)]!==_0xf7b4f0)continue;if(_0xc4dc05[_0x193347(0x1ef)]===_0x193347(0x344))continue;if(_0x514f09&&String(_0xc4dc05['id'])===String(_0x514f09))continue;const [_0x30f691,_0x513362]=_0xc4dc05[_0x193347(0x20a)]['split'](':')[_0x193347(0x2b8)](Number),[_0x1e161b,_0x225db9]=_0xc4dc05[_0x193347(0x27a)][_0x193347(0x2b0)](':')[_0x193347(0x2b8)](Number),_0x2c906a=_0x30f691*0x3c+_0x513362,_0x238f99=_0x1e161b*0x3c+_0x225db9;if(Math['max'](_0x545654,_0x2c906a)<Math[_0x193347(0x354)](_0x2361d0,_0x238f99)){if(_0xc4dc05[_0x193347(0x206)]&&String(_0xc4dc05['clientId'])===_0x5e6865)return{'valid':![],'msg':_0x193347(0x296)+_0xc4dc05[_0x193347(0x257)]+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x472a66=!![],_0x29a920=_0xc4dc05[_0x193347(0x257)];}}if(_0x472a66)return{'valid':!![],'warning':_0x193347(0x33c)+_0x29a920};return{'valid':!![]};}function saveSingleSession(_0x71d5ff){const _0x352a1d=a2_0x45ac07;if(editingId){const _0x3c470a=sessions[_0x352a1d(0x338)](_0x4a7a19=>_0x4a7a19['id']===editingId);if(_0x3c470a!==-0x1)sessions[_0x3c470a]=_0x71d5ff;}else sessions['push'](_0x71d5ff);afterSaveAction([_0x71d5ff[_0x352a1d(0x27b)]]);}function createBatchSeries(_0x48d1f4,_0x3ac141,_0x226547){const _0x22337c=a2_0x45ac07,_0x507584=generateId(),_0x5813bc=[],_0xab9f6=[];let _0x35eab5=0x0,_0x1a0d1c=new Date(_0x3ac141);for(let _0x33cecf=0x0;_0x33cecf<_0x226547;_0x33cecf++){const _0x5415f5=getLocalDateStr(_0x1a0d1c),_0x171254=validateAppointment(_0x5415f5,_0x48d1f4[_0x22337c(0x20a)],_0x48d1f4['end'],null,_0x48d1f4[_0x22337c(0x206)]);if(!_0x171254[_0x22337c(0x2e5)])console[_0x22337c(0x2fa)]('[Series]\x20Skipped\x20'+_0x5415f5+_0x22337c(0x260)),_0x35eab5++;else{const _0x92fc78={..._0x48d1f4,'id':generateId(),'dateStr':_0x5415f5,'seriesId':_0x507584};_0xab9f6['push'](_0x92fc78),_0x5813bc[_0x22337c(0x228)](_0x5415f5);}_0x1a0d1c[_0x22337c(0x33b)](_0x1a0d1c[_0x22337c(0x2d3)]()+0x7);}if(_0xab9f6[_0x22337c(0x336)]===0x0){showToast(_0x22337c(0x295),![]);return;}sessions['push'](..._0xab9f6),lastUserActionTime=Date[_0x22337c(0x278)]();let _0x22f8ac=_0x22337c(0x305)+_0xab9f6[_0x22337c(0x336)];_0x35eab5>0x0&&(_0x22f8ac+=_0x22337c(0x2d2)+_0x35eab5+')'),showToast(_0x22f8ac,!![]),afterSaveAction(_0x5813bc);}function updateSeriesBatch(_0x3111bf,_0x47aff6){const _0x7773d=a2_0x45ac07,_0x43990b=[],_0x5af076=_0x47aff6['seriesId'];if(_0x3111bf===_0x7773d(0x250)){const _0x49cafd={..._0x47aff6,'seriesId':null},_0x238446=sessions['findIndex'](_0x5a33d6=>_0x5a33d6['id']===_0x47aff6['id']);if(_0x238446!==-0x1)sessions[_0x238446]=_0x49cafd;_0x43990b[_0x7773d(0x228)](_0x49cafd[_0x7773d(0x27b)]);}else{if(_0x3111bf==='series'){const _0xcdb799=_0x47aff6[_0x7773d(0x27b)];sessions[_0x7773d(0x30a)]((_0x49503e,_0x1aeeeb)=>{const _0x4fae74=_0x7773d;_0x49503e[_0x4fae74(0x2a7)]===_0x5af076&&_0x49503e[_0x4fae74(0x27b)]>=_0xcdb799&&(sessions[_0x1aeeeb]={...sessions[_0x1aeeeb],'start':_0x47aff6[_0x4fae74(0x20a)],'end':_0x47aff6[_0x4fae74(0x27a)],'note':_0x47aff6[_0x4fae74(0x324)],'client':_0x47aff6['client'],'clientId':_0x47aff6['clientId']},_0x43990b['push'](_0x49503e['dateStr']));});}}afterSaveAction(_0x43990b);}function tryDeleteSession(){const _0x208a4f=a2_0x45ac07,_0x174557=sessions['find'](_0x184dda=>_0x184dda['id']===editingId);if(!_0x174557)return;_0x174557[_0x208a4f(0x2a7)]?openActionSheet('delete'):commitDelete(_0x208a4f(0x250),_0x174557);}function commitDelete(_0x406c01,_0x3ee61b){const _0x2b6c65=a2_0x45ac07;lastUserActionTime=Date[_0x2b6c65(0x278)](),NotificationManager['send'](_0x2b6c65(0x2da),_0x3ee61b);const _0x2112b2=[];if(_0x406c01===_0x2b6c65(0x250))sessions=sessions[_0x2b6c65(0x23b)](_0x31f012=>_0x31f012['id']!==_0x3ee61b['id']),_0x2112b2['push'](_0x3ee61b[_0x2b6c65(0x27b)]);else{if(_0x406c01===_0x2b6c65(0x31b)){const _0xfce7c0=_0x3ee61b[_0x2b6c65(0x27b)],_0x3606e5=_0x3ee61b[_0x2b6c65(0x2a7)];sessions[_0x2b6c65(0x30a)](_0x2eb783=>{const _0x41920b=_0x2b6c65;_0x2eb783[_0x41920b(0x2a7)]===_0x3606e5&&_0x2eb783[_0x41920b(0x27b)]>=_0xfce7c0&&_0x2112b2['push'](_0x2eb783[_0x41920b(0x27b)]);}),sessions=sessions[_0x2b6c65(0x23b)](_0x110e08=>!(_0x110e08['seriesId']===_0x3606e5&&_0x110e08[_0x2b6c65(0x27b)]>=_0xfce7c0));}}afterSaveAction(_0x2112b2);}function afterSaveAction(_0x2ac5a0){const _0x20c62b=a2_0x45ac07;DataManager[_0x20c62b(0x20d)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x20c62b(0x340)](_0x2ac5a0)[_0x20c62b(0x31f)](()=>console[_0x20c62b(0x2fa)](_0x20c62b(0x239)))['catch'](_0x30c614=>showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ',![]));}const NotificationManager={'formatDate'(_0x1c5ec7){const _0x37d2ce=a2_0x45ac07,_0x21efb0=new Date(_0x1c5ec7),_0x580746={'weekday':_0x37d2ce(0x2d9),'day':'numeric','month':_0x37d2ce(0x2d9)};let _0x140a77=_0x21efb0[_0x37d2ce(0x2dc)]('ru-RU',_0x580746);return _0x140a77['charAt'](0x0)['toUpperCase']()+_0x140a77[_0x37d2ce(0x311)](0x1);},'getText'(_0x3e66a0,_0x5286fb){const _0x4d6eb5=a2_0x45ac07,_0x22b43d=this['formatDate'](_0x5286fb[_0x4d6eb5(0x27b)]);switch(_0x3e66a0){case _0x4d6eb5(0x1fa):return _0x4d6eb5(0x2e2)+(_0x4d6eb5(0x328)+_0x22b43d+'\x0a')+(_0x4d6eb5(0x225)+_0x5286fb['start']+_0x4d6eb5(0x2bd)+_0x5286fb[_0x4d6eb5(0x27a)]+'\x0a\x0a')+_0x4d6eb5(0x249);case _0x4d6eb5(0x2f6):return _0x4d6eb5(0x28d)+'–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a'+(_0x4d6eb5(0x2f2)+_0x5286fb['start']+_0x4d6eb5(0x2bd)+_0x5286fb[_0x4d6eb5(0x27a)]+_0x4d6eb5(0x2cc))+(_0x4d6eb5(0x328)+_0x22b43d);case _0x4d6eb5(0x2da):return _0x4d6eb5(0x2c8)+('–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>'+_0x22b43d+'\x20('+_0x5286fb[_0x4d6eb5(0x20a)]+')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.');case _0x4d6eb5(0x2a5):return _0x4d6eb5(0x20c)+_0x4d6eb5(0x28e)+'<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>';default:return'';}},async 'send'(_0xcb57ce,_0x4bc732){const _0x347005=a2_0x45ac07;console[_0x347005(0x2fa)](_0x347005(0x300),_0xcb57ce,_0x4bc732);if(!_0x4bc732){console[_0x347005(0x359)]('[Notify]\x20Error:\x20sessionData\x20is\x20null');return;}const _0x50b9b4=String(_0x4bc732[_0x347005(0x206)]);console[_0x347005(0x2fa)]('[Notify]\x20Detected\x20Client\x20ID:',_0x50b9b4);if(!_0x4bc732[_0x347005(0x206)]||_0x50b9b4===_0x347005(0x224)||_0x50b9b4===_0x347005(0x218)){console[_0x347005(0x359)]('[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!');if(_0x4bc732[_0x347005(0x257)]){const _0x3fb25b=clients[_0x347005(0x34b)](_0x573916=>_0x573916[_0x347005(0x2ce)]===_0x4bc732[_0x347005(0x257)]);if(_0x3fb25b)return console[_0x347005(0x2fa)]('[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:',_0x3fb25b['id']),this[_0x347005(0x219)](_0xcb57ce,{..._0x4bc732,'clientId':_0x3fb25b['id']});}return;}if(_0x50b9b4[_0x347005(0x336)]<0x5){console[_0x347005(0x28b)]('[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)',_0x50b9b4);return;}const _0x1610ea=this[_0x347005(0x281)](_0xcb57ce,_0x4bc732);if(!_0x1610ea){console[_0x347005(0x359)](_0x347005(0x319));return;}console['log'](_0x347005(0x322)+_0x50b9b4+_0x347005(0x247)),DataManager['fetchFromServer'](_0x347005(0x2a8),{'chatId':_0x50b9b4,'text':_0x1610ea})[_0x347005(0x31f)](_0x51e004=>console[_0x347005(0x2fa)]('[Notify]\x20Server\x20Response:',_0x51e004))[_0x347005(0x26d)](_0x303ec9=>console[_0x347005(0x359)](_0x347005(0x308),_0x303ec9));}};function getLocalDateStr(_0xa0a388){const _0x55782f=a2_0x45ac07,_0x45e91b=_0xa0a388[_0x55782f(0x29b)](),_0x4841f5=String(_0xa0a388[_0x55782f(0x31c)]()+0x1)[_0x55782f(0x2de)](0x2,'0'),_0x3fe5be=String(_0xa0a388[_0x55782f(0x2d3)]())['padStart'](0x2,'0');return _0x45e91b+'-'+_0x4841f5+'-'+_0x3fe5be;}function getDateStr(_0x3e0799){const _0x469d67=a2_0x45ac07,_0x417ee4=new Date();return _0x417ee4['setDate'](_0x417ee4[_0x469d67(0x2d3)]()+_0x3e0799),getLocalDateStr(_0x417ee4);}function getStartOfWeek(_0x40a5b2){const _0x40eee9=a2_0x45ac07,_0x52fa23=new Date(_0x40a5b2),_0xcf0915=_0x52fa23[_0x40eee9(0x360)](),_0x11347c=_0x52fa23['getDate']()-_0xcf0915+(_0xcf0915===0x0?-0x6:0x1);return _0x52fa23[_0x40eee9(0x33b)](_0x11347c),_0x52fa23[_0x40eee9(0x346)](0x0,0x0,0x0,0x0),_0x52fa23;}function hexToRgba(_0x31c441,_0x50148a){const _0x17d6b9=a2_0x45ac07;if(!_0x31c441)return _0x17d6b9(0x231);let _0x51f2e0=0x0,_0x54b98c=0x0,_0x19b4b6=0x0;if(_0x31c441[_0x17d6b9(0x336)]===0x4)_0x51f2e0='0x'+_0x31c441[0x1]+_0x31c441[0x1],_0x54b98c='0x'+_0x31c441[0x2]+_0x31c441[0x2],_0x19b4b6='0x'+_0x31c441[0x3]+_0x31c441[0x3];else _0x31c441['length']===0x7&&(_0x51f2e0='0x'+_0x31c441[0x1]+_0x31c441[0x2],_0x54b98c='0x'+_0x31c441[0x3]+_0x31c441[0x4],_0x19b4b6='0x'+_0x31c441[0x5]+_0x31c441[0x6]);return _0x17d6b9(0x2f1)+ +_0x51f2e0+',\x20'+ +_0x54b98c+',\x20'+ +_0x19b4b6+',\x20'+_0x50148a+')';}function renderTimeColumn(){const _0x928a03=a2_0x45ac07,_0x242bf6=document[_0x928a03(0x25e)](_0x928a03(0x307)),_0x5b20dc=document[_0x928a03(0x25e)]('timeLineBadge');_0x242bf6['innerHTML']='',_0x242bf6[_0x928a03(0x248)](_0x5b20dc);for(let _0x2a8efd=0x0;_0x2a8efd<0x18;_0x2a8efd++){const _0x28ae0c=document['createElement'](_0x928a03(0x2e9));_0x28ae0c[_0x928a03(0x34c)]=_0x928a03(0x356);if(_0x2a8efd>0x0)_0x28ae0c[_0x928a03(0x320)]='<span>'+String(_0x2a8efd)[_0x928a03(0x2de)](0x2,'0')+':00</span>';_0x242bf6[_0x928a03(0x248)](_0x28ae0c);}}function renderDayRange(_0x5ac4e1,_0x3b687a){const _0x37f015=a2_0x45ac07,_0x5d3dce=document[_0x37f015(0x25e)](_0x37f015(0x279)),_0xa7390b=document[_0x37f015(0x25e)](_0x37f015(0x21e)),_0x54c8dc=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x5f0d3d=new Date();_0x5f0d3d[_0x37f015(0x346)](0x0,0x0,0x0,0x0);const _0x338c3a=getLocalDateStr(new Date());for(let _0xdf9add=_0x5ac4e1;_0xdf9add<=_0x3b687a;_0xdf9add++){const _0x143c88=new Date(_0x5f0d3d);_0x143c88[_0x37f015(0x33b)](_0x143c88['getDate']()+_0xdf9add);const _0xcac1be=getLocalDateStr(_0x143c88);let _0x176a15=_0x143c88['getDay']()-0x1;if(_0x176a15===-0x1)_0x176a15=0x6;const _0x58a91f=_0xcac1be===_0x338c3a,_0x29d3df=document[_0x37f015(0x34e)](_0x37f015(0x2e9));_0x29d3df[_0x37f015(0x34c)]=_0x37f015(0x32d)+(_0x58a91f?_0x37f015(0x316):''),_0x29d3df['id']='header-'+_0xcac1be,_0x29d3df['setAttribute']('data-date',_0xcac1be),_0x29d3df[_0x37f015(0x320)]=_0x37f015(0x236)+_0x54c8dc[_0x176a15]+_0x37f015(0x23d)+_0x143c88[_0x37f015(0x2d3)]()+_0x37f015(0x222)+_0xcac1be+_0x37f015(0x24d),_0x29d3df[_0x37f015(0x284)]=()=>openDayOptions(_0xcac1be,_0x54c8dc[_0x176a15]+'\x20'+_0x143c88[_0x37f015(0x2d3)]()),_0x5d3dce['appendChild'](_0x29d3df);const _0x18bfc9=document[_0x37f015(0x34e)]('div');_0x18bfc9['className']=_0x37f015(0x33f)+(_0x58a91f?_0x37f015(0x316):''),_0x18bfc9[_0x37f015(0x269)](_0x37f015(0x267),_0xcac1be),_0x18bfc9[_0x37f015(0x269)](_0x37f015(0x2c1),_0x176a15),renderEventsForColumn(_0x18bfc9,_0xcac1be,_0x176a15),attachLongPressHandler(_0x18bfc9,_0x143c88),_0xa7390b[_0x37f015(0x248)](_0x18bfc9),updateDayStats(_0xcac1be);}}function reRenderBlocks(){const _0x586f86=a2_0x45ac07;document[_0x586f86(0x1f6)](_0x586f86(0x1f7))[_0x586f86(0x30a)](_0x40c5e1=>{const _0xb8734=_0x586f86;_0x40c5e1[_0xb8734(0x1f6)]('.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card')[_0xb8734(0x30a)](_0xb34716=>_0xb34716['remove']());const _0x132612=_0x40c5e1['getAttribute'](_0xb8734(0x267)),_0x1e1f04=parseInt(_0x40c5e1[_0xb8734(0x341)](_0xb8734(0x2c1))),_0x22af13=Math['round'](_0x40c5e1[_0xb8734(0x2db)]);(availabilityPattern[_0x1e1f04]||[])['forEach'](_0x560e0c=>{const _0x86ade8=_0xb8734,_0x50f4e9=document['createElement']('div');_0x50f4e9[_0x86ade8(0x34c)]=_0x86ade8(0x35f);const _0xef3c07=_0x560e0c*GRID_H;_0x50f4e9[_0x86ade8(0x22c)][_0x86ade8(0x2a6)]=_0xef3c07+'px',_0x50f4e9['style']['backgroundPosition']='-'+_0x22af13+_0x86ade8(0x2ab)+_0xef3c07+'px',_0x40c5e1[_0x86ade8(0x248)](_0x50f4e9);});if(specialRanges&&specialRanges['length']>0x0){const _0x8d5fb1=new Date(_0x132612+_0xb8734(0x237))['getTime'](),_0x298fe9=new Date(_0x132612+_0xb8734(0x21a))[_0xb8734(0x1f0)]();specialRanges['forEach'](_0x239bb4=>{const _0x49379e=_0xb8734,_0x4fbd7b=new Date(_0x239bb4[_0x49379e(0x20a)])[_0x49379e(0x1f0)](),_0x162562=new Date(_0x239bb4['end'])['getTime'](),_0xbaf66e=Math[_0x49379e(0x1fd)](_0x8d5fb1,_0x4fbd7b),_0xf2c40a=Math['min'](_0x298fe9,_0x162562);if(_0xbaf66e<_0xf2c40a){if(_0xbaf66e<=_0x8d5fb1&&_0xf2c40a>=_0x298fe9-0xea60){if(!_0x40c5e1[_0x49379e(0x28c)](_0x49379e(0x31d))){const _0x4a36b5=document[_0x49379e(0x34e)](_0x49379e(0x2e9));_0x4a36b5['className']=_0x49379e(0x2a0),_0x4a36b5[_0x49379e(0x22c)][_0x49379e(0x33a)]='-'+_0x22af13+_0x49379e(0x1e7),_0x40c5e1[_0x49379e(0x248)](_0x4a36b5);}}else{const _0x44f2b6=(_0xbaf66e-_0x8d5fb1)/0x36ee80*GRID_H,_0x5d5ee4=(_0xf2c40a-_0xbaf66e)/0x36ee80*GRID_H,_0x3279e2=document[_0x49379e(0x34e)](_0x49379e(0x2e9));_0x3279e2[_0x49379e(0x34c)]=_0x49379e(0x20b),_0x3279e2['style']['top']=_0x44f2b6+'px',_0x3279e2[_0x49379e(0x22c)]['height']=_0x5d5ee4+'px',_0x3279e2[_0x49379e(0x22c)]['backgroundPosition']='-'+_0x22af13+_0x49379e(0x2ab)+_0x44f2b6+'px',_0x40c5e1[_0x49379e(0x248)](_0x3279e2);}}});}if(dateExceptions[_0x132612]===_0xb8734(0x1ec)){if(!_0x40c5e1[_0xb8734(0x28c)](_0xb8734(0x31d))){const _0x43fba3=document[_0xb8734(0x34e)](_0xb8734(0x2e9));_0x43fba3['className']=_0xb8734(0x2a0),_0x43fba3['style'][_0xb8734(0x33a)]='-'+_0x22af13+_0xb8734(0x1e7),_0x40c5e1[_0xb8734(0x248)](_0x43fba3);}}renderEventsForColumn(_0x40c5e1,_0x132612,_0x1e1f04),updateDayStats(_0x132612);});}function updateAllDayStats(){const _0x1922b1=a2_0x45ac07;document[_0x1922b1(0x1f6)](_0x1922b1(0x352))[_0x1922b1(0x30a)](_0x526761=>{updateDayStats(_0x526761['getAttribute']('data-date'));});}function updateDayStats(_0x305d9e){const _0x909a57=a2_0x45ac07,_0x2af206=document[_0x909a57(0x25e)](_0x909a57(0x23f)+_0x305d9e);if(!_0x2af206)return;const _0x2cad80=new Date(_0x305d9e);let _0x1457ef=_0x2cad80[_0x909a57(0x360)]()-0x1;if(_0x1457ef===-0x1)_0x1457ef=0x6;if(dateExceptions[_0x305d9e]===_0x909a57(0x1ec)){_0x2af206[_0x909a57(0x22c)][_0x909a57(0x24b)]=_0x909a57(0x2ac);return;}const _0x87b790=availabilityPattern[_0x1457ef]||[],_0x277c2b=0x18-_0x87b790['length'],_0x52d18e=_0x277c2b*0x3c,_0x543a17=sessions['filter'](_0x3642b7=>_0x3642b7['dateStr']===_0x305d9e&&_0x3642b7[_0x909a57(0x1ef)]!=='cancelled');if(_0x543a17['length']===0x0){_0x2af206[_0x909a57(0x22c)][_0x909a57(0x24b)]=_0x909a57(0x2ac);return;}let _0x5b3619=_0x543a17[_0x909a57(0x2b8)](_0x1d2831=>{const _0xd05aac=_0x909a57,[_0x533043,_0x413bb8]=_0x1d2831[_0xd05aac(0x20a)][_0xd05aac(0x2b0)](':')[_0xd05aac(0x2b8)](Number),[_0x5934c3,_0xd4dec4]=_0x1d2831[_0xd05aac(0x27a)][_0xd05aac(0x2b0)](':')[_0xd05aac(0x2b8)](Number);return[_0x533043*0x3c+_0x413bb8,_0x5934c3*0x3c+_0xd4dec4];});_0x5b3619['sort']((_0x69a75c,_0x2d4104)=>_0x69a75c[0x0]-_0x2d4104[0x0]);let _0x33df9a=[];if(_0x5b3619['length']>0x0){let _0x1b379c=_0x5b3619[0x0];for(let _0x3c9d9d=0x1;_0x3c9d9d<_0x5b3619['length'];_0x3c9d9d++){_0x5b3619[_0x3c9d9d][0x0]<_0x1b379c[0x1]?_0x1b379c[0x1]=Math[_0x909a57(0x1fd)](_0x1b379c[0x1],_0x5b3619[_0x3c9d9d][0x1]):(_0x33df9a[_0x909a57(0x228)](_0x1b379c),_0x1b379c=_0x5b3619[_0x3c9d9d]);}_0x33df9a[_0x909a57(0x228)](_0x1b379c);}let _0x2ee128=0x0;_0x33df9a[_0x909a57(0x30a)](_0x20f6c7=>_0x2ee128+=_0x20f6c7[0x1]-_0x20f6c7[0x0]),_0x2af206['style'][_0x909a57(0x24b)]=_0x909a57(0x275);const _0x13ea2e=_0x2af206[_0x909a57(0x28c)](_0x909a57(0x1e6));if(_0x52d18e===0x0){_0x13ea2e[_0x909a57(0x22c)][_0x909a57(0x33e)]=_0x909a57(0x24f),_0x13ea2e[_0x909a57(0x22c)][_0x909a57(0x2e0)]=_0x909a57(0x282);return;}const _0x1d06b1=_0x2ee128/_0x52d18e*0x64;console['log']('['+_0x305d9e+']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20'+_0x277c2b+_0x909a57(0x277)+_0x2ee128+'–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20'+_0x1d06b1[_0x909a57(0x20e)](0x1)+'%'),_0x1d06b1>0x64?(_0x13ea2e[_0x909a57(0x22c)][_0x909a57(0x33e)]=_0x909a57(0x24f),_0x13ea2e[_0x909a57(0x22c)]['background']='var(--acc-red)'):(_0x13ea2e[_0x909a57(0x22c)][_0x909a57(0x33e)]=_0x1d06b1+'%',_0x13ea2e[_0x909a57(0x22c)][_0x909a57(0x2e0)]=_0x909a57(0x235));}function renderEventsForColumn(_0x160739,_0x27099d,_0x46cf1){const _0x2dfaae=a2_0x45ac07,_0x2b4a2e=sessions[_0x2dfaae(0x23b)](_0x15d76a=>_0x15d76a[_0x2dfaae(0x27b)]===_0x27099d),_0x1041b4=_0x2b4a2e[_0x2dfaae(0x2b8)](_0x25e0e2=>{const _0x4f5737=_0x2dfaae,[_0x5d2369,_0x11f99e]=_0x25e0e2['start'][_0x4f5737(0x2b0)](':')['map'](Number),[_0x2b3d34,_0x3d1c0e]=_0x25e0e2['end'][_0x4f5737(0x2b0)](':')[_0x4f5737(0x2b8)](Number);return{'data':_0x25e0e2,'start':_0x5d2369*0x3c+_0x11f99e,'end':_0x2b3d34*0x3c+_0x3d1c0e,'colIndex':0x0};});_0x1041b4['sort']((_0x2e999a,_0x3ed467)=>{const _0x52a645=_0x2dfaae;if(_0x2e999a[_0x52a645(0x20a)]!==_0x3ed467[_0x52a645(0x20a)])return _0x2e999a['start']-_0x3ed467['start'];return _0x3ed467[_0x52a645(0x27a)]-_0x3ed467['start']-(_0x2e999a[_0x52a645(0x27a)]-_0x2e999a[_0x52a645(0x20a)]);});const _0x34816b=[];_0x1041b4[_0x2dfaae(0x30a)](_0x1ec113=>{const _0xd62707=_0x2dfaae;let _0x134cbb=![];for(let _0x5a60cb=0x0;_0x5a60cb<_0x34816b[_0xd62707(0x336)];_0x5a60cb++){const _0x5a5615=_0x34816b[_0x5a60cb],_0x2a0b41=_0x5a5615[_0x5a5615[_0xd62707(0x336)]-0x1];if(_0x1ec113[_0xd62707(0x20a)]>=_0x2a0b41[_0xd62707(0x27a)]){_0x5a5615[_0xd62707(0x228)](_0x1ec113),_0x1ec113['colIndex']=_0x5a60cb,_0x134cbb=!![];break;}}!_0x134cbb&&(_0x34816b['push']([_0x1ec113]),_0x1ec113['colIndex']=_0x34816b['length']-0x1);}),_0x1041b4['forEach'](_0x3f982d=>{const _0x31ef3c=_0x2dfaae;let _0x364c7c=0x0;_0x1041b4[_0x31ef3c(0x30a)](_0x55df2a=>{const _0x4d42dc=_0x31ef3c;if(Math[_0x4d42dc(0x1fd)](_0x3f982d[_0x4d42dc(0x20a)],_0x55df2a[_0x4d42dc(0x20a)])<Math['min'](_0x3f982d['end'],_0x55df2a[_0x4d42dc(0x27a)])){if(_0x55df2a[_0x4d42dc(0x2f3)]>_0x364c7c)_0x364c7c=_0x55df2a[_0x4d42dc(0x2f3)];}});const _0x1051f0=_0x364c7c+0x1,_0x54754c=0x64/_0x1051f0,_0x8d32c6=_0x3f982d[_0x31ef3c(0x2f3)]*_0x54754c,_0x45f27d=createEventEl(_0x3f982d['data']);_0x45f27d[_0x31ef3c(0x22c)][_0x31ef3c(0x33e)]='calc('+_0x54754c+_0x31ef3c(0x30b),_0x45f27d[_0x31ef3c(0x22c)][_0x31ef3c(0x301)]=_0x31ef3c(0x1eb)+_0x8d32c6+_0x31ef3c(0x254),_0x45f27d[_0x31ef3c(0x22c)][_0x31ef3c(0x2ae)]=0xa+_0x3f982d[_0x31ef3c(0x2f3)],_0x54754c<0x55&&_0x45f27d[_0x31ef3c(0x2bb)][_0x31ef3c(0x2f4)](_0x31ef3c(0x334)),_0x160739['appendChild'](_0x45f27d);});}function createEventEl(_0x145736){const _0xc40d2=a2_0x45ac07,[_0x517778,_0x34fbc8]=_0x145736['start'][_0xc40d2(0x2b0)](':')[_0xc40d2(0x2b8)](Number),[_0x2893c7,_0x59083c]=_0x145736[_0xc40d2(0x27a)][_0xc40d2(0x2b0)](':')[_0xc40d2(0x2b8)](Number),_0x4ac68c=(_0x517778*0x3c+_0x34fbc8)/0x3c*GRID_H,_0x2e1671=(_0x2893c7*0x3c+_0x59083c-(_0x517778*0x3c+_0x34fbc8))/0x3c*GRID_H,_0x401aea=document[_0xc40d2(0x34e)]('div'),_0x3ba18a=_0x145736[_0xc40d2(0x1ef)]===_0xc40d2(0x2b2)?_0xc40d2(0x2ee):'';_0x401aea[_0xc40d2(0x34c)]=_0xc40d2(0x21f)+_0x3ba18a,_0x401aea[_0xc40d2(0x22c)]['top']=_0x4ac68c+'px',_0x401aea[_0xc40d2(0x22c)][_0xc40d2(0x238)]=Math[_0xc40d2(0x1fd)](_0x2e1671,0x14)+'px';const _0x34d3cb=clients[_0xc40d2(0x34b)](_0x40d11b=>_0x145736['clientId']&&String(_0x40d11b['id'])===String(_0x145736[_0xc40d2(0x206)])||_0x40d11b[_0xc40d2(0x2ce)]===_0x145736[_0xc40d2(0x257)]),_0x1abf0e=_0x34d3cb?_0x34d3cb[_0xc40d2(0x2e8)]:_0xc40d2(0x2e4);_0x401aea[_0xc40d2(0x22c)][_0xc40d2(0x2ba)]=_0x1abf0e,_0x401aea[_0xc40d2(0x22c)][_0xc40d2(0x252)]=hexToRgba(_0x1abf0e,0.85);let _0x26d867='<div\x20class=\x22ev-title\x22>'+_0x145736[_0xc40d2(0x257)]+_0xc40d2(0x245)+_0x145736[_0xc40d2(0x20a)]+_0xc40d2(0x298)+_0x145736[_0xc40d2(0x27a)]+_0xc40d2(0x22e);return _0x145736[_0xc40d2(0x2a7)]&&(_0x26d867+='<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>'),_0x145736[_0xc40d2(0x1ef)]===_0xc40d2(0x2b2)&&(_0x26d867+=_0xc40d2(0x349)),_0x401aea[_0xc40d2(0x320)]=_0x26d867,_0x401aea[_0xc40d2(0x284)]=_0x473e50=>{const _0x207fd4=_0xc40d2;_0x473e50[_0x207fd4(0x2b3)](),openEdit(_0x145736);},_0x401aea;}function attachLongPressHandler(_0x9b004b,_0xae1a9){const _0x5608e=a2_0x45ac07;let _0x25cfe4=0x0,_0xe73550=null;const _0x475547=_0x843720=>{const _0x7c87c9=a2_0x2785;if(_0x843720[_0x7c87c9(0x333)][_0x7c87c9(0x2c9)](_0x7c87c9(0x262)))return;isScrolling=![],_0x25cfe4=_0x843720[_0x7c87c9(0x353)]?_0x843720[_0x7c87c9(0x353)][0x0]['clientY']:_0x843720[_0x7c87c9(0x220)],_0xe73550=setTimeout(()=>{const _0x205b8e=_0x7c87c9;if(!isScrolling){navigator[_0x205b8e(0x226)]?.(0x32);const _0x177147=_0x9b004b['getBoundingClientRect'](),_0x427901=Math['floor']((_0x25cfe4-_0x177147[_0x205b8e(0x2a6)])/GRID_H);_0xae1a9[_0x205b8e(0x346)](_0x427901,0x0),openAddSession(_0xae1a9);}},0x1f4);},_0x3de484=()=>{isScrolling=!![],clearTimeout(_0xe73550);},_0x1b396c=()=>{clearTimeout(_0xe73550);};_0x9b004b[_0x5608e(0x303)](_0x5608e(0x29e),_0x475547,{'passive':!![]}),_0x9b004b[_0x5608e(0x303)]('touchmove',_0x3de484,{'passive':!![]}),_0x9b004b[_0x5608e(0x303)](_0x5608e(0x290),_0x1b396c),_0x9b004b[_0x5608e(0x303)](_0x5608e(0x221),_0x475547),_0x9b004b[_0x5608e(0x303)](_0x5608e(0x29d),_0x3de484),_0x9b004b[_0x5608e(0x303)](_0x5608e(0x326),_0x1b396c);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x47e1a0=a2_0x45ac07,_0x59e1c5=document[_0x47e1a0(0x25e)](_0x47e1a0(0x2ca)),_0x5bd599=_0x59e1c5[_0x47e1a0(0x209)],_0x221680=_0x59e1c5['scrollWidth'],_0x179143=_0x59e1c5[_0x47e1a0(0x32e)];if(_0x221680-(_0x5bd599+_0x179143)<0x12c){const _0x50b9fd=endOffset;endOffset+=0xe,renderDayRange(_0x50b9fd+0x1,endOffset),reRenderBlocks();}if(_0x5bd599<0x12c){const _0x210983=startOffset;startOffset-=0xe,prependDays(startOffset,_0x210983-0x1),_0x59e1c5[_0x47e1a0(0x209)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x4e90a6,_0xae4769){const _0x113ca6=a2_0x45ac07,_0x5e5370=document['getElementById'](_0x113ca6(0x279)),_0x2c28f9=document['getElementById']('gridColumns'),_0x338666=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x56f037=new Date();_0x56f037[_0x113ca6(0x346)](0x0,0x0,0x0,0x0);const _0x29d065=getLocalDateStr(new Date()),_0x55d6e2=document[_0x113ca6(0x1f5)](),_0x2b9ef8=document['createDocumentFragment']();for(let _0x5dda11=_0x4e90a6;_0x5dda11<=_0xae4769;_0x5dda11++){const _0x4b7258=new Date(_0x56f037);_0x4b7258[_0x113ca6(0x33b)](_0x4b7258[_0x113ca6(0x2d3)]()+_0x5dda11);const _0x2ba64c=getLocalDateStr(_0x4b7258);let _0x15e79f=_0x4b7258[_0x113ca6(0x360)]()-0x1;if(_0x15e79f===-0x1)_0x15e79f=0x6;const _0x428998=_0x2ba64c===_0x29d065,_0x1825ae=document[_0x113ca6(0x34e)](_0x113ca6(0x2e9));_0x1825ae[_0x113ca6(0x34c)]=_0x113ca6(0x32d)+(_0x428998?_0x113ca6(0x316):''),_0x1825ae['id']='header-'+_0x2ba64c,_0x1825ae[_0x113ca6(0x269)]('data-date',_0x2ba64c),_0x1825ae[_0x113ca6(0x320)]=_0x113ca6(0x236)+_0x338666[_0x15e79f]+_0x113ca6(0x23d)+_0x4b7258['getDate']()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0x2ba64c+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x1825ae[_0x113ca6(0x284)]=()=>openDayOptions(_0x2ba64c,_0x338666[_0x15e79f]+'\x20'+_0x4b7258['getDate']()),_0x55d6e2[_0x113ca6(0x248)](_0x1825ae);const _0x303d03=document['createElement'](_0x113ca6(0x2e9));_0x303d03[_0x113ca6(0x34c)]='day-column\x20'+(_0x428998?_0x113ca6(0x316):''),_0x303d03[_0x113ca6(0x269)](_0x113ca6(0x267),_0x2ba64c),_0x303d03['setAttribute'](_0x113ca6(0x2c1),_0x15e79f),renderEventsForColumn(_0x303d03,_0x2ba64c,_0x15e79f),attachLongPressHandler(_0x303d03,_0x4b7258),_0x2b9ef8[_0x113ca6(0x248)](_0x303d03),updateDayStats(_0x2ba64c);}_0x5e5370['insertBefore'](_0x55d6e2,_0x5e5370[_0x113ca6(0x310)]),_0x2c28f9[_0x113ca6(0x205)](_0x2b9ef8,_0x2c28f9['querySelector'](_0x113ca6(0x35e)));}function validateAppointment(_0x9fef72,_0x27d13c,_0x241e24,_0x4ae240,_0x13169e){const _0x4b5fd1=a2_0x45ac07,[_0x3ac9c4,_0x345b47]=_0x27d13c[_0x4b5fd1(0x2b0)](':')[_0x4b5fd1(0x2b8)](Number),[_0x3be686,_0xc6b10e]=_0x241e24['split'](':')[_0x4b5fd1(0x2b8)](Number),_0x365d62=_0x3ac9c4*0x3c+_0x345b47,_0xf1d9d0=_0x3be686*0x3c+_0xc6b10e,_0x50db93=String(_0x13169e);let _0x5c76a7=![],_0x35b34c='';for(let _0xf0e1f6 of sessions){if(_0xf0e1f6['dateStr']!==_0x9fef72)continue;if(_0xf0e1f6[_0x4b5fd1(0x1ef)]==='cancelled')continue;if(_0x4ae240&&String(_0xf0e1f6['id'])===String(_0x4ae240))continue;const [_0x26c0b5,_0x1da56e]=_0xf0e1f6['start'][_0x4b5fd1(0x2b0)](':')[_0x4b5fd1(0x2b8)](Number),[_0x46ad13,_0x4470d7]=_0xf0e1f6[_0x4b5fd1(0x27a)][_0x4b5fd1(0x2b0)](':')[_0x4b5fd1(0x2b8)](Number),_0x41b3a2=_0x26c0b5*0x3c+_0x1da56e,_0xeaf11b=_0x46ad13*0x3c+_0x4470d7;if(Math[_0x4b5fd1(0x1fd)](_0x365d62,_0x41b3a2)<Math[_0x4b5fd1(0x354)](_0xf1d9d0,_0xeaf11b)){if(_0xf0e1f6[_0x4b5fd1(0x206)]&&String(_0xf0e1f6['clientId'])===_0x50db93)return{'valid':![],'msg':_0x4b5fd1(0x296)+_0xf0e1f6['client']+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x5c76a7=!![],_0x35b34c=_0xf0e1f6[_0x4b5fd1(0x257)];}}if(_0x5c76a7)return{'valid':!![],'warning':_0x4b5fd1(0x33c)+_0x35b34c};return{'valid':!![]};}function updateDateDisplay(){const _0x57e5c2=a2_0x45ac07,_0xd253a1=document[_0x57e5c2(0x25e)](_0x57e5c2(0x287))[_0x57e5c2(0x358)],_0x68c721=document['getElementById'](_0x57e5c2(0x210));if(!_0xd253a1){_0x68c721[_0x57e5c2(0x293)]='';return;}const [_0x2f2ba7,_0x299098,_0x16b47d]=_0xd253a1[_0x57e5c2(0x2b0)]('-')[_0x57e5c2(0x2b8)](Number),_0x4005e1=new Date(_0x2f2ba7,_0x299098-0x1,_0x16b47d),_0x1684e0={'weekday':_0x57e5c2(0x2d9),'day':_0x57e5c2(0x271),'month':_0x57e5c2(0x2d9),'year':_0x57e5c2(0x271)};let _0x46ce98=_0x4005e1[_0x57e5c2(0x2dc)](_0x57e5c2(0x309),_0x1684e0);_0x46ce98=_0x46ce98[_0x57e5c2(0x2c4)](0x0)[_0x57e5c2(0x2b1)]()+_0x46ce98[_0x57e5c2(0x311)](0x1),_0x68c721[_0x57e5c2(0x293)]=_0x46ce98;}function autoSetEndTime(){const _0x320af1=a2_0x45ac07,_0x51a34f=document['getElementById'](_0x320af1(0x2c2))[_0x320af1(0x358)];if(!_0x51a34f)return;const [_0x4a3016,_0x5aecd2]=_0x51a34f[_0x320af1(0x2b0)](':')['map'](Number);let _0x187ce6=_0x4a3016+0x1;if(_0x187ce6>0x17)_0x187ce6=0x0;const _0xc561c6=String(_0x187ce6)[_0x320af1(0x2de)](0x2,'0')+':'+String(_0x5aecd2)[_0x320af1(0x2de)](0x2,'0');document[_0x320af1(0x25e)](_0x320af1(0x214))[_0x320af1(0x358)]=_0xc561c6;}function populateClientSelect(){const _0x31a6db=a2_0x45ac07,_0x43b530=document[_0x31a6db(0x25e)]('inpClient');_0x43b530[_0x31a6db(0x320)]='';if(clients[_0x31a6db(0x336)]===0x0){const _0x2535ae=document['createElement'](_0x31a6db(0x343));_0x2535ae['text']=_0x31a6db(0x25d),_0x43b530['appendChild'](_0x2535ae);return;}clients[_0x31a6db(0x30a)](_0x272181=>{const _0x4b17c1=_0x31a6db,_0x400f87=document[_0x4b17c1(0x34e)](_0x4b17c1(0x343));_0x400f87[_0x4b17c1(0x358)]=_0x272181[_0x4b17c1(0x2ce)],_0x400f87[_0x4b17c1(0x293)]=_0x272181[_0x4b17c1(0x2ce)],_0x43b530[_0x4b17c1(0x248)](_0x400f87);});}function openActionSheet(_0x5dc8d6){const _0x2def7d=a2_0x45ac07,_0x39b920=document[_0x2def7d(0x25e)](_0x2def7d(0x212)),_0x536c39=document['getElementById']('actionSheetOverlay'),_0x47665c=document[_0x2def7d(0x25e)](_0x2def7d(0x25b)),_0x5978d3=document[_0x2def7d(0x25e)](_0x2def7d(0x2fd)),_0x543606=document[_0x2def7d(0x25e)](_0x2def7d(0x22b));_0x536c39[_0x2def7d(0x2bb)]['add']('active'),_0x39b920['classList'][_0x2def7d(0x2f4)]('open');if(_0x5dc8d6===_0x2def7d(0x2bc))_0x47665c['textContent']='–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏',_0x5978d3['textContent']=_0x2def7d(0x337),_0x5978d3[_0x2def7d(0x284)]=()=>{closeActionSheet(),updateSeriesBatch('single',tempSessionData);},_0x543606[_0x2def7d(0x293)]=_0x2def7d(0x242),_0x543606['onclick']=()=>{const _0x43a98e=_0x2def7d;closeActionSheet(),updateSeriesBatch(_0x43a98e(0x31b),tempSessionData);};else _0x5dc8d6==='delete'&&(_0x47665c[_0x2def7d(0x293)]=_0x2def7d(0x2c6),_0x5978d3['textContent']=_0x2def7d(0x337),_0x5978d3[_0x2def7d(0x34c)]=_0x2def7d(0x31a),_0x5978d3[_0x2def7d(0x284)]=()=>{const _0xc6de6c=_0x2def7d;closeActionSheet(),commitDelete(_0xc6de6c(0x250),sessions['find'](_0x42f0b0=>_0x42f0b0['id']===editingId));},_0x543606[_0x2def7d(0x293)]='–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ',_0x543606[_0x2def7d(0x34c)]=_0x2def7d(0x23a),_0x543606[_0x2def7d(0x284)]=()=>{const _0x1abc87=_0x2def7d;closeActionSheet(),commitDelete(_0x1abc87(0x31b),sessions[_0x1abc87(0x34b)](_0x4da073=>_0x4da073['id']===editingId));});}function closeActionSheet(){const _0x16d77e=a2_0x45ac07;document[_0x16d77e(0x25e)](_0x16d77e(0x212))[_0x16d77e(0x2bb)][_0x16d77e(0x285)]('open'),document['getElementById'](_0x16d77e(0x318))[_0x16d77e(0x2bb)][_0x16d77e(0x285)](_0x16d77e(0x313));}function openSettings(){const _0x50b548=a2_0x45ac07;openSheet(_0x50b548(0x23e));}function saveCoachSettings(){const _0x27bfbe=a2_0x45ac07,_0x1e25cf=document['getElementById']('settingCancelWindow')['value'];localStorage['setItem'](_0x27bfbe(0x2ad),_0x1e25cf),console['log']('[Settings]\x20Cancel\x20window\x20set\x20to:',_0x1e25cf),DataManager['fetchFromServer'](_0x27bfbe(0x330),{'settings':{'cancel_window':_0x1e25cf}})[_0x27bfbe(0x26d)](_0x323eee=>{const _0x3d7123=_0x27bfbe;console[_0x3d7123(0x359)](_0x3d7123(0x2a9),_0x323eee),showToast(_0x3d7123(0x204),![]);});}function loadCoachSettings(){const _0x1b386a=a2_0x45ac07,_0x55b896=localStorage['getItem'](_0x1b386a(0x2ad));_0x55b896&&(document[_0x1b386a(0x25e)](_0x1b386a(0x2c3))['value']=_0x55b896);}function openRangesSheet(){const _0x3671f6=a2_0x45ac07;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x3671f6(0x26a));}function a2_0x254e(){const _0x56c9cc=['sheetDateSubtitle','1700830IJtKyr','actionSheet','overlay','inpEnd','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','batch_sync','pe-time-label','null','send','T23:59:59','anStart','setMonth','all','gridColumns','event-card','clientY','mousedown','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','done','undefined','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','vibrate','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','push','rangeStartDate','deleted','asBtnSeries','style','header-','</div>','month','10px','rgba(100,100,100,0.5)','setItem','total','DOMContentLoaded','var(--acc-current)','<div\x20class=\x22dch-day\x22>','T00:00:00','height','Batch\x20Sync\x20OK','as-button\x20danger\x20bold','filter','pe-corner','</div><div\x20class=\x22dch-num\x22>','settingsSheet','stat-','toLocaleString','doEventsList','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','WebApp','2betBoB','</div><div\x20class=\x22ev-time\x22>','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','...','appendChild','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','getHours','display','rgba(255,255,255,0.05)','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','pattern','100%','single','anCustomDates','backgroundColor','localeCompare','%\x20+\x202px)','router.html','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','client','onClick','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','asTitle','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','getElementById','setHeaderColor',':\x20Client\x20already\x20booked','uc_sessions_v9','.event-card','expand','open','POST','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','data-date','toastMessage','setAttribute','rangesSheet','14uUqXzH','search','catch','rangesList','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','show','numeric','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','checked','doBusyHours','flex','random','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','now','daysHeaderTrack','end','dateStr','indexOf','exceptions','sheetTitle','Local\x20Load\x20Error','10px\x2010px\x200\x200','getText','var(--acc-red)','recurringOptionContainer','onclick','remove','inpRecurring','inpDate','doWorkHours','borderRadius','dayOptionsSheet','warn','querySelector','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','#fff','touchend','toast','clients','textContent','patternInfoBox','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','entries','\x20-\x20','substr','stringify','getFullYear','.pib-text','mousemove','touchstart','splice','day-off-overlay\x20stripe-bg','btnStatusToggle','timeLineBadge','ranges','custom','complete','top','seriesId','send_notification','Save\x20settings\x20error:','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','px\x20-','none','uc_settings_cancel_window','zIndex','doDateHeader','split','toUpperCase','completed','stopPropagation','block','sort','–£—Å–ø–µ—à–Ω–æ','keys','map','v9.0-BATCH-CALENDAR','borderLeftColor','classList','save','\x20‚Äî\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','\x20–∏–∑\x20','setBackgroundColor','data-day-idx','inpStart','settingCancelWindow','charAt','from','–£–¥–∞–ª–µ–Ω–∏–µ','toString','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','closest','matrixViewport','week','</b>\x0a\x0a','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','name','27228TdAISL','[Notify]\x20Client\x20SWAP\x20detected','warning','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','getDate','seriesCountContainer','uc_settings_v9','.sheet','.period-switch\x20.p-btn','statLoadCard','long','cancel','offsetLeft','toLocaleDateString','rgba(255,\x2069,\x2058,\x200.15)','padStart','dayOptionsTitle','background','Unknown','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','inpSeriesCount','#0a84ff','valid','btnDayToggle','inpClient','color','div','btn-status-toggle\x20undo-mode','Error\x20setting\x20back\x20button:','var(--acc-green)','BackButton','\x20status-completed','ready','offsetWidth','rgba(','<b>‚úÖ\x20','colIndex','add','anPercent','update','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','text/plain;charset=UTF-8','strokeDashoffset','log','getMinutes','cancel_window','asBtnOne','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','[Notify]\x20Attempting\x20to\x20send:','left','round','addEventListener','[Sync]\x20Loading\x20','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','(((.+)+)+)+$','timeColumn','[Notify]\x20Network\x20Failed','ru-RU','forEach','%\x20-\x204px)','[API\x20','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','uc_clients_v9','rangeEndDate','firstChild','slice','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','active','sessionSheet','initDataUnsafe','today','rangeEndTime','actionSheetOverlay','[Notify]\x20Error:\x20Text\x20generation\x20failed','as-button\x20danger','series','getMonth','.day-off-overlay','borderColor','then','innerHTML','disableVerticalSwipes','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','#050505','note',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','mouseup','constructor','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','success','00:00','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','day-col-header\x20','clientWidth','–ò–Ω—Ñ–æ','save_settings','900132xTUChh','mergeServerData','target','mini','2429865RhzwaK','length','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','findIndex','includes','backgroundPosition','setDate','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','width','day-column\x20','syncBatch','getAttribute','19944JTPeAm','option','cancelled','user','setHours','Critical\x20TMA\x20Error:','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','23:59','find','className','patternEditor','createElement',']\x20Failed:','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','btn-primary\x20btn-secondary','.day-col-header','touches','min','calendar','time-label','range-item','value','error','json','4DjNBTX',':00','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','.day-column','blocked-slot\x20stripe-bg','getDay','.dch-stats-fill','px\x200px','parse','1216lgyBQx','fetchFromServer','calc(','off','1229740SpooKx','apply','status','getTime','rangeStartTime','planned','analyticsSheet','client-stat-card','createDocumentFragment','querySelectorAll','#gridColumns\x20.day-column','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','settings','create','scrollTop','getItem','max','rgba(255,\x20159,\x2010,\x200.3)','pe-cell\x20','anEnd','3883WwilIH','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','Telegram','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','insertBefore','clientId','analyticsList','830741msnxjy','scrollLeft','start','blocked-range-part\x20stripe-bg','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','saveLocally','toFixed','doLoadPercent'];a2_0x254e=function(){return _0x56c9cc;};return a2_0x254e();}function addRange(){const _0x95daff=a2_0x45ac07,_0x14902e=document[_0x95daff(0x25e)](_0x95daff(0x229))['value'],_0xd8a382=document[_0x95daff(0x25e)](_0x95daff(0x1f1))[_0x95daff(0x358)],_0x602bd1=document['getElementById'](_0x95daff(0x30f))[_0x95daff(0x358)],_0x148a7b=document[_0x95daff(0x25e)](_0x95daff(0x317))[_0x95daff(0x358)];if(!_0x14902e||!_0xd8a382||!_0x602bd1||!_0x148a7b)return alert(_0x95daff(0x246));const _0x14a9b1=_0x14902e+'T'+_0xd8a382,_0x4d5636=_0x602bd1+'T'+_0x148a7b;if(_0x14a9b1>=_0x4d5636)return alert('–û—à–∏–±–∫–∞\x20–¥–∞—Ç');specialRanges[_0x95daff(0x228)]({'start':_0x14a9b1,'end':_0x4d5636}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager['fetchFromServer']('save_settings',{'settings':{'ranges':specialRanges}});}function deleteRange(_0x58e2bd){const _0x450cad=a2_0x45ac07;specialRanges[_0x450cad(0x29f)](_0x58e2bd,0x1),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x450cad(0x1ea)](_0x450cad(0x330),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x178614=a2_0x45ac07;document[_0x178614(0x25e)]('rangeStartDate')[_0x178614(0x358)]='',document[_0x178614(0x25e)](_0x178614(0x1f1))[_0x178614(0x358)]=_0x178614(0x32b),document['getElementById']('rangeEndDate')[_0x178614(0x358)]='',document[_0x178614(0x25e)]('rangeEndTime')[_0x178614(0x358)]=_0x178614(0x34a);}function renderRangesList(){const _0xd57068=a2_0x45ac07,_0x26f69c=document['getElementById'](_0xd57068(0x26e));_0x26f69c['innerHTML']='';if(!specialRanges['length']){_0x26f69c[_0xd57068(0x320)]='<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>';return;}specialRanges['forEach']((_0x2a38ec,_0x19dddb)=>{const _0x33ec83=_0xd57068,_0x438af0=document['createElement']('div');_0x438af0['className']=_0x33ec83(0x357);const _0xd1f3c9=_0x387a53=>{const _0x45e823=_0x33ec83,_0x373d4f=new Date(_0x387a53);return _0x373d4f[_0x45e823(0x2d3)]()+'.'+String(_0x373d4f['getMonth']()+0x1)[_0x45e823(0x2de)](0x2,'0')+'\x20'+String(_0x373d4f['getHours']())[_0x45e823(0x2de)](0x2,'0')+':'+String(_0x373d4f[_0x45e823(0x2fb)]())[_0x45e823(0x2de)](0x2,'0');};_0x438af0['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>'+_0xd1f3c9(_0x2a38ec[_0x33ec83(0x20a)])+_0x33ec83(0x2bd)+_0xd1f3c9(_0x2a38ec[_0x33ec83(0x27a)])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange('+_0x19dddb+_0x33ec83(0x325),_0x26f69c[_0x33ec83(0x248)](_0x438af0);});}function scrollToToday(){const _0x5c76fa=a2_0x45ac07,_0x1cf53c=getLocalDateStr(new Date()),_0x219746=document['getElementById'](_0x5c76fa(0x22d)+_0x1cf53c),_0x606604=document[_0x5c76fa(0x25e)](_0x5c76fa(0x2ca));if(_0x219746&&_0x606604){const _0x3cdb8f=_0x606604['clientWidth'],_0x5a1581=_0x219746[_0x5c76fa(0x2db)],_0x149c9d=_0x219746[_0x5c76fa(0x2f0)];_0x606604[_0x5c76fa(0x209)]=_0x5a1581-_0x3cdb8f/0x2+_0x149c9d/0x2,_0x606604[_0x5c76fa(0x1fb)]=0x9*GRID_H;}}function onScroll(){const _0x455ece=a2_0x45ac07,_0x42bf2d=document[_0x455ece(0x25e)](_0x455ece(0x2ca)),_0xb8102c=document[_0x455ece(0x1f6)](_0x455ece(0x352));for(let _0x1a78da of _0xb8102c)if(_0x1a78da[_0x455ece(0x2db)]>=_0x42bf2d[_0x455ece(0x209)]){const _0x36ba93=new Date(_0x1a78da['getAttribute'](_0x455ece(0x267)));document[_0x455ece(0x25e)]('headerMonth')['textContent']=_0x36ba93[_0x455ece(0x240)]('ru',{'month':_0x455ece(0x2d9)})['toUpperCase']()+'\x20'+_0x36ba93[_0x455ece(0x29b)]();break;}}function showToast(_0x13ea68,_0x225675=![]){const _0x1890dc=a2_0x45ac07,_0x8d3778=document[_0x1890dc(0x25e)](_0x1890dc(0x291));_0x8d3778[_0x1890dc(0x34c)]='toast-notification\x20'+(_0x225675?_0x1890dc(0x32a):''),document[_0x1890dc(0x25e)]('toastTitle')[_0x1890dc(0x293)]=_0x225675?_0x1890dc(0x2b6):_0x1890dc(0x32f),document[_0x1890dc(0x25e)](_0x1890dc(0x268))['textContent']=_0x13ea68,_0x8d3778[_0x1890dc(0x2bb)][_0x1890dc(0x2f4)](_0x1890dc(0x270)),setTimeout(()=>{const _0x296d49=_0x1890dc;_0x8d3778[_0x296d49(0x2bb)][_0x296d49(0x285)](_0x296d49(0x270));},0xbb8);}function openDayOptions(_0x212b8c,_0x129b08){const _0x20abe5=a2_0x45ac07;selectedDayForOptions=_0x212b8c,document[_0x20abe5(0x25e)](_0x20abe5(0x2df))[_0x20abe5(0x293)]=_0x129b08,openSheet(_0x20abe5(0x28a));}function toggleDayOff(){const _0x48d5a0=a2_0x45ac07;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x48d5a0(0x1ec),reRenderBlocks(),closeAllSheets(),DataManager[_0x48d5a0(0x20d)](),DataManager[_0x48d5a0(0x1ea)]('save_settings',{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x5c29ca=a2_0x45ac07;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x5c29ca(0x20d)](),DataManager['fetchFromServer'](_0x5c29ca(0x330),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0xbf8539){const _0x8fbadb=a2_0x45ac07;document[_0x8fbadb(0x25e)](_0x8fbadb(0x213))[_0x8fbadb(0x2bb)][_0x8fbadb(0x2f4)](_0x8fbadb(0x313)),document[_0x8fbadb(0x25e)](_0xbf8539)[_0x8fbadb(0x2bb)][_0x8fbadb(0x2f4)](_0x8fbadb(0x264));}function closeAllSheets(){const _0x37be5c=a2_0x45ac07;document[_0x37be5c(0x25e)](_0x37be5c(0x213))[_0x37be5c(0x2bb)][_0x37be5c(0x285)](_0x37be5c(0x313)),document[_0x37be5c(0x1f6)](_0x37be5c(0x2d6))[_0x37be5c(0x30a)](_0x347813=>_0x347813[_0x37be5c(0x2bb)][_0x37be5c(0x285)](_0x37be5c(0x264)));}function openPatternEditor(){const _0x4679fb=a2_0x45ac07;closeAllSheets(),document[_0x4679fb(0x25e)](_0x4679fb(0x34d))[_0x4679fb(0x2bb)]['add'](_0x4679fb(0x264)),renderPatternEditor();}function closePatternEditor(){const _0x4736d7=a2_0x45ac07;document['getElementById'](_0x4736d7(0x34d))[_0x4736d7(0x2bb)]['remove']('open');}function savePattern(){const _0x1701a6=a2_0x45ac07;document[_0x1701a6(0x25e)]('patternEditor')[_0x1701a6(0x2bb)][_0x1701a6(0x285)](_0x1701a6(0x264)),reRenderBlocks(),DataManager['saveLocally'](),DataManager['fetchFromServer'](_0x1701a6(0x330),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x335e03=a2_0x45ac07,_0x321425=document['getElementById']('peGrid');_0x321425[_0x335e03(0x320)]='';const _0x3ffdcc=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x5f00dc=document[_0x335e03(0x34e)]('div');_0x5f00dc[_0x335e03(0x34c)]=_0x335e03(0x23c),_0x321425[_0x335e03(0x248)](_0x5f00dc),_0x3ffdcc[_0x335e03(0x30a)]((_0x55c987,_0x474310)=>{const _0x3784f6=_0x335e03,_0x300129=document['createElement'](_0x3784f6(0x2e9));_0x300129['className']='pe-col-header',_0x300129[_0x3784f6(0x320)]=_0x55c987+_0x3784f6(0x1f8),_0x300129[_0x3784f6(0x284)]=()=>toggleColPattern(_0x474310),_0x321425[_0x3784f6(0x248)](_0x300129);});for(let _0x7e0bf2=0x0;_0x7e0bf2<0x18;_0x7e0bf2++){const _0x541277=document[_0x335e03(0x34e)]('div');_0x541277[_0x335e03(0x34c)]=_0x335e03(0x217),_0x541277[_0x335e03(0x320)]='<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>'+String(_0x7e0bf2)[_0x335e03(0x2de)](0x2,'0')+_0x335e03(0x35c),_0x541277[_0x335e03(0x284)]=()=>toggleRowPattern(_0x7e0bf2),_0x321425[_0x335e03(0x248)](_0x541277);for(let _0x275062=0x0;_0x275062<0x7;_0x275062++){const _0x19b624=document[_0x335e03(0x34e)](_0x335e03(0x2e9)),_0x4c6d85=(availabilityPattern[_0x275062]||[])[_0x335e03(0x339)](_0x7e0bf2),_0x4c0e68=!_0x4c6d85;_0x19b624[_0x335e03(0x34c)]=_0x335e03(0x1ff)+(_0x4c0e68?_0x335e03(0x313):''),_0x19b624[_0x335e03(0x284)]=()=>toggleSinglePattern(_0x275062,_0x7e0bf2),_0x321425['appendChild'](_0x19b624);}}}function toggleSinglePattern(_0x388b8e,_0xc740a2){const _0x4fc2e6=a2_0x45ac07;if(!availabilityPattern[_0x388b8e])availabilityPattern[_0x388b8e]=[];const _0x4a369c=availabilityPattern[_0x388b8e],_0x3d7a31=_0x4a369c['indexOf'](_0xc740a2);_0x3d7a31===-0x1?_0x4a369c['push'](_0xc740a2):_0x4a369c[_0x4fc2e6(0x29f)](_0x3d7a31,0x1),renderPatternEditor();}function toggleColPattern(_0x41fe1c){const _0x27fd62=a2_0x45ac07;if(!availabilityPattern[_0x41fe1c])availabilityPattern[_0x41fe1c]=[];const _0x1d7ae9=availabilityPattern[_0x41fe1c];_0x1d7ae9['length']===0x0?availabilityPattern[_0x41fe1c]=Array[_0x27fd62(0x2c5)]({'length':0x18},(_0x9981fc,_0x101c78)=>_0x101c78):availabilityPattern[_0x41fe1c]=[],renderPatternEditor();}function toggleRowPattern(_0x2a61e4){const _0x3b575c=a2_0x45ac07;let _0x1fda79=!![];for(let _0xae7e58=0x0;_0xae7e58<0x7;_0xae7e58++){if((availabilityPattern[_0xae7e58]||[])[_0x3b575c(0x339)](_0x2a61e4)){_0x1fda79=![];break;}}for(let _0x467b61=0x0;_0x467b61<0x7;_0x467b61++){if(!availabilityPattern[_0x467b61])availabilityPattern[_0x467b61]=[];const _0x2dbf1d=availabilityPattern[_0x467b61][_0x3b575c(0x27c)](_0x2a61e4);if(_0x1fda79){if(_0x2dbf1d===-0x1)availabilityPattern[_0x467b61][_0x3b575c(0x228)](_0x2a61e4);}else{if(_0x2dbf1d!==-0x1)availabilityPattern[_0x467b61][_0x3b575c(0x29f)](_0x2dbf1d,0x1);}}renderPatternEditor();}function renderPCol(_0x17e400,_0x146692){const _0x33cb41=a2_0x45ac07;_0x17e400[_0x33cb41(0x320)]='';const _0x22f88f=Math[_0x33cb41(0x302)](_0x17e400[_0x33cb41(0x2db)]);(availabilityPattern[_0x146692]||[])[_0x33cb41(0x30a)](_0x1f3705=>{const _0x3daf48=_0x33cb41,_0x4c9c61=document['createElement'](_0x3daf48(0x2e9));_0x4c9c61[_0x3daf48(0x34c)]=_0x3daf48(0x35f);const _0x3bcab2=_0x1f3705*GRID_H;_0x4c9c61[_0x3daf48(0x22c)][_0x3daf48(0x2a6)]=_0x3bcab2+'px',_0x4c9c61['style'][_0x3daf48(0x33a)]='-'+_0x22f88f+_0x3daf48(0x2ab)+_0x3bcab2+'px',_0x4c9c61[_0x3daf48(0x284)]=_0xfa2bc9=>{const _0x5229d3=_0x3daf48;_0xfa2bc9[_0x5229d3(0x2b3)](),toggleSinglePattern(_0x146692,_0x1f3705);},_0x17e400[_0x3daf48(0x248)](_0x4c9c61);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function a2_0x2785(_0x28e94b,_0x1ddc74){_0x28e94b=_0x28e94b-0x1e6;const _0x14f383=a2_0x254e();let _0x1617e4=_0x14f383[_0x28e94b];return _0x1617e4;}function updateClock(){const _0x2d7677=a2_0x45ac07,_0x5625f4=new Date(),_0xafa147=document[_0x2d7677(0x25e)]('globalTimeLine'),_0x50ae45=document[_0x2d7677(0x25e)](_0x2d7677(0x2a2)),_0xeddf34=(_0x5625f4[_0x2d7677(0x24a)]()*0x3c+_0x5625f4[_0x2d7677(0x2fb)]())/0x3c*GRID_H;_0xafa147[_0x2d7677(0x22c)][_0x2d7677(0x2a6)]=_0xeddf34+'px',_0xafa147[_0x2d7677(0x22c)][_0x2d7677(0x24b)]='block',_0x50ae45[_0x2d7677(0x293)]=String(_0x5625f4['getHours']())['padStart'](0x2,'0')+':'+String(_0x5625f4[_0x2d7677(0x2fb)]())[_0x2d7677(0x2de)](0x2,'0'),_0x50ae45[_0x2d7677(0x22c)][_0x2d7677(0x24b)]=_0x2d7677(0x2b4),_0x50ae45[_0x2d7677(0x22c)][_0x2d7677(0x2a6)]=_0xeddf34+'px';}document[a2_0x45ac07(0x303)](a2_0x45ac07(0x234),init);function openDayOptions(_0x24c3b7){const _0x1189fe=a2_0x45ac07;selectedDayForOptions=_0x24c3b7;const _0x11c92a=new Date(_0x24c3b7),_0xce2c57={'weekday':_0x1189fe(0x2d9),'day':_0x1189fe(0x271),'month':_0x1189fe(0x2d9),'year':_0x1189fe(0x271)},_0x15e387=_0x11c92a[_0x1189fe(0x2dc)]('ru-RU',_0xce2c57);document[_0x1189fe(0x25e)](_0x1189fe(0x2af))[_0x1189fe(0x293)]=_0x15e387[_0x1189fe(0x2c4)](0x0)[_0x1189fe(0x2b1)]()+_0x15e387['slice'](0x1);let _0x8c05ae=_0x11c92a['getDay']()-0x1;if(_0x8c05ae===-0x1)_0x8c05ae=0x6;const _0x2fa5d4=availabilityPattern[_0x8c05ae]||[],_0x11d4b9=0x18-_0x2fa5d4['length'],_0x31d927=_0x11d4b9*0x3c,_0x55d2fd=sessions[_0x1189fe(0x23b)](_0x356a84=>_0x356a84[_0x1189fe(0x27b)]===_0x24c3b7&&_0x356a84[_0x1189fe(0x1ef)]!==_0x1189fe(0x344));let _0x589daf=_0x55d2fd[_0x1189fe(0x2b8)](_0x28664f=>{const _0x15c350=_0x1189fe,[_0x5a09df,_0x541a1a]=_0x28664f['start'][_0x15c350(0x2b0)](':')[_0x15c350(0x2b8)](Number),[_0x2b2d21,_0x4ff483]=_0x28664f[_0x15c350(0x27a)][_0x15c350(0x2b0)](':')[_0x15c350(0x2b8)](Number);return[_0x5a09df*0x3c+_0x541a1a,_0x2b2d21*0x3c+_0x4ff483];});_0x589daf[_0x1189fe(0x2b5)]((_0x499b1f,_0x5b6fc5)=>_0x499b1f[0x0]-_0x5b6fc5[0x0]);let _0x5be456=[];if(_0x589daf['length']>0x0){let _0x5a022e=_0x589daf[0x0];for(let _0x10fb79=0x1;_0x10fb79<_0x589daf[_0x1189fe(0x336)];_0x10fb79++){_0x589daf[_0x10fb79][0x0]<_0x5a022e[0x1]?_0x5a022e[0x1]=Math[_0x1189fe(0x1fd)](_0x5a022e[0x1],_0x589daf[_0x10fb79][0x1]):(_0x5be456[_0x1189fe(0x228)](_0x5a022e),_0x5a022e=_0x589daf[_0x10fb79]);}_0x5be456[_0x1189fe(0x228)](_0x5a022e);}let _0x1931b5=0x0;_0x5be456[_0x1189fe(0x30a)](_0x95b52e=>_0x1931b5+=_0x95b52e[0x1]-_0x95b52e[0x0]),document[_0x1189fe(0x25e)](_0x1189fe(0x288))[_0x1189fe(0x293)]=formatMinsToHrs(_0x31d927),document[_0x1189fe(0x25e)](_0x1189fe(0x274))[_0x1189fe(0x293)]=formatMinsToHrs(_0x1931b5);const _0x411bb4=_0x31d927>0x0?Math[_0x1189fe(0x302)](_0x1931b5/_0x31d927*0x64):0x0,_0x5567b4=document[_0x1189fe(0x25e)](_0x1189fe(0x20f));_0x5567b4[_0x1189fe(0x293)]=_0x411bb4+'%';const _0x5d7e53=document[_0x1189fe(0x25e)](_0x1189fe(0x2d8));if(_0x411bb4>0x64)_0x5567b4[_0x1189fe(0x22c)][_0x1189fe(0x2e8)]='var(--acc-red)',_0x5d7e53['style'][_0x1189fe(0x31e)]='rgba(255,\x2069,\x2058,\x200.3)';else _0x411bb4>0x50?(_0x5567b4[_0x1189fe(0x22c)][_0x1189fe(0x2e8)]='var(--acc-orange)',_0x5d7e53[_0x1189fe(0x22c)][_0x1189fe(0x31e)]=_0x1189fe(0x1fe)):(_0x5567b4[_0x1189fe(0x22c)][_0x1189fe(0x2e8)]=_0x1189fe(0x2ec),_0x5d7e53['style']['borderColor']=_0x1189fe(0x24c));const _0x3c32c0=document[_0x1189fe(0x25e)](_0x1189fe(0x241));_0x3c32c0[_0x1189fe(0x320)]='';_0x55d2fd[_0x1189fe(0x336)]===0x0?_0x3c32c0[_0x1189fe(0x320)]=_0x1189fe(0x2cd):(_0x55d2fd[_0x1189fe(0x2b5)]((_0x2ab604,_0x3b75bf)=>_0x2ab604['start'][_0x1189fe(0x253)](_0x3b75bf[_0x1189fe(0x20a)])),_0x55d2fd[_0x1189fe(0x30a)](_0x69b038=>{const _0x40e705=_0x1189fe,_0x1af7c6=clients[_0x40e705(0x34b)](_0x3aa9ef=>_0x3aa9ef[_0x40e705(0x2ce)]===_0x69b038['client']),_0x23db97=_0x1af7c6?_0x1af7c6['color']:_0x40e705(0x28f),_0x3ce1a8=_0x69b038[_0x40e705(0x1ef)]===_0x40e705(0x2b2),_0x32c117=_0x3ce1a8?'<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>':'',_0x379de5=document[_0x40e705(0x34e)](_0x40e705(0x2e9));_0x379de5[_0x40e705(0x34c)]='de-item',_0x379de5[_0x40e705(0x22c)][_0x40e705(0x2ba)]=_0x23db97,_0x379de5[_0x40e705(0x320)]=_0x40e705(0x2ff)+_0x69b038[_0x40e705(0x20a)]+_0x40e705(0x298)+_0x69b038[_0x40e705(0x27a)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x69b038[_0x40e705(0x257)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x32c117+_0x40e705(0x272),_0x3c32c0[_0x40e705(0x248)](_0x379de5);}));const _0x10d42c=document[_0x1189fe(0x25e)](_0x1189fe(0x2e6)),_0x46ad32=dateExceptions[_0x24c3b7]===_0x1189fe(0x1ec);_0x46ad32?(_0x10d42c[_0x1189fe(0x293)]=_0x1189fe(0x2fe),_0x10d42c[_0x1189fe(0x34c)]=_0x1189fe(0x351),_0x10d42c[_0x1189fe(0x22c)][_0x1189fe(0x2e8)]='var(--acc-green)',_0x10d42c[_0x1189fe(0x22c)][_0x1189fe(0x2e0)]='rgba(48,\x20209,\x2088,\x200.15)'):(_0x10d42c['textContent']=_0x1189fe(0x202),_0x10d42c['className']='btn-primary\x20btn-danger',_0x10d42c[_0x1189fe(0x22c)]['color']=_0x1189fe(0x282),_0x10d42c[_0x1189fe(0x22c)][_0x1189fe(0x2e0)]=_0x1189fe(0x2dd)),openSheet(_0x1189fe(0x28a));}let currentAnPeriod=a2_0x45ac07(0x2cb);function openAnalytics(){const _0x36b354=a2_0x45ac07,_0x95a3a1=document['querySelector'](_0x36b354(0x2d7));setAnalyticsPeriod(_0x36b354(0x2cb),_0x95a3a1),closeAllSheets(),openSheet(_0x36b354(0x1f3));}function setAnalyticsPeriod(_0x4cde9b,_0x2837fe){const _0x407f9b=a2_0x45ac07;currentAnPeriod=_0x4cde9b,document[_0x407f9b(0x1f6)](_0x407f9b(0x2d7))[_0x407f9b(0x30a)](_0x3a47bd=>_0x3a47bd[_0x407f9b(0x2bb)][_0x407f9b(0x285)](_0x407f9b(0x313)));if(_0x2837fe)_0x2837fe[_0x407f9b(0x2bb)][_0x407f9b(0x2f4)](_0x407f9b(0x313));const _0x26711f=document[_0x407f9b(0x25e)](_0x407f9b(0x251));_0x26711f[_0x407f9b(0x22c)]['display']=_0x4cde9b===_0x407f9b(0x2a4)?_0x407f9b(0x275):_0x407f9b(0x2ac);const _0x5a41a8=new Date();let _0x4fbdf8=new Date(),_0x1c797c=new Date();if(_0x4cde9b===_0x407f9b(0x2cb))_0x4fbdf8=getStartOfWeek(_0x5a41a8),_0x1c797c=new Date(_0x4fbdf8),_0x1c797c[_0x407f9b(0x33b)](_0x1c797c['getDate']()+0x6);else{if(_0x4cde9b===_0x407f9b(0x22f))_0x4fbdf8=new Date(_0x5a41a8[_0x407f9b(0x29b)](),_0x5a41a8[_0x407f9b(0x31c)](),0x1),_0x1c797c=new Date(_0x5a41a8['getFullYear'](),_0x5a41a8[_0x407f9b(0x31c)]()+0x1,0x0);else{!document[_0x407f9b(0x25e)]('anStart')['value']&&(document['getElementById'](_0x407f9b(0x21b))[_0x407f9b(0x358)]=getLocalDateStr(_0x5a41a8),document[_0x407f9b(0x25e)](_0x407f9b(0x200))[_0x407f9b(0x358)]=getLocalDateStr(_0x5a41a8));refreshAnalytics();return;}}document['getElementById'](_0x407f9b(0x21b))[_0x407f9b(0x358)]=getLocalDateStr(_0x4fbdf8),document[_0x407f9b(0x25e)]('anEnd')['value']=getLocalDateStr(_0x1c797c),refreshAnalytics();}function refreshAnalytics(){const _0x9d6e69=a2_0x45ac07,_0x3eaae0=document[_0x9d6e69(0x25e)](_0x9d6e69(0x21b))[_0x9d6e69(0x358)],_0x3b1df5=document[_0x9d6e69(0x25e)](_0x9d6e69(0x200))[_0x9d6e69(0x358)];if(!_0x3eaae0||!_0x3b1df5)return;const _0x585df1=sessions[_0x9d6e69(0x23b)](_0x1e549a=>_0x1e549a[_0x9d6e69(0x27b)]>=_0x3eaae0&&_0x1e549a[_0x9d6e69(0x27b)]<=_0x3b1df5&&_0x1e549a[_0x9d6e69(0x1ef)]!==_0x9d6e69(0x344)),_0x2fee4b=_0x585df1[_0x9d6e69(0x336)],_0x4809c3=_0x585df1[_0x9d6e69(0x23b)](_0x143fb8=>_0x143fb8[_0x9d6e69(0x1ef)]==='completed')['length'],_0x32534a=_0x2fee4b>0x0?Math[_0x9d6e69(0x302)](_0x4809c3/_0x2fee4b*0x64):0x0;document[_0x9d6e69(0x25e)](_0x9d6e69(0x2f5))[_0x9d6e69(0x293)]=_0x32534a+'%',document['getElementById']('anTotalStats')[_0x9d6e69(0x293)]=_0x4809c3+_0x9d6e69(0x2bf)+_0x2fee4b+_0x9d6e69(0x25c);const _0x5859e0=document[_0x9d6e69(0x25e)]('anDonutCircle'),_0x4abaf1=0x2*Math['PI']*0x23,_0x514f3c=_0x4abaf1-_0x32534a/0x64*_0x4abaf1;_0x5859e0['style'][_0x9d6e69(0x2f9)]=_0x514f3c;const _0x8b94fe={};_0x585df1[_0x9d6e69(0x30a)](_0x3d88da=>{const _0x25e599=_0x9d6e69;if(!_0x8b94fe[_0x3d88da[_0x25e599(0x257)]]){const _0x1efd22=clients['find'](_0x538895=>_0x538895[_0x25e599(0x2ce)]===_0x3d88da[_0x25e599(0x257)]);_0x8b94fe[_0x3d88da[_0x25e599(0x257)]]={'total':0x0,'done':0x0,'color':_0x1efd22?_0x1efd22['color']:_0x25e599(0x28f)};}_0x8b94fe[_0x3d88da['client']][_0x25e599(0x233)]++;if(_0x3d88da['status']===_0x25e599(0x2b2))_0x8b94fe[_0x3d88da[_0x25e599(0x257)]]['done']++;});const _0x134fc3=document[_0x9d6e69(0x25e)](_0x9d6e69(0x207));_0x134fc3['innerHTML']='';const _0xcb376f=Object[_0x9d6e69(0x297)](_0x8b94fe)['sort']((_0x2789b8,_0x3fd81f)=>_0x3fd81f[0x1][_0x9d6e69(0x233)]-_0x2789b8[0x1][_0x9d6e69(0x233)]);if(_0xcb376f[_0x9d6e69(0x336)]===0x0){_0x134fc3[_0x9d6e69(0x320)]=_0x9d6e69(0x259);return;}_0xcb376f[_0x9d6e69(0x30a)](([_0x2455b0,_0x113deb])=>{const _0x26804e=_0x9d6e69,_0x479375=Math[_0x26804e(0x302)](_0x113deb[_0x26804e(0x223)]/_0x113deb[_0x26804e(0x233)]*0x64),_0x3abbf6=document[_0x26804e(0x34e)](_0x26804e(0x2e9));_0x3abbf6['className']=_0x26804e(0x1f4),_0x3abbf6[_0x26804e(0x22c)][_0x26804e(0x2ba)]=_0x113deb[_0x26804e(0x2e8)],_0x3abbf6[_0x26804e(0x320)]=_0x26804e(0x26f)+_0x2455b0+_0x26804e(0x266)+_0x113deb[_0x26804e(0x223)]+'</span>\x20/\x20'+_0x113deb[_0x26804e(0x233)]+_0x26804e(0x2be)+_0x479375+_0x26804e(0x25a),_0x134fc3[_0x26804e(0x248)](_0x3abbf6);});}function formatMinsToHrs(_0x34b5b8){if(_0x34b5b8===0x0)return'0';const _0x4f5144=Math['floor'](_0x34b5b8/0x3c),_0x5ed0c6=_0x34b5b8%0x3c;if(_0x5ed0c6===0x0)return _0x4f5144+'—á';return _0x4f5144+'—á\x20'+_0x5ed0c6+'–º';}