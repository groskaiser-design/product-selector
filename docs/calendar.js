const a2_0x18b4c3=a2_0x5d6e;(function(_0x5e33ae,_0x16616a){const _0x3a4643=a2_0x5d6e,_0x3a6125=_0x5e33ae();while(!![]){try{const _0x38b7e0=parseInt(_0x3a4643(0x299))/0x1+parseInt(_0x3a4643(0x2fa))/0x2*(parseInt(_0x3a4643(0x2cb))/0x3)+parseInt(_0x3a4643(0x20d))/0x4*(-parseInt(_0x3a4643(0x2c0))/0x5)+-parseInt(_0x3a4643(0x31a))/0x6*(parseInt(_0x3a4643(0x282))/0x7)+parseInt(_0x3a4643(0x288))/0x8+parseInt(_0x3a4643(0x2a6))/0x9*(-parseInt(_0x3a4643(0x2df))/0xa)+parseInt(_0x3a4643(0x2de))/0xb*(parseInt(_0x3a4643(0x2a7))/0xc);if(_0x38b7e0===_0x16616a)break;else _0x3a6125['push'](_0x3a6125['shift']());}catch(_0x59a424){_0x3a6125['push'](_0x3a6125['shift']());}}}(a2_0x4c72,0x363d7),function initTMA(){const _0x254fa1=a2_0x5d6e;try{const _0x238f45=window[_0x254fa1(0x33c)]?.[_0x254fa1(0x2d0)];if(!_0x238f45)return;_0x238f45[_0x254fa1(0x246)](),_0x238f45[_0x254fa1(0x26f)]();try{_0x238f45[_0x254fa1(0x32b)](_0x254fa1(0x24a)),_0x238f45[_0x254fa1(0x1c7)]&&_0x238f45[_0x254fa1(0x1c7)](_0x254fa1(0x24a));}catch(_0x28556d){console[_0x254fa1(0x2e5)](_0x254fa1(0x27d),_0x28556d);}try{_0x238f45[_0x254fa1(0x340)]&&(_0x238f45[_0x254fa1(0x340)][_0x254fa1(0x23a)](),_0x238f45[_0x254fa1(0x340)][_0x254fa1(0x25a)](),_0x238f45[_0x254fa1(0x340)][_0x254fa1(0x267)](function(){const _0x2d29bd=_0x254fa1;window[_0x2d29bd(0x2e6)][_0x2d29bd(0x27a)]=_0x2d29bd(0x2f7);}));}catch(_0x540fd3){console['log']('Error\x20setting\x20back\x20button:',_0x540fd3);}try{if(_0x238f45[_0x254fa1(0x304)])_0x238f45['disableVerticalSwipes']();}catch(_0x2b3cda){}}catch(_0x29792e){console[_0x254fa1(0x2c9)](_0x254fa1(0x233),_0x29792e);}}());function isAdmin(){const _0x3babb1=a2_0x5d6e;try{const _0x21b9b7=Number(window[_0x3babb1(0x33c)]?.['WebApp']?.[_0x3babb1(0x255)]?.['user']?.['id']);return _0x21b9b7===0xbaf7174;}catch(_0x34a2b2){return![];}}const APP_VERSION='v9.0-BATCH-CALENDAR',API_URL='https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec',GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x18b4c3(0x346),KEY_SESSIONS=a2_0x18b4c3(0x213),KEY_SETTINGS=a2_0x18b4c3(0x26a);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x19e3a1=a2_0x18b4c3;return window[_0x19e3a1(0x33c)]?.[_0x19e3a1(0x2d0)]?.[_0x19e3a1(0x255)]?.['user']?.['id']||'guest';},'saveLocally'(){const _0x5dc688=a2_0x18b4c3;try{localStorage[_0x5dc688(0x2e3)](KEY_CLIENTS,JSON[_0x5dc688(0x2e9)](clients)),localStorage[_0x5dc688(0x2e3)](KEY_SESSIONS,JSON[_0x5dc688(0x2e9)](sessions)),localStorage[_0x5dc688(0x2e3)](KEY_SETTINGS,JSON[_0x5dc688(0x2e9)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x2caec4){console[_0x5dc688(0x2c9)](_0x5dc688(0x260),_0x2caec4);}},'loadLocal'(){const _0x4be71e=a2_0x18b4c3;try{const _0x52d718=localStorage[_0x4be71e(0x252)](KEY_CLIENTS);if(_0x52d718)clients=JSON[_0x4be71e(0x221)](_0x52d718);const _0x28347e=localStorage[_0x4be71e(0x252)](KEY_SESSIONS);if(_0x28347e)sessions=JSON[_0x4be71e(0x221)](_0x28347e);const _0x168f20=localStorage[_0x4be71e(0x252)](KEY_SETTINGS);if(_0x168f20){const _0x5acf39=JSON['parse'](_0x168f20);if(_0x5acf39[_0x4be71e(0x1d9)])availabilityPattern=_0x5acf39[_0x4be71e(0x1d9)];if(_0x5acf39['exceptions'])dateExceptions=_0x5acf39[_0x4be71e(0x290)];if(_0x5acf39[_0x4be71e(0x21d)])specialRanges=_0x5acf39[_0x4be71e(0x21d)];}else{for(let _0x4356c0=0x0;_0x4356c0<0x7;_0x4356c0++)availabilityPattern[_0x4356c0]=Array[_0x4be71e(0x1d5)]({'length':0xc},(_0x2b3746,_0x3a9b92)=>_0x3a9b92+0x9);}}catch(_0x5f52ae){console[_0x4be71e(0x2c9)](_0x4be71e(0x1f3),_0x5f52ae);}},async 'fetchFromServer'(_0x14864e,_0x2931d9={}){const _0x4d92df=a2_0x18b4c3,_0x4d2e70=window[_0x4d92df(0x33c)]?.[_0x4d92df(0x2d0)],_0x1fbf5d={'action':_0x14864e,'init_data':_0x4d2e70?.[_0x4d92df(0x20c)]||'',..._0x2931d9};try{const _0x4cfe52=await fetch(API_URL,{'method':_0x4d92df(0x2ab),'headers':{'Content-Type':'text/plain;charset=UTF-8'},'body':JSON[_0x4d92df(0x2e9)](_0x1fbf5d)}),_0x1bd8e6=await _0x4cfe52[_0x4d92df(0x2bb)]();if(!_0x1bd8e6['ok'])throw new Error(_0x1bd8e6[_0x4d92df(0x2c9)]||_0x4d92df(0x2e1));return _0x1bd8e6[_0x4d92df(0x257)];}catch(_0x3a0014){console['error'](_0x4d92df(0x2ec)+_0x14864e+']\x20Failed:',_0x3a0014);throw _0x3a0014;}},async 'syncLoad'(){const _0x1ad567=a2_0x18b4c3,_0x1dde75=new Date(),_0x2deeea=_0x1dde75[_0x1ad567(0x32f)]()+'-'+String(_0x1dde75[_0x1ad567(0x274)]()+0x1)['padStart'](0x2,'0'),_0x59719b=new Date(_0x1dde75);_0x59719b['setMonth'](_0x1dde75[_0x1ad567(0x274)]()+0x1);const _0x2d0d60=_0x59719b['getFullYear']()+'-'+String(_0x59719b[_0x1ad567(0x274)]()+0x1)['padStart'](0x2,'0'),_0x16a601=Date[_0x1ad567(0x32c)]();console[_0x1ad567(0x2e5)](_0x1ad567(0x2fc)+_0x2deeea+',\x20'+_0x2d0d60+_0x1ad567(0x1ee));try{const [_0x58ca16,_0x3d6de8]=await Promise[_0x1ad567(0x242)]([this[_0x1ad567(0x33f)](_0x1ad567(0x2b7),{'month_str':_0x2deeea}),this[_0x1ad567(0x33f)](_0x1ad567(0x2b7),{'month_str':_0x2d0d60})]);if(lastUserActionTime>_0x16a601)return console[_0x1ad567(0x258)](_0x1ad567(0x220)),![];return this['mergeServerData'](_0x58ca16,_0x2deeea),this[_0x1ad567(0x2c6)](_0x3d6de8,_0x2d0d60),this['saveLocally'](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0xb50d9){console[_0x1ad567(0x2c9)](_0xb50d9);throw _0xb50d9;}},'mergeServerData'(_0x2f2c1e,_0x4c057a){const _0x52cd25=a2_0x18b4c3;if(!_0x2f2c1e)return;_0x2f2c1e[_0x52cd25(0x28e)]&&Array['isArray'](_0x2f2c1e[_0x52cd25(0x28e)])&&(clients=_0x2f2c1e[_0x52cd25(0x28e)]);if(_0x2f2c1e[_0x52cd25(0x1f4)]){if(_0x2f2c1e[_0x52cd25(0x1f4)][_0x52cd25(0x1d9)])availabilityPattern=_0x2f2c1e['settings']['pattern'];if(_0x2f2c1e[_0x52cd25(0x1f4)][_0x52cd25(0x290)])dateExceptions=_0x2f2c1e[_0x52cd25(0x1f4)][_0x52cd25(0x290)];if(_0x2f2c1e[_0x52cd25(0x1f4)][_0x52cd25(0x21d)])specialRanges=_0x2f2c1e[_0x52cd25(0x1f4)]['ranges'];if(_0x2f2c1e[_0x52cd25(0x1f4)][_0x52cd25(0x2c2)]){localStorage[_0x52cd25(0x2e3)](_0x52cd25(0x254),_0x2f2c1e['settings'][_0x52cd25(0x2c2)]);const _0x168afc=document[_0x52cd25(0x314)]('settingCancelWindow');if(_0x168afc)_0x168afc[_0x52cd25(0x264)]=_0x2f2c1e['settings'][_0x52cd25(0x2c2)];}}_0x2f2c1e[_0x52cd25(0x286)]&&(sessions=sessions['filter'](_0x618da6=>!_0x618da6[_0x52cd25(0x283)][_0x52cd25(0x31c)](_0x4c057a)),Object[_0x52cd25(0x32d)](_0x2f2c1e['calendar'])[_0x52cd25(0x341)](_0xe6b8cb=>{const _0x1c5313=_0x52cd25,_0x314bbe=_0x2f2c1e[_0x1c5313(0x286)][_0xe6b8cb];_0x314bbe[_0x1c5313(0x341)](_0x5b6add=>{const _0x22404e=_0x1c5313,_0x152384=clients['find'](_0x441aaa=>String(_0x441aaa['id'])===String(_0x5b6add['c']));sessions[_0x22404e(0x273)]({'id':_0x5b6add['i'],'clientId':_0x5b6add['c'],'client':_0x152384?_0x152384['name']:'Unknown','dateStr':_0x4c057a+'-'+_0xe6b8cb['padStart'](0x2,'0'),'start':_0x5b6add['s'],'end':_0x5b6add['e'],'status':_0x5b6add['st']||_0x22404e(0x2c7),'note':_0x5b6add['n']||'','seriesId':_0x5b6add[_0x22404e(0x265)]||null});});}));},async 'syncBatch'(_0x3293e3){const _0x586d06=a2_0x18b4c3,_0x508a0f=[...new Set(_0x3293e3)],_0x43537b=_0x508a0f['map'](_0x226a17=>{const _0x4412be=a2_0x5d6e,_0xe3cdd4=sessions['filter'](_0x45fd43=>_0x45fd43[_0x4412be(0x283)]===_0x226a17&&_0x45fd43[_0x4412be(0x2ae)]!=='deleted'),_0x8dd0c2=_0xe3cdd4['map'](_0x59207e=>({'i':_0x59207e['id'],'c':_0x59207e['clientId'],'s':_0x59207e[_0x4412be(0x1ea)],'e':_0x59207e[_0x4412be(0x2bc)],'st':_0x59207e[_0x4412be(0x2ae)],'n':_0x59207e[_0x4412be(0x2fb)],'sid':_0x59207e['seriesId']}));return{'date':_0x226a17,'day_data':_0x8dd0c2};});if(_0x43537b[_0x586d06(0x22b)]===0x0)return;console[_0x586d06(0x2e5)](_0x586d06(0x326)+_0x43537b[_0x586d06(0x22b)]+_0x586d06(0x26b)),await this['fetchFromServer'](_0x586d06(0x1f1),{'changes':_0x43537b});}};async function init(){const _0x271104=a2_0x18b4c3;DataManager[_0x271104(0x2d8)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById'](_0x271104(0x2e0))[_0x271104(0x1d1)](_0x271104(0x26c),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x271104(0x2d4)]()[_0x271104(0x24c)](()=>{const _0x1ab94f=_0x271104;showToast(_0x1ab94f(0x2ff),!![]);})[_0x271104(0x2d5)](_0x4e0a22=>{const _0x57b362=_0x271104;showToast(_0x57b362(0x291),![]);});}function generateId(){const _0x48c34f=a2_0x18b4c3;return Date[_0x48c34f(0x32c)]()[_0x48c34f(0x1d4)](0x24)+Math[_0x48c34f(0x2cd)]()[_0x48c34f(0x1d4)](0x24)[_0x48c34f(0x320)](0x2,0x5);}function toggleSeriesInput(){const _0x2600ec=a2_0x18b4c3,_0x3bfb58=document[_0x2600ec(0x314)](_0x2600ec(0x333))['checked'],_0x3abeb2=document['getElementById'](_0x2600ec(0x272));_0x3abeb2[_0x2600ec(0x289)]['display']=_0x3bfb58?_0x2600ec(0x2ac):_0x2600ec(0x33e);const _0x3eb614=document['getElementById'](_0x2600ec(0x31b));_0x3eb614['style'][_0x2600ec(0x1fe)]=_0x3bfb58?_0x2600ec(0x342):_0x2600ec(0x2fd);}function openAddSession(_0x874be2){const _0x49d857=a2_0x18b4c3;editingId=null,populateClientSelect(),document['getElementById']('sheetTitle')['textContent']='–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å',document[_0x49d857(0x314)](_0x49d857(0x281))[_0x49d857(0x289)]['display']=_0x49d857(0x33e),document[_0x49d857(0x314)](_0x49d857(0x285))['style'][_0x49d857(0x28c)]=_0x49d857(0x33e);const _0x1e3f81=document[_0x49d857(0x314)](_0x49d857(0x31b)),_0xdbf07d=document[_0x49d857(0x314)](_0x49d857(0x272));_0x1e3f81['style'][_0x49d857(0x28c)]=_0x49d857(0x309),_0x1e3f81[_0x49d857(0x289)]['borderRadius']=_0x49d857(0x2fd),document['getElementById'](_0x49d857(0x333))[_0x49d857(0x277)]=![],document[_0x49d857(0x314)](_0x49d857(0x25e))['value']=0x4,_0xdbf07d[_0x49d857(0x289)][_0x49d857(0x28c)]=_0x49d857(0x33e),document[_0x49d857(0x314)](_0x49d857(0x296))[_0x49d857(0x264)]=getLocalDateStr(_0x874be2),updateDateDisplay();const _0x3a85a3=_0x874be2['getHours']();document[_0x49d857(0x314)]('inpStart')['value']=String(_0x3a85a3)[_0x49d857(0x1d3)](0x2,'0')+_0x49d857(0x1d2),document[_0x49d857(0x314)](_0x49d857(0x335))['value']=String(_0x3a85a3+0x1)[_0x49d857(0x1d3)](0x2,'0')+':00',openSheet(_0x49d857(0x22e));}function openEdit(_0x90784b){const _0x217433=a2_0x18b4c3;editingId=_0x90784b['id'],populateClientSelect(),document['getElementById'](_0x217433(0x210))[_0x217433(0x247)]=_0x217433(0x318),document[_0x217433(0x314)](_0x217433(0x281))[_0x217433(0x289)][_0x217433(0x28c)]=_0x217433(0x2ac);const _0x4345b6=document[_0x217433(0x314)](_0x217433(0x285));_0x4345b6[_0x217433(0x289)]['display']=_0x217433(0x309);_0x90784b['status']==='completed'?(_0x4345b6[_0x217433(0x2b8)]='btn-status-toggle\x20undo-mode',_0x4345b6[_0x217433(0x2d7)]='–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ'):(_0x4345b6[_0x217433(0x2b8)]=_0x217433(0x330),_0x4345b6['innerHTML']=_0x217433(0x25c));const _0x4bd9b7=!!_0x90784b['seriesId'];document[_0x217433(0x314)]('recurringOptionContainer')[_0x217433(0x289)][_0x217433(0x28c)]=_0x217433(0x33e),document[_0x217433(0x314)]('seriesCountContainer')[_0x217433(0x289)]['display']=_0x217433(0x33e),_0x4bd9b7?(document[_0x217433(0x314)](_0x217433(0x278))[_0x217433(0x289)]['display']=_0x217433(0x309),document[_0x217433(0x314)](_0x217433(0x278))[_0x217433(0x243)]('.pib-text')[_0x217433(0x247)]=_0x217433(0x27b)):document[_0x217433(0x314)](_0x217433(0x278))['style'][_0x217433(0x28c)]=_0x217433(0x33e),document[_0x217433(0x314)](_0x217433(0x20a))[_0x217433(0x264)]=_0x90784b['client'],document[_0x217433(0x314)](_0x217433(0x296))[_0x217433(0x264)]=_0x90784b[_0x217433(0x283)],document[_0x217433(0x314)](_0x217433(0x29f))[_0x217433(0x264)]=_0x90784b[_0x217433(0x1ea)],document[_0x217433(0x314)]('inpEnd')['value']=_0x90784b[_0x217433(0x2bc)],document[_0x217433(0x314)](_0x217433(0x319))[_0x217433(0x264)]=_0x90784b[_0x217433(0x2fb)]||'',updateDateDisplay(),openSheet(_0x217433(0x22e));}async function trySaveSession(){const _0x4ad454=a2_0x18b4c3,_0x4fa855=document['getElementById'](_0x4ad454(0x20a))[_0x4ad454(0x264)],_0x4823bb=document[_0x4ad454(0x314)](_0x4ad454(0x296))['value'],_0x39e9d3=document[_0x4ad454(0x314)](_0x4ad454(0x29f))[_0x4ad454(0x264)],_0x5d7eee=document[_0x4ad454(0x314)](_0x4ad454(0x335))[_0x4ad454(0x264)],_0x2c03e3=document[_0x4ad454(0x314)](_0x4ad454(0x319))[_0x4ad454(0x264)],_0x20550b=document[_0x4ad454(0x314)](_0x4ad454(0x333))[_0x4ad454(0x277)];let _0x63ccc2=0x4;if(_0x20550b){const _0x4e4f2c=parseInt(document[_0x4ad454(0x314)](_0x4ad454(0x25e))['value']);if(!_0x4e4f2c||_0x4e4f2c<0x2){showToast(_0x4ad454(0x325),![]);return;}if(_0x4e4f2c>0x64){showToast(_0x4ad454(0x230),![]);return;}_0x63ccc2=_0x4e4f2c;}const _0x280be3=clients[_0x4ad454(0x24f)](_0x460405=>_0x460405[_0x4ad454(0x2d9)]===_0x4fa855);if(!_0x280be3){showToast(_0x4ad454(0x337),![]);return;}const _0x3a01bd=validateAppointment(_0x4823bb,_0x39e9d3,_0x5d7eee,editingId,_0x280be3['id']);if(!_0x3a01bd[_0x4ad454(0x239)]){showToast(_0x3a01bd[_0x4ad454(0x1e1)],![]);return;}_0x3a01bd['warning']&&showToast(_0x3a01bd['warning'],![]);const _0x3551b9={'client':_0x4fa855,'clientId':_0x280be3['id'],'start':_0x39e9d3,'end':_0x5d7eee,'note':_0x2c03e3,'status':_0x4ad454(0x2c7)},_0x241458=editingId?sessions[_0x4ad454(0x24f)](_0x35b2a9=>_0x35b2a9['id']===editingId):null;if(_0x241458&&_0x241458['seriesId']){tempSessionData={..._0x3551b9,'dateStr':_0x4823bb,'id':editingId,'seriesId':_0x241458[_0x4ad454(0x312)]},openActionSheet(_0x4ad454(0x2a4));return;}let _0x2e36c2=null;if(!editingId)_0x2e36c2=_0x4ad454(0x22d);else{if(_0x241458){if(String(_0x241458[_0x4ad454(0x1cf)])!==String(_0x280be3['id']))console[_0x4ad454(0x2e5)]('[Notify]\x20Client\x20SWAP\x20detected'),NotificationManager['send']('cancel',_0x241458),_0x2e36c2='create';else(_0x241458[_0x4ad454(0x1ea)]!==_0x39e9d3||_0x241458['end']!==_0x5d7eee||_0x241458[_0x4ad454(0x283)]!==_0x4823bb)&&(_0x2e36c2=_0x4ad454(0x22c));}}if(!editingId&&_0x20550b){createBatchSeries(_0x3551b9,_0x4823bb,_0x63ccc2),NotificationManager['send'](_0x4ad454(0x22d),{..._0x3551b9,'dateStr':_0x4823bb});return;}lastUserActionTime=Date['now']();const _0x53e3db={..._0x3551b9,'dateStr':_0x4823bb,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x53e3db),_0x2e36c2&&NotificationManager[_0x4ad454(0x2fe)](_0x2e36c2,_0x53e3db);}function toggleSessionStatus(){const _0x46a9b9=a2_0x18b4c3;lastUserActionTime=Date[_0x46a9b9(0x32c)]();const _0x4c2ace=sessions[_0x46a9b9(0x24f)](_0x442b25=>_0x442b25['id']===editingId);if(!_0x4c2ace)return;const _0x2f9f32=_0x4c2ace['status']===_0x46a9b9(0x2ba)?_0x46a9b9(0x2c7):'completed';_0x4c2ace[_0x46a9b9(0x2ae)]=_0x2f9f32,saveSingleSession(_0x4c2ace),_0x2f9f32===_0x46a9b9(0x2ba)&&NotificationManager[_0x46a9b9(0x2fe)](_0x46a9b9(0x1f2),_0x4c2ace),showToast(_0x2f9f32===_0x46a9b9(0x2ba)?'–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞':_0x46a9b9(0x1db),!![]);}function validateAppointment(_0x4a81bf,_0x279af8,_0x3e0c6e,_0x3a3fff,_0x2fd2f6){const _0xe08a7d=a2_0x18b4c3,[_0xa16811,_0x32219b]=_0x279af8[_0xe08a7d(0x204)](':')[_0xe08a7d(0x1e6)](Number),[_0x5e04a6,_0xd51f91]=_0x3e0c6e['split'](':')[_0xe08a7d(0x1e6)](Number),_0x2ab2ea=_0xa16811*0x3c+_0x32219b,_0x28f492=_0x5e04a6*0x3c+_0xd51f91,_0x484daf=String(_0x2fd2f6);let _0x159feb=![],_0x25f2c2='';for(let _0x2ae384 of sessions){if(_0x2ae384[_0xe08a7d(0x283)]!==_0x4a81bf)continue;if(_0x2ae384[_0xe08a7d(0x2ae)]==='cancelled')continue;if(_0x3a3fff&&String(_0x2ae384['id'])===String(_0x3a3fff))continue;const [_0x50aa68,_0x413387]=_0x2ae384['start'][_0xe08a7d(0x204)](':')['map'](Number),[_0x2d4710,_0x2d92ae]=_0x2ae384['end'][_0xe08a7d(0x204)](':')[_0xe08a7d(0x1e6)](Number),_0x3ab180=_0x50aa68*0x3c+_0x413387,_0x516475=_0x2d4710*0x3c+_0x2d92ae;if(Math[_0xe08a7d(0x219)](_0x2ab2ea,_0x3ab180)<Math[_0xe08a7d(0x295)](_0x28f492,_0x516475)){if(_0x2ae384['clientId']&&String(_0x2ae384['clientId'])===_0x484daf)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0x2ae384[_0xe08a7d(0x30a)]+_0xe08a7d(0x2cf)};_0x159feb=!![],_0x25f2c2=_0x2ae384[_0xe08a7d(0x30a)];}}if(_0x159feb)return{'valid':!![],'warning':_0xe08a7d(0x236)+_0x25f2c2};return{'valid':!![]};}function saveSingleSession(_0x2943ab){const _0xe025a=a2_0x18b4c3;if(editingId){const _0x19cbd1=sessions[_0xe025a(0x2be)](_0x2b2964=>_0x2b2964['id']===editingId);if(_0x19cbd1!==-0x1)sessions[_0x19cbd1]=_0x2943ab;}else sessions['push'](_0x2943ab);afterSaveAction([_0x2943ab[_0xe025a(0x283)]]);}function createBatchSeries(_0x1d7cc9,_0x3ccb90,_0x547459){const _0x4c1231=a2_0x18b4c3,_0x5c73d8=generateId(),_0x3d20a6=[],_0x4fc212=[];let _0x678d78=0x0,_0x2f1114=new Date(_0x3ccb90);for(let _0x3dff3f=0x0;_0x3dff3f<_0x547459;_0x3dff3f++){const _0xb13237=getLocalDateStr(_0x2f1114),_0x441bf2=validateAppointment(_0xb13237,_0x1d7cc9[_0x4c1231(0x1ea)],_0x1d7cc9[_0x4c1231(0x2bc)],null,_0x1d7cc9[_0x4c1231(0x1cf)]);if(!_0x441bf2[_0x4c1231(0x239)])console[_0x4c1231(0x2e5)]('[Series]\x20Skipped\x20'+_0xb13237+_0x4c1231(0x2f3)),_0x678d78++;else{const _0x17a485={..._0x1d7cc9,'id':generateId(),'dateStr':_0xb13237,'seriesId':_0x5c73d8};_0x4fc212[_0x4c1231(0x273)](_0x17a485),_0x3d20a6[_0x4c1231(0x273)](_0xb13237);}_0x2f1114[_0x4c1231(0x30e)](_0x2f1114[_0x4c1231(0x269)]()+0x7);}if(_0x4fc212['length']===0x0){showToast(_0x4c1231(0x1f0),![]);return;}sessions['push'](..._0x4fc212),lastUserActionTime=Date['now']();let _0x1df925=_0x4c1231(0x1ec)+_0x4fc212[_0x4c1231(0x22b)];_0x678d78>0x0&&(_0x1df925+=_0x4c1231(0x229)+_0x678d78+')'),showToast(_0x1df925,!![]),afterSaveAction(_0x3d20a6);}function updateSeriesBatch(_0x20f9e3,_0x19af88){const _0x3a8c27=a2_0x18b4c3,_0x1057ed=[],_0x214bfd=_0x19af88['seriesId'];if(_0x20f9e3==='single'){const _0x26d8fc={..._0x19af88,'seriesId':null},_0x5ea774=sessions[_0x3a8c27(0x2be)](_0x191154=>_0x191154['id']===_0x19af88['id']);if(_0x5ea774!==-0x1)sessions[_0x5ea774]=_0x26d8fc;_0x1057ed[_0x3a8c27(0x273)](_0x26d8fc['dateStr']);}else{if(_0x20f9e3===_0x3a8c27(0x2e4)){const _0x4d4d7b=_0x19af88[_0x3a8c27(0x283)];sessions[_0x3a8c27(0x341)]((_0x5cefdb,_0x372f1c)=>{const _0xfed7bb=_0x3a8c27;_0x5cefdb[_0xfed7bb(0x312)]===_0x214bfd&&_0x5cefdb[_0xfed7bb(0x283)]>=_0x4d4d7b&&(sessions[_0x372f1c]={...sessions[_0x372f1c],'start':_0x19af88['start'],'end':_0x19af88['end'],'note':_0x19af88[_0xfed7bb(0x2fb)],'client':_0x19af88[_0xfed7bb(0x30a)],'clientId':_0x19af88[_0xfed7bb(0x1cf)]},_0x1057ed[_0xfed7bb(0x273)](_0x5cefdb[_0xfed7bb(0x283)]));});}}afterSaveAction(_0x1057ed);}function tryDeleteSession(){const _0x4e0445=a2_0x18b4c3,_0x26afd7=sessions[_0x4e0445(0x24f)](_0x36fb36=>_0x36fb36['id']===editingId);if(!_0x26afd7)return;_0x26afd7[_0x4e0445(0x312)]?openActionSheet('delete'):commitDelete('single',_0x26afd7);}function commitDelete(_0xdb41bf,_0x2a5ee1){const _0x106676=a2_0x18b4c3;lastUserActionTime=Date[_0x106676(0x32c)](),NotificationManager[_0x106676(0x2fe)](_0x106676(0x216),_0x2a5ee1);const _0x341c55=[];if(_0xdb41bf===_0x106676(0x27e))sessions=sessions[_0x106676(0x201)](_0x1f79e8=>_0x1f79e8['id']!==_0x2a5ee1['id']),_0x341c55['push'](_0x2a5ee1[_0x106676(0x283)]);else{if(_0xdb41bf===_0x106676(0x2e4)){const _0x25669e=_0x2a5ee1['dateStr'],_0x18dda1=_0x2a5ee1[_0x106676(0x312)];sessions['forEach'](_0x5874b0=>{const _0x13101f=_0x106676;_0x5874b0[_0x13101f(0x312)]===_0x18dda1&&_0x5874b0['dateStr']>=_0x25669e&&_0x341c55[_0x13101f(0x273)](_0x5874b0['dateStr']);}),sessions=sessions[_0x106676(0x201)](_0x3c405f=>!(_0x3c405f['seriesId']===_0x18dda1&&_0x3c405f[_0x106676(0x283)]>=_0x25669e));}}afterSaveAction(_0x341c55);}function afterSaveAction(_0x2d4053){const _0x21ece2=a2_0x18b4c3;DataManager['saveLocally'](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x21ece2(0x245)](_0x2d4053)[_0x21ece2(0x24c)](()=>console[_0x21ece2(0x2e5)](_0x21ece2(0x2db)))['catch'](_0x33c57b=>showToast(_0x21ece2(0x331),![]));}const NotificationManager={'formatDate'(_0xa6c68d){const _0xd575bd=a2_0x18b4c3,_0x114108=new Date(_0xa6c68d),_0x42af3b={'weekday':_0xd575bd(0x2ea),'day':_0xd575bd(0x2dd),'month':'long'};let _0x5c5ce6=_0x114108[_0xd575bd(0x24e)](_0xd575bd(0x1e2),_0x42af3b);return _0x5c5ce6[_0xd575bd(0x215)](0x0)[_0xd575bd(0x1de)]()+_0x5c5ce6[_0xd575bd(0x23f)](0x1);},'getText'(_0x31d7f8,_0x423487){const _0x137d62=a2_0x18b4c3,_0x57d464=this['formatDate'](_0x423487[_0x137d62(0x283)]);switch(_0x31d7f8){case _0x137d62(0x22d):return _0x137d62(0x287)+(_0x137d62(0x2aa)+_0x57d464+'\x0a')+('<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20'+_0x423487[_0x137d62(0x1ea)]+_0x137d62(0x1f8)+_0x423487[_0x137d62(0x2bc)]+'\x0a\x0a')+_0x137d62(0x2c1);case'update':return'<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a'+_0x137d62(0x32a)+('<b>‚úÖ\x20'+_0x423487[_0x137d62(0x1ea)]+_0x137d62(0x1f8)+_0x423487[_0x137d62(0x2bc)]+_0x137d62(0x338))+(_0x137d62(0x2aa)+_0x57d464);case _0x137d62(0x216):return'<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a'+(_0x137d62(0x30b)+_0x57d464+'\x20('+_0x423487[_0x137d62(0x1ea)]+_0x137d62(0x31e));case _0x137d62(0x1f2):return _0x137d62(0x237)+'–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a'+'<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>';default:return'';}},async 'send'(_0x49bbef,_0x18acd1){const _0x9c148d=a2_0x18b4c3;console[_0x9c148d(0x2e5)](_0x9c148d(0x343),_0x49bbef,_0x18acd1);if(!_0x18acd1){console[_0x9c148d(0x2c9)](_0x9c148d(0x1f6));return;}const _0x49d2e5=String(_0x18acd1[_0x9c148d(0x1cf)]);console[_0x9c148d(0x2e5)](_0x9c148d(0x344),_0x49d2e5);if(!_0x18acd1[_0x9c148d(0x1cf)]||_0x49d2e5==='undefined'||_0x49d2e5==='null'){console[_0x9c148d(0x2c9)]('[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!');if(_0x18acd1['client']){const _0x53d510=clients[_0x9c148d(0x24f)](_0x4dc92d=>_0x4dc92d[_0x9c148d(0x2d9)]===_0x18acd1[_0x9c148d(0x30a)]);if(_0x53d510)return console['log']('[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:',_0x53d510['id']),this[_0x9c148d(0x2fe)](_0x49bbef,{..._0x18acd1,'clientId':_0x53d510['id']});}return;}if(_0x49d2e5[_0x9c148d(0x22b)]<0x5){console[_0x9c148d(0x258)](_0x9c148d(0x266),_0x49d2e5);return;}const _0x56417a=this['getText'](_0x49bbef,_0x18acd1);if(!_0x56417a){console[_0x9c148d(0x2c9)](_0x9c148d(0x292));return;}console[_0x9c148d(0x2e5)](_0x9c148d(0x2c4)+_0x49d2e5+'...'),DataManager[_0x9c148d(0x33f)](_0x9c148d(0x270),{'chatId':_0x49d2e5,'text':_0x56417a})[_0x9c148d(0x24c)](_0x1e1203=>console[_0x9c148d(0x2e5)]('[Notify]\x20Server\x20Response:',_0x1e1203))['catch'](_0x786550=>console['error'](_0x9c148d(0x23b),_0x786550));}};function getLocalDateStr(_0x41f9fe){const _0x3985a5=a2_0x18b4c3,_0x21fe45=_0x41f9fe[_0x3985a5(0x32f)](),_0x41762f=String(_0x41f9fe[_0x3985a5(0x274)]()+0x1)[_0x3985a5(0x1d3)](0x2,'0'),_0x5d6bc3=String(_0x41f9fe[_0x3985a5(0x269)]())[_0x3985a5(0x1d3)](0x2,'0');return _0x21fe45+'-'+_0x41762f+'-'+_0x5d6bc3;}function getDateStr(_0x1c42f8){const _0x49fe6a=a2_0x18b4c3,_0x31316f=new Date();return _0x31316f[_0x49fe6a(0x30e)](_0x31316f[_0x49fe6a(0x269)]()+_0x1c42f8),getLocalDateStr(_0x31316f);}function getStartOfWeek(_0x4ad1c0){const _0x28e662=a2_0x18b4c3,_0x5eb8cd=(function(){let _0x172d03=!![];return function(_0x13fc07,_0x10302c){const _0x2136fc=_0x172d03?function(){const _0x54f2c6=a2_0x5d6e;if(_0x10302c){const _0x88cb87=_0x10302c[_0x54f2c6(0x30d)](_0x13fc07,arguments);return _0x10302c=null,_0x88cb87;}}:function(){};return _0x172d03=![],_0x2136fc;};}()),_0x314a33=_0x5eb8cd(this,function(){const _0x22242c=a2_0x5d6e;return _0x314a33['toString']()[_0x22242c(0x308)](_0x22242c(0x2bd))[_0x22242c(0x1d4)]()['constructor'](_0x314a33)['search'](_0x22242c(0x2bd));});_0x314a33();const _0x44a159=new Date(_0x4ad1c0),_0x1b35ec=_0x44a159[_0x28e662(0x29e)](),_0x17e280=_0x44a159['getDate']()-_0x1b35ec+(_0x1b35ec===0x0?-0x6:0x1);return _0x44a159['setDate'](_0x17e280),_0x44a159[_0x28e662(0x306)](0x0,0x0,0x0,0x0),_0x44a159;}function hexToRgba(_0x2751b5,_0x13f8e5){const _0x12e2c0=a2_0x18b4c3;if(!_0x2751b5)return _0x12e2c0(0x2b1);let _0x7c7075=0x0,_0x51f1f6=0x0,_0x3b9164=0x0;if(_0x2751b5[_0x12e2c0(0x22b)]===0x4)_0x7c7075='0x'+_0x2751b5[0x1]+_0x2751b5[0x1],_0x51f1f6='0x'+_0x2751b5[0x2]+_0x2751b5[0x2],_0x3b9164='0x'+_0x2751b5[0x3]+_0x2751b5[0x3];else _0x2751b5['length']===0x7&&(_0x7c7075='0x'+_0x2751b5[0x1]+_0x2751b5[0x2],_0x51f1f6='0x'+_0x2751b5[0x3]+_0x2751b5[0x4],_0x3b9164='0x'+_0x2751b5[0x5]+_0x2751b5[0x6]);return _0x12e2c0(0x271)+ +_0x7c7075+',\x20'+ +_0x51f1f6+',\x20'+ +_0x3b9164+',\x20'+_0x13f8e5+')';}function renderTimeColumn(){const _0x4e3823=a2_0x18b4c3,_0x2233d6=document[_0x4e3823(0x314)](_0x4e3823(0x209)),_0x429ea2=document[_0x4e3823(0x314)](_0x4e3823(0x30c));_0x2233d6['innerHTML']='',_0x2233d6[_0x4e3823(0x1fc)](_0x429ea2);for(let _0x150f70=0x0;_0x150f70<0x18;_0x150f70++){const _0x1b2996=document[_0x4e3823(0x1ca)](_0x4e3823(0x1c5));_0x1b2996[_0x4e3823(0x2b8)]=_0x4e3823(0x1fd);if(_0x150f70>0x0)_0x1b2996[_0x4e3823(0x2d7)]=_0x4e3823(0x310)+String(_0x150f70)[_0x4e3823(0x1d3)](0x2,'0')+_0x4e3823(0x251);_0x2233d6[_0x4e3823(0x1fc)](_0x1b2996);}}function renderDayRange(_0x58d1c,_0x370a99){const _0x32e3ff=a2_0x18b4c3,_0x421a49=document[_0x32e3ff(0x314)]('daysHeaderTrack'),_0x170dfe=document[_0x32e3ff(0x314)]('gridColumns'),_0x57af98=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x12803e=new Date();_0x12803e[_0x32e3ff(0x306)](0x0,0x0,0x0,0x0);const _0x17f644=getLocalDateStr(new Date());for(let _0x211557=_0x58d1c;_0x211557<=_0x370a99;_0x211557++){const _0x1e62eb=new Date(_0x12803e);_0x1e62eb[_0x32e3ff(0x30e)](_0x1e62eb[_0x32e3ff(0x269)]()+_0x211557);const _0x1a10e5=getLocalDateStr(_0x1e62eb);let _0x34de63=_0x1e62eb[_0x32e3ff(0x29e)]()-0x1;if(_0x34de63===-0x1)_0x34de63=0x6;const _0x3edac4=_0x1a10e5===_0x17f644,_0x16f712=document['createElement'](_0x32e3ff(0x1c5));_0x16f712[_0x32e3ff(0x2b8)]=_0x32e3ff(0x297)+(_0x3edac4?_0x32e3ff(0x2c8):''),_0x16f712['id']=_0x32e3ff(0x29c)+_0x1a10e5,_0x16f712[_0x32e3ff(0x2f6)](_0x32e3ff(0x25b),_0x1a10e5),_0x16f712['innerHTML']=_0x32e3ff(0x28a)+_0x57af98[_0x34de63]+_0x32e3ff(0x217)+_0x1e62eb[_0x32e3ff(0x269)]()+_0x32e3ff(0x2b0)+_0x1a10e5+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x16f712[_0x32e3ff(0x305)]=()=>openDayOptions(_0x1a10e5,_0x57af98[_0x34de63]+'\x20'+_0x1e62eb[_0x32e3ff(0x269)]()),_0x421a49[_0x32e3ff(0x1fc)](_0x16f712);const _0xbb0400=document[_0x32e3ff(0x1ca)](_0x32e3ff(0x1c5));_0xbb0400[_0x32e3ff(0x2b8)]='day-column\x20'+(_0x3edac4?_0x32e3ff(0x2c8):''),_0xbb0400[_0x32e3ff(0x2f6)](_0x32e3ff(0x25b),_0x1a10e5),_0xbb0400[_0x32e3ff(0x2f6)](_0x32e3ff(0x228),_0x34de63),renderEventsForColumn(_0xbb0400,_0x1a10e5,_0x34de63),attachLongPressHandler(_0xbb0400,_0x1e62eb),_0x170dfe[_0x32e3ff(0x1fc)](_0xbb0400),updateDayStats(_0x1a10e5);}}function reRenderBlocks(){const _0x283f75=a2_0x18b4c3;document['querySelectorAll'](_0x283f75(0x238))['forEach'](_0x156418=>{const _0x473d01=_0x283f75;_0x156418[_0x473d01(0x1c9)](_0x473d01(0x2f4))[_0x473d01(0x341)](_0x51494e=>_0x51494e[_0x473d01(0x1e8)]());const _0x36ed64=_0x156418[_0x473d01(0x2cc)](_0x473d01(0x25b)),_0x3ccc34=parseInt(_0x156418[_0x473d01(0x2cc)]('data-day-idx')),_0xd5ae4d=Math['round'](_0x156418[_0x473d01(0x1e3)]);(availabilityPattern[_0x3ccc34]||[])[_0x473d01(0x341)](_0x20aaaa=>{const _0x5e6705=_0x473d01,_0x3c46d5=document[_0x5e6705(0x1ca)](_0x5e6705(0x1c5));_0x3c46d5[_0x5e6705(0x2b8)]=_0x5e6705(0x2a3);const _0x5d395a=_0x20aaaa*GRID_H;_0x3c46d5[_0x5e6705(0x289)][_0x5e6705(0x20f)]=_0x5d395a+'px',_0x3c46d5[_0x5e6705(0x289)]['backgroundPosition']='-'+_0xd5ae4d+_0x5e6705(0x2f8)+_0x5d395a+'px',_0x156418[_0x5e6705(0x1fc)](_0x3c46d5);});if(specialRanges&&specialRanges[_0x473d01(0x22b)]>0x0){const _0x6de826=new Date(_0x36ed64+_0x473d01(0x250))[_0x473d01(0x332)](),_0x4f93fc=new Date(_0x36ed64+_0x473d01(0x302))[_0x473d01(0x332)]();specialRanges[_0x473d01(0x341)](_0x29a536=>{const _0x6b6659=_0x473d01,_0x392ff0=new Date(_0x29a536['start'])[_0x6b6659(0x332)](),_0x34992a=new Date(_0x29a536[_0x6b6659(0x2bc)])[_0x6b6659(0x332)](),_0x2685ca=Math[_0x6b6659(0x219)](_0x6de826,_0x392ff0),_0x2ac0b4=Math[_0x6b6659(0x295)](_0x4f93fc,_0x34992a);if(_0x2685ca<_0x2ac0b4){if(_0x2685ca<=_0x6de826&&_0x2ac0b4>=_0x4f93fc-0xea60){if(!_0x156418[_0x6b6659(0x243)]('.day-off-overlay')){const _0x4944ab=document[_0x6b6659(0x1ca)](_0x6b6659(0x1c5));_0x4944ab[_0x6b6659(0x2b8)]=_0x6b6659(0x268),_0x4944ab[_0x6b6659(0x289)][_0x6b6659(0x1ef)]='-'+_0xd5ae4d+_0x6b6659(0x2d6),_0x156418['appendChild'](_0x4944ab);}}else{const _0x44d3f4=(_0x2685ca-_0x6de826)/0x36ee80*GRID_H,_0x168c42=(_0x2ac0b4-_0x2685ca)/0x36ee80*GRID_H,_0x115418=document[_0x6b6659(0x1ca)](_0x6b6659(0x1c5));_0x115418['className']='blocked-range-part\x20stripe-bg',_0x115418[_0x6b6659(0x289)][_0x6b6659(0x20f)]=_0x44d3f4+'px',_0x115418['style'][_0x6b6659(0x2c3)]=_0x168c42+'px',_0x115418['style']['backgroundPosition']='-'+_0xd5ae4d+'px\x20-'+_0x44d3f4+'px',_0x156418[_0x6b6659(0x1fc)](_0x115418);}}});}if(dateExceptions[_0x36ed64]==='off'){if(!_0x156418['querySelector']('.day-off-overlay')){const _0x2029c6=document['createElement'](_0x473d01(0x1c5));_0x2029c6['className']=_0x473d01(0x268),_0x2029c6[_0x473d01(0x289)][_0x473d01(0x1ef)]='-'+_0xd5ae4d+'px\x200px',_0x156418['appendChild'](_0x2029c6);}}renderEventsForColumn(_0x156418,_0x36ed64,_0x3ccc34),updateDayStats(_0x36ed64);});}function updateAllDayStats(){const _0x40dcb8=a2_0x18b4c3;document['querySelectorAll'](_0x40dcb8(0x301))['forEach'](_0x2789ed=>{const _0x5c8b6e=_0x40dcb8;updateDayStats(_0x2789ed['getAttribute'](_0x5c8b6e(0x25b)));});}function a2_0x5d6e(_0x407771,_0x1ba9ba){_0x407771=_0x407771-0x1c4;const _0x4bf9e0=a2_0x4c72();let _0xd2bb6e=_0x4bf9e0[_0x407771];return _0xd2bb6e;}function updateDayStats(_0x3855eb){const _0x56cb08=a2_0x18b4c3,_0x1bb59a=document[_0x56cb08(0x314)](_0x56cb08(0x21f)+_0x3855eb);if(!_0x1bb59a)return;const _0xfb15d4=new Date(_0x3855eb);let _0x466605=_0xfb15d4[_0x56cb08(0x29e)]()-0x1;if(_0x466605===-0x1)_0x466605=0x6;if(dateExceptions[_0x3855eb]==='off'){_0x1bb59a[_0x56cb08(0x289)][_0x56cb08(0x28c)]='none';return;}const _0x32107d=availabilityPattern[_0x466605]||[],_0x2a38c2=0x18-_0x32107d[_0x56cb08(0x22b)],_0x1b81fa=_0x2a38c2*0x3c,_0xcfcc94=sessions[_0x56cb08(0x201)](_0x44c281=>_0x44c281[_0x56cb08(0x283)]===_0x3855eb&&_0x44c281['status']!==_0x56cb08(0x22a));if(_0xcfcc94['length']===0x0){_0x1bb59a[_0x56cb08(0x289)]['display']='none';return;}let _0xc16595=_0xcfcc94['map'](_0x5cad4a=>{const _0x469f27=_0x56cb08,[_0x2f920e,_0x66be98]=_0x5cad4a[_0x469f27(0x1ea)][_0x469f27(0x204)](':')[_0x469f27(0x1e6)](Number),[_0x2e2828,_0x1d1915]=_0x5cad4a[_0x469f27(0x2bc)][_0x469f27(0x204)](':')['map'](Number);return[_0x2f920e*0x3c+_0x66be98,_0x2e2828*0x3c+_0x1d1915];});_0xc16595['sort']((_0x55299d,_0x3f1618)=>_0x55299d[0x0]-_0x3f1618[0x0]);let _0x4a3849=[];if(_0xc16595[_0x56cb08(0x22b)]>0x0){let _0x5e1e4b=_0xc16595[0x0];for(let _0xb02d16=0x1;_0xb02d16<_0xc16595[_0x56cb08(0x22b)];_0xb02d16++){_0xc16595[_0xb02d16][0x0]<_0x5e1e4b[0x1]?_0x5e1e4b[0x1]=Math[_0x56cb08(0x219)](_0x5e1e4b[0x1],_0xc16595[_0xb02d16][0x1]):(_0x4a3849[_0x56cb08(0x273)](_0x5e1e4b),_0x5e1e4b=_0xc16595[_0xb02d16]);}_0x4a3849[_0x56cb08(0x273)](_0x5e1e4b);}let _0x2aeef1=0x0;_0x4a3849['forEach'](_0x493af3=>_0x2aeef1+=_0x493af3[0x1]-_0x493af3[0x0]),_0x1bb59a[_0x56cb08(0x289)][_0x56cb08(0x28c)]='flex';const _0x4d914c=_0x1bb59a[_0x56cb08(0x243)](_0x56cb08(0x21a));if(_0x1b81fa===0x0){_0x4d914c[_0x56cb08(0x289)][_0x56cb08(0x2ee)]='100%',_0x4d914c['style'][_0x56cb08(0x1ed)]=_0x56cb08(0x240);return;}const _0x21fc6b=_0x2aeef1/_0x1b81fa*0x64;console[_0x56cb08(0x2e5)]('['+_0x3855eb+_0x56cb08(0x328)+_0x2a38c2+'—á,\x20–ó–∞–Ω—è—Ç–æ:\x20'+_0x2aeef1+_0x56cb08(0x21e)+_0x21fc6b['toFixed'](0x1)+'%'),_0x21fc6b>0x64?(_0x4d914c[_0x56cb08(0x289)][_0x56cb08(0x2ee)]=_0x56cb08(0x1d8),_0x4d914c[_0x56cb08(0x289)][_0x56cb08(0x1ed)]=_0x56cb08(0x240)):(_0x4d914c['style'][_0x56cb08(0x2ee)]=_0x21fc6b+'%',_0x4d914c[_0x56cb08(0x289)]['background']=_0x56cb08(0x2d2));}function renderEventsForColumn(_0x101aff,_0x32e990,_0x87fd43){const _0x34afeb=a2_0x18b4c3,_0x14cc2c=sessions[_0x34afeb(0x201)](_0x4b4257=>_0x4b4257[_0x34afeb(0x283)]===_0x32e990),_0x34a2fb=_0x14cc2c[_0x34afeb(0x1e6)](_0x426b04=>{const _0x1ba71e=_0x34afeb,[_0x25f921,_0x443c6d]=_0x426b04[_0x1ba71e(0x1ea)][_0x1ba71e(0x204)](':')[_0x1ba71e(0x1e6)](Number),[_0x115a52,_0x257316]=_0x426b04[_0x1ba71e(0x2bc)][_0x1ba71e(0x204)](':')['map'](Number);return{'data':_0x426b04,'start':_0x25f921*0x3c+_0x443c6d,'end':_0x115a52*0x3c+_0x257316,'colIndex':0x0};});_0x34a2fb[_0x34afeb(0x2a2)]((_0x578ac5,_0x2a7b7e)=>{const _0x2fb759=_0x34afeb;if(_0x578ac5[_0x2fb759(0x1ea)]!==_0x2a7b7e[_0x2fb759(0x1ea)])return _0x578ac5['start']-_0x2a7b7e['start'];return _0x2a7b7e[_0x2fb759(0x2bc)]-_0x2a7b7e['start']-(_0x578ac5[_0x2fb759(0x2bc)]-_0x578ac5[_0x2fb759(0x1ea)]);});const _0x49ac25=[];_0x34a2fb[_0x34afeb(0x341)](_0x353d2e=>{const _0x22f9ef=_0x34afeb;let _0x21b36f=![];for(let _0x437e40=0x0;_0x437e40<_0x49ac25[_0x22f9ef(0x22b)];_0x437e40++){const _0x9cdb3=_0x49ac25[_0x437e40],_0x37bd15=_0x9cdb3[_0x9cdb3[_0x22f9ef(0x22b)]-0x1];if(_0x353d2e[_0x22f9ef(0x1ea)]>=_0x37bd15[_0x22f9ef(0x2bc)]){_0x9cdb3[_0x22f9ef(0x273)](_0x353d2e),_0x353d2e['colIndex']=_0x437e40,_0x21b36f=!![];break;}}!_0x21b36f&&(_0x49ac25[_0x22f9ef(0x273)]([_0x353d2e]),_0x353d2e['colIndex']=_0x49ac25[_0x22f9ef(0x22b)]-0x1);}),_0x34a2fb[_0x34afeb(0x341)](_0x2c0e6a=>{const _0x5ac2ad=_0x34afeb;let _0x563287=0x0;_0x34a2fb[_0x5ac2ad(0x341)](_0x5dcc87=>{const _0x23e400=_0x5ac2ad;if(Math['max'](_0x2c0e6a[_0x23e400(0x1ea)],_0x5dcc87[_0x23e400(0x1ea)])<Math[_0x23e400(0x295)](_0x2c0e6a[_0x23e400(0x2bc)],_0x5dcc87[_0x23e400(0x2bc)])){if(_0x5dcc87[_0x23e400(0x234)]>_0x563287)_0x563287=_0x5dcc87[_0x23e400(0x234)];}});const _0x1c6dfa=_0x563287+0x1,_0x1efe3c=0x64/_0x1c6dfa,_0x2f5f83=_0x2c0e6a['colIndex']*_0x1efe3c,_0x38e266=createEventEl(_0x2c0e6a[_0x5ac2ad(0x257)]);_0x38e266[_0x5ac2ad(0x289)][_0x5ac2ad(0x2ee)]=_0x5ac2ad(0x218)+_0x1efe3c+_0x5ac2ad(0x280),_0x38e266[_0x5ac2ad(0x289)]['left']='calc('+_0x2f5f83+_0x5ac2ad(0x203),_0x38e266['style'][_0x5ac2ad(0x24b)]=0xa+_0x2c0e6a[_0x5ac2ad(0x234)],_0x1efe3c<0x55&&_0x38e266[_0x5ac2ad(0x303)][_0x5ac2ad(0x22f)](_0x5ac2ad(0x211)),_0x101aff['appendChild'](_0x38e266);});}function createEventEl(_0x22ff9d){const _0x22dd77=a2_0x18b4c3,[_0x44d846,_0x230da7]=_0x22ff9d[_0x22dd77(0x1ea)][_0x22dd77(0x204)](':')['map'](Number),[_0x38ad9a,_0x195fba]=_0x22ff9d[_0x22dd77(0x2bc)]['split'](':')[_0x22dd77(0x1e6)](Number),_0x3cd326=(_0x44d846*0x3c+_0x230da7)/0x3c*GRID_H,_0xa4865=(_0x38ad9a*0x3c+_0x195fba-(_0x44d846*0x3c+_0x230da7))/0x3c*GRID_H,_0x331a16=document[_0x22dd77(0x1ca)](_0x22dd77(0x1c5)),_0x11e32e=_0x22ff9d[_0x22dd77(0x2ae)]==='completed'?_0x22dd77(0x275):'';_0x331a16[_0x22dd77(0x2b8)]=_0x22dd77(0x1cd)+_0x11e32e,_0x331a16[_0x22dd77(0x289)][_0x22dd77(0x20f)]=_0x3cd326+'px',_0x331a16['style'][_0x22dd77(0x2c3)]=Math[_0x22dd77(0x219)](_0xa4865,0x14)+'px';const _0x3c7151=clients['find'](_0x58db91=>_0x22ff9d[_0x22dd77(0x1cf)]&&String(_0x58db91['id'])===String(_0x22ff9d[_0x22dd77(0x1cf)])||_0x58db91[_0x22dd77(0x2d9)]===_0x22ff9d[_0x22dd77(0x30a)]),_0x4440a7=_0x3c7151?_0x3c7151[_0x22dd77(0x2b3)]:'#0a84ff';_0x331a16[_0x22dd77(0x289)]['borderLeftColor']=_0x4440a7,_0x331a16['style'][_0x22dd77(0x2a8)]=hexToRgba(_0x4440a7,0.85);let _0x412c69=_0x22dd77(0x224)+_0x22ff9d[_0x22dd77(0x30a)]+_0x22dd77(0x347)+_0x22ff9d[_0x22dd77(0x1ea)]+_0x22dd77(0x256)+_0x22ff9d[_0x22dd77(0x2bc)]+_0x22dd77(0x313);return _0x22ff9d[_0x22dd77(0x312)]&&(_0x412c69+=_0x22dd77(0x279)),_0x22ff9d[_0x22dd77(0x2ae)]==='completed'&&(_0x412c69+=_0x22dd77(0x334)),_0x331a16[_0x22dd77(0x2d7)]=_0x412c69,_0x331a16[_0x22dd77(0x305)]=_0xf019df=>{const _0x534bf9=_0x22dd77;_0xf019df[_0x534bf9(0x2ce)](),openEdit(_0x22ff9d);},_0x331a16;}function attachLongPressHandler(_0xcacc4f,_0x22c020){const _0x52210c=a2_0x18b4c3;let _0x543be4=0x0,_0x4c1127=null;const _0x5dfdca=_0x48b761=>{const _0x157347=a2_0x5d6e;if(_0x48b761[_0x157347(0x1e4)][_0x157347(0x262)](_0x157347(0x1e9)))return;isScrolling=![],_0x543be4=_0x48b761['touches']?_0x48b761['touches'][0x0]['clientY']:_0x48b761[_0x157347(0x31f)],_0x4c1127=setTimeout(()=>{const _0x4e62dc=_0x157347;if(!isScrolling){navigator[_0x4e62dc(0x263)]?.(0x32);const _0x4c7587=_0xcacc4f[_0x4e62dc(0x2d1)](),_0x4611dd=Math[_0x4e62dc(0x33b)]((_0x543be4-_0x4c7587[_0x4e62dc(0x20f)])/GRID_H);_0x22c020[_0x4e62dc(0x306)](_0x4611dd,0x0),openAddSession(_0x22c020);}},0x1f4);},_0x4b65ad=()=>{isScrolling=!![],clearTimeout(_0x4c1127);},_0x4f04f9=()=>{clearTimeout(_0x4c1127);};_0xcacc4f[_0x52210c(0x1d1)](_0x52210c(0x25d),_0x5dfdca,{'passive':!![]}),_0xcacc4f[_0x52210c(0x1d1)]('touchmove',_0x4b65ad,{'passive':!![]}),_0xcacc4f[_0x52210c(0x1d1)](_0x52210c(0x206),_0x4f04f9),_0xcacc4f[_0x52210c(0x1d1)]('mousedown',_0x5dfdca),_0xcacc4f[_0x52210c(0x1d1)](_0x52210c(0x294),_0x4b65ad),_0xcacc4f[_0x52210c(0x1d1)]('mouseup',_0x4f04f9);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x2d3cf6=a2_0x18b4c3,_0x388e73=document[_0x2d3cf6(0x314)](_0x2d3cf6(0x2e0)),_0x28a74c=_0x388e73[_0x2d3cf6(0x300)],_0x16c1bb=_0x388e73[_0x2d3cf6(0x222)],_0x1541ec=_0x388e73[_0x2d3cf6(0x1d6)];if(_0x16c1bb-(_0x28a74c+_0x1541ec)<0x12c){const _0x1bf3c5=endOffset;endOffset+=0xe,renderDayRange(_0x1bf3c5+0x1,endOffset),reRenderBlocks();}if(_0x28a74c<0x12c){const _0x579e9e=startOffset;startOffset-=0xe,prependDays(startOffset,_0x579e9e-0x1),_0x388e73[_0x2d3cf6(0x300)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x4a5b28,_0x545764){const _0x40ffb7=a2_0x18b4c3,_0x40df76=document[_0x40ffb7(0x314)](_0x40ffb7(0x208)),_0x485c16=document[_0x40ffb7(0x314)](_0x40ffb7(0x248)),_0x4c10f5=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x30f08a=new Date();_0x30f08a['setHours'](0x0,0x0,0x0,0x0);const _0x2246a0=getLocalDateStr(new Date()),_0x30dd38=document[_0x40ffb7(0x223)](),_0x46342d=document[_0x40ffb7(0x223)]();for(let _0x8eb72c=_0x4a5b28;_0x8eb72c<=_0x545764;_0x8eb72c++){const _0x493c33=new Date(_0x30f08a);_0x493c33[_0x40ffb7(0x30e)](_0x493c33[_0x40ffb7(0x269)]()+_0x8eb72c);const _0x5c2e2c=getLocalDateStr(_0x493c33);let _0x48b2ba=_0x493c33['getDay']()-0x1;if(_0x48b2ba===-0x1)_0x48b2ba=0x6;const _0x44e8c8=_0x5c2e2c===_0x2246a0,_0x1f3ed2=document[_0x40ffb7(0x1ca)](_0x40ffb7(0x1c5));_0x1f3ed2[_0x40ffb7(0x2b8)]=_0x40ffb7(0x297)+(_0x44e8c8?'today':''),_0x1f3ed2['id']=_0x40ffb7(0x29c)+_0x5c2e2c,_0x1f3ed2[_0x40ffb7(0x2f6)]('data-date',_0x5c2e2c),_0x1f3ed2['innerHTML']=_0x40ffb7(0x28a)+_0x4c10f5[_0x48b2ba]+_0x40ffb7(0x217)+_0x493c33[_0x40ffb7(0x269)]()+_0x40ffb7(0x2b0)+_0x5c2e2c+_0x40ffb7(0x1c6),_0x1f3ed2[_0x40ffb7(0x305)]=()=>openDayOptions(_0x5c2e2c,_0x4c10f5[_0x48b2ba]+'\x20'+_0x493c33[_0x40ffb7(0x269)]()),_0x30dd38[_0x40ffb7(0x1fc)](_0x1f3ed2);const _0x5403bd=document[_0x40ffb7(0x1ca)](_0x40ffb7(0x1c5));_0x5403bd[_0x40ffb7(0x2b8)]=_0x40ffb7(0x324)+(_0x44e8c8?_0x40ffb7(0x2c8):''),_0x5403bd[_0x40ffb7(0x2f6)](_0x40ffb7(0x25b),_0x5c2e2c),_0x5403bd[_0x40ffb7(0x2f6)](_0x40ffb7(0x228),_0x48b2ba),renderEventsForColumn(_0x5403bd,_0x5c2e2c,_0x48b2ba),attachLongPressHandler(_0x5403bd,_0x493c33),_0x46342d['appendChild'](_0x5403bd),updateDayStats(_0x5c2e2c);}_0x40df76[_0x40ffb7(0x1cc)](_0x30dd38,_0x40df76[_0x40ffb7(0x261)]),_0x485c16[_0x40ffb7(0x1cc)](_0x46342d,_0x485c16['querySelector'](_0x40ffb7(0x1f9)));}function validateAppointment(_0x3917f0,_0x558ad1,_0x189d1b,_0x3a2369,_0x19aa11){const _0x3878bd=a2_0x18b4c3,[_0x266416,_0x3b92ed]=_0x558ad1[_0x3878bd(0x204)](':')[_0x3878bd(0x1e6)](Number),[_0x4a63a9,_0x1f326d]=_0x189d1b['split'](':')[_0x3878bd(0x1e6)](Number),_0x409a17=_0x266416*0x3c+_0x3b92ed,_0x2e7830=_0x4a63a9*0x3c+_0x1f326d,_0x1be9d9=String(_0x19aa11);let _0x25a7c2=![],_0x3c1ac8='';for(let _0x25b34f of sessions){if(_0x25b34f[_0x3878bd(0x283)]!==_0x3917f0)continue;if(_0x25b34f[_0x3878bd(0x2ae)]===_0x3878bd(0x22a))continue;if(_0x3a2369&&String(_0x25b34f['id'])===String(_0x3a2369))continue;const [_0x166fa8,_0x79aeb]=_0x25b34f[_0x3878bd(0x1ea)][_0x3878bd(0x204)](':')[_0x3878bd(0x1e6)](Number),[_0xff3edc,_0x2ac9c0]=_0x25b34f[_0x3878bd(0x2bc)]['split'](':')[_0x3878bd(0x1e6)](Number),_0x59c79a=_0x166fa8*0x3c+_0x79aeb,_0x36aa90=_0xff3edc*0x3c+_0x2ac9c0;if(Math[_0x3878bd(0x219)](_0x409a17,_0x59c79a)<Math[_0x3878bd(0x295)](_0x2e7830,_0x36aa90)){if(_0x25b34f['clientId']&&String(_0x25b34f[_0x3878bd(0x1cf)])===_0x1be9d9)return{'valid':![],'msg':_0x3878bd(0x2a1)+_0x25b34f['client']+_0x3878bd(0x2cf)};_0x25a7c2=!![],_0x3c1ac8=_0x25b34f[_0x3878bd(0x30a)];}}if(_0x25a7c2)return{'valid':!![],'warning':'–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20'+_0x3c1ac8};return{'valid':!![]};}function updateDateDisplay(){const _0x4aacd9=a2_0x18b4c3,_0x240eea=document[_0x4aacd9(0x314)](_0x4aacd9(0x296))[_0x4aacd9(0x264)],_0x212e43=document[_0x4aacd9(0x314)]('sheetDateSubtitle');if(!_0x240eea){_0x212e43[_0x4aacd9(0x247)]='';return;}const [_0x37f986,_0x132efb,_0x40a6ea]=_0x240eea['split']('-')[_0x4aacd9(0x1e6)](Number),_0xcc262a=new Date(_0x37f986,_0x132efb-0x1,_0x40a6ea),_0x9acd59={'weekday':'long','day':_0x4aacd9(0x2dd),'month':_0x4aacd9(0x2ea),'year':_0x4aacd9(0x2dd)};let _0x2a9d43=_0xcc262a[_0x4aacd9(0x24e)](_0x4aacd9(0x1e2),_0x9acd59);_0x2a9d43=_0x2a9d43['charAt'](0x0)['toUpperCase']()+_0x2a9d43[_0x4aacd9(0x23f)](0x1),_0x212e43[_0x4aacd9(0x247)]=_0x2a9d43;}function autoSetEndTime(){const _0x4ad39d=a2_0x18b4c3,_0x485d1d=document[_0x4ad39d(0x314)](_0x4ad39d(0x29f))[_0x4ad39d(0x264)];if(!_0x485d1d)return;const [_0x34d2d4,_0x65d64]=_0x485d1d['split'](':')['map'](Number);let _0x251184=_0x34d2d4+0x1;if(_0x251184>0x17)_0x251184=0x0;const _0x178c7e=String(_0x251184)[_0x4ad39d(0x1d3)](0x2,'0')+':'+String(_0x65d64)[_0x4ad39d(0x1d3)](0x2,'0');document[_0x4ad39d(0x314)](_0x4ad39d(0x335))[_0x4ad39d(0x264)]=_0x178c7e;}function populateClientSelect(){const _0x21934b=a2_0x18b4c3,_0x18d672=document['getElementById']('inpClient');_0x18d672[_0x21934b(0x2d7)]='';if(clients['length']===0x0){const _0x4ac65f=document['createElement'](_0x21934b(0x307));_0x4ac65f[_0x21934b(0x32e)]=_0x21934b(0x23d),_0x18d672[_0x21934b(0x1fc)](_0x4ac65f);return;}clients[_0x21934b(0x341)](_0x23b012=>{const _0x3ffe8f=_0x21934b,_0x1d26f4=document[_0x3ffe8f(0x1ca)](_0x3ffe8f(0x307));_0x1d26f4[_0x3ffe8f(0x264)]=_0x23b012['name'],_0x1d26f4[_0x3ffe8f(0x247)]=_0x23b012[_0x3ffe8f(0x2d9)],_0x18d672[_0x3ffe8f(0x1fc)](_0x1d26f4);});}function openActionSheet(_0x4d370b){const _0x581530=a2_0x18b4c3,_0x54bdff=document[_0x581530(0x314)]('actionSheet'),_0x892229=document[_0x581530(0x314)](_0x581530(0x1c8)),_0x1aa6c5=document[_0x581530(0x314)](_0x581530(0x29d)),_0x54267c=document[_0x581530(0x314)](_0x581530(0x284)),_0x1f945b=document[_0x581530(0x314)](_0x581530(0x2a0));_0x892229[_0x581530(0x303)]['add'](_0x581530(0x1c4)),_0x54bdff[_0x581530(0x303)][_0x581530(0x22f)](_0x581530(0x249));if(_0x4d370b===_0x581530(0x2a4))_0x1aa6c5[_0x581530(0x247)]=_0x581530(0x235),_0x54267c['textContent']='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x54267c[_0x581530(0x305)]=()=>{const _0x5a95d8=_0x581530;closeActionSheet(),updateSeriesBatch(_0x5a95d8(0x27e),tempSessionData);},_0x1f945b[_0x581530(0x247)]=_0x581530(0x202),_0x1f945b[_0x581530(0x305)]=()=>{const _0x2ad71f=_0x581530;closeActionSheet(),updateSeriesBatch(_0x2ad71f(0x2e4),tempSessionData);};else _0x4d370b===_0x581530(0x1dd)&&(_0x1aa6c5[_0x581530(0x247)]=_0x581530(0x30f),_0x54267c[_0x581530(0x247)]='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x54267c['className']=_0x581530(0x323),_0x54267c[_0x581530(0x305)]=()=>{const _0x2b97a6=_0x581530;closeActionSheet(),commitDelete(_0x2b97a6(0x27e),sessions[_0x2b97a6(0x24f)](_0x14a03a=>_0x14a03a['id']===editingId));},_0x1f945b[_0x581530(0x247)]=_0x581530(0x202),_0x1f945b[_0x581530(0x2b8)]=_0x581530(0x293),_0x1f945b['onclick']=()=>{const _0x3687fc=_0x581530;closeActionSheet(),commitDelete(_0x3687fc(0x2e4),sessions[_0x3687fc(0x24f)](_0x42b46=>_0x42b46['id']===editingId));});}function closeActionSheet(){const _0x5270df=a2_0x18b4c3;document['getElementById']('actionSheet')['classList'][_0x5270df(0x1e8)](_0x5270df(0x249)),document[_0x5270df(0x314)]('actionSheetOverlay')['classList'][_0x5270df(0x1e8)](_0x5270df(0x1c4));}function openSettings(){const _0x22f20d=a2_0x18b4c3;openSheet(_0x22f20d(0x1e5));}function saveCoachSettings(){const _0x5cf0e2=a2_0x18b4c3,_0x2d91bf=document['getElementById'](_0x5cf0e2(0x2ad))[_0x5cf0e2(0x264)];localStorage[_0x5cf0e2(0x2e3)](_0x5cf0e2(0x254),_0x2d91bf),console[_0x5cf0e2(0x2e5)](_0x5cf0e2(0x2ef),_0x2d91bf),DataManager[_0x5cf0e2(0x33f)](_0x5cf0e2(0x2e7),{'settings':{'cancel_window':_0x2d91bf}})[_0x5cf0e2(0x2d5)](_0x597c01=>{const _0x3209d7=_0x5cf0e2;console[_0x3209d7(0x2c9)](_0x3209d7(0x298),_0x597c01),showToast(_0x3209d7(0x2f9),![]);});}function loadCoachSettings(){const _0x39c895=a2_0x18b4c3,_0x166a46=localStorage[_0x39c895(0x252)](_0x39c895(0x254));_0x166a46&&(document[_0x39c895(0x314)](_0x39c895(0x2ad))[_0x39c895(0x264)]=_0x166a46);}function openRangesSheet(){closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet('rangesSheet');}function addRange(){const _0x41feb8=a2_0x18b4c3,_0x3ca3f4=document['getElementById'](_0x41feb8(0x28f))[_0x41feb8(0x264)],_0x47cc22=document[_0x41feb8(0x314)]('rangeStartTime')[_0x41feb8(0x264)],_0x217064=document[_0x41feb8(0x314)](_0x41feb8(0x315))[_0x41feb8(0x264)],_0x342595=document[_0x41feb8(0x314)](_0x41feb8(0x231))[_0x41feb8(0x264)];if(!_0x3ca3f4||!_0x47cc22||!_0x217064||!_0x342595)return alert(_0x41feb8(0x2dc));const _0x30aa37=_0x3ca3f4+'T'+_0x47cc22,_0x22c652=_0x217064+'T'+_0x342595;if(_0x30aa37>=_0x22c652)return alert(_0x41feb8(0x2c5));specialRanges[_0x41feb8(0x273)]({'start':_0x30aa37,'end':_0x22c652}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x41feb8(0x1dc)](),DataManager[_0x41feb8(0x33f)]('save_settings',{'settings':{'ranges':specialRanges}});}function deleteRange(_0x5be536){const _0x1d2acf=a2_0x18b4c3;specialRanges[_0x1d2acf(0x1fb)](_0x5be536,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x1d2acf(0x1dc)](),DataManager['fetchFromServer']('save_settings',{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x20bb48=a2_0x18b4c3;document[_0x20bb48(0x314)](_0x20bb48(0x28f))[_0x20bb48(0x264)]='',document[_0x20bb48(0x314)](_0x20bb48(0x2ca))[_0x20bb48(0x264)]=_0x20bb48(0x1f5),document[_0x20bb48(0x314)]('rangeEndDate')[_0x20bb48(0x264)]='',document[_0x20bb48(0x314)](_0x20bb48(0x231))['value']=_0x20bb48(0x321);}function renderRangesList(){const _0x3b6b8b=a2_0x18b4c3,_0x5452e4=document[_0x3b6b8b(0x314)](_0x3b6b8b(0x205));_0x5452e4[_0x3b6b8b(0x2d7)]='';if(!specialRanges[_0x3b6b8b(0x22b)]){_0x5452e4[_0x3b6b8b(0x2d7)]=_0x3b6b8b(0x21c);return;}specialRanges[_0x3b6b8b(0x341)]((_0x3b1af8,_0x100cb6)=>{const _0x41fa59=_0x3b6b8b,_0x4e8fb0=document[_0x41fa59(0x1ca)](_0x41fa59(0x1c5));_0x4e8fb0['className']=_0x41fa59(0x2b4);const _0x4a941c=_0x6f9b68=>{const _0x57bd1e=_0x41fa59,_0x32bf15=new Date(_0x6f9b68);return _0x32bf15[_0x57bd1e(0x269)]()+'.'+String(_0x32bf15[_0x57bd1e(0x274)]()+0x1)['padStart'](0x2,'0')+'\x20'+String(_0x32bf15['getHours']())[_0x57bd1e(0x1d3)](0x2,'0')+':'+String(_0x32bf15[_0x57bd1e(0x253)]())[_0x57bd1e(0x1d3)](0x2,'0');};_0x4e8fb0[_0x41fa59(0x2d7)]=_0x41fa59(0x200)+_0x4a941c(_0x3b1af8[_0x41fa59(0x1ea)])+'\x20‚Äî\x20'+_0x4a941c(_0x3b1af8[_0x41fa59(0x2bc)])+_0x41fa59(0x1d0)+_0x100cb6+_0x41fa59(0x207),_0x5452e4[_0x41fa59(0x1fc)](_0x4e8fb0);});}function scrollToToday(){const _0x38b383=a2_0x18b4c3,_0x3d92c2=getLocalDateStr(new Date()),_0x5539a5=document[_0x38b383(0x314)]('header-'+_0x3d92c2),_0x57d823=document[_0x38b383(0x314)](_0x38b383(0x2e0));if(_0x5539a5&&_0x57d823){const _0x3ad539=_0x57d823[_0x38b383(0x1d6)],_0x3d235d=_0x5539a5[_0x38b383(0x1e3)],_0x52805f=_0x5539a5[_0x38b383(0x241)];_0x57d823['scrollLeft']=_0x3d235d-_0x3ad539/0x2+_0x52805f/0x2,_0x57d823[_0x38b383(0x2b2)]=0x9*GRID_H;}}function onScroll(){const _0x4337e4=a2_0x18b4c3,_0x5813fb=document['getElementById'](_0x4337e4(0x2e0)),_0x31be96=document[_0x4337e4(0x1c9)](_0x4337e4(0x301));for(let _0x2e8f58 of _0x31be96)if(_0x2e8f58[_0x4337e4(0x1e3)]>=_0x5813fb[_0x4337e4(0x300)]){const _0x3199ec=new Date(_0x2e8f58[_0x4337e4(0x2cc)]('data-date'));document[_0x4337e4(0x314)](_0x4337e4(0x225))['textContent']=_0x3199ec['toLocaleString']('ru',{'month':_0x4337e4(0x2ea)})[_0x4337e4(0x1de)]()+'\x20'+_0x3199ec[_0x4337e4(0x32f)]();break;}}function showToast(_0x22b296,_0x12f79e=![]){const _0x338ba6=a2_0x18b4c3,_0x12bccd=document['getElementById'](_0x338ba6(0x329));_0x12bccd[_0x338ba6(0x2b8)]=_0x338ba6(0x1ce)+(_0x12f79e?_0x338ba6(0x1cb):''),document['getElementById'](_0x338ba6(0x2d3))['textContent']=_0x12f79e?'–£—Å–ø–µ—à–Ω–æ':_0x338ba6(0x1da),document[_0x338ba6(0x314)]('toastMessage')[_0x338ba6(0x247)]=_0x22b296,_0x12bccd['classList'][_0x338ba6(0x22f)]('show'),setTimeout(()=>{const _0x6cb2ac=_0x338ba6;_0x12bccd[_0x6cb2ac(0x303)]['remove'](_0x6cb2ac(0x23a));},0xbb8);}function openDayOptions(_0xf60fda,_0x7f0398){const _0x2273b6=a2_0x18b4c3;selectedDayForOptions=_0xf60fda,document[_0x2273b6(0x314)]('dayOptionsTitle')[_0x2273b6(0x247)]=_0x7f0398,openSheet(_0x2273b6(0x31d));}function toggleDayOff(){const _0x557033=a2_0x18b4c3;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x557033(0x339),reRenderBlocks(),closeAllSheets(),DataManager[_0x557033(0x1dc)](),DataManager[_0x557033(0x33f)](_0x557033(0x2e7),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x90e146=a2_0x18b4c3;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x90e146(0x1dc)](),DataManager['fetchFromServer'](_0x90e146(0x2e7),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x3baf77){const _0x40a013=a2_0x18b4c3;document[_0x40a013(0x314)](_0x40a013(0x316))[_0x40a013(0x303)][_0x40a013(0x22f)](_0x40a013(0x1c4)),document[_0x40a013(0x314)](_0x3baf77)['classList'][_0x40a013(0x22f)]('open');}function closeAllSheets(){const _0x14eb19=a2_0x18b4c3;document[_0x14eb19(0x314)](_0x14eb19(0x316))[_0x14eb19(0x303)][_0x14eb19(0x1e8)](_0x14eb19(0x1c4)),document[_0x14eb19(0x1c9)](_0x14eb19(0x2bf))[_0x14eb19(0x341)](_0x36409b=>_0x36409b[_0x14eb19(0x303)][_0x14eb19(0x1e8)](_0x14eb19(0x249)));}function openPatternEditor(){const _0x3d204e=a2_0x18b4c3;closeAllSheets(),document[_0x3d204e(0x314)](_0x3d204e(0x2b6))[_0x3d204e(0x303)][_0x3d204e(0x22f)](_0x3d204e(0x249)),renderPatternEditor();}function closePatternEditor(){const _0x3748a1=a2_0x18b4c3;document['getElementById'](_0x3748a1(0x2b6))[_0x3748a1(0x303)][_0x3748a1(0x1e8)](_0x3748a1(0x249));}function savePattern(){const _0x1e9065=a2_0x18b4c3;document[_0x1e9065(0x314)](_0x1e9065(0x2b6))['classList'][_0x1e9065(0x1e8)]('open'),reRenderBlocks(),DataManager[_0x1e9065(0x1dc)](),DataManager[_0x1e9065(0x33f)]('save_settings',{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x344629=a2_0x18b4c3,_0x15a528=document['getElementById']('peGrid');_0x15a528[_0x344629(0x2d7)]='';const _0x3018a7=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x3508fd=document[_0x344629(0x1ca)](_0x344629(0x1c5));_0x3508fd[_0x344629(0x2b8)]=_0x344629(0x2e2),_0x15a528['appendChild'](_0x3508fd),_0x3018a7[_0x344629(0x341)]((_0x1faa01,_0x3cb70d)=>{const _0x140d46=_0x344629,_0x5a5226=document[_0x140d46(0x1ca)](_0x140d46(0x1c5));_0x5a5226[_0x140d46(0x2b8)]=_0x140d46(0x2f0),_0x5a5226[_0x140d46(0x2d7)]=_0x1faa01+_0x140d46(0x2da),_0x5a5226[_0x140d46(0x305)]=()=>toggleColPattern(_0x3cb70d),_0x15a528[_0x140d46(0x1fc)](_0x5a5226);});for(let _0x8faaee=0x0;_0x8faaee<0x18;_0x8faaee++){const _0x11e2e3=document[_0x344629(0x1ca)]('div');_0x11e2e3[_0x344629(0x2b8)]=_0x344629(0x2f2),_0x11e2e3[_0x344629(0x2d7)]=_0x344629(0x2a9)+String(_0x8faaee)[_0x344629(0x1d3)](0x2,'0')+':00',_0x11e2e3[_0x344629(0x305)]=()=>toggleRowPattern(_0x8faaee),_0x15a528[_0x344629(0x1fc)](_0x11e2e3);for(let _0x5ee129=0x0;_0x5ee129<0x7;_0x5ee129++){const _0x56a8e0=document['createElement']('div'),_0x48471e=(availabilityPattern[_0x5ee129]||[])['includes'](_0x8faaee),_0x2c8cca=!_0x48471e;_0x56a8e0['className']=_0x344629(0x212)+(_0x2c8cca?_0x344629(0x1c4):''),_0x56a8e0[_0x344629(0x305)]=()=>toggleSinglePattern(_0x5ee129,_0x8faaee),_0x15a528[_0x344629(0x1fc)](_0x56a8e0);}}}function toggleSinglePattern(_0x5a8841,_0x498323){const _0x57a2b9=a2_0x18b4c3;if(!availabilityPattern[_0x5a8841])availabilityPattern[_0x5a8841]=[];const _0x4f03eb=availabilityPattern[_0x5a8841],_0x2e9ead=_0x4f03eb[_0x57a2b9(0x2ed)](_0x498323);_0x2e9ead===-0x1?_0x4f03eb[_0x57a2b9(0x273)](_0x498323):_0x4f03eb[_0x57a2b9(0x1fb)](_0x2e9ead,0x1),renderPatternEditor();}function toggleColPattern(_0xad433a){const _0x3ffd67=a2_0x18b4c3;if(!availabilityPattern[_0xad433a])availabilityPattern[_0xad433a]=[];const _0x1b286a=availabilityPattern[_0xad433a];_0x1b286a[_0x3ffd67(0x22b)]===0x0?availabilityPattern[_0xad433a]=Array[_0x3ffd67(0x1d5)]({'length':0x18},(_0xb62ae,_0x5e80e3)=>_0x5e80e3):availabilityPattern[_0xad433a]=[],renderPatternEditor();}function toggleRowPattern(_0x166a03){const _0x57c002=a2_0x18b4c3;let _0x1c4347=!![];for(let _0x275c7f=0x0;_0x275c7f<0x7;_0x275c7f++){if((availabilityPattern[_0x275c7f]||[])[_0x57c002(0x311)](_0x166a03)){_0x1c4347=![];break;}}for(let _0x564c21=0x0;_0x564c21<0x7;_0x564c21++){if(!availabilityPattern[_0x564c21])availabilityPattern[_0x564c21]=[];const _0x21cdad=availabilityPattern[_0x564c21][_0x57c002(0x2ed)](_0x166a03);if(_0x1c4347){if(_0x21cdad===-0x1)availabilityPattern[_0x564c21][_0x57c002(0x273)](_0x166a03);}else{if(_0x21cdad!==-0x1)availabilityPattern[_0x564c21][_0x57c002(0x1fb)](_0x21cdad,0x1);}}renderPatternEditor();}function renderPCol(_0x462d24,_0x3facfe){const _0x381dd1=a2_0x18b4c3;_0x462d24[_0x381dd1(0x2d7)]='';const _0x32716b=Math['round'](_0x462d24[_0x381dd1(0x1e3)]);(availabilityPattern[_0x3facfe]||[])[_0x381dd1(0x341)](_0x563e5e=>{const _0x3a2538=_0x381dd1,_0x5cdcbf=document[_0x3a2538(0x1ca)](_0x3a2538(0x1c5));_0x5cdcbf[_0x3a2538(0x2b8)]=_0x3a2538(0x2a3);const _0x3dcd80=_0x563e5e*GRID_H;_0x5cdcbf[_0x3a2538(0x289)][_0x3a2538(0x20f)]=_0x3dcd80+'px',_0x5cdcbf[_0x3a2538(0x289)][_0x3a2538(0x1ef)]='-'+_0x32716b+_0x3a2538(0x2f8)+_0x3dcd80+'px',_0x5cdcbf[_0x3a2538(0x305)]=_0x1f5a54=>{const _0x2a53c2=_0x3a2538;_0x1f5a54[_0x2a53c2(0x2ce)](),toggleSinglePattern(_0x3facfe,_0x563e5e);},_0x462d24['appendChild'](_0x5cdcbf);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x280f5b=a2_0x18b4c3,_0x24b809=new Date(),_0x432780=document['getElementById'](_0x280f5b(0x2b5)),_0x42cca6=document['getElementById'](_0x280f5b(0x30c)),_0x4054e6=(_0x24b809[_0x280f5b(0x2eb)]()*0x3c+_0x24b809[_0x280f5b(0x253)]())/0x3c*GRID_H;_0x432780[_0x280f5b(0x289)][_0x280f5b(0x20f)]=_0x4054e6+'px',_0x432780[_0x280f5b(0x289)][_0x280f5b(0x28c)]=_0x280f5b(0x2ac),_0x42cca6['textContent']=String(_0x24b809['getHours']())[_0x280f5b(0x1d3)](0x2,'0')+':'+String(_0x24b809[_0x280f5b(0x253)]())[_0x280f5b(0x1d3)](0x2,'0'),_0x42cca6['style'][_0x280f5b(0x28c)]='block',_0x42cca6['style'][_0x280f5b(0x20f)]=_0x4054e6+'px';}function a2_0x4c72(){const _0x5a4ecf=['addEventListener',':00','padStart','toString','from','clientWidth','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','100%','pattern','–ò–Ω—Ñ–æ','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','saveLocally','delete','toUpperCase','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','msg','ru-RU','offsetLeft','target','settingsSheet','map','borderColor','remove','.event-card','start','var(--acc-green)','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','background','...','backgroundPosition','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','batch_sync','complete','Local\x20Load\x20Error','settings','00:00','[Notify]\x20Error:\x20sessionData\x20is\x20null','week','\x20‚Äî\x20','.day-column','btnDayToggle','splice','appendChild','time-label','borderRadius','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','filter','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','%\x20+\x202px)','split','rangesList','touchend',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','daysHeaderTrack','timeColumn','inpClient','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','initData','117580SxbgIr','doEventsList','top','sheetTitle','mini','pe-cell\x20','uc_sessions_v9','doWorkHours','charAt','cancel','</div><div\x20class=\x22dch-num\x22>','calc(','max','.dch-stats-fill','statLoadCard','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','ranges','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','stat-','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','parse','scrollWidth','createDocumentFragment','<div\x20class=\x22ev-title\x22>','headerMonth','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rgba(255,\x20159,\x2010,\x200.3)','data-day-idx','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','cancelled','length','update','create','sessionSheet','add','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','rangeEndTime','doDateHeader','Critical\x20TMA\x20Error:','colIndex','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','#gridColumns\x20.day-column','valid','show','[Notify]\x20Network\x20Failed','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','rgba(255,\x2069,\x2058,\x200.15)','slice','var(--acc-red)','offsetWidth','all','querySelector','doBusyHours','syncBatch','ready','textContent','gridColumns','open','#050505','zIndex','then','var(--acc-orange)','toLocaleDateString','find','T00:00:00',':00</span>','getItem','getMinutes','uc_settings_cancel_window','initDataUnsafe','\x20-\x20','data','warn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','offClick','data-date','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','touchstart','inpSeriesCount','rgba(48,\x20209,\x2088,\x200.15)','Local\x20Save\x20Error','firstChild','closest','vibrate','value','sid','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','onClick','day-off-overlay\x20stripe-bg','getDate','uc_settings_v9','\x20days','scroll','anPercent','round','expand','send_notification','rgba(','seriesCountContainer','push','getMonth','\x20status-completed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','checked','patternInfoBox','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','href','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','btn-primary\x20btn-secondary','Error\x20setting\x20color:','single','borderLeftColor','%\x20-\x204px)','btnDelete','28FUPsXX','dateStr','asBtnOne','btnStatusToggle','calendar','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','2110624gbMOkG','style','<div\x20class=\x22dch-day\x22>','anDonutCircle','display','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','clients','rangeStartDate','exceptions','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','[Notify]\x20Error:\x20Text\x20generation\x20failed','as-button\x20danger\x20bold','mousemove','min','inpDate','day-col-header\x20','Save\x20settings\x20error:','273365VvkdGS','analyticsList','client-stat-card','header-','asTitle','getDay','inpStart','asBtnSeries','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','sort','blocked-slot\x20stripe-bg','save','done','159849riSCDQ','1750872oooggY','backgroundColor','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','POST','block','settingCancelWindow','status','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','rgba(100,100,100,0.5)','scrollTop','color','range-item','globalTimeLine','patternEditor','init_load','className','#fff','completed','json','end','(((.+)+)+)+$','findIndex','.sheet','35CFDHar','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','cancel_window','height','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','mergeServerData','planned','today','error','rangeStartTime','1761LBVgMW','getAttribute','random','stopPropagation',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','WebApp','getBoundingClientRect','var(--acc-current)','toastTitle','syncLoad','catch','px\x200px','innerHTML','loadLocal','name','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','Batch\x20Sync\x20OK','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','numeric','22HLaRNY','250TWUpmj','matrixViewport','Server\x20Error','pe-corner','setItem','series','log','location','save_settings','btn-primary\x20btn-danger','stringify','long','getHours','[API\x20','indexOf','width','[Settings]\x20Cancel\x20window\x20set\x20to:','pe-col-header','anStart','pe-time-label',':\x20Client\x20already\x20booked','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','total','setAttribute','router.html','px\x20-','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','1512qhuYWB','note','[Sync]\x20Loading\x20','10px','send','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','scrollLeft','.day-col-header','T23:59:59','classList','disableVerticalSwipes','onclick','setHours','option','search','flex','client','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','timeLineBadge','apply','setDate','–£–¥–∞–ª–µ–Ω–∏–µ','<span>','includes','seriesId','</div>','getElementById','rangeEndDate','overlay','rgba(255,\x2069,\x2058,\x200.3)','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','inpNote','601230ckydET','recurringOptionContainer','startsWith','dayOptionsSheet',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','clientY','substr','23:59','.period-switch\x20.p-btn','as-button\x20danger','day-column\x20','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','</span>\x20/\x20',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','toast','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','setHeaderColor','now','keys','text','getFullYear','btn-status-toggle','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','getTime','inpRecurring','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','inpEnd','anEnd','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','</b>\x0a\x0a','off','\x20–∏–∑\x20','floor','Telegram','anCustomDates','none','fetchFromServer','BackButton','forEach','10px\x2010px\x200\x200','[Notify]\x20Attempting\x20to\x20send:','[Notify]\x20Detected\x20Client\x20ID:','rgba(255,255,255,0.05)','uc_clients_v9','</div><div\x20class=\x22ev-time\x22>','active','div','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','setBackgroundColor','actionSheetOverlay','querySelectorAll','createElement','success','insertBefore','event-card','toast-notification\x20','clientId','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange('];a2_0x4c72=function(){return _0x5a4ecf;};return a2_0x4c72();}document[a2_0x18b4c3(0x1d1)]('DOMContentLoaded',init);function openDayOptions(_0x3257dc){const _0x2a3dbc=a2_0x18b4c3;selectedDayForOptions=_0x3257dc;const _0x4733bf=new Date(_0x3257dc),_0x1339fb={'weekday':'long','day':_0x2a3dbc(0x2dd),'month':_0x2a3dbc(0x2ea),'year':_0x2a3dbc(0x2dd)},_0x2185b9=_0x4733bf['toLocaleDateString'](_0x2a3dbc(0x1e2),_0x1339fb);document[_0x2a3dbc(0x314)](_0x2a3dbc(0x232))[_0x2a3dbc(0x247)]=_0x2185b9['charAt'](0x0)[_0x2a3dbc(0x1de)]()+_0x2185b9[_0x2a3dbc(0x23f)](0x1);let _0xc0fbe4=_0x4733bf[_0x2a3dbc(0x29e)]()-0x1;if(_0xc0fbe4===-0x1)_0xc0fbe4=0x6;const _0x65f311=availabilityPattern[_0xc0fbe4]||[],_0x107c8b=0x18-_0x65f311[_0x2a3dbc(0x22b)],_0x2035cf=_0x107c8b*0x3c,_0x3e147f=sessions['filter'](_0x2222a8=>_0x2222a8[_0x2a3dbc(0x283)]===_0x3257dc&&_0x2222a8['status']!==_0x2a3dbc(0x22a));let _0x5e2d10=_0x3e147f[_0x2a3dbc(0x1e6)](_0x23b1ac=>{const _0x42b78a=_0x2a3dbc,[_0x46a72a,_0x13ba7f]=_0x23b1ac[_0x42b78a(0x1ea)][_0x42b78a(0x204)](':')[_0x42b78a(0x1e6)](Number),[_0x14e676,_0x3a7657]=_0x23b1ac[_0x42b78a(0x2bc)][_0x42b78a(0x204)](':')['map'](Number);return[_0x46a72a*0x3c+_0x13ba7f,_0x14e676*0x3c+_0x3a7657];});_0x5e2d10[_0x2a3dbc(0x2a2)]((_0xd1a6a2,_0x214c85)=>_0xd1a6a2[0x0]-_0x214c85[0x0]);let _0x245e18=[];if(_0x5e2d10['length']>0x0){let _0x29bb97=_0x5e2d10[0x0];for(let _0x562692=0x1;_0x562692<_0x5e2d10[_0x2a3dbc(0x22b)];_0x562692++){_0x5e2d10[_0x562692][0x0]<_0x29bb97[0x1]?_0x29bb97[0x1]=Math[_0x2a3dbc(0x219)](_0x29bb97[0x1],_0x5e2d10[_0x562692][0x1]):(_0x245e18[_0x2a3dbc(0x273)](_0x29bb97),_0x29bb97=_0x5e2d10[_0x562692]);}_0x245e18[_0x2a3dbc(0x273)](_0x29bb97);}let _0x279b86=0x0;_0x245e18['forEach'](_0x38cfbc=>_0x279b86+=_0x38cfbc[0x1]-_0x38cfbc[0x0]),document[_0x2a3dbc(0x314)](_0x2a3dbc(0x214))[_0x2a3dbc(0x247)]=formatMinsToHrs(_0x2035cf),document[_0x2a3dbc(0x314)](_0x2a3dbc(0x244))[_0x2a3dbc(0x247)]=formatMinsToHrs(_0x279b86);const _0x1c0695=_0x2035cf>0x0?Math[_0x2a3dbc(0x26e)](_0x279b86/_0x2035cf*0x64):0x0,_0x5d4144=document[_0x2a3dbc(0x314)]('doLoadPercent');_0x5d4144[_0x2a3dbc(0x247)]=_0x1c0695+'%';const _0x1dd7d7=document[_0x2a3dbc(0x314)](_0x2a3dbc(0x21b));if(_0x1c0695>0x64)_0x5d4144['style'][_0x2a3dbc(0x2b3)]=_0x2a3dbc(0x240),_0x1dd7d7['style'][_0x2a3dbc(0x1e7)]=_0x2a3dbc(0x317);else _0x1c0695>0x50?(_0x5d4144[_0x2a3dbc(0x289)][_0x2a3dbc(0x2b3)]=_0x2a3dbc(0x24d),_0x1dd7d7[_0x2a3dbc(0x289)]['borderColor']=_0x2a3dbc(0x227)):(_0x5d4144[_0x2a3dbc(0x289)][_0x2a3dbc(0x2b3)]=_0x2a3dbc(0x1eb),_0x1dd7d7[_0x2a3dbc(0x289)]['borderColor']=_0x2a3dbc(0x345));const _0x4b860c=document[_0x2a3dbc(0x314)](_0x2a3dbc(0x20e));_0x4b860c[_0x2a3dbc(0x2d7)]='';_0x3e147f[_0x2a3dbc(0x22b)]===0x0?_0x4b860c['innerHTML']=_0x2a3dbc(0x20b):(_0x3e147f[_0x2a3dbc(0x2a2)]((_0x512891,_0x1af172)=>_0x512891['start']['localeCompare'](_0x1af172[_0x2a3dbc(0x1ea)])),_0x3e147f[_0x2a3dbc(0x341)](_0x52867f=>{const _0x3065e7=_0x2a3dbc,_0x3923cc=clients[_0x3065e7(0x24f)](_0x55291a=>_0x55291a[_0x3065e7(0x2d9)]===_0x52867f['client']),_0x3094c4=_0x3923cc?_0x3923cc[_0x3065e7(0x2b3)]:_0x3065e7(0x2b9),_0x4750d6=_0x52867f[_0x3065e7(0x2ae)]===_0x3065e7(0x2ba),_0x22e0fe=_0x4750d6?'<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>':'',_0x1d0948=document[_0x3065e7(0x1ca)](_0x3065e7(0x1c5));_0x1d0948['className']='de-item',_0x1d0948[_0x3065e7(0x289)][_0x3065e7(0x27f)]=_0x3094c4,_0x1d0948['innerHTML']=_0x3065e7(0x2af)+_0x52867f[_0x3065e7(0x1ea)]+_0x3065e7(0x256)+_0x52867f[_0x3065e7(0x2bc)]+_0x3065e7(0x1ff)+_0x52867f[_0x3065e7(0x30a)]+_0x3065e7(0x276)+_0x22e0fe+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x4b860c[_0x3065e7(0x1fc)](_0x1d0948);}));const _0x348821=document['getElementById'](_0x2a3dbc(0x1fa)),_0x43541a=dateExceptions[_0x3257dc]===_0x2a3dbc(0x339);_0x43541a?(_0x348821[_0x2a3dbc(0x247)]=_0x2a3dbc(0x23c),_0x348821[_0x2a3dbc(0x2b8)]=_0x2a3dbc(0x27c),_0x348821['style'][_0x2a3dbc(0x2b3)]=_0x2a3dbc(0x1eb),_0x348821[_0x2a3dbc(0x289)][_0x2a3dbc(0x1ed)]=_0x2a3dbc(0x25f)):(_0x348821[_0x2a3dbc(0x247)]=_0x2a3dbc(0x1df),_0x348821[_0x2a3dbc(0x2b8)]=_0x2a3dbc(0x2e8),_0x348821['style']['color']=_0x2a3dbc(0x240),_0x348821[_0x2a3dbc(0x289)]['background']=_0x2a3dbc(0x23e)),openSheet('dayOptionsSheet');}let currentAnPeriod=a2_0x18b4c3(0x1f7);function openAnalytics(){const _0x2c1c10=a2_0x18b4c3,_0x327d16=document[_0x2c1c10(0x243)](_0x2c1c10(0x322));setAnalyticsPeriod('week',_0x327d16),closeAllSheets(),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x19eae6,_0x14d554){const _0x597d65=a2_0x18b4c3;currentAnPeriod=_0x19eae6,document[_0x597d65(0x1c9)]('.period-switch\x20.p-btn')[_0x597d65(0x341)](_0x4c7d3a=>_0x4c7d3a[_0x597d65(0x303)][_0x597d65(0x1e8)](_0x597d65(0x1c4)));if(_0x14d554)_0x14d554[_0x597d65(0x303)][_0x597d65(0x22f)](_0x597d65(0x1c4));const _0x1c4252=document[_0x597d65(0x314)](_0x597d65(0x33d));_0x1c4252[_0x597d65(0x289)][_0x597d65(0x28c)]=_0x19eae6==='custom'?'flex':_0x597d65(0x33e);const _0x1ce32b=new Date();let _0x404f33=new Date(),_0x513d52=new Date();if(_0x19eae6==='week')_0x404f33=getStartOfWeek(_0x1ce32b),_0x513d52=new Date(_0x404f33),_0x513d52['setDate'](_0x513d52[_0x597d65(0x269)]()+0x6);else{if(_0x19eae6==='month')_0x404f33=new Date(_0x1ce32b[_0x597d65(0x32f)](),_0x1ce32b['getMonth'](),0x1),_0x513d52=new Date(_0x1ce32b[_0x597d65(0x32f)](),_0x1ce32b[_0x597d65(0x274)]()+0x1,0x0);else{!document['getElementById'](_0x597d65(0x2f1))[_0x597d65(0x264)]&&(document[_0x597d65(0x314)](_0x597d65(0x2f1))[_0x597d65(0x264)]=getLocalDateStr(_0x1ce32b),document[_0x597d65(0x314)](_0x597d65(0x336))[_0x597d65(0x264)]=getLocalDateStr(_0x1ce32b));refreshAnalytics();return;}}document[_0x597d65(0x314)](_0x597d65(0x2f1))[_0x597d65(0x264)]=getLocalDateStr(_0x404f33),document[_0x597d65(0x314)](_0x597d65(0x336))[_0x597d65(0x264)]=getLocalDateStr(_0x513d52),refreshAnalytics();}function refreshAnalytics(){const _0x3298e8=a2_0x18b4c3,_0x5268b7=document[_0x3298e8(0x314)]('anStart')[_0x3298e8(0x264)],_0xde0b30=document[_0x3298e8(0x314)]('anEnd')['value'];if(!_0x5268b7||!_0xde0b30)return;const _0x297623=sessions[_0x3298e8(0x201)](_0x3d6527=>_0x3d6527[_0x3298e8(0x283)]>=_0x5268b7&&_0x3d6527[_0x3298e8(0x283)]<=_0xde0b30&&_0x3d6527[_0x3298e8(0x2ae)]!=='cancelled'),_0x54fdbb=_0x297623[_0x3298e8(0x22b)],_0x178f93=_0x297623[_0x3298e8(0x201)](_0x4c126c=>_0x4c126c['status']===_0x3298e8(0x2ba))[_0x3298e8(0x22b)],_0x1edbdc=_0x54fdbb>0x0?Math[_0x3298e8(0x26e)](_0x178f93/_0x54fdbb*0x64):0x0;document[_0x3298e8(0x314)](_0x3298e8(0x26d))['textContent']=_0x1edbdc+'%',document[_0x3298e8(0x314)]('anTotalStats')[_0x3298e8(0x247)]=_0x178f93+_0x3298e8(0x33a)+_0x54fdbb+_0x3298e8(0x28d);const _0x2ce698=document['getElementById'](_0x3298e8(0x28b)),_0x2f35a5=0x2*Math['PI']*0x23,_0x13b8a5=_0x2f35a5-_0x1edbdc/0x64*_0x2f35a5;_0x2ce698[_0x3298e8(0x289)]['strokeDashoffset']=_0x13b8a5;const _0x1585b={};_0x297623['forEach'](_0x416837=>{const _0x565ba2=_0x3298e8;if(!_0x1585b[_0x416837[_0x565ba2(0x30a)]]){const _0x1b4642=clients['find'](_0x3d24db=>_0x3d24db['name']===_0x416837[_0x565ba2(0x30a)]);_0x1585b[_0x416837[_0x565ba2(0x30a)]]={'total':0x0,'done':0x0,'color':_0x1b4642?_0x1b4642[_0x565ba2(0x2b3)]:_0x565ba2(0x2b9)};}_0x1585b[_0x416837['client']][_0x565ba2(0x2f5)]++;if(_0x416837[_0x565ba2(0x2ae)]===_0x565ba2(0x2ba))_0x1585b[_0x416837[_0x565ba2(0x30a)]][_0x565ba2(0x2a5)]++;});const _0x303b7a=document['getElementById'](_0x3298e8(0x29a));_0x303b7a[_0x3298e8(0x2d7)]='';const _0x9ab3d2=Object['entries'](_0x1585b)[_0x3298e8(0x2a2)]((_0x54d569,_0x4da6c2)=>_0x4da6c2[0x1][_0x3298e8(0x2f5)]-_0x54d569[0x1][_0x3298e8(0x2f5)]);if(_0x9ab3d2[_0x3298e8(0x22b)]===0x0){_0x303b7a[_0x3298e8(0x2d7)]='<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>';return;}_0x9ab3d2[_0x3298e8(0x341)](([_0x18cfe1,_0x8b2f5])=>{const _0xf50602=_0x3298e8,_0x34171c=Math[_0xf50602(0x26e)](_0x8b2f5['done']/_0x8b2f5['total']*0x64),_0x4730e0=document[_0xf50602(0x1ca)](_0xf50602(0x1c5));_0x4730e0[_0xf50602(0x2b8)]=_0xf50602(0x29b),_0x4730e0[_0xf50602(0x289)]['borderLeftColor']=_0x8b2f5[_0xf50602(0x2b3)],_0x4730e0[_0xf50602(0x2d7)]=_0xf50602(0x1e0)+_0x18cfe1+_0xf50602(0x1d7)+_0x8b2f5[_0xf50602(0x2a5)]+_0xf50602(0x327)+_0x8b2f5[_0xf50602(0x2f5)]+_0xf50602(0x259)+_0x34171c+_0xf50602(0x226),_0x303b7a['appendChild'](_0x4730e0);});}function formatMinsToHrs(_0x5e1ffc){if(_0x5e1ffc===0x0)return'0';const _0x27a955=Math['floor'](_0x5e1ffc/0x3c),_0x166255=_0x5e1ffc%0x3c;if(_0x166255===0x0)return _0x27a955+'—á';return _0x27a955+'—á\x20'+_0x166255+'–º';}