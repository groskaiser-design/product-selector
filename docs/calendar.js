const a2_0x128d70=a2_0x2805;(function(_0x2d9dc2,_0x1dd503){const _0x2ea66f=a2_0x2805,_0x489dac=_0x2d9dc2();while(!![]){try{const _0x77c9e6=parseInt(_0x2ea66f(0x298))/0x1*(parseInt(_0x2ea66f(0x2a7))/0x2)+parseInt(_0x2ea66f(0x1f3))/0x3*(-parseInt(_0x2ea66f(0x17d))/0x4)+-parseInt(_0x2ea66f(0x1b5))/0x5*(-parseInt(_0x2ea66f(0x29b))/0x6)+-parseInt(_0x2ea66f(0x244))/0x7*(-parseInt(_0x2ea66f(0x27a))/0x8)+-parseInt(_0x2ea66f(0x1fb))/0x9+parseInt(_0x2ea66f(0x219))/0xa+-parseInt(_0x2ea66f(0x1b4))/0xb;if(_0x77c9e6===_0x1dd503)break;else _0x489dac['push'](_0x489dac['shift']());}catch(_0x3d2ed4){_0x489dac['push'](_0x489dac['shift']());}}}(a2_0x17d4,0xf1766),function initTMA(){const _0xea89e5=a2_0x2805;try{const _0x2245e9=window[_0xea89e5(0x1e8)]?.[_0xea89e5(0x1d4)];if(!_0x2245e9)return;_0x2245e9[_0xea89e5(0x145)](),_0x2245e9['expand']();try{_0x2245e9[_0xea89e5(0x17c)]('#050505'),_0x2245e9[_0xea89e5(0x185)]&&_0x2245e9[_0xea89e5(0x185)](_0xea89e5(0x293));}catch(_0x5b5530){console[_0xea89e5(0x1da)](_0xea89e5(0x1ba),_0x5b5530);}try{_0x2245e9[_0xea89e5(0x162)]&&(_0x2245e9['BackButton'][_0xea89e5(0x1ac)](),_0x2245e9[_0xea89e5(0x162)][_0xea89e5(0x1f5)](),_0x2245e9[_0xea89e5(0x162)][_0xea89e5(0x14e)](function(){const _0x52058b=_0xea89e5;window[_0x52058b(0x233)][_0x52058b(0x1d3)]=_0x52058b(0x262);}));}catch(_0x240b50){console[_0xea89e5(0x1da)](_0xea89e5(0x14f),_0x240b50);}try{if(_0x2245e9[_0xea89e5(0x173)])_0x2245e9[_0xea89e5(0x173)]();}catch(_0xc41ed7){}}catch(_0x17f312){console['error'](_0xea89e5(0x25a),_0x17f312);}}());function a2_0x17d4(){const _0x24fe2b=['dayOptionsSheet','rgba(48,\x20209,\x2088,\x200.15)','979698bBwqKB','.day-off-overlay','analyticsSheet','doWorkHours','peGrid',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','delete','mousemove','batch_sync','var(--acc-red)','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','block','2PKMNnZ','splice','max','[Notify]\x20Error:\x20sessionData\x20is\x20null','send_notification','add','substr','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','clientWidth','[Notify]\x20Client\x20SWAP\x20detected','px\x200px','\x20–∏–∑\x20','patternInfoBox','none','gridColumns','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rangeEndDate','px\x20-','inpSeriesCount','[Notify]\x20Detected\x20Client\x20ID:','isArray','today','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','scroll','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','setItem','map','ready','[Series]\x20Skipped\x20','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','rgba(100,100,100,0.5)','#0a84ff',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','timeColumn','[Notify]\x20Attempting\x20to\x20send:','single','onClick','Error\x20setting\x20back\x20button:','getDate','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','statLoadCard','doDateHeader','done','anEnd','parse','doEventsList','catch','headerMonth','sheetTitle','stopPropagation','actionSheet','forEach','doBusyHours','rgba(255,\x20159,\x2010,\x200.3)','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','btn-primary\x20btn-secondary','BackButton','stringify','00:00','.pib-text','getItem','toastTitle','calc(','daysHeaderTrack','getMonth','create','strokeDashoffset',':00</span>','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','slice','month','<div\x20class=\x22ev-title\x22>','pe-col-header','disableVerticalSwipes','header-','planned','getText','seriesId','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','off','</div>','deleted','setHeaderColor','836muMvEv','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','display','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','color','onclick','settingCancelWindow','clientY','setBackgroundColor','overlay','inpDate',']\x20Failed:','rangeEndTime','toString','backgroundColor','flex','initData','getDay','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','scrollWidth','textContent','uc_settings_cancel_window','inpStart','push','100%','scrollLeft','10px','actionSheetOverlay','rangeStartDate','getTime','series','keys','as-button\x20danger\x20bold','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','status','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','blocked-slot\x20stripe-bg','timeLineBadge','user','className','data','anStart','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','seriesCountContainer','–£–¥–∞–ª–µ–Ω–∏–µ','%\x20-\x204px)','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','show','createElement','checked','toUpperCase','search','.sheet','anCustomDates','find','17084100tsOrdl','10nOrZUN','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','complete','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','Error\x20setting\x20color:','[Notify]\x20Network\x20Failed','sessionSheet','(((.+)+)+)+$','btn-status-toggle','asTitle','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','warning','completed','success','borderRadius','analyticsList','\x20‚Äî\x20','round','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','btn-status-toggle\x20undo-mode','pattern','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','init_load','querySelector','as-button\x20danger','uc_settings_v9','toast','day-col-header\x20','href','WebApp','settings','send','</div><div\x20class=\x22ev-time\x22>','getBoundingClientRect','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','log','includes','day-column\x20','null','[Notify]\x20Error:\x20Text\x20generation\x20failed','warn','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','save','#fff','sheetDateSubtitle','setDate','btnDelete','anPercent','mousedown','Telegram','firstChild','rgba(255,\x2069,\x2058,\x200.15)','open','anDonutCircle','findIndex','div','clients','<b>‚úÖ\x20','inpClient','touches','5511NxvtWt','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','offClick','<div\x20class=\x22dch-day\x22>','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','data-date','inpRecurring','setHours','17295372hmOvON','pe-time-label','min','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ',':00','anTotalStats','error','.event-card','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','blocked-range-part\x20stripe-bg','[Sync]\x20Loading\x20','Server\x20Error','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','toFixed','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','offsetLeft','setAttribute','btnDayToggle','pe-cell\x20','rgba(255,255,255,0.05)','.day-col-header','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','matrixViewport','vibrate','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','update','recurringOptionContainer','querySelectorAll','value','16460700axZNbH','var(--acc-green)','padStart','style','width','cancel_window','innerHTML','rgba(255,\x2069,\x2058,\x200.3)','btnStatusToggle','var(--acc-orange)','touchmove','charAt','ru-RU','<span>','asBtnSeries','addEventListener','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','background','range-item','ranges','dateStr','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','settingsSheet','patternEditor','offsetWidth','active','location','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','getElementById','data-day-idx','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','dayOptionsTitle','appendChild','saveLocally','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','long','json','zIndex','from','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','touchstart','save_settings','height','14cScaQw','globalTimeLine','start','client','.period-switch\x20.p-btn','clientId','#gridColumns\x20.day-column','all','fetchFromServer','numeric','client-stat-card','classList','cancelled','createDocumentFragment','length','calendar','toast-notification\x20','asBtnOne','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','var(--acc-current)','text/plain;charset=UTF-8','Critical\x20TMA\x20Error:','end','getMinutes','touchend','cancel','inpEnd','constructor','.dch-stats-fill','router.html','event-card','backgroundPosition','filter','toLocaleDateString','then','day-off-overlay\x20stripe-bg','Save\x20settings\x20error:','23:59','sid','[Notify]\x20Server\x20Response:','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','remove','split','syncLoad','.day-column','getHours','total','Local\x20Load\x20Error','borderColor','...','scrollTop','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','mouseup','7517584tBnnej','–£—Å–ø–µ—à–Ω–æ','rangeStartTime','DOMContentLoaded','floor','note','%\x20+\x202px)','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','top','indexOf','name','getFullYear','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','option','week','borderLeftColor','uc_sessions_v9','formatDate','exceptions','random','insertBefore',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','now','</div><div\x20class=\x22dch-num\x22>','#050505','</b>\x0a\x0a','sort','inpNote','colIndex','995739FuDCsJ'];a2_0x17d4=function(){return _0x24fe2b;};return a2_0x17d4();}function isAdmin(){const _0x150150=a2_0x2805;try{const _0x488278=Number(window[_0x150150(0x1e8)]?.[_0x150150(0x1d4)]?.['initDataUnsafe']?.[_0x150150(0x1a3)]?.['id']);return _0x488278===0xbaf7174;}catch(_0x20e278){return![];}}const APP_VERSION='v9.0-BATCH-CALENDAR',API_URL=a2_0x128d70(0x19e),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS='uc_clients_v9',KEY_SESSIONS=a2_0x128d70(0x28b),KEY_SETTINGS=a2_0x128d70(0x1d0);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0xddf063=a2_0x128d70;return window['Telegram']?.[_0xddf063(0x1d4)]?.['initDataUnsafe']?.[_0xddf063(0x1a3)]?.['id']||'guest';},'saveLocally'(){const _0x502d8f=a2_0x128d70;try{localStorage[_0x502d8f(0x143)](KEY_CLIENTS,JSON['stringify'](clients)),localStorage[_0x502d8f(0x143)](KEY_SESSIONS,JSON[_0x502d8f(0x163)](sessions)),localStorage[_0x502d8f(0x143)](KEY_SETTINGS,JSON[_0x502d8f(0x163)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x5292d2){console['error']('Local\x20Save\x20Error',_0x5292d2);}},'loadLocal'(){const _0x243f29=a2_0x128d70;try{const _0x2339c6=localStorage['getItem'](KEY_CLIENTS);if(_0x2339c6)clients=JSON[_0x243f29(0x156)](_0x2339c6);const _0x4831b9=localStorage['getItem'](KEY_SESSIONS);if(_0x4831b9)sessions=JSON['parse'](_0x4831b9);const _0x3ca639=localStorage[_0x243f29(0x166)](KEY_SETTINGS);if(_0x3ca639){const _0x26d008=JSON['parse'](_0x3ca639);if(_0x26d008[_0x243f29(0x1cb)])availabilityPattern=_0x26d008[_0x243f29(0x1cb)];if(_0x26d008[_0x243f29(0x28d)])dateExceptions=_0x26d008[_0x243f29(0x28d)];if(_0x26d008[_0x243f29(0x22c)])specialRanges=_0x26d008['ranges'];}else{for(let _0x49642c=0x0;_0x49642c<0x7;_0x49642c++)availabilityPattern[_0x49642c]=Array[_0x243f29(0x23f)]({'length':0xc},(_0x4d372c,_0x95c579)=>_0x95c579+0x9);}}catch(_0x5ebb22){console[_0x243f29(0x201)](_0x243f29(0x274),_0x5ebb22);}},async 'fetchFromServer'(_0x4ee92f,_0x1d5fe7={}){const _0x565c78=a2_0x128d70,_0x5902b2=window[_0x565c78(0x1e8)]?.[_0x565c78(0x1d4)],_0x57f8da={'action':_0x4ee92f,'init_data':_0x5902b2?.[_0x565c78(0x18d)]||'',..._0x1d5fe7};try{const _0x53c761=await fetch(API_URL,{'method':'POST','headers':{'Content-Type':_0x565c78(0x259)},'body':JSON[_0x565c78(0x163)](_0x57f8da)}),_0x43bd96=await _0x53c761[_0x565c78(0x23d)]();if(!_0x43bd96['ok'])throw new Error(_0x43bd96[_0x565c78(0x201)]||_0x565c78(0x206));return _0x43bd96[_0x565c78(0x1a5)];}catch(_0x54d7a4){console[_0x565c78(0x201)]('[API\x20'+_0x4ee92f+_0x565c78(0x188),_0x54d7a4);throw _0x54d7a4;}},async 'syncLoad'(){const _0x507d7a=a2_0x128d70,_0xeedc18=new Date(),_0x2cf112=_0xeedc18[_0x507d7a(0x285)]()+'-'+String(_0xeedc18[_0x507d7a(0x16a)]()+0x1)[_0x507d7a(0x21b)](0x2,'0'),_0x9a71ae=new Date(_0xeedc18);_0x9a71ae['setMonth'](_0xeedc18[_0x507d7a(0x16a)]()+0x1);const _0x82caed=_0x9a71ae[_0x507d7a(0x285)]()+'-'+String(_0x9a71ae[_0x507d7a(0x16a)]()+0x1)[_0x507d7a(0x21b)](0x2,'0'),_0x118c23=Date[_0x507d7a(0x291)]();console[_0x507d7a(0x1da)](_0x507d7a(0x205)+_0x2cf112+',\x20'+_0x82caed+_0x507d7a(0x276));try{const [_0x52ecfb,_0x5849ec]=await Promise[_0x507d7a(0x24b)]([this['fetchFromServer'](_0x507d7a(0x1cd),{'month_str':_0x2cf112}),this[_0x507d7a(0x24c)](_0x507d7a(0x1cd),{'month_str':_0x82caed})]);if(lastUserActionTime>_0x118c23)return console[_0x507d7a(0x1df)](_0x507d7a(0x140)),![];return this['mergeServerData'](_0x52ecfb,_0x2cf112),this['mergeServerData'](_0x5849ec,_0x82caed),this[_0x507d7a(0x23a)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x1e3463){console[_0x507d7a(0x201)](_0x1e3463);throw _0x1e3463;}},'mergeServerData'(_0x5d7d53,_0x560677){const _0x50c7c1=a2_0x128d70;if(!_0x5d7d53)return;_0x5d7d53[_0x50c7c1(0x1ef)]&&Array[_0x50c7c1(0x13e)](_0x5d7d53[_0x50c7c1(0x1ef)])&&(clients=_0x5d7d53[_0x50c7c1(0x1ef)]);if(_0x5d7d53['settings']){if(_0x5d7d53[_0x50c7c1(0x1d5)]['pattern'])availabilityPattern=_0x5d7d53[_0x50c7c1(0x1d5)][_0x50c7c1(0x1cb)];if(_0x5d7d53[_0x50c7c1(0x1d5)]['exceptions'])dateExceptions=_0x5d7d53[_0x50c7c1(0x1d5)][_0x50c7c1(0x28d)];if(_0x5d7d53[_0x50c7c1(0x1d5)][_0x50c7c1(0x22c)])specialRanges=_0x5d7d53[_0x50c7c1(0x1d5)]['ranges'];if(_0x5d7d53[_0x50c7c1(0x1d5)][_0x50c7c1(0x21e)]){localStorage['setItem'](_0x50c7c1(0x192),_0x5d7d53[_0x50c7c1(0x1d5)]['cancel_window']);const _0x3c533e=document[_0x50c7c1(0x235)](_0x50c7c1(0x183));if(_0x3c533e)_0x3c533e[_0x50c7c1(0x218)]=_0x5d7d53[_0x50c7c1(0x1d5)][_0x50c7c1(0x21e)];}}_0x5d7d53[_0x50c7c1(0x253)]&&(sessions=sessions[_0x50c7c1(0x265)](_0x329096=>!_0x329096[_0x50c7c1(0x22d)]['startsWith'](_0x560677)),Object[_0x50c7c1(0x19c)](_0x5d7d53[_0x50c7c1(0x253)])[_0x50c7c1(0x15d)](_0x456a7d=>{const _0x56fd94=_0x50c7c1,_0x4a19b3=_0x5d7d53[_0x56fd94(0x253)][_0x456a7d];_0x4a19b3[_0x56fd94(0x15d)](_0x1d0820=>{const _0x11ef88=_0x56fd94,_0x3fad67=clients[_0x11ef88(0x1b3)](_0x1bb8bb=>String(_0x1bb8bb['id'])===String(_0x1d0820['c']));sessions[_0x11ef88(0x194)]({'id':_0x1d0820['i'],'clientId':_0x1d0820['c'],'client':_0x3fad67?_0x3fad67[_0x11ef88(0x284)]:'Unknown','dateStr':_0x560677+'-'+_0x456a7d[_0x11ef88(0x21b)](0x2,'0'),'start':_0x1d0820['s'],'end':_0x1d0820['e'],'status':_0x1d0820['st']||_0x11ef88(0x175),'note':_0x1d0820['n']||'','seriesId':_0x1d0820[_0x11ef88(0x26b)]||null});});}));},async 'syncBatch'(_0x28719f){const _0x3df50d=a2_0x128d70,_0x567cdf=[...new Set(_0x28719f)],_0x1158a8=_0x567cdf[_0x3df50d(0x144)](_0x4301e1=>{const _0x55b03f=_0x3df50d,_0x55a573=sessions[_0x55b03f(0x265)](_0x43eeec=>_0x43eeec['dateStr']===_0x4301e1&&_0x43eeec[_0x55b03f(0x19f)]!==_0x55b03f(0x17b)),_0x184a42=_0x55a573[_0x55b03f(0x144)](_0x57b0af=>({'i':_0x57b0af['id'],'c':_0x57b0af[_0x55b03f(0x249)],'s':_0x57b0af['start'],'e':_0x57b0af[_0x55b03f(0x25b)],'st':_0x57b0af[_0x55b03f(0x19f)],'n':_0x57b0af[_0x55b03f(0x27f)],'sid':_0x57b0af['seriesId']}));return{'date':_0x4301e1,'day_data':_0x184a42};});if(_0x1158a8[_0x3df50d(0x252)]===0x0)return;console[_0x3df50d(0x1da)]('[Sync]\x20Pushing\x20batch\x20updates\x20for\x20'+_0x1158a8[_0x3df50d(0x252)]+'\x20days'),await this[_0x3df50d(0x24c)](_0x3df50d(0x2a3),{'changes':_0x1158a8});}};async function init(){const _0x1cea94=a2_0x128d70;DataManager['loadLocal'](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x1cea94(0x235)]('matrixViewport')[_0x1cea94(0x228)](_0x1cea94(0x141),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x1cea94(0x270)]()[_0x1cea94(0x267)](()=>{showToast('–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ',!![]);})[_0x1cea94(0x158)](_0x5b5524=>{const _0x2feab2=_0x1cea94;showToast(_0x2feab2(0x131),![]);});}function a2_0x2805(_0x3c31bd,_0x16103d){_0x3c31bd=_0x3c31bd-0x130;const _0x57c8b9=a2_0x17d4();let _0xb9b924=_0x57c8b9[_0x3c31bd];return _0xb9b924;}function generateId(){const _0x4d8a54=a2_0x128d70;return Date['now']()['toString'](0x24)+Math[_0x4d8a54(0x28e)]()['toString'](0x24)[_0x4d8a54(0x130)](0x2,0x5);}function toggleSeriesInput(){const _0x39e7db=a2_0x128d70,_0x2577da=document[_0x39e7db(0x235)](_0x39e7db(0x1f9))[_0x39e7db(0x1ae)],_0x268040=document[_0x39e7db(0x235)](_0x39e7db(0x1a8));_0x268040[_0x39e7db(0x21c)][_0x39e7db(0x17f)]=_0x2577da?_0x39e7db(0x2a6):'none';const _0x5265e3=document[_0x39e7db(0x235)](_0x39e7db(0x216));_0x5265e3[_0x39e7db(0x21c)][_0x39e7db(0x1c4)]=_0x2577da?'10px\x2010px\x200\x200':_0x39e7db(0x197);}function openAddSession(_0x272618){const _0x23a4dc=a2_0x128d70;editingId=null,populateClientSelect(),document[_0x23a4dc(0x235)]('sheetTitle')[_0x23a4dc(0x191)]='–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å',document[_0x23a4dc(0x235)](_0x23a4dc(0x1e5))[_0x23a4dc(0x21c)][_0x23a4dc(0x17f)]='none',document[_0x23a4dc(0x235)](_0x23a4dc(0x221))[_0x23a4dc(0x21c)][_0x23a4dc(0x17f)]='none';const _0x47b558=document['getElementById'](_0x23a4dc(0x216)),_0x5480b3=document[_0x23a4dc(0x235)](_0x23a4dc(0x1a8));_0x47b558['style']['display']=_0x23a4dc(0x18c),_0x47b558[_0x23a4dc(0x21c)][_0x23a4dc(0x1c4)]=_0x23a4dc(0x197),document['getElementById'](_0x23a4dc(0x1f9))[_0x23a4dc(0x1ae)]=![],document[_0x23a4dc(0x235)](_0x23a4dc(0x13c))[_0x23a4dc(0x218)]=0x4,_0x5480b3[_0x23a4dc(0x21c)][_0x23a4dc(0x17f)]=_0x23a4dc(0x137),document['getElementById'](_0x23a4dc(0x187))[_0x23a4dc(0x218)]=getLocalDateStr(_0x272618),updateDateDisplay();const _0x2a06df=_0x272618[_0x23a4dc(0x272)]();document['getElementById'](_0x23a4dc(0x193))[_0x23a4dc(0x218)]=String(_0x2a06df)['padStart'](0x2,'0')+_0x23a4dc(0x1ff),document[_0x23a4dc(0x235)]('inpEnd')[_0x23a4dc(0x218)]=String(_0x2a06df+0x1)[_0x23a4dc(0x21b)](0x2,'0')+_0x23a4dc(0x1ff),openSheet(_0x23a4dc(0x1bc));}function openEdit(_0x131748){const _0x4cdc26=a2_0x128d70;editingId=_0x131748['id'],populateClientSelect(),document[_0x4cdc26(0x235)](_0x4cdc26(0x15a))[_0x4cdc26(0x191)]=_0x4cdc26(0x1c9),document['getElementById'](_0x4cdc26(0x1e5))[_0x4cdc26(0x21c)][_0x4cdc26(0x17f)]=_0x4cdc26(0x2a6);const _0x9cb4ed=document[_0x4cdc26(0x235)](_0x4cdc26(0x221));_0x9cb4ed[_0x4cdc26(0x21c)][_0x4cdc26(0x17f)]='flex';_0x131748[_0x4cdc26(0x19f)]===_0x4cdc26(0x1c2)?(_0x9cb4ed['className']=_0x4cdc26(0x1ca),_0x9cb4ed[_0x4cdc26(0x21f)]=_0x4cdc26(0x1fe)):(_0x9cb4ed[_0x4cdc26(0x1a4)]=_0x4cdc26(0x1be),_0x9cb4ed[_0x4cdc26(0x21f)]=_0x4cdc26(0x26d));const _0x885f9e=!!_0x131748[_0x4cdc26(0x177)];document[_0x4cdc26(0x235)](_0x4cdc26(0x216))['style'][_0x4cdc26(0x17f)]=_0x4cdc26(0x137),document[_0x4cdc26(0x235)](_0x4cdc26(0x1a8))['style'][_0x4cdc26(0x17f)]='none',_0x885f9e?(document['getElementById'](_0x4cdc26(0x136))['style'][_0x4cdc26(0x17f)]=_0x4cdc26(0x18c),document[_0x4cdc26(0x235)](_0x4cdc26(0x136))[_0x4cdc26(0x1ce)](_0x4cdc26(0x165))[_0x4cdc26(0x191)]=_0x4cdc26(0x1cc)):document[_0x4cdc26(0x235)](_0x4cdc26(0x136))[_0x4cdc26(0x21c)][_0x4cdc26(0x17f)]=_0x4cdc26(0x137),document['getElementById'](_0x4cdc26(0x1f1))[_0x4cdc26(0x218)]=_0x131748[_0x4cdc26(0x247)],document[_0x4cdc26(0x235)](_0x4cdc26(0x187))[_0x4cdc26(0x218)]=_0x131748['dateStr'],document[_0x4cdc26(0x235)]('inpStart')['value']=_0x131748['start'],document[_0x4cdc26(0x235)](_0x4cdc26(0x25f))[_0x4cdc26(0x218)]=_0x131748[_0x4cdc26(0x25b)],document[_0x4cdc26(0x235)](_0x4cdc26(0x296))['value']=_0x131748[_0x4cdc26(0x27f)]||'',updateDateDisplay(),openSheet('sessionSheet');}async function trySaveSession(){const _0x480f18=a2_0x128d70,_0x33d3aa=document[_0x480f18(0x235)](_0x480f18(0x1f1))[_0x480f18(0x218)],_0x244d86=document[_0x480f18(0x235)](_0x480f18(0x187))[_0x480f18(0x218)],_0x265761=document[_0x480f18(0x235)](_0x480f18(0x193))[_0x480f18(0x218)],_0x4ac630=document['getElementById'](_0x480f18(0x25f))['value'],_0x2226fc=document['getElementById'](_0x480f18(0x296))[_0x480f18(0x218)],_0x4ed083=document[_0x480f18(0x235)]('inpRecurring')[_0x480f18(0x1ae)];let _0x428e9b=0x4;if(_0x4ed083){const _0x7fc618=parseInt(document[_0x480f18(0x235)](_0x480f18(0x13c))[_0x480f18(0x218)]);if(!_0x7fc618||_0x7fc618<0x2){showToast('–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏',![]);return;}if(_0x7fc618>0x64){showToast(_0x480f18(0x229),![]);return;}_0x428e9b=_0x7fc618;}const _0x584d11=clients[_0x480f18(0x1b3)](_0x5315e8=>_0x5315e8[_0x480f18(0x284)]===_0x33d3aa);if(!_0x584d11){showToast(_0x480f18(0x1c0),![]);return;}const _0x213dc4=validateAppointment(_0x244d86,_0x265761,_0x4ac630,editingId,_0x584d11['id']);if(!_0x213dc4['valid']){showToast(_0x213dc4['msg'],![]);return;}_0x213dc4[_0x480f18(0x1c1)]&&showToast(_0x213dc4[_0x480f18(0x1c1)],![]);const _0x405cf9={'client':_0x33d3aa,'clientId':_0x584d11['id'],'start':_0x265761,'end':_0x4ac630,'note':_0x2226fc,'status':'planned'},_0x2ad71e=editingId?sessions[_0x480f18(0x1b3)](_0x266080=>_0x266080['id']===editingId):null;if(_0x2ad71e&&_0x2ad71e[_0x480f18(0x177)]){tempSessionData={..._0x405cf9,'dateStr':_0x244d86,'id':editingId,'seriesId':_0x2ad71e['seriesId']},openActionSheet('save');return;}let _0x2c57ec=null;if(!editingId)_0x2c57ec='create';else{if(_0x2ad71e){if(String(_0x2ad71e[_0x480f18(0x249)])!==String(_0x584d11['id']))console[_0x480f18(0x1da)](_0x480f18(0x133)),NotificationManager['send'](_0x480f18(0x25e),_0x2ad71e),_0x2c57ec='create';else(_0x2ad71e[_0x480f18(0x246)]!==_0x265761||_0x2ad71e[_0x480f18(0x25b)]!==_0x4ac630||_0x2ad71e[_0x480f18(0x22d)]!==_0x244d86)&&(_0x2c57ec=_0x480f18(0x215));}}if(!editingId&&_0x4ed083){createBatchSeries(_0x405cf9,_0x244d86,_0x428e9b),NotificationManager['send'](_0x480f18(0x16b),{..._0x405cf9,'dateStr':_0x244d86});return;}lastUserActionTime=Date[_0x480f18(0x291)]();const _0x1bb4b4={..._0x405cf9,'dateStr':_0x244d86,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x1bb4b4),_0x2c57ec&&NotificationManager['send'](_0x2c57ec,_0x1bb4b4);}function toggleSessionStatus(){const _0x3bba5f=a2_0x128d70;lastUserActionTime=Date[_0x3bba5f(0x291)]();const _0x5760df=sessions[_0x3bba5f(0x1b3)](_0x1ddfba=>_0x1ddfba['id']===editingId);if(!_0x5760df)return;const _0x55868e=_0x5760df[_0x3bba5f(0x19f)]===_0x3bba5f(0x1c2)?_0x3bba5f(0x175):_0x3bba5f(0x1c2);_0x5760df[_0x3bba5f(0x19f)]=_0x55868e,saveSingleSession(_0x5760df),_0x55868e===_0x3bba5f(0x1c2)&&NotificationManager['send'](_0x3bba5f(0x1b8),_0x5760df),showToast(_0x55868e===_0x3bba5f(0x1c2)?'–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞':_0x3bba5f(0x16e),!![]);}function validateAppointment(_0xd089b3,_0x4e855e,_0x451419,_0x5ec12c,_0x340857){const _0x100627=a2_0x128d70,[_0x5072bc,_0x23dc6e]=_0x4e855e[_0x100627(0x26f)](':')[_0x100627(0x144)](Number),[_0x1dd2b0,_0x1ec9fc]=_0x451419[_0x100627(0x26f)](':')[_0x100627(0x144)](Number),_0x20d321=_0x5072bc*0x3c+_0x23dc6e,_0x534cac=_0x1dd2b0*0x3c+_0x1ec9fc,_0x1f4c20=String(_0x340857);let _0x3f68a3=![],_0x46cd35='';for(let _0x19fc48 of sessions){if(_0x19fc48[_0x100627(0x22d)]!==_0xd089b3)continue;if(_0x19fc48['status']==='cancelled')continue;if(_0x5ec12c&&String(_0x19fc48['id'])===String(_0x5ec12c))continue;const [_0x288850,_0x136ee7]=_0x19fc48[_0x100627(0x246)][_0x100627(0x26f)](':')['map'](Number),[_0x40c88d,_0x49651d]=_0x19fc48[_0x100627(0x25b)][_0x100627(0x26f)](':')[_0x100627(0x144)](Number),_0x31c34d=_0x288850*0x3c+_0x136ee7,_0x2fb835=_0x40c88d*0x3c+_0x49651d;if(Math[_0x100627(0x2a9)](_0x20d321,_0x31c34d)<Math[_0x100627(0x1fd)](_0x534cac,_0x2fb835)){if(_0x19fc48[_0x100627(0x249)]&&String(_0x19fc48[_0x100627(0x249)])===_0x1f4c20)return{'valid':![],'msg':_0x100627(0x286)+_0x19fc48[_0x100627(0x247)]+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x3f68a3=!![],_0x46cd35=_0x19fc48['client'];}}if(_0x3f68a3)return{'valid':!![],'warning':_0x100627(0x142)+_0x46cd35};return{'valid':!![]};}function saveSingleSession(_0x10dc96){const _0x91848a=a2_0x128d70;if(editingId){const _0x10df33=sessions[_0x91848a(0x1ed)](_0x437f72=>_0x437f72['id']===editingId);if(_0x10df33!==-0x1)sessions[_0x10df33]=_0x10dc96;}else sessions[_0x91848a(0x194)](_0x10dc96);afterSaveAction([_0x10dc96[_0x91848a(0x22d)]]);}function createBatchSeries(_0x23e153,_0x276070,_0x3b88c2){const _0x4c3b7f=a2_0x128d70,_0x2384a4=generateId(),_0x66a356=[],_0x37e354=[];let _0x347a44=0x0,_0x2f4b4e=new Date(_0x276070);for(let _0x5623b2=0x0;_0x5623b2<_0x3b88c2;_0x5623b2++){const _0x31c5fc=getLocalDateStr(_0x2f4b4e),_0x5ad664=validateAppointment(_0x31c5fc,_0x23e153[_0x4c3b7f(0x246)],_0x23e153['end'],null,_0x23e153[_0x4c3b7f(0x249)]);if(!_0x5ad664['valid'])console['log'](_0x4c3b7f(0x146)+_0x31c5fc+':\x20Client\x20already\x20booked'),_0x347a44++;else{const _0x2d33a8={..._0x23e153,'id':generateId(),'dateStr':_0x31c5fc,'seriesId':_0x2384a4};_0x37e354[_0x4c3b7f(0x194)](_0x2d33a8),_0x66a356[_0x4c3b7f(0x194)](_0x31c5fc);}_0x2f4b4e[_0x4c3b7f(0x1e4)](_0x2f4b4e[_0x4c3b7f(0x150)]()+0x7);}if(_0x37e354[_0x4c3b7f(0x252)]===0x0){showToast('–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!',![]);return;}sessions[_0x4c3b7f(0x194)](..._0x37e354),lastUserActionTime=Date[_0x4c3b7f(0x291)]();let _0x1e8976=_0x4c3b7f(0x237)+_0x37e354['length'];_0x347a44>0x0&&(_0x1e8976+='\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20'+_0x347a44+')'),showToast(_0x1e8976,!![]),afterSaveAction(_0x66a356);}function updateSeriesBatch(_0x4df428,_0x1404cf){const _0x38a745=a2_0x128d70,_0x2510ea=[],_0x3bfa91=_0x1404cf[_0x38a745(0x177)];if(_0x4df428==='single'){const _0x2fb2e5={..._0x1404cf,'seriesId':null},_0x2b966a=sessions[_0x38a745(0x1ed)](_0x1418e7=>_0x1418e7['id']===_0x1404cf['id']);if(_0x2b966a!==-0x1)sessions[_0x2b966a]=_0x2fb2e5;_0x2510ea[_0x38a745(0x194)](_0x2fb2e5['dateStr']);}else{if(_0x4df428==='series'){const _0x1dab4f=_0x1404cf[_0x38a745(0x22d)];sessions[_0x38a745(0x15d)]((_0x326ee2,_0x4711e5)=>{const _0x5191f9=_0x38a745;_0x326ee2[_0x5191f9(0x177)]===_0x3bfa91&&_0x326ee2[_0x5191f9(0x22d)]>=_0x1dab4f&&(sessions[_0x4711e5]={...sessions[_0x4711e5],'start':_0x1404cf[_0x5191f9(0x246)],'end':_0x1404cf[_0x5191f9(0x25b)],'note':_0x1404cf['note'],'client':_0x1404cf['client'],'clientId':_0x1404cf[_0x5191f9(0x249)]},_0x2510ea[_0x5191f9(0x194)](_0x326ee2[_0x5191f9(0x22d)]));});}}afterSaveAction(_0x2510ea);}function tryDeleteSession(){const _0x5159d7=a2_0x128d70,_0x5b11fb=sessions[_0x5159d7(0x1b3)](_0x15bf55=>_0x15bf55['id']===editingId);if(!_0x5b11fb)return;_0x5b11fb[_0x5159d7(0x177)]?openActionSheet(_0x5159d7(0x2a1)):commitDelete(_0x5159d7(0x14d),_0x5b11fb);}function commitDelete(_0x428dc0,_0x47a0fb){const _0x4626d8=a2_0x128d70;lastUserActionTime=Date[_0x4626d8(0x291)](),NotificationManager[_0x4626d8(0x1d6)]('cancel',_0x47a0fb);const _0x48ecf0=[];if(_0x428dc0===_0x4626d8(0x14d))sessions=sessions[_0x4626d8(0x265)](_0x562ab2=>_0x562ab2['id']!==_0x47a0fb['id']),_0x48ecf0[_0x4626d8(0x194)](_0x47a0fb[_0x4626d8(0x22d)]);else{if(_0x428dc0===_0x4626d8(0x19b)){const _0x1a155f=_0x47a0fb['dateStr'],_0x4482a4=_0x47a0fb[_0x4626d8(0x177)];sessions['forEach'](_0x662ad7=>{const _0xa5f895=_0x4626d8;_0x662ad7[_0xa5f895(0x177)]===_0x4482a4&&_0x662ad7[_0xa5f895(0x22d)]>=_0x1a155f&&_0x48ecf0['push'](_0x662ad7[_0xa5f895(0x22d)]);}),sessions=sessions[_0x4626d8(0x265)](_0x3322f6=>!(_0x3322f6[_0x4626d8(0x177)]===_0x4482a4&&_0x3322f6[_0x4626d8(0x22d)]>=_0x1a155f));}}afterSaveAction(_0x48ecf0);}function afterSaveAction(_0x1a63e9){const _0x36b5a5=a2_0x128d70;DataManager['saveLocally'](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager['syncBatch'](_0x1a63e9)[_0x36b5a5(0x267)](()=>console[_0x36b5a5(0x1da)]('Batch\x20Sync\x20OK'))[_0x36b5a5(0x158)](_0x275bba=>showToast(_0x36b5a5(0x210),![]));}const NotificationManager={'formatDate'(_0xbccff6){const _0x5168a3=a2_0x128d70,_0x4e56cf=new Date(_0xbccff6),_0xfff57f={'weekday':'long','day':'numeric','month':_0x5168a3(0x23c)};let _0x2d2c6a=_0x4e56cf[_0x5168a3(0x266)](_0x5168a3(0x225),_0xfff57f);return _0x2d2c6a[_0x5168a3(0x224)](0x0)[_0x5168a3(0x1af)]()+_0x2d2c6a[_0x5168a3(0x16f)](0x1);},'getText'(_0xc9e031,_0x9f55a5){const _0x5433cc=a2_0x128d70,_0xf49ffd=this[_0x5433cc(0x28c)](_0x9f55a5['dateStr']);switch(_0xc9e031){case _0x5433cc(0x16b):return _0x5433cc(0x1a7)+(_0x5433cc(0x1f7)+_0xf49ffd+'\x0a')+('<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20'+_0x9f55a5['start']+_0x5433cc(0x1c6)+_0x9f55a5[_0x5433cc(0x25b)]+'\x0a\x0a')+_0x5433cc(0x17e);case _0x5433cc(0x215):return _0x5433cc(0x1b9)+'–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a'+(_0x5433cc(0x1f0)+_0x9f55a5['start']+_0x5433cc(0x1c6)+_0x9f55a5['end']+_0x5433cc(0x294))+(_0x5433cc(0x1f7)+_0xf49ffd);case _0x5433cc(0x25e):return _0x5433cc(0x287)+('–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>'+_0xf49ffd+'\x20('+_0x9f55a5[_0x5433cc(0x246)]+_0x5433cc(0x290));case _0x5433cc(0x1b8):return _0x5433cc(0x147)+'–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a'+_0x5433cc(0x211);default:return'';}},async 'send'(_0x30e6bc,_0x5f34fd){const _0x1ee337=a2_0x128d70;console['log'](_0x1ee337(0x14c),_0x30e6bc,_0x5f34fd);if(!_0x5f34fd){console[_0x1ee337(0x201)](_0x1ee337(0x2aa));return;}const _0x34e5b2=String(_0x5f34fd[_0x1ee337(0x249)]);console[_0x1ee337(0x1da)](_0x1ee337(0x13d),_0x34e5b2);if(!_0x5f34fd[_0x1ee337(0x249)]||_0x34e5b2==='undefined'||_0x34e5b2===_0x1ee337(0x1dd)){console['error'](_0x1ee337(0x1c8));if(_0x5f34fd[_0x1ee337(0x247)]){const _0x415057=clients[_0x1ee337(0x1b3)](_0x2d86af=>_0x2d86af['name']===_0x5f34fd['client']);if(_0x415057)return console['log'](_0x1ee337(0x160),_0x415057['id']),this[_0x1ee337(0x1d6)](_0x30e6bc,{..._0x5f34fd,'clientId':_0x415057['id']});}return;}if(_0x34e5b2['length']<0x5){console[_0x1ee337(0x1df)]('[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)',_0x34e5b2);return;}const _0x129079=this[_0x1ee337(0x176)](_0x30e6bc,_0x5f34fd);if(!_0x129079){console[_0x1ee337(0x201)](_0x1ee337(0x1de));return;}console['log'](_0x1ee337(0x214)+_0x34e5b2+_0x1ee337(0x276)),DataManager[_0x1ee337(0x24c)](_0x1ee337(0x2ab),{'chatId':_0x34e5b2,'text':_0x129079})[_0x1ee337(0x267)](_0x14ff23=>console['log'](_0x1ee337(0x26c),_0x14ff23))[_0x1ee337(0x158)](_0x15e62d=>console[_0x1ee337(0x201)](_0x1ee337(0x1bb),_0x15e62d));}};function getLocalDateStr(_0x3323bb){const _0x527e3c=a2_0x128d70,_0x252f10=_0x3323bb['getFullYear'](),_0x36a440=String(_0x3323bb[_0x527e3c(0x16a)]()+0x1)[_0x527e3c(0x21b)](0x2,'0'),_0x5517ed=String(_0x3323bb[_0x527e3c(0x150)]())[_0x527e3c(0x21b)](0x2,'0');return _0x252f10+'-'+_0x36a440+'-'+_0x5517ed;}function getDateStr(_0x55a901){const _0x47704b=a2_0x128d70,_0x1e03f1=new Date();return _0x1e03f1[_0x47704b(0x1e4)](_0x1e03f1[_0x47704b(0x150)]()+_0x55a901),getLocalDateStr(_0x1e03f1);}function getStartOfWeek(_0x4cede1){const _0x31d900=a2_0x128d70,_0x4b1521=(function(){let _0x142e54=!![];return function(_0x4d8633,_0x34129a){const _0x51b824=_0x142e54?function(){if(_0x34129a){const _0x309bf1=_0x34129a['apply'](_0x4d8633,arguments);return _0x34129a=null,_0x309bf1;}}:function(){};return _0x142e54=![],_0x51b824;};}()),_0x38fb2a=_0x4b1521(this,function(){const _0x168dcc=a2_0x2805;return _0x38fb2a[_0x168dcc(0x18a)]()['search'](_0x168dcc(0x1bd))[_0x168dcc(0x18a)]()[_0x168dcc(0x260)](_0x38fb2a)[_0x168dcc(0x1b0)](_0x168dcc(0x1bd));});_0x38fb2a();const _0x3ca84c=new Date(_0x4cede1),_0x22bdb1=_0x3ca84c[_0x31d900(0x18e)](),_0x1be48f=_0x3ca84c['getDate']()-_0x22bdb1+(_0x22bdb1===0x0?-0x6:0x1);return _0x3ca84c['setDate'](_0x1be48f),_0x3ca84c[_0x31d900(0x1fa)](0x0,0x0,0x0,0x0),_0x3ca84c;}function hexToRgba(_0x3cee60,_0x5c0ffa){const _0x5ab48b=a2_0x128d70;if(!_0x3cee60)return _0x5ab48b(0x148);let _0x16751d=0x0,_0x2505ac=0x0,_0x3930d0=0x0;if(_0x3cee60[_0x5ab48b(0x252)]===0x4)_0x16751d='0x'+_0x3cee60[0x1]+_0x3cee60[0x1],_0x2505ac='0x'+_0x3cee60[0x2]+_0x3cee60[0x2],_0x3930d0='0x'+_0x3cee60[0x3]+_0x3cee60[0x3];else _0x3cee60[_0x5ab48b(0x252)]===0x7&&(_0x16751d='0x'+_0x3cee60[0x1]+_0x3cee60[0x2],_0x2505ac='0x'+_0x3cee60[0x3]+_0x3cee60[0x4],_0x3930d0='0x'+_0x3cee60[0x5]+_0x3cee60[0x6]);return'rgba('+ +_0x16751d+',\x20'+ +_0x2505ac+',\x20'+ +_0x3930d0+',\x20'+_0x5c0ffa+')';}function renderTimeColumn(){const _0x5543bf=a2_0x128d70,_0x4d20e4=document[_0x5543bf(0x235)](_0x5543bf(0x14b)),_0x2965f6=document[_0x5543bf(0x235)](_0x5543bf(0x1a2));_0x4d20e4[_0x5543bf(0x21f)]='',_0x4d20e4[_0x5543bf(0x239)](_0x2965f6);for(let _0x46bd39=0x0;_0x46bd39<0x18;_0x46bd39++){const _0x25e884=document[_0x5543bf(0x1ad)](_0x5543bf(0x1ee));_0x25e884[_0x5543bf(0x1a4)]='time-label';if(_0x46bd39>0x0)_0x25e884[_0x5543bf(0x21f)]=_0x5543bf(0x226)+String(_0x46bd39)[_0x5543bf(0x21b)](0x2,'0')+_0x5543bf(0x16d);_0x4d20e4['appendChild'](_0x25e884);}}function renderDayRange(_0x5d4a0c,_0x5f2d94){const _0x1b2f51=a2_0x128d70,_0x2f977e=document[_0x1b2f51(0x235)](_0x1b2f51(0x169)),_0x296c07=document[_0x1b2f51(0x235)](_0x1b2f51(0x138)),_0x5631b2=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0xe6a81d=new Date();_0xe6a81d['setHours'](0x0,0x0,0x0,0x0);const _0x31610d=getLocalDateStr(new Date());for(let _0x54f75e=_0x5d4a0c;_0x54f75e<=_0x5f2d94;_0x54f75e++){const _0x1fdbf9=new Date(_0xe6a81d);_0x1fdbf9[_0x1b2f51(0x1e4)](_0x1fdbf9[_0x1b2f51(0x150)]()+_0x54f75e);const _0x5c13c2=getLocalDateStr(_0x1fdbf9);let _0x5e29ff=_0x1fdbf9[_0x1b2f51(0x18e)]()-0x1;if(_0x5e29ff===-0x1)_0x5e29ff=0x6;const _0x848823=_0x5c13c2===_0x31610d,_0x56d4af=document[_0x1b2f51(0x1ad)](_0x1b2f51(0x1ee));_0x56d4af[_0x1b2f51(0x1a4)]=_0x1b2f51(0x1d2)+(_0x848823?'today':''),_0x56d4af['id']=_0x1b2f51(0x174)+_0x5c13c2,_0x56d4af['setAttribute'](_0x1b2f51(0x1f8),_0x5c13c2),_0x56d4af['innerHTML']='<div\x20class=\x22dch-day\x22>'+_0x5631b2[_0x5e29ff]+_0x1b2f51(0x292)+_0x1fdbf9['getDate']()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0x5c13c2+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x56d4af['onclick']=()=>openDayOptions(_0x5c13c2,_0x5631b2[_0x5e29ff]+'\x20'+_0x1fdbf9[_0x1b2f51(0x150)]()),_0x2f977e[_0x1b2f51(0x239)](_0x56d4af);const _0xea672e=document[_0x1b2f51(0x1ad)]('div');_0xea672e[_0x1b2f51(0x1a4)]='day-column\x20'+(_0x848823?_0x1b2f51(0x13f):''),_0xea672e[_0x1b2f51(0x20b)]('data-date',_0x5c13c2),_0xea672e[_0x1b2f51(0x20b)]('data-day-idx',_0x5e29ff),renderEventsForColumn(_0xea672e,_0x5c13c2,_0x5e29ff),attachLongPressHandler(_0xea672e,_0x1fdbf9),_0x296c07[_0x1b2f51(0x239)](_0xea672e),updateDayStats(_0x5c13c2);}}function reRenderBlocks(){const _0x5cc6d4=a2_0x128d70;document[_0x5cc6d4(0x217)](_0x5cc6d4(0x24a))[_0x5cc6d4(0x15d)](_0x138eea=>{const _0x28a111=_0x5cc6d4;_0x138eea[_0x28a111(0x217)](_0x28a111(0x278))[_0x28a111(0x15d)](_0x342cb5=>_0x342cb5[_0x28a111(0x26e)]());const _0x1ec831=_0x138eea['getAttribute'](_0x28a111(0x1f8)),_0x1f3c7a=parseInt(_0x138eea['getAttribute'](_0x28a111(0x236))),_0x262d10=Math['round'](_0x138eea[_0x28a111(0x20a)]);(availabilityPattern[_0x1f3c7a]||[])[_0x28a111(0x15d)](_0x1750d1=>{const _0x1244ad=_0x28a111,_0x522bc6=document[_0x1244ad(0x1ad)](_0x1244ad(0x1ee));_0x522bc6['className']=_0x1244ad(0x1a1);const _0x44861f=_0x1750d1*GRID_H;_0x522bc6['style'][_0x1244ad(0x282)]=_0x44861f+'px',_0x522bc6['style'][_0x1244ad(0x264)]='-'+_0x262d10+_0x1244ad(0x13b)+_0x44861f+'px',_0x138eea[_0x1244ad(0x239)](_0x522bc6);});if(specialRanges&&specialRanges[_0x28a111(0x252)]>0x0){const _0x4984ac=new Date(_0x1ec831+'T00:00:00')['getTime'](),_0x5dcbdb=new Date(_0x1ec831+'T23:59:59')[_0x28a111(0x19a)]();specialRanges[_0x28a111(0x15d)](_0x27f7ef=>{const _0x681ee3=_0x28a111,_0x24ea9e=new Date(_0x27f7ef[_0x681ee3(0x246)])[_0x681ee3(0x19a)](),_0x13b092=new Date(_0x27f7ef['end'])[_0x681ee3(0x19a)](),_0x187431=Math['max'](_0x4984ac,_0x24ea9e),_0x2b2a03=Math[_0x681ee3(0x1fd)](_0x5dcbdb,_0x13b092);if(_0x187431<_0x2b2a03){if(_0x187431<=_0x4984ac&&_0x2b2a03>=_0x5dcbdb-0xea60){if(!_0x138eea[_0x681ee3(0x1ce)](_0x681ee3(0x29c))){const _0x1c8757=document[_0x681ee3(0x1ad)]('div');_0x1c8757['className']=_0x681ee3(0x268),_0x1c8757[_0x681ee3(0x21c)][_0x681ee3(0x264)]='-'+_0x262d10+_0x681ee3(0x134),_0x138eea['appendChild'](_0x1c8757);}}else{const _0x30c1c4=(_0x187431-_0x4984ac)/0x36ee80*GRID_H,_0x4b8f03=(_0x2b2a03-_0x187431)/0x36ee80*GRID_H,_0x4d0127=document[_0x681ee3(0x1ad)](_0x681ee3(0x1ee));_0x4d0127[_0x681ee3(0x1a4)]=_0x681ee3(0x204),_0x4d0127['style'][_0x681ee3(0x282)]=_0x30c1c4+'px',_0x4d0127[_0x681ee3(0x21c)][_0x681ee3(0x243)]=_0x4b8f03+'px',_0x4d0127[_0x681ee3(0x21c)]['backgroundPosition']='-'+_0x262d10+_0x681ee3(0x13b)+_0x30c1c4+'px',_0x138eea[_0x681ee3(0x239)](_0x4d0127);}}});}if(dateExceptions[_0x1ec831]==='off'){if(!_0x138eea['querySelector']('.day-off-overlay')){const _0x56bcd9=document[_0x28a111(0x1ad)](_0x28a111(0x1ee));_0x56bcd9[_0x28a111(0x1a4)]=_0x28a111(0x268),_0x56bcd9[_0x28a111(0x21c)][_0x28a111(0x264)]='-'+_0x262d10+_0x28a111(0x134),_0x138eea[_0x28a111(0x239)](_0x56bcd9);}}renderEventsForColumn(_0x138eea,_0x1ec831,_0x1f3c7a),updateDayStats(_0x1ec831);});}function updateAllDayStats(){const _0x3e7082=a2_0x128d70;document[_0x3e7082(0x217)](_0x3e7082(0x20f))[_0x3e7082(0x15d)](_0x531157=>{const _0x41e66a=_0x3e7082;updateDayStats(_0x531157['getAttribute'](_0x41e66a(0x1f8)));});}function updateDayStats(_0x3885e8){const _0x5a8a41=a2_0x128d70,_0x3670ef=document['getElementById']('stat-'+_0x3885e8);if(!_0x3670ef)return;const _0x2ccb61=new Date(_0x3885e8);let _0x1ffee3=_0x2ccb61[_0x5a8a41(0x18e)]()-0x1;if(_0x1ffee3===-0x1)_0x1ffee3=0x6;if(dateExceptions[_0x3885e8]===_0x5a8a41(0x179)){_0x3670ef[_0x5a8a41(0x21c)]['display']=_0x5a8a41(0x137);return;}const _0x1350d3=availabilityPattern[_0x1ffee3]||[],_0x47df19=0x18-_0x1350d3[_0x5a8a41(0x252)],_0x35df25=_0x47df19*0x3c,_0x23b80c=sessions[_0x5a8a41(0x265)](_0x583469=>_0x583469[_0x5a8a41(0x22d)]===_0x3885e8&&_0x583469[_0x5a8a41(0x19f)]!==_0x5a8a41(0x250));if(_0x23b80c[_0x5a8a41(0x252)]===0x0){_0x3670ef[_0x5a8a41(0x21c)][_0x5a8a41(0x17f)]=_0x5a8a41(0x137);return;}let _0x2313ba=_0x23b80c['map'](_0x2caa75=>{const _0x36533f=_0x5a8a41,[_0x467c21,_0x237532]=_0x2caa75[_0x36533f(0x246)][_0x36533f(0x26f)](':')[_0x36533f(0x144)](Number),[_0x34426e,_0x1f5dbf]=_0x2caa75[_0x36533f(0x25b)][_0x36533f(0x26f)](':')[_0x36533f(0x144)](Number);return[_0x467c21*0x3c+_0x237532,_0x34426e*0x3c+_0x1f5dbf];});_0x2313ba[_0x5a8a41(0x295)]((_0x42183a,_0x42b9b1)=>_0x42183a[0x0]-_0x42b9b1[0x0]);let _0x1c18fd=[];if(_0x2313ba[_0x5a8a41(0x252)]>0x0){let _0x4034a2=_0x2313ba[0x0];for(let _0x1766b1=0x1;_0x1766b1<_0x2313ba['length'];_0x1766b1++){_0x2313ba[_0x1766b1][0x0]<_0x4034a2[0x1]?_0x4034a2[0x1]=Math[_0x5a8a41(0x2a9)](_0x4034a2[0x1],_0x2313ba[_0x1766b1][0x1]):(_0x1c18fd['push'](_0x4034a2),_0x4034a2=_0x2313ba[_0x1766b1]);}_0x1c18fd[_0x5a8a41(0x194)](_0x4034a2);}let _0x196493=0x0;_0x1c18fd[_0x5a8a41(0x15d)](_0x4d9174=>_0x196493+=_0x4d9174[0x1]-_0x4d9174[0x0]),_0x3670ef[_0x5a8a41(0x21c)][_0x5a8a41(0x17f)]=_0x5a8a41(0x18c);const _0x8d626e=_0x3670ef[_0x5a8a41(0x1ce)](_0x5a8a41(0x261));if(_0x35df25===0x0){_0x8d626e['style'][_0x5a8a41(0x21d)]=_0x5a8a41(0x195),_0x8d626e[_0x5a8a41(0x21c)][_0x5a8a41(0x22a)]=_0x5a8a41(0x2a4);return;}const _0x1e3754=_0x196493/_0x35df25*0x64;console[_0x5a8a41(0x1da)]('['+_0x3885e8+']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20'+_0x47df19+_0x5a8a41(0x1f4)+_0x196493+_0x5a8a41(0x209)+_0x1e3754[_0x5a8a41(0x208)](0x1)+'%'),_0x1e3754>0x64?(_0x8d626e[_0x5a8a41(0x21c)][_0x5a8a41(0x21d)]=_0x5a8a41(0x195),_0x8d626e[_0x5a8a41(0x21c)][_0x5a8a41(0x22a)]=_0x5a8a41(0x2a4)):(_0x8d626e['style'][_0x5a8a41(0x21d)]=_0x1e3754+'%',_0x8d626e[_0x5a8a41(0x21c)]['background']=_0x5a8a41(0x258));}function renderEventsForColumn(_0x40789e,_0x17eb7a,_0x325079){const _0x59ba0d=a2_0x128d70,_0x801abe=sessions[_0x59ba0d(0x265)](_0x38ce53=>_0x38ce53[_0x59ba0d(0x22d)]===_0x17eb7a),_0x438618=_0x801abe['map'](_0x34aa12=>{const _0x284f4c=_0x59ba0d,[_0x19f568,_0x3118e2]=_0x34aa12['start'][_0x284f4c(0x26f)](':')[_0x284f4c(0x144)](Number),[_0x3e7dc6,_0x1e7e2d]=_0x34aa12[_0x284f4c(0x25b)]['split'](':')[_0x284f4c(0x144)](Number);return{'data':_0x34aa12,'start':_0x19f568*0x3c+_0x3118e2,'end':_0x3e7dc6*0x3c+_0x1e7e2d,'colIndex':0x0};});_0x438618[_0x59ba0d(0x295)]((_0xe006fb,_0x3e4ea9)=>{const _0x35bcbb=_0x59ba0d;if(_0xe006fb[_0x35bcbb(0x246)]!==_0x3e4ea9[_0x35bcbb(0x246)])return _0xe006fb[_0x35bcbb(0x246)]-_0x3e4ea9['start'];return _0x3e4ea9[_0x35bcbb(0x25b)]-_0x3e4ea9[_0x35bcbb(0x246)]-(_0xe006fb[_0x35bcbb(0x25b)]-_0xe006fb['start']);});const _0x59eb6e=[];_0x438618['forEach'](_0x40eae5=>{const _0x23b5fd=_0x59ba0d;let _0x5f2a1e=![];for(let _0x406dae=0x0;_0x406dae<_0x59eb6e[_0x23b5fd(0x252)];_0x406dae++){const _0xa7f015=_0x59eb6e[_0x406dae],_0x556870=_0xa7f015[_0xa7f015[_0x23b5fd(0x252)]-0x1];if(_0x40eae5['start']>=_0x556870[_0x23b5fd(0x25b)]){_0xa7f015[_0x23b5fd(0x194)](_0x40eae5),_0x40eae5['colIndex']=_0x406dae,_0x5f2a1e=!![];break;}}!_0x5f2a1e&&(_0x59eb6e[_0x23b5fd(0x194)]([_0x40eae5]),_0x40eae5['colIndex']=_0x59eb6e[_0x23b5fd(0x252)]-0x1);}),_0x438618[_0x59ba0d(0x15d)](_0x4f4034=>{const _0x2e56f8=_0x59ba0d;let _0x4605ad=0x0;_0x438618[_0x2e56f8(0x15d)](_0x45548f=>{const _0x49e9ee=_0x2e56f8;if(Math[_0x49e9ee(0x2a9)](_0x4f4034[_0x49e9ee(0x246)],_0x45548f['start'])<Math[_0x49e9ee(0x1fd)](_0x4f4034[_0x49e9ee(0x25b)],_0x45548f[_0x49e9ee(0x25b)])){if(_0x45548f[_0x49e9ee(0x297)]>_0x4605ad)_0x4605ad=_0x45548f[_0x49e9ee(0x297)];}});const _0x441cfb=_0x4605ad+0x1,_0x24bc5a=0x64/_0x441cfb,_0x5ab1c6=_0x4f4034[_0x2e56f8(0x297)]*_0x24bc5a,_0x22834e=createEventEl(_0x4f4034['data']);_0x22834e[_0x2e56f8(0x21c)]['width']=_0x2e56f8(0x168)+_0x24bc5a+_0x2e56f8(0x1aa),_0x22834e[_0x2e56f8(0x21c)]['left']=_0x2e56f8(0x168)+_0x5ab1c6+_0x2e56f8(0x280),_0x22834e[_0x2e56f8(0x21c)][_0x2e56f8(0x23e)]=0xa+_0x4f4034[_0x2e56f8(0x297)],_0x24bc5a<0x55&&_0x22834e[_0x2e56f8(0x24f)][_0x2e56f8(0x2ac)]('mini'),_0x40789e[_0x2e56f8(0x239)](_0x22834e);});}function createEventEl(_0x2ca0c3){const _0x4427f0=a2_0x128d70,[_0x18f1be,_0x53f921]=_0x2ca0c3[_0x4427f0(0x246)][_0x4427f0(0x26f)](':')[_0x4427f0(0x144)](Number),[_0x2fafbc,_0x28ef53]=_0x2ca0c3['end']['split'](':')[_0x4427f0(0x144)](Number),_0x3d1048=(_0x18f1be*0x3c+_0x53f921)/0x3c*GRID_H,_0x165a40=(_0x2fafbc*0x3c+_0x28ef53-(_0x18f1be*0x3c+_0x53f921))/0x3c*GRID_H,_0x4180f8=document[_0x4427f0(0x1ad)](_0x4427f0(0x1ee)),_0x1864f6=_0x2ca0c3[_0x4427f0(0x19f)]==='completed'?'\x20status-completed':'';_0x4180f8['className']=_0x4427f0(0x263)+_0x1864f6,_0x4180f8[_0x4427f0(0x21c)][_0x4427f0(0x282)]=_0x3d1048+'px',_0x4180f8['style'][_0x4427f0(0x243)]=Math[_0x4427f0(0x2a9)](_0x165a40,0x14)+'px';const _0x35f5af=clients[_0x4427f0(0x1b3)](_0x1f41cb=>_0x2ca0c3['clientId']&&String(_0x1f41cb['id'])===String(_0x2ca0c3[_0x4427f0(0x249)])||_0x1f41cb[_0x4427f0(0x284)]===_0x2ca0c3['client']),_0x29b34e=_0x35f5af?_0x35f5af[_0x4427f0(0x181)]:_0x4427f0(0x149);_0x4180f8['style'][_0x4427f0(0x28a)]=_0x29b34e,_0x4180f8[_0x4427f0(0x21c)][_0x4427f0(0x18b)]=hexToRgba(_0x29b34e,0.85);let _0x42b592=_0x4427f0(0x171)+_0x2ca0c3[_0x4427f0(0x247)]+_0x4427f0(0x1d7)+_0x2ca0c3[_0x4427f0(0x246)]+'\x20-\x20'+_0x2ca0c3[_0x4427f0(0x25b)]+_0x4427f0(0x17a);return _0x2ca0c3[_0x4427f0(0x177)]&&(_0x42b592+=_0x4427f0(0x1ab)),_0x2ca0c3['status']===_0x4427f0(0x1c2)&&(_0x42b592+=_0x4427f0(0x22e)),_0x4180f8['innerHTML']=_0x42b592,_0x4180f8['onclick']=_0x1394fc=>{const _0x245431=_0x4427f0;_0x1394fc[_0x245431(0x15b)](),openEdit(_0x2ca0c3);},_0x4180f8;}function attachLongPressHandler(_0x3906ea,_0x208366){const _0x51ffbe=a2_0x128d70;let _0x201f57=0x0,_0x53df21=null;const _0x32b128=_0x51a50f=>{const _0x35d774=a2_0x2805;if(_0x51a50f['target']['closest'](_0x35d774(0x202)))return;isScrolling=![],_0x201f57=_0x51a50f['touches']?_0x51a50f[_0x35d774(0x1f2)][0x0][_0x35d774(0x184)]:_0x51a50f[_0x35d774(0x184)],_0x53df21=setTimeout(()=>{const _0xbdfec6=_0x35d774;if(!isScrolling){navigator[_0xbdfec6(0x213)]?.(0x32);const _0x410d88=_0x3906ea[_0xbdfec6(0x1d8)](),_0x32b3ae=Math[_0xbdfec6(0x27e)]((_0x201f57-_0x410d88['top'])/GRID_H);_0x208366[_0xbdfec6(0x1fa)](_0x32b3ae,0x0),openAddSession(_0x208366);}},0x1f4);},_0x2f579d=()=>{isScrolling=!![],clearTimeout(_0x53df21);},_0x44d66b=()=>{clearTimeout(_0x53df21);};_0x3906ea[_0x51ffbe(0x228)](_0x51ffbe(0x241),_0x32b128,{'passive':!![]}),_0x3906ea[_0x51ffbe(0x228)](_0x51ffbe(0x223),_0x2f579d,{'passive':!![]}),_0x3906ea[_0x51ffbe(0x228)](_0x51ffbe(0x25d),_0x44d66b),_0x3906ea[_0x51ffbe(0x228)](_0x51ffbe(0x1e7),_0x32b128),_0x3906ea[_0x51ffbe(0x228)](_0x51ffbe(0x2a2),_0x2f579d),_0x3906ea[_0x51ffbe(0x228)](_0x51ffbe(0x279),_0x44d66b);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x2f779d=a2_0x128d70,_0x3bf773=document[_0x2f779d(0x235)](_0x2f779d(0x212)),_0xe2b4a3=_0x3bf773[_0x2f779d(0x196)],_0xe2e2ea=_0x3bf773[_0x2f779d(0x190)],_0x12ca97=_0x3bf773[_0x2f779d(0x132)];if(_0xe2e2ea-(_0xe2b4a3+_0x12ca97)<0x12c){const _0x2408b5=endOffset;endOffset+=0xe,renderDayRange(_0x2408b5+0x1,endOffset),reRenderBlocks();}if(_0xe2b4a3<0x12c){const _0x451f62=startOffset;startOffset-=0xe,prependDays(startOffset,_0x451f62-0x1),_0x3bf773[_0x2f779d(0x196)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x5dcb45,_0xaff787){const _0x106427=a2_0x128d70,_0x2f7f68=document[_0x106427(0x235)](_0x106427(0x169)),_0x3e3ce8=document[_0x106427(0x235)](_0x106427(0x138)),_0x2e3f67=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x222bcb=new Date();_0x222bcb['setHours'](0x0,0x0,0x0,0x0);const _0x4be5f6=getLocalDateStr(new Date()),_0x184d79=document[_0x106427(0x251)](),_0x2c5f26=document[_0x106427(0x251)]();for(let _0x4ac187=_0x5dcb45;_0x4ac187<=_0xaff787;_0x4ac187++){const _0x43a947=new Date(_0x222bcb);_0x43a947[_0x106427(0x1e4)](_0x43a947[_0x106427(0x150)]()+_0x4ac187);const _0x54f167=getLocalDateStr(_0x43a947);let _0x239597=_0x43a947['getDay']()-0x1;if(_0x239597===-0x1)_0x239597=0x6;const _0x56038f=_0x54f167===_0x4be5f6,_0x19ca55=document[_0x106427(0x1ad)](_0x106427(0x1ee));_0x19ca55['className']=_0x106427(0x1d2)+(_0x56038f?_0x106427(0x13f):''),_0x19ca55['id']='header-'+_0x54f167,_0x19ca55[_0x106427(0x20b)]('data-date',_0x54f167),_0x19ca55[_0x106427(0x21f)]=_0x106427(0x1f6)+_0x2e3f67[_0x239597]+_0x106427(0x292)+_0x43a947[_0x106427(0x150)]()+_0x106427(0x1e0)+_0x54f167+_0x106427(0x180),_0x19ca55[_0x106427(0x182)]=()=>openDayOptions(_0x54f167,_0x2e3f67[_0x239597]+'\x20'+_0x43a947[_0x106427(0x150)]()),_0x184d79[_0x106427(0x239)](_0x19ca55);const _0x5165b6=document[_0x106427(0x1ad)](_0x106427(0x1ee));_0x5165b6[_0x106427(0x1a4)]=_0x106427(0x1dc)+(_0x56038f?_0x106427(0x13f):''),_0x5165b6['setAttribute'](_0x106427(0x1f8),_0x54f167),_0x5165b6[_0x106427(0x20b)](_0x106427(0x236),_0x239597),renderEventsForColumn(_0x5165b6,_0x54f167,_0x239597),attachLongPressHandler(_0x5165b6,_0x43a947),_0x2c5f26[_0x106427(0x239)](_0x5165b6),updateDayStats(_0x54f167);}_0x2f7f68[_0x106427(0x28f)](_0x184d79,_0x2f7f68[_0x106427(0x1e9)]),_0x3e3ce8[_0x106427(0x28f)](_0x2c5f26,_0x3e3ce8[_0x106427(0x1ce)](_0x106427(0x271)));}function validateAppointment(_0x203fc0,_0x15d173,_0xa4a87a,_0x5ae6ec,_0x41d86b){const _0x8a3117=a2_0x128d70,[_0x489728,_0x1eb4ca]=_0x15d173[_0x8a3117(0x26f)](':')[_0x8a3117(0x144)](Number),[_0x1c9f2a,_0x49bbda]=_0xa4a87a[_0x8a3117(0x26f)](':')[_0x8a3117(0x144)](Number),_0x4b74ef=_0x489728*0x3c+_0x1eb4ca,_0x1653c9=_0x1c9f2a*0x3c+_0x49bbda,_0xe318ec=String(_0x41d86b);let _0x1c908d=![],_0x501cc1='';for(let _0x4272e1 of sessions){if(_0x4272e1[_0x8a3117(0x22d)]!==_0x203fc0)continue;if(_0x4272e1[_0x8a3117(0x19f)]===_0x8a3117(0x250))continue;if(_0x5ae6ec&&String(_0x4272e1['id'])===String(_0x5ae6ec))continue;const [_0x5f4fd2,_0x585a1a]=_0x4272e1[_0x8a3117(0x246)][_0x8a3117(0x26f)](':')['map'](Number),[_0x411f09,_0x1eec0b]=_0x4272e1[_0x8a3117(0x25b)]['split'](':')['map'](Number),_0x157c34=_0x5f4fd2*0x3c+_0x585a1a,_0x4cd983=_0x411f09*0x3c+_0x1eec0b;if(Math[_0x8a3117(0x2a9)](_0x4b74ef,_0x157c34)<Math['min'](_0x1653c9,_0x4cd983)){if(_0x4272e1[_0x8a3117(0x249)]&&String(_0x4272e1['clientId'])===_0xe318ec)return{'valid':![],'msg':_0x8a3117(0x286)+_0x4272e1['client']+_0x8a3117(0x14a)};_0x1c908d=!![],_0x501cc1=_0x4272e1[_0x8a3117(0x247)];}}if(_0x1c908d)return{'valid':!![],'warning':'–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20'+_0x501cc1};return{'valid':!![]};}function updateDateDisplay(){const _0x27a7c1=a2_0x128d70,_0x1a611c=document[_0x27a7c1(0x235)](_0x27a7c1(0x187))[_0x27a7c1(0x218)],_0x246864=document['getElementById'](_0x27a7c1(0x1e3));if(!_0x1a611c){_0x246864[_0x27a7c1(0x191)]='';return;}const [_0x492421,_0xdd275e,_0x18074b]=_0x1a611c[_0x27a7c1(0x26f)]('-')[_0x27a7c1(0x144)](Number),_0x1588ce=new Date(_0x492421,_0xdd275e-0x1,_0x18074b),_0x18faee={'weekday':_0x27a7c1(0x23c),'day':_0x27a7c1(0x24d),'month':'long','year':_0x27a7c1(0x24d)};let _0x442145=_0x1588ce[_0x27a7c1(0x266)](_0x27a7c1(0x225),_0x18faee);_0x442145=_0x442145['charAt'](0x0)[_0x27a7c1(0x1af)]()+_0x442145[_0x27a7c1(0x16f)](0x1),_0x246864[_0x27a7c1(0x191)]=_0x442145;}function autoSetEndTime(){const _0x45fd17=a2_0x128d70,_0x3bf192=document['getElementById'](_0x45fd17(0x193))[_0x45fd17(0x218)];if(!_0x3bf192)return;const [_0x25e3d2,_0x599f0e]=_0x3bf192[_0x45fd17(0x26f)](':')['map'](Number);let _0x280635=_0x25e3d2+0x1;if(_0x280635>0x17)_0x280635=0x0;const _0x2c95fd=String(_0x280635)[_0x45fd17(0x21b)](0x2,'0')+':'+String(_0x599f0e)[_0x45fd17(0x21b)](0x2,'0');document[_0x45fd17(0x235)](_0x45fd17(0x25f))[_0x45fd17(0x218)]=_0x2c95fd;}function populateClientSelect(){const _0x2a5021=a2_0x128d70,_0x360183=document[_0x2a5021(0x235)]('inpClient');_0x360183[_0x2a5021(0x21f)]='';if(clients[_0x2a5021(0x252)]===0x0){const _0x49277d=document['createElement'](_0x2a5021(0x288));_0x49277d['text']='–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤',_0x360183[_0x2a5021(0x239)](_0x49277d);return;}clients[_0x2a5021(0x15d)](_0x123733=>{const _0x2fa106=_0x2a5021,_0x46a7aa=document[_0x2fa106(0x1ad)](_0x2fa106(0x288));_0x46a7aa[_0x2fa106(0x218)]=_0x123733[_0x2fa106(0x284)],_0x46a7aa[_0x2fa106(0x191)]=_0x123733[_0x2fa106(0x284)],_0x360183['appendChild'](_0x46a7aa);});}function openActionSheet(_0xe5fdc3){const _0x27aa0f=a2_0x128d70,_0x4af9be=document[_0x27aa0f(0x235)](_0x27aa0f(0x15c)),_0x5335d6=document[_0x27aa0f(0x235)](_0x27aa0f(0x198)),_0x2c0402=document[_0x27aa0f(0x235)](_0x27aa0f(0x1bf)),_0x3525dc=document[_0x27aa0f(0x235)](_0x27aa0f(0x255)),_0x4bb484=document['getElementById'](_0x27aa0f(0x227));_0x5335d6['classList'][_0x27aa0f(0x2ac)](_0x27aa0f(0x232)),_0x4af9be[_0x27aa0f(0x24f)][_0x27aa0f(0x2ac)](_0x27aa0f(0x1eb));if(_0xe5fdc3===_0x27aa0f(0x1e1))_0x2c0402[_0x27aa0f(0x191)]=_0x27aa0f(0x203),_0x3525dc['textContent']='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x3525dc[_0x27aa0f(0x182)]=()=>{const _0x45c94c=_0x27aa0f;closeActionSheet(),updateSeriesBatch(_0x45c94c(0x14d),tempSessionData);},_0x4bb484[_0x27aa0f(0x191)]=_0x27aa0f(0x1d9),_0x4bb484['onclick']=()=>{closeActionSheet(),updateSeriesBatch('series',tempSessionData);};else _0xe5fdc3===_0x27aa0f(0x2a1)&&(_0x2c0402[_0x27aa0f(0x191)]=_0x27aa0f(0x1a9),_0x3525dc[_0x27aa0f(0x191)]=_0x27aa0f(0x18f),_0x3525dc[_0x27aa0f(0x1a4)]=_0x27aa0f(0x1cf),_0x3525dc[_0x27aa0f(0x182)]=()=>{const _0x90650=_0x27aa0f;closeActionSheet(),commitDelete(_0x90650(0x14d),sessions[_0x90650(0x1b3)](_0x294aee=>_0x294aee['id']===editingId));},_0x4bb484[_0x27aa0f(0x191)]=_0x27aa0f(0x1d9),_0x4bb484[_0x27aa0f(0x1a4)]=_0x27aa0f(0x19d),_0x4bb484[_0x27aa0f(0x182)]=()=>{const _0x1d9fdd=_0x27aa0f;closeActionSheet(),commitDelete(_0x1d9fdd(0x19b),sessions[_0x1d9fdd(0x1b3)](_0x5c5273=>_0x5c5273['id']===editingId));});}function closeActionSheet(){const _0xbf7a09=a2_0x128d70;document[_0xbf7a09(0x235)]('actionSheet')['classList']['remove'](_0xbf7a09(0x1eb)),document[_0xbf7a09(0x235)](_0xbf7a09(0x198))['classList'][_0xbf7a09(0x26e)]('active');}function openSettings(){const _0x2c5c11=a2_0x128d70;openSheet(_0x2c5c11(0x22f));}function saveCoachSettings(){const _0xc7b54d=a2_0x128d70,_0x295037=document[_0xc7b54d(0x235)](_0xc7b54d(0x183))['value'];localStorage[_0xc7b54d(0x143)](_0xc7b54d(0x192),_0x295037),console[_0xc7b54d(0x1da)]('[Settings]\x20Cancel\x20window\x20set\x20to:',_0x295037),DataManager[_0xc7b54d(0x24c)](_0xc7b54d(0x242),{'settings':{'cancel_window':_0x295037}})[_0xc7b54d(0x158)](_0xc5548b=>{const _0x53c6f0=_0xc7b54d;console[_0x53c6f0(0x201)](_0x53c6f0(0x269),_0xc5548b),showToast(_0x53c6f0(0x178),![]);});}function loadCoachSettings(){const _0x14ad8f=a2_0x128d70,_0x2cd88b=localStorage[_0x14ad8f(0x166)]('uc_settings_cancel_window');_0x2cd88b&&(document[_0x14ad8f(0x235)](_0x14ad8f(0x183))[_0x14ad8f(0x218)]=_0x2cd88b);}function openRangesSheet(){closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet('rangesSheet');}function addRange(){const _0x258461=a2_0x128d70,_0x316a82=document[_0x258461(0x235)](_0x258461(0x199))['value'],_0x539cf5=document[_0x258461(0x235)](_0x258461(0x27c))[_0x258461(0x218)],_0xf6b1d=document[_0x258461(0x235)](_0x258461(0x13a))[_0x258461(0x218)],_0x488893=document[_0x258461(0x235)]('rangeEndTime')[_0x258461(0x218)];if(!_0x316a82||!_0x539cf5||!_0xf6b1d||!_0x488893)return alert(_0x258461(0x207));const _0x2a39f9=_0x316a82+'T'+_0x539cf5,_0x443fe1=_0xf6b1d+'T'+_0x488893;if(_0x2a39f9>=_0x443fe1)return alert(_0x258461(0x281));specialRanges[_0x258461(0x194)]({'start':_0x2a39f9,'end':_0x443fe1}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x258461(0x23a)](),DataManager[_0x258461(0x24c)](_0x258461(0x242),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x1374db){const _0x6bd8f1=a2_0x128d70;specialRanges['splice'](_0x1374db,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x6bd8f1(0x23a)](),DataManager[_0x6bd8f1(0x24c)](_0x6bd8f1(0x242),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x48f72f=a2_0x128d70;document[_0x48f72f(0x235)]('rangeStartDate')['value']='',document[_0x48f72f(0x235)](_0x48f72f(0x27c))[_0x48f72f(0x218)]=_0x48f72f(0x164),document[_0x48f72f(0x235)](_0x48f72f(0x13a))[_0x48f72f(0x218)]='',document[_0x48f72f(0x235)](_0x48f72f(0x189))[_0x48f72f(0x218)]=_0x48f72f(0x26a);}function renderRangesList(){const _0x314aff=a2_0x128d70,_0x516f96=document['getElementById']('rangesList');_0x516f96[_0x314aff(0x21f)]='';if(!specialRanges[_0x314aff(0x252)]){_0x516f96[_0x314aff(0x21f)]=_0x314aff(0x234);return;}specialRanges[_0x314aff(0x15d)]((_0x386492,_0x3c6361)=>{const _0x120cfc=_0x314aff,_0x18f98f=document[_0x120cfc(0x1ad)](_0x120cfc(0x1ee));_0x18f98f[_0x120cfc(0x1a4)]=_0x120cfc(0x22b);const _0x2806e4=_0x51a945=>{const _0x3ff839=_0x120cfc,_0x4dfbd2=new Date(_0x51a945);return _0x4dfbd2[_0x3ff839(0x150)]()+'.'+String(_0x4dfbd2[_0x3ff839(0x16a)]()+0x1)[_0x3ff839(0x21b)](0x2,'0')+'\x20'+String(_0x4dfbd2[_0x3ff839(0x272)]())['padStart'](0x2,'0')+':'+String(_0x4dfbd2[_0x3ff839(0x25c)]())['padStart'](0x2,'0');};_0x18f98f['innerHTML']=_0x120cfc(0x23b)+_0x2806e4(_0x386492['start'])+_0x120cfc(0x1c6)+_0x2806e4(_0x386492[_0x120cfc(0x25b)])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange('+_0x3c6361+_0x120cfc(0x2a0),_0x516f96[_0x120cfc(0x239)](_0x18f98f);});}function scrollToToday(){const _0x5e7681=a2_0x128d70,_0x34321c=getLocalDateStr(new Date()),_0x14edeb=document['getElementById'](_0x5e7681(0x174)+_0x34321c),_0x5b481f=document[_0x5e7681(0x235)](_0x5e7681(0x212));if(_0x14edeb&&_0x5b481f){const _0x445474=_0x5b481f[_0x5e7681(0x132)],_0x23e708=_0x14edeb[_0x5e7681(0x20a)],_0x2bed26=_0x14edeb[_0x5e7681(0x231)];_0x5b481f['scrollLeft']=_0x23e708-_0x445474/0x2+_0x2bed26/0x2,_0x5b481f[_0x5e7681(0x277)]=0x9*GRID_H;}}function onScroll(){const _0x107b79=a2_0x128d70,_0x26e1cf=document[_0x107b79(0x235)](_0x107b79(0x212)),_0x41981c=document[_0x107b79(0x217)](_0x107b79(0x20f));for(let _0x5b3eaf of _0x41981c)if(_0x5b3eaf[_0x107b79(0x20a)]>=_0x26e1cf['scrollLeft']){const _0x3ace42=new Date(_0x5b3eaf['getAttribute'](_0x107b79(0x1f8)));document[_0x107b79(0x235)](_0x107b79(0x159))[_0x107b79(0x191)]=_0x3ace42['toLocaleString']('ru',{'month':'long'})['toUpperCase']()+'\x20'+_0x3ace42['getFullYear']();break;}}function showToast(_0x1d84ce,_0x42bf70=![]){const _0xc73643=a2_0x128d70,_0x50a335=document[_0xc73643(0x235)](_0xc73643(0x1d1));_0x50a335[_0xc73643(0x1a4)]=_0xc73643(0x254)+(_0x42bf70?_0xc73643(0x1c3):''),document[_0xc73643(0x235)](_0xc73643(0x167))[_0xc73643(0x191)]=_0x42bf70?_0xc73643(0x27b):'–ò–Ω—Ñ–æ',document[_0xc73643(0x235)]('toastMessage')[_0xc73643(0x191)]=_0x1d84ce,_0x50a335[_0xc73643(0x24f)][_0xc73643(0x2ac)](_0xc73643(0x1ac)),setTimeout(()=>{const _0x21a5be=_0xc73643;_0x50a335[_0x21a5be(0x24f)][_0x21a5be(0x26e)]('show');},0xbb8);}function openDayOptions(_0x114f38,_0x4a3325){const _0x2e1fb0=a2_0x128d70;selectedDayForOptions=_0x114f38,document[_0x2e1fb0(0x235)](_0x2e1fb0(0x238))[_0x2e1fb0(0x191)]=_0x4a3325,openSheet(_0x2e1fb0(0x299));}function toggleDayOff(){const _0x35b208=a2_0x128d70;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x35b208(0x179),reRenderBlocks(),closeAllSheets(),DataManager[_0x35b208(0x23a)](),DataManager[_0x35b208(0x24c)](_0x35b208(0x242),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x16f52e=a2_0x128d70;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x16f52e(0x23a)](),DataManager['fetchFromServer'](_0x16f52e(0x242),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0xd2b0bf){const _0x46fb0d=a2_0x128d70;document[_0x46fb0d(0x235)](_0x46fb0d(0x186))[_0x46fb0d(0x24f)][_0x46fb0d(0x2ac)](_0x46fb0d(0x232)),document[_0x46fb0d(0x235)](_0xd2b0bf)[_0x46fb0d(0x24f)][_0x46fb0d(0x2ac)]('open');}function closeAllSheets(){const _0x5eb3ed=a2_0x128d70;document[_0x5eb3ed(0x235)]('overlay')[_0x5eb3ed(0x24f)][_0x5eb3ed(0x26e)](_0x5eb3ed(0x232)),document[_0x5eb3ed(0x217)](_0x5eb3ed(0x1b1))[_0x5eb3ed(0x15d)](_0x1f9a45=>_0x1f9a45['classList'][_0x5eb3ed(0x26e)]('open'));}function openPatternEditor(){const _0x3bad0b=a2_0x128d70;closeAllSheets(),document[_0x3bad0b(0x235)]('patternEditor')['classList'][_0x3bad0b(0x2ac)](_0x3bad0b(0x1eb)),renderPatternEditor();}function closePatternEditor(){const _0x52a2a9=a2_0x128d70;document[_0x52a2a9(0x235)](_0x52a2a9(0x230))[_0x52a2a9(0x24f)][_0x52a2a9(0x26e)]('open');}function savePattern(){const _0x2a5ba4=a2_0x128d70;document[_0x2a5ba4(0x235)]('patternEditor')[_0x2a5ba4(0x24f)]['remove'](_0x2a5ba4(0x1eb)),reRenderBlocks(),DataManager[_0x2a5ba4(0x23a)](),DataManager[_0x2a5ba4(0x24c)]('save_settings',{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x397555=a2_0x128d70,_0x30caf4=document[_0x397555(0x235)](_0x397555(0x29f));_0x30caf4[_0x397555(0x21f)]='';const _0x2e601a=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x4d2eed=document[_0x397555(0x1ad)]('div');_0x4d2eed[_0x397555(0x1a4)]='pe-corner',_0x30caf4['appendChild'](_0x4d2eed),_0x2e601a[_0x397555(0x15d)]((_0x3ccf2d,_0xd701bf)=>{const _0x5154d2=_0x397555,_0x4b30a8=document[_0x5154d2(0x1ad)](_0x5154d2(0x1ee));_0x4b30a8['className']=_0x5154d2(0x172),_0x4b30a8[_0x5154d2(0x21f)]=_0x3ccf2d+_0x5154d2(0x257),_0x4b30a8[_0x5154d2(0x182)]=()=>toggleColPattern(_0xd701bf),_0x30caf4[_0x5154d2(0x239)](_0x4b30a8);});for(let _0x561a7f=0x0;_0x561a7f<0x18;_0x561a7f++){const _0x1311e7=document[_0x397555(0x1ad)](_0x397555(0x1ee));_0x1311e7[_0x397555(0x1a4)]=_0x397555(0x1fc),_0x1311e7['innerHTML']=_0x397555(0x1b7)+String(_0x561a7f)[_0x397555(0x21b)](0x2,'0')+_0x397555(0x1ff),_0x1311e7['onclick']=()=>toggleRowPattern(_0x561a7f),_0x30caf4[_0x397555(0x239)](_0x1311e7);for(let _0x3115a7=0x0;_0x3115a7<0x7;_0x3115a7++){const _0x4ed7c8=document['createElement']('div'),_0x5205b5=(availabilityPattern[_0x3115a7]||[])[_0x397555(0x1db)](_0x561a7f),_0x1216ee=!_0x5205b5;_0x4ed7c8[_0x397555(0x1a4)]=_0x397555(0x20d)+(_0x1216ee?'active':''),_0x4ed7c8[_0x397555(0x182)]=()=>toggleSinglePattern(_0x3115a7,_0x561a7f),_0x30caf4[_0x397555(0x239)](_0x4ed7c8);}}}function toggleSinglePattern(_0x4cff2f,_0xd59dee){const _0x1d84c4=a2_0x128d70;if(!availabilityPattern[_0x4cff2f])availabilityPattern[_0x4cff2f]=[];const _0x46386b=availabilityPattern[_0x4cff2f],_0x4dfec0=_0x46386b[_0x1d84c4(0x283)](_0xd59dee);_0x4dfec0===-0x1?_0x46386b['push'](_0xd59dee):_0x46386b[_0x1d84c4(0x2a8)](_0x4dfec0,0x1),renderPatternEditor();}function toggleColPattern(_0x13eae4){const _0x1ad3a4=a2_0x128d70;if(!availabilityPattern[_0x13eae4])availabilityPattern[_0x13eae4]=[];const _0xe0e2fa=availabilityPattern[_0x13eae4];_0xe0e2fa['length']===0x0?availabilityPattern[_0x13eae4]=Array[_0x1ad3a4(0x23f)]({'length':0x18},(_0x2abeca,_0x59565f)=>_0x59565f):availabilityPattern[_0x13eae4]=[],renderPatternEditor();}function toggleRowPattern(_0x1d7b43){const _0xc1fc60=a2_0x128d70;let _0x5462c3=!![];for(let _0x5af11e=0x0;_0x5af11e<0x7;_0x5af11e++){if((availabilityPattern[_0x5af11e]||[])[_0xc1fc60(0x1db)](_0x1d7b43)){_0x5462c3=![];break;}}for(let _0x3f86f6=0x0;_0x3f86f6<0x7;_0x3f86f6++){if(!availabilityPattern[_0x3f86f6])availabilityPattern[_0x3f86f6]=[];const _0x9a393f=availabilityPattern[_0x3f86f6][_0xc1fc60(0x283)](_0x1d7b43);if(_0x5462c3){if(_0x9a393f===-0x1)availabilityPattern[_0x3f86f6][_0xc1fc60(0x194)](_0x1d7b43);}else{if(_0x9a393f!==-0x1)availabilityPattern[_0x3f86f6][_0xc1fc60(0x2a8)](_0x9a393f,0x1);}}renderPatternEditor();}function renderPCol(_0x1343f5,_0x664381){const _0x335ea7=a2_0x128d70;_0x1343f5[_0x335ea7(0x21f)]='';const _0x4f6b08=Math[_0x335ea7(0x1c7)](_0x1343f5[_0x335ea7(0x20a)]);(availabilityPattern[_0x664381]||[])[_0x335ea7(0x15d)](_0x54f829=>{const _0x47907c=_0x335ea7,_0xce5c3c=document[_0x47907c(0x1ad)](_0x47907c(0x1ee));_0xce5c3c[_0x47907c(0x1a4)]=_0x47907c(0x1a1);const _0x595297=_0x54f829*GRID_H;_0xce5c3c['style']['top']=_0x595297+'px',_0xce5c3c[_0x47907c(0x21c)]['backgroundPosition']='-'+_0x4f6b08+_0x47907c(0x13b)+_0x595297+'px',_0xce5c3c[_0x47907c(0x182)]=_0x2f8c8d=>{const _0x2217f3=_0x47907c;_0x2f8c8d[_0x2217f3(0x15b)](),toggleSinglePattern(_0x664381,_0x54f829);},_0x1343f5['appendChild'](_0xce5c3c);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x20157a=a2_0x128d70,_0x75610f=new Date(),_0x24f339=document['getElementById'](_0x20157a(0x245)),_0x4b1459=document[_0x20157a(0x235)](_0x20157a(0x1a2)),_0x3a2dcc=(_0x75610f[_0x20157a(0x272)]()*0x3c+_0x75610f[_0x20157a(0x25c)]())/0x3c*GRID_H;_0x24f339['style'][_0x20157a(0x282)]=_0x3a2dcc+'px',_0x24f339[_0x20157a(0x21c)][_0x20157a(0x17f)]=_0x20157a(0x2a6),_0x4b1459[_0x20157a(0x191)]=String(_0x75610f[_0x20157a(0x272)]())[_0x20157a(0x21b)](0x2,'0')+':'+String(_0x75610f[_0x20157a(0x25c)]())[_0x20157a(0x21b)](0x2,'0'),_0x4b1459[_0x20157a(0x21c)][_0x20157a(0x17f)]=_0x20157a(0x2a6),_0x4b1459[_0x20157a(0x21c)][_0x20157a(0x282)]=_0x3a2dcc+'px';}document['addEventListener'](a2_0x128d70(0x27d),init);function openDayOptions(_0x5bcc52){const _0x3b9d36=a2_0x128d70;selectedDayForOptions=_0x5bcc52;const _0x553561=new Date(_0x5bcc52),_0x43a349={'weekday':_0x3b9d36(0x23c),'day':_0x3b9d36(0x24d),'month':'long','year':'numeric'},_0x51a4a4=_0x553561['toLocaleDateString']('ru-RU',_0x43a349);document['getElementById'](_0x3b9d36(0x153))['textContent']=_0x51a4a4[_0x3b9d36(0x224)](0x0)['toUpperCase']()+_0x51a4a4[_0x3b9d36(0x16f)](0x1);let _0x365039=_0x553561[_0x3b9d36(0x18e)]()-0x1;if(_0x365039===-0x1)_0x365039=0x6;const _0x1e9723=availabilityPattern[_0x365039]||[],_0x8afcab=0x18-_0x1e9723['length'],_0x207823=_0x8afcab*0x3c,_0x847362=sessions[_0x3b9d36(0x265)](_0x1b19be=>_0x1b19be[_0x3b9d36(0x22d)]===_0x5bcc52&&_0x1b19be[_0x3b9d36(0x19f)]!=='cancelled');let _0x47bc39=_0x847362[_0x3b9d36(0x144)](_0x4b64aa=>{const _0x303458=_0x3b9d36,[_0x2e68a8,_0x4bc083]=_0x4b64aa[_0x303458(0x246)][_0x303458(0x26f)](':')[_0x303458(0x144)](Number),[_0x4f6104,_0x108c29]=_0x4b64aa['end'][_0x303458(0x26f)](':')[_0x303458(0x144)](Number);return[_0x2e68a8*0x3c+_0x4bc083,_0x4f6104*0x3c+_0x108c29];});_0x47bc39['sort']((_0x3f31b3,_0x176662)=>_0x3f31b3[0x0]-_0x176662[0x0]);let _0x413d87=[];if(_0x47bc39[_0x3b9d36(0x252)]>0x0){let _0x4fbe69=_0x47bc39[0x0];for(let _0x81f16=0x1;_0x81f16<_0x47bc39['length'];_0x81f16++){_0x47bc39[_0x81f16][0x0]<_0x4fbe69[0x1]?_0x4fbe69[0x1]=Math['max'](_0x4fbe69[0x1],_0x47bc39[_0x81f16][0x1]):(_0x413d87[_0x3b9d36(0x194)](_0x4fbe69),_0x4fbe69=_0x47bc39[_0x81f16]);}_0x413d87[_0x3b9d36(0x194)](_0x4fbe69);}let _0xb2a70b=0x0;_0x413d87[_0x3b9d36(0x15d)](_0x445fa9=>_0xb2a70b+=_0x445fa9[0x1]-_0x445fa9[0x0]),document[_0x3b9d36(0x235)](_0x3b9d36(0x29e))[_0x3b9d36(0x191)]=formatMinsToHrs(_0x207823),document[_0x3b9d36(0x235)](_0x3b9d36(0x15e))[_0x3b9d36(0x191)]=formatMinsToHrs(_0xb2a70b);const _0x9dfcc=_0x207823>0x0?Math[_0x3b9d36(0x1c7)](_0xb2a70b/_0x207823*0x64):0x0,_0x346caa=document[_0x3b9d36(0x235)]('doLoadPercent');_0x346caa[_0x3b9d36(0x191)]=_0x9dfcc+'%';const _0x1e430e=document['getElementById'](_0x3b9d36(0x152));if(_0x9dfcc>0x64)_0x346caa[_0x3b9d36(0x21c)][_0x3b9d36(0x181)]=_0x3b9d36(0x2a4),_0x1e430e[_0x3b9d36(0x21c)][_0x3b9d36(0x275)]=_0x3b9d36(0x220);else _0x9dfcc>0x50?(_0x346caa[_0x3b9d36(0x21c)][_0x3b9d36(0x181)]=_0x3b9d36(0x222),_0x1e430e[_0x3b9d36(0x21c)]['borderColor']=_0x3b9d36(0x15f)):(_0x346caa['style']['color']=_0x3b9d36(0x21a),_0x1e430e['style'][_0x3b9d36(0x275)]=_0x3b9d36(0x20e));const _0x45393a=document[_0x3b9d36(0x235)](_0x3b9d36(0x157));_0x45393a['innerHTML']='';_0x847362[_0x3b9d36(0x252)]===0x0?_0x45393a[_0x3b9d36(0x21f)]='<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>':(_0x847362['sort']((_0x3f717d,_0x5efecf)=>_0x3f717d['start']['localeCompare'](_0x5efecf[_0x3b9d36(0x246)])),_0x847362[_0x3b9d36(0x15d)](_0x45570e=>{const _0x3f0664=_0x3b9d36,_0x1409f1=clients[_0x3f0664(0x1b3)](_0x5dd968=>_0x5dd968[_0x3f0664(0x284)]===_0x45570e[_0x3f0664(0x247)]),_0x421ce3=_0x1409f1?_0x1409f1[_0x3f0664(0x181)]:_0x3f0664(0x1e2),_0x925f4f=_0x45570e[_0x3f0664(0x19f)]===_0x3f0664(0x1c2),_0x2ddf23=_0x925f4f?'<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>':'',_0x3e50aa=document[_0x3f0664(0x1ad)](_0x3f0664(0x1ee));_0x3e50aa[_0x3f0664(0x1a4)]='de-item',_0x3e50aa[_0x3f0664(0x21c)][_0x3f0664(0x28a)]=_0x421ce3,_0x3e50aa[_0x3f0664(0x21f)]=_0x3f0664(0x1b6)+_0x45570e[_0x3f0664(0x246)]+'\x20-\x20'+_0x45570e[_0x3f0664(0x25b)]+_0x3f0664(0x139)+_0x45570e[_0x3f0664(0x247)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2ddf23+_0x3f0664(0x256),_0x45393a[_0x3f0664(0x239)](_0x3e50aa);}));const _0x293902=document[_0x3b9d36(0x235)](_0x3b9d36(0x20c)),_0x951a9e=dateExceptions[_0x5bcc52]===_0x3b9d36(0x179);_0x951a9e?(_0x293902['textContent']='–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º',_0x293902['className']=_0x3b9d36(0x161),_0x293902[_0x3b9d36(0x21c)][_0x3b9d36(0x181)]=_0x3b9d36(0x21a),_0x293902[_0x3b9d36(0x21c)][_0x3b9d36(0x22a)]=_0x3b9d36(0x29a)):(_0x293902[_0x3b9d36(0x191)]='–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º',_0x293902['className']='btn-primary\x20btn-danger',_0x293902[_0x3b9d36(0x21c)][_0x3b9d36(0x181)]=_0x3b9d36(0x2a4),_0x293902['style'][_0x3b9d36(0x22a)]=_0x3b9d36(0x1ea)),openSheet(_0x3b9d36(0x299));}let currentAnPeriod=a2_0x128d70(0x289);function openAnalytics(){const _0x60e4cb=a2_0x128d70,_0x118654=document['querySelector'](_0x60e4cb(0x248));setAnalyticsPeriod(_0x60e4cb(0x289),_0x118654),closeAllSheets(),openSheet(_0x60e4cb(0x29d));}function setAnalyticsPeriod(_0x52f9f7,_0x4af24f){const _0x20ad2c=a2_0x128d70;currentAnPeriod=_0x52f9f7,document[_0x20ad2c(0x217)]('.period-switch\x20.p-btn')['forEach'](_0x39bdf1=>_0x39bdf1[_0x20ad2c(0x24f)][_0x20ad2c(0x26e)](_0x20ad2c(0x232)));if(_0x4af24f)_0x4af24f[_0x20ad2c(0x24f)][_0x20ad2c(0x2ac)]('active');const _0x3d3772=document[_0x20ad2c(0x235)](_0x20ad2c(0x1b2));_0x3d3772[_0x20ad2c(0x21c)]['display']=_0x52f9f7==='custom'?_0x20ad2c(0x18c):'none';const _0x515c2e=new Date();let _0x10c3df=new Date(),_0x40c83b=new Date();if(_0x52f9f7===_0x20ad2c(0x289))_0x10c3df=getStartOfWeek(_0x515c2e),_0x40c83b=new Date(_0x10c3df),_0x40c83b[_0x20ad2c(0x1e4)](_0x40c83b[_0x20ad2c(0x150)]()+0x6);else{if(_0x52f9f7===_0x20ad2c(0x170))_0x10c3df=new Date(_0x515c2e[_0x20ad2c(0x285)](),_0x515c2e[_0x20ad2c(0x16a)](),0x1),_0x40c83b=new Date(_0x515c2e['getFullYear'](),_0x515c2e[_0x20ad2c(0x16a)]()+0x1,0x0);else{!document['getElementById'](_0x20ad2c(0x1a6))[_0x20ad2c(0x218)]&&(document[_0x20ad2c(0x235)](_0x20ad2c(0x1a6))[_0x20ad2c(0x218)]=getLocalDateStr(_0x515c2e),document['getElementById']('anEnd')[_0x20ad2c(0x218)]=getLocalDateStr(_0x515c2e));refreshAnalytics();return;}}document[_0x20ad2c(0x235)](_0x20ad2c(0x1a6))['value']=getLocalDateStr(_0x10c3df),document['getElementById'](_0x20ad2c(0x155))['value']=getLocalDateStr(_0x40c83b),refreshAnalytics();}function refreshAnalytics(){const _0x1f6eec=a2_0x128d70,_0x57599f=document[_0x1f6eec(0x235)](_0x1f6eec(0x1a6))[_0x1f6eec(0x218)],_0x5dee5e=document['getElementById']('anEnd')['value'];if(!_0x57599f||!_0x5dee5e)return;const _0x4a4cc3=sessions[_0x1f6eec(0x265)](_0x569cf1=>_0x569cf1[_0x1f6eec(0x22d)]>=_0x57599f&&_0x569cf1[_0x1f6eec(0x22d)]<=_0x5dee5e&&_0x569cf1[_0x1f6eec(0x19f)]!==_0x1f6eec(0x250)),_0x3139e7=_0x4a4cc3[_0x1f6eec(0x252)],_0x506e86=_0x4a4cc3[_0x1f6eec(0x265)](_0xfa1ea5=>_0xfa1ea5[_0x1f6eec(0x19f)]===_0x1f6eec(0x1c2))[_0x1f6eec(0x252)],_0x56c44d=_0x3139e7>0x0?Math[_0x1f6eec(0x1c7)](_0x506e86/_0x3139e7*0x64):0x0;document[_0x1f6eec(0x235)](_0x1f6eec(0x1e6))['textContent']=_0x56c44d+'%',document[_0x1f6eec(0x235)](_0x1f6eec(0x200))[_0x1f6eec(0x191)]=_0x506e86+_0x1f6eec(0x135)+_0x3139e7+'\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ';const _0x1b13d9=document[_0x1f6eec(0x235)](_0x1f6eec(0x1ec)),_0x28672f=0x2*Math['PI']*0x23,_0x4ea6b5=_0x28672f-_0x56c44d/0x64*_0x28672f;_0x1b13d9[_0x1f6eec(0x21c)][_0x1f6eec(0x16c)]=_0x4ea6b5;const _0x4cdad3={};_0x4a4cc3[_0x1f6eec(0x15d)](_0x484f36=>{const _0x6fd9c6=_0x1f6eec;if(!_0x4cdad3[_0x484f36[_0x6fd9c6(0x247)]]){const _0xf72643=clients['find'](_0x4164c7=>_0x4164c7[_0x6fd9c6(0x284)]===_0x484f36[_0x6fd9c6(0x247)]);_0x4cdad3[_0x484f36['client']]={'total':0x0,'done':0x0,'color':_0xf72643?_0xf72643[_0x6fd9c6(0x181)]:_0x6fd9c6(0x1e2)};}_0x4cdad3[_0x484f36[_0x6fd9c6(0x247)]]['total']++;if(_0x484f36[_0x6fd9c6(0x19f)]===_0x6fd9c6(0x1c2))_0x4cdad3[_0x484f36[_0x6fd9c6(0x247)]][_0x6fd9c6(0x154)]++;});const _0x55c069=document['getElementById'](_0x1f6eec(0x1c5));_0x55c069[_0x1f6eec(0x21f)]='';const _0x2ee44e=Object['entries'](_0x4cdad3)[_0x1f6eec(0x295)]((_0x54333f,_0x3118b3)=>_0x3118b3[0x1][_0x1f6eec(0x273)]-_0x54333f[0x1][_0x1f6eec(0x273)]);if(_0x2ee44e[_0x1f6eec(0x252)]===0x0){_0x55c069[_0x1f6eec(0x21f)]=_0x1f6eec(0x1a0);return;}_0x2ee44e['forEach'](([_0x1c42d9,_0x130b1f])=>{const _0x433fca=_0x1f6eec,_0x168583=Math[_0x433fca(0x1c7)](_0x130b1f[_0x433fca(0x154)]/_0x130b1f[_0x433fca(0x273)]*0x64),_0x55baf7=document[_0x433fca(0x1ad)]('div');_0x55baf7[_0x433fca(0x1a4)]=_0x433fca(0x24e),_0x55baf7[_0x433fca(0x21c)][_0x433fca(0x28a)]=_0x130b1f[_0x433fca(0x181)],_0x55baf7[_0x433fca(0x21f)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>'+_0x1c42d9+_0x433fca(0x240)+_0x130b1f['done']+'</span>\x20/\x20'+_0x130b1f['total']+_0x433fca(0x2a5)+_0x168583+_0x433fca(0x151),_0x55c069[_0x433fca(0x239)](_0x55baf7);});}function formatMinsToHrs(_0x40c606){const _0x47b9f6=a2_0x128d70;if(_0x40c606===0x0)return'0';const _0x40061a=Math[_0x47b9f6(0x27e)](_0x40c606/0x3c),_0x20bd42=_0x40c606%0x3c;if(_0x20bd42===0x0)return _0x40061a+'—á';return _0x40061a+'—á\x20'+_0x20bd42+'–º';}