const a2_0x5cc455=a2_0x4949;(function(_0x3312c6,_0x4e82c5){const _0x3d5bbe=a2_0x4949,_0x3d5434=_0x3312c6();while(!![]){try{const _0x278a78=-parseInt(_0x3d5bbe(0x18e))/0x1+-parseInt(_0x3d5bbe(0x22e))/0x2*(parseInt(_0x3d5bbe(0x1d5))/0x3)+-parseInt(_0x3d5bbe(0x1c3))/0x4*(parseInt(_0x3d5bbe(0x22b))/0x5)+-parseInt(_0x3d5bbe(0x24f))/0x6*(-parseInt(_0x3d5bbe(0x271))/0x7)+parseInt(_0x3d5bbe(0x165))/0x8*(parseInt(_0x3d5bbe(0x292))/0x9)+parseInt(_0x3d5bbe(0x241))/0xa+parseInt(_0x3d5bbe(0x27a))/0xb;if(_0x278a78===_0x4e82c5)break;else _0x3d5434['push'](_0x3d5434['shift']());}catch(_0xa1684e){_0x3d5434['push'](_0x3d5434['shift']());}}}(a2_0x62d9,0xb0d3d),function initTMA(){const _0x201019=a2_0x4949;try{const _0x33e775=window[_0x201019(0x15e)]?.[_0x201019(0x26e)];if(!_0x33e775)return;_0x33e775['ready'](),_0x33e775[_0x201019(0x178)]();try{_0x33e775[_0x201019(0x17a)](_0x201019(0x183)),_0x33e775['setBackgroundColor']&&_0x33e775[_0x201019(0x273)](_0x201019(0x183));}catch(_0x360a0f){console[_0x201019(0x133)](_0x201019(0x162),_0x360a0f);}try{_0x33e775[_0x201019(0x131)]&&(_0x33e775[_0x201019(0x131)][_0x201019(0x248)](),_0x33e775[_0x201019(0x131)]['offClick'](),_0x33e775[_0x201019(0x131)]['onClick'](function(){const _0x533a99=_0x201019;window[_0x533a99(0x1de)][_0x533a99(0x13b)]='router.html';}));}catch(_0x33095f){console[_0x201019(0x133)](_0x201019(0x27c),_0x33095f);}try{if(_0x33e775[_0x201019(0x1ae)])_0x33e775[_0x201019(0x1ae)]();}catch(_0x95b5ca){}}catch(_0x16dca2){console['error']('Critical\x20TMA\x20Error:',_0x16dca2);}}());function isAdmin(){const _0x366c32=a2_0x4949;try{const _0x44eee2=Number(window[_0x366c32(0x15e)]?.[_0x366c32(0x26e)]?.['initDataUnsafe']?.['user']?.['id']);return _0x44eee2===0xbaf7174;}catch(_0x328aee){return![];}}const APP_VERSION='v9.0-BATCH-CALENDAR',API_URL=a2_0x5cc455(0x252),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS='uc_clients_v9',KEY_SESSIONS=a2_0x5cc455(0x168),KEY_SETTINGS='uc_settings_v9';let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x20f475=a2_0x5cc455;return window[_0x20f475(0x15e)]?.[_0x20f475(0x26e)]?.[_0x20f475(0x233)]?.['user']?.['id']||_0x20f475(0x16b);},'saveLocally'(){const _0x428682=a2_0x5cc455;try{localStorage[_0x428682(0x23a)](KEY_CLIENTS,JSON[_0x428682(0x17e)](clients)),localStorage[_0x428682(0x23a)](KEY_SESSIONS,JSON['stringify'](sessions)),localStorage[_0x428682(0x23a)](KEY_SETTINGS,JSON[_0x428682(0x17e)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0xef5455){console[_0x428682(0x1a9)](_0x428682(0x142),_0xef5455);}},'loadLocal'(){const _0x5a46a0=a2_0x5cc455;try{const _0x30a65e=localStorage[_0x5a46a0(0x129)](KEY_CLIENTS);if(_0x30a65e)clients=JSON[_0x5a46a0(0x186)](_0x30a65e);const _0x3ccd6a=localStorage[_0x5a46a0(0x129)](KEY_SESSIONS);if(_0x3ccd6a)sessions=JSON['parse'](_0x3ccd6a);const _0x10eb95=localStorage[_0x5a46a0(0x129)](KEY_SETTINGS);if(_0x10eb95){const _0x42f472=JSON[_0x5a46a0(0x186)](_0x10eb95);if(_0x42f472[_0x5a46a0(0x120)])availabilityPattern=_0x42f472[_0x5a46a0(0x120)];if(_0x42f472[_0x5a46a0(0x27b)])dateExceptions=_0x42f472[_0x5a46a0(0x27b)];if(_0x42f472[_0x5a46a0(0x18b)])specialRanges=_0x42f472[_0x5a46a0(0x18b)];}else{for(let _0x43fa06=0x0;_0x43fa06<0x7;_0x43fa06++)availabilityPattern[_0x43fa06]=Array[_0x5a46a0(0x122)]({'length':0xc},(_0x314e30,_0x558e85)=>_0x558e85+0x9);}}catch(_0x502064){console[_0x5a46a0(0x1a9)](_0x5a46a0(0x173),_0x502064);}},async 'fetchFromServer'(_0x1c15da,_0x24c93b={}){const _0x426722=a2_0x5cc455,_0x4867b9=window[_0x426722(0x15e)]?.[_0x426722(0x26e)],_0x58b494={'action':_0x1c15da,'init_data':_0x4867b9?.[_0x426722(0x152)]||'',..._0x24c93b};try{const _0x221827=await fetch(API_URL,{'method':'POST','headers':{'Content-Type':'text/plain;charset=UTF-8'},'body':JSON[_0x426722(0x17e)](_0x58b494)}),_0x1bb7e7=await _0x221827[_0x426722(0x1ce)]();if(!_0x1bb7e7['ok'])throw new Error(_0x1bb7e7[_0x426722(0x1a9)]||_0x426722(0x167));return _0x1bb7e7[_0x426722(0x210)];}catch(_0x4becb2){console[_0x426722(0x1a9)]('[API\x20'+_0x1c15da+_0x426722(0x289),_0x4becb2);throw _0x4becb2;}},async 'syncLoad'(){const _0x5134c0=a2_0x5cc455,_0x2306e9=new Date(),_0x3488d5=_0x2306e9[_0x5134c0(0x19f)]()+'-'+String(_0x2306e9[_0x5134c0(0x134)]()+0x1)[_0x5134c0(0x1c2)](0x2,'0'),_0x202fa5=new Date(_0x2306e9);_0x202fa5['setMonth'](_0x2306e9[_0x5134c0(0x134)]()+0x1);const _0x287bd7=_0x202fa5['getFullYear']()+'-'+String(_0x202fa5[_0x5134c0(0x134)]()+0x1)[_0x5134c0(0x1c2)](0x2,'0'),_0x1ee3d5=Date['now']();console['log'](_0x5134c0(0x260)+_0x3488d5+',\x20'+_0x287bd7+_0x5134c0(0x135));try{const [_0x3ee8db,_0x247d9f]=await Promise['all']([this[_0x5134c0(0x1ff)]('init_load',{'month_str':_0x3488d5}),this[_0x5134c0(0x1ff)](_0x5134c0(0x23f),{'month_str':_0x287bd7})]);if(lastUserActionTime>_0x1ee3d5)return console[_0x5134c0(0x1bc)]('[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response'),![];return this[_0x5134c0(0x166)](_0x3ee8db,_0x3488d5),this['mergeServerData'](_0x247d9f,_0x287bd7),this[_0x5134c0(0x1ea)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x52132c){console[_0x5134c0(0x1a9)](_0x52132c);throw _0x52132c;}},'mergeServerData'(_0x556418,_0x20f3f2){const _0x2b56be=a2_0x5cc455;if(!_0x556418)return;_0x556418[_0x2b56be(0x17c)]&&Array[_0x2b56be(0x1f0)](_0x556418[_0x2b56be(0x17c)])&&(clients=_0x556418[_0x2b56be(0x17c)]);if(_0x556418[_0x2b56be(0x28d)]){if(_0x556418[_0x2b56be(0x28d)]['pattern'])availabilityPattern=_0x556418[_0x2b56be(0x28d)][_0x2b56be(0x120)];if(_0x556418[_0x2b56be(0x28d)][_0x2b56be(0x27b)])dateExceptions=_0x556418['settings']['exceptions'];if(_0x556418['settings'][_0x2b56be(0x18b)])specialRanges=_0x556418[_0x2b56be(0x28d)][_0x2b56be(0x18b)];if(_0x556418['settings'][_0x2b56be(0x170)]){localStorage[_0x2b56be(0x23a)](_0x2b56be(0x1f2),_0x556418['settings']['cancel_window']);const _0x6af903=document[_0x2b56be(0x250)](_0x2b56be(0x230));if(_0x6af903)_0x6af903['value']=_0x556418[_0x2b56be(0x28d)][_0x2b56be(0x170)];}}_0x556418[_0x2b56be(0x267)]&&(sessions=sessions[_0x2b56be(0x14f)](_0x50c9e0=>!_0x50c9e0['dateStr'][_0x2b56be(0x1e5)](_0x20f3f2)),Object[_0x2b56be(0x1b1)](_0x556418[_0x2b56be(0x267)])['forEach'](_0x4af980=>{const _0x33a5e4=_0x556418['calendar'][_0x4af980];_0x33a5e4['forEach'](_0x8ef126=>{const _0x46d288=a2_0x4949,_0x54a2f7=clients['find'](_0x3ce342=>String(_0x3ce342['id'])===String(_0x8ef126['c']));sessions[_0x46d288(0x244)]({'id':_0x8ef126['i'],'clientId':_0x8ef126['c'],'client':_0x54a2f7?_0x54a2f7[_0x46d288(0x203)]:_0x46d288(0x132),'dateStr':_0x20f3f2+'-'+_0x4af980[_0x46d288(0x1c2)](0x2,'0'),'start':_0x8ef126['s'],'end':_0x8ef126['e'],'status':_0x8ef126['st']||_0x46d288(0x1a6),'note':_0x8ef126['n']||'','seriesId':_0x8ef126[_0x46d288(0x1b3)]||null});});}));},async 'syncBatch'(_0xf5a61f){const _0x5d480d=a2_0x5cc455,_0x1da5b4=[...new Set(_0xf5a61f)],_0x3f83aa=_0x1da5b4[_0x5d480d(0x153)](_0x20bb82=>{const _0x1ab8d3=_0x5d480d,_0x450508=sessions[_0x1ab8d3(0x14f)](_0x31cfc9=>_0x31cfc9[_0x1ab8d3(0x169)]===_0x20bb82&&_0x31cfc9[_0x1ab8d3(0x201)]!==_0x1ab8d3(0x254)),_0x27927b=_0x450508[_0x1ab8d3(0x153)](_0x43277e=>({'i':_0x43277e['id'],'c':_0x43277e[_0x1ab8d3(0x22a)],'s':_0x43277e['start'],'e':_0x43277e[_0x1ab8d3(0x155)],'st':_0x43277e[_0x1ab8d3(0x201)],'n':_0x43277e[_0x1ab8d3(0x156)],'sid':_0x43277e[_0x1ab8d3(0x1f7)]}));return{'date':_0x20bb82,'day_data':_0x27927b};});if(_0x3f83aa[_0x5d480d(0x1cc)]===0x0)return;console[_0x5d480d(0x133)]('[Sync]\x20Pushing\x20batch\x20updates\x20for\x20'+_0x3f83aa[_0x5d480d(0x1cc)]+'\x20days'),await this[_0x5d480d(0x1ff)]('batch_sync',{'changes':_0x3f83aa});}};async function init(){const _0x46cbd9=a2_0x5cc455;DataManager[_0x46cbd9(0x257)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById']('matrixViewport')['addEventListener'](_0x46cbd9(0x18d),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']()[_0x46cbd9(0x21c)](()=>{const _0x203c39=_0x46cbd9;showToast(_0x203c39(0x121),!![]);})['catch'](_0x14b237=>{showToast('–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º',![]);});}function generateId(){const _0x4b8e73=a2_0x5cc455;return Date[_0x4b8e73(0x214)]()[_0x4b8e73(0x118)](0x24)+Math[_0x4b8e73(0x1ad)]()[_0x4b8e73(0x118)](0x24)[_0x4b8e73(0x261)](0x2,0x5);}function toggleSeriesInput(){const _0x3c0aa8=a2_0x5cc455,_0x5b5426=document[_0x3c0aa8(0x250)](_0x3c0aa8(0x222))['checked'],_0x5bb995=document[_0x3c0aa8(0x250)]('seriesCountContainer');_0x5bb995[_0x3c0aa8(0x185)][_0x3c0aa8(0x1ab)]=_0x5b5426?_0x3c0aa8(0x268):'none';const _0x3d82ef=document[_0x3c0aa8(0x250)]('recurringOptionContainer');_0x3d82ef[_0x3c0aa8(0x185)][_0x3c0aa8(0x26d)]=_0x5b5426?_0x3c0aa8(0x1fb):_0x3c0aa8(0x145);}function a2_0x62d9(){const _0x157fc1=['width','floor','off','send','BackButton','Unknown','log','getMonth','...','cancel','actionSheet','cancelled','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','dayOptionsSheet','href','\x20status-completed','textContent','delete','btnStatusToggle','time-label','start','Local\x20Save\x20Error','getBoundingClientRect','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','10px','toast','anTotalStats','data-day-idx','gridColumns','toFixed','timeLineBadge','borderColor','formatDate','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','filter','pe-time-label','btn-primary\x20btn-danger','initData','map','value','end','note','rangesList','getDate','%\x20+\x202px)','patternInfoBox','getTime','color','(((.+)+)+)+$','Telegram','none','as-button\x20danger','day-off-overlay\x20stripe-bg','Error\x20setting\x20color:','numeric','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','1704gYPaIv','mergeServerData','Server\x20Error','uc_sessions_v9','dateStr','min','guest','00:00','search','settingsSheet','anCustomDates','cancel_window','[Notify]\x20Error:\x20Text\x20generation\x20failed','flex','Local\x20Load\x20Error','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','inpDate','rangeStartTime','<div\x20class=\x22dch-day\x22>','expand','\x20-\x20','setHeaderColor','max','clients','var(--acc-red)','stringify','scrollWidth','offsetWidth','valid','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','#050505','toUpperCase','style','parse','findIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','active','.day-col-header','ranges','complete','scroll','351315rGWZUe','–ò–Ω—Ñ–æ','recurringOptionContainer','#fff','#gridColumns\x20.day-column','target','offsetLeft','getText','split','btn-primary\x20btn-secondary','23:59','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','sheetTitle','long','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','</div>','getFullYear','inpClient','DOMContentLoaded','\x20‚Äî\x20','charAt','touchmove','rgba(100,100,100,0.5)','planned',':00','undefined','error','px\x20-','display','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','random','disableVerticalSwipes','calc(','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','keys','series','sid','getAttribute','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','add','rangeStartDate','btnDelete','client','inpEnd','round','warn','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','save_settings','getHours','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','padStart','4668684JVBNTX','globalTimeLine','actionSheetOverlay','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','createElement','stopPropagation','entries','anDonutCircle','anEnd','length','indexOf','json','toLocaleDateString','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','overlay','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','getMinutes','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','36471cBjill','</span>\x20/\x20','height',':\x20Client\x20already\x20booked','today','rgba(255,\x2069,\x2058,\x200.15)','[Notify]\x20Detected\x20Client\x20ID:','–£–¥–∞–ª–µ–Ω–∏–µ','range-item','location','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','rangeEndDate','seriesCountContainer','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','startsWith','px\x200px','timeColumn','var(--acc-orange)','btn-status-toggle\x20undo-mode','saveLocally','touchend','apply','month','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','isArray','scrollLeft','uc_settings_cancel_window','borderLeftColor','forEach',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','remove','seriesId','className','null','toastMessage','10px\x2010px\x200\x200','analyticsList','mouseup','custom','fetchFromServer','option','status','</div><div\x20class=\x22dch-num\x22>','name','closest','data-date','backgroundPosition','send_notification','patternEditor','getDay','zIndex','sessionSheet','<b>‚úÖ\x20','asBtnSeries','setHours','update','data','find','peGrid','asTitle','now','mousemove','blocked-range-part\x20stripe-bg','clientWidth','total','rgba(255,255,255,0.05)','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','%\x20-\x204px)','then','inpStart','btn-status-toggle','Batch\x20Sync\x20OK','create','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','inpRecurring','top','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','header-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','setDate','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','clientId','5GCFsdF','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','innerHTML','34nRCWTF','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','settingCancelWindow','firstChild','touches','initDataUnsafe','scrollTop','colIndex','de-item','completed','left','pe-col-header','setItem','single','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','–£—Å–ø–µ—à–Ω–æ','mini','init_load','checked','11726740QgCkYo','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','as-button\x20danger\x20bold','push','dayOptionsTitle','anStart','div','show','stat-','localeCompare','doWorkHours','day-column\x20','querySelector','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','48378PDYMey','getElementById','Save\x20settings\x20error:','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','setAttribute','deleted','rgba(','querySelectorAll','loadLocal',':00</span>','headerMonth','[Notify]\x20Network\x20Failed','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','classList','syncBatch','.day-off-overlay','[Sync]\x20Loading\x20','substr','inpNote','.dch-stats-fill','inpSeriesCount','strokeDashoffset','addEventListener','calendar','block','createDocumentFragment','T23:59:59','slice','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','borderRadius','WebApp','day-col-header\x20','catch','14VuWjdp','100%','setBackgroundColor','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','sort','clientY',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','doBusyHours','warning','6158570ZxvoGH','exceptions','Error\x20setting\x20back\x20button:','toast-notification\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','sheetDateSubtitle','save','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','background','rgba(48,\x20209,\x2088,\x200.15)','touchstart','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','[Notify]\x20Client\x20SWAP\x20detected','var(--acc-green)','onclick',']\x20Failed:','insertBefore','client-stat-card','event-card','settings','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22ev-title\x22>','matrixViewport','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','29610zamafZ','splice','.period-switch\x20.p-btn','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','toString','</b>\x0a\x0a','blocked-slot\x20stripe-bg','week','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','appendChild','pattern','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','from','open','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','statLoadCard','ru-RU','done','getItem','daysHeaderTrack','pe-cell\x20','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ'];a2_0x62d9=function(){return _0x157fc1;};return a2_0x62d9();}function openAddSession(_0x14015f){const _0x5e5223=a2_0x5cc455;editingId=null,populateClientSelect(),document[_0x5e5223(0x250)](_0x5e5223(0x19a))[_0x5e5223(0x13d)]='–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å',document[_0x5e5223(0x250)]('btnDelete')['style'][_0x5e5223(0x1ab)]=_0x5e5223(0x15f),document[_0x5e5223(0x250)](_0x5e5223(0x13f))[_0x5e5223(0x185)][_0x5e5223(0x1ab)]=_0x5e5223(0x15f);const _0x48da27=document[_0x5e5223(0x250)]('recurringOptionContainer'),_0x54c928=document[_0x5e5223(0x250)](_0x5e5223(0x1e1));_0x48da27[_0x5e5223(0x185)][_0x5e5223(0x1ab)]='flex',_0x48da27[_0x5e5223(0x185)][_0x5e5223(0x26d)]='10px',document[_0x5e5223(0x250)]('inpRecurring')[_0x5e5223(0x240)]=![],document[_0x5e5223(0x250)](_0x5e5223(0x264))[_0x5e5223(0x154)]=0x4,_0x54c928[_0x5e5223(0x185)][_0x5e5223(0x1ab)]='none',document[_0x5e5223(0x250)](_0x5e5223(0x175))['value']=getLocalDateStr(_0x14015f),updateDateDisplay();const _0x3a4b7e=_0x14015f['getHours']();document[_0x5e5223(0x250)](_0x5e5223(0x21d))[_0x5e5223(0x154)]=String(_0x3a4b7e)[_0x5e5223(0x1c2)](0x2,'0')+_0x5e5223(0x1a7),document[_0x5e5223(0x250)](_0x5e5223(0x1ba))[_0x5e5223(0x154)]=String(_0x3a4b7e+0x1)['padStart'](0x2,'0')+':00',openSheet(_0x5e5223(0x20b));}function openEdit(_0x31f204){const _0x473c7f=a2_0x5cc455;editingId=_0x31f204['id'],populateClientSelect(),document[_0x473c7f(0x250)](_0x473c7f(0x19a))[_0x473c7f(0x13d)]=_0x473c7f(0x1ac),document[_0x473c7f(0x250)](_0x473c7f(0x1b8))['style'][_0x473c7f(0x1ab)]=_0x473c7f(0x268);const _0xcc3816=document[_0x473c7f(0x250)]('btnStatusToggle');_0xcc3816['style']['display']=_0x473c7f(0x172);_0x31f204['status']===_0x473c7f(0x237)?(_0xcc3816['className']=_0x473c7f(0x1e9),_0xcc3816[_0x473c7f(0x22d)]=_0x473c7f(0x11c)):(_0xcc3816[_0x473c7f(0x1f8)]=_0x473c7f(0x21e),_0xcc3816[_0x473c7f(0x22d)]=_0x473c7f(0x221));const _0x2d6ee3=!!_0x31f204[_0x473c7f(0x1f7)];document[_0x473c7f(0x250)](_0x473c7f(0x190))[_0x473c7f(0x185)]['display']=_0x473c7f(0x15f),document[_0x473c7f(0x250)](_0x473c7f(0x1e1))[_0x473c7f(0x185)][_0x473c7f(0x1ab)]=_0x473c7f(0x15f),_0x2d6ee3?(document['getElementById']('patternInfoBox')[_0x473c7f(0x185)][_0x473c7f(0x1ab)]='flex',document[_0x473c7f(0x250)](_0x473c7f(0x15a))[_0x473c7f(0x24d)]('.pib-text')[_0x473c7f(0x13d)]='–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫'):document['getElementById'](_0x473c7f(0x15a))[_0x473c7f(0x185)]['display']=_0x473c7f(0x15f),document[_0x473c7f(0x250)](_0x473c7f(0x1a0))[_0x473c7f(0x154)]=_0x31f204[_0x473c7f(0x1b9)],document[_0x473c7f(0x250)](_0x473c7f(0x175))[_0x473c7f(0x154)]=_0x31f204[_0x473c7f(0x169)],document[_0x473c7f(0x250)](_0x473c7f(0x21d))['value']=_0x31f204[_0x473c7f(0x141)],document['getElementById'](_0x473c7f(0x1ba))['value']=_0x31f204['end'],document[_0x473c7f(0x250)](_0x473c7f(0x262))[_0x473c7f(0x154)]=_0x31f204['note']||'',updateDateDisplay(),openSheet('sessionSheet');}async function trySaveSession(){const _0x55d9ac=a2_0x5cc455,_0x161eae=document[_0x55d9ac(0x250)](_0x55d9ac(0x1a0))[_0x55d9ac(0x154)],_0x1d74f5=document[_0x55d9ac(0x250)]('inpDate')['value'],_0x675a9f=document['getElementById'](_0x55d9ac(0x21d))['value'],_0x158bfc=document['getElementById'](_0x55d9ac(0x1ba))['value'],_0x4bc461=document['getElementById'](_0x55d9ac(0x262))['value'],_0xa64e71=document['getElementById'](_0x55d9ac(0x222))[_0x55d9ac(0x240)];let _0x5684a2=0x4;if(_0xa64e71){const _0x2ec7d4=parseInt(document['getElementById'](_0x55d9ac(0x264))['value']);if(!_0x2ec7d4||_0x2ec7d4<0x2){showToast(_0x55d9ac(0x1e2),![]);return;}if(_0x2ec7d4>0x64){showToast(_0x55d9ac(0x1d2),![]);return;}_0x5684a2=_0x2ec7d4;}const _0x559408=clients[_0x55d9ac(0x211)](_0x2fae8a=>_0x2fae8a[_0x55d9ac(0x203)]===_0x161eae);if(!_0x559408){showToast(_0x55d9ac(0x26c),![]);return;}const _0x22a4f5=validateAppointment(_0x1d74f5,_0x675a9f,_0x158bfc,editingId,_0x559408['id']);if(!_0x22a4f5[_0x55d9ac(0x181)]){showToast(_0x22a4f5['msg'],![]);return;}_0x22a4f5[_0x55d9ac(0x279)]&&showToast(_0x22a4f5['warning'],![]);const _0x429595={'client':_0x161eae,'clientId':_0x559408['id'],'start':_0x675a9f,'end':_0x158bfc,'note':_0x4bc461,'status':_0x55d9ac(0x1a6)},_0x1318c7=editingId?sessions['find'](_0x1494d6=>_0x1494d6['id']===editingId):null;if(_0x1318c7&&_0x1318c7[_0x55d9ac(0x1f7)]){tempSessionData={..._0x429595,'dateStr':_0x1d74f5,'id':editingId,'seriesId':_0x1318c7[_0x55d9ac(0x1f7)]},openActionSheet(_0x55d9ac(0x280));return;}let _0x13576e=null;if(!editingId)_0x13576e='create';else{if(_0x1318c7){if(String(_0x1318c7[_0x55d9ac(0x22a)])!==String(_0x559408['id']))console['log'](_0x55d9ac(0x286)),NotificationManager['send'](_0x55d9ac(0x136),_0x1318c7),_0x13576e=_0x55d9ac(0x220);else(_0x1318c7[_0x55d9ac(0x141)]!==_0x675a9f||_0x1318c7['end']!==_0x158bfc||_0x1318c7[_0x55d9ac(0x169)]!==_0x1d74f5)&&(_0x13576e='update');}}if(!editingId&&_0xa64e71){createBatchSeries(_0x429595,_0x1d74f5,_0x5684a2),NotificationManager[_0x55d9ac(0x130)]('create',{..._0x429595,'dateStr':_0x1d74f5});return;}lastUserActionTime=Date[_0x55d9ac(0x214)]();const _0x4d6f34={..._0x429595,'dateStr':_0x1d74f5,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x4d6f34),_0x13576e&&NotificationManager['send'](_0x13576e,_0x4d6f34);}function toggleSessionStatus(){const _0x3b155b=a2_0x5cc455;lastUserActionTime=Date['now']();const _0x363076=sessions[_0x3b155b(0x211)](_0x469674=>_0x469674['id']===editingId);if(!_0x363076)return;const _0x25cac2=_0x363076['status']==='completed'?'planned':_0x3b155b(0x237);_0x363076['status']=_0x25cac2,saveSingleSession(_0x363076),_0x25cac2==='completed'&&NotificationManager['send'](_0x3b155b(0x18c),_0x363076),showToast(_0x25cac2===_0x3b155b(0x237)?_0x3b155b(0x1bd):_0x3b155b(0x124),!![]);}function validateAppointment(_0x5a6d5f,_0x1544c9,_0x32e48a,_0x51f799,_0x2fcbf5){const _0xf5c625=a2_0x5cc455,[_0x3e4baa,_0x28b2cc]=_0x1544c9[_0xf5c625(0x196)](':')[_0xf5c625(0x153)](Number),[_0x216545,_0x39fe97]=_0x32e48a['split'](':')[_0xf5c625(0x153)](Number),_0x24e13a=_0x3e4baa*0x3c+_0x28b2cc,_0x426ecc=_0x216545*0x3c+_0x39fe97,_0x26684a=String(_0x2fcbf5);let _0x291c4a=![],_0x68db0b='';for(let _0x46e8d9 of sessions){if(_0x46e8d9[_0xf5c625(0x169)]!==_0x5a6d5f)continue;if(_0x46e8d9[_0xf5c625(0x201)]===_0xf5c625(0x138))continue;if(_0x51f799&&String(_0x46e8d9['id'])===String(_0x51f799))continue;const [_0x4b3b37,_0x3f6cc5]=_0x46e8d9[_0xf5c625(0x141)][_0xf5c625(0x196)](':')['map'](Number),[_0x20f335,_0x7e8a0a]=_0x46e8d9[_0xf5c625(0x155)][_0xf5c625(0x196)](':')['map'](Number),_0x49470d=_0x4b3b37*0x3c+_0x3f6cc5,_0x53ec75=_0x20f335*0x3c+_0x7e8a0a;if(Math['max'](_0x24e13a,_0x49470d)<Math['min'](_0x426ecc,_0x53ec75)){if(_0x46e8d9[_0xf5c625(0x22a)]&&String(_0x46e8d9[_0xf5c625(0x22a)])===_0x26684a)return{'valid':![],'msg':_0xf5c625(0x22f)+_0x46e8d9[_0xf5c625(0x1b9)]+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x291c4a=!![],_0x68db0b=_0x46e8d9[_0xf5c625(0x1b9)];}}if(_0x291c4a)return{'valid':!![],'warning':_0xf5c625(0x1e4)+_0x68db0b};return{'valid':!![]};}function saveSingleSession(_0x1d5e7d){const _0x188ea9=a2_0x5cc455;if(editingId){const _0x940f21=sessions['findIndex'](_0x300fc8=>_0x300fc8['id']===editingId);if(_0x940f21!==-0x1)sessions[_0x940f21]=_0x1d5e7d;}else sessions[_0x188ea9(0x244)](_0x1d5e7d);afterSaveAction([_0x1d5e7d[_0x188ea9(0x169)]]);}function createBatchSeries(_0x4a5717,_0x3b089a,_0x540a27){const _0x39835d=a2_0x5cc455,_0x5bd699=generateId(),_0x478479=[],_0x44186f=[];let _0x4c6016=0x0,_0x46ced1=new Date(_0x3b089a);for(let _0x14c9aa=0x0;_0x14c9aa<_0x540a27;_0x14c9aa++){const _0x3e417a=getLocalDateStr(_0x46ced1),_0x36f5fa=validateAppointment(_0x3e417a,_0x4a5717['start'],_0x4a5717['end'],null,_0x4a5717[_0x39835d(0x22a)]);if(!_0x36f5fa[_0x39835d(0x181)])console[_0x39835d(0x133)]('[Series]\x20Skipped\x20'+_0x3e417a+_0x39835d(0x1d8)),_0x4c6016++;else{const _0xf9a3a1={..._0x4a5717,'id':generateId(),'dateStr':_0x3e417a,'seriesId':_0x5bd699};_0x44186f['push'](_0xf9a3a1),_0x478479[_0x39835d(0x244)](_0x3e417a);}_0x46ced1[_0x39835d(0x228)](_0x46ced1['getDate']()+0x7);}if(_0x44186f[_0x39835d(0x1cc)]===0x0){showToast('–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!',![]);return;}sessions[_0x39835d(0x244)](..._0x44186f),lastUserActionTime=Date[_0x39835d(0x214)]();let _0x131417=_0x39835d(0x24e)+_0x44186f[_0x39835d(0x1cc)];_0x4c6016>0x0&&(_0x131417+=_0x39835d(0x274)+_0x4c6016+')'),showToast(_0x131417,!![]),afterSaveAction(_0x478479);}function updateSeriesBatch(_0x4ffd9c,_0x5e47c5){const _0x5bbbed=a2_0x5cc455,_0x13b53d=[],_0x15989f=_0x5e47c5[_0x5bbbed(0x1f7)];if(_0x4ffd9c===_0x5bbbed(0x23b)){const _0x63fe2a={..._0x5e47c5,'seriesId':null},_0x204d7c=sessions[_0x5bbbed(0x187)](_0x4bc7f4=>_0x4bc7f4['id']===_0x5e47c5['id']);if(_0x204d7c!==-0x1)sessions[_0x204d7c]=_0x63fe2a;_0x13b53d[_0x5bbbed(0x244)](_0x63fe2a[_0x5bbbed(0x169)]);}else{if(_0x4ffd9c===_0x5bbbed(0x1b2)){const _0x21377f=_0x5e47c5['dateStr'];sessions[_0x5bbbed(0x1f4)]((_0x4cceab,_0x4f6ad5)=>{const _0x1f009a=_0x5bbbed;_0x4cceab[_0x1f009a(0x1f7)]===_0x15989f&&_0x4cceab['dateStr']>=_0x21377f&&(sessions[_0x4f6ad5]={...sessions[_0x4f6ad5],'start':_0x5e47c5[_0x1f009a(0x141)],'end':_0x5e47c5[_0x1f009a(0x155)],'note':_0x5e47c5['note'],'client':_0x5e47c5[_0x1f009a(0x1b9)],'clientId':_0x5e47c5['clientId']},_0x13b53d[_0x1f009a(0x244)](_0x4cceab['dateStr']));});}}afterSaveAction(_0x13b53d);}function tryDeleteSession(){const _0x4cbba3=a2_0x5cc455,_0x4860e9=sessions[_0x4cbba3(0x211)](_0x4b3bc9=>_0x4b3bc9['id']===editingId);if(!_0x4860e9)return;_0x4860e9['seriesId']?openActionSheet(_0x4cbba3(0x13e)):commitDelete('single',_0x4860e9);}function commitDelete(_0x1d109d,_0x35f704){const _0x5d6317=a2_0x5cc455;lastUserActionTime=Date[_0x5d6317(0x214)](),NotificationManager[_0x5d6317(0x130)](_0x5d6317(0x136),_0x35f704);const _0xc191da=[];if(_0x1d109d===_0x5d6317(0x23b))sessions=sessions['filter'](_0x2b870b=>_0x2b870b['id']!==_0x35f704['id']),_0xc191da[_0x5d6317(0x244)](_0x35f704[_0x5d6317(0x169)]);else{if(_0x1d109d===_0x5d6317(0x1b2)){const _0x3bfef3=_0x35f704['dateStr'],_0x5644f4=_0x35f704[_0x5d6317(0x1f7)];sessions['forEach'](_0x27e841=>{const _0x386840=_0x5d6317;_0x27e841[_0x386840(0x1f7)]===_0x5644f4&&_0x27e841['dateStr']>=_0x3bfef3&&_0xc191da[_0x386840(0x244)](_0x27e841['dateStr']);}),sessions=sessions[_0x5d6317(0x14f)](_0x4eb9c1=>!(_0x4eb9c1[_0x5d6317(0x1f7)]===_0x5644f4&&_0x4eb9c1[_0x5d6317(0x169)]>=_0x3bfef3));}}afterSaveAction(_0xc191da);}function afterSaveAction(_0xb0f926){const _0x330aaf=a2_0x5cc455;DataManager['saveLocally'](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x330aaf(0x25e)](_0xb0f926)['then'](()=>console[_0x330aaf(0x133)](_0x330aaf(0x21f)))[_0x330aaf(0x270)](_0x5c9095=>showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ',![]));}const NotificationManager={'formatDate'(_0x54628e){const _0x59271b=a2_0x5cc455,_0x35255e=new Date(_0x54628e),_0xd0b27f={'weekday':_0x59271b(0x19b),'day':_0x59271b(0x163),'month':_0x59271b(0x19b)};let _0x4f73ae=_0x35255e[_0x59271b(0x1cf)](_0x59271b(0x127),_0xd0b27f);return _0x4f73ae[_0x59271b(0x1a3)](0x0)[_0x59271b(0x184)]()+_0x4f73ae[_0x59271b(0x26b)](0x1);},'getText'(_0x9c7a6f,_0x5b1ffa){const _0x59620f=a2_0x5cc455,_0x9f40af=this[_0x59620f(0x14d)](_0x5b1ffa[_0x59620f(0x169)]);switch(_0x9c7a6f){case _0x59620f(0x220):return _0x59620f(0x1ef)+(_0x59620f(0x19d)+_0x9f40af+'\x0a')+(_0x59620f(0x224)+_0x5b1ffa['start']+'\x20‚Äî\x20'+_0x5b1ffa['end']+'\x0a\x0a')+'–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™';case _0x59620f(0x20f):return'<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a'+_0x59620f(0x1df)+(_0x59620f(0x20c)+_0x5b1ffa[_0x59620f(0x141)]+_0x59620f(0x1a2)+_0x5b1ffa[_0x59620f(0x155)]+_0x59620f(0x119))+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0x9f40af);case _0x59620f(0x136):return _0x59620f(0x125)+(_0x59620f(0x21a)+_0x9f40af+'\x20('+_0x5b1ffa[_0x59620f(0x141)]+_0x59620f(0x1f5));case'complete':return'<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a'+_0x59620f(0x229)+_0x59620f(0x164);default:return'';}},async 'send'(_0x182169,_0x5e8054){const _0x34748c=a2_0x5cc455;console[_0x34748c(0x133)]('[Notify]\x20Attempting\x20to\x20send:',_0x182169,_0x5e8054);if(!_0x5e8054){console[_0x34748c(0x1a9)]('[Notify]\x20Error:\x20sessionData\x20is\x20null');return;}const _0x423937=String(_0x5e8054[_0x34748c(0x22a)]);console[_0x34748c(0x133)](_0x34748c(0x1db),_0x423937);if(!_0x5e8054[_0x34748c(0x22a)]||_0x423937===_0x34748c(0x1a8)||_0x423937===_0x34748c(0x1f9)){console[_0x34748c(0x1a9)](_0x34748c(0x23c));if(_0x5e8054['client']){const _0x4d6b8c=clients['find'](_0x52a73d=>_0x52a73d[_0x34748c(0x203)]===_0x5e8054[_0x34748c(0x1b9)]);if(_0x4d6b8c)return console[_0x34748c(0x133)](_0x34748c(0x1c6),_0x4d6b8c['id']),this[_0x34748c(0x130)](_0x182169,{..._0x5e8054,'clientId':_0x4d6b8c['id']});}return;}if(_0x423937[_0x34748c(0x1cc)]<0x5){console[_0x34748c(0x1bc)](_0x34748c(0x139),_0x423937);return;}const _0x2f48b2=this[_0x34748c(0x195)](_0x182169,_0x5e8054);if(!_0x2f48b2){console[_0x34748c(0x1a9)](_0x34748c(0x171));return;}console[_0x34748c(0x133)]('[Notify]\x20Sending\x20to\x20GAS\x20for\x20'+_0x423937+_0x34748c(0x135)),DataManager[_0x34748c(0x1ff)](_0x34748c(0x207),{'chatId':_0x423937,'text':_0x2f48b2})[_0x34748c(0x21c)](_0xd14837=>console[_0x34748c(0x133)]('[Notify]\x20Server\x20Response:',_0xd14837))[_0x34748c(0x270)](_0x57899a=>console[_0x34748c(0x1a9)](_0x34748c(0x25a),_0x57899a));}};function getLocalDateStr(_0x30298f){const _0x26364e=a2_0x5cc455,_0x585b5a=_0x30298f[_0x26364e(0x19f)](),_0x12ed51=String(_0x30298f[_0x26364e(0x134)]()+0x1)['padStart'](0x2,'0'),_0x236fc4=String(_0x30298f[_0x26364e(0x158)]())[_0x26364e(0x1c2)](0x2,'0');return _0x585b5a+'-'+_0x12ed51+'-'+_0x236fc4;}function getDateStr(_0xceb929){const _0xe25e=a2_0x5cc455,_0x217bc6=new Date();return _0x217bc6[_0xe25e(0x228)](_0x217bc6[_0xe25e(0x158)]()+_0xceb929),getLocalDateStr(_0x217bc6);}function getStartOfWeek(_0x4e6b95){const _0x4cfda9=a2_0x5cc455,_0x1eb924=(function(){let _0x52853b=!![];return function(_0x4d9b5e,_0x349f46){const _0x33f223=_0x52853b?function(){const _0x1f5282=a2_0x4949;if(_0x349f46){const _0x486b33=_0x349f46[_0x1f5282(0x1ec)](_0x4d9b5e,arguments);return _0x349f46=null,_0x486b33;}}:function(){};return _0x52853b=![],_0x33f223;};}()),_0x2cf1b5=_0x1eb924(this,function(){const _0x23b030=a2_0x4949;return _0x2cf1b5[_0x23b030(0x118)]()[_0x23b030(0x16d)]('(((.+)+)+)+$')[_0x23b030(0x118)]()['constructor'](_0x2cf1b5)[_0x23b030(0x16d)](_0x23b030(0x15d));});_0x2cf1b5();const _0x194e39=new Date(_0x4e6b95),_0x996754=_0x194e39['getDay'](),_0x4bf9cc=_0x194e39[_0x4cfda9(0x158)]()-_0x996754+(_0x996754===0x0?-0x6:0x1);return _0x194e39[_0x4cfda9(0x228)](_0x4bf9cc),_0x194e39[_0x4cfda9(0x20e)](0x0,0x0,0x0,0x0),_0x194e39;}function hexToRgba(_0x852473,_0x4c04de){const _0x30a8e2=a2_0x5cc455;if(!_0x852473)return _0x30a8e2(0x1a5);let _0x525ef8=0x0,_0x4bcd14=0x0,_0x443669=0x0;if(_0x852473[_0x30a8e2(0x1cc)]===0x4)_0x525ef8='0x'+_0x852473[0x1]+_0x852473[0x1],_0x4bcd14='0x'+_0x852473[0x2]+_0x852473[0x2],_0x443669='0x'+_0x852473[0x3]+_0x852473[0x3];else _0x852473[_0x30a8e2(0x1cc)]===0x7&&(_0x525ef8='0x'+_0x852473[0x1]+_0x852473[0x2],_0x4bcd14='0x'+_0x852473[0x3]+_0x852473[0x4],_0x443669='0x'+_0x852473[0x5]+_0x852473[0x6]);return _0x30a8e2(0x255)+ +_0x525ef8+',\x20'+ +_0x4bcd14+',\x20'+ +_0x443669+',\x20'+_0x4c04de+')';}function renderTimeColumn(){const _0x4d24fb=a2_0x5cc455,_0x4a9039=document[_0x4d24fb(0x250)](_0x4d24fb(0x1e7)),_0x673aa2=document[_0x4d24fb(0x250)](_0x4d24fb(0x14b));_0x4a9039['innerHTML']='',_0x4a9039[_0x4d24fb(0x11f)](_0x673aa2);for(let _0x4c08c4=0x0;_0x4c08c4<0x18;_0x4c08c4++){const _0x4d7feb=document[_0x4d24fb(0x1c7)]('div');_0x4d7feb[_0x4d24fb(0x1f8)]=_0x4d24fb(0x140);if(_0x4c08c4>0x0)_0x4d7feb['innerHTML']='<span>'+String(_0x4c08c4)[_0x4d24fb(0x1c2)](0x2,'0')+_0x4d24fb(0x258);_0x4a9039[_0x4d24fb(0x11f)](_0x4d7feb);}}function renderDayRange(_0x5a42a6,_0x1d1093){const _0x1528e2=a2_0x5cc455,_0x1e49ce=document[_0x1528e2(0x250)](_0x1528e2(0x12a)),_0x37b834=document[_0x1528e2(0x250)](_0x1528e2(0x149)),_0x165057=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x57f4c3=new Date();_0x57f4c3[_0x1528e2(0x20e)](0x0,0x0,0x0,0x0);const _0x41b775=getLocalDateStr(new Date());for(let _0x3e143a=_0x5a42a6;_0x3e143a<=_0x1d1093;_0x3e143a++){const _0x39189e=new Date(_0x57f4c3);_0x39189e[_0x1528e2(0x228)](_0x39189e[_0x1528e2(0x158)]()+_0x3e143a);const _0x12a00c=getLocalDateStr(_0x39189e);let _0x4e0a4f=_0x39189e[_0x1528e2(0x209)]()-0x1;if(_0x4e0a4f===-0x1)_0x4e0a4f=0x6;const _0x1aa4a9=_0x12a00c===_0x41b775,_0xa5751e=document[_0x1528e2(0x1c7)]('div');_0xa5751e[_0x1528e2(0x1f8)]=_0x1528e2(0x26f)+(_0x1aa4a9?_0x1528e2(0x1d9):''),_0xa5751e['id']=_0x1528e2(0x226)+_0x12a00c,_0xa5751e[_0x1528e2(0x253)](_0x1528e2(0x205),_0x12a00c),_0xa5751e[_0x1528e2(0x22d)]='<div\x20class=\x22dch-day\x22>'+_0x165057[_0x4e0a4f]+_0x1528e2(0x202)+_0x39189e[_0x1528e2(0x158)]()+_0x1528e2(0x285)+_0x12a00c+_0x1528e2(0x1d0),_0xa5751e['onclick']=()=>openDayOptions(_0x12a00c,_0x165057[_0x4e0a4f]+'\x20'+_0x39189e[_0x1528e2(0x158)]()),_0x1e49ce[_0x1528e2(0x11f)](_0xa5751e);const _0x1f988e=document[_0x1528e2(0x1c7)]('div');_0x1f988e['className']=_0x1528e2(0x24c)+(_0x1aa4a9?'today':''),_0x1f988e['setAttribute'](_0x1528e2(0x205),_0x12a00c),_0x1f988e[_0x1528e2(0x253)](_0x1528e2(0x148),_0x4e0a4f),renderEventsForColumn(_0x1f988e,_0x12a00c,_0x4e0a4f),attachLongPressHandler(_0x1f988e,_0x39189e),_0x37b834[_0x1528e2(0x11f)](_0x1f988e),updateDayStats(_0x12a00c);}}function reRenderBlocks(){const _0x1cb31e=a2_0x5cc455;document[_0x1cb31e(0x256)](_0x1cb31e(0x192))['forEach'](_0x12101c=>{const _0x271786=_0x1cb31e;_0x12101c[_0x271786(0x256)](_0x271786(0x242))[_0x271786(0x1f4)](_0x543f8a=>_0x543f8a[_0x271786(0x1f6)]());const _0x874cc8=_0x12101c['getAttribute'](_0x271786(0x205)),_0x4a6b42=parseInt(_0x12101c['getAttribute'](_0x271786(0x148))),_0x4f9391=Math['round'](_0x12101c['offsetLeft']);(availabilityPattern[_0x4a6b42]||[])['forEach'](_0x238f5b=>{const _0xebfd43=_0x271786,_0x1a14a5=document['createElement']('div');_0x1a14a5[_0xebfd43(0x1f8)]='blocked-slot\x20stripe-bg';const _0x12ca9c=_0x238f5b*GRID_H;_0x1a14a5[_0xebfd43(0x185)][_0xebfd43(0x223)]=_0x12ca9c+'px',_0x1a14a5[_0xebfd43(0x185)]['backgroundPosition']='-'+_0x4f9391+_0xebfd43(0x1aa)+_0x12ca9c+'px',_0x12101c[_0xebfd43(0x11f)](_0x1a14a5);});if(specialRanges&&specialRanges[_0x271786(0x1cc)]>0x0){const _0x5e95cb=new Date(_0x874cc8+'T00:00:00')[_0x271786(0x15b)](),_0x2f5546=new Date(_0x874cc8+_0x271786(0x26a))['getTime']();specialRanges[_0x271786(0x1f4)](_0x432030=>{const _0x25b80b=_0x271786,_0x5c2a7d=new Date(_0x432030['start'])['getTime'](),_0x4dac86=new Date(_0x432030[_0x25b80b(0x155)])['getTime'](),_0x9cb3dd=Math[_0x25b80b(0x17b)](_0x5e95cb,_0x5c2a7d),_0x339882=Math[_0x25b80b(0x16a)](_0x2f5546,_0x4dac86);if(_0x9cb3dd<_0x339882){if(_0x9cb3dd<=_0x5e95cb&&_0x339882>=_0x2f5546-0xea60){if(!_0x12101c[_0x25b80b(0x24d)](_0x25b80b(0x25f))){const _0x5e4606=document[_0x25b80b(0x1c7)](_0x25b80b(0x247));_0x5e4606[_0x25b80b(0x1f8)]='day-off-overlay\x20stripe-bg',_0x5e4606[_0x25b80b(0x185)]['backgroundPosition']='-'+_0x4f9391+_0x25b80b(0x1e6),_0x12101c[_0x25b80b(0x11f)](_0x5e4606);}}else{const _0xae919b=(_0x9cb3dd-_0x5e95cb)/0x36ee80*GRID_H,_0x5c82ef=(_0x339882-_0x9cb3dd)/0x36ee80*GRID_H,_0x2bb442=document[_0x25b80b(0x1c7)](_0x25b80b(0x247));_0x2bb442['className']=_0x25b80b(0x216),_0x2bb442[_0x25b80b(0x185)][_0x25b80b(0x223)]=_0xae919b+'px',_0x2bb442[_0x25b80b(0x185)][_0x25b80b(0x1d7)]=_0x5c82ef+'px',_0x2bb442[_0x25b80b(0x185)][_0x25b80b(0x206)]='-'+_0x4f9391+_0x25b80b(0x1aa)+_0xae919b+'px',_0x12101c[_0x25b80b(0x11f)](_0x2bb442);}}});}if(dateExceptions[_0x874cc8]===_0x271786(0x12f)){if(!_0x12101c[_0x271786(0x24d)](_0x271786(0x25f))){const _0x88ae38=document[_0x271786(0x1c7)](_0x271786(0x247));_0x88ae38['className']=_0x271786(0x161),_0x88ae38['style']['backgroundPosition']='-'+_0x4f9391+_0x271786(0x1e6),_0x12101c[_0x271786(0x11f)](_0x88ae38);}}renderEventsForColumn(_0x12101c,_0x874cc8,_0x4a6b42),updateDayStats(_0x874cc8);});}function updateAllDayStats(){const _0xf5aa0f=a2_0x5cc455;document[_0xf5aa0f(0x256)](_0xf5aa0f(0x18a))[_0xf5aa0f(0x1f4)](_0x1116fa=>{const _0x21fcf2=_0xf5aa0f;updateDayStats(_0x1116fa[_0x21fcf2(0x1b4)](_0x21fcf2(0x205)));});}function updateDayStats(_0x43ea53){const _0x2acdda=a2_0x5cc455,_0x1b5f02=document[_0x2acdda(0x250)](_0x2acdda(0x249)+_0x43ea53);if(!_0x1b5f02)return;const _0x5dc27e=new Date(_0x43ea53);let _0x481de2=_0x5dc27e[_0x2acdda(0x209)]()-0x1;if(_0x481de2===-0x1)_0x481de2=0x6;if(dateExceptions[_0x43ea53]===_0x2acdda(0x12f)){_0x1b5f02['style']['display']=_0x2acdda(0x15f);return;}const _0xa80749=availabilityPattern[_0x481de2]||[],_0x1848bf=0x18-_0xa80749['length'],_0x473a79=_0x1848bf*0x3c,_0x5cf12b=sessions[_0x2acdda(0x14f)](_0xdf0284=>_0xdf0284[_0x2acdda(0x169)]===_0x43ea53&&_0xdf0284['status']!=='cancelled');if(_0x5cf12b['length']===0x0){_0x1b5f02['style']['display']='none';return;}let _0x45e93f=_0x5cf12b[_0x2acdda(0x153)](_0x27a791=>{const _0x47d187=_0x2acdda,[_0xe618a6,_0x250b8c]=_0x27a791['start'][_0x47d187(0x196)](':')['map'](Number),[_0x1141ed,_0xed086a]=_0x27a791[_0x47d187(0x155)][_0x47d187(0x196)](':')[_0x47d187(0x153)](Number);return[_0xe618a6*0x3c+_0x250b8c,_0x1141ed*0x3c+_0xed086a];});_0x45e93f[_0x2acdda(0x275)]((_0xf7167e,_0x44946d)=>_0xf7167e[0x0]-_0x44946d[0x0]);let _0xb4848b=[];if(_0x45e93f['length']>0x0){let _0x4174bb=_0x45e93f[0x0];for(let _0x1465ad=0x1;_0x1465ad<_0x45e93f[_0x2acdda(0x1cc)];_0x1465ad++){_0x45e93f[_0x1465ad][0x0]<_0x4174bb[0x1]?_0x4174bb[0x1]=Math[_0x2acdda(0x17b)](_0x4174bb[0x1],_0x45e93f[_0x1465ad][0x1]):(_0xb4848b[_0x2acdda(0x244)](_0x4174bb),_0x4174bb=_0x45e93f[_0x1465ad]);}_0xb4848b[_0x2acdda(0x244)](_0x4174bb);}let _0x430199=0x0;_0xb4848b['forEach'](_0x4072c5=>_0x430199+=_0x4072c5[0x1]-_0x4072c5[0x0]),_0x1b5f02[_0x2acdda(0x185)][_0x2acdda(0x1ab)]=_0x2acdda(0x172);const _0x2c35bd=_0x1b5f02[_0x2acdda(0x24d)](_0x2acdda(0x263));if(_0x473a79===0x0){_0x2c35bd[_0x2acdda(0x185)][_0x2acdda(0x12d)]='100%',_0x2c35bd[_0x2acdda(0x185)][_0x2acdda(0x282)]=_0x2acdda(0x17d);return;}const _0x437f87=_0x430199/_0x473a79*0x64;console[_0x2acdda(0x133)]('['+_0x43ea53+_0x2acdda(0x11e)+_0x1848bf+_0x2acdda(0x25c)+_0x430199+_0x2acdda(0x1b0)+_0x437f87[_0x2acdda(0x14a)](0x1)+'%'),_0x437f87>0x64?(_0x2c35bd[_0x2acdda(0x185)][_0x2acdda(0x12d)]=_0x2acdda(0x272),_0x2c35bd[_0x2acdda(0x185)][_0x2acdda(0x282)]='var(--acc-red)'):(_0x2c35bd[_0x2acdda(0x185)]['width']=_0x437f87+'%',_0x2c35bd['style'][_0x2acdda(0x282)]='var(--acc-current)');}function renderEventsForColumn(_0x5a4299,_0x389a87,_0x18f9c3){const _0xb85ac4=a2_0x5cc455,_0x5dfb12=sessions[_0xb85ac4(0x14f)](_0x5ef66b=>_0x5ef66b['dateStr']===_0x389a87),_0x473523=_0x5dfb12['map'](_0x548213=>{const _0xe6454a=_0xb85ac4,[_0x3184e5,_0x3de6a9]=_0x548213['start']['split'](':')[_0xe6454a(0x153)](Number),[_0x5c033f,_0x231ebe]=_0x548213['end']['split'](':')[_0xe6454a(0x153)](Number);return{'data':_0x548213,'start':_0x3184e5*0x3c+_0x3de6a9,'end':_0x5c033f*0x3c+_0x231ebe,'colIndex':0x0};});_0x473523['sort']((_0x3cbc3c,_0xb9844c)=>{const _0x1d013a=_0xb85ac4;if(_0x3cbc3c['start']!==_0xb9844c[_0x1d013a(0x141)])return _0x3cbc3c['start']-_0xb9844c[_0x1d013a(0x141)];return _0xb9844c[_0x1d013a(0x155)]-_0xb9844c[_0x1d013a(0x141)]-(_0x3cbc3c[_0x1d013a(0x155)]-_0x3cbc3c[_0x1d013a(0x141)]);});const _0x2d5b40=[];_0x473523[_0xb85ac4(0x1f4)](_0xc073a9=>{const _0xc008ca=_0xb85ac4;let _0xe602e6=![];for(let _0x5d7868=0x0;_0x5d7868<_0x2d5b40[_0xc008ca(0x1cc)];_0x5d7868++){const _0x261ba3=_0x2d5b40[_0x5d7868],_0x4f075b=_0x261ba3[_0x261ba3['length']-0x1];if(_0xc073a9['start']>=_0x4f075b[_0xc008ca(0x155)]){_0x261ba3['push'](_0xc073a9),_0xc073a9[_0xc008ca(0x235)]=_0x5d7868,_0xe602e6=!![];break;}}!_0xe602e6&&(_0x2d5b40['push']([_0xc073a9]),_0xc073a9[_0xc008ca(0x235)]=_0x2d5b40[_0xc008ca(0x1cc)]-0x1);}),_0x473523['forEach'](_0x5f9a23=>{const _0x187c09=_0xb85ac4;let _0x54b787=0x0;_0x473523['forEach'](_0x53f676=>{const _0x5005a4=a2_0x4949;if(Math[_0x5005a4(0x17b)](_0x5f9a23[_0x5005a4(0x141)],_0x53f676['start'])<Math[_0x5005a4(0x16a)](_0x5f9a23[_0x5005a4(0x155)],_0x53f676[_0x5005a4(0x155)])){if(_0x53f676[_0x5005a4(0x235)]>_0x54b787)_0x54b787=_0x53f676[_0x5005a4(0x235)];}});const _0x3ffd88=_0x54b787+0x1,_0x371815=0x64/_0x3ffd88,_0x5bd5d7=_0x5f9a23[_0x187c09(0x235)]*_0x371815,_0x5b762a=createEventEl(_0x5f9a23[_0x187c09(0x210)]);_0x5b762a['style'][_0x187c09(0x12d)]=_0x187c09(0x1af)+_0x371815+_0x187c09(0x21b),_0x5b762a[_0x187c09(0x185)][_0x187c09(0x238)]=_0x187c09(0x1af)+_0x5bd5d7+_0x187c09(0x159),_0x5b762a[_0x187c09(0x185)][_0x187c09(0x20a)]=0xa+_0x5f9a23[_0x187c09(0x235)],_0x371815<0x55&&_0x5b762a[_0x187c09(0x25d)][_0x187c09(0x1b6)](_0x187c09(0x23e)),_0x5a4299[_0x187c09(0x11f)](_0x5b762a);});}function createEventEl(_0x503c37){const _0x106ea3=a2_0x5cc455,[_0xb78e8,_0x48fef6]=_0x503c37[_0x106ea3(0x141)][_0x106ea3(0x196)](':')[_0x106ea3(0x153)](Number),[_0x58a924,_0x459e0b]=_0x503c37[_0x106ea3(0x155)][_0x106ea3(0x196)](':')[_0x106ea3(0x153)](Number),_0x25e1bf=(_0xb78e8*0x3c+_0x48fef6)/0x3c*GRID_H,_0x3b0916=(_0x58a924*0x3c+_0x459e0b-(_0xb78e8*0x3c+_0x48fef6))/0x3c*GRID_H,_0x1bfe7a=document[_0x106ea3(0x1c7)]('div'),_0x54cfe1=_0x503c37['status']===_0x106ea3(0x237)?_0x106ea3(0x13c):'';_0x1bfe7a[_0x106ea3(0x1f8)]=_0x106ea3(0x28c)+_0x54cfe1,_0x1bfe7a['style'][_0x106ea3(0x223)]=_0x25e1bf+'px',_0x1bfe7a[_0x106ea3(0x185)][_0x106ea3(0x1d7)]=Math[_0x106ea3(0x17b)](_0x3b0916,0x14)+'px';const _0x26c0d6=clients['find'](_0x330bc5=>_0x503c37[_0x106ea3(0x22a)]&&String(_0x330bc5['id'])===String(_0x503c37[_0x106ea3(0x22a)])||_0x330bc5['name']===_0x503c37[_0x106ea3(0x1b9)]),_0x78a6c1=_0x26c0d6?_0x26c0d6[_0x106ea3(0x15c)]:'#0a84ff';_0x1bfe7a['style']['borderLeftColor']=_0x78a6c1,_0x1bfe7a[_0x106ea3(0x185)]['backgroundColor']=hexToRgba(_0x78a6c1,0.85);let _0x1a8fcf=_0x106ea3(0x28f)+_0x503c37[_0x106ea3(0x1b9)]+'</div><div\x20class=\x22ev-time\x22>'+_0x503c37[_0x106ea3(0x141)]+_0x106ea3(0x179)+_0x503c37[_0x106ea3(0x155)]+_0x106ea3(0x19e);return _0x503c37[_0x106ea3(0x1f7)]&&(_0x1a8fcf+=_0x106ea3(0x25b)),_0x503c37[_0x106ea3(0x201)]===_0x106ea3(0x237)&&(_0x1a8fcf+='<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>'),_0x1bfe7a[_0x106ea3(0x22d)]=_0x1a8fcf,_0x1bfe7a[_0x106ea3(0x288)]=_0x1c9c7c=>{const _0x2ef45c=_0x106ea3;_0x1c9c7c[_0x2ef45c(0x1c8)](),openEdit(_0x503c37);},_0x1bfe7a;}function attachLongPressHandler(_0x524eb6,_0x34f325){const _0x370a30=a2_0x5cc455;let _0x3de6fc=0x0,_0x4c4088=null;const _0x14ec75=_0x36bca9=>{const _0x5a0139=a2_0x4949;if(_0x36bca9[_0x5a0139(0x193)][_0x5a0139(0x204)]('.event-card'))return;isScrolling=![],_0x3de6fc=_0x36bca9[_0x5a0139(0x232)]?_0x36bca9[_0x5a0139(0x232)][0x0][_0x5a0139(0x276)]:_0x36bca9[_0x5a0139(0x276)],_0x4c4088=setTimeout(()=>{const _0x288902=_0x5a0139;if(!isScrolling){navigator['vibrate']?.(0x32);const _0x2637c5=_0x524eb6[_0x288902(0x143)](),_0x31f254=Math[_0x288902(0x12e)]((_0x3de6fc-_0x2637c5['top'])/GRID_H);_0x34f325['setHours'](_0x31f254,0x0),openAddSession(_0x34f325);}},0x1f4);},_0x1ea877=()=>{isScrolling=!![],clearTimeout(_0x4c4088);},_0x131e80=()=>{clearTimeout(_0x4c4088);};_0x524eb6[_0x370a30(0x266)](_0x370a30(0x284),_0x14ec75,{'passive':!![]}),_0x524eb6[_0x370a30(0x266)](_0x370a30(0x1a4),_0x1ea877,{'passive':!![]}),_0x524eb6[_0x370a30(0x266)](_0x370a30(0x1eb),_0x131e80),_0x524eb6[_0x370a30(0x266)]('mousedown',_0x14ec75),_0x524eb6[_0x370a30(0x266)](_0x370a30(0x215),_0x1ea877),_0x524eb6['addEventListener'](_0x370a30(0x1fd),_0x131e80);}function cancelLongPress(){}function handleInfiniteScroll(){const _0xd0298b=a2_0x5cc455,_0x551eff=document[_0xd0298b(0x250)]('matrixViewport'),_0x22cc36=_0x551eff['scrollLeft'],_0x4898ef=_0x551eff[_0xd0298b(0x17f)],_0x37feb8=_0x551eff[_0xd0298b(0x217)];if(_0x4898ef-(_0x22cc36+_0x37feb8)<0x12c){const _0x569300=endOffset;endOffset+=0xe,renderDayRange(_0x569300+0x1,endOffset),reRenderBlocks();}if(_0x22cc36<0x12c){const _0x5f0e51=startOffset;startOffset-=0xe,prependDays(startOffset,_0x5f0e51-0x1),_0x551eff[_0xd0298b(0x1f1)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x41be60,_0x2e0c2c){const _0x120042=a2_0x5cc455,_0x34a1eb=document[_0x120042(0x250)](_0x120042(0x12a)),_0x230705=document[_0x120042(0x250)]('gridColumns'),_0x4cb647=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1363a0=new Date();_0x1363a0[_0x120042(0x20e)](0x0,0x0,0x0,0x0);const _0x37b800=getLocalDateStr(new Date()),_0xc53d93=document['createDocumentFragment'](),_0x26918e=document[_0x120042(0x269)]();for(let _0x2f70fc=_0x41be60;_0x2f70fc<=_0x2e0c2c;_0x2f70fc++){const _0x26285d=new Date(_0x1363a0);_0x26285d['setDate'](_0x26285d[_0x120042(0x158)]()+_0x2f70fc);const _0x3631d5=getLocalDateStr(_0x26285d);let _0x108f8b=_0x26285d['getDay']()-0x1;if(_0x108f8b===-0x1)_0x108f8b=0x6;const _0x5568=_0x3631d5===_0x37b800,_0x198e78=document['createElement'](_0x120042(0x247));_0x198e78[_0x120042(0x1f8)]=_0x120042(0x26f)+(_0x5568?_0x120042(0x1d9):''),_0x198e78['id']=_0x120042(0x226)+_0x3631d5,_0x198e78[_0x120042(0x253)](_0x120042(0x205),_0x3631d5),_0x198e78['innerHTML']=_0x120042(0x177)+_0x4cb647[_0x108f8b]+_0x120042(0x202)+_0x26285d['getDate']()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0x3631d5+_0x120042(0x1d0),_0x198e78['onclick']=()=>openDayOptions(_0x3631d5,_0x4cb647[_0x108f8b]+'\x20'+_0x26285d[_0x120042(0x158)]()),_0xc53d93[_0x120042(0x11f)](_0x198e78);const _0x674159=document[_0x120042(0x1c7)](_0x120042(0x247));_0x674159[_0x120042(0x1f8)]=_0x120042(0x24c)+(_0x5568?'today':''),_0x674159[_0x120042(0x253)](_0x120042(0x205),_0x3631d5),_0x674159[_0x120042(0x253)](_0x120042(0x148),_0x108f8b),renderEventsForColumn(_0x674159,_0x3631d5,_0x108f8b),attachLongPressHandler(_0x674159,_0x26285d),_0x26918e[_0x120042(0x11f)](_0x674159),updateDayStats(_0x3631d5);}_0x34a1eb[_0x120042(0x28a)](_0xc53d93,_0x34a1eb[_0x120042(0x231)]),_0x230705['insertBefore'](_0x26918e,_0x230705[_0x120042(0x24d)]('.day-column'));}function validateAppointment(_0xb817e8,_0xf0c6ab,_0x22d190,_0x45060a,_0x596c10){const _0x5088c9=a2_0x5cc455,[_0x836b5d,_0x57f919]=_0xf0c6ab[_0x5088c9(0x196)](':')['map'](Number),[_0x4a14ef,_0x2c55f1]=_0x22d190[_0x5088c9(0x196)](':')[_0x5088c9(0x153)](Number),_0x2691c9=_0x836b5d*0x3c+_0x57f919,_0x274c3d=_0x4a14ef*0x3c+_0x2c55f1,_0x1703d2=String(_0x596c10);let _0x287d28=![],_0x108c2e='';for(let _0x32a22e of sessions){if(_0x32a22e[_0x5088c9(0x169)]!==_0xb817e8)continue;if(_0x32a22e['status']==='cancelled')continue;if(_0x45060a&&String(_0x32a22e['id'])===String(_0x45060a))continue;const [_0x193ea9,_0x40620a]=_0x32a22e['start'][_0x5088c9(0x196)](':')[_0x5088c9(0x153)](Number),[_0x1fec60,_0x101e6b]=_0x32a22e[_0x5088c9(0x155)][_0x5088c9(0x196)](':')[_0x5088c9(0x153)](Number),_0x15062a=_0x193ea9*0x3c+_0x40620a,_0x5c6151=_0x1fec60*0x3c+_0x101e6b;if(Math[_0x5088c9(0x17b)](_0x2691c9,_0x15062a)<Math[_0x5088c9(0x16a)](_0x274c3d,_0x5c6151)){if(_0x32a22e[_0x5088c9(0x22a)]&&String(_0x32a22e[_0x5088c9(0x22a)])===_0x1703d2)return{'valid':![],'msg':_0x5088c9(0x22f)+_0x32a22e[_0x5088c9(0x1b9)]+_0x5088c9(0x11d)};_0x287d28=!![],_0x108c2e=_0x32a22e['client'];}}if(_0x287d28)return{'valid':!![],'warning':_0x5088c9(0x1e4)+_0x108c2e};return{'valid':!![]};}function updateDateDisplay(){const _0xf3a26f=a2_0x5cc455,_0x234988=document[_0xf3a26f(0x250)]('inpDate')['value'],_0xb01ac6=document['getElementById'](_0xf3a26f(0x27f));if(!_0x234988){_0xb01ac6[_0xf3a26f(0x13d)]='';return;}const [_0x52d813,_0x5a4260,_0x49ed00]=_0x234988[_0xf3a26f(0x196)]('-')[_0xf3a26f(0x153)](Number),_0x53508d=new Date(_0x52d813,_0x5a4260-0x1,_0x49ed00),_0x255c63={'weekday':'long','day':'numeric','month':_0xf3a26f(0x19b),'year':_0xf3a26f(0x163)};let _0x5b5d53=_0x53508d[_0xf3a26f(0x1cf)]('ru-RU',_0x255c63);_0x5b5d53=_0x5b5d53[_0xf3a26f(0x1a3)](0x0)[_0xf3a26f(0x184)]()+_0x5b5d53[_0xf3a26f(0x26b)](0x1),_0xb01ac6['textContent']=_0x5b5d53;}function autoSetEndTime(){const _0x1439c1=a2_0x5cc455,_0x3501b7=document[_0x1439c1(0x250)](_0x1439c1(0x21d))[_0x1439c1(0x154)];if(!_0x3501b7)return;const [_0x57622c,_0x170659]=_0x3501b7[_0x1439c1(0x196)](':')['map'](Number);let _0x55acb4=_0x57622c+0x1;if(_0x55acb4>0x17)_0x55acb4=0x0;const _0x270f4c=String(_0x55acb4)[_0x1439c1(0x1c2)](0x2,'0')+':'+String(_0x170659)[_0x1439c1(0x1c2)](0x2,'0');document[_0x1439c1(0x250)]('inpEnd')[_0x1439c1(0x154)]=_0x270f4c;}function populateClientSelect(){const _0x315c83=a2_0x5cc455,_0x3d934d=document[_0x315c83(0x250)](_0x315c83(0x1a0));_0x3d934d['innerHTML']='';if(clients[_0x315c83(0x1cc)]===0x0){const _0x2ad6d=document[_0x315c83(0x1c7)]('option');_0x2ad6d['text']=_0x315c83(0x174),_0x3d934d[_0x315c83(0x11f)](_0x2ad6d);return;}clients[_0x315c83(0x1f4)](_0xb44fe4=>{const _0x36c201=_0x315c83,_0x566bf5=document['createElement'](_0x36c201(0x200));_0x566bf5['value']=_0xb44fe4['name'],_0x566bf5['textContent']=_0xb44fe4['name'],_0x3d934d[_0x36c201(0x11f)](_0x566bf5);});}function openActionSheet(_0x366684){const _0x134542=a2_0x5cc455,_0x4819e5=document[_0x134542(0x250)](_0x134542(0x137)),_0x250cac=document['getElementById']('actionSheetOverlay'),_0x26df75=document['getElementById'](_0x134542(0x213)),_0x52c4e2=document[_0x134542(0x250)]('asBtnOne'),_0x48c180=document['getElementById'](_0x134542(0x20d));_0x250cac[_0x134542(0x25d)][_0x134542(0x1b6)]('active'),_0x4819e5['classList']['add']('open');if(_0x366684===_0x134542(0x280))_0x26df75[_0x134542(0x13d)]=_0x134542(0x199),_0x52c4e2[_0x134542(0x13d)]=_0x134542(0x14e),_0x52c4e2['onclick']=()=>{closeActionSheet(),updateSeriesBatch('single',tempSessionData);},_0x48c180[_0x134542(0x13d)]=_0x134542(0x1b5),_0x48c180[_0x134542(0x288)]=()=>{const _0x1bcb36=_0x134542;closeActionSheet(),updateSeriesBatch(_0x1bcb36(0x1b2),tempSessionData);};else _0x366684===_0x134542(0x13e)&&(_0x26df75[_0x134542(0x13d)]=_0x134542(0x1dc),_0x52c4e2['textContent']=_0x134542(0x14e),_0x52c4e2['className']=_0x134542(0x160),_0x52c4e2[_0x134542(0x288)]=()=>{const _0x543580=_0x134542;closeActionSheet(),commitDelete('single',sessions[_0x543580(0x211)](_0x38c056=>_0x38c056['id']===editingId));},_0x48c180['textContent']=_0x134542(0x1b5),_0x48c180['className']=_0x134542(0x243),_0x48c180['onclick']=()=>{const _0x209c3a=_0x134542;closeActionSheet(),commitDelete(_0x209c3a(0x1b2),sessions[_0x209c3a(0x211)](_0x175c21=>_0x175c21['id']===editingId));});}function closeActionSheet(){const _0x3e0cbb=a2_0x5cc455;document[_0x3e0cbb(0x250)]('actionSheet')[_0x3e0cbb(0x25d)][_0x3e0cbb(0x1f6)](_0x3e0cbb(0x123)),document[_0x3e0cbb(0x250)](_0x3e0cbb(0x1c5))['classList'][_0x3e0cbb(0x1f6)](_0x3e0cbb(0x189));}function openSettings(){const _0x2d6bc2=a2_0x5cc455;openSheet(_0x2d6bc2(0x16e));}function saveCoachSettings(){const _0x4febce=a2_0x5cc455,_0x4600d2=document['getElementById']('settingCancelWindow')[_0x4febce(0x154)];localStorage[_0x4febce(0x23a)](_0x4febce(0x1f2),_0x4600d2),console['log']('[Settings]\x20Cancel\x20window\x20set\x20to:',_0x4600d2),DataManager[_0x4febce(0x1ff)]('save_settings',{'settings':{'cancel_window':_0x4600d2}})[_0x4febce(0x270)](_0x1f03a3=>{const _0x1b14a9=_0x4febce;console[_0x1b14a9(0x1a9)](_0x1b14a9(0x251),_0x1f03a3),showToast(_0x1b14a9(0x182),![]);});}function loadCoachSettings(){const _0x181c97=a2_0x5cc455,_0x46ba42=localStorage['getItem'](_0x181c97(0x1f2));_0x46ba42&&(document['getElementById'](_0x181c97(0x230))[_0x181c97(0x154)]=_0x46ba42);}function openRangesSheet(){closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet('rangesSheet');}function addRange(){const _0x2df777=a2_0x5cc455,_0x48fdea=document[_0x2df777(0x250)](_0x2df777(0x1b7))[_0x2df777(0x154)],_0x39035d=document[_0x2df777(0x250)]('rangeStartTime')[_0x2df777(0x154)],_0x2c2eaf=document[_0x2df777(0x250)](_0x2df777(0x1e0))['value'],_0x4c9588=document[_0x2df777(0x250)]('rangeEndTime')[_0x2df777(0x154)];if(!_0x48fdea||!_0x39035d||!_0x2c2eaf||!_0x4c9588)return alert(_0x2df777(0x117));const _0x2ead61=_0x48fdea+'T'+_0x39035d,_0x470dbb=_0x2c2eaf+'T'+_0x4c9588;if(_0x2ead61>=_0x470dbb)return alert('–û—à–∏–±–∫–∞\x20–¥–∞—Ç');specialRanges[_0x2df777(0x244)]({'start':_0x2ead61,'end':_0x470dbb}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x2df777(0x1ea)](),DataManager[_0x2df777(0x1ff)](_0x2df777(0x1bf),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x4d1dd3){const _0x238a84=a2_0x5cc455;specialRanges['splice'](_0x4d1dd3,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x238a84(0x1ea)](),DataManager['fetchFromServer']('save_settings',{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x1f7873=a2_0x5cc455;document[_0x1f7873(0x250)]('rangeStartDate')[_0x1f7873(0x154)]='',document[_0x1f7873(0x250)](_0x1f7873(0x176))[_0x1f7873(0x154)]=_0x1f7873(0x16c),document[_0x1f7873(0x250)](_0x1f7873(0x1e0))[_0x1f7873(0x154)]='',document['getElementById']('rangeEndTime')['value']=_0x1f7873(0x198);}function renderRangesList(){const _0x1055b8=a2_0x5cc455,_0x1dc591=document[_0x1055b8(0x250)](_0x1055b8(0x157));_0x1dc591[_0x1055b8(0x22d)]='';if(!specialRanges['length']){_0x1dc591['innerHTML']=_0x1055b8(0x1d4);return;}specialRanges[_0x1055b8(0x1f4)]((_0x472e88,_0xbdcae5)=>{const _0x2549c9=_0x1055b8,_0x186efc=document['createElement'](_0x2549c9(0x247));_0x186efc[_0x2549c9(0x1f8)]=_0x2549c9(0x1dd);const _0x55f36a=_0x4d0003=>{const _0x407a9e=_0x2549c9,_0xd8b7de=new Date(_0x4d0003);return _0xd8b7de['getDate']()+'.'+String(_0xd8b7de[_0x407a9e(0x134)]()+0x1)['padStart'](0x2,'0')+'\x20'+String(_0xd8b7de[_0x407a9e(0x1c0)]())['padStart'](0x2,'0')+':'+String(_0xd8b7de[_0x407a9e(0x1d3)]())[_0x407a9e(0x1c2)](0x2,'0');};_0x186efc[_0x2549c9(0x22d)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>'+_0x55f36a(_0x472e88[_0x2549c9(0x141)])+_0x2549c9(0x1a2)+_0x55f36a(_0x472e88[_0x2549c9(0x155)])+_0x2549c9(0x1ee)+_0xbdcae5+_0x2549c9(0x277),_0x1dc591[_0x2549c9(0x11f)](_0x186efc);});}function scrollToToday(){const _0x3702a7=a2_0x5cc455,_0x55f58e=getLocalDateStr(new Date()),_0xddf11c=document[_0x3702a7(0x250)]('header-'+_0x55f58e),_0x358937=document[_0x3702a7(0x250)](_0x3702a7(0x290));if(_0xddf11c&&_0x358937){const _0x33f754=_0x358937[_0x3702a7(0x217)],_0x2b4189=_0xddf11c[_0x3702a7(0x194)],_0x4a2527=_0xddf11c[_0x3702a7(0x180)];_0x358937[_0x3702a7(0x1f1)]=_0x2b4189-_0x33f754/0x2+_0x4a2527/0x2,_0x358937[_0x3702a7(0x234)]=0x9*GRID_H;}}function onScroll(){const _0x5e0c2a=a2_0x5cc455,_0x4a6fcf=document[_0x5e0c2a(0x250)]('matrixViewport'),_0x912d9=document['querySelectorAll'](_0x5e0c2a(0x18a));for(let _0x2fa26b of _0x912d9)if(_0x2fa26b['offsetLeft']>=_0x4a6fcf[_0x5e0c2a(0x1f1)]){const _0x19997c=new Date(_0x2fa26b['getAttribute'](_0x5e0c2a(0x205)));document[_0x5e0c2a(0x250)](_0x5e0c2a(0x259))[_0x5e0c2a(0x13d)]=_0x19997c['toLocaleString']('ru',{'month':'long'})[_0x5e0c2a(0x184)]()+'\x20'+_0x19997c[_0x5e0c2a(0x19f)]();break;}}function showToast(_0x9028fe,_0x624985=![]){const _0x4c9243=a2_0x5cc455,_0x27dbfd=document[_0x4c9243(0x250)](_0x4c9243(0x146));_0x27dbfd[_0x4c9243(0x1f8)]=_0x4c9243(0x27d)+(_0x624985?'success':''),document[_0x4c9243(0x250)]('toastTitle')[_0x4c9243(0x13d)]=_0x624985?_0x4c9243(0x23d):_0x4c9243(0x18f),document[_0x4c9243(0x250)](_0x4c9243(0x1fa))[_0x4c9243(0x13d)]=_0x9028fe,_0x27dbfd[_0x4c9243(0x25d)][_0x4c9243(0x1b6)](_0x4c9243(0x248)),setTimeout(()=>{const _0x1cfc1f=_0x4c9243;_0x27dbfd['classList'][_0x1cfc1f(0x1f6)]('show');},0xbb8);}function openDayOptions(_0xaf1e06,_0x4e34ed){const _0x1aa866=a2_0x5cc455;selectedDayForOptions=_0xaf1e06,document[_0x1aa866(0x250)](_0x1aa866(0x245))[_0x1aa866(0x13d)]=_0x4e34ed,openSheet('dayOptionsSheet');}function toggleDayOff(){const _0x1359c6=a2_0x5cc455;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x1359c6(0x12f),reRenderBlocks(),closeAllSheets(),DataManager[_0x1359c6(0x1ea)](),DataManager[_0x1359c6(0x1ff)](_0x1359c6(0x1bf),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x284fd0=a2_0x5cc455;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager[_0x284fd0(0x1ff)](_0x284fd0(0x1bf),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x5731e2){const _0x1238eb=a2_0x5cc455;document[_0x1238eb(0x250)](_0x1238eb(0x1d1))['classList'][_0x1238eb(0x1b6)](_0x1238eb(0x189)),document[_0x1238eb(0x250)](_0x5731e2)[_0x1238eb(0x25d)][_0x1238eb(0x1b6)](_0x1238eb(0x123));}function closeAllSheets(){const _0xb12e45=a2_0x5cc455;document[_0xb12e45(0x250)](_0xb12e45(0x1d1))['classList'][_0xb12e45(0x1f6)]('active'),document['querySelectorAll']('.sheet')[_0xb12e45(0x1f4)](_0x1849a4=>_0x1849a4[_0xb12e45(0x25d)][_0xb12e45(0x1f6)](_0xb12e45(0x123)));}function openPatternEditor(){const _0x3c2e09=a2_0x5cc455;closeAllSheets(),document[_0x3c2e09(0x250)](_0x3c2e09(0x208))[_0x3c2e09(0x25d)][_0x3c2e09(0x1b6)](_0x3c2e09(0x123)),renderPatternEditor();}function closePatternEditor(){const _0x27c206=a2_0x5cc455;document['getElementById'](_0x27c206(0x208))['classList'][_0x27c206(0x1f6)](_0x27c206(0x123));}function savePattern(){const _0xe07775=a2_0x5cc455;document[_0xe07775(0x250)](_0xe07775(0x208))[_0xe07775(0x25d)][_0xe07775(0x1f6)](_0xe07775(0x123)),reRenderBlocks(),DataManager[_0xe07775(0x1ea)](),DataManager[_0xe07775(0x1ff)](_0xe07775(0x1bf),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x221ccc=a2_0x5cc455,_0x40feb6=document[_0x221ccc(0x250)](_0x221ccc(0x212));_0x40feb6['innerHTML']='';const _0x360525=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x533bbc=document['createElement'](_0x221ccc(0x247));_0x533bbc[_0x221ccc(0x1f8)]='pe-corner',_0x40feb6['appendChild'](_0x533bbc),_0x360525[_0x221ccc(0x1f4)]((_0x1fa536,_0x3e3adf)=>{const _0x150779=_0x221ccc,_0x9dd8b8=document['createElement']('div');_0x9dd8b8[_0x150779(0x1f8)]=_0x150779(0x239),_0x9dd8b8[_0x150779(0x22d)]=_0x1fa536+_0x150779(0x1be),_0x9dd8b8['onclick']=()=>toggleColPattern(_0x3e3adf),_0x40feb6[_0x150779(0x11f)](_0x9dd8b8);});for(let _0x16c834=0x0;_0x16c834<0x18;_0x16c834++){const _0x2bcb3f=document[_0x221ccc(0x1c7)]('div');_0x2bcb3f['className']=_0x221ccc(0x150),_0x2bcb3f[_0x221ccc(0x22d)]=_0x221ccc(0x1c1)+String(_0x16c834)[_0x221ccc(0x1c2)](0x2,'0')+':00',_0x2bcb3f[_0x221ccc(0x288)]=()=>toggleRowPattern(_0x16c834),_0x40feb6['appendChild'](_0x2bcb3f);for(let _0x525f8f=0x0;_0x525f8f<0x7;_0x525f8f++){const _0x336e8f=document['createElement']('div'),_0x3ff52f=(availabilityPattern[_0x525f8f]||[])['includes'](_0x16c834),_0x441ead=!_0x3ff52f;_0x336e8f[_0x221ccc(0x1f8)]=_0x221ccc(0x12b)+(_0x441ead?'active':''),_0x336e8f[_0x221ccc(0x288)]=()=>toggleSinglePattern(_0x525f8f,_0x16c834),_0x40feb6[_0x221ccc(0x11f)](_0x336e8f);}}}function toggleSinglePattern(_0x393868,_0x331be3){const _0x173575=a2_0x5cc455;if(!availabilityPattern[_0x393868])availabilityPattern[_0x393868]=[];const _0x568bc5=availabilityPattern[_0x393868],_0x37939e=_0x568bc5[_0x173575(0x1cd)](_0x331be3);_0x37939e===-0x1?_0x568bc5[_0x173575(0x244)](_0x331be3):_0x568bc5['splice'](_0x37939e,0x1),renderPatternEditor();}function toggleColPattern(_0x1f1906){const _0x9de3ee=a2_0x5cc455;if(!availabilityPattern[_0x1f1906])availabilityPattern[_0x1f1906]=[];const _0x14046d=availabilityPattern[_0x1f1906];_0x14046d[_0x9de3ee(0x1cc)]===0x0?availabilityPattern[_0x1f1906]=Array[_0x9de3ee(0x122)]({'length':0x18},(_0x58d6f2,_0x3a2c4d)=>_0x3a2c4d):availabilityPattern[_0x1f1906]=[],renderPatternEditor();}function a2_0x4949(_0x51e4bb,_0xfdd954){_0x51e4bb=_0x51e4bb-0x117;const _0x4cfb86=a2_0x62d9();let _0x2f1bd7=_0x4cfb86[_0x51e4bb];return _0x2f1bd7;}function toggleRowPattern(_0x5d6001){const _0x216135=a2_0x5cc455;let _0x195c94=!![];for(let _0xae170f=0x0;_0xae170f<0x7;_0xae170f++){if((availabilityPattern[_0xae170f]||[])['includes'](_0x5d6001)){_0x195c94=![];break;}}for(let _0x53106b=0x0;_0x53106b<0x7;_0x53106b++){if(!availabilityPattern[_0x53106b])availabilityPattern[_0x53106b]=[];const _0x352365=availabilityPattern[_0x53106b][_0x216135(0x1cd)](_0x5d6001);if(_0x195c94){if(_0x352365===-0x1)availabilityPattern[_0x53106b][_0x216135(0x244)](_0x5d6001);}else{if(_0x352365!==-0x1)availabilityPattern[_0x53106b][_0x216135(0x293)](_0x352365,0x1);}}renderPatternEditor();}function renderPCol(_0x4058bc,_0xf7ec48){const _0x53a0ae=a2_0x5cc455;_0x4058bc['innerHTML']='';const _0x189a9e=Math['round'](_0x4058bc[_0x53a0ae(0x194)]);(availabilityPattern[_0xf7ec48]||[])['forEach'](_0x283dc3=>{const _0x14922e=_0x53a0ae,_0x522d22=document[_0x14922e(0x1c7)](_0x14922e(0x247));_0x522d22['className']=_0x14922e(0x11a);const _0x13185f=_0x283dc3*GRID_H;_0x522d22[_0x14922e(0x185)]['top']=_0x13185f+'px',_0x522d22[_0x14922e(0x185)][_0x14922e(0x206)]='-'+_0x189a9e+'px\x20-'+_0x13185f+'px',_0x522d22['onclick']=_0x1c2b21=>{const _0x105db5=_0x14922e;_0x1c2b21[_0x105db5(0x1c8)](),toggleSinglePattern(_0xf7ec48,_0x283dc3);},_0x4058bc['appendChild'](_0x522d22);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x14d6cd=a2_0x5cc455,_0x596427=new Date(),_0x3c5b5e=document[_0x14d6cd(0x250)](_0x14d6cd(0x1c4)),_0x436c4f=document[_0x14d6cd(0x250)]('timeLineBadge'),_0x127f11=(_0x596427['getHours']()*0x3c+_0x596427[_0x14d6cd(0x1d3)]())/0x3c*GRID_H;_0x3c5b5e[_0x14d6cd(0x185)][_0x14d6cd(0x223)]=_0x127f11+'px',_0x3c5b5e[_0x14d6cd(0x185)][_0x14d6cd(0x1ab)]=_0x14d6cd(0x268),_0x436c4f[_0x14d6cd(0x13d)]=String(_0x596427['getHours']())[_0x14d6cd(0x1c2)](0x2,'0')+':'+String(_0x596427[_0x14d6cd(0x1d3)]())[_0x14d6cd(0x1c2)](0x2,'0'),_0x436c4f['style']['display']=_0x14d6cd(0x268),_0x436c4f[_0x14d6cd(0x185)]['top']=_0x127f11+'px';}document[a2_0x5cc455(0x266)](a2_0x5cc455(0x1a1),init);function openDayOptions(_0x150c52){const _0x280358=a2_0x5cc455;selectedDayForOptions=_0x150c52;const _0x26c40b=new Date(_0x150c52),_0x5b351f={'weekday':'long','day':_0x280358(0x163),'month':_0x280358(0x19b),'year':_0x280358(0x163)},_0x1d7fa6=_0x26c40b[_0x280358(0x1cf)](_0x280358(0x127),_0x5b351f);document['getElementById']('doDateHeader')[_0x280358(0x13d)]=_0x1d7fa6[_0x280358(0x1a3)](0x0)[_0x280358(0x184)]()+_0x1d7fa6['slice'](0x1);let _0xc2c323=_0x26c40b[_0x280358(0x209)]()-0x1;if(_0xc2c323===-0x1)_0xc2c323=0x6;const _0xd37cfc=availabilityPattern[_0xc2c323]||[],_0x10254a=0x18-_0xd37cfc[_0x280358(0x1cc)],_0x55528d=_0x10254a*0x3c,_0x5d5771=sessions[_0x280358(0x14f)](_0x34beb7=>_0x34beb7[_0x280358(0x169)]===_0x150c52&&_0x34beb7['status']!==_0x280358(0x138));let _0x15e40b=_0x5d5771['map'](_0x36303f=>{const _0x1ef26f=_0x280358,[_0x5a9524,_0x93fed8]=_0x36303f[_0x1ef26f(0x141)][_0x1ef26f(0x196)](':')[_0x1ef26f(0x153)](Number),[_0x1f4743,_0x43f245]=_0x36303f[_0x1ef26f(0x155)]['split'](':')[_0x1ef26f(0x153)](Number);return[_0x5a9524*0x3c+_0x93fed8,_0x1f4743*0x3c+_0x43f245];});_0x15e40b[_0x280358(0x275)]((_0x38c47d,_0x221356)=>_0x38c47d[0x0]-_0x221356[0x0]);let _0x4e4f01=[];if(_0x15e40b[_0x280358(0x1cc)]>0x0){let _0x2e4873=_0x15e40b[0x0];for(let _0x2c1d52=0x1;_0x2c1d52<_0x15e40b[_0x280358(0x1cc)];_0x2c1d52++){_0x15e40b[_0x2c1d52][0x0]<_0x2e4873[0x1]?_0x2e4873[0x1]=Math[_0x280358(0x17b)](_0x2e4873[0x1],_0x15e40b[_0x2c1d52][0x1]):(_0x4e4f01[_0x280358(0x244)](_0x2e4873),_0x2e4873=_0x15e40b[_0x2c1d52]);}_0x4e4f01[_0x280358(0x244)](_0x2e4873);}let _0x3d3f91=0x0;_0x4e4f01[_0x280358(0x1f4)](_0x47f41e=>_0x3d3f91+=_0x47f41e[0x1]-_0x47f41e[0x0]),document[_0x280358(0x250)](_0x280358(0x24b))['textContent']=formatMinsToHrs(_0x55528d),document['getElementById'](_0x280358(0x278))[_0x280358(0x13d)]=formatMinsToHrs(_0x3d3f91);const _0x3cd94a=_0x55528d>0x0?Math[_0x280358(0x1bb)](_0x3d3f91/_0x55528d*0x64):0x0,_0x5e912b=document['getElementById']('doLoadPercent');_0x5e912b['textContent']=_0x3cd94a+'%';const _0x3f9fb3=document[_0x280358(0x250)](_0x280358(0x126));if(_0x3cd94a>0x64)_0x5e912b['style'][_0x280358(0x15c)]=_0x280358(0x17d),_0x3f9fb3[_0x280358(0x185)]['borderColor']='rgba(255,\x2069,\x2058,\x200.3)';else _0x3cd94a>0x50?(_0x5e912b[_0x280358(0x185)][_0x280358(0x15c)]=_0x280358(0x1e8),_0x3f9fb3[_0x280358(0x185)][_0x280358(0x14c)]='rgba(255,\x20159,\x2010,\x200.3)'):(_0x5e912b[_0x280358(0x185)][_0x280358(0x15c)]=_0x280358(0x287),_0x3f9fb3[_0x280358(0x185)]['borderColor']=_0x280358(0x219));const _0x1676d8=document[_0x280358(0x250)]('doEventsList');_0x1676d8[_0x280358(0x22d)]='';_0x5d5771['length']===0x0?_0x1676d8['innerHTML']='<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>':(_0x5d5771['sort']((_0x173a15,_0xb0ebee)=>_0x173a15[_0x280358(0x141)][_0x280358(0x24a)](_0xb0ebee[_0x280358(0x141)])),_0x5d5771[_0x280358(0x1f4)](_0x52bf29=>{const _0x2994de=_0x280358,_0x424351=clients[_0x2994de(0x211)](_0x20e2f5=>_0x20e2f5[_0x2994de(0x203)]===_0x52bf29[_0x2994de(0x1b9)]),_0x1b5b6a=_0x424351?_0x424351['color']:_0x2994de(0x191),_0x318198=_0x52bf29[_0x2994de(0x201)]===_0x2994de(0x237),_0x1d2cb7=_0x318198?_0x2994de(0x281):'',_0x125a0c=document['createElement']('div');_0x125a0c[_0x2994de(0x1f8)]=_0x2994de(0x236),_0x125a0c[_0x2994de(0x185)][_0x2994de(0x1f3)]=_0x1b5b6a,_0x125a0c[_0x2994de(0x22d)]=_0x2994de(0x227)+_0x52bf29[_0x2994de(0x141)]+_0x2994de(0x179)+_0x52bf29[_0x2994de(0x155)]+_0x2994de(0x22c)+_0x52bf29[_0x2994de(0x1b9)]+_0x2994de(0x28e)+_0x1d2cb7+_0x2994de(0x225),_0x1676d8[_0x2994de(0x11f)](_0x125a0c);}));const _0x5b9bc2=document[_0x280358(0x250)]('btnDayToggle'),_0x3f3fd8=dateExceptions[_0x150c52]===_0x280358(0x12f);_0x3f3fd8?(_0x5b9bc2[_0x280358(0x13d)]='–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º',_0x5b9bc2[_0x280358(0x1f8)]=_0x280358(0x197),_0x5b9bc2['style'][_0x280358(0x15c)]='var(--acc-green)',_0x5b9bc2['style'][_0x280358(0x282)]=_0x280358(0x283)):(_0x5b9bc2['textContent']=_0x280358(0x19c),_0x5b9bc2[_0x280358(0x1f8)]=_0x280358(0x151),_0x5b9bc2[_0x280358(0x185)][_0x280358(0x15c)]=_0x280358(0x17d),_0x5b9bc2[_0x280358(0x185)]['background']=_0x280358(0x1da)),openSheet(_0x280358(0x13a));}let currentAnPeriod=a2_0x5cc455(0x11b);function openAnalytics(){const _0x94de11=a2_0x5cc455,_0xcc3229=document[_0x94de11(0x24d)](_0x94de11(0x294));setAnalyticsPeriod('week',_0xcc3229),closeAllSheets(),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x7040f2,_0x545549){const _0x473811=a2_0x5cc455;currentAnPeriod=_0x7040f2,document[_0x473811(0x256)](_0x473811(0x294))[_0x473811(0x1f4)](_0x15c6f6=>_0x15c6f6[_0x473811(0x25d)][_0x473811(0x1f6)]('active'));if(_0x545549)_0x545549[_0x473811(0x25d)][_0x473811(0x1b6)](_0x473811(0x189));const _0x3b0f4d=document[_0x473811(0x250)](_0x473811(0x16f));_0x3b0f4d[_0x473811(0x185)]['display']=_0x7040f2===_0x473811(0x1fe)?'flex':_0x473811(0x15f);const _0x184a33=new Date();let _0x1d8281=new Date(),_0x48f73e=new Date();if(_0x7040f2==='week')_0x1d8281=getStartOfWeek(_0x184a33),_0x48f73e=new Date(_0x1d8281),_0x48f73e[_0x473811(0x228)](_0x48f73e[_0x473811(0x158)]()+0x6);else{if(_0x7040f2===_0x473811(0x1ed))_0x1d8281=new Date(_0x184a33[_0x473811(0x19f)](),_0x184a33['getMonth'](),0x1),_0x48f73e=new Date(_0x184a33[_0x473811(0x19f)](),_0x184a33[_0x473811(0x134)]()+0x1,0x0);else{!document[_0x473811(0x250)](_0x473811(0x246))[_0x473811(0x154)]&&(document[_0x473811(0x250)]('anStart')[_0x473811(0x154)]=getLocalDateStr(_0x184a33),document['getElementById'](_0x473811(0x1cb))[_0x473811(0x154)]=getLocalDateStr(_0x184a33));refreshAnalytics();return;}}document[_0x473811(0x250)]('anStart')[_0x473811(0x154)]=getLocalDateStr(_0x1d8281),document['getElementById'](_0x473811(0x1cb))[_0x473811(0x154)]=getLocalDateStr(_0x48f73e),refreshAnalytics();}function refreshAnalytics(){const _0x13c49b=a2_0x5cc455,_0x293267=document[_0x13c49b(0x250)]('anStart')[_0x13c49b(0x154)],_0x584c71=document['getElementById']('anEnd')[_0x13c49b(0x154)];if(!_0x293267||!_0x584c71)return;const _0x1fdd3a=sessions['filter'](_0x13e3c8=>_0x13e3c8[_0x13c49b(0x169)]>=_0x293267&&_0x13e3c8[_0x13c49b(0x169)]<=_0x584c71&&_0x13e3c8['status']!=='cancelled'),_0x322fe2=_0x1fdd3a[_0x13c49b(0x1cc)],_0x30d635=_0x1fdd3a[_0x13c49b(0x14f)](_0x3f5751=>_0x3f5751[_0x13c49b(0x201)]===_0x13c49b(0x237))['length'],_0x4c1420=_0x322fe2>0x0?Math[_0x13c49b(0x1bb)](_0x30d635/_0x322fe2*0x64):0x0;document[_0x13c49b(0x250)]('anPercent')[_0x13c49b(0x13d)]=_0x4c1420+'%',document[_0x13c49b(0x250)](_0x13c49b(0x147))['textContent']=_0x30d635+'\x20–∏–∑\x20'+_0x322fe2+_0x13c49b(0x12c);const _0x2c8b54=document['getElementById'](_0x13c49b(0x1ca)),_0x57b078=0x2*Math['PI']*0x23,_0x3fd3b3=_0x57b078-_0x4c1420/0x64*_0x57b078;_0x2c8b54[_0x13c49b(0x185)][_0x13c49b(0x265)]=_0x3fd3b3;const _0x19f048={};_0x1fdd3a[_0x13c49b(0x1f4)](_0x2e4060=>{const _0x254ae1=_0x13c49b;if(!_0x19f048[_0x2e4060[_0x254ae1(0x1b9)]]){const _0x26becb=clients['find'](_0x591f63=>_0x591f63[_0x254ae1(0x203)]===_0x2e4060['client']);_0x19f048[_0x2e4060[_0x254ae1(0x1b9)]]={'total':0x0,'done':0x0,'color':_0x26becb?_0x26becb[_0x254ae1(0x15c)]:_0x254ae1(0x191)};}_0x19f048[_0x2e4060[_0x254ae1(0x1b9)]][_0x254ae1(0x218)]++;if(_0x2e4060[_0x254ae1(0x201)]===_0x254ae1(0x237))_0x19f048[_0x2e4060[_0x254ae1(0x1b9)]][_0x254ae1(0x128)]++;});const _0x5b7892=document[_0x13c49b(0x250)](_0x13c49b(0x1fc));_0x5b7892[_0x13c49b(0x22d)]='';const _0x28e440=Object[_0x13c49b(0x1c9)](_0x19f048)[_0x13c49b(0x275)]((_0x16d2a6,_0x3af2a3)=>_0x3af2a3[0x1][_0x13c49b(0x218)]-_0x16d2a6[0x1][_0x13c49b(0x218)]);if(_0x28e440[_0x13c49b(0x1cc)]===0x0){_0x5b7892[_0x13c49b(0x22d)]=_0x13c49b(0x1e3);return;}_0x28e440[_0x13c49b(0x1f4)](([_0x85c701,_0x48eb7a])=>{const _0x389f7b=_0x13c49b,_0x1db82a=Math['round'](_0x48eb7a[_0x389f7b(0x128)]/_0x48eb7a[_0x389f7b(0x218)]*0x64),_0x5c976a=document['createElement'](_0x389f7b(0x247));_0x5c976a[_0x389f7b(0x1f8)]=_0x389f7b(0x28b),_0x5c976a[_0x389f7b(0x185)]['borderLeftColor']=_0x48eb7a['color'],_0x5c976a[_0x389f7b(0x22d)]=_0x389f7b(0x188)+_0x85c701+_0x389f7b(0x27e)+_0x48eb7a[_0x389f7b(0x128)]+_0x389f7b(0x1d6)+_0x48eb7a['total']+_0x389f7b(0x291)+_0x1db82a+_0x389f7b(0x144),_0x5b7892[_0x389f7b(0x11f)](_0x5c976a);});}function formatMinsToHrs(_0x461279){const _0x155a63=a2_0x5cc455;if(_0x461279===0x0)return'0';const _0x5982da=Math[_0x155a63(0x12e)](_0x461279/0x3c),_0x94e846=_0x461279%0x3c;if(_0x94e846===0x0)return _0x5982da+'—á';return _0x5982da+'—á\x20'+_0x94e846+'–º';}