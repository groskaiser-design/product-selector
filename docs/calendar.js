const a2_0x3d56d5=a2_0x4153;(function(_0x2ef482,_0x2ef3b2){const _0x497732=a2_0x4153,_0x4fd663=_0x2ef482();while(!![]){try{const _0x20a193=parseInt(_0x497732(0x156))/0x1*(-parseInt(_0x497732(0x299))/0x2)+parseInt(_0x497732(0x213))/0x3*(parseInt(_0x497732(0x1de))/0x4)+parseInt(_0x497732(0x23a))/0x5*(parseInt(_0x497732(0x1ee))/0x6)+parseInt(_0x497732(0x185))/0x7+-parseInt(_0x497732(0x21b))/0x8*(parseInt(_0x497732(0x28c))/0x9)+-parseInt(_0x497732(0x255))/0xa*(-parseInt(_0x497732(0x2b6))/0xb)+parseInt(_0x497732(0x272))/0xc*(parseInt(_0x497732(0x1b0))/0xd);if(_0x20a193===_0x2ef3b2)break;else _0x4fd663['push'](_0x4fd663['shift']());}catch(_0x1b8c25){_0x4fd663['push'](_0x4fd663['shift']());}}}(a2_0x80ae,0x3dc9d),function initTMA(){const _0x2050cd=a2_0x4153,_0x2410d7=(function(){let _0x5f4b8c=!![];return function(_0x2927a2,_0x1b4286){const _0x1b9a9e=_0x5f4b8c?function(){if(_0x1b4286){const _0x4ead87=_0x1b4286['apply'](_0x2927a2,arguments);return _0x1b4286=null,_0x4ead87;}}:function(){};return _0x5f4b8c=![],_0x1b9a9e;};}()),_0x5b76dc=_0x2410d7(this,function(){const _0x121ddf=a2_0x4153;return _0x5b76dc['toString']()[_0x121ddf(0x19e)](_0x121ddf(0x270))['toString']()['constructor'](_0x5b76dc)['search'](_0x121ddf(0x270));});_0x5b76dc();try{const _0x91994e=window['Telegram']?.[_0x2050cd(0x1e3)];if(!_0x91994e)return;_0x91994e[_0x2050cd(0x186)](),_0x91994e[_0x2050cd(0x1b5)]();try{_0x91994e['setHeaderColor']('#050505'),_0x91994e[_0x2050cd(0x1fc)]&&_0x91994e[_0x2050cd(0x1fc)](_0x2050cd(0x19b));}catch(_0x2e3013){console[_0x2050cd(0x249)]('Error\x20setting\x20color:',_0x2e3013);}try{_0x91994e[_0x2050cd(0x246)]&&(_0x91994e[_0x2050cd(0x246)][_0x2050cd(0x2a6)](),_0x91994e[_0x2050cd(0x246)]['offClick'](),_0x91994e[_0x2050cd(0x246)][_0x2050cd(0x290)](function(){const _0x354493=_0x2050cd;window['location']['href']=_0x354493(0x28f);}));}catch(_0x1f4d22){console['log']('Error\x20setting\x20back\x20button:',_0x1f4d22);}try{if(_0x91994e[_0x2050cd(0x251)])_0x91994e['disableVerticalSwipes']();}catch(_0x217de1){}}catch(_0xf1dca6){console[_0x2050cd(0x1ff)](_0x2050cd(0x244),_0xf1dca6);}}());function isAdmin(){const _0x18cd04=a2_0x4153;try{const _0x414da7=Number(window[_0x18cd04(0x217)]?.[_0x18cd04(0x1e3)]?.[_0x18cd04(0x2ba)]?.[_0x18cd04(0x2c3)]?.['id']);return _0x414da7===0xbaf7174;}catch(_0x559bf2){return![];}}const APP_VERSION=a2_0x3d56d5(0x15d),API_URL=a2_0x3d56d5(0x15c),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS='uc_clients_v9',KEY_SESSIONS=a2_0x3d56d5(0x1ba),KEY_SETTINGS=a2_0x3d56d5(0x158);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x327caf=a2_0x3d56d5;return window[_0x327caf(0x217)]?.[_0x327caf(0x1e3)]?.['initDataUnsafe']?.['user']?.['id']||'guest';},'saveLocally'(){const _0x524169=a2_0x3d56d5;try{localStorage[_0x524169(0x15e)](KEY_CLIENTS,JSON['stringify'](clients)),localStorage['setItem'](KEY_SESSIONS,JSON['stringify'](sessions)),localStorage[_0x524169(0x15e)](KEY_SETTINGS,JSON[_0x524169(0x187)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x18cba7){console[_0x524169(0x1ff)]('Local\x20Save\x20Error',_0x18cba7);}},'loadLocal'(){const _0x28adb6=a2_0x3d56d5;try{const _0x877486=localStorage[_0x28adb6(0x279)](KEY_CLIENTS);if(_0x877486)clients=JSON['parse'](_0x877486);const _0x4548a4=localStorage[_0x28adb6(0x279)](KEY_SESSIONS);if(_0x4548a4)sessions=JSON[_0x28adb6(0x28e)](_0x4548a4);const _0x4d371d=localStorage[_0x28adb6(0x279)](KEY_SETTINGS);if(_0x4d371d){const _0x122551=JSON[_0x28adb6(0x28e)](_0x4d371d);if(_0x122551[_0x28adb6(0x242)])availabilityPattern=_0x122551[_0x28adb6(0x242)];if(_0x122551['exceptions'])dateExceptions=_0x122551['exceptions'];if(_0x122551[_0x28adb6(0x229)])specialRanges=_0x122551[_0x28adb6(0x229)];}else{for(let _0x5bf43b=0x0;_0x5bf43b<0x7;_0x5bf43b++)availabilityPattern[_0x5bf43b]=Array[_0x28adb6(0x245)]({'length':0xc},(_0x2d8763,_0x1bdf38)=>_0x1bdf38+0x9);}}catch(_0xe4b4f1){console[_0x28adb6(0x1ff)]('Local\x20Load\x20Error',_0xe4b4f1);}},async 'fetchFromServer'(_0x10a468,_0x53676f={}){const _0x221c27=a2_0x3d56d5,_0x26d501=window[_0x221c27(0x217)]?.[_0x221c27(0x1e3)],_0x4cd54={'action':_0x10a468,'init_data':_0x26d501?.[_0x221c27(0x1c3)]||'',..._0x53676f};try{const _0x7da0fa=await fetch(API_URL,{'method':_0x221c27(0x2a1),'headers':{'Content-Type':_0x221c27(0x223)},'body':JSON[_0x221c27(0x187)](_0x4cd54)}),_0x5461fa=await _0x7da0fa[_0x221c27(0x1e1)]();if(!_0x5461fa['ok'])throw new Error(_0x5461fa[_0x221c27(0x1ff)]||_0x221c27(0x231));return _0x5461fa[_0x221c27(0x21c)];}catch(_0x333ccc){console['error'](_0x221c27(0x237)+_0x10a468+_0x221c27(0x24b),_0x333ccc);throw _0x333ccc;}},async 'syncLoad'(){const _0x34842a=a2_0x3d56d5,_0x56c8b5=new Date(),_0x234c78=_0x56c8b5[_0x34842a(0x1ec)]()+'-'+String(_0x56c8b5[_0x34842a(0x283)]()+0x1)[_0x34842a(0x2a9)](0x2,'0'),_0x2268ef=new Date(_0x56c8b5);_0x2268ef['setMonth'](_0x56c8b5['getMonth']()+0x1);const _0x20036f=_0x2268ef[_0x34842a(0x1ec)]()+'-'+String(_0x2268ef[_0x34842a(0x283)]()+0x1)[_0x34842a(0x2a9)](0x2,'0'),_0x49c21b=Date[_0x34842a(0x17b)]();console[_0x34842a(0x249)]('[Sync]\x20Loading\x20'+_0x234c78+',\x20'+_0x20036f+_0x34842a(0x1a7));try{const [_0x2ef3d0,_0xd39302]=await Promise[_0x34842a(0x21f)]([this[_0x34842a(0x1e8)](_0x34842a(0x2b0),{'month_str':_0x234c78}),this[_0x34842a(0x1e8)](_0x34842a(0x2b0),{'month_str':_0x20036f})]);if(lastUserActionTime>_0x49c21b)return console['warn'](_0x34842a(0x18b)),![];return this['mergeServerData'](_0x2ef3d0,_0x234c78),this[_0x34842a(0x216)](_0xd39302,_0x20036f),this['saveLocally'](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x5c0d5a){console['error'](_0x5c0d5a);throw _0x5c0d5a;}},'mergeServerData'(_0x5c522c,_0x13c511){const _0x16d49c=a2_0x3d56d5;if(!_0x5c522c)return;_0x5c522c[_0x16d49c(0x1e5)]&&Array[_0x16d49c(0x2c0)](_0x5c522c['clients'])&&(clients=_0x5c522c[_0x16d49c(0x1e5)]);if(_0x5c522c[_0x16d49c(0x1f8)]){if(_0x5c522c[_0x16d49c(0x1f8)][_0x16d49c(0x242)])availabilityPattern=_0x5c522c[_0x16d49c(0x1f8)][_0x16d49c(0x242)];if(_0x5c522c[_0x16d49c(0x1f8)][_0x16d49c(0x2be)])dateExceptions=_0x5c522c[_0x16d49c(0x1f8)][_0x16d49c(0x2be)];if(_0x5c522c[_0x16d49c(0x1f8)][_0x16d49c(0x229)])specialRanges=_0x5c522c[_0x16d49c(0x1f8)][_0x16d49c(0x229)];if(_0x5c522c[_0x16d49c(0x1f8)][_0x16d49c(0x1d9)]){localStorage['setItem'](_0x16d49c(0x285),_0x5c522c[_0x16d49c(0x1f8)]['cancel_window']);const _0x4031bf=document['getElementById'](_0x16d49c(0x201));if(_0x4031bf)_0x4031bf[_0x16d49c(0x26c)]=_0x5c522c[_0x16d49c(0x1f8)][_0x16d49c(0x1d9)];}}_0x5c522c[_0x16d49c(0x1d8)]&&(sessions=sessions[_0x16d49c(0x29f)](_0x512640=>!_0x512640[_0x16d49c(0x2ce)][_0x16d49c(0x1b4)](_0x13c511)),Object[_0x16d49c(0x172)](_0x5c522c[_0x16d49c(0x1d8)])['forEach'](_0x45588a=>{const _0x575269=_0x16d49c,_0x13a3a3=_0x5c522c[_0x575269(0x1d8)][_0x45588a];_0x13a3a3[_0x575269(0x234)](_0x51dc83=>{const _0x2d72ef=_0x575269,_0x182700=clients[_0x2d72ef(0x25e)](_0x1720eb=>String(_0x1720eb['id'])===String(_0x51dc83['c']));sessions[_0x2d72ef(0x26d)]({'id':_0x51dc83['i'],'clientId':_0x51dc83['c'],'client':_0x182700?_0x182700[_0x2d72ef(0x24f)]:_0x2d72ef(0x26a),'dateStr':_0x13c511+'-'+_0x45588a[_0x2d72ef(0x2a9)](0x2,'0'),'start':_0x51dc83['s'],'end':_0x51dc83['e'],'status':_0x51dc83['st']||_0x2d72ef(0x22f),'note':_0x51dc83['n']||'','seriesId':_0x51dc83[_0x2d72ef(0x28b)]||null});});}));},async 'syncBatch'(_0xa88854){const _0x4b40fd=a2_0x3d56d5,_0x57f018=[...new Set(_0xa88854)],_0x3176ae=_0x57f018[_0x4b40fd(0x273)](_0x1e32e0=>{const _0x1b8b76=_0x4b40fd,_0x4753a6=sessions[_0x1b8b76(0x29f)](_0x680503=>_0x680503[_0x1b8b76(0x2ce)]===_0x1e32e0&&_0x680503[_0x1b8b76(0x176)]!==_0x1b8b76(0x26e)),_0x284549=_0x4753a6[_0x1b8b76(0x273)](_0x2f0212=>({'i':_0x2f0212['id'],'c':_0x2f0212[_0x1b8b76(0x27f)],'s':_0x2f0212['start'],'e':_0x2f0212[_0x1b8b76(0x266)],'st':_0x2f0212[_0x1b8b76(0x176)],'n':_0x2f0212[_0x1b8b76(0x1be)],'sid':_0x2f0212[_0x1b8b76(0x2bc)]}));return{'date':_0x1e32e0,'day_data':_0x284549};});if(_0x3176ae[_0x4b40fd(0x1a8)]===0x0)return;console['log'](_0x4b40fd(0x181)+_0x3176ae[_0x4b40fd(0x1a8)]+'\x20days'),await this[_0x4b40fd(0x1e8)]('batch_sync',{'changes':_0x3176ae});}};async function init(){const _0x1f9b4a=a2_0x3d56d5;DataManager[_0x1f9b4a(0x1cd)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById']('matrixViewport')[_0x1f9b4a(0x26b)]('scroll',()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x1f9b4a(0x184)]()['then'](()=>{const _0x217cbd=_0x1f9b4a;showToast(_0x217cbd(0x2a7),!![]);})[_0x1f9b4a(0x1ea)](_0x502d09=>{const _0x173540=_0x1f9b4a;showToast(_0x173540(0x1eb),![]);});}function generateId(){const _0x32cb5b=a2_0x3d56d5;return Date['now']()[_0x32cb5b(0x1ad)](0x24)+Math['random']()[_0x32cb5b(0x1ad)](0x24)[_0x32cb5b(0x2b3)](0x2,0x5);}function toggleSeriesInput(){const _0x27017c=a2_0x3d56d5,_0x5e834a=document[_0x27017c(0x192)]('inpRecurring')['checked'],_0x5f395e=document[_0x27017c(0x192)](_0x27017c(0x2a0));_0x5f395e[_0x27017c(0x1a3)]['display']=_0x5e834a?_0x27017c(0x232):_0x27017c(0x2c5);const _0x7ca0a8=document['getElementById'](_0x27017c(0x2d0));_0x7ca0a8['style'][_0x27017c(0x2cf)]=_0x5e834a?_0x27017c(0x27a):_0x27017c(0x250);}function openAddSession(_0x44e0fc){const _0x299015=a2_0x3d56d5;editingId=null,populateClientSelect(),document[_0x299015(0x192)]('sheetTitle')['textContent']=_0x299015(0x260),document[_0x299015(0x192)]('btnDelete')[_0x299015(0x1a3)][_0x299015(0x1d6)]=_0x299015(0x2c5),document[_0x299015(0x192)](_0x299015(0x2b9))[_0x299015(0x1a3)][_0x299015(0x1d6)]='none';const _0x14b046=document[_0x299015(0x192)]('recurringOptionContainer'),_0x25b4bd=document[_0x299015(0x192)](_0x299015(0x2a0));_0x14b046[_0x299015(0x1a3)]['display']=_0x299015(0x23b),_0x14b046['style']['borderRadius']=_0x299015(0x250),document[_0x299015(0x192)](_0x299015(0x1f7))[_0x299015(0x1a1)]=![],document[_0x299015(0x192)]('inpSeriesCount')['value']=0x4,_0x25b4bd['style'][_0x299015(0x1d6)]=_0x299015(0x2c5),document[_0x299015(0x192)](_0x299015(0x24a))[_0x299015(0x26c)]=getLocalDateStr(_0x44e0fc),updateDateDisplay();const _0x1db611=_0x44e0fc[_0x299015(0x2bf)]();document[_0x299015(0x192)](_0x299015(0x16d))[_0x299015(0x26c)]=String(_0x1db611)[_0x299015(0x2a9)](0x2,'0')+_0x299015(0x2aa),document[_0x299015(0x192)](_0x299015(0x1f6))[_0x299015(0x26c)]=String(_0x1db611+0x1)['padStart'](0x2,'0')+_0x299015(0x2aa),openSheet(_0x299015(0x211));}function openEdit(_0x524d38){const _0x52c1b8=a2_0x3d56d5;editingId=_0x524d38['id'],populateClientSelect(),document[_0x52c1b8(0x192)](_0x52c1b8(0x160))['textContent']='–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å',document[_0x52c1b8(0x192)](_0x52c1b8(0x162))[_0x52c1b8(0x1a3)]['display']=_0x52c1b8(0x232);const _0x4bce0c=document[_0x52c1b8(0x192)](_0x52c1b8(0x2b9));_0x4bce0c[_0x52c1b8(0x1a3)][_0x52c1b8(0x1d6)]=_0x52c1b8(0x23b);_0x524d38['status']===_0x52c1b8(0x263)?(_0x4bce0c[_0x52c1b8(0x1ce)]=_0x52c1b8(0x19c),_0x4bce0c[_0x52c1b8(0x1f1)]=_0x52c1b8(0x1e4)):(_0x4bce0c[_0x52c1b8(0x1ce)]=_0x52c1b8(0x21e),_0x4bce0c[_0x52c1b8(0x1f1)]=_0x52c1b8(0x198));const _0x1d7f81=!!_0x524d38[_0x52c1b8(0x2bc)];document[_0x52c1b8(0x192)]('recurringOptionContainer')[_0x52c1b8(0x1a3)]['display']=_0x52c1b8(0x2c5),document[_0x52c1b8(0x192)](_0x52c1b8(0x2a0))[_0x52c1b8(0x1a3)][_0x52c1b8(0x1d6)]='none',_0x1d7f81?(document[_0x52c1b8(0x192)](_0x52c1b8(0x16b))['style'][_0x52c1b8(0x1d6)]='flex',document['getElementById'](_0x52c1b8(0x16b))[_0x52c1b8(0x268)](_0x52c1b8(0x230))[_0x52c1b8(0x276)]=_0x52c1b8(0x2b5)):document[_0x52c1b8(0x192)](_0x52c1b8(0x16b))['style'][_0x52c1b8(0x1d6)]=_0x52c1b8(0x2c5),document[_0x52c1b8(0x192)](_0x52c1b8(0x1f0))[_0x52c1b8(0x26c)]=_0x524d38[_0x52c1b8(0x214)],document[_0x52c1b8(0x192)](_0x52c1b8(0x24a))[_0x52c1b8(0x26c)]=_0x524d38['dateStr'],document['getElementById'](_0x52c1b8(0x16d))[_0x52c1b8(0x26c)]=_0x524d38[_0x52c1b8(0x206)],document[_0x52c1b8(0x192)](_0x52c1b8(0x1f6))['value']=_0x524d38[_0x52c1b8(0x266)],document[_0x52c1b8(0x192)](_0x52c1b8(0x262))[_0x52c1b8(0x26c)]=_0x524d38[_0x52c1b8(0x1be)]||'',updateDateDisplay(),openSheet(_0x52c1b8(0x211));}async function trySaveSession(){const _0x562bae=a2_0x3d56d5,_0x57043f=document[_0x562bae(0x192)](_0x562bae(0x1f0))[_0x562bae(0x26c)],_0x789907=document[_0x562bae(0x192)](_0x562bae(0x24a))[_0x562bae(0x26c)],_0x16eade=document['getElementById'](_0x562bae(0x16d))['value'],_0xe6111a=document[_0x562bae(0x192)]('inpEnd')[_0x562bae(0x26c)],_0x395f4c=document['getElementById']('inpNote')['value'],_0x285ee4=document[_0x562bae(0x192)](_0x562bae(0x1f7))[_0x562bae(0x1a1)];let _0xf5c761=0x4;if(_0x285ee4){const _0x12b4fc=parseInt(document['getElementById']('inpSeriesCount')[_0x562bae(0x26c)]);if(!_0x12b4fc||_0x12b4fc<0x2){showToast(_0x562bae(0x2c2),![]);return;}if(_0x12b4fc>0x64){showToast(_0x562bae(0x253),![]);return;}_0xf5c761=_0x12b4fc;}const _0x5bc6f1=clients[_0x562bae(0x25e)](_0x17e520=>_0x17e520[_0x562bae(0x24f)]===_0x57043f);if(!_0x5bc6f1){showToast(_0x562bae(0x1fb),![]);return;}const _0x3dd8d4=validateAppointment(_0x789907,_0x16eade,_0xe6111a,editingId,_0x5bc6f1['id']);if(!_0x3dd8d4[_0x562bae(0x26f)]){showToast(_0x3dd8d4['msg'],![]);return;}_0x3dd8d4[_0x562bae(0x20b)]&&showToast(_0x3dd8d4['warning'],![]);const _0x2634c3={'client':_0x57043f,'clientId':_0x5bc6f1['id'],'start':_0x16eade,'end':_0xe6111a,'note':_0x395f4c,'status':'planned'},_0x21c68c=editingId?sessions['find'](_0x32af6d=>_0x32af6d['id']===editingId):null;if(_0x21c68c&&_0x21c68c[_0x562bae(0x2bc)]){tempSessionData={..._0x2634c3,'dateStr':_0x789907,'id':editingId,'seriesId':_0x21c68c[_0x562bae(0x2bc)]},openActionSheet(_0x562bae(0x296));return;}let _0x1586e7=null;if(!editingId)_0x1586e7='create';else{if(_0x21c68c){if(String(_0x21c68c['clientId'])!==String(_0x5bc6f1['id']))console['log'](_0x562bae(0x2b2)),NotificationManager[_0x562bae(0x27e)](_0x562bae(0x174),_0x21c68c),_0x1586e7=_0x562bae(0x2ac);else(_0x21c68c[_0x562bae(0x206)]!==_0x16eade||_0x21c68c[_0x562bae(0x266)]!==_0xe6111a||_0x21c68c[_0x562bae(0x2ce)]!==_0x789907)&&(_0x1586e7=_0x562bae(0x2c6));}}if(!editingId&&_0x285ee4){createBatchSeries(_0x2634c3,_0x789907,_0xf5c761),NotificationManager['send']('create',{..._0x2634c3,'dateStr':_0x789907});return;}lastUserActionTime=Date[_0x562bae(0x17b)]();const _0x189f8f={..._0x2634c3,'dateStr':_0x789907,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x189f8f),_0x1586e7&&NotificationManager[_0x562bae(0x27e)](_0x1586e7,_0x189f8f);}function toggleSessionStatus(){const _0x3f3834=a2_0x3d56d5;lastUserActionTime=Date[_0x3f3834(0x17b)]();const _0x2a991d=sessions[_0x3f3834(0x25e)](_0x3e571c=>_0x3e571c['id']===editingId);if(!_0x2a991d)return;const _0x3454b7=_0x2a991d[_0x3f3834(0x176)]===_0x3f3834(0x263)?_0x3f3834(0x22f):'completed';_0x2a991d[_0x3f3834(0x176)]=_0x3454b7,saveSingleSession(_0x2a991d),_0x3454b7===_0x3f3834(0x263)&&NotificationManager[_0x3f3834(0x27e)]('complete',_0x2a991d),showToast(_0x3454b7==='completed'?'–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞':_0x3f3834(0x1a2),!![]);}function validateAppointment(_0x1f67fe,_0x5a9446,_0x3265f9,_0x537a92,_0x20f40c){const _0x27b884=a2_0x3d56d5,[_0x83d95a,_0x5d87b7]=_0x5a9446[_0x27b884(0x1f3)](':')[_0x27b884(0x273)](Number),[_0xf3f3e,_0x3d199b]=_0x3265f9['split'](':')['map'](Number),_0x1da1cd=_0x83d95a*0x3c+_0x5d87b7,_0x321aa6=_0xf3f3e*0x3c+_0x3d199b,_0xdc836a=String(_0x20f40c);let _0x819202=![],_0x29a23c='';for(let _0x344f74 of sessions){if(_0x344f74[_0x27b884(0x2ce)]!==_0x1f67fe)continue;if(_0x344f74[_0x27b884(0x176)]==='cancelled')continue;if(_0x537a92&&String(_0x344f74['id'])===String(_0x537a92))continue;const [_0xffedb6,_0x407aa2]=_0x344f74['start'][_0x27b884(0x1f3)](':')[_0x27b884(0x273)](Number),[_0x54e831,_0x590e33]=_0x344f74[_0x27b884(0x266)][_0x27b884(0x1f3)](':')['map'](Number),_0x171d22=_0xffedb6*0x3c+_0x407aa2,_0x332d6c=_0x54e831*0x3c+_0x590e33;if(Math[_0x27b884(0x182)](_0x1da1cd,_0x171d22)<Math[_0x27b884(0x179)](_0x321aa6,_0x332d6c)){if(_0x344f74['clientId']&&String(_0x344f74[_0x27b884(0x27f)])===_0xdc836a)return{'valid':![],'msg':_0x27b884(0x275)+_0x344f74[_0x27b884(0x214)]+_0x27b884(0x209)};_0x819202=!![],_0x29a23c=_0x344f74[_0x27b884(0x214)];}}if(_0x819202)return{'valid':!![],'warning':'–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20'+_0x29a23c};return{'valid':!![]};}function saveSingleSession(_0x1dcb33){const _0x20ff97=a2_0x3d56d5;if(editingId){const _0x3dd1ad=sessions[_0x20ff97(0x2cc)](_0x3eb5d7=>_0x3eb5d7['id']===editingId);if(_0x3dd1ad!==-0x1)sessions[_0x3dd1ad]=_0x1dcb33;}else sessions[_0x20ff97(0x26d)](_0x1dcb33);afterSaveAction([_0x1dcb33['dateStr']]);}function createBatchSeries(_0x1df8e4,_0x9be155,_0x17e325){const _0x44aef2=a2_0x3d56d5,_0x7b5499=generateId(),_0x9e3480=[],_0xaa0013=[];let _0x20e4a5=0x0,_0x1e97fc=new Date(_0x9be155);for(let _0x423965=0x0;_0x423965<_0x17e325;_0x423965++){const _0x1e0abf=getLocalDateStr(_0x1e97fc),_0x1b4667=validateAppointment(_0x1e0abf,_0x1df8e4['start'],_0x1df8e4['end'],null,_0x1df8e4['clientId']);if(!_0x1b4667[_0x44aef2(0x26f)])console[_0x44aef2(0x249)](_0x44aef2(0x1bd)+_0x1e0abf+_0x44aef2(0x1c0)),_0x20e4a5++;else{const _0xff4fd3={..._0x1df8e4,'id':generateId(),'dateStr':_0x1e0abf,'seriesId':_0x7b5499};_0xaa0013['push'](_0xff4fd3),_0x9e3480['push'](_0x1e0abf);}_0x1e97fc[_0x44aef2(0x1d0)](_0x1e97fc[_0x44aef2(0x1a4)]()+0x7);}if(_0xaa0013['length']===0x0){showToast(_0x44aef2(0x29c),![]);return;}sessions[_0x44aef2(0x26d)](..._0xaa0013),lastUserActionTime=Date[_0x44aef2(0x17b)]();let _0x23160c='–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20'+_0xaa0013['length'];_0x20e4a5>0x0&&(_0x23160c+=_0x44aef2(0x1ab)+_0x20e4a5+')'),showToast(_0x23160c,!![]),afterSaveAction(_0x9e3480);}function updateSeriesBatch(_0x2f8a61,_0x8061){const _0x452336=a2_0x3d56d5,_0x50a00e=[],_0x5894bc=_0x8061[_0x452336(0x2bc)];if(_0x2f8a61===_0x452336(0x16a)){const _0x12d7b1={..._0x8061,'seriesId':null},_0xe4dd93=sessions[_0x452336(0x2cc)](_0x1a8548=>_0x1a8548['id']===_0x8061['id']);if(_0xe4dd93!==-0x1)sessions[_0xe4dd93]=_0x12d7b1;_0x50a00e[_0x452336(0x26d)](_0x12d7b1['dateStr']);}else{if(_0x2f8a61===_0x452336(0x23d)){const _0x46a12b=_0x8061[_0x452336(0x2ce)];sessions[_0x452336(0x234)]((_0x22fec7,_0x3997b4)=>{const _0x5896ba=_0x452336;_0x22fec7[_0x5896ba(0x2bc)]===_0x5894bc&&_0x22fec7[_0x5896ba(0x2ce)]>=_0x46a12b&&(sessions[_0x3997b4]={...sessions[_0x3997b4],'start':_0x8061[_0x5896ba(0x206)],'end':_0x8061[_0x5896ba(0x266)],'note':_0x8061[_0x5896ba(0x1be)],'client':_0x8061[_0x5896ba(0x214)],'clientId':_0x8061[_0x5896ba(0x27f)]},_0x50a00e['push'](_0x22fec7[_0x5896ba(0x2ce)]));});}}afterSaveAction(_0x50a00e);}function tryDeleteSession(){const _0x81009f=a2_0x3d56d5,_0x1d85b6=sessions[_0x81009f(0x25e)](_0x40735f=>_0x40735f['id']===editingId);if(!_0x1d85b6)return;_0x1d85b6[_0x81009f(0x2bc)]?openActionSheet('delete'):commitDelete('single',_0x1d85b6);}function commitDelete(_0x159bdb,_0x139bb1){const _0x35886c=a2_0x3d56d5;lastUserActionTime=Date[_0x35886c(0x17b)](),NotificationManager[_0x35886c(0x27e)](_0x35886c(0x174),_0x139bb1);const _0x52010f=[];if(_0x159bdb===_0x35886c(0x16a))sessions=sessions[_0x35886c(0x29f)](_0x536323=>_0x536323['id']!==_0x139bb1['id']),_0x52010f[_0x35886c(0x26d)](_0x139bb1[_0x35886c(0x2ce)]);else{if(_0x159bdb===_0x35886c(0x23d)){const _0x3023ca=_0x139bb1[_0x35886c(0x2ce)],_0x392ba9=_0x139bb1[_0x35886c(0x2bc)];sessions[_0x35886c(0x234)](_0x12ed59=>{const _0xa98825=_0x35886c;_0x12ed59['seriesId']===_0x392ba9&&_0x12ed59[_0xa98825(0x2ce)]>=_0x3023ca&&_0x52010f[_0xa98825(0x26d)](_0x12ed59['dateStr']);}),sessions=sessions[_0x35886c(0x29f)](_0x5b58a3=>!(_0x5b58a3[_0x35886c(0x2bc)]===_0x392ba9&&_0x5b58a3[_0x35886c(0x2ce)]>=_0x3023ca));}}afterSaveAction(_0x52010f);}function afterSaveAction(_0x4d44e3){const _0x13ff91=a2_0x3d56d5;DataManager[_0x13ff91(0x25c)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x13ff91(0x265)](_0x4d44e3)[_0x13ff91(0x2b8)](()=>console[_0x13ff91(0x249)](_0x13ff91(0x18e)))[_0x13ff91(0x1ea)](_0x5bfd28=>showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ',![]));}const NotificationManager={'formatDate'(_0x58c7ad){const _0x268d98=a2_0x3d56d5,_0x3aca4a=new Date(_0x58c7ad),_0x21b929={'weekday':_0x268d98(0x1c6),'day':_0x268d98(0x284),'month':'long'};let _0x45e6e5=_0x3aca4a[_0x268d98(0x188)](_0x268d98(0x1d3),_0x21b929);return _0x45e6e5[_0x268d98(0x23f)](0x0)['toUpperCase']()+_0x45e6e5[_0x268d98(0x222)](0x1);},'getText'(_0x16a84d,_0x451dcd){const _0x2b2117=a2_0x3d56d5,_0x5d5c96=this['formatDate'](_0x451dcd['dateStr']);switch(_0x16a84d){case _0x2b2117(0x2ac):return'<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a'+(_0x2b2117(0x1bc)+_0x5d5c96+'\x0a')+(_0x2b2117(0x19d)+_0x451dcd[_0x2b2117(0x206)]+_0x2b2117(0x1fa)+_0x451dcd[_0x2b2117(0x266)]+'\x0a\x0a')+_0x2b2117(0x1e7);case _0x2b2117(0x2c6):return'<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a'+_0x2b2117(0x1a6)+(_0x2b2117(0x207)+_0x451dcd[_0x2b2117(0x206)]+_0x2b2117(0x1fa)+_0x451dcd[_0x2b2117(0x266)]+'</b>\x0a\x0a')+(_0x2b2117(0x1bc)+_0x5d5c96);case _0x2b2117(0x174):return _0x2b2117(0x1cc)+(_0x2b2117(0x1d7)+_0x5d5c96+'\x20('+_0x451dcd[_0x2b2117(0x206)]+_0x2b2117(0x164));case _0x2b2117(0x2c9):return _0x2b2117(0x1af)+'–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a'+_0x2b2117(0x189);default:return'';}},async 'send'(_0x139126,_0xe5ee45){const _0x2cb2c5=a2_0x3d56d5;console['log'](_0x2cb2c5(0x15f),_0x139126,_0xe5ee45);if(!_0xe5ee45){console[_0x2cb2c5(0x1ff)](_0x2cb2c5(0x19a));return;}const _0x28ebe0=String(_0xe5ee45[_0x2cb2c5(0x27f)]);console[_0x2cb2c5(0x249)](_0x2cb2c5(0x252),_0x28ebe0);if(!_0xe5ee45[_0x2cb2c5(0x27f)]||_0x28ebe0==='undefined'||_0x28ebe0===_0x2cb2c5(0x2b7)){console[_0x2cb2c5(0x1ff)](_0x2cb2c5(0x1f4));if(_0xe5ee45['client']){const _0x1304e9=clients[_0x2cb2c5(0x25e)](_0x4d83b1=>_0x4d83b1[_0x2cb2c5(0x24f)]===_0xe5ee45[_0x2cb2c5(0x214)]);if(_0x1304e9)return console[_0x2cb2c5(0x249)](_0x2cb2c5(0x1c5),_0x1304e9['id']),this[_0x2cb2c5(0x27e)](_0x139126,{..._0xe5ee45,'clientId':_0x1304e9['id']});}return;}if(_0x28ebe0[_0x2cb2c5(0x1a8)]<0x5){console[_0x2cb2c5(0x205)](_0x2cb2c5(0x161),_0x28ebe0);return;}const _0x1dbc56=this['getText'](_0x139126,_0xe5ee45);if(!_0x1dbc56){console['error']('[Notify]\x20Error:\x20Text\x20generation\x20failed');return;}console[_0x2cb2c5(0x249)](_0x2cb2c5(0x293)+_0x28ebe0+_0x2cb2c5(0x1a7)),DataManager[_0x2cb2c5(0x1e8)](_0x2cb2c5(0x267),{'chatId':_0x28ebe0,'text':_0x1dbc56})['then'](_0x347d57=>console['log'](_0x2cb2c5(0x291),_0x347d57))['catch'](_0x2e3073=>console[_0x2cb2c5(0x1ff)](_0x2cb2c5(0x264),_0x2e3073));}};function getLocalDateStr(_0x58b63b){const _0x51d655=a2_0x3d56d5,_0x1a9943=_0x58b63b[_0x51d655(0x1ec)](),_0x550a75=String(_0x58b63b[_0x51d655(0x283)]()+0x1)['padStart'](0x2,'0'),_0x4b76ab=String(_0x58b63b[_0x51d655(0x1a4)]())['padStart'](0x2,'0');return _0x1a9943+'-'+_0x550a75+'-'+_0x4b76ab;}function getDateStr(_0x2e3d7c){const _0x4f41e6=a2_0x3d56d5,_0x389d1a=new Date();return _0x389d1a[_0x4f41e6(0x1d0)](_0x389d1a['getDate']()+_0x2e3d7c),getLocalDateStr(_0x389d1a);}function getStartOfWeek(_0xde2f8e){const _0x2e8db1=a2_0x3d56d5,_0xc947a1=new Date(_0xde2f8e),_0x3297bf=_0xc947a1['getDay'](),_0x53ab2e=_0xc947a1[_0x2e8db1(0x1a4)]()-_0x3297bf+(_0x3297bf===0x0?-0x6:0x1);return _0xc947a1[_0x2e8db1(0x1d0)](_0x53ab2e),_0xc947a1['setHours'](0x0,0x0,0x0,0x0),_0xc947a1;}function hexToRgba(_0x29b93d,_0x449c8d){const _0x751fe0=a2_0x3d56d5;if(!_0x29b93d)return _0x751fe0(0x20c);let _0x1b3fba=0x0,_0x244f89=0x0,_0x27156e=0x0;if(_0x29b93d['length']===0x4)_0x1b3fba='0x'+_0x29b93d[0x1]+_0x29b93d[0x1],_0x244f89='0x'+_0x29b93d[0x2]+_0x29b93d[0x2],_0x27156e='0x'+_0x29b93d[0x3]+_0x29b93d[0x3];else _0x29b93d['length']===0x7&&(_0x1b3fba='0x'+_0x29b93d[0x1]+_0x29b93d[0x2],_0x244f89='0x'+_0x29b93d[0x3]+_0x29b93d[0x4],_0x27156e='0x'+_0x29b93d[0x5]+_0x29b93d[0x6]);return _0x751fe0(0x16e)+ +_0x1b3fba+',\x20'+ +_0x244f89+',\x20'+ +_0x27156e+',\x20'+_0x449c8d+')';}function renderTimeColumn(){const _0x11b8cc=a2_0x3d56d5,_0x30e794=document[_0x11b8cc(0x192)](_0x11b8cc(0x1c2)),_0x2644ce=document[_0x11b8cc(0x192)](_0x11b8cc(0x1d4));_0x30e794[_0x11b8cc(0x1f1)]='',_0x30e794[_0x11b8cc(0x1c9)](_0x2644ce);for(let _0x3603cc=0x0;_0x3603cc<0x18;_0x3603cc++){const _0x290404=document[_0x11b8cc(0x194)]('div');_0x290404[_0x11b8cc(0x1ce)]=_0x11b8cc(0x29e);if(_0x3603cc>0x0)_0x290404[_0x11b8cc(0x1f1)]=_0x11b8cc(0x1da)+String(_0x3603cc)[_0x11b8cc(0x2a9)](0x2,'0')+_0x11b8cc(0x269);_0x30e794[_0x11b8cc(0x1c9)](_0x290404);}}function a2_0x80ae(){const _0x5507ec=['clientY','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','init_load','rangesSheet','[Notify]\x20Client\x20SWAP\x20detected','substr','rgba(48,\x20209,\x2088,\x200.15)','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','836869XYeNkk','null','then','btnStatusToggle','initDataUnsafe','blocked-slot\x20stripe-bg','seriesId','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','exceptions','getHours','isArray','peGrid','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','user','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','none','update','stat-','toUpperCase','complete','setAttribute','day-column\x20','findIndex','scrollLeft','dateStr','borderRadius','recurringOptionContainer','.event-card','55334UqAVsJ','onclick','uc_settings_v9','globalTimeLine','dayOptionsTitle','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','v9.0-BATCH-CALENDAR','setItem','[Notify]\x20Attempting\x20to\x20send:','sheetTitle','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','btnDelete','day-off-overlay\x20stripe-bg',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','toast','anCustomDates','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','doDateHeader','#0a84ff','single','patternInfoBox','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','inpStart','rgba(','pe-cell\x20','data-day-idx','actionSheetOverlay','keys','indexOf','cancel','anTotalStats','status','week','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','min','statLoadCard','now','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','<div\x20class=\x22dch-day\x22>','headerMonth','rgba(255,\x2069,\x2058,\x200.15)','rangeEndDate','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','max','stopPropagation','syncLoad','4746jMwfTr','ready','stringify','toLocaleDateString','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','active','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','backgroundPosition','offsetLeft','Batch\x20Sync\x20OK','anStart','event-card','backgroundColor','getElementById','de-item','createElement','top','100%','getDay','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','px\x20-','[Notify]\x20Error:\x20sessionData\x20is\x20null','#050505','btn-status-toggle\x20undo-mode','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','search','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','checked','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','style','getDate','remove','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','...','length',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','[Settings]\x20Cancel\x20window\x20set\x20to:','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','today','toString','analyticsSheet','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','494kTfyRs','rgba(255,\x2069,\x2058,\x200.3)','sort','var(--acc-current)','startsWith','expand','var(--acc-orange)','option','div','patternEditor','uc_sessions_v9','actionSheet','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','[Series]\x20Skipped\x20','note','as-button\x20danger\x20bold',':\x20Client\x20already\x20booked','add','timeColumn','initData','splice','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','long','\x20status-completed','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','appendChild','getAttribute','matrixViewport','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','loadLocal','className','scrollTop','setDate','open','toastMessage','ru-RU','timeLineBadge','dayOptionsSheet','display','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','calendar','cancel_window','<span>','rangeEndTime','data-date','</div><div\x20class=\x22dch-num\x22>','172FVptrC','mousedown','btn-primary\x20btn-danger','json','vibrate','WebApp','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','clients','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','fetchFromServer','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','catch','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','getFullYear','success','592386WslCWb','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','inpClient','innerHTML','doEventsList','split','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','rgba(255,\x20159,\x2010,\x200.3)','inpEnd','inpRecurring','settings','touchstart','\x20‚Äî\x20','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','setBackgroundColor','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','.day-column','error','save_settings','settingCancelWindow','\x20-\x20','.day-col-header','localeCompare','warn','start','<b>‚úÖ\x20','toast-notification\x20',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','warning','rgba(100,100,100,0.5)','px\x200px','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','btnDayToggle','colIndex','sessionSheet','gridColumns','16773dLIyVL','client','color','mergeServerData','Telegram','anDonutCircle','var(--acc-red)','total','228296xcsjYX','data','.sheet','btn-status-toggle','all','\x20–∏–∑\x20','%\x20-\x204px)','slice','text/plain;charset=UTF-8','calc(','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','–£—Å–ø–µ—à–Ω–æ','overlay','sheetDateSubtitle','ranges','asBtnOne','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','23:59','target','planned','.pib-text','Server\x20Error','block','.day-off-overlay','forEach','borderLeftColor','day-col-header\x20','[API\x20','T00:00:00','asBtnSeries','10HIJaUy','flex','round','series','range-item','charAt','Save\x20settings\x20error:','</div><div\x20class=\x22ev-time\x22>','pattern','rangeStartDate','Critical\x20TMA\x20Error:','from','BackButton','off','touches','log','inpDate',']\x20Failed:','background','getMinutes','header-','name','10px','disableVerticalSwipes','[Notify]\x20Detected\x20Client\x20ID:','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','classList','20kjfseS','insertBefore','setHours','touchend','toastTitle','doWorkHours','rgba(255,255,255,0.05)','saveLocally','includes','find','rangesList','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','createDocumentFragment','inpNote','completed','[Notify]\x20Network\x20Failed','syncBatch','end','send_notification','querySelector',':00</span>','Unknown','addEventListener','value','push','deleted','valid','(((.+)+)+)+$','#gridColumns\x20.day-column','972muzDdL','map','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','textContent','height','asTitle','getItem','10px\x2010px\x200\x200','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','querySelectorAll','getTime','send','clientId','width','borderColor','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','getMonth','numeric','uc_settings_cancel_window','rangeStartTime','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','var(--acc-green)','.period-switch\x20.p-btn','sid','90CpJupX','daysHeaderTrack','parse','router.html','onClick','[Notify]\x20Server\x20Response:','cancelled','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','clientWidth','save','floor','offsetWidth','2AjPYyF','done','touchmove','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','month','time-label','filter','seriesCountContainer','POST','#fff','%\x20+\x202px)','blocked-range-part\x20stripe-bg','anEnd','show','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','padStart',':00','entries','create','anPercent'];a2_0x80ae=function(){return _0x5507ec;};return a2_0x80ae();}function renderDayRange(_0x170095,_0x535864){const _0x14547f=a2_0x3d56d5,_0x11f062=document[_0x14547f(0x192)](_0x14547f(0x28d)),_0x36d33e=document[_0x14547f(0x192)](_0x14547f(0x212)),_0x1322c3=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x4c4846=new Date();_0x4c4846[_0x14547f(0x257)](0x0,0x0,0x0,0x0);const _0x310fc9=getLocalDateStr(new Date());for(let _0x293c79=_0x170095;_0x293c79<=_0x535864;_0x293c79++){const _0x228a40=new Date(_0x4c4846);_0x228a40[_0x14547f(0x1d0)](_0x228a40[_0x14547f(0x1a4)]()+_0x293c79);const _0x5b6619=getLocalDateStr(_0x228a40);let _0x2db0ad=_0x228a40[_0x14547f(0x197)]()-0x1;if(_0x2db0ad===-0x1)_0x2db0ad=0x6;const _0x88a356=_0x5b6619===_0x310fc9,_0x22bf34=document[_0x14547f(0x194)](_0x14547f(0x1b8));_0x22bf34[_0x14547f(0x1ce)]=_0x14547f(0x236)+(_0x88a356?'today':''),_0x22bf34['id']=_0x14547f(0x24e)+_0x5b6619,_0x22bf34[_0x14547f(0x2ca)](_0x14547f(0x1dc),_0x5b6619),_0x22bf34['innerHTML']=_0x14547f(0x17d)+_0x1322c3[_0x2db0ad]+_0x14547f(0x1dd)+_0x228a40[_0x14547f(0x1a4)]()+_0x14547f(0x1fd)+_0x5b6619+_0x14547f(0x19f),_0x22bf34['onclick']=()=>openDayOptions(_0x5b6619,_0x1322c3[_0x2db0ad]+'\x20'+_0x228a40['getDate']()),_0x11f062[_0x14547f(0x1c9)](_0x22bf34);const _0x1e0eb4=document[_0x14547f(0x194)]('div');_0x1e0eb4[_0x14547f(0x1ce)]=_0x14547f(0x2cb)+(_0x88a356?_0x14547f(0x1ac):''),_0x1e0eb4['setAttribute']('data-date',_0x5b6619),_0x1e0eb4[_0x14547f(0x2ca)](_0x14547f(0x170),_0x2db0ad),renderEventsForColumn(_0x1e0eb4,_0x5b6619,_0x2db0ad),attachLongPressHandler(_0x1e0eb4,_0x228a40),_0x36d33e[_0x14547f(0x1c9)](_0x1e0eb4),updateDayStats(_0x5b6619);}}function reRenderBlocks(){const _0x3c7051=a2_0x3d56d5;document[_0x3c7051(0x27c)](_0x3c7051(0x271))[_0x3c7051(0x234)](_0x3fbf98=>{const _0x5d961c=_0x3c7051;_0x3fbf98[_0x5d961c(0x27c)](_0x5d961c(0x2af))['forEach'](_0x58af5c=>_0x58af5c[_0x5d961c(0x1a5)]());const _0x1cda10=_0x3fbf98[_0x5d961c(0x1ca)](_0x5d961c(0x1dc)),_0x534e19=parseInt(_0x3fbf98[_0x5d961c(0x1ca)](_0x5d961c(0x170))),_0x23f1de=Math[_0x5d961c(0x23c)](_0x3fbf98[_0x5d961c(0x18d)]);(availabilityPattern[_0x534e19]||[])[_0x5d961c(0x234)](_0x1b6682=>{const _0x3c49cb=_0x5d961c,_0x5bbf4c=document['createElement'](_0x3c49cb(0x1b8));_0x5bbf4c['className']=_0x3c49cb(0x2bb);const _0x42b16f=_0x1b6682*GRID_H;_0x5bbf4c[_0x3c49cb(0x1a3)][_0x3c49cb(0x195)]=_0x42b16f+'px',_0x5bbf4c[_0x3c49cb(0x1a3)][_0x3c49cb(0x18c)]='-'+_0x23f1de+_0x3c49cb(0x199)+_0x42b16f+'px',_0x3fbf98['appendChild'](_0x5bbf4c);});if(specialRanges&&specialRanges[_0x5d961c(0x1a8)]>0x0){const _0xdb188b=new Date(_0x1cda10+_0x5d961c(0x238))[_0x5d961c(0x27d)](),_0x3030a2=new Date(_0x1cda10+'T23:59:59')[_0x5d961c(0x27d)]();specialRanges[_0x5d961c(0x234)](_0x169f2a=>{const _0x52b864=_0x5d961c,_0x2e9769=new Date(_0x169f2a[_0x52b864(0x206)])[_0x52b864(0x27d)](),_0x571679=new Date(_0x169f2a['end'])['getTime'](),_0x2277d0=Math['max'](_0xdb188b,_0x2e9769),_0x15d7e1=Math[_0x52b864(0x179)](_0x3030a2,_0x571679);if(_0x2277d0<_0x15d7e1){if(_0x2277d0<=_0xdb188b&&_0x15d7e1>=_0x3030a2-0xea60){if(!_0x3fbf98[_0x52b864(0x268)]('.day-off-overlay')){const _0x420d74=document[_0x52b864(0x194)](_0x52b864(0x1b8));_0x420d74[_0x52b864(0x1ce)]=_0x52b864(0x163),_0x420d74[_0x52b864(0x1a3)][_0x52b864(0x18c)]='-'+_0x23f1de+_0x52b864(0x20d),_0x3fbf98[_0x52b864(0x1c9)](_0x420d74);}}else{const _0x226efd=(_0x2277d0-_0xdb188b)/0x36ee80*GRID_H,_0x435688=(_0x15d7e1-_0x2277d0)/0x36ee80*GRID_H,_0x6dd8f6=document[_0x52b864(0x194)](_0x52b864(0x1b8));_0x6dd8f6[_0x52b864(0x1ce)]=_0x52b864(0x2a4),_0x6dd8f6[_0x52b864(0x1a3)][_0x52b864(0x195)]=_0x226efd+'px',_0x6dd8f6[_0x52b864(0x1a3)]['height']=_0x435688+'px',_0x6dd8f6[_0x52b864(0x1a3)][_0x52b864(0x18c)]='-'+_0x23f1de+_0x52b864(0x199)+_0x226efd+'px',_0x3fbf98[_0x52b864(0x1c9)](_0x6dd8f6);}}});}if(dateExceptions[_0x1cda10]==='off'){if(!_0x3fbf98['querySelector'](_0x5d961c(0x233))){const _0x58ebc3=document['createElement'](_0x5d961c(0x1b8));_0x58ebc3['className']=_0x5d961c(0x163),_0x58ebc3[_0x5d961c(0x1a3)][_0x5d961c(0x18c)]='-'+_0x23f1de+'px\x200px',_0x3fbf98[_0x5d961c(0x1c9)](_0x58ebc3);}}renderEventsForColumn(_0x3fbf98,_0x1cda10,_0x534e19),updateDayStats(_0x1cda10);});}function updateAllDayStats(){const _0x39e958=a2_0x3d56d5;document[_0x39e958(0x27c)](_0x39e958(0x203))[_0x39e958(0x234)](_0x3f931b=>{const _0x29c041=_0x39e958;updateDayStats(_0x3f931b[_0x29c041(0x1ca)](_0x29c041(0x1dc)));});}function updateDayStats(_0x27fba8){const _0x551a8a=a2_0x3d56d5,_0x535a29=document[_0x551a8a(0x192)](_0x551a8a(0x2c7)+_0x27fba8);if(!_0x535a29)return;const _0x12f3bd=new Date(_0x27fba8);let _0x2446eb=_0x12f3bd[_0x551a8a(0x197)]()-0x1;if(_0x2446eb===-0x1)_0x2446eb=0x6;if(dateExceptions[_0x27fba8]===_0x551a8a(0x247)){_0x535a29[_0x551a8a(0x1a3)]['display']=_0x551a8a(0x2c5);return;}const _0x79db1=availabilityPattern[_0x2446eb]||[],_0x1993ea=0x18-_0x79db1[_0x551a8a(0x1a8)],_0x303022=_0x1993ea*0x3c,_0x10c000=sessions[_0x551a8a(0x29f)](_0x5165de=>_0x5165de['dateStr']===_0x27fba8&&_0x5165de[_0x551a8a(0x176)]!=='cancelled');if(_0x10c000['length']===0x0){_0x535a29['style'][_0x551a8a(0x1d6)]='none';return;}let _0x5d8e37=_0x10c000['map'](_0x5c610d=>{const _0x20e5a3=_0x551a8a,[_0x1c4504,_0x22cfdc]=_0x5c610d[_0x20e5a3(0x206)][_0x20e5a3(0x1f3)](':')[_0x20e5a3(0x273)](Number),[_0x568163,_0x1de16e]=_0x5c610d[_0x20e5a3(0x266)][_0x20e5a3(0x1f3)](':')[_0x20e5a3(0x273)](Number);return[_0x1c4504*0x3c+_0x22cfdc,_0x568163*0x3c+_0x1de16e];});_0x5d8e37[_0x551a8a(0x1b2)]((_0x474bdd,_0x224f59)=>_0x474bdd[0x0]-_0x224f59[0x0]);let _0x12b18e=[];if(_0x5d8e37[_0x551a8a(0x1a8)]>0x0){let _0x49fee4=_0x5d8e37[0x0];for(let _0x31f95d=0x1;_0x31f95d<_0x5d8e37[_0x551a8a(0x1a8)];_0x31f95d++){_0x5d8e37[_0x31f95d][0x0]<_0x49fee4[0x1]?_0x49fee4[0x1]=Math[_0x551a8a(0x182)](_0x49fee4[0x1],_0x5d8e37[_0x31f95d][0x1]):(_0x12b18e[_0x551a8a(0x26d)](_0x49fee4),_0x49fee4=_0x5d8e37[_0x31f95d]);}_0x12b18e['push'](_0x49fee4);}let _0x213d00=0x0;_0x12b18e[_0x551a8a(0x234)](_0x42cb7f=>_0x213d00+=_0x42cb7f[0x1]-_0x42cb7f[0x0]),_0x535a29['style'][_0x551a8a(0x1d6)]=_0x551a8a(0x23b);const _0x51a412=_0x535a29[_0x551a8a(0x268)]('.dch-stats-fill');if(_0x303022===0x0){_0x51a412[_0x551a8a(0x1a3)][_0x551a8a(0x280)]=_0x551a8a(0x196),_0x51a412[_0x551a8a(0x1a3)][_0x551a8a(0x24c)]=_0x551a8a(0x219);return;}const _0x390e94=_0x213d00/_0x303022*0x64;console[_0x551a8a(0x249)]('['+_0x27fba8+_0x551a8a(0x1a9)+_0x1993ea+_0x551a8a(0x274)+_0x213d00+_0x551a8a(0x282)+_0x390e94['toFixed'](0x1)+'%'),_0x390e94>0x64?(_0x51a412[_0x551a8a(0x1a3)][_0x551a8a(0x280)]='100%',_0x51a412['style']['background']=_0x551a8a(0x219)):(_0x51a412[_0x551a8a(0x1a3)][_0x551a8a(0x280)]=_0x390e94+'%',_0x51a412[_0x551a8a(0x1a3)]['background']=_0x551a8a(0x1b3));}function renderEventsForColumn(_0x7919f8,_0x3085d5,_0x1cfd97){const _0x20ab4d=a2_0x3d56d5,_0x167afb=sessions['filter'](_0x3f21f8=>_0x3f21f8[_0x20ab4d(0x2ce)]===_0x3085d5),_0x10bc52=_0x167afb[_0x20ab4d(0x273)](_0x5dd555=>{const _0x37fe43=_0x20ab4d,[_0x53aae9,_0x1cbc8a]=_0x5dd555[_0x37fe43(0x206)][_0x37fe43(0x1f3)](':')['map'](Number),[_0x31258f,_0x3867aa]=_0x5dd555[_0x37fe43(0x266)]['split'](':')[_0x37fe43(0x273)](Number);return{'data':_0x5dd555,'start':_0x53aae9*0x3c+_0x1cbc8a,'end':_0x31258f*0x3c+_0x3867aa,'colIndex':0x0};});_0x10bc52[_0x20ab4d(0x1b2)]((_0x452bbe,_0x32eae6)=>{const _0xa36e74=_0x20ab4d;if(_0x452bbe[_0xa36e74(0x206)]!==_0x32eae6[_0xa36e74(0x206)])return _0x452bbe[_0xa36e74(0x206)]-_0x32eae6[_0xa36e74(0x206)];return _0x32eae6[_0xa36e74(0x266)]-_0x32eae6[_0xa36e74(0x206)]-(_0x452bbe[_0xa36e74(0x266)]-_0x452bbe[_0xa36e74(0x206)]);});const _0x1d3757=[];_0x10bc52['forEach'](_0x15c971=>{const _0xb4ca5e=_0x20ab4d;let _0x4daef7=![];for(let _0x19a6a2=0x0;_0x19a6a2<_0x1d3757[_0xb4ca5e(0x1a8)];_0x19a6a2++){const _0x20e764=_0x1d3757[_0x19a6a2],_0x325567=_0x20e764[_0x20e764['length']-0x1];if(_0x15c971[_0xb4ca5e(0x206)]>=_0x325567[_0xb4ca5e(0x266)]){_0x20e764[_0xb4ca5e(0x26d)](_0x15c971),_0x15c971[_0xb4ca5e(0x210)]=_0x19a6a2,_0x4daef7=!![];break;}}!_0x4daef7&&(_0x1d3757['push']([_0x15c971]),_0x15c971[_0xb4ca5e(0x210)]=_0x1d3757[_0xb4ca5e(0x1a8)]-0x1);}),_0x10bc52['forEach'](_0x5c5eb0=>{const _0x195874=_0x20ab4d;let _0x29d62d=0x0;_0x10bc52['forEach'](_0x49822c=>{const _0x1235bc=a2_0x4153;if(Math[_0x1235bc(0x182)](_0x5c5eb0['start'],_0x49822c[_0x1235bc(0x206)])<Math['min'](_0x5c5eb0[_0x1235bc(0x266)],_0x49822c[_0x1235bc(0x266)])){if(_0x49822c['colIndex']>_0x29d62d)_0x29d62d=_0x49822c[_0x1235bc(0x210)];}});const _0x4a573c=_0x29d62d+0x1,_0x459f5c=0x64/_0x4a573c,_0x2b9829=_0x5c5eb0['colIndex']*_0x459f5c,_0x328e08=createEventEl(_0x5c5eb0[_0x195874(0x21c)]);_0x328e08[_0x195874(0x1a3)]['width']='calc('+_0x459f5c+_0x195874(0x221),_0x328e08['style']['left']=_0x195874(0x224)+_0x2b9829+_0x195874(0x2a3),_0x328e08[_0x195874(0x1a3)]['zIndex']=0xa+_0x5c5eb0['colIndex'],_0x459f5c<0x55&&_0x328e08['classList']['add']('mini'),_0x7919f8[_0x195874(0x1c9)](_0x328e08);});}function createEventEl(_0x540f28){const _0x12152e=a2_0x3d56d5,[_0x438e7e,_0x3776c2]=_0x540f28['start'][_0x12152e(0x1f3)](':')[_0x12152e(0x273)](Number),[_0x1d02ea,_0x997c5f]=_0x540f28[_0x12152e(0x266)]['split'](':')[_0x12152e(0x273)](Number),_0x487872=(_0x438e7e*0x3c+_0x3776c2)/0x3c*GRID_H,_0x118431=(_0x1d02ea*0x3c+_0x997c5f-(_0x438e7e*0x3c+_0x3776c2))/0x3c*GRID_H,_0x55b32c=document[_0x12152e(0x194)](_0x12152e(0x1b8)),_0x477535=_0x540f28[_0x12152e(0x176)]===_0x12152e(0x263)?_0x12152e(0x1c7):'';_0x55b32c[_0x12152e(0x1ce)]=_0x12152e(0x190)+_0x477535,_0x55b32c[_0x12152e(0x1a3)][_0x12152e(0x195)]=_0x487872+'px',_0x55b32c[_0x12152e(0x1a3)][_0x12152e(0x277)]=Math[_0x12152e(0x182)](_0x118431,0x14)+'px';const _0x596ee1=clients[_0x12152e(0x25e)](_0x49cb6e=>_0x540f28[_0x12152e(0x27f)]&&String(_0x49cb6e['id'])===String(_0x540f28[_0x12152e(0x27f)])||_0x49cb6e['name']===_0x540f28[_0x12152e(0x214)]),_0x1674b7=_0x596ee1?_0x596ee1[_0x12152e(0x215)]:_0x12152e(0x169);_0x55b32c[_0x12152e(0x1a3)][_0x12152e(0x235)]=_0x1674b7,_0x55b32c[_0x12152e(0x1a3)][_0x12152e(0x191)]=hexToRgba(_0x1674b7,0.85);let _0x8ed828='<div\x20class=\x22ev-title\x22>'+_0x540f28[_0x12152e(0x214)]+_0x12152e(0x241)+_0x540f28['start']+_0x12152e(0x202)+_0x540f28[_0x12152e(0x266)]+'</div>';return _0x540f28[_0x12152e(0x2bc)]&&(_0x8ed828+=_0x12152e(0x167)),_0x540f28['status']===_0x12152e(0x263)&&(_0x8ed828+=_0x12152e(0x22c)),_0x55b32c[_0x12152e(0x1f1)]=_0x8ed828,_0x55b32c[_0x12152e(0x157)]=_0x3583d0=>{const _0x53d33f=_0x12152e;_0x3583d0[_0x53d33f(0x183)](),openEdit(_0x540f28);},_0x55b32c;}function attachLongPressHandler(_0x532cd2,_0xa06b13){const _0x1a00a5=a2_0x3d56d5;let _0x4c61e0=0x0,_0x3db46=null;const _0x5c45c2=_0xd93e0a=>{const _0x3a5674=a2_0x4153;if(_0xd93e0a[_0x3a5674(0x22e)]['closest'](_0x3a5674(0x155)))return;isScrolling=![],_0x4c61e0=_0xd93e0a['touches']?_0xd93e0a[_0x3a5674(0x248)][0x0]['clientY']:_0xd93e0a[_0x3a5674(0x2ae)],_0x3db46=setTimeout(()=>{const _0x2d8270=_0x3a5674;if(!isScrolling){navigator[_0x2d8270(0x1e2)]?.(0x32);const _0x85db3a=_0x532cd2['getBoundingClientRect'](),_0x1a6c1d=Math[_0x2d8270(0x297)]((_0x4c61e0-_0x85db3a[_0x2d8270(0x195)])/GRID_H);_0xa06b13[_0x2d8270(0x257)](_0x1a6c1d,0x0),openAddSession(_0xa06b13);}},0x1f4);},_0x5f1e5c=()=>{isScrolling=!![],clearTimeout(_0x3db46);},_0x191aad=()=>{clearTimeout(_0x3db46);};_0x532cd2['addEventListener'](_0x1a00a5(0x1f9),_0x5c45c2,{'passive':!![]}),_0x532cd2['addEventListener'](_0x1a00a5(0x29b),_0x5f1e5c,{'passive':!![]}),_0x532cd2[_0x1a00a5(0x26b)](_0x1a00a5(0x258),_0x191aad),_0x532cd2['addEventListener'](_0x1a00a5(0x1df),_0x5c45c2),_0x532cd2[_0x1a00a5(0x26b)]('mousemove',_0x5f1e5c),_0x532cd2[_0x1a00a5(0x26b)]('mouseup',_0x191aad);}function cancelLongPress(){}function handleInfiniteScroll(){const _0xe9e5ad=a2_0x3d56d5,_0x2c50e5=document[_0xe9e5ad(0x192)]('matrixViewport'),_0xa78831=_0x2c50e5['scrollLeft'],_0x9f6809=_0x2c50e5['scrollWidth'],_0x4f5e9f=_0x2c50e5['clientWidth'];if(_0x9f6809-(_0xa78831+_0x4f5e9f)<0x12c){const _0x2a6cc1=endOffset;endOffset+=0xe,renderDayRange(_0x2a6cc1+0x1,endOffset),reRenderBlocks();}if(_0xa78831<0x12c){const _0xa6f071=startOffset;startOffset-=0xe,prependDays(startOffset,_0xa6f071-0x1),_0x2c50e5[_0xe9e5ad(0x2cd)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x45d6bd,_0x42a1b3){const _0x1c1b7f=a2_0x3d56d5,_0x26d4fd=document[_0x1c1b7f(0x192)]('daysHeaderTrack'),_0x4f9c8f=document['getElementById']('gridColumns'),_0x45b9ea=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x18e300=new Date();_0x18e300[_0x1c1b7f(0x257)](0x0,0x0,0x0,0x0);const _0x28ab34=getLocalDateStr(new Date()),_0x2edcce=document[_0x1c1b7f(0x261)](),_0xc580e9=document[_0x1c1b7f(0x261)]();for(let _0x2bddde=_0x45d6bd;_0x2bddde<=_0x42a1b3;_0x2bddde++){const _0x5b1e54=new Date(_0x18e300);_0x5b1e54[_0x1c1b7f(0x1d0)](_0x5b1e54[_0x1c1b7f(0x1a4)]()+_0x2bddde);const _0x2aed9e=getLocalDateStr(_0x5b1e54);let _0x3bbf9d=_0x5b1e54[_0x1c1b7f(0x197)]()-0x1;if(_0x3bbf9d===-0x1)_0x3bbf9d=0x6;const _0x57c4bc=_0x2aed9e===_0x28ab34,_0x2bf156=document[_0x1c1b7f(0x194)]('div');_0x2bf156[_0x1c1b7f(0x1ce)]='day-col-header\x20'+(_0x57c4bc?_0x1c1b7f(0x1ac):''),_0x2bf156['id']=_0x1c1b7f(0x24e)+_0x2aed9e,_0x2bf156[_0x1c1b7f(0x2ca)](_0x1c1b7f(0x1dc),_0x2aed9e),_0x2bf156[_0x1c1b7f(0x1f1)]=_0x1c1b7f(0x17d)+_0x45b9ea[_0x3bbf9d]+_0x1c1b7f(0x1dd)+_0x5b1e54['getDate']()+_0x1c1b7f(0x1fd)+_0x2aed9e+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x2bf156[_0x1c1b7f(0x157)]=()=>openDayOptions(_0x2aed9e,_0x45b9ea[_0x3bbf9d]+'\x20'+_0x5b1e54[_0x1c1b7f(0x1a4)]()),_0x2edcce[_0x1c1b7f(0x1c9)](_0x2bf156);const _0x4b534f=document[_0x1c1b7f(0x194)](_0x1c1b7f(0x1b8));_0x4b534f[_0x1c1b7f(0x1ce)]='day-column\x20'+(_0x57c4bc?_0x1c1b7f(0x1ac):''),_0x4b534f['setAttribute'](_0x1c1b7f(0x1dc),_0x2aed9e),_0x4b534f['setAttribute']('data-day-idx',_0x3bbf9d),renderEventsForColumn(_0x4b534f,_0x2aed9e,_0x3bbf9d),attachLongPressHandler(_0x4b534f,_0x5b1e54),_0xc580e9[_0x1c1b7f(0x1c9)](_0x4b534f),updateDayStats(_0x2aed9e);}_0x26d4fd[_0x1c1b7f(0x256)](_0x2edcce,_0x26d4fd['firstChild']),_0x4f9c8f[_0x1c1b7f(0x256)](_0xc580e9,_0x4f9c8f[_0x1c1b7f(0x268)](_0x1c1b7f(0x1fe)));}function validateAppointment(_0x7ccc74,_0x31da38,_0x5ad884,_0x272ce8,_0x4e820b){const _0x282e58=a2_0x3d56d5,[_0x234328,_0x52ced8]=_0x31da38[_0x282e58(0x1f3)](':')['map'](Number),[_0x4e036c,_0x13bb12]=_0x5ad884[_0x282e58(0x1f3)](':')[_0x282e58(0x273)](Number),_0x228b13=_0x234328*0x3c+_0x52ced8,_0x49c4b6=_0x4e036c*0x3c+_0x13bb12,_0x55e88a=String(_0x4e820b);let _0x29da1c=![],_0x4224bf='';for(let _0x5889f9 of sessions){if(_0x5889f9['dateStr']!==_0x7ccc74)continue;if(_0x5889f9[_0x282e58(0x176)]===_0x282e58(0x292))continue;if(_0x272ce8&&String(_0x5889f9['id'])===String(_0x272ce8))continue;const [_0x347e8d,_0x1f8cc9]=_0x5889f9[_0x282e58(0x206)][_0x282e58(0x1f3)](':')[_0x282e58(0x273)](Number),[_0x3342d0,_0x5a026f]=_0x5889f9['end'][_0x282e58(0x1f3)](':')[_0x282e58(0x273)](Number),_0x2c6337=_0x347e8d*0x3c+_0x1f8cc9,_0x5c1f19=_0x3342d0*0x3c+_0x5a026f;if(Math[_0x282e58(0x182)](_0x228b13,_0x2c6337)<Math[_0x282e58(0x179)](_0x49c4b6,_0x5c1f19)){if(_0x5889f9['clientId']&&String(_0x5889f9[_0x282e58(0x27f)])===_0x55e88a)return{'valid':![],'msg':_0x282e58(0x275)+_0x5889f9[_0x282e58(0x214)]+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x29da1c=!![],_0x4224bf=_0x5889f9[_0x282e58(0x214)];}}if(_0x29da1c)return{'valid':!![],'warning':'–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20'+_0x4224bf};return{'valid':!![]};}function updateDateDisplay(){const _0x11eff1=a2_0x3d56d5,_0x1ddd7c=document[_0x11eff1(0x192)](_0x11eff1(0x24a))[_0x11eff1(0x26c)],_0x180805=document['getElementById'](_0x11eff1(0x228));if(!_0x1ddd7c){_0x180805[_0x11eff1(0x276)]='';return;}const [_0x43c20e,_0x337f83,_0x5e92fa]=_0x1ddd7c['split']('-')[_0x11eff1(0x273)](Number),_0x573c9f=new Date(_0x43c20e,_0x337f83-0x1,_0x5e92fa),_0xf10221={'weekday':_0x11eff1(0x1c6),'day':_0x11eff1(0x284),'month':'long','year':_0x11eff1(0x284)};let _0x28401b=_0x573c9f[_0x11eff1(0x188)]('ru-RU',_0xf10221);_0x28401b=_0x28401b['charAt'](0x0)[_0x11eff1(0x2c8)]()+_0x28401b[_0x11eff1(0x222)](0x1),_0x180805[_0x11eff1(0x276)]=_0x28401b;}function autoSetEndTime(){const _0x514fdf=a2_0x3d56d5,_0x1451ad=document[_0x514fdf(0x192)]('inpStart')[_0x514fdf(0x26c)];if(!_0x1451ad)return;const [_0x24456a,_0x521091]=_0x1451ad[_0x514fdf(0x1f3)](':')[_0x514fdf(0x273)](Number);let _0x3fb896=_0x24456a+0x1;if(_0x3fb896>0x17)_0x3fb896=0x0;const _0x14d520=String(_0x3fb896)[_0x514fdf(0x2a9)](0x2,'0')+':'+String(_0x521091)[_0x514fdf(0x2a9)](0x2,'0');document[_0x514fdf(0x192)](_0x514fdf(0x1f6))[_0x514fdf(0x26c)]=_0x14d520;}function populateClientSelect(){const _0x5197e9=a2_0x3d56d5,_0x2d8966=document[_0x5197e9(0x192)](_0x5197e9(0x1f0));_0x2d8966[_0x5197e9(0x1f1)]='';if(clients['length']===0x0){const _0xda3068=document[_0x5197e9(0x194)](_0x5197e9(0x1b7));_0xda3068['text']='–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤',_0x2d8966[_0x5197e9(0x1c9)](_0xda3068);return;}clients[_0x5197e9(0x234)](_0x47d822=>{const _0x160212=_0x5197e9,_0x17af68=document[_0x160212(0x194)]('option');_0x17af68[_0x160212(0x26c)]=_0x47d822[_0x160212(0x24f)],_0x17af68[_0x160212(0x276)]=_0x47d822[_0x160212(0x24f)],_0x2d8966[_0x160212(0x1c9)](_0x17af68);});}function openActionSheet(_0x14dcbe){const _0x3ffb03=a2_0x3d56d5,_0x35c4b9=document['getElementById'](_0x3ffb03(0x1bb)),_0x40e226=document[_0x3ffb03(0x192)](_0x3ffb03(0x171)),_0x161dcf=document[_0x3ffb03(0x192)](_0x3ffb03(0x278)),_0x17e59f=document[_0x3ffb03(0x192)](_0x3ffb03(0x22a)),_0x441cd1=document['getElementById'](_0x3ffb03(0x239));_0x40e226['classList'][_0x3ffb03(0x1c1)]('active'),_0x35c4b9['classList'][_0x3ffb03(0x1c1)](_0x3ffb03(0x1d1));if(_0x14dcbe==='save')_0x161dcf[_0x3ffb03(0x276)]=_0x3ffb03(0x17c),_0x17e59f[_0x3ffb03(0x276)]=_0x3ffb03(0x16c),_0x17e59f[_0x3ffb03(0x157)]=()=>{const _0x3a110e=_0x3ffb03;closeActionSheet(),updateSeriesBatch(_0x3a110e(0x16a),tempSessionData);},_0x441cd1[_0x3ffb03(0x276)]=_0x3ffb03(0x27b),_0x441cd1['onclick']=()=>{const _0x6a28b6=_0x3ffb03;closeActionSheet(),updateSeriesBatch(_0x6a28b6(0x23d),tempSessionData);};else _0x14dcbe==='delete'&&(_0x161dcf[_0x3ffb03(0x276)]='–£–¥–∞–ª–µ–Ω–∏–µ',_0x17e59f[_0x3ffb03(0x276)]=_0x3ffb03(0x16c),_0x17e59f[_0x3ffb03(0x1ce)]='as-button\x20danger',_0x17e59f['onclick']=()=>{const _0xeea52d=_0x3ffb03;closeActionSheet(),commitDelete(_0xeea52d(0x16a),sessions[_0xeea52d(0x25e)](_0x6e136f=>_0x6e136f['id']===editingId));},_0x441cd1[_0x3ffb03(0x276)]=_0x3ffb03(0x27b),_0x441cd1[_0x3ffb03(0x1ce)]=_0x3ffb03(0x1bf),_0x441cd1[_0x3ffb03(0x157)]=()=>{const _0x258e70=_0x3ffb03;closeActionSheet(),commitDelete(_0x258e70(0x23d),sessions[_0x258e70(0x25e)](_0x21b5ab=>_0x21b5ab['id']===editingId));});}function closeActionSheet(){const _0x18c000=a2_0x3d56d5;document['getElementById'](_0x18c000(0x1bb))[_0x18c000(0x254)][_0x18c000(0x1a5)]('open'),document[_0x18c000(0x192)](_0x18c000(0x171))[_0x18c000(0x254)][_0x18c000(0x1a5)](_0x18c000(0x18a));}function openSettings(){openSheet('settingsSheet');}function saveCoachSettings(){const _0x32d82c=a2_0x3d56d5,_0x211d5e=document['getElementById']('settingCancelWindow')['value'];localStorage[_0x32d82c(0x15e)](_0x32d82c(0x285),_0x211d5e),console[_0x32d82c(0x249)](_0x32d82c(0x1aa),_0x211d5e),DataManager[_0x32d82c(0x1e8)](_0x32d82c(0x200),{'settings':{'cancel_window':_0x211d5e}})[_0x32d82c(0x1ea)](_0xc8946d=>{const _0x4f63c7=_0x32d82c;console['error'](_0x4f63c7(0x240),_0xc8946d),showToast(_0x4f63c7(0x2bd),![]);});}function loadCoachSettings(){const _0x27c0c5=a2_0x3d56d5,_0x4412ca=localStorage[_0x27c0c5(0x279)](_0x27c0c5(0x285));_0x4412ca&&(document[_0x27c0c5(0x192)](_0x27c0c5(0x201))['value']=_0x4412ca);}function openRangesSheet(){const _0x10be94=a2_0x3d56d5;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x10be94(0x2b1));}function addRange(){const _0x1cae01=a2_0x3d56d5,_0x3e7a2c=document[_0x1cae01(0x192)]('rangeStartDate')[_0x1cae01(0x26c)],_0x57ec5b=document[_0x1cae01(0x192)]('rangeStartTime')['value'],_0x8eaec4=document[_0x1cae01(0x192)](_0x1cae01(0x180))[_0x1cae01(0x26c)],_0x5382ba=document[_0x1cae01(0x192)]('rangeEndTime')[_0x1cae01(0x26c)];if(!_0x3e7a2c||!_0x57ec5b||!_0x8eaec4||!_0x5382ba)return alert(_0x1cae01(0x1e9));const _0x5093e7=_0x3e7a2c+'T'+_0x57ec5b,_0x382c8c=_0x8eaec4+'T'+_0x5382ba;if(_0x5093e7>=_0x382c8c)return alert(_0x1cae01(0x22b));specialRanges[_0x1cae01(0x26d)]({'start':_0x5093e7,'end':_0x382c8c}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x1cae01(0x25c)](),DataManager[_0x1cae01(0x1e8)](_0x1cae01(0x200),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x85dd41){const _0x3bfc26=a2_0x3d56d5;specialRanges['splice'](_0x85dd41,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x3bfc26(0x25c)](),DataManager[_0x3bfc26(0x1e8)](_0x3bfc26(0x200),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x416caf=a2_0x3d56d5;document['getElementById'](_0x416caf(0x243))[_0x416caf(0x26c)]='',document[_0x416caf(0x192)](_0x416caf(0x286))['value']='00:00',document['getElementById'](_0x416caf(0x180))[_0x416caf(0x26c)]='',document[_0x416caf(0x192)](_0x416caf(0x1db))['value']=_0x416caf(0x22d);}function renderRangesList(){const _0x598789=a2_0x3d56d5,_0x5a81ef=document[_0x598789(0x192)](_0x598789(0x25f));_0x5a81ef[_0x598789(0x1f1)]='';if(!specialRanges['length']){_0x5a81ef['innerHTML']=_0x598789(0x1ef);return;}specialRanges[_0x598789(0x234)]((_0x48a532,_0x291ee8)=>{const _0xbf48d9=_0x598789,_0x3b1ac7=document['createElement']('div');_0x3b1ac7[_0xbf48d9(0x1ce)]=_0xbf48d9(0x23e);const _0x6a2f0d=_0x58921e=>{const _0x578d80=_0xbf48d9,_0x32b0eb=new Date(_0x58921e);return _0x32b0eb[_0x578d80(0x1a4)]()+'.'+String(_0x32b0eb[_0x578d80(0x283)]()+0x1)[_0x578d80(0x2a9)](0x2,'0')+'\x20'+String(_0x32b0eb[_0x578d80(0x2bf)]())['padStart'](0x2,'0')+':'+String(_0x32b0eb[_0x578d80(0x24d)]())[_0x578d80(0x2a9)](0x2,'0');};_0x3b1ac7[_0xbf48d9(0x1f1)]=_0xbf48d9(0x288)+_0x6a2f0d(_0x48a532['start'])+_0xbf48d9(0x1fa)+_0x6a2f0d(_0x48a532[_0xbf48d9(0x266)])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange('+_0x291ee8+')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>',_0x5a81ef['appendChild'](_0x3b1ac7);});}function scrollToToday(){const _0x3126bf=a2_0x3d56d5,_0x5d10d3=getLocalDateStr(new Date()),_0x4aeeb3=document[_0x3126bf(0x192)](_0x3126bf(0x24e)+_0x5d10d3),_0x989822=document['getElementById'](_0x3126bf(0x1cb));if(_0x4aeeb3&&_0x989822){const _0x158e98=_0x989822[_0x3126bf(0x295)],_0x456ecc=_0x4aeeb3['offsetLeft'],_0x3c9886=_0x4aeeb3[_0x3126bf(0x298)];_0x989822[_0x3126bf(0x2cd)]=_0x456ecc-_0x158e98/0x2+_0x3c9886/0x2,_0x989822[_0x3126bf(0x1cf)]=0x9*GRID_H;}}function onScroll(){const _0x3861ef=a2_0x3d56d5,_0x3eb392=document[_0x3861ef(0x192)](_0x3861ef(0x1cb)),_0x17b60e=document[_0x3861ef(0x27c)](_0x3861ef(0x203));for(let _0x455125 of _0x17b60e)if(_0x455125['offsetLeft']>=_0x3eb392[_0x3861ef(0x2cd)]){const _0x743517=new Date(_0x455125[_0x3861ef(0x1ca)](_0x3861ef(0x1dc)));document['getElementById'](_0x3861ef(0x17e))[_0x3861ef(0x276)]=_0x743517['toLocaleString']('ru',{'month':_0x3861ef(0x1c6)})[_0x3861ef(0x2c8)]()+'\x20'+_0x743517[_0x3861ef(0x1ec)]();break;}}function showToast(_0x8a577d,_0x188d8f=![]){const _0x1be5cc=a2_0x3d56d5,_0x165a84=document[_0x1be5cc(0x192)](_0x1be5cc(0x165));_0x165a84[_0x1be5cc(0x1ce)]=_0x1be5cc(0x208)+(_0x188d8f?_0x1be5cc(0x1ed):''),document[_0x1be5cc(0x192)](_0x1be5cc(0x259))['textContent']=_0x188d8f?_0x1be5cc(0x226):'–ò–Ω—Ñ–æ',document['getElementById'](_0x1be5cc(0x1d2))['textContent']=_0x8a577d,_0x165a84[_0x1be5cc(0x254)][_0x1be5cc(0x1c1)](_0x1be5cc(0x2a6)),setTimeout(()=>{const _0xdbfb51=_0x1be5cc;_0x165a84['classList'][_0xdbfb51(0x1a5)]('show');},0xbb8);}function openDayOptions(_0x274f5e,_0x3d5084){const _0xd05edf=a2_0x3d56d5;selectedDayForOptions=_0x274f5e,document['getElementById'](_0xd05edf(0x15a))['textContent']=_0x3d5084,openSheet(_0xd05edf(0x1d5));}function toggleDayOff(){const _0x2d2bf3=a2_0x3d56d5;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x2d2bf3(0x247),reRenderBlocks(),closeAllSheets(),DataManager[_0x2d2bf3(0x25c)](),DataManager[_0x2d2bf3(0x1e8)]('save_settings',{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x31c347=a2_0x3d56d5;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x31c347(0x25c)](),DataManager[_0x31c347(0x1e8)]('save_settings',{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x1d9cc8){const _0x391857=a2_0x3d56d5;document[_0x391857(0x192)](_0x391857(0x227))[_0x391857(0x254)][_0x391857(0x1c1)](_0x391857(0x18a)),document[_0x391857(0x192)](_0x1d9cc8)['classList'][_0x391857(0x1c1)](_0x391857(0x1d1));}function closeAllSheets(){const _0x502aaf=a2_0x3d56d5;document['getElementById']('overlay')[_0x502aaf(0x254)][_0x502aaf(0x1a5)]('active'),document['querySelectorAll'](_0x502aaf(0x21d))[_0x502aaf(0x234)](_0x5594b3=>_0x5594b3[_0x502aaf(0x254)][_0x502aaf(0x1a5)](_0x502aaf(0x1d1)));}function openPatternEditor(){const _0x5d91f6=a2_0x3d56d5;closeAllSheets(),document[_0x5d91f6(0x192)](_0x5d91f6(0x1b9))[_0x5d91f6(0x254)][_0x5d91f6(0x1c1)]('open'),renderPatternEditor();}function closePatternEditor(){const _0x2547e3=a2_0x3d56d5;document[_0x2547e3(0x192)](_0x2547e3(0x1b9))[_0x2547e3(0x254)][_0x2547e3(0x1a5)](_0x2547e3(0x1d1));}function a2_0x4153(_0x1d5e22,_0x42e99d){_0x1d5e22=_0x1d5e22-0x155;const _0xa3c861=a2_0x80ae();let _0x1832bb=_0xa3c861[_0x1d5e22];return _0x1832bb;}function savePattern(){const _0x122e89=a2_0x3d56d5;document[_0x122e89(0x192)](_0x122e89(0x1b9))['classList'][_0x122e89(0x1a5)](_0x122e89(0x1d1)),reRenderBlocks(),DataManager[_0x122e89(0x25c)](),DataManager[_0x122e89(0x1e8)]('save_settings',{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x3219a5=a2_0x3d56d5,_0x146ba3=document[_0x3219a5(0x192)](_0x3219a5(0x2c1));_0x146ba3[_0x3219a5(0x1f1)]='';const _0xe95b97=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1904e2=document['createElement'](_0x3219a5(0x1b8));_0x1904e2['className']='pe-corner',_0x146ba3['appendChild'](_0x1904e2),_0xe95b97['forEach']((_0x40fc42,_0x5a843d)=>{const _0x4374ee=_0x3219a5,_0x572dd1=document['createElement']('div');_0x572dd1[_0x4374ee(0x1ce)]='pe-col-header',_0x572dd1[_0x4374ee(0x1f1)]=_0x40fc42+_0x4374ee(0x1c8),_0x572dd1['onclick']=()=>toggleColPattern(_0x5a843d),_0x146ba3['appendChild'](_0x572dd1);});for(let _0x37c9bd=0x0;_0x37c9bd<0x18;_0x37c9bd++){const _0x5980b9=document[_0x3219a5(0x194)](_0x3219a5(0x1b8));_0x5980b9[_0x3219a5(0x1ce)]='pe-time-label',_0x5980b9[_0x3219a5(0x1f1)]=_0x3219a5(0x1e6)+String(_0x37c9bd)[_0x3219a5(0x2a9)](0x2,'0')+':00',_0x5980b9[_0x3219a5(0x157)]=()=>toggleRowPattern(_0x37c9bd),_0x146ba3[_0x3219a5(0x1c9)](_0x5980b9);for(let _0x4104b4=0x0;_0x4104b4<0x7;_0x4104b4++){const _0x36c2e6=document[_0x3219a5(0x194)](_0x3219a5(0x1b8)),_0x448c3b=(availabilityPattern[_0x4104b4]||[])[_0x3219a5(0x25d)](_0x37c9bd),_0x374864=!_0x448c3b;_0x36c2e6[_0x3219a5(0x1ce)]=_0x3219a5(0x16f)+(_0x374864?'active':''),_0x36c2e6[_0x3219a5(0x157)]=()=>toggleSinglePattern(_0x4104b4,_0x37c9bd),_0x146ba3['appendChild'](_0x36c2e6);}}}function toggleSinglePattern(_0x23b900,_0x32af51){const _0xaab7e5=a2_0x3d56d5;if(!availabilityPattern[_0x23b900])availabilityPattern[_0x23b900]=[];const _0x15319b=availabilityPattern[_0x23b900],_0x504676=_0x15319b[_0xaab7e5(0x173)](_0x32af51);_0x504676===-0x1?_0x15319b[_0xaab7e5(0x26d)](_0x32af51):_0x15319b[_0xaab7e5(0x1c4)](_0x504676,0x1),renderPatternEditor();}function toggleColPattern(_0x2836db){const _0x13a51d=a2_0x3d56d5;if(!availabilityPattern[_0x2836db])availabilityPattern[_0x2836db]=[];const _0x55bb82=availabilityPattern[_0x2836db];_0x55bb82[_0x13a51d(0x1a8)]===0x0?availabilityPattern[_0x2836db]=Array[_0x13a51d(0x245)]({'length':0x18},(_0x200d4b,_0x5493a3)=>_0x5493a3):availabilityPattern[_0x2836db]=[],renderPatternEditor();}function toggleRowPattern(_0x183384){const _0x3d5b83=a2_0x3d56d5;let _0x5eac6a=!![];for(let _0x2df70f=0x0;_0x2df70f<0x7;_0x2df70f++){if((availabilityPattern[_0x2df70f]||[])['includes'](_0x183384)){_0x5eac6a=![];break;}}for(let _0x23bb67=0x0;_0x23bb67<0x7;_0x23bb67++){if(!availabilityPattern[_0x23bb67])availabilityPattern[_0x23bb67]=[];const _0x2f3d82=availabilityPattern[_0x23bb67][_0x3d5b83(0x173)](_0x183384);if(_0x5eac6a){if(_0x2f3d82===-0x1)availabilityPattern[_0x23bb67][_0x3d5b83(0x26d)](_0x183384);}else{if(_0x2f3d82!==-0x1)availabilityPattern[_0x23bb67][_0x3d5b83(0x1c4)](_0x2f3d82,0x1);}}renderPatternEditor();}function renderPCol(_0x2feeab,_0x197bdb){const _0x4c525a=a2_0x3d56d5;_0x2feeab[_0x4c525a(0x1f1)]='';const _0x2da826=Math['round'](_0x2feeab[_0x4c525a(0x18d)]);(availabilityPattern[_0x197bdb]||[])[_0x4c525a(0x234)](_0x792c83=>{const _0x457902=_0x4c525a,_0x549b5a=document[_0x457902(0x194)]('div');_0x549b5a[_0x457902(0x1ce)]=_0x457902(0x2bb);const _0x4cc4c7=_0x792c83*GRID_H;_0x549b5a[_0x457902(0x1a3)][_0x457902(0x195)]=_0x4cc4c7+'px',_0x549b5a[_0x457902(0x1a3)][_0x457902(0x18c)]='-'+_0x2da826+_0x457902(0x199)+_0x4cc4c7+'px',_0x549b5a[_0x457902(0x157)]=_0x55242b=>{const _0x5ba2ea=_0x457902;_0x55242b[_0x5ba2ea(0x183)](),toggleSinglePattern(_0x197bdb,_0x792c83);},_0x2feeab[_0x457902(0x1c9)](_0x549b5a);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x4c985d=a2_0x3d56d5,_0x4e5792=new Date(),_0x1e3e2f=document[_0x4c985d(0x192)](_0x4c985d(0x159)),_0x4eddfd=document[_0x4c985d(0x192)](_0x4c985d(0x1d4)),_0x2d5199=(_0x4e5792[_0x4c985d(0x2bf)]()*0x3c+_0x4e5792[_0x4c985d(0x24d)]())/0x3c*GRID_H;_0x1e3e2f[_0x4c985d(0x1a3)][_0x4c985d(0x195)]=_0x2d5199+'px',_0x1e3e2f[_0x4c985d(0x1a3)][_0x4c985d(0x1d6)]=_0x4c985d(0x232),_0x4eddfd[_0x4c985d(0x276)]=String(_0x4e5792[_0x4c985d(0x2bf)]())[_0x4c985d(0x2a9)](0x2,'0')+':'+String(_0x4e5792[_0x4c985d(0x24d)]())['padStart'](0x2,'0'),_0x4eddfd[_0x4c985d(0x1a3)][_0x4c985d(0x1d6)]='block',_0x4eddfd[_0x4c985d(0x1a3)]['top']=_0x2d5199+'px';}document[a2_0x3d56d5(0x26b)]('DOMContentLoaded',init);function openDayOptions(_0x2ced3c){const _0x4113f3=a2_0x3d56d5;selectedDayForOptions=_0x2ced3c;const _0xe9926c=new Date(_0x2ced3c),_0x586c42={'weekday':_0x4113f3(0x1c6),'day':_0x4113f3(0x284),'month':_0x4113f3(0x1c6),'year':_0x4113f3(0x284)},_0x35c458=_0xe9926c[_0x4113f3(0x188)]('ru-RU',_0x586c42);document[_0x4113f3(0x192)](_0x4113f3(0x168))[_0x4113f3(0x276)]=_0x35c458[_0x4113f3(0x23f)](0x0)['toUpperCase']()+_0x35c458[_0x4113f3(0x222)](0x1);let _0x46652d=_0xe9926c[_0x4113f3(0x197)]()-0x1;if(_0x46652d===-0x1)_0x46652d=0x6;const _0x40d6e1=availabilityPattern[_0x46652d]||[],_0x278379=0x18-_0x40d6e1['length'],_0x2736f7=_0x278379*0x3c,_0x2dd31c=sessions['filter'](_0x25213e=>_0x25213e[_0x4113f3(0x2ce)]===_0x2ced3c&&_0x25213e[_0x4113f3(0x176)]!=='cancelled');let _0x4d2297=_0x2dd31c['map'](_0x12155b=>{const _0x51c11f=_0x4113f3,[_0x5689a1,_0x486ea2]=_0x12155b[_0x51c11f(0x206)]['split'](':')[_0x51c11f(0x273)](Number),[_0x7204c2,_0x7d00a0]=_0x12155b[_0x51c11f(0x266)]['split'](':')[_0x51c11f(0x273)](Number);return[_0x5689a1*0x3c+_0x486ea2,_0x7204c2*0x3c+_0x7d00a0];});_0x4d2297[_0x4113f3(0x1b2)]((_0x114f81,_0x3a0947)=>_0x114f81[0x0]-_0x3a0947[0x0]);let _0x223e5a=[];if(_0x4d2297[_0x4113f3(0x1a8)]>0x0){let _0x29c470=_0x4d2297[0x0];for(let _0x5ea36a=0x1;_0x5ea36a<_0x4d2297[_0x4113f3(0x1a8)];_0x5ea36a++){_0x4d2297[_0x5ea36a][0x0]<_0x29c470[0x1]?_0x29c470[0x1]=Math[_0x4113f3(0x182)](_0x29c470[0x1],_0x4d2297[_0x5ea36a][0x1]):(_0x223e5a[_0x4113f3(0x26d)](_0x29c470),_0x29c470=_0x4d2297[_0x5ea36a]);}_0x223e5a[_0x4113f3(0x26d)](_0x29c470);}let _0x3faea3=0x0;_0x223e5a[_0x4113f3(0x234)](_0x954bc5=>_0x3faea3+=_0x954bc5[0x1]-_0x954bc5[0x0]),document[_0x4113f3(0x192)](_0x4113f3(0x25a))[_0x4113f3(0x276)]=formatMinsToHrs(_0x2736f7),document[_0x4113f3(0x192)]('doBusyHours')['textContent']=formatMinsToHrs(_0x3faea3);const _0x2fceb8=_0x2736f7>0x0?Math[_0x4113f3(0x23c)](_0x3faea3/_0x2736f7*0x64):0x0,_0x4761da=document[_0x4113f3(0x192)]('doLoadPercent');_0x4761da[_0x4113f3(0x276)]=_0x2fceb8+'%';const _0x3dde12=document['getElementById'](_0x4113f3(0x17a));if(_0x2fceb8>0x64)_0x4761da[_0x4113f3(0x1a3)]['color']='var(--acc-red)',_0x3dde12[_0x4113f3(0x1a3)]['borderColor']=_0x4113f3(0x1b1);else _0x2fceb8>0x50?(_0x4761da[_0x4113f3(0x1a3)][_0x4113f3(0x215)]=_0x4113f3(0x1b6),_0x3dde12[_0x4113f3(0x1a3)][_0x4113f3(0x281)]=_0x4113f3(0x1f5)):(_0x4761da[_0x4113f3(0x1a3)][_0x4113f3(0x215)]=_0x4113f3(0x289),_0x3dde12[_0x4113f3(0x1a3)][_0x4113f3(0x281)]=_0x4113f3(0x25b));const _0x49475=document['getElementById'](_0x4113f3(0x1f2));_0x49475[_0x4113f3(0x1f1)]='';_0x2dd31c['length']===0x0?_0x49475[_0x4113f3(0x1f1)]='<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>':(_0x2dd31c[_0x4113f3(0x1b2)]((_0x529a23,_0x40087d)=>_0x529a23[_0x4113f3(0x206)][_0x4113f3(0x204)](_0x40087d['start'])),_0x2dd31c[_0x4113f3(0x234)](_0x5a44b3=>{const _0x4cfdc5=_0x4113f3,_0x91d782=clients[_0x4cfdc5(0x25e)](_0x326d8c=>_0x326d8c[_0x4cfdc5(0x24f)]===_0x5a44b3[_0x4cfdc5(0x214)]),_0x393877=_0x91d782?_0x91d782[_0x4cfdc5(0x215)]:_0x4cfdc5(0x2a2),_0x5d3cea=_0x5a44b3[_0x4cfdc5(0x176)]===_0x4cfdc5(0x263),_0x4ae0e5=_0x5d3cea?_0x4cfdc5(0x225):'',_0xa7d27a=document[_0x4cfdc5(0x194)]('div');_0xa7d27a[_0x4cfdc5(0x1ce)]=_0x4cfdc5(0x193),_0xa7d27a[_0x4cfdc5(0x1a3)]['borderLeftColor']=_0x393877,_0xa7d27a[_0x4cfdc5(0x1f1)]=_0x4cfdc5(0x178)+_0x5a44b3[_0x4cfdc5(0x206)]+_0x4cfdc5(0x202)+_0x5a44b3[_0x4cfdc5(0x266)]+_0x4cfdc5(0x2c4)+_0x5a44b3[_0x4cfdc5(0x214)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4ae0e5+_0x4cfdc5(0x20e),_0x49475[_0x4cfdc5(0x1c9)](_0xa7d27a);}));const _0x37b9aa=document['getElementById'](_0x4113f3(0x20f)),_0xe5156b=dateExceptions[_0x2ced3c]==='off';_0xe5156b?(_0x37b9aa[_0x4113f3(0x276)]='–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º',_0x37b9aa[_0x4113f3(0x1ce)]='btn-primary\x20btn-secondary',_0x37b9aa['style']['color']=_0x4113f3(0x289),_0x37b9aa[_0x4113f3(0x1a3)]['background']=_0x4113f3(0x2b4)):(_0x37b9aa[_0x4113f3(0x276)]=_0x4113f3(0x294),_0x37b9aa[_0x4113f3(0x1ce)]=_0x4113f3(0x1e0),_0x37b9aa[_0x4113f3(0x1a3)][_0x4113f3(0x215)]=_0x4113f3(0x219),_0x37b9aa[_0x4113f3(0x1a3)][_0x4113f3(0x24c)]=_0x4113f3(0x17f)),openSheet(_0x4113f3(0x1d5));}let currentAnPeriod=a2_0x3d56d5(0x177);function openAnalytics(){const _0x1952f4=a2_0x3d56d5,_0x582ee6=document['querySelector'](_0x1952f4(0x28a));setAnalyticsPeriod(_0x1952f4(0x177),_0x582ee6),closeAllSheets(),openSheet(_0x1952f4(0x1ae));}function setAnalyticsPeriod(_0x2709d7,_0x4e5008){const _0x1079dc=a2_0x3d56d5;currentAnPeriod=_0x2709d7,document['querySelectorAll']('.period-switch\x20.p-btn')[_0x1079dc(0x234)](_0x2f559c=>_0x2f559c[_0x1079dc(0x254)][_0x1079dc(0x1a5)]('active'));if(_0x4e5008)_0x4e5008[_0x1079dc(0x254)][_0x1079dc(0x1c1)](_0x1079dc(0x18a));const _0x21227a=document[_0x1079dc(0x192)](_0x1079dc(0x166));_0x21227a[_0x1079dc(0x1a3)][_0x1079dc(0x1d6)]=_0x2709d7==='custom'?_0x1079dc(0x23b):_0x1079dc(0x2c5);const _0x4061b6=new Date();let _0x29b9fd=new Date(),_0x5ee767=new Date();if(_0x2709d7===_0x1079dc(0x177))_0x29b9fd=getStartOfWeek(_0x4061b6),_0x5ee767=new Date(_0x29b9fd),_0x5ee767[_0x1079dc(0x1d0)](_0x5ee767[_0x1079dc(0x1a4)]()+0x6);else{if(_0x2709d7===_0x1079dc(0x29d))_0x29b9fd=new Date(_0x4061b6[_0x1079dc(0x1ec)](),_0x4061b6[_0x1079dc(0x283)](),0x1),_0x5ee767=new Date(_0x4061b6['getFullYear'](),_0x4061b6[_0x1079dc(0x283)]()+0x1,0x0);else{!document[_0x1079dc(0x192)](_0x1079dc(0x18f))['value']&&(document[_0x1079dc(0x192)](_0x1079dc(0x18f))[_0x1079dc(0x26c)]=getLocalDateStr(_0x4061b6),document[_0x1079dc(0x192)](_0x1079dc(0x2a5))[_0x1079dc(0x26c)]=getLocalDateStr(_0x4061b6));refreshAnalytics();return;}}document[_0x1079dc(0x192)]('anStart')[_0x1079dc(0x26c)]=getLocalDateStr(_0x29b9fd),document[_0x1079dc(0x192)](_0x1079dc(0x2a5))[_0x1079dc(0x26c)]=getLocalDateStr(_0x5ee767),refreshAnalytics();}function refreshAnalytics(){const _0x184a36=a2_0x3d56d5,_0x328d1=document[_0x184a36(0x192)]('anStart')['value'],_0x5e53ca=document[_0x184a36(0x192)](_0x184a36(0x2a5))[_0x184a36(0x26c)];if(!_0x328d1||!_0x5e53ca)return;const _0x134664=sessions[_0x184a36(0x29f)](_0x5eba78=>_0x5eba78[_0x184a36(0x2ce)]>=_0x328d1&&_0x5eba78[_0x184a36(0x2ce)]<=_0x5e53ca&&_0x5eba78[_0x184a36(0x176)]!==_0x184a36(0x292)),_0x568fc5=_0x134664[_0x184a36(0x1a8)],_0x5056c3=_0x134664[_0x184a36(0x29f)](_0x38ad57=>_0x38ad57['status']==='completed')[_0x184a36(0x1a8)],_0x381ae8=_0x568fc5>0x0?Math[_0x184a36(0x23c)](_0x5056c3/_0x568fc5*0x64):0x0;document[_0x184a36(0x192)](_0x184a36(0x2ad))[_0x184a36(0x276)]=_0x381ae8+'%',document[_0x184a36(0x192)](_0x184a36(0x175))[_0x184a36(0x276)]=_0x5056c3+_0x184a36(0x220)+_0x568fc5+_0x184a36(0x15b);const _0x52fdef=document[_0x184a36(0x192)](_0x184a36(0x218)),_0x2a7991=0x2*Math['PI']*0x23,_0x18edd5=_0x2a7991-_0x381ae8/0x64*_0x2a7991;_0x52fdef[_0x184a36(0x1a3)]['strokeDashoffset']=_0x18edd5;const _0x3de5f7={};_0x134664[_0x184a36(0x234)](_0x542b43=>{const _0x59dd4f=_0x184a36;if(!_0x3de5f7[_0x542b43[_0x59dd4f(0x214)]]){const _0x4b5d4f=clients[_0x59dd4f(0x25e)](_0x4f2d24=>_0x4f2d24[_0x59dd4f(0x24f)]===_0x542b43[_0x59dd4f(0x214)]);_0x3de5f7[_0x542b43[_0x59dd4f(0x214)]]={'total':0x0,'done':0x0,'color':_0x4b5d4f?_0x4b5d4f[_0x59dd4f(0x215)]:_0x59dd4f(0x2a2)};}_0x3de5f7[_0x542b43[_0x59dd4f(0x214)]][_0x59dd4f(0x21a)]++;if(_0x542b43[_0x59dd4f(0x176)]===_0x59dd4f(0x263))_0x3de5f7[_0x542b43[_0x59dd4f(0x214)]][_0x59dd4f(0x29a)]++;});const _0x27451=document[_0x184a36(0x192)]('analyticsList');_0x27451[_0x184a36(0x1f1)]='';const _0x2ff273=Object[_0x184a36(0x2ab)](_0x3de5f7)['sort']((_0x55a06,_0x3b0dc4)=>_0x3b0dc4[0x1]['total']-_0x55a06[0x1]['total']);if(_0x2ff273['length']===0x0){_0x27451[_0x184a36(0x1f1)]=_0x184a36(0x1a0);return;}_0x2ff273['forEach'](([_0x23c000,_0x136427])=>{const _0x1fe85d=_0x184a36,_0x7856e6=Math[_0x1fe85d(0x23c)](_0x136427['done']/_0x136427[_0x1fe85d(0x21a)]*0x64),_0x18798b=document[_0x1fe85d(0x194)](_0x1fe85d(0x1b8));_0x18798b[_0x1fe85d(0x1ce)]='client-stat-card',_0x18798b[_0x1fe85d(0x1a3)][_0x1fe85d(0x235)]=_0x136427[_0x1fe85d(0x215)],_0x18798b[_0x1fe85d(0x1f1)]=_0x1fe85d(0x287)+_0x23c000+_0x1fe85d(0x2a8)+_0x136427[_0x1fe85d(0x29a)]+'</span>\x20/\x20'+_0x136427[_0x1fe85d(0x21a)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x7856e6+_0x1fe85d(0x20a),_0x27451[_0x1fe85d(0x1c9)](_0x18798b);});}function formatMinsToHrs(_0x49e88f){const _0x43280c=a2_0x3d56d5;if(_0x49e88f===0x0)return'0';const _0x1ee805=Math[_0x43280c(0x297)](_0x49e88f/0x3c),_0x3be43c=_0x49e88f%0x3c;if(_0x3be43c===0x0)return _0x1ee805+'—á';return _0x1ee805+'—á\x20'+_0x3be43c+'–º';}