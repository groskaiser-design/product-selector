const a2_0x2aa9e2=a2_0x5c71;(function(_0x40b296,_0x560871){const _0x4997ef=a2_0x5c71,_0x332ffd=_0x40b296();while(!![]){try{const _0x95faf0=parseInt(_0x4997ef(0x237))/0x1*(-parseInt(_0x4997ef(0x2ab))/0x2)+parseInt(_0x4997ef(0x276))/0x3+parseInt(_0x4997ef(0x325))/0x4+parseInt(_0x4997ef(0x2ef))/0x5*(parseInt(_0x4997ef(0x2cd))/0x6)+-parseInt(_0x4997ef(0x291))/0x7+parseInt(_0x4997ef(0x213))/0x8*(-parseInt(_0x4997ef(0x30d))/0x9)+-parseInt(_0x4997ef(0x2d4))/0xa*(parseInt(_0x4997ef(0x249))/0xb);if(_0x95faf0===_0x560871)break;else _0x332ffd['push'](_0x332ffd['shift']());}catch(_0x53bb42){_0x332ffd['push'](_0x332ffd['shift']());}}}(a2_0x1427,0xae57f),function initTMA(){const _0x425e6f=a2_0x5c71,_0x58d909=(function(){let _0x1d8a6c=!![];return function(_0x312b65,_0x3521ad){const _0x43c54f=_0x1d8a6c?function(){const _0x4f1780=a2_0x5c71;if(_0x3521ad){const _0x1330c0=_0x3521ad[_0x4f1780(0x357)](_0x312b65,arguments);return _0x3521ad=null,_0x1330c0;}}:function(){};return _0x1d8a6c=![],_0x43c54f;};}()),_0x2d27ea=_0x58d909(this,function(){const _0x258440=a2_0x5c71;return _0x2d27ea[_0x258440(0x26c)]()['search'](_0x258440(0x2bd))['toString']()[_0x258440(0x2f0)](_0x2d27ea)['search'](_0x258440(0x2bd));});_0x2d27ea();try{const _0x3f7641=window[_0x425e6f(0x2fc)]?.[_0x425e6f(0x346)];if(!_0x3f7641)return;_0x3f7641[_0x425e6f(0x259)](),_0x3f7641['expand']();try{_0x3f7641['setHeaderColor'](_0x425e6f(0x200)),_0x3f7641['setBackgroundColor']&&_0x3f7641[_0x425e6f(0x32c)](_0x425e6f(0x200));}catch(_0x5eeb2e){console['log'](_0x425e6f(0x34e),_0x5eeb2e);}try{_0x3f7641[_0x425e6f(0x333)]&&(_0x3f7641[_0x425e6f(0x333)][_0x425e6f(0x363)](),_0x3f7641['BackButton'][_0x425e6f(0x338)](),_0x3f7641['BackButton'][_0x425e6f(0x34b)](function(){const _0x31498c=_0x425e6f;window['location'][_0x31498c(0x34f)]=_0x31498c(0x246);}));}catch(_0x33817a){console[_0x425e6f(0x33b)](_0x425e6f(0x245),_0x33817a);}try{if(_0x3f7641[_0x425e6f(0x2ed)])_0x3f7641[_0x425e6f(0x2ed)]();}catch(_0x332340){}}catch(_0x44a8f8){console[_0x425e6f(0x298)]('Critical\x20TMA\x20Error:',_0x44a8f8);}}());function isAdmin(){const _0x3002e4=a2_0x5c71;try{const _0x3df5a2=Number(window[_0x3002e4(0x2fc)]?.[_0x3002e4(0x346)]?.[_0x3002e4(0x262)]?.[_0x3002e4(0x335)]?.['id']);return _0x3df5a2===0xbaf7174;}catch(_0x25f0a5){return![];}}const APP_VERSION=a2_0x2aa9e2(0x34d),API_URL=a2_0x2aa9e2(0x35a),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x2aa9e2(0x227),KEY_SESSIONS='uc_sessions_v9',KEY_SETTINGS=a2_0x2aa9e2(0x22b);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x5db234=a2_0x2aa9e2;return window[_0x5db234(0x2fc)]?.[_0x5db234(0x346)]?.[_0x5db234(0x262)]?.[_0x5db234(0x335)]?.['id']||_0x5db234(0x212);},'saveLocally'(){const _0x4bde18=a2_0x2aa9e2;try{localStorage[_0x4bde18(0x306)](KEY_CLIENTS,JSON[_0x4bde18(0x355)](clients)),localStorage['setItem'](KEY_SESSIONS,JSON['stringify'](sessions)),localStorage[_0x4bde18(0x306)](KEY_SETTINGS,JSON[_0x4bde18(0x355)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x3d98fc){console[_0x4bde18(0x298)]('Local\x20Save\x20Error',_0x3d98fc);}},'loadLocal'(){const _0x67ee2b=a2_0x2aa9e2;try{const _0x19e005=localStorage[_0x67ee2b(0x256)](KEY_CLIENTS);if(_0x19e005)clients=JSON[_0x67ee2b(0x1fe)](_0x19e005);const _0x1c5505=localStorage[_0x67ee2b(0x256)](KEY_SESSIONS);if(_0x1c5505)sessions=JSON['parse'](_0x1c5505);const _0x1d4a8b=localStorage[_0x67ee2b(0x256)](KEY_SETTINGS);if(_0x1d4a8b){const _0x59aec5=JSON[_0x67ee2b(0x1fe)](_0x1d4a8b);if(_0x59aec5[_0x67ee2b(0x2e1)])availabilityPattern=_0x59aec5[_0x67ee2b(0x2e1)];if(_0x59aec5[_0x67ee2b(0x327)])dateExceptions=_0x59aec5[_0x67ee2b(0x327)];if(_0x59aec5[_0x67ee2b(0x22e)])specialRanges=_0x59aec5[_0x67ee2b(0x22e)];}else{for(let _0x8f6b77=0x0;_0x8f6b77<0x7;_0x8f6b77++)availabilityPattern[_0x8f6b77]=Array[_0x67ee2b(0x2f1)]({'length':0xc},(_0xb9c865,_0x535367)=>_0x535367+0x9);}}catch(_0x18ace6){console[_0x67ee2b(0x298)](_0x67ee2b(0x27d),_0x18ace6);}},async 'fetchFromServer'(_0x2ac025,_0xce79a7={}){const _0x5080cc=a2_0x2aa9e2,_0xffe1a3=window['Telegram']?.[_0x5080cc(0x346)],_0x5ebd96={'action':_0x2ac025,'init_data':_0xffe1a3?.['initData']||'',..._0xce79a7};try{const _0x22e361=await fetch(API_URL,{'method':_0x5080cc(0x308),'headers':{'Content-Type':_0x5080cc(0x1e9)},'body':JSON[_0x5080cc(0x355)](_0x5ebd96)}),_0x28a085=await _0x22e361[_0x5080cc(0x24c)]();if(!_0x28a085['ok'])throw new Error(_0x28a085[_0x5080cc(0x298)]||_0x5080cc(0x28c));return _0x28a085['data'];}catch(_0x1e9cb7){console['error']('[API\x20'+_0x2ac025+_0x5080cc(0x25a),_0x1e9cb7);throw _0x1e9cb7;}},async 'syncLoad'(){const _0x212fb3=a2_0x2aa9e2,_0x2a587=new Date(),_0xab2380=_0x2a587[_0x212fb3(0x22a)]()+'-'+String(_0x2a587[_0x212fb3(0x224)]()+0x1)[_0x212fb3(0x2a7)](0x2,'0'),_0x16eceb=new Date(_0x2a587);_0x16eceb['setMonth'](_0x2a587[_0x212fb3(0x224)]()+0x1);const _0x340900=_0x16eceb['getFullYear']()+'-'+String(_0x16eceb[_0x212fb3(0x224)]()+0x1)[_0x212fb3(0x2a7)](0x2,'0'),_0x700297=Date[_0x212fb3(0x263)]();console[_0x212fb3(0x33b)](_0x212fb3(0x219)+_0xab2380+',\x20'+_0x340900+_0x212fb3(0x247));try{const [_0x353dd1,_0x479f09]=await Promise[_0x212fb3(0x2cf)]([this[_0x212fb3(0x1db)](_0x212fb3(0x1f3),{'month_str':_0xab2380}),this[_0x212fb3(0x1db)]('init_load',{'month_str':_0x340900})]);if(lastUserActionTime>_0x700297)return console[_0x212fb3(0x2db)](_0x212fb3(0x1f0)),![];return this['mergeServerData'](_0x353dd1,_0xab2380),this[_0x212fb3(0x2b6)](_0x479f09,_0x340900),this[_0x212fb3(0x29b)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x12a3b5){console['error'](_0x12a3b5);throw _0x12a3b5;}},'mergeServerData'(_0x16e254,_0x43d2ed){const _0x89a872=a2_0x2aa9e2;if(!_0x16e254)return;_0x16e254['clients']&&Array[_0x89a872(0x2da)](_0x16e254[_0x89a872(0x2a2)])&&(clients=_0x16e254['clients']);if(_0x16e254[_0x89a872(0x233)]){if(_0x16e254[_0x89a872(0x233)][_0x89a872(0x2e1)])availabilityPattern=_0x16e254[_0x89a872(0x233)][_0x89a872(0x2e1)];if(_0x16e254[_0x89a872(0x233)][_0x89a872(0x327)])dateExceptions=_0x16e254['settings'][_0x89a872(0x327)];if(_0x16e254[_0x89a872(0x233)][_0x89a872(0x22e)])specialRanges=_0x16e254[_0x89a872(0x233)][_0x89a872(0x22e)];if(_0x16e254['settings']['cancel_window']){localStorage[_0x89a872(0x306)](_0x89a872(0x1e8),_0x16e254['settings'][_0x89a872(0x2e6)]);const _0x7915d7=document[_0x89a872(0x320)](_0x89a872(0x282));if(_0x7915d7)_0x7915d7['value']=_0x16e254[_0x89a872(0x233)]['cancel_window'];}}_0x16e254['calendar']&&(sessions=sessions[_0x89a872(0x283)](_0x463e69=>!_0x463e69[_0x89a872(0x30b)][_0x89a872(0x2cb)](_0x43d2ed)),Object[_0x89a872(0x329)](_0x16e254[_0x89a872(0x2c8)])[_0x89a872(0x304)](_0x432daf=>{const _0x520162=_0x89a872,_0x3cd1c0=_0x16e254[_0x520162(0x2c8)][_0x432daf];_0x3cd1c0[_0x520162(0x304)](_0x328a90=>{const _0x5e0217=_0x520162,_0x34a771=clients[_0x5e0217(0x22f)](_0xc614a0=>String(_0xc614a0['id'])===String(_0x328a90['c']));sessions['push']({'id':_0x328a90['i'],'clientId':_0x328a90['c'],'client':_0x34a771?_0x34a771['name']:_0x5e0217(0x25c),'dateStr':_0x43d2ed+'-'+_0x432daf[_0x5e0217(0x2a7)](0x2,'0'),'start':_0x328a90['s'],'end':_0x328a90['e'],'status':_0x328a90['st']||_0x5e0217(0x2e2),'note':_0x328a90['n']||'','seriesId':_0x328a90[_0x5e0217(0x35b)]||null});});}));},async 'syncBatch'(_0x2586d6){const _0x269e40=a2_0x2aa9e2,_0x4ddd7f=[...new Set(_0x2586d6)],_0x376121=_0x4ddd7f[_0x269e40(0x207)](_0x48f6a3=>{const _0x759369=_0x269e40,_0x43c924=sessions['filter'](_0x1bd4e4=>_0x1bd4e4[_0x759369(0x30b)]===_0x48f6a3&&_0x1bd4e4[_0x759369(0x27c)]!==_0x759369(0x21d)),_0x241b9c=_0x43c924[_0x759369(0x207)](_0x1137de=>({'i':_0x1137de['id'],'c':_0x1137de[_0x759369(0x2c3)],'s':_0x1137de[_0x759369(0x348)],'e':_0x1137de['end'],'st':_0x1137de[_0x759369(0x27c)],'n':_0x1137de[_0x759369(0x24d)],'sid':_0x1137de[_0x759369(0x25f)]}));return{'date':_0x48f6a3,'day_data':_0x241b9c};});if(_0x376121[_0x269e40(0x344)]===0x0)return;console[_0x269e40(0x33b)](_0x269e40(0x301)+_0x376121[_0x269e40(0x344)]+_0x269e40(0x2d3)),await this[_0x269e40(0x1db)](_0x269e40(0x229),{'changes':_0x376121});}};async function init(){const _0x17ed31=a2_0x2aa9e2;DataManager['loadLocal'](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x17ed31(0x320)](_0x17ed31(0x205))['addEventListener']('scroll',()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x17ed31(0x35e)]()[_0x17ed31(0x2a1)](()=>{const _0x4613e4=_0x17ed31;showToast(_0x4613e4(0x2e8),!![]);})[_0x17ed31(0x316)](_0x1a8b0d=>{showToast('–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º',![]);});}function generateId(){const _0x4f26cf=a2_0x2aa9e2;return Date['now']()[_0x4f26cf(0x26c)](0x24)+Math[_0x4f26cf(0x23e)]()[_0x4f26cf(0x26c)](0x24)[_0x4f26cf(0x1de)](0x2,0x5);}function toggleSeriesInput(){const _0x42370e=a2_0x2aa9e2,_0xac3472=document[_0x42370e(0x320)](_0x42370e(0x26d))[_0x42370e(0x345)],_0x586e09=document[_0x42370e(0x320)]('seriesCountContainer');_0x586e09['style'][_0x42370e(0x1e7)]=_0xac3472?_0x42370e(0x272):'none';const _0x59a125=document[_0x42370e(0x320)](_0x42370e(0x312));_0x59a125[_0x42370e(0x2b9)][_0x42370e(0x2ec)]=_0xac3472?_0x42370e(0x28b):_0x42370e(0x1f1);}function openAddSession(_0x6f3315){const _0x20452a=a2_0x2aa9e2;editingId=null,populateClientSelect(),document[_0x20452a(0x320)](_0x20452a(0x1d7))[_0x20452a(0x313)]=_0x20452a(0x310),document[_0x20452a(0x320)]('btnDelete')[_0x20452a(0x2b9)][_0x20452a(0x1e7)]='none',document[_0x20452a(0x320)](_0x20452a(0x1ed))[_0x20452a(0x2b9)]['display']=_0x20452a(0x315);const _0x26c170=document[_0x20452a(0x320)](_0x20452a(0x312)),_0x1a822a=document[_0x20452a(0x320)]('seriesCountContainer');_0x26c170[_0x20452a(0x2b9)][_0x20452a(0x1e7)]=_0x20452a(0x358),_0x26c170[_0x20452a(0x2b9)]['borderRadius']=_0x20452a(0x1f1),document[_0x20452a(0x320)]('inpRecurring')[_0x20452a(0x345)]=![],document[_0x20452a(0x320)]('inpSeriesCount')[_0x20452a(0x30a)]=0x4,_0x1a822a['style'][_0x20452a(0x1e7)]='none',document[_0x20452a(0x320)](_0x20452a(0x2b7))[_0x20452a(0x30a)]=getLocalDateStr(_0x6f3315),updateDateDisplay();const _0x4d2822=_0x6f3315[_0x20452a(0x222)]();document['getElementById'](_0x20452a(0x324))[_0x20452a(0x30a)]=String(_0x4d2822)[_0x20452a(0x2a7)](0x2,'0')+_0x20452a(0x23c),document[_0x20452a(0x320)](_0x20452a(0x29d))['value']=String(_0x4d2822+0x1)[_0x20452a(0x2a7)](0x2,'0')+_0x20452a(0x23c),openSheet('sessionSheet');}function openEdit(_0x407b0e){const _0x55aa3c=a2_0x2aa9e2;editingId=_0x407b0e['id'],populateClientSelect(),document['getElementById'](_0x55aa3c(0x1d7))[_0x55aa3c(0x313)]=_0x55aa3c(0x352),document['getElementById'](_0x55aa3c(0x248))[_0x55aa3c(0x2b9)][_0x55aa3c(0x1e7)]=_0x55aa3c(0x272);const _0x4dc498=document[_0x55aa3c(0x320)](_0x55aa3c(0x1ed));_0x4dc498[_0x55aa3c(0x2b9)][_0x55aa3c(0x1e7)]=_0x55aa3c(0x358);_0x407b0e[_0x55aa3c(0x27c)]===_0x55aa3c(0x26f)?(_0x4dc498[_0x55aa3c(0x309)]=_0x55aa3c(0x281),_0x4dc498[_0x55aa3c(0x1d9)]=_0x55aa3c(0x2cc)):(_0x4dc498[_0x55aa3c(0x309)]='btn-status-toggle',_0x4dc498[_0x55aa3c(0x1d9)]=_0x55aa3c(0x342));const _0x1e338a=!!_0x407b0e[_0x55aa3c(0x25f)];document['getElementById']('recurringOptionContainer')[_0x55aa3c(0x2b9)]['display']=_0x55aa3c(0x315),document[_0x55aa3c(0x320)](_0x55aa3c(0x279))[_0x55aa3c(0x2b9)][_0x55aa3c(0x1e7)]=_0x55aa3c(0x315),_0x1e338a?(document[_0x55aa3c(0x320)](_0x55aa3c(0x27b))[_0x55aa3c(0x2b9)]['display']='flex',document[_0x55aa3c(0x320)](_0x55aa3c(0x27b))[_0x55aa3c(0x307)]('.pib-text')[_0x55aa3c(0x313)]=_0x55aa3c(0x2d9)):document[_0x55aa3c(0x320)]('patternInfoBox')[_0x55aa3c(0x2b9)][_0x55aa3c(0x1e7)]='none',document[_0x55aa3c(0x320)](_0x55aa3c(0x238))[_0x55aa3c(0x30a)]=_0x407b0e[_0x55aa3c(0x323)],document['getElementById']('inpDate')[_0x55aa3c(0x30a)]=_0x407b0e[_0x55aa3c(0x30b)],document[_0x55aa3c(0x320)]('inpStart')[_0x55aa3c(0x30a)]=_0x407b0e[_0x55aa3c(0x348)],document[_0x55aa3c(0x320)](_0x55aa3c(0x29d))[_0x55aa3c(0x30a)]=_0x407b0e[_0x55aa3c(0x330)],document[_0x55aa3c(0x320)](_0x55aa3c(0x302))[_0x55aa3c(0x30a)]=_0x407b0e[_0x55aa3c(0x24d)]||'',updateDateDisplay(),openSheet(_0x55aa3c(0x31b));}async function trySaveSession(){const _0x21955e=a2_0x2aa9e2,_0x391626=document[_0x21955e(0x320)](_0x21955e(0x238))[_0x21955e(0x30a)],_0x53700f=document[_0x21955e(0x320)](_0x21955e(0x2b7))[_0x21955e(0x30a)],_0x4fe1ed=document[_0x21955e(0x320)]('inpStart')['value'],_0x2998d8=document[_0x21955e(0x320)]('inpEnd')[_0x21955e(0x30a)],_0x5a2a98=document[_0x21955e(0x320)](_0x21955e(0x302))['value'],_0x4b61b9=document[_0x21955e(0x320)](_0x21955e(0x26d))[_0x21955e(0x345)];let _0x48c3e4=0x4;if(_0x4b61b9){const _0x9fd38b=parseInt(document['getElementById']('inpSeriesCount')[_0x21955e(0x30a)]);if(!_0x9fd38b||_0x9fd38b<0x2){showToast(_0x21955e(0x2f5),![]);return;}if(_0x9fd38b>0x64){showToast('–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑',![]);return;}_0x48c3e4=_0x9fd38b;}const _0x44185d=clients['find'](_0x3f2e3c=>_0x3f2e3c['name']===_0x391626);if(!_0x44185d){showToast(_0x21955e(0x1ec),![]);return;}const _0x512f2f=validateAppointment(_0x53700f,_0x4fe1ed,_0x2998d8,editingId,_0x44185d['id']);if(!_0x512f2f[_0x21955e(0x2f6)]){showToast(_0x512f2f['msg'],![]);return;}_0x512f2f[_0x21955e(0x35c)]&&showToast(_0x512f2f['warning'],![]);const _0x59c6b4={'client':_0x391626,'clientId':_0x44185d['id'],'start':_0x4fe1ed,'end':_0x2998d8,'note':_0x5a2a98,'status':_0x21955e(0x2e2)},_0x11f164=editingId?sessions[_0x21955e(0x22f)](_0x2a7cfd=>_0x2a7cfd['id']===editingId):null;if(_0x11f164&&_0x11f164[_0x21955e(0x25f)]){tempSessionData={..._0x59c6b4,'dateStr':_0x53700f,'id':editingId,'seriesId':_0x11f164[_0x21955e(0x25f)]},openActionSheet(_0x21955e(0x23d));return;}let _0x48490f=null;if(!editingId)_0x48490f=_0x21955e(0x326);else{if(_0x11f164){if(String(_0x11f164[_0x21955e(0x2c3)])!==String(_0x44185d['id']))console[_0x21955e(0x33b)](_0x21955e(0x311)),NotificationManager[_0x21955e(0x2f9)]('cancel',_0x11f164),_0x48490f=_0x21955e(0x326);else(_0x11f164[_0x21955e(0x348)]!==_0x4fe1ed||_0x11f164['end']!==_0x2998d8||_0x11f164[_0x21955e(0x30b)]!==_0x53700f)&&(_0x48490f=_0x21955e(0x26e));}}if(!editingId&&_0x4b61b9){createBatchSeries(_0x59c6b4,_0x53700f,_0x48c3e4),NotificationManager[_0x21955e(0x2f9)](_0x21955e(0x326),{..._0x59c6b4,'dateStr':_0x53700f});return;}lastUserActionTime=Date['now']();const _0x68c939={..._0x59c6b4,'dateStr':_0x53700f,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x68c939),_0x48490f&&NotificationManager[_0x21955e(0x2f9)](_0x48490f,_0x68c939);}function toggleSessionStatus(){const _0x5f5211=a2_0x2aa9e2;lastUserActionTime=Date['now']();const _0x3afb1e=sessions[_0x5f5211(0x22f)](_0xc8eb7e=>_0xc8eb7e['id']===editingId);if(!_0x3afb1e)return;const _0x3f8cd5=_0x3afb1e[_0x5f5211(0x27c)]==='completed'?_0x5f5211(0x2e2):_0x5f5211(0x26f);_0x3afb1e[_0x5f5211(0x27c)]=_0x3f8cd5,saveSingleSession(_0x3afb1e),_0x3f8cd5==='completed'&&NotificationManager['send'](_0x5f5211(0x2e7),_0x3afb1e),showToast(_0x3f8cd5===_0x5f5211(0x26f)?_0x5f5211(0x255):_0x5f5211(0x2a6),!![]);}function validateAppointment(_0x408ab0,_0x4832e3,_0x210868,_0x119a8e,_0x4a1f48){const _0x39d933=a2_0x2aa9e2,[_0x3a6004,_0x1fb916]=_0x4832e3[_0x39d933(0x364)](':')[_0x39d933(0x207)](Number),[_0x4b4755,_0x568dda]=_0x210868[_0x39d933(0x364)](':')[_0x39d933(0x207)](Number),_0x35b083=_0x3a6004*0x3c+_0x1fb916,_0x2b262c=_0x4b4755*0x3c+_0x568dda,_0x3c2d88=String(_0x4a1f48);let _0x20165d=![],_0x3b021b='';for(let _0x272fb7 of sessions){if(_0x272fb7[_0x39d933(0x30b)]!==_0x408ab0)continue;if(_0x272fb7['status']===_0x39d933(0x33d))continue;if(_0x119a8e&&String(_0x272fb7['id'])===String(_0x119a8e))continue;const [_0x1ff9a6,_0x107ab7]=_0x272fb7['start'][_0x39d933(0x364)](':')['map'](Number),[_0x2dcb8b,_0x4f0ad1]=_0x272fb7[_0x39d933(0x330)][_0x39d933(0x364)](':')[_0x39d933(0x207)](Number),_0x630b48=_0x1ff9a6*0x3c+_0x107ab7,_0x28916a=_0x2dcb8b*0x3c+_0x4f0ad1;if(Math[_0x39d933(0x1fc)](_0x35b083,_0x630b48)<Math[_0x39d933(0x337)](_0x2b262c,_0x28916a)){if(_0x272fb7[_0x39d933(0x2c3)]&&String(_0x272fb7[_0x39d933(0x2c3)])===_0x3c2d88)return{'valid':![],'msg':_0x39d933(0x20c)+_0x272fb7[_0x39d933(0x323)]+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x20165d=!![],_0x3b021b=_0x272fb7[_0x39d933(0x323)];}}if(_0x20165d)return{'valid':!![],'warning':_0x39d933(0x223)+_0x3b021b};return{'valid':!![]};}function saveSingleSession(_0xb87471){const _0x551718=a2_0x2aa9e2;if(editingId){const _0xde3179=sessions['findIndex'](_0x12cd0a=>_0x12cd0a['id']===editingId);if(_0xde3179!==-0x1)sessions[_0xde3179]=_0xb87471;}else sessions[_0x551718(0x2e9)](_0xb87471);afterSaveAction([_0xb87471['dateStr']]);}function createBatchSeries(_0x6c3934,_0x317f0,_0x4f0c41){const _0x1eb25f=a2_0x2aa9e2,_0x7506e8=generateId(),_0x45d9f1=[],_0x157532=[];let _0x53bb06=0x0,_0x1f1f4c=new Date(_0x317f0);for(let _0x4f6ca5=0x0;_0x4f6ca5<_0x4f0c41;_0x4f6ca5++){const _0x432567=getLocalDateStr(_0x1f1f4c),_0x400bac=validateAppointment(_0x432567,_0x6c3934[_0x1eb25f(0x348)],_0x6c3934[_0x1eb25f(0x330)],null,_0x6c3934[_0x1eb25f(0x2c3)]);if(!_0x400bac[_0x1eb25f(0x2f6)])console[_0x1eb25f(0x33b)](_0x1eb25f(0x215)+_0x432567+':\x20Client\x20already\x20booked'),_0x53bb06++;else{const _0x25f117={..._0x6c3934,'id':generateId(),'dateStr':_0x432567,'seriesId':_0x7506e8};_0x157532[_0x1eb25f(0x2e9)](_0x25f117),_0x45d9f1[_0x1eb25f(0x2e9)](_0x432567);}_0x1f1f4c[_0x1eb25f(0x236)](_0x1f1f4c[_0x1eb25f(0x2f3)]()+0x7);}if(_0x157532['length']===0x0){showToast('–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!',![]);return;}sessions[_0x1eb25f(0x2e9)](..._0x157532),lastUserActionTime=Date[_0x1eb25f(0x263)]();let _0x34e9a8='–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20'+_0x157532[_0x1eb25f(0x344)];_0x53bb06>0x0&&(_0x34e9a8+=_0x1eb25f(0x2d0)+_0x53bb06+')'),showToast(_0x34e9a8,!![]),afterSaveAction(_0x45d9f1);}function updateSeriesBatch(_0x4bd807,_0x227025){const _0x540000=a2_0x2aa9e2,_0x10c042=[],_0x1a85cf=_0x227025['seriesId'];if(_0x4bd807===_0x540000(0x361)){const _0x387010={..._0x227025,'seriesId':null},_0xa0eaba=sessions['findIndex'](_0x284af3=>_0x284af3['id']===_0x227025['id']);if(_0xa0eaba!==-0x1)sessions[_0xa0eaba]=_0x387010;_0x10c042['push'](_0x387010[_0x540000(0x30b)]);}else{if(_0x4bd807===_0x540000(0x204)){const _0x25f5be=_0x227025[_0x540000(0x30b)];sessions[_0x540000(0x304)]((_0x5a95a6,_0x49ce1a)=>{const _0x52ef96=_0x540000;_0x5a95a6['seriesId']===_0x1a85cf&&_0x5a95a6['dateStr']>=_0x25f5be&&(sessions[_0x49ce1a]={...sessions[_0x49ce1a],'start':_0x227025[_0x52ef96(0x348)],'end':_0x227025[_0x52ef96(0x330)],'note':_0x227025['note'],'client':_0x227025[_0x52ef96(0x323)],'clientId':_0x227025['clientId']},_0x10c042[_0x52ef96(0x2e9)](_0x5a95a6[_0x52ef96(0x30b)]));});}}afterSaveAction(_0x10c042);}function tryDeleteSession(){const _0x46e711=a2_0x2aa9e2,_0x11d5f5=sessions['find'](_0x759ddb=>_0x759ddb['id']===editingId);if(!_0x11d5f5)return;_0x11d5f5['seriesId']?openActionSheet(_0x46e711(0x1f8)):commitDelete(_0x46e711(0x361),_0x11d5f5);}function commitDelete(_0x400021,_0x3a0894){const _0x456285=a2_0x2aa9e2;lastUserActionTime=Date[_0x456285(0x263)](),NotificationManager[_0x456285(0x2f9)](_0x456285(0x299),_0x3a0894);const _0x1876ea=[];if(_0x400021===_0x456285(0x361))sessions=sessions[_0x456285(0x283)](_0x4a087a=>_0x4a087a['id']!==_0x3a0894['id']),_0x1876ea[_0x456285(0x2e9)](_0x3a0894['dateStr']);else{if(_0x400021==='series'){const _0x3be66a=_0x3a0894['dateStr'],_0x17668b=_0x3a0894[_0x456285(0x25f)];sessions[_0x456285(0x304)](_0x18105c=>{const _0x178f41=_0x456285;_0x18105c[_0x178f41(0x25f)]===_0x17668b&&_0x18105c[_0x178f41(0x30b)]>=_0x3be66a&&_0x1876ea[_0x178f41(0x2e9)](_0x18105c[_0x178f41(0x30b)]);}),sessions=sessions[_0x456285(0x283)](_0x4c7b12=>!(_0x4c7b12['seriesId']===_0x17668b&&_0x4c7b12[_0x456285(0x30b)]>=_0x3be66a));}}afterSaveAction(_0x1876ea);}function afterSaveAction(_0x4d3ad5){const _0x21b8d2=a2_0x2aa9e2;DataManager['saveLocally'](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x21b8d2(0x343)](_0x4d3ad5)[_0x21b8d2(0x2a1)](()=>console[_0x21b8d2(0x33b)](_0x21b8d2(0x2c1)))[_0x21b8d2(0x316)](_0x259ccc=>showToast(_0x21b8d2(0x1f6),![]));}const NotificationManager={'formatDate'(_0x2ad488){const _0x2b3679=a2_0x2aa9e2,_0x3350fa=new Date(_0x2ad488),_0x3258b7={'weekday':'long','day':'numeric','month':_0x2b3679(0x365)};let _0x4370e8=_0x3350fa['toLocaleDateString'](_0x2b3679(0x2d1),_0x3258b7);return _0x4370e8[_0x2b3679(0x277)](0x0)[_0x2b3679(0x34c)]()+_0x4370e8[_0x2b3679(0x228)](0x1);},'getText'(_0x3bfa08,_0x4c799b){const _0x587ae5=a2_0x2aa9e2,_0x588262=this['formatDate'](_0x4c799b[_0x587ae5(0x30b)]);switch(_0x3bfa08){case _0x587ae5(0x326):return _0x587ae5(0x271)+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0x588262+'\x0a')+(_0x587ae5(0x35f)+_0x4c799b['start']+'\x20‚Äî\x20'+_0x4c799b['end']+'\x0a\x0a')+_0x587ae5(0x270);case _0x587ae5(0x26e):return _0x587ae5(0x225)+_0x587ae5(0x1e0)+(_0x587ae5(0x285)+_0x4c799b[_0x587ae5(0x348)]+_0x587ae5(0x201)+_0x4c799b[_0x587ae5(0x330)]+_0x587ae5(0x2ea))+(_0x587ae5(0x2c9)+_0x588262);case _0x587ae5(0x299):return _0x587ae5(0x28e)+(_0x587ae5(0x1fa)+_0x588262+'\x20('+_0x4c799b[_0x587ae5(0x348)]+_0x587ae5(0x1f9));case _0x587ae5(0x2e7):return _0x587ae5(0x208)+_0x587ae5(0x2a8)+_0x587ae5(0x303);default:return'';}},async 'send'(_0x5da8d4,_0x2c4c57){const _0x508b94=a2_0x2aa9e2;console[_0x508b94(0x33b)](_0x508b94(0x2d2),_0x5da8d4,_0x2c4c57);if(!_0x2c4c57){console[_0x508b94(0x298)](_0x508b94(0x2fa));return;}const _0x2960ef=String(_0x2c4c57[_0x508b94(0x2c3)]);console[_0x508b94(0x33b)](_0x508b94(0x2ff),_0x2960ef);if(!_0x2c4c57[_0x508b94(0x2c3)]||_0x2960ef===_0x508b94(0x2d6)||_0x2960ef===_0x508b94(0x2e3)){console[_0x508b94(0x298)](_0x508b94(0x264));if(_0x2c4c57[_0x508b94(0x323)]){const _0x79589=clients['find'](_0x2cd86d=>_0x2cd86d[_0x508b94(0x218)]===_0x2c4c57[_0x508b94(0x323)]);if(_0x79589)return console[_0x508b94(0x33b)](_0x508b94(0x34a),_0x79589['id']),this[_0x508b94(0x2f9)](_0x5da8d4,{..._0x2c4c57,'clientId':_0x79589['id']});}return;}if(_0x2960ef[_0x508b94(0x344)]<0x5){console[_0x508b94(0x2db)]('[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)',_0x2960ef);return;}const _0x2d3c0e=this[_0x508b94(0x2fd)](_0x5da8d4,_0x2c4c57);if(!_0x2d3c0e){console[_0x508b94(0x298)](_0x508b94(0x31f));return;}console[_0x508b94(0x33b)](_0x508b94(0x1ea)+_0x2960ef+'...'),DataManager[_0x508b94(0x1db)](_0x508b94(0x2b8),{'chatId':_0x2960ef,'text':_0x2d3c0e})[_0x508b94(0x2a1)](_0x4123a8=>console[_0x508b94(0x33b)](_0x508b94(0x1e5),_0x4123a8))['catch'](_0x44d53b=>console[_0x508b94(0x298)]('[Notify]\x20Network\x20Failed',_0x44d53b));}};function getLocalDateStr(_0xe99634){const _0x313e2b=a2_0x2aa9e2,_0x567935=_0xe99634[_0x313e2b(0x22a)](),_0x22fab3=String(_0xe99634[_0x313e2b(0x224)]()+0x1)[_0x313e2b(0x2a7)](0x2,'0'),_0x422297=String(_0xe99634[_0x313e2b(0x2f3)]())['padStart'](0x2,'0');return _0x567935+'-'+_0x22fab3+'-'+_0x422297;}function getDateStr(_0x33980b){const _0x29495e=new Date();return _0x29495e['setDate'](_0x29495e['getDate']()+_0x33980b),getLocalDateStr(_0x29495e);}function getStartOfWeek(_0xb605){const _0x236065=a2_0x2aa9e2,_0x5ebed0=new Date(_0xb605),_0x57739f=_0x5ebed0[_0x236065(0x1f5)](),_0x3a8f0c=_0x5ebed0[_0x236065(0x2f3)]()-_0x57739f+(_0x57739f===0x0?-0x6:0x1);return _0x5ebed0['setDate'](_0x3a8f0c),_0x5ebed0['setHours'](0x0,0x0,0x0,0x0),_0x5ebed0;}function hexToRgba(_0x3ea021,_0x270fb7){const _0x434ca9=a2_0x2aa9e2;if(!_0x3ea021)return _0x434ca9(0x290);let _0x298f3b=0x0,_0x394ac0=0x0,_0x1efca9=0x0;if(_0x3ea021[_0x434ca9(0x344)]===0x4)_0x298f3b='0x'+_0x3ea021[0x1]+_0x3ea021[0x1],_0x394ac0='0x'+_0x3ea021[0x2]+_0x3ea021[0x2],_0x1efca9='0x'+_0x3ea021[0x3]+_0x3ea021[0x3];else _0x3ea021[_0x434ca9(0x344)]===0x7&&(_0x298f3b='0x'+_0x3ea021[0x1]+_0x3ea021[0x2],_0x394ac0='0x'+_0x3ea021[0x3]+_0x3ea021[0x4],_0x1efca9='0x'+_0x3ea021[0x5]+_0x3ea021[0x6]);return'rgba('+ +_0x298f3b+',\x20'+ +_0x394ac0+',\x20'+ +_0x1efca9+',\x20'+_0x270fb7+')';}function renderTimeColumn(){const _0x2cc7ec=a2_0x2aa9e2,_0x257477=document[_0x2cc7ec(0x320)](_0x2cc7ec(0x2a0)),_0x4602ce=document['getElementById'](_0x2cc7ec(0x350));_0x257477['innerHTML']='',_0x257477[_0x2cc7ec(0x35d)](_0x4602ce);for(let _0x3fb3ba=0x0;_0x3fb3ba<0x18;_0x3fb3ba++){const _0x54bf9f=document['createElement']('div');_0x54bf9f['className']=_0x2cc7ec(0x21f);if(_0x3fb3ba>0x0)_0x54bf9f['innerHTML']=_0x2cc7ec(0x331)+String(_0x3fb3ba)[_0x2cc7ec(0x2a7)](0x2,'0')+_0x2cc7ec(0x273);_0x257477['appendChild'](_0x54bf9f);}}function renderDayRange(_0x4f49fe,_0x63e499){const _0x18af1b=a2_0x2aa9e2,_0x42dd4b=document[_0x18af1b(0x320)](_0x18af1b(0x32a)),_0x33d5f1=document[_0x18af1b(0x320)](_0x18af1b(0x265)),_0x20aa10=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x305258=new Date();_0x305258[_0x18af1b(0x214)](0x0,0x0,0x0,0x0);const _0x1c2063=getLocalDateStr(new Date());for(let _0xc86e76=_0x4f49fe;_0xc86e76<=_0x63e499;_0xc86e76++){const _0x13f407=new Date(_0x305258);_0x13f407['setDate'](_0x13f407[_0x18af1b(0x2f3)]()+_0xc86e76);const _0x19f6a1=getLocalDateStr(_0x13f407);let _0x302950=_0x13f407[_0x18af1b(0x1f5)]()-0x1;if(_0x302950===-0x1)_0x302950=0x6;const _0x4e4d11=_0x19f6a1===_0x1c2063,_0x5c2749=document[_0x18af1b(0x33e)](_0x18af1b(0x33c));_0x5c2749[_0x18af1b(0x309)]=_0x18af1b(0x1d6)+(_0x4e4d11?'today':''),_0x5c2749['id']=_0x18af1b(0x260)+_0x19f6a1,_0x5c2749[_0x18af1b(0x31e)](_0x18af1b(0x2a5),_0x19f6a1),_0x5c2749[_0x18af1b(0x1d9)]=_0x18af1b(0x244)+_0x20aa10[_0x302950]+_0x18af1b(0x20e)+_0x13f407['getDate']()+_0x18af1b(0x328)+_0x19f6a1+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x5c2749[_0x18af1b(0x21a)]=()=>openDayOptions(_0x19f6a1,_0x20aa10[_0x302950]+'\x20'+_0x13f407['getDate']()),_0x42dd4b[_0x18af1b(0x35d)](_0x5c2749);const _0x3ef75b=document[_0x18af1b(0x33e)]('div');_0x3ef75b[_0x18af1b(0x309)]='day-column\x20'+(_0x4e4d11?_0x18af1b(0x284):''),_0x3ef75b[_0x18af1b(0x31e)](_0x18af1b(0x2a5),_0x19f6a1),_0x3ef75b[_0x18af1b(0x31e)]('data-day-idx',_0x302950),renderEventsForColumn(_0x3ef75b,_0x19f6a1,_0x302950),attachLongPressHandler(_0x3ef75b,_0x13f407),_0x33d5f1[_0x18af1b(0x35d)](_0x3ef75b),updateDayStats(_0x19f6a1);}}function reRenderBlocks(){const _0x2f5199=a2_0x2aa9e2;document[_0x2f5199(0x26a)](_0x2f5199(0x20f))[_0x2f5199(0x304)](_0x309f3d=>{const _0x2fba83=_0x2f5199;_0x309f3d[_0x2fba83(0x26a)](_0x2fba83(0x210))[_0x2fba83(0x304)](_0x8b4d79=>_0x8b4d79[_0x2fba83(0x2ee)]());const _0x164875=_0x309f3d[_0x2fba83(0x2f2)](_0x2fba83(0x2a5)),_0x5f1748=parseInt(_0x309f3d['getAttribute'](_0x2fba83(0x294))),_0x4420e3=Math[_0x2fba83(0x2af)](_0x309f3d[_0x2fba83(0x257)]);(availabilityPattern[_0x5f1748]||[])[_0x2fba83(0x304)](_0x462bd5=>{const _0x55dd44=_0x2fba83,_0x428c15=document['createElement'](_0x55dd44(0x33c));_0x428c15[_0x55dd44(0x309)]=_0x55dd44(0x202);const _0x58dde7=_0x462bd5*GRID_H;_0x428c15[_0x55dd44(0x2b9)]['top']=_0x58dde7+'px',_0x428c15[_0x55dd44(0x2b9)][_0x55dd44(0x2e0)]='-'+_0x4420e3+_0x55dd44(0x1f7)+_0x58dde7+'px',_0x309f3d[_0x55dd44(0x35d)](_0x428c15);});if(specialRanges&&specialRanges['length']>0x0){const _0x50cc7f=new Date(_0x164875+_0x2fba83(0x334))['getTime'](),_0x3d5e57=new Date(_0x164875+_0x2fba83(0x1f2))[_0x2fba83(0x2f7)]();specialRanges['forEach'](_0x35efc9=>{const _0x555645=_0x2fba83,_0x12118c=new Date(_0x35efc9['start'])[_0x555645(0x2f7)](),_0xe94697=new Date(_0x35efc9[_0x555645(0x330)])[_0x555645(0x2f7)](),_0x5f2783=Math[_0x555645(0x1fc)](_0x50cc7f,_0x12118c),_0x14dba8=Math[_0x555645(0x337)](_0x3d5e57,_0xe94697);if(_0x5f2783<_0x14dba8){if(_0x5f2783<=_0x50cc7f&&_0x14dba8>=_0x3d5e57-0xea60){if(!_0x309f3d[_0x555645(0x307)](_0x555645(0x252))){const _0x5fbab1=document['createElement'](_0x555645(0x33c));_0x5fbab1[_0x555645(0x309)]=_0x555645(0x242),_0x5fbab1['style'][_0x555645(0x2e0)]='-'+_0x4420e3+'px\x200px',_0x309f3d[_0x555645(0x35d)](_0x5fbab1);}}else{const _0x33558f=(_0x5f2783-_0x50cc7f)/0x36ee80*GRID_H,_0x4740ce=(_0x14dba8-_0x5f2783)/0x36ee80*GRID_H,_0x59ff1d=document[_0x555645(0x33e)]('div');_0x59ff1d[_0x555645(0x309)]=_0x555645(0x353),_0x59ff1d[_0x555645(0x2b9)][_0x555645(0x32f)]=_0x33558f+'px',_0x59ff1d[_0x555645(0x2b9)][_0x555645(0x1e6)]=_0x4740ce+'px',_0x59ff1d[_0x555645(0x2b9)][_0x555645(0x2e0)]='-'+_0x4420e3+_0x555645(0x1f7)+_0x33558f+'px',_0x309f3d['appendChild'](_0x59ff1d);}}});}if(dateExceptions[_0x164875]===_0x2fba83(0x2dc)){if(!_0x309f3d[_0x2fba83(0x307)](_0x2fba83(0x252))){const _0xb18c0b=document['createElement']('div');_0xb18c0b[_0x2fba83(0x309)]=_0x2fba83(0x242),_0xb18c0b[_0x2fba83(0x2b9)]['backgroundPosition']='-'+_0x4420e3+_0x2fba83(0x24b),_0x309f3d['appendChild'](_0xb18c0b);}}renderEventsForColumn(_0x309f3d,_0x164875,_0x5f1748),updateDayStats(_0x164875);});}function updateAllDayStats(){const _0x52ffae=a2_0x2aa9e2;document['querySelectorAll'](_0x52ffae(0x2e4))['forEach'](_0xfd6dbe=>{const _0x3be4f6=_0x52ffae;updateDayStats(_0xfd6dbe[_0x3be4f6(0x2f2)](_0x3be4f6(0x2a5)));});}function updateDayStats(_0x2c397d){const _0x319389=a2_0x2aa9e2,_0x2e0bf4=document[_0x319389(0x320)](_0x319389(0x2ca)+_0x2c397d);if(!_0x2e0bf4)return;const _0x51e445=new Date(_0x2c397d);let _0x40ea35=_0x51e445[_0x319389(0x1f5)]()-0x1;if(_0x40ea35===-0x1)_0x40ea35=0x6;if(dateExceptions[_0x2c397d]===_0x319389(0x2dc)){_0x2e0bf4['style'][_0x319389(0x1e7)]='none';return;}const _0x23895e=availabilityPattern[_0x40ea35]||[],_0x5e3b59=0x18-_0x23895e[_0x319389(0x344)],_0x43789a=_0x5e3b59*0x3c,_0x21da94=sessions['filter'](_0xb4ae31=>_0xb4ae31[_0x319389(0x30b)]===_0x2c397d&&_0xb4ae31['status']!=='cancelled');if(_0x21da94[_0x319389(0x344)]===0x0){_0x2e0bf4[_0x319389(0x2b9)][_0x319389(0x1e7)]=_0x319389(0x315);return;}let _0x59c6f8=_0x21da94[_0x319389(0x207)](_0x3c0401=>{const _0x1b48e6=_0x319389,[_0x149a5f,_0x4aeeaf]=_0x3c0401[_0x1b48e6(0x348)][_0x1b48e6(0x364)](':')[_0x1b48e6(0x207)](Number),[_0x45bc36,_0x4d2441]=_0x3c0401[_0x1b48e6(0x330)][_0x1b48e6(0x364)](':')[_0x1b48e6(0x207)](Number);return[_0x149a5f*0x3c+_0x4aeeaf,_0x45bc36*0x3c+_0x4d2441];});_0x59c6f8[_0x319389(0x33a)]((_0x25b805,_0x3da88f)=>_0x25b805[0x0]-_0x3da88f[0x0]);let _0x1486d1=[];if(_0x59c6f8[_0x319389(0x344)]>0x0){let _0x2fbb04=_0x59c6f8[0x0];for(let _0x44f179=0x1;_0x44f179<_0x59c6f8['length'];_0x44f179++){_0x59c6f8[_0x44f179][0x0]<_0x2fbb04[0x1]?_0x2fbb04[0x1]=Math[_0x319389(0x1fc)](_0x2fbb04[0x1],_0x59c6f8[_0x44f179][0x1]):(_0x1486d1['push'](_0x2fbb04),_0x2fbb04=_0x59c6f8[_0x44f179]);}_0x1486d1[_0x319389(0x2e9)](_0x2fbb04);}let _0x2a6918=0x0;_0x1486d1[_0x319389(0x304)](_0x69ba2e=>_0x2a6918+=_0x69ba2e[0x1]-_0x69ba2e[0x0]),_0x2e0bf4[_0x319389(0x2b9)][_0x319389(0x1e7)]=_0x319389(0x358);const _0x26237a=_0x2e0bf4[_0x319389(0x307)]('.dch-stats-fill');if(_0x43789a===0x0){_0x26237a['style']['width']=_0x319389(0x24a),_0x26237a['style'][_0x319389(0x2a9)]=_0x319389(0x2b5);return;}const _0x8c054=_0x2a6918/_0x43789a*0x64;console['log']('['+_0x2c397d+_0x319389(0x30c)+_0x5e3b59+_0x319389(0x340)+_0x2a6918+_0x319389(0x266)+_0x8c054[_0x319389(0x1eb)](0x1)+'%'),_0x8c054>0x64?(_0x26237a[_0x319389(0x2b9)][_0x319389(0x250)]=_0x319389(0x24a),_0x26237a[_0x319389(0x2b9)][_0x319389(0x2a9)]=_0x319389(0x2b5)):(_0x26237a[_0x319389(0x2b9)][_0x319389(0x250)]=_0x8c054+'%',_0x26237a[_0x319389(0x2b9)]['background']=_0x319389(0x21c));}function renderEventsForColumn(_0x4bad16,_0x31ecf0,_0x3d2dff){const _0xfa2e06=a2_0x2aa9e2,_0x4f0c1b=sessions[_0xfa2e06(0x283)](_0xfebb74=>_0xfebb74[_0xfa2e06(0x30b)]===_0x31ecf0),_0x50b954=_0x4f0c1b[_0xfa2e06(0x207)](_0x188687=>{const _0x41e3f3=_0xfa2e06,[_0x46ad39,_0x7e2629]=_0x188687[_0x41e3f3(0x348)][_0x41e3f3(0x364)](':')[_0x41e3f3(0x207)](Number),[_0x3d373e,_0x18adfc]=_0x188687[_0x41e3f3(0x330)][_0x41e3f3(0x364)](':')['map'](Number);return{'data':_0x188687,'start':_0x46ad39*0x3c+_0x7e2629,'end':_0x3d373e*0x3c+_0x18adfc,'colIndex':0x0};});_0x50b954['sort']((_0x299080,_0x357bbf)=>{const _0xc6a51f=_0xfa2e06;if(_0x299080[_0xc6a51f(0x348)]!==_0x357bbf[_0xc6a51f(0x348)])return _0x299080[_0xc6a51f(0x348)]-_0x357bbf['start'];return _0x357bbf[_0xc6a51f(0x330)]-_0x357bbf[_0xc6a51f(0x348)]-(_0x299080[_0xc6a51f(0x330)]-_0x299080[_0xc6a51f(0x348)]);});const _0x3aaf5b=[];_0x50b954[_0xfa2e06(0x304)](_0x2f4d31=>{const _0x3768a1=_0xfa2e06;let _0x5804fa=![];for(let _0x2f49ed=0x0;_0x2f49ed<_0x3aaf5b[_0x3768a1(0x344)];_0x2f49ed++){const _0x322ce6=_0x3aaf5b[_0x2f49ed],_0x299004=_0x322ce6[_0x322ce6[_0x3768a1(0x344)]-0x1];if(_0x2f4d31['start']>=_0x299004[_0x3768a1(0x330)]){_0x322ce6[_0x3768a1(0x2e9)](_0x2f4d31),_0x2f4d31[_0x3768a1(0x2b3)]=_0x2f49ed,_0x5804fa=!![];break;}}!_0x5804fa&&(_0x3aaf5b['push']([_0x2f4d31]),_0x2f4d31[_0x3768a1(0x2b3)]=_0x3aaf5b[_0x3768a1(0x344)]-0x1);}),_0x50b954[_0xfa2e06(0x304)](_0x15a372=>{const _0x4ae418=_0xfa2e06;let _0x42a5e3=0x0;_0x50b954[_0x4ae418(0x304)](_0x2caeff=>{const _0x141250=_0x4ae418;if(Math[_0x141250(0x1fc)](_0x15a372['start'],_0x2caeff[_0x141250(0x348)])<Math[_0x141250(0x337)](_0x15a372[_0x141250(0x330)],_0x2caeff['end'])){if(_0x2caeff[_0x141250(0x2b3)]>_0x42a5e3)_0x42a5e3=_0x2caeff[_0x141250(0x2b3)];}});const _0x4fa6fd=_0x42a5e3+0x1,_0x1c51db=0x64/_0x4fa6fd,_0x414885=_0x15a372['colIndex']*_0x1c51db,_0x3b3d9f=createEventEl(_0x15a372['data']);_0x3b3d9f['style'][_0x4ae418(0x250)]=_0x4ae418(0x1fd)+_0x1c51db+_0x4ae418(0x354),_0x3b3d9f[_0x4ae418(0x2b9)]['left']=_0x4ae418(0x1fd)+_0x414885+_0x4ae418(0x20b),_0x3b3d9f[_0x4ae418(0x2b9)][_0x4ae418(0x2bb)]=0xa+_0x15a372['colIndex'],_0x1c51db<0x55&&_0x3b3d9f[_0x4ae418(0x295)][_0x4ae418(0x314)](_0x4ae418(0x319)),_0x4bad16[_0x4ae418(0x35d)](_0x3b3d9f);});}function createEventEl(_0x347253){const _0x29c341=a2_0x2aa9e2,[_0x3e6df0,_0x247864]=_0x347253['start'][_0x29c341(0x364)](':')[_0x29c341(0x207)](Number),[_0x10e73a,_0x469370]=_0x347253[_0x29c341(0x330)][_0x29c341(0x364)](':')[_0x29c341(0x207)](Number),_0x48be23=(_0x3e6df0*0x3c+_0x247864)/0x3c*GRID_H,_0x7ec9fe=(_0x10e73a*0x3c+_0x469370-(_0x3e6df0*0x3c+_0x247864))/0x3c*GRID_H,_0x28fa04=document[_0x29c341(0x33e)]('div'),_0x5729be=_0x347253[_0x29c341(0x27c)]===_0x29c341(0x26f)?_0x29c341(0x25e):'';_0x28fa04[_0x29c341(0x309)]=_0x29c341(0x31d)+_0x5729be,_0x28fa04[_0x29c341(0x2b9)]['top']=_0x48be23+'px',_0x28fa04['style'][_0x29c341(0x1e6)]=Math['max'](_0x7ec9fe,0x14)+'px';const _0xf26a04=clients[_0x29c341(0x22f)](_0x2f74a5=>_0x347253['clientId']&&String(_0x2f74a5['id'])===String(_0x347253['clientId'])||_0x2f74a5['name']===_0x347253[_0x29c341(0x323)]),_0x1c414f=_0xf26a04?_0xf26a04[_0x29c341(0x2bc)]:_0x29c341(0x1df);_0x28fa04[_0x29c341(0x2b9)][_0x29c341(0x232)]=_0x1c414f,_0x28fa04[_0x29c341(0x2b9)][_0x29c341(0x317)]=hexToRgba(_0x1c414f,0.85);let _0x4f6202=_0x29c341(0x243)+_0x347253['client']+_0x29c341(0x239)+_0x347253['start']+_0x29c341(0x254)+_0x347253[_0x29c341(0x330)]+'</div>';return _0x347253[_0x29c341(0x25f)]&&(_0x4f6202+=_0x29c341(0x2ba)),_0x347253[_0x29c341(0x27c)]==='completed'&&(_0x4f6202+=_0x29c341(0x20d)),_0x28fa04[_0x29c341(0x1d9)]=_0x4f6202,_0x28fa04[_0x29c341(0x21a)]=_0x2b0d21=>{const _0x23b423=_0x29c341;_0x2b0d21[_0x23b423(0x341)](),openEdit(_0x347253);},_0x28fa04;}function attachLongPressHandler(_0x15da1e,_0x186f50){const _0x54847a=a2_0x2aa9e2;let _0xcc37bc=0x0,_0x4658dc=null;const _0x73ce07=_0x1b5937=>{const _0x58c3b3=a2_0x5c71;if(_0x1b5937[_0x58c3b3(0x2a4)]['closest'](_0x58c3b3(0x2b4)))return;isScrolling=![],_0xcc37bc=_0x1b5937['touches']?_0x1b5937[_0x58c3b3(0x32b)][0x0][_0x58c3b3(0x211)]:_0x1b5937[_0x58c3b3(0x211)],_0x4658dc=setTimeout(()=>{const _0x5d9841=_0x58c3b3;if(!isScrolling){navigator[_0x5d9841(0x2bf)]?.(0x32);const _0x5ca416=_0x15da1e[_0x5d9841(0x23b)](),_0x58efdc=Math[_0x5d9841(0x2f8)]((_0xcc37bc-_0x5ca416[_0x5d9841(0x32f)])/GRID_H);_0x186f50[_0x5d9841(0x214)](_0x58efdc,0x0),openAddSession(_0x186f50);}},0x1f4);},_0x57286d=()=>{isScrolling=!![],clearTimeout(_0x4658dc);},_0x3a36ee=()=>{clearTimeout(_0x4658dc);};_0x15da1e['addEventListener'](_0x54847a(0x2b1),_0x73ce07,{'passive':!![]}),_0x15da1e[_0x54847a(0x2d5)](_0x54847a(0x21b),_0x57286d,{'passive':!![]}),_0x15da1e[_0x54847a(0x2d5)]('touchend',_0x3a36ee),_0x15da1e[_0x54847a(0x2d5)](_0x54847a(0x360),_0x73ce07),_0x15da1e[_0x54847a(0x2d5)](_0x54847a(0x32d),_0x57286d),_0x15da1e[_0x54847a(0x2d5)](_0x54847a(0x31a),_0x3a36ee);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x1b00d1=a2_0x2aa9e2,_0x304961=document[_0x1b00d1(0x320)]('matrixViewport'),_0x3a9ae2=_0x304961[_0x1b00d1(0x339)],_0x15c2b2=_0x304961[_0x1b00d1(0x2dd)],_0x240cae=_0x304961[_0x1b00d1(0x23f)];if(_0x15c2b2-(_0x3a9ae2+_0x240cae)<0x12c){const _0x1598af=endOffset;endOffset+=0xe,renderDayRange(_0x1598af+0x1,endOffset),reRenderBlocks();}if(_0x3a9ae2<0x12c){const _0x50af81=startOffset;startOffset-=0xe,prependDays(startOffset,_0x50af81-0x1),_0x304961[_0x1b00d1(0x339)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x1bfa00,_0x159828){const _0x25eab4=a2_0x2aa9e2,_0x49fdb9=document[_0x25eab4(0x320)](_0x25eab4(0x32a)),_0x16d2d3=document[_0x25eab4(0x320)](_0x25eab4(0x265)),_0x15c7e9=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x74a6a3=new Date();_0x74a6a3['setHours'](0x0,0x0,0x0,0x0);const _0x40e9ab=getLocalDateStr(new Date()),_0x3f1c1a=document[_0x25eab4(0x2e5)](),_0x5d07cd=document[_0x25eab4(0x2e5)]();for(let _0x55cd4d=_0x1bfa00;_0x55cd4d<=_0x159828;_0x55cd4d++){const _0x31492e=new Date(_0x74a6a3);_0x31492e[_0x25eab4(0x236)](_0x31492e[_0x25eab4(0x2f3)]()+_0x55cd4d);const _0x1e594d=getLocalDateStr(_0x31492e);let _0xb24afc=_0x31492e[_0x25eab4(0x1f5)]()-0x1;if(_0xb24afc===-0x1)_0xb24afc=0x6;const _0x362b7d=_0x1e594d===_0x40e9ab,_0x1af969=document['createElement'](_0x25eab4(0x33c));_0x1af969[_0x25eab4(0x309)]=_0x25eab4(0x1d6)+(_0x362b7d?_0x25eab4(0x284):''),_0x1af969['id']=_0x25eab4(0x260)+_0x1e594d,_0x1af969[_0x25eab4(0x31e)](_0x25eab4(0x2a5),_0x1e594d),_0x1af969[_0x25eab4(0x1d9)]=_0x25eab4(0x244)+_0x15c7e9[_0xb24afc]+_0x25eab4(0x20e)+_0x31492e[_0x25eab4(0x2f3)]()+_0x25eab4(0x328)+_0x1e594d+_0x25eab4(0x2ad),_0x1af969[_0x25eab4(0x21a)]=()=>openDayOptions(_0x1e594d,_0x15c7e9[_0xb24afc]+'\x20'+_0x31492e['getDate']()),_0x3f1c1a[_0x25eab4(0x35d)](_0x1af969);const _0x109893=document[_0x25eab4(0x33e)](_0x25eab4(0x33c));_0x109893['className']=_0x25eab4(0x29c)+(_0x362b7d?_0x25eab4(0x284):''),_0x109893[_0x25eab4(0x31e)]('data-date',_0x1e594d),_0x109893[_0x25eab4(0x31e)]('data-day-idx',_0xb24afc),renderEventsForColumn(_0x109893,_0x1e594d,_0xb24afc),attachLongPressHandler(_0x109893,_0x31492e),_0x5d07cd[_0x25eab4(0x35d)](_0x109893),updateDayStats(_0x1e594d);}_0x49fdb9['insertBefore'](_0x3f1c1a,_0x49fdb9['firstChild']),_0x16d2d3[_0x25eab4(0x2f4)](_0x5d07cd,_0x16d2d3[_0x25eab4(0x307)](_0x25eab4(0x235)));}function validateAppointment(_0x4403de,_0x36cc9a,_0x58bf87,_0x1a829a,_0x50ed91){const _0xbe551f=a2_0x2aa9e2,[_0x5967c3,_0x3709ba]=_0x36cc9a[_0xbe551f(0x364)](':')['map'](Number),[_0x520cf3,_0x60a590]=_0x58bf87[_0xbe551f(0x364)](':')['map'](Number),_0x6717b4=_0x5967c3*0x3c+_0x3709ba,_0x25d8c3=_0x520cf3*0x3c+_0x60a590,_0x20afdc=String(_0x50ed91);let _0xa00d68=![],_0x2af38a='';for(let _0xa713a5 of sessions){if(_0xa713a5[_0xbe551f(0x30b)]!==_0x4403de)continue;if(_0xa713a5['status']===_0xbe551f(0x33d))continue;if(_0x1a829a&&String(_0xa713a5['id'])===String(_0x1a829a))continue;const [_0x444c25,_0x7af8ec]=_0xa713a5[_0xbe551f(0x348)][_0xbe551f(0x364)](':')[_0xbe551f(0x207)](Number),[_0x4a579b,_0x5b190a]=_0xa713a5[_0xbe551f(0x330)][_0xbe551f(0x364)](':')['map'](Number),_0x3d94b2=_0x444c25*0x3c+_0x7af8ec,_0x283a66=_0x4a579b*0x3c+_0x5b190a;if(Math[_0xbe551f(0x1fc)](_0x6717b4,_0x3d94b2)<Math['min'](_0x25d8c3,_0x283a66)){if(_0xa713a5['clientId']&&String(_0xa713a5[_0xbe551f(0x2c3)])===_0x20afdc)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0xa713a5[_0xbe551f(0x323)]+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0xa00d68=!![],_0x2af38a=_0xa713a5[_0xbe551f(0x323)];}}if(_0xa00d68)return{'valid':!![],'warning':_0xbe551f(0x223)+_0x2af38a};return{'valid':!![]};}function updateDateDisplay(){const _0x512cdd=a2_0x2aa9e2,_0x4aba6e=document[_0x512cdd(0x320)]('inpDate')[_0x512cdd(0x30a)],_0x396006=document[_0x512cdd(0x320)](_0x512cdd(0x1da));if(!_0x4aba6e){_0x396006[_0x512cdd(0x313)]='';return;}const [_0x52c43a,_0x3c7a00,_0x4055f4]=_0x4aba6e['split']('-')['map'](Number),_0x35d88a=new Date(_0x52c43a,_0x3c7a00-0x1,_0x4055f4),_0x597718={'weekday':'long','day':_0x512cdd(0x293),'month':_0x512cdd(0x365),'year':_0x512cdd(0x293)};let _0x4f7a2c=_0x35d88a[_0x512cdd(0x1dd)](_0x512cdd(0x2d1),_0x597718);_0x4f7a2c=_0x4f7a2c[_0x512cdd(0x277)](0x0)[_0x512cdd(0x34c)]()+_0x4f7a2c['slice'](0x1),_0x396006[_0x512cdd(0x313)]=_0x4f7a2c;}function autoSetEndTime(){const _0x45bbe2=a2_0x2aa9e2,_0x4470ad=document[_0x45bbe2(0x320)]('inpStart')[_0x45bbe2(0x30a)];if(!_0x4470ad)return;const [_0x542f92,_0x390451]=_0x4470ad['split'](':')[_0x45bbe2(0x207)](Number);let _0x1e6516=_0x542f92+0x1;if(_0x1e6516>0x17)_0x1e6516=0x0;const _0x14a7e1=String(_0x1e6516)[_0x45bbe2(0x2a7)](0x2,'0')+':'+String(_0x390451)[_0x45bbe2(0x2a7)](0x2,'0');document[_0x45bbe2(0x320)](_0x45bbe2(0x29d))[_0x45bbe2(0x30a)]=_0x14a7e1;}function populateClientSelect(){const _0x4c05bc=a2_0x2aa9e2,_0x2bbd96=document[_0x4c05bc(0x320)](_0x4c05bc(0x238));_0x2bbd96['innerHTML']='';if(clients[_0x4c05bc(0x344)]===0x0){const _0x4bc883=document[_0x4c05bc(0x33e)](_0x4c05bc(0x2df));_0x4bc883['text']=_0x4c05bc(0x29f),_0x2bbd96[_0x4c05bc(0x35d)](_0x4bc883);return;}clients['forEach'](_0x3f3ac3=>{const _0x8e7b43=_0x4c05bc,_0x30642b=document['createElement'](_0x8e7b43(0x2df));_0x30642b[_0x8e7b43(0x30a)]=_0x3f3ac3['name'],_0x30642b['textContent']=_0x3f3ac3['name'],_0x2bbd96[_0x8e7b43(0x35d)](_0x30642b);});}function a2_0x1427(){const _0x4051a7=['show','split','long','day-col-header\x20','sheetTitle','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','innerHTML','sheetDateSubtitle','fetchFromServer','splice','toLocaleDateString','substr','#0a84ff','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','actionSheetOverlay','–ò–Ω—Ñ–æ','\x20–∏–∑\x20','week','[Notify]\x20Server\x20Response:','height','display','uc_settings_cancel_window','text/plain;charset=UTF-8','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','toFixed','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','btnStatusToggle','rangeStartDate','rangeEndTime','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','10px','T23:59:59','init_load','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','getDay','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','px\x20-','delete',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','success','max','calc(','parse','–£—Å–ø–µ—à–Ω–æ','#050505','\x20‚Äî\x20','blocked-slot\x20stripe-bg','doDateHeader','series','matrixViewport','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','map','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','settingsSheet','toLocaleString','%\x20+\x202px)','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','</div><div\x20class=\x22dch-num\x22>','#gridColumns\x20.day-column','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','clientY','guest','10297576ILbiFb','setHours','[Series]\x20Skipped\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','name','[Sync]\x20Loading\x20','onclick','touchmove','var(--acc-current)','deleted','dayOptionsTitle','time-label','var(--acc-orange)','rgba(255,255,255,0.05)','getHours','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','getMonth','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','headerMonth','uc_clients_v9','slice','batch_sync','getFullYear','uc_settings_v9','dayOptionsSheet','anPercent','ranges','find','getMinutes','23:59','borderLeftColor','settings','anStart','.day-column','setDate','745BFEFQH','inpClient','</div><div\x20class=\x22ev-time\x22>','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','getBoundingClientRect',':00','save','random','clientWidth','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','day-off-overlay\x20stripe-bg','<div\x20class=\x22ev-title\x22>','<div\x20class=\x22dch-day\x22>','Error\x20setting\x20back\x20button:','router.html','...','btnDelete','791813oWnIPw','100%','px\x200px','json','note','rangeStartTime','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','width','entries','.day-off-overlay','anEnd','\x20-\x20','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','getItem','offsetLeft','asBtnOne','ready',']\x20Failed:','localeCompare','Unknown','btnDayToggle','\x20status-completed','seriesId','header-','doBusyHours','initDataUnsafe','now','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','gridColumns','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','–£–¥–∞–ª–µ–Ω–∏–µ','client-stat-card','done','querySelectorAll','active','toString','inpRecurring','update','completed','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','block',':00</span>','toast','month','4240077yAgFKC','charAt','total','seriesCountContainer','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','patternInfoBox','status','Local\x20Load\x20Error','strokeDashoffset','offsetWidth','doLoadPercent','btn-status-toggle\x20undo-mode','settingCancelWindow','filter','today','<b>‚úÖ\x20','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','globalTimeLine','anCustomDates','toastTitle','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','10px\x2010px\x200\x200','Server\x20Error','var(--acc-green)','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','btn-primary\x20btn-danger','rgba(100,100,100,0.5)','6746859UrGsze','[Settings]\x20Cancel\x20window\x20set\x20to:','numeric','data-day-idx','classList','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','rgba(255,\x2069,\x2058,\x200.15)','error','cancel','patternEditor','saveLocally','day-column\x20','inpEnd','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','timeColumn','then','clients','de-item','target','data-date','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','padStart','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','background','indexOf','700eMrGvF','analyticsSheet','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','rangesSheet','round','anTotalStats','touchstart','rangeEndDate','colIndex','.event-card','var(--acc-red)','mergeServerData','inpDate','send_notification','style','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','zIndex','color','(((.+)+)+)+$','anDonutCircle','vibrate','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','Batch\x20Sync\x20OK','scrollTop','clientId','save_settings','doEventsList','actionSheet','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','calendar','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','stat-','startsWith','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','280122DBGUPl','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','all','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','ru-RU','[Notify]\x20Attempting\x20to\x20send:','\x20days','90IHeYtf','addEventListener','undefined','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','analyticsList','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','isArray','warn','off','scrollWidth','borderColor','option','backgroundPosition','pattern','planned','null','.day-col-header','createDocumentFragment','cancel_window','complete','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','push','</b>\x0a\x0a','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','borderRadius','disableVerticalSwipes','remove','145doKxST','constructor','from','getAttribute','getDate','insertBefore','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','valid','getTime','floor','send','[Notify]\x20Error:\x20sessionData\x20is\x20null','toastMessage','Telegram','getText','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','[Notify]\x20Detected\x20Client\x20ID:','includes','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','inpNote','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','forEach','pe-col-header','setItem','querySelector','POST','className','value','dateStr',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','9kyoPEa','as-button\x20danger','pe-corner','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','[Notify]\x20Client\x20SWAP\x20detected','recurringOptionContainer','textContent','add','none','catch','backgroundColor','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','mini','mouseup','sessionSheet','rgba(255,\x20159,\x2010,\x200.3)','event-card','setAttribute','[Notify]\x20Error:\x20Text\x20generation\x20failed','getElementById','range-item','open','client','inpStart','4425840EUFbOd','create','exceptions','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','keys','daysHeaderTrack','touches','setBackgroundColor','mousemove','rangesList','top','end','<span>','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','BackButton','T00:00:00','user','.period-switch\x20.p-btn','min','offClick','scrollLeft','sort','log','div','cancelled','createElement','asBtnSeries','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','stopPropagation','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','syncBatch','length','checked','WebApp','statLoadCard','start','</span>\x20/\x20','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','onClick','toUpperCase','v9.0-BATCH-CALENDAR','Error\x20setting\x20color:','href','timeLineBadge','pe-time-label','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','blocked-range-part\x20stripe-bg','%\x20-\x204px)','stringify','btn-primary\x20btn-secondary','apply','flex','doWorkHours','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','sid','warning','appendChild','syncLoad','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','mousedown','single','overlay'];a2_0x1427=function(){return _0x4051a7;};return a2_0x1427();}function a2_0x5c71(_0x144503,_0x39cc78){_0x144503=_0x144503-0x1d6;const _0x15a253=a2_0x1427();let _0x5b76af=_0x15a253[_0x144503];return _0x5b76af;}function openActionSheet(_0x24d6a3){const _0x3b6e25=a2_0x2aa9e2,_0x3b0a88=document[_0x3b6e25(0x320)]('actionSheet'),_0x3b7515=document['getElementById'](_0x3b6e25(0x1e1)),_0x12d1e0=document[_0x3b6e25(0x320)]('asTitle'),_0x201c3d=document[_0x3b6e25(0x320)](_0x3b6e25(0x258)),_0xae52ae=document['getElementById'](_0x3b6e25(0x33f));_0x3b7515['classList'][_0x3b6e25(0x314)](_0x3b6e25(0x26b)),_0x3b0a88['classList']['add'](_0x3b6e25(0x322));if(_0x24d6a3===_0x3b6e25(0x23d))_0x12d1e0[_0x3b6e25(0x313)]=_0x3b6e25(0x2fe),_0x201c3d[_0x3b6e25(0x313)]=_0x3b6e25(0x296),_0x201c3d[_0x3b6e25(0x21a)]=()=>{const _0x5836dd=_0x3b6e25;closeActionSheet(),updateSeriesBatch(_0x5836dd(0x361),tempSessionData);},_0xae52ae[_0x3b6e25(0x313)]=_0x3b6e25(0x318),_0xae52ae['onclick']=()=>{const _0x5c2181=_0x3b6e25;closeActionSheet(),updateSeriesBatch(_0x5c2181(0x204),tempSessionData);};else _0x24d6a3===_0x3b6e25(0x1f8)&&(_0x12d1e0[_0x3b6e25(0x313)]=_0x3b6e25(0x267),_0x201c3d['textContent']=_0x3b6e25(0x296),_0x201c3d[_0x3b6e25(0x309)]=_0x3b6e25(0x30e),_0x201c3d[_0x3b6e25(0x21a)]=()=>{const _0x4df912=_0x3b6e25;closeActionSheet(),commitDelete(_0x4df912(0x361),sessions['find'](_0x322299=>_0x322299['id']===editingId));},_0xae52ae[_0x3b6e25(0x313)]=_0x3b6e25(0x318),_0xae52ae[_0x3b6e25(0x309)]='as-button\x20danger\x20bold',_0xae52ae[_0x3b6e25(0x21a)]=()=>{const _0x49cc40=_0x3b6e25;closeActionSheet(),commitDelete(_0x49cc40(0x204),sessions[_0x49cc40(0x22f)](_0x43e452=>_0x43e452['id']===editingId));});}function closeActionSheet(){const _0x2bde73=a2_0x2aa9e2;document['getElementById'](_0x2bde73(0x2c6))[_0x2bde73(0x295)][_0x2bde73(0x2ee)]('open'),document[_0x2bde73(0x320)](_0x2bde73(0x1e1))[_0x2bde73(0x295)]['remove'](_0x2bde73(0x26b));}function openSettings(){const _0x314723=a2_0x2aa9e2;openSheet(_0x314723(0x209));}function saveCoachSettings(){const _0x24e1d4=a2_0x2aa9e2,_0x14f2b5=document['getElementById']('settingCancelWindow')['value'];localStorage[_0x24e1d4(0x306)](_0x24e1d4(0x1e8),_0x14f2b5),console[_0x24e1d4(0x33b)](_0x24e1d4(0x292),_0x14f2b5),DataManager[_0x24e1d4(0x1db)](_0x24e1d4(0x2c4),{'settings':{'cancel_window':_0x14f2b5}})['catch'](_0x43130a=>{const _0x1dd72f=_0x24e1d4;console[_0x1dd72f(0x298)]('Save\x20settings\x20error:',_0x43130a),showToast(_0x1dd72f(0x1f4),![]);});}function loadCoachSettings(){const _0x3d2cb0=a2_0x2aa9e2,_0x48a103=localStorage[_0x3d2cb0(0x256)](_0x3d2cb0(0x1e8));_0x48a103&&(document[_0x3d2cb0(0x320)]('settingCancelWindow')[_0x3d2cb0(0x30a)]=_0x48a103);}function openRangesSheet(){const _0x5c99fb=a2_0x2aa9e2;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x5c99fb(0x2ae));}function addRange(){const _0x27c822=a2_0x2aa9e2,_0x2fbe7e=document[_0x27c822(0x320)]('rangeStartDate')[_0x27c822(0x30a)],_0x3ebce1=document['getElementById']('rangeStartTime')[_0x27c822(0x30a)],_0x470fb5=document['getElementById']('rangeEndDate')[_0x27c822(0x30a)],_0x41845f=document[_0x27c822(0x320)](_0x27c822(0x1ef))['value'];if(!_0x2fbe7e||!_0x3ebce1||!_0x470fb5||!_0x41845f)return alert(_0x27c822(0x28a));const _0x45a386=_0x2fbe7e+'T'+_0x3ebce1,_0x459abe=_0x470fb5+'T'+_0x41845f;if(_0x45a386>=_0x459abe)return alert(_0x27c822(0x27a));specialRanges[_0x27c822(0x2e9)]({'start':_0x45a386,'end':_0x459abe}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager['fetchFromServer'](_0x27c822(0x2c4),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x5c8610){const _0x38421b=a2_0x2aa9e2;specialRanges['splice'](_0x5c8610,0x1),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x38421b(0x1db)](_0x38421b(0x2c4),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x2d1323=a2_0x2aa9e2;document['getElementById'](_0x2d1323(0x1ee))[_0x2d1323(0x30a)]='',document[_0x2d1323(0x320)](_0x2d1323(0x24e))[_0x2d1323(0x30a)]='00:00',document[_0x2d1323(0x320)](_0x2d1323(0x2b2))['value']='',document['getElementById'](_0x2d1323(0x1ef))['value']=_0x2d1323(0x231);}function renderRangesList(){const _0x55828b=a2_0x2aa9e2,_0x411e7a=document[_0x55828b(0x320)](_0x55828b(0x32e));_0x411e7a[_0x55828b(0x1d9)]='';if(!specialRanges[_0x55828b(0x344)]){_0x411e7a[_0x55828b(0x1d9)]='<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>';return;}specialRanges[_0x55828b(0x304)]((_0x48acb2,_0x4a7d33)=>{const _0x5aebd5=_0x55828b,_0x563ce8=document[_0x5aebd5(0x33e)](_0x5aebd5(0x33c));_0x563ce8[_0x5aebd5(0x309)]=_0x5aebd5(0x321);const _0x72d182=_0x43e910=>{const _0x49a424=_0x5aebd5,_0x8c1357=new Date(_0x43e910);return _0x8c1357[_0x49a424(0x2f3)]()+'.'+String(_0x8c1357[_0x49a424(0x224)]()+0x1)[_0x49a424(0x2a7)](0x2,'0')+'\x20'+String(_0x8c1357[_0x49a424(0x222)]())[_0x49a424(0x2a7)](0x2,'0')+':'+String(_0x8c1357[_0x49a424(0x230)]())[_0x49a424(0x2a7)](0x2,'0');};_0x563ce8[_0x5aebd5(0x1d9)]=_0x5aebd5(0x206)+_0x72d182(_0x48acb2['start'])+_0x5aebd5(0x201)+_0x72d182(_0x48acb2[_0x5aebd5(0x330)])+_0x5aebd5(0x24f)+_0x4a7d33+')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>',_0x411e7a[_0x5aebd5(0x35d)](_0x563ce8);});}function scrollToToday(){const _0x4ab4c1=a2_0x2aa9e2,_0x13bf0a=getLocalDateStr(new Date()),_0x33bba9=document[_0x4ab4c1(0x320)](_0x4ab4c1(0x260)+_0x13bf0a),_0x243a0c=document[_0x4ab4c1(0x320)]('matrixViewport');if(_0x33bba9&&_0x243a0c){const _0x445797=_0x243a0c[_0x4ab4c1(0x23f)],_0x2e8284=_0x33bba9['offsetLeft'],_0x1b94e3=_0x33bba9[_0x4ab4c1(0x27f)];_0x243a0c[_0x4ab4c1(0x339)]=_0x2e8284-_0x445797/0x2+_0x1b94e3/0x2,_0x243a0c[_0x4ab4c1(0x2c2)]=0x9*GRID_H;}}function onScroll(){const _0x5e7ed6=a2_0x2aa9e2,_0x3ae2a4=document[_0x5e7ed6(0x320)](_0x5e7ed6(0x205)),_0x5a9935=document['querySelectorAll'](_0x5e7ed6(0x2e4));for(let _0x225fcf of _0x5a9935)if(_0x225fcf[_0x5e7ed6(0x257)]>=_0x3ae2a4['scrollLeft']){const _0x340730=new Date(_0x225fcf['getAttribute'](_0x5e7ed6(0x2a5)));document[_0x5e7ed6(0x320)](_0x5e7ed6(0x226))[_0x5e7ed6(0x313)]=_0x340730[_0x5e7ed6(0x20a)]('ru',{'month':'long'})[_0x5e7ed6(0x34c)]()+'\x20'+_0x340730[_0x5e7ed6(0x22a)]();break;}}function showToast(_0x129a17,_0x4e7f36=![]){const _0xa99d63=a2_0x2aa9e2,_0xe07589=document['getElementById'](_0xa99d63(0x274));_0xe07589[_0xa99d63(0x309)]='toast-notification\x20'+(_0x4e7f36?_0xa99d63(0x1fb):''),document[_0xa99d63(0x320)](_0xa99d63(0x289))[_0xa99d63(0x313)]=_0x4e7f36?_0xa99d63(0x1ff):_0xa99d63(0x1e2),document[_0xa99d63(0x320)](_0xa99d63(0x2fb))[_0xa99d63(0x313)]=_0x129a17,_0xe07589[_0xa99d63(0x295)][_0xa99d63(0x314)](_0xa99d63(0x363)),setTimeout(()=>{const _0x40b906=_0xa99d63;_0xe07589[_0x40b906(0x295)][_0x40b906(0x2ee)]('show');},0xbb8);}function openDayOptions(_0x44e1c6,_0x4126a1){const _0x434437=a2_0x2aa9e2;selectedDayForOptions=_0x44e1c6,document[_0x434437(0x320)](_0x434437(0x21e))[_0x434437(0x313)]=_0x4126a1,openSheet('dayOptionsSheet');}function toggleDayOff(){const _0x3e0d04=a2_0x2aa9e2;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x3e0d04(0x2dc),reRenderBlocks(),closeAllSheets(),DataManager[_0x3e0d04(0x29b)](),DataManager[_0x3e0d04(0x1db)](_0x3e0d04(0x2c4),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x540a18=a2_0x2aa9e2;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x540a18(0x29b)](),DataManager[_0x540a18(0x1db)](_0x540a18(0x2c4),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x5edb28){const _0x3e3819=a2_0x2aa9e2;document[_0x3e3819(0x320)]('overlay')['classList'][_0x3e3819(0x314)](_0x3e3819(0x26b)),document[_0x3e3819(0x320)](_0x5edb28)[_0x3e3819(0x295)][_0x3e3819(0x314)](_0x3e3819(0x322));}function closeAllSheets(){const _0x4d983f=a2_0x2aa9e2;document[_0x4d983f(0x320)](_0x4d983f(0x362))[_0x4d983f(0x295)][_0x4d983f(0x2ee)](_0x4d983f(0x26b)),document[_0x4d983f(0x26a)]('.sheet')['forEach'](_0x3692ae=>_0x3692ae[_0x4d983f(0x295)][_0x4d983f(0x2ee)](_0x4d983f(0x322)));}function openPatternEditor(){const _0x19fd63=a2_0x2aa9e2;closeAllSheets(),document['getElementById'](_0x19fd63(0x29a))['classList'][_0x19fd63(0x314)]('open'),renderPatternEditor();}function closePatternEditor(){const _0x3fa2bd=a2_0x2aa9e2;document[_0x3fa2bd(0x320)](_0x3fa2bd(0x29a))[_0x3fa2bd(0x295)][_0x3fa2bd(0x2ee)](_0x3fa2bd(0x322));}function savePattern(){const _0x10d502=a2_0x2aa9e2;document[_0x10d502(0x320)]('patternEditor')[_0x10d502(0x295)][_0x10d502(0x2ee)](_0x10d502(0x322)),reRenderBlocks(),DataManager[_0x10d502(0x29b)](),DataManager[_0x10d502(0x1db)]('save_settings',{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x5dbabf=a2_0x2aa9e2,_0x214515=document['getElementById']('peGrid');_0x214515[_0x5dbabf(0x1d9)]='';const _0x417b39=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x277b9e=document['createElement'](_0x5dbabf(0x33c));_0x277b9e['className']=_0x5dbabf(0x30f),_0x214515[_0x5dbabf(0x35d)](_0x277b9e),_0x417b39[_0x5dbabf(0x304)]((_0x1a6abf,_0x4bbeee)=>{const _0x266697=_0x5dbabf,_0x55f203=document[_0x266697(0x33e)](_0x266697(0x33c));_0x55f203[_0x266697(0x309)]=_0x266697(0x305),_0x55f203[_0x266697(0x1d9)]=_0x1a6abf+'\x20<span\x20class=\x22arrow\x22>‚Üì</span>',_0x55f203[_0x266697(0x21a)]=()=>toggleColPattern(_0x4bbeee),_0x214515[_0x266697(0x35d)](_0x55f203);});for(let _0x273502=0x0;_0x273502<0x18;_0x273502++){const _0x143c80=document[_0x5dbabf(0x33e)]('div');_0x143c80['className']=_0x5dbabf(0x351),_0x143c80[_0x5dbabf(0x1d9)]=_0x5dbabf(0x2c7)+String(_0x273502)[_0x5dbabf(0x2a7)](0x2,'0')+_0x5dbabf(0x23c),_0x143c80[_0x5dbabf(0x21a)]=()=>toggleRowPattern(_0x273502),_0x214515[_0x5dbabf(0x35d)](_0x143c80);for(let _0x42c912=0x0;_0x42c912<0x7;_0x42c912++){const _0x5c97b6=document[_0x5dbabf(0x33e)](_0x5dbabf(0x33c)),_0x484ccc=(availabilityPattern[_0x42c912]||[])['includes'](_0x273502),_0x4aa592=!_0x484ccc;_0x5c97b6['className']='pe-cell\x20'+(_0x4aa592?_0x5dbabf(0x26b):''),_0x5c97b6[_0x5dbabf(0x21a)]=()=>toggleSinglePattern(_0x42c912,_0x273502),_0x214515[_0x5dbabf(0x35d)](_0x5c97b6);}}}function toggleSinglePattern(_0x599697,_0x1f2fa0){const _0x900b02=a2_0x2aa9e2;if(!availabilityPattern[_0x599697])availabilityPattern[_0x599697]=[];const _0x542266=availabilityPattern[_0x599697],_0x1bf69b=_0x542266[_0x900b02(0x2aa)](_0x1f2fa0);_0x1bf69b===-0x1?_0x542266[_0x900b02(0x2e9)](_0x1f2fa0):_0x542266['splice'](_0x1bf69b,0x1),renderPatternEditor();}function toggleColPattern(_0x13b6bc){const _0x1c6392=a2_0x2aa9e2;if(!availabilityPattern[_0x13b6bc])availabilityPattern[_0x13b6bc]=[];const _0x5d1e9f=availabilityPattern[_0x13b6bc];_0x5d1e9f[_0x1c6392(0x344)]===0x0?availabilityPattern[_0x13b6bc]=Array[_0x1c6392(0x2f1)]({'length':0x18},(_0x4d73bf,_0x3cdb35)=>_0x3cdb35):availabilityPattern[_0x13b6bc]=[],renderPatternEditor();}function toggleRowPattern(_0x263d22){const _0x272540=a2_0x2aa9e2;let _0x356616=!![];for(let _0xbb33f0=0x0;_0xbb33f0<0x7;_0xbb33f0++){if((availabilityPattern[_0xbb33f0]||[])[_0x272540(0x300)](_0x263d22)){_0x356616=![];break;}}for(let _0x3520bc=0x0;_0x3520bc<0x7;_0x3520bc++){if(!availabilityPattern[_0x3520bc])availabilityPattern[_0x3520bc]=[];const _0x33afc5=availabilityPattern[_0x3520bc][_0x272540(0x2aa)](_0x263d22);if(_0x356616){if(_0x33afc5===-0x1)availabilityPattern[_0x3520bc][_0x272540(0x2e9)](_0x263d22);}else{if(_0x33afc5!==-0x1)availabilityPattern[_0x3520bc][_0x272540(0x1dc)](_0x33afc5,0x1);}}renderPatternEditor();}function renderPCol(_0x41d3ee,_0xa4c686){const _0x2fb7e5=a2_0x2aa9e2;_0x41d3ee[_0x2fb7e5(0x1d9)]='';const _0x505a8e=Math['round'](_0x41d3ee[_0x2fb7e5(0x257)]);(availabilityPattern[_0xa4c686]||[])[_0x2fb7e5(0x304)](_0x4d25be=>{const _0x25cfc5=_0x2fb7e5,_0x4495ab=document[_0x25cfc5(0x33e)](_0x25cfc5(0x33c));_0x4495ab[_0x25cfc5(0x309)]=_0x25cfc5(0x202);const _0x6cc5e1=_0x4d25be*GRID_H;_0x4495ab[_0x25cfc5(0x2b9)][_0x25cfc5(0x32f)]=_0x6cc5e1+'px',_0x4495ab[_0x25cfc5(0x2b9)][_0x25cfc5(0x2e0)]='-'+_0x505a8e+_0x25cfc5(0x1f7)+_0x6cc5e1+'px',_0x4495ab[_0x25cfc5(0x21a)]=_0x1cb268=>{const _0x3998e8=_0x25cfc5;_0x1cb268[_0x3998e8(0x341)](),toggleSinglePattern(_0xa4c686,_0x4d25be);},_0x41d3ee[_0x25cfc5(0x35d)](_0x4495ab);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x592500=a2_0x2aa9e2,_0x1c9cbc=new Date(),_0x5016cf=document[_0x592500(0x320)](_0x592500(0x287)),_0x375d74=document[_0x592500(0x320)](_0x592500(0x350)),_0x4abcc8=(_0x1c9cbc[_0x592500(0x222)]()*0x3c+_0x1c9cbc[_0x592500(0x230)]())/0x3c*GRID_H;_0x5016cf['style'][_0x592500(0x32f)]=_0x4abcc8+'px',_0x5016cf['style']['display']='block',_0x375d74[_0x592500(0x313)]=String(_0x1c9cbc[_0x592500(0x222)]())[_0x592500(0x2a7)](0x2,'0')+':'+String(_0x1c9cbc[_0x592500(0x230)]())[_0x592500(0x2a7)](0x2,'0'),_0x375d74[_0x592500(0x2b9)][_0x592500(0x1e7)]=_0x592500(0x272),_0x375d74[_0x592500(0x2b9)][_0x592500(0x32f)]=_0x4abcc8+'px';}document[a2_0x2aa9e2(0x2d5)]('DOMContentLoaded',init);function openDayOptions(_0x458552){const _0x4d4514=a2_0x2aa9e2;selectedDayForOptions=_0x458552;const _0x2c7803=new Date(_0x458552),_0x29c0b9={'weekday':'long','day':_0x4d4514(0x293),'month':_0x4d4514(0x365),'year':_0x4d4514(0x293)},_0x46a078=_0x2c7803[_0x4d4514(0x1dd)]('ru-RU',_0x29c0b9);document[_0x4d4514(0x320)](_0x4d4514(0x203))['textContent']=_0x46a078['charAt'](0x0)[_0x4d4514(0x34c)]()+_0x46a078[_0x4d4514(0x228)](0x1);let _0x55486a=_0x2c7803['getDay']()-0x1;if(_0x55486a===-0x1)_0x55486a=0x6;const _0x515caa=availabilityPattern[_0x55486a]||[],_0x59fee4=0x18-_0x515caa[_0x4d4514(0x344)],_0x3c8fdc=_0x59fee4*0x3c,_0x3c12a2=sessions[_0x4d4514(0x283)](_0x354e3=>_0x354e3['dateStr']===_0x458552&&_0x354e3[_0x4d4514(0x27c)]!==_0x4d4514(0x33d));let _0x30d0a6=_0x3c12a2[_0x4d4514(0x207)](_0x481ace=>{const _0x2ae4fa=_0x4d4514,[_0x31afe6,_0x35ff4c]=_0x481ace[_0x2ae4fa(0x348)][_0x2ae4fa(0x364)](':')[_0x2ae4fa(0x207)](Number),[_0x2dbf4d,_0x14fb64]=_0x481ace['end'][_0x2ae4fa(0x364)](':')[_0x2ae4fa(0x207)](Number);return[_0x31afe6*0x3c+_0x35ff4c,_0x2dbf4d*0x3c+_0x14fb64];});_0x30d0a6[_0x4d4514(0x33a)]((_0x438aa8,_0x372db6)=>_0x438aa8[0x0]-_0x372db6[0x0]);let _0x365bec=[];if(_0x30d0a6[_0x4d4514(0x344)]>0x0){let _0x2c7897=_0x30d0a6[0x0];for(let _0x1b1d16=0x1;_0x1b1d16<_0x30d0a6[_0x4d4514(0x344)];_0x1b1d16++){_0x30d0a6[_0x1b1d16][0x0]<_0x2c7897[0x1]?_0x2c7897[0x1]=Math[_0x4d4514(0x1fc)](_0x2c7897[0x1],_0x30d0a6[_0x1b1d16][0x1]):(_0x365bec[_0x4d4514(0x2e9)](_0x2c7897),_0x2c7897=_0x30d0a6[_0x1b1d16]);}_0x365bec[_0x4d4514(0x2e9)](_0x2c7897);}let _0x1121a5=0x0;_0x365bec[_0x4d4514(0x304)](_0x47e110=>_0x1121a5+=_0x47e110[0x1]-_0x47e110[0x0]),document['getElementById'](_0x4d4514(0x359))[_0x4d4514(0x313)]=formatMinsToHrs(_0x3c8fdc),document['getElementById'](_0x4d4514(0x261))['textContent']=formatMinsToHrs(_0x1121a5);const _0x5c8fbd=_0x3c8fdc>0x0?Math[_0x4d4514(0x2af)](_0x1121a5/_0x3c8fdc*0x64):0x0,_0x42633b=document[_0x4d4514(0x320)](_0x4d4514(0x280));_0x42633b['textContent']=_0x5c8fbd+'%';const _0x1c4ee6=document['getElementById'](_0x4d4514(0x347));if(_0x5c8fbd>0x64)_0x42633b[_0x4d4514(0x2b9)][_0x4d4514(0x2bc)]='var(--acc-red)',_0x1c4ee6[_0x4d4514(0x2b9)][_0x4d4514(0x2de)]='rgba(255,\x2069,\x2058,\x200.3)';else _0x5c8fbd>0x50?(_0x42633b['style'][_0x4d4514(0x2bc)]=_0x4d4514(0x220),_0x1c4ee6['style'][_0x4d4514(0x2de)]=_0x4d4514(0x31c)):(_0x42633b[_0x4d4514(0x2b9)][_0x4d4514(0x2bc)]=_0x4d4514(0x28d),_0x1c4ee6[_0x4d4514(0x2b9)][_0x4d4514(0x2de)]=_0x4d4514(0x221));const _0x182f89=document['getElementById'](_0x4d4514(0x2c5));_0x182f89[_0x4d4514(0x1d9)]='';_0x3c12a2[_0x4d4514(0x344)]===0x0?_0x182f89[_0x4d4514(0x1d9)]=_0x4d4514(0x332):(_0x3c12a2['sort']((_0x4b9ab0,_0x57f6ef)=>_0x4b9ab0[_0x4d4514(0x348)][_0x4d4514(0x25b)](_0x57f6ef[_0x4d4514(0x348)])),_0x3c12a2[_0x4d4514(0x304)](_0x4e34a3=>{const _0x578ac8=_0x4d4514,_0x54c929=clients[_0x578ac8(0x22f)](_0x69700=>_0x69700[_0x578ac8(0x218)]===_0x4e34a3[_0x578ac8(0x323)]),_0x612dc5=_0x54c929?_0x54c929[_0x578ac8(0x2bc)]:'#fff',_0x5cf8ca=_0x4e34a3[_0x578ac8(0x27c)]==='completed',_0x1c5ca8=_0x5cf8ca?_0x578ac8(0x240):'',_0x1d4869=document[_0x578ac8(0x33e)](_0x578ac8(0x33c));_0x1d4869[_0x578ac8(0x309)]=_0x578ac8(0x2a3),_0x1d4869[_0x578ac8(0x2b9)][_0x578ac8(0x232)]=_0x612dc5,_0x1d4869['innerHTML']=_0x578ac8(0x2ce)+_0x4e34a3['start']+'\x20-\x20'+_0x4e34a3['end']+_0x578ac8(0x29e)+_0x4e34a3['client']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1c5ca8+_0x578ac8(0x241),_0x182f89[_0x578ac8(0x35d)](_0x1d4869);}));const _0x24a534=document[_0x4d4514(0x320)](_0x4d4514(0x25d)),_0x489ff3=dateExceptions[_0x458552]===_0x4d4514(0x2dc);_0x489ff3?(_0x24a534[_0x4d4514(0x313)]=_0x4d4514(0x23a),_0x24a534[_0x4d4514(0x309)]=_0x4d4514(0x356),_0x24a534[_0x4d4514(0x2b9)]['color']=_0x4d4514(0x28d),_0x24a534['style'][_0x4d4514(0x2a9)]='rgba(48,\x20209,\x2088,\x200.15)'):(_0x24a534[_0x4d4514(0x313)]=_0x4d4514(0x2eb),_0x24a534['className']=_0x4d4514(0x28f),_0x24a534[_0x4d4514(0x2b9)][_0x4d4514(0x2bc)]=_0x4d4514(0x2b5),_0x24a534[_0x4d4514(0x2b9)]['background']=_0x4d4514(0x297)),openSheet(_0x4d4514(0x22c));}let currentAnPeriod=a2_0x2aa9e2(0x1e4);function openAnalytics(){const _0x43269f=a2_0x2aa9e2,_0x36f8e8=document[_0x43269f(0x307)](_0x43269f(0x336));setAnalyticsPeriod(_0x43269f(0x1e4),_0x36f8e8),closeAllSheets(),openSheet(_0x43269f(0x2ac));}function setAnalyticsPeriod(_0x3d8bca,_0xd314a2){const _0x1811e7=a2_0x2aa9e2;currentAnPeriod=_0x3d8bca,document[_0x1811e7(0x26a)](_0x1811e7(0x336))['forEach'](_0x3890b5=>_0x3890b5[_0x1811e7(0x295)][_0x1811e7(0x2ee)](_0x1811e7(0x26b)));if(_0xd314a2)_0xd314a2['classList']['add']('active');const _0x5826f9=document['getElementById'](_0x1811e7(0x288));_0x5826f9[_0x1811e7(0x2b9)][_0x1811e7(0x1e7)]=_0x3d8bca==='custom'?_0x1811e7(0x358):_0x1811e7(0x315);const _0x46131a=new Date();let _0x114512=new Date(),_0x1ace4d=new Date();if(_0x3d8bca===_0x1811e7(0x1e4))_0x114512=getStartOfWeek(_0x46131a),_0x1ace4d=new Date(_0x114512),_0x1ace4d[_0x1811e7(0x236)](_0x1ace4d[_0x1811e7(0x2f3)]()+0x6);else{if(_0x3d8bca===_0x1811e7(0x275))_0x114512=new Date(_0x46131a['getFullYear'](),_0x46131a[_0x1811e7(0x224)](),0x1),_0x1ace4d=new Date(_0x46131a[_0x1811e7(0x22a)](),_0x46131a[_0x1811e7(0x224)]()+0x1,0x0);else{!document[_0x1811e7(0x320)](_0x1811e7(0x234))[_0x1811e7(0x30a)]&&(document[_0x1811e7(0x320)]('anStart')[_0x1811e7(0x30a)]=getLocalDateStr(_0x46131a),document[_0x1811e7(0x320)](_0x1811e7(0x253))[_0x1811e7(0x30a)]=getLocalDateStr(_0x46131a));refreshAnalytics();return;}}document[_0x1811e7(0x320)](_0x1811e7(0x234))[_0x1811e7(0x30a)]=getLocalDateStr(_0x114512),document[_0x1811e7(0x320)](_0x1811e7(0x253))['value']=getLocalDateStr(_0x1ace4d),refreshAnalytics();}function refreshAnalytics(){const _0x467a0e=a2_0x2aa9e2,_0x4b1431=document['getElementById'](_0x467a0e(0x234))['value'],_0x637383=document['getElementById'](_0x467a0e(0x253))['value'];if(!_0x4b1431||!_0x637383)return;const _0x54662b=sessions[_0x467a0e(0x283)](_0x15fe30=>_0x15fe30['dateStr']>=_0x4b1431&&_0x15fe30[_0x467a0e(0x30b)]<=_0x637383&&_0x15fe30[_0x467a0e(0x27c)]!=='cancelled'),_0x343801=_0x54662b[_0x467a0e(0x344)],_0x1bd579=_0x54662b[_0x467a0e(0x283)](_0x5e5d82=>_0x5e5d82[_0x467a0e(0x27c)]===_0x467a0e(0x26f))[_0x467a0e(0x344)],_0x3c1336=_0x343801>0x0?Math[_0x467a0e(0x2af)](_0x1bd579/_0x343801*0x64):0x0;document[_0x467a0e(0x320)](_0x467a0e(0x22d))[_0x467a0e(0x313)]=_0x3c1336+'%',document['getElementById'](_0x467a0e(0x2b0))[_0x467a0e(0x313)]=_0x1bd579+_0x467a0e(0x1e3)+_0x343801+_0x467a0e(0x2d7);const _0x2027a6=document[_0x467a0e(0x320)](_0x467a0e(0x2be)),_0x4ccc36=0x2*Math['PI']*0x23,_0x4d3b40=_0x4ccc36-_0x3c1336/0x64*_0x4ccc36;_0x2027a6[_0x467a0e(0x2b9)][_0x467a0e(0x27e)]=_0x4d3b40;const _0x445b95={};_0x54662b[_0x467a0e(0x304)](_0x3ba631=>{const _0x217ff6=_0x467a0e;if(!_0x445b95[_0x3ba631[_0x217ff6(0x323)]]){const _0x213d94=clients[_0x217ff6(0x22f)](_0x1052c2=>_0x1052c2[_0x217ff6(0x218)]===_0x3ba631['client']);_0x445b95[_0x3ba631[_0x217ff6(0x323)]]={'total':0x0,'done':0x0,'color':_0x213d94?_0x213d94[_0x217ff6(0x2bc)]:'#fff'};}_0x445b95[_0x3ba631['client']][_0x217ff6(0x278)]++;if(_0x3ba631['status']===_0x217ff6(0x26f))_0x445b95[_0x3ba631[_0x217ff6(0x323)]][_0x217ff6(0x269)]++;});const _0x2e4ada=document['getElementById'](_0x467a0e(0x2d8));_0x2e4ada['innerHTML']='';const _0x384344=Object[_0x467a0e(0x251)](_0x445b95)['sort']((_0x2441ec,_0x171445)=>_0x171445[0x1][_0x467a0e(0x278)]-_0x2441ec[0x1][_0x467a0e(0x278)]);if(_0x384344['length']===0x0){_0x2e4ada[_0x467a0e(0x1d9)]=_0x467a0e(0x286);return;}_0x384344[_0x467a0e(0x304)](([_0x1871cb,_0x4e4724])=>{const _0x2691a8=_0x467a0e,_0x2aab95=Math[_0x2691a8(0x2af)](_0x4e4724[_0x2691a8(0x269)]/_0x4e4724[_0x2691a8(0x278)]*0x64),_0x3cda41=document[_0x2691a8(0x33e)]('div');_0x3cda41[_0x2691a8(0x309)]=_0x2691a8(0x268),_0x3cda41['style'][_0x2691a8(0x232)]=_0x4e4724[_0x2691a8(0x2bc)],_0x3cda41[_0x2691a8(0x1d9)]=_0x2691a8(0x217)+_0x1871cb+_0x2691a8(0x2c0)+_0x4e4724[_0x2691a8(0x269)]+_0x2691a8(0x349)+_0x4e4724[_0x2691a8(0x278)]+_0x2691a8(0x216)+_0x2aab95+_0x2691a8(0x1d8),_0x2e4ada['appendChild'](_0x3cda41);});}function formatMinsToHrs(_0x2e55b3){const _0xe8590a=a2_0x2aa9e2;if(_0x2e55b3===0x0)return'0';const _0x264585=Math[_0xe8590a(0x2f8)](_0x2e55b3/0x3c),_0x2946bc=_0x2e55b3%0x3c;if(_0x2946bc===0x0)return _0x264585+'—á';return _0x264585+'—á\x20'+_0x2946bc+'–º';}