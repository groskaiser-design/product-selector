const a2_0x181787=a2_0xb72d;(function(_0x3557c4,_0x3cb7d7){const _0x19334a=a2_0xb72d,_0x37b32a=_0x3557c4();while(!![]){try{const _0x49e62f=-parseInt(_0x19334a(0x1af))/0x1*(parseInt(_0x19334a(0x2fd))/0x2)+parseInt(_0x19334a(0x2dd))/0x3+-parseInt(_0x19334a(0x2e6))/0x4+-parseInt(_0x19334a(0x275))/0x5+parseInt(_0x19334a(0x29f))/0x6*(-parseInt(_0x19334a(0x223))/0x7)+parseInt(_0x19334a(0x21e))/0x8*(-parseInt(_0x19334a(0x1d6))/0x9)+parseInt(_0x19334a(0x269))/0xa;if(_0x49e62f===_0x3cb7d7)break;else _0x37b32a['push'](_0x37b32a['shift']());}catch(_0x5be9d2){_0x37b32a['push'](_0x37b32a['shift']());}}}(a2_0x53a4,0xacc45),function initTMA(){const _0x2138a5=a2_0xb72d;try{const _0xbf2a24=window['Telegram']?.[_0x2138a5(0x23b)];if(!_0xbf2a24)return;_0xbf2a24[_0x2138a5(0x1f6)](),_0xbf2a24[_0x2138a5(0x2bd)]();try{_0xbf2a24['setHeaderColor'](_0x2138a5(0x1b6)),_0xbf2a24[_0x2138a5(0x1c3)]&&_0xbf2a24['setBackgroundColor']('#050505');}catch(_0x5d2b1a){console[_0x2138a5(0x1f8)](_0x2138a5(0x1f0),_0x5d2b1a);}try{_0xbf2a24[_0x2138a5(0x274)]&&(_0xbf2a24[_0x2138a5(0x274)]['show'](),_0xbf2a24['BackButton'][_0x2138a5(0x213)](),_0xbf2a24[_0x2138a5(0x274)][_0x2138a5(0x2fe)](function(){const _0x1db421=_0x2138a5;window[_0x1db421(0x26a)][_0x1db421(0x1e7)]='router.html';}));}catch(_0x4f711a){console['log']('Error\x20setting\x20back\x20button:',_0x4f711a);}try{if(_0xbf2a24[_0x2138a5(0x2ab)])_0xbf2a24[_0x2138a5(0x2ab)]();}catch(_0x5b00fe){}}catch(_0x1eda27){console[_0x2138a5(0x2f8)]('Critical\x20TMA\x20Error:',_0x1eda27);}}());function isAdmin(){const _0x386f25=a2_0xb72d;try{const _0x1b3bb4=Number(window[_0x386f25(0x276)]?.[_0x386f25(0x23b)]?.[_0x386f25(0x2a0)]?.['user']?.['id']);return _0x1b3bb4===0xbaf7174;}catch(_0x2cda75){return![];}}const APP_VERSION='v9.0-BATCH-CALENDAR',API_URL=a2_0x181787(0x2f9),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x181787(0x28b),KEY_SESSIONS=a2_0x181787(0x2ec),KEY_SETTINGS='uc_settings_v9';let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x671a4b=a2_0x181787;return window[_0x671a4b(0x276)]?.[_0x671a4b(0x23b)]?.[_0x671a4b(0x2a0)]?.[_0x671a4b(0x1a4)]?.['id']||_0x671a4b(0x1b9);},'saveLocally'(){const _0x5dca70=a2_0x181787;try{localStorage[_0x5dca70(0x263)](KEY_CLIENTS,JSON['stringify'](clients)),localStorage['setItem'](KEY_SESSIONS,JSON[_0x5dca70(0x252)](sessions)),localStorage[_0x5dca70(0x263)](KEY_SETTINGS,JSON[_0x5dca70(0x252)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x91a232){console[_0x5dca70(0x2f8)](_0x5dca70(0x1e1),_0x91a232);}},'loadLocal'(){const _0x2f49ff=a2_0x181787;try{const _0x5a1597=localStorage['getItem'](KEY_CLIENTS);if(_0x5a1597)clients=JSON['parse'](_0x5a1597);const _0x1bcf70=localStorage['getItem'](KEY_SESSIONS);if(_0x1bcf70)sessions=JSON['parse'](_0x1bcf70);const _0xa01967=localStorage[_0x2f49ff(0x267)](KEY_SETTINGS);if(_0xa01967){const _0x3b5d26=JSON['parse'](_0xa01967);if(_0x3b5d26[_0x2f49ff(0x284)])availabilityPattern=_0x3b5d26[_0x2f49ff(0x284)];if(_0x3b5d26[_0x2f49ff(0x2c6)])dateExceptions=_0x3b5d26[_0x2f49ff(0x2c6)];if(_0x3b5d26['ranges'])specialRanges=_0x3b5d26['ranges'];}else{for(let _0x357a23=0x0;_0x357a23<0x7;_0x357a23++)availabilityPattern[_0x357a23]=Array[_0x2f49ff(0x2b9)]({'length':0xc},(_0x35f853,_0x34887d)=>_0x34887d+0x9);}}catch(_0x57deb5){console[_0x2f49ff(0x2f8)]('Local\x20Load\x20Error',_0x57deb5);}},async 'fetchFromServer'(_0x50a062,_0x516607={}){const _0x498749=a2_0x181787,_0x403779=window['Telegram']?.[_0x498749(0x23b)],_0x122b6={'action':_0x50a062,'init_data':_0x403779?.[_0x498749(0x2f3)]||'',..._0x516607};try{const _0x1240e8=await fetch(API_URL,{'method':'POST','headers':{'Content-Type':'text/plain;charset=UTF-8'},'body':JSON[_0x498749(0x252)](_0x122b6)}),_0x238f79=await _0x1240e8[_0x498749(0x1b2)]();if(!_0x238f79['ok'])throw new Error(_0x238f79[_0x498749(0x2f8)]||'Server\x20Error');return _0x238f79[_0x498749(0x2c7)];}catch(_0x4e9798){console[_0x498749(0x2f8)](_0x498749(0x1b1)+_0x50a062+']\x20Failed:',_0x4e9798);throw _0x4e9798;}},async 'syncLoad'(){const _0x15263f=a2_0x181787,_0x5d82b4=new Date(),_0x17f7e8=_0x5d82b4['getFullYear']()+'-'+String(_0x5d82b4['getMonth']()+0x1)[_0x15263f(0x241)](0x2,'0'),_0x55959f=new Date(_0x5d82b4);_0x55959f[_0x15263f(0x2a3)](_0x5d82b4[_0x15263f(0x197)]()+0x1);const _0x22e61d=_0x55959f[_0x15263f(0x1a9)]()+'-'+String(_0x55959f[_0x15263f(0x197)]()+0x1)[_0x15263f(0x241)](0x2,'0'),_0x577b7b=Date[_0x15263f(0x24c)]();console[_0x15263f(0x1f8)](_0x15263f(0x188)+_0x17f7e8+',\x20'+_0x22e61d+_0x15263f(0x266));try{const [_0x4fd632,_0x2940c7]=await Promise['all']([this[_0x15263f(0x1e8)](_0x15263f(0x239),{'month_str':_0x17f7e8}),this['fetchFromServer'](_0x15263f(0x239),{'month_str':_0x22e61d})]);if(lastUserActionTime>_0x577b7b)return console[_0x15263f(0x2d9)]('[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response'),![];return this[_0x15263f(0x2f5)](_0x4fd632,_0x17f7e8),this['mergeServerData'](_0x2940c7,_0x22e61d),this[_0x15263f(0x257)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x8dd58f){console[_0x15263f(0x2f8)](_0x8dd58f);throw _0x8dd58f;}},'mergeServerData'(_0x4aac00,_0x5a88bc){const _0x1266de=a2_0x181787;if(!_0x4aac00)return;_0x4aac00['clients']&&Array[_0x1266de(0x286)](_0x4aac00[_0x1266de(0x26c)])&&(clients=_0x4aac00[_0x1266de(0x26c)]);if(_0x4aac00['settings']){if(_0x4aac00['settings']['pattern'])availabilityPattern=_0x4aac00['settings'][_0x1266de(0x284)];if(_0x4aac00[_0x1266de(0x2be)]['exceptions'])dateExceptions=_0x4aac00[_0x1266de(0x2be)][_0x1266de(0x2c6)];if(_0x4aac00[_0x1266de(0x2be)][_0x1266de(0x224)])specialRanges=_0x4aac00[_0x1266de(0x2be)][_0x1266de(0x224)];if(_0x4aac00[_0x1266de(0x2be)][_0x1266de(0x21c)]){localStorage[_0x1266de(0x263)]('uc_settings_cancel_window',_0x4aac00[_0x1266de(0x2be)]['cancel_window']);const _0x1addb4=document[_0x1266de(0x18d)](_0x1266de(0x1ba));if(_0x1addb4)_0x1addb4['value']=_0x4aac00[_0x1266de(0x2be)][_0x1266de(0x21c)];}}_0x4aac00[_0x1266de(0x2e4)]&&(sessions=sessions['filter'](_0x2a951e=>!_0x2a951e[_0x1266de(0x2b7)][_0x1266de(0x1f7)](_0x5a88bc)),Object[_0x1266de(0x2d4)](_0x4aac00['calendar'])['forEach'](_0x5ab09f=>{const _0x5bc0a5=_0x1266de,_0x1c6c43=_0x4aac00[_0x5bc0a5(0x2e4)][_0x5ab09f];_0x1c6c43[_0x5bc0a5(0x1d2)](_0x37bcce=>{const _0x3ba282=_0x5bc0a5,_0x4efbe4=clients[_0x3ba282(0x23f)](_0x24864d=>String(_0x24864d['id'])===String(_0x37bcce['c']));sessions[_0x3ba282(0x193)]({'id':_0x37bcce['i'],'clientId':_0x37bcce['c'],'client':_0x4efbe4?_0x4efbe4[_0x3ba282(0x25c)]:'Unknown','dateStr':_0x5a88bc+'-'+_0x5ab09f[_0x3ba282(0x241)](0x2,'0'),'start':_0x37bcce['s'],'end':_0x37bcce['e'],'status':_0x37bcce['st']||_0x3ba282(0x1a1),'note':_0x37bcce['n']||'','seriesId':_0x37bcce[_0x3ba282(0x1e9)]||null});});}));},async 'syncBatch'(_0x133e6c){const _0x2fab53=a2_0x181787,_0x44bec7=[...new Set(_0x133e6c)],_0x109b9f=_0x44bec7[_0x2fab53(0x19e)](_0x320b8e=>{const _0x536a1d=_0x2fab53,_0x54a208=sessions[_0x536a1d(0x2bf)](_0x4f1d1b=>_0x4f1d1b[_0x536a1d(0x2b7)]===_0x320b8e&&_0x4f1d1b['status']!==_0x536a1d(0x268)),_0x318ae4=_0x54a208['map'](_0x530eeb=>({'i':_0x530eeb['id'],'c':_0x530eeb['clientId'],'s':_0x530eeb[_0x536a1d(0x28d)],'e':_0x530eeb[_0x536a1d(0x1f5)],'st':_0x530eeb[_0x536a1d(0x1c4)],'n':_0x530eeb[_0x536a1d(0x199)],'sid':_0x530eeb['seriesId']}));return{'date':_0x320b8e,'day_data':_0x318ae4};});if(_0x109b9f[_0x2fab53(0x2c2)]===0x0)return;console[_0x2fab53(0x1f8)](_0x2fab53(0x1dd)+_0x109b9f[_0x2fab53(0x2c2)]+'\x20days'),await this[_0x2fab53(0x1e8)](_0x2fab53(0x1bc),{'changes':_0x109b9f});}};async function init(){const _0x5082b1=a2_0x181787;DataManager[_0x5082b1(0x1bf)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById'](_0x5082b1(0x2d5))[_0x5082b1(0x23c)]('scroll',()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']()[_0x5082b1(0x297)](()=>{showToast('–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ',!![]);})[_0x5082b1(0x24d)](_0x54777b=>{const _0x48eb13=_0x5082b1;showToast(_0x48eb13(0x18a),![]);});}function generateId(){const _0xecd4c8=a2_0x181787;return Date[_0xecd4c8(0x24c)]()[_0xecd4c8(0x1a2)](0x24)+Math[_0xecd4c8(0x249)]()['toString'](0x24)[_0xecd4c8(0x281)](0x2,0x5);}function toggleSeriesInput(){const _0x28adb5=a2_0x181787,_0x514bc3=document[_0x28adb5(0x18d)](_0x28adb5(0x2ff))[_0x28adb5(0x21f)],_0x53e568=document[_0x28adb5(0x18d)]('seriesCountContainer');_0x53e568[_0x28adb5(0x232)][_0x28adb5(0x229)]=_0x514bc3?_0x28adb5(0x2c1):_0x28adb5(0x25e);const _0x795b42=document['getElementById'](_0x28adb5(0x299));_0x795b42[_0x28adb5(0x232)]['borderRadius']=_0x514bc3?_0x28adb5(0x203):_0x28adb5(0x220);}function openAddSession(_0x5b1b23){const _0x5470fa=a2_0x181787;editingId=null,populateClientSelect(),document['getElementById']('sheetTitle')['textContent']='–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å',document[_0x5470fa(0x18d)]('btnDelete')['style']['display']='none',document['getElementById']('btnStatusToggle')['style']['display']=_0x5470fa(0x25e);const _0x487c56=document[_0x5470fa(0x18d)](_0x5470fa(0x299)),_0x2afbb0=document['getElementById'](_0x5470fa(0x1e6));_0x487c56[_0x5470fa(0x232)][_0x5470fa(0x229)]='flex',_0x487c56[_0x5470fa(0x232)][_0x5470fa(0x1eb)]=_0x5470fa(0x220),document[_0x5470fa(0x18d)](_0x5470fa(0x2ff))[_0x5470fa(0x21f)]=![],document[_0x5470fa(0x18d)](_0x5470fa(0x1d1))['value']=0x4,_0x2afbb0[_0x5470fa(0x232)][_0x5470fa(0x229)]='none',document['getElementById'](_0x5470fa(0x2ca))['value']=getLocalDateStr(_0x5b1b23),updateDateDisplay();const _0x54678c=_0x5b1b23['getHours']();document[_0x5470fa(0x18d)](_0x5470fa(0x19a))[_0x5470fa(0x2af)]=String(_0x54678c)['padStart'](0x2,'0')+_0x5470fa(0x1fb),document['getElementById'](_0x5470fa(0x296))[_0x5470fa(0x2af)]=String(_0x54678c+0x1)['padStart'](0x2,'0')+':00',openSheet(_0x5470fa(0x1ae));}function openEdit(_0x119f23){const _0x66bdf1=a2_0x181787;editingId=_0x119f23['id'],populateClientSelect(),document[_0x66bdf1(0x18d)]('sheetTitle')[_0x66bdf1(0x2f4)]=_0x66bdf1(0x195),document['getElementById'](_0x66bdf1(0x2c5))[_0x66bdf1(0x232)][_0x66bdf1(0x229)]=_0x66bdf1(0x2c1);const _0x5e1bf2=document['getElementById']('btnStatusToggle');_0x5e1bf2['style'][_0x66bdf1(0x229)]=_0x66bdf1(0x2ce);_0x119f23[_0x66bdf1(0x1c4)]===_0x66bdf1(0x212)?(_0x5e1bf2['className']='btn-status-toggle\x20undo-mode',_0x5e1bf2[_0x66bdf1(0x2c4)]=_0x66bdf1(0x279)):(_0x5e1bf2[_0x66bdf1(0x21b)]=_0x66bdf1(0x194),_0x5e1bf2['innerHTML']=_0x66bdf1(0x2c3));const _0x1cb92c=!!_0x119f23['seriesId'];document[_0x66bdf1(0x18d)](_0x66bdf1(0x299))[_0x66bdf1(0x232)]['display']='none',document[_0x66bdf1(0x18d)](_0x66bdf1(0x1e6))[_0x66bdf1(0x232)][_0x66bdf1(0x229)]=_0x66bdf1(0x25e),_0x1cb92c?(document[_0x66bdf1(0x18d)](_0x66bdf1(0x20a))[_0x66bdf1(0x232)]['display']=_0x66bdf1(0x2ce),document[_0x66bdf1(0x18d)](_0x66bdf1(0x20a))[_0x66bdf1(0x214)]('.pib-text')[_0x66bdf1(0x2f4)]=_0x66bdf1(0x26f)):document[_0x66bdf1(0x18d)](_0x66bdf1(0x20a))['style'][_0x66bdf1(0x229)]='none',document[_0x66bdf1(0x18d)]('inpClient')['value']=_0x119f23[_0x66bdf1(0x209)],document[_0x66bdf1(0x18d)]('inpDate')[_0x66bdf1(0x2af)]=_0x119f23[_0x66bdf1(0x2b7)],document[_0x66bdf1(0x18d)](_0x66bdf1(0x19a))[_0x66bdf1(0x2af)]=_0x119f23['start'],document[_0x66bdf1(0x18d)]('inpEnd')[_0x66bdf1(0x2af)]=_0x119f23[_0x66bdf1(0x1f5)],document['getElementById'](_0x66bdf1(0x2b5))[_0x66bdf1(0x2af)]=_0x119f23['note']||'',updateDateDisplay(),openSheet('sessionSheet');}async function trySaveSession(){const _0x3bdf25=a2_0x181787,_0x2cfa80=document['getElementById'](_0x3bdf25(0x247))[_0x3bdf25(0x2af)],_0x1c6dc4=document['getElementById'](_0x3bdf25(0x2ca))['value'],_0x3357a8=document['getElementById'](_0x3bdf25(0x19a))[_0x3bdf25(0x2af)],_0x2686b1=document[_0x3bdf25(0x18d)](_0x3bdf25(0x296))[_0x3bdf25(0x2af)],_0x301a7b=document[_0x3bdf25(0x18d)](_0x3bdf25(0x2b5))['value'],_0x26829c=document[_0x3bdf25(0x18d)](_0x3bdf25(0x2ff))[_0x3bdf25(0x21f)];let _0x383976=0x4;if(_0x26829c){const _0x3538fe=parseInt(document[_0x3bdf25(0x18d)](_0x3bdf25(0x1d1))[_0x3bdf25(0x2af)]);if(!_0x3538fe||_0x3538fe<0x2){showToast(_0x3bdf25(0x1c1),![]);return;}if(_0x3538fe>0x64){showToast(_0x3bdf25(0x2f7),![]);return;}_0x383976=_0x3538fe;}const _0x5ae529=clients['find'](_0x1a3aca=>_0x1a3aca[_0x3bdf25(0x25c)]===_0x2cfa80);if(!_0x5ae529){showToast(_0x3bdf25(0x2c9),![]);return;}const _0x5f292b=validateAppointment(_0x1c6dc4,_0x3357a8,_0x2686b1,editingId,_0x5ae529['id']);if(!_0x5f292b['valid']){showToast(_0x5f292b[_0x3bdf25(0x259)],![]);return;}_0x5f292b[_0x3bdf25(0x22c)]&&showToast(_0x5f292b[_0x3bdf25(0x22c)],![]);const _0x447b12={'client':_0x2cfa80,'clientId':_0x5ae529['id'],'start':_0x3357a8,'end':_0x2686b1,'note':_0x301a7b,'status':'planned'},_0x5cdff1=editingId?sessions[_0x3bdf25(0x23f)](_0x982220=>_0x982220['id']===editingId):null;if(_0x5cdff1&&_0x5cdff1[_0x3bdf25(0x2d1)]){tempSessionData={..._0x447b12,'dateStr':_0x1c6dc4,'id':editingId,'seriesId':_0x5cdff1[_0x3bdf25(0x2d1)]},openActionSheet('save');return;}let _0x159dd2=null;if(!editingId)_0x159dd2=_0x3bdf25(0x2d6);else{if(_0x5cdff1){if(String(_0x5cdff1['clientId'])!==String(_0x5ae529['id']))console[_0x3bdf25(0x1f8)](_0x3bdf25(0x1c6)),NotificationManager['send'](_0x3bdf25(0x1b7),_0x5cdff1),_0x159dd2=_0x3bdf25(0x2d6);else(_0x5cdff1['start']!==_0x3357a8||_0x5cdff1[_0x3bdf25(0x1f5)]!==_0x2686b1||_0x5cdff1[_0x3bdf25(0x2b7)]!==_0x1c6dc4)&&(_0x159dd2=_0x3bdf25(0x198));}}if(!editingId&&_0x26829c){createBatchSeries(_0x447b12,_0x1c6dc4,_0x383976),NotificationManager['send']('create',{..._0x447b12,'dateStr':_0x1c6dc4});return;}lastUserActionTime=Date[_0x3bdf25(0x24c)]();const _0x413702={..._0x447b12,'dateStr':_0x1c6dc4,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x413702),_0x159dd2&&NotificationManager['send'](_0x159dd2,_0x413702);}function toggleSessionStatus(){const _0x1859ed=a2_0x181787;lastUserActionTime=Date[_0x1859ed(0x24c)]();const _0x3517f0=sessions[_0x1859ed(0x23f)](_0x1bfa12=>_0x1bfa12['id']===editingId);if(!_0x3517f0)return;const _0x938767=_0x3517f0[_0x1859ed(0x1c4)]==='completed'?'planned':_0x1859ed(0x212);_0x3517f0[_0x1859ed(0x1c4)]=_0x938767,saveSingleSession(_0x3517f0),_0x938767===_0x1859ed(0x212)&&NotificationManager[_0x1859ed(0x1c0)](_0x1859ed(0x1db),_0x3517f0),showToast(_0x938767==='completed'?_0x1859ed(0x27f):_0x1859ed(0x244),!![]);}function validateAppointment(_0x486e08,_0x674a04,_0x1bf951,_0x5eb1cb,_0x1e090d){const _0x36cae7=a2_0x181787,[_0x52e966,_0x3ed863]=_0x674a04[_0x36cae7(0x29c)](':')[_0x36cae7(0x19e)](Number),[_0x2b6bd9,_0x5de062]=_0x1bf951['split'](':')[_0x36cae7(0x19e)](Number),_0x49034f=_0x52e966*0x3c+_0x3ed863,_0x1c6be7=_0x2b6bd9*0x3c+_0x5de062,_0x10daca=String(_0x1e090d);let _0x1ca066=![],_0x42e6c0='';for(let _0x311bd9 of sessions){if(_0x311bd9[_0x36cae7(0x2b7)]!==_0x486e08)continue;if(_0x311bd9[_0x36cae7(0x1c4)]===_0x36cae7(0x26e))continue;if(_0x5eb1cb&&String(_0x311bd9['id'])===String(_0x5eb1cb))continue;const [_0x4857fd,_0x50a9b9]=_0x311bd9[_0x36cae7(0x28d)][_0x36cae7(0x29c)](':')['map'](Number),[_0x271222,_0x2a7123]=_0x311bd9[_0x36cae7(0x1f5)][_0x36cae7(0x29c)](':')[_0x36cae7(0x19e)](Number),_0x33aa27=_0x4857fd*0x3c+_0x50a9b9,_0xad3d28=_0x271222*0x3c+_0x2a7123;if(Math[_0x36cae7(0x234)](_0x49034f,_0x33aa27)<Math['min'](_0x1c6be7,_0xad3d28)){if(_0x311bd9[_0x36cae7(0x227)]&&String(_0x311bd9[_0x36cae7(0x227)])===_0x10daca)return{'valid':![],'msg':_0x36cae7(0x21a)+_0x311bd9['client']+_0x36cae7(0x2f2)};_0x1ca066=!![],_0x42e6c0=_0x311bd9['client'];}}if(_0x1ca066)return{'valid':!![],'warning':_0x36cae7(0x1b5)+_0x42e6c0};return{'valid':!![]};}function saveSingleSession(_0x248ad0){const _0x41fdfc=a2_0x181787;if(editingId){const _0x160654=sessions[_0x41fdfc(0x27e)](_0x7c800d=>_0x7c800d['id']===editingId);if(_0x160654!==-0x1)sessions[_0x160654]=_0x248ad0;}else sessions[_0x41fdfc(0x193)](_0x248ad0);afterSaveAction([_0x248ad0[_0x41fdfc(0x2b7)]]);}function a2_0x53a4(){const _0x94b2e7=['–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','round','statLoadCard','offsetLeft','Local\x20Save\x20Error','slice','remove','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','seriesCountContainer','href','fetchFromServer','sid','rgba(255,\x20159,\x2010,\x200.3)','borderRadius','<div\x20class=\x22ev-title\x22>','data-day-idx','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','setDate','Error\x20setting\x20color:','createDocumentFragment','setHours','month','\x20‚Äî\x20','end','ready','startsWith','log','–ò–Ω—Ñ–æ','floor',':00','doLoadPercent','sheetDateSubtitle','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','width','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','total','classList','10px\x2010px\x200\x200','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','syncBatch','borderColor','var(--acc-orange)','dayOptionsSheet','client','patternInfoBox','rangeEndTime','event-card','querySelectorAll','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','null','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','clientWidth','completed','offClick','querySelector','–£–¥–∞–ª–µ–Ω–∏–µ','appendChild','save','headerMonth','vibrate','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','className','cancel_window','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','4728856dAaWkT','checked','10px','charAt','dayOptionsTitle','7399FOCvcS','ranges','T23:59:59','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','clientId','[Notify]\x20Network\x20Failed','display','active','getTime','warning','.sheet','analyticsList','splice','\x20-\x20','btnDayToggle','style','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','max','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','div','top','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','init_load','.day-off-overlay','WebApp','addEventListener','btn-primary\x20btn-secondary','formatDate','find','left','padStart','touches','anDonutCircle','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','.event-card','inpClient','zIndex','random','rgba(255,\x2069,\x2058,\x200.3)','</b>\x0a\x0a','now','catch','stat-','calc(','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','#0a84ff','stringify','px\x200px','done','pe-cell\x20','today','saveLocally','doEventsList','msg','rangesSheet','scrollLeft','name','touchmove','none','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','DOMContentLoaded','Batch\x20Sync\x20OK','%\x20+\x202px)','setItem','strokeDashoffset','toLocaleDateString','...','getItem','deleted','17380930iKlkmY','location','height','clients','gridColumns','cancelled','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','colIndex','createElement','touchend','data-date','BackButton','1430715xMVFtu','Telegram','[Series]\x20Skipped\x20','blocked-slot\x20stripe-bg','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','backgroundColor','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','actionSheetOverlay','scrollTop','findIndex','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','substr','pe-col-header','constructor','pattern','var(--acc-red)','isArray','toFixed','\x20–∏–∑\x20','var(--acc-green)','pe-time-label','uc_clients_v9','#gridColumns\x20.day-column','start','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','rgba(100,100,100,0.5)','target','series','save_settings','toUpperCase','<span>','getMinutes','inpEnd','then','rgba(255,\x2069,\x2058,\x200.15)','recurringOptionContainer','off','entries','split','rangesList','</div><div\x20class=\x22dch-num\x22>','1470jMVSMw','initDataUnsafe','#fff','<div\x20class=\x22dch-day\x22>','setMonth','mousedown',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','timeColumn','100%','daysHeaderTrack','getDay',':00</span>','disableVerticalSwipes','insertBefore','–£—Å–ø–µ—à–Ω–æ','send_notification','value','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','toLocaleString','week','includes','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','inpNote','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','dateStr','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','from','success','localeCompare','search','expand','settings','filter','actionSheet','block','length','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','innerHTML','btnDelete','exceptions','data','pe-corner','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','inpDate','px\x20-','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','peGrid','flex','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','rangeStartTime','seriesId','getAttribute','open','keys','matrixViewport','create','getText','analyticsSheet','warn','add','sort','client-stat-card','3238674lADomW','rangeStartDate','touchstart','getHours','offsetWidth','</div>','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','calendar','rangeEndDate','573808gwkAif','toastTitle','rgba(','custom','de-item','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','uc_sessions_v9','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','globalTimeLine','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','mousemove','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','initData','textContent','mergeServerData','firstChild','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','error','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','long','\x20status-completed','asBtnOne','1206FFmfZi','onClick','inpRecurring','borderLeftColor','[Notify]\x20Attempting\x20to\x20send:','as-button\x20danger\x20bold','delete','.period-switch\x20.p-btn','background','[Sync]\x20Loading\x20','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','.day-col-header','numeric','getElementById','mini','toast','uc_settings_cancel_window','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','min','push','btn-status-toggle','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','option','getMonth','update','note','inpStart','rgba(255,255,255,0.05)','[Notify]\x20Server\x20Response:','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','map','anEnd','getDate','planned','toString','setAttribute','user','closest','onclick','doBusyHours','header-','getFullYear','clientY','day-column\x20','</span>\x20/\x20','backgroundPosition','sessionSheet','1377WGpgWR','apply','[API\x20','json','single','timeLineBadge','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','#050505','cancel','day-off-overlay\x20stripe-bg','guest','settingCancelWindow','<b>‚úÖ\x20','batch_sync','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','patternEditor','loadLocal','send','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','ru-RU','setBackgroundColor','status','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','[Notify]\x20Client\x20SWAP\x20detected','.dch-stats-fill','overlay','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','(((.+)+)+)+$','range-item','anStart','color','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','var(--acc-current)','inpSeriesCount','forEach','anCustomDates','scrollWidth','</div><div\x20class=\x22ev-time\x22>','9BbGzDF','day-col-header\x20','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','mouseup','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','complete'];a2_0x53a4=function(){return _0x94b2e7;};return a2_0x53a4();}function createBatchSeries(_0x11291c,_0x46c8fb,_0x4dd6ba){const _0x28bfbf=a2_0x181787,_0x110da0=generateId(),_0x586d4a=[],_0x4a1123=[];let _0x42d316=0x0,_0x3ff1c9=new Date(_0x46c8fb);for(let _0x236240=0x0;_0x236240<_0x4dd6ba;_0x236240++){const _0x1fa457=getLocalDateStr(_0x3ff1c9),_0x5eb268=validateAppointment(_0x1fa457,_0x11291c[_0x28bfbf(0x28d)],_0x11291c['end'],null,_0x11291c[_0x28bfbf(0x227)]);if(!_0x5eb268['valid'])console[_0x28bfbf(0x1f8)](_0x28bfbf(0x277)+_0x1fa457+':\x20Client\x20already\x20booked'),_0x42d316++;else{const _0x458ccc={..._0x11291c,'id':generateId(),'dateStr':_0x1fa457,'seriesId':_0x110da0};_0x4a1123['push'](_0x458ccc),_0x586d4a[_0x28bfbf(0x193)](_0x1fa457);}_0x3ff1c9[_0x28bfbf(0x1ef)](_0x3ff1c9[_0x28bfbf(0x1a0)]()+0x7);}if(_0x4a1123[_0x28bfbf(0x2c2)]===0x0){showToast(_0x28bfbf(0x2cf),![]);return;}sessions['push'](..._0x4a1123),lastUserActionTime=Date[_0x28bfbf(0x24c)]();let _0x4e4cf6=_0x28bfbf(0x1dc)+_0x4a1123[_0x28bfbf(0x2c2)];_0x42d316>0x0&&(_0x4e4cf6+=_0x28bfbf(0x250)+_0x42d316+')'),showToast(_0x4e4cf6,!![]),afterSaveAction(_0x586d4a);}function updateSeriesBatch(_0x365b23,_0x155a81){const _0xb4dc4=a2_0x181787,_0x363be6=[],_0x50b002=_0x155a81[_0xb4dc4(0x2d1)];if(_0x365b23===_0xb4dc4(0x1b3)){const _0x265272={..._0x155a81,'seriesId':null},_0x24bfc=sessions[_0xb4dc4(0x27e)](_0x8102ed=>_0x8102ed['id']===_0x155a81['id']);if(_0x24bfc!==-0x1)sessions[_0x24bfc]=_0x265272;_0x363be6[_0xb4dc4(0x193)](_0x265272['dateStr']);}else{if(_0x365b23===_0xb4dc4(0x291)){const _0x56203a=_0x155a81[_0xb4dc4(0x2b7)];sessions[_0xb4dc4(0x1d2)]((_0x50608e,_0x559627)=>{const _0x3d76c6=_0xb4dc4;_0x50608e[_0x3d76c6(0x2d1)]===_0x50b002&&_0x50608e[_0x3d76c6(0x2b7)]>=_0x56203a&&(sessions[_0x559627]={...sessions[_0x559627],'start':_0x155a81[_0x3d76c6(0x28d)],'end':_0x155a81[_0x3d76c6(0x1f5)],'note':_0x155a81[_0x3d76c6(0x199)],'client':_0x155a81[_0x3d76c6(0x209)],'clientId':_0x155a81[_0x3d76c6(0x227)]},_0x363be6['push'](_0x50608e[_0x3d76c6(0x2b7)]));});}}afterSaveAction(_0x363be6);}function tryDeleteSession(){const _0x22afd3=a2_0x181787,_0x562573=sessions[_0x22afd3(0x23f)](_0x3860dc=>_0x3860dc['id']===editingId);if(!_0x562573)return;_0x562573[_0x22afd3(0x2d1)]?openActionSheet(_0x22afd3(0x303)):commitDelete(_0x22afd3(0x1b3),_0x562573);}function commitDelete(_0x4e39d3,_0x451b89){const _0x367b1b=a2_0x181787;lastUserActionTime=Date[_0x367b1b(0x24c)](),NotificationManager[_0x367b1b(0x1c0)](_0x367b1b(0x1b7),_0x451b89);const _0x196cc0=[];if(_0x4e39d3===_0x367b1b(0x1b3))sessions=sessions[_0x367b1b(0x2bf)](_0x36bd6b=>_0x36bd6b['id']!==_0x451b89['id']),_0x196cc0[_0x367b1b(0x193)](_0x451b89[_0x367b1b(0x2b7)]);else{if(_0x4e39d3===_0x367b1b(0x291)){const _0x353024=_0x451b89['dateStr'],_0x337b7f=_0x451b89[_0x367b1b(0x2d1)];sessions[_0x367b1b(0x1d2)](_0x8a3df1=>{const _0x2a6ab1=_0x367b1b;_0x8a3df1[_0x2a6ab1(0x2d1)]===_0x337b7f&&_0x8a3df1[_0x2a6ab1(0x2b7)]>=_0x353024&&_0x196cc0[_0x2a6ab1(0x193)](_0x8a3df1['dateStr']);}),sessions=sessions[_0x367b1b(0x2bf)](_0x1bcb5f=>!(_0x1bcb5f[_0x367b1b(0x2d1)]===_0x337b7f&&_0x1bcb5f[_0x367b1b(0x2b7)]>=_0x353024));}}afterSaveAction(_0x196cc0);}function afterSaveAction(_0x5079a5){const _0x2bb4e7=a2_0x181787;DataManager[_0x2bb4e7(0x257)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x2bb4e7(0x205)](_0x5079a5)[_0x2bb4e7(0x297)](()=>console[_0x2bb4e7(0x1f8)](_0x2bb4e7(0x261)))['catch'](_0x44d31c=>showToast(_0x2bb4e7(0x233),![]));}const NotificationManager={'formatDate'(_0x2ec449){const _0x265e72=a2_0x181787,_0x78cae8=new Date(_0x2ec449),_0x1df777={'weekday':_0x265e72(0x2fa),'day':_0x265e72(0x18c),'month':_0x265e72(0x2fa)};let _0xbc4ada=_0x78cae8[_0x265e72(0x265)](_0x265e72(0x1c2),_0x1df777);return _0xbc4ada[_0x265e72(0x221)](0x0)[_0x265e72(0x293)]()+_0xbc4ada[_0x265e72(0x1e2)](0x1);},'getText'(_0x53567e,_0xa844dc){const _0x59f0a4=a2_0x181787,_0x171f61=this[_0x59f0a4(0x23e)](_0xa844dc['dateStr']);switch(_0x53567e){case _0x59f0a4(0x2d6):return _0x59f0a4(0x1c5)+(_0x59f0a4(0x1da)+_0x171f61+'\x0a')+(_0x59f0a4(0x19d)+_0xa844dc['start']+_0x59f0a4(0x1f4)+_0xa844dc[_0x59f0a4(0x1f5)]+'\x0a\x0a')+_0x59f0a4(0x27b);case'update':return _0x59f0a4(0x204)+'–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a'+(_0x59f0a4(0x1bb)+_0xa844dc['start']+_0x59f0a4(0x1f4)+_0xa844dc[_0x59f0a4(0x1f5)]+_0x59f0a4(0x24b))+(_0x59f0a4(0x1da)+_0x171f61);case'cancel':return _0x59f0a4(0x1bd)+(_0x59f0a4(0x1c9)+_0x171f61+'\x20('+_0xa844dc['start']+')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.');case _0x59f0a4(0x1db):return _0x59f0a4(0x2ef)+_0x59f0a4(0x25f)+_0x59f0a4(0x235);default:return'';}},async 'send'(_0xc1b74e,_0x717e8){const _0x36f562=a2_0x181787;console['log'](_0x36f562(0x301),_0xc1b74e,_0x717e8);if(!_0x717e8){console[_0x36f562(0x2f8)]('[Notify]\x20Error:\x20sessionData\x20is\x20null');return;}const _0x428cb4=String(_0x717e8[_0x36f562(0x227)]);console[_0x36f562(0x1f8)]('[Notify]\x20Detected\x20Client\x20ID:',_0x428cb4);if(!_0x717e8[_0x36f562(0x227)]||_0x428cb4==='undefined'||_0x428cb4===_0x36f562(0x20f)){console[_0x36f562(0x2f8)](_0x36f562(0x2eb));if(_0x717e8[_0x36f562(0x209)]){const _0x1a00da=clients[_0x36f562(0x23f)](_0x16cee3=>_0x16cee3['name']===_0x717e8['client']);if(_0x1a00da)return console[_0x36f562(0x1f8)]('[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:',_0x1a00da['id']),this[_0x36f562(0x1c0)](_0xc1b74e,{..._0x717e8,'clientId':_0x1a00da['id']});}return;}if(_0x428cb4['length']<0x5){console[_0x36f562(0x2d9)]('[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)',_0x428cb4);return;}const _0xe07468=this[_0x36f562(0x2d7)](_0xc1b74e,_0x717e8);if(!_0xe07468){console[_0x36f562(0x2f8)]('[Notify]\x20Error:\x20Text\x20generation\x20failed');return;}console[_0x36f562(0x1f8)]('[Notify]\x20Sending\x20to\x20GAS\x20for\x20'+_0x428cb4+_0x36f562(0x266)),DataManager[_0x36f562(0x1e8)](_0x36f562(0x2ae),{'chatId':_0x428cb4,'text':_0xe07468})[_0x36f562(0x297)](_0x34789e=>console[_0x36f562(0x1f8)](_0x36f562(0x19c),_0x34789e))['catch'](_0x12d58a=>console[_0x36f562(0x2f8)](_0x36f562(0x228),_0x12d58a));}};function getLocalDateStr(_0x5a5ebc){const _0x1d1168=a2_0x181787,_0x18dbb8=_0x5a5ebc['getFullYear'](),_0x58e73a=String(_0x5a5ebc[_0x1d1168(0x197)]()+0x1)[_0x1d1168(0x241)](0x2,'0'),_0x294deb=String(_0x5a5ebc[_0x1d1168(0x1a0)]())['padStart'](0x2,'0');return _0x18dbb8+'-'+_0x58e73a+'-'+_0x294deb;}function getDateStr(_0x3f53f9){const _0x2e3a4a=a2_0x181787,_0x5565fb=new Date();return _0x5565fb['setDate'](_0x5565fb[_0x2e3a4a(0x1a0)]()+_0x3f53f9),getLocalDateStr(_0x5565fb);}function a2_0xb72d(_0x58119b,_0xf8d388){_0x58119b=_0x58119b-0x186;const _0x590060=a2_0x53a4();let _0x56da1c=_0x590060[_0x58119b];return _0x56da1c;}function getStartOfWeek(_0x525a39){const _0x3c63f2=a2_0x181787,_0x18469c=(function(){let _0xf689cb=!![];return function(_0x2c7437,_0x231cea){const _0x35ccb4=_0xf689cb?function(){const _0x5fbebc=a2_0xb72d;if(_0x231cea){const _0x5ef3ab=_0x231cea[_0x5fbebc(0x1b0)](_0x2c7437,arguments);return _0x231cea=null,_0x5ef3ab;}}:function(){};return _0xf689cb=![],_0x35ccb4;};}()),_0x3775cb=_0x18469c(this,function(){const _0x169152=a2_0xb72d;return _0x3775cb[_0x169152(0x1a2)]()[_0x169152(0x2bc)]('(((.+)+)+)+$')['toString']()[_0x169152(0x283)](_0x3775cb)[_0x169152(0x2bc)](_0x169152(0x1ca));});_0x3775cb();const _0x3ddd4a=new Date(_0x525a39),_0x1a1b62=_0x3ddd4a[_0x3c63f2(0x2a9)](),_0x11fbee=_0x3ddd4a[_0x3c63f2(0x1a0)]()-_0x1a1b62+(_0x1a1b62===0x0?-0x6:0x1);return _0x3ddd4a['setDate'](_0x11fbee),_0x3ddd4a[_0x3c63f2(0x1f2)](0x0,0x0,0x0,0x0),_0x3ddd4a;}function hexToRgba(_0x4698a5,_0x3bbe5c){const _0x3ac45c=a2_0x181787;if(!_0x4698a5)return _0x3ac45c(0x28f);let _0x44c2ae=0x0,_0x5a408e=0x0,_0x220640=0x0;if(_0x4698a5[_0x3ac45c(0x2c2)]===0x4)_0x44c2ae='0x'+_0x4698a5[0x1]+_0x4698a5[0x1],_0x5a408e='0x'+_0x4698a5[0x2]+_0x4698a5[0x2],_0x220640='0x'+_0x4698a5[0x3]+_0x4698a5[0x3];else _0x4698a5[_0x3ac45c(0x2c2)]===0x7&&(_0x44c2ae='0x'+_0x4698a5[0x1]+_0x4698a5[0x2],_0x5a408e='0x'+_0x4698a5[0x3]+_0x4698a5[0x4],_0x220640='0x'+_0x4698a5[0x5]+_0x4698a5[0x6]);return _0x3ac45c(0x2e8)+ +_0x44c2ae+',\x20'+ +_0x5a408e+',\x20'+ +_0x220640+',\x20'+_0x3bbe5c+')';}function renderTimeColumn(){const _0x4566d2=a2_0x181787,_0xd50504=document['getElementById'](_0x4566d2(0x2a6)),_0xd0baa3=document[_0x4566d2(0x18d)](_0x4566d2(0x1b4));_0xd50504['innerHTML']='',_0xd50504[_0x4566d2(0x216)](_0xd0baa3);for(let _0x5a20ca=0x0;_0x5a20ca<0x18;_0x5a20ca++){const _0x262a72=document[_0x4566d2(0x271)](_0x4566d2(0x236));_0x262a72[_0x4566d2(0x21b)]='time-label';if(_0x5a20ca>0x0)_0x262a72['innerHTML']=_0x4566d2(0x294)+String(_0x5a20ca)['padStart'](0x2,'0')+_0x4566d2(0x2aa);_0xd50504[_0x4566d2(0x216)](_0x262a72);}}function renderDayRange(_0x3bd299,_0x500267){const _0xf63738=a2_0x181787,_0x4a2e5b=document[_0xf63738(0x18d)](_0xf63738(0x2a8)),_0x5f4162=document[_0xf63738(0x18d)](_0xf63738(0x26d)),_0x10cd96=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x55a4b5=new Date();_0x55a4b5[_0xf63738(0x1f2)](0x0,0x0,0x0,0x0);const _0x36f551=getLocalDateStr(new Date());for(let _0x495dbf=_0x3bd299;_0x495dbf<=_0x500267;_0x495dbf++){const _0x416e94=new Date(_0x55a4b5);_0x416e94[_0xf63738(0x1ef)](_0x416e94[_0xf63738(0x1a0)]()+_0x495dbf);const _0x2326d7=getLocalDateStr(_0x416e94);let _0x10288b=_0x416e94[_0xf63738(0x2a9)]()-0x1;if(_0x10288b===-0x1)_0x10288b=0x6;const _0x4b215d=_0x2326d7===_0x36f551,_0x1c5826=document[_0xf63738(0x271)](_0xf63738(0x236));_0x1c5826['className']=_0xf63738(0x1d7)+(_0x4b215d?_0xf63738(0x256):''),_0x1c5826['id']=_0xf63738(0x1a8)+_0x2326d7,_0x1c5826[_0xf63738(0x1a3)]('data-date',_0x2326d7),_0x1c5826['innerHTML']=_0xf63738(0x2a2)+_0x10cd96[_0x10288b]+_0xf63738(0x29e)+_0x416e94['getDate']()+_0xf63738(0x1cf)+_0x2326d7+_0xf63738(0x1e5),_0x1c5826[_0xf63738(0x1a6)]=()=>openDayOptions(_0x2326d7,_0x10cd96[_0x10288b]+'\x20'+_0x416e94[_0xf63738(0x1a0)]()),_0x4a2e5b[_0xf63738(0x216)](_0x1c5826);const _0x2b98de=document[_0xf63738(0x271)](_0xf63738(0x236));_0x2b98de[_0xf63738(0x21b)]=_0xf63738(0x1ab)+(_0x4b215d?_0xf63738(0x256):''),_0x2b98de['setAttribute'](_0xf63738(0x273),_0x2326d7),_0x2b98de['setAttribute']('data-day-idx',_0x10288b),renderEventsForColumn(_0x2b98de,_0x2326d7,_0x10288b),attachLongPressHandler(_0x2b98de,_0x416e94),_0x5f4162[_0xf63738(0x216)](_0x2b98de),updateDayStats(_0x2326d7);}}function reRenderBlocks(){const _0x458b62=a2_0x181787;document['querySelectorAll'](_0x458b62(0x28c))['forEach'](_0x4a647f=>{const _0x195b20=_0x458b62;_0x4a647f['querySelectorAll']('.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card')[_0x195b20(0x1d2)](_0x2eb19c=>_0x2eb19c[_0x195b20(0x1e3)]());const _0x5883bd=_0x4a647f['getAttribute'](_0x195b20(0x273)),_0x3c58ec=parseInt(_0x4a647f[_0x195b20(0x2d2)](_0x195b20(0x1ed))),_0x58d2d4=Math[_0x195b20(0x1de)](_0x4a647f['offsetLeft']);(availabilityPattern[_0x3c58ec]||[])[_0x195b20(0x1d2)](_0x4045d8=>{const _0xbcab81=_0x195b20,_0x4cbd21=document['createElement'](_0xbcab81(0x236));_0x4cbd21[_0xbcab81(0x21b)]='blocked-slot\x20stripe-bg';const _0x342871=_0x4045d8*GRID_H;_0x4cbd21[_0xbcab81(0x232)][_0xbcab81(0x237)]=_0x342871+'px',_0x4cbd21[_0xbcab81(0x232)]['backgroundPosition']='-'+_0x58d2d4+_0xbcab81(0x2cb)+_0x342871+'px',_0x4a647f['appendChild'](_0x4cbd21);});if(specialRanges&&specialRanges['length']>0x0){const _0x356b10=new Date(_0x5883bd+'T00:00:00')[_0x195b20(0x22b)](),_0x6c44c6=new Date(_0x5883bd+_0x195b20(0x225))[_0x195b20(0x22b)]();specialRanges[_0x195b20(0x1d2)](_0x404fe4=>{const _0x390ccd=_0x195b20,_0x3ff41f=new Date(_0x404fe4['start'])['getTime'](),_0x449060=new Date(_0x404fe4[_0x390ccd(0x1f5)])[_0x390ccd(0x22b)](),_0x1e9e5a=Math['max'](_0x356b10,_0x3ff41f),_0x358726=Math[_0x390ccd(0x192)](_0x6c44c6,_0x449060);if(_0x1e9e5a<_0x358726){if(_0x1e9e5a<=_0x356b10&&_0x358726>=_0x6c44c6-0xea60){if(!_0x4a647f['querySelector'](_0x390ccd(0x23a))){const _0x4a7d8a=document[_0x390ccd(0x271)](_0x390ccd(0x236));_0x4a7d8a[_0x390ccd(0x21b)]=_0x390ccd(0x1b8),_0x4a7d8a[_0x390ccd(0x232)][_0x390ccd(0x1ad)]='-'+_0x58d2d4+_0x390ccd(0x253),_0x4a647f[_0x390ccd(0x216)](_0x4a7d8a);}}else{const _0xa90942=(_0x1e9e5a-_0x356b10)/0x36ee80*GRID_H,_0x45fc3b=(_0x358726-_0x1e9e5a)/0x36ee80*GRID_H,_0x306fb6=document[_0x390ccd(0x271)](_0x390ccd(0x236));_0x306fb6[_0x390ccd(0x21b)]='blocked-range-part\x20stripe-bg',_0x306fb6[_0x390ccd(0x232)][_0x390ccd(0x237)]=_0xa90942+'px',_0x306fb6[_0x390ccd(0x232)][_0x390ccd(0x26b)]=_0x45fc3b+'px',_0x306fb6[_0x390ccd(0x232)][_0x390ccd(0x1ad)]='-'+_0x58d2d4+'px\x20-'+_0xa90942+'px',_0x4a647f[_0x390ccd(0x216)](_0x306fb6);}}});}if(dateExceptions[_0x5883bd]===_0x195b20(0x29a)){if(!_0x4a647f[_0x195b20(0x214)](_0x195b20(0x23a))){const _0x4d40eb=document[_0x195b20(0x271)](_0x195b20(0x236));_0x4d40eb['className']=_0x195b20(0x1b8),_0x4d40eb[_0x195b20(0x232)][_0x195b20(0x1ad)]='-'+_0x58d2d4+_0x195b20(0x253),_0x4a647f[_0x195b20(0x216)](_0x4d40eb);}}renderEventsForColumn(_0x4a647f,_0x5883bd,_0x3c58ec),updateDayStats(_0x5883bd);});}function updateAllDayStats(){const _0x4710ee=a2_0x181787;document[_0x4710ee(0x20d)](_0x4710ee(0x18b))['forEach'](_0x51f153=>{const _0x9187e1=_0x4710ee;updateDayStats(_0x51f153[_0x9187e1(0x2d2)](_0x9187e1(0x273)));});}function updateDayStats(_0x3d6f81){const _0x2be2ab=a2_0x181787,_0x12694d=document['getElementById'](_0x2be2ab(0x24e)+_0x3d6f81);if(!_0x12694d)return;const _0x5b0346=new Date(_0x3d6f81);let _0x535018=_0x5b0346[_0x2be2ab(0x2a9)]()-0x1;if(_0x535018===-0x1)_0x535018=0x6;if(dateExceptions[_0x3d6f81]===_0x2be2ab(0x29a)){_0x12694d[_0x2be2ab(0x232)][_0x2be2ab(0x229)]='none';return;}const _0x30c5af=availabilityPattern[_0x535018]||[],_0x2ba516=0x18-_0x30c5af['length'],_0xd731fa=_0x2ba516*0x3c,_0x51041e=sessions[_0x2be2ab(0x2bf)](_0x4aa15b=>_0x4aa15b['dateStr']===_0x3d6f81&&_0x4aa15b[_0x2be2ab(0x1c4)]!=='cancelled');if(_0x51041e[_0x2be2ab(0x2c2)]===0x0){_0x12694d[_0x2be2ab(0x232)][_0x2be2ab(0x229)]=_0x2be2ab(0x25e);return;}let _0x268e71=_0x51041e[_0x2be2ab(0x19e)](_0x377fa2=>{const _0x26de7d=_0x2be2ab,[_0x43715c,_0x43fa96]=_0x377fa2['start'][_0x26de7d(0x29c)](':')[_0x26de7d(0x19e)](Number),[_0x3e9819,_0xe657a6]=_0x377fa2[_0x26de7d(0x1f5)][_0x26de7d(0x29c)](':')[_0x26de7d(0x19e)](Number);return[_0x43715c*0x3c+_0x43fa96,_0x3e9819*0x3c+_0xe657a6];});_0x268e71['sort']((_0x2a6938,_0x2e6522)=>_0x2a6938[0x0]-_0x2e6522[0x0]);let _0x107016=[];if(_0x268e71[_0x2be2ab(0x2c2)]>0x0){let _0x45ac4c=_0x268e71[0x0];for(let _0x397cf1=0x1;_0x397cf1<_0x268e71[_0x2be2ab(0x2c2)];_0x397cf1++){_0x268e71[_0x397cf1][0x0]<_0x45ac4c[0x1]?_0x45ac4c[0x1]=Math[_0x2be2ab(0x234)](_0x45ac4c[0x1],_0x268e71[_0x397cf1][0x1]):(_0x107016[_0x2be2ab(0x193)](_0x45ac4c),_0x45ac4c=_0x268e71[_0x397cf1]);}_0x107016[_0x2be2ab(0x193)](_0x45ac4c);}let _0x1186ee=0x0;_0x107016[_0x2be2ab(0x1d2)](_0x431f31=>_0x1186ee+=_0x431f31[0x1]-_0x431f31[0x0]),_0x12694d['style'][_0x2be2ab(0x229)]='flex';const _0x29b4fa=_0x12694d[_0x2be2ab(0x214)](_0x2be2ab(0x1c7));if(_0xd731fa===0x0){_0x29b4fa['style'][_0x2be2ab(0x1ff)]=_0x2be2ab(0x2a7),_0x29b4fa[_0x2be2ab(0x232)]['background']='var(--acc-red)';return;}const _0x44406a=_0x1186ee/_0xd731fa*0x64;console[_0x2be2ab(0x1f8)]('['+_0x3d6f81+']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20'+_0x2ba516+_0x2be2ab(0x2cc)+_0x1186ee+_0x2be2ab(0x1d8)+_0x44406a[_0x2be2ab(0x287)](0x1)+'%'),_0x44406a>0x64?(_0x29b4fa[_0x2be2ab(0x232)][_0x2be2ab(0x1ff)]=_0x2be2ab(0x2a7),_0x29b4fa[_0x2be2ab(0x232)]['background']=_0x2be2ab(0x285)):(_0x29b4fa[_0x2be2ab(0x232)][_0x2be2ab(0x1ff)]=_0x44406a+'%',_0x29b4fa[_0x2be2ab(0x232)][_0x2be2ab(0x187)]=_0x2be2ab(0x1d0));}function renderEventsForColumn(_0xb6b116,_0x1f9eda,_0x3fbcb6){const _0xc4f11c=a2_0x181787,_0x2c5e10=sessions['filter'](_0x499977=>_0x499977['dateStr']===_0x1f9eda),_0x465e1f=_0x2c5e10[_0xc4f11c(0x19e)](_0x358053=>{const _0x56f38b=_0xc4f11c,[_0x79c296,_0x5235b2]=_0x358053[_0x56f38b(0x28d)][_0x56f38b(0x29c)](':')['map'](Number),[_0x3491d0,_0x596aed]=_0x358053['end']['split'](':')[_0x56f38b(0x19e)](Number);return{'data':_0x358053,'start':_0x79c296*0x3c+_0x5235b2,'end':_0x3491d0*0x3c+_0x596aed,'colIndex':0x0};});_0x465e1f[_0xc4f11c(0x2db)]((_0x35b917,_0x648b25)=>{const _0x181b01=_0xc4f11c;if(_0x35b917['start']!==_0x648b25[_0x181b01(0x28d)])return _0x35b917[_0x181b01(0x28d)]-_0x648b25[_0x181b01(0x28d)];return _0x648b25[_0x181b01(0x1f5)]-_0x648b25[_0x181b01(0x28d)]-(_0x35b917['end']-_0x35b917[_0x181b01(0x28d)]);});const _0x5df6f7=[];_0x465e1f[_0xc4f11c(0x1d2)](_0x3a6419=>{const _0x412929=_0xc4f11c;let _0xb0718b=![];for(let _0x24f930=0x0;_0x24f930<_0x5df6f7[_0x412929(0x2c2)];_0x24f930++){const _0x3b1755=_0x5df6f7[_0x24f930],_0x41736a=_0x3b1755[_0x3b1755[_0x412929(0x2c2)]-0x1];if(_0x3a6419[_0x412929(0x28d)]>=_0x41736a[_0x412929(0x1f5)]){_0x3b1755[_0x412929(0x193)](_0x3a6419),_0x3a6419[_0x412929(0x270)]=_0x24f930,_0xb0718b=!![];break;}}!_0xb0718b&&(_0x5df6f7['push']([_0x3a6419]),_0x3a6419['colIndex']=_0x5df6f7[_0x412929(0x2c2)]-0x1);}),_0x465e1f['forEach'](_0x10b865=>{const _0x381330=_0xc4f11c;let _0xbcc0f0=0x0;_0x465e1f['forEach'](_0x4425ea=>{const _0xf963eb=a2_0xb72d;if(Math[_0xf963eb(0x234)](_0x10b865[_0xf963eb(0x28d)],_0x4425ea[_0xf963eb(0x28d)])<Math[_0xf963eb(0x192)](_0x10b865[_0xf963eb(0x1f5)],_0x4425ea[_0xf963eb(0x1f5)])){if(_0x4425ea['colIndex']>_0xbcc0f0)_0xbcc0f0=_0x4425ea[_0xf963eb(0x270)];}});const _0x5754c9=_0xbcc0f0+0x1,_0x53299a=0x64/_0x5754c9,_0xd9deb5=_0x10b865[_0x381330(0x270)]*_0x53299a,_0x2c4436=createEventEl(_0x10b865['data']);_0x2c4436['style'][_0x381330(0x1ff)]='calc('+_0x53299a+'%\x20-\x204px)',_0x2c4436['style'][_0x381330(0x240)]=_0x381330(0x24f)+_0xd9deb5+_0x381330(0x262),_0x2c4436[_0x381330(0x232)][_0x381330(0x248)]=0xa+_0x10b865[_0x381330(0x270)],_0x53299a<0x55&&_0x2c4436['classList']['add'](_0x381330(0x18e)),_0xb6b116[_0x381330(0x216)](_0x2c4436);});}function createEventEl(_0x4c75c6){const _0x2075b2=a2_0x181787,[_0x49a7d7,_0x2dcc76]=_0x4c75c6[_0x2075b2(0x28d)]['split'](':')[_0x2075b2(0x19e)](Number),[_0x20d64c,_0x54fc0f]=_0x4c75c6[_0x2075b2(0x1f5)]['split'](':')['map'](Number),_0x3641d5=(_0x49a7d7*0x3c+_0x2dcc76)/0x3c*GRID_H,_0x5045a3=(_0x20d64c*0x3c+_0x54fc0f-(_0x49a7d7*0x3c+_0x2dcc76))/0x3c*GRID_H,_0x6c1c6e=document[_0x2075b2(0x271)]('div'),_0x277e21=_0x4c75c6[_0x2075b2(0x1c4)]==='completed'?_0x2075b2(0x2fb):'';_0x6c1c6e[_0x2075b2(0x21b)]=_0x2075b2(0x20c)+_0x277e21,_0x6c1c6e['style'][_0x2075b2(0x237)]=_0x3641d5+'px',_0x6c1c6e[_0x2075b2(0x232)][_0x2075b2(0x26b)]=Math[_0x2075b2(0x234)](_0x5045a3,0x14)+'px';const _0x39473b=clients[_0x2075b2(0x23f)](_0x204f0a=>_0x4c75c6[_0x2075b2(0x227)]&&String(_0x204f0a['id'])===String(_0x4c75c6['clientId'])||_0x204f0a[_0x2075b2(0x25c)]===_0x4c75c6['client']),_0x300562=_0x39473b?_0x39473b[_0x2075b2(0x1cd)]:_0x2075b2(0x251);_0x6c1c6e['style'][_0x2075b2(0x300)]=_0x300562,_0x6c1c6e[_0x2075b2(0x232)][_0x2075b2(0x27a)]=hexToRgba(_0x300562,0.85);let _0x484ae4=_0x2075b2(0x1ec)+_0x4c75c6[_0x2075b2(0x209)]+_0x2075b2(0x1d5)+_0x4c75c6[_0x2075b2(0x28d)]+_0x2075b2(0x230)+_0x4c75c6['end']+_0x2075b2(0x2e2);return _0x4c75c6[_0x2075b2(0x2d1)]&&(_0x484ae4+=_0x2075b2(0x2b8)),_0x4c75c6[_0x2075b2(0x1c4)]===_0x2075b2(0x212)&&(_0x484ae4+=_0x2075b2(0x2e3)),_0x6c1c6e[_0x2075b2(0x2c4)]=_0x484ae4,_0x6c1c6e[_0x2075b2(0x1a6)]=_0x123d0e=>{_0x123d0e['stopPropagation'](),openEdit(_0x4c75c6);},_0x6c1c6e;}function attachLongPressHandler(_0x4efd9d,_0x24e739){const _0x2aecfc=a2_0x181787;let _0x47ae11=0x0,_0x1168da=null;const _0x2c2f73=_0x11bb1a=>{const _0x46a93b=a2_0xb72d;if(_0x11bb1a[_0x46a93b(0x290)][_0x46a93b(0x1a5)](_0x46a93b(0x246)))return;isScrolling=![],_0x47ae11=_0x11bb1a[_0x46a93b(0x242)]?_0x11bb1a[_0x46a93b(0x242)][0x0]['clientY']:_0x11bb1a[_0x46a93b(0x1aa)],_0x1168da=setTimeout(()=>{const _0x13847f=_0x46a93b;if(!isScrolling){navigator[_0x13847f(0x219)]?.(0x32);const _0x281c26=_0x4efd9d['getBoundingClientRect'](),_0x3a5a45=Math[_0x13847f(0x1fa)]((_0x47ae11-_0x281c26[_0x13847f(0x237)])/GRID_H);_0x24e739[_0x13847f(0x1f2)](_0x3a5a45,0x0),openAddSession(_0x24e739);}},0x1f4);},_0x5da4ff=()=>{isScrolling=!![],clearTimeout(_0x1168da);},_0x2cf439=()=>{clearTimeout(_0x1168da);};_0x4efd9d[_0x2aecfc(0x23c)](_0x2aecfc(0x2df),_0x2c2f73,{'passive':!![]}),_0x4efd9d[_0x2aecfc(0x23c)](_0x2aecfc(0x25d),_0x5da4ff,{'passive':!![]}),_0x4efd9d['addEventListener'](_0x2aecfc(0x272),_0x2cf439),_0x4efd9d['addEventListener'](_0x2aecfc(0x2a4),_0x2c2f73),_0x4efd9d[_0x2aecfc(0x23c)](_0x2aecfc(0x2f0),_0x5da4ff),_0x4efd9d['addEventListener'](_0x2aecfc(0x1d9),_0x2cf439);}function cancelLongPress(){}function handleInfiniteScroll(){const _0xffa35a=a2_0x181787,_0x2a74e7=document[_0xffa35a(0x18d)](_0xffa35a(0x2d5)),_0x5ec820=_0x2a74e7[_0xffa35a(0x25b)],_0x9f49f5=_0x2a74e7[_0xffa35a(0x1d4)],_0x21fcc0=_0x2a74e7[_0xffa35a(0x211)];if(_0x9f49f5-(_0x5ec820+_0x21fcc0)<0x12c){const _0x547c15=endOffset;endOffset+=0xe,renderDayRange(_0x547c15+0x1,endOffset),reRenderBlocks();}if(_0x5ec820<0x12c){const _0x2b3cfe=startOffset;startOffset-=0xe,prependDays(startOffset,_0x2b3cfe-0x1),_0x2a74e7[_0xffa35a(0x25b)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x2980d7,_0x107c79){const _0x59a296=a2_0x181787,_0x428b12=document[_0x59a296(0x18d)](_0x59a296(0x2a8)),_0x2e5e71=document[_0x59a296(0x18d)](_0x59a296(0x26d)),_0x582777=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x589171=new Date();_0x589171[_0x59a296(0x1f2)](0x0,0x0,0x0,0x0);const _0x1410f5=getLocalDateStr(new Date()),_0x494f92=document[_0x59a296(0x1f1)](),_0x268cf0=document[_0x59a296(0x1f1)]();for(let _0x48ec74=_0x2980d7;_0x48ec74<=_0x107c79;_0x48ec74++){const _0x4bf39e=new Date(_0x589171);_0x4bf39e['setDate'](_0x4bf39e[_0x59a296(0x1a0)]()+_0x48ec74);const _0x16721d=getLocalDateStr(_0x4bf39e);let _0x1845cb=_0x4bf39e['getDay']()-0x1;if(_0x1845cb===-0x1)_0x1845cb=0x6;const _0x57edbe=_0x16721d===_0x1410f5,_0x49be7e=document['createElement'](_0x59a296(0x236));_0x49be7e['className']=_0x59a296(0x1d7)+(_0x57edbe?_0x59a296(0x256):''),_0x49be7e['id']=_0x59a296(0x1a8)+_0x16721d,_0x49be7e[_0x59a296(0x1a3)]('data-date',_0x16721d),_0x49be7e[_0x59a296(0x2c4)]=_0x59a296(0x2a2)+_0x582777[_0x1845cb]+_0x59a296(0x29e)+_0x4bf39e[_0x59a296(0x1a0)]()+_0x59a296(0x1cf)+_0x16721d+_0x59a296(0x1e5),_0x49be7e['onclick']=()=>openDayOptions(_0x16721d,_0x582777[_0x1845cb]+'\x20'+_0x4bf39e['getDate']()),_0x494f92['appendChild'](_0x49be7e);const _0x56abf4=document[_0x59a296(0x271)]('div');_0x56abf4['className']='day-column\x20'+(_0x57edbe?'today':''),_0x56abf4[_0x59a296(0x1a3)](_0x59a296(0x273),_0x16721d),_0x56abf4['setAttribute'](_0x59a296(0x1ed),_0x1845cb),renderEventsForColumn(_0x56abf4,_0x16721d,_0x1845cb),attachLongPressHandler(_0x56abf4,_0x4bf39e),_0x268cf0[_0x59a296(0x216)](_0x56abf4),updateDayStats(_0x16721d);}_0x428b12[_0x59a296(0x2ac)](_0x494f92,_0x428b12[_0x59a296(0x2f6)]),_0x2e5e71[_0x59a296(0x2ac)](_0x268cf0,_0x2e5e71['querySelector']('.day-column'));}function validateAppointment(_0x2fb142,_0x499d7e,_0x5b87e4,_0x2966ed,_0xf97c71){const _0x3f76ac=a2_0x181787,[_0x5eed6d,_0xb6a109]=_0x499d7e[_0x3f76ac(0x29c)](':')[_0x3f76ac(0x19e)](Number),[_0x267fd2,_0x5ca198]=_0x5b87e4[_0x3f76ac(0x29c)](':')['map'](Number),_0xbb1be7=_0x5eed6d*0x3c+_0xb6a109,_0x122465=_0x267fd2*0x3c+_0x5ca198,_0x2b6ebd=String(_0xf97c71);let _0x349ffa=![],_0x5f43f2='';for(let _0x166390 of sessions){if(_0x166390[_0x3f76ac(0x2b7)]!==_0x2fb142)continue;if(_0x166390['status']===_0x3f76ac(0x26e))continue;if(_0x2966ed&&String(_0x166390['id'])===String(_0x2966ed))continue;const [_0x1c1c38,_0x1d9816]=_0x166390[_0x3f76ac(0x28d)][_0x3f76ac(0x29c)](':')[_0x3f76ac(0x19e)](Number),[_0x7fa9f6,_0x28e4ca]=_0x166390['end']['split'](':')[_0x3f76ac(0x19e)](Number),_0x261e67=_0x1c1c38*0x3c+_0x1d9816,_0x3f8087=_0x7fa9f6*0x3c+_0x28e4ca;if(Math[_0x3f76ac(0x234)](_0xbb1be7,_0x261e67)<Math[_0x3f76ac(0x192)](_0x122465,_0x3f8087)){if(_0x166390[_0x3f76ac(0x227)]&&String(_0x166390[_0x3f76ac(0x227)])===_0x2b6ebd)return{'valid':![],'msg':_0x3f76ac(0x21a)+_0x166390[_0x3f76ac(0x209)]+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x349ffa=!![],_0x5f43f2=_0x166390['client'];}}if(_0x349ffa)return{'valid':!![],'warning':_0x3f76ac(0x1b5)+_0x5f43f2};return{'valid':!![]};}function updateDateDisplay(){const _0x1ea723=a2_0x181787,_0x1074d4=document[_0x1ea723(0x18d)]('inpDate')[_0x1ea723(0x2af)],_0x480285=document['getElementById'](_0x1ea723(0x1fd));if(!_0x1074d4){_0x480285[_0x1ea723(0x2f4)]='';return;}const [_0x5e10f7,_0x4cf0e9,_0x41d7e9]=_0x1074d4['split']('-')[_0x1ea723(0x19e)](Number),_0x2830a8=new Date(_0x5e10f7,_0x4cf0e9-0x1,_0x41d7e9),_0x312952={'weekday':_0x1ea723(0x2fa),'day':_0x1ea723(0x18c),'month':_0x1ea723(0x2fa),'year':'numeric'};let _0x3bb314=_0x2830a8[_0x1ea723(0x265)](_0x1ea723(0x1c2),_0x312952);_0x3bb314=_0x3bb314[_0x1ea723(0x221)](0x0)[_0x1ea723(0x293)]()+_0x3bb314[_0x1ea723(0x1e2)](0x1),_0x480285[_0x1ea723(0x2f4)]=_0x3bb314;}function autoSetEndTime(){const _0x2b9830=a2_0x181787,_0x15ce7f=document[_0x2b9830(0x18d)](_0x2b9830(0x19a))[_0x2b9830(0x2af)];if(!_0x15ce7f)return;const [_0x43bc90,_0xb14732]=_0x15ce7f[_0x2b9830(0x29c)](':')[_0x2b9830(0x19e)](Number);let _0x5773db=_0x43bc90+0x1;if(_0x5773db>0x17)_0x5773db=0x0;const _0x3cf655=String(_0x5773db)[_0x2b9830(0x241)](0x2,'0')+':'+String(_0xb14732)[_0x2b9830(0x241)](0x2,'0');document[_0x2b9830(0x18d)]('inpEnd')['value']=_0x3cf655;}function populateClientSelect(){const _0x378fac=a2_0x181787,_0xc212ae=document[_0x378fac(0x18d)](_0x378fac(0x247));_0xc212ae[_0x378fac(0x2c4)]='';if(clients[_0x378fac(0x2c2)]===0x0){const _0x2bcfe0=document[_0x378fac(0x271)]('option');_0x2bcfe0['text']=_0x378fac(0x200),_0xc212ae[_0x378fac(0x216)](_0x2bcfe0);return;}clients['forEach'](_0x4cf627=>{const _0xfce005=_0x378fac,_0x5e4d4a=document[_0xfce005(0x271)](_0xfce005(0x196));_0x5e4d4a[_0xfce005(0x2af)]=_0x4cf627[_0xfce005(0x25c)],_0x5e4d4a[_0xfce005(0x2f4)]=_0x4cf627[_0xfce005(0x25c)],_0xc212ae[_0xfce005(0x216)](_0x5e4d4a);});}function openActionSheet(_0x38cf39){const _0x3291dc=a2_0x181787,_0x2a2502=document[_0x3291dc(0x18d)](_0x3291dc(0x2c0)),_0x44e875=document[_0x3291dc(0x18d)]('actionSheetOverlay'),_0x5701e9=document[_0x3291dc(0x18d)]('asTitle'),_0x40cf1d=document['getElementById'](_0x3291dc(0x2fc)),_0x55f7bd=document[_0x3291dc(0x18d)]('asBtnSeries');_0x44e875[_0x3291dc(0x202)]['add']('active'),_0x2a2502[_0x3291dc(0x202)]['add'](_0x3291dc(0x2d3));if(_0x38cf39===_0x3291dc(0x217))_0x5701e9['textContent']=_0x3291dc(0x1fe),_0x40cf1d[_0x3291dc(0x2f4)]=_0x3291dc(0x245),_0x40cf1d[_0x3291dc(0x1a6)]=()=>{const _0x12ba2a=_0x3291dc;closeActionSheet(),updateSeriesBatch(_0x12ba2a(0x1b3),tempSessionData);},_0x55f7bd[_0x3291dc(0x2f4)]=_0x3291dc(0x28e),_0x55f7bd[_0x3291dc(0x1a6)]=()=>{const _0x238256=_0x3291dc;closeActionSheet(),updateSeriesBatch(_0x238256(0x291),tempSessionData);};else _0x38cf39==='delete'&&(_0x5701e9[_0x3291dc(0x2f4)]=_0x3291dc(0x215),_0x40cf1d[_0x3291dc(0x2f4)]=_0x3291dc(0x245),_0x40cf1d[_0x3291dc(0x21b)]='as-button\x20danger',_0x40cf1d[_0x3291dc(0x1a6)]=()=>{const _0x205041=_0x3291dc;closeActionSheet(),commitDelete('single',sessions[_0x205041(0x23f)](_0x4967d4=>_0x4967d4['id']===editingId));},_0x55f7bd['textContent']=_0x3291dc(0x28e),_0x55f7bd[_0x3291dc(0x21b)]=_0x3291dc(0x302),_0x55f7bd[_0x3291dc(0x1a6)]=()=>{const _0x2ae608=_0x3291dc;closeActionSheet(),commitDelete(_0x2ae608(0x291),sessions[_0x2ae608(0x23f)](_0x470a95=>_0x470a95['id']===editingId));});}function closeActionSheet(){const _0x4f89c1=a2_0x181787;document['getElementById'](_0x4f89c1(0x2c0))['classList'][_0x4f89c1(0x1e3)](_0x4f89c1(0x2d3)),document[_0x4f89c1(0x18d)](_0x4f89c1(0x27c))[_0x4f89c1(0x202)]['remove'](_0x4f89c1(0x22a));}function openSettings(){openSheet('settingsSheet');}function saveCoachSettings(){const _0x4f3429=a2_0x181787,_0x185a82=document[_0x4f3429(0x18d)](_0x4f3429(0x1ba))[_0x4f3429(0x2af)];localStorage[_0x4f3429(0x263)](_0x4f3429(0x190),_0x185a82),console[_0x4f3429(0x1f8)]('[Settings]\x20Cancel\x20window\x20set\x20to:',_0x185a82),DataManager[_0x4f3429(0x1e8)](_0x4f3429(0x292),{'settings':{'cancel_window':_0x185a82}})[_0x4f3429(0x24d)](_0x38a12e=>{const _0xc9468c=_0x4f3429;console[_0xc9468c(0x2f8)]('Save\x20settings\x20error:',_0x38a12e),showToast(_0xc9468c(0x20e),![]);});}function loadCoachSettings(){const _0x1ba58c=a2_0x181787,_0xe960b9=localStorage[_0x1ba58c(0x267)](_0x1ba58c(0x190));_0xe960b9&&(document['getElementById'](_0x1ba58c(0x1ba))[_0x1ba58c(0x2af)]=_0xe960b9);}function openRangesSheet(){const _0x27416c=a2_0x181787;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x27416c(0x25a));}function addRange(){const _0x466605=a2_0x181787,_0x155e19=document[_0x466605(0x18d)]('rangeStartDate')[_0x466605(0x2af)],_0x4e738e=document['getElementById'](_0x466605(0x2d0))[_0x466605(0x2af)],_0x15f487=document['getElementById'](_0x466605(0x2e5))['value'],_0x264404=document[_0x466605(0x18d)](_0x466605(0x20b))[_0x466605(0x2af)];if(!_0x155e19||!_0x4e738e||!_0x15f487||!_0x264404)return alert(_0x466605(0x189));const _0xdfc13=_0x155e19+'T'+_0x4e738e,_0x48b60f=_0x15f487+'T'+_0x264404;if(_0xdfc13>=_0x48b60f)return alert(_0x466605(0x2ed));specialRanges[_0x466605(0x193)]({'start':_0xdfc13,'end':_0x48b60f}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x466605(0x257)](),DataManager[_0x466605(0x1e8)](_0x466605(0x292),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x43ba45){const _0x48d6ea=a2_0x181787;specialRanges['splice'](_0x43ba45,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x48d6ea(0x257)](),DataManager['fetchFromServer']('save_settings',{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x28491=a2_0x181787;document[_0x28491(0x18d)](_0x28491(0x2de))[_0x28491(0x2af)]='',document[_0x28491(0x18d)](_0x28491(0x2d0))[_0x28491(0x2af)]='00:00',document[_0x28491(0x18d)](_0x28491(0x2e5))[_0x28491(0x2af)]='',document['getElementById'](_0x28491(0x20b))[_0x28491(0x2af)]='23:59';}function renderRangesList(){const _0x22400c=a2_0x181787,_0x37ffef=document[_0x22400c(0x18d)](_0x22400c(0x29d));_0x37ffef['innerHTML']='';if(!specialRanges[_0x22400c(0x2c2)]){_0x37ffef['innerHTML']=_0x22400c(0x1e4);return;}specialRanges[_0x22400c(0x1d2)]((_0x3b09c5,_0x876a33)=>{const _0x2446b4=_0x22400c,_0x442e32=document['createElement'](_0x2446b4(0x236));_0x442e32[_0x2446b4(0x21b)]=_0x2446b4(0x1cb);const _0x1f94ed=_0x28f45a=>{const _0x551179=_0x2446b4,_0x4dc5bb=new Date(_0x28f45a);return _0x4dc5bb[_0x551179(0x1a0)]()+'.'+String(_0x4dc5bb[_0x551179(0x197)]()+0x1)[_0x551179(0x241)](0x2,'0')+'\x20'+String(_0x4dc5bb[_0x551179(0x2e0)]())[_0x551179(0x241)](0x2,'0')+':'+String(_0x4dc5bb[_0x551179(0x295)]())[_0x551179(0x241)](0x2,'0');};_0x442e32[_0x2446b4(0x2c4)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>'+_0x1f94ed(_0x3b09c5['start'])+'\x20‚Äî\x20'+_0x1f94ed(_0x3b09c5['end'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange('+_0x876a33+_0x2446b4(0x2a5),_0x37ffef[_0x2446b4(0x216)](_0x442e32);});}function scrollToToday(){const _0x445bc0=a2_0x181787,_0x5a3b8b=getLocalDateStr(new Date()),_0x2c4694=document[_0x445bc0(0x18d)]('header-'+_0x5a3b8b),_0xbf7fd2=document[_0x445bc0(0x18d)](_0x445bc0(0x2d5));if(_0x2c4694&&_0xbf7fd2){const _0x5a82d6=_0xbf7fd2['clientWidth'],_0x54ab15=_0x2c4694['offsetLeft'],_0x41b706=_0x2c4694[_0x445bc0(0x2e1)];_0xbf7fd2[_0x445bc0(0x25b)]=_0x54ab15-_0x5a82d6/0x2+_0x41b706/0x2,_0xbf7fd2[_0x445bc0(0x27d)]=0x9*GRID_H;}}function onScroll(){const _0x1dfb4f=a2_0x181787,_0x122769=document[_0x1dfb4f(0x18d)](_0x1dfb4f(0x2d5)),_0x49cd12=document[_0x1dfb4f(0x20d)](_0x1dfb4f(0x18b));for(let _0x11e66f of _0x49cd12)if(_0x11e66f[_0x1dfb4f(0x1e0)]>=_0x122769[_0x1dfb4f(0x25b)]){const _0x4363c8=new Date(_0x11e66f[_0x1dfb4f(0x2d2)](_0x1dfb4f(0x273)));document[_0x1dfb4f(0x18d)](_0x1dfb4f(0x218))[_0x1dfb4f(0x2f4)]=_0x4363c8[_0x1dfb4f(0x2b1)]('ru',{'month':_0x1dfb4f(0x2fa)})[_0x1dfb4f(0x293)]()+'\x20'+_0x4363c8[_0x1dfb4f(0x1a9)]();break;}}function showToast(_0x31eabf,_0x44112b=![]){const _0x1e2f33=a2_0x181787,_0x2c6de0=document[_0x1e2f33(0x18d)](_0x1e2f33(0x18f));_0x2c6de0[_0x1e2f33(0x21b)]='toast-notification\x20'+(_0x44112b?_0x1e2f33(0x2ba):''),document[_0x1e2f33(0x18d)](_0x1e2f33(0x2e7))[_0x1e2f33(0x2f4)]=_0x44112b?_0x1e2f33(0x2ad):_0x1e2f33(0x1f9),document[_0x1e2f33(0x18d)]('toastMessage')[_0x1e2f33(0x2f4)]=_0x31eabf,_0x2c6de0[_0x1e2f33(0x202)][_0x1e2f33(0x2da)]('show'),setTimeout(()=>{const _0x41d7e5=_0x1e2f33;_0x2c6de0[_0x41d7e5(0x202)]['remove']('show');},0xbb8);}function openDayOptions(_0x2f2549,_0x1a7e44){const _0x19cd10=a2_0x181787;selectedDayForOptions=_0x2f2549,document[_0x19cd10(0x18d)](_0x19cd10(0x222))['textContent']=_0x1a7e44,openSheet(_0x19cd10(0x208));}function toggleDayOff(){const _0xbda791=a2_0x181787;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0xbda791(0x29a),reRenderBlocks(),closeAllSheets(),DataManager[_0xbda791(0x257)](),DataManager[_0xbda791(0x1e8)](_0xbda791(0x292),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x110cdf=a2_0x181787;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x110cdf(0x257)](),DataManager[_0x110cdf(0x1e8)](_0x110cdf(0x292),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x27915d){const _0xf0cecd=a2_0x181787;document[_0xf0cecd(0x18d)](_0xf0cecd(0x1c8))[_0xf0cecd(0x202)][_0xf0cecd(0x2da)]('active'),document['getElementById'](_0x27915d)[_0xf0cecd(0x202)][_0xf0cecd(0x2da)](_0xf0cecd(0x2d3));}function closeAllSheets(){const _0xb420b2=a2_0x181787;document[_0xb420b2(0x18d)](_0xb420b2(0x1c8))['classList'][_0xb420b2(0x1e3)](_0xb420b2(0x22a)),document[_0xb420b2(0x20d)](_0xb420b2(0x22d))[_0xb420b2(0x1d2)](_0x154221=>_0x154221['classList'][_0xb420b2(0x1e3)]('open'));}function openPatternEditor(){const _0x57b09c=a2_0x181787;closeAllSheets(),document['getElementById']('patternEditor')[_0x57b09c(0x202)][_0x57b09c(0x2da)](_0x57b09c(0x2d3)),renderPatternEditor();}function closePatternEditor(){const _0x4e80bc=a2_0x181787;document['getElementById'](_0x4e80bc(0x1be))[_0x4e80bc(0x202)][_0x4e80bc(0x1e3)](_0x4e80bc(0x2d3));}function savePattern(){const _0x511f50=a2_0x181787;document[_0x511f50(0x18d)](_0x511f50(0x1be))['classList']['remove'](_0x511f50(0x2d3)),reRenderBlocks(),DataManager[_0x511f50(0x257)](),DataManager['fetchFromServer'](_0x511f50(0x292),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0xbc2eff=a2_0x181787,_0x444349=document['getElementById'](_0xbc2eff(0x2cd));_0x444349[_0xbc2eff(0x2c4)]='';const _0x4d71b7=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x2e13c7=document[_0xbc2eff(0x271)]('div');_0x2e13c7[_0xbc2eff(0x21b)]=_0xbc2eff(0x2c8),_0x444349[_0xbc2eff(0x216)](_0x2e13c7),_0x4d71b7[_0xbc2eff(0x1d2)]((_0x296008,_0x5486c9)=>{const _0x189eda=_0xbc2eff,_0x1c83af=document[_0x189eda(0x271)](_0x189eda(0x236));_0x1c83af[_0x189eda(0x21b)]=_0x189eda(0x282),_0x1c83af[_0x189eda(0x2c4)]=_0x296008+_0x189eda(0x2b4),_0x1c83af[_0x189eda(0x1a6)]=()=>toggleColPattern(_0x5486c9),_0x444349[_0x189eda(0x216)](_0x1c83af);});for(let _0x32649d=0x0;_0x32649d<0x18;_0x32649d++){const _0x186907=document[_0xbc2eff(0x271)]('div');_0x186907[_0xbc2eff(0x21b)]=_0xbc2eff(0x28a),_0x186907[_0xbc2eff(0x2c4)]='<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>'+String(_0x32649d)[_0xbc2eff(0x241)](0x2,'0')+_0xbc2eff(0x1fb),_0x186907[_0xbc2eff(0x1a6)]=()=>toggleRowPattern(_0x32649d),_0x444349[_0xbc2eff(0x216)](_0x186907);for(let _0x6591a7=0x0;_0x6591a7<0x7;_0x6591a7++){const _0x3f88b5=document[_0xbc2eff(0x271)](_0xbc2eff(0x236)),_0x1632c1=(availabilityPattern[_0x6591a7]||[])[_0xbc2eff(0x2b3)](_0x32649d),_0x36ba1f=!_0x1632c1;_0x3f88b5[_0xbc2eff(0x21b)]=_0xbc2eff(0x255)+(_0x36ba1f?_0xbc2eff(0x22a):''),_0x3f88b5['onclick']=()=>toggleSinglePattern(_0x6591a7,_0x32649d),_0x444349[_0xbc2eff(0x216)](_0x3f88b5);}}}function toggleSinglePattern(_0x3a6958,_0x321faa){const _0x31be60=a2_0x181787;if(!availabilityPattern[_0x3a6958])availabilityPattern[_0x3a6958]=[];const _0x5aca66=availabilityPattern[_0x3a6958],_0x310a3e=_0x5aca66['indexOf'](_0x321faa);_0x310a3e===-0x1?_0x5aca66['push'](_0x321faa):_0x5aca66[_0x31be60(0x22f)](_0x310a3e,0x1),renderPatternEditor();}function toggleColPattern(_0x4efaa3){const _0xda322b=a2_0x181787;if(!availabilityPattern[_0x4efaa3])availabilityPattern[_0x4efaa3]=[];const _0x4eacc9=availabilityPattern[_0x4efaa3];_0x4eacc9[_0xda322b(0x2c2)]===0x0?availabilityPattern[_0x4efaa3]=Array['from']({'length':0x18},(_0x42fe3a,_0x1bdcf9)=>_0x1bdcf9):availabilityPattern[_0x4efaa3]=[],renderPatternEditor();}function toggleRowPattern(_0x561505){const _0x119156=a2_0x181787;let _0xfc3567=!![];for(let _0x45f68c=0x0;_0x45f68c<0x7;_0x45f68c++){if((availabilityPattern[_0x45f68c]||[])[_0x119156(0x2b3)](_0x561505)){_0xfc3567=![];break;}}for(let _0x210990=0x0;_0x210990<0x7;_0x210990++){if(!availabilityPattern[_0x210990])availabilityPattern[_0x210990]=[];const _0x35f0aa=availabilityPattern[_0x210990]['indexOf'](_0x561505);if(_0xfc3567){if(_0x35f0aa===-0x1)availabilityPattern[_0x210990][_0x119156(0x193)](_0x561505);}else{if(_0x35f0aa!==-0x1)availabilityPattern[_0x210990][_0x119156(0x22f)](_0x35f0aa,0x1);}}renderPatternEditor();}function renderPCol(_0x1d04ab,_0x598881){const _0x90a5bb=a2_0x181787;_0x1d04ab[_0x90a5bb(0x2c4)]='';const _0x507a27=Math[_0x90a5bb(0x1de)](_0x1d04ab['offsetLeft']);(availabilityPattern[_0x598881]||[])[_0x90a5bb(0x1d2)](_0x860504=>{const _0x5d54d8=_0x90a5bb,_0x39c090=document[_0x5d54d8(0x271)](_0x5d54d8(0x236));_0x39c090[_0x5d54d8(0x21b)]=_0x5d54d8(0x278);const _0x4b0741=_0x860504*GRID_H;_0x39c090[_0x5d54d8(0x232)]['top']=_0x4b0741+'px',_0x39c090[_0x5d54d8(0x232)][_0x5d54d8(0x1ad)]='-'+_0x507a27+_0x5d54d8(0x2cb)+_0x4b0741+'px',_0x39c090[_0x5d54d8(0x1a6)]=_0xcf5343=>{_0xcf5343['stopPropagation'](),toggleSinglePattern(_0x598881,_0x860504);},_0x1d04ab[_0x5d54d8(0x216)](_0x39c090);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x452088=a2_0x181787,_0x44bb3f=new Date(),_0x366a05=document['getElementById'](_0x452088(0x2ee)),_0x59816d=document[_0x452088(0x18d)]('timeLineBadge'),_0x2b7774=(_0x44bb3f[_0x452088(0x2e0)]()*0x3c+_0x44bb3f[_0x452088(0x295)]())/0x3c*GRID_H;_0x366a05[_0x452088(0x232)][_0x452088(0x237)]=_0x2b7774+'px',_0x366a05['style']['display']=_0x452088(0x2c1),_0x59816d[_0x452088(0x2f4)]=String(_0x44bb3f[_0x452088(0x2e0)]())[_0x452088(0x241)](0x2,'0')+':'+String(_0x44bb3f[_0x452088(0x295)]())[_0x452088(0x241)](0x2,'0'),_0x59816d[_0x452088(0x232)][_0x452088(0x229)]=_0x452088(0x2c1),_0x59816d[_0x452088(0x232)]['top']=_0x2b7774+'px';}document[a2_0x181787(0x23c)](a2_0x181787(0x260),init);function openDayOptions(_0x5de6de){const _0x482782=a2_0x181787;selectedDayForOptions=_0x5de6de;const _0x1b40e8=new Date(_0x5de6de),_0x3df777={'weekday':_0x482782(0x2fa),'day':'numeric','month':'long','year':_0x482782(0x18c)},_0x48c763=_0x1b40e8['toLocaleDateString'](_0x482782(0x1c2),_0x3df777);document[_0x482782(0x18d)]('doDateHeader')[_0x482782(0x2f4)]=_0x48c763[_0x482782(0x221)](0x0)[_0x482782(0x293)]()+_0x48c763[_0x482782(0x1e2)](0x1);let _0x281357=_0x1b40e8[_0x482782(0x2a9)]()-0x1;if(_0x281357===-0x1)_0x281357=0x6;const _0x10fb26=availabilityPattern[_0x281357]||[],_0x1af927=0x18-_0x10fb26[_0x482782(0x2c2)],_0x1fbd14=_0x1af927*0x3c,_0x1ea3cb=sessions[_0x482782(0x2bf)](_0x2a9c76=>_0x2a9c76['dateStr']===_0x5de6de&&_0x2a9c76[_0x482782(0x1c4)]!==_0x482782(0x26e));let _0x2de714=_0x1ea3cb[_0x482782(0x19e)](_0x22fcbc=>{const _0x31591f=_0x482782,[_0x106222,_0x1f2dd7]=_0x22fcbc[_0x31591f(0x28d)][_0x31591f(0x29c)](':')[_0x31591f(0x19e)](Number),[_0x535000,_0x3579be]=_0x22fcbc[_0x31591f(0x1f5)][_0x31591f(0x29c)](':')['map'](Number);return[_0x106222*0x3c+_0x1f2dd7,_0x535000*0x3c+_0x3579be];});_0x2de714[_0x482782(0x2db)]((_0x2e46d6,_0x24e8c2)=>_0x2e46d6[0x0]-_0x24e8c2[0x0]);let _0xc74148=[];if(_0x2de714[_0x482782(0x2c2)]>0x0){let _0x599698=_0x2de714[0x0];for(let _0x37d4e8=0x1;_0x37d4e8<_0x2de714[_0x482782(0x2c2)];_0x37d4e8++){_0x2de714[_0x37d4e8][0x0]<_0x599698[0x1]?_0x599698[0x1]=Math[_0x482782(0x234)](_0x599698[0x1],_0x2de714[_0x37d4e8][0x1]):(_0xc74148[_0x482782(0x193)](_0x599698),_0x599698=_0x2de714[_0x37d4e8]);}_0xc74148[_0x482782(0x193)](_0x599698);}let _0x510872=0x0;_0xc74148[_0x482782(0x1d2)](_0x21dfc8=>_0x510872+=_0x21dfc8[0x1]-_0x21dfc8[0x0]),document[_0x482782(0x18d)]('doWorkHours')['textContent']=formatMinsToHrs(_0x1fbd14),document[_0x482782(0x18d)](_0x482782(0x1a7))['textContent']=formatMinsToHrs(_0x510872);const _0x1d83b2=_0x1fbd14>0x0?Math['round'](_0x510872/_0x1fbd14*0x64):0x0,_0x1ebe38=document[_0x482782(0x18d)](_0x482782(0x1fc));_0x1ebe38[_0x482782(0x2f4)]=_0x1d83b2+'%';const _0x27a073=document[_0x482782(0x18d)](_0x482782(0x1df));if(_0x1d83b2>0x64)_0x1ebe38[_0x482782(0x232)][_0x482782(0x1cd)]='var(--acc-red)',_0x27a073[_0x482782(0x232)][_0x482782(0x206)]=_0x482782(0x24a);else _0x1d83b2>0x50?(_0x1ebe38[_0x482782(0x232)][_0x482782(0x1cd)]=_0x482782(0x207),_0x27a073[_0x482782(0x232)][_0x482782(0x206)]=_0x482782(0x1ea)):(_0x1ebe38[_0x482782(0x232)][_0x482782(0x1cd)]='var(--acc-green)',_0x27a073[_0x482782(0x232)][_0x482782(0x206)]=_0x482782(0x19b));const _0x53b998=document[_0x482782(0x18d)](_0x482782(0x258));_0x53b998[_0x482782(0x2c4)]='';_0x1ea3cb[_0x482782(0x2c2)]===0x0?_0x53b998[_0x482782(0x2c4)]=_0x482782(0x1ee):(_0x1ea3cb[_0x482782(0x2db)]((_0x544de8,_0x481326)=>_0x544de8[_0x482782(0x28d)][_0x482782(0x2bb)](_0x481326[_0x482782(0x28d)])),_0x1ea3cb['forEach'](_0x20d077=>{const _0xb6e0a6=_0x482782,_0x21d341=clients[_0xb6e0a6(0x23f)](_0x52d50f=>_0x52d50f[_0xb6e0a6(0x25c)]===_0x20d077[_0xb6e0a6(0x209)]),_0x568e3b=_0x21d341?_0x21d341['color']:_0xb6e0a6(0x2a1),_0x1c7a31=_0x20d077[_0xb6e0a6(0x1c4)]===_0xb6e0a6(0x212),_0xd063f4=_0x1c7a31?'<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>':'',_0x541cc0=document[_0xb6e0a6(0x271)](_0xb6e0a6(0x236));_0x541cc0[_0xb6e0a6(0x21b)]=_0xb6e0a6(0x2ea),_0x541cc0['style']['borderLeftColor']=_0x568e3b,_0x541cc0[_0xb6e0a6(0x2c4)]=_0xb6e0a6(0x210)+_0x20d077['start']+_0xb6e0a6(0x230)+_0x20d077[_0xb6e0a6(0x1f5)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x20d077[_0xb6e0a6(0x209)]+_0xb6e0a6(0x2b6)+_0xd063f4+_0xb6e0a6(0x238),_0x53b998[_0xb6e0a6(0x216)](_0x541cc0);}));const _0xbe6da=document[_0x482782(0x18d)](_0x482782(0x231)),_0x54e8a7=dateExceptions[_0x5de6de]===_0x482782(0x29a);_0x54e8a7?(_0xbe6da[_0x482782(0x2f4)]=_0x482782(0x2b0),_0xbe6da[_0x482782(0x21b)]=_0x482782(0x23d),_0xbe6da['style'][_0x482782(0x1cd)]=_0x482782(0x289),_0xbe6da[_0x482782(0x232)][_0x482782(0x187)]='rgba(48,\x20209,\x2088,\x200.15)'):(_0xbe6da[_0x482782(0x2f4)]='–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º',_0xbe6da['className']='btn-primary\x20btn-danger',_0xbe6da[_0x482782(0x232)][_0x482782(0x1cd)]=_0x482782(0x285),_0xbe6da[_0x482782(0x232)][_0x482782(0x187)]=_0x482782(0x298)),openSheet(_0x482782(0x208));}let currentAnPeriod=a2_0x181787(0x2b2);function openAnalytics(){const _0x14f44d=a2_0x181787,_0x5f1c43=document[_0x14f44d(0x214)](_0x14f44d(0x186));setAnalyticsPeriod(_0x14f44d(0x2b2),_0x5f1c43),closeAllSheets(),openSheet(_0x14f44d(0x2d8));}function setAnalyticsPeriod(_0x1725f4,_0x5b291c){const _0xcbc792=a2_0x181787;currentAnPeriod=_0x1725f4,document[_0xcbc792(0x20d)](_0xcbc792(0x186))[_0xcbc792(0x1d2)](_0x506ad5=>_0x506ad5[_0xcbc792(0x202)][_0xcbc792(0x1e3)]('active'));if(_0x5b291c)_0x5b291c[_0xcbc792(0x202)][_0xcbc792(0x2da)](_0xcbc792(0x22a));const _0x3a46f1=document[_0xcbc792(0x18d)](_0xcbc792(0x1d3));_0x3a46f1[_0xcbc792(0x232)][_0xcbc792(0x229)]=_0x1725f4===_0xcbc792(0x2e9)?_0xcbc792(0x2ce):'none';const _0x4c4f07=new Date();let _0x13ad11=new Date(),_0x491d46=new Date();if(_0x1725f4===_0xcbc792(0x2b2))_0x13ad11=getStartOfWeek(_0x4c4f07),_0x491d46=new Date(_0x13ad11),_0x491d46['setDate'](_0x491d46[_0xcbc792(0x1a0)]()+0x6);else{if(_0x1725f4===_0xcbc792(0x1f3))_0x13ad11=new Date(_0x4c4f07[_0xcbc792(0x1a9)](),_0x4c4f07[_0xcbc792(0x197)](),0x1),_0x491d46=new Date(_0x4c4f07[_0xcbc792(0x1a9)](),_0x4c4f07['getMonth']()+0x1,0x0);else{!document[_0xcbc792(0x18d)](_0xcbc792(0x1cc))['value']&&(document['getElementById']('anStart')[_0xcbc792(0x2af)]=getLocalDateStr(_0x4c4f07),document[_0xcbc792(0x18d)](_0xcbc792(0x19f))[_0xcbc792(0x2af)]=getLocalDateStr(_0x4c4f07));refreshAnalytics();return;}}document[_0xcbc792(0x18d)](_0xcbc792(0x1cc))[_0xcbc792(0x2af)]=getLocalDateStr(_0x13ad11),document['getElementById']('anEnd')['value']=getLocalDateStr(_0x491d46),refreshAnalytics();}function refreshAnalytics(){const _0x8c036e=a2_0x181787,_0x173d9d=document[_0x8c036e(0x18d)](_0x8c036e(0x1cc))[_0x8c036e(0x2af)],_0x307913=document[_0x8c036e(0x18d)](_0x8c036e(0x19f))[_0x8c036e(0x2af)];if(!_0x173d9d||!_0x307913)return;const _0xc4467d=sessions[_0x8c036e(0x2bf)](_0x4b5f04=>_0x4b5f04['dateStr']>=_0x173d9d&&_0x4b5f04['dateStr']<=_0x307913&&_0x4b5f04[_0x8c036e(0x1c4)]!==_0x8c036e(0x26e)),_0x318bf7=_0xc4467d[_0x8c036e(0x2c2)],_0x45dc28=_0xc4467d['filter'](_0x58f651=>_0x58f651[_0x8c036e(0x1c4)]===_0x8c036e(0x212))['length'],_0x12f722=_0x318bf7>0x0?Math['round'](_0x45dc28/_0x318bf7*0x64):0x0;document['getElementById']('anPercent')[_0x8c036e(0x2f4)]=_0x12f722+'%',document[_0x8c036e(0x18d)]('anTotalStats')[_0x8c036e(0x2f4)]=_0x45dc28+_0x8c036e(0x288)+_0x318bf7+_0x8c036e(0x1ce);const _0x47f891=document['getElementById'](_0x8c036e(0x243)),_0x34e8d9=0x2*Math['PI']*0x23,_0x5dabcb=_0x34e8d9-_0x12f722/0x64*_0x34e8d9;_0x47f891[_0x8c036e(0x232)][_0x8c036e(0x264)]=_0x5dabcb;const _0x375314={};_0xc4467d[_0x8c036e(0x1d2)](_0x4ac474=>{const _0x5730d5=_0x8c036e;if(!_0x375314[_0x4ac474['client']]){const _0x48d087=clients[_0x5730d5(0x23f)](_0x1f6890=>_0x1f6890[_0x5730d5(0x25c)]===_0x4ac474[_0x5730d5(0x209)]);_0x375314[_0x4ac474[_0x5730d5(0x209)]]={'total':0x0,'done':0x0,'color':_0x48d087?_0x48d087[_0x5730d5(0x1cd)]:'#fff'};}_0x375314[_0x4ac474[_0x5730d5(0x209)]]['total']++;if(_0x4ac474['status']==='completed')_0x375314[_0x4ac474[_0x5730d5(0x209)]][_0x5730d5(0x254)]++;});const _0x46b4c8=document[_0x8c036e(0x18d)](_0x8c036e(0x22e));_0x46b4c8['innerHTML']='';const _0x46e65e=Object[_0x8c036e(0x29b)](_0x375314)['sort']((_0xbe5aef,_0x333e92)=>_0x333e92[0x1][_0x8c036e(0x201)]-_0xbe5aef[0x1][_0x8c036e(0x201)]);if(_0x46e65e[_0x8c036e(0x2c2)]===0x0){_0x46b4c8['innerHTML']=_0x8c036e(0x191);return;}_0x46e65e[_0x8c036e(0x1d2)](([_0x5b51f5,_0x194bea])=>{const _0xe12943=_0x8c036e,_0x431fc5=Math['round'](_0x194bea[_0xe12943(0x254)]/_0x194bea[_0xe12943(0x201)]*0x64),_0x169a86=document[_0xe12943(0x271)]('div');_0x169a86[_0xe12943(0x21b)]=_0xe12943(0x2dc),_0x169a86[_0xe12943(0x232)][_0xe12943(0x300)]=_0x194bea['color'],_0x169a86[_0xe12943(0x2c4)]=_0xe12943(0x21d)+_0x5b51f5+_0xe12943(0x226)+_0x194bea[_0xe12943(0x254)]+_0xe12943(0x1ac)+_0x194bea[_0xe12943(0x201)]+_0xe12943(0x2f1)+_0x431fc5+_0xe12943(0x280),_0x46b4c8['appendChild'](_0x169a86);});}function formatMinsToHrs(_0x5182fc){const _0x3e62e5=a2_0x181787;if(_0x5182fc===0x0)return'0';const _0x1d8b81=Math[_0x3e62e5(0x1fa)](_0x5182fc/0x3c),_0x5ba257=_0x5182fc%0x3c;if(_0x5ba257===0x0)return _0x1d8b81+'—á';return _0x1d8b81+'—á\x20'+_0x5ba257+'–º';}