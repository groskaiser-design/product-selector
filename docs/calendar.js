const a2_0xbba92a=a2_0xb62c;(function(_0xc5321c,_0x3caa1a){const _0x5243f5=a2_0xb62c,_0xe7271a=_0xc5321c();while(!![]){try{const _0x1c5782=parseInt(_0x5243f5(0x1e4))/0x1+-parseInt(_0x5243f5(0x33f))/0x2+parseInt(_0x5243f5(0x321))/0x3+parseInt(_0x5243f5(0x23d))/0x4*(-parseInt(_0x5243f5(0x2a9))/0x5)+-parseInt(_0x5243f5(0x2a4))/0x6+-parseInt(_0x5243f5(0x1ed))/0x7+parseInt(_0x5243f5(0x32b))/0x8*(parseInt(_0x5243f5(0x2b7))/0x9);if(_0x1c5782===_0x3caa1a)break;else _0xe7271a['push'](_0xe7271a['shift']());}catch(_0x192c4b){_0xe7271a['push'](_0xe7271a['shift']());}}}(a2_0x31c7,0x3b4dd),function initTMA(){const _0x3443c9=a2_0xb62c;try{const _0x3df647=window[_0x3443c9(0x293)]?.[_0x3443c9(0x20c)];if(!_0x3df647)return;_0x3df647[_0x3443c9(0x30f)](),_0x3df647['expand']();try{_0x3df647[_0x3443c9(0x29e)](_0x3443c9(0x2ef)),_0x3df647[_0x3443c9(0x268)]&&_0x3df647['setBackgroundColor'](_0x3443c9(0x2ef));}catch(_0x3de8b2){console['log']('Error\x20setting\x20color:',_0x3de8b2);}try{_0x3df647[_0x3443c9(0x236)]&&(_0x3df647[_0x3443c9(0x236)][_0x3443c9(0x2a5)](),_0x3df647[_0x3443c9(0x236)]['offClick'](),_0x3df647[_0x3443c9(0x236)][_0x3443c9(0x1f4)](function(){const _0x42af52=_0x3443c9;window['location'][_0x42af52(0x2eb)]=_0x42af52(0x2f3);}));}catch(_0x5cae09){console[_0x3443c9(0x276)]('Error\x20setting\x20back\x20button:',_0x5cae09);}try{if(_0x3df647[_0x3443c9(0x250)])_0x3df647[_0x3443c9(0x250)]();}catch(_0x1a59be){}}catch(_0x1db600){console[_0x3443c9(0x329)]('Critical\x20TMA\x20Error:',_0x1db600);}}());function isAdmin(){const _0x55f4f1=a2_0xb62c;try{const _0x4c6e01=Number(window[_0x55f4f1(0x293)]?.[_0x55f4f1(0x20c)]?.[_0x55f4f1(0x24d)]?.['user']?.['id']);return _0x4c6e01===0xbaf7174;}catch(_0x186cef){return![];}}const APP_VERSION=a2_0xbba92a(0x21d),API_URL=a2_0xbba92a(0x325),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0xbba92a(0x2c6),KEY_SESSIONS=a2_0xbba92a(0x1e8),KEY_SETTINGS='uc_settings_v9';function a2_0x31c7(){const _0x252573=['rangeStartTime','data','max','pe-col-header','getElementById','.day-off-overlay','globalTimeLine','getAttribute','target','[Notify]\x20Client\x20SWAP\x20detected','px\x20-','toLocaleDateString',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','uc_settings_cancel_window','href','[Notify]\x20Server\x20Response:','note','keys','#050505','setDate','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','value','router.html','anPercent',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','onclick','setHours','asBtnOne','var(--acc-red)','header-','scrollLeft','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','then','analyticsList','textContent','scroll','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','custom','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','toUpperCase','borderRadius','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','anCustomDates','today','loadLocal','as-button\x20danger','div','btn-primary\x20btn-danger','ready','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','btnDelete','startsWith','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','matrixViewport','getHours','<div\x20class=\x22dch-day\x22>','find','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','anDonutCircle','add','stopPropagation','stringify','map','btn-status-toggle\x20undo-mode','random','series','1142391kImaPe','inpSeriesCount','rangesSheet','long','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','offsetLeft','classList','touchend','error','event-card','256ovjiiB','msg','touchmove','innerHTML','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','.period-switch\x20.p-btn','getDate','–£—Å–ø–µ—à–Ω–æ','appendChild','%\x20-\x204px)','btnDayToggle','includes','min','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','week','planned','T23:59:59','var(--acc-green)','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','876548AnQQgK','borderLeftColor','ranges','toString','filter','from','batch_sync','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','warning','padStart','clientWidth','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','floor','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','save','getItem','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','querySelector','parse','rgba(255,\x2069,\x2058,\x200.3)','settings','364803PBMFYL','charAt','doEventsList','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','uc_sessions_v9','remove','Local\x20Load\x20Error','getText','actionSheet','2451533FiwkVk','anStart','single','toastTitle','.pib-text','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','settingsSheet','onClick','%\x20+\x202px)','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','23:59','#fff','inpDate','anEnd','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','style','.day-column','</span>\x20/\x20','patternInfoBox','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','querySelectorAll','round','now','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','btn-primary\x20btn-secondary','...','00:00','search','POST','mousemove','WebApp','mousedown','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','sid','rangesList','completed','fetchFromServer','forEach','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','numeric','T00:00:00','user','cancel','stat-','saveLocally','valid','daysHeaderTrack','v9.0-BATCH-CALENDAR','getMinutes','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','open','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','warn','setMonth','update','rgba(48,\x20209,\x2088,\x200.15)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','\x20‚Äî\x20','(((.+)+)+)+$','calendar','headerMonth','[Series]\x20Skipped\x20','Save\x20settings\x20error:','borderColor','asBtnSeries','inpClient','save_settings','–ò–Ω—Ñ–æ','sort','settingCancelWindow','left','BackButton','anTotalStats','getMonth','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','addEventListener','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','peGrid','132tnLHGS','<span>','getTime','actionSheetOverlay','option','status','[Sync]\x20Loading\x20','push','exceptions','toast-notification\x20',':00</span>','day-off-overlay\x20stripe-bg','sheetTitle','pe-corner','10px\x2010px\x200\x200','cancelled','initDataUnsafe','init_load','Server\x20Error','disableVerticalSwipes','send','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','[Notify]\x20Detected\x20Client\x20ID:','overlay','getFullYear','pattern','width','gridColumns','height','initData','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','.day-col-header','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','timeLineBadge','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','var(--acc-orange)','offsetWidth','client','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','client-stat-card',':\x20Client\x20already\x20booked','setBackgroundColor','findIndex','clientId','[Notify]\x20Error:\x20sessionData\x20is\x20null','createElement','var(--acc-current)','scrollWidth','dayOptionsSheet','background','time-label','data-day-idx','flex','\x20-\x20','rangeEndDate','log','text/plain;charset=UTF-8','catch','#0a84ff','\x20–∏–∑\x20','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','inpStart','mini','name','toastMessage','patternEditor','day-column\x20','closest','total','active','inpRecurring','complete','seriesCountContainer','indexOf','ru-RU','sheetDateSubtitle','syncBatch','setItem','insertBefore','blocked-range-part\x20stripe-bg','off','createDocumentFragment','recurringOptionContainer','delete','Telegram','undefined','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','block','setAttribute','px\x200px','touches','splice','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','done','<b>‚úÖ\x20','setHeaderColor','calc(','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','start','doWorkHours','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','1916694ltlloe','show','colIndex','statLoadCard','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','23025ucfhJH','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','isArray','month','display','dateStr','length','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','asTitle','create',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','mergeServerData','firstChild','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','212967OwnbOi','inpNote','</div><div\x20class=\x22dch-num\x22>','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','end','de-item',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','blocked-slot\x20stripe-bg','seriesId',':00','getDay','none','apply','inpEnd','<div\x20class=\x22ev-title\x22>','uc_clients_v9','day-col-header\x20','rgba(100,100,100,0.5)','split','checked','[API\x20','className','localeCompare','rangeStartDate','doDateHeader','color','Local\x20Save\x20Error','backgroundPosition','cancel_window','</div><div\x20class=\x22ev-time\x22>','data-date','[Notify]\x20Error:\x20Text\x20generation\x20failed','clients','rgba(255,\x2069,\x2058,\x200.15)','timeColumn','[Notify]\x20Attempting\x20to\x20send:','slice','top'];a2_0x31c7=function(){return _0x252573;};return a2_0x31c7();}let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x5a890f=a2_0xbba92a;return window[_0x5a890f(0x293)]?.[_0x5a890f(0x20c)]?.[_0x5a890f(0x24d)]?.[_0x5a890f(0x217)]?.['id']||'guest';},'saveLocally'(){const _0x25d6ab=a2_0xbba92a;try{localStorage[_0x25d6ab(0x28c)](KEY_CLIENTS,JSON[_0x25d6ab(0x31c)](clients)),localStorage[_0x25d6ab(0x28c)](KEY_SESSIONS,JSON[_0x25d6ab(0x31c)](sessions)),localStorage['setItem'](KEY_SETTINGS,JSON[_0x25d6ab(0x31c)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x56cf1e){console[_0x25d6ab(0x329)](_0x25d6ab(0x2d1),_0x56cf1e);}},'loadLocal'(){const _0x1cac7f=a2_0xbba92a;try{const _0x2162e0=localStorage['getItem'](KEY_CLIENTS);if(_0x2162e0)clients=JSON[_0x1cac7f(0x1e1)](_0x2162e0);const _0x4ad724=localStorage[_0x1cac7f(0x1de)](KEY_SESSIONS);if(_0x4ad724)sessions=JSON[_0x1cac7f(0x1e1)](_0x4ad724);const _0x2c2cbc=localStorage[_0x1cac7f(0x1de)](KEY_SETTINGS);if(_0x2c2cbc){const _0x27639a=JSON[_0x1cac7f(0x1e1)](_0x2c2cbc);if(_0x27639a['pattern'])availabilityPattern=_0x27639a[_0x1cac7f(0x258)];if(_0x27639a['exceptions'])dateExceptions=_0x27639a[_0x1cac7f(0x245)];if(_0x27639a[_0x1cac7f(0x341)])specialRanges=_0x27639a[_0x1cac7f(0x341)];}else{for(let _0x38e2c3=0x0;_0x38e2c3<0x7;_0x38e2c3++)availabilityPattern[_0x38e2c3]=Array[_0x1cac7f(0x344)]({'length':0xc},(_0x23e61f,_0x2afe81)=>_0x2afe81+0x9);}}catch(_0x359c66){console[_0x1cac7f(0x329)](_0x1cac7f(0x1ea),_0x359c66);}},async 'fetchFromServer'(_0x43358b,_0x47acf1={}){const _0x2c9b32=a2_0xbba92a,_0x37ad2a=window[_0x2c9b32(0x293)]?.['WebApp'],_0x50e688={'action':_0x43358b,'init_data':_0x37ad2a?.[_0x2c9b32(0x25c)]||'',..._0x47acf1};try{const _0x406159=await fetch(API_URL,{'method':_0x2c9b32(0x20a),'headers':{'Content-Type':_0x2c9b32(0x277)},'body':JSON[_0x2c9b32(0x31c)](_0x50e688)}),_0x299551=await _0x406159['json']();if(!_0x299551['ok'])throw new Error(_0x299551[_0x2c9b32(0x329)]||_0x2c9b32(0x24f));return _0x299551[_0x2c9b32(0x2de)];}catch(_0x3c9ac0){console[_0x2c9b32(0x329)](_0x2c9b32(0x2cb)+_0x43358b+']\x20Failed:',_0x3c9ac0);throw _0x3c9ac0;}},async 'syncLoad'(){const _0x4b8f60=a2_0xbba92a,_0x182b22=new Date(),_0x304cc3=_0x182b22[_0x4b8f60(0x257)]()+'-'+String(_0x182b22[_0x4b8f60(0x238)]()+0x1)[_0x4b8f60(0x349)](0x2,'0'),_0x26bfb9=new Date(_0x182b22);_0x26bfb9[_0x4b8f60(0x223)](_0x182b22['getMonth']()+0x1);const _0x3338e0=_0x26bfb9[_0x4b8f60(0x257)]()+'-'+String(_0x26bfb9[_0x4b8f60(0x238)]()+0x1)[_0x4b8f60(0x349)](0x2,'0'),_0x20d27f=Date[_0x4b8f60(0x204)]();console[_0x4b8f60(0x276)](_0x4b8f60(0x243)+_0x304cc3+',\x20'+_0x3338e0+_0x4b8f60(0x207));try{const [_0x1ffe70,_0x3fe7b3]=await Promise['all']([this['fetchFromServer'](_0x4b8f60(0x24e),{'month_str':_0x304cc3}),this[_0x4b8f60(0x212)](_0x4b8f60(0x24e),{'month_str':_0x3338e0})]);if(lastUserActionTime>_0x20d27f)return console[_0x4b8f60(0x222)](_0x4b8f60(0x1fc)),![];return this[_0x4b8f60(0x2b4)](_0x1ffe70,_0x304cc3),this[_0x4b8f60(0x2b4)](_0x3fe7b3,_0x3338e0),this['saveLocally'](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x2e5795){console[_0x4b8f60(0x329)](_0x2e5795);throw _0x2e5795;}},'mergeServerData'(_0xe99148,_0x391b80){const _0x29d119=a2_0xbba92a;if(!_0xe99148)return;_0xe99148[_0x29d119(0x2d7)]&&Array[_0x29d119(0x2ab)](_0xe99148[_0x29d119(0x2d7)])&&(clients=_0xe99148['clients']);if(_0xe99148[_0x29d119(0x1e3)]){if(_0xe99148[_0x29d119(0x1e3)]['pattern'])availabilityPattern=_0xe99148[_0x29d119(0x1e3)]['pattern'];if(_0xe99148[_0x29d119(0x1e3)][_0x29d119(0x245)])dateExceptions=_0xe99148[_0x29d119(0x1e3)][_0x29d119(0x245)];if(_0xe99148[_0x29d119(0x1e3)]['ranges'])specialRanges=_0xe99148['settings']['ranges'];if(_0xe99148[_0x29d119(0x1e3)][_0x29d119(0x2d3)]){localStorage[_0x29d119(0x28c)](_0x29d119(0x2ea),_0xe99148['settings'][_0x29d119(0x2d3)]);const _0x10edbe=document[_0x29d119(0x2e1)](_0x29d119(0x234));if(_0x10edbe)_0x10edbe[_0x29d119(0x2f2)]=_0xe99148[_0x29d119(0x1e3)][_0x29d119(0x2d3)];}}_0xe99148['calendar']&&(sessions=sessions[_0x29d119(0x343)](_0x21b3e0=>!_0x21b3e0['dateStr'][_0x29d119(0x312)](_0x391b80)),Object[_0x29d119(0x2ee)](_0xe99148[_0x29d119(0x22a)])[_0x29d119(0x213)](_0xe5d35f=>{const _0x3f5eda=_0x29d119,_0x4efe8d=_0xe99148[_0x3f5eda(0x22a)][_0xe5d35f];_0x4efe8d[_0x3f5eda(0x213)](_0x340c22=>{const _0x1ab01e=_0x3f5eda,_0xeb57b9=clients['find'](_0x48025c=>String(_0x48025c['id'])===String(_0x340c22['c']));sessions[_0x1ab01e(0x244)]({'id':_0x340c22['i'],'clientId':_0x340c22['c'],'client':_0xeb57b9?_0xeb57b9['name']:'Unknown','dateStr':_0x391b80+'-'+_0xe5d35f[_0x1ab01e(0x349)](0x2,'0'),'start':_0x340c22['s'],'end':_0x340c22['e'],'status':_0x340c22['st']||_0x1ab01e(0x33b),'note':_0x340c22['n']||'','seriesId':_0x340c22[_0x1ab01e(0x20f)]||null});});}));},async 'syncBatch'(_0x54a807){const _0x5bf740=a2_0xbba92a,_0x29e13e=[...new Set(_0x54a807)],_0x4592f3=_0x29e13e[_0x5bf740(0x31d)](_0x578196=>{const _0x3645f5=_0x5bf740,_0xe34386=sessions[_0x3645f5(0x343)](_0x8ecd1c=>_0x8ecd1c[_0x3645f5(0x2ae)]===_0x578196&&_0x8ecd1c[_0x3645f5(0x242)]!=='deleted'),_0xb5a9d5=_0xe34386[_0x3645f5(0x31d)](_0x3e2eeb=>({'i':_0x3e2eeb['id'],'c':_0x3e2eeb[_0x3645f5(0x26a)],'s':_0x3e2eeb[_0x3645f5(0x2a1)],'e':_0x3e2eeb[_0x3645f5(0x2bb)],'st':_0x3e2eeb[_0x3645f5(0x242)],'n':_0x3e2eeb[_0x3645f5(0x2ed)],'sid':_0x3e2eeb[_0x3645f5(0x2bf)]}));return{'date':_0x578196,'day_data':_0xb5a9d5};});if(_0x4592f3[_0x5bf740(0x2af)]===0x0)return;console[_0x5bf740(0x276)](_0x5bf740(0x306)+_0x4592f3['length']+'\x20days'),await this['fetchFromServer'](_0x5bf740(0x345),{'changes':_0x4592f3});}};async function init(){const _0x2ebcf0=a2_0xbba92a;DataManager[_0x2ebcf0(0x30b)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x2ebcf0(0x2e1)]('matrixViewport')[_0x2ebcf0(0x23a)](_0x2ebcf0(0x300),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']()[_0x2ebcf0(0x2fd)](()=>{const _0x3085be=_0x2ebcf0;showToast(_0x3085be(0x25f),!![]);})[_0x2ebcf0(0x278)](_0x2a9d46=>{const _0x340ca9=_0x2ebcf0;showToast(_0x340ca9(0x301),![]);});}function generateId(){const _0x31623c=a2_0xbba92a;return Date['now']()[_0x31623c(0x342)](0x24)+Math[_0x31623c(0x31f)]()[_0x31623c(0x342)](0x24)['substr'](0x2,0x5);}function toggleSeriesInput(){const _0x23c31a=a2_0xbba92a,_0x3a5ed3=document[_0x23c31a(0x2e1)](_0x23c31a(0x285))[_0x23c31a(0x2ca)],_0x3e647b=document['getElementById'](_0x23c31a(0x287));_0x3e647b['style'][_0x23c31a(0x2ad)]=_0x3a5ed3?_0x23c31a(0x296):'none';const _0x3a4129=document[_0x23c31a(0x2e1)](_0x23c31a(0x291));_0x3a4129[_0x23c31a(0x1fd)]['borderRadius']=_0x3a5ed3?_0x23c31a(0x24b):'10px';}function openAddSession(_0xa47ae4){const _0x2f496c=a2_0xbba92a;editingId=null,populateClientSelect(),document[_0x2f496c(0x2e1)](_0x2f496c(0x249))['textContent']=_0x2f496c(0x1f6),document[_0x2f496c(0x2e1)](_0x2f496c(0x311))[_0x2f496c(0x1fd)][_0x2f496c(0x2ad)]='none',document[_0x2f496c(0x2e1)]('btnStatusToggle')[_0x2f496c(0x1fd)][_0x2f496c(0x2ad)]='none';const _0x350dc8=document[_0x2f496c(0x2e1)](_0x2f496c(0x291)),_0x24afbe=document[_0x2f496c(0x2e1)](_0x2f496c(0x287));_0x350dc8[_0x2f496c(0x1fd)][_0x2f496c(0x2ad)]='flex',_0x350dc8[_0x2f496c(0x1fd)][_0x2f496c(0x305)]='10px',document['getElementById'](_0x2f496c(0x285))[_0x2f496c(0x2ca)]=![],document[_0x2f496c(0x2e1)](_0x2f496c(0x322))[_0x2f496c(0x2f2)]=0x4,_0x24afbe[_0x2f496c(0x1fd)][_0x2f496c(0x2ad)]=_0x2f496c(0x2c2),document[_0x2f496c(0x2e1)](_0x2f496c(0x1fa))[_0x2f496c(0x2f2)]=getLocalDateStr(_0xa47ae4),updateDateDisplay();const _0x4e93dd=_0xa47ae4[_0x2f496c(0x315)]();document[_0x2f496c(0x2e1)](_0x2f496c(0x27c))[_0x2f496c(0x2f2)]=String(_0x4e93dd)[_0x2f496c(0x349)](0x2,'0')+_0x2f496c(0x2c0),document[_0x2f496c(0x2e1)](_0x2f496c(0x2c4))['value']=String(_0x4e93dd+0x1)[_0x2f496c(0x349)](0x2,'0')+_0x2f496c(0x2c0),openSheet('sessionSheet');}function openEdit(_0x459ed2){const _0xdb1ec0=a2_0xbba92a;editingId=_0x459ed2['id'],populateClientSelect(),document[_0xdb1ec0(0x2e1)](_0xdb1ec0(0x249))[_0xdb1ec0(0x2ff)]='–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å',document[_0xdb1ec0(0x2e1)](_0xdb1ec0(0x311))[_0xdb1ec0(0x1fd)]['display']=_0xdb1ec0(0x296);const _0x32ac77=document[_0xdb1ec0(0x2e1)]('btnStatusToggle');_0x32ac77[_0xdb1ec0(0x1fd)][_0xdb1ec0(0x2ad)]=_0xdb1ec0(0x273);_0x459ed2['status']===_0xdb1ec0(0x211)?(_0x32ac77[_0xdb1ec0(0x2cc)]=_0xdb1ec0(0x31e),_0x32ac77[_0xdb1ec0(0x32e)]=_0xdb1ec0(0x20e)):(_0x32ac77[_0xdb1ec0(0x2cc)]='btn-status-toggle',_0x32ac77[_0xdb1ec0(0x32e)]=_0xdb1ec0(0x2a8));const _0x28d4a6=!!_0x459ed2[_0xdb1ec0(0x2bf)];document[_0xdb1ec0(0x2e1)](_0xdb1ec0(0x291))['style'][_0xdb1ec0(0x2ad)]=_0xdb1ec0(0x2c2),document['getElementById'](_0xdb1ec0(0x287))[_0xdb1ec0(0x1fd)][_0xdb1ec0(0x2ad)]='none',_0x28d4a6?(document[_0xdb1ec0(0x2e1)]('patternInfoBox')[_0xdb1ec0(0x1fd)]['display']=_0xdb1ec0(0x273),document[_0xdb1ec0(0x2e1)](_0xdb1ec0(0x200))[_0xdb1ec0(0x1e0)](_0xdb1ec0(0x1f1))[_0xdb1ec0(0x2ff)]=_0xdb1ec0(0x261)):document[_0xdb1ec0(0x2e1)](_0xdb1ec0(0x200))['style'][_0xdb1ec0(0x2ad)]='none',document[_0xdb1ec0(0x2e1)](_0xdb1ec0(0x230))[_0xdb1ec0(0x2f2)]=_0x459ed2[_0xdb1ec0(0x264)],document['getElementById'](_0xdb1ec0(0x1fa))[_0xdb1ec0(0x2f2)]=_0x459ed2[_0xdb1ec0(0x2ae)],document[_0xdb1ec0(0x2e1)](_0xdb1ec0(0x27c))[_0xdb1ec0(0x2f2)]=_0x459ed2[_0xdb1ec0(0x2a1)],document[_0xdb1ec0(0x2e1)](_0xdb1ec0(0x2c4))[_0xdb1ec0(0x2f2)]=_0x459ed2[_0xdb1ec0(0x2bb)],document[_0xdb1ec0(0x2e1)](_0xdb1ec0(0x2b8))[_0xdb1ec0(0x2f2)]=_0x459ed2['note']||'',updateDateDisplay(),openSheet('sessionSheet');}async function trySaveSession(){const _0x510a36=a2_0xbba92a,_0x5f0e46=document[_0x510a36(0x2e1)](_0x510a36(0x230))[_0x510a36(0x2f2)],_0x6efe43=document[_0x510a36(0x2e1)]('inpDate')['value'],_0x84579=document[_0x510a36(0x2e1)](_0x510a36(0x27c))[_0x510a36(0x2f2)],_0x5e1e7c=document[_0x510a36(0x2e1)](_0x510a36(0x2c4))[_0x510a36(0x2f2)],_0x40bc43=document[_0x510a36(0x2e1)](_0x510a36(0x2b8))['value'],_0x3db938=document[_0x510a36(0x2e1)](_0x510a36(0x285))[_0x510a36(0x2ca)];let _0xa35149=0x4;if(_0x3db938){const _0x47b039=parseInt(document[_0x510a36(0x2e1)](_0x510a36(0x322))[_0x510a36(0x2f2)]);if(!_0x47b039||_0x47b039<0x2){showToast(_0x510a36(0x34b),![]);return;}if(_0x47b039>0x64){showToast(_0x510a36(0x29b),![]);return;}_0xa35149=_0x47b039;}const _0x5099e1=clients[_0x510a36(0x317)](_0x57a10a=>_0x57a10a['name']===_0x5f0e46);if(!_0x5099e1){showToast('–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞',![]);return;}const _0x92d824=validateAppointment(_0x6efe43,_0x84579,_0x5e1e7c,editingId,_0x5099e1['id']);if(!_0x92d824[_0x510a36(0x21b)]){showToast(_0x92d824[_0x510a36(0x32c)],![]);return;}_0x92d824['warning']&&showToast(_0x92d824[_0x510a36(0x348)],![]);const _0x5c3a3e={'client':_0x5f0e46,'clientId':_0x5099e1['id'],'start':_0x84579,'end':_0x5e1e7c,'note':_0x40bc43,'status':'planned'},_0x347ae5=editingId?sessions['find'](_0x30faa4=>_0x30faa4['id']===editingId):null;if(_0x347ae5&&_0x347ae5[_0x510a36(0x2bf)]){tempSessionData={..._0x5c3a3e,'dateStr':_0x6efe43,'id':editingId,'seriesId':_0x347ae5['seriesId']},openActionSheet('save');return;}let _0x1c28fe=null;if(!editingId)_0x1c28fe=_0x510a36(0x2b2);else{if(_0x347ae5){if(String(_0x347ae5[_0x510a36(0x26a)])!==String(_0x5099e1['id']))console[_0x510a36(0x276)](_0x510a36(0x2e6)),NotificationManager[_0x510a36(0x251)](_0x510a36(0x218),_0x347ae5),_0x1c28fe=_0x510a36(0x2b2);else(_0x347ae5[_0x510a36(0x2a1)]!==_0x84579||_0x347ae5[_0x510a36(0x2bb)]!==_0x5e1e7c||_0x347ae5['dateStr']!==_0x6efe43)&&(_0x1c28fe='update');}}if(!editingId&&_0x3db938){createBatchSeries(_0x5c3a3e,_0x6efe43,_0xa35149),NotificationManager[_0x510a36(0x251)](_0x510a36(0x2b2),{..._0x5c3a3e,'dateStr':_0x6efe43});return;}lastUserActionTime=Date[_0x510a36(0x204)]();const _0x31f5b1={..._0x5c3a3e,'dateStr':_0x6efe43,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x31f5b1),_0x1c28fe&&NotificationManager['send'](_0x1c28fe,_0x31f5b1);}function toggleSessionStatus(){const _0x28c372=a2_0xbba92a;lastUserActionTime=Date[_0x28c372(0x204)]();const _0x1a6c36=sessions[_0x28c372(0x317)](_0x42d983=>_0x42d983['id']===editingId);if(!_0x1a6c36)return;const _0x2d2dc3=_0x1a6c36[_0x28c372(0x242)]==='completed'?_0x28c372(0x33b):_0x28c372(0x211);_0x1a6c36[_0x28c372(0x242)]=_0x2d2dc3,saveSingleSession(_0x1a6c36),_0x2d2dc3===_0x28c372(0x211)&&NotificationManager['send'](_0x28c372(0x286),_0x1a6c36),showToast(_0x2d2dc3===_0x28c372(0x211)?'–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞':_0x28c372(0x2b6),!![]);}function validateAppointment(_0x4a0972,_0x88a14e,_0x5efc10,_0xbdd7a2,_0x1f0ff0){const _0x40cec2=a2_0xbba92a,[_0x300d47,_0x257b92]=_0x88a14e[_0x40cec2(0x2c9)](':')[_0x40cec2(0x31d)](Number),[_0x3a6530,_0x36d252]=_0x5efc10[_0x40cec2(0x2c9)](':')[_0x40cec2(0x31d)](Number),_0x367cf2=_0x300d47*0x3c+_0x257b92,_0x5be4ff=_0x3a6530*0x3c+_0x36d252,_0x537f12=String(_0x1f0ff0);let _0x1c8c15=![],_0x2307b3='';for(let _0x3e919f of sessions){if(_0x3e919f[_0x40cec2(0x2ae)]!==_0x4a0972)continue;if(_0x3e919f[_0x40cec2(0x242)]==='cancelled')continue;if(_0xbdd7a2&&String(_0x3e919f['id'])===String(_0xbdd7a2))continue;const [_0x3c45aa,_0x54ca65]=_0x3e919f[_0x40cec2(0x2a1)][_0x40cec2(0x2c9)](':')[_0x40cec2(0x31d)](Number),[_0x4c51dd,_0x19fbf0]=_0x3e919f['end'][_0x40cec2(0x2c9)](':')[_0x40cec2(0x31d)](Number),_0x5811c3=_0x3c45aa*0x3c+_0x54ca65,_0x1726c0=_0x4c51dd*0x3c+_0x19fbf0;if(Math['max'](_0x367cf2,_0x5811c3)<Math[_0x40cec2(0x337)](_0x5be4ff,_0x1726c0)){if(_0x3e919f['clientId']&&String(_0x3e919f[_0x40cec2(0x26a)])===_0x537f12)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0x3e919f[_0x40cec2(0x264)]+_0x40cec2(0x2b3)};_0x1c8c15=!![],_0x2307b3=_0x3e919f[_0x40cec2(0x264)];}}if(_0x1c8c15)return{'valid':!![],'warning':_0x40cec2(0x295)+_0x2307b3};return{'valid':!![]};}function saveSingleSession(_0x1d717a){const _0x2ee51c=a2_0xbba92a;if(editingId){const _0x4bf7e5=sessions['findIndex'](_0x527256=>_0x527256['id']===editingId);if(_0x4bf7e5!==-0x1)sessions[_0x4bf7e5]=_0x1d717a;}else sessions[_0x2ee51c(0x244)](_0x1d717a);afterSaveAction([_0x1d717a[_0x2ee51c(0x2ae)]]);}function createBatchSeries(_0x98e118,_0x4c4fdc,_0x33dd1f){const _0x54bd8e=a2_0xbba92a,_0x451a4f=generateId(),_0x18ec12=[],_0x13e5c8=[];let _0x42445d=0x0,_0xdf382e=new Date(_0x4c4fdc);for(let _0x1bdfec=0x0;_0x1bdfec<_0x33dd1f;_0x1bdfec++){const _0x1a3db8=getLocalDateStr(_0xdf382e),_0x2a79bf=validateAppointment(_0x1a3db8,_0x98e118[_0x54bd8e(0x2a1)],_0x98e118[_0x54bd8e(0x2bb)],null,_0x98e118[_0x54bd8e(0x26a)]);if(!_0x2a79bf[_0x54bd8e(0x21b)])console[_0x54bd8e(0x276)](_0x54bd8e(0x22c)+_0x1a3db8+_0x54bd8e(0x267)),_0x42445d++;else{const _0x4ffe77={..._0x98e118,'id':generateId(),'dateStr':_0x1a3db8,'seriesId':_0x451a4f};_0x13e5c8[_0x54bd8e(0x244)](_0x4ffe77),_0x18ec12[_0x54bd8e(0x244)](_0x1a3db8);}_0xdf382e[_0x54bd8e(0x2f0)](_0xdf382e[_0x54bd8e(0x331)]()+0x7);}if(_0x13e5c8[_0x54bd8e(0x2af)]===0x0){showToast('–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!',![]);return;}sessions[_0x54bd8e(0x244)](..._0x13e5c8),lastUserActionTime=Date[_0x54bd8e(0x204)]();let _0x3c0959=_0x54bd8e(0x254)+_0x13e5c8[_0x54bd8e(0x2af)];_0x42445d>0x0&&(_0x3c0959+=_0x54bd8e(0x1df)+_0x42445d+')'),showToast(_0x3c0959,!![]),afterSaveAction(_0x18ec12);}function updateSeriesBatch(_0x216e13,_0x4d1739){const _0x531747=a2_0xbba92a,_0x10b241=[],_0x4d0b07=_0x4d1739['seriesId'];if(_0x216e13===_0x531747(0x1ef)){const _0x3d3368={..._0x4d1739,'seriesId':null},_0x59210d=sessions[_0x531747(0x269)](_0x4d6b23=>_0x4d6b23['id']===_0x4d1739['id']);if(_0x59210d!==-0x1)sessions[_0x59210d]=_0x3d3368;_0x10b241[_0x531747(0x244)](_0x3d3368[_0x531747(0x2ae)]);}else{if(_0x216e13===_0x531747(0x320)){const _0x4b4c7f=_0x4d1739['dateStr'];sessions[_0x531747(0x213)]((_0x40bf87,_0x4ca47b)=>{const _0x4b5a6d=_0x531747;_0x40bf87[_0x4b5a6d(0x2bf)]===_0x4d0b07&&_0x40bf87['dateStr']>=_0x4b4c7f&&(sessions[_0x4ca47b]={...sessions[_0x4ca47b],'start':_0x4d1739[_0x4b5a6d(0x2a1)],'end':_0x4d1739['end'],'note':_0x4d1739[_0x4b5a6d(0x2ed)],'client':_0x4d1739['client'],'clientId':_0x4d1739[_0x4b5a6d(0x26a)]},_0x10b241['push'](_0x40bf87[_0x4b5a6d(0x2ae)]));});}}afterSaveAction(_0x10b241);}function tryDeleteSession(){const _0x2b1e78=a2_0xbba92a,_0x32a2bb=sessions[_0x2b1e78(0x317)](_0x333325=>_0x333325['id']===editingId);if(!_0x32a2bb)return;_0x32a2bb[_0x2b1e78(0x2bf)]?openActionSheet(_0x2b1e78(0x292)):commitDelete(_0x2b1e78(0x1ef),_0x32a2bb);}function commitDelete(_0xc480f0,_0xf3ff6c){const _0x1641ca=a2_0xbba92a;lastUserActionTime=Date[_0x1641ca(0x204)](),NotificationManager['send'](_0x1641ca(0x218),_0xf3ff6c);const _0x10686d=[];if(_0xc480f0===_0x1641ca(0x1ef))sessions=sessions['filter'](_0x6a9e68=>_0x6a9e68['id']!==_0xf3ff6c['id']),_0x10686d[_0x1641ca(0x244)](_0xf3ff6c['dateStr']);else{if(_0xc480f0===_0x1641ca(0x320)){const _0x1681aa=_0xf3ff6c['dateStr'],_0xffdee9=_0xf3ff6c[_0x1641ca(0x2bf)];sessions[_0x1641ca(0x213)](_0x21b0d5=>{const _0x2fd01d=_0x1641ca;_0x21b0d5[_0x2fd01d(0x2bf)]===_0xffdee9&&_0x21b0d5[_0x2fd01d(0x2ae)]>=_0x1681aa&&_0x10686d[_0x2fd01d(0x244)](_0x21b0d5[_0x2fd01d(0x2ae)]);}),sessions=sessions[_0x1641ca(0x343)](_0x3fc0ca=>!(_0x3fc0ca[_0x1641ca(0x2bf)]===_0xffdee9&&_0x3fc0ca['dateStr']>=_0x1681aa));}}afterSaveAction(_0x10686d);}function afterSaveAction(_0x3562b7){const _0x413b00=a2_0xbba92a;DataManager[_0x413b00(0x21a)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x413b00(0x28b)](_0x3562b7)[_0x413b00(0x2fd)](()=>console[_0x413b00(0x276)]('Batch\x20Sync\x20OK'))['catch'](_0x1e9460=>showToast(_0x413b00(0x307),![]));}const NotificationManager={'formatDate'(_0x1170eb){const _0x4cfc05=a2_0xbba92a,_0x43b2cf=new Date(_0x1170eb),_0x5e123b={'weekday':_0x4cfc05(0x324),'day':'numeric','month':'long'};let _0x2531a6=_0x43b2cf['toLocaleDateString']('ru-RU',_0x5e123b);return _0x2531a6[_0x4cfc05(0x1e5)](0x0)[_0x4cfc05(0x304)]()+_0x2531a6['slice'](0x1);},'getText'(_0x9ecce3,_0xe3f6f2){const _0x53a4e1=a2_0xbba92a,_0x3797bf=this['formatDate'](_0xe3f6f2[_0x53a4e1(0x2ae)]);switch(_0x9ecce3){case'create':return _0x53a4e1(0x25d)+(_0x53a4e1(0x347)+_0x3797bf+'\x0a')+(_0x53a4e1(0x2fc)+_0xe3f6f2[_0x53a4e1(0x2a1)]+_0x53a4e1(0x228)+_0xe3f6f2[_0x53a4e1(0x2bb)]+'\x0a\x0a')+_0x53a4e1(0x2aa);case _0x53a4e1(0x224):return _0x53a4e1(0x313)+_0x53a4e1(0x27b)+(_0x53a4e1(0x29d)+_0xe3f6f2['start']+_0x53a4e1(0x228)+_0xe3f6f2[_0x53a4e1(0x2bb)]+'</b>\x0a\x0a')+(_0x53a4e1(0x347)+_0x3797bf);case _0x53a4e1(0x218):return _0x53a4e1(0x2b0)+(_0x53a4e1(0x23b)+_0x3797bf+'\x20('+_0xe3f6f2['start']+_0x53a4e1(0x2bd));case _0x53a4e1(0x286):return _0x53a4e1(0x205)+'–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a'+_0x53a4e1(0x253);default:return'';}},async 'send'(_0x3319e1,_0xbd7d5d){const _0x9a4bbc=a2_0xbba92a;console['log'](_0x9a4bbc(0x2da),_0x3319e1,_0xbd7d5d);if(!_0xbd7d5d){console[_0x9a4bbc(0x329)](_0x9a4bbc(0x26b));return;}const _0x2bb668=String(_0xbd7d5d[_0x9a4bbc(0x26a)]);console[_0x9a4bbc(0x276)](_0x9a4bbc(0x255),_0x2bb668);if(!_0xbd7d5d[_0x9a4bbc(0x26a)]||_0x2bb668===_0x9a4bbc(0x294)||_0x2bb668==='null'){console[_0x9a4bbc(0x329)](_0x9a4bbc(0x2f1));if(_0xbd7d5d[_0x9a4bbc(0x264)]){const _0x595020=clients['find'](_0x308953=>_0x308953['name']===_0xbd7d5d['client']);if(_0x595020)return console[_0x9a4bbc(0x276)](_0x9a4bbc(0x338),_0x595020['id']),this[_0x9a4bbc(0x251)](_0x3319e1,{..._0xbd7d5d,'clientId':_0x595020['id']});}return;}if(_0x2bb668[_0x9a4bbc(0x2af)]<0x5){console[_0x9a4bbc(0x222)]('[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)',_0x2bb668);return;}const _0x30910b=this[_0x9a4bbc(0x1eb)](_0x3319e1,_0xbd7d5d);if(!_0x30910b){console[_0x9a4bbc(0x329)](_0x9a4bbc(0x2d6));return;}console[_0x9a4bbc(0x276)](_0x9a4bbc(0x303)+_0x2bb668+_0x9a4bbc(0x207)),DataManager[_0x9a4bbc(0x212)]('send_notification',{'chatId':_0x2bb668,'text':_0x30910b})[_0x9a4bbc(0x2fd)](_0x5d2864=>console[_0x9a4bbc(0x276)](_0x9a4bbc(0x2ec),_0x5d2864))['catch'](_0x9ee22b=>console['error']('[Notify]\x20Network\x20Failed',_0x9ee22b));}};function getLocalDateStr(_0x370adf){const _0x224b50=a2_0xbba92a,_0x4dc613=_0x370adf[_0x224b50(0x257)](),_0x533472=String(_0x370adf[_0x224b50(0x238)]()+0x1)[_0x224b50(0x349)](0x2,'0'),_0x3f363b=String(_0x370adf[_0x224b50(0x331)]())['padStart'](0x2,'0');return _0x4dc613+'-'+_0x533472+'-'+_0x3f363b;}function getDateStr(_0x7d0c96){const _0x436737=a2_0xbba92a,_0x332224=new Date();return _0x332224[_0x436737(0x2f0)](_0x332224[_0x436737(0x331)]()+_0x7d0c96),getLocalDateStr(_0x332224);}function getStartOfWeek(_0xffdc51){const _0x2e651e=a2_0xbba92a,_0x419d50=(function(){let _0x186e4b=!![];return function(_0xdec74,_0x550d39){const _0x13ed30=_0x186e4b?function(){const _0x231e4e=a2_0xb62c;if(_0x550d39){const _0x5b4319=_0x550d39[_0x231e4e(0x2c3)](_0xdec74,arguments);return _0x550d39=null,_0x5b4319;}}:function(){};return _0x186e4b=![],_0x13ed30;};}()),_0x156125=_0x419d50(this,function(){const _0x71a032=a2_0xb62c;return _0x156125['toString']()[_0x71a032(0x209)](_0x71a032(0x229))[_0x71a032(0x342)]()['constructor'](_0x156125)['search'](_0x71a032(0x229));});_0x156125();const _0x4d4c4f=new Date(_0xffdc51),_0x2a4132=_0x4d4c4f[_0x2e651e(0x2c1)](),_0x52336a=_0x4d4c4f[_0x2e651e(0x331)]()-_0x2a4132+(_0x2a4132===0x0?-0x6:0x1);return _0x4d4c4f[_0x2e651e(0x2f0)](_0x52336a),_0x4d4c4f[_0x2e651e(0x2f7)](0x0,0x0,0x0,0x0),_0x4d4c4f;}function hexToRgba(_0x4962c9,_0x537c26){const _0x20559c=a2_0xbba92a;if(!_0x4962c9)return _0x20559c(0x2c8);let _0xcc8978=0x0,_0x16b987=0x0,_0x2c6771=0x0;if(_0x4962c9[_0x20559c(0x2af)]===0x4)_0xcc8978='0x'+_0x4962c9[0x1]+_0x4962c9[0x1],_0x16b987='0x'+_0x4962c9[0x2]+_0x4962c9[0x2],_0x2c6771='0x'+_0x4962c9[0x3]+_0x4962c9[0x3];else _0x4962c9[_0x20559c(0x2af)]===0x7&&(_0xcc8978='0x'+_0x4962c9[0x1]+_0x4962c9[0x2],_0x16b987='0x'+_0x4962c9[0x3]+_0x4962c9[0x4],_0x2c6771='0x'+_0x4962c9[0x5]+_0x4962c9[0x6]);return'rgba('+ +_0xcc8978+',\x20'+ +_0x16b987+',\x20'+ +_0x2c6771+',\x20'+_0x537c26+')';}function renderTimeColumn(){const _0x4f9fdd=a2_0xbba92a,_0x2b78a8=document[_0x4f9fdd(0x2e1)](_0x4f9fdd(0x2d9)),_0x5cfefa=document[_0x4f9fdd(0x2e1)](_0x4f9fdd(0x260));_0x2b78a8[_0x4f9fdd(0x32e)]='',_0x2b78a8[_0x4f9fdd(0x333)](_0x5cfefa);for(let _0x1d9052=0x0;_0x1d9052<0x18;_0x1d9052++){const _0x43c8a3=document[_0x4f9fdd(0x26c)](_0x4f9fdd(0x30d));_0x43c8a3[_0x4f9fdd(0x2cc)]=_0x4f9fdd(0x271);if(_0x1d9052>0x0)_0x43c8a3[_0x4f9fdd(0x32e)]=_0x4f9fdd(0x23e)+String(_0x1d9052)['padStart'](0x2,'0')+_0x4f9fdd(0x247);_0x2b78a8['appendChild'](_0x43c8a3);}}function renderDayRange(_0x48c2bc,_0x39deea){const _0x1c5508=a2_0xbba92a,_0x386a39=document[_0x1c5508(0x2e1)](_0x1c5508(0x21c)),_0x2dafa4=document['getElementById'](_0x1c5508(0x25a)),_0x1ff415=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x215208=new Date();_0x215208[_0x1c5508(0x2f7)](0x0,0x0,0x0,0x0);const _0xf0b672=getLocalDateStr(new Date());for(let _0x3fcfaa=_0x48c2bc;_0x3fcfaa<=_0x39deea;_0x3fcfaa++){const _0x49f54d=new Date(_0x215208);_0x49f54d['setDate'](_0x49f54d[_0x1c5508(0x331)]()+_0x3fcfaa);const _0x514134=getLocalDateStr(_0x49f54d);let _0x4b036a=_0x49f54d[_0x1c5508(0x2c1)]()-0x1;if(_0x4b036a===-0x1)_0x4b036a=0x6;const _0x55cb40=_0x514134===_0xf0b672,_0x3a1669=document[_0x1c5508(0x26c)](_0x1c5508(0x30d));_0x3a1669[_0x1c5508(0x2cc)]=_0x1c5508(0x2c7)+(_0x55cb40?_0x1c5508(0x30a):''),_0x3a1669['id']='header-'+_0x514134,_0x3a1669[_0x1c5508(0x297)](_0x1c5508(0x2d5),_0x514134),_0x3a1669[_0x1c5508(0x32e)]=_0x1c5508(0x316)+_0x1ff415[_0x4b036a]+'</div><div\x20class=\x22dch-num\x22>'+_0x49f54d[_0x1c5508(0x331)]()+_0x1c5508(0x201)+_0x514134+_0x1c5508(0x32f),_0x3a1669[_0x1c5508(0x2f6)]=()=>openDayOptions(_0x514134,_0x1ff415[_0x4b036a]+'\x20'+_0x49f54d[_0x1c5508(0x331)]()),_0x386a39[_0x1c5508(0x333)](_0x3a1669);const _0x53ad5e=document[_0x1c5508(0x26c)](_0x1c5508(0x30d));_0x53ad5e['className']=_0x1c5508(0x281)+(_0x55cb40?_0x1c5508(0x30a):''),_0x53ad5e[_0x1c5508(0x297)](_0x1c5508(0x2d5),_0x514134),_0x53ad5e[_0x1c5508(0x297)](_0x1c5508(0x272),_0x4b036a),renderEventsForColumn(_0x53ad5e,_0x514134,_0x4b036a),attachLongPressHandler(_0x53ad5e,_0x49f54d),_0x2dafa4['appendChild'](_0x53ad5e),updateDayStats(_0x514134);}}function reRenderBlocks(){const _0x2e0f66=a2_0xbba92a;document['querySelectorAll']('#gridColumns\x20.day-column')[_0x2e0f66(0x213)](_0x1902a1=>{const _0x194cd8=_0x2e0f66;_0x1902a1[_0x194cd8(0x202)]('.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card')[_0x194cd8(0x213)](_0x3f052a=>_0x3f052a[_0x194cd8(0x1e9)]());const _0x22294c=_0x1902a1[_0x194cd8(0x2e4)]('data-date'),_0x3b8e38=parseInt(_0x1902a1[_0x194cd8(0x2e4)](_0x194cd8(0x272))),_0x25bf88=Math[_0x194cd8(0x203)](_0x1902a1['offsetLeft']);(availabilityPattern[_0x3b8e38]||[])[_0x194cd8(0x213)](_0x63bda=>{const _0x117c93=_0x194cd8,_0x29866f=document[_0x117c93(0x26c)](_0x117c93(0x30d));_0x29866f[_0x117c93(0x2cc)]=_0x117c93(0x2be);const _0x532aa1=_0x63bda*GRID_H;_0x29866f['style']['top']=_0x532aa1+'px',_0x29866f['style'][_0x117c93(0x2d2)]='-'+_0x25bf88+_0x117c93(0x2e7)+_0x532aa1+'px',_0x1902a1[_0x117c93(0x333)](_0x29866f);});if(specialRanges&&specialRanges[_0x194cd8(0x2af)]>0x0){const _0x2f5e04=new Date(_0x22294c+_0x194cd8(0x216))[_0x194cd8(0x23f)](),_0x12854d=new Date(_0x22294c+_0x194cd8(0x33c))[_0x194cd8(0x23f)]();specialRanges[_0x194cd8(0x213)](_0x2eb269=>{const _0x3399f0=_0x194cd8,_0xfe2724=new Date(_0x2eb269[_0x3399f0(0x2a1)])[_0x3399f0(0x23f)](),_0x430406=new Date(_0x2eb269[_0x3399f0(0x2bb)])[_0x3399f0(0x23f)](),_0x368de8=Math[_0x3399f0(0x2df)](_0x2f5e04,_0xfe2724),_0x26305a=Math[_0x3399f0(0x337)](_0x12854d,_0x430406);if(_0x368de8<_0x26305a){if(_0x368de8<=_0x2f5e04&&_0x26305a>=_0x12854d-0xea60){if(!_0x1902a1[_0x3399f0(0x1e0)](_0x3399f0(0x2e2))){const _0x569616=document[_0x3399f0(0x26c)](_0x3399f0(0x30d));_0x569616[_0x3399f0(0x2cc)]='day-off-overlay\x20stripe-bg',_0x569616[_0x3399f0(0x1fd)][_0x3399f0(0x2d2)]='-'+_0x25bf88+_0x3399f0(0x298),_0x1902a1[_0x3399f0(0x333)](_0x569616);}}else{const _0x2742f3=(_0x368de8-_0x2f5e04)/0x36ee80*GRID_H,_0x282903=(_0x26305a-_0x368de8)/0x36ee80*GRID_H,_0x100677=document[_0x3399f0(0x26c)](_0x3399f0(0x30d));_0x100677['className']=_0x3399f0(0x28e),_0x100677['style'][_0x3399f0(0x2dc)]=_0x2742f3+'px',_0x100677[_0x3399f0(0x1fd)][_0x3399f0(0x25b)]=_0x282903+'px',_0x100677[_0x3399f0(0x1fd)][_0x3399f0(0x2d2)]='-'+_0x25bf88+_0x3399f0(0x2e7)+_0x2742f3+'px',_0x1902a1[_0x3399f0(0x333)](_0x100677);}}});}if(dateExceptions[_0x22294c]==='off'){if(!_0x1902a1[_0x194cd8(0x1e0)]('.day-off-overlay')){const _0x3c69f3=document[_0x194cd8(0x26c)]('div');_0x3c69f3[_0x194cd8(0x2cc)]=_0x194cd8(0x248),_0x3c69f3[_0x194cd8(0x1fd)]['backgroundPosition']='-'+_0x25bf88+_0x194cd8(0x298),_0x1902a1[_0x194cd8(0x333)](_0x3c69f3);}}renderEventsForColumn(_0x1902a1,_0x22294c,_0x3b8e38),updateDayStats(_0x22294c);});}function a2_0xb62c(_0x5e9907,_0x54f628){_0x5e9907=_0x5e9907-0x1dc;const _0x467308=a2_0x31c7();let _0x1aaebb=_0x467308[_0x5e9907];return _0x1aaebb;}function updateAllDayStats(){const _0xd306f9=a2_0xbba92a;document[_0xd306f9(0x202)](_0xd306f9(0x25e))[_0xd306f9(0x213)](_0x118a4e=>{const _0x143184=_0xd306f9;updateDayStats(_0x118a4e[_0x143184(0x2e4)](_0x143184(0x2d5)));});}function updateDayStats(_0x4b56bc){const _0x1e7ea5=a2_0xbba92a,_0x5b3d51=document['getElementById'](_0x1e7ea5(0x219)+_0x4b56bc);if(!_0x5b3d51)return;const _0x1f292c=new Date(_0x4b56bc);let _0x37420b=_0x1f292c[_0x1e7ea5(0x2c1)]()-0x1;if(_0x37420b===-0x1)_0x37420b=0x6;if(dateExceptions[_0x4b56bc]==='off'){_0x5b3d51[_0x1e7ea5(0x1fd)][_0x1e7ea5(0x2ad)]='none';return;}const _0x23549f=availabilityPattern[_0x37420b]||[],_0x51615f=0x18-_0x23549f[_0x1e7ea5(0x2af)],_0x397a45=_0x51615f*0x3c,_0x22369c=sessions[_0x1e7ea5(0x343)](_0x46c561=>_0x46c561['dateStr']===_0x4b56bc&&_0x46c561[_0x1e7ea5(0x242)]!=='cancelled');if(_0x22369c[_0x1e7ea5(0x2af)]===0x0){_0x5b3d51[_0x1e7ea5(0x1fd)]['display']=_0x1e7ea5(0x2c2);return;}let _0x16bf43=_0x22369c[_0x1e7ea5(0x31d)](_0x57cb0a=>{const _0x53ea82=_0x1e7ea5,[_0x286276,_0x174bb7]=_0x57cb0a[_0x53ea82(0x2a1)][_0x53ea82(0x2c9)](':')['map'](Number),[_0x19559b,_0x580358]=_0x57cb0a['end'][_0x53ea82(0x2c9)](':')[_0x53ea82(0x31d)](Number);return[_0x286276*0x3c+_0x174bb7,_0x19559b*0x3c+_0x580358];});_0x16bf43[_0x1e7ea5(0x233)]((_0x3c133a,_0x142033)=>_0x3c133a[0x0]-_0x142033[0x0]);let _0x2c06e6=[];if(_0x16bf43[_0x1e7ea5(0x2af)]>0x0){let _0x2be8fa=_0x16bf43[0x0];for(let _0x5a1714=0x1;_0x5a1714<_0x16bf43[_0x1e7ea5(0x2af)];_0x5a1714++){_0x16bf43[_0x5a1714][0x0]<_0x2be8fa[0x1]?_0x2be8fa[0x1]=Math[_0x1e7ea5(0x2df)](_0x2be8fa[0x1],_0x16bf43[_0x5a1714][0x1]):(_0x2c06e6[_0x1e7ea5(0x244)](_0x2be8fa),_0x2be8fa=_0x16bf43[_0x5a1714]);}_0x2c06e6['push'](_0x2be8fa);}let _0x3ef32c=0x0;_0x2c06e6['forEach'](_0x5da0cf=>_0x3ef32c+=_0x5da0cf[0x1]-_0x5da0cf[0x0]),_0x5b3d51[_0x1e7ea5(0x1fd)][_0x1e7ea5(0x2ad)]=_0x1e7ea5(0x273);const _0x527a83=_0x5b3d51[_0x1e7ea5(0x1e0)]('.dch-stats-fill');if(_0x397a45===0x0){_0x527a83[_0x1e7ea5(0x1fd)][_0x1e7ea5(0x259)]='100%',_0x527a83[_0x1e7ea5(0x1fd)][_0x1e7ea5(0x270)]=_0x1e7ea5(0x2f9);return;}const _0x2b0319=_0x3ef32c/_0x397a45*0x64;console[_0x1e7ea5(0x276)]('['+_0x4b56bc+_0x1e7ea5(0x2e9)+_0x51615f+_0x1e7ea5(0x1f7)+_0x3ef32c+'–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20'+_0x2b0319['toFixed'](0x1)+'%'),_0x2b0319>0x64?(_0x527a83[_0x1e7ea5(0x1fd)][_0x1e7ea5(0x259)]='100%',_0x527a83[_0x1e7ea5(0x1fd)][_0x1e7ea5(0x270)]='var(--acc-red)'):(_0x527a83[_0x1e7ea5(0x1fd)][_0x1e7ea5(0x259)]=_0x2b0319+'%',_0x527a83[_0x1e7ea5(0x1fd)][_0x1e7ea5(0x270)]=_0x1e7ea5(0x26d));}function renderEventsForColumn(_0x5e25e9,_0x5b720c,_0x4f7ead){const _0xba5c0c=a2_0xbba92a,_0x43b1f7=sessions['filter'](_0x32779e=>_0x32779e[_0xba5c0c(0x2ae)]===_0x5b720c),_0x5bb2de=_0x43b1f7[_0xba5c0c(0x31d)](_0x44b166=>{const _0x18da2c=_0xba5c0c,[_0x288ba1,_0x105aa9]=_0x44b166[_0x18da2c(0x2a1)]['split'](':')['map'](Number),[_0x327168,_0x4a7d4b]=_0x44b166['end']['split'](':')[_0x18da2c(0x31d)](Number);return{'data':_0x44b166,'start':_0x288ba1*0x3c+_0x105aa9,'end':_0x327168*0x3c+_0x4a7d4b,'colIndex':0x0};});_0x5bb2de[_0xba5c0c(0x233)]((_0x2cb54d,_0x4336df)=>{const _0x4e6150=_0xba5c0c;if(_0x2cb54d[_0x4e6150(0x2a1)]!==_0x4336df[_0x4e6150(0x2a1)])return _0x2cb54d[_0x4e6150(0x2a1)]-_0x4336df['start'];return _0x4336df[_0x4e6150(0x2bb)]-_0x4336df[_0x4e6150(0x2a1)]-(_0x2cb54d[_0x4e6150(0x2bb)]-_0x2cb54d[_0x4e6150(0x2a1)]);});const _0x17c98d=[];_0x5bb2de[_0xba5c0c(0x213)](_0x137e44=>{const _0xe8a94d=_0xba5c0c;let _0x4ddfb0=![];for(let _0x5dbafe=0x0;_0x5dbafe<_0x17c98d[_0xe8a94d(0x2af)];_0x5dbafe++){const _0x1b1d77=_0x17c98d[_0x5dbafe],_0xc4a74b=_0x1b1d77[_0x1b1d77[_0xe8a94d(0x2af)]-0x1];if(_0x137e44[_0xe8a94d(0x2a1)]>=_0xc4a74b[_0xe8a94d(0x2bb)]){_0x1b1d77[_0xe8a94d(0x244)](_0x137e44),_0x137e44[_0xe8a94d(0x2a6)]=_0x5dbafe,_0x4ddfb0=!![];break;}}!_0x4ddfb0&&(_0x17c98d[_0xe8a94d(0x244)]([_0x137e44]),_0x137e44[_0xe8a94d(0x2a6)]=_0x17c98d[_0xe8a94d(0x2af)]-0x1);}),_0x5bb2de['forEach'](_0x55dbf8=>{const _0x3ef1c6=_0xba5c0c;let _0x1969e1=0x0;_0x5bb2de[_0x3ef1c6(0x213)](_0x36cc28=>{const _0x1b3428=_0x3ef1c6;if(Math[_0x1b3428(0x2df)](_0x55dbf8[_0x1b3428(0x2a1)],_0x36cc28[_0x1b3428(0x2a1)])<Math[_0x1b3428(0x337)](_0x55dbf8['end'],_0x36cc28[_0x1b3428(0x2bb)])){if(_0x36cc28['colIndex']>_0x1969e1)_0x1969e1=_0x36cc28[_0x1b3428(0x2a6)];}});const _0x18e262=_0x1969e1+0x1,_0x880c22=0x64/_0x18e262,_0x10029b=_0x55dbf8[_0x3ef1c6(0x2a6)]*_0x880c22,_0x21e45a=createEventEl(_0x55dbf8['data']);_0x21e45a[_0x3ef1c6(0x1fd)]['width']=_0x3ef1c6(0x29f)+_0x880c22+_0x3ef1c6(0x334),_0x21e45a[_0x3ef1c6(0x1fd)][_0x3ef1c6(0x235)]='calc('+_0x10029b+_0x3ef1c6(0x1f5),_0x21e45a[_0x3ef1c6(0x1fd)]['zIndex']=0xa+_0x55dbf8['colIndex'],_0x880c22<0x55&&_0x21e45a[_0x3ef1c6(0x327)][_0x3ef1c6(0x31a)](_0x3ef1c6(0x27d)),_0x5e25e9[_0x3ef1c6(0x333)](_0x21e45a);});}function createEventEl(_0x31d752){const _0x47e1d0=a2_0xbba92a,[_0x31bc39,_0x1dfdb5]=_0x31d752[_0x47e1d0(0x2a1)][_0x47e1d0(0x2c9)](':')[_0x47e1d0(0x31d)](Number),[_0x549367,_0x2edb18]=_0x31d752['end'][_0x47e1d0(0x2c9)](':')[_0x47e1d0(0x31d)](Number),_0x3450d8=(_0x31bc39*0x3c+_0x1dfdb5)/0x3c*GRID_H,_0x56bf9c=(_0x549367*0x3c+_0x2edb18-(_0x31bc39*0x3c+_0x1dfdb5))/0x3c*GRID_H,_0x2128b5=document['createElement'](_0x47e1d0(0x30d)),_0x5cce41=_0x31d752[_0x47e1d0(0x242)]===_0x47e1d0(0x211)?'\x20status-completed':'';_0x2128b5[_0x47e1d0(0x2cc)]=_0x47e1d0(0x32a)+_0x5cce41,_0x2128b5['style'][_0x47e1d0(0x2dc)]=_0x3450d8+'px',_0x2128b5[_0x47e1d0(0x1fd)][_0x47e1d0(0x25b)]=Math[_0x47e1d0(0x2df)](_0x56bf9c,0x14)+'px';const _0x2555e5=clients[_0x47e1d0(0x317)](_0x14193c=>_0x31d752[_0x47e1d0(0x26a)]&&String(_0x14193c['id'])===String(_0x31d752[_0x47e1d0(0x26a)])||_0x14193c[_0x47e1d0(0x27e)]===_0x31d752[_0x47e1d0(0x264)]),_0x3d0b0a=_0x2555e5?_0x2555e5[_0x47e1d0(0x2d0)]:_0x47e1d0(0x279);_0x2128b5[_0x47e1d0(0x1fd)][_0x47e1d0(0x340)]=_0x3d0b0a,_0x2128b5['style']['backgroundColor']=hexToRgba(_0x3d0b0a,0.85);let _0x4156e3=_0x47e1d0(0x2c5)+_0x31d752[_0x47e1d0(0x264)]+_0x47e1d0(0x2d4)+_0x31d752['start']+_0x47e1d0(0x274)+_0x31d752[_0x47e1d0(0x2bb)]+'</div>';return _0x31d752[_0x47e1d0(0x2bf)]&&(_0x4156e3+=_0x47e1d0(0x227)),_0x31d752['status']===_0x47e1d0(0x211)&&(_0x4156e3+=_0x47e1d0(0x1f2)),_0x2128b5[_0x47e1d0(0x32e)]=_0x4156e3,_0x2128b5[_0x47e1d0(0x2f6)]=_0x4d1a47=>{const _0x25a67f=_0x47e1d0;_0x4d1a47[_0x25a67f(0x31b)](),openEdit(_0x31d752);},_0x2128b5;}function attachLongPressHandler(_0x4ebc5f,_0x48adef){const _0x128a30=a2_0xbba92a;let _0x58f470=0x0,_0x3a831e=null;const _0x44c68f=_0xfa8ff5=>{const _0x4c8a9a=a2_0xb62c;if(_0xfa8ff5[_0x4c8a9a(0x2e5)][_0x4c8a9a(0x282)]('.event-card'))return;isScrolling=![],_0x58f470=_0xfa8ff5[_0x4c8a9a(0x299)]?_0xfa8ff5[_0x4c8a9a(0x299)][0x0]['clientY']:_0xfa8ff5['clientY'],_0x3a831e=setTimeout(()=>{const _0x39b505=_0x4c8a9a;if(!isScrolling){navigator['vibrate']?.(0x32);const _0x23e7fd=_0x4ebc5f['getBoundingClientRect'](),_0x3c7c2c=Math[_0x39b505(0x34c)]((_0x58f470-_0x23e7fd[_0x39b505(0x2dc)])/GRID_H);_0x48adef['setHours'](_0x3c7c2c,0x0),openAddSession(_0x48adef);}},0x1f4);},_0x20a2b1=()=>{isScrolling=!![],clearTimeout(_0x3a831e);},_0x5de144=()=>{clearTimeout(_0x3a831e);};_0x4ebc5f[_0x128a30(0x23a)]('touchstart',_0x44c68f,{'passive':!![]}),_0x4ebc5f['addEventListener'](_0x128a30(0x32d),_0x20a2b1,{'passive':!![]}),_0x4ebc5f[_0x128a30(0x23a)](_0x128a30(0x328),_0x5de144),_0x4ebc5f['addEventListener'](_0x128a30(0x20d),_0x44c68f),_0x4ebc5f[_0x128a30(0x23a)](_0x128a30(0x20b),_0x20a2b1),_0x4ebc5f[_0x128a30(0x23a)]('mouseup',_0x5de144);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x56f691=a2_0xbba92a,_0x4c9a6d=document['getElementById'](_0x56f691(0x314)),_0x4fa0e0=_0x4c9a6d[_0x56f691(0x2fb)],_0x69ab39=_0x4c9a6d[_0x56f691(0x26e)],_0x310e37=_0x4c9a6d[_0x56f691(0x34a)];if(_0x69ab39-(_0x4fa0e0+_0x310e37)<0x12c){const _0x5da0c2=endOffset;endOffset+=0xe,renderDayRange(_0x5da0c2+0x1,endOffset),reRenderBlocks();}if(_0x4fa0e0<0x12c){const _0x9f1b36=startOffset;startOffset-=0xe,prependDays(startOffset,_0x9f1b36-0x1),_0x4c9a6d[_0x56f691(0x2fb)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x52bc19,_0x4e7958){const _0x77a389=a2_0xbba92a,_0x1384c6=document['getElementById']('daysHeaderTrack'),_0x50d302=document[_0x77a389(0x2e1)](_0x77a389(0x25a)),_0x58034d=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x4533d6=new Date();_0x4533d6[_0x77a389(0x2f7)](0x0,0x0,0x0,0x0);const _0xbef61d=getLocalDateStr(new Date()),_0x4cfbf0=document[_0x77a389(0x290)](),_0x235e78=document[_0x77a389(0x290)]();for(let _0x22e0ee=_0x52bc19;_0x22e0ee<=_0x4e7958;_0x22e0ee++){const _0x22df41=new Date(_0x4533d6);_0x22df41[_0x77a389(0x2f0)](_0x22df41[_0x77a389(0x331)]()+_0x22e0ee);const _0x2c0db2=getLocalDateStr(_0x22df41);let _0x4abf88=_0x22df41[_0x77a389(0x2c1)]()-0x1;if(_0x4abf88===-0x1)_0x4abf88=0x6;const _0x1bfcbf=_0x2c0db2===_0xbef61d,_0x29304e=document['createElement']('div');_0x29304e[_0x77a389(0x2cc)]=_0x77a389(0x2c7)+(_0x1bfcbf?_0x77a389(0x30a):''),_0x29304e['id']=_0x77a389(0x2fa)+_0x2c0db2,_0x29304e[_0x77a389(0x297)](_0x77a389(0x2d5),_0x2c0db2),_0x29304e[_0x77a389(0x32e)]=_0x77a389(0x316)+_0x58034d[_0x4abf88]+_0x77a389(0x2b9)+_0x22df41[_0x77a389(0x331)]()+_0x77a389(0x201)+_0x2c0db2+_0x77a389(0x32f),_0x29304e['onclick']=()=>openDayOptions(_0x2c0db2,_0x58034d[_0x4abf88]+'\x20'+_0x22df41[_0x77a389(0x331)]()),_0x4cfbf0['appendChild'](_0x29304e);const _0x14fa5e=document[_0x77a389(0x26c)](_0x77a389(0x30d));_0x14fa5e[_0x77a389(0x2cc)]='day-column\x20'+(_0x1bfcbf?_0x77a389(0x30a):''),_0x14fa5e[_0x77a389(0x297)](_0x77a389(0x2d5),_0x2c0db2),_0x14fa5e['setAttribute']('data-day-idx',_0x4abf88),renderEventsForColumn(_0x14fa5e,_0x2c0db2,_0x4abf88),attachLongPressHandler(_0x14fa5e,_0x22df41),_0x235e78[_0x77a389(0x333)](_0x14fa5e),updateDayStats(_0x2c0db2);}_0x1384c6[_0x77a389(0x28d)](_0x4cfbf0,_0x1384c6[_0x77a389(0x2b5)]),_0x50d302[_0x77a389(0x28d)](_0x235e78,_0x50d302[_0x77a389(0x1e0)](_0x77a389(0x1fe)));}function validateAppointment(_0x34d929,_0x226f67,_0x3741ce,_0x42d5cf,_0x328b38){const _0x4a28ca=a2_0xbba92a,[_0x296c9c,_0x467c6d]=_0x226f67[_0x4a28ca(0x2c9)](':')[_0x4a28ca(0x31d)](Number),[_0x442dac,_0x23d310]=_0x3741ce[_0x4a28ca(0x2c9)](':')[_0x4a28ca(0x31d)](Number),_0x4153c0=_0x296c9c*0x3c+_0x467c6d,_0x5eff61=_0x442dac*0x3c+_0x23d310,_0x3001b3=String(_0x328b38);let _0x156d09=![],_0x39cbf8='';for(let _0x5c964a of sessions){if(_0x5c964a[_0x4a28ca(0x2ae)]!==_0x34d929)continue;if(_0x5c964a['status']===_0x4a28ca(0x24c))continue;if(_0x42d5cf&&String(_0x5c964a['id'])===String(_0x42d5cf))continue;const [_0x4af741,_0x567a31]=_0x5c964a[_0x4a28ca(0x2a1)][_0x4a28ca(0x2c9)](':')['map'](Number),[_0x4fa61a,_0x316a3a]=_0x5c964a[_0x4a28ca(0x2bb)][_0x4a28ca(0x2c9)](':')[_0x4a28ca(0x31d)](Number),_0x52f173=_0x4af741*0x3c+_0x567a31,_0x2bb0df=_0x4fa61a*0x3c+_0x316a3a;if(Math[_0x4a28ca(0x2df)](_0x4153c0,_0x52f173)<Math['min'](_0x5eff61,_0x2bb0df)){if(_0x5c964a['clientId']&&String(_0x5c964a[_0x4a28ca(0x26a)])===_0x3001b3)return{'valid':![],'msg':_0x4a28ca(0x318)+_0x5c964a['client']+_0x4a28ca(0x2b3)};_0x156d09=!![],_0x39cbf8=_0x5c964a['client'];}}if(_0x156d09)return{'valid':!![],'warning':_0x4a28ca(0x295)+_0x39cbf8};return{'valid':!![]};}function updateDateDisplay(){const _0x52fe63=a2_0xbba92a,_0x2c94dd=document[_0x52fe63(0x2e1)](_0x52fe63(0x1fa))[_0x52fe63(0x2f2)],_0x128a36=document['getElementById'](_0x52fe63(0x28a));if(!_0x2c94dd){_0x128a36[_0x52fe63(0x2ff)]='';return;}const [_0x3caddd,_0x4314c9,_0x284bdc]=_0x2c94dd[_0x52fe63(0x2c9)]('-')['map'](Number),_0x39ff39=new Date(_0x3caddd,_0x4314c9-0x1,_0x284bdc),_0x3c5661={'weekday':_0x52fe63(0x324),'day':_0x52fe63(0x215),'month':_0x52fe63(0x324),'year':_0x52fe63(0x215)};let _0x214379=_0x39ff39[_0x52fe63(0x2e8)](_0x52fe63(0x289),_0x3c5661);_0x214379=_0x214379['charAt'](0x0)['toUpperCase']()+_0x214379[_0x52fe63(0x2db)](0x1),_0x128a36['textContent']=_0x214379;}function autoSetEndTime(){const _0x3be6f8=a2_0xbba92a,_0x24e41a=document['getElementById'](_0x3be6f8(0x27c))[_0x3be6f8(0x2f2)];if(!_0x24e41a)return;const [_0x2f2abe,_0x129675]=_0x24e41a['split'](':')[_0x3be6f8(0x31d)](Number);let _0x3dca35=_0x2f2abe+0x1;if(_0x3dca35>0x17)_0x3dca35=0x0;const _0xd5df3c=String(_0x3dca35)[_0x3be6f8(0x349)](0x2,'0')+':'+String(_0x129675)[_0x3be6f8(0x349)](0x2,'0');document[_0x3be6f8(0x2e1)](_0x3be6f8(0x2c4))['value']=_0xd5df3c;}function populateClientSelect(){const _0x9c4366=a2_0xbba92a,_0x12d6bb=document[_0x9c4366(0x2e1)]('inpClient');_0x12d6bb['innerHTML']='';if(clients[_0x9c4366(0x2af)]===0x0){const _0x1777ca=document['createElement']('option');_0x1777ca['text']=_0x9c4366(0x1e7),_0x12d6bb[_0x9c4366(0x333)](_0x1777ca);return;}clients[_0x9c4366(0x213)](_0x277dd4=>{const _0x3ae325=_0x9c4366,_0x60565=document[_0x3ae325(0x26c)](_0x3ae325(0x241));_0x60565[_0x3ae325(0x2f2)]=_0x277dd4[_0x3ae325(0x27e)],_0x60565[_0x3ae325(0x2ff)]=_0x277dd4[_0x3ae325(0x27e)],_0x12d6bb['appendChild'](_0x60565);});}function openActionSheet(_0x386df8){const _0xb232d2=a2_0xbba92a,_0x3f9143=document[_0xb232d2(0x2e1)](_0xb232d2(0x1ec)),_0x3f1c98=document['getElementById']('actionSheetOverlay'),_0x1094bf=document[_0xb232d2(0x2e1)](_0xb232d2(0x2b1)),_0xbbb93a=document[_0xb232d2(0x2e1)](_0xb232d2(0x2f8)),_0x3d8bc3=document['getElementById'](_0xb232d2(0x22f));_0x3f1c98[_0xb232d2(0x327)][_0xb232d2(0x31a)](_0xb232d2(0x284)),_0x3f9143[_0xb232d2(0x327)][_0xb232d2(0x31a)](_0xb232d2(0x220));if(_0x386df8===_0xb232d2(0x1dd))_0x1094bf[_0xb232d2(0x2ff)]=_0xb232d2(0x2ba),_0xbbb93a[_0xb232d2(0x2ff)]='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0xbbb93a[_0xb232d2(0x2f6)]=()=>{closeActionSheet(),updateSeriesBatch('single',tempSessionData);},_0x3d8bc3[_0xb232d2(0x2ff)]=_0xb232d2(0x310),_0x3d8bc3[_0xb232d2(0x2f6)]=()=>{closeActionSheet(),updateSeriesBatch('series',tempSessionData);};else _0x386df8===_0xb232d2(0x292)&&(_0x1094bf['textContent']='–£–¥–∞–ª–µ–Ω–∏–µ',_0xbbb93a[_0xb232d2(0x2ff)]=_0xb232d2(0x239),_0xbbb93a[_0xb232d2(0x2cc)]=_0xb232d2(0x30c),_0xbbb93a[_0xb232d2(0x2f6)]=()=>{const _0x21436a=_0xb232d2;closeActionSheet(),commitDelete(_0x21436a(0x1ef),sessions[_0x21436a(0x317)](_0x1ddec1=>_0x1ddec1['id']===editingId));},_0x3d8bc3[_0xb232d2(0x2ff)]=_0xb232d2(0x310),_0x3d8bc3[_0xb232d2(0x2cc)]='as-button\x20danger\x20bold',_0x3d8bc3[_0xb232d2(0x2f6)]=()=>{const _0x2039ee=_0xb232d2;closeActionSheet(),commitDelete(_0x2039ee(0x320),sessions[_0x2039ee(0x317)](_0x3b183a=>_0x3b183a['id']===editingId));});}function closeActionSheet(){const _0x5690fc=a2_0xbba92a;document[_0x5690fc(0x2e1)](_0x5690fc(0x1ec))[_0x5690fc(0x327)]['remove'](_0x5690fc(0x220)),document[_0x5690fc(0x2e1)](_0x5690fc(0x240))[_0x5690fc(0x327)][_0x5690fc(0x1e9)]('active');}function openSettings(){const _0x56bda7=a2_0xbba92a;openSheet(_0x56bda7(0x1f3));}function saveCoachSettings(){const _0x1a976f=a2_0xbba92a,_0x520403=document[_0x1a976f(0x2e1)]('settingCancelWindow')[_0x1a976f(0x2f2)];localStorage[_0x1a976f(0x28c)](_0x1a976f(0x2ea),_0x520403),console[_0x1a976f(0x276)]('[Settings]\x20Cancel\x20window\x20set\x20to:',_0x520403),DataManager[_0x1a976f(0x212)]('save_settings',{'settings':{'cancel_window':_0x520403}})[_0x1a976f(0x278)](_0x4f46f9=>{const _0x4f2df2=_0x1a976f;console[_0x4f2df2(0x329)](_0x4f2df2(0x22d),_0x4f46f9),showToast(_0x4f2df2(0x339),![]);});}function loadCoachSettings(){const _0x232695=a2_0xbba92a,_0x379f7a=localStorage[_0x232695(0x1de)](_0x232695(0x2ea));_0x379f7a&&(document[_0x232695(0x2e1)](_0x232695(0x234))['value']=_0x379f7a);}function openRangesSheet(){const _0x265d78=a2_0xbba92a;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x265d78(0x323));}function addRange(){const _0x53b36e=a2_0xbba92a,_0x8caad9=document[_0x53b36e(0x2e1)]('rangeStartDate')[_0x53b36e(0x2f2)],_0x46d73b=document[_0x53b36e(0x2e1)](_0x53b36e(0x2dd))[_0x53b36e(0x2f2)],_0x3baa9e=document['getElementById'](_0x53b36e(0x275))['value'],_0x148c41=document['getElementById']('rangeEndTime')[_0x53b36e(0x2f2)];if(!_0x8caad9||!_0x46d73b||!_0x3baa9e||!_0x148c41)return alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è');const _0x3b63c9=_0x8caad9+'T'+_0x46d73b,_0x333df5=_0x3baa9e+'T'+_0x148c41;if(_0x3b63c9>=_0x333df5)return alert('–û—à–∏–±–∫–∞\x20–¥–∞—Ç');specialRanges['push']({'start':_0x3b63c9,'end':_0x333df5}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x53b36e(0x21a)](),DataManager['fetchFromServer'](_0x53b36e(0x231),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x219168){const _0x20fc59=a2_0xbba92a;specialRanges[_0x20fc59(0x29a)](_0x219168,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x20fc59(0x21a)](),DataManager[_0x20fc59(0x212)](_0x20fc59(0x231),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x4df67f=a2_0xbba92a;document[_0x4df67f(0x2e1)](_0x4df67f(0x2ce))[_0x4df67f(0x2f2)]='',document[_0x4df67f(0x2e1)](_0x4df67f(0x2dd))[_0x4df67f(0x2f2)]=_0x4df67f(0x208),document[_0x4df67f(0x2e1)](_0x4df67f(0x275))['value']='',document[_0x4df67f(0x2e1)]('rangeEndTime')[_0x4df67f(0x2f2)]=_0x4df67f(0x1f8);}function renderRangesList(){const _0x333e31=a2_0xbba92a,_0x2c9af8=document[_0x333e31(0x2e1)](_0x333e31(0x210));_0x2c9af8['innerHTML']='';if(!specialRanges[_0x333e31(0x2af)]){_0x2c9af8[_0x333e31(0x32e)]='<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>';return;}specialRanges[_0x333e31(0x213)]((_0x7df615,_0x13cc36)=>{const _0x6f8eb5=_0x333e31,_0x56621c=document[_0x6f8eb5(0x26c)]('div');_0x56621c['className']='range-item';const _0x2bacb3=_0x4f55a6=>{const _0x337caf=_0x6f8eb5,_0x3ad5d8=new Date(_0x4f55a6);return _0x3ad5d8[_0x337caf(0x331)]()+'.'+String(_0x3ad5d8['getMonth']()+0x1)[_0x337caf(0x349)](0x2,'0')+'\x20'+String(_0x3ad5d8[_0x337caf(0x315)]())['padStart'](0x2,'0')+':'+String(_0x3ad5d8[_0x337caf(0x21e)]())[_0x337caf(0x349)](0x2,'0');};_0x56621c[_0x6f8eb5(0x32e)]=_0x6f8eb5(0x214)+_0x2bacb3(_0x7df615[_0x6f8eb5(0x2a1)])+_0x6f8eb5(0x228)+_0x2bacb3(_0x7df615['end'])+_0x6f8eb5(0x2a0)+_0x13cc36+_0x6f8eb5(0x2f5),_0x2c9af8[_0x6f8eb5(0x333)](_0x56621c);});}function scrollToToday(){const _0x504acf=a2_0xbba92a,_0x4d085d=getLocalDateStr(new Date()),_0x471c1e=document[_0x504acf(0x2e1)](_0x504acf(0x2fa)+_0x4d085d),_0x73584f=document[_0x504acf(0x2e1)](_0x504acf(0x314));if(_0x471c1e&&_0x73584f){const _0x18848a=_0x73584f['clientWidth'],_0x549f99=_0x471c1e[_0x504acf(0x326)],_0x1af809=_0x471c1e[_0x504acf(0x263)];_0x73584f[_0x504acf(0x2fb)]=_0x549f99-_0x18848a/0x2+_0x1af809/0x2,_0x73584f['scrollTop']=0x9*GRID_H;}}function onScroll(){const _0x2d5088=a2_0xbba92a,_0x632f18=document[_0x2d5088(0x2e1)](_0x2d5088(0x314)),_0x5b39ba=document[_0x2d5088(0x202)](_0x2d5088(0x25e));for(let _0x41379e of _0x5b39ba)if(_0x41379e[_0x2d5088(0x326)]>=_0x632f18[_0x2d5088(0x2fb)]){const _0x35ac9b=new Date(_0x41379e[_0x2d5088(0x2e4)](_0x2d5088(0x2d5)));document[_0x2d5088(0x2e1)](_0x2d5088(0x22b))[_0x2d5088(0x2ff)]=_0x35ac9b['toLocaleString']('ru',{'month':_0x2d5088(0x324)})['toUpperCase']()+'\x20'+_0x35ac9b[_0x2d5088(0x257)]();break;}}function showToast(_0x53ce06,_0x5bedfb=![]){const _0x2bda31=a2_0xbba92a,_0x21fa09=document['getElementById']('toast');_0x21fa09['className']=_0x2bda31(0x246)+(_0x5bedfb?'success':''),document[_0x2bda31(0x2e1)](_0x2bda31(0x1f0))[_0x2bda31(0x2ff)]=_0x5bedfb?_0x2bda31(0x332):_0x2bda31(0x232),document[_0x2bda31(0x2e1)](_0x2bda31(0x27f))['textContent']=_0x53ce06,_0x21fa09[_0x2bda31(0x327)][_0x2bda31(0x31a)]('show'),setTimeout(()=>{const _0x12a642=_0x2bda31;_0x21fa09['classList'][_0x12a642(0x1e9)](_0x12a642(0x2a5));},0xbb8);}function openDayOptions(_0x14aa2c,_0x8793cd){const _0x3c2548=a2_0xbba92a;selectedDayForOptions=_0x14aa2c,document[_0x3c2548(0x2e1)]('dayOptionsTitle')[_0x3c2548(0x2ff)]=_0x8793cd,openSheet(_0x3c2548(0x26f));}function toggleDayOff(){const _0x2fb5b7=a2_0xbba92a;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x2fb5b7(0x28f),reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager[_0x2fb5b7(0x212)](_0x2fb5b7(0x231),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x4d5a51=a2_0xbba92a;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x4d5a51(0x21a)](),DataManager[_0x4d5a51(0x212)]('save_settings',{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x53c6b2){const _0x2b110e=a2_0xbba92a;document[_0x2b110e(0x2e1)](_0x2b110e(0x256))[_0x2b110e(0x327)]['add'](_0x2b110e(0x284)),document[_0x2b110e(0x2e1)](_0x53c6b2)['classList'][_0x2b110e(0x31a)](_0x2b110e(0x220));}function closeAllSheets(){const _0x185c1e=a2_0xbba92a;document[_0x185c1e(0x2e1)](_0x185c1e(0x256))[_0x185c1e(0x327)][_0x185c1e(0x1e9)](_0x185c1e(0x284)),document[_0x185c1e(0x202)]('.sheet')[_0x185c1e(0x213)](_0x4c6989=>_0x4c6989['classList'][_0x185c1e(0x1e9)](_0x185c1e(0x220)));}function openPatternEditor(){const _0x87570f=a2_0xbba92a;closeAllSheets(),document[_0x87570f(0x2e1)](_0x87570f(0x280))[_0x87570f(0x327)][_0x87570f(0x31a)](_0x87570f(0x220)),renderPatternEditor();}function closePatternEditor(){const _0xbaa202=a2_0xbba92a;document[_0xbaa202(0x2e1)](_0xbaa202(0x280))[_0xbaa202(0x327)][_0xbaa202(0x1e9)](_0xbaa202(0x220));}function savePattern(){const _0xa5b0bb=a2_0xbba92a;document[_0xa5b0bb(0x2e1)](_0xa5b0bb(0x280))[_0xa5b0bb(0x327)][_0xa5b0bb(0x1e9)]('open'),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0xa5b0bb(0x212)](_0xa5b0bb(0x231),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x1b1bfd=a2_0xbba92a,_0x5bf923=document['getElementById'](_0x1b1bfd(0x23c));_0x5bf923[_0x1b1bfd(0x32e)]='';const _0x53b5f8=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x43dcf0=document[_0x1b1bfd(0x26c)]('div');_0x43dcf0[_0x1b1bfd(0x2cc)]=_0x1b1bfd(0x24a),_0x5bf923[_0x1b1bfd(0x333)](_0x43dcf0),_0x53b5f8[_0x1b1bfd(0x213)]((_0x6399,_0x57a163)=>{const _0x445de6=_0x1b1bfd,_0x471392=document['createElement'](_0x445de6(0x30d));_0x471392[_0x445de6(0x2cc)]=_0x445de6(0x2e0),_0x471392['innerHTML']=_0x6399+_0x445de6(0x265),_0x471392[_0x445de6(0x2f6)]=()=>toggleColPattern(_0x57a163),_0x5bf923[_0x445de6(0x333)](_0x471392);});for(let _0x57fe81=0x0;_0x57fe81<0x18;_0x57fe81++){const _0x8d5df6=document['createElement'](_0x1b1bfd(0x30d));_0x8d5df6[_0x1b1bfd(0x2cc)]='pe-time-label',_0x8d5df6[_0x1b1bfd(0x32e)]='<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>'+String(_0x57fe81)['padStart'](0x2,'0')+':00',_0x8d5df6[_0x1b1bfd(0x2f6)]=()=>toggleRowPattern(_0x57fe81),_0x5bf923[_0x1b1bfd(0x333)](_0x8d5df6);for(let _0x294fda=0x0;_0x294fda<0x7;_0x294fda++){const _0x30b716=document['createElement'](_0x1b1bfd(0x30d)),_0x51115f=(availabilityPattern[_0x294fda]||[])[_0x1b1bfd(0x336)](_0x57fe81),_0x431d32=!_0x51115f;_0x30b716[_0x1b1bfd(0x2cc)]='pe-cell\x20'+(_0x431d32?'active':''),_0x30b716[_0x1b1bfd(0x2f6)]=()=>toggleSinglePattern(_0x294fda,_0x57fe81),_0x5bf923[_0x1b1bfd(0x333)](_0x30b716);}}}function toggleSinglePattern(_0x4ee7fa,_0x38bc4f){const _0x304a65=a2_0xbba92a;if(!availabilityPattern[_0x4ee7fa])availabilityPattern[_0x4ee7fa]=[];const _0x47641e=availabilityPattern[_0x4ee7fa],_0x2c3cef=_0x47641e[_0x304a65(0x288)](_0x38bc4f);_0x2c3cef===-0x1?_0x47641e[_0x304a65(0x244)](_0x38bc4f):_0x47641e[_0x304a65(0x29a)](_0x2c3cef,0x1),renderPatternEditor();}function toggleColPattern(_0x5ce15d){const _0x483bb1=a2_0xbba92a;if(!availabilityPattern[_0x5ce15d])availabilityPattern[_0x5ce15d]=[];const _0x84a17b=availabilityPattern[_0x5ce15d];_0x84a17b[_0x483bb1(0x2af)]===0x0?availabilityPattern[_0x5ce15d]=Array[_0x483bb1(0x344)]({'length':0x18},(_0x4e8205,_0x39c8f2)=>_0x39c8f2):availabilityPattern[_0x5ce15d]=[],renderPatternEditor();}function toggleRowPattern(_0x3e49e5){const _0x251961=a2_0xbba92a;let _0x584637=!![];for(let _0x58fa8b=0x0;_0x58fa8b<0x7;_0x58fa8b++){if((availabilityPattern[_0x58fa8b]||[])[_0x251961(0x336)](_0x3e49e5)){_0x584637=![];break;}}for(let _0x3fe284=0x0;_0x3fe284<0x7;_0x3fe284++){if(!availabilityPattern[_0x3fe284])availabilityPattern[_0x3fe284]=[];const _0x3da9c8=availabilityPattern[_0x3fe284][_0x251961(0x288)](_0x3e49e5);if(_0x584637){if(_0x3da9c8===-0x1)availabilityPattern[_0x3fe284][_0x251961(0x244)](_0x3e49e5);}else{if(_0x3da9c8!==-0x1)availabilityPattern[_0x3fe284][_0x251961(0x29a)](_0x3da9c8,0x1);}}renderPatternEditor();}function renderPCol(_0x3c7fbe,_0x17af23){const _0x5c8f89=a2_0xbba92a;_0x3c7fbe['innerHTML']='';const _0x37428f=Math['round'](_0x3c7fbe['offsetLeft']);(availabilityPattern[_0x17af23]||[])[_0x5c8f89(0x213)](_0x46f102=>{const _0x37bd42=_0x5c8f89,_0x5e60a8=document[_0x37bd42(0x26c)](_0x37bd42(0x30d));_0x5e60a8[_0x37bd42(0x2cc)]=_0x37bd42(0x2be);const _0x11ae25=_0x46f102*GRID_H;_0x5e60a8[_0x37bd42(0x1fd)][_0x37bd42(0x2dc)]=_0x11ae25+'px',_0x5e60a8[_0x37bd42(0x1fd)][_0x37bd42(0x2d2)]='-'+_0x37428f+_0x37bd42(0x2e7)+_0x11ae25+'px',_0x5e60a8['onclick']=_0xc56e23=>{const _0x36c9ee=_0x37bd42;_0xc56e23[_0x36c9ee(0x31b)](),toggleSinglePattern(_0x17af23,_0x46f102);},_0x3c7fbe[_0x37bd42(0x333)](_0x5e60a8);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x1a840e=a2_0xbba92a,_0x3f662f=new Date(),_0x2f190c=document['getElementById'](_0x1a840e(0x2e3)),_0x5ef196=document['getElementById'](_0x1a840e(0x260)),_0xc2463e=(_0x3f662f[_0x1a840e(0x315)]()*0x3c+_0x3f662f[_0x1a840e(0x21e)]())/0x3c*GRID_H;_0x2f190c[_0x1a840e(0x1fd)][_0x1a840e(0x2dc)]=_0xc2463e+'px',_0x2f190c[_0x1a840e(0x1fd)]['display']='block',_0x5ef196[_0x1a840e(0x2ff)]=String(_0x3f662f[_0x1a840e(0x315)]())[_0x1a840e(0x349)](0x2,'0')+':'+String(_0x3f662f[_0x1a840e(0x21e)]())[_0x1a840e(0x349)](0x2,'0'),_0x5ef196[_0x1a840e(0x1fd)][_0x1a840e(0x2ad)]=_0x1a840e(0x296),_0x5ef196[_0x1a840e(0x1fd)][_0x1a840e(0x2dc)]=_0xc2463e+'px';}document['addEventListener']('DOMContentLoaded',init);function openDayOptions(_0x39f18f){const _0xe4d5eb=a2_0xbba92a;selectedDayForOptions=_0x39f18f;const _0x2ee2b1=new Date(_0x39f18f),_0x44a8f6={'weekday':_0xe4d5eb(0x324),'day':_0xe4d5eb(0x215),'month':_0xe4d5eb(0x324),'year':'numeric'},_0xb89fa6=_0x2ee2b1[_0xe4d5eb(0x2e8)](_0xe4d5eb(0x289),_0x44a8f6);document['getElementById'](_0xe4d5eb(0x2cf))[_0xe4d5eb(0x2ff)]=_0xb89fa6[_0xe4d5eb(0x1e5)](0x0)[_0xe4d5eb(0x304)]()+_0xb89fa6[_0xe4d5eb(0x2db)](0x1);let _0x41b1de=_0x2ee2b1[_0xe4d5eb(0x2c1)]()-0x1;if(_0x41b1de===-0x1)_0x41b1de=0x6;const _0x36cc7e=availabilityPattern[_0x41b1de]||[],_0x20d1c7=0x18-_0x36cc7e[_0xe4d5eb(0x2af)],_0x4aa251=_0x20d1c7*0x3c,_0x3961dc=sessions[_0xe4d5eb(0x343)](_0x1906e8=>_0x1906e8[_0xe4d5eb(0x2ae)]===_0x39f18f&&_0x1906e8[_0xe4d5eb(0x242)]!==_0xe4d5eb(0x24c));let _0x28703c=_0x3961dc[_0xe4d5eb(0x31d)](_0x5b1aa1=>{const _0x3d8300=_0xe4d5eb,[_0x55e250,_0xb113d2]=_0x5b1aa1['start']['split'](':')[_0x3d8300(0x31d)](Number),[_0x40b700,_0x32cdb5]=_0x5b1aa1[_0x3d8300(0x2bb)]['split'](':')[_0x3d8300(0x31d)](Number);return[_0x55e250*0x3c+_0xb113d2,_0x40b700*0x3c+_0x32cdb5];});_0x28703c[_0xe4d5eb(0x233)]((_0xd86ad1,_0x23fb6a)=>_0xd86ad1[0x0]-_0x23fb6a[0x0]);let _0x35c1ca=[];if(_0x28703c[_0xe4d5eb(0x2af)]>0x0){let _0x2bc023=_0x28703c[0x0];for(let _0x2baead=0x1;_0x2baead<_0x28703c[_0xe4d5eb(0x2af)];_0x2baead++){_0x28703c[_0x2baead][0x0]<_0x2bc023[0x1]?_0x2bc023[0x1]=Math['max'](_0x2bc023[0x1],_0x28703c[_0x2baead][0x1]):(_0x35c1ca[_0xe4d5eb(0x244)](_0x2bc023),_0x2bc023=_0x28703c[_0x2baead]);}_0x35c1ca[_0xe4d5eb(0x244)](_0x2bc023);}let _0x1fa373=0x0;_0x35c1ca[_0xe4d5eb(0x213)](_0x3903ef=>_0x1fa373+=_0x3903ef[0x1]-_0x3903ef[0x0]),document[_0xe4d5eb(0x2e1)](_0xe4d5eb(0x2a2))['textContent']=formatMinsToHrs(_0x4aa251),document[_0xe4d5eb(0x2e1)]('doBusyHours')['textContent']=formatMinsToHrs(_0x1fa373);const _0x380d07=_0x4aa251>0x0?Math[_0xe4d5eb(0x203)](_0x1fa373/_0x4aa251*0x64):0x0,_0x5c54d0=document[_0xe4d5eb(0x2e1)]('doLoadPercent');_0x5c54d0[_0xe4d5eb(0x2ff)]=_0x380d07+'%';const _0x367174=document['getElementById'](_0xe4d5eb(0x2a7));if(_0x380d07>0x64)_0x5c54d0[_0xe4d5eb(0x1fd)]['color']=_0xe4d5eb(0x2f9),_0x367174[_0xe4d5eb(0x1fd)][_0xe4d5eb(0x22e)]=_0xe4d5eb(0x1e2);else _0x380d07>0x50?(_0x5c54d0[_0xe4d5eb(0x1fd)]['color']=_0xe4d5eb(0x262),_0x367174[_0xe4d5eb(0x1fd)][_0xe4d5eb(0x22e)]='rgba(255,\x20159,\x2010,\x200.3)'):(_0x5c54d0[_0xe4d5eb(0x1fd)][_0xe4d5eb(0x2d0)]=_0xe4d5eb(0x33d),_0x367174[_0xe4d5eb(0x1fd)][_0xe4d5eb(0x22e)]='rgba(255,255,255,0.05)');const _0x1b4e6e=document[_0xe4d5eb(0x2e1)](_0xe4d5eb(0x1e6));_0x1b4e6e[_0xe4d5eb(0x32e)]='';_0x3961dc[_0xe4d5eb(0x2af)]===0x0?_0x1b4e6e[_0xe4d5eb(0x32e)]=_0xe4d5eb(0x2a3):(_0x3961dc[_0xe4d5eb(0x233)]((_0x3f982d,_0x918de5)=>_0x3f982d[_0xe4d5eb(0x2a1)][_0xe4d5eb(0x2cd)](_0x918de5['start'])),_0x3961dc[_0xe4d5eb(0x213)](_0x474597=>{const _0xcb84e0=_0xe4d5eb,_0x1050a8=clients[_0xcb84e0(0x317)](_0x1a3e30=>_0x1a3e30['name']===_0x474597[_0xcb84e0(0x264)]),_0x1d46fc=_0x1050a8?_0x1050a8[_0xcb84e0(0x2d0)]:_0xcb84e0(0x1f9),_0x373c16=_0x474597[_0xcb84e0(0x242)]===_0xcb84e0(0x211),_0x993007=_0x373c16?'<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>':'',_0x437dcf=document[_0xcb84e0(0x26c)](_0xcb84e0(0x30d));_0x437dcf[_0xcb84e0(0x2cc)]=_0xcb84e0(0x2bc),_0x437dcf[_0xcb84e0(0x1fd)][_0xcb84e0(0x340)]=_0x1d46fc,_0x437dcf['innerHTML']=_0xcb84e0(0x308)+_0x474597[_0xcb84e0(0x2a1)]+_0xcb84e0(0x274)+_0x474597[_0xcb84e0(0x2bb)]+_0xcb84e0(0x21f)+_0x474597[_0xcb84e0(0x264)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x993007+_0xcb84e0(0x221),_0x1b4e6e[_0xcb84e0(0x333)](_0x437dcf);}));const _0x188a75=document[_0xe4d5eb(0x2e1)](_0xe4d5eb(0x335)),_0x1e56a8=dateExceptions[_0x39f18f]===_0xe4d5eb(0x28f);_0x1e56a8?(_0x188a75[_0xe4d5eb(0x2ff)]='–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º',_0x188a75[_0xe4d5eb(0x2cc)]=_0xe4d5eb(0x206),_0x188a75[_0xe4d5eb(0x1fd)][_0xe4d5eb(0x2d0)]='var(--acc-green)',_0x188a75['style'][_0xe4d5eb(0x270)]=_0xe4d5eb(0x225)):(_0x188a75['textContent']=_0xe4d5eb(0x1dc),_0x188a75['className']=_0xe4d5eb(0x30e),_0x188a75['style'][_0xe4d5eb(0x2d0)]=_0xe4d5eb(0x2f9),_0x188a75[_0xe4d5eb(0x1fd)]['background']=_0xe4d5eb(0x2d8)),openSheet(_0xe4d5eb(0x26f));}let currentAnPeriod='week';function openAnalytics(){const _0x540a3c=a2_0xbba92a,_0x2c2287=document[_0x540a3c(0x1e0)](_0x540a3c(0x330));setAnalyticsPeriod(_0x540a3c(0x33a),_0x2c2287),closeAllSheets(),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x507a5b,_0x40c5e1){const _0x348ba3=a2_0xbba92a;currentAnPeriod=_0x507a5b,document['querySelectorAll'](_0x348ba3(0x330))[_0x348ba3(0x213)](_0x1b1cbf=>_0x1b1cbf[_0x348ba3(0x327)][_0x348ba3(0x1e9)]('active'));if(_0x40c5e1)_0x40c5e1[_0x348ba3(0x327)]['add'](_0x348ba3(0x284));const _0x52583a=document[_0x348ba3(0x2e1)](_0x348ba3(0x309));_0x52583a[_0x348ba3(0x1fd)][_0x348ba3(0x2ad)]=_0x507a5b===_0x348ba3(0x302)?_0x348ba3(0x273):_0x348ba3(0x2c2);const _0x5b24c0=new Date();let _0x428d58=new Date(),_0x18e832=new Date();if(_0x507a5b===_0x348ba3(0x33a))_0x428d58=getStartOfWeek(_0x5b24c0),_0x18e832=new Date(_0x428d58),_0x18e832[_0x348ba3(0x2f0)](_0x18e832[_0x348ba3(0x331)]()+0x6);else{if(_0x507a5b===_0x348ba3(0x2ac))_0x428d58=new Date(_0x5b24c0[_0x348ba3(0x257)](),_0x5b24c0['getMonth'](),0x1),_0x18e832=new Date(_0x5b24c0[_0x348ba3(0x257)](),_0x5b24c0[_0x348ba3(0x238)]()+0x1,0x0);else{!document[_0x348ba3(0x2e1)](_0x348ba3(0x1ee))['value']&&(document[_0x348ba3(0x2e1)](_0x348ba3(0x1ee))[_0x348ba3(0x2f2)]=getLocalDateStr(_0x5b24c0),document[_0x348ba3(0x2e1)](_0x348ba3(0x1fb))[_0x348ba3(0x2f2)]=getLocalDateStr(_0x5b24c0));refreshAnalytics();return;}}document['getElementById'](_0x348ba3(0x1ee))[_0x348ba3(0x2f2)]=getLocalDateStr(_0x428d58),document[_0x348ba3(0x2e1)](_0x348ba3(0x1fb))[_0x348ba3(0x2f2)]=getLocalDateStr(_0x18e832),refreshAnalytics();}function refreshAnalytics(){const _0x1f6ba5=a2_0xbba92a,_0x3625fe=document[_0x1f6ba5(0x2e1)](_0x1f6ba5(0x1ee))[_0x1f6ba5(0x2f2)],_0x3a24a8=document[_0x1f6ba5(0x2e1)](_0x1f6ba5(0x1fb))['value'];if(!_0x3625fe||!_0x3a24a8)return;const _0x1c076e=sessions[_0x1f6ba5(0x343)](_0x2e5597=>_0x2e5597[_0x1f6ba5(0x2ae)]>=_0x3625fe&&_0x2e5597[_0x1f6ba5(0x2ae)]<=_0x3a24a8&&_0x2e5597[_0x1f6ba5(0x242)]!==_0x1f6ba5(0x24c)),_0x323048=_0x1c076e['length'],_0x45b4b4=_0x1c076e[_0x1f6ba5(0x343)](_0x5e47c8=>_0x5e47c8['status']===_0x1f6ba5(0x211))[_0x1f6ba5(0x2af)],_0x19bc90=_0x323048>0x0?Math['round'](_0x45b4b4/_0x323048*0x64):0x0;document[_0x1f6ba5(0x2e1)](_0x1f6ba5(0x2f4))[_0x1f6ba5(0x2ff)]=_0x19bc90+'%',document[_0x1f6ba5(0x2e1)](_0x1f6ba5(0x237))['textContent']=_0x45b4b4+_0x1f6ba5(0x27a)+_0x323048+'\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ';const _0x50f4e2=document[_0x1f6ba5(0x2e1)](_0x1f6ba5(0x319)),_0x577aad=0x2*Math['PI']*0x23,_0x40fb91=_0x577aad-_0x19bc90/0x64*_0x577aad;_0x50f4e2[_0x1f6ba5(0x1fd)]['strokeDashoffset']=_0x40fb91;const _0x18d28e={};_0x1c076e[_0x1f6ba5(0x213)](_0x3fc179=>{const _0x4ac053=_0x1f6ba5;if(!_0x18d28e[_0x3fc179[_0x4ac053(0x264)]]){const _0x1bcbb6=clients[_0x4ac053(0x317)](_0x56cdbc=>_0x56cdbc[_0x4ac053(0x27e)]===_0x3fc179[_0x4ac053(0x264)]);_0x18d28e[_0x3fc179['client']]={'total':0x0,'done':0x0,'color':_0x1bcbb6?_0x1bcbb6['color']:_0x4ac053(0x1f9)};}_0x18d28e[_0x3fc179[_0x4ac053(0x264)]][_0x4ac053(0x283)]++;if(_0x3fc179[_0x4ac053(0x242)]===_0x4ac053(0x211))_0x18d28e[_0x3fc179[_0x4ac053(0x264)]][_0x4ac053(0x29c)]++;});const _0x278a7a=document['getElementById'](_0x1f6ba5(0x2fe));_0x278a7a[_0x1f6ba5(0x32e)]='';const _0x33dba2=Object['entries'](_0x18d28e)[_0x1f6ba5(0x233)]((_0x29ac55,_0x30de87)=>_0x30de87[0x1][_0x1f6ba5(0x283)]-_0x29ac55[0x1]['total']);if(_0x33dba2['length']===0x0){_0x278a7a[_0x1f6ba5(0x32e)]=_0x1f6ba5(0x252);return;}_0x33dba2[_0x1f6ba5(0x213)](([_0xee3e4f,_0x55a091])=>{const _0x15349b=_0x1f6ba5,_0x46853e=Math[_0x15349b(0x203)](_0x55a091[_0x15349b(0x29c)]/_0x55a091[_0x15349b(0x283)]*0x64),_0x429874=document[_0x15349b(0x26c)]('div');_0x429874[_0x15349b(0x2cc)]=_0x15349b(0x266),_0x429874['style'][_0x15349b(0x340)]=_0x55a091[_0x15349b(0x2d0)],_0x429874[_0x15349b(0x32e)]=_0x15349b(0x226)+_0xee3e4f+_0x15349b(0x33e)+_0x55a091[_0x15349b(0x29c)]+_0x15349b(0x1ff)+_0x55a091['total']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x46853e+_0x15349b(0x346),_0x278a7a[_0x15349b(0x333)](_0x429874);});}function formatMinsToHrs(_0x1b0157){const _0x4272ad=a2_0xbba92a;if(_0x1b0157===0x0)return'0';const _0x2c107d=Math[_0x4272ad(0x34c)](_0x1b0157/0x3c),_0x15d88b=_0x1b0157%0x3c;if(_0x15d88b===0x0)return _0x2c107d+'—á';return _0x2c107d+'—á\x20'+_0x15d88b+'–º';}