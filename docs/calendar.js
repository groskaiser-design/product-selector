const a2_0x131be2=a2_0x4b34;(function(_0xe7da20,_0x44b521){const _0x519604=a2_0x4b34,_0x18789f=_0xe7da20();while(!![]){try{const _0x5b1acb=-parseInt(_0x519604(0xe7))/0x1*(parseInt(_0x519604(0x1b7))/0x2)+-parseInt(_0x519604(0x16e))/0x3*(-parseInt(_0x519604(0x1bd))/0x4)+parseInt(_0x519604(0x104))/0x5*(-parseInt(_0x519604(0x220))/0x6)+parseInt(_0x519604(0x1c6))/0x7*(parseInt(_0x519604(0x1f1))/0x8)+-parseInt(_0x519604(0xcc))/0x9*(parseInt(_0x519604(0x126))/0xa)+-parseInt(_0x519604(0xd1))/0xb+parseInt(_0x519604(0x187))/0xc*(parseInt(_0x519604(0x1f0))/0xd);if(_0x5b1acb===_0x44b521)break;else _0x18789f['push'](_0x18789f['shift']());}catch(_0x140c4a){_0x18789f['push'](_0x18789f['shift']());}}}(a2_0x193d,0x2ef4b),function initTMA(){const _0x525cd2=a2_0x4b34,_0x115c8d=(function(){let _0x4a2873=!![];return function(_0x38abb9,_0x4eac43){const _0x4fd9bb=_0x4a2873?function(){const _0x3f4d85=a2_0x4b34;if(_0x4eac43){const _0x22bfe5=_0x4eac43[_0x3f4d85(0x20a)](_0x38abb9,arguments);return _0x4eac43=null,_0x22bfe5;}}:function(){};return _0x4a2873=![],_0x4fd9bb;};}()),_0x4fff4d=_0x115c8d(this,function(){const _0x571adf=a2_0x4b34;return _0x4fff4d['toString']()[_0x571adf(0x1ef)](_0x571adf(0x201))[_0x571adf(0xe4)]()[_0x571adf(0x14d)](_0x4fff4d)['search'](_0x571adf(0x201));});_0x4fff4d();try{const _0x59a641=window[_0x525cd2(0xb9)]?.[_0x525cd2(0x172)];if(!_0x59a641)return;_0x59a641[_0x525cd2(0x17d)](),_0x59a641[_0x525cd2(0x125)]();try{_0x59a641['setHeaderColor'](_0x525cd2(0x102)),_0x59a641[_0x525cd2(0x114)]&&_0x59a641['setBackgroundColor'](_0x525cd2(0x102));}catch(_0x245a18){console[_0x525cd2(0x19d)]('Error\x20setting\x20color:',_0x245a18);}try{_0x59a641[_0x525cd2(0x1a8)]&&(_0x59a641['BackButton'][_0x525cd2(0x20d)](),_0x59a641[_0x525cd2(0x1a8)][_0x525cd2(0x101)](),_0x59a641['BackButton'][_0x525cd2(0x171)](function(){const _0x39788a=_0x525cd2;window[_0x39788a(0x1c2)][_0x39788a(0x145)]=_0x39788a(0x1fb);}));}catch(_0x22eb47){console[_0x525cd2(0x19d)](_0x525cd2(0x100),_0x22eb47);}try{if(_0x59a641[_0x525cd2(0xc9)])_0x59a641['disableVerticalSwipes']();}catch(_0x34fb8d){}}catch(_0x329ab9){console['error'](_0x525cd2(0xc6),_0x329ab9);}}());function isAdmin(){const _0x26627a=a2_0x4b34;try{const _0x126128=Number(window['Telegram']?.[_0x26627a(0x172)]?.['initDataUnsafe']?.['user']?.['id']);return _0x126128===0xbaf7174;}catch(_0x257e6f){return![];}}const APP_VERSION=a2_0x131be2(0xb8),API_URL=a2_0x131be2(0x13f),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x131be2(0x103),KEY_SESSIONS='uc_sessions_v9',KEY_SETTINGS=a2_0x131be2(0x1c3);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;function a2_0x193d(){const _0x3d2aac=['floor','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','all','toLocaleString','doBusyHours','href','mergeServerData','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','save_settings','offsetLeft','startsWith','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','borderLeftColor','constructor','cancel_window','padStart','analyticsSheet','settings','name','toUpperCase','toast-notification\x20','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','sheetDateSubtitle','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','blocked-range-part\x20stripe-bg','insertBefore','setHours','parse','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','var(--acc-orange)','doEventsList','getHours','[Notify]\x20Network\x20Failed','toLocaleDateString','send','init_load','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','settingCancelWindow','Batch\x20Sync\x20OK','inpEnd','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','entries','anTotalStats','getMinutes','\x20–∏–∑\x20','1014414bPOLmz','as-button\x20danger\x20bold','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','onClick','WebApp','createDocumentFragment','settingsSheet','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','23:59','patternInfoBox','create','min','dateStr','analyticsList','ready','planned','toast','target','initDataUnsafe','rangeEndTime','localeCompare','block','innerHTML','error','449940DQNkOy','btn-primary\x20btn-danger','end','ranges','getElementById','setAttribute','gridColumns','clients','.sheet','json','#fff','includes','inpSeriesCount','rgba(255,\x2069,\x2058,\x200.15)','<div\x20class=\x22ev-title\x22>','inpRecurring','top','Unknown','recurringOptionContainer','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','mouseup',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','log','value','deleted','[Notify]\x20Detected\x20Client\x20ID:','setMonth','uc_settings_cancel_window','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','rgba(255,\x2069,\x2058,\x200.3)','loadLocal','seriesId','textContent','BackButton','stringify','keys','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','anStart','var(--acc-current)','data-date','\x20days','inpClient','delete','length','text','user','calc(','long','9394NwEKAD','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','getDate','</b>\x0a\x0a','var(--acc-green)','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','4QFwNng','find','\x20‚Äî\x20','getFullYear','blocked-slot\x20stripe-bg','location','uc_settings_v9','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','formatDate','7ierXaM','appendChild','off','borderColor','note','week','rangeStartTime','header-','.event-card','\x20status-completed','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','setItem','batch_sync','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','backgroundPosition','forEach','catch','getTime','push','asBtnSeries','pe-cell\x20','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','sid','.day-col-header','event-card','update',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','btnDayToggle','inpStart','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','calendar','peGrid','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','doLoadPercent','strokeDashoffset','numeric','T23:59:59','warning','touchstart','search','130RRIDPd','742936MVkSbN','onclick','day-col-header\x20','then','[Notify]\x20Error:\x20Text\x20generation\x20failed','#gridColumns\x20.day-column','cancelled','100%','done','save','router.html',':00</span>','[Notify]\x20Client\x20SWAP\x20detected','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','.dch-stats-fill','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','(((.+)+)+)+$','getMonth','complete','left','.pib-text','timeLineBadge','anPercent','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','custom','apply','status','split','show','Server\x20Error','getText','remove','10px','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','touchend','pe-time-label','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','round','rangesSheet','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','start','querySelector','rgba(48,\x20209,\x2088,\x200.15)','exceptions','send_notification','querySelectorAll','6JgzuYu','sessionSheet','px\x200px','doWorkHours','inpDate','setDate','px\x20-','pattern','map','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','asBtnOne','backgroundColor','inpNote','as-button\x20danger','rangeEndDate','charAt','globalTimeLine','height','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','width','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','classList','cancel','today','de-item','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','getItem','var(--acc-red)','substr','stopPropagation','max','v9.0-BATCH-CALENDAR','Telegram','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','Save\x20settings\x20error:','background','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','text/plain;charset=UTF-8','none','10px\x2010px\x200\x200','sort','isArray','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','msg','seriesCountContainer','Critical\x20TMA\x20Error:','–ò–Ω—Ñ–æ','rgba(255,\x20159,\x2010,\x200.3)','disableVerticalSwipes','getBoundingClientRect','</div><div\x20class=\x22ev-time\x22>','175419OWgEnL','range-item','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','findIndex','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','1675938HwLjmD','anCustomDates','btnDelete','</div><div\x20class=\x22dch-num\x22>','active','flex','\x20-\x20','color','mini','div','touchmove',':00','guest','data','clientWidth','now','–£—Å–ø–µ—à–Ω–æ','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','toString','createElement','scroll','10ddEikt','btnStatusToggle','filter','ru-RU','warn','closest','DOMContentLoaded','Local\x20Load\x20Error','data-day-idx','btn-status-toggle\x20undo-mode','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','total','dayOptionsTitle','toFixed','.day-off-overlay','<span>','[Notify]\x20Error:\x20sessionData\x20is\x20null','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','–£–¥–∞–ª–µ–Ω–∏–µ','<div\x20class=\x22dch-day\x22>','doDateHeader','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','style','initData','display','Error\x20setting\x20back\x20button:','offClick','#050505','uc_clients_v9','1584205aIsimJ','rangeStartDate','slice','checked','headerMonth','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','touches','sheetTitle','day-off-overlay\x20stripe-bg','single','POST','offsetWidth','#0a84ff','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','open','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','setBackgroundColor','getAttribute','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','indexOf','clientId',':\x20Client\x20already\x20booked','...','className','scrollWidth','patternEditor','splice','clientY','client','dayOptionsSheet','colIndex','asTitle','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','expand','50RPSJeK','timeColumn','scrollLeft','anDonutCircle','fetchFromServer','series','borderRadius','undefined','day-column\x20','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','completed','anEnd','from','matrixViewport','.period-switch\x20.p-btn','add','saveLocally','valid','addEventListener','syncLoad','getDay','actionSheet','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','rangesList','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec'];a2_0x193d=function(){return _0x3d2aac;};return a2_0x193d();}const DataManager={'getUserId'(){const _0x46903c=a2_0x131be2;return window[_0x46903c(0xb9)]?.['WebApp']?.[_0x46903c(0x181)]?.[_0x46903c(0x1b4)]?.['id']||_0x46903c(0xdd);},'saveLocally'(){const _0x15c286=a2_0x131be2;try{localStorage[_0x15c286(0x1d2)](KEY_CLIENTS,JSON[_0x15c286(0x1a9)](clients)),localStorage[_0x15c286(0x1d2)](KEY_SESSIONS,JSON['stringify'](sessions)),localStorage[_0x15c286(0x1d2)](KEY_SETTINGS,JSON[_0x15c286(0x1a9)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x9007f0){console[_0x15c286(0x186)]('Local\x20Save\x20Error',_0x9007f0);}},'loadLocal'(){const _0x2d44a9=a2_0x131be2;try{const _0x19e4de=localStorage[_0x2d44a9(0xb3)](KEY_CLIENTS);if(_0x19e4de)clients=JSON['parse'](_0x19e4de);const _0x2cedda=localStorage[_0x2d44a9(0xb3)](KEY_SESSIONS);if(_0x2cedda)sessions=JSON[_0x2d44a9(0x15b)](_0x2cedda);const _0x4888a2=localStorage['getItem'](KEY_SETTINGS);if(_0x4888a2){const _0xd7bd12=JSON[_0x2d44a9(0x15b)](_0x4888a2);if(_0xd7bd12[_0x2d44a9(0x227)])availabilityPattern=_0xd7bd12['pattern'];if(_0xd7bd12['exceptions'])dateExceptions=_0xd7bd12['exceptions'];if(_0xd7bd12['ranges'])specialRanges=_0xd7bd12[_0x2d44a9(0x18a)];}else{for(let _0x147439=0x0;_0x147439<0x7;_0x147439++)availabilityPattern[_0x147439]=Array[_0x2d44a9(0x132)]({'length':0xc},(_0x59f2b4,_0x15886a)=>_0x15886a+0x9);}}catch(_0x15e61b){console[_0x2d44a9(0x186)](_0x2d44a9(0xee),_0x15e61b);}},async 'fetchFromServer'(_0x46deb8,_0x3157ee={}){const _0x307923=a2_0x131be2,_0x58c688=window['Telegram']?.[_0x307923(0x172)],_0x1c9971={'action':_0x46deb8,'init_data':_0x58c688?.[_0x307923(0xfe)]||'',..._0x3157ee};try{const _0x534753=await fetch(API_URL,{'method':_0x307923(0x10e),'headers':{'Content-Type':_0x307923(0xbe)},'body':JSON['stringify'](_0x1c9971)}),_0x3ade5c=await _0x534753[_0x307923(0x190)]();if(!_0x3ade5c['ok'])throw new Error(_0x3ade5c['error']||_0x307923(0x20e));return _0x3ade5c[_0x307923(0xde)];}catch(_0xdd9bfb){console[_0x307923(0x186)]('[API\x20'+_0x46deb8+']\x20Failed:',_0xdd9bfb);throw _0xdd9bfb;}},async 'syncLoad'(){const _0x199234=a2_0x131be2,_0x2b8572=new Date(),_0x26eea5=_0x2b8572[_0x199234(0x1c0)]()+'-'+String(_0x2b8572[_0x199234(0x202)]()+0x1)['padStart'](0x2,'0'),_0x389123=new Date(_0x2b8572);_0x389123[_0x199234(0x1a1)](_0x2b8572[_0x199234(0x202)]()+0x1);const _0x57834c=_0x389123['getFullYear']()+'-'+String(_0x389123['getMonth']()+0x1)[_0x199234(0x14f)](0x2,'0'),_0x279d43=Date[_0x199234(0xe0)]();console[_0x199234(0x19d)]('[Sync]\x20Loading\x20'+_0x26eea5+',\x20'+_0x57834c+_0x199234(0x11a));try{const [_0x324d38,_0x5c683a]=await Promise[_0x199234(0x142)]([this[_0x199234(0x12a)](_0x199234(0x163),{'month_str':_0x26eea5}),this[_0x199234(0x12a)](_0x199234(0x163),{'month_str':_0x57834c})]);if(lastUserActionTime>_0x279d43)return console[_0x199234(0xeb)]('[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response'),![];return this['mergeServerData'](_0x324d38,_0x26eea5),this[_0x199234(0x146)](_0x5c683a,_0x57834c),this[_0x199234(0x136)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x54b482){console[_0x199234(0x186)](_0x54b482);throw _0x54b482;}},'mergeServerData'(_0x2eae45,_0x49a2e7){const _0x44abfd=a2_0x131be2;if(!_0x2eae45)return;_0x2eae45[_0x44abfd(0x18e)]&&Array[_0x44abfd(0xc2)](_0x2eae45[_0x44abfd(0x18e)])&&(clients=_0x2eae45[_0x44abfd(0x18e)]);if(_0x2eae45[_0x44abfd(0x151)]){if(_0x2eae45['settings'][_0x44abfd(0x227)])availabilityPattern=_0x2eae45['settings'][_0x44abfd(0x227)];if(_0x2eae45[_0x44abfd(0x151)][_0x44abfd(0x21d)])dateExceptions=_0x2eae45[_0x44abfd(0x151)][_0x44abfd(0x21d)];if(_0x2eae45['settings'][_0x44abfd(0x18a)])specialRanges=_0x2eae45[_0x44abfd(0x151)]['ranges'];if(_0x2eae45[_0x44abfd(0x151)][_0x44abfd(0x14e)]){localStorage[_0x44abfd(0x1d2)]('uc_settings_cancel_window',_0x2eae45[_0x44abfd(0x151)][_0x44abfd(0x14e)]);const _0x1586c4=document[_0x44abfd(0x18b)](_0x44abfd(0x165));if(_0x1586c4)_0x1586c4[_0x44abfd(0x19e)]=_0x2eae45[_0x44abfd(0x151)][_0x44abfd(0x14e)];}}_0x2eae45[_0x44abfd(0x1e6)]&&(sessions=sessions[_0x44abfd(0xe9)](_0x31a92b=>!_0x31a92b[_0x44abfd(0x17b)][_0x44abfd(0x14a)](_0x49a2e7)),Object[_0x44abfd(0x1aa)](_0x2eae45[_0x44abfd(0x1e6)])['forEach'](_0x585659=>{const _0x181061=_0x44abfd,_0x274ec9=_0x2eae45[_0x181061(0x1e6)][_0x585659];_0x274ec9[_0x181061(0x1d7)](_0x51b7a6=>{const _0x2680c9=_0x181061,_0x4e29a3=clients[_0x2680c9(0x1be)](_0x1dd6bc=>String(_0x1dd6bc['id'])===String(_0x51b7a6['c']));sessions[_0x2680c9(0x1da)]({'id':_0x51b7a6['i'],'clientId':_0x51b7a6['c'],'client':_0x4e29a3?_0x4e29a3[_0x2680c9(0x152)]:_0x2680c9(0x198),'dateStr':_0x49a2e7+'-'+_0x585659[_0x2680c9(0x14f)](0x2,'0'),'start':_0x51b7a6['s'],'end':_0x51b7a6['e'],'status':_0x51b7a6['st']||_0x2680c9(0x17e),'note':_0x51b7a6['n']||'','seriesId':_0x51b7a6[_0x2680c9(0x1de)]||null});});}));},async 'syncBatch'(_0x1171f1){const _0x4eb432=a2_0x131be2,_0x147993=[...new Set(_0x1171f1)],_0x3d2f51=_0x147993[_0x4eb432(0x228)](_0x4ef7b1=>{const _0xfa0373=_0x4eb432,_0x5951f0=sessions[_0xfa0373(0xe9)](_0x3f6a91=>_0x3f6a91[_0xfa0373(0x17b)]===_0x4ef7b1&&_0x3f6a91[_0xfa0373(0x20b)]!==_0xfa0373(0x19f)),_0x5d1d57=_0x5951f0[_0xfa0373(0x228)](_0x5a2ba0=>({'i':_0x5a2ba0['id'],'c':_0x5a2ba0['clientId'],'s':_0x5a2ba0['start'],'e':_0x5a2ba0[_0xfa0373(0x189)],'st':_0x5a2ba0[_0xfa0373(0x20b)],'n':_0x5a2ba0[_0xfa0373(0x1ca)],'sid':_0x5a2ba0[_0xfa0373(0x1a6)]}));return{'date':_0x4ef7b1,'day_data':_0x5d1d57};});if(_0x3d2f51['length']===0x0)return;console[_0x4eb432(0x19d)](_0x4eb432(0x176)+_0x3d2f51['length']+_0x4eb432(0x1af)),await this[_0x4eb432(0x12a)](_0x4eb432(0x1d3),{'changes':_0x3d2f51});}};async function init(){const _0x1a2bb7=a2_0x131be2;DataManager[_0x1a2bb7(0x1a5)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x1a2bb7(0x18b)](_0x1a2bb7(0x133))['addEventListener'](_0x1a2bb7(0xe6),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x1a2bb7(0x139)]()[_0x1a2bb7(0x1f4)](()=>{const _0xd59a90=_0x1a2bb7;showToast(_0xd59a90(0x208),!![]);})[_0x1a2bb7(0x1d8)](_0x8fdd11=>{const _0x5cb639=_0x1a2bb7;showToast(_0x5cb639(0x14b),![]);});}function generateId(){const _0x28fa50=a2_0x131be2;return Date[_0x28fa50(0xe0)]()[_0x28fa50(0xe4)](0x24)+Math['random']()[_0x28fa50(0xe4)](0x24)[_0x28fa50(0xb5)](0x2,0x5);}function toggleSeriesInput(){const _0x2d3c19=a2_0x131be2,_0xefc779=document[_0x2d3c19(0x18b)]('inpRecurring')['checked'],_0x44f37d=document['getElementById'](_0x2d3c19(0xc5));_0x44f37d[_0x2d3c19(0xfd)][_0x2d3c19(0xff)]=_0xefc779?_0x2d3c19(0x184):_0x2d3c19(0xbf);const _0x582713=document[_0x2d3c19(0x18b)]('recurringOptionContainer');_0x582713[_0x2d3c19(0xfd)]['borderRadius']=_0xefc779?_0x2d3c19(0xc0):'10px';}function openAddSession(_0x1da13f){const _0x1126f7=a2_0x131be2;editingId=null,populateClientSelect(),document[_0x1126f7(0x18b)]('sheetTitle')[_0x1126f7(0x1a7)]='–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å',document[_0x1126f7(0x18b)]('btnDelete')['style'][_0x1126f7(0xff)]=_0x1126f7(0xbf),document['getElementById'](_0x1126f7(0xe8))[_0x1126f7(0xfd)][_0x1126f7(0xff)]='none';const _0x3f7422=document['getElementById']('recurringOptionContainer'),_0x63ef1f=document[_0x1126f7(0x18b)]('seriesCountContainer');_0x3f7422['style'][_0x1126f7(0xff)]=_0x1126f7(0xd6),_0x3f7422['style'][_0x1126f7(0x12c)]=_0x1126f7(0x211),document[_0x1126f7(0x18b)]('inpRecurring')[_0x1126f7(0x107)]=![],document['getElementById'](_0x1126f7(0x193))['value']=0x4,_0x63ef1f[_0x1126f7(0xfd)][_0x1126f7(0xff)]=_0x1126f7(0xbf),document[_0x1126f7(0x18b)]('inpDate')[_0x1126f7(0x19e)]=getLocalDateStr(_0x1da13f),updateDateDisplay();const _0x24653a=_0x1da13f[_0x1126f7(0x15f)]();document[_0x1126f7(0x18b)](_0x1126f7(0x1e4))['value']=String(_0x24653a)[_0x1126f7(0x14f)](0x2,'0')+_0x1126f7(0xdc),document[_0x1126f7(0x18b)](_0x1126f7(0x167))[_0x1126f7(0x19e)]=String(_0x24653a+0x1)[_0x1126f7(0x14f)](0x2,'0')+_0x1126f7(0xdc),openSheet(_0x1126f7(0x221));}function openEdit(_0x2bba37){const _0x5e225d=a2_0x131be2;editingId=_0x2bba37['id'],populateClientSelect(),document[_0x5e225d(0x18b)](_0x5e225d(0x10b))[_0x5e225d(0x1a7)]='–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å',document[_0x5e225d(0x18b)](_0x5e225d(0xd3))['style']['display']='block';const _0x58c963=document[_0x5e225d(0x18b)]('btnStatusToggle');_0x58c963[_0x5e225d(0xfd)]['display']=_0x5e225d(0xd6);_0x2bba37['status']===_0x5e225d(0x130)?(_0x58c963[_0x5e225d(0x11b)]=_0x5e225d(0xf0),_0x58c963[_0x5e225d(0x185)]=_0x5e225d(0x111)):(_0x58c963['className']='btn-status-toggle',_0x58c963['innerHTML']=_0x5e225d(0x124));const _0x84edad=!!_0x2bba37['seriesId'];document[_0x5e225d(0x18b)](_0x5e225d(0x199))['style'][_0x5e225d(0xff)]=_0x5e225d(0xbf),document['getElementById'](_0x5e225d(0xc5))[_0x5e225d(0xfd)]['display']=_0x5e225d(0xbf),_0x84edad?(document[_0x5e225d(0x18b)](_0x5e225d(0x178))[_0x5e225d(0xfd)][_0x5e225d(0xff)]=_0x5e225d(0xd6),document[_0x5e225d(0x18b)](_0x5e225d(0x178))['querySelector'](_0x5e225d(0x205))[_0x5e225d(0x1a7)]=_0x5e225d(0x1fe)):document['getElementById'](_0x5e225d(0x178))['style'][_0x5e225d(0xff)]=_0x5e225d(0xbf),document[_0x5e225d(0x18b)](_0x5e225d(0x1b0))[_0x5e225d(0x19e)]=_0x2bba37['client'],document[_0x5e225d(0x18b)](_0x5e225d(0x224))[_0x5e225d(0x19e)]=_0x2bba37['dateStr'],document[_0x5e225d(0x18b)]('inpStart')[_0x5e225d(0x19e)]=_0x2bba37['start'],document[_0x5e225d(0x18b)](_0x5e225d(0x167))[_0x5e225d(0x19e)]=_0x2bba37[_0x5e225d(0x189)],document[_0x5e225d(0x18b)]('inpNote')['value']=_0x2bba37['note']||'',updateDateDisplay(),openSheet('sessionSheet');}async function trySaveSession(){const _0x36a8fb=a2_0x131be2,_0x98d1f5=document['getElementById'](_0x36a8fb(0x1b0))['value'],_0x99b1f9=document['getElementById'](_0x36a8fb(0x224))[_0x36a8fb(0x19e)],_0x4aa34d=document[_0x36a8fb(0x18b)]('inpStart')[_0x36a8fb(0x19e)],_0x2cca23=document['getElementById'](_0x36a8fb(0x167))['value'],_0x530c14=document['getElementById'](_0x36a8fb(0x22c))['value'],_0x56e414=document[_0x36a8fb(0x18b)](_0x36a8fb(0x196))[_0x36a8fb(0x107)];let _0x32e32f=0x4;if(_0x56e414){const _0x36400e=parseInt(document[_0x36a8fb(0x18b)](_0x36a8fb(0x193))[_0x36a8fb(0x19e)]);if(!_0x36400e||_0x36400e<0x2){showToast(_0x36a8fb(0xb2),![]);return;}if(_0x36400e>0x64){showToast(_0x36a8fb(0x1d1),![]);return;}_0x32e32f=_0x36400e;}const _0x583304=clients['find'](_0x4330ae=>_0x4330ae['name']===_0x98d1f5);if(!_0x583304){showToast(_0x36a8fb(0xba),![]);return;}const _0x4848f0=validateAppointment(_0x99b1f9,_0x4aa34d,_0x2cca23,editingId,_0x583304['id']);if(!_0x4848f0[_0x36a8fb(0x137)]){showToast(_0x4848f0[_0x36a8fb(0xc4)],![]);return;}_0x4848f0[_0x36a8fb(0x1ed)]&&showToast(_0x4848f0['warning'],![]);const _0x1af77d={'client':_0x98d1f5,'clientId':_0x583304['id'],'start':_0x4aa34d,'end':_0x2cca23,'note':_0x530c14,'status':_0x36a8fb(0x17e)},_0x31b47d=editingId?sessions[_0x36a8fb(0x1be)](_0x471e2f=>_0x471e2f['id']===editingId):null;if(_0x31b47d&&_0x31b47d[_0x36a8fb(0x1a6)]){tempSessionData={..._0x1af77d,'dateStr':_0x99b1f9,'id':editingId,'seriesId':_0x31b47d[_0x36a8fb(0x1a6)]},openActionSheet(_0x36a8fb(0x1fa));return;}let _0x29253b=null;if(!editingId)_0x29253b=_0x36a8fb(0x179);else{if(_0x31b47d){if(String(_0x31b47d[_0x36a8fb(0x118)])!==String(_0x583304['id']))console[_0x36a8fb(0x19d)](_0x36a8fb(0x1fd)),NotificationManager[_0x36a8fb(0x162)]('cancel',_0x31b47d),_0x29253b='create';else(_0x31b47d[_0x36a8fb(0x21a)]!==_0x4aa34d||_0x31b47d[_0x36a8fb(0x189)]!==_0x2cca23||_0x31b47d[_0x36a8fb(0x17b)]!==_0x99b1f9)&&(_0x29253b='update');}}if(!editingId&&_0x56e414){createBatchSeries(_0x1af77d,_0x99b1f9,_0x32e32f),NotificationManager[_0x36a8fb(0x162)](_0x36a8fb(0x179),{..._0x1af77d,'dateStr':_0x99b1f9});return;}lastUserActionTime=Date[_0x36a8fb(0xe0)]();const _0x686053={..._0x1af77d,'dateStr':_0x99b1f9,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x686053),_0x29253b&&NotificationManager[_0x36a8fb(0x162)](_0x29253b,_0x686053);}function toggleSessionStatus(){const _0x1eb37f=a2_0x131be2;lastUserActionTime=Date[_0x1eb37f(0xe0)]();const _0x4c2548=sessions[_0x1eb37f(0x1be)](_0x594b68=>_0x594b68['id']===editingId);if(!_0x4c2548)return;const _0x84de97=_0x4c2548[_0x1eb37f(0x20b)]===_0x1eb37f(0x130)?_0x1eb37f(0x17e):_0x1eb37f(0x130);_0x4c2548['status']=_0x84de97,saveSingleSession(_0x4c2548),_0x84de97===_0x1eb37f(0x130)&&NotificationManager[_0x1eb37f(0x162)](_0x1eb37f(0x203),_0x4c2548),showToast(_0x84de97==='completed'?_0x1eb37f(0x1dd):_0x1eb37f(0x212),!![]);}function validateAppointment(_0x53e541,_0x53fc0a,_0x1a66a1,_0x25c90a,_0x28dcba){const _0x3d851b=a2_0x131be2,[_0xdd1793,_0x3d84b5]=_0x53fc0a['split'](':')[_0x3d851b(0x228)](Number),[_0x4cd1cd,_0x4880f3]=_0x1a66a1[_0x3d851b(0x20c)](':')[_0x3d851b(0x228)](Number),_0x541573=_0xdd1793*0x3c+_0x3d84b5,_0x18e9c0=_0x4cd1cd*0x3c+_0x4880f3,_0x2aedf6=String(_0x28dcba);let _0x522eef=![],_0x3e811f='';for(let _0x5c3039 of sessions){if(_0x5c3039[_0x3d851b(0x17b)]!==_0x53e541)continue;if(_0x5c3039[_0x3d851b(0x20b)]==='cancelled')continue;if(_0x25c90a&&String(_0x5c3039['id'])===String(_0x25c90a))continue;const [_0x592d55,_0x4e1f60]=_0x5c3039[_0x3d851b(0x21a)][_0x3d851b(0x20c)](':')[_0x3d851b(0x228)](Number),[_0x13fa61,_0x42765a]=_0x5c3039['end'][_0x3d851b(0x20c)](':')[_0x3d851b(0x228)](Number),_0x12386f=_0x592d55*0x3c+_0x4e1f60,_0x5adbf4=_0x13fa61*0x3c+_0x42765a;if(Math['max'](_0x541573,_0x12386f)<Math[_0x3d851b(0x17a)](_0x18e9c0,_0x5adbf4)){if(_0x5c3039[_0x3d851b(0x118)]&&String(_0x5c3039[_0x3d851b(0x118)])===_0x2aedf6)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0x5c3039[_0x3d851b(0x120)]+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x522eef=!![],_0x3e811f=_0x5c3039[_0x3d851b(0x120)];}}if(_0x522eef)return{'valid':!![],'warning':_0x3d851b(0x216)+_0x3e811f};return{'valid':!![]};}function saveSingleSession(_0x5532c4){const _0x48f6bb=a2_0x131be2;if(editingId){const _0x521011=sessions[_0x48f6bb(0xcf)](_0xc85f4f=>_0xc85f4f['id']===editingId);if(_0x521011!==-0x1)sessions[_0x521011]=_0x5532c4;}else sessions[_0x48f6bb(0x1da)](_0x5532c4);afterSaveAction([_0x5532c4[_0x48f6bb(0x17b)]]);}function createBatchSeries(_0x4551c6,_0x39ab5d,_0x1a9452){const _0x3cd684=a2_0x131be2,_0x43b8ca=generateId(),_0x5dfa2b=[],_0x5fa338=[];let _0x58265d=0x0,_0x44e3a4=new Date(_0x39ab5d);for(let _0x539c8f=0x0;_0x539c8f<_0x1a9452;_0x539c8f++){const _0x5ce03b=getLocalDateStr(_0x44e3a4),_0x56c913=validateAppointment(_0x5ce03b,_0x4551c6[_0x3cd684(0x21a)],_0x4551c6[_0x3cd684(0x189)],null,_0x4551c6['clientId']);if(!_0x56c913[_0x3cd684(0x137)])console['log']('[Series]\x20Skipped\x20'+_0x5ce03b+_0x3cd684(0x119)),_0x58265d++;else{const _0x408f1f={..._0x4551c6,'id':generateId(),'dateStr':_0x5ce03b,'seriesId':_0x43b8ca};_0x5fa338['push'](_0x408f1f),_0x5dfa2b[_0x3cd684(0x1da)](_0x5ce03b);}_0x44e3a4[_0x3cd684(0x225)](_0x44e3a4[_0x3cd684(0x1b9)]()+0x7);}if(_0x5fa338[_0x3cd684(0x1b2)]===0x0){showToast(_0x3cd684(0x15c),![]);return;}sessions[_0x3cd684(0x1da)](..._0x5fa338),lastUserActionTime=Date['now']();let _0x58a924=_0x3cd684(0x113)+_0x5fa338[_0x3cd684(0x1b2)];_0x58265d>0x0&&(_0x58a924+=_0x3cd684(0x1e5)+_0x58265d+')'),showToast(_0x58a924,!![]),afterSaveAction(_0x5dfa2b);}function updateSeriesBatch(_0x438a86,_0x511653){const _0x5cb50b=a2_0x131be2,_0x5552fe=[],_0x32a35b=_0x511653[_0x5cb50b(0x1a6)];if(_0x438a86===_0x5cb50b(0x10d)){const _0x29a09e={..._0x511653,'seriesId':null},_0x48797d=sessions['findIndex'](_0x308ec4=>_0x308ec4['id']===_0x511653['id']);if(_0x48797d!==-0x1)sessions[_0x48797d]=_0x29a09e;_0x5552fe[_0x5cb50b(0x1da)](_0x29a09e[_0x5cb50b(0x17b)]);}else{if(_0x438a86===_0x5cb50b(0x12b)){const _0x2e5e18=_0x511653[_0x5cb50b(0x17b)];sessions[_0x5cb50b(0x1d7)]((_0x13af47,_0x2036e1)=>{const _0xdc06de=_0x5cb50b;_0x13af47[_0xdc06de(0x1a6)]===_0x32a35b&&_0x13af47[_0xdc06de(0x17b)]>=_0x2e5e18&&(sessions[_0x2036e1]={...sessions[_0x2036e1],'start':_0x511653['start'],'end':_0x511653[_0xdc06de(0x189)],'note':_0x511653[_0xdc06de(0x1ca)],'client':_0x511653['client'],'clientId':_0x511653[_0xdc06de(0x118)]},_0x5552fe['push'](_0x13af47[_0xdc06de(0x17b)]));});}}afterSaveAction(_0x5552fe);}function tryDeleteSession(){const _0x450816=a2_0x131be2,_0x297998=sessions[_0x450816(0x1be)](_0x34c361=>_0x34c361['id']===editingId);if(!_0x297998)return;_0x297998[_0x450816(0x1a6)]?openActionSheet(_0x450816(0x1b1)):commitDelete(_0x450816(0x10d),_0x297998);}function commitDelete(_0x7f0183,_0x5da72d){const _0x17163c=a2_0x131be2;lastUserActionTime=Date[_0x17163c(0xe0)](),NotificationManager[_0x17163c(0x162)](_0x17163c(0xaf),_0x5da72d);const _0x458988=[];if(_0x7f0183===_0x17163c(0x10d))sessions=sessions[_0x17163c(0xe9)](_0x2b513f=>_0x2b513f['id']!==_0x5da72d['id']),_0x458988[_0x17163c(0x1da)](_0x5da72d[_0x17163c(0x17b)]);else{if(_0x7f0183==='series'){const _0x2af62a=_0x5da72d[_0x17163c(0x17b)],_0x439b5e=_0x5da72d[_0x17163c(0x1a6)];sessions[_0x17163c(0x1d7)](_0x3979b1=>{const _0x357f4c=_0x17163c;_0x3979b1[_0x357f4c(0x1a6)]===_0x439b5e&&_0x3979b1[_0x357f4c(0x17b)]>=_0x2af62a&&_0x458988['push'](_0x3979b1[_0x357f4c(0x17b)]);}),sessions=sessions[_0x17163c(0xe9)](_0x254dd5=>!(_0x254dd5[_0x17163c(0x1a6)]===_0x439b5e&&_0x254dd5[_0x17163c(0x17b)]>=_0x2af62a));}}afterSaveAction(_0x458988);}function afterSaveAction(_0x597547){const _0x80bd9c=a2_0x131be2;DataManager[_0x80bd9c(0x136)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager['syncBatch'](_0x597547)[_0x80bd9c(0x1f4)](()=>console['log'](_0x80bd9c(0x166)))[_0x80bd9c(0x1d8)](_0x447402=>showToast(_0x80bd9c(0x155),![]));}const NotificationManager={'formatDate'(_0x432726){const _0x200322=a2_0x131be2,_0x3dcb03=new Date(_0x432726),_0xa8e225={'weekday':_0x200322(0x1b6),'day':'numeric','month':_0x200322(0x1b6)};let _0x2d763e=_0x3dcb03[_0x200322(0x161)]('ru-RU',_0xa8e225);return _0x2d763e[_0x200322(0x22f)](0x0)[_0x200322(0x153)]()+_0x2d763e['slice'](0x1);},'getText'(_0x10b74b,_0x2d7fd7){const _0x5597ff=a2_0x131be2,_0x207de2=this[_0x5597ff(0x1c5)](_0x2d7fd7['dateStr']);switch(_0x10b74b){case _0x5597ff(0x179):return _0x5597ff(0x219)+(_0x5597ff(0x168)+_0x207de2+'\x0a')+(_0x5597ff(0x147)+_0x2d7fd7[_0x5597ff(0x21a)]+_0x5597ff(0x1bf)+_0x2d7fd7['end']+'\x0a\x0a')+'–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™';case _0x5597ff(0x1e1):return'<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a'+_0x5597ff(0x1bc)+('<b>‚úÖ\x20'+_0x2d7fd7[_0x5597ff(0x21a)]+_0x5597ff(0x1bf)+_0x2d7fd7['end']+_0x5597ff(0x1ba))+(_0x5597ff(0x168)+_0x207de2);case'cancel':return _0x5597ff(0x200)+(_0x5597ff(0x157)+_0x207de2+'\x20('+_0x2d7fd7[_0x5597ff(0x21a)]+_0x5597ff(0x19c));case _0x5597ff(0x203):return'<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a'+'–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a'+_0x5597ff(0x1d0);default:return'';}},async 'send'(_0x4426e0,_0x5b2082){const _0x4ddae7=a2_0x131be2;console[_0x4ddae7(0x19d)]('[Notify]\x20Attempting\x20to\x20send:',_0x4426e0,_0x5b2082);if(!_0x5b2082){console['error'](_0x4ddae7(0xf7));return;}const _0x403f0b=String(_0x5b2082[_0x4ddae7(0x118)]);console[_0x4ddae7(0x19d)](_0x4ddae7(0x1a0),_0x403f0b);if(!_0x5b2082[_0x4ddae7(0x118)]||_0x403f0b===_0x4ddae7(0x12d)||_0x403f0b==='null'){console['error'](_0x4ddae7(0xf1));if(_0x5b2082[_0x4ddae7(0x120)]){const _0x2fcf2f=clients[_0x4ddae7(0x1be)](_0x4f29b2=>_0x4f29b2[_0x4ddae7(0x152)]===_0x5b2082[_0x4ddae7(0x120)]);if(_0x2fcf2f)return console[_0x4ddae7(0x19d)](_0x4ddae7(0x1e8),_0x2fcf2f['id']),this[_0x4ddae7(0x162)](_0x4426e0,{..._0x5b2082,'clientId':_0x2fcf2f['id']});}return;}if(_0x403f0b['length']<0x5){console[_0x4ddae7(0xeb)](_0x4ddae7(0x19a),_0x403f0b);return;}const _0x509184=this[_0x4ddae7(0x20f)](_0x4426e0,_0x5b2082);if(!_0x509184){console[_0x4ddae7(0x186)](_0x4ddae7(0x1f5));return;}console[_0x4ddae7(0x19d)](_0x4ddae7(0x234)+_0x403f0b+_0x4ddae7(0x11a)),DataManager['fetchFromServer'](_0x4ddae7(0x21e),{'chatId':_0x403f0b,'text':_0x509184})['then'](_0x41a173=>console[_0x4ddae7(0x19d)]('[Notify]\x20Server\x20Response:',_0x41a173))[_0x4ddae7(0x1d8)](_0x533e26=>console[_0x4ddae7(0x186)](_0x4ddae7(0x160),_0x533e26));}};function getLocalDateStr(_0x50e566){const _0x10af8f=a2_0x131be2,_0x313404=_0x50e566['getFullYear'](),_0x587d12=String(_0x50e566[_0x10af8f(0x202)]()+0x1)['padStart'](0x2,'0'),_0x5bce09=String(_0x50e566[_0x10af8f(0x1b9)]())[_0x10af8f(0x14f)](0x2,'0');return _0x313404+'-'+_0x587d12+'-'+_0x5bce09;}function getDateStr(_0x4d4438){const _0x3ec9ee=a2_0x131be2,_0x5bb021=new Date();return _0x5bb021['setDate'](_0x5bb021[_0x3ec9ee(0x1b9)]()+_0x4d4438),getLocalDateStr(_0x5bb021);}function getStartOfWeek(_0x1a6ef1){const _0x4e199e=a2_0x131be2,_0x45ea36=new Date(_0x1a6ef1),_0x122b82=_0x45ea36[_0x4e199e(0x13a)](),_0x158ae0=_0x45ea36['getDate']()-_0x122b82+(_0x122b82===0x0?-0x6:0x1);return _0x45ea36[_0x4e199e(0x225)](_0x158ae0),_0x45ea36['setHours'](0x0,0x0,0x0,0x0),_0x45ea36;}function hexToRgba(_0x1af160,_0xdaad3f){const _0x1bc601=a2_0x131be2;if(!_0x1af160)return'rgba(100,100,100,0.5)';let _0x14a765=0x0,_0x5975d1=0x0,_0x348f42=0x0;if(_0x1af160[_0x1bc601(0x1b2)]===0x4)_0x14a765='0x'+_0x1af160[0x1]+_0x1af160[0x1],_0x5975d1='0x'+_0x1af160[0x2]+_0x1af160[0x2],_0x348f42='0x'+_0x1af160[0x3]+_0x1af160[0x3];else _0x1af160['length']===0x7&&(_0x14a765='0x'+_0x1af160[0x1]+_0x1af160[0x2],_0x5975d1='0x'+_0x1af160[0x3]+_0x1af160[0x4],_0x348f42='0x'+_0x1af160[0x5]+_0x1af160[0x6]);return'rgba('+ +_0x14a765+',\x20'+ +_0x5975d1+',\x20'+ +_0x348f42+',\x20'+_0xdaad3f+')';}function renderTimeColumn(){const _0x209214=a2_0x131be2,_0x28038c=document[_0x209214(0x18b)](_0x209214(0x127)),_0x4bfb87=document[_0x209214(0x18b)](_0x209214(0x206));_0x28038c[_0x209214(0x185)]='',_0x28038c[_0x209214(0x1c7)](_0x4bfb87);for(let _0x284b60=0x0;_0x284b60<0x18;_0x284b60++){const _0x5cae93=document[_0x209214(0xe5)](_0x209214(0xda));_0x5cae93[_0x209214(0x11b)]='time-label';if(_0x284b60>0x0)_0x5cae93[_0x209214(0x185)]=_0x209214(0xf6)+String(_0x284b60)[_0x209214(0x14f)](0x2,'0')+_0x209214(0x1fc);_0x28038c['appendChild'](_0x5cae93);}}function renderDayRange(_0xa48ac8,_0x32c74e){const _0x21c198=a2_0x131be2,_0x44dae1=document[_0x21c198(0x18b)]('daysHeaderTrack'),_0x46bcae=document[_0x21c198(0x18b)]('gridColumns'),_0x29eb2a=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x41d7ce=new Date();_0x41d7ce['setHours'](0x0,0x0,0x0,0x0);const _0x47bbdf=getLocalDateStr(new Date());for(let _0x1ca592=_0xa48ac8;_0x1ca592<=_0x32c74e;_0x1ca592++){const _0x36721c=new Date(_0x41d7ce);_0x36721c['setDate'](_0x36721c['getDate']()+_0x1ca592);const _0x42e3c3=getLocalDateStr(_0x36721c);let _0x5a227e=_0x36721c[_0x21c198(0x13a)]()-0x1;if(_0x5a227e===-0x1)_0x5a227e=0x6;const _0x5f2494=_0x42e3c3===_0x47bbdf,_0x41c2d0=document[_0x21c198(0xe5)](_0x21c198(0xda));_0x41c2d0[_0x21c198(0x11b)]=_0x21c198(0x1f3)+(_0x5f2494?_0x21c198(0xb0):''),_0x41c2d0['id']='header-'+_0x42e3c3,_0x41c2d0[_0x21c198(0x18c)](_0x21c198(0x1ae),_0x42e3c3),_0x41c2d0['innerHTML']='<div\x20class=\x22dch-day\x22>'+_0x29eb2a[_0x5a227e]+_0x21c198(0xd4)+_0x36721c['getDate']()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0x42e3c3+_0x21c198(0xfc),_0x41c2d0['onclick']=()=>openDayOptions(_0x42e3c3,_0x29eb2a[_0x5a227e]+'\x20'+_0x36721c[_0x21c198(0x1b9)]()),_0x44dae1[_0x21c198(0x1c7)](_0x41c2d0);const _0x26702b=document['createElement'](_0x21c198(0xda));_0x26702b[_0x21c198(0x11b)]=_0x21c198(0x12e)+(_0x5f2494?_0x21c198(0xb0):''),_0x26702b[_0x21c198(0x18c)](_0x21c198(0x1ae),_0x42e3c3),_0x26702b[_0x21c198(0x18c)]('data-day-idx',_0x5a227e),renderEventsForColumn(_0x26702b,_0x42e3c3,_0x5a227e),attachLongPressHandler(_0x26702b,_0x36721c),_0x46bcae[_0x21c198(0x1c7)](_0x26702b),updateDayStats(_0x42e3c3);}}function reRenderBlocks(){const _0x2ea3f1=a2_0x131be2;document[_0x2ea3f1(0x21f)](_0x2ea3f1(0x1f6))[_0x2ea3f1(0x1d7)](_0x2f6504=>{const _0xcd1436=_0x2ea3f1;_0x2f6504['querySelectorAll'](_0xcd1436(0x213))[_0xcd1436(0x1d7)](_0xf3ff1c=>_0xf3ff1c[_0xcd1436(0x210)]());const _0x2c4330=_0x2f6504['getAttribute'](_0xcd1436(0x1ae)),_0x4b28d5=parseInt(_0x2f6504[_0xcd1436(0x115)](_0xcd1436(0xef))),_0x2952cd=Math[_0xcd1436(0x217)](_0x2f6504[_0xcd1436(0x149)]);(availabilityPattern[_0x4b28d5]||[])[_0xcd1436(0x1d7)](_0xfbbf4e=>{const _0x48f4e0=_0xcd1436,_0xd2fa48=document[_0x48f4e0(0xe5)](_0x48f4e0(0xda));_0xd2fa48[_0x48f4e0(0x11b)]=_0x48f4e0(0x1c1);const _0x3e4dce=_0xfbbf4e*GRID_H;_0xd2fa48[_0x48f4e0(0xfd)]['top']=_0x3e4dce+'px',_0xd2fa48[_0x48f4e0(0xfd)]['backgroundPosition']='-'+_0x2952cd+_0x48f4e0(0x226)+_0x3e4dce+'px',_0x2f6504['appendChild'](_0xd2fa48);});if(specialRanges&&specialRanges[_0xcd1436(0x1b2)]>0x0){const _0x1d665c=new Date(_0x2c4330+'T00:00:00')['getTime'](),_0x3adf7d=new Date(_0x2c4330+_0xcd1436(0x1ec))['getTime']();specialRanges['forEach'](_0x49434d=>{const _0x4dbfd5=_0xcd1436,_0x5194e5=new Date(_0x49434d[_0x4dbfd5(0x21a)])[_0x4dbfd5(0x1d9)](),_0x53c4c7=new Date(_0x49434d['end'])[_0x4dbfd5(0x1d9)](),_0x3afec0=Math['max'](_0x1d665c,_0x5194e5),_0x46d17d=Math[_0x4dbfd5(0x17a)](_0x3adf7d,_0x53c4c7);if(_0x3afec0<_0x46d17d){if(_0x3afec0<=_0x1d665c&&_0x46d17d>=_0x3adf7d-0xea60){if(!_0x2f6504[_0x4dbfd5(0x21b)](_0x4dbfd5(0xf5))){const _0x13286f=document[_0x4dbfd5(0xe5)]('div');_0x13286f[_0x4dbfd5(0x11b)]='day-off-overlay\x20stripe-bg',_0x13286f[_0x4dbfd5(0xfd)][_0x4dbfd5(0x1d6)]='-'+_0x2952cd+_0x4dbfd5(0x222),_0x2f6504[_0x4dbfd5(0x1c7)](_0x13286f);}}else{const _0x4e2769=(_0x3afec0-_0x1d665c)/0x36ee80*GRID_H,_0x45feb7=(_0x46d17d-_0x3afec0)/0x36ee80*GRID_H,_0xdaac42=document[_0x4dbfd5(0xe5)](_0x4dbfd5(0xda));_0xdaac42[_0x4dbfd5(0x11b)]=_0x4dbfd5(0x158),_0xdaac42[_0x4dbfd5(0xfd)][_0x4dbfd5(0x197)]=_0x4e2769+'px',_0xdaac42[_0x4dbfd5(0xfd)][_0x4dbfd5(0x231)]=_0x45feb7+'px',_0xdaac42[_0x4dbfd5(0xfd)][_0x4dbfd5(0x1d6)]='-'+_0x2952cd+_0x4dbfd5(0x226)+_0x4e2769+'px',_0x2f6504[_0x4dbfd5(0x1c7)](_0xdaac42);}}});}if(dateExceptions[_0x2c4330]===_0xcd1436(0x1c8)){if(!_0x2f6504['querySelector'](_0xcd1436(0xf5))){const _0x5d7dd2=document[_0xcd1436(0xe5)](_0xcd1436(0xda));_0x5d7dd2[_0xcd1436(0x11b)]=_0xcd1436(0x10c),_0x5d7dd2[_0xcd1436(0xfd)][_0xcd1436(0x1d6)]='-'+_0x2952cd+_0xcd1436(0x222),_0x2f6504[_0xcd1436(0x1c7)](_0x5d7dd2);}}renderEventsForColumn(_0x2f6504,_0x2c4330,_0x4b28d5),updateDayStats(_0x2c4330);});}function updateAllDayStats(){const _0x58fb2c=a2_0x131be2;document[_0x58fb2c(0x21f)]('.day-col-header')['forEach'](_0x465478=>{const _0x395b73=_0x58fb2c;updateDayStats(_0x465478['getAttribute'](_0x395b73(0x1ae)));});}function updateDayStats(_0xed29e9){const _0xe72649=a2_0x131be2,_0x7291d7=document[_0xe72649(0x18b)]('stat-'+_0xed29e9);if(!_0x7291d7)return;const _0x2121ba=new Date(_0xed29e9);let _0x4c16d3=_0x2121ba['getDay']()-0x1;if(_0x4c16d3===-0x1)_0x4c16d3=0x6;if(dateExceptions[_0xed29e9]===_0xe72649(0x1c8)){_0x7291d7[_0xe72649(0xfd)]['display']=_0xe72649(0xbf);return;}const _0x26c208=availabilityPattern[_0x4c16d3]||[],_0x3394fd=0x18-_0x26c208[_0xe72649(0x1b2)],_0x9c5563=_0x3394fd*0x3c,_0x1fa6f9=sessions[_0xe72649(0xe9)](_0x10139f=>_0x10139f[_0xe72649(0x17b)]===_0xed29e9&&_0x10139f[_0xe72649(0x20b)]!==_0xe72649(0x1f7));if(_0x1fa6f9['length']===0x0){_0x7291d7[_0xe72649(0xfd)][_0xe72649(0xff)]='none';return;}let _0x229953=_0x1fa6f9[_0xe72649(0x228)](_0x15f467=>{const _0x180724=_0xe72649,[_0x2ca2bf,_0x2851eb]=_0x15f467['start'][_0x180724(0x20c)](':')['map'](Number),[_0x4f8de2,_0x169cbc]=_0x15f467[_0x180724(0x189)][_0x180724(0x20c)](':')['map'](Number);return[_0x2ca2bf*0x3c+_0x2851eb,_0x4f8de2*0x3c+_0x169cbc];});_0x229953[_0xe72649(0xc1)]((_0x4806ef,_0x5e27a1)=>_0x4806ef[0x0]-_0x5e27a1[0x0]);let _0x51d2af=[];if(_0x229953[_0xe72649(0x1b2)]>0x0){let _0x4aa4ec=_0x229953[0x0];for(let _0x12b065=0x1;_0x12b065<_0x229953[_0xe72649(0x1b2)];_0x12b065++){_0x229953[_0x12b065][0x0]<_0x4aa4ec[0x1]?_0x4aa4ec[0x1]=Math[_0xe72649(0xb7)](_0x4aa4ec[0x1],_0x229953[_0x12b065][0x1]):(_0x51d2af['push'](_0x4aa4ec),_0x4aa4ec=_0x229953[_0x12b065]);}_0x51d2af[_0xe72649(0x1da)](_0x4aa4ec);}let _0x1e6dbe=0x0;_0x51d2af['forEach'](_0x2567fb=>_0x1e6dbe+=_0x2567fb[0x1]-_0x2567fb[0x0]),_0x7291d7[_0xe72649(0xfd)][_0xe72649(0xff)]=_0xe72649(0xd6);const _0x2fdb92=_0x7291d7[_0xe72649(0x21b)](_0xe72649(0x1ff));if(_0x9c5563===0x0){_0x2fdb92[_0xe72649(0xfd)][_0xe72649(0x233)]=_0xe72649(0x1f8),_0x2fdb92['style'][_0xe72649(0xbc)]='var(--acc-red)';return;}const _0x5c5ea6=_0x1e6dbe/_0x9c5563*0x64;console[_0xe72649(0x19d)]('['+_0xed29e9+_0xe72649(0xe3)+_0x3394fd+_0xe72649(0x1c4)+_0x1e6dbe+_0xe72649(0x116)+_0x5c5ea6[_0xe72649(0xf4)](0x1)+'%'),_0x5c5ea6>0x64?(_0x2fdb92['style'][_0xe72649(0x233)]=_0xe72649(0x1f8),_0x2fdb92[_0xe72649(0xfd)]['background']=_0xe72649(0xb4)):(_0x2fdb92[_0xe72649(0xfd)][_0xe72649(0x233)]=_0x5c5ea6+'%',_0x2fdb92[_0xe72649(0xfd)][_0xe72649(0xbc)]=_0xe72649(0x1ad));}function renderEventsForColumn(_0x485705,_0x1ec0d6,_0x34ecf7){const _0x28c7bc=a2_0x131be2,_0x4d5b2a=sessions['filter'](_0x4ccd10=>_0x4ccd10['dateStr']===_0x1ec0d6),_0x585c2f=_0x4d5b2a[_0x28c7bc(0x228)](_0x289819=>{const _0x1f1cef=_0x28c7bc,[_0x28189d,_0x5a6c05]=_0x289819[_0x1f1cef(0x21a)][_0x1f1cef(0x20c)](':')[_0x1f1cef(0x228)](Number),[_0x1378ce,_0x3411d1]=_0x289819[_0x1f1cef(0x189)][_0x1f1cef(0x20c)](':')['map'](Number);return{'data':_0x289819,'start':_0x28189d*0x3c+_0x5a6c05,'end':_0x1378ce*0x3c+_0x3411d1,'colIndex':0x0};});_0x585c2f[_0x28c7bc(0xc1)]((_0xcfdb5a,_0x18602a)=>{const _0x5d3596=_0x28c7bc;if(_0xcfdb5a['start']!==_0x18602a[_0x5d3596(0x21a)])return _0xcfdb5a[_0x5d3596(0x21a)]-_0x18602a[_0x5d3596(0x21a)];return _0x18602a['end']-_0x18602a[_0x5d3596(0x21a)]-(_0xcfdb5a[_0x5d3596(0x189)]-_0xcfdb5a['start']);});const _0xbcccea=[];_0x585c2f[_0x28c7bc(0x1d7)](_0x47423c=>{const _0x506820=_0x28c7bc;let _0x12f421=![];for(let _0x5857b2=0x0;_0x5857b2<_0xbcccea[_0x506820(0x1b2)];_0x5857b2++){const _0x3a0fe6=_0xbcccea[_0x5857b2],_0x15504d=_0x3a0fe6[_0x3a0fe6[_0x506820(0x1b2)]-0x1];if(_0x47423c[_0x506820(0x21a)]>=_0x15504d['end']){_0x3a0fe6[_0x506820(0x1da)](_0x47423c),_0x47423c[_0x506820(0x122)]=_0x5857b2,_0x12f421=!![];break;}}!_0x12f421&&(_0xbcccea[_0x506820(0x1da)]([_0x47423c]),_0x47423c[_0x506820(0x122)]=_0xbcccea[_0x506820(0x1b2)]-0x1);}),_0x585c2f['forEach'](_0x5a88e6=>{const _0x2a88bc=_0x28c7bc;let _0x107f38=0x0;_0x585c2f[_0x2a88bc(0x1d7)](_0x21e1fe=>{const _0x21b16c=_0x2a88bc;if(Math[_0x21b16c(0xb7)](_0x5a88e6[_0x21b16c(0x21a)],_0x21e1fe[_0x21b16c(0x21a)])<Math[_0x21b16c(0x17a)](_0x5a88e6[_0x21b16c(0x189)],_0x21e1fe[_0x21b16c(0x189)])){if(_0x21e1fe[_0x21b16c(0x122)]>_0x107f38)_0x107f38=_0x21e1fe[_0x21b16c(0x122)];}});const _0xda3c1e=_0x107f38+0x1,_0x527b38=0x64/_0xda3c1e,_0x3389a5=_0x5a88e6[_0x2a88bc(0x122)]*_0x527b38,_0x2fd22f=createEventEl(_0x5a88e6['data']);_0x2fd22f[_0x2a88bc(0xfd)]['width']=_0x2a88bc(0x1b5)+_0x527b38+'%\x20-\x204px)',_0x2fd22f[_0x2a88bc(0xfd)][_0x2a88bc(0x204)]=_0x2a88bc(0x1b5)+_0x3389a5+'%\x20+\x202px)',_0x2fd22f[_0x2a88bc(0xfd)]['zIndex']=0xa+_0x5a88e6['colIndex'],_0x527b38<0x55&&_0x2fd22f[_0x2a88bc(0xae)][_0x2a88bc(0x135)](_0x2a88bc(0xd9)),_0x485705[_0x2a88bc(0x1c7)](_0x2fd22f);});}function createEventEl(_0x472cf1){const _0x1dfbd9=a2_0x131be2,[_0x5167c7,_0x3b9d0f]=_0x472cf1[_0x1dfbd9(0x21a)]['split'](':')[_0x1dfbd9(0x228)](Number),[_0x5996ba,_0x3804d9]=_0x472cf1[_0x1dfbd9(0x189)][_0x1dfbd9(0x20c)](':')['map'](Number),_0x5837a3=(_0x5167c7*0x3c+_0x3b9d0f)/0x3c*GRID_H,_0x949e43=(_0x5996ba*0x3c+_0x3804d9-(_0x5167c7*0x3c+_0x3b9d0f))/0x3c*GRID_H,_0x4f0f8e=document[_0x1dfbd9(0xe5)](_0x1dfbd9(0xda)),_0x515bf3=_0x472cf1[_0x1dfbd9(0x20b)]===_0x1dfbd9(0x130)?_0x1dfbd9(0x1cf):'';_0x4f0f8e[_0x1dfbd9(0x11b)]=_0x1dfbd9(0x1e0)+_0x515bf3,_0x4f0f8e[_0x1dfbd9(0xfd)][_0x1dfbd9(0x197)]=_0x5837a3+'px',_0x4f0f8e[_0x1dfbd9(0xfd)][_0x1dfbd9(0x231)]=Math['max'](_0x949e43,0x14)+'px';const _0x4eecd9=clients[_0x1dfbd9(0x1be)](_0x3dd7ad=>_0x472cf1[_0x1dfbd9(0x118)]&&String(_0x3dd7ad['id'])===String(_0x472cf1[_0x1dfbd9(0x118)])||_0x3dd7ad[_0x1dfbd9(0x152)]===_0x472cf1[_0x1dfbd9(0x120)]),_0xd948b0=_0x4eecd9?_0x4eecd9['color']:_0x1dfbd9(0x110);_0x4f0f8e['style'][_0x1dfbd9(0x14c)]=_0xd948b0,_0x4f0f8e[_0x1dfbd9(0xfd)][_0x1dfbd9(0x22b)]=hexToRgba(_0xd948b0,0.85);let _0x695031=_0x1dfbd9(0x195)+_0x472cf1[_0x1dfbd9(0x120)]+_0x1dfbd9(0xcb)+_0x472cf1[_0x1dfbd9(0x21a)]+_0x1dfbd9(0xd7)+_0x472cf1['end']+'</div>';return _0x472cf1[_0x1dfbd9(0x1a6)]&&(_0x695031+='<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>'),_0x472cf1[_0x1dfbd9(0x20b)]===_0x1dfbd9(0x130)&&(_0x695031+=_0x1dfbd9(0x229)),_0x4f0f8e[_0x1dfbd9(0x185)]=_0x695031,_0x4f0f8e[_0x1dfbd9(0x1f2)]=_0x582d30=>{const _0x7cad47=_0x1dfbd9;_0x582d30[_0x7cad47(0xb6)](),openEdit(_0x472cf1);},_0x4f0f8e;}function attachLongPressHandler(_0x5b6f50,_0x43bddf){const _0x1989e4=a2_0x131be2;let _0x5ba3ee=0x0,_0x562a45=null;const _0x31795b=_0x5715dd=>{const _0x1f5c53=a2_0x4b34;if(_0x5715dd[_0x1f5c53(0x180)][_0x1f5c53(0xec)](_0x1f5c53(0x1ce)))return;isScrolling=![],_0x5ba3ee=_0x5715dd[_0x1f5c53(0x10a)]?_0x5715dd[_0x1f5c53(0x10a)][0x0][_0x1f5c53(0x11f)]:_0x5715dd[_0x1f5c53(0x11f)],_0x562a45=setTimeout(()=>{const _0x2f622c=_0x1f5c53;if(!isScrolling){navigator['vibrate']?.(0x32);const _0x19d88f=_0x5b6f50[_0x2f622c(0xca)](),_0x2e875f=Math[_0x2f622c(0x140)]((_0x5ba3ee-_0x19d88f[_0x2f622c(0x197)])/GRID_H);_0x43bddf[_0x2f622c(0x15a)](_0x2e875f,0x0),openAddSession(_0x43bddf);}},0x1f4);},_0x35b2f1=()=>{isScrolling=!![],clearTimeout(_0x562a45);},_0x13f0f8=()=>{clearTimeout(_0x562a45);};_0x5b6f50['addEventListener'](_0x1989e4(0x1ee),_0x31795b,{'passive':!![]}),_0x5b6f50['addEventListener'](_0x1989e4(0xdb),_0x35b2f1,{'passive':!![]}),_0x5b6f50[_0x1989e4(0x138)](_0x1989e4(0x214),_0x13f0f8),_0x5b6f50[_0x1989e4(0x138)]('mousedown',_0x31795b),_0x5b6f50[_0x1989e4(0x138)]('mousemove',_0x35b2f1),_0x5b6f50[_0x1989e4(0x138)](_0x1989e4(0x19b),_0x13f0f8);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x42e92a=a2_0x131be2,_0x19b277=document[_0x42e92a(0x18b)](_0x42e92a(0x133)),_0x24c0a4=_0x19b277[_0x42e92a(0x128)],_0x58b720=_0x19b277[_0x42e92a(0x11c)],_0x1e0f4a=_0x19b277[_0x42e92a(0xdf)];if(_0x58b720-(_0x24c0a4+_0x1e0f4a)<0x12c){const _0x44235d=endOffset;endOffset+=0xe,renderDayRange(_0x44235d+0x1,endOffset),reRenderBlocks();}if(_0x24c0a4<0x12c){const _0x508e73=startOffset;startOffset-=0xe,prependDays(startOffset,_0x508e73-0x1),_0x19b277[_0x42e92a(0x128)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x296200,_0x3b7926){const _0xe74ca2=a2_0x131be2,_0x8cb99a=document[_0xe74ca2(0x18b)]('daysHeaderTrack'),_0x119750=document[_0xe74ca2(0x18b)](_0xe74ca2(0x18d)),_0x4e1b30=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x43f2ab=new Date();_0x43f2ab[_0xe74ca2(0x15a)](0x0,0x0,0x0,0x0);const _0x1e1bb9=getLocalDateStr(new Date()),_0x41a24a=document[_0xe74ca2(0x173)](),_0x3984fb=document[_0xe74ca2(0x173)]();for(let _0x5c9dbe=_0x296200;_0x5c9dbe<=_0x3b7926;_0x5c9dbe++){const _0x37807a=new Date(_0x43f2ab);_0x37807a['setDate'](_0x37807a['getDate']()+_0x5c9dbe);const _0x3c3ac6=getLocalDateStr(_0x37807a);let _0x4f1d1c=_0x37807a['getDay']()-0x1;if(_0x4f1d1c===-0x1)_0x4f1d1c=0x6;const _0x203473=_0x3c3ac6===_0x1e1bb9,_0x1c56a2=document['createElement'](_0xe74ca2(0xda));_0x1c56a2[_0xe74ca2(0x11b)]=_0xe74ca2(0x1f3)+(_0x203473?'today':''),_0x1c56a2['id']=_0xe74ca2(0x1cd)+_0x3c3ac6,_0x1c56a2[_0xe74ca2(0x18c)](_0xe74ca2(0x1ae),_0x3c3ac6),_0x1c56a2[_0xe74ca2(0x185)]=_0xe74ca2(0xfa)+_0x4e1b30[_0x4f1d1c]+'</div><div\x20class=\x22dch-num\x22>'+_0x37807a[_0xe74ca2(0x1b9)]()+_0xe74ca2(0xc3)+_0x3c3ac6+_0xe74ca2(0xfc),_0x1c56a2[_0xe74ca2(0x1f2)]=()=>openDayOptions(_0x3c3ac6,_0x4e1b30[_0x4f1d1c]+'\x20'+_0x37807a[_0xe74ca2(0x1b9)]()),_0x41a24a[_0xe74ca2(0x1c7)](_0x1c56a2);const _0x5976d2=document['createElement']('div');_0x5976d2[_0xe74ca2(0x11b)]=_0xe74ca2(0x12e)+(_0x203473?'today':''),_0x5976d2[_0xe74ca2(0x18c)](_0xe74ca2(0x1ae),_0x3c3ac6),_0x5976d2[_0xe74ca2(0x18c)](_0xe74ca2(0xef),_0x4f1d1c),renderEventsForColumn(_0x5976d2,_0x3c3ac6,_0x4f1d1c),attachLongPressHandler(_0x5976d2,_0x37807a),_0x3984fb[_0xe74ca2(0x1c7)](_0x5976d2),updateDayStats(_0x3c3ac6);}_0x8cb99a[_0xe74ca2(0x159)](_0x41a24a,_0x8cb99a['firstChild']),_0x119750[_0xe74ca2(0x159)](_0x3984fb,_0x119750['querySelector']('.day-column'));}function validateAppointment(_0x2f9f08,_0x8884f4,_0x20eef3,_0x1ac3cd,_0x2e1edb){const _0x1c4d78=a2_0x131be2,[_0x41d14f,_0x50d678]=_0x8884f4[_0x1c4d78(0x20c)](':')[_0x1c4d78(0x228)](Number),[_0xe4a19d,_0x2b611a]=_0x20eef3['split'](':')['map'](Number),_0x35dbe8=_0x41d14f*0x3c+_0x50d678,_0x59665e=_0xe4a19d*0x3c+_0x2b611a,_0x316770=String(_0x2e1edb);let _0x4f32f5=![],_0x2a9fb1='';for(let _0x433b66 of sessions){if(_0x433b66[_0x1c4d78(0x17b)]!==_0x2f9f08)continue;if(_0x433b66[_0x1c4d78(0x20b)]==='cancelled')continue;if(_0x1ac3cd&&String(_0x433b66['id'])===String(_0x1ac3cd))continue;const [_0x50bca8,_0x557b75]=_0x433b66[_0x1c4d78(0x21a)][_0x1c4d78(0x20c)](':')['map'](Number),[_0xa8cef1,_0x26ee3d]=_0x433b66[_0x1c4d78(0x189)][_0x1c4d78(0x20c)](':')[_0x1c4d78(0x228)](Number),_0x4c5c03=_0x50bca8*0x3c+_0x557b75,_0xfa1cbb=_0xa8cef1*0x3c+_0x26ee3d;if(Math[_0x1c4d78(0xb7)](_0x35dbe8,_0x4c5c03)<Math[_0x1c4d78(0x17a)](_0x59665e,_0xfa1cbb)){if(_0x433b66['clientId']&&String(_0x433b66[_0x1c4d78(0x118)])===_0x316770)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0x433b66[_0x1c4d78(0x120)]+_0x1c4d78(0x1e2)};_0x4f32f5=!![],_0x2a9fb1=_0x433b66[_0x1c4d78(0x120)];}}if(_0x4f32f5)return{'valid':!![],'warning':'–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20'+_0x2a9fb1};return{'valid':!![]};}function updateDateDisplay(){const _0x372cdb=a2_0x131be2,_0x500f4a=document[_0x372cdb(0x18b)](_0x372cdb(0x224))['value'],_0x363e65=document[_0x372cdb(0x18b)](_0x372cdb(0x156));if(!_0x500f4a){_0x363e65[_0x372cdb(0x1a7)]='';return;}const [_0x59cc59,_0x574fa6,_0x1c208f]=_0x500f4a[_0x372cdb(0x20c)]('-')[_0x372cdb(0x228)](Number),_0x2cf8b4=new Date(_0x59cc59,_0x574fa6-0x1,_0x1c208f),_0x41119d={'weekday':_0x372cdb(0x1b6),'day':_0x372cdb(0x1eb),'month':'long','year':'numeric'};let _0x57c64c=_0x2cf8b4[_0x372cdb(0x161)](_0x372cdb(0xea),_0x41119d);_0x57c64c=_0x57c64c[_0x372cdb(0x22f)](0x0)['toUpperCase']()+_0x57c64c[_0x372cdb(0x106)](0x1),_0x363e65[_0x372cdb(0x1a7)]=_0x57c64c;}function autoSetEndTime(){const _0x41e703=a2_0x131be2,_0x481f08=document[_0x41e703(0x18b)](_0x41e703(0x1e4))[_0x41e703(0x19e)];if(!_0x481f08)return;const [_0x45eb45,_0x42a8c2]=_0x481f08[_0x41e703(0x20c)](':')[_0x41e703(0x228)](Number);let _0x315c73=_0x45eb45+0x1;if(_0x315c73>0x17)_0x315c73=0x0;const _0x1e9d5b=String(_0x315c73)[_0x41e703(0x14f)](0x2,'0')+':'+String(_0x42a8c2)[_0x41e703(0x14f)](0x2,'0');document[_0x41e703(0x18b)](_0x41e703(0x167))[_0x41e703(0x19e)]=_0x1e9d5b;}function populateClientSelect(){const _0x51cdb0=a2_0x131be2,_0x2eaf1d=document[_0x51cdb0(0x18b)](_0x51cdb0(0x1b0));_0x2eaf1d[_0x51cdb0(0x185)]='';if(clients[_0x51cdb0(0x1b2)]===0x0){const _0x10d500=document[_0x51cdb0(0xe5)]('option');_0x10d500[_0x51cdb0(0x1b3)]=_0x51cdb0(0xf8),_0x2eaf1d[_0x51cdb0(0x1c7)](_0x10d500);return;}clients[_0x51cdb0(0x1d7)](_0x26cf26=>{const _0x904d6b=_0x51cdb0,_0x168419=document[_0x904d6b(0xe5)]('option');_0x168419[_0x904d6b(0x19e)]=_0x26cf26[_0x904d6b(0x152)],_0x168419['textContent']=_0x26cf26[_0x904d6b(0x152)],_0x2eaf1d[_0x904d6b(0x1c7)](_0x168419);});}function openActionSheet(_0x1d40a2){const _0x2ada67=a2_0x131be2,_0x14c6ee=document[_0x2ada67(0x18b)](_0x2ada67(0x13b)),_0x26b838=document[_0x2ada67(0x18b)]('actionSheetOverlay'),_0x7b00bb=document['getElementById'](_0x2ada67(0x123)),_0xca6ba9=document[_0x2ada67(0x18b)](_0x2ada67(0x22a)),_0x5a55ae=document[_0x2ada67(0x18b)](_0x2ada67(0x1db));_0x26b838[_0x2ada67(0xae)][_0x2ada67(0x135)](_0x2ada67(0xd5)),_0x14c6ee[_0x2ada67(0xae)]['add'](_0x2ada67(0x112));if(_0x1d40a2===_0x2ada67(0x1fa))_0x7b00bb['textContent']='–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏',_0xca6ba9[_0x2ada67(0x1a7)]=_0x2ada67(0xbd),_0xca6ba9[_0x2ada67(0x1f2)]=()=>{closeActionSheet(),updateSeriesBatch('single',tempSessionData);},_0x5a55ae[_0x2ada67(0x1a7)]=_0x2ada67(0xd0),_0x5a55ae[_0x2ada67(0x1f2)]=()=>{const _0x3f9268=_0x2ada67;closeActionSheet(),updateSeriesBatch(_0x3f9268(0x12b),tempSessionData);};else _0x1d40a2===_0x2ada67(0x1b1)&&(_0x7b00bb[_0x2ada67(0x1a7)]=_0x2ada67(0xf9),_0xca6ba9['textContent']=_0x2ada67(0xbd),_0xca6ba9[_0x2ada67(0x11b)]=_0x2ada67(0x22d),_0xca6ba9['onclick']=()=>{const _0x35d3b8=_0x2ada67;closeActionSheet(),commitDelete('single',sessions[_0x35d3b8(0x1be)](_0x3bc486=>_0x3bc486['id']===editingId));},_0x5a55ae[_0x2ada67(0x1a7)]=_0x2ada67(0xd0),_0x5a55ae['className']=_0x2ada67(0x16f),_0x5a55ae[_0x2ada67(0x1f2)]=()=>{const _0x145309=_0x2ada67;closeActionSheet(),commitDelete(_0x145309(0x12b),sessions[_0x145309(0x1be)](_0x45ca7f=>_0x45ca7f['id']===editingId));});}function closeActionSheet(){const _0x42a659=a2_0x131be2;document[_0x42a659(0x18b)]('actionSheet')['classList'][_0x42a659(0x210)](_0x42a659(0x112)),document[_0x42a659(0x18b)]('actionSheetOverlay')[_0x42a659(0xae)]['remove'](_0x42a659(0xd5));}function openSettings(){const _0x2fe62f=a2_0x131be2;openSheet(_0x2fe62f(0x174));}function saveCoachSettings(){const _0x2d5278=a2_0x131be2,_0x334f14=document['getElementById'](_0x2d5278(0x165))['value'];localStorage[_0x2d5278(0x1d2)]('uc_settings_cancel_window',_0x334f14),console[_0x2d5278(0x19d)]('[Settings]\x20Cancel\x20window\x20set\x20to:',_0x334f14),DataManager['fetchFromServer'](_0x2d5278(0x148),{'settings':{'cancel_window':_0x334f14}})[_0x2d5278(0x1d8)](_0x6110d=>{const _0x13b552=_0x2d5278;console[_0x13b552(0x186)](_0x13b552(0xbb),_0x6110d),showToast(_0x13b552(0x232),![]);});}function loadCoachSettings(){const _0x6679c=a2_0x131be2,_0x145168=localStorage[_0x6679c(0xb3)](_0x6679c(0x1a2));_0x145168&&(document[_0x6679c(0x18b)]('settingCancelWindow')[_0x6679c(0x19e)]=_0x145168);}function openRangesSheet(){const _0x484f83=a2_0x131be2;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x484f83(0x218));}function addRange(){const _0x950cac=a2_0x131be2,_0xaa726d=document[_0x950cac(0x18b)](_0x950cac(0x105))[_0x950cac(0x19e)],_0x1260d0=document[_0x950cac(0x18b)](_0x950cac(0x1cc))[_0x950cac(0x19e)],_0xc42058=document[_0x950cac(0x18b)](_0x950cac(0x22e))[_0x950cac(0x19e)],_0xae6e31=document['getElementById'](_0x950cac(0x182))[_0x950cac(0x19e)];if(!_0xaa726d||!_0x1260d0||!_0xc42058||!_0xae6e31)return alert(_0x950cac(0x164));const _0x4e0b08=_0xaa726d+'T'+_0x1260d0,_0x45d64a=_0xc42058+'T'+_0xae6e31;if(_0x4e0b08>=_0x45d64a)return alert(_0x950cac(0x12f));specialRanges['push']({'start':_0x4e0b08,'end':_0x45d64a}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x950cac(0x136)](),DataManager[_0x950cac(0x12a)]('save_settings',{'settings':{'ranges':specialRanges}});}function deleteRange(_0x2299af){const _0x44b443=a2_0x131be2;specialRanges['splice'](_0x2299af,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x44b443(0x136)](),DataManager[_0x44b443(0x12a)](_0x44b443(0x148),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x52cea7=a2_0x131be2;document[_0x52cea7(0x18b)](_0x52cea7(0x105))[_0x52cea7(0x19e)]='',document[_0x52cea7(0x18b)](_0x52cea7(0x1cc))[_0x52cea7(0x19e)]='00:00',document['getElementById'](_0x52cea7(0x22e))[_0x52cea7(0x19e)]='',document['getElementById']('rangeEndTime')[_0x52cea7(0x19e)]=_0x52cea7(0x177);}function renderRangesList(){const _0x4628a9=a2_0x131be2,_0x226a83=document[_0x4628a9(0x18b)](_0x4628a9(0x13e));_0x226a83[_0x4628a9(0x185)]='';if(!specialRanges[_0x4628a9(0x1b2)]){_0x226a83[_0x4628a9(0x185)]='<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>';return;}specialRanges[_0x4628a9(0x1d7)]((_0x100994,_0x38eb15)=>{const _0x50709b=_0x4628a9,_0x247b57=document[_0x50709b(0xe5)](_0x50709b(0xda));_0x247b57[_0x50709b(0x11b)]=_0x50709b(0xcd);const _0xa8a88c=_0x7f8b8f=>{const _0xf00be3=_0x50709b,_0x22ede0=new Date(_0x7f8b8f);return _0x22ede0[_0xf00be3(0x1b9)]()+'.'+String(_0x22ede0[_0xf00be3(0x202)]()+0x1)[_0xf00be3(0x14f)](0x2,'0')+'\x20'+String(_0x22ede0['getHours']())[_0xf00be3(0x14f)](0x2,'0')+':'+String(_0x22ede0[_0xf00be3(0x16c)]())[_0xf00be3(0x14f)](0x2,'0');};_0x247b57[_0x50709b(0x185)]=_0x50709b(0x13d)+_0xa8a88c(_0x100994[_0x50709b(0x21a)])+_0x50709b(0x1bf)+_0xa8a88c(_0x100994[_0x50709b(0x189)])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange('+_0x38eb15+')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>',_0x226a83[_0x50709b(0x1c7)](_0x247b57);});}function scrollToToday(){const _0x4f5d1b=a2_0x131be2,_0x8443d2=getLocalDateStr(new Date()),_0x4334c5=document['getElementById'](_0x4f5d1b(0x1cd)+_0x8443d2),_0x3d557e=document['getElementById'](_0x4f5d1b(0x133));if(_0x4334c5&&_0x3d557e){const _0x472635=_0x3d557e[_0x4f5d1b(0xdf)],_0x21c552=_0x4334c5[_0x4f5d1b(0x149)],_0x459d75=_0x4334c5[_0x4f5d1b(0x10f)];_0x3d557e[_0x4f5d1b(0x128)]=_0x21c552-_0x472635/0x2+_0x459d75/0x2,_0x3d557e['scrollTop']=0x9*GRID_H;}}function onScroll(){const _0x6cbcf0=a2_0x131be2,_0x2865fd=document[_0x6cbcf0(0x18b)](_0x6cbcf0(0x133)),_0x13e734=document[_0x6cbcf0(0x21f)](_0x6cbcf0(0x1df));for(let _0x5b179a of _0x13e734)if(_0x5b179a[_0x6cbcf0(0x149)]>=_0x2865fd[_0x6cbcf0(0x128)]){const _0x5bd710=new Date(_0x5b179a[_0x6cbcf0(0x115)]('data-date'));document[_0x6cbcf0(0x18b)](_0x6cbcf0(0x108))['textContent']=_0x5bd710[_0x6cbcf0(0x143)]('ru',{'month':_0x6cbcf0(0x1b6)})[_0x6cbcf0(0x153)]()+'\x20'+_0x5bd710['getFullYear']();break;}}function showToast(_0x5550c2,_0x2d8b92=![]){const _0x4f4c3c=a2_0x131be2,_0x3baa4f=document[_0x4f4c3c(0x18b)](_0x4f4c3c(0x17f));_0x3baa4f[_0x4f4c3c(0x11b)]=_0x4f4c3c(0x154)+(_0x2d8b92?'success':''),document[_0x4f4c3c(0x18b)]('toastTitle')[_0x4f4c3c(0x1a7)]=_0x2d8b92?_0x4f4c3c(0xe1):_0x4f4c3c(0xc7),document[_0x4f4c3c(0x18b)]('toastMessage')[_0x4f4c3c(0x1a7)]=_0x5550c2,_0x3baa4f[_0x4f4c3c(0xae)][_0x4f4c3c(0x135)](_0x4f4c3c(0x20d)),setTimeout(()=>{const _0xc0a244=_0x4f4c3c;_0x3baa4f[_0xc0a244(0xae)][_0xc0a244(0x210)](_0xc0a244(0x20d));},0xbb8);}function openDayOptions(_0x510d50,_0x489aa4){const _0x97df57=a2_0x131be2;selectedDayForOptions=_0x510d50,document[_0x97df57(0x18b)](_0x97df57(0xf3))[_0x97df57(0x1a7)]=_0x489aa4,openSheet('dayOptionsSheet');}function toggleDayOff(){const _0x20012a=a2_0x131be2;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]='off',reRenderBlocks(),closeAllSheets(),DataManager[_0x20012a(0x136)](),DataManager[_0x20012a(0x12a)](_0x20012a(0x148),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x12edfa=a2_0x131be2;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager[_0x12edfa(0x12a)]('save_settings',{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x1339e1){const _0x3bb872=a2_0x131be2;document[_0x3bb872(0x18b)]('overlay')[_0x3bb872(0xae)][_0x3bb872(0x135)](_0x3bb872(0xd5)),document[_0x3bb872(0x18b)](_0x1339e1)[_0x3bb872(0xae)][_0x3bb872(0x135)](_0x3bb872(0x112));}function closeAllSheets(){const _0x4e8a30=a2_0x131be2;document[_0x4e8a30(0x18b)]('overlay')['classList'][_0x4e8a30(0x210)](_0x4e8a30(0xd5)),document[_0x4e8a30(0x21f)](_0x4e8a30(0x18f))[_0x4e8a30(0x1d7)](_0x52f530=>_0x52f530['classList'][_0x4e8a30(0x210)](_0x4e8a30(0x112)));}function openPatternEditor(){const _0xf18346=a2_0x131be2;closeAllSheets(),document[_0xf18346(0x18b)](_0xf18346(0x11d))[_0xf18346(0xae)][_0xf18346(0x135)](_0xf18346(0x112)),renderPatternEditor();}function closePatternEditor(){const _0x323d37=a2_0x131be2;document[_0x323d37(0x18b)](_0x323d37(0x11d))[_0x323d37(0xae)][_0x323d37(0x210)](_0x323d37(0x112));}function savePattern(){const _0x37c6b1=a2_0x131be2;document['getElementById']('patternEditor')[_0x37c6b1(0xae)][_0x37c6b1(0x210)](_0x37c6b1(0x112)),reRenderBlocks(),DataManager[_0x37c6b1(0x136)](),DataManager[_0x37c6b1(0x12a)](_0x37c6b1(0x148),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x1b39f9=a2_0x131be2,_0x14f0a7=document[_0x1b39f9(0x18b)](_0x1b39f9(0x1e7));_0x14f0a7[_0x1b39f9(0x185)]='';const _0x3c689e=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x337f3c=document['createElement'](_0x1b39f9(0xda));_0x337f3c[_0x1b39f9(0x11b)]='pe-corner',_0x14f0a7['appendChild'](_0x337f3c),_0x3c689e['forEach']((_0x22805d,_0x107398)=>{const _0x5de1c0=_0x1b39f9,_0x184e62=document[_0x5de1c0(0xe5)](_0x5de1c0(0xda));_0x184e62[_0x5de1c0(0x11b)]='pe-col-header',_0x184e62[_0x5de1c0(0x185)]=_0x22805d+_0x5de1c0(0xce),_0x184e62[_0x5de1c0(0x1f2)]=()=>toggleColPattern(_0x107398),_0x14f0a7['appendChild'](_0x184e62);});for(let _0x3306db=0x0;_0x3306db<0x18;_0x3306db++){const _0x156085=document[_0x1b39f9(0xe5)](_0x1b39f9(0xda));_0x156085['className']=_0x1b39f9(0x215),_0x156085[_0x1b39f9(0x185)]='<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>'+String(_0x3306db)[_0x1b39f9(0x14f)](0x2,'0')+_0x1b39f9(0xdc),_0x156085[_0x1b39f9(0x1f2)]=()=>toggleRowPattern(_0x3306db),_0x14f0a7[_0x1b39f9(0x1c7)](_0x156085);for(let _0x4f80dd=0x0;_0x4f80dd<0x7;_0x4f80dd++){const _0x54acfa=document[_0x1b39f9(0xe5)](_0x1b39f9(0xda)),_0x5cc21b=(availabilityPattern[_0x4f80dd]||[])[_0x1b39f9(0x192)](_0x3306db),_0xa62776=!_0x5cc21b;_0x54acfa['className']=_0x1b39f9(0x1dc)+(_0xa62776?_0x1b39f9(0xd5):''),_0x54acfa['onclick']=()=>toggleSinglePattern(_0x4f80dd,_0x3306db),_0x14f0a7['appendChild'](_0x54acfa);}}}function toggleSinglePattern(_0x5809ab,_0x5d1ec0){const _0xb07358=a2_0x131be2;if(!availabilityPattern[_0x5809ab])availabilityPattern[_0x5809ab]=[];const _0x7226e5=availabilityPattern[_0x5809ab],_0x1e6c08=_0x7226e5[_0xb07358(0x117)](_0x5d1ec0);_0x1e6c08===-0x1?_0x7226e5['push'](_0x5d1ec0):_0x7226e5['splice'](_0x1e6c08,0x1),renderPatternEditor();}function toggleColPattern(_0x4dce00){const _0x66b448=a2_0x131be2;if(!availabilityPattern[_0x4dce00])availabilityPattern[_0x4dce00]=[];const _0x4bfb89=availabilityPattern[_0x4dce00];_0x4bfb89[_0x66b448(0x1b2)]===0x0?availabilityPattern[_0x4dce00]=Array['from']({'length':0x18},(_0xb9d0b8,_0x571c35)=>_0x571c35):availabilityPattern[_0x4dce00]=[],renderPatternEditor();}function toggleRowPattern(_0x30c2b3){const _0x4897b4=a2_0x131be2;let _0x4b9f21=!![];for(let _0x544315=0x0;_0x544315<0x7;_0x544315++){if((availabilityPattern[_0x544315]||[])[_0x4897b4(0x192)](_0x30c2b3)){_0x4b9f21=![];break;}}for(let _0x35ce7e=0x0;_0x35ce7e<0x7;_0x35ce7e++){if(!availabilityPattern[_0x35ce7e])availabilityPattern[_0x35ce7e]=[];const _0x1340db=availabilityPattern[_0x35ce7e][_0x4897b4(0x117)](_0x30c2b3);if(_0x4b9f21){if(_0x1340db===-0x1)availabilityPattern[_0x35ce7e][_0x4897b4(0x1da)](_0x30c2b3);}else{if(_0x1340db!==-0x1)availabilityPattern[_0x35ce7e][_0x4897b4(0x11e)](_0x1340db,0x1);}}renderPatternEditor();}function renderPCol(_0x4a0c5a,_0x1f968c){const _0x242de3=a2_0x131be2;_0x4a0c5a['innerHTML']='';const _0xe648f=Math['round'](_0x4a0c5a['offsetLeft']);(availabilityPattern[_0x1f968c]||[])[_0x242de3(0x1d7)](_0xa7a3db=>{const _0x2b2646=_0x242de3,_0x1fb1e6=document[_0x2b2646(0xe5)](_0x2b2646(0xda));_0x1fb1e6[_0x2b2646(0x11b)]=_0x2b2646(0x1c1);const _0x34e932=_0xa7a3db*GRID_H;_0x1fb1e6['style'][_0x2b2646(0x197)]=_0x34e932+'px',_0x1fb1e6[_0x2b2646(0xfd)][_0x2b2646(0x1d6)]='-'+_0xe648f+'px\x20-'+_0x34e932+'px',_0x1fb1e6['onclick']=_0x4457e0=>{const _0x5346ca=_0x2b2646;_0x4457e0[_0x5346ca(0xb6)](),toggleSinglePattern(_0x1f968c,_0xa7a3db);},_0x4a0c5a[_0x2b2646(0x1c7)](_0x1fb1e6);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x255ffb=a2_0x131be2,_0x1ad61b=new Date(),_0x42db2f=document[_0x255ffb(0x18b)](_0x255ffb(0x230)),_0x44564b=document['getElementById'](_0x255ffb(0x206)),_0x3f7de8=(_0x1ad61b[_0x255ffb(0x15f)]()*0x3c+_0x1ad61b[_0x255ffb(0x16c)]())/0x3c*GRID_H;_0x42db2f[_0x255ffb(0xfd)][_0x255ffb(0x197)]=_0x3f7de8+'px',_0x42db2f[_0x255ffb(0xfd)][_0x255ffb(0xff)]=_0x255ffb(0x184),_0x44564b['textContent']=String(_0x1ad61b[_0x255ffb(0x15f)]())[_0x255ffb(0x14f)](0x2,'0')+':'+String(_0x1ad61b[_0x255ffb(0x16c)]())[_0x255ffb(0x14f)](0x2,'0'),_0x44564b[_0x255ffb(0xfd)][_0x255ffb(0xff)]=_0x255ffb(0x184),_0x44564b[_0x255ffb(0xfd)][_0x255ffb(0x197)]=_0x3f7de8+'px';}document[a2_0x131be2(0x138)](a2_0x131be2(0xed),init);function openDayOptions(_0x5b8e4d){const _0x2bb81c=a2_0x131be2;selectedDayForOptions=_0x5b8e4d;const _0x441123=new Date(_0x5b8e4d),_0x307d3b={'weekday':_0x2bb81c(0x1b6),'day':'numeric','month':'long','year':_0x2bb81c(0x1eb)},_0x4d2868=_0x441123['toLocaleDateString']('ru-RU',_0x307d3b);document[_0x2bb81c(0x18b)](_0x2bb81c(0xfb))['textContent']=_0x4d2868[_0x2bb81c(0x22f)](0x0)[_0x2bb81c(0x153)]()+_0x4d2868['slice'](0x1);let _0x23055a=_0x441123[_0x2bb81c(0x13a)]()-0x1;if(_0x23055a===-0x1)_0x23055a=0x6;const _0x155148=availabilityPattern[_0x23055a]||[],_0x26f25d=0x18-_0x155148[_0x2bb81c(0x1b2)],_0xd4c287=_0x26f25d*0x3c,_0x4bc608=sessions[_0x2bb81c(0xe9)](_0x5ce799=>_0x5ce799[_0x2bb81c(0x17b)]===_0x5b8e4d&&_0x5ce799['status']!==_0x2bb81c(0x1f7));let _0x4e7a9f=_0x4bc608['map'](_0x503aba=>{const _0xf789d8=_0x2bb81c,[_0x204234,_0xbb14c7]=_0x503aba[_0xf789d8(0x21a)][_0xf789d8(0x20c)](':')[_0xf789d8(0x228)](Number),[_0x2d504e,_0x5d7a8c]=_0x503aba[_0xf789d8(0x189)]['split'](':')[_0xf789d8(0x228)](Number);return[_0x204234*0x3c+_0xbb14c7,_0x2d504e*0x3c+_0x5d7a8c];});_0x4e7a9f[_0x2bb81c(0xc1)]((_0x5c08f7,_0x29b583)=>_0x5c08f7[0x0]-_0x29b583[0x0]);let _0x3025ba=[];if(_0x4e7a9f['length']>0x0){let _0x58e253=_0x4e7a9f[0x0];for(let _0x29eb14=0x1;_0x29eb14<_0x4e7a9f[_0x2bb81c(0x1b2)];_0x29eb14++){_0x4e7a9f[_0x29eb14][0x0]<_0x58e253[0x1]?_0x58e253[0x1]=Math[_0x2bb81c(0xb7)](_0x58e253[0x1],_0x4e7a9f[_0x29eb14][0x1]):(_0x3025ba[_0x2bb81c(0x1da)](_0x58e253),_0x58e253=_0x4e7a9f[_0x29eb14]);}_0x3025ba[_0x2bb81c(0x1da)](_0x58e253);}let _0x3fcafe=0x0;_0x3025ba[_0x2bb81c(0x1d7)](_0x4be602=>_0x3fcafe+=_0x4be602[0x1]-_0x4be602[0x0]),document[_0x2bb81c(0x18b)](_0x2bb81c(0x223))[_0x2bb81c(0x1a7)]=formatMinsToHrs(_0xd4c287),document['getElementById'](_0x2bb81c(0x144))[_0x2bb81c(0x1a7)]=formatMinsToHrs(_0x3fcafe);const _0x5496e2=_0xd4c287>0x0?Math[_0x2bb81c(0x217)](_0x3fcafe/_0xd4c287*0x64):0x0,_0xb0596c=document[_0x2bb81c(0x18b)](_0x2bb81c(0x1e9));_0xb0596c[_0x2bb81c(0x1a7)]=_0x5496e2+'%';const _0x15195a=document[_0x2bb81c(0x18b)]('statLoadCard');if(_0x5496e2>0x64)_0xb0596c[_0x2bb81c(0xfd)]['color']=_0x2bb81c(0xb4),_0x15195a[_0x2bb81c(0xfd)][_0x2bb81c(0x1c9)]=_0x2bb81c(0x1a4);else _0x5496e2>0x50?(_0xb0596c[_0x2bb81c(0xfd)][_0x2bb81c(0xd8)]=_0x2bb81c(0x15d),_0x15195a['style'][_0x2bb81c(0x1c9)]=_0x2bb81c(0xc8)):(_0xb0596c[_0x2bb81c(0xfd)]['color']=_0x2bb81c(0x1bb),_0x15195a['style']['borderColor']='rgba(255,255,255,0.05)');const _0x4d2ddd=document[_0x2bb81c(0x18b)](_0x2bb81c(0x15e));_0x4d2ddd[_0x2bb81c(0x185)]='';_0x4bc608[_0x2bb81c(0x1b2)]===0x0?_0x4d2ddd[_0x2bb81c(0x185)]=_0x2bb81c(0x1d4):(_0x4bc608[_0x2bb81c(0xc1)]((_0x157125,_0x2401a4)=>_0x157125[_0x2bb81c(0x21a)][_0x2bb81c(0x183)](_0x2401a4[_0x2bb81c(0x21a)])),_0x4bc608['forEach'](_0x10ca53=>{const _0x2fbdb1=_0x2bb81c,_0x187d32=clients[_0x2fbdb1(0x1be)](_0x47f798=>_0x47f798[_0x2fbdb1(0x152)]===_0x10ca53['client']),_0x2ff299=_0x187d32?_0x187d32[_0x2fbdb1(0xd8)]:_0x2fbdb1(0x191),_0x35fbc9=_0x10ca53[_0x2fbdb1(0x20b)]===_0x2fbdb1(0x130),_0x1183ee=_0x35fbc9?_0x2fbdb1(0x141):'',_0x497e78=document['createElement'](_0x2fbdb1(0xda));_0x497e78['className']=_0x2fbdb1(0xb1),_0x497e78[_0x2fbdb1(0xfd)][_0x2fbdb1(0x14c)]=_0x2ff299,_0x497e78[_0x2fbdb1(0x185)]=_0x2fbdb1(0x1b8)+_0x10ca53[_0x2fbdb1(0x21a)]+_0x2fbdb1(0xd7)+_0x10ca53[_0x2fbdb1(0x189)]+_0x2fbdb1(0xe2)+_0x10ca53[_0x2fbdb1(0x120)]+_0x2fbdb1(0x109)+_0x1183ee+_0x2fbdb1(0x169),_0x4d2ddd[_0x2fbdb1(0x1c7)](_0x497e78);}));const _0x92e251=document[_0x2bb81c(0x18b)](_0x2bb81c(0x1e3)),_0x27522a=dateExceptions[_0x5b8e4d]===_0x2bb81c(0x1c8);_0x27522a?(_0x92e251['textContent']=_0x2bb81c(0x175),_0x92e251['className']='btn-primary\x20btn-secondary',_0x92e251['style']['color']=_0x2bb81c(0x1bb),_0x92e251[_0x2bb81c(0xfd)][_0x2bb81c(0xbc)]=_0x2bb81c(0x21c)):(_0x92e251[_0x2bb81c(0x1a7)]=_0x2bb81c(0x1d5),_0x92e251[_0x2bb81c(0x11b)]=_0x2bb81c(0x188),_0x92e251['style'][_0x2bb81c(0xd8)]=_0x2bb81c(0xb4),_0x92e251['style']['background']=_0x2bb81c(0x194)),openSheet(_0x2bb81c(0x121));}let currentAnPeriod=a2_0x131be2(0x1cb);function openAnalytics(){const _0x452fc3=a2_0x131be2,_0x1af324=document[_0x452fc3(0x21b)](_0x452fc3(0x134));setAnalyticsPeriod(_0x452fc3(0x1cb),_0x1af324),closeAllSheets(),openSheet(_0x452fc3(0x150));}function setAnalyticsPeriod(_0x140ed8,_0x4f8127){const _0x437e19=a2_0x131be2;currentAnPeriod=_0x140ed8,document['querySelectorAll']('.period-switch\x20.p-btn')['forEach'](_0x447bad=>_0x447bad[_0x437e19(0xae)]['remove'](_0x437e19(0xd5)));if(_0x4f8127)_0x4f8127[_0x437e19(0xae)][_0x437e19(0x135)]('active');const _0x5ceff2=document[_0x437e19(0x18b)](_0x437e19(0xd2));_0x5ceff2['style'][_0x437e19(0xff)]=_0x140ed8===_0x437e19(0x209)?'flex':'none';const _0x49f06a=new Date();let _0x1fa098=new Date(),_0x26e378=new Date();if(_0x140ed8===_0x437e19(0x1cb))_0x1fa098=getStartOfWeek(_0x49f06a),_0x26e378=new Date(_0x1fa098),_0x26e378[_0x437e19(0x225)](_0x26e378['getDate']()+0x6);else{if(_0x140ed8==='month')_0x1fa098=new Date(_0x49f06a[_0x437e19(0x1c0)](),_0x49f06a[_0x437e19(0x202)](),0x1),_0x26e378=new Date(_0x49f06a[_0x437e19(0x1c0)](),_0x49f06a[_0x437e19(0x202)]()+0x1,0x0);else{!document[_0x437e19(0x18b)](_0x437e19(0x1ac))[_0x437e19(0x19e)]&&(document['getElementById'](_0x437e19(0x1ac))[_0x437e19(0x19e)]=getLocalDateStr(_0x49f06a),document[_0x437e19(0x18b)](_0x437e19(0x131))['value']=getLocalDateStr(_0x49f06a));refreshAnalytics();return;}}document[_0x437e19(0x18b)]('anStart')['value']=getLocalDateStr(_0x1fa098),document[_0x437e19(0x18b)](_0x437e19(0x131))[_0x437e19(0x19e)]=getLocalDateStr(_0x26e378),refreshAnalytics();}function refreshAnalytics(){const _0x42be1c=a2_0x131be2,_0xaa9dbc=document['getElementById'](_0x42be1c(0x1ac))['value'],_0x144642=document['getElementById']('anEnd')[_0x42be1c(0x19e)];if(!_0xaa9dbc||!_0x144642)return;const _0x37c858=sessions['filter'](_0x68b186=>_0x68b186[_0x42be1c(0x17b)]>=_0xaa9dbc&&_0x68b186[_0x42be1c(0x17b)]<=_0x144642&&_0x68b186[_0x42be1c(0x20b)]!==_0x42be1c(0x1f7)),_0xb0c38d=_0x37c858[_0x42be1c(0x1b2)],_0x15d86c=_0x37c858[_0x42be1c(0xe9)](_0xde19e7=>_0xde19e7[_0x42be1c(0x20b)]===_0x42be1c(0x130))[_0x42be1c(0x1b2)],_0x5262df=_0xb0c38d>0x0?Math[_0x42be1c(0x217)](_0x15d86c/_0xb0c38d*0x64):0x0;document['getElementById'](_0x42be1c(0x207))[_0x42be1c(0x1a7)]=_0x5262df+'%',document['getElementById'](_0x42be1c(0x16b))['textContent']=_0x15d86c+_0x42be1c(0x16d)+_0xb0c38d+_0x42be1c(0x13c);const _0x4b497c=document[_0x42be1c(0x18b)](_0x42be1c(0x129)),_0x347f14=0x2*Math['PI']*0x23,_0x3f2f2c=_0x347f14-_0x5262df/0x64*_0x347f14;_0x4b497c[_0x42be1c(0xfd)][_0x42be1c(0x1ea)]=_0x3f2f2c;const _0x24998a={};_0x37c858[_0x42be1c(0x1d7)](_0x1318f7=>{const _0x90e9cb=_0x42be1c;if(!_0x24998a[_0x1318f7['client']]){const _0x2c0a50=clients['find'](_0x3261ca=>_0x3261ca[_0x90e9cb(0x152)]===_0x1318f7[_0x90e9cb(0x120)]);_0x24998a[_0x1318f7[_0x90e9cb(0x120)]]={'total':0x0,'done':0x0,'color':_0x2c0a50?_0x2c0a50['color']:_0x90e9cb(0x191)};}_0x24998a[_0x1318f7[_0x90e9cb(0x120)]]['total']++;if(_0x1318f7[_0x90e9cb(0x20b)]===_0x90e9cb(0x130))_0x24998a[_0x1318f7[_0x90e9cb(0x120)]][_0x90e9cb(0x1f9)]++;});const _0x8c2379=document[_0x42be1c(0x18b)](_0x42be1c(0x17c));_0x8c2379[_0x42be1c(0x185)]='';const _0x4a1720=Object[_0x42be1c(0x16a)](_0x24998a)[_0x42be1c(0xc1)]((_0x2817b4,_0x35dfd8)=>_0x35dfd8[0x1][_0x42be1c(0xf2)]-_0x2817b4[0x1]['total']);if(_0x4a1720[_0x42be1c(0x1b2)]===0x0){_0x8c2379['innerHTML']=_0x42be1c(0x1ab);return;}_0x4a1720[_0x42be1c(0x1d7)](([_0x177d8d,_0x28e19d])=>{const _0x1c6eb1=_0x42be1c,_0x15069f=Math[_0x1c6eb1(0x217)](_0x28e19d[_0x1c6eb1(0x1f9)]/_0x28e19d[_0x1c6eb1(0xf2)]*0x64),_0x1eb307=document['createElement']('div');_0x1eb307[_0x1c6eb1(0x11b)]='client-stat-card',_0x1eb307[_0x1c6eb1(0xfd)][_0x1c6eb1(0x14c)]=_0x28e19d[_0x1c6eb1(0xd8)],_0x1eb307['innerHTML']=_0x1c6eb1(0x170)+_0x177d8d+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x28e19d[_0x1c6eb1(0x1f9)]+'</span>\x20/\x20'+_0x28e19d[_0x1c6eb1(0xf2)]+_0x1c6eb1(0x1a3)+_0x15069f+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x8c2379[_0x1c6eb1(0x1c7)](_0x1eb307);});}function a2_0x4b34(_0x286a92,_0xca625e){_0x286a92=_0x286a92-0xae;const _0x1984df=a2_0x193d();let _0x404c7e=_0x1984df[_0x286a92];return _0x404c7e;}function formatMinsToHrs(_0xcd2e73){const _0x430572=a2_0x131be2;if(_0xcd2e73===0x0)return'0';const _0x55015d=Math[_0x430572(0x140)](_0xcd2e73/0x3c),_0x155edf=_0xcd2e73%0x3c;if(_0x155edf===0x0)return _0x55015d+'—á';return _0x55015d+'—á\x20'+_0x155edf+'–º';}