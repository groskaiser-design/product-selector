const a2_0x42c71d=a2_0x5684;(function(_0x1d8fe6,_0x4cab13){const _0x367feb=a2_0x5684,_0x4e06fc=_0x1d8fe6();while(!![]){try{const _0x2b449c=-parseInt(_0x367feb(0x189))/0x1+-parseInt(_0x367feb(0x183))/0x2*(-parseInt(_0x367feb(0x1c0))/0x3)+parseInt(_0x367feb(0x26e))/0x4*(parseInt(_0x367feb(0x19f))/0x5)+-parseInt(_0x367feb(0x1a4))/0x6+-parseInt(_0x367feb(0x173))/0x7*(parseInt(_0x367feb(0x2a5))/0x8)+-parseInt(_0x367feb(0x1b3))/0x9+parseInt(_0x367feb(0x210))/0xa;if(_0x2b449c===_0x4cab13)break;else _0x4e06fc['push'](_0x4e06fc['shift']());}catch(_0x2ebc1f){_0x4e06fc['push'](_0x4e06fc['shift']());}}}(a2_0x51c5,0x7fee4),function initTMA(){const _0x9d4d16=a2_0x5684,_0x1cf3d5=(function(){let _0x2b4dac=!![];return function(_0x41c0e2,_0x20e0a6){const _0x21569f=_0x2b4dac?function(){const _0x464d68=a2_0x5684;if(_0x20e0a6){const _0x1484c5=_0x20e0a6[_0x464d68(0x131)](_0x41c0e2,arguments);return _0x20e0a6=null,_0x1484c5;}}:function(){};return _0x2b4dac=![],_0x21569f;};}()),_0x17eae6=_0x1cf3d5(this,function(){const _0x2c881e=a2_0x5684;return _0x17eae6[_0x2c881e(0x201)]()[_0x2c881e(0x1fa)](_0x2c881e(0x1e6))['toString']()['constructor'](_0x17eae6)[_0x2c881e(0x1fa)](_0x2c881e(0x1e6));});_0x17eae6();try{const _0x3a279f=window['Telegram']?.['WebApp'];if(!_0x3a279f)return;_0x3a279f[_0x9d4d16(0x179)](),_0x3a279f['expand']();try{_0x3a279f[_0x9d4d16(0x28a)]('#050505'),_0x3a279f['setBackgroundColor']&&_0x3a279f[_0x9d4d16(0x237)](_0x9d4d16(0x198));}catch(_0x305e09){console['log']('Error\x20setting\x20color:',_0x305e09);}try{_0x3a279f[_0x9d4d16(0x23e)]&&(_0x3a279f['BackButton']['show'](),_0x3a279f[_0x9d4d16(0x23e)][_0x9d4d16(0x23c)](),_0x3a279f[_0x9d4d16(0x23e)][_0x9d4d16(0x19e)](function(){const _0x1d8c09=_0x9d4d16;window[_0x1d8c09(0x1c7)][_0x1d8c09(0x14a)]=_0x1d8c09(0x2af);}));}catch(_0x446749){console['log'](_0x9d4d16(0x17e),_0x446749);}try{if(_0x3a279f[_0x9d4d16(0x1f9)])_0x3a279f[_0x9d4d16(0x1f9)]();}catch(_0x4437ae){}}catch(_0x4cc3dc){console[_0x9d4d16(0x206)](_0x9d4d16(0x217),_0x4cc3dc);}}());function isAdmin(){const _0x2d779e=a2_0x5684;try{const _0x41eccd=Number(window[_0x2d779e(0x229)]?.[_0x2d779e(0x250)]?.[_0x2d779e(0x2a6)]?.[_0x2d779e(0x1c3)]?.['id']);return _0x41eccd===0xbaf7174;}catch(_0x312106){return![];}}const APP_VERSION=a2_0x42c71d(0x16b),API_URL='https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec',GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x42c71d(0x292),KEY_SESSIONS='uc_sessions_v9',KEY_SETTINGS=a2_0x42c71d(0x1ef);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0xda1e64=a2_0x42c71d;return window[_0xda1e64(0x229)]?.[_0xda1e64(0x250)]?.['initDataUnsafe']?.[_0xda1e64(0x1c3)]?.['id']||_0xda1e64(0x20e);},'saveLocally'(){const _0x28b6ac=a2_0x42c71d;try{localStorage[_0x28b6ac(0x23f)](KEY_CLIENTS,JSON['stringify'](clients)),localStorage[_0x28b6ac(0x23f)](KEY_SESSIONS,JSON[_0x28b6ac(0x1aa)](sessions)),localStorage[_0x28b6ac(0x23f)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x528d13){console[_0x28b6ac(0x206)](_0x28b6ac(0x1c9),_0x528d13);}},'loadLocal'(){const _0x1b9b63=a2_0x42c71d;try{const _0x24ffb2=localStorage[_0x1b9b63(0x185)](KEY_CLIENTS);if(_0x24ffb2)clients=JSON[_0x1b9b63(0x186)](_0x24ffb2);const _0x21dc5c=localStorage[_0x1b9b63(0x185)](KEY_SESSIONS);if(_0x21dc5c)sessions=JSON['parse'](_0x21dc5c);const _0x4f1333=localStorage['getItem'](KEY_SETTINGS);if(_0x4f1333){const _0x3aa46e=JSON[_0x1b9b63(0x186)](_0x4f1333);if(_0x3aa46e[_0x1b9b63(0x1af)])availabilityPattern=_0x3aa46e['pattern'];if(_0x3aa46e['exceptions'])dateExceptions=_0x3aa46e[_0x1b9b63(0x1a0)];if(_0x3aa46e[_0x1b9b63(0x233)])specialRanges=_0x3aa46e[_0x1b9b63(0x233)];}else{for(let _0x45f65d=0x0;_0x45f65d<0x7;_0x45f65d++)availabilityPattern[_0x45f65d]=Array[_0x1b9b63(0x1d3)]({'length':0xc},(_0x5e6f0b,_0x2307f9)=>_0x2307f9+0x9);}}catch(_0x1492a2){console[_0x1b9b63(0x206)](_0x1b9b63(0x24a),_0x1492a2);}},async 'fetchFromServer'(_0x52da26,_0x3bf683={}){const _0x23cea2=a2_0x42c71d,_0x54aec6=window['Telegram']?.['WebApp'],_0x2dae98={'action':_0x52da26,'init_data':_0x54aec6?.[_0x23cea2(0x158)]||'',..._0x3bf683};try{const _0x115cb2=await fetch(API_URL,{'method':_0x23cea2(0x139),'headers':{'Content-Type':_0x23cea2(0x26b)},'body':JSON[_0x23cea2(0x1aa)](_0x2dae98)}),_0x329e19=await _0x115cb2[_0x23cea2(0x262)]();if(!_0x329e19['ok'])throw new Error(_0x329e19[_0x23cea2(0x206)]||_0x23cea2(0x1b2));return _0x329e19[_0x23cea2(0x297)];}catch(_0x1d8426){console[_0x23cea2(0x206)]('[API\x20'+_0x52da26+_0x23cea2(0x199),_0x1d8426);throw _0x1d8426;}},async 'syncLoad'(){const _0xf6f914=a2_0x42c71d,_0x38d006=new Date(),_0x189c62=_0x38d006['getFullYear']()+'-'+String(_0x38d006[_0xf6f914(0x245)]()+0x1)[_0xf6f914(0x28d)](0x2,'0'),_0x52b9ad=new Date(_0x38d006);_0x52b9ad['setMonth'](_0x38d006[_0xf6f914(0x245)]()+0x1);const _0x11529b=_0x52b9ad[_0xf6f914(0x2b0)]()+'-'+String(_0x52b9ad[_0xf6f914(0x245)]()+0x1)[_0xf6f914(0x28d)](0x2,'0'),_0xb095e8=Date[_0xf6f914(0x184)]();console[_0xf6f914(0x25f)](_0xf6f914(0x224)+_0x189c62+',\x20'+_0x11529b+_0xf6f914(0x12c));try{const [_0xf37ce7,_0xea6874]=await Promise['all']([this[_0xf6f914(0x2b4)]('init_load',{'month_str':_0x189c62}),this[_0xf6f914(0x2b4)]('init_load',{'month_str':_0x11529b})]);if(lastUserActionTime>_0xb095e8)return console['warn']('[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response'),![];return this[_0xf6f914(0x161)](_0xf37ce7,_0x189c62),this[_0xf6f914(0x161)](_0xea6874,_0x11529b),this[_0xf6f914(0x180)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x12f985){console[_0xf6f914(0x206)](_0x12f985);throw _0x12f985;}},'mergeServerData'(_0x5ae2de,_0x3240ba){const _0x223ed6=a2_0x42c71d;if(!_0x5ae2de)return;_0x5ae2de[_0x223ed6(0x290)]&&Array[_0x223ed6(0x1bb)](_0x5ae2de[_0x223ed6(0x290)])&&(clients=_0x5ae2de[_0x223ed6(0x290)]);if(_0x5ae2de[_0x223ed6(0x24c)]){if(_0x5ae2de[_0x223ed6(0x24c)][_0x223ed6(0x1af)])availabilityPattern=_0x5ae2de['settings'][_0x223ed6(0x1af)];if(_0x5ae2de[_0x223ed6(0x24c)]['exceptions'])dateExceptions=_0x5ae2de[_0x223ed6(0x24c)][_0x223ed6(0x1a0)];if(_0x5ae2de[_0x223ed6(0x24c)][_0x223ed6(0x233)])specialRanges=_0x5ae2de[_0x223ed6(0x24c)]['ranges'];if(_0x5ae2de[_0x223ed6(0x24c)]['cancel_window']){localStorage['setItem'](_0x223ed6(0x248),_0x5ae2de[_0x223ed6(0x24c)][_0x223ed6(0x156)]);const _0x721a21=document[_0x223ed6(0x1fd)](_0x223ed6(0x1a1));if(_0x721a21)_0x721a21['value']=_0x5ae2de[_0x223ed6(0x24c)]['cancel_window'];}}_0x5ae2de[_0x223ed6(0x1c4)]&&(sessions=sessions[_0x223ed6(0x231)](_0x1294b9=>!_0x1294b9[_0x223ed6(0x208)][_0x223ed6(0x18f)](_0x3240ba)),Object[_0x223ed6(0x28c)](_0x5ae2de['calendar'])['forEach'](_0x14e8cd=>{const _0x12d6ff=_0x223ed6,_0xc2a79c=_0x5ae2de[_0x12d6ff(0x1c4)][_0x14e8cd];_0xc2a79c['forEach'](_0x4e2cee=>{const _0x578d18=_0x12d6ff,_0x575596=clients[_0x578d18(0x24f)](_0x12bc6d=>String(_0x12bc6d['id'])===String(_0x4e2cee['c']));sessions[_0x578d18(0x288)]({'id':_0x4e2cee['i'],'clientId':_0x4e2cee['c'],'client':_0x575596?_0x575596['name']:_0x578d18(0x272),'dateStr':_0x3240ba+'-'+_0x14e8cd[_0x578d18(0x28d)](0x2,'0'),'start':_0x4e2cee['s'],'end':_0x4e2cee['e'],'status':_0x4e2cee['st']||_0x578d18(0x278),'note':_0x4e2cee['n']||'','seriesId':_0x4e2cee[_0x578d18(0x18e)]||null});});}));},async 'syncBatch'(_0x88579){const _0x317ce7=a2_0x42c71d,_0x418fe3=[...new Set(_0x88579)],_0x135745=_0x418fe3['map'](_0x1d93ac=>{const _0x34b203=a2_0x5684,_0xbb5f4=sessions['filter'](_0x6d14cc=>_0x6d14cc[_0x34b203(0x208)]===_0x1d93ac&&_0x6d14cc[_0x34b203(0x221)]!==_0x34b203(0x1ff)),_0x5ec1c8=_0xbb5f4[_0x34b203(0x241)](_0x2c0a69=>({'i':_0x2c0a69['id'],'c':_0x2c0a69[_0x34b203(0x252)],'s':_0x2c0a69[_0x34b203(0x259)],'e':_0x2c0a69[_0x34b203(0x17a)],'st':_0x2c0a69[_0x34b203(0x221)],'n':_0x2c0a69[_0x34b203(0x256)],'sid':_0x2c0a69[_0x34b203(0x146)]}));return{'date':_0x1d93ac,'day_data':_0x5ec1c8};});if(_0x135745[_0x317ce7(0x1d0)]===0x0)return;console[_0x317ce7(0x25f)]('[Sync]\x20Pushing\x20batch\x20updates\x20for\x20'+_0x135745['length']+_0x317ce7(0x1fc)),await this[_0x317ce7(0x2b4)](_0x317ce7(0x234),{'changes':_0x135745});}};async function init(){const _0x2f65cf=a2_0x42c71d;DataManager[_0x2f65cf(0x1d1)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById'](_0x2f65cf(0x268))[_0x2f65cf(0x1a9)]('scroll',()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x2f65cf(0x216)]()[_0x2f65cf(0x1b8)](()=>{const _0x23836e=_0x2f65cf;showToast(_0x23836e(0x197),!![]);})[_0x2f65cf(0x1b6)](_0x1818cd=>{const _0x3a8eb0=_0x2f65cf;showToast(_0x3a8eb0(0x1f6),![]);});}function generateId(){const _0x4ac9ad=a2_0x42c71d;return Date[_0x4ac9ad(0x184)]()['toString'](0x24)+Math[_0x4ac9ad(0x295)]()[_0x4ac9ad(0x201)](0x24)[_0x4ac9ad(0x2b3)](0x2,0x5);}function toggleSeriesInput(){const _0x52d68b=a2_0x42c71d,_0x4884d1=document[_0x52d68b(0x1fd)](_0x52d68b(0x285))['checked'],_0x38ed2b=document[_0x52d68b(0x1fd)](_0x52d68b(0x144));_0x38ed2b[_0x52d68b(0x1dd)][_0x52d68b(0x1e9)]=_0x4884d1?'block':'none';const _0x667016=document['getElementById'](_0x52d68b(0x13a));_0x667016[_0x52d68b(0x1dd)][_0x52d68b(0x16e)]=_0x4884d1?_0x52d68b(0x160):_0x52d68b(0x152);}function openAddSession(_0x63d86){const _0x2e7ea7=a2_0x42c71d;editingId=null,populateClientSelect(),document[_0x2e7ea7(0x1fd)]('sheetTitle')[_0x2e7ea7(0x12d)]='–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å',document['getElementById'](_0x2e7ea7(0x177))[_0x2e7ea7(0x1dd)][_0x2e7ea7(0x1e9)]=_0x2e7ea7(0x2a9),document[_0x2e7ea7(0x1fd)](_0x2e7ea7(0x153))[_0x2e7ea7(0x1dd)][_0x2e7ea7(0x1e9)]=_0x2e7ea7(0x2a9);const _0x46084e=document[_0x2e7ea7(0x1fd)](_0x2e7ea7(0x13a)),_0x1d4338=document[_0x2e7ea7(0x1fd)](_0x2e7ea7(0x144));_0x46084e[_0x2e7ea7(0x1dd)][_0x2e7ea7(0x1e9)]='flex',_0x46084e['style'][_0x2e7ea7(0x16e)]=_0x2e7ea7(0x152),document[_0x2e7ea7(0x1fd)]('inpRecurring')['checked']=![],document['getElementById'](_0x2e7ea7(0x24d))[_0x2e7ea7(0x159)]=0x4,_0x1d4338[_0x2e7ea7(0x1dd)]['display']=_0x2e7ea7(0x2a9),document['getElementById']('inpDate')[_0x2e7ea7(0x159)]=getLocalDateStr(_0x63d86),updateDateDisplay();const _0x4cabe3=_0x63d86[_0x2e7ea7(0x1e3)]();document['getElementById']('inpStart')[_0x2e7ea7(0x159)]=String(_0x4cabe3)[_0x2e7ea7(0x28d)](0x2,'0')+_0x2e7ea7(0x255),document[_0x2e7ea7(0x1fd)](_0x2e7ea7(0x286))[_0x2e7ea7(0x159)]=String(_0x4cabe3+0x1)[_0x2e7ea7(0x28d)](0x2,'0')+_0x2e7ea7(0x255),openSheet(_0x2e7ea7(0x247));}function openEdit(_0x58319d){const _0xc5237e=a2_0x42c71d;editingId=_0x58319d['id'],populateClientSelect(),document[_0xc5237e(0x1fd)](_0xc5237e(0x26f))[_0xc5237e(0x12d)]=_0xc5237e(0x260),document[_0xc5237e(0x1fd)](_0xc5237e(0x177))[_0xc5237e(0x1dd)][_0xc5237e(0x1e9)]=_0xc5237e(0x140);const _0x2d725d=document[_0xc5237e(0x1fd)](_0xc5237e(0x153));_0x2d725d[_0xc5237e(0x1dd)][_0xc5237e(0x1e9)]=_0xc5237e(0x29b);_0x58319d[_0xc5237e(0x221)]===_0xc5237e(0x269)?(_0x2d725d['className']='btn-status-toggle\x20undo-mode',_0x2d725d[_0xc5237e(0x1db)]=_0xc5237e(0x212)):(_0x2d725d['className']=_0xc5237e(0x136),_0x2d725d['innerHTML']=_0xc5237e(0x20d));const _0x1099e6=!!_0x58319d[_0xc5237e(0x146)];document[_0xc5237e(0x1fd)](_0xc5237e(0x13a))[_0xc5237e(0x1dd)]['display']=_0xc5237e(0x2a9),document[_0xc5237e(0x1fd)]('seriesCountContainer')[_0xc5237e(0x1dd)][_0xc5237e(0x1e9)]=_0xc5237e(0x2a9),_0x1099e6?(document[_0xc5237e(0x1fd)](_0xc5237e(0x296))['style']['display']=_0xc5237e(0x29b),document['getElementById'](_0xc5237e(0x296))[_0xc5237e(0x2a1)](_0xc5237e(0x282))[_0xc5237e(0x12d)]=_0xc5237e(0x243)):document[_0xc5237e(0x1fd)]('patternInfoBox')[_0xc5237e(0x1dd)][_0xc5237e(0x1e9)]=_0xc5237e(0x2a9),document[_0xc5237e(0x1fd)]('inpClient')[_0xc5237e(0x159)]=_0x58319d['client'],document[_0xc5237e(0x1fd)](_0xc5237e(0x25e))[_0xc5237e(0x159)]=_0x58319d[_0xc5237e(0x208)],document[_0xc5237e(0x1fd)](_0xc5237e(0x1e1))[_0xc5237e(0x159)]=_0x58319d[_0xc5237e(0x259)],document[_0xc5237e(0x1fd)]('inpEnd')[_0xc5237e(0x159)]=_0x58319d[_0xc5237e(0x17a)],document['getElementById']('inpNote')[_0xc5237e(0x159)]=_0x58319d[_0xc5237e(0x256)]||'',updateDateDisplay(),openSheet(_0xc5237e(0x247));}async function trySaveSession(){const _0x54f62e=a2_0x42c71d,_0x3bdea9=document['getElementById'](_0x54f62e(0x1cf))[_0x54f62e(0x159)],_0x375d32=document['getElementById'](_0x54f62e(0x25e))[_0x54f62e(0x159)],_0x25d3b4=document[_0x54f62e(0x1fd)]('inpStart')['value'],_0x4b0405=document[_0x54f62e(0x1fd)]('inpEnd')[_0x54f62e(0x159)],_0x384d1a=document['getElementById'](_0x54f62e(0x1b0))['value'],_0x4dd9f0=document[_0x54f62e(0x1fd)](_0x54f62e(0x285))[_0x54f62e(0x284)];let _0x5b7307=0x4;if(_0x4dd9f0){const _0x1cd8a9=parseInt(document['getElementById'](_0x54f62e(0x24d))[_0x54f62e(0x159)]);if(!_0x1cd8a9||_0x1cd8a9<0x2){showToast('–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏',![]);return;}if(_0x1cd8a9>0x64){showToast('–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑',![]);return;}_0x5b7307=_0x1cd8a9;}const _0x59cf2b=clients[_0x54f62e(0x24f)](_0x39dcc2=>_0x39dcc2[_0x54f62e(0x2a3)]===_0x3bdea9);if(!_0x59cf2b){showToast(_0x54f62e(0x264),![]);return;}const _0x3eab57=validateAppointment(_0x375d32,_0x25d3b4,_0x4b0405,editingId,_0x59cf2b['id']);if(!_0x3eab57[_0x54f62e(0x196)]){showToast(_0x3eab57[_0x54f62e(0x1a8)],![]);return;}_0x3eab57[_0x54f62e(0x16c)]&&showToast(_0x3eab57[_0x54f62e(0x16c)],![]);const _0x3b058e={'client':_0x3bdea9,'clientId':_0x59cf2b['id'],'start':_0x25d3b4,'end':_0x4b0405,'note':_0x384d1a,'status':_0x54f62e(0x278)},_0x48536a=editingId?sessions[_0x54f62e(0x24f)](_0x166f2a=>_0x166f2a['id']===editingId):null;if(_0x48536a&&_0x48536a['seriesId']){tempSessionData={..._0x3b058e,'dateStr':_0x375d32,'id':editingId,'seriesId':_0x48536a['seriesId']},openActionSheet(_0x54f62e(0x13f));return;}let _0x6490a5=null;if(!editingId)_0x6490a5='create';else{if(_0x48536a){if(String(_0x48536a[_0x54f62e(0x252)])!==String(_0x59cf2b['id']))console[_0x54f62e(0x25f)](_0x54f62e(0x240)),NotificationManager[_0x54f62e(0x225)](_0x54f62e(0x1df),_0x48536a),_0x6490a5=_0x54f62e(0x17b);else(_0x48536a[_0x54f62e(0x259)]!==_0x25d3b4||_0x48536a[_0x54f62e(0x17a)]!==_0x4b0405||_0x48536a['dateStr']!==_0x375d32)&&(_0x6490a5=_0x54f62e(0x1ba));}}if(!editingId&&_0x4dd9f0){createBatchSeries(_0x3b058e,_0x375d32,_0x5b7307),NotificationManager[_0x54f62e(0x225)](_0x54f62e(0x17b),{..._0x3b058e,'dateStr':_0x375d32});return;}lastUserActionTime=Date[_0x54f62e(0x184)]();const _0x25b032={..._0x3b058e,'dateStr':_0x375d32,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x25b032),_0x6490a5&&NotificationManager['send'](_0x6490a5,_0x25b032);}function toggleSessionStatus(){const _0x3c8680=a2_0x42c71d;lastUserActionTime=Date[_0x3c8680(0x184)]();const _0x224ead=sessions['find'](_0x363130=>_0x363130['id']===editingId);if(!_0x224ead)return;const _0x2a0203=_0x224ead[_0x3c8680(0x221)]===_0x3c8680(0x269)?_0x3c8680(0x278):_0x3c8680(0x269);_0x224ead[_0x3c8680(0x221)]=_0x2a0203,saveSingleSession(_0x224ead),_0x2a0203===_0x3c8680(0x269)&&NotificationManager[_0x3c8680(0x225)](_0x3c8680(0x16a),_0x224ead),showToast(_0x2a0203===_0x3c8680(0x269)?_0x3c8680(0x27f):_0x3c8680(0x2b6),!![]);}function validateAppointment(_0x1afd10,_0x5cf3b2,_0x5d71f7,_0x20dd9b,_0x4611d1){const _0x86b662=a2_0x42c71d,[_0x272d7f,_0x3c6daf]=_0x5cf3b2[_0x86b662(0x232)](':')[_0x86b662(0x241)](Number),[_0x1c255d,_0x136038]=_0x5d71f7[_0x86b662(0x232)](':')[_0x86b662(0x241)](Number),_0x566742=_0x272d7f*0x3c+_0x3c6daf,_0x3f9070=_0x1c255d*0x3c+_0x136038,_0x15cad3=String(_0x4611d1);let _0x141f12=![],_0x1b994b='';for(let _0x157452 of sessions){if(_0x157452[_0x86b662(0x208)]!==_0x1afd10)continue;if(_0x157452[_0x86b662(0x221)]===_0x86b662(0x274))continue;if(_0x20dd9b&&String(_0x157452['id'])===String(_0x20dd9b))continue;const [_0x2d6e40,_0x5273a8]=_0x157452[_0x86b662(0x259)][_0x86b662(0x232)](':')[_0x86b662(0x241)](Number),[_0x5e149b,_0x2174ed]=_0x157452['end'][_0x86b662(0x232)](':')[_0x86b662(0x241)](Number),_0x511516=_0x2d6e40*0x3c+_0x5273a8,_0x2d1fd8=_0x5e149b*0x3c+_0x2174ed;if(Math[_0x86b662(0x14b)](_0x566742,_0x511516)<Math['min'](_0x3f9070,_0x2d1fd8)){if(_0x157452[_0x86b662(0x252)]&&String(_0x157452['clientId'])===_0x15cad3)return{'valid':![],'msg':_0x86b662(0x242)+_0x157452[_0x86b662(0x276)]+_0x86b662(0x1bc)};_0x141f12=!![],_0x1b994b=_0x157452[_0x86b662(0x276)];}}if(_0x141f12)return{'valid':!![],'warning':_0x86b662(0x191)+_0x1b994b};return{'valid':!![]};}function saveSingleSession(_0x34050e){const _0x10e48c=a2_0x42c71d;if(editingId){const _0x3b020c=sessions[_0x10e48c(0x28e)](_0x517f65=>_0x517f65['id']===editingId);if(_0x3b020c!==-0x1)sessions[_0x3b020c]=_0x34050e;}else sessions['push'](_0x34050e);afterSaveAction([_0x34050e[_0x10e48c(0x208)]]);}function createBatchSeries(_0x4800f9,_0x278406,_0x44760c){const _0x305695=a2_0x42c71d,_0x2a24fc=generateId(),_0x33d17b=[],_0x2e6345=[];let _0x4598db=0x0,_0x32c56c=new Date(_0x278406);for(let _0x35a99d=0x0;_0x35a99d<_0x44760c;_0x35a99d++){const _0x8f1831=getLocalDateStr(_0x32c56c),_0x3efb4f=validateAppointment(_0x8f1831,_0x4800f9[_0x305695(0x259)],_0x4800f9[_0x305695(0x17a)],null,_0x4800f9[_0x305695(0x252)]);if(!_0x3efb4f[_0x305695(0x196)])console[_0x305695(0x25f)](_0x305695(0x294)+_0x8f1831+_0x305695(0x13e)),_0x4598db++;else{const _0x54a5fa={..._0x4800f9,'id':generateId(),'dateStr':_0x8f1831,'seriesId':_0x2a24fc};_0x2e6345[_0x305695(0x288)](_0x54a5fa),_0x33d17b['push'](_0x8f1831);}_0x32c56c[_0x305695(0x29e)](_0x32c56c[_0x305695(0x18b)]()+0x7);}if(_0x2e6345['length']===0x0){showToast(_0x305695(0x1b4),![]);return;}sessions[_0x305695(0x288)](..._0x2e6345),lastUserActionTime=Date[_0x305695(0x184)]();let _0x557b71=_0x305695(0x154)+_0x2e6345[_0x305695(0x1d0)];_0x4598db>0x0&&(_0x557b71+=_0x305695(0x1b9)+_0x4598db+')'),showToast(_0x557b71,!![]),afterSaveAction(_0x33d17b);}function updateSeriesBatch(_0x45603c,_0x12b035){const _0xa1f728=a2_0x42c71d,_0x52d511=[],_0x8e834a=_0x12b035['seriesId'];if(_0x45603c==='single'){const _0x44d3ac={..._0x12b035,'seriesId':null},_0x8c85fe=sessions[_0xa1f728(0x28e)](_0x4b0b6a=>_0x4b0b6a['id']===_0x12b035['id']);if(_0x8c85fe!==-0x1)sessions[_0x8c85fe]=_0x44d3ac;_0x52d511['push'](_0x44d3ac['dateStr']);}else{if(_0x45603c===_0xa1f728(0x222)){const _0x11b01e=_0x12b035[_0xa1f728(0x208)];sessions['forEach']((_0x15d80d,_0x2da1a1)=>{const _0x5a55e7=_0xa1f728;_0x15d80d[_0x5a55e7(0x146)]===_0x8e834a&&_0x15d80d[_0x5a55e7(0x208)]>=_0x11b01e&&(sessions[_0x2da1a1]={...sessions[_0x2da1a1],'start':_0x12b035[_0x5a55e7(0x259)],'end':_0x12b035[_0x5a55e7(0x17a)],'note':_0x12b035[_0x5a55e7(0x256)],'client':_0x12b035['client'],'clientId':_0x12b035['clientId']},_0x52d511[_0x5a55e7(0x288)](_0x15d80d[_0x5a55e7(0x208)]));});}}afterSaveAction(_0x52d511);}function tryDeleteSession(){const _0x37b367=a2_0x42c71d,_0x134979=sessions[_0x37b367(0x24f)](_0xc6881a=>_0xc6881a['id']===editingId);if(!_0x134979)return;_0x134979[_0x37b367(0x146)]?openActionSheet(_0x37b367(0x150)):commitDelete(_0x37b367(0x13c),_0x134979);}function commitDelete(_0x4c70a5,_0x365e01){const _0x1fc6d0=a2_0x42c71d;lastUserActionTime=Date[_0x1fc6d0(0x184)](),NotificationManager[_0x1fc6d0(0x225)](_0x1fc6d0(0x1df),_0x365e01);const _0x4ef77e=[];if(_0x4c70a5===_0x1fc6d0(0x13c))sessions=sessions[_0x1fc6d0(0x231)](_0x64033b=>_0x64033b['id']!==_0x365e01['id']),_0x4ef77e['push'](_0x365e01[_0x1fc6d0(0x208)]);else{if(_0x4c70a5===_0x1fc6d0(0x222)){const _0x42dbf6=_0x365e01[_0x1fc6d0(0x208)],_0x237c36=_0x365e01[_0x1fc6d0(0x146)];sessions[_0x1fc6d0(0x1d2)](_0x57daab=>{const _0x5af7b0=_0x1fc6d0;_0x57daab[_0x5af7b0(0x146)]===_0x237c36&&_0x57daab[_0x5af7b0(0x208)]>=_0x42dbf6&&_0x4ef77e[_0x5af7b0(0x288)](_0x57daab[_0x5af7b0(0x208)]);}),sessions=sessions[_0x1fc6d0(0x231)](_0x22a800=>!(_0x22a800[_0x1fc6d0(0x146)]===_0x237c36&&_0x22a800[_0x1fc6d0(0x208)]>=_0x42dbf6));}}afterSaveAction(_0x4ef77e);}function afterSaveAction(_0x3175fa){const _0x329d23=a2_0x42c71d;DataManager[_0x329d23(0x180)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x329d23(0x26a)](_0x3175fa)[_0x329d23(0x1b8)](()=>console['log']('Batch\x20Sync\x20OK'))[_0x329d23(0x1b6)](_0x4422b9=>showToast(_0x329d23(0x163),![]));}const NotificationManager={'formatDate'(_0x330fc5){const _0x3dafd3=a2_0x42c71d,_0x15e881=new Date(_0x330fc5),_0x5d7b23={'weekday':_0x3dafd3(0x1d9),'day':_0x3dafd3(0x19a),'month':_0x3dafd3(0x1d9)};let _0x1529e=_0x15e881['toLocaleDateString'](_0x3dafd3(0x2a2),_0x5d7b23);return _0x1529e[_0x3dafd3(0x298)](0x0)['toUpperCase']()+_0x1529e[_0x3dafd3(0x20c)](0x1);},'getText'(_0x1b6915,_0x2dca4e){const _0x565e34=a2_0x42c71d,_0x1af5af=this['formatDate'](_0x2dca4e[_0x565e34(0x208)]);switch(_0x1b6915){case _0x565e34(0x17b):return _0x565e34(0x24b)+(_0x565e34(0x246)+_0x1af5af+'\x0a')+(_0x565e34(0x182)+_0x2dca4e[_0x565e34(0x259)]+_0x565e34(0x166)+_0x2dca4e[_0x565e34(0x17a)]+'\x0a\x0a')+_0x565e34(0x2b7);case _0x565e34(0x1ba):return _0x565e34(0x15a)+_0x565e34(0x18c)+(_0x565e34(0x195)+_0x2dca4e[_0x565e34(0x259)]+_0x565e34(0x166)+_0x2dca4e[_0x565e34(0x17a)]+_0x565e34(0x1fb))+(_0x565e34(0x246)+_0x1af5af);case _0x565e34(0x1df):return'<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a'+(_0x565e34(0x267)+_0x1af5af+'\x20('+_0x2dca4e['start']+')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.');case _0x565e34(0x16a):return'<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a'+_0x565e34(0x12e)+_0x565e34(0x209);default:return'';}},async 'send'(_0x2693ad,_0x4877dc){const _0xcb0992=a2_0x42c71d;console[_0xcb0992(0x25f)](_0xcb0992(0x27b),_0x2693ad,_0x4877dc);if(!_0x4877dc){console['error'](_0xcb0992(0x2b5));return;}const _0x2a6c47=String(_0x4877dc[_0xcb0992(0x252)]);console[_0xcb0992(0x25f)](_0xcb0992(0x1ce),_0x2a6c47);if(!_0x4877dc['clientId']||_0x2a6c47===_0xcb0992(0x22d)||_0x2a6c47===_0xcb0992(0x1ea)){console[_0xcb0992(0x206)](_0xcb0992(0x205));if(_0x4877dc[_0xcb0992(0x276)]){const _0x512df6=clients[_0xcb0992(0x24f)](_0x3c981d=>_0x3c981d['name']===_0x4877dc[_0xcb0992(0x276)]);if(_0x512df6)return console[_0xcb0992(0x25f)](_0xcb0992(0x2a0),_0x512df6['id']),this[_0xcb0992(0x225)](_0x2693ad,{..._0x4877dc,'clientId':_0x512df6['id']});}return;}if(_0x2a6c47[_0xcb0992(0x1d0)]<0x5){console[_0xcb0992(0x1ed)](_0xcb0992(0x157),_0x2a6c47);return;}const _0x8dd872=this[_0xcb0992(0x230)](_0x2693ad,_0x4877dc);if(!_0x8dd872){console['error']('[Notify]\x20Error:\x20Text\x20generation\x20failed');return;}console[_0xcb0992(0x25f)](_0xcb0992(0x1f4)+_0x2a6c47+_0xcb0992(0x12c)),DataManager[_0xcb0992(0x2b4)](_0xcb0992(0x1cd),{'chatId':_0x2a6c47,'text':_0x8dd872})[_0xcb0992(0x1b8)](_0x1a38fb=>console['log'](_0xcb0992(0x1d7),_0x1a38fb))[_0xcb0992(0x1b6)](_0x27f431=>console[_0xcb0992(0x206)]('[Notify]\x20Network\x20Failed',_0x27f431));}};function getLocalDateStr(_0x25eec){const _0x592345=a2_0x42c71d,_0x2d2b93=_0x25eec[_0x592345(0x2b0)](),_0x5db66d=String(_0x25eec[_0x592345(0x245)]()+0x1)[_0x592345(0x28d)](0x2,'0'),_0x5c7393=String(_0x25eec[_0x592345(0x18b)]())[_0x592345(0x28d)](0x2,'0');return _0x2d2b93+'-'+_0x5db66d+'-'+_0x5c7393;}function getDateStr(_0x18283c){const _0x1dab8c=a2_0x42c71d,_0x5b217a=new Date();return _0x5b217a[_0x1dab8c(0x29e)](_0x5b217a[_0x1dab8c(0x18b)]()+_0x18283c),getLocalDateStr(_0x5b217a);}function getStartOfWeek(_0x8e1ad5){const _0x3446a8=a2_0x42c71d,_0x4c2397=new Date(_0x8e1ad5),_0x1a4067=_0x4c2397['getDay'](),_0x1fd491=_0x4c2397[_0x3446a8(0x18b)]()-_0x1a4067+(_0x1a4067===0x0?-0x6:0x1);return _0x4c2397[_0x3446a8(0x29e)](_0x1fd491),_0x4c2397['setHours'](0x0,0x0,0x0,0x0),_0x4c2397;}function hexToRgba(_0x3777f2,_0x405212){const _0x28402c=a2_0x42c71d;if(!_0x3777f2)return _0x28402c(0x299);let _0x5eb536=0x0,_0x25ba72=0x0,_0x4cd4a7=0x0;if(_0x3777f2[_0x28402c(0x1d0)]===0x4)_0x5eb536='0x'+_0x3777f2[0x1]+_0x3777f2[0x1],_0x25ba72='0x'+_0x3777f2[0x2]+_0x3777f2[0x2],_0x4cd4a7='0x'+_0x3777f2[0x3]+_0x3777f2[0x3];else _0x3777f2['length']===0x7&&(_0x5eb536='0x'+_0x3777f2[0x1]+_0x3777f2[0x2],_0x25ba72='0x'+_0x3777f2[0x3]+_0x3777f2[0x4],_0x4cd4a7='0x'+_0x3777f2[0x5]+_0x3777f2[0x6]);return'rgba('+ +_0x5eb536+',\x20'+ +_0x25ba72+',\x20'+ +_0x4cd4a7+',\x20'+_0x405212+')';}function renderTimeColumn(){const _0x3cd91c=a2_0x42c71d,_0x9ab4d6=document[_0x3cd91c(0x1fd)]('timeColumn'),_0x8289fe=document['getElementById']('timeLineBadge');_0x9ab4d6['innerHTML']='',_0x9ab4d6['appendChild'](_0x8289fe);for(let _0x34ec48=0x0;_0x34ec48<0x18;_0x34ec48++){const _0x5188a7=document[_0x3cd91c(0x22c)](_0x3cd91c(0x148));_0x5188a7['className']=_0x3cd91c(0x19c);if(_0x34ec48>0x0)_0x5188a7[_0x3cd91c(0x1db)]='<span>'+String(_0x34ec48)['padStart'](0x2,'0')+_0x3cd91c(0x254);_0x9ab4d6[_0x3cd91c(0x151)](_0x5188a7);}}function renderDayRange(_0x2612d4,_0xc12a95){const _0x198353=a2_0x42c71d,_0x4d3c3b=document[_0x198353(0x1fd)](_0x198353(0x14e)),_0x15f73b=document[_0x198353(0x1fd)](_0x198353(0x25d)),_0x322c28=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x5a3a58=new Date();_0x5a3a58[_0x198353(0x21e)](0x0,0x0,0x0,0x0);const _0x3e44ae=getLocalDateStr(new Date());for(let _0x565839=_0x2612d4;_0x565839<=_0xc12a95;_0x565839++){const _0x1a5f39=new Date(_0x5a3a58);_0x1a5f39['setDate'](_0x1a5f39[_0x198353(0x18b)]()+_0x565839);const _0x456ac6=getLocalDateStr(_0x1a5f39);let _0x20959f=_0x1a5f39[_0x198353(0x16d)]()-0x1;if(_0x20959f===-0x1)_0x20959f=0x6;const _0x260a17=_0x456ac6===_0x3e44ae,_0x5e362e=document['createElement'](_0x198353(0x148));_0x5e362e[_0x198353(0x25b)]=_0x198353(0x18d)+(_0x260a17?_0x198353(0x12f):''),_0x5e362e['id']=_0x198353(0x147)+_0x456ac6,_0x5e362e[_0x198353(0x293)]('data-date',_0x456ac6),_0x5e362e['innerHTML']=_0x198353(0x15c)+_0x322c28[_0x20959f]+_0x198353(0x1f1)+_0x1a5f39[_0x198353(0x18b)]()+_0x198353(0x15f)+_0x456ac6+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x5e362e[_0x198353(0x132)]=()=>openDayOptions(_0x456ac6,_0x322c28[_0x20959f]+'\x20'+_0x1a5f39[_0x198353(0x18b)]()),_0x4d3c3b[_0x198353(0x151)](_0x5e362e);const _0x59a06b=document[_0x198353(0x22c)](_0x198353(0x148));_0x59a06b['className']=_0x198353(0x2b2)+(_0x260a17?_0x198353(0x12f):''),_0x59a06b[_0x198353(0x293)](_0x198353(0x22a),_0x456ac6),_0x59a06b[_0x198353(0x293)](_0x198353(0x141),_0x20959f),renderEventsForColumn(_0x59a06b,_0x456ac6,_0x20959f),attachLongPressHandler(_0x59a06b,_0x1a5f39),_0x15f73b[_0x198353(0x151)](_0x59a06b),updateDayStats(_0x456ac6);}}function reRenderBlocks(){const _0x586c9c=a2_0x42c71d;document[_0x586c9c(0x1d8)](_0x586c9c(0x169))['forEach'](_0x37f883=>{const _0x56c5d6=_0x586c9c;_0x37f883[_0x56c5d6(0x1d8)](_0x56c5d6(0x149))[_0x56c5d6(0x1d2)](_0xc3d660=>_0xc3d660[_0x56c5d6(0x15b)]());const _0x599fdf=_0x37f883[_0x56c5d6(0x214)](_0x56c5d6(0x22a)),_0x565d48=parseInt(_0x37f883[_0x56c5d6(0x214)]('data-day-idx')),_0xfacb4a=Math[_0x56c5d6(0x20f)](_0x37f883[_0x56c5d6(0x170)]);(availabilityPattern[_0x565d48]||[])[_0x56c5d6(0x1d2)](_0x43667a=>{const _0x5e881e=_0x56c5d6,_0x3e0745=document[_0x5e881e(0x22c)](_0x5e881e(0x148));_0x3e0745[_0x5e881e(0x25b)]=_0x5e881e(0x2ae);const _0x2b11a8=_0x43667a*GRID_H;_0x3e0745[_0x5e881e(0x1dd)][_0x5e881e(0x21d)]=_0x2b11a8+'px',_0x3e0745[_0x5e881e(0x1dd)]['backgroundPosition']='-'+_0xfacb4a+'px\x20-'+_0x2b11a8+'px',_0x37f883[_0x5e881e(0x151)](_0x3e0745);});if(specialRanges&&specialRanges[_0x56c5d6(0x1d0)]>0x0){const _0x5919f0=new Date(_0x599fdf+_0x56c5d6(0x1de))[_0x56c5d6(0x1c1)](),_0xbddc9e=new Date(_0x599fdf+_0x56c5d6(0x1be))[_0x56c5d6(0x1c1)]();specialRanges[_0x56c5d6(0x1d2)](_0x4226ba=>{const _0x148ee8=_0x56c5d6,_0x26a0b5=new Date(_0x4226ba['start'])[_0x148ee8(0x1c1)](),_0x4d376e=new Date(_0x4226ba[_0x148ee8(0x17a)])[_0x148ee8(0x1c1)](),_0x3c4bd0=Math[_0x148ee8(0x14b)](_0x5919f0,_0x26a0b5),_0x754c31=Math['min'](_0xbddc9e,_0x4d376e);if(_0x3c4bd0<_0x754c31){if(_0x3c4bd0<=_0x5919f0&&_0x754c31>=_0xbddc9e-0xea60){if(!_0x37f883[_0x148ee8(0x2a1)]('.day-off-overlay')){const _0x519fa3=document[_0x148ee8(0x22c)](_0x148ee8(0x148));_0x519fa3[_0x148ee8(0x25b)]='day-off-overlay\x20stripe-bg',_0x519fa3[_0x148ee8(0x1dd)][_0x148ee8(0x261)]='-'+_0xfacb4a+_0x148ee8(0x164),_0x37f883[_0x148ee8(0x151)](_0x519fa3);}}else{const _0xfe91cf=(_0x3c4bd0-_0x5919f0)/0x36ee80*GRID_H,_0x161061=(_0x754c31-_0x3c4bd0)/0x36ee80*GRID_H,_0x241c73=document[_0x148ee8(0x22c)]('div');_0x241c73[_0x148ee8(0x25b)]='blocked-range-part\x20stripe-bg',_0x241c73[_0x148ee8(0x1dd)][_0x148ee8(0x21d)]=_0xfe91cf+'px',_0x241c73[_0x148ee8(0x1dd)]['height']=_0x161061+'px',_0x241c73[_0x148ee8(0x1dd)][_0x148ee8(0x261)]='-'+_0xfacb4a+_0x148ee8(0x200)+_0xfe91cf+'px',_0x37f883['appendChild'](_0x241c73);}}});}if(dateExceptions[_0x599fdf]===_0x56c5d6(0x1f7)){if(!_0x37f883[_0x56c5d6(0x2a1)](_0x56c5d6(0x21c))){const _0x5489e4=document[_0x56c5d6(0x22c)](_0x56c5d6(0x148));_0x5489e4[_0x56c5d6(0x25b)]=_0x56c5d6(0x218),_0x5489e4[_0x56c5d6(0x1dd)][_0x56c5d6(0x261)]='-'+_0xfacb4a+_0x56c5d6(0x164),_0x37f883[_0x56c5d6(0x151)](_0x5489e4);}}renderEventsForColumn(_0x37f883,_0x599fdf,_0x565d48),updateDayStats(_0x599fdf);});}function updateAllDayStats(){const _0x39d8a6=a2_0x42c71d;document[_0x39d8a6(0x1d8)](_0x39d8a6(0x172))[_0x39d8a6(0x1d2)](_0x505bfd=>{const _0x5f5d1b=_0x39d8a6;updateDayStats(_0x505bfd['getAttribute'](_0x5f5d1b(0x22a)));});}function updateDayStats(_0x140739){const _0x48a070=a2_0x42c71d,_0xa733a2=document[_0x48a070(0x1fd)](_0x48a070(0x1e0)+_0x140739);if(!_0xa733a2)return;const _0x370bf4=new Date(_0x140739);let _0x3d1637=_0x370bf4[_0x48a070(0x16d)]()-0x1;if(_0x3d1637===-0x1)_0x3d1637=0x6;if(dateExceptions[_0x140739]===_0x48a070(0x1f7)){_0xa733a2[_0x48a070(0x1dd)][_0x48a070(0x1e9)]=_0x48a070(0x2a9);return;}const _0x2e4507=availabilityPattern[_0x3d1637]||[],_0x46f509=0x18-_0x2e4507[_0x48a070(0x1d0)],_0x2c89f7=_0x46f509*0x3c,_0x3f527b=sessions['filter'](_0x21555b=>_0x21555b[_0x48a070(0x208)]===_0x140739&&_0x21555b[_0x48a070(0x221)]!==_0x48a070(0x274));if(_0x3f527b[_0x48a070(0x1d0)]===0x0){_0xa733a2[_0x48a070(0x1dd)][_0x48a070(0x1e9)]=_0x48a070(0x2a9);return;}let _0x251f91=_0x3f527b[_0x48a070(0x241)](_0x32e6ed=>{const _0xa7c2c8=_0x48a070,[_0x1426b1,_0x56a0c4]=_0x32e6ed[_0xa7c2c8(0x259)][_0xa7c2c8(0x232)](':')[_0xa7c2c8(0x241)](Number),[_0x470d82,_0x2b66e3]=_0x32e6ed[_0xa7c2c8(0x17a)]['split'](':')['map'](Number);return[_0x1426b1*0x3c+_0x56a0c4,_0x470d82*0x3c+_0x2b66e3];});_0x251f91['sort']((_0x5ee6ae,_0x5c1786)=>_0x5ee6ae[0x0]-_0x5c1786[0x0]);let _0x1cadfe=[];if(_0x251f91[_0x48a070(0x1d0)]>0x0){let _0x1dd960=_0x251f91[0x0];for(let _0x513aae=0x1;_0x513aae<_0x251f91['length'];_0x513aae++){_0x251f91[_0x513aae][0x0]<_0x1dd960[0x1]?_0x1dd960[0x1]=Math[_0x48a070(0x14b)](_0x1dd960[0x1],_0x251f91[_0x513aae][0x1]):(_0x1cadfe['push'](_0x1dd960),_0x1dd960=_0x251f91[_0x513aae]);}_0x1cadfe[_0x48a070(0x288)](_0x1dd960);}let _0x2fdf8d=0x0;_0x1cadfe[_0x48a070(0x1d2)](_0x3814a5=>_0x2fdf8d+=_0x3814a5[0x1]-_0x3814a5[0x0]),_0xa733a2[_0x48a070(0x1dd)][_0x48a070(0x1e9)]=_0x48a070(0x29b);const _0x42ea2c=_0xa733a2[_0x48a070(0x2a1)](_0x48a070(0x203));if(_0x2c89f7===0x0){_0x42ea2c[_0x48a070(0x1dd)][_0x48a070(0x1a6)]='100%',_0x42ea2c['style'][_0x48a070(0x23d)]=_0x48a070(0x17d);return;}const _0x373241=_0x2fdf8d/_0x2c89f7*0x64;console[_0x48a070(0x25f)]('['+_0x140739+_0x48a070(0x19d)+_0x46f509+_0x48a070(0x18a)+_0x2fdf8d+_0x48a070(0x1a2)+_0x373241[_0x48a070(0x1c6)](0x1)+'%'),_0x373241>0x64?(_0x42ea2c[_0x48a070(0x1dd)][_0x48a070(0x1a6)]=_0x48a070(0x176),_0x42ea2c[_0x48a070(0x1dd)][_0x48a070(0x23d)]=_0x48a070(0x17d)):(_0x42ea2c['style'][_0x48a070(0x1a6)]=_0x373241+'%',_0x42ea2c['style'][_0x48a070(0x23d)]=_0x48a070(0x194));}function renderEventsForColumn(_0x46fb17,_0x20106c,_0x2876c8){const _0x27b491=a2_0x42c71d,_0x181a9a=sessions[_0x27b491(0x231)](_0x15ca57=>_0x15ca57['dateStr']===_0x20106c),_0x18dcdf=_0x181a9a['map'](_0x560a0c=>{const _0x11620a=_0x27b491,[_0x186b6a,_0x1f5a69]=_0x560a0c[_0x11620a(0x259)][_0x11620a(0x232)](':')[_0x11620a(0x241)](Number),[_0x5997f2,_0x167e53]=_0x560a0c[_0x11620a(0x17a)][_0x11620a(0x232)](':')[_0x11620a(0x241)](Number);return{'data':_0x560a0c,'start':_0x186b6a*0x3c+_0x1f5a69,'end':_0x5997f2*0x3c+_0x167e53,'colIndex':0x0};});_0x18dcdf[_0x27b491(0x29f)]((_0x41d191,_0x604b2b)=>{const _0x158ada=_0x27b491;if(_0x41d191[_0x158ada(0x259)]!==_0x604b2b['start'])return _0x41d191[_0x158ada(0x259)]-_0x604b2b[_0x158ada(0x259)];return _0x604b2b[_0x158ada(0x17a)]-_0x604b2b[_0x158ada(0x259)]-(_0x41d191['end']-_0x41d191[_0x158ada(0x259)]);});const _0x245035=[];_0x18dcdf[_0x27b491(0x1d2)](_0x1006f7=>{const _0x4776a0=_0x27b491;let _0x4a1460=![];for(let _0x1dd5ba=0x0;_0x1dd5ba<_0x245035[_0x4776a0(0x1d0)];_0x1dd5ba++){const _0x62ccef=_0x245035[_0x1dd5ba],_0x498766=_0x62ccef[_0x62ccef[_0x4776a0(0x1d0)]-0x1];if(_0x1006f7[_0x4776a0(0x259)]>=_0x498766[_0x4776a0(0x17a)]){_0x62ccef[_0x4776a0(0x288)](_0x1006f7),_0x1006f7[_0x4776a0(0x1f8)]=_0x1dd5ba,_0x4a1460=!![];break;}}!_0x4a1460&&(_0x245035[_0x4776a0(0x288)]([_0x1006f7]),_0x1006f7[_0x4776a0(0x1f8)]=_0x245035[_0x4776a0(0x1d0)]-0x1);}),_0x18dcdf[_0x27b491(0x1d2)](_0x4e993f=>{const _0x468447=_0x27b491;let _0x18e1ff=0x0;_0x18dcdf['forEach'](_0x1d03bb=>{const _0x36e247=a2_0x5684;if(Math[_0x36e247(0x14b)](_0x4e993f[_0x36e247(0x259)],_0x1d03bb[_0x36e247(0x259)])<Math[_0x36e247(0x130)](_0x4e993f['end'],_0x1d03bb[_0x36e247(0x17a)])){if(_0x1d03bb[_0x36e247(0x1f8)]>_0x18e1ff)_0x18e1ff=_0x1d03bb['colIndex'];}});const _0x5a4fc2=_0x18e1ff+0x1,_0x3235e2=0x64/_0x5a4fc2,_0x55cc79=_0x4e993f[_0x468447(0x1f8)]*_0x3235e2,_0x5aa7a2=createEventEl(_0x4e993f['data']);_0x5aa7a2[_0x468447(0x1dd)][_0x468447(0x1a6)]=_0x468447(0x133)+_0x3235e2+'%\x20-\x204px)',_0x5aa7a2[_0x468447(0x1dd)]['left']=_0x468447(0x133)+_0x55cc79+_0x468447(0x29d),_0x5aa7a2[_0x468447(0x1dd)][_0x468447(0x192)]=0xa+_0x4e993f[_0x468447(0x1f8)],_0x3235e2<0x55&&_0x5aa7a2[_0x468447(0x226)][_0x468447(0x138)](_0x468447(0x1e2)),_0x46fb17[_0x468447(0x151)](_0x5aa7a2);});}function createEventEl(_0x1a167c){const _0x47ab62=a2_0x42c71d,[_0x4b8a0c,_0x2243a7]=_0x1a167c[_0x47ab62(0x259)]['split'](':')['map'](Number),[_0x444d87,_0x210c15]=_0x1a167c['end']['split'](':')[_0x47ab62(0x241)](Number),_0xd6ceb0=(_0x4b8a0c*0x3c+_0x2243a7)/0x3c*GRID_H,_0x470023=(_0x444d87*0x3c+_0x210c15-(_0x4b8a0c*0x3c+_0x2243a7))/0x3c*GRID_H,_0x653356=document['createElement'](_0x47ab62(0x148)),_0x28da83=_0x1a167c[_0x47ab62(0x221)]===_0x47ab62(0x269)?_0x47ab62(0x253):'';_0x653356[_0x47ab62(0x25b)]=_0x47ab62(0x220)+_0x28da83,_0x653356['style'][_0x47ab62(0x21d)]=_0xd6ceb0+'px',_0x653356['style'][_0x47ab62(0x165)]=Math['max'](_0x470023,0x14)+'px';const _0x40983f=clients[_0x47ab62(0x24f)](_0x7ba80d=>_0x1a167c[_0x47ab62(0x252)]&&String(_0x7ba80d['id'])===String(_0x1a167c['clientId'])||_0x7ba80d[_0x47ab62(0x2a3)]===_0x1a167c['client']),_0x230afc=_0x40983f?_0x40983f['color']:'#0a84ff';_0x653356[_0x47ab62(0x1dd)][_0x47ab62(0x2ad)]=_0x230afc,_0x653356[_0x47ab62(0x1dd)][_0x47ab62(0x213)]=hexToRgba(_0x230afc,0.85);let _0x371a7f=_0x47ab62(0x2a4)+_0x1a167c[_0x47ab62(0x276)]+_0x47ab62(0x28f)+_0x1a167c['start']+_0x47ab62(0x13d)+_0x1a167c[_0x47ab62(0x17a)]+_0x47ab62(0x1e7);return _0x1a167c['seriesId']&&(_0x371a7f+=_0x47ab62(0x287)),_0x1a167c[_0x47ab62(0x221)]===_0x47ab62(0x269)&&(_0x371a7f+='<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>'),_0x653356[_0x47ab62(0x1db)]=_0x371a7f,_0x653356['onclick']=_0x42070e=>{const _0x19a298=_0x47ab62;_0x42070e[_0x19a298(0x249)](),openEdit(_0x1a167c);},_0x653356;}function attachLongPressHandler(_0x22de52,_0x2738d0){const _0x2ae252=a2_0x42c71d;let _0x511787=0x0,_0xaaab4c=null;const _0x3d5516=_0x12c4fe=>{const _0x3256ec=a2_0x5684;if(_0x12c4fe[_0x3256ec(0x26d)]['closest'](_0x3256ec(0x2b1)))return;isScrolling=![],_0x511787=_0x12c4fe['touches']?_0x12c4fe[_0x3256ec(0x204)][0x0][_0x3256ec(0x2ab)]:_0x12c4fe[_0x3256ec(0x2ab)],_0xaaab4c=setTimeout(()=>{const _0x1b9a09=_0x3256ec;if(!isScrolling){navigator[_0x1b9a09(0x171)]?.(0x32);const _0x21a4f2=_0x22de52[_0x1b9a09(0x1c5)](),_0x73c5f7=Math[_0x1b9a09(0x137)]((_0x511787-_0x21a4f2[_0x1b9a09(0x21d)])/GRID_H);_0x2738d0[_0x1b9a09(0x21e)](_0x73c5f7,0x0),openAddSession(_0x2738d0);}},0x1f4);},_0x485715=()=>{isScrolling=!![],clearTimeout(_0xaaab4c);},_0x179c65=()=>{clearTimeout(_0xaaab4c);};_0x22de52[_0x2ae252(0x1a9)](_0x2ae252(0x1f2),_0x3d5516,{'passive':!![]}),_0x22de52[_0x2ae252(0x1a9)](_0x2ae252(0x251),_0x485715,{'passive':!![]}),_0x22de52['addEventListener'](_0x2ae252(0x2ac),_0x179c65),_0x22de52[_0x2ae252(0x1a9)](_0x2ae252(0x273),_0x3d5516),_0x22de52[_0x2ae252(0x1a9)]('mousemove',_0x485715),_0x22de52[_0x2ae252(0x1a9)](_0x2ae252(0x238),_0x179c65);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x1d2a5f=a2_0x42c71d,_0x1ca4b5=document['getElementById'](_0x1d2a5f(0x268)),_0x1a7fcc=_0x1ca4b5[_0x1d2a5f(0x1ec)],_0x3f8391=_0x1ca4b5[_0x1d2a5f(0x1b5)],_0x496a4a=_0x1ca4b5['clientWidth'];if(_0x3f8391-(_0x1a7fcc+_0x496a4a)<0x12c){const _0xfa6f0a=endOffset;endOffset+=0xe,renderDayRange(_0xfa6f0a+0x1,endOffset),reRenderBlocks();}if(_0x1a7fcc<0x12c){const _0x39b28b=startOffset;startOffset-=0xe,prependDays(startOffset,_0x39b28b-0x1),_0x1ca4b5[_0x1d2a5f(0x1ec)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x3ee6d8,_0x837f27){const _0x5b3907=a2_0x42c71d,_0xfec7df=document[_0x5b3907(0x1fd)](_0x5b3907(0x14e)),_0x100937=document['getElementById'](_0x5b3907(0x25d)),_0x2e8e0e=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x3d4ec7=new Date();_0x3d4ec7['setHours'](0x0,0x0,0x0,0x0);const _0x3a1991=getLocalDateStr(new Date()),_0x2cb80c=document['createDocumentFragment'](),_0x2e9560=document[_0x5b3907(0x174)]();for(let _0x5728b1=_0x3ee6d8;_0x5728b1<=_0x837f27;_0x5728b1++){const _0x14eee6=new Date(_0x3d4ec7);_0x14eee6['setDate'](_0x14eee6[_0x5b3907(0x18b)]()+_0x5728b1);const _0x1dc3e8=getLocalDateStr(_0x14eee6);let _0x96a247=_0x14eee6[_0x5b3907(0x16d)]()-0x1;if(_0x96a247===-0x1)_0x96a247=0x6;const _0x301bbf=_0x1dc3e8===_0x3a1991,_0x5bf122=document['createElement']('div');_0x5bf122[_0x5b3907(0x25b)]=_0x5b3907(0x18d)+(_0x301bbf?'today':''),_0x5bf122['id']='header-'+_0x1dc3e8,_0x5bf122[_0x5b3907(0x293)](_0x5b3907(0x22a),_0x1dc3e8),_0x5bf122[_0x5b3907(0x1db)]='<div\x20class=\x22dch-day\x22>'+_0x2e8e0e[_0x96a247]+_0x5b3907(0x1f1)+_0x14eee6[_0x5b3907(0x18b)]()+_0x5b3907(0x15f)+_0x1dc3e8+_0x5b3907(0x1cb),_0x5bf122[_0x5b3907(0x132)]=()=>openDayOptions(_0x1dc3e8,_0x2e8e0e[_0x96a247]+'\x20'+_0x14eee6[_0x5b3907(0x18b)]()),_0x2cb80c['appendChild'](_0x5bf122);const _0x3f8f64=document[_0x5b3907(0x22c)](_0x5b3907(0x148));_0x3f8f64[_0x5b3907(0x25b)]=_0x5b3907(0x2b2)+(_0x301bbf?'today':''),_0x3f8f64[_0x5b3907(0x293)]('data-date',_0x1dc3e8),_0x3f8f64['setAttribute'](_0x5b3907(0x141),_0x96a247),renderEventsForColumn(_0x3f8f64,_0x1dc3e8,_0x96a247),attachLongPressHandler(_0x3f8f64,_0x14eee6),_0x2e9560[_0x5b3907(0x151)](_0x3f8f64),updateDayStats(_0x1dc3e8);}_0xfec7df['insertBefore'](_0x2cb80c,_0xfec7df[_0x5b3907(0x239)]),_0x100937[_0x5b3907(0x1c8)](_0x2e9560,_0x100937[_0x5b3907(0x2a1)](_0x5b3907(0x263)));}function validateAppointment(_0x5e9f6e,_0x5829ad,_0x5054f7,_0x23da4b,_0x51fcfb){const _0x80008=a2_0x42c71d,[_0x2b63dd,_0x2a0e7e]=_0x5829ad[_0x80008(0x232)](':')['map'](Number),[_0x49e53f,_0x5d09f7]=_0x5054f7['split'](':')[_0x80008(0x241)](Number),_0x12d5a4=_0x2b63dd*0x3c+_0x2a0e7e,_0x1fb995=_0x49e53f*0x3c+_0x5d09f7,_0x39ae1f=String(_0x51fcfb);let _0x5f2103=![],_0x561e28='';for(let _0x24348b of sessions){if(_0x24348b[_0x80008(0x208)]!==_0x5e9f6e)continue;if(_0x24348b['status']==='cancelled')continue;if(_0x23da4b&&String(_0x24348b['id'])===String(_0x23da4b))continue;const [_0x24b157,_0x882650]=_0x24348b[_0x80008(0x259)]['split'](':')['map'](Number),[_0x2ba065,_0x34f0b0]=_0x24348b[_0x80008(0x17a)][_0x80008(0x232)](':')[_0x80008(0x241)](Number),_0x6cb2cb=_0x24b157*0x3c+_0x882650,_0xd35bd9=_0x2ba065*0x3c+_0x34f0b0;if(Math[_0x80008(0x14b)](_0x12d5a4,_0x6cb2cb)<Math['min'](_0x1fb995,_0xd35bd9)){if(_0x24348b[_0x80008(0x252)]&&String(_0x24348b[_0x80008(0x252)])===_0x39ae1f)return{'valid':![],'msg':_0x80008(0x242)+_0x24348b['client']+_0x80008(0x1bc)};_0x5f2103=!![],_0x561e28=_0x24348b[_0x80008(0x276)];}}if(_0x5f2103)return{'valid':!![],'warning':_0x80008(0x191)+_0x561e28};return{'valid':!![]};}function updateDateDisplay(){const _0x3cdd85=a2_0x42c71d,_0x19a563=document['getElementById'](_0x3cdd85(0x25e))[_0x3cdd85(0x159)],_0x33563f=document[_0x3cdd85(0x1fd)](_0x3cdd85(0x265));if(!_0x19a563){_0x33563f[_0x3cdd85(0x12d)]='';return;}const [_0x2a8d92,_0x25c11b,_0x1f29e2]=_0x19a563[_0x3cdd85(0x232)]('-')[_0x3cdd85(0x241)](Number),_0x4236cf=new Date(_0x2a8d92,_0x25c11b-0x1,_0x1f29e2),_0x2931bd={'weekday':_0x3cdd85(0x1d9),'day':_0x3cdd85(0x19a),'month':'long','year':'numeric'};let _0x3b076d=_0x4236cf[_0x3cdd85(0x12a)](_0x3cdd85(0x2a2),_0x2931bd);_0x3b076d=_0x3b076d[_0x3cdd85(0x298)](0x0)[_0x3cdd85(0x168)]()+_0x3b076d[_0x3cdd85(0x20c)](0x1),_0x33563f[_0x3cdd85(0x12d)]=_0x3b076d;}function autoSetEndTime(){const _0x4190fe=a2_0x42c71d,_0x130ae3=document[_0x4190fe(0x1fd)](_0x4190fe(0x1e1))[_0x4190fe(0x159)];if(!_0x130ae3)return;const [_0x6dc271,_0x58282f]=_0x130ae3[_0x4190fe(0x232)](':')['map'](Number);let _0x1e659a=_0x6dc271+0x1;if(_0x1e659a>0x17)_0x1e659a=0x0;const _0x3b7564=String(_0x1e659a)[_0x4190fe(0x28d)](0x2,'0')+':'+String(_0x58282f)[_0x4190fe(0x28d)](0x2,'0');document[_0x4190fe(0x1fd)](_0x4190fe(0x286))[_0x4190fe(0x159)]=_0x3b7564;}function populateClientSelect(){const _0x70d94c=a2_0x42c71d,_0x24a4c9=document[_0x70d94c(0x1fd)](_0x70d94c(0x1cf));_0x24a4c9[_0x70d94c(0x1db)]='';if(clients[_0x70d94c(0x1d0)]===0x0){const _0x370579=document['createElement'](_0x70d94c(0x1da));_0x370579[_0x70d94c(0x270)]=_0x70d94c(0x280),_0x24a4c9[_0x70d94c(0x151)](_0x370579);return;}clients['forEach'](_0x6d2dff=>{const _0x1001d4=_0x70d94c,_0x3f71bd=document[_0x1001d4(0x22c)]('option');_0x3f71bd[_0x1001d4(0x159)]=_0x6d2dff[_0x1001d4(0x2a3)],_0x3f71bd[_0x1001d4(0x12d)]=_0x6d2dff['name'],_0x24a4c9['appendChild'](_0x3f71bd);});}function openActionSheet(_0x290ceb){const _0x17bf40=a2_0x42c71d,_0x489797=document['getElementById'](_0x17bf40(0x188)),_0x225031=document[_0x17bf40(0x1fd)](_0x17bf40(0x223)),_0x17fb61=document[_0x17bf40(0x1fd)](_0x17bf40(0x135)),_0x1c3f4a=document['getElementById'](_0x17bf40(0x29c)),_0x375317=document[_0x17bf40(0x1fd)](_0x17bf40(0x187));_0x225031[_0x17bf40(0x226)][_0x17bf40(0x138)](_0x17bf40(0x227)),_0x489797[_0x17bf40(0x226)][_0x17bf40(0x138)]('open');if(_0x290ceb===_0x17bf40(0x13f))_0x17fb61[_0x17bf40(0x12d)]=_0x17bf40(0x1a5),_0x1c3f4a['textContent']=_0x17bf40(0x1c2),_0x1c3f4a[_0x17bf40(0x132)]=()=>{const _0x3036f9=_0x17bf40;closeActionSheet(),updateSeriesBatch(_0x3036f9(0x13c),tempSessionData);},_0x375317['textContent']=_0x17bf40(0x1f0),_0x375317[_0x17bf40(0x132)]=()=>{const _0x1a2a45=_0x17bf40;closeActionSheet(),updateSeriesBatch(_0x1a2a45(0x222),tempSessionData);};else _0x290ceb===_0x17bf40(0x150)&&(_0x17fb61[_0x17bf40(0x12d)]=_0x17bf40(0x21f),_0x1c3f4a[_0x17bf40(0x12d)]=_0x17bf40(0x1c2),_0x1c3f4a[_0x17bf40(0x25b)]=_0x17bf40(0x19b),_0x1c3f4a['onclick']=()=>{const _0x39f45c=_0x17bf40;closeActionSheet(),commitDelete(_0x39f45c(0x13c),sessions['find'](_0x8bdd5b=>_0x8bdd5b['id']===editingId));},_0x375317['textContent']=_0x17bf40(0x1f0),_0x375317[_0x17bf40(0x25b)]=_0x17bf40(0x26c),_0x375317['onclick']=()=>{const _0x37235f=_0x17bf40;closeActionSheet(),commitDelete('series',sessions[_0x37235f(0x24f)](_0x1d41f8=>_0x1d41f8['id']===editingId));});}function closeActionSheet(){const _0x1a49ab=a2_0x42c71d;document[_0x1a49ab(0x1fd)]('actionSheet')[_0x1a49ab(0x226)][_0x1a49ab(0x15b)](_0x1a49ab(0x202)),document[_0x1a49ab(0x1fd)](_0x1a49ab(0x223))[_0x1a49ab(0x226)][_0x1a49ab(0x15b)]('active');}function openSettings(){const _0xd904bd=a2_0x42c71d;openSheet(_0xd904bd(0x1bf));}function saveCoachSettings(){const _0x52ecf3=a2_0x42c71d,_0x2a7f3a=document['getElementById']('settingCancelWindow')[_0x52ecf3(0x159)];localStorage[_0x52ecf3(0x23f)]('uc_settings_cancel_window',_0x2a7f3a),console[_0x52ecf3(0x25f)](_0x52ecf3(0x1ca),_0x2a7f3a),DataManager[_0x52ecf3(0x2b4)](_0x52ecf3(0x275),{'settings':{'cancel_window':_0x2a7f3a}})[_0x52ecf3(0x1b6)](_0x30926d=>{const _0x107d71=_0x52ecf3;console[_0x107d71(0x206)](_0x107d71(0x1a7),_0x30926d),showToast(_0x107d71(0x178),![]);});}function a2_0x5684(_0x42286b,_0x29506f){_0x42286b=_0x42286b-0x12a;const _0x1cb3b3=a2_0x51c5();let _0x5ebdfa=_0x1cb3b3[_0x42286b];return _0x5ebdfa;}function loadCoachSettings(){const _0x461892=a2_0x42c71d,_0x349ae0=localStorage[_0x461892(0x185)](_0x461892(0x248));_0x349ae0&&(document[_0x461892(0x1fd)](_0x461892(0x1a1))['value']=_0x349ae0);}function openRangesSheet(){closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet('rangesSheet');}function addRange(){const _0x2e9ce3=a2_0x42c71d,_0xfdea04=document[_0x2e9ce3(0x1fd)](_0x2e9ce3(0x27d))['value'],_0x189f50=document[_0x2e9ce3(0x1fd)](_0x2e9ce3(0x1f5))['value'],_0x4f1358=document[_0x2e9ce3(0x1fd)](_0x2e9ce3(0x29a))[_0x2e9ce3(0x159)],_0x139547=document['getElementById'](_0x2e9ce3(0x1e8))['value'];if(!_0xfdea04||!_0x189f50||!_0x4f1358||!_0x139547)return alert(_0x2e9ce3(0x1ab));const _0x4040ee=_0xfdea04+'T'+_0x189f50,_0x1c5206=_0x4f1358+'T'+_0x139547;if(_0x4040ee>=_0x1c5206)return alert(_0x2e9ce3(0x27c));specialRanges[_0x2e9ce3(0x288)]({'start':_0x4040ee,'end':_0x1c5206}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x2e9ce3(0x180)](),DataManager[_0x2e9ce3(0x2b4)]('save_settings',{'settings':{'ranges':specialRanges}});}function deleteRange(_0x361936){const _0x29f4e3=a2_0x42c71d;specialRanges[_0x29f4e3(0x277)](_0x361936,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x29f4e3(0x180)](),DataManager['fetchFromServer'](_0x29f4e3(0x275),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x1d4b3c=a2_0x42c71d;document[_0x1d4b3c(0x1fd)](_0x1d4b3c(0x27d))[_0x1d4b3c(0x159)]='',document[_0x1d4b3c(0x1fd)](_0x1d4b3c(0x1f5))['value']=_0x1d4b3c(0x1a3),document[_0x1d4b3c(0x1fd)](_0x1d4b3c(0x29a))['value']='',document[_0x1d4b3c(0x1fd)](_0x1d4b3c(0x1e8))['value']=_0x1d4b3c(0x271);}function renderRangesList(){const _0x3bb880=a2_0x42c71d,_0x1bf5f5=document[_0x3bb880(0x1fd)](_0x3bb880(0x283));_0x1bf5f5['innerHTML']='';if(!specialRanges['length']){_0x1bf5f5[_0x3bb880(0x1db)]=_0x3bb880(0x1b1);return;}specialRanges[_0x3bb880(0x1d2)]((_0x173ae2,_0x4b63be)=>{const _0x4b4978=_0x3bb880,_0x422277=document[_0x4b4978(0x22c)](_0x4b4978(0x148));_0x422277[_0x4b4978(0x25b)]=_0x4b4978(0x28b);const _0x2d777d=_0xef6f2c=>{const _0x5eb354=_0x4b4978,_0x3a5780=new Date(_0xef6f2c);return _0x3a5780['getDate']()+'.'+String(_0x3a5780[_0x5eb354(0x245)]()+0x1)[_0x5eb354(0x28d)](0x2,'0')+'\x20'+String(_0x3a5780[_0x5eb354(0x1e3)]())[_0x5eb354(0x28d)](0x2,'0')+':'+String(_0x3a5780['getMinutes']())[_0x5eb354(0x28d)](0x2,'0');};_0x422277['innerHTML']=_0x4b4978(0x215)+_0x2d777d(_0x173ae2[_0x4b4978(0x259)])+_0x4b4978(0x166)+_0x2d777d(_0x173ae2[_0x4b4978(0x17a)])+_0x4b4978(0x2a7)+_0x4b63be+')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>',_0x1bf5f5[_0x4b4978(0x151)](_0x422277);});}function scrollToToday(){const _0x25feff=a2_0x42c71d,_0x459419=getLocalDateStr(new Date()),_0x2e61e7=document[_0x25feff(0x1fd)](_0x25feff(0x147)+_0x459419),_0x4746cd=document[_0x25feff(0x1fd)](_0x25feff(0x268));if(_0x2e61e7&&_0x4746cd){const _0x381d9d=_0x4746cd[_0x25feff(0x207)],_0x587a8f=_0x2e61e7[_0x25feff(0x170)],_0x3eca92=_0x2e61e7['offsetWidth'];_0x4746cd[_0x25feff(0x1ec)]=_0x587a8f-_0x381d9d/0x2+_0x3eca92/0x2,_0x4746cd[_0x25feff(0x281)]=0x9*GRID_H;}}function onScroll(){const _0x1167a8=a2_0x42c71d,_0x25aeed=document['getElementById'](_0x1167a8(0x268)),_0x8b49d=document[_0x1167a8(0x1d8)](_0x1167a8(0x172));for(let _0x5eb39c of _0x8b49d)if(_0x5eb39c[_0x1167a8(0x170)]>=_0x25aeed[_0x1167a8(0x1ec)]){const _0x498c6f=new Date(_0x5eb39c['getAttribute'](_0x1167a8(0x22a)));document[_0x1167a8(0x1fd)]('headerMonth')['textContent']=_0x498c6f['toLocaleString']('ru',{'month':'long'})[_0x1167a8(0x168)]()+'\x20'+_0x498c6f[_0x1167a8(0x2b0)]();break;}}function showToast(_0x3dd9de,_0x4ff523=![]){const _0x5856b1=a2_0x42c71d,_0x593355=document[_0x5856b1(0x1fd)](_0x5856b1(0x219));_0x593355[_0x5856b1(0x25b)]=_0x5856b1(0x1ac)+(_0x4ff523?_0x5856b1(0x25a):''),document[_0x5856b1(0x1fd)](_0x5856b1(0x17f))[_0x5856b1(0x12d)]=_0x4ff523?'–£—Å–ø–µ—à–Ω–æ':_0x5856b1(0x1dc),document[_0x5856b1(0x1fd)](_0x5856b1(0x1e4))[_0x5856b1(0x12d)]=_0x3dd9de,_0x593355[_0x5856b1(0x226)][_0x5856b1(0x138)](_0x5856b1(0x190)),setTimeout(()=>{const _0x19cae0=_0x5856b1;_0x593355[_0x19cae0(0x226)][_0x19cae0(0x15b)](_0x19cae0(0x190));},0xbb8);}function openDayOptions(_0x5ae240,_0x4ccfd2){const _0x550324=a2_0x42c71d;selectedDayForOptions=_0x5ae240,document[_0x550324(0x1fd)](_0x550324(0x289))['textContent']=_0x4ccfd2,openSheet(_0x550324(0x14f));}function toggleDayOff(){const _0x590556=a2_0x42c71d;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]='off',reRenderBlocks(),closeAllSheets(),DataManager[_0x590556(0x180)](),DataManager[_0x590556(0x2b4)](_0x590556(0x275),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x51effc=a2_0x42c71d;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x51effc(0x180)](),DataManager['fetchFromServer'](_0x51effc(0x275),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x5198aa){const _0x4065e1=a2_0x42c71d;document[_0x4065e1(0x1fd)]('overlay')['classList']['add'](_0x4065e1(0x227)),document['getElementById'](_0x5198aa)[_0x4065e1(0x226)][_0x4065e1(0x138)](_0x4065e1(0x202));}function closeAllSheets(){const _0x26a8ba=a2_0x42c71d;document['getElementById']('overlay')[_0x26a8ba(0x226)]['remove'](_0x26a8ba(0x227)),document[_0x26a8ba(0x1d8)]('.sheet')['forEach'](_0x453416=>_0x453416['classList'][_0x26a8ba(0x15b)]('open'));}function openPatternEditor(){const _0x4f5bab=a2_0x42c71d;closeAllSheets(),document[_0x4f5bab(0x1fd)](_0x4f5bab(0x257))[_0x4f5bab(0x226)][_0x4f5bab(0x138)](_0x4f5bab(0x202)),renderPatternEditor();}function closePatternEditor(){const _0x2c0215=a2_0x42c71d;document[_0x2c0215(0x1fd)]('patternEditor')[_0x2c0215(0x226)][_0x2c0215(0x15b)]('open');}function savePattern(){const _0x2ac7c2=a2_0x42c71d;document[_0x2ac7c2(0x1fd)](_0x2ac7c2(0x257))['classList']['remove']('open'),reRenderBlocks(),DataManager[_0x2ac7c2(0x180)](),DataManager['fetchFromServer'](_0x2ac7c2(0x275),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x28639e=a2_0x42c71d,_0xaf123f=document[_0x28639e(0x1fd)]('peGrid');_0xaf123f['innerHTML']='';const _0x5363a2=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x50001b=document['createElement'](_0x28639e(0x148));_0x50001b[_0x28639e(0x25b)]='pe-corner',_0xaf123f[_0x28639e(0x151)](_0x50001b),_0x5363a2[_0x28639e(0x1d2)]((_0x3ff8b9,_0xe02dd9)=>{const _0x4de65a=_0x28639e,_0xf651a0=document[_0x4de65a(0x22c)](_0x4de65a(0x148));_0xf651a0['className']=_0x4de65a(0x236),_0xf651a0['innerHTML']=_0x3ff8b9+_0x4de65a(0x145),_0xf651a0[_0x4de65a(0x132)]=()=>toggleColPattern(_0xe02dd9),_0xaf123f[_0x4de65a(0x151)](_0xf651a0);});for(let _0x2d7e4f=0x0;_0x2d7e4f<0x18;_0x2d7e4f++){const _0x4c6df9=document[_0x28639e(0x22c)](_0x28639e(0x148));_0x4c6df9[_0x28639e(0x25b)]=_0x28639e(0x14d),_0x4c6df9[_0x28639e(0x1db)]=_0x28639e(0x12b)+String(_0x2d7e4f)[_0x28639e(0x28d)](0x2,'0')+':00',_0x4c6df9[_0x28639e(0x132)]=()=>toggleRowPattern(_0x2d7e4f),_0xaf123f[_0x28639e(0x151)](_0x4c6df9);for(let _0x41bcf6=0x0;_0x41bcf6<0x7;_0x41bcf6++){const _0x4c3559=document[_0x28639e(0x22c)](_0x28639e(0x148)),_0x34a7d2=(availabilityPattern[_0x41bcf6]||[])[_0x28639e(0x1d4)](_0x2d7e4f),_0x17ff03=!_0x34a7d2;_0x4c3559[_0x28639e(0x25b)]='pe-cell\x20'+(_0x17ff03?'active':''),_0x4c3559[_0x28639e(0x132)]=()=>toggleSinglePattern(_0x41bcf6,_0x2d7e4f),_0xaf123f['appendChild'](_0x4c3559);}}}function toggleSinglePattern(_0x1fb0bb,_0x434d30){const _0x99e0ac=a2_0x42c71d;if(!availabilityPattern[_0x1fb0bb])availabilityPattern[_0x1fb0bb]=[];const _0x33ef7b=availabilityPattern[_0x1fb0bb],_0x300062=_0x33ef7b[_0x99e0ac(0x13b)](_0x434d30);_0x300062===-0x1?_0x33ef7b['push'](_0x434d30):_0x33ef7b['splice'](_0x300062,0x1),renderPatternEditor();}function toggleColPattern(_0x1d1e6b){const _0xd975a2=a2_0x42c71d;if(!availabilityPattern[_0x1d1e6b])availabilityPattern[_0x1d1e6b]=[];const _0x315a9d=availabilityPattern[_0x1d1e6b];_0x315a9d[_0xd975a2(0x1d0)]===0x0?availabilityPattern[_0x1d1e6b]=Array[_0xd975a2(0x1d3)]({'length':0x18},(_0x14253d,_0x7131da)=>_0x7131da):availabilityPattern[_0x1d1e6b]=[],renderPatternEditor();}function toggleRowPattern(_0x4831c6){const _0x54bef6=a2_0x42c71d;let _0x319a47=!![];for(let _0x31e41a=0x0;_0x31e41a<0x7;_0x31e41a++){if((availabilityPattern[_0x31e41a]||[])[_0x54bef6(0x1d4)](_0x4831c6)){_0x319a47=![];break;}}for(let _0x34cd32=0x0;_0x34cd32<0x7;_0x34cd32++){if(!availabilityPattern[_0x34cd32])availabilityPattern[_0x34cd32]=[];const _0x3de174=availabilityPattern[_0x34cd32][_0x54bef6(0x13b)](_0x4831c6);if(_0x319a47){if(_0x3de174===-0x1)availabilityPattern[_0x34cd32]['push'](_0x4831c6);}else{if(_0x3de174!==-0x1)availabilityPattern[_0x34cd32][_0x54bef6(0x277)](_0x3de174,0x1);}}renderPatternEditor();}function renderPCol(_0xdb3cb,_0x1010bf){const _0x58d153=a2_0x42c71d;_0xdb3cb[_0x58d153(0x1db)]='';const _0x56d5e2=Math['round'](_0xdb3cb[_0x58d153(0x170)]);(availabilityPattern[_0x1010bf]||[])[_0x58d153(0x1d2)](_0x2cf413=>{const _0x21c50d=_0x58d153,_0x5ef482=document[_0x21c50d(0x22c)](_0x21c50d(0x148));_0x5ef482[_0x21c50d(0x25b)]=_0x21c50d(0x2ae);const _0x5814a4=_0x2cf413*GRID_H;_0x5ef482[_0x21c50d(0x1dd)]['top']=_0x5814a4+'px',_0x5ef482[_0x21c50d(0x1dd)][_0x21c50d(0x261)]='-'+_0x56d5e2+_0x21c50d(0x200)+_0x5814a4+'px',_0x5ef482['onclick']=_0x3c90e4=>{const _0x591f47=_0x21c50d;_0x3c90e4[_0x591f47(0x249)](),toggleSinglePattern(_0x1010bf,_0x2cf413);},_0xdb3cb['appendChild'](_0x5ef482);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x378e5c=a2_0x42c71d,_0x42d6ab=new Date(),_0x2dafab=document['getElementById'](_0x378e5c(0x23b)),_0x279966=document[_0x378e5c(0x1fd)]('timeLineBadge'),_0x2f5939=(_0x42d6ab[_0x378e5c(0x1e3)]()*0x3c+_0x42d6ab[_0x378e5c(0x14c)]())/0x3c*GRID_H;_0x2dafab[_0x378e5c(0x1dd)][_0x378e5c(0x21d)]=_0x2f5939+'px',_0x2dafab[_0x378e5c(0x1dd)][_0x378e5c(0x1e9)]=_0x378e5c(0x140),_0x279966[_0x378e5c(0x12d)]=String(_0x42d6ab[_0x378e5c(0x1e3)]())[_0x378e5c(0x28d)](0x2,'0')+':'+String(_0x42d6ab['getMinutes']())[_0x378e5c(0x28d)](0x2,'0'),_0x279966[_0x378e5c(0x1dd)][_0x378e5c(0x1e9)]='block',_0x279966[_0x378e5c(0x1dd)]['top']=_0x2f5939+'px';}document[a2_0x42c71d(0x1a9)](a2_0x42c71d(0x22f),init);function openDayOptions(_0x169ead){const _0x465e89=a2_0x42c71d;selectedDayForOptions=_0x169ead;const _0x487649=new Date(_0x169ead),_0x4a4e00={'weekday':_0x465e89(0x1d9),'day':_0x465e89(0x19a),'month':_0x465e89(0x1d9),'year':'numeric'},_0x4eb839=_0x487649[_0x465e89(0x12a)](_0x465e89(0x2a2),_0x4a4e00);document[_0x465e89(0x1fd)](_0x465e89(0x20b))[_0x465e89(0x12d)]=_0x4eb839[_0x465e89(0x298)](0x0)['toUpperCase']()+_0x4eb839['slice'](0x1);let _0x1d916b=_0x487649['getDay']()-0x1;if(_0x1d916b===-0x1)_0x1d916b=0x6;const _0x5e8153=availabilityPattern[_0x1d916b]||[],_0x465162=0x18-_0x5e8153['length'],_0x15ba1f=_0x465162*0x3c,_0x2da3fa=sessions['filter'](_0x2afd85=>_0x2afd85[_0x465e89(0x208)]===_0x169ead&&_0x2afd85['status']!==_0x465e89(0x274));let _0x527f36=_0x2da3fa[_0x465e89(0x241)](_0x42041a=>{const _0x2835dd=_0x465e89,[_0x3eabd5,_0x1b8ced]=_0x42041a['start'][_0x2835dd(0x232)](':')[_0x2835dd(0x241)](Number),[_0x506ca7,_0x26b998]=_0x42041a['end'][_0x2835dd(0x232)](':')['map'](Number);return[_0x3eabd5*0x3c+_0x1b8ced,_0x506ca7*0x3c+_0x26b998];});_0x527f36[_0x465e89(0x29f)]((_0x2b0830,_0x5088d5)=>_0x2b0830[0x0]-_0x5088d5[0x0]);let _0x3589c3=[];if(_0x527f36['length']>0x0){let _0xc3f1df=_0x527f36[0x0];for(let _0x19b3ef=0x1;_0x19b3ef<_0x527f36[_0x465e89(0x1d0)];_0x19b3ef++){_0x527f36[_0x19b3ef][0x0]<_0xc3f1df[0x1]?_0xc3f1df[0x1]=Math[_0x465e89(0x14b)](_0xc3f1df[0x1],_0x527f36[_0x19b3ef][0x1]):(_0x3589c3[_0x465e89(0x288)](_0xc3f1df),_0xc3f1df=_0x527f36[_0x19b3ef]);}_0x3589c3[_0x465e89(0x288)](_0xc3f1df);}let _0x7bc7ea=0x0;_0x3589c3[_0x465e89(0x1d2)](_0xee61db=>_0x7bc7ea+=_0xee61db[0x1]-_0xee61db[0x0]),document[_0x465e89(0x1fd)](_0x465e89(0x235))[_0x465e89(0x12d)]=formatMinsToHrs(_0x15ba1f),document[_0x465e89(0x1fd)](_0x465e89(0x258))[_0x465e89(0x12d)]=formatMinsToHrs(_0x7bc7ea);const _0xbc2851=_0x15ba1f>0x0?Math['round'](_0x7bc7ea/_0x15ba1f*0x64):0x0,_0x17a463=document[_0x465e89(0x1fd)](_0x465e89(0x142));_0x17a463[_0x465e89(0x12d)]=_0xbc2851+'%';const _0x17968f=document['getElementById'](_0x465e89(0x27a));if(_0xbc2851>0x64)_0x17a463[_0x465e89(0x1dd)][_0x465e89(0x2aa)]=_0x465e89(0x17d),_0x17968f[_0x465e89(0x1dd)][_0x465e89(0x155)]='rgba(255,\x2069,\x2058,\x200.3)';else _0xbc2851>0x50?(_0x17a463['style'][_0x465e89(0x2aa)]='var(--acc-orange)',_0x17968f[_0x465e89(0x1dd)]['borderColor']=_0x465e89(0x193)):(_0x17a463[_0x465e89(0x1dd)][_0x465e89(0x2aa)]=_0x465e89(0x1e5),_0x17968f['style'][_0x465e89(0x155)]=_0x465e89(0x1d6));const _0x42e2b3=document[_0x465e89(0x1fd)](_0x465e89(0x181));_0x42e2b3[_0x465e89(0x1db)]='';_0x2da3fa[_0x465e89(0x1d0)]===0x0?_0x42e2b3['innerHTML']=_0x465e89(0x16f):(_0x2da3fa[_0x465e89(0x29f)]((_0x22c386,_0x20a010)=>_0x22c386[_0x465e89(0x259)][_0x465e89(0x266)](_0x20a010[_0x465e89(0x259)])),_0x2da3fa[_0x465e89(0x1d2)](_0x556ff4=>{const _0x32d6e3=_0x465e89,_0x4c4b91=clients[_0x32d6e3(0x24f)](_0x5b4ae2=>_0x5b4ae2[_0x32d6e3(0x2a3)]===_0x556ff4[_0x32d6e3(0x276)]),_0xd6d387=_0x4c4b91?_0x4c4b91[_0x32d6e3(0x2aa)]:_0x32d6e3(0x15e),_0x560277=_0x556ff4[_0x32d6e3(0x221)]===_0x32d6e3(0x269),_0x50468f=_0x560277?_0x32d6e3(0x15d):'',_0x44a559=document['createElement'](_0x32d6e3(0x148));_0x44a559[_0x32d6e3(0x25b)]=_0x32d6e3(0x20a),_0x44a559[_0x32d6e3(0x1dd)][_0x32d6e3(0x2ad)]=_0xd6d387,_0x44a559[_0x32d6e3(0x1db)]=_0x32d6e3(0x1ad)+_0x556ff4[_0x32d6e3(0x259)]+_0x32d6e3(0x13d)+_0x556ff4[_0x32d6e3(0x17a)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x556ff4['client']+_0x32d6e3(0x2a8)+_0x50468f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x42e2b3[_0x32d6e3(0x151)](_0x44a559);}));const _0x4b557d=document[_0x465e89(0x1fd)](_0x465e89(0x17c)),_0x15b5b2=dateExceptions[_0x169ead]===_0x465e89(0x1f7);_0x15b5b2?(_0x4b557d[_0x465e89(0x12d)]=_0x465e89(0x1ae),_0x4b557d[_0x465e89(0x25b)]=_0x465e89(0x1d5),_0x4b557d[_0x465e89(0x1dd)][_0x465e89(0x2aa)]=_0x465e89(0x1e5),_0x4b557d[_0x465e89(0x1dd)]['background']=_0x465e89(0x162)):(_0x4b557d[_0x465e89(0x12d)]='–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º',_0x4b557d[_0x465e89(0x25b)]=_0x465e89(0x21a),_0x4b557d[_0x465e89(0x1dd)][_0x465e89(0x2aa)]=_0x465e89(0x17d),_0x4b557d[_0x465e89(0x1dd)][_0x465e89(0x23d)]=_0x465e89(0x27e)),openSheet('dayOptionsSheet');}let currentAnPeriod=a2_0x42c71d(0x167);function openAnalytics(){const _0x50c4df=a2_0x42c71d,_0x25675f=document['querySelector'](_0x50c4df(0x1b7));setAnalyticsPeriod('week',_0x25675f),closeAllSheets(),openSheet(_0x50c4df(0x244));}function setAnalyticsPeriod(_0x5ac371,_0x2ff834){const _0x5a1eef=a2_0x42c71d;currentAnPeriod=_0x5ac371,document[_0x5a1eef(0x1d8)](_0x5a1eef(0x1b7))[_0x5a1eef(0x1d2)](_0x52e617=>_0x52e617[_0x5a1eef(0x226)][_0x5a1eef(0x15b)]('active'));if(_0x2ff834)_0x2ff834[_0x5a1eef(0x226)]['add']('active');const _0x201b3b=document[_0x5a1eef(0x1fd)](_0x5a1eef(0x21b));_0x201b3b[_0x5a1eef(0x1dd)][_0x5a1eef(0x1e9)]=_0x5ac371===_0x5a1eef(0x291)?_0x5a1eef(0x29b):'none';const _0xa6d2e5=new Date();let _0x4dcc4a=new Date(),_0x2972c1=new Date();if(_0x5ac371===_0x5a1eef(0x167))_0x4dcc4a=getStartOfWeek(_0xa6d2e5),_0x2972c1=new Date(_0x4dcc4a),_0x2972c1[_0x5a1eef(0x29e)](_0x2972c1['getDate']()+0x6);else{if(_0x5ac371==='month')_0x4dcc4a=new Date(_0xa6d2e5[_0x5a1eef(0x2b0)](),_0xa6d2e5['getMonth'](),0x1),_0x2972c1=new Date(_0xa6d2e5[_0x5a1eef(0x2b0)](),_0xa6d2e5[_0x5a1eef(0x245)]()+0x1,0x0);else{!document[_0x5a1eef(0x1fd)](_0x5a1eef(0x1ee))[_0x5a1eef(0x159)]&&(document[_0x5a1eef(0x1fd)](_0x5a1eef(0x1ee))[_0x5a1eef(0x159)]=getLocalDateStr(_0xa6d2e5),document[_0x5a1eef(0x1fd)]('anEnd')[_0x5a1eef(0x159)]=getLocalDateStr(_0xa6d2e5));refreshAnalytics();return;}}document[_0x5a1eef(0x1fd)](_0x5a1eef(0x1ee))[_0x5a1eef(0x159)]=getLocalDateStr(_0x4dcc4a),document[_0x5a1eef(0x1fd)](_0x5a1eef(0x1eb))[_0x5a1eef(0x159)]=getLocalDateStr(_0x2972c1),refreshAnalytics();}function refreshAnalytics(){const _0x2fa871=a2_0x42c71d,_0x1161d0=document[_0x2fa871(0x1fd)]('anStart')[_0x2fa871(0x159)],_0x515f02=document['getElementById'](_0x2fa871(0x1eb))[_0x2fa871(0x159)];if(!_0x1161d0||!_0x515f02)return;const _0x38c7ee=sessions[_0x2fa871(0x231)](_0x3fe984=>_0x3fe984[_0x2fa871(0x208)]>=_0x1161d0&&_0x3fe984[_0x2fa871(0x208)]<=_0x515f02&&_0x3fe984['status']!=='cancelled'),_0x3fbfd2=_0x38c7ee['length'],_0x22e1b6=_0x38c7ee[_0x2fa871(0x231)](_0x3c2b04=>_0x3c2b04[_0x2fa871(0x221)]===_0x2fa871(0x269))[_0x2fa871(0x1d0)],_0x1f6c03=_0x3fbfd2>0x0?Math['round'](_0x22e1b6/_0x3fbfd2*0x64):0x0;document[_0x2fa871(0x1fd)](_0x2fa871(0x22e))['textContent']=_0x1f6c03+'%',document[_0x2fa871(0x1fd)](_0x2fa871(0x22b))[_0x2fa871(0x12d)]=_0x22e1b6+'\x20–∏–∑\x20'+_0x3fbfd2+_0x2fa871(0x143);const _0x3f7dff=document[_0x2fa871(0x1fd)](_0x2fa871(0x228)),_0x3eddf7=0x2*Math['PI']*0x23,_0x8a2a7d=_0x3eddf7-_0x1f6c03/0x64*_0x3eddf7;_0x3f7dff[_0x2fa871(0x1dd)][_0x2fa871(0x1f3)]=_0x8a2a7d;const _0x248b14={};_0x38c7ee[_0x2fa871(0x1d2)](_0x4934bb=>{const _0x51633c=_0x2fa871;if(!_0x248b14[_0x4934bb[_0x51633c(0x276)]]){const _0x1684fa=clients[_0x51633c(0x24f)](_0x22b594=>_0x22b594[_0x51633c(0x2a3)]===_0x4934bb[_0x51633c(0x276)]);_0x248b14[_0x4934bb[_0x51633c(0x276)]]={'total':0x0,'done':0x0,'color':_0x1684fa?_0x1684fa['color']:_0x51633c(0x15e)};}_0x248b14[_0x4934bb[_0x51633c(0x276)]]['total']++;if(_0x4934bb[_0x51633c(0x221)]===_0x51633c(0x269))_0x248b14[_0x4934bb['client']][_0x51633c(0x175)]++;});const _0x4498d4=document['getElementById']('analyticsList');_0x4498d4[_0x2fa871(0x1db)]='';const _0x292832=Object[_0x2fa871(0x211)](_0x248b14)[_0x2fa871(0x29f)]((_0x42f1ef,_0x33a23d)=>_0x33a23d[0x1][_0x2fa871(0x25c)]-_0x42f1ef[0x1][_0x2fa871(0x25c)]);if(_0x292832[_0x2fa871(0x1d0)]===0x0){_0x4498d4['innerHTML']=_0x2fa871(0x1cc);return;}_0x292832['forEach'](([_0x135bae,_0x10c904])=>{const _0x2ea70a=_0x2fa871,_0x477277=Math[_0x2ea70a(0x20f)](_0x10c904[_0x2ea70a(0x175)]/_0x10c904[_0x2ea70a(0x25c)]*0x64),_0x4cf0e6=document[_0x2ea70a(0x22c)](_0x2ea70a(0x148));_0x4cf0e6['className']=_0x2ea70a(0x23a),_0x4cf0e6[_0x2ea70a(0x1dd)][_0x2ea70a(0x2ad)]=_0x10c904[_0x2ea70a(0x2aa)],_0x4cf0e6[_0x2ea70a(0x1db)]=_0x2ea70a(0x1fe)+_0x135bae+_0x2ea70a(0x279)+_0x10c904[_0x2ea70a(0x175)]+_0x2ea70a(0x1bd)+_0x10c904[_0x2ea70a(0x25c)]+_0x2ea70a(0x134)+_0x477277+_0x2ea70a(0x24e),_0x4498d4[_0x2ea70a(0x151)](_0x4cf0e6);});}function formatMinsToHrs(_0x27b283){const _0x2fdd04=a2_0x42c71d;if(_0x27b283===0x0)return'0';const _0x3140ce=Math[_0x2fdd04(0x137)](_0x27b283/0x3c),_0x54f973=_0x27b283%0x3c;if(_0x54f973===0x0)return _0x3140ce+'—á';return _0x3140ce+'—á\x20'+_0x54f973+'–º';}function a2_0x51c5(){const _0x309603=['[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','initData','value','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','remove','<div\x20class=\x22dch-day\x22>','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','#fff','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','10px\x2010px\x200\x200','mergeServerData','rgba(48,\x20209,\x2088,\x200.15)','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','px\x200px','height','\x20‚Äî\x20','week','toUpperCase','#gridColumns\x20.day-column','complete','v9.0-BATCH-CALENDAR','warning','getDay','borderRadius','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','offsetLeft','vibrate','.day-col-header','3988649CbHBue','createDocumentFragment','done','100%','btnDelete','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','ready','end','create','btnDayToggle','var(--acc-red)','Error\x20setting\x20back\x20button:','toastTitle','saveLocally','doEventsList','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','178yIfXfc','now','getItem','parse','asBtnSeries','actionSheet','1042417KqdTLo','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','getDate','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','day-col-header\x20','sid','startsWith','show','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','zIndex','rgba(255,\x20159,\x2010,\x200.3)','var(--acc-current)','<b>‚úÖ\x20','valid','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','#050505',']\x20Failed:','numeric','as-button\x20danger','time-label',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','onClick','870eJoBPI','exceptions','settingCancelWindow','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','00:00','6059442lzdwox','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','width','Save\x20settings\x20error:','msg','addEventListener','stringify','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','toast-notification\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','pattern','inpNote','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','Server\x20Error','5274828InsOSW','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','scrollWidth','catch','.period-switch\x20.p-btn','then','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','update','isArray',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','</span>\x20/\x20','T23:59:59','settingsSheet','26139trIVaj','getTime','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','user','calendar','getBoundingClientRect','toFixed','location','insertBefore','Local\x20Save\x20Error','[Settings]\x20Cancel\x20window\x20set\x20to:','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','send_notification','[Notify]\x20Detected\x20Client\x20ID:','inpClient','length','loadLocal','forEach','from','includes','btn-primary\x20btn-secondary','rgba(255,255,255,0.05)','[Notify]\x20Server\x20Response:','querySelectorAll','long','option','innerHTML','–ò–Ω—Ñ–æ','style','T00:00:00','cancel','stat-','inpStart','mini','getHours','toastMessage','var(--acc-green)','(((.+)+)+)+$','</div>','rangeEndTime','display','null','anEnd','scrollLeft','warn','anStart','uc_settings_v9','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','</div><div\x20class=\x22dch-num\x22>','touchstart','strokeDashoffset','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','rangeStartTime','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','off','colIndex','disableVerticalSwipes','search','</b>\x0a\x0a','\x20days','getElementById','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','deleted','px\x20-','toString','open','.dch-stats-fill','touches','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','error','clientWidth','dateStr','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','de-item','doDateHeader','slice','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','guest','round','29292780FdUUvK','entries','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','backgroundColor','getAttribute','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','syncLoad','Critical\x20TMA\x20Error:','day-off-overlay\x20stripe-bg','toast','btn-primary\x20btn-danger','anCustomDates','.day-off-overlay','top','setHours','–£–¥–∞–ª–µ–Ω–∏–µ','event-card','status','series','actionSheetOverlay','[Sync]\x20Loading\x20','send','classList','active','anDonutCircle','Telegram','data-date','anTotalStats','createElement','undefined','anPercent','DOMContentLoaded','getText','filter','split','ranges','batch_sync','doWorkHours','pe-col-header','setBackgroundColor','mouseup','firstChild','client-stat-card','globalTimeLine','offClick','background','BackButton','setItem','[Notify]\x20Client\x20SWAP\x20detected','map','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','analyticsSheet','getMonth','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','sessionSheet','uc_settings_cancel_window','stopPropagation','Local\x20Load\x20Error','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','settings','inpSeriesCount','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','find','WebApp','touchmove','clientId','\x20status-completed',':00</span>',':00','note','patternEditor','doBusyHours','start','success','className','total','gridColumns','inpDate','log','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','backgroundPosition','json','.day-column','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','sheetDateSubtitle','localeCompare','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','matrixViewport','completed','syncBatch','text/plain;charset=UTF-8','as-button\x20danger\x20bold','target','632LFWMHp','sheetTitle','text','23:59','Unknown','mousedown','cancelled','save_settings','client','splice','planned','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','statLoadCard','[Notify]\x20Attempting\x20to\x20send:','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','rangeStartDate','rgba(255,\x2069,\x2058,\x200.15)','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','scrollTop','.pib-text','rangesList','checked','inpRecurring','inpEnd','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','push','dayOptionsTitle','setHeaderColor','range-item','keys','padStart','findIndex','</div><div\x20class=\x22ev-time\x22>','clients','custom','uc_clients_v9','setAttribute','[Series]\x20Skipped\x20','random','patternInfoBox','data','charAt','rgba(100,100,100,0.5)','rangeEndDate','flex','asBtnOne','%\x20+\x202px)','setDate','sort','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','querySelector','ru-RU','name','<div\x20class=\x22ev-title\x22>','8wEtyXc','initDataUnsafe','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','none','color','clientY','touchend','borderLeftColor','blocked-slot\x20stripe-bg','router.html','getFullYear','.event-card','day-column\x20','substr','fetchFromServer','[Notify]\x20Error:\x20sessionData\x20is\x20null','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','toLocaleDateString','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','...','textContent','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','today','min','apply','onclick','calc(','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','asTitle','btn-status-toggle','floor','add','POST','recurringOptionContainer','indexOf','single','\x20-\x20',':\x20Client\x20already\x20booked','save','block','data-day-idx','doLoadPercent','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','seriesCountContainer','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','seriesId','header-','div','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','href','max','getMinutes','pe-time-label','daysHeaderTrack','dayOptionsSheet','delete','appendChild','10px','btnStatusToggle','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','borderColor','cancel_window'];a2_0x51c5=function(){return _0x309603;};return a2_0x51c5();}