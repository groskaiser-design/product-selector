const a2_0x2cdaa1=a2_0x6603;(function(_0x44951b,_0x574284){const _0x5544a2=a2_0x6603,_0xd1fcc7=_0x44951b();while(!![]){try{const _0x40ecb5=parseInt(_0x5544a2(0x15c))/0x1*(parseInt(_0x5544a2(0x205))/0x2)+parseInt(_0x5544a2(0x1b3))/0x3*(-parseInt(_0x5544a2(0x180))/0x4)+-parseInt(_0x5544a2(0x1a8))/0x5+parseInt(_0x5544a2(0x1bb))/0x6*(parseInt(_0x5544a2(0x19f))/0x7)+parseInt(_0x5544a2(0x21e))/0x8+parseInt(_0x5544a2(0x1c2))/0x9*(-parseInt(_0x5544a2(0x15e))/0xa)+-parseInt(_0x5544a2(0x154))/0xb;if(_0x40ecb5===_0x574284)break;else _0xd1fcc7['push'](_0xd1fcc7['shift']());}catch(_0x2ff253){_0xd1fcc7['push'](_0xd1fcc7['shift']());}}}(a2_0x3cd0,0x456c0),function initTMA(){const _0x3bb168=a2_0x6603,_0x37ceb0=(function(){let _0x4086d4=!![];return function(_0x51cb3f,_0x3699a2){const _0x27a5cc=_0x4086d4?function(){const _0x196107=a2_0x6603;if(_0x3699a2){const _0xdacda0=_0x3699a2[_0x196107(0x14e)](_0x51cb3f,arguments);return _0x3699a2=null,_0xdacda0;}}:function(){};return _0x4086d4=![],_0x27a5cc;};}()),_0x4b93da=_0x37ceb0(this,function(){const _0x3c3c95=a2_0x6603;return _0x4b93da['toString']()[_0x3c3c95(0x1ef)](_0x3c3c95(0x14c))[_0x3c3c95(0xee)]()['constructor'](_0x4b93da)[_0x3c3c95(0x1ef)]('(((.+)+)+)+$');});_0x4b93da();try{const _0x434b95=window['Telegram']?.[_0x3bb168(0x1aa)];if(!_0x434b95)return;_0x434b95['ready'](),_0x434b95['expand']();try{_0x434b95[_0x3bb168(0x17c)](_0x3bb168(0x191)),_0x434b95[_0x3bb168(0x220)]&&_0x434b95[_0x3bb168(0x220)]('#050505');}catch(_0x3d0350){console['log'](_0x3bb168(0x1a2),_0x3d0350);}try{_0x434b95['BackButton']&&(_0x434b95[_0x3bb168(0xb0)][_0x3bb168(0x1cb)](),_0x434b95[_0x3bb168(0xb0)][_0x3bb168(0xb1)](),_0x434b95[_0x3bb168(0xb0)][_0x3bb168(0x22b)](function(){const _0x3d41f1=_0x3bb168;window[_0x3d41f1(0x201)][_0x3d41f1(0x1c4)]='router.html';}));}catch(_0x5b739e){console[_0x3bb168(0x137)]('Error\x20setting\x20back\x20button:',_0x5b739e);}try{if(_0x434b95['disableVerticalSwipes'])_0x434b95[_0x3bb168(0x1b7)]();}catch(_0x215e67){}}catch(_0x3528e9){console[_0x3bb168(0xce)](_0x3bb168(0x166),_0x3528e9);}}());function isAdmin(){const _0x593685=a2_0x6603;try{const _0x4978ca=Number(window[_0x593685(0x159)]?.['WebApp']?.[_0x593685(0x184)]?.['user']?.['id']);return _0x4978ca===0xbaf7174;}catch(_0x500288){return![];}}const APP_VERSION=a2_0x2cdaa1(0x130),API_URL=a2_0x2cdaa1(0xfa),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS='uc_clients_v9',KEY_SESSIONS=a2_0x2cdaa1(0x103),KEY_SETTINGS=a2_0x2cdaa1(0x12c);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x4d2a3e=a2_0x2cdaa1;return window['Telegram']?.[_0x4d2a3e(0x1aa)]?.['initDataUnsafe']?.[_0x4d2a3e(0xe6)]?.['id']||_0x4d2a3e(0x118);},'saveLocally'(){const _0x1da45f=a2_0x2cdaa1;try{localStorage[_0x1da45f(0xd7)](KEY_CLIENTS,JSON['stringify'](clients)),localStorage[_0x1da45f(0xd7)](KEY_SESSIONS,JSON[_0x1da45f(0x18f)](sessions)),localStorage['setItem'](KEY_SETTINGS,JSON[_0x1da45f(0x18f)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x22440c){console[_0x1da45f(0xce)](_0x1da45f(0x147),_0x22440c);}},'loadLocal'(){const _0x52fbf8=a2_0x2cdaa1;try{const _0x2ce2f5=localStorage[_0x52fbf8(0x1ec)](KEY_CLIENTS);if(_0x2ce2f5)clients=JSON[_0x52fbf8(0x124)](_0x2ce2f5);const _0x5c3799=localStorage[_0x52fbf8(0x1ec)](KEY_SESSIONS);if(_0x5c3799)sessions=JSON[_0x52fbf8(0x124)](_0x5c3799);const _0x3d73f3=localStorage[_0x52fbf8(0x1ec)](KEY_SETTINGS);if(_0x3d73f3){const _0x132f2f=JSON[_0x52fbf8(0x124)](_0x3d73f3);if(_0x132f2f[_0x52fbf8(0x149)])availabilityPattern=_0x132f2f['pattern'];if(_0x132f2f[_0x52fbf8(0x1f5)])dateExceptions=_0x132f2f[_0x52fbf8(0x1f5)];if(_0x132f2f[_0x52fbf8(0x206)])specialRanges=_0x132f2f[_0x52fbf8(0x206)];}else{for(let _0x50e45f=0x0;_0x50e45f<0x7;_0x50e45f++)availabilityPattern[_0x50e45f]=Array['from']({'length':0xc},(_0x48e555,_0x52940b)=>_0x52940b+0x9);}}catch(_0x59eb7d){console['error']('Local\x20Load\x20Error',_0x59eb7d);}},async 'fetchFromServer'(_0x1b27c2,_0x77a627={}){const _0x3ebe8b=a2_0x2cdaa1,_0x345844=window['Telegram']?.[_0x3ebe8b(0x1aa)],_0x8c5116={'action':_0x1b27c2,'init_data':_0x345844?.[_0x3ebe8b(0x19e)]||'',..._0x77a627};try{const _0x37b9f4=await fetch(API_URL,{'method':_0x3ebe8b(0x1da),'headers':{'Content-Type':'text/plain;charset=UTF-8'},'body':JSON[_0x3ebe8b(0x18f)](_0x8c5116)}),_0x45ced5=await _0x37b9f4[_0x3ebe8b(0x16b)]();if(!_0x45ced5['ok'])throw new Error(_0x45ced5[_0x3ebe8b(0xce)]||_0x3ebe8b(0x155));return _0x45ced5['data'];}catch(_0x5be683){console[_0x3ebe8b(0xce)](_0x3ebe8b(0x18d)+_0x1b27c2+']\x20Failed:',_0x5be683);throw _0x5be683;}},async 'syncLoad'(){const _0x3e4773=a2_0x2cdaa1,_0x57dfbf=new Date(),_0x4979da=_0x57dfbf[_0x3e4773(0xab)]()+'-'+String(_0x57dfbf[_0x3e4773(0x12e)]()+0x1)[_0x3e4773(0x116)](0x2,'0'),_0x830f68=new Date(_0x57dfbf);_0x830f68[_0x3e4773(0x14a)](_0x57dfbf[_0x3e4773(0x12e)]()+0x1);const _0x525e95=_0x830f68['getFullYear']()+'-'+String(_0x830f68['getMonth']()+0x1)[_0x3e4773(0x116)](0x2,'0'),_0x333603=Date[_0x3e4773(0x16f)]();console[_0x3e4773(0x137)](_0x3e4773(0x1e9)+_0x4979da+',\x20'+_0x525e95+_0x3e4773(0x129));try{const [_0x481e94,_0x2f82ad]=await Promise[_0x3e4773(0x160)]([this['fetchFromServer'](_0x3e4773(0x11d),{'month_str':_0x4979da}),this['fetchFromServer']('init_load',{'month_str':_0x525e95})]);if(lastUserActionTime>_0x333603)return console[_0x3e4773(0x141)](_0x3e4773(0x17b)),![];return this[_0x3e4773(0x165)](_0x481e94,_0x4979da),this[_0x3e4773(0x165)](_0x2f82ad,_0x525e95),this['saveLocally'](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x1685cf){console[_0x3e4773(0xce)](_0x1685cf);throw _0x1685cf;}},'mergeServerData'(_0x372ab7,_0x5d63d7){const _0x1924a6=a2_0x2cdaa1;if(!_0x372ab7)return;_0x372ab7[_0x1924a6(0xd2)]&&Array['isArray'](_0x372ab7[_0x1924a6(0xd2)])&&(clients=_0x372ab7[_0x1924a6(0xd2)]);if(_0x372ab7[_0x1924a6(0x207)]){if(_0x372ab7['settings']['pattern'])availabilityPattern=_0x372ab7[_0x1924a6(0x207)][_0x1924a6(0x149)];if(_0x372ab7[_0x1924a6(0x207)][_0x1924a6(0x1f5)])dateExceptions=_0x372ab7[_0x1924a6(0x207)][_0x1924a6(0x1f5)];if(_0x372ab7[_0x1924a6(0x207)]['ranges'])specialRanges=_0x372ab7[_0x1924a6(0x207)][_0x1924a6(0x206)];if(_0x372ab7['settings'][_0x1924a6(0xcf)]){localStorage[_0x1924a6(0xd7)](_0x1924a6(0x22f),_0x372ab7[_0x1924a6(0x207)][_0x1924a6(0xcf)]);const _0x30c5b9=document[_0x1924a6(0x19c)](_0x1924a6(0xed));if(_0x30c5b9)_0x30c5b9['value']=_0x372ab7['settings'][_0x1924a6(0xcf)];}}_0x372ab7[_0x1924a6(0x1d4)]&&(sessions=sessions[_0x1924a6(0x170)](_0x17ace0=>!_0x17ace0[_0x1924a6(0xc1)][_0x1924a6(0xda)](_0x5d63d7)),Object[_0x1924a6(0x1b8)](_0x372ab7[_0x1924a6(0x1d4)])[_0x1924a6(0xb3)](_0x4d0b8b=>{const _0x44609e=_0x1924a6,_0x5915d8=_0x372ab7[_0x44609e(0x1d4)][_0x4d0b8b];_0x5915d8[_0x44609e(0xb3)](_0x2d7326=>{const _0x22b5ff=_0x44609e,_0x4c57cb=clients['find'](_0x53d2e7=>String(_0x53d2e7['id'])===String(_0x2d7326['c']));sessions[_0x22b5ff(0x1d0)]({'id':_0x2d7326['i'],'clientId':_0x2d7326['c'],'client':_0x4c57cb?_0x4c57cb[_0x22b5ff(0xc5)]:'Unknown','dateStr':_0x5d63d7+'-'+_0x4d0b8b[_0x22b5ff(0x116)](0x2,'0'),'start':_0x2d7326['s'],'end':_0x2d7326['e'],'status':_0x2d7326['st']||'planned','note':_0x2d7326['n']||'','seriesId':_0x2d7326['sid']||null});});}));},async 'syncBatch'(_0x5e8d57){const _0x46dd46=a2_0x2cdaa1,_0x23322c=[...new Set(_0x5e8d57)],_0x4363d0=_0x23322c[_0x46dd46(0xd5)](_0x520b4a=>{const _0x539d2b=_0x46dd46,_0x1ace77=sessions[_0x539d2b(0x170)](_0x39f3a1=>_0x39f3a1[_0x539d2b(0xc1)]===_0x520b4a&&_0x39f3a1[_0x539d2b(0x127)]!==_0x539d2b(0x204)),_0x19a0e8=_0x1ace77[_0x539d2b(0xd5)](_0x27155c=>({'i':_0x27155c['id'],'c':_0x27155c[_0x539d2b(0x196)],'s':_0x27155c[_0x539d2b(0x161)],'e':_0x27155c['end'],'st':_0x27155c[_0x539d2b(0x127)],'n':_0x27155c[_0x539d2b(0xcb)],'sid':_0x27155c[_0x539d2b(0xca)]}));return{'date':_0x520b4a,'day_data':_0x19a0e8};});if(_0x4363d0[_0x46dd46(0x22a)]===0x0)return;console['log']('[Sync]\x20Pushing\x20batch\x20updates\x20for\x20'+_0x4363d0[_0x46dd46(0x22a)]+_0x46dd46(0x15f)),await this[_0x46dd46(0x176)](_0x46dd46(0x1a0),{'changes':_0x4363d0});}};async function init(){const _0x4f1bd1=a2_0x2cdaa1;DataManager[_0x4f1bd1(0x100)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x4f1bd1(0x19c)]('matrixViewport')['addEventListener']('scroll',()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x4f1bd1(0x1d2)]()[_0x4f1bd1(0x151)](()=>{showToast('–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ',!![]);})[_0x4f1bd1(0x18e)](_0x44e509=>{const _0x5d595f=_0x4f1bd1;showToast(_0x5d595f(0x13b),![]);});}function generateId(){const _0xaf6040=a2_0x2cdaa1;return Date[_0xaf6040(0x16f)]()[_0xaf6040(0xee)](0x24)+Math[_0xaf6040(0xea)]()[_0xaf6040(0xee)](0x24)['substr'](0x2,0x5);}function toggleSeriesInput(){const _0x16f71b=a2_0x2cdaa1,_0xaa4bda=document[_0x16f71b(0x19c)]('inpRecurring')[_0x16f71b(0xde)],_0x11f574=document['getElementById'](_0x16f71b(0x12a));_0x11f574[_0x16f71b(0x16d)][_0x16f71b(0x181)]=_0xaa4bda?'block':_0x16f71b(0x173);const _0x504bd7=document[_0x16f71b(0x19c)](_0x16f71b(0xfb));_0x504bd7[_0x16f71b(0x16d)][_0x16f71b(0x156)]=_0xaa4bda?_0x16f71b(0xcd):_0x16f71b(0xb5);}function openAddSession(_0x5c6096){const _0x22b249=a2_0x2cdaa1;editingId=null,populateClientSelect(),document[_0x22b249(0x19c)](_0x22b249(0x14b))[_0x22b249(0x1f4)]='–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å',document[_0x22b249(0x19c)]('btnDelete')[_0x22b249(0x16d)][_0x22b249(0x181)]=_0x22b249(0x173),document['getElementById']('btnStatusToggle')['style'][_0x22b249(0x181)]=_0x22b249(0x173);const _0x474c80=document[_0x22b249(0x19c)](_0x22b249(0xfb)),_0x372ab6=document[_0x22b249(0x19c)](_0x22b249(0x12a));_0x474c80[_0x22b249(0x16d)][_0x22b249(0x181)]=_0x22b249(0x12f),_0x474c80['style'][_0x22b249(0x156)]=_0x22b249(0xb5),document['getElementById'](_0x22b249(0x1f2))[_0x22b249(0xde)]=![],document[_0x22b249(0x19c)]('inpSeriesCount')[_0x22b249(0x1a4)]=0x4,_0x372ab6['style'][_0x22b249(0x181)]=_0x22b249(0x173),document[_0x22b249(0x19c)]('inpDate')[_0x22b249(0x1a4)]=getLocalDateStr(_0x5c6096),updateDateDisplay();const _0x41a0c7=_0x5c6096[_0x22b249(0x1ac)]();document[_0x22b249(0x19c)](_0x22b249(0x1c6))[_0x22b249(0x1a4)]=String(_0x41a0c7)['padStart'](0x2,'0')+_0x22b249(0xe9),document[_0x22b249(0x19c)](_0x22b249(0xbc))['value']=String(_0x41a0c7+0x1)['padStart'](0x2,'0')+':00',openSheet(_0x22b249(0x125));}function openEdit(_0x36ccce){const _0x459584=a2_0x2cdaa1;editingId=_0x36ccce['id'],populateClientSelect(),document[_0x459584(0x19c)](_0x459584(0x14b))[_0x459584(0x1f4)]=_0x459584(0xfd),document[_0x459584(0x19c)](_0x459584(0x229))[_0x459584(0x16d)][_0x459584(0x181)]=_0x459584(0x120);const _0x5db2ba=document[_0x459584(0x19c)]('btnStatusToggle');_0x5db2ba['style']['display']=_0x459584(0x12f);_0x36ccce['status']==='completed'?(_0x5db2ba[_0x459584(0xf9)]=_0x459584(0x108),_0x5db2ba['innerHTML']='–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ'):(_0x5db2ba[_0x459584(0xf9)]=_0x459584(0x20c),_0x5db2ba[_0x459584(0x200)]=_0x459584(0x111));const _0xfe0b3f=!!_0x36ccce['seriesId'];document['getElementById'](_0x459584(0xfb))[_0x459584(0x16d)]['display']='none',document['getElementById'](_0x459584(0x12a))[_0x459584(0x16d)][_0x459584(0x181)]=_0x459584(0x173),_0xfe0b3f?(document[_0x459584(0x19c)](_0x459584(0x107))['style'][_0x459584(0x181)]=_0x459584(0x12f),document[_0x459584(0x19c)](_0x459584(0x107))[_0x459584(0x16e)]('.pib-text')[_0x459584(0x1f4)]=_0x459584(0x20b)):document[_0x459584(0x19c)](_0x459584(0x107))[_0x459584(0x16d)][_0x459584(0x181)]=_0x459584(0x173),document['getElementById'](_0x459584(0xc8))[_0x459584(0x1a4)]=_0x36ccce[_0x459584(0xe8)],document[_0x459584(0x19c)](_0x459584(0xf8))[_0x459584(0x1a4)]=_0x36ccce[_0x459584(0xc1)],document['getElementById'](_0x459584(0x1c6))['value']=_0x36ccce[_0x459584(0x161)],document['getElementById']('inpEnd')['value']=_0x36ccce[_0x459584(0x1e8)],document[_0x459584(0x19c)]('inpNote')['value']=_0x36ccce[_0x459584(0xcb)]||'',updateDateDisplay(),openSheet(_0x459584(0x125));}async function trySaveSession(){const _0x3e690b=a2_0x2cdaa1,_0x3c8018=document['getElementById'](_0x3e690b(0xc8))['value'],_0x23dc56=document[_0x3e690b(0x19c)](_0x3e690b(0xf8))[_0x3e690b(0x1a4)],_0x6ba505=document[_0x3e690b(0x19c)](_0x3e690b(0x1c6))[_0x3e690b(0x1a4)],_0x2b91a0=document['getElementById']('inpEnd')[_0x3e690b(0x1a4)],_0x597dea=document[_0x3e690b(0x19c)](_0x3e690b(0x128))['value'],_0xe64e39=document[_0x3e690b(0x19c)](_0x3e690b(0x1f2))[_0x3e690b(0xde)];let _0x1327ee=0x4;if(_0xe64e39){const _0x3ccbc1=parseInt(document['getElementById'](_0x3e690b(0x143))[_0x3e690b(0x1a4)]);if(!_0x3ccbc1||_0x3ccbc1<0x2){showToast(_0x3e690b(0x1e1),![]);return;}if(_0x3ccbc1>0x64){showToast(_0x3e690b(0x1c1),![]);return;}_0x1327ee=_0x3ccbc1;}const _0x12516b=clients[_0x3e690b(0x102)](_0x31d8d3=>_0x31d8d3[_0x3e690b(0xc5)]===_0x3c8018);if(!_0x12516b){showToast(_0x3e690b(0x179),![]);return;}const _0x453f6d=validateAppointment(_0x23dc56,_0x6ba505,_0x2b91a0,editingId,_0x12516b['id']);if(!_0x453f6d[_0x3e690b(0x1bc)]){showToast(_0x453f6d[_0x3e690b(0x1cc)],![]);return;}_0x453f6d[_0x3e690b(0x1cd)]&&showToast(_0x453f6d[_0x3e690b(0x1cd)],![]);const _0x219377={'client':_0x3c8018,'clientId':_0x12516b['id'],'start':_0x6ba505,'end':_0x2b91a0,'note':_0x597dea,'status':_0x3e690b(0x10c)},_0x518533=editingId?sessions[_0x3e690b(0x102)](_0x65746b=>_0x65746b['id']===editingId):null;if(_0x518533&&_0x518533[_0x3e690b(0xca)]){tempSessionData={..._0x219377,'dateStr':_0x23dc56,'id':editingId,'seriesId':_0x518533['seriesId']},openActionSheet(_0x3e690b(0x21f));return;}let _0x3f9fc2=null;if(!editingId)_0x3f9fc2=_0x3e690b(0xf4);else{if(_0x518533){if(String(_0x518533[_0x3e690b(0x196)])!==String(_0x12516b['id']))console['log'](_0x3e690b(0x109)),NotificationManager[_0x3e690b(0x13d)](_0x3e690b(0x168),_0x518533),_0x3f9fc2=_0x3e690b(0xf4);else(_0x518533['start']!==_0x6ba505||_0x518533[_0x3e690b(0x1e8)]!==_0x2b91a0||_0x518533['dateStr']!==_0x23dc56)&&(_0x3f9fc2=_0x3e690b(0x11b));}}if(!editingId&&_0xe64e39){createBatchSeries(_0x219377,_0x23dc56,_0x1327ee),NotificationManager['send']('create',{..._0x219377,'dateStr':_0x23dc56});return;}lastUserActionTime=Date[_0x3e690b(0x16f)]();const _0x136d28={..._0x219377,'dateStr':_0x23dc56,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x136d28),_0x3f9fc2&&NotificationManager[_0x3e690b(0x13d)](_0x3f9fc2,_0x136d28);}function toggleSessionStatus(){const _0x47ba3d=a2_0x2cdaa1;lastUserActionTime=Date[_0x47ba3d(0x16f)]();const _0x4fb176=sessions[_0x47ba3d(0x102)](_0xfb141e=>_0xfb141e['id']===editingId);if(!_0x4fb176)return;const _0x2a64fd=_0x4fb176['status']===_0x47ba3d(0x1cf)?'planned':'completed';_0x4fb176[_0x47ba3d(0x127)]=_0x2a64fd,saveSingleSession(_0x4fb176),_0x2a64fd===_0x47ba3d(0x1cf)&&NotificationManager[_0x47ba3d(0x13d)]('complete',_0x4fb176),showToast(_0x2a64fd===_0x47ba3d(0x1cf)?_0x47ba3d(0xd0):_0x47ba3d(0x1c5),!![]);}function validateAppointment(_0x683565,_0x398e65,_0x1f32a5,_0x1b9142,_0x1aa50d){const _0x54729d=a2_0x2cdaa1,[_0xf79869,_0x165b08]=_0x398e65[_0x54729d(0x1d8)](':')['map'](Number),[_0x2e60d7,_0x2213cb]=_0x1f32a5[_0x54729d(0x1d8)](':')['map'](Number),_0x446a67=_0xf79869*0x3c+_0x165b08,_0x3346ad=_0x2e60d7*0x3c+_0x2213cb,_0xcbbb36=String(_0x1aa50d);let _0x1269da=![],_0x28bb53='';for(let _0x5a5530 of sessions){if(_0x5a5530[_0x54729d(0xc1)]!==_0x683565)continue;if(_0x5a5530['status']===_0x54729d(0x119))continue;if(_0x1b9142&&String(_0x5a5530['id'])===String(_0x1b9142))continue;const [_0x2c902d,_0x58f3a9]=_0x5a5530[_0x54729d(0x161)][_0x54729d(0x1d8)](':')['map'](Number),[_0x1e2aae,_0x15ce03]=_0x5a5530['end'][_0x54729d(0x1d8)](':')[_0x54729d(0xd5)](Number),_0x4d0890=_0x2c902d*0x3c+_0x58f3a9,_0x130161=_0x1e2aae*0x3c+_0x15ce03;if(Math[_0x54729d(0x182)](_0x446a67,_0x4d0890)<Math['min'](_0x3346ad,_0x130161)){if(_0x5a5530[_0x54729d(0x196)]&&String(_0x5a5530[_0x54729d(0x196)])===_0xcbbb36)return{'valid':![],'msg':_0x54729d(0x146)+_0x5a5530[_0x54729d(0xe8)]+_0x54729d(0xdb)};_0x1269da=!![],_0x28bb53=_0x5a5530['client'];}}if(_0x1269da)return{'valid':!![],'warning':_0x54729d(0xf6)+_0x28bb53};return{'valid':!![]};}function saveSingleSession(_0x5e2638){const _0x3b5c11=a2_0x2cdaa1;if(editingId){const _0xe7d6d=sessions[_0x3b5c11(0x203)](_0xfc81a4=>_0xfc81a4['id']===editingId);if(_0xe7d6d!==-0x1)sessions[_0xe7d6d]=_0x5e2638;}else sessions[_0x3b5c11(0x1d0)](_0x5e2638);afterSaveAction([_0x5e2638['dateStr']]);}function createBatchSeries(_0x173208,_0x216ec0,_0x44c751){const _0x23139e=a2_0x2cdaa1,_0x409901=generateId(),_0x40d8f3=[],_0x5e2b26=[];let _0x24de4c=0x0,_0x12d591=new Date(_0x216ec0);for(let _0xf72a46=0x0;_0xf72a46<_0x44c751;_0xf72a46++){const _0x305641=getLocalDateStr(_0x12d591),_0x42998e=validateAppointment(_0x305641,_0x173208[_0x23139e(0x161)],_0x173208[_0x23139e(0x1e8)],null,_0x173208[_0x23139e(0x196)]);if(!_0x42998e[_0x23139e(0x1bc)])console[_0x23139e(0x137)](_0x23139e(0xaf)+_0x305641+_0x23139e(0xd1)),_0x24de4c++;else{const _0x1de756={..._0x173208,'id':generateId(),'dateStr':_0x305641,'seriesId':_0x409901};_0x5e2b26[_0x23139e(0x1d0)](_0x1de756),_0x40d8f3['push'](_0x305641);}_0x12d591[_0x23139e(0x1b5)](_0x12d591['getDate']()+0x7);}if(_0x5e2b26[_0x23139e(0x22a)]===0x0){showToast('–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!',![]);return;}sessions[_0x23139e(0x1d0)](..._0x5e2b26),lastUserActionTime=Date[_0x23139e(0x16f)]();let _0x5a54b1=_0x23139e(0x1e2)+_0x5e2b26[_0x23139e(0x22a)];_0x24de4c>0x0&&(_0x5a54b1+=_0x23139e(0x144)+_0x24de4c+')'),showToast(_0x5a54b1,!![]),afterSaveAction(_0x40d8f3);}function updateSeriesBatch(_0x4f5460,_0x5d874a){const _0x199a36=a2_0x2cdaa1,_0x1bbf1a=[],_0x227119=_0x5d874a['seriesId'];if(_0x4f5460===_0x199a36(0x187)){const _0x455786={..._0x5d874a,'seriesId':null},_0x3ab6f8=sessions[_0x199a36(0x203)](_0x5b67fe=>_0x5b67fe['id']===_0x5d874a['id']);if(_0x3ab6f8!==-0x1)sessions[_0x3ab6f8]=_0x455786;_0x1bbf1a[_0x199a36(0x1d0)](_0x455786[_0x199a36(0xc1)]);}else{if(_0x4f5460===_0x199a36(0x216)){const _0x46c00e=_0x5d874a[_0x199a36(0xc1)];sessions[_0x199a36(0xb3)]((_0x441410,_0x423a20)=>{const _0x22c342=_0x199a36;_0x441410[_0x22c342(0xca)]===_0x227119&&_0x441410[_0x22c342(0xc1)]>=_0x46c00e&&(sessions[_0x423a20]={...sessions[_0x423a20],'start':_0x5d874a[_0x22c342(0x161)],'end':_0x5d874a['end'],'note':_0x5d874a['note'],'client':_0x5d874a[_0x22c342(0xe8)],'clientId':_0x5d874a[_0x22c342(0x196)]},_0x1bbf1a[_0x22c342(0x1d0)](_0x441410[_0x22c342(0xc1)]));});}}afterSaveAction(_0x1bbf1a);}function tryDeleteSession(){const _0x195832=a2_0x2cdaa1,_0x5a520e=sessions[_0x195832(0x102)](_0x52f413=>_0x52f413['id']===editingId);if(!_0x5a520e)return;_0x5a520e[_0x195832(0xca)]?openActionSheet(_0x195832(0xff)):commitDelete(_0x195832(0x187),_0x5a520e);}function commitDelete(_0x24b620,_0x52c14b){const _0x5793d9=a2_0x2cdaa1;lastUserActionTime=Date[_0x5793d9(0x16f)](),NotificationManager[_0x5793d9(0x13d)](_0x5793d9(0x168),_0x52c14b);const _0x51be84=[];if(_0x24b620===_0x5793d9(0x187))sessions=sessions[_0x5793d9(0x170)](_0x3079f9=>_0x3079f9['id']!==_0x52c14b['id']),_0x51be84[_0x5793d9(0x1d0)](_0x52c14b[_0x5793d9(0xc1)]);else{if(_0x24b620===_0x5793d9(0x216)){const _0x1e204e=_0x52c14b['dateStr'],_0x35e211=_0x52c14b['seriesId'];sessions['forEach'](_0x231b56=>{const _0x526d5b=_0x5793d9;_0x231b56[_0x526d5b(0xca)]===_0x35e211&&_0x231b56[_0x526d5b(0xc1)]>=_0x1e204e&&_0x51be84[_0x526d5b(0x1d0)](_0x231b56[_0x526d5b(0xc1)]);}),sessions=sessions[_0x5793d9(0x170)](_0x2a1920=>!(_0x2a1920[_0x5793d9(0xca)]===_0x35e211&&_0x2a1920[_0x5793d9(0xc1)]>=_0x1e204e));}}afterSaveAction(_0x51be84);}function afterSaveAction(_0x281cac){const _0x4571f9=a2_0x2cdaa1;DataManager[_0x4571f9(0x10d)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x4571f9(0x1c8)](_0x281cac)[_0x4571f9(0x151)](()=>console['log'](_0x4571f9(0xc4)))[_0x4571f9(0x18e)](_0x4c1313=>showToast(_0x4571f9(0x226),![]));}const NotificationManager={'formatDate'(_0xfbfb56){const _0x10a9d4=a2_0x2cdaa1,_0x20ebd1=new Date(_0xfbfb56),_0x3d0273={'weekday':_0x10a9d4(0xc2),'day':_0x10a9d4(0x20a),'month':_0x10a9d4(0xc2)};let _0x5672ae=_0x20ebd1[_0x10a9d4(0x18b)](_0x10a9d4(0x15a),_0x3d0273);return _0x5672ae[_0x10a9d4(0x210)](0x0)['toUpperCase']()+_0x5672ae[_0x10a9d4(0x22d)](0x1);},'getText'(_0x4182cd,_0x45ef6a){const _0x4cf8b4=a2_0x2cdaa1,_0x523ee4=this[_0x4cf8b4(0x115)](_0x45ef6a[_0x4cf8b4(0xc1)]);switch(_0x4182cd){case _0x4cf8b4(0xf4):return'<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a'+(_0x4cf8b4(0xe0)+_0x523ee4+'\x0a')+('<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20'+_0x45ef6a['start']+'\x20‚Äî\x20'+_0x45ef6a['end']+'\x0a\x0a')+_0x4cf8b4(0x218);case _0x4cf8b4(0x11b):return _0x4cf8b4(0xbb)+_0x4cf8b4(0x1b2)+(_0x4cf8b4(0xb8)+_0x45ef6a[_0x4cf8b4(0x161)]+_0x4cf8b4(0x190)+_0x45ef6a['end']+_0x4cf8b4(0x123))+(_0x4cf8b4(0xe0)+_0x523ee4);case _0x4cf8b4(0x168):return _0x4cf8b4(0x1f7)+(_0x4cf8b4(0x13a)+_0x523ee4+'\x20('+_0x45ef6a[_0x4cf8b4(0x161)]+_0x4cf8b4(0xb7));case _0x4cf8b4(0xeb):return'<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a'+_0x4cf8b4(0x20d)+_0x4cf8b4(0x1d9);default:return'';}},async 'send'(_0xd622b4,_0x39636a){const _0x53a54d=a2_0x2cdaa1;console[_0x53a54d(0x137)](_0x53a54d(0x174),_0xd622b4,_0x39636a);if(!_0x39636a){console[_0x53a54d(0xce)](_0x53a54d(0x13e));return;}const _0x4c2648=String(_0x39636a[_0x53a54d(0x196)]);console[_0x53a54d(0x137)](_0x53a54d(0xb9),_0x4c2648);if(!_0x39636a[_0x53a54d(0x196)]||_0x4c2648===_0x53a54d(0xe1)||_0x4c2648===_0x53a54d(0x1d1)){console[_0x53a54d(0xce)]('[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!');if(_0x39636a['client']){const _0x2f7ea9=clients[_0x53a54d(0x102)](_0x3f172f=>_0x3f172f[_0x53a54d(0xc5)]===_0x39636a[_0x53a54d(0xe8)]);if(_0x2f7ea9)return console[_0x53a54d(0x137)](_0x53a54d(0x1e5),_0x2f7ea9['id']),this[_0x53a54d(0x13d)](_0xd622b4,{..._0x39636a,'clientId':_0x2f7ea9['id']});}return;}if(_0x4c2648[_0x53a54d(0x22a)]<0x5){console[_0x53a54d(0x141)](_0x53a54d(0x189),_0x4c2648);return;}const _0x3c9c90=this[_0x53a54d(0x1b9)](_0xd622b4,_0x39636a);if(!_0x3c9c90){console[_0x53a54d(0xce)](_0x53a54d(0x19b));return;}console[_0x53a54d(0x137)](_0x53a54d(0x21c)+_0x4c2648+_0x53a54d(0x129)),DataManager[_0x53a54d(0x176)](_0x53a54d(0x14d),{'chatId':_0x4c2648,'text':_0x3c9c90})[_0x53a54d(0x151)](_0x546ff1=>console['log'](_0x53a54d(0x134),_0x546ff1))['catch'](_0x2a0ddb=>console[_0x53a54d(0xce)](_0x53a54d(0x1ce),_0x2a0ddb));}};function getLocalDateStr(_0x1c3974){const _0x242b38=a2_0x2cdaa1,_0x19c44c=_0x1c3974[_0x242b38(0xab)](),_0x52310c=String(_0x1c3974[_0x242b38(0x12e)]()+0x1)[_0x242b38(0x116)](0x2,'0'),_0x4cd671=String(_0x1c3974['getDate']())[_0x242b38(0x116)](0x2,'0');return _0x19c44c+'-'+_0x52310c+'-'+_0x4cd671;}function getDateStr(_0x25e40b){const _0x335839=a2_0x2cdaa1,_0x36d68e=new Date();return _0x36d68e[_0x335839(0x1b5)](_0x36d68e[_0x335839(0x110)]()+_0x25e40b),getLocalDateStr(_0x36d68e);}function getStartOfWeek(_0x14ed07){const _0x47e215=a2_0x2cdaa1,_0x356432=new Date(_0x14ed07),_0x3c6f15=_0x356432[_0x47e215(0x140)](),_0x5ba256=_0x356432['getDate']()-_0x3c6f15+(_0x3c6f15===0x0?-0x6:0x1);return _0x356432['setDate'](_0x5ba256),_0x356432[_0x47e215(0x157)](0x0,0x0,0x0,0x0),_0x356432;}function a2_0x6603(_0x1e615c,_0x2bfc58){_0x1e615c=_0x1e615c-0xab;const _0x2cf7d6=a2_0x3cd0();let _0x13d786=_0x2cf7d6[_0x1e615c];return _0x13d786;}function hexToRgba(_0x370462,_0x15c45b){const _0x1e2517=a2_0x2cdaa1;if(!_0x370462)return _0x1e2517(0xac);let _0x139b3b=0x0,_0xca599b=0x0,_0x1ee25b=0x0;if(_0x370462[_0x1e2517(0x22a)]===0x4)_0x139b3b='0x'+_0x370462[0x1]+_0x370462[0x1],_0xca599b='0x'+_0x370462[0x2]+_0x370462[0x2],_0x1ee25b='0x'+_0x370462[0x3]+_0x370462[0x3];else _0x370462[_0x1e2517(0x22a)]===0x7&&(_0x139b3b='0x'+_0x370462[0x1]+_0x370462[0x2],_0xca599b='0x'+_0x370462[0x3]+_0x370462[0x4],_0x1ee25b='0x'+_0x370462[0x5]+_0x370462[0x6]);return _0x1e2517(0xd4)+ +_0x139b3b+',\x20'+ +_0xca599b+',\x20'+ +_0x1ee25b+',\x20'+_0x15c45b+')';}function renderTimeColumn(){const _0x34971a=a2_0x2cdaa1,_0x5a9dc2=document[_0x34971a(0x19c)](_0x34971a(0x215)),_0xe74f0c=document[_0x34971a(0x19c)](_0x34971a(0x1dd));_0x5a9dc2[_0x34971a(0x200)]='',_0x5a9dc2[_0x34971a(0x11c)](_0xe74f0c);for(let _0x2d5983=0x0;_0x2d5983<0x18;_0x2d5983++){const _0x675ab8=document[_0x34971a(0x138)](_0x34971a(0x122));_0x675ab8[_0x34971a(0xf9)]='time-label';if(_0x2d5983>0x0)_0x675ab8[_0x34971a(0x200)]=_0x34971a(0xd3)+String(_0x2d5983)[_0x34971a(0x116)](0x2,'0')+_0x34971a(0x17d);_0x5a9dc2[_0x34971a(0x11c)](_0x675ab8);}}function renderDayRange(_0x5e7857,_0x4bdad7){const _0x286091=a2_0x2cdaa1,_0x3ad0ac=document[_0x286091(0x19c)](_0x286091(0x21d)),_0x4ddd9c=document[_0x286091(0x19c)](_0x286091(0x172)),_0x477e5c=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x46eb9b=new Date();_0x46eb9b['setHours'](0x0,0x0,0x0,0x0);const _0x34a1f7=getLocalDateStr(new Date());for(let _0x43d27b=_0x5e7857;_0x43d27b<=_0x4bdad7;_0x43d27b++){const _0x1b5bf0=new Date(_0x46eb9b);_0x1b5bf0[_0x286091(0x1b5)](_0x1b5bf0[_0x286091(0x110)]()+_0x43d27b);const _0x5f0450=getLocalDateStr(_0x1b5bf0);let _0x5cfb3b=_0x1b5bf0[_0x286091(0x140)]()-0x1;if(_0x5cfb3b===-0x1)_0x5cfb3b=0x6;const _0x16d696=_0x5f0450===_0x34a1f7,_0x45606c=document[_0x286091(0x138)](_0x286091(0x122));_0x45606c[_0x286091(0xf9)]=_0x286091(0x1ca)+(_0x16d696?_0x286091(0x1ff):''),_0x45606c['id']=_0x286091(0x177)+_0x5f0450,_0x45606c['setAttribute']('data-date',_0x5f0450),_0x45606c[_0x286091(0x200)]=_0x286091(0x167)+_0x477e5c[_0x5cfb3b]+'</div><div\x20class=\x22dch-num\x22>'+_0x1b5bf0[_0x286091(0x110)]()+_0x286091(0x10f)+_0x5f0450+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x45606c[_0x286091(0x1a1)]=()=>openDayOptions(_0x5f0450,_0x477e5c[_0x5cfb3b]+'\x20'+_0x1b5bf0[_0x286091(0x110)]()),_0x3ad0ac[_0x286091(0x11c)](_0x45606c);const _0x36ba30=document['createElement'](_0x286091(0x122));_0x36ba30[_0x286091(0xf9)]=_0x286091(0x153)+(_0x16d696?_0x286091(0x1ff):''),_0x36ba30[_0x286091(0x1af)](_0x286091(0x145),_0x5f0450),_0x36ba30['setAttribute'](_0x286091(0x208),_0x5cfb3b),renderEventsForColumn(_0x36ba30,_0x5f0450,_0x5cfb3b),attachLongPressHandler(_0x36ba30,_0x1b5bf0),_0x4ddd9c[_0x286091(0x11c)](_0x36ba30),updateDayStats(_0x5f0450);}}function reRenderBlocks(){const _0x146778=a2_0x2cdaa1;document[_0x146778(0xef)](_0x146778(0xd8))[_0x146778(0xb3)](_0x32cd19=>{const _0x3dd3d5=_0x146778;_0x32cd19[_0x3dd3d5(0xef)](_0x3dd3d5(0x171))['forEach'](_0x1a5a09=>_0x1a5a09[_0x3dd3d5(0x20f)]());const _0x3bfb95=_0x32cd19[_0x3dd3d5(0xc0)](_0x3dd3d5(0x145)),_0x14ec4d=parseInt(_0x32cd19[_0x3dd3d5(0xc0)](_0x3dd3d5(0x208))),_0xaa5257=Math[_0x3dd3d5(0xf7)](_0x32cd19[_0x3dd3d5(0xf5)]);(availabilityPattern[_0x14ec4d]||[])[_0x3dd3d5(0xb3)](_0x34348c=>{const _0x2354d3=_0x3dd3d5,_0x333bbb=document[_0x2354d3(0x138)](_0x2354d3(0x122));_0x333bbb[_0x2354d3(0xf9)]='blocked-slot\x20stripe-bg';const _0x220c34=_0x34348c*GRID_H;_0x333bbb[_0x2354d3(0x16d)][_0x2354d3(0xc7)]=_0x220c34+'px',_0x333bbb['style'][_0x2354d3(0x1ae)]='-'+_0xaa5257+_0x2354d3(0x113)+_0x220c34+'px',_0x32cd19['appendChild'](_0x333bbb);});if(specialRanges&&specialRanges[_0x3dd3d5(0x22a)]>0x0){const _0x167613=new Date(_0x3bfb95+_0x3dd3d5(0x1a3))[_0x3dd3d5(0xfe)](),_0x4dca10=new Date(_0x3bfb95+_0x3dd3d5(0x117))[_0x3dd3d5(0xfe)]();specialRanges[_0x3dd3d5(0xb3)](_0x562188=>{const _0x487816=_0x3dd3d5,_0x1b46f6=new Date(_0x562188[_0x487816(0x161)])[_0x487816(0xfe)](),_0x22112d=new Date(_0x562188[_0x487816(0x1e8)])[_0x487816(0xfe)](),_0x4bcd8f=Math[_0x487816(0x182)](_0x167613,_0x1b46f6),_0x4debdc=Math['min'](_0x4dca10,_0x22112d);if(_0x4bcd8f<_0x4debdc){if(_0x4bcd8f<=_0x167613&&_0x4debdc>=_0x4dca10-0xea60){if(!_0x32cd19[_0x487816(0x16e)]('.day-off-overlay')){const _0x4d594f=document[_0x487816(0x138)](_0x487816(0x122));_0x4d594f['className']=_0x487816(0x213),_0x4d594f[_0x487816(0x16d)][_0x487816(0x1ae)]='-'+_0xaa5257+'px\x200px',_0x32cd19[_0x487816(0x11c)](_0x4d594f);}}else{const _0x4ccb44=(_0x4bcd8f-_0x167613)/0x36ee80*GRID_H,_0x403435=(_0x4debdc-_0x4bcd8f)/0x36ee80*GRID_H,_0x486e7f=document[_0x487816(0x138)](_0x487816(0x122));_0x486e7f[_0x487816(0xf9)]=_0x487816(0x1f6),_0x486e7f['style'][_0x487816(0xc7)]=_0x4ccb44+'px',_0x486e7f[_0x487816(0x16d)][_0x487816(0xc9)]=_0x403435+'px',_0x486e7f[_0x487816(0x16d)][_0x487816(0x1ae)]='-'+_0xaa5257+_0x487816(0x113)+_0x4ccb44+'px',_0x32cd19[_0x487816(0x11c)](_0x486e7f);}}});}if(dateExceptions[_0x3bfb95]==='off'){if(!_0x32cd19[_0x3dd3d5(0x16e)]('.day-off-overlay')){const _0x5f1080=document[_0x3dd3d5(0x138)](_0x3dd3d5(0x122));_0x5f1080[_0x3dd3d5(0xf9)]=_0x3dd3d5(0x213),_0x5f1080[_0x3dd3d5(0x16d)][_0x3dd3d5(0x1ae)]='-'+_0xaa5257+_0x3dd3d5(0x13f),_0x32cd19[_0x3dd3d5(0x11c)](_0x5f1080);}}renderEventsForColumn(_0x32cd19,_0x3bfb95,_0x14ec4d),updateDayStats(_0x3bfb95);});}function updateAllDayStats(){const _0x27fe51=a2_0x2cdaa1;document[_0x27fe51(0xef)](_0x27fe51(0xf1))[_0x27fe51(0xb3)](_0x4e610d=>{const _0x5e42c8=_0x27fe51;updateDayStats(_0x4e610d[_0x5e42c8(0xc0)](_0x5e42c8(0x145)));});}function updateDayStats(_0x5a7281){const _0x215f78=a2_0x2cdaa1,_0x2e7d0c=document[_0x215f78(0x19c)]('stat-'+_0x5a7281);if(!_0x2e7d0c)return;const _0x35b057=new Date(_0x5a7281);let _0x5a41d3=_0x35b057['getDay']()-0x1;if(_0x5a41d3===-0x1)_0x5a41d3=0x6;if(dateExceptions[_0x5a7281]===_0x215f78(0x163)){_0x2e7d0c['style']['display']=_0x215f78(0x173);return;}const _0x2064a9=availabilityPattern[_0x5a41d3]||[],_0x160349=0x18-_0x2064a9[_0x215f78(0x22a)],_0x5dd4c3=_0x160349*0x3c,_0x38f3fb=sessions[_0x215f78(0x170)](_0x512291=>_0x512291[_0x215f78(0xc1)]===_0x5a7281&&_0x512291[_0x215f78(0x127)]!==_0x215f78(0x119));if(_0x38f3fb[_0x215f78(0x22a)]===0x0){_0x2e7d0c['style'][_0x215f78(0x181)]='none';return;}let _0x40818e=_0x38f3fb[_0x215f78(0xd5)](_0x3e86d5=>{const _0x1ffdca=_0x215f78,[_0x53df78,_0x3be14b]=_0x3e86d5[_0x1ffdca(0x161)][_0x1ffdca(0x1d8)](':')[_0x1ffdca(0xd5)](Number),[_0x5bf308,_0x39751c]=_0x3e86d5[_0x1ffdca(0x1e8)][_0x1ffdca(0x1d8)](':')[_0x1ffdca(0xd5)](Number);return[_0x53df78*0x3c+_0x3be14b,_0x5bf308*0x3c+_0x39751c];});_0x40818e[_0x215f78(0x105)]((_0x237f25,_0x50bca2)=>_0x237f25[0x0]-_0x50bca2[0x0]);let _0x36d282=[];if(_0x40818e[_0x215f78(0x22a)]>0x0){let _0x45728=_0x40818e[0x0];for(let _0x275b2e=0x1;_0x275b2e<_0x40818e[_0x215f78(0x22a)];_0x275b2e++){_0x40818e[_0x275b2e][0x0]<_0x45728[0x1]?_0x45728[0x1]=Math[_0x215f78(0x182)](_0x45728[0x1],_0x40818e[_0x275b2e][0x1]):(_0x36d282[_0x215f78(0x1d0)](_0x45728),_0x45728=_0x40818e[_0x275b2e]);}_0x36d282[_0x215f78(0x1d0)](_0x45728);}let _0xa700fd=0x0;_0x36d282[_0x215f78(0xb3)](_0x182f61=>_0xa700fd+=_0x182f61[0x1]-_0x182f61[0x0]),_0x2e7d0c[_0x215f78(0x16d)][_0x215f78(0x181)]=_0x215f78(0x12f);const _0x322e81=_0x2e7d0c[_0x215f78(0x16e)](_0x215f78(0x10a));if(_0x5dd4c3===0x0){_0x322e81[_0x215f78(0x16d)][_0x215f78(0x1dc)]=_0x215f78(0x148),_0x322e81[_0x215f78(0x16d)][_0x215f78(0x10e)]='var(--acc-red)';return;}const _0x242799=_0xa700fd/_0x5dd4c3*0x64;console['log']('['+_0x5a7281+_0x215f78(0x202)+_0x160349+_0x215f78(0x1fc)+_0xa700fd+_0x215f78(0xbf)+_0x242799['toFixed'](0x1)+'%'),_0x242799>0x64?(_0x322e81['style']['width']=_0x215f78(0x148),_0x322e81['style'][_0x215f78(0x10e)]=_0x215f78(0x212)):(_0x322e81[_0x215f78(0x16d)][_0x215f78(0x1dc)]=_0x242799+'%',_0x322e81[_0x215f78(0x16d)][_0x215f78(0x10e)]=_0x215f78(0x1ea));}function renderEventsForColumn(_0x38ac96,_0x363000,_0x24b651){const _0x4cca37=a2_0x2cdaa1,_0x22fcf8=sessions['filter'](_0x18d54d=>_0x18d54d[_0x4cca37(0xc1)]===_0x363000),_0x59785c=_0x22fcf8[_0x4cca37(0xd5)](_0x4462df=>{const _0x40a8a3=_0x4cca37,[_0x2baa38,_0x42f62a]=_0x4462df['start'][_0x40a8a3(0x1d8)](':')[_0x40a8a3(0xd5)](Number),[_0x4e7921,_0x458ea5]=_0x4462df[_0x40a8a3(0x1e8)][_0x40a8a3(0x1d8)](':')[_0x40a8a3(0xd5)](Number);return{'data':_0x4462df,'start':_0x2baa38*0x3c+_0x42f62a,'end':_0x4e7921*0x3c+_0x458ea5,'colIndex':0x0};});_0x59785c['sort']((_0x5c380a,_0x58ca9a)=>{const _0x313299=_0x4cca37;if(_0x5c380a['start']!==_0x58ca9a[_0x313299(0x161)])return _0x5c380a['start']-_0x58ca9a[_0x313299(0x161)];return _0x58ca9a[_0x313299(0x1e8)]-_0x58ca9a[_0x313299(0x161)]-(_0x5c380a[_0x313299(0x1e8)]-_0x5c380a['start']);});const _0x150afe=[];_0x59785c[_0x4cca37(0xb3)](_0x25d6d7=>{const _0x25c7ba=_0x4cca37;let _0x21970e=![];for(let _0x38369d=0x0;_0x38369d<_0x150afe[_0x25c7ba(0x22a)];_0x38369d++){const _0x508660=_0x150afe[_0x38369d],_0x18befd=_0x508660[_0x508660['length']-0x1];if(_0x25d6d7[_0x25c7ba(0x161)]>=_0x18befd[_0x25c7ba(0x1e8)]){_0x508660[_0x25c7ba(0x1d0)](_0x25d6d7),_0x25d6d7[_0x25c7ba(0x14f)]=_0x38369d,_0x21970e=!![];break;}}!_0x21970e&&(_0x150afe[_0x25c7ba(0x1d0)]([_0x25d6d7]),_0x25d6d7['colIndex']=_0x150afe[_0x25c7ba(0x22a)]-0x1);}),_0x59785c[_0x4cca37(0xb3)](_0xb8dd77=>{const _0xf3a286=_0x4cca37;let _0x756b17=0x0;_0x59785c['forEach'](_0x3bf940=>{const _0x4feb24=a2_0x6603;if(Math[_0x4feb24(0x182)](_0xb8dd77['start'],_0x3bf940[_0x4feb24(0x161)])<Math[_0x4feb24(0x1d6)](_0xb8dd77[_0x4feb24(0x1e8)],_0x3bf940[_0x4feb24(0x1e8)])){if(_0x3bf940[_0x4feb24(0x14f)]>_0x756b17)_0x756b17=_0x3bf940['colIndex'];}});const _0x4c5b75=_0x756b17+0x1,_0x2b1dd2=0x64/_0x4c5b75,_0x255448=_0xb8dd77[_0xf3a286(0x14f)]*_0x2b1dd2,_0xd90569=createEventEl(_0xb8dd77[_0xf3a286(0x114)]);_0xd90569[_0xf3a286(0x16d)]['width']=_0xf3a286(0x222)+_0x2b1dd2+_0xf3a286(0xec),_0xd90569[_0xf3a286(0x16d)][_0xf3a286(0x192)]=_0xf3a286(0x222)+_0x255448+_0xf3a286(0x19d),_0xd90569[_0xf3a286(0x16d)]['zIndex']=0xa+_0xb8dd77[_0xf3a286(0x14f)],_0x2b1dd2<0x55&&_0xd90569['classList'][_0xf3a286(0x185)](_0xf3a286(0x1c9)),_0x38ac96[_0xf3a286(0x11c)](_0xd90569);});}function createEventEl(_0x192f53){const _0x2932fa=a2_0x2cdaa1,[_0xc8c818,_0x1e4341]=_0x192f53[_0x2932fa(0x161)][_0x2932fa(0x1d8)](':')[_0x2932fa(0xd5)](Number),[_0x3dadd6,_0x46b8c5]=_0x192f53[_0x2932fa(0x1e8)][_0x2932fa(0x1d8)](':')[_0x2932fa(0xd5)](Number),_0x367ef0=(_0xc8c818*0x3c+_0x1e4341)/0x3c*GRID_H,_0x43bd9c=(_0x3dadd6*0x3c+_0x46b8c5-(_0xc8c818*0x3c+_0x1e4341))/0x3c*GRID_H,_0x4e53d1=document[_0x2932fa(0x138)](_0x2932fa(0x122)),_0x54b835=_0x192f53[_0x2932fa(0x127)]===_0x2932fa(0x1cf)?_0x2932fa(0x17e):'';_0x4e53d1['className']='event-card'+_0x54b835,_0x4e53d1['style']['top']=_0x367ef0+'px',_0x4e53d1[_0x2932fa(0x16d)]['height']=Math[_0x2932fa(0x182)](_0x43bd9c,0x14)+'px';const _0x4cf191=clients['find'](_0x2d5f93=>_0x192f53[_0x2932fa(0x196)]&&String(_0x2d5f93['id'])===String(_0x192f53[_0x2932fa(0x196)])||_0x2d5f93[_0x2932fa(0xc5)]===_0x192f53['client']),_0xc8b262=_0x4cf191?_0x4cf191[_0x2932fa(0x164)]:_0x2932fa(0xbd);_0x4e53d1[_0x2932fa(0x16d)][_0x2932fa(0x1ed)]=_0xc8b262,_0x4e53d1[_0x2932fa(0x16d)][_0x2932fa(0x152)]=hexToRgba(_0xc8b262,0.85);let _0x230540=_0x2932fa(0x1fd)+_0x192f53[_0x2932fa(0xe8)]+_0x2932fa(0x15d)+_0x192f53['start']+_0x2932fa(0x135)+_0x192f53['end']+'</div>';return _0x192f53[_0x2932fa(0xca)]&&(_0x230540+=_0x2932fa(0xf0)),_0x192f53[_0x2932fa(0x127)]===_0x2932fa(0x1cf)&&(_0x230540+=_0x2932fa(0x10b)),_0x4e53d1[_0x2932fa(0x200)]=_0x230540,_0x4e53d1[_0x2932fa(0x1a1)]=_0x30c11c=>{const _0x33f94f=_0x2932fa;_0x30c11c[_0x33f94f(0x1b0)](),openEdit(_0x192f53);},_0x4e53d1;}function a2_0x3cd0(){const _0x421c25=['single','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','createDocumentFragment','toLocaleDateString','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','[API\x20','catch','stringify','\x20‚Äî\x20','#050505','left','doWorkHours','peGrid','rangesList','clientId','from','#fff','firstChild','floor','[Notify]\x20Error:\x20Text\x20generation\x20failed','getElementById','%\x20+\x202px)','initData','14sfyuSe','batch_sync','onclick','Error\x20setting\x20color:','T00:00:00','value','option','doLoadPercent','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','741450isMzKf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','WebApp','dayOptionsSheet','getHours','done','backgroundPosition','setAttribute','stopPropagation','DOMContentLoaded','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','8571ZhEjKv','rangeEndDate','setDate','addEventListener','disableVerticalSwipes','keys','getText','touchmove','1591836eeVBZW','valid','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','toLocaleString','.sheet','month','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','564831oUMqCL','</span>\x20/\x20','href','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','inpStart','clientY','syncBatch','mini','day-col-header\x20','show','msg','warning','[Notify]\x20Network\x20Failed','completed','push','null','syncLoad','custom','calendar','week','min','save_settings','split','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','POST','toastMessage','width','timeLineBadge','anPercent','mousemove','getBoundingClientRect','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','settingsSheet','borderColor','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','.event-card','end','[Sync]\x20Loading\x20','var(--acc-current)','analyticsList','getItem','borderLeftColor','splice','search','active','clientWidth','inpRecurring','strokeDashoffset','textContent','exceptions','blocked-range-part\x20stripe-bg','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','matrixViewport','23:59','asBtnOne','success','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','<div\x20class=\x22ev-title\x22>','toUpperCase','today','innerHTML','location',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','findIndex','deleted','294lfzqwg','ranges','settings','data-day-idx','Save\x20settings\x20error:','numeric','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','btn-status-toggle','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','indexOf','remove','charAt','00:00','var(--acc-red)','day-off-overlay\x20stripe-bg','actionSheet','timeColumn','series','total','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','btnDayToggle','mouseup','</div><div\x20class=\x22dch-num\x22>','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','daysHeaderTrack','2656856MSCosw','save','setBackgroundColor','blocked-slot\x20stripe-bg','calc(','insertBefore','anDonutCircle','localeCompare','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','.period-switch\x20.p-btn','open','btnDelete','length','onClick','globalTimeLine','slice','range-item','uc_settings_cancel_window','getFullYear','rgba(100,100,100,0.5)','var(--acc-orange)','anEnd','[Series]\x20Skipped\x20','BackButton','offClick','touchstart','forEach','scrollWidth','10px','rangeStartTime',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','<b>‚úÖ\x20','[Notify]\x20Detected\x20Client\x20ID:','rgba(255,\x2069,\x2058,\x200.15)','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','inpEnd','#0a84ff','asTitle','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','getAttribute','dateStr','long','offsetWidth','Batch\x20Sync\x20OK','name','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','top','inpClient','height','seriesId','note','anTotalStats','10px\x2010px\x200\x200','error','cancel_window','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞',':\x20Client\x20already\x20booked','clients','<span>','rgba(','map','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','setItem','#gridColumns\x20.day-column','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','startsWith',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','touchend','patternEditor','checked','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','undefined','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text','classList','.day-column','user','\x20–∏–∑\x20','client',':00','random','complete','%\x20-\x204px)','settingCancelWindow','toString','querySelectorAll','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','.day-col-header','toastTitle','pe-cell\x20','create','offsetLeft','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','round','inpDate','className','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','recurringOptionContainer','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','getTime','delete','loadLocal','includes','find','uc_sessions_v9','touches','sort','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','patternInfoBox','btn-status-toggle\x20undo-mode','[Notify]\x20Client\x20SWAP\x20detected','.dch-stats-fill','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','planned','saveLocally','background','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','getDate','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','rangeStartDate','px\x20-','data','formatDate','padStart','T23:59:59','guest','cancelled','pe-col-header','update','appendChild','init_load','doDateHeader','btn-primary\x20btn-danger','block','toast','div','</b>\x0a\x0a','parse','sessionSheet','–ò–Ω—Ñ–æ','status','inpNote','...','seriesCountContainer','pe-corner','uc_settings_v9','rgba(255,\x20159,\x2010,\x200.3)','getMonth','flex','v9.0-BATCH-CALENDAR','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','as-button\x20danger\x20bold','anCustomDates','[Notify]\x20Server\x20Response:','\x20-\x20','var(--acc-green)','log','createElement','getMinutes','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','scrollLeft','send','[Notify]\x20Error:\x20sessionData\x20is\x20null','px\x200px','getDay','warn','as-button\x20danger','inpSeriesCount','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','data-date','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','Local\x20Save\x20Error','100%','pattern','setMonth','sheetTitle','(((.+)+)+)+$','send_notification','apply','colIndex','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','then','backgroundColor','day-column\x20','1920006tqhMPN','Server\x20Error','borderRadius','setHours','anStart','Telegram','ru-RU','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','2669oPVlWB','</div><div\x20class=\x22ev-time\x22>','70aZoHIw','\x20days','all','start','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','off','color','mergeServerData','Critical\x20TMA\x20Error:','<div\x20class=\x22dch-day\x22>','cancel','sheetDateSubtitle','actionSheetOverlay','json','closest','style','querySelector','now','filter','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','gridColumns','none','[Notify]\x20Attempting\x20to\x20send:','overlay','fetchFromServer','header-','de-item','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','setHeaderColor',':00</span>','\x20status-completed','entries','292JpZtlT','display','max','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','initDataUnsafe','add','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º'];a2_0x3cd0=function(){return _0x421c25;};return a2_0x3cd0();}function attachLongPressHandler(_0x1a17c3,_0x4a7a51){const _0xb3c394=a2_0x2cdaa1;let _0x362281=0x0,_0x469b31=null;const _0x317aa8=_0x4f8db5=>{const _0x19f83e=a2_0x6603;if(_0x4f8db5['target'][_0x19f83e(0x16c)](_0x19f83e(0x1e7)))return;isScrolling=![],_0x362281=_0x4f8db5['touches']?_0x4f8db5[_0x19f83e(0x104)][0x0][_0x19f83e(0x1c7)]:_0x4f8db5['clientY'],_0x469b31=setTimeout(()=>{const _0x5d0da6=_0x19f83e;if(!isScrolling){navigator['vibrate']?.(0x32);const _0x2c3d46=_0x1a17c3[_0x5d0da6(0x1e0)](),_0x322a7b=Math[_0x5d0da6(0x19a)]((_0x362281-_0x2c3d46['top'])/GRID_H);_0x4a7a51['setHours'](_0x322a7b,0x0),openAddSession(_0x4a7a51);}},0x1f4);},_0x26341=()=>{isScrolling=!![],clearTimeout(_0x469b31);},_0x3e0023=()=>{clearTimeout(_0x469b31);};_0x1a17c3[_0xb3c394(0x1b6)](_0xb3c394(0xb2),_0x317aa8,{'passive':!![]}),_0x1a17c3['addEventListener'](_0xb3c394(0x1ba),_0x26341,{'passive':!![]}),_0x1a17c3[_0xb3c394(0x1b6)](_0xb3c394(0xdc),_0x3e0023),_0x1a17c3[_0xb3c394(0x1b6)]('mousedown',_0x317aa8),_0x1a17c3[_0xb3c394(0x1b6)](_0xb3c394(0x1df),_0x26341),_0x1a17c3[_0xb3c394(0x1b6)](_0xb3c394(0x21a),_0x3e0023);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x367076=a2_0x2cdaa1,_0x42e569=document[_0x367076(0x19c)](_0x367076(0x1f8)),_0x35e72f=_0x42e569[_0x367076(0x13c)],_0x531b0b=_0x42e569[_0x367076(0xb4)],_0x4798dc=_0x42e569[_0x367076(0x1f1)];if(_0x531b0b-(_0x35e72f+_0x4798dc)<0x12c){const _0x40c9db=endOffset;endOffset+=0xe,renderDayRange(_0x40c9db+0x1,endOffset),reRenderBlocks();}if(_0x35e72f<0x12c){const _0xa7de13=startOffset;startOffset-=0xe,prependDays(startOffset,_0xa7de13-0x1),_0x42e569['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x58eb8c,_0x52a2f5){const _0x702e0c=a2_0x2cdaa1,_0x1ec15f=document[_0x702e0c(0x19c)](_0x702e0c(0x21d)),_0x2faf06=document[_0x702e0c(0x19c)](_0x702e0c(0x172)),_0x466b82=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x495c0a=new Date();_0x495c0a[_0x702e0c(0x157)](0x0,0x0,0x0,0x0);const _0x2790eb=getLocalDateStr(new Date()),_0x2c4f46=document['createDocumentFragment'](),_0x226592=document[_0x702e0c(0x18a)]();for(let _0xc9805f=_0x58eb8c;_0xc9805f<=_0x52a2f5;_0xc9805f++){const _0x47833c=new Date(_0x495c0a);_0x47833c['setDate'](_0x47833c['getDate']()+_0xc9805f);const _0x51b551=getLocalDateStr(_0x47833c);let _0x3c901b=_0x47833c[_0x702e0c(0x140)]()-0x1;if(_0x3c901b===-0x1)_0x3c901b=0x6;const _0x1210d9=_0x51b551===_0x2790eb,_0x1be007=document['createElement'](_0x702e0c(0x122));_0x1be007[_0x702e0c(0xf9)]='day-col-header\x20'+(_0x1210d9?_0x702e0c(0x1ff):''),_0x1be007['id']=_0x702e0c(0x177)+_0x51b551,_0x1be007[_0x702e0c(0x1af)](_0x702e0c(0x145),_0x51b551),_0x1be007[_0x702e0c(0x200)]='<div\x20class=\x22dch-day\x22>'+_0x466b82[_0x3c901b]+_0x702e0c(0x21b)+_0x47833c[_0x702e0c(0x110)]()+_0x702e0c(0x10f)+_0x51b551+_0x702e0c(0x188),_0x1be007['onclick']=()=>openDayOptions(_0x51b551,_0x466b82[_0x3c901b]+'\x20'+_0x47833c[_0x702e0c(0x110)]()),_0x2c4f46['appendChild'](_0x1be007);const _0x39f41b=document[_0x702e0c(0x138)](_0x702e0c(0x122));_0x39f41b[_0x702e0c(0xf9)]='day-column\x20'+(_0x1210d9?_0x702e0c(0x1ff):''),_0x39f41b['setAttribute'](_0x702e0c(0x145),_0x51b551),_0x39f41b[_0x702e0c(0x1af)](_0x702e0c(0x208),_0x3c901b),renderEventsForColumn(_0x39f41b,_0x51b551,_0x3c901b),attachLongPressHandler(_0x39f41b,_0x47833c),_0x226592['appendChild'](_0x39f41b),updateDayStats(_0x51b551);}_0x1ec15f[_0x702e0c(0x223)](_0x2c4f46,_0x1ec15f[_0x702e0c(0x199)]),_0x2faf06[_0x702e0c(0x223)](_0x226592,_0x2faf06[_0x702e0c(0x16e)](_0x702e0c(0xe5)));}function validateAppointment(_0x42464d,_0x1b288b,_0x2fe469,_0x21dc1a,_0xb5f19a){const _0x11f2ad=a2_0x2cdaa1,[_0x403ce7,_0x255a22]=_0x1b288b[_0x11f2ad(0x1d8)](':')[_0x11f2ad(0xd5)](Number),[_0x1af120,_0x8e3141]=_0x2fe469[_0x11f2ad(0x1d8)](':')['map'](Number),_0x55747d=_0x403ce7*0x3c+_0x255a22,_0x1544b1=_0x1af120*0x3c+_0x8e3141,_0xd06ee9=String(_0xb5f19a);let _0x1400e7=![],_0xb2de2c='';for(let _0x2ca40d of sessions){if(_0x2ca40d[_0x11f2ad(0xc1)]!==_0x42464d)continue;if(_0x2ca40d['status']==='cancelled')continue;if(_0x21dc1a&&String(_0x2ca40d['id'])===String(_0x21dc1a))continue;const [_0x9c5371,_0x5caa0d]=_0x2ca40d['start']['split'](':')[_0x11f2ad(0xd5)](Number),[_0x9d4cd0,_0x1d7ec4]=_0x2ca40d['end'][_0x11f2ad(0x1d8)](':')[_0x11f2ad(0xd5)](Number),_0x6eb6ad=_0x9c5371*0x3c+_0x5caa0d,_0x4cdb14=_0x9d4cd0*0x3c+_0x1d7ec4;if(Math[_0x11f2ad(0x182)](_0x55747d,_0x6eb6ad)<Math[_0x11f2ad(0x1d6)](_0x1544b1,_0x4cdb14)){if(_0x2ca40d[_0x11f2ad(0x196)]&&String(_0x2ca40d[_0x11f2ad(0x196)])===_0xd06ee9)return{'valid':![],'msg':_0x11f2ad(0x146)+_0x2ca40d[_0x11f2ad(0xe8)]+_0x11f2ad(0xdb)};_0x1400e7=!![],_0xb2de2c=_0x2ca40d[_0x11f2ad(0xe8)];}}if(_0x1400e7)return{'valid':!![],'warning':_0x11f2ad(0xf6)+_0xb2de2c};return{'valid':!![]};}function updateDateDisplay(){const _0x53831c=a2_0x2cdaa1,_0x3fbb0e=document[_0x53831c(0x19c)](_0x53831c(0xf8))[_0x53831c(0x1a4)],_0x14335d=document[_0x53831c(0x19c)](_0x53831c(0x169));if(!_0x3fbb0e){_0x14335d[_0x53831c(0x1f4)]='';return;}const [_0x520181,_0x11c52f,_0x179f08]=_0x3fbb0e[_0x53831c(0x1d8)]('-')[_0x53831c(0xd5)](Number),_0x58ada4=new Date(_0x520181,_0x11c52f-0x1,_0x179f08),_0x483e20={'weekday':_0x53831c(0xc2),'day':'numeric','month':'long','year':_0x53831c(0x20a)};let _0x294eee=_0x58ada4['toLocaleDateString']('ru-RU',_0x483e20);_0x294eee=_0x294eee['charAt'](0x0)[_0x53831c(0x1fe)]()+_0x294eee[_0x53831c(0x22d)](0x1),_0x14335d[_0x53831c(0x1f4)]=_0x294eee;}function autoSetEndTime(){const _0x5ee4f1=a2_0x2cdaa1,_0x39c229=document[_0x5ee4f1(0x19c)](_0x5ee4f1(0x1c6))[_0x5ee4f1(0x1a4)];if(!_0x39c229)return;const [_0x745f1f,_0x10860d]=_0x39c229[_0x5ee4f1(0x1d8)](':')[_0x5ee4f1(0xd5)](Number);let _0x332e46=_0x745f1f+0x1;if(_0x332e46>0x17)_0x332e46=0x0;const _0x24b862=String(_0x332e46)[_0x5ee4f1(0x116)](0x2,'0')+':'+String(_0x10860d)['padStart'](0x2,'0');document['getElementById'](_0x5ee4f1(0xbc))[_0x5ee4f1(0x1a4)]=_0x24b862;}function populateClientSelect(){const _0x5d74a4=a2_0x2cdaa1,_0x5690fd=document[_0x5d74a4(0x19c)](_0x5d74a4(0xc8));_0x5690fd['innerHTML']='';if(clients[_0x5d74a4(0x22a)]===0x0){const _0xadb8=document[_0x5d74a4(0x138)](_0x5d74a4(0x1a5));_0xadb8[_0x5d74a4(0xe3)]=_0x5d74a4(0x162),_0x5690fd['appendChild'](_0xadb8);return;}clients[_0x5d74a4(0xb3)](_0x229ed8=>{const _0xf2ae6c=_0x5d74a4,_0x1a0159=document[_0xf2ae6c(0x138)](_0xf2ae6c(0x1a5));_0x1a0159['value']=_0x229ed8[_0xf2ae6c(0xc5)],_0x1a0159[_0xf2ae6c(0x1f4)]=_0x229ed8[_0xf2ae6c(0xc5)],_0x5690fd['appendChild'](_0x1a0159);});}function openActionSheet(_0x5bb1a4){const _0x1d017c=a2_0x2cdaa1,_0x2aa944=document['getElementById'](_0x1d017c(0x214)),_0x2ed179=document[_0x1d017c(0x19c)](_0x1d017c(0x16a)),_0x2b50a3=document['getElementById'](_0x1d017c(0xbe)),_0x2fd8b5=document['getElementById'](_0x1d017c(0x1fa)),_0xc64756=document[_0x1d017c(0x19c)]('asBtnSeries');_0x2ed179['classList'][_0x1d017c(0x185)](_0x1d017c(0x1f0)),_0x2aa944[_0x1d017c(0xe4)]['add']('open');if(_0x5bb1a4==='save')_0x2b50a3['textContent']=_0x1d017c(0x1bd),_0x2fd8b5[_0x1d017c(0x1f4)]='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x2fd8b5[_0x1d017c(0x1a1)]=()=>{const _0x553dad=_0x1d017c;closeActionSheet(),updateSeriesBatch(_0x553dad(0x187),tempSessionData);},_0xc64756[_0x1d017c(0x1f4)]='–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ',_0xc64756[_0x1d017c(0x1a1)]=()=>{const _0x22df21=_0x1d017c;closeActionSheet(),updateSeriesBatch(_0x22df21(0x216),tempSessionData);};else _0x5bb1a4===_0x1d017c(0xff)&&(_0x2b50a3[_0x1d017c(0x1f4)]='–£–¥–∞–ª–µ–Ω–∏–µ',_0x2fd8b5['textContent']='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x2fd8b5[_0x1d017c(0xf9)]=_0x1d017c(0x142),_0x2fd8b5[_0x1d017c(0x1a1)]=()=>{const _0xa3ce9d=_0x1d017c;closeActionSheet(),commitDelete('single',sessions[_0xa3ce9d(0x102)](_0x42c0a0=>_0x42c0a0['id']===editingId));},_0xc64756[_0x1d017c(0x1f4)]=_0x1d017c(0x131),_0xc64756[_0x1d017c(0xf9)]=_0x1d017c(0x132),_0xc64756[_0x1d017c(0x1a1)]=()=>{const _0x2e659e=_0x1d017c;closeActionSheet(),commitDelete(_0x2e659e(0x216),sessions[_0x2e659e(0x102)](_0x56ca95=>_0x56ca95['id']===editingId));});}function closeActionSheet(){const _0x162521=a2_0x2cdaa1;document['getElementById'](_0x162521(0x214))[_0x162521(0xe4)]['remove'](_0x162521(0x228)),document[_0x162521(0x19c)]('actionSheetOverlay')['classList'][_0x162521(0x20f)](_0x162521(0x1f0));}function openSettings(){const _0x21134c=a2_0x2cdaa1;openSheet(_0x21134c(0x1e3));}function saveCoachSettings(){const _0x4922d4=a2_0x2cdaa1,_0x1c75c2=document['getElementById']('settingCancelWindow')[_0x4922d4(0x1a4)];localStorage['setItem'](_0x4922d4(0x22f),_0x1c75c2),console[_0x4922d4(0x137)]('[Settings]\x20Cancel\x20window\x20set\x20to:',_0x1c75c2),DataManager[_0x4922d4(0x176)](_0x4922d4(0x1d7),{'settings':{'cancel_window':_0x1c75c2}})[_0x4922d4(0x18e)](_0x5ede5f=>{const _0x572874=_0x4922d4;console[_0x572874(0xce)](_0x572874(0x209),_0x5ede5f),showToast(_0x572874(0x150),![]);});}function loadCoachSettings(){const _0x36b020=a2_0x2cdaa1,_0x3a1058=localStorage[_0x36b020(0x1ec)](_0x36b020(0x22f));_0x3a1058&&(document['getElementById']('settingCancelWindow')['value']=_0x3a1058);}function openRangesSheet(){closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet('rangesSheet');}function addRange(){const _0x346486=a2_0x2cdaa1,_0x391efd=document[_0x346486(0x19c)]('rangeStartDate')['value'],_0x154185=document[_0x346486(0x19c)](_0x346486(0xb6))[_0x346486(0x1a4)],_0x4316a0=document[_0x346486(0x19c)](_0x346486(0x1b4))[_0x346486(0x1a4)],_0x4005e4=document[_0x346486(0x19c)]('rangeEndTime')[_0x346486(0x1a4)];if(!_0x391efd||!_0x154185||!_0x4316a0||!_0x4005e4)return alert(_0x346486(0xd9));const _0x5dd96b=_0x391efd+'T'+_0x154185,_0x11a51b=_0x4316a0+'T'+_0x4005e4;if(_0x5dd96b>=_0x11a51b)return alert('–û—à–∏–±–∫–∞\x20–¥–∞—Ç');specialRanges['push']({'start':_0x5dd96b,'end':_0x11a51b}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x346486(0x10d)](),DataManager[_0x346486(0x176)](_0x346486(0x1d7),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x5dc242){const _0x100d49=a2_0x2cdaa1;specialRanges[_0x100d49(0x1ee)](_0x5dc242,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x100d49(0x10d)](),DataManager[_0x100d49(0x176)](_0x100d49(0x1d7),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x207328=a2_0x2cdaa1;document[_0x207328(0x19c)](_0x207328(0x112))['value']='',document[_0x207328(0x19c)](_0x207328(0xb6))[_0x207328(0x1a4)]=_0x207328(0x211),document[_0x207328(0x19c)](_0x207328(0x1b4))[_0x207328(0x1a4)]='',document[_0x207328(0x19c)]('rangeEndTime')[_0x207328(0x1a4)]=_0x207328(0x1f9);}function renderRangesList(){const _0x2bb93e=a2_0x2cdaa1,_0x4121d0=document[_0x2bb93e(0x19c)](_0x2bb93e(0x195));_0x4121d0[_0x2bb93e(0x200)]='';if(!specialRanges[_0x2bb93e(0x22a)]){_0x4121d0[_0x2bb93e(0x200)]=_0x2bb93e(0x183);return;}specialRanges[_0x2bb93e(0xb3)]((_0x1c1437,_0x2f7e04)=>{const _0x4b9b62=_0x2bb93e,_0x189e81=document[_0x4b9b62(0x138)](_0x4b9b62(0x122));_0x189e81[_0x4b9b62(0xf9)]=_0x4b9b62(0x22e);const _0x13851b=_0x40ac6f=>{const _0x37aad2=_0x4b9b62,_0x4e9f83=new Date(_0x40ac6f);return _0x4e9f83['getDate']()+'.'+String(_0x4e9f83[_0x37aad2(0x12e)]()+0x1)[_0x37aad2(0x116)](0x2,'0')+'\x20'+String(_0x4e9f83[_0x37aad2(0x1ac)]())[_0x37aad2(0x116)](0x2,'0')+':'+String(_0x4e9f83[_0x37aad2(0x139)]())[_0x37aad2(0x116)](0x2,'0');};_0x189e81[_0x4b9b62(0x200)]=_0x4b9b62(0x1a9)+_0x13851b(_0x1c1437[_0x4b9b62(0x161)])+_0x4b9b62(0x190)+_0x13851b(_0x1c1437[_0x4b9b62(0x1e8)])+_0x4b9b62(0x18c)+_0x2f7e04+_0x4b9b62(0x1e6),_0x4121d0[_0x4b9b62(0x11c)](_0x189e81);});}function scrollToToday(){const _0x202c69=a2_0x2cdaa1,_0x2e9940=getLocalDateStr(new Date()),_0x3e8eb3=document[_0x202c69(0x19c)](_0x202c69(0x177)+_0x2e9940),_0x5e4b8b=document[_0x202c69(0x19c)](_0x202c69(0x1f8));if(_0x3e8eb3&&_0x5e4b8b){const _0x33a694=_0x5e4b8b[_0x202c69(0x1f1)],_0x3d1665=_0x3e8eb3[_0x202c69(0xf5)],_0x3f3d38=_0x3e8eb3[_0x202c69(0xc3)];_0x5e4b8b[_0x202c69(0x13c)]=_0x3d1665-_0x33a694/0x2+_0x3f3d38/0x2,_0x5e4b8b['scrollTop']=0x9*GRID_H;}}function onScroll(){const _0x569a83=a2_0x2cdaa1,_0x514600=document['getElementById'](_0x569a83(0x1f8)),_0x1547dc=document[_0x569a83(0xef)]('.day-col-header');for(let _0x1207f1 of _0x1547dc)if(_0x1207f1[_0x569a83(0xf5)]>=_0x514600[_0x569a83(0x13c)]){const _0x5fe447=new Date(_0x1207f1['getAttribute'](_0x569a83(0x145)));document[_0x569a83(0x19c)]('headerMonth')[_0x569a83(0x1f4)]=_0x5fe447[_0x569a83(0x1be)]('ru',{'month':'long'})[_0x569a83(0x1fe)]()+'\x20'+_0x5fe447[_0x569a83(0xab)]();break;}}function showToast(_0xf13c00,_0x4dec1a=![]){const _0x32cda9=a2_0x2cdaa1,_0x51dfc5=document['getElementById'](_0x32cda9(0x121));_0x51dfc5[_0x32cda9(0xf9)]='toast-notification\x20'+(_0x4dec1a?_0x32cda9(0x1fb):''),document[_0x32cda9(0x19c)](_0x32cda9(0xf2))[_0x32cda9(0x1f4)]=_0x4dec1a?'–£—Å–ø–µ—à–Ω–æ':_0x32cda9(0x126),document['getElementById'](_0x32cda9(0x1db))[_0x32cda9(0x1f4)]=_0xf13c00,_0x51dfc5[_0x32cda9(0xe4)]['add'](_0x32cda9(0x1cb)),setTimeout(()=>{_0x51dfc5['classList']['remove']('show');},0xbb8);}function openDayOptions(_0x2af565,_0x5c1c80){const _0x543679=a2_0x2cdaa1;selectedDayForOptions=_0x2af565,document['getElementById']('dayOptionsTitle')[_0x543679(0x1f4)]=_0x5c1c80,openSheet(_0x543679(0x1ab));}function toggleDayOff(){const _0x4ba350=a2_0x2cdaa1;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x4ba350(0x163),reRenderBlocks(),closeAllSheets(),DataManager[_0x4ba350(0x10d)](),DataManager[_0x4ba350(0x176)](_0x4ba350(0x1d7),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x490e81=a2_0x2cdaa1;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x490e81(0x10d)](),DataManager[_0x490e81(0x176)]('save_settings',{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x1f66aa){const _0x26f653=a2_0x2cdaa1;document[_0x26f653(0x19c)]('overlay')[_0x26f653(0xe4)][_0x26f653(0x185)](_0x26f653(0x1f0)),document[_0x26f653(0x19c)](_0x1f66aa)['classList'][_0x26f653(0x185)](_0x26f653(0x228));}function closeAllSheets(){const _0x259cb9=a2_0x2cdaa1;document[_0x259cb9(0x19c)](_0x259cb9(0x175))['classList'][_0x259cb9(0x20f)](_0x259cb9(0x1f0)),document['querySelectorAll'](_0x259cb9(0x1bf))[_0x259cb9(0xb3)](_0x56ab1c=>_0x56ab1c[_0x259cb9(0xe4)][_0x259cb9(0x20f)](_0x259cb9(0x228)));}function openPatternEditor(){const _0x3ab738=a2_0x2cdaa1;closeAllSheets(),document[_0x3ab738(0x19c)](_0x3ab738(0xdd))[_0x3ab738(0xe4)][_0x3ab738(0x185)](_0x3ab738(0x228)),renderPatternEditor();}function closePatternEditor(){const _0x1ce506=a2_0x2cdaa1;document[_0x1ce506(0x19c)](_0x1ce506(0xdd))['classList']['remove']('open');}function savePattern(){const _0x3f114c=a2_0x2cdaa1;document[_0x3f114c(0x19c)](_0x3f114c(0xdd))[_0x3f114c(0xe4)][_0x3f114c(0x20f)](_0x3f114c(0x228)),reRenderBlocks(),DataManager[_0x3f114c(0x10d)](),DataManager[_0x3f114c(0x176)](_0x3f114c(0x1d7),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x2d5a36=a2_0x2cdaa1,_0x538dc0=document[_0x2d5a36(0x19c)](_0x2d5a36(0x194));_0x538dc0[_0x2d5a36(0x200)]='';const _0x292567=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x522bd0=document['createElement'](_0x2d5a36(0x122));_0x522bd0[_0x2d5a36(0xf9)]=_0x2d5a36(0x12b),_0x538dc0[_0x2d5a36(0x11c)](_0x522bd0),_0x292567['forEach']((_0x2e6a0b,_0x50e3ad)=>{const _0x3fe538=_0x2d5a36,_0x4f9eb8=document['createElement'](_0x3fe538(0x122));_0x4f9eb8[_0x3fe538(0xf9)]=_0x3fe538(0x11a),_0x4f9eb8['innerHTML']=_0x2e6a0b+_0x3fe538(0x1a7),_0x4f9eb8[_0x3fe538(0x1a1)]=()=>toggleColPattern(_0x50e3ad),_0x538dc0[_0x3fe538(0x11c)](_0x4f9eb8);});for(let _0xd517d5=0x0;_0xd517d5<0x18;_0xd517d5++){const _0x304023=document[_0x2d5a36(0x138)](_0x2d5a36(0x122));_0x304023[_0x2d5a36(0xf9)]='pe-time-label',_0x304023[_0x2d5a36(0x200)]=_0x2d5a36(0xc6)+String(_0xd517d5)[_0x2d5a36(0x116)](0x2,'0')+_0x2d5a36(0xe9),_0x304023['onclick']=()=>toggleRowPattern(_0xd517d5),_0x538dc0[_0x2d5a36(0x11c)](_0x304023);for(let _0x493170=0x0;_0x493170<0x7;_0x493170++){const _0x43042f=document[_0x2d5a36(0x138)](_0x2d5a36(0x122)),_0x3dbd25=(availabilityPattern[_0x493170]||[])[_0x2d5a36(0x101)](_0xd517d5),_0x285479=!_0x3dbd25;_0x43042f['className']=_0x2d5a36(0xf3)+(_0x285479?_0x2d5a36(0x1f0):''),_0x43042f['onclick']=()=>toggleSinglePattern(_0x493170,_0xd517d5),_0x538dc0['appendChild'](_0x43042f);}}}function toggleSinglePattern(_0x50f446,_0x526af4){const _0x4b680a=a2_0x2cdaa1;if(!availabilityPattern[_0x50f446])availabilityPattern[_0x50f446]=[];const _0x21fb63=availabilityPattern[_0x50f446],_0x472512=_0x21fb63[_0x4b680a(0x20e)](_0x526af4);_0x472512===-0x1?_0x21fb63['push'](_0x526af4):_0x21fb63['splice'](_0x472512,0x1),renderPatternEditor();}function toggleColPattern(_0x5a9b0f){const _0x1b0f1c=a2_0x2cdaa1;if(!availabilityPattern[_0x5a9b0f])availabilityPattern[_0x5a9b0f]=[];const _0x50f1df=availabilityPattern[_0x5a9b0f];_0x50f1df[_0x1b0f1c(0x22a)]===0x0?availabilityPattern[_0x5a9b0f]=Array[_0x1b0f1c(0x197)]({'length':0x18},(_0x3ff7e1,_0xead3ed)=>_0xead3ed):availabilityPattern[_0x5a9b0f]=[],renderPatternEditor();}function toggleRowPattern(_0x231acc){const _0x367942=a2_0x2cdaa1;let _0x5cbc98=!![];for(let _0x2f407a=0x0;_0x2f407a<0x7;_0x2f407a++){if((availabilityPattern[_0x2f407a]||[])['includes'](_0x231acc)){_0x5cbc98=![];break;}}for(let _0x1b3c7f=0x0;_0x1b3c7f<0x7;_0x1b3c7f++){if(!availabilityPattern[_0x1b3c7f])availabilityPattern[_0x1b3c7f]=[];const _0x1b8e2a=availabilityPattern[_0x1b3c7f][_0x367942(0x20e)](_0x231acc);if(_0x5cbc98){if(_0x1b8e2a===-0x1)availabilityPattern[_0x1b3c7f]['push'](_0x231acc);}else{if(_0x1b8e2a!==-0x1)availabilityPattern[_0x1b3c7f]['splice'](_0x1b8e2a,0x1);}}renderPatternEditor();}function renderPCol(_0x325756,_0x323297){const _0x1dfb3f=a2_0x2cdaa1;_0x325756[_0x1dfb3f(0x200)]='';const _0x59d472=Math[_0x1dfb3f(0xf7)](_0x325756[_0x1dfb3f(0xf5)]);(availabilityPattern[_0x323297]||[])[_0x1dfb3f(0xb3)](_0x47cdd0=>{const _0x48ae35=_0x1dfb3f,_0x5f1e89=document[_0x48ae35(0x138)](_0x48ae35(0x122));_0x5f1e89[_0x48ae35(0xf9)]=_0x48ae35(0x221);const _0x11c584=_0x47cdd0*GRID_H;_0x5f1e89[_0x48ae35(0x16d)]['top']=_0x11c584+'px',_0x5f1e89[_0x48ae35(0x16d)][_0x48ae35(0x1ae)]='-'+_0x59d472+'px\x20-'+_0x11c584+'px',_0x5f1e89['onclick']=_0x2f1c0d=>{const _0x3e22dd=_0x48ae35;_0x2f1c0d[_0x3e22dd(0x1b0)](),toggleSinglePattern(_0x323297,_0x47cdd0);},_0x325756[_0x48ae35(0x11c)](_0x5f1e89);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x1c5d12=a2_0x2cdaa1,_0x36f6a9=new Date(),_0x62c4d1=document['getElementById'](_0x1c5d12(0x22c)),_0x59f60b=document[_0x1c5d12(0x19c)](_0x1c5d12(0x1dd)),_0x137af0=(_0x36f6a9['getHours']()*0x3c+_0x36f6a9[_0x1c5d12(0x139)]())/0x3c*GRID_H;_0x62c4d1[_0x1c5d12(0x16d)][_0x1c5d12(0xc7)]=_0x137af0+'px',_0x62c4d1[_0x1c5d12(0x16d)][_0x1c5d12(0x181)]=_0x1c5d12(0x120),_0x59f60b[_0x1c5d12(0x1f4)]=String(_0x36f6a9[_0x1c5d12(0x1ac)]())['padStart'](0x2,'0')+':'+String(_0x36f6a9['getMinutes']())[_0x1c5d12(0x116)](0x2,'0'),_0x59f60b[_0x1c5d12(0x16d)][_0x1c5d12(0x181)]=_0x1c5d12(0x120),_0x59f60b[_0x1c5d12(0x16d)][_0x1c5d12(0xc7)]=_0x137af0+'px';}document[a2_0x2cdaa1(0x1b6)](a2_0x2cdaa1(0x1b1),init);function openDayOptions(_0x3e5a36){const _0x24da76=a2_0x2cdaa1;selectedDayForOptions=_0x3e5a36;const _0x34fa7a=new Date(_0x3e5a36),_0xe43773={'weekday':'long','day':'numeric','month':_0x24da76(0xc2),'year':'numeric'},_0x56ac09=_0x34fa7a['toLocaleDateString'](_0x24da76(0x15a),_0xe43773);document['getElementById'](_0x24da76(0x11e))['textContent']=_0x56ac09['charAt'](0x0)['toUpperCase']()+_0x56ac09['slice'](0x1);let _0x3f692a=_0x34fa7a[_0x24da76(0x140)]()-0x1;if(_0x3f692a===-0x1)_0x3f692a=0x6;const _0x52784a=availabilityPattern[_0x3f692a]||[],_0x37fbb7=0x18-_0x52784a[_0x24da76(0x22a)],_0x42bb47=_0x37fbb7*0x3c,_0x378e27=sessions[_0x24da76(0x170)](_0x499f98=>_0x499f98[_0x24da76(0xc1)]===_0x3e5a36&&_0x499f98['status']!=='cancelled');let _0x4d7db9=_0x378e27[_0x24da76(0xd5)](_0x29bb78=>{const _0x5b720f=_0x24da76,[_0x1d9231,_0x4d4ee8]=_0x29bb78[_0x5b720f(0x161)][_0x5b720f(0x1d8)](':')[_0x5b720f(0xd5)](Number),[_0x666de1,_0x4a8a3c]=_0x29bb78[_0x5b720f(0x1e8)]['split'](':')[_0x5b720f(0xd5)](Number);return[_0x1d9231*0x3c+_0x4d4ee8,_0x666de1*0x3c+_0x4a8a3c];});_0x4d7db9[_0x24da76(0x105)]((_0xca8921,_0x24abac)=>_0xca8921[0x0]-_0x24abac[0x0]);let _0x1debe4=[];if(_0x4d7db9['length']>0x0){let _0x11370a=_0x4d7db9[0x0];for(let _0x15a097=0x1;_0x15a097<_0x4d7db9['length'];_0x15a097++){_0x4d7db9[_0x15a097][0x0]<_0x11370a[0x1]?_0x11370a[0x1]=Math[_0x24da76(0x182)](_0x11370a[0x1],_0x4d7db9[_0x15a097][0x1]):(_0x1debe4[_0x24da76(0x1d0)](_0x11370a),_0x11370a=_0x4d7db9[_0x15a097]);}_0x1debe4[_0x24da76(0x1d0)](_0x11370a);}let _0x16d48c=0x0;_0x1debe4['forEach'](_0x18b4d6=>_0x16d48c+=_0x18b4d6[0x1]-_0x18b4d6[0x0]),document[_0x24da76(0x19c)](_0x24da76(0x193))[_0x24da76(0x1f4)]=formatMinsToHrs(_0x42bb47),document[_0x24da76(0x19c)]('doBusyHours')[_0x24da76(0x1f4)]=formatMinsToHrs(_0x16d48c);const _0x2f546c=_0x42bb47>0x0?Math['round'](_0x16d48c/_0x42bb47*0x64):0x0,_0x575d23=document[_0x24da76(0x19c)](_0x24da76(0x1a6));_0x575d23['textContent']=_0x2f546c+'%';const _0x43eedc=document[_0x24da76(0x19c)]('statLoadCard');if(_0x2f546c>0x64)_0x575d23[_0x24da76(0x16d)][_0x24da76(0x164)]='var(--acc-red)',_0x43eedc['style'][_0x24da76(0x1e4)]='rgba(255,\x2069,\x2058,\x200.3)';else _0x2f546c>0x50?(_0x575d23[_0x24da76(0x16d)][_0x24da76(0x164)]=_0x24da76(0xad),_0x43eedc[_0x24da76(0x16d)][_0x24da76(0x1e4)]=_0x24da76(0x12d)):(_0x575d23['style'][_0x24da76(0x164)]='var(--acc-green)',_0x43eedc[_0x24da76(0x16d)][_0x24da76(0x1e4)]='rgba(255,255,255,0.05)');const _0x24ca5e=document[_0x24da76(0x19c)]('doEventsList');_0x24ca5e[_0x24da76(0x200)]='';_0x378e27[_0x24da76(0x22a)]===0x0?_0x24ca5e[_0x24da76(0x200)]='<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>':(_0x378e27['sort']((_0x33bf75,_0x54bd6d)=>_0x33bf75['start'][_0x24da76(0x225)](_0x54bd6d['start'])),_0x378e27[_0x24da76(0xb3)](_0x1cb08d=>{const _0xa90f12=_0x24da76,_0x54f559=clients[_0xa90f12(0x102)](_0x2f7f73=>_0x2f7f73[_0xa90f12(0xc5)]===_0x1cb08d['client']),_0x30066c=_0x54f559?_0x54f559['color']:'#fff',_0xc4eb13=_0x1cb08d[_0xa90f12(0x127)]===_0xa90f12(0x1cf),_0xe5477e=_0xc4eb13?'<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>':'',_0x333a01=document[_0xa90f12(0x138)](_0xa90f12(0x122));_0x333a01[_0xa90f12(0xf9)]=_0xa90f12(0x178),_0x333a01[_0xa90f12(0x16d)][_0xa90f12(0x1ed)]=_0x30066c,_0x333a01[_0xa90f12(0x200)]=_0xa90f12(0xd6)+_0x1cb08d[_0xa90f12(0x161)]+_0xa90f12(0x135)+_0x1cb08d[_0xa90f12(0x1e8)]+_0xa90f12(0xdf)+_0x1cb08d[_0xa90f12(0xe8)]+_0xa90f12(0xe2)+_0xe5477e+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x24ca5e[_0xa90f12(0x11c)](_0x333a01);}));const _0x494022=document['getElementById'](_0x24da76(0x219)),_0xde0807=dateExceptions[_0x3e5a36]===_0x24da76(0x163);_0xde0807?(_0x494022['textContent']=_0x24da76(0x186),_0x494022[_0x24da76(0xf9)]='btn-primary\x20btn-secondary',_0x494022['style'][_0x24da76(0x164)]=_0x24da76(0x136),_0x494022[_0x24da76(0x16d)][_0x24da76(0x10e)]='rgba(48,\x20209,\x2088,\x200.15)'):(_0x494022[_0x24da76(0x1f4)]='–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º',_0x494022[_0x24da76(0xf9)]=_0x24da76(0x11f),_0x494022[_0x24da76(0x16d)][_0x24da76(0x164)]=_0x24da76(0x212),_0x494022[_0x24da76(0x16d)][_0x24da76(0x10e)]=_0x24da76(0xba)),openSheet('dayOptionsSheet');}let currentAnPeriod=a2_0x2cdaa1(0x1d5);function openAnalytics(){const _0x48f0ec=a2_0x2cdaa1,_0x362872=document[_0x48f0ec(0x16e)](_0x48f0ec(0x227));setAnalyticsPeriod(_0x48f0ec(0x1d5),_0x362872),closeAllSheets(),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x1ef503,_0x531375){const _0x1842c3=a2_0x2cdaa1;currentAnPeriod=_0x1ef503,document['querySelectorAll']('.period-switch\x20.p-btn')['forEach'](_0x2a0e27=>_0x2a0e27[_0x1842c3(0xe4)][_0x1842c3(0x20f)](_0x1842c3(0x1f0)));if(_0x531375)_0x531375[_0x1842c3(0xe4)][_0x1842c3(0x185)](_0x1842c3(0x1f0));const _0xa47720=document[_0x1842c3(0x19c)](_0x1842c3(0x133));_0xa47720[_0x1842c3(0x16d)][_0x1842c3(0x181)]=_0x1ef503===_0x1842c3(0x1d3)?_0x1842c3(0x12f):'none';const _0xc78032=new Date();let _0x4e1340=new Date(),_0x430b76=new Date();if(_0x1ef503===_0x1842c3(0x1d5))_0x4e1340=getStartOfWeek(_0xc78032),_0x430b76=new Date(_0x4e1340),_0x430b76[_0x1842c3(0x1b5)](_0x430b76[_0x1842c3(0x110)]()+0x6);else{if(_0x1ef503===_0x1842c3(0x1c0))_0x4e1340=new Date(_0xc78032[_0x1842c3(0xab)](),_0xc78032[_0x1842c3(0x12e)](),0x1),_0x430b76=new Date(_0xc78032['getFullYear'](),_0xc78032[_0x1842c3(0x12e)]()+0x1,0x0);else{!document['getElementById']('anStart')[_0x1842c3(0x1a4)]&&(document[_0x1842c3(0x19c)](_0x1842c3(0x158))[_0x1842c3(0x1a4)]=getLocalDateStr(_0xc78032),document[_0x1842c3(0x19c)](_0x1842c3(0xae))[_0x1842c3(0x1a4)]=getLocalDateStr(_0xc78032));refreshAnalytics();return;}}document[_0x1842c3(0x19c)](_0x1842c3(0x158))[_0x1842c3(0x1a4)]=getLocalDateStr(_0x4e1340),document[_0x1842c3(0x19c)](_0x1842c3(0xae))[_0x1842c3(0x1a4)]=getLocalDateStr(_0x430b76),refreshAnalytics();}function refreshAnalytics(){const _0x2bec23=a2_0x2cdaa1,_0x3aa9c0=document[_0x2bec23(0x19c)](_0x2bec23(0x158))['value'],_0x51b172=document['getElementById'](_0x2bec23(0xae))[_0x2bec23(0x1a4)];if(!_0x3aa9c0||!_0x51b172)return;const _0x35ef9d=sessions[_0x2bec23(0x170)](_0x2abc09=>_0x2abc09['dateStr']>=_0x3aa9c0&&_0x2abc09[_0x2bec23(0xc1)]<=_0x51b172&&_0x2abc09[_0x2bec23(0x127)]!==_0x2bec23(0x119)),_0xe49f33=_0x35ef9d[_0x2bec23(0x22a)],_0x239fb8=_0x35ef9d[_0x2bec23(0x170)](_0x33c185=>_0x33c185['status']===_0x2bec23(0x1cf))['length'],_0x5c98a4=_0xe49f33>0x0?Math['round'](_0x239fb8/_0xe49f33*0x64):0x0;document[_0x2bec23(0x19c)](_0x2bec23(0x1de))[_0x2bec23(0x1f4)]=_0x5c98a4+'%',document[_0x2bec23(0x19c)](_0x2bec23(0xcc))[_0x2bec23(0x1f4)]=_0x239fb8+_0x2bec23(0xe7)+_0xe49f33+'\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ';const _0x2ad532=document[_0x2bec23(0x19c)](_0x2bec23(0x224)),_0x434472=0x2*Math['PI']*0x23,_0x25f20f=_0x434472-_0x5c98a4/0x64*_0x434472;_0x2ad532[_0x2bec23(0x16d)][_0x2bec23(0x1f3)]=_0x25f20f;const _0xafe7bd={};_0x35ef9d[_0x2bec23(0xb3)](_0x1e8c03=>{const _0x153a0c=_0x2bec23;if(!_0xafe7bd[_0x1e8c03[_0x153a0c(0xe8)]]){const _0x1baf61=clients[_0x153a0c(0x102)](_0x4f847a=>_0x4f847a['name']===_0x1e8c03[_0x153a0c(0xe8)]);_0xafe7bd[_0x1e8c03[_0x153a0c(0xe8)]]={'total':0x0,'done':0x0,'color':_0x1baf61?_0x1baf61['color']:_0x153a0c(0x198)};}_0xafe7bd[_0x1e8c03['client']]['total']++;if(_0x1e8c03[_0x153a0c(0x127)]===_0x153a0c(0x1cf))_0xafe7bd[_0x1e8c03[_0x153a0c(0xe8)]][_0x153a0c(0x1ad)]++;});const _0x196d1a=document[_0x2bec23(0x19c)](_0x2bec23(0x1eb));_0x196d1a[_0x2bec23(0x200)]='';const _0x4c04b1=Object[_0x2bec23(0x17f)](_0xafe7bd)['sort']((_0x315a6d,_0x479d11)=>_0x479d11[0x1][_0x2bec23(0x217)]-_0x315a6d[0x1][_0x2bec23(0x217)]);if(_0x4c04b1[_0x2bec23(0x22a)]===0x0){_0x196d1a['innerHTML']=_0x2bec23(0x106);return;}_0x4c04b1[_0x2bec23(0xb3)](([_0x4ed409,_0x37efea])=>{const _0x1041aa=_0x2bec23,_0x33d0d0=Math[_0x1041aa(0xf7)](_0x37efea[_0x1041aa(0x1ad)]/_0x37efea[_0x1041aa(0x217)]*0x64),_0x5839d4=document[_0x1041aa(0x138)]('div');_0x5839d4[_0x1041aa(0xf9)]='client-stat-card',_0x5839d4['style'][_0x1041aa(0x1ed)]=_0x37efea['color'],_0x5839d4[_0x1041aa(0x200)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>'+_0x4ed409+_0x1041aa(0x15b)+_0x37efea[_0x1041aa(0x1ad)]+_0x1041aa(0x1c3)+_0x37efea[_0x1041aa(0x217)]+_0x1041aa(0xfc)+_0x33d0d0+_0x1041aa(0x17a),_0x196d1a[_0x1041aa(0x11c)](_0x5839d4);});}function formatMinsToHrs(_0x55973a){const _0x346a23=a2_0x2cdaa1;if(_0x55973a===0x0)return'0';const _0x5a0d36=Math[_0x346a23(0x19a)](_0x55973a/0x3c),_0x437036=_0x55973a%0x3c;if(_0x437036===0x0)return _0x5a0d36+'—á';return _0x5a0d36+'—á\x20'+_0x437036+'–º';}