const a2_0x3e002f=a2_0x26a7;(function(_0x54d888,_0x12572f){const _0x3f23a3=a2_0x26a7,_0x5044fb=_0x54d888();while(!![]){try{const _0xc0a2c4=parseInt(_0x3f23a3(0x29a))/0x1+parseInt(_0x3f23a3(0x2d3))/0x2+-parseInt(_0x3f23a3(0x201))/0x3+parseInt(_0x3f23a3(0x25d))/0x4*(-parseInt(_0x3f23a3(0x2d7))/0x5)+-parseInt(_0x3f23a3(0x27d))/0x6+parseInt(_0x3f23a3(0x341))/0x7*(-parseInt(_0x3f23a3(0x1fa))/0x8)+parseInt(_0x3f23a3(0x224))/0x9;if(_0xc0a2c4===_0x12572f)break;else _0x5044fb['push'](_0x5044fb['shift']());}catch(_0x20d6a8){_0x5044fb['push'](_0x5044fb['shift']());}}}(a2_0xa000,0x4826c),function initTMA(){const _0x3760b4=a2_0x26a7;try{const _0x37ea45=window[_0x3760b4(0x315)]?.['WebApp'];if(!_0x37ea45)return;_0x37ea45['ready'](),_0x37ea45['expand']();try{_0x37ea45[_0x3760b4(0x2ec)](_0x3760b4(0x1f7)),_0x37ea45['setBackgroundColor']&&_0x37ea45[_0x3760b4(0x239)](_0x3760b4(0x1f7));}catch(_0x2562a4){console[_0x3760b4(0x246)](_0x3760b4(0x219),_0x2562a4);}try{_0x37ea45[_0x3760b4(0x323)]&&(_0x37ea45[_0x3760b4(0x323)][_0x3760b4(0x34c)](),_0x37ea45[_0x3760b4(0x323)]['offClick'](),_0x37ea45[_0x3760b4(0x323)][_0x3760b4(0x24b)](function(){const _0x15ffd5=_0x3760b4;window[_0x15ffd5(0x320)]['href']=_0x15ffd5(0x257);}));}catch(_0x24a873){console['log'](_0x3760b4(0x2b3),_0x24a873);}try{if(_0x37ea45['disableVerticalSwipes'])_0x37ea45['disableVerticalSwipes']();}catch(_0x2d861c){}}catch(_0x32d581){console[_0x3760b4(0x1ff)](_0x3760b4(0x32f),_0x32d581);}}());function isAdmin(){const _0x5cc0a5=a2_0x26a7;try{const _0xd2b1a6=Number(window[_0x5cc0a5(0x315)]?.['WebApp']?.['initDataUnsafe']?.[_0x5cc0a5(0x263)]?.['id']);return _0xd2b1a6===0xbaf7174;}catch(_0x38c6d0){return![];}}const APP_VERSION=a2_0x3e002f(0x207),API_URL=a2_0x3e002f(0x2d9),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x3e002f(0x230),KEY_SESSIONS=a2_0x3e002f(0x310),KEY_SETTINGS='uc_settings_v9';let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x16bf3f=a2_0x3e002f;return window[_0x16bf3f(0x315)]?.[_0x16bf3f(0x1f5)]?.[_0x16bf3f(0x321)]?.[_0x16bf3f(0x263)]?.['id']||_0x16bf3f(0x24f);},'saveLocally'(){const _0x4db012=a2_0x3e002f;try{localStorage['setItem'](KEY_CLIENTS,JSON[_0x4db012(0x225)](clients)),localStorage[_0x4db012(0x262)](KEY_SESSIONS,JSON[_0x4db012(0x225)](sessions)),localStorage[_0x4db012(0x262)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x75bb8d){console[_0x4db012(0x1ff)](_0x4db012(0x2a2),_0x75bb8d);}},'loadLocal'(){const _0x419946=a2_0x3e002f;try{const _0x30c076=localStorage[_0x419946(0x2d0)](KEY_CLIENTS);if(_0x30c076)clients=JSON[_0x419946(0x268)](_0x30c076);const _0xa99098=localStorage[_0x419946(0x2d0)](KEY_SESSIONS);if(_0xa99098)sessions=JSON[_0x419946(0x268)](_0xa99098);const _0x535e29=localStorage[_0x419946(0x2d0)](KEY_SETTINGS);if(_0x535e29){const _0x5e0faf=JSON['parse'](_0x535e29);if(_0x5e0faf[_0x419946(0x2eb)])availabilityPattern=_0x5e0faf['pattern'];if(_0x5e0faf[_0x419946(0x2b8)])dateExceptions=_0x5e0faf[_0x419946(0x2b8)];if(_0x5e0faf[_0x419946(0x228)])specialRanges=_0x5e0faf[_0x419946(0x228)];}else{for(let _0x201420=0x0;_0x201420<0x7;_0x201420++)availabilityPattern[_0x201420]=Array[_0x419946(0x283)]({'length':0xc},(_0x475d6c,_0x5e04ea)=>_0x5e04ea+0x9);}}catch(_0xb9840e){console[_0x419946(0x1ff)](_0x419946(0x30e),_0xb9840e);}},async 'fetchFromServer'(_0x30a765,_0x5a085f={}){const _0x5d0abe=a2_0x3e002f,_0x518eb0=window['Telegram']?.[_0x5d0abe(0x1f5)],_0x2944c8={'action':_0x30a765,'init_data':_0x518eb0?.[_0x5d0abe(0x25e)]||'',..._0x5a085f};try{const _0x46a33b=await fetch(API_URL,{'method':_0x5d0abe(0x2c4),'headers':{'Content-Type':_0x5d0abe(0x1f3)},'body':JSON['stringify'](_0x2944c8)}),_0x93d247=await _0x46a33b['json']();if(!_0x93d247['ok'])throw new Error(_0x93d247[_0x5d0abe(0x1ff)]||_0x5d0abe(0x33e));return _0x93d247[_0x5d0abe(0x265)];}catch(_0xcc58c1){console[_0x5d0abe(0x1ff)]('[API\x20'+_0x30a765+_0x5d0abe(0x1fd),_0xcc58c1);throw _0xcc58c1;}},async 'syncLoad'(){const _0x10af9f=a2_0x3e002f,_0x301b92=new Date(),_0x4f57a1=_0x301b92['getFullYear']()+'-'+String(_0x301b92[_0x10af9f(0x358)]()+0x1)[_0x10af9f(0x2dd)](0x2,'0'),_0x16c8f4=new Date(_0x301b92);_0x16c8f4[_0x10af9f(0x318)](_0x301b92[_0x10af9f(0x358)]()+0x1);const _0x3dc6fa=_0x16c8f4['getFullYear']()+'-'+String(_0x16c8f4['getMonth']()+0x1)['padStart'](0x2,'0'),_0xf92a40=Date[_0x10af9f(0x25a)]();console['log'](_0x10af9f(0x2d8)+_0x4f57a1+',\x20'+_0x3dc6fa+'...');try{const [_0x47824b,_0x903e00]=await Promise[_0x10af9f(0x32e)]([this[_0x10af9f(0x324)](_0x10af9f(0x2e7),{'month_str':_0x4f57a1}),this[_0x10af9f(0x324)](_0x10af9f(0x2e7),{'month_str':_0x3dc6fa})]);if(lastUserActionTime>_0xf92a40)return console['warn'](_0x10af9f(0x261)),![];return this[_0x10af9f(0x350)](_0x47824b,_0x4f57a1),this[_0x10af9f(0x350)](_0x903e00,_0x3dc6fa),this[_0x10af9f(0x229)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x4c4df0){console[_0x10af9f(0x1ff)](_0x4c4df0);throw _0x4c4df0;}},'mergeServerData'(_0x5bcccf,_0xdb2486){const _0x36781a=a2_0x3e002f;if(!_0x5bcccf)return;_0x5bcccf[_0x36781a(0x335)]&&Array[_0x36781a(0x2ee)](_0x5bcccf[_0x36781a(0x335)])&&(clients=_0x5bcccf[_0x36781a(0x335)]);if(_0x5bcccf[_0x36781a(0x363)]){if(_0x5bcccf[_0x36781a(0x363)][_0x36781a(0x2eb)])availabilityPattern=_0x5bcccf['settings'][_0x36781a(0x2eb)];if(_0x5bcccf[_0x36781a(0x363)]['exceptions'])dateExceptions=_0x5bcccf[_0x36781a(0x363)][_0x36781a(0x2b8)];if(_0x5bcccf['settings']['ranges'])specialRanges=_0x5bcccf[_0x36781a(0x363)]['ranges'];if(_0x5bcccf['settings']['cancel_window']){localStorage[_0x36781a(0x262)](_0x36781a(0x2df),_0x5bcccf[_0x36781a(0x363)][_0x36781a(0x297)]);const _0x52a964=document[_0x36781a(0x215)](_0x36781a(0x35f));if(_0x52a964)_0x52a964['value']=_0x5bcccf['settings'][_0x36781a(0x297)];}}_0x5bcccf['calendar']&&(sessions=sessions[_0x36781a(0x286)](_0x253eb2=>!_0x253eb2[_0x36781a(0x223)][_0x36781a(0x327)](_0xdb2486)),Object[_0x36781a(0x29c)](_0x5bcccf[_0x36781a(0x2a0)])[_0x36781a(0x2f5)](_0x1d6033=>{const _0x38a876=_0x36781a,_0x5eebda=_0x5bcccf[_0x38a876(0x2a0)][_0x1d6033];_0x5eebda[_0x38a876(0x2f5)](_0x38531a=>{const _0x2ef061=_0x38a876,_0x14e2c5=clients[_0x2ef061(0x2ad)](_0x2d8610=>String(_0x2d8610['id'])===String(_0x38531a['c']));sessions['push']({'id':_0x38531a['i'],'clientId':_0x38531a['c'],'client':_0x14e2c5?_0x14e2c5['name']:_0x2ef061(0x236),'dateStr':_0xdb2486+'-'+_0x1d6033[_0x2ef061(0x2dd)](0x2,'0'),'start':_0x38531a['s'],'end':_0x38531a['e'],'status':_0x38531a['st']||_0x2ef061(0x359),'note':_0x38531a['n']||'','seriesId':_0x38531a[_0x2ef061(0x293)]||null});});}));},async 'syncBatch'(_0x30bf62){const _0x301d43=a2_0x3e002f,_0x3c1ec8=[...new Set(_0x30bf62)],_0x5db0e2=_0x3c1ec8[_0x301d43(0x270)](_0xd4ce1e=>{const _0x19a994=_0x301d43,_0x43ecc1=sessions[_0x19a994(0x286)](_0x4c24e5=>_0x4c24e5[_0x19a994(0x223)]===_0xd4ce1e&&_0x4c24e5[_0x19a994(0x339)]!==_0x19a994(0x295)),_0x2fdc24=_0x43ecc1[_0x19a994(0x270)](_0x5a576e=>({'i':_0x5a576e['id'],'c':_0x5a576e[_0x19a994(0x2ae)],'s':_0x5a576e[_0x19a994(0x2cd)],'e':_0x5a576e[_0x19a994(0x2c9)],'st':_0x5a576e[_0x19a994(0x339)],'n':_0x5a576e[_0x19a994(0x30c)],'sid':_0x5a576e[_0x19a994(0x30f)]}));return{'date':_0xd4ce1e,'day_data':_0x2fdc24};});if(_0x5db0e2[_0x301d43(0x27e)]===0x0)return;console[_0x301d43(0x246)](_0x301d43(0x29e)+_0x5db0e2[_0x301d43(0x27e)]+_0x301d43(0x2c2)),await this['fetchFromServer'](_0x301d43(0x36a),{'changes':_0x5db0e2});}};async function init(){const _0x10ffdc=a2_0x3e002f;DataManager[_0x10ffdc(0x2ef)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x10ffdc(0x215)](_0x10ffdc(0x264))['addEventListener'](_0x10ffdc(0x234),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x10ffdc(0x28c)]()[_0x10ffdc(0x303)](()=>{const _0x519bd2=_0x10ffdc;showToast(_0x519bd2(0x23e),!![]);})[_0x10ffdc(0x36e)](_0x1dbee6=>{showToast('–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º',![]);});}function generateId(){const _0x1b9dc0=a2_0x3e002f;return Date[_0x1b9dc0(0x25a)]()['toString'](0x24)+Math['random']()[_0x1b9dc0(0x254)](0x24)[_0x1b9dc0(0x2f3)](0x2,0x5);}function toggleSeriesInput(){const _0x3b54f4=a2_0x3e002f,_0x1b4679=document['getElementById'](_0x3b54f4(0x24d))[_0x3b54f4(0x288)],_0x3864c9=document['getElementById']('seriesCountContainer');_0x3864c9['style']['display']=_0x1b4679?_0x3b54f4(0x2e4):'none';const _0x47126d=document[_0x3b54f4(0x215)](_0x3b54f4(0x21c));_0x47126d[_0x3b54f4(0x369)][_0x3b54f4(0x256)]=_0x1b4679?_0x3b54f4(0x332):_0x3b54f4(0x22c);}function openAddSession(_0x1e2556){const _0x4eb7ad=a2_0x3e002f;editingId=null,populateClientSelect(),document[_0x4eb7ad(0x215)](_0x4eb7ad(0x349))[_0x4eb7ad(0x342)]=_0x4eb7ad(0x36f),document[_0x4eb7ad(0x215)](_0x4eb7ad(0x28d))[_0x4eb7ad(0x369)][_0x4eb7ad(0x330)]='none',document[_0x4eb7ad(0x215)](_0x4eb7ad(0x316))[_0x4eb7ad(0x369)][_0x4eb7ad(0x330)]=_0x4eb7ad(0x36c);const _0x5b9da6=document['getElementById'](_0x4eb7ad(0x21c)),_0x40ff83=document[_0x4eb7ad(0x215)](_0x4eb7ad(0x2a8));_0x5b9da6['style'][_0x4eb7ad(0x330)]=_0x4eb7ad(0x2c5),_0x5b9da6[_0x4eb7ad(0x369)]['borderRadius']=_0x4eb7ad(0x22c),document['getElementById'](_0x4eb7ad(0x24d))[_0x4eb7ad(0x288)]=![],document['getElementById'](_0x4eb7ad(0x206))['value']=0x4,_0x40ff83[_0x4eb7ad(0x369)]['display']=_0x4eb7ad(0x36c),document[_0x4eb7ad(0x215)](_0x4eb7ad(0x242))[_0x4eb7ad(0x214)]=getLocalDateStr(_0x1e2556),updateDateDisplay();const _0x1323ff=_0x1e2556[_0x4eb7ad(0x241)]();document['getElementById'](_0x4eb7ad(0x220))['value']=String(_0x1323ff)['padStart'](0x2,'0')+_0x4eb7ad(0x238),document['getElementById'](_0x4eb7ad(0x259))[_0x4eb7ad(0x214)]=String(_0x1323ff+0x1)[_0x4eb7ad(0x2dd)](0x2,'0')+_0x4eb7ad(0x238),openSheet(_0x4eb7ad(0x29b));}function openEdit(_0x227002){const _0x2d75bc=a2_0x3e002f;editingId=_0x227002['id'],populateClientSelect(),document[_0x2d75bc(0x215)](_0x2d75bc(0x349))[_0x2d75bc(0x342)]='–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å',document[_0x2d75bc(0x215)]('btnDelete')[_0x2d75bc(0x369)]['display']=_0x2d75bc(0x2e4);const _0x43f15a=document[_0x2d75bc(0x215)](_0x2d75bc(0x316));_0x43f15a[_0x2d75bc(0x369)][_0x2d75bc(0x330)]=_0x2d75bc(0x2c5);_0x227002[_0x2d75bc(0x339)]===_0x2d75bc(0x213)?(_0x43f15a[_0x2d75bc(0x20c)]=_0x2d75bc(0x370),_0x43f15a[_0x2d75bc(0x245)]='–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ'):(_0x43f15a[_0x2d75bc(0x20c)]=_0x2d75bc(0x2b5),_0x43f15a['innerHTML']=_0x2d75bc(0x21a));const _0x5a22d0=!!_0x227002[_0x2d75bc(0x30f)];document[_0x2d75bc(0x215)](_0x2d75bc(0x21c))[_0x2d75bc(0x369)][_0x2d75bc(0x330)]=_0x2d75bc(0x36c),document[_0x2d75bc(0x215)](_0x2d75bc(0x2a8))[_0x2d75bc(0x369)][_0x2d75bc(0x330)]=_0x2d75bc(0x36c),_0x5a22d0?(document[_0x2d75bc(0x215)](_0x2d75bc(0x32b))[_0x2d75bc(0x369)][_0x2d75bc(0x330)]=_0x2d75bc(0x2c5),document['getElementById']('patternInfoBox')[_0x2d75bc(0x1f9)](_0x2d75bc(0x354))[_0x2d75bc(0x342)]='–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫'):document[_0x2d75bc(0x215)]('patternInfoBox')[_0x2d75bc(0x369)][_0x2d75bc(0x330)]=_0x2d75bc(0x36c),document[_0x2d75bc(0x215)]('inpClient')[_0x2d75bc(0x214)]=_0x227002[_0x2d75bc(0x2c3)],document[_0x2d75bc(0x215)](_0x2d75bc(0x242))[_0x2d75bc(0x214)]=_0x227002[_0x2d75bc(0x223)],document[_0x2d75bc(0x215)]('inpStart')[_0x2d75bc(0x214)]=_0x227002[_0x2d75bc(0x2cd)],document[_0x2d75bc(0x215)]('inpEnd')['value']=_0x227002['end'],document[_0x2d75bc(0x215)]('inpNote')[_0x2d75bc(0x214)]=_0x227002[_0x2d75bc(0x30c)]||'',updateDateDisplay(),openSheet(_0x2d75bc(0x29b));}async function trySaveSession(){const _0xd56734=a2_0x3e002f,_0x1a7bf8=document[_0xd56734(0x215)](_0xd56734(0x26c))['value'],_0x5138e4=document[_0xd56734(0x215)](_0xd56734(0x242))[_0xd56734(0x214)],_0x6d1f19=document[_0xd56734(0x215)](_0xd56734(0x220))[_0xd56734(0x214)],_0x3ead24=document[_0xd56734(0x215)](_0xd56734(0x259))['value'],_0x5463f1=document['getElementById'](_0xd56734(0x322))['value'],_0x2b0a22=document[_0xd56734(0x215)](_0xd56734(0x24d))[_0xd56734(0x288)];let _0x306562=0x4;if(_0x2b0a22){const _0x324a24=parseInt(document[_0xd56734(0x215)](_0xd56734(0x206))['value']);if(!_0x324a24||_0x324a24<0x2){showToast('–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏',![]);return;}if(_0x324a24>0x64){showToast(_0xd56734(0x22b),![]);return;}_0x306562=_0x324a24;}const _0x2f728a=clients[_0xd56734(0x2ad)](_0x297eb3=>_0x297eb3[_0xd56734(0x2bd)]===_0x1a7bf8);if(!_0x2f728a){showToast(_0xd56734(0x221),![]);return;}const _0x5149a4=validateAppointment(_0x5138e4,_0x6d1f19,_0x3ead24,editingId,_0x2f728a['id']);if(!_0x5149a4[_0xd56734(0x2bc)]){showToast(_0x5149a4[_0xd56734(0x217)],![]);return;}_0x5149a4[_0xd56734(0x35b)]&&showToast(_0x5149a4[_0xd56734(0x35b)],![]);const _0x5882d1={'client':_0x1a7bf8,'clientId':_0x2f728a['id'],'start':_0x6d1f19,'end':_0x3ead24,'note':_0x5463f1,'status':_0xd56734(0x359)},_0x519ccf=editingId?sessions[_0xd56734(0x2ad)](_0x29b754=>_0x29b754['id']===editingId):null;if(_0x519ccf&&_0x519ccf['seriesId']){tempSessionData={..._0x5882d1,'dateStr':_0x5138e4,'id':editingId,'seriesId':_0x519ccf['seriesId']},openActionSheet(_0xd56734(0x2e6));return;}let _0x221ff5=null;if(!editingId)_0x221ff5=_0xd56734(0x23f);else{if(_0x519ccf){if(String(_0x519ccf[_0xd56734(0x2ae)])!==String(_0x2f728a['id']))console['log'](_0xd56734(0x235)),NotificationManager['send'](_0xd56734(0x23d),_0x519ccf),_0x221ff5=_0xd56734(0x23f);else(_0x519ccf[_0xd56734(0x2cd)]!==_0x6d1f19||_0x519ccf[_0xd56734(0x2c9)]!==_0x3ead24||_0x519ccf[_0xd56734(0x223)]!==_0x5138e4)&&(_0x221ff5=_0xd56734(0x340));}}if(!editingId&&_0x2b0a22){createBatchSeries(_0x5882d1,_0x5138e4,_0x306562),NotificationManager[_0xd56734(0x343)](_0xd56734(0x23f),{..._0x5882d1,'dateStr':_0x5138e4});return;}lastUserActionTime=Date[_0xd56734(0x25a)]();const _0x269744={..._0x5882d1,'dateStr':_0x5138e4,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x269744),_0x221ff5&&NotificationManager[_0xd56734(0x343)](_0x221ff5,_0x269744);}function toggleSessionStatus(){const _0xc8f80=a2_0x3e002f;lastUserActionTime=Date[_0xc8f80(0x25a)]();const _0x25f9a6=sessions[_0xc8f80(0x2ad)](_0x3e644b=>_0x3e644b['id']===editingId);if(!_0x25f9a6)return;const _0x408684=_0x25f9a6[_0xc8f80(0x339)]==='completed'?'planned':'completed';_0x25f9a6['status']=_0x408684,saveSingleSession(_0x25f9a6),_0x408684===_0xc8f80(0x213)&&NotificationManager[_0xc8f80(0x343)](_0xc8f80(0x2b1),_0x25f9a6),showToast(_0x408684===_0xc8f80(0x213)?_0xc8f80(0x2c0):_0xc8f80(0x22e),!![]);}function validateAppointment(_0x13a4c6,_0x571828,_0x17f860,_0xb85050,_0x358b54){const _0x3ad9da=a2_0x3e002f,[_0x45aa4a,_0x314254]=_0x571828[_0x3ad9da(0x33f)](':')[_0x3ad9da(0x270)](Number),[_0x3ee835,_0x28d4fd]=_0x17f860[_0x3ad9da(0x33f)](':')[_0x3ad9da(0x270)](Number),_0x30cb5b=_0x45aa4a*0x3c+_0x314254,_0x2c3449=_0x3ee835*0x3c+_0x28d4fd,_0x3de6d4=String(_0x358b54);let _0x4485a6=![],_0x10771a='';for(let _0x39cecb of sessions){if(_0x39cecb[_0x3ad9da(0x223)]!==_0x13a4c6)continue;if(_0x39cecb[_0x3ad9da(0x339)]===_0x3ad9da(0x319))continue;if(_0xb85050&&String(_0x39cecb['id'])===String(_0xb85050))continue;const [_0x1540ad,_0x42c8e6]=_0x39cecb[_0x3ad9da(0x2cd)][_0x3ad9da(0x33f)](':')[_0x3ad9da(0x270)](Number),[_0xddfbd1,_0x42b896]=_0x39cecb[_0x3ad9da(0x2c9)][_0x3ad9da(0x33f)](':')[_0x3ad9da(0x270)](Number),_0x24f0d4=_0x1540ad*0x3c+_0x42c8e6,_0x1baf70=_0xddfbd1*0x3c+_0x42b896;if(Math[_0x3ad9da(0x2d1)](_0x30cb5b,_0x24f0d4)<Math['min'](_0x2c3449,_0x1baf70)){if(_0x39cecb[_0x3ad9da(0x2ae)]&&String(_0x39cecb['clientId'])===_0x3de6d4)return{'valid':![],'msg':_0x3ad9da(0x250)+_0x39cecb[_0x3ad9da(0x2c3)]+_0x3ad9da(0x28a)};_0x4485a6=!![],_0x10771a=_0x39cecb['client'];}}if(_0x4485a6)return{'valid':!![],'warning':_0x3ad9da(0x36b)+_0x10771a};return{'valid':!![]};}function saveSingleSession(_0x3ce0e7){const _0x5f1343=a2_0x3e002f;if(editingId){const _0x548dbb=sessions[_0x5f1343(0x20f)](_0x3de029=>_0x3de029['id']===editingId);if(_0x548dbb!==-0x1)sessions[_0x548dbb]=_0x3ce0e7;}else sessions[_0x5f1343(0x352)](_0x3ce0e7);afterSaveAction([_0x3ce0e7[_0x5f1343(0x223)]]);}function createBatchSeries(_0x2ad22a,_0x3be7c1,_0x347a84){const _0x53f6f8=a2_0x3e002f,_0x40e341=generateId(),_0x41c8fe=[],_0x3ff4ae=[];let _0x134ad3=0x0,_0x36dbd4=new Date(_0x3be7c1);for(let _0xd9396e=0x0;_0xd9396e<_0x347a84;_0xd9396e++){const _0x3dcbf5=getLocalDateStr(_0x36dbd4),_0x1758cc=validateAppointment(_0x3dcbf5,_0x2ad22a[_0x53f6f8(0x2cd)],_0x2ad22a[_0x53f6f8(0x2c9)],null,_0x2ad22a['clientId']);if(!_0x1758cc[_0x53f6f8(0x2bc)])console[_0x53f6f8(0x246)]('[Series]\x20Skipped\x20'+_0x3dcbf5+':\x20Client\x20already\x20booked'),_0x134ad3++;else{const _0x3a4804={..._0x2ad22a,'id':generateId(),'dateStr':_0x3dcbf5,'seriesId':_0x40e341};_0x3ff4ae[_0x53f6f8(0x352)](_0x3a4804),_0x41c8fe[_0x53f6f8(0x352)](_0x3dcbf5);}_0x36dbd4['setDate'](_0x36dbd4[_0x53f6f8(0x306)]()+0x7);}if(_0x3ff4ae[_0x53f6f8(0x27e)]===0x0){showToast(_0x53f6f8(0x21b),![]);return;}sessions[_0x53f6f8(0x352)](..._0x3ff4ae),lastUserActionTime=Date[_0x53f6f8(0x25a)]();let _0x16ef39='–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20'+_0x3ff4ae[_0x53f6f8(0x27e)];_0x134ad3>0x0&&(_0x16ef39+=_0x53f6f8(0x2fa)+_0x134ad3+')'),showToast(_0x16ef39,!![]),afterSaveAction(_0x41c8fe);}function updateSeriesBatch(_0x49f64a,_0x4c01ec){const _0x21235e=a2_0x3e002f,_0x457627=[],_0x53f7db=_0x4c01ec['seriesId'];if(_0x49f64a==='single'){const _0x54823f={..._0x4c01ec,'seriesId':null},_0x544b7c=sessions[_0x21235e(0x20f)](_0x3c1091=>_0x3c1091['id']===_0x4c01ec['id']);if(_0x544b7c!==-0x1)sessions[_0x544b7c]=_0x54823f;_0x457627[_0x21235e(0x352)](_0x54823f[_0x21235e(0x223)]);}else{if(_0x49f64a===_0x21235e(0x2db)){const _0xe4b51c=_0x4c01ec['dateStr'];sessions[_0x21235e(0x2f5)]((_0x88d81b,_0x9678c)=>{const _0xea74c4=_0x21235e;_0x88d81b[_0xea74c4(0x30f)]===_0x53f7db&&_0x88d81b['dateStr']>=_0xe4b51c&&(sessions[_0x9678c]={...sessions[_0x9678c],'start':_0x4c01ec['start'],'end':_0x4c01ec[_0xea74c4(0x2c9)],'note':_0x4c01ec[_0xea74c4(0x30c)],'client':_0x4c01ec[_0xea74c4(0x2c3)],'clientId':_0x4c01ec['clientId']},_0x457627[_0xea74c4(0x352)](_0x88d81b[_0xea74c4(0x223)]));});}}afterSaveAction(_0x457627);}function tryDeleteSession(){const _0x26fa06=a2_0x3e002f,_0x1dab85=sessions[_0x26fa06(0x2ad)](_0x9959c0=>_0x9959c0['id']===editingId);if(!_0x1dab85)return;_0x1dab85[_0x26fa06(0x30f)]?openActionSheet(_0x26fa06(0x2d4)):commitDelete(_0x26fa06(0x25b),_0x1dab85);}function commitDelete(_0x4d50ce,_0x1f838a){const _0x4d4d89=a2_0x3e002f;lastUserActionTime=Date['now'](),NotificationManager[_0x4d4d89(0x343)]('cancel',_0x1f838a);const _0x5eaef7=[];if(_0x4d50ce===_0x4d4d89(0x25b))sessions=sessions[_0x4d4d89(0x286)](_0x3bebcc=>_0x3bebcc['id']!==_0x1f838a['id']),_0x5eaef7[_0x4d4d89(0x352)](_0x1f838a[_0x4d4d89(0x223)]);else{if(_0x4d50ce==='series'){const _0xaa07af=_0x1f838a[_0x4d4d89(0x223)],_0x43fbef=_0x1f838a['seriesId'];sessions['forEach'](_0x454e28=>{const _0x582faf=_0x4d4d89;_0x454e28[_0x582faf(0x30f)]===_0x43fbef&&_0x454e28[_0x582faf(0x223)]>=_0xaa07af&&_0x5eaef7[_0x582faf(0x352)](_0x454e28[_0x582faf(0x223)]);}),sessions=sessions[_0x4d4d89(0x286)](_0x94b7a3=>!(_0x94b7a3[_0x4d4d89(0x30f)]===_0x43fbef&&_0x94b7a3[_0x4d4d89(0x223)]>=_0xaa07af));}}afterSaveAction(_0x5eaef7);}function afterSaveAction(_0xb66b63){const _0x3a84e3=a2_0x3e002f;DataManager[_0x3a84e3(0x229)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x3a84e3(0x2d6)](_0xb66b63)['then'](()=>console['log'](_0x3a84e3(0x2f9)))[_0x3a84e3(0x36e)](_0x5e2976=>showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ',![]));}const NotificationManager={'formatDate'(_0x2be0e6){const _0x4e9b4d=a2_0x3e002f,_0x3c2b41=new Date(_0x2be0e6),_0x102807={'weekday':_0x4e9b4d(0x361),'day':_0x4e9b4d(0x34e),'month':_0x4e9b4d(0x361)};let _0x55ed6e=_0x3c2b41[_0x4e9b4d(0x2de)]('ru-RU',_0x102807);return _0x55ed6e[_0x4e9b4d(0x2e9)](0x0)['toUpperCase']()+_0x55ed6e[_0x4e9b4d(0x338)](0x1);},'getText'(_0x56a8fd,_0x33a038){const _0x4adbc3=a2_0x3e002f,_0x2b13a1=this[_0x4adbc3(0x22f)](_0x33a038[_0x4adbc3(0x223)]);switch(_0x56a8fd){case _0x4adbc3(0x23f):return _0x4adbc3(0x266)+(_0x4adbc3(0x325)+_0x2b13a1+'\x0a')+(_0x4adbc3(0x305)+_0x33a038[_0x4adbc3(0x2cd)]+_0x4adbc3(0x28b)+_0x33a038[_0x4adbc3(0x2c9)]+'\x0a\x0a')+_0x4adbc3(0x302);case _0x4adbc3(0x340):return _0x4adbc3(0x35c)+'–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a'+(_0x4adbc3(0x31c)+_0x33a038[_0x4adbc3(0x2cd)]+'\x20‚Äî\x20'+_0x33a038['end']+_0x4adbc3(0x24a))+(_0x4adbc3(0x325)+_0x2b13a1);case _0x4adbc3(0x23d):return _0x4adbc3(0x27c)+('–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>'+_0x2b13a1+'\x20('+_0x33a038['start']+')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.');case _0x4adbc3(0x2b1):return'<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a'+_0x4adbc3(0x360)+_0x4adbc3(0x353);default:return'';}},async 'send'(_0x5514c8,_0x24bd35){const _0x52721c=a2_0x3e002f;console['log']('[Notify]\x20Attempting\x20to\x20send:',_0x5514c8,_0x24bd35);if(!_0x24bd35){console[_0x52721c(0x1ff)]('[Notify]\x20Error:\x20sessionData\x20is\x20null');return;}const _0x5a5fa0=String(_0x24bd35[_0x52721c(0x2ae)]);console[_0x52721c(0x246)](_0x52721c(0x34a),_0x5a5fa0);if(!_0x24bd35[_0x52721c(0x2ae)]||_0x5a5fa0===_0x52721c(0x23b)||_0x5a5fa0===_0x52721c(0x203)){console[_0x52721c(0x1ff)](_0x52721c(0x2b7));if(_0x24bd35['client']){const _0x12f46a=clients[_0x52721c(0x2ad)](_0x4034ba=>_0x4034ba['name']===_0x24bd35[_0x52721c(0x2c3)]);if(_0x12f46a)return console[_0x52721c(0x246)](_0x52721c(0x301),_0x12f46a['id']),this[_0x52721c(0x343)](_0x5514c8,{..._0x24bd35,'clientId':_0x12f46a['id']});}return;}if(_0x5a5fa0[_0x52721c(0x27e)]<0x5){console[_0x52721c(0x212)](_0x52721c(0x308),_0x5a5fa0);return;}const _0x26606e=this[_0x52721c(0x27b)](_0x5514c8,_0x24bd35);if(!_0x26606e){console['error']('[Notify]\x20Error:\x20Text\x20generation\x20failed');return;}console['log'](_0x52721c(0x2f7)+_0x5a5fa0+_0x52721c(0x2f8)),DataManager[_0x52721c(0x324)](_0x52721c(0x2fb),{'chatId':_0x5a5fa0,'text':_0x26606e})[_0x52721c(0x303)](_0x5c819f=>console[_0x52721c(0x246)](_0x52721c(0x226),_0x5c819f))[_0x52721c(0x36e)](_0x377fd4=>console[_0x52721c(0x1ff)](_0x52721c(0x271),_0x377fd4));}};function getLocalDateStr(_0x246dd0){const _0x351a3e=a2_0x3e002f,_0x3eab9d=_0x246dd0[_0x351a3e(0x2dc)](),_0x2567cb=String(_0x246dd0[_0x351a3e(0x358)]()+0x1)[_0x351a3e(0x2dd)](0x2,'0'),_0x122a79=String(_0x246dd0[_0x351a3e(0x306)]())['padStart'](0x2,'0');return _0x3eab9d+'-'+_0x2567cb+'-'+_0x122a79;}function getDateStr(_0x3a9277){const _0x4c7fee=a2_0x3e002f,_0x52ef8e=new Date();return _0x52ef8e['setDate'](_0x52ef8e[_0x4c7fee(0x306)]()+_0x3a9277),getLocalDateStr(_0x52ef8e);}function getStartOfWeek(_0x4bf5cc){const _0x3d417e=a2_0x3e002f,_0x1bc653=(function(){let _0x32f2d5=!![];return function(_0x1d128b,_0x56bc09){const _0x2f4ef5=_0x32f2d5?function(){if(_0x56bc09){const _0x3bb6a7=_0x56bc09['apply'](_0x1d128b,arguments);return _0x56bc09=null,_0x3bb6a7;}}:function(){};return _0x32f2d5=![],_0x2f4ef5;};}()),_0x3e4a86=_0x1bc653(this,function(){const _0x664031=a2_0x26a7;return _0x3e4a86[_0x664031(0x254)]()[_0x664031(0x267)](_0x664031(0x2af))['toString']()[_0x664031(0x30b)](_0x3e4a86)[_0x664031(0x267)](_0x664031(0x2af));});_0x3e4a86();const _0x29fceb=new Date(_0x4bf5cc),_0x174864=_0x29fceb[_0x3d417e(0x26f)](),_0x788451=_0x29fceb[_0x3d417e(0x306)]()-_0x174864+(_0x174864===0x0?-0x6:0x1);return _0x29fceb[_0x3d417e(0x334)](_0x788451),_0x29fceb[_0x3d417e(0x2b2)](0x0,0x0,0x0,0x0),_0x29fceb;}function hexToRgba(_0x506666,_0x86c8e){const _0x1e6b0d=a2_0x3e002f;if(!_0x506666)return _0x1e6b0d(0x2ba);let _0x1fffb7=0x0,_0x4aed3c=0x0,_0x565b95=0x0;if(_0x506666[_0x1e6b0d(0x27e)]===0x4)_0x1fffb7='0x'+_0x506666[0x1]+_0x506666[0x1],_0x4aed3c='0x'+_0x506666[0x2]+_0x506666[0x2],_0x565b95='0x'+_0x506666[0x3]+_0x506666[0x3];else _0x506666['length']===0x7&&(_0x1fffb7='0x'+_0x506666[0x1]+_0x506666[0x2],_0x4aed3c='0x'+_0x506666[0x3]+_0x506666[0x4],_0x565b95='0x'+_0x506666[0x5]+_0x506666[0x6]);return _0x1e6b0d(0x32a)+ +_0x1fffb7+',\x20'+ +_0x4aed3c+',\x20'+ +_0x565b95+',\x20'+_0x86c8e+')';}function renderTimeColumn(){const _0x1b7227=a2_0x3e002f,_0x5511c9=document[_0x1b7227(0x215)]('timeColumn'),_0x16e886=document[_0x1b7227(0x215)](_0x1b7227(0x307));_0x5511c9[_0x1b7227(0x245)]='',_0x5511c9['appendChild'](_0x16e886);for(let _0x59c5dd=0x0;_0x59c5dd<0x18;_0x59c5dd++){const _0x4febf4=document[_0x1b7227(0x294)]('div');_0x4febf4[_0x1b7227(0x20c)]=_0x1b7227(0x1fe);if(_0x59c5dd>0x0)_0x4febf4[_0x1b7227(0x245)]=_0x1b7227(0x2ac)+String(_0x59c5dd)[_0x1b7227(0x2dd)](0x2,'0')+_0x1b7227(0x344);_0x5511c9['appendChild'](_0x4febf4);}}function renderDayRange(_0x5ea15,_0x300d7c){const _0x27c627=a2_0x3e002f,_0x26e428=document['getElementById'](_0x27c627(0x20d)),_0x46757c=document[_0x27c627(0x215)]('gridColumns'),_0xd672e9=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x836ed4=new Date();_0x836ed4[_0x27c627(0x2b2)](0x0,0x0,0x0,0x0);const _0x43b2c6=getLocalDateStr(new Date());for(let _0x36c82e=_0x5ea15;_0x36c82e<=_0x300d7c;_0x36c82e++){const _0x59a92a=new Date(_0x836ed4);_0x59a92a[_0x27c627(0x334)](_0x59a92a[_0x27c627(0x306)]()+_0x36c82e);const _0x47d664=getLocalDateStr(_0x59a92a);let _0x4cee5c=_0x59a92a['getDay']()-0x1;if(_0x4cee5c===-0x1)_0x4cee5c=0x6;const _0x29434f=_0x47d664===_0x43b2c6,_0x19b075=document[_0x27c627(0x294)](_0x27c627(0x362));_0x19b075['className']=_0x27c627(0x32c)+(_0x29434f?_0x27c627(0x2e1):''),_0x19b075['id']=_0x27c627(0x290)+_0x47d664,_0x19b075['setAttribute'](_0x27c627(0x2ed),_0x47d664),_0x19b075[_0x27c627(0x245)]='<div\x20class=\x22dch-day\x22>'+_0xd672e9[_0x4cee5c]+_0x27c627(0x2d5)+_0x59a92a[_0x27c627(0x306)]()+_0x27c627(0x216)+_0x47d664+_0x27c627(0x2a5),_0x19b075[_0x27c627(0x21e)]=()=>openDayOptions(_0x47d664,_0xd672e9[_0x4cee5c]+'\x20'+_0x59a92a[_0x27c627(0x306)]()),_0x26e428['appendChild'](_0x19b075);const _0x12c173=document[_0x27c627(0x294)]('div');_0x12c173[_0x27c627(0x20c)]=_0x27c627(0x356)+(_0x29434f?_0x27c627(0x2e1):''),_0x12c173[_0x27c627(0x243)](_0x27c627(0x2ed),_0x47d664),_0x12c173[_0x27c627(0x243)](_0x27c627(0x2f4),_0x4cee5c),renderEventsForColumn(_0x12c173,_0x47d664,_0x4cee5c),attachLongPressHandler(_0x12c173,_0x59a92a),_0x46757c[_0x27c627(0x273)](_0x12c173),updateDayStats(_0x47d664);}}function reRenderBlocks(){document['querySelectorAll']('#gridColumns\x20.day-column')['forEach'](_0x5cfe48=>{const _0x573489=a2_0x26a7;_0x5cfe48['querySelectorAll'](_0x573489(0x1fc))[_0x573489(0x2f5)](_0x3a4fe3=>_0x3a4fe3['remove']());const _0x307dd6=_0x5cfe48[_0x573489(0x348)](_0x573489(0x2ed)),_0x372d34=parseInt(_0x5cfe48[_0x573489(0x348)](_0x573489(0x2f4))),_0x550813=Math[_0x573489(0x24e)](_0x5cfe48['offsetLeft']);(availabilityPattern[_0x372d34]||[])[_0x573489(0x2f5)](_0x25954e=>{const _0x5b2e59=_0x573489,_0x1ea7e1=document[_0x5b2e59(0x294)]('div');_0x1ea7e1[_0x5b2e59(0x20c)]='blocked-slot\x20stripe-bg';const _0x5c6b13=_0x25954e*GRID_H;_0x1ea7e1[_0x5b2e59(0x369)][_0x5b2e59(0x328)]=_0x5c6b13+'px',_0x1ea7e1['style'][_0x5b2e59(0x284)]='-'+_0x550813+_0x5b2e59(0x28e)+_0x5c6b13+'px',_0x5cfe48[_0x5b2e59(0x273)](_0x1ea7e1);});if(specialRanges&&specialRanges[_0x573489(0x27e)]>0x0){const _0x53bb1f=new Date(_0x307dd6+'T00:00:00')[_0x573489(0x2be)](),_0x49d9c7=new Date(_0x307dd6+'T23:59:59')[_0x573489(0x2be)]();specialRanges[_0x573489(0x2f5)](_0xcd2d99=>{const _0x210468=_0x573489,_0x2cf497=new Date(_0xcd2d99[_0x210468(0x2cd)])[_0x210468(0x2be)](),_0x52966f=new Date(_0xcd2d99['end'])[_0x210468(0x2be)](),_0x45716f=Math[_0x210468(0x2d1)](_0x53bb1f,_0x2cf497),_0xc4be=Math[_0x210468(0x35a)](_0x49d9c7,_0x52966f);if(_0x45716f<_0xc4be){if(_0x45716f<=_0x53bb1f&&_0xc4be>=_0x49d9c7-0xea60){if(!_0x5cfe48['querySelector'](_0x210468(0x2fe))){const _0x2dce1f=document[_0x210468(0x294)](_0x210468(0x362));_0x2dce1f['className']=_0x210468(0x2b9),_0x2dce1f[_0x210468(0x369)]['backgroundPosition']='-'+_0x550813+_0x210468(0x240),_0x5cfe48[_0x210468(0x273)](_0x2dce1f);}}else{const _0x242d43=(_0x45716f-_0x53bb1f)/0x36ee80*GRID_H,_0x156712=(_0xc4be-_0x45716f)/0x36ee80*GRID_H,_0x17dbe6=document[_0x210468(0x294)](_0x210468(0x362));_0x17dbe6['className']=_0x210468(0x35d),_0x17dbe6[_0x210468(0x369)][_0x210468(0x328)]=_0x242d43+'px',_0x17dbe6[_0x210468(0x369)][_0x210468(0x210)]=_0x156712+'px',_0x17dbe6[_0x210468(0x369)]['backgroundPosition']='-'+_0x550813+_0x210468(0x28e)+_0x242d43+'px',_0x5cfe48[_0x210468(0x273)](_0x17dbe6);}}});}if(dateExceptions[_0x307dd6]===_0x573489(0x279)){if(!_0x5cfe48[_0x573489(0x1f9)](_0x573489(0x2fe))){const _0x37b50d=document[_0x573489(0x294)](_0x573489(0x362));_0x37b50d['className']='day-off-overlay\x20stripe-bg',_0x37b50d[_0x573489(0x369)][_0x573489(0x284)]='-'+_0x550813+_0x573489(0x240),_0x5cfe48['appendChild'](_0x37b50d);}}renderEventsForColumn(_0x5cfe48,_0x307dd6,_0x372d34),updateDayStats(_0x307dd6);});}function updateAllDayStats(){const _0x4e8f0a=a2_0x3e002f;document[_0x4e8f0a(0x2cc)](_0x4e8f0a(0x326))[_0x4e8f0a(0x2f5)](_0x19f4d1=>{const _0x19dbe8=_0x4e8f0a;updateDayStats(_0x19f4d1[_0x19dbe8(0x348)](_0x19dbe8(0x2ed)));});}function updateDayStats(_0x3653a5){const _0x533dd3=a2_0x3e002f,_0x2dac0a=document[_0x533dd3(0x215)](_0x533dd3(0x2b6)+_0x3653a5);if(!_0x2dac0a)return;const _0x127b0d=new Date(_0x3653a5);let _0x43f695=_0x127b0d['getDay']()-0x1;if(_0x43f695===-0x1)_0x43f695=0x6;if(dateExceptions[_0x3653a5]===_0x533dd3(0x279)){_0x2dac0a[_0x533dd3(0x369)][_0x533dd3(0x330)]='none';return;}const _0x353771=availabilityPattern[_0x43f695]||[],_0x2536bc=0x18-_0x353771['length'],_0x2c756f=_0x2536bc*0x3c,_0x4e0f0d=sessions[_0x533dd3(0x286)](_0x1681b3=>_0x1681b3[_0x533dd3(0x223)]===_0x3653a5&&_0x1681b3[_0x533dd3(0x339)]!==_0x533dd3(0x319));if(_0x4e0f0d[_0x533dd3(0x27e)]===0x0){_0x2dac0a[_0x533dd3(0x369)]['display']='none';return;}let _0x46a5a8=_0x4e0f0d[_0x533dd3(0x270)](_0x1edd51=>{const _0x2d07e2=_0x533dd3,[_0x58b5c1,_0x1bf18a]=_0x1edd51[_0x2d07e2(0x2cd)][_0x2d07e2(0x33f)](':')[_0x2d07e2(0x270)](Number),[_0xb121c6,_0x24b20a]=_0x1edd51[_0x2d07e2(0x2c9)][_0x2d07e2(0x33f)](':')[_0x2d07e2(0x270)](Number);return[_0x58b5c1*0x3c+_0x1bf18a,_0xb121c6*0x3c+_0x24b20a];});_0x46a5a8['sort']((_0x55e950,_0x3be90e)=>_0x55e950[0x0]-_0x3be90e[0x0]);let _0x220ec9=[];if(_0x46a5a8[_0x533dd3(0x27e)]>0x0){let _0x1d2244=_0x46a5a8[0x0];for(let _0x41945b=0x1;_0x41945b<_0x46a5a8[_0x533dd3(0x27e)];_0x41945b++){_0x46a5a8[_0x41945b][0x0]<_0x1d2244[0x1]?_0x1d2244[0x1]=Math['max'](_0x1d2244[0x1],_0x46a5a8[_0x41945b][0x1]):(_0x220ec9[_0x533dd3(0x352)](_0x1d2244),_0x1d2244=_0x46a5a8[_0x41945b]);}_0x220ec9['push'](_0x1d2244);}let _0x5419cf=0x0;_0x220ec9['forEach'](_0x503cf9=>_0x5419cf+=_0x503cf9[0x1]-_0x503cf9[0x0]),_0x2dac0a[_0x533dd3(0x369)][_0x533dd3(0x330)]=_0x533dd3(0x2c5);const _0x2d4760=_0x2dac0a[_0x533dd3(0x1f9)]('.dch-stats-fill');if(_0x2c756f===0x0){_0x2d4760[_0x533dd3(0x369)][_0x533dd3(0x345)]='100%',_0x2d4760[_0x533dd3(0x369)][_0x533dd3(0x312)]=_0x533dd3(0x2cf);return;}const _0x578e69=_0x5419cf/_0x2c756f*0x64;console[_0x533dd3(0x246)]('['+_0x3653a5+_0x533dd3(0x20e)+_0x2536bc+'—á,\x20–ó–∞–Ω—è—Ç–æ:\x20'+_0x5419cf+_0x533dd3(0x287)+_0x578e69['toFixed'](0x1)+'%'),_0x578e69>0x64?(_0x2d4760[_0x533dd3(0x369)][_0x533dd3(0x345)]='100%',_0x2d4760[_0x533dd3(0x369)][_0x533dd3(0x312)]='var(--acc-red)'):(_0x2d4760[_0x533dd3(0x369)][_0x533dd3(0x345)]=_0x578e69+'%',_0x2d4760[_0x533dd3(0x369)]['background']=_0x533dd3(0x253));}function renderEventsForColumn(_0x5c5d0f,_0x22f525,_0x4152b9){const _0x563497=a2_0x3e002f,_0x4f39dc=sessions[_0x563497(0x286)](_0x203691=>_0x203691[_0x563497(0x223)]===_0x22f525),_0x172b62=_0x4f39dc[_0x563497(0x270)](_0x41d653=>{const _0x4c9234=_0x563497,[_0x295e29,_0x3f82f8]=_0x41d653[_0x4c9234(0x2cd)]['split'](':')[_0x4c9234(0x270)](Number),[_0x4a2167,_0x2e4d92]=_0x41d653[_0x4c9234(0x2c9)][_0x4c9234(0x33f)](':')[_0x4c9234(0x270)](Number);return{'data':_0x41d653,'start':_0x295e29*0x3c+_0x3f82f8,'end':_0x4a2167*0x3c+_0x2e4d92,'colIndex':0x0};});_0x172b62[_0x563497(0x200)]((_0x15e569,_0x1e9682)=>{const _0x558d56=_0x563497;if(_0x15e569[_0x558d56(0x2cd)]!==_0x1e9682[_0x558d56(0x2cd)])return _0x15e569[_0x558d56(0x2cd)]-_0x1e9682['start'];return _0x1e9682[_0x558d56(0x2c9)]-_0x1e9682['start']-(_0x15e569[_0x558d56(0x2c9)]-_0x15e569[_0x558d56(0x2cd)]);});const _0x46c3aa=[];_0x172b62['forEach'](_0x32ec13=>{const _0x4937d3=_0x563497;let _0x4e157a=![];for(let _0xf12b41=0x0;_0xf12b41<_0x46c3aa[_0x4937d3(0x27e)];_0xf12b41++){const _0x43b920=_0x46c3aa[_0xf12b41],_0x4103f3=_0x43b920[_0x43b920['length']-0x1];if(_0x32ec13[_0x4937d3(0x2cd)]>=_0x4103f3[_0x4937d3(0x2c9)]){_0x43b920[_0x4937d3(0x352)](_0x32ec13),_0x32ec13['colIndex']=_0xf12b41,_0x4e157a=!![];break;}}!_0x4e157a&&(_0x46c3aa[_0x4937d3(0x352)]([_0x32ec13]),_0x32ec13[_0x4937d3(0x248)]=_0x46c3aa['length']-0x1);}),_0x172b62[_0x563497(0x2f5)](_0x5943b2=>{const _0x447318=_0x563497;let _0xf5b614=0x0;_0x172b62[_0x447318(0x2f5)](_0x17c18c=>{const _0xfda414=_0x447318;if(Math['max'](_0x5943b2[_0xfda414(0x2cd)],_0x17c18c[_0xfda414(0x2cd)])<Math[_0xfda414(0x35a)](_0x5943b2[_0xfda414(0x2c9)],_0x17c18c[_0xfda414(0x2c9)])){if(_0x17c18c[_0xfda414(0x248)]>_0xf5b614)_0xf5b614=_0x17c18c[_0xfda414(0x248)];}});const _0xe51243=_0xf5b614+0x1,_0x51084e=0x64/_0xe51243,_0x284cda=_0x5943b2[_0x447318(0x248)]*_0x51084e,_0x42dc1f=createEventEl(_0x5943b2['data']);_0x42dc1f['style'][_0x447318(0x345)]=_0x447318(0x21f)+_0x51084e+'%\x20-\x204px)',_0x42dc1f[_0x447318(0x369)][_0x447318(0x20b)]=_0x447318(0x21f)+_0x284cda+_0x447318(0x1fb),_0x42dc1f[_0x447318(0x369)]['zIndex']=0xa+_0x5943b2[_0x447318(0x248)],_0x51084e<0x55&&_0x42dc1f[_0x447318(0x2c8)][_0x447318(0x2a6)](_0x447318(0x1f6)),_0x5c5d0f[_0x447318(0x273)](_0x42dc1f);});}function createEventEl(_0x3454f9){const _0x5b7343=a2_0x3e002f,[_0x56d3d5,_0x55f979]=_0x3454f9[_0x5b7343(0x2cd)][_0x5b7343(0x33f)](':')['map'](Number),[_0x11e182,_0x298246]=_0x3454f9[_0x5b7343(0x2c9)][_0x5b7343(0x33f)](':')[_0x5b7343(0x270)](Number),_0x17450d=(_0x56d3d5*0x3c+_0x55f979)/0x3c*GRID_H,_0x19e033=(_0x11e182*0x3c+_0x298246-(_0x56d3d5*0x3c+_0x55f979))/0x3c*GRID_H,_0x1b34f0=document[_0x5b7343(0x294)]('div'),_0x23ecb1=_0x3454f9[_0x5b7343(0x339)]===_0x5b7343(0x213)?_0x5b7343(0x2a4):'';_0x1b34f0['className']='event-card'+_0x23ecb1,_0x1b34f0[_0x5b7343(0x369)]['top']=_0x17450d+'px',_0x1b34f0[_0x5b7343(0x369)][_0x5b7343(0x210)]=Math['max'](_0x19e033,0x14)+'px';const _0x32a63d=clients['find'](_0x1be14c=>_0x3454f9[_0x5b7343(0x2ae)]&&String(_0x1be14c['id'])===String(_0x3454f9['clientId'])||_0x1be14c[_0x5b7343(0x2bd)]===_0x3454f9[_0x5b7343(0x2c3)]),_0xf6f174=_0x32a63d?_0x32a63d['color']:_0x5b7343(0x231);_0x1b34f0[_0x5b7343(0x369)]['borderLeftColor']=_0xf6f174,_0x1b34f0[_0x5b7343(0x369)][_0x5b7343(0x252)]=hexToRgba(_0xf6f174,0.85);let _0x35353d=_0x5b7343(0x33a)+_0x3454f9[_0x5b7343(0x2c3)]+_0x5b7343(0x292)+_0x3454f9['start']+_0x5b7343(0x2ff)+_0x3454f9['end']+_0x5b7343(0x333);return _0x3454f9[_0x5b7343(0x30f)]&&(_0x35353d+='<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>'),_0x3454f9[_0x5b7343(0x339)]===_0x5b7343(0x213)&&(_0x35353d+='<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>'),_0x1b34f0[_0x5b7343(0x245)]=_0x35353d,_0x1b34f0[_0x5b7343(0x21e)]=_0x18785d=>{const _0x4ebb92=_0x5b7343;_0x18785d[_0x4ebb92(0x233)](),openEdit(_0x3454f9);},_0x1b34f0;}function attachLongPressHandler(_0x1f98ab,_0x2de0a8){const _0x16c1f2=a2_0x3e002f;let _0x3fb377=0x0,_0x596f92=null;const _0x13db9c=_0x2b0658=>{const _0x3c04f9=a2_0x26a7;if(_0x2b0658['target']['closest']('.event-card'))return;isScrolling=![],_0x3fb377=_0x2b0658['touches']?_0x2b0658[_0x3c04f9(0x33c)][0x0][_0x3c04f9(0x296)]:_0x2b0658[_0x3c04f9(0x296)],_0x596f92=setTimeout(()=>{const _0x5000f4=_0x3c04f9;if(!isScrolling){navigator[_0x5000f4(0x258)]?.(0x32);const _0xb83caa=_0x1f98ab[_0x5000f4(0x26a)](),_0x51ec57=Math[_0x5000f4(0x2e3)]((_0x3fb377-_0xb83caa[_0x5000f4(0x328)])/GRID_H);_0x2de0a8['setHours'](_0x51ec57,0x0),openAddSession(_0x2de0a8);}},0x1f4);},_0x15db0f=()=>{isScrolling=!![],clearTimeout(_0x596f92);},_0x1b8ff5=()=>{clearTimeout(_0x596f92);};_0x1f98ab[_0x16c1f2(0x317)](_0x16c1f2(0x357),_0x13db9c,{'passive':!![]}),_0x1f98ab[_0x16c1f2(0x317)](_0x16c1f2(0x281),_0x15db0f,{'passive':!![]}),_0x1f98ab[_0x16c1f2(0x317)](_0x16c1f2(0x2b4),_0x1b8ff5),_0x1f98ab[_0x16c1f2(0x317)]('mousedown',_0x13db9c),_0x1f98ab[_0x16c1f2(0x317)](_0x16c1f2(0x364),_0x15db0f),_0x1f98ab['addEventListener'](_0x16c1f2(0x227),_0x1b8ff5);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x35c844=a2_0x3e002f,_0x44a4aa=document[_0x35c844(0x215)]('matrixViewport'),_0x24e104=_0x44a4aa['scrollLeft'],_0x4c71ea=_0x44a4aa[_0x35c844(0x251)],_0x5a01c2=_0x44a4aa['clientWidth'];if(_0x4c71ea-(_0x24e104+_0x5a01c2)<0x12c){const _0x35a4fb=endOffset;endOffset+=0xe,renderDayRange(_0x35a4fb+0x1,endOffset),reRenderBlocks();}if(_0x24e104<0x12c){const _0x5ddf4d=startOffset;startOffset-=0xe,prependDays(startOffset,_0x5ddf4d-0x1),_0x44a4aa[_0x35c844(0x2a1)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x2e7589,_0x177899){const _0x5cb2da=a2_0x3e002f,_0xf6a8e0=document[_0x5cb2da(0x215)](_0x5cb2da(0x20d)),_0x5603a3=document[_0x5cb2da(0x215)](_0x5cb2da(0x2c6)),_0x1dd6d8=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x399919=new Date();_0x399919[_0x5cb2da(0x2b2)](0x0,0x0,0x0,0x0);const _0x913796=getLocalDateStr(new Date()),_0x497968=document[_0x5cb2da(0x2f0)](),_0x5bdf9f=document[_0x5cb2da(0x2f0)]();for(let _0xd69e3e=_0x2e7589;_0xd69e3e<=_0x177899;_0xd69e3e++){const _0x5f5a05=new Date(_0x399919);_0x5f5a05[_0x5cb2da(0x334)](_0x5f5a05[_0x5cb2da(0x306)]()+_0xd69e3e);const _0x5984ed=getLocalDateStr(_0x5f5a05);let _0x130e3a=_0x5f5a05[_0x5cb2da(0x26f)]()-0x1;if(_0x130e3a===-0x1)_0x130e3a=0x6;const _0x272825=_0x5984ed===_0x913796,_0x11d655=document[_0x5cb2da(0x294)](_0x5cb2da(0x362));_0x11d655[_0x5cb2da(0x20c)]=_0x5cb2da(0x32c)+(_0x272825?'today':''),_0x11d655['id']=_0x5cb2da(0x290)+_0x5984ed,_0x11d655[_0x5cb2da(0x243)]('data-date',_0x5984ed),_0x11d655[_0x5cb2da(0x245)]=_0x5cb2da(0x347)+_0x1dd6d8[_0x130e3a]+_0x5cb2da(0x2d5)+_0x5f5a05[_0x5cb2da(0x306)]()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0x5984ed+_0x5cb2da(0x2a5),_0x11d655[_0x5cb2da(0x21e)]=()=>openDayOptions(_0x5984ed,_0x1dd6d8[_0x130e3a]+'\x20'+_0x5f5a05[_0x5cb2da(0x306)]()),_0x497968['appendChild'](_0x11d655);const _0x5baf5f=document[_0x5cb2da(0x294)](_0x5cb2da(0x362));_0x5baf5f[_0x5cb2da(0x20c)]='day-column\x20'+(_0x272825?_0x5cb2da(0x2e1):''),_0x5baf5f[_0x5cb2da(0x243)](_0x5cb2da(0x2ed),_0x5984ed),_0x5baf5f[_0x5cb2da(0x243)](_0x5cb2da(0x2f4),_0x130e3a),renderEventsForColumn(_0x5baf5f,_0x5984ed,_0x130e3a),attachLongPressHandler(_0x5baf5f,_0x5f5a05),_0x5bdf9f[_0x5cb2da(0x273)](_0x5baf5f),updateDayStats(_0x5984ed);}_0xf6a8e0[_0x5cb2da(0x26d)](_0x497968,_0xf6a8e0[_0x5cb2da(0x2ce)]),_0x5603a3[_0x5cb2da(0x26d)](_0x5bdf9f,_0x5603a3[_0x5cb2da(0x1f9)](_0x5cb2da(0x2c7)));}function validateAppointment(_0x3aa76e,_0x3ea596,_0x1100d3,_0x4cc436,_0x52cc24){const _0x47940d=a2_0x3e002f,[_0xc9916,_0x54111c]=_0x3ea596[_0x47940d(0x33f)](':')[_0x47940d(0x270)](Number),[_0x3d7e3a,_0x3d75ae]=_0x1100d3['split'](':')[_0x47940d(0x270)](Number),_0x2644d1=_0xc9916*0x3c+_0x54111c,_0x2cfd4b=_0x3d7e3a*0x3c+_0x3d75ae,_0x40b8d2=String(_0x52cc24);let _0x4376d6=![],_0xa71108='';for(let _0xd86afe of sessions){if(_0xd86afe[_0x47940d(0x223)]!==_0x3aa76e)continue;if(_0xd86afe[_0x47940d(0x339)]==='cancelled')continue;if(_0x4cc436&&String(_0xd86afe['id'])===String(_0x4cc436))continue;const [_0x3e5080,_0x207799]=_0xd86afe['start']['split'](':')[_0x47940d(0x270)](Number),[_0x1a5f42,_0x167a0e]=_0xd86afe['end'][_0x47940d(0x33f)](':')[_0x47940d(0x270)](Number),_0x292091=_0x3e5080*0x3c+_0x207799,_0x130659=_0x1a5f42*0x3c+_0x167a0e;if(Math['max'](_0x2644d1,_0x292091)<Math[_0x47940d(0x35a)](_0x2cfd4b,_0x130659)){if(_0xd86afe['clientId']&&String(_0xd86afe[_0x47940d(0x2ae)])===_0x40b8d2)return{'valid':![],'msg':_0x47940d(0x250)+_0xd86afe['client']+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x4376d6=!![],_0xa71108=_0xd86afe['client'];}}if(_0x4376d6)return{'valid':!![],'warning':_0x47940d(0x36b)+_0xa71108};return{'valid':!![]};}function updateDateDisplay(){const _0xf3ea87=a2_0x3e002f,_0x3bd82b=document['getElementById'](_0xf3ea87(0x242))[_0xf3ea87(0x214)],_0x3451ae=document[_0xf3ea87(0x215)](_0xf3ea87(0x2bb));if(!_0x3bd82b){_0x3451ae[_0xf3ea87(0x342)]='';return;}const [_0x50efe9,_0xdabe57,_0x2b6235]=_0x3bd82b[_0xf3ea87(0x33f)]('-')[_0xf3ea87(0x270)](Number),_0x1be388=new Date(_0x50efe9,_0xdabe57-0x1,_0x2b6235),_0x2a68c1={'weekday':'long','day':_0xf3ea87(0x34e),'month':_0xf3ea87(0x361),'year':_0xf3ea87(0x34e)};let _0x2aee0d=_0x1be388[_0xf3ea87(0x2de)]('ru-RU',_0x2a68c1);_0x2aee0d=_0x2aee0d['charAt'](0x0)['toUpperCase']()+_0x2aee0d['slice'](0x1),_0x3451ae[_0xf3ea87(0x342)]=_0x2aee0d;}function autoSetEndTime(){const _0x2b3de1=a2_0x3e002f,_0x8ca32f=document[_0x2b3de1(0x215)](_0x2b3de1(0x220))[_0x2b3de1(0x214)];if(!_0x8ca32f)return;const [_0x482e7e,_0x1bdcb2]=_0x8ca32f['split'](':')[_0x2b3de1(0x270)](Number);let _0x58fef3=_0x482e7e+0x1;if(_0x58fef3>0x17)_0x58fef3=0x0;const _0x2aa387=String(_0x58fef3)[_0x2b3de1(0x2dd)](0x2,'0')+':'+String(_0x1bdcb2)[_0x2b3de1(0x2dd)](0x2,'0');document[_0x2b3de1(0x215)](_0x2b3de1(0x259))[_0x2b3de1(0x214)]=_0x2aa387;}function populateClientSelect(){const _0x30bf01=a2_0x3e002f,_0x72d8ff=document['getElementById'](_0x30bf01(0x26c));_0x72d8ff[_0x30bf01(0x245)]='';if(clients[_0x30bf01(0x27e)]===0x0){const _0x38f463=document[_0x30bf01(0x294)](_0x30bf01(0x355));_0x38f463[_0x30bf01(0x337)]=_0x30bf01(0x346),_0x72d8ff[_0x30bf01(0x273)](_0x38f463);return;}clients[_0x30bf01(0x2f5)](_0x44f935=>{const _0x251e19=_0x30bf01,_0x433dd0=document[_0x251e19(0x294)](_0x251e19(0x355));_0x433dd0['value']=_0x44f935[_0x251e19(0x2bd)],_0x433dd0[_0x251e19(0x342)]=_0x44f935['name'],_0x72d8ff[_0x251e19(0x273)](_0x433dd0);});}function openActionSheet(_0x3fc071){const _0x20853f=a2_0x3e002f,_0x2bd6ff=document[_0x20853f(0x215)](_0x20853f(0x274)),_0x3417f6=document[_0x20853f(0x215)](_0x20853f(0x31f)),_0x27198a=document[_0x20853f(0x215)]('asTitle'),_0x4ad4ab=document[_0x20853f(0x215)](_0x20853f(0x365)),_0x5d5d60=document[_0x20853f(0x215)]('asBtnSeries');_0x3417f6[_0x20853f(0x2c8)][_0x20853f(0x2a6)]('active'),_0x2bd6ff[_0x20853f(0x2c8)][_0x20853f(0x2a6)](_0x20853f(0x277));if(_0x3fc071==='save')_0x27198a[_0x20853f(0x342)]=_0x20853f(0x27f),_0x4ad4ab[_0x20853f(0x342)]=_0x20853f(0x2cb),_0x4ad4ab[_0x20853f(0x21e)]=()=>{const _0x5774c9=_0x20853f;closeActionSheet(),updateSeriesBatch(_0x5774c9(0x25b),tempSessionData);},_0x5d5d60['textContent']=_0x20853f(0x232),_0x5d5d60[_0x20853f(0x21e)]=()=>{const _0x1df8e1=_0x20853f;closeActionSheet(),updateSeriesBatch(_0x1df8e1(0x2db),tempSessionData);};else _0x3fc071===_0x20853f(0x2d4)&&(_0x27198a[_0x20853f(0x342)]=_0x20853f(0x2f2),_0x4ad4ab[_0x20853f(0x342)]=_0x20853f(0x2cb),_0x4ad4ab['className']=_0x20853f(0x204),_0x4ad4ab[_0x20853f(0x21e)]=()=>{const _0x5cde9d=_0x20853f;closeActionSheet(),commitDelete(_0x5cde9d(0x25b),sessions[_0x5cde9d(0x2ad)](_0x1fa0b3=>_0x1fa0b3['id']===editingId));},_0x5d5d60[_0x20853f(0x342)]=_0x20853f(0x232),_0x5d5d60[_0x20853f(0x20c)]='as-button\x20danger\x20bold',_0x5d5d60[_0x20853f(0x21e)]=()=>{const _0x22874b=_0x20853f;closeActionSheet(),commitDelete('series',sessions[_0x22874b(0x2ad)](_0x108fce=>_0x108fce['id']===editingId));});}function closeActionSheet(){const _0x36b95a=a2_0x3e002f;document[_0x36b95a(0x215)]('actionSheet')[_0x36b95a(0x2c8)][_0x36b95a(0x366)](_0x36b95a(0x277)),document[_0x36b95a(0x215)](_0x36b95a(0x31f))['classList'][_0x36b95a(0x366)]('active');}function openSettings(){const _0x4694f7=a2_0x3e002f;openSheet(_0x4694f7(0x31b));}function saveCoachSettings(){const _0x24ca18=a2_0x3e002f,_0x3362ec=document['getElementById'](_0x24ca18(0x35f))[_0x24ca18(0x214)];localStorage['setItem'](_0x24ca18(0x2df),_0x3362ec),console[_0x24ca18(0x246)](_0x24ca18(0x27a),_0x3362ec),DataManager[_0x24ca18(0x324)]('save_settings',{'settings':{'cancel_window':_0x3362ec}})['catch'](_0x2a7612=>{console['error']('Save\x20settings\x20error:',_0x2a7612),showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫',![]);});}function loadCoachSettings(){const _0x4689c6=a2_0x3e002f,_0x1efbde=localStorage['getItem'](_0x4689c6(0x2df));_0x1efbde&&(document[_0x4689c6(0x215)](_0x4689c6(0x35f))[_0x4689c6(0x214)]=_0x1efbde);}function a2_0x26a7(_0x18f8c3,_0x420959){_0x18f8c3=_0x18f8c3-0x1f3;const _0x51d17e=a2_0xa000();let _0x484d3c=_0x51d17e[_0x18f8c3];return _0x484d3c;}function openRangesSheet(){const _0x4213f7=a2_0x3e002f;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x4213f7(0x299));}function addRange(){const _0x38be7b=a2_0x3e002f,_0x4b2ec4=document[_0x38be7b(0x215)]('rangeStartDate')[_0x38be7b(0x214)],_0x2198ec=document[_0x38be7b(0x215)](_0x38be7b(0x2e0))[_0x38be7b(0x214)],_0x3412b1=document['getElementById']('rangeEndDate')['value'],_0x309ba3=document[_0x38be7b(0x215)](_0x38be7b(0x255))[_0x38be7b(0x214)];if(!_0x4b2ec4||!_0x2198ec||!_0x3412b1||!_0x309ba3)return alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è');const _0x25ffae=_0x4b2ec4+'T'+_0x2198ec,_0x33f854=_0x3412b1+'T'+_0x309ba3;if(_0x25ffae>=_0x33f854)return alert(_0x38be7b(0x291));specialRanges[_0x38be7b(0x352)]({'start':_0x25ffae,'end':_0x33f854}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x38be7b(0x229)](),DataManager[_0x38be7b(0x324)]('save_settings',{'settings':{'ranges':specialRanges}});}function deleteRange(_0x39dd53){const _0x27025b=a2_0x3e002f;specialRanges['splice'](_0x39dd53,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x27025b(0x229)](),DataManager[_0x27025b(0x324)](_0x27025b(0x28f),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x19acc9=a2_0x3e002f;document[_0x19acc9(0x215)](_0x19acc9(0x304))[_0x19acc9(0x214)]='',document[_0x19acc9(0x215)]('rangeStartTime')[_0x19acc9(0x214)]=_0x19acc9(0x368),document[_0x19acc9(0x215)]('rangeEndDate')['value']='',document[_0x19acc9(0x215)](_0x19acc9(0x255))[_0x19acc9(0x214)]=_0x19acc9(0x22d);}function renderRangesList(){const _0x37ae58=a2_0x3e002f,_0x3f64e1=document[_0x37ae58(0x215)](_0x37ae58(0x20a));_0x3f64e1[_0x37ae58(0x245)]='';if(!specialRanges['length']){_0x3f64e1[_0x37ae58(0x245)]=_0x37ae58(0x1f8);return;}specialRanges['forEach']((_0x14f91b,_0x770d95)=>{const _0x5e0721=_0x37ae58,_0x1b900d=document[_0x5e0721(0x294)](_0x5e0721(0x362));_0x1b900d[_0x5e0721(0x20c)]=_0x5e0721(0x29f);const _0x5c933f=_0x1c5eca=>{const _0x31609a=_0x5e0721,_0x25fd0f=new Date(_0x1c5eca);return _0x25fd0f[_0x31609a(0x306)]()+'.'+String(_0x25fd0f['getMonth']()+0x1)[_0x31609a(0x2dd)](0x2,'0')+'\x20'+String(_0x25fd0f[_0x31609a(0x241)]())['padStart'](0x2,'0')+':'+String(_0x25fd0f[_0x31609a(0x247)]())[_0x31609a(0x2dd)](0x2,'0');};_0x1b900d['innerHTML']=_0x5e0721(0x218)+_0x5c933f(_0x14f91b[_0x5e0721(0x2cd)])+_0x5e0721(0x28b)+_0x5c933f(_0x14f91b[_0x5e0721(0x2c9)])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange('+_0x770d95+_0x5e0721(0x2da),_0x3f64e1[_0x5e0721(0x273)](_0x1b900d);});}function scrollToToday(){const _0x1cc878=a2_0x3e002f,_0x93e6cd=getLocalDateStr(new Date()),_0x1c79e7=document[_0x1cc878(0x215)](_0x1cc878(0x290)+_0x93e6cd),_0x151d84=document['getElementById'](_0x1cc878(0x264));if(_0x1c79e7&&_0x151d84){const _0x2e9009=_0x151d84[_0x1cc878(0x2a9)],_0x59834d=_0x1c79e7[_0x1cc878(0x25f)],_0x268e3a=_0x1c79e7[_0x1cc878(0x26e)];_0x151d84[_0x1cc878(0x2a1)]=_0x59834d-_0x2e9009/0x2+_0x268e3a/0x2,_0x151d84[_0x1cc878(0x25c)]=0x9*GRID_H;}}function onScroll(){const _0x213267=a2_0x3e002f,_0x53a5ab=document[_0x213267(0x215)](_0x213267(0x264)),_0x19fabb=document[_0x213267(0x2cc)]('.day-col-header');for(let _0x4c66f8 of _0x19fabb)if(_0x4c66f8[_0x213267(0x25f)]>=_0x53a5ab['scrollLeft']){const _0x10e5d1=new Date(_0x4c66f8[_0x213267(0x348)](_0x213267(0x2ed)));document[_0x213267(0x215)](_0x213267(0x311))[_0x213267(0x342)]=_0x10e5d1[_0x213267(0x30d)]('ru',{'month':'long'})[_0x213267(0x208)]()+'\x20'+_0x10e5d1[_0x213267(0x2dc)]();break;}}function showToast(_0xcb50be,_0x32bbd2=![]){const _0x4b5acc=a2_0x3e002f,_0x4e3eeb=document[_0x4b5acc(0x215)](_0x4b5acc(0x36d));_0x4e3eeb[_0x4b5acc(0x20c)]=_0x4b5acc(0x222)+(_0x32bbd2?_0x4b5acc(0x289):''),document['getElementById']('toastTitle')[_0x4b5acc(0x342)]=_0x32bbd2?_0x4b5acc(0x211):_0x4b5acc(0x282),document[_0x4b5acc(0x215)]('toastMessage')[_0x4b5acc(0x342)]=_0xcb50be,_0x4e3eeb['classList'][_0x4b5acc(0x2a6)](_0x4b5acc(0x34c)),setTimeout(()=>{const _0x12a9c9=_0x4b5acc;_0x4e3eeb[_0x12a9c9(0x2c8)][_0x12a9c9(0x366)](_0x12a9c9(0x34c));},0xbb8);}function a2_0xa000(){const _0x3e4e64=['<div\x20class=\x22dch-day\x22>','getAttribute','sheetTitle','[Notify]\x20Detected\x20Client\x20ID:','anCustomDates','show','doEventsList','numeric','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mergeServerData','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','push','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','.pib-text','option','day-column\x20','touchstart','getMonth','planned','min','warning','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','blocked-range-part\x20stripe-bg','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','settingCancelWindow','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','long','div','settings','mousemove','asBtnOne','remove','analyticsList','00:00','style','batch_sync','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','none','toast','catch','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','btn-status-toggle\x20undo-mode','text/plain;charset=UTF-8','rgba(48,\x20209,\x2088,\x200.15)','WebApp','mini','#050505','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','querySelector','1721336odhEOG','%\x20+\x202px)','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card',']\x20Failed:','time-label','error','sort','1166664zrrMBN','statLoadCard','null','as-button\x20danger','indexOf','inpSeriesCount','v9.0-BATCH-CALENDAR','toUpperCase','dayOptionsSheet','rangesList','left','className','daysHeaderTrack',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','findIndex','height','–£—Å–ø–µ—à–Ω–æ','warn','completed','value','getElementById','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','msg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','Error\x20setting\x20color:','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','recurringOptionContainer','splice','onclick','calc(','inpStart','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','toast-notification\x20','dateStr','5833098FYtWRB','stringify','[Notify]\x20Server\x20Response:','mouseup','ranges','saveLocally','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','10px','23:59','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','formatDate','uc_clients_v9','#0a84ff','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','stopPropagation','scroll','[Notify]\x20Client\x20SWAP\x20detected','Unknown','dayOptionsTitle',':00','setBackgroundColor','pe-time-label','undefined','month','cancel','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','create','px\x200px','getHours','inpDate','setAttribute','borderLeftColor','innerHTML','log','getMinutes','colIndex','week','</b>\x0a\x0a','onClick','pe-corner','inpRecurring','round','guest','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','scrollWidth','backgroundColor','var(--acc-current)','toString','rangeEndTime','borderRadius','router.html','vibrate','inpEnd','now','single','scrollTop','8OVSffi','initData','offsetLeft','color','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','setItem','user','matrixViewport','data','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','search','parse','anEnd','getBoundingClientRect','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','inpClient','insertBefore','offsetWidth','getDay','map','[Notify]\x20Network\x20Failed','pe-col-header','appendChild','actionSheet','total','.period-switch\x20.p-btn','open','anStart','off','[Settings]\x20Cancel\x20window\x20set\x20to:','getText','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','139404IRGAUo','length','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','de-item','touchmove','–ò–Ω—Ñ–æ','from','backgroundPosition','doWorkHours','filter','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','checked','success',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','\x20‚Äî\x20','syncLoad','btnDelete','px\x20-','save_settings','header-','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','</div><div\x20class=\x22ev-time\x22>','sid','createElement','deleted','clientY','cancel_window','anDonutCircle','rangesSheet','552896ubBrYI','sessionSheet','keys','anTotalStats','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','range-item','calendar','scrollLeft','Local\x20Save\x20Error','.sheet','\x20status-completed','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','add','DOMContentLoaded','seriesCountContainer','clientWidth','strokeDashoffset','</span>\x20/\x20','<span>','find','clientId','(((.+)+)+)+$','rgba(255,\x2069,\x2058,\x200.15)','complete','setHours','Error\x20setting\x20back\x20button:','touchend','btn-status-toggle','stat-','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','exceptions','day-off-overlay\x20stripe-bg','rgba(100,100,100,0.5)','sheetDateSubtitle','valid','name','getTime','var(--acc-green)','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','btnDayToggle','\x20days','client','POST','flex','gridColumns','.day-column','classList','end','doDateHeader','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','querySelectorAll','start','firstChild','var(--acc-red)','getItem','max','rgba(255,255,255,0.05)','252930cnQVxn','delete','</div><div\x20class=\x22dch-num\x22>','syncBatch','1011655sbfHoW','[Sync]\x20Loading\x20','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','series','getFullYear','padStart','toLocaleDateString','uc_settings_cancel_window','rangeStartTime','today','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','floor','block','#fff','save','init_load','rgba(255,\x20159,\x2010,\x200.3)','charAt','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','pattern','setHeaderColor','data-date','isArray','loadLocal','createDocumentFragment','borderColor','–£–¥–∞–ª–µ–Ω–∏–µ','substr','data-day-idx','forEach','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','...','Batch\x20Sync\x20OK','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','send_notification','doLoadPercent','active','.day-off-overlay','\x20-\x20','overlay','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','then','rangeStartDate','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','getDate','timeLineBadge','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','patternEditor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','constructor','note','toLocaleString','Local\x20Load\x20Error','seriesId','uc_sessions_v9','headerMonth','background','client-stat-card','\x20–∏–∑\x20','Telegram','btnStatusToggle','addEventListener','setMonth','cancelled','pe-cell\x20','settingsSheet','<b>‚úÖ\x20','ru-RU','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','actionSheetOverlay','location','initDataUnsafe','inpNote','BackButton','fetchFromServer','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','.day-col-header','startsWith','top','includes','rgba(','patternInfoBox','day-col-header\x20','entries','all','Critical\x20TMA\x20Error:','display','btn-primary\x20btn-danger','10px\x2010px\x200\x200','</div>','setDate','clients','done','text','slice','status','<div\x20class=\x22ev-title\x22>','peGrid','touches','globalTimeLine','Server\x20Error','split','update','7RjnLsl','textContent','send',':00</span>','width','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤'];a2_0xa000=function(){return _0x3e4e64;};return a2_0xa000();}function openDayOptions(_0x290a43,_0x4a884e){const _0x5194fd=a2_0x3e002f;selectedDayForOptions=_0x290a43,document[_0x5194fd(0x215)](_0x5194fd(0x237))['textContent']=_0x4a884e,openSheet(_0x5194fd(0x209));}function toggleDayOff(){const _0x4e07b7=a2_0x3e002f;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x4e07b7(0x279),reRenderBlocks(),closeAllSheets(),DataManager[_0x4e07b7(0x229)](),DataManager[_0x4e07b7(0x324)](_0x4e07b7(0x28f),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x212ccf=a2_0x3e002f;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x212ccf(0x229)](),DataManager[_0x212ccf(0x324)](_0x212ccf(0x28f),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x4deef7){const _0x2594f0=a2_0x3e002f;document['getElementById'](_0x2594f0(0x300))['classList'][_0x2594f0(0x2a6)](_0x2594f0(0x2fd)),document[_0x2594f0(0x215)](_0x4deef7)[_0x2594f0(0x2c8)]['add'](_0x2594f0(0x277));}function closeAllSheets(){const _0x3e4cee=a2_0x3e002f;document[_0x3e4cee(0x215)](_0x3e4cee(0x300))[_0x3e4cee(0x2c8)][_0x3e4cee(0x366)]('active'),document[_0x3e4cee(0x2cc)](_0x3e4cee(0x2a3))[_0x3e4cee(0x2f5)](_0x3c6f98=>_0x3c6f98[_0x3e4cee(0x2c8)][_0x3e4cee(0x366)](_0x3e4cee(0x277)));}function openPatternEditor(){const _0x2351ff=a2_0x3e002f;closeAllSheets(),document[_0x2351ff(0x215)]('patternEditor')['classList'][_0x2351ff(0x2a6)](_0x2351ff(0x277)),renderPatternEditor();}function closePatternEditor(){const _0x3ea000=a2_0x3e002f;document[_0x3ea000(0x215)](_0x3ea000(0x309))[_0x3ea000(0x2c8)]['remove'](_0x3ea000(0x277));}function savePattern(){const _0x46fb53=a2_0x3e002f;document['getElementById'](_0x46fb53(0x309))[_0x46fb53(0x2c8)][_0x46fb53(0x366)]('open'),reRenderBlocks(),DataManager[_0x46fb53(0x229)](),DataManager['fetchFromServer'](_0x46fb53(0x28f),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x3b573a=a2_0x3e002f,_0x4b8bc3=document[_0x3b573a(0x215)](_0x3b573a(0x33b));_0x4b8bc3[_0x3b573a(0x245)]='';const _0x3e8f4b=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x574a1a=document[_0x3b573a(0x294)](_0x3b573a(0x362));_0x574a1a['className']=_0x3b573a(0x24c),_0x4b8bc3['appendChild'](_0x574a1a),_0x3e8f4b['forEach']((_0x574c20,_0x4ed3c6)=>{const _0x3a69b8=_0x3b573a,_0x4e3899=document[_0x3a69b8(0x294)](_0x3a69b8(0x362));_0x4e3899[_0x3a69b8(0x20c)]=_0x3a69b8(0x272),_0x4e3899[_0x3a69b8(0x245)]=_0x574c20+_0x3a69b8(0x22a),_0x4e3899['onclick']=()=>toggleColPattern(_0x4ed3c6),_0x4b8bc3[_0x3a69b8(0x273)](_0x4e3899);});for(let _0x4b5fb8=0x0;_0x4b5fb8<0x18;_0x4b5fb8++){const _0x29cc67=document['createElement'](_0x3b573a(0x362));_0x29cc67[_0x3b573a(0x20c)]=_0x3b573a(0x23a),_0x29cc67['innerHTML']='<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>'+String(_0x4b5fb8)['padStart'](0x2,'0')+_0x3b573a(0x238),_0x29cc67[_0x3b573a(0x21e)]=()=>toggleRowPattern(_0x4b5fb8),_0x4b8bc3['appendChild'](_0x29cc67);for(let _0x1c880f=0x0;_0x1c880f<0x7;_0x1c880f++){const _0x47951f=document[_0x3b573a(0x294)](_0x3b573a(0x362)),_0x3b9fff=(availabilityPattern[_0x1c880f]||[])[_0x3b573a(0x329)](_0x4b5fb8),_0x123ec1=!_0x3b9fff;_0x47951f[_0x3b573a(0x20c)]=_0x3b573a(0x31a)+(_0x123ec1?'active':''),_0x47951f['onclick']=()=>toggleSinglePattern(_0x1c880f,_0x4b5fb8),_0x4b8bc3[_0x3b573a(0x273)](_0x47951f);}}}function toggleSinglePattern(_0x23f3db,_0x2d84e8){const _0x31409e=a2_0x3e002f;if(!availabilityPattern[_0x23f3db])availabilityPattern[_0x23f3db]=[];const _0x27e211=availabilityPattern[_0x23f3db],_0x4a75d5=_0x27e211[_0x31409e(0x205)](_0x2d84e8);_0x4a75d5===-0x1?_0x27e211['push'](_0x2d84e8):_0x27e211[_0x31409e(0x21d)](_0x4a75d5,0x1),renderPatternEditor();}function toggleColPattern(_0x2e399b){const _0x3acdf6=a2_0x3e002f;if(!availabilityPattern[_0x2e399b])availabilityPattern[_0x2e399b]=[];const _0x2c3993=availabilityPattern[_0x2e399b];_0x2c3993[_0x3acdf6(0x27e)]===0x0?availabilityPattern[_0x2e399b]=Array['from']({'length':0x18},(_0x5ebbc2,_0x5a9364)=>_0x5a9364):availabilityPattern[_0x2e399b]=[],renderPatternEditor();}function toggleRowPattern(_0x307e84){const _0x35af16=a2_0x3e002f;let _0x72fa1e=!![];for(let _0xd869b6=0x0;_0xd869b6<0x7;_0xd869b6++){if((availabilityPattern[_0xd869b6]||[])[_0x35af16(0x329)](_0x307e84)){_0x72fa1e=![];break;}}for(let _0x4e7d59=0x0;_0x4e7d59<0x7;_0x4e7d59++){if(!availabilityPattern[_0x4e7d59])availabilityPattern[_0x4e7d59]=[];const _0xdef209=availabilityPattern[_0x4e7d59][_0x35af16(0x205)](_0x307e84);if(_0x72fa1e){if(_0xdef209===-0x1)availabilityPattern[_0x4e7d59][_0x35af16(0x352)](_0x307e84);}else{if(_0xdef209!==-0x1)availabilityPattern[_0x4e7d59][_0x35af16(0x21d)](_0xdef209,0x1);}}renderPatternEditor();}function renderPCol(_0x8201db,_0x1294f1){const _0x4bd9f7=a2_0x3e002f;_0x8201db[_0x4bd9f7(0x245)]='';const _0x2fdc11=Math[_0x4bd9f7(0x24e)](_0x8201db['offsetLeft']);(availabilityPattern[_0x1294f1]||[])[_0x4bd9f7(0x2f5)](_0x130645=>{const _0x723817=_0x4bd9f7,_0x3e8154=document[_0x723817(0x294)](_0x723817(0x362));_0x3e8154['className']='blocked-slot\x20stripe-bg';const _0x4b65c8=_0x130645*GRID_H;_0x3e8154[_0x723817(0x369)][_0x723817(0x328)]=_0x4b65c8+'px',_0x3e8154[_0x723817(0x369)][_0x723817(0x284)]='-'+_0x2fdc11+_0x723817(0x28e)+_0x4b65c8+'px',_0x3e8154[_0x723817(0x21e)]=_0x9953f0=>{_0x9953f0['stopPropagation'](),toggleSinglePattern(_0x1294f1,_0x130645);},_0x8201db[_0x723817(0x273)](_0x3e8154);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x238d19=a2_0x3e002f,_0x35972b=new Date(),_0x45736b=document[_0x238d19(0x215)](_0x238d19(0x33d)),_0x161554=document[_0x238d19(0x215)]('timeLineBadge'),_0x335529=(_0x35972b[_0x238d19(0x241)]()*0x3c+_0x35972b['getMinutes']())/0x3c*GRID_H;_0x45736b[_0x238d19(0x369)][_0x238d19(0x328)]=_0x335529+'px',_0x45736b[_0x238d19(0x369)][_0x238d19(0x330)]=_0x238d19(0x2e4),_0x161554[_0x238d19(0x342)]=String(_0x35972b['getHours']())[_0x238d19(0x2dd)](0x2,'0')+':'+String(_0x35972b[_0x238d19(0x247)]())[_0x238d19(0x2dd)](0x2,'0'),_0x161554[_0x238d19(0x369)][_0x238d19(0x330)]=_0x238d19(0x2e4),_0x161554[_0x238d19(0x369)][_0x238d19(0x328)]=_0x335529+'px';}document[a2_0x3e002f(0x317)](a2_0x3e002f(0x2a7),init);function openDayOptions(_0x506020){const _0x1ece71=a2_0x3e002f;selectedDayForOptions=_0x506020;const _0x329bf0=new Date(_0x506020),_0x5f0fed={'weekday':_0x1ece71(0x361),'day':_0x1ece71(0x34e),'month':'long','year':'numeric'},_0x2ef1ad=_0x329bf0['toLocaleDateString'](_0x1ece71(0x31d),_0x5f0fed);document[_0x1ece71(0x215)](_0x1ece71(0x2ca))[_0x1ece71(0x342)]=_0x2ef1ad[_0x1ece71(0x2e9)](0x0)[_0x1ece71(0x208)]()+_0x2ef1ad['slice'](0x1);let _0x555b49=_0x329bf0['getDay']()-0x1;if(_0x555b49===-0x1)_0x555b49=0x6;const _0x10596e=availabilityPattern[_0x555b49]||[],_0x352396=0x18-_0x10596e[_0x1ece71(0x27e)],_0xfda316=_0x352396*0x3c,_0x4c28f7=sessions[_0x1ece71(0x286)](_0x44fbf0=>_0x44fbf0[_0x1ece71(0x223)]===_0x506020&&_0x44fbf0['status']!=='cancelled');let _0xd90529=_0x4c28f7[_0x1ece71(0x270)](_0x5b4482=>{const _0x31b7cd=_0x1ece71,[_0x5effb9,_0x2024bd]=_0x5b4482['start'][_0x31b7cd(0x33f)](':')['map'](Number),[_0x108700,_0x970fb6]=_0x5b4482['end'][_0x31b7cd(0x33f)](':')[_0x31b7cd(0x270)](Number);return[_0x5effb9*0x3c+_0x2024bd,_0x108700*0x3c+_0x970fb6];});_0xd90529[_0x1ece71(0x200)]((_0x178777,_0x627d70)=>_0x178777[0x0]-_0x627d70[0x0]);let _0x42cf61=[];if(_0xd90529['length']>0x0){let _0x1e0153=_0xd90529[0x0];for(let _0x2016ff=0x1;_0x2016ff<_0xd90529[_0x1ece71(0x27e)];_0x2016ff++){_0xd90529[_0x2016ff][0x0]<_0x1e0153[0x1]?_0x1e0153[0x1]=Math[_0x1ece71(0x2d1)](_0x1e0153[0x1],_0xd90529[_0x2016ff][0x1]):(_0x42cf61[_0x1ece71(0x352)](_0x1e0153),_0x1e0153=_0xd90529[_0x2016ff]);}_0x42cf61['push'](_0x1e0153);}let _0x254f3b=0x0;_0x42cf61[_0x1ece71(0x2f5)](_0x21e8b0=>_0x254f3b+=_0x21e8b0[0x1]-_0x21e8b0[0x0]),document[_0x1ece71(0x215)](_0x1ece71(0x285))[_0x1ece71(0x342)]=formatMinsToHrs(_0xfda316),document['getElementById']('doBusyHours')[_0x1ece71(0x342)]=formatMinsToHrs(_0x254f3b);const _0x13941a=_0xfda316>0x0?Math[_0x1ece71(0x24e)](_0x254f3b/_0xfda316*0x64):0x0,_0x54af86=document[_0x1ece71(0x215)](_0x1ece71(0x2fc));_0x54af86[_0x1ece71(0x342)]=_0x13941a+'%';const _0x457819=document['getElementById'](_0x1ece71(0x202));if(_0x13941a>0x64)_0x54af86[_0x1ece71(0x369)][_0x1ece71(0x260)]=_0x1ece71(0x2cf),_0x457819[_0x1ece71(0x369)][_0x1ece71(0x2f1)]='rgba(255,\x2069,\x2058,\x200.3)';else _0x13941a>0x50?(_0x54af86[_0x1ece71(0x369)][_0x1ece71(0x260)]='var(--acc-orange)',_0x457819['style'][_0x1ece71(0x2f1)]=_0x1ece71(0x2e8)):(_0x54af86[_0x1ece71(0x369)]['color']=_0x1ece71(0x2bf),_0x457819[_0x1ece71(0x369)]['borderColor']=_0x1ece71(0x2d2));const _0xf299fa=document['getElementById'](_0x1ece71(0x34d));_0xf299fa[_0x1ece71(0x245)]='';_0x4c28f7[_0x1ece71(0x27e)]===0x0?_0xf299fa[_0x1ece71(0x245)]=_0x1ece71(0x2f6):(_0x4c28f7[_0x1ece71(0x200)]((_0x5747f1,_0x31ef95)=>_0x5747f1[_0x1ece71(0x2cd)]['localeCompare'](_0x31ef95['start'])),_0x4c28f7[_0x1ece71(0x2f5)](_0x53beb8=>{const _0x66e327=_0x1ece71,_0x2b95b7=clients['find'](_0x4d36f8=>_0x4d36f8[_0x66e327(0x2bd)]===_0x53beb8['client']),_0x54ef5d=_0x2b95b7?_0x2b95b7[_0x66e327(0x260)]:_0x66e327(0x2e5),_0x27eb35=_0x53beb8[_0x66e327(0x339)]===_0x66e327(0x213),_0x1133e2=_0x27eb35?_0x66e327(0x31e):'',_0x3f30cb=document[_0x66e327(0x294)](_0x66e327(0x362));_0x3f30cb[_0x66e327(0x20c)]=_0x66e327(0x280),_0x3f30cb['style']['borderLeftColor']=_0x54ef5d,_0x3f30cb[_0x66e327(0x245)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>'+_0x53beb8[_0x66e327(0x2cd)]+_0x66e327(0x2ff)+_0x53beb8['end']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x53beb8[_0x66e327(0x2c3)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1133e2+_0x66e327(0x34f),_0xf299fa[_0x66e327(0x273)](_0x3f30cb);}));const _0x314838=document[_0x1ece71(0x215)](_0x1ece71(0x2c1)),_0x33c767=dateExceptions[_0x506020]===_0x1ece71(0x279);_0x33c767?(_0x314838['textContent']=_0x1ece71(0x26b),_0x314838[_0x1ece71(0x20c)]='btn-primary\x20btn-secondary',_0x314838['style'][_0x1ece71(0x260)]=_0x1ece71(0x2bf),_0x314838[_0x1ece71(0x369)][_0x1ece71(0x312)]=_0x1ece71(0x1f4)):(_0x314838[_0x1ece71(0x342)]=_0x1ece71(0x2ea),_0x314838['className']=_0x1ece71(0x331),_0x314838['style'][_0x1ece71(0x260)]=_0x1ece71(0x2cf),_0x314838[_0x1ece71(0x369)][_0x1ece71(0x312)]=_0x1ece71(0x2b0)),openSheet('dayOptionsSheet');}let currentAnPeriod=a2_0x3e002f(0x249);function openAnalytics(){const _0x391702=a2_0x3e002f,_0x43c30b=document[_0x391702(0x1f9)](_0x391702(0x276));setAnalyticsPeriod(_0x391702(0x249),_0x43c30b),closeAllSheets(),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x2c011e,_0xa024af){const _0x2e3baf=a2_0x3e002f;currentAnPeriod=_0x2c011e,document[_0x2e3baf(0x2cc)](_0x2e3baf(0x276))[_0x2e3baf(0x2f5)](_0x343bc8=>_0x343bc8[_0x2e3baf(0x2c8)][_0x2e3baf(0x366)]('active'));if(_0xa024af)_0xa024af[_0x2e3baf(0x2c8)][_0x2e3baf(0x2a6)](_0x2e3baf(0x2fd));const _0x2c6769=document['getElementById'](_0x2e3baf(0x34b));_0x2c6769[_0x2e3baf(0x369)]['display']=_0x2c011e==='custom'?_0x2e3baf(0x2c5):_0x2e3baf(0x36c);const _0x4de383=new Date();let _0x2b84c1=new Date(),_0x4f4e4a=new Date();if(_0x2c011e===_0x2e3baf(0x249))_0x2b84c1=getStartOfWeek(_0x4de383),_0x4f4e4a=new Date(_0x2b84c1),_0x4f4e4a[_0x2e3baf(0x334)](_0x4f4e4a[_0x2e3baf(0x306)]()+0x6);else{if(_0x2c011e===_0x2e3baf(0x23c))_0x2b84c1=new Date(_0x4de383['getFullYear'](),_0x4de383[_0x2e3baf(0x358)](),0x1),_0x4f4e4a=new Date(_0x4de383[_0x2e3baf(0x2dc)](),_0x4de383[_0x2e3baf(0x358)]()+0x1,0x0);else{!document[_0x2e3baf(0x215)](_0x2e3baf(0x278))['value']&&(document[_0x2e3baf(0x215)]('anStart')['value']=getLocalDateStr(_0x4de383),document[_0x2e3baf(0x215)]('anEnd')['value']=getLocalDateStr(_0x4de383));refreshAnalytics();return;}}document[_0x2e3baf(0x215)](_0x2e3baf(0x278))['value']=getLocalDateStr(_0x2b84c1),document[_0x2e3baf(0x215)](_0x2e3baf(0x269))[_0x2e3baf(0x214)]=getLocalDateStr(_0x4f4e4a),refreshAnalytics();}function refreshAnalytics(){const _0x78a970=a2_0x3e002f,_0x4d0e4f=document[_0x78a970(0x215)](_0x78a970(0x278))[_0x78a970(0x214)],_0x33259d=document['getElementById'](_0x78a970(0x269))[_0x78a970(0x214)];if(!_0x4d0e4f||!_0x33259d)return;const _0x5d42a6=sessions['filter'](_0x2a455b=>_0x2a455b[_0x78a970(0x223)]>=_0x4d0e4f&&_0x2a455b[_0x78a970(0x223)]<=_0x33259d&&_0x2a455b['status']!==_0x78a970(0x319)),_0x542aad=_0x5d42a6[_0x78a970(0x27e)],_0x122d99=_0x5d42a6[_0x78a970(0x286)](_0x39931d=>_0x39931d[_0x78a970(0x339)]===_0x78a970(0x213))[_0x78a970(0x27e)],_0x47683a=_0x542aad>0x0?Math['round'](_0x122d99/_0x542aad*0x64):0x0;document[_0x78a970(0x215)]('anPercent')['textContent']=_0x47683a+'%',document[_0x78a970(0x215)](_0x78a970(0x29d))[_0x78a970(0x342)]=_0x122d99+_0x78a970(0x314)+_0x542aad+'\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ';const _0x4d29c7=document['getElementById'](_0x78a970(0x298)),_0x3d2540=0x2*Math['PI']*0x23,_0x54c8af=_0x3d2540-_0x47683a/0x64*_0x3d2540;_0x4d29c7[_0x78a970(0x369)][_0x78a970(0x2aa)]=_0x54c8af;const _0x440e0c={};_0x5d42a6[_0x78a970(0x2f5)](_0x5048ff=>{const _0x5c98e2=_0x78a970;if(!_0x440e0c[_0x5048ff[_0x5c98e2(0x2c3)]]){const _0x2043fc=clients[_0x5c98e2(0x2ad)](_0xab83f=>_0xab83f['name']===_0x5048ff['client']);_0x440e0c[_0x5048ff[_0x5c98e2(0x2c3)]]={'total':0x0,'done':0x0,'color':_0x2043fc?_0x2043fc[_0x5c98e2(0x260)]:_0x5c98e2(0x2e5)};}_0x440e0c[_0x5048ff['client']][_0x5c98e2(0x275)]++;if(_0x5048ff['status']===_0x5c98e2(0x213))_0x440e0c[_0x5048ff[_0x5c98e2(0x2c3)]][_0x5c98e2(0x336)]++;});const _0xc94e72=document[_0x78a970(0x215)](_0x78a970(0x367));_0xc94e72[_0x78a970(0x245)]='';const _0x3456ca=Object[_0x78a970(0x32d)](_0x440e0c)[_0x78a970(0x200)]((_0x3d5a01,_0x46bfc1)=>_0x46bfc1[0x1][_0x78a970(0x275)]-_0x3d5a01[0x1][_0x78a970(0x275)]);if(_0x3456ca[_0x78a970(0x27e)]===0x0){_0xc94e72[_0x78a970(0x245)]='<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>';return;}_0x3456ca[_0x78a970(0x2f5)](([_0x4a3f1a,_0x10fb6e])=>{const _0x2ff607=_0x78a970,_0x1ed330=Math[_0x2ff607(0x24e)](_0x10fb6e['done']/_0x10fb6e['total']*0x64),_0xea6189=document[_0x2ff607(0x294)](_0x2ff607(0x362));_0xea6189[_0x2ff607(0x20c)]=_0x2ff607(0x313),_0xea6189[_0x2ff607(0x369)][_0x2ff607(0x244)]=_0x10fb6e[_0x2ff607(0x260)],_0xea6189[_0x2ff607(0x245)]=_0x2ff607(0x30a)+_0x4a3f1a+_0x2ff607(0x351)+_0x10fb6e[_0x2ff607(0x336)]+_0x2ff607(0x2ab)+_0x10fb6e[_0x2ff607(0x275)]+_0x2ff607(0x2e2)+_0x1ed330+_0x2ff607(0x35e),_0xc94e72[_0x2ff607(0x273)](_0xea6189);});}function formatMinsToHrs(_0x49f311){const _0x1e8b11=a2_0x3e002f;if(_0x49f311===0x0)return'0';const _0x3fb23b=Math[_0x1e8b11(0x2e3)](_0x49f311/0x3c),_0x481cbb=_0x49f311%0x3c;if(_0x481cbb===0x0)return _0x3fb23b+'—á';return _0x3fb23b+'—á\x20'+_0x481cbb+'–º';}