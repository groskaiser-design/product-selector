const a2_0x2b3013=a2_0x3a23;(function(_0x45d7d8,_0x186e78){const _0x1eae54=a2_0x3a23,_0xb0f8de=_0x45d7d8();while(!![]){try{const _0xa3d763=-parseInt(_0x1eae54(0x2a6))/0x1*(parseInt(_0x1eae54(0x270))/0x2)+-parseInt(_0x1eae54(0x1bc))/0x3*(-parseInt(_0x1eae54(0x251))/0x4)+parseInt(_0x1eae54(0x1b4))/0x5*(parseInt(_0x1eae54(0x25a))/0x6)+parseInt(_0x1eae54(0x17b))/0x7*(parseInt(_0x1eae54(0x277))/0x8)+parseInt(_0x1eae54(0x212))/0x9+parseInt(_0x1eae54(0x2a0))/0xa+-parseInt(_0x1eae54(0x254))/0xb*(parseInt(_0x1eae54(0x2a7))/0xc);if(_0xa3d763===_0x186e78)break;else _0xb0f8de['push'](_0xb0f8de['shift']());}catch(_0x29e0c5){_0xb0f8de['push'](_0xb0f8de['shift']());}}}(a2_0x1249,0x2c525),function initTMA(){const _0x462afe=a2_0x3a23,_0x32f7d8=(function(){let _0x2e2e9b=!![];return function(_0x46b64e,_0x3cf4f1){const _0xf72b2=_0x2e2e9b?function(){const _0x3473dd=a2_0x3a23;if(_0x3cf4f1){const _0x4aeaa3=_0x3cf4f1[_0x3473dd(0x2e1)](_0x46b64e,arguments);return _0x3cf4f1=null,_0x4aeaa3;}}:function(){};return _0x2e2e9b=![],_0xf72b2;};}()),_0x4534db=_0x32f7d8(this,function(){const _0xc94dd4=a2_0x3a23;return _0x4534db['toString']()['search'](_0xc94dd4(0x1cf))[_0xc94dd4(0x297)]()[_0xc94dd4(0x26b)](_0x4534db)['search']('(((.+)+)+)+$');});_0x4534db();try{const _0x395e7d=window[_0x462afe(0x2cd)]?.[_0x462afe(0x1f5)];if(!_0x395e7d)return;_0x395e7d[_0x462afe(0x235)](),_0x395e7d[_0x462afe(0x2d3)]();try{_0x395e7d[_0x462afe(0x1f2)](_0x462afe(0x19b)),_0x395e7d[_0x462afe(0x218)]&&_0x395e7d[_0x462afe(0x218)](_0x462afe(0x19b));}catch(_0x3d7184){console[_0x462afe(0x2c4)](_0x462afe(0x2ab),_0x3d7184);}try{_0x395e7d[_0x462afe(0x2da)]&&(_0x395e7d[_0x462afe(0x2da)][_0x462afe(0x263)](),_0x395e7d['BackButton'][_0x462afe(0x1f0)](),_0x395e7d[_0x462afe(0x2da)]['onClick'](function(){const _0x388d2a=_0x462afe;window[_0x388d2a(0x179)][_0x388d2a(0x2d8)]=_0x388d2a(0x1f3);}));}catch(_0x3ae605){console[_0x462afe(0x2c4)](_0x462afe(0x2c0),_0x3ae605);}try{if(_0x395e7d[_0x462afe(0x1c7)])_0x395e7d[_0x462afe(0x1c7)]();}catch(_0x312283){}}catch(_0x2fe8fe){console[_0x462afe(0x28a)]('Critical\x20TMA\x20Error:',_0x2fe8fe);}}());function isAdmin(){const _0x1106ca=a2_0x3a23;try{const _0x530855=Number(window[_0x1106ca(0x2cd)]?.['WebApp']?.['initDataUnsafe']?.[_0x1106ca(0x2c6)]?.['id']);return _0x530855===0xbaf7174;}catch(_0x4d2e71){return![];}}const APP_VERSION=a2_0x2b3013(0x195),API_URL=a2_0x2b3013(0x1bd),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x2b3013(0x282),KEY_SESSIONS=a2_0x2b3013(0x2ea),KEY_SETTINGS=a2_0x2b3013(0x182);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x18164b=a2_0x2b3013;return window[_0x18164b(0x2cd)]?.[_0x18164b(0x1f5)]?.['initDataUnsafe']?.['user']?.['id']||_0x18164b(0x239);},'saveLocally'(){const _0xa15f2b=a2_0x2b3013;try{localStorage['setItem'](KEY_CLIENTS,JSON[_0xa15f2b(0x1cb)](clients)),localStorage['setItem'](KEY_SESSIONS,JSON['stringify'](sessions)),localStorage[_0xa15f2b(0x181)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x399c0b){console[_0xa15f2b(0x28a)](_0xa15f2b(0x1d8),_0x399c0b);}},'loadLocal'(){const _0x181e46=a2_0x2b3013;try{const _0x227d44=localStorage['getItem'](KEY_CLIENTS);if(_0x227d44)clients=JSON['parse'](_0x227d44);const _0x191f73=localStorage[_0x181e46(0x199)](KEY_SESSIONS);if(_0x191f73)sessions=JSON['parse'](_0x191f73);const _0x34ee7d=localStorage[_0x181e46(0x199)](KEY_SETTINGS);if(_0x34ee7d){const _0x522f86=JSON[_0x181e46(0x2e8)](_0x34ee7d);if(_0x522f86[_0x181e46(0x214)])availabilityPattern=_0x522f86['pattern'];if(_0x522f86[_0x181e46(0x185)])dateExceptions=_0x522f86[_0x181e46(0x185)];if(_0x522f86[_0x181e46(0x178)])specialRanges=_0x522f86[_0x181e46(0x178)];}else{for(let _0x418fb8=0x0;_0x418fb8<0x7;_0x418fb8++)availabilityPattern[_0x418fb8]=Array['from']({'length':0xc},(_0x51cf4f,_0x14c853)=>_0x14c853+0x9);}}catch(_0x2ed60b){console[_0x181e46(0x28a)]('Local\x20Load\x20Error',_0x2ed60b);}},async 'fetchFromServer'(_0x39ca37,_0x248b84={}){const _0x5a18f1=a2_0x2b3013,_0xcffa53=window[_0x5a18f1(0x2cd)]?.[_0x5a18f1(0x1f5)],_0x42a2e0={'action':_0x39ca37,'init_data':_0xcffa53?.[_0x5a18f1(0x27a)]||'',..._0x248b84};try{const _0x3918a1=await fetch(API_URL,{'method':_0x5a18f1(0x215),'headers':{'Content-Type':_0x5a18f1(0x275)},'body':JSON['stringify'](_0x42a2e0)}),_0x124bb4=await _0x3918a1[_0x5a18f1(0x184)]();if(!_0x124bb4['ok'])throw new Error(_0x124bb4[_0x5a18f1(0x28a)]||_0x5a18f1(0x1fd));return _0x124bb4[_0x5a18f1(0x17d)];}catch(_0x276f37){console[_0x5a18f1(0x28a)]('[API\x20'+_0x39ca37+']\x20Failed:',_0x276f37);throw _0x276f37;}},async 'syncLoad'(){const _0x280a5f=a2_0x2b3013,_0x20bf96=new Date(),_0x514c9b=_0x20bf96['getFullYear']()+'-'+String(_0x20bf96[_0x280a5f(0x16b)]()+0x1)['padStart'](0x2,'0'),_0x35d3f9=new Date(_0x20bf96);_0x35d3f9[_0x280a5f(0x261)](_0x20bf96['getMonth']()+0x1);const _0x5943f9=_0x35d3f9['getFullYear']()+'-'+String(_0x35d3f9[_0x280a5f(0x16b)]()+0x1)[_0x280a5f(0x19d)](0x2,'0'),_0x28c87f=Date['now']();console['log'](_0x280a5f(0x18d)+_0x514c9b+',\x20'+_0x5943f9+_0x280a5f(0x2c7));try{const [_0x5631ce,_0x5ec67b]=await Promise[_0x280a5f(0x2ed)]([this[_0x280a5f(0x16c)](_0x280a5f(0x1c6),{'month_str':_0x514c9b}),this[_0x280a5f(0x16c)]('init_load',{'month_str':_0x5943f9})]);if(lastUserActionTime>_0x28c87f)return console['warn'](_0x280a5f(0x1a8)),![];return this[_0x280a5f(0x237)](_0x5631ce,_0x514c9b),this[_0x280a5f(0x237)](_0x5ec67b,_0x5943f9),this[_0x280a5f(0x1eb)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x4f27f9){console['error'](_0x4f27f9);throw _0x4f27f9;}},'mergeServerData'(_0x213c68,_0xd78462){const _0x44ea64=a2_0x2b3013;if(!_0x213c68)return;_0x213c68[_0x44ea64(0x1a2)]&&Array[_0x44ea64(0x1dc)](_0x213c68[_0x44ea64(0x1a2)])&&(clients=_0x213c68[_0x44ea64(0x1a2)]);if(_0x213c68[_0x44ea64(0x2a5)]){if(_0x213c68[_0x44ea64(0x2a5)][_0x44ea64(0x214)])availabilityPattern=_0x213c68['settings'][_0x44ea64(0x214)];if(_0x213c68['settings']['exceptions'])dateExceptions=_0x213c68[_0x44ea64(0x2a5)]['exceptions'];if(_0x213c68['settings'][_0x44ea64(0x178)])specialRanges=_0x213c68[_0x44ea64(0x2a5)][_0x44ea64(0x178)];if(_0x213c68[_0x44ea64(0x2a5)][_0x44ea64(0x21a)]){localStorage['setItem']('uc_settings_cancel_window',_0x213c68[_0x44ea64(0x2a5)]['cancel_window']);const _0xdd8c1e=document[_0x44ea64(0x28f)](_0x44ea64(0x2e4));if(_0xdd8c1e)_0xdd8c1e[_0x44ea64(0x1ff)]=_0x213c68[_0x44ea64(0x2a5)]['cancel_window'];}}_0x213c68[_0x44ea64(0x22f)]&&(sessions=sessions[_0x44ea64(0x21d)](_0x59eb9e=>!_0x59eb9e['dateStr'][_0x44ea64(0x1a6)](_0xd78462)),Object[_0x44ea64(0x249)](_0x213c68[_0x44ea64(0x22f)])[_0x44ea64(0x1b7)](_0x1d7ca3=>{const _0x4f1b50=_0x44ea64,_0xd097b0=_0x213c68[_0x4f1b50(0x22f)][_0x1d7ca3];_0xd097b0['forEach'](_0x9ea7d8=>{const _0x1735d2=_0x4f1b50,_0x75b0a9=clients[_0x1735d2(0x2ee)](_0x62099f=>String(_0x62099f['id'])===String(_0x9ea7d8['c']));sessions['push']({'id':_0x9ea7d8['i'],'clientId':_0x9ea7d8['c'],'client':_0x75b0a9?_0x75b0a9[_0x1735d2(0x26f)]:_0x1735d2(0x1ce),'dateStr':_0xd78462+'-'+_0x1d7ca3['padStart'](0x2,'0'),'start':_0x9ea7d8['s'],'end':_0x9ea7d8['e'],'status':_0x9ea7d8['st']||_0x1735d2(0x241),'note':_0x9ea7d8['n']||'','seriesId':_0x9ea7d8['sid']||null});});}));},async 'syncBatch'(_0x4f8a09){const _0x413e7c=a2_0x2b3013,_0x2e88f4=[...new Set(_0x4f8a09)],_0x37977b=_0x2e88f4[_0x413e7c(0x262)](_0x424f8c=>{const _0x3444ca=_0x413e7c,_0x394b42=sessions[_0x3444ca(0x21d)](_0x5ea4de=>_0x5ea4de[_0x3444ca(0x172)]===_0x424f8c&&_0x5ea4de['status']!==_0x3444ca(0x2ce)),_0x455238=_0x394b42[_0x3444ca(0x262)](_0x49d367=>({'i':_0x49d367['id'],'c':_0x49d367[_0x3444ca(0x1b8)],'s':_0x49d367[_0x3444ca(0x1d0)],'e':_0x49d367[_0x3444ca(0x2b0)],'st':_0x49d367[_0x3444ca(0x24d)],'n':_0x49d367['note'],'sid':_0x49d367['seriesId']}));return{'date':_0x424f8c,'day_data':_0x455238};});if(_0x37977b[_0x413e7c(0x2f1)]===0x0)return;console[_0x413e7c(0x2c4)](_0x413e7c(0x27c)+_0x37977b[_0x413e7c(0x2f1)]+_0x413e7c(0x2c1)),await this[_0x413e7c(0x16c)]('batch_sync',{'changes':_0x37977b});}};async function init(){const _0x5edec2=a2_0x2b3013;DataManager['loadLocal'](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x5edec2(0x28f)](_0x5edec2(0x293))[_0x5edec2(0x200)](_0x5edec2(0x1f1),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x5edec2(0x216)]()['then'](()=>{const _0x466e41=_0x5edec2;showToast(_0x466e41(0x1de),!![]);})[_0x5edec2(0x298)](_0x43bf0b=>{showToast('–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º',![]);});}function generateId(){const _0x5b8773=a2_0x2b3013;return Date[_0x5b8773(0x268)]()[_0x5b8773(0x297)](0x24)+Math[_0x5b8773(0x16d)]()[_0x5b8773(0x297)](0x24)[_0x5b8773(0x2ec)](0x2,0x5);}function toggleSeriesInput(){const _0x43237d=a2_0x2b3013,_0x9dd63a=document[_0x43237d(0x28f)](_0x43237d(0x210))[_0x43237d(0x17c)],_0x42263c=document[_0x43237d(0x28f)]('seriesCountContainer');_0x42263c[_0x43237d(0x2d9)][_0x43237d(0x1e2)]=_0x9dd63a?'block':_0x43237d(0x280);const _0x37e127=document[_0x43237d(0x28f)](_0x43237d(0x23f));_0x37e127[_0x43237d(0x2d9)]['borderRadius']=_0x9dd63a?_0x43237d(0x1d4):_0x43237d(0x2e0);}function openAddSession(_0x3325c2){const _0x38149c=a2_0x2b3013;editingId=null,populateClientSelect(),document[_0x38149c(0x28f)](_0x38149c(0x176))[_0x38149c(0x20c)]=_0x38149c(0x1f8),document[_0x38149c(0x28f)]('btnDelete')[_0x38149c(0x2d9)][_0x38149c(0x1e2)]=_0x38149c(0x280),document[_0x38149c(0x28f)](_0x38149c(0x1d5))[_0x38149c(0x2d9)][_0x38149c(0x1e2)]=_0x38149c(0x280);const _0x3a35dc=document['getElementById'](_0x38149c(0x23f)),_0x4ad222=document['getElementById'](_0x38149c(0x2d6));_0x3a35dc['style'][_0x38149c(0x1e2)]=_0x38149c(0x2b4),_0x3a35dc[_0x38149c(0x2d9)][_0x38149c(0x2d1)]=_0x38149c(0x2e0),document[_0x38149c(0x28f)]('inpRecurring')[_0x38149c(0x17c)]=![],document['getElementById']('inpSeriesCount')['value']=0x4,_0x4ad222[_0x38149c(0x2d9)][_0x38149c(0x1e2)]=_0x38149c(0x280),document[_0x38149c(0x28f)](_0x38149c(0x2c3))[_0x38149c(0x1ff)]=getLocalDateStr(_0x3325c2),updateDateDisplay();const _0x163537=_0x3325c2[_0x38149c(0x1f4)]();document[_0x38149c(0x28f)](_0x38149c(0x1a3))['value']=String(_0x163537)[_0x38149c(0x19d)](0x2,'0')+_0x38149c(0x1b1),document[_0x38149c(0x28f)](_0x38149c(0x245))[_0x38149c(0x1ff)]=String(_0x163537+0x1)['padStart'](0x2,'0')+':00',openSheet(_0x38149c(0x27f));}function openEdit(_0x2814c9){const _0x48cae7=a2_0x2b3013;editingId=_0x2814c9['id'],populateClientSelect(),document[_0x48cae7(0x28f)](_0x48cae7(0x176))[_0x48cae7(0x20c)]=_0x48cae7(0x19c),document[_0x48cae7(0x28f)]('btnDelete')[_0x48cae7(0x2d9)][_0x48cae7(0x1e2)]=_0x48cae7(0x271);const _0x323009=document[_0x48cae7(0x28f)](_0x48cae7(0x1d5));_0x323009[_0x48cae7(0x2d9)][_0x48cae7(0x1e2)]=_0x48cae7(0x2b4);_0x2814c9[_0x48cae7(0x24d)]==='completed'?(_0x323009[_0x48cae7(0x23b)]=_0x48cae7(0x18b),_0x323009[_0x48cae7(0x19f)]=_0x48cae7(0x236)):(_0x323009['className']=_0x48cae7(0x191),_0x323009[_0x48cae7(0x19f)]=_0x48cae7(0x1cc));const _0x1d9c26=!!_0x2814c9[_0x48cae7(0x243)];document[_0x48cae7(0x28f)]('recurringOptionContainer')['style'][_0x48cae7(0x1e2)]=_0x48cae7(0x280),document[_0x48cae7(0x28f)](_0x48cae7(0x2d6))['style']['display']=_0x48cae7(0x280),_0x1d9c26?(document[_0x48cae7(0x28f)]('patternInfoBox')['style'][_0x48cae7(0x1e2)]=_0x48cae7(0x2b4),document[_0x48cae7(0x28f)](_0x48cae7(0x24c))[_0x48cae7(0x1ee)](_0x48cae7(0x25c))[_0x48cae7(0x20c)]=_0x48cae7(0x272)):document[_0x48cae7(0x28f)](_0x48cae7(0x24c))[_0x48cae7(0x2d9)][_0x48cae7(0x1e2)]=_0x48cae7(0x280),document[_0x48cae7(0x28f)]('inpClient')[_0x48cae7(0x1ff)]=_0x2814c9[_0x48cae7(0x229)],document['getElementById']('inpDate')[_0x48cae7(0x1ff)]=_0x2814c9['dateStr'],document[_0x48cae7(0x28f)](_0x48cae7(0x1a3))['value']=_0x2814c9['start'],document['getElementById']('inpEnd')[_0x48cae7(0x1ff)]=_0x2814c9[_0x48cae7(0x2b0)],document[_0x48cae7(0x28f)](_0x48cae7(0x2e3))['value']=_0x2814c9[_0x48cae7(0x267)]||'',updateDateDisplay(),openSheet(_0x48cae7(0x27f));}async function trySaveSession(){const _0x251e1b=a2_0x2b3013,_0xf13307=document[_0x251e1b(0x28f)](_0x251e1b(0x19a))['value'],_0x49fae9=document[_0x251e1b(0x28f)](_0x251e1b(0x2c3))[_0x251e1b(0x1ff)],_0x3c5ec8=document['getElementById'](_0x251e1b(0x1a3))[_0x251e1b(0x1ff)],_0x4fae1e=document[_0x251e1b(0x28f)](_0x251e1b(0x245))[_0x251e1b(0x1ff)],_0x2ab8ef=document[_0x251e1b(0x28f)](_0x251e1b(0x2e3))[_0x251e1b(0x1ff)],_0x136505=document['getElementById'](_0x251e1b(0x210))[_0x251e1b(0x17c)];let _0x344e90=0x4;if(_0x136505){const _0x13952e=parseInt(document['getElementById'](_0x251e1b(0x220))[_0x251e1b(0x1ff)]);if(!_0x13952e||_0x13952e<0x2){showToast('–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏',![]);return;}if(_0x13952e>0x64){showToast(_0x251e1b(0x2c8),![]);return;}_0x344e90=_0x13952e;}const _0x3022da=clients['find'](_0x32406d=>_0x32406d[_0x251e1b(0x26f)]===_0xf13307);if(!_0x3022da){showToast('–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞',![]);return;}const _0x37b39c=validateAppointment(_0x49fae9,_0x3c5ec8,_0x4fae1e,editingId,_0x3022da['id']);if(!_0x37b39c['valid']){showToast(_0x37b39c[_0x251e1b(0x1a9)],![]);return;}_0x37b39c[_0x251e1b(0x177)]&&showToast(_0x37b39c['warning'],![]);const _0x2e680f={'client':_0xf13307,'clientId':_0x3022da['id'],'start':_0x3c5ec8,'end':_0x4fae1e,'note':_0x2ab8ef,'status':_0x251e1b(0x241)},_0x437fde=editingId?sessions[_0x251e1b(0x2ee)](_0x5cce3a=>_0x5cce3a['id']===editingId):null;if(_0x437fde&&_0x437fde[_0x251e1b(0x243)]){tempSessionData={..._0x2e680f,'dateStr':_0x49fae9,'id':editingId,'seriesId':_0x437fde[_0x251e1b(0x243)]},openActionSheet(_0x251e1b(0x234));return;}let _0x5152c9=null;if(!editingId)_0x5152c9=_0x251e1b(0x274);else{if(_0x437fde){if(String(_0x437fde[_0x251e1b(0x1b8)])!==String(_0x3022da['id']))console[_0x251e1b(0x2c4)]('[Notify]\x20Client\x20SWAP\x20detected'),NotificationManager[_0x251e1b(0x269)](_0x251e1b(0x299),_0x437fde),_0x5152c9=_0x251e1b(0x274);else(_0x437fde['start']!==_0x3c5ec8||_0x437fde[_0x251e1b(0x2b0)]!==_0x4fae1e||_0x437fde[_0x251e1b(0x172)]!==_0x49fae9)&&(_0x5152c9=_0x251e1b(0x173));}}if(!editingId&&_0x136505){createBatchSeries(_0x2e680f,_0x49fae9,_0x344e90),NotificationManager[_0x251e1b(0x269)](_0x251e1b(0x274),{..._0x2e680f,'dateStr':_0x49fae9});return;}lastUserActionTime=Date[_0x251e1b(0x268)]();const _0x5e5f6b={..._0x2e680f,'dateStr':_0x49fae9,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x5e5f6b),_0x5152c9&&NotificationManager[_0x251e1b(0x269)](_0x5152c9,_0x5e5f6b);}function toggleSessionStatus(){const _0x1dfc2b=a2_0x2b3013;lastUserActionTime=Date[_0x1dfc2b(0x268)]();const _0x1d8f3b=sessions[_0x1dfc2b(0x2ee)](_0xcebc8d=>_0xcebc8d['id']===editingId);if(!_0x1d8f3b)return;const _0x42dca5=_0x1d8f3b[_0x1dfc2b(0x24d)]===_0x1dfc2b(0x244)?_0x1dfc2b(0x241):_0x1dfc2b(0x244);_0x1d8f3b[_0x1dfc2b(0x24d)]=_0x42dca5,saveSingleSession(_0x1d8f3b),_0x42dca5==='completed'&&NotificationManager['send'](_0x1dfc2b(0x211),_0x1d8f3b),showToast(_0x42dca5==='completed'?_0x1dfc2b(0x1e5):'–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω',!![]);}function validateAppointment(_0x541d7a,_0x5cb05d,_0x517ad8,_0x404f62,_0x301216){const _0x3d8627=a2_0x2b3013,[_0x3f4ed4,_0x14f5ce]=_0x5cb05d[_0x3d8627(0x250)](':')[_0x3d8627(0x262)](Number),[_0x309acb,_0x3d337d]=_0x517ad8['split'](':')[_0x3d8627(0x262)](Number),_0x2c7dca=_0x3f4ed4*0x3c+_0x14f5ce,_0x257086=_0x309acb*0x3c+_0x3d337d,_0x2810d4=String(_0x301216);let _0x4f2086=![],_0x5bcefd='';for(let _0x21b694 of sessions){if(_0x21b694[_0x3d8627(0x172)]!==_0x541d7a)continue;if(_0x21b694[_0x3d8627(0x24d)]===_0x3d8627(0x1ec))continue;if(_0x404f62&&String(_0x21b694['id'])===String(_0x404f62))continue;const [_0xde0231,_0x4a53ae]=_0x21b694[_0x3d8627(0x1d0)][_0x3d8627(0x250)](':')[_0x3d8627(0x262)](Number),[_0x827f8f,_0x5ebab1]=_0x21b694[_0x3d8627(0x2b0)][_0x3d8627(0x250)](':')[_0x3d8627(0x262)](Number),_0x2c9aeb=_0xde0231*0x3c+_0x4a53ae,_0x321f74=_0x827f8f*0x3c+_0x5ebab1;if(Math[_0x3d8627(0x197)](_0x2c7dca,_0x2c9aeb)<Math[_0x3d8627(0x248)](_0x257086,_0x321f74)){if(_0x21b694[_0x3d8627(0x1b8)]&&String(_0x21b694[_0x3d8627(0x1b8)])===_0x2810d4)return{'valid':![],'msg':_0x3d8627(0x29f)+_0x21b694[_0x3d8627(0x229)]+_0x3d8627(0x193)};_0x4f2086=!![],_0x5bcefd=_0x21b694[_0x3d8627(0x229)];}}if(_0x4f2086)return{'valid':!![],'warning':_0x3d8627(0x1b2)+_0x5bcefd};return{'valid':!![]};}function saveSingleSession(_0x371fb2){const _0x3d47fb=a2_0x2b3013;if(editingId){const _0x18256a=sessions[_0x3d47fb(0x23a)](_0x12cb18=>_0x12cb18['id']===editingId);if(_0x18256a!==-0x1)sessions[_0x18256a]=_0x371fb2;}else sessions[_0x3d47fb(0x228)](_0x371fb2);afterSaveAction([_0x371fb2[_0x3d47fb(0x172)]]);}function createBatchSeries(_0x46f606,_0x2dea67,_0x2627d0){const _0x402a67=a2_0x2b3013,_0x40f6cc=generateId(),_0x16e50a=[],_0x48f115=[];let _0x39341e=0x0,_0x15e804=new Date(_0x2dea67);for(let _0x410d7f=0x0;_0x410d7f<_0x2627d0;_0x410d7f++){const _0x556ee0=getLocalDateStr(_0x15e804),_0x50df97=validateAppointment(_0x556ee0,_0x46f606[_0x402a67(0x1d0)],_0x46f606[_0x402a67(0x2b0)],null,_0x46f606[_0x402a67(0x1b8)]);if(!_0x50df97[_0x402a67(0x190)])console[_0x402a67(0x2c4)](_0x402a67(0x1dd)+_0x556ee0+_0x402a67(0x2d2)),_0x39341e++;else{const _0x20193d={..._0x46f606,'id':generateId(),'dateStr':_0x556ee0,'seriesId':_0x40f6cc};_0x48f115['push'](_0x20193d),_0x16e50a['push'](_0x556ee0);}_0x15e804['setDate'](_0x15e804[_0x402a67(0x28b)]()+0x7);}if(_0x48f115['length']===0x0){showToast(_0x402a67(0x1f9),![]);return;}sessions['push'](..._0x48f115),lastUserActionTime=Date[_0x402a67(0x268)]();let _0x10bbb5=_0x402a67(0x2e2)+_0x48f115[_0x402a67(0x2f1)];_0x39341e>0x0&&(_0x10bbb5+=_0x402a67(0x288)+_0x39341e+')'),showToast(_0x10bbb5,!![]),afterSaveAction(_0x16e50a);}function updateSeriesBatch(_0x2d02c9,_0xec5325){const _0xcad950=a2_0x2b3013,_0x32fd4a=[],_0xf0c469=_0xec5325['seriesId'];if(_0x2d02c9===_0xcad950(0x1a1)){const _0x2ade97={..._0xec5325,'seriesId':null},_0x184c15=sessions['findIndex'](_0x29f2c7=>_0x29f2c7['id']===_0xec5325['id']);if(_0x184c15!==-0x1)sessions[_0x184c15]=_0x2ade97;_0x32fd4a[_0xcad950(0x228)](_0x2ade97['dateStr']);}else{if(_0x2d02c9==='series'){const _0x3e50b7=_0xec5325['dateStr'];sessions[_0xcad950(0x1b7)]((_0x3905ef,_0x21a03b)=>{const _0x556e42=_0xcad950;_0x3905ef['seriesId']===_0xf0c469&&_0x3905ef[_0x556e42(0x172)]>=_0x3e50b7&&(sessions[_0x21a03b]={...sessions[_0x21a03b],'start':_0xec5325[_0x556e42(0x1d0)],'end':_0xec5325['end'],'note':_0xec5325[_0x556e42(0x267)],'client':_0xec5325[_0x556e42(0x229)],'clientId':_0xec5325[_0x556e42(0x1b8)]},_0x32fd4a[_0x556e42(0x228)](_0x3905ef[_0x556e42(0x172)]));});}}afterSaveAction(_0x32fd4a);}function tryDeleteSession(){const _0x22da8b=a2_0x2b3013,_0x4680a1=sessions[_0x22da8b(0x2ee)](_0x16737f=>_0x16737f['id']===editingId);if(!_0x4680a1)return;_0x4680a1[_0x22da8b(0x243)]?openActionSheet(_0x22da8b(0x247)):commitDelete(_0x22da8b(0x1a1),_0x4680a1);}function commitDelete(_0x36be92,_0x39797c){const _0x121603=a2_0x2b3013;lastUserActionTime=Date['now'](),NotificationManager[_0x121603(0x269)](_0x121603(0x299),_0x39797c);const _0xd3f01e=[];if(_0x36be92===_0x121603(0x1a1))sessions=sessions[_0x121603(0x21d)](_0x72e11d=>_0x72e11d['id']!==_0x39797c['id']),_0xd3f01e['push'](_0x39797c[_0x121603(0x172)]);else{if(_0x36be92==='series'){const _0x1f6072=_0x39797c['dateStr'],_0x4191ff=_0x39797c[_0x121603(0x243)];sessions[_0x121603(0x1b7)](_0x461ca0=>{const _0x45e1d6=_0x121603;_0x461ca0[_0x45e1d6(0x243)]===_0x4191ff&&_0x461ca0[_0x45e1d6(0x172)]>=_0x1f6072&&_0xd3f01e['push'](_0x461ca0[_0x45e1d6(0x172)]);}),sessions=sessions[_0x121603(0x21d)](_0x2f2965=>!(_0x2f2965[_0x121603(0x243)]===_0x4191ff&&_0x2f2965['dateStr']>=_0x1f6072));}}afterSaveAction(_0xd3f01e);}function afterSaveAction(_0x125664){const _0x12d40a=a2_0x2b3013;DataManager['saveLocally'](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager['syncBatch'](_0x125664)['then'](()=>console[_0x12d40a(0x2c4)]('Batch\x20Sync\x20OK'))[_0x12d40a(0x298)](_0x50d586=>showToast(_0x12d40a(0x1a5),![]));}const NotificationManager={'formatDate'(_0x14f7d5){const _0x164756=a2_0x2b3013,_0x5254ae=new Date(_0x14f7d5),_0x4948c4={'weekday':_0x164756(0x252),'day':_0x164756(0x16e),'month':_0x164756(0x252)};let _0x46688e=_0x5254ae[_0x164756(0x287)](_0x164756(0x221),_0x4948c4);return _0x46688e['charAt'](0x0)[_0x164756(0x1c8)]()+_0x46688e[_0x164756(0x1cd)](0x1);},'getText'(_0x33274a,_0x44a317){const _0x336808=a2_0x2b3013,_0x480480=this[_0x336808(0x1bf)](_0x44a317[_0x336808(0x172)]);switch(_0x33274a){case'create':return _0x336808(0x2b8)+(_0x336808(0x2ac)+_0x480480+'\x0a')+(_0x336808(0x2c2)+_0x44a317['start']+_0x336808(0x253)+_0x44a317[_0x336808(0x2b0)]+'\x0a\x0a')+_0x336808(0x1e8);case _0x336808(0x173):return _0x336808(0x22b)+_0x336808(0x278)+('<b>‚úÖ\x20'+_0x44a317[_0x336808(0x1d0)]+_0x336808(0x253)+_0x44a317[_0x336808(0x2b0)]+_0x336808(0x1ca))+(_0x336808(0x2ac)+_0x480480);case _0x336808(0x299):return _0x336808(0x1f6)+(_0x336808(0x259)+_0x480480+'\x20('+_0x44a317[_0x336808(0x1d0)]+_0x336808(0x194));case'complete':return _0x336808(0x2c9)+'–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a'+_0x336808(0x22e);default:return'';}},async 'send'(_0x222ebf,_0x376120){const _0xe9148b=a2_0x2b3013;console[_0xe9148b(0x2c4)](_0xe9148b(0x224),_0x222ebf,_0x376120);if(!_0x376120){console[_0xe9148b(0x28a)]('[Notify]\x20Error:\x20sessionData\x20is\x20null');return;}const _0x50fa6d=String(_0x376120['clientId']);console['log']('[Notify]\x20Detected\x20Client\x20ID:',_0x50fa6d);if(!_0x376120['clientId']||_0x50fa6d===_0xe9148b(0x286)||_0x50fa6d===_0xe9148b(0x2a1)){console[_0xe9148b(0x28a)](_0xe9148b(0x28c));if(_0x376120['client']){const _0x424629=clients['find'](_0x1475c3=>_0x1475c3['name']===_0x376120[_0xe9148b(0x229)]);if(_0x424629)return console['log'](_0xe9148b(0x242),_0x424629['id']),this[_0xe9148b(0x269)](_0x222ebf,{..._0x376120,'clientId':_0x424629['id']});}return;}if(_0x50fa6d[_0xe9148b(0x2f1)]<0x5){console['warn'](_0xe9148b(0x1bb),_0x50fa6d);return;}const _0x52681e=this[_0xe9148b(0x2cf)](_0x222ebf,_0x376120);if(!_0x52681e){console[_0xe9148b(0x28a)](_0xe9148b(0x273));return;}console[_0xe9148b(0x2c4)](_0xe9148b(0x1e6)+_0x50fa6d+_0xe9148b(0x2c7)),DataManager['fetchFromServer']('send_notification',{'chatId':_0x50fa6d,'text':_0x52681e})[_0xe9148b(0x260)](_0x44abfe=>console[_0xe9148b(0x2c4)](_0xe9148b(0x2a2),_0x44abfe))[_0xe9148b(0x298)](_0x4bdb05=>console[_0xe9148b(0x28a)](_0xe9148b(0x18e),_0x4bdb05));}};function getLocalDateStr(_0x25a757){const _0x127250=a2_0x2b3013,_0x3512fc=_0x25a757[_0x127250(0x26a)](),_0x23c3c4=String(_0x25a757[_0x127250(0x16b)]()+0x1)[_0x127250(0x19d)](0x2,'0'),_0x537281=String(_0x25a757[_0x127250(0x28b)]())[_0x127250(0x19d)](0x2,'0');return _0x3512fc+'-'+_0x23c3c4+'-'+_0x537281;}function getDateStr(_0x51aca1){const _0x5d5dcd=a2_0x2b3013,_0x1fef46=new Date();return _0x1fef46[_0x5d5dcd(0x1ba)](_0x1fef46[_0x5d5dcd(0x28b)]()+_0x51aca1),getLocalDateStr(_0x1fef46);}function getStartOfWeek(_0x19a722){const _0x480645=a2_0x2b3013,_0x56b7c8=new Date(_0x19a722),_0x2fd8f4=_0x56b7c8[_0x480645(0x28d)](),_0x4a8c8c=_0x56b7c8[_0x480645(0x28b)]()-_0x2fd8f4+(_0x2fd8f4===0x0?-0x6:0x1);return _0x56b7c8[_0x480645(0x1ba)](_0x4a8c8c),_0x56b7c8[_0x480645(0x2cb)](0x0,0x0,0x0,0x0),_0x56b7c8;}function hexToRgba(_0x5f3682,_0x583990){const _0x508b1c=a2_0x2b3013;if(!_0x5f3682)return _0x508b1c(0x27b);let _0x1f701d=0x0,_0x36cd25=0x0,_0x3cd5cc=0x0;if(_0x5f3682[_0x508b1c(0x2f1)]===0x4)_0x1f701d='0x'+_0x5f3682[0x1]+_0x5f3682[0x1],_0x36cd25='0x'+_0x5f3682[0x2]+_0x5f3682[0x2],_0x3cd5cc='0x'+_0x5f3682[0x3]+_0x5f3682[0x3];else _0x5f3682[_0x508b1c(0x2f1)]===0x7&&(_0x1f701d='0x'+_0x5f3682[0x1]+_0x5f3682[0x2],_0x36cd25='0x'+_0x5f3682[0x3]+_0x5f3682[0x4],_0x3cd5cc='0x'+_0x5f3682[0x5]+_0x5f3682[0x6]);return _0x508b1c(0x276)+ +_0x1f701d+',\x20'+ +_0x36cd25+',\x20'+ +_0x3cd5cc+',\x20'+_0x583990+')';}function renderTimeColumn(){const _0x337b3a=a2_0x2b3013,_0xba0129=document[_0x337b3a(0x28f)](_0x337b3a(0x219)),_0x59d3eb=document['getElementById'](_0x337b3a(0x289));_0xba0129[_0x337b3a(0x19f)]='',_0xba0129[_0x337b3a(0x1e9)](_0x59d3eb);for(let _0x5294d4=0x0;_0x5294d4<0x18;_0x5294d4++){const _0x12312c=document['createElement'](_0x337b3a(0x17a));_0x12312c[_0x337b3a(0x23b)]='time-label';if(_0x5294d4>0x0)_0x12312c[_0x337b3a(0x19f)]='<span>'+String(_0x5294d4)[_0x337b3a(0x19d)](0x2,'0')+':00</span>';_0xba0129[_0x337b3a(0x1e9)](_0x12312c);}}function renderDayRange(_0x4e3a9a,_0xb81d62){const _0x2663aa=a2_0x2b3013,_0x23acd1=document[_0x2663aa(0x28f)](_0x2663aa(0x23d)),_0x5ce2ad=document['getElementById'](_0x2663aa(0x22c)),_0x2912f4=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x53a1ad=new Date();_0x53a1ad[_0x2663aa(0x2cb)](0x0,0x0,0x0,0x0);const _0x3601fb=getLocalDateStr(new Date());for(let _0x5aabc5=_0x4e3a9a;_0x5aabc5<=_0xb81d62;_0x5aabc5++){const _0x5b7e41=new Date(_0x53a1ad);_0x5b7e41['setDate'](_0x5b7e41[_0x2663aa(0x28b)]()+_0x5aabc5);const _0x4f05f5=getLocalDateStr(_0x5b7e41);let _0x1cfcdc=_0x5b7e41[_0x2663aa(0x28d)]()-0x1;if(_0x1cfcdc===-0x1)_0x1cfcdc=0x6;const _0x1e04a2=_0x4f05f5===_0x3601fb,_0x3181c1=document[_0x2663aa(0x20b)]('div');_0x3181c1['className']=_0x2663aa(0x257)+(_0x1e04a2?_0x2663aa(0x1d6):''),_0x3181c1['id']='header-'+_0x4f05f5,_0x3181c1[_0x2663aa(0x2e9)](_0x2663aa(0x26d),_0x4f05f5),_0x3181c1[_0x2663aa(0x19f)]=_0x2663aa(0x17e)+_0x2912f4[_0x1cfcdc]+_0x2663aa(0x1b6)+_0x5b7e41['getDate']()+_0x2663aa(0x202)+_0x4f05f5+_0x2663aa(0x2b7),_0x3181c1['onclick']=()=>openDayOptions(_0x4f05f5,_0x2912f4[_0x1cfcdc]+'\x20'+_0x5b7e41[_0x2663aa(0x28b)]()),_0x23acd1[_0x2663aa(0x1e9)](_0x3181c1);const _0x2ca3ec=document[_0x2663aa(0x20b)](_0x2663aa(0x17a));_0x2ca3ec[_0x2663aa(0x23b)]=_0x2663aa(0x198)+(_0x1e04a2?_0x2663aa(0x1d6):''),_0x2ca3ec[_0x2663aa(0x2e9)]('data-date',_0x4f05f5),_0x2ca3ec['setAttribute']('data-day-idx',_0x1cfcdc),renderEventsForColumn(_0x2ca3ec,_0x4f05f5,_0x1cfcdc),attachLongPressHandler(_0x2ca3ec,_0x5b7e41),_0x5ce2ad[_0x2663aa(0x1e9)](_0x2ca3ec),updateDayStats(_0x4f05f5);}}function reRenderBlocks(){const _0x12fb80=a2_0x2b3013;document[_0x12fb80(0x25d)](_0x12fb80(0x2a9))[_0x12fb80(0x1b7)](_0x4d4a7c=>{const _0x2fcaf7=_0x12fb80;_0x4d4a7c['querySelectorAll'](_0x2fcaf7(0x206))['forEach'](_0x322edb=>_0x322edb[_0x2fcaf7(0x20a)]());const _0x1d2199=_0x4d4a7c[_0x2fcaf7(0x2e6)]('data-date'),_0x299d73=parseInt(_0x4d4a7c[_0x2fcaf7(0x2e6)]('data-day-idx')),_0x8222a7=Math[_0x2fcaf7(0x201)](_0x4d4a7c[_0x2fcaf7(0x225)]);(availabilityPattern[_0x299d73]||[])[_0x2fcaf7(0x1b7)](_0x2052c6=>{const _0x104abb=_0x2fcaf7,_0x42b652=document[_0x104abb(0x20b)](_0x104abb(0x17a));_0x42b652[_0x104abb(0x23b)]='blocked-slot\x20stripe-bg';const _0x4091bd=_0x2052c6*GRID_H;_0x42b652[_0x104abb(0x2d9)][_0x104abb(0x29d)]=_0x4091bd+'px',_0x42b652['style'][_0x104abb(0x238)]='-'+_0x8222a7+_0x104abb(0x208)+_0x4091bd+'px',_0x4d4a7c['appendChild'](_0x42b652);});if(specialRanges&&specialRanges[_0x2fcaf7(0x2f1)]>0x0){const _0x1854ce=new Date(_0x1d2199+_0x2fcaf7(0x209))[_0x2fcaf7(0x1b5)](),_0x16631e=new Date(_0x1d2199+_0x2fcaf7(0x22a))['getTime']();specialRanges[_0x2fcaf7(0x1b7)](_0x2a0945=>{const _0x6366b0=_0x2fcaf7,_0x434873=new Date(_0x2a0945[_0x6366b0(0x1d0)])[_0x6366b0(0x1b5)](),_0x2e6089=new Date(_0x2a0945[_0x6366b0(0x2b0)])[_0x6366b0(0x1b5)](),_0x87ede6=Math['max'](_0x1854ce,_0x434873),_0x4f272f=Math[_0x6366b0(0x248)](_0x16631e,_0x2e6089);if(_0x87ede6<_0x4f272f){if(_0x87ede6<=_0x1854ce&&_0x4f272f>=_0x16631e-0xea60){if(!_0x4d4a7c[_0x6366b0(0x1ee)](_0x6366b0(0x2d5))){const _0x4f0743=document[_0x6366b0(0x20b)]('div');_0x4f0743[_0x6366b0(0x23b)]=_0x6366b0(0x1be),_0x4f0743[_0x6366b0(0x2d9)][_0x6366b0(0x238)]='-'+_0x8222a7+_0x6366b0(0x232),_0x4d4a7c[_0x6366b0(0x1e9)](_0x4f0743);}}else{const _0x498115=(_0x87ede6-_0x1854ce)/0x36ee80*GRID_H,_0x594926=(_0x4f272f-_0x87ede6)/0x36ee80*GRID_H,_0x2c89fb=document[_0x6366b0(0x20b)](_0x6366b0(0x17a));_0x2c89fb['className']=_0x6366b0(0x29c),_0x2c89fb['style']['top']=_0x498115+'px',_0x2c89fb[_0x6366b0(0x2d9)]['height']=_0x594926+'px',_0x2c89fb[_0x6366b0(0x2d9)][_0x6366b0(0x238)]='-'+_0x8222a7+_0x6366b0(0x208)+_0x498115+'px',_0x4d4a7c['appendChild'](_0x2c89fb);}}});}if(dateExceptions[_0x1d2199]===_0x2fcaf7(0x186)){if(!_0x4d4a7c[_0x2fcaf7(0x1ee)](_0x2fcaf7(0x2d5))){const _0x449bca=document[_0x2fcaf7(0x20b)](_0x2fcaf7(0x17a));_0x449bca[_0x2fcaf7(0x23b)]=_0x2fcaf7(0x1be),_0x449bca[_0x2fcaf7(0x2d9)][_0x2fcaf7(0x238)]='-'+_0x8222a7+'px\x200px',_0x4d4a7c[_0x2fcaf7(0x1e9)](_0x449bca);}}renderEventsForColumn(_0x4d4a7c,_0x1d2199,_0x299d73),updateDayStats(_0x1d2199);});}function updateAllDayStats(){const _0x3e5c1e=a2_0x2b3013;document[_0x3e5c1e(0x25d)]('.day-col-header')['forEach'](_0x4e63ce=>{const _0x5b696d=_0x3e5c1e;updateDayStats(_0x4e63ce[_0x5b696d(0x2e6)](_0x5b696d(0x26d)));});}function updateDayStats(_0x2518b0){const _0x6bc69e=a2_0x2b3013,_0x12f9c6=document[_0x6bc69e(0x28f)](_0x6bc69e(0x1b9)+_0x2518b0);if(!_0x12f9c6)return;const _0x8bb09d=new Date(_0x2518b0);let _0xa14f33=_0x8bb09d[_0x6bc69e(0x28d)]()-0x1;if(_0xa14f33===-0x1)_0xa14f33=0x6;if(dateExceptions[_0x2518b0]===_0x6bc69e(0x186)){_0x12f9c6[_0x6bc69e(0x2d9)]['display']=_0x6bc69e(0x280);return;}const _0xe3d03e=availabilityPattern[_0xa14f33]||[],_0x38f305=0x18-_0xe3d03e[_0x6bc69e(0x2f1)],_0x26a3a5=_0x38f305*0x3c,_0x30ac0b=sessions[_0x6bc69e(0x21d)](_0x24567f=>_0x24567f[_0x6bc69e(0x172)]===_0x2518b0&&_0x24567f[_0x6bc69e(0x24d)]!=='cancelled');if(_0x30ac0b[_0x6bc69e(0x2f1)]===0x0){_0x12f9c6[_0x6bc69e(0x2d9)][_0x6bc69e(0x1e2)]=_0x6bc69e(0x280);return;}let _0x26df1b=_0x30ac0b[_0x6bc69e(0x262)](_0x4f5fa1=>{const _0x4bd9e0=_0x6bc69e,[_0x2a56b6,_0x3a622]=_0x4f5fa1['start']['split'](':')[_0x4bd9e0(0x262)](Number),[_0xa33043,_0x5e09f0]=_0x4f5fa1[_0x4bd9e0(0x2b0)]['split'](':')[_0x4bd9e0(0x262)](Number);return[_0x2a56b6*0x3c+_0x3a622,_0xa33043*0x3c+_0x5e09f0];});_0x26df1b[_0x6bc69e(0x26c)]((_0x1a256e,_0x53dcd7)=>_0x1a256e[0x0]-_0x53dcd7[0x0]);let _0x1ef46c=[];if(_0x26df1b[_0x6bc69e(0x2f1)]>0x0){let _0xe2fc32=_0x26df1b[0x0];for(let _0xe93dd4=0x1;_0xe93dd4<_0x26df1b[_0x6bc69e(0x2f1)];_0xe93dd4++){_0x26df1b[_0xe93dd4][0x0]<_0xe2fc32[0x1]?_0xe2fc32[0x1]=Math[_0x6bc69e(0x197)](_0xe2fc32[0x1],_0x26df1b[_0xe93dd4][0x1]):(_0x1ef46c['push'](_0xe2fc32),_0xe2fc32=_0x26df1b[_0xe93dd4]);}_0x1ef46c['push'](_0xe2fc32);}let _0x46d9bd=0x0;_0x1ef46c[_0x6bc69e(0x1b7)](_0x53364b=>_0x46d9bd+=_0x53364b[0x1]-_0x53364b[0x0]),_0x12f9c6[_0x6bc69e(0x2d9)][_0x6bc69e(0x1e2)]=_0x6bc69e(0x2b4);const _0x2a4cf2=_0x12f9c6[_0x6bc69e(0x1ee)](_0x6bc69e(0x226));if(_0x26a3a5===0x0){_0x2a4cf2[_0x6bc69e(0x2d9)][_0x6bc69e(0x2bd)]=_0x6bc69e(0x21b),_0x2a4cf2['style'][_0x6bc69e(0x20e)]=_0x6bc69e(0x1aa);return;}const _0xdfd0cf=_0x46d9bd/_0x26a3a5*0x64;console[_0x6bc69e(0x2c4)]('['+_0x2518b0+']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20'+_0x38f305+_0x6bc69e(0x1ea)+_0x46d9bd+'–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20'+_0xdfd0cf[_0x6bc69e(0x1e7)](0x1)+'%'),_0xdfd0cf>0x64?(_0x2a4cf2['style'][_0x6bc69e(0x2bd)]='100%',_0x2a4cf2[_0x6bc69e(0x2d9)][_0x6bc69e(0x20e)]=_0x6bc69e(0x1aa)):(_0x2a4cf2[_0x6bc69e(0x2d9)][_0x6bc69e(0x2bd)]=_0xdfd0cf+'%',_0x2a4cf2['style'][_0x6bc69e(0x20e)]=_0x6bc69e(0x1af));}function renderEventsForColumn(_0x347d65,_0x4ea5af,_0x1f37a0){const _0xa9a42f=a2_0x2b3013,_0x4ab9a0=sessions['filter'](_0x1fff07=>_0x1fff07[_0xa9a42f(0x172)]===_0x4ea5af),_0x596b85=_0x4ab9a0[_0xa9a42f(0x262)](_0x729870=>{const _0xa76d8c=_0xa9a42f,[_0x2093e5,_0x453335]=_0x729870[_0xa76d8c(0x1d0)][_0xa76d8c(0x250)](':')['map'](Number),[_0x97b72b,_0x3186f9]=_0x729870[_0xa76d8c(0x2b0)][_0xa76d8c(0x250)](':')['map'](Number);return{'data':_0x729870,'start':_0x2093e5*0x3c+_0x453335,'end':_0x97b72b*0x3c+_0x3186f9,'colIndex':0x0};});_0x596b85['sort']((_0x906598,_0x1ec361)=>{const _0x1f05fd=_0xa9a42f;if(_0x906598['start']!==_0x1ec361[_0x1f05fd(0x1d0)])return _0x906598['start']-_0x1ec361[_0x1f05fd(0x1d0)];return _0x1ec361[_0x1f05fd(0x2b0)]-_0x1ec361[_0x1f05fd(0x1d0)]-(_0x906598[_0x1f05fd(0x2b0)]-_0x906598['start']);});const _0xcf1956=[];_0x596b85['forEach'](_0x5d859e=>{const _0x551324=_0xa9a42f;let _0x1c95a8=![];for(let _0x40d515=0x0;_0x40d515<_0xcf1956[_0x551324(0x2f1)];_0x40d515++){const _0x1ca4df=_0xcf1956[_0x40d515],_0x42feb8=_0x1ca4df[_0x1ca4df[_0x551324(0x2f1)]-0x1];if(_0x5d859e['start']>=_0x42feb8[_0x551324(0x2b0)]){_0x1ca4df['push'](_0x5d859e),_0x5d859e['colIndex']=_0x40d515,_0x1c95a8=!![];break;}}!_0x1c95a8&&(_0xcf1956[_0x551324(0x228)]([_0x5d859e]),_0x5d859e['colIndex']=_0xcf1956['length']-0x1);}),_0x596b85[_0xa9a42f(0x1b7)](_0xe404f8=>{const _0x1b23c4=_0xa9a42f;let _0x1dbfe4=0x0;_0x596b85[_0x1b23c4(0x1b7)](_0x5cc68f=>{const _0x21ee4c=_0x1b23c4;if(Math[_0x21ee4c(0x197)](_0xe404f8[_0x21ee4c(0x1d0)],_0x5cc68f['start'])<Math[_0x21ee4c(0x248)](_0xe404f8[_0x21ee4c(0x2b0)],_0x5cc68f[_0x21ee4c(0x2b0)])){if(_0x5cc68f[_0x21ee4c(0x1c3)]>_0x1dbfe4)_0x1dbfe4=_0x5cc68f[_0x21ee4c(0x1c3)];}});const _0x36d17c=_0x1dbfe4+0x1,_0x1fcc55=0x64/_0x36d17c,_0x5d4eec=_0xe404f8[_0x1b23c4(0x1c3)]*_0x1fcc55,_0x40131e=createEventEl(_0xe404f8[_0x1b23c4(0x17d)]);_0x40131e[_0x1b23c4(0x2d9)][_0x1b23c4(0x2bd)]=_0x1b23c4(0x231)+_0x1fcc55+'%\x20-\x204px)',_0x40131e[_0x1b23c4(0x2d9)][_0x1b23c4(0x1ae)]=_0x1b23c4(0x231)+_0x5d4eec+_0x1b23c4(0x16f),_0x40131e[_0x1b23c4(0x2d9)][_0x1b23c4(0x2b6)]=0xa+_0xe404f8['colIndex'],_0x1fcc55<0x55&&_0x40131e[_0x1b23c4(0x2be)][_0x1b23c4(0x204)](_0x1b23c4(0x2b3)),_0x347d65['appendChild'](_0x40131e);});}function createEventEl(_0x2ffae1){const _0x3de62e=a2_0x2b3013,[_0x176ee5,_0x50eb73]=_0x2ffae1[_0x3de62e(0x1d0)][_0x3de62e(0x250)](':')[_0x3de62e(0x262)](Number),[_0x529a51,_0x1f021b]=_0x2ffae1[_0x3de62e(0x2b0)][_0x3de62e(0x250)](':')['map'](Number),_0x293e36=(_0x176ee5*0x3c+_0x50eb73)/0x3c*GRID_H,_0x2d5675=(_0x529a51*0x3c+_0x1f021b-(_0x176ee5*0x3c+_0x50eb73))/0x3c*GRID_H,_0x1ef0d6=document[_0x3de62e(0x20b)](_0x3de62e(0x17a)),_0x38277a=_0x2ffae1['status']===_0x3de62e(0x244)?'\x20status-completed':'';_0x1ef0d6['className']=_0x3de62e(0x2af)+_0x38277a,_0x1ef0d6[_0x3de62e(0x2d9)][_0x3de62e(0x29d)]=_0x293e36+'px',_0x1ef0d6[_0x3de62e(0x2d9)][_0x3de62e(0x24b)]=Math[_0x3de62e(0x197)](_0x2d5675,0x14)+'px';const _0x398292=clients[_0x3de62e(0x2ee)](_0x9a25f8=>_0x2ffae1['clientId']&&String(_0x9a25f8['id'])===String(_0x2ffae1['clientId'])||_0x9a25f8[_0x3de62e(0x26f)]===_0x2ffae1['client']),_0x13dfd8=_0x398292?_0x398292[_0x3de62e(0x2eb)]:_0x3de62e(0x295);_0x1ef0d6[_0x3de62e(0x2d9)]['borderLeftColor']=_0x13dfd8,_0x1ef0d6[_0x3de62e(0x2d9)][_0x3de62e(0x279)]=hexToRgba(_0x13dfd8,0.85);let _0x233c18=_0x3de62e(0x2ef)+_0x2ffae1[_0x3de62e(0x229)]+'</div><div\x20class=\x22ev-time\x22>'+_0x2ffae1[_0x3de62e(0x1d0)]+_0x3de62e(0x292)+_0x2ffae1[_0x3de62e(0x2b0)]+_0x3de62e(0x24f);return _0x2ffae1[_0x3de62e(0x243)]&&(_0x233c18+='<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>'),_0x2ffae1[_0x3de62e(0x24d)]===_0x3de62e(0x244)&&(_0x233c18+=_0x3de62e(0x207)),_0x1ef0d6[_0x3de62e(0x19f)]=_0x233c18,_0x1ef0d6[_0x3de62e(0x1fe)]=_0x4d07f8=>{const _0x439717=_0x3de62e;_0x4d07f8[_0x439717(0x2e7)](),openEdit(_0x2ffae1);},_0x1ef0d6;}function attachLongPressHandler(_0x5bb46e,_0x47ad48){const _0x1ca08e=a2_0x2b3013;let _0x4ef358=0x0,_0x2ac384=null;const _0x456a03=_0x377c30=>{const _0xc966df=a2_0x3a23;if(_0x377c30[_0xc966df(0x284)][_0xc966df(0x294)](_0xc966df(0x281)))return;isScrolling=![],_0x4ef358=_0x377c30[_0xc966df(0x1b3)]?_0x377c30['touches'][0x0]['clientY']:_0x377c30[_0xc966df(0x25e)],_0x2ac384=setTimeout(()=>{const _0xfab936=_0xc966df;if(!isScrolling){navigator[_0xfab936(0x192)]?.(0x32);const _0x3be3a9=_0x5bb46e['getBoundingClientRect'](),_0x2faf85=Math[_0xfab936(0x2f2)]((_0x4ef358-_0x3be3a9[_0xfab936(0x29d)])/GRID_H);_0x47ad48[_0xfab936(0x2cb)](_0x2faf85,0x0),openAddSession(_0x47ad48);}},0x1f4);},_0x5b5ced=()=>{isScrolling=!![],clearTimeout(_0x2ac384);},_0x5daddd=()=>{clearTimeout(_0x2ac384);};_0x5bb46e[_0x1ca08e(0x200)](_0x1ca08e(0x1c4),_0x456a03,{'passive':!![]}),_0x5bb46e[_0x1ca08e(0x200)](_0x1ca08e(0x170),_0x5b5ced,{'passive':!![]}),_0x5bb46e[_0x1ca08e(0x200)]('touchend',_0x5daddd),_0x5bb46e[_0x1ca08e(0x200)](_0x1ca08e(0x189),_0x456a03),_0x5bb46e[_0x1ca08e(0x200)]('mousemove',_0x5b5ced),_0x5bb46e['addEventListener']('mouseup',_0x5daddd);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x122799=a2_0x2b3013,_0x54ee01=document['getElementById'](_0x122799(0x293)),_0x36c818=_0x54ee01[_0x122799(0x1c1)],_0x1177a2=_0x54ee01[_0x122799(0x1c5)],_0x4be7cc=_0x54ee01[_0x122799(0x2d7)];if(_0x1177a2-(_0x36c818+_0x4be7cc)<0x12c){const _0xfe77=endOffset;endOffset+=0xe,renderDayRange(_0xfe77+0x1,endOffset),reRenderBlocks();}if(_0x36c818<0x12c){const _0x38b268=startOffset;startOffset-=0xe,prependDays(startOffset,_0x38b268-0x1),_0x54ee01[_0x122799(0x1c1)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x245840,_0x1b82c8){const _0x1799c3=a2_0x2b3013,_0xf576af=document[_0x1799c3(0x28f)](_0x1799c3(0x23d)),_0x48e17a=document['getElementById']('gridColumns'),_0x3f21a8=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x48feb9=new Date();_0x48feb9['setHours'](0x0,0x0,0x0,0x0);const _0x3be959=getLocalDateStr(new Date()),_0x2d9321=document[_0x1799c3(0x22d)](),_0x426048=document[_0x1799c3(0x22d)]();for(let _0x44bca8=_0x245840;_0x44bca8<=_0x1b82c8;_0x44bca8++){const _0x21a666=new Date(_0x48feb9);_0x21a666['setDate'](_0x21a666['getDate']()+_0x44bca8);const _0x4b64cd=getLocalDateStr(_0x21a666);let _0x14dc17=_0x21a666[_0x1799c3(0x28d)]()-0x1;if(_0x14dc17===-0x1)_0x14dc17=0x6;const _0xb91bcd=_0x4b64cd===_0x3be959,_0x44998e=document[_0x1799c3(0x20b)](_0x1799c3(0x17a));_0x44998e[_0x1799c3(0x23b)]='day-col-header\x20'+(_0xb91bcd?_0x1799c3(0x1d6):''),_0x44998e['id']=_0x1799c3(0x217)+_0x4b64cd,_0x44998e[_0x1799c3(0x2e9)](_0x1799c3(0x26d),_0x4b64cd),_0x44998e[_0x1799c3(0x19f)]=_0x1799c3(0x17e)+_0x3f21a8[_0x14dc17]+_0x1799c3(0x1b6)+_0x21a666[_0x1799c3(0x28b)]()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0x4b64cd+_0x1799c3(0x2b7),_0x44998e[_0x1799c3(0x1fe)]=()=>openDayOptions(_0x4b64cd,_0x3f21a8[_0x14dc17]+'\x20'+_0x21a666['getDate']()),_0x2d9321['appendChild'](_0x44998e);const _0x2333f8=document['createElement'](_0x1799c3(0x17a));_0x2333f8['className']=_0x1799c3(0x198)+(_0xb91bcd?_0x1799c3(0x1d6):''),_0x2333f8[_0x1799c3(0x2e9)]('data-date',_0x4b64cd),_0x2333f8['setAttribute'](_0x1799c3(0x1e3),_0x14dc17),renderEventsForColumn(_0x2333f8,_0x4b64cd,_0x14dc17),attachLongPressHandler(_0x2333f8,_0x21a666),_0x426048[_0x1799c3(0x1e9)](_0x2333f8),updateDayStats(_0x4b64cd);}_0xf576af['insertBefore'](_0x2d9321,_0xf576af['firstChild']),_0x48e17a[_0x1799c3(0x1ed)](_0x426048,_0x48e17a[_0x1799c3(0x1ee)](_0x1799c3(0x18f)));}function validateAppointment(_0x31a9f1,_0x5c939a,_0x541eb8,_0xf99b94,_0x484568){const _0x2121c9=a2_0x2b3013,[_0x1cd823,_0x370832]=_0x5c939a[_0x2121c9(0x250)](':')[_0x2121c9(0x262)](Number),[_0x400736,_0x358e59]=_0x541eb8[_0x2121c9(0x250)](':')[_0x2121c9(0x262)](Number),_0x546d7a=_0x1cd823*0x3c+_0x370832,_0x4e4390=_0x400736*0x3c+_0x358e59,_0x30fd91=String(_0x484568);let _0x52ba9f=![],_0x5f3660='';for(let _0x132eba of sessions){if(_0x132eba[_0x2121c9(0x172)]!==_0x31a9f1)continue;if(_0x132eba[_0x2121c9(0x24d)]===_0x2121c9(0x1ec))continue;if(_0xf99b94&&String(_0x132eba['id'])===String(_0xf99b94))continue;const [_0x510782,_0x2ed67b]=_0x132eba['start'][_0x2121c9(0x250)](':')[_0x2121c9(0x262)](Number),[_0x4457e2,_0xedebbb]=_0x132eba['end'][_0x2121c9(0x250)](':')[_0x2121c9(0x262)](Number),_0x47a975=_0x510782*0x3c+_0x2ed67b,_0x4cbfd5=_0x4457e2*0x3c+_0xedebbb;if(Math[_0x2121c9(0x197)](_0x546d7a,_0x47a975)<Math[_0x2121c9(0x248)](_0x4e4390,_0x4cbfd5)){if(_0x132eba['clientId']&&String(_0x132eba[_0x2121c9(0x1b8)])===_0x30fd91)return{'valid':![],'msg':_0x2121c9(0x29f)+_0x132eba[_0x2121c9(0x229)]+_0x2121c9(0x193)};_0x52ba9f=!![],_0x5f3660=_0x132eba[_0x2121c9(0x229)];}}if(_0x52ba9f)return{'valid':!![],'warning':_0x2121c9(0x1b2)+_0x5f3660};return{'valid':!![]};}function updateDateDisplay(){const _0x183217=a2_0x2b3013,_0x4032ff=document['getElementById']('inpDate')[_0x183217(0x1ff)],_0x3e6e6b=document[_0x183217(0x28f)](_0x183217(0x25b));if(!_0x4032ff){_0x3e6e6b[_0x183217(0x20c)]='';return;}const [_0x39cfdd,_0x8127e7,_0x2b2860]=_0x4032ff[_0x183217(0x250)]('-')[_0x183217(0x262)](Number),_0x582b32=new Date(_0x39cfdd,_0x8127e7-0x1,_0x2b2860),_0x4d19f5={'weekday':_0x183217(0x252),'day':_0x183217(0x16e),'month':_0x183217(0x252),'year':_0x183217(0x16e)};let _0x1d078b=_0x582b32[_0x183217(0x287)]('ru-RU',_0x4d19f5);_0x1d078b=_0x1d078b[_0x183217(0x1ad)](0x0)['toUpperCase']()+_0x1d078b['slice'](0x1),_0x3e6e6b[_0x183217(0x20c)]=_0x1d078b;}function autoSetEndTime(){const _0x513978=a2_0x2b3013,_0x15a404=document[_0x513978(0x28f)]('inpStart')[_0x513978(0x1ff)];if(!_0x15a404)return;const [_0x1b3d00,_0x424ee1]=_0x15a404[_0x513978(0x250)](':')['map'](Number);let _0x47f941=_0x1b3d00+0x1;if(_0x47f941>0x17)_0x47f941=0x0;const _0x59457c=String(_0x47f941)[_0x513978(0x19d)](0x2,'0')+':'+String(_0x424ee1)['padStart'](0x2,'0');document[_0x513978(0x28f)](_0x513978(0x245))['value']=_0x59457c;}function populateClientSelect(){const _0x20bc30=a2_0x2b3013,_0x25beb3=document[_0x20bc30(0x28f)](_0x20bc30(0x19a));_0x25beb3[_0x20bc30(0x19f)]='';if(clients[_0x20bc30(0x2f1)]===0x0){const _0x162212=document['createElement'](_0x20bc30(0x175));_0x162212[_0x20bc30(0x19e)]=_0x20bc30(0x1a7),_0x25beb3[_0x20bc30(0x1e9)](_0x162212);return;}clients[_0x20bc30(0x1b7)](_0x213ae8=>{const _0x2994b1=_0x20bc30,_0x22248f=document[_0x2994b1(0x20b)](_0x2994b1(0x175));_0x22248f[_0x2994b1(0x1ff)]=_0x213ae8[_0x2994b1(0x26f)],_0x22248f[_0x2994b1(0x20c)]=_0x213ae8['name'],_0x25beb3[_0x2994b1(0x1e9)](_0x22248f);});}function openActionSheet(_0x11f2e2){const _0x115e70=a2_0x2b3013,_0x4ad45b=document[_0x115e70(0x28f)](_0x115e70(0x188)),_0x210a7f=document['getElementById']('actionSheetOverlay'),_0x1ae8ed=document['getElementById'](_0x115e70(0x27e)),_0x57e649=document[_0x115e70(0x28f)](_0x115e70(0x1df)),_0xbbd7bb=document['getElementById'](_0x115e70(0x2ae));_0x210a7f[_0x115e70(0x2be)][_0x115e70(0x204)]('active'),_0x4ad45b[_0x115e70(0x2be)][_0x115e70(0x204)]('open');if(_0x11f2e2==='save')_0x1ae8ed[_0x115e70(0x20c)]=_0x115e70(0x1f7),_0x57e649[_0x115e70(0x20c)]=_0x115e70(0x180),_0x57e649[_0x115e70(0x1fe)]=()=>{const _0x10d929=_0x115e70;closeActionSheet(),updateSeriesBatch(_0x10d929(0x1a1),tempSessionData);},_0xbbd7bb['textContent']='–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ',_0xbbd7bb['onclick']=()=>{const _0x48f781=_0x115e70;closeActionSheet(),updateSeriesBatch(_0x48f781(0x240),tempSessionData);};else _0x11f2e2===_0x115e70(0x247)&&(_0x1ae8ed[_0x115e70(0x20c)]=_0x115e70(0x1d2),_0x57e649[_0x115e70(0x20c)]=_0x115e70(0x180),_0x57e649[_0x115e70(0x23b)]=_0x115e70(0x213),_0x57e649[_0x115e70(0x1fe)]=()=>{const _0x122d45=_0x115e70;closeActionSheet(),commitDelete(_0x122d45(0x1a1),sessions['find'](_0x552d44=>_0x552d44['id']===editingId));},_0xbbd7bb[_0x115e70(0x20c)]=_0x115e70(0x18c),_0xbbd7bb[_0x115e70(0x23b)]=_0x115e70(0x2ad),_0xbbd7bb[_0x115e70(0x1fe)]=()=>{closeActionSheet(),commitDelete('series',sessions['find'](_0x4436c3=>_0x4436c3['id']===editingId));});}function closeActionSheet(){const _0x2da2c1=a2_0x2b3013;document[_0x2da2c1(0x28f)](_0x2da2c1(0x188))[_0x2da2c1(0x2be)][_0x2da2c1(0x20a)](_0x2da2c1(0x1d1)),document[_0x2da2c1(0x28f)](_0x2da2c1(0x20f))[_0x2da2c1(0x2be)]['remove']('active');}function openSettings(){openSheet('settingsSheet');}function saveCoachSettings(){const _0x42f161=a2_0x2b3013,_0x5d7a28=document[_0x42f161(0x28f)](_0x42f161(0x2e4))[_0x42f161(0x1ff)];localStorage['setItem'](_0x42f161(0x23e),_0x5d7a28),console[_0x42f161(0x2c4)](_0x42f161(0x2b2),_0x5d7a28),DataManager[_0x42f161(0x16c)](_0x42f161(0x2aa),{'settings':{'cancel_window':_0x5d7a28}})[_0x42f161(0x298)](_0x32f683=>{const _0x8d8d7b=_0x42f161;console[_0x8d8d7b(0x28a)](_0x8d8d7b(0x283),_0x32f683),showToast(_0x8d8d7b(0x233),![]);});}function loadCoachSettings(){const _0x34983f=a2_0x2b3013,_0x3bde5a=localStorage[_0x34983f(0x199)](_0x34983f(0x23e));_0x3bde5a&&(document['getElementById'](_0x34983f(0x2e4))['value']=_0x3bde5a);}function openRangesSheet(){const _0x52bac1=a2_0x2b3013;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x52bac1(0x29e));}function addRange(){const _0x46a09c=a2_0x2b3013,_0x2eba83=document[_0x46a09c(0x28f)](_0x46a09c(0x1b0))[_0x46a09c(0x1ff)],_0x577559=document[_0x46a09c(0x28f)](_0x46a09c(0x29a))[_0x46a09c(0x1ff)],_0x76473=document[_0x46a09c(0x28f)](_0x46a09c(0x1e0))[_0x46a09c(0x1ff)],_0x165899=document[_0x46a09c(0x28f)](_0x46a09c(0x205))[_0x46a09c(0x1ff)];if(!_0x2eba83||!_0x577559||!_0x76473||!_0x165899)return alert(_0x46a09c(0x24e));const _0x2c2214=_0x2eba83+'T'+_0x577559,_0x2b0b94=_0x76473+'T'+_0x165899;if(_0x2c2214>=_0x2b0b94)return alert('–û—à–∏–±–∫–∞\x20–¥–∞—Ç');specialRanges[_0x46a09c(0x228)]({'start':_0x2c2214,'end':_0x2b0b94}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x46a09c(0x1eb)](),DataManager[_0x46a09c(0x16c)](_0x46a09c(0x2aa),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x33d8d6){const _0x4566bd=a2_0x2b3013;specialRanges[_0x4566bd(0x2d0)](_0x33d8d6,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x4566bd(0x1eb)](),DataManager[_0x4566bd(0x16c)](_0x4566bd(0x2aa),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x1880a8=a2_0x2b3013;document[_0x1880a8(0x28f)]('rangeStartDate')[_0x1880a8(0x1ff)]='',document['getElementById']('rangeStartTime')['value']='00:00',document['getElementById']('rangeEndDate')[_0x1880a8(0x1ff)]='',document[_0x1880a8(0x28f)](_0x1880a8(0x205))[_0x1880a8(0x1ff)]='23:59';}function renderRangesList(){const _0xa96e5c=a2_0x2b3013,_0x2380ab=document[_0xa96e5c(0x28f)]('rangesList');_0x2380ab[_0xa96e5c(0x19f)]='';if(!specialRanges[_0xa96e5c(0x2f1)]){_0x2380ab[_0xa96e5c(0x19f)]=_0xa96e5c(0x258);return;}specialRanges[_0xa96e5c(0x1b7)]((_0x4a61c5,_0x373b13)=>{const _0x314ffe=_0xa96e5c,_0x472f32=document[_0x314ffe(0x20b)]('div');_0x472f32[_0x314ffe(0x23b)]='range-item';const _0x44c217=_0x534548=>{const _0x205ad9=_0x314ffe,_0x126f90=new Date(_0x534548);return _0x126f90[_0x205ad9(0x28b)]()+'.'+String(_0x126f90[_0x205ad9(0x16b)]()+0x1)[_0x205ad9(0x19d)](0x2,'0')+'\x20'+String(_0x126f90[_0x205ad9(0x1f4)]())[_0x205ad9(0x19d)](0x2,'0')+':'+String(_0x126f90[_0x205ad9(0x16a)]())['padStart'](0x2,'0');};_0x472f32[_0x314ffe(0x19f)]=_0x314ffe(0x2cc)+_0x44c217(_0x4a61c5[_0x314ffe(0x1d0)])+'\x20‚Äî\x20'+_0x44c217(_0x4a61c5[_0x314ffe(0x2b0)])+_0x314ffe(0x25f)+_0x373b13+_0x314ffe(0x28e),_0x2380ab['appendChild'](_0x472f32);});}function scrollToToday(){const _0x579242=a2_0x2b3013,_0x29b1b8=getLocalDateStr(new Date()),_0x41b860=document[_0x579242(0x28f)](_0x579242(0x217)+_0x29b1b8),_0x47ef8c=document[_0x579242(0x28f)](_0x579242(0x293));if(_0x41b860&&_0x47ef8c){const _0x128e71=_0x47ef8c['clientWidth'],_0x2d79db=_0x41b860[_0x579242(0x225)],_0x578698=_0x41b860['offsetWidth'];_0x47ef8c[_0x579242(0x1c1)]=_0x2d79db-_0x128e71/0x2+_0x578698/0x2,_0x47ef8c['scrollTop']=0x9*GRID_H;}}function onScroll(){const _0x5e0689=a2_0x2b3013,_0x2d7d5c=document['getElementById'](_0x5e0689(0x293)),_0x2a392b=document['querySelectorAll'](_0x5e0689(0x1c2));for(let _0x42ae1e of _0x2a392b)if(_0x42ae1e[_0x5e0689(0x225)]>=_0x2d7d5c[_0x5e0689(0x1c1)]){const _0x39af52=new Date(_0x42ae1e['getAttribute'](_0x5e0689(0x26d)));document[_0x5e0689(0x28f)](_0x5e0689(0x2d4))[_0x5e0689(0x20c)]=_0x39af52[_0x5e0689(0x2e5)]('ru',{'month':_0x5e0689(0x252)})['toUpperCase']()+'\x20'+_0x39af52['getFullYear']();break;}}function showToast(_0x11a771,_0x42a21d=![]){const _0x24db85=a2_0x2b3013,_0x56c400=document[_0x24db85(0x28f)](_0x24db85(0x2b5));_0x56c400['className']=_0x24db85(0x2b9)+(_0x42a21d?_0x24db85(0x29b):''),document[_0x24db85(0x28f)](_0x24db85(0x26e))[_0x24db85(0x20c)]=_0x42a21d?_0x24db85(0x2f0):'–ò–Ω—Ñ–æ',document[_0x24db85(0x28f)](_0x24db85(0x2f3))[_0x24db85(0x20c)]=_0x11a771,_0x56c400[_0x24db85(0x2be)][_0x24db85(0x204)](_0x24db85(0x263)),setTimeout(()=>{const _0x3227e2=_0x24db85;_0x56c400[_0x3227e2(0x2be)][_0x3227e2(0x20a)](_0x3227e2(0x263));},0xbb8);}function a2_0x3a23(_0x1eda2a,_0x2cfd48){_0x1eda2a=_0x1eda2a-0x169;const _0x2c6c66=a2_0x1249();let _0x577fb0=_0x2c6c66[_0x1eda2a];return _0x577fb0;}function openDayOptions(_0x2e3e9b,_0x456311){const _0x117140=a2_0x2b3013;selectedDayForOptions=_0x2e3e9b,document['getElementById'](_0x117140(0x24a))['textContent']=_0x456311,openSheet(_0x117140(0x1d7));}function toggleDayOff(){const _0xe777a2=a2_0x2b3013;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]='off',reRenderBlocks(),closeAllSheets(),DataManager[_0xe777a2(0x1eb)](),DataManager[_0xe777a2(0x16c)](_0xe777a2(0x2aa),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x26d498=a2_0x2b3013;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x26d498(0x1eb)](),DataManager[_0x26d498(0x16c)]('save_settings',{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0xae7273){const _0x1378b1=a2_0x2b3013;document[_0x1378b1(0x28f)](_0x1378b1(0x1d3))[_0x1378b1(0x2be)][_0x1378b1(0x204)](_0x1378b1(0x227)),document['getElementById'](_0xae7273)[_0x1378b1(0x2be)][_0x1378b1(0x204)](_0x1378b1(0x1d1));}function closeAllSheets(){const _0x5ab51b=a2_0x2b3013;document['getElementById']('overlay')[_0x5ab51b(0x2be)][_0x5ab51b(0x20a)](_0x5ab51b(0x227)),document['querySelectorAll'](_0x5ab51b(0x1db))['forEach'](_0x17fea7=>_0x17fea7[_0x5ab51b(0x2be)][_0x5ab51b(0x20a)]('open'));}function openPatternEditor(){const _0x40053d=a2_0x2b3013;closeAllSheets(),document[_0x40053d(0x28f)](_0x40053d(0x264))[_0x40053d(0x2be)][_0x40053d(0x204)](_0x40053d(0x1d1)),renderPatternEditor();}function closePatternEditor(){const _0x1d9bc4=a2_0x2b3013;document['getElementById'](_0x1d9bc4(0x264))['classList']['remove'](_0x1d9bc4(0x1d1));}function savePattern(){const _0x1327ab=a2_0x2b3013;document[_0x1327ab(0x28f)](_0x1327ab(0x264))[_0x1327ab(0x2be)]['remove'](_0x1327ab(0x1d1)),reRenderBlocks(),DataManager['saveLocally'](),DataManager['fetchFromServer'](_0x1327ab(0x2aa),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x59be00=a2_0x2b3013,_0x4ee897=document['getElementById'](_0x59be00(0x1da));_0x4ee897['innerHTML']='';const _0x1ee534=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x2f46c5=document[_0x59be00(0x20b)](_0x59be00(0x17a));_0x2f46c5[_0x59be00(0x23b)]='pe-corner',_0x4ee897[_0x59be00(0x1e9)](_0x2f46c5),_0x1ee534[_0x59be00(0x1b7)]((_0x4481e6,_0x2ab72f)=>{const _0x1c8e22=_0x59be00,_0x32801b=document[_0x1c8e22(0x20b)](_0x1c8e22(0x17a));_0x32801b['className']=_0x1c8e22(0x23c),_0x32801b['innerHTML']=_0x4481e6+_0x1c8e22(0x1d9),_0x32801b[_0x1c8e22(0x1fe)]=()=>toggleColPattern(_0x2ab72f),_0x4ee897[_0x1c8e22(0x1e9)](_0x32801b);});for(let _0x4c192c=0x0;_0x4c192c<0x18;_0x4c192c++){const _0x2c654f=document[_0x59be00(0x20b)]('div');_0x2c654f['className']=_0x59be00(0x1e1),_0x2c654f['innerHTML']=_0x59be00(0x21e)+String(_0x4c192c)[_0x59be00(0x19d)](0x2,'0')+':00',_0x2c654f[_0x59be00(0x1fe)]=()=>toggleRowPattern(_0x4c192c),_0x4ee897[_0x59be00(0x1e9)](_0x2c654f);for(let _0x562c1b=0x0;_0x562c1b<0x7;_0x562c1b++){const _0x393505=document['createElement'](_0x59be00(0x17a)),_0x4398ad=(availabilityPattern[_0x562c1b]||[])[_0x59be00(0x2df)](_0x4c192c),_0x593674=!_0x4398ad;_0x393505[_0x59be00(0x23b)]=_0x59be00(0x196)+(_0x593674?'active':''),_0x393505[_0x59be00(0x1fe)]=()=>toggleSinglePattern(_0x562c1b,_0x4c192c),_0x4ee897[_0x59be00(0x1e9)](_0x393505);}}}function a2_0x1249(){const _0x12f1dc=['doWorkHours','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','setItem','uc_settings_v9','entries','json','exceptions','off','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','actionSheet','mousedown','var(--acc-orange)','btn-status-toggle\x20undo-mode','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','[Sync]\x20Loading\x20','[Notify]\x20Network\x20Failed','.day-column','valid','btn-status-toggle','vibrate',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','v9.0-BATCH-CALENDAR','pe-cell\x20','max','day-column\x20','getItem','inpClient','#050505','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','padStart','text','innerHTML','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','single','clients','inpStart','total','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','startsWith','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','msg','var(--acc-red)','localeCompare','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','charAt','left','var(--acc-current)','rangeStartDate',':00','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','touches','418445jQeuPL','getTime','</div><div\x20class=\x22dch-num\x22>','forEach','clientId','stat-','setDate','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','168LjkmGp','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','day-off-overlay\x20stripe-bg','formatDate','DOMContentLoaded','scrollLeft','.day-col-header','colIndex','touchstart','scrollWidth','init_load','disableVerticalSwipes','toUpperCase','custom','</b>\x0a\x0a','stringify','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','slice','Unknown','(((.+)+)+)+$','start','open','–£–¥–∞–ª–µ–Ω–∏–µ','overlay','10px\x2010px\x200\x200','btnStatusToggle','today','dayOptionsSheet','Local\x20Save\x20Error','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','peGrid','.sheet','isArray','[Series]\x20Skipped\x20','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','asBtnOne','rangeEndDate','pe-time-label','display','data-day-idx','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','toFixed','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','appendChild','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','saveLocally','cancelled','insertBefore','querySelector','anEnd','offClick','scroll','setHeaderColor','router.html','getHours','WebApp','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','anTotalStats','Server\x20Error','onclick','value','addEventListener','round','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','de-item','add','rangeEndTime','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','px\x20-','T00:00:00','remove','createElement','textContent','rgba(255,\x2069,\x2058,\x200.15)','background','actionSheetOverlay','inpRecurring','complete','2738610zeJXHl','as-button\x20danger','pattern','POST','syncLoad','header-','setBackgroundColor','timeColumn','cancel_window','100%','week','filter','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','\x20–∏–∑\x20','inpSeriesCount','ru-RU','</span>\x20/\x20','anDonutCircle','[Notify]\x20Attempting\x20to\x20send:','offsetLeft','.dch-stats-fill','active','push','client','T23:59:59','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','gridColumns','createDocumentFragment','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','calendar','rgba(255,\x2069,\x2058,\x200.3)','calc(','px\x200px','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','save','ready','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','mergeServerData','backgroundPosition','guest','findIndex','className','pe-col-header','daysHeaderTrack','uc_settings_cancel_window','recurringOptionContainer','series','planned','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','seriesId','completed','inpEnd','anCustomDates','delete','min','keys','dayOptionsTitle','height','patternInfoBox','status','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','</div>','split','3272RziBCb','long','\x20‚Äî\x20','815254LRQUCx','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','btn-primary\x20btn-danger','day-col-header\x20','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','12vpXQII','sheetDateSubtitle','.pib-text','querySelectorAll','clientY','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','then','setMonth','map','show','patternEditor','rgba(255,\x20159,\x2010,\x200.3)','borderColor','note','now','send','getFullYear','constructor','sort','data-date','toastTitle','name','4486QIgmfC','block','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','[Notify]\x20Error:\x20Text\x20generation\x20failed','create','text/plain;charset=UTF-8','rgba(','26800YCtGYE','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','backgroundColor','initData','rgba(100,100,100,0.5)','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','anStart','asTitle','sessionSheet','none','.event-card','uc_clients_v9','Save\x20settings\x20error:','target','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','undefined','toLocaleDateString','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','timeLineBadge','error','getDate','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','getDay',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','getElementById','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#fff','\x20-\x20','matrixViewport','closest','#0a84ff','btn-primary\x20btn-secondary','toString','catch','cancel','rangeStartTime','success','blocked-range-part\x20stripe-bg','top','rangesSheet','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','266220OGInas','null','[Notify]\x20Server\x20Response:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','month','settings','151shFihF','12ucKMdQ','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','#gridColumns\x20.day-column','save_settings','Error\x20setting\x20color:','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','as-button\x20danger\x20bold','asBtnSeries','event-card','end','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','[Settings]\x20Cancel\x20window\x20set\x20to:','mini','flex','toast','zIndex','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','toast-notification\x20','strokeDashoffset','borderLeftColor','.period-switch\x20.p-btn','width','classList','blocked-slot\x20stripe-bg','Error\x20setting\x20back\x20button:','\x20days','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','inpDate','log','done','user','...','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','doDateHeader','setHours','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','Telegram','deleted','getText','splice','borderRadius',':\x20Client\x20already\x20booked','expand','headerMonth','.day-off-overlay','seriesCountContainer','clientWidth','href','style','BackButton','doEventsList','doLoadPercent','client-stat-card','btnDayToggle','includes','10px','apply','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','inpNote','settingCancelWindow','toLocaleString','getAttribute','stopPropagation','parse','setAttribute','uc_sessions_v9','color','substr','all','find','<div\x20class=\x22ev-title\x22>','–£—Å–ø–µ—à–Ω–æ','length','floor','toastMessage','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','getMinutes','getMonth','fetchFromServer','random','numeric','%\x20+\x202px)','touchmove','globalTimeLine','dateStr','update','var(--acc-green)','option','sheetTitle','warning','ranges','location','div','105rMEZRg','checked','data','<div\x20class=\x22dch-day\x22>'];a2_0x1249=function(){return _0x12f1dc;};return a2_0x1249();}function toggleSinglePattern(_0x56a680,_0x56842a){const _0x1edcff=a2_0x2b3013;if(!availabilityPattern[_0x56a680])availabilityPattern[_0x56a680]=[];const _0x34e085=availabilityPattern[_0x56a680],_0x38253b=_0x34e085['indexOf'](_0x56842a);_0x38253b===-0x1?_0x34e085[_0x1edcff(0x228)](_0x56842a):_0x34e085[_0x1edcff(0x2d0)](_0x38253b,0x1),renderPatternEditor();}function toggleColPattern(_0x4efed6){const _0x5e5452=a2_0x2b3013;if(!availabilityPattern[_0x4efed6])availabilityPattern[_0x4efed6]=[];const _0x27894a=availabilityPattern[_0x4efed6];_0x27894a[_0x5e5452(0x2f1)]===0x0?availabilityPattern[_0x4efed6]=Array['from']({'length':0x18},(_0x5c5296,_0x119fc0)=>_0x119fc0):availabilityPattern[_0x4efed6]=[],renderPatternEditor();}function toggleRowPattern(_0x51d104){const _0x247da6=a2_0x2b3013;let _0x495513=!![];for(let _0x3f096a=0x0;_0x3f096a<0x7;_0x3f096a++){if((availabilityPattern[_0x3f096a]||[])['includes'](_0x51d104)){_0x495513=![];break;}}for(let _0x2a65cb=0x0;_0x2a65cb<0x7;_0x2a65cb++){if(!availabilityPattern[_0x2a65cb])availabilityPattern[_0x2a65cb]=[];const _0x121845=availabilityPattern[_0x2a65cb]['indexOf'](_0x51d104);if(_0x495513){if(_0x121845===-0x1)availabilityPattern[_0x2a65cb][_0x247da6(0x228)](_0x51d104);}else{if(_0x121845!==-0x1)availabilityPattern[_0x2a65cb][_0x247da6(0x2d0)](_0x121845,0x1);}}renderPatternEditor();}function renderPCol(_0x49a324,_0x5973f8){const _0x3340ba=a2_0x2b3013;_0x49a324[_0x3340ba(0x19f)]='';const _0x2a3daf=Math[_0x3340ba(0x201)](_0x49a324[_0x3340ba(0x225)]);(availabilityPattern[_0x5973f8]||[])[_0x3340ba(0x1b7)](_0x79098=>{const _0x5d1e2d=_0x3340ba,_0x2b3e2a=document['createElement'](_0x5d1e2d(0x17a));_0x2b3e2a[_0x5d1e2d(0x23b)]=_0x5d1e2d(0x2bf);const _0x89bea3=_0x79098*GRID_H;_0x2b3e2a[_0x5d1e2d(0x2d9)][_0x5d1e2d(0x29d)]=_0x89bea3+'px',_0x2b3e2a['style']['backgroundPosition']='-'+_0x2a3daf+_0x5d1e2d(0x208)+_0x89bea3+'px',_0x2b3e2a[_0x5d1e2d(0x1fe)]=_0x2d5499=>{_0x2d5499['stopPropagation'](),toggleSinglePattern(_0x5973f8,_0x79098);},_0x49a324[_0x5d1e2d(0x1e9)](_0x2b3e2a);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x686922=a2_0x2b3013,_0x4a7547=new Date(),_0x2055c4=document[_0x686922(0x28f)](_0x686922(0x171)),_0x4764c0=document['getElementById'](_0x686922(0x289)),_0xfdf597=(_0x4a7547[_0x686922(0x1f4)]()*0x3c+_0x4a7547[_0x686922(0x16a)]())/0x3c*GRID_H;_0x2055c4[_0x686922(0x2d9)]['top']=_0xfdf597+'px',_0x2055c4['style'][_0x686922(0x1e2)]='block',_0x4764c0[_0x686922(0x20c)]=String(_0x4a7547[_0x686922(0x1f4)]())[_0x686922(0x19d)](0x2,'0')+':'+String(_0x4a7547[_0x686922(0x16a)]())[_0x686922(0x19d)](0x2,'0'),_0x4764c0[_0x686922(0x2d9)]['display']=_0x686922(0x271),_0x4764c0['style']['top']=_0xfdf597+'px';}document['addEventListener'](a2_0x2b3013(0x1c0),init);function openDayOptions(_0x33f18c){const _0x3b8420=a2_0x2b3013;selectedDayForOptions=_0x33f18c;const _0x427ac5=new Date(_0x33f18c),_0x489c71={'weekday':'long','day':_0x3b8420(0x16e),'month':_0x3b8420(0x252),'year':_0x3b8420(0x16e)},_0x23c073=_0x427ac5[_0x3b8420(0x287)]('ru-RU',_0x489c71);document[_0x3b8420(0x28f)](_0x3b8420(0x2ca))[_0x3b8420(0x20c)]=_0x23c073[_0x3b8420(0x1ad)](0x0)['toUpperCase']()+_0x23c073[_0x3b8420(0x1cd)](0x1);let _0x4e8290=_0x427ac5[_0x3b8420(0x28d)]()-0x1;if(_0x4e8290===-0x1)_0x4e8290=0x6;const _0xb70569=availabilityPattern[_0x4e8290]||[],_0x37babc=0x18-_0xb70569[_0x3b8420(0x2f1)],_0x569a7b=_0x37babc*0x3c,_0x1b102b=sessions[_0x3b8420(0x21d)](_0x1f558e=>_0x1f558e[_0x3b8420(0x172)]===_0x33f18c&&_0x1f558e[_0x3b8420(0x24d)]!==_0x3b8420(0x1ec));let _0x4c1c93=_0x1b102b[_0x3b8420(0x262)](_0x44f0ae=>{const _0x799814=_0x3b8420,[_0x19add9,_0x543b72]=_0x44f0ae[_0x799814(0x1d0)][_0x799814(0x250)](':')['map'](Number),[_0x427807,_0x5b8c0e]=_0x44f0ae[_0x799814(0x2b0)][_0x799814(0x250)](':')[_0x799814(0x262)](Number);return[_0x19add9*0x3c+_0x543b72,_0x427807*0x3c+_0x5b8c0e];});_0x4c1c93[_0x3b8420(0x26c)]((_0x35900e,_0x3a0872)=>_0x35900e[0x0]-_0x3a0872[0x0]);let _0x5c74b9=[];if(_0x4c1c93[_0x3b8420(0x2f1)]>0x0){let _0x5c34d7=_0x4c1c93[0x0];for(let _0x55af64=0x1;_0x55af64<_0x4c1c93[_0x3b8420(0x2f1)];_0x55af64++){_0x4c1c93[_0x55af64][0x0]<_0x5c34d7[0x1]?_0x5c34d7[0x1]=Math[_0x3b8420(0x197)](_0x5c34d7[0x1],_0x4c1c93[_0x55af64][0x1]):(_0x5c74b9[_0x3b8420(0x228)](_0x5c34d7),_0x5c34d7=_0x4c1c93[_0x55af64]);}_0x5c74b9[_0x3b8420(0x228)](_0x5c34d7);}let _0x44f746=0x0;_0x5c74b9['forEach'](_0x47ee1f=>_0x44f746+=_0x47ee1f[0x1]-_0x47ee1f[0x0]),document[_0x3b8420(0x28f)](_0x3b8420(0x17f))['textContent']=formatMinsToHrs(_0x569a7b),document['getElementById']('doBusyHours')[_0x3b8420(0x20c)]=formatMinsToHrs(_0x44f746);const _0x5cb327=_0x569a7b>0x0?Math['round'](_0x44f746/_0x569a7b*0x64):0x0,_0xc8d5fa=document[_0x3b8420(0x28f)](_0x3b8420(0x2dc));_0xc8d5fa[_0x3b8420(0x20c)]=_0x5cb327+'%';const _0x431b56=document[_0x3b8420(0x28f)]('statLoadCard');if(_0x5cb327>0x64)_0xc8d5fa[_0x3b8420(0x2d9)]['color']='var(--acc-red)',_0x431b56['style']['borderColor']=_0x3b8420(0x230);else _0x5cb327>0x50?(_0xc8d5fa[_0x3b8420(0x2d9)][_0x3b8420(0x2eb)]=_0x3b8420(0x18a),_0x431b56[_0x3b8420(0x2d9)][_0x3b8420(0x266)]=_0x3b8420(0x265)):(_0xc8d5fa[_0x3b8420(0x2d9)][_0x3b8420(0x2eb)]='var(--acc-green)',_0x431b56[_0x3b8420(0x2d9)][_0x3b8420(0x266)]='rgba(255,255,255,0.05)');const _0x54de75=document[_0x3b8420(0x28f)](_0x3b8420(0x2db));_0x54de75[_0x3b8420(0x19f)]='';_0x1b102b[_0x3b8420(0x2f1)]===0x0?_0x54de75[_0x3b8420(0x19f)]=_0x3b8420(0x1fb):(_0x1b102b[_0x3b8420(0x26c)]((_0x4512cf,_0x2c52ea)=>_0x4512cf[_0x3b8420(0x1d0)][_0x3b8420(0x1ab)](_0x2c52ea[_0x3b8420(0x1d0)])),_0x1b102b[_0x3b8420(0x1b7)](_0x2268d0=>{const _0x203793=_0x3b8420,_0x6d9e38=clients['find'](_0x3ea920=>_0x3ea920[_0x203793(0x26f)]===_0x2268d0['client']),_0x2f72ed=_0x6d9e38?_0x6d9e38[_0x203793(0x2eb)]:_0x203793(0x291),_0x49ca3b=_0x2268d0[_0x203793(0x24d)]===_0x203793(0x244),_0x1e7770=_0x49ca3b?_0x203793(0x1e4):'',_0x13d737=document[_0x203793(0x20b)](_0x203793(0x17a));_0x13d737['className']=_0x203793(0x203),_0x13d737[_0x203793(0x2d9)][_0x203793(0x2bb)]=_0x2f72ed,_0x13d737['innerHTML']=_0x203793(0x187)+_0x2268d0[_0x203793(0x1d0)]+_0x203793(0x292)+_0x2268d0['end']+_0x203793(0x1a0)+_0x2268d0['client']+_0x203793(0x2a3)+_0x1e7770+_0x203793(0x290),_0x54de75['appendChild'](_0x13d737);}));const _0x17a3f7=document[_0x3b8420(0x28f)](_0x3b8420(0x2de)),_0xb8dd79=dateExceptions[_0x33f18c]==='off';_0xb8dd79?(_0x17a3f7[_0x3b8420(0x20c)]=_0x3b8420(0x169),_0x17a3f7[_0x3b8420(0x23b)]=_0x3b8420(0x296),_0x17a3f7['style'][_0x3b8420(0x2eb)]=_0x3b8420(0x174),_0x17a3f7[_0x3b8420(0x2d9)][_0x3b8420(0x20e)]='rgba(48,\x20209,\x2088,\x200.15)'):(_0x17a3f7[_0x3b8420(0x20c)]=_0x3b8420(0x1fa),_0x17a3f7[_0x3b8420(0x23b)]=_0x3b8420(0x256),_0x17a3f7['style'][_0x3b8420(0x2eb)]=_0x3b8420(0x1aa),_0x17a3f7[_0x3b8420(0x2d9)][_0x3b8420(0x20e)]=_0x3b8420(0x20d)),openSheet(_0x3b8420(0x1d7));}let currentAnPeriod=a2_0x2b3013(0x21c);function openAnalytics(){const _0x6f3dcf=a2_0x2b3013,_0x645c54=document[_0x6f3dcf(0x1ee)]('.period-switch\x20.p-btn');setAnalyticsPeriod(_0x6f3dcf(0x21c),_0x645c54),closeAllSheets(),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x3e762b,_0x56c6a8){const _0x346a70=a2_0x2b3013;currentAnPeriod=_0x3e762b,document[_0x346a70(0x25d)](_0x346a70(0x2bc))['forEach'](_0x1a5bd8=>_0x1a5bd8[_0x346a70(0x2be)]['remove'](_0x346a70(0x227)));if(_0x56c6a8)_0x56c6a8[_0x346a70(0x2be)][_0x346a70(0x204)](_0x346a70(0x227));const _0x4e29e4=document['getElementById'](_0x346a70(0x246));_0x4e29e4[_0x346a70(0x2d9)]['display']=_0x3e762b===_0x346a70(0x1c9)?_0x346a70(0x2b4):'none';const _0x2ceb5c=new Date();let _0x1d27ad=new Date(),_0x1001fc=new Date();if(_0x3e762b===_0x346a70(0x21c))_0x1d27ad=getStartOfWeek(_0x2ceb5c),_0x1001fc=new Date(_0x1d27ad),_0x1001fc[_0x346a70(0x1ba)](_0x1001fc[_0x346a70(0x28b)]()+0x6);else{if(_0x3e762b===_0x346a70(0x2a4))_0x1d27ad=new Date(_0x2ceb5c[_0x346a70(0x26a)](),_0x2ceb5c[_0x346a70(0x16b)](),0x1),_0x1001fc=new Date(_0x2ceb5c[_0x346a70(0x26a)](),_0x2ceb5c[_0x346a70(0x16b)]()+0x1,0x0);else{!document[_0x346a70(0x28f)](_0x346a70(0x27d))[_0x346a70(0x1ff)]&&(document[_0x346a70(0x28f)](_0x346a70(0x27d))['value']=getLocalDateStr(_0x2ceb5c),document[_0x346a70(0x28f)]('anEnd')[_0x346a70(0x1ff)]=getLocalDateStr(_0x2ceb5c));refreshAnalytics();return;}}document['getElementById'](_0x346a70(0x27d))[_0x346a70(0x1ff)]=getLocalDateStr(_0x1d27ad),document[_0x346a70(0x28f)](_0x346a70(0x1ef))[_0x346a70(0x1ff)]=getLocalDateStr(_0x1001fc),refreshAnalytics();}function refreshAnalytics(){const _0xa9c8b0=a2_0x2b3013,_0x3f2aa7=document[_0xa9c8b0(0x28f)](_0xa9c8b0(0x27d))[_0xa9c8b0(0x1ff)],_0xc89a9f=document[_0xa9c8b0(0x28f)](_0xa9c8b0(0x1ef))['value'];if(!_0x3f2aa7||!_0xc89a9f)return;const _0x414e84=sessions[_0xa9c8b0(0x21d)](_0x3cf144=>_0x3cf144[_0xa9c8b0(0x172)]>=_0x3f2aa7&&_0x3cf144[_0xa9c8b0(0x172)]<=_0xc89a9f&&_0x3cf144[_0xa9c8b0(0x24d)]!==_0xa9c8b0(0x1ec)),_0x5c5743=_0x414e84['length'],_0x375b68=_0x414e84[_0xa9c8b0(0x21d)](_0x3d72ed=>_0x3d72ed[_0xa9c8b0(0x24d)]==='completed')[_0xa9c8b0(0x2f1)],_0xeabab=_0x5c5743>0x0?Math['round'](_0x375b68/_0x5c5743*0x64):0x0;document['getElementById']('anPercent')[_0xa9c8b0(0x20c)]=_0xeabab+'%',document[_0xa9c8b0(0x28f)](_0xa9c8b0(0x1fc))[_0xa9c8b0(0x20c)]=_0x375b68+_0xa9c8b0(0x21f)+_0x5c5743+_0xa9c8b0(0x255);const _0x469838=document[_0xa9c8b0(0x28f)](_0xa9c8b0(0x223)),_0x5df512=0x2*Math['PI']*0x23,_0xff1474=_0x5df512-_0xeabab/0x64*_0x5df512;_0x469838['style'][_0xa9c8b0(0x2ba)]=_0xff1474;const _0x167778={};_0x414e84[_0xa9c8b0(0x1b7)](_0x2718a2=>{const _0x10ed7d=_0xa9c8b0;if(!_0x167778[_0x2718a2['client']]){const _0xfab963=clients[_0x10ed7d(0x2ee)](_0x52d9dd=>_0x52d9dd[_0x10ed7d(0x26f)]===_0x2718a2[_0x10ed7d(0x229)]);_0x167778[_0x2718a2[_0x10ed7d(0x229)]]={'total':0x0,'done':0x0,'color':_0xfab963?_0xfab963[_0x10ed7d(0x2eb)]:_0x10ed7d(0x291)};}_0x167778[_0x2718a2['client']][_0x10ed7d(0x1a4)]++;if(_0x2718a2[_0x10ed7d(0x24d)]===_0x10ed7d(0x244))_0x167778[_0x2718a2[_0x10ed7d(0x229)]][_0x10ed7d(0x2c5)]++;});const _0x456c82=document[_0xa9c8b0(0x28f)]('analyticsList');_0x456c82[_0xa9c8b0(0x19f)]='';const _0xbd8f37=Object[_0xa9c8b0(0x183)](_0x167778)[_0xa9c8b0(0x26c)]((_0x24d3ed,_0x3fcc88)=>_0x3fcc88[0x1]['total']-_0x24d3ed[0x1]['total']);if(_0xbd8f37[_0xa9c8b0(0x2f1)]===0x0){_0x456c82['innerHTML']=_0xa9c8b0(0x2a8);return;}_0xbd8f37[_0xa9c8b0(0x1b7)](([_0x3c8ddb,_0x537617])=>{const _0x112868=_0xa9c8b0,_0x424564=Math[_0x112868(0x201)](_0x537617[_0x112868(0x2c5)]/_0x537617[_0x112868(0x1a4)]*0x64),_0x3e6025=document[_0x112868(0x20b)](_0x112868(0x17a));_0x3e6025['className']=_0x112868(0x2dd),_0x3e6025[_0x112868(0x2d9)][_0x112868(0x2bb)]=_0x537617[_0x112868(0x2eb)],_0x3e6025[_0x112868(0x19f)]=_0x112868(0x2b1)+_0x3c8ddb+_0x112868(0x1ac)+_0x537617[_0x112868(0x2c5)]+_0x112868(0x222)+_0x537617[_0x112868(0x1a4)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x424564+_0x112868(0x285),_0x456c82[_0x112868(0x1e9)](_0x3e6025);});}function formatMinsToHrs(_0x95c0cb){if(_0x95c0cb===0x0)return'0';const _0x1c2d8e=Math['floor'](_0x95c0cb/0x3c),_0x563760=_0x95c0cb%0x3c;if(_0x563760===0x0)return _0x1c2d8e+'—á';return _0x1c2d8e+'—á\x20'+_0x563760+'–º';}