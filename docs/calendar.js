const a2_0x544194=a2_0x5941;(function(_0x9aba03,_0x8cd338){const _0x4dc7f8=a2_0x5941,_0x55eb30=_0x9aba03();while(!![]){try{const _0x4a7087=parseInt(_0x4dc7f8(0x295))/0x1*(parseInt(_0x4dc7f8(0x216))/0x2)+-parseInt(_0x4dc7f8(0x232))/0x3*(-parseInt(_0x4dc7f8(0x1c1))/0x4)+-parseInt(_0x4dc7f8(0x22d))/0x5*(-parseInt(_0x4dc7f8(0x1d6))/0x6)+parseInt(_0x4dc7f8(0x26d))/0x7+-parseInt(_0x4dc7f8(0x1da))/0x8*(parseInt(_0x4dc7f8(0x2cf))/0x9)+-parseInt(_0x4dc7f8(0x297))/0xa+parseInt(_0x4dc7f8(0x198))/0xb*(parseInt(_0x4dc7f8(0x2ea))/0xc);if(_0x4a7087===_0x8cd338)break;else _0x55eb30['push'](_0x55eb30['shift']());}catch(_0x5b8cd7){_0x55eb30['push'](_0x55eb30['shift']());}}}(a2_0x55ae,0xe37ff),function initTMA(){const _0x37535f=a2_0x5941;try{const _0x1019f3=window[_0x37535f(0x1fe)]?.[_0x37535f(0x1ba)];if(!_0x1019f3)return;_0x1019f3['ready'](),_0x1019f3[_0x37535f(0x2ba)]();try{_0x1019f3[_0x37535f(0x286)](_0x37535f(0x28f)),_0x1019f3[_0x37535f(0x2bf)]&&_0x1019f3[_0x37535f(0x2bf)]('#050505');}catch(_0x1a271a){console[_0x37535f(0x2cb)](_0x37535f(0x1ee),_0x1a271a);}try{_0x1019f3[_0x37535f(0x1ff)]&&(_0x1019f3[_0x37535f(0x1ff)]['show'](),_0x1019f3[_0x37535f(0x1ff)][_0x37535f(0x1fb)](),_0x1019f3[_0x37535f(0x1ff)]['onClick'](function(){const _0x3ca3d1=_0x37535f;window[_0x3ca3d1(0x2ab)]['href']=_0x3ca3d1(0x25a);}));}catch(_0x5c6c06){console['log'](_0x37535f(0x268),_0x5c6c06);}try{if(_0x1019f3[_0x37535f(0x2c3)])_0x1019f3['disableVerticalSwipes']();}catch(_0x1138dd){}}catch(_0x55f3a5){console['error'](_0x37535f(0x2d6),_0x55f3a5);}}());function isAdmin(){const _0x726399=a2_0x5941;try{const _0x299874=Number(window['Telegram']?.[_0x726399(0x1ba)]?.[_0x726399(0x2ca)]?.['user']?.['id']);return _0x299874===0xbaf7174;}catch(_0x12a2c2){return![];}}const APP_VERSION=a2_0x544194(0x2b8),API_URL=a2_0x544194(0x19f),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS='uc_clients_v9',KEY_SESSIONS=a2_0x544194(0x2e7),KEY_SETTINGS=a2_0x544194(0x28b);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0xb2df9f=a2_0x544194;return window[_0xb2df9f(0x1fe)]?.['WebApp']?.[_0xb2df9f(0x2ca)]?.[_0xb2df9f(0x23b)]?.['id']||'guest';},'saveLocally'(){const _0x4910c0=a2_0x544194;try{localStorage['setItem'](KEY_CLIENTS,JSON[_0x4910c0(0x196)](clients)),localStorage[_0x4910c0(0x24d)](KEY_SESSIONS,JSON['stringify'](sessions)),localStorage[_0x4910c0(0x24d)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x3fc0fd){console[_0x4910c0(0x21d)](_0x4910c0(0x2e9),_0x3fc0fd);}},'loadLocal'(){const _0x31f46c=a2_0x544194;try{const _0x1ab9bf=localStorage[_0x31f46c(0x2f2)](KEY_CLIENTS);if(_0x1ab9bf)clients=JSON['parse'](_0x1ab9bf);const _0x5d0ed8=localStorage[_0x31f46c(0x2f2)](KEY_SESSIONS);if(_0x5d0ed8)sessions=JSON['parse'](_0x5d0ed8);const _0x3a4b07=localStorage[_0x31f46c(0x2f2)](KEY_SETTINGS);if(_0x3a4b07){const _0x4938d2=JSON[_0x31f46c(0x29c)](_0x3a4b07);if(_0x4938d2[_0x31f46c(0x18f)])availabilityPattern=_0x4938d2[_0x31f46c(0x18f)];if(_0x4938d2[_0x31f46c(0x29b)])dateExceptions=_0x4938d2[_0x31f46c(0x29b)];if(_0x4938d2['ranges'])specialRanges=_0x4938d2['ranges'];}else{for(let _0x56e41b=0x0;_0x56e41b<0x7;_0x56e41b++)availabilityPattern[_0x56e41b]=Array[_0x31f46c(0x2b3)]({'length':0xc},(_0x63fa02,_0x36a9f2)=>_0x36a9f2+0x9);}}catch(_0x3d5ee6){console[_0x31f46c(0x21d)](_0x31f46c(0x2f3),_0x3d5ee6);}},async 'fetchFromServer'(_0x1793c5,_0x4bcffb={}){const _0x51118f=a2_0x544194,_0x49469f=window[_0x51118f(0x1fe)]?.[_0x51118f(0x1ba)],_0x548e23={'action':_0x1793c5,'init_data':_0x49469f?.[_0x51118f(0x1b4)]||'',..._0x4bcffb};try{const _0x3f03b6=await fetch(API_URL,{'method':_0x51118f(0x2fe),'headers':{'Content-Type':'text/plain;charset=UTF-8'},'body':JSON[_0x51118f(0x196)](_0x548e23)}),_0x271676=await _0x3f03b6[_0x51118f(0x27a)]();if(!_0x271676['ok'])throw new Error(_0x271676[_0x51118f(0x21d)]||_0x51118f(0x241));return _0x271676[_0x51118f(0x242)];}catch(_0x438920){console[_0x51118f(0x21d)](_0x51118f(0x24a)+_0x1793c5+_0x51118f(0x2c4),_0x438920);throw _0x438920;}},async 'syncLoad'(){const _0x430f88=a2_0x544194,_0x49649e=new Date(),_0x146158=_0x49649e[_0x430f88(0x291)]()+'-'+String(_0x49649e[_0x430f88(0x19d)]()+0x1)[_0x430f88(0x2aa)](0x2,'0'),_0x36851b=new Date(_0x49649e);_0x36851b[_0x430f88(0x25c)](_0x49649e[_0x430f88(0x19d)]()+0x1);const _0x1be738=_0x36851b[_0x430f88(0x291)]()+'-'+String(_0x36851b[_0x430f88(0x19d)]()+0x1)[_0x430f88(0x2aa)](0x2,'0'),_0x4fa064=Date[_0x430f88(0x224)]();console[_0x430f88(0x2cb)](_0x430f88(0x265)+_0x146158+',\x20'+_0x1be738+_0x430f88(0x259));try{const [_0x26bc10,_0xb86a0d]=await Promise[_0x430f88(0x1c6)]([this[_0x430f88(0x235)]('init_load',{'month_str':_0x146158}),this[_0x430f88(0x235)](_0x430f88(0x2f6),{'month_str':_0x1be738})]);if(lastUserActionTime>_0x4fa064)return console[_0x430f88(0x1a2)](_0x430f88(0x2c0)),![];return this['mergeServerData'](_0x26bc10,_0x146158),this[_0x430f88(0x206)](_0xb86a0d,_0x1be738),this['saveLocally'](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x3f19fa){console[_0x430f88(0x21d)](_0x3f19fa);throw _0x3f19fa;}},'mergeServerData'(_0x1f3945,_0x1d92fd){const _0x41623e=a2_0x544194;if(!_0x1f3945)return;_0x1f3945[_0x41623e(0x1bb)]&&Array[_0x41623e(0x218)](_0x1f3945[_0x41623e(0x1bb)])&&(clients=_0x1f3945[_0x41623e(0x1bb)]);if(_0x1f3945[_0x41623e(0x2be)]){if(_0x1f3945[_0x41623e(0x2be)][_0x41623e(0x18f)])availabilityPattern=_0x1f3945[_0x41623e(0x2be)][_0x41623e(0x18f)];if(_0x1f3945['settings']['exceptions'])dateExceptions=_0x1f3945['settings'][_0x41623e(0x29b)];if(_0x1f3945[_0x41623e(0x2be)][_0x41623e(0x236)])specialRanges=_0x1f3945[_0x41623e(0x2be)][_0x41623e(0x236)];if(_0x1f3945[_0x41623e(0x2be)][_0x41623e(0x1e7)]){localStorage[_0x41623e(0x24d)](_0x41623e(0x1d1),_0x1f3945[_0x41623e(0x2be)][_0x41623e(0x1e7)]);const _0x13a8ec=document[_0x41623e(0x182)](_0x41623e(0x2c2));if(_0x13a8ec)_0x13a8ec['value']=_0x1f3945['settings'][_0x41623e(0x1e7)];}}_0x1f3945[_0x41623e(0x24c)]&&(sessions=sessions[_0x41623e(0x223)](_0x3b9727=>!_0x3b9727[_0x41623e(0x2bd)][_0x41623e(0x1f2)](_0x1d92fd)),Object[_0x41623e(0x237)](_0x1f3945[_0x41623e(0x24c)])[_0x41623e(0x190)](_0x5d7134=>{const _0x313a03=_0x41623e,_0x20471b=_0x1f3945[_0x313a03(0x24c)][_0x5d7134];_0x20471b[_0x313a03(0x190)](_0x23a312=>{const _0x12786a=_0x313a03,_0x406809=clients[_0x12786a(0x20f)](_0x1071c5=>String(_0x1071c5['id'])===String(_0x23a312['c']));sessions['push']({'id':_0x23a312['i'],'clientId':_0x23a312['c'],'client':_0x406809?_0x406809[_0x12786a(0x308)]:_0x12786a(0x250),'dateStr':_0x1d92fd+'-'+_0x5d7134[_0x12786a(0x2aa)](0x2,'0'),'start':_0x23a312['s'],'end':_0x23a312['e'],'status':_0x23a312['st']||'planned','note':_0x23a312['n']||'','seriesId':_0x23a312[_0x12786a(0x230)]||null});});}));},async 'syncBatch'(_0x309fe3){const _0x1a2478=a2_0x544194,_0x1b138a=[...new Set(_0x309fe3)],_0x6599e5=_0x1b138a[_0x1a2478(0x2ac)](_0x26dd43=>{const _0x288c34=_0x1a2478,_0x2cb049=sessions[_0x288c34(0x223)](_0x3c9794=>_0x3c9794['dateStr']===_0x26dd43&&_0x3c9794[_0x288c34(0x2e8)]!=='deleted'),_0x255a85=_0x2cb049['map'](_0x6d209f=>({'i':_0x6d209f['id'],'c':_0x6d209f[_0x288c34(0x2bb)],'s':_0x6d209f['start'],'e':_0x6d209f[_0x288c34(0x30b)],'st':_0x6d209f[_0x288c34(0x2e8)],'n':_0x6d209f['note'],'sid':_0x6d209f[_0x288c34(0x1f6)]}));return{'date':_0x26dd43,'day_data':_0x255a85};});if(_0x6599e5['length']===0x0)return;console[_0x1a2478(0x2cb)]('[Sync]\x20Pushing\x20batch\x20updates\x20for\x20'+_0x6599e5['length']+_0x1a2478(0x1eb)),await this[_0x1a2478(0x235)](_0x1a2478(0x283),{'changes':_0x6599e5});}};async function init(){const _0x439cb7=a2_0x544194;DataManager[_0x439cb7(0x1cb)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x439cb7(0x182)](_0x439cb7(0x2a2))[_0x439cb7(0x18d)](_0x439cb7(0x247),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x439cb7(0x19a)]()[_0x439cb7(0x1ab)](()=>{const _0x5a9f1e=_0x439cb7;showToast(_0x5a9f1e(0x29e),!![]);})[_0x439cb7(0x1fa)](_0x54537f=>{const _0x581b87=_0x439cb7;showToast(_0x581b87(0x1d8),![]);});}function generateId(){const _0x44702e=a2_0x544194;return Date[_0x44702e(0x224)]()['toString'](0x24)+Math['random']()[_0x44702e(0x287)](0x24)[_0x44702e(0x25d)](0x2,0x5);}function toggleSeriesInput(){const _0xa2ddb9=a2_0x544194,_0x4c8c2c=document['getElementById'](_0xa2ddb9(0x303))[_0xa2ddb9(0x266)],_0x2c7e49=document[_0xa2ddb9(0x182)](_0xa2ddb9(0x2fb));_0x2c7e49['style'][_0xa2ddb9(0x2d9)]=_0x4c8c2c?_0xa2ddb9(0x220):_0xa2ddb9(0x23a);const _0x3cc1f8=document[_0xa2ddb9(0x182)](_0xa2ddb9(0x192));_0x3cc1f8[_0xa2ddb9(0x1ec)][_0xa2ddb9(0x2c8)]=_0x4c8c2c?_0xa2ddb9(0x1de):_0xa2ddb9(0x22e);}function openAddSession(_0x10db02){const _0x2eadb8=a2_0x544194;editingId=null,populateClientSelect(),document[_0x2eadb8(0x182)](_0x2eadb8(0x258))[_0x2eadb8(0x23c)]='–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å',document[_0x2eadb8(0x182)](_0x2eadb8(0x23d))[_0x2eadb8(0x1ec)][_0x2eadb8(0x2d9)]='none',document[_0x2eadb8(0x182)](_0x2eadb8(0x26e))[_0x2eadb8(0x1ec)][_0x2eadb8(0x2d9)]=_0x2eadb8(0x23a);const _0xbaf131=document[_0x2eadb8(0x182)](_0x2eadb8(0x192)),_0x547976=document['getElementById']('seriesCountContainer');_0xbaf131[_0x2eadb8(0x1ec)][_0x2eadb8(0x2d9)]=_0x2eadb8(0x20d),_0xbaf131[_0x2eadb8(0x1ec)][_0x2eadb8(0x2c8)]=_0x2eadb8(0x22e),document[_0x2eadb8(0x182)]('inpRecurring')[_0x2eadb8(0x266)]=![],document[_0x2eadb8(0x182)](_0x2eadb8(0x2fc))['value']=0x4,_0x547976[_0x2eadb8(0x1ec)]['display']=_0x2eadb8(0x23a),document['getElementById'](_0x2eadb8(0x244))['value']=getLocalDateStr(_0x10db02),updateDateDisplay();const _0x388a7b=_0x10db02[_0x2eadb8(0x2f7)]();document[_0x2eadb8(0x182)]('inpStart')[_0x2eadb8(0x201)]=String(_0x388a7b)[_0x2eadb8(0x2aa)](0x2,'0')+_0x2eadb8(0x2f9),document[_0x2eadb8(0x182)]('inpEnd')[_0x2eadb8(0x201)]=String(_0x388a7b+0x1)[_0x2eadb8(0x2aa)](0x2,'0')+':00',openSheet('sessionSheet');}function openEdit(_0x67592f){const _0x336e4a=a2_0x544194;editingId=_0x67592f['id'],populateClientSelect(),document[_0x336e4a(0x182)]('sheetTitle')['textContent']=_0x336e4a(0x2b1),document[_0x336e4a(0x182)](_0x336e4a(0x23d))[_0x336e4a(0x1ec)][_0x336e4a(0x2d9)]=_0x336e4a(0x220);const _0xeb475b=document[_0x336e4a(0x182)](_0x336e4a(0x26e));_0xeb475b['style']['display']=_0x336e4a(0x20d);_0x67592f[_0x336e4a(0x2e8)]===_0x336e4a(0x2df)?(_0xeb475b[_0x336e4a(0x240)]=_0x336e4a(0x203),_0xeb475b['innerHTML']=_0x336e4a(0x25b)):(_0xeb475b[_0x336e4a(0x240)]=_0x336e4a(0x1a9),_0xeb475b[_0x336e4a(0x298)]=_0x336e4a(0x29d));const _0x1d8f40=!!_0x67592f[_0x336e4a(0x1f6)];document['getElementById']('recurringOptionContainer')[_0x336e4a(0x1ec)][_0x336e4a(0x2d9)]=_0x336e4a(0x23a),document[_0x336e4a(0x182)]('seriesCountContainer')['style']['display']=_0x336e4a(0x23a),_0x1d8f40?(document['getElementById'](_0x336e4a(0x22a))[_0x336e4a(0x1ec)][_0x336e4a(0x2d9)]=_0x336e4a(0x20d),document[_0x336e4a(0x182)](_0x336e4a(0x22a))[_0x336e4a(0x2d7)](_0x336e4a(0x1e9))[_0x336e4a(0x23c)]=_0x336e4a(0x28c)):document['getElementById'](_0x336e4a(0x22a))['style'][_0x336e4a(0x2d9)]=_0x336e4a(0x23a),document[_0x336e4a(0x182)](_0x336e4a(0x1bf))['value']=_0x67592f[_0x336e4a(0x262)],document[_0x336e4a(0x182)](_0x336e4a(0x244))[_0x336e4a(0x201)]=_0x67592f[_0x336e4a(0x2bd)],document['getElementById'](_0x336e4a(0x2e2))[_0x336e4a(0x201)]=_0x67592f[_0x336e4a(0x2c9)],document[_0x336e4a(0x182)](_0x336e4a(0x19c))[_0x336e4a(0x201)]=_0x67592f[_0x336e4a(0x30b)],document[_0x336e4a(0x182)]('inpNote')['value']=_0x67592f[_0x336e4a(0x1d4)]||'',updateDateDisplay(),openSheet(_0x336e4a(0x1ef));}async function trySaveSession(){const _0x1acda7=a2_0x544194,_0x501343=document['getElementById'](_0x1acda7(0x1bf))['value'],_0x53fc3c=document['getElementById'](_0x1acda7(0x244))[_0x1acda7(0x201)],_0x116534=document[_0x1acda7(0x182)](_0x1acda7(0x2e2))[_0x1acda7(0x201)],_0x3de2dd=document[_0x1acda7(0x182)](_0x1acda7(0x19c))[_0x1acda7(0x201)],_0x574b2e=document[_0x1acda7(0x182)](_0x1acda7(0x251))['value'],_0x19e147=document[_0x1acda7(0x182)]('inpRecurring')[_0x1acda7(0x266)];let _0x3920df=0x4;if(_0x19e147){const _0x417260=parseInt(document[_0x1acda7(0x182)](_0x1acda7(0x2fc))[_0x1acda7(0x201)]);if(!_0x417260||_0x417260<0x2){showToast(_0x1acda7(0x2eb),![]);return;}if(_0x417260>0x64){showToast(_0x1acda7(0x1a8),![]);return;}_0x3920df=_0x417260;}const _0x162e8f=clients[_0x1acda7(0x20f)](_0x3808b4=>_0x3808b4[_0x1acda7(0x308)]===_0x501343);if(!_0x162e8f){showToast(_0x1acda7(0x234),![]);return;}const _0x5cbfc9=validateAppointment(_0x53fc3c,_0x116534,_0x3de2dd,editingId,_0x162e8f['id']);if(!_0x5cbfc9['valid']){showToast(_0x5cbfc9[_0x1acda7(0x2b6)],![]);return;}_0x5cbfc9[_0x1acda7(0x2fa)]&&showToast(_0x5cbfc9[_0x1acda7(0x2fa)],![]);const _0x3810ea={'client':_0x501343,'clientId':_0x162e8f['id'],'start':_0x116534,'end':_0x3de2dd,'note':_0x574b2e,'status':'planned'},_0x4e1f7a=editingId?sessions[_0x1acda7(0x20f)](_0x48ec41=>_0x48ec41['id']===editingId):null;if(_0x4e1f7a&&_0x4e1f7a[_0x1acda7(0x1f6)]){tempSessionData={..._0x3810ea,'dateStr':_0x53fc3c,'id':editingId,'seriesId':_0x4e1f7a[_0x1acda7(0x1f6)]},openActionSheet(_0x1acda7(0x1d2));return;}let _0x208da1=null;if(!editingId)_0x208da1=_0x1acda7(0x276);else{if(_0x4e1f7a){if(String(_0x4e1f7a[_0x1acda7(0x2bb)])!==String(_0x162e8f['id']))console[_0x1acda7(0x2cb)](_0x1acda7(0x255)),NotificationManager[_0x1acda7(0x1b2)](_0x1acda7(0x1dd),_0x4e1f7a),_0x208da1=_0x1acda7(0x276);else(_0x4e1f7a['start']!==_0x116534||_0x4e1f7a[_0x1acda7(0x30b)]!==_0x3de2dd||_0x4e1f7a[_0x1acda7(0x2bd)]!==_0x53fc3c)&&(_0x208da1='update');}}if(!editingId&&_0x19e147){createBatchSeries(_0x3810ea,_0x53fc3c,_0x3920df),NotificationManager['send'](_0x1acda7(0x276),{..._0x3810ea,'dateStr':_0x53fc3c});return;}lastUserActionTime=Date['now']();const _0x12c46a={..._0x3810ea,'dateStr':_0x53fc3c,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x12c46a),_0x208da1&&NotificationManager[_0x1acda7(0x1b2)](_0x208da1,_0x12c46a);}function toggleSessionStatus(){const _0x59fe26=a2_0x544194;lastUserActionTime=Date[_0x59fe26(0x224)]();const _0x40207b=sessions['find'](_0x5c3aff=>_0x5c3aff['id']===editingId);if(!_0x40207b)return;const _0x131cf6=_0x40207b[_0x59fe26(0x2e8)]===_0x59fe26(0x2df)?_0x59fe26(0x18c):_0x59fe26(0x2df);_0x40207b[_0x59fe26(0x2e8)]=_0x131cf6,saveSingleSession(_0x40207b),_0x131cf6===_0x59fe26(0x2df)&&NotificationManager['send'](_0x59fe26(0x2dc),_0x40207b),showToast(_0x131cf6===_0x59fe26(0x2df)?_0x59fe26(0x307):'–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω',!![]);}function validateAppointment(_0x5d6c70,_0x173c0f,_0x16407b,_0x9f943b,_0x204ee5){const _0x2957f9=a2_0x544194,[_0x5d2f90,_0xd5b39f]=_0x173c0f['split'](':')['map'](Number),[_0x23ea66,_0xa9aad8]=_0x16407b['split'](':')[_0x2957f9(0x2ac)](Number),_0x9929dc=_0x5d2f90*0x3c+_0xd5b39f,_0x2b7833=_0x23ea66*0x3c+_0xa9aad8,_0x488eaf=String(_0x204ee5);let _0x208d6c=![],_0x25e6e2='';for(let _0x45b616 of sessions){if(_0x45b616['dateStr']!==_0x5d6c70)continue;if(_0x45b616[_0x2957f9(0x2e8)]===_0x2957f9(0x302))continue;if(_0x9f943b&&String(_0x45b616['id'])===String(_0x9f943b))continue;const [_0x435ccd,_0x4a27a5]=_0x45b616[_0x2957f9(0x2c9)]['split'](':')[_0x2957f9(0x2ac)](Number),[_0x2bbf0a,_0x453376]=_0x45b616[_0x2957f9(0x30b)][_0x2957f9(0x227)](':')['map'](Number),_0x151b56=_0x435ccd*0x3c+_0x4a27a5,_0x41f782=_0x2bbf0a*0x3c+_0x453376;if(Math[_0x2957f9(0x2e0)](_0x9929dc,_0x151b56)<Math[_0x2957f9(0x285)](_0x2b7833,_0x41f782)){if(_0x45b616[_0x2957f9(0x2bb)]&&String(_0x45b616[_0x2957f9(0x2bb)])===_0x488eaf)return{'valid':![],'msg':_0x2957f9(0x2c7)+_0x45b616[_0x2957f9(0x262)]+_0x2957f9(0x22b)};_0x208d6c=!![],_0x25e6e2=_0x45b616[_0x2957f9(0x262)];}}if(_0x208d6c)return{'valid':!![],'warning':'–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20'+_0x25e6e2};return{'valid':!![]};}function saveSingleSession(_0x4308dc){const _0x28508e=a2_0x544194;if(editingId){const _0x5f5c5f=sessions[_0x28508e(0x2e5)](_0x286583=>_0x286583['id']===editingId);if(_0x5f5c5f!==-0x1)sessions[_0x5f5c5f]=_0x4308dc;}else sessions[_0x28508e(0x2cc)](_0x4308dc);afterSaveAction([_0x4308dc[_0x28508e(0x2bd)]]);}function createBatchSeries(_0xc97b3f,_0x44a3d0,_0x2a0741){const _0x9809c8=a2_0x544194,_0x2c78c8=generateId(),_0x4d4663=[],_0x145e82=[];let _0x2d2492=0x0,_0x4e431f=new Date(_0x44a3d0);for(let _0x4d2ecc=0x0;_0x4d2ecc<_0x2a0741;_0x4d2ecc++){const _0x2a4aa6=getLocalDateStr(_0x4e431f),_0x1f7218=validateAppointment(_0x2a4aa6,_0xc97b3f[_0x9809c8(0x2c9)],_0xc97b3f[_0x9809c8(0x30b)],null,_0xc97b3f['clientId']);if(!_0x1f7218[_0x9809c8(0x210)])console[_0x9809c8(0x2cb)](_0x9809c8(0x1a0)+_0x2a4aa6+':\x20Client\x20already\x20booked'),_0x2d2492++;else{const _0x13059a={..._0xc97b3f,'id':generateId(),'dateStr':_0x2a4aa6,'seriesId':_0x2c78c8};_0x145e82[_0x9809c8(0x2cc)](_0x13059a),_0x4d4663[_0x9809c8(0x2cc)](_0x2a4aa6);}_0x4e431f[_0x9809c8(0x272)](_0x4e431f['getDate']()+0x7);}if(_0x145e82['length']===0x0){showToast(_0x9809c8(0x245),![]);return;}sessions[_0x9809c8(0x2cc)](..._0x145e82),lastUserActionTime=Date[_0x9809c8(0x224)]();let _0x1a1369=_0x9809c8(0x2b4)+_0x145e82[_0x9809c8(0x2ef)];_0x2d2492>0x0&&(_0x1a1369+=_0x9809c8(0x19e)+_0x2d2492+')'),showToast(_0x1a1369,!![]),afterSaveAction(_0x4d4663);}function updateSeriesBatch(_0x2c2528,_0x98fac4){const _0x5858f9=a2_0x544194,_0x233da1=[],_0x2c1094=_0x98fac4[_0x5858f9(0x1f6)];if(_0x2c2528===_0x5858f9(0x28a)){const _0x1eb376={..._0x98fac4,'seriesId':null},_0xc9f68c=sessions[_0x5858f9(0x2e5)](_0x32ca27=>_0x32ca27['id']===_0x98fac4['id']);if(_0xc9f68c!==-0x1)sessions[_0xc9f68c]=_0x1eb376;_0x233da1['push'](_0x1eb376[_0x5858f9(0x2bd)]);}else{if(_0x2c2528==='series'){const _0x54d6ab=_0x98fac4[_0x5858f9(0x2bd)];sessions['forEach']((_0x3777de,_0x1a6b48)=>{const _0x297374=_0x5858f9;_0x3777de[_0x297374(0x1f6)]===_0x2c1094&&_0x3777de[_0x297374(0x2bd)]>=_0x54d6ab&&(sessions[_0x1a6b48]={...sessions[_0x1a6b48],'start':_0x98fac4['start'],'end':_0x98fac4[_0x297374(0x30b)],'note':_0x98fac4[_0x297374(0x1d4)],'client':_0x98fac4[_0x297374(0x262)],'clientId':_0x98fac4['clientId']},_0x233da1[_0x297374(0x2cc)](_0x3777de[_0x297374(0x2bd)]));});}}afterSaveAction(_0x233da1);}function tryDeleteSession(){const _0x17eef4=a2_0x544194,_0x35a00e=sessions[_0x17eef4(0x20f)](_0x4bcc7f=>_0x4bcc7f['id']===editingId);if(!_0x35a00e)return;_0x35a00e[_0x17eef4(0x1f6)]?openActionSheet('delete'):commitDelete('single',_0x35a00e);}function a2_0x55ae(){const _0x2f0d05=['2Zobykp',':00</span>','isArray','touchstart','actionSheetOverlay','<div\x20class=\x22dch-day\x22>','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','error','as-button\x20danger','active','block','daysHeaderTrack','slice','filter','now','color','rgba(255,\x2069,\x2058,\x200.3)','split','offsetLeft','px\x20-','patternInfoBox',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','null','4585xsrqUt','10px','createElement','sid','anDonutCircle','334284JktqNB','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','fetchFromServer','ranges','keys','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','clientY','none','user','textContent','btnDelete','total','top','className','Server\x20Error','data','strokeDashoffset','inpDate','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','doLoadPercent','scroll','remove','</div><div\x20class=\x22dch-num\x22>','[API\x20',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','calendar','setItem','analyticsSheet','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','Unknown','inpNote','var(--acc-green)','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','round','[Notify]\x20Client\x20SWAP\x20detected','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','series','sheetTitle','...','router.html','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','setMonth','substr','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','setAttribute','var(--acc-red)','.day-col-header','client','dayOptionsTitle','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','[Sync]\x20Loading\x20','checked','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','Error\x20setting\x20back\x20button:','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','offsetWidth','timeLineBadge','pe-col-header','1890693ggtEiz','btnStatusToggle','time-label','asBtnSeries','sort','setDate','asTitle','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','toLocaleDateString','create','borderColor','update','getDay','json','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','colIndex','rangeStartTime','borderLeftColor','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','rgba(255,\x2069,\x2058,\x200.15)','scrollTop','rangesList','batch_sync','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','min','setHeaderColor','toString','–£—Å–ø–µ—à–Ω–æ','[Notify]\x20Error:\x20Text\x20generation\x20failed','single','uc_settings_v9','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','mousedown','Save\x20settings\x20error:','#050505','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','getFullYear','search','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','indexOf','344653tOCCwl','firstChild','16570110BqEPJH','innerHTML','blocked-slot\x20stripe-bg','done','exceptions','parse','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','width','.day-off-overlay','delete','matrixViewport','doEventsList','toastMessage','long','data-date','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','(((.+)+)+)+$','btnDayToggle','padStart','location','map','toastTitle','text','classList','–ò–Ω—Ñ–æ','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','save_settings','from','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','touchend','msg','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','v9.0-BATCH-CALENDAR','splice','expand','clientId','%\x20+\x202px)','dateStr','settings','setBackgroundColor','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','[Notify]\x20Attempting\x20to\x20send:','settingCancelWindow','disableVerticalSwipes',']\x20Failed:','height','vibrate','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','borderRadius','start','initDataUnsafe','log','push','getDate','touches','9tRBuva','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','rgba(100,100,100,0.5)','toFixed','.day-column','anEnd','Critical\x20TMA\x20Error:','querySelector','[Notify]\x20Network\x20Failed','display','clientWidth','getTime','complete','getText','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','completed','max','btn-primary\x20btn-danger','inpStart','#0a84ff','statLoadCard','findIndex','div','uc_sessions_v9','status','Local\x20Save\x20Error','36irhRKq','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','[Notify]\x20Server\x20Response:','getMinutes','pe-corner','length','rangeStartDate','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','getItem','Local\x20Load\x20Error','</span>\x20/\x20','toast','init_load','getHours','month',':00','warning','seriesCountContainer','inpSeriesCount','rangesSheet','POST','send_notification','apply','touchmove','cancelled','inpRecurring','peGrid','#fff','ru-RU','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','name','day-col-header\x20','mini','end','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','getElementById','show','onclick','</div>','rangeEndDate','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','100%','day-off-overlay\x20stripe-bg','planned','addEventListener','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','pattern','forEach','open','recurringOptionContainer','appendChild','btn-primary\x20btn-secondary','localeCompare','stringify','anStart','4481917wiKEnd',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','syncLoad','</div><div\x20class=\x22ev-time\x22>','inpEnd','getMonth','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','[Series]\x20Skipped\x20','day-column\x20','warn','23:59','[Settings]\x20Cancel\x20window\x20set\x20to:','custom','<b>‚úÖ\x20','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','btn-status-toggle','header-','then','T23:59:59','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','floor','left','week','globalTimeLine','send','off','initData','\x20‚Äî\x20','getAttribute','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','dayOptionsSheet','data-day-idx','WebApp','clients','var(--acc-orange)','<span>','stat-','inpClient','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','48lUGLnv','createDocumentFragment','backgroundPosition','event-card','doBusyHours','all','00:00','doDateHeader','setHours','calc(','loadLocal','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','analyticsList','.event-card','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','toUpperCase','uc_settings_cancel_window','save','charAt','note','numeric','432MrfBBN','querySelectorAll','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','scrollLeft','5211224ofSFIX','asBtnOne','.dch-stats-fill','cancel','10px\x2010px\x200\x200','add','stopPropagation','toLocaleString','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','rgba(255,255,255,0.05)','anCustomDates','today','overlay','cancel_window','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','.pib-text','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','\x20days','style','includes','Error\x20setting\x20color:','sessionSheet','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','startsWith','blocked-range-part\x20stripe-bg','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','px\x200px','seriesId','doWorkHours','#gridColumns\x20.day-column','background','catch','offClick','getBoundingClientRect','\x20status-completed','Telegram','BackButton','T00:00:00','value','mouseup','btn-status-toggle\x20undo-mode','\x20-\x20','.period-switch\x20.p-btn','mergeServerData','backgroundColor','var(--acc-current)','rgba(','saveLocally','actionSheet','scrollWidth','flex','entries','find','valid','patternEditor','undefined','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','[Notify]\x20Error:\x20sessionData\x20is\x20null','rgba(48,\x20209,\x2088,\x200.15)'];a2_0x55ae=function(){return _0x2f0d05;};return a2_0x55ae();}function commitDelete(_0x2de067,_0x22e364){const _0x3e6279=a2_0x544194;lastUserActionTime=Date['now'](),NotificationManager[_0x3e6279(0x1b2)](_0x3e6279(0x1dd),_0x22e364);const _0x262ffe=[];if(_0x2de067===_0x3e6279(0x28a))sessions=sessions[_0x3e6279(0x223)](_0x3c81b9=>_0x3c81b9['id']!==_0x22e364['id']),_0x262ffe['push'](_0x22e364[_0x3e6279(0x2bd)]);else{if(_0x2de067===_0x3e6279(0x257)){const _0x2d34fd=_0x22e364[_0x3e6279(0x2bd)],_0x1e68ae=_0x22e364[_0x3e6279(0x1f6)];sessions['forEach'](_0xb211b8=>{const _0x4804d3=_0x3e6279;_0xb211b8[_0x4804d3(0x1f6)]===_0x1e68ae&&_0xb211b8['dateStr']>=_0x2d34fd&&_0x262ffe[_0x4804d3(0x2cc)](_0xb211b8['dateStr']);}),sessions=sessions[_0x3e6279(0x223)](_0x157cfe=>!(_0x157cfe[_0x3e6279(0x1f6)]===_0x1e68ae&&_0x157cfe[_0x3e6279(0x2bd)]>=_0x2d34fd));}}afterSaveAction(_0x262ffe);}function afterSaveAction(_0x250ac5){const _0x3a0b75=a2_0x544194;DataManager[_0x3a0b75(0x20a)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager['syncBatch'](_0x250ac5)['then'](()=>console['log']('Batch\x20Sync\x20OK'))[_0x3a0b75(0x1fa)](_0x4e6756=>showToast(_0x3a0b75(0x18e),![]));}const NotificationManager={'formatDate'(_0x5406d2){const _0x37a8cb=a2_0x544194,_0x14a142=new Date(_0x5406d2),_0x3eaef6={'weekday':_0x37a8cb(0x2a5),'day':'numeric','month':_0x37a8cb(0x2a5)};let _0x2bc2d7=_0x14a142[_0x37a8cb(0x275)]('ru-RU',_0x3eaef6);return _0x2bc2d7[_0x37a8cb(0x1d3)](0x0)[_0x37a8cb(0x1d0)]()+_0x2bc2d7[_0x37a8cb(0x222)](0x1);},'getText'(_0xbf28a9,_0x40bea5){const _0x1f167a=a2_0x544194,_0x2b08e0=this['formatDate'](_0x40bea5['dateStr']);switch(_0xbf28a9){case _0x1f167a(0x276):return _0x1f167a(0x1ea)+(_0x1f167a(0x1a7)+_0x2b08e0+'\x0a')+(_0x1f167a(0x238)+_0x40bea5[_0x1f167a(0x2c9)]+'\x20‚Äî\x20'+_0x40bea5[_0x1f167a(0x30b)]+'\x0a\x0a')+_0x1f167a(0x1cf);case _0x1f167a(0x278):return _0x1f167a(0x24f)+_0x1f167a(0x253)+(_0x1f167a(0x1a6)+_0x40bea5[_0x1f167a(0x2c9)]+'\x20‚Äî\x20'+_0x40bea5[_0x1f167a(0x30b)]+'</b>\x0a\x0a')+(_0x1f167a(0x1a7)+_0x2b08e0);case _0x1f167a(0x1dd):return _0x1f167a(0x1e2)+('–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>'+_0x2b08e0+'\x20('+_0x40bea5[_0x1f167a(0x2c9)]+_0x1f167a(0x2d1));case _0x1f167a(0x2dc):return _0x1f167a(0x1ad)+_0x1f167a(0x189)+_0x1f167a(0x187);default:return'';}},async 'send'(_0x34d8d2,_0x114428){const _0x32fd79=a2_0x544194;console['log'](_0x32fd79(0x2c1),_0x34d8d2,_0x114428);if(!_0x114428){console[_0x32fd79(0x21d)](_0x32fd79(0x214));return;}const _0x537673=String(_0x114428['clientId']);console[_0x32fd79(0x2cb)]('[Notify]\x20Detected\x20Client\x20ID:',_0x537673);if(!_0x114428[_0x32fd79(0x2bb)]||_0x537673===_0x32fd79(0x212)||_0x537673===_0x32fd79(0x22c)){console['error']('[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!');if(_0x114428[_0x32fd79(0x262)]){const _0x57f599=clients['find'](_0x50c2b2=>_0x50c2b2[_0x32fd79(0x308)]===_0x114428[_0x32fd79(0x262)]);if(_0x57f599)return console[_0x32fd79(0x2cb)](_0x32fd79(0x21c),_0x57f599['id']),this[_0x32fd79(0x1b2)](_0x34d8d2,{..._0x114428,'clientId':_0x57f599['id']});}return;}if(_0x537673[_0x32fd79(0x2ef)]<0x5){console[_0x32fd79(0x1a2)](_0x32fd79(0x2f1),_0x537673);return;}const _0x378a7f=this[_0x32fd79(0x2dd)](_0x34d8d2,_0x114428);if(!_0x378a7f){console[_0x32fd79(0x21d)](_0x32fd79(0x289));return;}console[_0x32fd79(0x2cb)](_0x32fd79(0x25e)+_0x537673+_0x32fd79(0x259)),DataManager[_0x32fd79(0x235)](_0x32fd79(0x2ff),{'chatId':_0x537673,'text':_0x378a7f})[_0x32fd79(0x1ab)](_0x51f2a7=>console['log'](_0x32fd79(0x2ec),_0x51f2a7))[_0x32fd79(0x1fa)](_0x3cb479=>console['error'](_0x32fd79(0x2d8),_0x3cb479));}};function getLocalDateStr(_0x56cd4f){const _0x59989e=a2_0x544194,_0x55a8ed=_0x56cd4f[_0x59989e(0x291)](),_0x2b4413=String(_0x56cd4f[_0x59989e(0x19d)]()+0x1)[_0x59989e(0x2aa)](0x2,'0'),_0x47227d=String(_0x56cd4f['getDate']())[_0x59989e(0x2aa)](0x2,'0');return _0x55a8ed+'-'+_0x2b4413+'-'+_0x47227d;}function getDateStr(_0x2ea25c){const _0x56dd24=a2_0x544194,_0x1bd72d=new Date();return _0x1bd72d[_0x56dd24(0x272)](_0x1bd72d['getDate']()+_0x2ea25c),getLocalDateStr(_0x1bd72d);}function getStartOfWeek(_0x42d72d){const _0x204dc2=a2_0x544194,_0x5c9888=(function(){let _0x2bddb0=!![];return function(_0x4eeede,_0x2f5cc7){const _0x14fb50=_0x2bddb0?function(){const _0x5b947e=a2_0x5941;if(_0x2f5cc7){const _0x5594a5=_0x2f5cc7[_0x5b947e(0x300)](_0x4eeede,arguments);return _0x2f5cc7=null,_0x5594a5;}}:function(){};return _0x2bddb0=![],_0x14fb50;};}()),_0x5961dd=_0x5c9888(this,function(){const _0x502719=a2_0x5941;return _0x5961dd[_0x502719(0x287)]()[_0x502719(0x292)]('(((.+)+)+)+$')[_0x502719(0x287)]()['constructor'](_0x5961dd)[_0x502719(0x292)](_0x502719(0x2a8));});_0x5961dd();const _0x26be63=new Date(_0x42d72d),_0x2c4fb4=_0x26be63[_0x204dc2(0x279)](),_0x2898d1=_0x26be63[_0x204dc2(0x2cd)]()-_0x2c4fb4+(_0x2c4fb4===0x0?-0x6:0x1);return _0x26be63['setDate'](_0x2898d1),_0x26be63[_0x204dc2(0x1c9)](0x0,0x0,0x0,0x0),_0x26be63;}function hexToRgba(_0x5eae72,_0x45ff7a){const _0xb7d1d=a2_0x544194;if(!_0x5eae72)return _0xb7d1d(0x2d2);let _0x1026ed=0x0,_0xf0cde6=0x0,_0x4593e6=0x0;if(_0x5eae72[_0xb7d1d(0x2ef)]===0x4)_0x1026ed='0x'+_0x5eae72[0x1]+_0x5eae72[0x1],_0xf0cde6='0x'+_0x5eae72[0x2]+_0x5eae72[0x2],_0x4593e6='0x'+_0x5eae72[0x3]+_0x5eae72[0x3];else _0x5eae72[_0xb7d1d(0x2ef)]===0x7&&(_0x1026ed='0x'+_0x5eae72[0x1]+_0x5eae72[0x2],_0xf0cde6='0x'+_0x5eae72[0x3]+_0x5eae72[0x4],_0x4593e6='0x'+_0x5eae72[0x5]+_0x5eae72[0x6]);return _0xb7d1d(0x209)+ +_0x1026ed+',\x20'+ +_0xf0cde6+',\x20'+ +_0x4593e6+',\x20'+_0x45ff7a+')';}function renderTimeColumn(){const _0x5879e1=a2_0x544194,_0x3b35b0=document[_0x5879e1(0x182)]('timeColumn'),_0x15756b=document[_0x5879e1(0x182)](_0x5879e1(0x26b));_0x3b35b0['innerHTML']='',_0x3b35b0['appendChild'](_0x15756b);for(let _0x19061f=0x0;_0x19061f<0x18;_0x19061f++){const _0x3e8fef=document[_0x5879e1(0x22f)]('div');_0x3e8fef[_0x5879e1(0x240)]=_0x5879e1(0x26f);if(_0x19061f>0x0)_0x3e8fef[_0x5879e1(0x298)]=_0x5879e1(0x1bd)+String(_0x19061f)[_0x5879e1(0x2aa)](0x2,'0')+_0x5879e1(0x217);_0x3b35b0[_0x5879e1(0x193)](_0x3e8fef);}}function a2_0x5941(_0x516a86,_0x5a9cf1){_0x516a86=_0x516a86-0x182;const _0x5822ce=a2_0x55ae();let _0x1ca55c=_0x5822ce[_0x516a86];return _0x1ca55c;}function renderDayRange(_0x5da920,_0xeadde1){const _0x4eb615=a2_0x544194,_0x2af574=document['getElementById'](_0x4eb615(0x221)),_0x13781f=document[_0x4eb615(0x182)]('gridColumns'),_0x4917cb=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x3b226c=new Date();_0x3b226c['setHours'](0x0,0x0,0x0,0x0);const _0x368ec9=getLocalDateStr(new Date());for(let _0x54a235=_0x5da920;_0x54a235<=_0xeadde1;_0x54a235++){const _0x487c9a=new Date(_0x3b226c);_0x487c9a[_0x4eb615(0x272)](_0x487c9a[_0x4eb615(0x2cd)]()+_0x54a235);const _0x5e9d06=getLocalDateStr(_0x487c9a);let _0x3d8ae0=_0x487c9a['getDay']()-0x1;if(_0x3d8ae0===-0x1)_0x3d8ae0=0x6;const _0x59ce71=_0x5e9d06===_0x368ec9,_0x1b4205=document[_0x4eb615(0x22f)](_0x4eb615(0x2e6));_0x1b4205[_0x4eb615(0x240)]=_0x4eb615(0x309)+(_0x59ce71?_0x4eb615(0x1e5):''),_0x1b4205['id']=_0x4eb615(0x1aa)+_0x5e9d06,_0x1b4205['setAttribute'](_0x4eb615(0x2a6),_0x5e9d06),_0x1b4205[_0x4eb615(0x298)]='<div\x20class=\x22dch-day\x22>'+_0x4917cb[_0x3d8ae0]+_0x4eb615(0x249)+_0x487c9a['getDate']()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0x5e9d06+_0x4eb615(0x1e8),_0x1b4205[_0x4eb615(0x184)]=()=>openDayOptions(_0x5e9d06,_0x4917cb[_0x3d8ae0]+'\x20'+_0x487c9a[_0x4eb615(0x2cd)]()),_0x2af574[_0x4eb615(0x193)](_0x1b4205);const _0x1a0f29=document['createElement'](_0x4eb615(0x2e6));_0x1a0f29['className']=_0x4eb615(0x1a1)+(_0x59ce71?_0x4eb615(0x1e5):''),_0x1a0f29[_0x4eb615(0x25f)](_0x4eb615(0x2a6),_0x5e9d06),_0x1a0f29[_0x4eb615(0x25f)]('data-day-idx',_0x3d8ae0),renderEventsForColumn(_0x1a0f29,_0x5e9d06,_0x3d8ae0),attachLongPressHandler(_0x1a0f29,_0x487c9a),_0x13781f['appendChild'](_0x1a0f29),updateDayStats(_0x5e9d06);}}function reRenderBlocks(){const _0x457219=a2_0x544194;document['querySelectorAll'](_0x457219(0x1f8))[_0x457219(0x190)](_0x544ef5=>{const _0xc7ce62=_0x457219;_0x544ef5[_0xc7ce62(0x1d7)](_0xc7ce62(0x1cc))[_0xc7ce62(0x190)](_0xbc0b55=>_0xbc0b55[_0xc7ce62(0x248)]());const _0x5342ef=_0x544ef5['getAttribute'](_0xc7ce62(0x2a6)),_0x3f5e44=parseInt(_0x544ef5['getAttribute'](_0xc7ce62(0x1b9))),_0xe48e31=Math['round'](_0x544ef5['offsetLeft']);(availabilityPattern[_0x3f5e44]||[])[_0xc7ce62(0x190)](_0x544681=>{const _0x31417e=_0xc7ce62,_0x543af7=document[_0x31417e(0x22f)](_0x31417e(0x2e6));_0x543af7['className']=_0x31417e(0x299);const _0x3dd449=_0x544681*GRID_H;_0x543af7[_0x31417e(0x1ec)][_0x31417e(0x23f)]=_0x3dd449+'px',_0x543af7[_0x31417e(0x1ec)][_0x31417e(0x1c3)]='-'+_0xe48e31+'px\x20-'+_0x3dd449+'px',_0x544ef5[_0x31417e(0x193)](_0x543af7);});if(specialRanges&&specialRanges[_0xc7ce62(0x2ef)]>0x0){const _0x10abf4=new Date(_0x5342ef+_0xc7ce62(0x200))[_0xc7ce62(0x2db)](),_0x24e062=new Date(_0x5342ef+_0xc7ce62(0x1ac))[_0xc7ce62(0x2db)]();specialRanges[_0xc7ce62(0x190)](_0x33d841=>{const _0x3e3eaa=_0xc7ce62,_0x2e54e9=new Date(_0x33d841[_0x3e3eaa(0x2c9)])[_0x3e3eaa(0x2db)](),_0x40bf71=new Date(_0x33d841[_0x3e3eaa(0x30b)])[_0x3e3eaa(0x2db)](),_0x2436b6=Math[_0x3e3eaa(0x2e0)](_0x10abf4,_0x2e54e9),_0x556dfb=Math[_0x3e3eaa(0x285)](_0x24e062,_0x40bf71);if(_0x2436b6<_0x556dfb){if(_0x2436b6<=_0x10abf4&&_0x556dfb>=_0x24e062-0xea60){if(!_0x544ef5[_0x3e3eaa(0x2d7)](_0x3e3eaa(0x2a0))){const _0x248827=document[_0x3e3eaa(0x22f)](_0x3e3eaa(0x2e6));_0x248827[_0x3e3eaa(0x240)]=_0x3e3eaa(0x18b),_0x248827['style'][_0x3e3eaa(0x1c3)]='-'+_0xe48e31+_0x3e3eaa(0x1f5),_0x544ef5[_0x3e3eaa(0x193)](_0x248827);}}else{const _0x47e41e=(_0x2436b6-_0x10abf4)/0x36ee80*GRID_H,_0x2f1fff=(_0x556dfb-_0x2436b6)/0x36ee80*GRID_H,_0x2ada4b=document[_0x3e3eaa(0x22f)](_0x3e3eaa(0x2e6));_0x2ada4b[_0x3e3eaa(0x240)]=_0x3e3eaa(0x1f3),_0x2ada4b[_0x3e3eaa(0x1ec)][_0x3e3eaa(0x23f)]=_0x47e41e+'px',_0x2ada4b[_0x3e3eaa(0x1ec)][_0x3e3eaa(0x2c5)]=_0x2f1fff+'px',_0x2ada4b['style'][_0x3e3eaa(0x1c3)]='-'+_0xe48e31+_0x3e3eaa(0x229)+_0x47e41e+'px',_0x544ef5[_0x3e3eaa(0x193)](_0x2ada4b);}}});}if(dateExceptions[_0x5342ef]===_0xc7ce62(0x1b3)){if(!_0x544ef5[_0xc7ce62(0x2d7)](_0xc7ce62(0x2a0))){const _0x5067df=document[_0xc7ce62(0x22f)]('div');_0x5067df[_0xc7ce62(0x240)]='day-off-overlay\x20stripe-bg',_0x5067df[_0xc7ce62(0x1ec)]['backgroundPosition']='-'+_0xe48e31+_0xc7ce62(0x1f5),_0x544ef5['appendChild'](_0x5067df);}}renderEventsForColumn(_0x544ef5,_0x5342ef,_0x3f5e44),updateDayStats(_0x5342ef);});}function updateAllDayStats(){const _0x5bac76=a2_0x544194;document[_0x5bac76(0x1d7)](_0x5bac76(0x261))['forEach'](_0x244297=>{const _0x4a2b52=_0x5bac76;updateDayStats(_0x244297['getAttribute'](_0x4a2b52(0x2a6)));});}function updateDayStats(_0x6535c5){const _0x59859f=a2_0x544194,_0x5767a0=document[_0x59859f(0x182)](_0x59859f(0x1be)+_0x6535c5);if(!_0x5767a0)return;const _0x1ff78b=new Date(_0x6535c5);let _0x1bae11=_0x1ff78b[_0x59859f(0x279)]()-0x1;if(_0x1bae11===-0x1)_0x1bae11=0x6;if(dateExceptions[_0x6535c5]===_0x59859f(0x1b3)){_0x5767a0[_0x59859f(0x1ec)][_0x59859f(0x2d9)]='none';return;}const _0xffe92b=availabilityPattern[_0x1bae11]||[],_0xc2ef56=0x18-_0xffe92b[_0x59859f(0x2ef)],_0xf39ce2=_0xc2ef56*0x3c,_0xacb547=sessions['filter'](_0x2fe706=>_0x2fe706['dateStr']===_0x6535c5&&_0x2fe706['status']!==_0x59859f(0x302));if(_0xacb547[_0x59859f(0x2ef)]===0x0){_0x5767a0['style'][_0x59859f(0x2d9)]='none';return;}let _0x3138b7=_0xacb547[_0x59859f(0x2ac)](_0x42b088=>{const _0x234b11=_0x59859f,[_0x581671,_0x54c5e8]=_0x42b088[_0x234b11(0x2c9)]['split'](':')[_0x234b11(0x2ac)](Number),[_0x4aa42d,_0x6670dc]=_0x42b088['end'][_0x234b11(0x227)](':')[_0x234b11(0x2ac)](Number);return[_0x581671*0x3c+_0x54c5e8,_0x4aa42d*0x3c+_0x6670dc];});_0x3138b7[_0x59859f(0x271)]((_0x388dd9,_0x4c7f20)=>_0x388dd9[0x0]-_0x4c7f20[0x0]);let _0x67a8e3=[];if(_0x3138b7[_0x59859f(0x2ef)]>0x0){let _0x29520d=_0x3138b7[0x0];for(let _0x4dde82=0x1;_0x4dde82<_0x3138b7[_0x59859f(0x2ef)];_0x4dde82++){_0x3138b7[_0x4dde82][0x0]<_0x29520d[0x1]?_0x29520d[0x1]=Math[_0x59859f(0x2e0)](_0x29520d[0x1],_0x3138b7[_0x4dde82][0x1]):(_0x67a8e3[_0x59859f(0x2cc)](_0x29520d),_0x29520d=_0x3138b7[_0x4dde82]);}_0x67a8e3[_0x59859f(0x2cc)](_0x29520d);}let _0x1864dd=0x0;_0x67a8e3['forEach'](_0x5a5a44=>_0x1864dd+=_0x5a5a44[0x1]-_0x5a5a44[0x0]),_0x5767a0[_0x59859f(0x1ec)]['display']=_0x59859f(0x20d);const _0x38025f=_0x5767a0[_0x59859f(0x2d7)](_0x59859f(0x1dc));if(_0xf39ce2===0x0){_0x38025f[_0x59859f(0x1ec)]['width']=_0x59859f(0x18a),_0x38025f[_0x59859f(0x1ec)][_0x59859f(0x1f9)]=_0x59859f(0x260);return;}const _0x1f82d5=_0x1864dd/_0xf39ce2*0x64;console[_0x59859f(0x2cb)]('['+_0x6535c5+_0x59859f(0x24b)+_0xc2ef56+'—á,\x20–ó–∞–Ω—è—Ç–æ:\x20'+_0x1864dd+_0x59859f(0x27f)+_0x1f82d5[_0x59859f(0x2d3)](0x1)+'%'),_0x1f82d5>0x64?(_0x38025f[_0x59859f(0x1ec)][_0x59859f(0x29f)]=_0x59859f(0x18a),_0x38025f[_0x59859f(0x1ec)][_0x59859f(0x1f9)]=_0x59859f(0x260)):(_0x38025f['style'][_0x59859f(0x29f)]=_0x1f82d5+'%',_0x38025f[_0x59859f(0x1ec)][_0x59859f(0x1f9)]=_0x59859f(0x208));}function renderEventsForColumn(_0x471698,_0x34886b,_0x5de1e9){const _0x3d068c=a2_0x544194,_0x295f22=sessions[_0x3d068c(0x223)](_0x120d95=>_0x120d95[_0x3d068c(0x2bd)]===_0x34886b),_0x1cee1f=_0x295f22[_0x3d068c(0x2ac)](_0x5e863d=>{const _0x28a71d=_0x3d068c,[_0x173886,_0x4b01bb]=_0x5e863d[_0x28a71d(0x2c9)][_0x28a71d(0x227)](':')[_0x28a71d(0x2ac)](Number),[_0x170446,_0x491d81]=_0x5e863d[_0x28a71d(0x30b)][_0x28a71d(0x227)](':')[_0x28a71d(0x2ac)](Number);return{'data':_0x5e863d,'start':_0x173886*0x3c+_0x4b01bb,'end':_0x170446*0x3c+_0x491d81,'colIndex':0x0};});_0x1cee1f[_0x3d068c(0x271)]((_0x2ea177,_0x432158)=>{const _0x19e02a=_0x3d068c;if(_0x2ea177['start']!==_0x432158['start'])return _0x2ea177['start']-_0x432158[_0x19e02a(0x2c9)];return _0x432158[_0x19e02a(0x30b)]-_0x432158[_0x19e02a(0x2c9)]-(_0x2ea177['end']-_0x2ea177['start']);});const _0x25df44=[];_0x1cee1f[_0x3d068c(0x190)](_0x3e9628=>{const _0xb5e0f3=_0x3d068c;let _0xfb237=![];for(let _0x2e7f56=0x0;_0x2e7f56<_0x25df44[_0xb5e0f3(0x2ef)];_0x2e7f56++){const _0x49f45a=_0x25df44[_0x2e7f56],_0x5aab12=_0x49f45a[_0x49f45a[_0xb5e0f3(0x2ef)]-0x1];if(_0x3e9628[_0xb5e0f3(0x2c9)]>=_0x5aab12['end']){_0x49f45a[_0xb5e0f3(0x2cc)](_0x3e9628),_0x3e9628[_0xb5e0f3(0x27c)]=_0x2e7f56,_0xfb237=!![];break;}}!_0xfb237&&(_0x25df44[_0xb5e0f3(0x2cc)]([_0x3e9628]),_0x3e9628[_0xb5e0f3(0x27c)]=_0x25df44['length']-0x1);}),_0x1cee1f[_0x3d068c(0x190)](_0xb5676e=>{const _0x4a7962=_0x3d068c;let _0x3d5662=0x0;_0x1cee1f[_0x4a7962(0x190)](_0xbe59fd=>{const _0x2805d0=_0x4a7962;if(Math[_0x2805d0(0x2e0)](_0xb5676e[_0x2805d0(0x2c9)],_0xbe59fd[_0x2805d0(0x2c9)])<Math['min'](_0xb5676e[_0x2805d0(0x30b)],_0xbe59fd[_0x2805d0(0x30b)])){if(_0xbe59fd[_0x2805d0(0x27c)]>_0x3d5662)_0x3d5662=_0xbe59fd['colIndex'];}});const _0x5cf212=_0x3d5662+0x1,_0x4a4340=0x64/_0x5cf212,_0x7971d3=_0xb5676e[_0x4a7962(0x27c)]*_0x4a4340,_0x5cccb9=createEventEl(_0xb5676e['data']);_0x5cccb9['style'][_0x4a7962(0x29f)]=_0x4a7962(0x1ca)+_0x4a4340+'%\x20-\x204px)',_0x5cccb9[_0x4a7962(0x1ec)][_0x4a7962(0x1af)]='calc('+_0x7971d3+_0x4a7962(0x2bc),_0x5cccb9[_0x4a7962(0x1ec)]['zIndex']=0xa+_0xb5676e[_0x4a7962(0x27c)],_0x4a4340<0x55&&_0x5cccb9['classList'][_0x4a7962(0x1df)](_0x4a7962(0x30a)),_0x471698[_0x4a7962(0x193)](_0x5cccb9);});}function createEventEl(_0x4f078a){const _0x2e6fe4=a2_0x544194,[_0x446ab2,_0x519cea]=_0x4f078a[_0x2e6fe4(0x2c9)][_0x2e6fe4(0x227)](':')[_0x2e6fe4(0x2ac)](Number),[_0x39c466,_0x33bab7]=_0x4f078a['end']['split'](':')[_0x2e6fe4(0x2ac)](Number),_0x120bd2=(_0x446ab2*0x3c+_0x519cea)/0x3c*GRID_H,_0x509fd3=(_0x39c466*0x3c+_0x33bab7-(_0x446ab2*0x3c+_0x519cea))/0x3c*GRID_H,_0x2e496c=document[_0x2e6fe4(0x22f)](_0x2e6fe4(0x2e6)),_0x2f2eb2=_0x4f078a[_0x2e6fe4(0x2e8)]===_0x2e6fe4(0x2df)?_0x2e6fe4(0x1fd):'';_0x2e496c['className']=_0x2e6fe4(0x1c4)+_0x2f2eb2,_0x2e496c[_0x2e6fe4(0x1ec)]['top']=_0x120bd2+'px',_0x2e496c['style'][_0x2e6fe4(0x2c5)]=Math[_0x2e6fe4(0x2e0)](_0x509fd3,0x14)+'px';const _0x2090bf=clients[_0x2e6fe4(0x20f)](_0x5bb3b0=>_0x4f078a[_0x2e6fe4(0x2bb)]&&String(_0x5bb3b0['id'])===String(_0x4f078a['clientId'])||_0x5bb3b0[_0x2e6fe4(0x308)]===_0x4f078a[_0x2e6fe4(0x262)]),_0x46dcb6=_0x2090bf?_0x2090bf[_0x2e6fe4(0x225)]:_0x2e6fe4(0x2e3);_0x2e496c[_0x2e6fe4(0x1ec)][_0x2e6fe4(0x27e)]=_0x46dcb6,_0x2e496c[_0x2e6fe4(0x1ec)][_0x2e6fe4(0x207)]=hexToRgba(_0x46dcb6,0.85);let _0x106c26='<div\x20class=\x22ev-title\x22>'+_0x4f078a['client']+_0x2e6fe4(0x19b)+_0x4f078a[_0x2e6fe4(0x2c9)]+_0x2e6fe4(0x204)+_0x4f078a[_0x2e6fe4(0x30b)]+_0x2e6fe4(0x185);return _0x4f078a[_0x2e6fe4(0x1f6)]&&(_0x106c26+=_0x2e6fe4(0x1f0)),_0x4f078a['status']==='completed'&&(_0x106c26+='<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>'),_0x2e496c[_0x2e6fe4(0x298)]=_0x106c26,_0x2e496c['onclick']=_0x315b61=>{const _0xa36f00=_0x2e6fe4;_0x315b61[_0xa36f00(0x1e0)](),openEdit(_0x4f078a);},_0x2e496c;}function attachLongPressHandler(_0x207688,_0x1c65b8){const _0x24c83=a2_0x544194;let _0x320edd=0x0,_0x4e0573=null;const _0x18cff7=_0x3dc901=>{const _0x3941b9=a2_0x5941;if(_0x3dc901['target']['closest'](_0x3941b9(0x1ce)))return;isScrolling=![],_0x320edd=_0x3dc901['touches']?_0x3dc901[_0x3941b9(0x2ce)][0x0][_0x3941b9(0x239)]:_0x3dc901[_0x3941b9(0x239)],_0x4e0573=setTimeout(()=>{const _0x1267db=_0x3941b9;if(!isScrolling){navigator[_0x1267db(0x2c6)]?.(0x32);const _0x44d691=_0x207688[_0x1267db(0x1fc)](),_0x41d900=Math[_0x1267db(0x1ae)]((_0x320edd-_0x44d691[_0x1267db(0x23f)])/GRID_H);_0x1c65b8['setHours'](_0x41d900,0x0),openAddSession(_0x1c65b8);}},0x1f4);},_0x42f8c1=()=>{isScrolling=!![],clearTimeout(_0x4e0573);},_0x4545c4=()=>{clearTimeout(_0x4e0573);};_0x207688['addEventListener'](_0x24c83(0x219),_0x18cff7,{'passive':!![]}),_0x207688['addEventListener'](_0x24c83(0x301),_0x42f8c1,{'passive':!![]}),_0x207688[_0x24c83(0x18d)](_0x24c83(0x2b5),_0x4545c4),_0x207688[_0x24c83(0x18d)](_0x24c83(0x28d),_0x18cff7),_0x207688['addEventListener']('mousemove',_0x42f8c1),_0x207688[_0x24c83(0x18d)](_0x24c83(0x202),_0x4545c4);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x474496=a2_0x544194,_0x37ef9a=document[_0x474496(0x182)]('matrixViewport'),_0x22437e=_0x37ef9a['scrollLeft'],_0x480c65=_0x37ef9a[_0x474496(0x20c)],_0x181914=_0x37ef9a[_0x474496(0x2da)];if(_0x480c65-(_0x22437e+_0x181914)<0x12c){const _0x45adfe=endOffset;endOffset+=0xe,renderDayRange(_0x45adfe+0x1,endOffset),reRenderBlocks();}if(_0x22437e<0x12c){const _0x3d831f=startOffset;startOffset-=0xe,prependDays(startOffset,_0x3d831f-0x1),_0x37ef9a[_0x474496(0x1d9)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x44fcee,_0x1c8e03){const _0x5d1298=a2_0x544194,_0x4c1458=document[_0x5d1298(0x182)](_0x5d1298(0x221)),_0x297974=document[_0x5d1298(0x182)]('gridColumns'),_0x28dbab=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x46abd5=new Date();_0x46abd5[_0x5d1298(0x1c9)](0x0,0x0,0x0,0x0);const _0x1fed8f=getLocalDateStr(new Date()),_0x5314cc=document[_0x5d1298(0x1c2)](),_0x898e95=document[_0x5d1298(0x1c2)]();for(let _0xa32b7a=_0x44fcee;_0xa32b7a<=_0x1c8e03;_0xa32b7a++){const _0x4a022=new Date(_0x46abd5);_0x4a022['setDate'](_0x4a022[_0x5d1298(0x2cd)]()+_0xa32b7a);const _0x3e677c=getLocalDateStr(_0x4a022);let _0x1909ef=_0x4a022['getDay']()-0x1;if(_0x1909ef===-0x1)_0x1909ef=0x6;const _0x45b2f2=_0x3e677c===_0x1fed8f,_0x48f79a=document['createElement']('div');_0x48f79a[_0x5d1298(0x240)]=_0x5d1298(0x309)+(_0x45b2f2?_0x5d1298(0x1e5):''),_0x48f79a['id']=_0x5d1298(0x1aa)+_0x3e677c,_0x48f79a[_0x5d1298(0x25f)](_0x5d1298(0x2a6),_0x3e677c),_0x48f79a[_0x5d1298(0x298)]=_0x5d1298(0x21b)+_0x28dbab[_0x1909ef]+_0x5d1298(0x249)+_0x4a022['getDate']()+_0x5d1298(0x274)+_0x3e677c+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x48f79a[_0x5d1298(0x184)]=()=>openDayOptions(_0x3e677c,_0x28dbab[_0x1909ef]+'\x20'+_0x4a022['getDate']()),_0x5314cc[_0x5d1298(0x193)](_0x48f79a);const _0x147608=document[_0x5d1298(0x22f)](_0x5d1298(0x2e6));_0x147608[_0x5d1298(0x240)]=_0x5d1298(0x1a1)+(_0x45b2f2?_0x5d1298(0x1e5):''),_0x147608['setAttribute']('data-date',_0x3e677c),_0x147608[_0x5d1298(0x25f)]('data-day-idx',_0x1909ef),renderEventsForColumn(_0x147608,_0x3e677c,_0x1909ef),attachLongPressHandler(_0x147608,_0x4a022),_0x898e95[_0x5d1298(0x193)](_0x147608),updateDayStats(_0x3e677c);}_0x4c1458['insertBefore'](_0x5314cc,_0x4c1458[_0x5d1298(0x296)]),_0x297974['insertBefore'](_0x898e95,_0x297974[_0x5d1298(0x2d7)](_0x5d1298(0x2d4)));}function validateAppointment(_0x100069,_0x15c019,_0x3fde34,_0x52228b,_0x2c718a){const _0x3040b4=a2_0x544194,[_0x113d1a,_0x1e5d33]=_0x15c019[_0x3040b4(0x227)](':')[_0x3040b4(0x2ac)](Number),[_0xfa68ed,_0x29485d]=_0x3fde34[_0x3040b4(0x227)](':')['map'](Number),_0x417a34=_0x113d1a*0x3c+_0x1e5d33,_0x259617=_0xfa68ed*0x3c+_0x29485d,_0x31220b=String(_0x2c718a);let _0x344bbd=![],_0x443180='';for(let _0x2289cd of sessions){if(_0x2289cd[_0x3040b4(0x2bd)]!==_0x100069)continue;if(_0x2289cd[_0x3040b4(0x2e8)]==='cancelled')continue;if(_0x52228b&&String(_0x2289cd['id'])===String(_0x52228b))continue;const [_0xa035b,_0x29c778]=_0x2289cd['start'][_0x3040b4(0x227)](':')[_0x3040b4(0x2ac)](Number),[_0x52bcaf,_0x3053f9]=_0x2289cd['end'][_0x3040b4(0x227)](':')['map'](Number),_0x5e0daf=_0xa035b*0x3c+_0x29c778,_0x2d15b9=_0x52bcaf*0x3c+_0x3053f9;if(Math[_0x3040b4(0x2e0)](_0x417a34,_0x5e0daf)<Math[_0x3040b4(0x285)](_0x259617,_0x2d15b9)){if(_0x2289cd[_0x3040b4(0x2bb)]&&String(_0x2289cd[_0x3040b4(0x2bb)])===_0x31220b)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0x2289cd[_0x3040b4(0x262)]+_0x3040b4(0x22b)};_0x344bbd=!![],_0x443180=_0x2289cd['client'];}}if(_0x344bbd)return{'valid':!![],'warning':_0x3040b4(0x267)+_0x443180};return{'valid':!![]};}function updateDateDisplay(){const _0x393989=a2_0x544194,_0x2b0a7c=document[_0x393989(0x182)]('inpDate')[_0x393989(0x201)],_0x5d063a=document['getElementById']('sheetDateSubtitle');if(!_0x2b0a7c){_0x5d063a[_0x393989(0x23c)]='';return;}const [_0x34c3f5,_0x8c3c2,_0x4a369b]=_0x2b0a7c[_0x393989(0x227)]('-')[_0x393989(0x2ac)](Number),_0x434d3e=new Date(_0x34c3f5,_0x8c3c2-0x1,_0x4a369b),_0x3ee0e4={'weekday':'long','day':_0x393989(0x1d5),'month':_0x393989(0x2a5),'year':'numeric'};let _0xb1f028=_0x434d3e['toLocaleDateString'](_0x393989(0x306),_0x3ee0e4);_0xb1f028=_0xb1f028[_0x393989(0x1d3)](0x0)[_0x393989(0x1d0)]()+_0xb1f028[_0x393989(0x222)](0x1),_0x5d063a[_0x393989(0x23c)]=_0xb1f028;}function autoSetEndTime(){const _0x5b2194=a2_0x544194,_0x2a8cb7=document['getElementById'](_0x5b2194(0x2e2))['value'];if(!_0x2a8cb7)return;const [_0xfd4a64,_0xa0f54f]=_0x2a8cb7[_0x5b2194(0x227)](':')[_0x5b2194(0x2ac)](Number);let _0x55f81f=_0xfd4a64+0x1;if(_0x55f81f>0x17)_0x55f81f=0x0;const _0x23e5d7=String(_0x55f81f)[_0x5b2194(0x2aa)](0x2,'0')+':'+String(_0xa0f54f)[_0x5b2194(0x2aa)](0x2,'0');document[_0x5b2194(0x182)](_0x5b2194(0x19c))['value']=_0x23e5d7;}function populateClientSelect(){const _0x2d992b=a2_0x544194,_0x120ff1=document[_0x2d992b(0x182)](_0x2d992b(0x1bf));_0x120ff1[_0x2d992b(0x298)]='';if(clients['length']===0x0){const _0x2f94dd=document[_0x2d992b(0x22f)]('option');_0x2f94dd[_0x2d992b(0x2ae)]=_0x2d992b(0x1b7),_0x120ff1['appendChild'](_0x2f94dd);return;}clients[_0x2d992b(0x190)](_0x3ace71=>{const _0x1a0a93=_0x2d992b,_0x245497=document['createElement']('option');_0x245497['value']=_0x3ace71[_0x1a0a93(0x308)],_0x245497[_0x1a0a93(0x23c)]=_0x3ace71['name'],_0x120ff1[_0x1a0a93(0x193)](_0x245497);});}function openActionSheet(_0x55852a){const _0x3b378d=a2_0x544194,_0x206ba3=document['getElementById'](_0x3b378d(0x20b)),_0x49822c=document[_0x3b378d(0x182)](_0x3b378d(0x21a)),_0xb4f33=document[_0x3b378d(0x182)](_0x3b378d(0x273)),_0x59b86f=document['getElementById'](_0x3b378d(0x1db)),_0x1c3f79=document[_0x3b378d(0x182)](_0x3b378d(0x270));_0x49822c[_0x3b378d(0x2af)][_0x3b378d(0x1df)](_0x3b378d(0x21f)),_0x206ba3['classList'][_0x3b378d(0x1df)](_0x3b378d(0x191));if(_0x55852a===_0x3b378d(0x1d2))_0xb4f33[_0x3b378d(0x23c)]='–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏',_0x59b86f[_0x3b378d(0x23c)]=_0x3b378d(0x1f1),_0x59b86f[_0x3b378d(0x184)]=()=>{const _0x1219ce=_0x3b378d;closeActionSheet(),updateSeriesBatch(_0x1219ce(0x28a),tempSessionData);},_0x1c3f79['textContent']=_0x3b378d(0x284),_0x1c3f79[_0x3b378d(0x184)]=()=>{const _0x47f462=_0x3b378d;closeActionSheet(),updateSeriesBatch(_0x47f462(0x257),tempSessionData);};else _0x55852a===_0x3b378d(0x2a1)&&(_0xb4f33['textContent']='–£–¥–∞–ª–µ–Ω–∏–µ',_0x59b86f[_0x3b378d(0x23c)]=_0x3b378d(0x1f1),_0x59b86f[_0x3b378d(0x240)]=_0x3b378d(0x21e),_0x59b86f[_0x3b378d(0x184)]=()=>{const _0x18dbc3=_0x3b378d;closeActionSheet(),commitDelete('single',sessions[_0x18dbc3(0x20f)](_0xa38764=>_0xa38764['id']===editingId));},_0x1c3f79[_0x3b378d(0x23c)]=_0x3b378d(0x284),_0x1c3f79[_0x3b378d(0x240)]='as-button\x20danger\x20bold',_0x1c3f79[_0x3b378d(0x184)]=()=>{const _0x57be1a=_0x3b378d;closeActionSheet(),commitDelete(_0x57be1a(0x257),sessions[_0x57be1a(0x20f)](_0x51126e=>_0x51126e['id']===editingId));});}function closeActionSheet(){const _0x4e8529=a2_0x544194;document[_0x4e8529(0x182)](_0x4e8529(0x20b))[_0x4e8529(0x2af)]['remove'](_0x4e8529(0x191)),document[_0x4e8529(0x182)]('actionSheetOverlay')['classList'][_0x4e8529(0x248)](_0x4e8529(0x21f));}function openSettings(){openSheet('settingsSheet');}function saveCoachSettings(){const _0x298767=a2_0x544194,_0x5286f8=document['getElementById'](_0x298767(0x2c2))['value'];localStorage[_0x298767(0x24d)](_0x298767(0x1d1),_0x5286f8),console[_0x298767(0x2cb)](_0x298767(0x1a4),_0x5286f8),DataManager[_0x298767(0x235)]('save_settings',{'settings':{'cancel_window':_0x5286f8}})[_0x298767(0x1fa)](_0x13233d=>{const _0x46d0e3=_0x298767;console[_0x46d0e3(0x21d)](_0x46d0e3(0x28e),_0x13233d),showToast(_0x46d0e3(0x2b7),![]);});}function loadCoachSettings(){const _0x272431=a2_0x544194,_0x523bb0=localStorage[_0x272431(0x2f2)](_0x272431(0x1d1));_0x523bb0&&(document[_0x272431(0x182)](_0x272431(0x2c2))[_0x272431(0x201)]=_0x523bb0);}function openRangesSheet(){const _0x28f62d=a2_0x544194;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x28f62d(0x2fd));}function addRange(){const _0x8d4d22=a2_0x544194,_0x137bf6=document['getElementById'](_0x8d4d22(0x2f0))['value'],_0x434cf4=document[_0x8d4d22(0x182)](_0x8d4d22(0x27d))[_0x8d4d22(0x201)],_0x16b553=document[_0x8d4d22(0x182)](_0x8d4d22(0x186))[_0x8d4d22(0x201)],_0x3b70f3=document[_0x8d4d22(0x182)]('rangeEndTime')[_0x8d4d22(0x201)];if(!_0x137bf6||!_0x434cf4||!_0x16b553||!_0x3b70f3)return alert(_0x8d4d22(0x2d0));const _0x5ecfd7=_0x137bf6+'T'+_0x434cf4,_0x2aef73=_0x16b553+'T'+_0x3b70f3;if(_0x5ecfd7>=_0x2aef73)return alert('–û—à–∏–±–∫–∞\x20–¥–∞—Ç');specialRanges[_0x8d4d22(0x2cc)]({'start':_0x5ecfd7,'end':_0x2aef73}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x8d4d22(0x235)]('save_settings',{'settings':{'ranges':specialRanges}});}function deleteRange(_0x180051){const _0x4b8410=a2_0x544194;specialRanges['splice'](_0x180051,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x4b8410(0x20a)](),DataManager[_0x4b8410(0x235)](_0x4b8410(0x2b2),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x54c98e=a2_0x544194;document['getElementById'](_0x54c98e(0x2f0))[_0x54c98e(0x201)]='',document[_0x54c98e(0x182)](_0x54c98e(0x27d))[_0x54c98e(0x201)]=_0x54c98e(0x1c7),document[_0x54c98e(0x182)](_0x54c98e(0x186))[_0x54c98e(0x201)]='',document[_0x54c98e(0x182)]('rangeEndTime')[_0x54c98e(0x201)]=_0x54c98e(0x1a3);}function renderRangesList(){const _0x5eed94=a2_0x544194,_0x9da36d=document[_0x5eed94(0x182)](_0x5eed94(0x282));_0x9da36d[_0x5eed94(0x298)]='';if(!specialRanges['length']){_0x9da36d[_0x5eed94(0x298)]='<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>';return;}specialRanges[_0x5eed94(0x190)]((_0x4f8b3b,_0x5ecafd)=>{const _0x60724b=_0x5eed94,_0x3e8d6c=document[_0x60724b(0x22f)]('div');_0x3e8d6c[_0x60724b(0x240)]='range-item';const _0x570eff=_0x589ef7=>{const _0x117d7b=_0x60724b,_0x5953ce=new Date(_0x589ef7);return _0x5953ce['getDate']()+'.'+String(_0x5953ce[_0x117d7b(0x19d)]()+0x1)['padStart'](0x2,'0')+'\x20'+String(_0x5953ce[_0x117d7b(0x2f7)]())[_0x117d7b(0x2aa)](0x2,'0')+':'+String(_0x5953ce['getMinutes']())[_0x117d7b(0x2aa)](0x2,'0');};_0x3e8d6c[_0x60724b(0x298)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>'+_0x570eff(_0x4f8b3b[_0x60724b(0x2c9)])+_0x60724b(0x1b5)+_0x570eff(_0x4f8b3b[_0x60724b(0x30b)])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange('+_0x5ecafd+_0x60724b(0x199),_0x9da36d[_0x60724b(0x193)](_0x3e8d6c);});}function scrollToToday(){const _0x364124=a2_0x544194,_0x3d2036=getLocalDateStr(new Date()),_0x23f92e=document[_0x364124(0x182)]('header-'+_0x3d2036),_0x34dfc2=document[_0x364124(0x182)](_0x364124(0x2a2));if(_0x23f92e&&_0x34dfc2){const _0x2a7c1b=_0x34dfc2[_0x364124(0x2da)],_0x14dd11=_0x23f92e[_0x364124(0x228)],_0x1398e1=_0x23f92e[_0x364124(0x26a)];_0x34dfc2['scrollLeft']=_0x14dd11-_0x2a7c1b/0x2+_0x1398e1/0x2,_0x34dfc2[_0x364124(0x281)]=0x9*GRID_H;}}function onScroll(){const _0x55149d=a2_0x544194,_0xb0fe83=document['getElementById']('matrixViewport'),_0xfc4433=document['querySelectorAll']('.day-col-header');for(let _0x16c418 of _0xfc4433)if(_0x16c418[_0x55149d(0x228)]>=_0xb0fe83[_0x55149d(0x1d9)]){const _0x3f49e8=new Date(_0x16c418[_0x55149d(0x1b6)]('data-date'));document['getElementById']('headerMonth')[_0x55149d(0x23c)]=_0x3f49e8[_0x55149d(0x1e1)]('ru',{'month':'long'})[_0x55149d(0x1d0)]()+'\x20'+_0x3f49e8[_0x55149d(0x291)]();break;}}function showToast(_0x5bca6b,_0x501e39=![]){const _0x45ccd3=a2_0x544194,_0x106a6c=document[_0x45ccd3(0x182)](_0x45ccd3(0x2f5));_0x106a6c[_0x45ccd3(0x240)]='toast-notification\x20'+(_0x501e39?'success':''),document[_0x45ccd3(0x182)](_0x45ccd3(0x2ad))[_0x45ccd3(0x23c)]=_0x501e39?_0x45ccd3(0x288):_0x45ccd3(0x2b0),document['getElementById'](_0x45ccd3(0x2a4))[_0x45ccd3(0x23c)]=_0x5bca6b,_0x106a6c[_0x45ccd3(0x2af)][_0x45ccd3(0x1df)](_0x45ccd3(0x183)),setTimeout(()=>{const _0x3d60ce=_0x45ccd3;_0x106a6c[_0x3d60ce(0x2af)][_0x3d60ce(0x248)](_0x3d60ce(0x183));},0xbb8);}function openDayOptions(_0x26607a,_0x4a5c24){const _0x39f338=a2_0x544194;selectedDayForOptions=_0x26607a,document[_0x39f338(0x182)](_0x39f338(0x263))['textContent']=_0x4a5c24,openSheet(_0x39f338(0x1b8));}function toggleDayOff(){const _0x1330d3=a2_0x544194;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]='off',reRenderBlocks(),closeAllSheets(),DataManager[_0x1330d3(0x20a)](),DataManager[_0x1330d3(0x235)](_0x1330d3(0x2b2),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x200d52=a2_0x544194;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x200d52(0x20a)](),DataManager[_0x200d52(0x235)](_0x200d52(0x2b2),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x3541c8){const _0x3ec12f=a2_0x544194;document[_0x3ec12f(0x182)](_0x3ec12f(0x1e6))[_0x3ec12f(0x2af)][_0x3ec12f(0x1df)]('active'),document[_0x3ec12f(0x182)](_0x3541c8)[_0x3ec12f(0x2af)]['add'](_0x3ec12f(0x191));}function closeAllSheets(){const _0x1d5290=a2_0x544194;document[_0x1d5290(0x182)](_0x1d5290(0x1e6))[_0x1d5290(0x2af)][_0x1d5290(0x248)](_0x1d5290(0x21f)),document[_0x1d5290(0x1d7)]('.sheet')['forEach'](_0x134121=>_0x134121[_0x1d5290(0x2af)][_0x1d5290(0x248)](_0x1d5290(0x191)));}function openPatternEditor(){const _0x211dd6=a2_0x544194;closeAllSheets(),document['getElementById']('patternEditor')[_0x211dd6(0x2af)][_0x211dd6(0x1df)](_0x211dd6(0x191)),renderPatternEditor();}function closePatternEditor(){const _0x3c01cf=a2_0x544194;document[_0x3c01cf(0x182)](_0x3c01cf(0x211))[_0x3c01cf(0x2af)][_0x3c01cf(0x248)](_0x3c01cf(0x191));}function savePattern(){const _0x510289=a2_0x544194;document[_0x510289(0x182)](_0x510289(0x211))['classList'][_0x510289(0x248)](_0x510289(0x191)),reRenderBlocks(),DataManager[_0x510289(0x20a)](),DataManager[_0x510289(0x235)](_0x510289(0x2b2),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x403282=a2_0x544194,_0x3e17d6=document[_0x403282(0x182)](_0x403282(0x304));_0x3e17d6['innerHTML']='';const _0x3e6857=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x52222e=document[_0x403282(0x22f)](_0x403282(0x2e6));_0x52222e[_0x403282(0x240)]=_0x403282(0x2ee),_0x3e17d6[_0x403282(0x193)](_0x52222e),_0x3e6857[_0x403282(0x190)]((_0x3cd86b,_0x46ff93)=>{const _0x322cfe=_0x403282,_0x27d0e7=document[_0x322cfe(0x22f)]('div');_0x27d0e7[_0x322cfe(0x240)]=_0x322cfe(0x26c),_0x27d0e7[_0x322cfe(0x298)]=_0x3cd86b+_0x322cfe(0x293),_0x27d0e7[_0x322cfe(0x184)]=()=>toggleColPattern(_0x46ff93),_0x3e17d6['appendChild'](_0x27d0e7);});for(let _0x390dcd=0x0;_0x390dcd<0x18;_0x390dcd++){const _0x27f1e9=document['createElement'](_0x403282(0x2e6));_0x27f1e9[_0x403282(0x240)]='pe-time-label',_0x27f1e9['innerHTML']=_0x403282(0x30c)+String(_0x390dcd)['padStart'](0x2,'0')+_0x403282(0x2f9),_0x27f1e9[_0x403282(0x184)]=()=>toggleRowPattern(_0x390dcd),_0x3e17d6['appendChild'](_0x27f1e9);for(let _0x28be95=0x0;_0x28be95<0x7;_0x28be95++){const _0x4f39f7=document[_0x403282(0x22f)](_0x403282(0x2e6)),_0x3e3264=(availabilityPattern[_0x28be95]||[])[_0x403282(0x1ed)](_0x390dcd),_0x3b9937=!_0x3e3264;_0x4f39f7['className']='pe-cell\x20'+(_0x3b9937?'active':''),_0x4f39f7[_0x403282(0x184)]=()=>toggleSinglePattern(_0x28be95,_0x390dcd),_0x3e17d6['appendChild'](_0x4f39f7);}}}function toggleSinglePattern(_0x591449,_0x56e743){const _0x2cb972=a2_0x544194;if(!availabilityPattern[_0x591449])availabilityPattern[_0x591449]=[];const _0x5d8440=availabilityPattern[_0x591449],_0x6ae83=_0x5d8440[_0x2cb972(0x294)](_0x56e743);_0x6ae83===-0x1?_0x5d8440['push'](_0x56e743):_0x5d8440[_0x2cb972(0x2b9)](_0x6ae83,0x1),renderPatternEditor();}function toggleColPattern(_0x5c6ada){const _0x2220b0=a2_0x544194;if(!availabilityPattern[_0x5c6ada])availabilityPattern[_0x5c6ada]=[];const _0x4fd98e=availabilityPattern[_0x5c6ada];_0x4fd98e[_0x2220b0(0x2ef)]===0x0?availabilityPattern[_0x5c6ada]=Array[_0x2220b0(0x2b3)]({'length':0x18},(_0x180e5f,_0x585648)=>_0x585648):availabilityPattern[_0x5c6ada]=[],renderPatternEditor();}function toggleRowPattern(_0x4248c3){const _0x1c7f1c=a2_0x544194;let _0x4ac7f7=!![];for(let _0x657f4b=0x0;_0x657f4b<0x7;_0x657f4b++){if((availabilityPattern[_0x657f4b]||[])[_0x1c7f1c(0x1ed)](_0x4248c3)){_0x4ac7f7=![];break;}}for(let _0x126686=0x0;_0x126686<0x7;_0x126686++){if(!availabilityPattern[_0x126686])availabilityPattern[_0x126686]=[];const _0x3908c3=availabilityPattern[_0x126686][_0x1c7f1c(0x294)](_0x4248c3);if(_0x4ac7f7){if(_0x3908c3===-0x1)availabilityPattern[_0x126686]['push'](_0x4248c3);}else{if(_0x3908c3!==-0x1)availabilityPattern[_0x126686][_0x1c7f1c(0x2b9)](_0x3908c3,0x1);}}renderPatternEditor();}function renderPCol(_0x4c032e,_0x32274b){const _0x56a54e=a2_0x544194;_0x4c032e[_0x56a54e(0x298)]='';const _0x52fe1c=Math['round'](_0x4c032e[_0x56a54e(0x228)]);(availabilityPattern[_0x32274b]||[])[_0x56a54e(0x190)](_0x27be0c=>{const _0x1cf161=_0x56a54e,_0xb710d3=document[_0x1cf161(0x22f)](_0x1cf161(0x2e6));_0xb710d3[_0x1cf161(0x240)]=_0x1cf161(0x299);const _0x191cbb=_0x27be0c*GRID_H;_0xb710d3[_0x1cf161(0x1ec)][_0x1cf161(0x23f)]=_0x191cbb+'px',_0xb710d3[_0x1cf161(0x1ec)][_0x1cf161(0x1c3)]='-'+_0x52fe1c+_0x1cf161(0x229)+_0x191cbb+'px',_0xb710d3['onclick']=_0x2f522e=>{const _0x3cad6a=_0x1cf161;_0x2f522e[_0x3cad6a(0x1e0)](),toggleSinglePattern(_0x32274b,_0x27be0c);},_0x4c032e[_0x1cf161(0x193)](_0xb710d3);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x30eb41=a2_0x544194,_0x19e5f7=new Date(),_0x5102a8=document[_0x30eb41(0x182)](_0x30eb41(0x1b1)),_0x2aa92b=document[_0x30eb41(0x182)](_0x30eb41(0x26b)),_0x3818d9=(_0x19e5f7[_0x30eb41(0x2f7)]()*0x3c+_0x19e5f7['getMinutes']())/0x3c*GRID_H;_0x5102a8[_0x30eb41(0x1ec)][_0x30eb41(0x23f)]=_0x3818d9+'px',_0x5102a8[_0x30eb41(0x1ec)][_0x30eb41(0x2d9)]='block',_0x2aa92b[_0x30eb41(0x23c)]=String(_0x19e5f7[_0x30eb41(0x2f7)]())[_0x30eb41(0x2aa)](0x2,'0')+':'+String(_0x19e5f7[_0x30eb41(0x2ed)]())[_0x30eb41(0x2aa)](0x2,'0'),_0x2aa92b['style'][_0x30eb41(0x2d9)]=_0x30eb41(0x220),_0x2aa92b[_0x30eb41(0x1ec)][_0x30eb41(0x23f)]=_0x3818d9+'px';}document[a2_0x544194(0x18d)]('DOMContentLoaded',init);function openDayOptions(_0x557f43){const _0x19840c=a2_0x544194;selectedDayForOptions=_0x557f43;const _0x43f88b=new Date(_0x557f43),_0x3e72fe={'weekday':_0x19840c(0x2a5),'day':_0x19840c(0x1d5),'month':_0x19840c(0x2a5),'year':_0x19840c(0x1d5)},_0x5e2026=_0x43f88b[_0x19840c(0x275)](_0x19840c(0x306),_0x3e72fe);document['getElementById'](_0x19840c(0x1c8))[_0x19840c(0x23c)]=_0x5e2026['charAt'](0x0)[_0x19840c(0x1d0)]()+_0x5e2026[_0x19840c(0x222)](0x1);let _0xb3df2e=_0x43f88b[_0x19840c(0x279)]()-0x1;if(_0xb3df2e===-0x1)_0xb3df2e=0x6;const _0x1db483=availabilityPattern[_0xb3df2e]||[],_0x27125c=0x18-_0x1db483[_0x19840c(0x2ef)],_0x3f66bb=_0x27125c*0x3c,_0x3e31a7=sessions[_0x19840c(0x223)](_0x416a20=>_0x416a20[_0x19840c(0x2bd)]===_0x557f43&&_0x416a20[_0x19840c(0x2e8)]!=='cancelled');let _0x3cee1a=_0x3e31a7['map'](_0x52793c=>{const _0x11be7d=_0x19840c,[_0x1848de,_0x148abe]=_0x52793c[_0x11be7d(0x2c9)][_0x11be7d(0x227)](':')[_0x11be7d(0x2ac)](Number),[_0x16102f,_0x46c306]=_0x52793c['end']['split'](':')[_0x11be7d(0x2ac)](Number);return[_0x1848de*0x3c+_0x148abe,_0x16102f*0x3c+_0x46c306];});_0x3cee1a[_0x19840c(0x271)]((_0x267a98,_0x4a9971)=>_0x267a98[0x0]-_0x4a9971[0x0]);let _0x1e2d14=[];if(_0x3cee1a[_0x19840c(0x2ef)]>0x0){let _0x20ba04=_0x3cee1a[0x0];for(let _0x4708c5=0x1;_0x4708c5<_0x3cee1a[_0x19840c(0x2ef)];_0x4708c5++){_0x3cee1a[_0x4708c5][0x0]<_0x20ba04[0x1]?_0x20ba04[0x1]=Math[_0x19840c(0x2e0)](_0x20ba04[0x1],_0x3cee1a[_0x4708c5][0x1]):(_0x1e2d14[_0x19840c(0x2cc)](_0x20ba04),_0x20ba04=_0x3cee1a[_0x4708c5]);}_0x1e2d14[_0x19840c(0x2cc)](_0x20ba04);}let _0x3a7300=0x0;_0x1e2d14[_0x19840c(0x190)](_0x3e1826=>_0x3a7300+=_0x3e1826[0x1]-_0x3e1826[0x0]),document[_0x19840c(0x182)](_0x19840c(0x1f7))['textContent']=formatMinsToHrs(_0x3f66bb),document[_0x19840c(0x182)](_0x19840c(0x1c5))[_0x19840c(0x23c)]=formatMinsToHrs(_0x3a7300);const _0x5a8a10=_0x3f66bb>0x0?Math[_0x19840c(0x254)](_0x3a7300/_0x3f66bb*0x64):0x0,_0x444ce5=document[_0x19840c(0x182)](_0x19840c(0x246));_0x444ce5[_0x19840c(0x23c)]=_0x5a8a10+'%';const _0x345e68=document[_0x19840c(0x182)](_0x19840c(0x2e4));if(_0x5a8a10>0x64)_0x444ce5[_0x19840c(0x1ec)][_0x19840c(0x225)]=_0x19840c(0x260),_0x345e68[_0x19840c(0x1ec)][_0x19840c(0x277)]=_0x19840c(0x226);else _0x5a8a10>0x50?(_0x444ce5['style'][_0x19840c(0x225)]=_0x19840c(0x1bc),_0x345e68[_0x19840c(0x1ec)]['borderColor']='rgba(255,\x20159,\x2010,\x200.3)'):(_0x444ce5[_0x19840c(0x1ec)]['color']=_0x19840c(0x252),_0x345e68['style'][_0x19840c(0x277)]=_0x19840c(0x1e3));const _0x2aa94a=document[_0x19840c(0x182)](_0x19840c(0x2a3));_0x2aa94a[_0x19840c(0x298)]='';_0x3e31a7[_0x19840c(0x2ef)]===0x0?_0x2aa94a[_0x19840c(0x298)]=_0x19840c(0x1f4):(_0x3e31a7[_0x19840c(0x271)]((_0x28b798,_0x3de2e2)=>_0x28b798[_0x19840c(0x2c9)][_0x19840c(0x195)](_0x3de2e2[_0x19840c(0x2c9)])),_0x3e31a7[_0x19840c(0x190)](_0x52b2ab=>{const _0x223413=_0x19840c,_0x4e007d=clients[_0x223413(0x20f)](_0x15b05b=>_0x15b05b[_0x223413(0x308)]===_0x52b2ab[_0x223413(0x262)]),_0x191b7f=_0x4e007d?_0x4e007d[_0x223413(0x225)]:_0x223413(0x305),_0x3b6644=_0x52b2ab['status']===_0x223413(0x2df),_0x309cd4=_0x3b6644?_0x223413(0x256):'',_0x169d23=document[_0x223413(0x22f)](_0x223413(0x2e6));_0x169d23[_0x223413(0x240)]='de-item',_0x169d23['style'][_0x223413(0x27e)]=_0x191b7f,_0x169d23['innerHTML']=_0x223413(0x290)+_0x52b2ab[_0x223413(0x2c9)]+_0x223413(0x204)+_0x52b2ab[_0x223413(0x30b)]+_0x223413(0x27b)+_0x52b2ab[_0x223413(0x262)]+_0x223413(0x188)+_0x309cd4+_0x223413(0x264),_0x2aa94a[_0x223413(0x193)](_0x169d23);}));const _0x5b81ea=document[_0x19840c(0x182)](_0x19840c(0x2a9)),_0x215a7f=dateExceptions[_0x557f43]===_0x19840c(0x1b3);_0x215a7f?(_0x5b81ea[_0x19840c(0x23c)]=_0x19840c(0x233),_0x5b81ea[_0x19840c(0x240)]=_0x19840c(0x194),_0x5b81ea[_0x19840c(0x1ec)]['color']=_0x19840c(0x252),_0x5b81ea[_0x19840c(0x1ec)][_0x19840c(0x1f9)]=_0x19840c(0x215)):(_0x5b81ea[_0x19840c(0x23c)]='–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º',_0x5b81ea[_0x19840c(0x240)]=_0x19840c(0x2e1),_0x5b81ea[_0x19840c(0x1ec)]['color']=_0x19840c(0x260),_0x5b81ea[_0x19840c(0x1ec)][_0x19840c(0x1f9)]=_0x19840c(0x280)),openSheet(_0x19840c(0x1b8));}let currentAnPeriod=a2_0x544194(0x1b0);function openAnalytics(){const _0x400f2e=a2_0x544194,_0x3d7859=document[_0x400f2e(0x2d7)](_0x400f2e(0x205));setAnalyticsPeriod('week',_0x3d7859),closeAllSheets(),openSheet(_0x400f2e(0x24e));}function setAnalyticsPeriod(_0x5df8c4,_0x55f0e3){const _0x51bf02=a2_0x544194;currentAnPeriod=_0x5df8c4,document[_0x51bf02(0x1d7)]('.period-switch\x20.p-btn')[_0x51bf02(0x190)](_0x5a5a50=>_0x5a5a50[_0x51bf02(0x2af)][_0x51bf02(0x248)]('active'));if(_0x55f0e3)_0x55f0e3[_0x51bf02(0x2af)]['add'](_0x51bf02(0x21f));const _0x513e8c=document['getElementById'](_0x51bf02(0x1e4));_0x513e8c['style']['display']=_0x5df8c4===_0x51bf02(0x1a5)?_0x51bf02(0x20d):'none';const _0x26a37a=new Date();let _0x13680a=new Date(),_0x58e7f0=new Date();if(_0x5df8c4===_0x51bf02(0x1b0))_0x13680a=getStartOfWeek(_0x26a37a),_0x58e7f0=new Date(_0x13680a),_0x58e7f0[_0x51bf02(0x272)](_0x58e7f0[_0x51bf02(0x2cd)]()+0x6);else{if(_0x5df8c4===_0x51bf02(0x2f8))_0x13680a=new Date(_0x26a37a[_0x51bf02(0x291)](),_0x26a37a[_0x51bf02(0x19d)](),0x1),_0x58e7f0=new Date(_0x26a37a['getFullYear'](),_0x26a37a[_0x51bf02(0x19d)]()+0x1,0x0);else{!document['getElementById'](_0x51bf02(0x197))['value']&&(document[_0x51bf02(0x182)](_0x51bf02(0x197))['value']=getLocalDateStr(_0x26a37a),document[_0x51bf02(0x182)](_0x51bf02(0x2d5))[_0x51bf02(0x201)]=getLocalDateStr(_0x26a37a));refreshAnalytics();return;}}document[_0x51bf02(0x182)]('anStart')[_0x51bf02(0x201)]=getLocalDateStr(_0x13680a),document[_0x51bf02(0x182)](_0x51bf02(0x2d5))[_0x51bf02(0x201)]=getLocalDateStr(_0x58e7f0),refreshAnalytics();}function refreshAnalytics(){const _0xe15802=a2_0x544194,_0x2f35bd=document[_0xe15802(0x182)](_0xe15802(0x197))[_0xe15802(0x201)],_0x1b0460=document[_0xe15802(0x182)](_0xe15802(0x2d5))[_0xe15802(0x201)];if(!_0x2f35bd||!_0x1b0460)return;const _0x479029=sessions[_0xe15802(0x223)](_0x17f0e3=>_0x17f0e3['dateStr']>=_0x2f35bd&&_0x17f0e3[_0xe15802(0x2bd)]<=_0x1b0460&&_0x17f0e3[_0xe15802(0x2e8)]!==_0xe15802(0x302)),_0x3ecd3f=_0x479029[_0xe15802(0x2ef)],_0x258e4b=_0x479029['filter'](_0x9cd901=>_0x9cd901[_0xe15802(0x2e8)]===_0xe15802(0x2df))[_0xe15802(0x2ef)],_0x4c44db=_0x3ecd3f>0x0?Math[_0xe15802(0x254)](_0x258e4b/_0x3ecd3f*0x64):0x0;document[_0xe15802(0x182)]('anPercent')[_0xe15802(0x23c)]=_0x4c44db+'%',document[_0xe15802(0x182)]('anTotalStats')[_0xe15802(0x23c)]=_0x258e4b+'\x20–∏–∑\x20'+_0x3ecd3f+_0xe15802(0x1c0);const _0x396f4e=document['getElementById'](_0xe15802(0x231)),_0x27fe3b=0x2*Math['PI']*0x23,_0x1f71e8=_0x27fe3b-_0x4c44db/0x64*_0x27fe3b;_0x396f4e[_0xe15802(0x1ec)][_0xe15802(0x243)]=_0x1f71e8;const _0x28b45d={};_0x479029[_0xe15802(0x190)](_0x22474e=>{const _0x19cd61=_0xe15802;if(!_0x28b45d[_0x22474e[_0x19cd61(0x262)]]){const _0x59ee02=clients[_0x19cd61(0x20f)](_0x20b5d4=>_0x20b5d4['name']===_0x22474e[_0x19cd61(0x262)]);_0x28b45d[_0x22474e[_0x19cd61(0x262)]]={'total':0x0,'done':0x0,'color':_0x59ee02?_0x59ee02[_0x19cd61(0x225)]:'#fff'};}_0x28b45d[_0x22474e['client']][_0x19cd61(0x23e)]++;if(_0x22474e[_0x19cd61(0x2e8)]===_0x19cd61(0x2df))_0x28b45d[_0x22474e[_0x19cd61(0x262)]][_0x19cd61(0x29a)]++;});const _0x5c7057=document[_0xe15802(0x182)](_0xe15802(0x1cd));_0x5c7057['innerHTML']='';const _0x409f1c=Object[_0xe15802(0x20e)](_0x28b45d)[_0xe15802(0x271)]((_0xa4c3d8,_0x5381d5)=>_0x5381d5[0x1][_0xe15802(0x23e)]-_0xa4c3d8[0x1][_0xe15802(0x23e)]);if(_0x409f1c[_0xe15802(0x2ef)]===0x0){_0x5c7057['innerHTML']=_0xe15802(0x2a7);return;}_0x409f1c['forEach'](([_0x27d0dd,_0x2bd43e])=>{const _0x495acd=_0xe15802,_0x532858=Math[_0x495acd(0x254)](_0x2bd43e[_0x495acd(0x29a)]/_0x2bd43e[_0x495acd(0x23e)]*0x64),_0x8cbfb=document[_0x495acd(0x22f)]('div');_0x8cbfb[_0x495acd(0x240)]='client-stat-card',_0x8cbfb[_0x495acd(0x1ec)][_0x495acd(0x27e)]=_0x2bd43e['color'],_0x8cbfb[_0x495acd(0x298)]=_0x495acd(0x213)+_0x27d0dd+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x2bd43e[_0x495acd(0x29a)]+_0x495acd(0x2f4)+_0x2bd43e['total']+_0x495acd(0x2de)+_0x532858+_0x495acd(0x269),_0x5c7057[_0x495acd(0x193)](_0x8cbfb);});}function formatMinsToHrs(_0xa803dd){const _0x2a01e1=a2_0x544194;if(_0xa803dd===0x0)return'0';const _0xda6404=Math[_0x2a01e1(0x1ae)](_0xa803dd/0x3c),_0x434312=_0xa803dd%0x3c;if(_0x434312===0x0)return _0xda6404+'—á';return _0xda6404+'—á\x20'+_0x434312+'–º';}