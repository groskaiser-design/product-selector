const a2_0x290668=a2_0x388c;(function(_0x477626,_0x425143){const _0x8bec48=a2_0x388c,_0x482ea5=_0x477626();while(!![]){try{const _0x50a920=-parseInt(_0x8bec48(0x1b6))/0x1*(parseInt(_0x8bec48(0xf8))/0x2)+-parseInt(_0x8bec48(0x15f))/0x3+-parseInt(_0x8bec48(0x1f8))/0x4*(parseInt(_0x8bec48(0x192))/0x5)+parseInt(_0x8bec48(0x220))/0x6*(-parseInt(_0x8bec48(0x1c9))/0x7)+parseInt(_0x8bec48(0x10c))/0x8*(parseInt(_0x8bec48(0x230))/0x9)+-parseInt(_0x8bec48(0x10b))/0xa+parseInt(_0x8bec48(0x161))/0xb;if(_0x50a920===_0x425143)break;else _0x482ea5['push'](_0x482ea5['shift']());}catch(_0x50d357){_0x482ea5['push'](_0x482ea5['shift']());}}}(a2_0x3af1,0xa55d4),function initTMA(){const _0x2ba6b4=a2_0x388c;try{const _0x2a34b2=window['Telegram']?.['WebApp'];if(!_0x2a34b2)return;_0x2a34b2[_0x2ba6b4(0x12c)](),_0x2a34b2['expand']();try{_0x2a34b2[_0x2ba6b4(0x238)]('#050505'),_0x2a34b2[_0x2ba6b4(0x1ea)]&&_0x2a34b2[_0x2ba6b4(0x1ea)](_0x2ba6b4(0x205));}catch(_0x106c00){console['log']('Error\x20setting\x20color:',_0x106c00);}try{_0x2a34b2[_0x2ba6b4(0x153)]&&(_0x2a34b2[_0x2ba6b4(0x153)][_0x2ba6b4(0x169)](),_0x2a34b2[_0x2ba6b4(0x153)]['offClick'](),_0x2a34b2[_0x2ba6b4(0x153)]['onClick'](function(){const _0x17c413=_0x2ba6b4;window['location'][_0x17c413(0x25f)]=_0x17c413(0x1a9);}));}catch(_0x65ec30){console[_0x2ba6b4(0x191)]('Error\x20setting\x20back\x20button:',_0x65ec30);}try{if(_0x2a34b2[_0x2ba6b4(0x132)])_0x2a34b2[_0x2ba6b4(0x132)]();}catch(_0x2048c0){}}catch(_0x348412){console[_0x2ba6b4(0x21c)](_0x2ba6b4(0x1d2),_0x348412);}}());function a2_0x3af1(){const _0x23c622=['.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','charAt','null','T23:59:59','BackButton','status','length','stat-','</div><div\x20class=\x22dch-num\x22>','\x20days','getBoundingClientRect','flex','none','\x20‚Äî\x20','warn','calc(','3803994jIsGYf',':00</span>','36836712DBqaBC','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','round','localeCompare','getItem','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','exceptions','warning','show','pe-col-header','batch_sync','btnDayToggle','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','rangeEndTime','completed','[Notify]\x20Detected\x20Client\x20ID:','clientY','–ò–Ω—Ñ–æ','[Settings]\x20Cancel\x20window\x20set\x20to:','timeLineBadge','filter','uc_settings_v9','complete','<div\x20class=\x22ev-title\x22>','<b>‚úÖ\x20','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','overlay','add','[Notify]\x20Network\x20Failed','daysHeaderTrack','blocked-slot\x20stripe-bg','indexOf','recurringOptionContainer','search','headerMonth','floor','undefined','save','vibrate','toLocaleDateString','toast','<span>','create','msg','startsWith','mousedown','map','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','log','25DDFMDg','appendChild','target','json','inpSeriesCount','event-card','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','from','patternEditor','colIndex','off','inpRecurring','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','splice','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','anDonutCircle','setItem','color','de-item','client','width','borderLeftColor','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','router.html','background','getDate','patternInfoBox','peGrid','includes','day-off-overlay\x20stripe-bg','anCustomDates','seriesId','strokeDashoffset','active','touches','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','1AnWvjc','inpStart','init_load','offsetLeft',':\x20Client\x20already\x20booked','client-stat-card','WebApp','</div><div\x20class=\x22ev-time\x22>','calendar','anPercent','sheetTitle','toUpperCase','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','backgroundColor','addEventListener','data-date','rgba(255,255,255,0.05)','forEach','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','91063iLtbnu','rgba(100,100,100,0.5)','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','planned','rgba(255,\x2069,\x2058,\x200.15)','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','borderRadius','inpDate','doBusyHours','Critical\x20TMA\x20Error:','actionSheet','send_notification','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','saveLocally','guest','scrollTop','%\x20-\x204px)','.day-off-overlay','done','insertBefore','single','anEnd','rgba(','keys','then','day-col-header\x20','blocked-range-part\x20stripe-bg','pattern','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','option','btnDelete','toast-notification\x20','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','setBackgroundColor','borderColor','scroll','createDocumentFragment','[Notify]\x20Client\x20SWAP\x20detected','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','actionSheetOverlay','textContent','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','doDateHeader','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','innerHTML','283288LVvAGz','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','rangeStartTime','.period-switch\x20.p-btn','asBtnSeries','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','top','px\x200px','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','clients','backgroundPosition','Telegram','month','#050505','send','globalTimeLine','long','mini','header-','left','querySelectorAll','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','inpNote','inpClient','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','var(--acc-current)','btn-primary\x20btn-secondary','user','isArray','data','note','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','btn-primary\x20btn-danger','anTotalStats','setHours','createElement','error','day-column\x20','touchmove','[Notify]\x20Server\x20Response:','84jZVBNQ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','div','text','block','onclick','...','clientWidth','seriesCountContainer','toastMessage','\x20–∏–∑\x20','[API\x20','–£–¥–∞–ª–µ–Ω–∏–µ','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','parse','push','18dMTuQZ','open','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','range-item','–£—Å–ø–µ—à–Ω–æ','checked',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','setHeaderColor','className','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','height','var(--acc-green)','padStart','.day-col-header','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','Unknown','value','getTime','px\x20-','cancelled','ranges','getElementById','doLoadPercent','btn-status-toggle\x20undo-mode','max','sid','var(--acc-red)','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','toString','10px','.dch-stats-fill','settingCancelWindow','total','getMonth','Save\x20settings\x20error:','delete','classList','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','sort','getAttribute','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','pe-time-label','href','.day-column','getMinutes','sessionSheet','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','T00:00:00','ru-RU','.event-card','</b>\x0a\x0a',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','2532064VlPWFB','23:59','end','asTitle','catch','Local\x20Load\x20Error','10px\x2010px\x200\x200','syncLoad','style','100%','getDay','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','substr','getFullYear','settings','scrollLeft','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','cancel','pe-corner','3459280YGGCol','2978936RDQxri','numeric','initData','uc_settings_cancel_window','.pib-text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','initDataUnsafe','dayOptionsTitle','closest','rangeStartDate','series','setAttribute','save_settings','doWorkHours','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(',':00','constructor','uc_sessions_v9','remove','dateStr','as-button\x20danger','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','querySelector','%\x20+\x202px)','fetchFromServer','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å',']\x20Failed:','matrixViewport','inpEnd','getHours','ready','min','now','name','gridColumns','display','disableVerticalSwipes','week','(((.+)+)+)+$','anStart','var(--acc-orange)','split','Server\x20Error','</span>\x20/\x20','mergeServerData','rangesList','syncBatch','find','clientId','data-day-idx','<div\x20class=\x22dch-day\x22>','[Notify]\x20Attempting\x20to\x20send:','\x20-\x20','setDate','timeColumn','text/plain;charset=UTF-8','#fff','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','start','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','cancel_window','rangeEndDate','stringify','deleted','findIndex'];a2_0x3af1=function(){return _0x23c622;};return a2_0x3af1();}function isAdmin(){const _0x544d8f=a2_0x388c;try{const _0x866d93=Number(window['Telegram']?.['WebApp']?.['initDataUnsafe']?.[_0x544d8f(0x213)]?.['id']);return _0x866d93===0xbaf7174;}catch(_0x54a2d9){return![];}}const APP_VERSION='v9.0-BATCH-CALENDAR',API_URL='https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec',GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS='uc_clients_v9',KEY_SESSIONS=a2_0x290668(0x11d),KEY_SETTINGS=a2_0x290668(0x176);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x88574f=a2_0x290668;return window[_0x88574f(0x203)]?.[_0x88574f(0x1bc)]?.[_0x88574f(0x112)]?.[_0x88574f(0x213)]?.['id']||_0x88574f(0x1d7);},'saveLocally'(){const _0x4eebbb=a2_0x290668;try{localStorage[_0x4eebbb(0x1a2)](KEY_CLIENTS,JSON[_0x4eebbb(0x14c)](clients)),localStorage[_0x4eebbb(0x1a2)](KEY_SESSIONS,JSON['stringify'](sessions)),localStorage['setItem'](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x471946){console[_0x4eebbb(0x21c)]('Local\x20Save\x20Error',_0x471946);}},'loadLocal'(){const _0x321a98=a2_0x290668;try{const _0x445636=localStorage['getItem'](KEY_CLIENTS);if(_0x445636)clients=JSON[_0x321a98(0x22e)](_0x445636);const _0x27deaf=localStorage[_0x321a98(0x165)](KEY_SESSIONS);if(_0x27deaf)sessions=JSON[_0x321a98(0x22e)](_0x27deaf);const _0x24c6d8=localStorage['getItem'](KEY_SETTINGS);if(_0x24c6d8){const _0x219980=JSON[_0x321a98(0x22e)](_0x24c6d8);if(_0x219980[_0x321a98(0x1e4)])availabilityPattern=_0x219980[_0x321a98(0x1e4)];if(_0x219980[_0x321a98(0x167)])dateExceptions=_0x219980[_0x321a98(0x167)];if(_0x219980[_0x321a98(0x247)])specialRanges=_0x219980[_0x321a98(0x247)];}else{for(let _0x554c10=0x0;_0x554c10<0x7;_0x554c10++)availabilityPattern[_0x554c10]=Array[_0x321a98(0x199)]({'length':0xc},(_0x5db608,_0x515125)=>_0x515125+0x9);}}catch(_0x12be17){console[_0x321a98(0x21c)](_0x321a98(0xfd),_0x12be17);}},async 'fetchFromServer'(_0x49cc72,_0x282dbb={}){const _0x2d62ff=a2_0x290668,_0x2f10a7=window[_0x2d62ff(0x203)]?.[_0x2d62ff(0x1bc)],_0x241818={'action':_0x49cc72,'init_data':_0x2f10a7?.[_0x2d62ff(0x10e)]||'',..._0x282dbb};try{const _0xff157b=await fetch(API_URL,{'method':'POST','headers':{'Content-Type':_0x2d62ff(0x145)},'body':JSON[_0x2d62ff(0x14c)](_0x241818)}),_0x40acb7=await _0xff157b[_0x2d62ff(0x195)]();if(!_0x40acb7['ok'])throw new Error(_0x40acb7[_0x2d62ff(0x21c)]||_0x2d62ff(0x138));return _0x40acb7['data'];}catch(_0x39e1ae){console[_0x2d62ff(0x21c)](_0x2d62ff(0x22b)+_0x49cc72+_0x2d62ff(0x128),_0x39e1ae);throw _0x39e1ae;}},async 'syncLoad'(){const _0x416cdc=a2_0x290668,_0x52ad6d=new Date(),_0x524a91=_0x52ad6d[_0x416cdc(0x105)]()+'-'+String(_0x52ad6d[_0x416cdc(0x254)]()+0x1)['padStart'](0x2,'0'),_0x276bd8=new Date(_0x52ad6d);_0x276bd8['setMonth'](_0x52ad6d[_0x416cdc(0x254)]()+0x1);const _0x252bf1=_0x276bd8['getFullYear']()+'-'+String(_0x276bd8[_0x416cdc(0x254)]()+0x1)[_0x416cdc(0x23f)](0x2,'0'),_0x32dc2c=Date[_0x416cdc(0x12e)]();console[_0x416cdc(0x191)]('[Sync]\x20Loading\x20'+_0x524a91+',\x20'+_0x252bf1+_0x416cdc(0x226));try{const [_0x2d8536,_0x55fa85]=await Promise['all']([this[_0x416cdc(0x126)](_0x416cdc(0x1b8),{'month_str':_0x524a91}),this[_0x416cdc(0x126)](_0x416cdc(0x1b8),{'month_str':_0x252bf1})]);if(lastUserActionTime>_0x32dc2c)return console[_0x416cdc(0x15d)]('[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response'),![];return this[_0x416cdc(0x13a)](_0x2d8536,_0x524a91),this[_0x416cdc(0x13a)](_0x55fa85,_0x252bf1),this[_0x416cdc(0x1d6)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x53b2e5){console[_0x416cdc(0x21c)](_0x53b2e5);throw _0x53b2e5;}},'mergeServerData'(_0x1062de,_0x41592c){const _0x12e07e=a2_0x290668;if(!_0x1062de)return;_0x1062de[_0x12e07e(0x201)]&&Array[_0x12e07e(0x214)](_0x1062de[_0x12e07e(0x201)])&&(clients=_0x1062de[_0x12e07e(0x201)]);if(_0x1062de[_0x12e07e(0x106)]){if(_0x1062de['settings']['pattern'])availabilityPattern=_0x1062de[_0x12e07e(0x106)][_0x12e07e(0x1e4)];if(_0x1062de[_0x12e07e(0x106)]['exceptions'])dateExceptions=_0x1062de['settings'][_0x12e07e(0x167)];if(_0x1062de[_0x12e07e(0x106)]['ranges'])specialRanges=_0x1062de[_0x12e07e(0x106)][_0x12e07e(0x247)];if(_0x1062de[_0x12e07e(0x106)][_0x12e07e(0x14a)]){localStorage[_0x12e07e(0x1a2)](_0x12e07e(0x10f),_0x1062de[_0x12e07e(0x106)][_0x12e07e(0x14a)]);const _0x35a537=document['getElementById'](_0x12e07e(0x252));if(_0x35a537)_0x35a537[_0x12e07e(0x243)]=_0x1062de[_0x12e07e(0x106)][_0x12e07e(0x14a)];}}_0x1062de[_0x12e07e(0x1be)]&&(sessions=sessions['filter'](_0x3cd74d=>!_0x3cd74d[_0x12e07e(0x11f)][_0x12e07e(0x18d)](_0x41592c)),Object[_0x12e07e(0x1e0)](_0x1062de[_0x12e07e(0x1be)])['forEach'](_0x162d43=>{const _0x36d472=_0x12e07e,_0x24a86b=_0x1062de[_0x36d472(0x1be)][_0x162d43];_0x24a86b['forEach'](_0x44ba25=>{const _0x1eec3f=_0x36d472,_0x16d278=clients['find'](_0x373551=>String(_0x373551['id'])===String(_0x44ba25['c']));sessions['push']({'id':_0x44ba25['i'],'clientId':_0x44ba25['c'],'client':_0x16d278?_0x16d278[_0x1eec3f(0x12f)]:_0x1eec3f(0x242),'dateStr':_0x41592c+'-'+_0x162d43[_0x1eec3f(0x23f)](0x2,'0'),'start':_0x44ba25['s'],'end':_0x44ba25['e'],'status':_0x44ba25['st']||_0x1eec3f(0x1cc),'note':_0x44ba25['n']||'','seriesId':_0x44ba25[_0x1eec3f(0x24c)]||null});});}));},async 'syncBatch'(_0x11f63d){const _0x14d26e=a2_0x290668,_0x3ccb2d=[...new Set(_0x11f63d)],_0x201833=_0x3ccb2d[_0x14d26e(0x18f)](_0x4ab7e4=>{const _0x541719=_0x14d26e,_0x23b77f=sessions[_0x541719(0x175)](_0x3bd904=>_0x3bd904[_0x541719(0x11f)]===_0x4ab7e4&&_0x3bd904['status']!==_0x541719(0x14d)),_0x29f604=_0x23b77f['map'](_0x55a7fa=>({'i':_0x55a7fa['id'],'c':_0x55a7fa[_0x541719(0x13e)],'s':_0x55a7fa[_0x541719(0x148)],'e':_0x55a7fa[_0x541719(0xfa)],'st':_0x55a7fa[_0x541719(0x154)],'n':_0x55a7fa[_0x541719(0x216)],'sid':_0x55a7fa[_0x541719(0x1b1)]}));return{'date':_0x4ab7e4,'day_data':_0x29f604};});if(_0x201833[_0x14d26e(0x155)]===0x0)return;console[_0x14d26e(0x191)](_0x14d26e(0x122)+_0x201833[_0x14d26e(0x155)]+_0x14d26e(0x158)),await this[_0x14d26e(0x126)](_0x14d26e(0x16b),{'changes':_0x201833});}};async function init(){const _0x249c07=a2_0x290668;DataManager['loadLocal'](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x249c07(0x248)](_0x249c07(0x129))[_0x249c07(0x1c4)](_0x249c07(0x1ec),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x249c07(0xff)]()[_0x249c07(0x1e1)](()=>{const _0x152783=_0x249c07;showToast(_0x152783(0x24e),!![]);})[_0x249c07(0xfc)](_0x4d03ea=>{showToast('–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º',![]);});}function generateId(){const _0x4b615a=a2_0x290668;return Date[_0x4b615a(0x12e)]()[_0x4b615a(0x24f)](0x24)+Math['random']()['toString'](0x24)[_0x4b615a(0x104)](0x2,0x5);}function toggleSeriesInput(){const _0x3014f9=a2_0x290668,_0x103cb9=document['getElementById'](_0x3014f9(0x19d))['checked'],_0x52b7f2=document[_0x3014f9(0x248)](_0x3014f9(0x228));_0x52b7f2['style'][_0x3014f9(0x131)]=_0x103cb9?_0x3014f9(0x224):_0x3014f9(0x15b);const _0x338489=document[_0x3014f9(0x248)](_0x3014f9(0x181));_0x338489[_0x3014f9(0x100)][_0x3014f9(0x1cf)]=_0x103cb9?_0x3014f9(0xfe):'10px';}function openAddSession(_0x96fca0){const _0x47663c=a2_0x290668;editingId=null,populateClientSelect(),document[_0x47663c(0x248)](_0x47663c(0x1c0))['textContent']=_0x47663c(0x127),document[_0x47663c(0x248)](_0x47663c(0x1e7))[_0x47663c(0x100)][_0x47663c(0x131)]=_0x47663c(0x15b),document[_0x47663c(0x248)]('btnStatusToggle')['style'][_0x47663c(0x131)]=_0x47663c(0x15b);const _0x3aa156=document['getElementById'](_0x47663c(0x181)),_0x284b78=document[_0x47663c(0x248)](_0x47663c(0x228));_0x3aa156[_0x47663c(0x100)][_0x47663c(0x131)]='flex',_0x3aa156['style'][_0x47663c(0x1cf)]=_0x47663c(0x250),document[_0x47663c(0x248)](_0x47663c(0x19d))['checked']=![],document[_0x47663c(0x248)](_0x47663c(0x196))[_0x47663c(0x243)]=0x4,_0x284b78['style'][_0x47663c(0x131)]='none',document[_0x47663c(0x248)]('inpDate')[_0x47663c(0x243)]=getLocalDateStr(_0x96fca0),updateDateDisplay();const _0x598513=_0x96fca0[_0x47663c(0x12b)]();document['getElementById'](_0x47663c(0x1b7))[_0x47663c(0x243)]=String(_0x598513)[_0x47663c(0x23f)](0x2,'0')+':00',document['getElementById'](_0x47663c(0x12a))[_0x47663c(0x243)]=String(_0x598513+0x1)[_0x47663c(0x23f)](0x2,'0')+_0x47663c(0x11b),openSheet(_0x47663c(0x262));}function openEdit(_0x55a1df){const _0x38856d=a2_0x290668;editingId=_0x55a1df['id'],populateClientSelect(),document[_0x38856d(0x248)]('sheetTitle')[_0x38856d(0x1f1)]='–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å',document[_0x38856d(0x248)](_0x38856d(0x1e7))[_0x38856d(0x100)][_0x38856d(0x131)]=_0x38856d(0x224);const _0x334616=document[_0x38856d(0x248)]('btnStatusToggle');_0x334616['style'][_0x38856d(0x131)]=_0x38856d(0x15a);_0x55a1df['status']===_0x38856d(0x16f)?(_0x334616[_0x38856d(0x239)]=_0x38856d(0x24a),_0x334616['innerHTML']=_0x38856d(0x1e5)):(_0x334616['className']='btn-status-toggle',_0x334616[_0x38856d(0x1f7)]=_0x38856d(0x1a8));const _0x37e2fe=!!_0x55a1df[_0x38856d(0x1b1)];document[_0x38856d(0x248)]('recurringOptionContainer')[_0x38856d(0x100)][_0x38856d(0x131)]='none',document[_0x38856d(0x248)](_0x38856d(0x228))[_0x38856d(0x100)][_0x38856d(0x131)]=_0x38856d(0x15b),_0x37e2fe?(document[_0x38856d(0x248)](_0x38856d(0x1ac))[_0x38856d(0x100)][_0x38856d(0x131)]=_0x38856d(0x15a),document[_0x38856d(0x248)]('patternInfoBox')[_0x38856d(0x124)](_0x38856d(0x110))[_0x38856d(0x1f1)]=_0x38856d(0x17a)):document[_0x38856d(0x248)](_0x38856d(0x1ac))[_0x38856d(0x100)][_0x38856d(0x131)]=_0x38856d(0x15b),document[_0x38856d(0x248)](_0x38856d(0x20f))[_0x38856d(0x243)]=_0x55a1df[_0x38856d(0x1a5)],document[_0x38856d(0x248)]('inpDate')[_0x38856d(0x243)]=_0x55a1df[_0x38856d(0x11f)],document[_0x38856d(0x248)](_0x38856d(0x1b7))[_0x38856d(0x243)]=_0x55a1df['start'],document[_0x38856d(0x248)](_0x38856d(0x12a))[_0x38856d(0x243)]=_0x55a1df[_0x38856d(0xfa)],document['getElementById']('inpNote')[_0x38856d(0x243)]=_0x55a1df['note']||'',updateDateDisplay(),openSheet('sessionSheet');}async function trySaveSession(){const _0x1f689f=a2_0x290668,_0xd127d6=document[_0x1f689f(0x248)]('inpClient')[_0x1f689f(0x243)],_0x10410c=document[_0x1f689f(0x248)](_0x1f689f(0x1d0))[_0x1f689f(0x243)],_0x317e4b=document[_0x1f689f(0x248)](_0x1f689f(0x1b7))[_0x1f689f(0x243)],_0x135729=document[_0x1f689f(0x248)](_0x1f689f(0x12a))[_0x1f689f(0x243)],_0x28ca41=document['getElementById'](_0x1f689f(0x20e))['value'],_0x395f7c=document[_0x1f689f(0x248)](_0x1f689f(0x19d))[_0x1f689f(0x236)];let _0x125f4f=0x4;if(_0x395f7c){const _0x248156=parseInt(document[_0x1f689f(0x248)]('inpSeriesCount')[_0x1f689f(0x243)]);if(!_0x248156||_0x248156<0x2){showToast(_0x1f689f(0x149),![]);return;}if(_0x248156>0x64){showToast('–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑',![]);return;}_0x125f4f=_0x248156;}const _0x3cb67b=clients[_0x1f689f(0x13d)](_0x765881=>_0x765881[_0x1f689f(0x12f)]===_0xd127d6);if(!_0x3cb67b){showToast('–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞',![]);return;}const _0x19fb9a=validateAppointment(_0x10410c,_0x317e4b,_0x135729,editingId,_0x3cb67b['id']);if(!_0x19fb9a['valid']){showToast(_0x19fb9a[_0x1f689f(0x18c)],![]);return;}_0x19fb9a[_0x1f689f(0x168)]&&showToast(_0x19fb9a['warning'],![]);const _0x8f1e44={'client':_0xd127d6,'clientId':_0x3cb67b['id'],'start':_0x317e4b,'end':_0x135729,'note':_0x28ca41,'status':'planned'},_0x2baa57=editingId?sessions['find'](_0x4b1c84=>_0x4b1c84['id']===editingId):null;if(_0x2baa57&&_0x2baa57[_0x1f689f(0x1b1)]){tempSessionData={..._0x8f1e44,'dateStr':_0x10410c,'id':editingId,'seriesId':_0x2baa57[_0x1f689f(0x1b1)]},openActionSheet(_0x1f689f(0x186));return;}let _0x5f343b=null;if(!editingId)_0x5f343b=_0x1f689f(0x18b);else{if(_0x2baa57){if(String(_0x2baa57[_0x1f689f(0x13e)])!==String(_0x3cb67b['id']))console[_0x1f689f(0x191)](_0x1f689f(0x1ee)),NotificationManager[_0x1f689f(0x206)]('cancel',_0x2baa57),_0x5f343b=_0x1f689f(0x18b);else(_0x2baa57[_0x1f689f(0x148)]!==_0x317e4b||_0x2baa57[_0x1f689f(0xfa)]!==_0x135729||_0x2baa57[_0x1f689f(0x11f)]!==_0x10410c)&&(_0x5f343b='update');}}if(!editingId&&_0x395f7c){createBatchSeries(_0x8f1e44,_0x10410c,_0x125f4f),NotificationManager[_0x1f689f(0x206)]('create',{..._0x8f1e44,'dateStr':_0x10410c});return;}lastUserActionTime=Date[_0x1f689f(0x12e)]();const _0x1bd0d3={..._0x8f1e44,'dateStr':_0x10410c,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x1bd0d3),_0x5f343b&&NotificationManager[_0x1f689f(0x206)](_0x5f343b,_0x1bd0d3);}function toggleSessionStatus(){const _0x3cb8de=a2_0x290668;lastUserActionTime=Date[_0x3cb8de(0x12e)]();const _0x3420eb=sessions[_0x3cb8de(0x13d)](_0xc32224=>_0xc32224['id']===editingId);if(!_0x3420eb)return;const _0x218277=_0x3420eb['status']===_0x3cb8de(0x16f)?'planned':_0x3cb8de(0x16f);_0x3420eb[_0x3cb8de(0x154)]=_0x218277,saveSingleSession(_0x3420eb),_0x218277===_0x3cb8de(0x16f)&&NotificationManager[_0x3cb8de(0x206)](_0x3cb8de(0x177),_0x3420eb),showToast(_0x218277===_0x3cb8de(0x16f)?_0x3cb8de(0x190):_0x3cb8de(0x1ce),!![]);}function validateAppointment(_0x70223a,_0x2d6834,_0x318ddf,_0x5a885e,_0x25e0bb){const _0x343560=a2_0x290668,[_0x11e868,_0x58dae8]=_0x2d6834[_0x343560(0x137)](':')[_0x343560(0x18f)](Number),[_0x17f103,_0x513f10]=_0x318ddf[_0x343560(0x137)](':')[_0x343560(0x18f)](Number),_0x449acb=_0x11e868*0x3c+_0x58dae8,_0x16e7b8=_0x17f103*0x3c+_0x513f10,_0x449af3=String(_0x25e0bb);let _0x404fc9=![],_0xb62e30='';for(let _0x17f232 of sessions){if(_0x17f232[_0x343560(0x11f)]!==_0x70223a)continue;if(_0x17f232[_0x343560(0x154)]===_0x343560(0x246))continue;if(_0x5a885e&&String(_0x17f232['id'])===String(_0x5a885e))continue;const [_0xd6c96a,_0x3541db]=_0x17f232['start']['split'](':')['map'](Number),[_0x69bd8c,_0x56d224]=_0x17f232[_0x343560(0xfa)][_0x343560(0x137)](':')[_0x343560(0x18f)](Number),_0x16282c=_0xd6c96a*0x3c+_0x3541db,_0x125957=_0x69bd8c*0x3c+_0x56d224;if(Math[_0x343560(0x24b)](_0x449acb,_0x16282c)<Math[_0x343560(0x12d)](_0x16e7b8,_0x125957)){if(_0x17f232[_0x343560(0x13e)]&&String(_0x17f232[_0x343560(0x13e)])===_0x449af3)return{'valid':![],'msg':_0x343560(0x198)+_0x17f232[_0x343560(0x1a5)]+_0x343560(0x233)};_0x404fc9=!![],_0xb62e30=_0x17f232[_0x343560(0x1a5)];}}if(_0x404fc9)return{'valid':!![],'warning':'–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20'+_0xb62e30};return{'valid':!![]};}function saveSingleSession(_0x4a6458){const _0x5b248a=a2_0x290668;if(editingId){const _0x4fa7ce=sessions['findIndex'](_0x4c9ff3=>_0x4c9ff3['id']===editingId);if(_0x4fa7ce!==-0x1)sessions[_0x4fa7ce]=_0x4a6458;}else sessions[_0x5b248a(0x22f)](_0x4a6458);afterSaveAction([_0x4a6458[_0x5b248a(0x11f)]]);}function createBatchSeries(_0x2bfb41,_0x4b6d33,_0x3e12aa){const _0x45496a=a2_0x290668,_0x3ae732=generateId(),_0x6abd75=[],_0x5d650d=[];let _0x5185fc=0x0,_0x5401f1=new Date(_0x4b6d33);for(let _0x528e6c=0x0;_0x528e6c<_0x3e12aa;_0x528e6c++){const _0x1f0eb7=getLocalDateStr(_0x5401f1),_0x480f32=validateAppointment(_0x1f0eb7,_0x2bfb41[_0x45496a(0x148)],_0x2bfb41[_0x45496a(0xfa)],null,_0x2bfb41[_0x45496a(0x13e)]);if(!_0x480f32['valid'])console['log']('[Series]\x20Skipped\x20'+_0x1f0eb7+_0x45496a(0x1ba)),_0x5185fc++;else{const _0x353a91={..._0x2bfb41,'id':generateId(),'dateStr':_0x1f0eb7,'seriesId':_0x3ae732};_0x5d650d[_0x45496a(0x22f)](_0x353a91),_0x6abd75[_0x45496a(0x22f)](_0x1f0eb7);}_0x5401f1['setDate'](_0x5401f1[_0x45496a(0x1ab)]()+0x7);}if(_0x5d650d['length']===0x0){showToast(_0x45496a(0x1e9),![]);return;}sessions[_0x45496a(0x22f)](..._0x5d650d),lastUserActionTime=Date[_0x45496a(0x12e)]();let _0x578838=_0x45496a(0x1ef)+_0x5d650d[_0x45496a(0x155)];_0x5185fc>0x0&&(_0x578838+=_0x45496a(0x1f5)+_0x5185fc+')'),showToast(_0x578838,!![]),afterSaveAction(_0x6abd75);}function updateSeriesBatch(_0x982f79,_0x24c945){const _0x32b8d0=a2_0x290668,_0x4f6615=[],_0x2489a0=_0x24c945[_0x32b8d0(0x1b1)];if(_0x982f79===_0x32b8d0(0x1dd)){const _0x36313a={..._0x24c945,'seriesId':null},_0x1ade9d=sessions[_0x32b8d0(0x14e)](_0x1b201a=>_0x1b201a['id']===_0x24c945['id']);if(_0x1ade9d!==-0x1)sessions[_0x1ade9d]=_0x36313a;_0x4f6615[_0x32b8d0(0x22f)](_0x36313a[_0x32b8d0(0x11f)]);}else{if(_0x982f79===_0x32b8d0(0x116)){const _0x2b69b3=_0x24c945[_0x32b8d0(0x11f)];sessions[_0x32b8d0(0x1c7)]((_0x374e02,_0x6d2375)=>{const _0x489659=_0x32b8d0;_0x374e02['seriesId']===_0x2489a0&&_0x374e02['dateStr']>=_0x2b69b3&&(sessions[_0x6d2375]={...sessions[_0x6d2375],'start':_0x24c945[_0x489659(0x148)],'end':_0x24c945[_0x489659(0xfa)],'note':_0x24c945['note'],'client':_0x24c945[_0x489659(0x1a5)],'clientId':_0x24c945[_0x489659(0x13e)]},_0x4f6615['push'](_0x374e02[_0x489659(0x11f)]));});}}afterSaveAction(_0x4f6615);}function tryDeleteSession(){const _0x108e39=a2_0x290668,_0x1ee37d=sessions[_0x108e39(0x13d)](_0x26c835=>_0x26c835['id']===editingId);if(!_0x1ee37d)return;_0x1ee37d['seriesId']?openActionSheet('delete'):commitDelete(_0x108e39(0x1dd),_0x1ee37d);}function commitDelete(_0x4255a7,_0x5de4a1){const _0x5b4598=a2_0x290668;lastUserActionTime=Date[_0x5b4598(0x12e)](),NotificationManager[_0x5b4598(0x206)](_0x5b4598(0x109),_0x5de4a1);const _0x35833c=[];if(_0x4255a7==='single')sessions=sessions['filter'](_0x3080c1=>_0x3080c1['id']!==_0x5de4a1['id']),_0x35833c['push'](_0x5de4a1[_0x5b4598(0x11f)]);else{if(_0x4255a7===_0x5b4598(0x116)){const _0x1174e9=_0x5de4a1[_0x5b4598(0x11f)],_0x2023dc=_0x5de4a1[_0x5b4598(0x1b1)];sessions[_0x5b4598(0x1c7)](_0x46bac0=>{const _0x35d068=_0x5b4598;_0x46bac0[_0x35d068(0x1b1)]===_0x2023dc&&_0x46bac0['dateStr']>=_0x1174e9&&_0x35833c[_0x35d068(0x22f)](_0x46bac0[_0x35d068(0x11f)]);}),sessions=sessions['filter'](_0x2022d1=>!(_0x2022d1[_0x5b4598(0x1b1)]===_0x2023dc&&_0x2022d1[_0x5b4598(0x11f)]>=_0x1174e9));}}afterSaveAction(_0x35833c);}function afterSaveAction(_0x329d98){const _0x2e60cf=a2_0x290668;DataManager[_0x2e60cf(0x1d6)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x2e60cf(0x13c)](_0x329d98)['then'](()=>console['log']('Batch\x20Sync\x20OK'))[_0x2e60cf(0xfc)](_0x36c6bf=>showToast(_0x2e60cf(0x166),![]));}const NotificationManager={'formatDate'(_0x45eaa5){const _0x914bde=a2_0x290668,_0x393abc=new Date(_0x45eaa5),_0x47afae={'weekday':_0x914bde(0x208),'day':_0x914bde(0x10d),'month':_0x914bde(0x208)};let _0x897b31=_0x393abc[_0x914bde(0x188)](_0x914bde(0x266),_0x47afae);return _0x897b31[_0x914bde(0x150)](0x0)['toUpperCase']()+_0x897b31['slice'](0x1);},'getText'(_0x44cf76,_0x2a4cba){const _0x25d9a8=a2_0x290668,_0xc88074=this['formatDate'](_0x2a4cba['dateStr']);switch(_0x44cf76){case _0x25d9a8(0x18b):return _0x25d9a8(0x25c)+(_0x25d9a8(0x1f4)+_0xc88074+'\x0a')+(_0x25d9a8(0x1a0)+_0x2a4cba[_0x25d9a8(0x148)]+_0x25d9a8(0x15c)+_0x2a4cba[_0x25d9a8(0xfa)]+'\x0a\x0a')+'–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™';case'update':return _0x25d9a8(0x1f2)+_0x25d9a8(0x1cb)+(_0x25d9a8(0x179)+_0x2a4cba[_0x25d9a8(0x148)]+_0x25d9a8(0x15c)+_0x2a4cba[_0x25d9a8(0xfa)]+_0x25d9a8(0xf6))+(_0x25d9a8(0x1f4)+_0xc88074);case _0x25d9a8(0x109):return _0x25d9a8(0x147)+(_0x25d9a8(0x162)+_0xc88074+'\x20('+_0x2a4cba[_0x25d9a8(0x148)]+_0x25d9a8(0x123));case _0x25d9a8(0x177):return'<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a'+_0x25d9a8(0x1d5)+_0x25d9a8(0x263);default:return'';}},async 'send'(_0x77a601,_0x3d8d6b){const _0x601a8=a2_0x290668;console[_0x601a8(0x191)](_0x601a8(0x141),_0x77a601,_0x3d8d6b);if(!_0x3d8d6b){console[_0x601a8(0x21c)]('[Notify]\x20Error:\x20sessionData\x20is\x20null');return;}const _0x515821=String(_0x3d8d6b['clientId']);console[_0x601a8(0x191)](_0x601a8(0x170),_0x515821);if(!_0x3d8d6b[_0x601a8(0x13e)]||_0x515821===_0x601a8(0x185)||_0x515821===_0x601a8(0x151)){console[_0x601a8(0x21c)]('[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!');if(_0x3d8d6b[_0x601a8(0x1a5)]){const _0x31cf54=clients['find'](_0x21effa=>_0x21effa[_0x601a8(0x12f)]===_0x3d8d6b['client']);if(_0x31cf54)return console['log'](_0x601a8(0x16d),_0x31cf54['id']),this[_0x601a8(0x206)](_0x77a601,{..._0x3d8d6b,'clientId':_0x31cf54['id']});}return;}if(_0x515821['length']<0x5){console[_0x601a8(0x15d)]('[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)',_0x515821);return;}const _0x4e8589=this['getText'](_0x77a601,_0x3d8d6b);if(!_0x4e8589){console['error']('[Notify]\x20Error:\x20Text\x20generation\x20failed');return;}console[_0x601a8(0x191)](_0x601a8(0x241)+_0x515821+_0x601a8(0x226)),DataManager[_0x601a8(0x126)](_0x601a8(0x1d4),{'chatId':_0x515821,'text':_0x4e8589})[_0x601a8(0x1e1)](_0x5b9f6f=>console[_0x601a8(0x191)](_0x601a8(0x21f),_0x5b9f6f))[_0x601a8(0xfc)](_0x50bd4f=>console['error'](_0x601a8(0x17d),_0x50bd4f));}};function getLocalDateStr(_0x593fcb){const _0x10cfac=a2_0x290668,_0x5eec84=_0x593fcb[_0x10cfac(0x105)](),_0x201480=String(_0x593fcb[_0x10cfac(0x254)]()+0x1)[_0x10cfac(0x23f)](0x2,'0'),_0x316559=String(_0x593fcb[_0x10cfac(0x1ab)]())[_0x10cfac(0x23f)](0x2,'0');return _0x5eec84+'-'+_0x201480+'-'+_0x316559;}function getDateStr(_0x17713a){const _0x4fd2a3=a2_0x290668,_0x40de79=new Date();return _0x40de79[_0x4fd2a3(0x143)](_0x40de79['getDate']()+_0x17713a),getLocalDateStr(_0x40de79);}function getStartOfWeek(_0xc9484e){const _0x16cec4=a2_0x290668,_0x2c774a=(function(){let _0x298292=!![];return function(_0x345875,_0x483f89){const _0x5a7740=_0x298292?function(){if(_0x483f89){const _0x379a62=_0x483f89['apply'](_0x345875,arguments);return _0x483f89=null,_0x379a62;}}:function(){};return _0x298292=![],_0x5a7740;};}()),_0x434278=_0x2c774a(this,function(){const _0xe555a2=a2_0x388c;return _0x434278['toString']()[_0xe555a2(0x182)](_0xe555a2(0x134))[_0xe555a2(0x24f)]()[_0xe555a2(0x11c)](_0x434278)['search'](_0xe555a2(0x134));});_0x434278();const _0x1d9ba6=new Date(_0xc9484e),_0x46d6ef=_0x1d9ba6['getDay'](),_0x57eda6=_0x1d9ba6[_0x16cec4(0x1ab)]()-_0x46d6ef+(_0x46d6ef===0x0?-0x6:0x1);return _0x1d9ba6['setDate'](_0x57eda6),_0x1d9ba6[_0x16cec4(0x21a)](0x0,0x0,0x0,0x0),_0x1d9ba6;}function hexToRgba(_0x1b40aa,_0x45a8ff){const _0x5820c7=a2_0x290668;if(!_0x1b40aa)return _0x5820c7(0x1ca);let _0x5ebb1d=0x0,_0x8b184d=0x0,_0x1c5594=0x0;if(_0x1b40aa['length']===0x4)_0x5ebb1d='0x'+_0x1b40aa[0x1]+_0x1b40aa[0x1],_0x8b184d='0x'+_0x1b40aa[0x2]+_0x1b40aa[0x2],_0x1c5594='0x'+_0x1b40aa[0x3]+_0x1b40aa[0x3];else _0x1b40aa[_0x5820c7(0x155)]===0x7&&(_0x5ebb1d='0x'+_0x1b40aa[0x1]+_0x1b40aa[0x2],_0x8b184d='0x'+_0x1b40aa[0x3]+_0x1b40aa[0x4],_0x1c5594='0x'+_0x1b40aa[0x5]+_0x1b40aa[0x6]);return _0x5820c7(0x1df)+ +_0x5ebb1d+',\x20'+ +_0x8b184d+',\x20'+ +_0x1c5594+',\x20'+_0x45a8ff+')';}function renderTimeColumn(){const _0x398ecd=a2_0x290668,_0x1200a3=document[_0x398ecd(0x248)](_0x398ecd(0x144)),_0xe8e039=document['getElementById'](_0x398ecd(0x174));_0x1200a3[_0x398ecd(0x1f7)]='',_0x1200a3[_0x398ecd(0x193)](_0xe8e039);for(let _0x3129c7=0x0;_0x3129c7<0x18;_0x3129c7++){const _0x18cad8=document[_0x398ecd(0x21b)](_0x398ecd(0x222));_0x18cad8[_0x398ecd(0x239)]='time-label';if(_0x3129c7>0x0)_0x18cad8[_0x398ecd(0x1f7)]=_0x398ecd(0x18a)+String(_0x3129c7)[_0x398ecd(0x23f)](0x2,'0')+_0x398ecd(0x160);_0x1200a3[_0x398ecd(0x193)](_0x18cad8);}}function renderDayRange(_0x4fc649,_0x3a2990){const _0x24dcba=a2_0x290668,_0x3a73ef=document[_0x24dcba(0x248)](_0x24dcba(0x17e)),_0x5b97ef=document['getElementById'](_0x24dcba(0x130)),_0xa8a866=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0xb48a20=new Date();_0xb48a20[_0x24dcba(0x21a)](0x0,0x0,0x0,0x0);const _0x2d9b5e=getLocalDateStr(new Date());for(let _0x871fb3=_0x4fc649;_0x871fb3<=_0x3a2990;_0x871fb3++){const _0x2ed37f=new Date(_0xb48a20);_0x2ed37f[_0x24dcba(0x143)](_0x2ed37f['getDate']()+_0x871fb3);const _0x39e90=getLocalDateStr(_0x2ed37f);let _0x16a18c=_0x2ed37f[_0x24dcba(0x102)]()-0x1;if(_0x16a18c===-0x1)_0x16a18c=0x6;const _0x2e2dbe=_0x39e90===_0x2d9b5e,_0x5c393c=document[_0x24dcba(0x21b)](_0x24dcba(0x222));_0x5c393c['className']=_0x24dcba(0x1e2)+(_0x2e2dbe?'today':''),_0x5c393c['id']=_0x24dcba(0x20a)+_0x39e90,_0x5c393c['setAttribute'](_0x24dcba(0x1c5),_0x39e90),_0x5c393c[_0x24dcba(0x1f7)]=_0x24dcba(0x140)+_0xa8a866[_0x16a18c]+_0x24dcba(0x157)+_0x2ed37f['getDate']()+_0x24dcba(0x22d)+_0x39e90+_0x24dcba(0x20d),_0x5c393c[_0x24dcba(0x225)]=()=>openDayOptions(_0x39e90,_0xa8a866[_0x16a18c]+'\x20'+_0x2ed37f[_0x24dcba(0x1ab)]()),_0x3a73ef[_0x24dcba(0x193)](_0x5c393c);const _0x1f9825=document[_0x24dcba(0x21b)](_0x24dcba(0x222));_0x1f9825[_0x24dcba(0x239)]=_0x24dcba(0x21d)+(_0x2e2dbe?'today':''),_0x1f9825[_0x24dcba(0x117)](_0x24dcba(0x1c5),_0x39e90),_0x1f9825['setAttribute']('data-day-idx',_0x16a18c),renderEventsForColumn(_0x1f9825,_0x39e90,_0x16a18c),attachLongPressHandler(_0x1f9825,_0x2ed37f),_0x5b97ef[_0x24dcba(0x193)](_0x1f9825),updateDayStats(_0x39e90);}}function reRenderBlocks(){const _0x3d7ec0=a2_0x290668;document[_0x3d7ec0(0x20c)]('#gridColumns\x20.day-column')[_0x3d7ec0(0x1c7)](_0x270c9a=>{const _0xe6ec96=_0x3d7ec0;_0x270c9a[_0xe6ec96(0x20c)](_0xe6ec96(0x14f))[_0xe6ec96(0x1c7)](_0x55da7e=>_0x55da7e['remove']());const _0x209f9f=_0x270c9a['getAttribute'](_0xe6ec96(0x1c5)),_0x53fe36=parseInt(_0x270c9a[_0xe6ec96(0x25a)](_0xe6ec96(0x13f))),_0x38fdce=Math[_0xe6ec96(0x163)](_0x270c9a[_0xe6ec96(0x1b9)]);(availabilityPattern[_0x53fe36]||[])[_0xe6ec96(0x1c7)](_0x16ad4c=>{const _0x230924=_0xe6ec96,_0x14907d=document['createElement'](_0x230924(0x222));_0x14907d[_0x230924(0x239)]=_0x230924(0x17f);const _0x1d2501=_0x16ad4c*GRID_H;_0x14907d[_0x230924(0x100)][_0x230924(0x1fe)]=_0x1d2501+'px',_0x14907d['style'][_0x230924(0x202)]='-'+_0x38fdce+_0x230924(0x245)+_0x1d2501+'px',_0x270c9a[_0x230924(0x193)](_0x14907d);});if(specialRanges&&specialRanges[_0xe6ec96(0x155)]>0x0){const _0x495d42=new Date(_0x209f9f+_0xe6ec96(0x265))[_0xe6ec96(0x244)](),_0x430435=new Date(_0x209f9f+_0xe6ec96(0x152))[_0xe6ec96(0x244)]();specialRanges['forEach'](_0x1e5b2b=>{const _0x116edf=_0xe6ec96,_0x2cb702=new Date(_0x1e5b2b['start'])[_0x116edf(0x244)](),_0x3a2835=new Date(_0x1e5b2b['end'])['getTime'](),_0x4e1fe7=Math[_0x116edf(0x24b)](_0x495d42,_0x2cb702),_0x2fe258=Math['min'](_0x430435,_0x3a2835);if(_0x4e1fe7<_0x2fe258){if(_0x4e1fe7<=_0x495d42&&_0x2fe258>=_0x430435-0xea60){if(!_0x270c9a[_0x116edf(0x124)](_0x116edf(0x1da))){const _0x1ae852=document[_0x116edf(0x21b)]('div');_0x1ae852[_0x116edf(0x239)]=_0x116edf(0x1af),_0x1ae852[_0x116edf(0x100)][_0x116edf(0x202)]='-'+_0x38fdce+_0x116edf(0x1ff),_0x270c9a['appendChild'](_0x1ae852);}}else{const _0x2d6e2c=(_0x4e1fe7-_0x495d42)/0x36ee80*GRID_H,_0x112ecf=(_0x2fe258-_0x4e1fe7)/0x36ee80*GRID_H,_0x5dc978=document[_0x116edf(0x21b)](_0x116edf(0x222));_0x5dc978[_0x116edf(0x239)]=_0x116edf(0x1e3),_0x5dc978[_0x116edf(0x100)][_0x116edf(0x1fe)]=_0x2d6e2c+'px',_0x5dc978['style'][_0x116edf(0x23d)]=_0x112ecf+'px',_0x5dc978[_0x116edf(0x100)]['backgroundPosition']='-'+_0x38fdce+_0x116edf(0x245)+_0x2d6e2c+'px',_0x270c9a['appendChild'](_0x5dc978);}}});}if(dateExceptions[_0x209f9f]===_0xe6ec96(0x19c)){if(!_0x270c9a['querySelector'](_0xe6ec96(0x1da))){const _0x3e6e74=document[_0xe6ec96(0x21b)]('div');_0x3e6e74[_0xe6ec96(0x239)]=_0xe6ec96(0x1af),_0x3e6e74[_0xe6ec96(0x100)][_0xe6ec96(0x202)]='-'+_0x38fdce+_0xe6ec96(0x1ff),_0x270c9a[_0xe6ec96(0x193)](_0x3e6e74);}}renderEventsForColumn(_0x270c9a,_0x209f9f,_0x53fe36),updateDayStats(_0x209f9f);});}function updateAllDayStats(){const _0x4310c6=a2_0x290668;document[_0x4310c6(0x20c)](_0x4310c6(0x240))[_0x4310c6(0x1c7)](_0x57725a=>{const _0x566321=_0x4310c6;updateDayStats(_0x57725a[_0x566321(0x25a)](_0x566321(0x1c5)));});}function updateDayStats(_0x2ac839){const _0xcdc50=a2_0x290668,_0x538220=document[_0xcdc50(0x248)](_0xcdc50(0x156)+_0x2ac839);if(!_0x538220)return;const _0x40e2de=new Date(_0x2ac839);let _0x3e3791=_0x40e2de['getDay']()-0x1;if(_0x3e3791===-0x1)_0x3e3791=0x6;if(dateExceptions[_0x2ac839]==='off'){_0x538220[_0xcdc50(0x100)][_0xcdc50(0x131)]='none';return;}const _0x5c9c2b=availabilityPattern[_0x3e3791]||[],_0x5ad2f1=0x18-_0x5c9c2b[_0xcdc50(0x155)],_0x47c0e8=_0x5ad2f1*0x3c,_0x469734=sessions['filter'](_0x5e6ab5=>_0x5e6ab5[_0xcdc50(0x11f)]===_0x2ac839&&_0x5e6ab5[_0xcdc50(0x154)]!==_0xcdc50(0x246));if(_0x469734['length']===0x0){_0x538220['style'][_0xcdc50(0x131)]=_0xcdc50(0x15b);return;}let _0x47257d=_0x469734[_0xcdc50(0x18f)](_0xd06f96=>{const _0x4f9236=_0xcdc50,[_0xb8985a,_0x45d98b]=_0xd06f96[_0x4f9236(0x148)][_0x4f9236(0x137)](':')[_0x4f9236(0x18f)](Number),[_0xe52a50,_0x5998d5]=_0xd06f96['end'][_0x4f9236(0x137)](':')[_0x4f9236(0x18f)](Number);return[_0xb8985a*0x3c+_0x45d98b,_0xe52a50*0x3c+_0x5998d5];});_0x47257d[_0xcdc50(0x259)]((_0x1ddc82,_0x1f2e21)=>_0x1ddc82[0x0]-_0x1f2e21[0x0]);let _0x3362cb=[];if(_0x47257d[_0xcdc50(0x155)]>0x0){let _0x185151=_0x47257d[0x0];for(let _0x1b5e5b=0x1;_0x1b5e5b<_0x47257d['length'];_0x1b5e5b++){_0x47257d[_0x1b5e5b][0x0]<_0x185151[0x1]?_0x185151[0x1]=Math[_0xcdc50(0x24b)](_0x185151[0x1],_0x47257d[_0x1b5e5b][0x1]):(_0x3362cb['push'](_0x185151),_0x185151=_0x47257d[_0x1b5e5b]);}_0x3362cb['push'](_0x185151);}let _0x35884c=0x0;_0x3362cb[_0xcdc50(0x1c7)](_0x3622ce=>_0x35884c+=_0x3622ce[0x1]-_0x3622ce[0x0]),_0x538220['style'][_0xcdc50(0x131)]=_0xcdc50(0x15a);const _0x5a8be1=_0x538220[_0xcdc50(0x124)](_0xcdc50(0x251));if(_0x47c0e8===0x0){_0x5a8be1[_0xcdc50(0x100)][_0xcdc50(0x1a6)]=_0xcdc50(0x101),_0x5a8be1[_0xcdc50(0x100)][_0xcdc50(0x1aa)]='var(--acc-red)';return;}const _0xc58478=_0x35884c/_0x47c0e8*0x64;console[_0xcdc50(0x191)]('['+_0x2ac839+_0xcdc50(0x237)+_0x5ad2f1+_0xcdc50(0x1fd)+_0x35884c+_0xcdc50(0x25b)+_0xc58478['toFixed'](0x1)+'%'),_0xc58478>0x64?(_0x5a8be1[_0xcdc50(0x100)]['width']=_0xcdc50(0x101),_0x5a8be1[_0xcdc50(0x100)][_0xcdc50(0x1aa)]=_0xcdc50(0x24d)):(_0x5a8be1[_0xcdc50(0x100)]['width']=_0xc58478+'%',_0x5a8be1[_0xcdc50(0x100)][_0xcdc50(0x1aa)]=_0xcdc50(0x211));}function renderEventsForColumn(_0x289930,_0x29d27f,_0xb2bff8){const _0x57e5ce=a2_0x290668,_0x3fabb4=sessions[_0x57e5ce(0x175)](_0x1327ec=>_0x1327ec[_0x57e5ce(0x11f)]===_0x29d27f),_0x4e4321=_0x3fabb4[_0x57e5ce(0x18f)](_0x2f8b01=>{const _0x4b9f9f=_0x57e5ce,[_0x58b4d3,_0xf902ca]=_0x2f8b01[_0x4b9f9f(0x148)][_0x4b9f9f(0x137)](':')[_0x4b9f9f(0x18f)](Number),[_0x30dd61,_0x43a404]=_0x2f8b01[_0x4b9f9f(0xfa)]['split'](':')['map'](Number);return{'data':_0x2f8b01,'start':_0x58b4d3*0x3c+_0xf902ca,'end':_0x30dd61*0x3c+_0x43a404,'colIndex':0x0};});_0x4e4321[_0x57e5ce(0x259)]((_0x4c4939,_0x358a52)=>{const _0x2ee51d=_0x57e5ce;if(_0x4c4939[_0x2ee51d(0x148)]!==_0x358a52[_0x2ee51d(0x148)])return _0x4c4939[_0x2ee51d(0x148)]-_0x358a52[_0x2ee51d(0x148)];return _0x358a52[_0x2ee51d(0xfa)]-_0x358a52['start']-(_0x4c4939['end']-_0x4c4939[_0x2ee51d(0x148)]);});const _0x2355c=[];_0x4e4321[_0x57e5ce(0x1c7)](_0x4cd33e=>{const _0x389364=_0x57e5ce;let _0x1e1a04=![];for(let _0x519308=0x0;_0x519308<_0x2355c['length'];_0x519308++){const _0x5c33bf=_0x2355c[_0x519308],_0x4e1dd8=_0x5c33bf[_0x5c33bf['length']-0x1];if(_0x4cd33e[_0x389364(0x148)]>=_0x4e1dd8['end']){_0x5c33bf[_0x389364(0x22f)](_0x4cd33e),_0x4cd33e[_0x389364(0x19b)]=_0x519308,_0x1e1a04=!![];break;}}!_0x1e1a04&&(_0x2355c['push']([_0x4cd33e]),_0x4cd33e['colIndex']=_0x2355c['length']-0x1);}),_0x4e4321['forEach'](_0x21bae0=>{const _0x25a155=_0x57e5ce;let _0x5d3b45=0x0;_0x4e4321['forEach'](_0x3a75d4=>{const _0x1c2c1b=a2_0x388c;if(Math['max'](_0x21bae0[_0x1c2c1b(0x148)],_0x3a75d4['start'])<Math[_0x1c2c1b(0x12d)](_0x21bae0['end'],_0x3a75d4[_0x1c2c1b(0xfa)])){if(_0x3a75d4[_0x1c2c1b(0x19b)]>_0x5d3b45)_0x5d3b45=_0x3a75d4[_0x1c2c1b(0x19b)];}});const _0x45b792=_0x5d3b45+0x1,_0x105d89=0x64/_0x45b792,_0x434cc5=_0x21bae0[_0x25a155(0x19b)]*_0x105d89,_0x7480f6=createEventEl(_0x21bae0[_0x25a155(0x215)]);_0x7480f6[_0x25a155(0x100)][_0x25a155(0x1a6)]=_0x25a155(0x15e)+_0x105d89+_0x25a155(0x1d9),_0x7480f6[_0x25a155(0x100)][_0x25a155(0x20b)]=_0x25a155(0x15e)+_0x434cc5+_0x25a155(0x125),_0x7480f6['style']['zIndex']=0xa+_0x21bae0['colIndex'],_0x105d89<0x55&&_0x7480f6[_0x25a155(0x257)][_0x25a155(0x17c)](_0x25a155(0x209)),_0x289930[_0x25a155(0x193)](_0x7480f6);});}function createEventEl(_0x3e414e){const _0x262deb=a2_0x290668,[_0x175f82,_0x256006]=_0x3e414e[_0x262deb(0x148)]['split'](':')[_0x262deb(0x18f)](Number),[_0x54ab66,_0x5af9e0]=_0x3e414e[_0x262deb(0xfa)][_0x262deb(0x137)](':')[_0x262deb(0x18f)](Number),_0x59081b=(_0x175f82*0x3c+_0x256006)/0x3c*GRID_H,_0x21ef82=(_0x54ab66*0x3c+_0x5af9e0-(_0x175f82*0x3c+_0x256006))/0x3c*GRID_H,_0x5dc173=document[_0x262deb(0x21b)](_0x262deb(0x222)),_0x3d7b26=_0x3e414e[_0x262deb(0x154)]==='completed'?'\x20status-completed':'';_0x5dc173['className']=_0x262deb(0x197)+_0x3d7b26,_0x5dc173['style'][_0x262deb(0x1fe)]=_0x59081b+'px',_0x5dc173[_0x262deb(0x100)][_0x262deb(0x23d)]=Math[_0x262deb(0x24b)](_0x21ef82,0x14)+'px';const _0x11a2b5=clients[_0x262deb(0x13d)](_0x560f83=>_0x3e414e[_0x262deb(0x13e)]&&String(_0x560f83['id'])===String(_0x3e414e[_0x262deb(0x13e)])||_0x560f83[_0x262deb(0x12f)]===_0x3e414e[_0x262deb(0x1a5)]),_0xd6bc49=_0x11a2b5?_0x11a2b5[_0x262deb(0x1a3)]:'#0a84ff';_0x5dc173[_0x262deb(0x100)][_0x262deb(0x1a7)]=_0xd6bc49,_0x5dc173['style'][_0x262deb(0x1c3)]=hexToRgba(_0xd6bc49,0.85);let _0x28c53a=_0x262deb(0x178)+_0x3e414e[_0x262deb(0x1a5)]+_0x262deb(0x1bd)+_0x3e414e[_0x262deb(0x148)]+_0x262deb(0x142)+_0x3e414e['end']+'</div>';return _0x3e414e[_0x262deb(0x1b1)]&&(_0x28c53a+=_0x262deb(0x1c8)),_0x3e414e['status']===_0x262deb(0x16f)&&(_0x28c53a+=_0x262deb(0x1b5)),_0x5dc173['innerHTML']=_0x28c53a,_0x5dc173[_0x262deb(0x225)]=_0x366e3f=>{_0x366e3f['stopPropagation'](),openEdit(_0x3e414e);},_0x5dc173;}function attachLongPressHandler(_0x55cc53,_0x2f914b){const _0x18d955=a2_0x290668;let _0x8c13e6=0x0,_0x3d8748=null;const _0x1ae167=_0x262ffe=>{const _0x276b51=a2_0x388c;if(_0x262ffe[_0x276b51(0x194)][_0x276b51(0x114)](_0x276b51(0xf5)))return;isScrolling=![],_0x8c13e6=_0x262ffe[_0x276b51(0x1b4)]?_0x262ffe[_0x276b51(0x1b4)][0x0][_0x276b51(0x171)]:_0x262ffe[_0x276b51(0x171)],_0x3d8748=setTimeout(()=>{const _0x5e11b7=_0x276b51;if(!isScrolling){navigator[_0x5e11b7(0x187)]?.(0x32);const _0x25ce37=_0x55cc53[_0x5e11b7(0x159)](),_0x5980e1=Math[_0x5e11b7(0x184)]((_0x8c13e6-_0x25ce37[_0x5e11b7(0x1fe)])/GRID_H);_0x2f914b[_0x5e11b7(0x21a)](_0x5980e1,0x0),openAddSession(_0x2f914b);}},0x1f4);},_0x418a17=()=>{isScrolling=!![],clearTimeout(_0x3d8748);},_0x2160e=()=>{clearTimeout(_0x3d8748);};_0x55cc53[_0x18d955(0x1c4)]('touchstart',_0x1ae167,{'passive':!![]}),_0x55cc53[_0x18d955(0x1c4)](_0x18d955(0x21e),_0x418a17,{'passive':!![]}),_0x55cc53[_0x18d955(0x1c4)]('touchend',_0x2160e),_0x55cc53[_0x18d955(0x1c4)](_0x18d955(0x18e),_0x1ae167),_0x55cc53[_0x18d955(0x1c4)]('mousemove',_0x418a17),_0x55cc53['addEventListener']('mouseup',_0x2160e);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x175cb5=a2_0x290668,_0x2e64e4=document[_0x175cb5(0x248)](_0x175cb5(0x129)),_0x164a2e=_0x2e64e4[_0x175cb5(0x107)],_0x252d12=_0x2e64e4['scrollWidth'],_0x36b7a8=_0x2e64e4[_0x175cb5(0x227)];if(_0x252d12-(_0x164a2e+_0x36b7a8)<0x12c){const _0x1a1a51=endOffset;endOffset+=0xe,renderDayRange(_0x1a1a51+0x1,endOffset),reRenderBlocks();}if(_0x164a2e<0x12c){const _0xac510c=startOffset;startOffset-=0xe,prependDays(startOffset,_0xac510c-0x1),_0x2e64e4[_0x175cb5(0x107)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0xc34825,_0x21e971){const _0x2f84cd=a2_0x290668,_0x337442=document[_0x2f84cd(0x248)](_0x2f84cd(0x17e)),_0x2d7434=document[_0x2f84cd(0x248)](_0x2f84cd(0x130)),_0x4cf710=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1303d1=new Date();_0x1303d1[_0x2f84cd(0x21a)](0x0,0x0,0x0,0x0);const _0x521f89=getLocalDateStr(new Date()),_0x20b0eb=document[_0x2f84cd(0x1ed)](),_0x53b2ab=document[_0x2f84cd(0x1ed)]();for(let _0x1cd5be=_0xc34825;_0x1cd5be<=_0x21e971;_0x1cd5be++){const _0x3ead01=new Date(_0x1303d1);_0x3ead01[_0x2f84cd(0x143)](_0x3ead01[_0x2f84cd(0x1ab)]()+_0x1cd5be);const _0x1da6ab=getLocalDateStr(_0x3ead01);let _0x2959be=_0x3ead01[_0x2f84cd(0x102)]()-0x1;if(_0x2959be===-0x1)_0x2959be=0x6;const _0x2ebdb4=_0x1da6ab===_0x521f89,_0x33f1dd=document[_0x2f84cd(0x21b)](_0x2f84cd(0x222));_0x33f1dd[_0x2f84cd(0x239)]=_0x2f84cd(0x1e2)+(_0x2ebdb4?'today':''),_0x33f1dd['id']='header-'+_0x1da6ab,_0x33f1dd[_0x2f84cd(0x117)]('data-date',_0x1da6ab),_0x33f1dd[_0x2f84cd(0x1f7)]=_0x2f84cd(0x140)+_0x4cf710[_0x2959be]+_0x2f84cd(0x157)+_0x3ead01[_0x2f84cd(0x1ab)]()+_0x2f84cd(0x22d)+_0x1da6ab+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x33f1dd[_0x2f84cd(0x225)]=()=>openDayOptions(_0x1da6ab,_0x4cf710[_0x2959be]+'\x20'+_0x3ead01[_0x2f84cd(0x1ab)]()),_0x20b0eb[_0x2f84cd(0x193)](_0x33f1dd);const _0x56d587=document['createElement'](_0x2f84cd(0x222));_0x56d587[_0x2f84cd(0x239)]=_0x2f84cd(0x21d)+(_0x2ebdb4?'today':''),_0x56d587['setAttribute']('data-date',_0x1da6ab),_0x56d587[_0x2f84cd(0x117)](_0x2f84cd(0x13f),_0x2959be),renderEventsForColumn(_0x56d587,_0x1da6ab,_0x2959be),attachLongPressHandler(_0x56d587,_0x3ead01),_0x53b2ab[_0x2f84cd(0x193)](_0x56d587),updateDayStats(_0x1da6ab);}_0x337442[_0x2f84cd(0x1dc)](_0x20b0eb,_0x337442['firstChild']),_0x2d7434[_0x2f84cd(0x1dc)](_0x53b2ab,_0x2d7434[_0x2f84cd(0x124)](_0x2f84cd(0x260)));}function validateAppointment(_0x4feed4,_0x2f168e,_0x323b99,_0x14f663,_0x1ae775){const _0x357e72=a2_0x290668,[_0x1a58fb,_0x1f4ca9]=_0x2f168e['split'](':')[_0x357e72(0x18f)](Number),[_0x424387,_0x560ecd]=_0x323b99[_0x357e72(0x137)](':')[_0x357e72(0x18f)](Number),_0x5c0899=_0x1a58fb*0x3c+_0x1f4ca9,_0x3076fa=_0x424387*0x3c+_0x560ecd,_0x199f4b=String(_0x1ae775);let _0x1af1ca=![],_0x58ab8c='';for(let _0x416264 of sessions){if(_0x416264[_0x357e72(0x11f)]!==_0x4feed4)continue;if(_0x416264[_0x357e72(0x154)]===_0x357e72(0x246))continue;if(_0x14f663&&String(_0x416264['id'])===String(_0x14f663))continue;const [_0x1ca464,_0x4c96e8]=_0x416264['start'][_0x357e72(0x137)](':')['map'](Number),[_0x410607,_0x3797b5]=_0x416264[_0x357e72(0xfa)][_0x357e72(0x137)](':')[_0x357e72(0x18f)](Number),_0x3f47b8=_0x1ca464*0x3c+_0x4c96e8,_0x3f503=_0x410607*0x3c+_0x3797b5;if(Math[_0x357e72(0x24b)](_0x5c0899,_0x3f47b8)<Math['min'](_0x3076fa,_0x3f503)){if(_0x416264['clientId']&&String(_0x416264['clientId'])===_0x199f4b)return{'valid':![],'msg':_0x357e72(0x198)+_0x416264['client']+_0x357e72(0x233)};_0x1af1ca=!![],_0x58ab8c=_0x416264[_0x357e72(0x1a5)];}}if(_0x1af1ca)return{'valid':!![],'warning':_0x357e72(0x19e)+_0x58ab8c};return{'valid':!![]};}function updateDateDisplay(){const _0x5247dc=a2_0x290668,_0x4bdc31=document['getElementById'](_0x5247dc(0x1d0))[_0x5247dc(0x243)],_0x20fef2=document[_0x5247dc(0x248)]('sheetDateSubtitle');if(!_0x4bdc31){_0x20fef2[_0x5247dc(0x1f1)]='';return;}const [_0x415e20,_0x3faf40,_0x45e5f8]=_0x4bdc31[_0x5247dc(0x137)]('-')['map'](Number),_0x296c47=new Date(_0x415e20,_0x3faf40-0x1,_0x45e5f8),_0x280e71={'weekday':_0x5247dc(0x208),'day':_0x5247dc(0x10d),'month':_0x5247dc(0x208),'year':_0x5247dc(0x10d)};let _0x4595f0=_0x296c47[_0x5247dc(0x188)](_0x5247dc(0x266),_0x280e71);_0x4595f0=_0x4595f0[_0x5247dc(0x150)](0x0)[_0x5247dc(0x1c1)]()+_0x4595f0['slice'](0x1),_0x20fef2[_0x5247dc(0x1f1)]=_0x4595f0;}function autoSetEndTime(){const _0x599766=a2_0x290668,_0x1fb50e=document[_0x599766(0x248)](_0x599766(0x1b7))[_0x599766(0x243)];if(!_0x1fb50e)return;const [_0x485fc5,_0x3262e2]=_0x1fb50e[_0x599766(0x137)](':')['map'](Number);let _0x40e93f=_0x485fc5+0x1;if(_0x40e93f>0x17)_0x40e93f=0x0;const _0x1b26de=String(_0x40e93f)[_0x599766(0x23f)](0x2,'0')+':'+String(_0x3262e2)[_0x599766(0x23f)](0x2,'0');document[_0x599766(0x248)](_0x599766(0x12a))['value']=_0x1b26de;}function populateClientSelect(){const _0x1166c4=a2_0x290668,_0x14132f=document[_0x1166c4(0x248)](_0x1166c4(0x20f));_0x14132f[_0x1166c4(0x1f7)]='';if(clients[_0x1166c4(0x155)]===0x0){const _0x257de4=document[_0x1166c4(0x21b)]('option');_0x257de4[_0x1166c4(0x223)]='–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤',_0x14132f['appendChild'](_0x257de4);return;}clients[_0x1166c4(0x1c7)](_0x2900b1=>{const _0x199f20=_0x1166c4,_0x57fd9f=document[_0x199f20(0x21b)](_0x199f20(0x1e6));_0x57fd9f[_0x199f20(0x243)]=_0x2900b1[_0x199f20(0x12f)],_0x57fd9f[_0x199f20(0x1f1)]=_0x2900b1[_0x199f20(0x12f)],_0x14132f[_0x199f20(0x193)](_0x57fd9f);});}function openActionSheet(_0x232da2){const _0x2ec031=a2_0x290668,_0x96762c=document[_0x2ec031(0x248)](_0x2ec031(0x1d3)),_0x4e26ec=document[_0x2ec031(0x248)](_0x2ec031(0x1f0)),_0x463b40=document[_0x2ec031(0x248)](_0x2ec031(0xfb)),_0x416ca4=document[_0x2ec031(0x248)]('asBtnOne'),_0x15681f=document[_0x2ec031(0x248)](_0x2ec031(0x1fc));_0x4e26ec[_0x2ec031(0x257)][_0x2ec031(0x17c)](_0x2ec031(0x1b3)),_0x96762c['classList'][_0x2ec031(0x17c)]('open');if(_0x232da2===_0x2ec031(0x186))_0x463b40[_0x2ec031(0x1f1)]='–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏',_0x416ca4[_0x2ec031(0x1f1)]=_0x2ec031(0x200),_0x416ca4[_0x2ec031(0x225)]=()=>{const _0x4ac69b=_0x2ec031;closeActionSheet(),updateSeriesBatch(_0x4ac69b(0x1dd),tempSessionData);},_0x15681f[_0x2ec031(0x1f1)]=_0x2ec031(0x217),_0x15681f[_0x2ec031(0x225)]=()=>{const _0x30c9f0=_0x2ec031;closeActionSheet(),updateSeriesBatch(_0x30c9f0(0x116),tempSessionData);};else _0x232da2===_0x2ec031(0x256)&&(_0x463b40['textContent']=_0x2ec031(0x22c),_0x416ca4[_0x2ec031(0x1f1)]=_0x2ec031(0x200),_0x416ca4[_0x2ec031(0x239)]=_0x2ec031(0x120),_0x416ca4[_0x2ec031(0x225)]=()=>{const _0x4c984c=_0x2ec031;closeActionSheet(),commitDelete(_0x4c984c(0x1dd),sessions[_0x4c984c(0x13d)](_0x4e04b0=>_0x4e04b0['id']===editingId));},_0x15681f['textContent']=_0x2ec031(0x217),_0x15681f['className']='as-button\x20danger\x20bold',_0x15681f['onclick']=()=>{const _0xbae0c=_0x2ec031;closeActionSheet(),commitDelete('series',sessions[_0xbae0c(0x13d)](_0x40c9ec=>_0x40c9ec['id']===editingId));});}function closeActionSheet(){const _0x22bf23=a2_0x290668;document[_0x22bf23(0x248)](_0x22bf23(0x1d3))[_0x22bf23(0x257)]['remove']('open'),document[_0x22bf23(0x248)](_0x22bf23(0x1f0))['classList'][_0x22bf23(0x11e)](_0x22bf23(0x1b3));}function openSettings(){openSheet('settingsSheet');}function saveCoachSettings(){const _0x108f42=a2_0x290668,_0x23d8f9=document['getElementById'](_0x108f42(0x252))[_0x108f42(0x243)];localStorage['setItem'](_0x108f42(0x10f),_0x23d8f9),console[_0x108f42(0x191)](_0x108f42(0x173),_0x23d8f9),DataManager[_0x108f42(0x126)](_0x108f42(0x118),{'settings':{'cancel_window':_0x23d8f9}})['catch'](_0x1722b6=>{const _0x388540=_0x108f42;console[_0x388540(0x21c)](_0x388540(0x255),_0x1722b6),showToast(_0x388540(0x210),![]);});}function loadCoachSettings(){const _0x1a630c=a2_0x290668,_0x4b5394=localStorage[_0x1a630c(0x165)](_0x1a630c(0x10f));_0x4b5394&&(document[_0x1a630c(0x248)]('settingCancelWindow')['value']=_0x4b5394);}function openRangesSheet(){closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet('rangesSheet');}function addRange(){const _0x2a0e48=a2_0x290668,_0xb5c57a=document[_0x2a0e48(0x248)](_0x2a0e48(0x115))[_0x2a0e48(0x243)],_0x1d2511=document[_0x2a0e48(0x248)](_0x2a0e48(0x1fa))[_0x2a0e48(0x243)],_0x3d3cbc=document[_0x2a0e48(0x248)]('rangeEndDate')[_0x2a0e48(0x243)],_0x1ff955=document['getElementById'](_0x2a0e48(0x16e))['value'];if(!_0xb5c57a||!_0x1d2511||!_0x3d3cbc||!_0x1ff955)return alert(_0x2a0e48(0x23c));const _0x387ff8=_0xb5c57a+'T'+_0x1d2511,_0x213c4b=_0x3d3cbc+'T'+_0x1ff955;if(_0x387ff8>=_0x213c4b)return alert(_0x2a0e48(0x25d));specialRanges[_0x2a0e48(0x22f)]({'start':_0x387ff8,'end':_0x213c4b}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x2a0e48(0x1d6)](),DataManager[_0x2a0e48(0x126)]('save_settings',{'settings':{'ranges':specialRanges}});}function deleteRange(_0x186724){const _0x256f33=a2_0x290668;specialRanges[_0x256f33(0x19f)](_0x186724,0x1),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x256f33(0x126)](_0x256f33(0x118),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0xbf08a1=a2_0x290668;document[_0xbf08a1(0x248)](_0xbf08a1(0x115))[_0xbf08a1(0x243)]='',document[_0xbf08a1(0x248)]('rangeStartTime')['value']='00:00',document[_0xbf08a1(0x248)](_0xbf08a1(0x14b))['value']='',document[_0xbf08a1(0x248)]('rangeEndTime')[_0xbf08a1(0x243)]=_0xbf08a1(0xf9);}function renderRangesList(){const _0x5e9cb4=a2_0x290668,_0xc1ca6b=document['getElementById'](_0x5e9cb4(0x13b));_0xc1ca6b[_0x5e9cb4(0x1f7)]='';if(!specialRanges['length']){_0xc1ca6b['innerHTML']='<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>';return;}specialRanges[_0x5e9cb4(0x1c7)]((_0x1153bd,_0x49976b)=>{const _0x9fee9a=_0x5e9cb4,_0x146cb8=document[_0x9fee9a(0x21b)]('div');_0x146cb8[_0x9fee9a(0x239)]=_0x9fee9a(0x234);const _0xc974d2=_0x3f5546=>{const _0x2bd05f=_0x9fee9a,_0x530f6e=new Date(_0x3f5546);return _0x530f6e[_0x2bd05f(0x1ab)]()+'.'+String(_0x530f6e[_0x2bd05f(0x254)]()+0x1)[_0x2bd05f(0x23f)](0x2,'0')+'\x20'+String(_0x530f6e[_0x2bd05f(0x12b)]())[_0x2bd05f(0x23f)](0x2,'0')+':'+String(_0x530f6e[_0x2bd05f(0x261)]())['padStart'](0x2,'0');};_0x146cb8['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>'+_0xc974d2(_0x1153bd[_0x9fee9a(0x148)])+'\x20‚Äî\x20'+_0xc974d2(_0x1153bd[_0x9fee9a(0xfa)])+_0x9fee9a(0x11a)+_0x49976b+_0x9fee9a(0xf7),_0xc1ca6b[_0x9fee9a(0x193)](_0x146cb8);});}function scrollToToday(){const _0xd58566=a2_0x290668,_0x39f876=getLocalDateStr(new Date()),_0x1cc050=document['getElementById']('header-'+_0x39f876),_0x150d83=document['getElementById'](_0xd58566(0x129));if(_0x1cc050&&_0x150d83){const _0xd96120=_0x150d83[_0xd58566(0x227)],_0x410631=_0x1cc050[_0xd58566(0x1b9)],_0x5a4c1c=_0x1cc050['offsetWidth'];_0x150d83['scrollLeft']=_0x410631-_0xd96120/0x2+_0x5a4c1c/0x2,_0x150d83[_0xd58566(0x1d8)]=0x9*GRID_H;}}function onScroll(){const _0x51f123=a2_0x290668,_0x4fc714=document['getElementById'](_0x51f123(0x129)),_0xe1c4=document[_0x51f123(0x20c)](_0x51f123(0x240));for(let _0x54ad16 of _0xe1c4)if(_0x54ad16[_0x51f123(0x1b9)]>=_0x4fc714['scrollLeft']){const _0x5c3986=new Date(_0x54ad16[_0x51f123(0x25a)](_0x51f123(0x1c5)));document[_0x51f123(0x248)](_0x51f123(0x183))[_0x51f123(0x1f1)]=_0x5c3986['toLocaleString']('ru',{'month':'long'})['toUpperCase']()+'\x20'+_0x5c3986[_0x51f123(0x105)]();break;}}function showToast(_0x661592,_0x3e5ef5=![]){const _0x39a116=a2_0x290668,_0x28e5fb=document['getElementById'](_0x39a116(0x189));_0x28e5fb[_0x39a116(0x239)]=_0x39a116(0x1e8)+(_0x3e5ef5?'success':''),document['getElementById']('toastTitle')[_0x39a116(0x1f1)]=_0x3e5ef5?_0x39a116(0x235):_0x39a116(0x172),document[_0x39a116(0x248)](_0x39a116(0x229))[_0x39a116(0x1f1)]=_0x661592,_0x28e5fb[_0x39a116(0x257)][_0x39a116(0x17c)]('show'),setTimeout(()=>{const _0x56017f=_0x39a116;_0x28e5fb[_0x56017f(0x257)][_0x56017f(0x11e)]('show');},0xbb8);}function openDayOptions(_0x362db1,_0x39bf06){const _0x522c34=a2_0x290668;selectedDayForOptions=_0x362db1,document[_0x522c34(0x248)](_0x522c34(0x113))[_0x522c34(0x1f1)]=_0x39bf06,openSheet('dayOptionsSheet');}function toggleDayOff(){const _0x56fd06=a2_0x290668;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x56fd06(0x19c),reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager[_0x56fd06(0x126)](_0x56fd06(0x118),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x295814=a2_0x290668;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x295814(0x1d6)](),DataManager[_0x295814(0x126)]('save_settings',{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x582cfb){const _0x4daadb=a2_0x290668;document[_0x4daadb(0x248)](_0x4daadb(0x17b))[_0x4daadb(0x257)]['add'](_0x4daadb(0x1b3)),document[_0x4daadb(0x248)](_0x582cfb)[_0x4daadb(0x257)][_0x4daadb(0x17c)](_0x4daadb(0x231));}function closeAllSheets(){const _0x19f5ed=a2_0x290668;document[_0x19f5ed(0x248)](_0x19f5ed(0x17b))['classList'][_0x19f5ed(0x11e)](_0x19f5ed(0x1b3)),document['querySelectorAll']('.sheet')['forEach'](_0x39731c=>_0x39731c[_0x19f5ed(0x257)][_0x19f5ed(0x11e)](_0x19f5ed(0x231)));}function openPatternEditor(){const _0x26e9d9=a2_0x290668;closeAllSheets(),document['getElementById']('patternEditor')[_0x26e9d9(0x257)][_0x26e9d9(0x17c)](_0x26e9d9(0x231)),renderPatternEditor();}function closePatternEditor(){const _0x58e059=a2_0x290668;document[_0x58e059(0x248)]('patternEditor')[_0x58e059(0x257)][_0x58e059(0x11e)](_0x58e059(0x231));}function a2_0x388c(_0x777c7e,_0x217757){_0x777c7e=_0x777c7e-0xf5;const _0x4ceb2b=a2_0x3af1();let _0x26663b=_0x4ceb2b[_0x777c7e];return _0x26663b;}function savePattern(){const _0x1ff32a=a2_0x290668;document[_0x1ff32a(0x248)](_0x1ff32a(0x19a))[_0x1ff32a(0x257)][_0x1ff32a(0x11e)]('open'),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x1ff32a(0x126)](_0x1ff32a(0x118),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x5bec0a=a2_0x290668,_0x4013c9=document[_0x5bec0a(0x248)](_0x5bec0a(0x1ad));_0x4013c9[_0x5bec0a(0x1f7)]='';const _0x1d90e8=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0xbc49c3=document[_0x5bec0a(0x21b)](_0x5bec0a(0x222));_0xbc49c3[_0x5bec0a(0x239)]=_0x5bec0a(0x10a),_0x4013c9[_0x5bec0a(0x193)](_0xbc49c3),_0x1d90e8[_0x5bec0a(0x1c7)]((_0x159d0f,_0x578071)=>{const _0xbf3b17=_0x5bec0a,_0xcf222b=document['createElement'](_0xbf3b17(0x222));_0xcf222b[_0xbf3b17(0x239)]=_0xbf3b17(0x16a),_0xcf222b[_0xbf3b17(0x1f7)]=_0x159d0f+_0xbf3b17(0x264),_0xcf222b['onclick']=()=>toggleColPattern(_0x578071),_0x4013c9[_0xbf3b17(0x193)](_0xcf222b);});for(let _0x2b804d=0x0;_0x2b804d<0x18;_0x2b804d++){const _0x2e343d=document['createElement'](_0x5bec0a(0x222));_0x2e343d[_0x5bec0a(0x239)]=_0x5bec0a(0x25e),_0x2e343d[_0x5bec0a(0x1f7)]='<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>'+String(_0x2b804d)[_0x5bec0a(0x23f)](0x2,'0')+_0x5bec0a(0x11b),_0x2e343d['onclick']=()=>toggleRowPattern(_0x2b804d),_0x4013c9[_0x5bec0a(0x193)](_0x2e343d);for(let _0x582821=0x0;_0x582821<0x7;_0x582821++){const _0x134a36=document[_0x5bec0a(0x21b)](_0x5bec0a(0x222)),_0x25fbfa=(availabilityPattern[_0x582821]||[])[_0x5bec0a(0x1ae)](_0x2b804d),_0xe52492=!_0x25fbfa;_0x134a36[_0x5bec0a(0x239)]='pe-cell\x20'+(_0xe52492?_0x5bec0a(0x1b3):''),_0x134a36[_0x5bec0a(0x225)]=()=>toggleSinglePattern(_0x582821,_0x2b804d),_0x4013c9['appendChild'](_0x134a36);}}}function toggleSinglePattern(_0x4b596b,_0xb1f2ee){const _0x1c864e=a2_0x290668;if(!availabilityPattern[_0x4b596b])availabilityPattern[_0x4b596b]=[];const _0x33f933=availabilityPattern[_0x4b596b],_0x390856=_0x33f933[_0x1c864e(0x180)](_0xb1f2ee);_0x390856===-0x1?_0x33f933['push'](_0xb1f2ee):_0x33f933[_0x1c864e(0x19f)](_0x390856,0x1),renderPatternEditor();}function toggleColPattern(_0x21f6c7){const _0xdc7a52=a2_0x290668;if(!availabilityPattern[_0x21f6c7])availabilityPattern[_0x21f6c7]=[];const _0x4fa9cf=availabilityPattern[_0x21f6c7];_0x4fa9cf[_0xdc7a52(0x155)]===0x0?availabilityPattern[_0x21f6c7]=Array[_0xdc7a52(0x199)]({'length':0x18},(_0x9d811c,_0x330d56)=>_0x330d56):availabilityPattern[_0x21f6c7]=[],renderPatternEditor();}function toggleRowPattern(_0x36dfbb){const _0x44a058=a2_0x290668;let _0x5b2905=!![];for(let _0x2cf8c5=0x0;_0x2cf8c5<0x7;_0x2cf8c5++){if((availabilityPattern[_0x2cf8c5]||[])[_0x44a058(0x1ae)](_0x36dfbb)){_0x5b2905=![];break;}}for(let _0x1ebf8f=0x0;_0x1ebf8f<0x7;_0x1ebf8f++){if(!availabilityPattern[_0x1ebf8f])availabilityPattern[_0x1ebf8f]=[];const _0x266f0a=availabilityPattern[_0x1ebf8f][_0x44a058(0x180)](_0x36dfbb);if(_0x5b2905){if(_0x266f0a===-0x1)availabilityPattern[_0x1ebf8f][_0x44a058(0x22f)](_0x36dfbb);}else{if(_0x266f0a!==-0x1)availabilityPattern[_0x1ebf8f][_0x44a058(0x19f)](_0x266f0a,0x1);}}renderPatternEditor();}function renderPCol(_0xbf59d5,_0x2c4c6d){const _0x3b066a=a2_0x290668;_0xbf59d5[_0x3b066a(0x1f7)]='';const _0xca4ebd=Math[_0x3b066a(0x163)](_0xbf59d5[_0x3b066a(0x1b9)]);(availabilityPattern[_0x2c4c6d]||[])[_0x3b066a(0x1c7)](_0x22ba0=>{const _0x444d33=_0x3b066a,_0x3ded10=document[_0x444d33(0x21b)](_0x444d33(0x222));_0x3ded10[_0x444d33(0x239)]=_0x444d33(0x17f);const _0x41e544=_0x22ba0*GRID_H;_0x3ded10[_0x444d33(0x100)][_0x444d33(0x1fe)]=_0x41e544+'px',_0x3ded10[_0x444d33(0x100)]['backgroundPosition']='-'+_0xca4ebd+_0x444d33(0x245)+_0x41e544+'px',_0x3ded10[_0x444d33(0x225)]=_0xbabaf0=>{_0xbabaf0['stopPropagation'](),toggleSinglePattern(_0x2c4c6d,_0x22ba0);},_0xbf59d5[_0x444d33(0x193)](_0x3ded10);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x40391f=a2_0x290668,_0x9547e=new Date(),_0x37cb95=document[_0x40391f(0x248)](_0x40391f(0x207)),_0x5c6844=document[_0x40391f(0x248)](_0x40391f(0x174)),_0x222226=(_0x9547e['getHours']()*0x3c+_0x9547e[_0x40391f(0x261)]())/0x3c*GRID_H;_0x37cb95[_0x40391f(0x100)][_0x40391f(0x1fe)]=_0x222226+'px',_0x37cb95[_0x40391f(0x100)][_0x40391f(0x131)]=_0x40391f(0x224),_0x5c6844[_0x40391f(0x1f1)]=String(_0x9547e[_0x40391f(0x12b)]())[_0x40391f(0x23f)](0x2,'0')+':'+String(_0x9547e[_0x40391f(0x261)]())['padStart'](0x2,'0'),_0x5c6844[_0x40391f(0x100)][_0x40391f(0x131)]='block',_0x5c6844[_0x40391f(0x100)][_0x40391f(0x1fe)]=_0x222226+'px';}document['addEventListener']('DOMContentLoaded',init);function openDayOptions(_0x478ca0){const _0x1a4df4=a2_0x290668;selectedDayForOptions=_0x478ca0;const _0x346e88=new Date(_0x478ca0),_0x4633d0={'weekday':_0x1a4df4(0x208),'day':_0x1a4df4(0x10d),'month':_0x1a4df4(0x208),'year':_0x1a4df4(0x10d)},_0x4d56b3=_0x346e88[_0x1a4df4(0x188)](_0x1a4df4(0x266),_0x4633d0);document['getElementById'](_0x1a4df4(0x1f3))['textContent']=_0x4d56b3['charAt'](0x0)[_0x1a4df4(0x1c1)]()+_0x4d56b3['slice'](0x1);let _0x57b013=_0x346e88[_0x1a4df4(0x102)]()-0x1;if(_0x57b013===-0x1)_0x57b013=0x6;const _0x31e1d4=availabilityPattern[_0x57b013]||[],_0xcf45=0x18-_0x31e1d4[_0x1a4df4(0x155)],_0xb708e7=_0xcf45*0x3c,_0x1d9673=sessions[_0x1a4df4(0x175)](_0x4aa141=>_0x4aa141[_0x1a4df4(0x11f)]===_0x478ca0&&_0x4aa141[_0x1a4df4(0x154)]!==_0x1a4df4(0x246));let _0x312b7c=_0x1d9673['map'](_0xcf33df=>{const _0x2925d6=_0x1a4df4,[_0x31d1cb,_0x25cff6]=_0xcf33df['start'][_0x2925d6(0x137)](':')[_0x2925d6(0x18f)](Number),[_0x2972a0,_0x11522a]=_0xcf33df[_0x2925d6(0xfa)][_0x2925d6(0x137)](':')[_0x2925d6(0x18f)](Number);return[_0x31d1cb*0x3c+_0x25cff6,_0x2972a0*0x3c+_0x11522a];});_0x312b7c['sort']((_0x3c7597,_0x2a3f63)=>_0x3c7597[0x0]-_0x2a3f63[0x0]);let _0x90b01f=[];if(_0x312b7c[_0x1a4df4(0x155)]>0x0){let _0x2aaf1a=_0x312b7c[0x0];for(let _0x4cdd3d=0x1;_0x4cdd3d<_0x312b7c[_0x1a4df4(0x155)];_0x4cdd3d++){_0x312b7c[_0x4cdd3d][0x0]<_0x2aaf1a[0x1]?_0x2aaf1a[0x1]=Math[_0x1a4df4(0x24b)](_0x2aaf1a[0x1],_0x312b7c[_0x4cdd3d][0x1]):(_0x90b01f[_0x1a4df4(0x22f)](_0x2aaf1a),_0x2aaf1a=_0x312b7c[_0x4cdd3d]);}_0x90b01f[_0x1a4df4(0x22f)](_0x2aaf1a);}let _0x5458cd=0x0;_0x90b01f[_0x1a4df4(0x1c7)](_0x42d9a7=>_0x5458cd+=_0x42d9a7[0x1]-_0x42d9a7[0x0]),document['getElementById'](_0x1a4df4(0x119))['textContent']=formatMinsToHrs(_0xb708e7),document['getElementById'](_0x1a4df4(0x1d1))[_0x1a4df4(0x1f1)]=formatMinsToHrs(_0x5458cd);const _0x41031b=_0xb708e7>0x0?Math[_0x1a4df4(0x163)](_0x5458cd/_0xb708e7*0x64):0x0,_0x27a85e=document[_0x1a4df4(0x248)](_0x1a4df4(0x249));_0x27a85e[_0x1a4df4(0x1f1)]=_0x41031b+'%';const _0x57c549=document[_0x1a4df4(0x248)]('statLoadCard');if(_0x41031b>0x64)_0x27a85e[_0x1a4df4(0x100)][_0x1a4df4(0x1a3)]=_0x1a4df4(0x24d),_0x57c549[_0x1a4df4(0x100)][_0x1a4df4(0x1eb)]='rgba(255,\x2069,\x2058,\x200.3)';else _0x41031b>0x50?(_0x27a85e[_0x1a4df4(0x100)]['color']=_0x1a4df4(0x136),_0x57c549[_0x1a4df4(0x100)][_0x1a4df4(0x1eb)]='rgba(255,\x20159,\x2010,\x200.3)'):(_0x27a85e[_0x1a4df4(0x100)]['color']=_0x1a4df4(0x23e),_0x57c549[_0x1a4df4(0x100)]['borderColor']=_0x1a4df4(0x1c6));const _0x277e3c=document[_0x1a4df4(0x248)]('doEventsList');_0x277e3c[_0x1a4df4(0x1f7)]='';_0x1d9673[_0x1a4df4(0x155)]===0x0?_0x277e3c[_0x1a4df4(0x1f7)]=_0x1a4df4(0x1f6):(_0x1d9673['sort']((_0x39e992,_0x84a76b)=>_0x39e992[_0x1a4df4(0x148)][_0x1a4df4(0x164)](_0x84a76b[_0x1a4df4(0x148)])),_0x1d9673[_0x1a4df4(0x1c7)](_0x257e86=>{const _0x3d118c=_0x1a4df4,_0x2e12fe=clients[_0x3d118c(0x13d)](_0x3e3437=>_0x3e3437[_0x3d118c(0x12f)]===_0x257e86[_0x3d118c(0x1a5)]),_0x28ea0a=_0x2e12fe?_0x2e12fe[_0x3d118c(0x1a3)]:_0x3d118c(0x146),_0x1323e5=_0x257e86[_0x3d118c(0x154)]===_0x3d118c(0x16f),_0x36872b=_0x1323e5?_0x3d118c(0x1c2):'',_0x24f68f=document[_0x3d118c(0x21b)](_0x3d118c(0x222));_0x24f68f[_0x3d118c(0x239)]=_0x3d118c(0x1a4),_0x24f68f[_0x3d118c(0x100)][_0x3d118c(0x1a7)]=_0x28ea0a,_0x24f68f[_0x3d118c(0x1f7)]=_0x3d118c(0x121)+_0x257e86['start']+_0x3d118c(0x142)+_0x257e86['end']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x257e86[_0x3d118c(0x1a5)]+_0x3d118c(0x23a)+_0x36872b+_0x3d118c(0x111),_0x277e3c[_0x3d118c(0x193)](_0x24f68f);}));const _0xd2336d=document[_0x1a4df4(0x248)](_0x1a4df4(0x16c)),_0x2ee616=dateExceptions[_0x478ca0]===_0x1a4df4(0x19c);_0x2ee616?(_0xd2336d['textContent']=_0x1a4df4(0x1f9),_0xd2336d[_0x1a4df4(0x239)]=_0x1a4df4(0x212),_0xd2336d[_0x1a4df4(0x100)]['color']='var(--acc-green)',_0xd2336d['style']['background']='rgba(48,\x20209,\x2088,\x200.15)'):(_0xd2336d[_0x1a4df4(0x1f1)]=_0x1a4df4(0x258),_0xd2336d[_0x1a4df4(0x239)]=_0x1a4df4(0x218),_0xd2336d[_0x1a4df4(0x100)][_0x1a4df4(0x1a3)]=_0x1a4df4(0x24d),_0xd2336d[_0x1a4df4(0x100)][_0x1a4df4(0x1aa)]=_0x1a4df4(0x1cd)),openSheet('dayOptionsSheet');}let currentAnPeriod=a2_0x290668(0x133);function openAnalytics(){const _0x4a8e5d=a2_0x290668,_0x3f928d=document[_0x4a8e5d(0x124)](_0x4a8e5d(0x1fb));setAnalyticsPeriod('week',_0x3f928d),closeAllSheets(),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x7d158,_0x6d9e0f){const _0xa8e3c=a2_0x290668;currentAnPeriod=_0x7d158,document[_0xa8e3c(0x20c)](_0xa8e3c(0x1fb))[_0xa8e3c(0x1c7)](_0x34ea79=>_0x34ea79['classList'][_0xa8e3c(0x11e)]('active'));if(_0x6d9e0f)_0x6d9e0f[_0xa8e3c(0x257)]['add'](_0xa8e3c(0x1b3));const _0x176d2b=document['getElementById'](_0xa8e3c(0x1b0));_0x176d2b[_0xa8e3c(0x100)][_0xa8e3c(0x131)]=_0x7d158==='custom'?_0xa8e3c(0x15a):_0xa8e3c(0x15b);const _0x5688ac=new Date();let _0x1041a4=new Date(),_0x5c892c=new Date();if(_0x7d158===_0xa8e3c(0x133))_0x1041a4=getStartOfWeek(_0x5688ac),_0x5c892c=new Date(_0x1041a4),_0x5c892c[_0xa8e3c(0x143)](_0x5c892c[_0xa8e3c(0x1ab)]()+0x6);else{if(_0x7d158===_0xa8e3c(0x204))_0x1041a4=new Date(_0x5688ac['getFullYear'](),_0x5688ac[_0xa8e3c(0x254)](),0x1),_0x5c892c=new Date(_0x5688ac[_0xa8e3c(0x105)](),_0x5688ac[_0xa8e3c(0x254)]()+0x1,0x0);else{!document[_0xa8e3c(0x248)](_0xa8e3c(0x135))[_0xa8e3c(0x243)]&&(document[_0xa8e3c(0x248)](_0xa8e3c(0x135))[_0xa8e3c(0x243)]=getLocalDateStr(_0x5688ac),document[_0xa8e3c(0x248)](_0xa8e3c(0x1de))['value']=getLocalDateStr(_0x5688ac));refreshAnalytics();return;}}document[_0xa8e3c(0x248)](_0xa8e3c(0x135))[_0xa8e3c(0x243)]=getLocalDateStr(_0x1041a4),document[_0xa8e3c(0x248)](_0xa8e3c(0x1de))[_0xa8e3c(0x243)]=getLocalDateStr(_0x5c892c),refreshAnalytics();}function refreshAnalytics(){const _0x153d62=a2_0x290668,_0x4d2f51=document['getElementById']('anStart')[_0x153d62(0x243)],_0x506d0e=document['getElementById'](_0x153d62(0x1de))[_0x153d62(0x243)];if(!_0x4d2f51||!_0x506d0e)return;const _0x1eae39=sessions['filter'](_0x1b8547=>_0x1b8547[_0x153d62(0x11f)]>=_0x4d2f51&&_0x1b8547['dateStr']<=_0x506d0e&&_0x1b8547[_0x153d62(0x154)]!==_0x153d62(0x246)),_0x488cf1=_0x1eae39[_0x153d62(0x155)],_0x4416a8=_0x1eae39[_0x153d62(0x175)](_0x1bfeaa=>_0x1bfeaa[_0x153d62(0x154)]===_0x153d62(0x16f))[_0x153d62(0x155)],_0x23ecc9=_0x488cf1>0x0?Math['round'](_0x4416a8/_0x488cf1*0x64):0x0;document[_0x153d62(0x248)](_0x153d62(0x1bf))['textContent']=_0x23ecc9+'%',document[_0x153d62(0x248)](_0x153d62(0x219))[_0x153d62(0x1f1)]=_0x4416a8+_0x153d62(0x22a)+_0x488cf1+_0x153d62(0x103);const _0xa28e00=document[_0x153d62(0x248)](_0x153d62(0x1a1)),_0xdaf615=0x2*Math['PI']*0x23,_0x3b10fb=_0xdaf615-_0x23ecc9/0x64*_0xdaf615;_0xa28e00[_0x153d62(0x100)][_0x153d62(0x1b2)]=_0x3b10fb;const _0x4fe149={};_0x1eae39[_0x153d62(0x1c7)](_0xc97308=>{const _0x17ea8e=_0x153d62;if(!_0x4fe149[_0xc97308[_0x17ea8e(0x1a5)]]){const _0x504d79=clients['find'](_0xf76452=>_0xf76452[_0x17ea8e(0x12f)]===_0xc97308[_0x17ea8e(0x1a5)]);_0x4fe149[_0xc97308[_0x17ea8e(0x1a5)]]={'total':0x0,'done':0x0,'color':_0x504d79?_0x504d79[_0x17ea8e(0x1a3)]:_0x17ea8e(0x146)};}_0x4fe149[_0xc97308['client']][_0x17ea8e(0x253)]++;if(_0xc97308[_0x17ea8e(0x154)]===_0x17ea8e(0x16f))_0x4fe149[_0xc97308['client']][_0x17ea8e(0x1db)]++;});const _0x4524ca=document['getElementById']('analyticsList');_0x4524ca[_0x153d62(0x1f7)]='';const _0x404e9f=Object['entries'](_0x4fe149)['sort']((_0x3cf718,_0xac4af8)=>_0xac4af8[0x1][_0x153d62(0x253)]-_0x3cf718[0x1]['total']);if(_0x404e9f[_0x153d62(0x155)]===0x0){_0x4524ca[_0x153d62(0x1f7)]='<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>';return;}_0x404e9f[_0x153d62(0x1c7)](([_0x13b707,_0x291fd5])=>{const _0x1bc55d=_0x153d62,_0x531eaf=Math[_0x1bc55d(0x163)](_0x291fd5[_0x1bc55d(0x1db)]/_0x291fd5['total']*0x64),_0x280edb=document[_0x1bc55d(0x21b)](_0x1bc55d(0x222));_0x280edb[_0x1bc55d(0x239)]=_0x1bc55d(0x1bb),_0x280edb[_0x1bc55d(0x100)][_0x1bc55d(0x1a7)]=_0x291fd5['color'],_0x280edb[_0x1bc55d(0x1f7)]=_0x1bc55d(0x221)+_0x13b707+_0x1bc55d(0x108)+_0x291fd5[_0x1bc55d(0x1db)]+_0x1bc55d(0x139)+_0x291fd5['total']+_0x1bc55d(0x23b)+_0x531eaf+_0x1bc55d(0x232),_0x4524ca[_0x1bc55d(0x193)](_0x280edb);});}function formatMinsToHrs(_0x563ad2){if(_0x563ad2===0x0)return'0';const _0x5b5b7b=Math['floor'](_0x563ad2/0x3c),_0x3bf899=_0x563ad2%0x3c;if(_0x3bf899===0x0)return _0x5b5b7b+'—á';return _0x5b5b7b+'—á\x20'+_0x3bf899+'–º';}