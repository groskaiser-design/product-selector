const a2_0x15bcc4=a2_0x2e68;(function(_0x6011c0,_0x7bba17){const _0x20d689=a2_0x2e68,_0x21aea3=_0x6011c0();while(!![]){try{const _0x56f413=-parseInt(_0x20d689(0xd4))/0x1+parseInt(_0x20d689(0x248))/0x2*(-parseInt(_0x20d689(0x148))/0x3)+parseInt(_0x20d689(0x1d3))/0x4+parseInt(_0x20d689(0x227))/0x5+parseInt(_0x20d689(0x212))/0x6+parseInt(_0x20d689(0x241))/0x7*(-parseInt(_0x20d689(0x12b))/0x8)+parseInt(_0x20d689(0x1d9))/0x9;if(_0x56f413===_0x7bba17)break;else _0x21aea3['push'](_0x21aea3['shift']());}catch(_0x216a50){_0x21aea3['push'](_0x21aea3['shift']());}}}(a2_0x55d6,0xe47cb),function initTMA(){const _0x27f9ff=a2_0x2e68,_0x34da2a=(function(){let _0x3faf80=!![];return function(_0x2252c4,_0x65839d){const _0x191542=_0x3faf80?function(){const _0x18d5ba=a2_0x2e68;if(_0x65839d){const _0xbcc493=_0x65839d[_0x18d5ba(0x245)](_0x2252c4,arguments);return _0x65839d=null,_0xbcc493;}}:function(){};return _0x3faf80=![],_0x191542;};}()),_0x1682f9=_0x34da2a(this,function(){const _0x66fd58=a2_0x2e68;return _0x1682f9[_0x66fd58(0x1a2)]()[_0x66fd58(0xe5)](_0x66fd58(0xf4))[_0x66fd58(0x1a2)]()['constructor'](_0x1682f9)[_0x66fd58(0xe5)](_0x66fd58(0xf4));});_0x1682f9();try{const _0x12a6e3=window['Telegram']?.[_0x27f9ff(0x117)];if(!_0x12a6e3)return;_0x12a6e3[_0x27f9ff(0x1dc)](),_0x12a6e3[_0x27f9ff(0x21e)]();try{_0x12a6e3[_0x27f9ff(0x136)](_0x27f9ff(0x157)),_0x12a6e3['setBackgroundColor']&&_0x12a6e3[_0x27f9ff(0x23c)](_0x27f9ff(0x157));}catch(_0x144088){console[_0x27f9ff(0xdc)](_0x27f9ff(0x170),_0x144088);}try{_0x12a6e3[_0x27f9ff(0x177)]&&(_0x12a6e3['BackButton'][_0x27f9ff(0xf7)](),_0x12a6e3['BackButton'][_0x27f9ff(0x1b7)](),_0x12a6e3[_0x27f9ff(0x177)][_0x27f9ff(0x20c)](function(){const _0x2683be=_0x27f9ff;window[_0x2683be(0x106)]['href']=_0x2683be(0xfa);}));}catch(_0x5cf71b){console[_0x27f9ff(0xdc)](_0x27f9ff(0xf1),_0x5cf71b);}try{if(_0x12a6e3[_0x27f9ff(0xce)])_0x12a6e3[_0x27f9ff(0xce)]();}catch(_0x2e30ec){}}catch(_0x2104c3){console[_0x27f9ff(0x19e)](_0x27f9ff(0xdd),_0x2104c3);}}());function isAdmin(){const _0x4de20b=a2_0x2e68;try{const _0x16a808=Number(window[_0x4de20b(0x238)]?.['WebApp']?.[_0x4de20b(0x1b4)]?.['user']?.['id']);return _0x16a808===0xbaf7174;}catch(_0x552dc7){return![];}}const APP_VERSION=a2_0x15bcc4(0x152),API_URL=a2_0x15bcc4(0x15a),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x15bcc4(0xd9),KEY_SESSIONS=a2_0x15bcc4(0x1b1),KEY_SETTINGS=a2_0x15bcc4(0xe1);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x5d55de=a2_0x15bcc4;return window[_0x5d55de(0x238)]?.[_0x5d55de(0x117)]?.[_0x5d55de(0x1b4)]?.[_0x5d55de(0x14b)]?.['id']||_0x5d55de(0xd1);},'saveLocally'(){const _0x23ca04=a2_0x15bcc4;try{localStorage[_0x23ca04(0x1b9)](KEY_CLIENTS,JSON[_0x23ca04(0xd7)](clients)),localStorage['setItem'](KEY_SESSIONS,JSON[_0x23ca04(0xd7)](sessions)),localStorage[_0x23ca04(0x1b9)](KEY_SETTINGS,JSON[_0x23ca04(0xd7)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x1e2a9f){console['error'](_0x23ca04(0x1e9),_0x1e2a9f);}},'loadLocal'(){const _0x482418=a2_0x15bcc4;try{const _0x905819=localStorage[_0x482418(0x208)](KEY_CLIENTS);if(_0x905819)clients=JSON[_0x482418(0x127)](_0x905819);const _0xb18b18=localStorage[_0x482418(0x208)](KEY_SESSIONS);if(_0xb18b18)sessions=JSON['parse'](_0xb18b18);const _0x25caf7=localStorage['getItem'](KEY_SETTINGS);if(_0x25caf7){const _0x43ee7e=JSON[_0x482418(0x127)](_0x25caf7);if(_0x43ee7e[_0x482418(0xef)])availabilityPattern=_0x43ee7e[_0x482418(0xef)];if(_0x43ee7e[_0x482418(0x119)])dateExceptions=_0x43ee7e[_0x482418(0x119)];if(_0x43ee7e[_0x482418(0x204)])specialRanges=_0x43ee7e[_0x482418(0x204)];}else{for(let _0x5763da=0x0;_0x5763da<0x7;_0x5763da++)availabilityPattern[_0x5763da]=Array[_0x482418(0x18c)]({'length':0xc},(_0x2903da,_0x31f2e2)=>_0x31f2e2+0x9);}}catch(_0x44676d){console[_0x482418(0x19e)](_0x482418(0xfb),_0x44676d);}},async 'fetchFromServer'(_0x3f03fc,_0x2ef16b={}){const _0x4abd2d=a2_0x15bcc4,_0x538a02=window[_0x4abd2d(0x238)]?.[_0x4abd2d(0x117)],_0x206600={'action':_0x3f03fc,'init_data':_0x538a02?.[_0x4abd2d(0x14d)]||'',..._0x2ef16b};try{const _0x4c9067=await fetch(API_URL,{'method':_0x4abd2d(0x1ca),'headers':{'Content-Type':_0x4abd2d(0x122)},'body':JSON[_0x4abd2d(0xd7)](_0x206600)}),_0x2de8bd=await _0x4c9067[_0x4abd2d(0x201)]();if(!_0x2de8bd['ok'])throw new Error(_0x2de8bd['error']||_0x4abd2d(0x14f));return _0x2de8bd[_0x4abd2d(0x13c)];}catch(_0x30a12e){console['error'](_0x4abd2d(0x1cb)+_0x3f03fc+_0x4abd2d(0x1ac),_0x30a12e);throw _0x30a12e;}},async 'syncLoad'(){const _0x5dd210=a2_0x15bcc4,_0xbd8eea=new Date(),_0x43ac4a=_0xbd8eea[_0x5dd210(0x22c)]()+'-'+String(_0xbd8eea[_0x5dd210(0x1a3)]()+0x1)['padStart'](0x2,'0'),_0x1e5739=new Date(_0xbd8eea);_0x1e5739[_0x5dd210(0x18a)](_0xbd8eea[_0x5dd210(0x1a3)]()+0x1);const _0x5de050=_0x1e5739[_0x5dd210(0x22c)]()+'-'+String(_0x1e5739['getMonth']()+0x1)[_0x5dd210(0x1ae)](0x2,'0'),_0x3a2d0a=Date[_0x5dd210(0x1a4)]();console['log'](_0x5dd210(0xfc)+_0x43ac4a+',\x20'+_0x5de050+'...');try{const [_0x1cd1ac,_0x50cbc5]=await Promise[_0x5dd210(0x10f)]([this[_0x5dd210(0x224)](_0x5dd210(0x116),{'month_str':_0x43ac4a}),this[_0x5dd210(0x224)](_0x5dd210(0x116),{'month_str':_0x5de050})]);if(lastUserActionTime>_0x3a2d0a)return console[_0x5dd210(0x24b)](_0x5dd210(0xcb)),![];return this[_0x5dd210(0x18e)](_0x1cd1ac,_0x43ac4a),this[_0x5dd210(0x18e)](_0x50cbc5,_0x5de050),this['saveLocally'](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x1e05cb){console[_0x5dd210(0x19e)](_0x1e05cb);throw _0x1e05cb;}},'mergeServerData'(_0x52572d,_0x438723){const _0x49daa2=a2_0x15bcc4;if(!_0x52572d)return;_0x52572d['clients']&&Array[_0x49daa2(0x22a)](_0x52572d[_0x49daa2(0x1cf)])&&(clients=_0x52572d[_0x49daa2(0x1cf)]);if(_0x52572d[_0x49daa2(0xcd)]){if(_0x52572d[_0x49daa2(0xcd)][_0x49daa2(0xef)])availabilityPattern=_0x52572d[_0x49daa2(0xcd)][_0x49daa2(0xef)];if(_0x52572d['settings'][_0x49daa2(0x119)])dateExceptions=_0x52572d['settings']['exceptions'];if(_0x52572d['settings'][_0x49daa2(0x204)])specialRanges=_0x52572d['settings']['ranges'];if(_0x52572d[_0x49daa2(0xcd)][_0x49daa2(0x153)]){localStorage[_0x49daa2(0x1b9)](_0x49daa2(0xf3),_0x52572d['settings']['cancel_window']);const _0x19e091=document['getElementById'](_0x49daa2(0x229));if(_0x19e091)_0x19e091['value']=_0x52572d[_0x49daa2(0xcd)]['cancel_window'];}}_0x52572d[_0x49daa2(0x182)]&&(sessions=sessions[_0x49daa2(0x147)](_0x25cc82=>!_0x25cc82['dateStr'][_0x49daa2(0x1e1)](_0x438723)),Object[_0x49daa2(0x137)](_0x52572d[_0x49daa2(0x182)])['forEach'](_0x37c13d=>{const _0x233a39=_0x49daa2,_0x34ce11=_0x52572d[_0x233a39(0x182)][_0x37c13d];_0x34ce11[_0x233a39(0x104)](_0x1c5bea=>{const _0xc1d690=_0x233a39,_0x5f2055=clients[_0xc1d690(0xdb)](_0x16a9f6=>String(_0x16a9f6['id'])===String(_0x1c5bea['c']));sessions['push']({'id':_0x1c5bea['i'],'clientId':_0x1c5bea['c'],'client':_0x5f2055?_0x5f2055['name']:'Unknown','dateStr':_0x438723+'-'+_0x37c13d[_0xc1d690(0x1ae)](0x2,'0'),'start':_0x1c5bea['s'],'end':_0x1c5bea['e'],'status':_0x1c5bea['st']||_0xc1d690(0x1dd),'note':_0x1c5bea['n']||'','seriesId':_0x1c5bea[_0xc1d690(0x197)]||null});});}));},async 'syncBatch'(_0x10cc60){const _0x2ab97f=a2_0x15bcc4,_0x5345e2=[...new Set(_0x10cc60)],_0x2efe10=_0x5345e2[_0x2ab97f(0x16a)](_0x53dd=>{const _0x5b6d7a=_0x2ab97f,_0xec896f=sessions['filter'](_0x33ab05=>_0x33ab05[_0x5b6d7a(0x113)]===_0x53dd&&_0x33ab05[_0x5b6d7a(0xf2)]!==_0x5b6d7a(0x1f3)),_0x327746=_0xec896f[_0x5b6d7a(0x16a)](_0x236334=>({'i':_0x236334['id'],'c':_0x236334[_0x5b6d7a(0xe9)],'s':_0x236334[_0x5b6d7a(0xd5)],'e':_0x236334[_0x5b6d7a(0x1e8)],'st':_0x236334[_0x5b6d7a(0xf2)],'n':_0x236334[_0x5b6d7a(0x199)],'sid':_0x236334['seriesId']}));return{'date':_0x53dd,'day_data':_0x327746};});if(_0x2efe10['length']===0x0)return;console['log'](_0x2ab97f(0x12a)+_0x2efe10['length']+_0x2ab97f(0x1ff)),await this[_0x2ab97f(0x224)](_0x2ab97f(0x1ec),{'changes':_0x2efe10});}};async function init(){const _0x21c0b=a2_0x15bcc4;DataManager[_0x21c0b(0xd8)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById'](_0x21c0b(0x14c))[_0x21c0b(0x155)](_0x21c0b(0x1ab),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x21c0b(0x165)]()[_0x21c0b(0x1df)](()=>{const _0x97421a=_0x21c0b;showToast(_0x97421a(0x111),!![]);})[_0x21c0b(0x11b)](_0x43b69a=>{const _0x597b9e=_0x21c0b;showToast(_0x597b9e(0x16f),![]);});}function generateId(){const _0x385ff6=a2_0x15bcc4;return Date[_0x385ff6(0x1a4)]()[_0x385ff6(0x1a2)](0x24)+Math[_0x385ff6(0x22e)]()['toString'](0x24)[_0x385ff6(0xff)](0x2,0x5);}function toggleSeriesInput(){const _0x12a76c=a2_0x15bcc4,_0x523b18=document['getElementById'](_0x12a76c(0x110))['checked'],_0x1531e4=document[_0x12a76c(0x183)](_0x12a76c(0x219));_0x1531e4['style'][_0x12a76c(0x24f)]=_0x523b18?'block':_0x12a76c(0xd6);const _0x30eb1d=document['getElementById']('recurringOptionContainer');_0x30eb1d['style'][_0x12a76c(0x189)]=_0x523b18?_0x12a76c(0x1bb):_0x12a76c(0x17f);}function a2_0x55d6(){const _0x3335cc=['ranges','btn-primary\x20btn-danger','setDate','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','getItem','toastMessage','btnDelete','\x20–∏–∑\x20','onClick','doLoadPercent','create','flex','.dch-stats-fill','valid','114666lVvuOK','getMinutes','#fff','[Settings]\x20Cancel\x20window\x20set\x20to:','success','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','getTime','seriesCountContainer','\x20status-completed','getBoundingClientRect','anEnd','Save\x20settings\x20error:','expand','getDay','strokeDashoffset','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','daysHeaderTrack','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','fetchFromServer','analyticsList','saveLocally','356535qYFiUq','div','settingCancelWindow','isArray','day-col-header\x20','getFullYear','var(--acc-green)','random','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','includes','checked','mouseup','mousemove','getHours','active','scrollWidth','blocked-slot\x20stripe-bg','Telegram','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','done','syncBatch','setBackgroundColor','series','formatDate','gridColumns','as-button\x20danger\x20bold','21aZAJMk','...','inpNote','max','apply','actionSheetOverlay','[Series]\x20Skipped\x20','46GPUatS','today','undefined','warn','cancelled','background','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','display','Batch\x20Sync\x20OK','inpStart','<div\x20class=\x22dch-day\x22>','de-item','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','peGrid','settings','disableVerticalSwipes','save_settings','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','guest','anTotalStats','textContent','1391571IXbrzt','start','none','stringify','loadLocal','uc_clients_v9','btnStatusToggle','find','log','Critical\x20TMA\x20Error:','rgba(255,255,255,0.05)','day-column\x20','name','uc_settings_v9','innerHTML','week','btnDayToggle','search','.day-off-overlay','#gridColumns\x20.day-column','floor','clientId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','toLocaleString','splice','createElement','btn-status-toggle','pattern','pe-col-header','Error\x20setting\x20back\x20button:','status','uc_settings_cancel_window','(((.+)+)+)+$',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','.period-switch\x20.p-btn','show','[Notify]\x20Client\x20SWAP\x20detected','querySelectorAll','router.html','Local\x20Load\x20Error','[Sync]\x20Loading\x20','</b>\x0a\x0a','</div><div\x20class=\x22dch-num\x22>','substr','round','appendChild','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','forEach','dayOptionsTitle','location','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','\x20‚Äî\x20','sessionSheet','update','calc(','open','[Notify]\x20Network\x20Failed','all','inpRecurring','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','.day-column','dateStr','send_notification','scrollLeft','init_load','WebApp','analyticsSheet','exceptions','stat-','catch','push','toFixed','–ò–Ω—Ñ–æ','value','top','querySelector','text/plain;charset=UTF-8','rgba(','rangeEndDate','month','complete','parse','timeColumn','doWorkHours','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','2567912TjOwWy','touchend','inpClient','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','toast-notification\x20','total','classList','sheetDateSubtitle','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','touches','backgroundColor','setHeaderColor','keys','scrollTop','single','globalTimeLine','borderColor','data','anCustomDates','.sheet','time-label','anDonutCircle','setAttribute','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','as-button\x20danger','mini','day-off-overlay\x20stripe-bg','block','filter','53034CukcNB','inpSeriesCount','var(--acc-red)','user','matrixViewport','initData','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','Server\x20Error','doBusyHours','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','v9.0-BATCH-CALENDAR','cancel_window','anStart','addEventListener','patternEditor','#050505','toLocaleDateString','clientY','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','<b>‚úÖ\x20','colIndex','offsetWidth','–£–¥–∞–ª–µ–Ω–∏–µ','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','inpEnd','px\x20-','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','insertBefore','closest','syncLoad','vibrate','doDateHeader','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','doEventsList','map','backgroundPosition','charAt','style','mousedown','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','Error\x20setting\x20color:','pe-corner','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','text','[Notify]\x20Server\x20Response:','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','zIndex','BackButton','className','inpDate','#0a84ff','100%','cancel','[Notify]\x20Error:\x20sessionData\x20is\x20null','actionSheet','10px','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','send','calendar','getElementById','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','rangeStartTime','.pib-text',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','timeLineBadge','borderRadius','setMonth','color','from','delete','mergeServerData','</span>\x20/\x20','seriesId','blocked-range-part\x20stripe-bg','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','rgba(255,\x2069,\x2058,\x200.3)','<div\x20class=\x22ev-title\x22>','rangeEndTime','null','sid','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','note','rangeStartDate','rangesSheet','custom','%\x20+\x202px)','error','save','event-card','data-date','toString','getMonth','now','min','clientWidth','rgba(48,\x20209,\x2088,\x200.15)','ru-RU','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','stopPropagation','scroll',']\x20Failed:',':00','padStart','getText',':00</span>','uc_sessions_v9','sheetTitle','offsetLeft','initDataUnsafe','getAttribute','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','offClick','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','setItem','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','10px\x2010px\x200\x200','.day-col-header','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','setHours','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','toUpperCase','height','.event-card','dayOptionsSheet','00:00','header-','getDate','long','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','POST','[API\x20','touchstart','add','left','clients','DOMContentLoaded','completed','pe-time-label','294176PxtkRJ','anPercent','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','numeric','length','var(--acc-current)','31797477PDIcyw','asBtnSeries','\x20-\x20','ready','planned','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','then','onclick','startsWith','indexOf','client','borderLeftColor','recurringOptionContainer','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','<span>','end','Local\x20Save\x20Error','remove','split','batch_sync','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','sort',':\x20Client\x20already\x20booked','toastTitle','deleted','option','slice','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','width','createDocumentFragment','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','warning','rgba(100,100,100,0.5)','overlay','patternInfoBox','\x20days','–£—Å–ø–µ—à–Ω–æ','json','findIndex','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞'];a2_0x55d6=function(){return _0x3335cc;};return a2_0x55d6();}function openAddSession(_0x4eae04){const _0x2cc39b=a2_0x15bcc4;editingId=null,populateClientSelect(),document[_0x2cc39b(0x183)](_0x2cc39b(0x1b2))[_0x2cc39b(0xd3)]='–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å',document[_0x2cc39b(0x183)](_0x2cc39b(0x20a))[_0x2cc39b(0x16d)]['display']=_0x2cc39b(0xd6),document[_0x2cc39b(0x183)](_0x2cc39b(0xda))[_0x2cc39b(0x16d)][_0x2cc39b(0x24f)]=_0x2cc39b(0xd6);const _0x9c8829=document[_0x2cc39b(0x183)](_0x2cc39b(0x1e5)),_0x2a3cf3=document[_0x2cc39b(0x183)](_0x2cc39b(0x219));_0x9c8829[_0x2cc39b(0x16d)]['display']=_0x2cc39b(0x20f),_0x9c8829['style']['borderRadius']='10px',document[_0x2cc39b(0x183)](_0x2cc39b(0x110))[_0x2cc39b(0x231)]=![],document[_0x2cc39b(0x183)](_0x2cc39b(0x149))[_0x2cc39b(0x11f)]=0x4,_0x2a3cf3['style'][_0x2cc39b(0x24f)]=_0x2cc39b(0xd6),document[_0x2cc39b(0x183)](_0x2cc39b(0x179))['value']=getLocalDateStr(_0x4eae04),updateDateDisplay();const _0xdf7264=_0x4eae04[_0x2cc39b(0x234)]();document['getElementById'](_0x2cc39b(0xc8))[_0x2cc39b(0x11f)]=String(_0xdf7264)['padStart'](0x2,'0')+_0x2cc39b(0x1ad),document[_0x2cc39b(0x183)]('inpEnd')['value']=String(_0xdf7264+0x1)[_0x2cc39b(0x1ae)](0x2,'0')+_0x2cc39b(0x1ad),openSheet(_0x2cc39b(0x10a));}function openEdit(_0x40eade){const _0x2ba230=a2_0x15bcc4;editingId=_0x40eade['id'],populateClientSelect(),document[_0x2ba230(0x183)](_0x2ba230(0x1b2))[_0x2ba230(0xd3)]=_0x2ba230(0x133),document[_0x2ba230(0x183)](_0x2ba230(0x20a))[_0x2ba230(0x16d)][_0x2ba230(0x24f)]=_0x2ba230(0x146);const _0xf99ccd=document[_0x2ba230(0x183)]('btnStatusToggle');_0xf99ccd[_0x2ba230(0x16d)][_0x2ba230(0x24f)]=_0x2ba230(0x20f);_0x40eade['status']===_0x2ba230(0x1d1)?(_0xf99ccd[_0x2ba230(0x178)]='btn-status-toggle\x20undo-mode',_0xf99ccd[_0x2ba230(0xe2)]=_0x2ba230(0x107)):(_0xf99ccd['className']=_0x2ba230(0xee),_0xf99ccd[_0x2ba230(0xe2)]=_0x2ba230(0x1ba));const _0x2ccae1=!!_0x40eade['seriesId'];document[_0x2ba230(0x183)](_0x2ba230(0x1e5))[_0x2ba230(0x16d)][_0x2ba230(0x24f)]=_0x2ba230(0xd6),document[_0x2ba230(0x183)](_0x2ba230(0x219))[_0x2ba230(0x16d)][_0x2ba230(0x24f)]=_0x2ba230(0xd6),_0x2ccae1?(document['getElementById'](_0x2ba230(0x1fe))[_0x2ba230(0x16d)]['display']=_0x2ba230(0x20f),document[_0x2ba230(0x183)]('patternInfoBox')[_0x2ba230(0x121)](_0x2ba230(0x186))[_0x2ba230(0xd3)]='–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫'):document['getElementById'](_0x2ba230(0x1fe))[_0x2ba230(0x16d)]['display']=_0x2ba230(0xd6),document[_0x2ba230(0x183)](_0x2ba230(0x12d))[_0x2ba230(0x11f)]=_0x40eade[_0x2ba230(0x1e3)],document[_0x2ba230(0x183)]('inpDate')[_0x2ba230(0x11f)]=_0x40eade[_0x2ba230(0x113)],document[_0x2ba230(0x183)](_0x2ba230(0xc8))[_0x2ba230(0x11f)]=_0x40eade[_0x2ba230(0xd5)],document[_0x2ba230(0x183)]('inpEnd')[_0x2ba230(0x11f)]=_0x40eade[_0x2ba230(0x1e8)],document['getElementById'](_0x2ba230(0x243))['value']=_0x40eade[_0x2ba230(0x199)]||'',updateDateDisplay(),openSheet('sessionSheet');}async function trySaveSession(){const _0x380999=a2_0x15bcc4,_0x5a6d64=document[_0x380999(0x183)](_0x380999(0x12d))[_0x380999(0x11f)],_0x3696f5=document['getElementById'](_0x380999(0x179))['value'],_0x2347a2=document[_0x380999(0x183)](_0x380999(0xc8))[_0x380999(0x11f)],_0x5ab20a=document[_0x380999(0x183)](_0x380999(0x160))[_0x380999(0x11f)],_0x5004d7=document[_0x380999(0x183)](_0x380999(0x243))[_0x380999(0x11f)],_0x31e8e3=document['getElementById'](_0x380999(0x110))['checked'];let _0x21235d=0x4;if(_0x31e8e3){const _0x3cf220=parseInt(document[_0x380999(0x183)](_0x380999(0x149))[_0x380999(0x11f)]);if(!_0x3cf220||_0x3cf220<0x2){showToast('–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏',![]);return;}if(_0x3cf220>0x64){showToast(_0x380999(0x103),![]);return;}_0x21235d=_0x3cf220;}const _0x205e9f=clients['find'](_0x5c72b6=>_0x5c72b6[_0x380999(0xe0)]===_0x5a6d64);if(!_0x205e9f){showToast(_0x380999(0x1f9),![]);return;}const _0x4fe200=validateAppointment(_0x3696f5,_0x2347a2,_0x5ab20a,editingId,_0x205e9f['id']);if(!_0x4fe200[_0x380999(0x211)]){showToast(_0x4fe200['msg'],![]);return;}_0x4fe200[_0x380999(0x1fb)]&&showToast(_0x4fe200[_0x380999(0x1fb)],![]);const _0xe90018={'client':_0x5a6d64,'clientId':_0x205e9f['id'],'start':_0x2347a2,'end':_0x5ab20a,'note':_0x5004d7,'status':_0x380999(0x1dd)},_0x3ef63e=editingId?sessions[_0x380999(0xdb)](_0x5648b0=>_0x5648b0['id']===editingId):null;if(_0x3ef63e&&_0x3ef63e['seriesId']){tempSessionData={..._0xe90018,'dateStr':_0x3696f5,'id':editingId,'seriesId':_0x3ef63e[_0x380999(0x190)]},openActionSheet(_0x380999(0x19f));return;}let _0x16164b=null;if(!editingId)_0x16164b=_0x380999(0x20e);else{if(_0x3ef63e){if(String(_0x3ef63e[_0x380999(0xe9)])!==String(_0x205e9f['id']))console['log'](_0x380999(0xf8)),NotificationManager[_0x380999(0x181)](_0x380999(0x17c),_0x3ef63e),_0x16164b='create';else(_0x3ef63e[_0x380999(0xd5)]!==_0x2347a2||_0x3ef63e[_0x380999(0x1e8)]!==_0x5ab20a||_0x3ef63e[_0x380999(0x113)]!==_0x3696f5)&&(_0x16164b=_0x380999(0x10b));}}if(!editingId&&_0x31e8e3){createBatchSeries(_0xe90018,_0x3696f5,_0x21235d),NotificationManager['send'](_0x380999(0x20e),{..._0xe90018,'dateStr':_0x3696f5});return;}lastUserActionTime=Date['now']();const _0x4d004d={..._0xe90018,'dateStr':_0x3696f5,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x4d004d),_0x16164b&&NotificationManager[_0x380999(0x181)](_0x16164b,_0x4d004d);}function toggleSessionStatus(){const _0x15c1e0=a2_0x15bcc4;lastUserActionTime=Date[_0x15c1e0(0x1a4)]();const _0x875de0=sessions[_0x15c1e0(0xdb)](_0x16f4c8=>_0x16f4c8['id']===editingId);if(!_0x875de0)return;const _0x4a921c=_0x875de0[_0x15c1e0(0xf2)]===_0x15c1e0(0x1d1)?_0x15c1e0(0x1dd):'completed';_0x875de0[_0x15c1e0(0xf2)]=_0x4a921c,saveSingleSession(_0x875de0),_0x4a921c===_0x15c1e0(0x1d1)&&NotificationManager[_0x15c1e0(0x181)]('complete',_0x875de0),showToast(_0x4a921c==='completed'?_0x15c1e0(0x203):'–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω',!![]);}function validateAppointment(_0x24d3bb,_0x3b73fd,_0x2db773,_0x4a9a65,_0x3336cb){const _0x45ef9b=a2_0x15bcc4,[_0x1e18d8,_0x5b8841]=_0x3b73fd['split'](':')[_0x45ef9b(0x16a)](Number),[_0x233761,_0x842d55]=_0x2db773[_0x45ef9b(0x1eb)](':')['map'](Number),_0x59908f=_0x1e18d8*0x3c+_0x5b8841,_0x3a93a3=_0x233761*0x3c+_0x842d55,_0xd0a7b8=String(_0x3336cb);let _0x4074f6=![],_0x22ca0c='';for(let _0xa1d0c of sessions){if(_0xa1d0c[_0x45ef9b(0x113)]!==_0x24d3bb)continue;if(_0xa1d0c['status']==='cancelled')continue;if(_0x4a9a65&&String(_0xa1d0c['id'])===String(_0x4a9a65))continue;const [_0x2473da,_0x33b86e]=_0xa1d0c['start'][_0x45ef9b(0x1eb)](':')[_0x45ef9b(0x16a)](Number),[_0x55ff18,_0x473f3c]=_0xa1d0c[_0x45ef9b(0x1e8)]['split'](':')[_0x45ef9b(0x16a)](Number),_0x42bb7c=_0x2473da*0x3c+_0x33b86e,_0x506cb8=_0x55ff18*0x3c+_0x473f3c;if(Math[_0x45ef9b(0x244)](_0x59908f,_0x42bb7c)<Math[_0x45ef9b(0x1a5)](_0x3a93a3,_0x506cb8)){if(_0xa1d0c[_0x45ef9b(0xe9)]&&String(_0xa1d0c[_0x45ef9b(0xe9)])===_0xd0a7b8)return{'valid':![],'msg':_0x45ef9b(0x1ed)+_0xa1d0c[_0x45ef9b(0x1e3)]+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x4074f6=!![],_0x22ca0c=_0xa1d0c['client'];}}if(_0x4074f6)return{'valid':!![],'warning':_0x45ef9b(0x1bd)+_0x22ca0c};return{'valid':!![]};}function saveSingleSession(_0x1c61f4){const _0x393342=a2_0x15bcc4;if(editingId){const _0x170fd1=sessions[_0x393342(0x202)](_0x101888=>_0x101888['id']===editingId);if(_0x170fd1!==-0x1)sessions[_0x170fd1]=_0x1c61f4;}else sessions['push'](_0x1c61f4);afterSaveAction([_0x1c61f4[_0x393342(0x113)]]);}function createBatchSeries(_0x452865,_0xb61c22,_0x55fb05){const _0x49cbcc=a2_0x15bcc4,_0x331f57=generateId(),_0x17161e=[],_0x89362e=[];let _0x26005e=0x0,_0x1bbd9e=new Date(_0xb61c22);for(let _0x411569=0x0;_0x411569<_0x55fb05;_0x411569++){const _0x1b55de=getLocalDateStr(_0x1bbd9e),_0xe23583=validateAppointment(_0x1b55de,_0x452865[_0x49cbcc(0xd5)],_0x452865['end'],null,_0x452865[_0x49cbcc(0xe9)]);if(!_0xe23583['valid'])console[_0x49cbcc(0xdc)](_0x49cbcc(0x247)+_0x1b55de+_0x49cbcc(0x1f1)),_0x26005e++;else{const _0x5eb92f={..._0x452865,'id':generateId(),'dateStr':_0x1b55de,'seriesId':_0x331f57};_0x89362e[_0x49cbcc(0x11c)](_0x5eb92f),_0x17161e[_0x49cbcc(0x11c)](_0x1b55de);}_0x1bbd9e[_0x49cbcc(0x206)](_0x1bbd9e[_0x49cbcc(0x1c7)]()+0x7);}if(_0x89362e[_0x49cbcc(0x1d7)]===0x0){showToast('–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!',![]);return;}sessions[_0x49cbcc(0x11c)](..._0x89362e),lastUserActionTime=Date[_0x49cbcc(0x1a4)]();let _0x3d7e6e=_0x49cbcc(0x1ee)+_0x89362e[_0x49cbcc(0x1d7)];_0x26005e>0x0&&(_0x3d7e6e+='\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20'+_0x26005e+')'),showToast(_0x3d7e6e,!![]),afterSaveAction(_0x17161e);}function updateSeriesBatch(_0x3bb44b,_0x1cd938){const _0x2f985e=a2_0x15bcc4,_0x560bce=[],_0xad9a22=_0x1cd938['seriesId'];if(_0x3bb44b===_0x2f985e(0x139)){const _0xe4854={..._0x1cd938,'seriesId':null},_0x81077b=sessions[_0x2f985e(0x202)](_0x495afc=>_0x495afc['id']===_0x1cd938['id']);if(_0x81077b!==-0x1)sessions[_0x81077b]=_0xe4854;_0x560bce[_0x2f985e(0x11c)](_0xe4854[_0x2f985e(0x113)]);}else{if(_0x3bb44b===_0x2f985e(0x23d)){const _0x426d9b=_0x1cd938['dateStr'];sessions[_0x2f985e(0x104)]((_0x7154df,_0x14be4e)=>{const _0x2c1ffa=_0x2f985e;_0x7154df[_0x2c1ffa(0x190)]===_0xad9a22&&_0x7154df['dateStr']>=_0x426d9b&&(sessions[_0x14be4e]={...sessions[_0x14be4e],'start':_0x1cd938[_0x2c1ffa(0xd5)],'end':_0x1cd938['end'],'note':_0x1cd938['note'],'client':_0x1cd938[_0x2c1ffa(0x1e3)],'clientId':_0x1cd938['clientId']},_0x560bce['push'](_0x7154df['dateStr']));});}}afterSaveAction(_0x560bce);}function tryDeleteSession(){const _0x313fbc=a2_0x15bcc4,_0x59a260=sessions[_0x313fbc(0xdb)](_0x17c174=>_0x17c174['id']===editingId);if(!_0x59a260)return;_0x59a260[_0x313fbc(0x190)]?openActionSheet(_0x313fbc(0x18d)):commitDelete(_0x313fbc(0x139),_0x59a260);}function commitDelete(_0x1cc682,_0x59ea3a){const _0x21e32b=a2_0x15bcc4;lastUserActionTime=Date['now'](),NotificationManager[_0x21e32b(0x181)](_0x21e32b(0x17c),_0x59ea3a);const _0x119c91=[];if(_0x1cc682===_0x21e32b(0x139))sessions=sessions['filter'](_0x5b6dd1=>_0x5b6dd1['id']!==_0x59ea3a['id']),_0x119c91[_0x21e32b(0x11c)](_0x59ea3a[_0x21e32b(0x113)]);else{if(_0x1cc682===_0x21e32b(0x23d)){const _0x5396ba=_0x59ea3a[_0x21e32b(0x113)],_0x4e9c62=_0x59ea3a['seriesId'];sessions[_0x21e32b(0x104)](_0x1adac4=>{const _0x1932e9=_0x21e32b;_0x1adac4[_0x1932e9(0x190)]===_0x4e9c62&&_0x1adac4[_0x1932e9(0x113)]>=_0x5396ba&&_0x119c91[_0x1932e9(0x11c)](_0x1adac4[_0x1932e9(0x113)]);}),sessions=sessions[_0x21e32b(0x147)](_0x579190=>!(_0x579190[_0x21e32b(0x190)]===_0x4e9c62&&_0x579190[_0x21e32b(0x113)]>=_0x5396ba));}}afterSaveAction(_0x119c91);}function afterSaveAction(_0x485110){const _0x94b124=a2_0x15bcc4;DataManager[_0x94b124(0x226)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x94b124(0x23b)](_0x485110)[_0x94b124(0x1df)](()=>console[_0x94b124(0xdc)](_0x94b124(0x250)))[_0x94b124(0x11b)](_0x4dc18f=>showToast(_0x94b124(0x175),![]));}const NotificationManager={'formatDate'(_0x2cd962){const _0x427a5c=a2_0x15bcc4,_0x2e7322=new Date(_0x2cd962),_0xfd2690={'weekday':_0x427a5c(0x1c8),'day':_0x427a5c(0x1d6),'month':_0x427a5c(0x1c8)};let _0x2fee4c=_0x2e7322[_0x427a5c(0x158)]('ru-RU',_0xfd2690);return _0x2fee4c[_0x427a5c(0x16c)](0x0)[_0x427a5c(0x1c1)]()+_0x2fee4c[_0x427a5c(0x1f5)](0x1);},'getText'(_0x31ec9a,_0x38388d){const _0x4494f1=a2_0x15bcc4,_0x6551c1=this[_0x4494f1(0x23e)](_0x38388d['dateStr']);switch(_0x31ec9a){case _0x4494f1(0x20e):return'<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a'+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0x6551c1+'\x0a')+(_0x4494f1(0x102)+_0x38388d[_0x4494f1(0xd5)]+'\x20‚Äî\x20'+_0x38388d[_0x4494f1(0x1e8)]+'\x0a\x0a')+_0x4494f1(0x1c9);case _0x4494f1(0x10b):return _0x4494f1(0x1b6)+_0x4494f1(0x239)+(_0x4494f1(0x15b)+_0x38388d[_0x4494f1(0xd5)]+_0x4494f1(0x109)+_0x38388d[_0x4494f1(0x1e8)]+_0x4494f1(0xfd))+(_0x4494f1(0x1c0)+_0x6551c1);case _0x4494f1(0x17c):return'<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a'+(_0x4494f1(0x180)+_0x6551c1+'\x20('+_0x38388d[_0x4494f1(0xd5)]+')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.');case _0x4494f1(0x126):return _0x4494f1(0x108)+_0x4494f1(0x1de)+_0x4494f1(0x24e);default:return'';}},async 'send'(_0xd2cac2,_0x3b8e97){const _0x5b033c=a2_0x15bcc4;console[_0x5b033c(0xdc)]('[Notify]\x20Attempting\x20to\x20send:',_0xd2cac2,_0x3b8e97);if(!_0x3b8e97){console['error'](_0x5b033c(0x17d));return;}const _0x2c284b=String(_0x3b8e97[_0x5b033c(0xe9)]);console['log']('[Notify]\x20Detected\x20Client\x20ID:',_0x2c284b);if(!_0x3b8e97['clientId']||_0x2c284b===_0x5b033c(0x24a)||_0x2c284b===_0x5b033c(0x196)){console[_0x5b033c(0x19e)](_0x5b033c(0x221));if(_0x3b8e97['client']){const _0x249b77=clients['find'](_0x37e1e0=>_0x37e1e0[_0x5b033c(0xe0)]===_0x3b8e97[_0x5b033c(0x1e3)]);if(_0x249b77)return console[_0x5b033c(0xdc)](_0x5b033c(0x172),_0x249b77['id']),this['send'](_0xd2cac2,{..._0x3b8e97,'clientId':_0x249b77['id']});}return;}if(_0x2c284b[_0x5b033c(0x1d7)]<0x5){console[_0x5b033c(0x24b)](_0x5b033c(0x151),_0x2c284b);return;}const _0x460649=this[_0x5b033c(0x1af)](_0xd2cac2,_0x3b8e97);if(!_0x460649){console['error']('[Notify]\x20Error:\x20Text\x20generation\x20failed');return;}console[_0x5b033c(0xdc)](_0x5b033c(0xd0)+_0x2c284b+_0x5b033c(0x242)),DataManager[_0x5b033c(0x224)](_0x5b033c(0x114),{'chatId':_0x2c284b,'text':_0x460649})['then'](_0x9c5fa7=>console['log'](_0x5b033c(0x174),_0x9c5fa7))[_0x5b033c(0x11b)](_0x7bcb83=>console['error'](_0x5b033c(0x10e),_0x7bcb83));}};function getLocalDateStr(_0x3ba07d){const _0x27bc51=a2_0x15bcc4,_0x48cd11=_0x3ba07d[_0x27bc51(0x22c)](),_0x3d8736=String(_0x3ba07d[_0x27bc51(0x1a3)]()+0x1)[_0x27bc51(0x1ae)](0x2,'0'),_0x136c2f=String(_0x3ba07d[_0x27bc51(0x1c7)]())['padStart'](0x2,'0');return _0x48cd11+'-'+_0x3d8736+'-'+_0x136c2f;}function getDateStr(_0x5ae859){const _0x38a73b=a2_0x15bcc4,_0x52edc6=new Date();return _0x52edc6[_0x38a73b(0x206)](_0x52edc6[_0x38a73b(0x1c7)]()+_0x5ae859),getLocalDateStr(_0x52edc6);}function getStartOfWeek(_0x10c39e){const _0x1c0917=a2_0x15bcc4,_0x23a51e=new Date(_0x10c39e),_0x1deb99=_0x23a51e[_0x1c0917(0x21f)](),_0x3b586f=_0x23a51e['getDate']()-_0x1deb99+(_0x1deb99===0x0?-0x6:0x1);return _0x23a51e[_0x1c0917(0x206)](_0x3b586f),_0x23a51e[_0x1c0917(0x1bf)](0x0,0x0,0x0,0x0),_0x23a51e;}function hexToRgba(_0x43e336,_0x51b4b2){const _0x5074a3=a2_0x15bcc4;if(!_0x43e336)return _0x5074a3(0x1fc);let _0x34ee24=0x0,_0x550b0=0x0,_0x4f105=0x0;if(_0x43e336['length']===0x4)_0x34ee24='0x'+_0x43e336[0x1]+_0x43e336[0x1],_0x550b0='0x'+_0x43e336[0x2]+_0x43e336[0x2],_0x4f105='0x'+_0x43e336[0x3]+_0x43e336[0x3];else _0x43e336[_0x5074a3(0x1d7)]===0x7&&(_0x34ee24='0x'+_0x43e336[0x1]+_0x43e336[0x2],_0x550b0='0x'+_0x43e336[0x3]+_0x43e336[0x4],_0x4f105='0x'+_0x43e336[0x5]+_0x43e336[0x6]);return _0x5074a3(0x123)+ +_0x34ee24+',\x20'+ +_0x550b0+',\x20'+ +_0x4f105+',\x20'+_0x51b4b2+')';}function renderTimeColumn(){const _0x520f00=a2_0x15bcc4,_0x3ed684=document[_0x520f00(0x183)](_0x520f00(0x128)),_0x57e8c8=document[_0x520f00(0x183)](_0x520f00(0x188));_0x3ed684[_0x520f00(0xe2)]='',_0x3ed684[_0x520f00(0x101)](_0x57e8c8);for(let _0xe9fe35=0x0;_0xe9fe35<0x18;_0xe9fe35++){const _0x566d2c=document[_0x520f00(0xed)](_0x520f00(0x228));_0x566d2c[_0x520f00(0x178)]=_0x520f00(0x13f);if(_0xe9fe35>0x0)_0x566d2c['innerHTML']=_0x520f00(0x1e7)+String(_0xe9fe35)[_0x520f00(0x1ae)](0x2,'0')+_0x520f00(0x1b0);_0x3ed684[_0x520f00(0x101)](_0x566d2c);}}function renderDayRange(_0x103a3b,_0x3c458e){const _0x36d85c=a2_0x15bcc4,_0x5030e0=document[_0x36d85c(0x183)](_0x36d85c(0x222)),_0x5174f2=document[_0x36d85c(0x183)](_0x36d85c(0x23f)),_0x15ac1e=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x2f8218=new Date();_0x2f8218['setHours'](0x0,0x0,0x0,0x0);const _0x31be97=getLocalDateStr(new Date());for(let _0x5dee9e=_0x103a3b;_0x5dee9e<=_0x3c458e;_0x5dee9e++){const _0x56da80=new Date(_0x2f8218);_0x56da80['setDate'](_0x56da80['getDate']()+_0x5dee9e);const _0xe66da3=getLocalDateStr(_0x56da80);let _0x24534f=_0x56da80[_0x36d85c(0x21f)]()-0x1;if(_0x24534f===-0x1)_0x24534f=0x6;const _0x66ea41=_0xe66da3===_0x31be97,_0x5f075a=document['createElement']('div');_0x5f075a[_0x36d85c(0x178)]=_0x36d85c(0x22b)+(_0x66ea41?_0x36d85c(0x249):''),_0x5f075a['id']=_0x36d85c(0x1c6)+_0xe66da3,_0x5f075a[_0x36d85c(0x141)](_0x36d85c(0x1a1),_0xe66da3),_0x5f075a['innerHTML']='<div\x20class=\x22dch-day\x22>'+_0x15ac1e[_0x24534f]+'</div><div\x20class=\x22dch-num\x22>'+_0x56da80[_0x36d85c(0x1c7)]()+_0x36d85c(0x22f)+_0xe66da3+_0x36d85c(0x168),_0x5f075a[_0x36d85c(0x1e0)]=()=>openDayOptions(_0xe66da3,_0x15ac1e[_0x24534f]+'\x20'+_0x56da80[_0x36d85c(0x1c7)]()),_0x5030e0[_0x36d85c(0x101)](_0x5f075a);const _0x5a1738=document[_0x36d85c(0xed)]('div');_0x5a1738[_0x36d85c(0x178)]=_0x36d85c(0xdf)+(_0x66ea41?_0x36d85c(0x249):''),_0x5a1738[_0x36d85c(0x141)](_0x36d85c(0x1a1),_0xe66da3),_0x5a1738[_0x36d85c(0x141)]('data-day-idx',_0x24534f),renderEventsForColumn(_0x5a1738,_0xe66da3,_0x24534f),attachLongPressHandler(_0x5a1738,_0x56da80),_0x5174f2['appendChild'](_0x5a1738),updateDayStats(_0xe66da3);}}function reRenderBlocks(){const _0x57e4e0=a2_0x15bcc4;document[_0x57e4e0(0xf9)](_0x57e4e0(0xe7))[_0x57e4e0(0x104)](_0x59521f=>{const _0x298e48=_0x57e4e0;_0x59521f[_0x298e48(0xf9)](_0x298e48(0x1be))[_0x298e48(0x104)](_0x55c48c=>_0x55c48c[_0x298e48(0x1ea)]());const _0x4dccb2=_0x59521f['getAttribute']('data-date'),_0x4bf8f3=parseInt(_0x59521f[_0x298e48(0x1b5)]('data-day-idx')),_0x27abff=Math[_0x298e48(0x100)](_0x59521f[_0x298e48(0x1b3)]);(availabilityPattern[_0x4bf8f3]||[])[_0x298e48(0x104)](_0x4e6dd5=>{const _0x595744=_0x298e48,_0x1289e2=document[_0x595744(0xed)](_0x595744(0x228));_0x1289e2[_0x595744(0x178)]=_0x595744(0x237);const _0x2a8ea7=_0x4e6dd5*GRID_H;_0x1289e2[_0x595744(0x16d)][_0x595744(0x120)]=_0x2a8ea7+'px',_0x1289e2[_0x595744(0x16d)]['backgroundPosition']='-'+_0x27abff+_0x595744(0x161)+_0x2a8ea7+'px',_0x59521f[_0x595744(0x101)](_0x1289e2);});if(specialRanges&&specialRanges[_0x298e48(0x1d7)]>0x0){const _0x3ea4dd=new Date(_0x4dccb2+'T00:00:00')[_0x298e48(0x218)](),_0x235b4b=new Date(_0x4dccb2+'T23:59:59')[_0x298e48(0x218)]();specialRanges[_0x298e48(0x104)](_0x153536=>{const _0x255ed1=_0x298e48,_0x112a39=new Date(_0x153536['start'])[_0x255ed1(0x218)](),_0x147452=new Date(_0x153536[_0x255ed1(0x1e8)])['getTime'](),_0x256f95=Math['max'](_0x3ea4dd,_0x112a39),_0x66881b=Math[_0x255ed1(0x1a5)](_0x235b4b,_0x147452);if(_0x256f95<_0x66881b){if(_0x256f95<=_0x3ea4dd&&_0x66881b>=_0x235b4b-0xea60){if(!_0x59521f['querySelector'](_0x255ed1(0xe6))){const _0xd1b0a5=document[_0x255ed1(0xed)](_0x255ed1(0x228));_0xd1b0a5[_0x255ed1(0x178)]=_0x255ed1(0x145),_0xd1b0a5[_0x255ed1(0x16d)]['backgroundPosition']='-'+_0x27abff+'px\x200px',_0x59521f[_0x255ed1(0x101)](_0xd1b0a5);}}else{const _0x7295fb=(_0x256f95-_0x3ea4dd)/0x36ee80*GRID_H,_0x3fcdff=(_0x66881b-_0x256f95)/0x36ee80*GRID_H,_0x30ab6b=document[_0x255ed1(0xed)](_0x255ed1(0x228));_0x30ab6b[_0x255ed1(0x178)]=_0x255ed1(0x191),_0x30ab6b['style'][_0x255ed1(0x120)]=_0x7295fb+'px',_0x30ab6b['style'][_0x255ed1(0x1c2)]=_0x3fcdff+'px',_0x30ab6b[_0x255ed1(0x16d)][_0x255ed1(0x16b)]='-'+_0x27abff+_0x255ed1(0x161)+_0x7295fb+'px',_0x59521f['appendChild'](_0x30ab6b);}}});}if(dateExceptions[_0x4dccb2]==='off'){if(!_0x59521f[_0x298e48(0x121)](_0x298e48(0xe6))){const _0xe83cbe=document[_0x298e48(0xed)](_0x298e48(0x228));_0xe83cbe[_0x298e48(0x178)]=_0x298e48(0x145),_0xe83cbe[_0x298e48(0x16d)][_0x298e48(0x16b)]='-'+_0x27abff+'px\x200px',_0x59521f['appendChild'](_0xe83cbe);}}renderEventsForColumn(_0x59521f,_0x4dccb2,_0x4bf8f3),updateDayStats(_0x4dccb2);});}function updateAllDayStats(){const _0x202faf=a2_0x15bcc4;document[_0x202faf(0xf9)](_0x202faf(0x1bc))[_0x202faf(0x104)](_0x148dfd=>{const _0x25de39=_0x202faf;updateDayStats(_0x148dfd[_0x25de39(0x1b5)](_0x25de39(0x1a1)));});}function updateDayStats(_0x5ac83c){const _0x5c15b2=a2_0x15bcc4,_0x484c2d=document[_0x5c15b2(0x183)](_0x5c15b2(0x11a)+_0x5ac83c);if(!_0x484c2d)return;const _0x3038a3=new Date(_0x5ac83c);let _0x3cf290=_0x3038a3[_0x5c15b2(0x21f)]()-0x1;if(_0x3cf290===-0x1)_0x3cf290=0x6;if(dateExceptions[_0x5ac83c]==='off'){_0x484c2d[_0x5c15b2(0x16d)]['display']=_0x5c15b2(0xd6);return;}const _0x26f888=availabilityPattern[_0x3cf290]||[],_0x16f0a2=0x18-_0x26f888[_0x5c15b2(0x1d7)],_0x3164c8=_0x16f0a2*0x3c,_0x2651de=sessions['filter'](_0x2b87cf=>_0x2b87cf['dateStr']===_0x5ac83c&&_0x2b87cf['status']!==_0x5c15b2(0x24c));if(_0x2651de[_0x5c15b2(0x1d7)]===0x0){_0x484c2d[_0x5c15b2(0x16d)][_0x5c15b2(0x24f)]=_0x5c15b2(0xd6);return;}let _0x27eab6=_0x2651de[_0x5c15b2(0x16a)](_0x4d3209=>{const _0x2d9713=_0x5c15b2,[_0x39e0d3,_0x3fb86e]=_0x4d3209['start']['split'](':')[_0x2d9713(0x16a)](Number),[_0x58dc38,_0x326aa5]=_0x4d3209[_0x2d9713(0x1e8)][_0x2d9713(0x1eb)](':')[_0x2d9713(0x16a)](Number);return[_0x39e0d3*0x3c+_0x3fb86e,_0x58dc38*0x3c+_0x326aa5];});_0x27eab6['sort']((_0x57e6a8,_0x222965)=>_0x57e6a8[0x0]-_0x222965[0x0]);let _0x55105a=[];if(_0x27eab6[_0x5c15b2(0x1d7)]>0x0){let _0x4703f7=_0x27eab6[0x0];for(let _0x42ea55=0x1;_0x42ea55<_0x27eab6[_0x5c15b2(0x1d7)];_0x42ea55++){_0x27eab6[_0x42ea55][0x0]<_0x4703f7[0x1]?_0x4703f7[0x1]=Math[_0x5c15b2(0x244)](_0x4703f7[0x1],_0x27eab6[_0x42ea55][0x1]):(_0x55105a[_0x5c15b2(0x11c)](_0x4703f7),_0x4703f7=_0x27eab6[_0x42ea55]);}_0x55105a[_0x5c15b2(0x11c)](_0x4703f7);}let _0x16d57f=0x0;_0x55105a[_0x5c15b2(0x104)](_0x3298d3=>_0x16d57f+=_0x3298d3[0x1]-_0x3298d3[0x0]),_0x484c2d['style'][_0x5c15b2(0x24f)]='flex';const _0x4a4ba9=_0x484c2d[_0x5c15b2(0x121)](_0x5c15b2(0x210));if(_0x3164c8===0x0){_0x4a4ba9['style'][_0x5c15b2(0x1f7)]=_0x5c15b2(0x17b),_0x4a4ba9[_0x5c15b2(0x16d)][_0x5c15b2(0x24d)]=_0x5c15b2(0x14a);return;}const _0x10febe=_0x16d57f/_0x3164c8*0x64;console[_0x5c15b2(0xdc)]('['+_0x5ac83c+_0x5c15b2(0xf5)+_0x16f0a2+_0x5c15b2(0x192)+_0x16d57f+_0x5c15b2(0x15f)+_0x10febe[_0x5c15b2(0x11d)](0x1)+'%'),_0x10febe>0x64?(_0x4a4ba9[_0x5c15b2(0x16d)][_0x5c15b2(0x1f7)]='100%',_0x4a4ba9['style']['background']=_0x5c15b2(0x14a)):(_0x4a4ba9['style'][_0x5c15b2(0x1f7)]=_0x10febe+'%',_0x4a4ba9[_0x5c15b2(0x16d)][_0x5c15b2(0x24d)]=_0x5c15b2(0x1d8));}function renderEventsForColumn(_0x3a9c4a,_0x5e750a,_0xb04632){const _0x3fc48f=a2_0x15bcc4,_0x48ccbd=sessions[_0x3fc48f(0x147)](_0x229f16=>_0x229f16['dateStr']===_0x5e750a),_0x1c14c5=_0x48ccbd[_0x3fc48f(0x16a)](_0x4b5a44=>{const _0x2cb44d=_0x3fc48f,[_0x35850c,_0x1bbb7f]=_0x4b5a44[_0x2cb44d(0xd5)][_0x2cb44d(0x1eb)](':')['map'](Number),[_0x13cfa7,_0x27abb4]=_0x4b5a44[_0x2cb44d(0x1e8)]['split'](':')[_0x2cb44d(0x16a)](Number);return{'data':_0x4b5a44,'start':_0x35850c*0x3c+_0x1bbb7f,'end':_0x13cfa7*0x3c+_0x27abb4,'colIndex':0x0};});_0x1c14c5['sort']((_0x547816,_0x5d14b2)=>{const _0x1f0464=_0x3fc48f;if(_0x547816[_0x1f0464(0xd5)]!==_0x5d14b2[_0x1f0464(0xd5)])return _0x547816[_0x1f0464(0xd5)]-_0x5d14b2[_0x1f0464(0xd5)];return _0x5d14b2[_0x1f0464(0x1e8)]-_0x5d14b2[_0x1f0464(0xd5)]-(_0x547816[_0x1f0464(0x1e8)]-_0x547816[_0x1f0464(0xd5)]);});const _0x324daf=[];_0x1c14c5[_0x3fc48f(0x104)](_0x57a004=>{const _0x2899f6=_0x3fc48f;let _0xbdee3e=![];for(let _0x15973c=0x0;_0x15973c<_0x324daf[_0x2899f6(0x1d7)];_0x15973c++){const _0x2771f0=_0x324daf[_0x15973c],_0xfcae29=_0x2771f0[_0x2771f0[_0x2899f6(0x1d7)]-0x1];if(_0x57a004[_0x2899f6(0xd5)]>=_0xfcae29['end']){_0x2771f0['push'](_0x57a004),_0x57a004[_0x2899f6(0x15c)]=_0x15973c,_0xbdee3e=!![];break;}}!_0xbdee3e&&(_0x324daf[_0x2899f6(0x11c)]([_0x57a004]),_0x57a004['colIndex']=_0x324daf['length']-0x1);}),_0x1c14c5[_0x3fc48f(0x104)](_0x365f9a=>{const _0xf2a28e=_0x3fc48f;let _0x1134cd=0x0;_0x1c14c5[_0xf2a28e(0x104)](_0x2e82cf=>{const _0x6ae584=_0xf2a28e;if(Math[_0x6ae584(0x244)](_0x365f9a[_0x6ae584(0xd5)],_0x2e82cf[_0x6ae584(0xd5)])<Math[_0x6ae584(0x1a5)](_0x365f9a['end'],_0x2e82cf[_0x6ae584(0x1e8)])){if(_0x2e82cf[_0x6ae584(0x15c)]>_0x1134cd)_0x1134cd=_0x2e82cf[_0x6ae584(0x15c)];}});const _0x1d52f1=_0x1134cd+0x1,_0x526911=0x64/_0x1d52f1,_0x8f0428=_0x365f9a['colIndex']*_0x526911,_0x54cddb=createEventEl(_0x365f9a['data']);_0x54cddb['style'][_0xf2a28e(0x1f7)]=_0xf2a28e(0x10c)+_0x526911+'%\x20-\x204px)',_0x54cddb[_0xf2a28e(0x16d)][_0xf2a28e(0x1ce)]='calc('+_0x8f0428+_0xf2a28e(0x19d),_0x54cddb[_0xf2a28e(0x16d)][_0xf2a28e(0x176)]=0xa+_0x365f9a[_0xf2a28e(0x15c)],_0x526911<0x55&&_0x54cddb[_0xf2a28e(0x131)][_0xf2a28e(0x1cd)](_0xf2a28e(0x144)),_0x3a9c4a[_0xf2a28e(0x101)](_0x54cddb);});}function createEventEl(_0x5d4059){const _0x3b0041=a2_0x15bcc4,[_0x165664,_0x597253]=_0x5d4059['start'][_0x3b0041(0x1eb)](':')[_0x3b0041(0x16a)](Number),[_0x23da91,_0xf85f39]=_0x5d4059['end'][_0x3b0041(0x1eb)](':')[_0x3b0041(0x16a)](Number),_0x24b9aa=(_0x165664*0x3c+_0x597253)/0x3c*GRID_H,_0x1c751f=(_0x23da91*0x3c+_0xf85f39-(_0x165664*0x3c+_0x597253))/0x3c*GRID_H,_0x2cd6ad=document[_0x3b0041(0xed)](_0x3b0041(0x228)),_0xb0a0f7=_0x5d4059['status']==='completed'?_0x3b0041(0x21a):'';_0x2cd6ad['className']=_0x3b0041(0x1a0)+_0xb0a0f7,_0x2cd6ad['style'][_0x3b0041(0x120)]=_0x24b9aa+'px',_0x2cd6ad[_0x3b0041(0x16d)][_0x3b0041(0x1c2)]=Math[_0x3b0041(0x244)](_0x1c751f,0x14)+'px';const _0x215caf=clients['find'](_0x8ce561=>_0x5d4059[_0x3b0041(0xe9)]&&String(_0x8ce561['id'])===String(_0x5d4059[_0x3b0041(0xe9)])||_0x8ce561[_0x3b0041(0xe0)]===_0x5d4059['client']),_0x4cca54=_0x215caf?_0x215caf[_0x3b0041(0x18b)]:_0x3b0041(0x17a);_0x2cd6ad[_0x3b0041(0x16d)][_0x3b0041(0x1e4)]=_0x4cca54,_0x2cd6ad['style'][_0x3b0041(0x135)]=hexToRgba(_0x4cca54,0.85);let _0x1e1ceb=_0x3b0041(0x194)+_0x5d4059[_0x3b0041(0x1e3)]+'</div><div\x20class=\x22ev-time\x22>'+_0x5d4059[_0x3b0041(0xd5)]+_0x3b0041(0x1db)+_0x5d4059[_0x3b0041(0x1e8)]+'</div>';return _0x5d4059['seriesId']&&(_0x1e1ceb+='<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>'),_0x5d4059[_0x3b0041(0xf2)]===_0x3b0041(0x1d1)&&(_0x1e1ceb+='<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>'),_0x2cd6ad['innerHTML']=_0x1e1ceb,_0x2cd6ad[_0x3b0041(0x1e0)]=_0x34344c=>{const _0xceb91b=_0x3b0041;_0x34344c[_0xceb91b(0x1aa)](),openEdit(_0x5d4059);},_0x2cd6ad;}function attachLongPressHandler(_0x39bb65,_0x56a91d){const _0x2044f9=a2_0x15bcc4;let _0x4f7e28=0x0,_0xfdefa4=null;const _0x1239aa=_0x25a770=>{const _0x4794ee=a2_0x2e68;if(_0x25a770['target'][_0x4794ee(0x164)](_0x4794ee(0x1c3)))return;isScrolling=![],_0x4f7e28=_0x25a770[_0x4794ee(0x134)]?_0x25a770[_0x4794ee(0x134)][0x0][_0x4794ee(0x159)]:_0x25a770[_0x4794ee(0x159)],_0xfdefa4=setTimeout(()=>{const _0x52a5a9=_0x4794ee;if(!isScrolling){navigator[_0x52a5a9(0x166)]?.(0x32);const _0x569222=_0x39bb65[_0x52a5a9(0x21b)](),_0x40ad45=Math[_0x52a5a9(0xe8)]((_0x4f7e28-_0x569222['top'])/GRID_H);_0x56a91d[_0x52a5a9(0x1bf)](_0x40ad45,0x0),openAddSession(_0x56a91d);}},0x1f4);},_0x3c19a8=()=>{isScrolling=!![],clearTimeout(_0xfdefa4);},_0x2c8cb1=()=>{clearTimeout(_0xfdefa4);};_0x39bb65[_0x2044f9(0x155)](_0x2044f9(0x1cc),_0x1239aa,{'passive':!![]}),_0x39bb65['addEventListener']('touchmove',_0x3c19a8,{'passive':!![]}),_0x39bb65[_0x2044f9(0x155)](_0x2044f9(0x12c),_0x2c8cb1),_0x39bb65['addEventListener'](_0x2044f9(0x16e),_0x1239aa),_0x39bb65[_0x2044f9(0x155)](_0x2044f9(0x233),_0x3c19a8),_0x39bb65[_0x2044f9(0x155)](_0x2044f9(0x232),_0x2c8cb1);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x301812=a2_0x15bcc4,_0x311f9e=document[_0x301812(0x183)](_0x301812(0x14c)),_0x1a0adc=_0x311f9e['scrollLeft'],_0x89713c=_0x311f9e[_0x301812(0x236)],_0x88c187=_0x311f9e[_0x301812(0x1a6)];if(_0x89713c-(_0x1a0adc+_0x88c187)<0x12c){const _0x54c0c5=endOffset;endOffset+=0xe,renderDayRange(_0x54c0c5+0x1,endOffset),reRenderBlocks();}if(_0x1a0adc<0x12c){const _0x3d67c6=startOffset;startOffset-=0xe,prependDays(startOffset,_0x3d67c6-0x1),_0x311f9e['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x30760b,_0x460ae6){const _0x4f2aa8=a2_0x15bcc4,_0x3e10aa=document[_0x4f2aa8(0x183)]('daysHeaderTrack'),_0x209dea=document[_0x4f2aa8(0x183)](_0x4f2aa8(0x23f)),_0xf2dc1b=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x24ed87=new Date();_0x24ed87['setHours'](0x0,0x0,0x0,0x0);const _0x340cfd=getLocalDateStr(new Date()),_0x33cf37=document[_0x4f2aa8(0x1f8)](),_0x5934b1=document[_0x4f2aa8(0x1f8)]();for(let _0x1ba14b=_0x30760b;_0x1ba14b<=_0x460ae6;_0x1ba14b++){const _0x353b82=new Date(_0x24ed87);_0x353b82[_0x4f2aa8(0x206)](_0x353b82['getDate']()+_0x1ba14b);const _0x2bfd78=getLocalDateStr(_0x353b82);let _0x16b2a6=_0x353b82[_0x4f2aa8(0x21f)]()-0x1;if(_0x16b2a6===-0x1)_0x16b2a6=0x6;const _0x351291=_0x2bfd78===_0x340cfd,_0x58798f=document[_0x4f2aa8(0xed)](_0x4f2aa8(0x228));_0x58798f['className']='day-col-header\x20'+(_0x351291?_0x4f2aa8(0x249):''),_0x58798f['id']=_0x4f2aa8(0x1c6)+_0x2bfd78,_0x58798f['setAttribute'](_0x4f2aa8(0x1a1),_0x2bfd78),_0x58798f[_0x4f2aa8(0xe2)]=_0x4f2aa8(0xc9)+_0xf2dc1b[_0x16b2a6]+_0x4f2aa8(0xfe)+_0x353b82[_0x4f2aa8(0x1c7)]()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0x2bfd78+_0x4f2aa8(0x168),_0x58798f[_0x4f2aa8(0x1e0)]=()=>openDayOptions(_0x2bfd78,_0xf2dc1b[_0x16b2a6]+'\x20'+_0x353b82[_0x4f2aa8(0x1c7)]()),_0x33cf37[_0x4f2aa8(0x101)](_0x58798f);const _0x1b3cbf=document[_0x4f2aa8(0xed)](_0x4f2aa8(0x228));_0x1b3cbf[_0x4f2aa8(0x178)]='day-column\x20'+(_0x351291?_0x4f2aa8(0x249):''),_0x1b3cbf[_0x4f2aa8(0x141)]('data-date',_0x2bfd78),_0x1b3cbf[_0x4f2aa8(0x141)]('data-day-idx',_0x16b2a6),renderEventsForColumn(_0x1b3cbf,_0x2bfd78,_0x16b2a6),attachLongPressHandler(_0x1b3cbf,_0x353b82),_0x5934b1[_0x4f2aa8(0x101)](_0x1b3cbf),updateDayStats(_0x2bfd78);}_0x3e10aa[_0x4f2aa8(0x163)](_0x33cf37,_0x3e10aa['firstChild']),_0x209dea[_0x4f2aa8(0x163)](_0x5934b1,_0x209dea[_0x4f2aa8(0x121)](_0x4f2aa8(0x112)));}function validateAppointment(_0x288ae1,_0x5dbd30,_0x4b2660,_0x6b562,_0x5dbc0a){const _0x4eac21=a2_0x15bcc4,[_0x2e09e7,_0x435652]=_0x5dbd30['split'](':')[_0x4eac21(0x16a)](Number),[_0x328efb,_0x21bfa7]=_0x4b2660['split'](':')[_0x4eac21(0x16a)](Number),_0x530986=_0x2e09e7*0x3c+_0x435652,_0xc1e3e0=_0x328efb*0x3c+_0x21bfa7,_0x4af4a9=String(_0x5dbc0a);let _0x4d77e5=![],_0x5d4fc5='';for(let _0x5f3114 of sessions){if(_0x5f3114[_0x4eac21(0x113)]!==_0x288ae1)continue;if(_0x5f3114[_0x4eac21(0xf2)]===_0x4eac21(0x24c))continue;if(_0x6b562&&String(_0x5f3114['id'])===String(_0x6b562))continue;const [_0x375949,_0x21828f]=_0x5f3114[_0x4eac21(0xd5)][_0x4eac21(0x1eb)](':')[_0x4eac21(0x16a)](Number),[_0xe2a4bd,_0x5e3876]=_0x5f3114[_0x4eac21(0x1e8)][_0x4eac21(0x1eb)](':')[_0x4eac21(0x16a)](Number),_0x2c1bea=_0x375949*0x3c+_0x21828f,_0xb66cc1=_0xe2a4bd*0x3c+_0x5e3876;if(Math[_0x4eac21(0x244)](_0x530986,_0x2c1bea)<Math['min'](_0xc1e3e0,_0xb66cc1)){if(_0x5f3114[_0x4eac21(0xe9)]&&String(_0x5f3114[_0x4eac21(0xe9)])===_0x4af4a9)return{'valid':![],'msg':_0x4eac21(0x1ed)+_0x5f3114[_0x4eac21(0x1e3)]+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x4d77e5=!![],_0x5d4fc5=_0x5f3114[_0x4eac21(0x1e3)];}}if(_0x4d77e5)return{'valid':!![],'warning':'–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20'+_0x5d4fc5};return{'valid':!![]};}function updateDateDisplay(){const _0x350b7c=a2_0x15bcc4,_0x1bedf0=document[_0x350b7c(0x183)]('inpDate')[_0x350b7c(0x11f)],_0x1ac8a4=document['getElementById'](_0x350b7c(0x132));if(!_0x1bedf0){_0x1ac8a4[_0x350b7c(0xd3)]='';return;}const [_0x32cda6,_0x42b46f,_0x226a7a]=_0x1bedf0[_0x350b7c(0x1eb)]('-')[_0x350b7c(0x16a)](Number),_0x5930cc=new Date(_0x32cda6,_0x42b46f-0x1,_0x226a7a),_0x2dc8d0={'weekday':_0x350b7c(0x1c8),'day':'numeric','month':'long','year':_0x350b7c(0x1d6)};let _0x699442=_0x5930cc[_0x350b7c(0x158)](_0x350b7c(0x1a8),_0x2dc8d0);_0x699442=_0x699442[_0x350b7c(0x16c)](0x0)[_0x350b7c(0x1c1)]()+_0x699442[_0x350b7c(0x1f5)](0x1),_0x1ac8a4[_0x350b7c(0xd3)]=_0x699442;}function autoSetEndTime(){const _0x4bf52e=a2_0x15bcc4,_0x12bb37=document['getElementById'](_0x4bf52e(0xc8))[_0x4bf52e(0x11f)];if(!_0x12bb37)return;const [_0x3d4820,_0x4161e0]=_0x12bb37['split'](':')[_0x4bf52e(0x16a)](Number);let _0x5097f9=_0x3d4820+0x1;if(_0x5097f9>0x17)_0x5097f9=0x0;const _0x36ce1b=String(_0x5097f9)['padStart'](0x2,'0')+':'+String(_0x4161e0)[_0x4bf52e(0x1ae)](0x2,'0');document[_0x4bf52e(0x183)](_0x4bf52e(0x160))[_0x4bf52e(0x11f)]=_0x36ce1b;}function populateClientSelect(){const _0x23332f=a2_0x15bcc4,_0x5b8066=document[_0x23332f(0x183)](_0x23332f(0x12d));_0x5b8066[_0x23332f(0xe2)]='';if(clients[_0x23332f(0x1d7)]===0x0){const _0x39a2f5=document[_0x23332f(0xed)]('option');_0x39a2f5[_0x23332f(0x173)]=_0x23332f(0x1e6),_0x5b8066['appendChild'](_0x39a2f5);return;}clients[_0x23332f(0x104)](_0x2d8615=>{const _0x585eaa=_0x23332f,_0x2abcda=document[_0x585eaa(0xed)](_0x585eaa(0x1f4));_0x2abcda[_0x585eaa(0x11f)]=_0x2d8615[_0x585eaa(0xe0)],_0x2abcda[_0x585eaa(0xd3)]=_0x2d8615[_0x585eaa(0xe0)],_0x5b8066[_0x585eaa(0x101)](_0x2abcda);});}function openActionSheet(_0x4ec750){const _0x297c4f=a2_0x15bcc4,_0x12bd6f=document['getElementById']('actionSheet'),_0x3af9e4=document[_0x297c4f(0x183)](_0x297c4f(0x246)),_0x16a002=document[_0x297c4f(0x183)]('asTitle'),_0x1e5644=document['getElementById']('asBtnOne'),_0xe3752f=document[_0x297c4f(0x183)](_0x297c4f(0x1da));_0x3af9e4[_0x297c4f(0x131)][_0x297c4f(0x1cd)](_0x297c4f(0x235)),_0x12bd6f[_0x297c4f(0x131)]['add'](_0x297c4f(0x10d));if(_0x4ec750===_0x297c4f(0x19f))_0x16a002[_0x297c4f(0xd3)]=_0x297c4f(0x223),_0x1e5644['textContent']=_0x297c4f(0x207),_0x1e5644[_0x297c4f(0x1e0)]=()=>{const _0x359f24=_0x297c4f;closeActionSheet(),updateSeriesBatch(_0x359f24(0x139),tempSessionData);},_0xe3752f[_0x297c4f(0xd3)]=_0x297c4f(0x217),_0xe3752f['onclick']=()=>{const _0x1660b5=_0x297c4f;closeActionSheet(),updateSeriesBatch(_0x1660b5(0x23d),tempSessionData);};else _0x4ec750===_0x297c4f(0x18d)&&(_0x16a002[_0x297c4f(0xd3)]=_0x297c4f(0x15e),_0x1e5644['textContent']=_0x297c4f(0x207),_0x1e5644[_0x297c4f(0x178)]=_0x297c4f(0x143),_0x1e5644[_0x297c4f(0x1e0)]=()=>{const _0xc9a87c=_0x297c4f;closeActionSheet(),commitDelete(_0xc9a87c(0x139),sessions[_0xc9a87c(0xdb)](_0x320f8b=>_0x320f8b['id']===editingId));},_0xe3752f[_0x297c4f(0xd3)]=_0x297c4f(0x217),_0xe3752f['className']=_0x297c4f(0x240),_0xe3752f[_0x297c4f(0x1e0)]=()=>{const _0x3205f6=_0x297c4f;closeActionSheet(),commitDelete(_0x3205f6(0x23d),sessions[_0x3205f6(0xdb)](_0x7ab129=>_0x7ab129['id']===editingId));});}function closeActionSheet(){const _0x22f915=a2_0x15bcc4;document[_0x22f915(0x183)](_0x22f915(0x17e))[_0x22f915(0x131)][_0x22f915(0x1ea)](_0x22f915(0x10d)),document[_0x22f915(0x183)](_0x22f915(0x246))['classList'][_0x22f915(0x1ea)]('active');}function openSettings(){openSheet('settingsSheet');}function saveCoachSettings(){const _0x436612=a2_0x15bcc4,_0x4bf0c0=document['getElementById'](_0x436612(0x229))[_0x436612(0x11f)];localStorage[_0x436612(0x1b9)]('uc_settings_cancel_window',_0x4bf0c0),console[_0x436612(0xdc)](_0x436612(0x215),_0x4bf0c0),DataManager[_0x436612(0x224)](_0x436612(0xcf),{'settings':{'cancel_window':_0x4bf0c0}})['catch'](_0x2dc49e=>{const _0x30bb40=_0x436612;console[_0x30bb40(0x19e)](_0x30bb40(0x21d),_0x2dc49e),showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫',![]);});}function loadCoachSettings(){const _0x45b119=a2_0x15bcc4,_0x3a9678=localStorage[_0x45b119(0x208)]('uc_settings_cancel_window');_0x3a9678&&(document[_0x45b119(0x183)]('settingCancelWindow')[_0x45b119(0x11f)]=_0x3a9678);}function openRangesSheet(){const _0x32c449=a2_0x15bcc4;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x32c449(0x19b));}function addRange(){const _0x155f9c=a2_0x15bcc4,_0x1924ff=document[_0x155f9c(0x183)](_0x155f9c(0x19a))[_0x155f9c(0x11f)],_0x2f455b=document[_0x155f9c(0x183)](_0x155f9c(0x185))[_0x155f9c(0x11f)],_0x4b8dde=document[_0x155f9c(0x183)](_0x155f9c(0x124))[_0x155f9c(0x11f)],_0x467152=document[_0x155f9c(0x183)](_0x155f9c(0x195))['value'];if(!_0x1924ff||!_0x2f455b||!_0x4b8dde||!_0x467152)return alert(_0x155f9c(0x1fa));const _0xbb9287=_0x1924ff+'T'+_0x2f455b,_0x1f16d1=_0x4b8dde+'T'+_0x467152;if(_0xbb9287>=_0x1f16d1)return alert(_0x155f9c(0x162));specialRanges[_0x155f9c(0x11c)]({'start':_0xbb9287,'end':_0x1f16d1}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x155f9c(0x226)](),DataManager['fetchFromServer'](_0x155f9c(0xcf),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x23e9d0){const _0x3ebd8e=a2_0x15bcc4;specialRanges[_0x3ebd8e(0xec)](_0x23e9d0,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x3ebd8e(0x226)](),DataManager[_0x3ebd8e(0x224)](_0x3ebd8e(0xcf),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x59e08e=a2_0x15bcc4;document['getElementById'](_0x59e08e(0x19a))['value']='',document['getElementById'](_0x59e08e(0x185))['value']=_0x59e08e(0x1c5),document[_0x59e08e(0x183)]('rangeEndDate')['value']='',document[_0x59e08e(0x183)](_0x59e08e(0x195))['value']='23:59';}function renderRangesList(){const _0x410e58=a2_0x15bcc4,_0x1fc394=document[_0x410e58(0x183)]('rangesList');_0x1fc394[_0x410e58(0xe2)]='';if(!specialRanges['length']){_0x1fc394[_0x410e58(0xe2)]='<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>';return;}specialRanges[_0x410e58(0x104)]((_0xa87aa2,_0x3d045d)=>{const _0x29a8c0=_0x410e58,_0x391dc3=document[_0x29a8c0(0xed)]('div');_0x391dc3[_0x29a8c0(0x178)]='range-item';const _0x2a6ad2=_0x3f11b6=>{const _0x20c1e4=_0x29a8c0,_0x335295=new Date(_0x3f11b6);return _0x335295[_0x20c1e4(0x1c7)]()+'.'+String(_0x335295[_0x20c1e4(0x1a3)]()+0x1)[_0x20c1e4(0x1ae)](0x2,'0')+'\x20'+String(_0x335295[_0x20c1e4(0x234)]())['padStart'](0x2,'0')+':'+String(_0x335295[_0x20c1e4(0x213)]())[_0x20c1e4(0x1ae)](0x2,'0');};_0x391dc3[_0x29a8c0(0xe2)]=_0x29a8c0(0x1f6)+_0x2a6ad2(_0xa87aa2[_0x29a8c0(0xd5)])+'\x20‚Äî\x20'+_0x2a6ad2(_0xa87aa2['end'])+_0x29a8c0(0x12e)+_0x3d045d+_0x29a8c0(0x187),_0x1fc394[_0x29a8c0(0x101)](_0x391dc3);});}function scrollToToday(){const _0x3e4f06=a2_0x15bcc4,_0x3ec920=getLocalDateStr(new Date()),_0x2adf4=document[_0x3e4f06(0x183)]('header-'+_0x3ec920),_0x310d09=document[_0x3e4f06(0x183)]('matrixViewport');if(_0x2adf4&&_0x310d09){const _0x422b42=_0x310d09[_0x3e4f06(0x1a6)],_0x30bb47=_0x2adf4[_0x3e4f06(0x1b3)],_0x3800b6=_0x2adf4[_0x3e4f06(0x15d)];_0x310d09[_0x3e4f06(0x115)]=_0x30bb47-_0x422b42/0x2+_0x3800b6/0x2,_0x310d09[_0x3e4f06(0x138)]=0x9*GRID_H;}}function onScroll(){const _0x1c8501=a2_0x15bcc4,_0x10ddd8=document[_0x1c8501(0x183)]('matrixViewport'),_0x29626f=document[_0x1c8501(0xf9)]('.day-col-header');for(let _0x437115 of _0x29626f)if(_0x437115[_0x1c8501(0x1b3)]>=_0x10ddd8[_0x1c8501(0x115)]){const _0x5cd46c=new Date(_0x437115[_0x1c8501(0x1b5)]('data-date'));document['getElementById']('headerMonth')['textContent']=_0x5cd46c[_0x1c8501(0xeb)]('ru',{'month':_0x1c8501(0x1c8)})[_0x1c8501(0x1c1)]()+'\x20'+_0x5cd46c[_0x1c8501(0x22c)]();break;}}function showToast(_0x7ff671,_0x45b1c8=![]){const _0x344721=a2_0x15bcc4,_0x407a52=document['getElementById']('toast');_0x407a52[_0x344721(0x178)]=_0x344721(0x12f)+(_0x45b1c8?_0x344721(0x216):''),document[_0x344721(0x183)](_0x344721(0x1f2))['textContent']=_0x45b1c8?_0x344721(0x200):_0x344721(0x11e),document[_0x344721(0x183)](_0x344721(0x209))['textContent']=_0x7ff671,_0x407a52[_0x344721(0x131)]['add'](_0x344721(0xf7)),setTimeout(()=>{const _0x564b88=_0x344721;_0x407a52[_0x564b88(0x131)][_0x564b88(0x1ea)]('show');},0xbb8);}function openDayOptions(_0x3c749a,_0x391bd5){const _0x1d5ad2=a2_0x15bcc4;selectedDayForOptions=_0x3c749a,document['getElementById'](_0x1d5ad2(0x105))[_0x1d5ad2(0xd3)]=_0x391bd5,openSheet(_0x1d5ad2(0x1c4));}function toggleDayOff(){const _0x5b415c=a2_0x15bcc4;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]='off',reRenderBlocks(),closeAllSheets(),DataManager[_0x5b415c(0x226)](),DataManager['fetchFromServer'](_0x5b415c(0xcf),{'settings':{'exceptions':dateExceptions}}));}function a2_0x2e68(_0x5e4219,_0x4a57b5){_0x5e4219=_0x5e4219-0xc8;const _0x28006d=a2_0x55d6();let _0x1b165b=_0x28006d[_0x5e4219];return _0x1b165b;}function clearDayOff(){const _0x5edf0e=a2_0x15bcc4;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x5edf0e(0x226)](),DataManager[_0x5edf0e(0x224)]('save_settings',{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x25a71a){const _0x22f4bd=a2_0x15bcc4;document[_0x22f4bd(0x183)]('overlay')[_0x22f4bd(0x131)]['add'](_0x22f4bd(0x235)),document[_0x22f4bd(0x183)](_0x25a71a)['classList'][_0x22f4bd(0x1cd)](_0x22f4bd(0x10d));}function closeAllSheets(){const _0x1f9c8b=a2_0x15bcc4;document[_0x1f9c8b(0x183)](_0x1f9c8b(0x1fd))[_0x1f9c8b(0x131)][_0x1f9c8b(0x1ea)](_0x1f9c8b(0x235)),document[_0x1f9c8b(0xf9)](_0x1f9c8b(0x13e))[_0x1f9c8b(0x104)](_0xd86d5c=>_0xd86d5c[_0x1f9c8b(0x131)][_0x1f9c8b(0x1ea)](_0x1f9c8b(0x10d)));}function openPatternEditor(){const _0x9d389e=a2_0x15bcc4;closeAllSheets(),document[_0x9d389e(0x183)]('patternEditor')[_0x9d389e(0x131)][_0x9d389e(0x1cd)](_0x9d389e(0x10d)),renderPatternEditor();}function closePatternEditor(){const _0x32de09=a2_0x15bcc4;document[_0x32de09(0x183)](_0x32de09(0x156))['classList'][_0x32de09(0x1ea)](_0x32de09(0x10d));}function savePattern(){const _0x74af9f=a2_0x15bcc4;document[_0x74af9f(0x183)](_0x74af9f(0x156))[_0x74af9f(0x131)]['remove'](_0x74af9f(0x10d)),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x74af9f(0x224)](_0x74af9f(0xcf),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x4de80b=a2_0x15bcc4,_0x3ad209=document['getElementById'](_0x4de80b(0xcc));_0x3ad209[_0x4de80b(0xe2)]='';const _0x2ffb37=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0xfc5fae=document[_0x4de80b(0xed)](_0x4de80b(0x228));_0xfc5fae[_0x4de80b(0x178)]=_0x4de80b(0x171),_0x3ad209[_0x4de80b(0x101)](_0xfc5fae),_0x2ffb37[_0x4de80b(0x104)]((_0x52699b,_0x4df124)=>{const _0x5e12ff=_0x4de80b,_0x13deab=document[_0x5e12ff(0xed)](_0x5e12ff(0x228));_0x13deab[_0x5e12ff(0x178)]=_0x5e12ff(0xf0),_0x13deab['innerHTML']=_0x52699b+'\x20<span\x20class=\x22arrow\x22>‚Üì</span>',_0x13deab[_0x5e12ff(0x1e0)]=()=>toggleColPattern(_0x4df124),_0x3ad209['appendChild'](_0x13deab);});for(let _0x5a2492=0x0;_0x5a2492<0x18;_0x5a2492++){const _0x516d49=document[_0x4de80b(0xed)](_0x4de80b(0x228));_0x516d49[_0x4de80b(0x178)]=_0x4de80b(0x1d2),_0x516d49['innerHTML']='<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>'+String(_0x5a2492)[_0x4de80b(0x1ae)](0x2,'0')+':00',_0x516d49[_0x4de80b(0x1e0)]=()=>toggleRowPattern(_0x5a2492),_0x3ad209['appendChild'](_0x516d49);for(let _0x21bb80=0x0;_0x21bb80<0x7;_0x21bb80++){const _0x1659b3=document[_0x4de80b(0xed)](_0x4de80b(0x228)),_0x6ad0c9=(availabilityPattern[_0x21bb80]||[])[_0x4de80b(0x230)](_0x5a2492),_0x4f6b4d=!_0x6ad0c9;_0x1659b3['className']='pe-cell\x20'+(_0x4f6b4d?_0x4de80b(0x235):''),_0x1659b3[_0x4de80b(0x1e0)]=()=>toggleSinglePattern(_0x21bb80,_0x5a2492),_0x3ad209[_0x4de80b(0x101)](_0x1659b3);}}}function toggleSinglePattern(_0x4a4767,_0x468a06){const _0x485f43=a2_0x15bcc4;if(!availabilityPattern[_0x4a4767])availabilityPattern[_0x4a4767]=[];const _0x304beb=availabilityPattern[_0x4a4767],_0x319281=_0x304beb[_0x485f43(0x1e2)](_0x468a06);_0x319281===-0x1?_0x304beb[_0x485f43(0x11c)](_0x468a06):_0x304beb[_0x485f43(0xec)](_0x319281,0x1),renderPatternEditor();}function toggleColPattern(_0x3cf271){const _0x28f6e9=a2_0x15bcc4;if(!availabilityPattern[_0x3cf271])availabilityPattern[_0x3cf271]=[];const _0x140d5f=availabilityPattern[_0x3cf271];_0x140d5f['length']===0x0?availabilityPattern[_0x3cf271]=Array[_0x28f6e9(0x18c)]({'length':0x18},(_0x39f0ff,_0x30cbab)=>_0x30cbab):availabilityPattern[_0x3cf271]=[],renderPatternEditor();}function toggleRowPattern(_0x33e409){const _0x13da78=a2_0x15bcc4;let _0x1bb079=!![];for(let _0x45fd6e=0x0;_0x45fd6e<0x7;_0x45fd6e++){if((availabilityPattern[_0x45fd6e]||[])['includes'](_0x33e409)){_0x1bb079=![];break;}}for(let _0x11c18a=0x0;_0x11c18a<0x7;_0x11c18a++){if(!availabilityPattern[_0x11c18a])availabilityPattern[_0x11c18a]=[];const _0x1a2d9b=availabilityPattern[_0x11c18a][_0x13da78(0x1e2)](_0x33e409);if(_0x1bb079){if(_0x1a2d9b===-0x1)availabilityPattern[_0x11c18a][_0x13da78(0x11c)](_0x33e409);}else{if(_0x1a2d9b!==-0x1)availabilityPattern[_0x11c18a]['splice'](_0x1a2d9b,0x1);}}renderPatternEditor();}function renderPCol(_0x336bcf,_0x1ff01e){const _0x55fd3a=a2_0x15bcc4;_0x336bcf[_0x55fd3a(0xe2)]='';const _0x59419d=Math[_0x55fd3a(0x100)](_0x336bcf[_0x55fd3a(0x1b3)]);(availabilityPattern[_0x1ff01e]||[])[_0x55fd3a(0x104)](_0x356925=>{const _0x2f8a86=_0x55fd3a,_0xe6fd83=document[_0x2f8a86(0xed)](_0x2f8a86(0x228));_0xe6fd83['className']=_0x2f8a86(0x237);const _0x5cd284=_0x356925*GRID_H;_0xe6fd83[_0x2f8a86(0x16d)][_0x2f8a86(0x120)]=_0x5cd284+'px',_0xe6fd83[_0x2f8a86(0x16d)]['backgroundPosition']='-'+_0x59419d+_0x2f8a86(0x161)+_0x5cd284+'px',_0xe6fd83['onclick']=_0x24948f=>{_0x24948f['stopPropagation'](),toggleSinglePattern(_0x1ff01e,_0x356925);},_0x336bcf[_0x2f8a86(0x101)](_0xe6fd83);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x3df12d=a2_0x15bcc4,_0x200cdb=new Date(),_0x12fd58=document['getElementById'](_0x3df12d(0x13a)),_0x18e8be=document[_0x3df12d(0x183)](_0x3df12d(0x188)),_0x216a52=(_0x200cdb['getHours']()*0x3c+_0x200cdb['getMinutes']())/0x3c*GRID_H;_0x12fd58['style'][_0x3df12d(0x120)]=_0x216a52+'px',_0x12fd58['style'][_0x3df12d(0x24f)]=_0x3df12d(0x146),_0x18e8be[_0x3df12d(0xd3)]=String(_0x200cdb['getHours']())['padStart'](0x2,'0')+':'+String(_0x200cdb[_0x3df12d(0x213)]())[_0x3df12d(0x1ae)](0x2,'0'),_0x18e8be['style'][_0x3df12d(0x24f)]=_0x3df12d(0x146),_0x18e8be[_0x3df12d(0x16d)]['top']=_0x216a52+'px';}document['addEventListener'](a2_0x15bcc4(0x1d0),init);function openDayOptions(_0x30f0b7){const _0x4b6d10=a2_0x15bcc4;selectedDayForOptions=_0x30f0b7;const _0x5684e7=new Date(_0x30f0b7),_0x15055b={'weekday':_0x4b6d10(0x1c8),'day':'numeric','month':_0x4b6d10(0x1c8),'year':'numeric'},_0x418f0b=_0x5684e7['toLocaleDateString'](_0x4b6d10(0x1a8),_0x15055b);document[_0x4b6d10(0x183)](_0x4b6d10(0x167))['textContent']=_0x418f0b[_0x4b6d10(0x16c)](0x0)[_0x4b6d10(0x1c1)]()+_0x418f0b[_0x4b6d10(0x1f5)](0x1);let _0x43bcb3=_0x5684e7[_0x4b6d10(0x21f)]()-0x1;if(_0x43bcb3===-0x1)_0x43bcb3=0x6;const _0x18ce4c=availabilityPattern[_0x43bcb3]||[],_0x27a339=0x18-_0x18ce4c[_0x4b6d10(0x1d7)],_0x25142c=_0x27a339*0x3c,_0x25a5b7=sessions[_0x4b6d10(0x147)](_0x143f23=>_0x143f23[_0x4b6d10(0x113)]===_0x30f0b7&&_0x143f23[_0x4b6d10(0xf2)]!=='cancelled');let _0x30ac89=_0x25a5b7['map'](_0x382afc=>{const _0x5a7c0a=_0x4b6d10,[_0xa1b58,_0xc58efb]=_0x382afc[_0x5a7c0a(0xd5)]['split'](':')[_0x5a7c0a(0x16a)](Number),[_0x347032,_0x30952c]=_0x382afc[_0x5a7c0a(0x1e8)][_0x5a7c0a(0x1eb)](':')['map'](Number);return[_0xa1b58*0x3c+_0xc58efb,_0x347032*0x3c+_0x30952c];});_0x30ac89[_0x4b6d10(0x1f0)]((_0x178293,_0x266e77)=>_0x178293[0x0]-_0x266e77[0x0]);let _0x361a48=[];if(_0x30ac89['length']>0x0){let _0x34b0a8=_0x30ac89[0x0];for(let _0x3ec6b4=0x1;_0x3ec6b4<_0x30ac89[_0x4b6d10(0x1d7)];_0x3ec6b4++){_0x30ac89[_0x3ec6b4][0x0]<_0x34b0a8[0x1]?_0x34b0a8[0x1]=Math[_0x4b6d10(0x244)](_0x34b0a8[0x1],_0x30ac89[_0x3ec6b4][0x1]):(_0x361a48['push'](_0x34b0a8),_0x34b0a8=_0x30ac89[_0x3ec6b4]);}_0x361a48['push'](_0x34b0a8);}let _0x11467d=0x0;_0x361a48[_0x4b6d10(0x104)](_0x4ed313=>_0x11467d+=_0x4ed313[0x1]-_0x4ed313[0x0]),document[_0x4b6d10(0x183)](_0x4b6d10(0x129))[_0x4b6d10(0xd3)]=formatMinsToHrs(_0x25142c),document[_0x4b6d10(0x183)](_0x4b6d10(0x150))[_0x4b6d10(0xd3)]=formatMinsToHrs(_0x11467d);const _0x23cbfa=_0x25142c>0x0?Math['round'](_0x11467d/_0x25142c*0x64):0x0,_0x5395cc=document[_0x4b6d10(0x183)](_0x4b6d10(0x20d));_0x5395cc[_0x4b6d10(0xd3)]=_0x23cbfa+'%';const _0x101283=document[_0x4b6d10(0x183)]('statLoadCard');if(_0x23cbfa>0x64)_0x5395cc[_0x4b6d10(0x16d)]['color']='var(--acc-red)',_0x101283[_0x4b6d10(0x16d)][_0x4b6d10(0x13b)]=_0x4b6d10(0x193);else _0x23cbfa>0x50?(_0x5395cc['style'][_0x4b6d10(0x18b)]='var(--acc-orange)',_0x101283[_0x4b6d10(0x16d)][_0x4b6d10(0x13b)]='rgba(255,\x20159,\x2010,\x200.3)'):(_0x5395cc[_0x4b6d10(0x16d)]['color']=_0x4b6d10(0x22d),_0x101283[_0x4b6d10(0x16d)][_0x4b6d10(0x13b)]=_0x4b6d10(0xde));const _0x40e0a8=document[_0x4b6d10(0x183)](_0x4b6d10(0x169));_0x40e0a8[_0x4b6d10(0xe2)]='';_0x25a5b7[_0x4b6d10(0x1d7)]===0x0?_0x40e0a8[_0x4b6d10(0xe2)]='<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>':(_0x25a5b7[_0x4b6d10(0x1f0)]((_0x1c72de,_0x421465)=>_0x1c72de['start']['localeCompare'](_0x421465['start'])),_0x25a5b7[_0x4b6d10(0x104)](_0x3631bf=>{const _0x57fe35=_0x4b6d10,_0x2d4272=clients['find'](_0x4cd6ae=>_0x4cd6ae[_0x57fe35(0xe0)]===_0x3631bf[_0x57fe35(0x1e3)]),_0x4f2356=_0x2d4272?_0x2d4272[_0x57fe35(0x18b)]:_0x57fe35(0x214),_0xba1fd5=_0x3631bf[_0x57fe35(0xf2)]===_0x57fe35(0x1d1),_0x909486=_0xba1fd5?'<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>':'',_0x2f29a4=document[_0x57fe35(0xed)](_0x57fe35(0x228));_0x2f29a4[_0x57fe35(0x178)]=_0x57fe35(0xca),_0x2f29a4[_0x57fe35(0x16d)]['borderLeftColor']=_0x4f2356,_0x2f29a4[_0x57fe35(0xe2)]=_0x57fe35(0x1ef)+_0x3631bf['start']+_0x57fe35(0x1db)+_0x3631bf['end']+_0x57fe35(0x1d5)+_0x3631bf['client']+_0x57fe35(0x198)+_0x909486+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x40e0a8[_0x57fe35(0x101)](_0x2f29a4);}));const _0x5c3726=document['getElementById'](_0x4b6d10(0xe4)),_0x4ae0d4=dateExceptions[_0x30f0b7]==='off';_0x4ae0d4?(_0x5c3726[_0x4b6d10(0xd3)]='–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º',_0x5c3726[_0x4b6d10(0x178)]='btn-primary\x20btn-secondary',_0x5c3726[_0x4b6d10(0x16d)][_0x4b6d10(0x18b)]='var(--acc-green)',_0x5c3726[_0x4b6d10(0x16d)][_0x4b6d10(0x24d)]=_0x4b6d10(0x1a7)):(_0x5c3726[_0x4b6d10(0xd3)]=_0x4b6d10(0x142),_0x5c3726[_0x4b6d10(0x178)]=_0x4b6d10(0x205),_0x5c3726[_0x4b6d10(0x16d)][_0x4b6d10(0x18b)]=_0x4b6d10(0x14a),_0x5c3726[_0x4b6d10(0x16d)]['background']='rgba(255,\x2069,\x2058,\x200.15)'),openSheet('dayOptionsSheet');}let currentAnPeriod=a2_0x15bcc4(0xe3);function openAnalytics(){const _0x21d0c6=a2_0x15bcc4,_0x1b2ae9=document[_0x21d0c6(0x121)](_0x21d0c6(0xf6));setAnalyticsPeriod('week',_0x1b2ae9),closeAllSheets(),openSheet(_0x21d0c6(0x118));}function setAnalyticsPeriod(_0x48c65c,_0x4b0878){const _0x1f991c=a2_0x15bcc4;currentAnPeriod=_0x48c65c,document[_0x1f991c(0xf9)]('.period-switch\x20.p-btn')[_0x1f991c(0x104)](_0x540ef3=>_0x540ef3[_0x1f991c(0x131)][_0x1f991c(0x1ea)](_0x1f991c(0x235)));if(_0x4b0878)_0x4b0878[_0x1f991c(0x131)][_0x1f991c(0x1cd)](_0x1f991c(0x235));const _0x450319=document[_0x1f991c(0x183)](_0x1f991c(0x13d));_0x450319['style'][_0x1f991c(0x24f)]=_0x48c65c===_0x1f991c(0x19c)?'flex':_0x1f991c(0xd6);const _0x4800d6=new Date();let _0x2e000d=new Date(),_0x442aa1=new Date();if(_0x48c65c==='week')_0x2e000d=getStartOfWeek(_0x4800d6),_0x442aa1=new Date(_0x2e000d),_0x442aa1[_0x1f991c(0x206)](_0x442aa1[_0x1f991c(0x1c7)]()+0x6);else{if(_0x48c65c===_0x1f991c(0x125))_0x2e000d=new Date(_0x4800d6[_0x1f991c(0x22c)](),_0x4800d6['getMonth'](),0x1),_0x442aa1=new Date(_0x4800d6[_0x1f991c(0x22c)](),_0x4800d6[_0x1f991c(0x1a3)]()+0x1,0x0);else{!document['getElementById'](_0x1f991c(0x154))[_0x1f991c(0x11f)]&&(document[_0x1f991c(0x183)]('anStart')[_0x1f991c(0x11f)]=getLocalDateStr(_0x4800d6),document[_0x1f991c(0x183)](_0x1f991c(0x21c))[_0x1f991c(0x11f)]=getLocalDateStr(_0x4800d6));refreshAnalytics();return;}}document[_0x1f991c(0x183)](_0x1f991c(0x154))['value']=getLocalDateStr(_0x2e000d),document[_0x1f991c(0x183)](_0x1f991c(0x21c))[_0x1f991c(0x11f)]=getLocalDateStr(_0x442aa1),refreshAnalytics();}function refreshAnalytics(){const _0x2d4519=a2_0x15bcc4,_0x471e61=document['getElementById'](_0x2d4519(0x154))[_0x2d4519(0x11f)],_0x48b9c5=document[_0x2d4519(0x183)](_0x2d4519(0x21c))[_0x2d4519(0x11f)];if(!_0x471e61||!_0x48b9c5)return;const _0x460a97=sessions['filter'](_0x470d60=>_0x470d60[_0x2d4519(0x113)]>=_0x471e61&&_0x470d60[_0x2d4519(0x113)]<=_0x48b9c5&&_0x470d60['status']!==_0x2d4519(0x24c)),_0x59ac9d=_0x460a97['length'],_0x21591d=_0x460a97[_0x2d4519(0x147)](_0x1f6d0f=>_0x1f6d0f[_0x2d4519(0xf2)]===_0x2d4519(0x1d1))[_0x2d4519(0x1d7)],_0x7b8162=_0x59ac9d>0x0?Math['round'](_0x21591d/_0x59ac9d*0x64):0x0;document[_0x2d4519(0x183)](_0x2d4519(0x1d4))['textContent']=_0x7b8162+'%',document[_0x2d4519(0x183)](_0x2d4519(0xd2))['textContent']=_0x21591d+_0x2d4519(0x20b)+_0x59ac9d+_0x2d4519(0x1b8);const _0x30bb99=document[_0x2d4519(0x183)](_0x2d4519(0x140)),_0x143182=0x2*Math['PI']*0x23,_0x1d6671=_0x143182-_0x7b8162/0x64*_0x143182;_0x30bb99['style'][_0x2d4519(0x220)]=_0x1d6671;const _0x2da5bd={};_0x460a97[_0x2d4519(0x104)](_0x460f30=>{const _0x4583c3=_0x2d4519;if(!_0x2da5bd[_0x460f30[_0x4583c3(0x1e3)]]){const _0xb0f699=clients['find'](_0x4e3a23=>_0x4e3a23['name']===_0x460f30[_0x4583c3(0x1e3)]);_0x2da5bd[_0x460f30[_0x4583c3(0x1e3)]]={'total':0x0,'done':0x0,'color':_0xb0f699?_0xb0f699[_0x4583c3(0x18b)]:'#fff'};}_0x2da5bd[_0x460f30[_0x4583c3(0x1e3)]][_0x4583c3(0x130)]++;if(_0x460f30[_0x4583c3(0xf2)]===_0x4583c3(0x1d1))_0x2da5bd[_0x460f30[_0x4583c3(0x1e3)]][_0x4583c3(0x23a)]++;});const _0x12676f=document[_0x2d4519(0x183)](_0x2d4519(0x225));_0x12676f['innerHTML']='';const _0x439dc9=Object['entries'](_0x2da5bd)[_0x2d4519(0x1f0)]((_0x1c4044,_0x5944ae)=>_0x5944ae[0x1][_0x2d4519(0x130)]-_0x1c4044[0x1][_0x2d4519(0x130)]);if(_0x439dc9[_0x2d4519(0x1d7)]===0x0){_0x12676f[_0x2d4519(0xe2)]=_0x2d4519(0x14e);return;}_0x439dc9[_0x2d4519(0x104)](([_0x1b2225,_0x158a21])=>{const _0xc8efd1=_0x2d4519,_0x5df0fe=Math[_0xc8efd1(0x100)](_0x158a21[_0xc8efd1(0x23a)]/_0x158a21['total']*0x64),_0x58a27e=document[_0xc8efd1(0xed)](_0xc8efd1(0x228));_0x58a27e[_0xc8efd1(0x178)]='client-stat-card',_0x58a27e[_0xc8efd1(0x16d)][_0xc8efd1(0x1e4)]=_0x158a21[_0xc8efd1(0x18b)],_0x58a27e[_0xc8efd1(0xe2)]=_0xc8efd1(0xea)+_0x1b2225+_0xc8efd1(0x1a9)+_0x158a21[_0xc8efd1(0x23a)]+_0xc8efd1(0x18f)+_0x158a21[_0xc8efd1(0x130)]+_0xc8efd1(0x184)+_0x5df0fe+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x12676f[_0xc8efd1(0x101)](_0x58a27e);});}function formatMinsToHrs(_0x47b8a8){const _0x579857=a2_0x15bcc4;if(_0x47b8a8===0x0)return'0';const _0x1bffcd=Math[_0x579857(0xe8)](_0x47b8a8/0x3c),_0x259c8b=_0x47b8a8%0x3c;if(_0x259c8b===0x0)return _0x1bffcd+'—á';return _0x1bffcd+'—á\x20'+_0x259c8b+'–º';}