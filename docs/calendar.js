const a2_0x18b037=a2_0x9c58;(function(_0x325202,_0x40e1de){const _0x171a87=a2_0x9c58,_0x5b3963=_0x325202();while(!![]){try{const _0x531a7e=parseInt(_0x171a87(0x12f))/0x1*(-parseInt(_0x171a87(0x15e))/0x2)+-parseInt(_0x171a87(0xf1))/0x3*(parseInt(_0x171a87(0x229))/0x4)+parseInt(_0x171a87(0x105))/0x5*(-parseInt(_0x171a87(0x16e))/0x6)+parseInt(_0x171a87(0x1b8))/0x7*(-parseInt(_0x171a87(0x1e2))/0x8)+parseInt(_0x171a87(0x18a))/0x9+-parseInt(_0x171a87(0x204))/0xa+parseInt(_0x171a87(0x1f1))/0xb;if(_0x531a7e===_0x40e1de)break;else _0x5b3963['push'](_0x5b3963['shift']());}catch(_0x56482c){_0x5b3963['push'](_0x5b3963['shift']());}}}(a2_0x5c38,0x4d906),function initTMA(){const _0x367b75=a2_0x9c58,_0x3f1959=(function(){let _0x261535=!![];return function(_0x35a7d9,_0x2bb090){const _0x581e81=_0x261535?function(){const _0x4ca8c8=a2_0x9c58;if(_0x2bb090){const _0x19b6bf=_0x2bb090[_0x4ca8c8(0xdd)](_0x35a7d9,arguments);return _0x2bb090=null,_0x19b6bf;}}:function(){};return _0x261535=![],_0x581e81;};}()),_0x4aeff2=_0x3f1959(this,function(){const _0x19d228=a2_0x9c58;return _0x4aeff2[_0x19d228(0x1d8)]()[_0x19d228(0x165)](_0x19d228(0x148))[_0x19d228(0x1d8)]()[_0x19d228(0x123)](_0x4aeff2)['search'](_0x19d228(0x148));});_0x4aeff2();try{const _0x445fe2=window['Telegram']?.['WebApp'];if(!_0x445fe2)return;_0x445fe2[_0x367b75(0x14e)](),_0x445fe2['expand']();try{_0x445fe2[_0x367b75(0xe9)](_0x367b75(0x141)),_0x445fe2['setBackgroundColor']&&_0x445fe2[_0x367b75(0x1a3)](_0x367b75(0x141));}catch(_0x509619){console[_0x367b75(0x22c)]('Error\x20setting\x20color:',_0x509619);}try{_0x445fe2[_0x367b75(0x1d9)]&&(_0x445fe2['BackButton']['show'](),_0x445fe2[_0x367b75(0x1d9)][_0x367b75(0xee)](),_0x445fe2[_0x367b75(0x1d9)]['onClick'](function(){const _0x39eac2=_0x367b75;window['location'][_0x39eac2(0x201)]=_0x39eac2(0x1a8);}));}catch(_0x10d813){console[_0x367b75(0x22c)]('Error\x20setting\x20back\x20button:',_0x10d813);}try{if(_0x445fe2[_0x367b75(0xdb)])_0x445fe2[_0x367b75(0xdb)]();}catch(_0x39b965){}}catch(_0x65e3dd){console[_0x367b75(0x221)]('Critical\x20TMA\x20Error:',_0x65e3dd);}}());function isAdmin(){const _0x2b0090=a2_0x9c58;try{const _0x3d3868=Number(window[_0x2b0090(0x1a6)]?.[_0x2b0090(0xfc)]?.[_0x2b0090(0x202)]?.['user']?.['id']);return _0x3d3868===0xbaf7174;}catch(_0x2b3c8d){return![];}}const APP_VERSION=a2_0x18b037(0x1a4),API_URL=a2_0x18b037(0x121),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS='uc_clients_v9',KEY_SESSIONS=a2_0x18b037(0x12e),KEY_SETTINGS=a2_0x18b037(0x16f);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x3b6c70=a2_0x18b037;return window['Telegram']?.['WebApp']?.[_0x3b6c70(0x202)]?.[_0x3b6c70(0x238)]?.['id']||_0x3b6c70(0xd6);},'saveLocally'(){const _0x4521d3=a2_0x18b037;try{localStorage[_0x4521d3(0x1c4)](KEY_CLIENTS,JSON[_0x4521d3(0x1d2)](clients)),localStorage[_0x4521d3(0x1c4)](KEY_SESSIONS,JSON[_0x4521d3(0x1d2)](sessions)),localStorage[_0x4521d3(0x1c4)](KEY_SETTINGS,JSON[_0x4521d3(0x1d2)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x3bae33){console[_0x4521d3(0x221)](_0x4521d3(0x1a0),_0x3bae33);}},'loadLocal'(){const _0x2aaa1b=a2_0x18b037;try{const _0x2abd6b=localStorage[_0x2aaa1b(0x1e3)](KEY_CLIENTS);if(_0x2abd6b)clients=JSON['parse'](_0x2abd6b);const _0x362077=localStorage[_0x2aaa1b(0x1e3)](KEY_SESSIONS);if(_0x362077)sessions=JSON[_0x2aaa1b(0xdc)](_0x362077);const _0x39a314=localStorage[_0x2aaa1b(0x1e3)](KEY_SETTINGS);if(_0x39a314){const _0x173e15=JSON[_0x2aaa1b(0xdc)](_0x39a314);if(_0x173e15[_0x2aaa1b(0xe6)])availabilityPattern=_0x173e15[_0x2aaa1b(0xe6)];if(_0x173e15['exceptions'])dateExceptions=_0x173e15[_0x2aaa1b(0x190)];if(_0x173e15['ranges'])specialRanges=_0x173e15['ranges'];}else{for(let _0x503b06=0x0;_0x503b06<0x7;_0x503b06++)availabilityPattern[_0x503b06]=Array['from']({'length':0xc},(_0x33f377,_0x179860)=>_0x179860+0x9);}}catch(_0x19d0c0){console['error'](_0x2aaa1b(0xd7),_0x19d0c0);}},async 'fetchFromServer'(_0x45ca9d,_0x3fece2={}){const _0x1434fa=a2_0x18b037,_0x363051=window[_0x1434fa(0x1a6)]?.['WebApp'],_0x4f1ced={'action':_0x45ca9d,'init_data':_0x363051?.['initData']||'',..._0x3fece2};try{const _0x26f494=await fetch(API_URL,{'method':_0x1434fa(0x11f),'headers':{'Content-Type':_0x1434fa(0x20b)},'body':JSON[_0x1434fa(0x1d2)](_0x4f1ced)}),_0x232d57=await _0x26f494[_0x1434fa(0x18d)]();if(!_0x232d57['ok'])throw new Error(_0x232d57['error']||'Server\x20Error');return _0x232d57[_0x1434fa(0x23a)];}catch(_0x4cb127){console['error'](_0x1434fa(0x239)+_0x45ca9d+_0x1434fa(0x1e8),_0x4cb127);throw _0x4cb127;}},async 'syncLoad'(){const _0x4c8888=a2_0x18b037,_0x23ac15=new Date(),_0x4f373e=_0x23ac15[_0x4c8888(0x187)]()+'-'+String(_0x23ac15[_0x4c8888(0x1ff)]()+0x1)['padStart'](0x2,'0'),_0xa6a116=new Date(_0x23ac15);_0xa6a116[_0x4c8888(0x13c)](_0x23ac15[_0x4c8888(0x1ff)]()+0x1);const _0x38eb14=_0xa6a116['getFullYear']()+'-'+String(_0xa6a116[_0x4c8888(0x1ff)]()+0x1)['padStart'](0x2,'0'),_0x48e35c=Date[_0x4c8888(0x163)]();console[_0x4c8888(0x22c)](_0x4c8888(0xde)+_0x4f373e+',\x20'+_0x38eb14+_0x4c8888(0x1f2));try{const [_0x1fec9c,_0x363dec]=await Promise[_0x4c8888(0x104)]([this[_0x4c8888(0x1ee)](_0x4c8888(0x20c),{'month_str':_0x4f373e}),this[_0x4c8888(0x1ee)](_0x4c8888(0x20c),{'month_str':_0x38eb14})]);if(lastUserActionTime>_0x48e35c)return console[_0x4c8888(0x14c)](_0x4c8888(0xfa)),![];return this[_0x4c8888(0x23f)](_0x1fec9c,_0x4f373e),this[_0x4c8888(0x23f)](_0x363dec,_0x38eb14),this[_0x4c8888(0x11a)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x7fb5c3){console['error'](_0x7fb5c3);throw _0x7fb5c3;}},'mergeServerData'(_0x51085a,_0x53107d){const _0xa88175=a2_0x18b037;if(!_0x51085a)return;_0x51085a[_0xa88175(0x1fa)]&&Array[_0xa88175(0x1b7)](_0x51085a['clients'])&&(clients=_0x51085a[_0xa88175(0x1fa)]);if(_0x51085a[_0xa88175(0x20f)]){if(_0x51085a[_0xa88175(0x20f)][_0xa88175(0xe6)])availabilityPattern=_0x51085a[_0xa88175(0x20f)][_0xa88175(0xe6)];if(_0x51085a[_0xa88175(0x20f)][_0xa88175(0x190)])dateExceptions=_0x51085a[_0xa88175(0x20f)]['exceptions'];if(_0x51085a[_0xa88175(0x20f)][_0xa88175(0x212)])specialRanges=_0x51085a[_0xa88175(0x20f)][_0xa88175(0x212)];if(_0x51085a[_0xa88175(0x20f)]['cancel_window']){localStorage[_0xa88175(0x1c4)](_0xa88175(0xfe),_0x51085a[_0xa88175(0x20f)]['cancel_window']);const _0x1979f8=document[_0xa88175(0x1f7)](_0xa88175(0x17b));if(_0x1979f8)_0x1979f8['value']=_0x51085a['settings'][_0xa88175(0x193)];}}_0x51085a[_0xa88175(0x166)]&&(sessions=sessions[_0xa88175(0xf9)](_0x50eda8=>!_0x50eda8['dateStr'][_0xa88175(0x1ea)](_0x53107d)),Object[_0xa88175(0x1af)](_0x51085a['calendar'])[_0xa88175(0x1bb)](_0x3ce808=>{const _0x5aaeea=_0x51085a['calendar'][_0x3ce808];_0x5aaeea['forEach'](_0x34143d=>{const _0x44ae99=a2_0x9c58,_0x7e682=clients[_0x44ae99(0x110)](_0x4ae63c=>String(_0x4ae63c['id'])===String(_0x34143d['c']));sessions['push']({'id':_0x34143d['i'],'clientId':_0x34143d['c'],'client':_0x7e682?_0x7e682[_0x44ae99(0xe3)]:_0x44ae99(0x194),'dateStr':_0x53107d+'-'+_0x3ce808[_0x44ae99(0x1ec)](0x2,'0'),'start':_0x34143d['s'],'end':_0x34143d['e'],'status':_0x34143d['st']||_0x44ae99(0x16c),'note':_0x34143d['n']||'','seriesId':_0x34143d[_0x44ae99(0x1fd)]||null});});}));},async 'syncBatch'(_0x2e1767){const _0x910f30=a2_0x18b037,_0x41fd29=[...new Set(_0x2e1767)],_0x21de93=_0x41fd29[_0x910f30(0x1de)](_0x3a0548=>{const _0xc01d68=_0x910f30,_0x45fc3f=sessions['filter'](_0x306483=>_0x306483['dateStr']===_0x3a0548&&_0x306483[_0xc01d68(0x1b2)]!=='deleted'),_0x304fad=_0x45fc3f['map'](_0x44a28b=>({'i':_0x44a28b['id'],'c':_0x44a28b[_0xc01d68(0x186)],'s':_0x44a28b['start'],'e':_0x44a28b[_0xc01d68(0xed)],'st':_0x44a28b[_0xc01d68(0x1b2)],'n':_0x44a28b[_0xc01d68(0x145)],'sid':_0x44a28b[_0xc01d68(0x1e1)]}));return{'date':_0x3a0548,'day_data':_0x304fad};});if(_0x21de93[_0x910f30(0xe1)]===0x0)return;console[_0x910f30(0x22c)](_0x910f30(0x22b)+_0x21de93[_0x910f30(0xe1)]+_0x910f30(0x19d)),await this['fetchFromServer'](_0x910f30(0x1ef),{'changes':_0x21de93});}};async function init(){const _0x4cde9e=a2_0x18b037;DataManager[_0x4cde9e(0x138)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x4cde9e(0x1f7)](_0x4cde9e(0x137))['addEventListener'](_0x4cde9e(0x10c),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x4cde9e(0xf3)]()[_0x4cde9e(0x219)](()=>{const _0x599755=_0x4cde9e;showToast(_0x599755(0x15d),!![]);})['catch'](_0x3cdb7c=>{const _0x449314=_0x4cde9e;showToast(_0x449314(0x10f),![]);});}function generateId(){const _0x44193d=a2_0x18b037;return Date['now']()['toString'](0x24)+Math[_0x44193d(0x22e)]()['toString'](0x24)['substr'](0x2,0x5);}function toggleSeriesInput(){const _0x3c8a08=a2_0x18b037,_0x4890bd=document['getElementById'](_0x3c8a08(0x179))[_0x3c8a08(0x1f8)],_0x1623c0=document['getElementById'](_0x3c8a08(0x134));_0x1623c0[_0x3c8a08(0x227)]['display']=_0x4890bd?_0x3c8a08(0x206):_0x3c8a08(0x1ac);const _0x186949=document['getElementById'](_0x3c8a08(0x1d0));_0x186949[_0x3c8a08(0x227)]['borderRadius']=_0x4890bd?_0x3c8a08(0x1ad):_0x3c8a08(0x117);}function openAddSession(_0x404c14){const _0x391def=a2_0x18b037;editingId=null,populateClientSelect(),document[_0x391def(0x1f7)](_0x391def(0x1f0))['textContent']=_0x391def(0xfb),document[_0x391def(0x1f7)](_0x391def(0x1be))[_0x391def(0x227)][_0x391def(0xdf)]=_0x391def(0x1ac),document['getElementById']('btnStatusToggle')['style'][_0x391def(0xdf)]=_0x391def(0x1ac);const _0x560b3d=document[_0x391def(0x1f7)](_0x391def(0x1d0)),_0xde49d1=document[_0x391def(0x1f7)](_0x391def(0x134));_0x560b3d[_0x391def(0x227)][_0x391def(0xdf)]=_0x391def(0x1b9),_0x560b3d[_0x391def(0x227)][_0x391def(0xda)]=_0x391def(0x117),document[_0x391def(0x1f7)]('inpRecurring')[_0x391def(0x1f8)]=![],document[_0x391def(0x1f7)]('inpSeriesCount')['value']=0x4,_0xde49d1[_0x391def(0x227)][_0x391def(0xdf)]='none',document[_0x391def(0x1f7)]('inpDate')[_0x391def(0x1bf)]=getLocalDateStr(_0x404c14),updateDateDisplay();const _0x59caeb=_0x404c14[_0x391def(0x159)]();document[_0x391def(0x1f7)](_0x391def(0x230))[_0x391def(0x1bf)]=String(_0x59caeb)[_0x391def(0x1ec)](0x2,'0')+_0x391def(0x142),document['getElementById'](_0x391def(0x1b4))[_0x391def(0x1bf)]=String(_0x59caeb+0x1)[_0x391def(0x1ec)](0x2,'0')+_0x391def(0x142),openSheet(_0x391def(0x208));}function openEdit(_0x22c74d){const _0x1f3868=a2_0x18b037;editingId=_0x22c74d['id'],populateClientSelect(),document['getElementById'](_0x1f3868(0x1f0))['textContent']='–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å',document[_0x1f3868(0x1f7)](_0x1f3868(0x1be))['style']['display']=_0x1f3868(0x206);const _0x4181af=document[_0x1f3868(0x1f7)](_0x1f3868(0xf8));_0x4181af[_0x1f3868(0x227)][_0x1f3868(0xdf)]=_0x1f3868(0x1b9);_0x22c74d[_0x1f3868(0x1b2)]===_0x1f3868(0x1ab)?(_0x4181af[_0x1f3868(0x16b)]=_0x1f3868(0x1aa),_0x4181af[_0x1f3868(0x205)]=_0x1f3868(0x113)):(_0x4181af[_0x1f3868(0x16b)]='btn-status-toggle',_0x4181af[_0x1f3868(0x205)]=_0x1f3868(0x167));const _0x11fcb0=!!_0x22c74d[_0x1f3868(0x1e1)];document[_0x1f3868(0x1f7)](_0x1f3868(0x1d0))[_0x1f3868(0x227)][_0x1f3868(0xdf)]=_0x1f3868(0x1ac),document[_0x1f3868(0x1f7)]('seriesCountContainer')[_0x1f3868(0x227)]['display']=_0x1f3868(0x1ac),_0x11fcb0?(document[_0x1f3868(0x1f7)](_0x1f3868(0x1dd))[_0x1f3868(0x227)][_0x1f3868(0xdf)]=_0x1f3868(0x1b9),document['getElementById']('patternInfoBox')['querySelector']('.pib-text')[_0x1f3868(0x1db)]='–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫'):document['getElementById'](_0x1f3868(0x1dd))[_0x1f3868(0x227)][_0x1f3868(0xdf)]='none',document[_0x1f3868(0x1f7)](_0x1f3868(0x21d))['value']=_0x22c74d[_0x1f3868(0xf4)],document['getElementById']('inpDate')[_0x1f3868(0x1bf)]=_0x22c74d[_0x1f3868(0x22d)],document[_0x1f3868(0x1f7)](_0x1f3868(0x230))[_0x1f3868(0x1bf)]=_0x22c74d['start'],document[_0x1f3868(0x1f7)]('inpEnd')[_0x1f3868(0x1bf)]=_0x22c74d[_0x1f3868(0xed)],document[_0x1f3868(0x1f7)]('inpNote')[_0x1f3868(0x1bf)]=_0x22c74d[_0x1f3868(0x145)]||'',updateDateDisplay(),openSheet(_0x1f3868(0x208));}async function trySaveSession(){const _0x31f615=a2_0x18b037,_0x312a88=document['getElementById'](_0x31f615(0x21d))[_0x31f615(0x1bf)],_0x3a7ceb=document['getElementById'](_0x31f615(0x1c1))['value'],_0x1bdfb8=document['getElementById'](_0x31f615(0x230))[_0x31f615(0x1bf)],_0x3e598b=document['getElementById'](_0x31f615(0x1b4))[_0x31f615(0x1bf)],_0x178aa4=document[_0x31f615(0x1f7)](_0x31f615(0x223))[_0x31f615(0x1bf)],_0x259107=document[_0x31f615(0x1f7)](_0x31f615(0x179))['checked'];let _0x3feb7a=0x4;if(_0x259107){const _0x28dc74=parseInt(document['getElementById'](_0x31f615(0x115))['value']);if(!_0x28dc74||_0x28dc74<0x2){showToast(_0x31f615(0x1dc),![]);return;}if(_0x28dc74>0x64){showToast(_0x31f615(0x1fc),![]);return;}_0x3feb7a=_0x28dc74;}const _0x32a2e2=clients[_0x31f615(0x110)](_0x1f781a=>_0x1f781a[_0x31f615(0xe3)]===_0x312a88);if(!_0x32a2e2){showToast(_0x31f615(0x1ba),![]);return;}const _0x3602b2=validateAppointment(_0x3a7ceb,_0x1bdfb8,_0x3e598b,editingId,_0x32a2e2['id']);if(!_0x3602b2[_0x31f615(0x1b1)]){showToast(_0x3602b2['msg'],![]);return;}_0x3602b2[_0x31f615(0x20a)]&&showToast(_0x3602b2[_0x31f615(0x20a)],![]);const _0x274e2d={'client':_0x312a88,'clientId':_0x32a2e2['id'],'start':_0x1bdfb8,'end':_0x3e598b,'note':_0x178aa4,'status':'planned'},_0x447bc9=editingId?sessions['find'](_0x5ae7b0=>_0x5ae7b0['id']===editingId):null;if(_0x447bc9&&_0x447bc9[_0x31f615(0x1e1)]){tempSessionData={..._0x274e2d,'dateStr':_0x3a7ceb,'id':editingId,'seriesId':_0x447bc9[_0x31f615(0x1e1)]},openActionSheet(_0x31f615(0x125));return;}let _0x22b221=null;if(!editingId)_0x22b221=_0x31f615(0x127);else{if(_0x447bc9){if(String(_0x447bc9[_0x31f615(0x186)])!==String(_0x32a2e2['id']))console[_0x31f615(0x22c)](_0x31f615(0xe7)),NotificationManager[_0x31f615(0x21a)]('cancel',_0x447bc9),_0x22b221=_0x31f615(0x127);else(_0x447bc9[_0x31f615(0x162)]!==_0x1bdfb8||_0x447bc9['end']!==_0x3e598b||_0x447bc9['dateStr']!==_0x3a7ceb)&&(_0x22b221='update');}}if(!editingId&&_0x259107){createBatchSeries(_0x274e2d,_0x3a7ceb,_0x3feb7a),NotificationManager['send'](_0x31f615(0x127),{..._0x274e2d,'dateStr':_0x3a7ceb});return;}lastUserActionTime=Date[_0x31f615(0x163)]();const _0x6c7c41={..._0x274e2d,'dateStr':_0x3a7ceb,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x6c7c41),_0x22b221&&NotificationManager[_0x31f615(0x21a)](_0x22b221,_0x6c7c41);}function toggleSessionStatus(){const _0x3e85fa=a2_0x18b037;lastUserActionTime=Date['now']();const _0xdabead=sessions['find'](_0x38daf4=>_0x38daf4['id']===editingId);if(!_0xdabead)return;const _0x59bafa=_0xdabead['status']===_0x3e85fa(0x1ab)?'planned':_0x3e85fa(0x1ab);_0xdabead[_0x3e85fa(0x1b2)]=_0x59bafa,saveSingleSession(_0xdabead),_0x59bafa===_0x3e85fa(0x1ab)&&NotificationManager[_0x3e85fa(0x21a)](_0x3e85fa(0x1b0),_0xdabead),showToast(_0x59bafa===_0x3e85fa(0x1ab)?_0x3e85fa(0x1e0):_0x3e85fa(0x1b6),!![]);}function validateAppointment(_0x5d2727,_0x52c0da,_0x4945da,_0x30ab98,_0xcd3c33){const _0x446ef3=a2_0x18b037,[_0x244768,_0x207849]=_0x52c0da[_0x446ef3(0xf2)](':')['map'](Number),[_0x34d00a,_0x4b8d38]=_0x4945da['split'](':')[_0x446ef3(0x1de)](Number),_0x408e34=_0x244768*0x3c+_0x207849,_0x3dd740=_0x34d00a*0x3c+_0x4b8d38,_0x2ff452=String(_0xcd3c33);let _0x706880=![],_0x459d48='';for(let _0x236a04 of sessions){if(_0x236a04[_0x446ef3(0x22d)]!==_0x5d2727)continue;if(_0x236a04[_0x446ef3(0x1b2)]===_0x446ef3(0x119))continue;if(_0x30ab98&&String(_0x236a04['id'])===String(_0x30ab98))continue;const [_0x19b86f,_0x30d8cd]=_0x236a04[_0x446ef3(0x162)][_0x446ef3(0xf2)](':')[_0x446ef3(0x1de)](Number),[_0x4914b0,_0x15902d]=_0x236a04[_0x446ef3(0xed)][_0x446ef3(0xf2)](':')['map'](Number),_0x17fce4=_0x19b86f*0x3c+_0x30d8cd,_0x9f391c=_0x4914b0*0x3c+_0x15902d;if(Math[_0x446ef3(0xff)](_0x408e34,_0x17fce4)<Math[_0x446ef3(0x103)](_0x3dd740,_0x9f391c)){if(_0x236a04['clientId']&&String(_0x236a04[_0x446ef3(0x186)])===_0x2ff452)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0x236a04[_0x446ef3(0xf4)]+_0x446ef3(0x185)};_0x706880=!![],_0x459d48=_0x236a04[_0x446ef3(0xf4)];}}if(_0x706880)return{'valid':!![],'warning':_0x446ef3(0x164)+_0x459d48};return{'valid':!![]};}function saveSingleSession(_0x9c1908){const _0xc06433=a2_0x18b037;if(editingId){const _0xb0b612=sessions['findIndex'](_0x33b360=>_0x33b360['id']===editingId);if(_0xb0b612!==-0x1)sessions[_0xb0b612]=_0x9c1908;}else sessions[_0xc06433(0x1c7)](_0x9c1908);afterSaveAction([_0x9c1908['dateStr']]);}function createBatchSeries(_0x1f5250,_0x37fcd4,_0x4fa33c){const _0x8e06c3=a2_0x18b037,_0x2ff881=generateId(),_0x4463ff=[],_0x45bf5e=[];let _0x51439d=0x0,_0x505f32=new Date(_0x37fcd4);for(let _0x1be4f3=0x0;_0x1be4f3<_0x4fa33c;_0x1be4f3++){const _0x3a2cd4=getLocalDateStr(_0x505f32),_0x40bc52=validateAppointment(_0x3a2cd4,_0x1f5250[_0x8e06c3(0x162)],_0x1f5250[_0x8e06c3(0xed)],null,_0x1f5250[_0x8e06c3(0x186)]);if(!_0x40bc52[_0x8e06c3(0x1b1)])console[_0x8e06c3(0x22c)](_0x8e06c3(0x1fe)+_0x3a2cd4+':\x20Client\x20already\x20booked'),_0x51439d++;else{const _0x4c490e={..._0x1f5250,'id':generateId(),'dateStr':_0x3a2cd4,'seriesId':_0x2ff881};_0x45bf5e[_0x8e06c3(0x1c7)](_0x4c490e),_0x4463ff[_0x8e06c3(0x1c7)](_0x3a2cd4);}_0x505f32[_0x8e06c3(0xd8)](_0x505f32[_0x8e06c3(0x13d)]()+0x7);}if(_0x45bf5e[_0x8e06c3(0xe1)]===0x0){showToast(_0x8e06c3(0x147),![]);return;}sessions['push'](..._0x45bf5e),lastUserActionTime=Date[_0x8e06c3(0x163)]();let _0x57b166='–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20'+_0x45bf5e[_0x8e06c3(0xe1)];_0x51439d>0x0&&(_0x57b166+=_0x8e06c3(0x18b)+_0x51439d+')'),showToast(_0x57b166,!![]),afterSaveAction(_0x4463ff);}function updateSeriesBatch(_0x9a2b5,_0x47a56d){const _0x5827a1=a2_0x18b037,_0x29354c=[],_0xebb3cb=_0x47a56d[_0x5827a1(0x1e1)];if(_0x9a2b5===_0x5827a1(0x10d)){const _0x16d958={..._0x47a56d,'seriesId':null},_0x1ab916=sessions[_0x5827a1(0x215)](_0x14318a=>_0x14318a['id']===_0x47a56d['id']);if(_0x1ab916!==-0x1)sessions[_0x1ab916]=_0x16d958;_0x29354c[_0x5827a1(0x1c7)](_0x16d958['dateStr']);}else{if(_0x9a2b5===_0x5827a1(0xf5)){const _0x4f56e2=_0x47a56d[_0x5827a1(0x22d)];sessions['forEach']((_0x3b9412,_0x59b761)=>{const _0xea65ac=_0x5827a1;_0x3b9412[_0xea65ac(0x1e1)]===_0xebb3cb&&_0x3b9412[_0xea65ac(0x22d)]>=_0x4f56e2&&(sessions[_0x59b761]={...sessions[_0x59b761],'start':_0x47a56d[_0xea65ac(0x162)],'end':_0x47a56d[_0xea65ac(0xed)],'note':_0x47a56d[_0xea65ac(0x145)],'client':_0x47a56d['client'],'clientId':_0x47a56d[_0xea65ac(0x186)]},_0x29354c[_0xea65ac(0x1c7)](_0x3b9412[_0xea65ac(0x22d)]));});}}afterSaveAction(_0x29354c);}function tryDeleteSession(){const _0x4c5756=a2_0x18b037,_0x12f18e=sessions[_0x4c5756(0x110)](_0x57a7f5=>_0x57a7f5['id']===editingId);if(!_0x12f18e)return;_0x12f18e[_0x4c5756(0x1e1)]?openActionSheet('delete'):commitDelete('single',_0x12f18e);}function commitDelete(_0x120afa,_0x45364b){const _0x1c1973=a2_0x18b037;lastUserActionTime=Date[_0x1c1973(0x163)](),NotificationManager['send']('cancel',_0x45364b);const _0xf941c8=[];if(_0x120afa===_0x1c1973(0x10d))sessions=sessions['filter'](_0x4bed35=>_0x4bed35['id']!==_0x45364b['id']),_0xf941c8['push'](_0x45364b[_0x1c1973(0x22d)]);else{if(_0x120afa===_0x1c1973(0xf5)){const _0x4a474c=_0x45364b[_0x1c1973(0x22d)],_0x3b362b=_0x45364b[_0x1c1973(0x1e1)];sessions[_0x1c1973(0x1bb)](_0xf3c860=>{const _0x25b3c2=_0x1c1973;_0xf3c860['seriesId']===_0x3b362b&&_0xf3c860[_0x25b3c2(0x22d)]>=_0x4a474c&&_0xf941c8['push'](_0xf3c860['dateStr']);}),sessions=sessions[_0x1c1973(0xf9)](_0xa8b3b1=>!(_0xa8b3b1[_0x1c1973(0x1e1)]===_0x3b362b&&_0xa8b3b1[_0x1c1973(0x22d)]>=_0x4a474c));}}afterSaveAction(_0xf941c8);}function afterSaveAction(_0x46ac6e){const _0x341f88=a2_0x18b037;DataManager[_0x341f88(0x11a)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager['syncBatch'](_0x46ac6e)[_0x341f88(0x219)](()=>console[_0x341f88(0x22c)]('Batch\x20Sync\x20OK'))[_0x341f88(0x11b)](_0x1cbe56=>showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ',![]));}const NotificationManager={'formatDate'(_0x15debd){const _0x4d25d7=a2_0x18b037,_0x24fcf8=new Date(_0x15debd),_0x5898c0={'weekday':_0x4d25d7(0x1a7),'day':_0x4d25d7(0x100),'month':_0x4d25d7(0x1a7)};let _0x2416f9=_0x24fcf8[_0x4d25d7(0x1c2)]('ru-RU',_0x5898c0);return _0x2416f9['charAt'](0x0)[_0x4d25d7(0xf0)]()+_0x2416f9[_0x4d25d7(0x116)](0x1);},'getText'(_0x3b612e,_0x678f46){const _0x57a9e9=a2_0x18b037,_0x2f9ff2=this[_0x57a9e9(0x157)](_0x678f46['dateStr']);switch(_0x3b612e){case'create':return _0x57a9e9(0xfd)+(_0x57a9e9(0x1cb)+_0x2f9ff2+'\x0a')+(_0x57a9e9(0x153)+_0x678f46[_0x57a9e9(0x162)]+'\x20‚Äî\x20'+_0x678f46[_0x57a9e9(0xed)]+'\x0a\x0a')+_0x57a9e9(0x19e);case _0x57a9e9(0x216):return _0x57a9e9(0x214)+'–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a'+(_0x57a9e9(0x228)+_0x678f46[_0x57a9e9(0x162)]+'\x20‚Äî\x20'+_0x678f46[_0x57a9e9(0xed)]+_0x57a9e9(0x199))+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0x2f9ff2);case'cancel':return'<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a'+(_0x57a9e9(0xce)+_0x2f9ff2+'\x20('+_0x678f46[_0x57a9e9(0x162)]+_0x57a9e9(0x21c));case _0x57a9e9(0x1b0):return _0x57a9e9(0x19b)+_0x57a9e9(0x146)+_0x57a9e9(0x240);default:return'';}},async 'send'(_0x54129b,_0x43b758){const _0x2ee8d8=a2_0x18b037;console[_0x2ee8d8(0x22c)](_0x2ee8d8(0x19f),_0x54129b,_0x43b758);if(!_0x43b758){console['error'](_0x2ee8d8(0x1b3));return;}const _0x4c878e=String(_0x43b758[_0x2ee8d8(0x186)]);console[_0x2ee8d8(0x22c)]('[Notify]\x20Detected\x20Client\x20ID:',_0x4c878e);if(!_0x43b758[_0x2ee8d8(0x186)]||_0x4c878e===_0x2ee8d8(0xe2)||_0x4c878e===_0x2ee8d8(0x139)){console[_0x2ee8d8(0x221)](_0x2ee8d8(0x234));if(_0x43b758[_0x2ee8d8(0xf4)]){const _0x38036e=clients[_0x2ee8d8(0x110)](_0x310b02=>_0x310b02[_0x2ee8d8(0xe3)]===_0x43b758[_0x2ee8d8(0xf4)]);if(_0x38036e)return console[_0x2ee8d8(0x22c)]('[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:',_0x38036e['id']),this[_0x2ee8d8(0x21a)](_0x54129b,{..._0x43b758,'clientId':_0x38036e['id']});}return;}if(_0x4c878e[_0x2ee8d8(0xe1)]<0x5){console['warn'](_0x2ee8d8(0x217),_0x4c878e);return;}const _0x35cbd0=this[_0x2ee8d8(0x178)](_0x54129b,_0x43b758);if(!_0x35cbd0){console[_0x2ee8d8(0x221)](_0x2ee8d8(0xec));return;}console[_0x2ee8d8(0x22c)]('[Notify]\x20Sending\x20to\x20GAS\x20for\x20'+_0x4c878e+'...'),DataManager[_0x2ee8d8(0x1ee)](_0x2ee8d8(0x1ce),{'chatId':_0x4c878e,'text':_0x35cbd0})[_0x2ee8d8(0x219)](_0x7f6ee9=>console[_0x2ee8d8(0x22c)](_0x2ee8d8(0x1f6),_0x7f6ee9))[_0x2ee8d8(0x11b)](_0x9cb236=>console['error'](_0x2ee8d8(0x1f9),_0x9cb236));}};function getLocalDateStr(_0x192081){const _0x2318d6=a2_0x18b037,_0x564824=_0x192081[_0x2318d6(0x187)](),_0x229a9b=String(_0x192081[_0x2318d6(0x1ff)]()+0x1)[_0x2318d6(0x1ec)](0x2,'0'),_0x3310bc=String(_0x192081['getDate']())[_0x2318d6(0x1ec)](0x2,'0');return _0x564824+'-'+_0x229a9b+'-'+_0x3310bc;}function getDateStr(_0x586312){const _0x23ade7=a2_0x18b037,_0x2abb47=new Date();return _0x2abb47[_0x23ade7(0xd8)](_0x2abb47[_0x23ade7(0x13d)]()+_0x586312),getLocalDateStr(_0x2abb47);}function getStartOfWeek(_0xae3993){const _0x3926ff=a2_0x18b037,_0x28d829=new Date(_0xae3993),_0x238e1c=_0x28d829[_0x3926ff(0x1a2)](),_0x3769f7=_0x28d829['getDate']()-_0x238e1c+(_0x238e1c===0x0?-0x6:0x1);return _0x28d829[_0x3926ff(0xd8)](_0x3769f7),_0x28d829['setHours'](0x0,0x0,0x0,0x0),_0x28d829;}function a2_0x5c38(){const _0x3936bb=['patternInfoBox','map','blocked-range-part\x20stripe-bg','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','seriesId','264848IcyqlG','getItem','.dch-stats-fill','splice','strokeDashoffset','done',']\x20Failed:','sheetDateSubtitle','startsWith','rgba(255,255,255,0.05)','padStart','100%','fetchFromServer','batch_sync','sheetTitle','15546366kexcNq','...','var(--acc-current)','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','#fff','[Notify]\x20Server\x20Response:','getElementById','checked','[Notify]\x20Network\x20Failed','clients','color','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','sid','[Series]\x20Skipped\x20','getMonth','width','href','initDataUnsafe','total','3212390nTaeNe','innerHTML','block','insertBefore','sessionSheet','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','warning','text/plain;charset=UTF-8','init_load','rgba(255,\x20159,\x2010,\x200.3)','custom','settings','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','\x20status-completed','ranges','header-','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','findIndex','update','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','getTime','then','send','#0a84ff',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','inpClient','borderColor','mouseup','ru-RU','error','</div><div\x20class=\x22dch-num\x22>','inpNote','doLoadPercent','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','btn-primary\x20btn-secondary','style','<b>‚úÖ\x20','16DQFndC','firstChild','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','log','dateStr','random','div','inpStart','pe-col-header','mini','rgba(48,\x20209,\x2088,\x200.15)','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','scrollTop','calc(','data-day-idx','user','[API\x20','data','add','\x20-\x20','range-item','touchstart','mergeServerData','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','toastMessage','.day-off-overlay','overlay','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','onclick','rangesSheet','DOMContentLoaded','localeCompare','option','rangeEndTime','00:00','guest','Local\x20Load\x20Error','setDate','toFixed','borderRadius','disableVerticalSwipes','parse','apply','[Sync]\x20Loading\x20','display','top','length','undefined','name','client-stat-card','de-item','pattern','[Notify]\x20Client\x20SWAP\x20detected','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','setHeaderColor','addEventListener','#gridColumns\x20.day-column','[Notify]\x20Error:\x20Text\x20generation\x20failed','end','offClick','rgba(255,\x2069,\x2058,\x200.3)','toUpperCase','300543LcOFZg','split','syncLoad','client','series','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','anEnd','btnStatusToggle','filter','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','WebApp','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','uc_settings_cancel_window','max','numeric','getAttribute','toast','min','all','210xWjTBh','\x20‚Äî\x20','show','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','rgba(','day-col-header\x20','<div\x20class=\x22dch-day\x22>','scroll','single','indexOf','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','find','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','setHours','inpSeriesCount','slice','10px','colIndex','cancelled','saveLocally','catch','–£–¥–∞–ª–µ–Ω–∏–µ','active','clientWidth','POST','actionSheetOverlay','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','peGrid','constructor','background','save',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','create','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','touches','off','daysHeaderTrack','stat-','\x20–∏–∑\x20','uc_sessions_v9','414629YIzeYe','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','target','appendChild','px\x200px','seriesCountContainer','rgba(255,\x2069,\x2058,\x200.15)','asBtnSeries','matrixViewport','loadLocal','null','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','scrollLeft','setMonth','getDate','querySelectorAll','as-button\x20danger\x20bold','day-off-overlay\x20stripe-bg','#050505',':00','entries','asTitle','note','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','(((.+)+)+)+$','.period-switch\x20.p-btn','blocked-slot\x20stripe-bg','createElement','warn','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','ready','remove','.day-col-header','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','px\x20-','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','anCustomDates','querySelector','dayOptionsTitle','formatDate','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','getHours','toast-notification\x20','<div\x20class=\x22ev-title\x22>','borderLeftColor','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','2LkXRoW','btn-primary\x20btn-danger','dayOptionsSheet','stopPropagation','start','now','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','search','calendar','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','var(--acc-orange)','T00:00:00','anPercent','className','planned','event-card','22356rJkAey','uc_settings_v9','getMinutes','var(--acc-red)','patternEditor','statLoadCard','gridColumns','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','anStart','</span>\x20/\x20','getText','inpRecurring','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','settingCancelWindow','rangeEndDate','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','success','sort','touchend','from',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','actionSheet','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','clientId','getFullYear','charAt','doEventsList','3862998VZTaqe','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','floor','json','anTotalStats','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','exceptions','mousemove','rangesList','cancel_window','Unknown','round','data-date','timeLineBadge','toLocaleString','</b>\x0a\x0a','doWorkHours','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','setAttribute','\x20days','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','[Notify]\x20Attempting\x20to\x20send:','Local\x20Save\x20Error','today','getDay','setBackgroundColor','v9.0-BATCH-CALENDAR','doDateHeader','Telegram','long','router.html','settingsSheet','btn-status-toggle\x20undo-mode','completed','none','10px\x2010px\x200\x200','.sheet','keys','complete','valid','status','[Notify]\x20Error:\x20sessionData\x20is\x20null','inpEnd','rangeStartDate','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','isArray','49zPxqUc','flex','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','forEach','save_settings','Save\x20settings\x20error:','btnDelete','value','mousedown','inpDate','toLocaleDateString','week','setItem','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','var(--acc-green)','push','T23:59:59','classList','clientY','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','day-column\x20','backgroundPosition','send_notification','rgba(100,100,100,0.5)','recurringOptionContainer','pe-time-label','stringify','height','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','open','offsetLeft','pe-corner','toString','BackButton','offsetWidth','textContent','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏'];a2_0x5c38=function(){return _0x3936bb;};return a2_0x5c38();}function hexToRgba(_0x1e8507,_0x2e60d2){const _0x5c8dc8=a2_0x18b037;if(!_0x1e8507)return _0x5c8dc8(0x1cf);let _0x8fbf03=0x0,_0x3c9668=0x0,_0x142bb3=0x0;if(_0x1e8507['length']===0x4)_0x8fbf03='0x'+_0x1e8507[0x1]+_0x1e8507[0x1],_0x3c9668='0x'+_0x1e8507[0x2]+_0x1e8507[0x2],_0x142bb3='0x'+_0x1e8507[0x3]+_0x1e8507[0x3];else _0x1e8507[_0x5c8dc8(0xe1)]===0x7&&(_0x8fbf03='0x'+_0x1e8507[0x1]+_0x1e8507[0x2],_0x3c9668='0x'+_0x1e8507[0x3]+_0x1e8507[0x4],_0x142bb3='0x'+_0x1e8507[0x5]+_0x1e8507[0x6]);return _0x5c8dc8(0x109)+ +_0x8fbf03+',\x20'+ +_0x3c9668+',\x20'+ +_0x142bb3+',\x20'+_0x2e60d2+')';}function renderTimeColumn(){const _0x5d3943=a2_0x18b037,_0x30794a=document[_0x5d3943(0x1f7)]('timeColumn'),_0xdadf9e=document[_0x5d3943(0x1f7)](_0x5d3943(0x197));_0x30794a['innerHTML']='',_0x30794a[_0x5d3943(0x132)](_0xdadf9e);for(let _0x5dedec=0x0;_0x5dedec<0x18;_0x5dedec++){const _0x2d96bb=document[_0x5d3943(0x14b)](_0x5d3943(0x22f));_0x2d96bb[_0x5d3943(0x16b)]='time-label';if(_0x5dedec>0x0)_0x2d96bb[_0x5d3943(0x205)]='<span>'+String(_0x5dedec)[_0x5d3943(0x1ec)](0x2,'0')+':00</span>';_0x30794a['appendChild'](_0x2d96bb);}}function renderDayRange(_0xac0995,_0x253cc6){const _0xf0340b=a2_0x18b037,_0x26a80e=document[_0xf0340b(0x1f7)]('daysHeaderTrack'),_0x4e9bed=document['getElementById'](_0xf0340b(0x174)),_0x17b379=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x323e11=new Date();_0x323e11[_0xf0340b(0x114)](0x0,0x0,0x0,0x0);const _0x4a0792=getLocalDateStr(new Date());for(let _0x281f69=_0xac0995;_0x281f69<=_0x253cc6;_0x281f69++){const _0x1e6174=new Date(_0x323e11);_0x1e6174['setDate'](_0x1e6174[_0xf0340b(0x13d)]()+_0x281f69);const _0x27b722=getLocalDateStr(_0x1e6174);let _0x15fdb6=_0x1e6174[_0xf0340b(0x1a2)]()-0x1;if(_0x15fdb6===-0x1)_0x15fdb6=0x6;const _0x4adc1a=_0x27b722===_0x4a0792,_0xf219d2=document['createElement'](_0xf0340b(0x22f));_0xf219d2[_0xf0340b(0x16b)]=_0xf0340b(0x10a)+(_0x4adc1a?_0xf0340b(0x1a1):''),_0xf219d2['id']='header-'+_0x27b722,_0xf219d2[_0xf0340b(0x19c)](_0xf0340b(0x196),_0x27b722),_0xf219d2['innerHTML']=_0xf0340b(0x10b)+_0x17b379[_0x15fdb6]+_0xf0340b(0x222)+_0x1e6174[_0xf0340b(0x13d)]()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0x27b722+_0xf0340b(0x18f),_0xf219d2[_0xf0340b(0xcf)]=()=>openDayOptions(_0x27b722,_0x17b379[_0x15fdb6]+'\x20'+_0x1e6174[_0xf0340b(0x13d)]()),_0x26a80e[_0xf0340b(0x132)](_0xf219d2);const _0x22919f=document[_0xf0340b(0x14b)]('div');_0x22919f[_0xf0340b(0x16b)]=_0xf0340b(0x1cc)+(_0x4adc1a?_0xf0340b(0x1a1):''),_0x22919f[_0xf0340b(0x19c)]('data-date',_0x27b722),_0x22919f[_0xf0340b(0x19c)]('data-day-idx',_0x15fdb6),renderEventsForColumn(_0x22919f,_0x27b722,_0x15fdb6),attachLongPressHandler(_0x22919f,_0x1e6174),_0x4e9bed['appendChild'](_0x22919f),updateDayStats(_0x27b722);}}function reRenderBlocks(){const _0x420b88=a2_0x18b037;document['querySelectorAll'](_0x420b88(0xeb))[_0x420b88(0x1bb)](_0x39178d=>{const _0x59c899=_0x420b88;_0x39178d[_0x59c899(0x13e)]('.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card')['forEach'](_0x1ca20e=>_0x1ca20e[_0x59c899(0x14f)]());const _0x4e633f=_0x39178d['getAttribute'](_0x59c899(0x196)),_0x32175f=parseInt(_0x39178d[_0x59c899(0x101)](_0x59c899(0x237))),_0x4cad88=Math[_0x59c899(0x195)](_0x39178d['offsetLeft']);(availabilityPattern[_0x32175f]||[])[_0x59c899(0x1bb)](_0x9ceebe=>{const _0x43fc03=_0x59c899,_0x24f0f2=document[_0x43fc03(0x14b)](_0x43fc03(0x22f));_0x24f0f2[_0x43fc03(0x16b)]=_0x43fc03(0x14a);const _0x57991f=_0x9ceebe*GRID_H;_0x24f0f2[_0x43fc03(0x227)]['top']=_0x57991f+'px',_0x24f0f2[_0x43fc03(0x227)][_0x43fc03(0x1cd)]='-'+_0x4cad88+_0x43fc03(0x152)+_0x57991f+'px',_0x39178d[_0x43fc03(0x132)](_0x24f0f2);});if(specialRanges&&specialRanges[_0x59c899(0xe1)]>0x0){const _0xae2315=new Date(_0x4e633f+_0x59c899(0x169))['getTime'](),_0x48a983=new Date(_0x4e633f+_0x59c899(0x1c8))[_0x59c899(0x218)]();specialRanges[_0x59c899(0x1bb)](_0x5ebb1e=>{const _0x338cba=_0x59c899,_0x3c4b9c=new Date(_0x5ebb1e['start'])[_0x338cba(0x218)](),_0x5bd089=new Date(_0x5ebb1e[_0x338cba(0xed)])[_0x338cba(0x218)](),_0x4595d3=Math[_0x338cba(0xff)](_0xae2315,_0x3c4b9c),_0x520c63=Math['min'](_0x48a983,_0x5bd089);if(_0x4595d3<_0x520c63){if(_0x4595d3<=_0xae2315&&_0x520c63>=_0x48a983-0xea60){if(!_0x39178d['querySelector']('.day-off-overlay')){const _0x297fee=document[_0x338cba(0x14b)]('div');_0x297fee[_0x338cba(0x16b)]=_0x338cba(0x140),_0x297fee['style'][_0x338cba(0x1cd)]='-'+_0x4cad88+_0x338cba(0x133),_0x39178d[_0x338cba(0x132)](_0x297fee);}}else{const _0x179045=(_0x4595d3-_0xae2315)/0x36ee80*GRID_H,_0x9ea119=(_0x520c63-_0x4595d3)/0x36ee80*GRID_H,_0x4ed634=document[_0x338cba(0x14b)](_0x338cba(0x22f));_0x4ed634[_0x338cba(0x16b)]=_0x338cba(0x1df),_0x4ed634[_0x338cba(0x227)][_0x338cba(0xe0)]=_0x179045+'px',_0x4ed634['style'][_0x338cba(0x1d3)]=_0x9ea119+'px',_0x4ed634['style']['backgroundPosition']='-'+_0x4cad88+_0x338cba(0x152)+_0x179045+'px',_0x39178d['appendChild'](_0x4ed634);}}});}if(dateExceptions[_0x4e633f]===_0x59c899(0x12a)){if(!_0x39178d[_0x59c899(0x155)](_0x59c899(0xcc))){const _0x4a83ac=document['createElement'](_0x59c899(0x22f));_0x4a83ac[_0x59c899(0x16b)]=_0x59c899(0x140),_0x4a83ac[_0x59c899(0x227)][_0x59c899(0x1cd)]='-'+_0x4cad88+'px\x200px',_0x39178d['appendChild'](_0x4a83ac);}}renderEventsForColumn(_0x39178d,_0x4e633f,_0x32175f),updateDayStats(_0x4e633f);});}function updateAllDayStats(){const _0x3547c2=a2_0x18b037;document[_0x3547c2(0x13e)](_0x3547c2(0x150))[_0x3547c2(0x1bb)](_0x1a80ef=>{const _0x1dddc6=_0x3547c2;updateDayStats(_0x1a80ef[_0x1dddc6(0x101)](_0x1dddc6(0x196)));});}function updateDayStats(_0x123d54){const _0xa1de6a=a2_0x18b037,_0x29c504=document[_0xa1de6a(0x1f7)](_0xa1de6a(0x12c)+_0x123d54);if(!_0x29c504)return;const _0x250647=new Date(_0x123d54);let _0x5bcbe8=_0x250647[_0xa1de6a(0x1a2)]()-0x1;if(_0x5bcbe8===-0x1)_0x5bcbe8=0x6;if(dateExceptions[_0x123d54]==='off'){_0x29c504['style'][_0xa1de6a(0xdf)]='none';return;}const _0x2efd6b=availabilityPattern[_0x5bcbe8]||[],_0x1f45b6=0x18-_0x2efd6b[_0xa1de6a(0xe1)],_0x2d9750=_0x1f45b6*0x3c,_0x2828ae=sessions['filter'](_0x5e027c=>_0x5e027c[_0xa1de6a(0x22d)]===_0x123d54&&_0x5e027c[_0xa1de6a(0x1b2)]!==_0xa1de6a(0x119));if(_0x2828ae[_0xa1de6a(0xe1)]===0x0){_0x29c504['style']['display']='none';return;}let _0x285f8f=_0x2828ae[_0xa1de6a(0x1de)](_0x3ddf22=>{const _0x416028=_0xa1de6a,[_0x275718,_0x396a4c]=_0x3ddf22[_0x416028(0x162)][_0x416028(0xf2)](':')[_0x416028(0x1de)](Number),[_0xcba562,_0x53fa6b]=_0x3ddf22[_0x416028(0xed)]['split'](':')['map'](Number);return[_0x275718*0x3c+_0x396a4c,_0xcba562*0x3c+_0x53fa6b];});_0x285f8f[_0xa1de6a(0x17f)]((_0x1a8a45,_0xdceacd)=>_0x1a8a45[0x0]-_0xdceacd[0x0]);let _0x277451=[];if(_0x285f8f[_0xa1de6a(0xe1)]>0x0){let _0x16a1d8=_0x285f8f[0x0];for(let _0x1ed03f=0x1;_0x1ed03f<_0x285f8f[_0xa1de6a(0xe1)];_0x1ed03f++){_0x285f8f[_0x1ed03f][0x0]<_0x16a1d8[0x1]?_0x16a1d8[0x1]=Math[_0xa1de6a(0xff)](_0x16a1d8[0x1],_0x285f8f[_0x1ed03f][0x1]):(_0x277451[_0xa1de6a(0x1c7)](_0x16a1d8),_0x16a1d8=_0x285f8f[_0x1ed03f]);}_0x277451[_0xa1de6a(0x1c7)](_0x16a1d8);}let _0x359636=0x0;_0x277451[_0xa1de6a(0x1bb)](_0x3745d4=>_0x359636+=_0x3745d4[0x1]-_0x3745d4[0x0]),_0x29c504[_0xa1de6a(0x227)]['display']=_0xa1de6a(0x1b9);const _0x39198c=_0x29c504[_0xa1de6a(0x155)](_0xa1de6a(0x1e4));if(_0x2d9750===0x0){_0x39198c[_0xa1de6a(0x227)][_0xa1de6a(0x200)]='100%',_0x39198c[_0xa1de6a(0x227)][_0xa1de6a(0x124)]=_0xa1de6a(0x171);return;}const _0xa5e05e=_0x359636/_0x2d9750*0x64;console[_0xa1de6a(0x22c)]('['+_0x123d54+_0xa1de6a(0x182)+_0x1f45b6+_0xa1de6a(0x111)+_0x359636+'–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20'+_0xa5e05e[_0xa1de6a(0xd9)](0x1)+'%'),_0xa5e05e>0x64?(_0x39198c[_0xa1de6a(0x227)][_0xa1de6a(0x200)]=_0xa1de6a(0x1ed),_0x39198c['style'][_0xa1de6a(0x124)]='var(--acc-red)'):(_0x39198c['style'][_0xa1de6a(0x200)]=_0xa5e05e+'%',_0x39198c[_0xa1de6a(0x227)][_0xa1de6a(0x124)]=_0xa1de6a(0x1f3));}function renderEventsForColumn(_0x4593a8,_0x23f46a,_0x3333c6){const _0x5dde6e=a2_0x18b037,_0x3f12d2=sessions[_0x5dde6e(0xf9)](_0x4efbc3=>_0x4efbc3[_0x5dde6e(0x22d)]===_0x23f46a),_0x40f89f=_0x3f12d2[_0x5dde6e(0x1de)](_0x3d9dab=>{const _0x5f5d9e=_0x5dde6e,[_0x194b70,_0x12e3a6]=_0x3d9dab[_0x5f5d9e(0x162)]['split'](':')[_0x5f5d9e(0x1de)](Number),[_0x3d929a,_0x4b6936]=_0x3d9dab['end'][_0x5f5d9e(0xf2)](':')[_0x5f5d9e(0x1de)](Number);return{'data':_0x3d9dab,'start':_0x194b70*0x3c+_0x12e3a6,'end':_0x3d929a*0x3c+_0x4b6936,'colIndex':0x0};});_0x40f89f['sort']((_0x3ccee6,_0x1f4de0)=>{const _0x3dcfce=_0x5dde6e;if(_0x3ccee6['start']!==_0x1f4de0['start'])return _0x3ccee6[_0x3dcfce(0x162)]-_0x1f4de0['start'];return _0x1f4de0[_0x3dcfce(0xed)]-_0x1f4de0[_0x3dcfce(0x162)]-(_0x3ccee6[_0x3dcfce(0xed)]-_0x3ccee6[_0x3dcfce(0x162)]);});const _0x1a0f46=[];_0x40f89f[_0x5dde6e(0x1bb)](_0x105dc4=>{const _0x544ff0=_0x5dde6e;let _0x2968ef=![];for(let _0x5742ba=0x0;_0x5742ba<_0x1a0f46[_0x544ff0(0xe1)];_0x5742ba++){const _0x4a5ea2=_0x1a0f46[_0x5742ba],_0x1c868=_0x4a5ea2[_0x4a5ea2[_0x544ff0(0xe1)]-0x1];if(_0x105dc4[_0x544ff0(0x162)]>=_0x1c868[_0x544ff0(0xed)]){_0x4a5ea2['push'](_0x105dc4),_0x105dc4['colIndex']=_0x5742ba,_0x2968ef=!![];break;}}!_0x2968ef&&(_0x1a0f46[_0x544ff0(0x1c7)]([_0x105dc4]),_0x105dc4['colIndex']=_0x1a0f46[_0x544ff0(0xe1)]-0x1);}),_0x40f89f[_0x5dde6e(0x1bb)](_0x2348be=>{const _0xccc82a=_0x5dde6e;let _0x5b27e6=0x0;_0x40f89f[_0xccc82a(0x1bb)](_0x35b89b=>{const _0x236cd2=_0xccc82a;if(Math['max'](_0x2348be['start'],_0x35b89b[_0x236cd2(0x162)])<Math[_0x236cd2(0x103)](_0x2348be[_0x236cd2(0xed)],_0x35b89b[_0x236cd2(0xed)])){if(_0x35b89b['colIndex']>_0x5b27e6)_0x5b27e6=_0x35b89b[_0x236cd2(0x118)];}});const _0x31f570=_0x5b27e6+0x1,_0x4e03ee=0x64/_0x31f570,_0x4b7190=_0x2348be[_0xccc82a(0x118)]*_0x4e03ee,_0x24cf12=createEventEl(_0x2348be[_0xccc82a(0x23a)]);_0x24cf12[_0xccc82a(0x227)][_0xccc82a(0x200)]=_0xccc82a(0x236)+_0x4e03ee+'%\x20-\x204px)',_0x24cf12[_0xccc82a(0x227)]['left']=_0xccc82a(0x236)+_0x4b7190+'%\x20+\x202px)',_0x24cf12['style']['zIndex']=0xa+_0x2348be[_0xccc82a(0x118)],_0x4e03ee<0x55&&_0x24cf12[_0xccc82a(0x1c9)]['add'](_0xccc82a(0x232)),_0x4593a8[_0xccc82a(0x132)](_0x24cf12);});}function createEventEl(_0x20b294){const _0x5e7f67=a2_0x18b037,[_0x23adb7,_0x392aaf]=_0x20b294[_0x5e7f67(0x162)]['split'](':')['map'](Number),[_0x80dcd6,_0xbf0c7b]=_0x20b294[_0x5e7f67(0xed)][_0x5e7f67(0xf2)](':')[_0x5e7f67(0x1de)](Number),_0x4d1bdf=(_0x23adb7*0x3c+_0x392aaf)/0x3c*GRID_H,_0x3b6897=(_0x80dcd6*0x3c+_0xbf0c7b-(_0x23adb7*0x3c+_0x392aaf))/0x3c*GRID_H,_0x1e67c8=document['createElement'](_0x5e7f67(0x22f)),_0xd9bf4d=_0x20b294[_0x5e7f67(0x1b2)]==='completed'?_0x5e7f67(0x211):'';_0x1e67c8[_0x5e7f67(0x16b)]=_0x5e7f67(0x16d)+_0xd9bf4d,_0x1e67c8[_0x5e7f67(0x227)][_0x5e7f67(0xe0)]=_0x4d1bdf+'px',_0x1e67c8['style'][_0x5e7f67(0x1d3)]=Math[_0x5e7f67(0xff)](_0x3b6897,0x14)+'px';const _0x150694=clients[_0x5e7f67(0x110)](_0x5a4876=>_0x20b294[_0x5e7f67(0x186)]&&String(_0x5a4876['id'])===String(_0x20b294['clientId'])||_0x5a4876[_0x5e7f67(0xe3)]===_0x20b294[_0x5e7f67(0xf4)]),_0x1220a6=_0x150694?_0x150694[_0x5e7f67(0x1fb)]:_0x5e7f67(0x21b);_0x1e67c8[_0x5e7f67(0x227)][_0x5e7f67(0x15c)]=_0x1220a6,_0x1e67c8[_0x5e7f67(0x227)]['backgroundColor']=hexToRgba(_0x1220a6,0.85);let _0x1d28de=_0x5e7f67(0x15b)+_0x20b294['client']+'</div><div\x20class=\x22ev-time\x22>'+_0x20b294[_0x5e7f67(0x162)]+_0x5e7f67(0x23c)+_0x20b294[_0x5e7f67(0xed)]+'</div>';return _0x20b294[_0x5e7f67(0x1e1)]&&(_0x1d28de+=_0x5e7f67(0x14d)),_0x20b294[_0x5e7f67(0x1b2)]===_0x5e7f67(0x1ab)&&(_0x1d28de+=_0x5e7f67(0x151)),_0x1e67c8[_0x5e7f67(0x205)]=_0x1d28de,_0x1e67c8[_0x5e7f67(0xcf)]=_0x5d3d77=>{_0x5d3d77['stopPropagation'](),openEdit(_0x20b294);},_0x1e67c8;}function attachLongPressHandler(_0x39ab1d,_0x4aa32c){const _0x3cd292=a2_0x18b037;let _0x530d40=0x0,_0x1a4f5b=null;const _0x3d2575=_0x510c7c=>{const _0x1b408d=a2_0x9c58;if(_0x510c7c[_0x1b408d(0x131)]['closest']('.event-card'))return;isScrolling=![],_0x530d40=_0x510c7c[_0x1b408d(0x129)]?_0x510c7c[_0x1b408d(0x129)][0x0][_0x1b408d(0x1ca)]:_0x510c7c[_0x1b408d(0x1ca)],_0x1a4f5b=setTimeout(()=>{const _0x40ec89=_0x1b408d;if(!isScrolling){navigator['vibrate']?.(0x32);const _0x478477=_0x39ab1d['getBoundingClientRect'](),_0x3fbdba=Math[_0x40ec89(0x18c)]((_0x530d40-_0x478477[_0x40ec89(0xe0)])/GRID_H);_0x4aa32c['setHours'](_0x3fbdba,0x0),openAddSession(_0x4aa32c);}},0x1f4);},_0x22efe1=()=>{isScrolling=!![],clearTimeout(_0x1a4f5b);},_0x1cde68=()=>{clearTimeout(_0x1a4f5b);};_0x39ab1d[_0x3cd292(0xea)](_0x3cd292(0x23e),_0x3d2575,{'passive':!![]}),_0x39ab1d[_0x3cd292(0xea)]('touchmove',_0x22efe1,{'passive':!![]}),_0x39ab1d[_0x3cd292(0xea)](_0x3cd292(0x180),_0x1cde68),_0x39ab1d[_0x3cd292(0xea)](_0x3cd292(0x1c0),_0x3d2575),_0x39ab1d[_0x3cd292(0xea)](_0x3cd292(0x191),_0x22efe1),_0x39ab1d['addEventListener'](_0x3cd292(0x21f),_0x1cde68);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x50ff94=a2_0x18b037,_0x55bbd2=document[_0x50ff94(0x1f7)](_0x50ff94(0x137)),_0x6387e8=_0x55bbd2[_0x50ff94(0x13b)],_0x17e6c2=_0x55bbd2['scrollWidth'],_0x5f2885=_0x55bbd2[_0x50ff94(0x11e)];if(_0x17e6c2-(_0x6387e8+_0x5f2885)<0x12c){const _0x5e182d=endOffset;endOffset+=0xe,renderDayRange(_0x5e182d+0x1,endOffset),reRenderBlocks();}if(_0x6387e8<0x12c){const _0x5287ce=startOffset;startOffset-=0xe,prependDays(startOffset,_0x5287ce-0x1),_0x55bbd2[_0x50ff94(0x13b)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x37737c,_0x24ab48){const _0x4b52b1=a2_0x18b037,_0x4930fe=document[_0x4b52b1(0x1f7)](_0x4b52b1(0x12b)),_0xd68e26=document[_0x4b52b1(0x1f7)]('gridColumns'),_0x5e63cd=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x3c3604=new Date();_0x3c3604['setHours'](0x0,0x0,0x0,0x0);const _0x86d26=getLocalDateStr(new Date()),_0x163089=document['createDocumentFragment'](),_0x85f34b=document['createDocumentFragment']();for(let _0x13de53=_0x37737c;_0x13de53<=_0x24ab48;_0x13de53++){const _0xb873c8=new Date(_0x3c3604);_0xb873c8[_0x4b52b1(0xd8)](_0xb873c8[_0x4b52b1(0x13d)]()+_0x13de53);const _0x425f5c=getLocalDateStr(_0xb873c8);let _0x5f2664=_0xb873c8[_0x4b52b1(0x1a2)]()-0x1;if(_0x5f2664===-0x1)_0x5f2664=0x6;const _0x624cb0=_0x425f5c===_0x86d26,_0x2aa3ba=document[_0x4b52b1(0x14b)](_0x4b52b1(0x22f));_0x2aa3ba['className']=_0x4b52b1(0x10a)+(_0x624cb0?'today':''),_0x2aa3ba['id']=_0x4b52b1(0x213)+_0x425f5c,_0x2aa3ba[_0x4b52b1(0x19c)](_0x4b52b1(0x196),_0x425f5c),_0x2aa3ba[_0x4b52b1(0x205)]='<div\x20class=\x22dch-day\x22>'+_0x5e63cd[_0x5f2664]+'</div><div\x20class=\x22dch-num\x22>'+_0xb873c8[_0x4b52b1(0x13d)]()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0x425f5c+_0x4b52b1(0x18f),_0x2aa3ba[_0x4b52b1(0xcf)]=()=>openDayOptions(_0x425f5c,_0x5e63cd[_0x5f2664]+'\x20'+_0xb873c8['getDate']()),_0x163089[_0x4b52b1(0x132)](_0x2aa3ba);const _0x573f4d=document[_0x4b52b1(0x14b)](_0x4b52b1(0x22f));_0x573f4d[_0x4b52b1(0x16b)]='day-column\x20'+(_0x624cb0?_0x4b52b1(0x1a1):''),_0x573f4d['setAttribute'](_0x4b52b1(0x196),_0x425f5c),_0x573f4d['setAttribute'](_0x4b52b1(0x237),_0x5f2664),renderEventsForColumn(_0x573f4d,_0x425f5c,_0x5f2664),attachLongPressHandler(_0x573f4d,_0xb873c8),_0x85f34b[_0x4b52b1(0x132)](_0x573f4d),updateDayStats(_0x425f5c);}_0x4930fe['insertBefore'](_0x163089,_0x4930fe[_0x4b52b1(0x22a)]),_0xd68e26[_0x4b52b1(0x207)](_0x85f34b,_0xd68e26[_0x4b52b1(0x155)]('.day-column'));}function validateAppointment(_0x318205,_0x135392,_0x3a4eb2,_0x269da5,_0x2c09a0){const _0x188ecb=a2_0x18b037,[_0xc2a00,_0x5e61e8]=_0x135392[_0x188ecb(0xf2)](':')[_0x188ecb(0x1de)](Number),[_0x10f6d6,_0x192034]=_0x3a4eb2[_0x188ecb(0xf2)](':')[_0x188ecb(0x1de)](Number),_0x19f6de=_0xc2a00*0x3c+_0x5e61e8,_0x21bd99=_0x10f6d6*0x3c+_0x192034,_0x136e31=String(_0x2c09a0);let _0x5150f5=![],_0x3400eb='';for(let _0x461352 of sessions){if(_0x461352['dateStr']!==_0x318205)continue;if(_0x461352[_0x188ecb(0x1b2)]===_0x188ecb(0x119))continue;if(_0x269da5&&String(_0x461352['id'])===String(_0x269da5))continue;const [_0x64af9d,_0x5d69cb]=_0x461352['start'][_0x188ecb(0xf2)](':')[_0x188ecb(0x1de)](Number),[_0x2ad9e9,_0x2acdd8]=_0x461352[_0x188ecb(0xed)][_0x188ecb(0xf2)](':')[_0x188ecb(0x1de)](Number),_0x2f913c=_0x64af9d*0x3c+_0x5d69cb,_0x1ea2a4=_0x2ad9e9*0x3c+_0x2acdd8;if(Math[_0x188ecb(0xff)](_0x19f6de,_0x2f913c)<Math[_0x188ecb(0x103)](_0x21bd99,_0x1ea2a4)){if(_0x461352['clientId']&&String(_0x461352['clientId'])===_0x136e31)return{'valid':![],'msg':_0x188ecb(0x225)+_0x461352[_0x188ecb(0xf4)]+_0x188ecb(0x185)};_0x5150f5=!![],_0x3400eb=_0x461352[_0x188ecb(0xf4)];}}if(_0x5150f5)return{'valid':!![],'warning':_0x188ecb(0x164)+_0x3400eb};return{'valid':!![]};}function updateDateDisplay(){const _0x4990cb=a2_0x18b037,_0x48232d=document['getElementById']('inpDate')['value'],_0x2f34fa=document['getElementById'](_0x4990cb(0x1e9));if(!_0x48232d){_0x2f34fa[_0x4990cb(0x1db)]='';return;}const [_0x5e25cd,_0x29f835,_0xd3aa14]=_0x48232d['split']('-')[_0x4990cb(0x1de)](Number),_0x2263a0=new Date(_0x5e25cd,_0x29f835-0x1,_0xd3aa14),_0x11c0f5={'weekday':'long','day':_0x4990cb(0x100),'month':_0x4990cb(0x1a7),'year':_0x4990cb(0x100)};let _0x3571fe=_0x2263a0[_0x4990cb(0x1c2)](_0x4990cb(0x220),_0x11c0f5);_0x3571fe=_0x3571fe[_0x4990cb(0x188)](0x0)[_0x4990cb(0xf0)]()+_0x3571fe[_0x4990cb(0x116)](0x1),_0x2f34fa[_0x4990cb(0x1db)]=_0x3571fe;}function autoSetEndTime(){const _0x13a179=a2_0x18b037,_0x1a005e=document[_0x13a179(0x1f7)](_0x13a179(0x230))['value'];if(!_0x1a005e)return;const [_0x1ba8ce,_0x218107]=_0x1a005e[_0x13a179(0xf2)](':')[_0x13a179(0x1de)](Number);let _0x4d96fd=_0x1ba8ce+0x1;if(_0x4d96fd>0x17)_0x4d96fd=0x0;const _0x123e49=String(_0x4d96fd)['padStart'](0x2,'0')+':'+String(_0x218107)[_0x13a179(0x1ec)](0x2,'0');document['getElementById'](_0x13a179(0x1b4))[_0x13a179(0x1bf)]=_0x123e49;}function populateClientSelect(){const _0x33678f=a2_0x18b037,_0x27794e=document[_0x33678f(0x1f7)]('inpClient');_0x27794e[_0x33678f(0x205)]='';if(clients['length']===0x0){const _0x1cf87e=document[_0x33678f(0x14b)](_0x33678f(0xd3));_0x1cf87e['text']=_0x33678f(0x17d),_0x27794e['appendChild'](_0x1cf87e);return;}clients['forEach'](_0x4c8a68=>{const _0x5d2ebc=_0x33678f,_0x54350d=document[_0x5d2ebc(0x14b)](_0x5d2ebc(0xd3));_0x54350d[_0x5d2ebc(0x1bf)]=_0x4c8a68['name'],_0x54350d[_0x5d2ebc(0x1db)]=_0x4c8a68[_0x5d2ebc(0xe3)],_0x27794e[_0x5d2ebc(0x132)](_0x54350d);});}function openActionSheet(_0x7ab8ab){const _0x3775f1=a2_0x18b037,_0x9a3fab=document[_0x3775f1(0x1f7)](_0x3775f1(0x183)),_0x4572d9=document[_0x3775f1(0x1f7)](_0x3775f1(0x120)),_0x938473=document[_0x3775f1(0x1f7)](_0x3775f1(0x144)),_0x37de72=document['getElementById']('asBtnOne'),_0x295758=document[_0x3775f1(0x1f7)](_0x3775f1(0x136));_0x4572d9[_0x3775f1(0x1c9)]['add'](_0x3775f1(0x11d)),_0x9a3fab[_0x3775f1(0x1c9)][_0x3775f1(0x23b)](_0x3775f1(0x1d5));if(_0x7ab8ab===_0x3775f1(0x125))_0x938473[_0x3775f1(0x1db)]=_0x3775f1(0x210),_0x37de72[_0x3775f1(0x1db)]='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x37de72['onclick']=()=>{const _0x19e19f=_0x3775f1;closeActionSheet(),updateSeriesBatch(_0x19e19f(0x10d),tempSessionData);},_0x295758[_0x3775f1(0x1db)]=_0x3775f1(0x17a),_0x295758[_0x3775f1(0xcf)]=()=>{const _0x19df47=_0x3775f1;closeActionSheet(),updateSeriesBatch(_0x19df47(0xf5),tempSessionData);};else _0x7ab8ab==='delete'&&(_0x938473[_0x3775f1(0x1db)]=_0x3775f1(0x11c),_0x37de72[_0x3775f1(0x1db)]='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x37de72['className']='as-button\x20danger',_0x37de72['onclick']=()=>{const _0x352e62=_0x3775f1;closeActionSheet(),commitDelete(_0x352e62(0x10d),sessions[_0x352e62(0x110)](_0x1fb311=>_0x1fb311['id']===editingId));},_0x295758[_0x3775f1(0x1db)]=_0x3775f1(0x17a),_0x295758[_0x3775f1(0x16b)]=_0x3775f1(0x13f),_0x295758[_0x3775f1(0xcf)]=()=>{const _0x1b4c6a=_0x3775f1;closeActionSheet(),commitDelete(_0x1b4c6a(0xf5),sessions[_0x1b4c6a(0x110)](_0x20a3c8=>_0x20a3c8['id']===editingId));});}function closeActionSheet(){const _0x5d55c8=a2_0x18b037;document['getElementById'](_0x5d55c8(0x183))[_0x5d55c8(0x1c9)][_0x5d55c8(0x14f)](_0x5d55c8(0x1d5)),document[_0x5d55c8(0x1f7)](_0x5d55c8(0x120))[_0x5d55c8(0x1c9)][_0x5d55c8(0x14f)](_0x5d55c8(0x11d));}function openSettings(){const _0x3b3dfb=a2_0x18b037;openSheet(_0x3b3dfb(0x1a9));}function a2_0x9c58(_0x5ac8f1,_0x59a478){_0x5ac8f1=_0x5ac8f1-0xcc;const _0x26bb2f=a2_0x5c38();let _0x1d80a2=_0x26bb2f[_0x5ac8f1];return _0x1d80a2;}function saveCoachSettings(){const _0x267127=a2_0x18b037,_0x22ca73=document[_0x267127(0x1f7)]('settingCancelWindow')['value'];localStorage[_0x267127(0x1c4)](_0x267127(0xfe),_0x22ca73),console[_0x267127(0x22c)]('[Settings]\x20Cancel\x20window\x20set\x20to:',_0x22ca73),DataManager[_0x267127(0x1ee)](_0x267127(0x1bc),{'settings':{'cancel_window':_0x22ca73}})[_0x267127(0x11b)](_0x776a17=>{const _0x147ba6=_0x267127;console[_0x147ba6(0x221)](_0x147ba6(0x1bd),_0x776a17),showToast(_0x147ba6(0x1f4),![]);});}function loadCoachSettings(){const _0x85f09d=a2_0x18b037,_0x34f67e=localStorage[_0x85f09d(0x1e3)](_0x85f09d(0xfe));_0x34f67e&&(document[_0x85f09d(0x1f7)]('settingCancelWindow')[_0x85f09d(0x1bf)]=_0x34f67e);}function openRangesSheet(){const _0x227c75=a2_0x18b037;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x227c75(0xd0));}function addRange(){const _0x5364e4=a2_0x18b037,_0x8f5027=document[_0x5364e4(0x1f7)](_0x5364e4(0x1b5))[_0x5364e4(0x1bf)],_0x37cf=document[_0x5364e4(0x1f7)]('rangeStartTime')[_0x5364e4(0x1bf)],_0x303c7d=document[_0x5364e4(0x1f7)]('rangeEndDate')['value'],_0x33f374=document['getElementById']('rangeEndTime')[_0x5364e4(0x1bf)];if(!_0x8f5027||!_0x37cf||!_0x303c7d||!_0x33f374)return alert(_0x5364e4(0x13a));const _0x191bd2=_0x8f5027+'T'+_0x37cf,_0x3aa3cd=_0x303c7d+'T'+_0x33f374;if(_0x191bd2>=_0x3aa3cd)return alert('–û—à–∏–±–∫–∞\x20–¥–∞—Ç');specialRanges[_0x5364e4(0x1c7)]({'start':_0x191bd2,'end':_0x3aa3cd}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x5364e4(0x1ee)](_0x5364e4(0x1bc),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x3cb868){const _0x5426cc=a2_0x18b037;specialRanges[_0x5426cc(0x1e5)](_0x3cb868,0x1),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x5426cc(0x1ee)](_0x5426cc(0x1bc),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x310e76=a2_0x18b037;document['getElementById'](_0x310e76(0x1b5))['value']='',document[_0x310e76(0x1f7)]('rangeStartTime')['value']=_0x310e76(0xd5),document['getElementById'](_0x310e76(0x17c))[_0x310e76(0x1bf)]='',document[_0x310e76(0x1f7)](_0x310e76(0xd4))[_0x310e76(0x1bf)]='23:59';}function renderRangesList(){const _0x35aa93=a2_0x18b037,_0x154692=document[_0x35aa93(0x1f7)](_0x35aa93(0x192));_0x154692['innerHTML']='';if(!specialRanges['length']){_0x154692[_0x35aa93(0x205)]='<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>';return;}specialRanges['forEach']((_0x53b2c8,_0x5341e9)=>{const _0x3053cb=_0x35aa93,_0x34b5f5=document[_0x3053cb(0x14b)](_0x3053cb(0x22f));_0x34b5f5[_0x3053cb(0x16b)]=_0x3053cb(0x23d);const _0x42a4a1=_0x24a702=>{const _0x5564f7=_0x3053cb,_0x2ed647=new Date(_0x24a702);return _0x2ed647[_0x5564f7(0x13d)]()+'.'+String(_0x2ed647['getMonth']()+0x1)['padStart'](0x2,'0')+'\x20'+String(_0x2ed647[_0x5564f7(0x159)]())[_0x5564f7(0x1ec)](0x2,'0')+':'+String(_0x2ed647[_0x5564f7(0x170)]())[_0x5564f7(0x1ec)](0x2,'0');};_0x34b5f5[_0x3053cb(0x205)]=_0x3053cb(0x1d4)+_0x42a4a1(_0x53b2c8[_0x3053cb(0x162)])+_0x3053cb(0x106)+_0x42a4a1(_0x53b2c8['end'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange('+_0x5341e9+_0x3053cb(0x126),_0x154692[_0x3053cb(0x132)](_0x34b5f5);});}function scrollToToday(){const _0x52813c=a2_0x18b037,_0x4a0785=getLocalDateStr(new Date()),_0x2e7245=document[_0x52813c(0x1f7)](_0x52813c(0x213)+_0x4a0785),_0x3690c6=document[_0x52813c(0x1f7)](_0x52813c(0x137));if(_0x2e7245&&_0x3690c6){const _0x1c319d=_0x3690c6['clientWidth'],_0x504624=_0x2e7245['offsetLeft'],_0x224fad=_0x2e7245[_0x52813c(0x1da)];_0x3690c6[_0x52813c(0x13b)]=_0x504624-_0x1c319d/0x2+_0x224fad/0x2,_0x3690c6[_0x52813c(0x235)]=0x9*GRID_H;}}function onScroll(){const _0x4aa4ea=a2_0x18b037,_0x1b406f=document[_0x4aa4ea(0x1f7)]('matrixViewport'),_0x59dc70=document[_0x4aa4ea(0x13e)]('.day-col-header');for(let _0x558140 of _0x59dc70)if(_0x558140['offsetLeft']>=_0x1b406f[_0x4aa4ea(0x13b)]){const _0xeb4b25=new Date(_0x558140['getAttribute']('data-date'));document[_0x4aa4ea(0x1f7)]('headerMonth')['textContent']=_0xeb4b25[_0x4aa4ea(0x198)]('ru',{'month':_0x4aa4ea(0x1a7)})[_0x4aa4ea(0xf0)]()+'\x20'+_0xeb4b25['getFullYear']();break;}}function showToast(_0x2cc990,_0x4b243a=![]){const _0x1bf88c=a2_0x18b037,_0x36f9e8=document[_0x1bf88c(0x1f7)](_0x1bf88c(0x102));_0x36f9e8['className']=_0x1bf88c(0x15a)+(_0x4b243a?_0x1bf88c(0x17e):''),document['getElementById']('toastTitle')[_0x1bf88c(0x1db)]=_0x4b243a?'–£—Å–ø–µ—à–Ω–æ':'–ò–Ω—Ñ–æ',document[_0x1bf88c(0x1f7)](_0x1bf88c(0x241))[_0x1bf88c(0x1db)]=_0x2cc990,_0x36f9e8[_0x1bf88c(0x1c9)][_0x1bf88c(0x23b)](_0x1bf88c(0x107)),setTimeout(()=>{const _0x30f119=_0x1bf88c;_0x36f9e8[_0x30f119(0x1c9)]['remove'](_0x30f119(0x107));},0xbb8);}function openDayOptions(_0x487182,_0x51f2a8){const _0x529861=a2_0x18b037;selectedDayForOptions=_0x487182,document[_0x529861(0x1f7)](_0x529861(0x156))[_0x529861(0x1db)]=_0x51f2a8,openSheet(_0x529861(0x160));}function toggleDayOff(){const _0xb8b1c2=a2_0x18b037;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0xb8b1c2(0x12a),reRenderBlocks(),closeAllSheets(),DataManager[_0xb8b1c2(0x11a)](),DataManager['fetchFromServer']('save_settings',{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x5c5b66=a2_0x18b037;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager['fetchFromServer'](_0x5c5b66(0x1bc),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x352595){const _0xa3db2f=a2_0x18b037;document[_0xa3db2f(0x1f7)](_0xa3db2f(0xcd))['classList'][_0xa3db2f(0x23b)]('active'),document[_0xa3db2f(0x1f7)](_0x352595)[_0xa3db2f(0x1c9)][_0xa3db2f(0x23b)](_0xa3db2f(0x1d5));}function closeAllSheets(){const _0x63f8da=a2_0x18b037;document[_0x63f8da(0x1f7)](_0x63f8da(0xcd))[_0x63f8da(0x1c9)][_0x63f8da(0x14f)](_0x63f8da(0x11d)),document[_0x63f8da(0x13e)](_0x63f8da(0x1ae))[_0x63f8da(0x1bb)](_0xdf6ea6=>_0xdf6ea6['classList'][_0x63f8da(0x14f)](_0x63f8da(0x1d5)));}function openPatternEditor(){const _0x240a63=a2_0x18b037;closeAllSheets(),document['getElementById']('patternEditor')['classList'][_0x240a63(0x23b)](_0x240a63(0x1d5)),renderPatternEditor();}function closePatternEditor(){const _0x63366b=a2_0x18b037;document[_0x63366b(0x1f7)](_0x63366b(0x172))[_0x63366b(0x1c9)][_0x63366b(0x14f)](_0x63366b(0x1d5));}function savePattern(){const _0x53bf87=a2_0x18b037;document['getElementById']('patternEditor')[_0x53bf87(0x1c9)][_0x53bf87(0x14f)](_0x53bf87(0x1d5)),reRenderBlocks(),DataManager[_0x53bf87(0x11a)](),DataManager[_0x53bf87(0x1ee)]('save_settings',{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x424fda=a2_0x18b037,_0x4826bf=document[_0x424fda(0x1f7)](_0x424fda(0x122));_0x4826bf[_0x424fda(0x205)]='';const _0x48596c=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x52202b=document[_0x424fda(0x14b)](_0x424fda(0x22f));_0x52202b[_0x424fda(0x16b)]=_0x424fda(0x1d7),_0x4826bf[_0x424fda(0x132)](_0x52202b),_0x48596c[_0x424fda(0x1bb)]((_0x160eeb,_0x552da5)=>{const _0x46da73=_0x424fda,_0x1e5ac1=document[_0x46da73(0x14b)](_0x46da73(0x22f));_0x1e5ac1[_0x46da73(0x16b)]=_0x46da73(0x231),_0x1e5ac1[_0x46da73(0x205)]=_0x160eeb+'\x20<span\x20class=\x22arrow\x22>‚Üì</span>',_0x1e5ac1[_0x46da73(0xcf)]=()=>toggleColPattern(_0x552da5),_0x4826bf['appendChild'](_0x1e5ac1);});for(let _0x4a1d46=0x0;_0x4a1d46<0x18;_0x4a1d46++){const _0x1ca616=document['createElement'](_0x424fda(0x22f));_0x1ca616[_0x424fda(0x16b)]=_0x424fda(0x1d1),_0x1ca616[_0x424fda(0x205)]=_0x424fda(0x175)+String(_0x4a1d46)[_0x424fda(0x1ec)](0x2,'0')+_0x424fda(0x142),_0x1ca616[_0x424fda(0xcf)]=()=>toggleRowPattern(_0x4a1d46),_0x4826bf[_0x424fda(0x132)](_0x1ca616);for(let _0x15588b=0x0;_0x15588b<0x7;_0x15588b++){const _0x4418db=document[_0x424fda(0x14b)](_0x424fda(0x22f)),_0x2d60c6=(availabilityPattern[_0x15588b]||[])['includes'](_0x4a1d46),_0x4b9c46=!_0x2d60c6;_0x4418db[_0x424fda(0x16b)]='pe-cell\x20'+(_0x4b9c46?_0x424fda(0x11d):''),_0x4418db[_0x424fda(0xcf)]=()=>toggleSinglePattern(_0x15588b,_0x4a1d46),_0x4826bf['appendChild'](_0x4418db);}}}function toggleSinglePattern(_0x211173,_0x18752f){const _0x13a68d=a2_0x18b037;if(!availabilityPattern[_0x211173])availabilityPattern[_0x211173]=[];const _0x2956e0=availabilityPattern[_0x211173],_0x2d2ff0=_0x2956e0[_0x13a68d(0x10e)](_0x18752f);_0x2d2ff0===-0x1?_0x2956e0[_0x13a68d(0x1c7)](_0x18752f):_0x2956e0[_0x13a68d(0x1e5)](_0x2d2ff0,0x1),renderPatternEditor();}function toggleColPattern(_0x56be89){const _0xf80bcc=a2_0x18b037;if(!availabilityPattern[_0x56be89])availabilityPattern[_0x56be89]=[];const _0x303a38=availabilityPattern[_0x56be89];_0x303a38[_0xf80bcc(0xe1)]===0x0?availabilityPattern[_0x56be89]=Array[_0xf80bcc(0x181)]({'length':0x18},(_0x4de501,_0x35df9a)=>_0x35df9a):availabilityPattern[_0x56be89]=[],renderPatternEditor();}function toggleRowPattern(_0xe353fc){const _0x1cd6ab=a2_0x18b037;let _0x38ae0b=!![];for(let _0x1b1627=0x0;_0x1b1627<0x7;_0x1b1627++){if((availabilityPattern[_0x1b1627]||[])['includes'](_0xe353fc)){_0x38ae0b=![];break;}}for(let _0x576d81=0x0;_0x576d81<0x7;_0x576d81++){if(!availabilityPattern[_0x576d81])availabilityPattern[_0x576d81]=[];const _0x17b024=availabilityPattern[_0x576d81]['indexOf'](_0xe353fc);if(_0x38ae0b){if(_0x17b024===-0x1)availabilityPattern[_0x576d81][_0x1cd6ab(0x1c7)](_0xe353fc);}else{if(_0x17b024!==-0x1)availabilityPattern[_0x576d81][_0x1cd6ab(0x1e5)](_0x17b024,0x1);}}renderPatternEditor();}function renderPCol(_0x3a2f50,_0x442e7f){const _0x2f0a20=a2_0x18b037;_0x3a2f50[_0x2f0a20(0x205)]='';const _0x45b569=Math[_0x2f0a20(0x195)](_0x3a2f50[_0x2f0a20(0x1d6)]);(availabilityPattern[_0x442e7f]||[])['forEach'](_0x58e11b=>{const _0x155003=_0x2f0a20,_0x355fe=document[_0x155003(0x14b)](_0x155003(0x22f));_0x355fe[_0x155003(0x16b)]=_0x155003(0x14a);const _0x261de6=_0x58e11b*GRID_H;_0x355fe[_0x155003(0x227)]['top']=_0x261de6+'px',_0x355fe[_0x155003(0x227)][_0x155003(0x1cd)]='-'+_0x45b569+_0x155003(0x152)+_0x261de6+'px',_0x355fe[_0x155003(0xcf)]=_0x45df76=>{const _0x5e68d9=_0x155003;_0x45df76[_0x5e68d9(0x161)](),toggleSinglePattern(_0x442e7f,_0x58e11b);},_0x3a2f50[_0x155003(0x132)](_0x355fe);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x4ed14f=a2_0x18b037,_0x398be9=new Date(),_0x319c07=document[_0x4ed14f(0x1f7)]('globalTimeLine'),_0x438cfe=document[_0x4ed14f(0x1f7)](_0x4ed14f(0x197)),_0x347d9b=(_0x398be9[_0x4ed14f(0x159)]()*0x3c+_0x398be9[_0x4ed14f(0x170)]())/0x3c*GRID_H;_0x319c07[_0x4ed14f(0x227)][_0x4ed14f(0xe0)]=_0x347d9b+'px',_0x319c07['style'][_0x4ed14f(0xdf)]='block',_0x438cfe[_0x4ed14f(0x1db)]=String(_0x398be9[_0x4ed14f(0x159)]())['padStart'](0x2,'0')+':'+String(_0x398be9[_0x4ed14f(0x170)]())[_0x4ed14f(0x1ec)](0x2,'0'),_0x438cfe[_0x4ed14f(0x227)][_0x4ed14f(0xdf)]=_0x4ed14f(0x206),_0x438cfe[_0x4ed14f(0x227)][_0x4ed14f(0xe0)]=_0x347d9b+'px';}document['addEventListener'](a2_0x18b037(0xd1),init);function openDayOptions(_0x5b6a45){const _0x25d8da=a2_0x18b037;selectedDayForOptions=_0x5b6a45;const _0xd1e9e8=new Date(_0x5b6a45),_0x2153ba={'weekday':'long','day':_0x25d8da(0x100),'month':_0x25d8da(0x1a7),'year':'numeric'},_0x3d0a1c=_0xd1e9e8['toLocaleDateString']('ru-RU',_0x2153ba);document[_0x25d8da(0x1f7)](_0x25d8da(0x1a5))[_0x25d8da(0x1db)]=_0x3d0a1c[_0x25d8da(0x188)](0x0)[_0x25d8da(0xf0)]()+_0x3d0a1c['slice'](0x1);let _0x62a8b=_0xd1e9e8['getDay']()-0x1;if(_0x62a8b===-0x1)_0x62a8b=0x6;const _0x2dff9f=availabilityPattern[_0x62a8b]||[],_0x44e446=0x18-_0x2dff9f[_0x25d8da(0xe1)],_0x7e4d4b=_0x44e446*0x3c,_0x250cf1=sessions[_0x25d8da(0xf9)](_0x31dad2=>_0x31dad2[_0x25d8da(0x22d)]===_0x5b6a45&&_0x31dad2['status']!==_0x25d8da(0x119));let _0x5e7196=_0x250cf1[_0x25d8da(0x1de)](_0x2f68d9=>{const _0x2e1e57=_0x25d8da,[_0x258692,_0x500cb6]=_0x2f68d9[_0x2e1e57(0x162)]['split'](':')[_0x2e1e57(0x1de)](Number),[_0x145923,_0x1ee3ed]=_0x2f68d9['end']['split'](':')[_0x2e1e57(0x1de)](Number);return[_0x258692*0x3c+_0x500cb6,_0x145923*0x3c+_0x1ee3ed];});_0x5e7196[_0x25d8da(0x17f)]((_0x2774a7,_0x5349cf)=>_0x2774a7[0x0]-_0x5349cf[0x0]);let _0x67259b=[];if(_0x5e7196[_0x25d8da(0xe1)]>0x0){let _0x34272b=_0x5e7196[0x0];for(let _0x49080b=0x1;_0x49080b<_0x5e7196[_0x25d8da(0xe1)];_0x49080b++){_0x5e7196[_0x49080b][0x0]<_0x34272b[0x1]?_0x34272b[0x1]=Math[_0x25d8da(0xff)](_0x34272b[0x1],_0x5e7196[_0x49080b][0x1]):(_0x67259b[_0x25d8da(0x1c7)](_0x34272b),_0x34272b=_0x5e7196[_0x49080b]);}_0x67259b[_0x25d8da(0x1c7)](_0x34272b);}let _0x5bbad1=0x0;_0x67259b[_0x25d8da(0x1bb)](_0x58d7e2=>_0x5bbad1+=_0x58d7e2[0x1]-_0x58d7e2[0x0]),document[_0x25d8da(0x1f7)](_0x25d8da(0x19a))['textContent']=formatMinsToHrs(_0x7e4d4b),document[_0x25d8da(0x1f7)]('doBusyHours')['textContent']=formatMinsToHrs(_0x5bbad1);const _0xfa6a53=_0x7e4d4b>0x0?Math['round'](_0x5bbad1/_0x7e4d4b*0x64):0x0,_0x5d9daf=document[_0x25d8da(0x1f7)](_0x25d8da(0x224));_0x5d9daf[_0x25d8da(0x1db)]=_0xfa6a53+'%';const _0x4e2fcb=document[_0x25d8da(0x1f7)](_0x25d8da(0x173));if(_0xfa6a53>0x64)_0x5d9daf[_0x25d8da(0x227)]['color']=_0x25d8da(0x171),_0x4e2fcb['style'][_0x25d8da(0x21e)]=_0x25d8da(0xef);else _0xfa6a53>0x50?(_0x5d9daf[_0x25d8da(0x227)][_0x25d8da(0x1fb)]=_0x25d8da(0x168),_0x4e2fcb[_0x25d8da(0x227)][_0x25d8da(0x21e)]=_0x25d8da(0x20d)):(_0x5d9daf[_0x25d8da(0x227)][_0x25d8da(0x1fb)]='var(--acc-green)',_0x4e2fcb[_0x25d8da(0x227)][_0x25d8da(0x21e)]=_0x25d8da(0x1eb));const _0x274c38=document[_0x25d8da(0x1f7)](_0x25d8da(0x189));_0x274c38[_0x25d8da(0x205)]='';_0x250cf1['length']===0x0?_0x274c38[_0x25d8da(0x205)]='<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>':(_0x250cf1[_0x25d8da(0x17f)]((_0x5ded2b,_0x37c9de)=>_0x5ded2b[_0x25d8da(0x162)][_0x25d8da(0xd2)](_0x37c9de[_0x25d8da(0x162)])),_0x250cf1[_0x25d8da(0x1bb)](_0x571a3b=>{const _0x4ca5d4=_0x25d8da,_0x48d625=clients['find'](_0x524934=>_0x524934[_0x4ca5d4(0xe3)]===_0x571a3b['client']),_0x5a4bf1=_0x48d625?_0x48d625[_0x4ca5d4(0x1fb)]:_0x4ca5d4(0x1f5),_0x178925=_0x571a3b[_0x4ca5d4(0x1b2)]===_0x4ca5d4(0x1ab),_0x40731d=_0x178925?_0x4ca5d4(0x209):'',_0xa2b14f=document[_0x4ca5d4(0x14b)](_0x4ca5d4(0x22f));_0xa2b14f[_0x4ca5d4(0x16b)]=_0x4ca5d4(0xe5),_0xa2b14f['style'][_0x4ca5d4(0x15c)]=_0x5a4bf1,_0xa2b14f[_0x4ca5d4(0x205)]=_0x4ca5d4(0x184)+_0x571a3b['start']+'\x20-\x20'+_0x571a3b['end']+_0x4ca5d4(0x130)+_0x571a3b[_0x4ca5d4(0xf4)]+_0x4ca5d4(0x1c5)+_0x40731d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x274c38[_0x4ca5d4(0x132)](_0xa2b14f);}));const _0x4edecc=document['getElementById']('btnDayToggle'),_0x355297=dateExceptions[_0x5b6a45]===_0x25d8da(0x12a);_0x355297?(_0x4edecc[_0x25d8da(0x1db)]='–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º',_0x4edecc[_0x25d8da(0x16b)]=_0x25d8da(0x226),_0x4edecc['style'][_0x25d8da(0x1fb)]=_0x25d8da(0x1c6),_0x4edecc[_0x25d8da(0x227)][_0x25d8da(0x124)]=_0x25d8da(0x233)):(_0x4edecc[_0x25d8da(0x1db)]=_0x25d8da(0x128),_0x4edecc[_0x25d8da(0x16b)]=_0x25d8da(0x15f),_0x4edecc[_0x25d8da(0x227)][_0x25d8da(0x1fb)]=_0x25d8da(0x171),_0x4edecc['style'][_0x25d8da(0x124)]=_0x25d8da(0x135)),openSheet('dayOptionsSheet');}let currentAnPeriod=a2_0x18b037(0x1c3);function openAnalytics(){const _0x554290=a2_0x18b037,_0x3ff9bf=document[_0x554290(0x155)](_0x554290(0x149));setAnalyticsPeriod(_0x554290(0x1c3),_0x3ff9bf),closeAllSheets(),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x344ea1,_0x17c5f6){const _0x5c00e6=a2_0x18b037;currentAnPeriod=_0x344ea1,document[_0x5c00e6(0x13e)](_0x5c00e6(0x149))[_0x5c00e6(0x1bb)](_0x25475e=>_0x25475e[_0x5c00e6(0x1c9)]['remove'](_0x5c00e6(0x11d)));if(_0x17c5f6)_0x17c5f6[_0x5c00e6(0x1c9)][_0x5c00e6(0x23b)](_0x5c00e6(0x11d));const _0x1043d1=document[_0x5c00e6(0x1f7)](_0x5c00e6(0x154));_0x1043d1[_0x5c00e6(0x227)][_0x5c00e6(0xdf)]=_0x344ea1===_0x5c00e6(0x20e)?_0x5c00e6(0x1b9):_0x5c00e6(0x1ac);const _0x2217e0=new Date();let _0x2199b1=new Date(),_0x3b8790=new Date();if(_0x344ea1==='week')_0x2199b1=getStartOfWeek(_0x2217e0),_0x3b8790=new Date(_0x2199b1),_0x3b8790[_0x5c00e6(0xd8)](_0x3b8790[_0x5c00e6(0x13d)]()+0x6);else{if(_0x344ea1==='month')_0x2199b1=new Date(_0x2217e0[_0x5c00e6(0x187)](),_0x2217e0['getMonth'](),0x1),_0x3b8790=new Date(_0x2217e0[_0x5c00e6(0x187)](),_0x2217e0[_0x5c00e6(0x1ff)]()+0x1,0x0);else{!document[_0x5c00e6(0x1f7)](_0x5c00e6(0x176))['value']&&(document[_0x5c00e6(0x1f7)](_0x5c00e6(0x176))['value']=getLocalDateStr(_0x2217e0),document[_0x5c00e6(0x1f7)](_0x5c00e6(0xf7))[_0x5c00e6(0x1bf)]=getLocalDateStr(_0x2217e0));refreshAnalytics();return;}}document['getElementById']('anStart')[_0x5c00e6(0x1bf)]=getLocalDateStr(_0x2199b1),document[_0x5c00e6(0x1f7)](_0x5c00e6(0xf7))[_0x5c00e6(0x1bf)]=getLocalDateStr(_0x3b8790),refreshAnalytics();}function refreshAnalytics(){const _0x5056e3=a2_0x18b037,_0x4a1e3a=document[_0x5056e3(0x1f7)](_0x5056e3(0x176))[_0x5056e3(0x1bf)],_0x5724bc=document['getElementById'](_0x5056e3(0xf7))['value'];if(!_0x4a1e3a||!_0x5724bc)return;const _0x111dd5=sessions[_0x5056e3(0xf9)](_0x5ad9ac=>_0x5ad9ac['dateStr']>=_0x4a1e3a&&_0x5ad9ac[_0x5056e3(0x22d)]<=_0x5724bc&&_0x5ad9ac[_0x5056e3(0x1b2)]!==_0x5056e3(0x119)),_0x57ad2c=_0x111dd5['length'],_0x4a3af8=_0x111dd5[_0x5056e3(0xf9)](_0x2c07db=>_0x2c07db[_0x5056e3(0x1b2)]===_0x5056e3(0x1ab))[_0x5056e3(0xe1)],_0x1a7f93=_0x57ad2c>0x0?Math[_0x5056e3(0x195)](_0x4a3af8/_0x57ad2c*0x64):0x0;document['getElementById'](_0x5056e3(0x16a))[_0x5056e3(0x1db)]=_0x1a7f93+'%',document['getElementById'](_0x5056e3(0x18e))[_0x5056e3(0x1db)]=_0x4a3af8+_0x5056e3(0x12d)+_0x57ad2c+_0x5056e3(0x158);const _0x30d792=document[_0x5056e3(0x1f7)]('anDonutCircle'),_0xa5e336=0x2*Math['PI']*0x23,_0xd276f5=_0xa5e336-_0x1a7f93/0x64*_0xa5e336;_0x30d792[_0x5056e3(0x227)][_0x5056e3(0x1e6)]=_0xd276f5;const _0x10560e={};_0x111dd5['forEach'](_0x3d5560=>{const _0x50922f=_0x5056e3;if(!_0x10560e[_0x3d5560[_0x50922f(0xf4)]]){const _0x34703e=clients[_0x50922f(0x110)](_0x5d0238=>_0x5d0238[_0x50922f(0xe3)]===_0x3d5560[_0x50922f(0xf4)]);_0x10560e[_0x3d5560['client']]={'total':0x0,'done':0x0,'color':_0x34703e?_0x34703e[_0x50922f(0x1fb)]:_0x50922f(0x1f5)};}_0x10560e[_0x3d5560[_0x50922f(0xf4)]][_0x50922f(0x203)]++;if(_0x3d5560[_0x50922f(0x1b2)]===_0x50922f(0x1ab))_0x10560e[_0x3d5560[_0x50922f(0xf4)]]['done']++;});const _0x494d2c=document['getElementById']('analyticsList');_0x494d2c[_0x5056e3(0x205)]='';const _0x49fc7f=Object[_0x5056e3(0x143)](_0x10560e)['sort']((_0xce5a26,_0x344ffa)=>_0x344ffa[0x1]['total']-_0xce5a26[0x1][_0x5056e3(0x203)]);if(_0x49fc7f[_0x5056e3(0xe1)]===0x0){_0x494d2c[_0x5056e3(0x205)]=_0x5056e3(0x112);return;}_0x49fc7f['forEach'](([_0x5cac87,_0x214c14])=>{const _0x4d61a0=_0x5056e3,_0x503177=Math[_0x4d61a0(0x195)](_0x214c14[_0x4d61a0(0x1e7)]/_0x214c14[_0x4d61a0(0x203)]*0x64),_0x27049d=document[_0x4d61a0(0x14b)](_0x4d61a0(0x22f));_0x27049d[_0x4d61a0(0x16b)]=_0x4d61a0(0xe4),_0x27049d[_0x4d61a0(0x227)]['borderLeftColor']=_0x214c14[_0x4d61a0(0x1fb)],_0x27049d[_0x4d61a0(0x205)]=_0x4d61a0(0xf6)+_0x5cac87+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x214c14[_0x4d61a0(0x1e7)]+_0x4d61a0(0x177)+_0x214c14[_0x4d61a0(0x203)]+_0x4d61a0(0x108)+_0x503177+_0x4d61a0(0xe8),_0x494d2c[_0x4d61a0(0x132)](_0x27049d);});}function formatMinsToHrs(_0x519e7a){const _0x59cb78=a2_0x18b037;if(_0x519e7a===0x0)return'0';const _0x3b893d=Math[_0x59cb78(0x18c)](_0x519e7a/0x3c),_0x2cb233=_0x519e7a%0x3c;if(_0x2cb233===0x0)return _0x3b893d+'—á';return _0x3b893d+'—á\x20'+_0x2cb233+'–º';}