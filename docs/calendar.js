const a2_0x2e7e88=a2_0x383e;(function(_0x1b26db,_0x109fe9){const _0x2da181=a2_0x383e,_0x2704a6=_0x1b26db();while(!![]){try{const _0x20a701=parseInt(_0x2da181(0x1ee))/0x1*(parseInt(_0x2da181(0x1d6))/0x2)+parseInt(_0x2da181(0x1c2))/0x3+parseInt(_0x2da181(0x197))/0x4*(parseInt(_0x2da181(0xbb))/0x5)+-parseInt(_0x2da181(0xd1))/0x6*(-parseInt(_0x2da181(0x1f7))/0x7)+-parseInt(_0x2da181(0x12c))/0x8*(-parseInt(_0x2da181(0xc5))/0x9)+parseInt(_0x2da181(0x1e2))/0xa+-parseInt(_0x2da181(0xe8))/0xb*(parseInt(_0x2da181(0x1a9))/0xc);if(_0x20a701===_0x109fe9)break;else _0x2704a6['push'](_0x2704a6['shift']());}catch(_0x3e1d7d){_0x2704a6['push'](_0x2704a6['shift']());}}}(a2_0x1267,0x3b867),function initTMA(){const _0x57a83a=a2_0x383e,_0x5d468a=(function(){let _0x4bd57b=!![];return function(_0x402224,_0x40e3d6){const _0x5d232b=_0x4bd57b?function(){const _0x5e5d68=a2_0x383e;if(_0x40e3d6){const _0x3d6ccc=_0x40e3d6[_0x5e5d68(0x1d0)](_0x402224,arguments);return _0x40e3d6=null,_0x3d6ccc;}}:function(){};return _0x4bd57b=![],_0x5d232b;};}()),_0x12a5b3=_0x5d468a(this,function(){const _0x53ef27=a2_0x383e;return _0x12a5b3[_0x53ef27(0x1ec)]()['search'](_0x53ef27(0x19e))['toString']()[_0x53ef27(0x113)](_0x12a5b3)[_0x53ef27(0x15a)](_0x53ef27(0x19e));});_0x12a5b3();try{const _0x53167b=window['Telegram']?.[_0x57a83a(0x139)];if(!_0x53167b)return;_0x53167b[_0x57a83a(0xce)](),_0x53167b[_0x57a83a(0x130)]();try{_0x53167b['setHeaderColor'](_0x57a83a(0x1d4)),_0x53167b[_0x57a83a(0x199)]&&_0x53167b[_0x57a83a(0x199)]('#050505');}catch(_0x1056ff){console[_0x57a83a(0x114)](_0x57a83a(0x1eb),_0x1056ff);}try{_0x53167b['BackButton']&&(_0x53167b[_0x57a83a(0xd9)][_0x57a83a(0x163)](),_0x53167b['BackButton'][_0x57a83a(0x108)](),_0x53167b[_0x57a83a(0xd9)]['onClick'](function(){const _0x35a4ed=_0x57a83a;window['location'][_0x35a4ed(0x1ed)]=_0x35a4ed(0x201);}));}catch(_0x244646){console[_0x57a83a(0x114)](_0x57a83a(0xfb),_0x244646);}try{if(_0x53167b['disableVerticalSwipes'])_0x53167b['disableVerticalSwipes']();}catch(_0x460fdc){}}catch(_0x2f826a){console[_0x57a83a(0x1c9)]('Critical\x20TMA\x20Error:',_0x2f826a);}}());function isAdmin(){const _0x5acf5b=a2_0x383e;try{const _0x677550=Number(window[_0x5acf5b(0x169)]?.[_0x5acf5b(0x139)]?.[_0x5acf5b(0x125)]?.['user']?.['id']);return _0x677550===0xbaf7174;}catch(_0x522427){return![];}}const APP_VERSION=a2_0x2e7e88(0xb8),API_URL='https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec',GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x2e7e88(0x1a8),KEY_SESSIONS=a2_0x2e7e88(0x19f),KEY_SETTINGS='uc_settings_v9';let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x24e611=a2_0x2e7e88;return window[_0x24e611(0x169)]?.['WebApp']?.['initDataUnsafe']?.[_0x24e611(0x16c)]?.['id']||_0x24e611(0x1a2);},'saveLocally'(){const _0x18e87f=a2_0x2e7e88;try{localStorage['setItem'](KEY_CLIENTS,JSON[_0x18e87f(0x14a)](clients)),localStorage[_0x18e87f(0xf1)](KEY_SESSIONS,JSON[_0x18e87f(0x14a)](sessions)),localStorage[_0x18e87f(0xf1)](KEY_SETTINGS,JSON[_0x18e87f(0x14a)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x76ee5){console['error']('Local\x20Save\x20Error',_0x76ee5);}},'loadLocal'(){const _0x480767=a2_0x2e7e88;try{const _0x5661a7=localStorage['getItem'](KEY_CLIENTS);if(_0x5661a7)clients=JSON[_0x480767(0x17c)](_0x5661a7);const _0x1afa32=localStorage[_0x480767(0x1e4)](KEY_SESSIONS);if(_0x1afa32)sessions=JSON[_0x480767(0x17c)](_0x1afa32);const _0x2f33fb=localStorage[_0x480767(0x1e4)](KEY_SETTINGS);if(_0x2f33fb){const _0x59efae=JSON[_0x480767(0x17c)](_0x2f33fb);if(_0x59efae[_0x480767(0x1d3)])availabilityPattern=_0x59efae[_0x480767(0x1d3)];if(_0x59efae[_0x480767(0x13c)])dateExceptions=_0x59efae['exceptions'];if(_0x59efae[_0x480767(0x1cf)])specialRanges=_0x59efae['ranges'];}else{for(let _0x198fe3=0x0;_0x198fe3<0x7;_0x198fe3++)availabilityPattern[_0x198fe3]=Array[_0x480767(0x12e)]({'length':0xc},(_0x5bed3c,_0x2106ff)=>_0x2106ff+0x9);}}catch(_0x222bcc){console[_0x480767(0x1c9)]('Local\x20Load\x20Error',_0x222bcc);}},async 'fetchFromServer'(_0x50b081,_0x1e8122={}){const _0x5a97a9=a2_0x2e7e88,_0x625f7=window[_0x5a97a9(0x169)]?.['WebApp'],_0x26d442={'action':_0x50b081,'init_data':_0x625f7?.[_0x5a97a9(0x20e)]||'',..._0x1e8122};try{const _0x24df71=await fetch(API_URL,{'method':_0x5a97a9(0x1f2),'headers':{'Content-Type':_0x5a97a9(0x1ea)},'body':JSON[_0x5a97a9(0x14a)](_0x26d442)}),_0x6d076b=await _0x24df71[_0x5a97a9(0xa2)]();if(!_0x6d076b['ok'])throw new Error(_0x6d076b[_0x5a97a9(0x1c9)]||_0x5a97a9(0xca));return _0x6d076b[_0x5a97a9(0x183)];}catch(_0x30535b){console[_0x5a97a9(0x1c9)](_0x5a97a9(0xd6)+_0x50b081+_0x5a97a9(0x112),_0x30535b);throw _0x30535b;}},async 'syncLoad'(){const _0x10ed0d=a2_0x2e7e88,_0x470c34=new Date(),_0x45de08=_0x470c34[_0x10ed0d(0x1c7)]()+'-'+String(_0x470c34[_0x10ed0d(0x1cc)]()+0x1)[_0x10ed0d(0x1cd)](0x2,'0'),_0x27eac2=new Date(_0x470c34);_0x27eac2[_0x10ed0d(0x13d)](_0x470c34[_0x10ed0d(0x1cc)]()+0x1);const _0x296777=_0x27eac2[_0x10ed0d(0x1c7)]()+'-'+String(_0x27eac2[_0x10ed0d(0x1cc)]()+0x1)[_0x10ed0d(0x1cd)](0x2,'0'),_0x1b70a7=Date[_0x10ed0d(0x110)]();console[_0x10ed0d(0x114)]('[Sync]\x20Loading\x20'+_0x45de08+',\x20'+_0x296777+_0x10ed0d(0x151));try{const [_0x12ad51,_0x35b74c]=await Promise[_0x10ed0d(0x124)]([this['fetchFromServer'](_0x10ed0d(0x1e0),{'month_str':_0x45de08}),this['fetchFromServer'](_0x10ed0d(0x1e0),{'month_str':_0x296777})]);if(lastUserActionTime>_0x1b70a7)return console[_0x10ed0d(0x117)](_0x10ed0d(0xc1)),![];return this['mergeServerData'](_0x12ad51,_0x45de08),this[_0x10ed0d(0x194)](_0x35b74c,_0x296777),this['saveLocally'](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x2f26dd){console['error'](_0x2f26dd);throw _0x2f26dd;}},'mergeServerData'(_0x227790,_0xd58776){const _0x1a79cf=a2_0x2e7e88;if(!_0x227790)return;_0x227790[_0x1a79cf(0xb7)]&&Array['isArray'](_0x227790[_0x1a79cf(0xb7)])&&(clients=_0x227790[_0x1a79cf(0xb7)]);if(_0x227790[_0x1a79cf(0x144)]){if(_0x227790[_0x1a79cf(0x144)][_0x1a79cf(0x1d3)])availabilityPattern=_0x227790['settings']['pattern'];if(_0x227790[_0x1a79cf(0x144)][_0x1a79cf(0x13c)])dateExceptions=_0x227790['settings'][_0x1a79cf(0x13c)];if(_0x227790[_0x1a79cf(0x144)][_0x1a79cf(0x1cf)])specialRanges=_0x227790[_0x1a79cf(0x144)][_0x1a79cf(0x1cf)];if(_0x227790[_0x1a79cf(0x144)]['cancel_window']){localStorage[_0x1a79cf(0xf1)](_0x1a79cf(0xb2),_0x227790['settings'][_0x1a79cf(0x136)]);const _0x3704d1=document[_0x1a79cf(0x188)](_0x1a79cf(0x1ef));if(_0x3704d1)_0x3704d1[_0x1a79cf(0x1fa)]=_0x227790['settings'][_0x1a79cf(0x136)];}}_0x227790['calendar']&&(sessions=sessions[_0x1a79cf(0xcb)](_0x2f3eec=>!_0x2f3eec['dateStr'][_0x1a79cf(0xbf)](_0xd58776)),Object['keys'](_0x227790['calendar'])['forEach'](_0x1b1d1b=>{const _0x28585b=_0x1a79cf,_0x4569fa=_0x227790[_0x28585b(0xe1)][_0x1b1d1b];_0x4569fa[_0x28585b(0x1c3)](_0x469fb8=>{const _0x40abe=_0x28585b,_0x1b2755=clients[_0x40abe(0x179)](_0xdd63c5=>String(_0xdd63c5['id'])===String(_0x469fb8['c']));sessions['push']({'id':_0x469fb8['i'],'clientId':_0x469fb8['c'],'client':_0x1b2755?_0x1b2755[_0x40abe(0xc4)]:'Unknown','dateStr':_0xd58776+'-'+_0x1b1d1b['padStart'](0x2,'0'),'start':_0x469fb8['s'],'end':_0x469fb8['e'],'status':_0x469fb8['st']||_0x40abe(0x11f),'note':_0x469fb8['n']||'','seriesId':_0x469fb8['sid']||null});});}));},async 'syncBatch'(_0x3cdffe){const _0x205cdd=a2_0x2e7e88,_0x28cdf0=[...new Set(_0x3cdffe)],_0x520658=_0x28cdf0[_0x205cdd(0x210)](_0x1fdee0=>{const _0x3cc10e=_0x205cdd,_0x1ca7b3=sessions[_0x3cc10e(0xcb)](_0x10ac13=>_0x10ac13[_0x3cc10e(0x1b1)]===_0x1fdee0&&_0x10ac13[_0x3cc10e(0xc9)]!==_0x3cc10e(0x1d2)),_0x3c30ba=_0x1ca7b3[_0x3cc10e(0x210)](_0x278644=>({'i':_0x278644['id'],'c':_0x278644[_0x3cc10e(0x1f0)],'s':_0x278644[_0x3cc10e(0xc3)],'e':_0x278644[_0x3cc10e(0x104)],'st':_0x278644['status'],'n':_0x278644[_0x3cc10e(0x1fe)],'sid':_0x278644[_0x3cc10e(0x18e)]}));return{'date':_0x1fdee0,'day_data':_0x3c30ba};});if(_0x520658[_0x205cdd(0x208)]===0x0)return;console[_0x205cdd(0x114)](_0x205cdd(0x9e)+_0x520658[_0x205cdd(0x208)]+_0x205cdd(0x1de)),await this[_0x205cdd(0xc0)]('batch_sync',{'changes':_0x520658});}};async function init(){const _0x129ac1=a2_0x2e7e88;DataManager['loadLocal'](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x129ac1(0x188)](_0x129ac1(0xb1))[_0x129ac1(0x174)](_0x129ac1(0x18b),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']()[_0x129ac1(0x18c)](()=>{showToast('–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ',!![]);})[_0x129ac1(0xb6)](_0x467680=>{const _0x41cd8f=_0x129ac1;showToast(_0x41cd8f(0x168),![]);});}function generateId(){const _0x2e5edc=a2_0x2e7e88;return Date[_0x2e5edc(0x110)]()[_0x2e5edc(0x1ec)](0x24)+Math[_0x2e5edc(0xf6)]()[_0x2e5edc(0x1ec)](0x24)[_0x2e5edc(0x157)](0x2,0x5);}function toggleSeriesInput(){const _0x208910=a2_0x2e7e88,_0x1ba451=document[_0x208910(0x188)](_0x208910(0x12a))['checked'],_0x5d13c=document[_0x208910(0x188)](_0x208910(0x1d7));_0x5d13c['style']['display']=_0x1ba451?_0x208910(0x1d1):_0x208910(0x118);const _0x1d0642=document['getElementById'](_0x208910(0x17b));_0x1d0642[_0x208910(0xe5)]['borderRadius']=_0x1ba451?_0x208910(0x1e6):_0x208910(0x1e9);}function openAddSession(_0x4f5e5a){const _0x294045=a2_0x2e7e88;editingId=null,populateClientSelect(),document[_0x294045(0x188)](_0x294045(0x1b7))[_0x294045(0x173)]=_0x294045(0x1bd),document[_0x294045(0x188)](_0x294045(0x135))[_0x294045(0xe5)][_0x294045(0x165)]=_0x294045(0x118),document[_0x294045(0x188)](_0x294045(0x133))[_0x294045(0xe5)]['display']=_0x294045(0x118);const _0x3b359b=document[_0x294045(0x188)]('recurringOptionContainer'),_0x45056a=document['getElementById'](_0x294045(0x1d7));_0x3b359b[_0x294045(0xe5)]['display']=_0x294045(0x16f),_0x3b359b[_0x294045(0xe5)][_0x294045(0x159)]=_0x294045(0x1e9),document[_0x294045(0x188)](_0x294045(0x12a))[_0x294045(0x14b)]=![],document[_0x294045(0x188)](_0x294045(0xa0))[_0x294045(0x1fa)]=0x4,_0x45056a[_0x294045(0xe5)][_0x294045(0x165)]=_0x294045(0x118),document[_0x294045(0x188)](_0x294045(0x19a))[_0x294045(0x1fa)]=getLocalDateStr(_0x4f5e5a),updateDateDisplay();const _0x29ec73=_0x4f5e5a[_0x294045(0xf4)]();document[_0x294045(0x188)](_0x294045(0xc6))[_0x294045(0x1fa)]=String(_0x29ec73)['padStart'](0x2,'0')+_0x294045(0xa1),document[_0x294045(0x188)](_0x294045(0x1af))[_0x294045(0x1fa)]=String(_0x29ec73+0x1)['padStart'](0x2,'0')+_0x294045(0xa1),openSheet(_0x294045(0x1f4));}function openEdit(_0x1cdd57){const _0x329329=a2_0x2e7e88;editingId=_0x1cdd57['id'],populateClientSelect(),document['getElementById'](_0x329329(0x1b7))[_0x329329(0x173)]='–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å',document[_0x329329(0x188)](_0x329329(0x135))[_0x329329(0xe5)][_0x329329(0x165)]=_0x329329(0x1d1);const _0x3c0535=document['getElementById'](_0x329329(0x133));_0x3c0535['style'][_0x329329(0x165)]=_0x329329(0x16f);_0x1cdd57[_0x329329(0xc9)]===_0x329329(0x1a1)?(_0x3c0535['className']=_0x329329(0xff),_0x3c0535[_0x329329(0x164)]=_0x329329(0x1db)):(_0x3c0535['className']=_0x329329(0xcc),_0x3c0535['innerHTML']=_0x329329(0x1b9));const _0x4dd0c3=!!_0x1cdd57[_0x329329(0x18e)];document[_0x329329(0x188)](_0x329329(0x17b))[_0x329329(0xe5)][_0x329329(0x165)]=_0x329329(0x118),document['getElementById'](_0x329329(0x1d7))[_0x329329(0xe5)]['display']=_0x329329(0x118),_0x4dd0c3?(document[_0x329329(0x188)](_0x329329(0x10f))[_0x329329(0xe5)][_0x329329(0x165)]=_0x329329(0x16f),document['getElementById'](_0x329329(0x10f))[_0x329329(0xf0)]('.pib-text')[_0x329329(0x173)]=_0x329329(0x161)):document[_0x329329(0x188)](_0x329329(0x10f))[_0x329329(0xe5)]['display']=_0x329329(0x118),document['getElementById']('inpClient')['value']=_0x1cdd57[_0x329329(0x200)],document[_0x329329(0x188)](_0x329329(0x19a))[_0x329329(0x1fa)]=_0x1cdd57['dateStr'],document[_0x329329(0x188)]('inpStart')[_0x329329(0x1fa)]=_0x1cdd57[_0x329329(0xc3)],document['getElementById'](_0x329329(0x1af))['value']=_0x1cdd57['end'],document['getElementById'](_0x329329(0x203))['value']=_0x1cdd57[_0x329329(0x1fe)]||'',updateDateDisplay(),openSheet(_0x329329(0x1f4));}async function trySaveSession(){const _0x342b6e=a2_0x2e7e88,_0x57ccdb=document[_0x342b6e(0x188)](_0x342b6e(0xe7))[_0x342b6e(0x1fa)],_0x8e6602=document[_0x342b6e(0x188)]('inpDate')[_0x342b6e(0x1fa)],_0x34e36d=document['getElementById'](_0x342b6e(0xc6))[_0x342b6e(0x1fa)],_0x1e9352=document[_0x342b6e(0x188)](_0x342b6e(0x1af))[_0x342b6e(0x1fa)],_0x387950=document[_0x342b6e(0x188)](_0x342b6e(0x203))[_0x342b6e(0x1fa)],_0x179295=document['getElementById'](_0x342b6e(0x12a))['checked'];let _0x323cdb=0x4;if(_0x179295){const _0x33b361=parseInt(document[_0x342b6e(0x188)]('inpSeriesCount')[_0x342b6e(0x1fa)]);if(!_0x33b361||_0x33b361<0x2){showToast('–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏',![]);return;}if(_0x33b361>0x64){showToast(_0x342b6e(0x1b5),![]);return;}_0x323cdb=_0x33b361;}const _0x26071e=clients[_0x342b6e(0x179)](_0x199797=>_0x199797[_0x342b6e(0xc4)]===_0x57ccdb);if(!_0x26071e){showToast('–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞',![]);return;}const _0xe61317=validateAppointment(_0x8e6602,_0x34e36d,_0x1e9352,editingId,_0x26071e['id']);if(!_0xe61317[_0x342b6e(0xad)]){showToast(_0xe61317[_0x342b6e(0xe0)],![]);return;}_0xe61317[_0x342b6e(0xf8)]&&showToast(_0xe61317[_0x342b6e(0xf8)],![]);const _0x4064c0={'client':_0x57ccdb,'clientId':_0x26071e['id'],'start':_0x34e36d,'end':_0x1e9352,'note':_0x387950,'status':'planned'},_0x168fb3=editingId?sessions['find'](_0x825e7b=>_0x825e7b['id']===editingId):null;if(_0x168fb3&&_0x168fb3[_0x342b6e(0x18e)]){tempSessionData={..._0x4064c0,'dateStr':_0x8e6602,'id':editingId,'seriesId':_0x168fb3[_0x342b6e(0x18e)]},openActionSheet('save');return;}let _0x234663=null;if(!editingId)_0x234663=_0x342b6e(0x1bb);else{if(_0x168fb3){if(String(_0x168fb3['clientId'])!==String(_0x26071e['id']))console['log'](_0x342b6e(0x138)),NotificationManager['send']('cancel',_0x168fb3),_0x234663=_0x342b6e(0x1bb);else(_0x168fb3[_0x342b6e(0xc3)]!==_0x34e36d||_0x168fb3[_0x342b6e(0x104)]!==_0x1e9352||_0x168fb3['dateStr']!==_0x8e6602)&&(_0x234663=_0x342b6e(0x1f9));}}if(!editingId&&_0x179295){createBatchSeries(_0x4064c0,_0x8e6602,_0x323cdb),NotificationManager[_0x342b6e(0x131)]('create',{..._0x4064c0,'dateStr':_0x8e6602});return;}lastUserActionTime=Date['now']();const _0x5c0b96={..._0x4064c0,'dateStr':_0x8e6602,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x5c0b96),_0x234663&&NotificationManager[_0x342b6e(0x131)](_0x234663,_0x5c0b96);}function toggleSessionStatus(){const _0x4b04e1=a2_0x2e7e88;lastUserActionTime=Date[_0x4b04e1(0x110)]();const _0x55f2a8=sessions[_0x4b04e1(0x179)](_0x25bdd5=>_0x25bdd5['id']===editingId);if(!_0x55f2a8)return;const _0x171605=_0x55f2a8[_0x4b04e1(0xc9)]===_0x4b04e1(0x1a1)?_0x4b04e1(0x11f):_0x4b04e1(0x1a1);_0x55f2a8[_0x4b04e1(0xc9)]=_0x171605,saveSingleSession(_0x55f2a8),_0x171605===_0x4b04e1(0x1a1)&&NotificationManager['send'](_0x4b04e1(0x1f6),_0x55f2a8),showToast(_0x171605==='completed'?_0x4b04e1(0x13e):_0x4b04e1(0x186),!![]);}function validateAppointment(_0x4bad2a,_0xa4589a,_0x9214c3,_0xe0965b,_0x44d69a){const _0x94882a=a2_0x2e7e88,[_0x342271,_0x59d809]=_0xa4589a['split'](':')[_0x94882a(0x210)](Number),[_0x41de1b,_0x415db5]=_0x9214c3[_0x94882a(0x102)](':')[_0x94882a(0x210)](Number),_0x57a3c9=_0x342271*0x3c+_0x59d809,_0x438522=_0x41de1b*0x3c+_0x415db5,_0x50c5f6=String(_0x44d69a);let _0x14fcf5=![],_0x2fa60c='';for(let _0x4272e9 of sessions){if(_0x4272e9['dateStr']!==_0x4bad2a)continue;if(_0x4272e9['status']==='cancelled')continue;if(_0xe0965b&&String(_0x4272e9['id'])===String(_0xe0965b))continue;const [_0x2de98f,_0x525d9e]=_0x4272e9[_0x94882a(0xc3)]['split'](':')['map'](Number),[_0x2c6ff9,_0x1608f8]=_0x4272e9[_0x94882a(0x104)][_0x94882a(0x102)](':')[_0x94882a(0x210)](Number),_0x1aa51d=_0x2de98f*0x3c+_0x525d9e,_0x2c9586=_0x2c6ff9*0x3c+_0x1608f8;if(Math[_0x94882a(0xbc)](_0x57a3c9,_0x1aa51d)<Math[_0x94882a(0xee)](_0x438522,_0x2c9586)){if(_0x4272e9['clientId']&&String(_0x4272e9[_0x94882a(0x1f0)])===_0x50c5f6)return{'valid':![],'msg':_0x94882a(0x155)+_0x4272e9[_0x94882a(0x200)]+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x14fcf5=!![],_0x2fa60c=_0x4272e9[_0x94882a(0x200)];}}if(_0x14fcf5)return{'valid':!![],'warning':_0x94882a(0x160)+_0x2fa60c};return{'valid':!![]};}function saveSingleSession(_0x4e6cce){const _0x27741a=a2_0x2e7e88;if(editingId){const _0x5c814d=sessions['findIndex'](_0xd36541=>_0xd36541['id']===editingId);if(_0x5c814d!==-0x1)sessions[_0x5c814d]=_0x4e6cce;}else sessions[_0x27741a(0xaf)](_0x4e6cce);afterSaveAction([_0x4e6cce['dateStr']]);}function createBatchSeries(_0x2afc9b,_0x531d2d,_0x5b87a2){const _0x5a8a04=a2_0x2e7e88,_0x29f501=generateId(),_0x1ca629=[],_0x23b18b=[];let _0x1d2251=0x0,_0x49fa1e=new Date(_0x531d2d);for(let _0x17eb03=0x0;_0x17eb03<_0x5b87a2;_0x17eb03++){const _0x4106b3=getLocalDateStr(_0x49fa1e),_0x37e109=validateAppointment(_0x4106b3,_0x2afc9b[_0x5a8a04(0xc3)],_0x2afc9b['end'],null,_0x2afc9b[_0x5a8a04(0x1f0)]);if(!_0x37e109[_0x5a8a04(0xad)])console['log']('[Series]\x20Skipped\x20'+_0x4106b3+_0x5a8a04(0x206)),_0x1d2251++;else{const _0x473e62={..._0x2afc9b,'id':generateId(),'dateStr':_0x4106b3,'seriesId':_0x29f501};_0x23b18b[_0x5a8a04(0xaf)](_0x473e62),_0x1ca629[_0x5a8a04(0xaf)](_0x4106b3);}_0x49fa1e['setDate'](_0x49fa1e[_0x5a8a04(0x9d)]()+0x7);}if(_0x23b18b[_0x5a8a04(0x208)]===0x0){showToast(_0x5a8a04(0xa7),![]);return;}sessions['push'](..._0x23b18b),lastUserActionTime=Date[_0x5a8a04(0x110)]();let _0x283aa3=_0x5a8a04(0x1bf)+_0x23b18b['length'];_0x1d2251>0x0&&(_0x283aa3+=_0x5a8a04(0x11c)+_0x1d2251+')'),showToast(_0x283aa3,!![]),afterSaveAction(_0x1ca629);}function updateSeriesBatch(_0x3e0acd,_0x5c265e){const _0x176ef9=a2_0x2e7e88,_0x268c03=[],_0x2daccf=_0x5c265e['seriesId'];if(_0x3e0acd===_0x176ef9(0x1dc)){const _0x198027={..._0x5c265e,'seriesId':null},_0x51fab0=sessions[_0x176ef9(0x111)](_0x2b3005=>_0x2b3005['id']===_0x5c265e['id']);if(_0x51fab0!==-0x1)sessions[_0x51fab0]=_0x198027;_0x268c03[_0x176ef9(0xaf)](_0x198027[_0x176ef9(0x1b1)]);}else{if(_0x3e0acd===_0x176ef9(0x175)){const _0x6c2f4a=_0x5c265e[_0x176ef9(0x1b1)];sessions[_0x176ef9(0x1c3)]((_0x558ed3,_0x187c4b)=>{const _0x2e9cdd=_0x176ef9;_0x558ed3[_0x2e9cdd(0x18e)]===_0x2daccf&&_0x558ed3[_0x2e9cdd(0x1b1)]>=_0x6c2f4a&&(sessions[_0x187c4b]={...sessions[_0x187c4b],'start':_0x5c265e[_0x2e9cdd(0xc3)],'end':_0x5c265e[_0x2e9cdd(0x104)],'note':_0x5c265e['note'],'client':_0x5c265e[_0x2e9cdd(0x200)],'clientId':_0x5c265e[_0x2e9cdd(0x1f0)]},_0x268c03[_0x2e9cdd(0xaf)](_0x558ed3[_0x2e9cdd(0x1b1)]));});}}afterSaveAction(_0x268c03);}function a2_0x1267(){const _0x2a06be=['header-','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','planned','data-date','#fff','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','pe-col-header','all','initDataUnsafe','color','var(--acc-red)','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','T00:00:00','inpRecurring','syncBatch','818112OnmqjR',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','from',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','expand','send','mousemove','btnStatusToggle','localeCompare','btnDelete','cancel_window','vibrate','[Notify]\x20Client\x20SWAP\x20detected','WebApp','range-item','save_settings','exceptions','setMonth','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','as-button\x20danger','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','stopPropagation','toLocaleDateString','clientY','settings','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','scrollLeft','event-card','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','.day-column','stringify','checked','actionSheet','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','anPercent','splice','active','...','backgroundColor','saveLocally','pe-corner','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','day-column\x20','substr','asBtnSeries','borderRadius','search','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','getDay','sort','text','querySelectorAll','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','de-item','show','innerHTML','display','client-stat-card','today','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','Telegram','.day-col-header','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','user','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','flex','cancelled','Save\x20settings\x20error:','height','textContent','addEventListener','series','\x20-\x20','day-col-header\x20','appendChild','find','</div><div\x20class=\x22dch-num\x22>','recurringOptionContainer','parse','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','createDocumentFragment','week','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','day-off-overlay\x20stripe-bg','gridColumns','data','</div><div\x20class=\x22ev-time\x22>','offsetLeft','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','clientWidth','getElementById','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','scroll','then','top','seriesId','toFixed','23:59','actionSheetOverlay','patternEditor','doDateHeader','mergeServerData','%\x20+\x202px)','setHours','16qEswAZ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','setBackgroundColor','inpDate','%\x20-\x204px)','touches','rangeStartDate','(((.+)+)+)+$','uc_sessions_v9','rangeEndDate','completed','guest','asTitle','charAt','includes','off','toLocaleString','uc_clients_v9','2754888SGTeDl','target','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','<div\x20class=\x22dch-day\x22>','setAttribute','inpEnd','open','dateStr','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','indexOf','.day-off-overlay','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','rangeEndTime','sheetTitle','slice','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','done','create','<div\x20class=\x22ev-title\x22>','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','time-label','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','1239534yKDCqU','forEach','anCustomDates','doBusyHours','var(--acc-orange)','getFullYear','total','error','.event-card','left','getMonth','padStart','dayOptionsTitle','ranges','apply','block','deleted','pattern','#050505','analyticsSheet','12LMZQBU','seriesCountContainer','px\x200px','zIndex','getAttribute','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','single','var(--acc-current)','\x20days','width','init_load','calc(','2941340dDoijv','colIndex','getItem','timeColumn','10px\x2010px\x200\x200','rgba(255,\x20159,\x2010,\x200.3)',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','10px','text/plain;charset=UTF-8','Error\x20setting\x20color:','toString','href','30755oUVieY','settingCancelWindow','clientId','<span>','POST','pe-time-label','sessionSheet','backgroundPosition','complete','7ToTHlv','add','update','value','undefined','</b>\x0a\x0a','closest','note','delete','client','router.html','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','inpNote','numeric','floor',':\x20Client\x20already\x20booked','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','length','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','insertBefore','cancel','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','blocked-slot\x20stripe-bg','initData','getText','map','anStart','touchend','rgba(100,100,100,0.5)','mousedown','remove','getDate','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','inpSeriesCount',':00','json','overlay','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','div','toast','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','borderLeftColor','rgba(48,\x20209,\x2088,\x200.15)','dayOptionsSheet','custom','toUpperCase','valid','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','push','timeLineBadge','matrixViewport','uc_settings_cancel_window','[Notify]\x20Network\x20Failed','T23:59:59','sheetDateSubtitle','catch','clients','v9.0-BATCH-CALENDAR','save','mini','530075PQMQMn','max','#gridColumns\x20.day-column','round','startsWith','fetchFromServer','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','background','start','name','9MjGqJh','inpStart','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','[Settings]\x20Cancel\x20window\x20set\x20to:','status','Server\x20Error','filter','btn-status-toggle','long','ready','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','[Notify]\x20Server\x20Response:','2596002vYAnzI','daysHeaderTrack','classList','rgba(','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','[API\x20','.period-switch\x20.p-btn','getBoundingClientRect','BackButton','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','headerMonth','<b>‚úÖ\x20','touchstart','statLoadCard','stat-','msg','calendar','\x20‚Äî\x20','formatDate','getTime','style','var(--acc-green)','inpClient','77ckMyVf','–£–¥–∞–ª–µ–Ω–∏–µ','option','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','.sheet','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','min','anEnd','querySelector','setItem','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>',':00</span>','getHours','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','random','rangeStartTime','warning','className','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','Error\x20setting\x20back\x20button:','ru-RU','px\x20-','[Notify]\x20Error:\x20sessionData\x20is\x20null','btn-status-toggle\x20undo-mode','null','onclick','split','DOMContentLoaded','end','borderColor','touchmove','setDate','offClick','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','createElement','data-day-idx','btnDayToggle','00:00','patternInfoBox','now','findIndex',']\x20Failed:','constructor','log','btn-primary\x20btn-danger','100%','warn','none','getMinutes','asBtnOne','as-button\x20danger\x20bold','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20'];a2_0x1267=function(){return _0x2a06be;};return a2_0x1267();}function tryDeleteSession(){const _0xa5cd7b=a2_0x2e7e88,_0x333f9a=sessions[_0xa5cd7b(0x179)](_0x4e32af=>_0x4e32af['id']===editingId);if(!_0x333f9a)return;_0x333f9a[_0xa5cd7b(0x18e)]?openActionSheet('delete'):commitDelete(_0xa5cd7b(0x1dc),_0x333f9a);}function commitDelete(_0x1a8d96,_0x5aedaf){const _0x443190=a2_0x2e7e88;lastUserActionTime=Date[_0x443190(0x110)](),NotificationManager[_0x443190(0x131)](_0x443190(0x20b),_0x5aedaf);const _0x3ca1f5=[];if(_0x1a8d96===_0x443190(0x1dc))sessions=sessions['filter'](_0x300f8b=>_0x300f8b['id']!==_0x5aedaf['id']),_0x3ca1f5['push'](_0x5aedaf[_0x443190(0x1b1)]);else{if(_0x1a8d96==='series'){const _0x45153b=_0x5aedaf[_0x443190(0x1b1)],_0x3c65b1=_0x5aedaf[_0x443190(0x18e)];sessions[_0x443190(0x1c3)](_0x1032fa=>{const _0x122e81=_0x443190;_0x1032fa[_0x122e81(0x18e)]===_0x3c65b1&&_0x1032fa[_0x122e81(0x1b1)]>=_0x45153b&&_0x3ca1f5['push'](_0x1032fa[_0x122e81(0x1b1)]);}),sessions=sessions['filter'](_0x4a9e3f=>!(_0x4a9e3f[_0x443190(0x18e)]===_0x3c65b1&&_0x4a9e3f[_0x443190(0x1b1)]>=_0x45153b));}}afterSaveAction(_0x3ca1f5);}function afterSaveAction(_0x2c6bd2){const _0x4bce8a=a2_0x2e7e88;DataManager[_0x4bce8a(0x153)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x4bce8a(0x12b)](_0x2c6bd2)[_0x4bce8a(0x18c)](()=>console['log']('Batch\x20Sync\x20OK'))[_0x4bce8a(0xb6)](_0x30300d=>showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ',![]));}const NotificationManager={'formatDate'(_0x3a38e0){const _0x47eca7=a2_0x2e7e88,_0x123ca8=new Date(_0x3a38e0),_0x5ab4f2={'weekday':'long','day':_0x47eca7(0x204),'month':'long'};let _0x9675cf=_0x123ca8['toLocaleDateString']('ru-RU',_0x5ab4f2);return _0x9675cf[_0x47eca7(0x1a4)](0x0)[_0x47eca7(0xac)]()+_0x9675cf[_0x47eca7(0x1b8)](0x1);},'getText'(_0x2003c5,_0x187c7e){const _0xe4e907=a2_0x2e7e88,_0x269bc2=this[_0xe4e907(0xe3)](_0x187c7e[_0xe4e907(0x1b1)]);switch(_0x2003c5){case _0xe4e907(0x1bb):return _0xe4e907(0xf5)+(_0xe4e907(0x145)+_0x269bc2+'\x0a')+(_0xe4e907(0x14d)+_0x187c7e[_0xe4e907(0xc3)]+_0xe4e907(0xe2)+_0x187c7e[_0xe4e907(0x104)]+'\x0a\x0a')+_0xe4e907(0xeb);case _0xe4e907(0x1f9):return'<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a'+_0xe4e907(0x16d)+(_0xe4e907(0xdc)+_0x187c7e['start']+_0xe4e907(0xe2)+_0x187c7e['end']+_0xe4e907(0x1fc))+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0x269bc2);case'cancel':return _0xe4e907(0x16b)+(_0xe4e907(0x1c1)+_0x269bc2+'\x20('+_0x187c7e[_0xe4e907(0xc3)]+')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.');case _0xe4e907(0x1f6):return _0xe4e907(0x122)+_0xe4e907(0x10a)+_0xe4e907(0x140);default:return'';}},async 'send'(_0x23caef,_0x21ff83){const _0x1a9709=a2_0x2e7e88;console[_0x1a9709(0x114)]('[Notify]\x20Attempting\x20to\x20send:',_0x23caef,_0x21ff83);if(!_0x21ff83){console[_0x1a9709(0x1c9)](_0x1a9709(0xfe));return;}const _0x33e2bf=String(_0x21ff83[_0x1a9709(0x1f0)]);console[_0x1a9709(0x114)]('[Notify]\x20Detected\x20Client\x20ID:',_0x33e2bf);if(!_0x21ff83['clientId']||_0x33e2bf===_0x1a9709(0x1fb)||_0x33e2bf===_0x1a9709(0x100)){console[_0x1a9709(0x1c9)](_0x1a9709(0xc7));if(_0x21ff83[_0x1a9709(0x200)]){const _0xcd1cb9=clients[_0x1a9709(0x179)](_0x352e2a=>_0x352e2a['name']===_0x21ff83['client']);if(_0xcd1cb9)return console[_0x1a9709(0x114)](_0x1a9709(0x17d),_0xcd1cb9['id']),this[_0x1a9709(0x131)](_0x23caef,{..._0x21ff83,'clientId':_0xcd1cb9['id']});}return;}if(_0x33e2bf[_0x1a9709(0x208)]<0x5){console[_0x1a9709(0x117)](_0x1a9709(0x15b),_0x33e2bf);return;}const _0x403225=this[_0x1a9709(0x20f)](_0x23caef,_0x21ff83);if(!_0x403225){console[_0x1a9709(0x1c9)]('[Notify]\x20Error:\x20Text\x20generation\x20failed');return;}console['log'](_0x1a9709(0x9f)+_0x33e2bf+_0x1a9709(0x151)),DataManager['fetchFromServer']('send_notification',{'chatId':_0x33e2bf,'text':_0x403225})['then'](_0x4e543d=>console[_0x1a9709(0x114)](_0x1a9709(0xd0),_0x4e543d))[_0x1a9709(0xb6)](_0xd7474f=>console['error'](_0x1a9709(0xb3),_0xd7474f));}};function getLocalDateStr(_0x3d0ca4){const _0x3703f0=a2_0x2e7e88,_0x8d4eb0=_0x3d0ca4[_0x3703f0(0x1c7)](),_0x39ab99=String(_0x3d0ca4[_0x3703f0(0x1cc)]()+0x1)[_0x3703f0(0x1cd)](0x2,'0'),_0x41c5e5=String(_0x3d0ca4['getDate']())[_0x3703f0(0x1cd)](0x2,'0');return _0x8d4eb0+'-'+_0x39ab99+'-'+_0x41c5e5;}function getDateStr(_0x1652e8){const _0xd729b=a2_0x2e7e88,_0x1184cd=new Date();return _0x1184cd[_0xd729b(0x107)](_0x1184cd[_0xd729b(0x9d)]()+_0x1652e8),getLocalDateStr(_0x1184cd);}function getStartOfWeek(_0x1568ba){const _0x22d62b=a2_0x2e7e88,_0x472d57=new Date(_0x1568ba),_0x2ee51e=_0x472d57['getDay'](),_0x16fbbe=_0x472d57[_0x22d62b(0x9d)]()-_0x2ee51e+(_0x2ee51e===0x0?-0x6:0x1);return _0x472d57[_0x22d62b(0x107)](_0x16fbbe),_0x472d57['setHours'](0x0,0x0,0x0,0x0),_0x472d57;}function hexToRgba(_0x4ee51b,_0x499529){const _0x128451=a2_0x2e7e88;if(!_0x4ee51b)return _0x128451(0x9a);let _0x196dbd=0x0,_0x223c06=0x0,_0x1b6aa4=0x0;if(_0x4ee51b['length']===0x4)_0x196dbd='0x'+_0x4ee51b[0x1]+_0x4ee51b[0x1],_0x223c06='0x'+_0x4ee51b[0x2]+_0x4ee51b[0x2],_0x1b6aa4='0x'+_0x4ee51b[0x3]+_0x4ee51b[0x3];else _0x4ee51b[_0x128451(0x208)]===0x7&&(_0x196dbd='0x'+_0x4ee51b[0x1]+_0x4ee51b[0x2],_0x223c06='0x'+_0x4ee51b[0x3]+_0x4ee51b[0x4],_0x1b6aa4='0x'+_0x4ee51b[0x5]+_0x4ee51b[0x6]);return _0x128451(0xd4)+ +_0x196dbd+',\x20'+ +_0x223c06+',\x20'+ +_0x1b6aa4+',\x20'+_0x499529+')';}function renderTimeColumn(){const _0x2cfc82=a2_0x2e7e88,_0x4f2981=document[_0x2cfc82(0x188)](_0x2cfc82(0x1e5)),_0x1632d5=document[_0x2cfc82(0x188)](_0x2cfc82(0xb0));_0x4f2981['innerHTML']='',_0x4f2981[_0x2cfc82(0x178)](_0x1632d5);for(let _0x3770f0=0x0;_0x3770f0<0x18;_0x3770f0++){const _0x50e24f=document[_0x2cfc82(0x10b)]('div');_0x50e24f[_0x2cfc82(0xf9)]=_0x2cfc82(0x1be);if(_0x3770f0>0x0)_0x50e24f[_0x2cfc82(0x164)]=_0x2cfc82(0x1f1)+String(_0x3770f0)[_0x2cfc82(0x1cd)](0x2,'0')+_0x2cfc82(0xf3);_0x4f2981[_0x2cfc82(0x178)](_0x50e24f);}}function renderDayRange(_0x563cae,_0xcdedd5){const _0x150edb=a2_0x2e7e88,_0x2da524=document[_0x150edb(0x188)]('daysHeaderTrack'),_0x383d8c=document[_0x150edb(0x188)](_0x150edb(0x182)),_0x1c001a=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x344687=new Date();_0x344687['setHours'](0x0,0x0,0x0,0x0);const _0x147d34=getLocalDateStr(new Date());for(let _0x59836c=_0x563cae;_0x59836c<=_0xcdedd5;_0x59836c++){const _0x4e3ae4=new Date(_0x344687);_0x4e3ae4[_0x150edb(0x107)](_0x4e3ae4[_0x150edb(0x9d)]()+_0x59836c);const _0x5d264d=getLocalDateStr(_0x4e3ae4);let _0x24d2b3=_0x4e3ae4['getDay']()-0x1;if(_0x24d2b3===-0x1)_0x24d2b3=0x6;const _0x11dd15=_0x5d264d===_0x147d34,_0x1cdea1=document[_0x150edb(0x10b)](_0x150edb(0xa5));_0x1cdea1[_0x150edb(0xf9)]=_0x150edb(0x177)+(_0x11dd15?'today':''),_0x1cdea1['id']=_0x150edb(0x11d)+_0x5d264d,_0x1cdea1[_0x150edb(0x1ae)](_0x150edb(0x120),_0x5d264d),_0x1cdea1['innerHTML']=_0x150edb(0x1ad)+_0x1c001a[_0x24d2b3]+_0x150edb(0x17a)+_0x4e3ae4[_0x150edb(0x9d)]()+_0x150edb(0xed)+_0x5d264d+_0x150edb(0xae),_0x1cdea1[_0x150edb(0x101)]=()=>openDayOptions(_0x5d264d,_0x1c001a[_0x24d2b3]+'\x20'+_0x4e3ae4[_0x150edb(0x9d)]()),_0x2da524['appendChild'](_0x1cdea1);const _0x15ae58=document['createElement']('div');_0x15ae58[_0x150edb(0xf9)]=_0x150edb(0x156)+(_0x11dd15?_0x150edb(0x167):''),_0x15ae58[_0x150edb(0x1ae)](_0x150edb(0x120),_0x5d264d),_0x15ae58[_0x150edb(0x1ae)]('data-day-idx',_0x24d2b3),renderEventsForColumn(_0x15ae58,_0x5d264d,_0x24d2b3),attachLongPressHandler(_0x15ae58,_0x4e3ae4),_0x383d8c[_0x150edb(0x178)](_0x15ae58),updateDayStats(_0x5d264d);}}function reRenderBlocks(){const _0x4eeabf=a2_0x2e7e88;document[_0x4eeabf(0x15f)](_0x4eeabf(0xbd))[_0x4eeabf(0x1c3)](_0x439ba6=>{const _0x53cd3a=_0x4eeabf;_0x439ba6[_0x53cd3a(0x15f)](_0x53cd3a(0x202))['forEach'](_0x882057=>_0x882057[_0x53cd3a(0x9c)]());const _0x4a0556=_0x439ba6[_0x53cd3a(0x1da)]('data-date'),_0x188a14=parseInt(_0x439ba6[_0x53cd3a(0x1da)](_0x53cd3a(0x10c))),_0x2249f8=Math[_0x53cd3a(0xbe)](_0x439ba6[_0x53cd3a(0x185)]);(availabilityPattern[_0x188a14]||[])[_0x53cd3a(0x1c3)](_0x17c961=>{const _0x2c1e34=_0x53cd3a,_0x3176de=document['createElement']('div');_0x3176de[_0x2c1e34(0xf9)]=_0x2c1e34(0x20d);const _0x8abc80=_0x17c961*GRID_H;_0x3176de['style'][_0x2c1e34(0x18d)]=_0x8abc80+'px',_0x3176de['style'][_0x2c1e34(0x1f5)]='-'+_0x2249f8+_0x2c1e34(0xfd)+_0x8abc80+'px',_0x439ba6[_0x2c1e34(0x178)](_0x3176de);});if(specialRanges&&specialRanges['length']>0x0){const _0x598a09=new Date(_0x4a0556+_0x53cd3a(0x129))[_0x53cd3a(0xe4)](),_0xda01d4=new Date(_0x4a0556+_0x53cd3a(0xb4))[_0x53cd3a(0xe4)]();specialRanges[_0x53cd3a(0x1c3)](_0xc14481=>{const _0x1fddb6=_0x53cd3a,_0x1cc335=new Date(_0xc14481[_0x1fddb6(0xc3)])[_0x1fddb6(0xe4)](),_0x2c84d3=new Date(_0xc14481['end'])['getTime'](),_0x1607d2=Math['max'](_0x598a09,_0x1cc335),_0x1e84c6=Math[_0x1fddb6(0xee)](_0xda01d4,_0x2c84d3);if(_0x1607d2<_0x1e84c6){if(_0x1607d2<=_0x598a09&&_0x1e84c6>=_0xda01d4-0xea60){if(!_0x439ba6[_0x1fddb6(0xf0)]('.day-off-overlay')){const _0x5548b8=document[_0x1fddb6(0x10b)](_0x1fddb6(0xa5));_0x5548b8['className']=_0x1fddb6(0x181),_0x5548b8[_0x1fddb6(0xe5)][_0x1fddb6(0x1f5)]='-'+_0x2249f8+_0x1fddb6(0x1d8),_0x439ba6[_0x1fddb6(0x178)](_0x5548b8);}}else{const _0xaa7115=(_0x1607d2-_0x598a09)/0x36ee80*GRID_H,_0x16bb3e=(_0x1e84c6-_0x1607d2)/0x36ee80*GRID_H,_0x49fed0=document[_0x1fddb6(0x10b)](_0x1fddb6(0xa5));_0x49fed0[_0x1fddb6(0xf9)]='blocked-range-part\x20stripe-bg',_0x49fed0[_0x1fddb6(0xe5)][_0x1fddb6(0x18d)]=_0xaa7115+'px',_0x49fed0[_0x1fddb6(0xe5)][_0x1fddb6(0x172)]=_0x16bb3e+'px',_0x49fed0[_0x1fddb6(0xe5)][_0x1fddb6(0x1f5)]='-'+_0x2249f8+'px\x20-'+_0xaa7115+'px',_0x439ba6[_0x1fddb6(0x178)](_0x49fed0);}}});}if(dateExceptions[_0x4a0556]===_0x53cd3a(0x1a6)){if(!_0x439ba6[_0x53cd3a(0xf0)](_0x53cd3a(0x1b4))){const _0x83c876=document[_0x53cd3a(0x10b)]('div');_0x83c876['className']=_0x53cd3a(0x181),_0x83c876['style'][_0x53cd3a(0x1f5)]='-'+_0x2249f8+_0x53cd3a(0x1d8),_0x439ba6[_0x53cd3a(0x178)](_0x83c876);}}renderEventsForColumn(_0x439ba6,_0x4a0556,_0x188a14),updateDayStats(_0x4a0556);});}function updateAllDayStats(){const _0x1e0ee8=a2_0x2e7e88;document['querySelectorAll'](_0x1e0ee8(0x16a))[_0x1e0ee8(0x1c3)](_0x3ddcb5=>{const _0xc8feff=_0x1e0ee8;updateDayStats(_0x3ddcb5[_0xc8feff(0x1da)](_0xc8feff(0x120)));});}function updateDayStats(_0x428b49){const _0x12a377=a2_0x2e7e88,_0x120808=document[_0x12a377(0x188)](_0x12a377(0xdf)+_0x428b49);if(!_0x120808)return;const _0x5b2321=new Date(_0x428b49);let _0x4a1d29=_0x5b2321[_0x12a377(0x15c)]()-0x1;if(_0x4a1d29===-0x1)_0x4a1d29=0x6;if(dateExceptions[_0x428b49]===_0x12a377(0x1a6)){_0x120808[_0x12a377(0xe5)][_0x12a377(0x165)]=_0x12a377(0x118);return;}const _0xad93d7=availabilityPattern[_0x4a1d29]||[],_0x169b09=0x18-_0xad93d7[_0x12a377(0x208)],_0x18e12b=_0x169b09*0x3c,_0x28a264=sessions[_0x12a377(0xcb)](_0xaf5fd8=>_0xaf5fd8[_0x12a377(0x1b1)]===_0x428b49&&_0xaf5fd8['status']!=='cancelled');if(_0x28a264[_0x12a377(0x208)]===0x0){_0x120808[_0x12a377(0xe5)]['display']=_0x12a377(0x118);return;}let _0x47de98=_0x28a264[_0x12a377(0x210)](_0x3890d5=>{const _0x1ec075=_0x12a377,[_0x1d6e3f,_0x3879a1]=_0x3890d5[_0x1ec075(0xc3)][_0x1ec075(0x102)](':')[_0x1ec075(0x210)](Number),[_0x2852b8,_0x55cd2b]=_0x3890d5[_0x1ec075(0x104)][_0x1ec075(0x102)](':')[_0x1ec075(0x210)](Number);return[_0x1d6e3f*0x3c+_0x3879a1,_0x2852b8*0x3c+_0x55cd2b];});_0x47de98[_0x12a377(0x15d)]((_0x44c3c1,_0x2769cb)=>_0x44c3c1[0x0]-_0x2769cb[0x0]);let _0x36f68e=[];if(_0x47de98[_0x12a377(0x208)]>0x0){let _0x1f15bb=_0x47de98[0x0];for(let _0x592c52=0x1;_0x592c52<_0x47de98[_0x12a377(0x208)];_0x592c52++){_0x47de98[_0x592c52][0x0]<_0x1f15bb[0x1]?_0x1f15bb[0x1]=Math['max'](_0x1f15bb[0x1],_0x47de98[_0x592c52][0x1]):(_0x36f68e[_0x12a377(0xaf)](_0x1f15bb),_0x1f15bb=_0x47de98[_0x592c52]);}_0x36f68e['push'](_0x1f15bb);}let _0x5eaff2=0x0;_0x36f68e[_0x12a377(0x1c3)](_0x4d68f9=>_0x5eaff2+=_0x4d68f9[0x1]-_0x4d68f9[0x0]),_0x120808[_0x12a377(0xe5)][_0x12a377(0x165)]=_0x12a377(0x16f);const _0x311a67=_0x120808[_0x12a377(0xf0)]('.dch-stats-fill');if(_0x18e12b===0x0){_0x311a67[_0x12a377(0xe5)][_0x12a377(0x1df)]=_0x12a377(0x116),_0x311a67[_0x12a377(0xe5)][_0x12a377(0xc2)]=_0x12a377(0x127);return;}const _0x2f1aad=_0x5eaff2/_0x18e12b*0x64;console[_0x12a377(0x114)]('['+_0x428b49+_0x12a377(0x12f)+_0x169b09+'—á,\x20–ó–∞–Ω—è—Ç–æ:\x20'+_0x5eaff2+_0x12a377(0x128)+_0x2f1aad[_0x12a377(0x18f)](0x1)+'%'),_0x2f1aad>0x64?(_0x311a67[_0x12a377(0xe5)][_0x12a377(0x1df)]='100%',_0x311a67['style'][_0x12a377(0xc2)]=_0x12a377(0x127)):(_0x311a67[_0x12a377(0xe5)][_0x12a377(0x1df)]=_0x2f1aad+'%',_0x311a67[_0x12a377(0xe5)]['background']=_0x12a377(0x1dd));}function renderEventsForColumn(_0x33cc35,_0x4722b7,_0x4a8d5c){const _0xaedc82=a2_0x2e7e88,_0xbb1c92=sessions['filter'](_0x15ccef=>_0x15ccef['dateStr']===_0x4722b7),_0x54b551=_0xbb1c92[_0xaedc82(0x210)](_0x2314c5=>{const _0xb303dc=_0xaedc82,[_0x2b7f42,_0x51cda4]=_0x2314c5[_0xb303dc(0xc3)][_0xb303dc(0x102)](':')[_0xb303dc(0x210)](Number),[_0x4daaca,_0x1625a1]=_0x2314c5['end'][_0xb303dc(0x102)](':')[_0xb303dc(0x210)](Number);return{'data':_0x2314c5,'start':_0x2b7f42*0x3c+_0x51cda4,'end':_0x4daaca*0x3c+_0x1625a1,'colIndex':0x0};});_0x54b551[_0xaedc82(0x15d)]((_0x24909c,_0xe7cdc1)=>{const _0x5244c8=_0xaedc82;if(_0x24909c[_0x5244c8(0xc3)]!==_0xe7cdc1[_0x5244c8(0xc3)])return _0x24909c[_0x5244c8(0xc3)]-_0xe7cdc1[_0x5244c8(0xc3)];return _0xe7cdc1[_0x5244c8(0x104)]-_0xe7cdc1[_0x5244c8(0xc3)]-(_0x24909c[_0x5244c8(0x104)]-_0x24909c[_0x5244c8(0xc3)]);});const _0x486a42=[];_0x54b551['forEach'](_0x1a5539=>{const _0x1be25f=_0xaedc82;let _0x56e9f9=![];for(let _0x41f8f3=0x0;_0x41f8f3<_0x486a42[_0x1be25f(0x208)];_0x41f8f3++){const _0x1af328=_0x486a42[_0x41f8f3],_0x29f92a=_0x1af328[_0x1af328[_0x1be25f(0x208)]-0x1];if(_0x1a5539[_0x1be25f(0xc3)]>=_0x29f92a['end']){_0x1af328['push'](_0x1a5539),_0x1a5539['colIndex']=_0x41f8f3,_0x56e9f9=!![];break;}}!_0x56e9f9&&(_0x486a42[_0x1be25f(0xaf)]([_0x1a5539]),_0x1a5539[_0x1be25f(0x1e3)]=_0x486a42[_0x1be25f(0x208)]-0x1);}),_0x54b551['forEach'](_0x1f899f=>{const _0x3a7b34=_0xaedc82;let _0x1ea4ac=0x0;_0x54b551[_0x3a7b34(0x1c3)](_0x3d3bc9=>{const _0x13b1f2=_0x3a7b34;if(Math[_0x13b1f2(0xbc)](_0x1f899f[_0x13b1f2(0xc3)],_0x3d3bc9[_0x13b1f2(0xc3)])<Math['min'](_0x1f899f[_0x13b1f2(0x104)],_0x3d3bc9['end'])){if(_0x3d3bc9[_0x13b1f2(0x1e3)]>_0x1ea4ac)_0x1ea4ac=_0x3d3bc9[_0x13b1f2(0x1e3)];}});const _0x4bf3f8=_0x1ea4ac+0x1,_0x4662e5=0x64/_0x4bf3f8,_0xba7c9b=_0x1f899f[_0x3a7b34(0x1e3)]*_0x4662e5,_0x579ef6=createEventEl(_0x1f899f[_0x3a7b34(0x183)]);_0x579ef6[_0x3a7b34(0xe5)][_0x3a7b34(0x1df)]=_0x3a7b34(0x1e1)+_0x4662e5+_0x3a7b34(0x19b),_0x579ef6[_0x3a7b34(0xe5)][_0x3a7b34(0x1cb)]=_0x3a7b34(0x1e1)+_0xba7c9b+_0x3a7b34(0x195),_0x579ef6['style'][_0x3a7b34(0x1d9)]=0xa+_0x1f899f['colIndex'],_0x4662e5<0x55&&_0x579ef6[_0x3a7b34(0xd3)][_0x3a7b34(0x1f8)](_0x3a7b34(0xba)),_0x33cc35['appendChild'](_0x579ef6);});}function createEventEl(_0x52a7aa){const _0x3dd08=a2_0x2e7e88,[_0x5f0875,_0x48e1a8]=_0x52a7aa[_0x3dd08(0xc3)]['split'](':')[_0x3dd08(0x210)](Number),[_0x3f5a08,_0x48beb7]=_0x52a7aa[_0x3dd08(0x104)][_0x3dd08(0x102)](':')['map'](Number),_0x335360=(_0x5f0875*0x3c+_0x48e1a8)/0x3c*GRID_H,_0xb40e42=(_0x3f5a08*0x3c+_0x48beb7-(_0x5f0875*0x3c+_0x48e1a8))/0x3c*GRID_H,_0x1b976d=document[_0x3dd08(0x10b)]('div'),_0x3f8ca5=_0x52a7aa[_0x3dd08(0xc9)]===_0x3dd08(0x1a1)?'\x20status-completed':'';_0x1b976d[_0x3dd08(0xf9)]=_0x3dd08(0x147)+_0x3f8ca5,_0x1b976d[_0x3dd08(0xe5)][_0x3dd08(0x18d)]=_0x335360+'px',_0x1b976d[_0x3dd08(0xe5)][_0x3dd08(0x172)]=Math[_0x3dd08(0xbc)](_0xb40e42,0x14)+'px';const _0x566268=clients[_0x3dd08(0x179)](_0x314ea7=>_0x52a7aa[_0x3dd08(0x1f0)]&&String(_0x314ea7['id'])===String(_0x52a7aa[_0x3dd08(0x1f0)])||_0x314ea7[_0x3dd08(0xc4)]===_0x52a7aa['client']),_0x4f095e=_0x566268?_0x566268[_0x3dd08(0x126)]:'#0a84ff';_0x1b976d[_0x3dd08(0xe5)]['borderLeftColor']=_0x4f095e,_0x1b976d[_0x3dd08(0xe5)][_0x3dd08(0x152)]=hexToRgba(_0x4f095e,0.85);let _0xd73df7=_0x3dd08(0x1bc)+_0x52a7aa[_0x3dd08(0x200)]+_0x3dd08(0x184)+_0x52a7aa[_0x3dd08(0xc3)]+'\x20-\x20'+_0x52a7aa[_0x3dd08(0x104)]+'</div>';return _0x52a7aa[_0x3dd08(0x18e)]&&(_0xd73df7+='<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>'),_0x52a7aa['status']===_0x3dd08(0x1a1)&&(_0xd73df7+='<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>'),_0x1b976d[_0x3dd08(0x164)]=_0xd73df7,_0x1b976d[_0x3dd08(0x101)]=_0x17aa86=>{const _0x12876f=_0x3dd08;_0x17aa86[_0x12876f(0x141)](),openEdit(_0x52a7aa);},_0x1b976d;}function attachLongPressHandler(_0x4f8402,_0x15886e){const _0x6b4b78=a2_0x2e7e88;let _0x23445e=0x0,_0x2cffa9=null;const _0x558a5e=_0x3f2f78=>{const _0x1a9e07=a2_0x383e;if(_0x3f2f78[_0x1a9e07(0x1aa)][_0x1a9e07(0x1fd)](_0x1a9e07(0x1ca)))return;isScrolling=![],_0x23445e=_0x3f2f78[_0x1a9e07(0x19c)]?_0x3f2f78['touches'][0x0]['clientY']:_0x3f2f78[_0x1a9e07(0x143)],_0x2cffa9=setTimeout(()=>{const _0x73f52d=_0x1a9e07;if(!isScrolling){navigator[_0x73f52d(0x137)]?.(0x32);const _0x23bd7d=_0x4f8402[_0x73f52d(0xd8)](),_0x4ec136=Math[_0x73f52d(0x205)]((_0x23445e-_0x23bd7d[_0x73f52d(0x18d)])/GRID_H);_0x15886e[_0x73f52d(0x196)](_0x4ec136,0x0),openAddSession(_0x15886e);}},0x1f4);},_0x3e9f8d=()=>{isScrolling=!![],clearTimeout(_0x2cffa9);},_0x5b17c6=()=>{clearTimeout(_0x2cffa9);};_0x4f8402['addEventListener'](_0x6b4b78(0xdd),_0x558a5e,{'passive':!![]}),_0x4f8402[_0x6b4b78(0x174)](_0x6b4b78(0x106),_0x3e9f8d,{'passive':!![]}),_0x4f8402[_0x6b4b78(0x174)](_0x6b4b78(0x99),_0x5b17c6),_0x4f8402[_0x6b4b78(0x174)](_0x6b4b78(0x9b),_0x558a5e),_0x4f8402[_0x6b4b78(0x174)](_0x6b4b78(0x132),_0x3e9f8d),_0x4f8402['addEventListener']('mouseup',_0x5b17c6);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x23a96c=a2_0x2e7e88,_0x3dadcc=document[_0x23a96c(0x188)](_0x23a96c(0xb1)),_0x5d7523=_0x3dadcc['scrollLeft'],_0x48337c=_0x3dadcc['scrollWidth'],_0x54d88c=_0x3dadcc[_0x23a96c(0x187)];if(_0x48337c-(_0x5d7523+_0x54d88c)<0x12c){const _0x1fbd80=endOffset;endOffset+=0xe,renderDayRange(_0x1fbd80+0x1,endOffset),reRenderBlocks();}if(_0x5d7523<0x12c){const _0x1c258c=startOffset;startOffset-=0xe,prependDays(startOffset,_0x1c258c-0x1),_0x3dadcc[_0x23a96c(0x146)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0xd7a10a,_0x1e8b12){const _0x100726=a2_0x2e7e88,_0x741a4e=document['getElementById'](_0x100726(0xd2)),_0x194acb=document[_0x100726(0x188)]('gridColumns'),_0x1691f5=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x4ce92f=new Date();_0x4ce92f['setHours'](0x0,0x0,0x0,0x0);const _0x1293d9=getLocalDateStr(new Date()),_0x134829=document[_0x100726(0x17e)](),_0x427bd6=document['createDocumentFragment']();for(let _0x5a9dfe=_0xd7a10a;_0x5a9dfe<=_0x1e8b12;_0x5a9dfe++){const _0x42ee44=new Date(_0x4ce92f);_0x42ee44[_0x100726(0x107)](_0x42ee44[_0x100726(0x9d)]()+_0x5a9dfe);const _0x3d89d7=getLocalDateStr(_0x42ee44);let _0x3e8285=_0x42ee44['getDay']()-0x1;if(_0x3e8285===-0x1)_0x3e8285=0x6;const _0x57d81b=_0x3d89d7===_0x1293d9,_0x3ab800=document[_0x100726(0x10b)](_0x100726(0xa5));_0x3ab800[_0x100726(0xf9)]=_0x100726(0x177)+(_0x57d81b?_0x100726(0x167):''),_0x3ab800['id']=_0x100726(0x11d)+_0x3d89d7,_0x3ab800[_0x100726(0x1ae)](_0x100726(0x120),_0x3d89d7),_0x3ab800[_0x100726(0x164)]=_0x100726(0x1ad)+_0x1691f5[_0x3e8285]+_0x100726(0x17a)+_0x42ee44[_0x100726(0x9d)]()+_0x100726(0xed)+_0x3d89d7+_0x100726(0xae),_0x3ab800[_0x100726(0x101)]=()=>openDayOptions(_0x3d89d7,_0x1691f5[_0x3e8285]+'\x20'+_0x42ee44['getDate']()),_0x134829[_0x100726(0x178)](_0x3ab800);const _0x3a1741=document[_0x100726(0x10b)]('div');_0x3a1741[_0x100726(0xf9)]=_0x100726(0x156)+(_0x57d81b?'today':''),_0x3a1741[_0x100726(0x1ae)](_0x100726(0x120),_0x3d89d7),_0x3a1741[_0x100726(0x1ae)](_0x100726(0x10c),_0x3e8285),renderEventsForColumn(_0x3a1741,_0x3d89d7,_0x3e8285),attachLongPressHandler(_0x3a1741,_0x42ee44),_0x427bd6[_0x100726(0x178)](_0x3a1741),updateDayStats(_0x3d89d7);}_0x741a4e[_0x100726(0x20a)](_0x134829,_0x741a4e['firstChild']),_0x194acb['insertBefore'](_0x427bd6,_0x194acb['querySelector'](_0x100726(0x149)));}function a2_0x383e(_0x82ab9c,_0x5ab504){_0x82ab9c=_0x82ab9c-0x99;const _0x189ca6=a2_0x1267();let _0xd60579=_0x189ca6[_0x82ab9c];return _0xd60579;}function validateAppointment(_0x32ba76,_0x228ad6,_0x2cfd0f,_0x520f1b,_0x5b6f6c){const _0x221b24=a2_0x2e7e88,[_0x6502eb,_0x4b1c07]=_0x228ad6[_0x221b24(0x102)](':')[_0x221b24(0x210)](Number),[_0x4a8999,_0x40cb75]=_0x2cfd0f[_0x221b24(0x102)](':')[_0x221b24(0x210)](Number),_0x5615a1=_0x6502eb*0x3c+_0x4b1c07,_0x2cdb30=_0x4a8999*0x3c+_0x40cb75,_0x5dd4d2=String(_0x5b6f6c);let _0x1fa7cb=![],_0x2e0afe='';for(let _0x2372fc of sessions){if(_0x2372fc[_0x221b24(0x1b1)]!==_0x32ba76)continue;if(_0x2372fc[_0x221b24(0xc9)]===_0x221b24(0x170))continue;if(_0x520f1b&&String(_0x2372fc['id'])===String(_0x520f1b))continue;const [_0x190a4f,_0x3628e2]=_0x2372fc['start'][_0x221b24(0x102)](':')[_0x221b24(0x210)](Number),[_0x3dee5f,_0x2f7ed0]=_0x2372fc[_0x221b24(0x104)][_0x221b24(0x102)](':')[_0x221b24(0x210)](Number),_0x1fdf3d=_0x190a4f*0x3c+_0x3628e2,_0x707c8d=_0x3dee5f*0x3c+_0x2f7ed0;if(Math[_0x221b24(0xbc)](_0x5615a1,_0x1fdf3d)<Math[_0x221b24(0xee)](_0x2cdb30,_0x707c8d)){if(_0x2372fc['clientId']&&String(_0x2372fc['clientId'])===_0x5dd4d2)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0x2372fc[_0x221b24(0x200)]+_0x221b24(0x1e8)};_0x1fa7cb=!![],_0x2e0afe=_0x2372fc[_0x221b24(0x200)];}}if(_0x1fa7cb)return{'valid':!![],'warning':_0x221b24(0x160)+_0x2e0afe};return{'valid':!![]};}function updateDateDisplay(){const _0x23cc41=a2_0x2e7e88,_0x1e4be=document['getElementById'](_0x23cc41(0x19a))[_0x23cc41(0x1fa)],_0x52a368=document[_0x23cc41(0x188)](_0x23cc41(0xb5));if(!_0x1e4be){_0x52a368[_0x23cc41(0x173)]='';return;}const [_0x1d634,_0x327541,_0x2e04aa]=_0x1e4be['split']('-')['map'](Number),_0x58c4ec=new Date(_0x1d634,_0x327541-0x1,_0x2e04aa),_0x58f545={'weekday':_0x23cc41(0xcd),'day':_0x23cc41(0x204),'month':_0x23cc41(0xcd),'year':_0x23cc41(0x204)};let _0xf14acb=_0x58c4ec[_0x23cc41(0x142)]('ru-RU',_0x58f545);_0xf14acb=_0xf14acb[_0x23cc41(0x1a4)](0x0)['toUpperCase']()+_0xf14acb[_0x23cc41(0x1b8)](0x1),_0x52a368[_0x23cc41(0x173)]=_0xf14acb;}function autoSetEndTime(){const _0xb6e2ef=a2_0x2e7e88,_0x3a80c9=document[_0xb6e2ef(0x188)](_0xb6e2ef(0xc6))[_0xb6e2ef(0x1fa)];if(!_0x3a80c9)return;const [_0x2b129f,_0x960412]=_0x3a80c9['split'](':')['map'](Number);let _0x2ad557=_0x2b129f+0x1;if(_0x2ad557>0x17)_0x2ad557=0x0;const _0x1b5d98=String(_0x2ad557)['padStart'](0x2,'0')+':'+String(_0x960412)[_0xb6e2ef(0x1cd)](0x2,'0');document[_0xb6e2ef(0x188)](_0xb6e2ef(0x1af))[_0xb6e2ef(0x1fa)]=_0x1b5d98;}function populateClientSelect(){const _0x58cb2c=a2_0x2e7e88,_0x3f9f9c=document[_0x58cb2c(0x188)]('inpClient');_0x3f9f9c[_0x58cb2c(0x164)]='';if(clients[_0x58cb2c(0x208)]===0x0){const _0x376ce6=document[_0x58cb2c(0x10b)]('option');_0x376ce6[_0x58cb2c(0x15e)]=_0x58cb2c(0x109),_0x3f9f9c[_0x58cb2c(0x178)](_0x376ce6);return;}clients[_0x58cb2c(0x1c3)](_0x5ca2af=>{const _0x504645=_0x58cb2c,_0x438f45=document[_0x504645(0x10b)](_0x504645(0xea));_0x438f45[_0x504645(0x1fa)]=_0x5ca2af[_0x504645(0xc4)],_0x438f45[_0x504645(0x173)]=_0x5ca2af['name'],_0x3f9f9c[_0x504645(0x178)](_0x438f45);});}function openActionSheet(_0x3f988d){const _0x349dcd=a2_0x2e7e88,_0x30ecbd=document[_0x349dcd(0x188)](_0x349dcd(0x14c)),_0x56c135=document[_0x349dcd(0x188)](_0x349dcd(0x191)),_0x5b675f=document[_0x349dcd(0x188)](_0x349dcd(0x1a3)),_0x15052e=document[_0x349dcd(0x188)](_0x349dcd(0x11a)),_0x10a2da=document[_0x349dcd(0x188)](_0x349dcd(0x158));_0x56c135[_0x349dcd(0xd3)][_0x349dcd(0x1f8)](_0x349dcd(0x150)),_0x30ecbd[_0x349dcd(0xd3)][_0x349dcd(0x1f8)](_0x349dcd(0x1b0));if(_0x3f988d===_0x349dcd(0xb9))_0x5b675f[_0x349dcd(0x173)]=_0x349dcd(0x16e),_0x15052e['textContent']=_0x349dcd(0x209),_0x15052e[_0x349dcd(0x101)]=()=>{const _0x137e0b=_0x349dcd;closeActionSheet(),updateSeriesBatch(_0x137e0b(0x1dc),tempSessionData);},_0x10a2da['textContent']=_0x349dcd(0x20c),_0x10a2da['onclick']=()=>{const _0x4c20b0=_0x349dcd;closeActionSheet(),updateSeriesBatch(_0x4c20b0(0x175),tempSessionData);};else _0x3f988d===_0x349dcd(0x1ff)&&(_0x5b675f[_0x349dcd(0x173)]=_0x349dcd(0xe9),_0x15052e[_0x349dcd(0x173)]=_0x349dcd(0x209),_0x15052e[_0x349dcd(0xf9)]=_0x349dcd(0x13f),_0x15052e[_0x349dcd(0x101)]=()=>{closeActionSheet(),commitDelete('single',sessions['find'](_0x11b70=>_0x11b70['id']===editingId));},_0x10a2da['textContent']=_0x349dcd(0x20c),_0x10a2da[_0x349dcd(0xf9)]=_0x349dcd(0x11b),_0x10a2da[_0x349dcd(0x101)]=()=>{const _0x47c28a=_0x349dcd;closeActionSheet(),commitDelete(_0x47c28a(0x175),sessions['find'](_0x370777=>_0x370777['id']===editingId));});}function closeActionSheet(){const _0x2894b9=a2_0x2e7e88;document['getElementById'](_0x2894b9(0x14c))[_0x2894b9(0xd3)][_0x2894b9(0x9c)](_0x2894b9(0x1b0)),document['getElementById'](_0x2894b9(0x191))[_0x2894b9(0xd3)][_0x2894b9(0x9c)](_0x2894b9(0x150));}function openSettings(){openSheet('settingsSheet');}function saveCoachSettings(){const _0x3725e3=a2_0x2e7e88,_0x21f006=document['getElementById'](_0x3725e3(0x1ef))[_0x3725e3(0x1fa)];localStorage['setItem']('uc_settings_cancel_window',_0x21f006),console[_0x3725e3(0x114)](_0x3725e3(0xc8),_0x21f006),DataManager[_0x3725e3(0xc0)](_0x3725e3(0x13b),{'settings':{'cancel_window':_0x21f006}})['catch'](_0x257fe1=>{const _0x556e55=_0x3725e3;console[_0x556e55(0x1c9)](_0x556e55(0x171),_0x257fe1),showToast(_0x556e55(0x1b2),![]);});}function loadCoachSettings(){const _0xc26690=a2_0x2e7e88,_0x4c314a=localStorage['getItem']('uc_settings_cancel_window');_0x4c314a&&(document[_0xc26690(0x188)]('settingCancelWindow')[_0xc26690(0x1fa)]=_0x4c314a);}function openRangesSheet(){closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet('rangesSheet');}function addRange(){const _0x49652a=a2_0x2e7e88,_0x17195a=document['getElementById'](_0x49652a(0x19d))[_0x49652a(0x1fa)],_0x2861bb=document[_0x49652a(0x188)](_0x49652a(0xf7))[_0x49652a(0x1fa)],_0x5e1358=document[_0x49652a(0x188)](_0x49652a(0x1a0))['value'],_0x5c24cb=document['getElementById']('rangeEndTime')[_0x49652a(0x1fa)];if(!_0x17195a||!_0x2861bb||!_0x5e1358||!_0x5c24cb)return alert(_0x49652a(0xa4));const _0x1523f8=_0x17195a+'T'+_0x2861bb,_0x2ef483=_0x5e1358+'T'+_0x5c24cb;if(_0x1523f8>=_0x2ef483)return alert('–û—à–∏–±–∫–∞\x20–¥–∞—Ç');specialRanges[_0x49652a(0xaf)]({'start':_0x1523f8,'end':_0x2ef483}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x49652a(0x153)](),DataManager['fetchFromServer'](_0x49652a(0x13b),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x70b542){const _0x9d991f=a2_0x2e7e88;specialRanges[_0x9d991f(0x14f)](_0x70b542,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x9d991f(0x153)](),DataManager[_0x9d991f(0xc0)](_0x9d991f(0x13b),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x39c407=a2_0x2e7e88;document['getElementById'](_0x39c407(0x19d))[_0x39c407(0x1fa)]='',document[_0x39c407(0x188)]('rangeStartTime')['value']=_0x39c407(0x10e),document[_0x39c407(0x188)](_0x39c407(0x1a0))[_0x39c407(0x1fa)]='',document[_0x39c407(0x188)](_0x39c407(0x1b6))[_0x39c407(0x1fa)]=_0x39c407(0x190);}function renderRangesList(){const _0x57a540=a2_0x2e7e88,_0xbee297=document[_0x57a540(0x188)]('rangesList');_0xbee297[_0x57a540(0x164)]='';if(!specialRanges[_0x57a540(0x208)]){_0xbee297['innerHTML']=_0x57a540(0xf2);return;}specialRanges['forEach']((_0x356f68,_0xa1b0ce)=>{const _0x5b3940=_0x57a540,_0x17489c=document['createElement'](_0x5b3940(0xa5));_0x17489c[_0x5b3940(0xf9)]=_0x5b3940(0x13a);const _0xd660da=_0x125060=>{const _0x2735d5=_0x5b3940,_0x49e949=new Date(_0x125060);return _0x49e949['getDate']()+'.'+String(_0x49e949[_0x2735d5(0x1cc)]()+0x1)[_0x2735d5(0x1cd)](0x2,'0')+'\x20'+String(_0x49e949[_0x2735d5(0xf4)]())['padStart'](0x2,'0')+':'+String(_0x49e949[_0x2735d5(0x119)]())[_0x2735d5(0x1cd)](0x2,'0');};_0x17489c[_0x5b3940(0x164)]=_0x5b3940(0x189)+_0xd660da(_0x356f68[_0x5b3940(0xc3)])+_0x5b3940(0xe2)+_0xd660da(_0x356f68[_0x5b3940(0x104)])+_0x5b3940(0x148)+_0xa1b0ce+_0x5b3940(0x12d),_0xbee297[_0x5b3940(0x178)](_0x17489c);});}function scrollToToday(){const _0x32bebc=a2_0x2e7e88,_0x3fd63a=getLocalDateStr(new Date()),_0x363be9=document['getElementById'](_0x32bebc(0x11d)+_0x3fd63a),_0x384993=document[_0x32bebc(0x188)](_0x32bebc(0xb1));if(_0x363be9&&_0x384993){const _0x3c76af=_0x384993[_0x32bebc(0x187)],_0x350d81=_0x363be9[_0x32bebc(0x185)],_0x41e545=_0x363be9['offsetWidth'];_0x384993[_0x32bebc(0x146)]=_0x350d81-_0x3c76af/0x2+_0x41e545/0x2,_0x384993['scrollTop']=0x9*GRID_H;}}function onScroll(){const _0xd51ed5=a2_0x2e7e88,_0x2259e1=document[_0xd51ed5(0x188)](_0xd51ed5(0xb1)),_0x178769=document[_0xd51ed5(0x15f)](_0xd51ed5(0x16a));for(let _0x11b17f of _0x178769)if(_0x11b17f[_0xd51ed5(0x185)]>=_0x2259e1[_0xd51ed5(0x146)]){const _0x1932fb=new Date(_0x11b17f[_0xd51ed5(0x1da)]('data-date'));document[_0xd51ed5(0x188)](_0xd51ed5(0xdb))[_0xd51ed5(0x173)]=_0x1932fb[_0xd51ed5(0x1a7)]('ru',{'month':_0xd51ed5(0xcd)})[_0xd51ed5(0xac)]()+'\x20'+_0x1932fb[_0xd51ed5(0x1c7)]();break;}}function showToast(_0xad96b7,_0x39b814=![]){const _0x478c42=a2_0x2e7e88,_0x2943e5=document[_0x478c42(0x188)](_0x478c42(0xa6));_0x2943e5[_0x478c42(0xf9)]='toast-notification\x20'+(_0x39b814?'success':''),document[_0x478c42(0x188)]('toastTitle')[_0x478c42(0x173)]=_0x39b814?'–£—Å–ø–µ—à–Ω–æ':'–ò–Ω—Ñ–æ',document[_0x478c42(0x188)]('toastMessage')[_0x478c42(0x173)]=_0xad96b7,_0x2943e5['classList'][_0x478c42(0x1f8)](_0x478c42(0x163)),setTimeout(()=>{const _0x33628b=_0x478c42;_0x2943e5[_0x33628b(0xd3)][_0x33628b(0x9c)](_0x33628b(0x163));},0xbb8);}function openDayOptions(_0x25d39c,_0x81aea0){const _0x3f1eb6=a2_0x2e7e88;selectedDayForOptions=_0x25d39c,document[_0x3f1eb6(0x188)](_0x3f1eb6(0x1ce))['textContent']=_0x81aea0,openSheet(_0x3f1eb6(0xaa));}function toggleDayOff(){const _0x17a92b=a2_0x2e7e88;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]='off',reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager[_0x17a92b(0xc0)]('save_settings',{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x1df10f=a2_0x2e7e88;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x1df10f(0x153)](),DataManager[_0x1df10f(0xc0)](_0x1df10f(0x13b),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x4bbc36){const _0x7d07f5=a2_0x2e7e88;document[_0x7d07f5(0x188)](_0x7d07f5(0xa3))[_0x7d07f5(0xd3)][_0x7d07f5(0x1f8)](_0x7d07f5(0x150)),document[_0x7d07f5(0x188)](_0x4bbc36)['classList']['add'](_0x7d07f5(0x1b0));}function closeAllSheets(){const _0x2d6984=a2_0x2e7e88;document[_0x2d6984(0x188)](_0x2d6984(0xa3))[_0x2d6984(0xd3)][_0x2d6984(0x9c)]('active'),document[_0x2d6984(0x15f)](_0x2d6984(0xec))[_0x2d6984(0x1c3)](_0x439af6=>_0x439af6[_0x2d6984(0xd3)]['remove'](_0x2d6984(0x1b0)));}function openPatternEditor(){const _0x289ba5=a2_0x2e7e88;closeAllSheets(),document[_0x289ba5(0x188)]('patternEditor')[_0x289ba5(0xd3)][_0x289ba5(0x1f8)]('open'),renderPatternEditor();}function closePatternEditor(){const _0x539d1e=a2_0x2e7e88;document[_0x539d1e(0x188)](_0x539d1e(0x192))[_0x539d1e(0xd3)][_0x539d1e(0x9c)](_0x539d1e(0x1b0));}function savePattern(){const _0xe6a2e5=a2_0x2e7e88;document[_0xe6a2e5(0x188)]('patternEditor')['classList'][_0xe6a2e5(0x9c)]('open'),reRenderBlocks(),DataManager[_0xe6a2e5(0x153)](),DataManager['fetchFromServer']('save_settings',{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x8828fc=a2_0x2e7e88,_0x539fa1=document[_0x8828fc(0x188)]('peGrid');_0x539fa1['innerHTML']='';const _0x1194d1=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1124eb=document['createElement']('div');_0x1124eb[_0x8828fc(0xf9)]=_0x8828fc(0x154),_0x539fa1[_0x8828fc(0x178)](_0x1124eb),_0x1194d1[_0x8828fc(0x1c3)]((_0x4c10a1,_0x4b3edb)=>{const _0x34275c=_0x8828fc,_0x26ebe6=document[_0x34275c(0x10b)](_0x34275c(0xa5));_0x26ebe6[_0x34275c(0xf9)]=_0x34275c(0x123),_0x26ebe6['innerHTML']=_0x4c10a1+'\x20<span\x20class=\x22arrow\x22>‚Üì</span>',_0x26ebe6[_0x34275c(0x101)]=()=>toggleColPattern(_0x4b3edb),_0x539fa1['appendChild'](_0x26ebe6);});for(let _0x2e1c68=0x0;_0x2e1c68<0x18;_0x2e1c68++){const _0x4e8062=document[_0x8828fc(0x10b)]('div');_0x4e8062[_0x8828fc(0xf9)]=_0x8828fc(0x1f3),_0x4e8062['innerHTML']=_0x8828fc(0x18a)+String(_0x2e1c68)['padStart'](0x2,'0')+_0x8828fc(0xa1),_0x4e8062[_0x8828fc(0x101)]=()=>toggleRowPattern(_0x2e1c68),_0x539fa1['appendChild'](_0x4e8062);for(let _0x3d3800=0x0;_0x3d3800<0x7;_0x3d3800++){const _0x10fa0b=document[_0x8828fc(0x10b)](_0x8828fc(0xa5)),_0x234941=(availabilityPattern[_0x3d3800]||[])[_0x8828fc(0x1a5)](_0x2e1c68),_0xd772f3=!_0x234941;_0x10fa0b['className']='pe-cell\x20'+(_0xd772f3?_0x8828fc(0x150):''),_0x10fa0b[_0x8828fc(0x101)]=()=>toggleSinglePattern(_0x3d3800,_0x2e1c68),_0x539fa1[_0x8828fc(0x178)](_0x10fa0b);}}}function toggleSinglePattern(_0x4ff591,_0x15bb57){const _0x448c57=a2_0x2e7e88;if(!availabilityPattern[_0x4ff591])availabilityPattern[_0x4ff591]=[];const _0x59fb6d=availabilityPattern[_0x4ff591],_0x3dc421=_0x59fb6d[_0x448c57(0x1b3)](_0x15bb57);_0x3dc421===-0x1?_0x59fb6d['push'](_0x15bb57):_0x59fb6d[_0x448c57(0x14f)](_0x3dc421,0x1),renderPatternEditor();}function toggleColPattern(_0x507613){const _0x56ba4b=a2_0x2e7e88;if(!availabilityPattern[_0x507613])availabilityPattern[_0x507613]=[];const _0x48bba8=availabilityPattern[_0x507613];_0x48bba8[_0x56ba4b(0x208)]===0x0?availabilityPattern[_0x507613]=Array[_0x56ba4b(0x12e)]({'length':0x18},(_0xb928d,_0x4b52b8)=>_0x4b52b8):availabilityPattern[_0x507613]=[],renderPatternEditor();}function toggleRowPattern(_0x30720f){const _0x3b7beb=a2_0x2e7e88;let _0x42a59a=!![];for(let _0x15270d=0x0;_0x15270d<0x7;_0x15270d++){if((availabilityPattern[_0x15270d]||[])[_0x3b7beb(0x1a5)](_0x30720f)){_0x42a59a=![];break;}}for(let _0x2e9b63=0x0;_0x2e9b63<0x7;_0x2e9b63++){if(!availabilityPattern[_0x2e9b63])availabilityPattern[_0x2e9b63]=[];const _0x23cdc7=availabilityPattern[_0x2e9b63][_0x3b7beb(0x1b3)](_0x30720f);if(_0x42a59a){if(_0x23cdc7===-0x1)availabilityPattern[_0x2e9b63]['push'](_0x30720f);}else{if(_0x23cdc7!==-0x1)availabilityPattern[_0x2e9b63][_0x3b7beb(0x14f)](_0x23cdc7,0x1);}}renderPatternEditor();}function renderPCol(_0x527e7b,_0x38ef22){const _0x445058=a2_0x2e7e88;_0x527e7b[_0x445058(0x164)]='';const _0x31d17a=Math[_0x445058(0xbe)](_0x527e7b[_0x445058(0x185)]);(availabilityPattern[_0x38ef22]||[])[_0x445058(0x1c3)](_0x46ccc1=>{const _0x46051d=_0x445058,_0x4db8e5=document[_0x46051d(0x10b)](_0x46051d(0xa5));_0x4db8e5[_0x46051d(0xf9)]=_0x46051d(0x20d);const _0x4d16ce=_0x46ccc1*GRID_H;_0x4db8e5['style']['top']=_0x4d16ce+'px',_0x4db8e5[_0x46051d(0xe5)][_0x46051d(0x1f5)]='-'+_0x31d17a+_0x46051d(0xfd)+_0x4d16ce+'px',_0x4db8e5[_0x46051d(0x101)]=_0x5e68fc=>{const _0x5318e8=_0x46051d;_0x5e68fc[_0x5318e8(0x141)](),toggleSinglePattern(_0x38ef22,_0x46ccc1);},_0x527e7b['appendChild'](_0x4db8e5);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x40e351=a2_0x2e7e88,_0x258156=new Date(),_0x289b64=document[_0x40e351(0x188)]('globalTimeLine'),_0x8e76f5=document['getElementById'](_0x40e351(0xb0)),_0x478758=(_0x258156[_0x40e351(0xf4)]()*0x3c+_0x258156['getMinutes']())/0x3c*GRID_H;_0x289b64[_0x40e351(0xe5)]['top']=_0x478758+'px',_0x289b64[_0x40e351(0xe5)]['display']=_0x40e351(0x1d1),_0x8e76f5[_0x40e351(0x173)]=String(_0x258156[_0x40e351(0xf4)]())[_0x40e351(0x1cd)](0x2,'0')+':'+String(_0x258156[_0x40e351(0x119)]())['padStart'](0x2,'0'),_0x8e76f5[_0x40e351(0xe5)]['display']=_0x40e351(0x1d1),_0x8e76f5[_0x40e351(0xe5)][_0x40e351(0x18d)]=_0x478758+'px';}document[a2_0x2e7e88(0x174)](a2_0x2e7e88(0x103),init);function openDayOptions(_0x334de5){const _0x12efce=a2_0x2e7e88;selectedDayForOptions=_0x334de5;const _0xcdcaa4=new Date(_0x334de5),_0x2e83d9={'weekday':'long','day':'numeric','month':_0x12efce(0xcd),'year':'numeric'},_0x1fee56=_0xcdcaa4[_0x12efce(0x142)](_0x12efce(0xfc),_0x2e83d9);document[_0x12efce(0x188)](_0x12efce(0x193))['textContent']=_0x1fee56[_0x12efce(0x1a4)](0x0)[_0x12efce(0xac)]()+_0x1fee56[_0x12efce(0x1b8)](0x1);let _0x59ef1d=_0xcdcaa4[_0x12efce(0x15c)]()-0x1;if(_0x59ef1d===-0x1)_0x59ef1d=0x6;const _0x5c1b57=availabilityPattern[_0x59ef1d]||[],_0x5398b=0x18-_0x5c1b57[_0x12efce(0x208)],_0x56a477=_0x5398b*0x3c,_0x1cc827=sessions[_0x12efce(0xcb)](_0x20eaa5=>_0x20eaa5['dateStr']===_0x334de5&&_0x20eaa5['status']!==_0x12efce(0x170));let _0x5ba2ff=_0x1cc827[_0x12efce(0x210)](_0x2065bc=>{const _0x550c28=_0x12efce,[_0x47ceb9,_0x178284]=_0x2065bc['start'][_0x550c28(0x102)](':')[_0x550c28(0x210)](Number),[_0xab43d4,_0x2f9090]=_0x2065bc['end'][_0x550c28(0x102)](':')[_0x550c28(0x210)](Number);return[_0x47ceb9*0x3c+_0x178284,_0xab43d4*0x3c+_0x2f9090];});_0x5ba2ff[_0x12efce(0x15d)]((_0x210eb2,_0x41d8a0)=>_0x210eb2[0x0]-_0x41d8a0[0x0]);let _0x3fe9e8=[];if(_0x5ba2ff['length']>0x0){let _0x3e4709=_0x5ba2ff[0x0];for(let _0x42b1d8=0x1;_0x42b1d8<_0x5ba2ff[_0x12efce(0x208)];_0x42b1d8++){_0x5ba2ff[_0x42b1d8][0x0]<_0x3e4709[0x1]?_0x3e4709[0x1]=Math[_0x12efce(0xbc)](_0x3e4709[0x1],_0x5ba2ff[_0x42b1d8][0x1]):(_0x3fe9e8[_0x12efce(0xaf)](_0x3e4709),_0x3e4709=_0x5ba2ff[_0x42b1d8]);}_0x3fe9e8[_0x12efce(0xaf)](_0x3e4709);}let _0x243aa2=0x0;_0x3fe9e8[_0x12efce(0x1c3)](_0x59b0cb=>_0x243aa2+=_0x59b0cb[0x1]-_0x59b0cb[0x0]),document[_0x12efce(0x188)]('doWorkHours')[_0x12efce(0x173)]=formatMinsToHrs(_0x56a477),document[_0x12efce(0x188)](_0x12efce(0x1c5))['textContent']=formatMinsToHrs(_0x243aa2);const _0x116fa4=_0x56a477>0x0?Math['round'](_0x243aa2/_0x56a477*0x64):0x0,_0x3df501=document[_0x12efce(0x188)]('doLoadPercent');_0x3df501[_0x12efce(0x173)]=_0x116fa4+'%';const _0x2f2d18=document['getElementById'](_0x12efce(0xde));if(_0x116fa4>0x64)_0x3df501['style'][_0x12efce(0x126)]=_0x12efce(0x127),_0x2f2d18[_0x12efce(0xe5)][_0x12efce(0x105)]='rgba(255,\x2069,\x2058,\x200.3)';else _0x116fa4>0x50?(_0x3df501[_0x12efce(0xe5)][_0x12efce(0x126)]=_0x12efce(0x1c6),_0x2f2d18[_0x12efce(0xe5)][_0x12efce(0x105)]=_0x12efce(0x1e7)):(_0x3df501['style'][_0x12efce(0x126)]=_0x12efce(0xe6),_0x2f2d18[_0x12efce(0xe5)][_0x12efce(0x105)]='rgba(255,255,255,0.05)');const _0x2768a1=document[_0x12efce(0x188)]('doEventsList');_0x2768a1[_0x12efce(0x164)]='';_0x1cc827[_0x12efce(0x208)]===0x0?_0x2768a1['innerHTML']=_0x12efce(0x207):(_0x1cc827[_0x12efce(0x15d)]((_0x390629,_0x3ce52e)=>_0x390629['start'][_0x12efce(0x134)](_0x3ce52e[_0x12efce(0xc3)])),_0x1cc827[_0x12efce(0x1c3)](_0x443f7a=>{const _0x5579a8=_0x12efce,_0x5443dd=clients[_0x5579a8(0x179)](_0x25f332=>_0x25f332[_0x5579a8(0xc4)]===_0x443f7a[_0x5579a8(0x200)]),_0x3a2904=_0x5443dd?_0x5443dd[_0x5579a8(0x126)]:_0x5579a8(0x121),_0xd9f5dc=_0x443f7a['status']==='completed',_0x3a7e0d=_0xd9f5dc?_0x5579a8(0x1ac):'',_0x434b41=document[_0x5579a8(0x10b)](_0x5579a8(0xa5));_0x434b41['className']=_0x5579a8(0x162),_0x434b41[_0x5579a8(0xe5)][_0x5579a8(0xa8)]=_0x3a2904,_0x434b41[_0x5579a8(0x164)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>'+_0x443f7a['start']+_0x5579a8(0x176)+_0x443f7a['end']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x443f7a[_0x5579a8(0x200)]+_0x5579a8(0x180)+_0x3a7e0d+_0x5579a8(0xcf),_0x2768a1['appendChild'](_0x434b41);}));const _0x4b44f7=document[_0x12efce(0x188)](_0x12efce(0x10d)),_0xd00e75=dateExceptions[_0x334de5]===_0x12efce(0x1a6);_0xd00e75?(_0x4b44f7[_0x12efce(0x173)]=_0x12efce(0xda),_0x4b44f7['className']='btn-primary\x20btn-secondary',_0x4b44f7[_0x12efce(0xe5)][_0x12efce(0x126)]=_0x12efce(0xe6),_0x4b44f7[_0x12efce(0xe5)]['background']=_0x12efce(0xa9)):(_0x4b44f7[_0x12efce(0x173)]=_0x12efce(0x11e),_0x4b44f7[_0x12efce(0xf9)]=_0x12efce(0x115),_0x4b44f7['style']['color']=_0x12efce(0x127),_0x4b44f7[_0x12efce(0xe5)][_0x12efce(0xc2)]='rgba(255,\x2069,\x2058,\x200.15)'),openSheet('dayOptionsSheet');}let currentAnPeriod=a2_0x2e7e88(0x17f);function openAnalytics(){const _0x1db175=a2_0x2e7e88,_0x2df5f8=document['querySelector'](_0x1db175(0xd7));setAnalyticsPeriod(_0x1db175(0x17f),_0x2df5f8),closeAllSheets(),openSheet(_0x1db175(0x1d5));}function setAnalyticsPeriod(_0x1090ba,_0xcaed9a){const _0x181ccb=a2_0x2e7e88;currentAnPeriod=_0x1090ba,document[_0x181ccb(0x15f)]('.period-switch\x20.p-btn')[_0x181ccb(0x1c3)](_0x41c817=>_0x41c817[_0x181ccb(0xd3)][_0x181ccb(0x9c)]('active'));if(_0xcaed9a)_0xcaed9a[_0x181ccb(0xd3)]['add'](_0x181ccb(0x150));const _0x4deb83=document[_0x181ccb(0x188)](_0x181ccb(0x1c4));_0x4deb83[_0x181ccb(0xe5)][_0x181ccb(0x165)]=_0x1090ba===_0x181ccb(0xab)?_0x181ccb(0x16f):_0x181ccb(0x118);const _0x239c06=new Date();let _0x58f6dc=new Date(),_0x3eb148=new Date();if(_0x1090ba===_0x181ccb(0x17f))_0x58f6dc=getStartOfWeek(_0x239c06),_0x3eb148=new Date(_0x58f6dc),_0x3eb148[_0x181ccb(0x107)](_0x3eb148[_0x181ccb(0x9d)]()+0x6);else{if(_0x1090ba==='month')_0x58f6dc=new Date(_0x239c06[_0x181ccb(0x1c7)](),_0x239c06[_0x181ccb(0x1cc)](),0x1),_0x3eb148=new Date(_0x239c06[_0x181ccb(0x1c7)](),_0x239c06[_0x181ccb(0x1cc)]()+0x1,0x0);else{!document[_0x181ccb(0x188)](_0x181ccb(0x211))[_0x181ccb(0x1fa)]&&(document['getElementById'](_0x181ccb(0x211))[_0x181ccb(0x1fa)]=getLocalDateStr(_0x239c06),document['getElementById'](_0x181ccb(0xef))[_0x181ccb(0x1fa)]=getLocalDateStr(_0x239c06));refreshAnalytics();return;}}document[_0x181ccb(0x188)]('anStart')[_0x181ccb(0x1fa)]=getLocalDateStr(_0x58f6dc),document[_0x181ccb(0x188)]('anEnd')[_0x181ccb(0x1fa)]=getLocalDateStr(_0x3eb148),refreshAnalytics();}function refreshAnalytics(){const _0x389824=a2_0x2e7e88,_0x5e719a=document[_0x389824(0x188)](_0x389824(0x211))['value'],_0x37cccf=document[_0x389824(0x188)](_0x389824(0xef))[_0x389824(0x1fa)];if(!_0x5e719a||!_0x37cccf)return;const _0x243cc9=sessions[_0x389824(0xcb)](_0x267245=>_0x267245[_0x389824(0x1b1)]>=_0x5e719a&&_0x267245[_0x389824(0x1b1)]<=_0x37cccf&&_0x267245['status']!=='cancelled'),_0x2b75f5=_0x243cc9['length'],_0x5a3ee7=_0x243cc9[_0x389824(0xcb)](_0x1ee257=>_0x1ee257['status']===_0x389824(0x1a1))[_0x389824(0x208)],_0x5b5480=_0x2b75f5>0x0?Math['round'](_0x5a3ee7/_0x2b75f5*0x64):0x0;document[_0x389824(0x188)](_0x389824(0x14e))[_0x389824(0x173)]=_0x5b5480+'%',document[_0x389824(0x188)]('anTotalStats')[_0x389824(0x173)]=_0x5a3ee7+'\x20–∏–∑\x20'+_0x2b75f5+_0x389824(0xd5);const _0x25e1b4=document[_0x389824(0x188)]('anDonutCircle'),_0x54bb77=0x2*Math['PI']*0x23,_0x24e3ce=_0x54bb77-_0x5b5480/0x64*_0x54bb77;_0x25e1b4[_0x389824(0xe5)]['strokeDashoffset']=_0x24e3ce;const _0x4e13c0={};_0x243cc9[_0x389824(0x1c3)](_0xb87d7=>{const _0x4c3127=_0x389824;if(!_0x4e13c0[_0xb87d7[_0x4c3127(0x200)]]){const _0x1cd5b2=clients[_0x4c3127(0x179)](_0x365b27=>_0x365b27[_0x4c3127(0xc4)]===_0xb87d7['client']);_0x4e13c0[_0xb87d7['client']]={'total':0x0,'done':0x0,'color':_0x1cd5b2?_0x1cd5b2['color']:_0x4c3127(0x121)};}_0x4e13c0[_0xb87d7[_0x4c3127(0x200)]][_0x4c3127(0x1c8)]++;if(_0xb87d7[_0x4c3127(0xc9)]===_0x4c3127(0x1a1))_0x4e13c0[_0xb87d7[_0x4c3127(0x200)]][_0x4c3127(0x1ba)]++;});const _0x29b515=document[_0x389824(0x188)]('analyticsList');_0x29b515['innerHTML']='';const _0x206912=Object['entries'](_0x4e13c0)[_0x389824(0x15d)]((_0x70f88e,_0x497821)=>_0x497821[0x1][_0x389824(0x1c8)]-_0x70f88e[0x1][_0x389824(0x1c8)]);if(_0x206912[_0x389824(0x208)]===0x0){_0x29b515[_0x389824(0x164)]=_0x389824(0xfa);return;}_0x206912[_0x389824(0x1c3)](([_0x277d90,_0x1745d9])=>{const _0x279b25=_0x389824,_0x409a2e=Math[_0x279b25(0xbe)](_0x1745d9[_0x279b25(0x1ba)]/_0x1745d9[_0x279b25(0x1c8)]*0x64),_0x1064f5=document[_0x279b25(0x10b)]('div');_0x1064f5[_0x279b25(0xf9)]=_0x279b25(0x166),_0x1064f5[_0x279b25(0xe5)][_0x279b25(0xa8)]=_0x1745d9[_0x279b25(0x126)],_0x1064f5[_0x279b25(0x164)]=_0x279b25(0x198)+_0x277d90+_0x279b25(0x1c0)+_0x1745d9['done']+'</span>\x20/\x20'+_0x1745d9[_0x279b25(0x1c8)]+_0x279b25(0x1ab)+_0x409a2e+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x29b515[_0x279b25(0x178)](_0x1064f5);});}function formatMinsToHrs(_0x578271){const _0x14135d=a2_0x2e7e88;if(_0x578271===0x0)return'0';const _0x4733df=Math[_0x14135d(0x205)](_0x578271/0x3c),_0x2f1a3d=_0x578271%0x3c;if(_0x2f1a3d===0x0)return _0x4733df+'—á';return _0x4733df+'—á\x20'+_0x2f1a3d+'–º';}