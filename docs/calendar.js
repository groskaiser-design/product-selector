const a2_0x265137=a2_0x2fd9;(function(_0xfc9192,_0x5b4679){const _0x2f544f=a2_0x2fd9,_0x18bd06=_0xfc9192();while(!![]){try{const _0x164cbe=-parseInt(_0x2f544f(0xce))/0x1*(parseInt(_0x2f544f(0x10a))/0x2)+parseInt(_0x2f544f(0x127))/0x3*(-parseInt(_0x2f544f(0xaa))/0x4)+parseInt(_0x2f544f(0x183))/0x5*(parseInt(_0x2f544f(0xfd))/0x6)+-parseInt(_0x2f544f(0x10c))/0x7+parseInt(_0x2f544f(0x132))/0x8*(-parseInt(_0x2f544f(0xa9))/0x9)+parseInt(_0x2f544f(0x108))/0xa+parseInt(_0x2f544f(0xc9))/0xb;if(_0x164cbe===_0x5b4679)break;else _0x18bd06['push'](_0x18bd06['shift']());}catch(_0x5c6f70){_0x18bd06['push'](_0x18bd06['shift']());}}}(a2_0x4348,0x3e29f),function initTMA(){const _0x43b932=a2_0x2fd9;try{const _0x137b0e=window['Telegram']?.[_0x43b932(0x10f)];if(!_0x137b0e)return;_0x137b0e[_0x43b932(0x161)](),_0x137b0e['expand']();try{_0x137b0e['setHeaderColor'](_0x43b932(0x1bb)),_0x137b0e['setBackgroundColor']&&_0x137b0e[_0x43b932(0xbc)](_0x43b932(0x1bb));}catch(_0x5bd95c){console['log'](_0x43b932(0x12b),_0x5bd95c);}try{_0x137b0e[_0x43b932(0xb6)]&&(_0x137b0e[_0x43b932(0xb6)][_0x43b932(0xc5)](),_0x137b0e['BackButton']['offClick'](),_0x137b0e['BackButton']['onClick'](function(){const _0x2e1a01=_0x43b932;window[_0x2e1a01(0x178)][_0x2e1a01(0xd0)]='router.html';}));}catch(_0x8e3da0){console[_0x43b932(0x188)](_0x43b932(0x115),_0x8e3da0);}try{if(_0x137b0e[_0x43b932(0x1aa)])_0x137b0e[_0x43b932(0x1aa)]();}catch(_0x454e79){}}catch(_0x2eef42){console[_0x43b932(0x175)](_0x43b932(0x17c),_0x2eef42);}}());function isAdmin(){const _0x579ddb=a2_0x2fd9;try{const _0xffdac8=Number(window[_0x579ddb(0x19f)]?.[_0x579ddb(0x10f)]?.[_0x579ddb(0x102)]?.[_0x579ddb(0xb3)]?.['id']);return _0xffdac8===0xbaf7174;}catch(_0xf4e8c2){return![];}}const APP_VERSION='v9.0-BATCH-CALENDAR',API_URL=a2_0x265137(0x193),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x265137(0xb9),KEY_SESSIONS=a2_0x265137(0x19b),KEY_SETTINGS=a2_0x265137(0x1cd);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x39e7ae=a2_0x265137;return window[_0x39e7ae(0x19f)]?.['WebApp']?.['initDataUnsafe']?.[_0x39e7ae(0xb3)]?.['id']||_0x39e7ae(0x185);},'saveLocally'(){const _0x1d8ea5=a2_0x265137;try{localStorage[_0x1d8ea5(0x124)](KEY_CLIENTS,JSON['stringify'](clients)),localStorage['setItem'](KEY_SESSIONS,JSON[_0x1d8ea5(0x1a0)](sessions)),localStorage[_0x1d8ea5(0x124)](KEY_SETTINGS,JSON[_0x1d8ea5(0x1a0)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x3d7319){console[_0x1d8ea5(0x175)](_0x1d8ea5(0x1a2),_0x3d7319);}},'loadLocal'(){const _0x3f8fbe=a2_0x265137;try{const _0x1abd66=localStorage[_0x3f8fbe(0x1cf)](KEY_CLIENTS);if(_0x1abd66)clients=JSON[_0x3f8fbe(0xda)](_0x1abd66);const _0x5da0fd=localStorage[_0x3f8fbe(0x1cf)](KEY_SESSIONS);if(_0x5da0fd)sessions=JSON['parse'](_0x5da0fd);const _0x2e44ba=localStorage[_0x3f8fbe(0x1cf)](KEY_SETTINGS);if(_0x2e44ba){const _0x38dbb4=JSON['parse'](_0x2e44ba);if(_0x38dbb4['pattern'])availabilityPattern=_0x38dbb4[_0x3f8fbe(0x1d8)];if(_0x38dbb4[_0x3f8fbe(0xc0)])dateExceptions=_0x38dbb4[_0x3f8fbe(0xc0)];if(_0x38dbb4[_0x3f8fbe(0xdd)])specialRanges=_0x38dbb4[_0x3f8fbe(0xdd)];}else{for(let _0x5544eb=0x0;_0x5544eb<0x7;_0x5544eb++)availabilityPattern[_0x5544eb]=Array[_0x3f8fbe(0x187)]({'length':0xc},(_0x2e015a,_0x59039f)=>_0x59039f+0x9);}}catch(_0x146dcc){console[_0x3f8fbe(0x175)](_0x3f8fbe(0xf8),_0x146dcc);}},async 'fetchFromServer'(_0x102952,_0x25dbfc={}){const _0xd990d0=a2_0x265137,_0x140974=window['Telegram']?.['WebApp'],_0x4b6f01={'action':_0x102952,'init_data':_0x140974?.[_0xd990d0(0x192)]||'',..._0x25dbfc};try{const _0x4dec82=await fetch(API_URL,{'method':_0xd990d0(0xad),'headers':{'Content-Type':_0xd990d0(0x1e8)},'body':JSON[_0xd990d0(0x1a0)](_0x4b6f01)}),_0xf8cfa3=await _0x4dec82[_0xd990d0(0x1ec)]();if(!_0xf8cfa3['ok'])throw new Error(_0xf8cfa3[_0xd990d0(0x175)]||_0xd990d0(0x1bf));return _0xf8cfa3['data'];}catch(_0x2a5483){console[_0xd990d0(0x175)](_0xd990d0(0x157)+_0x102952+_0xd990d0(0x1b8),_0x2a5483);throw _0x2a5483;}},async 'syncLoad'(){const _0x1a61f5=a2_0x265137,_0x3b63cb=new Date(),_0x5d3b2b=_0x3b63cb[_0x1a61f5(0xc6)]()+'-'+String(_0x3b63cb[_0x1a61f5(0x19a)]()+0x1)[_0x1a61f5(0x1de)](0x2,'0'),_0x13ae6a=new Date(_0x3b63cb);_0x13ae6a[_0x1a61f5(0x1da)](_0x3b63cb[_0x1a61f5(0x19a)]()+0x1);const _0x570f86=_0x13ae6a[_0x1a61f5(0xc6)]()+'-'+String(_0x13ae6a[_0x1a61f5(0x19a)]()+0x1)[_0x1a61f5(0x1de)](0x2,'0'),_0x10fad5=Date[_0x1a61f5(0x10d)]();console[_0x1a61f5(0x188)]('[Sync]\x20Loading\x20'+_0x5d3b2b+',\x20'+_0x570f86+_0x1a61f5(0xeb));try{const [_0x33ee38,_0x2a8381]=await Promise[_0x1a61f5(0x1a7)]([this[_0x1a61f5(0x133)](_0x1a61f5(0xa5),{'month_str':_0x5d3b2b}),this[_0x1a61f5(0x133)](_0x1a61f5(0xa5),{'month_str':_0x570f86})]);if(lastUserActionTime>_0x10fad5)return console[_0x1a61f5(0x120)]('[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response'),![];return this[_0x1a61f5(0xd1)](_0x33ee38,_0x5d3b2b),this[_0x1a61f5(0xd1)](_0x2a8381,_0x570f86),this[_0x1a61f5(0x83)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x2920c5){console[_0x1a61f5(0x175)](_0x2920c5);throw _0x2920c5;}},'mergeServerData'(_0x550f37,_0x1bde53){const _0x123cbb=a2_0x265137;if(!_0x550f37)return;_0x550f37[_0x123cbb(0x101)]&&Array['isArray'](_0x550f37[_0x123cbb(0x101)])&&(clients=_0x550f37[_0x123cbb(0x101)]);if(_0x550f37[_0x123cbb(0x1d0)]){if(_0x550f37[_0x123cbb(0x1d0)][_0x123cbb(0x1d8)])availabilityPattern=_0x550f37[_0x123cbb(0x1d0)]['pattern'];if(_0x550f37['settings'][_0x123cbb(0xc0)])dateExceptions=_0x550f37[_0x123cbb(0x1d0)][_0x123cbb(0xc0)];if(_0x550f37[_0x123cbb(0x1d0)][_0x123cbb(0xdd)])specialRanges=_0x550f37['settings'][_0x123cbb(0xdd)];if(_0x550f37[_0x123cbb(0x1d0)][_0x123cbb(0xe6)]){localStorage[_0x123cbb(0x124)](_0x123cbb(0xbe),_0x550f37['settings'][_0x123cbb(0xe6)]);const _0x4913e0=document[_0x123cbb(0x1c5)](_0x123cbb(0x7b));if(_0x4913e0)_0x4913e0[_0x123cbb(0x190)]=_0x550f37[_0x123cbb(0x1d0)][_0x123cbb(0xe6)];}}_0x550f37['calendar']&&(sessions=sessions[_0x123cbb(0x1e6)](_0x2a5e82=>!_0x2a5e82[_0x123cbb(0x174)][_0x123cbb(0xab)](_0x1bde53)),Object[_0x123cbb(0x95)](_0x550f37[_0x123cbb(0x10b)])[_0x123cbb(0x117)](_0x5b14d6=>{const _0xda32fb=_0x123cbb,_0x46cd97=_0x550f37[_0xda32fb(0x10b)][_0x5b14d6];_0x46cd97[_0xda32fb(0x117)](_0x3da973=>{const _0x30cae1=_0xda32fb,_0x573f68=clients[_0x30cae1(0x11e)](_0x57c467=>String(_0x57c467['id'])===String(_0x3da973['c']));sessions['push']({'id':_0x3da973['i'],'clientId':_0x3da973['c'],'client':_0x573f68?_0x573f68['name']:_0x30cae1(0x118),'dateStr':_0x1bde53+'-'+_0x5b14d6[_0x30cae1(0x1de)](0x2,'0'),'start':_0x3da973['s'],'end':_0x3da973['e'],'status':_0x3da973['st']||_0x30cae1(0x153),'note':_0x3da973['n']||'','seriesId':_0x3da973['sid']||null});});}));},async 'syncBatch'(_0x5ac50c){const _0x49b87e=a2_0x265137,_0x5e6a03=[...new Set(_0x5ac50c)],_0xe081c9=_0x5e6a03[_0x49b87e(0x160)](_0x2c0cc7=>{const _0x5c77bb=_0x49b87e,_0x2e18d2=sessions['filter'](_0x2be9b3=>_0x2be9b3['dateStr']===_0x2c0cc7&&_0x2be9b3[_0x5c77bb(0x78)]!==_0x5c77bb(0x156)),_0x208ecb=_0x2e18d2[_0x5c77bb(0x160)](_0xc5afea=>({'i':_0xc5afea['id'],'c':_0xc5afea[_0x5c77bb(0x19c)],'s':_0xc5afea[_0x5c77bb(0x16f)],'e':_0xc5afea[_0x5c77bb(0x197)],'st':_0xc5afea[_0x5c77bb(0x78)],'n':_0xc5afea['note'],'sid':_0xc5afea[_0x5c77bb(0x146)]}));return{'date':_0x2c0cc7,'day_data':_0x208ecb};});if(_0xe081c9[_0x49b87e(0x9a)]===0x0)return;console[_0x49b87e(0x188)]('[Sync]\x20Pushing\x20batch\x20updates\x20for\x20'+_0xe081c9[_0x49b87e(0x9a)]+_0x49b87e(0x1d4)),await this['fetchFromServer'](_0x49b87e(0x1a5),{'changes':_0xe081c9});}};async function init(){const _0x3b7c5a=a2_0x265137;DataManager['loadLocal'](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById'](_0x3b7c5a(0xd6))['addEventListener']('scroll',()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']()[_0x3b7c5a(0x128)](()=>{showToast('–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ',!![]);})[_0x3b7c5a(0x181)](_0x1e86d9=>{const _0x306f09=_0x3b7c5a;showToast(_0x306f09(0xfb),![]);});}function generateId(){const _0x47cbad=a2_0x265137;return Date['now']()[_0x47cbad(0x177)](0x24)+Math[_0x47cbad(0x1b3)]()[_0x47cbad(0x177)](0x24)[_0x47cbad(0x70)](0x2,0x5);}function toggleSeriesInput(){const _0xe105e1=a2_0x265137,_0x54b0eb=document[_0xe105e1(0x1c5)](_0xe105e1(0x1a4))[_0xe105e1(0x15e)],_0x50869c=document['getElementById'](_0xe105e1(0x14f));_0x50869c['style'][_0xe105e1(0x13c)]=_0x54b0eb?_0xe105e1(0x92):_0xe105e1(0x8a);const _0x2ff879=document[_0xe105e1(0x1c5)](_0xe105e1(0xd5));_0x2ff879['style'][_0xe105e1(0x6d)]=_0x54b0eb?_0xe105e1(0x137):'10px';}function openAddSession(_0x383893){const _0x4adfbf=a2_0x265137;editingId=null,populateClientSelect(),document[_0x4adfbf(0x1c5)](_0x4adfbf(0x12c))[_0x4adfbf(0xed)]=_0x4adfbf(0x166),document[_0x4adfbf(0x1c5)](_0x4adfbf(0x138))[_0x4adfbf(0xf5)][_0x4adfbf(0x13c)]=_0x4adfbf(0x8a),document[_0x4adfbf(0x1c5)](_0x4adfbf(0x8c))[_0x4adfbf(0xf5)][_0x4adfbf(0x13c)]='none';const _0x2ea78e=document[_0x4adfbf(0x1c5)](_0x4adfbf(0xd5)),_0xaa175b=document['getElementById'](_0x4adfbf(0x14f));_0x2ea78e['style'][_0x4adfbf(0x13c)]='flex',_0x2ea78e['style']['borderRadius']=_0x4adfbf(0x97),document[_0x4adfbf(0x1c5)](_0x4adfbf(0x1a4))[_0x4adfbf(0x15e)]=![],document['getElementById'](_0x4adfbf(0x18d))[_0x4adfbf(0x190)]=0x4,_0xaa175b['style'][_0x4adfbf(0x13c)]=_0x4adfbf(0x8a),document[_0x4adfbf(0x1c5)](_0x4adfbf(0x130))[_0x4adfbf(0x190)]=getLocalDateStr(_0x383893),updateDateDisplay();const _0x5f0d6a=_0x383893[_0x4adfbf(0x74)]();document['getElementById'](_0x4adfbf(0xcf))[_0x4adfbf(0x190)]=String(_0x5f0d6a)['padStart'](0x2,'0')+':00',document[_0x4adfbf(0x1c5)](_0x4adfbf(0x93))[_0x4adfbf(0x190)]=String(_0x5f0d6a+0x1)[_0x4adfbf(0x1de)](0x2,'0')+':00',openSheet(_0x4adfbf(0x154));}function openEdit(_0x59f188){const _0x38b645=a2_0x265137;editingId=_0x59f188['id'],populateClientSelect(),document[_0x38b645(0x1c5)](_0x38b645(0x12c))['textContent']='–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å',document['getElementById'](_0x38b645(0x138))['style'][_0x38b645(0x13c)]=_0x38b645(0x92);const _0x42d020=document['getElementById'](_0x38b645(0x8c));_0x42d020[_0x38b645(0xf5)]['display']=_0x38b645(0x119);_0x59f188[_0x38b645(0x78)]==='completed'?(_0x42d020['className']=_0x38b645(0x11c),_0x42d020[_0x38b645(0xdf)]=_0x38b645(0x88)):(_0x42d020[_0x38b645(0x1d9)]=_0x38b645(0x86),_0x42d020[_0x38b645(0xdf)]=_0x38b645(0x8f));const _0x5865e1=!!_0x59f188['seriesId'];document[_0x38b645(0x1c5)](_0x38b645(0xd5))[_0x38b645(0xf5)][_0x38b645(0x13c)]=_0x38b645(0x8a),document[_0x38b645(0x1c5)]('seriesCountContainer')['style']['display']=_0x38b645(0x8a),_0x5865e1?(document['getElementById'](_0x38b645(0x1e0))['style'][_0x38b645(0x13c)]=_0x38b645(0x119),document[_0x38b645(0x1c5)]('patternInfoBox')[_0x38b645(0x8b)](_0x38b645(0x15b))['textContent']='–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫'):document[_0x38b645(0x1c5)](_0x38b645(0x1e0))[_0x38b645(0xf5)][_0x38b645(0x13c)]=_0x38b645(0x8a),document[_0x38b645(0x1c5)]('inpClient')[_0x38b645(0x190)]=_0x59f188[_0x38b645(0x142)],document['getElementById'](_0x38b645(0x130))[_0x38b645(0x190)]=_0x59f188[_0x38b645(0x174)],document['getElementById']('inpStart')[_0x38b645(0x190)]=_0x59f188[_0x38b645(0x16f)],document['getElementById'](_0x38b645(0x93))[_0x38b645(0x190)]=_0x59f188['end'],document[_0x38b645(0x1c5)](_0x38b645(0x1dc))['value']=_0x59f188[_0x38b645(0x1dd)]||'',updateDateDisplay(),openSheet(_0x38b645(0x154));}async function trySaveSession(){const _0x1e897d=a2_0x265137,_0x1e4497=document['getElementById'](_0x1e897d(0x194))[_0x1e897d(0x190)],_0x16b16f=document[_0x1e897d(0x1c5)]('inpDate')['value'],_0x24386d=document[_0x1e897d(0x1c5)](_0x1e897d(0xcf))[_0x1e897d(0x190)],_0x41b73e=document[_0x1e897d(0x1c5)](_0x1e897d(0x93))[_0x1e897d(0x190)],_0x3ec87c=document[_0x1e897d(0x1c5)](_0x1e897d(0x1dc))[_0x1e897d(0x190)],_0x36b127=document[_0x1e897d(0x1c5)]('inpRecurring')['checked'];let _0x560849=0x4;if(_0x36b127){const _0x26e630=parseInt(document[_0x1e897d(0x1c5)](_0x1e897d(0x18d))[_0x1e897d(0x190)]);if(!_0x26e630||_0x26e630<0x2){showToast('–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏',![]);return;}if(_0x26e630>0x64){showToast('–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑',![]);return;}_0x560849=_0x26e630;}const _0x4d4772=clients[_0x1e897d(0x11e)](_0x4326f6=>_0x4326f6[_0x1e897d(0x167)]===_0x1e4497);if(!_0x4d4772){showToast(_0x1e897d(0x1b2),![]);return;}const _0x47a67e=validateAppointment(_0x16b16f,_0x24386d,_0x41b73e,editingId,_0x4d4772['id']);if(!_0x47a67e[_0x1e897d(0xb2)]){showToast(_0x47a67e[_0x1e897d(0x75)],![]);return;}_0x47a67e[_0x1e897d(0xfe)]&&showToast(_0x47a67e[_0x1e897d(0xfe)],![]);const _0x34b13b={'client':_0x1e4497,'clientId':_0x4d4772['id'],'start':_0x24386d,'end':_0x41b73e,'note':_0x3ec87c,'status':_0x1e897d(0x153)},_0x3904af=editingId?sessions['find'](_0x8ce710=>_0x8ce710['id']===editingId):null;if(_0x3904af&&_0x3904af['seriesId']){tempSessionData={..._0x34b13b,'dateStr':_0x16b16f,'id':editingId,'seriesId':_0x3904af['seriesId']},openActionSheet(_0x1e897d(0x1a9));return;}let _0x42cbd7=null;if(!editingId)_0x42cbd7=_0x1e897d(0xca);else{if(_0x3904af){if(String(_0x3904af[_0x1e897d(0x19c)])!==String(_0x4d4772['id']))console[_0x1e897d(0x188)]('[Notify]\x20Client\x20SWAP\x20detected'),NotificationManager['send'](_0x1e897d(0x12a),_0x3904af),_0x42cbd7='create';else(_0x3904af['start']!==_0x24386d||_0x3904af[_0x1e897d(0x197)]!==_0x41b73e||_0x3904af[_0x1e897d(0x174)]!==_0x16b16f)&&(_0x42cbd7=_0x1e897d(0x11d));}}if(!editingId&&_0x36b127){createBatchSeries(_0x34b13b,_0x16b16f,_0x560849),NotificationManager[_0x1e897d(0x7c)]('create',{..._0x34b13b,'dateStr':_0x16b16f});return;}lastUserActionTime=Date[_0x1e897d(0x10d)]();const _0x4310eb={..._0x34b13b,'dateStr':_0x16b16f,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x4310eb),_0x42cbd7&&NotificationManager['send'](_0x42cbd7,_0x4310eb);}function toggleSessionStatus(){const _0x44bb9c=a2_0x265137;lastUserActionTime=Date['now']();const _0x235652=sessions[_0x44bb9c(0x11e)](_0x483dc4=>_0x483dc4['id']===editingId);if(!_0x235652)return;const _0x2c99aa=_0x235652[_0x44bb9c(0x78)]==='completed'?_0x44bb9c(0x153):_0x44bb9c(0x99);_0x235652[_0x44bb9c(0x78)]=_0x2c99aa,saveSingleSession(_0x235652),_0x2c99aa==='completed'&&NotificationManager['send'](_0x44bb9c(0x1d3),_0x235652),showToast(_0x2c99aa===_0x44bb9c(0x99)?_0x44bb9c(0xa0):_0x44bb9c(0xdc),!![]);}function validateAppointment(_0x5ed074,_0x4aed32,_0x51c29c,_0x46e34e,_0x4fa3f1){const _0xd0c4d9=a2_0x265137,[_0x3af1b7,_0x72d2b5]=_0x4aed32[_0xd0c4d9(0x1d2)](':')['map'](Number),[_0x545d3d,_0x21636]=_0x51c29c[_0xd0c4d9(0x1d2)](':')['map'](Number),_0x377815=_0x3af1b7*0x3c+_0x72d2b5,_0xdad108=_0x545d3d*0x3c+_0x21636,_0x17b3c5=String(_0x4fa3f1);let _0x4244b0=![],_0x29c457='';for(let _0x5de129 of sessions){if(_0x5de129[_0xd0c4d9(0x174)]!==_0x5ed074)continue;if(_0x5de129[_0xd0c4d9(0x78)]===_0xd0c4d9(0x158))continue;if(_0x46e34e&&String(_0x5de129['id'])===String(_0x46e34e))continue;const [_0x1c4dce,_0x2322b6]=_0x5de129[_0xd0c4d9(0x16f)][_0xd0c4d9(0x1d2)](':')[_0xd0c4d9(0x160)](Number),[_0x2d5eea,_0x38f446]=_0x5de129['end'][_0xd0c4d9(0x1d2)](':')['map'](Number),_0x2bac8e=_0x1c4dce*0x3c+_0x2322b6,_0x5375fe=_0x2d5eea*0x3c+_0x38f446;if(Math[_0xd0c4d9(0x72)](_0x377815,_0x2bac8e)<Math[_0xd0c4d9(0xcc)](_0xdad108,_0x5375fe)){if(_0x5de129[_0xd0c4d9(0x19c)]&&String(_0x5de129[_0xd0c4d9(0x19c)])===_0x17b3c5)return{'valid':![],'msg':_0xd0c4d9(0x6f)+_0x5de129[_0xd0c4d9(0x142)]+_0xd0c4d9(0xa6)};_0x4244b0=!![],_0x29c457=_0x5de129[_0xd0c4d9(0x142)];}}if(_0x4244b0)return{'valid':!![],'warning':_0xd0c4d9(0x191)+_0x29c457};return{'valid':!![]};}function saveSingleSession(_0x208af2){const _0xe113d0=a2_0x265137;if(editingId){const _0x635a58=sessions[_0xe113d0(0xb5)](_0x3d7a14=>_0x3d7a14['id']===editingId);if(_0x635a58!==-0x1)sessions[_0x635a58]=_0x208af2;}else sessions['push'](_0x208af2);afterSaveAction([_0x208af2['dateStr']]);}function createBatchSeries(_0x39c26f,_0x1e8495,_0x12ac12){const _0x1d2979=a2_0x265137,_0x4509c6=generateId(),_0x30641f=[],_0x34078d=[];let _0x51c314=0x0,_0x41455e=new Date(_0x1e8495);for(let _0x1e7464=0x0;_0x1e7464<_0x12ac12;_0x1e7464++){const _0x33246e=getLocalDateStr(_0x41455e),_0x5a0e6e=validateAppointment(_0x33246e,_0x39c26f[_0x1d2979(0x16f)],_0x39c26f[_0x1d2979(0x197)],null,_0x39c26f['clientId']);if(!_0x5a0e6e[_0x1d2979(0xb2)])console[_0x1d2979(0x188)]('[Series]\x20Skipped\x20'+_0x33246e+_0x1d2979(0x15c)),_0x51c314++;else{const _0x448bab={..._0x39c26f,'id':generateId(),'dateStr':_0x33246e,'seriesId':_0x4509c6};_0x34078d[_0x1d2979(0x143)](_0x448bab),_0x30641f[_0x1d2979(0x143)](_0x33246e);}_0x41455e[_0x1d2979(0x14b)](_0x41455e[_0x1d2979(0x1c2)]()+0x7);}if(_0x34078d[_0x1d2979(0x9a)]===0x0){showToast(_0x1d2979(0x1e4),![]);return;}sessions[_0x1d2979(0x143)](..._0x34078d),lastUserActionTime=Date[_0x1d2979(0x10d)]();let _0x2b0005=_0x1d2979(0x1cc)+_0x34078d[_0x1d2979(0x9a)];_0x51c314>0x0&&(_0x2b0005+=_0x1d2979(0x7e)+_0x51c314+')'),showToast(_0x2b0005,!![]),afterSaveAction(_0x30641f);}function updateSeriesBatch(_0xe4c397,_0x1769a3){const _0x270500=a2_0x265137,_0x5d26df=[],_0xf6fe0d=_0x1769a3[_0x270500(0x146)];if(_0xe4c397===_0x270500(0x18b)){const _0x288ba9={..._0x1769a3,'seriesId':null},_0x274fb3=sessions[_0x270500(0xb5)](_0x45581d=>_0x45581d['id']===_0x1769a3['id']);if(_0x274fb3!==-0x1)sessions[_0x274fb3]=_0x288ba9;_0x5d26df[_0x270500(0x143)](_0x288ba9[_0x270500(0x174)]);}else{if(_0xe4c397==='series'){const _0x5a02c5=_0x1769a3[_0x270500(0x174)];sessions[_0x270500(0x117)]((_0x125716,_0x5171ac)=>{const _0x14ae88=_0x270500;_0x125716[_0x14ae88(0x146)]===_0xf6fe0d&&_0x125716[_0x14ae88(0x174)]>=_0x5a02c5&&(sessions[_0x5171ac]={...sessions[_0x5171ac],'start':_0x1769a3[_0x14ae88(0x16f)],'end':_0x1769a3['end'],'note':_0x1769a3[_0x14ae88(0x1dd)],'client':_0x1769a3[_0x14ae88(0x142)],'clientId':_0x1769a3[_0x14ae88(0x19c)]},_0x5d26df['push'](_0x125716[_0x14ae88(0x174)]));});}}afterSaveAction(_0x5d26df);}function tryDeleteSession(){const _0x504952=a2_0x265137,_0x5711ab=sessions[_0x504952(0x11e)](_0x451de6=>_0x451de6['id']===editingId);if(!_0x5711ab)return;_0x5711ab['seriesId']?openActionSheet(_0x504952(0xbf)):commitDelete('single',_0x5711ab);}function commitDelete(_0x6fada6,_0x174345){const _0x5365cd=a2_0x265137;lastUserActionTime=Date[_0x5365cd(0x10d)](),NotificationManager[_0x5365cd(0x7c)]('cancel',_0x174345);const _0x40a79f=[];if(_0x6fada6===_0x5365cd(0x18b))sessions=sessions[_0x5365cd(0x1e6)](_0x4bf2e3=>_0x4bf2e3['id']!==_0x174345['id']),_0x40a79f[_0x5365cd(0x143)](_0x174345[_0x5365cd(0x174)]);else{if(_0x6fada6==='series'){const _0x4c56bf=_0x174345[_0x5365cd(0x174)],_0x4844a0=_0x174345['seriesId'];sessions[_0x5365cd(0x117)](_0x49dd98=>{const _0x391927=_0x5365cd;_0x49dd98[_0x391927(0x146)]===_0x4844a0&&_0x49dd98[_0x391927(0x174)]>=_0x4c56bf&&_0x40a79f[_0x391927(0x143)](_0x49dd98['dateStr']);}),sessions=sessions[_0x5365cd(0x1e6)](_0x85448d=>!(_0x85448d['seriesId']===_0x4844a0&&_0x85448d['dateStr']>=_0x4c56bf));}}afterSaveAction(_0x40a79f);}function afterSaveAction(_0x4282f4){const _0x2f4136=a2_0x265137;DataManager['saveLocally'](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x2f4136(0x1b4)](_0x4282f4)[_0x2f4136(0x128)](()=>console[_0x2f4136(0x188)](_0x2f4136(0x9e)))['catch'](_0x4e5649=>showToast(_0x2f4136(0xa3),![]));}const NotificationManager={'formatDate'(_0x43ca55){const _0x53d47d=a2_0x265137,_0x1b805c=new Date(_0x43ca55),_0x5f3b49={'weekday':'long','day':_0x53d47d(0x107),'month':_0x53d47d(0x159)};let _0x2bab84=_0x1b805c[_0x53d47d(0x13d)](_0x53d47d(0x140),_0x5f3b49);return _0x2bab84['charAt'](0x0)[_0x53d47d(0xb0)]()+_0x2bab84[_0x53d47d(0x1c3)](0x1);},'getText'(_0x4e9764,_0x260d0a){const _0x387031=a2_0x265137,_0xa480a9=this[_0x387031(0xba)](_0x260d0a[_0x387031(0x174)]);switch(_0x4e9764){case _0x387031(0xca):return _0x387031(0x19e)+(_0x387031(0x9f)+_0xa480a9+'\x0a')+(_0x387031(0x1be)+_0x260d0a[_0x387031(0x16f)]+_0x387031(0x13f)+_0x260d0a[_0x387031(0x197)]+'\x0a\x0a')+'–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™';case'update':return'<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a'+_0x387031(0xf6)+(_0x387031(0x18a)+_0x260d0a['start']+_0x387031(0x13f)+_0x260d0a[_0x387031(0x197)]+_0x387031(0x1b0))+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0xa480a9);case'cancel':return _0x387031(0xb8)+(_0x387031(0x18e)+_0xa480a9+'\x20('+_0x260d0a[_0x387031(0x16f)]+')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.');case _0x387031(0x1d3):return _0x387031(0x139)+_0x387031(0x6a)+_0x387031(0x77);default:return'';}},async 'send'(_0x2d4f57,_0x4c738a){const _0x5ee32f=a2_0x265137;console[_0x5ee32f(0x188)]('[Notify]\x20Attempting\x20to\x20send:',_0x2d4f57,_0x4c738a);if(!_0x4c738a){console[_0x5ee32f(0x175)](_0x5ee32f(0x136));return;}const _0x20e5cd=String(_0x4c738a[_0x5ee32f(0x19c)]);console['log'](_0x5ee32f(0x1a6),_0x20e5cd);if(!_0x4c738a[_0x5ee32f(0x19c)]||_0x20e5cd===_0x5ee32f(0x14a)||_0x20e5cd===_0x5ee32f(0x17e)){console['error'](_0x5ee32f(0xa2));if(_0x4c738a[_0x5ee32f(0x142)]){const _0xa26257=clients[_0x5ee32f(0x11e)](_0x6c15a4=>_0x6c15a4[_0x5ee32f(0x167)]===_0x4c738a[_0x5ee32f(0x142)]);if(_0xa26257)return console[_0x5ee32f(0x188)]('[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:',_0xa26257['id']),this[_0x5ee32f(0x7c)](_0x2d4f57,{..._0x4c738a,'clientId':_0xa26257['id']});}return;}if(_0x20e5cd[_0x5ee32f(0x9a)]<0x5){console[_0x5ee32f(0x120)]('[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)',_0x20e5cd);return;}const _0x28d4aa=this[_0x5ee32f(0xe9)](_0x2d4f57,_0x4c738a);if(!_0x28d4aa){console['error'](_0x5ee32f(0x1a8));return;}console[_0x5ee32f(0x188)](_0x5ee32f(0x196)+_0x20e5cd+_0x5ee32f(0xeb)),DataManager[_0x5ee32f(0x133)]('send_notification',{'chatId':_0x20e5cd,'text':_0x28d4aa})[_0x5ee32f(0x128)](_0x2512d5=>console[_0x5ee32f(0x188)](_0x5ee32f(0x121),_0x2512d5))['catch'](_0x53b776=>console[_0x5ee32f(0x175)](_0x5ee32f(0x110),_0x53b776));}};function getLocalDateStr(_0x4280be){const _0x2ba310=a2_0x265137,_0x131501=_0x4280be['getFullYear'](),_0x35f55d=String(_0x4280be[_0x2ba310(0x19a)]()+0x1)[_0x2ba310(0x1de)](0x2,'0'),_0x81f5a5=String(_0x4280be[_0x2ba310(0x1c2)]())['padStart'](0x2,'0');return _0x131501+'-'+_0x35f55d+'-'+_0x81f5a5;}function getDateStr(_0x4c18a7){const _0x49235e=a2_0x265137,_0x307f20=new Date();return _0x307f20['setDate'](_0x307f20[_0x49235e(0x1c2)]()+_0x4c18a7),getLocalDateStr(_0x307f20);}function getStartOfWeek(_0x2ddfad){const _0x18d2e4=a2_0x265137,_0x146074=(function(){let _0x5793c4=!![];return function(_0x366e6e,_0x3329b0){const _0x108c4=_0x5793c4?function(){const _0x54bbd3=a2_0x2fd9;if(_0x3329b0){const _0xfa81fb=_0x3329b0[_0x54bbd3(0x112)](_0x366e6e,arguments);return _0x3329b0=null,_0xfa81fb;}}:function(){};return _0x5793c4=![],_0x108c4;};}()),_0x251a42=_0x146074(this,function(){const _0xd0a29a=a2_0x2fd9;return _0x251a42[_0xd0a29a(0x177)]()['search']('(((.+)+)+)+$')[_0xd0a29a(0x177)]()[_0xd0a29a(0xd3)](_0x251a42)[_0xd0a29a(0x80)]('(((.+)+)+)+$');});_0x251a42();const _0x148027=new Date(_0x2ddfad),_0x830003=_0x148027[_0x18d2e4(0x186)](),_0x199fa0=_0x148027['getDate']()-_0x830003+(_0x830003===0x0?-0x6:0x1);return _0x148027['setDate'](_0x199fa0),_0x148027['setHours'](0x0,0x0,0x0,0x0),_0x148027;}function hexToRgba(_0x520fd4,_0x19a745){const _0x4b6fce=a2_0x265137;if(!_0x520fd4)return _0x4b6fce(0x1d5);let _0x1c3e83=0x0,_0x34cfae=0x0,_0x566bc0=0x0;if(_0x520fd4[_0x4b6fce(0x9a)]===0x4)_0x1c3e83='0x'+_0x520fd4[0x1]+_0x520fd4[0x1],_0x34cfae='0x'+_0x520fd4[0x2]+_0x520fd4[0x2],_0x566bc0='0x'+_0x520fd4[0x3]+_0x520fd4[0x3];else _0x520fd4[_0x4b6fce(0x9a)]===0x7&&(_0x1c3e83='0x'+_0x520fd4[0x1]+_0x520fd4[0x2],_0x34cfae='0x'+_0x520fd4[0x3]+_0x520fd4[0x4],_0x566bc0='0x'+_0x520fd4[0x5]+_0x520fd4[0x6]);return _0x4b6fce(0x1e5)+ +_0x1c3e83+',\x20'+ +_0x34cfae+',\x20'+ +_0x566bc0+',\x20'+_0x19a745+')';}function renderTimeColumn(){const _0x20e74f=a2_0x265137,_0x19c5d8=document[_0x20e74f(0x1c5)](_0x20e74f(0x17a)),_0x4d4c4b=document[_0x20e74f(0x1c5)]('timeLineBadge');_0x19c5d8[_0x20e74f(0xdf)]='',_0x19c5d8['appendChild'](_0x4d4c4b);for(let _0x4d7015=0x0;_0x4d7015<0x18;_0x4d7015++){const _0x207589=document['createElement'](_0x20e74f(0xc3));_0x207589['className']=_0x20e74f(0x184);if(_0x4d7015>0x0)_0x207589[_0x20e74f(0xdf)]=_0x20e74f(0x9b)+String(_0x4d7015)['padStart'](0x2,'0')+_0x20e74f(0x81);_0x19c5d8[_0x20e74f(0x141)](_0x207589);}}function renderDayRange(_0xad13ec,_0x1c260d){const _0x4b5908=a2_0x265137,_0x58a7b3=document[_0x4b5908(0x1c5)](_0x4b5908(0x11a)),_0x55f523=document[_0x4b5908(0x1c5)](_0x4b5908(0x1ce)),_0x40f7ef=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x302d4a=new Date();_0x302d4a[_0x4b5908(0xe4)](0x0,0x0,0x0,0x0);const _0x370a82=getLocalDateStr(new Date());for(let _0x1a5214=_0xad13ec;_0x1a5214<=_0x1c260d;_0x1a5214++){const _0x13ec33=new Date(_0x302d4a);_0x13ec33[_0x4b5908(0x14b)](_0x13ec33[_0x4b5908(0x1c2)]()+_0x1a5214);const _0x10ca58=getLocalDateStr(_0x13ec33);let _0x19ad77=_0x13ec33[_0x4b5908(0x186)]()-0x1;if(_0x19ad77===-0x1)_0x19ad77=0x6;const _0x4fe460=_0x10ca58===_0x370a82,_0x3a17a5=document['createElement']('div');_0x3a17a5[_0x4b5908(0x1d9)]=_0x4b5908(0xf9)+(_0x4fe460?_0x4b5908(0x173):''),_0x3a17a5['id']=_0x4b5908(0x151)+_0x10ca58,_0x3a17a5[_0x4b5908(0x125)]('data-date',_0x10ca58),_0x3a17a5['innerHTML']=_0x4b5908(0xfa)+_0x40f7ef[_0x19ad77]+_0x4b5908(0xa4)+_0x13ec33['getDate']()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0x10ca58+_0x4b5908(0x1ca),_0x3a17a5[_0x4b5908(0x79)]=()=>openDayOptions(_0x10ca58,_0x40f7ef[_0x19ad77]+'\x20'+_0x13ec33[_0x4b5908(0x1c2)]()),_0x58a7b3[_0x4b5908(0x141)](_0x3a17a5);const _0x219a10=document[_0x4b5908(0x17f)](_0x4b5908(0xc3));_0x219a10[_0x4b5908(0x1d9)]=_0x4b5908(0x19d)+(_0x4fe460?_0x4b5908(0x173):''),_0x219a10[_0x4b5908(0x125)](_0x4b5908(0x94),_0x10ca58),_0x219a10[_0x4b5908(0x125)](_0x4b5908(0xe1),_0x19ad77),renderEventsForColumn(_0x219a10,_0x10ca58,_0x19ad77),attachLongPressHandler(_0x219a10,_0x13ec33),_0x55f523['appendChild'](_0x219a10),updateDayStats(_0x10ca58);}}function reRenderBlocks(){const _0x49ff3d=a2_0x265137;document['querySelectorAll'](_0x49ff3d(0xc7))[_0x49ff3d(0x117)](_0x5cde6e=>{const _0x14d6b3=_0x49ff3d;_0x5cde6e[_0x14d6b3(0x1c0)](_0x14d6b3(0x1c4))[_0x14d6b3(0x117)](_0x28406b=>_0x28406b[_0x14d6b3(0x104)]());const _0x45e558=_0x5cde6e['getAttribute'](_0x14d6b3(0x94)),_0x58b071=parseInt(_0x5cde6e[_0x14d6b3(0x6b)](_0x14d6b3(0xe1))),_0x3f19d4=Math[_0x14d6b3(0xcd)](_0x5cde6e[_0x14d6b3(0x198)]);(availabilityPattern[_0x58b071]||[])[_0x14d6b3(0x117)](_0x147df0=>{const _0x4b3515=_0x14d6b3,_0x14f984=document[_0x4b3515(0x17f)]('div');_0x14f984[_0x4b3515(0x1d9)]=_0x4b3515(0x98);const _0x5d5fe2=_0x147df0*GRID_H;_0x14f984[_0x4b3515(0xf5)][_0x4b3515(0x1b1)]=_0x5d5fe2+'px',_0x14f984[_0x4b3515(0xf5)][_0x4b3515(0x14d)]='-'+_0x3f19d4+_0x4b3515(0xe2)+_0x5d5fe2+'px',_0x5cde6e[_0x4b3515(0x141)](_0x14f984);});if(specialRanges&&specialRanges[_0x14d6b3(0x9a)]>0x0){const _0x43761a=new Date(_0x45e558+'T00:00:00')[_0x14d6b3(0x85)](),_0x49e8f3=new Date(_0x45e558+'T23:59:59')[_0x14d6b3(0x85)]();specialRanges[_0x14d6b3(0x117)](_0x36c385=>{const _0x5d8ed2=_0x14d6b3,_0x546351=new Date(_0x36c385[_0x5d8ed2(0x16f)])[_0x5d8ed2(0x85)](),_0x15ef97=new Date(_0x36c385[_0x5d8ed2(0x197)])[_0x5d8ed2(0x85)](),_0x24ae56=Math[_0x5d8ed2(0x72)](_0x43761a,_0x546351),_0x23291e=Math[_0x5d8ed2(0xcc)](_0x49e8f3,_0x15ef97);if(_0x24ae56<_0x23291e){if(_0x24ae56<=_0x43761a&&_0x23291e>=_0x49e8f3-0xea60){if(!_0x5cde6e[_0x5d8ed2(0x8b)](_0x5d8ed2(0x67))){const _0x4dae19=document['createElement'](_0x5d8ed2(0xc3));_0x4dae19[_0x5d8ed2(0x1d9)]='day-off-overlay\x20stripe-bg',_0x4dae19[_0x5d8ed2(0xf5)][_0x5d8ed2(0x14d)]='-'+_0x3f19d4+_0x5d8ed2(0x199),_0x5cde6e[_0x5d8ed2(0x141)](_0x4dae19);}}else{const _0x30a0ad=(_0x24ae56-_0x43761a)/0x36ee80*GRID_H,_0x3dadbd=(_0x23291e-_0x24ae56)/0x36ee80*GRID_H,_0x2a493e=document[_0x5d8ed2(0x17f)]('div');_0x2a493e['className']=_0x5d8ed2(0xae),_0x2a493e[_0x5d8ed2(0xf5)]['top']=_0x30a0ad+'px',_0x2a493e[_0x5d8ed2(0xf5)][_0x5d8ed2(0xe5)]=_0x3dadbd+'px',_0x2a493e[_0x5d8ed2(0xf5)]['backgroundPosition']='-'+_0x3f19d4+_0x5d8ed2(0xe2)+_0x30a0ad+'px',_0x5cde6e['appendChild'](_0x2a493e);}}});}if(dateExceptions[_0x45e558]==='off'){if(!_0x5cde6e[_0x14d6b3(0x8b)]('.day-off-overlay')){const _0x285f27=document[_0x14d6b3(0x17f)](_0x14d6b3(0xc3));_0x285f27[_0x14d6b3(0x1d9)]=_0x14d6b3(0x11f),_0x285f27[_0x14d6b3(0xf5)][_0x14d6b3(0x14d)]='-'+_0x3f19d4+_0x14d6b3(0x199),_0x5cde6e[_0x14d6b3(0x141)](_0x285f27);}}renderEventsForColumn(_0x5cde6e,_0x45e558,_0x58b071),updateDayStats(_0x45e558);});}function updateAllDayStats(){document['querySelectorAll']('.day-col-header')['forEach'](_0x2b7639=>{const _0x54cc73=a2_0x2fd9;updateDayStats(_0x2b7639[_0x54cc73(0x6b)](_0x54cc73(0x94)));});}function updateDayStats(_0x463b91){const _0x5636be=a2_0x265137,_0x591694=document[_0x5636be(0x1c5)](_0x5636be(0x168)+_0x463b91);if(!_0x591694)return;const _0x3b05b3=new Date(_0x463b91);let _0x234bc0=_0x3b05b3[_0x5636be(0x186)]()-0x1;if(_0x234bc0===-0x1)_0x234bc0=0x6;if(dateExceptions[_0x463b91]===_0x5636be(0xb1)){_0x591694['style'][_0x5636be(0x13c)]=_0x5636be(0x8a);return;}const _0x384363=availabilityPattern[_0x234bc0]||[],_0x22da28=0x18-_0x384363[_0x5636be(0x9a)],_0x4254d8=_0x22da28*0x3c,_0x1d3117=sessions['filter'](_0x221c8c=>_0x221c8c[_0x5636be(0x174)]===_0x463b91&&_0x221c8c[_0x5636be(0x78)]!==_0x5636be(0x158));if(_0x1d3117[_0x5636be(0x9a)]===0x0){_0x591694['style']['display']=_0x5636be(0x8a);return;}let _0x228e25=_0x1d3117['map'](_0x52cf30=>{const _0x58740c=_0x5636be,[_0x2358a9,_0x4d8c47]=_0x52cf30[_0x58740c(0x16f)]['split'](':')['map'](Number),[_0x5b584f,_0x56a6a5]=_0x52cf30[_0x58740c(0x197)]['split'](':')[_0x58740c(0x160)](Number);return[_0x2358a9*0x3c+_0x4d8c47,_0x5b584f*0x3c+_0x56a6a5];});_0x228e25[_0x5636be(0x1ed)]((_0xf749c8,_0x35e23f)=>_0xf749c8[0x0]-_0x35e23f[0x0]);let _0x488803=[];if(_0x228e25[_0x5636be(0x9a)]>0x0){let _0x8085ce=_0x228e25[0x0];for(let _0x2a7615=0x1;_0x2a7615<_0x228e25[_0x5636be(0x9a)];_0x2a7615++){_0x228e25[_0x2a7615][0x0]<_0x8085ce[0x1]?_0x8085ce[0x1]=Math[_0x5636be(0x72)](_0x8085ce[0x1],_0x228e25[_0x2a7615][0x1]):(_0x488803[_0x5636be(0x143)](_0x8085ce),_0x8085ce=_0x228e25[_0x2a7615]);}_0x488803[_0x5636be(0x143)](_0x8085ce);}let _0x5efabf=0x0;_0x488803[_0x5636be(0x117)](_0xb828c1=>_0x5efabf+=_0xb828c1[0x1]-_0xb828c1[0x0]),_0x591694[_0x5636be(0xf5)][_0x5636be(0x13c)]=_0x5636be(0x119);const _0xc977f5=_0x591694[_0x5636be(0x8b)](_0x5636be(0x12d));if(_0x4254d8===0x0){_0xc977f5[_0x5636be(0xf5)][_0x5636be(0x162)]=_0x5636be(0xf3),_0xc977f5[_0x5636be(0xf5)][_0x5636be(0xea)]=_0x5636be(0x1b9);return;}const _0x174fca=_0x5efabf/_0x4254d8*0x64;console[_0x5636be(0x188)]('['+_0x463b91+']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20'+_0x22da28+_0x5636be(0x147)+_0x5efabf+_0x5636be(0x106)+_0x174fca['toFixed'](0x1)+'%'),_0x174fca>0x64?(_0xc977f5[_0x5636be(0xf5)][_0x5636be(0x162)]='100%',_0xc977f5[_0x5636be(0xf5)][_0x5636be(0xea)]=_0x5636be(0x1b9)):(_0xc977f5[_0x5636be(0xf5)][_0x5636be(0x162)]=_0x174fca+'%',_0xc977f5[_0x5636be(0xf5)][_0x5636be(0xea)]=_0x5636be(0x87));}function renderEventsForColumn(_0x2829be,_0x172f00,_0x100482){const _0x170373=a2_0x265137,_0x4362a8=sessions[_0x170373(0x1e6)](_0x5344f9=>_0x5344f9[_0x170373(0x174)]===_0x172f00),_0x4f7cc8=_0x4362a8[_0x170373(0x160)](_0x658a30=>{const _0x118a42=_0x170373,[_0x3603ed,_0x5a318a]=_0x658a30[_0x118a42(0x16f)][_0x118a42(0x1d2)](':')[_0x118a42(0x160)](Number),[_0x568e94,_0x31ace2]=_0x658a30[_0x118a42(0x197)][_0x118a42(0x1d2)](':')[_0x118a42(0x160)](Number);return{'data':_0x658a30,'start':_0x3603ed*0x3c+_0x5a318a,'end':_0x568e94*0x3c+_0x31ace2,'colIndex':0x0};});_0x4f7cc8[_0x170373(0x1ed)]((_0x53dd38,_0x37c988)=>{const _0x44cd67=_0x170373;if(_0x53dd38[_0x44cd67(0x16f)]!==_0x37c988[_0x44cd67(0x16f)])return _0x53dd38[_0x44cd67(0x16f)]-_0x37c988['start'];return _0x37c988[_0x44cd67(0x197)]-_0x37c988[_0x44cd67(0x16f)]-(_0x53dd38['end']-_0x53dd38[_0x44cd67(0x16f)]);});const _0x27acde=[];_0x4f7cc8[_0x170373(0x117)](_0x65aed9=>{const _0x3c79ca=_0x170373;let _0x5b2dca=![];for(let _0x46b1b6=0x0;_0x46b1b6<_0x27acde[_0x3c79ca(0x9a)];_0x46b1b6++){const _0x381de0=_0x27acde[_0x46b1b6],_0x33e0ea=_0x381de0[_0x381de0[_0x3c79ca(0x9a)]-0x1];if(_0x65aed9[_0x3c79ca(0x16f)]>=_0x33e0ea[_0x3c79ca(0x197)]){_0x381de0['push'](_0x65aed9),_0x65aed9[_0x3c79ca(0x165)]=_0x46b1b6,_0x5b2dca=!![];break;}}!_0x5b2dca&&(_0x27acde[_0x3c79ca(0x143)]([_0x65aed9]),_0x65aed9[_0x3c79ca(0x165)]=_0x27acde[_0x3c79ca(0x9a)]-0x1);}),_0x4f7cc8[_0x170373(0x117)](_0x21ae75=>{const _0x48dcf4=_0x170373;let _0x486f6f=0x0;_0x4f7cc8[_0x48dcf4(0x117)](_0x2b5bf3=>{const _0x1ab991=_0x48dcf4;if(Math[_0x1ab991(0x72)](_0x21ae75[_0x1ab991(0x16f)],_0x2b5bf3[_0x1ab991(0x16f)])<Math['min'](_0x21ae75[_0x1ab991(0x197)],_0x2b5bf3['end'])){if(_0x2b5bf3[_0x1ab991(0x165)]>_0x486f6f)_0x486f6f=_0x2b5bf3['colIndex'];}});const _0x4e1d7a=_0x486f6f+0x1,_0x2346e3=0x64/_0x4e1d7a,_0x50401e=_0x21ae75['colIndex']*_0x2346e3,_0x2c003a=createEventEl(_0x21ae75[_0x48dcf4(0xd2)]);_0x2c003a[_0x48dcf4(0xf5)][_0x48dcf4(0x162)]=_0x48dcf4(0xef)+_0x2346e3+_0x48dcf4(0x170),_0x2c003a['style'][_0x48dcf4(0x179)]=_0x48dcf4(0xef)+_0x50401e+_0x48dcf4(0xf0),_0x2c003a[_0x48dcf4(0xf5)][_0x48dcf4(0x148)]=0xa+_0x21ae75['colIndex'],_0x2346e3<0x55&&_0x2c003a[_0x48dcf4(0x7a)][_0x48dcf4(0x12f)](_0x48dcf4(0xcb)),_0x2829be[_0x48dcf4(0x141)](_0x2c003a);});}function createEventEl(_0x323ecf){const _0x2878ae=a2_0x265137,[_0x41ef88,_0xf04b86]=_0x323ecf[_0x2878ae(0x16f)]['split'](':')[_0x2878ae(0x160)](Number),[_0x3be9c9,_0x38b4fe]=_0x323ecf['end']['split'](':')[_0x2878ae(0x160)](Number),_0xa5eec2=(_0x41ef88*0x3c+_0xf04b86)/0x3c*GRID_H,_0x31f463=(_0x3be9c9*0x3c+_0x38b4fe-(_0x41ef88*0x3c+_0xf04b86))/0x3c*GRID_H,_0x28d4a7=document[_0x2878ae(0x17f)](_0x2878ae(0xc3)),_0x2421b6=_0x323ecf['status']===_0x2878ae(0x99)?'\x20status-completed':'';_0x28d4a7[_0x2878ae(0x1d9)]='event-card'+_0x2421b6,_0x28d4a7[_0x2878ae(0xf5)]['top']=_0xa5eec2+'px',_0x28d4a7[_0x2878ae(0xf5)][_0x2878ae(0xe5)]=Math[_0x2878ae(0x72)](_0x31f463,0x14)+'px';const _0x21f405=clients['find'](_0x286da9=>_0x323ecf[_0x2878ae(0x19c)]&&String(_0x286da9['id'])===String(_0x323ecf[_0x2878ae(0x19c)])||_0x286da9[_0x2878ae(0x167)]===_0x323ecf[_0x2878ae(0x142)]),_0x367f36=_0x21f405?_0x21f405[_0x2878ae(0x1ba)]:_0x2878ae(0x15a);_0x28d4a7['style'][_0x2878ae(0x144)]=_0x367f36,_0x28d4a7[_0x2878ae(0xf5)][_0x2878ae(0x18f)]=hexToRgba(_0x367f36,0.85);let _0x46a3f8='<div\x20class=\x22ev-title\x22>'+_0x323ecf[_0x2878ae(0x142)]+_0x2878ae(0x68)+_0x323ecf[_0x2878ae(0x16f)]+_0x2878ae(0xaf)+_0x323ecf[_0x2878ae(0x197)]+_0x2878ae(0x13e);return _0x323ecf[_0x2878ae(0x146)]&&(_0x46a3f8+=_0x2878ae(0x149)),_0x323ecf[_0x2878ae(0x78)]===_0x2878ae(0x99)&&(_0x46a3f8+=_0x2878ae(0x1bd)),_0x28d4a7[_0x2878ae(0xdf)]=_0x46a3f8,_0x28d4a7['onclick']=_0x5e57f3=>{const _0x1fe07f=_0x2878ae;_0x5e57f3[_0x1fe07f(0x1c1)](),openEdit(_0x323ecf);},_0x28d4a7;}function attachLongPressHandler(_0x9cad06,_0x3490fd){const _0x3704c0=a2_0x265137;let _0x59c775=0x0,_0x12bee4=null;const _0x171cc1=_0x42215c=>{const _0x337c66=a2_0x2fd9;if(_0x42215c[_0x337c66(0x1ea)]['closest'](_0x337c66(0x114)))return;isScrolling=![],_0x59c775=_0x42215c[_0x337c66(0x1a1)]?_0x42215c[_0x337c66(0x1a1)][0x0][_0x337c66(0xbb)]:_0x42215c[_0x337c66(0xbb)],_0x12bee4=setTimeout(()=>{const _0x1b5f74=_0x337c66;if(!isScrolling){navigator[_0x1b5f74(0x1b7)]?.(0x32);const _0x3722a7=_0x9cad06[_0x1b5f74(0x150)](),_0x5842e0=Math[_0x1b5f74(0x105)]((_0x59c775-_0x3722a7['top'])/GRID_H);_0x3490fd['setHours'](_0x5842e0,0x0),openAddSession(_0x3490fd);}},0x1f4);},_0x3848b4=()=>{isScrolling=!![],clearTimeout(_0x12bee4);},_0x534de8=()=>{clearTimeout(_0x12bee4);};_0x9cad06['addEventListener'](_0x3704c0(0x16c),_0x171cc1,{'passive':!![]}),_0x9cad06[_0x3704c0(0x7f)](_0x3704c0(0x152),_0x3848b4,{'passive':!![]}),_0x9cad06[_0x3704c0(0x7f)](_0x3704c0(0x122),_0x534de8),_0x9cad06[_0x3704c0(0x7f)](_0x3704c0(0x13b),_0x171cc1),_0x9cad06[_0x3704c0(0x7f)](_0x3704c0(0x12e),_0x3848b4),_0x9cad06[_0x3704c0(0x7f)](_0x3704c0(0x1c9),_0x534de8);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x3a0fca=a2_0x265137,_0x2f3f71=document[_0x3a0fca(0x1c5)]('matrixViewport'),_0x36f2e9=_0x2f3f71[_0x3a0fca(0x1b6)],_0x5c90ce=_0x2f3f71[_0x3a0fca(0xec)],_0x2c981c=_0x2f3f71['clientWidth'];if(_0x5c90ce-(_0x36f2e9+_0x2c981c)<0x12c){const _0x18fee2=endOffset;endOffset+=0xe,renderDayRange(_0x18fee2+0x1,endOffset),reRenderBlocks();}if(_0x36f2e9<0x12c){const _0x17fae7=startOffset;startOffset-=0xe,prependDays(startOffset,_0x17fae7-0x1),_0x2f3f71[_0x3a0fca(0x1b6)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x46fd11,_0x12ff21){const _0x3bf8ea=a2_0x265137,_0x40db40=document[_0x3bf8ea(0x1c5)]('daysHeaderTrack'),_0x137356=document[_0x3bf8ea(0x1c5)]('gridColumns'),_0x1d4e1f=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1c4ed1=new Date();_0x1c4ed1['setHours'](0x0,0x0,0x0,0x0);const _0x4c5419=getLocalDateStr(new Date()),_0x111f33=document[_0x3bf8ea(0x1a3)](),_0x19bd33=document[_0x3bf8ea(0x1a3)]();for(let _0x4e0a31=_0x46fd11;_0x4e0a31<=_0x12ff21;_0x4e0a31++){const _0x4408fe=new Date(_0x1c4ed1);_0x4408fe['setDate'](_0x4408fe['getDate']()+_0x4e0a31);const _0x5e7084=getLocalDateStr(_0x4408fe);let _0x5761d1=_0x4408fe[_0x3bf8ea(0x186)]()-0x1;if(_0x5761d1===-0x1)_0x5761d1=0x6;const _0x3f71b3=_0x5e7084===_0x4c5419,_0x573ffb=document[_0x3bf8ea(0x17f)](_0x3bf8ea(0xc3));_0x573ffb['className']='day-col-header\x20'+(_0x3f71b3?_0x3bf8ea(0x173):''),_0x573ffb['id']=_0x3bf8ea(0x151)+_0x5e7084,_0x573ffb[_0x3bf8ea(0x125)](_0x3bf8ea(0x94),_0x5e7084),_0x573ffb[_0x3bf8ea(0xdf)]=_0x3bf8ea(0xfa)+_0x1d4e1f[_0x5761d1]+_0x3bf8ea(0xa4)+_0x4408fe['getDate']()+_0x3bf8ea(0x17b)+_0x5e7084+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x573ffb['onclick']=()=>openDayOptions(_0x5e7084,_0x1d4e1f[_0x5761d1]+'\x20'+_0x4408fe[_0x3bf8ea(0x1c2)]()),_0x111f33[_0x3bf8ea(0x141)](_0x573ffb);const _0x4b3058=document[_0x3bf8ea(0x17f)]('div');_0x4b3058['className']=_0x3bf8ea(0x19d)+(_0x3f71b3?_0x3bf8ea(0x173):''),_0x4b3058[_0x3bf8ea(0x125)](_0x3bf8ea(0x94),_0x5e7084),_0x4b3058['setAttribute'](_0x3bf8ea(0xe1),_0x5761d1),renderEventsForColumn(_0x4b3058,_0x5e7084,_0x5761d1),attachLongPressHandler(_0x4b3058,_0x4408fe),_0x19bd33['appendChild'](_0x4b3058),updateDayStats(_0x5e7084);}_0x40db40[_0x3bf8ea(0xbd)](_0x111f33,_0x40db40['firstChild']),_0x137356['insertBefore'](_0x19bd33,_0x137356[_0x3bf8ea(0x8b)](_0x3bf8ea(0xac)));}function validateAppointment(_0x3ab210,_0x592fc8,_0x127726,_0x3280a7,_0x3af754){const _0x35b808=a2_0x265137,[_0x3aa03e,_0x5435bd]=_0x592fc8[_0x35b808(0x1d2)](':')[_0x35b808(0x160)](Number),[_0x3844b0,_0x3a842c]=_0x127726[_0x35b808(0x1d2)](':')[_0x35b808(0x160)](Number),_0x1685b5=_0x3aa03e*0x3c+_0x5435bd,_0x331d57=_0x3844b0*0x3c+_0x3a842c,_0x22e85e=String(_0x3af754);let _0x4d445f=![],_0x13e32d='';for(let _0x5e8d13 of sessions){if(_0x5e8d13[_0x35b808(0x174)]!==_0x3ab210)continue;if(_0x5e8d13[_0x35b808(0x78)]===_0x35b808(0x158))continue;if(_0x3280a7&&String(_0x5e8d13['id'])===String(_0x3280a7))continue;const [_0xf99e39,_0x3c78cf]=_0x5e8d13['start'][_0x35b808(0x1d2)](':')[_0x35b808(0x160)](Number),[_0x55b008,_0x5b40ae]=_0x5e8d13[_0x35b808(0x197)][_0x35b808(0x1d2)](':')[_0x35b808(0x160)](Number),_0x3f3e34=_0xf99e39*0x3c+_0x3c78cf,_0x2bd670=_0x55b008*0x3c+_0x5b40ae;if(Math['max'](_0x1685b5,_0x3f3e34)<Math[_0x35b808(0xcc)](_0x331d57,_0x2bd670)){if(_0x5e8d13['clientId']&&String(_0x5e8d13[_0x35b808(0x19c)])===_0x22e85e)return{'valid':![],'msg':_0x35b808(0x6f)+_0x5e8d13[_0x35b808(0x142)]+_0x35b808(0xa6)};_0x4d445f=!![],_0x13e32d=_0x5e8d13[_0x35b808(0x142)];}}if(_0x4d445f)return{'valid':!![],'warning':_0x35b808(0x191)+_0x13e32d};return{'valid':!![]};}function updateDateDisplay(){const _0xe2b239=a2_0x265137,_0x117955=document['getElementById'](_0xe2b239(0x130))[_0xe2b239(0x190)],_0x369ebf=document[_0xe2b239(0x1c5)]('sheetDateSubtitle');if(!_0x117955){_0x369ebf[_0xe2b239(0xed)]='';return;}const [_0x274afd,_0x2a9cf9,_0x4cad58]=_0x117955['split']('-')[_0xe2b239(0x160)](Number),_0x5add94=new Date(_0x274afd,_0x2a9cf9-0x1,_0x4cad58),_0x539fcc={'weekday':_0xe2b239(0x159),'day':_0xe2b239(0x107),'month':_0xe2b239(0x159),'year':_0xe2b239(0x107)};let _0x51e0dc=_0x5add94[_0xe2b239(0x13d)](_0xe2b239(0x140),_0x539fcc);_0x51e0dc=_0x51e0dc['charAt'](0x0)[_0xe2b239(0xb0)]()+_0x51e0dc[_0xe2b239(0x1c3)](0x1),_0x369ebf[_0xe2b239(0xed)]=_0x51e0dc;}function autoSetEndTime(){const _0x9bd367=a2_0x265137,_0x275f4f=document[_0x9bd367(0x1c5)](_0x9bd367(0xcf))['value'];if(!_0x275f4f)return;const [_0x5de9ed,_0x558790]=_0x275f4f[_0x9bd367(0x1d2)](':')[_0x9bd367(0x160)](Number);let _0x5c2f98=_0x5de9ed+0x1;if(_0x5c2f98>0x17)_0x5c2f98=0x0;const _0x421d55=String(_0x5c2f98)['padStart'](0x2,'0')+':'+String(_0x558790)[_0x9bd367(0x1de)](0x2,'0');document[_0x9bd367(0x1c5)]('inpEnd')['value']=_0x421d55;}function populateClientSelect(){const _0x1a8b27=a2_0x265137,_0x5ca62d=document['getElementById'](_0x1a8b27(0x194));_0x5ca62d['innerHTML']='';if(clients[_0x1a8b27(0x9a)]===0x0){const _0x238fa1=document[_0x1a8b27(0x17f)](_0x1a8b27(0x1c6));_0x238fa1[_0x1a8b27(0x1ab)]=_0x1a8b27(0x71),_0x5ca62d[_0x1a8b27(0x141)](_0x238fa1);return;}clients[_0x1a8b27(0x117)](_0x42dcc5=>{const _0x2f009f=_0x1a8b27,_0x38fdfd=document[_0x2f009f(0x17f)]('option');_0x38fdfd[_0x2f009f(0x190)]=_0x42dcc5[_0x2f009f(0x167)],_0x38fdfd[_0x2f009f(0xed)]=_0x42dcc5['name'],_0x5ca62d[_0x2f009f(0x141)](_0x38fdfd);});}function openActionSheet(_0x12d69f){const _0x465cac=a2_0x265137,_0x414381=document[_0x465cac(0x1c5)]('actionSheet'),_0x296793=document[_0x465cac(0x1c5)](_0x465cac(0xf7)),_0x429c47=document[_0x465cac(0x1c5)](_0x465cac(0xc4)),_0x36c45d=document['getElementById'](_0x465cac(0x14e)),_0x3de055=document[_0x465cac(0x1c5)](_0x465cac(0x91));_0x296793[_0x465cac(0x7a)]['add'](_0x465cac(0x164)),_0x414381[_0x465cac(0x7a)]['add'](_0x465cac(0x1e3));if(_0x12d69f==='save')_0x429c47[_0x465cac(0xed)]=_0x465cac(0x103),_0x36c45d['textContent']=_0x465cac(0xc1),_0x36c45d['onclick']=()=>{const _0x1c18d2=_0x465cac;closeActionSheet(),updateSeriesBatch(_0x1c18d2(0x18b),tempSessionData);},_0x3de055[_0x465cac(0xed)]=_0x465cac(0x1cb),_0x3de055['onclick']=()=>{const _0x57db32=_0x465cac;closeActionSheet(),updateSeriesBatch(_0x57db32(0x16b),tempSessionData);};else _0x12d69f===_0x465cac(0xbf)&&(_0x429c47[_0x465cac(0xed)]='–£–¥–∞–ª–µ–Ω–∏–µ',_0x36c45d[_0x465cac(0xed)]=_0x465cac(0xc1),_0x36c45d[_0x465cac(0x1d9)]=_0x465cac(0x1eb),_0x36c45d['onclick']=()=>{const _0x215063=_0x465cac;closeActionSheet(),commitDelete(_0x215063(0x18b),sessions[_0x215063(0x11e)](_0x24bfc8=>_0x24bfc8['id']===editingId));},_0x3de055[_0x465cac(0xed)]=_0x465cac(0x1cb),_0x3de055['className']='as-button\x20danger\x20bold',_0x3de055[_0x465cac(0x79)]=()=>{const _0x503a80=_0x465cac;closeActionSheet(),commitDelete(_0x503a80(0x16b),sessions[_0x503a80(0x11e)](_0x4c8b5e=>_0x4c8b5e['id']===editingId));});}function closeActionSheet(){const _0x5b13b6=a2_0x265137;document[_0x5b13b6(0x1c5)](_0x5b13b6(0xe3))['classList']['remove']('open'),document['getElementById'](_0x5b13b6(0xf7))[_0x5b13b6(0x7a)][_0x5b13b6(0x104)](_0x5b13b6(0x164));}function openSettings(){const _0x578d00=a2_0x265137;openSheet(_0x578d00(0x134));}function saveCoachSettings(){const _0x1d7885=a2_0x265137,_0x577cb9=document[_0x1d7885(0x1c5)](_0x1d7885(0x7b))[_0x1d7885(0x190)];localStorage[_0x1d7885(0x124)]('uc_settings_cancel_window',_0x577cb9),console[_0x1d7885(0x188)](_0x1d7885(0xf1),_0x577cb9),DataManager[_0x1d7885(0x133)]('save_settings',{'settings':{'cancel_window':_0x577cb9}})[_0x1d7885(0x181)](_0x3daed6=>{const _0xe8bd4e=_0x1d7885;console['error'](_0xe8bd4e(0xc8),_0x3daed6),showToast(_0xe8bd4e(0xf4),![]);});}function loadCoachSettings(){const _0x1bbbc1=a2_0x265137,_0x270508=localStorage[_0x1bbbc1(0x1cf)]('uc_settings_cancel_window');_0x270508&&(document[_0x1bbbc1(0x1c5)](_0x1bbbc1(0x7b))[_0x1bbbc1(0x190)]=_0x270508);}function openRangesSheet(){const _0x53537e=a2_0x265137;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x53537e(0x189));}function addRange(){const _0x199d9d=a2_0x265137,_0x15f233=document[_0x199d9d(0x1c5)](_0x199d9d(0x18c))[_0x199d9d(0x190)],_0x25b96e=document[_0x199d9d(0x1c5)](_0x199d9d(0x1e1))[_0x199d9d(0x190)],_0x11921e=document[_0x199d9d(0x1c5)](_0x199d9d(0x89))['value'],_0x18c2e8=document[_0x199d9d(0x1c5)](_0x199d9d(0xd8))[_0x199d9d(0x190)];if(!_0x15f233||!_0x25b96e||!_0x11921e||!_0x18c2e8)return alert(_0x199d9d(0x17d));const _0x56d334=_0x15f233+'T'+_0x25b96e,_0x13205f=_0x11921e+'T'+_0x18c2e8;if(_0x56d334>=_0x13205f)return alert('–û—à–∏–±–∫–∞\x20–¥–∞—Ç');specialRanges[_0x199d9d(0x143)]({'start':_0x56d334,'end':_0x13205f}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x199d9d(0x83)](),DataManager[_0x199d9d(0x133)]('save_settings',{'settings':{'ranges':specialRanges}});}function deleteRange(_0x2313d5){const _0xca6ed2=a2_0x265137;specialRanges[_0xca6ed2(0x111)](_0x2313d5,0x1),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0xca6ed2(0x133)](_0xca6ed2(0x15f),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x1a7b70=a2_0x265137;document[_0x1a7b70(0x1c5)](_0x1a7b70(0x18c))[_0x1a7b70(0x190)]='',document['getElementById'](_0x1a7b70(0x1e1))['value']=_0x1a7b70(0x16d),document['getElementById'](_0x1a7b70(0x89))[_0x1a7b70(0x190)]='',document[_0x1a7b70(0x1c5)]('rangeEndTime')['value']=_0x1a7b70(0x1c8);}function renderRangesList(){const _0x3a19b2=a2_0x265137,_0x479dc5=document[_0x3a19b2(0x1c5)]('rangesList');_0x479dc5[_0x3a19b2(0xdf)]='';if(!specialRanges[_0x3a19b2(0x9a)]){_0x479dc5[_0x3a19b2(0xdf)]=_0x3a19b2(0x1af);return;}specialRanges[_0x3a19b2(0x117)]((_0x5e171d,_0x3f17ec)=>{const _0x186ea6=_0x3a19b2,_0x508a63=document['createElement']('div');_0x508a63['className']=_0x186ea6(0x9d);const _0x266e90=_0x2b9b7e=>{const _0x49af5e=_0x186ea6,_0xcc917=new Date(_0x2b9b7e);return _0xcc917['getDate']()+'.'+String(_0xcc917[_0x49af5e(0x19a)]()+0x1)['padStart'](0x2,'0')+'\x20'+String(_0xcc917['getHours']())[_0x49af5e(0x1de)](0x2,'0')+':'+String(_0xcc917[_0x49af5e(0x180)]())[_0x49af5e(0x1de)](0x2,'0');};_0x508a63[_0x186ea6(0xdf)]=_0x186ea6(0xa7)+_0x266e90(_0x5e171d['start'])+_0x186ea6(0x13f)+_0x266e90(_0x5e171d[_0x186ea6(0x197)])+_0x186ea6(0xb4)+_0x3f17ec+_0x186ea6(0x172),_0x479dc5[_0x186ea6(0x141)](_0x508a63);});}function scrollToToday(){const _0x3b699e=a2_0x265137,_0x40fd63=getLocalDateStr(new Date()),_0x11a5a1=document['getElementById'](_0x3b699e(0x151)+_0x40fd63),_0x3f91f6=document[_0x3b699e(0x1c5)]('matrixViewport');if(_0x11a5a1&&_0x3f91f6){const _0x4043dd=_0x3f91f6['clientWidth'],_0x26199d=_0x11a5a1['offsetLeft'],_0x3af689=_0x11a5a1[_0x3b699e(0x135)];_0x3f91f6[_0x3b699e(0x1b6)]=_0x26199d-_0x4043dd/0x2+_0x3af689/0x2,_0x3f91f6[_0x3b699e(0x1ac)]=0x9*GRID_H;}}function onScroll(){const _0x1aa340=a2_0x265137,_0x34dcc6=document[_0x1aa340(0x1c5)](_0x1aa340(0xd6)),_0xfe81bd=document[_0x1aa340(0x1c0)](_0x1aa340(0x7d));for(let _0x4ee2ec of _0xfe81bd)if(_0x4ee2ec['offsetLeft']>=_0x34dcc6['scrollLeft']){const _0x3739ae=new Date(_0x4ee2ec[_0x1aa340(0x6b)](_0x1aa340(0x94)));document[_0x1aa340(0x1c5)](_0x1aa340(0x1d1))[_0x1aa340(0xed)]=_0x3739ae['toLocaleString']('ru',{'month':_0x1aa340(0x159)})[_0x1aa340(0xb0)]()+'\x20'+_0x3739ae[_0x1aa340(0xc6)]();break;}}function showToast(_0x1f034c,_0x319a47=![]){const _0x2ae1db=a2_0x265137,_0x31a656=document[_0x2ae1db(0x1c5)](_0x2ae1db(0x73));_0x31a656[_0x2ae1db(0x1d9)]='toast-notification\x20'+(_0x319a47?'success':''),document[_0x2ae1db(0x1c5)](_0x2ae1db(0x129))[_0x2ae1db(0xed)]=_0x319a47?_0x2ae1db(0x14c):_0x2ae1db(0x1d6),document[_0x2ae1db(0x1c5)](_0x2ae1db(0x84))['textContent']=_0x1f034c,_0x31a656['classList'][_0x2ae1db(0x12f)](_0x2ae1db(0xc5)),setTimeout(()=>{const _0x28bb61=_0x2ae1db;_0x31a656[_0x28bb61(0x7a)][_0x28bb61(0x104)]('show');},0xbb8);}function openDayOptions(_0x13609b,_0x1d702b){const _0x4ceb64=a2_0x265137;selectedDayForOptions=_0x13609b,document[_0x4ceb64(0x1c5)](_0x4ceb64(0xd9))[_0x4ceb64(0xed)]=_0x1d702b,openSheet(_0x4ceb64(0x13a));}function toggleDayOff(){const _0x59b8b2=a2_0x265137;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x59b8b2(0xb1),reRenderBlocks(),closeAllSheets(),DataManager[_0x59b8b2(0x83)](),DataManager[_0x59b8b2(0x133)](_0x59b8b2(0x15f),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x368948=a2_0x265137;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager['fetchFromServer'](_0x368948(0x15f),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x595daf){const _0x4d4925=a2_0x265137;document[_0x4d4925(0x1c5)](_0x4d4925(0x100))['classList'][_0x4d4925(0x12f)]('active'),document[_0x4d4925(0x1c5)](_0x595daf)[_0x4d4925(0x7a)]['add']('open');}function closeAllSheets(){const _0x4a932b=a2_0x265137;document[_0x4a932b(0x1c5)](_0x4a932b(0x100))[_0x4a932b(0x7a)][_0x4a932b(0x104)]('active'),document[_0x4a932b(0x1c0)](_0x4a932b(0x145))[_0x4a932b(0x117)](_0x3df37f=>_0x3df37f['classList'][_0x4a932b(0x104)](_0x4a932b(0x1e3)));}function openPatternEditor(){const _0x3b62f3=a2_0x265137;closeAllSheets(),document['getElementById'](_0x3b62f3(0x176))[_0x3b62f3(0x7a)][_0x3b62f3(0x12f)](_0x3b62f3(0x1e3)),renderPatternEditor();}function closePatternEditor(){const _0x467a2f=a2_0x265137;document[_0x467a2f(0x1c5)](_0x467a2f(0x176))[_0x467a2f(0x7a)][_0x467a2f(0x104)](_0x467a2f(0x1e3));}function a2_0x4348(){const _0xc8d27f=['patternInfoBox','rangeStartTime','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','open','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','rgba(','filter','globalTimeLine','text/plain;charset=UTF-8','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','target','as-button\x20danger','json','sort','.day-off-overlay','</div><div\x20class=\x22ev-time\x22>','DOMContentLoaded','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','getAttribute','indexOf','borderRadius','doWorkHours','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','substr','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','max','toast','getHours','msg','var(--acc-green)','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','status','onclick','classList','settingCancelWindow','send','.day-col-header','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','addEventListener','search',':00</span>','analyticsList','saveLocally','toastMessage','getTime','btn-status-toggle','var(--acc-current)','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','rangeEndDate','none','querySelector','btnStatusToggle','anCustomDates','peGrid','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É',':00','asBtnSeries','block','inpEnd','data-date','keys','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','10px','blocked-slot\x20stripe-bg','completed','length','<span>','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','range-item','Batch\x20Sync\x20OK','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','doBusyHours','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','</div><div\x20class=\x22dch-num\x22>','init_load',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','includes','46899SoQtpW','4zpvSDy','startsWith','.day-column','POST','blocked-range-part\x20stripe-bg','\x20-\x20','toUpperCase','off','valid','user','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','findIndex','BackButton','entries','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','uc_clients_v9','formatDate','clientY','setBackgroundColor','insertBefore','uc_settings_cancel_window','delete','exceptions','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','rgba(255,\x2069,\x2058,\x200.3)','div','asTitle','show','getFullYear','#gridColumns\x20.day-column','Save\x20settings\x20error:','12595440XsORNU','create','mini','min','round','1073tGWNjc','inpStart','href','mergeServerData','data','constructor','.period-switch\x20.p-btn','recurringOptionContainer','matrixViewport','rgba(255,255,255,0.05)','rangeEndTime','dayOptionsTitle','parse','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','ranges','pe-cell\x20','innerHTML','doEventsList','data-day-idx','px\x20-','actionSheet','setHours','height','cancel_window','custom','pe-corner','getText','background','...','scrollWidth','textContent','week','calc(','%\x20+\x202px)','[Settings]\x20Cancel\x20window\x20set\x20to:','anPercent','100%','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','style','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','actionSheetOverlay','Local\x20Load\x20Error','day-col-header\x20','<div\x20class=\x22dch-day\x22>','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','anStart','222BsxTbt','warning','borderColor','overlay','clients','initDataUnsafe','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','remove','floor','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','numeric','2821590YwUPUm','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','566AalqRN','calendar','3344530gaOPds','now','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','WebApp','[Notify]\x20Network\x20Failed','splice','apply','charAt','.event-card','Error\x20setting\x20back\x20button:','rgba(255,\x2069,\x2058,\x200.15)','forEach','Unknown','flex','daysHeaderTrack','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','btn-status-toggle\x20undo-mode','update','find','day-off-overlay\x20stripe-bg','warn','[Notify]\x20Server\x20Response:','touchend','total','setItem','setAttribute','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','911631OdSMDh','then','toastTitle','cancel','Error\x20setting\x20color:','sheetTitle','.dch-stats-fill','mousemove','add','inpDate','var(--acc-orange)','488ZErfDU','fetchFromServer','settingsSheet','offsetWidth','[Notify]\x20Error:\x20sessionData\x20is\x20null','10px\x2010px\x200\x200','btnDelete','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','dayOptionsSheet','mousedown','display','toLocaleDateString','</div>','\x20‚Äî\x20','ru-RU','appendChild','client','push','borderLeftColor','.sheet','seriesId','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','zIndex','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','undefined','setDate','–£—Å–ø–µ—à–Ω–æ','backgroundPosition','asBtnOne','seriesCountContainer','getBoundingClientRect','header-','touchmove','planned','sessionSheet','#fff','deleted','[API\x20','cancelled','long','#0a84ff','.pib-text',':\x20Client\x20already\x20booked','strokeDashoffset','checked','save_settings','map','ready','width','client-stat-card','active','colIndex','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','name','stat-','\x20–∏–∑\x20','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','series','touchstart','00:00','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','start','%\x20-\x204px)','doLoadPercent',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','today','dateStr','error','patternEditor','toString','location','left','timeColumn','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','Critical\x20TMA\x20Error:','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','null','createElement','getMinutes','catch','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','31165CorCqF','time-label','guest','getDay','from','log','rangesSheet','<b>‚úÖ\x20','single','rangeStartDate','inpSeriesCount','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','backgroundColor','value','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','initData','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','inpClient','timeLineBadge','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','end','offsetLeft','px\x200px','getMonth','uc_sessions_v9','clientId','day-column\x20','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','Telegram','stringify','touches','Local\x20Save\x20Error','createDocumentFragment','inpRecurring','batch_sync','[Notify]\x20Detected\x20Client\x20ID:','all','[Notify]\x20Error:\x20Text\x20generation\x20failed','save','disableVerticalSwipes','text','scrollTop','btn-primary\x20btn-secondary','month','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','</b>\x0a\x0a','top','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','random','syncBatch','anEnd','scrollLeft','vibrate',']\x20Failed:','var(--acc-red)','color','#050505','done','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','Server\x20Error','querySelectorAll','stopPropagation','getDate','slice','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','getElementById','option','de-item','23:59','mouseup','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','uc_settings_v9','gridColumns','getItem','settings','headerMonth','split','complete','\x20days','rgba(100,100,100,0.5)','–ò–Ω—Ñ–æ','anDonutCircle','pattern','className','setMonth','</span>\x20/\x20','inpNote','note','padStart','statLoadCard'];a2_0x4348=function(){return _0xc8d27f;};return a2_0x4348();}function savePattern(){const _0x319e99=a2_0x265137;document[_0x319e99(0x1c5)](_0x319e99(0x176))[_0x319e99(0x7a)][_0x319e99(0x104)](_0x319e99(0x1e3)),reRenderBlocks(),DataManager[_0x319e99(0x83)](),DataManager['fetchFromServer'](_0x319e99(0x15f),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x3ae4a8=a2_0x265137,_0x3e32ca=document[_0x3ae4a8(0x1c5)](_0x3ae4a8(0x8e));_0x3e32ca[_0x3ae4a8(0xdf)]='';const _0x113c90=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x71d72f=document['createElement'](_0x3ae4a8(0xc3));_0x71d72f[_0x3ae4a8(0x1d9)]=_0x3ae4a8(0xe8),_0x3e32ca[_0x3ae4a8(0x141)](_0x71d72f),_0x113c90[_0x3ae4a8(0x117)]((_0x1db8b4,_0x16d33b)=>{const _0x3648c3=_0x3ae4a8,_0x4ad302=document[_0x3648c3(0x17f)](_0x3648c3(0xc3));_0x4ad302[_0x3648c3(0x1d9)]='pe-col-header',_0x4ad302[_0x3648c3(0xdf)]=_0x1db8b4+'\x20<span\x20class=\x22arrow\x22>‚Üì</span>',_0x4ad302[_0x3648c3(0x79)]=()=>toggleColPattern(_0x16d33b),_0x3e32ca[_0x3648c3(0x141)](_0x4ad302);});for(let _0x505a27=0x0;_0x505a27<0x18;_0x505a27++){const _0x310ccf=document['createElement'](_0x3ae4a8(0xc3));_0x310ccf[_0x3ae4a8(0x1d9)]='pe-time-label',_0x310ccf['innerHTML']=_0x3ae4a8(0x1e2)+String(_0x505a27)[_0x3ae4a8(0x1de)](0x2,'0')+_0x3ae4a8(0x90),_0x310ccf[_0x3ae4a8(0x79)]=()=>toggleRowPattern(_0x505a27),_0x3e32ca['appendChild'](_0x310ccf);for(let _0x1de29c=0x0;_0x1de29c<0x7;_0x1de29c++){const _0x345936=document['createElement'](_0x3ae4a8(0xc3)),_0x3e1e13=(availabilityPattern[_0x1de29c]||[])[_0x3ae4a8(0xa8)](_0x505a27),_0xf30166=!_0x3e1e13;_0x345936['className']=_0x3ae4a8(0xde)+(_0xf30166?_0x3ae4a8(0x164):''),_0x345936[_0x3ae4a8(0x79)]=()=>toggleSinglePattern(_0x1de29c,_0x505a27),_0x3e32ca['appendChild'](_0x345936);}}}function toggleSinglePattern(_0x24ea2e,_0x533fed){const _0x5e4ebd=a2_0x265137;if(!availabilityPattern[_0x24ea2e])availabilityPattern[_0x24ea2e]=[];const _0x520c6d=availabilityPattern[_0x24ea2e],_0x174bf5=_0x520c6d['indexOf'](_0x533fed);_0x174bf5===-0x1?_0x520c6d[_0x5e4ebd(0x143)](_0x533fed):_0x520c6d['splice'](_0x174bf5,0x1),renderPatternEditor();}function toggleColPattern(_0x50e127){const _0xe2e14e=a2_0x265137;if(!availabilityPattern[_0x50e127])availabilityPattern[_0x50e127]=[];const _0xc105f5=availabilityPattern[_0x50e127];_0xc105f5[_0xe2e14e(0x9a)]===0x0?availabilityPattern[_0x50e127]=Array[_0xe2e14e(0x187)]({'length':0x18},(_0x2910a9,_0xcca356)=>_0xcca356):availabilityPattern[_0x50e127]=[],renderPatternEditor();}function toggleRowPattern(_0x48b9b3){const _0xb66449=a2_0x265137;let _0xef8a2a=!![];for(let _0x12c900=0x0;_0x12c900<0x7;_0x12c900++){if((availabilityPattern[_0x12c900]||[])[_0xb66449(0xa8)](_0x48b9b3)){_0xef8a2a=![];break;}}for(let _0xafa3ef=0x0;_0xafa3ef<0x7;_0xafa3ef++){if(!availabilityPattern[_0xafa3ef])availabilityPattern[_0xafa3ef]=[];const _0x226db8=availabilityPattern[_0xafa3ef][_0xb66449(0x6c)](_0x48b9b3);if(_0xef8a2a){if(_0x226db8===-0x1)availabilityPattern[_0xafa3ef][_0xb66449(0x143)](_0x48b9b3);}else{if(_0x226db8!==-0x1)availabilityPattern[_0xafa3ef][_0xb66449(0x111)](_0x226db8,0x1);}}renderPatternEditor();}function renderPCol(_0x49dcfe,_0x52e0c2){const _0x36a136=a2_0x265137;_0x49dcfe[_0x36a136(0xdf)]='';const _0x3f22fd=Math[_0x36a136(0xcd)](_0x49dcfe[_0x36a136(0x198)]);(availabilityPattern[_0x52e0c2]||[])[_0x36a136(0x117)](_0x41bc8e=>{const _0x16c909=_0x36a136,_0x47484f=document[_0x16c909(0x17f)](_0x16c909(0xc3));_0x47484f['className']=_0x16c909(0x98);const _0x19e72b=_0x41bc8e*GRID_H;_0x47484f[_0x16c909(0xf5)][_0x16c909(0x1b1)]=_0x19e72b+'px',_0x47484f[_0x16c909(0xf5)][_0x16c909(0x14d)]='-'+_0x3f22fd+_0x16c909(0xe2)+_0x19e72b+'px',_0x47484f[_0x16c909(0x79)]=_0x19371f=>{_0x19371f['stopPropagation'](),toggleSinglePattern(_0x52e0c2,_0x41bc8e);},_0x49dcfe['appendChild'](_0x47484f);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x131d40=a2_0x265137,_0x301f3f=new Date(),_0x177a87=document[_0x131d40(0x1c5)](_0x131d40(0x1e7)),_0x22c97a=document['getElementById'](_0x131d40(0x195)),_0x29dccf=(_0x301f3f['getHours']()*0x3c+_0x301f3f[_0x131d40(0x180)]())/0x3c*GRID_H;_0x177a87['style'][_0x131d40(0x1b1)]=_0x29dccf+'px',_0x177a87['style'][_0x131d40(0x13c)]=_0x131d40(0x92),_0x22c97a[_0x131d40(0xed)]=String(_0x301f3f[_0x131d40(0x74)]())[_0x131d40(0x1de)](0x2,'0')+':'+String(_0x301f3f[_0x131d40(0x180)]())[_0x131d40(0x1de)](0x2,'0'),_0x22c97a[_0x131d40(0xf5)][_0x131d40(0x13c)]='block',_0x22c97a[_0x131d40(0xf5)][_0x131d40(0x1b1)]=_0x29dccf+'px';}document['addEventListener'](a2_0x265137(0x69),init);function openDayOptions(_0x2dfcf4){const _0x585987=a2_0x265137;selectedDayForOptions=_0x2dfcf4;const _0x1f5dea=new Date(_0x2dfcf4),_0xcc6d6={'weekday':_0x585987(0x159),'day':_0x585987(0x107),'month':_0x585987(0x159),'year':_0x585987(0x107)},_0x44e555=_0x1f5dea['toLocaleDateString']('ru-RU',_0xcc6d6);document[_0x585987(0x1c5)]('doDateHeader')[_0x585987(0xed)]=_0x44e555[_0x585987(0x113)](0x0)['toUpperCase']()+_0x44e555[_0x585987(0x1c3)](0x1);let _0x210e98=_0x1f5dea[_0x585987(0x186)]()-0x1;if(_0x210e98===-0x1)_0x210e98=0x6;const _0x544536=availabilityPattern[_0x210e98]||[],_0x1190ab=0x18-_0x544536[_0x585987(0x9a)],_0xf188c4=_0x1190ab*0x3c,_0x1c5a6=sessions['filter'](_0x2c6cda=>_0x2c6cda[_0x585987(0x174)]===_0x2dfcf4&&_0x2c6cda[_0x585987(0x78)]!==_0x585987(0x158));let _0x337a81=_0x1c5a6['map'](_0x24ace8=>{const _0x286824=_0x585987,[_0x501cb5,_0xe9e687]=_0x24ace8[_0x286824(0x16f)][_0x286824(0x1d2)](':')['map'](Number),[_0x16a73a,_0x14262a]=_0x24ace8['end'][_0x286824(0x1d2)](':')[_0x286824(0x160)](Number);return[_0x501cb5*0x3c+_0xe9e687,_0x16a73a*0x3c+_0x14262a];});_0x337a81[_0x585987(0x1ed)]((_0x1e666b,_0x20caf1)=>_0x1e666b[0x0]-_0x20caf1[0x0]);let _0x4db8fc=[];if(_0x337a81['length']>0x0){let _0x1772e3=_0x337a81[0x0];for(let _0x571b60=0x1;_0x571b60<_0x337a81['length'];_0x571b60++){_0x337a81[_0x571b60][0x0]<_0x1772e3[0x1]?_0x1772e3[0x1]=Math[_0x585987(0x72)](_0x1772e3[0x1],_0x337a81[_0x571b60][0x1]):(_0x4db8fc[_0x585987(0x143)](_0x1772e3),_0x1772e3=_0x337a81[_0x571b60]);}_0x4db8fc['push'](_0x1772e3);}let _0x2652e0=0x0;_0x4db8fc['forEach'](_0x1feb94=>_0x2652e0+=_0x1feb94[0x1]-_0x1feb94[0x0]),document[_0x585987(0x1c5)](_0x585987(0x6e))[_0x585987(0xed)]=formatMinsToHrs(_0xf188c4),document[_0x585987(0x1c5)](_0x585987(0xa1))[_0x585987(0xed)]=formatMinsToHrs(_0x2652e0);const _0x441673=_0xf188c4>0x0?Math['round'](_0x2652e0/_0xf188c4*0x64):0x0,_0x43dc73=document[_0x585987(0x1c5)](_0x585987(0x171));_0x43dc73['textContent']=_0x441673+'%';const _0x400621=document['getElementById'](_0x585987(0x1df));if(_0x441673>0x64)_0x43dc73[_0x585987(0xf5)][_0x585987(0x1ba)]=_0x585987(0x1b9),_0x400621[_0x585987(0xf5)][_0x585987(0xff)]=_0x585987(0xc2);else _0x441673>0x50?(_0x43dc73[_0x585987(0xf5)]['color']=_0x585987(0x131),_0x400621['style'][_0x585987(0xff)]='rgba(255,\x20159,\x2010,\x200.3)'):(_0x43dc73['style'][_0x585987(0x1ba)]=_0x585987(0x76),_0x400621[_0x585987(0xf5)][_0x585987(0xff)]=_0x585987(0xd7));const _0x310903=document['getElementById'](_0x585987(0xe0));_0x310903[_0x585987(0xdf)]='';_0x1c5a6[_0x585987(0x9a)]===0x0?_0x310903['innerHTML']='<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>':(_0x1c5a6[_0x585987(0x1ed)]((_0x3a2d64,_0x2acdc6)=>_0x3a2d64[_0x585987(0x16f)]['localeCompare'](_0x2acdc6['start'])),_0x1c5a6['forEach'](_0x4afa4f=>{const _0x362910=_0x585987,_0x3e194c=clients['find'](_0x42d672=>_0x42d672[_0x362910(0x167)]===_0x4afa4f[_0x362910(0x142)]),_0x5a2374=_0x3e194c?_0x3e194c[_0x362910(0x1ba)]:'#fff',_0x3195d8=_0x4afa4f[_0x362910(0x78)]===_0x362910(0x99),_0x480625=_0x3195d8?_0x362910(0x16e):'',_0x26ab6b=document[_0x362910(0x17f)](_0x362910(0xc3));_0x26ab6b['className']=_0x362910(0x1c7),_0x26ab6b[_0x362910(0xf5)]['borderLeftColor']=_0x5a2374,_0x26ab6b['innerHTML']=_0x362910(0x182)+_0x4afa4f[_0x362910(0x16f)]+_0x362910(0xaf)+_0x4afa4f[_0x362910(0x197)]+_0x362910(0x126)+_0x4afa4f[_0x362910(0x142)]+_0x362910(0x109)+_0x480625+_0x362910(0xdb),_0x310903['appendChild'](_0x26ab6b);}));const _0x167e8c=document[_0x585987(0x1c5)]('btnDayToggle'),_0x1533aa=dateExceptions[_0x2dfcf4]==='off';_0x1533aa?(_0x167e8c[_0x585987(0xed)]=_0x585987(0x10e),_0x167e8c[_0x585987(0x1d9)]=_0x585987(0x1ad),_0x167e8c[_0x585987(0xf5)][_0x585987(0x1ba)]=_0x585987(0x76),_0x167e8c['style']['background']='rgba(48,\x20209,\x2088,\x200.15)'):(_0x167e8c['textContent']=_0x585987(0x9c),_0x167e8c[_0x585987(0x1d9)]='btn-primary\x20btn-danger',_0x167e8c[_0x585987(0xf5)][_0x585987(0x1ba)]=_0x585987(0x1b9),_0x167e8c['style'][_0x585987(0xea)]=_0x585987(0x116)),openSheet(_0x585987(0x13a));}function a2_0x2fd9(_0x26ab77,_0x134c48){_0x26ab77=_0x26ab77-0x67;const _0x39dd06=a2_0x4348();let _0x51066f=_0x39dd06[_0x26ab77];return _0x51066f;}let currentAnPeriod=a2_0x265137(0xee);function openAnalytics(){const _0x303164=a2_0x265137,_0x356312=document['querySelector'](_0x303164(0xd4));setAnalyticsPeriod(_0x303164(0xee),_0x356312),closeAllSheets(),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x1379af,_0x56d3d6){const _0x13ecc2=a2_0x265137;currentAnPeriod=_0x1379af,document[_0x13ecc2(0x1c0)]('.period-switch\x20.p-btn')[_0x13ecc2(0x117)](_0x3ac86d=>_0x3ac86d[_0x13ecc2(0x7a)][_0x13ecc2(0x104)](_0x13ecc2(0x164)));if(_0x56d3d6)_0x56d3d6[_0x13ecc2(0x7a)][_0x13ecc2(0x12f)](_0x13ecc2(0x164));const _0x594a8b=document[_0x13ecc2(0x1c5)](_0x13ecc2(0x8d));_0x594a8b['style'][_0x13ecc2(0x13c)]=_0x1379af===_0x13ecc2(0xe7)?_0x13ecc2(0x119):_0x13ecc2(0x8a);const _0x449482=new Date();let _0x415fd6=new Date(),_0x540dd8=new Date();if(_0x1379af===_0x13ecc2(0xee))_0x415fd6=getStartOfWeek(_0x449482),_0x540dd8=new Date(_0x415fd6),_0x540dd8[_0x13ecc2(0x14b)](_0x540dd8[_0x13ecc2(0x1c2)]()+0x6);else{if(_0x1379af===_0x13ecc2(0x1ae))_0x415fd6=new Date(_0x449482[_0x13ecc2(0xc6)](),_0x449482['getMonth'](),0x1),_0x540dd8=new Date(_0x449482[_0x13ecc2(0xc6)](),_0x449482[_0x13ecc2(0x19a)]()+0x1,0x0);else{!document[_0x13ecc2(0x1c5)](_0x13ecc2(0xfc))[_0x13ecc2(0x190)]&&(document['getElementById'](_0x13ecc2(0xfc))[_0x13ecc2(0x190)]=getLocalDateStr(_0x449482),document['getElementById'](_0x13ecc2(0x1b5))[_0x13ecc2(0x190)]=getLocalDateStr(_0x449482));refreshAnalytics();return;}}document[_0x13ecc2(0x1c5)](_0x13ecc2(0xfc))[_0x13ecc2(0x190)]=getLocalDateStr(_0x415fd6),document['getElementById']('anEnd')[_0x13ecc2(0x190)]=getLocalDateStr(_0x540dd8),refreshAnalytics();}function refreshAnalytics(){const _0x4089d9=a2_0x265137,_0x3a5c25=document['getElementById'](_0x4089d9(0xfc))['value'],_0x169f4e=document['getElementById'](_0x4089d9(0x1b5))['value'];if(!_0x3a5c25||!_0x169f4e)return;const _0x420555=sessions[_0x4089d9(0x1e6)](_0x429a9a=>_0x429a9a[_0x4089d9(0x174)]>=_0x3a5c25&&_0x429a9a['dateStr']<=_0x169f4e&&_0x429a9a[_0x4089d9(0x78)]!==_0x4089d9(0x158)),_0x452e60=_0x420555['length'],_0x82c06d=_0x420555[_0x4089d9(0x1e6)](_0x18a439=>_0x18a439[_0x4089d9(0x78)]==='completed')['length'],_0x241c71=_0x452e60>0x0?Math[_0x4089d9(0xcd)](_0x82c06d/_0x452e60*0x64):0x0;document[_0x4089d9(0x1c5)](_0x4089d9(0xf2))[_0x4089d9(0xed)]=_0x241c71+'%',document[_0x4089d9(0x1c5)]('anTotalStats')[_0x4089d9(0xed)]=_0x82c06d+_0x4089d9(0x169)+_0x452e60+_0x4089d9(0x96);const _0x27f8a3=document[_0x4089d9(0x1c5)](_0x4089d9(0x1d7)),_0x201f4d=0x2*Math['PI']*0x23,_0x28d920=_0x201f4d-_0x241c71/0x64*_0x201f4d;_0x27f8a3[_0x4089d9(0xf5)][_0x4089d9(0x15d)]=_0x28d920;const _0x57b8f5={};_0x420555['forEach'](_0x6a22e6=>{const _0x2833ab=_0x4089d9;if(!_0x57b8f5[_0x6a22e6['client']]){const _0xdcc837=clients[_0x2833ab(0x11e)](_0x5d341c=>_0x5d341c['name']===_0x6a22e6[_0x2833ab(0x142)]);_0x57b8f5[_0x6a22e6['client']]={'total':0x0,'done':0x0,'color':_0xdcc837?_0xdcc837[_0x2833ab(0x1ba)]:_0x2833ab(0x155)};}_0x57b8f5[_0x6a22e6[_0x2833ab(0x142)]]['total']++;if(_0x6a22e6['status']===_0x2833ab(0x99))_0x57b8f5[_0x6a22e6[_0x2833ab(0x142)]][_0x2833ab(0x1bc)]++;});const _0x2897e1=document[_0x4089d9(0x1c5)](_0x4089d9(0x82));_0x2897e1[_0x4089d9(0xdf)]='';const _0xcfd654=Object[_0x4089d9(0xb7)](_0x57b8f5)[_0x4089d9(0x1ed)]((_0x59f514,_0x528c79)=>_0x528c79[0x1][_0x4089d9(0x123)]-_0x59f514[0x1][_0x4089d9(0x123)]);if(_0xcfd654[_0x4089d9(0x9a)]===0x0){_0x2897e1[_0x4089d9(0xdf)]=_0x4089d9(0x16a);return;}_0xcfd654[_0x4089d9(0x117)](([_0x84c958,_0x13a5a8])=>{const _0x56d1f3=_0x4089d9,_0x57969f=Math[_0x56d1f3(0xcd)](_0x13a5a8[_0x56d1f3(0x1bc)]/_0x13a5a8[_0x56d1f3(0x123)]*0x64),_0x1e77a1=document[_0x56d1f3(0x17f)](_0x56d1f3(0xc3));_0x1e77a1['className']=_0x56d1f3(0x163),_0x1e77a1[_0x56d1f3(0xf5)][_0x56d1f3(0x144)]=_0x13a5a8[_0x56d1f3(0x1ba)],_0x1e77a1[_0x56d1f3(0xdf)]=_0x56d1f3(0x11b)+_0x84c958+_0x56d1f3(0x1e9)+_0x13a5a8[_0x56d1f3(0x1bc)]+_0x56d1f3(0x1db)+_0x13a5a8[_0x56d1f3(0x123)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x57969f+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x2897e1[_0x56d1f3(0x141)](_0x1e77a1);});}function formatMinsToHrs(_0xace51c){const _0x4d985c=a2_0x265137;if(_0xace51c===0x0)return'0';const _0x225230=Math[_0x4d985c(0x105)](_0xace51c/0x3c),_0x4303db=_0xace51c%0x3c;if(_0x4303db===0x0)return _0x225230+'—á';return _0x225230+'—á\x20'+_0x4303db+'–º';}