const a2_0x3c37d4=a2_0x16d4;(function(_0x401bcd,_0x316027){const _0x5586e5=a2_0x16d4,_0x842a4c=_0x401bcd();while(!![]){try{const _0x1dccbe=-parseInt(_0x5586e5(0x24c))/0x1*(parseInt(_0x5586e5(0x2fe))/0x2)+-parseInt(_0x5586e5(0x267))/0x3*(parseInt(_0x5586e5(0x1c2))/0x4)+parseInt(_0x5586e5(0x2af))/0x5*(-parseInt(_0x5586e5(0x197))/0x6)+-parseInt(_0x5586e5(0x28b))/0x7+-parseInt(_0x5586e5(0x2d4))/0x8*(-parseInt(_0x5586e5(0x260))/0x9)+parseInt(_0x5586e5(0x252))/0xa+parseInt(_0x5586e5(0x184))/0xb;if(_0x1dccbe===_0x316027)break;else _0x842a4c['push'](_0x842a4c['shift']());}catch(_0x5f1c46){_0x842a4c['push'](_0x842a4c['shift']());}}}(a2_0x5baa,0x471d6),function initTMA(){const _0x5d41fa=a2_0x16d4,_0x37b38b=(function(){let _0x18672e=!![];return function(_0x5ed0b2,_0x2bdba6){const _0x24ffe9=_0x18672e?function(){const _0x182c0d=a2_0x16d4;if(_0x2bdba6){const _0x3368cd=_0x2bdba6[_0x182c0d(0x21e)](_0x5ed0b2,arguments);return _0x2bdba6=null,_0x3368cd;}}:function(){};return _0x18672e=![],_0x24ffe9;};}()),_0x48613a=_0x37b38b(this,function(){const _0x287b09=a2_0x16d4;return _0x48613a[_0x287b09(0x2d6)]()[_0x287b09(0x1ee)](_0x287b09(0x1af))[_0x287b09(0x2d6)]()[_0x287b09(0x272)](_0x48613a)['search']('(((.+)+)+)+$');});_0x48613a();try{const _0x574acb=window['Telegram']?.['WebApp'];if(!_0x574acb)return;_0x574acb[_0x5d41fa(0x1c4)](),_0x574acb[_0x5d41fa(0x239)]();try{_0x574acb['setHeaderColor'](_0x5d41fa(0x23f)),_0x574acb[_0x5d41fa(0x2ee)]&&_0x574acb['setBackgroundColor'](_0x5d41fa(0x23f));}catch(_0x34bddb){console[_0x5d41fa(0x2dc)](_0x5d41fa(0x1a3),_0x34bddb);}try{_0x574acb[_0x5d41fa(0x201)]&&(_0x574acb['BackButton'][_0x5d41fa(0x2df)](),_0x574acb[_0x5d41fa(0x201)][_0x5d41fa(0x292)](),_0x574acb[_0x5d41fa(0x201)][_0x5d41fa(0x259)](function(){const _0x2f0beb=_0x5d41fa;window['location']['href']=_0x2f0beb(0x2eb);}));}catch(_0x4b7c8c){console['log']('Error\x20setting\x20back\x20button:',_0x4b7c8c);}try{if(_0x574acb[_0x5d41fa(0x1c1)])_0x574acb[_0x5d41fa(0x1c1)]();}catch(_0x5033a9){}}catch(_0x2557ad){console[_0x5d41fa(0x2d9)](_0x5d41fa(0x2a0),_0x2557ad);}}());function isAdmin(){const _0x3f478c=a2_0x16d4;try{const _0x4c8ef3=Number(window[_0x3f478c(0x2f8)]?.[_0x3f478c(0x1cd)]?.[_0x3f478c(0x2d1)]?.[_0x3f478c(0x18c)]?.['id']);return _0x4c8ef3===0xbaf7174;}catch(_0x5063a4){return![];}}const APP_VERSION=a2_0x3c37d4(0x303),API_URL=a2_0x3c37d4(0x26f),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x3c37d4(0x27d),KEY_SESSIONS=a2_0x3c37d4(0x21f),KEY_SETTINGS=a2_0x3c37d4(0x306);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x3df122=a2_0x3c37d4;return window[_0x3df122(0x2f8)]?.[_0x3df122(0x1cd)]?.[_0x3df122(0x2d1)]?.['user']?.['id']||_0x3df122(0x26b);},'saveLocally'(){const _0x34a5df=a2_0x3c37d4;try{localStorage[_0x34a5df(0x1f6)](KEY_CLIENTS,JSON[_0x34a5df(0x2fc)](clients)),localStorage['setItem'](KEY_SESSIONS,JSON[_0x34a5df(0x2fc)](sessions)),localStorage[_0x34a5df(0x1f6)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x58046a){console['error'](_0x34a5df(0x2fd),_0x58046a);}},'loadLocal'(){const _0x8a0dc8=a2_0x3c37d4;try{const _0x56e1cc=localStorage[_0x8a0dc8(0x20a)](KEY_CLIENTS);if(_0x56e1cc)clients=JSON[_0x8a0dc8(0x1a6)](_0x56e1cc);const _0x3e8092=localStorage['getItem'](KEY_SESSIONS);if(_0x3e8092)sessions=JSON[_0x8a0dc8(0x1a6)](_0x3e8092);const _0x5d7298=localStorage[_0x8a0dc8(0x20a)](KEY_SETTINGS);if(_0x5d7298){const _0xd09503=JSON['parse'](_0x5d7298);if(_0xd09503[_0x8a0dc8(0x2ca)])availabilityPattern=_0xd09503[_0x8a0dc8(0x2ca)];if(_0xd09503[_0x8a0dc8(0x28d)])dateExceptions=_0xd09503['exceptions'];if(_0xd09503[_0x8a0dc8(0x1f1)])specialRanges=_0xd09503[_0x8a0dc8(0x1f1)];}else{for(let _0x5a98ed=0x0;_0x5a98ed<0x7;_0x5a98ed++)availabilityPattern[_0x5a98ed]=Array['from']({'length':0xc},(_0xf74496,_0x3b9bd7)=>_0x3b9bd7+0x9);}}catch(_0x47b6b9){console[_0x8a0dc8(0x2d9)]('Local\x20Load\x20Error',_0x47b6b9);}},async 'fetchFromServer'(_0x11c754,_0x25229f={}){const _0x24c08f=a2_0x3c37d4,_0x5f2d55=window[_0x24c08f(0x2f8)]?.[_0x24c08f(0x1cd)],_0x304b2c={'action':_0x11c754,'init_data':_0x5f2d55?.[_0x24c08f(0x2ae)]||'',..._0x25229f};try{const _0x42207f=await fetch(API_URL,{'method':_0x24c08f(0x24f),'headers':{'Content-Type':_0x24c08f(0x2ce)},'body':JSON[_0x24c08f(0x2fc)](_0x304b2c)}),_0x466adc=await _0x42207f[_0x24c08f(0x19b)]();if(!_0x466adc['ok'])throw new Error(_0x466adc[_0x24c08f(0x2d9)]||_0x24c08f(0x28e));return _0x466adc[_0x24c08f(0x19f)];}catch(_0x2fca8e){console[_0x24c08f(0x2d9)](_0x24c08f(0x189)+_0x11c754+_0x24c08f(0x190),_0x2fca8e);throw _0x2fca8e;}},async 'syncLoad'(){const _0x1951c4=a2_0x3c37d4,_0x22cf76=new Date(),_0x18a654=_0x22cf76[_0x1951c4(0x1b5)]()+'-'+String(_0x22cf76[_0x1951c4(0x2b1)]()+0x1)['padStart'](0x2,'0'),_0x20e798=new Date(_0x22cf76);_0x20e798[_0x1951c4(0x226)](_0x22cf76['getMonth']()+0x1);const _0x3f00ac=_0x20e798[_0x1951c4(0x1b5)]()+'-'+String(_0x20e798[_0x1951c4(0x2b1)]()+0x1)[_0x1951c4(0x21a)](0x2,'0'),_0x4f47fa=Date[_0x1951c4(0x26d)]();console[_0x1951c4(0x2dc)](_0x1951c4(0x205)+_0x18a654+',\x20'+_0x3f00ac+_0x1951c4(0x262));try{const [_0x2bb4d2,_0x115374]=await Promise[_0x1951c4(0x296)]([this[_0x1951c4(0x290)]('init_load',{'month_str':_0x18a654}),this[_0x1951c4(0x290)](_0x1951c4(0x2b9),{'month_str':_0x3f00ac})]);if(lastUserActionTime>_0x4f47fa)return console[_0x1951c4(0x2b6)](_0x1951c4(0x1e0)),![];return this[_0x1951c4(0x2d2)](_0x2bb4d2,_0x18a654),this[_0x1951c4(0x2d2)](_0x115374,_0x3f00ac),this[_0x1951c4(0x25e)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x612d92){console[_0x1951c4(0x2d9)](_0x612d92);throw _0x612d92;}},'mergeServerData'(_0x1e88c9,_0x61fa51){const _0x38f955=a2_0x3c37d4;if(!_0x1e88c9)return;_0x1e88c9['clients']&&Array['isArray'](_0x1e88c9[_0x38f955(0x199)])&&(clients=_0x1e88c9[_0x38f955(0x199)]);if(_0x1e88c9[_0x38f955(0x188)]){if(_0x1e88c9['settings'][_0x38f955(0x2ca)])availabilityPattern=_0x1e88c9[_0x38f955(0x188)][_0x38f955(0x2ca)];if(_0x1e88c9[_0x38f955(0x188)][_0x38f955(0x28d)])dateExceptions=_0x1e88c9['settings']['exceptions'];if(_0x1e88c9['settings'][_0x38f955(0x1f1)])specialRanges=_0x1e88c9[_0x38f955(0x188)][_0x38f955(0x1f1)];if(_0x1e88c9['settings'][_0x38f955(0x1b2)]){localStorage[_0x38f955(0x1f6)](_0x38f955(0x2aa),_0x1e88c9[_0x38f955(0x188)]['cancel_window']);const _0x4b595a=document[_0x38f955(0x286)](_0x38f955(0x269));if(_0x4b595a)_0x4b595a[_0x38f955(0x301)]=_0x1e88c9['settings']['cancel_window'];}}_0x1e88c9['calendar']&&(sessions=sessions[_0x38f955(0x2e4)](_0x211f8b=>!_0x211f8b['dateStr'][_0x38f955(0x211)](_0x61fa51)),Object[_0x38f955(0x2c4)](_0x1e88c9[_0x38f955(0x1d0)])[_0x38f955(0x2ba)](_0x482877=>{const _0x2ce16f=_0x38f955,_0x17f4a8=_0x1e88c9['calendar'][_0x482877];_0x17f4a8[_0x2ce16f(0x2ba)](_0x13d84f=>{const _0x2dbad3=_0x2ce16f,_0x136a66=clients[_0x2dbad3(0x2d8)](_0x15a8c1=>String(_0x15a8c1['id'])===String(_0x13d84f['c']));sessions[_0x2dbad3(0x255)]({'id':_0x13d84f['i'],'clientId':_0x13d84f['c'],'client':_0x136a66?_0x136a66['name']:'Unknown','dateStr':_0x61fa51+'-'+_0x482877[_0x2dbad3(0x21a)](0x2,'0'),'start':_0x13d84f['s'],'end':_0x13d84f['e'],'status':_0x13d84f['st']||_0x2dbad3(0x193),'note':_0x13d84f['n']||'','seriesId':_0x13d84f[_0x2dbad3(0x1d8)]||null});});}));},async 'syncBatch'(_0x2b6ee4){const _0x3c743f=a2_0x3c37d4,_0x4eab42=[...new Set(_0x2b6ee4)],_0x5e116a=_0x4eab42[_0x3c743f(0x1df)](_0x2fe214=>{const _0x491081=_0x3c743f,_0x1fedd2=sessions[_0x491081(0x2e4)](_0x55d14a=>_0x55d14a['dateStr']===_0x2fe214&&_0x55d14a[_0x491081(0x183)]!==_0x491081(0x2ac)),_0x42287e=_0x1fedd2['map'](_0x2d0dae=>({'i':_0x2d0dae['id'],'c':_0x2d0dae['clientId'],'s':_0x2d0dae['start'],'e':_0x2d0dae['end'],'st':_0x2d0dae[_0x491081(0x183)],'n':_0x2d0dae[_0x491081(0x208)],'sid':_0x2d0dae[_0x491081(0x1b3)]}));return{'date':_0x2fe214,'day_data':_0x42287e};});if(_0x5e116a['length']===0x0)return;console[_0x3c743f(0x2dc)]('[Sync]\x20Pushing\x20batch\x20updates\x20for\x20'+_0x5e116a['length']+_0x3c743f(0x212)),await this[_0x3c743f(0x290)](_0x3c743f(0x2bc),{'changes':_0x5e116a});}};async function init(){const _0x59b8fe=a2_0x3c37d4;DataManager[_0x59b8fe(0x231)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x59b8fe(0x286)](_0x59b8fe(0x257))['addEventListener'](_0x59b8fe(0x1e6),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x59b8fe(0x277)]()['then'](()=>{const _0x8d5f15=_0x59b8fe;showToast(_0x8d5f15(0x2cb),!![]);})[_0x59b8fe(0x196)](_0x3e8136=>{const _0x5b3dc6=_0x59b8fe;showToast(_0x5b3dc6(0x1ff),![]);});}function generateId(){const _0x1c27e4=a2_0x3c37d4;return Date['now']()[_0x1c27e4(0x2d6)](0x24)+Math[_0x1c27e4(0x2f2)]()[_0x1c27e4(0x2d6)](0x24)[_0x1c27e4(0x2c2)](0x2,0x5);}function toggleSeriesInput(){const _0x30d71b=a2_0x3c37d4,_0x3118bc=document['getElementById'](_0x30d71b(0x233))[_0x30d71b(0x1a4)],_0x2a720b=document[_0x30d71b(0x286)]('seriesCountContainer');_0x2a720b['style'][_0x30d71b(0x216)]=_0x3118bc?'block':_0x30d71b(0x2b0);const _0x3c20b3=document['getElementById'](_0x30d71b(0x210));_0x3c20b3[_0x30d71b(0x242)]['borderRadius']=_0x3118bc?'10px\x2010px\x200\x200':_0x30d71b(0x1e1);}function openAddSession(_0x45143a){const _0x11bb5e=a2_0x3c37d4;editingId=null,populateClientSelect(),document[_0x11bb5e(0x286)]('sheetTitle')[_0x11bb5e(0x278)]=_0x11bb5e(0x22e),document[_0x11bb5e(0x286)](_0x11bb5e(0x247))[_0x11bb5e(0x242)]['display']=_0x11bb5e(0x2b0),document[_0x11bb5e(0x286)](_0x11bb5e(0x243))[_0x11bb5e(0x242)][_0x11bb5e(0x216)]=_0x11bb5e(0x2b0);const _0x47fa65=document['getElementById'](_0x11bb5e(0x210)),_0x570530=document[_0x11bb5e(0x286)](_0x11bb5e(0x244));_0x47fa65[_0x11bb5e(0x242)][_0x11bb5e(0x216)]=_0x11bb5e(0x2e8),_0x47fa65['style'][_0x11bb5e(0x305)]=_0x11bb5e(0x1e1),document[_0x11bb5e(0x286)]('inpRecurring')[_0x11bb5e(0x1a4)]=![],document['getElementById'](_0x11bb5e(0x209))[_0x11bb5e(0x301)]=0x4,_0x570530[_0x11bb5e(0x242)][_0x11bb5e(0x216)]=_0x11bb5e(0x2b0),document[_0x11bb5e(0x286)](_0x11bb5e(0x251))['value']=getLocalDateStr(_0x45143a),updateDateDisplay();const _0x5bd7de=_0x45143a[_0x11bb5e(0x28f)]();document['getElementById'](_0x11bb5e(0x2e2))[_0x11bb5e(0x301)]=String(_0x5bd7de)['padStart'](0x2,'0')+':00',document[_0x11bb5e(0x286)](_0x11bb5e(0x1f9))[_0x11bb5e(0x301)]=String(_0x5bd7de+0x1)[_0x11bb5e(0x21a)](0x2,'0')+':00',openSheet(_0x11bb5e(0x2ff));}function openEdit(_0x4b0676){const _0x1cc5b1=a2_0x3c37d4;editingId=_0x4b0676['id'],populateClientSelect(),document[_0x1cc5b1(0x286)](_0x1cc5b1(0x2b2))[_0x1cc5b1(0x278)]=_0x1cc5b1(0x2d7),document[_0x1cc5b1(0x286)](_0x1cc5b1(0x247))[_0x1cc5b1(0x242)][_0x1cc5b1(0x216)]=_0x1cc5b1(0x222);const _0xcf9417=document[_0x1cc5b1(0x286)](_0x1cc5b1(0x243));_0xcf9417[_0x1cc5b1(0x242)][_0x1cc5b1(0x216)]='flex';_0x4b0676['status']===_0x1cc5b1(0x227)?(_0xcf9417[_0x1cc5b1(0x23c)]=_0x1cc5b1(0x2f9),_0xcf9417[_0x1cc5b1(0x2e9)]='–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ'):(_0xcf9417['className']=_0x1cc5b1(0x1ef),_0xcf9417['innerHTML']=_0x1cc5b1(0x218));const _0x1eb565=!!_0x4b0676[_0x1cc5b1(0x1b3)];document['getElementById'](_0x1cc5b1(0x210))[_0x1cc5b1(0x242)]['display']=_0x1cc5b1(0x2b0),document[_0x1cc5b1(0x286)]('seriesCountContainer')[_0x1cc5b1(0x242)][_0x1cc5b1(0x216)]=_0x1cc5b1(0x2b0),_0x1eb565?(document[_0x1cc5b1(0x286)](_0x1cc5b1(0x22b))[_0x1cc5b1(0x242)][_0x1cc5b1(0x216)]=_0x1cc5b1(0x2e8),document[_0x1cc5b1(0x286)](_0x1cc5b1(0x22b))[_0x1cc5b1(0x215)](_0x1cc5b1(0x295))['textContent']=_0x1cc5b1(0x1cc)):document['getElementById'](_0x1cc5b1(0x22b))[_0x1cc5b1(0x242)]['display']='none',document['getElementById']('inpClient')[_0x1cc5b1(0x301)]=_0x4b0676[_0x1cc5b1(0x1bd)],document[_0x1cc5b1(0x286)]('inpDate')['value']=_0x4b0676['dateStr'],document[_0x1cc5b1(0x286)](_0x1cc5b1(0x2e2))['value']=_0x4b0676[_0x1cc5b1(0x2a9)],document[_0x1cc5b1(0x286)]('inpEnd')[_0x1cc5b1(0x301)]=_0x4b0676[_0x1cc5b1(0x23a)],document[_0x1cc5b1(0x286)](_0x1cc5b1(0x1a9))[_0x1cc5b1(0x301)]=_0x4b0676[_0x1cc5b1(0x208)]||'',updateDateDisplay(),openSheet(_0x1cc5b1(0x2ff));}async function trySaveSession(){const _0x36bbfe=a2_0x3c37d4,_0xa51799=document['getElementById']('inpClient')[_0x36bbfe(0x301)],_0x1306e2=document[_0x36bbfe(0x286)](_0x36bbfe(0x251))[_0x36bbfe(0x301)],_0x870cbf=document[_0x36bbfe(0x286)]('inpStart')[_0x36bbfe(0x301)],_0x16eb1a=document[_0x36bbfe(0x286)](_0x36bbfe(0x1f9))[_0x36bbfe(0x301)],_0x44ad30=document['getElementById'](_0x36bbfe(0x1a9))[_0x36bbfe(0x301)],_0x4b0da5=document[_0x36bbfe(0x286)](_0x36bbfe(0x233))[_0x36bbfe(0x1a4)];let _0x26aefd=0x4;if(_0x4b0da5){const _0x189be6=parseInt(document[_0x36bbfe(0x286)]('inpSeriesCount')['value']);if(!_0x189be6||_0x189be6<0x2){showToast('–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏',![]);return;}if(_0x189be6>0x64){showToast(_0x36bbfe(0x2dd),![]);return;}_0x26aefd=_0x189be6;}const _0x5391ca=clients[_0x36bbfe(0x2d8)](_0x5ad86b=>_0x5ad86b[_0x36bbfe(0x238)]===_0xa51799);if(!_0x5391ca){showToast(_0x36bbfe(0x24e),![]);return;}const _0x536451=validateAppointment(_0x1306e2,_0x870cbf,_0x16eb1a,editingId,_0x5391ca['id']);if(!_0x536451[_0x36bbfe(0x19a)]){showToast(_0x536451[_0x36bbfe(0x2a8)],![]);return;}_0x536451[_0x36bbfe(0x271)]&&showToast(_0x536451[_0x36bbfe(0x271)],![]);const _0x573545={'client':_0xa51799,'clientId':_0x5391ca['id'],'start':_0x870cbf,'end':_0x16eb1a,'note':_0x44ad30,'status':_0x36bbfe(0x193)},_0x712197=editingId?sessions[_0x36bbfe(0x2d8)](_0xd1096d=>_0xd1096d['id']===editingId):null;if(_0x712197&&_0x712197['seriesId']){tempSessionData={..._0x573545,'dateStr':_0x1306e2,'id':editingId,'seriesId':_0x712197[_0x36bbfe(0x1b3)]},openActionSheet(_0x36bbfe(0x26a));return;}let _0x13835a=null;if(!editingId)_0x13835a=_0x36bbfe(0x19e);else{if(_0x712197){if(String(_0x712197['clientId'])!==String(_0x5391ca['id']))console[_0x36bbfe(0x2dc)]('[Notify]\x20Client\x20SWAP\x20detected'),NotificationManager[_0x36bbfe(0x2cf)](_0x36bbfe(0x282),_0x712197),_0x13835a='create';else(_0x712197['start']!==_0x870cbf||_0x712197[_0x36bbfe(0x23a)]!==_0x16eb1a||_0x712197['dateStr']!==_0x1306e2)&&(_0x13835a=_0x36bbfe(0x2f6));}}if(!editingId&&_0x4b0da5){createBatchSeries(_0x573545,_0x1306e2,_0x26aefd),NotificationManager[_0x36bbfe(0x2cf)]('create',{..._0x573545,'dateStr':_0x1306e2});return;}lastUserActionTime=Date[_0x36bbfe(0x26d)]();const _0x31de40={..._0x573545,'dateStr':_0x1306e2,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x31de40),_0x13835a&&NotificationManager[_0x36bbfe(0x2cf)](_0x13835a,_0x31de40);}function toggleSessionStatus(){const _0x4f162f=a2_0x3c37d4;lastUserActionTime=Date['now']();const _0x58152f=sessions[_0x4f162f(0x2d8)](_0x45a899=>_0x45a899['id']===editingId);if(!_0x58152f)return;const _0x450233=_0x58152f[_0x4f162f(0x183)]===_0x4f162f(0x227)?'planned':_0x4f162f(0x227);_0x58152f['status']=_0x450233,saveSingleSession(_0x58152f),_0x450233===_0x4f162f(0x227)&&NotificationManager['send'](_0x4f162f(0x240),_0x58152f),showToast(_0x450233===_0x4f162f(0x227)?_0x4f162f(0x23e):_0x4f162f(0x1f7),!![]);}function validateAppointment(_0x1e27b4,_0x34f3c2,_0x42eef1,_0x198a72,_0x256cf5){const _0x363439=a2_0x3c37d4,[_0x3ae617,_0x2054ab]=_0x34f3c2[_0x363439(0x1dc)](':')['map'](Number),[_0x30d68f,_0x237be5]=_0x42eef1[_0x363439(0x1dc)](':')[_0x363439(0x1df)](Number),_0x3dc387=_0x3ae617*0x3c+_0x2054ab,_0x539e2e=_0x30d68f*0x3c+_0x237be5,_0x2eb3f2=String(_0x256cf5);let _0x518ea0=![],_0x1197e4='';for(let _0x21c51b of sessions){if(_0x21c51b[_0x363439(0x276)]!==_0x1e27b4)continue;if(_0x21c51b[_0x363439(0x183)]===_0x363439(0x2b3))continue;if(_0x198a72&&String(_0x21c51b['id'])===String(_0x198a72))continue;const [_0x4f78f9,_0x1e4e59]=_0x21c51b[_0x363439(0x2a9)]['split'](':')[_0x363439(0x1df)](Number),[_0x4dcaa6,_0x694354]=_0x21c51b[_0x363439(0x23a)]['split'](':')['map'](Number),_0x31bb49=_0x4f78f9*0x3c+_0x1e4e59,_0x3caee8=_0x4dcaa6*0x3c+_0x694354;if(Math['max'](_0x3dc387,_0x31bb49)<Math[_0x363439(0x25d)](_0x539e2e,_0x3caee8)){if(_0x21c51b[_0x363439(0x20c)]&&String(_0x21c51b[_0x363439(0x20c)])===_0x2eb3f2)return{'valid':![],'msg':_0x363439(0x253)+_0x21c51b[_0x363439(0x1bd)]+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x518ea0=!![],_0x1197e4=_0x21c51b['client'];}}if(_0x518ea0)return{'valid':!![],'warning':_0x363439(0x20f)+_0x1197e4};return{'valid':!![]};}function saveSingleSession(_0x30c8de){const _0x56e955=a2_0x3c37d4;if(editingId){const _0x1d5b1d=sessions[_0x56e955(0x2c7)](_0x578d14=>_0x578d14['id']===editingId);if(_0x1d5b1d!==-0x1)sessions[_0x1d5b1d]=_0x30c8de;}else sessions[_0x56e955(0x255)](_0x30c8de);afterSaveAction([_0x30c8de[_0x56e955(0x276)]]);}function createBatchSeries(_0x5ebf45,_0x42631b,_0x510453){const _0x5ecd65=a2_0x3c37d4,_0x27f097=generateId(),_0x440a5a=[],_0x31b19c=[];let _0x385759=0x0,_0x11c3b0=new Date(_0x42631b);for(let _0x34c474=0x0;_0x34c474<_0x510453;_0x34c474++){const _0x27de0a=getLocalDateStr(_0x11c3b0),_0x583fb6=validateAppointment(_0x27de0a,_0x5ebf45[_0x5ecd65(0x2a9)],_0x5ebf45[_0x5ecd65(0x23a)],null,_0x5ebf45['clientId']);if(!_0x583fb6[_0x5ecd65(0x19a)])console['log'](_0x5ecd65(0x1f3)+_0x27de0a+_0x5ecd65(0x1a0)),_0x385759++;else{const _0x93d933={..._0x5ebf45,'id':generateId(),'dateStr':_0x27de0a,'seriesId':_0x27f097};_0x31b19c['push'](_0x93d933),_0x440a5a[_0x5ecd65(0x255)](_0x27de0a);}_0x11c3b0['setDate'](_0x11c3b0[_0x5ecd65(0x2a4)]()+0x7);}if(_0x31b19c[_0x5ecd65(0x1c0)]===0x0){showToast(_0x5ecd65(0x27b),![]);return;}sessions[_0x5ecd65(0x255)](..._0x31b19c),lastUserActionTime=Date[_0x5ecd65(0x26d)]();let _0x54ae0f=_0x5ecd65(0x2c5)+_0x31b19c[_0x5ecd65(0x1c0)];_0x385759>0x0&&(_0x54ae0f+=_0x5ecd65(0x21d)+_0x385759+')'),showToast(_0x54ae0f,!![]),afterSaveAction(_0x440a5a);}function updateSeriesBatch(_0x1c82a2,_0x410568){const _0x19ac55=a2_0x3c37d4,_0x2dc964=[],_0x4c0b2a=_0x410568[_0x19ac55(0x1b3)];if(_0x1c82a2===_0x19ac55(0x2ab)){const _0x1356ea={..._0x410568,'seriesId':null},_0x14eae3=sessions[_0x19ac55(0x2c7)](_0x55c0d4=>_0x55c0d4['id']===_0x410568['id']);if(_0x14eae3!==-0x1)sessions[_0x14eae3]=_0x1356ea;_0x2dc964['push'](_0x1356ea[_0x19ac55(0x276)]);}else{if(_0x1c82a2===_0x19ac55(0x25a)){const _0x4db079=_0x410568[_0x19ac55(0x276)];sessions['forEach']((_0x1fbfbc,_0x2af45b)=>{const _0x18d2f1=_0x19ac55;_0x1fbfbc[_0x18d2f1(0x1b3)]===_0x4c0b2a&&_0x1fbfbc[_0x18d2f1(0x276)]>=_0x4db079&&(sessions[_0x2af45b]={...sessions[_0x2af45b],'start':_0x410568[_0x18d2f1(0x2a9)],'end':_0x410568['end'],'note':_0x410568[_0x18d2f1(0x208)],'client':_0x410568[_0x18d2f1(0x1bd)],'clientId':_0x410568[_0x18d2f1(0x20c)]},_0x2dc964['push'](_0x1fbfbc[_0x18d2f1(0x276)]));});}}afterSaveAction(_0x2dc964);}function tryDeleteSession(){const _0x3ac917=a2_0x3c37d4,_0x2e351e=sessions[_0x3ac917(0x2d8)](_0x53daff=>_0x53daff['id']===editingId);if(!_0x2e351e)return;_0x2e351e[_0x3ac917(0x1b3)]?openActionSheet(_0x3ac917(0x185)):commitDelete(_0x3ac917(0x2ab),_0x2e351e);}function commitDelete(_0x541970,_0x45a3e0){const _0x351ac8=a2_0x3c37d4;lastUserActionTime=Date[_0x351ac8(0x26d)](),NotificationManager['send'](_0x351ac8(0x282),_0x45a3e0);const _0x115964=[];if(_0x541970==='single')sessions=sessions['filter'](_0x15c447=>_0x15c447['id']!==_0x45a3e0['id']),_0x115964[_0x351ac8(0x255)](_0x45a3e0[_0x351ac8(0x276)]);else{if(_0x541970==='series'){const _0x13ae16=_0x45a3e0[_0x351ac8(0x276)],_0x3d4394=_0x45a3e0[_0x351ac8(0x1b3)];sessions[_0x351ac8(0x2ba)](_0x47cd28=>{const _0x448289=_0x351ac8;_0x47cd28['seriesId']===_0x3d4394&&_0x47cd28[_0x448289(0x276)]>=_0x13ae16&&_0x115964[_0x448289(0x255)](_0x47cd28[_0x448289(0x276)]);}),sessions=sessions['filter'](_0x4422f8=>!(_0x4422f8[_0x351ac8(0x1b3)]===_0x3d4394&&_0x4422f8['dateStr']>=_0x13ae16));}}afterSaveAction(_0x115964);}function afterSaveAction(_0x43a31b){const _0x400a04=a2_0x3c37d4;DataManager[_0x400a04(0x25e)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x400a04(0x280)](_0x43a31b)[_0x400a04(0x1bf)](()=>console[_0x400a04(0x2dc)](_0x400a04(0x2a6)))['catch'](_0x516a37=>showToast(_0x400a04(0x1e4),![]));}const NotificationManager={'formatDate'(_0x489a02){const _0x55ea26=a2_0x3c37d4,_0x1c1041=new Date(_0x489a02),_0x2e1ae4={'weekday':_0x55ea26(0x302),'day':_0x55ea26(0x2d3),'month':_0x55ea26(0x302)};let _0x3e8008=_0x1c1041[_0x55ea26(0x25b)](_0x55ea26(0x2d5),_0x2e1ae4);return _0x3e8008[_0x55ea26(0x25c)](0x0)['toUpperCase']()+_0x3e8008[_0x55ea26(0x1c7)](0x1);},'getText'(_0x1e2cfb,_0x13b017){const _0x941d3a=a2_0x3c37d4,_0xb28ae3=this[_0x941d3a(0x285)](_0x13b017['dateStr']);switch(_0x1e2cfb){case _0x941d3a(0x19e):return _0x941d3a(0x281)+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0xb28ae3+'\x0a')+(_0x941d3a(0x1c8)+_0x13b017['start']+_0x941d3a(0x225)+_0x13b017['end']+'\x0a\x0a')+'–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™';case _0x941d3a(0x2f6):return _0x941d3a(0x248)+_0x941d3a(0x279)+(_0x941d3a(0x1c9)+_0x13b017[_0x941d3a(0x2a9)]+'\x20‚Äî\x20'+_0x13b017[_0x941d3a(0x23a)]+'</b>\x0a\x0a')+(_0x941d3a(0x1ad)+_0xb28ae3);case'cancel':return _0x941d3a(0x1a8)+(_0x941d3a(0x1da)+_0xb28ae3+'\x20('+_0x13b017[_0x941d3a(0x2a9)]+_0x941d3a(0x1e3));case _0x941d3a(0x240):return'<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a'+_0x941d3a(0x1ca)+_0x941d3a(0x2e7);default:return'';}},async 'send'(_0x33989b,_0x2879a2){const _0x3ecdfa=a2_0x3c37d4;console[_0x3ecdfa(0x2dc)](_0x3ecdfa(0x1d7),_0x33989b,_0x2879a2);if(!_0x2879a2){console['error'](_0x3ecdfa(0x275));return;}const _0x1aa4b2=String(_0x2879a2[_0x3ecdfa(0x20c)]);console[_0x3ecdfa(0x2dc)](_0x3ecdfa(0x266),_0x1aa4b2);if(!_0x2879a2[_0x3ecdfa(0x20c)]||_0x1aa4b2===_0x3ecdfa(0x1e9)||_0x1aa4b2===_0x3ecdfa(0x28a)){console[_0x3ecdfa(0x2d9)](_0x3ecdfa(0x1b4));if(_0x2879a2[_0x3ecdfa(0x1bd)]){const _0x2bf934=clients[_0x3ecdfa(0x2d8)](_0x46bf4c=>_0x46bf4c[_0x3ecdfa(0x238)]===_0x2879a2['client']);if(_0x2bf934)return console['log'](_0x3ecdfa(0x297),_0x2bf934['id']),this[_0x3ecdfa(0x2cf)](_0x33989b,{..._0x2879a2,'clientId':_0x2bf934['id']});}return;}if(_0x1aa4b2['length']<0x5){console[_0x3ecdfa(0x2b6)](_0x3ecdfa(0x235),_0x1aa4b2);return;}const _0x71f873=this[_0x3ecdfa(0x221)](_0x33989b,_0x2879a2);if(!_0x71f873){console[_0x3ecdfa(0x2d9)]('[Notify]\x20Error:\x20Text\x20generation\x20failed');return;}console['log']('[Notify]\x20Sending\x20to\x20GAS\x20for\x20'+_0x1aa4b2+'...'),DataManager[_0x3ecdfa(0x290)](_0x3ecdfa(0x270),{'chatId':_0x1aa4b2,'text':_0x71f873})['then'](_0xdb0c6=>console[_0x3ecdfa(0x2dc)](_0x3ecdfa(0x29f),_0xdb0c6))[_0x3ecdfa(0x196)](_0x23fd84=>console[_0x3ecdfa(0x2d9)](_0x3ecdfa(0x24d),_0x23fd84));}};function getLocalDateStr(_0x199228){const _0x5c544c=a2_0x3c37d4,_0x422274=_0x199228['getFullYear'](),_0x1bdc8a=String(_0x199228['getMonth']()+0x1)[_0x5c544c(0x21a)](0x2,'0'),_0x3f3368=String(_0x199228[_0x5c544c(0x2a4)]())[_0x5c544c(0x21a)](0x2,'0');return _0x422274+'-'+_0x1bdc8a+'-'+_0x3f3368;}function a2_0x16d4(_0x42cfed,_0xb2eeda){_0x42cfed=_0x42cfed-0x183;const _0x1cb16f=a2_0x5baa();let _0xb94c6b=_0x1cb16f[_0x42cfed];return _0xb94c6b;}function getDateStr(_0x1c7a50){const _0xa37a7e=a2_0x3c37d4,_0x2d158b=new Date();return _0x2d158b[_0xa37a7e(0x186)](_0x2d158b[_0xa37a7e(0x2a4)]()+_0x1c7a50),getLocalDateStr(_0x2d158b);}function getStartOfWeek(_0x485f7b){const _0x47baaf=a2_0x3c37d4,_0x36401d=new Date(_0x485f7b),_0x3d6fbc=_0x36401d[_0x47baaf(0x224)](),_0x34e0ab=_0x36401d[_0x47baaf(0x2a4)]()-_0x3d6fbc+(_0x3d6fbc===0x0?-0x6:0x1);return _0x36401d['setDate'](_0x34e0ab),_0x36401d[_0x47baaf(0x2f1)](0x0,0x0,0x0,0x0),_0x36401d;}function hexToRgba(_0xccacb3,_0x55cd02){const _0x533bed=a2_0x3c37d4;if(!_0xccacb3)return _0x533bed(0x1ac);let _0x4dbfce=0x0,_0x35b7bd=0x0,_0x4af81e=0x0;if(_0xccacb3['length']===0x4)_0x4dbfce='0x'+_0xccacb3[0x1]+_0xccacb3[0x1],_0x35b7bd='0x'+_0xccacb3[0x2]+_0xccacb3[0x2],_0x4af81e='0x'+_0xccacb3[0x3]+_0xccacb3[0x3];else _0xccacb3[_0x533bed(0x1c0)]===0x7&&(_0x4dbfce='0x'+_0xccacb3[0x1]+_0xccacb3[0x2],_0x35b7bd='0x'+_0xccacb3[0x3]+_0xccacb3[0x4],_0x4af81e='0x'+_0xccacb3[0x5]+_0xccacb3[0x6]);return'rgba('+ +_0x4dbfce+',\x20'+ +_0x35b7bd+',\x20'+ +_0x4af81e+',\x20'+_0x55cd02+')';}function renderTimeColumn(){const _0x3678ad=a2_0x3c37d4,_0x2cad22=document[_0x3678ad(0x286)](_0x3678ad(0x1c6)),_0x55411e=document[_0x3678ad(0x286)]('timeLineBadge');_0x2cad22[_0x3678ad(0x2e9)]='',_0x2cad22[_0x3678ad(0x1d6)](_0x55411e);for(let _0x4570a6=0x0;_0x4570a6<0x18;_0x4570a6++){const _0x358e14=document[_0x3678ad(0x23b)](_0x3678ad(0x289));_0x358e14['className']=_0x3678ad(0x18b);if(_0x4570a6>0x0)_0x358e14[_0x3678ad(0x2e9)]=_0x3678ad(0x1b6)+String(_0x4570a6)[_0x3678ad(0x21a)](0x2,'0')+_0x3678ad(0x21c);_0x2cad22[_0x3678ad(0x1d6)](_0x358e14);}}function renderDayRange(_0x4861b6,_0x4ea31d){const _0x5dbb99=a2_0x3c37d4,_0x53d0c9=document[_0x5dbb99(0x286)](_0x5dbb99(0x20b)),_0x2a7649=document[_0x5dbb99(0x286)]('gridColumns'),_0x573281=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x198f91=new Date();_0x198f91['setHours'](0x0,0x0,0x0,0x0);const _0x286107=getLocalDateStr(new Date());for(let _0x38c715=_0x4861b6;_0x38c715<=_0x4ea31d;_0x38c715++){const _0xe9fbec=new Date(_0x198f91);_0xe9fbec[_0x5dbb99(0x186)](_0xe9fbec[_0x5dbb99(0x2a4)]()+_0x38c715);const _0xd4039f=getLocalDateStr(_0xe9fbec);let _0x31ac16=_0xe9fbec['getDay']()-0x1;if(_0x31ac16===-0x1)_0x31ac16=0x6;const _0x1834f1=_0xd4039f===_0x286107,_0x7cb9d2=document[_0x5dbb99(0x23b)](_0x5dbb99(0x289));_0x7cb9d2['className']=_0x5dbb99(0x268)+(_0x1834f1?'today':''),_0x7cb9d2['id']='header-'+_0xd4039f,_0x7cb9d2[_0x5dbb99(0x254)](_0x5dbb99(0x2cd),_0xd4039f),_0x7cb9d2['innerHTML']='<div\x20class=\x22dch-day\x22>'+_0x573281[_0x31ac16]+_0x5dbb99(0x1c3)+_0xe9fbec[_0x5dbb99(0x2a4)]()+_0x5dbb99(0x309)+_0xd4039f+_0x5dbb99(0x261),_0x7cb9d2[_0x5dbb99(0x22f)]=()=>openDayOptions(_0xd4039f,_0x573281[_0x31ac16]+'\x20'+_0xe9fbec['getDate']()),_0x53d0c9['appendChild'](_0x7cb9d2);const _0x56b414=document[_0x5dbb99(0x23b)]('div');_0x56b414[_0x5dbb99(0x23c)]=_0x5dbb99(0x25f)+(_0x1834f1?_0x5dbb99(0x1d2):''),_0x56b414[_0x5dbb99(0x254)](_0x5dbb99(0x2cd),_0xd4039f),_0x56b414['setAttribute'](_0x5dbb99(0x24a),_0x31ac16),renderEventsForColumn(_0x56b414,_0xd4039f,_0x31ac16),attachLongPressHandler(_0x56b414,_0xe9fbec),_0x2a7649['appendChild'](_0x56b414),updateDayStats(_0xd4039f);}}function reRenderBlocks(){const _0x3240dc=a2_0x3c37d4;document[_0x3240dc(0x293)](_0x3240dc(0x223))[_0x3240dc(0x2ba)](_0x19ca1d=>{const _0x122383=_0x3240dc;_0x19ca1d[_0x122383(0x293)](_0x122383(0x265))['forEach'](_0x44df04=>_0x44df04['remove']());const _0x316db8=_0x19ca1d[_0x122383(0x19c)](_0x122383(0x2cd)),_0x54f82b=parseInt(_0x19ca1d[_0x122383(0x19c)]('data-day-idx')),_0x5797b9=Math[_0x122383(0x307)](_0x19ca1d[_0x122383(0x2f5)]);(availabilityPattern[_0x54f82b]||[])[_0x122383(0x2ba)](_0xe10742=>{const _0x16a3cf=_0x122383,_0xc06dd3=document[_0x16a3cf(0x23b)]('div');_0xc06dd3[_0x16a3cf(0x23c)]=_0x16a3cf(0x287);const _0x22146e=_0xe10742*GRID_H;_0xc06dd3[_0x16a3cf(0x242)]['top']=_0x22146e+'px',_0xc06dd3[_0x16a3cf(0x242)]['backgroundPosition']='-'+_0x5797b9+'px\x20-'+_0x22146e+'px',_0x19ca1d[_0x16a3cf(0x1d6)](_0xc06dd3);});if(specialRanges&&specialRanges['length']>0x0){const _0x231268=new Date(_0x316db8+_0x122383(0x2e5))['getTime'](),_0x2abe2c=new Date(_0x316db8+_0x122383(0x1e5))[_0x122383(0x1fc)]();specialRanges[_0x122383(0x2ba)](_0x54a260=>{const _0x5197a8=_0x122383,_0x2ab5a4=new Date(_0x54a260[_0x5197a8(0x2a9)])[_0x5197a8(0x1fc)](),_0x17b964=new Date(_0x54a260[_0x5197a8(0x23a)])['getTime'](),_0x4b82a5=Math[_0x5197a8(0x236)](_0x231268,_0x2ab5a4),_0x5171a6=Math[_0x5197a8(0x25d)](_0x2abe2c,_0x17b964);if(_0x4b82a5<_0x5171a6){if(_0x4b82a5<=_0x231268&&_0x5171a6>=_0x2abe2c-0xea60){if(!_0x19ca1d[_0x5197a8(0x215)](_0x5197a8(0x291))){const _0xa10608=document[_0x5197a8(0x23b)](_0x5197a8(0x289));_0xa10608['className']='day-off-overlay\x20stripe-bg',_0xa10608['style'][_0x5197a8(0x1ba)]='-'+_0x5797b9+'px\x200px',_0x19ca1d[_0x5197a8(0x1d6)](_0xa10608);}}else{const _0x5982aa=(_0x4b82a5-_0x231268)/0x36ee80*GRID_H,_0x148c00=(_0x5171a6-_0x4b82a5)/0x36ee80*GRID_H,_0x26c3dc=document['createElement'](_0x5197a8(0x289));_0x26c3dc['className']=_0x5197a8(0x1a2),_0x26c3dc[_0x5197a8(0x242)][_0x5197a8(0x284)]=_0x5982aa+'px',_0x26c3dc[_0x5197a8(0x242)]['height']=_0x148c00+'px',_0x26c3dc[_0x5197a8(0x242)]['backgroundPosition']='-'+_0x5797b9+_0x5197a8(0x213)+_0x5982aa+'px',_0x19ca1d['appendChild'](_0x26c3dc);}}});}if(dateExceptions[_0x316db8]===_0x122383(0x1de)){if(!_0x19ca1d[_0x122383(0x215)](_0x122383(0x291))){const _0x17711e=document[_0x122383(0x23b)](_0x122383(0x289));_0x17711e[_0x122383(0x23c)]='day-off-overlay\x20stripe-bg',_0x17711e[_0x122383(0x242)][_0x122383(0x1ba)]='-'+_0x5797b9+_0x122383(0x249),_0x19ca1d[_0x122383(0x1d6)](_0x17711e);}}renderEventsForColumn(_0x19ca1d,_0x316db8,_0x54f82b),updateDayStats(_0x316db8);});}function updateAllDayStats(){const _0x2b626d=a2_0x3c37d4;document['querySelectorAll'](_0x2b626d(0x1f0))[_0x2b626d(0x2ba)](_0x34b4eb=>{const _0x49627b=_0x2b626d;updateDayStats(_0x34b4eb[_0x49627b(0x19c)](_0x49627b(0x2cd)));});}function updateDayStats(_0x4f7ff){const _0x400920=a2_0x3c37d4,_0x380199=document['getElementById'](_0x400920(0x1ce)+_0x4f7ff);if(!_0x380199)return;const _0x5ee83c=new Date(_0x4f7ff);let _0x1f5ed4=_0x5ee83c[_0x400920(0x224)]()-0x1;if(_0x1f5ed4===-0x1)_0x1f5ed4=0x6;if(dateExceptions[_0x4f7ff]===_0x400920(0x1de)){_0x380199[_0x400920(0x242)]['display']=_0x400920(0x2b0);return;}const _0x4721dc=availabilityPattern[_0x1f5ed4]||[],_0x337c4d=0x18-_0x4721dc['length'],_0x9aadef=_0x337c4d*0x3c,_0x80b4ef=sessions[_0x400920(0x2e4)](_0x162631=>_0x162631[_0x400920(0x276)]===_0x4f7ff&&_0x162631[_0x400920(0x183)]!==_0x400920(0x2b3));if(_0x80b4ef[_0x400920(0x1c0)]===0x0){_0x380199['style']['display']=_0x400920(0x2b0);return;}let _0x4b0990=_0x80b4ef[_0x400920(0x1df)](_0x4b6cdd=>{const _0x3a9af4=_0x400920,[_0x3f4a4f,_0x191ef7]=_0x4b6cdd[_0x3a9af4(0x2a9)][_0x3a9af4(0x1dc)](':')[_0x3a9af4(0x1df)](Number),[_0x1bf910,_0x3cbb8e]=_0x4b6cdd[_0x3a9af4(0x23a)][_0x3a9af4(0x1dc)](':')[_0x3a9af4(0x1df)](Number);return[_0x3f4a4f*0x3c+_0x191ef7,_0x1bf910*0x3c+_0x3cbb8e];});_0x4b0990['sort']((_0x550d57,_0x40bd65)=>_0x550d57[0x0]-_0x40bd65[0x0]);let _0x50c8e3=[];if(_0x4b0990[_0x400920(0x1c0)]>0x0){let _0x3ce935=_0x4b0990[0x0];for(let _0x53eec2=0x1;_0x53eec2<_0x4b0990['length'];_0x53eec2++){_0x4b0990[_0x53eec2][0x0]<_0x3ce935[0x1]?_0x3ce935[0x1]=Math[_0x400920(0x236)](_0x3ce935[0x1],_0x4b0990[_0x53eec2][0x1]):(_0x50c8e3['push'](_0x3ce935),_0x3ce935=_0x4b0990[_0x53eec2]);}_0x50c8e3[_0x400920(0x255)](_0x3ce935);}let _0x57d22f=0x0;_0x50c8e3['forEach'](_0x119d64=>_0x57d22f+=_0x119d64[0x1]-_0x119d64[0x0]),_0x380199[_0x400920(0x242)]['display']=_0x400920(0x2e8);const _0x18a532=_0x380199['querySelector'](_0x400920(0x19d));if(_0x9aadef===0x0){_0x18a532[_0x400920(0x242)][_0x400920(0x232)]=_0x400920(0x206),_0x18a532[_0x400920(0x242)][_0x400920(0x250)]='var(--acc-red)';return;}const _0x2da34c=_0x57d22f/_0x9aadef*0x64;console['log']('['+_0x4f7ff+_0x400920(0x1fd)+_0x337c4d+_0x400920(0x202)+_0x57d22f+_0x400920(0x2a2)+_0x2da34c[_0x400920(0x2ec)](0x1)+'%'),_0x2da34c>0x64?(_0x18a532[_0x400920(0x242)][_0x400920(0x232)]=_0x400920(0x206),_0x18a532['style'][_0x400920(0x250)]='var(--acc-red)'):(_0x18a532[_0x400920(0x242)][_0x400920(0x232)]=_0x2da34c+'%',_0x18a532['style'][_0x400920(0x250)]=_0x400920(0x2ad));}function renderEventsForColumn(_0x2dbeba,_0x59c364,_0x3a8c06){const _0x2cfa00=a2_0x3c37d4,_0x4797e2=sessions[_0x2cfa00(0x2e4)](_0x34ab8d=>_0x34ab8d['dateStr']===_0x59c364),_0xf63c81=_0x4797e2[_0x2cfa00(0x1df)](_0x404871=>{const _0x1bdd93=_0x2cfa00,[_0x1e1f27,_0x195053]=_0x404871[_0x1bdd93(0x2a9)][_0x1bdd93(0x1dc)](':')['map'](Number),[_0xd2b3ea,_0x1db54d]=_0x404871[_0x1bdd93(0x23a)][_0x1bdd93(0x1dc)](':')[_0x1bdd93(0x1df)](Number);return{'data':_0x404871,'start':_0x1e1f27*0x3c+_0x195053,'end':_0xd2b3ea*0x3c+_0x1db54d,'colIndex':0x0};});_0xf63c81[_0x2cfa00(0x1bc)]((_0x153913,_0x4e5fff)=>{const _0x46f685=_0x2cfa00;if(_0x153913['start']!==_0x4e5fff[_0x46f685(0x2a9)])return _0x153913['start']-_0x4e5fff[_0x46f685(0x2a9)];return _0x4e5fff[_0x46f685(0x23a)]-_0x4e5fff['start']-(_0x153913[_0x46f685(0x23a)]-_0x153913[_0x46f685(0x2a9)]);});const _0x2582ba=[];_0xf63c81[_0x2cfa00(0x2ba)](_0x20d13e=>{const _0x11efeb=_0x2cfa00;let _0xdd6548=![];for(let _0x3b1b8a=0x0;_0x3b1b8a<_0x2582ba[_0x11efeb(0x1c0)];_0x3b1b8a++){const _0x28738c=_0x2582ba[_0x3b1b8a],_0xf936f7=_0x28738c[_0x28738c[_0x11efeb(0x1c0)]-0x1];if(_0x20d13e['start']>=_0xf936f7[_0x11efeb(0x23a)]){_0x28738c[_0x11efeb(0x255)](_0x20d13e),_0x20d13e[_0x11efeb(0x256)]=_0x3b1b8a,_0xdd6548=!![];break;}}!_0xdd6548&&(_0x2582ba[_0x11efeb(0x255)]([_0x20d13e]),_0x20d13e[_0x11efeb(0x256)]=_0x2582ba[_0x11efeb(0x1c0)]-0x1);}),_0xf63c81['forEach'](_0x4896f3=>{const _0x1fe8d7=_0x2cfa00;let _0x26440a=0x0;_0xf63c81['forEach'](_0x240753=>{const _0x3b4e49=a2_0x16d4;if(Math[_0x3b4e49(0x236)](_0x4896f3['start'],_0x240753[_0x3b4e49(0x2a9)])<Math['min'](_0x4896f3[_0x3b4e49(0x23a)],_0x240753['end'])){if(_0x240753[_0x3b4e49(0x256)]>_0x26440a)_0x26440a=_0x240753[_0x3b4e49(0x256)];}});const _0x51b5b8=_0x26440a+0x1,_0x375fc7=0x64/_0x51b5b8,_0x5e0663=_0x4896f3[_0x1fe8d7(0x256)]*_0x375fc7,_0x13d0f4=createEventEl(_0x4896f3[_0x1fe8d7(0x19f)]);_0x13d0f4[_0x1fe8d7(0x242)][_0x1fe8d7(0x232)]=_0x1fe8d7(0x2b4)+_0x375fc7+_0x1fe8d7(0x2c3),_0x13d0f4[_0x1fe8d7(0x242)][_0x1fe8d7(0x2e0)]=_0x1fe8d7(0x2b4)+_0x5e0663+_0x1fe8d7(0x2cc),_0x13d0f4['style'][_0x1fe8d7(0x2c1)]=0xa+_0x4896f3[_0x1fe8d7(0x256)],_0x375fc7<0x55&&_0x13d0f4[_0x1fe8d7(0x27e)][_0x1fe8d7(0x2bb)]('mini'),_0x2dbeba[_0x1fe8d7(0x1d6)](_0x13d0f4);});}function createEventEl(_0x2fcd83){const _0x557c1c=a2_0x3c37d4,[_0x392d45,_0xc1a707]=_0x2fcd83[_0x557c1c(0x2a9)]['split'](':')['map'](Number),[_0xc7e302,_0x102fc2]=_0x2fcd83[_0x557c1c(0x23a)][_0x557c1c(0x1dc)](':')[_0x557c1c(0x1df)](Number),_0x4b1d98=(_0x392d45*0x3c+_0xc1a707)/0x3c*GRID_H,_0x31b343=(_0xc7e302*0x3c+_0x102fc2-(_0x392d45*0x3c+_0xc1a707))/0x3c*GRID_H,_0x5aaf16=document['createElement'](_0x557c1c(0x289)),_0xf72c4f=_0x2fcd83['status']===_0x557c1c(0x227)?'\x20status-completed':'';_0x5aaf16[_0x557c1c(0x23c)]=_0x557c1c(0x2d0)+_0xf72c4f,_0x5aaf16[_0x557c1c(0x242)][_0x557c1c(0x284)]=_0x4b1d98+'px',_0x5aaf16['style'][_0x557c1c(0x2a1)]=Math[_0x557c1c(0x236)](_0x31b343,0x14)+'px';const _0x5926b6=clients[_0x557c1c(0x2d8)](_0x16e7fd=>_0x2fcd83[_0x557c1c(0x20c)]&&String(_0x16e7fd['id'])===String(_0x2fcd83[_0x557c1c(0x20c)])||_0x16e7fd[_0x557c1c(0x238)]===_0x2fcd83[_0x557c1c(0x1bd)]),_0x57ef0e=_0x5926b6?_0x5926b6[_0x557c1c(0x2db)]:_0x557c1c(0x1f2);_0x5aaf16[_0x557c1c(0x242)][_0x557c1c(0x29d)]=_0x57ef0e,_0x5aaf16[_0x557c1c(0x242)][_0x557c1c(0x1d4)]=hexToRgba(_0x57ef0e,0.85);let _0x4f7139=_0x557c1c(0x2f3)+_0x2fcd83[_0x557c1c(0x1bd)]+_0x557c1c(0x2c6)+_0x2fcd83[_0x557c1c(0x2a9)]+_0x557c1c(0x1db)+_0x2fcd83[_0x557c1c(0x23a)]+_0x557c1c(0x1ea);return _0x2fcd83[_0x557c1c(0x1b3)]&&(_0x4f7139+=_0x557c1c(0x18e)),_0x2fcd83[_0x557c1c(0x183)]===_0x557c1c(0x227)&&(_0x4f7139+='<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>'),_0x5aaf16[_0x557c1c(0x2e9)]=_0x4f7139,_0x5aaf16[_0x557c1c(0x22f)]=_0x56ba9a=>{const _0x28a317=_0x557c1c;_0x56ba9a[_0x28a317(0x2fa)](),openEdit(_0x2fcd83);},_0x5aaf16;}function attachLongPressHandler(_0xb98ac7,_0x4f78cc){const _0xf3108f=a2_0x3c37d4;let _0x3a96bf=0x0,_0xbac06c=null;const _0x1d7a31=_0x276f7f=>{const _0x56aa71=a2_0x16d4;if(_0x276f7f[_0x56aa71(0x1b1)][_0x56aa71(0x1fe)](_0x56aa71(0x300)))return;isScrolling=![],_0x3a96bf=_0x276f7f[_0x56aa71(0x258)]?_0x276f7f[_0x56aa71(0x258)][0x0][_0x56aa71(0x2bd)]:_0x276f7f['clientY'],_0xbac06c=setTimeout(()=>{const _0x28465f=_0x56aa71;if(!isScrolling){navigator[_0x28465f(0x30a)]?.(0x32);const _0x391960=_0xb98ac7['getBoundingClientRect'](),_0x5b5b3d=Math['floor']((_0x3a96bf-_0x391960['top'])/GRID_H);_0x4f78cc[_0x28465f(0x2f1)](_0x5b5b3d,0x0),openAddSession(_0x4f78cc);}},0x1f4);},_0x5b528d=()=>{isScrolling=!![],clearTimeout(_0xbac06c);},_0x45bb7e=()=>{clearTimeout(_0xbac06c);};_0xb98ac7['addEventListener'](_0xf3108f(0x2da),_0x1d7a31,{'passive':!![]}),_0xb98ac7[_0xf3108f(0x234)](_0xf3108f(0x27a),_0x5b528d,{'passive':!![]}),_0xb98ac7[_0xf3108f(0x234)](_0xf3108f(0x1d9),_0x45bb7e),_0xb98ac7[_0xf3108f(0x234)](_0xf3108f(0x18d),_0x1d7a31),_0xb98ac7[_0xf3108f(0x234)]('mousemove',_0x5b528d),_0xb98ac7['addEventListener'](_0xf3108f(0x28c),_0x45bb7e);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x41f2dc=a2_0x3c37d4,_0xbfd0cf=document['getElementById'](_0x41f2dc(0x257)),_0x523b9e=_0xbfd0cf[_0x41f2dc(0x27f)],_0x4f6ba7=_0xbfd0cf['scrollWidth'],_0x4eb38b=_0xbfd0cf[_0x41f2dc(0x200)];if(_0x4f6ba7-(_0x523b9e+_0x4eb38b)<0x12c){const _0x4490bf=endOffset;endOffset+=0xe,renderDayRange(_0x4490bf+0x1,endOffset),reRenderBlocks();}if(_0x523b9e<0x12c){const _0x4ec12b=startOffset;startOffset-=0xe,prependDays(startOffset,_0x4ec12b-0x1),_0xbfd0cf[_0x41f2dc(0x27f)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x5e171a,_0x6a9dff){const _0x312566=a2_0x3c37d4,_0x55e829=document[_0x312566(0x286)](_0x312566(0x20b)),_0x2323f8=document[_0x312566(0x286)]('gridColumns'),_0x4eae22=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x2a08d6=new Date();_0x2a08d6[_0x312566(0x2f1)](0x0,0x0,0x0,0x0);const _0x3931df=getLocalDateStr(new Date()),_0xaeadac=document['createDocumentFragment'](),_0x66f8ec=document['createDocumentFragment']();for(let _0x546e8d=_0x5e171a;_0x546e8d<=_0x6a9dff;_0x546e8d++){const _0xf09574=new Date(_0x2a08d6);_0xf09574[_0x312566(0x186)](_0xf09574[_0x312566(0x2a4)]()+_0x546e8d);const _0x277863=getLocalDateStr(_0xf09574);let _0x17af30=_0xf09574[_0x312566(0x224)]()-0x1;if(_0x17af30===-0x1)_0x17af30=0x6;const _0x121a04=_0x277863===_0x3931df,_0x8b6abd=document['createElement'](_0x312566(0x289));_0x8b6abd[_0x312566(0x23c)]='day-col-header\x20'+(_0x121a04?_0x312566(0x1d2):''),_0x8b6abd['id']=_0x312566(0x2a7)+_0x277863,_0x8b6abd[_0x312566(0x254)](_0x312566(0x2cd),_0x277863),_0x8b6abd[_0x312566(0x2e9)]='<div\x20class=\x22dch-day\x22>'+_0x4eae22[_0x17af30]+_0x312566(0x1c3)+_0xf09574[_0x312566(0x2a4)]()+_0x312566(0x309)+_0x277863+_0x312566(0x261),_0x8b6abd['onclick']=()=>openDayOptions(_0x277863,_0x4eae22[_0x17af30]+'\x20'+_0xf09574[_0x312566(0x2a4)]()),_0xaeadac[_0x312566(0x1d6)](_0x8b6abd);const _0x5782a6=document[_0x312566(0x23b)](_0x312566(0x289));_0x5782a6[_0x312566(0x23c)]=_0x312566(0x25f)+(_0x121a04?_0x312566(0x1d2):''),_0x5782a6[_0x312566(0x254)](_0x312566(0x2cd),_0x277863),_0x5782a6['setAttribute'](_0x312566(0x24a),_0x17af30),renderEventsForColumn(_0x5782a6,_0x277863,_0x17af30),attachLongPressHandler(_0x5782a6,_0xf09574),_0x66f8ec[_0x312566(0x1d6)](_0x5782a6),updateDayStats(_0x277863);}_0x55e829[_0x312566(0x2e3)](_0xaeadac,_0x55e829['firstChild']),_0x2323f8['insertBefore'](_0x66f8ec,_0x2323f8['querySelector'](_0x312566(0x2fb)));}function validateAppointment(_0x31513e,_0xe83f7d,_0x15745c,_0x2154f1,_0x570a3d){const _0x18b536=a2_0x3c37d4,[_0x46333e,_0x395e8c]=_0xe83f7d[_0x18b536(0x1dc)](':')['map'](Number),[_0x194c9a,_0x2b13c6]=_0x15745c[_0x18b536(0x1dc)](':')['map'](Number),_0x1671f1=_0x46333e*0x3c+_0x395e8c,_0x20478a=_0x194c9a*0x3c+_0x2b13c6,_0x23b95a=String(_0x570a3d);let _0x76366f=![],_0x1f7632='';for(let _0x58e1e4 of sessions){if(_0x58e1e4[_0x18b536(0x276)]!==_0x31513e)continue;if(_0x58e1e4[_0x18b536(0x183)]==='cancelled')continue;if(_0x2154f1&&String(_0x58e1e4['id'])===String(_0x2154f1))continue;const [_0xd9cffe,_0x36bdd0]=_0x58e1e4[_0x18b536(0x2a9)][_0x18b536(0x1dc)](':')[_0x18b536(0x1df)](Number),[_0x47fc29,_0xb57f62]=_0x58e1e4['end'][_0x18b536(0x1dc)](':')[_0x18b536(0x1df)](Number),_0x18da1b=_0xd9cffe*0x3c+_0x36bdd0,_0x3a0ff8=_0x47fc29*0x3c+_0xb57f62;if(Math[_0x18b536(0x236)](_0x1671f1,_0x18da1b)<Math[_0x18b536(0x25d)](_0x20478a,_0x3a0ff8)){if(_0x58e1e4[_0x18b536(0x20c)]&&String(_0x58e1e4['clientId'])===_0x23b95a)return{'valid':![],'msg':_0x18b536(0x253)+_0x58e1e4[_0x18b536(0x1bd)]+_0x18b536(0x274)};_0x76366f=!![],_0x1f7632=_0x58e1e4[_0x18b536(0x1bd)];}}if(_0x76366f)return{'valid':!![],'warning':'–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20'+_0x1f7632};return{'valid':!![]};}function updateDateDisplay(){const _0x57afba=a2_0x3c37d4,_0x28bf6c=document[_0x57afba(0x286)]('inpDate')[_0x57afba(0x301)],_0x4a6daa=document[_0x57afba(0x286)]('sheetDateSubtitle');if(!_0x28bf6c){_0x4a6daa[_0x57afba(0x278)]='';return;}const [_0x321ebb,_0x3c128c,_0x2b068f]=_0x28bf6c[_0x57afba(0x1dc)]('-')[_0x57afba(0x1df)](Number),_0xe6a202=new Date(_0x321ebb,_0x3c128c-0x1,_0x2b068f),_0x3a0a6b={'weekday':'long','day':'numeric','month':'long','year':'numeric'};let _0x2534c3=_0xe6a202[_0x57afba(0x25b)]('ru-RU',_0x3a0a6b);_0x2534c3=_0x2534c3[_0x57afba(0x25c)](0x0)[_0x57afba(0x20d)]()+_0x2534c3[_0x57afba(0x1c7)](0x1),_0x4a6daa[_0x57afba(0x278)]=_0x2534c3;}function autoSetEndTime(){const _0xfb960e=a2_0x3c37d4,_0x298428=document[_0xfb960e(0x286)]('inpStart')[_0xfb960e(0x301)];if(!_0x298428)return;const [_0x5b99b0,_0x5c5b97]=_0x298428[_0xfb960e(0x1dc)](':')['map'](Number);let _0x306df7=_0x5b99b0+0x1;if(_0x306df7>0x17)_0x306df7=0x0;const _0x58287f=String(_0x306df7)['padStart'](0x2,'0')+':'+String(_0x5c5b97)['padStart'](0x2,'0');document[_0xfb960e(0x286)](_0xfb960e(0x1f9))[_0xfb960e(0x301)]=_0x58287f;}function populateClientSelect(){const _0x3dab6e=a2_0x3c37d4,_0x9831bf=document[_0x3dab6e(0x286)](_0x3dab6e(0x29a));_0x9831bf[_0x3dab6e(0x2e9)]='';if(clients[_0x3dab6e(0x1c0)]===0x0){const _0x58d76a=document[_0x3dab6e(0x23b)](_0x3dab6e(0x1c5));_0x58d76a['text']='–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤',_0x9831bf[_0x3dab6e(0x1d6)](_0x58d76a);return;}clients[_0x3dab6e(0x2ba)](_0x573136=>{const _0x2f1e5c=_0x3dab6e,_0x2f78a6=document[_0x2f1e5c(0x23b)](_0x2f1e5c(0x1c5));_0x2f78a6[_0x2f1e5c(0x301)]=_0x573136['name'],_0x2f78a6[_0x2f1e5c(0x278)]=_0x573136[_0x2f1e5c(0x238)],_0x9831bf[_0x2f1e5c(0x1d6)](_0x2f78a6);});}function openActionSheet(_0x559bf3){const _0xf30bd8=a2_0x3c37d4,_0x2a485f=document[_0xf30bd8(0x286)](_0xf30bd8(0x1a7)),_0x175ce4=document[_0xf30bd8(0x286)](_0xf30bd8(0x24b)),_0x1111ac=document[_0xf30bd8(0x286)](_0xf30bd8(0x2a3)),_0x523c99=document['getElementById'](_0xf30bd8(0x283)),_0x59e02a=document[_0xf30bd8(0x286)](_0xf30bd8(0x2b7));_0x175ce4['classList']['add'](_0xf30bd8(0x21b)),_0x2a485f[_0xf30bd8(0x27e)][_0xf30bd8(0x2bb)](_0xf30bd8(0x18f));if(_0x559bf3===_0xf30bd8(0x26a))_0x1111ac['textContent']=_0xf30bd8(0x2f0),_0x523c99[_0xf30bd8(0x278)]='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x523c99[_0xf30bd8(0x22f)]=()=>{const _0x534ab6=_0xf30bd8;closeActionSheet(),updateSeriesBatch(_0x534ab6(0x2ab),tempSessionData);},_0x59e02a['textContent']='–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ',_0x59e02a[_0xf30bd8(0x22f)]=()=>{const _0xbb42f7=_0xf30bd8;closeActionSheet(),updateSeriesBatch(_0xbb42f7(0x25a),tempSessionData);};else _0x559bf3==='delete'&&(_0x1111ac['textContent']='–£–¥–∞–ª–µ–Ω–∏–µ',_0x523c99['textContent']=_0xf30bd8(0x228),_0x523c99[_0xf30bd8(0x23c)]=_0xf30bd8(0x198),_0x523c99[_0xf30bd8(0x22f)]=()=>{const _0x1a41af=_0xf30bd8;closeActionSheet(),commitDelete(_0x1a41af(0x2ab),sessions[_0x1a41af(0x2d8)](_0xc8560b=>_0xc8560b['id']===editingId));},_0x59e02a[_0xf30bd8(0x278)]=_0xf30bd8(0x299),_0x59e02a['className']=_0xf30bd8(0x1e8),_0x59e02a[_0xf30bd8(0x22f)]=()=>{const _0xed3cce=_0xf30bd8;closeActionSheet(),commitDelete(_0xed3cce(0x25a),sessions['find'](_0x3da8ed=>_0x3da8ed['id']===editingId));});}function closeActionSheet(){const _0x501d86=a2_0x3c37d4;document[_0x501d86(0x286)](_0x501d86(0x1a7))[_0x501d86(0x27e)][_0x501d86(0x195)]('open'),document['getElementById'](_0x501d86(0x24b))[_0x501d86(0x27e)][_0x501d86(0x195)](_0x501d86(0x21b));}function openSettings(){const _0x3b9f4f=a2_0x3c37d4;openSheet(_0x3b9f4f(0x192));}function saveCoachSettings(){const _0x36b901=a2_0x3c37d4,_0x54126e=document[_0x36b901(0x286)](_0x36b901(0x269))[_0x36b901(0x301)];localStorage[_0x36b901(0x1f6)](_0x36b901(0x2aa),_0x54126e),console[_0x36b901(0x2dc)](_0x36b901(0x246),_0x54126e),DataManager[_0x36b901(0x290)](_0x36b901(0x2de),{'settings':{'cancel_window':_0x54126e}})[_0x36b901(0x196)](_0x194531=>{const _0xc021f3=_0x36b901;console[_0xc021f3(0x2d9)]('Save\x20settings\x20error:',_0x194531),showToast(_0xc021f3(0x220),![]);});}function loadCoachSettings(){const _0x20a0a0=a2_0x3c37d4,_0x3f682a=localStorage['getItem']('uc_settings_cancel_window');_0x3f682a&&(document[_0x20a0a0(0x286)](_0x20a0a0(0x269))['value']=_0x3f682a);}function openRangesSheet(){const _0xc15416=a2_0x3c37d4;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0xc15416(0x304));}function a2_0x5baa(){const _0x298f22=['month','pattern','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','%\x20+\x202px)','data-date','text/plain;charset=UTF-8','send','event-card','initDataUnsafe','mergeServerData','numeric','8LenTuM','ru-RU','toString','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','find','error','touchstart','color','log','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','save_settings','show','left','anPercent','inpStart','insertBefore','filter','T00:00:00','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','flex','innerHTML','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','router.html','toFixed','var(--acc-red)','setBackgroundColor','rgba(255,\x20159,\x2010,\x200.3)','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','setHours','random','<div\x20class=\x22ev-title\x22>','rangeEndDate','offsetLeft','update','headerMonth','Telegram','btn-status-toggle\x20undo-mode','stopPropagation','.day-column','stringify','Local\x20Save\x20Error','2930iTskIG','sessionSheet','.event-card','value','long','v9.0-BATCH-CALENDAR','rangesSheet','borderRadius','uc_settings_v9','round','timeLineBadge','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','vibrate','peGrid','status','17169922AJgGku','delete','setDate','splice','settings','[API\x20','analyticsList','time-label','user','mousedown','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','open',']\x20Failed:','pe-col-header','settingsSheet','planned','floor','remove','catch','6QMaeny','as-button\x20danger','clients','valid','json','getAttribute','.dch-stats-fill','create','data',':\x20Client\x20already\x20booked','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','blocked-range-part\x20stripe-bg','Error\x20setting\x20color:','checked','btn-primary\x20btn-danger','parse','actionSheet','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','inpNote','DOMContentLoaded','rangesList','rgba(100,100,100,0.5)','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','indexOf','(((.+)+)+)+$','overlay','target','cancel_window','seriesId','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','getFullYear','<span>','from','done','rangeEndTime','backgroundPosition','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','sort','client','toastMessage','then','length','disableVerticalSwipes','8ZsIdud','</div><div\x20class=\x22dch-num\x22>','ready','option','timeColumn','slice','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','<b>‚úÖ\x20','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','borderColor','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','WebApp','stat-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','calendar','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','today','week','backgroundColor','.period-switch\x20.p-btn','appendChild','[Notify]\x20Attempting\x20to\x20send:','sid','touchend','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','\x20-\x20','split','doBusyHours','off','map','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','10px','var(--acc-green)',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','T23:59:59','scroll','toast-notification\x20','as-button\x20danger\x20bold','undefined','</div>','pe-cell\x20','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','search','btn-status-toggle','.day-col-header','ranges','#0a84ff','[Series]\x20Skipped\x20','patternEditor','custom','setItem','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','inpEnd','pe-time-label','rangeStartDate','getTime',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','closest','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','clientWidth','BackButton','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','pe-corner','\x20–∏–∑\x20','[Sync]\x20Loading\x20','100%','dayOptionsTitle','note','inpSeriesCount','getItem','daysHeaderTrack','clientId','toUpperCase','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','recurringOptionContainer','startsWith','\x20days','px\x20-','rgba(255,255,255,0.05)','querySelector','display','analyticsSheet','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','entries','padStart','active',':00</span>','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','apply','uc_sessions_v9','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','getText','block','#gridColumns\x20.day-column','getDay','\x20‚Äî\x20','setMonth','completed','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','anTotalStats','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','patternInfoBox','doEventsList','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','onclick','anStart','loadLocal','width','inpRecurring','addEventListener','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','max','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','name','expand','end','createElement','className','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','#050505','complete','–ò–Ω—Ñ–æ','style','btnStatusToggle','seriesCountContainer','.sheet','[Settings]\x20Cancel\x20window\x20set\x20to:','btnDelete','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','px\x200px','data-day-idx','actionSheetOverlay','361hyklWK','[Notify]\x20Network\x20Failed','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','POST','background','inpDate','1281510KVeIHO','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','setAttribute','push','colIndex','matrixViewport','touches','onClick','series','toLocaleDateString','charAt','min','saveLocally','day-column\x20','2144871ETsEXD','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','...','var(--acc-orange)','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','[Notify]\x20Detected\x20Client\x20ID:','225015PeQZQA','day-col-header\x20','settingCancelWindow','save','guest','anEnd','now','success','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','send_notification','warning','constructor','toastTitle',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','[Notify]\x20Error:\x20sessionData\x20is\x20null','dateStr','syncLoad','textContent','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','touchmove','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','rgba(48,\x20209,\x2088,\x200.15)','uc_clients_v9','classList','scrollLeft','syncBatch','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','cancel','asBtnOne','top','formatDate','getElementById','blocked-slot\x20stripe-bg','btn-primary\x20btn-secondary','div','null','2986151zMgKZe','mouseup','exceptions','Server\x20Error','getHours','fetchFromServer','.day-off-overlay','offClick','querySelectorAll','rangeStartTime','.pib-text','all','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','getMinutes','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','inpClient',':00','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','borderLeftColor','range-item','[Notify]\x20Server\x20Response:','Critical\x20TMA\x20Error:','height','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','asTitle','getDate','includes','Batch\x20Sync\x20OK','header-','msg','start','uc_settings_cancel_window','single','deleted','var(--acc-current)','initData','2653090ysYJiM','none','getMonth','sheetTitle','cancelled','calc(','dayOptionsSheet','warn','asBtnSeries','23:59','init_load','forEach','add','batch_sync','clientY','client-stat-card','offsetWidth','total','zIndex','substr','%\x20-\x204px)','keys','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','</div><div\x20class=\x22ev-time\x22>','findIndex','anCustomDates'];a2_0x5baa=function(){return _0x298f22;};return a2_0x5baa();}function addRange(){const _0x235cab=a2_0x3c37d4,_0x34f0b4=document['getElementById'](_0x235cab(0x1fb))[_0x235cab(0x301)],_0x194e44=document[_0x235cab(0x286)]('rangeStartTime')[_0x235cab(0x301)],_0x3c3818=document[_0x235cab(0x286)]('rangeEndDate')[_0x235cab(0x301)],_0x606627=document[_0x235cab(0x286)](_0x235cab(0x1b9))[_0x235cab(0x301)];if(!_0x34f0b4||!_0x194e44||!_0x3c3818||!_0x606627)return alert(_0x235cab(0x1ed));const _0x845757=_0x34f0b4+'T'+_0x194e44,_0x94fc2e=_0x3c3818+'T'+_0x606627;if(_0x845757>=_0x94fc2e)return alert(_0x235cab(0x29c));specialRanges[_0x235cab(0x255)]({'start':_0x845757,'end':_0x94fc2e}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager['fetchFromServer'](_0x235cab(0x2de),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x401add){const _0x5861d1=a2_0x3c37d4;specialRanges[_0x5861d1(0x187)](_0x401add,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x5861d1(0x25e)](),DataManager[_0x5861d1(0x290)](_0x5861d1(0x2de),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x4b1762=a2_0x3c37d4;document['getElementById'](_0x4b1762(0x1fb))[_0x4b1762(0x301)]='',document[_0x4b1762(0x286)](_0x4b1762(0x294))['value']='00:00',document[_0x4b1762(0x286)](_0x4b1762(0x2f4))['value']='',document[_0x4b1762(0x286)](_0x4b1762(0x1b9))[_0x4b1762(0x301)]=_0x4b1762(0x2b8);}function renderRangesList(){const _0x3b1d10=a2_0x3c37d4,_0x4b1340=document[_0x3b1d10(0x286)](_0x3b1d10(0x1ab));_0x4b1340[_0x3b1d10(0x2e9)]='';if(!specialRanges[_0x3b1d10(0x1c0)]){_0x4b1340[_0x3b1d10(0x2e9)]=_0x3b1d10(0x22a);return;}specialRanges[_0x3b1d10(0x2ba)]((_0x5699d2,_0x566793)=>{const _0x5682b0=_0x3b1d10,_0x46b2c1=document[_0x5682b0(0x23b)](_0x5682b0(0x289));_0x46b2c1[_0x5682b0(0x23c)]=_0x5682b0(0x29e);const _0x32ed9b=_0x3f87ef=>{const _0x3b30e1=_0x5682b0,_0x3ac9b1=new Date(_0x3f87ef);return _0x3ac9b1[_0x3b30e1(0x2a4)]()+'.'+String(_0x3ac9b1['getMonth']()+0x1)[_0x3b30e1(0x21a)](0x2,'0')+'\x20'+String(_0x3ac9b1[_0x3b30e1(0x28f)]())[_0x3b30e1(0x21a)](0x2,'0')+':'+String(_0x3ac9b1['getMinutes']())['padStart'](0x2,'0');};_0x46b2c1[_0x5682b0(0x2e9)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>'+_0x32ed9b(_0x5699d2['start'])+_0x5682b0(0x225)+_0x32ed9b(_0x5699d2[_0x5682b0(0x23a)])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange('+_0x566793+')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>',_0x4b1340[_0x5682b0(0x1d6)](_0x46b2c1);});}function scrollToToday(){const _0x43fa01=a2_0x3c37d4,_0x2be3ec=getLocalDateStr(new Date()),_0x1de57f=document[_0x43fa01(0x286)](_0x43fa01(0x2a7)+_0x2be3ec),_0x1753dc=document[_0x43fa01(0x286)](_0x43fa01(0x257));if(_0x1de57f&&_0x1753dc){const _0x589c0b=_0x1753dc['clientWidth'],_0x5d1112=_0x1de57f[_0x43fa01(0x2f5)],_0x45ba30=_0x1de57f[_0x43fa01(0x2bf)];_0x1753dc[_0x43fa01(0x27f)]=_0x5d1112-_0x589c0b/0x2+_0x45ba30/0x2,_0x1753dc['scrollTop']=0x9*GRID_H;}}function onScroll(){const _0x16ee4c=a2_0x3c37d4,_0x4a6a69=document['getElementById']('matrixViewport'),_0x252fb8=document[_0x16ee4c(0x293)](_0x16ee4c(0x1f0));for(let _0x58de21 of _0x252fb8)if(_0x58de21[_0x16ee4c(0x2f5)]>=_0x4a6a69[_0x16ee4c(0x27f)]){const _0x35f4b6=new Date(_0x58de21[_0x16ee4c(0x19c)](_0x16ee4c(0x2cd)));document[_0x16ee4c(0x286)](_0x16ee4c(0x2f7))['textContent']=_0x35f4b6['toLocaleString']('ru',{'month':_0x16ee4c(0x302)})['toUpperCase']()+'\x20'+_0x35f4b6[_0x16ee4c(0x1b5)]();break;}}function showToast(_0x2273bb,_0x4085e4=![]){const _0x40f800=a2_0x3c37d4,_0x2718f0=document['getElementById']('toast');_0x2718f0[_0x40f800(0x23c)]=_0x40f800(0x1e7)+(_0x4085e4?_0x40f800(0x26e):''),document[_0x40f800(0x286)](_0x40f800(0x273))['textContent']=_0x4085e4?'–£—Å–ø–µ—à–Ω–æ':_0x40f800(0x241),document[_0x40f800(0x286)](_0x40f800(0x1be))[_0x40f800(0x278)]=_0x2273bb,_0x2718f0['classList']['add']('show'),setTimeout(()=>{const _0x9f2e6e=_0x40f800;_0x2718f0[_0x9f2e6e(0x27e)]['remove'](_0x9f2e6e(0x2df));},0xbb8);}function openDayOptions(_0x16f57e,_0x411654){const _0x158119=a2_0x3c37d4;selectedDayForOptions=_0x16f57e,document[_0x158119(0x286)](_0x158119(0x207))[_0x158119(0x278)]=_0x411654,openSheet(_0x158119(0x2b5));}function toggleDayOff(){const _0x3bd876=a2_0x3c37d4;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x3bd876(0x1de),reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager[_0x3bd876(0x290)](_0x3bd876(0x2de),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x310dc1=a2_0x3c37d4;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x310dc1(0x25e)](),DataManager[_0x310dc1(0x290)](_0x310dc1(0x2de),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x512497){const _0x392348=a2_0x3c37d4;document[_0x392348(0x286)]('overlay')[_0x392348(0x27e)][_0x392348(0x2bb)](_0x392348(0x21b)),document[_0x392348(0x286)](_0x512497)[_0x392348(0x27e)][_0x392348(0x2bb)](_0x392348(0x18f));}function closeAllSheets(){const _0x6c4378=a2_0x3c37d4;document['getElementById'](_0x6c4378(0x1b0))[_0x6c4378(0x27e)][_0x6c4378(0x195)](_0x6c4378(0x21b)),document[_0x6c4378(0x293)](_0x6c4378(0x245))[_0x6c4378(0x2ba)](_0x56f226=>_0x56f226['classList']['remove']('open'));}function openPatternEditor(){const _0x2c98cd=a2_0x3c37d4;closeAllSheets(),document['getElementById'](_0x2c98cd(0x1f4))[_0x2c98cd(0x27e)][_0x2c98cd(0x2bb)](_0x2c98cd(0x18f)),renderPatternEditor();}function closePatternEditor(){const _0xf0f333=a2_0x3c37d4;document['getElementById']('patternEditor')[_0xf0f333(0x27e)][_0xf0f333(0x195)](_0xf0f333(0x18f));}function savePattern(){const _0x36214e=a2_0x3c37d4;document[_0x36214e(0x286)](_0x36214e(0x1f4))[_0x36214e(0x27e)][_0x36214e(0x195)](_0x36214e(0x18f)),reRenderBlocks(),DataManager[_0x36214e(0x25e)](),DataManager[_0x36214e(0x290)]('save_settings',{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x526d2=a2_0x3c37d4,_0x136711=document['getElementById'](_0x526d2(0x30b));_0x136711['innerHTML']='';const _0x2a6d1d=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x2d82aa=document[_0x526d2(0x23b)](_0x526d2(0x289));_0x2d82aa[_0x526d2(0x23c)]=_0x526d2(0x203),_0x136711[_0x526d2(0x1d6)](_0x2d82aa),_0x2a6d1d[_0x526d2(0x2ba)]((_0x45200f,_0x44f317)=>{const _0x21b1d6=_0x526d2,_0x43e06d=document[_0x21b1d6(0x23b)](_0x21b1d6(0x289));_0x43e06d[_0x21b1d6(0x23c)]=_0x21b1d6(0x191),_0x43e06d[_0x21b1d6(0x2e9)]=_0x45200f+_0x21b1d6(0x1ec),_0x43e06d['onclick']=()=>toggleColPattern(_0x44f317),_0x136711['appendChild'](_0x43e06d);});for(let _0xc76070=0x0;_0xc76070<0x18;_0xc76070++){const _0x121b1b=document[_0x526d2(0x23b)](_0x526d2(0x289));_0x121b1b[_0x526d2(0x23c)]=_0x526d2(0x1fa),_0x121b1b[_0x526d2(0x2e9)]=_0x526d2(0x237)+String(_0xc76070)['padStart'](0x2,'0')+_0x526d2(0x29b),_0x121b1b['onclick']=()=>toggleRowPattern(_0xc76070),_0x136711[_0x526d2(0x1d6)](_0x121b1b);for(let _0x397fc1=0x0;_0x397fc1<0x7;_0x397fc1++){const _0x13e66a=document[_0x526d2(0x23b)](_0x526d2(0x289)),_0x156f05=(availabilityPattern[_0x397fc1]||[])[_0x526d2(0x2a5)](_0xc76070),_0x1948b9=!_0x156f05;_0x13e66a['className']=_0x526d2(0x1eb)+(_0x1948b9?'active':''),_0x13e66a[_0x526d2(0x22f)]=()=>toggleSinglePattern(_0x397fc1,_0xc76070),_0x136711[_0x526d2(0x1d6)](_0x13e66a);}}}function toggleSinglePattern(_0x4f583,_0x4c6924){const _0x2590cf=a2_0x3c37d4;if(!availabilityPattern[_0x4f583])availabilityPattern[_0x4f583]=[];const _0x5f57dc=availabilityPattern[_0x4f583],_0x210aea=_0x5f57dc[_0x2590cf(0x1ae)](_0x4c6924);_0x210aea===-0x1?_0x5f57dc[_0x2590cf(0x255)](_0x4c6924):_0x5f57dc[_0x2590cf(0x187)](_0x210aea,0x1),renderPatternEditor();}function toggleColPattern(_0x5abeed){const _0x58ff9f=a2_0x3c37d4;if(!availabilityPattern[_0x5abeed])availabilityPattern[_0x5abeed]=[];const _0x1d6d76=availabilityPattern[_0x5abeed];_0x1d6d76[_0x58ff9f(0x1c0)]===0x0?availabilityPattern[_0x5abeed]=Array[_0x58ff9f(0x1b7)]({'length':0x18},(_0x486bcd,_0x471cb1)=>_0x471cb1):availabilityPattern[_0x5abeed]=[],renderPatternEditor();}function toggleRowPattern(_0x931ed9){const _0x2618fa=a2_0x3c37d4;let _0x3d696f=!![];for(let _0x566252=0x0;_0x566252<0x7;_0x566252++){if((availabilityPattern[_0x566252]||[])[_0x2618fa(0x2a5)](_0x931ed9)){_0x3d696f=![];break;}}for(let _0x1f3938=0x0;_0x1f3938<0x7;_0x1f3938++){if(!availabilityPattern[_0x1f3938])availabilityPattern[_0x1f3938]=[];const _0x2f0808=availabilityPattern[_0x1f3938]['indexOf'](_0x931ed9);if(_0x3d696f){if(_0x2f0808===-0x1)availabilityPattern[_0x1f3938][_0x2618fa(0x255)](_0x931ed9);}else{if(_0x2f0808!==-0x1)availabilityPattern[_0x1f3938]['splice'](_0x2f0808,0x1);}}renderPatternEditor();}function renderPCol(_0x1a2462,_0x42d184){const _0x1f9fc6=a2_0x3c37d4;_0x1a2462[_0x1f9fc6(0x2e9)]='';const _0x13782d=Math[_0x1f9fc6(0x307)](_0x1a2462[_0x1f9fc6(0x2f5)]);(availabilityPattern[_0x42d184]||[])[_0x1f9fc6(0x2ba)](_0x203086=>{const _0x4d1e05=_0x1f9fc6,_0x1fdd26=document[_0x4d1e05(0x23b)](_0x4d1e05(0x289));_0x1fdd26[_0x4d1e05(0x23c)]=_0x4d1e05(0x287);const _0x15a39b=_0x203086*GRID_H;_0x1fdd26[_0x4d1e05(0x242)]['top']=_0x15a39b+'px',_0x1fdd26[_0x4d1e05(0x242)][_0x4d1e05(0x1ba)]='-'+_0x13782d+_0x4d1e05(0x213)+_0x15a39b+'px',_0x1fdd26['onclick']=_0x5de634=>{const _0x1e7f45=_0x4d1e05;_0x5de634[_0x1e7f45(0x2fa)](),toggleSinglePattern(_0x42d184,_0x203086);},_0x1a2462[_0x4d1e05(0x1d6)](_0x1fdd26);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x24877d=a2_0x3c37d4,_0x299654=new Date(),_0x581c26=document[_0x24877d(0x286)]('globalTimeLine'),_0xe6557a=document[_0x24877d(0x286)](_0x24877d(0x308)),_0x334e8e=(_0x299654[_0x24877d(0x28f)]()*0x3c+_0x299654[_0x24877d(0x298)]())/0x3c*GRID_H;_0x581c26['style'][_0x24877d(0x284)]=_0x334e8e+'px',_0x581c26[_0x24877d(0x242)][_0x24877d(0x216)]='block',_0xe6557a['textContent']=String(_0x299654['getHours']())['padStart'](0x2,'0')+':'+String(_0x299654[_0x24877d(0x298)]())[_0x24877d(0x21a)](0x2,'0'),_0xe6557a[_0x24877d(0x242)]['display']=_0x24877d(0x222),_0xe6557a[_0x24877d(0x242)][_0x24877d(0x284)]=_0x334e8e+'px';}document['addEventListener'](a2_0x3c37d4(0x1aa),init);function openDayOptions(_0x2fab2e){const _0x5bcba3=a2_0x3c37d4;selectedDayForOptions=_0x2fab2e;const _0x991457=new Date(_0x2fab2e),_0x4b9565={'weekday':_0x5bcba3(0x302),'day':'numeric','month':_0x5bcba3(0x302),'year':_0x5bcba3(0x2d3)},_0x5c12ed=_0x991457[_0x5bcba3(0x25b)](_0x5bcba3(0x2d5),_0x4b9565);document[_0x5bcba3(0x286)]('doDateHeader')[_0x5bcba3(0x278)]=_0x5c12ed[_0x5bcba3(0x25c)](0x0)[_0x5bcba3(0x20d)]()+_0x5c12ed['slice'](0x1);let _0x5f365d=_0x991457[_0x5bcba3(0x224)]()-0x1;if(_0x5f365d===-0x1)_0x5f365d=0x6;const _0x3c51f6=availabilityPattern[_0x5f365d]||[],_0x336563=0x18-_0x3c51f6[_0x5bcba3(0x1c0)],_0x512e41=_0x336563*0x3c,_0x1dbba3=sessions[_0x5bcba3(0x2e4)](_0x21509e=>_0x21509e['dateStr']===_0x2fab2e&&_0x21509e[_0x5bcba3(0x183)]!=='cancelled');let _0x33ae08=_0x1dbba3[_0x5bcba3(0x1df)](_0x17fa3b=>{const _0x1a6bc4=_0x5bcba3,[_0x50bee8,_0x175d6e]=_0x17fa3b[_0x1a6bc4(0x2a9)][_0x1a6bc4(0x1dc)](':')[_0x1a6bc4(0x1df)](Number),[_0x90845f,_0x3a024a]=_0x17fa3b[_0x1a6bc4(0x23a)][_0x1a6bc4(0x1dc)](':')[_0x1a6bc4(0x1df)](Number);return[_0x50bee8*0x3c+_0x175d6e,_0x90845f*0x3c+_0x3a024a];});_0x33ae08['sort']((_0x44d2a9,_0x1b724f)=>_0x44d2a9[0x0]-_0x1b724f[0x0]);let _0x4623cc=[];if(_0x33ae08[_0x5bcba3(0x1c0)]>0x0){let _0x1e64cf=_0x33ae08[0x0];for(let _0x36221c=0x1;_0x36221c<_0x33ae08['length'];_0x36221c++){_0x33ae08[_0x36221c][0x0]<_0x1e64cf[0x1]?_0x1e64cf[0x1]=Math[_0x5bcba3(0x236)](_0x1e64cf[0x1],_0x33ae08[_0x36221c][0x1]):(_0x4623cc['push'](_0x1e64cf),_0x1e64cf=_0x33ae08[_0x36221c]);}_0x4623cc['push'](_0x1e64cf);}let _0x102297=0x0;_0x4623cc[_0x5bcba3(0x2ba)](_0x7e60c=>_0x102297+=_0x7e60c[0x1]-_0x7e60c[0x0]),document[_0x5bcba3(0x286)]('doWorkHours')[_0x5bcba3(0x278)]=formatMinsToHrs(_0x512e41),document['getElementById'](_0x5bcba3(0x1dd))[_0x5bcba3(0x278)]=formatMinsToHrs(_0x102297);const _0x20257b=_0x512e41>0x0?Math['round'](_0x102297/_0x512e41*0x64):0x0,_0x126734=document['getElementById']('doLoadPercent');_0x126734['textContent']=_0x20257b+'%';const _0x3823f2=document[_0x5bcba3(0x286)]('statLoadCard');if(_0x20257b>0x64)_0x126734[_0x5bcba3(0x242)][_0x5bcba3(0x2db)]=_0x5bcba3(0x2ed),_0x3823f2[_0x5bcba3(0x242)][_0x5bcba3(0x1cb)]='rgba(255,\x2069,\x2058,\x200.3)';else _0x20257b>0x50?(_0x126734[_0x5bcba3(0x242)]['color']=_0x5bcba3(0x263),_0x3823f2[_0x5bcba3(0x242)][_0x5bcba3(0x1cb)]=_0x5bcba3(0x2ef)):(_0x126734[_0x5bcba3(0x242)][_0x5bcba3(0x2db)]=_0x5bcba3(0x1e2),_0x3823f2[_0x5bcba3(0x242)]['borderColor']=_0x5bcba3(0x214));const _0x399409=document[_0x5bcba3(0x286)](_0x5bcba3(0x22c));_0x399409[_0x5bcba3(0x2e9)]='';_0x1dbba3[_0x5bcba3(0x1c0)]===0x0?_0x399409[_0x5bcba3(0x2e9)]=_0x5bcba3(0x1a1):(_0x1dbba3[_0x5bcba3(0x1bc)]((_0x5eb1df,_0x504603)=>_0x5eb1df[_0x5bcba3(0x2a9)]['localeCompare'](_0x504603[_0x5bcba3(0x2a9)])),_0x1dbba3[_0x5bcba3(0x2ba)](_0x390cd9=>{const _0x2de07e=_0x5bcba3,_0x2b9a24=clients[_0x2de07e(0x2d8)](_0x59570f=>_0x59570f[_0x2de07e(0x238)]===_0x390cd9[_0x2de07e(0x1bd)]),_0x46eef2=_0x2b9a24?_0x2b9a24['color']:'#fff',_0x5de9d7=_0x390cd9[_0x2de07e(0x183)]===_0x2de07e(0x227),_0xc25122=_0x5de9d7?_0x2de07e(0x23d):'',_0x5897a9=document['createElement']('div');_0x5897a9[_0x2de07e(0x23c)]='de-item',_0x5897a9[_0x2de07e(0x242)][_0x2de07e(0x29d)]=_0x46eef2,_0x5897a9[_0x2de07e(0x2e9)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>'+_0x390cd9['start']+_0x2de07e(0x1db)+_0x390cd9[_0x2de07e(0x23a)]+_0x2de07e(0x22d)+_0x390cd9['client']+_0x2de07e(0x1cf)+_0xc25122+_0x2de07e(0x1d1),_0x399409[_0x2de07e(0x1d6)](_0x5897a9);}));const _0x49fad1=document[_0x5bcba3(0x286)]('btnDayToggle'),_0x3dea00=dateExceptions[_0x2fab2e]==='off';_0x3dea00?(_0x49fad1['textContent']=_0x5bcba3(0x20e),_0x49fad1['className']=_0x5bcba3(0x288),_0x49fad1[_0x5bcba3(0x242)][_0x5bcba3(0x2db)]='var(--acc-green)',_0x49fad1[_0x5bcba3(0x242)]['background']=_0x5bcba3(0x27c)):(_0x49fad1[_0x5bcba3(0x278)]=_0x5bcba3(0x1bb),_0x49fad1[_0x5bcba3(0x23c)]=_0x5bcba3(0x1a5),_0x49fad1[_0x5bcba3(0x242)][_0x5bcba3(0x2db)]=_0x5bcba3(0x2ed),_0x49fad1[_0x5bcba3(0x242)][_0x5bcba3(0x250)]='rgba(255,\x2069,\x2058,\x200.15)'),openSheet(_0x5bcba3(0x2b5));}let currentAnPeriod='week';function openAnalytics(){const _0x26eb82=a2_0x3c37d4,_0x30d505=document['querySelector'](_0x26eb82(0x1d5));setAnalyticsPeriod(_0x26eb82(0x1d3),_0x30d505),closeAllSheets(),openSheet(_0x26eb82(0x217));}function setAnalyticsPeriod(_0x2152a0,_0x2fcdb7){const _0x12b21f=a2_0x3c37d4;currentAnPeriod=_0x2152a0,document['querySelectorAll']('.period-switch\x20.p-btn')['forEach'](_0x5c5b24=>_0x5c5b24[_0x12b21f(0x27e)][_0x12b21f(0x195)](_0x12b21f(0x21b)));if(_0x2fcdb7)_0x2fcdb7['classList']['add'](_0x12b21f(0x21b));const _0x12f20d=document['getElementById'](_0x12b21f(0x2c8));_0x12f20d['style'][_0x12b21f(0x216)]=_0x2152a0===_0x12b21f(0x1f5)?_0x12b21f(0x2e8):_0x12b21f(0x2b0);const _0x1a410a=new Date();let _0x1e9fd3=new Date(),_0x1815f7=new Date();if(_0x2152a0===_0x12b21f(0x1d3))_0x1e9fd3=getStartOfWeek(_0x1a410a),_0x1815f7=new Date(_0x1e9fd3),_0x1815f7[_0x12b21f(0x186)](_0x1815f7[_0x12b21f(0x2a4)]()+0x6);else{if(_0x2152a0===_0x12b21f(0x2c9))_0x1e9fd3=new Date(_0x1a410a['getFullYear'](),_0x1a410a[_0x12b21f(0x2b1)](),0x1),_0x1815f7=new Date(_0x1a410a[_0x12b21f(0x1b5)](),_0x1a410a[_0x12b21f(0x2b1)]()+0x1,0x0);else{!document[_0x12b21f(0x286)]('anStart')['value']&&(document[_0x12b21f(0x286)](_0x12b21f(0x230))['value']=getLocalDateStr(_0x1a410a),document[_0x12b21f(0x286)](_0x12b21f(0x26c))[_0x12b21f(0x301)]=getLocalDateStr(_0x1a410a));refreshAnalytics();return;}}document[_0x12b21f(0x286)](_0x12b21f(0x230))[_0x12b21f(0x301)]=getLocalDateStr(_0x1e9fd3),document[_0x12b21f(0x286)]('anEnd')[_0x12b21f(0x301)]=getLocalDateStr(_0x1815f7),refreshAnalytics();}function refreshAnalytics(){const _0x1eb7d9=a2_0x3c37d4,_0x45f160=document[_0x1eb7d9(0x286)]('anStart')[_0x1eb7d9(0x301)],_0x575231=document[_0x1eb7d9(0x286)](_0x1eb7d9(0x26c))['value'];if(!_0x45f160||!_0x575231)return;const _0x49fc0c=sessions[_0x1eb7d9(0x2e4)](_0x2417f7=>_0x2417f7[_0x1eb7d9(0x276)]>=_0x45f160&&_0x2417f7[_0x1eb7d9(0x276)]<=_0x575231&&_0x2417f7['status']!=='cancelled'),_0x328a1f=_0x49fc0c[_0x1eb7d9(0x1c0)],_0x4d6ab0=_0x49fc0c['filter'](_0x1330cc=>_0x1330cc[_0x1eb7d9(0x183)]===_0x1eb7d9(0x227))[_0x1eb7d9(0x1c0)],_0x3e931b=_0x328a1f>0x0?Math[_0x1eb7d9(0x307)](_0x4d6ab0/_0x328a1f*0x64):0x0;document[_0x1eb7d9(0x286)](_0x1eb7d9(0x2e1))['textContent']=_0x3e931b+'%',document[_0x1eb7d9(0x286)](_0x1eb7d9(0x229))[_0x1eb7d9(0x278)]=_0x4d6ab0+_0x1eb7d9(0x204)+_0x328a1f+'\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ';const _0x51e802=document[_0x1eb7d9(0x286)]('anDonutCircle'),_0x4d12f0=0x2*Math['PI']*0x23,_0x4d5f66=_0x4d12f0-_0x3e931b/0x64*_0x4d12f0;_0x51e802[_0x1eb7d9(0x242)]['strokeDashoffset']=_0x4d5f66;const _0x7e7c3d={};_0x49fc0c[_0x1eb7d9(0x2ba)](_0x4c49cf=>{const _0x4880cd=_0x1eb7d9;if(!_0x7e7c3d[_0x4c49cf[_0x4880cd(0x1bd)]]){const _0x2fedc0=clients['find'](_0x260185=>_0x260185[_0x4880cd(0x238)]===_0x4c49cf[_0x4880cd(0x1bd)]);_0x7e7c3d[_0x4c49cf['client']]={'total':0x0,'done':0x0,'color':_0x2fedc0?_0x2fedc0[_0x4880cd(0x2db)]:'#fff'};}_0x7e7c3d[_0x4c49cf['client']][_0x4880cd(0x2c0)]++;if(_0x4c49cf[_0x4880cd(0x183)]===_0x4880cd(0x227))_0x7e7c3d[_0x4c49cf['client']][_0x4880cd(0x1b8)]++;});const _0x3ccfc8=document['getElementById'](_0x1eb7d9(0x18a));_0x3ccfc8['innerHTML']='';const _0x41b132=Object[_0x1eb7d9(0x219)](_0x7e7c3d)[_0x1eb7d9(0x1bc)]((_0x85885d,_0x34b5ab)=>_0x34b5ab[0x1]['total']-_0x85885d[0x1][_0x1eb7d9(0x2c0)]);if(_0x41b132[_0x1eb7d9(0x1c0)]===0x0){_0x3ccfc8[_0x1eb7d9(0x2e9)]=_0x1eb7d9(0x264);return;}_0x41b132[_0x1eb7d9(0x2ba)](([_0x3b4bc9,_0x3f12fb])=>{const _0x3ed043=_0x1eb7d9,_0x5b95a2=Math[_0x3ed043(0x307)](_0x3f12fb[_0x3ed043(0x1b8)]/_0x3f12fb[_0x3ed043(0x2c0)]*0x64),_0x1c6ec7=document[_0x3ed043(0x23b)](_0x3ed043(0x289));_0x1c6ec7[_0x3ed043(0x23c)]=_0x3ed043(0x2be),_0x1c6ec7[_0x3ed043(0x242)][_0x3ed043(0x29d)]=_0x3f12fb[_0x3ed043(0x2db)],_0x1c6ec7[_0x3ed043(0x2e9)]=_0x3ed043(0x1f8)+_0x3b4bc9+_0x3ed043(0x2e6)+_0x3f12fb[_0x3ed043(0x1b8)]+'</span>\x20/\x20'+_0x3f12fb['total']+_0x3ed043(0x2ea)+_0x5b95a2+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x3ccfc8['appendChild'](_0x1c6ec7);});}function formatMinsToHrs(_0x100810){const _0x563194=a2_0x3c37d4;if(_0x100810===0x0)return'0';const _0x2d5a8a=Math[_0x563194(0x194)](_0x100810/0x3c),_0xd07d=_0x100810%0x3c;if(_0xd07d===0x0)return _0x2d5a8a+'—á';return _0x2d5a8a+'—á\x20'+_0xd07d+'–º';}