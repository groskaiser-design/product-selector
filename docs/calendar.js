const a2_0x17478a=a2_0x2e5c;(function(_0x2165d3,_0x5c624){const _0x4b9f0e=a2_0x2e5c,_0x145194=_0x2165d3();while(!![]){try{const _0x43188b=-parseInt(_0x4b9f0e(0x21a))/0x1+parseInt(_0x4b9f0e(0x318))/0x2*(parseInt(_0x4b9f0e(0x1fd))/0x3)+-parseInt(_0x4b9f0e(0x2dd))/0x4*(-parseInt(_0x4b9f0e(0x303))/0x5)+-parseInt(_0x4b9f0e(0x2a9))/0x6+parseInt(_0x4b9f0e(0x1f7))/0x7+parseInt(_0x4b9f0e(0x262))/0x8+-parseInt(_0x4b9f0e(0x265))/0x9*(-parseInt(_0x4b9f0e(0x222))/0xa);if(_0x43188b===_0x5c624)break;else _0x145194['push'](_0x145194['shift']());}catch(_0x4c0ec2){_0x145194['push'](_0x145194['shift']());}}}(a2_0x1e91,0x19d2c),function initTMA(){const _0x4d93b6=a2_0x2e5c,_0x421299=(function(){let _0x235d05=!![];return function(_0x3ae999,_0x4779b1){const _0x4ed1c2=_0x235d05?function(){const _0x240006=a2_0x2e5c;if(_0x4779b1){const _0x53f408=_0x4779b1[_0x240006(0x2b1)](_0x3ae999,arguments);return _0x4779b1=null,_0x53f408;}}:function(){};return _0x235d05=![],_0x4ed1c2;};}()),_0x1c87d2=_0x421299(this,function(){const _0x5328e7=a2_0x2e5c;return _0x1c87d2[_0x5328e7(0x1e0)]()['search'](_0x5328e7(0x207))['toString']()['constructor'](_0x1c87d2)['search'](_0x5328e7(0x207));});_0x1c87d2();try{const _0x4d999a=window[_0x4d93b6(0x355)]?.[_0x4d93b6(0x20d)];if(!_0x4d999a)return;_0x4d999a['ready'](),_0x4d999a[_0x4d93b6(0x26f)]();try{_0x4d999a[_0x4d93b6(0x2a2)](_0x4d93b6(0x259)),_0x4d999a[_0x4d93b6(0x2b4)]&&_0x4d999a[_0x4d93b6(0x2b4)](_0x4d93b6(0x259));}catch(_0x35028f){console[_0x4d93b6(0x28f)](_0x4d93b6(0x241),_0x35028f);}try{_0x4d999a['BackButton']&&(_0x4d999a['BackButton']['show'](),_0x4d999a[_0x4d93b6(0x2ea)]['offClick'](),_0x4d999a[_0x4d93b6(0x2ea)][_0x4d93b6(0x1d9)](function(){const _0x14b3fc=_0x4d93b6;window['location'][_0x14b3fc(0x33e)]=_0x14b3fc(0x314);}));}catch(_0x547720){console[_0x4d93b6(0x28f)](_0x4d93b6(0x340),_0x547720);}try{if(_0x4d999a[_0x4d93b6(0x2a7)])_0x4d999a[_0x4d93b6(0x2a7)]();}catch(_0x2bd6d0){}}catch(_0x50d0aa){console[_0x4d93b6(0x26e)](_0x4d93b6(0x22d),_0x50d0aa);}}());function isAdmin(){const _0x15039a=a2_0x2e5c;try{const _0x534a56=Number(window['Telegram']?.['WebApp']?.[_0x15039a(0x2dc)]?.[_0x15039a(0x2ef)]?.['id']);return _0x534a56===0xbaf7174;}catch(_0x38f747){return![];}}const APP_VERSION=a2_0x17478a(0x2b7),API_URL=a2_0x17478a(0x2a4),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x17478a(0x277),KEY_SESSIONS='uc_sessions_v9',KEY_SETTINGS=a2_0x17478a(0x1eb);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x3c579f=a2_0x17478a;return window['Telegram']?.[_0x3c579f(0x20d)]?.[_0x3c579f(0x2dc)]?.[_0x3c579f(0x2ef)]?.['id']||_0x3c579f(0x2d8);},'saveLocally'(){const _0x4d378c=a2_0x17478a;try{localStorage[_0x4d378c(0x23c)](KEY_CLIENTS,JSON[_0x4d378c(0x242)](clients)),localStorage['setItem'](KEY_SESSIONS,JSON[_0x4d378c(0x242)](sessions)),localStorage[_0x4d378c(0x23c)](KEY_SETTINGS,JSON[_0x4d378c(0x242)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x490639){console[_0x4d378c(0x26e)](_0x4d378c(0x304),_0x490639);}},'loadLocal'(){const _0x13c136=a2_0x17478a;try{const _0x333224=localStorage[_0x13c136(0x2d4)](KEY_CLIENTS);if(_0x333224)clients=JSON['parse'](_0x333224);const _0x294fd9=localStorage[_0x13c136(0x2d4)](KEY_SESSIONS);if(_0x294fd9)sessions=JSON[_0x13c136(0x1d8)](_0x294fd9);const _0x10c2c6=localStorage[_0x13c136(0x2d4)](KEY_SETTINGS);if(_0x10c2c6){const _0x29924a=JSON['parse'](_0x10c2c6);if(_0x29924a[_0x13c136(0x2fc)])availabilityPattern=_0x29924a[_0x13c136(0x2fc)];if(_0x29924a['exceptions'])dateExceptions=_0x29924a['exceptions'];if(_0x29924a[_0x13c136(0x2c8)])specialRanges=_0x29924a['ranges'];}else{for(let _0x1a4de5=0x0;_0x1a4de5<0x7;_0x1a4de5++)availabilityPattern[_0x1a4de5]=Array[_0x13c136(0x2d3)]({'length':0xc},(_0x32d28a,_0x3c2023)=>_0x3c2023+0x9);}}catch(_0x3d4a5a){console['error']('Local\x20Load\x20Error',_0x3d4a5a);}},async 'fetchFromServer'(_0x3571b6,_0xb0a7cf={}){const _0x3c11d2=a2_0x17478a,_0x4ea2ba=window[_0x3c11d2(0x355)]?.['WebApp'],_0x106b13={'action':_0x3571b6,'init_data':_0x4ea2ba?.[_0x3c11d2(0x290)]||'',..._0xb0a7cf};try{const _0x72c570=await fetch(API_URL,{'method':_0x3c11d2(0x281),'headers':{'Content-Type':_0x3c11d2(0x25e)},'body':JSON[_0x3c11d2(0x242)](_0x106b13)}),_0x12632c=await _0x72c570[_0x3c11d2(0x237)]();if(!_0x12632c['ok'])throw new Error(_0x12632c[_0x3c11d2(0x26e)]||_0x3c11d2(0x2b9));return _0x12632c[_0x3c11d2(0x280)];}catch(_0x20feeb){console[_0x3c11d2(0x26e)](_0x3c11d2(0x1ef)+_0x3571b6+_0x3c11d2(0x1fa),_0x20feeb);throw _0x20feeb;}},async 'syncLoad'(){const _0x578b18=a2_0x17478a,_0x5eaefb=new Date(),_0x506327=_0x5eaefb[_0x578b18(0x323)]()+'-'+String(_0x5eaefb['getMonth']()+0x1)['padStart'](0x2,'0'),_0x4cb743=new Date(_0x5eaefb);_0x4cb743[_0x578b18(0x24e)](_0x5eaefb[_0x578b18(0x331)]()+0x1);const _0x2bfec5=_0x4cb743['getFullYear']()+'-'+String(_0x4cb743[_0x578b18(0x331)]()+0x1)[_0x578b18(0x2ac)](0x2,'0'),_0x2a3b1c=Date[_0x578b18(0x21f)]();console[_0x578b18(0x28f)](_0x578b18(0x30e)+_0x506327+',\x20'+_0x2bfec5+_0x578b18(0x2fb));try{const [_0x335c9a,_0x492596]=await Promise[_0x578b18(0x313)]([this[_0x578b18(0x2d1)]('init_load',{'month_str':_0x506327}),this[_0x578b18(0x2d1)](_0x578b18(0x1ee),{'month_str':_0x2bfec5})]);if(lastUserActionTime>_0x2a3b1c)return console[_0x578b18(0x279)]('[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response'),![];return this['mergeServerData'](_0x335c9a,_0x506327),this[_0x578b18(0x325)](_0x492596,_0x2bfec5),this['saveLocally'](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x5ee4cd){console['error'](_0x5ee4cd);throw _0x5ee4cd;}},'mergeServerData'(_0x341a23,_0x2a4f37){const _0x39ba98=a2_0x17478a;if(!_0x341a23)return;_0x341a23[_0x39ba98(0x23f)]&&Array[_0x39ba98(0x2e3)](_0x341a23['clients'])&&(clients=_0x341a23[_0x39ba98(0x23f)]);if(_0x341a23[_0x39ba98(0x1ff)]){if(_0x341a23['settings'][_0x39ba98(0x2fc)])availabilityPattern=_0x341a23[_0x39ba98(0x1ff)]['pattern'];if(_0x341a23[_0x39ba98(0x1ff)]['exceptions'])dateExceptions=_0x341a23[_0x39ba98(0x1ff)][_0x39ba98(0x211)];if(_0x341a23[_0x39ba98(0x1ff)][_0x39ba98(0x2c8)])specialRanges=_0x341a23['settings'][_0x39ba98(0x2c8)];if(_0x341a23['settings'][_0x39ba98(0x1e2)]){localStorage[_0x39ba98(0x23c)]('uc_settings_cancel_window',_0x341a23[_0x39ba98(0x1ff)][_0x39ba98(0x1e2)]);const _0x462c13=document['getElementById'](_0x39ba98(0x2ce));if(_0x462c13)_0x462c13[_0x39ba98(0x235)]=_0x341a23[_0x39ba98(0x1ff)][_0x39ba98(0x1e2)];}}_0x341a23[_0x39ba98(0x232)]&&(sessions=sessions[_0x39ba98(0x2f8)](_0x281cac=>!_0x281cac[_0x39ba98(0x20e)][_0x39ba98(0x324)](_0x2a4f37)),Object[_0x39ba98(0x2e9)](_0x341a23[_0x39ba98(0x232)])[_0x39ba98(0x2c2)](_0x48d59d=>{const _0x484782=_0x39ba98,_0x498968=_0x341a23['calendar'][_0x48d59d];_0x498968[_0x484782(0x2c2)](_0x4844e3=>{const _0x19f4f4=_0x484782,_0x40d9ad=clients[_0x19f4f4(0x288)](_0x3f1c9d=>String(_0x3f1c9d['id'])===String(_0x4844e3['c']));sessions[_0x19f4f4(0x305)]({'id':_0x4844e3['i'],'clientId':_0x4844e3['c'],'client':_0x40d9ad?_0x40d9ad['name']:_0x19f4f4(0x1dd),'dateStr':_0x2a4f37+'-'+_0x48d59d['padStart'](0x2,'0'),'start':_0x4844e3['s'],'end':_0x4844e3['e'],'status':_0x4844e3['st']||'planned','note':_0x4844e3['n']||'','seriesId':_0x4844e3[_0x19f4f4(0x27c)]||null});});}));},async 'syncBatch'(_0x5397c7){const _0x1358b0=a2_0x17478a,_0x433559=[...new Set(_0x5397c7)],_0x250df7=_0x433559[_0x1358b0(0x22b)](_0x267225=>{const _0x246690=_0x1358b0,_0x546f07=sessions[_0x246690(0x2f8)](_0x83070f=>_0x83070f[_0x246690(0x20e)]===_0x267225&&_0x83070f[_0x246690(0x25d)]!==_0x246690(0x341)),_0x4b9ab0=_0x546f07[_0x246690(0x22b)](_0xe6c94e=>({'i':_0xe6c94e['id'],'c':_0xe6c94e[_0x246690(0x28c)],'s':_0xe6c94e['start'],'e':_0xe6c94e['end'],'st':_0xe6c94e['status'],'n':_0xe6c94e[_0x246690(0x24b)],'sid':_0xe6c94e[_0x246690(0x285)]}));return{'date':_0x267225,'day_data':_0x4b9ab0};});if(_0x250df7['length']===0x0)return;console[_0x1358b0(0x28f)](_0x1358b0(0x28e)+_0x250df7['length']+'\x20days'),await this[_0x1358b0(0x2d1)]('batch_sync',{'changes':_0x250df7});}};async function init(){const _0x8760a4=a2_0x17478a;DataManager['loadLocal'](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x8760a4(0x2da)]('matrixViewport')[_0x8760a4(0x22c)](_0x8760a4(0x34e),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x8760a4(0x273)]()[_0x8760a4(0x295)](()=>{const _0x178a9e=_0x8760a4;showToast(_0x178a9e(0x2ae),!![]);})[_0x8760a4(0x20c)](_0x211424=>{const _0xe46fb0=_0x8760a4;showToast(_0xe46fb0(0x337),![]);});}function generateId(){const _0x19c44e=a2_0x17478a;return Date['now']()[_0x19c44e(0x1e0)](0x24)+Math[_0x19c44e(0x2b6)]()[_0x19c44e(0x1e0)](0x24)[_0x19c44e(0x30f)](0x2,0x5);}function toggleSeriesInput(){const _0x1d6e5b=a2_0x17478a,_0x59955b=document[_0x1d6e5b(0x2da)](_0x1d6e5b(0x335))[_0x1d6e5b(0x208)],_0x3a1241=document['getElementById'](_0x1d6e5b(0x35b));_0x3a1241['style']['display']=_0x59955b?'block':_0x1d6e5b(0x336);const _0x282f1f=document[_0x1d6e5b(0x2da)]('recurringOptionContainer');_0x282f1f['style'][_0x1d6e5b(0x22e)]=_0x59955b?_0x1d6e5b(0x30a):'10px';}function openAddSession(_0x52c2d5){const _0x3f3882=a2_0x17478a;editingId=null,populateClientSelect(),document[_0x3f3882(0x2da)](_0x3f3882(0x294))[_0x3f3882(0x2f3)]=_0x3f3882(0x21e),document[_0x3f3882(0x2da)]('btnDelete')[_0x3f3882(0x31e)][_0x3f3882(0x1da)]=_0x3f3882(0x336),document['getElementById'](_0x3f3882(0x23d))[_0x3f3882(0x31e)][_0x3f3882(0x1da)]=_0x3f3882(0x336);const _0x5d1057=document['getElementById'](_0x3f3882(0x260)),_0x5e105d=document['getElementById']('seriesCountContainer');_0x5d1057[_0x3f3882(0x31e)]['display']=_0x3f3882(0x21c),_0x5d1057[_0x3f3882(0x31e)]['borderRadius']=_0x3f3882(0x2d2),document[_0x3f3882(0x2da)]('inpRecurring')[_0x3f3882(0x208)]=![],document[_0x3f3882(0x2da)]('inpSeriesCount')[_0x3f3882(0x235)]=0x4,_0x5e105d[_0x3f3882(0x31e)][_0x3f3882(0x1da)]=_0x3f3882(0x336),document[_0x3f3882(0x2da)](_0x3f3882(0x244))[_0x3f3882(0x235)]=getLocalDateStr(_0x52c2d5),updateDateDisplay();const _0x129b20=_0x52c2d5[_0x3f3882(0x272)]();document[_0x3f3882(0x2da)](_0x3f3882(0x2a1))[_0x3f3882(0x235)]=String(_0x129b20)[_0x3f3882(0x2ac)](0x2,'0')+':00',document[_0x3f3882(0x2da)](_0x3f3882(0x2ab))[_0x3f3882(0x235)]=String(_0x129b20+0x1)[_0x3f3882(0x2ac)](0x2,'0')+_0x3f3882(0x215),openSheet('sessionSheet');}function a2_0x1e91(){const _0x1e3926=['event-card','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','setDate','inpNote','toLocaleDateString','\x20-\x20','px\x20-','</div><div\x20class=\x22dch-num\x22>','rangeEndDate','getMonth','update','rgba(100,100,100,0.5)','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','inpRecurring','none','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','var(--acc-current)','charAt','range-item','anTotalStats','sort','rangeEndTime','href','inpSeriesCount','Error\x20setting\x20back\x20button:','deleted','onclick','firstChild',':00</span>','getAttribute','custom','send_notification','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','scrollLeft','#fff','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','px\x200px','offsetLeft','scroll','getDay','height','stat-','backgroundColor','pe-time-label','timeColumn','Telegram','rgba(48,\x20209,\x2088,\x200.15)','syncBatch','borderLeftColor','day-col-header\x20','headerMonth','seriesCountContainer','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','parse','onClick','display','doDateHeader','saveLocally','Unknown','rgba(255,\x20159,\x2010,\x200.3)','getTime','toString','actionSheet','cancel_window','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','strokeDashoffset','complete','numeric','backgroundPosition','borderColor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','T00:00:00','uc_settings_v9','uc_settings_cancel_window','.pib-text','init_load','[API\x20','patternEditor','[Notify]\x20Error:\x20sessionData\x20is\x20null','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','closest','localeCompare','insertBefore','</b>\x0a\x0a','65730EIdsOw','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20',']\x20Failed:','blocked-range-part\x20stripe-bg','series','8454wcdhbq','getMinutes','settings','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','add','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','settingsSheet','</div>','btnDayToggle',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','(((.+)+)+)+$','checked','toUpperCase','cancelled','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','catch','WebApp','dateStr','rgba(255,\x2069,\x2058,\x200.15)','min','exceptions','scrollWidth','blocked-slot\x20stripe-bg','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>',':00','createElement','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','mousemove','statLoadCard','96929wmxilx','background','flex','stopPropagation','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','now','asBtnSeries','doEventsList','620690ITjBDj','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','day-off-overlay\x20stripe-bg','setAttribute','inpClient','week','toLocaleString','pe-corner','single','map','addEventListener','Critical\x20TMA\x20Error:','borderRadius','top','–£–¥–∞–ª–µ–Ω–∏–µ','appendChild','calendar','var(--acc-orange)','total','value','rangesSheet','json','colIndex','max','vibrate','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','setItem','btnStatusToggle','mousedown','clients','de-item','Error\x20setting\x20color:','stringify','data-date','inpDate','[Notify]\x20Detected\x20Client\x20ID:','createDocumentFragment','planned','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','\x20‚Äî\x20','note','anDonutCircle','actionSheetOverlay','setMonth','[Notify]\x20Client\x20SWAP\x20detected','name','create','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','%\x20+\x202px)','as-button\x20danger','anEnd','#050505','completed','entries','clientWidth','status','text/plain;charset=UTF-8','day-column\x20','recurringOptionContainer','msg','702120eCbrHi','[Notify]\x20Error:\x20Text\x20generation\x20failed','.dch-stats-fill','9clOOjn','.event-card','toast','anStart','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','end','long','btnDelete','classList','error','expand','var(--acc-green)','active','getHours','syncLoad','header-','innerHTML','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','uc_clients_v9','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','warn','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','sid','dayOptionsSheet','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','rangeStartTime','data','POST','mini','#gridColumns\x20.day-column','gridColumns','seriesId','save_settings','Save\x20settings\x20error:','find','start','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','var(--acc-red)','clientId','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','log','initData','client-stat-card','indexOf','delete','sheetTitle','then','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','asBtnOne','client','null','send','Batch\x20Sync\x20OK','left','doWorkHours','div','toFixed','rangeStartDate','inpStart','setHeaderColor','.day-off-overlay','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','disableVerticalSwipes','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','684456cLiCrn',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','inpEnd','padStart','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','className','patternInfoBox','apply','rgba(','daysHeaderTrack','setBackgroundColor','overlay','random','v9.0-BATCH-CALENDAR','touches','Server\x20Error','time-label','success','23:59','month','floor','splice','length','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','forEach','btn-primary\x20btn-secondary','peGrid','option','%\x20-\x204px)','dayOptionsTitle','ranges','pe-cell\x20','[Notify]\x20Network\x20Failed','touchstart','.period-switch\x20.p-btn','today','settingCancelWindow','getDate','text','fetchFromServer','10px','from','getItem','pe-col-header','calc(','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','guest',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','getElementById','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','initDataUnsafe','4LrYdUC','btn-status-toggle\x20undo-mode','100%','valid','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','isArray','touchend','<div\x20class=\x22ev-title\x22>','querySelectorAll','width','doBusyHours','keys','BackButton','timeLineBadge','[Notify]\x20Server\x20Response:','toastMessage','anCustomDates','user','clientY','toastTitle','findIndex','textContent','getBoundingClientRect','rgba(255,255,255,0.05)','setHours','off','filter','analyticsList','warning','...','pattern','[Settings]\x20Cancel\x20window\x20set\x20to:','block','split','.day-col-header','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','round','660955jzilZF','Local\x20Save\x20Error','push','rgba(255,\x2069,\x2058,\x200.3)','ru-RU','<b>‚úÖ\x20','<div\x20class=\x22dch-day\x22>','10px\x2010px\x200\x200','zIndex','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','remove','[Sync]\x20Loading\x20','substr','open','slice','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','all','router.html','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','btn-status-toggle','cancel','18WJDlOL','rangesList','scrollTop','done','globalTimeLine','toast-notification\x20','style','#0a84ff','save','–ò–Ω—Ñ–æ','color','getFullYear','startsWith','mergeServerData','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'];a2_0x1e91=function(){return _0x1e3926;};return a2_0x1e91();}function openEdit(_0xea559a){const _0x15c858=a2_0x17478a;editingId=_0xea559a['id'],populateClientSelect(),document[_0x15c858(0x2da)](_0x15c858(0x294))['textContent']=_0x15c858(0x20b),document[_0x15c858(0x2da)](_0x15c858(0x26c))[_0x15c858(0x31e)]['display']=_0x15c858(0x2fe);const _0x29d34a=document['getElementById'](_0x15c858(0x23d));_0x29d34a[_0x15c858(0x31e)]['display']=_0x15c858(0x21c);_0xea559a[_0x15c858(0x25d)]===_0x15c858(0x25a)?(_0x29d34a[_0x15c858(0x2af)]=_0x15c858(0x2de),_0x29d34a[_0x15c858(0x275)]=_0x15c858(0x200)):(_0x29d34a[_0x15c858(0x2af)]=_0x15c858(0x316),_0x29d34a[_0x15c858(0x275)]='<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É');const _0x481ad5=!!_0xea559a[_0x15c858(0x285)];document['getElementById'](_0x15c858(0x260))[_0x15c858(0x31e)][_0x15c858(0x1da)]='none',document[_0x15c858(0x2da)](_0x15c858(0x35b))[_0x15c858(0x31e)][_0x15c858(0x1da)]=_0x15c858(0x336),_0x481ad5?(document[_0x15c858(0x2da)](_0x15c858(0x2b0))['style'][_0x15c858(0x1da)]=_0x15c858(0x21c),document['getElementById'](_0x15c858(0x2b0))['querySelector'](_0x15c858(0x1ed))['textContent']=_0x15c858(0x248)):document[_0x15c858(0x2da)](_0x15c858(0x2b0))[_0x15c858(0x31e)][_0x15c858(0x1da)]='none',document[_0x15c858(0x2da)]('inpClient')[_0x15c858(0x235)]=_0xea559a[_0x15c858(0x298)],document['getElementById'](_0x15c858(0x244))['value']=_0xea559a['dateStr'],document[_0x15c858(0x2da)](_0x15c858(0x2a1))['value']=_0xea559a[_0x15c858(0x289)],document[_0x15c858(0x2da)]('inpEnd')[_0x15c858(0x235)]=_0xea559a[_0x15c858(0x26a)],document[_0x15c858(0x2da)](_0x15c858(0x32b))[_0x15c858(0x235)]=_0xea559a[_0x15c858(0x24b)]||'',updateDateDisplay(),openSheet('sessionSheet');}async function trySaveSession(){const _0x55f49=a2_0x17478a,_0x5175a1=document[_0x55f49(0x2da)](_0x55f49(0x226))[_0x55f49(0x235)],_0x22199a=document['getElementById'](_0x55f49(0x244))[_0x55f49(0x235)],_0x1c61ff=document[_0x55f49(0x2da)](_0x55f49(0x2a1))['value'],_0x4bbc21=document['getElementById'](_0x55f49(0x2ab))[_0x55f49(0x235)],_0x5c157e=document[_0x55f49(0x2da)](_0x55f49(0x32b))[_0x55f49(0x235)],_0x5d686f=document['getElementById'](_0x55f49(0x335))[_0x55f49(0x208)];let _0x43de16=0x4;if(_0x5d686f){const _0x2133d0=parseInt(document[_0x55f49(0x2da)](_0x55f49(0x33f))[_0x55f49(0x235)]);if(!_0x2133d0||_0x2133d0<0x2){showToast(_0x55f49(0x2a8),![]);return;}if(_0x2133d0>0x64){showToast('–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑',![]);return;}_0x43de16=_0x2133d0;}const _0x12e3cb=clients[_0x55f49(0x288)](_0x31be9a=>_0x31be9a['name']===_0x5175a1);if(!_0x12e3cb){showToast(_0x55f49(0x253),![]);return;}const _0x58a250=validateAppointment(_0x22199a,_0x1c61ff,_0x4bbc21,editingId,_0x12e3cb['id']);if(!_0x58a250[_0x55f49(0x2e0)]){showToast(_0x58a250[_0x55f49(0x261)],![]);return;}_0x58a250[_0x55f49(0x2fa)]&&showToast(_0x58a250[_0x55f49(0x2fa)],![]);const _0x329cce={'client':_0x5175a1,'clientId':_0x12e3cb['id'],'start':_0x1c61ff,'end':_0x4bbc21,'note':_0x5c157e,'status':_0x55f49(0x247)},_0x25feb0=editingId?sessions['find'](_0x1ff187=>_0x1ff187['id']===editingId):null;if(_0x25feb0&&_0x25feb0[_0x55f49(0x285)]){tempSessionData={..._0x329cce,'dateStr':_0x22199a,'id':editingId,'seriesId':_0x25feb0[_0x55f49(0x285)]},openActionSheet(_0x55f49(0x320));return;}let _0x376ddd=null;if(!editingId)_0x376ddd='create';else{if(_0x25feb0){if(String(_0x25feb0['clientId'])!==String(_0x12e3cb['id']))console[_0x55f49(0x28f)](_0x55f49(0x24f)),NotificationManager[_0x55f49(0x29a)](_0x55f49(0x317),_0x25feb0),_0x376ddd=_0x55f49(0x251);else(_0x25feb0[_0x55f49(0x289)]!==_0x1c61ff||_0x25feb0[_0x55f49(0x26a)]!==_0x4bbc21||_0x25feb0[_0x55f49(0x20e)]!==_0x22199a)&&(_0x376ddd='update');}}if(!editingId&&_0x5d686f){createBatchSeries(_0x329cce,_0x22199a,_0x43de16),NotificationManager[_0x55f49(0x29a)](_0x55f49(0x251),{..._0x329cce,'dateStr':_0x22199a});return;}lastUserActionTime=Date[_0x55f49(0x21f)]();const _0x8aec9a={..._0x329cce,'dateStr':_0x22199a,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x8aec9a),_0x376ddd&&NotificationManager[_0x55f49(0x29a)](_0x376ddd,_0x8aec9a);}function toggleSessionStatus(){const _0x2e0c4c=a2_0x17478a;lastUserActionTime=Date['now']();const _0x167a1a=sessions['find'](_0x4cd7c2=>_0x4cd7c2['id']===editingId);if(!_0x167a1a)return;const _0xe1b283=_0x167a1a['status']===_0x2e0c4c(0x25a)?_0x2e0c4c(0x247):_0x2e0c4c(0x25a);_0x167a1a['status']=_0xe1b283,saveSingleSession(_0x167a1a),_0xe1b283===_0x2e0c4c(0x25a)&&NotificationManager[_0x2e0c4c(0x29a)]('complete',_0x167a1a),showToast(_0xe1b283==='completed'?_0x2e0c4c(0x2db):_0x2e0c4c(0x34b),!![]);}function validateAppointment(_0x4ad5ef,_0x115e32,_0x526d1d,_0x48ad30,_0x37332b){const _0x2df900=a2_0x17478a,[_0x498aef,_0x22aa2e]=_0x115e32['split'](':')[_0x2df900(0x22b)](Number),[_0x324682,_0x4f87d9]=_0x526d1d[_0x2df900(0x2ff)](':')[_0x2df900(0x22b)](Number),_0x3c24ee=_0x498aef*0x3c+_0x22aa2e,_0x4c76fd=_0x324682*0x3c+_0x4f87d9,_0x35a379=String(_0x37332b);let _0x3c98a8=![],_0x30b0fa='';for(let _0x5907c8 of sessions){if(_0x5907c8['dateStr']!==_0x4ad5ef)continue;if(_0x5907c8[_0x2df900(0x25d)]===_0x2df900(0x20a))continue;if(_0x48ad30&&String(_0x5907c8['id'])===String(_0x48ad30))continue;const [_0xaba0d5,_0x1c13a1]=_0x5907c8['start']['split'](':')[_0x2df900(0x22b)](Number),[_0x26544a,_0x7f5da1]=_0x5907c8['end'][_0x2df900(0x2ff)](':')['map'](Number),_0x302467=_0xaba0d5*0x3c+_0x1c13a1,_0x104ebe=_0x26544a*0x3c+_0x7f5da1;if(Math[_0x2df900(0x239)](_0x3c24ee,_0x302467)<Math[_0x2df900(0x210)](_0x4c76fd,_0x104ebe)){if(_0x5907c8['clientId']&&String(_0x5907c8[_0x2df900(0x28c)])===_0x35a379)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0x5907c8['client']+_0x2df900(0x2d9)};_0x3c98a8=!![],_0x30b0fa=_0x5907c8['client'];}}if(_0x3c98a8)return{'valid':!![],'warning':_0x2df900(0x276)+_0x30b0fa};return{'valid':!![]};}function saveSingleSession(_0x115a02){const _0x10f019=a2_0x17478a;if(editingId){const _0x322979=sessions[_0x10f019(0x2f2)](_0x597192=>_0x597192['id']===editingId);if(_0x322979!==-0x1)sessions[_0x322979]=_0x115a02;}else sessions[_0x10f019(0x305)](_0x115a02);afterSaveAction([_0x115a02[_0x10f019(0x20e)]]);}function createBatchSeries(_0x2dffdd,_0x3b3bfd,_0x5d12ca){const _0x4241b6=a2_0x17478a,_0x2b2d14=generateId(),_0x30c9ba=[],_0x5587e3=[];let _0x44d120=0x0,_0xfafbf4=new Date(_0x3b3bfd);for(let _0xec89ae=0x0;_0xec89ae<_0x5d12ca;_0xec89ae++){const _0x1c45bd=getLocalDateStr(_0xfafbf4),_0x133335=validateAppointment(_0x1c45bd,_0x2dffdd['start'],_0x2dffdd[_0x4241b6(0x26a)],null,_0x2dffdd[_0x4241b6(0x28c)]);if(!_0x133335[_0x4241b6(0x2e0)])console[_0x4241b6(0x28f)]('[Series]\x20Skipped\x20'+_0x1c45bd+':\x20Client\x20already\x20booked'),_0x44d120++;else{const _0x3d34aa={..._0x2dffdd,'id':generateId(),'dateStr':_0x1c45bd,'seriesId':_0x2b2d14};_0x5587e3[_0x4241b6(0x305)](_0x3d34aa),_0x30c9ba[_0x4241b6(0x305)](_0x1c45bd);}_0xfafbf4['setDate'](_0xfafbf4[_0x4241b6(0x2cf)]()+0x7);}if(_0x5587e3[_0x4241b6(0x2c0)]===0x0){showToast(_0x4241b6(0x334),![]);return;}sessions['push'](..._0x5587e3),lastUserActionTime=Date[_0x4241b6(0x21f)]();let _0x4d9844=_0x4241b6(0x2ad)+_0x5587e3[_0x4241b6(0x2c0)];_0x44d120>0x0&&(_0x4d9844+='\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20'+_0x44d120+')'),showToast(_0x4d9844,!![]),afterSaveAction(_0x30c9ba);}function updateSeriesBatch(_0x526e54,_0x4c8a21){const _0x323a1e=a2_0x17478a,_0xbfc908=[],_0xc6bba9=_0x4c8a21['seriesId'];if(_0x526e54==='single'){const _0xbf7631={..._0x4c8a21,'seriesId':null},_0x54c968=sessions[_0x323a1e(0x2f2)](_0x324d51=>_0x324d51['id']===_0x4c8a21['id']);if(_0x54c968!==-0x1)sessions[_0x54c968]=_0xbf7631;_0xbfc908[_0x323a1e(0x305)](_0xbf7631[_0x323a1e(0x20e)]);}else{if(_0x526e54===_0x323a1e(0x1fc)){const _0x47b285=_0x4c8a21['dateStr'];sessions['forEach']((_0x4b98c3,_0x77e4e3)=>{const _0x30f180=_0x323a1e;_0x4b98c3[_0x30f180(0x285)]===_0xc6bba9&&_0x4b98c3[_0x30f180(0x20e)]>=_0x47b285&&(sessions[_0x77e4e3]={...sessions[_0x77e4e3],'start':_0x4c8a21[_0x30f180(0x289)],'end':_0x4c8a21[_0x30f180(0x26a)],'note':_0x4c8a21['note'],'client':_0x4c8a21[_0x30f180(0x298)],'clientId':_0x4c8a21['clientId']},_0xbfc908['push'](_0x4b98c3['dateStr']));});}}afterSaveAction(_0xbfc908);}function tryDeleteSession(){const _0x424753=a2_0x17478a,_0x24822=sessions[_0x424753(0x288)](_0x34ee15=>_0x34ee15['id']===editingId);if(!_0x24822)return;_0x24822[_0x424753(0x285)]?openActionSheet(_0x424753(0x293)):commitDelete(_0x424753(0x22a),_0x24822);}function commitDelete(_0x49acb6,_0x58a0cb){const _0x2731fe=a2_0x17478a;lastUserActionTime=Date[_0x2731fe(0x21f)](),NotificationManager[_0x2731fe(0x29a)](_0x2731fe(0x317),_0x58a0cb);const _0x2be336=[];if(_0x49acb6===_0x2731fe(0x22a))sessions=sessions[_0x2731fe(0x2f8)](_0x191b9e=>_0x191b9e['id']!==_0x58a0cb['id']),_0x2be336[_0x2731fe(0x305)](_0x58a0cb[_0x2731fe(0x20e)]);else{if(_0x49acb6===_0x2731fe(0x1fc)){const _0xc97d52=_0x58a0cb[_0x2731fe(0x20e)],_0x2456cb=_0x58a0cb[_0x2731fe(0x285)];sessions[_0x2731fe(0x2c2)](_0x459002=>{const _0x21b54f=_0x2731fe;_0x459002[_0x21b54f(0x285)]===_0x2456cb&&_0x459002['dateStr']>=_0xc97d52&&_0x2be336[_0x21b54f(0x305)](_0x459002['dateStr']);}),sessions=sessions[_0x2731fe(0x2f8)](_0x56de39=>!(_0x56de39[_0x2731fe(0x285)]===_0x2456cb&&_0x56de39['dateStr']>=_0xc97d52));}}afterSaveAction(_0x2be336);}function afterSaveAction(_0x54419e){const _0x539854=a2_0x17478a;DataManager[_0x539854(0x1dc)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x539854(0x357)](_0x54419e)['then'](()=>console[_0x539854(0x28f)](_0x539854(0x29b)))[_0x539854(0x20c)](_0x396067=>showToast(_0x539854(0x278),![]));}const NotificationManager={'formatDate'(_0x6965fa){const _0x569ef3=a2_0x17478a,_0x540b26=new Date(_0x6965fa),_0x28bda5={'weekday':_0x569ef3(0x26b),'day':'numeric','month':_0x569ef3(0x26b)};let _0x419302=_0x540b26['toLocaleDateString'](_0x569ef3(0x307),_0x28bda5);return _0x419302['charAt'](0x0)[_0x569ef3(0x209)]()+_0x419302[_0x569ef3(0x311)](0x1);},'getText'(_0x2a5df2,_0x1e94d9){const _0x45bfd3=a2_0x17478a,_0x50213b=this['formatDate'](_0x1e94d9[_0x45bfd3(0x20e)]);switch(_0x2a5df2){case'create':return'<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a'+(_0x45bfd3(0x252)+_0x50213b+'\x0a')+('<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20'+_0x1e94d9[_0x45bfd3(0x289)]+_0x45bfd3(0x24a)+_0x1e94d9[_0x45bfd3(0x26a)]+'\x0a\x0a')+_0x45bfd3(0x2e1);case _0x45bfd3(0x332):return _0x45bfd3(0x249)+_0x45bfd3(0x28a)+(_0x45bfd3(0x308)+_0x1e94d9[_0x45bfd3(0x289)]+_0x45bfd3(0x24a)+_0x1e94d9[_0x45bfd3(0x26a)]+_0x45bfd3(0x1f6))+(_0x45bfd3(0x252)+_0x50213b);case _0x45bfd3(0x317):return _0x45bfd3(0x315)+(_0x45bfd3(0x2a6)+_0x50213b+'\x20('+_0x1e94d9['start']+_0x45bfd3(0x2aa));case _0x45bfd3(0x1e5):return'<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a'+_0x45bfd3(0x254)+_0x45bfd3(0x214);default:return'';}},async 'send'(_0x5a0c75,_0x37b960){const _0xb8fc39=a2_0x17478a;console[_0xb8fc39(0x28f)]('[Notify]\x20Attempting\x20to\x20send:',_0x5a0c75,_0x37b960);if(!_0x37b960){console[_0xb8fc39(0x26e)](_0xb8fc39(0x1f1));return;}const _0xe1e1fb=String(_0x37b960[_0xb8fc39(0x28c)]);console[_0xb8fc39(0x28f)](_0xb8fc39(0x245),_0xe1e1fb);if(!_0x37b960[_0xb8fc39(0x28c)]||_0xe1e1fb==='undefined'||_0xe1e1fb===_0xb8fc39(0x299)){console[_0xb8fc39(0x26e)](_0xb8fc39(0x2e2));if(_0x37b960[_0xb8fc39(0x298)]){const _0x113e92=clients[_0xb8fc39(0x288)](_0xad9742=>_0xad9742[_0xb8fc39(0x250)]===_0x37b960['client']);if(_0x113e92)return console[_0xb8fc39(0x28f)](_0xb8fc39(0x269),_0x113e92['id']),this['send'](_0x5a0c75,{..._0x37b960,'clientId':_0x113e92['id']});}return;}if(_0xe1e1fb['length']<0x5){console[_0xb8fc39(0x279)](_0xb8fc39(0x223),_0xe1e1fb);return;}const _0xc43698=this['getText'](_0x5a0c75,_0x37b960);if(!_0xc43698){console[_0xb8fc39(0x26e)](_0xb8fc39(0x263));return;}console['log'](_0xb8fc39(0x2a5)+_0xe1e1fb+_0xb8fc39(0x2fb)),DataManager[_0xb8fc39(0x2d1)](_0xb8fc39(0x347),{'chatId':_0xe1e1fb,'text':_0xc43698})[_0xb8fc39(0x295)](_0x5ac49b=>console['log'](_0xb8fc39(0x2ec),_0x5ac49b))[_0xb8fc39(0x20c)](_0x5fba0e=>console[_0xb8fc39(0x26e)](_0xb8fc39(0x2ca),_0x5fba0e));}};function getLocalDateStr(_0x11ced0){const _0xe3370b=a2_0x17478a,_0x2200b7=_0x11ced0[_0xe3370b(0x323)](),_0x506c8a=String(_0x11ced0[_0xe3370b(0x331)]()+0x1)[_0xe3370b(0x2ac)](0x2,'0'),_0x270dbf=String(_0x11ced0[_0xe3370b(0x2cf)]())[_0xe3370b(0x2ac)](0x2,'0');return _0x2200b7+'-'+_0x506c8a+'-'+_0x270dbf;}function getDateStr(_0x552f70){const _0x4a3acc=a2_0x17478a,_0xfaa428=new Date();return _0xfaa428['setDate'](_0xfaa428[_0x4a3acc(0x2cf)]()+_0x552f70),getLocalDateStr(_0xfaa428);}function getStartOfWeek(_0x168d0e){const _0x1e85f5=a2_0x17478a,_0x35b811=new Date(_0x168d0e),_0x4b2b5c=_0x35b811[_0x1e85f5(0x34f)](),_0x319dff=_0x35b811['getDate']()-_0x4b2b5c+(_0x4b2b5c===0x0?-0x6:0x1);return _0x35b811[_0x1e85f5(0x32a)](_0x319dff),_0x35b811['setHours'](0x0,0x0,0x0,0x0),_0x35b811;}function hexToRgba(_0xfa3e5c,_0x370601){const _0x524e2f=a2_0x17478a;if(!_0xfa3e5c)return _0x524e2f(0x333);let _0x3bb8ed=0x0,_0x73cf13=0x0,_0x35a93e=0x0;if(_0xfa3e5c[_0x524e2f(0x2c0)]===0x4)_0x3bb8ed='0x'+_0xfa3e5c[0x1]+_0xfa3e5c[0x1],_0x73cf13='0x'+_0xfa3e5c[0x2]+_0xfa3e5c[0x2],_0x35a93e='0x'+_0xfa3e5c[0x3]+_0xfa3e5c[0x3];else _0xfa3e5c[_0x524e2f(0x2c0)]===0x7&&(_0x3bb8ed='0x'+_0xfa3e5c[0x1]+_0xfa3e5c[0x2],_0x73cf13='0x'+_0xfa3e5c[0x3]+_0xfa3e5c[0x4],_0x35a93e='0x'+_0xfa3e5c[0x5]+_0xfa3e5c[0x6]);return _0x524e2f(0x2b2)+ +_0x3bb8ed+',\x20'+ +_0x73cf13+',\x20'+ +_0x35a93e+',\x20'+_0x370601+')';}function renderTimeColumn(){const _0x416a74=a2_0x17478a,_0x2df61b=document[_0x416a74(0x2da)](_0x416a74(0x354)),_0x3b2126=document[_0x416a74(0x2da)](_0x416a74(0x2eb));_0x2df61b[_0x416a74(0x275)]='',_0x2df61b[_0x416a74(0x231)](_0x3b2126);for(let _0x5970ed=0x0;_0x5970ed<0x18;_0x5970ed++){const _0x2abd28=document[_0x416a74(0x216)]('div');_0x2abd28[_0x416a74(0x2af)]=_0x416a74(0x2ba);if(_0x5970ed>0x0)_0x2abd28['innerHTML']='<span>'+String(_0x5970ed)['padStart'](0x2,'0')+_0x416a74(0x344);_0x2df61b['appendChild'](_0x2abd28);}}function renderDayRange(_0x533b0a,_0x55d02a){const _0x222e61=a2_0x17478a,_0x1c280e=document['getElementById'](_0x222e61(0x2b3)),_0x130d89=document['getElementById'](_0x222e61(0x284)),_0x29f130=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x508982=new Date();_0x508982[_0x222e61(0x2f6)](0x0,0x0,0x0,0x0);const _0x485006=getLocalDateStr(new Date());for(let _0x40c72d=_0x533b0a;_0x40c72d<=_0x55d02a;_0x40c72d++){const _0x15cf64=new Date(_0x508982);_0x15cf64['setDate'](_0x15cf64['getDate']()+_0x40c72d);const _0x487e41=getLocalDateStr(_0x15cf64);let _0x319a45=_0x15cf64[_0x222e61(0x34f)]()-0x1;if(_0x319a45===-0x1)_0x319a45=0x6;const _0x5f7c6=_0x487e41===_0x485006,_0x34d248=document['createElement'](_0x222e61(0x29e));_0x34d248[_0x222e61(0x2af)]=_0x222e61(0x359)+(_0x5f7c6?_0x222e61(0x2cd):''),_0x34d248['id']=_0x222e61(0x274)+_0x487e41,_0x34d248[_0x222e61(0x225)]('data-date',_0x487e41),_0x34d248[_0x222e61(0x275)]=_0x222e61(0x309)+_0x29f130[_0x319a45]+_0x222e61(0x32f)+_0x15cf64[_0x222e61(0x2cf)]()+_0x222e61(0x35c)+_0x487e41+_0x222e61(0x30c),_0x34d248[_0x222e61(0x342)]=()=>openDayOptions(_0x487e41,_0x29f130[_0x319a45]+'\x20'+_0x15cf64['getDate']()),_0x1c280e[_0x222e61(0x231)](_0x34d248);const _0x54ffa9=document['createElement']('div');_0x54ffa9[_0x222e61(0x2af)]=_0x222e61(0x25f)+(_0x5f7c6?_0x222e61(0x2cd):''),_0x54ffa9['setAttribute'](_0x222e61(0x243),_0x487e41),_0x54ffa9[_0x222e61(0x225)]('data-day-idx',_0x319a45),renderEventsForColumn(_0x54ffa9,_0x487e41,_0x319a45),attachLongPressHandler(_0x54ffa9,_0x15cf64),_0x130d89[_0x222e61(0x231)](_0x54ffa9),updateDayStats(_0x487e41);}}function reRenderBlocks(){const _0x3e7459=a2_0x17478a;document[_0x3e7459(0x2e6)](_0x3e7459(0x283))[_0x3e7459(0x2c2)](_0x37d791=>{const _0x4f46ec=_0x3e7459;_0x37d791[_0x4f46ec(0x2e6)](_0x4f46ec(0x2c1))[_0x4f46ec(0x2c2)](_0x225ab1=>_0x225ab1[_0x4f46ec(0x30d)]());const _0x293057=_0x37d791[_0x4f46ec(0x345)](_0x4f46ec(0x243)),_0x122099=parseInt(_0x37d791[_0x4f46ec(0x345)]('data-day-idx')),_0x50e8ae=Math['round'](_0x37d791[_0x4f46ec(0x34d)]);(availabilityPattern[_0x122099]||[])['forEach'](_0x440efe=>{const _0x2242fb=_0x4f46ec,_0x1b6452=document[_0x2242fb(0x216)](_0x2242fb(0x29e));_0x1b6452[_0x2242fb(0x2af)]=_0x2242fb(0x213);const _0x490d25=_0x440efe*GRID_H;_0x1b6452['style'][_0x2242fb(0x22f)]=_0x490d25+'px',_0x1b6452[_0x2242fb(0x31e)][_0x2242fb(0x1e7)]='-'+_0x50e8ae+_0x2242fb(0x32e)+_0x490d25+'px',_0x37d791[_0x2242fb(0x231)](_0x1b6452);});if(specialRanges&&specialRanges[_0x4f46ec(0x2c0)]>0x0){const _0x206b09=new Date(_0x293057+_0x4f46ec(0x1ea))['getTime'](),_0x5ef4bd=new Date(_0x293057+'T23:59:59')[_0x4f46ec(0x1df)]();specialRanges[_0x4f46ec(0x2c2)](_0x335ab1=>{const _0x5c9a44=_0x4f46ec,_0x49769d=new Date(_0x335ab1[_0x5c9a44(0x289)])[_0x5c9a44(0x1df)](),_0x1174cf=new Date(_0x335ab1[_0x5c9a44(0x26a)])[_0x5c9a44(0x1df)](),_0x30589e=Math[_0x5c9a44(0x239)](_0x206b09,_0x49769d),_0x3df74e=Math[_0x5c9a44(0x210)](_0x5ef4bd,_0x1174cf);if(_0x30589e<_0x3df74e){if(_0x30589e<=_0x206b09&&_0x3df74e>=_0x5ef4bd-0xea60){if(!_0x37d791['querySelector'](_0x5c9a44(0x2a3))){const _0x182054=document['createElement']('div');_0x182054[_0x5c9a44(0x2af)]='day-off-overlay\x20stripe-bg',_0x182054[_0x5c9a44(0x31e)][_0x5c9a44(0x1e7)]='-'+_0x50e8ae+_0x5c9a44(0x34c),_0x37d791['appendChild'](_0x182054);}}else{const _0x3abb62=(_0x30589e-_0x206b09)/0x36ee80*GRID_H,_0xb864b=(_0x3df74e-_0x30589e)/0x36ee80*GRID_H,_0x447a99=document[_0x5c9a44(0x216)](_0x5c9a44(0x29e));_0x447a99[_0x5c9a44(0x2af)]=_0x5c9a44(0x1fb),_0x447a99[_0x5c9a44(0x31e)][_0x5c9a44(0x22f)]=_0x3abb62+'px',_0x447a99[_0x5c9a44(0x31e)][_0x5c9a44(0x350)]=_0xb864b+'px',_0x447a99[_0x5c9a44(0x31e)]['backgroundPosition']='-'+_0x50e8ae+'px\x20-'+_0x3abb62+'px',_0x37d791[_0x5c9a44(0x231)](_0x447a99);}}});}if(dateExceptions[_0x293057]==='off'){if(!_0x37d791['querySelector'](_0x4f46ec(0x2a3))){const _0x7ba8e1=document[_0x4f46ec(0x216)]('div');_0x7ba8e1[_0x4f46ec(0x2af)]=_0x4f46ec(0x224),_0x7ba8e1[_0x4f46ec(0x31e)][_0x4f46ec(0x1e7)]='-'+_0x50e8ae+'px\x200px',_0x37d791[_0x4f46ec(0x231)](_0x7ba8e1);}}renderEventsForColumn(_0x37d791,_0x293057,_0x122099),updateDayStats(_0x293057);});}function updateAllDayStats(){const _0x2c6d5c=a2_0x17478a;document['querySelectorAll']('.day-col-header')[_0x2c6d5c(0x2c2)](_0x56a066=>{const _0x57adbf=_0x2c6d5c;updateDayStats(_0x56a066[_0x57adbf(0x345)](_0x57adbf(0x243)));});}function updateDayStats(_0x506295){const _0x4487c0=a2_0x17478a,_0x2cc0ff=document[_0x4487c0(0x2da)](_0x4487c0(0x351)+_0x506295);if(!_0x2cc0ff)return;const _0x46cd8e=new Date(_0x506295);let _0x1a3a7a=_0x46cd8e[_0x4487c0(0x34f)]()-0x1;if(_0x1a3a7a===-0x1)_0x1a3a7a=0x6;if(dateExceptions[_0x506295]===_0x4487c0(0x2f7)){_0x2cc0ff['style'][_0x4487c0(0x1da)]=_0x4487c0(0x336);return;}const _0x3232b0=availabilityPattern[_0x1a3a7a]||[],_0x46f72b=0x18-_0x3232b0['length'],_0x25057b=_0x46f72b*0x3c,_0x150db8=sessions[_0x4487c0(0x2f8)](_0x20239d=>_0x20239d[_0x4487c0(0x20e)]===_0x506295&&_0x20239d[_0x4487c0(0x25d)]!=='cancelled');if(_0x150db8[_0x4487c0(0x2c0)]===0x0){_0x2cc0ff[_0x4487c0(0x31e)][_0x4487c0(0x1da)]=_0x4487c0(0x336);return;}let _0x3be184=_0x150db8[_0x4487c0(0x22b)](_0x1ffb90=>{const _0x1e8212=_0x4487c0,[_0x2bc58d,_0x1b7370]=_0x1ffb90[_0x1e8212(0x289)][_0x1e8212(0x2ff)](':')[_0x1e8212(0x22b)](Number),[_0x5bac24,_0x27c360]=_0x1ffb90[_0x1e8212(0x26a)][_0x1e8212(0x2ff)](':')[_0x1e8212(0x22b)](Number);return[_0x2bc58d*0x3c+_0x1b7370,_0x5bac24*0x3c+_0x27c360];});_0x3be184[_0x4487c0(0x33c)]((_0x44fe60,_0x3e7b48)=>_0x44fe60[0x0]-_0x3e7b48[0x0]);let _0x37ae3d=[];if(_0x3be184[_0x4487c0(0x2c0)]>0x0){let _0x1af3ca=_0x3be184[0x0];for(let _0x25a577=0x1;_0x25a577<_0x3be184[_0x4487c0(0x2c0)];_0x25a577++){_0x3be184[_0x25a577][0x0]<_0x1af3ca[0x1]?_0x1af3ca[0x1]=Math[_0x4487c0(0x239)](_0x1af3ca[0x1],_0x3be184[_0x25a577][0x1]):(_0x37ae3d[_0x4487c0(0x305)](_0x1af3ca),_0x1af3ca=_0x3be184[_0x25a577]);}_0x37ae3d['push'](_0x1af3ca);}let _0x19b83d=0x0;_0x37ae3d[_0x4487c0(0x2c2)](_0x1446e1=>_0x19b83d+=_0x1446e1[0x1]-_0x1446e1[0x0]),_0x2cc0ff[_0x4487c0(0x31e)][_0x4487c0(0x1da)]=_0x4487c0(0x21c);const _0x13b354=_0x2cc0ff['querySelector'](_0x4487c0(0x264));if(_0x25057b===0x0){_0x13b354[_0x4487c0(0x31e)][_0x4487c0(0x2e7)]=_0x4487c0(0x2df),_0x13b354['style'][_0x4487c0(0x21b)]=_0x4487c0(0x28b);return;}const _0x322cb8=_0x19b83d/_0x25057b*0x64;console['log']('['+_0x506295+_0x4487c0(0x206)+_0x46f72b+_0x4487c0(0x296)+_0x19b83d+_0x4487c0(0x27b)+_0x322cb8[_0x4487c0(0x29f)](0x1)+'%'),_0x322cb8>0x64?(_0x13b354[_0x4487c0(0x31e)][_0x4487c0(0x2e7)]=_0x4487c0(0x2df),_0x13b354[_0x4487c0(0x31e)]['background']=_0x4487c0(0x28b)):(_0x13b354['style'][_0x4487c0(0x2e7)]=_0x322cb8+'%',_0x13b354[_0x4487c0(0x31e)][_0x4487c0(0x21b)]=_0x4487c0(0x338));}function renderEventsForColumn(_0x529240,_0x2df916,_0xec3adb){const _0x4d3f0e=a2_0x17478a,_0x418cd1=sessions['filter'](_0x1f19e0=>_0x1f19e0[_0x4d3f0e(0x20e)]===_0x2df916),_0x3461f4=_0x418cd1['map'](_0x120caa=>{const _0x57bf8c=_0x4d3f0e,[_0x1cdce2,_0x183ec6]=_0x120caa['start'][_0x57bf8c(0x2ff)](':')[_0x57bf8c(0x22b)](Number),[_0x87f4b8,_0x52227e]=_0x120caa[_0x57bf8c(0x26a)][_0x57bf8c(0x2ff)](':')[_0x57bf8c(0x22b)](Number);return{'data':_0x120caa,'start':_0x1cdce2*0x3c+_0x183ec6,'end':_0x87f4b8*0x3c+_0x52227e,'colIndex':0x0};});_0x3461f4[_0x4d3f0e(0x33c)]((_0x476f39,_0x17a623)=>{const _0x5525ea=_0x4d3f0e;if(_0x476f39[_0x5525ea(0x289)]!==_0x17a623[_0x5525ea(0x289)])return _0x476f39[_0x5525ea(0x289)]-_0x17a623[_0x5525ea(0x289)];return _0x17a623[_0x5525ea(0x26a)]-_0x17a623[_0x5525ea(0x289)]-(_0x476f39['end']-_0x476f39[_0x5525ea(0x289)]);});const _0x65930a=[];_0x3461f4['forEach'](_0x25c52e=>{const _0x4e6fe9=_0x4d3f0e;let _0x1ee797=![];for(let _0x3b0c49=0x0;_0x3b0c49<_0x65930a['length'];_0x3b0c49++){const _0x453629=_0x65930a[_0x3b0c49],_0x124e47=_0x453629[_0x453629[_0x4e6fe9(0x2c0)]-0x1];if(_0x25c52e['start']>=_0x124e47[_0x4e6fe9(0x26a)]){_0x453629[_0x4e6fe9(0x305)](_0x25c52e),_0x25c52e[_0x4e6fe9(0x238)]=_0x3b0c49,_0x1ee797=!![];break;}}!_0x1ee797&&(_0x65930a[_0x4e6fe9(0x305)]([_0x25c52e]),_0x25c52e['colIndex']=_0x65930a[_0x4e6fe9(0x2c0)]-0x1);}),_0x3461f4[_0x4d3f0e(0x2c2)](_0x1e8670=>{const _0x140e9a=_0x4d3f0e;let _0x2fcf54=0x0;_0x3461f4['forEach'](_0x3f991a=>{const _0x1b2545=a2_0x2e5c;if(Math[_0x1b2545(0x239)](_0x1e8670[_0x1b2545(0x289)],_0x3f991a[_0x1b2545(0x289)])<Math['min'](_0x1e8670['end'],_0x3f991a['end'])){if(_0x3f991a['colIndex']>_0x2fcf54)_0x2fcf54=_0x3f991a[_0x1b2545(0x238)];}});const _0x27b1ee=_0x2fcf54+0x1,_0x533c2e=0x64/_0x27b1ee,_0x3a4f92=_0x1e8670['colIndex']*_0x533c2e,_0xf2e2b2=createEventEl(_0x1e8670[_0x140e9a(0x280)]);_0xf2e2b2[_0x140e9a(0x31e)][_0x140e9a(0x2e7)]=_0x140e9a(0x2d6)+_0x533c2e+_0x140e9a(0x2c6),_0xf2e2b2[_0x140e9a(0x31e)][_0x140e9a(0x29c)]=_0x140e9a(0x2d6)+_0x3a4f92+_0x140e9a(0x256),_0xf2e2b2[_0x140e9a(0x31e)][_0x140e9a(0x30b)]=0xa+_0x1e8670[_0x140e9a(0x238)],_0x533c2e<0x55&&_0xf2e2b2[_0x140e9a(0x26d)][_0x140e9a(0x201)](_0x140e9a(0x282)),_0x529240['appendChild'](_0xf2e2b2);});}function createEventEl(_0x7be815){const _0x5c84bd=a2_0x17478a,[_0x5a5944,_0x55424c]=_0x7be815[_0x5c84bd(0x289)][_0x5c84bd(0x2ff)](':')[_0x5c84bd(0x22b)](Number),[_0x589e45,_0x76be0a]=_0x7be815['end'][_0x5c84bd(0x2ff)](':')[_0x5c84bd(0x22b)](Number),_0x5851b0=(_0x5a5944*0x3c+_0x55424c)/0x3c*GRID_H,_0x3cdf14=(_0x589e45*0x3c+_0x76be0a-(_0x5a5944*0x3c+_0x55424c))/0x3c*GRID_H,_0x39b2e0=document[_0x5c84bd(0x216)]('div'),_0x4b8801=_0x7be815['status']===_0x5c84bd(0x25a)?'\x20status-completed':'';_0x39b2e0['className']=_0x5c84bd(0x328)+_0x4b8801,_0x39b2e0[_0x5c84bd(0x31e)][_0x5c84bd(0x22f)]=_0x5851b0+'px',_0x39b2e0[_0x5c84bd(0x31e)][_0x5c84bd(0x350)]=Math[_0x5c84bd(0x239)](_0x3cdf14,0x14)+'px';const _0x45b452=clients[_0x5c84bd(0x288)](_0x1ab375=>_0x7be815[_0x5c84bd(0x28c)]&&String(_0x1ab375['id'])===String(_0x7be815[_0x5c84bd(0x28c)])||_0x1ab375[_0x5c84bd(0x250)]===_0x7be815['client']),_0x156e8b=_0x45b452?_0x45b452[_0x5c84bd(0x322)]:_0x5c84bd(0x31f);_0x39b2e0['style']['borderLeftColor']=_0x156e8b,_0x39b2e0[_0x5c84bd(0x31e)][_0x5c84bd(0x352)]=hexToRgba(_0x156e8b,0.85);let _0xaf25dd=_0x5c84bd(0x2e5)+_0x7be815[_0x5c84bd(0x298)]+'</div><div\x20class=\x22ev-time\x22>'+_0x7be815[_0x5c84bd(0x289)]+_0x5c84bd(0x32d)+_0x7be815['end']+_0x5c84bd(0x204);return _0x7be815['seriesId']&&(_0xaf25dd+=_0x5c84bd(0x326)),_0x7be815[_0x5c84bd(0x25d)]===_0x5c84bd(0x25a)&&(_0xaf25dd+=_0x5c84bd(0x27a)),_0x39b2e0[_0x5c84bd(0x275)]=_0xaf25dd,_0x39b2e0[_0x5c84bd(0x342)]=_0x50b003=>{const _0x28d41d=_0x5c84bd;_0x50b003[_0x28d41d(0x21d)](),openEdit(_0x7be815);},_0x39b2e0;}function attachLongPressHandler(_0x311863,_0x263b17){const _0x23239e=a2_0x17478a;let _0x2c7bfd=0x0,_0x28d01b=null;const _0x51f244=_0x412b56=>{const _0x3b86a8=a2_0x2e5c;if(_0x412b56['target'][_0x3b86a8(0x1f3)](_0x3b86a8(0x266)))return;isScrolling=![],_0x2c7bfd=_0x412b56['touches']?_0x412b56[_0x3b86a8(0x2b8)][0x0][_0x3b86a8(0x2f0)]:_0x412b56['clientY'],_0x28d01b=setTimeout(()=>{const _0x2663cf=_0x3b86a8;if(!isScrolling){navigator[_0x2663cf(0x23a)]?.(0x32);const _0x365975=_0x311863[_0x2663cf(0x2f4)](),_0x31ab84=Math['floor']((_0x2c7bfd-_0x365975[_0x2663cf(0x22f)])/GRID_H);_0x263b17[_0x2663cf(0x2f6)](_0x31ab84,0x0),openAddSession(_0x263b17);}},0x1f4);},_0x338309=()=>{isScrolling=!![],clearTimeout(_0x28d01b);},_0x300643=()=>{clearTimeout(_0x28d01b);};_0x311863[_0x23239e(0x22c)](_0x23239e(0x2cb),_0x51f244,{'passive':!![]}),_0x311863['addEventListener']('touchmove',_0x338309,{'passive':!![]}),_0x311863[_0x23239e(0x22c)](_0x23239e(0x2e4),_0x300643),_0x311863['addEventListener'](_0x23239e(0x23e),_0x51f244),_0x311863[_0x23239e(0x22c)](_0x23239e(0x218),_0x338309),_0x311863[_0x23239e(0x22c)]('mouseup',_0x300643);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x2b3884=a2_0x17478a,_0x53b450=document[_0x2b3884(0x2da)]('matrixViewport'),_0x3c23bf=_0x53b450[_0x2b3884(0x349)],_0x585f02=_0x53b450[_0x2b3884(0x212)],_0x1556ed=_0x53b450[_0x2b3884(0x25c)];if(_0x585f02-(_0x3c23bf+_0x1556ed)<0x12c){const _0x2872f9=endOffset;endOffset+=0xe,renderDayRange(_0x2872f9+0x1,endOffset),reRenderBlocks();}if(_0x3c23bf<0x12c){const _0x27a5ce=startOffset;startOffset-=0xe,prependDays(startOffset,_0x27a5ce-0x1),_0x53b450[_0x2b3884(0x349)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x39865c,_0x4bb8a5){const _0x10526b=a2_0x17478a,_0x518a63=document[_0x10526b(0x2da)](_0x10526b(0x2b3)),_0x3301e3=document['getElementById'](_0x10526b(0x284)),_0x2bad7c=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x33ba2b=new Date();_0x33ba2b[_0x10526b(0x2f6)](0x0,0x0,0x0,0x0);const _0x4505f9=getLocalDateStr(new Date()),_0x4c1253=document[_0x10526b(0x246)](),_0x832425=document[_0x10526b(0x246)]();for(let _0x5a4787=_0x39865c;_0x5a4787<=_0x4bb8a5;_0x5a4787++){const _0x55da7f=new Date(_0x33ba2b);_0x55da7f[_0x10526b(0x32a)](_0x55da7f['getDate']()+_0x5a4787);const _0x5cde78=getLocalDateStr(_0x55da7f);let _0x37e259=_0x55da7f['getDay']()-0x1;if(_0x37e259===-0x1)_0x37e259=0x6;const _0x44a79e=_0x5cde78===_0x4505f9,_0x464b21=document[_0x10526b(0x216)](_0x10526b(0x29e));_0x464b21[_0x10526b(0x2af)]=_0x10526b(0x359)+(_0x44a79e?_0x10526b(0x2cd):''),_0x464b21['id']=_0x10526b(0x274)+_0x5cde78,_0x464b21[_0x10526b(0x225)](_0x10526b(0x243),_0x5cde78),_0x464b21['innerHTML']=_0x10526b(0x309)+_0x2bad7c[_0x37e259]+_0x10526b(0x32f)+_0x55da7f[_0x10526b(0x2cf)]()+_0x10526b(0x35c)+_0x5cde78+_0x10526b(0x30c),_0x464b21[_0x10526b(0x342)]=()=>openDayOptions(_0x5cde78,_0x2bad7c[_0x37e259]+'\x20'+_0x55da7f['getDate']()),_0x4c1253[_0x10526b(0x231)](_0x464b21);const _0x2a3a06=document[_0x10526b(0x216)]('div');_0x2a3a06[_0x10526b(0x2af)]=_0x10526b(0x25f)+(_0x44a79e?'today':''),_0x2a3a06[_0x10526b(0x225)](_0x10526b(0x243),_0x5cde78),_0x2a3a06['setAttribute']('data-day-idx',_0x37e259),renderEventsForColumn(_0x2a3a06,_0x5cde78,_0x37e259),attachLongPressHandler(_0x2a3a06,_0x55da7f),_0x832425[_0x10526b(0x231)](_0x2a3a06),updateDayStats(_0x5cde78);}_0x518a63[_0x10526b(0x1f5)](_0x4c1253,_0x518a63[_0x10526b(0x343)]),_0x3301e3[_0x10526b(0x1f5)](_0x832425,_0x3301e3['querySelector']('.day-column'));}function validateAppointment(_0x4c75ac,_0x50de05,_0x1bf3b0,_0x5b1bad,_0x1108a7){const _0x5b4b46=a2_0x17478a,[_0x394146,_0x117d5e]=_0x50de05[_0x5b4b46(0x2ff)](':')['map'](Number),[_0x198ebe,_0xac32a1]=_0x1bf3b0[_0x5b4b46(0x2ff)](':')[_0x5b4b46(0x22b)](Number),_0x4b5d57=_0x394146*0x3c+_0x117d5e,_0x24b518=_0x198ebe*0x3c+_0xac32a1,_0xc86949=String(_0x1108a7);let _0x49d2f6=![],_0x4c1ddb='';for(let _0x40daa9 of sessions){if(_0x40daa9['dateStr']!==_0x4c75ac)continue;if(_0x40daa9[_0x5b4b46(0x25d)]===_0x5b4b46(0x20a))continue;if(_0x5b1bad&&String(_0x40daa9['id'])===String(_0x5b1bad))continue;const [_0x208a8e,_0x402b0b]=_0x40daa9[_0x5b4b46(0x289)][_0x5b4b46(0x2ff)](':')['map'](Number),[_0x13602b,_0x183b70]=_0x40daa9[_0x5b4b46(0x26a)][_0x5b4b46(0x2ff)](':')[_0x5b4b46(0x22b)](Number),_0x5c1111=_0x208a8e*0x3c+_0x402b0b,_0x41c950=_0x13602b*0x3c+_0x183b70;if(Math['max'](_0x4b5d57,_0x5c1111)<Math[_0x5b4b46(0x210)](_0x24b518,_0x41c950)){if(_0x40daa9[_0x5b4b46(0x28c)]&&String(_0x40daa9['clientId'])===_0xc86949)return{'valid':![],'msg':_0x5b4b46(0x1e3)+_0x40daa9['client']+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x49d2f6=!![],_0x4c1ddb=_0x40daa9[_0x5b4b46(0x298)];}}if(_0x49d2f6)return{'valid':!![],'warning':_0x5b4b46(0x276)+_0x4c1ddb};return{'valid':!![]};}function updateDateDisplay(){const _0x404349=a2_0x17478a,_0x3e6f9e=document[_0x404349(0x2da)](_0x404349(0x244))[_0x404349(0x235)],_0x35d56e=document[_0x404349(0x2da)]('sheetDateSubtitle');if(!_0x3e6f9e){_0x35d56e['textContent']='';return;}const [_0x362935,_0x482822,_0x74cfc9]=_0x3e6f9e['split']('-')['map'](Number),_0x4badb8=new Date(_0x362935,_0x482822-0x1,_0x74cfc9),_0x36e185={'weekday':_0x404349(0x26b),'day':_0x404349(0x1e6),'month':_0x404349(0x26b),'year':_0x404349(0x1e6)};let _0x429001=_0x4badb8[_0x404349(0x32c)](_0x404349(0x307),_0x36e185);_0x429001=_0x429001[_0x404349(0x339)](0x0)[_0x404349(0x209)]()+_0x429001[_0x404349(0x311)](0x1),_0x35d56e[_0x404349(0x2f3)]=_0x429001;}function autoSetEndTime(){const _0x168df4=a2_0x17478a,_0x2032d0=document[_0x168df4(0x2da)]('inpStart')[_0x168df4(0x235)];if(!_0x2032d0)return;const [_0x288031,_0x421664]=_0x2032d0[_0x168df4(0x2ff)](':')[_0x168df4(0x22b)](Number);let _0xc1f0e=_0x288031+0x1;if(_0xc1f0e>0x17)_0xc1f0e=0x0;const _0x4bec5d=String(_0xc1f0e)[_0x168df4(0x2ac)](0x2,'0')+':'+String(_0x421664)[_0x168df4(0x2ac)](0x2,'0');document[_0x168df4(0x2da)](_0x168df4(0x2ab))['value']=_0x4bec5d;}function populateClientSelect(){const _0x11d431=a2_0x17478a,_0x4dd302=document[_0x11d431(0x2da)]('inpClient');_0x4dd302['innerHTML']='';if(clients[_0x11d431(0x2c0)]===0x0){const _0xb9787c=document['createElement'](_0x11d431(0x2c5));_0xb9787c[_0x11d431(0x2d0)]='–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤',_0x4dd302[_0x11d431(0x231)](_0xb9787c);return;}clients[_0x11d431(0x2c2)](_0x16adc8=>{const _0xe32900=_0x11d431,_0x53563a=document[_0xe32900(0x216)]('option');_0x53563a[_0xe32900(0x235)]=_0x16adc8[_0xe32900(0x250)],_0x53563a[_0xe32900(0x2f3)]=_0x16adc8[_0xe32900(0x250)],_0x4dd302[_0xe32900(0x231)](_0x53563a);});}function openActionSheet(_0x15f649){const _0x61bbb6=a2_0x17478a,_0x5e5226=document['getElementById']('actionSheet'),_0xb97db9=document[_0x61bbb6(0x2da)](_0x61bbb6(0x24d)),_0x13dbb4=document[_0x61bbb6(0x2da)]('asTitle'),_0x314d62=document[_0x61bbb6(0x2da)](_0x61bbb6(0x297)),_0x4e743c=document[_0x61bbb6(0x2da)](_0x61bbb6(0x220));_0xb97db9[_0x61bbb6(0x26d)][_0x61bbb6(0x201)](_0x61bbb6(0x271)),_0x5e5226[_0x61bbb6(0x26d)]['add']('open');if(_0x15f649===_0x61bbb6(0x320))_0x13dbb4['textContent']=_0x61bbb6(0x348),_0x314d62[_0x61bbb6(0x2f3)]=_0x61bbb6(0x217),_0x314d62[_0x61bbb6(0x342)]=()=>{const _0x219678=_0x61bbb6;closeActionSheet(),updateSeriesBatch(_0x219678(0x22a),tempSessionData);},_0x4e743c['textContent']=_0x61bbb6(0x312),_0x4e743c[_0x61bbb6(0x342)]=()=>{closeActionSheet(),updateSeriesBatch('series',tempSessionData);};else _0x15f649==='delete'&&(_0x13dbb4[_0x61bbb6(0x2f3)]=_0x61bbb6(0x230),_0x314d62['textContent']='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x314d62[_0x61bbb6(0x2af)]=_0x61bbb6(0x257),_0x314d62[_0x61bbb6(0x342)]=()=>{const _0x55448b=_0x61bbb6;closeActionSheet(),commitDelete(_0x55448b(0x22a),sessions['find'](_0x31aca3=>_0x31aca3['id']===editingId));},_0x4e743c[_0x61bbb6(0x2f3)]='–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ',_0x4e743c[_0x61bbb6(0x2af)]='as-button\x20danger\x20bold',_0x4e743c[_0x61bbb6(0x342)]=()=>{const _0x4097be=_0x61bbb6;closeActionSheet(),commitDelete(_0x4097be(0x1fc),sessions[_0x4097be(0x288)](_0x288d7d=>_0x288d7d['id']===editingId));});}function closeActionSheet(){const _0x8f3662=a2_0x17478a;document[_0x8f3662(0x2da)](_0x8f3662(0x1e1))['classList'][_0x8f3662(0x30d)](_0x8f3662(0x310)),document[_0x8f3662(0x2da)](_0x8f3662(0x24d))['classList'][_0x8f3662(0x30d)]('active');}function openSettings(){const _0x2ad36b=a2_0x17478a;openSheet(_0x2ad36b(0x203));}function saveCoachSettings(){const _0x4e6852=a2_0x17478a,_0xe908d4=document['getElementById'](_0x4e6852(0x2ce))[_0x4e6852(0x235)];localStorage['setItem'](_0x4e6852(0x1ec),_0xe908d4),console['log'](_0x4e6852(0x2fd),_0xe908d4),DataManager[_0x4e6852(0x2d1)](_0x4e6852(0x286),{'settings':{'cancel_window':_0xe908d4}})[_0x4e6852(0x20c)](_0x3c2329=>{const _0x3ed06d=_0x4e6852;console[_0x3ed06d(0x26e)](_0x3ed06d(0x287),_0x3c2329),showToast(_0x3ed06d(0x301),![]);});}function loadCoachSettings(){const _0x5d347d=a2_0x17478a,_0x33a558=localStorage[_0x5d347d(0x2d4)](_0x5d347d(0x1ec));_0x33a558&&(document[_0x5d347d(0x2da)](_0x5d347d(0x2ce))[_0x5d347d(0x235)]=_0x33a558);}function openRangesSheet(){const _0x2c758f=a2_0x17478a;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x2c758f(0x236));}function addRange(){const _0x4dc502=a2_0x17478a,_0x1bd6a0=document[_0x4dc502(0x2da)](_0x4dc502(0x2a0))[_0x4dc502(0x235)],_0xfaeb92=document['getElementById'](_0x4dc502(0x27f))['value'],_0x172555=document[_0x4dc502(0x2da)]('rangeEndDate')[_0x4dc502(0x235)],_0x5927bd=document[_0x4dc502(0x2da)](_0x4dc502(0x33d))['value'];if(!_0x1bd6a0||!_0xfaeb92||!_0x172555||!_0x5927bd)return alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è');const _0x4db029=_0x1bd6a0+'T'+_0xfaeb92,_0x2cd9fd=_0x172555+'T'+_0x5927bd;if(_0x4db029>=_0x2cd9fd)return alert(_0x4dc502(0x1d7));specialRanges['push']({'start':_0x4db029,'end':_0x2cd9fd}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x4dc502(0x1dc)](),DataManager[_0x4dc502(0x2d1)](_0x4dc502(0x286),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x16399e){const _0x29e93e=a2_0x17478a;specialRanges[_0x29e93e(0x2bf)](_0x16399e,0x1),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x29e93e(0x2d1)](_0x29e93e(0x286),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x37f23e=a2_0x17478a;document[_0x37f23e(0x2da)](_0x37f23e(0x2a0))[_0x37f23e(0x235)]='',document[_0x37f23e(0x2da)](_0x37f23e(0x27f))[_0x37f23e(0x235)]='00:00',document['getElementById'](_0x37f23e(0x330))['value']='',document[_0x37f23e(0x2da)]('rangeEndTime')['value']=_0x37f23e(0x2bc);}function renderRangesList(){const _0xe1427f=a2_0x17478a,_0x32efab=document['getElementById'](_0xe1427f(0x319));_0x32efab[_0xe1427f(0x275)]='';if(!specialRanges['length']){_0x32efab[_0xe1427f(0x275)]=_0xe1427f(0x2d7);return;}specialRanges[_0xe1427f(0x2c2)]((_0x19ff66,_0x38a61c)=>{const _0x35c4de=_0xe1427f,_0x155ccf=document[_0x35c4de(0x216)](_0x35c4de(0x29e));_0x155ccf[_0x35c4de(0x2af)]=_0x35c4de(0x33a);const _0x4b891b=_0x2993bd=>{const _0x5f299b=_0x35c4de,_0x31bf83=new Date(_0x2993bd);return _0x31bf83[_0x5f299b(0x2cf)]()+'.'+String(_0x31bf83[_0x5f299b(0x331)]()+0x1)[_0x5f299b(0x2ac)](0x2,'0')+'\x20'+String(_0x31bf83[_0x5f299b(0x272)]())[_0x5f299b(0x2ac)](0x2,'0')+':'+String(_0x31bf83[_0x5f299b(0x1fe)]())[_0x5f299b(0x2ac)](0x2,'0');};_0x155ccf[_0x35c4de(0x275)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>'+_0x4b891b(_0x19ff66[_0x35c4de(0x289)])+_0x35c4de(0x24a)+_0x4b891b(_0x19ff66[_0x35c4de(0x26a)])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange('+_0x38a61c+')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>',_0x32efab[_0x35c4de(0x231)](_0x155ccf);});}function scrollToToday(){const _0x5a76ca=a2_0x17478a,_0x26bd4f=getLocalDateStr(new Date()),_0x55a97c=document[_0x5a76ca(0x2da)](_0x5a76ca(0x274)+_0x26bd4f),_0x5e3c0f=document[_0x5a76ca(0x2da)]('matrixViewport');if(_0x55a97c&&_0x5e3c0f){const _0x25db90=_0x5e3c0f[_0x5a76ca(0x25c)],_0x4bdf92=_0x55a97c[_0x5a76ca(0x34d)],_0x417a8f=_0x55a97c['offsetWidth'];_0x5e3c0f[_0x5a76ca(0x349)]=_0x4bdf92-_0x25db90/0x2+_0x417a8f/0x2,_0x5e3c0f[_0x5a76ca(0x31a)]=0x9*GRID_H;}}function onScroll(){const _0x5d5a1f=a2_0x17478a,_0x429352=document['getElementById']('matrixViewport'),_0x1041fc=document[_0x5d5a1f(0x2e6)](_0x5d5a1f(0x300));for(let _0x3536c2 of _0x1041fc)if(_0x3536c2[_0x5d5a1f(0x34d)]>=_0x429352[_0x5d5a1f(0x349)]){const _0x7e1855=new Date(_0x3536c2[_0x5d5a1f(0x345)](_0x5d5a1f(0x243)));document[_0x5d5a1f(0x2da)](_0x5d5a1f(0x35a))[_0x5d5a1f(0x2f3)]=_0x7e1855[_0x5d5a1f(0x228)]('ru',{'month':_0x5d5a1f(0x26b)})[_0x5d5a1f(0x209)]()+'\x20'+_0x7e1855[_0x5d5a1f(0x323)]();break;}}function showToast(_0x391856,_0x3dad3b=![]){const _0x222c40=a2_0x17478a,_0x1c355f=document[_0x222c40(0x2da)](_0x222c40(0x267));_0x1c355f[_0x222c40(0x2af)]=_0x222c40(0x31d)+(_0x3dad3b?_0x222c40(0x2bb):''),document[_0x222c40(0x2da)](_0x222c40(0x2f1))[_0x222c40(0x2f3)]=_0x3dad3b?'–£—Å–ø–µ—à–Ω–æ':_0x222c40(0x321),document[_0x222c40(0x2da)](_0x222c40(0x2ed))['textContent']=_0x391856,_0x1c355f['classList'][_0x222c40(0x201)]('show'),setTimeout(()=>{const _0xd2714d=_0x222c40;_0x1c355f[_0xd2714d(0x26d)][_0xd2714d(0x30d)]('show');},0xbb8);}function openDayOptions(_0x2565be,_0x4655fb){const _0x56755f=a2_0x17478a;selectedDayForOptions=_0x2565be,document[_0x56755f(0x2da)](_0x56755f(0x2c7))[_0x56755f(0x2f3)]=_0x4655fb,openSheet(_0x56755f(0x27d));}function toggleDayOff(){const _0x36bac4=a2_0x17478a;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x36bac4(0x2f7),reRenderBlocks(),closeAllSheets(),DataManager[_0x36bac4(0x1dc)](),DataManager[_0x36bac4(0x2d1)]('save_settings',{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x17b7ab=a2_0x17478a;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x17b7ab(0x1dc)](),DataManager[_0x17b7ab(0x2d1)](_0x17b7ab(0x286),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x251a5a){const _0x31174f=a2_0x17478a;document[_0x31174f(0x2da)](_0x31174f(0x2b5))[_0x31174f(0x26d)][_0x31174f(0x201)]('active'),document[_0x31174f(0x2da)](_0x251a5a)[_0x31174f(0x26d)]['add']('open');}function closeAllSheets(){const _0x124354=a2_0x17478a;document[_0x124354(0x2da)](_0x124354(0x2b5))['classList'][_0x124354(0x30d)]('active'),document[_0x124354(0x2e6)]('.sheet')[_0x124354(0x2c2)](_0x41a570=>_0x41a570['classList'][_0x124354(0x30d)]('open'));}function openPatternEditor(){const _0x2da2f0=a2_0x17478a;closeAllSheets(),document[_0x2da2f0(0x2da)](_0x2da2f0(0x1f0))[_0x2da2f0(0x26d)][_0x2da2f0(0x201)](_0x2da2f0(0x310)),renderPatternEditor();}function closePatternEditor(){const _0x38f457=a2_0x17478a;document['getElementById'](_0x38f457(0x1f0))[_0x38f457(0x26d)][_0x38f457(0x30d)]('open');}function savePattern(){const _0x3e1612=a2_0x17478a;document[_0x3e1612(0x2da)](_0x3e1612(0x1f0))[_0x3e1612(0x26d)][_0x3e1612(0x30d)](_0x3e1612(0x310)),reRenderBlocks(),DataManager[_0x3e1612(0x1dc)](),DataManager['fetchFromServer'](_0x3e1612(0x286),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x1d265d=a2_0x17478a,_0x59ebbd=document[_0x1d265d(0x2da)](_0x1d265d(0x2c4));_0x59ebbd[_0x1d265d(0x275)]='';const _0x3571d1=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x571e0c=document[_0x1d265d(0x216)](_0x1d265d(0x29e));_0x571e0c['className']=_0x1d265d(0x229),_0x59ebbd[_0x1d265d(0x231)](_0x571e0c),_0x3571d1['forEach']((_0x249e71,_0xb5adeb)=>{const _0x3a2013=_0x1d265d,_0x213d33=document[_0x3a2013(0x216)]('div');_0x213d33[_0x3a2013(0x2af)]=_0x3a2013(0x2d5),_0x213d33['innerHTML']=_0x249e71+'\x20<span\x20class=\x22arrow\x22>‚Üì</span>',_0x213d33['onclick']=()=>toggleColPattern(_0xb5adeb),_0x59ebbd[_0x3a2013(0x231)](_0x213d33);});for(let _0x3e4026=0x0;_0x3e4026<0x18;_0x3e4026++){const _0x37e34d=document[_0x1d265d(0x216)](_0x1d265d(0x29e));_0x37e34d[_0x1d265d(0x2af)]=_0x1d265d(0x353),_0x37e34d['innerHTML']=_0x1d265d(0x1f2)+String(_0x3e4026)[_0x1d265d(0x2ac)](0x2,'0')+_0x1d265d(0x215),_0x37e34d['onclick']=()=>toggleRowPattern(_0x3e4026),_0x59ebbd[_0x1d265d(0x231)](_0x37e34d);for(let _0x56f486=0x0;_0x56f486<0x7;_0x56f486++){const _0x53360e=document[_0x1d265d(0x216)](_0x1d265d(0x29e)),_0x19de95=(availabilityPattern[_0x56f486]||[])['includes'](_0x3e4026),_0x385553=!_0x19de95;_0x53360e[_0x1d265d(0x2af)]=_0x1d265d(0x2c9)+(_0x385553?_0x1d265d(0x271):''),_0x53360e[_0x1d265d(0x342)]=()=>toggleSinglePattern(_0x56f486,_0x3e4026),_0x59ebbd[_0x1d265d(0x231)](_0x53360e);}}}function toggleSinglePattern(_0x4fae15,_0x538b38){if(!availabilityPattern[_0x4fae15])availabilityPattern[_0x4fae15]=[];const _0x598c91=availabilityPattern[_0x4fae15],_0x491ea8=_0x598c91['indexOf'](_0x538b38);_0x491ea8===-0x1?_0x598c91['push'](_0x538b38):_0x598c91['splice'](_0x491ea8,0x1),renderPatternEditor();}function toggleColPattern(_0x15957c){const _0x408b16=a2_0x17478a;if(!availabilityPattern[_0x15957c])availabilityPattern[_0x15957c]=[];const _0x55b3c8=availabilityPattern[_0x15957c];_0x55b3c8[_0x408b16(0x2c0)]===0x0?availabilityPattern[_0x15957c]=Array[_0x408b16(0x2d3)]({'length':0x18},(_0x384f4a,_0x2d34bd)=>_0x2d34bd):availabilityPattern[_0x15957c]=[],renderPatternEditor();}function a2_0x2e5c(_0x3270d3,_0x213393){_0x3270d3=_0x3270d3-0x1d7;const _0x128c90=a2_0x1e91();let _0x5c2452=_0x128c90[_0x3270d3];return _0x5c2452;}function toggleRowPattern(_0x2e44ab){const _0x54fa29=a2_0x17478a;let _0x30488c=!![];for(let _0x5dd3ff=0x0;_0x5dd3ff<0x7;_0x5dd3ff++){if((availabilityPattern[_0x5dd3ff]||[])['includes'](_0x2e44ab)){_0x30488c=![];break;}}for(let _0x347012=0x0;_0x347012<0x7;_0x347012++){if(!availabilityPattern[_0x347012])availabilityPattern[_0x347012]=[];const _0x55e77a=availabilityPattern[_0x347012][_0x54fa29(0x292)](_0x2e44ab);if(_0x30488c){if(_0x55e77a===-0x1)availabilityPattern[_0x347012][_0x54fa29(0x305)](_0x2e44ab);}else{if(_0x55e77a!==-0x1)availabilityPattern[_0x347012][_0x54fa29(0x2bf)](_0x55e77a,0x1);}}renderPatternEditor();}function renderPCol(_0x102a31,_0x5a8d2c){const _0x167471=a2_0x17478a;_0x102a31['innerHTML']='';const _0x3fab77=Math['round'](_0x102a31['offsetLeft']);(availabilityPattern[_0x5a8d2c]||[])[_0x167471(0x2c2)](_0x35b3f3=>{const _0x53d3d8=_0x167471,_0x2584ed=document['createElement'](_0x53d3d8(0x29e));_0x2584ed[_0x53d3d8(0x2af)]=_0x53d3d8(0x213);const _0x38a30d=_0x35b3f3*GRID_H;_0x2584ed[_0x53d3d8(0x31e)][_0x53d3d8(0x22f)]=_0x38a30d+'px',_0x2584ed[_0x53d3d8(0x31e)][_0x53d3d8(0x1e7)]='-'+_0x3fab77+_0x53d3d8(0x32e)+_0x38a30d+'px',_0x2584ed[_0x53d3d8(0x342)]=_0x4d73f7=>{const _0x3a29eb=_0x53d3d8;_0x4d73f7[_0x3a29eb(0x21d)](),toggleSinglePattern(_0x5a8d2c,_0x35b3f3);},_0x102a31[_0x53d3d8(0x231)](_0x2584ed);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x41c5b7=a2_0x17478a,_0x37b56a=new Date(),_0x106ba2=document['getElementById'](_0x41c5b7(0x31c)),_0x24ba77=document['getElementById']('timeLineBadge'),_0xc45f76=(_0x37b56a[_0x41c5b7(0x272)]()*0x3c+_0x37b56a[_0x41c5b7(0x1fe)]())/0x3c*GRID_H;_0x106ba2['style'][_0x41c5b7(0x22f)]=_0xc45f76+'px',_0x106ba2[_0x41c5b7(0x31e)][_0x41c5b7(0x1da)]=_0x41c5b7(0x2fe),_0x24ba77[_0x41c5b7(0x2f3)]=String(_0x37b56a[_0x41c5b7(0x272)]())[_0x41c5b7(0x2ac)](0x2,'0')+':'+String(_0x37b56a[_0x41c5b7(0x1fe)]())[_0x41c5b7(0x2ac)](0x2,'0'),_0x24ba77['style'][_0x41c5b7(0x1da)]=_0x41c5b7(0x2fe),_0x24ba77[_0x41c5b7(0x31e)][_0x41c5b7(0x22f)]=_0xc45f76+'px';}document[a2_0x17478a(0x22c)]('DOMContentLoaded',init);function openDayOptions(_0x23be2c){const _0x37cbf9=a2_0x17478a;selectedDayForOptions=_0x23be2c;const _0x569b71=new Date(_0x23be2c),_0x361a5f={'weekday':_0x37cbf9(0x26b),'day':_0x37cbf9(0x1e6),'month':_0x37cbf9(0x26b),'year':'numeric'},_0x319bbc=_0x569b71['toLocaleDateString']('ru-RU',_0x361a5f);document[_0x37cbf9(0x2da)](_0x37cbf9(0x1db))[_0x37cbf9(0x2f3)]=_0x319bbc[_0x37cbf9(0x339)](0x0)['toUpperCase']()+_0x319bbc[_0x37cbf9(0x311)](0x1);let _0x50df0d=_0x569b71[_0x37cbf9(0x34f)]()-0x1;if(_0x50df0d===-0x1)_0x50df0d=0x6;const _0x2f97bc=availabilityPattern[_0x50df0d]||[],_0x541e0f=0x18-_0x2f97bc['length'],_0x1e367b=_0x541e0f*0x3c,_0x507099=sessions[_0x37cbf9(0x2f8)](_0x12620d=>_0x12620d[_0x37cbf9(0x20e)]===_0x23be2c&&_0x12620d[_0x37cbf9(0x25d)]!==_0x37cbf9(0x20a));let _0x58ad4d=_0x507099[_0x37cbf9(0x22b)](_0x3052c2=>{const _0x22a529=_0x37cbf9,[_0x5e22bb,_0x3f6475]=_0x3052c2[_0x22a529(0x289)][_0x22a529(0x2ff)](':')[_0x22a529(0x22b)](Number),[_0x46b1c5,_0x3da67d]=_0x3052c2[_0x22a529(0x26a)][_0x22a529(0x2ff)](':')[_0x22a529(0x22b)](Number);return[_0x5e22bb*0x3c+_0x3f6475,_0x46b1c5*0x3c+_0x3da67d];});_0x58ad4d[_0x37cbf9(0x33c)]((_0x53dc39,_0x2a1ef3)=>_0x53dc39[0x0]-_0x2a1ef3[0x0]);let _0x36805f=[];if(_0x58ad4d['length']>0x0){let _0x241839=_0x58ad4d[0x0];for(let _0xc0e2f=0x1;_0xc0e2f<_0x58ad4d[_0x37cbf9(0x2c0)];_0xc0e2f++){_0x58ad4d[_0xc0e2f][0x0]<_0x241839[0x1]?_0x241839[0x1]=Math[_0x37cbf9(0x239)](_0x241839[0x1],_0x58ad4d[_0xc0e2f][0x1]):(_0x36805f['push'](_0x241839),_0x241839=_0x58ad4d[_0xc0e2f]);}_0x36805f[_0x37cbf9(0x305)](_0x241839);}let _0xad4925=0x0;_0x36805f[_0x37cbf9(0x2c2)](_0xe3f2dc=>_0xad4925+=_0xe3f2dc[0x1]-_0xe3f2dc[0x0]),document[_0x37cbf9(0x2da)](_0x37cbf9(0x29d))['textContent']=formatMinsToHrs(_0x1e367b),document[_0x37cbf9(0x2da)](_0x37cbf9(0x2e8))[_0x37cbf9(0x2f3)]=formatMinsToHrs(_0xad4925);const _0x5ec745=_0x1e367b>0x0?Math['round'](_0xad4925/_0x1e367b*0x64):0x0,_0x41586e=document[_0x37cbf9(0x2da)]('doLoadPercent');_0x41586e['textContent']=_0x5ec745+'%';const _0x27cb0c=document[_0x37cbf9(0x2da)](_0x37cbf9(0x219));if(_0x5ec745>0x64)_0x41586e[_0x37cbf9(0x31e)][_0x37cbf9(0x322)]=_0x37cbf9(0x28b),_0x27cb0c[_0x37cbf9(0x31e)][_0x37cbf9(0x1e8)]=_0x37cbf9(0x306);else _0x5ec745>0x50?(_0x41586e[_0x37cbf9(0x31e)]['color']=_0x37cbf9(0x233),_0x27cb0c[_0x37cbf9(0x31e)]['borderColor']=_0x37cbf9(0x1de)):(_0x41586e[_0x37cbf9(0x31e)][_0x37cbf9(0x322)]='var(--acc-green)',_0x27cb0c[_0x37cbf9(0x31e)][_0x37cbf9(0x1e8)]=_0x37cbf9(0x2f5));const _0x38e9d8=document['getElementById'](_0x37cbf9(0x221));_0x38e9d8[_0x37cbf9(0x275)]='';_0x507099[_0x37cbf9(0x2c0)]===0x0?_0x38e9d8[_0x37cbf9(0x275)]=_0x37cbf9(0x27e):(_0x507099[_0x37cbf9(0x33c)]((_0x2c2dae,_0x1b393f)=>_0x2c2dae['start'][_0x37cbf9(0x1f4)](_0x1b393f[_0x37cbf9(0x289)])),_0x507099[_0x37cbf9(0x2c2)](_0x3a026e=>{const _0x3c9ad2=_0x37cbf9,_0x51ff8b=clients['find'](_0x148bb9=>_0x148bb9[_0x3c9ad2(0x250)]===_0x3a026e[_0x3c9ad2(0x298)]),_0x17ced7=_0x51ff8b?_0x51ff8b[_0x3c9ad2(0x322)]:'#fff',_0x1e4962=_0x3a026e[_0x3c9ad2(0x25d)]===_0x3c9ad2(0x25a),_0x513fdd=_0x1e4962?_0x3c9ad2(0x202):'',_0x557c28=document[_0x3c9ad2(0x216)]('div');_0x557c28[_0x3c9ad2(0x2af)]=_0x3c9ad2(0x240),_0x557c28['style']['borderLeftColor']=_0x17ced7,_0x557c28['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>'+_0x3a026e[_0x3c9ad2(0x289)]+_0x3c9ad2(0x32d)+_0x3a026e[_0x3c9ad2(0x26a)]+_0x3c9ad2(0x327)+_0x3a026e[_0x3c9ad2(0x298)]+_0x3c9ad2(0x1f8)+_0x513fdd+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x38e9d8[_0x3c9ad2(0x231)](_0x557c28);}));const _0x4dd923=document[_0x37cbf9(0x2da)](_0x37cbf9(0x205)),_0x2d90ac=dateExceptions[_0x23be2c]==='off';_0x2d90ac?(_0x4dd923[_0x37cbf9(0x2f3)]=_0x37cbf9(0x329),_0x4dd923[_0x37cbf9(0x2af)]=_0x37cbf9(0x2c3),_0x4dd923[_0x37cbf9(0x31e)]['color']=_0x37cbf9(0x270),_0x4dd923[_0x37cbf9(0x31e)][_0x37cbf9(0x21b)]=_0x37cbf9(0x356)):(_0x4dd923[_0x37cbf9(0x2f3)]=_0x37cbf9(0x28d),_0x4dd923[_0x37cbf9(0x2af)]='btn-primary\x20btn-danger',_0x4dd923[_0x37cbf9(0x31e)]['color']=_0x37cbf9(0x28b),_0x4dd923[_0x37cbf9(0x31e)][_0x37cbf9(0x21b)]=_0x37cbf9(0x20f)),openSheet(_0x37cbf9(0x27d));}let currentAnPeriod=a2_0x17478a(0x227);function openAnalytics(){const _0x11790c=a2_0x17478a,_0x1b30ad=document['querySelector'](_0x11790c(0x2cc));setAnalyticsPeriod(_0x11790c(0x227),_0x1b30ad),closeAllSheets(),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x37139c,_0xcb603b){const _0x1378d2=a2_0x17478a;currentAnPeriod=_0x37139c,document['querySelectorAll'](_0x1378d2(0x2cc))[_0x1378d2(0x2c2)](_0x6f15fd=>_0x6f15fd[_0x1378d2(0x26d)]['remove'](_0x1378d2(0x271)));if(_0xcb603b)_0xcb603b[_0x1378d2(0x26d)][_0x1378d2(0x201)]('active');const _0x559ddf=document['getElementById'](_0x1378d2(0x2ee));_0x559ddf[_0x1378d2(0x31e)][_0x1378d2(0x1da)]=_0x37139c===_0x1378d2(0x346)?_0x1378d2(0x21c):'none';const _0x158918=new Date();let _0x6b6989=new Date(),_0x5b56ee=new Date();if(_0x37139c===_0x1378d2(0x227))_0x6b6989=getStartOfWeek(_0x158918),_0x5b56ee=new Date(_0x6b6989),_0x5b56ee[_0x1378d2(0x32a)](_0x5b56ee[_0x1378d2(0x2cf)]()+0x6);else{if(_0x37139c===_0x1378d2(0x2bd))_0x6b6989=new Date(_0x158918[_0x1378d2(0x323)](),_0x158918[_0x1378d2(0x331)](),0x1),_0x5b56ee=new Date(_0x158918[_0x1378d2(0x323)](),_0x158918[_0x1378d2(0x331)]()+0x1,0x0);else{!document['getElementById'](_0x1378d2(0x268))[_0x1378d2(0x235)]&&(document[_0x1378d2(0x2da)](_0x1378d2(0x268))[_0x1378d2(0x235)]=getLocalDateStr(_0x158918),document[_0x1378d2(0x2da)](_0x1378d2(0x258))[_0x1378d2(0x235)]=getLocalDateStr(_0x158918));refreshAnalytics();return;}}document[_0x1378d2(0x2da)](_0x1378d2(0x268))[_0x1378d2(0x235)]=getLocalDateStr(_0x6b6989),document['getElementById'](_0x1378d2(0x258))[_0x1378d2(0x235)]=getLocalDateStr(_0x5b56ee),refreshAnalytics();}function refreshAnalytics(){const _0x3e3314=a2_0x17478a,_0x116572=document[_0x3e3314(0x2da)](_0x3e3314(0x268))[_0x3e3314(0x235)],_0x5ebef6=document[_0x3e3314(0x2da)](_0x3e3314(0x258))[_0x3e3314(0x235)];if(!_0x116572||!_0x5ebef6)return;const _0x424c32=sessions[_0x3e3314(0x2f8)](_0x21e593=>_0x21e593[_0x3e3314(0x20e)]>=_0x116572&&_0x21e593[_0x3e3314(0x20e)]<=_0x5ebef6&&_0x21e593[_0x3e3314(0x25d)]!==_0x3e3314(0x20a)),_0x1d5444=_0x424c32[_0x3e3314(0x2c0)],_0x144fcc=_0x424c32[_0x3e3314(0x2f8)](_0x5bb2c6=>_0x5bb2c6['status']===_0x3e3314(0x25a))[_0x3e3314(0x2c0)],_0x3649ec=_0x1d5444>0x0?Math[_0x3e3314(0x302)](_0x144fcc/_0x1d5444*0x64):0x0;document['getElementById']('anPercent')[_0x3e3314(0x2f3)]=_0x3649ec+'%',document[_0x3e3314(0x2da)](_0x3e3314(0x33b))[_0x3e3314(0x2f3)]=_0x144fcc+'\x20–∏–∑\x20'+_0x1d5444+'\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ';const _0x1692e1=document[_0x3e3314(0x2da)](_0x3e3314(0x24c)),_0x1d3857=0x2*Math['PI']*0x23,_0x10dce2=_0x1d3857-_0x3649ec/0x64*_0x1d3857;_0x1692e1[_0x3e3314(0x31e)][_0x3e3314(0x1e4)]=_0x10dce2;const _0x52aeb9={};_0x424c32[_0x3e3314(0x2c2)](_0xa72107=>{const _0x582be3=_0x3e3314;if(!_0x52aeb9[_0xa72107[_0x582be3(0x298)]]){const _0x5abc96=clients[_0x582be3(0x288)](_0x306c85=>_0x306c85[_0x582be3(0x250)]===_0xa72107[_0x582be3(0x298)]);_0x52aeb9[_0xa72107[_0x582be3(0x298)]]={'total':0x0,'done':0x0,'color':_0x5abc96?_0x5abc96[_0x582be3(0x322)]:_0x582be3(0x34a)};}_0x52aeb9[_0xa72107[_0x582be3(0x298)]]['total']++;if(_0xa72107[_0x582be3(0x25d)]==='completed')_0x52aeb9[_0xa72107[_0x582be3(0x298)]]['done']++;});const _0x20b6b6=document[_0x3e3314(0x2da)](_0x3e3314(0x2f9));_0x20b6b6[_0x3e3314(0x275)]='';const _0x116abb=Object[_0x3e3314(0x25b)](_0x52aeb9)['sort']((_0x4db6e2,_0x255532)=>_0x255532[0x1][_0x3e3314(0x234)]-_0x4db6e2[0x1][_0x3e3314(0x234)]);if(_0x116abb[_0x3e3314(0x2c0)]===0x0){_0x20b6b6[_0x3e3314(0x275)]=_0x3e3314(0x255);return;}_0x116abb[_0x3e3314(0x2c2)](([_0x4a5fd9,_0x2ba6b5])=>{const _0x26347a=_0x3e3314,_0x1ded4c=Math[_0x26347a(0x302)](_0x2ba6b5[_0x26347a(0x31b)]/_0x2ba6b5[_0x26347a(0x234)]*0x64),_0x432998=document[_0x26347a(0x216)]('div');_0x432998[_0x26347a(0x2af)]=_0x26347a(0x291),_0x432998[_0x26347a(0x31e)][_0x26347a(0x358)]=_0x2ba6b5[_0x26347a(0x322)],_0x432998[_0x26347a(0x275)]=_0x26347a(0x1e9)+_0x4a5fd9+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x2ba6b5[_0x26347a(0x31b)]+'</span>\x20/\x20'+_0x2ba6b5[_0x26347a(0x234)]+_0x26347a(0x1f9)+_0x1ded4c+_0x26347a(0x23b),_0x20b6b6['appendChild'](_0x432998);});}function formatMinsToHrs(_0x1c8d68){const _0x2427ba=a2_0x17478a;if(_0x1c8d68===0x0)return'0';const _0x44723f=Math[_0x2427ba(0x2be)](_0x1c8d68/0x3c),_0x3920eb=_0x1c8d68%0x3c;if(_0x3920eb===0x0)return _0x44723f+'—á';return _0x44723f+'—á\x20'+_0x3920eb+'–º';}