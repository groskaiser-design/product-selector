const a2_0x3f9e98=a2_0x107e;(function(_0x2b352d,_0x470606){const _0x3678e1=a2_0x107e,_0x38c638=_0x2b352d();while(!![]){try{const _0x3f81b0=parseInt(_0x3678e1(0x1d7))/0x1+-parseInt(_0x3678e1(0x168))/0x2*(parseInt(_0x3678e1(0x1b7))/0x3)+parseInt(_0x3678e1(0x240))/0x4*(-parseInt(_0x3678e1(0x1b1))/0x5)+parseInt(_0x3678e1(0x134))/0x6*(-parseInt(_0x3678e1(0x23c))/0x7)+parseInt(_0x3678e1(0x1ac))/0x8+parseInt(_0x3678e1(0x255))/0x9+parseInt(_0x3678e1(0x195))/0xa*(parseInt(_0x3678e1(0x102))/0xb);if(_0x3f81b0===_0x470606)break;else _0x38c638['push'](_0x38c638['shift']());}catch(_0x478fa9){_0x38c638['push'](_0x38c638['shift']());}}}(a2_0x3ecf,0xb2c92),function initTMA(){const _0x3fdb71=a2_0x107e,_0x1b3868=(function(){let _0x5bcfa0=!![];return function(_0x420b86,_0x5df437){const _0x438d53=_0x5bcfa0?function(){if(_0x5df437){const _0x204c06=_0x5df437['apply'](_0x420b86,arguments);return _0x5df437=null,_0x204c06;}}:function(){};return _0x5bcfa0=![],_0x438d53;};}()),_0x1d9935=_0x1b3868(this,function(){const _0xe4cf3a=a2_0x107e;return _0x1d9935[_0xe4cf3a(0x152)]()[_0xe4cf3a(0x131)](_0xe4cf3a(0x136))[_0xe4cf3a(0x152)]()[_0xe4cf3a(0x26f)](_0x1d9935)['search']('(((.+)+)+)+$');});_0x1d9935();try{const _0x35fe8c=window[_0x3fdb71(0x1ee)]?.[_0x3fdb71(0x1cf)];if(!_0x35fe8c)return;_0x35fe8c['ready'](),_0x35fe8c['expand']();try{_0x35fe8c[_0x3fdb71(0x222)]('#050505'),_0x35fe8c[_0x3fdb71(0x1f0)]&&_0x35fe8c[_0x3fdb71(0x1f0)](_0x3fdb71(0x17f));}catch(_0x20455e){console['log'](_0x3fdb71(0x15d),_0x20455e);}try{_0x35fe8c[_0x3fdb71(0x1c7)]&&(_0x35fe8c['BackButton'][_0x3fdb71(0x225)](),_0x35fe8c['BackButton']['offClick'](),_0x35fe8c['BackButton']['onClick'](function(){const _0x5eaaba=_0x3fdb71;window[_0x5eaaba(0x21d)]['href']=_0x5eaaba(0x1cc);}));}catch(_0x298ab1){console[_0x3fdb71(0x203)](_0x3fdb71(0x201),_0x298ab1);}try{if(_0x35fe8c[_0x3fdb71(0x1af)])_0x35fe8c[_0x3fdb71(0x1af)]();}catch(_0x1ec995){}}catch(_0x2c3063){console[_0x3fdb71(0x1e2)]('Critical\x20TMA\x20Error:',_0x2c3063);}}());function isAdmin(){const _0x17a158=a2_0x107e;try{const _0x16cf9f=Number(window['Telegram']?.['WebApp']?.[_0x17a158(0x1f3)]?.[_0x17a158(0x22d)]?.['id']);return _0x16cf9f===0xbaf7174;}catch(_0x5bffbe){return![];}}const APP_VERSION=a2_0x3f9e98(0x25c),API_URL='https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec',GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x3f9e98(0x193),KEY_SESSIONS=a2_0x3f9e98(0x245),KEY_SETTINGS=a2_0x3f9e98(0x216);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x122025=a2_0x3f9e98;return window[_0x122025(0x1ee)]?.[_0x122025(0x1cf)]?.[_0x122025(0x1f3)]?.[_0x122025(0x22d)]?.['id']||'guest';},'saveLocally'(){const _0x22643b=a2_0x3f9e98;try{localStorage[_0x22643b(0x25d)](KEY_CLIENTS,JSON[_0x22643b(0x132)](clients)),localStorage['setItem'](KEY_SESSIONS,JSON[_0x22643b(0x132)](sessions)),localStorage[_0x22643b(0x25d)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x507f7a){console[_0x22643b(0x1e2)](_0x22643b(0x279),_0x507f7a);}},'loadLocal'(){const _0x2348d3=a2_0x3f9e98;try{const _0x48581a=localStorage[_0x2348d3(0x1c6)](KEY_CLIENTS);if(_0x48581a)clients=JSON['parse'](_0x48581a);const _0x10a617=localStorage[_0x2348d3(0x1c6)](KEY_SESSIONS);if(_0x10a617)sessions=JSON[_0x2348d3(0x116)](_0x10a617);const _0x14a275=localStorage['getItem'](KEY_SETTINGS);if(_0x14a275){const _0x2bcc38=JSON[_0x2348d3(0x116)](_0x14a275);if(_0x2bcc38[_0x2348d3(0x145)])availabilityPattern=_0x2bcc38['pattern'];if(_0x2bcc38['exceptions'])dateExceptions=_0x2bcc38[_0x2348d3(0x231)];if(_0x2bcc38[_0x2348d3(0x194)])specialRanges=_0x2bcc38[_0x2348d3(0x194)];}else{for(let _0x59cf05=0x0;_0x59cf05<0x7;_0x59cf05++)availabilityPattern[_0x59cf05]=Array['from']({'length':0xc},(_0x2a71d0,_0x547926)=>_0x547926+0x9);}}catch(_0x33977d){console['error'](_0x2348d3(0x1ed),_0x33977d);}},async 'fetchFromServer'(_0x514b7a,_0x15666e={}){const _0xde878e=a2_0x3f9e98,_0x3902e5=window[_0xde878e(0x1ee)]?.[_0xde878e(0x1cf)],_0x3150de={'action':_0x514b7a,'init_data':_0x3902e5?.[_0xde878e(0x120)]||'',..._0x15666e};try{const _0x56235e=await fetch(API_URL,{'method':_0xde878e(0x242),'headers':{'Content-Type':_0xde878e(0x1a0)},'body':JSON[_0xde878e(0x132)](_0x3150de)}),_0x532520=await _0x56235e[_0xde878e(0x280)]();if(!_0x532520['ok'])throw new Error(_0x532520['error']||'Server\x20Error');return _0x532520[_0xde878e(0x250)];}catch(_0x3d9d33){console[_0xde878e(0x1e2)](_0xde878e(0x1f8)+_0x514b7a+_0xde878e(0x188),_0x3d9d33);throw _0x3d9d33;}},async 'syncLoad'(){const _0x18ecdb=a2_0x3f9e98,_0x21bbdc=new Date(),_0x4e5b73=_0x21bbdc[_0x18ecdb(0x244)]()+'-'+String(_0x21bbdc[_0x18ecdb(0x249)]()+0x1)[_0x18ecdb(0x19c)](0x2,'0'),_0x47b5cd=new Date(_0x21bbdc);_0x47b5cd[_0x18ecdb(0x1dc)](_0x21bbdc[_0x18ecdb(0x249)]()+0x1);const _0x32f016=_0x47b5cd['getFullYear']()+'-'+String(_0x47b5cd[_0x18ecdb(0x249)]()+0x1)[_0x18ecdb(0x19c)](0x2,'0'),_0x581d9d=Date[_0x18ecdb(0x163)]();console[_0x18ecdb(0x203)](_0x18ecdb(0x23b)+_0x4e5b73+',\x20'+_0x32f016+_0x18ecdb(0x1b9));try{const [_0x43dd02,_0x369f86]=await Promise[_0x18ecdb(0x24e)]([this[_0x18ecdb(0x1e8)]('init_load',{'month_str':_0x4e5b73}),this[_0x18ecdb(0x1e8)](_0x18ecdb(0x12e),{'month_str':_0x32f016})]);if(lastUserActionTime>_0x581d9d)return console[_0x18ecdb(0x1cb)](_0x18ecdb(0x10c)),![];return this[_0x18ecdb(0x122)](_0x43dd02,_0x4e5b73),this['mergeServerData'](_0x369f86,_0x32f016),this[_0x18ecdb(0x13a)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x81d753){console[_0x18ecdb(0x1e2)](_0x81d753);throw _0x81d753;}},'mergeServerData'(_0x2334bd,_0xbc3756){const _0xd0aee3=a2_0x3f9e98;if(!_0x2334bd)return;_0x2334bd[_0xd0aee3(0x262)]&&Array[_0xd0aee3(0x16b)](_0x2334bd[_0xd0aee3(0x262)])&&(clients=_0x2334bd['clients']);if(_0x2334bd[_0xd0aee3(0x1d6)]){if(_0x2334bd['settings'][_0xd0aee3(0x145)])availabilityPattern=_0x2334bd['settings']['pattern'];if(_0x2334bd[_0xd0aee3(0x1d6)]['exceptions'])dateExceptions=_0x2334bd[_0xd0aee3(0x1d6)][_0xd0aee3(0x231)];if(_0x2334bd['settings'][_0xd0aee3(0x194)])specialRanges=_0x2334bd['settings'][_0xd0aee3(0x194)];if(_0x2334bd[_0xd0aee3(0x1d6)][_0xd0aee3(0x1be)]){localStorage[_0xd0aee3(0x25d)](_0xd0aee3(0x27a),_0x2334bd[_0xd0aee3(0x1d6)][_0xd0aee3(0x1be)]);const _0x5d2499=document['getElementById']('settingCancelWindow');if(_0x5d2499)_0x5d2499[_0xd0aee3(0x1b6)]=_0x2334bd[_0xd0aee3(0x1d6)]['cancel_window'];}}_0x2334bd['calendar']&&(sessions=sessions[_0xd0aee3(0x24a)](_0x1c4168=>!_0x1c4168[_0xd0aee3(0x197)]['startsWith'](_0xbc3756)),Object[_0xd0aee3(0x1dd)](_0x2334bd[_0xd0aee3(0x200)])[_0xd0aee3(0x10f)](_0xdf1c5e=>{const _0x138fa0=_0x2334bd['calendar'][_0xdf1c5e];_0x138fa0['forEach'](_0x2b44c4=>{const _0x367d82=a2_0x107e,_0x372e92=clients[_0x367d82(0x1ec)](_0x2f4a94=>String(_0x2f4a94['id'])===String(_0x2b44c4['c']));sessions[_0x367d82(0x1e9)]({'id':_0x2b44c4['i'],'clientId':_0x2b44c4['c'],'client':_0x372e92?_0x372e92['name']:_0x367d82(0x164),'dateStr':_0xbc3756+'-'+_0xdf1c5e[_0x367d82(0x19c)](0x2,'0'),'start':_0x2b44c4['s'],'end':_0x2b44c4['e'],'status':_0x2b44c4['st']||'planned','note':_0x2b44c4['n']||'','seriesId':_0x2b44c4['sid']||null});});}));},async 'syncBatch'(_0x33d7c3){const _0x12714e=a2_0x3f9e98,_0x4f61c8=[...new Set(_0x33d7c3)],_0x572037=_0x4f61c8[_0x12714e(0x24c)](_0x50dcc3=>{const _0x49e413=_0x12714e,_0x5f0ee9=sessions['filter'](_0x4ba102=>_0x4ba102[_0x49e413(0x197)]===_0x50dcc3&&_0x4ba102[_0x49e413(0x1c1)]!==_0x49e413(0x13b)),_0x27b7be=_0x5f0ee9[_0x49e413(0x24c)](_0x30d005=>({'i':_0x30d005['id'],'c':_0x30d005['clientId'],'s':_0x30d005[_0x49e413(0x112)],'e':_0x30d005[_0x49e413(0x185)],'st':_0x30d005[_0x49e413(0x1c1)],'n':_0x30d005['note'],'sid':_0x30d005['seriesId']}));return{'date':_0x50dcc3,'day_data':_0x27b7be};});if(_0x572037[_0x12714e(0x14e)]===0x0)return;console[_0x12714e(0x203)](_0x12714e(0x183)+_0x572037['length']+'\x20days'),await this[_0x12714e(0x1e8)](_0x12714e(0x26c),{'changes':_0x572037});}};async function init(){const _0x57c752=a2_0x3f9e98;DataManager[_0x57c752(0x1a3)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById'](_0x57c752(0x103))[_0x57c752(0x1db)](_0x57c752(0x1d9),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x57c752(0x220)]()['then'](()=>{const _0x5cd391=_0x57c752;showToast(_0x5cd391(0x135),!![]);})[_0x57c752(0x113)](_0xbfdfd1=>{showToast('–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º',![]);});}function generateId(){const _0x32e8fe=a2_0x3f9e98;return Date[_0x32e8fe(0x163)]()[_0x32e8fe(0x152)](0x24)+Math[_0x32e8fe(0x274)]()[_0x32e8fe(0x152)](0x24)[_0x32e8fe(0xfe)](0x2,0x5);}function toggleSeriesInput(){const _0x2f4cc6=a2_0x3f9e98,_0x626913=document[_0x2f4cc6(0x16d)](_0x2f4cc6(0x108))[_0x2f4cc6(0x19f)],_0x3fd1f0=document[_0x2f4cc6(0x16d)](_0x2f4cc6(0x24b));_0x3fd1f0[_0x2f4cc6(0x1a8)][_0x2f4cc6(0x1fe)]=_0x626913?_0x2f4cc6(0x109):_0x2f4cc6(0x118);const _0x2e2506=document[_0x2f4cc6(0x16d)](_0x2f4cc6(0x24d));_0x2e2506[_0x2f4cc6(0x1a8)][_0x2f4cc6(0x272)]=_0x626913?_0x2f4cc6(0x130):_0x2f4cc6(0x217);}function openAddSession(_0x167ad7){const _0x10aafa=a2_0x3f9e98;editingId=null,populateClientSelect(),document[_0x10aafa(0x16d)](_0x10aafa(0x160))[_0x10aafa(0x227)]='–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å',document['getElementById'](_0x10aafa(0x186))[_0x10aafa(0x1a8)][_0x10aafa(0x1fe)]=_0x10aafa(0x118),document[_0x10aafa(0x16d)](_0x10aafa(0x1ae))[_0x10aafa(0x1a8)][_0x10aafa(0x1fe)]=_0x10aafa(0x118);const _0x354611=document[_0x10aafa(0x16d)]('recurringOptionContainer'),_0x4d5141=document['getElementById'](_0x10aafa(0x24b));_0x354611[_0x10aafa(0x1a8)][_0x10aafa(0x1fe)]=_0x10aafa(0x177),_0x354611[_0x10aafa(0x1a8)][_0x10aafa(0x272)]='10px',document['getElementById'](_0x10aafa(0x108))[_0x10aafa(0x19f)]=![],document['getElementById'](_0x10aafa(0x17e))[_0x10aafa(0x1b6)]=0x4,_0x4d5141['style'][_0x10aafa(0x1fe)]=_0x10aafa(0x118),document[_0x10aafa(0x16d)](_0x10aafa(0x253))['value']=getLocalDateStr(_0x167ad7),updateDateDisplay();const _0x587cc3=_0x167ad7['getHours']();document[_0x10aafa(0x16d)](_0x10aafa(0x259))[_0x10aafa(0x1b6)]=String(_0x587cc3)['padStart'](0x2,'0')+_0x10aafa(0x15e),document['getElementById'](_0x10aafa(0x1a6))['value']=String(_0x587cc3+0x1)[_0x10aafa(0x19c)](0x2,'0')+_0x10aafa(0x15e),openSheet(_0x10aafa(0x174));}function openEdit(_0x2d8eb3){const _0xbb807=a2_0x3f9e98;editingId=_0x2d8eb3['id'],populateClientSelect(),document['getElementById']('sheetTitle')[_0xbb807(0x227)]=_0xbb807(0x14d),document[_0xbb807(0x16d)](_0xbb807(0x186))[_0xbb807(0x1a8)]['display']='block';const _0x537a7b=document['getElementById'](_0xbb807(0x1ae));_0x537a7b[_0xbb807(0x1a8)][_0xbb807(0x1fe)]='flex';_0x2d8eb3[_0xbb807(0x1c1)]===_0xbb807(0x254)?(_0x537a7b[_0xbb807(0x233)]=_0xbb807(0x229),_0x537a7b[_0xbb807(0x158)]=_0xbb807(0x166)):(_0x537a7b[_0xbb807(0x233)]=_0xbb807(0x22f),_0x537a7b[_0xbb807(0x158)]='<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É');const _0x44677f=!!_0x2d8eb3[_0xbb807(0x21a)];document[_0xbb807(0x16d)](_0xbb807(0x24d))[_0xbb807(0x1a8)][_0xbb807(0x1fe)]='none',document[_0xbb807(0x16d)](_0xbb807(0x24b))[_0xbb807(0x1a8)][_0xbb807(0x1fe)]=_0xbb807(0x118),_0x44677f?(document[_0xbb807(0x16d)](_0xbb807(0x212))[_0xbb807(0x1a8)][_0xbb807(0x1fe)]=_0xbb807(0x177),document[_0xbb807(0x16d)]('patternInfoBox')[_0xbb807(0x11d)](_0xbb807(0x125))[_0xbb807(0x227)]=_0xbb807(0x20e)):document[_0xbb807(0x16d)]('patternInfoBox')[_0xbb807(0x1a8)]['display']='none',document[_0xbb807(0x16d)](_0xbb807(0x268))[_0xbb807(0x1b6)]=_0x2d8eb3[_0xbb807(0x1fb)],document[_0xbb807(0x16d)](_0xbb807(0x253))['value']=_0x2d8eb3['dateStr'],document[_0xbb807(0x16d)]('inpStart')[_0xbb807(0x1b6)]=_0x2d8eb3[_0xbb807(0x112)],document['getElementById']('inpEnd')['value']=_0x2d8eb3[_0xbb807(0x185)],document[_0xbb807(0x16d)]('inpNote')[_0xbb807(0x1b6)]=_0x2d8eb3[_0xbb807(0x1ea)]||'',updateDateDisplay(),openSheet(_0xbb807(0x174));}async function trySaveSession(){const _0x1b52ea=a2_0x3f9e98,_0x4c0e89=document['getElementById'](_0x1b52ea(0x268))[_0x1b52ea(0x1b6)],_0x5268d8=document[_0x1b52ea(0x16d)](_0x1b52ea(0x253))[_0x1b52ea(0x1b6)],_0x47d5dc=document[_0x1b52ea(0x16d)](_0x1b52ea(0x259))[_0x1b52ea(0x1b6)],_0x19b5a5=document[_0x1b52ea(0x16d)](_0x1b52ea(0x1a6))[_0x1b52ea(0x1b6)],_0x27540b=document[_0x1b52ea(0x16d)](_0x1b52ea(0x14b))['value'],_0xa599e1=document[_0x1b52ea(0x16d)]('inpRecurring')[_0x1b52ea(0x19f)];let _0x1b8859=0x4;if(_0xa599e1){const _0x4d08ad=parseInt(document[_0x1b52ea(0x16d)](_0x1b52ea(0x17e))[_0x1b52ea(0x1b6)]);if(!_0x4d08ad||_0x4d08ad<0x2){showToast(_0x1b52ea(0x1ab),![]);return;}if(_0x4d08ad>0x64){showToast(_0x1b52ea(0x19d),![]);return;}_0x1b8859=_0x4d08ad;}const _0xad80fd=clients[_0x1b52ea(0x1ec)](_0x211fad=>_0x211fad[_0x1b52ea(0x263)]===_0x4c0e89);if(!_0xad80fd){showToast('–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞',![]);return;}const _0x3bec35=validateAppointment(_0x5268d8,_0x47d5dc,_0x19b5a5,editingId,_0xad80fd['id']);if(!_0x3bec35['valid']){showToast(_0x3bec35['msg'],![]);return;}_0x3bec35[_0x1b52ea(0x26a)]&&showToast(_0x3bec35[_0x1b52ea(0x26a)],![]);const _0x3f99ec={'client':_0x4c0e89,'clientId':_0xad80fd['id'],'start':_0x47d5dc,'end':_0x19b5a5,'note':_0x27540b,'status':_0x1b52ea(0x18f)},_0x3632b3=editingId?sessions['find'](_0x2cd6c9=>_0x2cd6c9['id']===editingId):null;if(_0x3632b3&&_0x3632b3[_0x1b52ea(0x21a)]){tempSessionData={..._0x3f99ec,'dateStr':_0x5268d8,'id':editingId,'seriesId':_0x3632b3[_0x1b52ea(0x21a)]},openActionSheet(_0x1b52ea(0x269));return;}let _0x1d805f=null;if(!editingId)_0x1d805f='create';else{if(_0x3632b3){if(String(_0x3632b3['clientId'])!==String(_0xad80fd['id']))console[_0x1b52ea(0x203)](_0x1b52ea(0x14c)),NotificationManager['send'](_0x1b52ea(0x123),_0x3632b3),_0x1d805f=_0x1b52ea(0x173);else(_0x3632b3[_0x1b52ea(0x112)]!==_0x47d5dc||_0x3632b3[_0x1b52ea(0x185)]!==_0x19b5a5||_0x3632b3[_0x1b52ea(0x197)]!==_0x5268d8)&&(_0x1d805f=_0x1b52ea(0x1c0));}}if(!editingId&&_0xa599e1){createBatchSeries(_0x3f99ec,_0x5268d8,_0x1b8859),NotificationManager[_0x1b52ea(0x129)](_0x1b52ea(0x173),{..._0x3f99ec,'dateStr':_0x5268d8});return;}lastUserActionTime=Date['now']();const _0x3e7c58={..._0x3f99ec,'dateStr':_0x5268d8,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x3e7c58),_0x1d805f&&NotificationManager[_0x1b52ea(0x129)](_0x1d805f,_0x3e7c58);}function toggleSessionStatus(){const _0x21e586=a2_0x3f9e98;lastUserActionTime=Date[_0x21e586(0x163)]();const _0x4272d9=sessions[_0x21e586(0x1ec)](_0x4979c8=>_0x4979c8['id']===editingId);if(!_0x4272d9)return;const _0x4d3058=_0x4272d9[_0x21e586(0x1c1)]===_0x21e586(0x254)?_0x21e586(0x18f):_0x21e586(0x254);_0x4272d9[_0x21e586(0x1c1)]=_0x4d3058,saveSingleSession(_0x4272d9),_0x4d3058===_0x21e586(0x254)&&NotificationManager[_0x21e586(0x129)](_0x21e586(0x213),_0x4272d9),showToast(_0x4d3058===_0x21e586(0x254)?'–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞':_0x21e586(0x238),!![]);}function validateAppointment(_0x1ed712,_0x5b2a9e,_0x3498ff,_0x2b1a59,_0x22e8c2){const _0x4ead23=a2_0x3f9e98,[_0x1d7537,_0xb362a6]=_0x5b2a9e[_0x4ead23(0x1f9)](':')[_0x4ead23(0x24c)](Number),[_0x317620,_0x347291]=_0x3498ff['split'](':')[_0x4ead23(0x24c)](Number),_0x24f3ec=_0x1d7537*0x3c+_0xb362a6,_0x2c8eb5=_0x317620*0x3c+_0x347291,_0x46a971=String(_0x22e8c2);let _0x408c87=![],_0x5d4efe='';for(let _0xa948bf of sessions){if(_0xa948bf[_0x4ead23(0x197)]!==_0x1ed712)continue;if(_0xa948bf['status']==='cancelled')continue;if(_0x2b1a59&&String(_0xa948bf['id'])===String(_0x2b1a59))continue;const [_0x595ba1,_0xaf4571]=_0xa948bf[_0x4ead23(0x112)][_0x4ead23(0x1f9)](':')['map'](Number),[_0x59a775,_0x25bbff]=_0xa948bf['end'][_0x4ead23(0x1f9)](':')[_0x4ead23(0x24c)](Number),_0x46d3e6=_0x595ba1*0x3c+_0xaf4571,_0x1a9eb0=_0x59a775*0x3c+_0x25bbff;if(Math[_0x4ead23(0x106)](_0x24f3ec,_0x46d3e6)<Math[_0x4ead23(0x23d)](_0x2c8eb5,_0x1a9eb0)){if(_0xa948bf[_0x4ead23(0x157)]&&String(_0xa948bf[_0x4ead23(0x157)])===_0x46a971)return{'valid':![],'msg':_0x4ead23(0x1b0)+_0xa948bf[_0x4ead23(0x1fb)]+_0x4ead23(0x25b)};_0x408c87=!![],_0x5d4efe=_0xa948bf[_0x4ead23(0x1fb)];}}if(_0x408c87)return{'valid':!![],'warning':'–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20'+_0x5d4efe};return{'valid':!![]};}function saveSingleSession(_0x1390ce){const _0x27b2e5=a2_0x3f9e98;if(editingId){const _0x48871e=sessions[_0x27b2e5(0x1b3)](_0x288366=>_0x288366['id']===editingId);if(_0x48871e!==-0x1)sessions[_0x48871e]=_0x1390ce;}else sessions[_0x27b2e5(0x1e9)](_0x1390ce);afterSaveAction([_0x1390ce[_0x27b2e5(0x197)]]);}function createBatchSeries(_0x1623b2,_0x549ac3,_0x56cfb8){const _0x495631=a2_0x3f9e98,_0x3b2764=generateId(),_0x320cd0=[],_0x1eb627=[];let _0x58380d=0x0,_0x22986f=new Date(_0x549ac3);for(let _0x3e6889=0x0;_0x3e6889<_0x56cfb8;_0x3e6889++){const _0x917ff7=getLocalDateStr(_0x22986f),_0x3bf3a9=validateAppointment(_0x917ff7,_0x1623b2['start'],_0x1623b2[_0x495631(0x185)],null,_0x1623b2[_0x495631(0x157)]);if(!_0x3bf3a9[_0x495631(0x1fc)])console[_0x495631(0x203)](_0x495631(0x21f)+_0x917ff7+_0x495631(0x11a)),_0x58380d++;else{const _0x4db525={..._0x1623b2,'id':generateId(),'dateStr':_0x917ff7,'seriesId':_0x3b2764};_0x1eb627[_0x495631(0x1e9)](_0x4db525),_0x320cd0[_0x495631(0x1e9)](_0x917ff7);}_0x22986f[_0x495631(0x1a5)](_0x22986f[_0x495631(0x1bf)]()+0x7);}if(_0x1eb627['length']===0x0){showToast(_0x495631(0x124),![]);return;}sessions[_0x495631(0x1e9)](..._0x1eb627),lastUserActionTime=Date['now']();let _0x3853ff=_0x495631(0x1df)+_0x1eb627[_0x495631(0x14e)];_0x58380d>0x0&&(_0x3853ff+=_0x495631(0x190)+_0x58380d+')'),showToast(_0x3853ff,!![]),afterSaveAction(_0x320cd0);}function updateSeriesBatch(_0x49b863,_0x2fae06){const _0x1c9fd7=a2_0x3f9e98,_0x407bf2=[],_0x2353b5=_0x2fae06[_0x1c9fd7(0x21a)];if(_0x49b863==='single'){const _0x5ae5bf={..._0x2fae06,'seriesId':null},_0x1a187e=sessions[_0x1c9fd7(0x1b3)](_0x33bfbb=>_0x33bfbb['id']===_0x2fae06['id']);if(_0x1a187e!==-0x1)sessions[_0x1a187e]=_0x5ae5bf;_0x407bf2[_0x1c9fd7(0x1e9)](_0x5ae5bf[_0x1c9fd7(0x197)]);}else{if(_0x49b863===_0x1c9fd7(0x184)){const _0x144034=_0x2fae06['dateStr'];sessions[_0x1c9fd7(0x10f)]((_0x281499,_0x2acb0f)=>{const _0x442a4d=_0x1c9fd7;_0x281499['seriesId']===_0x2353b5&&_0x281499[_0x442a4d(0x197)]>=_0x144034&&(sessions[_0x2acb0f]={...sessions[_0x2acb0f],'start':_0x2fae06[_0x442a4d(0x112)],'end':_0x2fae06[_0x442a4d(0x185)],'note':_0x2fae06[_0x442a4d(0x1ea)],'client':_0x2fae06['client'],'clientId':_0x2fae06['clientId']},_0x407bf2['push'](_0x281499[_0x442a4d(0x197)]));});}}afterSaveAction(_0x407bf2);}function tryDeleteSession(){const _0x186bd1=a2_0x3f9e98,_0x4815d7=sessions['find'](_0x4b4867=>_0x4b4867['id']===editingId);if(!_0x4815d7)return;_0x4815d7[_0x186bd1(0x21a)]?openActionSheet(_0x186bd1(0x22c)):commitDelete('single',_0x4815d7);}function commitDelete(_0x6f0e81,_0x4ddbc5){const _0x30c636=a2_0x3f9e98;lastUserActionTime=Date['now'](),NotificationManager[_0x30c636(0x129)](_0x30c636(0x123),_0x4ddbc5);const _0x56d592=[];if(_0x6f0e81===_0x30c636(0x1a7))sessions=sessions[_0x30c636(0x24a)](_0x2ca954=>_0x2ca954['id']!==_0x4ddbc5['id']),_0x56d592['push'](_0x4ddbc5[_0x30c636(0x197)]);else{if(_0x6f0e81===_0x30c636(0x184)){const _0x2ee7d0=_0x4ddbc5[_0x30c636(0x197)],_0x4e0f01=_0x4ddbc5[_0x30c636(0x21a)];sessions[_0x30c636(0x10f)](_0x3f55c4=>{const _0x3743f4=_0x30c636;_0x3f55c4[_0x3743f4(0x21a)]===_0x4e0f01&&_0x3f55c4[_0x3743f4(0x197)]>=_0x2ee7d0&&_0x56d592['push'](_0x3f55c4[_0x3743f4(0x197)]);}),sessions=sessions[_0x30c636(0x24a)](_0xf8433d=>!(_0xf8433d['seriesId']===_0x4e0f01&&_0xf8433d[_0x30c636(0x197)]>=_0x2ee7d0));}}afterSaveAction(_0x56d592);}function afterSaveAction(_0x14a0da){const _0x1ec163=a2_0x3f9e98;DataManager[_0x1ec163(0x13a)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x1ec163(0x17a)](_0x14a0da)[_0x1ec163(0x21c)](()=>console[_0x1ec163(0x203)](_0x1ec163(0x138)))['catch'](_0x51c739=>showToast(_0x1ec163(0x1d8),![]));}const NotificationManager={'formatDate'(_0x45b64b){const _0x1a12d3=a2_0x3f9e98,_0x19a2b2=new Date(_0x45b64b),_0x309398={'weekday':'long','day':_0x1a12d3(0x155),'month':'long'};let _0x51081f=_0x19a2b2[_0x1a12d3(0x23e)](_0x1a12d3(0x139),_0x309398);return _0x51081f[_0x1a12d3(0xfb)](0x0)[_0x1a12d3(0x19e)]()+_0x51081f[_0x1a12d3(0x224)](0x1);},'getText'(_0x13b1f6,_0x30b5f0){const _0x561a38=a2_0x3f9e98,_0x2c5d7b=this['formatDate'](_0x30b5f0[_0x561a38(0x197)]);switch(_0x13b1f6){case'create':return'<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a'+(_0x561a38(0x187)+_0x2c5d7b+'\x0a')+(_0x561a38(0x25a)+_0x30b5f0[_0x561a38(0x112)]+_0x561a38(0x1f1)+_0x30b5f0[_0x561a38(0x185)]+'\x0a\x0a')+_0x561a38(0x189);case _0x561a38(0x1c0):return _0x561a38(0x18b)+_0x561a38(0x247)+('<b>‚úÖ\x20'+_0x30b5f0[_0x561a38(0x112)]+'\x20‚Äî\x20'+_0x30b5f0[_0x561a38(0x185)]+_0x561a38(0x11b))+(_0x561a38(0x187)+_0x2c5d7b);case _0x561a38(0x123):return'<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a'+(_0x561a38(0x12f)+_0x2c5d7b+'\x20('+_0x30b5f0[_0x561a38(0x112)]+_0x561a38(0x207));case'complete':return'<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a'+_0x561a38(0x21e)+'<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>';default:return'';}},async 'send'(_0x124419,_0x5293d8){const _0x3ac479=a2_0x3f9e98;console[_0x3ac479(0x203)](_0x3ac479(0x26b),_0x124419,_0x5293d8);if(!_0x5293d8){console[_0x3ac479(0x1e2)](_0x3ac479(0x277));return;}const _0x4f39da=String(_0x5293d8[_0x3ac479(0x157)]);console[_0x3ac479(0x203)](_0x3ac479(0x1a9),_0x4f39da);if(!_0x5293d8[_0x3ac479(0x157)]||_0x4f39da===_0x3ac479(0x17c)||_0x4f39da===_0x3ac479(0x23f)){console[_0x3ac479(0x1e2)](_0x3ac479(0x1fa));if(_0x5293d8[_0x3ac479(0x1fb)]){const _0x49abc3=clients['find'](_0x27eb79=>_0x27eb79['name']===_0x5293d8[_0x3ac479(0x1fb)]);if(_0x49abc3)return console['log'](_0x3ac479(0x26e),_0x49abc3['id']),this[_0x3ac479(0x129)](_0x124419,{..._0x5293d8,'clientId':_0x49abc3['id']});}return;}if(_0x4f39da['length']<0x5){console[_0x3ac479(0x1cb)](_0x3ac479(0x10d),_0x4f39da);return;}const _0x1befe7=this[_0x3ac479(0x156)](_0x124419,_0x5293d8);if(!_0x1befe7){console[_0x3ac479(0x1e2)](_0x3ac479(0x14a));return;}console[_0x3ac479(0x203)]('[Notify]\x20Sending\x20to\x20GAS\x20for\x20'+_0x4f39da+_0x3ac479(0x1b9)),DataManager['fetchFromServer'](_0x3ac479(0x15b),{'chatId':_0x4f39da,'text':_0x1befe7})[_0x3ac479(0x21c)](_0x14153c=>console[_0x3ac479(0x203)](_0x3ac479(0x13c),_0x14153c))[_0x3ac479(0x113)](_0x8d1761=>console[_0x3ac479(0x1e2)](_0x3ac479(0x275),_0x8d1761));}};function getLocalDateStr(_0x4c1771){const _0x107a38=a2_0x3f9e98,_0x1ff05e=_0x4c1771[_0x107a38(0x244)](),_0x42cc61=String(_0x4c1771[_0x107a38(0x249)]()+0x1)[_0x107a38(0x19c)](0x2,'0'),_0xe20217=String(_0x4c1771['getDate']())[_0x107a38(0x19c)](0x2,'0');return _0x1ff05e+'-'+_0x42cc61+'-'+_0xe20217;}function getDateStr(_0x5eecf2){const _0x2da39d=a2_0x3f9e98,_0x1c2475=new Date();return _0x1c2475[_0x2da39d(0x1a5)](_0x1c2475[_0x2da39d(0x1bf)]()+_0x5eecf2),getLocalDateStr(_0x1c2475);}function getStartOfWeek(_0x891f16){const _0x3b4e75=a2_0x3f9e98,_0x4c8e7=new Date(_0x891f16),_0x544fea=_0x4c8e7['getDay'](),_0x363c5b=_0x4c8e7[_0x3b4e75(0x1bf)]()-_0x544fea+(_0x544fea===0x0?-0x6:0x1);return _0x4c8e7[_0x3b4e75(0x1a5)](_0x363c5b),_0x4c8e7['setHours'](0x0,0x0,0x0,0x0),_0x4c8e7;}function hexToRgba(_0x3a34cb,_0x4dddc7){const _0x13d2ba=a2_0x3f9e98;if(!_0x3a34cb)return _0x13d2ba(0x147);let _0x21a8a6=0x0,_0x2d36b1=0x0,_0x5d214a=0x0;if(_0x3a34cb[_0x13d2ba(0x14e)]===0x4)_0x21a8a6='0x'+_0x3a34cb[0x1]+_0x3a34cb[0x1],_0x2d36b1='0x'+_0x3a34cb[0x2]+_0x3a34cb[0x2],_0x5d214a='0x'+_0x3a34cb[0x3]+_0x3a34cb[0x3];else _0x3a34cb[_0x13d2ba(0x14e)]===0x7&&(_0x21a8a6='0x'+_0x3a34cb[0x1]+_0x3a34cb[0x2],_0x2d36b1='0x'+_0x3a34cb[0x3]+_0x3a34cb[0x4],_0x5d214a='0x'+_0x3a34cb[0x5]+_0x3a34cb[0x6]);return _0x13d2ba(0x172)+ +_0x21a8a6+',\x20'+ +_0x2d36b1+',\x20'+ +_0x5d214a+',\x20'+_0x4dddc7+')';}function renderTimeColumn(){const _0x42301a=a2_0x3f9e98,_0xebfb9c=document[_0x42301a(0x16d)](_0x42301a(0x176)),_0xa1a530=document['getElementById']('timeLineBadge');_0xebfb9c[_0x42301a(0x158)]='',_0xebfb9c[_0x42301a(0x12d)](_0xa1a530);for(let _0x311e2c=0x0;_0x311e2c<0x18;_0x311e2c++){const _0x5350fd=document['createElement'](_0x42301a(0x1e0));_0x5350fd[_0x42301a(0x233)]=_0x42301a(0x12c);if(_0x311e2c>0x0)_0x5350fd[_0x42301a(0x158)]=_0x42301a(0x104)+String(_0x311e2c)[_0x42301a(0x19c)](0x2,'0')+_0x42301a(0x19b);_0xebfb9c[_0x42301a(0x12d)](_0x5350fd);}}function renderDayRange(_0x4c5908,_0xf743f4){const _0x210fc7=a2_0x3f9e98,_0x56447e=document[_0x210fc7(0x16d)]('daysHeaderTrack'),_0x1b205a=document[_0x210fc7(0x16d)]('gridColumns'),_0x23c7c1=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x4ca54f=new Date();_0x4ca54f['setHours'](0x0,0x0,0x0,0x0);const _0x442fae=getLocalDateStr(new Date());for(let _0x3d9e1e=_0x4c5908;_0x3d9e1e<=_0xf743f4;_0x3d9e1e++){const _0x3afb81=new Date(_0x4ca54f);_0x3afb81[_0x210fc7(0x1a5)](_0x3afb81['getDate']()+_0x3d9e1e);const _0x5a3c77=getLocalDateStr(_0x3afb81);let _0x2bd1f3=_0x3afb81[_0x210fc7(0x142)]()-0x1;if(_0x2bd1f3===-0x1)_0x2bd1f3=0x6;const _0x1eecff=_0x5a3c77===_0x442fae,_0x3f5793=document[_0x210fc7(0xfa)]('div');_0x3f5793[_0x210fc7(0x233)]='day-col-header\x20'+(_0x1eecff?'today':''),_0x3f5793['id']='header-'+_0x5a3c77,_0x3f5793['setAttribute'](_0x210fc7(0x1b5),_0x5a3c77),_0x3f5793[_0x210fc7(0x158)]=_0x210fc7(0x126)+_0x23c7c1[_0x2bd1f3]+_0x210fc7(0xf8)+_0x3afb81[_0x210fc7(0x1bf)]()+_0x210fc7(0x237)+_0x5a3c77+_0x210fc7(0x143),_0x3f5793[_0x210fc7(0x22e)]=()=>openDayOptions(_0x5a3c77,_0x23c7c1[_0x2bd1f3]+'\x20'+_0x3afb81['getDate']()),_0x56447e[_0x210fc7(0x12d)](_0x3f5793);const _0x3ae347=document[_0x210fc7(0xfa)]('div');_0x3ae347['className']=_0x210fc7(0x221)+(_0x1eecff?'today':''),_0x3ae347[_0x210fc7(0x1ba)](_0x210fc7(0x1b5),_0x5a3c77),_0x3ae347[_0x210fc7(0x1ba)]('data-day-idx',_0x2bd1f3),renderEventsForColumn(_0x3ae347,_0x5a3c77,_0x2bd1f3),attachLongPressHandler(_0x3ae347,_0x3afb81),_0x1b205a['appendChild'](_0x3ae347),updateDayStats(_0x5a3c77);}}function reRenderBlocks(){const _0x438eb4=a2_0x3f9e98;document[_0x438eb4(0x1e3)](_0x438eb4(0x261))[_0x438eb4(0x10f)](_0x29c1a5=>{const _0x724d8c=_0x438eb4;_0x29c1a5[_0x724d8c(0x1e3)](_0x724d8c(0x21b))['forEach'](_0x5452e7=>_0x5452e7[_0x724d8c(0x1b4)]());const _0x1bdcdf=_0x29c1a5[_0x724d8c(0x1e5)](_0x724d8c(0x1b5)),_0x536851=parseInt(_0x29c1a5[_0x724d8c(0x1e5)](_0x724d8c(0x133))),_0x4654a1=Math['round'](_0x29c1a5[_0x724d8c(0x1aa)]);(availabilityPattern[_0x536851]||[])[_0x724d8c(0x10f)](_0x53231c=>{const _0x5b3802=_0x724d8c,_0x42b5d4=document[_0x5b3802(0xfa)](_0x5b3802(0x1e0));_0x42b5d4[_0x5b3802(0x233)]=_0x5b3802(0x180);const _0x12a3ef=_0x53231c*GRID_H;_0x42b5d4[_0x5b3802(0x1a8)]['top']=_0x12a3ef+'px',_0x42b5d4[_0x5b3802(0x1a8)]['backgroundPosition']='-'+_0x4654a1+_0x5b3802(0x1c2)+_0x12a3ef+'px',_0x29c1a5[_0x5b3802(0x12d)](_0x42b5d4);});if(specialRanges&&specialRanges['length']>0x0){const _0x5b1194=new Date(_0x1bdcdf+_0x724d8c(0x256))[_0x724d8c(0x105)](),_0x2de78e=new Date(_0x1bdcdf+_0x724d8c(0x270))[_0x724d8c(0x105)]();specialRanges[_0x724d8c(0x10f)](_0xd73723=>{const _0x402a70=_0x724d8c,_0x8d552a=new Date(_0xd73723[_0x402a70(0x112)])[_0x402a70(0x105)](),_0x4b961b=new Date(_0xd73723['end'])[_0x402a70(0x105)](),_0x24281b=Math[_0x402a70(0x106)](_0x5b1194,_0x8d552a),_0x1a6529=Math['min'](_0x2de78e,_0x4b961b);if(_0x24281b<_0x1a6529){if(_0x24281b<=_0x5b1194&&_0x1a6529>=_0x2de78e-0xea60){if(!_0x29c1a5[_0x402a70(0x11d)](_0x402a70(0x1d0))){const _0x51ddc6=document[_0x402a70(0xfa)](_0x402a70(0x1e0));_0x51ddc6[_0x402a70(0x233)]='day-off-overlay\x20stripe-bg',_0x51ddc6[_0x402a70(0x1a8)][_0x402a70(0x241)]='-'+_0x4654a1+'px\x200px',_0x29c1a5[_0x402a70(0x12d)](_0x51ddc6);}}else{const _0xc6a21a=(_0x24281b-_0x5b1194)/0x36ee80*GRID_H,_0x50159c=(_0x1a6529-_0x24281b)/0x36ee80*GRID_H,_0x57d1c5=document[_0x402a70(0xfa)](_0x402a70(0x1e0));_0x57d1c5['className']='blocked-range-part\x20stripe-bg',_0x57d1c5[_0x402a70(0x1a8)][_0x402a70(0x246)]=_0xc6a21a+'px',_0x57d1c5[_0x402a70(0x1a8)]['height']=_0x50159c+'px',_0x57d1c5[_0x402a70(0x1a8)][_0x402a70(0x241)]='-'+_0x4654a1+_0x402a70(0x1c2)+_0xc6a21a+'px',_0x29c1a5[_0x402a70(0x12d)](_0x57d1c5);}}});}if(dateExceptions[_0x1bdcdf]===_0x724d8c(0x117)){if(!_0x29c1a5[_0x724d8c(0x11d)](_0x724d8c(0x1d0))){const _0xede6af=document['createElement'](_0x724d8c(0x1e0));_0xede6af[_0x724d8c(0x233)]=_0x724d8c(0x1bd),_0xede6af[_0x724d8c(0x1a8)]['backgroundPosition']='-'+_0x4654a1+'px\x200px',_0x29c1a5[_0x724d8c(0x12d)](_0xede6af);}}renderEventsForColumn(_0x29c1a5,_0x1bdcdf,_0x536851),updateDayStats(_0x1bdcdf);});}function updateAllDayStats(){const _0x57f292=a2_0x3f9e98;document[_0x57f292(0x1e3)](_0x57f292(0x169))[_0x57f292(0x10f)](_0x54b98e=>{const _0x2ae74d=_0x57f292;updateDayStats(_0x54b98e[_0x2ae74d(0x1e5)]('data-date'));});}function updateDayStats(_0x3c289b){const _0x4d428b=a2_0x3f9e98,_0x8a7cf2=document[_0x4d428b(0x16d)](_0x4d428b(0x282)+_0x3c289b);if(!_0x8a7cf2)return;const _0x2974d4=new Date(_0x3c289b);let _0x1334b4=_0x2974d4[_0x4d428b(0x142)]()-0x1;if(_0x1334b4===-0x1)_0x1334b4=0x6;if(dateExceptions[_0x3c289b]===_0x4d428b(0x117)){_0x8a7cf2['style'][_0x4d428b(0x1fe)]=_0x4d428b(0x118);return;}const _0x5206e5=availabilityPattern[_0x1334b4]||[],_0x29a66b=0x18-_0x5206e5['length'],_0x443ea4=_0x29a66b*0x3c,_0x545e35=sessions[_0x4d428b(0x24a)](_0x51b60d=>_0x51b60d[_0x4d428b(0x197)]===_0x3c289b&&_0x51b60d[_0x4d428b(0x1c1)]!=='cancelled');if(_0x545e35[_0x4d428b(0x14e)]===0x0){_0x8a7cf2[_0x4d428b(0x1a8)][_0x4d428b(0x1fe)]=_0x4d428b(0x118);return;}let _0x5cfb78=_0x545e35[_0x4d428b(0x24c)](_0x2ed96c=>{const _0xd6e135=_0x4d428b,[_0x555c24,_0x5820d6]=_0x2ed96c[_0xd6e135(0x112)][_0xd6e135(0x1f9)](':')[_0xd6e135(0x24c)](Number),[_0xc68620,_0x22c012]=_0x2ed96c[_0xd6e135(0x185)][_0xd6e135(0x1f9)](':')[_0xd6e135(0x24c)](Number);return[_0x555c24*0x3c+_0x5820d6,_0xc68620*0x3c+_0x22c012];});_0x5cfb78[_0x4d428b(0x1de)]((_0x53bcb0,_0x47713d)=>_0x53bcb0[0x0]-_0x47713d[0x0]);let _0x1e0535=[];if(_0x5cfb78['length']>0x0){let _0xc33abc=_0x5cfb78[0x0];for(let _0x26ec9b=0x1;_0x26ec9b<_0x5cfb78[_0x4d428b(0x14e)];_0x26ec9b++){_0x5cfb78[_0x26ec9b][0x0]<_0xc33abc[0x1]?_0xc33abc[0x1]=Math[_0x4d428b(0x106)](_0xc33abc[0x1],_0x5cfb78[_0x26ec9b][0x1]):(_0x1e0535[_0x4d428b(0x1e9)](_0xc33abc),_0xc33abc=_0x5cfb78[_0x26ec9b]);}_0x1e0535[_0x4d428b(0x1e9)](_0xc33abc);}let _0x5cc579=0x0;_0x1e0535[_0x4d428b(0x10f)](_0x39983c=>_0x5cc579+=_0x39983c[0x1]-_0x39983c[0x0]),_0x8a7cf2[_0x4d428b(0x1a8)][_0x4d428b(0x1fe)]=_0x4d428b(0x177);const _0x224063=_0x8a7cf2['querySelector'](_0x4d428b(0x23a));if(_0x443ea4===0x0){_0x224063['style'][_0x4d428b(0x228)]=_0x4d428b(0x1ad),_0x224063[_0x4d428b(0x1a8)][_0x4d428b(0x20d)]='var(--acc-red)';return;}const _0x62f69f=_0x5cc579/_0x443ea4*0x64;console['log']('['+_0x3c289b+_0x4d428b(0x10a)+_0x29a66b+_0x4d428b(0x170)+_0x5cc579+_0x4d428b(0x219)+_0x62f69f['toFixed'](0x1)+'%'),_0x62f69f>0x64?(_0x224063['style'][_0x4d428b(0x228)]=_0x4d428b(0x1ad),_0x224063['style'][_0x4d428b(0x20d)]=_0x4d428b(0x235)):(_0x224063[_0x4d428b(0x1a8)][_0x4d428b(0x228)]=_0x62f69f+'%',_0x224063[_0x4d428b(0x1a8)][_0x4d428b(0x20d)]=_0x4d428b(0x100));}function renderEventsForColumn(_0x350ae6,_0x3aa914,_0x310cb8){const _0x129a8e=a2_0x3f9e98,_0x2f78ac=sessions[_0x129a8e(0x24a)](_0x38dd22=>_0x38dd22[_0x129a8e(0x197)]===_0x3aa914),_0x2aaeae=_0x2f78ac[_0x129a8e(0x24c)](_0x4fa306=>{const _0x2978b8=_0x129a8e,[_0x57c954,_0x5b6196]=_0x4fa306[_0x2978b8(0x112)][_0x2978b8(0x1f9)](':')[_0x2978b8(0x24c)](Number),[_0x1569aa,_0x6b74fb]=_0x4fa306[_0x2978b8(0x185)][_0x2978b8(0x1f9)](':')['map'](Number);return{'data':_0x4fa306,'start':_0x57c954*0x3c+_0x5b6196,'end':_0x1569aa*0x3c+_0x6b74fb,'colIndex':0x0};});_0x2aaeae[_0x129a8e(0x1de)]((_0x1482db,_0x23ba19)=>{const _0x35de20=_0x129a8e;if(_0x1482db[_0x35de20(0x112)]!==_0x23ba19[_0x35de20(0x112)])return _0x1482db['start']-_0x23ba19[_0x35de20(0x112)];return _0x23ba19[_0x35de20(0x185)]-_0x23ba19[_0x35de20(0x112)]-(_0x1482db[_0x35de20(0x185)]-_0x1482db[_0x35de20(0x112)]);});const _0x2f09e2=[];_0x2aaeae[_0x129a8e(0x10f)](_0x4704f0=>{const _0x421497=_0x129a8e;let _0x4cde46=![];for(let _0x4131ed=0x0;_0x4131ed<_0x2f09e2['length'];_0x4131ed++){const _0x52db5c=_0x2f09e2[_0x4131ed],_0x51a99c=_0x52db5c[_0x52db5c[_0x421497(0x14e)]-0x1];if(_0x4704f0['start']>=_0x51a99c[_0x421497(0x185)]){_0x52db5c[_0x421497(0x1e9)](_0x4704f0),_0x4704f0['colIndex']=_0x4131ed,_0x4cde46=!![];break;}}!_0x4cde46&&(_0x2f09e2['push']([_0x4704f0]),_0x4704f0[_0x421497(0x1c9)]=_0x2f09e2[_0x421497(0x14e)]-0x1);}),_0x2aaeae[_0x129a8e(0x10f)](_0x4c9f31=>{const _0x37721e=_0x129a8e;let _0xe370df=0x0;_0x2aaeae['forEach'](_0x3d6c62=>{const _0x191236=a2_0x107e;if(Math['max'](_0x4c9f31['start'],_0x3d6c62['start'])<Math[_0x191236(0x23d)](_0x4c9f31[_0x191236(0x185)],_0x3d6c62[_0x191236(0x185)])){if(_0x3d6c62['colIndex']>_0xe370df)_0xe370df=_0x3d6c62[_0x191236(0x1c9)];}});const _0x52a243=_0xe370df+0x1,_0x3457f8=0x64/_0x52a243,_0x2cb491=_0x4c9f31[_0x37721e(0x1c9)]*_0x3457f8,_0x28457e=createEventEl(_0x4c9f31[_0x37721e(0x250)]);_0x28457e[_0x37721e(0x1a8)][_0x37721e(0x228)]=_0x37721e(0x1f4)+_0x3457f8+_0x37721e(0x198),_0x28457e[_0x37721e(0x1a8)][_0x37721e(0x1d3)]=_0x37721e(0x1f4)+_0x2cb491+_0x37721e(0x20b),_0x28457e[_0x37721e(0x1a8)][_0x37721e(0x1ef)]=0xa+_0x4c9f31[_0x37721e(0x1c9)],_0x3457f8<0x55&&_0x28457e['classList'][_0x37721e(0x204)](_0x37721e(0x17d)),_0x350ae6['appendChild'](_0x28457e);});}function createEventEl(_0x18406a){const _0x563405=a2_0x3f9e98,[_0xf3e4b0,_0x2aa327]=_0x18406a[_0x563405(0x112)][_0x563405(0x1f9)](':')[_0x563405(0x24c)](Number),[_0x5ea5f2,_0x354a1f]=_0x18406a[_0x563405(0x185)][_0x563405(0x1f9)](':')[_0x563405(0x24c)](Number),_0x44152a=(_0xf3e4b0*0x3c+_0x2aa327)/0x3c*GRID_H,_0x2e163e=(_0x5ea5f2*0x3c+_0x354a1f-(_0xf3e4b0*0x3c+_0x2aa327))/0x3c*GRID_H,_0x209a21=document[_0x563405(0xfa)](_0x563405(0x1e0)),_0x22e686=_0x18406a[_0x563405(0x1c1)]===_0x563405(0x254)?_0x563405(0x1d4):'';_0x209a21[_0x563405(0x233)]=_0x563405(0x1f6)+_0x22e686,_0x209a21[_0x563405(0x1a8)][_0x563405(0x246)]=_0x44152a+'px',_0x209a21[_0x563405(0x1a8)][_0x563405(0x137)]=Math['max'](_0x2e163e,0x14)+'px';const _0x51413=clients[_0x563405(0x1ec)](_0x371bf7=>_0x18406a[_0x563405(0x157)]&&String(_0x371bf7['id'])===String(_0x18406a[_0x563405(0x157)])||_0x371bf7[_0x563405(0x263)]===_0x18406a[_0x563405(0x1fb)]),_0x4837df=_0x51413?_0x51413[_0x563405(0x15f)]:_0x563405(0x243);_0x209a21[_0x563405(0x1a8)][_0x563405(0x165)]=_0x4837df,_0x209a21[_0x563405(0x1a8)]['backgroundColor']=hexToRgba(_0x4837df,0.85);let _0x2d358a=_0x563405(0x175)+_0x18406a[_0x563405(0x1fb)]+_0x563405(0x24f)+_0x18406a[_0x563405(0x112)]+_0x563405(0x101)+_0x18406a['end']+'</div>';return _0x18406a[_0x563405(0x21a)]&&(_0x2d358a+=_0x563405(0x111)),_0x18406a[_0x563405(0x1c1)]===_0x563405(0x254)&&(_0x2d358a+='<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>'),_0x209a21[_0x563405(0x158)]=_0x2d358a,_0x209a21['onclick']=_0x113253=>{const _0x513ede=_0x563405;_0x113253[_0x513ede(0x252)](),openEdit(_0x18406a);},_0x209a21;}function attachLongPressHandler(_0x2b2d66,_0x55ddd6){const _0x44b077=a2_0x3f9e98;let _0x24a4a1=0x0,_0x530d79=null;const _0x4a1324=_0x45d915=>{const _0x2ea5b8=a2_0x107e;if(_0x45d915[_0x2ea5b8(0x1d1)][_0x2ea5b8(0x16f)](_0x2ea5b8(0x1fd)))return;isScrolling=![],_0x24a4a1=_0x45d915[_0x2ea5b8(0xff)]?_0x45d915[_0x2ea5b8(0xff)][0x0][_0x2ea5b8(0x248)]:_0x45d915[_0x2ea5b8(0x248)],_0x530d79=setTimeout(()=>{const _0x407f6b=_0x2ea5b8;if(!isScrolling){navigator[_0x407f6b(0x1e7)]?.(0x32);const _0x3e5c7d=_0x2b2d66[_0x407f6b(0x128)](),_0x355ba3=Math[_0x407f6b(0xfc)]((_0x24a4a1-_0x3e5c7d[_0x407f6b(0x246)])/GRID_H);_0x55ddd6['setHours'](_0x355ba3,0x0),openAddSession(_0x55ddd6);}},0x1f4);},_0xe051f0=()=>{isScrolling=!![],clearTimeout(_0x530d79);},_0x3cedfb=()=>{clearTimeout(_0x530d79);};_0x2b2d66[_0x44b077(0x1db)](_0x44b077(0x27c),_0x4a1324,{'passive':!![]}),_0x2b2d66[_0x44b077(0x1db)](_0x44b077(0x278),_0xe051f0,{'passive':!![]}),_0x2b2d66[_0x44b077(0x1db)](_0x44b077(0x18a),_0x3cedfb),_0x2b2d66['addEventListener']('mousedown',_0x4a1324),_0x2b2d66[_0x44b077(0x1db)](_0x44b077(0x10b),_0xe051f0),_0x2b2d66['addEventListener'](_0x44b077(0x234),_0x3cedfb);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x3cc4e0=a2_0x3f9e98,_0x22f7f0=document['getElementById'](_0x3cc4e0(0x103)),_0x2e7e5b=_0x22f7f0[_0x3cc4e0(0x18e)],_0x4e5242=_0x22f7f0[_0x3cc4e0(0x251)],_0x4bff7d=_0x22f7f0['clientWidth'];if(_0x4e5242-(_0x2e7e5b+_0x4bff7d)<0x12c){const _0x384662=endOffset;endOffset+=0xe,renderDayRange(_0x384662+0x1,endOffset),reRenderBlocks();}if(_0x2e7e5b<0x12c){const _0x5ad9f6=startOffset;startOffset-=0xe,prependDays(startOffset,_0x5ad9f6-0x1),_0x22f7f0[_0x3cc4e0(0x18e)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x502d8c,_0x400ecd){const _0x2aa70e=a2_0x3f9e98,_0x90cfcd=document['getElementById'](_0x2aa70e(0x1a1)),_0x229876=document[_0x2aa70e(0x16d)]('gridColumns'),_0x5ef6c0=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x183938=new Date();_0x183938[_0x2aa70e(0x1f7)](0x0,0x0,0x0,0x0);const _0x1daaf7=getLocalDateStr(new Date()),_0x17cb07=document['createDocumentFragment'](),_0x2645da=document[_0x2aa70e(0x1c3)]();for(let _0x479802=_0x502d8c;_0x479802<=_0x400ecd;_0x479802++){const _0x4da5f8=new Date(_0x183938);_0x4da5f8[_0x2aa70e(0x1a5)](_0x4da5f8['getDate']()+_0x479802);const _0x5c8ff4=getLocalDateStr(_0x4da5f8);let _0xea5c3f=_0x4da5f8[_0x2aa70e(0x142)]()-0x1;if(_0xea5c3f===-0x1)_0xea5c3f=0x6;const _0x50c3d2=_0x5c8ff4===_0x1daaf7,_0x2ed93d=document[_0x2aa70e(0xfa)]('div');_0x2ed93d[_0x2aa70e(0x233)]=_0x2aa70e(0x171)+(_0x50c3d2?'today':''),_0x2ed93d['id']=_0x2aa70e(0x1c8)+_0x5c8ff4,_0x2ed93d[_0x2aa70e(0x1ba)](_0x2aa70e(0x1b5),_0x5c8ff4),_0x2ed93d[_0x2aa70e(0x158)]=_0x2aa70e(0x126)+_0x5ef6c0[_0xea5c3f]+_0x2aa70e(0xf8)+_0x4da5f8[_0x2aa70e(0x1bf)]()+_0x2aa70e(0x237)+_0x5c8ff4+_0x2aa70e(0x143),_0x2ed93d[_0x2aa70e(0x22e)]=()=>openDayOptions(_0x5c8ff4,_0x5ef6c0[_0xea5c3f]+'\x20'+_0x4da5f8[_0x2aa70e(0x1bf)]()),_0x17cb07[_0x2aa70e(0x12d)](_0x2ed93d);const _0xe1daa=document[_0x2aa70e(0xfa)](_0x2aa70e(0x1e0));_0xe1daa[_0x2aa70e(0x233)]=_0x2aa70e(0x221)+(_0x50c3d2?_0x2aa70e(0x1c5):''),_0xe1daa[_0x2aa70e(0x1ba)](_0x2aa70e(0x1b5),_0x5c8ff4),_0xe1daa[_0x2aa70e(0x1ba)](_0x2aa70e(0x133),_0xea5c3f),renderEventsForColumn(_0xe1daa,_0x5c8ff4,_0xea5c3f),attachLongPressHandler(_0xe1daa,_0x4da5f8),_0x2645da['appendChild'](_0xe1daa),updateDayStats(_0x5c8ff4);}_0x90cfcd[_0x2aa70e(0x150)](_0x17cb07,_0x90cfcd[_0x2aa70e(0x226)]),_0x229876[_0x2aa70e(0x150)](_0x2645da,_0x229876[_0x2aa70e(0x11d)](_0x2aa70e(0x179)));}function a2_0x107e(_0x5c24a6,_0x33f8cc){_0x5c24a6=_0x5c24a6-0xf8;const _0xe53795=a2_0x3ecf();let _0x10c884=_0xe53795[_0x5c24a6];return _0x10c884;}function validateAppointment(_0x555ce8,_0x46ee1e,_0x47fcef,_0x4f5256,_0x3d460f){const _0x127685=a2_0x3f9e98,[_0x150119,_0x3c9f68]=_0x46ee1e['split'](':')[_0x127685(0x24c)](Number),[_0x19bbf8,_0x160e2b]=_0x47fcef[_0x127685(0x1f9)](':')[_0x127685(0x24c)](Number),_0x4e3848=_0x150119*0x3c+_0x3c9f68,_0xffab9f=_0x19bbf8*0x3c+_0x160e2b,_0x2beddd=String(_0x3d460f);let _0x515760=![],_0x3fefb8='';for(let _0x17f464 of sessions){if(_0x17f464['dateStr']!==_0x555ce8)continue;if(_0x17f464[_0x127685(0x1c1)]===_0x127685(0x110))continue;if(_0x4f5256&&String(_0x17f464['id'])===String(_0x4f5256))continue;const [_0x4d3581,_0x1cc5ae]=_0x17f464[_0x127685(0x112)][_0x127685(0x1f9)](':')[_0x127685(0x24c)](Number),[_0x48f190,_0x978f61]=_0x17f464[_0x127685(0x185)][_0x127685(0x1f9)](':')['map'](Number),_0x234775=_0x4d3581*0x3c+_0x1cc5ae,_0x5749c0=_0x48f190*0x3c+_0x978f61;if(Math[_0x127685(0x106)](_0x4e3848,_0x234775)<Math[_0x127685(0x23d)](_0xffab9f,_0x5749c0)){if(_0x17f464[_0x127685(0x157)]&&String(_0x17f464['clientId'])===_0x2beddd)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0x17f464[_0x127685(0x1fb)]+_0x127685(0x25b)};_0x515760=!![],_0x3fefb8=_0x17f464['client'];}}if(_0x515760)return{'valid':!![],'warning':_0x127685(0x11f)+_0x3fefb8};return{'valid':!![]};}function updateDateDisplay(){const _0x22ee9a=a2_0x3f9e98,_0x307a6a=document[_0x22ee9a(0x16d)](_0x22ee9a(0x253))['value'],_0x35dc9c=document['getElementById'](_0x22ee9a(0x16e));if(!_0x307a6a){_0x35dc9c[_0x22ee9a(0x227)]='';return;}const [_0x30fa58,_0xe2478e,_0x35888b]=_0x307a6a[_0x22ee9a(0x1f9)]('-')[_0x22ee9a(0x24c)](Number),_0x5639c3=new Date(_0x30fa58,_0xe2478e-0x1,_0x35888b),_0x213a2f={'weekday':_0x22ee9a(0x12a),'day':'numeric','month':_0x22ee9a(0x12a),'year':_0x22ee9a(0x155)};let _0x35885c=_0x5639c3[_0x22ee9a(0x23e)](_0x22ee9a(0x139),_0x213a2f);_0x35885c=_0x35885c[_0x22ee9a(0xfb)](0x0)[_0x22ee9a(0x19e)]()+_0x35885c[_0x22ee9a(0x224)](0x1),_0x35dc9c['textContent']=_0x35885c;}function autoSetEndTime(){const _0x551b78=a2_0x3f9e98,_0x75e276=document[_0x551b78(0x16d)](_0x551b78(0x259))[_0x551b78(0x1b6)];if(!_0x75e276)return;const [_0x18028d,_0x5e0f82]=_0x75e276['split'](':')[_0x551b78(0x24c)](Number);let _0x40cb43=_0x18028d+0x1;if(_0x40cb43>0x17)_0x40cb43=0x0;const _0x4e5ce1=String(_0x40cb43)[_0x551b78(0x19c)](0x2,'0')+':'+String(_0x5e0f82)[_0x551b78(0x19c)](0x2,'0');document[_0x551b78(0x16d)]('inpEnd')[_0x551b78(0x1b6)]=_0x4e5ce1;}function populateClientSelect(){const _0x1df90f=a2_0x3f9e98,_0x14d98d=document[_0x1df90f(0x16d)](_0x1df90f(0x268));_0x14d98d[_0x1df90f(0x158)]='';if(clients[_0x1df90f(0x14e)]===0x0){const _0x3ce328=document['createElement'](_0x1df90f(0x27b));_0x3ce328['text']=_0x1df90f(0x153),_0x14d98d['appendChild'](_0x3ce328);return;}clients[_0x1df90f(0x10f)](_0x5bcaa0=>{const _0xb59ac0=_0x1df90f,_0x376032=document[_0xb59ac0(0xfa)](_0xb59ac0(0x27b));_0x376032[_0xb59ac0(0x1b6)]=_0x5bcaa0[_0xb59ac0(0x263)],_0x376032[_0xb59ac0(0x227)]=_0x5bcaa0[_0xb59ac0(0x263)],_0x14d98d[_0xb59ac0(0x12d)](_0x376032);});}function openActionSheet(_0x4f4a28){const _0x3e7396=a2_0x3f9e98,_0x424b98=document['getElementById'](_0x3e7396(0x1f5)),_0x14d009=document[_0x3e7396(0x16d)](_0x3e7396(0x271)),_0x58bfca=document[_0x3e7396(0x16d)](_0x3e7396(0x119)),_0x245834=document[_0x3e7396(0x16d)](_0x3e7396(0x210)),_0x57efad=document[_0x3e7396(0x16d)](_0x3e7396(0x161));_0x14d009['classList'][_0x3e7396(0x204)](_0x3e7396(0x148)),_0x424b98[_0x3e7396(0x1b8)][_0x3e7396(0x204)](_0x3e7396(0x154));if(_0x4f4a28==='save')_0x58bfca[_0x3e7396(0x227)]=_0x3e7396(0x13f),_0x245834[_0x3e7396(0x227)]=_0x3e7396(0x25f),_0x245834['onclick']=()=>{closeActionSheet(),updateSeriesBatch('single',tempSessionData);},_0x57efad['textContent']=_0x3e7396(0xfd),_0x57efad[_0x3e7396(0x22e)]=()=>{const _0x3d76d9=_0x3e7396;closeActionSheet(),updateSeriesBatch(_0x3d76d9(0x184),tempSessionData);};else _0x4f4a28===_0x3e7396(0x22c)&&(_0x58bfca[_0x3e7396(0x227)]='–£–¥–∞–ª–µ–Ω–∏–µ',_0x245834[_0x3e7396(0x227)]='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x245834[_0x3e7396(0x233)]=_0x3e7396(0x218),_0x245834[_0x3e7396(0x22e)]=()=>{const _0xe2d98f=_0x3e7396;closeActionSheet(),commitDelete('single',sessions[_0xe2d98f(0x1ec)](_0x91673c=>_0x91673c['id']===editingId));},_0x57efad[_0x3e7396(0x227)]=_0x3e7396(0xfd),_0x57efad[_0x3e7396(0x233)]=_0x3e7396(0x146),_0x57efad[_0x3e7396(0x22e)]=()=>{const _0x69b059=_0x3e7396;closeActionSheet(),commitDelete(_0x69b059(0x184),sessions[_0x69b059(0x1ec)](_0xf0c8ba=>_0xf0c8ba['id']===editingId));});}function closeActionSheet(){const _0x56bac9=a2_0x3f9e98;document[_0x56bac9(0x16d)]('actionSheet')[_0x56bac9(0x1b8)][_0x56bac9(0x1b4)](_0x56bac9(0x154)),document[_0x56bac9(0x16d)]('actionSheetOverlay')[_0x56bac9(0x1b8)][_0x56bac9(0x1b4)](_0x56bac9(0x148));}function openSettings(){openSheet('settingsSheet');}function saveCoachSettings(){const _0x17fd02=a2_0x3f9e98,_0x2731ff=document[_0x17fd02(0x16d)](_0x17fd02(0x15c))[_0x17fd02(0x1b6)];localStorage[_0x17fd02(0x25d)](_0x17fd02(0x27a),_0x2731ff),console[_0x17fd02(0x203)](_0x17fd02(0x1a4),_0x2731ff),DataManager[_0x17fd02(0x1e8)](_0x17fd02(0x1e1),{'settings':{'cancel_window':_0x2731ff}})[_0x17fd02(0x113)](_0x2b384d=>{const _0x5e1920=_0x17fd02;console['error'](_0x5e1920(0x151),_0x2b384d),showToast(_0x5e1920(0x18d),![]);});}function loadCoachSettings(){const _0x3d4601=a2_0x3f9e98,_0x4a13ab=localStorage[_0x3d4601(0x1c6)](_0x3d4601(0x27a));_0x4a13ab&&(document[_0x3d4601(0x16d)]('settingCancelWindow')[_0x3d4601(0x1b6)]=_0x4a13ab);}function openRangesSheet(){const _0x1ab783=a2_0x3f9e98;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x1ab783(0x267));}function addRange(){const _0x428b20=a2_0x3f9e98,_0xe2ac72=document[_0x428b20(0x16d)](_0x428b20(0x1bc))['value'],_0x4b3efe=document[_0x428b20(0x16d)]('rangeStartTime')[_0x428b20(0x1b6)],_0x220c66=document[_0x428b20(0x16d)](_0x428b20(0x202))[_0x428b20(0x1b6)],_0x3e1a8e=document[_0x428b20(0x16d)](_0x428b20(0x121))[_0x428b20(0x1b6)];if(!_0xe2ac72||!_0x4b3efe||!_0x220c66||!_0x3e1a8e)return alert(_0x428b20(0x265));const _0x24708a=_0xe2ac72+'T'+_0x4b3efe,_0x475494=_0x220c66+'T'+_0x3e1a8e;if(_0x24708a>=_0x475494)return alert(_0x428b20(0x1e6));specialRanges[_0x428b20(0x1e9)]({'start':_0x24708a,'end':_0x475494}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x428b20(0x13a)](),DataManager[_0x428b20(0x1e8)](_0x428b20(0x1e1),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x29104e){const _0x156397=a2_0x3f9e98;specialRanges[_0x156397(0x20c)](_0x29104e,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x156397(0x13a)](),DataManager[_0x156397(0x1e8)](_0x156397(0x1e1),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x5a8f5b=a2_0x3f9e98;document['getElementById'](_0x5a8f5b(0x1bc))[_0x5a8f5b(0x1b6)]='',document[_0x5a8f5b(0x16d)](_0x5a8f5b(0x159))[_0x5a8f5b(0x1b6)]=_0x5a8f5b(0x1f2),document[_0x5a8f5b(0x16d)](_0x5a8f5b(0x202))['value']='',document[_0x5a8f5b(0x16d)](_0x5a8f5b(0x121))[_0x5a8f5b(0x1b6)]=_0x5a8f5b(0x215);}function renderRangesList(){const _0x21ddb2=a2_0x3f9e98,_0x28ca0c=document[_0x21ddb2(0x16d)]('rangesList');_0x28ca0c[_0x21ddb2(0x158)]='';if(!specialRanges[_0x21ddb2(0x14e)]){_0x28ca0c[_0x21ddb2(0x158)]='<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>';return;}specialRanges[_0x21ddb2(0x10f)]((_0x65fa9a,_0x490a50)=>{const _0x63ea05=_0x21ddb2,_0x488d86=document[_0x63ea05(0xfa)](_0x63ea05(0x1e0));_0x488d86[_0x63ea05(0x233)]=_0x63ea05(0x182);const _0x2a0f59=_0x93120e=>{const _0x3e3401=_0x63ea05,_0x4748ef=new Date(_0x93120e);return _0x4748ef[_0x3e3401(0x1bf)]()+'.'+String(_0x4748ef[_0x3e3401(0x249)]()+0x1)[_0x3e3401(0x19c)](0x2,'0')+'\x20'+String(_0x4748ef[_0x3e3401(0x22b)]())[_0x3e3401(0x19c)](0x2,'0')+':'+String(_0x4748ef[_0x3e3401(0x107)]())['padStart'](0x2,'0');};_0x488d86[_0x63ea05(0x158)]=_0x63ea05(0x22a)+_0x2a0f59(_0x65fa9a[_0x63ea05(0x112)])+_0x63ea05(0x1f1)+_0x2a0f59(_0x65fa9a['end'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange('+_0x490a50+_0x63ea05(0x140),_0x28ca0c['appendChild'](_0x488d86);});}function scrollToToday(){const _0x5d5736=a2_0x3f9e98,_0x4a497d=getLocalDateStr(new Date()),_0x3143c1=document[_0x5d5736(0x16d)](_0x5d5736(0x1c8)+_0x4a497d),_0x306477=document[_0x5d5736(0x16d)]('matrixViewport');if(_0x3143c1&&_0x306477){const _0x3e59eb=_0x306477['clientWidth'],_0x34a2aa=_0x3143c1[_0x5d5736(0x1aa)],_0x20bbd3=_0x3143c1[_0x5d5736(0x11e)];_0x306477[_0x5d5736(0x18e)]=_0x34a2aa-_0x3e59eb/0x2+_0x20bbd3/0x2,_0x306477[_0x5d5736(0x1e4)]=0x9*GRID_H;}}function onScroll(){const _0x996bcb=a2_0x3f9e98,_0x236bef=document['getElementById'](_0x996bcb(0x103)),_0x4e4f7f=document[_0x996bcb(0x1e3)](_0x996bcb(0x169));for(let _0x379a55 of _0x4e4f7f)if(_0x379a55[_0x996bcb(0x1aa)]>=_0x236bef[_0x996bcb(0x18e)]){const _0x449dc1=new Date(_0x379a55['getAttribute'](_0x996bcb(0x1b5)));document[_0x996bcb(0x16d)]('headerMonth')[_0x996bcb(0x227)]=_0x449dc1['toLocaleString']('ru',{'month':'long'})['toUpperCase']()+'\x20'+_0x449dc1['getFullYear']();break;}}function showToast(_0x21cd3e,_0x1f7139=![]){const _0x4d4164=a2_0x3f9e98,_0x44c5e5=document['getElementById'](_0x4d4164(0x162));_0x44c5e5[_0x4d4164(0x233)]=_0x4d4164(0x1da)+(_0x1f7139?_0x4d4164(0xf9):''),document[_0x4d4164(0x16d)](_0x4d4164(0x196))[_0x4d4164(0x227)]=_0x1f7139?_0x4d4164(0x17b):_0x4d4164(0x20f),document[_0x4d4164(0x16d)](_0x4d4164(0x27d))[_0x4d4164(0x227)]=_0x21cd3e,_0x44c5e5[_0x4d4164(0x1b8)][_0x4d4164(0x204)]('show'),setTimeout(()=>{const _0x59c254=_0x4d4164;_0x44c5e5['classList'][_0x59c254(0x1b4)](_0x59c254(0x225));},0xbb8);}function openDayOptions(_0x53642e,_0x494161){const _0x36766a=a2_0x3f9e98;selectedDayForOptions=_0x53642e,document[_0x36766a(0x16d)]('dayOptionsTitle')[_0x36766a(0x227)]=_0x494161,openSheet('dayOptionsSheet');}function a2_0x3ecf(){const _0x10de5a=['inpRecurring','block',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','mousemove','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','round','forEach','cancelled','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','start','catch','done','.period-switch\x20.p-btn','parse','off','none','asTitle',':\x20Client\x20already\x20booked','</b>\x0a\x0a','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','querySelector','offsetWidth','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','initData','rangeEndTime','mergeServerData','cancel','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','.pib-text','<div\x20class=\x22dch-day\x22>','indexOf','getBoundingClientRect','send','long','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','time-label','appendChild','init_load','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','10px\x2010px\x200\x200','search','stringify','data-day-idx','69270JVcgqk','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','(((.+)+)+)+$','height','Batch\x20Sync\x20OK','ru-RU','saveLocally','deleted','[Notify]\x20Server\x20Response:','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','overlay','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','getDay','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','pattern','as-button\x20danger\x20bold','rgba(100,100,100,0.5)','active','entries','[Notify]\x20Error:\x20Text\x20generation\x20failed','inpNote','[Notify]\x20Client\x20SWAP\x20detected','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','length','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','insertBefore','Save\x20settings\x20error:','toString','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','open','numeric','getText','clientId','innerHTML','rangeStartTime','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','send_notification','settingCancelWindow','Error\x20setting\x20color:',':00','color','sheetTitle','asBtnSeries','toast','now','Unknown','borderLeftColor','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','.sheet','2138GKjFjp','.day-col-header','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','isArray','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','getElementById','sheetDateSubtitle','closest','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','day-col-header\x20','rgba(','create','sessionSheet','<div\x20class=\x22ev-title\x22>','timeColumn','flex','pe-time-label','.day-column','syncBatch','–£—Å–ø–µ—à–Ω–æ','undefined','mini','inpSeriesCount','#050505','blocked-slot\x20stripe-bg','doDateHeader','range-item','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','series','end','btnDelete','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20',']\x20Failed:','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','touchend','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','rgba(48,\x20209,\x2088,\x200.15)','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','scrollLeft','planned','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','rgba(255,\x2069,\x2058,\x200.15)','rgba(255,\x2069,\x2058,\x200.3)','uc_clients_v9','ranges','30QATOih','toastTitle','dateStr','%\x20-\x204px)','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',':00</span>','padStart','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','toUpperCase','checked','text/plain;charset=UTF-8','daysHeaderTrack','de-item','loadLocal','[Settings]\x20Cancel\x20window\x20set\x20to:','setDate','inpEnd','single','style','[Notify]\x20Detected\x20Client\x20ID:','offsetLeft','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','3275672XyBQeu','100%','btnStatusToggle','disableVerticalSwipes','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','1136890YyFPdv','rgba(255,\x20159,\x2010,\x200.3)','findIndex','remove','data-date','value','2757OCNIwm','classList','...','setAttribute','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rangeStartDate','day-off-overlay\x20stripe-bg','cancel_window','getDate','update','status','px\x20-','createDocumentFragment','btn-primary\x20btn-secondary','today','getItem','BackButton','header-','colIndex','anCustomDates','warn','router.html','patternEditor','doWorkHours','WebApp','.day-off-overlay','target','anDonutCircle','left','\x20status-completed','peGrid','settings','1025888cauGIs','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','scroll','toast-notification\x20','addEventListener','setMonth','keys','sort','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','div','save_settings','error','querySelectorAll','scrollTop','getAttribute','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','vibrate','fetchFromServer','push','note','</span>\x20/\x20','find','Local\x20Load\x20Error','Telegram','zIndex','setBackgroundColor','\x20‚Äî\x20','00:00','initDataUnsafe','calc(','actionSheet','event-card','setHours','[API\x20','split','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','client','valid','.event-card','display','\x20–∏–∑\x20','calendar','Error\x20setting\x20back\x20button:','rangeEndDate','log','add','anEnd','total',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','timeLineBadge','pe-cell\x20','anTotalStats','%\x20+\x202px)','splice','background','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','–ò–Ω—Ñ–æ','asBtnOne','DOMContentLoaded','patternInfoBox','complete','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','23:59','uc_settings_v9','10px','as-button\x20danger','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','seriesId','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','then','location','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','[Series]\x20Skipped\x20','syncLoad','day-column\x20','setHeaderColor','strokeDashoffset','slice','show','firstChild','textContent','width','btn-status-toggle\x20undo-mode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','getHours','delete','user','onclick','btn-status-toggle','dayOptionsSheet','exceptions','client-stat-card','className','mouseup','var(--acc-red)','borderColor','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','globalTimeLine','.dch-stats-fill','[Sync]\x20Loading\x20','175rkfVYx','min','toLocaleDateString','null','20OYAOiJ','backgroundPosition','POST','#0a84ff','getFullYear','uc_sessions_v9','top','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','clientY','getMonth','filter','seriesCountContainer','map','recurringOptionContainer','all','</div><div\x20class=\x22ev-time\x22>','data','scrollWidth','stopPropagation','inpDate','completed','9583218gYSOgi','T00:00:00','includes','anStart','inpStart','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','v9.0-BATCH-CALENDAR','setItem','doEventsList','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','#gridColumns\x20.day-column','clients','name','var(--acc-green)','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','localeCompare','rangesSheet','inpClient','save','warning','[Notify]\x20Attempting\x20to\x20send:','batch_sync','from','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','constructor','T23:59:59','actionSheetOverlay','borderRadius','analyticsList','random','[Notify]\x20Network\x20Failed','var(--acc-orange)','[Notify]\x20Error:\x20sessionData\x20is\x20null','touchmove','Local\x20Save\x20Error','uc_settings_cancel_window','option','touchstart','toastMessage','week','#fff','json','month','stat-','</div><div\x20class=\x22dch-num\x22>','success','createElement','charAt','floor','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','substr','touches','var(--acc-current)','\x20-\x20','2346971HPAGGO','matrixViewport','<span>','getTime','max','getMinutes'];a2_0x3ecf=function(){return _0x10de5a;};return a2_0x3ecf();}function toggleDayOff(){const _0x4f9bd9=a2_0x3f9e98;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x4f9bd9(0x117),reRenderBlocks(),closeAllSheets(),DataManager[_0x4f9bd9(0x13a)](),DataManager[_0x4f9bd9(0x1e8)]('save_settings',{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x53aa40=a2_0x3f9e98;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x53aa40(0x13a)](),DataManager[_0x53aa40(0x1e8)](_0x53aa40(0x1e1),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x3abbae){const _0x128a90=a2_0x3f9e98;document[_0x128a90(0x16d)](_0x128a90(0x13e))['classList'][_0x128a90(0x204)](_0x128a90(0x148)),document[_0x128a90(0x16d)](_0x3abbae)['classList']['add'](_0x128a90(0x154));}function closeAllSheets(){const _0xd9e48e=a2_0x3f9e98;document['getElementById'](_0xd9e48e(0x13e))[_0xd9e48e(0x1b8)][_0xd9e48e(0x1b4)](_0xd9e48e(0x148)),document[_0xd9e48e(0x1e3)](_0xd9e48e(0x167))[_0xd9e48e(0x10f)](_0x124b11=>_0x124b11[_0xd9e48e(0x1b8)][_0xd9e48e(0x1b4)](_0xd9e48e(0x154)));}function openPatternEditor(){const _0x3f5742=a2_0x3f9e98;closeAllSheets(),document[_0x3f5742(0x16d)](_0x3f5742(0x1cd))['classList'][_0x3f5742(0x204)](_0x3f5742(0x154)),renderPatternEditor();}function closePatternEditor(){const _0x1a9685=a2_0x3f9e98;document[_0x1a9685(0x16d)](_0x1a9685(0x1cd))['classList'][_0x1a9685(0x1b4)](_0x1a9685(0x154));}function savePattern(){const _0x5b5487=a2_0x3f9e98;document['getElementById'](_0x5b5487(0x1cd))[_0x5b5487(0x1b8)]['remove'](_0x5b5487(0x154)),reRenderBlocks(),DataManager[_0x5b5487(0x13a)](),DataManager[_0x5b5487(0x1e8)](_0x5b5487(0x1e1),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x43a647=a2_0x3f9e98,_0x282e43=document[_0x43a647(0x16d)](_0x43a647(0x1d5));_0x282e43[_0x43a647(0x158)]='';const _0x10c724=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x59a19f=document[_0x43a647(0xfa)]('div');_0x59a19f['className']='pe-corner',_0x282e43[_0x43a647(0x12d)](_0x59a19f),_0x10c724[_0x43a647(0x10f)]((_0x1a6e97,_0x3b4f1f)=>{const _0x463741=_0x43a647,_0x1f4d94=document[_0x463741(0xfa)](_0x463741(0x1e0));_0x1f4d94[_0x463741(0x233)]='pe-col-header',_0x1f4d94[_0x463741(0x158)]=_0x1a6e97+_0x463741(0x16c),_0x1f4d94['onclick']=()=>toggleColPattern(_0x3b4f1f),_0x282e43[_0x463741(0x12d)](_0x1f4d94);});for(let _0x40acab=0x0;_0x40acab<0x18;_0x40acab++){const _0x2caa81=document[_0x43a647(0xfa)]('div');_0x2caa81[_0x43a647(0x233)]=_0x43a647(0x178),_0x2caa81[_0x43a647(0x158)]=_0x43a647(0x15a)+String(_0x40acab)['padStart'](0x2,'0')+_0x43a647(0x15e),_0x2caa81[_0x43a647(0x22e)]=()=>toggleRowPattern(_0x40acab),_0x282e43['appendChild'](_0x2caa81);for(let _0x11fa68=0x0;_0x11fa68<0x7;_0x11fa68++){const _0xb11bf2=document[_0x43a647(0xfa)]('div'),_0x3e78d3=(availabilityPattern[_0x11fa68]||[])[_0x43a647(0x257)](_0x40acab),_0x3b1360=!_0x3e78d3;_0xb11bf2['className']=_0x43a647(0x209)+(_0x3b1360?_0x43a647(0x148):''),_0xb11bf2[_0x43a647(0x22e)]=()=>toggleSinglePattern(_0x11fa68,_0x40acab),_0x282e43[_0x43a647(0x12d)](_0xb11bf2);}}}function toggleSinglePattern(_0x4dfbe5,_0x2b621c){const _0x467591=a2_0x3f9e98;if(!availabilityPattern[_0x4dfbe5])availabilityPattern[_0x4dfbe5]=[];const _0x38b527=availabilityPattern[_0x4dfbe5],_0x508f19=_0x38b527[_0x467591(0x127)](_0x2b621c);_0x508f19===-0x1?_0x38b527[_0x467591(0x1e9)](_0x2b621c):_0x38b527[_0x467591(0x20c)](_0x508f19,0x1),renderPatternEditor();}function toggleColPattern(_0x551819){const _0xd18e93=a2_0x3f9e98;if(!availabilityPattern[_0x551819])availabilityPattern[_0x551819]=[];const _0xd13116=availabilityPattern[_0x551819];_0xd13116[_0xd18e93(0x14e)]===0x0?availabilityPattern[_0x551819]=Array[_0xd18e93(0x26d)]({'length':0x18},(_0x37d46b,_0x4e1199)=>_0x4e1199):availabilityPattern[_0x551819]=[],renderPatternEditor();}function toggleRowPattern(_0x5e83c3){const _0x198326=a2_0x3f9e98;let _0x3615bc=!![];for(let _0x4d1fc6=0x0;_0x4d1fc6<0x7;_0x4d1fc6++){if((availabilityPattern[_0x4d1fc6]||[])[_0x198326(0x257)](_0x5e83c3)){_0x3615bc=![];break;}}for(let _0x1a6fbc=0x0;_0x1a6fbc<0x7;_0x1a6fbc++){if(!availabilityPattern[_0x1a6fbc])availabilityPattern[_0x1a6fbc]=[];const _0x5054b0=availabilityPattern[_0x1a6fbc][_0x198326(0x127)](_0x5e83c3);if(_0x3615bc){if(_0x5054b0===-0x1)availabilityPattern[_0x1a6fbc][_0x198326(0x1e9)](_0x5e83c3);}else{if(_0x5054b0!==-0x1)availabilityPattern[_0x1a6fbc][_0x198326(0x20c)](_0x5054b0,0x1);}}renderPatternEditor();}function renderPCol(_0x469f94,_0x3f1b34){const _0x4acfa4=a2_0x3f9e98;_0x469f94[_0x4acfa4(0x158)]='';const _0x2d8897=Math['round'](_0x469f94[_0x4acfa4(0x1aa)]);(availabilityPattern[_0x3f1b34]||[])[_0x4acfa4(0x10f)](_0x2b97a4=>{const _0xb2e9e1=_0x4acfa4,_0x934d92=document[_0xb2e9e1(0xfa)]('div');_0x934d92[_0xb2e9e1(0x233)]=_0xb2e9e1(0x180);const _0x3d9038=_0x2b97a4*GRID_H;_0x934d92['style'][_0xb2e9e1(0x246)]=_0x3d9038+'px',_0x934d92[_0xb2e9e1(0x1a8)][_0xb2e9e1(0x241)]='-'+_0x2d8897+_0xb2e9e1(0x1c2)+_0x3d9038+'px',_0x934d92[_0xb2e9e1(0x22e)]=_0x21f245=>{const _0x98bfb6=_0xb2e9e1;_0x21f245[_0x98bfb6(0x252)](),toggleSinglePattern(_0x3f1b34,_0x2b97a4);},_0x469f94[_0xb2e9e1(0x12d)](_0x934d92);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x3d9a20=a2_0x3f9e98,_0x26d2d2=new Date(),_0x3d1d70=document['getElementById'](_0x3d9a20(0x239)),_0x247c75=document[_0x3d9a20(0x16d)](_0x3d9a20(0x208)),_0x1848b5=(_0x26d2d2[_0x3d9a20(0x22b)]()*0x3c+_0x26d2d2[_0x3d9a20(0x107)]())/0x3c*GRID_H;_0x3d1d70['style'][_0x3d9a20(0x246)]=_0x1848b5+'px',_0x3d1d70[_0x3d9a20(0x1a8)][_0x3d9a20(0x1fe)]=_0x3d9a20(0x109),_0x247c75[_0x3d9a20(0x227)]=String(_0x26d2d2[_0x3d9a20(0x22b)]())['padStart'](0x2,'0')+':'+String(_0x26d2d2[_0x3d9a20(0x107)]())[_0x3d9a20(0x19c)](0x2,'0'),_0x247c75[_0x3d9a20(0x1a8)][_0x3d9a20(0x1fe)]=_0x3d9a20(0x109),_0x247c75[_0x3d9a20(0x1a8)]['top']=_0x1848b5+'px';}document[a2_0x3f9e98(0x1db)](a2_0x3f9e98(0x211),init);function openDayOptions(_0xf8454d){const _0x89868e=a2_0x3f9e98;selectedDayForOptions=_0xf8454d;const _0x58cb2f=new Date(_0xf8454d),_0x394e6a={'weekday':_0x89868e(0x12a),'day':_0x89868e(0x155),'month':'long','year':_0x89868e(0x155)},_0x2f4e80=_0x58cb2f[_0x89868e(0x23e)](_0x89868e(0x139),_0x394e6a);document[_0x89868e(0x16d)](_0x89868e(0x181))[_0x89868e(0x227)]=_0x2f4e80[_0x89868e(0xfb)](0x0)[_0x89868e(0x19e)]()+_0x2f4e80[_0x89868e(0x224)](0x1);let _0x3915ef=_0x58cb2f['getDay']()-0x1;if(_0x3915ef===-0x1)_0x3915ef=0x6;const _0x254da3=availabilityPattern[_0x3915ef]||[],_0x1f454c=0x18-_0x254da3[_0x89868e(0x14e)],_0x4f0f7c=_0x1f454c*0x3c,_0x16ade9=sessions['filter'](_0x249102=>_0x249102[_0x89868e(0x197)]===_0xf8454d&&_0x249102[_0x89868e(0x1c1)]!==_0x89868e(0x110));let _0x1eb4c9=_0x16ade9[_0x89868e(0x24c)](_0x13bfaa=>{const _0x3c60ee=_0x89868e,[_0x1dde63,_0x3d7a69]=_0x13bfaa[_0x3c60ee(0x112)]['split'](':')[_0x3c60ee(0x24c)](Number),[_0x29c552,_0x403f30]=_0x13bfaa[_0x3c60ee(0x185)][_0x3c60ee(0x1f9)](':')[_0x3c60ee(0x24c)](Number);return[_0x1dde63*0x3c+_0x3d7a69,_0x29c552*0x3c+_0x403f30];});_0x1eb4c9[_0x89868e(0x1de)]((_0x17e6ac,_0x539691)=>_0x17e6ac[0x0]-_0x539691[0x0]);let _0x495def=[];if(_0x1eb4c9[_0x89868e(0x14e)]>0x0){let _0x87b925=_0x1eb4c9[0x0];for(let _0x1b11dc=0x1;_0x1b11dc<_0x1eb4c9['length'];_0x1b11dc++){_0x1eb4c9[_0x1b11dc][0x0]<_0x87b925[0x1]?_0x87b925[0x1]=Math[_0x89868e(0x106)](_0x87b925[0x1],_0x1eb4c9[_0x1b11dc][0x1]):(_0x495def['push'](_0x87b925),_0x87b925=_0x1eb4c9[_0x1b11dc]);}_0x495def['push'](_0x87b925);}let _0x4438c4=0x0;_0x495def[_0x89868e(0x10f)](_0x1157cf=>_0x4438c4+=_0x1157cf[0x1]-_0x1157cf[0x0]),document[_0x89868e(0x16d)](_0x89868e(0x1ce))[_0x89868e(0x227)]=formatMinsToHrs(_0x4f0f7c),document[_0x89868e(0x16d)]('doBusyHours')[_0x89868e(0x227)]=formatMinsToHrs(_0x4438c4);const _0x2c1eb6=_0x4f0f7c>0x0?Math[_0x89868e(0x10e)](_0x4438c4/_0x4f0f7c*0x64):0x0,_0x2e9db0=document['getElementById']('doLoadPercent');_0x2e9db0[_0x89868e(0x227)]=_0x2c1eb6+'%';const _0x5966ac=document[_0x89868e(0x16d)]('statLoadCard');if(_0x2c1eb6>0x64)_0x2e9db0[_0x89868e(0x1a8)][_0x89868e(0x15f)]=_0x89868e(0x235),_0x5966ac[_0x89868e(0x1a8)]['borderColor']=_0x89868e(0x192);else _0x2c1eb6>0x50?(_0x2e9db0['style'][_0x89868e(0x15f)]=_0x89868e(0x276),_0x5966ac[_0x89868e(0x1a8)][_0x89868e(0x236)]=_0x89868e(0x1b2)):(_0x2e9db0['style'][_0x89868e(0x15f)]=_0x89868e(0x264),_0x5966ac[_0x89868e(0x1a8)][_0x89868e(0x236)]='rgba(255,255,255,0.05)');const _0x5b2c7f=document[_0x89868e(0x16d)](_0x89868e(0x25e));_0x5b2c7f[_0x89868e(0x158)]='';_0x16ade9[_0x89868e(0x14e)]===0x0?_0x5b2c7f[_0x89868e(0x158)]=_0x89868e(0x260):(_0x16ade9[_0x89868e(0x1de)]((_0x477daa,_0x342699)=>_0x477daa['start'][_0x89868e(0x266)](_0x342699[_0x89868e(0x112)])),_0x16ade9['forEach'](_0x399c9b=>{const _0x2f7100=_0x89868e,_0x2ec619=clients[_0x2f7100(0x1ec)](_0x4145d5=>_0x4145d5[_0x2f7100(0x263)]===_0x399c9b[_0x2f7100(0x1fb)]),_0x13c3f4=_0x2ec619?_0x2ec619['color']:_0x2f7100(0x27f),_0x5aed3f=_0x399c9b[_0x2f7100(0x1c1)]==='completed',_0xfe245e=_0x5aed3f?_0x2f7100(0x141):'',_0x2fa660=document[_0x2f7100(0xfa)](_0x2f7100(0x1e0));_0x2fa660[_0x2f7100(0x233)]=_0x2f7100(0x1a2),_0x2fa660[_0x2f7100(0x1a8)][_0x2f7100(0x165)]=_0x13c3f4,_0x2fa660[_0x2f7100(0x158)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>'+_0x399c9b['start']+'\x20-\x20'+_0x399c9b[_0x2f7100(0x185)]+_0x2f7100(0x11c)+_0x399c9b[_0x2f7100(0x1fb)]+_0x2f7100(0x19a)+_0xfe245e+_0x2f7100(0x1bb),_0x5b2c7f[_0x2f7100(0x12d)](_0x2fa660);}));const _0x4ab165=document[_0x89868e(0x16d)]('btnDayToggle'),_0x4a2d01=dateExceptions[_0xf8454d]===_0x89868e(0x117);_0x4a2d01?(_0x4ab165[_0x89868e(0x227)]=_0x89868e(0x144),_0x4ab165[_0x89868e(0x233)]=_0x89868e(0x1c4),_0x4ab165[_0x89868e(0x1a8)][_0x89868e(0x15f)]=_0x89868e(0x264),_0x4ab165[_0x89868e(0x1a8)]['background']=_0x89868e(0x18c)):(_0x4ab165['textContent']=_0x89868e(0x16a),_0x4ab165[_0x89868e(0x233)]='btn-primary\x20btn-danger',_0x4ab165['style'][_0x89868e(0x15f)]=_0x89868e(0x235),_0x4ab165['style'][_0x89868e(0x20d)]=_0x89868e(0x191)),openSheet(_0x89868e(0x230));}let currentAnPeriod=a2_0x3f9e98(0x27e);function openAnalytics(){const _0x1d33e0=a2_0x3f9e98,_0x35314d=document[_0x1d33e0(0x11d)](_0x1d33e0(0x115));setAnalyticsPeriod(_0x1d33e0(0x27e),_0x35314d),closeAllSheets(),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x4f8873,_0x1e8d36){const _0x1bf494=a2_0x3f9e98;currentAnPeriod=_0x4f8873,document[_0x1bf494(0x1e3)](_0x1bf494(0x115))[_0x1bf494(0x10f)](_0x5bd7d1=>_0x5bd7d1['classList'][_0x1bf494(0x1b4)](_0x1bf494(0x148)));if(_0x1e8d36)_0x1e8d36[_0x1bf494(0x1b8)][_0x1bf494(0x204)](_0x1bf494(0x148));const _0x2f74e4=document[_0x1bf494(0x16d)](_0x1bf494(0x1ca));_0x2f74e4[_0x1bf494(0x1a8)][_0x1bf494(0x1fe)]=_0x4f8873==='custom'?_0x1bf494(0x177):'none';const _0x28a1bc=new Date();let _0x5a44dd=new Date(),_0x46bed6=new Date();if(_0x4f8873===_0x1bf494(0x27e))_0x5a44dd=getStartOfWeek(_0x28a1bc),_0x46bed6=new Date(_0x5a44dd),_0x46bed6[_0x1bf494(0x1a5)](_0x46bed6[_0x1bf494(0x1bf)]()+0x6);else{if(_0x4f8873===_0x1bf494(0x281))_0x5a44dd=new Date(_0x28a1bc[_0x1bf494(0x244)](),_0x28a1bc[_0x1bf494(0x249)](),0x1),_0x46bed6=new Date(_0x28a1bc[_0x1bf494(0x244)](),_0x28a1bc['getMonth']()+0x1,0x0);else{!document[_0x1bf494(0x16d)](_0x1bf494(0x258))[_0x1bf494(0x1b6)]&&(document['getElementById'](_0x1bf494(0x258))[_0x1bf494(0x1b6)]=getLocalDateStr(_0x28a1bc),document['getElementById'](_0x1bf494(0x205))['value']=getLocalDateStr(_0x28a1bc));refreshAnalytics();return;}}document['getElementById'](_0x1bf494(0x258))[_0x1bf494(0x1b6)]=getLocalDateStr(_0x5a44dd),document[_0x1bf494(0x16d)]('anEnd')['value']=getLocalDateStr(_0x46bed6),refreshAnalytics();}function refreshAnalytics(){const _0x597fa7=a2_0x3f9e98,_0x529377=document[_0x597fa7(0x16d)]('anStart')[_0x597fa7(0x1b6)],_0x556575=document['getElementById'](_0x597fa7(0x205))[_0x597fa7(0x1b6)];if(!_0x529377||!_0x556575)return;const _0x385ce3=sessions[_0x597fa7(0x24a)](_0x3fc09a=>_0x3fc09a[_0x597fa7(0x197)]>=_0x529377&&_0x3fc09a[_0x597fa7(0x197)]<=_0x556575&&_0x3fc09a['status']!==_0x597fa7(0x110)),_0xaca696=_0x385ce3[_0x597fa7(0x14e)],_0x50596f=_0x385ce3[_0x597fa7(0x24a)](_0x231dcd=>_0x231dcd[_0x597fa7(0x1c1)]==='completed')[_0x597fa7(0x14e)],_0x2014fb=_0xaca696>0x0?Math[_0x597fa7(0x10e)](_0x50596f/_0xaca696*0x64):0x0;document[_0x597fa7(0x16d)]('anPercent')['textContent']=_0x2014fb+'%',document[_0x597fa7(0x16d)](_0x597fa7(0x20a))['textContent']=_0x50596f+_0x597fa7(0x1ff)+_0xaca696+_0x597fa7(0x14f);const _0xe5e372=document['getElementById'](_0x597fa7(0x1d2)),_0x15b347=0x2*Math['PI']*0x23,_0x2d10fa=_0x15b347-_0x2014fb/0x64*_0x15b347;_0xe5e372['style'][_0x597fa7(0x223)]=_0x2d10fa;const _0x71eb27={};_0x385ce3[_0x597fa7(0x10f)](_0x4bd3bd=>{const _0x29eefd=_0x597fa7;if(!_0x71eb27[_0x4bd3bd[_0x29eefd(0x1fb)]]){const _0x33b7bb=clients[_0x29eefd(0x1ec)](_0x3b4b42=>_0x3b4b42[_0x29eefd(0x263)]===_0x4bd3bd[_0x29eefd(0x1fb)]);_0x71eb27[_0x4bd3bd[_0x29eefd(0x1fb)]]={'total':0x0,'done':0x0,'color':_0x33b7bb?_0x33b7bb[_0x29eefd(0x15f)]:_0x29eefd(0x27f)};}_0x71eb27[_0x4bd3bd['client']]['total']++;if(_0x4bd3bd['status']===_0x29eefd(0x254))_0x71eb27[_0x4bd3bd['client']][_0x29eefd(0x114)]++;});const _0x278b2b=document['getElementById'](_0x597fa7(0x273));_0x278b2b[_0x597fa7(0x158)]='';const _0x34b8d8=Object[_0x597fa7(0x149)](_0x71eb27)[_0x597fa7(0x1de)]((_0x5cf8f6,_0x2ebb78)=>_0x2ebb78[0x1][_0x597fa7(0x206)]-_0x5cf8f6[0x1][_0x597fa7(0x206)]);if(_0x34b8d8[_0x597fa7(0x14e)]===0x0){_0x278b2b[_0x597fa7(0x158)]=_0x597fa7(0x199);return;}_0x34b8d8['forEach'](([_0x26b82f,_0xfb0d84])=>{const _0x25862d=_0x597fa7,_0x227d77=Math[_0x25862d(0x10e)](_0xfb0d84[_0x25862d(0x114)]/_0xfb0d84[_0x25862d(0x206)]*0x64),_0x384cdb=document[_0x25862d(0xfa)](_0x25862d(0x1e0));_0x384cdb[_0x25862d(0x233)]=_0x25862d(0x232),_0x384cdb[_0x25862d(0x1a8)]['borderLeftColor']=_0xfb0d84['color'],_0x384cdb['innerHTML']=_0x25862d(0x214)+_0x26b82f+_0x25862d(0x13d)+_0xfb0d84[_0x25862d(0x114)]+_0x25862d(0x1eb)+_0xfb0d84[_0x25862d(0x206)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x227d77+_0x25862d(0x12b),_0x278b2b[_0x25862d(0x12d)](_0x384cdb);});}function formatMinsToHrs(_0x57739d){const _0x49f969=a2_0x3f9e98;if(_0x57739d===0x0)return'0';const _0x12825a=Math[_0x49f969(0xfc)](_0x57739d/0x3c),_0x16f9e9=_0x57739d%0x3c;if(_0x16f9e9===0x0)return _0x12825a+'—á';return _0x12825a+'—á\x20'+_0x16f9e9+'–º';}