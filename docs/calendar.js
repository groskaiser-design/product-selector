const a2_0x203b51=a2_0x426e;(function(_0x2c087a,_0x1e63a2){const _0x275df2=a2_0x426e,_0x41a9fe=_0x2c087a();while(!![]){try{const _0x6eb17=-parseInt(_0x275df2(0x312))/0x1+-parseInt(_0x275df2(0x210))/0x2+-parseInt(_0x275df2(0x1eb))/0x3+parseInt(_0x275df2(0x1a8))/0x4*(parseInt(_0x275df2(0x1d5))/0x5)+parseInt(_0x275df2(0x1ab))/0x6+parseInt(_0x275df2(0x2f9))/0x7+-parseInt(_0x275df2(0x29f))/0x8;if(_0x6eb17===_0x1e63a2)break;else _0x41a9fe['push'](_0x41a9fe['shift']());}catch(_0x2e66a5){_0x41a9fe['push'](_0x41a9fe['shift']());}}}(a2_0x1070,0x43e24),function initTMA(){const _0x360577=a2_0x426e,_0x3c2321=(function(){let _0x21956d=!![];return function(_0x37c724,_0x2ed776){const _0x18addf=_0x21956d?function(){const _0x3e0585=a2_0x426e;if(_0x2ed776){const _0x6d8473=_0x2ed776[_0x3e0585(0x25d)](_0x37c724,arguments);return _0x2ed776=null,_0x6d8473;}}:function(){};return _0x21956d=![],_0x18addf;};}()),_0x46e2f3=_0x3c2321(this,function(){const _0x437aed=a2_0x426e;return _0x46e2f3[_0x437aed(0x212)]()[_0x437aed(0x228)](_0x437aed(0x2b3))['toString']()['constructor'](_0x46e2f3)[_0x437aed(0x228)]('(((.+)+)+)+$');});_0x46e2f3();try{const _0x57deb1=window['Telegram']?.[_0x360577(0x220)];if(!_0x57deb1)return;_0x57deb1[_0x360577(0x2b8)](),_0x57deb1[_0x360577(0x1d4)]();try{_0x57deb1['setHeaderColor']('#050505'),_0x57deb1[_0x360577(0x2c4)]&&_0x57deb1[_0x360577(0x2c4)]('#050505');}catch(_0x20d564){console[_0x360577(0x1d6)](_0x360577(0x26e),_0x20d564);}try{_0x57deb1[_0x360577(0x247)]&&(_0x57deb1['BackButton'][_0x360577(0x281)](),_0x57deb1[_0x360577(0x247)][_0x360577(0x233)](),_0x57deb1['BackButton'][_0x360577(0x250)](function(){const _0x5bd567=_0x360577;window['location'][_0x5bd567(0x276)]=_0x5bd567(0x1bc);}));}catch(_0x54601d){console['log'](_0x360577(0x2a0),_0x54601d);}try{if(_0x57deb1['disableVerticalSwipes'])_0x57deb1[_0x360577(0x203)]();}catch(_0x17d86e){}}catch(_0x1dad8e){console[_0x360577(0x227)](_0x360577(0x270),_0x1dad8e);}}());function a2_0x1070(){const _0x57ccf9=['value','insertBefore','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','peGrid','from','min','save','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','start','target','touchstart','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','init_load','121732zzdxnx','substr','seriesCountContainer','querySelector','Server\x20Error','pe-cell\x20','name','setHours','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','then','option','week','10px\x2010px\x200\x200','block','rangesList','</div><div\x20class=\x22dch-num\x22>','active','1612llJvtP','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','...','3306348fSEJcB','sessionSheet','max','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','–£—Å–ø–µ—à–Ω–æ','offsetWidth','calc(','saveLocally','%\x20-\x204px)','mergeServerData','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','cancel','split','end','rangeEndTime','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','router.html','matrixViewport','completed','checked','appendChild','<b>‚úÖ\x20',']\x20Failed:','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','23:59',':00','className','[Notify]\x20Error:\x20sessionData\x20is\x20null','warning','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','send','overlay','status','toastTitle','color','createElement','colIndex','remove','globalTimeLine','includes','expand','515tlIGUb','log','guest',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','getMinutes','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','doLoadPercent','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','planned','</span>\x20/\x20','mousedown','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','inpEnd','btnDelete',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','open','update','style',':00</span>','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','now','324666vxiiZf','setMonth','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','month','sheetDateSubtitle','height','formatDate','%\x20+\x202px)','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','backgroundPosition','</b>\x0a\x0a','classList','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','Telegram','toFixed','timeLineBadge','note','inpSeriesCount','find','DOMContentLoaded','doWorkHours','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','[Series]\x20Skipped\x20','btnDayToggle','disableVerticalSwipes','analyticsList','backgroundColor','daysHeaderTrack','zIndex','null','localeCompare','splice','\x20-\x20','none','success','left','day-column\x20','127594BrIbRm','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','toString','.day-off-overlay','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','[Notify]\x20Detected\x20Client\x20ID:','map','querySelectorAll','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','client','actionSheetOverlay','rangeStartDate','delete','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','patternInfoBox',':\x20Client\x20already\x20booked','WebApp','10px','px\x200px','POST','btn-status-toggle\x20undo-mode','var(--acc-green)','loadLocal','error','search','done','stringify','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','clientId','inpRecurring','btn-primary\x20btn-danger','display','.event-card','innerHTML','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','offClick','rgba(255,\x2069,\x2058,\x200.3)','getTime','scrollLeft','addEventListener','ranges','isArray','#0a84ff','seriesId','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getElementById','charAt','getDay','exceptions','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','total','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','dayOptionsTitle','getMonth','BackButton','parse','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','.day-col-header','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','flex','<div\x20class=\x22dch-day\x22>','toLocaleDateString','toUpperCase','onClick','recurringOptionContainer','setDate','.pib-text','inpDate','batch_sync','cancel_window','.period-switch\x20.p-btn','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','syncBatch','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','touchmove','apply','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','touches','var(--acc-current)','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','top','sort','getHours','patternEditor','msg','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','borderRadius','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','de-item','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','asBtnOne','settingCancelWindow','Error\x20setting\x20color:','<div\x20class=\x22ev-title\x22>','Critical\x20TMA\x20Error:','inpNote','scroll','.dch-stats-fill','width','day-col-header\x20','href','ru-RU','as-button\x20danger','undefined','length','startsWith','[Notify]\x20Network\x20Failed','push','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','headerMonth','data-day-idx','show','off','[Notify]\x20Attempting\x20to\x20send:','long','<span>','[Notify]\x20Client\x20SWAP\x20detected','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','indexOf','settingsSheet','background','vibrate','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','getAttribute','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','rangeStartTime','\x20days','warn','asTitle','settings','anEnd','rgba(255,255,255,0.05)','send_notification','getBoundingClientRect','findIndex',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','json','user','inpStart','textContent','initData','2226288TERXlJ','Error\x20setting\x20back\x20button:','div','blocked-slot\x20stripe-bg','pattern','data','inpClient','keys','clientWidth','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','sheetTitle','clients','Unknown','anCustomDates','pe-time-label','slice','gridColumns','clientY','toLocaleString','doEventsList','(((.+)+)+)+$','initDataUnsafe','toast','–£–¥–∞–ª–µ–Ω–∏–µ','cancelled','ready','timeColumn','catch','complete','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','forEach','–ò–Ω—Ñ–æ','calendar','[Sync]\x20Loading\x20','</div><div\x20class=\x22ev-time\x22>','var(--acc-red)','</div>','setBackgroundColor','setAttribute','save_settings','getFullYear','\x20‚Äî\x20','offsetLeft','doBusyHours','padStart','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','header-',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','single','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','create','[Notify]\x20Server\x20Response:','doDateHeader','px\x20-','sid','\x20–∏–∑\x20','deleted','pe-col-header','[Notify]\x20Error:\x20Text\x20generation\x20failed','today','borderLeftColor','Local\x20Save\x20Error','rangeEndDate','setItem','onclick','btn-primary\x20btn-secondary','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','dayOptionsSheet','data-date','custom','mousemove','add','asBtnSeries','100%','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','createDocumentFragment','anStart','T00:00:00','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','dateStr','btnStatusToggle','anDonutCircle','analyticsSheet','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','getItem','[Settings]\x20Cancel\x20window\x20set\x20to:','series','getDate','numeric','1802654vAZZVf','round','uc_settings_cancel_window','borderColor','fetchFromServer','toast-notification\x20','strokeDashoffset','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','filter','.sheet','event-card','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a'];a2_0x1070=function(){return _0x57ccf9;};return a2_0x1070();}function isAdmin(){const _0x5990e6=a2_0x426e;try{const _0x468c5e=Number(window[_0x5990e6(0x1f8)]?.[_0x5990e6(0x220)]?.[_0x5990e6(0x2b4)]?.[_0x5990e6(0x29b)]?.['id']);return _0x468c5e===0xbaf7174;}catch(_0x182706){return![];}}const APP_VERSION='v9.0-BATCH-CALENDAR',API_URL=a2_0x203b51(0x2cc),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS='uc_clients_v9',KEY_SESSIONS='uc_sessions_v9',KEY_SETTINGS='uc_settings_v9';function a2_0x426e(_0x32b9de,_0x3b270d){_0x32b9de=_0x32b9de-0x1a6;const _0x19822a=a2_0x1070();let _0x47caef=_0x19822a[_0x32b9de];return _0x47caef;}let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x284306=a2_0x203b51;return window[_0x284306(0x1f8)]?.[_0x284306(0x220)]?.[_0x284306(0x2b4)]?.['user']?.['id']||_0x284306(0x1d7);},'saveLocally'(){const _0x1669ca=a2_0x203b51;try{localStorage[_0x1669ca(0x2de)](KEY_CLIENTS,JSON['stringify'](clients)),localStorage[_0x1669ca(0x2de)](KEY_SESSIONS,JSON['stringify'](sessions)),localStorage['setItem'](KEY_SETTINGS,JSON[_0x1669ca(0x22a)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x17b092){console[_0x1669ca(0x227)](_0x1669ca(0x2dc),_0x17b092);}},'loadLocal'(){const _0x2a398a=a2_0x203b51;try{const _0x1e2670=localStorage[_0x2a398a(0x2f4)](KEY_CLIENTS);if(_0x1e2670)clients=JSON[_0x2a398a(0x248)](_0x1e2670);const _0x366f6a=localStorage[_0x2a398a(0x2f4)](KEY_SESSIONS);if(_0x366f6a)sessions=JSON[_0x2a398a(0x248)](_0x366f6a);const _0x334fee=localStorage[_0x2a398a(0x2f4)](KEY_SETTINGS);if(_0x334fee){const _0x3c9448=JSON['parse'](_0x334fee);if(_0x3c9448[_0x2a398a(0x2a3)])availabilityPattern=_0x3c9448['pattern'];if(_0x3c9448[_0x2a398a(0x241)])dateExceptions=_0x3c9448['exceptions'];if(_0x3c9448[_0x2a398a(0x238)])specialRanges=_0x3c9448[_0x2a398a(0x238)];}else{for(let _0x400ce2=0x0;_0x400ce2<0x7;_0x400ce2++)availabilityPattern[_0x400ce2]=Array[_0x2a398a(0x309)]({'length':0xc},(_0x1deae6,_0xd52cca)=>_0xd52cca+0x9);}}catch(_0x433658){console[_0x2a398a(0x227)]('Local\x20Load\x20Error',_0x433658);}},async 'fetchFromServer'(_0x255b0a,_0x4b64a5={}){const _0x32cfc1=a2_0x203b51,_0x4b481a=window[_0x32cfc1(0x1f8)]?.[_0x32cfc1(0x220)],_0xcd90ba={'action':_0x255b0a,'init_data':_0x4b481a?.[_0x32cfc1(0x29e)]||'',..._0x4b64a5};try{const _0x3ad8b8=await fetch(API_URL,{'method':_0x32cfc1(0x223),'headers':{'Content-Type':'text/plain;charset=UTF-8'},'body':JSON[_0x32cfc1(0x22a)](_0xcd90ba)}),_0x4378f3=await _0x3ad8b8[_0x32cfc1(0x29a)]();if(!_0x4378f3['ok'])throw new Error(_0x4378f3[_0x32cfc1(0x227)]||_0x32cfc1(0x316));return _0x4378f3['data'];}catch(_0x533804){console[_0x32cfc1(0x227)]('[API\x20'+_0x255b0a+_0x32cfc1(0x1c2),_0x533804);throw _0x533804;}},async 'syncLoad'(){const _0x2e6493=a2_0x203b51,_0x5bd15c=new Date(),_0x6b2c68=_0x5bd15c[_0x2e6493(0x2c7)]()+'-'+String(_0x5bd15c[_0x2e6493(0x246)]()+0x1)[_0x2e6493(0x2cb)](0x2,'0'),_0x53e881=new Date(_0x5bd15c);_0x53e881[_0x2e6493(0x1ec)](_0x5bd15c['getMonth']()+0x1);const _0xb547af=_0x53e881[_0x2e6493(0x2c7)]()+'-'+String(_0x53e881[_0x2e6493(0x246)]()+0x1)['padStart'](0x2,'0'),_0x284286=Date['now']();console[_0x2e6493(0x1d6)](_0x2e6493(0x2c0)+_0x6b2c68+',\x20'+_0xb547af+'...');try{const [_0x3989b4,_0x44edd2]=await Promise['all']([this[_0x2e6493(0x2fd)](_0x2e6493(0x311),{'month_str':_0x6b2c68}),this[_0x2e6493(0x2fd)](_0x2e6493(0x311),{'month_str':_0xb547af})]);if(lastUserActionTime>_0x284286)return console[_0x2e6493(0x291)](_0x2e6493(0x242)),![];return this[_0x2e6493(0x1b5)](_0x3989b4,_0x6b2c68),this[_0x2e6493(0x1b5)](_0x44edd2,_0xb547af),this[_0x2e6493(0x1b3)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x4f36e9){console[_0x2e6493(0x227)](_0x4f36e9);throw _0x4f36e9;}},'mergeServerData'(_0x865e43,_0x4a69cb){const _0x36d24e=a2_0x203b51;if(!_0x865e43)return;_0x865e43[_0x36d24e(0x2aa)]&&Array[_0x36d24e(0x239)](_0x865e43[_0x36d24e(0x2aa)])&&(clients=_0x865e43[_0x36d24e(0x2aa)]);if(_0x865e43['settings']){if(_0x865e43['settings'][_0x36d24e(0x2a3)])availabilityPattern=_0x865e43[_0x36d24e(0x293)][_0x36d24e(0x2a3)];if(_0x865e43[_0x36d24e(0x293)][_0x36d24e(0x241)])dateExceptions=_0x865e43['settings'][_0x36d24e(0x241)];if(_0x865e43[_0x36d24e(0x293)]['ranges'])specialRanges=_0x865e43[_0x36d24e(0x293)][_0x36d24e(0x238)];if(_0x865e43[_0x36d24e(0x293)][_0x36d24e(0x256)]){localStorage[_0x36d24e(0x2de)](_0x36d24e(0x2fb),_0x865e43['settings']['cancel_window']);const _0x3fc0fe=document[_0x36d24e(0x23e)](_0x36d24e(0x26d));if(_0x3fc0fe)_0x3fc0fe['value']=_0x865e43['settings'][_0x36d24e(0x256)];}}_0x865e43[_0x36d24e(0x2bf)]&&(sessions=sessions[_0x36d24e(0x301)](_0x35cc0c=>!_0x35cc0c['dateStr'][_0x36d24e(0x27b)](_0x4a69cb)),Object[_0x36d24e(0x2a6)](_0x865e43[_0x36d24e(0x2bf)])[_0x36d24e(0x2bd)](_0x1b3e03=>{const _0x1d2e1f=_0x36d24e,_0x1f709e=_0x865e43[_0x1d2e1f(0x2bf)][_0x1b3e03];_0x1f709e[_0x1d2e1f(0x2bd)](_0x2bfc04=>{const _0x195e1b=_0x1d2e1f,_0x44fe96=clients[_0x195e1b(0x1fd)](_0x186e10=>String(_0x186e10['id'])===String(_0x2bfc04['c']));sessions[_0x195e1b(0x27d)]({'id':_0x2bfc04['i'],'clientId':_0x2bfc04['c'],'client':_0x44fe96?_0x44fe96[_0x195e1b(0x318)]:_0x195e1b(0x2ab),'dateStr':_0x4a69cb+'-'+_0x1b3e03['padStart'](0x2,'0'),'start':_0x2bfc04['s'],'end':_0x2bfc04['e'],'status':_0x2bfc04['st']||_0x195e1b(0x1dd),'note':_0x2bfc04['n']||'','seriesId':_0x2bfc04[_0x195e1b(0x2d5)]||null});});}));},async 'syncBatch'(_0x5b8392){const _0x4f09de=a2_0x203b51,_0x302c91=[...new Set(_0x5b8392)],_0x1b9598=_0x302c91[_0x4f09de(0x216)](_0x4e26b9=>{const _0x2a2e93=_0x4f09de,_0x561854=sessions[_0x2a2e93(0x301)](_0x1c828c=>_0x1c828c['dateStr']===_0x4e26b9&&_0x1c828c['status']!==_0x2a2e93(0x2d7)),_0x10d9f8=_0x561854['map'](_0x730575=>({'i':_0x730575['id'],'c':_0x730575[_0x2a2e93(0x22c)],'s':_0x730575[_0x2a2e93(0x30d)],'e':_0x730575[_0x2a2e93(0x1b9)],'st':_0x730575[_0x2a2e93(0x1cc)],'n':_0x730575['note'],'sid':_0x730575['seriesId']}));return{'date':_0x4e26b9,'day_data':_0x10d9f8};});if(_0x1b9598[_0x4f09de(0x27a)]===0x0)return;console['log']('[Sync]\x20Pushing\x20batch\x20updates\x20for\x20'+_0x1b9598[_0x4f09de(0x27a)]+_0x4f09de(0x290)),await this[_0x4f09de(0x2fd)](_0x4f09de(0x255),{'changes':_0x1b9598});}};async function init(){const _0x1b8d35=a2_0x203b51;DataManager[_0x1b8d35(0x226)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x1b8d35(0x23e)]('matrixViewport')[_0x1b8d35(0x237)](_0x1b8d35(0x272),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']()['then'](()=>{const _0x43d9ca=_0x1b8d35;showToast(_0x43d9ca(0x267),!![]);})[_0x1b8d35(0x2ba)](_0x594c9e=>{showToast('–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º',![]);});}function generateId(){const _0x5bf31e=a2_0x203b51;return Date[_0x5bf31e(0x1ea)]()[_0x5bf31e(0x212)](0x24)+Math['random']()[_0x5bf31e(0x212)](0x24)[_0x5bf31e(0x313)](0x2,0x5);}function toggleSeriesInput(){const _0x2b17ea=a2_0x203b51,_0x32bcba=document[_0x2b17ea(0x23e)](_0x2b17ea(0x22d))[_0x2b17ea(0x1bf)],_0x45308f=document[_0x2b17ea(0x23e)](_0x2b17ea(0x314));_0x45308f['style']['display']=_0x32bcba?_0x2b17ea(0x31f):_0x2b17ea(0x20c);const _0x4b1264=document[_0x2b17ea(0x23e)](_0x2b17ea(0x251));_0x4b1264[_0x2b17ea(0x1e7)]['borderRadius']=_0x32bcba?_0x2b17ea(0x31e):_0x2b17ea(0x221);}function openAddSession(_0xedb646){const _0x3796a3=a2_0x203b51;editingId=null,populateClientSelect(),document['getElementById'](_0x3796a3(0x2a9))[_0x3796a3(0x29d)]=_0x3796a3(0x1e4),document[_0x3796a3(0x23e)](_0x3796a3(0x1e2))[_0x3796a3(0x1e7)][_0x3796a3(0x22f)]='none',document['getElementById'](_0x3796a3(0x2f0))[_0x3796a3(0x1e7)][_0x3796a3(0x22f)]='none';const _0x1e34f0=document[_0x3796a3(0x23e)]('recurringOptionContainer'),_0x147d73=document[_0x3796a3(0x23e)]('seriesCountContainer');_0x1e34f0[_0x3796a3(0x1e7)][_0x3796a3(0x22f)]='flex',_0x1e34f0[_0x3796a3(0x1e7)][_0x3796a3(0x268)]=_0x3796a3(0x221),document['getElementById'](_0x3796a3(0x22d))[_0x3796a3(0x1bf)]=![],document[_0x3796a3(0x23e)](_0x3796a3(0x1fc))[_0x3796a3(0x305)]=0x4,_0x147d73['style'][_0x3796a3(0x22f)]=_0x3796a3(0x20c),document[_0x3796a3(0x23e)](_0x3796a3(0x254))[_0x3796a3(0x305)]=getLocalDateStr(_0xedb646),updateDateDisplay();const _0x4bbe5b=_0xedb646['getHours']();document[_0x3796a3(0x23e)](_0x3796a3(0x29c))['value']=String(_0x4bbe5b)[_0x3796a3(0x2cb)](0x2,'0')+_0x3796a3(0x1c5),document[_0x3796a3(0x23e)](_0x3796a3(0x1e1))[_0x3796a3(0x305)]=String(_0x4bbe5b+0x1)[_0x3796a3(0x2cb)](0x2,'0')+':00',openSheet(_0x3796a3(0x1ac));}function openEdit(_0x3eb9f7){const _0x4a9685=a2_0x203b51;editingId=_0x3eb9f7['id'],populateClientSelect(),document['getElementById'](_0x4a9685(0x2a9))[_0x4a9685(0x29d)]=_0x4a9685(0x2a8),document[_0x4a9685(0x23e)](_0x4a9685(0x1e2))[_0x4a9685(0x1e7)]['display']=_0x4a9685(0x31f);const _0x112c2c=document[_0x4a9685(0x23e)](_0x4a9685(0x2f0));_0x112c2c[_0x4a9685(0x1e7)][_0x4a9685(0x22f)]=_0x4a9685(0x24c);_0x3eb9f7['status']===_0x4a9685(0x1be)?(_0x112c2c[_0x4a9685(0x1c6)]=_0x4a9685(0x224),_0x112c2c[_0x4a9685(0x231)]=_0x4a9685(0x25b)):(_0x112c2c[_0x4a9685(0x1c6)]='btn-status-toggle',_0x112c2c[_0x4a9685(0x231)]=_0x4a9685(0x287));const _0x402a56=!!_0x3eb9f7['seriesId'];document[_0x4a9685(0x23e)](_0x4a9685(0x251))[_0x4a9685(0x1e7)][_0x4a9685(0x22f)]=_0x4a9685(0x20c),document[_0x4a9685(0x23e)](_0x4a9685(0x314))[_0x4a9685(0x1e7)][_0x4a9685(0x22f)]=_0x4a9685(0x20c),_0x402a56?(document[_0x4a9685(0x23e)](_0x4a9685(0x21e))['style'][_0x4a9685(0x22f)]=_0x4a9685(0x24c),document[_0x4a9685(0x23e)](_0x4a9685(0x21e))[_0x4a9685(0x315)](_0x4a9685(0x253))[_0x4a9685(0x29d)]='–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫'):document[_0x4a9685(0x23e)](_0x4a9685(0x21e))[_0x4a9685(0x1e7)][_0x4a9685(0x22f)]=_0x4a9685(0x20c),document[_0x4a9685(0x23e)](_0x4a9685(0x2a5))[_0x4a9685(0x305)]=_0x3eb9f7[_0x4a9685(0x219)],document[_0x4a9685(0x23e)](_0x4a9685(0x254))[_0x4a9685(0x305)]=_0x3eb9f7[_0x4a9685(0x2ef)],document[_0x4a9685(0x23e)]('inpStart')[_0x4a9685(0x305)]=_0x3eb9f7[_0x4a9685(0x30d)],document[_0x4a9685(0x23e)](_0x4a9685(0x1e1))[_0x4a9685(0x305)]=_0x3eb9f7['end'],document['getElementById'](_0x4a9685(0x271))['value']=_0x3eb9f7[_0x4a9685(0x1fb)]||'',updateDateDisplay(),openSheet('sessionSheet');}async function trySaveSession(){const _0x1517ee=a2_0x203b51,_0x4a4cab=document['getElementById'](_0x1517ee(0x2a5))[_0x1517ee(0x305)],_0x570763=document[_0x1517ee(0x23e)](_0x1517ee(0x254))[_0x1517ee(0x305)],_0x2703c4=document[_0x1517ee(0x23e)](_0x1517ee(0x29c))['value'],_0x3aa983=document[_0x1517ee(0x23e)](_0x1517ee(0x1e1))['value'],_0x5bdf76=document[_0x1517ee(0x23e)]('inpNote')[_0x1517ee(0x305)],_0x47189d=document[_0x1517ee(0x23e)](_0x1517ee(0x22d))[_0x1517ee(0x1bf)];let _0xb4e29c=0x4;if(_0x47189d){const _0x4e5a0f=parseInt(document[_0x1517ee(0x23e)](_0x1517ee(0x1fc))['value']);if(!_0x4e5a0f||_0x4e5a0f<0x2){showToast(_0x1517ee(0x310),![]);return;}if(_0x4e5a0f>0x64){showToast(_0x1517ee(0x2ea),![]);return;}_0xb4e29c=_0x4e5a0f;}const _0x27f4f8=clients[_0x1517ee(0x1fd)](_0x298143=>_0x298143['name']===_0x4a4cab);if(!_0x27f4f8){showToast(_0x1517ee(0x25e),![]);return;}const _0x517ffb=validateAppointment(_0x570763,_0x2703c4,_0x3aa983,editingId,_0x27f4f8['id']);if(!_0x517ffb['valid']){showToast(_0x517ffb[_0x1517ee(0x266)],![]);return;}_0x517ffb[_0x1517ee(0x1c8)]&&showToast(_0x517ffb[_0x1517ee(0x1c8)],![]);const _0x2155b3={'client':_0x4a4cab,'clientId':_0x27f4f8['id'],'start':_0x2703c4,'end':_0x3aa983,'note':_0x5bdf76,'status':_0x1517ee(0x1dd)},_0x57c0a4=editingId?sessions[_0x1517ee(0x1fd)](_0x50c851=>_0x50c851['id']===editingId):null;if(_0x57c0a4&&_0x57c0a4[_0x1517ee(0x23b)]){tempSessionData={..._0x2155b3,'dateStr':_0x570763,'id':editingId,'seriesId':_0x57c0a4[_0x1517ee(0x23b)]},openActionSheet(_0x1517ee(0x30b));return;}let _0x4c9d9c=null;if(!editingId)_0x4c9d9c='create';else{if(_0x57c0a4){if(String(_0x57c0a4[_0x1517ee(0x22c)])!==String(_0x27f4f8['id']))console['log'](_0x1517ee(0x286)),NotificationManager[_0x1517ee(0x1ca)]('cancel',_0x57c0a4),_0x4c9d9c=_0x1517ee(0x2d1);else(_0x57c0a4[_0x1517ee(0x30d)]!==_0x2703c4||_0x57c0a4[_0x1517ee(0x1b9)]!==_0x3aa983||_0x57c0a4[_0x1517ee(0x2ef)]!==_0x570763)&&(_0x4c9d9c='update');}}if(!editingId&&_0x47189d){createBatchSeries(_0x2155b3,_0x570763,_0xb4e29c),NotificationManager['send'](_0x1517ee(0x2d1),{..._0x2155b3,'dateStr':_0x570763});return;}lastUserActionTime=Date[_0x1517ee(0x1ea)]();const _0xcb73b4={..._0x2155b3,'dateStr':_0x570763,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0xcb73b4),_0x4c9d9c&&NotificationManager[_0x1517ee(0x1ca)](_0x4c9d9c,_0xcb73b4);}function toggleSessionStatus(){const _0x4461c8=a2_0x203b51;lastUserActionTime=Date[_0x4461c8(0x1ea)]();const _0x21f7cf=sessions[_0x4461c8(0x1fd)](_0x25cb87=>_0x25cb87['id']===editingId);if(!_0x21f7cf)return;const _0x3c5891=_0x21f7cf[_0x4461c8(0x1cc)]===_0x4461c8(0x1be)?_0x4461c8(0x1dd):_0x4461c8(0x1be);_0x21f7cf[_0x4461c8(0x1cc)]=_0x3c5891,saveSingleSession(_0x21f7cf),_0x3c5891===_0x4461c8(0x1be)&&NotificationManager['send'](_0x4461c8(0x2bb),_0x21f7cf),showToast(_0x3c5891===_0x4461c8(0x1be)?_0x4461c8(0x261):_0x4461c8(0x1ed),!![]);}function validateAppointment(_0x598c7,_0x5128a0,_0x2140f3,_0x11b72c,_0x116ddd){const _0x581d1e=a2_0x203b51,[_0x48c581,_0x12c55b]=_0x5128a0[_0x581d1e(0x1b8)](':')[_0x581d1e(0x216)](Number),[_0x2b65c6,_0xad00f9]=_0x2140f3[_0x581d1e(0x1b8)](':')['map'](Number),_0x550f61=_0x48c581*0x3c+_0x12c55b,_0xc34b30=_0x2b65c6*0x3c+_0xad00f9,_0x2cfb1f=String(_0x116ddd);let _0x21e3ff=![],_0xe21b90='';for(let _0x5a34c8 of sessions){if(_0x5a34c8[_0x581d1e(0x2ef)]!==_0x598c7)continue;if(_0x5a34c8[_0x581d1e(0x1cc)]===_0x581d1e(0x2b7))continue;if(_0x11b72c&&String(_0x5a34c8['id'])===String(_0x11b72c))continue;const [_0x225816,_0x28093b]=_0x5a34c8['start'][_0x581d1e(0x1b8)](':')[_0x581d1e(0x216)](Number),[_0x26d265,_0x1f09ee]=_0x5a34c8[_0x581d1e(0x1b9)][_0x581d1e(0x1b8)](':')[_0x581d1e(0x216)](Number),_0x39219b=_0x225816*0x3c+_0x28093b,_0x4268ab=_0x26d265*0x3c+_0x1f09ee;if(Math[_0x581d1e(0x1ad)](_0x550f61,_0x39219b)<Math[_0x581d1e(0x30a)](_0xc34b30,_0x4268ab)){if(_0x5a34c8[_0x581d1e(0x22c)]&&String(_0x5a34c8[_0x581d1e(0x22c)])===_0x2cfb1f)return{'valid':![],'msg':_0x581d1e(0x307)+_0x5a34c8[_0x581d1e(0x219)]+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x21e3ff=!![],_0xe21b90=_0x5a34c8[_0x581d1e(0x219)];}}if(_0x21e3ff)return{'valid':!![],'warning':'–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20'+_0xe21b90};return{'valid':!![]};}function saveSingleSession(_0x1fd5d4){const _0x3b8c88=a2_0x203b51;if(editingId){const _0x34942d=sessions[_0x3b8c88(0x298)](_0x4ec6ce=>_0x4ec6ce['id']===editingId);if(_0x34942d!==-0x1)sessions[_0x34942d]=_0x1fd5d4;}else sessions['push'](_0x1fd5d4);afterSaveAction([_0x1fd5d4[_0x3b8c88(0x2ef)]]);}function createBatchSeries(_0x5ac8a3,_0x429d98,_0x1a715f){const _0x1b7bdb=a2_0x203b51,_0xe2a1a2=generateId(),_0x4a499c=[],_0x3a0ab4=[];let _0x7459e5=0x0,_0x1b0b49=new Date(_0x429d98);for(let _0x28e72d=0x0;_0x28e72d<_0x1a715f;_0x28e72d++){const _0x22069e=getLocalDateStr(_0x1b0b49),_0x366f8a=validateAppointment(_0x22069e,_0x5ac8a3[_0x1b7bdb(0x30d)],_0x5ac8a3[_0x1b7bdb(0x1b9)],null,_0x5ac8a3[_0x1b7bdb(0x22c)]);if(!_0x366f8a['valid'])console[_0x1b7bdb(0x1d6)](_0x1b7bdb(0x201)+_0x22069e+_0x1b7bdb(0x21f)),_0x7459e5++;else{const _0x46027e={..._0x5ac8a3,'id':generateId(),'dateStr':_0x22069e,'seriesId':_0xe2a1a2};_0x3a0ab4[_0x1b7bdb(0x27d)](_0x46027e),_0x4a499c[_0x1b7bdb(0x27d)](_0x22069e);}_0x1b0b49[_0x1b7bdb(0x252)](_0x1b0b49['getDate']()+0x7);}if(_0x3a0ab4[_0x1b7bdb(0x27a)]===0x0){showToast(_0x1b7bdb(0x1da),![]);return;}sessions[_0x1b7bdb(0x27d)](..._0x3a0ab4),lastUserActionTime=Date[_0x1b7bdb(0x1ea)]();let _0x36643f=_0x1b7bdb(0x1ae)+_0x3a0ab4['length'];_0x7459e5>0x0&&(_0x36643f+=_0x1b7bdb(0x28c)+_0x7459e5+')'),showToast(_0x36643f,!![]),afterSaveAction(_0x4a499c);}function updateSeriesBatch(_0x120844,_0x59ed19){const _0x151145=a2_0x203b51,_0x2d4978=[],_0x58cdef=_0x59ed19[_0x151145(0x23b)];if(_0x120844===_0x151145(0x2cf)){const _0xde4b9b={..._0x59ed19,'seriesId':null},_0x5dc188=sessions[_0x151145(0x298)](_0x2467db=>_0x2467db['id']===_0x59ed19['id']);if(_0x5dc188!==-0x1)sessions[_0x5dc188]=_0xde4b9b;_0x2d4978[_0x151145(0x27d)](_0xde4b9b[_0x151145(0x2ef)]);}else{if(_0x120844===_0x151145(0x2f6)){const _0x2404ff=_0x59ed19['dateStr'];sessions[_0x151145(0x2bd)]((_0x1e4147,_0x23e125)=>{const _0x44953a=_0x151145;_0x1e4147[_0x44953a(0x23b)]===_0x58cdef&&_0x1e4147[_0x44953a(0x2ef)]>=_0x2404ff&&(sessions[_0x23e125]={...sessions[_0x23e125],'start':_0x59ed19[_0x44953a(0x30d)],'end':_0x59ed19['end'],'note':_0x59ed19[_0x44953a(0x1fb)],'client':_0x59ed19['client'],'clientId':_0x59ed19[_0x44953a(0x22c)]},_0x2d4978[_0x44953a(0x27d)](_0x1e4147[_0x44953a(0x2ef)]));});}}afterSaveAction(_0x2d4978);}function tryDeleteSession(){const _0x1d3096=a2_0x203b51,_0x51ad79=sessions[_0x1d3096(0x1fd)](_0x3cfa19=>_0x3cfa19['id']===editingId);if(!_0x51ad79)return;_0x51ad79[_0x1d3096(0x23b)]?openActionSheet(_0x1d3096(0x21c)):commitDelete(_0x1d3096(0x2cf),_0x51ad79);}function commitDelete(_0x3d5306,_0x27e921){const _0x4524d3=a2_0x203b51;lastUserActionTime=Date[_0x4524d3(0x1ea)](),NotificationManager[_0x4524d3(0x1ca)](_0x4524d3(0x1b7),_0x27e921);const _0x565a89=[];if(_0x3d5306===_0x4524d3(0x2cf))sessions=sessions[_0x4524d3(0x301)](_0x9d4027=>_0x9d4027['id']!==_0x27e921['id']),_0x565a89[_0x4524d3(0x27d)](_0x27e921['dateStr']);else{if(_0x3d5306===_0x4524d3(0x2f6)){const _0x121a67=_0x27e921['dateStr'],_0x5244a2=_0x27e921[_0x4524d3(0x23b)];sessions['forEach'](_0x2b7be3=>{const _0x54be6e=_0x4524d3;_0x2b7be3[_0x54be6e(0x23b)]===_0x5244a2&&_0x2b7be3[_0x54be6e(0x2ef)]>=_0x121a67&&_0x565a89[_0x54be6e(0x27d)](_0x2b7be3[_0x54be6e(0x2ef)]);}),sessions=sessions[_0x4524d3(0x301)](_0x2d4cad=>!(_0x2d4cad['seriesId']===_0x5244a2&&_0x2d4cad[_0x4524d3(0x2ef)]>=_0x121a67));}}afterSaveAction(_0x565a89);}function afterSaveAction(_0xca56fd){const _0x3cf869=a2_0x203b51;DataManager[_0x3cf869(0x1b3)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x3cf869(0x259)](_0xca56fd)['then'](()=>console[_0x3cf869(0x1d6)]('Batch\x20Sync\x20OK'))[_0x3cf869(0x2ba)](_0x40d311=>showToast(_0x3cf869(0x244),![]));}const NotificationManager={'formatDate'(_0x1795d9){const _0x4a9b2d=a2_0x203b51,_0x403f38=new Date(_0x1795d9),_0xae3697={'weekday':_0x4a9b2d(0x284),'day':_0x4a9b2d(0x2f8),'month':_0x4a9b2d(0x284)};let _0x2682ab=_0x403f38[_0x4a9b2d(0x24e)]('ru-RU',_0xae3697);return _0x2682ab[_0x4a9b2d(0x23f)](0x0)[_0x4a9b2d(0x24f)]()+_0x2682ab[_0x4a9b2d(0x2ae)](0x1);},'getText'(_0x277710,_0x3744dd){const _0x2e2dec=a2_0x203b51,_0x7b67c3=this[_0x2e2dec(0x1f1)](_0x3744dd['dateStr']);switch(_0x277710){case _0x2e2dec(0x2d1):return _0x2e2dec(0x304)+(_0x2e2dec(0x1b6)+_0x7b67c3+'\x0a')+('<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20'+_0x3744dd[_0x2e2dec(0x30d)]+_0x2e2dec(0x2c8)+_0x3744dd[_0x2e2dec(0x1b9)]+'\x0a\x0a')+_0x2e2dec(0x31a);case _0x2e2dec(0x1e6):return _0x2e2dec(0x1f7)+_0x2e2dec(0x23c)+(_0x2e2dec(0x1c1)+_0x3744dd[_0x2e2dec(0x30d)]+_0x2e2dec(0x2c8)+_0x3744dd[_0x2e2dec(0x1b9)]+_0x2e2dec(0x1f5))+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0x7b67c3);case'cancel':return'<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a'+('–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>'+_0x7b67c3+'\x20('+_0x3744dd[_0x2e2dec(0x30d)]+_0x2e2dec(0x1d8));case _0x2e2dec(0x2bb):return _0x2e2dec(0x211)+_0x2e2dec(0x2d0)+_0x2e2dec(0x30c);default:return'';}},async 'send'(_0x48190,_0x6f1b57){const _0xcb15e8=a2_0x203b51;console[_0xcb15e8(0x1d6)](_0xcb15e8(0x283),_0x48190,_0x6f1b57);if(!_0x6f1b57){console['error'](_0xcb15e8(0x1c7));return;}const _0x4e3e53=String(_0x6f1b57[_0xcb15e8(0x22c)]);console[_0xcb15e8(0x1d6)](_0xcb15e8(0x215),_0x4e3e53);if(!_0x6f1b57['clientId']||_0x4e3e53===_0xcb15e8(0x279)||_0x4e3e53===_0xcb15e8(0x208)){console[_0xcb15e8(0x227)](_0xcb15e8(0x249));if(_0x6f1b57['client']){const _0x1c7b78=clients[_0xcb15e8(0x1fd)](_0x9435ea=>_0x9435ea[_0xcb15e8(0x318)]===_0x6f1b57[_0xcb15e8(0x219)]);if(_0x1c7b78)return console['log'](_0xcb15e8(0x22b),_0x1c7b78['id']),this[_0xcb15e8(0x1ca)](_0x48190,{..._0x6f1b57,'clientId':_0x1c7b78['id']});}return;}if(_0x4e3e53[_0xcb15e8(0x27a)]<0x5){console[_0xcb15e8(0x291)](_0xcb15e8(0x27e),_0x4e3e53);return;}const _0x4bdcd9=this['getText'](_0x48190,_0x6f1b57);if(!_0x4bdcd9){console[_0xcb15e8(0x227)](_0xcb15e8(0x2d9));return;}console[_0xcb15e8(0x1d6)](_0xcb15e8(0x2ee)+_0x4e3e53+_0xcb15e8(0x1aa)),DataManager[_0xcb15e8(0x2fd)](_0xcb15e8(0x296),{'chatId':_0x4e3e53,'text':_0x4bdcd9})[_0xcb15e8(0x31b)](_0x5496e3=>console[_0xcb15e8(0x1d6)](_0xcb15e8(0x2d2),_0x5496e3))[_0xcb15e8(0x2ba)](_0x37611a=>console['error'](_0xcb15e8(0x27c),_0x37611a));}};function getLocalDateStr(_0x1f4252){const _0x424791=a2_0x203b51,_0x9c67e4=_0x1f4252[_0x424791(0x2c7)](),_0x16d7a5=String(_0x1f4252[_0x424791(0x246)]()+0x1)[_0x424791(0x2cb)](0x2,'0'),_0x5bfc31=String(_0x1f4252['getDate']())['padStart'](0x2,'0');return _0x9c67e4+'-'+_0x16d7a5+'-'+_0x5bfc31;}function getDateStr(_0x1e3c09){const _0x3e2552=a2_0x203b51,_0x20d173=new Date();return _0x20d173[_0x3e2552(0x252)](_0x20d173['getDate']()+_0x1e3c09),getLocalDateStr(_0x20d173);}function getStartOfWeek(_0x306538){const _0x369c5a=a2_0x203b51,_0x39cb9a=new Date(_0x306538),_0x1b4db2=_0x39cb9a[_0x369c5a(0x240)](),_0x17ec96=_0x39cb9a[_0x369c5a(0x2f7)]()-_0x1b4db2+(_0x1b4db2===0x0?-0x6:0x1);return _0x39cb9a[_0x369c5a(0x252)](_0x17ec96),_0x39cb9a[_0x369c5a(0x319)](0x0,0x0,0x0,0x0),_0x39cb9a;}function hexToRgba(_0x5bfcb7,_0x333f41){const _0x3faa26=a2_0x203b51;if(!_0x5bfcb7)return'rgba(100,100,100,0.5)';let _0x5b914d=0x0,_0x5adb8d=0x0,_0x3cd889=0x0;if(_0x5bfcb7[_0x3faa26(0x27a)]===0x4)_0x5b914d='0x'+_0x5bfcb7[0x1]+_0x5bfcb7[0x1],_0x5adb8d='0x'+_0x5bfcb7[0x2]+_0x5bfcb7[0x2],_0x3cd889='0x'+_0x5bfcb7[0x3]+_0x5bfcb7[0x3];else _0x5bfcb7[_0x3faa26(0x27a)]===0x7&&(_0x5b914d='0x'+_0x5bfcb7[0x1]+_0x5bfcb7[0x2],_0x5adb8d='0x'+_0x5bfcb7[0x3]+_0x5bfcb7[0x4],_0x3cd889='0x'+_0x5bfcb7[0x5]+_0x5bfcb7[0x6]);return'rgba('+ +_0x5b914d+',\x20'+ +_0x5adb8d+',\x20'+ +_0x3cd889+',\x20'+_0x333f41+')';}function renderTimeColumn(){const _0x568e22=a2_0x203b51,_0x5f079b=document[_0x568e22(0x23e)](_0x568e22(0x2b9)),_0x5c22e6=document['getElementById']('timeLineBadge');_0x5f079b[_0x568e22(0x231)]='',_0x5f079b['appendChild'](_0x5c22e6);for(let _0x4ca1fa=0x0;_0x4ca1fa<0x18;_0x4ca1fa++){const _0x244d92=document[_0x568e22(0x1cf)](_0x568e22(0x2a1));_0x244d92[_0x568e22(0x1c6)]='time-label';if(_0x4ca1fa>0x0)_0x244d92[_0x568e22(0x231)]=_0x568e22(0x285)+String(_0x4ca1fa)[_0x568e22(0x2cb)](0x2,'0')+_0x568e22(0x1e8);_0x5f079b[_0x568e22(0x1c0)](_0x244d92);}}function renderDayRange(_0x44a067,_0x5d0b22){const _0x17c665=a2_0x203b51,_0x27d3e5=document[_0x17c665(0x23e)]('daysHeaderTrack'),_0x4b1050=document[_0x17c665(0x23e)](_0x17c665(0x2af)),_0x22b58f=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x5762f9=new Date();_0x5762f9[_0x17c665(0x319)](0x0,0x0,0x0,0x0);const _0x4f32a0=getLocalDateStr(new Date());for(let _0x1ec2e1=_0x44a067;_0x1ec2e1<=_0x5d0b22;_0x1ec2e1++){const _0x5c90c5=new Date(_0x5762f9);_0x5c90c5[_0x17c665(0x252)](_0x5c90c5[_0x17c665(0x2f7)]()+_0x1ec2e1);const _0x1e67b9=getLocalDateStr(_0x5c90c5);let _0x5a2cd4=_0x5c90c5[_0x17c665(0x240)]()-0x1;if(_0x5a2cd4===-0x1)_0x5a2cd4=0x6;const _0x2e6d47=_0x1e67b9===_0x4f32a0,_0x1ecc67=document[_0x17c665(0x1cf)](_0x17c665(0x2a1));_0x1ecc67[_0x17c665(0x1c6)]=_0x17c665(0x275)+(_0x2e6d47?'today':''),_0x1ecc67['id']=_0x17c665(0x2cd)+_0x1e67b9,_0x1ecc67[_0x17c665(0x2c5)](_0x17c665(0x2e3),_0x1e67b9),_0x1ecc67[_0x17c665(0x231)]=_0x17c665(0x24d)+_0x22b58f[_0x5a2cd4]+_0x17c665(0x1a6)+_0x5c90c5[_0x17c665(0x2f7)]()+_0x17c665(0x28e)+_0x1e67b9+_0x17c665(0x214),_0x1ecc67['onclick']=()=>openDayOptions(_0x1e67b9,_0x22b58f[_0x5a2cd4]+'\x20'+_0x5c90c5[_0x17c665(0x2f7)]()),_0x27d3e5[_0x17c665(0x1c0)](_0x1ecc67);const _0x3063ce=document[_0x17c665(0x1cf)](_0x17c665(0x2a1));_0x3063ce[_0x17c665(0x1c6)]=_0x17c665(0x20f)+(_0x2e6d47?_0x17c665(0x2da):''),_0x3063ce['setAttribute']('data-date',_0x1e67b9),_0x3063ce[_0x17c665(0x2c5)](_0x17c665(0x280),_0x5a2cd4),renderEventsForColumn(_0x3063ce,_0x1e67b9,_0x5a2cd4),attachLongPressHandler(_0x3063ce,_0x5c90c5),_0x4b1050[_0x17c665(0x1c0)](_0x3063ce),updateDayStats(_0x1e67b9);}}function reRenderBlocks(){const _0x985d4=a2_0x203b51;document[_0x985d4(0x217)]('#gridColumns\x20.day-column')[_0x985d4(0x2bd)](_0x553c87=>{const _0x1ddea6=_0x985d4;_0x553c87[_0x1ddea6(0x217)](_0x1ddea6(0x1f3))[_0x1ddea6(0x2bd)](_0x441dbd=>_0x441dbd[_0x1ddea6(0x1d1)]());const _0x171d6c=_0x553c87[_0x1ddea6(0x28d)]('data-date'),_0x1149bb=parseInt(_0x553c87[_0x1ddea6(0x28d)](_0x1ddea6(0x280))),_0x31e54b=Math['round'](_0x553c87[_0x1ddea6(0x2c9)]);(availabilityPattern[_0x1149bb]||[])['forEach'](_0x41fb7b=>{const _0xb9b735=_0x1ddea6,_0x39ab4b=document[_0xb9b735(0x1cf)](_0xb9b735(0x2a1));_0x39ab4b[_0xb9b735(0x1c6)]=_0xb9b735(0x2a2);const _0x5aca89=_0x41fb7b*GRID_H;_0x39ab4b[_0xb9b735(0x1e7)][_0xb9b735(0x262)]=_0x5aca89+'px',_0x39ab4b[_0xb9b735(0x1e7)][_0xb9b735(0x1f4)]='-'+_0x31e54b+_0xb9b735(0x2d4)+_0x5aca89+'px',_0x553c87[_0xb9b735(0x1c0)](_0x39ab4b);});if(specialRanges&&specialRanges[_0x1ddea6(0x27a)]>0x0){const _0x6ed942=new Date(_0x171d6c+_0x1ddea6(0x2ed))['getTime'](),_0x45b270=new Date(_0x171d6c+'T23:59:59')[_0x1ddea6(0x235)]();specialRanges['forEach'](_0x22d80e=>{const _0x339e01=_0x1ddea6,_0x23f859=new Date(_0x22d80e['start'])['getTime'](),_0x27fd14=new Date(_0x22d80e[_0x339e01(0x1b9)])[_0x339e01(0x235)](),_0x2a7c6c=Math['max'](_0x6ed942,_0x23f859),_0x5bcf91=Math[_0x339e01(0x30a)](_0x45b270,_0x27fd14);if(_0x2a7c6c<_0x5bcf91){if(_0x2a7c6c<=_0x6ed942&&_0x5bcf91>=_0x45b270-0xea60){if(!_0x553c87[_0x339e01(0x315)](_0x339e01(0x213))){const _0x23ba42=document[_0x339e01(0x1cf)]('div');_0x23ba42[_0x339e01(0x1c6)]='day-off-overlay\x20stripe-bg',_0x23ba42[_0x339e01(0x1e7)]['backgroundPosition']='-'+_0x31e54b+'px\x200px',_0x553c87[_0x339e01(0x1c0)](_0x23ba42);}}else{const _0x480fa0=(_0x2a7c6c-_0x6ed942)/0x36ee80*GRID_H,_0x1874f7=(_0x5bcf91-_0x2a7c6c)/0x36ee80*GRID_H,_0x1094b2=document[_0x339e01(0x1cf)]('div');_0x1094b2['className']='blocked-range-part\x20stripe-bg',_0x1094b2[_0x339e01(0x1e7)][_0x339e01(0x262)]=_0x480fa0+'px',_0x1094b2[_0x339e01(0x1e7)][_0x339e01(0x1f0)]=_0x1874f7+'px',_0x1094b2[_0x339e01(0x1e7)]['backgroundPosition']='-'+_0x31e54b+_0x339e01(0x2d4)+_0x480fa0+'px',_0x553c87['appendChild'](_0x1094b2);}}});}if(dateExceptions[_0x171d6c]===_0x1ddea6(0x282)){if(!_0x553c87[_0x1ddea6(0x315)](_0x1ddea6(0x213))){const _0x4acb24=document[_0x1ddea6(0x1cf)](_0x1ddea6(0x2a1));_0x4acb24[_0x1ddea6(0x1c6)]='day-off-overlay\x20stripe-bg',_0x4acb24[_0x1ddea6(0x1e7)]['backgroundPosition']='-'+_0x31e54b+_0x1ddea6(0x222),_0x553c87[_0x1ddea6(0x1c0)](_0x4acb24);}}renderEventsForColumn(_0x553c87,_0x171d6c,_0x1149bb),updateDayStats(_0x171d6c);});}function updateAllDayStats(){const _0x33d715=a2_0x203b51;document[_0x33d715(0x217)](_0x33d715(0x24a))[_0x33d715(0x2bd)](_0x3f900d=>{const _0x5923da=_0x33d715;updateDayStats(_0x3f900d[_0x5923da(0x28d)](_0x5923da(0x2e3)));});}function updateDayStats(_0x23a1c3){const _0x4d2bd6=a2_0x203b51,_0x137f2e=document['getElementById']('stat-'+_0x23a1c3);if(!_0x137f2e)return;const _0x3fd44d=new Date(_0x23a1c3);let _0x288177=_0x3fd44d['getDay']()-0x1;if(_0x288177===-0x1)_0x288177=0x6;if(dateExceptions[_0x23a1c3]===_0x4d2bd6(0x282)){_0x137f2e[_0x4d2bd6(0x1e7)][_0x4d2bd6(0x22f)]=_0x4d2bd6(0x20c);return;}const _0x1d2eaa=availabilityPattern[_0x288177]||[],_0x49cb74=0x18-_0x1d2eaa[_0x4d2bd6(0x27a)],_0x59e92a=_0x49cb74*0x3c,_0x17e726=sessions[_0x4d2bd6(0x301)](_0x247bf7=>_0x247bf7[_0x4d2bd6(0x2ef)]===_0x23a1c3&&_0x247bf7[_0x4d2bd6(0x1cc)]!==_0x4d2bd6(0x2b7));if(_0x17e726[_0x4d2bd6(0x27a)]===0x0){_0x137f2e['style']['display']=_0x4d2bd6(0x20c);return;}let _0xb063c1=_0x17e726[_0x4d2bd6(0x216)](_0x301304=>{const _0x7cffd8=_0x4d2bd6,[_0x381ced,_0x572005]=_0x301304[_0x7cffd8(0x30d)][_0x7cffd8(0x1b8)](':')[_0x7cffd8(0x216)](Number),[_0x21a022,_0x1f5869]=_0x301304[_0x7cffd8(0x1b9)][_0x7cffd8(0x1b8)](':')['map'](Number);return[_0x381ced*0x3c+_0x572005,_0x21a022*0x3c+_0x1f5869];});_0xb063c1['sort']((_0x419d01,_0x59c826)=>_0x419d01[0x0]-_0x59c826[0x0]);let _0xff6604=[];if(_0xb063c1[_0x4d2bd6(0x27a)]>0x0){let _0x430770=_0xb063c1[0x0];for(let _0xf791f=0x1;_0xf791f<_0xb063c1[_0x4d2bd6(0x27a)];_0xf791f++){_0xb063c1[_0xf791f][0x0]<_0x430770[0x1]?_0x430770[0x1]=Math[_0x4d2bd6(0x1ad)](_0x430770[0x1],_0xb063c1[_0xf791f][0x1]):(_0xff6604['push'](_0x430770),_0x430770=_0xb063c1[_0xf791f]);}_0xff6604['push'](_0x430770);}let _0x35f38c=0x0;_0xff6604[_0x4d2bd6(0x2bd)](_0xf5509b=>_0x35f38c+=_0xf5509b[0x1]-_0xf5509b[0x0]),_0x137f2e['style'][_0x4d2bd6(0x22f)]='flex';const _0x1ef55c=_0x137f2e[_0x4d2bd6(0x315)](_0x4d2bd6(0x273));if(_0x59e92a===0x0){_0x1ef55c[_0x4d2bd6(0x1e7)][_0x4d2bd6(0x274)]=_0x4d2bd6(0x2e8),_0x1ef55c[_0x4d2bd6(0x1e7)][_0x4d2bd6(0x28a)]='var(--acc-red)';return;}const _0x531ab8=_0x35f38c/_0x59e92a*0x64;console['log']('['+_0x23a1c3+_0x4d2bd6(0x2ce)+_0x49cb74+'—á,\x20–ó–∞–Ω—è—Ç–æ:\x20'+_0x35f38c+_0x4d2bd6(0x24b)+_0x531ab8[_0x4d2bd6(0x1f9)](0x1)+'%'),_0x531ab8>0x64?(_0x1ef55c[_0x4d2bd6(0x1e7)][_0x4d2bd6(0x274)]=_0x4d2bd6(0x2e8),_0x1ef55c[_0x4d2bd6(0x1e7)][_0x4d2bd6(0x28a)]='var(--acc-red)'):(_0x1ef55c['style'][_0x4d2bd6(0x274)]=_0x531ab8+'%',_0x1ef55c['style'][_0x4d2bd6(0x28a)]=_0x4d2bd6(0x260));}function renderEventsForColumn(_0x444993,_0x3eca33,_0x3f8b59){const _0x3c13cc=a2_0x203b51,_0x207050=sessions[_0x3c13cc(0x301)](_0x4eca82=>_0x4eca82[_0x3c13cc(0x2ef)]===_0x3eca33),_0x2612da=_0x207050['map'](_0x2397c0=>{const _0x39fa13=_0x3c13cc,[_0x3cea4c,_0x4cf09e]=_0x2397c0[_0x39fa13(0x30d)][_0x39fa13(0x1b8)](':')[_0x39fa13(0x216)](Number),[_0x45ee52,_0x2783bf]=_0x2397c0['end']['split'](':')[_0x39fa13(0x216)](Number);return{'data':_0x2397c0,'start':_0x3cea4c*0x3c+_0x4cf09e,'end':_0x45ee52*0x3c+_0x2783bf,'colIndex':0x0};});_0x2612da['sort']((_0x1dbb39,_0x124e0f)=>{const _0x38acde=_0x3c13cc;if(_0x1dbb39['start']!==_0x124e0f[_0x38acde(0x30d)])return _0x1dbb39['start']-_0x124e0f['start'];return _0x124e0f[_0x38acde(0x1b9)]-_0x124e0f[_0x38acde(0x30d)]-(_0x1dbb39[_0x38acde(0x1b9)]-_0x1dbb39[_0x38acde(0x30d)]);});const _0x1aa9ea=[];_0x2612da['forEach'](_0x2cd721=>{const _0x2d9a66=_0x3c13cc;let _0x42842d=![];for(let _0xb3656e=0x0;_0xb3656e<_0x1aa9ea[_0x2d9a66(0x27a)];_0xb3656e++){const _0x408b31=_0x1aa9ea[_0xb3656e],_0x2de9d6=_0x408b31[_0x408b31[_0x2d9a66(0x27a)]-0x1];if(_0x2cd721[_0x2d9a66(0x30d)]>=_0x2de9d6[_0x2d9a66(0x1b9)]){_0x408b31['push'](_0x2cd721),_0x2cd721[_0x2d9a66(0x1d0)]=_0xb3656e,_0x42842d=!![];break;}}!_0x42842d&&(_0x1aa9ea[_0x2d9a66(0x27d)]([_0x2cd721]),_0x2cd721[_0x2d9a66(0x1d0)]=_0x1aa9ea[_0x2d9a66(0x27a)]-0x1);}),_0x2612da['forEach'](_0x2c98d8=>{const _0xddb75a=_0x3c13cc;let _0x5df4dd=0x0;_0x2612da[_0xddb75a(0x2bd)](_0x116d0b=>{const _0xb8e91d=_0xddb75a;if(Math[_0xb8e91d(0x1ad)](_0x2c98d8[_0xb8e91d(0x30d)],_0x116d0b[_0xb8e91d(0x30d)])<Math[_0xb8e91d(0x30a)](_0x2c98d8[_0xb8e91d(0x1b9)],_0x116d0b['end'])){if(_0x116d0b['colIndex']>_0x5df4dd)_0x5df4dd=_0x116d0b[_0xb8e91d(0x1d0)];}});const _0x809ed=_0x5df4dd+0x1,_0x102ec2=0x64/_0x809ed,_0x5f1bd3=_0x2c98d8[_0xddb75a(0x1d0)]*_0x102ec2,_0x38760a=createEventEl(_0x2c98d8[_0xddb75a(0x2a4)]);_0x38760a[_0xddb75a(0x1e7)][_0xddb75a(0x274)]=_0xddb75a(0x1b2)+_0x102ec2+_0xddb75a(0x1b4),_0x38760a[_0xddb75a(0x1e7)][_0xddb75a(0x20e)]=_0xddb75a(0x1b2)+_0x5f1bd3+_0xddb75a(0x1f2),_0x38760a[_0xddb75a(0x1e7)][_0xddb75a(0x207)]=0xa+_0x2c98d8[_0xddb75a(0x1d0)],_0x102ec2<0x55&&_0x38760a[_0xddb75a(0x1f6)][_0xddb75a(0x2e6)]('mini'),_0x444993[_0xddb75a(0x1c0)](_0x38760a);});}function createEventEl(_0x58f0ba){const _0x29b093=a2_0x203b51,[_0x341dc6,_0x3c8713]=_0x58f0ba[_0x29b093(0x30d)][_0x29b093(0x1b8)](':')[_0x29b093(0x216)](Number),[_0x12ccae,_0x239690]=_0x58f0ba[_0x29b093(0x1b9)][_0x29b093(0x1b8)](':')[_0x29b093(0x216)](Number),_0x62a890=(_0x341dc6*0x3c+_0x3c8713)/0x3c*GRID_H,_0xe5f7e7=(_0x12ccae*0x3c+_0x239690-(_0x341dc6*0x3c+_0x3c8713))/0x3c*GRID_H,_0x16be7d=document[_0x29b093(0x1cf)](_0x29b093(0x2a1)),_0x2d3321=_0x58f0ba[_0x29b093(0x1cc)]===_0x29b093(0x1be)?'\x20status-completed':'';_0x16be7d[_0x29b093(0x1c6)]=_0x29b093(0x303)+_0x2d3321,_0x16be7d[_0x29b093(0x1e7)]['top']=_0x62a890+'px',_0x16be7d[_0x29b093(0x1e7)][_0x29b093(0x1f0)]=Math[_0x29b093(0x1ad)](_0xe5f7e7,0x14)+'px';const _0x5b6a71=clients[_0x29b093(0x1fd)](_0x221c8d=>_0x58f0ba[_0x29b093(0x22c)]&&String(_0x221c8d['id'])===String(_0x58f0ba['clientId'])||_0x221c8d[_0x29b093(0x318)]===_0x58f0ba['client']),_0x45c092=_0x5b6a71?_0x5b6a71[_0x29b093(0x1ce)]:_0x29b093(0x23a);_0x16be7d[_0x29b093(0x1e7)][_0x29b093(0x2db)]=_0x45c092,_0x16be7d[_0x29b093(0x1e7)][_0x29b093(0x205)]=hexToRgba(_0x45c092,0.85);let _0x49e94d=_0x29b093(0x26f)+_0x58f0ba[_0x29b093(0x219)]+_0x29b093(0x2c1)+_0x58f0ba[_0x29b093(0x30d)]+'\x20-\x20'+_0x58f0ba[_0x29b093(0x1b9)]+_0x29b093(0x2c3);return _0x58f0ba['seriesId']&&(_0x49e94d+=_0x29b093(0x2bc)),_0x58f0ba[_0x29b093(0x1cc)]===_0x29b093(0x1be)&&(_0x49e94d+=_0x29b093(0x269)),_0x16be7d[_0x29b093(0x231)]=_0x49e94d,_0x16be7d['onclick']=_0x20cabb=>{_0x20cabb['stopPropagation'](),openEdit(_0x58f0ba);},_0x16be7d;}function attachLongPressHandler(_0x5d9495,_0x417f9c){const _0x4ab266=a2_0x203b51;let _0x51d75d=0x0,_0x63e88b=null;const _0x2ff375=_0x3330c4=>{const _0x3fe01b=a2_0x426e;if(_0x3330c4[_0x3fe01b(0x30e)]['closest'](_0x3fe01b(0x230)))return;isScrolling=![],_0x51d75d=_0x3330c4[_0x3fe01b(0x25f)]?_0x3330c4['touches'][0x0][_0x3fe01b(0x2b0)]:_0x3330c4[_0x3fe01b(0x2b0)],_0x63e88b=setTimeout(()=>{const _0x204022=_0x3fe01b;if(!isScrolling){navigator[_0x204022(0x28b)]?.(0x32);const _0x315ff6=_0x5d9495[_0x204022(0x297)](),_0x240210=Math['floor']((_0x51d75d-_0x315ff6[_0x204022(0x262)])/GRID_H);_0x417f9c[_0x204022(0x319)](_0x240210,0x0),openAddSession(_0x417f9c);}},0x1f4);},_0x3e4342=()=>{isScrolling=!![],clearTimeout(_0x63e88b);},_0x5d2847=()=>{clearTimeout(_0x63e88b);};_0x5d9495[_0x4ab266(0x237)](_0x4ab266(0x30f),_0x2ff375,{'passive':!![]}),_0x5d9495['addEventListener'](_0x4ab266(0x25c),_0x3e4342,{'passive':!![]}),_0x5d9495[_0x4ab266(0x237)]('touchend',_0x5d2847),_0x5d9495[_0x4ab266(0x237)](_0x4ab266(0x1df),_0x2ff375),_0x5d9495[_0x4ab266(0x237)](_0x4ab266(0x2e5),_0x3e4342),_0x5d9495[_0x4ab266(0x237)]('mouseup',_0x5d2847);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x136108=a2_0x203b51,_0x5e6684=document[_0x136108(0x23e)](_0x136108(0x1bd)),_0x2b960d=_0x5e6684[_0x136108(0x236)],_0x3a2e06=_0x5e6684['scrollWidth'],_0x163770=_0x5e6684['clientWidth'];if(_0x3a2e06-(_0x2b960d+_0x163770)<0x12c){const _0x138d21=endOffset;endOffset+=0xe,renderDayRange(_0x138d21+0x1,endOffset),reRenderBlocks();}if(_0x2b960d<0x12c){const _0x1a6c14=startOffset;startOffset-=0xe,prependDays(startOffset,_0x1a6c14-0x1),_0x5e6684[_0x136108(0x236)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x82e067,_0x5ebae8){const _0x1f5bf4=a2_0x203b51,_0xd3bce3=document['getElementById'](_0x1f5bf4(0x206)),_0x190f11=document[_0x1f5bf4(0x23e)](_0x1f5bf4(0x2af)),_0x25a5b0=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x26bef0=new Date();_0x26bef0['setHours'](0x0,0x0,0x0,0x0);const _0x5ce696=getLocalDateStr(new Date()),_0x358fbe=document[_0x1f5bf4(0x2eb)](),_0x35fe55=document['createDocumentFragment']();for(let _0x490a93=_0x82e067;_0x490a93<=_0x5ebae8;_0x490a93++){const _0x728dc6=new Date(_0x26bef0);_0x728dc6[_0x1f5bf4(0x252)](_0x728dc6['getDate']()+_0x490a93);const _0x5e4012=getLocalDateStr(_0x728dc6);let _0x7e4fca=_0x728dc6[_0x1f5bf4(0x240)]()-0x1;if(_0x7e4fca===-0x1)_0x7e4fca=0x6;const _0x525b97=_0x5e4012===_0x5ce696,_0x884cc7=document[_0x1f5bf4(0x1cf)]('div');_0x884cc7[_0x1f5bf4(0x1c6)]=_0x1f5bf4(0x275)+(_0x525b97?'today':''),_0x884cc7['id']='header-'+_0x5e4012,_0x884cc7[_0x1f5bf4(0x2c5)]('data-date',_0x5e4012),_0x884cc7['innerHTML']=_0x1f5bf4(0x24d)+_0x25a5b0[_0x7e4fca]+_0x1f5bf4(0x1a6)+_0x728dc6[_0x1f5bf4(0x2f7)]()+_0x1f5bf4(0x28e)+_0x5e4012+_0x1f5bf4(0x214),_0x884cc7['onclick']=()=>openDayOptions(_0x5e4012,_0x25a5b0[_0x7e4fca]+'\x20'+_0x728dc6['getDate']()),_0x358fbe[_0x1f5bf4(0x1c0)](_0x884cc7);const _0x4c9fe1=document[_0x1f5bf4(0x1cf)]('div');_0x4c9fe1[_0x1f5bf4(0x1c6)]=_0x1f5bf4(0x20f)+(_0x525b97?_0x1f5bf4(0x2da):''),_0x4c9fe1['setAttribute'](_0x1f5bf4(0x2e3),_0x5e4012),_0x4c9fe1[_0x1f5bf4(0x2c5)]('data-day-idx',_0x7e4fca),renderEventsForColumn(_0x4c9fe1,_0x5e4012,_0x7e4fca),attachLongPressHandler(_0x4c9fe1,_0x728dc6),_0x35fe55[_0x1f5bf4(0x1c0)](_0x4c9fe1),updateDayStats(_0x5e4012);}_0xd3bce3[_0x1f5bf4(0x306)](_0x358fbe,_0xd3bce3['firstChild']),_0x190f11[_0x1f5bf4(0x306)](_0x35fe55,_0x190f11[_0x1f5bf4(0x315)]('.day-column'));}function validateAppointment(_0x3740f9,_0x5ac518,_0x4e7c52,_0x4dc138,_0x4745f0){const _0x3082f2=a2_0x203b51,[_0x5f5287,_0x4e1717]=_0x5ac518[_0x3082f2(0x1b8)](':')[_0x3082f2(0x216)](Number),[_0x458cf4,_0x33dd74]=_0x4e7c52['split'](':')[_0x3082f2(0x216)](Number),_0x3b1dce=_0x5f5287*0x3c+_0x4e1717,_0x460358=_0x458cf4*0x3c+_0x33dd74,_0x22b62d=String(_0x4745f0);let _0x5217de=![],_0x3b9645='';for(let _0x491812 of sessions){if(_0x491812['dateStr']!==_0x3740f9)continue;if(_0x491812[_0x3082f2(0x1cc)]===_0x3082f2(0x2b7))continue;if(_0x4dc138&&String(_0x491812['id'])===String(_0x4dc138))continue;const [_0x24b837,_0x4462d0]=_0x491812['start'][_0x3082f2(0x1b8)](':')[_0x3082f2(0x216)](Number),[_0x450939,_0x1614d1]=_0x491812[_0x3082f2(0x1b9)][_0x3082f2(0x1b8)](':')[_0x3082f2(0x216)](Number),_0x456d4e=_0x24b837*0x3c+_0x4462d0,_0x5238b5=_0x450939*0x3c+_0x1614d1;if(Math[_0x3082f2(0x1ad)](_0x3b1dce,_0x456d4e)<Math[_0x3082f2(0x30a)](_0x460358,_0x5238b5)){if(_0x491812[_0x3082f2(0x22c)]&&String(_0x491812[_0x3082f2(0x22c)])===_0x22b62d)return{'valid':![],'msg':_0x3082f2(0x307)+_0x491812[_0x3082f2(0x219)]+_0x3082f2(0x1e3)};_0x5217de=!![],_0x3b9645=_0x491812['client'];}}if(_0x5217de)return{'valid':!![],'warning':'–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20'+_0x3b9645};return{'valid':!![]};}function updateDateDisplay(){const _0x34aaf1=a2_0x203b51,_0x382612=document[_0x34aaf1(0x23e)]('inpDate')[_0x34aaf1(0x305)],_0x553f41=document[_0x34aaf1(0x23e)](_0x34aaf1(0x1ef));if(!_0x382612){_0x553f41[_0x34aaf1(0x29d)]='';return;}const [_0x28ab5e,_0x4ece43,_0x206faf]=_0x382612['split']('-')[_0x34aaf1(0x216)](Number),_0xd3b192=new Date(_0x28ab5e,_0x4ece43-0x1,_0x206faf),_0x296356={'weekday':'long','day':_0x34aaf1(0x2f8),'month':'long','year':_0x34aaf1(0x2f8)};let _0x383314=_0xd3b192['toLocaleDateString']('ru-RU',_0x296356);_0x383314=_0x383314[_0x34aaf1(0x23f)](0x0)[_0x34aaf1(0x24f)]()+_0x383314['slice'](0x1),_0x553f41[_0x34aaf1(0x29d)]=_0x383314;}function autoSetEndTime(){const _0x44ea6f=a2_0x203b51,_0x23e9eb=document[_0x44ea6f(0x23e)](_0x44ea6f(0x29c))['value'];if(!_0x23e9eb)return;const [_0x5f29da,_0x4387cd]=_0x23e9eb[_0x44ea6f(0x1b8)](':')[_0x44ea6f(0x216)](Number);let _0x4ea5f2=_0x5f29da+0x1;if(_0x4ea5f2>0x17)_0x4ea5f2=0x0;const _0x3949b0=String(_0x4ea5f2)['padStart'](0x2,'0')+':'+String(_0x4387cd)['padStart'](0x2,'0');document[_0x44ea6f(0x23e)](_0x44ea6f(0x1e1))[_0x44ea6f(0x305)]=_0x3949b0;}function populateClientSelect(){const _0x1ece79=a2_0x203b51,_0x1a2c78=document[_0x1ece79(0x23e)](_0x1ece79(0x2a5));_0x1a2c78[_0x1ece79(0x231)]='';if(clients['length']===0x0){const _0x51d305=document[_0x1ece79(0x1cf)]('option');_0x51d305['text']=_0x1ece79(0x258),_0x1a2c78[_0x1ece79(0x1c0)](_0x51d305);return;}clients['forEach'](_0x554b85=>{const _0x7e9166=_0x1ece79,_0x35773e=document['createElement'](_0x7e9166(0x31c));_0x35773e[_0x7e9166(0x305)]=_0x554b85[_0x7e9166(0x318)],_0x35773e[_0x7e9166(0x29d)]=_0x554b85[_0x7e9166(0x318)],_0x1a2c78['appendChild'](_0x35773e);});}function openActionSheet(_0xcbd567){const _0x980c01=a2_0x203b51,_0x4c9de6=document['getElementById']('actionSheet'),_0x5a8958=document[_0x980c01(0x23e)]('actionSheetOverlay'),_0x4d4b7e=document[_0x980c01(0x23e)](_0x980c01(0x292)),_0x3d1c47=document[_0x980c01(0x23e)](_0x980c01(0x26c)),_0x5f661f=document[_0x980c01(0x23e)](_0x980c01(0x2e7));_0x5a8958['classList']['add'](_0x980c01(0x1a7)),_0x4c9de6['classList'][_0x980c01(0x2e6)](_0x980c01(0x1e5));if(_0xcbd567===_0x980c01(0x30b))_0x4d4b7e[_0x980c01(0x29d)]=_0x980c01(0x2e9),_0x3d1c47[_0x980c01(0x29d)]=_0x980c01(0x200),_0x3d1c47[_0x980c01(0x2df)]=()=>{const _0x58a713=_0x980c01;closeActionSheet(),updateSeriesBatch(_0x58a713(0x2cf),tempSessionData);},_0x5f661f[_0x980c01(0x29d)]=_0x980c01(0x218),_0x5f661f[_0x980c01(0x2df)]=()=>{const _0x2a9527=_0x980c01;closeActionSheet(),updateSeriesBatch(_0x2a9527(0x2f6),tempSessionData);};else _0xcbd567===_0x980c01(0x21c)&&(_0x4d4b7e[_0x980c01(0x29d)]=_0x980c01(0x2b6),_0x3d1c47[_0x980c01(0x29d)]=_0x980c01(0x200),_0x3d1c47['className']=_0x980c01(0x278),_0x3d1c47['onclick']=()=>{const _0x34b1bf=_0x980c01;closeActionSheet(),commitDelete(_0x34b1bf(0x2cf),sessions[_0x34b1bf(0x1fd)](_0x25b202=>_0x25b202['id']===editingId));},_0x5f661f['textContent']=_0x980c01(0x218),_0x5f661f[_0x980c01(0x1c6)]='as-button\x20danger\x20bold',_0x5f661f[_0x980c01(0x2df)]=()=>{const _0x36c432=_0x980c01;closeActionSheet(),commitDelete('series',sessions[_0x36c432(0x1fd)](_0x19e782=>_0x19e782['id']===editingId));});}function closeActionSheet(){const _0x1a95bf=a2_0x203b51;document[_0x1a95bf(0x23e)]('actionSheet')[_0x1a95bf(0x1f6)][_0x1a95bf(0x1d1)](_0x1a95bf(0x1e5)),document[_0x1a95bf(0x23e)](_0x1a95bf(0x21a))['classList'][_0x1a95bf(0x1d1)]('active');}function openSettings(){const _0x15e49e=a2_0x203b51;openSheet(_0x15e49e(0x289));}function saveCoachSettings(){const _0x391217=a2_0x203b51,_0x2229b5=document[_0x391217(0x23e)](_0x391217(0x26d))[_0x391217(0x305)];localStorage[_0x391217(0x2de)]('uc_settings_cancel_window',_0x2229b5),console[_0x391217(0x1d6)](_0x391217(0x2f5),_0x2229b5),DataManager['fetchFromServer'](_0x391217(0x2c6),{'settings':{'cancel_window':_0x2229b5}})[_0x391217(0x2ba)](_0x4dc575=>{const _0x49b9d7=_0x391217;console[_0x49b9d7(0x227)]('Save\x20settings\x20error:',_0x4dc575),showToast(_0x49b9d7(0x300),![]);});}function loadCoachSettings(){const _0x1bc2c1=a2_0x203b51,_0x4a0a3c=localStorage[_0x1bc2c1(0x2f4)](_0x1bc2c1(0x2fb));_0x4a0a3c&&(document[_0x1bc2c1(0x23e)](_0x1bc2c1(0x26d))[_0x1bc2c1(0x305)]=_0x4a0a3c);}function openRangesSheet(){closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet('rangesSheet');}function addRange(){const _0x2df003=a2_0x203b51,_0x24d85f=document[_0x2df003(0x23e)]('rangeStartDate')[_0x2df003(0x305)],_0x5b4cc0=document['getElementById'](_0x2df003(0x28f))['value'],_0x36e388=document[_0x2df003(0x23e)](_0x2df003(0x2dd))[_0x2df003(0x305)],_0x33d492=document[_0x2df003(0x23e)]('rangeEndTime')[_0x2df003(0x305)];if(!_0x24d85f||!_0x5b4cc0||!_0x36e388||!_0x33d492)return alert(_0x2df003(0x1e0));const _0x33c79b=_0x24d85f+'T'+_0x5b4cc0,_0x133d86=_0x36e388+'T'+_0x33d492;if(_0x33c79b>=_0x133d86)return alert('–û—à–∏–±–∫–∞\x20–¥–∞—Ç');specialRanges[_0x2df003(0x27d)]({'start':_0x33c79b,'end':_0x133d86}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager['fetchFromServer'](_0x2df003(0x2c6),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x2c203c){const _0x443cb1=a2_0x203b51;specialRanges['splice'](_0x2c203c,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x443cb1(0x1b3)](),DataManager[_0x443cb1(0x2fd)](_0x443cb1(0x2c6),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x1f4b43=a2_0x203b51;document[_0x1f4b43(0x23e)](_0x1f4b43(0x21b))['value']='',document[_0x1f4b43(0x23e)]('rangeStartTime')['value']='00:00',document['getElementById'](_0x1f4b43(0x2dd))['value']='',document[_0x1f4b43(0x23e)](_0x1f4b43(0x1ba))[_0x1f4b43(0x305)]=_0x1f4b43(0x1c4);}function renderRangesList(){const _0x2462a1=a2_0x203b51,_0x35d93d=document[_0x2462a1(0x23e)](_0x2462a1(0x320));_0x35d93d[_0x2462a1(0x231)]='';if(!specialRanges[_0x2462a1(0x27a)]){_0x35d93d['innerHTML']='<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>';return;}specialRanges[_0x2462a1(0x2bd)]((_0x7db8d3,_0x150db6)=>{const _0xbad6bb=_0x2462a1,_0x594227=document[_0xbad6bb(0x1cf)]('div');_0x594227[_0xbad6bb(0x1c6)]='range-item';const _0x3c3814=_0x39e690=>{const _0x2a54cb=_0xbad6bb,_0x1865e7=new Date(_0x39e690);return _0x1865e7[_0x2a54cb(0x2f7)]()+'.'+String(_0x1865e7['getMonth']()+0x1)[_0x2a54cb(0x2cb)](0x2,'0')+'\x20'+String(_0x1865e7[_0x2a54cb(0x264)]())[_0x2a54cb(0x2cb)](0x2,'0')+':'+String(_0x1865e7['getMinutes']())['padStart'](0x2,'0');};_0x594227[_0xbad6bb(0x231)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>'+_0x3c3814(_0x7db8d3['start'])+_0xbad6bb(0x2c8)+_0x3c3814(_0x7db8d3[_0xbad6bb(0x1b9)])+_0xbad6bb(0x232)+_0x150db6+_0xbad6bb(0x299),_0x35d93d[_0xbad6bb(0x1c0)](_0x594227);});}function scrollToToday(){const _0x237a4c=a2_0x203b51,_0x2fa131=getLocalDateStr(new Date()),_0x2227ba=document['getElementById'](_0x237a4c(0x2cd)+_0x2fa131),_0x191f75=document[_0x237a4c(0x23e)](_0x237a4c(0x1bd));if(_0x2227ba&&_0x191f75){const _0x4448cb=_0x191f75[_0x237a4c(0x2a7)],_0x5b0301=_0x2227ba[_0x237a4c(0x2c9)],_0x1b7504=_0x2227ba[_0x237a4c(0x1b1)];_0x191f75[_0x237a4c(0x236)]=_0x5b0301-_0x4448cb/0x2+_0x1b7504/0x2,_0x191f75['scrollTop']=0x9*GRID_H;}}function onScroll(){const _0x2ff52b=a2_0x203b51,_0x594a6d=document['getElementById']('matrixViewport'),_0x163410=document[_0x2ff52b(0x217)](_0x2ff52b(0x24a));for(let _0x2c7025 of _0x163410)if(_0x2c7025[_0x2ff52b(0x2c9)]>=_0x594a6d[_0x2ff52b(0x236)]){const _0x117205=new Date(_0x2c7025[_0x2ff52b(0x28d)]('data-date'));document['getElementById'](_0x2ff52b(0x27f))[_0x2ff52b(0x29d)]=_0x117205[_0x2ff52b(0x2b1)]('ru',{'month':_0x2ff52b(0x284)})[_0x2ff52b(0x24f)]()+'\x20'+_0x117205[_0x2ff52b(0x2c7)]();break;}}function showToast(_0x128320,_0x55fae8=![]){const _0x3b9403=a2_0x203b51,_0x3710fa=document['getElementById'](_0x3b9403(0x2b5));_0x3710fa[_0x3b9403(0x1c6)]=_0x3b9403(0x2fe)+(_0x55fae8?_0x3b9403(0x20d):''),document['getElementById'](_0x3b9403(0x1cd))[_0x3b9403(0x29d)]=_0x55fae8?_0x3b9403(0x1b0):_0x3b9403(0x2be),document[_0x3b9403(0x23e)]('toastMessage')[_0x3b9403(0x29d)]=_0x128320,_0x3710fa[_0x3b9403(0x1f6)][_0x3b9403(0x2e6)](_0x3b9403(0x281)),setTimeout(()=>{const _0x3dbe41=_0x3b9403;_0x3710fa[_0x3dbe41(0x1f6)][_0x3dbe41(0x1d1)](_0x3dbe41(0x281));},0xbb8);}function openDayOptions(_0x2476b5,_0x528ff2){const _0x21338d=a2_0x203b51;selectedDayForOptions=_0x2476b5,document[_0x21338d(0x23e)](_0x21338d(0x245))[_0x21338d(0x29d)]=_0x528ff2,openSheet('dayOptionsSheet');}function toggleDayOff(){const _0x37d823=a2_0x203b51;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]='off',reRenderBlocks(),closeAllSheets(),DataManager[_0x37d823(0x1b3)](),DataManager[_0x37d823(0x2fd)](_0x37d823(0x2c6),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x3b5274=a2_0x203b51;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x3b5274(0x1b3)](),DataManager[_0x3b5274(0x2fd)](_0x3b5274(0x2c6),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0xd80afa){const _0x3a6f54=a2_0x203b51;document[_0x3a6f54(0x23e)](_0x3a6f54(0x1cb))['classList'][_0x3a6f54(0x2e6)]('active'),document['getElementById'](_0xd80afa)[_0x3a6f54(0x1f6)][_0x3a6f54(0x2e6)](_0x3a6f54(0x1e5));}function closeAllSheets(){const _0x37d2de=a2_0x203b51;document[_0x37d2de(0x23e)](_0x37d2de(0x1cb))[_0x37d2de(0x1f6)][_0x37d2de(0x1d1)]('active'),document['querySelectorAll'](_0x37d2de(0x302))[_0x37d2de(0x2bd)](_0x519bc7=>_0x519bc7['classList'][_0x37d2de(0x1d1)](_0x37d2de(0x1e5)));}function openPatternEditor(){const _0x4d9c78=a2_0x203b51;closeAllSheets(),document['getElementById'](_0x4d9c78(0x265))[_0x4d9c78(0x1f6)][_0x4d9c78(0x2e6)](_0x4d9c78(0x1e5)),renderPatternEditor();}function closePatternEditor(){const _0x238ea0=a2_0x203b51;document[_0x238ea0(0x23e)](_0x238ea0(0x265))[_0x238ea0(0x1f6)][_0x238ea0(0x1d1)](_0x238ea0(0x1e5));}function savePattern(){const _0x407244=a2_0x203b51;document[_0x407244(0x23e)](_0x407244(0x265))['classList'][_0x407244(0x1d1)](_0x407244(0x1e5)),reRenderBlocks(),DataManager[_0x407244(0x1b3)](),DataManager['fetchFromServer'](_0x407244(0x2c6),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x2da37d=a2_0x203b51,_0x2a76b3=document[_0x2da37d(0x23e)](_0x2da37d(0x308));_0x2a76b3[_0x2da37d(0x231)]='';const _0x3adb02=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x32d05b=document[_0x2da37d(0x1cf)](_0x2da37d(0x2a1));_0x32d05b[_0x2da37d(0x1c6)]='pe-corner',_0x2a76b3[_0x2da37d(0x1c0)](_0x32d05b),_0x3adb02[_0x2da37d(0x2bd)]((_0x225363,_0x48c37d)=>{const _0x2f0566=_0x2da37d,_0x3803ca=document[_0x2f0566(0x1cf)]('div');_0x3803ca[_0x2f0566(0x1c6)]=_0x2f0566(0x2d8),_0x3803ca['innerHTML']=_0x225363+_0x2f0566(0x1e9),_0x3803ca[_0x2f0566(0x2df)]=()=>toggleColPattern(_0x48c37d),_0x2a76b3['appendChild'](_0x3803ca);});for(let _0x207a86=0x0;_0x207a86<0x18;_0x207a86++){const _0x413335=document[_0x2da37d(0x1cf)](_0x2da37d(0x2a1));_0x413335[_0x2da37d(0x1c6)]=_0x2da37d(0x2ad),_0x413335[_0x2da37d(0x231)]=_0x2da37d(0x25a)+String(_0x207a86)[_0x2da37d(0x2cb)](0x2,'0')+':00',_0x413335[_0x2da37d(0x2df)]=()=>toggleRowPattern(_0x207a86),_0x2a76b3[_0x2da37d(0x1c0)](_0x413335);for(let _0x3a38b9=0x0;_0x3a38b9<0x7;_0x3a38b9++){const _0x81c2c1=document[_0x2da37d(0x1cf)](_0x2da37d(0x2a1)),_0x13bb93=(availabilityPattern[_0x3a38b9]||[])[_0x2da37d(0x1d3)](_0x207a86),_0x13f449=!_0x13bb93;_0x81c2c1[_0x2da37d(0x1c6)]=_0x2da37d(0x317)+(_0x13f449?_0x2da37d(0x1a7):''),_0x81c2c1[_0x2da37d(0x2df)]=()=>toggleSinglePattern(_0x3a38b9,_0x207a86),_0x2a76b3[_0x2da37d(0x1c0)](_0x81c2c1);}}}function toggleSinglePattern(_0x3ea878,_0x4fb6a5){if(!availabilityPattern[_0x3ea878])availabilityPattern[_0x3ea878]=[];const _0x59c697=availabilityPattern[_0x3ea878],_0x5a2ab3=_0x59c697['indexOf'](_0x4fb6a5);_0x5a2ab3===-0x1?_0x59c697['push'](_0x4fb6a5):_0x59c697['splice'](_0x5a2ab3,0x1),renderPatternEditor();}function toggleColPattern(_0x232847){const _0x2d84de=a2_0x203b51;if(!availabilityPattern[_0x232847])availabilityPattern[_0x232847]=[];const _0x17a2fa=availabilityPattern[_0x232847];_0x17a2fa[_0x2d84de(0x27a)]===0x0?availabilityPattern[_0x232847]=Array['from']({'length':0x18},(_0x15428b,_0x503ac4)=>_0x503ac4):availabilityPattern[_0x232847]=[],renderPatternEditor();}function toggleRowPattern(_0x5984de){const _0x59251e=a2_0x203b51;let _0x4971b7=!![];for(let _0x2ac156=0x0;_0x2ac156<0x7;_0x2ac156++){if((availabilityPattern[_0x2ac156]||[])[_0x59251e(0x1d3)](_0x5984de)){_0x4971b7=![];break;}}for(let _0x56d924=0x0;_0x56d924<0x7;_0x56d924++){if(!availabilityPattern[_0x56d924])availabilityPattern[_0x56d924]=[];const _0x4c2afd=availabilityPattern[_0x56d924][_0x59251e(0x288)](_0x5984de);if(_0x4971b7){if(_0x4c2afd===-0x1)availabilityPattern[_0x56d924][_0x59251e(0x27d)](_0x5984de);}else{if(_0x4c2afd!==-0x1)availabilityPattern[_0x56d924][_0x59251e(0x20a)](_0x4c2afd,0x1);}}renderPatternEditor();}function renderPCol(_0x574c19,_0x1a7cc0){const _0x145192=a2_0x203b51;_0x574c19['innerHTML']='';const _0x5cc775=Math[_0x145192(0x2fa)](_0x574c19['offsetLeft']);(availabilityPattern[_0x1a7cc0]||[])[_0x145192(0x2bd)](_0x32388c=>{const _0x4df7cb=_0x145192,_0x1b2e93=document[_0x4df7cb(0x1cf)]('div');_0x1b2e93[_0x4df7cb(0x1c6)]='blocked-slot\x20stripe-bg';const _0x5a760d=_0x32388c*GRID_H;_0x1b2e93[_0x4df7cb(0x1e7)]['top']=_0x5a760d+'px',_0x1b2e93[_0x4df7cb(0x1e7)][_0x4df7cb(0x1f4)]='-'+_0x5cc775+'px\x20-'+_0x5a760d+'px',_0x1b2e93['onclick']=_0x25a0bf=>{_0x25a0bf['stopPropagation'](),toggleSinglePattern(_0x1a7cc0,_0x32388c);},_0x574c19['appendChild'](_0x1b2e93);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0xa219c2=a2_0x203b51,_0xf98fca=new Date(),_0x3d5e89=document[_0xa219c2(0x23e)](_0xa219c2(0x1d2)),_0x3c167d=document[_0xa219c2(0x23e)](_0xa219c2(0x1fa)),_0xa0f1c9=(_0xf98fca['getHours']()*0x3c+_0xf98fca[_0xa219c2(0x1d9)]())/0x3c*GRID_H;_0x3d5e89[_0xa219c2(0x1e7)][_0xa219c2(0x262)]=_0xa0f1c9+'px',_0x3d5e89[_0xa219c2(0x1e7)][_0xa219c2(0x22f)]='block',_0x3c167d[_0xa219c2(0x29d)]=String(_0xf98fca[_0xa219c2(0x264)]())[_0xa219c2(0x2cb)](0x2,'0')+':'+String(_0xf98fca[_0xa219c2(0x1d9)]())[_0xa219c2(0x2cb)](0x2,'0'),_0x3c167d[_0xa219c2(0x1e7)][_0xa219c2(0x22f)]=_0xa219c2(0x31f),_0x3c167d['style'][_0xa219c2(0x262)]=_0xa0f1c9+'px';}document['addEventListener'](a2_0x203b51(0x1fe),init);function openDayOptions(_0xd0f29e){const _0x272c49=a2_0x203b51;selectedDayForOptions=_0xd0f29e;const _0x2a6a04=new Date(_0xd0f29e),_0x529b7d={'weekday':_0x272c49(0x284),'day':'numeric','month':_0x272c49(0x284),'year':'numeric'},_0x3acc5a=_0x2a6a04['toLocaleDateString'](_0x272c49(0x277),_0x529b7d);document['getElementById'](_0x272c49(0x2d3))[_0x272c49(0x29d)]=_0x3acc5a[_0x272c49(0x23f)](0x0)['toUpperCase']()+_0x3acc5a['slice'](0x1);let _0x42cb0d=_0x2a6a04[_0x272c49(0x240)]()-0x1;if(_0x42cb0d===-0x1)_0x42cb0d=0x6;const _0x22fd9a=availabilityPattern[_0x42cb0d]||[],_0x149b68=0x18-_0x22fd9a['length'],_0x1ea7c8=_0x149b68*0x3c,_0x458d27=sessions[_0x272c49(0x301)](_0x6a60d8=>_0x6a60d8['dateStr']===_0xd0f29e&&_0x6a60d8[_0x272c49(0x1cc)]!=='cancelled');let _0x56bc3a=_0x458d27[_0x272c49(0x216)](_0x371d52=>{const _0x263969=_0x272c49,[_0x46bf1b,_0x45466f]=_0x371d52[_0x263969(0x30d)][_0x263969(0x1b8)](':')[_0x263969(0x216)](Number),[_0x462d21,_0x775d5f]=_0x371d52[_0x263969(0x1b9)]['split'](':')['map'](Number);return[_0x46bf1b*0x3c+_0x45466f,_0x462d21*0x3c+_0x775d5f];});_0x56bc3a['sort']((_0xf894ec,_0x2e3949)=>_0xf894ec[0x0]-_0x2e3949[0x0]);let _0x1fa2cb=[];if(_0x56bc3a['length']>0x0){let _0x4b0e7e=_0x56bc3a[0x0];for(let _0xac5bd2=0x1;_0xac5bd2<_0x56bc3a[_0x272c49(0x27a)];_0xac5bd2++){_0x56bc3a[_0xac5bd2][0x0]<_0x4b0e7e[0x1]?_0x4b0e7e[0x1]=Math[_0x272c49(0x1ad)](_0x4b0e7e[0x1],_0x56bc3a[_0xac5bd2][0x1]):(_0x1fa2cb[_0x272c49(0x27d)](_0x4b0e7e),_0x4b0e7e=_0x56bc3a[_0xac5bd2]);}_0x1fa2cb[_0x272c49(0x27d)](_0x4b0e7e);}let _0x4c6c25=0x0;_0x1fa2cb[_0x272c49(0x2bd)](_0x5629f4=>_0x4c6c25+=_0x5629f4[0x1]-_0x5629f4[0x0]),document[_0x272c49(0x23e)](_0x272c49(0x1ff))['textContent']=formatMinsToHrs(_0x1ea7c8),document[_0x272c49(0x23e)](_0x272c49(0x2ca))[_0x272c49(0x29d)]=formatMinsToHrs(_0x4c6c25);const _0x532d74=_0x1ea7c8>0x0?Math['round'](_0x4c6c25/_0x1ea7c8*0x64):0x0,_0x500246=document[_0x272c49(0x23e)](_0x272c49(0x1db));_0x500246[_0x272c49(0x29d)]=_0x532d74+'%';const _0x2d6f18=document[_0x272c49(0x23e)]('statLoadCard');if(_0x532d74>0x64)_0x500246['style']['color']=_0x272c49(0x2c2),_0x2d6f18['style'][_0x272c49(0x2fc)]=_0x272c49(0x234);else _0x532d74>0x50?(_0x500246[_0x272c49(0x1e7)][_0x272c49(0x1ce)]='var(--acc-orange)',_0x2d6f18[_0x272c49(0x1e7)]['borderColor']='rgba(255,\x20159,\x2010,\x200.3)'):(_0x500246[_0x272c49(0x1e7)][_0x272c49(0x1ce)]=_0x272c49(0x225),_0x2d6f18[_0x272c49(0x1e7)][_0x272c49(0x2fc)]=_0x272c49(0x295));const _0x4e9587=document['getElementById'](_0x272c49(0x2b2));_0x4e9587['innerHTML']='';_0x458d27['length']===0x0?_0x4e9587[_0x272c49(0x231)]=_0x272c49(0x1af):(_0x458d27[_0x272c49(0x263)]((_0x1027e8,_0x1ca36a)=>_0x1027e8[_0x272c49(0x30d)][_0x272c49(0x209)](_0x1ca36a[_0x272c49(0x30d)])),_0x458d27[_0x272c49(0x2bd)](_0x375b2a=>{const _0x372ea0=_0x272c49,_0x528764=clients[_0x372ea0(0x1fd)](_0x65608b=>_0x65608b[_0x372ea0(0x318)]===_0x375b2a[_0x372ea0(0x219)]),_0x82e30b=_0x528764?_0x528764[_0x372ea0(0x1ce)]:'#fff',_0xc18eaf=_0x375b2a[_0x372ea0(0x1cc)]==='completed',_0x50c365=_0xc18eaf?_0x372ea0(0x1dc):'',_0x2707ef=document[_0x372ea0(0x1cf)](_0x372ea0(0x2a1));_0x2707ef[_0x372ea0(0x1c6)]=_0x372ea0(0x26a),_0x2707ef[_0x372ea0(0x1e7)][_0x372ea0(0x2db)]=_0x82e30b,_0x2707ef[_0x372ea0(0x231)]=_0x372ea0(0x2f3)+_0x375b2a[_0x372ea0(0x30d)]+_0x372ea0(0x20b)+_0x375b2a[_0x372ea0(0x1b9)]+_0x372ea0(0x23d)+_0x375b2a[_0x372ea0(0x219)]+_0x372ea0(0x1c9)+_0x50c365+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x4e9587[_0x372ea0(0x1c0)](_0x2707ef);}));const _0x3474c6=document[_0x272c49(0x23e)](_0x272c49(0x202)),_0x3e190b=dateExceptions[_0xd0f29e]===_0x272c49(0x282);_0x3e190b?(_0x3474c6[_0x272c49(0x29d)]=_0x272c49(0x26b),_0x3474c6[_0x272c49(0x1c6)]=_0x272c49(0x2e0),_0x3474c6[_0x272c49(0x1e7)][_0x272c49(0x1ce)]=_0x272c49(0x225),_0x3474c6[_0x272c49(0x1e7)][_0x272c49(0x28a)]='rgba(48,\x20209,\x2088,\x200.15)'):(_0x3474c6[_0x272c49(0x29d)]=_0x272c49(0x1c3),_0x3474c6['className']=_0x272c49(0x22e),_0x3474c6[_0x272c49(0x1e7)][_0x272c49(0x1ce)]='var(--acc-red)',_0x3474c6[_0x272c49(0x1e7)][_0x272c49(0x28a)]='rgba(255,\x2069,\x2058,\x200.15)'),openSheet(_0x272c49(0x2e2));}let currentAnPeriod=a2_0x203b51(0x31d);function openAnalytics(){const _0x1a127d=a2_0x203b51,_0x2e0aaf=document[_0x1a127d(0x315)](_0x1a127d(0x257));setAnalyticsPeriod(_0x1a127d(0x31d),_0x2e0aaf),closeAllSheets(),openSheet(_0x1a127d(0x2f2));}function setAnalyticsPeriod(_0x2fdbc6,_0x1edbe1){const _0x3e9a4c=a2_0x203b51;currentAnPeriod=_0x2fdbc6,document[_0x3e9a4c(0x217)]('.period-switch\x20.p-btn')[_0x3e9a4c(0x2bd)](_0x42b2e2=>_0x42b2e2[_0x3e9a4c(0x1f6)][_0x3e9a4c(0x1d1)](_0x3e9a4c(0x1a7)));if(_0x1edbe1)_0x1edbe1[_0x3e9a4c(0x1f6)]['add']('active');const _0x438d1e=document[_0x3e9a4c(0x23e)](_0x3e9a4c(0x2ac));_0x438d1e['style'][_0x3e9a4c(0x22f)]=_0x2fdbc6===_0x3e9a4c(0x2e4)?'flex':_0x3e9a4c(0x20c);const _0x3e8d1e=new Date();let _0x2006bd=new Date(),_0x1a1d25=new Date();if(_0x2fdbc6===_0x3e9a4c(0x31d))_0x2006bd=getStartOfWeek(_0x3e8d1e),_0x1a1d25=new Date(_0x2006bd),_0x1a1d25[_0x3e9a4c(0x252)](_0x1a1d25[_0x3e9a4c(0x2f7)]()+0x6);else{if(_0x2fdbc6===_0x3e9a4c(0x1ee))_0x2006bd=new Date(_0x3e8d1e[_0x3e9a4c(0x2c7)](),_0x3e8d1e[_0x3e9a4c(0x246)](),0x1),_0x1a1d25=new Date(_0x3e8d1e[_0x3e9a4c(0x2c7)](),_0x3e8d1e[_0x3e9a4c(0x246)]()+0x1,0x0);else{!document[_0x3e9a4c(0x23e)](_0x3e9a4c(0x2ec))[_0x3e9a4c(0x305)]&&(document[_0x3e9a4c(0x23e)](_0x3e9a4c(0x2ec))[_0x3e9a4c(0x305)]=getLocalDateStr(_0x3e8d1e),document[_0x3e9a4c(0x23e)]('anEnd')['value']=getLocalDateStr(_0x3e8d1e));refreshAnalytics();return;}}document['getElementById'](_0x3e9a4c(0x2ec))[_0x3e9a4c(0x305)]=getLocalDateStr(_0x2006bd),document[_0x3e9a4c(0x23e)]('anEnd')['value']=getLocalDateStr(_0x1a1d25),refreshAnalytics();}function refreshAnalytics(){const _0x185f01=a2_0x203b51,_0xe247ec=document[_0x185f01(0x23e)](_0x185f01(0x2ec))[_0x185f01(0x305)],_0x38bfd7=document['getElementById'](_0x185f01(0x294))['value'];if(!_0xe247ec||!_0x38bfd7)return;const _0x638be2=sessions[_0x185f01(0x301)](_0x5af1f8=>_0x5af1f8['dateStr']>=_0xe247ec&&_0x5af1f8[_0x185f01(0x2ef)]<=_0x38bfd7&&_0x5af1f8['status']!==_0x185f01(0x2b7)),_0x48c6a5=_0x638be2[_0x185f01(0x27a)],_0xc66bd4=_0x638be2[_0x185f01(0x301)](_0x3f4ad4=>_0x3f4ad4['status']===_0x185f01(0x1be))['length'],_0x2109e3=_0x48c6a5>0x0?Math['round'](_0xc66bd4/_0x48c6a5*0x64):0x0;document[_0x185f01(0x23e)]('anPercent')[_0x185f01(0x29d)]=_0x2109e3+'%',document[_0x185f01(0x23e)]('anTotalStats')['textContent']=_0xc66bd4+_0x185f01(0x2d6)+_0x48c6a5+_0x185f01(0x21d);const _0x244479=document[_0x185f01(0x23e)](_0x185f01(0x2f1)),_0x32fb1a=0x2*Math['PI']*0x23,_0xad9a95=_0x32fb1a-_0x2109e3/0x64*_0x32fb1a;_0x244479[_0x185f01(0x1e7)][_0x185f01(0x2ff)]=_0xad9a95;const _0x3f3bcd={};_0x638be2['forEach'](_0x4d7d47=>{const _0x5bd9fb=_0x185f01;if(!_0x3f3bcd[_0x4d7d47['client']]){const _0x408533=clients[_0x5bd9fb(0x1fd)](_0xb549=>_0xb549[_0x5bd9fb(0x318)]===_0x4d7d47[_0x5bd9fb(0x219)]);_0x3f3bcd[_0x4d7d47[_0x5bd9fb(0x219)]]={'total':0x0,'done':0x0,'color':_0x408533?_0x408533[_0x5bd9fb(0x1ce)]:'#fff'};}_0x3f3bcd[_0x4d7d47[_0x5bd9fb(0x219)]][_0x5bd9fb(0x243)]++;if(_0x4d7d47['status']===_0x5bd9fb(0x1be))_0x3f3bcd[_0x4d7d47[_0x5bd9fb(0x219)]][_0x5bd9fb(0x229)]++;});const _0xec446a=document[_0x185f01(0x23e)](_0x185f01(0x204));_0xec446a[_0x185f01(0x231)]='';const _0x23b123=Object['entries'](_0x3f3bcd)[_0x185f01(0x263)]((_0x21a445,_0x4132c6)=>_0x4132c6[0x1][_0x185f01(0x243)]-_0x21a445[0x1]['total']);if(_0x23b123[_0x185f01(0x27a)]===0x0){_0xec446a[_0x185f01(0x231)]=_0x185f01(0x1a9);return;}_0x23b123[_0x185f01(0x2bd)](([_0x250552,_0x52ad0f])=>{const _0x4cf033=_0x185f01,_0xe7dd5d=Math[_0x4cf033(0x2fa)](_0x52ad0f[_0x4cf033(0x229)]/_0x52ad0f[_0x4cf033(0x243)]*0x64),_0x48f535=document[_0x4cf033(0x1cf)]('div');_0x48f535[_0x4cf033(0x1c6)]='client-stat-card',_0x48f535[_0x4cf033(0x1e7)][_0x4cf033(0x2db)]=_0x52ad0f['color'],_0x48f535[_0x4cf033(0x231)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>'+_0x250552+_0x4cf033(0x1bb)+_0x52ad0f['done']+_0x4cf033(0x1de)+_0x52ad0f['total']+_0x4cf033(0x2e1)+_0xe7dd5d+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0xec446a[_0x4cf033(0x1c0)](_0x48f535);});}function formatMinsToHrs(_0x4879f4){if(_0x4879f4===0x0)return'0';const _0x28ab6c=Math['floor'](_0x4879f4/0x3c),_0x431e9f=_0x4879f4%0x3c;if(_0x431e9f===0x0)return _0x28ab6c+'—á';return _0x28ab6c+'—á\x20'+_0x431e9f+'–º';}