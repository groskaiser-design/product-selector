const a2_0x3728f8=a2_0x3bee;(function(_0x423528,_0x2e34cd){const _0x828ab7=a2_0x3bee,_0x4714cb=_0x423528();while(!![]){try{const _0x1bf27a=parseInt(_0x828ab7(0x154))/0x1*(parseInt(_0x828ab7(0x153))/0x2)+-parseInt(_0x828ab7(0xcc))/0x3*(-parseInt(_0x828ab7(0x227))/0x4)+parseInt(_0x828ab7(0x1b0))/0x5*(parseInt(_0x828ab7(0x12b))/0x6)+-parseInt(_0x828ab7(0xd5))/0x7+-parseInt(_0x828ab7(0x1a9))/0x8+parseInt(_0x828ab7(0xce))/0x9+-parseInt(_0x828ab7(0x19f))/0xa;if(_0x1bf27a===_0x2e34cd)break;else _0x4714cb['push'](_0x4714cb['shift']());}catch(_0x46ed57){_0x4714cb['push'](_0x4714cb['shift']());}}}(a2_0x2403,0xccbc3),function initTMA(){const _0x565a34=a2_0x3bee;try{const _0x1350d8=window[_0x565a34(0xf8)]?.['WebApp'];if(!_0x1350d8)return;_0x1350d8['ready'](),_0x1350d8['expand']();try{_0x1350d8[_0x565a34(0x1aa)]('#050505'),_0x1350d8[_0x565a34(0x22e)]&&_0x1350d8[_0x565a34(0x22e)](_0x565a34(0xec));}catch(_0x32fe4f){console['log']('Error\x20setting\x20color:',_0x32fe4f);}try{_0x1350d8[_0x565a34(0x191)]&&(_0x1350d8[_0x565a34(0x191)][_0x565a34(0x243)](),_0x1350d8['BackButton'][_0x565a34(0x247)](),_0x1350d8[_0x565a34(0x191)][_0x565a34(0x124)](function(){const _0x10f59f=_0x565a34;window[_0x10f59f(0x13a)][_0x10f59f(0x225)]=_0x10f59f(0x11a);}));}catch(_0x10e619){console[_0x565a34(0x1d8)]('Error\x20setting\x20back\x20button:',_0x10e619);}try{if(_0x1350d8[_0x565a34(0x1fa)])_0x1350d8[_0x565a34(0x1fa)]();}catch(_0x35fe6d){}}catch(_0x235af9){console[_0x565a34(0xf5)](_0x565a34(0x15a),_0x235af9);}}());function isAdmin(){const _0x5b1b72=a2_0x3bee;try{const _0x2bbd5a=Number(window[_0x5b1b72(0xf8)]?.[_0x5b1b72(0xee)]?.['initDataUnsafe']?.[_0x5b1b72(0x201)]?.['id']);return _0x2bbd5a===0xbaf7174;}catch(_0x194d8f){return![];}}const APP_VERSION=a2_0x3728f8(0xf6),API_URL=a2_0x3728f8(0x17d),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x3728f8(0x241),KEY_SESSIONS=a2_0x3728f8(0x110),KEY_SETTINGS=a2_0x3728f8(0x19c);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x4374f5=a2_0x3728f8;return window[_0x4374f5(0xf8)]?.[_0x4374f5(0xee)]?.[_0x4374f5(0x175)]?.[_0x4374f5(0x201)]?.['id']||_0x4374f5(0x192);},'saveLocally'(){const _0x179d19=a2_0x3728f8;try{localStorage[_0x179d19(0xdc)](KEY_CLIENTS,JSON[_0x179d19(0x1c8)](clients)),localStorage[_0x179d19(0xdc)](KEY_SESSIONS,JSON['stringify'](sessions)),localStorage['setItem'](KEY_SETTINGS,JSON[_0x179d19(0x1c8)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x130c03){console[_0x179d19(0xf5)](_0x179d19(0x108),_0x130c03);}},'loadLocal'(){const _0x18459c=a2_0x3728f8;try{const _0x3db3bb=localStorage[_0x18459c(0xfd)](KEY_CLIENTS);if(_0x3db3bb)clients=JSON[_0x18459c(0x20c)](_0x3db3bb);const _0x1e8a71=localStorage[_0x18459c(0xfd)](KEY_SESSIONS);if(_0x1e8a71)sessions=JSON[_0x18459c(0x20c)](_0x1e8a71);const _0x5b4336=localStorage[_0x18459c(0xfd)](KEY_SETTINGS);if(_0x5b4336){const _0x3838df=JSON[_0x18459c(0x20c)](_0x5b4336);if(_0x3838df['pattern'])availabilityPattern=_0x3838df['pattern'];if(_0x3838df[_0x18459c(0x16a)])dateExceptions=_0x3838df[_0x18459c(0x16a)];if(_0x3838df[_0x18459c(0x19e)])specialRanges=_0x3838df[_0x18459c(0x19e)];}else{for(let _0x41d236=0x0;_0x41d236<0x7;_0x41d236++)availabilityPattern[_0x41d236]=Array['from']({'length':0xc},(_0x18226c,_0x3226a6)=>_0x3226a6+0x9);}}catch(_0x169e71){console[_0x18459c(0xf5)]('Local\x20Load\x20Error',_0x169e71);}},async 'fetchFromServer'(_0x59f17c,_0x3b6dc3={}){const _0x4bcc9a=a2_0x3728f8,_0x33dfc9=window[_0x4bcc9a(0xf8)]?.[_0x4bcc9a(0xee)],_0x548175={'action':_0x59f17c,'init_data':_0x33dfc9?.[_0x4bcc9a(0x152)]||'',..._0x3b6dc3};try{const _0x3a76fa=await fetch(API_URL,{'method':_0x4bcc9a(0x128),'headers':{'Content-Type':_0x4bcc9a(0x17f)},'body':JSON[_0x4bcc9a(0x1c8)](_0x548175)}),_0x2ac33f=await _0x3a76fa['json']();if(!_0x2ac33f['ok'])throw new Error(_0x2ac33f['error']||_0x4bcc9a(0x1f7));return _0x2ac33f[_0x4bcc9a(0x1cb)];}catch(_0x250f21){console[_0x4bcc9a(0xf5)](_0x4bcc9a(0xe4)+_0x59f17c+']\x20Failed:',_0x250f21);throw _0x250f21;}},async 'syncLoad'(){const _0xf9f715=a2_0x3728f8,_0x34da2b=new Date(),_0x514626=_0x34da2b[_0xf9f715(0x221)]()+'-'+String(_0x34da2b[_0xf9f715(0x105)]()+0x1)['padStart'](0x2,'0'),_0x941b29=new Date(_0x34da2b);_0x941b29[_0xf9f715(0x1c3)](_0x34da2b['getMonth']()+0x1);const _0x19e00b=_0x941b29[_0xf9f715(0x221)]()+'-'+String(_0x941b29[_0xf9f715(0x105)]()+0x1)['padStart'](0x2,'0'),_0x1c272c=Date[_0xf9f715(0x204)]();console[_0xf9f715(0x1d8)](_0xf9f715(0x18a)+_0x514626+',\x20'+_0x19e00b+_0xf9f715(0x157));try{const [_0x5c400f,_0x3ce7ad]=await Promise['all']([this[_0xf9f715(0x215)](_0xf9f715(0x123),{'month_str':_0x514626}),this['fetchFromServer'](_0xf9f715(0x123),{'month_str':_0x19e00b})]);if(lastUserActionTime>_0x1c272c)return console['warn'](_0xf9f715(0x194)),![];return this['mergeServerData'](_0x5c400f,_0x514626),this[_0xf9f715(0x239)](_0x3ce7ad,_0x19e00b),this['saveLocally'](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x28fb4c){console[_0xf9f715(0xf5)](_0x28fb4c);throw _0x28fb4c;}},'mergeServerData'(_0x3d731e,_0x5ccbc0){const _0x193e9c=a2_0x3728f8;if(!_0x3d731e)return;_0x3d731e[_0x193e9c(0xe0)]&&Array[_0x193e9c(0x1c0)](_0x3d731e[_0x193e9c(0xe0)])&&(clients=_0x3d731e[_0x193e9c(0xe0)]);if(_0x3d731e[_0x193e9c(0x1da)]){if(_0x3d731e['settings'][_0x193e9c(0x126)])availabilityPattern=_0x3d731e[_0x193e9c(0x1da)][_0x193e9c(0x126)];if(_0x3d731e[_0x193e9c(0x1da)]['exceptions'])dateExceptions=_0x3d731e[_0x193e9c(0x1da)][_0x193e9c(0x16a)];if(_0x3d731e['settings'][_0x193e9c(0x19e)])specialRanges=_0x3d731e[_0x193e9c(0x1da)][_0x193e9c(0x19e)];if(_0x3d731e[_0x193e9c(0x1da)][_0x193e9c(0x1ae)]){localStorage[_0x193e9c(0xdc)](_0x193e9c(0x18f),_0x3d731e['settings']['cancel_window']);const _0x104143=document[_0x193e9c(0x17e)](_0x193e9c(0x1f6));if(_0x104143)_0x104143[_0x193e9c(0x189)]=_0x3d731e[_0x193e9c(0x1da)]['cancel_window'];}}_0x3d731e[_0x193e9c(0x1af)]&&(sessions=sessions[_0x193e9c(0x1dd)](_0x1ca1d9=>!_0x1ca1d9['dateStr'][_0x193e9c(0x23e)](_0x5ccbc0)),Object[_0x193e9c(0x1d4)](_0x3d731e[_0x193e9c(0x1af)])[_0x193e9c(0x174)](_0x5e4645=>{const _0x3447db=_0x193e9c,_0x10c6d4=_0x3d731e[_0x3447db(0x1af)][_0x5e4645];_0x10c6d4[_0x3447db(0x174)](_0x132d5d=>{const _0x12dced=_0x3447db,_0x23ea4d=clients[_0x12dced(0x11d)](_0x5f257c=>String(_0x5f257c['id'])===String(_0x132d5d['c']));sessions[_0x12dced(0x244)]({'id':_0x132d5d['i'],'clientId':_0x132d5d['c'],'client':_0x23ea4d?_0x23ea4d[_0x12dced(0x10c)]:'Unknown','dateStr':_0x5ccbc0+'-'+_0x5e4645[_0x12dced(0x125)](0x2,'0'),'start':_0x132d5d['s'],'end':_0x132d5d['e'],'status':_0x132d5d['st']||_0x12dced(0x169),'note':_0x132d5d['n']||'','seriesId':_0x132d5d[_0x12dced(0x12d)]||null});});}));},async 'syncBatch'(_0x3a90f2){const _0x2345bc=a2_0x3728f8,_0x12386e=[...new Set(_0x3a90f2)],_0x2a2db9=_0x12386e['map'](_0xf3567=>{const _0x305d32=a2_0x3bee,_0xb706b=sessions[_0x305d32(0x1dd)](_0x99c7c6=>_0x99c7c6[_0x305d32(0x22c)]===_0xf3567&&_0x99c7c6['status']!=='deleted'),_0x55e8cd=_0xb706b[_0x305d32(0x131)](_0x19af91=>({'i':_0x19af91['id'],'c':_0x19af91['clientId'],'s':_0x19af91[_0x305d32(0x137)],'e':_0x19af91['end'],'st':_0x19af91[_0x305d32(0x113)],'n':_0x19af91[_0x305d32(0xe7)],'sid':_0x19af91[_0x305d32(0x1b8)]}));return{'date':_0xf3567,'day_data':_0x55e8cd};});if(_0x2a2db9[_0x2345bc(0xd2)]===0x0)return;console[_0x2345bc(0x1d8)](_0x2345bc(0x11c)+_0x2a2db9[_0x2345bc(0xd2)]+_0x2345bc(0x235)),await this['fetchFromServer'](_0x2345bc(0x248),{'changes':_0x2a2db9});}};async function init(){const _0x25ced2=a2_0x3728f8;DataManager[_0x25ced2(0x158)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x25ced2(0x17e)]('matrixViewport')[_0x25ced2(0xd3)](_0x25ced2(0x117),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x25ced2(0x1a1)]()[_0x25ced2(0x1b5)](()=>{showToast('–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ',!![]);})[_0x25ced2(0x1ce)](_0x3be407=>{const _0x34d832=_0x25ced2;showToast(_0x34d832(0x230),![]);});}function generateId(){const _0x432d77=a2_0x3728f8;return Date[_0x432d77(0x204)]()[_0x432d77(0x115)](0x24)+Math[_0x432d77(0xe1)]()[_0x432d77(0x115)](0x24)[_0x432d77(0x229)](0x2,0x5);}function toggleSeriesInput(){const _0x2f129c=a2_0x3728f8,_0x4c41d5=document[_0x2f129c(0x17e)](_0x2f129c(0x207))[_0x2f129c(0x160)],_0x1c333b=document[_0x2f129c(0x17e)](_0x2f129c(0x1ec));_0x1c333b['style']['display']=_0x4c41d5?_0x2f129c(0x1f9):_0x2f129c(0xd9);const _0x626811=document[_0x2f129c(0x17e)](_0x2f129c(0xd7));_0x626811[_0x2f129c(0x23f)][_0x2f129c(0x224)]=_0x4c41d5?'10px\x2010px\x200\x200':_0x2f129c(0x1cc);}function openAddSession(_0x1c2d06){const _0x15854e=a2_0x3728f8;editingId=null,populateClientSelect(),document[_0x15854e(0x17e)]('sheetTitle')[_0x15854e(0x1eb)]=_0x15854e(0x1b1),document['getElementById']('btnDelete')[_0x15854e(0x23f)][_0x15854e(0x109)]=_0x15854e(0xd9),document[_0x15854e(0x17e)]('btnStatusToggle')['style'][_0x15854e(0x109)]=_0x15854e(0xd9);const _0x416ae3=document[_0x15854e(0x17e)](_0x15854e(0xd7)),_0x5ddb46=document['getElementById'](_0x15854e(0x1ec));_0x416ae3[_0x15854e(0x23f)]['display']=_0x15854e(0x1fb),_0x416ae3[_0x15854e(0x23f)][_0x15854e(0x224)]=_0x15854e(0x1cc),document['getElementById']('inpRecurring')[_0x15854e(0x160)]=![],document[_0x15854e(0x17e)](_0x15854e(0xde))[_0x15854e(0x189)]=0x4,_0x5ddb46[_0x15854e(0x23f)][_0x15854e(0x109)]=_0x15854e(0xd9),document[_0x15854e(0x17e)]('inpDate')[_0x15854e(0x189)]=getLocalDateStr(_0x1c2d06),updateDateDisplay();const _0x3a9917=_0x1c2d06[_0x15854e(0x1e0)]();document[_0x15854e(0x17e)](_0x15854e(0x17b))[_0x15854e(0x189)]=String(_0x3a9917)[_0x15854e(0x125)](0x2,'0')+':00',document[_0x15854e(0x17e)](_0x15854e(0xc9))[_0x15854e(0x189)]=String(_0x3a9917+0x1)['padStart'](0x2,'0')+_0x15854e(0x145),openSheet('sessionSheet');}function openEdit(_0x388ceb){const _0x43480e=a2_0x3728f8;editingId=_0x388ceb['id'],populateClientSelect(),document[_0x43480e(0x17e)](_0x43480e(0x181))[_0x43480e(0x1eb)]=_0x43480e(0x234),document[_0x43480e(0x17e)](_0x43480e(0x220))[_0x43480e(0x23f)]['display']=_0x43480e(0x1f9);const _0x5ae239=document['getElementById'](_0x43480e(0x10e));_0x5ae239[_0x43480e(0x23f)]['display']=_0x43480e(0x1fb);_0x388ceb[_0x43480e(0x113)]===_0x43480e(0x1d3)?(_0x5ae239[_0x43480e(0x1cf)]=_0x43480e(0x18b),_0x5ae239[_0x43480e(0x1c6)]=_0x43480e(0xe9)):(_0x5ae239[_0x43480e(0x1cf)]=_0x43480e(0x1b3),_0x5ae239[_0x43480e(0x1c6)]='<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É');const _0x32c53d=!!_0x388ceb['seriesId'];document[_0x43480e(0x17e)](_0x43480e(0xd7))['style'][_0x43480e(0x109)]=_0x43480e(0xd9),document[_0x43480e(0x17e)](_0x43480e(0x1ec))[_0x43480e(0x23f)][_0x43480e(0x109)]='none',_0x32c53d?(document[_0x43480e(0x17e)](_0x43480e(0x1b4))[_0x43480e(0x23f)][_0x43480e(0x109)]='flex',document[_0x43480e(0x17e)](_0x43480e(0x1b4))[_0x43480e(0x13c)](_0x43480e(0x1a5))['textContent']=_0x43480e(0xda)):document[_0x43480e(0x17e)](_0x43480e(0x1b4))[_0x43480e(0x23f)]['display']='none',document['getElementById'](_0x43480e(0x222))[_0x43480e(0x189)]=_0x388ceb[_0x43480e(0x1bc)],document[_0x43480e(0x17e)](_0x43480e(0x111))['value']=_0x388ceb[_0x43480e(0x22c)],document[_0x43480e(0x17e)](_0x43480e(0x17b))[_0x43480e(0x189)]=_0x388ceb['start'],document[_0x43480e(0x17e)](_0x43480e(0xc9))['value']=_0x388ceb['end'],document['getElementById'](_0x43480e(0x121))[_0x43480e(0x189)]=_0x388ceb[_0x43480e(0xe7)]||'',updateDateDisplay(),openSheet(_0x43480e(0x1a2));}async function trySaveSession(){const _0x2e8bbc=a2_0x3728f8,_0x2ed58b=document['getElementById']('inpClient')[_0x2e8bbc(0x189)],_0x11d9f6=document[_0x2e8bbc(0x17e)](_0x2e8bbc(0x111))[_0x2e8bbc(0x189)],_0x52e5ac=document[_0x2e8bbc(0x17e)]('inpStart')[_0x2e8bbc(0x189)],_0x2bfe48=document[_0x2e8bbc(0x17e)](_0x2e8bbc(0xc9))['value'],_0x1ec9ad=document['getElementById'](_0x2e8bbc(0x121))[_0x2e8bbc(0x189)],_0x398701=document[_0x2e8bbc(0x17e)](_0x2e8bbc(0x207))[_0x2e8bbc(0x160)];let _0x4a9aad=0x4;if(_0x398701){const _0x113d5d=parseInt(document[_0x2e8bbc(0x17e)](_0x2e8bbc(0xde))['value']);if(!_0x113d5d||_0x113d5d<0x2){showToast(_0x2e8bbc(0x1ad),![]);return;}if(_0x113d5d>0x64){showToast(_0x2e8bbc(0x12e),![]);return;}_0x4a9aad=_0x113d5d;}const _0x2a4ae6=clients[_0x2e8bbc(0x11d)](_0x44078d=>_0x44078d[_0x2e8bbc(0x10c)]===_0x2ed58b);if(!_0x2a4ae6){showToast('–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞',![]);return;}const _0xef2967=validateAppointment(_0x11d9f6,_0x52e5ac,_0x2bfe48,editingId,_0x2a4ae6['id']);if(!_0xef2967[_0x2e8bbc(0x118)]){showToast(_0xef2967[_0x2e8bbc(0x1ab)],![]);return;}_0xef2967[_0x2e8bbc(0x1ac)]&&showToast(_0xef2967[_0x2e8bbc(0x1ac)],![]);const _0xe96ace={'client':_0x2ed58b,'clientId':_0x2a4ae6['id'],'start':_0x52e5ac,'end':_0x2bfe48,'note':_0x1ec9ad,'status':_0x2e8bbc(0x169)},_0x130428=editingId?sessions[_0x2e8bbc(0x11d)](_0xa1acba=>_0xa1acba['id']===editingId):null;if(_0x130428&&_0x130428[_0x2e8bbc(0x1b8)]){tempSessionData={..._0xe96ace,'dateStr':_0x11d9f6,'id':editingId,'seriesId':_0x130428[_0x2e8bbc(0x1b8)]},openActionSheet(_0x2e8bbc(0xcd));return;}let _0x14a449=null;if(!editingId)_0x14a449=_0x2e8bbc(0x22d);else{if(_0x130428){if(String(_0x130428[_0x2e8bbc(0x147)])!==String(_0x2a4ae6['id']))console[_0x2e8bbc(0x1d8)](_0x2e8bbc(0x141)),NotificationManager[_0x2e8bbc(0x22b)](_0x2e8bbc(0x203),_0x130428),_0x14a449=_0x2e8bbc(0x22d);else(_0x130428[_0x2e8bbc(0x137)]!==_0x52e5ac||_0x130428[_0x2e8bbc(0x16e)]!==_0x2bfe48||_0x130428[_0x2e8bbc(0x22c)]!==_0x11d9f6)&&(_0x14a449=_0x2e8bbc(0x190));}}if(!editingId&&_0x398701){createBatchSeries(_0xe96ace,_0x11d9f6,_0x4a9aad),NotificationManager[_0x2e8bbc(0x22b)](_0x2e8bbc(0x22d),{..._0xe96ace,'dateStr':_0x11d9f6});return;}lastUserActionTime=Date['now']();const _0x33e6da={..._0xe96ace,'dateStr':_0x11d9f6,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x33e6da),_0x14a449&&NotificationManager[_0x2e8bbc(0x22b)](_0x14a449,_0x33e6da);}function toggleSessionStatus(){const _0x3adf76=a2_0x3728f8;lastUserActionTime=Date[_0x3adf76(0x204)]();const _0x52092d=sessions[_0x3adf76(0x11d)](_0x4e002a=>_0x4e002a['id']===editingId);if(!_0x52092d)return;const _0x488846=_0x52092d[_0x3adf76(0x113)]===_0x3adf76(0x1d3)?'planned':_0x3adf76(0x1d3);_0x52092d[_0x3adf76(0x113)]=_0x488846,saveSingleSession(_0x52092d),_0x488846===_0x3adf76(0x1d3)&&NotificationManager['send']('complete',_0x52092d),showToast(_0x488846==='completed'?_0x3adf76(0x193):'–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω',!![]);}function validateAppointment(_0x5ca163,_0x4a25f5,_0x5c0b6d,_0x1720e2,_0x44b0e5){const _0x91bd2c=a2_0x3728f8,[_0x5f2f91,_0x2dfdc2]=_0x4a25f5[_0x91bd2c(0x1c1)](':')[_0x91bd2c(0x131)](Number),[_0x5a56ef,_0x2f707b]=_0x5c0b6d[_0x91bd2c(0x1c1)](':')['map'](Number),_0x24b4cd=_0x5f2f91*0x3c+_0x2dfdc2,_0x29606f=_0x5a56ef*0x3c+_0x2f707b,_0x39d744=String(_0x44b0e5);let _0x5a3c4a=![],_0x1026ef='';for(let _0x1532ca of sessions){if(_0x1532ca['dateStr']!==_0x5ca163)continue;if(_0x1532ca[_0x91bd2c(0x113)]==='cancelled')continue;if(_0x1720e2&&String(_0x1532ca['id'])===String(_0x1720e2))continue;const [_0x57a797,_0x419268]=_0x1532ca[_0x91bd2c(0x137)][_0x91bd2c(0x1c1)](':')[_0x91bd2c(0x131)](Number),[_0xb5f0dd,_0x2d420c]=_0x1532ca[_0x91bd2c(0x16e)][_0x91bd2c(0x1c1)](':')[_0x91bd2c(0x131)](Number),_0x5519b8=_0x57a797*0x3c+_0x419268,_0xb53d4f=_0xb5f0dd*0x3c+_0x2d420c;if(Math[_0x91bd2c(0xf3)](_0x24b4cd,_0x5519b8)<Math[_0x91bd2c(0x205)](_0x29606f,_0xb53d4f)){if(_0x1532ca['clientId']&&String(_0x1532ca[_0x91bd2c(0x147)])===_0x39d744)return{'valid':![],'msg':_0x91bd2c(0x14e)+_0x1532ca[_0x91bd2c(0x1bc)]+_0x91bd2c(0xc8)};_0x5a3c4a=!![],_0x1026ef=_0x1532ca['client'];}}if(_0x5a3c4a)return{'valid':!![],'warning':_0x91bd2c(0x112)+_0x1026ef};return{'valid':!![]};}function saveSingleSession(_0x15f731){const _0x2a80a4=a2_0x3728f8;if(editingId){const _0x15a652=sessions[_0x2a80a4(0x22f)](_0xafec32=>_0xafec32['id']===editingId);if(_0x15a652!==-0x1)sessions[_0x15a652]=_0x15f731;}else sessions[_0x2a80a4(0x244)](_0x15f731);afterSaveAction([_0x15f731[_0x2a80a4(0x22c)]]);}function createBatchSeries(_0x27520e,_0xbdad02,_0x5cbad7){const _0x3d5a13=a2_0x3728f8,_0x3a08ec=generateId(),_0x4543a1=[],_0x1dcc2d=[];let _0x519558=0x0,_0x19a051=new Date(_0xbdad02);for(let _0x18e861=0x0;_0x18e861<_0x5cbad7;_0x18e861++){const _0x29e9ff=getLocalDateStr(_0x19a051),_0x5a35d9=validateAppointment(_0x29e9ff,_0x27520e[_0x3d5a13(0x137)],_0x27520e[_0x3d5a13(0x16e)],null,_0x27520e[_0x3d5a13(0x147)]);if(!_0x5a35d9[_0x3d5a13(0x118)])console[_0x3d5a13(0x1d8)](_0x3d5a13(0x1b2)+_0x29e9ff+_0x3d5a13(0x1dc)),_0x519558++;else{const _0x2c0ede={..._0x27520e,'id':generateId(),'dateStr':_0x29e9ff,'seriesId':_0x3a08ec};_0x1dcc2d['push'](_0x2c0ede),_0x4543a1[_0x3d5a13(0x244)](_0x29e9ff);}_0x19a051[_0x3d5a13(0x166)](_0x19a051[_0x3d5a13(0x143)]()+0x7);}if(_0x1dcc2d[_0x3d5a13(0xd2)]===0x0){showToast(_0x3d5a13(0x119),![]);return;}sessions['push'](..._0x1dcc2d),lastUserActionTime=Date['now']();let _0x284fab=_0x3d5a13(0x1fd)+_0x1dcc2d[_0x3d5a13(0xd2)];_0x519558>0x0&&(_0x284fab+=_0x3d5a13(0x146)+_0x519558+')'),showToast(_0x284fab,!![]),afterSaveAction(_0x4543a1);}function updateSeriesBatch(_0x5b3db2,_0x347e49){const _0x4a2cc5=a2_0x3728f8,_0x47ea5f=[],_0x45898b=_0x347e49[_0x4a2cc5(0x1b8)];if(_0x5b3db2==='single'){const _0x318a48={..._0x347e49,'seriesId':null},_0x273a22=sessions[_0x4a2cc5(0x22f)](_0x4b5c05=>_0x4b5c05['id']===_0x347e49['id']);if(_0x273a22!==-0x1)sessions[_0x273a22]=_0x318a48;_0x47ea5f[_0x4a2cc5(0x244)](_0x318a48[_0x4a2cc5(0x22c)]);}else{if(_0x5b3db2===_0x4a2cc5(0x1ff)){const _0x39879a=_0x347e49[_0x4a2cc5(0x22c)];sessions[_0x4a2cc5(0x174)]((_0x22622b,_0x59c246)=>{const _0x1da734=_0x4a2cc5;_0x22622b[_0x1da734(0x1b8)]===_0x45898b&&_0x22622b[_0x1da734(0x22c)]>=_0x39879a&&(sessions[_0x59c246]={...sessions[_0x59c246],'start':_0x347e49[_0x1da734(0x137)],'end':_0x347e49[_0x1da734(0x16e)],'note':_0x347e49[_0x1da734(0xe7)],'client':_0x347e49[_0x1da734(0x1bc)],'clientId':_0x347e49[_0x1da734(0x147)]},_0x47ea5f[_0x1da734(0x244)](_0x22622b['dateStr']));});}}afterSaveAction(_0x47ea5f);}function tryDeleteSession(){const _0x34bd79=a2_0x3728f8,_0x22574e=sessions[_0x34bd79(0x11d)](_0x5d61dd=>_0x5d61dd['id']===editingId);if(!_0x22574e)return;_0x22574e[_0x34bd79(0x1b8)]?openActionSheet(_0x34bd79(0x161)):commitDelete(_0x34bd79(0x1ed),_0x22574e);}function commitDelete(_0x4be595,_0x10223a){const _0x28feec=a2_0x3728f8;lastUserActionTime=Date[_0x28feec(0x204)](),NotificationManager[_0x28feec(0x22b)](_0x28feec(0x203),_0x10223a);const _0x1b0b76=[];if(_0x4be595==='single')sessions=sessions['filter'](_0xa9b096=>_0xa9b096['id']!==_0x10223a['id']),_0x1b0b76[_0x28feec(0x244)](_0x10223a[_0x28feec(0x22c)]);else{if(_0x4be595===_0x28feec(0x1ff)){const _0xd3aae6=_0x10223a[_0x28feec(0x22c)],_0x284ced=_0x10223a['seriesId'];sessions[_0x28feec(0x174)](_0x4d66eb=>{const _0x3bc792=_0x28feec;_0x4d66eb['seriesId']===_0x284ced&&_0x4d66eb[_0x3bc792(0x22c)]>=_0xd3aae6&&_0x1b0b76[_0x3bc792(0x244)](_0x4d66eb[_0x3bc792(0x22c)]);}),sessions=sessions['filter'](_0x8d8da0=>!(_0x8d8da0[_0x28feec(0x1b8)]===_0x284ced&&_0x8d8da0[_0x28feec(0x22c)]>=_0xd3aae6));}}afterSaveAction(_0x1b0b76);}function afterSaveAction(_0x125ce1){const _0x2d215d=a2_0x3728f8;DataManager['saveLocally'](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x2d215d(0x196)](_0x125ce1)['then'](()=>console['log'](_0x2d215d(0xd4)))['catch'](_0x1b73ae=>showToast(_0x2d215d(0x21a),![]));}const NotificationManager={'formatDate'(_0xa9e1aa){const _0x5557ac=a2_0x3728f8,_0x1babd8=new Date(_0xa9e1aa),_0x19df18={'weekday':_0x5557ac(0x21b),'day':_0x5557ac(0x162),'month':_0x5557ac(0x21b)};let _0x313e10=_0x1babd8[_0x5557ac(0x1bf)]('ru-RU',_0x19df18);return _0x313e10[_0x5557ac(0x237)](0x0)[_0x5557ac(0x1b9)]()+_0x313e10['slice'](0x1);},'getText'(_0x450f4a,_0x6192a4){const _0xc69951=a2_0x3728f8,_0x42232f=this[_0xc69951(0x178)](_0x6192a4[_0xc69951(0x22c)]);switch(_0x450f4a){case _0xc69951(0x22d):return _0xc69951(0x13f)+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0x42232f+'\x0a')+(_0xc69951(0x1c4)+_0x6192a4[_0xc69951(0x137)]+_0xc69951(0x15d)+_0x6192a4['end']+'\x0a\x0a')+_0xc69951(0xfa);case'update':return _0xc69951(0x133)+'–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a'+(_0xc69951(0x1c7)+_0x6192a4[_0xc69951(0x137)]+'\x20‚Äî\x20'+_0x6192a4['end']+_0xc69951(0x217))+(_0xc69951(0x132)+_0x42232f);case _0xc69951(0x203):return _0xc69951(0x13e)+(_0xc69951(0xca)+_0x42232f+'\x20('+_0x6192a4['start']+')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.');case _0xc69951(0x1a8):return _0xc69951(0x216)+_0xc69951(0x240)+'<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>';default:return'';}},async 'send'(_0x3393bc,_0x42de5c){const _0x5b6e40=a2_0x3728f8;console[_0x5b6e40(0x1d8)](_0x5b6e40(0xf0),_0x3393bc,_0x42de5c);if(!_0x42de5c){console[_0x5b6e40(0xf5)](_0x5b6e40(0x130));return;}const _0x397dfb=String(_0x42de5c[_0x5b6e40(0x147)]);console[_0x5b6e40(0x1d8)]('[Notify]\x20Detected\x20Client\x20ID:',_0x397dfb);if(!_0x42de5c[_0x5b6e40(0x147)]||_0x397dfb===_0x5b6e40(0x1d6)||_0x397dfb==='null'){console['error'](_0x5b6e40(0x183));if(_0x42de5c['client']){const _0x9b7c49=clients[_0x5b6e40(0x11d)](_0x27b51b=>_0x27b51b[_0x5b6e40(0x10c)]===_0x42de5c[_0x5b6e40(0x1bc)]);if(_0x9b7c49)return console[_0x5b6e40(0x1d8)](_0x5b6e40(0xe6),_0x9b7c49['id']),this[_0x5b6e40(0x22b)](_0x3393bc,{..._0x42de5c,'clientId':_0x9b7c49['id']});}return;}if(_0x397dfb[_0x5b6e40(0xd2)]<0x5){console[_0x5b6e40(0x177)](_0x5b6e40(0x127),_0x397dfb);return;}const _0x43473c=this[_0x5b6e40(0x1e3)](_0x3393bc,_0x42de5c);if(!_0x43473c){console['error'](_0x5b6e40(0x214));return;}console['log']('[Notify]\x20Sending\x20to\x20GAS\x20for\x20'+_0x397dfb+_0x5b6e40(0x157)),DataManager[_0x5b6e40(0x215)](_0x5b6e40(0x10b),{'chatId':_0x397dfb,'text':_0x43473c})['then'](_0x3febb4=>console['log'](_0x5b6e40(0x23a),_0x3febb4))['catch'](_0x3f905b=>console[_0x5b6e40(0xf5)]('[Notify]\x20Network\x20Failed',_0x3f905b));}};function getLocalDateStr(_0x22c672){const _0xcefc66=a2_0x3728f8,_0x2c1ebf=_0x22c672[_0xcefc66(0x221)](),_0x129d08=String(_0x22c672['getMonth']()+0x1)[_0xcefc66(0x125)](0x2,'0'),_0x2c4ced=String(_0x22c672[_0xcefc66(0x143)]())['padStart'](0x2,'0');return _0x2c1ebf+'-'+_0x129d08+'-'+_0x2c4ced;}function getDateStr(_0x30f37e){const _0xe4a4bf=a2_0x3728f8,_0x5a51e7=new Date();return _0x5a51e7[_0xe4a4bf(0x166)](_0x5a51e7[_0xe4a4bf(0x143)]()+_0x30f37e),getLocalDateStr(_0x5a51e7);}function getStartOfWeek(_0x22ce9c){const _0x35a645=a2_0x3728f8,_0x2a921d=(function(){let _0x617845=!![];return function(_0x5865ea,_0x450831){const _0x4bdc46=_0x617845?function(){const _0x329c13=a2_0x3bee;if(_0x450831){const _0x389f64=_0x450831[_0x329c13(0xcb)](_0x5865ea,arguments);return _0x450831=null,_0x389f64;}}:function(){};return _0x617845=![],_0x4bdc46;};}()),_0x542360=_0x2a921d(this,function(){const _0x39c3be=a2_0x3bee;return _0x542360[_0x39c3be(0x115)]()[_0x39c3be(0x1f2)](_0x39c3be(0x17a))[_0x39c3be(0x115)]()[_0x39c3be(0x200)](_0x542360)[_0x39c3be(0x1f2)](_0x39c3be(0x17a));});_0x542360();const _0x38c11d=new Date(_0x22ce9c),_0x13dfff=_0x38c11d[_0x35a645(0xcf)](),_0x13a11b=_0x38c11d[_0x35a645(0x143)]()-_0x13dfff+(_0x13dfff===0x0?-0x6:0x1);return _0x38c11d[_0x35a645(0x166)](_0x13a11b),_0x38c11d[_0x35a645(0x1bb)](0x0,0x0,0x0,0x0),_0x38c11d;}function hexToRgba(_0x58844e,_0x492780){const _0x240c8a=a2_0x3728f8;if(!_0x58844e)return _0x240c8a(0xe8);let _0x462baa=0x0,_0x50f9e2=0x0,_0x2107fe=0x0;if(_0x58844e[_0x240c8a(0xd2)]===0x4)_0x462baa='0x'+_0x58844e[0x1]+_0x58844e[0x1],_0x50f9e2='0x'+_0x58844e[0x2]+_0x58844e[0x2],_0x2107fe='0x'+_0x58844e[0x3]+_0x58844e[0x3];else _0x58844e[_0x240c8a(0xd2)]===0x7&&(_0x462baa='0x'+_0x58844e[0x1]+_0x58844e[0x2],_0x50f9e2='0x'+_0x58844e[0x3]+_0x58844e[0x4],_0x2107fe='0x'+_0x58844e[0x5]+_0x58844e[0x6]);return _0x240c8a(0x1b6)+ +_0x462baa+',\x20'+ +_0x50f9e2+',\x20'+ +_0x2107fe+',\x20'+_0x492780+')';}function renderTimeColumn(){const _0x2958bc=a2_0x3728f8,_0x345b4b=document[_0x2958bc(0x17e)](_0x2958bc(0x114)),_0x1f5691=document[_0x2958bc(0x17e)]('timeLineBadge');_0x345b4b[_0x2958bc(0x1c6)]='',_0x345b4b[_0x2958bc(0xf2)](_0x1f5691);for(let _0x46825a=0x0;_0x46825a<0x18;_0x46825a++){const _0x4d9c26=document[_0x2958bc(0x12a)](_0x2958bc(0x170));_0x4d9c26[_0x2958bc(0x1cf)]=_0x2958bc(0x218);if(_0x46825a>0x0)_0x4d9c26[_0x2958bc(0x1c6)]=_0x2958bc(0x18e)+String(_0x46825a)[_0x2958bc(0x125)](0x2,'0')+_0x2958bc(0x12f);_0x345b4b[_0x2958bc(0xf2)](_0x4d9c26);}}function renderDayRange(_0x497895,_0x2ede71){const _0x5ba4a6=a2_0x3728f8,_0x1d6f4f=document[_0x5ba4a6(0x17e)](_0x5ba4a6(0x1f4)),_0xc0f9be=document[_0x5ba4a6(0x17e)](_0x5ba4a6(0xff)),_0x6a3240=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x17304a=new Date();_0x17304a[_0x5ba4a6(0x1bb)](0x0,0x0,0x0,0x0);const _0x3fdb5c=getLocalDateStr(new Date());for(let _0x348b17=_0x497895;_0x348b17<=_0x2ede71;_0x348b17++){const _0x5886fd=new Date(_0x17304a);_0x5886fd['setDate'](_0x5886fd['getDate']()+_0x348b17);const _0xcc3c2a=getLocalDateStr(_0x5886fd);let _0x16ccfa=_0x5886fd[_0x5ba4a6(0xcf)]()-0x1;if(_0x16ccfa===-0x1)_0x16ccfa=0x6;const _0x47412c=_0xcc3c2a===_0x3fdb5c,_0x1fcf69=document[_0x5ba4a6(0x12a)](_0x5ba4a6(0x170));_0x1fcf69['className']=_0x5ba4a6(0x171)+(_0x47412c?_0x5ba4a6(0x101):''),_0x1fcf69['id']='header-'+_0xcc3c2a,_0x1fcf69[_0x5ba4a6(0x206)]('data-date',_0xcc3c2a),_0x1fcf69[_0x5ba4a6(0x1c6)]=_0x5ba4a6(0x197)+_0x6a3240[_0x16ccfa]+'</div><div\x20class=\x22dch-num\x22>'+_0x5886fd[_0x5ba4a6(0x143)]()+_0x5ba4a6(0x24b)+_0xcc3c2a+_0x5ba4a6(0x1f8),_0x1fcf69[_0x5ba4a6(0x238)]=()=>openDayOptions(_0xcc3c2a,_0x6a3240[_0x16ccfa]+'\x20'+_0x5886fd['getDate']()),_0x1d6f4f[_0x5ba4a6(0xf2)](_0x1fcf69);const _0x2f7c6a=document[_0x5ba4a6(0x12a)](_0x5ba4a6(0x170));_0x2f7c6a[_0x5ba4a6(0x1cf)]=_0x5ba4a6(0x1c9)+(_0x47412c?_0x5ba4a6(0x101):''),_0x2f7c6a[_0x5ba4a6(0x206)](_0x5ba4a6(0x245),_0xcc3c2a),_0x2f7c6a[_0x5ba4a6(0x206)](_0x5ba4a6(0x209),_0x16ccfa),renderEventsForColumn(_0x2f7c6a,_0xcc3c2a,_0x16ccfa),attachLongPressHandler(_0x2f7c6a,_0x5886fd),_0xc0f9be[_0x5ba4a6(0xf2)](_0x2f7c6a),updateDayStats(_0xcc3c2a);}}function reRenderBlocks(){const _0x224cb1=a2_0x3728f8;document[_0x224cb1(0x165)](_0x224cb1(0x1e1))['forEach'](_0x427551=>{const _0x1e6a00=_0x224cb1;_0x427551['querySelectorAll'](_0x1e6a00(0xeb))[_0x1e6a00(0x174)](_0x2b127d=>_0x2b127d['remove']());const _0x47d722=_0x427551['getAttribute'](_0x1e6a00(0x245)),_0x23320b=parseInt(_0x427551['getAttribute']('data-day-idx')),_0x47780b=Math[_0x1e6a00(0x168)](_0x427551[_0x1e6a00(0x107)]);(availabilityPattern[_0x23320b]||[])[_0x1e6a00(0x174)](_0x5eaf4d=>{const _0x51002f=_0x1e6a00,_0x24219d=document[_0x51002f(0x12a)](_0x51002f(0x170));_0x24219d[_0x51002f(0x1cf)]='blocked-slot\x20stripe-bg';const _0xa8e3aa=_0x5eaf4d*GRID_H;_0x24219d[_0x51002f(0x23f)][_0x51002f(0x148)]=_0xa8e3aa+'px',_0x24219d[_0x51002f(0x23f)]['backgroundPosition']='-'+_0x47780b+'px\x20-'+_0xa8e3aa+'px',_0x427551[_0x51002f(0xf2)](_0x24219d);});if(specialRanges&&specialRanges[_0x1e6a00(0xd2)]>0x0){const _0x4ea85c=new Date(_0x47d722+_0x1e6a00(0x1a7))[_0x1e6a00(0x106)](),_0x2894c9=new Date(_0x47d722+'T23:59:59')['getTime']();specialRanges[_0x1e6a00(0x174)](_0x12f336=>{const _0x2066a9=_0x1e6a00,_0x66df4d=new Date(_0x12f336[_0x2066a9(0x137)])[_0x2066a9(0x106)](),_0x21e144=new Date(_0x12f336['end'])['getTime'](),_0x25c066=Math[_0x2066a9(0xf3)](_0x4ea85c,_0x66df4d),_0x27adfb=Math['min'](_0x2894c9,_0x21e144);if(_0x25c066<_0x27adfb){if(_0x25c066<=_0x4ea85c&&_0x27adfb>=_0x2894c9-0xea60){if(!_0x427551['querySelector'](_0x2066a9(0x231))){const _0x5565d3=document[_0x2066a9(0x12a)](_0x2066a9(0x170));_0x5565d3[_0x2066a9(0x1cf)]=_0x2066a9(0xe5),_0x5565d3[_0x2066a9(0x23f)][_0x2066a9(0x182)]='-'+_0x47780b+'px\x200px',_0x427551[_0x2066a9(0xf2)](_0x5565d3);}}else{const _0x2281f9=(_0x25c066-_0x4ea85c)/0x36ee80*GRID_H,_0x5675a4=(_0x27adfb-_0x25c066)/0x36ee80*GRID_H,_0xeddb67=document[_0x2066a9(0x12a)]('div');_0xeddb67[_0x2066a9(0x1cf)]=_0x2066a9(0x185),_0xeddb67[_0x2066a9(0x23f)]['top']=_0x2281f9+'px',_0xeddb67[_0x2066a9(0x23f)][_0x2066a9(0x20d)]=_0x5675a4+'px',_0xeddb67['style'][_0x2066a9(0x182)]='-'+_0x47780b+_0x2066a9(0xd6)+_0x2281f9+'px',_0x427551[_0x2066a9(0xf2)](_0xeddb67);}}});}if(dateExceptions[_0x47d722]==='off'){if(!_0x427551['querySelector'](_0x1e6a00(0x231))){const _0x989fb0=document[_0x1e6a00(0x12a)](_0x1e6a00(0x170));_0x989fb0[_0x1e6a00(0x1cf)]=_0x1e6a00(0xe5),_0x989fb0[_0x1e6a00(0x23f)][_0x1e6a00(0x182)]='-'+_0x47780b+'px\x200px',_0x427551['appendChild'](_0x989fb0);}}renderEventsForColumn(_0x427551,_0x47d722,_0x23320b),updateDayStats(_0x47d722);});}function updateAllDayStats(){const _0x2e34d3=a2_0x3728f8;document[_0x2e34d3(0x165)]('.day-col-header')[_0x2e34d3(0x174)](_0x1d3b5a=>{const _0x1f127d=_0x2e34d3;updateDayStats(_0x1d3b5a['getAttribute'](_0x1f127d(0x245)));});}function updateDayStats(_0x4748cf){const _0x40b9a5=a2_0x3728f8,_0x5c4aab=document['getElementById'](_0x40b9a5(0x1f5)+_0x4748cf);if(!_0x5c4aab)return;const _0x3f7558=new Date(_0x4748cf);let _0xc409c=_0x3f7558['getDay']()-0x1;if(_0xc409c===-0x1)_0xc409c=0x6;if(dateExceptions[_0x4748cf]===_0x40b9a5(0x1db)){_0x5c4aab[_0x40b9a5(0x23f)]['display']=_0x40b9a5(0xd9);return;}const _0xd2131d=availabilityPattern[_0xc409c]||[],_0x2082b7=0x18-_0xd2131d[_0x40b9a5(0xd2)],_0x13c5a1=_0x2082b7*0x3c,_0x9f7446=sessions[_0x40b9a5(0x1dd)](_0x269074=>_0x269074[_0x40b9a5(0x22c)]===_0x4748cf&&_0x269074['status']!=='cancelled');if(_0x9f7446[_0x40b9a5(0xd2)]===0x0){_0x5c4aab[_0x40b9a5(0x23f)][_0x40b9a5(0x109)]=_0x40b9a5(0xd9);return;}let _0x376002=_0x9f7446[_0x40b9a5(0x131)](_0x495dca=>{const _0x2d9d8b=_0x40b9a5,[_0x8dc5ce,_0x35e8a2]=_0x495dca[_0x2d9d8b(0x137)][_0x2d9d8b(0x1c1)](':')[_0x2d9d8b(0x131)](Number),[_0x5375a2,_0x2bd181]=_0x495dca[_0x2d9d8b(0x16e)][_0x2d9d8b(0x1c1)](':')[_0x2d9d8b(0x131)](Number);return[_0x8dc5ce*0x3c+_0x35e8a2,_0x5375a2*0x3c+_0x2bd181];});_0x376002['sort']((_0x68da3,_0x21d485)=>_0x68da3[0x0]-_0x21d485[0x0]);let _0x55f52d=[];if(_0x376002[_0x40b9a5(0xd2)]>0x0){let _0xd0da49=_0x376002[0x0];for(let _0x15016d=0x1;_0x15016d<_0x376002['length'];_0x15016d++){_0x376002[_0x15016d][0x0]<_0xd0da49[0x1]?_0xd0da49[0x1]=Math[_0x40b9a5(0xf3)](_0xd0da49[0x1],_0x376002[_0x15016d][0x1]):(_0x55f52d[_0x40b9a5(0x244)](_0xd0da49),_0xd0da49=_0x376002[_0x15016d]);}_0x55f52d[_0x40b9a5(0x244)](_0xd0da49);}let _0x36be80=0x0;_0x55f52d[_0x40b9a5(0x174)](_0x275cb0=>_0x36be80+=_0x275cb0[0x1]-_0x275cb0[0x0]),_0x5c4aab[_0x40b9a5(0x23f)]['display']=_0x40b9a5(0x1fb);const _0xc3aa8a=_0x5c4aab[_0x40b9a5(0x13c)](_0x40b9a5(0x164));if(_0x13c5a1===0x0){_0xc3aa8a[_0x40b9a5(0x23f)]['width']=_0x40b9a5(0x1ba),_0xc3aa8a['style'][_0x40b9a5(0x223)]=_0x40b9a5(0xd8);return;}const _0x1a217b=_0x36be80/_0x13c5a1*0x64;console[_0x40b9a5(0x1d8)]('['+_0x4748cf+_0x40b9a5(0x1ca)+_0x2082b7+'—á,\x20–ó–∞–Ω—è—Ç–æ:\x20'+_0x36be80+_0x40b9a5(0x23d)+_0x1a217b[_0x40b9a5(0x1ef)](0x1)+'%'),_0x1a217b>0x64?(_0xc3aa8a[_0x40b9a5(0x23f)][_0x40b9a5(0x172)]=_0x40b9a5(0x1ba),_0xc3aa8a[_0x40b9a5(0x23f)]['background']='var(--acc-red)'):(_0xc3aa8a[_0x40b9a5(0x23f)][_0x40b9a5(0x172)]=_0x1a217b+'%',_0xc3aa8a[_0x40b9a5(0x23f)][_0x40b9a5(0x223)]=_0x40b9a5(0xea));}function renderEventsForColumn(_0x5067c6,_0x4aef6f,_0x2bc57a){const _0x5784c3=a2_0x3728f8,_0xdca77d=sessions['filter'](_0x1b5ac8=>_0x1b5ac8[_0x5784c3(0x22c)]===_0x4aef6f),_0x131bed=_0xdca77d[_0x5784c3(0x131)](_0x4edd77=>{const _0x14c789=_0x5784c3,[_0x1fc852,_0x1df8b6]=_0x4edd77[_0x14c789(0x137)]['split'](':')[_0x14c789(0x131)](Number),[_0x1d0ce7,_0x4c6a1d]=_0x4edd77[_0x14c789(0x16e)]['split'](':')[_0x14c789(0x131)](Number);return{'data':_0x4edd77,'start':_0x1fc852*0x3c+_0x1df8b6,'end':_0x1d0ce7*0x3c+_0x4c6a1d,'colIndex':0x0};});_0x131bed['sort']((_0x42bb82,_0x4ba869)=>{const _0x25400a=_0x5784c3;if(_0x42bb82[_0x25400a(0x137)]!==_0x4ba869['start'])return _0x42bb82[_0x25400a(0x137)]-_0x4ba869[_0x25400a(0x137)];return _0x4ba869[_0x25400a(0x16e)]-_0x4ba869[_0x25400a(0x137)]-(_0x42bb82[_0x25400a(0x16e)]-_0x42bb82[_0x25400a(0x137)]);});const _0x521df2=[];_0x131bed[_0x5784c3(0x174)](_0x41a98c=>{const _0x50e8ec=_0x5784c3;let _0x302ab3=![];for(let _0x3f7d7f=0x0;_0x3f7d7f<_0x521df2[_0x50e8ec(0xd2)];_0x3f7d7f++){const _0x20d1cf=_0x521df2[_0x3f7d7f],_0x36e35b=_0x20d1cf[_0x20d1cf['length']-0x1];if(_0x41a98c[_0x50e8ec(0x137)]>=_0x36e35b['end']){_0x20d1cf[_0x50e8ec(0x244)](_0x41a98c),_0x41a98c[_0x50e8ec(0x19a)]=_0x3f7d7f,_0x302ab3=!![];break;}}!_0x302ab3&&(_0x521df2[_0x50e8ec(0x244)]([_0x41a98c]),_0x41a98c[_0x50e8ec(0x19a)]=_0x521df2[_0x50e8ec(0xd2)]-0x1);}),_0x131bed[_0x5784c3(0x174)](_0x5e1548=>{const _0x51c3c8=_0x5784c3;let _0x3d8c70=0x0;_0x131bed['forEach'](_0x197961=>{const _0x2262a2=a2_0x3bee;if(Math[_0x2262a2(0xf3)](_0x5e1548[_0x2262a2(0x137)],_0x197961[_0x2262a2(0x137)])<Math['min'](_0x5e1548[_0x2262a2(0x16e)],_0x197961[_0x2262a2(0x16e)])){if(_0x197961[_0x2262a2(0x19a)]>_0x3d8c70)_0x3d8c70=_0x197961['colIndex'];}});const _0x173c71=_0x3d8c70+0x1,_0x3378e6=0x64/_0x173c71,_0x59f3f2=_0x5e1548[_0x51c3c8(0x19a)]*_0x3378e6,_0xed774f=createEventEl(_0x5e1548[_0x51c3c8(0x1cb)]);_0xed774f[_0x51c3c8(0x23f)][_0x51c3c8(0x172)]=_0x51c3c8(0x14b)+_0x3378e6+'%\x20-\x204px)',_0xed774f[_0x51c3c8(0x23f)][_0x51c3c8(0x249)]='calc('+_0x59f3f2+_0x51c3c8(0xf7),_0xed774f[_0x51c3c8(0x23f)][_0x51c3c8(0x246)]=0xa+_0x5e1548['colIndex'],_0x3378e6<0x55&&_0xed774f[_0x51c3c8(0x1d9)][_0x51c3c8(0x18c)](_0x51c3c8(0x211)),_0x5067c6[_0x51c3c8(0xf2)](_0xed774f);});}function createEventEl(_0x594433){const _0xed3c16=a2_0x3728f8,[_0x51e820,_0x2a1ff2]=_0x594433[_0xed3c16(0x137)][_0xed3c16(0x1c1)](':')['map'](Number),[_0x42f8c3,_0xa80708]=_0x594433[_0xed3c16(0x16e)][_0xed3c16(0x1c1)](':')[_0xed3c16(0x131)](Number),_0x781847=(_0x51e820*0x3c+_0x2a1ff2)/0x3c*GRID_H,_0x34ed8d=(_0x42f8c3*0x3c+_0xa80708-(_0x51e820*0x3c+_0x2a1ff2))/0x3c*GRID_H,_0x2a9f6c=document[_0xed3c16(0x12a)](_0xed3c16(0x170)),_0x489128=_0x594433[_0xed3c16(0x113)]===_0xed3c16(0x1d3)?_0xed3c16(0x142):'';_0x2a9f6c['className']='event-card'+_0x489128,_0x2a9f6c['style'][_0xed3c16(0x148)]=_0x781847+'px',_0x2a9f6c[_0xed3c16(0x23f)]['height']=Math['max'](_0x34ed8d,0x14)+'px';const _0x1428ff=clients['find'](_0x236b79=>_0x594433['clientId']&&String(_0x236b79['id'])===String(_0x594433['clientId'])||_0x236b79['name']===_0x594433[_0xed3c16(0x1bc)]),_0x42acce=_0x1428ff?_0x1428ff[_0xed3c16(0x1d5)]:_0xed3c16(0xdd);_0x2a9f6c['style'][_0xed3c16(0x21f)]=_0x42acce,_0x2a9f6c[_0xed3c16(0x23f)][_0xed3c16(0x16f)]=hexToRgba(_0x42acce,0.85);let _0x312dd7=_0xed3c16(0x116)+_0x594433['client']+_0xed3c16(0x1f3)+_0x594433[_0xed3c16(0x137)]+_0xed3c16(0x1fc)+_0x594433[_0xed3c16(0x16e)]+'</div>';return _0x594433[_0xed3c16(0x1b8)]&&(_0x312dd7+='<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>'),_0x594433[_0xed3c16(0x113)]===_0xed3c16(0x1d3)&&(_0x312dd7+=_0xed3c16(0xf9)),_0x2a9f6c['innerHTML']=_0x312dd7,_0x2a9f6c[_0xed3c16(0x238)]=_0x102314=>{const _0x4f04e9=_0xed3c16;_0x102314[_0x4f04e9(0x1c5)](),openEdit(_0x594433);},_0x2a9f6c;}function a2_0x2403(){const _0x360114=['inpRecurring','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','data-day-idx','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','rangeStartTime','parse','height','rgba(48,\x20209,\x2088,\x200.15)','.day-column','blocked-slot\x20stripe-bg','mini','total','getAttribute','[Notify]\x20Error:\x20Text\x20generation\x20failed','fetchFromServer','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','</b>\x0a\x0a','time-label','mousedown','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','long','createDocumentFragment','actionSheetOverlay','strokeDashoffset','borderLeftColor','btnDelete','getFullYear','inpClient','background','borderRadius','href','rgba(255,\x2069,\x2058,\x200.15)','6601960YyDDWr','insertBefore','substr','asBtnSeries','send','dateStr','create','setBackgroundColor','findIndex','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','.day-off-overlay','</div><div\x20class=\x22dch-num\x22>','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','\x20days','closest','charAt','onclick','mergeServerData','[Notify]\x20Server\x20Response:','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','overlay','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','startsWith','style','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','uc_clients_v9','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','show','push','data-date','zIndex','offClick','batch_sync','left','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','rgba(255,255,255,0.05)',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','inpEnd','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','apply','3OnwtXH','save','4812759rYouVl','getDay','week','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','length','addEventListener','Batch\x20Sync\x20OK','7408212FWtvDP','px\x20-','recurringOptionContainer','var(--acc-red)','none','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','from','setItem','#0a84ff','inpSeriesCount','anEnd','clients','random','saveLocally','rangesList','[API\x20','day-off-overlay\x20stripe-bg','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','note','rgba(100,100,100,0.5)','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','var(--acc-current)','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','#050505','scrollWidth','WebApp','cancelled','[Notify]\x20Attempting\x20to\x20send:','text','appendChild','max','as-button\x20danger','error','v9.0-BATCH-CALENDAR','%\x20+\x202px)','Telegram','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','analyticsList','clientWidth','getItem','btn-primary\x20btn-secondary','gridColumns','settingsSheet','today','rangesSheet','[Settings]\x20Cancel\x20window\x20set\x20to:','doEventsList','getMonth','getTime','offsetLeft','Local\x20Save\x20Error','display','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','send_notification','name','getMinutes','btnStatusToggle','matrixViewport','uc_sessions_v9','inpDate','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','status','timeColumn','toString','<div\x20class=\x22ev-title\x22>','scroll','valid','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','router.html','actionSheet','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','find','globalTimeLine','sheetDateSubtitle','doDateHeader','inpNote','touchmove','init_load','onClick','padStart','pattern','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','POST','remove','createElement','582bZNJXS','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','sid','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑',':00</span>','[Notify]\x20Error:\x20sessionData\x20is\x20null','map','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','target','start','slice','ru-RU','location',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','querySelector','entries','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','rangeEndDate','[Notify]\x20Client\x20SWAP\x20detected','\x20status-completed','getDate','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>',':00','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','clientId','top','–£–¥–∞–ª–µ–Ω–∏–µ','doLoadPercent','calc(','toLocaleString','DOMContentLoaded','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','peGrid','23:59','de-item','initData','73652znxDKV','45DmRBxe','client-stat-card','success','...','loadLocal','Save\x20settings\x20error:','Critical\x20TMA\x20Error:','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pe-cell\x20','\x20‚Äî\x20','toastTitle','sort','checked','delete','numeric','floor','.dch-stats-fill','querySelectorAll','setDate','asBtnOne','round','planned','exceptions','scrollTop','localeCompare','doBusyHours','end','backgroundColor','div','day-col-header\x20','width','.period-switch\x20.p-btn','forEach','initDataUnsafe','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','warn','formatDate','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','(((.+)+)+)+$','inpStart','var(--acc-green)','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','getElementById','text/plain;charset=UTF-8','touches','sheetTitle','backgroundPosition','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','vibrate','blocked-range-part\x20stripe-bg','rgba(255,\x20159,\x2010,\x200.3)','rangeEndTime','pe-time-label','value','[Sync]\x20Loading\x20','btn-status-toggle\x20undo-mode','add','as-button\x20danger\x20bold','<span>','uc_settings_cancel_window','update','BackButton','guest','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','mouseup','syncBatch','<div\x20class=\x22dch-day\x22>','month','–ò–Ω—Ñ–æ','colIndex','range-item','uc_settings_v9','save_settings','ranges','21224730bNudSr','anStart','syncLoad','sessionSheet','getBoundingClientRect','#fff','.pib-text','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','T00:00:00','complete','4126408fTpUro','setHeaderColor','msg','warning','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','cancel_window','calendar','35710nyxjeH','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','[Series]\x20Skipped\x20','btn-status-toggle','patternInfoBox','then','rgba(','scrollLeft','seriesId','toUpperCase','100%','setHours','client','statLoadCard','offsetWidth','toLocaleDateString','isArray','split','active','setMonth','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','stopPropagation','innerHTML','<b>‚úÖ\x20','stringify','day-column\x20',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','data','10px','borderColor','catch','className','mousemove','header-','touchend','completed','keys','color','undefined','open','log','classList','settings','off',':\x20Client\x20already\x20booked','filter','dayOptionsTitle','btnDayToggle','getHours','#gridColumns\x20.day-column','anDonutCircle','getText','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','var(--acc-orange)','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','done','clientY','headerMonth','textContent','seriesCountContainer','single','rangeStartDate','toFixed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','patternEditor','search','</div><div\x20class=\x22ev-time\x22>','daysHeaderTrack','stat-','settingCancelWindow','Server\x20Error','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','block','disableVerticalSwipes','flex','\x20-\x20','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','option','series','constructor','user','splice','cancel','now','min','setAttribute'];a2_0x2403=function(){return _0x360114;};return a2_0x2403();}function attachLongPressHandler(_0x45758d,_0xb7121a){const _0x19b6e9=a2_0x3728f8;let _0xf05275=0x0,_0x35d60f=null;const _0x980473=_0x1d2fa2=>{const _0x84b1d7=a2_0x3bee;if(_0x1d2fa2[_0x84b1d7(0x136)][_0x84b1d7(0x236)]('.event-card'))return;isScrolling=![],_0xf05275=_0x1d2fa2[_0x84b1d7(0x180)]?_0x1d2fa2[_0x84b1d7(0x180)][0x0][_0x84b1d7(0x1e9)]:_0x1d2fa2[_0x84b1d7(0x1e9)],_0x35d60f=setTimeout(()=>{const _0x14f235=_0x84b1d7;if(!isScrolling){navigator[_0x14f235(0x184)]?.(0x32);const _0x371d17=_0x45758d[_0x14f235(0x1a3)](),_0x1d8ffb=Math[_0x14f235(0x163)]((_0xf05275-_0x371d17['top'])/GRID_H);_0xb7121a[_0x14f235(0x1bb)](_0x1d8ffb,0x0),openAddSession(_0xb7121a);}},0x1f4);},_0x63ad06=()=>{isScrolling=!![],clearTimeout(_0x35d60f);},_0x86f01b=()=>{clearTimeout(_0x35d60f);};_0x45758d[_0x19b6e9(0xd3)]('touchstart',_0x980473,{'passive':!![]}),_0x45758d[_0x19b6e9(0xd3)](_0x19b6e9(0x122),_0x63ad06,{'passive':!![]}),_0x45758d[_0x19b6e9(0xd3)](_0x19b6e9(0x1d2),_0x86f01b),_0x45758d['addEventListener'](_0x19b6e9(0x219),_0x980473),_0x45758d[_0x19b6e9(0xd3)](_0x19b6e9(0x1d0),_0x63ad06),_0x45758d['addEventListener'](_0x19b6e9(0x195),_0x86f01b);}function cancelLongPress(){}function handleInfiniteScroll(){const _0xc55c31=a2_0x3728f8,_0x2f626b=document[_0xc55c31(0x17e)](_0xc55c31(0x10f)),_0x2f5483=_0x2f626b['scrollLeft'],_0x28fa93=_0x2f626b[_0xc55c31(0xed)],_0xd208c=_0x2f626b[_0xc55c31(0xfc)];if(_0x28fa93-(_0x2f5483+_0xd208c)<0x12c){const _0x54475e=endOffset;endOffset+=0xe,renderDayRange(_0x54475e+0x1,endOffset),reRenderBlocks();}if(_0x2f5483<0x12c){const _0x33c11d=startOffset;startOffset-=0xe,prependDays(startOffset,_0x33c11d-0x1),_0x2f626b[_0xc55c31(0x1b7)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x4bc265,_0x42b904){const _0x4b89ac=a2_0x3728f8,_0x417a4e=document[_0x4b89ac(0x17e)](_0x4b89ac(0x1f4)),_0x211ba9=document['getElementById']('gridColumns'),_0x12efc0=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1c31b4=new Date();_0x1c31b4['setHours'](0x0,0x0,0x0,0x0);const _0x152f9a=getLocalDateStr(new Date()),_0x24d8fd=document['createDocumentFragment'](),_0xe1f6f4=document[_0x4b89ac(0x21c)]();for(let _0x566dbc=_0x4bc265;_0x566dbc<=_0x42b904;_0x566dbc++){const _0x36378d=new Date(_0x1c31b4);_0x36378d[_0x4b89ac(0x166)](_0x36378d[_0x4b89ac(0x143)]()+_0x566dbc);const _0x5d1c05=getLocalDateStr(_0x36378d);let _0x1049f4=_0x36378d['getDay']()-0x1;if(_0x1049f4===-0x1)_0x1049f4=0x6;const _0x3aa648=_0x5d1c05===_0x152f9a,_0x3c4082=document[_0x4b89ac(0x12a)](_0x4b89ac(0x170));_0x3c4082[_0x4b89ac(0x1cf)]=_0x4b89ac(0x171)+(_0x3aa648?_0x4b89ac(0x101):''),_0x3c4082['id']=_0x4b89ac(0x1d1)+_0x5d1c05,_0x3c4082[_0x4b89ac(0x206)](_0x4b89ac(0x245),_0x5d1c05),_0x3c4082[_0x4b89ac(0x1c6)]=_0x4b89ac(0x197)+_0x12efc0[_0x1049f4]+_0x4b89ac(0x232)+_0x36378d['getDate']()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0x5d1c05+_0x4b89ac(0x1f8),_0x3c4082[_0x4b89ac(0x238)]=()=>openDayOptions(_0x5d1c05,_0x12efc0[_0x1049f4]+'\x20'+_0x36378d[_0x4b89ac(0x143)]()),_0x24d8fd[_0x4b89ac(0xf2)](_0x3c4082);const _0x21c2fd=document['createElement'](_0x4b89ac(0x170));_0x21c2fd[_0x4b89ac(0x1cf)]=_0x4b89ac(0x1c9)+(_0x3aa648?_0x4b89ac(0x101):''),_0x21c2fd[_0x4b89ac(0x206)](_0x4b89ac(0x245),_0x5d1c05),_0x21c2fd['setAttribute'](_0x4b89ac(0x209),_0x1049f4),renderEventsForColumn(_0x21c2fd,_0x5d1c05,_0x1049f4),attachLongPressHandler(_0x21c2fd,_0x36378d),_0xe1f6f4[_0x4b89ac(0xf2)](_0x21c2fd),updateDayStats(_0x5d1c05);}_0x417a4e[_0x4b89ac(0x228)](_0x24d8fd,_0x417a4e['firstChild']),_0x211ba9[_0x4b89ac(0x228)](_0xe1f6f4,_0x211ba9[_0x4b89ac(0x13c)](_0x4b89ac(0x20f)));}function validateAppointment(_0x117fa2,_0x13ebb5,_0x290405,_0x2f3173,_0x5a1351){const _0x1859cc=a2_0x3728f8,[_0x4b19d7,_0x405656]=_0x13ebb5[_0x1859cc(0x1c1)](':')[_0x1859cc(0x131)](Number),[_0x43609d,_0x4821ca]=_0x290405[_0x1859cc(0x1c1)](':')[_0x1859cc(0x131)](Number),_0x3ca430=_0x4b19d7*0x3c+_0x405656,_0x4bb591=_0x43609d*0x3c+_0x4821ca,_0xb9c664=String(_0x5a1351);let _0x5bc6c5=![],_0x28e537='';for(let _0x102ee9 of sessions){if(_0x102ee9[_0x1859cc(0x22c)]!==_0x117fa2)continue;if(_0x102ee9['status']===_0x1859cc(0xef))continue;if(_0x2f3173&&String(_0x102ee9['id'])===String(_0x2f3173))continue;const [_0x46130b,_0x36feeb]=_0x102ee9[_0x1859cc(0x137)]['split'](':')['map'](Number),[_0x554a44,_0x2753b2]=_0x102ee9[_0x1859cc(0x16e)][_0x1859cc(0x1c1)](':')['map'](Number),_0x34fd48=_0x46130b*0x3c+_0x36feeb,_0x62d7f1=_0x554a44*0x3c+_0x2753b2;if(Math[_0x1859cc(0xf3)](_0x3ca430,_0x34fd48)<Math['min'](_0x4bb591,_0x62d7f1)){if(_0x102ee9[_0x1859cc(0x147)]&&String(_0x102ee9[_0x1859cc(0x147)])===_0xb9c664)return{'valid':![],'msg':_0x1859cc(0x14e)+_0x102ee9[_0x1859cc(0x1bc)]+_0x1859cc(0xc8)};_0x5bc6c5=!![],_0x28e537=_0x102ee9[_0x1859cc(0x1bc)];}}if(_0x5bc6c5)return{'valid':!![],'warning':_0x1859cc(0x112)+_0x28e537};return{'valid':!![]};}function updateDateDisplay(){const _0xdd0398=a2_0x3728f8,_0xc6d5b9=document[_0xdd0398(0x17e)](_0xdd0398(0x111))[_0xdd0398(0x189)],_0x405d2b=document[_0xdd0398(0x17e)](_0xdd0398(0x11f));if(!_0xc6d5b9){_0x405d2b[_0xdd0398(0x1eb)]='';return;}const [_0x36de97,_0x29628d,_0x51bf64]=_0xc6d5b9[_0xdd0398(0x1c1)]('-')[_0xdd0398(0x131)](Number),_0x32b04f=new Date(_0x36de97,_0x29628d-0x1,_0x51bf64),_0x3c6bb0={'weekday':'long','day':_0xdd0398(0x162),'month':'long','year':_0xdd0398(0x162)};let _0x1f5f2f=_0x32b04f['toLocaleDateString'](_0xdd0398(0x139),_0x3c6bb0);_0x1f5f2f=_0x1f5f2f['charAt'](0x0)[_0xdd0398(0x1b9)]()+_0x1f5f2f[_0xdd0398(0x138)](0x1),_0x405d2b[_0xdd0398(0x1eb)]=_0x1f5f2f;}function autoSetEndTime(){const _0x390511=a2_0x3728f8,_0x5609ca=document['getElementById'](_0x390511(0x17b))[_0x390511(0x189)];if(!_0x5609ca)return;const [_0x339e38,_0x423dfa]=_0x5609ca[_0x390511(0x1c1)](':')[_0x390511(0x131)](Number);let _0x370113=_0x339e38+0x1;if(_0x370113>0x17)_0x370113=0x0;const _0x2111d6=String(_0x370113)[_0x390511(0x125)](0x2,'0')+':'+String(_0x423dfa)['padStart'](0x2,'0');document[_0x390511(0x17e)](_0x390511(0xc9))[_0x390511(0x189)]=_0x2111d6;}function populateClientSelect(){const _0x114fee=a2_0x3728f8,_0x5b242b=document[_0x114fee(0x17e)](_0x114fee(0x222));_0x5b242b['innerHTML']='';if(clients[_0x114fee(0xd2)]===0x0){const _0x9cdc49=document[_0x114fee(0x12a)](_0x114fee(0x1fe));_0x9cdc49[_0x114fee(0xf1)]=_0x114fee(0x24a),_0x5b242b[_0x114fee(0xf2)](_0x9cdc49);return;}clients['forEach'](_0x225549=>{const _0x1a2090=_0x114fee,_0x466ffb=document[_0x1a2090(0x12a)](_0x1a2090(0x1fe));_0x466ffb['value']=_0x225549[_0x1a2090(0x10c)],_0x466ffb[_0x1a2090(0x1eb)]=_0x225549[_0x1a2090(0x10c)],_0x5b242b[_0x1a2090(0xf2)](_0x466ffb);});}function openActionSheet(_0x48659a){const _0x53e610=a2_0x3728f8,_0x548c09=document[_0x53e610(0x17e)](_0x53e610(0x11b)),_0x4f59b6=document[_0x53e610(0x17e)]('actionSheetOverlay'),_0x429051=document[_0x53e610(0x17e)]('asTitle'),_0x35dac2=document['getElementById'](_0x53e610(0x167)),_0x2daf12=document[_0x53e610(0x17e)](_0x53e610(0x22a));_0x4f59b6[_0x53e610(0x1d9)][_0x53e610(0x18c)]('active'),_0x548c09[_0x53e610(0x1d9)][_0x53e610(0x18c)](_0x53e610(0x1d7));if(_0x48659a===_0x53e610(0xcd))_0x429051['textContent']=_0x53e610(0x176),_0x35dac2[_0x53e610(0x1eb)]=_0x53e610(0x179),_0x35dac2[_0x53e610(0x238)]=()=>{const _0x53c518=_0x53e610;closeActionSheet(),updateSeriesBatch(_0x53c518(0x1ed),tempSessionData);},_0x2daf12[_0x53e610(0x1eb)]=_0x53e610(0x233),_0x2daf12[_0x53e610(0x238)]=()=>{const _0xb72982=_0x53e610;closeActionSheet(),updateSeriesBatch(_0xb72982(0x1ff),tempSessionData);};else _0x48659a===_0x53e610(0x161)&&(_0x429051[_0x53e610(0x1eb)]=_0x53e610(0x149),_0x35dac2['textContent']=_0x53e610(0x179),_0x35dac2[_0x53e610(0x1cf)]=_0x53e610(0xf4),_0x35dac2[_0x53e610(0x238)]=()=>{closeActionSheet(),commitDelete('single',sessions['find'](_0x3bf04f=>_0x3bf04f['id']===editingId));},_0x2daf12['textContent']='–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ',_0x2daf12[_0x53e610(0x1cf)]=_0x53e610(0x18d),_0x2daf12[_0x53e610(0x238)]=()=>{const _0x1f710c=_0x53e610;closeActionSheet(),commitDelete(_0x1f710c(0x1ff),sessions[_0x1f710c(0x11d)](_0x17c65e=>_0x17c65e['id']===editingId));});}function closeActionSheet(){const _0x2b4952=a2_0x3728f8;document[_0x2b4952(0x17e)](_0x2b4952(0x11b))['classList']['remove'](_0x2b4952(0x1d7)),document[_0x2b4952(0x17e)](_0x2b4952(0x21d))[_0x2b4952(0x1d9)][_0x2b4952(0x129)]('active');}function openSettings(){const _0x964768=a2_0x3728f8;openSheet(_0x964768(0x100));}function saveCoachSettings(){const _0x271473=a2_0x3728f8,_0x270daf=document['getElementById']('settingCancelWindow')['value'];localStorage[_0x271473(0xdc)](_0x271473(0x18f),_0x270daf),console[_0x271473(0x1d8)](_0x271473(0x103),_0x270daf),DataManager[_0x271473(0x215)](_0x271473(0x19d),{'settings':{'cancel_window':_0x270daf}})[_0x271473(0x1ce)](_0x1bdc86=>{const _0x408814=_0x271473;console[_0x408814(0xf5)](_0x408814(0x159),_0x1bdc86),showToast(_0x408814(0x1a6),![]);});}function loadCoachSettings(){const _0x1a4564=a2_0x3728f8,_0x5c7784=localStorage[_0x1a4564(0xfd)](_0x1a4564(0x18f));_0x5c7784&&(document[_0x1a4564(0x17e)](_0x1a4564(0x1f6))[_0x1a4564(0x189)]=_0x5c7784);}function openRangesSheet(){const _0x5d2c01=a2_0x3728f8;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x5d2c01(0x102));}function addRange(){const _0x3de42d=a2_0x3728f8,_0xbeca3d=document['getElementById'](_0x3de42d(0x1ee))[_0x3de42d(0x189)],_0x183b12=document[_0x3de42d(0x17e)]('rangeStartTime')[_0x3de42d(0x189)],_0x1a2962=document[_0x3de42d(0x17e)]('rangeEndDate')[_0x3de42d(0x189)],_0xdaa4f=document[_0x3de42d(0x17e)](_0x3de42d(0x187))[_0x3de42d(0x189)];if(!_0xbeca3d||!_0x183b12||!_0x1a2962||!_0xdaa4f)return alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è');const _0x582c25=_0xbeca3d+'T'+_0x183b12,_0x240764=_0x1a2962+'T'+_0xdaa4f;if(_0x582c25>=_0x240764)return alert(_0x3de42d(0xd1));specialRanges[_0x3de42d(0x244)]({'start':_0x582c25,'end':_0x240764}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x3de42d(0xe2)](),DataManager[_0x3de42d(0x215)]('save_settings',{'settings':{'ranges':specialRanges}});}function deleteRange(_0x49b345){const _0x3c646d=a2_0x3728f8;specialRanges[_0x3c646d(0x202)](_0x49b345,0x1),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x3c646d(0x215)]('save_settings',{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x519734=a2_0x3728f8;document[_0x519734(0x17e)](_0x519734(0x1ee))[_0x519734(0x189)]='',document[_0x519734(0x17e)](_0x519734(0x20b))[_0x519734(0x189)]='00:00',document[_0x519734(0x17e)](_0x519734(0x140))[_0x519734(0x189)]='',document[_0x519734(0x17e)](_0x519734(0x187))[_0x519734(0x189)]=_0x519734(0x150);}function renderRangesList(){const _0x348524=a2_0x3728f8,_0x2f6fd1=document[_0x348524(0x17e)](_0x348524(0xe3));_0x2f6fd1['innerHTML']='';if(!specialRanges[_0x348524(0xd2)]){_0x2f6fd1[_0x348524(0x1c6)]=_0x348524(0x242);return;}specialRanges[_0x348524(0x174)]((_0x48b75b,_0x1a3b02)=>{const _0x224fbe=_0x348524,_0x3e9f2c=document[_0x224fbe(0x12a)](_0x224fbe(0x170));_0x3e9f2c['className']=_0x224fbe(0x19b);const _0x5a319e=_0x451f7d=>{const _0x3f8279=_0x224fbe,_0x587f6a=new Date(_0x451f7d);return _0x587f6a[_0x3f8279(0x143)]()+'.'+String(_0x587f6a['getMonth']()+0x1)[_0x3f8279(0x125)](0x2,'0')+'\x20'+String(_0x587f6a[_0x3f8279(0x1e0)]())['padStart'](0x2,'0')+':'+String(_0x587f6a[_0x3f8279(0x10d)]())['padStart'](0x2,'0');};_0x3e9f2c[_0x224fbe(0x1c6)]=_0x224fbe(0x134)+_0x5a319e(_0x48b75b[_0x224fbe(0x137)])+_0x224fbe(0x15d)+_0x5a319e(_0x48b75b[_0x224fbe(0x16e)])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange('+_0x1a3b02+_0x224fbe(0x13b),_0x2f6fd1['appendChild'](_0x3e9f2c);});}function scrollToToday(){const _0x5bb860=a2_0x3728f8,_0x41ea77=getLocalDateStr(new Date()),_0x2e115c=document['getElementById'](_0x5bb860(0x1d1)+_0x41ea77),_0x14dc5d=document[_0x5bb860(0x17e)](_0x5bb860(0x10f));if(_0x2e115c&&_0x14dc5d){const _0x3a39d0=_0x14dc5d[_0x5bb860(0xfc)],_0x5b895a=_0x2e115c[_0x5bb860(0x107)],_0x370167=_0x2e115c[_0x5bb860(0x1be)];_0x14dc5d[_0x5bb860(0x1b7)]=_0x5b895a-_0x3a39d0/0x2+_0x370167/0x2,_0x14dc5d[_0x5bb860(0x16b)]=0x9*GRID_H;}}function onScroll(){const _0x20ca03=a2_0x3728f8,_0x439d9a=document[_0x20ca03(0x17e)](_0x20ca03(0x10f)),_0x467c53=document[_0x20ca03(0x165)]('.day-col-header');for(let _0x114af1 of _0x467c53)if(_0x114af1[_0x20ca03(0x107)]>=_0x439d9a[_0x20ca03(0x1b7)]){const _0x1793b0=new Date(_0x114af1[_0x20ca03(0x213)](_0x20ca03(0x245)));document[_0x20ca03(0x17e)](_0x20ca03(0x1ea))[_0x20ca03(0x1eb)]=_0x1793b0[_0x20ca03(0x14c)]('ru',{'month':_0x20ca03(0x21b)})[_0x20ca03(0x1b9)]()+'\x20'+_0x1793b0['getFullYear']();break;}}function showToast(_0x5e4443,_0xc7bf23=![]){const _0x14d258=a2_0x3728f8,_0x5a554e=document[_0x14d258(0x17e)]('toast');_0x5a554e[_0x14d258(0x1cf)]='toast-notification\x20'+(_0xc7bf23?_0x14d258(0x156):''),document[_0x14d258(0x17e)](_0x14d258(0x15e))['textContent']=_0xc7bf23?'–£—Å–ø–µ—à–Ω–æ':_0x14d258(0x199),document[_0x14d258(0x17e)]('toastMessage')[_0x14d258(0x1eb)]=_0x5e4443,_0x5a554e[_0x14d258(0x1d9)][_0x14d258(0x18c)](_0x14d258(0x243)),setTimeout(()=>{const _0x584f84=_0x14d258;_0x5a554e[_0x584f84(0x1d9)][_0x584f84(0x129)](_0x584f84(0x243));},0xbb8);}function openDayOptions(_0x174923,_0x3f53b8){const _0x4db3b5=a2_0x3728f8;selectedDayForOptions=_0x174923,document['getElementById'](_0x4db3b5(0x1de))['textContent']=_0x3f53b8,openSheet('dayOptionsSheet');}function toggleDayOff(){const _0x10c5e2=a2_0x3728f8;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]='off',reRenderBlocks(),closeAllSheets(),DataManager[_0x10c5e2(0xe2)](),DataManager[_0x10c5e2(0x215)]('save_settings',{'settings':{'exceptions':dateExceptions}}));}function a2_0x3bee(_0x3ef66b,_0x337e14){_0x3ef66b=_0x3ef66b-0xc7;const _0x49bfcc=a2_0x2403();let _0x1da20d=_0x49bfcc[_0x3ef66b];return _0x1da20d;}function clearDayOff(){const _0x4b2f6b=a2_0x3728f8;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x4b2f6b(0xe2)](),DataManager[_0x4b2f6b(0x215)](_0x4b2f6b(0x19d),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0xfa3666){const _0x20fb2a=a2_0x3728f8;document[_0x20fb2a(0x17e)]('overlay')[_0x20fb2a(0x1d9)][_0x20fb2a(0x18c)](_0x20fb2a(0x1c2)),document[_0x20fb2a(0x17e)](_0xfa3666)[_0x20fb2a(0x1d9)][_0x20fb2a(0x18c)](_0x20fb2a(0x1d7));}function closeAllSheets(){const _0x21fb18=a2_0x3728f8;document[_0x21fb18(0x17e)](_0x21fb18(0x23c))[_0x21fb18(0x1d9)][_0x21fb18(0x129)]('active'),document[_0x21fb18(0x165)]('.sheet')[_0x21fb18(0x174)](_0x186d28=>_0x186d28[_0x21fb18(0x1d9)][_0x21fb18(0x129)](_0x21fb18(0x1d7)));}function openPatternEditor(){const _0x526ae7=a2_0x3728f8;closeAllSheets(),document[_0x526ae7(0x17e)](_0x526ae7(0x1f1))[_0x526ae7(0x1d9)][_0x526ae7(0x18c)](_0x526ae7(0x1d7)),renderPatternEditor();}function closePatternEditor(){const _0x3843e6=a2_0x3728f8;document[_0x3843e6(0x17e)](_0x3843e6(0x1f1))[_0x3843e6(0x1d9)][_0x3843e6(0x129)](_0x3843e6(0x1d7));}function savePattern(){const _0x5cc159=a2_0x3728f8;document['getElementById'](_0x5cc159(0x1f1))[_0x5cc159(0x1d9)][_0x5cc159(0x129)](_0x5cc159(0x1d7)),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x5cc159(0x215)]('save_settings',{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x4c1e82=a2_0x3728f8,_0x33ca0d=document[_0x4c1e82(0x17e)](_0x4c1e82(0x14f));_0x33ca0d['innerHTML']='';const _0x24ccda=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x3a77be=document[_0x4c1e82(0x12a)](_0x4c1e82(0x170));_0x3a77be['className']='pe-corner',_0x33ca0d[_0x4c1e82(0xf2)](_0x3a77be),_0x24ccda['forEach']((_0x271e5b,_0x41b574)=>{const _0x1e1550=_0x4c1e82,_0x293c72=document['createElement'](_0x1e1550(0x170));_0x293c72['className']='pe-col-header',_0x293c72[_0x1e1550(0x1c6)]=_0x271e5b+_0x1e1550(0x1e7),_0x293c72[_0x1e1550(0x238)]=()=>toggleColPattern(_0x41b574),_0x33ca0d[_0x1e1550(0xf2)](_0x293c72);});for(let _0x6514c4=0x0;_0x6514c4<0x18;_0x6514c4++){const _0x18625d=document['createElement']('div');_0x18625d[_0x4c1e82(0x1cf)]=_0x4c1e82(0x188),_0x18625d[_0x4c1e82(0x1c6)]=_0x4c1e82(0x135)+String(_0x6514c4)['padStart'](0x2,'0')+_0x4c1e82(0x145),_0x18625d[_0x4c1e82(0x238)]=()=>toggleRowPattern(_0x6514c4),_0x33ca0d['appendChild'](_0x18625d);for(let _0x5c1aee=0x0;_0x5c1aee<0x7;_0x5c1aee++){const _0xe7d4ba=document['createElement']('div'),_0x4553eb=(availabilityPattern[_0x5c1aee]||[])['includes'](_0x6514c4),_0x3379cd=!_0x4553eb;_0xe7d4ba[_0x4c1e82(0x1cf)]=_0x4c1e82(0x15c)+(_0x3379cd?_0x4c1e82(0x1c2):''),_0xe7d4ba[_0x4c1e82(0x238)]=()=>toggleSinglePattern(_0x5c1aee,_0x6514c4),_0x33ca0d[_0x4c1e82(0xf2)](_0xe7d4ba);}}}function toggleSinglePattern(_0x11db4a,_0x4bce1b){const _0x2a2fb0=a2_0x3728f8;if(!availabilityPattern[_0x11db4a])availabilityPattern[_0x11db4a]=[];const _0x16ab7b=availabilityPattern[_0x11db4a],_0x543536=_0x16ab7b['indexOf'](_0x4bce1b);_0x543536===-0x1?_0x16ab7b[_0x2a2fb0(0x244)](_0x4bce1b):_0x16ab7b[_0x2a2fb0(0x202)](_0x543536,0x1),renderPatternEditor();}function toggleColPattern(_0x3bed92){const _0x103c10=a2_0x3728f8;if(!availabilityPattern[_0x3bed92])availabilityPattern[_0x3bed92]=[];const _0xf0d043=availabilityPattern[_0x3bed92];_0xf0d043[_0x103c10(0xd2)]===0x0?availabilityPattern[_0x3bed92]=Array[_0x103c10(0xdb)]({'length':0x18},(_0x888a3b,_0x5f11a8)=>_0x5f11a8):availabilityPattern[_0x3bed92]=[],renderPatternEditor();}function toggleRowPattern(_0x46d72d){const _0x1c2a7c=a2_0x3728f8;let _0x466ee9=!![];for(let _0x30aaa2=0x0;_0x30aaa2<0x7;_0x30aaa2++){if((availabilityPattern[_0x30aaa2]||[])['includes'](_0x46d72d)){_0x466ee9=![];break;}}for(let _0x116d2e=0x0;_0x116d2e<0x7;_0x116d2e++){if(!availabilityPattern[_0x116d2e])availabilityPattern[_0x116d2e]=[];const _0x4f7038=availabilityPattern[_0x116d2e]['indexOf'](_0x46d72d);if(_0x466ee9){if(_0x4f7038===-0x1)availabilityPattern[_0x116d2e][_0x1c2a7c(0x244)](_0x46d72d);}else{if(_0x4f7038!==-0x1)availabilityPattern[_0x116d2e][_0x1c2a7c(0x202)](_0x4f7038,0x1);}}renderPatternEditor();}function renderPCol(_0xfc6104,_0x19edca){const _0x2a1b88=a2_0x3728f8;_0xfc6104['innerHTML']='';const _0x404cf0=Math[_0x2a1b88(0x168)](_0xfc6104[_0x2a1b88(0x107)]);(availabilityPattern[_0x19edca]||[])['forEach'](_0x10217c=>{const _0x6fe7b7=_0x2a1b88,_0x1069ab=document[_0x6fe7b7(0x12a)](_0x6fe7b7(0x170));_0x1069ab[_0x6fe7b7(0x1cf)]=_0x6fe7b7(0x210);const _0x40aaa1=_0x10217c*GRID_H;_0x1069ab[_0x6fe7b7(0x23f)][_0x6fe7b7(0x148)]=_0x40aaa1+'px',_0x1069ab[_0x6fe7b7(0x23f)][_0x6fe7b7(0x182)]='-'+_0x404cf0+_0x6fe7b7(0xd6)+_0x40aaa1+'px',_0x1069ab[_0x6fe7b7(0x238)]=_0x45cab5=>{const _0x62cf95=_0x6fe7b7;_0x45cab5[_0x62cf95(0x1c5)](),toggleSinglePattern(_0x19edca,_0x10217c);},_0xfc6104['appendChild'](_0x1069ab);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x3d99cf=a2_0x3728f8,_0x34b7be=new Date(),_0x2f55e4=document[_0x3d99cf(0x17e)](_0x3d99cf(0x11e)),_0x3ad03a=document[_0x3d99cf(0x17e)]('timeLineBadge'),_0xdf5c10=(_0x34b7be[_0x3d99cf(0x1e0)]()*0x3c+_0x34b7be[_0x3d99cf(0x10d)]())/0x3c*GRID_H;_0x2f55e4[_0x3d99cf(0x23f)][_0x3d99cf(0x148)]=_0xdf5c10+'px',_0x2f55e4[_0x3d99cf(0x23f)][_0x3d99cf(0x109)]=_0x3d99cf(0x1f9),_0x3ad03a[_0x3d99cf(0x1eb)]=String(_0x34b7be[_0x3d99cf(0x1e0)]())[_0x3d99cf(0x125)](0x2,'0')+':'+String(_0x34b7be[_0x3d99cf(0x10d)]())[_0x3d99cf(0x125)](0x2,'0'),_0x3ad03a[_0x3d99cf(0x23f)]['display']=_0x3d99cf(0x1f9),_0x3ad03a[_0x3d99cf(0x23f)]['top']=_0xdf5c10+'px';}document[a2_0x3728f8(0xd3)](a2_0x3728f8(0x14d),init);function openDayOptions(_0x482467){const _0x26600b=a2_0x3728f8;selectedDayForOptions=_0x482467;const _0x4da727=new Date(_0x482467),_0x5230b7={'weekday':_0x26600b(0x21b),'day':'numeric','month':_0x26600b(0x21b),'year':_0x26600b(0x162)},_0x3a7578=_0x4da727[_0x26600b(0x1bf)]('ru-RU',_0x5230b7);document[_0x26600b(0x17e)](_0x26600b(0x120))[_0x26600b(0x1eb)]=_0x3a7578[_0x26600b(0x237)](0x0)['toUpperCase']()+_0x3a7578[_0x26600b(0x138)](0x1);let _0x5cde11=_0x4da727[_0x26600b(0xcf)]()-0x1;if(_0x5cde11===-0x1)_0x5cde11=0x6;const _0x4def11=availabilityPattern[_0x5cde11]||[],_0x2d2f06=0x18-_0x4def11[_0x26600b(0xd2)],_0x54299e=_0x2d2f06*0x3c,_0x4fdd64=sessions['filter'](_0x48f185=>_0x48f185['dateStr']===_0x482467&&_0x48f185[_0x26600b(0x113)]!==_0x26600b(0xef));let _0x2e894e=_0x4fdd64[_0x26600b(0x131)](_0x5c5975=>{const _0x4d84f3=_0x26600b,[_0x163b60,_0x4fd8bb]=_0x5c5975[_0x4d84f3(0x137)][_0x4d84f3(0x1c1)](':')[_0x4d84f3(0x131)](Number),[_0x3bcf17,_0x396b12]=_0x5c5975['end'][_0x4d84f3(0x1c1)](':')[_0x4d84f3(0x131)](Number);return[_0x163b60*0x3c+_0x4fd8bb,_0x3bcf17*0x3c+_0x396b12];});_0x2e894e[_0x26600b(0x15f)]((_0x1b26e3,_0x4673c6)=>_0x1b26e3[0x0]-_0x4673c6[0x0]);let _0x3af26a=[];if(_0x2e894e['length']>0x0){let _0xb5933f=_0x2e894e[0x0];for(let _0x2d63ca=0x1;_0x2d63ca<_0x2e894e['length'];_0x2d63ca++){_0x2e894e[_0x2d63ca][0x0]<_0xb5933f[0x1]?_0xb5933f[0x1]=Math['max'](_0xb5933f[0x1],_0x2e894e[_0x2d63ca][0x1]):(_0x3af26a[_0x26600b(0x244)](_0xb5933f),_0xb5933f=_0x2e894e[_0x2d63ca]);}_0x3af26a['push'](_0xb5933f);}let _0x77e041=0x0;_0x3af26a[_0x26600b(0x174)](_0x14eeb1=>_0x77e041+=_0x14eeb1[0x1]-_0x14eeb1[0x0]),document['getElementById']('doWorkHours')[_0x26600b(0x1eb)]=formatMinsToHrs(_0x54299e),document[_0x26600b(0x17e)](_0x26600b(0x16d))['textContent']=formatMinsToHrs(_0x77e041);const _0x2d2e8d=_0x54299e>0x0?Math[_0x26600b(0x168)](_0x77e041/_0x54299e*0x64):0x0,_0x5cd803=document['getElementById'](_0x26600b(0x14a));_0x5cd803[_0x26600b(0x1eb)]=_0x2d2e8d+'%';const _0x2e65b2=document[_0x26600b(0x17e)](_0x26600b(0x1bd));if(_0x2d2e8d>0x64)_0x5cd803[_0x26600b(0x23f)][_0x26600b(0x1d5)]='var(--acc-red)',_0x2e65b2[_0x26600b(0x23f)][_0x26600b(0x1cd)]='rgba(255,\x2069,\x2058,\x200.3)';else _0x2d2e8d>0x50?(_0x5cd803[_0x26600b(0x23f)][_0x26600b(0x1d5)]=_0x26600b(0x1e6),_0x2e65b2[_0x26600b(0x23f)][_0x26600b(0x1cd)]=_0x26600b(0x186)):(_0x5cd803[_0x26600b(0x23f)][_0x26600b(0x1d5)]='var(--acc-green)',_0x2e65b2[_0x26600b(0x23f)]['borderColor']=_0x26600b(0xc7));const _0x227247=document['getElementById'](_0x26600b(0x104));_0x227247['innerHTML']='';_0x4fdd64[_0x26600b(0xd2)]===0x0?_0x227247[_0x26600b(0x1c6)]=_0x26600b(0x144):(_0x4fdd64['sort']((_0x8156bb,_0x2e1d99)=>_0x8156bb[_0x26600b(0x137)][_0x26600b(0x16c)](_0x2e1d99[_0x26600b(0x137)])),_0x4fdd64[_0x26600b(0x174)](_0x123ce2=>{const _0xdba1d1=_0x26600b,_0x4760a0=clients['find'](_0x27c953=>_0x27c953[_0xdba1d1(0x10c)]===_0x123ce2[_0xdba1d1(0x1bc)]),_0xc2cbee=_0x4760a0?_0x4760a0[_0xdba1d1(0x1d5)]:'#fff',_0x59a71a=_0x123ce2[_0xdba1d1(0x113)]===_0xdba1d1(0x1d3),_0x30d394=_0x59a71a?_0xdba1d1(0x23b):'',_0x5ce87a=document[_0xdba1d1(0x12a)](_0xdba1d1(0x170));_0x5ce87a[_0xdba1d1(0x1cf)]=_0xdba1d1(0x151),_0x5ce87a[_0xdba1d1(0x23f)][_0xdba1d1(0x21f)]=_0xc2cbee,_0x5ce87a['innerHTML']=_0xdba1d1(0x20a)+_0x123ce2[_0xdba1d1(0x137)]+_0xdba1d1(0x1fc)+_0x123ce2[_0xdba1d1(0x16e)]+_0xdba1d1(0x15b)+_0x123ce2[_0xdba1d1(0x1bc)]+_0xdba1d1(0x1e4)+_0x30d394+_0xdba1d1(0x1f0),_0x227247[_0xdba1d1(0xf2)](_0x5ce87a);}));const _0x512831=document[_0x26600b(0x17e)](_0x26600b(0x1df)),_0x5b3c66=dateExceptions[_0x482467]===_0x26600b(0x1db);_0x5b3c66?(_0x512831[_0x26600b(0x1eb)]=_0x26600b(0x12c),_0x512831[_0x26600b(0x1cf)]=_0x26600b(0xfe),_0x512831[_0x26600b(0x23f)][_0x26600b(0x1d5)]=_0x26600b(0x17c),_0x512831[_0x26600b(0x23f)]['background']=_0x26600b(0x20e)):(_0x512831[_0x26600b(0x1eb)]='–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º',_0x512831[_0x26600b(0x1cf)]='btn-primary\x20btn-danger',_0x512831['style']['color']=_0x26600b(0xd8),_0x512831[_0x26600b(0x23f)]['background']=_0x26600b(0x226)),openSheet('dayOptionsSheet');}let currentAnPeriod=a2_0x3728f8(0xd0);function openAnalytics(){const _0x3784b2=a2_0x3728f8,_0x1254d0=document[_0x3784b2(0x13c)](_0x3784b2(0x173));setAnalyticsPeriod('week',_0x1254d0),closeAllSheets(),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x545265,_0xa14c2c){const _0x2be29e=a2_0x3728f8;currentAnPeriod=_0x545265,document[_0x2be29e(0x165)](_0x2be29e(0x173))[_0x2be29e(0x174)](_0x12e1ae=>_0x12e1ae[_0x2be29e(0x1d9)][_0x2be29e(0x129)](_0x2be29e(0x1c2)));if(_0xa14c2c)_0xa14c2c['classList'][_0x2be29e(0x18c)](_0x2be29e(0x1c2));const _0x476a3c=document[_0x2be29e(0x17e)]('anCustomDates');_0x476a3c[_0x2be29e(0x23f)]['display']=_0x545265==='custom'?_0x2be29e(0x1fb):_0x2be29e(0xd9);const _0xbabc9c=new Date();let _0x18f1f6=new Date(),_0x3a0926=new Date();if(_0x545265==='week')_0x18f1f6=getStartOfWeek(_0xbabc9c),_0x3a0926=new Date(_0x18f1f6),_0x3a0926[_0x2be29e(0x166)](_0x3a0926[_0x2be29e(0x143)]()+0x6);else{if(_0x545265===_0x2be29e(0x198))_0x18f1f6=new Date(_0xbabc9c[_0x2be29e(0x221)](),_0xbabc9c['getMonth'](),0x1),_0x3a0926=new Date(_0xbabc9c[_0x2be29e(0x221)](),_0xbabc9c[_0x2be29e(0x105)]()+0x1,0x0);else{!document[_0x2be29e(0x17e)](_0x2be29e(0x1a0))[_0x2be29e(0x189)]&&(document['getElementById'](_0x2be29e(0x1a0))['value']=getLocalDateStr(_0xbabc9c),document[_0x2be29e(0x17e)](_0x2be29e(0xdf))['value']=getLocalDateStr(_0xbabc9c));refreshAnalytics();return;}}document[_0x2be29e(0x17e)](_0x2be29e(0x1a0))[_0x2be29e(0x189)]=getLocalDateStr(_0x18f1f6),document[_0x2be29e(0x17e)]('anEnd')[_0x2be29e(0x189)]=getLocalDateStr(_0x3a0926),refreshAnalytics();}function refreshAnalytics(){const _0x46545a=a2_0x3728f8,_0x3ca652=document[_0x46545a(0x17e)]('anStart')['value'],_0x31f842=document[_0x46545a(0x17e)](_0x46545a(0xdf))['value'];if(!_0x3ca652||!_0x31f842)return;const _0x474ff7=sessions['filter'](_0x32a323=>_0x32a323[_0x46545a(0x22c)]>=_0x3ca652&&_0x32a323['dateStr']<=_0x31f842&&_0x32a323[_0x46545a(0x113)]!=='cancelled'),_0x3c68e3=_0x474ff7[_0x46545a(0xd2)],_0x9ab9c2=_0x474ff7[_0x46545a(0x1dd)](_0x806d2c=>_0x806d2c[_0x46545a(0x113)]===_0x46545a(0x1d3))[_0x46545a(0xd2)],_0x3f7691=_0x3c68e3>0x0?Math[_0x46545a(0x168)](_0x9ab9c2/_0x3c68e3*0x64):0x0;document[_0x46545a(0x17e)]('anPercent')[_0x46545a(0x1eb)]=_0x3f7691+'%',document[_0x46545a(0x17e)]('anTotalStats')[_0x46545a(0x1eb)]=_0x9ab9c2+'\x20–∏–∑\x20'+_0x3c68e3+'\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ';const _0xf75351=document[_0x46545a(0x17e)](_0x46545a(0x1e2)),_0x17ce4=0x2*Math['PI']*0x23,_0x57bdd2=_0x17ce4-_0x3f7691/0x64*_0x17ce4;_0xf75351['style'][_0x46545a(0x21e)]=_0x57bdd2;const _0x660f6a={};_0x474ff7[_0x46545a(0x174)](_0x30b343=>{const _0x25e636=_0x46545a;if(!_0x660f6a[_0x30b343[_0x25e636(0x1bc)]]){const _0x349a67=clients[_0x25e636(0x11d)](_0x2e9eb7=>_0x2e9eb7[_0x25e636(0x10c)]===_0x30b343[_0x25e636(0x1bc)]);_0x660f6a[_0x30b343['client']]={'total':0x0,'done':0x0,'color':_0x349a67?_0x349a67[_0x25e636(0x1d5)]:_0x25e636(0x1a4)};}_0x660f6a[_0x30b343[_0x25e636(0x1bc)]][_0x25e636(0x212)]++;if(_0x30b343[_0x25e636(0x113)]===_0x25e636(0x1d3))_0x660f6a[_0x30b343['client']][_0x25e636(0x1e8)]++;});const _0x21924f=document['getElementById'](_0x46545a(0xfb));_0x21924f['innerHTML']='';const _0x34fbf8=Object[_0x46545a(0x13d)](_0x660f6a)[_0x46545a(0x15f)]((_0x141122,_0x6c945b)=>_0x6c945b[0x1][_0x46545a(0x212)]-_0x141122[0x1][_0x46545a(0x212)]);if(_0x34fbf8[_0x46545a(0xd2)]===0x0){_0x21924f['innerHTML']='<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>';return;}_0x34fbf8[_0x46545a(0x174)](([_0x37c644,_0x3036fc])=>{const _0x240d47=_0x46545a,_0x3b3a2b=Math['round'](_0x3036fc[_0x240d47(0x1e8)]/_0x3036fc[_0x240d47(0x212)]*0x64),_0x149609=document[_0x240d47(0x12a)](_0x240d47(0x170));_0x149609[_0x240d47(0x1cf)]=_0x240d47(0x155),_0x149609[_0x240d47(0x23f)]['borderLeftColor']=_0x3036fc[_0x240d47(0x1d5)],_0x149609[_0x240d47(0x1c6)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>'+_0x37c644+_0x240d47(0x208)+_0x3036fc[_0x240d47(0x1e8)]+'</span>\x20/\x20'+_0x3036fc[_0x240d47(0x212)]+_0x240d47(0x10a)+_0x3b3a2b+_0x240d47(0x1e5),_0x21924f[_0x240d47(0xf2)](_0x149609);});}function formatMinsToHrs(_0x2a6b41){const _0x41fa12=a2_0x3728f8;if(_0x2a6b41===0x0)return'0';const _0x8af74f=Math[_0x41fa12(0x163)](_0x2a6b41/0x3c),_0x4f4f02=_0x2a6b41%0x3c;if(_0x4f4f02===0x0)return _0x8af74f+'—á';return _0x8af74f+'—á\x20'+_0x4f4f02+'–º';}