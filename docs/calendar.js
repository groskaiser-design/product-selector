const a2_0x2f6abc=a2_0x2bf6;(function(_0x15d52e,_0x314994){const _0x3dbc2c=a2_0x2bf6,_0x4e13aa=_0x15d52e();while(!![]){try{const _0x5a260e=parseInt(_0x3dbc2c(0x1a5))/0x1*(parseInt(_0x3dbc2c(0x15a))/0x2)+-parseInt(_0x3dbc2c(0x12e))/0x3+parseInt(_0x3dbc2c(0x1e5))/0x4+-parseInt(_0x3dbc2c(0x1a2))/0x5*(-parseInt(_0x3dbc2c(0x18d))/0x6)+-parseInt(_0x3dbc2c(0x230))/0x7+-parseInt(_0x3dbc2c(0x15e))/0x8*(parseInt(_0x3dbc2c(0x155))/0x9)+parseInt(_0x3dbc2c(0x1ce))/0xa;if(_0x5a260e===_0x314994)break;else _0x4e13aa['push'](_0x4e13aa['shift']());}catch(_0x3e4e96){_0x4e13aa['push'](_0x4e13aa['shift']());}}}(a2_0x3434,0xdedd0),function initTMA(){const _0x3045fc=a2_0x2bf6;try{const _0x6ebff0=window[_0x3045fc(0x1eb)]?.['WebApp'];if(!_0x6ebff0)return;_0x6ebff0[_0x3045fc(0x1fb)](),_0x6ebff0[_0x3045fc(0x1cf)]();try{_0x6ebff0[_0x3045fc(0x17f)]('#050505'),_0x6ebff0[_0x3045fc(0x217)]&&_0x6ebff0[_0x3045fc(0x217)](_0x3045fc(0x19f));}catch(_0x284480){console[_0x3045fc(0x1ef)](_0x3045fc(0x178),_0x284480);}try{_0x6ebff0[_0x3045fc(0x21e)]&&(_0x6ebff0[_0x3045fc(0x21e)][_0x3045fc(0x170)](),_0x6ebff0[_0x3045fc(0x21e)][_0x3045fc(0x1e1)](),_0x6ebff0[_0x3045fc(0x21e)][_0x3045fc(0x184)](function(){const _0x5a6d2c=_0x3045fc;window['location']['href']=_0x5a6d2c(0x1d1);}));}catch(_0x530e9e){console[_0x3045fc(0x1ef)](_0x3045fc(0x20a),_0x530e9e);}try{if(_0x6ebff0[_0x3045fc(0x12b)])_0x6ebff0[_0x3045fc(0x12b)]();}catch(_0x1fbc7e){}}catch(_0x9e6b2e){console[_0x3045fc(0x19a)](_0x3045fc(0x276),_0x9e6b2e);}}());function isAdmin(){const _0x5126be=a2_0x2bf6;try{const _0x1dc43c=Number(window['Telegram']?.['WebApp']?.['initDataUnsafe']?.[_0x5126be(0x26b)]?.['id']);return _0x1dc43c===0xbaf7174;}catch(_0x5f58e3){return![];}}const APP_VERSION=a2_0x2f6abc(0x153),API_URL=a2_0x2f6abc(0x116),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x2f6abc(0x15f),KEY_SESSIONS='uc_sessions_v9',KEY_SETTINGS=a2_0x2f6abc(0x1c3);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x64ba80=a2_0x2f6abc;return window['Telegram']?.[_0x64ba80(0x280)]?.[_0x64ba80(0x122)]?.[_0x64ba80(0x26b)]?.['id']||'guest';},'saveLocally'(){const _0x4d6cda=a2_0x2f6abc;try{localStorage[_0x4d6cda(0x179)](KEY_CLIENTS,JSON[_0x4d6cda(0x1b4)](clients)),localStorage[_0x4d6cda(0x179)](KEY_SESSIONS,JSON[_0x4d6cda(0x1b4)](sessions)),localStorage[_0x4d6cda(0x179)](KEY_SETTINGS,JSON[_0x4d6cda(0x1b4)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x45c554){console[_0x4d6cda(0x19a)](_0x4d6cda(0x17b),_0x45c554);}},'loadLocal'(){const _0x18c92b=a2_0x2f6abc;try{const _0x36326e=localStorage[_0x18c92b(0x21b)](KEY_CLIENTS);if(_0x36326e)clients=JSON['parse'](_0x36326e);const _0xaaaf7e=localStorage[_0x18c92b(0x21b)](KEY_SESSIONS);if(_0xaaaf7e)sessions=JSON['parse'](_0xaaaf7e);const _0x262f89=localStorage[_0x18c92b(0x21b)](KEY_SETTINGS);if(_0x262f89){const _0x49b733=JSON[_0x18c92b(0x126)](_0x262f89);if(_0x49b733['pattern'])availabilityPattern=_0x49b733[_0x18c92b(0x146)];if(_0x49b733[_0x18c92b(0x14e)])dateExceptions=_0x49b733[_0x18c92b(0x14e)];if(_0x49b733[_0x18c92b(0x267)])specialRanges=_0x49b733[_0x18c92b(0x267)];}else{for(let _0x2a15e=0x0;_0x2a15e<0x7;_0x2a15e++)availabilityPattern[_0x2a15e]=Array[_0x18c92b(0x214)]({'length':0xc},(_0xd292e0,_0x48895d)=>_0x48895d+0x9);}}catch(_0x33558d){console[_0x18c92b(0x19a)](_0x18c92b(0x1fa),_0x33558d);}},async 'fetchFromServer'(_0x5a2a22,_0x114683={}){const _0x4e21b0=a2_0x2f6abc,_0x1c3d5a=window[_0x4e21b0(0x1eb)]?.[_0x4e21b0(0x280)],_0x267d6d={'action':_0x5a2a22,'init_data':_0x1c3d5a?.[_0x4e21b0(0x121)]||'',..._0x114683};try{const _0x1b069a=await fetch(API_URL,{'method':_0x4e21b0(0x177),'headers':{'Content-Type':_0x4e21b0(0x21f)},'body':JSON[_0x4e21b0(0x1b4)](_0x267d6d)}),_0x13c125=await _0x1b069a['json']();if(!_0x13c125['ok'])throw new Error(_0x13c125['error']||_0x4e21b0(0x16a));return _0x13c125[_0x4e21b0(0x165)];}catch(_0x17e1fb){console[_0x4e21b0(0x19a)](_0x4e21b0(0x176)+_0x5a2a22+']\x20Failed:',_0x17e1fb);throw _0x17e1fb;}},async 'syncLoad'(){const _0x1adca9=a2_0x2f6abc,_0x272676=new Date(),_0x5b2314=_0x272676[_0x1adca9(0x192)]()+'-'+String(_0x272676['getMonth']()+0x1)[_0x1adca9(0x1dc)](0x2,'0'),_0x2686a4=new Date(_0x272676);_0x2686a4[_0x1adca9(0x21d)](_0x272676[_0x1adca9(0x1f7)]()+0x1);const _0x598786=_0x2686a4[_0x1adca9(0x192)]()+'-'+String(_0x2686a4[_0x1adca9(0x1f7)]()+0x1)['padStart'](0x2,'0'),_0x2f238d=Date['now']();console[_0x1adca9(0x1ef)](_0x1adca9(0x14c)+_0x5b2314+',\x20'+_0x598786+_0x1adca9(0x283));try{const [_0x3f5f5b,_0x5e249e]=await Promise[_0x1adca9(0x25c)]([this['fetchFromServer'](_0x1adca9(0x213),{'month_str':_0x5b2314}),this[_0x1adca9(0x16d)](_0x1adca9(0x213),{'month_str':_0x598786})]);if(lastUserActionTime>_0x2f238d)return console[_0x1adca9(0x25a)]('[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response'),![];return this[_0x1adca9(0x161)](_0x3f5f5b,_0x5b2314),this['mergeServerData'](_0x5e249e,_0x598786),this[_0x1adca9(0x22b)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x4b9108){console[_0x1adca9(0x19a)](_0x4b9108);throw _0x4b9108;}},'mergeServerData'(_0x2b3382,_0x2b17ca){const _0x77af97=a2_0x2f6abc;if(!_0x2b3382)return;_0x2b3382['clients']&&Array[_0x77af97(0x27b)](_0x2b3382['clients'])&&(clients=_0x2b3382[_0x77af97(0x180)]);if(_0x2b3382[_0x77af97(0x1af)]){if(_0x2b3382[_0x77af97(0x1af)][_0x77af97(0x146)])availabilityPattern=_0x2b3382[_0x77af97(0x1af)][_0x77af97(0x146)];if(_0x2b3382[_0x77af97(0x1af)]['exceptions'])dateExceptions=_0x2b3382[_0x77af97(0x1af)][_0x77af97(0x14e)];if(_0x2b3382[_0x77af97(0x1af)][_0x77af97(0x267)])specialRanges=_0x2b3382[_0x77af97(0x1af)]['ranges'];if(_0x2b3382['settings'][_0x77af97(0x1cb)]){localStorage[_0x77af97(0x179)](_0x77af97(0x138),_0x2b3382[_0x77af97(0x1af)][_0x77af97(0x1cb)]);const _0x8359bd=document[_0x77af97(0x253)](_0x77af97(0x215));if(_0x8359bd)_0x8359bd[_0x77af97(0x114)]=_0x2b3382[_0x77af97(0x1af)]['cancel_window'];}}_0x2b3382[_0x77af97(0x1fe)]&&(sessions=sessions['filter'](_0x48cc35=>!_0x48cc35[_0x77af97(0x172)][_0x77af97(0x207)](_0x2b17ca)),Object[_0x77af97(0x242)](_0x2b3382[_0x77af97(0x1fe)])[_0x77af97(0x226)](_0x3b5ae6=>{const _0x17bd61=_0x77af97,_0x56da99=_0x2b3382[_0x17bd61(0x1fe)][_0x3b5ae6];_0x56da99['forEach'](_0x28b69b=>{const _0x25538e=_0x17bd61,_0x52a541=clients['find'](_0x221c32=>String(_0x221c32['id'])===String(_0x28b69b['c']));sessions[_0x25538e(0x13f)]({'id':_0x28b69b['i'],'clientId':_0x28b69b['c'],'client':_0x52a541?_0x52a541[_0x25538e(0x187)]:_0x25538e(0x21a),'dateStr':_0x2b17ca+'-'+_0x3b5ae6[_0x25538e(0x1dc)](0x2,'0'),'start':_0x28b69b['s'],'end':_0x28b69b['e'],'status':_0x28b69b['st']||_0x25538e(0x154),'note':_0x28b69b['n']||'','seriesId':_0x28b69b['sid']||null});});}));},async 'syncBatch'(_0x1d92f8){const _0x4137da=a2_0x2f6abc,_0x3bfb48=[...new Set(_0x1d92f8)],_0x41e51c=_0x3bfb48['map'](_0x283a78=>{const _0x45718b=a2_0x2bf6,_0x38683c=sessions[_0x45718b(0x15b)](_0x50c05=>_0x50c05[_0x45718b(0x172)]===_0x283a78&&_0x50c05[_0x45718b(0x1ae)]!==_0x45718b(0x1cc)),_0x1095f7=_0x38683c['map'](_0x4fdd6a=>({'i':_0x4fdd6a['id'],'c':_0x4fdd6a[_0x45718b(0x169)],'s':_0x4fdd6a[_0x45718b(0x120)],'e':_0x4fdd6a[_0x45718b(0x12c)],'st':_0x4fdd6a[_0x45718b(0x1ae)],'n':_0x4fdd6a[_0x45718b(0x259)],'sid':_0x4fdd6a[_0x45718b(0x150)]}));return{'date':_0x283a78,'day_data':_0x1095f7};});if(_0x41e51c[_0x4137da(0x255)]===0x0)return;console['log'](_0x4137da(0x222)+_0x41e51c[_0x4137da(0x255)]+'\x20days'),await this[_0x4137da(0x16d)]('batch_sync',{'changes':_0x41e51c});}};async function init(){const _0x5c7794=a2_0x2f6abc;DataManager[_0x5c7794(0x24a)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x5c7794(0x253)](_0x5c7794(0x240))['addEventListener'](_0x5c7794(0x1e6),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']()[_0x5c7794(0x19d)](()=>{const _0x4a808f=_0x5c7794;showToast(_0x4a808f(0x244),!![]);})[_0x5c7794(0x24f)](_0x360d39=>{showToast('–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º',![]);});}function generateId(){const _0x493d53=a2_0x2f6abc;return Date[_0x493d53(0x26c)]()[_0x493d53(0x201)](0x24)+Math[_0x493d53(0x1d5)]()[_0x493d53(0x201)](0x24)[_0x493d53(0x1ca)](0x2,0x5);}function toggleSeriesInput(){const _0x3cacfc=a2_0x2f6abc,_0x3e1aef=document[_0x3cacfc(0x253)](_0x3cacfc(0x262))['checked'],_0xaf6c08=document[_0x3cacfc(0x253)](_0x3cacfc(0x193));_0xaf6c08[_0x3cacfc(0x1f1)]['display']=_0x3e1aef?_0x3cacfc(0x18e):_0x3cacfc(0x204);const _0x34a066=document[_0x3cacfc(0x253)](_0x3cacfc(0x1ac));_0x34a066[_0x3cacfc(0x1f1)][_0x3cacfc(0x1d2)]=_0x3e1aef?_0x3cacfc(0x261):'10px';}function openAddSession(_0x5534d5){const _0x5815d7=a2_0x2f6abc;editingId=null,populateClientSelect(),document[_0x5815d7(0x253)](_0x5815d7(0x25e))[_0x5815d7(0x264)]=_0x5815d7(0x140),document[_0x5815d7(0x253)]('btnDelete')[_0x5815d7(0x1f1)][_0x5815d7(0x247)]=_0x5815d7(0x204),document[_0x5815d7(0x253)](_0x5815d7(0x135))[_0x5815d7(0x1f1)][_0x5815d7(0x247)]=_0x5815d7(0x204);const _0x15f497=document[_0x5815d7(0x253)](_0x5815d7(0x1ac)),_0x4de8da=document[_0x5815d7(0x253)](_0x5815d7(0x193));_0x15f497[_0x5815d7(0x1f1)][_0x5815d7(0x247)]=_0x5815d7(0x256),_0x15f497[_0x5815d7(0x1f1)]['borderRadius']='10px',document[_0x5815d7(0x253)]('inpRecurring')['checked']=![],document[_0x5815d7(0x253)](_0x5815d7(0x115))[_0x5815d7(0x114)]=0x4,_0x4de8da[_0x5815d7(0x1f1)][_0x5815d7(0x247)]=_0x5815d7(0x204),document[_0x5815d7(0x253)](_0x5815d7(0x112))[_0x5815d7(0x114)]=getLocalDateStr(_0x5534d5),updateDateDisplay();const _0x1dae9e=_0x5534d5[_0x5815d7(0x21c)]();document[_0x5815d7(0x253)](_0x5815d7(0x197))['value']=String(_0x1dae9e)['padStart'](0x2,'0')+_0x5815d7(0x16e),document[_0x5815d7(0x253)](_0x5815d7(0x260))[_0x5815d7(0x114)]=String(_0x1dae9e+0x1)[_0x5815d7(0x1dc)](0x2,'0')+':00',openSheet(_0x5815d7(0x246));}function openEdit(_0x5649ee){const _0x4080b5=a2_0x2f6abc;editingId=_0x5649ee['id'],populateClientSelect(),document[_0x4080b5(0x253)](_0x4080b5(0x25e))[_0x4080b5(0x264)]=_0x4080b5(0x1fc),document['getElementById'](_0x4080b5(0x1d6))['style'][_0x4080b5(0x247)]=_0x4080b5(0x18e);const _0x56d2c5=document[_0x4080b5(0x253)](_0x4080b5(0x135));_0x56d2c5['style'][_0x4080b5(0x247)]=_0x4080b5(0x256);_0x5649ee[_0x4080b5(0x1ae)]===_0x4080b5(0x1f8)?(_0x56d2c5['className']=_0x4080b5(0x10d),_0x56d2c5[_0x4080b5(0x185)]=_0x4080b5(0x10e)):(_0x56d2c5[_0x4080b5(0x113)]=_0x4080b5(0x205),_0x56d2c5[_0x4080b5(0x185)]=_0x4080b5(0x1a4));const _0x522527=!!_0x5649ee['seriesId'];document[_0x4080b5(0x253)](_0x4080b5(0x1ac))[_0x4080b5(0x1f1)]['display']=_0x4080b5(0x204),document[_0x4080b5(0x253)](_0x4080b5(0x193))[_0x4080b5(0x1f1)]['display']='none',_0x522527?(document['getElementById']('patternInfoBox')[_0x4080b5(0x1f1)][_0x4080b5(0x247)]=_0x4080b5(0x256),document['getElementById'](_0x4080b5(0x1ea))[_0x4080b5(0x265)](_0x4080b5(0x234))[_0x4080b5(0x264)]=_0x4080b5(0x235)):document[_0x4080b5(0x253)]('patternInfoBox')[_0x4080b5(0x1f1)][_0x4080b5(0x247)]=_0x4080b5(0x204),document['getElementById']('inpClient')[_0x4080b5(0x114)]=_0x5649ee[_0x4080b5(0x160)],document[_0x4080b5(0x253)](_0x4080b5(0x112))[_0x4080b5(0x114)]=_0x5649ee[_0x4080b5(0x172)],document[_0x4080b5(0x253)](_0x4080b5(0x197))[_0x4080b5(0x114)]=_0x5649ee[_0x4080b5(0x120)],document['getElementById'](_0x4080b5(0x260))['value']=_0x5649ee[_0x4080b5(0x12c)],document[_0x4080b5(0x253)](_0x4080b5(0x25d))['value']=_0x5649ee[_0x4080b5(0x259)]||'',updateDateDisplay(),openSheet('sessionSheet');}async function trySaveSession(){const _0x2c49c6=a2_0x2f6abc,_0x5d5816=document[_0x2c49c6(0x253)]('inpClient')['value'],_0x434edf=document[_0x2c49c6(0x253)](_0x2c49c6(0x112))['value'],_0x4c0dc5=document['getElementById'](_0x2c49c6(0x197))['value'],_0x198056=document[_0x2c49c6(0x253)]('inpEnd')[_0x2c49c6(0x114)],_0x21c894=document['getElementById'](_0x2c49c6(0x25d))[_0x2c49c6(0x114)],_0x31d4c3=document[_0x2c49c6(0x253)]('inpRecurring')[_0x2c49c6(0x1cd)];let _0x1d804b=0x4;if(_0x31d4c3){const _0x76d9b6=parseInt(document[_0x2c49c6(0x253)]('inpSeriesCount')[_0x2c49c6(0x114)]);if(!_0x76d9b6||_0x76d9b6<0x2){showToast(_0x2c49c6(0x1c0),![]);return;}if(_0x76d9b6>0x64){showToast(_0x2c49c6(0x216),![]);return;}_0x1d804b=_0x76d9b6;}const _0x46d43b=clients['find'](_0x997c25=>_0x997c25[_0x2c49c6(0x187)]===_0x5d5816);if(!_0x46d43b){showToast(_0x2c49c6(0x167),![]);return;}const _0x48c384=validateAppointment(_0x434edf,_0x4c0dc5,_0x198056,editingId,_0x46d43b['id']);if(!_0x48c384[_0x2c49c6(0x26f)]){showToast(_0x48c384['msg'],![]);return;}_0x48c384['warning']&&showToast(_0x48c384['warning'],![]);const _0x1a49f3={'client':_0x5d5816,'clientId':_0x46d43b['id'],'start':_0x4c0dc5,'end':_0x198056,'note':_0x21c894,'status':_0x2c49c6(0x154)},_0x469582=editingId?sessions[_0x2c49c6(0x134)](_0x15d648=>_0x15d648['id']===editingId):null;if(_0x469582&&_0x469582[_0x2c49c6(0x150)]){tempSessionData={..._0x1a49f3,'dateStr':_0x434edf,'id':editingId,'seriesId':_0x469582[_0x2c49c6(0x150)]},openActionSheet(_0x2c49c6(0x27c));return;}let _0x5a7983=null;if(!editingId)_0x5a7983=_0x2c49c6(0x239);else{if(_0x469582){if(String(_0x469582['clientId'])!==String(_0x46d43b['id']))console[_0x2c49c6(0x1ef)](_0x2c49c6(0x16f)),NotificationManager['send'](_0x2c49c6(0x13a),_0x469582),_0x5a7983=_0x2c49c6(0x239);else(_0x469582[_0x2c49c6(0x120)]!==_0x4c0dc5||_0x469582[_0x2c49c6(0x12c)]!==_0x198056||_0x469582[_0x2c49c6(0x172)]!==_0x434edf)&&(_0x5a7983=_0x2c49c6(0x1b2));}}if(!editingId&&_0x31d4c3){createBatchSeries(_0x1a49f3,_0x434edf,_0x1d804b),NotificationManager[_0x2c49c6(0x158)](_0x2c49c6(0x239),{..._0x1a49f3,'dateStr':_0x434edf});return;}lastUserActionTime=Date[_0x2c49c6(0x26c)]();const _0x50d4ec={..._0x1a49f3,'dateStr':_0x434edf,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x50d4ec),_0x5a7983&&NotificationManager[_0x2c49c6(0x158)](_0x5a7983,_0x50d4ec);}function toggleSessionStatus(){const _0xb99379=a2_0x2f6abc;lastUserActionTime=Date['now']();const _0x11406d=sessions[_0xb99379(0x134)](_0x5a199f=>_0x5a199f['id']===editingId);if(!_0x11406d)return;const _0x2023a0=_0x11406d[_0xb99379(0x1ae)]===_0xb99379(0x1f8)?_0xb99379(0x154):_0xb99379(0x1f8);_0x11406d[_0xb99379(0x1ae)]=_0x2023a0,saveSingleSession(_0x11406d),_0x2023a0===_0xb99379(0x1f8)&&NotificationManager['send'](_0xb99379(0x10f),_0x11406d),showToast(_0x2023a0===_0xb99379(0x1f8)?_0xb99379(0x194):_0xb99379(0x1be),!![]);}function validateAppointment(_0xc5fa7b,_0x43b2c5,_0x22e450,_0x5ba99f,_0x54726e){const _0x5aaf02=a2_0x2f6abc,[_0x977f15,_0x2a8fb9]=_0x43b2c5[_0x5aaf02(0x133)](':')[_0x5aaf02(0x224)](Number),[_0x2a19c6,_0x1e5a2e]=_0x22e450[_0x5aaf02(0x133)](':')[_0x5aaf02(0x224)](Number),_0x3cd15f=_0x977f15*0x3c+_0x2a8fb9,_0x5cc7b0=_0x2a19c6*0x3c+_0x1e5a2e,_0x3d08aa=String(_0x54726e);let _0x2648dd=![],_0x5a39e8='';for(let _0x27bb4f of sessions){if(_0x27bb4f['dateStr']!==_0xc5fa7b)continue;if(_0x27bb4f[_0x5aaf02(0x1ae)]==='cancelled')continue;if(_0x5ba99f&&String(_0x27bb4f['id'])===String(_0x5ba99f))continue;const [_0x14aaf1,_0x2492a8]=_0x27bb4f['start'][_0x5aaf02(0x133)](':')[_0x5aaf02(0x224)](Number),[_0x5d6c59,_0x2d0692]=_0x27bb4f[_0x5aaf02(0x12c)][_0x5aaf02(0x133)](':')[_0x5aaf02(0x224)](Number),_0x1b027e=_0x14aaf1*0x3c+_0x2492a8,_0x4899ec=_0x5d6c59*0x3c+_0x2d0692;if(Math['max'](_0x3cd15f,_0x1b027e)<Math[_0x5aaf02(0x131)](_0x5cc7b0,_0x4899ec)){if(_0x27bb4f[_0x5aaf02(0x169)]&&String(_0x27bb4f[_0x5aaf02(0x169)])===_0x3d08aa)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0x27bb4f['client']+_0x5aaf02(0x26e)};_0x2648dd=!![],_0x5a39e8=_0x27bb4f[_0x5aaf02(0x160)];}}if(_0x2648dd)return{'valid':!![],'warning':_0x5aaf02(0x281)+_0x5a39e8};return{'valid':!![]};}function saveSingleSession(_0x16666d){const _0x56dec5=a2_0x2f6abc;if(editingId){const _0x476d64=sessions['findIndex'](_0x4c0e10=>_0x4c0e10['id']===editingId);if(_0x476d64!==-0x1)sessions[_0x476d64]=_0x16666d;}else sessions[_0x56dec5(0x13f)](_0x16666d);afterSaveAction([_0x16666d['dateStr']]);}function createBatchSeries(_0x3341c6,_0x5a0fb5,_0x2d0b5c){const _0x8177a9=a2_0x2f6abc,_0x43a8e8=generateId(),_0x2202ed=[],_0x5b0360=[];let _0x13c4fd=0x0,_0x474f8e=new Date(_0x5a0fb5);for(let _0x2d50c0=0x0;_0x2d50c0<_0x2d0b5c;_0x2d50c0++){const _0x409d0b=getLocalDateStr(_0x474f8e),_0x5d4ab7=validateAppointment(_0x409d0b,_0x3341c6[_0x8177a9(0x120)],_0x3341c6[_0x8177a9(0x12c)],null,_0x3341c6[_0x8177a9(0x169)]);if(!_0x5d4ab7[_0x8177a9(0x26f)])console[_0x8177a9(0x1ef)](_0x8177a9(0x20b)+_0x409d0b+_0x8177a9(0x209)),_0x13c4fd++;else{const _0x182485={..._0x3341c6,'id':generateId(),'dateStr':_0x409d0b,'seriesId':_0x43a8e8};_0x5b0360[_0x8177a9(0x13f)](_0x182485),_0x2202ed[_0x8177a9(0x13f)](_0x409d0b);}_0x474f8e[_0x8177a9(0x208)](_0x474f8e[_0x8177a9(0x159)]()+0x7);}if(_0x5b0360[_0x8177a9(0x255)]===0x0){showToast('–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!',![]);return;}sessions[_0x8177a9(0x13f)](..._0x5b0360),lastUserActionTime=Date[_0x8177a9(0x26c)]();let _0x8ac560=_0x8177a9(0x23a)+_0x5b0360['length'];_0x13c4fd>0x0&&(_0x8ac560+=_0x8177a9(0x1a7)+_0x13c4fd+')'),showToast(_0x8ac560,!![]),afterSaveAction(_0x2202ed);}function updateSeriesBatch(_0x5cab3f,_0x2f841b){const _0x44e661=a2_0x2f6abc,_0x42971f=[],_0x51647d=_0x2f841b[_0x44e661(0x150)];if(_0x5cab3f===_0x44e661(0x11a)){const _0x4a41c3={..._0x2f841b,'seriesId':null},_0x3a8394=sessions[_0x44e661(0x1b3)](_0x26f4f5=>_0x26f4f5['id']===_0x2f841b['id']);if(_0x3a8394!==-0x1)sessions[_0x3a8394]=_0x4a41c3;_0x42971f[_0x44e661(0x13f)](_0x4a41c3[_0x44e661(0x172)]);}else{if(_0x5cab3f==='series'){const _0x2fcc71=_0x2f841b[_0x44e661(0x172)];sessions[_0x44e661(0x226)]((_0x58bd26,_0x3a14e1)=>{const _0x368446=_0x44e661;_0x58bd26[_0x368446(0x150)]===_0x51647d&&_0x58bd26[_0x368446(0x172)]>=_0x2fcc71&&(sessions[_0x3a14e1]={...sessions[_0x3a14e1],'start':_0x2f841b[_0x368446(0x120)],'end':_0x2f841b[_0x368446(0x12c)],'note':_0x2f841b['note'],'client':_0x2f841b[_0x368446(0x160)],'clientId':_0x2f841b[_0x368446(0x169)]},_0x42971f['push'](_0x58bd26['dateStr']));});}}afterSaveAction(_0x42971f);}function tryDeleteSession(){const _0x1b9661=a2_0x2f6abc,_0x515962=sessions[_0x1b9661(0x134)](_0x2c4658=>_0x2c4658['id']===editingId);if(!_0x515962)return;_0x515962[_0x1b9661(0x150)]?openActionSheet(_0x1b9661(0x1a3)):commitDelete(_0x1b9661(0x11a),_0x515962);}function commitDelete(_0x2d22ab,_0x2f3690){const _0x22e4b6=a2_0x2f6abc;lastUserActionTime=Date[_0x22e4b6(0x26c)](),NotificationManager['send']('cancel',_0x2f3690);const _0x447dab=[];if(_0x2d22ab===_0x22e4b6(0x11a))sessions=sessions['filter'](_0x55468a=>_0x55468a['id']!==_0x2f3690['id']),_0x447dab['push'](_0x2f3690['dateStr']);else{if(_0x2d22ab===_0x22e4b6(0x269)){const _0x53b321=_0x2f3690[_0x22e4b6(0x172)],_0x105780=_0x2f3690[_0x22e4b6(0x150)];sessions['forEach'](_0x3bc3bc=>{const _0x1d60b4=_0x22e4b6;_0x3bc3bc[_0x1d60b4(0x150)]===_0x105780&&_0x3bc3bc[_0x1d60b4(0x172)]>=_0x53b321&&_0x447dab[_0x1d60b4(0x13f)](_0x3bc3bc[_0x1d60b4(0x172)]);}),sessions=sessions[_0x22e4b6(0x15b)](_0x36eaea=>!(_0x36eaea[_0x22e4b6(0x150)]===_0x105780&&_0x36eaea[_0x22e4b6(0x172)]>=_0x53b321));}}afterSaveAction(_0x447dab);}function afterSaveAction(_0x1a6042){const _0x23fa88=a2_0x2f6abc;DataManager['saveLocally'](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x23fa88(0x11b)](_0x1a6042)[_0x23fa88(0x19d)](()=>console[_0x23fa88(0x1ef)](_0x23fa88(0x1bb)))[_0x23fa88(0x24f)](_0x2d8975=>showToast(_0x23fa88(0x1b8),![]));}const NotificationManager={'formatDate'(_0x1cf882){const _0x7a1006=a2_0x2f6abc,_0x45871f=new Date(_0x1cf882),_0x5da72f={'weekday':_0x7a1006(0x14f),'day':'numeric','month':_0x7a1006(0x14f)};let _0x1cb598=_0x45871f[_0x7a1006(0x22f)](_0x7a1006(0x27e),_0x5da72f);return _0x1cb598[_0x7a1006(0x25b)](0x0)[_0x7a1006(0x1e4)]()+_0x1cb598['slice'](0x1);},'getText'(_0x40d591,_0xf05e7f){const _0x2e3086=a2_0x2f6abc,_0x3d6620=this[_0x2e3086(0x1db)](_0xf05e7f['dateStr']);switch(_0x40d591){case _0x2e3086(0x239):return _0x2e3086(0x24e)+(_0x2e3086(0x223)+_0x3d6620+'\x0a')+(_0x2e3086(0x164)+_0xf05e7f[_0x2e3086(0x120)]+'\x20‚Äî\x20'+_0xf05e7f[_0x2e3086(0x12c)]+'\x0a\x0a')+'–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™';case _0x2e3086(0x1b2):return'<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a'+_0x2e3086(0x268)+(_0x2e3086(0x17d)+_0xf05e7f['start']+_0x2e3086(0x1b7)+_0xf05e7f[_0x2e3086(0x12c)]+_0x2e3086(0x137))+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0x3d6620);case'cancel':return _0x2e3086(0x19c)+('–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>'+_0x3d6620+'\x20('+_0xf05e7f['start']+_0x2e3086(0x1bf));case _0x2e3086(0x10f):return _0x2e3086(0x277)+_0x2e3086(0x279)+_0x2e3086(0x23f);default:return'';}},async 'send'(_0x33c433,_0x350e69){const _0x3c0f04=a2_0x2f6abc;console[_0x3c0f04(0x1ef)]('[Notify]\x20Attempting\x20to\x20send:',_0x33c433,_0x350e69);if(!_0x350e69){console[_0x3c0f04(0x19a)](_0x3c0f04(0x274));return;}const _0x4ac571=String(_0x350e69[_0x3c0f04(0x169)]);console[_0x3c0f04(0x1ef)](_0x3c0f04(0x11c),_0x4ac571);if(!_0x350e69[_0x3c0f04(0x169)]||_0x4ac571===_0x3c0f04(0x1e8)||_0x4ac571==='null'){console[_0x3c0f04(0x19a)](_0x3c0f04(0x166));if(_0x350e69[_0x3c0f04(0x160)]){const _0x48c79c=clients[_0x3c0f04(0x134)](_0x567687=>_0x567687['name']===_0x350e69[_0x3c0f04(0x160)]);if(_0x48c79c)return console[_0x3c0f04(0x1ef)]('[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:',_0x48c79c['id']),this[_0x3c0f04(0x158)](_0x33c433,{..._0x350e69,'clientId':_0x48c79c['id']});}return;}if(_0x4ac571[_0x3c0f04(0x255)]<0x5){console[_0x3c0f04(0x25a)]('[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)',_0x4ac571);return;}const _0x2af8c8=this['getText'](_0x33c433,_0x350e69);if(!_0x2af8c8){console['error'](_0x3c0f04(0x19e));return;}console[_0x3c0f04(0x1ef)](_0x3c0f04(0x13b)+_0x4ac571+_0x3c0f04(0x283)),DataManager[_0x3c0f04(0x16d)](_0x3c0f04(0x10b),{'chatId':_0x4ac571,'text':_0x2af8c8})['then'](_0x1719ff=>console[_0x3c0f04(0x1ef)](_0x3c0f04(0x11d),_0x1719ff))['catch'](_0x4f6efd=>console[_0x3c0f04(0x19a)]('[Notify]\x20Network\x20Failed',_0x4f6efd));}};function getLocalDateStr(_0x5e5827){const _0x571a4a=a2_0x2f6abc,_0xacc279=_0x5e5827[_0x571a4a(0x192)](),_0x3d5224=String(_0x5e5827['getMonth']()+0x1)[_0x571a4a(0x1dc)](0x2,'0'),_0x2b3368=String(_0x5e5827['getDate']())[_0x571a4a(0x1dc)](0x2,'0');return _0xacc279+'-'+_0x3d5224+'-'+_0x2b3368;}function getDateStr(_0x4f6171){const _0x12ab6f=a2_0x2f6abc,_0x212796=new Date();return _0x212796[_0x12ab6f(0x208)](_0x212796[_0x12ab6f(0x159)]()+_0x4f6171),getLocalDateStr(_0x212796);}function getStartOfWeek(_0x1091f9){const _0x1bb5a9=a2_0x2f6abc,_0x426dde=(function(){let _0x45ca87=!![];return function(_0x21c9cc,_0x10d7c4){const _0x316c84=_0x45ca87?function(){if(_0x10d7c4){const _0x3391dc=_0x10d7c4['apply'](_0x21c9cc,arguments);return _0x10d7c4=null,_0x3391dc;}}:function(){};return _0x45ca87=![],_0x316c84;};}()),_0x1971ea=_0x426dde(this,function(){const _0x1927db=a2_0x2bf6;return _0x1971ea[_0x1927db(0x201)]()[_0x1927db(0x175)]('(((.+)+)+)+$')[_0x1927db(0x201)]()[_0x1927db(0x243)](_0x1971ea)[_0x1927db(0x175)](_0x1927db(0x23d));});_0x1971ea();const _0x527130=new Date(_0x1091f9),_0x4ea1f6=_0x527130['getDay'](),_0x518ec9=_0x527130[_0x1bb5a9(0x159)]()-_0x4ea1f6+(_0x4ea1f6===0x0?-0x6:0x1);return _0x527130[_0x1bb5a9(0x208)](_0x518ec9),_0x527130[_0x1bb5a9(0x1d7)](0x0,0x0,0x0,0x0),_0x527130;}function hexToRgba(_0x5e5103,_0x5bb438){const _0x4f5f3e=a2_0x2f6abc;if(!_0x5e5103)return'rgba(100,100,100,0.5)';let _0xcadca7=0x0,_0x14f1d1=0x0,_0x50cf97=0x0;if(_0x5e5103[_0x4f5f3e(0x255)]===0x4)_0xcadca7='0x'+_0x5e5103[0x1]+_0x5e5103[0x1],_0x14f1d1='0x'+_0x5e5103[0x2]+_0x5e5103[0x2],_0x50cf97='0x'+_0x5e5103[0x3]+_0x5e5103[0x3];else _0x5e5103[_0x4f5f3e(0x255)]===0x7&&(_0xcadca7='0x'+_0x5e5103[0x1]+_0x5e5103[0x2],_0x14f1d1='0x'+_0x5e5103[0x3]+_0x5e5103[0x4],_0x50cf97='0x'+_0x5e5103[0x5]+_0x5e5103[0x6]);return _0x4f5f3e(0x23e)+ +_0xcadca7+',\x20'+ +_0x14f1d1+',\x20'+ +_0x50cf97+',\x20'+_0x5bb438+')';}function renderTimeColumn(){const _0x3c3452=a2_0x2f6abc,_0x1ddcba=document[_0x3c3452(0x253)](_0x3c3452(0x203)),_0x3410d9=document[_0x3c3452(0x253)](_0x3c3452(0x18c));_0x1ddcba[_0x3c3452(0x185)]='',_0x1ddcba[_0x3c3452(0x1df)](_0x3410d9);for(let _0x8a28bf=0x0;_0x8a28bf<0x18;_0x8a28bf++){const _0x56c499=document[_0x3c3452(0x20e)](_0x3c3452(0x13d));_0x56c499[_0x3c3452(0x113)]=_0x3c3452(0x1c2);if(_0x8a28bf>0x0)_0x56c499[_0x3c3452(0x185)]=_0x3c3452(0x211)+String(_0x8a28bf)[_0x3c3452(0x1dc)](0x2,'0')+':00</span>';_0x1ddcba['appendChild'](_0x56c499);}}function renderDayRange(_0x54c9b1,_0x282e76){const _0x32fdbd=a2_0x2f6abc,_0x5b8b42=document[_0x32fdbd(0x253)]('daysHeaderTrack'),_0x3e9d4a=document['getElementById'](_0x32fdbd(0x16c)),_0x1a3a47=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x15c34c=new Date();_0x15c34c[_0x32fdbd(0x1d7)](0x0,0x0,0x0,0x0);const _0x44e8d5=getLocalDateStr(new Date());for(let _0x3d863c=_0x54c9b1;_0x3d863c<=_0x282e76;_0x3d863c++){const _0x4bd491=new Date(_0x15c34c);_0x4bd491[_0x32fdbd(0x208)](_0x4bd491[_0x32fdbd(0x159)]()+_0x3d863c);const _0xd7be6b=getLocalDateStr(_0x4bd491);let _0x2aa7a9=_0x4bd491[_0x32fdbd(0x127)]()-0x1;if(_0x2aa7a9===-0x1)_0x2aa7a9=0x6;const _0x263145=_0xd7be6b===_0x44e8d5,_0x360ae3=document[_0x32fdbd(0x20e)](_0x32fdbd(0x13d));_0x360ae3[_0x32fdbd(0x113)]=_0x32fdbd(0x1de)+(_0x263145?'today':''),_0x360ae3['id']='header-'+_0xd7be6b,_0x360ae3['setAttribute']('data-date',_0xd7be6b),_0x360ae3['innerHTML']=_0x32fdbd(0x18a)+_0x1a3a47[_0x2aa7a9]+_0x32fdbd(0x227)+_0x4bd491['getDate']()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0xd7be6b+_0x32fdbd(0x144),_0x360ae3['onclick']=()=>openDayOptions(_0xd7be6b,_0x1a3a47[_0x2aa7a9]+'\x20'+_0x4bd491[_0x32fdbd(0x159)]()),_0x5b8b42[_0x32fdbd(0x1df)](_0x360ae3);const _0x526f13=document[_0x32fdbd(0x20e)](_0x32fdbd(0x13d));_0x526f13['className']='day-column\x20'+(_0x263145?_0x32fdbd(0x270):''),_0x526f13[_0x32fdbd(0x20f)]('data-date',_0xd7be6b),_0x526f13[_0x32fdbd(0x20f)](_0x32fdbd(0x1b1),_0x2aa7a9),renderEventsForColumn(_0x526f13,_0xd7be6b,_0x2aa7a9),attachLongPressHandler(_0x526f13,_0x4bd491),_0x3e9d4a[_0x32fdbd(0x1df)](_0x526f13),updateDayStats(_0xd7be6b);}}function reRenderBlocks(){const _0x55bbcd=a2_0x2f6abc;document[_0x55bbcd(0x149)](_0x55bbcd(0x190))[_0x55bbcd(0x226)](_0x323030=>{const _0x53690f=_0x55bbcd;_0x323030[_0x53690f(0x149)](_0x53690f(0x1d0))[_0x53690f(0x226)](_0xc2d156=>_0xc2d156[_0x53690f(0x1d9)]());const _0x1ae19c=_0x323030[_0x53690f(0x139)](_0x53690f(0x24c)),_0x4a862a=parseInt(_0x323030[_0x53690f(0x139)]('data-day-idx')),_0x164ee2=Math[_0x53690f(0x237)](_0x323030[_0x53690f(0x13c)]);(availabilityPattern[_0x4a862a]||[])[_0x53690f(0x226)](_0x57b230=>{const _0x12b5e5=_0x53690f,_0x2a7414=document['createElement'](_0x12b5e5(0x13d));_0x2a7414['className']='blocked-slot\x20stripe-bg';const _0x522458=_0x57b230*GRID_H;_0x2a7414[_0x12b5e5(0x1f1)][_0x12b5e5(0x1ec)]=_0x522458+'px',_0x2a7414[_0x12b5e5(0x1f1)][_0x12b5e5(0x278)]='-'+_0x164ee2+'px\x20-'+_0x522458+'px',_0x323030[_0x12b5e5(0x1df)](_0x2a7414);});if(specialRanges&&specialRanges[_0x53690f(0x255)]>0x0){const _0x51febf=new Date(_0x1ae19c+_0x53690f(0x202))['getTime'](),_0x3824b3=new Date(_0x1ae19c+_0x53690f(0x22e))['getTime']();specialRanges[_0x53690f(0x226)](_0x3e1e2c=>{const _0x2c488b=_0x53690f,_0x3c8ef9=new Date(_0x3e1e2c[_0x2c488b(0x120)])[_0x2c488b(0x18f)](),_0x3438e9=new Date(_0x3e1e2c[_0x2c488b(0x12c)])[_0x2c488b(0x18f)](),_0x2023ee=Math[_0x2c488b(0x196)](_0x51febf,_0x3c8ef9),_0x105edd=Math[_0x2c488b(0x131)](_0x3824b3,_0x3438e9);if(_0x2023ee<_0x105edd){if(_0x2023ee<=_0x51febf&&_0x105edd>=_0x3824b3-0xea60){if(!_0x323030[_0x2c488b(0x265)](_0x2c488b(0x1da))){const _0x5112a3=document[_0x2c488b(0x20e)](_0x2c488b(0x13d));_0x5112a3[_0x2c488b(0x113)]='day-off-overlay\x20stripe-bg',_0x5112a3['style']['backgroundPosition']='-'+_0x164ee2+'px\x200px',_0x323030['appendChild'](_0x5112a3);}}else{const _0x336698=(_0x2023ee-_0x51febf)/0x36ee80*GRID_H,_0x461332=(_0x105edd-_0x2023ee)/0x36ee80*GRID_H,_0x42b79c=document['createElement'](_0x2c488b(0x13d));_0x42b79c['className']='blocked-range-part\x20stripe-bg',_0x42b79c[_0x2c488b(0x1f1)][_0x2c488b(0x1ec)]=_0x336698+'px',_0x42b79c['style'][_0x2c488b(0x143)]=_0x461332+'px',_0x42b79c[_0x2c488b(0x1f1)][_0x2c488b(0x278)]='-'+_0x164ee2+'px\x20-'+_0x336698+'px',_0x323030[_0x2c488b(0x1df)](_0x42b79c);}}});}if(dateExceptions[_0x1ae19c]===_0x53690f(0x22c)){if(!_0x323030[_0x53690f(0x265)](_0x53690f(0x1da))){const _0x4bb4a6=document['createElement'](_0x53690f(0x13d));_0x4bb4a6[_0x53690f(0x113)]=_0x53690f(0x1d3),_0x4bb4a6[_0x53690f(0x1f1)][_0x53690f(0x278)]='-'+_0x164ee2+_0x53690f(0x275),_0x323030[_0x53690f(0x1df)](_0x4bb4a6);}}renderEventsForColumn(_0x323030,_0x1ae19c,_0x4a862a),updateDayStats(_0x1ae19c);});}function updateAllDayStats(){const _0x12b82a=a2_0x2f6abc;document[_0x12b82a(0x149)](_0x12b82a(0x20c))[_0x12b82a(0x226)](_0x4bf87f=>{const _0x10721a=_0x12b82a;updateDayStats(_0x4bf87f[_0x10721a(0x139)]('data-date'));});}function updateDayStats(_0x56912b){const _0x3277d9=a2_0x2f6abc,_0x59bfc0=document[_0x3277d9(0x253)](_0x3277d9(0x1e3)+_0x56912b);if(!_0x59bfc0)return;const _0x51e107=new Date(_0x56912b);let _0x371c5d=_0x51e107[_0x3277d9(0x127)]()-0x1;if(_0x371c5d===-0x1)_0x371c5d=0x6;if(dateExceptions[_0x56912b]==='off'){_0x59bfc0[_0x3277d9(0x1f1)]['display']=_0x3277d9(0x204);return;}const _0x3e1287=availabilityPattern[_0x371c5d]||[],_0x78b19e=0x18-_0x3e1287[_0x3277d9(0x255)],_0x167ef4=_0x78b19e*0x3c,_0x20bfe2=sessions['filter'](_0x260c7d=>_0x260c7d[_0x3277d9(0x172)]===_0x56912b&&_0x260c7d[_0x3277d9(0x1ae)]!==_0x3277d9(0x241));if(_0x20bfe2[_0x3277d9(0x255)]===0x0){_0x59bfc0[_0x3277d9(0x1f1)]['display']=_0x3277d9(0x204);return;}let _0x2342b2=_0x20bfe2[_0x3277d9(0x224)](_0x31cb12=>{const _0x529a8d=_0x3277d9,[_0x45e91d,_0x2031bb]=_0x31cb12['start']['split'](':')[_0x529a8d(0x224)](Number),[_0x4460d2,_0x460fbd]=_0x31cb12[_0x529a8d(0x12c)]['split'](':')[_0x529a8d(0x224)](Number);return[_0x45e91d*0x3c+_0x2031bb,_0x4460d2*0x3c+_0x460fbd];});_0x2342b2[_0x3277d9(0x1c5)]((_0xbe8066,_0x5e77c8)=>_0xbe8066[0x0]-_0x5e77c8[0x0]);let _0x1a3ad5=[];if(_0x2342b2[_0x3277d9(0x255)]>0x0){let _0x503a9f=_0x2342b2[0x0];for(let _0x1dd3d2=0x1;_0x1dd3d2<_0x2342b2[_0x3277d9(0x255)];_0x1dd3d2++){_0x2342b2[_0x1dd3d2][0x0]<_0x503a9f[0x1]?_0x503a9f[0x1]=Math[_0x3277d9(0x196)](_0x503a9f[0x1],_0x2342b2[_0x1dd3d2][0x1]):(_0x1a3ad5[_0x3277d9(0x13f)](_0x503a9f),_0x503a9f=_0x2342b2[_0x1dd3d2]);}_0x1a3ad5[_0x3277d9(0x13f)](_0x503a9f);}let _0x3f8f38=0x0;_0x1a3ad5[_0x3277d9(0x226)](_0x20fb05=>_0x3f8f38+=_0x20fb05[0x1]-_0x20fb05[0x0]),_0x59bfc0['style'][_0x3277d9(0x247)]=_0x3277d9(0x256);const _0xfd4cbe=_0x59bfc0[_0x3277d9(0x265)]('.dch-stats-fill');if(_0x167ef4===0x0){_0xfd4cbe[_0x3277d9(0x1f1)]['width']=_0x3277d9(0x20d),_0xfd4cbe[_0x3277d9(0x1f1)][_0x3277d9(0x1f3)]=_0x3277d9(0x15c);return;}const _0x46361c=_0x3f8f38/_0x167ef4*0x64;console['log']('['+_0x56912b+_0x3277d9(0x128)+_0x78b19e+_0x3277d9(0x174)+_0x3f8f38+_0x3277d9(0x252)+_0x46361c['toFixed'](0x1)+'%'),_0x46361c>0x64?(_0xfd4cbe[_0x3277d9(0x1f1)]['width']=_0x3277d9(0x20d),_0xfd4cbe[_0x3277d9(0x1f1)][_0x3277d9(0x1f3)]=_0x3277d9(0x15c)):(_0xfd4cbe[_0x3277d9(0x1f1)][_0x3277d9(0x151)]=_0x46361c+'%',_0xfd4cbe['style']['background']='var(--acc-current)');}function renderEventsForColumn(_0xad72dc,_0x410f1e,_0x28d9c0){const _0x565a15=a2_0x2f6abc,_0x20c24f=sessions[_0x565a15(0x15b)](_0x4190fc=>_0x4190fc[_0x565a15(0x172)]===_0x410f1e),_0x19d3cc=_0x20c24f[_0x565a15(0x224)](_0x1e3900=>{const _0x401f91=_0x565a15,[_0x1b26b6,_0x20f781]=_0x1e3900[_0x401f91(0x120)]['split'](':')['map'](Number),[_0x147208,_0x20e169]=_0x1e3900[_0x401f91(0x12c)][_0x401f91(0x133)](':')[_0x401f91(0x224)](Number);return{'data':_0x1e3900,'start':_0x1b26b6*0x3c+_0x20f781,'end':_0x147208*0x3c+_0x20e169,'colIndex':0x0};});_0x19d3cc[_0x565a15(0x1c5)]((_0x2cc2aa,_0x3a9763)=>{const _0x54d275=_0x565a15;if(_0x2cc2aa[_0x54d275(0x120)]!==_0x3a9763[_0x54d275(0x120)])return _0x2cc2aa['start']-_0x3a9763[_0x54d275(0x120)];return _0x3a9763[_0x54d275(0x12c)]-_0x3a9763[_0x54d275(0x120)]-(_0x2cc2aa['end']-_0x2cc2aa[_0x54d275(0x120)]);});const _0x24a120=[];_0x19d3cc[_0x565a15(0x226)](_0x5d2362=>{const _0x2a5e44=_0x565a15;let _0x9d21a0=![];for(let _0x22a384=0x0;_0x22a384<_0x24a120[_0x2a5e44(0x255)];_0x22a384++){const _0x32cd10=_0x24a120[_0x22a384],_0x1355c8=_0x32cd10[_0x32cd10[_0x2a5e44(0x255)]-0x1];if(_0x5d2362['start']>=_0x1355c8[_0x2a5e44(0x12c)]){_0x32cd10[_0x2a5e44(0x13f)](_0x5d2362),_0x5d2362[_0x2a5e44(0x171)]=_0x22a384,_0x9d21a0=!![];break;}}!_0x9d21a0&&(_0x24a120[_0x2a5e44(0x13f)]([_0x5d2362]),_0x5d2362[_0x2a5e44(0x171)]=_0x24a120['length']-0x1);}),_0x19d3cc['forEach'](_0x23b832=>{const _0x270075=_0x565a15;let _0x1ba66a=0x0;_0x19d3cc[_0x270075(0x226)](_0x85469a=>{const _0xc256ad=_0x270075;if(Math['max'](_0x23b832['start'],_0x85469a[_0xc256ad(0x120)])<Math[_0xc256ad(0x131)](_0x23b832[_0xc256ad(0x12c)],_0x85469a[_0xc256ad(0x12c)])){if(_0x85469a['colIndex']>_0x1ba66a)_0x1ba66a=_0x85469a[_0xc256ad(0x171)];}});const _0x2c8aaf=_0x1ba66a+0x1,_0x5b9fca=0x64/_0x2c8aaf,_0x12f2de=_0x23b832[_0x270075(0x171)]*_0x5b9fca,_0xce7d4d=createEventEl(_0x23b832['data']);_0xce7d4d[_0x270075(0x1f1)][_0x270075(0x151)]=_0x270075(0x191)+_0x5b9fca+_0x270075(0x10c),_0xce7d4d[_0x270075(0x1f1)][_0x270075(0x1dd)]=_0x270075(0x191)+_0x12f2de+'%\x20+\x202px)',_0xce7d4d['style'][_0x270075(0x254)]=0xa+_0x23b832[_0x270075(0x171)],_0x5b9fca<0x55&&_0xce7d4d[_0x270075(0x1a6)][_0x270075(0x119)]('mini'),_0xad72dc['appendChild'](_0xce7d4d);});}function createEventEl(_0x22291a){const _0x100001=a2_0x2f6abc,[_0x1d3916,_0x89f4]=_0x22291a[_0x100001(0x120)][_0x100001(0x133)](':')[_0x100001(0x224)](Number),[_0x22f5ae,_0x3087ac]=_0x22291a[_0x100001(0x12c)][_0x100001(0x133)](':')[_0x100001(0x224)](Number),_0x40d15d=(_0x1d3916*0x3c+_0x89f4)/0x3c*GRID_H,_0x2b753b=(_0x22f5ae*0x3c+_0x3087ac-(_0x1d3916*0x3c+_0x89f4))/0x3c*GRID_H,_0x12d72a=document[_0x100001(0x20e)](_0x100001(0x13d)),_0x8633bd=_0x22291a[_0x100001(0x1ae)]===_0x100001(0x1f8)?'\x20status-completed':'';_0x12d72a[_0x100001(0x113)]=_0x100001(0x1a0)+_0x8633bd,_0x12d72a[_0x100001(0x1f1)]['top']=_0x40d15d+'px',_0x12d72a[_0x100001(0x1f1)][_0x100001(0x143)]=Math[_0x100001(0x196)](_0x2b753b,0x14)+'px';const _0x1485dd=clients[_0x100001(0x134)](_0x5ea8f8=>_0x22291a['clientId']&&String(_0x5ea8f8['id'])===String(_0x22291a[_0x100001(0x169)])||_0x5ea8f8[_0x100001(0x187)]===_0x22291a[_0x100001(0x160)]),_0x3b7c0f=_0x1485dd?_0x1485dd[_0x100001(0x1ee)]:'#0a84ff';_0x12d72a[_0x100001(0x1f1)]['borderLeftColor']=_0x3b7c0f,_0x12d72a[_0x100001(0x1f1)][_0x100001(0x22d)]=hexToRgba(_0x3b7c0f,0.85);let _0x47a0a9=_0x100001(0x284)+_0x22291a[_0x100001(0x160)]+_0x100001(0x25f)+_0x22291a['start']+_0x100001(0x200)+_0x22291a[_0x100001(0x12c)]+_0x100001(0x198);return _0x22291a[_0x100001(0x150)]&&(_0x47a0a9+='<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>'),_0x22291a[_0x100001(0x1ae)]===_0x100001(0x1f8)&&(_0x47a0a9+=_0x100001(0x173)),_0x12d72a[_0x100001(0x185)]=_0x47a0a9,_0x12d72a[_0x100001(0x1b5)]=_0x87012c=>{const _0x53775c=_0x100001;_0x87012c[_0x53775c(0x124)](),openEdit(_0x22291a);},_0x12d72a;}function attachLongPressHandler(_0x258e70,_0x372afa){const _0x1918b9=a2_0x2f6abc;let _0x5c0c6b=0x0,_0x57e01d=null;const _0x64d397=_0x96185=>{const _0x3d4e6d=a2_0x2bf6;if(_0x96185[_0x3d4e6d(0x258)][_0x3d4e6d(0x181)](_0x3d4e6d(0x1f9)))return;isScrolling=![],_0x5c0c6b=_0x96185['touches']?_0x96185[_0x3d4e6d(0x1ff)][0x0][_0x3d4e6d(0x1ad)]:_0x96185[_0x3d4e6d(0x1ad)],_0x57e01d=setTimeout(()=>{const _0x557315=_0x3d4e6d;if(!isScrolling){navigator[_0x557315(0x1b6)]?.(0x32);const _0x63ef1f=_0x258e70[_0x557315(0x1bd)](),_0x5b1668=Math[_0x557315(0x12f)]((_0x5c0c6b-_0x63ef1f[_0x557315(0x1ec)])/GRID_H);_0x372afa[_0x557315(0x1d7)](_0x5b1668,0x0),openAddSession(_0x372afa);}},0x1f4);},_0x2b60bb=()=>{isScrolling=!![],clearTimeout(_0x57e01d);},_0x2de18f=()=>{clearTimeout(_0x57e01d);};_0x258e70[_0x1918b9(0x250)]('touchstart',_0x64d397,{'passive':!![]}),_0x258e70['addEventListener'](_0x1918b9(0x1d8),_0x2b60bb,{'passive':!![]}),_0x258e70[_0x1918b9(0x250)](_0x1918b9(0x22a),_0x2de18f),_0x258e70[_0x1918b9(0x250)](_0x1918b9(0x285),_0x64d397),_0x258e70[_0x1918b9(0x250)](_0x1918b9(0x229),_0x2b60bb),_0x258e70[_0x1918b9(0x250)](_0x1918b9(0x1f6),_0x2de18f);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x192d21=a2_0x2f6abc,_0x2c040a=document['getElementById'](_0x192d21(0x240)),_0x592b98=_0x2c040a[_0x192d21(0x199)],_0x23e9d4=_0x2c040a[_0x192d21(0x24b)],_0x4af574=_0x2c040a[_0x192d21(0x123)];if(_0x23e9d4-(_0x592b98+_0x4af574)<0x12c){const _0x211ed1=endOffset;endOffset+=0xe,renderDayRange(_0x211ed1+0x1,endOffset),reRenderBlocks();}if(_0x592b98<0x12c){const _0x3f3bdd=startOffset;startOffset-=0xe,prependDays(startOffset,_0x3f3bdd-0x1),_0x2c040a[_0x192d21(0x199)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x1a0490,_0x9bc010){const _0x30eb5d=a2_0x2f6abc,_0x238e06=document[_0x30eb5d(0x253)](_0x30eb5d(0x266)),_0x3f37f9=document[_0x30eb5d(0x253)](_0x30eb5d(0x16c)),_0x45a5c7=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x203ea5=new Date();_0x203ea5['setHours'](0x0,0x0,0x0,0x0);const _0x277678=getLocalDateStr(new Date()),_0x2c1edd=document['createDocumentFragment'](),_0x1dd79b=document[_0x30eb5d(0x19b)]();for(let _0x137f46=_0x1a0490;_0x137f46<=_0x9bc010;_0x137f46++){const _0x2606c2=new Date(_0x203ea5);_0x2606c2[_0x30eb5d(0x208)](_0x2606c2[_0x30eb5d(0x159)]()+_0x137f46);const _0x1724a1=getLocalDateStr(_0x2606c2);let _0x55d797=_0x2606c2[_0x30eb5d(0x127)]()-0x1;if(_0x55d797===-0x1)_0x55d797=0x6;const _0x4becf3=_0x1724a1===_0x277678,_0xc30a62=document[_0x30eb5d(0x20e)](_0x30eb5d(0x13d));_0xc30a62['className']='day-col-header\x20'+(_0x4becf3?_0x30eb5d(0x270):''),_0xc30a62['id']=_0x30eb5d(0x238)+_0x1724a1,_0xc30a62[_0x30eb5d(0x20f)](_0x30eb5d(0x24c),_0x1724a1),_0xc30a62[_0x30eb5d(0x185)]='<div\x20class=\x22dch-day\x22>'+_0x45a5c7[_0x55d797]+_0x30eb5d(0x227)+_0x2606c2[_0x30eb5d(0x159)]()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0x1724a1+_0x30eb5d(0x144),_0xc30a62[_0x30eb5d(0x1b5)]=()=>openDayOptions(_0x1724a1,_0x45a5c7[_0x55d797]+'\x20'+_0x2606c2['getDate']()),_0x2c1edd[_0x30eb5d(0x1df)](_0xc30a62);const _0x5a6713=document['createElement'](_0x30eb5d(0x13d));_0x5a6713[_0x30eb5d(0x113)]=_0x30eb5d(0x1e2)+(_0x4becf3?_0x30eb5d(0x270):''),_0x5a6713[_0x30eb5d(0x20f)](_0x30eb5d(0x24c),_0x1724a1),_0x5a6713['setAttribute']('data-day-idx',_0x55d797),renderEventsForColumn(_0x5a6713,_0x1724a1,_0x55d797),attachLongPressHandler(_0x5a6713,_0x2606c2),_0x1dd79b[_0x30eb5d(0x1df)](_0x5a6713),updateDayStats(_0x1724a1);}_0x238e06['insertBefore'](_0x2c1edd,_0x238e06['firstChild']),_0x3f37f9['insertBefore'](_0x1dd79b,_0x3f37f9[_0x30eb5d(0x265)]('.day-column'));}function validateAppointment(_0x41c66c,_0x5ddde5,_0x23f96e,_0x5c0189,_0x57aba9){const _0x328f3b=a2_0x2f6abc,[_0x17d8f2,_0x298ff1]=_0x5ddde5['split'](':')[_0x328f3b(0x224)](Number),[_0x257685,_0x4c7275]=_0x23f96e[_0x328f3b(0x133)](':')[_0x328f3b(0x224)](Number),_0x21fa73=_0x17d8f2*0x3c+_0x298ff1,_0x8621d9=_0x257685*0x3c+_0x4c7275,_0x459dec=String(_0x57aba9);let _0x15e0db=![],_0x42e59e='';for(let _0x119133 of sessions){if(_0x119133[_0x328f3b(0x172)]!==_0x41c66c)continue;if(_0x119133[_0x328f3b(0x1ae)]===_0x328f3b(0x241))continue;if(_0x5c0189&&String(_0x119133['id'])===String(_0x5c0189))continue;const [_0x1983d0,_0x3f7696]=_0x119133['start'][_0x328f3b(0x133)](':')['map'](Number),[_0x240b4d,_0x40396d]=_0x119133[_0x328f3b(0x12c)]['split'](':')[_0x328f3b(0x224)](Number),_0x1aad73=_0x1983d0*0x3c+_0x3f7696,_0x5a03c1=_0x240b4d*0x3c+_0x40396d;if(Math[_0x328f3b(0x196)](_0x21fa73,_0x1aad73)<Math['min'](_0x8621d9,_0x5a03c1)){if(_0x119133[_0x328f3b(0x169)]&&String(_0x119133[_0x328f3b(0x169)])===_0x459dec)return{'valid':![],'msg':_0x328f3b(0x18b)+_0x119133['client']+_0x328f3b(0x26e)};_0x15e0db=!![],_0x42e59e=_0x119133[_0x328f3b(0x160)];}}if(_0x15e0db)return{'valid':!![],'warning':_0x328f3b(0x281)+_0x42e59e};return{'valid':!![]};}function updateDateDisplay(){const _0xb20c30=a2_0x2f6abc,_0x4d12b0=document['getElementById'](_0xb20c30(0x112))['value'],_0xa250f=document[_0xb20c30(0x253)](_0xb20c30(0x236));if(!_0x4d12b0){_0xa250f[_0xb20c30(0x264)]='';return;}const [_0x33dc92,_0x1c3846,_0x131076]=_0x4d12b0[_0xb20c30(0x133)]('-')[_0xb20c30(0x224)](Number),_0x1bc4c7=new Date(_0x33dc92,_0x1c3846-0x1,_0x131076),_0x48e2ac={'weekday':_0xb20c30(0x14f),'day':'numeric','month':_0xb20c30(0x14f),'year':_0xb20c30(0x232)};let _0x5aef43=_0x1bc4c7['toLocaleDateString']('ru-RU',_0x48e2ac);_0x5aef43=_0x5aef43[_0xb20c30(0x25b)](0x0)[_0xb20c30(0x1e4)]()+_0x5aef43['slice'](0x1),_0xa250f['textContent']=_0x5aef43;}function autoSetEndTime(){const _0x4b5285=a2_0x2f6abc,_0x58573a=document[_0x4b5285(0x253)](_0x4b5285(0x197))[_0x4b5285(0x114)];if(!_0x58573a)return;const [_0x1c4f95,_0x3e29aa]=_0x58573a[_0x4b5285(0x133)](':')[_0x4b5285(0x224)](Number);let _0x2d7284=_0x1c4f95+0x1;if(_0x2d7284>0x17)_0x2d7284=0x0;const _0xf08d0=String(_0x2d7284)['padStart'](0x2,'0')+':'+String(_0x3e29aa)[_0x4b5285(0x1dc)](0x2,'0');document['getElementById'](_0x4b5285(0x260))[_0x4b5285(0x114)]=_0xf08d0;}function populateClientSelect(){const _0x488b16=a2_0x2f6abc,_0xcfb66f=document[_0x488b16(0x253)](_0x488b16(0x163));_0xcfb66f[_0x488b16(0x185)]='';if(clients[_0x488b16(0x255)]===0x0){const _0x498768=document['createElement']('option');_0x498768[_0x488b16(0x26a)]=_0x488b16(0x26d),_0xcfb66f['appendChild'](_0x498768);return;}clients[_0x488b16(0x226)](_0x1348fd=>{const _0x55b175=_0x488b16,_0x56a813=document[_0x55b175(0x20e)](_0x55b175(0x13e));_0x56a813[_0x55b175(0x114)]=_0x1348fd['name'],_0x56a813[_0x55b175(0x264)]=_0x1348fd[_0x55b175(0x187)],_0xcfb66f[_0x55b175(0x1df)](_0x56a813);});}function openActionSheet(_0x2f8c67){const _0x2f4203=a2_0x2f6abc,_0xc9eaa6=document[_0x2f4203(0x253)]('actionSheet'),_0x1e2855=document[_0x2f4203(0x253)](_0x2f4203(0x157)),_0xba0c0c=document[_0x2f4203(0x253)](_0x2f4203(0x132)),_0x1bc600=document['getElementById']('asBtnOne'),_0x28cdae=document[_0x2f4203(0x253)](_0x2f4203(0x1e0));_0x1e2855[_0x2f4203(0x1a6)][_0x2f4203(0x119)]('active'),_0xc9eaa6[_0x2f4203(0x1a6)][_0x2f4203(0x119)]('open');if(_0x2f8c67===_0x2f4203(0x27c))_0xba0c0c['textContent']=_0x2f4203(0x141),_0x1bc600['textContent']=_0x2f4203(0x1c9),_0x1bc600['onclick']=()=>{closeActionSheet(),updateSeriesBatch('single',tempSessionData);},_0x28cdae[_0x2f4203(0x264)]=_0x2f4203(0x1c4),_0x28cdae[_0x2f4203(0x1b5)]=()=>{const _0x39c9b0=_0x2f4203;closeActionSheet(),updateSeriesBatch(_0x39c9b0(0x269),tempSessionData);};else _0x2f8c67===_0x2f4203(0x1a3)&&(_0xba0c0c['textContent']=_0x2f4203(0x125),_0x1bc600[_0x2f4203(0x264)]=_0x2f4203(0x1c9),_0x1bc600[_0x2f4203(0x113)]='as-button\x20danger',_0x1bc600[_0x2f4203(0x1b5)]=()=>{const _0x3cd0c5=_0x2f4203;closeActionSheet(),commitDelete('single',sessions[_0x3cd0c5(0x134)](_0x316ca2=>_0x316ca2['id']===editingId));},_0x28cdae[_0x2f4203(0x264)]=_0x2f4203(0x1c4),_0x28cdae['className']='as-button\x20danger\x20bold',_0x28cdae[_0x2f4203(0x1b5)]=()=>{const _0x249888=_0x2f4203;closeActionSheet(),commitDelete('series',sessions[_0x249888(0x134)](_0x8de9b7=>_0x8de9b7['id']===editingId));});}function closeActionSheet(){const _0x590e6f=a2_0x2f6abc;document['getElementById']('actionSheet')[_0x590e6f(0x1a6)][_0x590e6f(0x1d9)]('open'),document['getElementById'](_0x590e6f(0x157))[_0x590e6f(0x1a6)][_0x590e6f(0x1d9)]('active');}function openSettings(){const _0x23b758=a2_0x2f6abc;openSheet(_0x23b758(0x12d));}function saveCoachSettings(){const _0x1e3254=a2_0x2f6abc,_0x37e0d5=document[_0x1e3254(0x253)](_0x1e3254(0x215))[_0x1e3254(0x114)];localStorage['setItem'](_0x1e3254(0x138),_0x37e0d5),console[_0x1e3254(0x1ef)](_0x1e3254(0x142),_0x37e0d5),DataManager['fetchFromServer'](_0x1e3254(0x182),{'settings':{'cancel_window':_0x37e0d5}})[_0x1e3254(0x24f)](_0x403968=>{const _0x84de52=_0x1e3254;console['error'](_0x84de52(0x16b),_0x403968),showToast(_0x84de52(0x110),![]);});}function loadCoachSettings(){const _0x18fab5=a2_0x2f6abc,_0x292c33=localStorage['getItem'](_0x18fab5(0x138));_0x292c33&&(document['getElementById'](_0x18fab5(0x215))[_0x18fab5(0x114)]=_0x292c33);}function openRangesSheet(){const _0x50a16e=a2_0x2f6abc;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x50a16e(0x220));}function addRange(){const _0x4b4df4=a2_0x2f6abc,_0x41371e=document['getElementById']('rangeStartDate')[_0x4b4df4(0x114)],_0x5d1887=document['getElementById'](_0x4b4df4(0x195))[_0x4b4df4(0x114)],_0x5508c0=document['getElementById'](_0x4b4df4(0x251))['value'],_0x416a65=document[_0x4b4df4(0x253)](_0x4b4df4(0x263))[_0x4b4df4(0x114)];if(!_0x41371e||!_0x5d1887||!_0x5508c0||!_0x416a65)return alert(_0x4b4df4(0x1f2));const _0x36a1b9=_0x41371e+'T'+_0x5d1887,_0x128788=_0x5508c0+'T'+_0x416a65;if(_0x36a1b9>=_0x128788)return alert(_0x4b4df4(0x11e));specialRanges[_0x4b4df4(0x13f)]({'start':_0x36a1b9,'end':_0x128788}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x4b4df4(0x22b)](),DataManager['fetchFromServer'](_0x4b4df4(0x182),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x30163a){const _0x365a80=a2_0x2f6abc;specialRanges[_0x365a80(0x1d4)](_0x30163a,0x1),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x365a80(0x16d)](_0x365a80(0x182),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x291a6e=a2_0x2f6abc;document[_0x291a6e(0x253)](_0x291a6e(0x111))['value']='',document[_0x291a6e(0x253)](_0x291a6e(0x195))[_0x291a6e(0x114)]=_0x291a6e(0x210),document[_0x291a6e(0x253)]('rangeEndDate')[_0x291a6e(0x114)]='',document[_0x291a6e(0x253)](_0x291a6e(0x263))['value']=_0x291a6e(0x118);}function renderRangesList(){const _0x2ce3fb=a2_0x2f6abc,_0x1545b5=document['getElementById']('rangesList');_0x1545b5['innerHTML']='';if(!specialRanges['length']){_0x1545b5[_0x2ce3fb(0x185)]=_0x2ce3fb(0x23b);return;}specialRanges[_0x2ce3fb(0x226)]((_0x46bfb1,_0x402e56)=>{const _0x42d2a4=_0x2ce3fb,_0x4079e0=document['createElement']('div');_0x4079e0[_0x42d2a4(0x113)]=_0x42d2a4(0x1b0);const _0x5a4931=_0x429c60=>{const _0x12ce2e=_0x42d2a4,_0x1c5c2c=new Date(_0x429c60);return _0x1c5c2c[_0x12ce2e(0x159)]()+'.'+String(_0x1c5c2c[_0x12ce2e(0x1f7)]()+0x1)[_0x12ce2e(0x1dc)](0x2,'0')+'\x20'+String(_0x1c5c2c[_0x12ce2e(0x21c)]())[_0x12ce2e(0x1dc)](0x2,'0')+':'+String(_0x1c5c2c['getMinutes']())[_0x12ce2e(0x1dc)](0x2,'0');};_0x4079e0['innerHTML']=_0x42d2a4(0x1ab)+_0x5a4931(_0x46bfb1[_0x42d2a4(0x120)])+_0x42d2a4(0x1b7)+_0x5a4931(_0x46bfb1['end'])+_0x42d2a4(0x27a)+_0x402e56+')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>',_0x1545b5['appendChild'](_0x4079e0);});}function scrollToToday(){const _0xbb9480=a2_0x2f6abc,_0x2b3573=getLocalDateStr(new Date()),_0x41b603=document[_0xbb9480(0x253)](_0xbb9480(0x238)+_0x2b3573),_0x14a114=document['getElementById'](_0xbb9480(0x240));if(_0x41b603&&_0x14a114){const _0x3809de=_0x14a114[_0xbb9480(0x123)],_0x32365c=_0x41b603['offsetLeft'],_0x35db72=_0x41b603['offsetWidth'];_0x14a114[_0xbb9480(0x199)]=_0x32365c-_0x3809de/0x2+_0x35db72/0x2,_0x14a114['scrollTop']=0x9*GRID_H;}}function onScroll(){const _0x4541a1=a2_0x2f6abc,_0xe68133=document[_0x4541a1(0x253)]('matrixViewport'),_0x591d57=document[_0x4541a1(0x149)](_0x4541a1(0x20c));for(let _0x5c4343 of _0x591d57)if(_0x5c4343[_0x4541a1(0x13c)]>=_0xe68133[_0x4541a1(0x199)]){const _0x1fa249=new Date(_0x5c4343[_0x4541a1(0x139)](_0x4541a1(0x24c)));document[_0x4541a1(0x253)](_0x4541a1(0x1f0))[_0x4541a1(0x264)]=_0x1fa249['toLocaleString']('ru',{'month':'long'})[_0x4541a1(0x1e4)]()+'\x20'+_0x1fa249[_0x4541a1(0x192)]();break;}}function showToast(_0x5036a5,_0xeb86bf=![]){const _0x4eabab=a2_0x2f6abc,_0x22864c=document[_0x4eabab(0x253)](_0x4eabab(0x1fd));_0x22864c['className']='toast-notification\x20'+(_0xeb86bf?'success':''),document['getElementById'](_0x4eabab(0x206))[_0x4eabab(0x264)]=_0xeb86bf?_0x4eabab(0x17c):_0x4eabab(0x1a9),document[_0x4eabab(0x253)]('toastMessage')[_0x4eabab(0x264)]=_0x5036a5,_0x22864c['classList'][_0x4eabab(0x119)](_0x4eabab(0x170)),setTimeout(()=>{const _0x49e7b3=_0x4eabab;_0x22864c[_0x49e7b3(0x1a6)][_0x49e7b3(0x1d9)](_0x49e7b3(0x170));},0xbb8);}function a2_0x2bf6(_0x301f5b,_0x4572c3){_0x301f5b=_0x301f5b-0x10b;const _0x4319ab=a2_0x3434();let _0x13ca73=_0x4319ab[_0x301f5b];return _0x13ca73;}function openDayOptions(_0x105057,_0x4ec91a){const _0x206a0b=a2_0x2f6abc;selectedDayForOptions=_0x105057,document[_0x206a0b(0x253)](_0x206a0b(0x168))['textContent']=_0x4ec91a,openSheet(_0x206a0b(0x183));}function toggleDayOff(){const _0x32e7a2=a2_0x2f6abc;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x32e7a2(0x22c),reRenderBlocks(),closeAllSheets(),DataManager[_0x32e7a2(0x22b)](),DataManager['fetchFromServer'](_0x32e7a2(0x182),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0xaf44a=a2_0x2f6abc;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0xaf44a(0x22b)](),DataManager[_0xaf44a(0x16d)](_0xaf44a(0x182),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x367c9d){const _0x3382df=a2_0x2f6abc;document[_0x3382df(0x253)](_0x3382df(0x233))['classList']['add']('active'),document[_0x3382df(0x253)](_0x367c9d)['classList'][_0x3382df(0x119)]('open');}function closeAllSheets(){const _0x5d4f66=a2_0x2f6abc;document[_0x5d4f66(0x253)](_0x5d4f66(0x233))['classList'][_0x5d4f66(0x1d9)](_0x5d4f66(0x14b)),document[_0x5d4f66(0x149)](_0x5d4f66(0x271))['forEach'](_0x2d6ef0=>_0x2d6ef0[_0x5d4f66(0x1a6)][_0x5d4f66(0x1d9)](_0x5d4f66(0x1b9)));}function openPatternEditor(){const _0x222f2f=a2_0x2f6abc;closeAllSheets(),document['getElementById'](_0x222f2f(0x186))[_0x222f2f(0x1a6)]['add'](_0x222f2f(0x1b9)),renderPatternEditor();}function closePatternEditor(){const _0x2a90ef=a2_0x2f6abc;document[_0x2a90ef(0x253)](_0x2a90ef(0x186))[_0x2a90ef(0x1a6)]['remove'](_0x2a90ef(0x1b9));}function savePattern(){const _0x5f9dc2=a2_0x2f6abc;document['getElementById']('patternEditor')['classList'][_0x5f9dc2(0x1d9)](_0x5f9dc2(0x1b9)),reRenderBlocks(),DataManager[_0x5f9dc2(0x22b)](),DataManager[_0x5f9dc2(0x16d)](_0x5f9dc2(0x182),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x587652=a2_0x2f6abc,_0x3be618=document['getElementById'](_0x587652(0x1ba));_0x3be618[_0x587652(0x185)]='';const _0x5e8e41=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x54daec=document['createElement'](_0x587652(0x13d));_0x54daec[_0x587652(0x113)]=_0x587652(0x1a8),_0x3be618[_0x587652(0x1df)](_0x54daec),_0x5e8e41[_0x587652(0x226)]((_0x4a3e9a,_0x568dba)=>{const _0x3323c4=_0x587652,_0x4f577b=document[_0x3323c4(0x20e)](_0x3323c4(0x13d));_0x4f577b[_0x3323c4(0x113)]=_0x3323c4(0x17e),_0x4f577b['innerHTML']=_0x4a3e9a+'\x20<span\x20class=\x22arrow\x22>‚Üì</span>',_0x4f577b[_0x3323c4(0x1b5)]=()=>toggleColPattern(_0x568dba),_0x3be618[_0x3323c4(0x1df)](_0x4f577b);});for(let _0x1f0790=0x0;_0x1f0790<0x18;_0x1f0790++){const _0x16892a=document[_0x587652(0x20e)]('div');_0x16892a[_0x587652(0x113)]=_0x587652(0x212),_0x16892a[_0x587652(0x185)]=_0x587652(0x1e9)+String(_0x1f0790)[_0x587652(0x1dc)](0x2,'0')+_0x587652(0x16e),_0x16892a['onclick']=()=>toggleRowPattern(_0x1f0790),_0x3be618[_0x587652(0x1df)](_0x16892a);for(let _0x4ff9e2=0x0;_0x4ff9e2<0x7;_0x4ff9e2++){const _0x314ffe=document['createElement'](_0x587652(0x13d)),_0x450a12=(availabilityPattern[_0x4ff9e2]||[])['includes'](_0x1f0790),_0x339dd2=!_0x450a12;_0x314ffe[_0x587652(0x113)]=_0x587652(0x14a)+(_0x339dd2?'active':''),_0x314ffe['onclick']=()=>toggleSinglePattern(_0x4ff9e2,_0x1f0790),_0x3be618['appendChild'](_0x314ffe);}}}function a2_0x3434(){const _0x102376=['ru-RU','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','WebApp','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','borderColor','...','<div\x20class=\x22ev-title\x22>','mousedown','send_notification','%\x20-\x204px)','btn-status-toggle\x20undo-mode','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','complete','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','rangeStartDate','inpDate','className','value','inpSeriesCount','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','23:59','add','single','syncBatch','[Notify]\x20Detected\x20Client\x20ID:','[Notify]\x20Server\x20Response:','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','anStart','start','initData','initDataUnsafe','clientWidth','stopPropagation','–£–¥–∞–ª–µ–Ω–∏–µ','parse','getDay',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','de-item','borderLeftColor','disableVerticalSwipes','end','settingsSheet','3313590JYmPwA','floor','doDateHeader','min','asTitle','split','find','btnStatusToggle','rgba(48,\x20209,\x2088,\x200.15)','</b>\x0a\x0a','uc_settings_cancel_window','getAttribute','cancel','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','offsetLeft','div','option','push','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','[Settings]\x20Cancel\x20window\x20set\x20to:','height','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','total','pattern','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','slice','querySelectorAll','pe-cell\x20','active','[Sync]\x20Loading\x20','client-stat-card','exceptions','long','seriesId','width','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','v9.0-BATCH-CALENDAR','planned','9HsQCAE','var(--acc-orange)','actionSheetOverlay','send','getDate','498ebZOlR','filter','var(--acc-red)','analyticsSheet','1461872Usnhuz','uc_clients_v9','client','mergeServerData','btnDayToggle','inpClient','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','data','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','dayOptionsTitle','clientId','Server\x20Error','Save\x20settings\x20error:','gridColumns','fetchFromServer',':00','[Notify]\x20Client\x20SWAP\x20detected','show','colIndex','dateStr','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','search','[API\x20','POST','Error\x20setting\x20color:','setItem','doBusyHours','Local\x20Save\x20Error','–£—Å–ø–µ—à–Ω–æ','<b>‚úÖ\x20','pe-col-header','setHeaderColor','clients','closest','save_settings','dayOptionsSheet','onClick','innerHTML','patternEditor','name','.period-switch\x20.p-btn','getMinutes','<div\x20class=\x22dch-day\x22>','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','timeLineBadge','22374pTsvxg','block','getTime','#gridColumns\x20.day-column','calc(','getFullYear','seriesCountContainer','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','rangeStartTime','max','inpStart','</div>','scrollLeft','error','createDocumentFragment','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','then','[Notify]\x20Error:\x20Text\x20generation\x20failed','#050505','event-card','rgba(255,\x2069,\x2058,\x200.15)','365NFUwkY','delete','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','2458OGnHTB','classList','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','pe-corner','–ò–Ω—Ñ–æ','done','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','recurringOptionContainer','clientY','status','settings','range-item','data-day-idx','update','findIndex','stringify','onclick','vibrate','\x20‚Äî\x20','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','open','peGrid','Batch\x20Sync\x20OK','week','getBoundingClientRect','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','\x20–∏–∑\x20','time-label','uc_settings_v9','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','sort','anEnd','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','anCustomDates','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','substr','cancel_window','deleted','checked','11965970VXYsFc','expand','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','router.html','borderRadius','day-off-overlay\x20stripe-bg','splice','random','btnDelete','setHours','touchmove','remove','.day-off-overlay','formatDate','padStart','left','day-col-header\x20','appendChild','asBtnSeries','offClick','day-column\x20','stat-','toUpperCase','4370796gyBZRQ','scroll','rgba(255,\x2069,\x2058,\x200.3)','undefined','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','patternInfoBox','Telegram','top','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','color','log','headerMonth','style','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','background','#fff','includes','mouseup','getMonth','completed','.event-card','Local\x20Load\x20Error','ready','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','toast','calendar','touches','\x20-\x20','toString','T00:00:00','timeColumn','none','btn-status-toggle','toastTitle','startsWith','setDate',':\x20Client\x20already\x20booked','Error\x20setting\x20back\x20button:','[Series]\x20Skipped\x20','.day-col-header','100%','createElement','setAttribute','00:00','<span>','pe-time-label','init_load','from','settingCancelWindow','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','setBackgroundColor','localeCompare','</span>\x20/\x20','Unknown','getItem','getHours','setMonth','BackButton','text/plain;charset=UTF-8','rangesSheet','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','map','statLoadCard','forEach','</div><div\x20class=\x22dch-num\x22>','month','mousemove','touchend','saveLocally','off','backgroundColor','T23:59:59','toLocaleDateString','6814101yYQswy','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','numeric','overlay','.pib-text','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','sheetDateSubtitle','round','header-','create','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','DOMContentLoaded','(((.+)+)+)+$','rgba(','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','matrixViewport','cancelled','keys','constructor','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','sessionSheet','display','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','indexOf','loadLocal','scrollWidth','data-date','doEventsList','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','catch','addEventListener','rangeEndDate','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','getElementById','zIndex','length','flex','px\x20-','target','note','warn','charAt','all','inpNote','sheetTitle','</div><div\x20class=\x22ev-time\x22>','inpEnd','10px\x2010px\x200\x200','inpRecurring','rangeEndTime','textContent','querySelector','daysHeaderTrack','ranges','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','series','text','user','now','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','valid','today','.sheet','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','custom','[Notify]\x20Error:\x20sessionData\x20is\x20null','px\x200px','Critical\x20TMA\x20Error:','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','backgroundPosition','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','isArray','save','anDonutCircle'];a2_0x3434=function(){return _0x102376;};return a2_0x3434();}function toggleSinglePattern(_0x58e685,_0x3494b2){const _0x5e700a=a2_0x2f6abc;if(!availabilityPattern[_0x58e685])availabilityPattern[_0x58e685]=[];const _0x13fc25=availabilityPattern[_0x58e685],_0x402e80=_0x13fc25[_0x5e700a(0x249)](_0x3494b2);_0x402e80===-0x1?_0x13fc25[_0x5e700a(0x13f)](_0x3494b2):_0x13fc25[_0x5e700a(0x1d4)](_0x402e80,0x1),renderPatternEditor();}function toggleColPattern(_0x227c9d){const _0x3a7e7c=a2_0x2f6abc;if(!availabilityPattern[_0x227c9d])availabilityPattern[_0x227c9d]=[];const _0x1101cb=availabilityPattern[_0x227c9d];_0x1101cb[_0x3a7e7c(0x255)]===0x0?availabilityPattern[_0x227c9d]=Array[_0x3a7e7c(0x214)]({'length':0x18},(_0x422796,_0x28447b)=>_0x28447b):availabilityPattern[_0x227c9d]=[],renderPatternEditor();}function toggleRowPattern(_0x119020){const _0x11d714=a2_0x2f6abc;let _0x573d43=!![];for(let _0x4143b4=0x0;_0x4143b4<0x7;_0x4143b4++){if((availabilityPattern[_0x4143b4]||[])[_0x11d714(0x1f5)](_0x119020)){_0x573d43=![];break;}}for(let _0x16f798=0x0;_0x16f798<0x7;_0x16f798++){if(!availabilityPattern[_0x16f798])availabilityPattern[_0x16f798]=[];const _0x5b7698=availabilityPattern[_0x16f798]['indexOf'](_0x119020);if(_0x573d43){if(_0x5b7698===-0x1)availabilityPattern[_0x16f798][_0x11d714(0x13f)](_0x119020);}else{if(_0x5b7698!==-0x1)availabilityPattern[_0x16f798][_0x11d714(0x1d4)](_0x5b7698,0x1);}}renderPatternEditor();}function renderPCol(_0xf49eee,_0x3590df){const _0x1fcbdd=a2_0x2f6abc;_0xf49eee[_0x1fcbdd(0x185)]='';const _0x3939cf=Math[_0x1fcbdd(0x237)](_0xf49eee[_0x1fcbdd(0x13c)]);(availabilityPattern[_0x3590df]||[])[_0x1fcbdd(0x226)](_0x5e7b37=>{const _0x50a3ab=_0x1fcbdd,_0x4d0a40=document[_0x50a3ab(0x20e)]('div');_0x4d0a40[_0x50a3ab(0x113)]='blocked-slot\x20stripe-bg';const _0x41ecdb=_0x5e7b37*GRID_H;_0x4d0a40[_0x50a3ab(0x1f1)][_0x50a3ab(0x1ec)]=_0x41ecdb+'px',_0x4d0a40[_0x50a3ab(0x1f1)][_0x50a3ab(0x278)]='-'+_0x3939cf+_0x50a3ab(0x257)+_0x41ecdb+'px',_0x4d0a40[_0x50a3ab(0x1b5)]=_0x34eee=>{_0x34eee['stopPropagation'](),toggleSinglePattern(_0x3590df,_0x5e7b37);},_0xf49eee[_0x50a3ab(0x1df)](_0x4d0a40);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x318332=a2_0x2f6abc,_0x26a0ae=new Date(),_0x11660b=document[_0x318332(0x253)]('globalTimeLine'),_0x40347c=document[_0x318332(0x253)](_0x318332(0x18c)),_0x46979=(_0x26a0ae[_0x318332(0x21c)]()*0x3c+_0x26a0ae[_0x318332(0x189)]())/0x3c*GRID_H;_0x11660b[_0x318332(0x1f1)][_0x318332(0x1ec)]=_0x46979+'px',_0x11660b[_0x318332(0x1f1)][_0x318332(0x247)]='block',_0x40347c['textContent']=String(_0x26a0ae[_0x318332(0x21c)]())['padStart'](0x2,'0')+':'+String(_0x26a0ae[_0x318332(0x189)]())[_0x318332(0x1dc)](0x2,'0'),_0x40347c[_0x318332(0x1f1)][_0x318332(0x247)]=_0x318332(0x18e),_0x40347c[_0x318332(0x1f1)]['top']=_0x46979+'px';}document['addEventListener'](a2_0x2f6abc(0x23c),init);function openDayOptions(_0x4c47a0){const _0x40d99d=a2_0x2f6abc;selectedDayForOptions=_0x4c47a0;const _0x213de1=new Date(_0x4c47a0),_0x15e60a={'weekday':_0x40d99d(0x14f),'day':_0x40d99d(0x232),'month':'long','year':_0x40d99d(0x232)},_0x35b735=_0x213de1['toLocaleDateString'](_0x40d99d(0x27e),_0x15e60a);document[_0x40d99d(0x253)](_0x40d99d(0x130))[_0x40d99d(0x264)]=_0x35b735['charAt'](0x0)[_0x40d99d(0x1e4)]()+_0x35b735[_0x40d99d(0x148)](0x1);let _0xa33efe=_0x213de1[_0x40d99d(0x127)]()-0x1;if(_0xa33efe===-0x1)_0xa33efe=0x6;const _0x197593=availabilityPattern[_0xa33efe]||[],_0x71f4d7=0x18-_0x197593[_0x40d99d(0x255)],_0x5936ef=_0x71f4d7*0x3c,_0x14bae6=sessions[_0x40d99d(0x15b)](_0x5c34c2=>_0x5c34c2[_0x40d99d(0x172)]===_0x4c47a0&&_0x5c34c2[_0x40d99d(0x1ae)]!==_0x40d99d(0x241));let _0x2ec34d=_0x14bae6['map'](_0x54d256=>{const _0x5c099e=_0x40d99d,[_0x54f19a,_0x1340f1]=_0x54d256[_0x5c099e(0x120)][_0x5c099e(0x133)](':')[_0x5c099e(0x224)](Number),[_0x2618b9,_0x21870c]=_0x54d256[_0x5c099e(0x12c)][_0x5c099e(0x133)](':')[_0x5c099e(0x224)](Number);return[_0x54f19a*0x3c+_0x1340f1,_0x2618b9*0x3c+_0x21870c];});_0x2ec34d[_0x40d99d(0x1c5)]((_0x5bfafe,_0x1ae8ac)=>_0x5bfafe[0x0]-_0x1ae8ac[0x0]);let _0x1f39d0=[];if(_0x2ec34d[_0x40d99d(0x255)]>0x0){let _0x4b4a94=_0x2ec34d[0x0];for(let _0x4ea971=0x1;_0x4ea971<_0x2ec34d[_0x40d99d(0x255)];_0x4ea971++){_0x2ec34d[_0x4ea971][0x0]<_0x4b4a94[0x1]?_0x4b4a94[0x1]=Math['max'](_0x4b4a94[0x1],_0x2ec34d[_0x4ea971][0x1]):(_0x1f39d0[_0x40d99d(0x13f)](_0x4b4a94),_0x4b4a94=_0x2ec34d[_0x4ea971]);}_0x1f39d0[_0x40d99d(0x13f)](_0x4b4a94);}let _0x13956a=0x0;_0x1f39d0[_0x40d99d(0x226)](_0x1c2e20=>_0x13956a+=_0x1c2e20[0x1]-_0x1c2e20[0x0]),document['getElementById']('doWorkHours')[_0x40d99d(0x264)]=formatMinsToHrs(_0x5936ef),document['getElementById'](_0x40d99d(0x17a))[_0x40d99d(0x264)]=formatMinsToHrs(_0x13956a);const _0xde8525=_0x5936ef>0x0?Math['round'](_0x13956a/_0x5936ef*0x64):0x0,_0x1ea305=document[_0x40d99d(0x253)]('doLoadPercent');_0x1ea305[_0x40d99d(0x264)]=_0xde8525+'%';const _0x552958=document[_0x40d99d(0x253)](_0x40d99d(0x225));if(_0xde8525>0x64)_0x1ea305[_0x40d99d(0x1f1)]['color']=_0x40d99d(0x15c),_0x552958['style'][_0x40d99d(0x282)]=_0x40d99d(0x1e7);else _0xde8525>0x50?(_0x1ea305[_0x40d99d(0x1f1)][_0x40d99d(0x1ee)]=_0x40d99d(0x156),_0x552958[_0x40d99d(0x1f1)][_0x40d99d(0x282)]='rgba(255,\x20159,\x2010,\x200.3)'):(_0x1ea305[_0x40d99d(0x1f1)][_0x40d99d(0x1ee)]='var(--acc-green)',_0x552958[_0x40d99d(0x1f1)][_0x40d99d(0x282)]='rgba(255,255,255,0.05)');const _0xf31474=document[_0x40d99d(0x253)](_0x40d99d(0x24d));_0xf31474[_0x40d99d(0x185)]='';_0x14bae6[_0x40d99d(0x255)]===0x0?_0xf31474[_0x40d99d(0x185)]=_0x40d99d(0x248):(_0x14bae6['sort']((_0x316e33,_0x1951e1)=>_0x316e33[_0x40d99d(0x120)][_0x40d99d(0x218)](_0x1951e1[_0x40d99d(0x120)])),_0x14bae6[_0x40d99d(0x226)](_0x2623eb=>{const _0x2ec80f=_0x40d99d,_0x246bc9=clients['find'](_0x5d2c14=>_0x5d2c14[_0x2ec80f(0x187)]===_0x2623eb[_0x2ec80f(0x160)]),_0x3ef357=_0x246bc9?_0x246bc9[_0x2ec80f(0x1ee)]:_0x2ec80f(0x1f4),_0x3d979e=_0x2623eb[_0x2ec80f(0x1ae)]===_0x2ec80f(0x1f8),_0x16ef65=_0x3d979e?'<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>':'',_0x554b5c=document['createElement']('div');_0x554b5c[_0x2ec80f(0x113)]=_0x2ec80f(0x129),_0x554b5c[_0x2ec80f(0x1f1)][_0x2ec80f(0x12a)]=_0x3ef357,_0x554b5c[_0x2ec80f(0x185)]=_0x2ec80f(0x1c7)+_0x2623eb[_0x2ec80f(0x120)]+_0x2ec80f(0x200)+_0x2623eb['end']+_0x2ec80f(0x152)+_0x2623eb[_0x2ec80f(0x160)]+_0x2ec80f(0x272)+_0x16ef65+_0x2ec80f(0x147),_0xf31474[_0x2ec80f(0x1df)](_0x554b5c);}));const _0x2756c7=document[_0x40d99d(0x253)](_0x40d99d(0x162)),_0x3841b0=dateExceptions[_0x4c47a0]===_0x40d99d(0x22c);_0x3841b0?(_0x2756c7[_0x40d99d(0x264)]='–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º',_0x2756c7['className']='btn-primary\x20btn-secondary',_0x2756c7[_0x40d99d(0x1f1)][_0x40d99d(0x1ee)]='var(--acc-green)',_0x2756c7['style'][_0x40d99d(0x1f3)]=_0x40d99d(0x136)):(_0x2756c7[_0x40d99d(0x264)]=_0x40d99d(0x231),_0x2756c7['className']='btn-primary\x20btn-danger',_0x2756c7[_0x40d99d(0x1f1)][_0x40d99d(0x1ee)]=_0x40d99d(0x15c),_0x2756c7['style'][_0x40d99d(0x1f3)]=_0x40d99d(0x1a1)),openSheet(_0x40d99d(0x183));}let currentAnPeriod=a2_0x2f6abc(0x1bc);function openAnalytics(){const _0x2f134a=a2_0x2f6abc,_0x51e707=document[_0x2f134a(0x265)]('.period-switch\x20.p-btn');setAnalyticsPeriod(_0x2f134a(0x1bc),_0x51e707),closeAllSheets(),openSheet(_0x2f134a(0x15d));}function setAnalyticsPeriod(_0x3b175e,_0x4796b2){const _0x6dc2ff=a2_0x2f6abc;currentAnPeriod=_0x3b175e,document['querySelectorAll'](_0x6dc2ff(0x188))[_0x6dc2ff(0x226)](_0x5d3690=>_0x5d3690[_0x6dc2ff(0x1a6)][_0x6dc2ff(0x1d9)](_0x6dc2ff(0x14b)));if(_0x4796b2)_0x4796b2[_0x6dc2ff(0x1a6)][_0x6dc2ff(0x119)](_0x6dc2ff(0x14b));const _0x1ceb11=document[_0x6dc2ff(0x253)](_0x6dc2ff(0x1c8));_0x1ceb11[_0x6dc2ff(0x1f1)]['display']=_0x3b175e===_0x6dc2ff(0x273)?_0x6dc2ff(0x256):_0x6dc2ff(0x204);const _0x5a95da=new Date();let _0x4818fe=new Date(),_0x293813=new Date();if(_0x3b175e===_0x6dc2ff(0x1bc))_0x4818fe=getStartOfWeek(_0x5a95da),_0x293813=new Date(_0x4818fe),_0x293813[_0x6dc2ff(0x208)](_0x293813[_0x6dc2ff(0x159)]()+0x6);else{if(_0x3b175e===_0x6dc2ff(0x228))_0x4818fe=new Date(_0x5a95da[_0x6dc2ff(0x192)](),_0x5a95da[_0x6dc2ff(0x1f7)](),0x1),_0x293813=new Date(_0x5a95da[_0x6dc2ff(0x192)](),_0x5a95da[_0x6dc2ff(0x1f7)]()+0x1,0x0);else{!document[_0x6dc2ff(0x253)](_0x6dc2ff(0x11f))[_0x6dc2ff(0x114)]&&(document['getElementById'](_0x6dc2ff(0x11f))[_0x6dc2ff(0x114)]=getLocalDateStr(_0x5a95da),document['getElementById'](_0x6dc2ff(0x1c6))[_0x6dc2ff(0x114)]=getLocalDateStr(_0x5a95da));refreshAnalytics();return;}}document[_0x6dc2ff(0x253)](_0x6dc2ff(0x11f))[_0x6dc2ff(0x114)]=getLocalDateStr(_0x4818fe),document[_0x6dc2ff(0x253)](_0x6dc2ff(0x1c6))[_0x6dc2ff(0x114)]=getLocalDateStr(_0x293813),refreshAnalytics();}function refreshAnalytics(){const _0x24372b=a2_0x2f6abc,_0x23ba83=document['getElementById'](_0x24372b(0x11f))[_0x24372b(0x114)],_0x51bfd0=document[_0x24372b(0x253)]('anEnd')[_0x24372b(0x114)];if(!_0x23ba83||!_0x51bfd0)return;const _0x50ceaa=sessions[_0x24372b(0x15b)](_0x1e8c3b=>_0x1e8c3b[_0x24372b(0x172)]>=_0x23ba83&&_0x1e8c3b[_0x24372b(0x172)]<=_0x51bfd0&&_0x1e8c3b[_0x24372b(0x1ae)]!==_0x24372b(0x241)),_0x3e0a59=_0x50ceaa[_0x24372b(0x255)],_0x2a8446=_0x50ceaa[_0x24372b(0x15b)](_0x4a606c=>_0x4a606c[_0x24372b(0x1ae)]==='completed')['length'],_0x292e42=_0x3e0a59>0x0?Math[_0x24372b(0x237)](_0x2a8446/_0x3e0a59*0x64):0x0;document[_0x24372b(0x253)]('anPercent')[_0x24372b(0x264)]=_0x292e42+'%',document['getElementById']('anTotalStats')[_0x24372b(0x264)]=_0x2a8446+_0x24372b(0x1c1)+_0x3e0a59+_0x24372b(0x27f);const _0x77862c=document[_0x24372b(0x253)](_0x24372b(0x27d)),_0x13544c=0x2*Math['PI']*0x23,_0xeb00f2=_0x13544c-_0x292e42/0x64*_0x13544c;_0x77862c[_0x24372b(0x1f1)]['strokeDashoffset']=_0xeb00f2;const _0x2bd2dd={};_0x50ceaa[_0x24372b(0x226)](_0x53a878=>{const _0x197b01=_0x24372b;if(!_0x2bd2dd[_0x53a878[_0x197b01(0x160)]]){const _0x555abe=clients[_0x197b01(0x134)](_0x381280=>_0x381280[_0x197b01(0x187)]===_0x53a878[_0x197b01(0x160)]);_0x2bd2dd[_0x53a878[_0x197b01(0x160)]]={'total':0x0,'done':0x0,'color':_0x555abe?_0x555abe[_0x197b01(0x1ee)]:_0x197b01(0x1f4)};}_0x2bd2dd[_0x53a878[_0x197b01(0x160)]]['total']++;if(_0x53a878[_0x197b01(0x1ae)]==='completed')_0x2bd2dd[_0x53a878['client']]['done']++;});const _0xbfe370=document[_0x24372b(0x253)]('analyticsList');_0xbfe370[_0x24372b(0x185)]='';const _0x51f3c3=Object['entries'](_0x2bd2dd)[_0x24372b(0x1c5)]((_0x26c562,_0x1920df)=>_0x1920df[0x1][_0x24372b(0x145)]-_0x26c562[0x1]['total']);if(_0x51f3c3[_0x24372b(0x255)]===0x0){_0xbfe370[_0x24372b(0x185)]=_0x24372b(0x1ed);return;}_0x51f3c3[_0x24372b(0x226)](([_0x55f97d,_0x178ccd])=>{const _0x16ee17=_0x24372b,_0x8558fd=Math[_0x16ee17(0x237)](_0x178ccd[_0x16ee17(0x1aa)]/_0x178ccd['total']*0x64),_0x485296=document[_0x16ee17(0x20e)](_0x16ee17(0x13d));_0x485296['className']=_0x16ee17(0x14d),_0x485296[_0x16ee17(0x1f1)][_0x16ee17(0x12a)]=_0x178ccd['color'],_0x485296[_0x16ee17(0x185)]=_0x16ee17(0x117)+_0x55f97d+_0x16ee17(0x245)+_0x178ccd['done']+_0x16ee17(0x219)+_0x178ccd[_0x16ee17(0x145)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x8558fd+_0x16ee17(0x221),_0xbfe370['appendChild'](_0x485296);});}function formatMinsToHrs(_0x462af8){if(_0x462af8===0x0)return'0';const _0x68b9e5=Math['floor'](_0x462af8/0x3c),_0x7ea65f=_0x462af8%0x3c;if(_0x7ea65f===0x0)return _0x68b9e5+'—á';return _0x68b9e5+'—á\x20'+_0x7ea65f+'–º';}