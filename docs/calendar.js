const a2_0x328609=a2_0x1b94;(function(_0x47fec4,_0xeae817){const _0x46dce9=a2_0x1b94,_0x524d49=_0x47fec4();while(!![]){try{const _0x2ea7c4=-parseInt(_0x46dce9(0x16f))/0x1*(-parseInt(_0x46dce9(0xc0))/0x2)+parseInt(_0x46dce9(0x116))/0x3+parseInt(_0x46dce9(0xf7))/0x4*(-parseInt(_0x46dce9(0xb8))/0x5)+parseInt(_0x46dce9(0x138))/0x6*(parseInt(_0x46dce9(0x159))/0x7)+parseInt(_0x46dce9(0x177))/0x8*(-parseInt(_0x46dce9(0x209))/0x9)+-parseInt(_0x46dce9(0xfb))/0xa+-parseInt(_0x46dce9(0x22c))/0xb*(-parseInt(_0x46dce9(0x149))/0xc);if(_0x2ea7c4===_0xeae817)break;else _0x524d49['push'](_0x524d49['shift']());}catch(_0x3be757){_0x524d49['push'](_0x524d49['shift']());}}}(a2_0x153f,0xd33f1),function initTMA(){const _0x50824c=a2_0x1b94;try{const _0x535d09=window['Telegram']?.['WebApp'];if(!_0x535d09)return;_0x535d09[_0x50824c(0xf6)](),_0x535d09['expand']();try{_0x535d09[_0x50824c(0x10d)](_0x50824c(0x16c)),_0x535d09[_0x50824c(0x10a)]&&_0x535d09[_0x50824c(0x10a)](_0x50824c(0x16c));}catch(_0x149f36){console[_0x50824c(0x14d)](_0x50824c(0x1e2),_0x149f36);}try{_0x535d09[_0x50824c(0x1de)]&&(_0x535d09['BackButton'][_0x50824c(0xf0)](),_0x535d09[_0x50824c(0x1de)][_0x50824c(0x1f2)](),_0x535d09[_0x50824c(0x1de)][_0x50824c(0x185)](function(){const _0x3d385b=_0x50824c;window['location']['href']=_0x3d385b(0x23a);}));}catch(_0x200341){console[_0x50824c(0x14d)](_0x50824c(0x1c8),_0x200341);}try{if(_0x535d09['disableVerticalSwipes'])_0x535d09[_0x50824c(0x143)]();}catch(_0x524ae4){}}catch(_0x36d5e0){console[_0x50824c(0x102)](_0x50824c(0x195),_0x36d5e0);}}());function isAdmin(){const _0x2b1ca6=a2_0x1b94;try{const _0x176a86=Number(window[_0x2b1ca6(0x156)]?.['WebApp']?.[_0x2b1ca6(0x1da)]?.[_0x2b1ca6(0x155)]?.['id']);return _0x176a86===0xbaf7174;}catch(_0x4254dc){return![];}}const APP_VERSION='v9.0-BATCH-CALENDAR',API_URL=a2_0x328609(0x110),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x328609(0x125),KEY_SESSIONS=a2_0x328609(0x11b),KEY_SETTINGS=a2_0x328609(0x193);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x55ef53=a2_0x328609;return window[_0x55ef53(0x156)]?.[_0x55ef53(0x160)]?.[_0x55ef53(0x1da)]?.[_0x55ef53(0x155)]?.['id']||_0x55ef53(0x11d);},'saveLocally'(){const _0x423cc1=a2_0x328609;try{localStorage[_0x423cc1(0x187)](KEY_CLIENTS,JSON[_0x423cc1(0x131)](clients)),localStorage[_0x423cc1(0x187)](KEY_SESSIONS,JSON['stringify'](sessions)),localStorage[_0x423cc1(0x187)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x1f620c){console[_0x423cc1(0x102)]('Local\x20Save\x20Error',_0x1f620c);}},'loadLocal'(){const _0x3cddef=a2_0x328609;try{const _0x5b8f91=localStorage[_0x3cddef(0x1f7)](KEY_CLIENTS);if(_0x5b8f91)clients=JSON[_0x3cddef(0xe1)](_0x5b8f91);const _0x5d9c59=localStorage[_0x3cddef(0x1f7)](KEY_SESSIONS);if(_0x5d9c59)sessions=JSON[_0x3cddef(0xe1)](_0x5d9c59);const _0x2c2bc4=localStorage[_0x3cddef(0x1f7)](KEY_SETTINGS);if(_0x2c2bc4){const _0x3cdba5=JSON['parse'](_0x2c2bc4);if(_0x3cdba5[_0x3cddef(0x161)])availabilityPattern=_0x3cdba5[_0x3cddef(0x161)];if(_0x3cdba5[_0x3cddef(0x132)])dateExceptions=_0x3cdba5['exceptions'];if(_0x3cdba5[_0x3cddef(0x194)])specialRanges=_0x3cdba5[_0x3cddef(0x194)];}else{for(let _0x211631=0x0;_0x211631<0x7;_0x211631++)availabilityPattern[_0x211631]=Array[_0x3cddef(0x1b3)]({'length':0xc},(_0x1c6087,_0x176880)=>_0x176880+0x9);}}catch(_0x7d25d4){console[_0x3cddef(0x102)]('Local\x20Load\x20Error',_0x7d25d4);}},async 'fetchFromServer'(_0x87db23,_0x58734c={}){const _0x94f12=a2_0x328609,_0x1c2059=window[_0x94f12(0x156)]?.[_0x94f12(0x160)],_0x27b6d5={'action':_0x87db23,'init_data':_0x1c2059?.[_0x94f12(0x12d)]||'',..._0x58734c};try{const _0x4c760d=await fetch(API_URL,{'method':_0x94f12(0xf5),'headers':{'Content-Type':_0x94f12(0x1db)},'body':JSON[_0x94f12(0x131)](_0x27b6d5)}),_0x4d3499=await _0x4c760d[_0x94f12(0xef)]();if(!_0x4d3499['ok'])throw new Error(_0x4d3499['error']||_0x94f12(0x1f9));return _0x4d3499[_0x94f12(0x208)];}catch(_0x564113){console[_0x94f12(0x102)](_0x94f12(0x127)+_0x87db23+_0x94f12(0x124),_0x564113);throw _0x564113;}},async 'syncLoad'(){const _0x3ce43b=a2_0x328609,_0x1f1efd=new Date(),_0x2b26a6=_0x1f1efd[_0x3ce43b(0x126)]()+'-'+String(_0x1f1efd[_0x3ce43b(0x232)]()+0x1)[_0x3ce43b(0xcc)](0x2,'0'),_0x1d7ab1=new Date(_0x1f1efd);_0x1d7ab1['setMonth'](_0x1f1efd[_0x3ce43b(0x232)]()+0x1);const _0x1fef34=_0x1d7ab1['getFullYear']()+'-'+String(_0x1d7ab1[_0x3ce43b(0x232)]()+0x1)[_0x3ce43b(0xcc)](0x2,'0'),_0x5e3a97=Date[_0x3ce43b(0x1cb)]();console[_0x3ce43b(0x14d)]('[Sync]\x20Loading\x20'+_0x2b26a6+',\x20'+_0x1fef34+_0x3ce43b(0x1d2));try{const [_0x2573dc,_0x48c864]=await Promise[_0x3ce43b(0xb9)]([this[_0x3ce43b(0x191)](_0x3ce43b(0x1ce),{'month_str':_0x2b26a6}),this[_0x3ce43b(0x191)](_0x3ce43b(0x1ce),{'month_str':_0x1fef34})]);if(lastUserActionTime>_0x5e3a97)return console[_0x3ce43b(0x199)](_0x3ce43b(0x1a4)),![];return this[_0x3ce43b(0x205)](_0x2573dc,_0x2b26a6),this['mergeServerData'](_0x48c864,_0x1fef34),this[_0x3ce43b(0x21c)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x159673){console[_0x3ce43b(0x102)](_0x159673);throw _0x159673;}},'mergeServerData'(_0x233b34,_0x457add){const _0xeb6544=a2_0x328609;if(!_0x233b34)return;_0x233b34['clients']&&Array['isArray'](_0x233b34[_0xeb6544(0x239)])&&(clients=_0x233b34[_0xeb6544(0x239)]);if(_0x233b34['settings']){if(_0x233b34[_0xeb6544(0xd9)][_0xeb6544(0x161)])availabilityPattern=_0x233b34[_0xeb6544(0xd9)][_0xeb6544(0x161)];if(_0x233b34[_0xeb6544(0xd9)][_0xeb6544(0x132)])dateExceptions=_0x233b34[_0xeb6544(0xd9)][_0xeb6544(0x132)];if(_0x233b34['settings'][_0xeb6544(0x194)])specialRanges=_0x233b34[_0xeb6544(0xd9)]['ranges'];if(_0x233b34[_0xeb6544(0xd9)][_0xeb6544(0x1d0)]){localStorage['setItem'](_0xeb6544(0xbb),_0x233b34[_0xeb6544(0xd9)][_0xeb6544(0x1d0)]);const _0x494643=document[_0xeb6544(0x21e)]('settingCancelWindow');if(_0x494643)_0x494643[_0xeb6544(0x1e7)]=_0x233b34[_0xeb6544(0xd9)][_0xeb6544(0x1d0)];}}_0x233b34[_0xeb6544(0x220)]&&(sessions=sessions[_0xeb6544(0x14e)](_0x3452e4=>!_0x3452e4[_0xeb6544(0x1eb)]['startsWith'](_0x457add)),Object['keys'](_0x233b34[_0xeb6544(0x220)])[_0xeb6544(0x1ea)](_0x3deb20=>{const _0x5db81b=_0xeb6544,_0x57fad4=_0x233b34[_0x5db81b(0x220)][_0x3deb20];_0x57fad4[_0x5db81b(0x1ea)](_0x597729=>{const _0x338017=_0x5db81b,_0x14a8aa=clients[_0x338017(0xc6)](_0x1330c7=>String(_0x1330c7['id'])===String(_0x597729['c']));sessions[_0x338017(0x163)]({'id':_0x597729['i'],'clientId':_0x597729['c'],'client':_0x14a8aa?_0x14a8aa['name']:'Unknown','dateStr':_0x457add+'-'+_0x3deb20[_0x338017(0xcc)](0x2,'0'),'start':_0x597729['s'],'end':_0x597729['e'],'status':_0x597729['st']||_0x338017(0xc4),'note':_0x597729['n']||'','seriesId':_0x597729[_0x338017(0x22f)]||null});});}));},async 'syncBatch'(_0x3331a5){const _0x4cdfcf=a2_0x328609,_0x21ca07=[...new Set(_0x3331a5)],_0x465f30=_0x21ca07[_0x4cdfcf(0xb7)](_0x3d5f12=>{const _0x26d12a=_0x4cdfcf,_0x49505f=sessions['filter'](_0x5af3d1=>_0x5af3d1[_0x26d12a(0x1eb)]===_0x3d5f12&&_0x5af3d1['status']!==_0x26d12a(0x13b)),_0x43caa1=_0x49505f['map'](_0x310c72=>({'i':_0x310c72['id'],'c':_0x310c72[_0x26d12a(0xff)],'s':_0x310c72[_0x26d12a(0x112)],'e':_0x310c72[_0x26d12a(0x120)],'st':_0x310c72[_0x26d12a(0x1fb)],'n':_0x310c72[_0x26d12a(0x1d1)],'sid':_0x310c72[_0x26d12a(0xcb)]}));return{'date':_0x3d5f12,'day_data':_0x43caa1};});if(_0x465f30[_0x4cdfcf(0x13a)]===0x0)return;console[_0x4cdfcf(0x14d)](_0x4cdfcf(0x1a9)+_0x465f30[_0x4cdfcf(0x13a)]+'\x20days'),await this['fetchFromServer'](_0x4cdfcf(0x19d),{'changes':_0x465f30});}};async function init(){const _0x29dff4=a2_0x328609;DataManager[_0x29dff4(0xdc)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x29dff4(0x21e)]('matrixViewport')[_0x29dff4(0x147)](_0x29dff4(0x1cd),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x29dff4(0x19e)]()[_0x29dff4(0x176)](()=>{const _0x271a71=_0x29dff4;showToast(_0x271a71(0x1cc),!![]);})[_0x29dff4(0xec)](_0xaaad98=>{const _0x346547=_0x29dff4;showToast(_0x346547(0xea),![]);});}function generateId(){const _0x14c2a8=a2_0x328609;return Date[_0x14c2a8(0x1cb)]()[_0x14c2a8(0x111)](0x24)+Math[_0x14c2a8(0xc7)]()[_0x14c2a8(0x111)](0x24)[_0x14c2a8(0x18a)](0x2,0x5);}function toggleSeriesInput(){const _0x282c45=a2_0x328609,_0x3b26a6=document[_0x282c45(0x21e)]('inpRecurring')[_0x282c45(0xeb)],_0x9b02d9=document['getElementById'](_0x282c45(0x1cf));_0x9b02d9[_0x282c45(0x201)][_0x282c45(0x173)]=_0x3b26a6?_0x282c45(0x1b5):_0x282c45(0x1bb);const _0x916517=document[_0x282c45(0x21e)]('recurringOptionContainer');_0x916517[_0x282c45(0x201)][_0x282c45(0x20d)]=_0x3b26a6?'10px\x2010px\x200\x200':'10px';}function openAddSession(_0x20955b){const _0x4b06b9=a2_0x328609;editingId=null,populateClientSelect(),document['getElementById'](_0x4b06b9(0x106))[_0x4b06b9(0x130)]=_0x4b06b9(0xd5),document[_0x4b06b9(0x21e)](_0x4b06b9(0x21b))['style'][_0x4b06b9(0x173)]=_0x4b06b9(0x1bb),document[_0x4b06b9(0x21e)](_0x4b06b9(0xc9))[_0x4b06b9(0x201)][_0x4b06b9(0x173)]='none';const _0x576936=document[_0x4b06b9(0x21e)](_0x4b06b9(0x198)),_0x4952cf=document['getElementById'](_0x4b06b9(0x1cf));_0x576936[_0x4b06b9(0x201)][_0x4b06b9(0x173)]='flex',_0x576936[_0x4b06b9(0x201)][_0x4b06b9(0x20d)]=_0x4b06b9(0x20f),document[_0x4b06b9(0x21e)](_0x4b06b9(0x146))[_0x4b06b9(0xeb)]=![],document['getElementById'](_0x4b06b9(0x23d))['value']=0x4,_0x4952cf[_0x4b06b9(0x201)][_0x4b06b9(0x173)]=_0x4b06b9(0x1bb),document['getElementById'](_0x4b06b9(0x1ef))['value']=getLocalDateStr(_0x20955b),updateDateDisplay();const _0x5b06c7=_0x20955b[_0x4b06b9(0x1c0)]();document['getElementById']('inpStart')[_0x4b06b9(0x1e7)]=String(_0x5b06c7)['padStart'](0x2,'0')+':00',document[_0x4b06b9(0x21e)](_0x4b06b9(0x221))[_0x4b06b9(0x1e7)]=String(_0x5b06c7+0x1)['padStart'](0x2,'0')+_0x4b06b9(0x12a),openSheet(_0x4b06b9(0x1ab));}function openEdit(_0x1847e2){const _0x428424=a2_0x328609;editingId=_0x1847e2['id'],populateClientSelect(),document[_0x428424(0x21e)](_0x428424(0x106))[_0x428424(0x130)]=_0x428424(0x1b9),document[_0x428424(0x21e)]('btnDelete')[_0x428424(0x201)][_0x428424(0x173)]=_0x428424(0x1b5);const _0x31a74c=document[_0x428424(0x21e)](_0x428424(0xc9));_0x31a74c[_0x428424(0x201)]['display']=_0x428424(0x109);_0x1847e2[_0x428424(0x1fb)]==='completed'?(_0x31a74c[_0x428424(0x13d)]=_0x428424(0x189),_0x31a74c[_0x428424(0x181)]=_0x428424(0x1e3)):(_0x31a74c[_0x428424(0x13d)]='btn-status-toggle',_0x31a74c[_0x428424(0x181)]='<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É');const _0x2cc2ff=!!_0x1847e2[_0x428424(0xcb)];document[_0x428424(0x21e)](_0x428424(0x198))[_0x428424(0x201)][_0x428424(0x173)]=_0x428424(0x1bb),document['getElementById']('seriesCountContainer')[_0x428424(0x201)][_0x428424(0x173)]='none',_0x2cc2ff?(document[_0x428424(0x21e)](_0x428424(0x1fd))[_0x428424(0x201)][_0x428424(0x173)]=_0x428424(0x109),document['getElementById'](_0x428424(0x1fd))[_0x428424(0xc1)](_0x428424(0x133))[_0x428424(0x130)]=_0x428424(0x14f)):document[_0x428424(0x21e)]('patternInfoBox')[_0x428424(0x201)][_0x428424(0x173)]='none',document[_0x428424(0x21e)](_0x428424(0x1b1))[_0x428424(0x1e7)]=_0x1847e2['client'],document[_0x428424(0x21e)](_0x428424(0x1ef))[_0x428424(0x1e7)]=_0x1847e2[_0x428424(0x1eb)],document[_0x428424(0x21e)]('inpStart')[_0x428424(0x1e7)]=_0x1847e2[_0x428424(0x112)],document[_0x428424(0x21e)](_0x428424(0x221))[_0x428424(0x1e7)]=_0x1847e2['end'],document[_0x428424(0x21e)]('inpNote')[_0x428424(0x1e7)]=_0x1847e2['note']||'',updateDateDisplay(),openSheet(_0x428424(0x1ab));}async function trySaveSession(){const _0x2f29c1=a2_0x328609,_0x23f9d4=document[_0x2f29c1(0x21e)]('inpClient')[_0x2f29c1(0x1e7)],_0x51ee2b=document['getElementById'](_0x2f29c1(0x1ef))[_0x2f29c1(0x1e7)],_0x3d3808=document['getElementById'](_0x2f29c1(0x1b8))[_0x2f29c1(0x1e7)],_0x427f72=document[_0x2f29c1(0x21e)](_0x2f29c1(0x221))[_0x2f29c1(0x1e7)],_0x4e93f4=document['getElementById'](_0x2f29c1(0x1fa))['value'],_0x4acec4=document[_0x2f29c1(0x21e)](_0x2f29c1(0x146))[_0x2f29c1(0xeb)];let _0x2d7cc9=0x4;if(_0x4acec4){const _0x21a784=parseInt(document[_0x2f29c1(0x21e)](_0x2f29c1(0x23d))[_0x2f29c1(0x1e7)]);if(!_0x21a784||_0x21a784<0x2){showToast('–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏',![]);return;}if(_0x21a784>0x64){showToast('–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑',![]);return;}_0x2d7cc9=_0x21a784;}const _0x46791c=clients[_0x2f29c1(0xc6)](_0x34ddf9=>_0x34ddf9[_0x2f29c1(0x212)]===_0x23f9d4);if(!_0x46791c){showToast(_0x2f29c1(0x223),![]);return;}const _0x5ee9c7=validateAppointment(_0x51ee2b,_0x3d3808,_0x427f72,editingId,_0x46791c['id']);if(!_0x5ee9c7['valid']){showToast(_0x5ee9c7['msg'],![]);return;}_0x5ee9c7[_0x2f29c1(0x206)]&&showToast(_0x5ee9c7['warning'],![]);const _0x5e8813={'client':_0x23f9d4,'clientId':_0x46791c['id'],'start':_0x3d3808,'end':_0x427f72,'note':_0x4e93f4,'status':_0x2f29c1(0xc4)},_0x384562=editingId?sessions[_0x2f29c1(0xc6)](_0x23430b=>_0x23430b['id']===editingId):null;if(_0x384562&&_0x384562[_0x2f29c1(0xcb)]){tempSessionData={..._0x5e8813,'dateStr':_0x51ee2b,'id':editingId,'seriesId':_0x384562[_0x2f29c1(0xcb)]},openActionSheet(_0x2f29c1(0x13c));return;}let _0x25a92a=null;if(!editingId)_0x25a92a='create';else{if(_0x384562){if(String(_0x384562['clientId'])!==String(_0x46791c['id']))console[_0x2f29c1(0x14d)](_0x2f29c1(0xe0)),NotificationManager[_0x2f29c1(0x17c)](_0x2f29c1(0x175),_0x384562),_0x25a92a=_0x2f29c1(0x204);else(_0x384562[_0x2f29c1(0x112)]!==_0x3d3808||_0x384562[_0x2f29c1(0x120)]!==_0x427f72||_0x384562[_0x2f29c1(0x1eb)]!==_0x51ee2b)&&(_0x25a92a=_0x2f29c1(0x154));}}if(!editingId&&_0x4acec4){createBatchSeries(_0x5e8813,_0x51ee2b,_0x2d7cc9),NotificationManager['send'](_0x2f29c1(0x204),{..._0x5e8813,'dateStr':_0x51ee2b});return;}lastUserActionTime=Date[_0x2f29c1(0x1cb)]();const _0x539d9f={..._0x5e8813,'dateStr':_0x51ee2b,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x539d9f),_0x25a92a&&NotificationManager[_0x2f29c1(0x17c)](_0x25a92a,_0x539d9f);}function toggleSessionStatus(){const _0x2271bd=a2_0x328609;lastUserActionTime=Date[_0x2271bd(0x1cb)]();const _0x59435d=sessions[_0x2271bd(0xc6)](_0x3726bd=>_0x3726bd['id']===editingId);if(!_0x59435d)return;const _0x5ee072=_0x59435d[_0x2271bd(0x1fb)]==='completed'?_0x2271bd(0xc4):_0x2271bd(0x228);_0x59435d[_0x2271bd(0x1fb)]=_0x5ee072,saveSingleSession(_0x59435d),_0x5ee072===_0x2271bd(0x228)&&NotificationManager['send'](_0x2271bd(0x14a),_0x59435d),showToast(_0x5ee072===_0x2271bd(0x228)?_0x2271bd(0x1b2):_0x2271bd(0x1e4),!![]);}function validateAppointment(_0x3c651e,_0x5849fc,_0x3464fd,_0x353482,_0x173cc2){const _0x4ab083=a2_0x328609,[_0x3f3460,_0x1f046c]=_0x5849fc[_0x4ab083(0x140)](':')[_0x4ab083(0xb7)](Number),[_0x464271,_0x1aa78c]=_0x3464fd[_0x4ab083(0x140)](':')[_0x4ab083(0xb7)](Number),_0x4ebfec=_0x3f3460*0x3c+_0x1f046c,_0x48f359=_0x464271*0x3c+_0x1aa78c,_0x353e6e=String(_0x173cc2);let _0x40beca=![],_0xdd4737='';for(let _0x2ba196 of sessions){if(_0x2ba196[_0x4ab083(0x1eb)]!==_0x3c651e)continue;if(_0x2ba196[_0x4ab083(0x1fb)]===_0x4ab083(0x1b7))continue;if(_0x353482&&String(_0x2ba196['id'])===String(_0x353482))continue;const [_0x217c1d,_0x26a0be]=_0x2ba196['start']['split'](':')[_0x4ab083(0xb7)](Number),[_0x5df859,_0x1b02a3]=_0x2ba196[_0x4ab083(0x120)][_0x4ab083(0x140)](':')[_0x4ab083(0xb7)](Number),_0x565529=_0x217c1d*0x3c+_0x26a0be,_0x224264=_0x5df859*0x3c+_0x1b02a3;if(Math['max'](_0x4ebfec,_0x565529)<Math[_0x4ab083(0xca)](_0x48f359,_0x224264)){if(_0x2ba196[_0x4ab083(0xff)]&&String(_0x2ba196[_0x4ab083(0xff)])===_0x353e6e)return{'valid':![],'msg':_0x4ab083(0x21a)+_0x2ba196[_0x4ab083(0xee)]+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x40beca=!![],_0xdd4737=_0x2ba196['client'];}}if(_0x40beca)return{'valid':!![],'warning':_0x4ab083(0xc2)+_0xdd4737};return{'valid':!![]};}function saveSingleSession(_0x32840f){const _0x494517=a2_0x328609;if(editingId){const _0x219e15=sessions[_0x494517(0x20e)](_0x1968c8=>_0x1968c8['id']===editingId);if(_0x219e15!==-0x1)sessions[_0x219e15]=_0x32840f;}else sessions[_0x494517(0x163)](_0x32840f);afterSaveAction([_0x32840f[_0x494517(0x1eb)]]);}function createBatchSeries(_0x1b1b91,_0x1bbd6f,_0xf86e98){const _0x2b14c0=a2_0x328609,_0x2b3edb=generateId(),_0x58154e=[],_0x5ee6c1=[];let _0x57c61f=0x0,_0x21a856=new Date(_0x1bbd6f);for(let _0x81762f=0x0;_0x81762f<_0xf86e98;_0x81762f++){const _0x215be5=getLocalDateStr(_0x21a856),_0x26f099=validateAppointment(_0x215be5,_0x1b1b91[_0x2b14c0(0x112)],_0x1b1b91['end'],null,_0x1b1b91[_0x2b14c0(0xff)]);if(!_0x26f099[_0x2b14c0(0x129)])console[_0x2b14c0(0x14d)](_0x2b14c0(0x174)+_0x215be5+_0x2b14c0(0x135)),_0x57c61f++;else{const _0x4d0d62={..._0x1b1b91,'id':generateId(),'dateStr':_0x215be5,'seriesId':_0x2b3edb};_0x5ee6c1[_0x2b14c0(0x163)](_0x4d0d62),_0x58154e[_0x2b14c0(0x163)](_0x215be5);}_0x21a856[_0x2b14c0(0xe6)](_0x21a856[_0x2b14c0(0x150)]()+0x7);}if(_0x5ee6c1['length']===0x0){showToast('–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!',![]);return;}sessions[_0x2b14c0(0x163)](..._0x5ee6c1),lastUserActionTime=Date[_0x2b14c0(0x1cb)]();let _0xad2f5a=_0x2b14c0(0x15c)+_0x5ee6c1[_0x2b14c0(0x13a)];_0x57c61f>0x0&&(_0xad2f5a+=_0x2b14c0(0x1a5)+_0x57c61f+')'),showToast(_0xad2f5a,!![]),afterSaveAction(_0x58154e);}function updateSeriesBatch(_0x7fd13c,_0x4b98fe){const _0x3e7651=a2_0x328609,_0x2f56f5=[],_0x12b20b=_0x4b98fe['seriesId'];if(_0x7fd13c===_0x3e7651(0x1a8)){const _0xcb19fb={..._0x4b98fe,'seriesId':null},_0x5a8f66=sessions['findIndex'](_0x2772f8=>_0x2772f8['id']===_0x4b98fe['id']);if(_0x5a8f66!==-0x1)sessions[_0x5a8f66]=_0xcb19fb;_0x2f56f5[_0x3e7651(0x163)](_0xcb19fb['dateStr']);}else{if(_0x7fd13c===_0x3e7651(0x12b)){const _0x4e6e1b=_0x4b98fe[_0x3e7651(0x1eb)];sessions['forEach']((_0x3a40cd,_0x25c284)=>{const _0x5b5c26=_0x3e7651;_0x3a40cd['seriesId']===_0x12b20b&&_0x3a40cd[_0x5b5c26(0x1eb)]>=_0x4e6e1b&&(sessions[_0x25c284]={...sessions[_0x25c284],'start':_0x4b98fe[_0x5b5c26(0x112)],'end':_0x4b98fe[_0x5b5c26(0x120)],'note':_0x4b98fe[_0x5b5c26(0x1d1)],'client':_0x4b98fe[_0x5b5c26(0xee)],'clientId':_0x4b98fe[_0x5b5c26(0xff)]},_0x2f56f5[_0x5b5c26(0x163)](_0x3a40cd[_0x5b5c26(0x1eb)]));});}}afterSaveAction(_0x2f56f5);}function tryDeleteSession(){const _0x273154=a2_0x328609,_0x5b3097=sessions[_0x273154(0xc6)](_0x256430=>_0x256430['id']===editingId);if(!_0x5b3097)return;_0x5b3097[_0x273154(0xcb)]?openActionSheet('delete'):commitDelete('single',_0x5b3097);}function commitDelete(_0x5afd9d,_0x225771){const _0x1a2dd4=a2_0x328609;lastUserActionTime=Date[_0x1a2dd4(0x1cb)](),NotificationManager['send'](_0x1a2dd4(0x175),_0x225771);const _0x3421d1=[];if(_0x5afd9d===_0x1a2dd4(0x1a8))sessions=sessions['filter'](_0x40cf3d=>_0x40cf3d['id']!==_0x225771['id']),_0x3421d1[_0x1a2dd4(0x163)](_0x225771[_0x1a2dd4(0x1eb)]);else{if(_0x5afd9d===_0x1a2dd4(0x12b)){const _0x3f5e1b=_0x225771[_0x1a2dd4(0x1eb)],_0x1ffe5f=_0x225771['seriesId'];sessions[_0x1a2dd4(0x1ea)](_0x280f07=>{const _0x5e7deb=_0x1a2dd4;_0x280f07[_0x5e7deb(0xcb)]===_0x1ffe5f&&_0x280f07[_0x5e7deb(0x1eb)]>=_0x3f5e1b&&_0x3421d1[_0x5e7deb(0x163)](_0x280f07[_0x5e7deb(0x1eb)]);}),sessions=sessions[_0x1a2dd4(0x14e)](_0x521330=>!(_0x521330['seriesId']===_0x1ffe5f&&_0x521330[_0x1a2dd4(0x1eb)]>=_0x3f5e1b));}}afterSaveAction(_0x3421d1);}function afterSaveAction(_0x2f2924){const _0x2f2f3e=a2_0x328609;DataManager['saveLocally'](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager['syncBatch'](_0x2f2924)['then'](()=>console['log'](_0x2f2f3e(0x190)))['catch'](_0x4cb255=>showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ',![]));}const NotificationManager={'formatDate'(_0x4cbda0){const _0x4174aa=a2_0x328609,_0x38dfb2=new Date(_0x4cbda0),_0x2faa98={'weekday':'long','day':_0x4174aa(0x210),'month':'long'};let _0x309279=_0x38dfb2['toLocaleDateString'](_0x4174aa(0x144),_0x2faa98);return _0x309279[_0x4174aa(0x108)](0x0)['toUpperCase']()+_0x309279[_0x4174aa(0x1a6)](0x1);},'getText'(_0x4bacbc,_0x5ed8c2){const _0x1d4747=a2_0x328609,_0x3f6562=this[_0x1d4747(0xda)](_0x5ed8c2[_0x1d4747(0x1eb)]);switch(_0x4bacbc){case _0x1d4747(0x204):return _0x1d4747(0xf4)+(_0x1d4747(0x224)+_0x3f6562+'\x0a')+(_0x1d4747(0x1e9)+_0x5ed8c2['start']+_0x1d4747(0x1dc)+_0x5ed8c2['end']+'\x0a\x0a')+_0x1d4747(0xe2);case _0x1d4747(0x154):return'<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a'+_0x1d4747(0x115)+(_0x1d4747(0x207)+_0x5ed8c2[_0x1d4747(0x112)]+_0x1d4747(0x1dc)+_0x5ed8c2[_0x1d4747(0x120)]+_0x1d4747(0x21d))+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0x3f6562);case _0x1d4747(0x175):return _0x1d4747(0x202)+(_0x1d4747(0x1d7)+_0x3f6562+'\x20('+_0x5ed8c2[_0x1d4747(0x112)]+_0x1d4747(0xbc));case'complete':return _0x1d4747(0x1c4)+_0x1d4747(0x1f4)+_0x1d4747(0x22e);default:return'';}},async 'send'(_0x86a5c2,_0x4f9bed){const _0x15a03a=a2_0x328609;console[_0x15a03a(0x14d)](_0x15a03a(0xcf),_0x86a5c2,_0x4f9bed);if(!_0x4f9bed){console[_0x15a03a(0x102)](_0x15a03a(0x200));return;}const _0x280916=String(_0x4f9bed['clientId']);console[_0x15a03a(0x14d)](_0x15a03a(0x226),_0x280916);if(!_0x4f9bed[_0x15a03a(0xff)]||_0x280916===_0x15a03a(0x1bc)||_0x280916===_0x15a03a(0x151)){console[_0x15a03a(0x102)](_0x15a03a(0xd2));if(_0x4f9bed[_0x15a03a(0xee)]){const _0x1abaaf=clients['find'](_0x2b2a85=>_0x2b2a85[_0x15a03a(0x212)]===_0x4f9bed[_0x15a03a(0xee)]);if(_0x1abaaf)return console['log'](_0x15a03a(0x1b6),_0x1abaaf['id']),this[_0x15a03a(0x17c)](_0x86a5c2,{..._0x4f9bed,'clientId':_0x1abaaf['id']});}return;}if(_0x280916[_0x15a03a(0x13a)]<0x5){console[_0x15a03a(0x199)](_0x15a03a(0x235),_0x280916);return;}const _0x3ae6e4=this['getText'](_0x86a5c2,_0x4f9bed);if(!_0x3ae6e4){console[_0x15a03a(0x102)](_0x15a03a(0x1e6));return;}console['log'](_0x15a03a(0x1f5)+_0x280916+_0x15a03a(0x1d2)),DataManager[_0x15a03a(0x191)]('send_notification',{'chatId':_0x280916,'text':_0x3ae6e4})[_0x15a03a(0x176)](_0xc8d2be=>console[_0x15a03a(0x14d)](_0x15a03a(0x1ed),_0xc8d2be))['catch'](_0x43f1fd=>console['error']('[Notify]\x20Network\x20Failed',_0x43f1fd));}};function getLocalDateStr(_0x37df32){const _0x8a5da1=a2_0x328609,_0x5ec90b=_0x37df32[_0x8a5da1(0x126)](),_0x7f86b0=String(_0x37df32[_0x8a5da1(0x232)]()+0x1)['padStart'](0x2,'0'),_0x2d6247=String(_0x37df32['getDate']())['padStart'](0x2,'0');return _0x5ec90b+'-'+_0x7f86b0+'-'+_0x2d6247;}function getDateStr(_0x258926){const _0x42c787=a2_0x328609,_0x35dc82=new Date();return _0x35dc82[_0x42c787(0xe6)](_0x35dc82[_0x42c787(0x150)]()+_0x258926),getLocalDateStr(_0x35dc82);}function getStartOfWeek(_0x50fe5b){const _0xd05855=a2_0x328609,_0x417c5c=(function(){let _0x54691e=!![];return function(_0x5cd10e,_0x12cacd){const _0x401552=_0x54691e?function(){const _0x39890e=a2_0x1b94;if(_0x12cacd){const _0x333696=_0x12cacd[_0x39890e(0xe4)](_0x5cd10e,arguments);return _0x12cacd=null,_0x333696;}}:function(){};return _0x54691e=![],_0x401552;};}()),_0x411a9f=_0x417c5c(this,function(){const _0x1e4a8b=a2_0x1b94;return _0x411a9f[_0x1e4a8b(0x111)]()[_0x1e4a8b(0xe3)](_0x1e4a8b(0xbd))[_0x1e4a8b(0x111)]()[_0x1e4a8b(0x1be)](_0x411a9f)[_0x1e4a8b(0xe3)]('(((.+)+)+)+$');});_0x411a9f();const _0x3ceabf=new Date(_0x50fe5b),_0x497d99=_0x3ceabf[_0xd05855(0x238)](),_0x559026=_0x3ceabf['getDate']()-_0x497d99+(_0x497d99===0x0?-0x6:0x1);return _0x3ceabf['setDate'](_0x559026),_0x3ceabf[_0xd05855(0x23b)](0x0,0x0,0x0,0x0),_0x3ceabf;}function hexToRgba(_0x237681,_0x436ce2){const _0x41870d=a2_0x328609;if(!_0x237681)return'rgba(100,100,100,0.5)';let _0x7afc6a=0x0,_0x4f7493=0x0,_0x563035=0x0;if(_0x237681[_0x41870d(0x13a)]===0x4)_0x7afc6a='0x'+_0x237681[0x1]+_0x237681[0x1],_0x4f7493='0x'+_0x237681[0x2]+_0x237681[0x2],_0x563035='0x'+_0x237681[0x3]+_0x237681[0x3];else _0x237681[_0x41870d(0x13a)]===0x7&&(_0x7afc6a='0x'+_0x237681[0x1]+_0x237681[0x2],_0x4f7493='0x'+_0x237681[0x3]+_0x237681[0x4],_0x563035='0x'+_0x237681[0x5]+_0x237681[0x6]);return _0x41870d(0xf3)+ +_0x7afc6a+',\x20'+ +_0x4f7493+',\x20'+ +_0x563035+',\x20'+_0x436ce2+')';}function renderTimeColumn(){const _0x56d27e=a2_0x328609,_0x55b1fb=document[_0x56d27e(0x21e)]('timeColumn'),_0x544a44=document['getElementById'](_0x56d27e(0x217));_0x55b1fb['innerHTML']='',_0x55b1fb['appendChild'](_0x544a44);for(let _0x3849e6=0x0;_0x3849e6<0x18;_0x3849e6++){const _0x2512f6=document[_0x56d27e(0x188)](_0x56d27e(0xd6));_0x2512f6[_0x56d27e(0x13d)]='time-label';if(_0x3849e6>0x0)_0x2512f6[_0x56d27e(0x181)]='<span>'+String(_0x3849e6)['padStart'](0x2,'0')+_0x56d27e(0xfe);_0x55b1fb[_0x56d27e(0x1a2)](_0x2512f6);}}function renderDayRange(_0x3b22af,_0x1d93cf){const _0x17b236=a2_0x328609,_0x3b9787=document['getElementById'](_0x17b236(0x197)),_0x288963=document[_0x17b236(0x21e)]('gridColumns'),_0x6b377c=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1bd2d0=new Date();_0x1bd2d0[_0x17b236(0x23b)](0x0,0x0,0x0,0x0);const _0x25a957=getLocalDateStr(new Date());for(let _0x546e30=_0x3b22af;_0x546e30<=_0x1d93cf;_0x546e30++){const _0x49c4cf=new Date(_0x1bd2d0);_0x49c4cf[_0x17b236(0xe6)](_0x49c4cf[_0x17b236(0x150)]()+_0x546e30);const _0x76f640=getLocalDateStr(_0x49c4cf);let _0x15dd82=_0x49c4cf['getDay']()-0x1;if(_0x15dd82===-0x1)_0x15dd82=0x6;const _0x1f10d4=_0x76f640===_0x25a957,_0x1e96ae=document['createElement']('div');_0x1e96ae['className']=_0x17b236(0x18d)+(_0x1f10d4?_0x17b236(0x10e):''),_0x1e96ae['id']=_0x17b236(0x1ad)+_0x76f640,_0x1e96ae['setAttribute'](_0x17b236(0x142),_0x76f640),_0x1e96ae[_0x17b236(0x181)]=_0x17b236(0x1c5)+_0x6b377c[_0x15dd82]+_0x17b236(0x107)+_0x49c4cf[_0x17b236(0x150)]()+_0x17b236(0x1ac)+_0x76f640+_0x17b236(0x136),_0x1e96ae[_0x17b236(0x152)]=()=>openDayOptions(_0x76f640,_0x6b377c[_0x15dd82]+'\x20'+_0x49c4cf['getDate']()),_0x3b9787[_0x17b236(0x1a2)](_0x1e96ae);const _0x4ee056=document[_0x17b236(0x188)](_0x17b236(0xd6));_0x4ee056[_0x17b236(0x13d)]=_0x17b236(0x1ff)+(_0x1f10d4?_0x17b236(0x10e):''),_0x4ee056['setAttribute'](_0x17b236(0x142),_0x76f640),_0x4ee056[_0x17b236(0x113)]('data-day-idx',_0x15dd82),renderEventsForColumn(_0x4ee056,_0x76f640,_0x15dd82),attachLongPressHandler(_0x4ee056,_0x49c4cf),_0x288963['appendChild'](_0x4ee056),updateDayStats(_0x76f640);}}function reRenderBlocks(){const _0x108401=a2_0x328609;document['querySelectorAll'](_0x108401(0x229))[_0x108401(0x1ea)](_0x55f54c=>{const _0xbf8d6b=_0x108401;_0x55f54c[_0xbf8d6b(0x137)]('.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card')[_0xbf8d6b(0x1ea)](_0x34bc44=>_0x34bc44[_0xbf8d6b(0x157)]());const _0xba226f=_0x55f54c[_0xbf8d6b(0x17e)](_0xbf8d6b(0x142)),_0x1d9141=parseInt(_0x55f54c[_0xbf8d6b(0x17e)](_0xbf8d6b(0x12f))),_0x19c9c1=Math[_0xbf8d6b(0xf9)](_0x55f54c[_0xbf8d6b(0x17f)]);(availabilityPattern[_0x1d9141]||[])[_0xbf8d6b(0x1ea)](_0x1e8378=>{const _0x335f3c=_0xbf8d6b,_0x5ae8da=document[_0x335f3c(0x188)]('div');_0x5ae8da['className']=_0x335f3c(0x16d);const _0x870acc=_0x1e8378*GRID_H;_0x5ae8da['style'][_0x335f3c(0x1bd)]=_0x870acc+'px',_0x5ae8da[_0x335f3c(0x201)][_0x335f3c(0x1c1)]='-'+_0x19c9c1+'px\x20-'+_0x870acc+'px',_0x55f54c[_0x335f3c(0x1a2)](_0x5ae8da);});if(specialRanges&&specialRanges[_0xbf8d6b(0x13a)]>0x0){const _0x482b21=new Date(_0xba226f+'T00:00:00')[_0xbf8d6b(0x165)](),_0x149289=new Date(_0xba226f+_0xbf8d6b(0xd0))[_0xbf8d6b(0x165)]();specialRanges[_0xbf8d6b(0x1ea)](_0x14a110=>{const _0x5831fc=_0xbf8d6b,_0x3ee268=new Date(_0x14a110[_0x5831fc(0x112)])['getTime'](),_0x47d89a=new Date(_0x14a110[_0x5831fc(0x120)])[_0x5831fc(0x165)](),_0x1483b6=Math[_0x5831fc(0x114)](_0x482b21,_0x3ee268),_0x2b6f82=Math['min'](_0x149289,_0x47d89a);if(_0x1483b6<_0x2b6f82){if(_0x1483b6<=_0x482b21&&_0x2b6f82>=_0x149289-0xea60){if(!_0x55f54c[_0x5831fc(0xc1)](_0x5831fc(0x1b4))){const _0xe7d35b=document[_0x5831fc(0x188)]('div');_0xe7d35b[_0x5831fc(0x13d)]='day-off-overlay\x20stripe-bg',_0xe7d35b['style'][_0x5831fc(0x1c1)]='-'+_0x19c9c1+'px\x200px',_0x55f54c['appendChild'](_0xe7d35b);}}else{const _0x5c05af=(_0x1483b6-_0x482b21)/0x36ee80*GRID_H,_0x24b591=(_0x2b6f82-_0x1483b6)/0x36ee80*GRID_H,_0x13d47d=document['createElement']('div');_0x13d47d[_0x5831fc(0x13d)]=_0x5831fc(0x21f),_0x13d47d['style']['top']=_0x5c05af+'px',_0x13d47d[_0x5831fc(0x201)][_0x5831fc(0x1f0)]=_0x24b591+'px',_0x13d47d[_0x5831fc(0x201)][_0x5831fc(0x1c1)]='-'+_0x19c9c1+_0x5831fc(0x15e)+_0x5c05af+'px',_0x55f54c[_0x5831fc(0x1a2)](_0x13d47d);}}});}if(dateExceptions[_0xba226f]===_0xbf8d6b(0xce)){if(!_0x55f54c[_0xbf8d6b(0xc1)]('.day-off-overlay')){const _0x4b1398=document['createElement'](_0xbf8d6b(0xd6));_0x4b1398[_0xbf8d6b(0x13d)]=_0xbf8d6b(0x1f6),_0x4b1398[_0xbf8d6b(0x201)]['backgroundPosition']='-'+_0x19c9c1+_0xbf8d6b(0xdb),_0x55f54c[_0xbf8d6b(0x1a2)](_0x4b1398);}}renderEventsForColumn(_0x55f54c,_0xba226f,_0x1d9141),updateDayStats(_0xba226f);});}function updateAllDayStats(){const _0x590776=a2_0x328609;document[_0x590776(0x137)](_0x590776(0x1ec))['forEach'](_0x38aa64=>{const _0x11c8c8=_0x590776;updateDayStats(_0x38aa64[_0x11c8c8(0x17e)](_0x11c8c8(0x142)));});}function updateDayStats(_0x3a4f3b){const _0xdeb28c=a2_0x328609,_0x3142d9=document[_0xdeb28c(0x21e)](_0xdeb28c(0x1e1)+_0x3a4f3b);if(!_0x3142d9)return;const _0x5219a3=new Date(_0x3a4f3b);let _0x324ca0=_0x5219a3[_0xdeb28c(0x238)]()-0x1;if(_0x324ca0===-0x1)_0x324ca0=0x6;if(dateExceptions[_0x3a4f3b]===_0xdeb28c(0xce)){_0x3142d9[_0xdeb28c(0x201)][_0xdeb28c(0x173)]='none';return;}const _0x3039c8=availabilityPattern[_0x324ca0]||[],_0x4daa75=0x18-_0x3039c8[_0xdeb28c(0x13a)],_0x2d00bd=_0x4daa75*0x3c,_0x1fd819=sessions[_0xdeb28c(0x14e)](_0x2b64f9=>_0x2b64f9[_0xdeb28c(0x1eb)]===_0x3a4f3b&&_0x2b64f9[_0xdeb28c(0x1fb)]!==_0xdeb28c(0x1b7));if(_0x1fd819[_0xdeb28c(0x13a)]===0x0){_0x3142d9[_0xdeb28c(0x201)][_0xdeb28c(0x173)]='none';return;}let _0x472551=_0x1fd819['map'](_0x25c124=>{const _0x5784e5=_0xdeb28c,[_0x6ebf47,_0x2939f0]=_0x25c124[_0x5784e5(0x112)][_0x5784e5(0x140)](':')['map'](Number),[_0x3458da,_0x1fe941]=_0x25c124[_0x5784e5(0x120)][_0x5784e5(0x140)](':')[_0x5784e5(0xb7)](Number);return[_0x6ebf47*0x3c+_0x2939f0,_0x3458da*0x3c+_0x1fe941];});_0x472551[_0xdeb28c(0x227)]((_0x57a5e7,_0x5882ae)=>_0x57a5e7[0x0]-_0x5882ae[0x0]);let _0x326be2=[];if(_0x472551[_0xdeb28c(0x13a)]>0x0){let _0x36b820=_0x472551[0x0];for(let _0x164db7=0x1;_0x164db7<_0x472551[_0xdeb28c(0x13a)];_0x164db7++){_0x472551[_0x164db7][0x0]<_0x36b820[0x1]?_0x36b820[0x1]=Math[_0xdeb28c(0x114)](_0x36b820[0x1],_0x472551[_0x164db7][0x1]):(_0x326be2['push'](_0x36b820),_0x36b820=_0x472551[_0x164db7]);}_0x326be2[_0xdeb28c(0x163)](_0x36b820);}let _0x4aab41=0x0;_0x326be2[_0xdeb28c(0x1ea)](_0x59d193=>_0x4aab41+=_0x59d193[0x1]-_0x59d193[0x0]),_0x3142d9[_0xdeb28c(0x201)][_0xdeb28c(0x173)]=_0xdeb28c(0x109);const _0x1300a2=_0x3142d9[_0xdeb28c(0xc1)](_0xdeb28c(0xfd));if(_0x2d00bd===0x0){_0x1300a2['style'][_0xdeb28c(0x1ba)]='100%',_0x1300a2[_0xdeb28c(0x201)]['background']='var(--acc-red)';return;}const _0x46fc03=_0x4aab41/_0x2d00bd*0x64;console[_0xdeb28c(0x14d)]('['+_0x3a4f3b+_0xdeb28c(0x17b)+_0x4daa75+_0xdeb28c(0x1c3)+_0x4aab41+_0xdeb28c(0xba)+_0x46fc03[_0xdeb28c(0x218)](0x1)+'%'),_0x46fc03>0x64?(_0x1300a2[_0xdeb28c(0x201)][_0xdeb28c(0x1ba)]='100%',_0x1300a2[_0xdeb28c(0x201)][_0xdeb28c(0x15a)]=_0xdeb28c(0x1f1)):(_0x1300a2[_0xdeb28c(0x201)][_0xdeb28c(0x1ba)]=_0x46fc03+'%',_0x1300a2[_0xdeb28c(0x201)][_0xdeb28c(0x15a)]=_0xdeb28c(0x222));}function renderEventsForColumn(_0x9ddbe5,_0x38d72e,_0x46f269){const _0xe62f37=a2_0x328609,_0x298693=sessions[_0xe62f37(0x14e)](_0x4a6742=>_0x4a6742[_0xe62f37(0x1eb)]===_0x38d72e),_0x4ad71b=_0x298693[_0xe62f37(0xb7)](_0x8645bc=>{const _0x346897=_0xe62f37,[_0x4ff4ce,_0x5f0899]=_0x8645bc[_0x346897(0x112)][_0x346897(0x140)](':')[_0x346897(0xb7)](Number),[_0x23d8d1,_0x31ec1d]=_0x8645bc[_0x346897(0x120)][_0x346897(0x140)](':')[_0x346897(0xb7)](Number);return{'data':_0x8645bc,'start':_0x4ff4ce*0x3c+_0x5f0899,'end':_0x23d8d1*0x3c+_0x31ec1d,'colIndex':0x0};});_0x4ad71b[_0xe62f37(0x227)]((_0x46a6c8,_0x32d30f)=>{const _0x49edd2=_0xe62f37;if(_0x46a6c8[_0x49edd2(0x112)]!==_0x32d30f[_0x49edd2(0x112)])return _0x46a6c8[_0x49edd2(0x112)]-_0x32d30f[_0x49edd2(0x112)];return _0x32d30f['end']-_0x32d30f[_0x49edd2(0x112)]-(_0x46a6c8[_0x49edd2(0x120)]-_0x46a6c8[_0x49edd2(0x112)]);});const _0x48cad0=[];_0x4ad71b['forEach'](_0x10b2cb=>{const _0x5689c3=_0xe62f37;let _0x1a774c=![];for(let _0x481da7=0x0;_0x481da7<_0x48cad0['length'];_0x481da7++){const _0x1555b2=_0x48cad0[_0x481da7],_0x4df7d6=_0x1555b2[_0x1555b2['length']-0x1];if(_0x10b2cb[_0x5689c3(0x112)]>=_0x4df7d6[_0x5689c3(0x120)]){_0x1555b2['push'](_0x10b2cb),_0x10b2cb[_0x5689c3(0x17d)]=_0x481da7,_0x1a774c=!![];break;}}!_0x1a774c&&(_0x48cad0[_0x5689c3(0x163)]([_0x10b2cb]),_0x10b2cb[_0x5689c3(0x17d)]=_0x48cad0[_0x5689c3(0x13a)]-0x1);}),_0x4ad71b[_0xe62f37(0x1ea)](_0x147bc0=>{const _0x128a1e=_0xe62f37;let _0x3fdd27=0x0;_0x4ad71b['forEach'](_0xdd99c5=>{const _0x3a854a=a2_0x1b94;if(Math[_0x3a854a(0x114)](_0x147bc0[_0x3a854a(0x112)],_0xdd99c5['start'])<Math[_0x3a854a(0xca)](_0x147bc0['end'],_0xdd99c5[_0x3a854a(0x120)])){if(_0xdd99c5['colIndex']>_0x3fdd27)_0x3fdd27=_0xdd99c5['colIndex'];}});const _0x46948d=_0x3fdd27+0x1,_0x4e7516=0x64/_0x46948d,_0x567748=_0x147bc0[_0x128a1e(0x17d)]*_0x4e7516,_0x4b410c=createEventEl(_0x147bc0['data']);_0x4b410c['style'][_0x128a1e(0x1ba)]=_0x128a1e(0x162)+_0x4e7516+_0x128a1e(0x1b0),_0x4b410c[_0x128a1e(0x201)][_0x128a1e(0x10c)]=_0x128a1e(0x162)+_0x567748+_0x128a1e(0x230),_0x4b410c[_0x128a1e(0x201)][_0x128a1e(0x141)]=0xa+_0x147bc0[_0x128a1e(0x17d)],_0x4e7516<0x55&&_0x4b410c[_0x128a1e(0x10f)][_0x128a1e(0x11a)](_0x128a1e(0xf8)),_0x9ddbe5[_0x128a1e(0x1a2)](_0x4b410c);});}function createEventEl(_0x1fa010){const _0x4f3327=a2_0x328609,[_0xa44b42,_0x3f5e9d]=_0x1fa010[_0x4f3327(0x112)][_0x4f3327(0x140)](':')[_0x4f3327(0xb7)](Number),[_0x38dbce,_0x51eecd]=_0x1fa010['end'][_0x4f3327(0x140)](':')[_0x4f3327(0xb7)](Number),_0x29af00=(_0xa44b42*0x3c+_0x3f5e9d)/0x3c*GRID_H,_0x5893d2=(_0x38dbce*0x3c+_0x51eecd-(_0xa44b42*0x3c+_0x3f5e9d))/0x3c*GRID_H,_0x454033=document['createElement'](_0x4f3327(0xd6)),_0x18cb25=_0x1fa010[_0x4f3327(0x1fb)]===_0x4f3327(0x228)?_0x4f3327(0x153):'';_0x454033[_0x4f3327(0x13d)]=_0x4f3327(0x23c)+_0x18cb25,_0x454033[_0x4f3327(0x201)]['top']=_0x29af00+'px',_0x454033[_0x4f3327(0x201)]['height']=Math[_0x4f3327(0x114)](_0x5893d2,0x14)+'px';const _0x21e58b=clients[_0x4f3327(0xc6)](_0x2c7dc4=>_0x1fa010[_0x4f3327(0xff)]&&String(_0x2c7dc4['id'])===String(_0x1fa010[_0x4f3327(0xff)])||_0x2c7dc4['name']===_0x1fa010[_0x4f3327(0xee)]),_0x215bb6=_0x21e58b?_0x21e58b[_0x4f3327(0x148)]:_0x4f3327(0x1c6);_0x454033[_0x4f3327(0x201)][_0x4f3327(0x168)]=_0x215bb6,_0x454033[_0x4f3327(0x201)][_0x4f3327(0x16b)]=hexToRgba(_0x215bb6,0.85);let _0x1dc3c1=_0x4f3327(0x214)+_0x1fa010[_0x4f3327(0xee)]+'</div><div\x20class=\x22ev-time\x22>'+_0x1fa010['start']+_0x4f3327(0x139)+_0x1fa010['end']+_0x4f3327(0x117);return _0x1fa010[_0x4f3327(0xcb)]&&(_0x1dc3c1+=_0x4f3327(0x1df)),_0x1fa010[_0x4f3327(0x1fb)]===_0x4f3327(0x228)&&(_0x1dc3c1+='<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>'),_0x454033[_0x4f3327(0x181)]=_0x1dc3c1,_0x454033[_0x4f3327(0x152)]=_0x465abe=>{const _0x65f78d=_0x4f3327;_0x465abe[_0x65f78d(0x119)](),openEdit(_0x1fa010);},_0x454033;}function attachLongPressHandler(_0x3eb183,_0x15e917){const _0x27bed7=a2_0x328609;let _0x549097=0x0,_0x46cb68=null;const _0x4a7a3e=_0x102f24=>{const _0x52fa46=a2_0x1b94;if(_0x102f24[_0x52fa46(0x216)]['closest']('.event-card'))return;isScrolling=![],_0x549097=_0x102f24['touches']?_0x102f24[_0x52fa46(0x103)][0x0][_0x52fa46(0x196)]:_0x102f24[_0x52fa46(0x196)],_0x46cb68=setTimeout(()=>{const _0x5a82f0=_0x52fa46;if(!isScrolling){navigator[_0x5a82f0(0x1c2)]?.(0x32);const _0x2efdc6=_0x3eb183[_0x5a82f0(0x1e5)](),_0x467ae8=Math[_0x5a82f0(0x1ee)]((_0x549097-_0x2efdc6[_0x5a82f0(0x1bd)])/GRID_H);_0x15e917[_0x5a82f0(0x23b)](_0x467ae8,0x0),openAddSession(_0x15e917);}},0x1f4);},_0x451a1e=()=>{isScrolling=!![],clearTimeout(_0x46cb68);},_0x37d60f=()=>{clearTimeout(_0x46cb68);};_0x3eb183[_0x27bed7(0x147)]('touchstart',_0x4a7a3e,{'passive':!![]}),_0x3eb183[_0x27bed7(0x147)](_0x27bed7(0xe9),_0x451a1e,{'passive':!![]}),_0x3eb183[_0x27bed7(0x147)](_0x27bed7(0x145),_0x37d60f),_0x3eb183[_0x27bed7(0x147)](_0x27bed7(0x1ca),_0x4a7a3e),_0x3eb183[_0x27bed7(0x147)](_0x27bed7(0x179),_0x451a1e),_0x3eb183[_0x27bed7(0x147)](_0x27bed7(0xcd),_0x37d60f);}function cancelLongPress(){}function a2_0x153f(){const _0x1b3377=['patternInfoBox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','day-column\x20','[Notify]\x20Error:\x20sessionData\x20is\x20null','style','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','save_settings','create','mergeServerData','warning','<b>‚úÖ\x20','data','88857EATBvi','analyticsList','rangeEndTime','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','borderRadius','findIndex','10px','numeric','#fff','name','rgba(48,\x20209,\x2088,\x200.15)','<div\x20class=\x22ev-title\x22>','scrollLeft','target','timeLineBadge','toFixed','asBtnOne','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','btnDelete','saveLocally','</b>\x0a\x0a','getElementById','blocked-range-part\x20stripe-bg','calendar','inpEnd','var(--acc-current)','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','localeCompare','[Notify]\x20Detected\x20Client\x20ID:','sort','completed','#gridColumns\x20.day-column','toast','doEventsList','3646907iEZcTv','doLoadPercent','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','sid','%\x20+\x202px)','var(--acc-orange)','getMonth','btn-primary\x20btn-secondary','rgba(255,\x20159,\x2010,\x200.3)','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','rangesSheet','–£—Å–ø–µ—à–Ω–æ','getDay','clients','router.html','setHours','event-card','inpSeriesCount','map','185AwGAkQ','all','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','uc_settings_cancel_window',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','(((.+)+)+)+$','dayOptionsTitle','var(--acc-green)','14QDlgUX','querySelector','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','toast-notification\x20','planned','–ò–Ω—Ñ–æ','find','random','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','btnStatusToggle','min','seriesId','padStart','mouseup','off','[Notify]\x20Attempting\x20to\x20send:','T23:59:59','active','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','rgba(255,255,255,0.05)','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','div','scrollTop','Save\x20settings\x20error:','settings','formatDate','px\x200px','loadLocal','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','sheetDateSubtitle','[Notify]\x20Client\x20SWAP\x20detected','parse','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','search','apply','scrollWidth','setDate','matrixViewport','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','touchmove','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','checked','catch','includes','client','json','show','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','rgba(','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','POST','ready','87352yIkUzr','mini','round','asTitle','3250710KhZkiI','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.dch-stats-fill',':00</span>','clientId','toastMessage','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','error','touches','dayOptionsSheet',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','sheetTitle','</div><div\x20class=\x22dch-num\x22>','charAt','flex','setBackgroundColor',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','left','setHeaderColor','today','classList','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','toString','start','setAttribute','max','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','4040346nPprLF','</div>','rangeEndDate','stopPropagation','add','uc_sessions_v9','–£–¥–∞–ª–µ–Ω–∏–µ','guest','settingsSheet','pe-col-header','end','anStart','rangeStartTime','as-button\x20danger\x20bold',']\x20Failed:','uc_clients_v9','getFullYear','[API\x20','doWorkHours','valid',':00','series','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','initData','toUpperCase','data-day-idx','textContent','stringify','exceptions','.pib-text','borderColor',':\x20Client\x20already\x20booked','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','querySelectorAll','2723970riYYHl','\x20-\x20','length','deleted','save','className','text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','split','zIndex','data-date','disableVerticalSwipes','ru-RU','touchend','inpRecurring','addEventListener','color','12CXXtzZ','complete','indexOf','total','log','filter','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','getDate','null','onclick','\x20status-completed','update','user','Telegram','remove','overlay','7iTagGp','background','createDocumentFragment','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','strokeDashoffset','px\x20-','doDateHeader','WebApp','pattern','calc(','push','open','getTime','long','option','borderLeftColor','asBtnSeries','anDonutCircle','backgroundColor','#050505','blocked-slot\x20stripe-bg','toLocaleString','191015RDIoeN','anCustomDates','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','peGrid','display','[Series]\x20Skipped\x20','cancel','then','1192ABwTMw','analyticsSheet','mousemove','month',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','send','colIndex','getAttribute','offsetLeft','client-stat-card','innerHTML','firstChild','anPercent','patternEditor','onClick','\x20–∏–∑\x20','setItem','createElement','btn-status-toggle\x20undo-mode','substr','rangeStartDate','globalTimeLine','day-col-header\x20','insertBefore','</span>\x20/\x20','Batch\x20Sync\x20OK','fetchFromServer','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','uc_settings_v9','ranges','Critical\x20TMA\x20Error:','clientY','daysHeaderTrack','recurringOptionContainer','warn','anEnd','de-item','gridColumns','batch_sync','syncLoad','actionSheet','rangesList','toLocaleDateString','appendChild','rgba(255,\x2069,\x2058,\x200.15)','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','slice','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','single','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','pe-corner','sessionSheet','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','header-','DOMContentLoaded','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','%\x20-\x204px)','inpClient','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','from','.day-off-overlay','block','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','cancelled','inpStart','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','width','none','undefined','top','constructor','23:59','getHours','backgroundPosition','vibrate','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','<div\x20class=\x22dch-day\x22>','#0a84ff','custom','Error\x20setting\x20back\x20button:','splice','mousedown','now','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','scroll','init_load','seriesCountContainer','cancel_window','note','...','week','.period-switch\x20.p-btn','pe-cell\x20','.day-column','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','done','initDataUnsafe','text/plain;charset=UTF-8','\x20‚Äî\x20','00:00','BackButton','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','.sheet','stat-','Error\x20setting\x20color:','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','getBoundingClientRect','[Notify]\x20Error:\x20Text\x20generation\x20failed','value','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','forEach','dateStr','.day-col-header','[Notify]\x20Server\x20Response:','floor','inpDate','height','var(--acc-red)','offClick','actionSheetOverlay','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','day-off-overlay\x20stripe-bg','getItem','success','Server\x20Error','inpNote','status','settingCancelWindow'];a2_0x153f=function(){return _0x1b3377;};return a2_0x153f();}function handleInfiniteScroll(){const _0x3f0ba1=a2_0x328609,_0x533f9e=document[_0x3f0ba1(0x21e)](_0x3f0ba1(0xe7)),_0x88f0db=_0x533f9e[_0x3f0ba1(0x215)],_0x25ec12=_0x533f9e[_0x3f0ba1(0xe5)],_0x4950ff=_0x533f9e['clientWidth'];if(_0x25ec12-(_0x88f0db+_0x4950ff)<0x12c){const _0x1795df=endOffset;endOffset+=0xe,renderDayRange(_0x1795df+0x1,endOffset),reRenderBlocks();}if(_0x88f0db<0x12c){const _0x24fdba=startOffset;startOffset-=0xe,prependDays(startOffset,_0x24fdba-0x1),_0x533f9e['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x28ae8b,_0x1612f6){const _0x481239=a2_0x328609,_0x433e41=document['getElementById'](_0x481239(0x197)),_0x581824=document['getElementById'](_0x481239(0x19c)),_0x298ac5=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1668da=new Date();_0x1668da[_0x481239(0x23b)](0x0,0x0,0x0,0x0);const _0x44e2dc=getLocalDateStr(new Date()),_0xfdab4b=document[_0x481239(0x15b)](),_0xc6e152=document['createDocumentFragment']();for(let _0x50c30d=_0x28ae8b;_0x50c30d<=_0x1612f6;_0x50c30d++){const _0x20ac4e=new Date(_0x1668da);_0x20ac4e[_0x481239(0xe6)](_0x20ac4e['getDate']()+_0x50c30d);const _0x48dc17=getLocalDateStr(_0x20ac4e);let _0x52f0eb=_0x20ac4e[_0x481239(0x238)]()-0x1;if(_0x52f0eb===-0x1)_0x52f0eb=0x6;const _0x5a7316=_0x48dc17===_0x44e2dc,_0x267031=document[_0x481239(0x188)]('div');_0x267031[_0x481239(0x13d)]=_0x481239(0x18d)+(_0x5a7316?_0x481239(0x10e):''),_0x267031['id']=_0x481239(0x1ad)+_0x48dc17,_0x267031[_0x481239(0x113)](_0x481239(0x142),_0x48dc17),_0x267031[_0x481239(0x181)]=_0x481239(0x1c5)+_0x298ac5[_0x52f0eb]+_0x481239(0x107)+_0x20ac4e[_0x481239(0x150)]()+_0x481239(0x1ac)+_0x48dc17+_0x481239(0x136),_0x267031[_0x481239(0x152)]=()=>openDayOptions(_0x48dc17,_0x298ac5[_0x52f0eb]+'\x20'+_0x20ac4e['getDate']()),_0xfdab4b[_0x481239(0x1a2)](_0x267031);const _0x5cd8b6=document[_0x481239(0x188)]('div');_0x5cd8b6[_0x481239(0x13d)]=_0x481239(0x1ff)+(_0x5a7316?_0x481239(0x10e):''),_0x5cd8b6['setAttribute']('data-date',_0x48dc17),_0x5cd8b6['setAttribute'](_0x481239(0x12f),_0x52f0eb),renderEventsForColumn(_0x5cd8b6,_0x48dc17,_0x52f0eb),attachLongPressHandler(_0x5cd8b6,_0x20ac4e),_0xc6e152['appendChild'](_0x5cd8b6),updateDayStats(_0x48dc17);}_0x433e41[_0x481239(0x18e)](_0xfdab4b,_0x433e41[_0x481239(0x182)]),_0x581824[_0x481239(0x18e)](_0xc6e152,_0x581824[_0x481239(0xc1)](_0x481239(0x1d6)));}function validateAppointment(_0x976847,_0x3cf9d4,_0x1001be,_0x535446,_0x43ccad){const _0x11a78e=a2_0x328609,[_0x409508,_0x4c39dd]=_0x3cf9d4[_0x11a78e(0x140)](':')[_0x11a78e(0xb7)](Number),[_0x14e708,_0x18867c]=_0x1001be['split'](':')[_0x11a78e(0xb7)](Number),_0xb9dd99=_0x409508*0x3c+_0x4c39dd,_0x4be821=_0x14e708*0x3c+_0x18867c,_0x407e53=String(_0x43ccad);let _0x3e8b2b=![],_0x2c1b15='';for(let _0x1a04d3 of sessions){if(_0x1a04d3[_0x11a78e(0x1eb)]!==_0x976847)continue;if(_0x1a04d3[_0x11a78e(0x1fb)]===_0x11a78e(0x1b7))continue;if(_0x535446&&String(_0x1a04d3['id'])===String(_0x535446))continue;const [_0x3d6de6,_0x29c8b3]=_0x1a04d3[_0x11a78e(0x112)][_0x11a78e(0x140)](':')[_0x11a78e(0xb7)](Number),[_0x1cccf7,_0xfc0204]=_0x1a04d3['end']['split'](':')['map'](Number),_0x2af027=_0x3d6de6*0x3c+_0x29c8b3,_0x38b0ae=_0x1cccf7*0x3c+_0xfc0204;if(Math[_0x11a78e(0x114)](_0xb9dd99,_0x2af027)<Math['min'](_0x4be821,_0x38b0ae)){if(_0x1a04d3[_0x11a78e(0xff)]&&String(_0x1a04d3['clientId'])===_0x407e53)return{'valid':![],'msg':_0x11a78e(0x21a)+_0x1a04d3[_0x11a78e(0xee)]+_0x11a78e(0x105)};_0x3e8b2b=!![],_0x2c1b15=_0x1a04d3[_0x11a78e(0xee)];}}if(_0x3e8b2b)return{'valid':!![],'warning':_0x11a78e(0xc2)+_0x2c1b15};return{'valid':!![]};}function updateDateDisplay(){const _0x13d9cc=a2_0x328609,_0x36b537=document[_0x13d9cc(0x21e)](_0x13d9cc(0x1ef))[_0x13d9cc(0x1e7)],_0x57f97a=document['getElementById'](_0x13d9cc(0xdf));if(!_0x36b537){_0x57f97a[_0x13d9cc(0x130)]='';return;}const [_0x209b0e,_0x5780fe,_0x41c1c7]=_0x36b537['split']('-')[_0x13d9cc(0xb7)](Number),_0x537e91=new Date(_0x209b0e,_0x5780fe-0x1,_0x41c1c7),_0x495a7d={'weekday':_0x13d9cc(0x166),'day':'numeric','month':'long','year':_0x13d9cc(0x210)};let _0x15d909=_0x537e91[_0x13d9cc(0x1a1)]('ru-RU',_0x495a7d);_0x15d909=_0x15d909[_0x13d9cc(0x108)](0x0)[_0x13d9cc(0x12e)]()+_0x15d909['slice'](0x1),_0x57f97a[_0x13d9cc(0x130)]=_0x15d909;}function autoSetEndTime(){const _0x5bdd1c=a2_0x328609,_0x3a083e=document[_0x5bdd1c(0x21e)]('inpStart')[_0x5bdd1c(0x1e7)];if(!_0x3a083e)return;const [_0x5f455b,_0x3acb0e]=_0x3a083e['split'](':')['map'](Number);let _0x2a8dc1=_0x5f455b+0x1;if(_0x2a8dc1>0x17)_0x2a8dc1=0x0;const _0x3d0a51=String(_0x2a8dc1)[_0x5bdd1c(0xcc)](0x2,'0')+':'+String(_0x3acb0e)['padStart'](0x2,'0');document[_0x5bdd1c(0x21e)]('inpEnd')['value']=_0x3d0a51;}function populateClientSelect(){const _0x274bbd=a2_0x328609,_0x7488b3=document[_0x274bbd(0x21e)](_0x274bbd(0x1b1));_0x7488b3['innerHTML']='';if(clients['length']===0x0){const _0x350d69=document[_0x274bbd(0x188)](_0x274bbd(0x167));_0x350d69[_0x274bbd(0x13e)]=_0x274bbd(0x171),_0x7488b3[_0x274bbd(0x1a2)](_0x350d69);return;}clients[_0x274bbd(0x1ea)](_0x1abb16=>{const _0x224e03=_0x274bbd,_0x5e78cd=document[_0x224e03(0x188)](_0x224e03(0x167));_0x5e78cd[_0x224e03(0x1e7)]=_0x1abb16['name'],_0x5e78cd[_0x224e03(0x130)]=_0x1abb16[_0x224e03(0x212)],_0x7488b3[_0x224e03(0x1a2)](_0x5e78cd);});}function openActionSheet(_0x2bab92){const _0x212fd1=a2_0x328609,_0x571bd0=document[_0x212fd1(0x21e)](_0x212fd1(0x19f)),_0x5c7a4e=document['getElementById'](_0x212fd1(0x1f3)),_0x1a83d1=document[_0x212fd1(0x21e)](_0x212fd1(0xfa)),_0xdb1a=document['getElementById'](_0x212fd1(0x219)),_0x2cfdce=document[_0x212fd1(0x21e)](_0x212fd1(0x169));_0x5c7a4e['classList'][_0x212fd1(0x11a)](_0x212fd1(0xd1)),_0x571bd0[_0x212fd1(0x10f)]['add']('open');if(_0x2bab92===_0x212fd1(0x13c))_0x1a83d1[_0x212fd1(0x130)]=_0x212fd1(0xf2),_0xdb1a[_0x212fd1(0x130)]=_0x212fd1(0x1d8),_0xdb1a['onclick']=()=>{const _0x2643b5=_0x212fd1;closeActionSheet(),updateSeriesBatch(_0x2643b5(0x1a8),tempSessionData);},_0x2cfdce[_0x212fd1(0x130)]=_0x212fd1(0x101),_0x2cfdce[_0x212fd1(0x152)]=()=>{const _0x4a7ab7=_0x212fd1;closeActionSheet(),updateSeriesBatch(_0x4a7ab7(0x12b),tempSessionData);};else _0x2bab92==='delete'&&(_0x1a83d1[_0x212fd1(0x130)]=_0x212fd1(0x11c),_0xdb1a[_0x212fd1(0x130)]=_0x212fd1(0x1d8),_0xdb1a[_0x212fd1(0x13d)]='as-button\x20danger',_0xdb1a[_0x212fd1(0x152)]=()=>{const _0x253692=_0x212fd1;closeActionSheet(),commitDelete('single',sessions[_0x253692(0xc6)](_0x1e847f=>_0x1e847f['id']===editingId));},_0x2cfdce[_0x212fd1(0x130)]='–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ',_0x2cfdce['className']=_0x212fd1(0x123),_0x2cfdce[_0x212fd1(0x152)]=()=>{const _0x360f86=_0x212fd1;closeActionSheet(),commitDelete(_0x360f86(0x12b),sessions[_0x360f86(0xc6)](_0x58c66e=>_0x58c66e['id']===editingId));});}function closeActionSheet(){const _0x104276=a2_0x328609;document[_0x104276(0x21e)]('actionSheet')[_0x104276(0x10f)][_0x104276(0x157)](_0x104276(0x164)),document['getElementById']('actionSheetOverlay')[_0x104276(0x10f)][_0x104276(0x157)]('active');}function openSettings(){const _0x26d5fc=a2_0x328609;openSheet(_0x26d5fc(0x11e));}function saveCoachSettings(){const _0x137720=a2_0x328609,_0x592a1b=document[_0x137720(0x21e)]('settingCancelWindow')[_0x137720(0x1e7)];localStorage['setItem'](_0x137720(0xbb),_0x592a1b),console[_0x137720(0x14d)]('[Settings]\x20Cancel\x20window\x20set\x20to:',_0x592a1b),DataManager[_0x137720(0x191)]('save_settings',{'settings':{'cancel_window':_0x592a1b}})[_0x137720(0xec)](_0x1d1454=>{const _0xa83c31=_0x137720;console[_0xa83c31(0x102)](_0xa83c31(0xd8),_0x1d1454),showToast(_0xa83c31(0xe8),![]);});}function loadCoachSettings(){const _0x5ec4f4=a2_0x328609,_0x286cf6=localStorage[_0x5ec4f4(0x1f7)]('uc_settings_cancel_window');_0x286cf6&&(document['getElementById'](_0x5ec4f4(0x1fc))['value']=_0x286cf6);}function openRangesSheet(){const _0x5c1878=a2_0x328609;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x5c1878(0x236));}function addRange(){const _0x48b991=a2_0x328609,_0x253755=document[_0x48b991(0x21e)](_0x48b991(0x18b))[_0x48b991(0x1e7)],_0x5562b5=document[_0x48b991(0x21e)](_0x48b991(0x122))[_0x48b991(0x1e7)],_0x3b4359=document[_0x48b991(0x21e)]('rangeEndDate')['value'],_0x409cd8=document[_0x48b991(0x21e)](_0x48b991(0x20b))['value'];if(!_0x253755||!_0x5562b5||!_0x3b4359||!_0x409cd8)return alert(_0x48b991(0xdd));const _0x584be6=_0x253755+'T'+_0x5562b5,_0x4b5ce7=_0x3b4359+'T'+_0x409cd8;if(_0x584be6>=_0x4b5ce7)return alert(_0x48b991(0x20c));specialRanges[_0x48b991(0x163)]({'start':_0x584be6,'end':_0x4b5ce7}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x48b991(0x191)](_0x48b991(0x203),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x54a424){const _0x5be608=a2_0x328609;specialRanges[_0x5be608(0x1c9)](_0x54a424,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x5be608(0x21c)](),DataManager[_0x5be608(0x191)](_0x5be608(0x203),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x415ed7=a2_0x328609;document[_0x415ed7(0x21e)]('rangeStartDate')[_0x415ed7(0x1e7)]='',document[_0x415ed7(0x21e)](_0x415ed7(0x122))['value']=_0x415ed7(0x1dd),document[_0x415ed7(0x21e)](_0x415ed7(0x118))[_0x415ed7(0x1e7)]='',document[_0x415ed7(0x21e)](_0x415ed7(0x20b))['value']=_0x415ed7(0x1bf);}function renderRangesList(){const _0x26f831=a2_0x328609,_0x44bb31=document[_0x26f831(0x21e)](_0x26f831(0x1a0));_0x44bb31[_0x26f831(0x181)]='';if(!specialRanges[_0x26f831(0x13a)]){_0x44bb31[_0x26f831(0x181)]='<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>';return;}specialRanges[_0x26f831(0x1ea)]((_0x5b2187,_0x12a2bf)=>{const _0xb4b604=_0x26f831,_0x23aa9e=document[_0xb4b604(0x188)](_0xb4b604(0xd6));_0x23aa9e['className']='range-item';const _0x301db4=_0x2d460d=>{const _0x5ed9e8=_0xb4b604,_0x3d2601=new Date(_0x2d460d);return _0x3d2601[_0x5ed9e8(0x150)]()+'.'+String(_0x3d2601['getMonth']()+0x1)[_0x5ed9e8(0xcc)](0x2,'0')+'\x20'+String(_0x3d2601[_0x5ed9e8(0x1c0)]())[_0x5ed9e8(0xcc)](0x2,'0')+':'+String(_0x3d2601['getMinutes']())[_0x5ed9e8(0xcc)](0x2,'0');};_0x23aa9e[_0xb4b604(0x181)]=_0xb4b604(0xd3)+_0x301db4(_0x5b2187['start'])+_0xb4b604(0x1dc)+_0x301db4(_0x5b2187['end'])+_0xb4b604(0x192)+_0x12a2bf+_0xb4b604(0x10b),_0x44bb31[_0xb4b604(0x1a2)](_0x23aa9e);});}function scrollToToday(){const _0x5a34e8=a2_0x328609,_0x1bc9ef=getLocalDateStr(new Date()),_0x11dc7a=document[_0x5a34e8(0x21e)]('header-'+_0x1bc9ef),_0x5e101b=document['getElementById'](_0x5a34e8(0xe7));if(_0x11dc7a&&_0x5e101b){const _0x120e06=_0x5e101b['clientWidth'],_0x4211b3=_0x11dc7a[_0x5a34e8(0x17f)],_0x58e145=_0x11dc7a['offsetWidth'];_0x5e101b[_0x5a34e8(0x215)]=_0x4211b3-_0x120e06/0x2+_0x58e145/0x2,_0x5e101b[_0x5a34e8(0xd7)]=0x9*GRID_H;}}function onScroll(){const _0x40bc9f=a2_0x328609,_0x2475f5=document[_0x40bc9f(0x21e)](_0x40bc9f(0xe7)),_0x24a286=document[_0x40bc9f(0x137)](_0x40bc9f(0x1ec));for(let _0x224da2 of _0x24a286)if(_0x224da2['offsetLeft']>=_0x2475f5[_0x40bc9f(0x215)]){const _0x1b97ce=new Date(_0x224da2[_0x40bc9f(0x17e)]('data-date'));document[_0x40bc9f(0x21e)]('headerMonth')[_0x40bc9f(0x130)]=_0x1b97ce[_0x40bc9f(0x16e)]('ru',{'month':'long'})['toUpperCase']()+'\x20'+_0x1b97ce[_0x40bc9f(0x126)]();break;}}function showToast(_0x2b08b1,_0x218cd4=![]){const _0x571c89=a2_0x328609,_0x4fa6b1=document[_0x571c89(0x21e)](_0x571c89(0x22a));_0x4fa6b1['className']=_0x571c89(0xc3)+(_0x218cd4?_0x571c89(0x1f8):''),document[_0x571c89(0x21e)]('toastTitle')['textContent']=_0x218cd4?_0x571c89(0x237):_0x571c89(0xc5),document['getElementById'](_0x571c89(0x100))[_0x571c89(0x130)]=_0x2b08b1,_0x4fa6b1[_0x571c89(0x10f)][_0x571c89(0x11a)](_0x571c89(0xf0)),setTimeout(()=>{const _0x985ac2=_0x571c89;_0x4fa6b1[_0x985ac2(0x10f)][_0x985ac2(0x157)](_0x985ac2(0xf0));},0xbb8);}function openDayOptions(_0x280e65,_0x2839ab){const _0x5905e6=a2_0x328609;selectedDayForOptions=_0x280e65,document[_0x5905e6(0x21e)](_0x5905e6(0xbe))[_0x5905e6(0x130)]=_0x2839ab,openSheet(_0x5905e6(0x104));}function toggleDayOff(){const _0x2f749a=a2_0x328609;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]='off',reRenderBlocks(),closeAllSheets(),DataManager[_0x2f749a(0x21c)](),DataManager['fetchFromServer'](_0x2f749a(0x203),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x3d7807=a2_0x328609;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x3d7807(0x21c)](),DataManager['fetchFromServer'](_0x3d7807(0x203),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x48eec4){const _0x18b90a=a2_0x328609;document[_0x18b90a(0x21e)](_0x18b90a(0x158))[_0x18b90a(0x10f)]['add'](_0x18b90a(0xd1)),document[_0x18b90a(0x21e)](_0x48eec4)['classList'][_0x18b90a(0x11a)]('open');}function closeAllSheets(){const _0x59d371=a2_0x328609;document[_0x59d371(0x21e)](_0x59d371(0x158))[_0x59d371(0x10f)][_0x59d371(0x157)](_0x59d371(0xd1)),document['querySelectorAll'](_0x59d371(0x1e0))[_0x59d371(0x1ea)](_0x1b7370=>_0x1b7370['classList'][_0x59d371(0x157)](_0x59d371(0x164)));}function openPatternEditor(){const _0x3fa120=a2_0x328609;closeAllSheets(),document['getElementById'](_0x3fa120(0x184))[_0x3fa120(0x10f)][_0x3fa120(0x11a)](_0x3fa120(0x164)),renderPatternEditor();}function closePatternEditor(){const _0x584b80=a2_0x328609;document[_0x584b80(0x21e)](_0x584b80(0x184))['classList'][_0x584b80(0x157)](_0x584b80(0x164));}function savePattern(){const _0x4ed93a=a2_0x328609;document['getElementById'](_0x4ed93a(0x184))[_0x4ed93a(0x10f)][_0x4ed93a(0x157)](_0x4ed93a(0x164)),reRenderBlocks(),DataManager[_0x4ed93a(0x21c)](),DataManager[_0x4ed93a(0x191)]('save_settings',{'settings':{'pattern':availabilityPattern}});}function a2_0x1b94(_0x6c17d7,_0x3b2333){_0x6c17d7=_0x6c17d7-0xb7;const _0x304b81=a2_0x153f();let _0x32a547=_0x304b81[_0x6c17d7];return _0x32a547;}function renderPatternEditor(){const _0x4197cb=a2_0x328609,_0x58182d=document[_0x4197cb(0x21e)](_0x4197cb(0x172));_0x58182d[_0x4197cb(0x181)]='';const _0x4c8adb=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x377d39=document[_0x4197cb(0x188)](_0x4197cb(0xd6));_0x377d39[_0x4197cb(0x13d)]=_0x4197cb(0x1aa),_0x58182d[_0x4197cb(0x1a2)](_0x377d39),_0x4c8adb[_0x4197cb(0x1ea)]((_0x13f557,_0x3fdba8)=>{const _0x57cfa6=_0x4197cb,_0x11106=document[_0x57cfa6(0x188)](_0x57cfa6(0xd6));_0x11106[_0x57cfa6(0x13d)]=_0x57cfa6(0x11f),_0x11106[_0x57cfa6(0x181)]=_0x13f557+'\x20<span\x20class=\x22arrow\x22>‚Üì</span>',_0x11106[_0x57cfa6(0x152)]=()=>toggleColPattern(_0x3fdba8),_0x58182d[_0x57cfa6(0x1a2)](_0x11106);});for(let _0x4cd413=0x0;_0x4cd413<0x18;_0x4cd413++){const _0x31eca4=document[_0x4197cb(0x188)](_0x4197cb(0xd6));_0x31eca4[_0x4197cb(0x13d)]='pe-time-label',_0x31eca4[_0x4197cb(0x181)]=_0x4197cb(0xf1)+String(_0x4cd413)[_0x4197cb(0xcc)](0x2,'0')+_0x4197cb(0x12a),_0x31eca4[_0x4197cb(0x152)]=()=>toggleRowPattern(_0x4cd413),_0x58182d[_0x4197cb(0x1a2)](_0x31eca4);for(let _0x25c34c=0x0;_0x25c34c<0x7;_0x25c34c++){const _0x5d5628=document[_0x4197cb(0x188)](_0x4197cb(0xd6)),_0x67abb8=(availabilityPattern[_0x25c34c]||[])[_0x4197cb(0xed)](_0x4cd413),_0x4b9cc9=!_0x67abb8;_0x5d5628[_0x4197cb(0x13d)]=_0x4197cb(0x1d5)+(_0x4b9cc9?'active':''),_0x5d5628[_0x4197cb(0x152)]=()=>toggleSinglePattern(_0x25c34c,_0x4cd413),_0x58182d['appendChild'](_0x5d5628);}}}function toggleSinglePattern(_0x5e0aee,_0x517151){const _0x344f82=a2_0x328609;if(!availabilityPattern[_0x5e0aee])availabilityPattern[_0x5e0aee]=[];const _0x2ddc8e=availabilityPattern[_0x5e0aee],_0x3603a5=_0x2ddc8e[_0x344f82(0x14b)](_0x517151);_0x3603a5===-0x1?_0x2ddc8e[_0x344f82(0x163)](_0x517151):_0x2ddc8e[_0x344f82(0x1c9)](_0x3603a5,0x1),renderPatternEditor();}function toggleColPattern(_0x550e61){const _0xc310fa=a2_0x328609;if(!availabilityPattern[_0x550e61])availabilityPattern[_0x550e61]=[];const _0x4e7985=availabilityPattern[_0x550e61];_0x4e7985[_0xc310fa(0x13a)]===0x0?availabilityPattern[_0x550e61]=Array[_0xc310fa(0x1b3)]({'length':0x18},(_0x1a404d,_0x55debc)=>_0x55debc):availabilityPattern[_0x550e61]=[],renderPatternEditor();}function toggleRowPattern(_0x350976){const _0x3281ab=a2_0x328609;let _0x2e1e5e=!![];for(let _0x30087f=0x0;_0x30087f<0x7;_0x30087f++){if((availabilityPattern[_0x30087f]||[])[_0x3281ab(0xed)](_0x350976)){_0x2e1e5e=![];break;}}for(let _0x25ed6b=0x0;_0x25ed6b<0x7;_0x25ed6b++){if(!availabilityPattern[_0x25ed6b])availabilityPattern[_0x25ed6b]=[];const _0x41f105=availabilityPattern[_0x25ed6b][_0x3281ab(0x14b)](_0x350976);if(_0x2e1e5e){if(_0x41f105===-0x1)availabilityPattern[_0x25ed6b][_0x3281ab(0x163)](_0x350976);}else{if(_0x41f105!==-0x1)availabilityPattern[_0x25ed6b][_0x3281ab(0x1c9)](_0x41f105,0x1);}}renderPatternEditor();}function renderPCol(_0x1b6201,_0x8d3793){const _0xe55c01=a2_0x328609;_0x1b6201[_0xe55c01(0x181)]='';const _0x13b43e=Math[_0xe55c01(0xf9)](_0x1b6201[_0xe55c01(0x17f)]);(availabilityPattern[_0x8d3793]||[])[_0xe55c01(0x1ea)](_0x322825=>{const _0x3b7467=_0xe55c01,_0x4d4dea=document[_0x3b7467(0x188)](_0x3b7467(0xd6));_0x4d4dea['className']=_0x3b7467(0x16d);const _0x426670=_0x322825*GRID_H;_0x4d4dea[_0x3b7467(0x201)][_0x3b7467(0x1bd)]=_0x426670+'px',_0x4d4dea[_0x3b7467(0x201)][_0x3b7467(0x1c1)]='-'+_0x13b43e+_0x3b7467(0x15e)+_0x426670+'px',_0x4d4dea[_0x3b7467(0x152)]=_0x17a76e=>{const _0x223b0c=_0x3b7467;_0x17a76e[_0x223b0c(0x119)](),toggleSinglePattern(_0x8d3793,_0x322825);},_0x1b6201[_0x3b7467(0x1a2)](_0x4d4dea);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x2d69de=a2_0x328609,_0xf9cbaf=new Date(),_0x9410af=document[_0x2d69de(0x21e)](_0x2d69de(0x18c)),_0x731904=document[_0x2d69de(0x21e)](_0x2d69de(0x217)),_0xcbcd5f=(_0xf9cbaf[_0x2d69de(0x1c0)]()*0x3c+_0xf9cbaf['getMinutes']())/0x3c*GRID_H;_0x9410af[_0x2d69de(0x201)]['top']=_0xcbcd5f+'px',_0x9410af[_0x2d69de(0x201)][_0x2d69de(0x173)]=_0x2d69de(0x1b5),_0x731904[_0x2d69de(0x130)]=String(_0xf9cbaf['getHours']())[_0x2d69de(0xcc)](0x2,'0')+':'+String(_0xf9cbaf['getMinutes']())[_0x2d69de(0xcc)](0x2,'0'),_0x731904[_0x2d69de(0x201)][_0x2d69de(0x173)]=_0x2d69de(0x1b5),_0x731904[_0x2d69de(0x201)][_0x2d69de(0x1bd)]=_0xcbcd5f+'px';}document[a2_0x328609(0x147)](a2_0x328609(0x1ae),init);function openDayOptions(_0x2ca0e1){const _0x30ea8a=a2_0x328609;selectedDayForOptions=_0x2ca0e1;const _0x115357=new Date(_0x2ca0e1),_0x184b1c={'weekday':_0x30ea8a(0x166),'day':_0x30ea8a(0x210),'month':_0x30ea8a(0x166),'year':'numeric'},_0x1a64ef=_0x115357[_0x30ea8a(0x1a1)](_0x30ea8a(0x144),_0x184b1c);document[_0x30ea8a(0x21e)](_0x30ea8a(0x15f))[_0x30ea8a(0x130)]=_0x1a64ef[_0x30ea8a(0x108)](0x0)[_0x30ea8a(0x12e)]()+_0x1a64ef[_0x30ea8a(0x1a6)](0x1);let _0x24cbf2=_0x115357[_0x30ea8a(0x238)]()-0x1;if(_0x24cbf2===-0x1)_0x24cbf2=0x6;const _0x43ccf3=availabilityPattern[_0x24cbf2]||[],_0x1da281=0x18-_0x43ccf3[_0x30ea8a(0x13a)],_0x4b4e06=_0x1da281*0x3c,_0x53e2fd=sessions[_0x30ea8a(0x14e)](_0x195ad7=>_0x195ad7['dateStr']===_0x2ca0e1&&_0x195ad7[_0x30ea8a(0x1fb)]!=='cancelled');let _0x849015=_0x53e2fd[_0x30ea8a(0xb7)](_0x2e11df=>{const _0x20e41f=_0x30ea8a,[_0x23eb86,_0x300b79]=_0x2e11df[_0x20e41f(0x112)][_0x20e41f(0x140)](':')['map'](Number),[_0x4b92d8,_0x17c623]=_0x2e11df[_0x20e41f(0x120)][_0x20e41f(0x140)](':')[_0x20e41f(0xb7)](Number);return[_0x23eb86*0x3c+_0x300b79,_0x4b92d8*0x3c+_0x17c623];});_0x849015['sort']((_0x56932d,_0x52d6c5)=>_0x56932d[0x0]-_0x52d6c5[0x0]);let _0x42266d=[];if(_0x849015[_0x30ea8a(0x13a)]>0x0){let _0x3eb621=_0x849015[0x0];for(let _0x355006=0x1;_0x355006<_0x849015['length'];_0x355006++){_0x849015[_0x355006][0x0]<_0x3eb621[0x1]?_0x3eb621[0x1]=Math[_0x30ea8a(0x114)](_0x3eb621[0x1],_0x849015[_0x355006][0x1]):(_0x42266d[_0x30ea8a(0x163)](_0x3eb621),_0x3eb621=_0x849015[_0x355006]);}_0x42266d[_0x30ea8a(0x163)](_0x3eb621);}let _0x4f6c56=0x0;_0x42266d[_0x30ea8a(0x1ea)](_0x3917c6=>_0x4f6c56+=_0x3917c6[0x1]-_0x3917c6[0x0]),document[_0x30ea8a(0x21e)](_0x30ea8a(0x128))[_0x30ea8a(0x130)]=formatMinsToHrs(_0x4b4e06),document[_0x30ea8a(0x21e)]('doBusyHours')['textContent']=formatMinsToHrs(_0x4f6c56);const _0x40f595=_0x4b4e06>0x0?Math[_0x30ea8a(0xf9)](_0x4f6c56/_0x4b4e06*0x64):0x0,_0x22cfc8=document[_0x30ea8a(0x21e)](_0x30ea8a(0x22d));_0x22cfc8[_0x30ea8a(0x130)]=_0x40f595+'%';const _0xee04b0=document[_0x30ea8a(0x21e)]('statLoadCard');if(_0x40f595>0x64)_0x22cfc8[_0x30ea8a(0x201)][_0x30ea8a(0x148)]=_0x30ea8a(0x1f1),_0xee04b0[_0x30ea8a(0x201)]['borderColor']='rgba(255,\x2069,\x2058,\x200.3)';else _0x40f595>0x50?(_0x22cfc8[_0x30ea8a(0x201)][_0x30ea8a(0x148)]=_0x30ea8a(0x231),_0xee04b0['style']['borderColor']=_0x30ea8a(0x234)):(_0x22cfc8['style'][_0x30ea8a(0x148)]=_0x30ea8a(0xbf),_0xee04b0['style'][_0x30ea8a(0x134)]=_0x30ea8a(0xd4));const _0x3f196c=document[_0x30ea8a(0x21e)](_0x30ea8a(0x22b));_0x3f196c[_0x30ea8a(0x181)]='';_0x53e2fd[_0x30ea8a(0x13a)]===0x0?_0x3f196c[_0x30ea8a(0x181)]=_0x30ea8a(0xc8):(_0x53e2fd[_0x30ea8a(0x227)]((_0x2ea473,_0x2271b7)=>_0x2ea473['start'][_0x30ea8a(0x225)](_0x2271b7[_0x30ea8a(0x112)])),_0x53e2fd['forEach'](_0x56f5cc=>{const _0x307280=_0x30ea8a,_0x4767e7=clients[_0x307280(0xc6)](_0xdc8bb8=>_0xdc8bb8[_0x307280(0x212)]===_0x56f5cc[_0x307280(0xee)]),_0x1a6a4c=_0x4767e7?_0x4767e7['color']:_0x307280(0x211),_0x4c8c0b=_0x56f5cc[_0x307280(0x1fb)]===_0x307280(0x228),_0x4c26ae=_0x4c8c0b?'<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>':'',_0x4d648d=document[_0x307280(0x188)](_0x307280(0xd6));_0x4d648d['className']=_0x307280(0x19b),_0x4d648d['style'][_0x307280(0x168)]=_0x1a6a4c,_0x4d648d[_0x307280(0x181)]=_0x307280(0x13f)+_0x56f5cc[_0x307280(0x112)]+_0x307280(0x139)+_0x56f5cc['end']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x56f5cc[_0x307280(0xee)]+_0x307280(0x1af)+_0x4c26ae+_0x307280(0xfc),_0x3f196c[_0x307280(0x1a2)](_0x4d648d);}));const _0x56e247=document[_0x30ea8a(0x21e)]('btnDayToggle'),_0x5c2d4d=dateExceptions[_0x2ca0e1]==='off';_0x5c2d4d?(_0x56e247[_0x30ea8a(0x130)]=_0x30ea8a(0xde),_0x56e247[_0x30ea8a(0x13d)]=_0x30ea8a(0x233),_0x56e247[_0x30ea8a(0x201)][_0x30ea8a(0x148)]=_0x30ea8a(0xbf),_0x56e247[_0x30ea8a(0x201)][_0x30ea8a(0x15a)]=_0x30ea8a(0x213)):(_0x56e247[_0x30ea8a(0x130)]=_0x30ea8a(0x1a7),_0x56e247['className']='btn-primary\x20btn-danger',_0x56e247[_0x30ea8a(0x201)]['color']='var(--acc-red)',_0x56e247['style'][_0x30ea8a(0x15a)]=_0x30ea8a(0x1a3)),openSheet(_0x30ea8a(0x104));}let currentAnPeriod=a2_0x328609(0x1d3);function openAnalytics(){const _0x162ee7=a2_0x328609,_0xca1dfe=document[_0x162ee7(0xc1)](_0x162ee7(0x1d4));setAnalyticsPeriod(_0x162ee7(0x1d3),_0xca1dfe),closeAllSheets(),openSheet(_0x162ee7(0x178));}function setAnalyticsPeriod(_0x506a8e,_0x2db6bd){const _0x3bbee3=a2_0x328609;currentAnPeriod=_0x506a8e,document[_0x3bbee3(0x137)](_0x3bbee3(0x1d4))[_0x3bbee3(0x1ea)](_0x5acb2e=>_0x5acb2e[_0x3bbee3(0x10f)][_0x3bbee3(0x157)]('active'));if(_0x2db6bd)_0x2db6bd[_0x3bbee3(0x10f)][_0x3bbee3(0x11a)](_0x3bbee3(0xd1));const _0x1af9bb=document[_0x3bbee3(0x21e)](_0x3bbee3(0x170));_0x1af9bb[_0x3bbee3(0x201)][_0x3bbee3(0x173)]=_0x506a8e===_0x3bbee3(0x1c7)?_0x3bbee3(0x109):_0x3bbee3(0x1bb);const _0x34699c=new Date();let _0x134f73=new Date(),_0x1b1ea5=new Date();if(_0x506a8e===_0x3bbee3(0x1d3))_0x134f73=getStartOfWeek(_0x34699c),_0x1b1ea5=new Date(_0x134f73),_0x1b1ea5['setDate'](_0x1b1ea5[_0x3bbee3(0x150)]()+0x6);else{if(_0x506a8e===_0x3bbee3(0x17a))_0x134f73=new Date(_0x34699c[_0x3bbee3(0x126)](),_0x34699c[_0x3bbee3(0x232)](),0x1),_0x1b1ea5=new Date(_0x34699c[_0x3bbee3(0x126)](),_0x34699c[_0x3bbee3(0x232)]()+0x1,0x0);else{!document[_0x3bbee3(0x21e)](_0x3bbee3(0x121))[_0x3bbee3(0x1e7)]&&(document[_0x3bbee3(0x21e)](_0x3bbee3(0x121))[_0x3bbee3(0x1e7)]=getLocalDateStr(_0x34699c),document[_0x3bbee3(0x21e)](_0x3bbee3(0x19a))[_0x3bbee3(0x1e7)]=getLocalDateStr(_0x34699c));refreshAnalytics();return;}}document['getElementById'](_0x3bbee3(0x121))[_0x3bbee3(0x1e7)]=getLocalDateStr(_0x134f73),document['getElementById'](_0x3bbee3(0x19a))[_0x3bbee3(0x1e7)]=getLocalDateStr(_0x1b1ea5),refreshAnalytics();}function refreshAnalytics(){const _0x433918=a2_0x328609,_0x4f8561=document[_0x433918(0x21e)](_0x433918(0x121))['value'],_0x17c8d6=document[_0x433918(0x21e)](_0x433918(0x19a))[_0x433918(0x1e7)];if(!_0x4f8561||!_0x17c8d6)return;const _0x1f45bf=sessions[_0x433918(0x14e)](_0x238341=>_0x238341[_0x433918(0x1eb)]>=_0x4f8561&&_0x238341[_0x433918(0x1eb)]<=_0x17c8d6&&_0x238341['status']!==_0x433918(0x1b7)),_0x4552b1=_0x1f45bf['length'],_0x3b026e=_0x1f45bf['filter'](_0x3a2a25=>_0x3a2a25['status']===_0x433918(0x228))[_0x433918(0x13a)],_0x204b92=_0x4552b1>0x0?Math['round'](_0x3b026e/_0x4552b1*0x64):0x0;document['getElementById'](_0x433918(0x183))[_0x433918(0x130)]=_0x204b92+'%',document['getElementById']('anTotalStats')['textContent']=_0x3b026e+_0x433918(0x186)+_0x4552b1+'\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ';const _0x4062ee=document[_0x433918(0x21e)](_0x433918(0x16a)),_0x5afdb2=0x2*Math['PI']*0x23,_0x1ce507=_0x5afdb2-_0x204b92/0x64*_0x5afdb2;_0x4062ee[_0x433918(0x201)][_0x433918(0x15d)]=_0x1ce507;const _0x30cc0b={};_0x1f45bf['forEach'](_0x4ea6ea=>{const _0x1d85c7=_0x433918;if(!_0x30cc0b[_0x4ea6ea[_0x1d85c7(0xee)]]){const _0x1f8578=clients[_0x1d85c7(0xc6)](_0x44a7db=>_0x44a7db[_0x1d85c7(0x212)]===_0x4ea6ea['client']);_0x30cc0b[_0x4ea6ea[_0x1d85c7(0xee)]]={'total':0x0,'done':0x0,'color':_0x1f8578?_0x1f8578[_0x1d85c7(0x148)]:_0x1d85c7(0x211)};}_0x30cc0b[_0x4ea6ea[_0x1d85c7(0xee)]][_0x1d85c7(0x14c)]++;if(_0x4ea6ea[_0x1d85c7(0x1fb)]===_0x1d85c7(0x228))_0x30cc0b[_0x4ea6ea[_0x1d85c7(0xee)]][_0x1d85c7(0x1d9)]++;});const _0x509a54=document[_0x433918(0x21e)](_0x433918(0x20a));_0x509a54[_0x433918(0x181)]='';const _0x300cdd=Object['entries'](_0x30cc0b)[_0x433918(0x227)]((_0x3cc743,_0x53ac6b)=>_0x53ac6b[0x1][_0x433918(0x14c)]-_0x3cc743[0x1][_0x433918(0x14c)]);if(_0x300cdd[_0x433918(0x13a)]===0x0){_0x509a54[_0x433918(0x181)]=_0x433918(0x1e8);return;}_0x300cdd[_0x433918(0x1ea)](([_0x236617,_0x353eff])=>{const _0x5810ca=_0x433918,_0x46438c=Math[_0x5810ca(0xf9)](_0x353eff[_0x5810ca(0x1d9)]/_0x353eff[_0x5810ca(0x14c)]*0x64),_0x4ce6de=document[_0x5810ca(0x188)](_0x5810ca(0xd6));_0x4ce6de[_0x5810ca(0x13d)]=_0x5810ca(0x180),_0x4ce6de[_0x5810ca(0x201)]['borderLeftColor']=_0x353eff[_0x5810ca(0x148)],_0x4ce6de[_0x5810ca(0x181)]=_0x5810ca(0x1fe)+_0x236617+_0x5810ca(0x12c)+_0x353eff[_0x5810ca(0x1d9)]+_0x5810ca(0x18f)+_0x353eff[_0x5810ca(0x14c)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x46438c+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x509a54['appendChild'](_0x4ce6de);});}function formatMinsToHrs(_0x441028){const _0xcec2aa=a2_0x328609;if(_0x441028===0x0)return'0';const _0x1bbbcf=Math[_0xcec2aa(0x1ee)](_0x441028/0x3c),_0x1620f1=_0x441028%0x3c;if(_0x1620f1===0x0)return _0x1bbbcf+'—á';return _0x1bbbcf+'—á\x20'+_0x1620f1+'–º';}