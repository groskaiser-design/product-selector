const a2_0x113b45=a2_0xd70e;(function(_0x517c36,_0x2caa7d){const _0x4324c5=a2_0xd70e,_0x45572e=_0x517c36();while(!![]){try{const _0x373f84=parseInt(_0x4324c5(0x128))/0x1+-parseInt(_0x4324c5(0xf6))/0x2*(-parseInt(_0x4324c5(0x215))/0x3)+parseInt(_0x4324c5(0x1aa))/0x4*(parseInt(_0x4324c5(0x154))/0x5)+parseInt(_0x4324c5(0x1b9))/0x6+parseInt(_0x4324c5(0x1be))/0x7+parseInt(_0x4324c5(0x1d5))/0x8+parseInt(_0x4324c5(0xaf))/0x9*(-parseInt(_0x4324c5(0x21e))/0xa);if(_0x373f84===_0x2caa7d)break;else _0x45572e['push'](_0x45572e['shift']());}catch(_0x40718e){_0x45572e['push'](_0x45572e['shift']());}}}(a2_0x4b2e,0x75ead),function initTMA(){const _0x44f547=a2_0xd70e,_0x5430ed=(function(){let _0xac8100=!![];return function(_0x3ad847,_0x21308b){const _0x2c3bbd=_0xac8100?function(){const _0x8a89fe=a2_0xd70e;if(_0x21308b){const _0x58c951=_0x21308b[_0x8a89fe(0x1f4)](_0x3ad847,arguments);return _0x21308b=null,_0x58c951;}}:function(){};return _0xac8100=![],_0x2c3bbd;};}()),_0x2b2202=_0x5430ed(this,function(){const _0x294283=a2_0xd70e;return _0x2b2202[_0x294283(0x137)]()[_0x294283(0x1ac)](_0x294283(0x179))[_0x294283(0x137)]()[_0x294283(0x216)](_0x2b2202)[_0x294283(0x1ac)](_0x294283(0x179));});_0x2b2202();try{const _0x5e55e9=window[_0x44f547(0x15d)]?.[_0x44f547(0xbe)];if(!_0x5e55e9)return;_0x5e55e9['ready'](),_0x5e55e9[_0x44f547(0x101)]();try{_0x5e55e9[_0x44f547(0x15c)](_0x44f547(0x1a3)),_0x5e55e9[_0x44f547(0x204)]&&_0x5e55e9[_0x44f547(0x204)](_0x44f547(0x1a3));}catch(_0x1a66da){console[_0x44f547(0x1ce)](_0x44f547(0x13b),_0x1a66da);}try{_0x5e55e9[_0x44f547(0x220)]&&(_0x5e55e9[_0x44f547(0x220)][_0x44f547(0x222)](),_0x5e55e9[_0x44f547(0x220)][_0x44f547(0x1b2)](),_0x5e55e9[_0x44f547(0x220)][_0x44f547(0x1f7)](function(){const _0x314286=_0x44f547;window[_0x314286(0x1cc)][_0x314286(0x161)]=_0x314286(0x1fb);}));}catch(_0x2d75a9){console['log'](_0x44f547(0x14b),_0x2d75a9);}try{if(_0x5e55e9[_0x44f547(0xe7)])_0x5e55e9[_0x44f547(0xe7)]();}catch(_0x276f69){}}catch(_0x368f86){console[_0x44f547(0x147)]('Critical\x20TMA\x20Error:',_0x368f86);}}());function isAdmin(){const _0x324d40=a2_0xd70e;try{const _0x5638a0=Number(window[_0x324d40(0x15d)]?.['WebApp']?.['initDataUnsafe']?.[_0x324d40(0x16e)]?.['id']);return _0x5638a0===0xbaf7174;}catch(_0x5e7d2f){return![];}}const APP_VERSION=a2_0x113b45(0x1e9),API_URL=a2_0x113b45(0x102),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x113b45(0x177),KEY_SESSIONS=a2_0x113b45(0x1d2),KEY_SETTINGS='uc_settings_v9';let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x7bd651=a2_0x113b45;return window[_0x7bd651(0x15d)]?.[_0x7bd651(0xbe)]?.[_0x7bd651(0xf2)]?.[_0x7bd651(0x16e)]?.['id']||_0x7bd651(0x23a);},'saveLocally'(){const _0x3b7bd9=a2_0x113b45;try{localStorage[_0x3b7bd9(0x1fc)](KEY_CLIENTS,JSON[_0x3b7bd9(0xb0)](clients)),localStorage[_0x3b7bd9(0x1fc)](KEY_SESSIONS,JSON[_0x3b7bd9(0xb0)](sessions)),localStorage[_0x3b7bd9(0x1fc)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x219417){console[_0x3b7bd9(0x147)](_0x3b7bd9(0x1dd),_0x219417);}},'loadLocal'(){const _0x2f4ffb=a2_0x113b45;try{const _0x46107e=localStorage[_0x2f4ffb(0xbd)](KEY_CLIENTS);if(_0x46107e)clients=JSON[_0x2f4ffb(0x17a)](_0x46107e);const _0x538e15=localStorage[_0x2f4ffb(0xbd)](KEY_SESSIONS);if(_0x538e15)sessions=JSON[_0x2f4ffb(0x17a)](_0x538e15);const _0x22a332=localStorage[_0x2f4ffb(0xbd)](KEY_SETTINGS);if(_0x22a332){const _0x18ebd4=JSON[_0x2f4ffb(0x17a)](_0x22a332);if(_0x18ebd4[_0x2f4ffb(0x1df)])availabilityPattern=_0x18ebd4[_0x2f4ffb(0x1df)];if(_0x18ebd4['exceptions'])dateExceptions=_0x18ebd4[_0x2f4ffb(0x138)];if(_0x18ebd4['ranges'])specialRanges=_0x18ebd4['ranges'];}else{for(let _0x25a13e=0x0;_0x25a13e<0x7;_0x25a13e++)availabilityPattern[_0x25a13e]=Array['from']({'length':0xc},(_0x5f35ed,_0xf3d2fa)=>_0xf3d2fa+0x9);}}catch(_0x5d634c){console[_0x2f4ffb(0x147)](_0x2f4ffb(0x207),_0x5d634c);}},async 'fetchFromServer'(_0x384be1,_0x1b0c59={}){const _0x4cd57c=a2_0x113b45,_0x2c3e77=window[_0x4cd57c(0x15d)]?.[_0x4cd57c(0xbe)],_0x22d839={'action':_0x384be1,'init_data':_0x2c3e77?.[_0x4cd57c(0x1f3)]||'',..._0x1b0c59};try{const _0x3db5db=await fetch(API_URL,{'method':_0x4cd57c(0x169),'headers':{'Content-Type':_0x4cd57c(0x1db)},'body':JSON[_0x4cd57c(0xb0)](_0x22d839)}),_0x2c4c37=await _0x3db5db[_0x4cd57c(0x19f)]();if(!_0x2c4c37['ok'])throw new Error(_0x2c4c37['error']||_0x4cd57c(0x135));return _0x2c4c37[_0x4cd57c(0xe8)];}catch(_0xc67c60){console[_0x4cd57c(0x147)](_0x4cd57c(0x100)+_0x384be1+']\x20Failed:',_0xc67c60);throw _0xc67c60;}},async 'syncLoad'(){const _0x193b3f=a2_0x113b45,_0xf46db3=new Date(),_0x1e6471=_0xf46db3['getFullYear']()+'-'+String(_0xf46db3['getMonth']()+0x1)['padStart'](0x2,'0'),_0x41d1ae=new Date(_0xf46db3);_0x41d1ae[_0x193b3f(0x19c)](_0xf46db3[_0x193b3f(0xd0)]()+0x1);const _0xb95af2=_0x41d1ae[_0x193b3f(0xcb)]()+'-'+String(_0x41d1ae['getMonth']()+0x1)['padStart'](0x2,'0'),_0x18c0e6=Date['now']();console[_0x193b3f(0x1ce)](_0x193b3f(0x1d0)+_0x1e6471+',\x20'+_0xb95af2+_0x193b3f(0xdb));try{const [_0x24af8f,_0x3aedc9]=await Promise[_0x193b3f(0x142)]([this['fetchFromServer'](_0x193b3f(0x152),{'month_str':_0x1e6471}),this['fetchFromServer'](_0x193b3f(0x152),{'month_str':_0xb95af2})]);if(lastUserActionTime>_0x18c0e6)return console['warn']('[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response'),![];return this[_0x193b3f(0x125)](_0x24af8f,_0x1e6471),this[_0x193b3f(0x125)](_0x3aedc9,_0xb95af2),this[_0x193b3f(0x1ef)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x240b38){console[_0x193b3f(0x147)](_0x240b38);throw _0x240b38;}},'mergeServerData'(_0x38b360,_0x1b84e1){const _0x14cea7=a2_0x113b45;if(!_0x38b360)return;_0x38b360[_0x14cea7(0x21b)]&&Array[_0x14cea7(0xd7)](_0x38b360[_0x14cea7(0x21b)])&&(clients=_0x38b360[_0x14cea7(0x21b)]);if(_0x38b360[_0x14cea7(0x1c4)]){if(_0x38b360[_0x14cea7(0x1c4)][_0x14cea7(0x1df)])availabilityPattern=_0x38b360[_0x14cea7(0x1c4)][_0x14cea7(0x1df)];if(_0x38b360['settings'][_0x14cea7(0x138)])dateExceptions=_0x38b360[_0x14cea7(0x1c4)]['exceptions'];if(_0x38b360[_0x14cea7(0x1c4)]['ranges'])specialRanges=_0x38b360[_0x14cea7(0x1c4)][_0x14cea7(0xfa)];if(_0x38b360[_0x14cea7(0x1c4)][_0x14cea7(0x21a)]){localStorage[_0x14cea7(0x1fc)](_0x14cea7(0x174),_0x38b360[_0x14cea7(0x1c4)]['cancel_window']);const _0x345a84=document[_0x14cea7(0x121)]('settingCancelWindow');if(_0x345a84)_0x345a84['value']=_0x38b360[_0x14cea7(0x1c4)][_0x14cea7(0x21a)];}}_0x38b360[_0x14cea7(0x185)]&&(sessions=sessions[_0x14cea7(0x10a)](_0x9a424d=>!_0x9a424d[_0x14cea7(0x1ab)][_0x14cea7(0xd9)](_0x1b84e1)),Object[_0x14cea7(0xca)](_0x38b360[_0x14cea7(0x185)])[_0x14cea7(0x1ad)](_0x26a007=>{const _0x18a622=_0x14cea7,_0x26fed3=_0x38b360[_0x18a622(0x185)][_0x26a007];_0x26fed3[_0x18a622(0x1ad)](_0x2d5f8d=>{const _0x2df8a8=_0x18a622,_0x4eeda5=clients['find'](_0x31fd43=>String(_0x31fd43['id'])===String(_0x2d5f8d['c']));sessions[_0x2df8a8(0xe2)]({'id':_0x2d5f8d['i'],'clientId':_0x2d5f8d['c'],'client':_0x4eeda5?_0x4eeda5['name']:_0x2df8a8(0xb7),'dateStr':_0x1b84e1+'-'+_0x26a007[_0x2df8a8(0x109)](0x2,'0'),'start':_0x2d5f8d['s'],'end':_0x2d5f8d['e'],'status':_0x2d5f8d['st']||_0x2df8a8(0x203),'note':_0x2d5f8d['n']||'','seriesId':_0x2d5f8d[_0x2df8a8(0x10f)]||null});});}));},async 'syncBatch'(_0x1e4295){const _0x2dfe6a=a2_0x113b45,_0x283ad6=[...new Set(_0x1e4295)],_0x2968f2=_0x283ad6[_0x2dfe6a(0x162)](_0x364c89=>{const _0x453f10=_0x2dfe6a,_0x5bd16c=sessions[_0x453f10(0x10a)](_0x35999e=>_0x35999e[_0x453f10(0x1ab)]===_0x364c89&&_0x35999e[_0x453f10(0x111)]!==_0x453f10(0x1e7)),_0x3494a9=_0x5bd16c[_0x453f10(0x162)](_0x119edb=>({'i':_0x119edb['id'],'c':_0x119edb['clientId'],'s':_0x119edb[_0x453f10(0x1c0)],'e':_0x119edb[_0x453f10(0xd8)],'st':_0x119edb[_0x453f10(0x111)],'n':_0x119edb['note'],'sid':_0x119edb[_0x453f10(0x1e0)]}));return{'date':_0x364c89,'day_data':_0x3494a9};});if(_0x2968f2[_0x2dfe6a(0x197)]===0x0)return;console['log'](_0x2dfe6a(0x1cd)+_0x2968f2[_0x2dfe6a(0x197)]+_0x2dfe6a(0x1af)),await this['fetchFromServer'](_0x2dfe6a(0x156),{'changes':_0x2968f2});}};async function init(){const _0x2c4384=a2_0x113b45;DataManager[_0x2c4384(0x166)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x2c4384(0x121)]('matrixViewport')['addEventListener'](_0x2c4384(0x200),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x2c4384(0x210)]()[_0x2c4384(0x141)](()=>{const _0x422fcb=_0x2c4384;showToast(_0x422fcb(0x11e),!![]);})[_0x2c4384(0x208)](_0x224e51=>{const _0x30e871=_0x2c4384;showToast(_0x30e871(0x232),![]);});}function generateId(){const _0x52366f=a2_0x113b45;return Date[_0x52366f(0xbf)]()[_0x52366f(0x137)](0x24)+Math[_0x52366f(0xff)]()[_0x52366f(0x137)](0x24)[_0x52366f(0x134)](0x2,0x5);}function toggleSeriesInput(){const _0x436c71=a2_0x113b45,_0x545e7e=document[_0x436c71(0x121)](_0x436c71(0xed))[_0x436c71(0x20b)],_0x1be7fb=document[_0x436c71(0x121)](_0x436c71(0x1c8));_0x1be7fb['style'][_0x436c71(0x1b1)]=_0x545e7e?_0x436c71(0x1cb):_0x436c71(0x12e);const _0x3d5a36=document[_0x436c71(0x121)](_0x436c71(0x164));_0x3d5a36[_0x436c71(0x1e3)][_0x436c71(0x14e)]=_0x545e7e?_0x436c71(0x1dc):_0x436c71(0xee);}function openAddSession(_0x441804){const _0x4d54d1=a2_0x113b45;editingId=null,populateClientSelect(),document[_0x4d54d1(0x121)](_0x4d54d1(0x13f))[_0x4d54d1(0x1a5)]='–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å',document[_0x4d54d1(0x121)](_0x4d54d1(0x23f))['style'][_0x4d54d1(0x1b1)]=_0x4d54d1(0x12e),document[_0x4d54d1(0x121)](_0x4d54d1(0x163))['style'][_0x4d54d1(0x1b1)]=_0x4d54d1(0x12e);const _0x4b3749=document['getElementById'](_0x4d54d1(0x164)),_0x1709af=document['getElementById'](_0x4d54d1(0x1c8));_0x4b3749[_0x4d54d1(0x1e3)][_0x4d54d1(0x1b1)]=_0x4d54d1(0x1a4),_0x4b3749[_0x4d54d1(0x1e3)][_0x4d54d1(0x14e)]=_0x4d54d1(0xee),document[_0x4d54d1(0x121)](_0x4d54d1(0xed))['checked']=![],document[_0x4d54d1(0x121)](_0x4d54d1(0xfd))[_0x4d54d1(0x229)]=0x4,_0x1709af[_0x4d54d1(0x1e3)][_0x4d54d1(0x1b1)]=_0x4d54d1(0x12e),document[_0x4d54d1(0x121)](_0x4d54d1(0x183))[_0x4d54d1(0x229)]=getLocalDateStr(_0x441804),updateDateDisplay();const _0x3ce0cf=_0x441804[_0x4d54d1(0x1ed)]();document[_0x4d54d1(0x121)](_0x4d54d1(0xf0))[_0x4d54d1(0x229)]=String(_0x3ce0cf)['padStart'](0x2,'0')+_0x4d54d1(0x1e1),document[_0x4d54d1(0x121)](_0x4d54d1(0xfb))[_0x4d54d1(0x229)]=String(_0x3ce0cf+0x1)[_0x4d54d1(0x109)](0x2,'0')+':00',openSheet(_0x4d54d1(0x1e5));}function openEdit(_0x4e2102){const _0x22e93b=a2_0x113b45;editingId=_0x4e2102['id'],populateClientSelect(),document[_0x22e93b(0x121)](_0x22e93b(0x13f))[_0x22e93b(0x1a5)]='–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å',document[_0x22e93b(0x121)](_0x22e93b(0x23f))['style'][_0x22e93b(0x1b1)]=_0x22e93b(0x1cb);const _0x8b5469=document[_0x22e93b(0x121)](_0x22e93b(0x163));_0x8b5469[_0x22e93b(0x1e3)][_0x22e93b(0x1b1)]=_0x22e93b(0x1a4);_0x4e2102[_0x22e93b(0x111)]===_0x22e93b(0x129)?(_0x8b5469[_0x22e93b(0x1ee)]=_0x22e93b(0x158),_0x8b5469[_0x22e93b(0x1bf)]=_0x22e93b(0x1b5)):(_0x8b5469['className']=_0x22e93b(0x14d),_0x8b5469[_0x22e93b(0x1bf)]=_0x22e93b(0x16d));const _0x846f4f=!!_0x4e2102['seriesId'];document[_0x22e93b(0x121)](_0x22e93b(0x164))[_0x22e93b(0x1e3)][_0x22e93b(0x1b1)]='none',document[_0x22e93b(0x121)]('seriesCountContainer')[_0x22e93b(0x1e3)][_0x22e93b(0x1b1)]=_0x22e93b(0x12e),_0x846f4f?(document[_0x22e93b(0x121)]('patternInfoBox')[_0x22e93b(0x1e3)]['display']=_0x22e93b(0x1a4),document['getElementById'](_0x22e93b(0x180))[_0x22e93b(0x175)](_0x22e93b(0x1ff))['textContent']=_0x22e93b(0x18d)):document['getElementById'](_0x22e93b(0x180))[_0x22e93b(0x1e3)]['display']='none',document['getElementById'](_0x22e93b(0x1a0))[_0x22e93b(0x229)]=_0x4e2102[_0x22e93b(0x11b)],document[_0x22e93b(0x121)](_0x22e93b(0x183))[_0x22e93b(0x229)]=_0x4e2102['dateStr'],document[_0x22e93b(0x121)](_0x22e93b(0xf0))[_0x22e93b(0x229)]=_0x4e2102[_0x22e93b(0x1c0)],document['getElementById']('inpEnd')[_0x22e93b(0x229)]=_0x4e2102['end'],document[_0x22e93b(0x121)](_0x22e93b(0xc3))['value']=_0x4e2102[_0x22e93b(0x151)]||'',updateDateDisplay(),openSheet(_0x22e93b(0x1e5));}async function trySaveSession(){const _0x25257e=a2_0x113b45,_0x16b26b=document['getElementById']('inpClient')[_0x25257e(0x229)],_0x347865=document[_0x25257e(0x121)]('inpDate')['value'],_0x192fb5=document[_0x25257e(0x121)](_0x25257e(0xf0))[_0x25257e(0x229)],_0x3bb8ef=document[_0x25257e(0x121)](_0x25257e(0xfb))['value'],_0x2efc26=document[_0x25257e(0x121)](_0x25257e(0xc3))[_0x25257e(0x229)],_0x384463=document[_0x25257e(0x121)](_0x25257e(0xed))[_0x25257e(0x20b)];let _0x27276c=0x4;if(_0x384463){const _0x50cc25=parseInt(document[_0x25257e(0x121)](_0x25257e(0xfd))['value']);if(!_0x50cc25||_0x50cc25<0x2){showToast('–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏',![]);return;}if(_0x50cc25>0x64){showToast(_0x25257e(0x196),![]);return;}_0x27276c=_0x50cc25;}const _0x3a6f62=clients[_0x25257e(0x20d)](_0x4be154=>_0x4be154[_0x25257e(0x16a)]===_0x16b26b);if(!_0x3a6f62){showToast(_0x25257e(0x1d1),![]);return;}const _0x4f16fd=validateAppointment(_0x347865,_0x192fb5,_0x3bb8ef,editingId,_0x3a6f62['id']);if(!_0x4f16fd[_0x25257e(0x10d)]){showToast(_0x4f16fd[_0x25257e(0x1b6)],![]);return;}_0x4f16fd[_0x25257e(0x112)]&&showToast(_0x4f16fd[_0x25257e(0x112)],![]);const _0x45a4e2={'client':_0x16b26b,'clientId':_0x3a6f62['id'],'start':_0x192fb5,'end':_0x3bb8ef,'note':_0x2efc26,'status':'planned'},_0x1448c4=editingId?sessions[_0x25257e(0x20d)](_0x5379b9=>_0x5379b9['id']===editingId):null;if(_0x1448c4&&_0x1448c4[_0x25257e(0x1e0)]){tempSessionData={..._0x45a4e2,'dateStr':_0x347865,'id':editingId,'seriesId':_0x1448c4['seriesId']},openActionSheet(_0x25257e(0x176));return;}let _0x25a240=null;if(!editingId)_0x25a240=_0x25257e(0x1ba);else{if(_0x1448c4){if(String(_0x1448c4[_0x25257e(0x18f)])!==String(_0x3a6f62['id']))console[_0x25257e(0x1ce)](_0x25257e(0x19d)),NotificationManager[_0x25257e(0x20a)](_0x25257e(0xb3),_0x1448c4),_0x25a240=_0x25257e(0x1ba);else(_0x1448c4[_0x25257e(0x1c0)]!==_0x192fb5||_0x1448c4[_0x25257e(0xd8)]!==_0x3bb8ef||_0x1448c4['dateStr']!==_0x347865)&&(_0x25a240=_0x25257e(0xc6));}}if(!editingId&&_0x384463){createBatchSeries(_0x45a4e2,_0x347865,_0x27276c),NotificationManager[_0x25257e(0x20a)](_0x25257e(0x1ba),{..._0x45a4e2,'dateStr':_0x347865});return;}lastUserActionTime=Date['now']();const _0x3df188={..._0x45a4e2,'dateStr':_0x347865,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x3df188),_0x25a240&&NotificationManager[_0x25257e(0x20a)](_0x25a240,_0x3df188);}function toggleSessionStatus(){const _0x5d769b=a2_0x113b45;lastUserActionTime=Date[_0x5d769b(0xbf)]();const _0x49964e=sessions[_0x5d769b(0x20d)](_0x218c16=>_0x218c16['id']===editingId);if(!_0x49964e)return;const _0x4e0474=_0x49964e[_0x5d769b(0x111)]===_0x5d769b(0x129)?_0x5d769b(0x203):_0x5d769b(0x129);_0x49964e['status']=_0x4e0474,saveSingleSession(_0x49964e),_0x4e0474===_0x5d769b(0x129)&&NotificationManager[_0x5d769b(0x20a)](_0x5d769b(0xec),_0x49964e),showToast(_0x4e0474===_0x5d769b(0x129)?_0x5d769b(0x140):_0x5d769b(0x22f),!![]);}function validateAppointment(_0x539f08,_0x2e5c21,_0x6263e2,_0x2b13cd,_0x288930){const _0x2296be=a2_0x113b45,[_0x35134a,_0x3ce179]=_0x2e5c21['split'](':')[_0x2296be(0x162)](Number),[_0x1e6277,_0x1137d7]=_0x6263e2[_0x2296be(0xfe)](':')[_0x2296be(0x162)](Number),_0x13f3cd=_0x35134a*0x3c+_0x3ce179,_0x244cc2=_0x1e6277*0x3c+_0x1137d7,_0x4ca1ab=String(_0x288930);let _0x103d5d=![],_0x31ef00='';for(let _0x30425a of sessions){if(_0x30425a['dateStr']!==_0x539f08)continue;if(_0x30425a['status']===_0x2296be(0x146))continue;if(_0x2b13cd&&String(_0x30425a['id'])===String(_0x2b13cd))continue;const [_0x10b912,_0x267277]=_0x30425a[_0x2296be(0x1c0)][_0x2296be(0xfe)](':')[_0x2296be(0x162)](Number),[_0x3dd435,_0x51a289]=_0x30425a[_0x2296be(0xd8)][_0x2296be(0xfe)](':')[_0x2296be(0x162)](Number),_0x217696=_0x10b912*0x3c+_0x267277,_0x4d1edc=_0x3dd435*0x3c+_0x51a289;if(Math[_0x2296be(0x160)](_0x13f3cd,_0x217696)<Math[_0x2296be(0x20f)](_0x244cc2,_0x4d1edc)){if(_0x30425a[_0x2296be(0x18f)]&&String(_0x30425a[_0x2296be(0x18f)])===_0x4ca1ab)return{'valid':![],'msg':_0x2296be(0xb1)+_0x30425a['client']+_0x2296be(0x132)};_0x103d5d=!![],_0x31ef00=_0x30425a[_0x2296be(0x11b)];}}if(_0x103d5d)return{'valid':!![],'warning':_0x2296be(0x198)+_0x31ef00};return{'valid':!![]};}function saveSingleSession(_0x3a00e3){const _0xe892b2=a2_0x113b45;if(editingId){const _0x4bc6cc=sessions[_0xe892b2(0x1d3)](_0x4eb767=>_0x4eb767['id']===editingId);if(_0x4bc6cc!==-0x1)sessions[_0x4bc6cc]=_0x3a00e3;}else sessions['push'](_0x3a00e3);afterSaveAction([_0x3a00e3[_0xe892b2(0x1ab)]]);}function createBatchSeries(_0x637e87,_0x187a35,_0xd79ec6){const _0x587093=a2_0x113b45,_0x48ec6f=generateId(),_0x510e3f=[],_0x5d3e01=[];let _0x4cf52a=0x0,_0x22afc8=new Date(_0x187a35);for(let _0x520ff1=0x0;_0x520ff1<_0xd79ec6;_0x520ff1++){const _0x5603ef=getLocalDateStr(_0x22afc8),_0x15bd9b=validateAppointment(_0x5603ef,_0x637e87[_0x587093(0x1c0)],_0x637e87['end'],null,_0x637e87[_0x587093(0x18f)]);if(!_0x15bd9b[_0x587093(0x10d)])console[_0x587093(0x1ce)](_0x587093(0x1eb)+_0x5603ef+':\x20Client\x20already\x20booked'),_0x4cf52a++;else{const _0x4c8979={..._0x637e87,'id':generateId(),'dateStr':_0x5603ef,'seriesId':_0x48ec6f};_0x5d3e01['push'](_0x4c8979),_0x510e3f[_0x587093(0xe2)](_0x5603ef);}_0x22afc8['setDate'](_0x22afc8['getDate']()+0x7);}if(_0x5d3e01[_0x587093(0x197)]===0x0){showToast(_0x587093(0xc9),![]);return;}sessions[_0x587093(0xe2)](..._0x5d3e01),lastUserActionTime=Date[_0x587093(0xbf)]();let _0x3c8199=_0x587093(0x227)+_0x5d3e01['length'];_0x4cf52a>0x0&&(_0x3c8199+=_0x587093(0x143)+_0x4cf52a+')'),showToast(_0x3c8199,!![]),afterSaveAction(_0x510e3f);}function updateSeriesBatch(_0x359c16,_0x47c930){const _0x44ec73=a2_0x113b45,_0x5d1739=[],_0x39f41d=_0x47c930[_0x44ec73(0x1e0)];if(_0x359c16===_0x44ec73(0x22e)){const _0x1b4b6b={..._0x47c930,'seriesId':null},_0x5332af=sessions[_0x44ec73(0x1d3)](_0x6b5d9c=>_0x6b5d9c['id']===_0x47c930['id']);if(_0x5332af!==-0x1)sessions[_0x5332af]=_0x1b4b6b;_0x5d1739[_0x44ec73(0xe2)](_0x1b4b6b[_0x44ec73(0x1ab)]);}else{if(_0x359c16===_0x44ec73(0x193)){const _0x45db0d=_0x47c930['dateStr'];sessions['forEach']((_0x594ee1,_0x3357da)=>{const _0x4408f9=_0x44ec73;_0x594ee1[_0x4408f9(0x1e0)]===_0x39f41d&&_0x594ee1[_0x4408f9(0x1ab)]>=_0x45db0d&&(sessions[_0x3357da]={...sessions[_0x3357da],'start':_0x47c930[_0x4408f9(0x1c0)],'end':_0x47c930[_0x4408f9(0xd8)],'note':_0x47c930[_0x4408f9(0x151)],'client':_0x47c930['client'],'clientId':_0x47c930[_0x4408f9(0x18f)]},_0x5d1739[_0x4408f9(0xe2)](_0x594ee1['dateStr']));});}}afterSaveAction(_0x5d1739);}function tryDeleteSession(){const _0x43e741=a2_0x113b45,_0x483460=sessions[_0x43e741(0x20d)](_0x2861a4=>_0x2861a4['id']===editingId);if(!_0x483460)return;_0x483460['seriesId']?openActionSheet(_0x43e741(0x236)):commitDelete(_0x43e741(0x22e),_0x483460);}function commitDelete(_0x298913,_0x27391f){const _0x5f03d7=a2_0x113b45;lastUserActionTime=Date[_0x5f03d7(0xbf)](),NotificationManager[_0x5f03d7(0x20a)]('cancel',_0x27391f);const _0x245215=[];if(_0x298913===_0x5f03d7(0x22e))sessions=sessions[_0x5f03d7(0x10a)](_0xbb207d=>_0xbb207d['id']!==_0x27391f['id']),_0x245215[_0x5f03d7(0xe2)](_0x27391f[_0x5f03d7(0x1ab)]);else{if(_0x298913===_0x5f03d7(0x193)){const _0x3f11d3=_0x27391f['dateStr'],_0x160e5f=_0x27391f['seriesId'];sessions[_0x5f03d7(0x1ad)](_0x2ff12e=>{const _0x3ef026=_0x5f03d7;_0x2ff12e['seriesId']===_0x160e5f&&_0x2ff12e[_0x3ef026(0x1ab)]>=_0x3f11d3&&_0x245215[_0x3ef026(0xe2)](_0x2ff12e[_0x3ef026(0x1ab)]);}),sessions=sessions['filter'](_0x9af73f=>!(_0x9af73f[_0x5f03d7(0x1e0)]===_0x160e5f&&_0x9af73f[_0x5f03d7(0x1ab)]>=_0x3f11d3));}}afterSaveAction(_0x245215);}function afterSaveAction(_0xdc5816){const _0x41b948=a2_0x113b45;DataManager['saveLocally'](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x41b948(0x1c9)](_0xdc5816)['then'](()=>console[_0x41b948(0x1ce)](_0x41b948(0xd4)))[_0x41b948(0x208)](_0x5a4cda=>showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ',![]));}const NotificationManager={'formatDate'(_0x46ff40){const _0x630879=a2_0x113b45,_0x137519=new Date(_0x46ff40),_0x518094={'weekday':_0x630879(0x15f),'day':'numeric','month':'long'};let _0x55c870=_0x137519[_0x630879(0x127)](_0x630879(0x230),_0x518094);return _0x55c870[_0x630879(0x107)](0x0)[_0x630879(0x18b)]()+_0x55c870[_0x630879(0x224)](0x1);},'getText'(_0x31aa72,_0x56d3f4){const _0x1d2171=a2_0x113b45,_0x22cec5=this[_0x1d2171(0x19e)](_0x56d3f4[_0x1d2171(0x1ab)]);switch(_0x31aa72){case _0x1d2171(0x1ba):return _0x1d2171(0x117)+(_0x1d2171(0x178)+_0x22cec5+'\x0a')+('<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20'+_0x56d3f4[_0x1d2171(0x1c0)]+_0x1d2171(0x1a8)+_0x56d3f4['end']+'\x0a\x0a')+_0x1d2171(0x240);case'update':return _0x1d2171(0xcd)+'–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a'+(_0x1d2171(0x1d8)+_0x56d3f4[_0x1d2171(0x1c0)]+_0x1d2171(0x1a8)+_0x56d3f4[_0x1d2171(0xd8)]+_0x1d2171(0x17e))+(_0x1d2171(0x178)+_0x22cec5);case'cancel':return'<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a'+('–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>'+_0x22cec5+'\x20('+_0x56d3f4[_0x1d2171(0x1c0)]+')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.');case _0x1d2171(0xec):return _0x1d2171(0x144)+_0x1d2171(0x15e)+_0x1d2171(0x150);default:return'';}},async 'send'(_0x3895f8,_0x6a441e){const _0x168720=a2_0x113b45;console['log'](_0x168720(0xe4),_0x3895f8,_0x6a441e);if(!_0x6a441e){console[_0x168720(0x147)](_0x168720(0x16f));return;}const _0x24c238=String(_0x6a441e[_0x168720(0x18f)]);console[_0x168720(0x1ce)](_0x168720(0x19b),_0x24c238);if(!_0x6a441e['clientId']||_0x24c238===_0x168720(0x1ae)||_0x24c238===_0x168720(0x1e4)){console['error'](_0x168720(0x18e));if(_0x6a441e['client']){const _0x63492b=clients[_0x168720(0x20d)](_0x2f8438=>_0x2f8438[_0x168720(0x16a)]===_0x6a441e[_0x168720(0x11b)]);if(_0x63492b)return console[_0x168720(0x1ce)](_0x168720(0xf4),_0x63492b['id']),this['send'](_0x3895f8,{..._0x6a441e,'clientId':_0x63492b['id']});}return;}if(_0x24c238[_0x168720(0x197)]<0x5){console[_0x168720(0xba)](_0x168720(0x1f5),_0x24c238);return;}const _0x53d6fd=this[_0x168720(0x172)](_0x3895f8,_0x6a441e);if(!_0x53d6fd){console[_0x168720(0x147)](_0x168720(0x13e));return;}console[_0x168720(0x1ce)](_0x168720(0x171)+_0x24c238+_0x168720(0xdb)),DataManager[_0x168720(0xbb)]('send_notification',{'chatId':_0x24c238,'text':_0x53d6fd})[_0x168720(0x141)](_0x34cd0f=>console['log'](_0x168720(0x119),_0x34cd0f))['catch'](_0x44fc5c=>console[_0x168720(0x147)]('[Notify]\x20Network\x20Failed',_0x44fc5c));}};function getLocalDateStr(_0xc4e592){const _0x370927=a2_0x113b45,_0x49723f=_0xc4e592['getFullYear'](),_0x440628=String(_0xc4e592[_0x370927(0xd0)]()+0x1)[_0x370927(0x109)](0x2,'0'),_0x3cf2af=String(_0xc4e592[_0x370927(0xfc)]())[_0x370927(0x109)](0x2,'0');return _0x49723f+'-'+_0x440628+'-'+_0x3cf2af;}function getDateStr(_0xcc16b8){const _0x4eefa0=a2_0x113b45,_0x292d1b=new Date();return _0x292d1b[_0x4eefa0(0x1b4)](_0x292d1b[_0x4eefa0(0xfc)]()+_0xcc16b8),getLocalDateStr(_0x292d1b);}function getStartOfWeek(_0x50c938){const _0x214b3a=a2_0x113b45,_0x509162=new Date(_0x50c938),_0x398395=_0x509162[_0x214b3a(0x22c)](),_0x3003a2=_0x509162[_0x214b3a(0xfc)]()-_0x398395+(_0x398395===0x0?-0x6:0x1);return _0x509162['setDate'](_0x3003a2),_0x509162[_0x214b3a(0x17f)](0x0,0x0,0x0,0x0),_0x509162;}function hexToRgba(_0x3225ab,_0x424e49){const _0x4b3e97=a2_0x113b45;if(!_0x3225ab)return _0x4b3e97(0x12c);let _0x103d82=0x0,_0x2c5248=0x0,_0x77a6e5=0x0;if(_0x3225ab[_0x4b3e97(0x197)]===0x4)_0x103d82='0x'+_0x3225ab[0x1]+_0x3225ab[0x1],_0x2c5248='0x'+_0x3225ab[0x2]+_0x3225ab[0x2],_0x77a6e5='0x'+_0x3225ab[0x3]+_0x3225ab[0x3];else _0x3225ab[_0x4b3e97(0x197)]===0x7&&(_0x103d82='0x'+_0x3225ab[0x1]+_0x3225ab[0x2],_0x2c5248='0x'+_0x3225ab[0x3]+_0x3225ab[0x4],_0x77a6e5='0x'+_0x3225ab[0x5]+_0x3225ab[0x6]);return _0x4b3e97(0x19a)+ +_0x103d82+',\x20'+ +_0x2c5248+',\x20'+ +_0x77a6e5+',\x20'+_0x424e49+')';}function a2_0xd70e(_0x36e214,_0x157323){_0x36e214=_0x36e214-0xaf;const _0x1c42ec=a2_0x4b2e();let _0x5524ef=_0x1c42ec[_0x36e214];return _0x5524ef;}function renderTimeColumn(){const _0x174970=a2_0x113b45,_0x2a20f5=document[_0x174970(0x121)](_0x174970(0x1f0)),_0x53d0fb=document['getElementById'](_0x174970(0x14a));_0x2a20f5[_0x174970(0x1bf)]='',_0x2a20f5[_0x174970(0x1ec)](_0x53d0fb);for(let _0x4c682e=0x0;_0x4c682e<0x18;_0x4c682e++){const _0x533994=document[_0x174970(0x22b)]('div');_0x533994['className']=_0x174970(0x1ea);if(_0x4c682e>0x0)_0x533994[_0x174970(0x1bf)]=_0x174970(0xf9)+String(_0x4c682e)[_0x174970(0x109)](0x2,'0')+_0x174970(0x1d7);_0x2a20f5['appendChild'](_0x533994);}}function renderDayRange(_0x35fdd2,_0x1a6300){const _0x2deadf=a2_0x113b45,_0x5da858=document['getElementById'](_0x2deadf(0x221)),_0x35f13c=document['getElementById'](_0x2deadf(0x234)),_0x13bb24=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x56a748=new Date();_0x56a748[_0x2deadf(0x17f)](0x0,0x0,0x0,0x0);const _0x34d953=getLocalDateStr(new Date());for(let _0x1f610a=_0x35fdd2;_0x1f610a<=_0x1a6300;_0x1f610a++){const _0x191069=new Date(_0x56a748);_0x191069[_0x2deadf(0x1b4)](_0x191069[_0x2deadf(0xfc)]()+_0x1f610a);const _0x516be8=getLocalDateStr(_0x191069);let _0x18c887=_0x191069['getDay']()-0x1;if(_0x18c887===-0x1)_0x18c887=0x6;const _0x3136da=_0x516be8===_0x34d953,_0x1b7449=document[_0x2deadf(0x22b)]('div');_0x1b7449[_0x2deadf(0x1ee)]=_0x2deadf(0x217)+(_0x3136da?'today':''),_0x1b7449['id']=_0x2deadf(0x237)+_0x516be8,_0x1b7449[_0x2deadf(0x11f)]('data-date',_0x516be8),_0x1b7449['innerHTML']=_0x2deadf(0x167)+_0x13bb24[_0x18c887]+'</div><div\x20class=\x22dch-num\x22>'+_0x191069[_0x2deadf(0xfc)]()+_0x2deadf(0x17d)+_0x516be8+_0x2deadf(0x14f),_0x1b7449[_0x2deadf(0x21d)]=()=>openDayOptions(_0x516be8,_0x13bb24[_0x18c887]+'\x20'+_0x191069[_0x2deadf(0xfc)]()),_0x5da858['appendChild'](_0x1b7449);const _0xf74a5f=document[_0x2deadf(0x22b)](_0x2deadf(0xc2));_0xf74a5f[_0x2deadf(0x1ee)]=_0x2deadf(0xf1)+(_0x3136da?'today':''),_0xf74a5f[_0x2deadf(0x11f)](_0x2deadf(0xe1),_0x516be8),_0xf74a5f['setAttribute']('data-day-idx',_0x18c887),renderEventsForColumn(_0xf74a5f,_0x516be8,_0x18c887),attachLongPressHandler(_0xf74a5f,_0x191069),_0x35f13c[_0x2deadf(0x1ec)](_0xf74a5f),updateDayStats(_0x516be8);}}function reRenderBlocks(){const _0x190e22=a2_0x113b45;document[_0x190e22(0x173)](_0x190e22(0x155))['forEach'](_0x5cf5f7=>{const _0x4f82aa=_0x190e22;_0x5cf5f7[_0x4f82aa(0x173)](_0x4f82aa(0x1ca))['forEach'](_0x351885=>_0x351885['remove']());const _0x161d70=_0x5cf5f7[_0x4f82aa(0x218)](_0x4f82aa(0xe1)),_0x81705e=parseInt(_0x5cf5f7[_0x4f82aa(0x218)](_0x4f82aa(0x113))),_0x10d2f0=Math['round'](_0x5cf5f7[_0x4f82aa(0x108)]);(availabilityPattern[_0x81705e]||[])[_0x4f82aa(0x1ad)](_0xe8c3be=>{const _0x5c5e10=_0x4f82aa,_0x5db397=document[_0x5c5e10(0x22b)](_0x5c5e10(0xc2));_0x5db397[_0x5c5e10(0x1ee)]=_0x5c5e10(0x209);const _0x3b442c=_0xe8c3be*GRID_H;_0x5db397['style'][_0x5c5e10(0xf5)]=_0x3b442c+'px',_0x5db397['style'][_0x5c5e10(0x202)]='-'+_0x10d2f0+_0x5c5e10(0x233)+_0x3b442c+'px',_0x5cf5f7['appendChild'](_0x5db397);});if(specialRanges&&specialRanges[_0x4f82aa(0x197)]>0x0){const _0x1076bd=new Date(_0x161d70+_0x4f82aa(0xd6))[_0x4f82aa(0x23c)](),_0x304e9a=new Date(_0x161d70+_0x4f82aa(0xda))[_0x4f82aa(0x23c)]();specialRanges[_0x4f82aa(0x1ad)](_0x4eb85e=>{const _0x16178e=_0x4f82aa,_0x10f517=new Date(_0x4eb85e[_0x16178e(0x1c0)])[_0x16178e(0x23c)](),_0x198ca9=new Date(_0x4eb85e[_0x16178e(0xd8)])[_0x16178e(0x23c)](),_0x329e3d=Math[_0x16178e(0x160)](_0x1076bd,_0x10f517),_0x37d802=Math[_0x16178e(0x20f)](_0x304e9a,_0x198ca9);if(_0x329e3d<_0x37d802){if(_0x329e3d<=_0x1076bd&&_0x37d802>=_0x304e9a-0xea60){if(!_0x5cf5f7[_0x16178e(0x175)](_0x16178e(0xdd))){const _0x35829f=document[_0x16178e(0x22b)]('div');_0x35829f['className']=_0x16178e(0x231),_0x35829f[_0x16178e(0x1e3)][_0x16178e(0x202)]='-'+_0x10d2f0+_0x16178e(0x184),_0x5cf5f7[_0x16178e(0x1ec)](_0x35829f);}}else{const _0x23204f=(_0x329e3d-_0x1076bd)/0x36ee80*GRID_H,_0x42dbee=(_0x37d802-_0x329e3d)/0x36ee80*GRID_H,_0x3b4379=document[_0x16178e(0x22b)](_0x16178e(0xc2));_0x3b4379['className']=_0x16178e(0xc1),_0x3b4379[_0x16178e(0x1e3)][_0x16178e(0xf5)]=_0x23204f+'px',_0x3b4379[_0x16178e(0x1e3)][_0x16178e(0x1e6)]=_0x42dbee+'px',_0x3b4379[_0x16178e(0x1e3)][_0x16178e(0x202)]='-'+_0x10d2f0+'px\x20-'+_0x23204f+'px',_0x5cf5f7['appendChild'](_0x3b4379);}}});}if(dateExceptions[_0x161d70]===_0x4f82aa(0x1b3)){if(!_0x5cf5f7[_0x4f82aa(0x175)](_0x4f82aa(0xdd))){const _0x579307=document[_0x4f82aa(0x22b)](_0x4f82aa(0xc2));_0x579307[_0x4f82aa(0x1ee)]=_0x4f82aa(0x231),_0x579307[_0x4f82aa(0x1e3)]['backgroundPosition']='-'+_0x10d2f0+_0x4f82aa(0x184),_0x5cf5f7[_0x4f82aa(0x1ec)](_0x579307);}}renderEventsForColumn(_0x5cf5f7,_0x161d70,_0x81705e),updateDayStats(_0x161d70);});}function updateAllDayStats(){const _0x5ec861=a2_0x113b45;document[_0x5ec861(0x173)](_0x5ec861(0x153))[_0x5ec861(0x1ad)](_0x19dd1d=>{const _0x40cf5c=_0x5ec861;updateDayStats(_0x19dd1d[_0x40cf5c(0x218)]('data-date'));});}function updateDayStats(_0x50370c){const _0x436ac6=a2_0x113b45,_0x49f0a8=document[_0x436ac6(0x121)]('stat-'+_0x50370c);if(!_0x49f0a8)return;const _0x3ef269=new Date(_0x50370c);let _0x3a7cf3=_0x3ef269['getDay']()-0x1;if(_0x3a7cf3===-0x1)_0x3a7cf3=0x6;if(dateExceptions[_0x50370c]==='off'){_0x49f0a8[_0x436ac6(0x1e3)][_0x436ac6(0x1b1)]=_0x436ac6(0x12e);return;}const _0x1df7d=availabilityPattern[_0x3a7cf3]||[],_0x120e0c=0x18-_0x1df7d[_0x436ac6(0x197)],_0x1d31cc=_0x120e0c*0x3c,_0x633ec3=sessions[_0x436ac6(0x10a)](_0xd7e311=>_0xd7e311[_0x436ac6(0x1ab)]===_0x50370c&&_0xd7e311[_0x436ac6(0x111)]!=='cancelled');if(_0x633ec3['length']===0x0){_0x49f0a8[_0x436ac6(0x1e3)][_0x436ac6(0x1b1)]=_0x436ac6(0x12e);return;}let _0x1d71ae=_0x633ec3[_0x436ac6(0x162)](_0x1c2b5e=>{const _0x2d4e60=_0x436ac6,[_0x49228b,_0x47b7a1]=_0x1c2b5e[_0x2d4e60(0x1c0)][_0x2d4e60(0xfe)](':')[_0x2d4e60(0x162)](Number),[_0x4f063c,_0x47b020]=_0x1c2b5e[_0x2d4e60(0xd8)]['split'](':')[_0x2d4e60(0x162)](Number);return[_0x49228b*0x3c+_0x47b7a1,_0x4f063c*0x3c+_0x47b020];});_0x1d71ae['sort']((_0x243153,_0x215fe8)=>_0x243153[0x0]-_0x215fe8[0x0]);let _0x23c63c=[];if(_0x1d71ae[_0x436ac6(0x197)]>0x0){let _0x4993d6=_0x1d71ae[0x0];for(let _0xac91c8=0x1;_0xac91c8<_0x1d71ae[_0x436ac6(0x197)];_0xac91c8++){_0x1d71ae[_0xac91c8][0x0]<_0x4993d6[0x1]?_0x4993d6[0x1]=Math[_0x436ac6(0x160)](_0x4993d6[0x1],_0x1d71ae[_0xac91c8][0x1]):(_0x23c63c[_0x436ac6(0xe2)](_0x4993d6),_0x4993d6=_0x1d71ae[_0xac91c8]);}_0x23c63c[_0x436ac6(0xe2)](_0x4993d6);}let _0xc1abb1=0x0;_0x23c63c['forEach'](_0x46751b=>_0xc1abb1+=_0x46751b[0x1]-_0x46751b[0x0]),_0x49f0a8[_0x436ac6(0x1e3)][_0x436ac6(0x1b1)]=_0x436ac6(0x1a4);const _0x289dcb=_0x49f0a8[_0x436ac6(0x175)](_0x436ac6(0xb8));if(_0x1d31cc===0x0){_0x289dcb['style'][_0x436ac6(0x190)]='100%',_0x289dcb[_0x436ac6(0x1e3)][_0x436ac6(0xeb)]='var(--acc-red)';return;}const _0x78aeeb=_0xc1abb1/_0x1d31cc*0x64;console[_0x436ac6(0x1ce)]('['+_0x50370c+_0x436ac6(0xe3)+_0x120e0c+_0x436ac6(0xb9)+_0xc1abb1+_0x436ac6(0xf7)+_0x78aeeb[_0x436ac6(0x235)](0x1)+'%'),_0x78aeeb>0x64?(_0x289dcb['style'][_0x436ac6(0x190)]='100%',_0x289dcb[_0x436ac6(0x1e3)][_0x436ac6(0xeb)]='var(--acc-red)'):(_0x289dcb[_0x436ac6(0x1e3)][_0x436ac6(0x190)]=_0x78aeeb+'%',_0x289dcb[_0x436ac6(0x1e3)]['background']=_0x436ac6(0x16b));}function renderEventsForColumn(_0x20ec54,_0x4560ba,_0x580776){const _0x72eb4e=a2_0x113b45,_0x4847db=sessions[_0x72eb4e(0x10a)](_0x355221=>_0x355221[_0x72eb4e(0x1ab)]===_0x4560ba),_0xb43c27=_0x4847db[_0x72eb4e(0x162)](_0x54c7b2=>{const _0x4b230b=_0x72eb4e,[_0x56fdbb,_0x3e683d]=_0x54c7b2[_0x4b230b(0x1c0)][_0x4b230b(0xfe)](':')['map'](Number),[_0x2db32e,_0x879904]=_0x54c7b2[_0x4b230b(0xd8)][_0x4b230b(0xfe)](':')['map'](Number);return{'data':_0x54c7b2,'start':_0x56fdbb*0x3c+_0x3e683d,'end':_0x2db32e*0x3c+_0x879904,'colIndex':0x0};});_0xb43c27[_0x72eb4e(0xd5)]((_0x1cb90f,_0x3548e4)=>{const _0x2c22a4=_0x72eb4e;if(_0x1cb90f[_0x2c22a4(0x1c0)]!==_0x3548e4[_0x2c22a4(0x1c0)])return _0x1cb90f[_0x2c22a4(0x1c0)]-_0x3548e4[_0x2c22a4(0x1c0)];return _0x3548e4[_0x2c22a4(0xd8)]-_0x3548e4[_0x2c22a4(0x1c0)]-(_0x1cb90f[_0x2c22a4(0xd8)]-_0x1cb90f['start']);});const _0x4c8d18=[];_0xb43c27[_0x72eb4e(0x1ad)](_0xf206a1=>{const _0x361c40=_0x72eb4e;let _0x1976e4=![];for(let _0x3ec5b3=0x0;_0x3ec5b3<_0x4c8d18['length'];_0x3ec5b3++){const _0xd6e6c1=_0x4c8d18[_0x3ec5b3],_0x5d171c=_0xd6e6c1[_0xd6e6c1['length']-0x1];if(_0xf206a1[_0x361c40(0x1c0)]>=_0x5d171c[_0x361c40(0xd8)]){_0xd6e6c1[_0x361c40(0xe2)](_0xf206a1),_0xf206a1[_0x361c40(0xcf)]=_0x3ec5b3,_0x1976e4=!![];break;}}!_0x1976e4&&(_0x4c8d18[_0x361c40(0xe2)]([_0xf206a1]),_0xf206a1[_0x361c40(0xcf)]=_0x4c8d18[_0x361c40(0x197)]-0x1);}),_0xb43c27[_0x72eb4e(0x1ad)](_0xa23aea=>{const _0x108187=_0x72eb4e;let _0x5c1ee6=0x0;_0xb43c27[_0x108187(0x1ad)](_0x43ca5a=>{const _0x2a87f8=_0x108187;if(Math[_0x2a87f8(0x160)](_0xa23aea['start'],_0x43ca5a[_0x2a87f8(0x1c0)])<Math[_0x2a87f8(0x20f)](_0xa23aea[_0x2a87f8(0xd8)],_0x43ca5a[_0x2a87f8(0xd8)])){if(_0x43ca5a[_0x2a87f8(0xcf)]>_0x5c1ee6)_0x5c1ee6=_0x43ca5a[_0x2a87f8(0xcf)];}});const _0x15f6c8=_0x5c1ee6+0x1,_0x4f25b4=0x64/_0x15f6c8,_0x517947=_0xa23aea[_0x108187(0xcf)]*_0x4f25b4,_0x2c36db=createEventEl(_0xa23aea[_0x108187(0xe8)]);_0x2c36db[_0x108187(0x1e3)]['width']=_0x108187(0x214)+_0x4f25b4+_0x108187(0x1cf),_0x2c36db['style']['left']=_0x108187(0x214)+_0x517947+_0x108187(0xf8),_0x2c36db[_0x108187(0x1e3)][_0x108187(0x1fe)]=0xa+_0xa23aea[_0x108187(0xcf)],_0x4f25b4<0x55&&_0x2c36db[_0x108187(0x1bc)][_0x108187(0x114)]('mini'),_0x20ec54['appendChild'](_0x2c36db);});}function createEventEl(_0x222855){const _0x215262=a2_0x113b45,[_0x566815,_0x54520f]=_0x222855[_0x215262(0x1c0)][_0x215262(0xfe)](':')[_0x215262(0x162)](Number),[_0x9058d8,_0x115a6a]=_0x222855[_0x215262(0xd8)][_0x215262(0xfe)](':')['map'](Number),_0x23af82=(_0x566815*0x3c+_0x54520f)/0x3c*GRID_H,_0x1e587b=(_0x9058d8*0x3c+_0x115a6a-(_0x566815*0x3c+_0x54520f))/0x3c*GRID_H,_0x32c2ba=document[_0x215262(0x22b)](_0x215262(0xc2)),_0x344c0a=_0x222855['status']==='completed'?_0x215262(0xc0):'';_0x32c2ba[_0x215262(0x1ee)]='event-card'+_0x344c0a,_0x32c2ba['style']['top']=_0x23af82+'px',_0x32c2ba[_0x215262(0x1e3)][_0x215262(0x1e6)]=Math[_0x215262(0x160)](_0x1e587b,0x14)+'px';const _0x49e6c4=clients[_0x215262(0x20d)](_0xd645b4=>_0x222855['clientId']&&String(_0xd645b4['id'])===String(_0x222855[_0x215262(0x18f)])||_0xd645b4['name']===_0x222855['client']),_0x58ced9=_0x49e6c4?_0x49e6c4['color']:_0x215262(0x131);_0x32c2ba[_0x215262(0x1e3)][_0x215262(0x205)]=_0x58ced9,_0x32c2ba['style'][_0x215262(0x123)]=hexToRgba(_0x58ced9,0.85);let _0x51ad51=_0x215262(0x157)+_0x222855[_0x215262(0x11b)]+_0x215262(0x12d)+_0x222855[_0x215262(0x1c0)]+_0x215262(0x18a)+_0x222855[_0x215262(0xd8)]+_0x215262(0x1bd);return _0x222855['seriesId']&&(_0x51ad51+=_0x215262(0x1de)),_0x222855[_0x215262(0x111)]===_0x215262(0x129)&&(_0x51ad51+=_0x215262(0x1bb)),_0x32c2ba[_0x215262(0x1bf)]=_0x51ad51,_0x32c2ba[_0x215262(0x21d)]=_0x1765bd=>{const _0x11bb60=_0x215262;_0x1765bd[_0x11bb60(0x1a2)](),openEdit(_0x222855);},_0x32c2ba;}function attachLongPressHandler(_0x89e0d7,_0x90a33d){const _0x14275d=a2_0x113b45;let _0x4af10e=0x0,_0x2d48e9=null;const _0xfc1056=_0x5bf0c7=>{const _0x257ad6=a2_0xd70e;if(_0x5bf0c7[_0x257ad6(0x145)][_0x257ad6(0x1c7)](_0x257ad6(0x11c)))return;isScrolling=![],_0x4af10e=_0x5bf0c7['touches']?_0x5bf0c7['touches'][0x0][_0x257ad6(0x1fa)]:_0x5bf0c7[_0x257ad6(0x1fa)],_0x2d48e9=setTimeout(()=>{const _0x312ca2=_0x257ad6;if(!isScrolling){navigator[_0x312ca2(0x1f1)]?.(0x32);const _0x1f1b88=_0x89e0d7[_0x312ca2(0x1a7)](),_0x14e68e=Math[_0x312ca2(0x195)]((_0x4af10e-_0x1f1b88['top'])/GRID_H);_0x90a33d[_0x312ca2(0x17f)](_0x14e68e,0x0),openAddSession(_0x90a33d);}},0x1f4);},_0x562c73=()=>{isScrolling=!![],clearTimeout(_0x2d48e9);},_0x285afa=()=>{clearTimeout(_0x2d48e9);};_0x89e0d7[_0x14275d(0x211)](_0x14275d(0x136),_0xfc1056,{'passive':!![]}),_0x89e0d7[_0x14275d(0x211)](_0x14275d(0x23e),_0x562c73,{'passive':!![]}),_0x89e0d7[_0x14275d(0x211)](_0x14275d(0x1fd),_0x285afa),_0x89e0d7[_0x14275d(0x211)](_0x14275d(0xd2),_0xfc1056),_0x89e0d7[_0x14275d(0x211)](_0x14275d(0x18c),_0x562c73),_0x89e0d7[_0x14275d(0x211)](_0x14275d(0x1e2),_0x285afa);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x3a4379=a2_0x113b45,_0xa915d4=document[_0x3a4379(0x121)](_0x3a4379(0x194)),_0x2b4b5b=_0xa915d4[_0x3a4379(0x188)],_0x1edf1b=_0xa915d4['scrollWidth'],_0x2e7ac1=_0xa915d4['clientWidth'];if(_0x1edf1b-(_0x2b4b5b+_0x2e7ac1)<0x12c){const _0x3b024c=endOffset;endOffset+=0xe,renderDayRange(_0x3b024c+0x1,endOffset),reRenderBlocks();}if(_0x2b4b5b<0x12c){const _0x237cdc=startOffset;startOffset-=0xe,prependDays(startOffset,_0x237cdc-0x1),_0xa915d4[_0x3a4379(0x188)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x586286,_0x4e714a){const _0x49b26f=a2_0x113b45,_0x47ddc3=document[_0x49b26f(0x121)](_0x49b26f(0x221)),_0x2612de=document[_0x49b26f(0x121)](_0x49b26f(0x234)),_0x154a9e=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x26db14=new Date();_0x26db14['setHours'](0x0,0x0,0x0,0x0);const _0x1e68ad=getLocalDateStr(new Date()),_0x16aa3d=document['createDocumentFragment'](),_0x517f82=document[_0x49b26f(0x1da)]();for(let _0x5dbe3a=_0x586286;_0x5dbe3a<=_0x4e714a;_0x5dbe3a++){const _0x4a1062=new Date(_0x26db14);_0x4a1062[_0x49b26f(0x1b4)](_0x4a1062[_0x49b26f(0xfc)]()+_0x5dbe3a);const _0x1e956c=getLocalDateStr(_0x4a1062);let _0x2d9977=_0x4a1062[_0x49b26f(0x22c)]()-0x1;if(_0x2d9977===-0x1)_0x2d9977=0x6;const _0xa79090=_0x1e956c===_0x1e68ad,_0x370e2d=document[_0x49b26f(0x22b)]('div');_0x370e2d[_0x49b26f(0x1ee)]=_0x49b26f(0x217)+(_0xa79090?_0x49b26f(0x1f6):''),_0x370e2d['id']=_0x49b26f(0x237)+_0x1e956c,_0x370e2d[_0x49b26f(0x11f)](_0x49b26f(0xe1),_0x1e956c),_0x370e2d[_0x49b26f(0x1bf)]=_0x49b26f(0x167)+_0x154a9e[_0x2d9977]+_0x49b26f(0x126)+_0x4a1062['getDate']()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0x1e956c+_0x49b26f(0x14f),_0x370e2d[_0x49b26f(0x21d)]=()=>openDayOptions(_0x1e956c,_0x154a9e[_0x2d9977]+'\x20'+_0x4a1062[_0x49b26f(0xfc)]()),_0x16aa3d[_0x49b26f(0x1ec)](_0x370e2d);const _0x2495c8=document[_0x49b26f(0x22b)](_0x49b26f(0xc2));_0x2495c8[_0x49b26f(0x1ee)]=_0x49b26f(0xf1)+(_0xa79090?'today':''),_0x2495c8[_0x49b26f(0x11f)](_0x49b26f(0xe1),_0x1e956c),_0x2495c8['setAttribute'](_0x49b26f(0x113),_0x2d9977),renderEventsForColumn(_0x2495c8,_0x1e956c,_0x2d9977),attachLongPressHandler(_0x2495c8,_0x4a1062),_0x517f82[_0x49b26f(0x1ec)](_0x2495c8),updateDayStats(_0x1e956c);}_0x47ddc3[_0x49b26f(0x116)](_0x16aa3d,_0x47ddc3['firstChild']),_0x2612de['insertBefore'](_0x517f82,_0x2612de['querySelector']('.day-column'));}function validateAppointment(_0xa8d5df,_0x1e17b6,_0x568956,_0x51a7d3,_0x5d713e){const _0x7ad18d=a2_0x113b45,[_0x598312,_0x5d20cd]=_0x1e17b6[_0x7ad18d(0xfe)](':')[_0x7ad18d(0x162)](Number),[_0x397bd0,_0xf92dae]=_0x568956[_0x7ad18d(0xfe)](':')[_0x7ad18d(0x162)](Number),_0x4b06aa=_0x598312*0x3c+_0x5d20cd,_0x55eb80=_0x397bd0*0x3c+_0xf92dae,_0x3c6616=String(_0x5d713e);let _0x41e902=![],_0x377b72='';for(let _0x2eb056 of sessions){if(_0x2eb056[_0x7ad18d(0x1ab)]!==_0xa8d5df)continue;if(_0x2eb056[_0x7ad18d(0x111)]==='cancelled')continue;if(_0x51a7d3&&String(_0x2eb056['id'])===String(_0x51a7d3))continue;const [_0x4fe0b6,_0x3c0c4d]=_0x2eb056[_0x7ad18d(0x1c0)][_0x7ad18d(0xfe)](':')[_0x7ad18d(0x162)](Number),[_0x5e66e0,_0x533c3e]=_0x2eb056[_0x7ad18d(0xd8)][_0x7ad18d(0xfe)](':')[_0x7ad18d(0x162)](Number),_0x4142f2=_0x4fe0b6*0x3c+_0x3c0c4d,_0x4a40bc=_0x5e66e0*0x3c+_0x533c3e;if(Math[_0x7ad18d(0x160)](_0x4b06aa,_0x4142f2)<Math['min'](_0x55eb80,_0x4a40bc)){if(_0x2eb056[_0x7ad18d(0x18f)]&&String(_0x2eb056[_0x7ad18d(0x18f)])===_0x3c6616)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0x2eb056[_0x7ad18d(0x11b)]+_0x7ad18d(0x132)};_0x41e902=!![],_0x377b72=_0x2eb056[_0x7ad18d(0x11b)];}}if(_0x41e902)return{'valid':!![],'warning':_0x7ad18d(0x198)+_0x377b72};return{'valid':!![]};}function updateDateDisplay(){const _0x51b3af=a2_0x113b45,_0x39c667=document[_0x51b3af(0x121)](_0x51b3af(0x183))[_0x51b3af(0x229)],_0x50a6e4=document['getElementById'](_0x51b3af(0x1a1));if(!_0x39c667){_0x50a6e4['textContent']='';return;}const [_0x599c57,_0xffc40d,_0x191eb6]=_0x39c667[_0x51b3af(0xfe)]('-')[_0x51b3af(0x162)](Number),_0x5b5cf2=new Date(_0x599c57,_0xffc40d-0x1,_0x191eb6),_0x31befc={'weekday':_0x51b3af(0x15f),'day':_0x51b3af(0x1e8),'month':_0x51b3af(0x15f),'year':_0x51b3af(0x1e8)};let _0x2248b9=_0x5b5cf2[_0x51b3af(0x127)](_0x51b3af(0x230),_0x31befc);_0x2248b9=_0x2248b9[_0x51b3af(0x107)](0x0)[_0x51b3af(0x18b)]()+_0x2248b9[_0x51b3af(0x224)](0x1),_0x50a6e4[_0x51b3af(0x1a5)]=_0x2248b9;}function autoSetEndTime(){const _0x4b653e=a2_0x113b45,_0x5630dd=document[_0x4b653e(0x121)](_0x4b653e(0xf0))[_0x4b653e(0x229)];if(!_0x5630dd)return;const [_0x1ec963,_0x4a7e11]=_0x5630dd[_0x4b653e(0xfe)](':')['map'](Number);let _0x302afd=_0x1ec963+0x1;if(_0x302afd>0x17)_0x302afd=0x0;const _0x437fc5=String(_0x302afd)['padStart'](0x2,'0')+':'+String(_0x4a7e11)[_0x4b653e(0x109)](0x2,'0');document[_0x4b653e(0x121)](_0x4b653e(0xfb))[_0x4b653e(0x229)]=_0x437fc5;}function populateClientSelect(){const _0x567a6c=a2_0x113b45,_0x64680b=document[_0x567a6c(0x121)](_0x567a6c(0x1a0));_0x64680b[_0x567a6c(0x1bf)]='';if(clients[_0x567a6c(0x197)]===0x0){const _0xadba5d=document[_0x567a6c(0x22b)](_0x567a6c(0x10e));_0xadba5d[_0x567a6c(0xea)]='–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤',_0x64680b[_0x567a6c(0x1ec)](_0xadba5d);return;}clients[_0x567a6c(0x1ad)](_0x3a36c6=>{const _0x3298bb=_0x567a6c,_0x80824c=document[_0x3298bb(0x22b)](_0x3298bb(0x10e));_0x80824c[_0x3298bb(0x229)]=_0x3a36c6[_0x3298bb(0x16a)],_0x80824c['textContent']=_0x3a36c6[_0x3298bb(0x16a)],_0x64680b['appendChild'](_0x80824c);});}function openActionSheet(_0x672611){const _0x48f035=a2_0x113b45,_0x2d0027=document[_0x48f035(0x121)]('actionSheet'),_0x1ac716=document[_0x48f035(0x121)](_0x48f035(0xb6)),_0x20bed9=document['getElementById']('asTitle'),_0x34e450=document['getElementById'](_0x48f035(0x122)),_0x39f409=document[_0x48f035(0x121)](_0x48f035(0x1a9));_0x1ac716[_0x48f035(0x1bc)][_0x48f035(0x114)](_0x48f035(0x12f)),_0x2d0027[_0x48f035(0x1bc)]['add'](_0x48f035(0x17c));if(_0x672611===_0x48f035(0x176))_0x20bed9['textContent']='–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏',_0x34e450[_0x48f035(0x1a5)]=_0x48f035(0x239),_0x34e450[_0x48f035(0x21d)]=()=>{closeActionSheet(),updateSeriesBatch('single',tempSessionData);},_0x39f409['textContent']=_0x48f035(0xe6),_0x39f409[_0x48f035(0x21d)]=()=>{const _0x5c214b=_0x48f035;closeActionSheet(),updateSeriesBatch(_0x5c214b(0x193),tempSessionData);};else _0x672611==='delete'&&(_0x20bed9[_0x48f035(0x1a5)]='–£–¥–∞–ª–µ–Ω–∏–µ',_0x34e450[_0x48f035(0x1a5)]=_0x48f035(0x239),_0x34e450[_0x48f035(0x1ee)]=_0x48f035(0xb2),_0x34e450[_0x48f035(0x21d)]=()=>{const _0x421dc9=_0x48f035;closeActionSheet(),commitDelete(_0x421dc9(0x22e),sessions['find'](_0x129f25=>_0x129f25['id']===editingId));},_0x39f409[_0x48f035(0x1a5)]='–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ',_0x39f409[_0x48f035(0x1ee)]='as-button\x20danger\x20bold',_0x39f409['onclick']=()=>{const _0x49ec92=_0x48f035;closeActionSheet(),commitDelete(_0x49ec92(0x193),sessions[_0x49ec92(0x20d)](_0x10ace2=>_0x10ace2['id']===editingId));});}function closeActionSheet(){const _0x3f1083=a2_0x113b45;document[_0x3f1083(0x121)](_0x3f1083(0xb5))[_0x3f1083(0x1bc)][_0x3f1083(0x228)]('open'),document['getElementById'](_0x3f1083(0xb6))[_0x3f1083(0x1bc)][_0x3f1083(0x228)](_0x3f1083(0x12f));}function openSettings(){const _0x1d33e0=a2_0x113b45;openSheet(_0x1d33e0(0xf3));}function saveCoachSettings(){const _0x342aa1=a2_0x113b45,_0x346975=document[_0x342aa1(0x121)](_0x342aa1(0x199))['value'];localStorage['setItem'](_0x342aa1(0x174),_0x346975),console[_0x342aa1(0x1ce)](_0x342aa1(0x212),_0x346975),DataManager[_0x342aa1(0xbb)](_0x342aa1(0x106),{'settings':{'cancel_window':_0x346975}})[_0x342aa1(0x208)](_0x1c230a=>{const _0x569973=_0x342aa1;console[_0x569973(0x147)]('Save\x20settings\x20error:',_0x1c230a),showToast(_0x569973(0x104),![]);});}function loadCoachSettings(){const _0x1291d1=a2_0x113b45,_0x6ee692=localStorage[_0x1291d1(0xbd)](_0x1291d1(0x174));_0x6ee692&&(document[_0x1291d1(0x121)](_0x1291d1(0x199))[_0x1291d1(0x229)]=_0x6ee692);}function openRangesSheet(){closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet('rangesSheet');}function addRange(){const _0x49e004=a2_0x113b45,_0x18d3b0=document[_0x49e004(0x121)]('rangeStartDate')[_0x49e004(0x229)],_0x4f4ce7=document[_0x49e004(0x121)](_0x49e004(0x1c2))[_0x49e004(0x229)],_0xf6dc22=document['getElementById'](_0x49e004(0x1c5))[_0x49e004(0x229)],_0x370995=document[_0x49e004(0x121)]('rangeEndTime')['value'];if(!_0x18d3b0||!_0x4f4ce7||!_0xf6dc22||!_0x370995)return alert(_0x49e004(0xd3));const _0x2cb35f=_0x18d3b0+'T'+_0x4f4ce7,_0x428108=_0xf6dc22+'T'+_0x370995;if(_0x2cb35f>=_0x428108)return alert(_0x49e004(0xbc));specialRanges['push']({'start':_0x2cb35f,'end':_0x428108}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x49e004(0xbb)](_0x49e004(0x106),{'settings':{'ranges':specialRanges}});}function deleteRange(_0xe28d35){const _0x1486a9=a2_0x113b45;specialRanges[_0x1486a9(0x15b)](_0xe28d35,0x1),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager['fetchFromServer'](_0x1486a9(0x106),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x1a48a8=a2_0x113b45;document[_0x1a48a8(0x121)](_0x1a48a8(0x181))[_0x1a48a8(0x229)]='',document[_0x1a48a8(0x121)]('rangeStartTime')[_0x1a48a8(0x229)]=_0x1a48a8(0xe9),document[_0x1a48a8(0x121)](_0x1a48a8(0x1c5))[_0x1a48a8(0x229)]='',document[_0x1a48a8(0x121)](_0x1a48a8(0x23b))[_0x1a48a8(0x229)]=_0x1a48a8(0x170);}function renderRangesList(){const _0x520996=a2_0x113b45,_0x43d073=document[_0x520996(0x121)](_0x520996(0xd1));_0x43d073[_0x520996(0x1bf)]='';if(!specialRanges[_0x520996(0x197)]){_0x43d073[_0x520996(0x1bf)]='<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>';return;}specialRanges[_0x520996(0x1ad)]((_0xe932b1,_0x3a0480)=>{const _0x8457d7=_0x520996,_0x48a3f7=document[_0x8457d7(0x22b)](_0x8457d7(0xc2));_0x48a3f7[_0x8457d7(0x1ee)]=_0x8457d7(0x13d);const _0x3a18fb=_0x5a3724=>{const _0xf83a2=_0x8457d7,_0x2b4389=new Date(_0x5a3724);return _0x2b4389[_0xf83a2(0xfc)]()+'.'+String(_0x2b4389[_0xf83a2(0xd0)]()+0x1)[_0xf83a2(0x109)](0x2,'0')+'\x20'+String(_0x2b4389['getHours']())['padStart'](0x2,'0')+':'+String(_0x2b4389['getMinutes']())[_0xf83a2(0x109)](0x2,'0');};_0x48a3f7[_0x8457d7(0x1bf)]=_0x8457d7(0x105)+_0x3a18fb(_0xe932b1['start'])+'\x20‚Äî\x20'+_0x3a18fb(_0xe932b1[_0x8457d7(0xd8)])+_0x8457d7(0x165)+_0x3a0480+_0x8457d7(0xb4),_0x43d073[_0x8457d7(0x1ec)](_0x48a3f7);});}function scrollToToday(){const _0x10ce60=a2_0x113b45,_0x130b8a=getLocalDateStr(new Date()),_0x47ed34=document['getElementById'](_0x10ce60(0x237)+_0x130b8a),_0x2a3433=document[_0x10ce60(0x121)]('matrixViewport');if(_0x47ed34&&_0x2a3433){const _0x3a1b65=_0x2a3433[_0x10ce60(0xdc)],_0x14be1f=_0x47ed34[_0x10ce60(0x108)],_0x5c69f8=_0x47ed34['offsetWidth'];_0x2a3433['scrollLeft']=_0x14be1f-_0x3a1b65/0x2+_0x5c69f8/0x2,_0x2a3433[_0x10ce60(0x130)]=0x9*GRID_H;}}function onScroll(){const _0xa2313c=a2_0x113b45,_0x2a67a2=document['getElementById'](_0xa2313c(0x194)),_0x3c05ec=document['querySelectorAll']('.day-col-header');for(let _0x34d186 of _0x3c05ec)if(_0x34d186[_0xa2313c(0x108)]>=_0x2a67a2['scrollLeft']){const _0x32dffd=new Date(_0x34d186['getAttribute'](_0xa2313c(0xe1)));document[_0xa2313c(0x121)](_0xa2313c(0x10b))[_0xa2313c(0x1a5)]=_0x32dffd[_0xa2313c(0x219)]('ru',{'month':_0xa2313c(0x15f)})[_0xa2313c(0x18b)]()+'\x20'+_0x32dffd[_0xa2313c(0xcb)]();break;}}function showToast(_0x24e09a,_0x5f45bd=![]){const _0x42c008=a2_0x113b45,_0x5c80f6=document[_0x42c008(0x121)](_0x42c008(0x110));_0x5c80f6['className']=_0x42c008(0xef)+(_0x5f45bd?_0x42c008(0x22d):''),document['getElementById'](_0x42c008(0x186))['textContent']=_0x5f45bd?_0x42c008(0x1c6):_0x42c008(0x192),document['getElementById']('toastMessage')['textContent']=_0x24e09a,_0x5c80f6['classList']['add'](_0x42c008(0x222)),setTimeout(()=>{const _0xb1b50d=_0x42c008;_0x5c80f6[_0xb1b50d(0x1bc)][_0xb1b50d(0x228)]('show');},0xbb8);}function openDayOptions(_0x2ef443,_0x2108ee){const _0x1f81a8=a2_0x113b45;selectedDayForOptions=_0x2ef443,document[_0x1f81a8(0x121)](_0x1f81a8(0xc8))[_0x1f81a8(0x1a5)]=_0x2108ee,openSheet(_0x1f81a8(0x149));}function toggleDayOff(){const _0x1e396e=a2_0x113b45;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x1e396e(0x1b3),reRenderBlocks(),closeAllSheets(),DataManager[_0x1e396e(0x1ef)](),DataManager['fetchFromServer'](_0x1e396e(0x106),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x561f6e=a2_0x113b45;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x561f6e(0x1ef)](),DataManager[_0x561f6e(0xbb)]('save_settings',{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x10d18f){const _0x548902=a2_0x113b45;document['getElementById'](_0x548902(0x1d9))[_0x548902(0x1bc)][_0x548902(0x114)](_0x548902(0x12f)),document[_0x548902(0x121)](_0x10d18f)[_0x548902(0x1bc)][_0x548902(0x114)](_0x548902(0x17c));}function closeAllSheets(){const _0x3daa5c=a2_0x113b45;document['getElementById'](_0x3daa5c(0x1d9))['classList']['remove'](_0x3daa5c(0x12f)),document[_0x3daa5c(0x173)](_0x3daa5c(0x191))['forEach'](_0x2e3c60=>_0x2e3c60[_0x3daa5c(0x1bc)]['remove'](_0x3daa5c(0x17c)));}function openPatternEditor(){const _0x1e7d7a=a2_0x113b45;closeAllSheets(),document[_0x1e7d7a(0x121)](_0x1e7d7a(0x23d))['classList'][_0x1e7d7a(0x114)]('open'),renderPatternEditor();}function closePatternEditor(){const _0x595c96=a2_0x113b45;document[_0x595c96(0x121)](_0x595c96(0x23d))[_0x595c96(0x1bc)][_0x595c96(0x228)](_0x595c96(0x17c));}function savePattern(){const _0x178300=a2_0x113b45;document[_0x178300(0x121)](_0x178300(0x23d))[_0x178300(0x1bc)][_0x178300(0x228)](_0x178300(0x17c)),reRenderBlocks(),DataManager['saveLocally'](),DataManager['fetchFromServer'](_0x178300(0x106),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x4a9af4=a2_0x113b45,_0x15b88e=document[_0x4a9af4(0x121)]('peGrid');_0x15b88e[_0x4a9af4(0x1bf)]='';const _0x855f6=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x29f70b=document[_0x4a9af4(0x22b)](_0x4a9af4(0xc2));_0x29f70b[_0x4a9af4(0x1ee)]=_0x4a9af4(0xc7),_0x15b88e[_0x4a9af4(0x1ec)](_0x29f70b),_0x855f6[_0x4a9af4(0x1ad)]((_0xa62358,_0x58a64f)=>{const _0x184380=_0x4a9af4,_0x2f311b=document[_0x184380(0x22b)](_0x184380(0xc2));_0x2f311b[_0x184380(0x1ee)]=_0x184380(0x189),_0x2f311b[_0x184380(0x1bf)]=_0xa62358+'\x20<span\x20class=\x22arrow\x22>‚Üì</span>',_0x2f311b['onclick']=()=>toggleColPattern(_0x58a64f),_0x15b88e['appendChild'](_0x2f311b);});for(let _0x1986b6=0x0;_0x1986b6<0x18;_0x1986b6++){const _0x5675f=document[_0x4a9af4(0x22b)]('div');_0x5675f[_0x4a9af4(0x1ee)]='pe-time-label',_0x5675f[_0x4a9af4(0x1bf)]=_0x4a9af4(0x1a6)+String(_0x1986b6)[_0x4a9af4(0x109)](0x2,'0')+_0x4a9af4(0x1e1),_0x5675f['onclick']=()=>toggleRowPattern(_0x1986b6),_0x15b88e[_0x4a9af4(0x1ec)](_0x5675f);for(let _0x29631e=0x0;_0x29631e<0x7;_0x29631e++){const _0x3781a2=document[_0x4a9af4(0x22b)](_0x4a9af4(0xc2)),_0x2dfaad=(availabilityPattern[_0x29631e]||[])['includes'](_0x1986b6),_0x5ac710=!_0x2dfaad;_0x3781a2[_0x4a9af4(0x1ee)]=_0x4a9af4(0x226)+(_0x5ac710?'active':''),_0x3781a2['onclick']=()=>toggleSinglePattern(_0x29631e,_0x1986b6),_0x15b88e[_0x4a9af4(0x1ec)](_0x3781a2);}}}function toggleSinglePattern(_0xaa719,_0x10ae37){const _0x1f76f7=a2_0x113b45;if(!availabilityPattern[_0xaa719])availabilityPattern[_0xaa719]=[];const _0x17c3a9=availabilityPattern[_0xaa719],_0x436587=_0x17c3a9['indexOf'](_0x10ae37);_0x436587===-0x1?_0x17c3a9[_0x1f76f7(0xe2)](_0x10ae37):_0x17c3a9['splice'](_0x436587,0x1),renderPatternEditor();}function toggleColPattern(_0x4f7c3c){const _0x5da054=a2_0x113b45;if(!availabilityPattern[_0x4f7c3c])availabilityPattern[_0x4f7c3c]=[];const _0x1f0b0b=availabilityPattern[_0x4f7c3c];_0x1f0b0b['length']===0x0?availabilityPattern[_0x4f7c3c]=Array[_0x5da054(0x103)]({'length':0x18},(_0x1c61b0,_0x9b85b2)=>_0x9b85b2):availabilityPattern[_0x4f7c3c]=[],renderPatternEditor();}function toggleRowPattern(_0x3b295a){const _0x1ef70b=a2_0x113b45;let _0x129455=!![];for(let _0xf3fd3e=0x0;_0xf3fd3e<0x7;_0xf3fd3e++){if((availabilityPattern[_0xf3fd3e]||[])[_0x1ef70b(0x1d6)](_0x3b295a)){_0x129455=![];break;}}for(let _0x1522c6=0x0;_0x1522c6<0x7;_0x1522c6++){if(!availabilityPattern[_0x1522c6])availabilityPattern[_0x1522c6]=[];const _0x59a6f2=availabilityPattern[_0x1522c6][_0x1ef70b(0x13a)](_0x3b295a);if(_0x129455){if(_0x59a6f2===-0x1)availabilityPattern[_0x1522c6][_0x1ef70b(0xe2)](_0x3b295a);}else{if(_0x59a6f2!==-0x1)availabilityPattern[_0x1522c6]['splice'](_0x59a6f2,0x1);}}renderPatternEditor();}function renderPCol(_0x559f3d,_0x214bf5){const _0xc34a53=a2_0x113b45;_0x559f3d[_0xc34a53(0x1bf)]='';const _0x3bf8dc=Math[_0xc34a53(0x213)](_0x559f3d[_0xc34a53(0x108)]);(availabilityPattern[_0x214bf5]||[])[_0xc34a53(0x1ad)](_0x4974aa=>{const _0x304c3e=_0xc34a53,_0x9cf27=document[_0x304c3e(0x22b)](_0x304c3e(0xc2));_0x9cf27[_0x304c3e(0x1ee)]=_0x304c3e(0x209);const _0xe08543=_0x4974aa*GRID_H;_0x9cf27['style']['top']=_0xe08543+'px',_0x9cf27[_0x304c3e(0x1e3)][_0x304c3e(0x202)]='-'+_0x3bf8dc+_0x304c3e(0x233)+_0xe08543+'px',_0x9cf27[_0x304c3e(0x21d)]=_0x43bff3=>{const _0x1e7914=_0x304c3e;_0x43bff3[_0x1e7914(0x1a2)](),toggleSinglePattern(_0x214bf5,_0x4974aa);},_0x559f3d[_0x304c3e(0x1ec)](_0x9cf27);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x33493b=a2_0x113b45,_0xe1cedb=new Date(),_0x39b1ac=document[_0x33493b(0x121)](_0x33493b(0x1b8)),_0x4075bc=document[_0x33493b(0x121)](_0x33493b(0x14a)),_0x19ecc6=(_0xe1cedb[_0x33493b(0x1ed)]()*0x3c+_0xe1cedb[_0x33493b(0xdf)]())/0x3c*GRID_H;_0x39b1ac[_0x33493b(0x1e3)][_0x33493b(0xf5)]=_0x19ecc6+'px',_0x39b1ac['style'][_0x33493b(0x1b1)]=_0x33493b(0x1cb),_0x4075bc[_0x33493b(0x1a5)]=String(_0xe1cedb[_0x33493b(0x1ed)]())['padStart'](0x2,'0')+':'+String(_0xe1cedb[_0x33493b(0xdf)]())['padStart'](0x2,'0'),_0x4075bc[_0x33493b(0x1e3)][_0x33493b(0x1b1)]=_0x33493b(0x1cb),_0x4075bc[_0x33493b(0x1e3)][_0x33493b(0xf5)]=_0x19ecc6+'px';}document[a2_0x113b45(0x211)](a2_0x113b45(0x159),init);function openDayOptions(_0x1dbecc){const _0x9ba9b7=a2_0x113b45;selectedDayForOptions=_0x1dbecc;const _0x82ec2e=new Date(_0x1dbecc),_0x48c50d={'weekday':_0x9ba9b7(0x15f),'day':_0x9ba9b7(0x1e8),'month':_0x9ba9b7(0x15f),'year':'numeric'},_0x594fa9=_0x82ec2e[_0x9ba9b7(0x127)](_0x9ba9b7(0x230),_0x48c50d);document[_0x9ba9b7(0x121)](_0x9ba9b7(0x11a))['textContent']=_0x594fa9['charAt'](0x0)[_0x9ba9b7(0x18b)]()+_0x594fa9[_0x9ba9b7(0x224)](0x1);let _0x4d85d8=_0x82ec2e[_0x9ba9b7(0x22c)]()-0x1;if(_0x4d85d8===-0x1)_0x4d85d8=0x6;const _0x2b2e77=availabilityPattern[_0x4d85d8]||[],_0x2da435=0x18-_0x2b2e77[_0x9ba9b7(0x197)],_0xee42af=_0x2da435*0x3c,_0x582dd6=sessions['filter'](_0x2a2982=>_0x2a2982[_0x9ba9b7(0x1ab)]===_0x1dbecc&&_0x2a2982['status']!==_0x9ba9b7(0x146));let _0x1641c8=_0x582dd6[_0x9ba9b7(0x162)](_0x56f58a=>{const _0x2d22c2=_0x9ba9b7,[_0x223d82,_0x493acb]=_0x56f58a[_0x2d22c2(0x1c0)][_0x2d22c2(0xfe)](':')['map'](Number),[_0x2aeaaa,_0x410d56]=_0x56f58a['end'][_0x2d22c2(0xfe)](':')[_0x2d22c2(0x162)](Number);return[_0x223d82*0x3c+_0x493acb,_0x2aeaaa*0x3c+_0x410d56];});_0x1641c8[_0x9ba9b7(0xd5)]((_0x3f959c,_0x2c841d)=>_0x3f959c[0x0]-_0x2c841d[0x0]);let _0x4175d8=[];if(_0x1641c8[_0x9ba9b7(0x197)]>0x0){let _0x4b1b5b=_0x1641c8[0x0];for(let _0x4e9589=0x1;_0x4e9589<_0x1641c8[_0x9ba9b7(0x197)];_0x4e9589++){_0x1641c8[_0x4e9589][0x0]<_0x4b1b5b[0x1]?_0x4b1b5b[0x1]=Math[_0x9ba9b7(0x160)](_0x4b1b5b[0x1],_0x1641c8[_0x4e9589][0x1]):(_0x4175d8[_0x9ba9b7(0xe2)](_0x4b1b5b),_0x4b1b5b=_0x1641c8[_0x4e9589]);}_0x4175d8[_0x9ba9b7(0xe2)](_0x4b1b5b);}let _0xde8f3c=0x0;_0x4175d8[_0x9ba9b7(0x1ad)](_0x33b181=>_0xde8f3c+=_0x33b181[0x1]-_0x33b181[0x0]),document[_0x9ba9b7(0x121)](_0x9ba9b7(0x120))[_0x9ba9b7(0x1a5)]=formatMinsToHrs(_0xee42af),document[_0x9ba9b7(0x121)](_0x9ba9b7(0x11d))[_0x9ba9b7(0x1a5)]=formatMinsToHrs(_0xde8f3c);const _0x23bb27=_0xee42af>0x0?Math[_0x9ba9b7(0x213)](_0xde8f3c/_0xee42af*0x64):0x0,_0x59adbf=document['getElementById'](_0x9ba9b7(0x16c));_0x59adbf['textContent']=_0x23bb27+'%';const _0x120f39=document[_0x9ba9b7(0x121)]('statLoadCard');if(_0x23bb27>0x64)_0x59adbf[_0x9ba9b7(0x1e3)]['color']=_0x9ba9b7(0x206),_0x120f39[_0x9ba9b7(0x1e3)][_0x9ba9b7(0xe5)]=_0x9ba9b7(0x1d4);else _0x23bb27>0x50?(_0x59adbf[_0x9ba9b7(0x1e3)][_0x9ba9b7(0xde)]='var(--acc-orange)',_0x120f39['style'][_0x9ba9b7(0xe5)]=_0x9ba9b7(0x12b)):(_0x59adbf[_0x9ba9b7(0x1e3)][_0x9ba9b7(0xde)]=_0x9ba9b7(0x1f8),_0x120f39[_0x9ba9b7(0x1e3)][_0x9ba9b7(0xe5)]=_0x9ba9b7(0x20e));const _0x51b476=document[_0x9ba9b7(0x121)](_0x9ba9b7(0x133));_0x51b476[_0x9ba9b7(0x1bf)]='';_0x582dd6['length']===0x0?_0x51b476[_0x9ba9b7(0x1bf)]=_0x9ba9b7(0x1b0):(_0x582dd6['sort']((_0x201d2a,_0xb94784)=>_0x201d2a[_0x9ba9b7(0x1c0)][_0x9ba9b7(0x15a)](_0xb94784[_0x9ba9b7(0x1c0)])),_0x582dd6[_0x9ba9b7(0x1ad)](_0x18acfd=>{const _0x2203b3=_0x9ba9b7,_0x348f90=clients[_0x2203b3(0x20d)](_0x2388e1=>_0x2388e1[_0x2203b3(0x16a)]===_0x18acfd[_0x2203b3(0x11b)]),_0x200562=_0x348f90?_0x348f90[_0x2203b3(0xde)]:'#fff',_0x1da8bd=_0x18acfd[_0x2203b3(0x111)]==='completed',_0xd1e249=_0x1da8bd?_0x2203b3(0x22a):'',_0x52e8f0=document[_0x2203b3(0x22b)](_0x2203b3(0xc2));_0x52e8f0[_0x2203b3(0x1ee)]='de-item',_0x52e8f0[_0x2203b3(0x1e3)][_0x2203b3(0x205)]=_0x200562,_0x52e8f0['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>'+_0x18acfd[_0x2203b3(0x1c0)]+_0x2203b3(0x18a)+_0x18acfd[_0x2203b3(0xd8)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x18acfd[_0x2203b3(0x11b)]+_0x2203b3(0xe0)+_0xd1e249+_0x2203b3(0x21f),_0x51b476[_0x2203b3(0x1ec)](_0x52e8f0);}));const _0x1c5c96=document[_0x9ba9b7(0x121)](_0x9ba9b7(0x115)),_0x416cd7=dateExceptions[_0x1dbecc]===_0x9ba9b7(0x1b3);_0x416cd7?(_0x1c5c96['textContent']=_0x9ba9b7(0x1c1),_0x1c5c96[_0x9ba9b7(0x1ee)]=_0x9ba9b7(0xc5),_0x1c5c96[_0x9ba9b7(0x1e3)]['color']='var(--acc-green)',_0x1c5c96['style'][_0x9ba9b7(0xeb)]='rgba(48,\x20209,\x2088,\x200.15)'):(_0x1c5c96[_0x9ba9b7(0x1a5)]=_0x9ba9b7(0xce),_0x1c5c96['className']=_0x9ba9b7(0x20c),_0x1c5c96[_0x9ba9b7(0x1e3)][_0x9ba9b7(0xde)]='var(--acc-red)',_0x1c5c96[_0x9ba9b7(0x1e3)]['background']=_0x9ba9b7(0x187)),openSheet(_0x9ba9b7(0x149));}let currentAnPeriod=a2_0x113b45(0x182);function openAnalytics(){const _0x364d8b=a2_0x113b45,_0xa2a3d9=document[_0x364d8b(0x175)]('.period-switch\x20.p-btn');setAnalyticsPeriod(_0x364d8b(0x182),_0xa2a3d9),closeAllSheets(),openSheet(_0x364d8b(0x139));}function setAnalyticsPeriod(_0x47d22e,_0x7db41c){const _0x12ec21=a2_0x113b45;currentAnPeriod=_0x47d22e,document['querySelectorAll'](_0x12ec21(0x14c))[_0x12ec21(0x1ad)](_0x62fb9a=>_0x62fb9a[_0x12ec21(0x1bc)][_0x12ec21(0x228)](_0x12ec21(0x12f)));if(_0x7db41c)_0x7db41c['classList'][_0x12ec21(0x114)](_0x12ec21(0x12f));const _0x4d0f62=document[_0x12ec21(0x121)]('anCustomDates');_0x4d0f62[_0x12ec21(0x1e3)][_0x12ec21(0x1b1)]=_0x47d22e===_0x12ec21(0x124)?_0x12ec21(0x1a4):_0x12ec21(0x12e);const _0x2b3212=new Date();let _0x3b400c=new Date(),_0x4b4ffb=new Date();if(_0x47d22e===_0x12ec21(0x182))_0x3b400c=getStartOfWeek(_0x2b3212),_0x4b4ffb=new Date(_0x3b400c),_0x4b4ffb['setDate'](_0x4b4ffb[_0x12ec21(0xfc)]()+0x6);else{if(_0x47d22e==='month')_0x3b400c=new Date(_0x2b3212[_0x12ec21(0xcb)](),_0x2b3212[_0x12ec21(0xd0)](),0x1),_0x4b4ffb=new Date(_0x2b3212['getFullYear'](),_0x2b3212[_0x12ec21(0xd0)]()+0x1,0x0);else{!document[_0x12ec21(0x121)](_0x12ec21(0x118))[_0x12ec21(0x229)]&&(document[_0x12ec21(0x121)](_0x12ec21(0x118))[_0x12ec21(0x229)]=getLocalDateStr(_0x2b3212),document['getElementById']('anEnd')['value']=getLocalDateStr(_0x2b3212));refreshAnalytics();return;}}document['getElementById'](_0x12ec21(0x118))[_0x12ec21(0x229)]=getLocalDateStr(_0x3b400c),document[_0x12ec21(0x121)](_0x12ec21(0x238))[_0x12ec21(0x229)]=getLocalDateStr(_0x4b4ffb),refreshAnalytics();}function a2_0x4b2e(){const _0x57128c=['T00:00:00','isArray','end','startsWith','T23:59:59','...','clientWidth','.day-off-overlay','color','getMinutes','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','data-date','push',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','[Notify]\x20Attempting\x20to\x20send:','borderColor','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','disableVerticalSwipes','data','00:00','text','background','complete','inpRecurring','10px','toast-notification\x20','inpStart','day-column\x20','initDataUnsafe','settingsSheet','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','top','106QwVzri','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','%\x20+\x202px)','<span>','ranges','inpEnd','getDate','inpSeriesCount','split','random','[API\x20','expand','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','from','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','save_settings','charAt','offsetLeft','padStart','filter','headerMonth','anPercent','valid','option','sid','toast','status','warning','data-day-idx','add','btnDayToggle','insertBefore','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','anStart','[Notify]\x20Server\x20Response:','doDateHeader','client','.event-card','doBusyHours','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','setAttribute','doWorkHours','getElementById','asBtnOne','backgroundColor','custom','mergeServerData','</div><div\x20class=\x22dch-num\x22>','toLocaleDateString','606372CFISVJ','completed','anDonutCircle','rgba(255,\x20159,\x2010,\x200.3)','rgba(100,100,100,0.5)','</div><div\x20class=\x22ev-time\x22>','none','active','scrollTop','#0a84ff',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','doEventsList','substr','Server\x20Error','touchstart','toString','exceptions','analyticsSheet','indexOf','Error\x20setting\x20color:','total','range-item','[Notify]\x20Error:\x20Text\x20generation\x20failed','sheetTitle','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','then','all','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','target','cancelled','error','#fff','dayOptionsSheet','timeLineBadge','Error\x20setting\x20back\x20button:','.period-switch\x20.p-btn','btn-status-toggle','borderRadius','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','note','init_load','.day-col-header','5VMWPPo','#gridColumns\x20.day-column','batch_sync','<div\x20class=\x22ev-title\x22>','btn-status-toggle\x20undo-mode','DOMContentLoaded','localeCompare','splice','setHeaderColor','Telegram','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','long','max','href','map','btnStatusToggle','recurringOptionContainer','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','loadLocal','<div\x20class=\x22dch-day\x22>','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','POST','name','var(--acc-current)','doLoadPercent','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','user','[Notify]\x20Error:\x20sessionData\x20is\x20null','23:59','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','getText','querySelectorAll','uc_settings_cancel_window','querySelector','save','uc_clients_v9','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','(((.+)+)+)+$','parse','</span>\x20/\x20','open','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','</b>\x0a\x0a','setHours','patternInfoBox','rangeStartDate','week','inpDate','px\x200px','calendar','toastTitle','rgba(255,\x2069,\x2058,\x200.15)','scrollLeft','pe-col-header','\x20-\x20','toUpperCase','mousemove','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','clientId','width','.sheet','–ò–Ω—Ñ–æ','series','matrixViewport','floor','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','length','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','settingCancelWindow','rgba(','[Notify]\x20Detected\x20Client\x20ID:','setMonth','[Notify]\x20Client\x20SWAP\x20detected','formatDate','json','inpClient','sheetDateSubtitle','stopPropagation','#050505','flex','textContent','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','getBoundingClientRect','\x20‚Äî\x20','asBtnSeries','1752460kfdyTI','dateStr','search','forEach','undefined','\x20days','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','display','offClick','off','setDate','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','msg','entries','globalTimeLine','3380370epXOvX','create','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','classList','</div>','435862bVWMZl','innerHTML','start','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','rangeStartTime','analyticsList','settings','rangeEndDate','–£—Å–ø–µ—à–Ω–æ','closest','seriesCountContainer','syncBatch','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','block','location','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','log','%\x20-\x204px)','[Sync]\x20Loading\x20','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','uc_sessions_v9','findIndex','rgba(255,\x2069,\x2058,\x200.3)','3252976cthAYP','includes',':00</span>','<b>‚úÖ\x20','overlay','createDocumentFragment','text/plain;charset=UTF-8','10px\x2010px\x200\x200','Local\x20Save\x20Error','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','pattern','seriesId',':00','mouseup','style','null','sessionSheet','height','deleted','numeric','v9.0-BATCH-CALENDAR','time-label','[Series]\x20Skipped\x20','appendChild','getHours','className','saveLocally','timeColumn','vibrate','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','initData','apply','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','today','onClick','var(--acc-green)','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','clientY','router.html','setItem','touchend','zIndex','.pib-text','scroll','client-stat-card','backgroundPosition','planned','setBackgroundColor','borderLeftColor','var(--acc-red)','Local\x20Load\x20Error','catch','blocked-slot\x20stripe-bg','send','checked','btn-primary\x20btn-danger','find','rgba(255,255,255,0.05)','min','syncLoad','addEventListener','[Settings]\x20Cancel\x20window\x20set\x20to:','round','calc(','28374CMgQwv','constructor','day-col-header\x20','getAttribute','toLocaleString','cancel_window','clients','anTotalStats','onclick','11870XcOUNL','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','BackButton','daysHeaderTrack','show','\x20–∏–∑\x20','slice','done','pe-cell\x20','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','remove','value','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','createElement','getDay','success','single','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','ru-RU','day-off-overlay\x20stripe-bg','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','px\x20-','gridColumns','toFixed','delete','header-','anEnd','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','guest','rangeEndTime','getTime','patternEditor','touchmove','btnDelete','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','15885YnPMAX','stringify','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','as-button\x20danger','cancel',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','actionSheet','actionSheetOverlay','Unknown','.dch-stats-fill','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','warn','fetchFromServer','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','getItem','WebApp','now','\x20status-completed','blocked-range-part\x20stripe-bg','div','inpNote','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','btn-primary\x20btn-secondary','update','pe-corner','dayOptionsTitle','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','keys','getFullYear','strokeDashoffset','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','colIndex','getMonth','rangesList','mousedown','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','Batch\x20Sync\x20OK','sort'];a2_0x4b2e=function(){return _0x57128c;};return a2_0x4b2e();}function refreshAnalytics(){const _0x436efe=a2_0x113b45,_0x34a882=document[_0x436efe(0x121)](_0x436efe(0x118))[_0x436efe(0x229)],_0xdfd82=document[_0x436efe(0x121)](_0x436efe(0x238))[_0x436efe(0x229)];if(!_0x34a882||!_0xdfd82)return;const _0x281cf5=sessions[_0x436efe(0x10a)](_0x556973=>_0x556973[_0x436efe(0x1ab)]>=_0x34a882&&_0x556973['dateStr']<=_0xdfd82&&_0x556973[_0x436efe(0x111)]!==_0x436efe(0x146)),_0x1a39d0=_0x281cf5[_0x436efe(0x197)],_0xb07494=_0x281cf5[_0x436efe(0x10a)](_0x1a1472=>_0x1a1472[_0x436efe(0x111)]===_0x436efe(0x129))[_0x436efe(0x197)],_0x406f04=_0x1a39d0>0x0?Math[_0x436efe(0x213)](_0xb07494/_0x1a39d0*0x64):0x0;document[_0x436efe(0x121)](_0x436efe(0x10c))[_0x436efe(0x1a5)]=_0x406f04+'%',document[_0x436efe(0x121)](_0x436efe(0x21c))[_0x436efe(0x1a5)]=_0xb07494+_0x436efe(0x223)+_0x1a39d0+_0x436efe(0x1f2);const _0x109a5c=document[_0x436efe(0x121)](_0x436efe(0x12a)),_0x474da4=0x2*Math['PI']*0x23,_0x34a0ef=_0x474da4-_0x406f04/0x64*_0x474da4;_0x109a5c['style'][_0x436efe(0xcc)]=_0x34a0ef;const _0x4941b9={};_0x281cf5[_0x436efe(0x1ad)](_0x10482d=>{const _0x4f7b5f=_0x436efe;if(!_0x4941b9[_0x10482d[_0x4f7b5f(0x11b)]]){const _0x272c19=clients[_0x4f7b5f(0x20d)](_0x18f07f=>_0x18f07f['name']===_0x10482d[_0x4f7b5f(0x11b)]);_0x4941b9[_0x10482d['client']]={'total':0x0,'done':0x0,'color':_0x272c19?_0x272c19['color']:_0x4f7b5f(0x148)};}_0x4941b9[_0x10482d[_0x4f7b5f(0x11b)]][_0x4f7b5f(0x13c)]++;if(_0x10482d['status']==='completed')_0x4941b9[_0x10482d[_0x4f7b5f(0x11b)]][_0x4f7b5f(0x225)]++;});const _0x1c963d=document[_0x436efe(0x121)](_0x436efe(0x1c3));_0x1c963d[_0x436efe(0x1bf)]='';const _0x58b6c6=Object[_0x436efe(0x1b7)](_0x4941b9)['sort']((_0x142bf4,_0x4842bc)=>_0x4842bc[0x1]['total']-_0x142bf4[0x1][_0x436efe(0x13c)]);if(_0x58b6c6[_0x436efe(0x197)]===0x0){_0x1c963d[_0x436efe(0x1bf)]=_0x436efe(0xc4);return;}_0x58b6c6[_0x436efe(0x1ad)](([_0x2b563d,_0x8d1e6a])=>{const _0x277cea=_0x436efe,_0x2e9364=Math['round'](_0x8d1e6a[_0x277cea(0x225)]/_0x8d1e6a['total']*0x64),_0x1ebb0e=document[_0x277cea(0x22b)](_0x277cea(0xc2));_0x1ebb0e[_0x277cea(0x1ee)]=_0x277cea(0x201),_0x1ebb0e[_0x277cea(0x1e3)][_0x277cea(0x205)]=_0x8d1e6a[_0x277cea(0xde)],_0x1ebb0e[_0x277cea(0x1bf)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>'+_0x2b563d+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x8d1e6a[_0x277cea(0x225)]+_0x277cea(0x17b)+_0x8d1e6a['total']+_0x277cea(0x1f9)+_0x2e9364+_0x277cea(0x168),_0x1c963d[_0x277cea(0x1ec)](_0x1ebb0e);});}function formatMinsToHrs(_0x13d93f){const _0x2a923a=a2_0x113b45;if(_0x13d93f===0x0)return'0';const _0x41db88=Math[_0x2a923a(0x195)](_0x13d93f/0x3c),_0x2a62ad=_0x13d93f%0x3c;if(_0x2a62ad===0x0)return _0x41db88+'—á';return _0x41db88+'—á\x20'+_0x2a62ad+'–º';}