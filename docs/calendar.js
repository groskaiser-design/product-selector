const a2_0x389204=a2_0x1d6d;function a2_0x1667(){const _0x4c9021=['success','getBoundingClientRect','clientY','toString','formatDate','off','</div><div\x20class=\x22dch-num\x22>','numeric','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','btnDayToggle','push','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','getText','getAttribute','rangesList',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','BackButton','[API\x20','rgba(255,\x2069,\x2058,\x200.15)','overlay','month','12970QpSyCh','now','borderColor','[Sync]\x20Loading\x20','rangesSheet','borderRadius','T23:59:59','.day-col-header','</span>\x20/\x20','borderLeftColor','warn','var(--acc-current)','anEnd','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','color','touchmove','textContent','stringify','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rgba(48,\x20209,\x2088,\x200.15)','actionSheet','T00:00:00','querySelector','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','blocked-range-part\x20stripe-bg','split',']\x20Failed:','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','asBtnSeries','error','daysHeaderTrack','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','createElement','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','catch','open','rgba(','target','ready','left','clientId','.dch-stats-fill','scrollTop','ranges','day-col-header\x20','height','week','stopPropagation','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','setDate','sort','backgroundPosition','btn-status-toggle','syncBatch','data','(((.+)+)+)+$','930350ygrXdc','v9.0-BATCH-CALENDAR','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','note','patternEditor','WebApp','remove','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','var(--acc-orange)','touchend','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','anStart','inpSeriesCount','anCustomDates','done','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','name','style','scrollLeft','matrixViewport','json','series','settings','statLoadCard','settingCancelWindow','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','includes','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','calc(','100%','block','cancel','initDataUnsafe','null','–£—Å–ø–µ—à–Ω–æ','none','.day-column','option','doLoadPercent','slice','timeColumn','day-off-overlay\x20stripe-bg','saveLocally','closest','single','toast','save_settings','[Notify]\x20Detected\x20Client\x20ID:','backgroundColor','planned','addEventListener','className','checked','gridColumns','btnStatusToggle','as-button\x20danger','...','\x20–∏–∑\x20','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','classList','client-stat-card','rgba(255,\x2069,\x2058,\x200.3)','location','filter','as-button\x20danger\x20bold','Local\x20Save\x20Error','Save\x20settings\x20error:','scrollWidth','all','<div\x20class=\x22dch-day\x22>','substr','update','52tpqRFH','px\x200px','from','mouseup','total','px\x20-','rangeStartTime','patternInfoBox','doWorkHours','uc_settings_cancel_window','anPercent','7182bGTRyJ','setItem','591198GQmuFZ','status','parse','inpRecurring','de-item','setHours','querySelectorAll','display','analyticsList','rangeEndTime','#050505','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','vibrate','sheetDateSubtitle','2891648WiAuwu','10px','setBackgroundColor','apply','inpDate','width','onClick','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','pe-cell\x20','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','data-day-idx','scroll','recurringOptionContainer','start','setMonth','getTime','forEach','send_notification','complete','calendar','seriesCountContainer','seriesId','msg','uc_sessions_v9','value','<span>','day-column\x20','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','header-','Critical\x20TMA\x20Error:','rgba(255,\x20159,\x2010,\x200.3)','splice','dayOptionsSheet','inpStart','innerHTML','touches','sid','</div>','today','indexOf','getElementById','toFixed','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','getHours','23:59','delete','keys','range-item','round','href','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','btn-status-toggle\x20undo-mode','text','background','save','fetchFromServer','rgba(100,100,100,0.5)','getMonth','toastMessage','send','rangeEndDate','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','#gridColumns\x20.day-column','asBtnOne','[Notify]\x20Server\x20Response:','toLocaleDateString','clients','startsWith','undefined','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','end','cancel_window','create',':00','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','mergeServerData','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','exceptions','\x20days','text/plain;charset=UTF-8','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','toast-notification\x20','createDocumentFragment','35cXXRIy','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','map','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#fff',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','offsetLeft','Error\x20setting\x20back\x20button:','insertBefore','doBusyHours','31404LySrGD','custom','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','findIndex','find','ru-RU','disableVerticalSwipes','getMinutes','onclick','inpEnd','analyticsSheet','div','mousedown','.event-card','#0a84ff','long','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','cancelled','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','sessionSheet','pe-corner','asTitle','flex','show','actionSheetOverlay','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','[Settings]\x20Cancel\x20window\x20set\x20to:','23279aQDrxP','timeLineBadge','inpClient','[Notify]\x20Attempting\x20to\x20send:','padStart','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','data-date','dateStr','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','charAt','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','stat-','inpNote','getDay','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','getFullYear','843336eoypoS','var(--acc-green)','.day-off-overlay','[Notify]\x20Error:\x20sessionData\x20is\x20null','setAttribute','clientWidth','pe-col-header','[Series]\x20Skipped\x20','then','colIndex','length','min',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','</b>\x0a\x0a','expand','[Notify]\x20Network\x20Failed','getItem','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','zIndex','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','appendChild','time-label','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','btn-primary\x20btn-secondary','add','log','floor','client','rgba(255,255,255,0.05)','toUpperCase','\x20-\x20','btnDelete','completed','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','rangeStartDate','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','localeCompare','top','search','</div><div\x20class=\x22ev-time\x22>','sheetTitle','valid','loadLocal','initData','\x20‚Äî\x20','[Notify]\x20Error:\x20Text\x20generation\x20failed','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','setHeaderColor','blocked-slot\x20stripe-bg','<b>‚úÖ\x20','headerMonth','touchstart','active','\x20status-completed',':00</span>','doEventsList','settingsSheet','anTotalStats','init_load','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','entries','router.html','Server\x20Error','var(--acc-red)','getDate','uc_settings_v9','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','warning','Telegram','max','DOMContentLoaded','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','pattern'];a2_0x1667=function(){return _0x4c9021;};return a2_0x1667();}(function(_0x46196e,_0x4fd92b){const _0x4b6ee7=a2_0x1d6d,_0x264625=_0x46196e();while(!![]){try{const _0x2be156=parseInt(_0x4b6ee7(0x27e))/0x1+parseInt(_0x4b6ee7(0x1ea))/0x2*(parseInt(_0x4b6ee7(0x263))/0x3)+parseInt(_0x4b6ee7(0x205))/0x4+-parseInt(_0x4b6ee7(0x32c))/0x5+parseInt(_0x4b6ee7(0x1f7))/0x6*(parseInt(_0x4b6ee7(0x259))/0x7)+parseInt(_0x4b6ee7(0x290))/0x8+-parseInt(_0x4b6ee7(0x1f5))/0x9*(parseInt(_0x4b6ee7(0x2f1))/0xa);if(_0x2be156===_0x4fd92b)break;else _0x264625['push'](_0x264625['shift']());}catch(_0x2556e6){_0x264625['push'](_0x264625['shift']());}}}(a2_0x1667,0x60865),function initTMA(){const _0x57ad07=a2_0x1d6d,_0x46163b=(function(){let _0x70c17=!![];return function(_0x2cc736,_0x59e79d){const _0x418245=_0x70c17?function(){const _0x49195f=a2_0x1d6d;if(_0x59e79d){const _0x358c96=_0x59e79d[_0x49195f(0x208)](_0x2cc736,arguments);return _0x59e79d=null,_0x358c96;}}:function(){};return _0x70c17=![],_0x418245;};}()),_0x1c75cf=_0x46163b(this,function(){const _0x3a5ff3=a2_0x1d6d;return _0x1c75cf[_0x3a5ff3(0x2de)]()['search'](_0x3a5ff3(0x32b))[_0x3a5ff3(0x2de)]()['constructor'](_0x1c75cf)[_0x3a5ff3(0x2b8)](_0x3a5ff3(0x32b));});_0x1c75cf();try{const _0x51da24=window[_0x57ad07(0x2d6)]?.[_0x57ad07(0x331)];if(!_0x51da24)return;_0x51da24[_0x57ad07(0x31a)](),_0x51da24[_0x57ad07(0x29e)]();try{_0x51da24[_0x57ad07(0x2c1)](_0x57ad07(0x201)),_0x51da24[_0x57ad07(0x207)]&&_0x51da24['setBackgroundColor']('#050505');}catch(_0x476c14){console['log']('Error\x20setting\x20color:',_0x476c14);}try{_0x51da24[_0x57ad07(0x2ec)]&&(_0x51da24[_0x57ad07(0x2ec)][_0x57ad07(0x27a)](),_0x51da24[_0x57ad07(0x2ec)]['offClick'](),_0x51da24['BackButton'][_0x57ad07(0x20b)](function(){const _0x2ebdf9=_0x57ad07;window[_0x2ebdf9(0x36c)][_0x2ebdf9(0x237)]=_0x2ebdf9(0x2cf);}));}catch(_0x41706c){console[_0x57ad07(0x2ab)](_0x57ad07(0x260),_0x41706c);}try{if(_0x51da24[_0x57ad07(0x269)])_0x51da24['disableVerticalSwipes']();}catch(_0x2ba174){}}catch(_0xad8b1e){console[_0x57ad07(0x310)](_0x57ad07(0x223),_0xad8b1e);}}());function isAdmin(){const _0x2f1bf5=a2_0x1d6d;try{const _0x1e24cb=Number(window[_0x2f1bf5(0x2d6)]?.[_0x2f1bf5(0x331)]?.['initDataUnsafe']?.['user']?.['id']);return _0x1e24cb===0xbaf7174;}catch(_0x2574a8){return![];}}const APP_VERSION=a2_0x389204(0x32d),API_URL=a2_0x389204(0x2fe),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS='uc_clients_v9',KEY_SESSIONS=a2_0x389204(0x21d),KEY_SETTINGS=a2_0x389204(0x2d3);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;function a2_0x1d6d(_0x53b4cb,_0x4dd3e9){_0x53b4cb=_0x53b4cb-0x1e6;const _0x1b14d0=a2_0x1667();let _0x1aa6e7=_0x1b14d0[_0x53b4cb];return _0x1aa6e7;}const DataManager={'getUserId'(){const _0x14dc34=a2_0x389204;return window[_0x14dc34(0x2d6)]?.[_0x14dc34(0x331)]?.[_0x14dc34(0x34e)]?.['user']?.['id']||'guest';},'saveLocally'(){const _0x366789=a2_0x389204;try{localStorage[_0x366789(0x1f6)](KEY_CLIENTS,JSON[_0x366789(0x304)](clients)),localStorage[_0x366789(0x1f6)](KEY_SESSIONS,JSON[_0x366789(0x304)](sessions)),localStorage[_0x366789(0x1f6)](KEY_SETTINGS,JSON[_0x366789(0x304)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x36d69f){console[_0x366789(0x310)](_0x366789(0x36f),_0x36d69f);}},'loadLocal'(){const _0x236423=a2_0x389204;try{const _0x267b03=localStorage['getItem'](KEY_CLIENTS);if(_0x267b03)clients=JSON[_0x236423(0x1f9)](_0x267b03);const _0x2d8cd1=localStorage[_0x236423(0x2a0)](KEY_SESSIONS);if(_0x2d8cd1)sessions=JSON[_0x236423(0x1f9)](_0x2d8cd1);const _0x4de251=localStorage[_0x236423(0x2a0)](KEY_SETTINGS);if(_0x4de251){const _0x28e88d=JSON[_0x236423(0x1f9)](_0x4de251);if(_0x28e88d[_0x236423(0x2da)])availabilityPattern=_0x28e88d[_0x236423(0x2da)];if(_0x28e88d[_0x236423(0x253)])dateExceptions=_0x28e88d['exceptions'];if(_0x28e88d[_0x236423(0x31f)])specialRanges=_0x28e88d['ranges'];}else{for(let _0x5f05d1=0x0;_0x5f05d1<0x7;_0x5f05d1++)availabilityPattern[_0x5f05d1]=Array[_0x236423(0x1ec)]({'length':0xc},(_0x332a34,_0x4c0842)=>_0x4c0842+0x9);}}catch(_0x4f0078){console[_0x236423(0x310)]('Local\x20Load\x20Error',_0x4f0078);}},async 'fetchFromServer'(_0x360f66,_0x4545c1={}){const _0x170800=a2_0x389204,_0x43e69f=window[_0x170800(0x2d6)]?.['WebApp'],_0x4bd3eb={'action':_0x360f66,'init_data':_0x43e69f?.[_0x170800(0x2bd)]||'',..._0x4545c1};try{const _0xb8e0ff=await fetch(API_URL,{'method':'POST','headers':{'Content-Type':_0x170800(0x255)},'body':JSON[_0x170800(0x304)](_0x4bd3eb)}),_0x26485b=await _0xb8e0ff[_0x170800(0x342)]();if(!_0x26485b['ok'])throw new Error(_0x26485b[_0x170800(0x310)]||_0x170800(0x2d0));return _0x26485b[_0x170800(0x32a)];}catch(_0x411047){console[_0x170800(0x310)](_0x170800(0x2ed)+_0x360f66+_0x170800(0x30d),_0x411047);throw _0x411047;}},async 'syncLoad'(){const _0x2c12b9=a2_0x389204,_0x510761=new Date(),_0xca55e6=_0x510761[_0x2c12b9(0x28f)]()+'-'+String(_0x510761[_0x2c12b9(0x23f)]()+0x1)[_0x2c12b9(0x282)](0x2,'0'),_0x35cef4=new Date(_0x510761);_0x35cef4[_0x2c12b9(0x214)](_0x510761[_0x2c12b9(0x23f)]()+0x1);const _0xa5d522=_0x35cef4[_0x2c12b9(0x28f)]()+'-'+String(_0x35cef4[_0x2c12b9(0x23f)]()+0x1)[_0x2c12b9(0x282)](0x2,'0'),_0x1ae67b=Date[_0x2c12b9(0x2f2)]();console[_0x2c12b9(0x2ab)](_0x2c12b9(0x2f4)+_0xca55e6+',\x20'+_0xa5d522+_0x2c12b9(0x366));try{const [_0x2a90a9,_0x1e5d00]=await Promise[_0x2c12b9(0x1e6)]([this['fetchFromServer']('init_load',{'month_str':_0xca55e6}),this[_0x2c12b9(0x23d)](_0x2c12b9(0x2cc),{'month_str':_0xa5d522})]);if(lastUserActionTime>_0x1ae67b)return console[_0x2c12b9(0x2fb)](_0x2c12b9(0x32e)),![];return this['mergeServerData'](_0x2a90a9,_0xca55e6),this[_0x2c12b9(0x251)](_0x1e5d00,_0xa5d522),this[_0x2c12b9(0x358)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x5038f1){console['error'](_0x5038f1);throw _0x5038f1;}},'mergeServerData'(_0x376f99,_0x348e5e){const _0x1d9ee2=a2_0x389204;if(!_0x376f99)return;_0x376f99[_0x1d9ee2(0x248)]&&Array['isArray'](_0x376f99[_0x1d9ee2(0x248)])&&(clients=_0x376f99[_0x1d9ee2(0x248)]);if(_0x376f99[_0x1d9ee2(0x344)]){if(_0x376f99[_0x1d9ee2(0x344)][_0x1d9ee2(0x2da)])availabilityPattern=_0x376f99[_0x1d9ee2(0x344)][_0x1d9ee2(0x2da)];if(_0x376f99[_0x1d9ee2(0x344)][_0x1d9ee2(0x253)])dateExceptions=_0x376f99[_0x1d9ee2(0x344)][_0x1d9ee2(0x253)];if(_0x376f99[_0x1d9ee2(0x344)][_0x1d9ee2(0x31f)])specialRanges=_0x376f99[_0x1d9ee2(0x344)][_0x1d9ee2(0x31f)];if(_0x376f99[_0x1d9ee2(0x344)][_0x1d9ee2(0x24d)]){localStorage[_0x1d9ee2(0x1f6)]('uc_settings_cancel_window',_0x376f99[_0x1d9ee2(0x344)]['cancel_window']);const _0x34b3ca=document['getElementById'](_0x1d9ee2(0x346));if(_0x34b3ca)_0x34b3ca[_0x1d9ee2(0x21e)]=_0x376f99[_0x1d9ee2(0x344)]['cancel_window'];}}_0x376f99[_0x1d9ee2(0x219)]&&(sessions=sessions[_0x1d9ee2(0x36d)](_0x53cd7f=>!_0x53cd7f[_0x1d9ee2(0x286)][_0x1d9ee2(0x249)](_0x348e5e)),Object[_0x1d9ee2(0x234)](_0x376f99[_0x1d9ee2(0x219)])[_0x1d9ee2(0x216)](_0x4fe493=>{const _0x3f9fa9=_0x1d9ee2,_0xa34dd7=_0x376f99['calendar'][_0x4fe493];_0xa34dd7[_0x3f9fa9(0x216)](_0x2296a8=>{const _0x2a447d=_0x3f9fa9,_0x2522ef=clients[_0x2a447d(0x267)](_0x214144=>String(_0x214144['id'])===String(_0x2296a8['c']));sessions[_0x2a447d(0x2e6)]({'id':_0x2296a8['i'],'clientId':_0x2296a8['c'],'client':_0x2522ef?_0x2522ef[_0x2a447d(0x33e)]:'Unknown','dateStr':_0x348e5e+'-'+_0x4fe493['padStart'](0x2,'0'),'start':_0x2296a8['s'],'end':_0x2296a8['e'],'status':_0x2296a8['st']||_0x2a447d(0x35f),'note':_0x2296a8['n']||'','seriesId':_0x2296a8[_0x2a447d(0x22a)]||null});});}));},async 'syncBatch'(_0xcfdd89){const _0x5aec5c=a2_0x389204,_0x14808e=[...new Set(_0xcfdd89)],_0x43bdd6=_0x14808e[_0x5aec5c(0x25b)](_0x381f8e=>{const _0x17bfe7=_0x5aec5c,_0x195b8a=sessions['filter'](_0x38afc4=>_0x38afc4[_0x17bfe7(0x286)]===_0x381f8e&&_0x38afc4[_0x17bfe7(0x1f8)]!=='deleted'),_0x2866ba=_0x195b8a['map'](_0x2e2a41=>({'i':_0x2e2a41['id'],'c':_0x2e2a41[_0x17bfe7(0x31c)],'s':_0x2e2a41[_0x17bfe7(0x213)],'e':_0x2e2a41['end'],'st':_0x2e2a41['status'],'n':_0x2e2a41[_0x17bfe7(0x32f)],'sid':_0x2e2a41[_0x17bfe7(0x21b)]}));return{'date':_0x381f8e,'day_data':_0x2866ba};});if(_0x43bdd6['length']===0x0)return;console[_0x5aec5c(0x2ab)]('[Sync]\x20Pushing\x20batch\x20updates\x20for\x20'+_0x43bdd6[_0x5aec5c(0x29a)]+_0x5aec5c(0x254)),await this[_0x5aec5c(0x23d)]('batch_sync',{'changes':_0x43bdd6});}};async function init(){const _0x24c20b=a2_0x389204;DataManager[_0x24c20b(0x2bc)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x24c20b(0x22e)]('matrixViewport')[_0x24c20b(0x360)](_0x24c20b(0x211),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']()[_0x24c20b(0x298)](()=>{const _0x254ebc=_0x24c20b;showToast(_0x254ebc(0x287),!![]);})[_0x24c20b(0x316)](_0x33a92b=>{const _0x1ec68d=_0x24c20b;showToast(_0x1ec68d(0x300),![]);});}function generateId(){const _0x5a5cfd=a2_0x389204;return Date[_0x5a5cfd(0x2f2)]()[_0x5a5cfd(0x2de)](0x24)+Math['random']()[_0x5a5cfd(0x2de)](0x24)[_0x5a5cfd(0x1e8)](0x2,0x5);}function toggleSeriesInput(){const _0x4e7429=a2_0x389204,_0x48c2ae=document['getElementById'](_0x4e7429(0x1fa))[_0x4e7429(0x362)],_0x412c27=document[_0x4e7429(0x22e)](_0x4e7429(0x21a));_0x412c27[_0x4e7429(0x33f)]['display']=_0x48c2ae?_0x4e7429(0x34c):_0x4e7429(0x351);const _0xc8b356=document[_0x4e7429(0x22e)](_0x4e7429(0x212));_0xc8b356[_0x4e7429(0x33f)]['borderRadius']=_0x48c2ae?'10px\x2010px\x200\x200':_0x4e7429(0x206);}function openAddSession(_0x4fd54c){const _0x14d8ea=a2_0x389204;editingId=null,populateClientSelect(),document[_0x14d8ea(0x22e)]('sheetTitle')[_0x14d8ea(0x303)]=_0x14d8ea(0x20c),document[_0x14d8ea(0x22e)](_0x14d8ea(0x2b1))[_0x14d8ea(0x33f)][_0x14d8ea(0x1fe)]='none',document[_0x14d8ea(0x22e)]('btnStatusToggle')['style'][_0x14d8ea(0x1fe)]=_0x14d8ea(0x351);const _0x868152=document['getElementById']('recurringOptionContainer'),_0x360eba=document['getElementById'](_0x14d8ea(0x21a));_0x868152[_0x14d8ea(0x33f)][_0x14d8ea(0x1fe)]=_0x14d8ea(0x279),_0x868152[_0x14d8ea(0x33f)][_0x14d8ea(0x2f6)]=_0x14d8ea(0x206),document[_0x14d8ea(0x22e)](_0x14d8ea(0x1fa))[_0x14d8ea(0x362)]=![],document[_0x14d8ea(0x22e)](_0x14d8ea(0x339))[_0x14d8ea(0x21e)]=0x4,_0x360eba[_0x14d8ea(0x33f)][_0x14d8ea(0x1fe)]=_0x14d8ea(0x351),document[_0x14d8ea(0x22e)](_0x14d8ea(0x209))[_0x14d8ea(0x21e)]=getLocalDateStr(_0x4fd54c),updateDateDisplay();const _0xa79d93=_0x4fd54c[_0x14d8ea(0x231)]();document[_0x14d8ea(0x22e)]('inpStart')[_0x14d8ea(0x21e)]=String(_0xa79d93)['padStart'](0x2,'0')+':00',document[_0x14d8ea(0x22e)](_0x14d8ea(0x26c))['value']=String(_0xa79d93+0x1)[_0x14d8ea(0x282)](0x2,'0')+_0x14d8ea(0x24f),openSheet(_0x14d8ea(0x276));}function openEdit(_0x37998f){const _0x55c5dc=a2_0x389204;editingId=_0x37998f['id'],populateClientSelect(),document['getElementById'](_0x55c5dc(0x2ba))[_0x55c5dc(0x303)]=_0x55c5dc(0x2b5),document[_0x55c5dc(0x22e)](_0x55c5dc(0x2b1))['style']['display']=_0x55c5dc(0x34c);const _0x39a72d=document[_0x55c5dc(0x22e)](_0x55c5dc(0x364));_0x39a72d[_0x55c5dc(0x33f)][_0x55c5dc(0x1fe)]=_0x55c5dc(0x279);_0x37998f['status']==='completed'?(_0x39a72d[_0x55c5dc(0x361)]=_0x55c5dc(0x239),_0x39a72d[_0x55c5dc(0x228)]='–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ'):(_0x39a72d['className']=_0x55c5dc(0x328),_0x39a72d[_0x55c5dc(0x228)]=_0x55c5dc(0x2a1));const _0x58bec8=!!_0x37998f[_0x55c5dc(0x21b)];document['getElementById']('recurringOptionContainer')[_0x55c5dc(0x33f)][_0x55c5dc(0x1fe)]='none',document[_0x55c5dc(0x22e)](_0x55c5dc(0x21a))['style'][_0x55c5dc(0x1fe)]=_0x55c5dc(0x351),_0x58bec8?(document['getElementById'](_0x55c5dc(0x1f1))[_0x55c5dc(0x33f)]['display']=_0x55c5dc(0x279),document['getElementById']('patternInfoBox')[_0x55c5dc(0x309)]('.pib-text')[_0x55c5dc(0x303)]=_0x55c5dc(0x2a8)):document[_0x55c5dc(0x22e)](_0x55c5dc(0x1f1))[_0x55c5dc(0x33f)]['display']=_0x55c5dc(0x351),document['getElementById'](_0x55c5dc(0x280))[_0x55c5dc(0x21e)]=_0x37998f[_0x55c5dc(0x2ad)],document['getElementById'](_0x55c5dc(0x209))[_0x55c5dc(0x21e)]=_0x37998f[_0x55c5dc(0x286)],document[_0x55c5dc(0x22e)](_0x55c5dc(0x227))[_0x55c5dc(0x21e)]=_0x37998f['start'],document[_0x55c5dc(0x22e)]('inpEnd')[_0x55c5dc(0x21e)]=_0x37998f['end'],document['getElementById']('inpNote')[_0x55c5dc(0x21e)]=_0x37998f[_0x55c5dc(0x32f)]||'',updateDateDisplay(),openSheet(_0x55c5dc(0x276));}async function trySaveSession(){const _0x25e3b4=a2_0x389204,_0x54c1d9=document[_0x25e3b4(0x22e)]('inpClient')[_0x25e3b4(0x21e)],_0x1aef05=document[_0x25e3b4(0x22e)](_0x25e3b4(0x209))[_0x25e3b4(0x21e)],_0x1686e2=document[_0x25e3b4(0x22e)]('inpStart')[_0x25e3b4(0x21e)],_0xb2ec=document[_0x25e3b4(0x22e)]('inpEnd')['value'],_0xca5471=document[_0x25e3b4(0x22e)](_0x25e3b4(0x28b))[_0x25e3b4(0x21e)],_0x11abb3=document[_0x25e3b4(0x22e)](_0x25e3b4(0x1fa))[_0x25e3b4(0x362)];let _0x43e9da=0x4;if(_0x11abb3){const _0x5c7e96=parseInt(document[_0x25e3b4(0x22e)](_0x25e3b4(0x339))['value']);if(!_0x5c7e96||_0x5c7e96<0x2){showToast(_0x25e3b4(0x2d9),![]);return;}if(_0x5c7e96>0x64){showToast('–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑',![]);return;}_0x43e9da=_0x5c7e96;}const _0xf48729=clients[_0x25e3b4(0x267)](_0x1a0622=>_0x1a0622[_0x25e3b4(0x33e)]===_0x54c1d9);if(!_0xf48729){showToast('–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞',![]);return;}const _0x2e8afe=validateAppointment(_0x1aef05,_0x1686e2,_0xb2ec,editingId,_0xf48729['id']);if(!_0x2e8afe[_0x25e3b4(0x2bb)]){showToast(_0x2e8afe[_0x25e3b4(0x21c)],![]);return;}_0x2e8afe[_0x25e3b4(0x2d5)]&&showToast(_0x2e8afe['warning'],![]);const _0x5d722c={'client':_0x54c1d9,'clientId':_0xf48729['id'],'start':_0x1686e2,'end':_0xb2ec,'note':_0xca5471,'status':_0x25e3b4(0x35f)},_0x1b5579=editingId?sessions[_0x25e3b4(0x267)](_0x451604=>_0x451604['id']===editingId):null;if(_0x1b5579&&_0x1b5579[_0x25e3b4(0x21b)]){tempSessionData={..._0x5d722c,'dateStr':_0x1aef05,'id':editingId,'seriesId':_0x1b5579[_0x25e3b4(0x21b)]},openActionSheet(_0x25e3b4(0x23c));return;}let _0x94ecde=null;if(!editingId)_0x94ecde='create';else{if(_0x1b5579){if(String(_0x1b5579[_0x25e3b4(0x31c)])!==String(_0xf48729['id']))console['log']('[Notify]\x20Client\x20SWAP\x20detected'),NotificationManager[_0x25e3b4(0x241)](_0x25e3b4(0x34d),_0x1b5579),_0x94ecde=_0x25e3b4(0x24e);else(_0x1b5579[_0x25e3b4(0x213)]!==_0x1686e2||_0x1b5579[_0x25e3b4(0x24c)]!==_0xb2ec||_0x1b5579[_0x25e3b4(0x286)]!==_0x1aef05)&&(_0x94ecde=_0x25e3b4(0x1e9));}}if(!editingId&&_0x11abb3){createBatchSeries(_0x5d722c,_0x1aef05,_0x43e9da),NotificationManager[_0x25e3b4(0x241)](_0x25e3b4(0x24e),{..._0x5d722c,'dateStr':_0x1aef05});return;}lastUserActionTime=Date[_0x25e3b4(0x2f2)]();const _0x248367={..._0x5d722c,'dateStr':_0x1aef05,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x248367),_0x94ecde&&NotificationManager['send'](_0x94ecde,_0x248367);}function toggleSessionStatus(){const _0x122d66=a2_0x389204;lastUserActionTime=Date[_0x122d66(0x2f2)]();const _0x2e74c3=sessions[_0x122d66(0x267)](_0xe2f656=>_0xe2f656['id']===editingId);if(!_0x2e74c3)return;const _0x5e1a9b=_0x2e74c3[_0x122d66(0x1f8)]===_0x122d66(0x2b2)?_0x122d66(0x35f):_0x122d66(0x2b2);_0x2e74c3[_0x122d66(0x1f8)]=_0x5e1a9b,saveSingleSession(_0x2e74c3),_0x5e1a9b==='completed'&&NotificationManager[_0x122d66(0x241)](_0x122d66(0x218),_0x2e74c3),showToast(_0x5e1a9b===_0x122d66(0x2b2)?_0x122d66(0x2b3):_0x122d66(0x2cd),!![]);}function validateAppointment(_0x4a3e70,_0x595604,_0x5e680e,_0x2cbd59,_0x2bd54){const _0x3570be=a2_0x389204,[_0x7573d9,_0xa8c7eb]=_0x595604[_0x3570be(0x30c)](':')[_0x3570be(0x25b)](Number),[_0x32d0b7,_0x38a8b8]=_0x5e680e[_0x3570be(0x30c)](':')[_0x3570be(0x25b)](Number),_0x4f8679=_0x7573d9*0x3c+_0xa8c7eb,_0x833659=_0x32d0b7*0x3c+_0x38a8b8,_0x114870=String(_0x2bd54);let _0x51e626=![],_0x4aec3d='';for(let _0x4cbb96 of sessions){if(_0x4cbb96[_0x3570be(0x286)]!==_0x4a3e70)continue;if(_0x4cbb96[_0x3570be(0x1f8)]===_0x3570be(0x274))continue;if(_0x2cbd59&&String(_0x4cbb96['id'])===String(_0x2cbd59))continue;const [_0x5e18a0,_0x1d4f98]=_0x4cbb96['start'][_0x3570be(0x30c)](':')[_0x3570be(0x25b)](Number),[_0x89066f,_0x2134d1]=_0x4cbb96[_0x3570be(0x24c)][_0x3570be(0x30c)](':')[_0x3570be(0x25b)](Number),_0x2be5e2=_0x5e18a0*0x3c+_0x1d4f98,_0x28d893=_0x89066f*0x3c+_0x2134d1;if(Math[_0x3570be(0x2d7)](_0x4f8679,_0x2be5e2)<Math[_0x3570be(0x29b)](_0x833659,_0x28d893)){if(_0x4cbb96[_0x3570be(0x31c)]&&String(_0x4cbb96['clientId'])===_0x114870)return{'valid':![],'msg':_0x3570be(0x334)+_0x4cbb96['client']+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x51e626=!![],_0x4aec3d=_0x4cbb96[_0x3570be(0x2ad)];}}if(_0x51e626)return{'valid':!![],'warning':_0x3570be(0x283)+_0x4aec3d};return{'valid':!![]};}function saveSingleSession(_0x50a514){const _0x5e5bb6=a2_0x389204;if(editingId){const _0x569d77=sessions[_0x5e5bb6(0x266)](_0x2e1161=>_0x2e1161['id']===editingId);if(_0x569d77!==-0x1)sessions[_0x569d77]=_0x50a514;}else sessions['push'](_0x50a514);afterSaveAction([_0x50a514[_0x5e5bb6(0x286)]]);}function createBatchSeries(_0xbfcadb,_0x43eff5,_0x482e66){const _0xd39d44=a2_0x389204,_0x6986ef=generateId(),_0x452d91=[],_0x1cacec=[];let _0x4321c2=0x0,_0x2963e3=new Date(_0x43eff5);for(let _0x14c225=0x0;_0x14c225<_0x482e66;_0x14c225++){const _0x19e36e=getLocalDateStr(_0x2963e3),_0x18da7e=validateAppointment(_0x19e36e,_0xbfcadb[_0xd39d44(0x213)],_0xbfcadb[_0xd39d44(0x24c)],null,_0xbfcadb['clientId']);if(!_0x18da7e[_0xd39d44(0x2bb)])console[_0xd39d44(0x2ab)](_0xd39d44(0x297)+_0x19e36e+':\x20Client\x20already\x20booked'),_0x4321c2++;else{const _0x5842bf={..._0xbfcadb,'id':generateId(),'dateStr':_0x19e36e,'seriesId':_0x6986ef};_0x1cacec[_0xd39d44(0x2e6)](_0x5842bf),_0x452d91[_0xd39d44(0x2e6)](_0x19e36e);}_0x2963e3[_0xd39d44(0x325)](_0x2963e3[_0xd39d44(0x2d2)]()+0x7);}if(_0x1cacec[_0xd39d44(0x29a)]===0x0){showToast(_0xd39d44(0x2c0),![]);return;}sessions[_0xd39d44(0x2e6)](..._0x1cacec),lastUserActionTime=Date['now']();let _0x77fed=_0xd39d44(0x313)+_0x1cacec[_0xd39d44(0x29a)];_0x4321c2>0x0&&(_0x77fed+=_0xd39d44(0x2d4)+_0x4321c2+')'),showToast(_0x77fed,!![]),afterSaveAction(_0x452d91);}function updateSeriesBatch(_0x3e614b,_0x573214){const _0x3a9a5b=a2_0x389204,_0x1dffc9=[],_0x50fc2e=_0x573214['seriesId'];if(_0x3e614b==='single'){const _0x4b3c19={..._0x573214,'seriesId':null},_0x5899bb=sessions[_0x3a9a5b(0x266)](_0x1606cb=>_0x1606cb['id']===_0x573214['id']);if(_0x5899bb!==-0x1)sessions[_0x5899bb]=_0x4b3c19;_0x1dffc9[_0x3a9a5b(0x2e6)](_0x4b3c19[_0x3a9a5b(0x286)]);}else{if(_0x3e614b===_0x3a9a5b(0x343)){const _0x2a83e4=_0x573214['dateStr'];sessions[_0x3a9a5b(0x216)]((_0x18797a,_0x537463)=>{const _0x1675ed=_0x3a9a5b;_0x18797a[_0x1675ed(0x21b)]===_0x50fc2e&&_0x18797a[_0x1675ed(0x286)]>=_0x2a83e4&&(sessions[_0x537463]={...sessions[_0x537463],'start':_0x573214[_0x1675ed(0x213)],'end':_0x573214[_0x1675ed(0x24c)],'note':_0x573214[_0x1675ed(0x32f)],'client':_0x573214[_0x1675ed(0x2ad)],'clientId':_0x573214[_0x1675ed(0x31c)]},_0x1dffc9[_0x1675ed(0x2e6)](_0x18797a[_0x1675ed(0x286)]));});}}afterSaveAction(_0x1dffc9);}function tryDeleteSession(){const _0x51b99f=a2_0x389204,_0x442df5=sessions[_0x51b99f(0x267)](_0x104177=>_0x104177['id']===editingId);if(!_0x442df5)return;_0x442df5[_0x51b99f(0x21b)]?openActionSheet(_0x51b99f(0x233)):commitDelete('single',_0x442df5);}function commitDelete(_0x3acc78,_0x90cc1b){const _0x5db1b8=a2_0x389204;lastUserActionTime=Date['now'](),NotificationManager[_0x5db1b8(0x241)](_0x5db1b8(0x34d),_0x90cc1b);const _0x5985c8=[];if(_0x3acc78==='single')sessions=sessions[_0x5db1b8(0x36d)](_0x4d5fb3=>_0x4d5fb3['id']!==_0x90cc1b['id']),_0x5985c8[_0x5db1b8(0x2e6)](_0x90cc1b['dateStr']);else{if(_0x3acc78===_0x5db1b8(0x343)){const _0x78feaa=_0x90cc1b[_0x5db1b8(0x286)],_0x232cc3=_0x90cc1b['seriesId'];sessions['forEach'](_0x1a98bc=>{const _0x2a1b37=_0x5db1b8;_0x1a98bc['seriesId']===_0x232cc3&&_0x1a98bc[_0x2a1b37(0x286)]>=_0x78feaa&&_0x5985c8['push'](_0x1a98bc[_0x2a1b37(0x286)]);}),sessions=sessions[_0x5db1b8(0x36d)](_0x6edec8=>!(_0x6edec8[_0x5db1b8(0x21b)]===_0x232cc3&&_0x6edec8[_0x5db1b8(0x286)]>=_0x78feaa));}}afterSaveAction(_0x5985c8);}function afterSaveAction(_0x39eff1){const _0x44ff15=a2_0x389204;DataManager[_0x44ff15(0x358)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x44ff15(0x329)](_0x39eff1)[_0x44ff15(0x298)](()=>console[_0x44ff15(0x2ab)]('Batch\x20Sync\x20OK'))[_0x44ff15(0x316)](_0x45fa9a=>showToast(_0x44ff15(0x230),![]));}const NotificationManager={'formatDate'(_0x321bf7){const _0x368d08=a2_0x389204,_0x37e4d0=new Date(_0x321bf7),_0x20748a={'weekday':'long','day':_0x368d08(0x2e2),'month':'long'};let _0x292d34=_0x37e4d0['toLocaleDateString'](_0x368d08(0x268),_0x20748a);return _0x292d34['charAt'](0x0)[_0x368d08(0x2af)]()+_0x292d34[_0x368d08(0x355)](0x1);},'getText'(_0x1dde49,_0x4578d6){const _0x12519e=a2_0x389204,_0x1b7641=this[_0x12519e(0x2df)](_0x4578d6[_0x12519e(0x286)]);switch(_0x1dde49){case _0x12519e(0x24e):return _0x12519e(0x252)+(_0x12519e(0x20f)+_0x1b7641+'\x0a')+(_0x12519e(0x2a3)+_0x4578d6[_0x12519e(0x213)]+_0x12519e(0x2be)+_0x4578d6[_0x12519e(0x24c)]+'\x0a\x0a')+'–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™';case'update':return'<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a'+'–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a'+(_0x12519e(0x2c3)+_0x4578d6['start']+'\x20‚Äî\x20'+_0x4578d6[_0x12519e(0x24c)]+_0x12519e(0x29d))+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0x1b7641);case _0x12519e(0x34d):return _0x12519e(0x202)+(_0x12519e(0x2a2)+_0x1b7641+'\x20('+_0x4578d6['start']+_0x12519e(0x2eb));case _0x12519e(0x218):return _0x12519e(0x275)+_0x12519e(0x24b)+_0x12519e(0x256);default:return'';}},async 'send'(_0x398e9a,_0x594200){const _0x56c067=a2_0x389204;console[_0x56c067(0x2ab)](_0x56c067(0x281),_0x398e9a,_0x594200);if(!_0x594200){console[_0x56c067(0x310)](_0x56c067(0x293));return;}const _0x31b8d6=String(_0x594200[_0x56c067(0x31c)]);console[_0x56c067(0x2ab)](_0x56c067(0x35d),_0x31b8d6);if(!_0x594200[_0x56c067(0x31c)]||_0x31b8d6===_0x56c067(0x24a)||_0x31b8d6===_0x56c067(0x34f)){console[_0x56c067(0x310)](_0x56c067(0x312));if(_0x594200['client']){const _0x1b74d1=clients['find'](_0xc97a73=>_0xc97a73[_0x56c067(0x33e)]===_0x594200['client']);if(_0x1b74d1)return console['log'](_0x56c067(0x347),_0x1b74d1['id']),this[_0x56c067(0x241)](_0x398e9a,{..._0x594200,'clientId':_0x1b74d1['id']});}return;}if(_0x31b8d6[_0x56c067(0x29a)]<0x5){console[_0x56c067(0x2fb)](_0x56c067(0x368),_0x31b8d6);return;}const _0x11550c=this[_0x56c067(0x2e8)](_0x398e9a,_0x594200);if(!_0x11550c){console[_0x56c067(0x310)](_0x56c067(0x2bf));return;}console[_0x56c067(0x2ab)](_0x56c067(0x33d)+_0x31b8d6+'...'),DataManager[_0x56c067(0x23d)](_0x56c067(0x217),{'chatId':_0x31b8d6,'text':_0x11550c})[_0x56c067(0x298)](_0x1ace92=>console[_0x56c067(0x2ab)](_0x56c067(0x246),_0x1ace92))[_0x56c067(0x316)](_0x113b1c=>console[_0x56c067(0x310)](_0x56c067(0x29f),_0x113b1c));}};function getLocalDateStr(_0x538fc6){const _0x5c8f59=a2_0x389204,_0x53fc8b=_0x538fc6[_0x5c8f59(0x28f)](),_0x3100ca=String(_0x538fc6[_0x5c8f59(0x23f)]()+0x1)[_0x5c8f59(0x282)](0x2,'0'),_0x35ad57=String(_0x538fc6[_0x5c8f59(0x2d2)]())[_0x5c8f59(0x282)](0x2,'0');return _0x53fc8b+'-'+_0x3100ca+'-'+_0x35ad57;}function getDateStr(_0x3021dc){const _0x120107=a2_0x389204,_0x3dd9ae=new Date();return _0x3dd9ae[_0x120107(0x325)](_0x3dd9ae['getDate']()+_0x3021dc),getLocalDateStr(_0x3dd9ae);}function getStartOfWeek(_0x5026bd){const _0x394260=a2_0x389204,_0x26efee=new Date(_0x5026bd),_0x25c768=_0x26efee[_0x394260(0x28c)](),_0x56be87=_0x26efee['getDate']()-_0x25c768+(_0x25c768===0x0?-0x6:0x1);return _0x26efee[_0x394260(0x325)](_0x56be87),_0x26efee[_0x394260(0x1fc)](0x0,0x0,0x0,0x0),_0x26efee;}function hexToRgba(_0x43b9c9,_0x1868c8){const _0x28afd7=a2_0x389204;if(!_0x43b9c9)return _0x28afd7(0x23e);let _0x4ce0d5=0x0,_0x28481c=0x0,_0x36ee85=0x0;if(_0x43b9c9[_0x28afd7(0x29a)]===0x4)_0x4ce0d5='0x'+_0x43b9c9[0x1]+_0x43b9c9[0x1],_0x28481c='0x'+_0x43b9c9[0x2]+_0x43b9c9[0x2],_0x36ee85='0x'+_0x43b9c9[0x3]+_0x43b9c9[0x3];else _0x43b9c9[_0x28afd7(0x29a)]===0x7&&(_0x4ce0d5='0x'+_0x43b9c9[0x1]+_0x43b9c9[0x2],_0x28481c='0x'+_0x43b9c9[0x3]+_0x43b9c9[0x4],_0x36ee85='0x'+_0x43b9c9[0x5]+_0x43b9c9[0x6]);return _0x28afd7(0x318)+ +_0x4ce0d5+',\x20'+ +_0x28481c+',\x20'+ +_0x36ee85+',\x20'+_0x1868c8+')';}function renderTimeColumn(){const _0x222ae9=a2_0x389204,_0x2a1b1d=document[_0x222ae9(0x22e)](_0x222ae9(0x356)),_0x47309a=document[_0x222ae9(0x22e)](_0x222ae9(0x27f));_0x2a1b1d[_0x222ae9(0x228)]='',_0x2a1b1d[_0x222ae9(0x2a6)](_0x47309a);for(let _0x58bb8e=0x0;_0x58bb8e<0x18;_0x58bb8e++){const _0x1dd377=document[_0x222ae9(0x314)](_0x222ae9(0x26e));_0x1dd377['className']=_0x222ae9(0x2a7);if(_0x58bb8e>0x0)_0x1dd377[_0x222ae9(0x228)]=_0x222ae9(0x21f)+String(_0x58bb8e)[_0x222ae9(0x282)](0x2,'0')+_0x222ae9(0x2c8);_0x2a1b1d[_0x222ae9(0x2a6)](_0x1dd377);}}function renderDayRange(_0x5f4a5f,_0x3990a5){const _0x41f9ed=a2_0x389204,_0x295673=document['getElementById'](_0x41f9ed(0x311)),_0x29d866=document['getElementById'](_0x41f9ed(0x363)),_0x6314c3=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x4c2a34=new Date();_0x4c2a34[_0x41f9ed(0x1fc)](0x0,0x0,0x0,0x0);const _0x143d14=getLocalDateStr(new Date());for(let _0x33bf6d=_0x5f4a5f;_0x33bf6d<=_0x3990a5;_0x33bf6d++){const _0xf9b9a7=new Date(_0x4c2a34);_0xf9b9a7['setDate'](_0xf9b9a7[_0x41f9ed(0x2d2)]()+_0x33bf6d);const _0xce5446=getLocalDateStr(_0xf9b9a7);let _0x3a0351=_0xf9b9a7['getDay']()-0x1;if(_0x3a0351===-0x1)_0x3a0351=0x6;const _0x48269d=_0xce5446===_0x143d14,_0x2ae0db=document['createElement'](_0x41f9ed(0x26e));_0x2ae0db['className']=_0x41f9ed(0x320)+(_0x48269d?'today':''),_0x2ae0db['id']=_0x41f9ed(0x222)+_0xce5446,_0x2ae0db[_0x41f9ed(0x294)](_0x41f9ed(0x285),_0xce5446),_0x2ae0db[_0x41f9ed(0x228)]='<div\x20class=\x22dch-day\x22>'+_0x6314c3[_0x3a0351]+_0x41f9ed(0x2e1)+_0xf9b9a7[_0x41f9ed(0x2d2)]()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0xce5446+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x2ae0db[_0x41f9ed(0x26b)]=()=>openDayOptions(_0xce5446,_0x6314c3[_0x3a0351]+'\x20'+_0xf9b9a7[_0x41f9ed(0x2d2)]()),_0x295673[_0x41f9ed(0x2a6)](_0x2ae0db);const _0x1b34de=document[_0x41f9ed(0x314)](_0x41f9ed(0x26e));_0x1b34de[_0x41f9ed(0x361)]=_0x41f9ed(0x220)+(_0x48269d?_0x41f9ed(0x22c):''),_0x1b34de[_0x41f9ed(0x294)](_0x41f9ed(0x285),_0xce5446),_0x1b34de[_0x41f9ed(0x294)](_0x41f9ed(0x210),_0x3a0351),renderEventsForColumn(_0x1b34de,_0xce5446,_0x3a0351),attachLongPressHandler(_0x1b34de,_0xf9b9a7),_0x29d866[_0x41f9ed(0x2a6)](_0x1b34de),updateDayStats(_0xce5446);}}function reRenderBlocks(){const _0xca0a2d=a2_0x389204;document[_0xca0a2d(0x1fd)](_0xca0a2d(0x244))[_0xca0a2d(0x216)](_0x5e5a17=>{const _0x3b40a3=_0xca0a2d;_0x5e5a17[_0x3b40a3(0x1fd)](_0x3b40a3(0x221))['forEach'](_0x503226=>_0x503226[_0x3b40a3(0x332)]());const _0x396656=_0x5e5a17[_0x3b40a3(0x2e9)]('data-date'),_0x1a40f6=parseInt(_0x5e5a17['getAttribute'](_0x3b40a3(0x210))),_0x8a3e52=Math[_0x3b40a3(0x236)](_0x5e5a17[_0x3b40a3(0x25f)]);(availabilityPattern[_0x1a40f6]||[])[_0x3b40a3(0x216)](_0x4e0528=>{const _0x4ef2ff=_0x3b40a3,_0x40d62b=document[_0x4ef2ff(0x314)](_0x4ef2ff(0x26e));_0x40d62b[_0x4ef2ff(0x361)]=_0x4ef2ff(0x2c2);const _0x44f240=_0x4e0528*GRID_H;_0x40d62b[_0x4ef2ff(0x33f)][_0x4ef2ff(0x2b7)]=_0x44f240+'px',_0x40d62b[_0x4ef2ff(0x33f)]['backgroundPosition']='-'+_0x8a3e52+_0x4ef2ff(0x1ef)+_0x44f240+'px',_0x5e5a17['appendChild'](_0x40d62b);});if(specialRanges&&specialRanges['length']>0x0){const _0x30f1e6=new Date(_0x396656+_0x3b40a3(0x308))[_0x3b40a3(0x215)](),_0x29e11d=new Date(_0x396656+_0x3b40a3(0x2f7))['getTime']();specialRanges[_0x3b40a3(0x216)](_0x3a2522=>{const _0x4a1793=_0x3b40a3,_0x25d1e3=new Date(_0x3a2522['start'])[_0x4a1793(0x215)](),_0x244f58=new Date(_0x3a2522['end'])[_0x4a1793(0x215)](),_0x1d7d69=Math['max'](_0x30f1e6,_0x25d1e3),_0x20bcc4=Math[_0x4a1793(0x29b)](_0x29e11d,_0x244f58);if(_0x1d7d69<_0x20bcc4){if(_0x1d7d69<=_0x30f1e6&&_0x20bcc4>=_0x29e11d-0xea60){if(!_0x5e5a17['querySelector'](_0x4a1793(0x292))){const _0x24dd99=document['createElement'](_0x4a1793(0x26e));_0x24dd99['className']=_0x4a1793(0x357),_0x24dd99[_0x4a1793(0x33f)]['backgroundPosition']='-'+_0x8a3e52+_0x4a1793(0x1eb),_0x5e5a17['appendChild'](_0x24dd99);}}else{const _0x295f9a=(_0x1d7d69-_0x30f1e6)/0x36ee80*GRID_H,_0x5bb05b=(_0x20bcc4-_0x1d7d69)/0x36ee80*GRID_H,_0x51b23b=document[_0x4a1793(0x314)](_0x4a1793(0x26e));_0x51b23b['className']=_0x4a1793(0x30b),_0x51b23b[_0x4a1793(0x33f)]['top']=_0x295f9a+'px',_0x51b23b[_0x4a1793(0x33f)][_0x4a1793(0x321)]=_0x5bb05b+'px',_0x51b23b['style'][_0x4a1793(0x327)]='-'+_0x8a3e52+_0x4a1793(0x1ef)+_0x295f9a+'px',_0x5e5a17[_0x4a1793(0x2a6)](_0x51b23b);}}});}if(dateExceptions[_0x396656]===_0x3b40a3(0x2e0)){if(!_0x5e5a17['querySelector'](_0x3b40a3(0x292))){const _0x375643=document['createElement'](_0x3b40a3(0x26e));_0x375643[_0x3b40a3(0x361)]=_0x3b40a3(0x357),_0x375643['style'][_0x3b40a3(0x327)]='-'+_0x8a3e52+'px\x200px',_0x5e5a17[_0x3b40a3(0x2a6)](_0x375643);}}renderEventsForColumn(_0x5e5a17,_0x396656,_0x1a40f6),updateDayStats(_0x396656);});}function updateAllDayStats(){const _0x30f585=a2_0x389204;document[_0x30f585(0x1fd)]('.day-col-header')[_0x30f585(0x216)](_0x5a53a1=>{const _0x4db3d3=_0x30f585;updateDayStats(_0x5a53a1[_0x4db3d3(0x2e9)](_0x4db3d3(0x285)));});}function updateDayStats(_0x2cdafb){const _0x71e76b=a2_0x389204,_0x5b1bd8=document[_0x71e76b(0x22e)](_0x71e76b(0x28a)+_0x2cdafb);if(!_0x5b1bd8)return;const _0x31f686=new Date(_0x2cdafb);let _0x32987c=_0x31f686[_0x71e76b(0x28c)]()-0x1;if(_0x32987c===-0x1)_0x32987c=0x6;if(dateExceptions[_0x2cdafb]===_0x71e76b(0x2e0)){_0x5b1bd8[_0x71e76b(0x33f)]['display']=_0x71e76b(0x351);return;}const _0x2a58b3=availabilityPattern[_0x32987c]||[],_0x216b5e=0x18-_0x2a58b3[_0x71e76b(0x29a)],_0xb41752=_0x216b5e*0x3c,_0x499cb9=sessions['filter'](_0x5ddd14=>_0x5ddd14[_0x71e76b(0x286)]===_0x2cdafb&&_0x5ddd14['status']!==_0x71e76b(0x274));if(_0x499cb9[_0x71e76b(0x29a)]===0x0){_0x5b1bd8[_0x71e76b(0x33f)]['display']=_0x71e76b(0x351);return;}let _0x222eec=_0x499cb9[_0x71e76b(0x25b)](_0x55cae5=>{const _0x3684eb=_0x71e76b,[_0x360c5e,_0x223684]=_0x55cae5[_0x3684eb(0x213)][_0x3684eb(0x30c)](':')[_0x3684eb(0x25b)](Number),[_0x3086e0,_0x2921bd]=_0x55cae5[_0x3684eb(0x24c)][_0x3684eb(0x30c)](':')[_0x3684eb(0x25b)](Number);return[_0x360c5e*0x3c+_0x223684,_0x3086e0*0x3c+_0x2921bd];});_0x222eec[_0x71e76b(0x326)]((_0x12e406,_0x4a8117)=>_0x12e406[0x0]-_0x4a8117[0x0]);let _0xb4397=[];if(_0x222eec['length']>0x0){let _0x417f93=_0x222eec[0x0];for(let _0xfefafc=0x1;_0xfefafc<_0x222eec['length'];_0xfefafc++){_0x222eec[_0xfefafc][0x0]<_0x417f93[0x1]?_0x417f93[0x1]=Math[_0x71e76b(0x2d7)](_0x417f93[0x1],_0x222eec[_0xfefafc][0x1]):(_0xb4397[_0x71e76b(0x2e6)](_0x417f93),_0x417f93=_0x222eec[_0xfefafc]);}_0xb4397[_0x71e76b(0x2e6)](_0x417f93);}let _0x281380=0x0;_0xb4397[_0x71e76b(0x216)](_0x4c269d=>_0x281380+=_0x4c269d[0x1]-_0x4c269d[0x0]),_0x5b1bd8['style'][_0x71e76b(0x1fe)]=_0x71e76b(0x279);const _0x381440=_0x5b1bd8[_0x71e76b(0x309)](_0x71e76b(0x31d));if(_0xb41752===0x0){_0x381440[_0x71e76b(0x33f)][_0x71e76b(0x20a)]=_0x71e76b(0x34b),_0x381440[_0x71e76b(0x33f)][_0x71e76b(0x23b)]=_0x71e76b(0x2d1);return;}const _0x3f9524=_0x281380/_0xb41752*0x64;console['log']('['+_0x2cdafb+_0x71e76b(0x2e4)+_0x216b5e+_0x71e76b(0x27c)+_0x281380+_0x71e76b(0x333)+_0x3f9524[_0x71e76b(0x22f)](0x1)+'%'),_0x3f9524>0x64?(_0x381440[_0x71e76b(0x33f)]['width']='100%',_0x381440[_0x71e76b(0x33f)][_0x71e76b(0x23b)]='var(--acc-red)'):(_0x381440[_0x71e76b(0x33f)][_0x71e76b(0x20a)]=_0x3f9524+'%',_0x381440[_0x71e76b(0x33f)][_0x71e76b(0x23b)]=_0x71e76b(0x2fc));}function renderEventsForColumn(_0x3f6dc1,_0x4057ca,_0x15f016){const _0x170618=a2_0x389204,_0x4c97f6=sessions['filter'](_0x333f32=>_0x333f32[_0x170618(0x286)]===_0x4057ca),_0x4142de=_0x4c97f6[_0x170618(0x25b)](_0x5291e6=>{const _0x3f60aa=_0x170618,[_0x17ef2c,_0x5c0117]=_0x5291e6[_0x3f60aa(0x213)][_0x3f60aa(0x30c)](':')[_0x3f60aa(0x25b)](Number),[_0x5963e6,_0x3c2619]=_0x5291e6[_0x3f60aa(0x24c)][_0x3f60aa(0x30c)](':')['map'](Number);return{'data':_0x5291e6,'start':_0x17ef2c*0x3c+_0x5c0117,'end':_0x5963e6*0x3c+_0x3c2619,'colIndex':0x0};});_0x4142de[_0x170618(0x326)]((_0xe1286e,_0x820c73)=>{const _0xe62da4=_0x170618;if(_0xe1286e['start']!==_0x820c73['start'])return _0xe1286e['start']-_0x820c73['start'];return _0x820c73[_0xe62da4(0x24c)]-_0x820c73[_0xe62da4(0x213)]-(_0xe1286e['end']-_0xe1286e['start']);});const _0x11e643=[];_0x4142de['forEach'](_0x454dfc=>{const _0xd6c596=_0x170618;let _0x5806a7=![];for(let _0x5c05f4=0x0;_0x5c05f4<_0x11e643[_0xd6c596(0x29a)];_0x5c05f4++){const _0x367f1c=_0x11e643[_0x5c05f4],_0x54a6a0=_0x367f1c[_0x367f1c[_0xd6c596(0x29a)]-0x1];if(_0x454dfc[_0xd6c596(0x213)]>=_0x54a6a0[_0xd6c596(0x24c)]){_0x367f1c['push'](_0x454dfc),_0x454dfc[_0xd6c596(0x299)]=_0x5c05f4,_0x5806a7=!![];break;}}!_0x5806a7&&(_0x11e643[_0xd6c596(0x2e6)]([_0x454dfc]),_0x454dfc['colIndex']=_0x11e643['length']-0x1);}),_0x4142de['forEach'](_0x346637=>{const _0x1df112=_0x170618;let _0x5c2257=0x0;_0x4142de['forEach'](_0x342fc3=>{const _0x2453e8=a2_0x1d6d;if(Math['max'](_0x346637[_0x2453e8(0x213)],_0x342fc3[_0x2453e8(0x213)])<Math[_0x2453e8(0x29b)](_0x346637[_0x2453e8(0x24c)],_0x342fc3[_0x2453e8(0x24c)])){if(_0x342fc3[_0x2453e8(0x299)]>_0x5c2257)_0x5c2257=_0x342fc3['colIndex'];}});const _0x42716c=_0x5c2257+0x1,_0x10fedf=0x64/_0x42716c,_0x412888=_0x346637[_0x1df112(0x299)]*_0x10fedf,_0x22841b=createEventEl(_0x346637[_0x1df112(0x32a)]);_0x22841b[_0x1df112(0x33f)][_0x1df112(0x20a)]=_0x1df112(0x34a)+_0x10fedf+'%\x20-\x204px)',_0x22841b['style'][_0x1df112(0x31b)]=_0x1df112(0x34a)+_0x412888+'%\x20+\x202px)',_0x22841b[_0x1df112(0x33f)][_0x1df112(0x2a4)]=0xa+_0x346637[_0x1df112(0x299)],_0x10fedf<0x55&&_0x22841b[_0x1df112(0x369)][_0x1df112(0x2aa)]('mini'),_0x3f6dc1[_0x1df112(0x2a6)](_0x22841b);});}function createEventEl(_0x23aa64){const _0x48f2fc=a2_0x389204,[_0x34ec62,_0x2e310b]=_0x23aa64[_0x48f2fc(0x213)][_0x48f2fc(0x30c)](':')[_0x48f2fc(0x25b)](Number),[_0x51a2cd,_0x4672bb]=_0x23aa64['end'][_0x48f2fc(0x30c)](':')[_0x48f2fc(0x25b)](Number),_0x1680e7=(_0x34ec62*0x3c+_0x2e310b)/0x3c*GRID_H,_0x4237aa=(_0x51a2cd*0x3c+_0x4672bb-(_0x34ec62*0x3c+_0x2e310b))/0x3c*GRID_H,_0x44a7a7=document[_0x48f2fc(0x314)](_0x48f2fc(0x26e)),_0xe0c2ac=_0x23aa64['status']==='completed'?_0x48f2fc(0x2c7):'';_0x44a7a7[_0x48f2fc(0x361)]='event-card'+_0xe0c2ac,_0x44a7a7[_0x48f2fc(0x33f)][_0x48f2fc(0x2b7)]=_0x1680e7+'px',_0x44a7a7['style'][_0x48f2fc(0x321)]=Math[_0x48f2fc(0x2d7)](_0x4237aa,0x14)+'px';const _0x188196=clients[_0x48f2fc(0x267)](_0xbc218d=>_0x23aa64['clientId']&&String(_0xbc218d['id'])===String(_0x23aa64[_0x48f2fc(0x31c)])||_0xbc218d['name']===_0x23aa64[_0x48f2fc(0x2ad)]),_0x50cdff=_0x188196?_0x188196['color']:_0x48f2fc(0x271);_0x44a7a7[_0x48f2fc(0x33f)][_0x48f2fc(0x2fa)]=_0x50cdff,_0x44a7a7[_0x48f2fc(0x33f)][_0x48f2fc(0x35e)]=hexToRgba(_0x50cdff,0.85);let _0x173553='<div\x20class=\x22ev-title\x22>'+_0x23aa64['client']+_0x48f2fc(0x2b9)+_0x23aa64[_0x48f2fc(0x213)]+_0x48f2fc(0x2b0)+_0x23aa64['end']+_0x48f2fc(0x22b);return _0x23aa64[_0x48f2fc(0x21b)]&&(_0x173553+=_0x48f2fc(0x20d)),_0x23aa64['status']===_0x48f2fc(0x2b2)&&(_0x173553+='<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>'),_0x44a7a7[_0x48f2fc(0x228)]=_0x173553,_0x44a7a7[_0x48f2fc(0x26b)]=_0x585a86=>{const _0x2d71c0=_0x48f2fc;_0x585a86[_0x2d71c0(0x323)](),openEdit(_0x23aa64);},_0x44a7a7;}function attachLongPressHandler(_0x1454f0,_0x3e2af5){const _0x48f8e8=a2_0x389204;let _0x5e79c4=0x0,_0xc0b866=null;const _0x3ab072=_0x13ecaf=>{const _0x2d8902=a2_0x1d6d;if(_0x13ecaf[_0x2d8902(0x319)][_0x2d8902(0x359)](_0x2d8902(0x270)))return;isScrolling=![],_0x5e79c4=_0x13ecaf[_0x2d8902(0x229)]?_0x13ecaf[_0x2d8902(0x229)][0x0][_0x2d8902(0x2dd)]:_0x13ecaf[_0x2d8902(0x2dd)],_0xc0b866=setTimeout(()=>{const _0x3ab601=_0x2d8902;if(!isScrolling){navigator[_0x3ab601(0x203)]?.(0x32);const _0x12a3c1=_0x1454f0[_0x3ab601(0x2dc)](),_0x8fc181=Math[_0x3ab601(0x2ac)]((_0x5e79c4-_0x12a3c1[_0x3ab601(0x2b7)])/GRID_H);_0x3e2af5[_0x3ab601(0x1fc)](_0x8fc181,0x0),openAddSession(_0x3e2af5);}},0x1f4);},_0x20a0f1=()=>{isScrolling=!![],clearTimeout(_0xc0b866);},_0x16fdaa=()=>{clearTimeout(_0xc0b866);};_0x1454f0[_0x48f8e8(0x360)](_0x48f8e8(0x2c5),_0x3ab072,{'passive':!![]}),_0x1454f0[_0x48f8e8(0x360)](_0x48f8e8(0x302),_0x20a0f1,{'passive':!![]}),_0x1454f0[_0x48f8e8(0x360)](_0x48f8e8(0x336),_0x16fdaa),_0x1454f0[_0x48f8e8(0x360)](_0x48f8e8(0x26f),_0x3ab072),_0x1454f0[_0x48f8e8(0x360)]('mousemove',_0x20a0f1),_0x1454f0[_0x48f8e8(0x360)](_0x48f8e8(0x1ed),_0x16fdaa);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x269c6d=a2_0x389204,_0x147b34=document[_0x269c6d(0x22e)](_0x269c6d(0x341)),_0x285be3=_0x147b34['scrollLeft'],_0x4703d6=_0x147b34[_0x269c6d(0x371)],_0xac9e99=_0x147b34[_0x269c6d(0x295)];if(_0x4703d6-(_0x285be3+_0xac9e99)<0x12c){const _0x5a598f=endOffset;endOffset+=0xe,renderDayRange(_0x5a598f+0x1,endOffset),reRenderBlocks();}if(_0x285be3<0x12c){const _0x1977c6=startOffset;startOffset-=0xe,prependDays(startOffset,_0x1977c6-0x1),_0x147b34[_0x269c6d(0x340)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x4ecd5e,_0x544138){const _0x343e7a=a2_0x389204,_0x52c362=document['getElementById'](_0x343e7a(0x311)),_0x1bd0d3=document['getElementById'](_0x343e7a(0x363)),_0x23c4c2=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1eb7fd=new Date();_0x1eb7fd['setHours'](0x0,0x0,0x0,0x0);const _0x89995b=getLocalDateStr(new Date()),_0x268846=document[_0x343e7a(0x258)](),_0x1f3ef7=document[_0x343e7a(0x258)]();for(let _0x3c52af=_0x4ecd5e;_0x3c52af<=_0x544138;_0x3c52af++){const _0x3e90de=new Date(_0x1eb7fd);_0x3e90de[_0x343e7a(0x325)](_0x3e90de[_0x343e7a(0x2d2)]()+_0x3c52af);const _0x256dcb=getLocalDateStr(_0x3e90de);let _0x25684d=_0x3e90de[_0x343e7a(0x28c)]()-0x1;if(_0x25684d===-0x1)_0x25684d=0x6;const _0x423bb4=_0x256dcb===_0x89995b,_0x15feba=document[_0x343e7a(0x314)]('div');_0x15feba[_0x343e7a(0x361)]=_0x343e7a(0x320)+(_0x423bb4?'today':''),_0x15feba['id']=_0x343e7a(0x222)+_0x256dcb,_0x15feba[_0x343e7a(0x294)]('data-date',_0x256dcb),_0x15feba[_0x343e7a(0x228)]=_0x343e7a(0x1e7)+_0x23c4c2[_0x25684d]+'</div><div\x20class=\x22dch-num\x22>'+_0x3e90de[_0x343e7a(0x2d2)]()+_0x343e7a(0x238)+_0x256dcb+_0x343e7a(0x28d),_0x15feba[_0x343e7a(0x26b)]=()=>openDayOptions(_0x256dcb,_0x23c4c2[_0x25684d]+'\x20'+_0x3e90de['getDate']()),_0x268846[_0x343e7a(0x2a6)](_0x15feba);const _0x566317=document[_0x343e7a(0x314)](_0x343e7a(0x26e));_0x566317[_0x343e7a(0x361)]=_0x343e7a(0x220)+(_0x423bb4?_0x343e7a(0x22c):''),_0x566317[_0x343e7a(0x294)](_0x343e7a(0x285),_0x256dcb),_0x566317[_0x343e7a(0x294)](_0x343e7a(0x210),_0x25684d),renderEventsForColumn(_0x566317,_0x256dcb,_0x25684d),attachLongPressHandler(_0x566317,_0x3e90de),_0x1f3ef7['appendChild'](_0x566317),updateDayStats(_0x256dcb);}_0x52c362[_0x343e7a(0x261)](_0x268846,_0x52c362['firstChild']),_0x1bd0d3['insertBefore'](_0x1f3ef7,_0x1bd0d3[_0x343e7a(0x309)](_0x343e7a(0x352)));}function validateAppointment(_0x130c69,_0x4082da,_0x291195,_0x4c4d82,_0x47e6b4){const _0x157859=a2_0x389204,[_0x10c03c,_0x4a8887]=_0x4082da[_0x157859(0x30c)](':')[_0x157859(0x25b)](Number),[_0x38c774,_0x59bdfc]=_0x291195[_0x157859(0x30c)](':')[_0x157859(0x25b)](Number),_0x4ebfa8=_0x10c03c*0x3c+_0x4a8887,_0x1a0ff3=_0x38c774*0x3c+_0x59bdfc,_0x7cd32=String(_0x47e6b4);let _0x2735e6=![],_0x39e661='';for(let _0x218a62 of sessions){if(_0x218a62[_0x157859(0x286)]!==_0x130c69)continue;if(_0x218a62[_0x157859(0x1f8)]===_0x157859(0x274))continue;if(_0x4c4d82&&String(_0x218a62['id'])===String(_0x4c4d82))continue;const [_0x152dc2,_0x5b0538]=_0x218a62[_0x157859(0x213)][_0x157859(0x30c)](':')[_0x157859(0x25b)](Number),[_0x14b70f,_0x36ee2a]=_0x218a62[_0x157859(0x24c)][_0x157859(0x30c)](':')[_0x157859(0x25b)](Number),_0x2406d9=_0x152dc2*0x3c+_0x5b0538,_0x3d3d81=_0x14b70f*0x3c+_0x36ee2a;if(Math[_0x157859(0x2d7)](_0x4ebfa8,_0x2406d9)<Math['min'](_0x1a0ff3,_0x3d3d81)){if(_0x218a62[_0x157859(0x31c)]&&String(_0x218a62[_0x157859(0x31c)])===_0x7cd32)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0x218a62['client']+_0x157859(0x25e)};_0x2735e6=!![],_0x39e661=_0x218a62[_0x157859(0x2ad)];}}if(_0x2735e6)return{'valid':!![],'warning':_0x157859(0x283)+_0x39e661};return{'valid':!![]};}function updateDateDisplay(){const _0x22f885=a2_0x389204,_0x5ee282=document['getElementById'](_0x22f885(0x209))[_0x22f885(0x21e)],_0x4a2371=document[_0x22f885(0x22e)](_0x22f885(0x204));if(!_0x5ee282){_0x4a2371['textContent']='';return;}const [_0x1f0326,_0x482705,_0xc21d90]=_0x5ee282[_0x22f885(0x30c)]('-')[_0x22f885(0x25b)](Number),_0x38d623=new Date(_0x1f0326,_0x482705-0x1,_0xc21d90),_0x2f3c2c={'weekday':_0x22f885(0x272),'day':_0x22f885(0x2e2),'month':'long','year':_0x22f885(0x2e2)};let _0x2d362b=_0x38d623[_0x22f885(0x247)](_0x22f885(0x268),_0x2f3c2c);_0x2d362b=_0x2d362b['charAt'](0x0)[_0x22f885(0x2af)]()+_0x2d362b['slice'](0x1),_0x4a2371[_0x22f885(0x303)]=_0x2d362b;}function autoSetEndTime(){const _0xf79ff2=a2_0x389204,_0x2584d5=document[_0xf79ff2(0x22e)](_0xf79ff2(0x227))[_0xf79ff2(0x21e)];if(!_0x2584d5)return;const [_0x4dffd3,_0x18e5eb]=_0x2584d5[_0xf79ff2(0x30c)](':')[_0xf79ff2(0x25b)](Number);let _0x9b25b6=_0x4dffd3+0x1;if(_0x9b25b6>0x17)_0x9b25b6=0x0;const _0x3b9e1b=String(_0x9b25b6)[_0xf79ff2(0x282)](0x2,'0')+':'+String(_0x18e5eb)[_0xf79ff2(0x282)](0x2,'0');document['getElementById']('inpEnd')[_0xf79ff2(0x21e)]=_0x3b9e1b;}function populateClientSelect(){const _0x1bbc45=a2_0x389204,_0x4d30cd=document[_0x1bbc45(0x22e)](_0x1bbc45(0x280));_0x4d30cd[_0x1bbc45(0x228)]='';if(clients[_0x1bbc45(0x29a)]===0x0){const _0x1c0c29=document[_0x1bbc45(0x314)](_0x1bbc45(0x353));_0x1c0c29[_0x1bbc45(0x23a)]=_0x1bbc45(0x2e3),_0x4d30cd['appendChild'](_0x1c0c29);return;}clients['forEach'](_0x29d531=>{const _0x597f34=_0x1bbc45,_0x163c56=document[_0x597f34(0x314)](_0x597f34(0x353));_0x163c56[_0x597f34(0x21e)]=_0x29d531[_0x597f34(0x33e)],_0x163c56['textContent']=_0x29d531['name'],_0x4d30cd['appendChild'](_0x163c56);});}function openActionSheet(_0x3d81d3){const _0x511078=a2_0x389204,_0x33bbe7=document[_0x511078(0x22e)](_0x511078(0x307)),_0x47beeb=document[_0x511078(0x22e)]('actionSheetOverlay'),_0x924e13=document[_0x511078(0x22e)](_0x511078(0x278)),_0x2d3b03=document['getElementById'](_0x511078(0x245)),_0x493bc4=document[_0x511078(0x22e)](_0x511078(0x30f));_0x47beeb[_0x511078(0x369)][_0x511078(0x2aa)](_0x511078(0x2c6)),_0x33bbe7[_0x511078(0x369)]['add']('open');if(_0x3d81d3==='save')_0x924e13['textContent']='–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏',_0x2d3b03[_0x511078(0x303)]=_0x511078(0x2e7),_0x2d3b03[_0x511078(0x26b)]=()=>{const _0x2802a8=_0x511078;closeActionSheet(),updateSeriesBatch(_0x2802a8(0x35a),tempSessionData);},_0x493bc4[_0x511078(0x303)]=_0x511078(0x265),_0x493bc4[_0x511078(0x26b)]=()=>{const _0x57b85b=_0x511078;closeActionSheet(),updateSeriesBatch(_0x57b85b(0x343),tempSessionData);};else _0x3d81d3===_0x511078(0x233)&&(_0x924e13[_0x511078(0x303)]='–£–¥–∞–ª–µ–Ω–∏–µ',_0x2d3b03[_0x511078(0x303)]='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x2d3b03[_0x511078(0x361)]=_0x511078(0x365),_0x2d3b03['onclick']=()=>{const _0x11d1e4=_0x511078;closeActionSheet(),commitDelete(_0x11d1e4(0x35a),sessions['find'](_0x5e582a=>_0x5e582a['id']===editingId));},_0x493bc4['textContent']='–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ',_0x493bc4['className']=_0x511078(0x36e),_0x493bc4[_0x511078(0x26b)]=()=>{const _0x5cee14=_0x511078;closeActionSheet(),commitDelete(_0x5cee14(0x343),sessions['find'](_0x33a41c=>_0x33a41c['id']===editingId));});}function closeActionSheet(){const _0x5b893e=a2_0x389204;document['getElementById'](_0x5b893e(0x307))[_0x5b893e(0x369)][_0x5b893e(0x332)](_0x5b893e(0x317)),document['getElementById'](_0x5b893e(0x27b))['classList'][_0x5b893e(0x332)](_0x5b893e(0x2c6));}function openSettings(){const _0x803947=a2_0x389204;openSheet(_0x803947(0x2ca));}function saveCoachSettings(){const _0x263102=a2_0x389204,_0x454445=document[_0x263102(0x22e)]('settingCancelWindow')[_0x263102(0x21e)];localStorage[_0x263102(0x1f6)]('uc_settings_cancel_window',_0x454445),console[_0x263102(0x2ab)](_0x263102(0x27d),_0x454445),DataManager[_0x263102(0x23d)](_0x263102(0x35c),{'settings':{'cancel_window':_0x454445}})[_0x263102(0x316)](_0xfd3351=>{const _0x43a677=_0x263102;console[_0x43a677(0x310)](_0x43a677(0x370),_0xfd3351),showToast(_0x43a677(0x284),![]);});}function loadCoachSettings(){const _0x36ff53=a2_0x389204,_0x26ad6c=localStorage[_0x36ff53(0x2a0)](_0x36ff53(0x1f3));_0x26ad6c&&(document[_0x36ff53(0x22e)](_0x36ff53(0x346))['value']=_0x26ad6c);}function openRangesSheet(){const _0x198660=a2_0x389204;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x198660(0x2f5));}function addRange(){const _0x20a5d3=a2_0x389204,_0x303a23=document[_0x20a5d3(0x22e)](_0x20a5d3(0x2b4))[_0x20a5d3(0x21e)],_0x2d7987=document['getElementById'](_0x20a5d3(0x1f0))[_0x20a5d3(0x21e)],_0xac2f94=document[_0x20a5d3(0x22e)](_0x20a5d3(0x242))[_0x20a5d3(0x21e)],_0x2db4ed=document[_0x20a5d3(0x22e)](_0x20a5d3(0x200))['value'];if(!_0x303a23||!_0x2d7987||!_0xac2f94||!_0x2db4ed)return alert(_0x20a5d3(0x30a));const _0x4be8ba=_0x303a23+'T'+_0x2d7987,_0x10260f=_0xac2f94+'T'+_0x2db4ed;if(_0x4be8ba>=_0x10260f)return alert(_0x20a5d3(0x337));specialRanges[_0x20a5d3(0x2e6)]({'start':_0x4be8ba,'end':_0x10260f}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x20a5d3(0x23d)]('save_settings',{'settings':{'ranges':specialRanges}});}function deleteRange(_0x40ba1d){const _0x1bc805=a2_0x389204;specialRanges[_0x1bc805(0x225)](_0x40ba1d,0x1),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x1bc805(0x23d)](_0x1bc805(0x35c),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0xbf46e7=a2_0x389204;document['getElementById'](_0xbf46e7(0x2b4))[_0xbf46e7(0x21e)]='',document[_0xbf46e7(0x22e)](_0xbf46e7(0x1f0))[_0xbf46e7(0x21e)]='00:00',document[_0xbf46e7(0x22e)](_0xbf46e7(0x242))['value']='',document['getElementById'](_0xbf46e7(0x200))[_0xbf46e7(0x21e)]=_0xbf46e7(0x232);}function renderRangesList(){const _0xfd8304=a2_0x389204,_0x4096f1=document['getElementById'](_0xfd8304(0x2ea));_0x4096f1[_0xfd8304(0x228)]='';if(!specialRanges['length']){_0x4096f1[_0xfd8304(0x228)]=_0xfd8304(0x349);return;}specialRanges[_0xfd8304(0x216)]((_0x1b3a37,_0x54a77b)=>{const _0x35a9d5=_0xfd8304,_0x342d6c=document['createElement'](_0x35a9d5(0x26e));_0x342d6c['className']=_0x35a9d5(0x235);const _0x51b9e9=_0x58f167=>{const _0x3a691a=_0x35a9d5,_0x54094b=new Date(_0x58f167);return _0x54094b[_0x3a691a(0x2d2)]()+'.'+String(_0x54094b[_0x3a691a(0x23f)]()+0x1)[_0x3a691a(0x282)](0x2,'0')+'\x20'+String(_0x54094b[_0x3a691a(0x231)]())['padStart'](0x2,'0')+':'+String(_0x54094b[_0x3a691a(0x26a)]())[_0x3a691a(0x282)](0x2,'0');};_0x342d6c[_0x35a9d5(0x228)]=_0x35a9d5(0x315)+_0x51b9e9(_0x1b3a37['start'])+'\x20‚Äî\x20'+_0x51b9e9(_0x1b3a37[_0x35a9d5(0x24c)])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange('+_0x54a77b+_0x35a9d5(0x29c),_0x4096f1[_0x35a9d5(0x2a6)](_0x342d6c);});}function scrollToToday(){const _0x5cf5fa=a2_0x389204,_0x506795=getLocalDateStr(new Date()),_0x5cd43c=document[_0x5cf5fa(0x22e)]('header-'+_0x506795),_0x4f1b2e=document[_0x5cf5fa(0x22e)]('matrixViewport');if(_0x5cd43c&&_0x4f1b2e){const _0x482c68=_0x4f1b2e[_0x5cf5fa(0x295)],_0x560e2e=_0x5cd43c[_0x5cf5fa(0x25f)],_0x49b73b=_0x5cd43c['offsetWidth'];_0x4f1b2e[_0x5cf5fa(0x340)]=_0x560e2e-_0x482c68/0x2+_0x49b73b/0x2,_0x4f1b2e[_0x5cf5fa(0x31e)]=0x9*GRID_H;}}function onScroll(){const _0x40835c=a2_0x389204,_0x3723be=document['getElementById'](_0x40835c(0x341)),_0x42bbba=document[_0x40835c(0x1fd)](_0x40835c(0x2f8));for(let _0x1a2fb4 of _0x42bbba)if(_0x1a2fb4[_0x40835c(0x25f)]>=_0x3723be[_0x40835c(0x340)]){const _0x5a9bcd=new Date(_0x1a2fb4['getAttribute']('data-date'));document[_0x40835c(0x22e)](_0x40835c(0x2c4))[_0x40835c(0x303)]=_0x5a9bcd['toLocaleString']('ru',{'month':_0x40835c(0x272)})[_0x40835c(0x2af)]()+'\x20'+_0x5a9bcd[_0x40835c(0x28f)]();break;}}function showToast(_0x54177d,_0x110256=![]){const _0x120df5=a2_0x389204,_0x1f5028=document['getElementById'](_0x120df5(0x35b));_0x1f5028[_0x120df5(0x361)]=_0x120df5(0x257)+(_0x110256?_0x120df5(0x2db):''),document[_0x120df5(0x22e)]('toastTitle')[_0x120df5(0x303)]=_0x110256?_0x120df5(0x350):'–ò–Ω—Ñ–æ',document[_0x120df5(0x22e)](_0x120df5(0x240))[_0x120df5(0x303)]=_0x54177d,_0x1f5028['classList']['add']('show'),setTimeout(()=>{const _0x458abc=_0x120df5;_0x1f5028[_0x458abc(0x369)][_0x458abc(0x332)](_0x458abc(0x27a));},0xbb8);}function openDayOptions(_0x424303,_0x2be4a3){const _0x476bde=a2_0x389204;selectedDayForOptions=_0x424303,document[_0x476bde(0x22e)]('dayOptionsTitle')['textContent']=_0x2be4a3,openSheet(_0x476bde(0x226));}function toggleDayOff(){const _0x5bcedd=a2_0x389204;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x5bcedd(0x2e0),reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager[_0x5bcedd(0x23d)](_0x5bcedd(0x35c),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x2cf4fb=a2_0x389204;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x2cf4fb(0x358)](),DataManager[_0x2cf4fb(0x23d)](_0x2cf4fb(0x35c),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x3070be){const _0x3cb91f=a2_0x389204;document[_0x3cb91f(0x22e)]('overlay')[_0x3cb91f(0x369)][_0x3cb91f(0x2aa)](_0x3cb91f(0x2c6)),document[_0x3cb91f(0x22e)](_0x3070be)['classList']['add'](_0x3cb91f(0x317));}function closeAllSheets(){const _0x505624=a2_0x389204;document[_0x505624(0x22e)](_0x505624(0x2ef))[_0x505624(0x369)]['remove'](_0x505624(0x2c6)),document[_0x505624(0x1fd)]('.sheet')[_0x505624(0x216)](_0x401e5c=>_0x401e5c[_0x505624(0x369)][_0x505624(0x332)](_0x505624(0x317)));}function openPatternEditor(){const _0x5f2ce7=a2_0x389204;closeAllSheets(),document[_0x5f2ce7(0x22e)]('patternEditor')[_0x5f2ce7(0x369)][_0x5f2ce7(0x2aa)](_0x5f2ce7(0x317)),renderPatternEditor();}function closePatternEditor(){const _0x4398ae=a2_0x389204;document['getElementById'](_0x4398ae(0x330))['classList'][_0x4398ae(0x332)](_0x4398ae(0x317));}function savePattern(){const _0x392f06=a2_0x389204;document['getElementById']('patternEditor')[_0x392f06(0x369)]['remove']('open'),reRenderBlocks(),DataManager[_0x392f06(0x358)](),DataManager['fetchFromServer'](_0x392f06(0x35c),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0xcc05d4=a2_0x389204,_0x2f72e9=document[_0xcc05d4(0x22e)]('peGrid');_0x2f72e9[_0xcc05d4(0x228)]='';const _0x44d9a7=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x6d233c=document[_0xcc05d4(0x314)](_0xcc05d4(0x26e));_0x6d233c[_0xcc05d4(0x361)]=_0xcc05d4(0x277),_0x2f72e9['appendChild'](_0x6d233c),_0x44d9a7[_0xcc05d4(0x216)]((_0x14b4de,_0x1c452c)=>{const _0x46c26a=_0xcc05d4,_0x357fc8=document[_0x46c26a(0x314)](_0x46c26a(0x26e));_0x357fc8[_0x46c26a(0x361)]=_0x46c26a(0x296),_0x357fc8[_0x46c26a(0x228)]=_0x14b4de+_0x46c26a(0x25a),_0x357fc8[_0x46c26a(0x26b)]=()=>toggleColPattern(_0x1c452c),_0x2f72e9[_0x46c26a(0x2a6)](_0x357fc8);});for(let _0x85e86c=0x0;_0x85e86c<0x18;_0x85e86c++){const _0x559dfd=document[_0xcc05d4(0x314)](_0xcc05d4(0x26e));_0x559dfd[_0xcc05d4(0x361)]='pe-time-label',_0x559dfd[_0xcc05d4(0x228)]=_0xcc05d4(0x243)+String(_0x85e86c)[_0xcc05d4(0x282)](0x2,'0')+':00',_0x559dfd[_0xcc05d4(0x26b)]=()=>toggleRowPattern(_0x85e86c),_0x2f72e9[_0xcc05d4(0x2a6)](_0x559dfd);for(let _0x4b2377=0x0;_0x4b2377<0x7;_0x4b2377++){const _0x9be9e5=document[_0xcc05d4(0x314)](_0xcc05d4(0x26e)),_0x3de9ae=(availabilityPattern[_0x4b2377]||[])[_0xcc05d4(0x348)](_0x85e86c),_0x33b684=!_0x3de9ae;_0x9be9e5[_0xcc05d4(0x361)]=_0xcc05d4(0x20e)+(_0x33b684?'active':''),_0x9be9e5['onclick']=()=>toggleSinglePattern(_0x4b2377,_0x85e86c),_0x2f72e9[_0xcc05d4(0x2a6)](_0x9be9e5);}}}function toggleSinglePattern(_0x323fff,_0x17942e){const _0x3cf827=a2_0x389204;if(!availabilityPattern[_0x323fff])availabilityPattern[_0x323fff]=[];const _0xe62f07=availabilityPattern[_0x323fff],_0x457d94=_0xe62f07[_0x3cf827(0x22d)](_0x17942e);_0x457d94===-0x1?_0xe62f07[_0x3cf827(0x2e6)](_0x17942e):_0xe62f07[_0x3cf827(0x225)](_0x457d94,0x1),renderPatternEditor();}function toggleColPattern(_0x351868){const _0x513d0f=a2_0x389204;if(!availabilityPattern[_0x351868])availabilityPattern[_0x351868]=[];const _0x289055=availabilityPattern[_0x351868];_0x289055['length']===0x0?availabilityPattern[_0x351868]=Array[_0x513d0f(0x1ec)]({'length':0x18},(_0x345691,_0x1018c0)=>_0x1018c0):availabilityPattern[_0x351868]=[],renderPatternEditor();}function toggleRowPattern(_0x2d7313){const _0x2882eb=a2_0x389204;let _0x128355=!![];for(let _0x471e6d=0x0;_0x471e6d<0x7;_0x471e6d++){if((availabilityPattern[_0x471e6d]||[])[_0x2882eb(0x348)](_0x2d7313)){_0x128355=![];break;}}for(let _0x34dc33=0x0;_0x34dc33<0x7;_0x34dc33++){if(!availabilityPattern[_0x34dc33])availabilityPattern[_0x34dc33]=[];const _0xc296f7=availabilityPattern[_0x34dc33][_0x2882eb(0x22d)](_0x2d7313);if(_0x128355){if(_0xc296f7===-0x1)availabilityPattern[_0x34dc33][_0x2882eb(0x2e6)](_0x2d7313);}else{if(_0xc296f7!==-0x1)availabilityPattern[_0x34dc33][_0x2882eb(0x225)](_0xc296f7,0x1);}}renderPatternEditor();}function renderPCol(_0xc93f28,_0xbbc0af){const _0x1c394e=a2_0x389204;_0xc93f28['innerHTML']='';const _0x46544c=Math[_0x1c394e(0x236)](_0xc93f28[_0x1c394e(0x25f)]);(availabilityPattern[_0xbbc0af]||[])['forEach'](_0x5e52e3=>{const _0x107cf7=_0x1c394e,_0x4dc654=document[_0x107cf7(0x314)](_0x107cf7(0x26e));_0x4dc654[_0x107cf7(0x361)]=_0x107cf7(0x2c2);const _0x29dc1e=_0x5e52e3*GRID_H;_0x4dc654[_0x107cf7(0x33f)][_0x107cf7(0x2b7)]=_0x29dc1e+'px',_0x4dc654[_0x107cf7(0x33f)][_0x107cf7(0x327)]='-'+_0x46544c+_0x107cf7(0x1ef)+_0x29dc1e+'px',_0x4dc654[_0x107cf7(0x26b)]=_0x72858b=>{const _0x228615=_0x107cf7;_0x72858b[_0x228615(0x323)](),toggleSinglePattern(_0xbbc0af,_0x5e52e3);},_0xc93f28['appendChild'](_0x4dc654);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x5b8e36=a2_0x389204,_0x320ca0=new Date(),_0x50876d=document[_0x5b8e36(0x22e)]('globalTimeLine'),_0x164294=document['getElementById'](_0x5b8e36(0x27f)),_0x3e2bf7=(_0x320ca0['getHours']()*0x3c+_0x320ca0[_0x5b8e36(0x26a)]())/0x3c*GRID_H;_0x50876d[_0x5b8e36(0x33f)][_0x5b8e36(0x2b7)]=_0x3e2bf7+'px',_0x50876d[_0x5b8e36(0x33f)][_0x5b8e36(0x1fe)]='block',_0x164294['textContent']=String(_0x320ca0['getHours']())[_0x5b8e36(0x282)](0x2,'0')+':'+String(_0x320ca0[_0x5b8e36(0x26a)]())[_0x5b8e36(0x282)](0x2,'0'),_0x164294['style']['display']='block',_0x164294['style'][_0x5b8e36(0x2b7)]=_0x3e2bf7+'px';}document[a2_0x389204(0x360)](a2_0x389204(0x2d8),init);function openDayOptions(_0xb6e332){const _0x19a705=a2_0x389204;selectedDayForOptions=_0xb6e332;const _0x4b10ee=new Date(_0xb6e332),_0x5b66c8={'weekday':_0x19a705(0x272),'day':_0x19a705(0x2e2),'month':'long','year':_0x19a705(0x2e2)},_0x1e4a5d=_0x4b10ee[_0x19a705(0x247)](_0x19a705(0x268),_0x5b66c8);document[_0x19a705(0x22e)]('doDateHeader')[_0x19a705(0x303)]=_0x1e4a5d[_0x19a705(0x288)](0x0)['toUpperCase']()+_0x1e4a5d[_0x19a705(0x355)](0x1);let _0x58f9f3=_0x4b10ee[_0x19a705(0x28c)]()-0x1;if(_0x58f9f3===-0x1)_0x58f9f3=0x6;const _0x40a44f=availabilityPattern[_0x58f9f3]||[],_0x50514f=0x18-_0x40a44f[_0x19a705(0x29a)],_0x3abbae=_0x50514f*0x3c,_0xe16ce0=sessions[_0x19a705(0x36d)](_0x34f786=>_0x34f786['dateStr']===_0xb6e332&&_0x34f786[_0x19a705(0x1f8)]!=='cancelled');let _0x17ab6e=_0xe16ce0[_0x19a705(0x25b)](_0x3fd083=>{const _0x4b419b=_0x19a705,[_0xdac749,_0x130688]=_0x3fd083[_0x4b419b(0x213)][_0x4b419b(0x30c)](':')[_0x4b419b(0x25b)](Number),[_0x524519,_0xbc8d2]=_0x3fd083['end'][_0x4b419b(0x30c)](':')[_0x4b419b(0x25b)](Number);return[_0xdac749*0x3c+_0x130688,_0x524519*0x3c+_0xbc8d2];});_0x17ab6e[_0x19a705(0x326)]((_0x552463,_0x4cbc20)=>_0x552463[0x0]-_0x4cbc20[0x0]);let _0x52880f=[];if(_0x17ab6e[_0x19a705(0x29a)]>0x0){let _0x15bcb4=_0x17ab6e[0x0];for(let _0x563bf2=0x1;_0x563bf2<_0x17ab6e[_0x19a705(0x29a)];_0x563bf2++){_0x17ab6e[_0x563bf2][0x0]<_0x15bcb4[0x1]?_0x15bcb4[0x1]=Math[_0x19a705(0x2d7)](_0x15bcb4[0x1],_0x17ab6e[_0x563bf2][0x1]):(_0x52880f[_0x19a705(0x2e6)](_0x15bcb4),_0x15bcb4=_0x17ab6e[_0x563bf2]);}_0x52880f[_0x19a705(0x2e6)](_0x15bcb4);}let _0x5ad31d=0x0;_0x52880f[_0x19a705(0x216)](_0x1f7689=>_0x5ad31d+=_0x1f7689[0x1]-_0x1f7689[0x0]),document['getElementById'](_0x19a705(0x1f2))['textContent']=formatMinsToHrs(_0x3abbae),document[_0x19a705(0x22e)](_0x19a705(0x262))[_0x19a705(0x303)]=formatMinsToHrs(_0x5ad31d);const _0x38d7ae=_0x3abbae>0x0?Math[_0x19a705(0x236)](_0x5ad31d/_0x3abbae*0x64):0x0,_0x33c597=document[_0x19a705(0x22e)](_0x19a705(0x354));_0x33c597['textContent']=_0x38d7ae+'%';const _0x116a5b=document[_0x19a705(0x22e)](_0x19a705(0x345));if(_0x38d7ae>0x64)_0x33c597['style']['color']=_0x19a705(0x2d1),_0x116a5b[_0x19a705(0x33f)][_0x19a705(0x2f3)]=_0x19a705(0x36b);else _0x38d7ae>0x50?(_0x33c597['style'][_0x19a705(0x301)]=_0x19a705(0x335),_0x116a5b[_0x19a705(0x33f)][_0x19a705(0x2f3)]=_0x19a705(0x224)):(_0x33c597[_0x19a705(0x33f)][_0x19a705(0x301)]='var(--acc-green)',_0x116a5b[_0x19a705(0x33f)][_0x19a705(0x2f3)]=_0x19a705(0x2ae));const _0x153d9b=document['getElementById'](_0x19a705(0x2c9));_0x153d9b[_0x19a705(0x228)]='';_0xe16ce0[_0x19a705(0x29a)]===0x0?_0x153d9b[_0x19a705(0x228)]=_0x19a705(0x2ff):(_0xe16ce0[_0x19a705(0x326)]((_0x48505e,_0x360d2d)=>_0x48505e[_0x19a705(0x213)][_0x19a705(0x2b6)](_0x360d2d[_0x19a705(0x213)])),_0xe16ce0[_0x19a705(0x216)](_0x5b93f3=>{const _0x1c25b7=_0x19a705,_0x459d6c=clients[_0x1c25b7(0x267)](_0x296954=>_0x296954[_0x1c25b7(0x33e)]===_0x5b93f3[_0x1c25b7(0x2ad)]),_0x3d4ef0=_0x459d6c?_0x459d6c[_0x1c25b7(0x301)]:_0x1c25b7(0x25d),_0x1c011f=_0x5b93f3[_0x1c25b7(0x1f8)]===_0x1c25b7(0x2b2),_0x1b2a3c=_0x1c011f?_0x1c25b7(0x289):'',_0xc43762=document[_0x1c25b7(0x314)](_0x1c25b7(0x26e));_0xc43762[_0x1c25b7(0x361)]=_0x1c25b7(0x1fb),_0xc43762[_0x1c25b7(0x33f)][_0x1c25b7(0x2fa)]=_0x3d4ef0,_0xc43762[_0x1c25b7(0x228)]=_0x1c25b7(0x250)+_0x5b93f3['start']+_0x1c25b7(0x2b0)+_0x5b93f3[_0x1c25b7(0x24c)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5b93f3[_0x1c25b7(0x2ad)]+_0x1c25b7(0x25c)+_0x1b2a3c+_0x1c25b7(0x305),_0x153d9b['appendChild'](_0xc43762);}));const _0x36c44d=document[_0x19a705(0x22e)](_0x19a705(0x2e5)),_0xaee025=dateExceptions[_0xb6e332]==='off';_0xaee025?(_0x36c44d['textContent']='–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º',_0x36c44d['className']=_0x19a705(0x2a9),_0x36c44d['style'][_0x19a705(0x301)]=_0x19a705(0x291),_0x36c44d[_0x19a705(0x33f)]['background']=_0x19a705(0x306)):(_0x36c44d[_0x19a705(0x303)]=_0x19a705(0x273),_0x36c44d['className']='btn-primary\x20btn-danger',_0x36c44d[_0x19a705(0x33f)]['color']=_0x19a705(0x2d1),_0x36c44d[_0x19a705(0x33f)][_0x19a705(0x23b)]=_0x19a705(0x2ee)),openSheet(_0x19a705(0x226));}let currentAnPeriod=a2_0x389204(0x322);function openAnalytics(){const _0x39f93a=a2_0x389204,_0x39de8f=document[_0x39f93a(0x309)]('.period-switch\x20.p-btn');setAnalyticsPeriod(_0x39f93a(0x322),_0x39de8f),closeAllSheets(),openSheet(_0x39f93a(0x26d));}function setAnalyticsPeriod(_0x34df46,_0x251987){const _0x113611=a2_0x389204;currentAnPeriod=_0x34df46,document[_0x113611(0x1fd)]('.period-switch\x20.p-btn')[_0x113611(0x216)](_0x2bde0f=>_0x2bde0f['classList'][_0x113611(0x332)](_0x113611(0x2c6)));if(_0x251987)_0x251987[_0x113611(0x369)]['add'](_0x113611(0x2c6));const _0x405685=document['getElementById'](_0x113611(0x33a));_0x405685[_0x113611(0x33f)][_0x113611(0x1fe)]=_0x34df46===_0x113611(0x264)?_0x113611(0x279):_0x113611(0x351);const _0x6f7145=new Date();let _0x502043=new Date(),_0xa4b85a=new Date();if(_0x34df46===_0x113611(0x322))_0x502043=getStartOfWeek(_0x6f7145),_0xa4b85a=new Date(_0x502043),_0xa4b85a[_0x113611(0x325)](_0xa4b85a[_0x113611(0x2d2)]()+0x6);else{if(_0x34df46===_0x113611(0x2f0))_0x502043=new Date(_0x6f7145[_0x113611(0x28f)](),_0x6f7145['getMonth'](),0x1),_0xa4b85a=new Date(_0x6f7145['getFullYear'](),_0x6f7145['getMonth']()+0x1,0x0);else{!document['getElementById']('anStart')[_0x113611(0x21e)]&&(document[_0x113611(0x22e)]('anStart')[_0x113611(0x21e)]=getLocalDateStr(_0x6f7145),document[_0x113611(0x22e)](_0x113611(0x2fd))[_0x113611(0x21e)]=getLocalDateStr(_0x6f7145));refreshAnalytics();return;}}document[_0x113611(0x22e)](_0x113611(0x338))['value']=getLocalDateStr(_0x502043),document[_0x113611(0x22e)](_0x113611(0x2fd))[_0x113611(0x21e)]=getLocalDateStr(_0xa4b85a),refreshAnalytics();}function refreshAnalytics(){const _0x5db943=a2_0x389204,_0x4bac29=document[_0x5db943(0x22e)](_0x5db943(0x338))[_0x5db943(0x21e)],_0x48537f=document['getElementById'](_0x5db943(0x2fd))['value'];if(!_0x4bac29||!_0x48537f)return;const _0x824aaf=sessions[_0x5db943(0x36d)](_0x569e71=>_0x569e71[_0x5db943(0x286)]>=_0x4bac29&&_0x569e71[_0x5db943(0x286)]<=_0x48537f&&_0x569e71[_0x5db943(0x1f8)]!=='cancelled'),_0x1f8596=_0x824aaf[_0x5db943(0x29a)],_0x42238e=_0x824aaf['filter'](_0x1e3744=>_0x1e3744[_0x5db943(0x1f8)]==='completed')[_0x5db943(0x29a)],_0x34da5a=_0x1f8596>0x0?Math[_0x5db943(0x236)](_0x42238e/_0x1f8596*0x64):0x0;document[_0x5db943(0x22e)](_0x5db943(0x1f4))[_0x5db943(0x303)]=_0x34da5a+'%',document[_0x5db943(0x22e)](_0x5db943(0x2cb))['textContent']=_0x42238e+_0x5db943(0x367)+_0x1f8596+_0x5db943(0x30e);const _0x1dd82e=document['getElementById']('anDonutCircle'),_0x416902=0x2*Math['PI']*0x23,_0xcf1204=_0x416902-_0x34da5a/0x64*_0x416902;_0x1dd82e['style']['strokeDashoffset']=_0xcf1204;const _0x2f883d={};_0x824aaf['forEach'](_0x119e9d=>{const _0x524b79=_0x5db943;if(!_0x2f883d[_0x119e9d[_0x524b79(0x2ad)]]){const _0x5c9bf3=clients[_0x524b79(0x267)](_0x4275aa=>_0x4275aa[_0x524b79(0x33e)]===_0x119e9d[_0x524b79(0x2ad)]);_0x2f883d[_0x119e9d['client']]={'total':0x0,'done':0x0,'color':_0x5c9bf3?_0x5c9bf3['color']:_0x524b79(0x25d)};}_0x2f883d[_0x119e9d['client']][_0x524b79(0x1ee)]++;if(_0x119e9d[_0x524b79(0x1f8)]===_0x524b79(0x2b2))_0x2f883d[_0x119e9d['client']][_0x524b79(0x33b)]++;});const _0x277649=document['getElementById'](_0x5db943(0x1ff));_0x277649[_0x5db943(0x228)]='';const _0x43d3ed=Object[_0x5db943(0x2ce)](_0x2f883d)['sort']((_0x54bb6c,_0xae6ef9)=>_0xae6ef9[0x1][_0x5db943(0x1ee)]-_0x54bb6c[0x1][_0x5db943(0x1ee)]);if(_0x43d3ed[_0x5db943(0x29a)]===0x0){_0x277649['innerHTML']=_0x5db943(0x33c);return;}_0x43d3ed['forEach'](([_0x3613e8,_0xd2d6c9])=>{const _0x104d03=_0x5db943,_0x49cd1f=Math[_0x104d03(0x236)](_0xd2d6c9['done']/_0xd2d6c9[_0x104d03(0x1ee)]*0x64),_0x8ba650=document[_0x104d03(0x314)](_0x104d03(0x26e));_0x8ba650['className']=_0x104d03(0x36a),_0x8ba650[_0x104d03(0x33f)]['borderLeftColor']=_0xd2d6c9[_0x104d03(0x301)],_0x8ba650[_0x104d03(0x228)]=_0x104d03(0x324)+_0x3613e8+_0x104d03(0x28e)+_0xd2d6c9[_0x104d03(0x33b)]+_0x104d03(0x2f9)+_0xd2d6c9[_0x104d03(0x1ee)]+_0x104d03(0x2a5)+_0x49cd1f+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x277649[_0x104d03(0x2a6)](_0x8ba650);});}function formatMinsToHrs(_0x12d46d){const _0x109bf7=a2_0x389204;if(_0x12d46d===0x0)return'0';const _0x421402=Math[_0x109bf7(0x2ac)](_0x12d46d/0x3c),_0x4bb034=_0x12d46d%0x3c;if(_0x4bb034===0x0)return _0x421402+'—á';return _0x421402+'—á\x20'+_0x4bb034+'–º';}