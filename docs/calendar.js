const a2_0x463793=a2_0x36a9;(function(_0x44e86f,_0x305a44){const _0x3c5bc8=a2_0x36a9,_0x13b8a7=_0x44e86f();while(!![]){try{const _0x3212fa=parseInt(_0x3c5bc8(0x2e7))/0x1*(-parseInt(_0x3c5bc8(0x17b))/0x2)+-parseInt(_0x3c5bc8(0x214))/0x3+parseInt(_0x3c5bc8(0x28f))/0x4*(-parseInt(_0x3c5bc8(0x2eb))/0x5)+parseInt(_0x3c5bc8(0x1d4))/0x6*(-parseInt(_0x3c5bc8(0x24a))/0x7)+-parseInt(_0x3c5bc8(0x1c5))/0x8+-parseInt(_0x3c5bc8(0x2ce))/0x9+-parseInt(_0x3c5bc8(0x1da))/0xa*(-parseInt(_0x3c5bc8(0x26b))/0xb);if(_0x3212fa===_0x305a44)break;else _0x13b8a7['push'](_0x13b8a7['shift']());}catch(_0x238172){_0x13b8a7['push'](_0x13b8a7['shift']());}}}(a2_0x1b50,0xcb735),function initTMA(){const _0x427807=a2_0x36a9;try{const _0x2a8d88=window[_0x427807(0x196)]?.['WebApp'];if(!_0x2a8d88)return;_0x2a8d88[_0x427807(0x2c7)](),_0x2a8d88['expand']();try{_0x2a8d88[_0x427807(0x1cc)]('#050505'),_0x2a8d88[_0x427807(0x204)]&&_0x2a8d88[_0x427807(0x204)](_0x427807(0x242));}catch(_0x11506f){console[_0x427807(0x1ed)](_0x427807(0x2e8),_0x11506f);}try{_0x2a8d88[_0x427807(0x237)]&&(_0x2a8d88[_0x427807(0x237)][_0x427807(0x2ed)](),_0x2a8d88['BackButton'][_0x427807(0x1f3)](),_0x2a8d88[_0x427807(0x237)][_0x427807(0x281)](function(){const _0x439e2e=_0x427807;window['location'][_0x439e2e(0x206)]=_0x439e2e(0x21f);}));}catch(_0x181029){console['log'](_0x427807(0x1eb),_0x181029);}try{if(_0x2a8d88[_0x427807(0x1d7)])_0x2a8d88[_0x427807(0x1d7)]();}catch(_0x5d2443){}}catch(_0xaf33aa){console[_0x427807(0x272)](_0x427807(0x1e9),_0xaf33aa);}}());function isAdmin(){const _0x58c49b=a2_0x36a9;try{const _0x3cb296=Number(window[_0x58c49b(0x196)]?.['WebApp']?.[_0x58c49b(0x2bc)]?.[_0x58c49b(0x2a7)]?.['id']);return _0x3cb296===0xbaf7174;}catch(_0x904a08){return![];}}const APP_VERSION=a2_0x463793(0x2b1),API_URL=a2_0x463793(0x1e8),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x463793(0x2df),KEY_SESSIONS=a2_0x463793(0x2c1),KEY_SETTINGS=a2_0x463793(0x2d3);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0xc74d3a=a2_0x463793;return window[_0xc74d3a(0x196)]?.[_0xc74d3a(0x259)]?.[_0xc74d3a(0x2bc)]?.[_0xc74d3a(0x2a7)]?.['id']||_0xc74d3a(0x202);},'saveLocally'(){const _0x68cee9=a2_0x463793;try{localStorage[_0x68cee9(0x1ee)](KEY_CLIENTS,JSON[_0x68cee9(0x20c)](clients)),localStorage[_0x68cee9(0x1ee)](KEY_SESSIONS,JSON[_0x68cee9(0x20c)](sessions)),localStorage[_0x68cee9(0x1ee)](KEY_SETTINGS,JSON[_0x68cee9(0x20c)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x359067){console['error'](_0x68cee9(0x2bb),_0x359067);}},'loadLocal'(){const _0x49a9a1=a2_0x463793;try{const _0x270490=localStorage['getItem'](KEY_CLIENTS);if(_0x270490)clients=JSON[_0x49a9a1(0x2a4)](_0x270490);const _0x267c50=localStorage[_0x49a9a1(0x1fd)](KEY_SESSIONS);if(_0x267c50)sessions=JSON[_0x49a9a1(0x2a4)](_0x267c50);const _0x2ca719=localStorage[_0x49a9a1(0x1fd)](KEY_SETTINGS);if(_0x2ca719){const _0x2d5e8e=JSON['parse'](_0x2ca719);if(_0x2d5e8e[_0x49a9a1(0x284)])availabilityPattern=_0x2d5e8e[_0x49a9a1(0x284)];if(_0x2d5e8e[_0x49a9a1(0x240)])dateExceptions=_0x2d5e8e[_0x49a9a1(0x240)];if(_0x2d5e8e[_0x49a9a1(0x22c)])specialRanges=_0x2d5e8e[_0x49a9a1(0x22c)];}else{for(let _0x2920f8=0x0;_0x2920f8<0x7;_0x2920f8++)availabilityPattern[_0x2920f8]=Array[_0x49a9a1(0x179)]({'length':0xc},(_0x16e588,_0x3aec48)=>_0x3aec48+0x9);}}catch(_0x1fb90f){console['error'](_0x49a9a1(0x264),_0x1fb90f);}},async 'fetchFromServer'(_0x37ef2c,_0x2d57f5={}){const _0x5a601c=a2_0x463793,_0x495f86=window[_0x5a601c(0x196)]?.[_0x5a601c(0x259)],_0x1f744e={'action':_0x37ef2c,'init_data':_0x495f86?.[_0x5a601c(0x194)]||'',..._0x2d57f5};try{const _0x103cbe=await fetch(API_URL,{'method':_0x5a601c(0x2ac),'headers':{'Content-Type':'text/plain;charset=UTF-8'},'body':JSON[_0x5a601c(0x20c)](_0x1f744e)}),_0x2b1e6c=await _0x103cbe['json']();if(!_0x2b1e6c['ok'])throw new Error(_0x2b1e6c[_0x5a601c(0x272)]||_0x5a601c(0x19d));return _0x2b1e6c[_0x5a601c(0x1fa)];}catch(_0x3ce60f){console[_0x5a601c(0x272)]('[API\x20'+_0x37ef2c+']\x20Failed:',_0x3ce60f);throw _0x3ce60f;}},async 'syncLoad'(){const _0x3332bf=a2_0x463793,_0x20335f=new Date(),_0x356dde=_0x20335f[_0x3332bf(0x189)]()+'-'+String(_0x20335f[_0x3332bf(0x187)]()+0x1)[_0x3332bf(0x1a4)](0x2,'0'),_0x528955=new Date(_0x20335f);_0x528955[_0x3332bf(0x1e0)](_0x20335f[_0x3332bf(0x187)]()+0x1);const _0x489a2e=_0x528955['getFullYear']()+'-'+String(_0x528955[_0x3332bf(0x187)]()+0x1)[_0x3332bf(0x1a4)](0x2,'0'),_0x3e175a=Date[_0x3332bf(0x19e)]();console['log'](_0x3332bf(0x27b)+_0x356dde+',\x20'+_0x489a2e+_0x3332bf(0x193));try{const [_0x4653fe,_0x477f0d]=await Promise[_0x3332bf(0x1ec)]([this[_0x3332bf(0x26e)]('init_load',{'month_str':_0x356dde}),this[_0x3332bf(0x26e)](_0x3332bf(0x2dc),{'month_str':_0x489a2e})]);if(lastUserActionTime>_0x3e175a)return console[_0x3332bf(0x22b)](_0x3332bf(0x1ce)),![];return this[_0x3332bf(0x217)](_0x4653fe,_0x356dde),this[_0x3332bf(0x217)](_0x477f0d,_0x489a2e),this[_0x3332bf(0x197)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x18f9dd){console[_0x3332bf(0x272)](_0x18f9dd);throw _0x18f9dd;}},'mergeServerData'(_0x4c802f,_0x4342e6){const _0x281125=a2_0x463793;if(!_0x4c802f)return;_0x4c802f[_0x281125(0x18b)]&&Array[_0x281125(0x1a2)](_0x4c802f[_0x281125(0x18b)])&&(clients=_0x4c802f[_0x281125(0x18b)]);if(_0x4c802f[_0x281125(0x1fe)]){if(_0x4c802f[_0x281125(0x1fe)][_0x281125(0x284)])availabilityPattern=_0x4c802f[_0x281125(0x1fe)][_0x281125(0x284)];if(_0x4c802f[_0x281125(0x1fe)][_0x281125(0x240)])dateExceptions=_0x4c802f[_0x281125(0x1fe)]['exceptions'];if(_0x4c802f[_0x281125(0x1fe)][_0x281125(0x22c)])specialRanges=_0x4c802f['settings'][_0x281125(0x22c)];if(_0x4c802f['settings'][_0x281125(0x22f)]){localStorage['setItem'](_0x281125(0x293),_0x4c802f['settings']['cancel_window']);const _0x1db538=document['getElementById'](_0x281125(0x2b3));if(_0x1db538)_0x1db538[_0x281125(0x1ea)]=_0x4c802f[_0x281125(0x1fe)][_0x281125(0x22f)];}}_0x4c802f['calendar']&&(sessions=sessions['filter'](_0x3affc1=>!_0x3affc1[_0x281125(0x25e)]['startsWith'](_0x4342e6)),Object[_0x281125(0x218)](_0x4c802f[_0x281125(0x1d6)])['forEach'](_0x5a8b5e=>{const _0xfcd455=_0x281125,_0x46c78d=_0x4c802f[_0xfcd455(0x1d6)][_0x5a8b5e];_0x46c78d['forEach'](_0x5f52c3=>{const _0x11a30a=_0xfcd455,_0x4ffc78=clients[_0x11a30a(0x1d8)](_0x1e94d0=>String(_0x1e94d0['id'])===String(_0x5f52c3['c']));sessions[_0x11a30a(0x256)]({'id':_0x5f52c3['i'],'clientId':_0x5f52c3['c'],'client':_0x4ffc78?_0x4ffc78[_0x11a30a(0x198)]:_0x11a30a(0x2c5),'dateStr':_0x4342e6+'-'+_0x5a8b5e['padStart'](0x2,'0'),'start':_0x5f52c3['s'],'end':_0x5f52c3['e'],'status':_0x5f52c3['st']||_0x11a30a(0x1b7),'note':_0x5f52c3['n']||'','seriesId':_0x5f52c3[_0x11a30a(0x2be)]||null});});}));},async 'syncBatch'(_0x494e88){const _0x60e79c=a2_0x463793,_0x40580d=[...new Set(_0x494e88)],_0x57baa0=_0x40580d[_0x60e79c(0x228)](_0x415407=>{const _0x5c2022=_0x60e79c,_0x46a745=sessions['filter'](_0x4bc6fe=>_0x4bc6fe[_0x5c2022(0x25e)]===_0x415407&&_0x4bc6fe[_0x5c2022(0x1de)]!==_0x5c2022(0x25f)),_0x483202=_0x46a745[_0x5c2022(0x228)](_0xbe01b9=>({'i':_0xbe01b9['id'],'c':_0xbe01b9['clientId'],'s':_0xbe01b9['start'],'e':_0xbe01b9['end'],'st':_0xbe01b9['status'],'n':_0xbe01b9[_0x5c2022(0x2aa)],'sid':_0xbe01b9[_0x5c2022(0x188)]}));return{'date':_0x415407,'day_data':_0x483202};});if(_0x57baa0[_0x60e79c(0x2f3)]===0x0)return;console[_0x60e79c(0x1ed)](_0x60e79c(0x268)+_0x57baa0[_0x60e79c(0x2f3)]+_0x60e79c(0x220)),await this[_0x60e79c(0x26e)](_0x60e79c(0x265),{'changes':_0x57baa0});}};async function init(){const _0x1afec8=a2_0x463793;DataManager[_0x1afec8(0x1d5)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById'](_0x1afec8(0x2c6))[_0x1afec8(0x192)](_0x1afec8(0x238),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']()[_0x1afec8(0x1d9)](()=>{const _0x33573c=_0x1afec8;showToast(_0x33573c(0x225),!![]);})['catch'](_0x40f5fc=>{const _0x32c10a=_0x1afec8;showToast(_0x32c10a(0x23d),![]);});}function generateId(){const _0x17562f=a2_0x463793;return Date[_0x17562f(0x19e)]()[_0x17562f(0x20f)](0x24)+Math['random']()[_0x17562f(0x20f)](0x24)['substr'](0x2,0x5);}function toggleSeriesInput(){const _0x32a8ff=a2_0x463793,_0x2ef6b5=document[_0x32a8ff(0x270)](_0x32a8ff(0x2b8))[_0x32a8ff(0x183)],_0x57166b=document['getElementById'](_0x32a8ff(0x251));_0x57166b['style']['display']=_0x2ef6b5?_0x32a8ff(0x1f9):_0x32a8ff(0x17e);const _0x1efb4a=document[_0x32a8ff(0x270)](_0x32a8ff(0x27d));_0x1efb4a['style'][_0x32a8ff(0x2ca)]=_0x2ef6b5?_0x32a8ff(0x18a):'10px';}function openAddSession(_0x849bff){const _0x44494a=a2_0x463793;editingId=null,populateClientSelect(),document[_0x44494a(0x270)](_0x44494a(0x2cf))['textContent']=_0x44494a(0x20d),document[_0x44494a(0x270)]('btnDelete')[_0x44494a(0x2cc)][_0x44494a(0x22d)]='none',document[_0x44494a(0x270)](_0x44494a(0x23c))['style'][_0x44494a(0x22d)]=_0x44494a(0x17e);const _0xdbc03d=document[_0x44494a(0x270)](_0x44494a(0x27d)),_0x30c27d=document[_0x44494a(0x270)](_0x44494a(0x251));_0xdbc03d['style'][_0x44494a(0x22d)]=_0x44494a(0x2a8),_0xdbc03d[_0x44494a(0x2cc)][_0x44494a(0x2ca)]=_0x44494a(0x29e),document[_0x44494a(0x270)](_0x44494a(0x2b8))[_0x44494a(0x183)]=![],document['getElementById']('inpSeriesCount')['value']=0x4,_0x30c27d['style']['display']=_0x44494a(0x17e),document[_0x44494a(0x270)]('inpDate')[_0x44494a(0x1ea)]=getLocalDateStr(_0x849bff),updateDateDisplay();const _0x186861=_0x849bff[_0x44494a(0x25b)]();document['getElementById']('inpStart')[_0x44494a(0x1ea)]=String(_0x186861)[_0x44494a(0x1a4)](0x2,'0')+':00',document[_0x44494a(0x270)](_0x44494a(0x285))[_0x44494a(0x1ea)]=String(_0x186861+0x1)[_0x44494a(0x1a4)](0x2,'0')+_0x44494a(0x211),openSheet(_0x44494a(0x1c4));}function openEdit(_0x2e1bd2){const _0x21a9e3=a2_0x463793;editingId=_0x2e1bd2['id'],populateClientSelect(),document['getElementById'](_0x21a9e3(0x2cf))['textContent']=_0x21a9e3(0x287),document['getElementById']('btnDelete')['style'][_0x21a9e3(0x22d)]=_0x21a9e3(0x1f9);const _0x42978f=document[_0x21a9e3(0x270)](_0x21a9e3(0x23c));_0x42978f['style'][_0x21a9e3(0x22d)]=_0x21a9e3(0x2a8);_0x2e1bd2['status']===_0x21a9e3(0x1fb)?(_0x42978f['className']=_0x21a9e3(0x21e),_0x42978f['innerHTML']=_0x21a9e3(0x291)):(_0x42978f[_0x21a9e3(0x2bf)]=_0x21a9e3(0x1f2),_0x42978f[_0x21a9e3(0x28c)]=_0x21a9e3(0x263));const _0x2185a3=!!_0x2e1bd2[_0x21a9e3(0x188)];document['getElementById'](_0x21a9e3(0x27d))[_0x21a9e3(0x2cc)][_0x21a9e3(0x22d)]=_0x21a9e3(0x17e),document[_0x21a9e3(0x270)](_0x21a9e3(0x251))[_0x21a9e3(0x2cc)][_0x21a9e3(0x22d)]=_0x21a9e3(0x17e),_0x2185a3?(document['getElementById'](_0x21a9e3(0x1a1))[_0x21a9e3(0x2cc)][_0x21a9e3(0x22d)]='flex',document['getElementById']('patternInfoBox')[_0x21a9e3(0x295)](_0x21a9e3(0x224))[_0x21a9e3(0x283)]=_0x21a9e3(0x29a)):document[_0x21a9e3(0x270)](_0x21a9e3(0x1a1))[_0x21a9e3(0x2cc)]['display']='none',document[_0x21a9e3(0x270)](_0x21a9e3(0x266))['value']=_0x2e1bd2[_0x21a9e3(0x289)],document['getElementById'](_0x21a9e3(0x1e1))[_0x21a9e3(0x1ea)]=_0x2e1bd2[_0x21a9e3(0x25e)],document[_0x21a9e3(0x270)](_0x21a9e3(0x2ab))[_0x21a9e3(0x1ea)]=_0x2e1bd2[_0x21a9e3(0x26c)],document[_0x21a9e3(0x270)](_0x21a9e3(0x285))['value']=_0x2e1bd2[_0x21a9e3(0x2b2)],document[_0x21a9e3(0x270)]('inpNote')[_0x21a9e3(0x1ea)]=_0x2e1bd2[_0x21a9e3(0x2aa)]||'',updateDateDisplay(),openSheet(_0x21a9e3(0x1c4));}async function trySaveSession(){const _0x5b7cfa=a2_0x463793,_0x5eb49c=document[_0x5b7cfa(0x270)](_0x5b7cfa(0x266))[_0x5b7cfa(0x1ea)],_0x61cd73=document[_0x5b7cfa(0x270)](_0x5b7cfa(0x1e1))[_0x5b7cfa(0x1ea)],_0x39f9f5=document['getElementById']('inpStart')['value'],_0x51c154=document['getElementById'](_0x5b7cfa(0x285))[_0x5b7cfa(0x1ea)],_0x5a8dda=document[_0x5b7cfa(0x270)](_0x5b7cfa(0x2b4))[_0x5b7cfa(0x1ea)],_0x341981=document['getElementById'](_0x5b7cfa(0x2b8))[_0x5b7cfa(0x183)];let _0x43e061=0x4;if(_0x341981){const _0x351053=parseInt(document['getElementById'](_0x5b7cfa(0x1bd))[_0x5b7cfa(0x1ea)]);if(!_0x351053||_0x351053<0x2){showToast(_0x5b7cfa(0x20b),![]);return;}if(_0x351053>0x64){showToast('–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑',![]);return;}_0x43e061=_0x351053;}const _0x5a0ca9=clients[_0x5b7cfa(0x1d8)](_0x5f4f2a=>_0x5f4f2a['name']===_0x5eb49c);if(!_0x5a0ca9){showToast('–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞',![]);return;}const _0xe1a233=validateAppointment(_0x61cd73,_0x39f9f5,_0x51c154,editingId,_0x5a0ca9['id']);if(!_0xe1a233[_0x5b7cfa(0x20a)]){showToast(_0xe1a233[_0x5b7cfa(0x278)],![]);return;}_0xe1a233['warning']&&showToast(_0xe1a233[_0x5b7cfa(0x280)],![]);const _0x448ac4={'client':_0x5eb49c,'clientId':_0x5a0ca9['id'],'start':_0x39f9f5,'end':_0x51c154,'note':_0x5a8dda,'status':_0x5b7cfa(0x1b7)},_0x1a4ecb=editingId?sessions[_0x5b7cfa(0x1d8)](_0x15c9e7=>_0x15c9e7['id']===editingId):null;if(_0x1a4ecb&&_0x1a4ecb[_0x5b7cfa(0x188)]){tempSessionData={..._0x448ac4,'dateStr':_0x61cd73,'id':editingId,'seriesId':_0x1a4ecb[_0x5b7cfa(0x188)]},openActionSheet(_0x5b7cfa(0x248));return;}let _0x1d284a=null;if(!editingId)_0x1d284a=_0x5b7cfa(0x290);else{if(_0x1a4ecb){if(String(_0x1a4ecb['clientId'])!==String(_0x5a0ca9['id']))console[_0x5b7cfa(0x1ed)](_0x5b7cfa(0x239)),NotificationManager['send'](_0x5b7cfa(0x24d),_0x1a4ecb),_0x1d284a='create';else(_0x1a4ecb[_0x5b7cfa(0x26c)]!==_0x39f9f5||_0x1a4ecb[_0x5b7cfa(0x2b2)]!==_0x51c154||_0x1a4ecb['dateStr']!==_0x61cd73)&&(_0x1d284a=_0x5b7cfa(0x27f));}}if(!editingId&&_0x341981){createBatchSeries(_0x448ac4,_0x61cd73,_0x43e061),NotificationManager[_0x5b7cfa(0x1db)]('create',{..._0x448ac4,'dateStr':_0x61cd73});return;}lastUserActionTime=Date[_0x5b7cfa(0x19e)]();const _0xf6ce7={..._0x448ac4,'dateStr':_0x61cd73,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0xf6ce7),_0x1d284a&&NotificationManager['send'](_0x1d284a,_0xf6ce7);}function toggleSessionStatus(){const _0x3ebb7d=a2_0x463793;lastUserActionTime=Date[_0x3ebb7d(0x19e)]();const _0x3ec8e7=sessions[_0x3ebb7d(0x1d8)](_0x57fcf9=>_0x57fcf9['id']===editingId);if(!_0x3ec8e7)return;const _0x537a68=_0x3ec8e7[_0x3ebb7d(0x1de)]==='completed'?'planned':_0x3ebb7d(0x1fb);_0x3ec8e7[_0x3ebb7d(0x1de)]=_0x537a68,saveSingleSession(_0x3ec8e7),_0x537a68==='completed'&&NotificationManager['send'](_0x3ebb7d(0x1d3),_0x3ec8e7),showToast(_0x537a68==='completed'?'–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞':'–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω',!![]);}function validateAppointment(_0x1fa6a1,_0x1c5cfb,_0x4f6a06,_0x817ee5,_0x48a02e){const _0x20b73e=a2_0x463793,[_0x1781e6,_0x5324c5]=_0x1c5cfb[_0x20b73e(0x17d)](':')[_0x20b73e(0x228)](Number),[_0x216abf,_0x19e9fa]=_0x4f6a06[_0x20b73e(0x17d)](':')[_0x20b73e(0x228)](Number),_0x2c5a15=_0x1781e6*0x3c+_0x5324c5,_0x544a7d=_0x216abf*0x3c+_0x19e9fa,_0x1d17d7=String(_0x48a02e);let _0x333d18=![],_0x193726='';for(let _0x1e3bc9 of sessions){if(_0x1e3bc9['dateStr']!==_0x1fa6a1)continue;if(_0x1e3bc9[_0x20b73e(0x1de)]===_0x20b73e(0x236))continue;if(_0x817ee5&&String(_0x1e3bc9['id'])===String(_0x817ee5))continue;const [_0x31d0bc,_0x92cb99]=_0x1e3bc9['start'][_0x20b73e(0x17d)](':')['map'](Number),[_0x574959,_0x4eaedc]=_0x1e3bc9['end']['split'](':')[_0x20b73e(0x228)](Number),_0x1cfedf=_0x31d0bc*0x3c+_0x92cb99,_0x2491ea=_0x574959*0x3c+_0x4eaedc;if(Math[_0x20b73e(0x1a3)](_0x2c5a15,_0x1cfedf)<Math[_0x20b73e(0x17f)](_0x544a7d,_0x2491ea)){if(_0x1e3bc9[_0x20b73e(0x23b)]&&String(_0x1e3bc9[_0x20b73e(0x23b)])===_0x1d17d7)return{'valid':![],'msg':_0x20b73e(0x1cb)+_0x1e3bc9[_0x20b73e(0x289)]+_0x20b73e(0x1f0)};_0x333d18=!![],_0x193726=_0x1e3bc9[_0x20b73e(0x289)];}}if(_0x333d18)return{'valid':!![],'warning':_0x20b73e(0x2ee)+_0x193726};return{'valid':!![]};}function saveSingleSession(_0x511507){const _0x5613ff=a2_0x463793;if(editingId){const _0x46788c=sessions['findIndex'](_0x280064=>_0x280064['id']===editingId);if(_0x46788c!==-0x1)sessions[_0x46788c]=_0x511507;}else sessions[_0x5613ff(0x256)](_0x511507);afterSaveAction([_0x511507['dateStr']]);}function createBatchSeries(_0xf0e18f,_0x1d2747,_0x20b9f0){const _0x2b5d9a=a2_0x463793,_0x155099=generateId(),_0x3beff7=[],_0x150459=[];let _0x49cffd=0x0,_0x39f106=new Date(_0x1d2747);for(let _0x4e06ba=0x0;_0x4e06ba<_0x20b9f0;_0x4e06ba++){const _0x5336f2=getLocalDateStr(_0x39f106),_0x2f0ba4=validateAppointment(_0x5336f2,_0xf0e18f[_0x2b5d9a(0x26c)],_0xf0e18f[_0x2b5d9a(0x2b2)],null,_0xf0e18f[_0x2b5d9a(0x23b)]);if(!_0x2f0ba4[_0x2b5d9a(0x20a)])console[_0x2b5d9a(0x1ed)](_0x2b5d9a(0x18f)+_0x5336f2+':\x20Client\x20already\x20booked'),_0x49cffd++;else{const _0x2e069a={..._0xf0e18f,'id':generateId(),'dateStr':_0x5336f2,'seriesId':_0x155099};_0x150459[_0x2b5d9a(0x256)](_0x2e069a),_0x3beff7[_0x2b5d9a(0x256)](_0x5336f2);}_0x39f106['setDate'](_0x39f106[_0x2b5d9a(0x1f1)]()+0x7);}if(_0x150459[_0x2b5d9a(0x2f3)]===0x0){showToast('–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!',![]);return;}sessions[_0x2b5d9a(0x256)](..._0x150459),lastUserActionTime=Date[_0x2b5d9a(0x19e)]();let _0xda53d=_0x2b5d9a(0x1c3)+_0x150459[_0x2b5d9a(0x2f3)];_0x49cffd>0x0&&(_0xda53d+=_0x2b5d9a(0x226)+_0x49cffd+')'),showToast(_0xda53d,!![]),afterSaveAction(_0x3beff7);}function updateSeriesBatch(_0x282cbc,_0x1b8b96){const _0x4723e3=a2_0x463793,_0x1b24f7=[],_0xdc4acc=_0x1b8b96['seriesId'];if(_0x282cbc===_0x4723e3(0x200)){const _0x3d81a1={..._0x1b8b96,'seriesId':null},_0x341b80=sessions['findIndex'](_0x301e0d=>_0x301e0d['id']===_0x1b8b96['id']);if(_0x341b80!==-0x1)sessions[_0x341b80]=_0x3d81a1;_0x1b24f7[_0x4723e3(0x256)](_0x3d81a1[_0x4723e3(0x25e)]);}else{if(_0x282cbc===_0x4723e3(0x1ae)){const _0x24e554=_0x1b8b96['dateStr'];sessions[_0x4723e3(0x17a)]((_0x367c3d,_0x335676)=>{const _0x173ce6=_0x4723e3;_0x367c3d[_0x173ce6(0x188)]===_0xdc4acc&&_0x367c3d['dateStr']>=_0x24e554&&(sessions[_0x335676]={...sessions[_0x335676],'start':_0x1b8b96[_0x173ce6(0x26c)],'end':_0x1b8b96[_0x173ce6(0x2b2)],'note':_0x1b8b96['note'],'client':_0x1b8b96[_0x173ce6(0x289)],'clientId':_0x1b8b96['clientId']},_0x1b24f7[_0x173ce6(0x256)](_0x367c3d[_0x173ce6(0x25e)]));});}}afterSaveAction(_0x1b24f7);}function tryDeleteSession(){const _0x53c347=a2_0x463793,_0x56edad=sessions['find'](_0x1ee0bb=>_0x1ee0bb['id']===editingId);if(!_0x56edad)return;_0x56edad[_0x53c347(0x188)]?openActionSheet(_0x53c347(0x25c)):commitDelete('single',_0x56edad);}function commitDelete(_0x50ed76,_0x1ef931){const _0x235e22=a2_0x463793;lastUserActionTime=Date['now'](),NotificationManager[_0x235e22(0x1db)]('cancel',_0x1ef931);const _0x3fb8d1=[];if(_0x50ed76==='single')sessions=sessions[_0x235e22(0x2af)](_0x2b57de=>_0x2b57de['id']!==_0x1ef931['id']),_0x3fb8d1[_0x235e22(0x256)](_0x1ef931[_0x235e22(0x25e)]);else{if(_0x50ed76===_0x235e22(0x1ae)){const _0x4108ef=_0x1ef931[_0x235e22(0x25e)],_0x48a7a2=_0x1ef931[_0x235e22(0x188)];sessions[_0x235e22(0x17a)](_0x73f4da=>{const _0x474c03=_0x235e22;_0x73f4da[_0x474c03(0x188)]===_0x48a7a2&&_0x73f4da['dateStr']>=_0x4108ef&&_0x3fb8d1[_0x474c03(0x256)](_0x73f4da[_0x474c03(0x25e)]);}),sessions=sessions[_0x235e22(0x2af)](_0x175a2a=>!(_0x175a2a[_0x235e22(0x188)]===_0x48a7a2&&_0x175a2a[_0x235e22(0x25e)]>=_0x4108ef));}}afterSaveAction(_0x3fb8d1);}function afterSaveAction(_0x5a0935){const _0x2c6372=a2_0x463793;DataManager[_0x2c6372(0x197)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x2c6372(0x227)](_0x5a0935)['then'](()=>console['log'](_0x2c6372(0x235)))[_0x2c6372(0x1f6)](_0x72e669=>showToast(_0x2c6372(0x1f4),![]));}const NotificationManager={'formatDate'(_0x43bfaf){const _0x15e15d=a2_0x463793,_0x46b544=new Date(_0x43bfaf),_0x1b1b8d={'weekday':'long','day':_0x15e15d(0x1e5),'month':_0x15e15d(0x181)};let _0x25d9d3=_0x46b544['toLocaleDateString'](_0x15e15d(0x186),_0x1b1b8d);return _0x25d9d3[_0x15e15d(0x2b9)](0x0)[_0x15e15d(0x21b)]()+_0x25d9d3['slice'](0x1);},'getText'(_0x194659,_0x3bed85){const _0x509760=a2_0x463793,_0x3f8d57=this[_0x509760(0x2c8)](_0x3bed85[_0x509760(0x25e)]);switch(_0x194659){case _0x509760(0x290):return _0x509760(0x1ac)+(_0x509760(0x201)+_0x3f8d57+'\x0a')+('<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20'+_0x3bed85[_0x509760(0x26c)]+_0x509760(0x28b)+_0x3bed85[_0x509760(0x2b2)]+'\x0a\x0a')+_0x509760(0x222);case _0x509760(0x27f):return _0x509760(0x2d0)+_0x509760(0x2ef)+(_0x509760(0x18d)+_0x3bed85['start']+_0x509760(0x28b)+_0x3bed85[_0x509760(0x2b2)]+_0x509760(0x209))+(_0x509760(0x201)+_0x3f8d57);case'cancel':return'<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a'+(_0x509760(0x249)+_0x3f8d57+'\x20('+_0x3bed85[_0x509760(0x26c)]+_0x509760(0x294));case _0x509760(0x1d3):return _0x509760(0x180)+_0x509760(0x276)+_0x509760(0x23a);default:return'';}},async 'send'(_0x3d8a6a,_0x262183){const _0x496725=a2_0x463793;console[_0x496725(0x1ed)](_0x496725(0x27e),_0x3d8a6a,_0x262183);if(!_0x262183){console['error']('[Notify]\x20Error:\x20sessionData\x20is\x20null');return;}const _0x33f6bb=String(_0x262183[_0x496725(0x23b)]);console[_0x496725(0x1ed)](_0x496725(0x2a9),_0x33f6bb);if(!_0x262183['clientId']||_0x33f6bb===_0x496725(0x288)||_0x33f6bb===_0x496725(0x279)){console[_0x496725(0x272)](_0x496725(0x2a1));if(_0x262183['client']){const _0x29a614=clients['find'](_0x2fb03c=>_0x2fb03c[_0x496725(0x198)]===_0x262183[_0x496725(0x289)]);if(_0x29a614)return console[_0x496725(0x1ed)]('[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:',_0x29a614['id']),this[_0x496725(0x1db)](_0x3d8a6a,{..._0x262183,'clientId':_0x29a614['id']});}return;}if(_0x33f6bb[_0x496725(0x2f3)]<0x5){console['warn']('[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)',_0x33f6bb);return;}const _0x19f6aa=this[_0x496725(0x231)](_0x3d8a6a,_0x262183);if(!_0x19f6aa){console['error']('[Notify]\x20Error:\x20Text\x20generation\x20failed');return;}console[_0x496725(0x1ed)]('[Notify]\x20Sending\x20to\x20GAS\x20for\x20'+_0x33f6bb+_0x496725(0x193)),DataManager[_0x496725(0x26e)](_0x496725(0x19a),{'chatId':_0x33f6bb,'text':_0x19f6aa})[_0x496725(0x1d9)](_0x367ef0=>console['log'](_0x496725(0x1bc),_0x367ef0))[_0x496725(0x1f6)](_0x4ca6a6=>console[_0x496725(0x272)]('[Notify]\x20Network\x20Failed',_0x4ca6a6));}};function getLocalDateStr(_0x1469e7){const _0x57e709=a2_0x463793,_0x2897bb=_0x1469e7[_0x57e709(0x189)](),_0x22b13b=String(_0x1469e7[_0x57e709(0x187)]()+0x1)[_0x57e709(0x1a4)](0x2,'0'),_0x2f47e4=String(_0x1469e7[_0x57e709(0x1f1)]())['padStart'](0x2,'0');return _0x2897bb+'-'+_0x22b13b+'-'+_0x2f47e4;}function getDateStr(_0x291e79){const _0x1e98eb=a2_0x463793,_0x397eef=new Date();return _0x397eef[_0x1e98eb(0x1bf)](_0x397eef[_0x1e98eb(0x1f1)]()+_0x291e79),getLocalDateStr(_0x397eef);}function getStartOfWeek(_0x2a38a2){const _0x3bff48=a2_0x463793,_0x569e1f=(function(){let _0xbabc03=!![];return function(_0x359474,_0x5c38c8){const _0x414fbd=_0xbabc03?function(){if(_0x5c38c8){const _0x2b77bd=_0x5c38c8['apply'](_0x359474,arguments);return _0x5c38c8=null,_0x2b77bd;}}:function(){};return _0xbabc03=![],_0x414fbd;};}()),_0x10c6d1=_0x569e1f(this,function(){const _0x42754b=a2_0x36a9;return _0x10c6d1[_0x42754b(0x20f)]()[_0x42754b(0x262)]('(((.+)+)+)+$')[_0x42754b(0x20f)]()['constructor'](_0x10c6d1)[_0x42754b(0x262)](_0x42754b(0x258));});_0x10c6d1();const _0x102dd3=new Date(_0x2a38a2),_0x376137=_0x102dd3['getDay'](),_0x160d76=_0x102dd3[_0x3bff48(0x1f1)]()-_0x376137+(_0x376137===0x0?-0x6:0x1);return _0x102dd3[_0x3bff48(0x1bf)](_0x160d76),_0x102dd3[_0x3bff48(0x1a7)](0x0,0x0,0x0,0x0),_0x102dd3;}function hexToRgba(_0x56318c,_0x26de0a){const _0x3f0a66=a2_0x463793;if(!_0x56318c)return _0x3f0a66(0x2f0);let _0x2223f2=0x0,_0x11dd41=0x0,_0x58f4b8=0x0;if(_0x56318c['length']===0x4)_0x2223f2='0x'+_0x56318c[0x1]+_0x56318c[0x1],_0x11dd41='0x'+_0x56318c[0x2]+_0x56318c[0x2],_0x58f4b8='0x'+_0x56318c[0x3]+_0x56318c[0x3];else _0x56318c[_0x3f0a66(0x2f3)]===0x7&&(_0x2223f2='0x'+_0x56318c[0x1]+_0x56318c[0x2],_0x11dd41='0x'+_0x56318c[0x3]+_0x56318c[0x4],_0x58f4b8='0x'+_0x56318c[0x5]+_0x56318c[0x6]);return _0x3f0a66(0x241)+ +_0x2223f2+',\x20'+ +_0x11dd41+',\x20'+ +_0x58f4b8+',\x20'+_0x26de0a+')';}function renderTimeColumn(){const _0xe90455=a2_0x463793,_0x41c762=document[_0xe90455(0x270)](_0xe90455(0x185)),_0x371e8b=document['getElementById']('timeLineBadge');_0x41c762['innerHTML']='',_0x41c762['appendChild'](_0x371e8b);for(let _0x4e1f91=0x0;_0x4e1f91<0x18;_0x4e1f91++){const _0x2dfa0a=document[_0xe90455(0x2cd)]('div');_0x2dfa0a[_0xe90455(0x2bf)]='time-label';if(_0x4e1f91>0x0)_0x2dfa0a[_0xe90455(0x28c)]=_0xe90455(0x23f)+String(_0x4e1f91)[_0xe90455(0x1a4)](0x2,'0')+':00</span>';_0x41c762['appendChild'](_0x2dfa0a);}}function renderDayRange(_0x429365,_0x51f2fe){const _0x53e25f=a2_0x463793,_0x1f2920=document['getElementById'](_0x53e25f(0x29b)),_0x347000=document[_0x53e25f(0x270)]('gridColumns'),_0x417f41=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1be482=new Date();_0x1be482[_0x53e25f(0x1a7)](0x0,0x0,0x0,0x0);const _0x50bc09=getLocalDateStr(new Date());for(let _0x40a821=_0x429365;_0x40a821<=_0x51f2fe;_0x40a821++){const _0x233774=new Date(_0x1be482);_0x233774['setDate'](_0x233774[_0x53e25f(0x1f1)]()+_0x40a821);const _0x30560b=getLocalDateStr(_0x233774);let _0x23ec9c=_0x233774[_0x53e25f(0x2d2)]()-0x1;if(_0x23ec9c===-0x1)_0x23ec9c=0x6;const _0x26b29e=_0x30560b===_0x50bc09,_0x382091=document[_0x53e25f(0x2cd)](_0x53e25f(0x1b9));_0x382091[_0x53e25f(0x2bf)]='day-col-header\x20'+(_0x26b29e?_0x53e25f(0x2e2):''),_0x382091['id']='header-'+_0x30560b,_0x382091['setAttribute']('data-date',_0x30560b),_0x382091['innerHTML']='<div\x20class=\x22dch-day\x22>'+_0x417f41[_0x23ec9c]+_0x53e25f(0x24e)+_0x233774[_0x53e25f(0x1f1)]()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0x30560b+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x382091[_0x53e25f(0x254)]=()=>openDayOptions(_0x30560b,_0x417f41[_0x23ec9c]+'\x20'+_0x233774[_0x53e25f(0x1f1)]()),_0x1f2920[_0x53e25f(0x1e2)](_0x382091);const _0x522d99=document[_0x53e25f(0x2cd)](_0x53e25f(0x1b9));_0x522d99[_0x53e25f(0x2bf)]=_0x53e25f(0x28a)+(_0x26b29e?'today':''),_0x522d99['setAttribute']('data-date',_0x30560b),_0x522d99[_0x53e25f(0x2d4)](_0x53e25f(0x2d9),_0x23ec9c),renderEventsForColumn(_0x522d99,_0x30560b,_0x23ec9c),attachLongPressHandler(_0x522d99,_0x233774),_0x347000[_0x53e25f(0x1e2)](_0x522d99),updateDayStats(_0x30560b);}}function reRenderBlocks(){const _0x3dc0d4=a2_0x463793;document[_0x3dc0d4(0x2ba)](_0x3dc0d4(0x1ad))[_0x3dc0d4(0x17a)](_0x461222=>{const _0x3d68eb=_0x3dc0d4;_0x461222[_0x3d68eb(0x2ba)](_0x3d68eb(0x275))['forEach'](_0x1a1227=>_0x1a1227[_0x3d68eb(0x245)]());const _0x531bb0=_0x461222[_0x3d68eb(0x1e6)]('data-date'),_0x5f5045=parseInt(_0x461222[_0x3d68eb(0x1e6)](_0x3d68eb(0x2d9))),_0x9e09a9=Math['round'](_0x461222[_0x3d68eb(0x230)]);(availabilityPattern[_0x5f5045]||[])[_0x3d68eb(0x17a)](_0x53e0d3=>{const _0x5e9153=_0x3d68eb,_0x3c1e90=document[_0x5e9153(0x2cd)](_0x5e9153(0x1b9));_0x3c1e90[_0x5e9153(0x2bf)]=_0x5e9153(0x27a);const _0x477071=_0x53e0d3*GRID_H;_0x3c1e90['style']['top']=_0x477071+'px',_0x3c1e90[_0x5e9153(0x2cc)][_0x5e9153(0x1af)]='-'+_0x9e09a9+_0x5e9153(0x207)+_0x477071+'px',_0x461222[_0x5e9153(0x1e2)](_0x3c1e90);});if(specialRanges&&specialRanges[_0x3d68eb(0x2f3)]>0x0){const _0x2ad224=new Date(_0x531bb0+_0x3d68eb(0x2da))[_0x3d68eb(0x1cf)](),_0x54bdef=new Date(_0x531bb0+_0x3d68eb(0x1c9))[_0x3d68eb(0x1cf)]();specialRanges[_0x3d68eb(0x17a)](_0x4118b5=>{const _0x500049=_0x3d68eb,_0x3a2933=new Date(_0x4118b5[_0x500049(0x26c)])[_0x500049(0x1cf)](),_0x41d89e=new Date(_0x4118b5[_0x500049(0x2b2)])[_0x500049(0x1cf)](),_0xb737e=Math[_0x500049(0x1a3)](_0x2ad224,_0x3a2933),_0x31037f=Math['min'](_0x54bdef,_0x41d89e);if(_0xb737e<_0x31037f){if(_0xb737e<=_0x2ad224&&_0x31037f>=_0x54bdef-0xea60){if(!_0x461222[_0x500049(0x295)]('.day-off-overlay')){const _0x4365ec=document[_0x500049(0x2cd)]('div');_0x4365ec[_0x500049(0x2bf)]=_0x500049(0x2e4),_0x4365ec[_0x500049(0x2cc)][_0x500049(0x1af)]='-'+_0x9e09a9+_0x500049(0x2b0),_0x461222[_0x500049(0x1e2)](_0x4365ec);}}else{const _0x5072d1=(_0xb737e-_0x2ad224)/0x36ee80*GRID_H,_0x3893a9=(_0x31037f-_0xb737e)/0x36ee80*GRID_H,_0x8ac392=document['createElement'](_0x500049(0x1b9));_0x8ac392[_0x500049(0x2bf)]=_0x500049(0x22e),_0x8ac392[_0x500049(0x2cc)]['top']=_0x5072d1+'px',_0x8ac392[_0x500049(0x2cc)][_0x500049(0x1c0)]=_0x3893a9+'px',_0x8ac392['style'][_0x500049(0x1af)]='-'+_0x9e09a9+_0x500049(0x207)+_0x5072d1+'px',_0x461222[_0x500049(0x1e2)](_0x8ac392);}}});}if(dateExceptions[_0x531bb0]===_0x3d68eb(0x1d0)){if(!_0x461222[_0x3d68eb(0x295)](_0x3d68eb(0x232))){const _0x4ff46a=document[_0x3d68eb(0x2cd)]('div');_0x4ff46a['className']=_0x3d68eb(0x2e4),_0x4ff46a[_0x3d68eb(0x2cc)]['backgroundPosition']='-'+_0x9e09a9+'px\x200px',_0x461222[_0x3d68eb(0x1e2)](_0x4ff46a);}}renderEventsForColumn(_0x461222,_0x531bb0,_0x5f5045),updateDayStats(_0x531bb0);});}function updateAllDayStats(){const _0x4a6b47=a2_0x463793;document[_0x4a6b47(0x2ba)](_0x4a6b47(0x29d))['forEach'](_0x456f5c=>{const _0x5dddef=_0x4a6b47;updateDayStats(_0x456f5c[_0x5dddef(0x1e6)](_0x5dddef(0x255)));});}function updateDayStats(_0x2c3ab0){const _0x512e75=a2_0x463793,_0xacceff=document['getElementById'](_0x512e75(0x277)+_0x2c3ab0);if(!_0xacceff)return;const _0x11dc85=new Date(_0x2c3ab0);let _0x174ed3=_0x11dc85[_0x512e75(0x2d2)]()-0x1;if(_0x174ed3===-0x1)_0x174ed3=0x6;if(dateExceptions[_0x2c3ab0]===_0x512e75(0x1d0)){_0xacceff['style']['display']=_0x512e75(0x17e);return;}const _0x3c79b5=availabilityPattern[_0x174ed3]||[],_0x39b2f3=0x18-_0x3c79b5[_0x512e75(0x2f3)],_0x3f2867=_0x39b2f3*0x3c,_0x29f96a=sessions[_0x512e75(0x2af)](_0x5173aa=>_0x5173aa[_0x512e75(0x25e)]===_0x2c3ab0&&_0x5173aa[_0x512e75(0x1de)]!=='cancelled');if(_0x29f96a[_0x512e75(0x2f3)]===0x0){_0xacceff[_0x512e75(0x2cc)][_0x512e75(0x22d)]='none';return;}let _0x429e1b=_0x29f96a[_0x512e75(0x228)](_0x269e38=>{const _0x553387=_0x512e75,[_0x5311c9,_0xcc6515]=_0x269e38[_0x553387(0x26c)][_0x553387(0x17d)](':')[_0x553387(0x228)](Number),[_0x2f99bc,_0x16fb9a]=_0x269e38[_0x553387(0x2b2)][_0x553387(0x17d)](':')['map'](Number);return[_0x5311c9*0x3c+_0xcc6515,_0x2f99bc*0x3c+_0x16fb9a];});_0x429e1b[_0x512e75(0x1c7)]((_0x259ddf,_0x23102f)=>_0x259ddf[0x0]-_0x23102f[0x0]);let _0x4eef04=[];if(_0x429e1b[_0x512e75(0x2f3)]>0x0){let _0x10d48b=_0x429e1b[0x0];for(let _0xb7ae4a=0x1;_0xb7ae4a<_0x429e1b['length'];_0xb7ae4a++){_0x429e1b[_0xb7ae4a][0x0]<_0x10d48b[0x1]?_0x10d48b[0x1]=Math['max'](_0x10d48b[0x1],_0x429e1b[_0xb7ae4a][0x1]):(_0x4eef04['push'](_0x10d48b),_0x10d48b=_0x429e1b[_0xb7ae4a]);}_0x4eef04['push'](_0x10d48b);}let _0x501ce6=0x0;_0x4eef04[_0x512e75(0x17a)](_0x2d9896=>_0x501ce6+=_0x2d9896[0x1]-_0x2d9896[0x0]),_0xacceff['style'][_0x512e75(0x22d)]=_0x512e75(0x2a8);const _0x2faa3d=_0xacceff['querySelector']('.dch-stats-fill');if(_0x3f2867===0x0){_0x2faa3d['style'][_0x512e75(0x2d6)]='100%',_0x2faa3d[_0x512e75(0x2cc)][_0x512e75(0x2a5)]=_0x512e75(0x1c1);return;}const _0x3ec969=_0x501ce6/_0x3f2867*0x64;console[_0x512e75(0x1ed)]('['+_0x2c3ab0+']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20'+_0x39b2f3+_0x512e75(0x221)+_0x501ce6+_0x512e75(0x24c)+_0x3ec969[_0x512e75(0x246)](0x1)+'%'),_0x3ec969>0x64?(_0x2faa3d[_0x512e75(0x2cc)]['width']='100%',_0x2faa3d[_0x512e75(0x2cc)][_0x512e75(0x2a5)]=_0x512e75(0x1c1)):(_0x2faa3d[_0x512e75(0x2cc)][_0x512e75(0x2d6)]=_0x3ec969+'%',_0x2faa3d[_0x512e75(0x2cc)][_0x512e75(0x2a5)]='var(--acc-current)');}function renderEventsForColumn(_0x5a806e,_0x264871,_0x3eb758){const _0x31a028=a2_0x463793,_0x1425b0=sessions[_0x31a028(0x2af)](_0x1ab34e=>_0x1ab34e['dateStr']===_0x264871),_0x57766d=_0x1425b0[_0x31a028(0x228)](_0x39fac0=>{const _0x4dac0d=_0x31a028,[_0x478b94,_0x3eb04d]=_0x39fac0[_0x4dac0d(0x26c)][_0x4dac0d(0x17d)](':')[_0x4dac0d(0x228)](Number),[_0x471a2e,_0x2a9b65]=_0x39fac0[_0x4dac0d(0x2b2)][_0x4dac0d(0x17d)](':')['map'](Number);return{'data':_0x39fac0,'start':_0x478b94*0x3c+_0x3eb04d,'end':_0x471a2e*0x3c+_0x2a9b65,'colIndex':0x0};});_0x57766d[_0x31a028(0x1c7)]((_0x2c8bb1,_0xcecd6e)=>{const _0x2017de=_0x31a028;if(_0x2c8bb1[_0x2017de(0x26c)]!==_0xcecd6e[_0x2017de(0x26c)])return _0x2c8bb1['start']-_0xcecd6e[_0x2017de(0x26c)];return _0xcecd6e[_0x2017de(0x2b2)]-_0xcecd6e[_0x2017de(0x26c)]-(_0x2c8bb1[_0x2017de(0x2b2)]-_0x2c8bb1['start']);});const _0x31eba4=[];_0x57766d[_0x31a028(0x17a)](_0x532639=>{const _0x41bb5b=_0x31a028;let _0x213e69=![];for(let _0x189cdc=0x0;_0x189cdc<_0x31eba4[_0x41bb5b(0x2f3)];_0x189cdc++){const _0x1c6942=_0x31eba4[_0x189cdc],_0xf1ffb=_0x1c6942[_0x1c6942[_0x41bb5b(0x2f3)]-0x1];if(_0x532639[_0x41bb5b(0x26c)]>=_0xf1ffb[_0x41bb5b(0x2b2)]){_0x1c6942[_0x41bb5b(0x256)](_0x532639),_0x532639['colIndex']=_0x189cdc,_0x213e69=!![];break;}}!_0x213e69&&(_0x31eba4[_0x41bb5b(0x256)]([_0x532639]),_0x532639['colIndex']=_0x31eba4[_0x41bb5b(0x2f3)]-0x1);}),_0x57766d[_0x31a028(0x17a)](_0x5df719=>{const _0x187d6f=_0x31a028;let _0x1729d8=0x0;_0x57766d[_0x187d6f(0x17a)](_0x126429=>{const _0xf73423=_0x187d6f;if(Math['max'](_0x5df719[_0xf73423(0x26c)],_0x126429[_0xf73423(0x26c)])<Math[_0xf73423(0x17f)](_0x5df719[_0xf73423(0x2b2)],_0x126429[_0xf73423(0x2b2)])){if(_0x126429[_0xf73423(0x213)]>_0x1729d8)_0x1729d8=_0x126429[_0xf73423(0x213)];}});const _0x73387b=_0x1729d8+0x1,_0x7e93dc=0x64/_0x73387b,_0x457046=_0x5df719['colIndex']*_0x7e93dc,_0x5e0c74=createEventEl(_0x5df719['data']);_0x5e0c74[_0x187d6f(0x2cc)]['width']=_0x187d6f(0x2f2)+_0x7e93dc+_0x187d6f(0x2e5),_0x5e0c74[_0x187d6f(0x2cc)][_0x187d6f(0x2d1)]=_0x187d6f(0x2f2)+_0x457046+'%\x20+\x202px)',_0x5e0c74[_0x187d6f(0x2cc)][_0x187d6f(0x28d)]=0xa+_0x5df719['colIndex'],_0x7e93dc<0x55&&_0x5e0c74[_0x187d6f(0x2e6)][_0x187d6f(0x247)](_0x187d6f(0x1f5)),_0x5a806e[_0x187d6f(0x1e2)](_0x5e0c74);});}function createEventEl(_0xf1e56f){const _0x14946a=a2_0x463793,[_0x5c2c04,_0x5204c5]=_0xf1e56f[_0x14946a(0x26c)][_0x14946a(0x17d)](':')[_0x14946a(0x228)](Number),[_0x42403f,_0xacd31b]=_0xf1e56f[_0x14946a(0x2b2)]['split'](':')[_0x14946a(0x228)](Number),_0x4995bb=(_0x5c2c04*0x3c+_0x5204c5)/0x3c*GRID_H,_0x9464e=(_0x42403f*0x3c+_0xacd31b-(_0x5c2c04*0x3c+_0x5204c5))/0x3c*GRID_H,_0x1ae0af=document[_0x14946a(0x2cd)](_0x14946a(0x1b9)),_0x3282e1=_0xf1e56f[_0x14946a(0x1de)]===_0x14946a(0x1fb)?_0x14946a(0x2ad):'';_0x1ae0af[_0x14946a(0x2bf)]=_0x14946a(0x298)+_0x3282e1,_0x1ae0af['style'][_0x14946a(0x1e4)]=_0x4995bb+'px',_0x1ae0af[_0x14946a(0x2cc)][_0x14946a(0x1c0)]=Math[_0x14946a(0x1a3)](_0x9464e,0x14)+'px';const _0x507fb4=clients[_0x14946a(0x1d8)](_0x19bbaa=>_0xf1e56f[_0x14946a(0x23b)]&&String(_0x19bbaa['id'])===String(_0xf1e56f['clientId'])||_0x19bbaa[_0x14946a(0x198)]===_0xf1e56f['client']),_0xb4382f=_0x507fb4?_0x507fb4[_0x14946a(0x1f8)]:'#0a84ff';_0x1ae0af['style'][_0x14946a(0x18e)]=_0xb4382f,_0x1ae0af[_0x14946a(0x2cc)]['backgroundColor']=hexToRgba(_0xb4382f,0.85);let _0x4d311a=_0x14946a(0x2f4)+_0xf1e56f[_0x14946a(0x289)]+_0x14946a(0x1b4)+_0xf1e56f[_0x14946a(0x26c)]+_0x14946a(0x24b)+_0xf1e56f[_0x14946a(0x2b2)]+_0x14946a(0x2d8);return _0xf1e56f[_0x14946a(0x188)]&&(_0x4d311a+=_0x14946a(0x182)),_0xf1e56f[_0x14946a(0x1de)]===_0x14946a(0x1fb)&&(_0x4d311a+='<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>'),_0x1ae0af[_0x14946a(0x28c)]=_0x4d311a,_0x1ae0af[_0x14946a(0x254)]=_0x5d4daf=>{const _0x50c52f=_0x14946a;_0x5d4daf[_0x50c52f(0x2bd)](),openEdit(_0xf1e56f);},_0x1ae0af;}function attachLongPressHandler(_0x4aae5d,_0x584bc7){const _0x5ddb15=a2_0x463793;let _0x5bd37b=0x0,_0x2739c1=null;const _0x4ed1ee=_0x51dfba=>{const _0x5a4bde=a2_0x36a9;if(_0x51dfba[_0x5a4bde(0x1a9)]['closest'](_0x5a4bde(0x1b6)))return;isScrolling=![],_0x5bd37b=_0x51dfba[_0x5a4bde(0x26a)]?_0x51dfba[_0x5a4bde(0x26a)][0x0]['clientY']:_0x51dfba['clientY'],_0x2739c1=setTimeout(()=>{const _0x238626=_0x5a4bde;if(!isScrolling){navigator[_0x238626(0x2c3)]?.(0x32);const _0x1cf58f=_0x4aae5d['getBoundingClientRect'](),_0x56da5c=Math[_0x238626(0x2e1)]((_0x5bd37b-_0x1cf58f[_0x238626(0x1e4)])/GRID_H);_0x584bc7['setHours'](_0x56da5c,0x0),openAddSession(_0x584bc7);}},0x1f4);},_0x2da260=()=>{isScrolling=!![],clearTimeout(_0x2739c1);},_0x24fe5f=()=>{clearTimeout(_0x2739c1);};_0x4aae5d[_0x5ddb15(0x192)]('touchstart',_0x4ed1ee,{'passive':!![]}),_0x4aae5d[_0x5ddb15(0x192)]('touchmove',_0x2da260,{'passive':!![]}),_0x4aae5d['addEventListener']('touchend',_0x24fe5f),_0x4aae5d[_0x5ddb15(0x192)](_0x5ddb15(0x19f),_0x4ed1ee),_0x4aae5d[_0x5ddb15(0x192)](_0x5ddb15(0x1ef),_0x2da260),_0x4aae5d['addEventListener']('mouseup',_0x24fe5f);}function cancelLongPress(){}function handleInfiniteScroll(){const _0xcb33ed=a2_0x463793,_0x2e50e1=document[_0xcb33ed(0x270)](_0xcb33ed(0x2c6)),_0x38eb19=_0x2e50e1['scrollLeft'],_0x19e042=_0x2e50e1['scrollWidth'],_0x15882f=_0x2e50e1[_0xcb33ed(0x2e0)];if(_0x19e042-(_0x38eb19+_0x15882f)<0x12c){const _0x4a5493=endOffset;endOffset+=0xe,renderDayRange(_0x4a5493+0x1,endOffset),reRenderBlocks();}if(_0x38eb19<0x12c){const _0x5f4451=startOffset;startOffset-=0xe,prependDays(startOffset,_0x5f4451-0x1),_0x2e50e1[_0xcb33ed(0x229)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x2aaa85,_0x5b85f8){const _0x4b48c4=a2_0x463793,_0x301e4d=document[_0x4b48c4(0x270)]('daysHeaderTrack'),_0x4bc6e0=document['getElementById'](_0x4b48c4(0x257)),_0xf6e9b6=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0xf67092=new Date();_0xf67092[_0x4b48c4(0x1a7)](0x0,0x0,0x0,0x0);const _0x25a674=getLocalDateStr(new Date()),_0x387302=document['createDocumentFragment'](),_0x140654=document[_0x4b48c4(0x1b2)]();for(let _0x46880f=_0x2aaa85;_0x46880f<=_0x5b85f8;_0x46880f++){const _0x4d7252=new Date(_0xf67092);_0x4d7252[_0x4b48c4(0x1bf)](_0x4d7252[_0x4b48c4(0x1f1)]()+_0x46880f);const _0x268892=getLocalDateStr(_0x4d7252);let _0x57f676=_0x4d7252[_0x4b48c4(0x2d2)]()-0x1;if(_0x57f676===-0x1)_0x57f676=0x6;const _0x2dd704=_0x268892===_0x25a674,_0x4f8841=document[_0x4b48c4(0x2cd)](_0x4b48c4(0x1b9));_0x4f8841['className']=_0x4b48c4(0x2ec)+(_0x2dd704?_0x4b48c4(0x2e2):''),_0x4f8841['id']='header-'+_0x268892,_0x4f8841['setAttribute'](_0x4b48c4(0x255),_0x268892),_0x4f8841[_0x4b48c4(0x28c)]=_0x4b48c4(0x20e)+_0xf6e9b6[_0x57f676]+_0x4b48c4(0x24e)+_0x4d7252['getDate']()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0x268892+_0x4b48c4(0x1b8),_0x4f8841[_0x4b48c4(0x254)]=()=>openDayOptions(_0x268892,_0xf6e9b6[_0x57f676]+'\x20'+_0x4d7252[_0x4b48c4(0x1f1)]()),_0x387302['appendChild'](_0x4f8841);const _0x4ce875=document[_0x4b48c4(0x2cd)](_0x4b48c4(0x1b9));_0x4ce875[_0x4b48c4(0x2bf)]=_0x4b48c4(0x28a)+(_0x2dd704?_0x4b48c4(0x2e2):''),_0x4ce875[_0x4b48c4(0x2d4)](_0x4b48c4(0x255),_0x268892),_0x4ce875[_0x4b48c4(0x2d4)](_0x4b48c4(0x2d9),_0x57f676),renderEventsForColumn(_0x4ce875,_0x268892,_0x57f676),attachLongPressHandler(_0x4ce875,_0x4d7252),_0x140654['appendChild'](_0x4ce875),updateDayStats(_0x268892);}_0x301e4d[_0x4b48c4(0x1b0)](_0x387302,_0x301e4d[_0x4b48c4(0x25d)]),_0x4bc6e0[_0x4b48c4(0x1b0)](_0x140654,_0x4bc6e0[_0x4b48c4(0x295)](_0x4b48c4(0x271)));}function validateAppointment(_0x2bcbb9,_0x2353fd,_0x49df2d,_0x2c6d2b,_0x1708a7){const _0x3a1588=a2_0x463793,[_0x281753,_0x2441a2]=_0x2353fd[_0x3a1588(0x17d)](':')[_0x3a1588(0x228)](Number),[_0x3192b6,_0x5012cf]=_0x49df2d['split'](':')[_0x3a1588(0x228)](Number),_0x19adec=_0x281753*0x3c+_0x2441a2,_0x2ffb19=_0x3192b6*0x3c+_0x5012cf,_0x2d652e=String(_0x1708a7);let _0x128184=![],_0x48f433='';for(let _0x46fc60 of sessions){if(_0x46fc60[_0x3a1588(0x25e)]!==_0x2bcbb9)continue;if(_0x46fc60[_0x3a1588(0x1de)]==='cancelled')continue;if(_0x2c6d2b&&String(_0x46fc60['id'])===String(_0x2c6d2b))continue;const [_0x2a8ad5,_0x24a612]=_0x46fc60[_0x3a1588(0x26c)][_0x3a1588(0x17d)](':')['map'](Number),[_0x490061,_0xdbfddf]=_0x46fc60[_0x3a1588(0x2b2)][_0x3a1588(0x17d)](':')[_0x3a1588(0x228)](Number),_0x358221=_0x2a8ad5*0x3c+_0x24a612,_0x31b28e=_0x490061*0x3c+_0xdbfddf;if(Math[_0x3a1588(0x1a3)](_0x19adec,_0x358221)<Math[_0x3a1588(0x17f)](_0x2ffb19,_0x31b28e)){if(_0x46fc60[_0x3a1588(0x23b)]&&String(_0x46fc60[_0x3a1588(0x23b)])===_0x2d652e)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0x46fc60['client']+_0x3a1588(0x1f0)};_0x128184=!![],_0x48f433=_0x46fc60[_0x3a1588(0x289)];}}if(_0x128184)return{'valid':!![],'warning':_0x3a1588(0x2ee)+_0x48f433};return{'valid':!![]};}function updateDateDisplay(){const _0x297bf1=a2_0x463793,_0x1d5f70=document[_0x297bf1(0x270)](_0x297bf1(0x1e1))['value'],_0x54b33d=document['getElementById']('sheetDateSubtitle');if(!_0x1d5f70){_0x54b33d[_0x297bf1(0x283)]='';return;}const [_0x4e30fd,_0x573d31,_0x1f440b]=_0x1d5f70[_0x297bf1(0x17d)]('-')['map'](Number),_0x394900=new Date(_0x4e30fd,_0x573d31-0x1,_0x1f440b),_0x26a050={'weekday':_0x297bf1(0x181),'day':_0x297bf1(0x1e5),'month':'long','year':'numeric'};let _0x44b831=_0x394900['toLocaleDateString']('ru-RU',_0x26a050);_0x44b831=_0x44b831[_0x297bf1(0x2b9)](0x0)[_0x297bf1(0x21b)]()+_0x44b831[_0x297bf1(0x1fc)](0x1),_0x54b33d[_0x297bf1(0x283)]=_0x44b831;}function autoSetEndTime(){const _0x444a63=a2_0x463793,_0x548c7b=document['getElementById']('inpStart')['value'];if(!_0x548c7b)return;const [_0x45e8cc,_0xcda6d0]=_0x548c7b[_0x444a63(0x17d)](':')['map'](Number);let _0x15b7ab=_0x45e8cc+0x1;if(_0x15b7ab>0x17)_0x15b7ab=0x0;const _0x5bd984=String(_0x15b7ab)[_0x444a63(0x1a4)](0x2,'0')+':'+String(_0xcda6d0)[_0x444a63(0x1a4)](0x2,'0');document[_0x444a63(0x270)](_0x444a63(0x285))[_0x444a63(0x1ea)]=_0x5bd984;}function populateClientSelect(){const _0x42c999=a2_0x463793,_0x36825a=document[_0x42c999(0x270)](_0x42c999(0x266));_0x36825a[_0x42c999(0x28c)]='';if(clients[_0x42c999(0x2f3)]===0x0){const _0x1fc751=document[_0x42c999(0x2cd)](_0x42c999(0x28e));_0x1fc751[_0x42c999(0x2c4)]=_0x42c999(0x243),_0x36825a['appendChild'](_0x1fc751);return;}clients['forEach'](_0x468d13=>{const _0x391d9e=_0x42c999,_0x1ccf47=document[_0x391d9e(0x2cd)]('option');_0x1ccf47[_0x391d9e(0x1ea)]=_0x468d13[_0x391d9e(0x198)],_0x1ccf47['textContent']=_0x468d13[_0x391d9e(0x198)],_0x36825a[_0x391d9e(0x1e2)](_0x1ccf47);});}function openActionSheet(_0x595d4c){const _0x2a5ad0=a2_0x463793,_0x255804=document[_0x2a5ad0(0x270)](_0x2a5ad0(0x203)),_0x539246=document[_0x2a5ad0(0x270)]('actionSheetOverlay'),_0x221f75=document['getElementById'](_0x2a5ad0(0x286)),_0xdd5d5=document[_0x2a5ad0(0x270)]('asBtnOne'),_0x1cf4f5=document[_0x2a5ad0(0x270)](_0x2a5ad0(0x1c8));_0x539246[_0x2a5ad0(0x2e6)][_0x2a5ad0(0x247)](_0x2a5ad0(0x19b)),_0x255804[_0x2a5ad0(0x2e6)][_0x2a5ad0(0x247)](_0x2a5ad0(0x2d5));if(_0x595d4c===_0x2a5ad0(0x248))_0x221f75['textContent']=_0x2a5ad0(0x1b3),_0xdd5d5[_0x2a5ad0(0x283)]=_0x2a5ad0(0x253),_0xdd5d5[_0x2a5ad0(0x254)]=()=>{const _0x149d03=_0x2a5ad0;closeActionSheet(),updateSeriesBatch(_0x149d03(0x200),tempSessionData);},_0x1cf4f5[_0x2a5ad0(0x283)]=_0x2a5ad0(0x1d1),_0x1cf4f5[_0x2a5ad0(0x254)]=()=>{const _0x36f36c=_0x2a5ad0;closeActionSheet(),updateSeriesBatch(_0x36f36c(0x1ae),tempSessionData);};else _0x595d4c===_0x2a5ad0(0x25c)&&(_0x221f75['textContent']=_0x2a5ad0(0x1a6),_0xdd5d5['textContent']=_0x2a5ad0(0x253),_0xdd5d5[_0x2a5ad0(0x2bf)]=_0x2a5ad0(0x199),_0xdd5d5[_0x2a5ad0(0x254)]=()=>{const _0x5b64aa=_0x2a5ad0;closeActionSheet(),commitDelete(_0x5b64aa(0x200),sessions[_0x5b64aa(0x1d8)](_0x394b39=>_0x394b39['id']===editingId));},_0x1cf4f5['textContent']=_0x2a5ad0(0x1d1),_0x1cf4f5[_0x2a5ad0(0x2bf)]=_0x2a5ad0(0x2a3),_0x1cf4f5['onclick']=()=>{const _0x4f1985=_0x2a5ad0;closeActionSheet(),commitDelete(_0x4f1985(0x1ae),sessions[_0x4f1985(0x1d8)](_0x421788=>_0x421788['id']===editingId));});}function closeActionSheet(){const _0x5f04f8=a2_0x463793;document[_0x5f04f8(0x270)]('actionSheet')[_0x5f04f8(0x2e6)]['remove'](_0x5f04f8(0x2d5)),document[_0x5f04f8(0x270)]('actionSheetOverlay')['classList'][_0x5f04f8(0x245)](_0x5f04f8(0x19b));}function openSettings(){openSheet('settingsSheet');}function saveCoachSettings(){const _0x5c71f7=a2_0x463793,_0x18fc49=document[_0x5c71f7(0x270)](_0x5c71f7(0x2b3))[_0x5c71f7(0x1ea)];localStorage[_0x5c71f7(0x1ee)](_0x5c71f7(0x293),_0x18fc49),console[_0x5c71f7(0x1ed)](_0x5c71f7(0x29f),_0x18fc49),DataManager[_0x5c71f7(0x26e)](_0x5c71f7(0x260),{'settings':{'cancel_window':_0x18fc49}})[_0x5c71f7(0x1f6)](_0x56b461=>{const _0x49ca74=_0x5c71f7;console[_0x49ca74(0x272)](_0x49ca74(0x252),_0x56b461),showToast(_0x49ca74(0x208),![]);});}function loadCoachSettings(){const _0x116739=a2_0x463793,_0x400cad=localStorage[_0x116739(0x1fd)]('uc_settings_cancel_window');_0x400cad&&(document[_0x116739(0x270)](_0x116739(0x2b3))['value']=_0x400cad);}function a2_0x36a9(_0x14a596,_0x23e481){_0x14a596=_0x14a596-0x177;const _0x5a6c37=a2_0x1b50();let _0x10cf22=_0x5a6c37[_0x14a596];return _0x10cf22;}function openRangesSheet(){const _0xfbf00c=a2_0x463793;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0xfbf00c(0x282));}function addRange(){const _0x2e02b8=a2_0x463793,_0x5567c0=document[_0x2e02b8(0x270)](_0x2e02b8(0x1dc))[_0x2e02b8(0x1ea)],_0x22dea1=document[_0x2e02b8(0x270)]('rangeStartTime')[_0x2e02b8(0x1ea)],_0x1d5d81=document[_0x2e02b8(0x270)](_0x2e02b8(0x1c6))['value'],_0x2bb930=document[_0x2e02b8(0x270)](_0x2e02b8(0x25a))[_0x2e02b8(0x1ea)];if(!_0x5567c0||!_0x22dea1||!_0x1d5d81||!_0x2bb930)return alert(_0x2e02b8(0x296));const _0x421f6b=_0x5567c0+'T'+_0x22dea1,_0xfe0bb7=_0x1d5d81+'T'+_0x2bb930;if(_0x421f6b>=_0xfe0bb7)return alert(_0x2e02b8(0x1cd));specialRanges[_0x2e02b8(0x256)]({'start':_0x421f6b,'end':_0xfe0bb7}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x2e02b8(0x26e)](_0x2e02b8(0x260),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x4a1009){const _0x1a070c=a2_0x463793;specialRanges[_0x1a070c(0x24f)](_0x4a1009,0x1),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x1a070c(0x26e)](_0x1a070c(0x260),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x510c7d=a2_0x463793;document[_0x510c7d(0x270)]('rangeStartDate')[_0x510c7d(0x1ea)]='',document[_0x510c7d(0x270)](_0x510c7d(0x261))[_0x510c7d(0x1ea)]=_0x510c7d(0x2a0),document[_0x510c7d(0x270)](_0x510c7d(0x1c6))[_0x510c7d(0x1ea)]='',document[_0x510c7d(0x270)](_0x510c7d(0x25a))[_0x510c7d(0x1ea)]=_0x510c7d(0x212);}function renderRangesList(){const _0x210235=a2_0x463793,_0x18fa02=document['getElementById'](_0x210235(0x2cb));_0x18fa02[_0x210235(0x28c)]='';if(!specialRanges[_0x210235(0x2f3)]){_0x18fa02[_0x210235(0x28c)]=_0x210235(0x17c);return;}specialRanges[_0x210235(0x17a)]((_0x3be06b,_0x306951)=>{const _0x37d61d=_0x210235,_0x5e039a=document[_0x37d61d(0x2cd)](_0x37d61d(0x1b9));_0x5e039a[_0x37d61d(0x2bf)]=_0x37d61d(0x177);const _0x565680=_0x132d48=>{const _0x211351=_0x37d61d,_0x1a41d7=new Date(_0x132d48);return _0x1a41d7[_0x211351(0x1f1)]()+'.'+String(_0x1a41d7[_0x211351(0x187)]()+0x1)[_0x211351(0x1a4)](0x2,'0')+'\x20'+String(_0x1a41d7[_0x211351(0x25b)]())[_0x211351(0x1a4)](0x2,'0')+':'+String(_0x1a41d7[_0x211351(0x1a0)]())[_0x211351(0x1a4)](0x2,'0');};_0x5e039a[_0x37d61d(0x28c)]=_0x37d61d(0x299)+_0x565680(_0x3be06b[_0x37d61d(0x26c)])+_0x37d61d(0x28b)+_0x565680(_0x3be06b[_0x37d61d(0x2b2)])+_0x37d61d(0x1f7)+_0x306951+_0x37d61d(0x1ff),_0x18fa02['appendChild'](_0x5e039a);});}function a2_0x1b50(){const _0xd1539b=['map','scrollLeft','#fff','warn','ranges','display','blocked-range-part\x20stripe-bg','cancel_window','offsetLeft','getText','.day-off-overlay','indexOf','btnDayToggle','Batch\x20Sync\x20OK','cancelled','BackButton','scroll','[Notify]\x20Client\x20SWAP\x20detected','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','clientId','btnStatusToggle','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','–£—Å–ø–µ—à–Ω–æ','<span>','exceptions','rgba(','#050505','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','patternEditor','remove','toFixed','add','save','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','28DcXXBk','\x20-\x20','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','cancel','</div><div\x20class=\x22dch-num\x22>','splice','.sheet','seriesCountContainer','Save\x20settings\x20error:','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','onclick','data-date','push','gridColumns','(((.+)+)+)+$','WebApp','rangeEndTime','getHours','delete','firstChild','dateStr','deleted','save_settings','rangeStartTime','search','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','Local\x20Load\x20Error','batch_sync','inpClient','toastMessage','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','round','touches','748lMiyup','start','pe-cell\x20','fetchFromServer','offsetWidth','getElementById','.day-column','error','headerMonth','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','stat-','msg','null','blocked-slot\x20stripe-bg','[Sync]\x20Loading\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','recurringOptionContainer','[Notify]\x20Attempting\x20to\x20send:','update','warning','onClick','rangesSheet','textContent','pattern','inpEnd','asTitle','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','undefined','client','day-column\x20','\x20‚Äî\x20','innerHTML','zIndex','option','732WuSRCg','create','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','anPercent','uc_settings_cancel_window',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','querySelector','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','includes','event-card','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','daysHeaderTrack','btn-primary\x20btn-danger','.day-col-header','10px','[Settings]\x20Cancel\x20window\x20set\x20to:','00:00','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','.period-switch\x20.p-btn','as-button\x20danger\x20bold','parse','background','var(--acc-green)','user','flex','[Notify]\x20Detected\x20Client\x20ID:','note','inpStart','POST','\x20status-completed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','filter','px\x200px','v9.0-BATCH-CALENDAR','end','settingCancelWindow','inpNote','pe-col-header','anEnd','rgba(255,\x2069,\x2058,\x200.15)','inpRecurring','charAt','querySelectorAll','Local\x20Save\x20Error','initDataUnsafe','stopPropagation','sid','className','toLocaleDateString','uc_sessions_v9','strokeDashoffset','vibrate','text','Unknown','matrixViewport','ready','formatDate','var(--acc-orange)','borderRadius','rangesList','style','createElement','12032262VoryKG','sheetTitle','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','left','getDay','uc_settings_v9','setAttribute','open','width','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','</div>','data-day-idx','T00:00:00','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','init_load','btn-primary\x20btn-secondary','doLoadPercent','uc_clients_v9','clientWidth','floor','today','total','day-off-overlay\x20stripe-bg','%\x20-\x204px)','classList','519193YGqolO','Error\x20setting\x20color:','toLocaleString','rgba(255,\x2069,\x2058,\x200.3)','3635BWatgK','day-col-header\x20','show','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','rgba(100,100,100,0.5)','localeCompare','calc(','length','<div\x20class=\x22ev-title\x22>','range-item','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','from','forEach','2NhUmgh','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','split','none','min','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','long','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','checked','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','timeColumn','ru-RU','getMonth','seriesId','getFullYear','10px\x2010px\x200\x200','clients','overlay','<b>‚úÖ\x20','borderLeftColor','[Series]\x20Skipped\x20','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','addEventListener','...','initData','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','Telegram','saveLocally','name','as-button\x20danger','send_notification','active','analyticsList','Server\x20Error','now','mousedown','getMinutes','patternInfoBox','isArray','max','padStart','doBusyHours','–£–¥–∞–ª–µ–Ω–∏–µ','setHours','pe-time-label','target','toast-notification\x20','done','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','#gridColumns\x20.day-column','series','backgroundPosition','insertBefore','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','createDocumentFragment','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','</div><div\x20class=\x22ev-time\x22>','pe-corner','.event-card','planned','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','div','week','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','[Notify]\x20Server\x20Response:','inpSeriesCount','toast','setDate','height','var(--acc-red)','doDateHeader','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','sessionSheet','9989640VDpzrp','rangeEndDate','sort','asBtnSeries','T23:59:59','\x20–∏–∑\x20','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','setHeaderColor','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','getTime','off','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','doEventsList','complete','1466178izgIOU','loadLocal','calendar','disableVerticalSwipes','find','then','833570grdLvm','send','rangeStartDate','dayOptionsSheet','status','toastTitle','setMonth','inpDate','appendChild','dayOptionsTitle','top','numeric','getAttribute','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','Critical\x20TMA\x20Error:','value','Error\x20setting\x20back\x20button:','all','log','setItem','mousemove',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','getDate','btn-status-toggle','offClick','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','mini','catch','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','color','block','data','completed','slice','getItem','settings',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','single','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','guest','actionSheet','setBackgroundColor','peGrid','href','px\x20-','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','</b>\x0a\x0a','valid','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','stringify','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','<div\x20class=\x22dch-day\x22>','toString','anStart',':00','23:59','colIndex','1858902jmGFja','anDonutCircle','doWorkHours','mergeServerData','keys','header-','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','toUpperCase','entries','globalTimeLine','btn-status-toggle\x20undo-mode','router.html','\x20days','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','borderColor','.pib-text','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','syncBatch'];a2_0x1b50=function(){return _0xd1539b;};return a2_0x1b50();}function scrollToToday(){const _0x1db331=a2_0x463793,_0x2f221b=getLocalDateStr(new Date()),_0x5ad7f5=document[_0x1db331(0x270)](_0x1db331(0x219)+_0x2f221b),_0x1fc61e=document[_0x1db331(0x270)](_0x1db331(0x2c6));if(_0x5ad7f5&&_0x1fc61e){const _0x8fe1e5=_0x1fc61e['clientWidth'],_0x5cc453=_0x5ad7f5[_0x1db331(0x230)],_0x458d4b=_0x5ad7f5[_0x1db331(0x26f)];_0x1fc61e['scrollLeft']=_0x5cc453-_0x8fe1e5/0x2+_0x458d4b/0x2,_0x1fc61e['scrollTop']=0x9*GRID_H;}}function onScroll(){const _0x1d32ab=a2_0x463793,_0x334f20=document[_0x1d32ab(0x270)](_0x1d32ab(0x2c6)),_0x1dccb6=document[_0x1d32ab(0x2ba)]('.day-col-header');for(let _0x4335e6 of _0x1dccb6)if(_0x4335e6['offsetLeft']>=_0x334f20['scrollLeft']){const _0x4bbbed=new Date(_0x4335e6['getAttribute'](_0x1d32ab(0x255)));document[_0x1d32ab(0x270)](_0x1d32ab(0x273))[_0x1d32ab(0x283)]=_0x4bbbed[_0x1d32ab(0x2e9)]('ru',{'month':_0x1d32ab(0x181)})[_0x1d32ab(0x21b)]()+'\x20'+_0x4bbbed[_0x1d32ab(0x189)]();break;}}function showToast(_0xb577a,_0x2fec11=![]){const _0x539bb7=a2_0x463793,_0x2c3baf=document['getElementById'](_0x539bb7(0x1be));_0x2c3baf[_0x539bb7(0x2bf)]=_0x539bb7(0x1aa)+(_0x2fec11?'success':''),document['getElementById'](_0x539bb7(0x1df))[_0x539bb7(0x283)]=_0x2fec11?_0x539bb7(0x23e):'–ò–Ω—Ñ–æ',document[_0x539bb7(0x270)](_0x539bb7(0x267))[_0x539bb7(0x283)]=_0xb577a,_0x2c3baf[_0x539bb7(0x2e6)][_0x539bb7(0x247)](_0x539bb7(0x2ed)),setTimeout(()=>{const _0xcfb6f4=_0x539bb7;_0x2c3baf[_0xcfb6f4(0x2e6)][_0xcfb6f4(0x245)]('show');},0xbb8);}function openDayOptions(_0x29d34e,_0x10fc82){const _0x3c1bc6=a2_0x463793;selectedDayForOptions=_0x29d34e,document[_0x3c1bc6(0x270)](_0x3c1bc6(0x1e3))[_0x3c1bc6(0x283)]=_0x10fc82,openSheet('dayOptionsSheet');}function toggleDayOff(){const _0x286ec8=a2_0x463793;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x286ec8(0x1d0),reRenderBlocks(),closeAllSheets(),DataManager[_0x286ec8(0x197)](),DataManager['fetchFromServer'](_0x286ec8(0x260),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0xcb6cc0=a2_0x463793;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager[_0xcb6cc0(0x26e)](_0xcb6cc0(0x260),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x5a5f1a){const _0x1d91db=a2_0x463793;document[_0x1d91db(0x270)]('overlay')[_0x1d91db(0x2e6)][_0x1d91db(0x247)](_0x1d91db(0x19b)),document['getElementById'](_0x5a5f1a)[_0x1d91db(0x2e6)][_0x1d91db(0x247)]('open');}function closeAllSheets(){const _0x7180c8=a2_0x463793;document[_0x7180c8(0x270)](_0x7180c8(0x18c))[_0x7180c8(0x2e6)]['remove'](_0x7180c8(0x19b)),document['querySelectorAll'](_0x7180c8(0x250))[_0x7180c8(0x17a)](_0x4b20de=>_0x4b20de['classList']['remove'](_0x7180c8(0x2d5)));}function openPatternEditor(){const _0x4691a9=a2_0x463793;closeAllSheets(),document[_0x4691a9(0x270)](_0x4691a9(0x244))[_0x4691a9(0x2e6)][_0x4691a9(0x247)](_0x4691a9(0x2d5)),renderPatternEditor();}function closePatternEditor(){const _0x2e2cee=a2_0x463793;document[_0x2e2cee(0x270)](_0x2e2cee(0x244))['classList'][_0x2e2cee(0x245)](_0x2e2cee(0x2d5));}function savePattern(){const _0x17d930=a2_0x463793;document[_0x17d930(0x270)](_0x17d930(0x244))[_0x17d930(0x2e6)][_0x17d930(0x245)](_0x17d930(0x2d5)),reRenderBlocks(),DataManager[_0x17d930(0x197)](),DataManager['fetchFromServer'](_0x17d930(0x260),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x4107dc=a2_0x463793,_0x18e7d9=document['getElementById'](_0x4107dc(0x205));_0x18e7d9[_0x4107dc(0x28c)]='';const _0x191cfd=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x2a7167=document[_0x4107dc(0x2cd)](_0x4107dc(0x1b9));_0x2a7167['className']=_0x4107dc(0x1b5),_0x18e7d9[_0x4107dc(0x1e2)](_0x2a7167),_0x191cfd[_0x4107dc(0x17a)]((_0x4bdd12,_0x41dd0a)=>{const _0x2c01e6=_0x4107dc,_0x3fc960=document[_0x2c01e6(0x2cd)](_0x2c01e6(0x1b9));_0x3fc960[_0x2c01e6(0x2bf)]=_0x2c01e6(0x2b5),_0x3fc960[_0x2c01e6(0x28c)]=_0x4bdd12+_0x2c01e6(0x178),_0x3fc960[_0x2c01e6(0x254)]=()=>toggleColPattern(_0x41dd0a),_0x18e7d9[_0x2c01e6(0x1e2)](_0x3fc960);});for(let _0x2aabc5=0x0;_0x2aabc5<0x18;_0x2aabc5++){const _0x54b2a4=document[_0x4107dc(0x2cd)]('div');_0x54b2a4[_0x4107dc(0x2bf)]=_0x4107dc(0x1a8),_0x54b2a4[_0x4107dc(0x28c)]=_0x4107dc(0x274)+String(_0x2aabc5)[_0x4107dc(0x1a4)](0x2,'0')+_0x4107dc(0x211),_0x54b2a4[_0x4107dc(0x254)]=()=>toggleRowPattern(_0x2aabc5),_0x18e7d9[_0x4107dc(0x1e2)](_0x54b2a4);for(let _0x3554b9=0x0;_0x3554b9<0x7;_0x3554b9++){const _0x4b231b=document[_0x4107dc(0x2cd)]('div'),_0x36a2d1=(availabilityPattern[_0x3554b9]||[])['includes'](_0x2aabc5),_0xa7104a=!_0x36a2d1;_0x4b231b[_0x4107dc(0x2bf)]=_0x4107dc(0x26d)+(_0xa7104a?'active':''),_0x4b231b['onclick']=()=>toggleSinglePattern(_0x3554b9,_0x2aabc5),_0x18e7d9[_0x4107dc(0x1e2)](_0x4b231b);}}}function toggleSinglePattern(_0x1c4bad,_0x1041f8){const _0xcfaf61=a2_0x463793;if(!availabilityPattern[_0x1c4bad])availabilityPattern[_0x1c4bad]=[];const _0x29f6e4=availabilityPattern[_0x1c4bad],_0xd93472=_0x29f6e4[_0xcfaf61(0x233)](_0x1041f8);_0xd93472===-0x1?_0x29f6e4[_0xcfaf61(0x256)](_0x1041f8):_0x29f6e4[_0xcfaf61(0x24f)](_0xd93472,0x1),renderPatternEditor();}function toggleColPattern(_0x4a3ce5){const _0x74ea9a=a2_0x463793;if(!availabilityPattern[_0x4a3ce5])availabilityPattern[_0x4a3ce5]=[];const _0x118e18=availabilityPattern[_0x4a3ce5];_0x118e18[_0x74ea9a(0x2f3)]===0x0?availabilityPattern[_0x4a3ce5]=Array[_0x74ea9a(0x179)]({'length':0x18},(_0x1598ac,_0x1cbf1b)=>_0x1cbf1b):availabilityPattern[_0x4a3ce5]=[],renderPatternEditor();}function toggleRowPattern(_0x552e6c){const _0x45a87b=a2_0x463793;let _0x7ee203=!![];for(let _0x223e6a=0x0;_0x223e6a<0x7;_0x223e6a++){if((availabilityPattern[_0x223e6a]||[])[_0x45a87b(0x297)](_0x552e6c)){_0x7ee203=![];break;}}for(let _0x4df9dc=0x0;_0x4df9dc<0x7;_0x4df9dc++){if(!availabilityPattern[_0x4df9dc])availabilityPattern[_0x4df9dc]=[];const _0x2664c9=availabilityPattern[_0x4df9dc][_0x45a87b(0x233)](_0x552e6c);if(_0x7ee203){if(_0x2664c9===-0x1)availabilityPattern[_0x4df9dc][_0x45a87b(0x256)](_0x552e6c);}else{if(_0x2664c9!==-0x1)availabilityPattern[_0x4df9dc]['splice'](_0x2664c9,0x1);}}renderPatternEditor();}function renderPCol(_0x56d0d1,_0x5580a0){const _0x4ec401=a2_0x463793;_0x56d0d1['innerHTML']='';const _0x55d170=Math[_0x4ec401(0x269)](_0x56d0d1['offsetLeft']);(availabilityPattern[_0x5580a0]||[])['forEach'](_0x1eda01=>{const _0x5399ed=_0x4ec401,_0x210bb1=document['createElement'](_0x5399ed(0x1b9));_0x210bb1[_0x5399ed(0x2bf)]=_0x5399ed(0x27a);const _0x34bdc3=_0x1eda01*GRID_H;_0x210bb1[_0x5399ed(0x2cc)][_0x5399ed(0x1e4)]=_0x34bdc3+'px',_0x210bb1[_0x5399ed(0x2cc)][_0x5399ed(0x1af)]='-'+_0x55d170+_0x5399ed(0x207)+_0x34bdc3+'px',_0x210bb1[_0x5399ed(0x254)]=_0x3809cc=>{const _0x5d6531=_0x5399ed;_0x3809cc[_0x5d6531(0x2bd)](),toggleSinglePattern(_0x5580a0,_0x1eda01);},_0x56d0d1[_0x5399ed(0x1e2)](_0x210bb1);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x646db9=a2_0x463793,_0x12377b=new Date(),_0x56fd7b=document['getElementById'](_0x646db9(0x21d)),_0x202666=document[_0x646db9(0x270)]('timeLineBadge'),_0x3b9bf8=(_0x12377b['getHours']()*0x3c+_0x12377b['getMinutes']())/0x3c*GRID_H;_0x56fd7b[_0x646db9(0x2cc)]['top']=_0x3b9bf8+'px',_0x56fd7b[_0x646db9(0x2cc)][_0x646db9(0x22d)]='block',_0x202666[_0x646db9(0x283)]=String(_0x12377b[_0x646db9(0x25b)]())[_0x646db9(0x1a4)](0x2,'0')+':'+String(_0x12377b[_0x646db9(0x1a0)]())[_0x646db9(0x1a4)](0x2,'0'),_0x202666[_0x646db9(0x2cc)][_0x646db9(0x22d)]=_0x646db9(0x1f9),_0x202666[_0x646db9(0x2cc)][_0x646db9(0x1e4)]=_0x3b9bf8+'px';}document['addEventListener']('DOMContentLoaded',init);function openDayOptions(_0x83d5e0){const _0xcb8abd=a2_0x463793;selectedDayForOptions=_0x83d5e0;const _0x3ee2bb=new Date(_0x83d5e0),_0x543d09={'weekday':'long','day':'numeric','month':_0xcb8abd(0x181),'year':_0xcb8abd(0x1e5)},_0x355cf4=_0x3ee2bb[_0xcb8abd(0x2c0)]('ru-RU',_0x543d09);document[_0xcb8abd(0x270)](_0xcb8abd(0x1c2))[_0xcb8abd(0x283)]=_0x355cf4[_0xcb8abd(0x2b9)](0x0)[_0xcb8abd(0x21b)]()+_0x355cf4[_0xcb8abd(0x1fc)](0x1);let _0x4e8a90=_0x3ee2bb[_0xcb8abd(0x2d2)]()-0x1;if(_0x4e8a90===-0x1)_0x4e8a90=0x6;const _0x242864=availabilityPattern[_0x4e8a90]||[],_0x4e6a6c=0x18-_0x242864['length'],_0x47adff=_0x4e6a6c*0x3c,_0x2497cf=sessions[_0xcb8abd(0x2af)](_0x477c0e=>_0x477c0e['dateStr']===_0x83d5e0&&_0x477c0e[_0xcb8abd(0x1de)]!==_0xcb8abd(0x236));let _0x28b9af=_0x2497cf[_0xcb8abd(0x228)](_0x5d516d=>{const _0x3c5fba=_0xcb8abd,[_0x9b59e,_0x3fc928]=_0x5d516d['start']['split'](':')[_0x3c5fba(0x228)](Number),[_0x2c1eaf,_0x1abd76]=_0x5d516d[_0x3c5fba(0x2b2)]['split'](':')['map'](Number);return[_0x9b59e*0x3c+_0x3fc928,_0x2c1eaf*0x3c+_0x1abd76];});_0x28b9af['sort']((_0x3b8ab9,_0x1ec5c6)=>_0x3b8ab9[0x0]-_0x1ec5c6[0x0]);let _0x5d56bc=[];if(_0x28b9af['length']>0x0){let _0xb1b2d7=_0x28b9af[0x0];for(let _0x8db65f=0x1;_0x8db65f<_0x28b9af[_0xcb8abd(0x2f3)];_0x8db65f++){_0x28b9af[_0x8db65f][0x0]<_0xb1b2d7[0x1]?_0xb1b2d7[0x1]=Math[_0xcb8abd(0x1a3)](_0xb1b2d7[0x1],_0x28b9af[_0x8db65f][0x1]):(_0x5d56bc['push'](_0xb1b2d7),_0xb1b2d7=_0x28b9af[_0x8db65f]);}_0x5d56bc[_0xcb8abd(0x256)](_0xb1b2d7);}let _0x5eec28=0x0;_0x5d56bc['forEach'](_0x4aca0c=>_0x5eec28+=_0x4aca0c[0x1]-_0x4aca0c[0x0]),document[_0xcb8abd(0x270)](_0xcb8abd(0x216))[_0xcb8abd(0x283)]=formatMinsToHrs(_0x47adff),document[_0xcb8abd(0x270)](_0xcb8abd(0x1a5))[_0xcb8abd(0x283)]=formatMinsToHrs(_0x5eec28);const _0x46b723=_0x47adff>0x0?Math[_0xcb8abd(0x269)](_0x5eec28/_0x47adff*0x64):0x0,_0x297be2=document['getElementById'](_0xcb8abd(0x2de));_0x297be2[_0xcb8abd(0x283)]=_0x46b723+'%';const _0x31f0de=document['getElementById']('statLoadCard');if(_0x46b723>0x64)_0x297be2[_0xcb8abd(0x2cc)][_0xcb8abd(0x1f8)]='var(--acc-red)',_0x31f0de[_0xcb8abd(0x2cc)][_0xcb8abd(0x223)]=_0xcb8abd(0x2ea);else _0x46b723>0x50?(_0x297be2[_0xcb8abd(0x2cc)]['color']=_0xcb8abd(0x2c9),_0x31f0de[_0xcb8abd(0x2cc)]['borderColor']='rgba(255,\x20159,\x2010,\x200.3)'):(_0x297be2['style'][_0xcb8abd(0x1f8)]=_0xcb8abd(0x2a6),_0x31f0de['style']['borderColor']='rgba(255,255,255,0.05)');const _0x1aa077=document[_0xcb8abd(0x270)](_0xcb8abd(0x1d2));_0x1aa077[_0xcb8abd(0x28c)]='';_0x2497cf[_0xcb8abd(0x2f3)]===0x0?_0x1aa077['innerHTML']=_0xcb8abd(0x190):(_0x2497cf[_0xcb8abd(0x1c7)]((_0x2ad563,_0x565e9e)=>_0x2ad563[_0xcb8abd(0x26c)][_0xcb8abd(0x2f1)](_0x565e9e[_0xcb8abd(0x26c)])),_0x2497cf[_0xcb8abd(0x17a)](_0x557adf=>{const _0x58e0d7=_0xcb8abd,_0x4b0038=clients[_0x58e0d7(0x1d8)](_0x48c628=>_0x48c628[_0x58e0d7(0x198)]===_0x557adf[_0x58e0d7(0x289)]),_0x550421=_0x4b0038?_0x4b0038[_0x58e0d7(0x1f8)]:_0x58e0d7(0x22a),_0x11f7b0=_0x557adf[_0x58e0d7(0x1de)]==='completed',_0x2ce8f9=_0x11f7b0?_0x58e0d7(0x191):'',_0x3654b7=document[_0x58e0d7(0x2cd)](_0x58e0d7(0x1b9));_0x3654b7['className']='de-item',_0x3654b7['style']['borderLeftColor']=_0x550421,_0x3654b7[_0x58e0d7(0x28c)]=_0x58e0d7(0x2ae)+_0x557adf['start']+_0x58e0d7(0x24b)+_0x557adf[_0x58e0d7(0x2b2)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x557adf[_0x58e0d7(0x289)]+_0x58e0d7(0x27c)+_0x2ce8f9+_0x58e0d7(0x1bb),_0x1aa077[_0x58e0d7(0x1e2)](_0x3654b7);}));const _0xdbc770=document['getElementById'](_0xcb8abd(0x234)),_0x30b581=dateExceptions[_0x83d5e0]==='off';_0x30b581?(_0xdbc770[_0xcb8abd(0x283)]=_0xcb8abd(0x1b1),_0xdbc770['className']=_0xcb8abd(0x2dd),_0xdbc770['style'][_0xcb8abd(0x1f8)]=_0xcb8abd(0x2a6),_0xdbc770[_0xcb8abd(0x2cc)]['background']='rgba(48,\x20209,\x2088,\x200.15)'):(_0xdbc770[_0xcb8abd(0x283)]=_0xcb8abd(0x2d7),_0xdbc770[_0xcb8abd(0x2bf)]=_0xcb8abd(0x29c),_0xdbc770[_0xcb8abd(0x2cc)][_0xcb8abd(0x1f8)]=_0xcb8abd(0x1c1),_0xdbc770[_0xcb8abd(0x2cc)][_0xcb8abd(0x2a5)]=_0xcb8abd(0x2b7)),openSheet(_0xcb8abd(0x1dd));}let currentAnPeriod=a2_0x463793(0x1ba);function openAnalytics(){const _0x23319f=a2_0x463793,_0x2d5ae3=document[_0x23319f(0x295)]('.period-switch\x20.p-btn');setAnalyticsPeriod('week',_0x2d5ae3),closeAllSheets(),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x35c1a8,_0x2d97e9){const _0x51c465=a2_0x463793;currentAnPeriod=_0x35c1a8,document['querySelectorAll'](_0x51c465(0x2a2))[_0x51c465(0x17a)](_0xe647a=>_0xe647a[_0x51c465(0x2e6)][_0x51c465(0x245)](_0x51c465(0x19b)));if(_0x2d97e9)_0x2d97e9['classList'][_0x51c465(0x247)](_0x51c465(0x19b));const _0x4d9436=document[_0x51c465(0x270)]('anCustomDates');_0x4d9436[_0x51c465(0x2cc)][_0x51c465(0x22d)]=_0x35c1a8==='custom'?'flex':_0x51c465(0x17e);const _0x382d17=new Date();let _0xe6bbab=new Date(),_0x5c53d9=new Date();if(_0x35c1a8===_0x51c465(0x1ba))_0xe6bbab=getStartOfWeek(_0x382d17),_0x5c53d9=new Date(_0xe6bbab),_0x5c53d9[_0x51c465(0x1bf)](_0x5c53d9[_0x51c465(0x1f1)]()+0x6);else{if(_0x35c1a8==='month')_0xe6bbab=new Date(_0x382d17[_0x51c465(0x189)](),_0x382d17[_0x51c465(0x187)](),0x1),_0x5c53d9=new Date(_0x382d17[_0x51c465(0x189)](),_0x382d17[_0x51c465(0x187)]()+0x1,0x0);else{!document[_0x51c465(0x270)](_0x51c465(0x210))['value']&&(document[_0x51c465(0x270)](_0x51c465(0x210))[_0x51c465(0x1ea)]=getLocalDateStr(_0x382d17),document[_0x51c465(0x270)](_0x51c465(0x2b6))[_0x51c465(0x1ea)]=getLocalDateStr(_0x382d17));refreshAnalytics();return;}}document[_0x51c465(0x270)](_0x51c465(0x210))[_0x51c465(0x1ea)]=getLocalDateStr(_0xe6bbab),document[_0x51c465(0x270)](_0x51c465(0x2b6))[_0x51c465(0x1ea)]=getLocalDateStr(_0x5c53d9),refreshAnalytics();}function refreshAnalytics(){const _0x32e934=a2_0x463793,_0x36cb11=document[_0x32e934(0x270)](_0x32e934(0x210))[_0x32e934(0x1ea)],_0x4b1dfa=document[_0x32e934(0x270)](_0x32e934(0x2b6))['value'];if(!_0x36cb11||!_0x4b1dfa)return;const _0x56f70e=sessions['filter'](_0x3852ac=>_0x3852ac[_0x32e934(0x25e)]>=_0x36cb11&&_0x3852ac[_0x32e934(0x25e)]<=_0x4b1dfa&&_0x3852ac[_0x32e934(0x1de)]!==_0x32e934(0x236)),_0x4b771f=_0x56f70e[_0x32e934(0x2f3)],_0xdd6866=_0x56f70e[_0x32e934(0x2af)](_0x39ad31=>_0x39ad31[_0x32e934(0x1de)]==='completed')[_0x32e934(0x2f3)],_0x4db03d=_0x4b771f>0x0?Math[_0x32e934(0x269)](_0xdd6866/_0x4b771f*0x64):0x0;document['getElementById'](_0x32e934(0x292))[_0x32e934(0x283)]=_0x4db03d+'%',document['getElementById']('anTotalStats')[_0x32e934(0x283)]=_0xdd6866+_0x32e934(0x1ca)+_0x4b771f+_0x32e934(0x21a);const _0x321e42=document[_0x32e934(0x270)](_0x32e934(0x215)),_0x14ae0b=0x2*Math['PI']*0x23,_0x51865e=_0x14ae0b-_0x4db03d/0x64*_0x14ae0b;_0x321e42[_0x32e934(0x2cc)][_0x32e934(0x2c2)]=_0x51865e;const _0x1affb0={};_0x56f70e[_0x32e934(0x17a)](_0xbb1719=>{const _0x2e9009=_0x32e934;if(!_0x1affb0[_0xbb1719[_0x2e9009(0x289)]]){const _0x4b7446=clients['find'](_0x309280=>_0x309280[_0x2e9009(0x198)]===_0xbb1719[_0x2e9009(0x289)]);_0x1affb0[_0xbb1719[_0x2e9009(0x289)]]={'total':0x0,'done':0x0,'color':_0x4b7446?_0x4b7446[_0x2e9009(0x1f8)]:'#fff'};}_0x1affb0[_0xbb1719[_0x2e9009(0x289)]][_0x2e9009(0x2e3)]++;if(_0xbb1719[_0x2e9009(0x1de)]===_0x2e9009(0x1fb))_0x1affb0[_0xbb1719[_0x2e9009(0x289)]][_0x2e9009(0x1ab)]++;});const _0x41f2b8=document[_0x32e934(0x270)](_0x32e934(0x19c));_0x41f2b8[_0x32e934(0x28c)]='';const _0x478b7c=Object[_0x32e934(0x21c)](_0x1affb0)[_0x32e934(0x1c7)]((_0xc18386,_0x16dea8)=>_0x16dea8[0x1][_0x32e934(0x2e3)]-_0xc18386[0x1][_0x32e934(0x2e3)]);if(_0x478b7c['length']===0x0){_0x41f2b8[_0x32e934(0x28c)]=_0x32e934(0x2db);return;}_0x478b7c['forEach'](([_0x391b34,_0x5802de])=>{const _0x26d671=_0x32e934,_0x2b3699=Math['round'](_0x5802de[_0x26d671(0x1ab)]/_0x5802de[_0x26d671(0x2e3)]*0x64),_0x34f2c2=document[_0x26d671(0x2cd)]('div');_0x34f2c2[_0x26d671(0x2bf)]='client-stat-card',_0x34f2c2['style']['borderLeftColor']=_0x5802de[_0x26d671(0x1f8)],_0x34f2c2[_0x26d671(0x28c)]=_0x26d671(0x195)+_0x391b34+_0x26d671(0x1e7)+_0x5802de[_0x26d671(0x1ab)]+'</span>\x20/\x20'+_0x5802de['total']+_0x26d671(0x184)+_0x2b3699+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x41f2b8['appendChild'](_0x34f2c2);});}function formatMinsToHrs(_0x3e344b){const _0x5a250c=a2_0x463793;if(_0x3e344b===0x0)return'0';const _0x34496a=Math[_0x5a250c(0x2e1)](_0x3e344b/0x3c),_0x2622fb=_0x3e344b%0x3c;if(_0x2622fb===0x0)return _0x34496a+'—á';return _0x34496a+'—á\x20'+_0x2622fb+'–º';}