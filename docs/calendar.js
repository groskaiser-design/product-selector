const a2_0x4f8cc7=a2_0x537f;(function(_0x7e949e,_0x438360){const _0x3f7bd1=a2_0x537f,_0x471af3=_0x7e949e();while(!![]){try{const _0x1ff3ca=-parseInt(_0x3f7bd1(0x250))/0x1*(parseInt(_0x3f7bd1(0x195))/0x2)+-parseInt(_0x3f7bd1(0x1d4))/0x3*(parseInt(_0x3f7bd1(0x20c))/0x4)+parseInt(_0x3f7bd1(0x2e5))/0x5+-parseInt(_0x3f7bd1(0x196))/0x6+-parseInt(_0x3f7bd1(0x299))/0x7+parseInt(_0x3f7bd1(0x1f3))/0x8+parseInt(_0x3f7bd1(0x188))/0x9;if(_0x1ff3ca===_0x438360)break;else _0x471af3['push'](_0x471af3['shift']());}catch(_0x355084){_0x471af3['push'](_0x471af3['shift']());}}}(a2_0x2a40,0x5751d),function initTMA(){const _0x4506df=a2_0x537f;try{const _0x9a6884=window[_0x4506df(0x18f)]?.[_0x4506df(0x272)];if(!_0x9a6884)return;_0x9a6884[_0x4506df(0x21b)](),_0x9a6884['expand']();try{_0x9a6884[_0x4506df(0x180)]('#050505'),_0x9a6884[_0x4506df(0x186)]&&_0x9a6884['setBackgroundColor'](_0x4506df(0x1ee));}catch(_0x48de91){console[_0x4506df(0x2bd)]('Error\x20setting\x20color:',_0x48de91);}try{_0x9a6884[_0x4506df(0x205)]&&(_0x9a6884['BackButton'][_0x4506df(0x284)](),_0x9a6884[_0x4506df(0x205)][_0x4506df(0x225)](),_0x9a6884[_0x4506df(0x205)][_0x4506df(0x22a)](function(){const _0x20fb29=_0x4506df;window[_0x20fb29(0x2dd)][_0x20fb29(0x2cf)]='router.html';}));}catch(_0x4cfa59){console[_0x4506df(0x2bd)](_0x4506df(0x23d),_0x4cfa59);}try{if(_0x9a6884[_0x4506df(0x253)])_0x9a6884[_0x4506df(0x253)]();}catch(_0x316825){}}catch(_0x57ce54){console['error']('Critical\x20TMA\x20Error:',_0x57ce54);}}());function isAdmin(){const _0x384a77=a2_0x537f;try{const _0x2f137b=Number(window['Telegram']?.[_0x384a77(0x272)]?.[_0x384a77(0x271)]?.[_0x384a77(0x18c)]?.['id']);return _0x2f137b===0xbaf7174;}catch(_0x5a5320){return![];}}const APP_VERSION=a2_0x4f8cc7(0x1b5),API_URL=a2_0x4f8cc7(0x1a6),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x4f8cc7(0x2a8),KEY_SESSIONS='uc_sessions_v9',KEY_SETTINGS='uc_settings_v9';let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0xfcc2f6=a2_0x4f8cc7;return window['Telegram']?.[_0xfcc2f6(0x272)]?.[_0xfcc2f6(0x271)]?.[_0xfcc2f6(0x18c)]?.['id']||'guest';},'saveLocally'(){const _0x21a56d=a2_0x4f8cc7;try{localStorage[_0x21a56d(0x27a)](KEY_CLIENTS,JSON[_0x21a56d(0x1be)](clients)),localStorage[_0x21a56d(0x27a)](KEY_SESSIONS,JSON['stringify'](sessions)),localStorage[_0x21a56d(0x27a)](KEY_SETTINGS,JSON[_0x21a56d(0x1be)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x2c5745){console[_0x21a56d(0x2b4)](_0x21a56d(0x21e),_0x2c5745);}},'loadLocal'(){const _0x50a700=a2_0x4f8cc7;try{const _0x3bde3f=localStorage['getItem'](KEY_CLIENTS);if(_0x3bde3f)clients=JSON['parse'](_0x3bde3f);const _0x3f1785=localStorage[_0x50a700(0x24f)](KEY_SESSIONS);if(_0x3f1785)sessions=JSON[_0x50a700(0x19d)](_0x3f1785);const _0x390380=localStorage[_0x50a700(0x24f)](KEY_SETTINGS);if(_0x390380){const _0x1b778f=JSON[_0x50a700(0x19d)](_0x390380);if(_0x1b778f[_0x50a700(0x1a0)])availabilityPattern=_0x1b778f[_0x50a700(0x1a0)];if(_0x1b778f['exceptions'])dateExceptions=_0x1b778f[_0x50a700(0x2a4)];if(_0x1b778f['ranges'])specialRanges=_0x1b778f[_0x50a700(0x2c1)];}else{for(let _0x3e71a5=0x0;_0x3e71a5<0x7;_0x3e71a5++)availabilityPattern[_0x3e71a5]=Array[_0x50a700(0x23f)]({'length':0xc},(_0x1a2a54,_0x548be7)=>_0x548be7+0x9);}}catch(_0x2e043f){console[_0x50a700(0x2b4)](_0x50a700(0x298),_0x2e043f);}},async 'fetchFromServer'(_0x364292,_0x53a70f={}){const _0x47f454=a2_0x4f8cc7,_0x222ecb=window[_0x47f454(0x18f)]?.[_0x47f454(0x272)],_0x136899={'action':_0x364292,'init_data':_0x222ecb?.[_0x47f454(0x1ac)]||'',..._0x53a70f};try{const _0x1e01f4=await fetch(API_URL,{'method':_0x47f454(0x1e4),'headers':{'Content-Type':_0x47f454(0x1e6)},'body':JSON[_0x47f454(0x1be)](_0x136899)}),_0x34f43c=await _0x1e01f4[_0x47f454(0x29b)]();if(!_0x34f43c['ok'])throw new Error(_0x34f43c[_0x47f454(0x2b4)]||_0x47f454(0x28a));return _0x34f43c['data'];}catch(_0x9b08a3){console[_0x47f454(0x2b4)](_0x47f454(0x199)+_0x364292+']\x20Failed:',_0x9b08a3);throw _0x9b08a3;}},async 'syncLoad'(){const _0x3c20d1=a2_0x4f8cc7,_0x344b92=new Date(),_0x59feb3=_0x344b92['getFullYear']()+'-'+String(_0x344b92[_0x3c20d1(0x251)]()+0x1)['padStart'](0x2,'0'),_0x22bdfc=new Date(_0x344b92);_0x22bdfc[_0x3c20d1(0x285)](_0x344b92[_0x3c20d1(0x251)]()+0x1);const _0x33cac1=_0x22bdfc[_0x3c20d1(0x1cf)]()+'-'+String(_0x22bdfc[_0x3c20d1(0x251)]()+0x1)[_0x3c20d1(0x2d0)](0x2,'0'),_0x43ea8d=Date[_0x3c20d1(0x2ee)]();console[_0x3c20d1(0x2bd)](_0x3c20d1(0x1df)+_0x59feb3+',\x20'+_0x33cac1+_0x3c20d1(0x1d0));try{const [_0x2d602f,_0x3747be]=await Promise['all']([this[_0x3c20d1(0x276)](_0x3c20d1(0x2cc),{'month_str':_0x59feb3}),this[_0x3c20d1(0x276)](_0x3c20d1(0x2cc),{'month_str':_0x33cac1})]);if(lastUserActionTime>_0x43ea8d)return console[_0x3c20d1(0x1f4)](_0x3c20d1(0x1c7)),![];return this[_0x3c20d1(0x2e6)](_0x2d602f,_0x59feb3),this[_0x3c20d1(0x2e6)](_0x3747be,_0x33cac1),this[_0x3c20d1(0x2f0)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x566cec){console[_0x3c20d1(0x2b4)](_0x566cec);throw _0x566cec;}},'mergeServerData'(_0x5f0130,_0x5431a6){const _0x567d3a=a2_0x4f8cc7;if(!_0x5f0130)return;_0x5f0130[_0x567d3a(0x260)]&&Array[_0x567d3a(0x2d7)](_0x5f0130['clients'])&&(clients=_0x5f0130[_0x567d3a(0x260)]);if(_0x5f0130[_0x567d3a(0x252)]){if(_0x5f0130[_0x567d3a(0x252)]['pattern'])availabilityPattern=_0x5f0130[_0x567d3a(0x252)][_0x567d3a(0x1a0)];if(_0x5f0130[_0x567d3a(0x252)][_0x567d3a(0x2a4)])dateExceptions=_0x5f0130[_0x567d3a(0x252)][_0x567d3a(0x2a4)];if(_0x5f0130[_0x567d3a(0x252)][_0x567d3a(0x2c1)])specialRanges=_0x5f0130['settings'][_0x567d3a(0x2c1)];if(_0x5f0130[_0x567d3a(0x252)]['cancel_window']){localStorage[_0x567d3a(0x27a)]('uc_settings_cancel_window',_0x5f0130[_0x567d3a(0x252)][_0x567d3a(0x19a)]);const _0x5ce9f8=document['getElementById']('settingCancelWindow');if(_0x5ce9f8)_0x5ce9f8[_0x567d3a(0x274)]=_0x5f0130[_0x567d3a(0x252)][_0x567d3a(0x19a)];}}_0x5f0130[_0x567d3a(0x181)]&&(sessions=sessions[_0x567d3a(0x1b7)](_0x32fb7a=>!_0x32fb7a[_0x567d3a(0x204)][_0x567d3a(0x256)](_0x5431a6)),Object[_0x567d3a(0x200)](_0x5f0130[_0x567d3a(0x181)])['forEach'](_0x21c698=>{const _0x43f978=_0x567d3a,_0x14a927=_0x5f0130[_0x43f978(0x181)][_0x21c698];_0x14a927[_0x43f978(0x2fa)](_0x4da26f=>{const _0x4fc52a=_0x43f978,_0x52a91f=clients[_0x4fc52a(0x2ac)](_0x29bddd=>String(_0x29bddd['id'])===String(_0x4da26f['c']));sessions[_0x4fc52a(0x267)]({'id':_0x4da26f['i'],'clientId':_0x4da26f['c'],'client':_0x52a91f?_0x52a91f[_0x4fc52a(0x2e2)]:_0x4fc52a(0x1b6),'dateStr':_0x5431a6+'-'+_0x21c698[_0x4fc52a(0x2d0)](0x2,'0'),'start':_0x4da26f['s'],'end':_0x4da26f['e'],'status':_0x4da26f['st']||_0x4fc52a(0x264),'note':_0x4da26f['n']||'','seriesId':_0x4da26f['sid']||null});});}));},async 'syncBatch'(_0x1c09d5){const _0x5c629e=a2_0x4f8cc7,_0x13f697=[...new Set(_0x1c09d5)],_0x1b0010=_0x13f697[_0x5c629e(0x24c)](_0x320929=>{const _0x3647f1=_0x5c629e,_0x2c0498=sessions[_0x3647f1(0x1b7)](_0x342901=>_0x342901[_0x3647f1(0x204)]===_0x320929&&_0x342901['status']!==_0x3647f1(0x1b4)),_0x4009fe=_0x2c0498['map'](_0x3de07f=>({'i':_0x3de07f['id'],'c':_0x3de07f['clientId'],'s':_0x3de07f['start'],'e':_0x3de07f['end'],'st':_0x3de07f[_0x3647f1(0x198)],'n':_0x3de07f[_0x3647f1(0x2a1)],'sid':_0x3de07f[_0x3647f1(0x263)]}));return{'date':_0x320929,'day_data':_0x4009fe};});if(_0x1b0010[_0x5c629e(0x2af)]===0x0)return;console[_0x5c629e(0x2bd)](_0x5c629e(0x2a6)+_0x1b0010[_0x5c629e(0x2af)]+'\x20days'),await this[_0x5c629e(0x276)](_0x5c629e(0x2e4),{'changes':_0x1b0010});}};async function init(){const _0x3b040a=a2_0x4f8cc7;DataManager[_0x3b040a(0x2ba)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x3b040a(0x2f6)](_0x3b040a(0x20e))[_0x3b040a(0x21d)](_0x3b040a(0x184),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x3b040a(0x2a0)]()['then'](()=>{const _0x55f3a1=_0x3b040a;showToast(_0x55f3a1(0x29c),!![]);})[_0x3b040a(0x26c)](_0x419f20=>{const _0x58113e=_0x3b040a;showToast(_0x58113e(0x22b),![]);});}function generateId(){const _0x25e6bb=a2_0x4f8cc7;return Date[_0x25e6bb(0x2ee)]()[_0x25e6bb(0x281)](0x24)+Math['random']()[_0x25e6bb(0x281)](0x24)[_0x25e6bb(0x1ad)](0x2,0x5);}function toggleSeriesInput(){const _0x48a95b=a2_0x4f8cc7,_0x561bc6=document[_0x48a95b(0x2f6)](_0x48a95b(0x1b8))[_0x48a95b(0x27c)],_0x2c59ed=document[_0x48a95b(0x2f6)]('seriesCountContainer');_0x2c59ed[_0x48a95b(0x212)][_0x48a95b(0x29d)]=_0x561bc6?_0x48a95b(0x19f):'none';const _0x55075d=document[_0x48a95b(0x2f6)]('recurringOptionContainer');_0x55075d['style'][_0x48a95b(0x2f7)]=_0x561bc6?_0x48a95b(0x258):_0x48a95b(0x2f3);}function openAddSession(_0x233427){const _0x1cef41=a2_0x4f8cc7;editingId=null,populateClientSelect(),document[_0x1cef41(0x2f6)](_0x1cef41(0x206))[_0x1cef41(0x1ca)]='–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å',document[_0x1cef41(0x2f6)](_0x1cef41(0x1ff))['style'][_0x1cef41(0x29d)]='none',document['getElementById'](_0x1cef41(0x21c))[_0x1cef41(0x212)]['display']='none';const _0x28d679=document[_0x1cef41(0x2f6)](_0x1cef41(0x2ca)),_0x331218=document[_0x1cef41(0x2f6)](_0x1cef41(0x25d));_0x28d679[_0x1cef41(0x212)][_0x1cef41(0x29d)]='flex',_0x28d679[_0x1cef41(0x212)][_0x1cef41(0x2f7)]='10px',document[_0x1cef41(0x2f6)](_0x1cef41(0x1b8))[_0x1cef41(0x27c)]=![],document['getElementById'](_0x1cef41(0x294))[_0x1cef41(0x274)]=0x4,_0x331218[_0x1cef41(0x212)]['display']='none',document[_0x1cef41(0x2f6)](_0x1cef41(0x293))[_0x1cef41(0x274)]=getLocalDateStr(_0x233427),updateDateDisplay();const _0x24918e=_0x233427[_0x1cef41(0x282)]();document[_0x1cef41(0x2f6)]('inpStart')[_0x1cef41(0x274)]=String(_0x24918e)[_0x1cef41(0x2d0)](0x2,'0')+_0x1cef41(0x1af),document['getElementById']('inpEnd')[_0x1cef41(0x274)]=String(_0x24918e+0x1)['padStart'](0x2,'0')+':00',openSheet(_0x1cef41(0x1fe));}function openEdit(_0x2b1726){const _0x277caa=a2_0x4f8cc7;editingId=_0x2b1726['id'],populateClientSelect(),document[_0x277caa(0x2f6)](_0x277caa(0x206))[_0x277caa(0x1ca)]=_0x277caa(0x237),document[_0x277caa(0x2f6)](_0x277caa(0x1ff))[_0x277caa(0x212)]['display']=_0x277caa(0x19f);const _0x9fac23=document['getElementById']('btnStatusToggle');_0x9fac23[_0x277caa(0x212)][_0x277caa(0x29d)]=_0x277caa(0x2c4);_0x2b1726[_0x277caa(0x198)]===_0x277caa(0x2ef)?(_0x9fac23[_0x277caa(0x232)]='btn-status-toggle\x20undo-mode',_0x9fac23['innerHTML']=_0x277caa(0x28b)):(_0x9fac23[_0x277caa(0x232)]='btn-status-toggle',_0x9fac23[_0x277caa(0x2e7)]=_0x277caa(0x29f));const _0x329df2=!!_0x2b1726['seriesId'];document[_0x277caa(0x2f6)]('recurringOptionContainer')[_0x277caa(0x212)][_0x277caa(0x29d)]='none',document['getElementById'](_0x277caa(0x25d))['style'][_0x277caa(0x29d)]=_0x277caa(0x1ce),_0x329df2?(document[_0x277caa(0x2f6)](_0x277caa(0x2b6))['style'][_0x277caa(0x29d)]='flex',document[_0x277caa(0x2f6)](_0x277caa(0x2b6))[_0x277caa(0x1ec)](_0x277caa(0x1a2))[_0x277caa(0x1ca)]=_0x277caa(0x1fb)):document[_0x277caa(0x2f6)](_0x277caa(0x2b6))[_0x277caa(0x212)][_0x277caa(0x29d)]=_0x277caa(0x1ce),document[_0x277caa(0x2f6)](_0x277caa(0x1bb))[_0x277caa(0x274)]=_0x2b1726[_0x277caa(0x2ec)],document[_0x277caa(0x2f6)]('inpDate')[_0x277caa(0x274)]=_0x2b1726['dateStr'],document[_0x277caa(0x2f6)]('inpStart')[_0x277caa(0x274)]=_0x2b1726[_0x277caa(0x1e5)],document[_0x277caa(0x2f6)](_0x277caa(0x2ce))[_0x277caa(0x274)]=_0x2b1726[_0x277caa(0x1d2)],document['getElementById'](_0x277caa(0x2e1))['value']=_0x2b1726['note']||'',updateDateDisplay(),openSheet(_0x277caa(0x1fe));}async function trySaveSession(){const _0x906b37=a2_0x4f8cc7,_0x363b93=document[_0x906b37(0x2f6)](_0x906b37(0x1bb))[_0x906b37(0x274)],_0x532210=document[_0x906b37(0x2f6)](_0x906b37(0x293))['value'],_0x439c85=document['getElementById']('inpStart')[_0x906b37(0x274)],_0x2de296=document['getElementById'](_0x906b37(0x2ce))[_0x906b37(0x274)],_0x2437f4=document[_0x906b37(0x2f6)](_0x906b37(0x2e1))[_0x906b37(0x274)],_0x1ca357=document[_0x906b37(0x2f6)](_0x906b37(0x1b8))[_0x906b37(0x27c)];let _0x5886ba=0x4;if(_0x1ca357){const _0x3e5fa1=parseInt(document[_0x906b37(0x2f6)](_0x906b37(0x294))[_0x906b37(0x274)]);if(!_0x3e5fa1||_0x3e5fa1<0x2){showToast(_0x906b37(0x234),![]);return;}if(_0x3e5fa1>0x64){showToast(_0x906b37(0x2c9),![]);return;}_0x5886ba=_0x3e5fa1;}const _0xf3211b=clients['find'](_0x2c98e3=>_0x2c98e3['name']===_0x363b93);if(!_0xf3211b){showToast(_0x906b37(0x1e1),![]);return;}const _0x5206a2=validateAppointment(_0x532210,_0x439c85,_0x2de296,editingId,_0xf3211b['id']);if(!_0x5206a2[_0x906b37(0x2a9)]){showToast(_0x5206a2[_0x906b37(0x1ba)],![]);return;}_0x5206a2[_0x906b37(0x2f9)]&&showToast(_0x5206a2[_0x906b37(0x2f9)],![]);const _0x32b663={'client':_0x363b93,'clientId':_0xf3211b['id'],'start':_0x439c85,'end':_0x2de296,'note':_0x2437f4,'status':_0x906b37(0x264)},_0x51b03f=editingId?sessions[_0x906b37(0x2ac)](_0x2b3955=>_0x2b3955['id']===editingId):null;if(_0x51b03f&&_0x51b03f[_0x906b37(0x263)]){tempSessionData={..._0x32b663,'dateStr':_0x532210,'id':editingId,'seriesId':_0x51b03f[_0x906b37(0x263)]},openActionSheet(_0x906b37(0x17f));return;}let _0x22abc0=null;if(!editingId)_0x22abc0=_0x906b37(0x24a);else{if(_0x51b03f){if(String(_0x51b03f[_0x906b37(0x2b1)])!==String(_0xf3211b['id']))console['log'](_0x906b37(0x2e8)),NotificationManager[_0x906b37(0x266)]('cancel',_0x51b03f),_0x22abc0='create';else(_0x51b03f[_0x906b37(0x1e5)]!==_0x439c85||_0x51b03f[_0x906b37(0x1d2)]!==_0x2de296||_0x51b03f['dateStr']!==_0x532210)&&(_0x22abc0=_0x906b37(0x246));}}if(!editingId&&_0x1ca357){createBatchSeries(_0x32b663,_0x532210,_0x5886ba),NotificationManager[_0x906b37(0x266)](_0x906b37(0x24a),{..._0x32b663,'dateStr':_0x532210});return;}lastUserActionTime=Date[_0x906b37(0x2ee)]();const _0x30bf9a={..._0x32b663,'dateStr':_0x532210,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x30bf9a),_0x22abc0&&NotificationManager[_0x906b37(0x266)](_0x22abc0,_0x30bf9a);}function toggleSessionStatus(){const _0x168f39=a2_0x4f8cc7;lastUserActionTime=Date['now']();const _0x861c1d=sessions['find'](_0x5828d1=>_0x5828d1['id']===editingId);if(!_0x861c1d)return;const _0x120a35=_0x861c1d[_0x168f39(0x198)]===_0x168f39(0x2ef)?_0x168f39(0x264):_0x168f39(0x2ef);_0x861c1d[_0x168f39(0x198)]=_0x120a35,saveSingleSession(_0x861c1d),_0x120a35==='completed'&&NotificationManager['send'](_0x168f39(0x192),_0x861c1d),showToast(_0x120a35===_0x168f39(0x2ef)?_0x168f39(0x230):_0x168f39(0x1e9),!![]);}function validateAppointment(_0x197ab7,_0x1c457b,_0x3fa17b,_0x4c18e8,_0x1f3f6e){const _0x4ac30a=a2_0x4f8cc7,[_0x4fb577,_0x559c99]=_0x1c457b[_0x4ac30a(0x28c)](':')[_0x4ac30a(0x24c)](Number),[_0x353173,_0x7aefe5]=_0x3fa17b[_0x4ac30a(0x28c)](':')[_0x4ac30a(0x24c)](Number),_0x51ba1a=_0x4fb577*0x3c+_0x559c99,_0x24bf9f=_0x353173*0x3c+_0x7aefe5,_0x2f1a37=String(_0x1f3f6e);let _0x5604a0=![],_0x174445='';for(let _0x5b05c0 of sessions){if(_0x5b05c0[_0x4ac30a(0x204)]!==_0x197ab7)continue;if(_0x5b05c0[_0x4ac30a(0x198)]===_0x4ac30a(0x2da))continue;if(_0x4c18e8&&String(_0x5b05c0['id'])===String(_0x4c18e8))continue;const [_0x3e74e3,_0x20eedb]=_0x5b05c0[_0x4ac30a(0x1e5)]['split'](':')[_0x4ac30a(0x24c)](Number),[_0x30d7d2,_0x566458]=_0x5b05c0[_0x4ac30a(0x1d2)][_0x4ac30a(0x28c)](':')[_0x4ac30a(0x24c)](Number),_0x21f088=_0x3e74e3*0x3c+_0x20eedb,_0x34ee46=_0x30d7d2*0x3c+_0x566458;if(Math['max'](_0x51ba1a,_0x21f088)<Math[_0x4ac30a(0x207)](_0x24bf9f,_0x34ee46)){if(_0x5b05c0[_0x4ac30a(0x2b1)]&&String(_0x5b05c0['clientId'])===_0x2f1a37)return{'valid':![],'msg':_0x4ac30a(0x17d)+_0x5b05c0[_0x4ac30a(0x2ec)]+_0x4ac30a(0x210)};_0x5604a0=!![],_0x174445=_0x5b05c0['client'];}}if(_0x5604a0)return{'valid':!![],'warning':_0x4ac30a(0x25a)+_0x174445};return{'valid':!![]};}function saveSingleSession(_0x1c470d){const _0x1d01ec=a2_0x4f8cc7;if(editingId){const _0x3fac23=sessions[_0x1d01ec(0x289)](_0x1cbb33=>_0x1cbb33['id']===editingId);if(_0x3fac23!==-0x1)sessions[_0x3fac23]=_0x1c470d;}else sessions[_0x1d01ec(0x267)](_0x1c470d);afterSaveAction([_0x1c470d[_0x1d01ec(0x204)]]);}function createBatchSeries(_0x5ae800,_0x48f59d,_0x221283){const _0x1f4622=a2_0x4f8cc7,_0x5c87ed=generateId(),_0x58638e=[],_0x53d7df=[];let _0x129e9c=0x0,_0x394157=new Date(_0x48f59d);for(let _0x2639d7=0x0;_0x2639d7<_0x221283;_0x2639d7++){const _0x23b17d=getLocalDateStr(_0x394157),_0xc6af57=validateAppointment(_0x23b17d,_0x5ae800[_0x1f4622(0x1e5)],_0x5ae800[_0x1f4622(0x1d2)],null,_0x5ae800[_0x1f4622(0x2b1)]);if(!_0xc6af57[_0x1f4622(0x2a9)])console[_0x1f4622(0x2bd)](_0x1f4622(0x1e7)+_0x23b17d+_0x1f4622(0x2e0)),_0x129e9c++;else{const _0x1bb8f4={..._0x5ae800,'id':generateId(),'dateStr':_0x23b17d,'seriesId':_0x5c87ed};_0x53d7df['push'](_0x1bb8f4),_0x58638e[_0x1f4622(0x267)](_0x23b17d);}_0x394157[_0x1f4622(0x213)](_0x394157[_0x1f4622(0x280)]()+0x7);}if(_0x53d7df[_0x1f4622(0x2af)]===0x0){showToast(_0x1f4622(0x18d),![]);return;}sessions['push'](..._0x53d7df),lastUserActionTime=Date[_0x1f4622(0x2ee)]();let _0x9430c6=_0x1f4622(0x2c2)+_0x53d7df[_0x1f4622(0x2af)];_0x129e9c>0x0&&(_0x9430c6+=_0x1f4622(0x2cb)+_0x129e9c+')'),showToast(_0x9430c6,!![]),afterSaveAction(_0x58638e);}function updateSeriesBatch(_0x25873a,_0x30cf26){const _0x51ef4e=a2_0x4f8cc7,_0x227d0a=[],_0xc6f1a9=_0x30cf26[_0x51ef4e(0x263)];if(_0x25873a==='single'){const _0x325ca1={..._0x30cf26,'seriesId':null},_0x576996=sessions[_0x51ef4e(0x289)](_0x15e10d=>_0x15e10d['id']===_0x30cf26['id']);if(_0x576996!==-0x1)sessions[_0x576996]=_0x325ca1;_0x227d0a[_0x51ef4e(0x267)](_0x325ca1[_0x51ef4e(0x204)]);}else{if(_0x25873a===_0x51ef4e(0x240)){const _0xe2174a=_0x30cf26[_0x51ef4e(0x204)];sessions[_0x51ef4e(0x2fa)]((_0x4bdf18,_0x1fa9b0)=>{const _0xbfb14a=_0x51ef4e;_0x4bdf18[_0xbfb14a(0x263)]===_0xc6f1a9&&_0x4bdf18[_0xbfb14a(0x204)]>=_0xe2174a&&(sessions[_0x1fa9b0]={...sessions[_0x1fa9b0],'start':_0x30cf26[_0xbfb14a(0x1e5)],'end':_0x30cf26[_0xbfb14a(0x1d2)],'note':_0x30cf26[_0xbfb14a(0x2a1)],'client':_0x30cf26[_0xbfb14a(0x2ec)],'clientId':_0x30cf26[_0xbfb14a(0x2b1)]},_0x227d0a[_0xbfb14a(0x267)](_0x4bdf18[_0xbfb14a(0x204)]));});}}afterSaveAction(_0x227d0a);}function tryDeleteSession(){const _0x34e1d8=a2_0x4f8cc7,_0x476c28=sessions[_0x34e1d8(0x2ac)](_0x3dcdf7=>_0x3dcdf7['id']===editingId);if(!_0x476c28)return;_0x476c28[_0x34e1d8(0x263)]?openActionSheet('delete'):commitDelete('single',_0x476c28);}function a2_0x537f(_0x5b8658,_0x94cb6b){_0x5b8658=_0x5b8658-0x177;const _0x33323a=a2_0x2a40();let _0x2f9236=_0x33323a[_0x5b8658];return _0x2f9236;}function commitDelete(_0x1b41cb,_0x4ac3f4){const _0x4f2cfa=a2_0x4f8cc7;lastUserActionTime=Date[_0x4f2cfa(0x2ee)](),NotificationManager['send']('cancel',_0x4ac3f4);const _0xb485f7=[];if(_0x1b41cb===_0x4f2cfa(0x244))sessions=sessions[_0x4f2cfa(0x1b7)](_0x3e46c7=>_0x3e46c7['id']!==_0x4ac3f4['id']),_0xb485f7['push'](_0x4ac3f4['dateStr']);else{if(_0x1b41cb==='series'){const _0x48740b=_0x4ac3f4['dateStr'],_0x27269d=_0x4ac3f4[_0x4f2cfa(0x263)];sessions[_0x4f2cfa(0x2fa)](_0x48483a=>{const _0x1ed721=_0x4f2cfa;_0x48483a[_0x1ed721(0x263)]===_0x27269d&&_0x48483a[_0x1ed721(0x204)]>=_0x48740b&&_0xb485f7[_0x1ed721(0x267)](_0x48483a['dateStr']);}),sessions=sessions['filter'](_0x3a1282=>!(_0x3a1282[_0x4f2cfa(0x263)]===_0x27269d&&_0x3a1282[_0x4f2cfa(0x204)]>=_0x48740b));}}afterSaveAction(_0xb485f7);}function afterSaveAction(_0x44b085){const _0x58d325=a2_0x4f8cc7;DataManager[_0x58d325(0x2f0)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x58d325(0x19c)](_0x44b085)[_0x58d325(0x27e)](()=>console[_0x58d325(0x2bd)](_0x58d325(0x1ed)))[_0x58d325(0x26c)](_0x4d4e8c=>showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ',![]));}const NotificationManager={'formatDate'(_0x519903){const _0x28c8a8=a2_0x4f8cc7,_0x2b3647=new Date(_0x519903),_0x45e520={'weekday':_0x28c8a8(0x2b5),'day':'numeric','month':'long'};let _0x15a51e=_0x2b3647['toLocaleDateString'](_0x28c8a8(0x1bc),_0x45e520);return _0x15a51e[_0x28c8a8(0x1c8)](0x0)['toUpperCase']()+_0x15a51e[_0x28c8a8(0x2b7)](0x1);},'getText'(_0x5c7134,_0x4d640d){const _0x1fac84=a2_0x4f8cc7,_0x410dde=this[_0x1fac84(0x2b3)](_0x4d640d['dateStr']);switch(_0x5c7134){case'create':return _0x1fac84(0x1d9)+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0x410dde+'\x0a')+('<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20'+_0x4d640d[_0x1fac84(0x1e5)]+_0x1fac84(0x25b)+_0x4d640d[_0x1fac84(0x1d2)]+'\x0a\x0a')+_0x1fac84(0x2bf);case _0x1fac84(0x246):return _0x1fac84(0x1c6)+_0x1fac84(0x224)+(_0x1fac84(0x231)+_0x4d640d[_0x1fac84(0x1e5)]+_0x1fac84(0x25b)+_0x4d640d['end']+_0x1fac84(0x236))+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0x410dde);case _0x1fac84(0x291):return _0x1fac84(0x295)+(_0x1fac84(0x2a2)+_0x410dde+'\x20('+_0x4d640d[_0x1fac84(0x1e5)]+_0x1fac84(0x1b1));case _0x1fac84(0x192):return _0x1fac84(0x220)+_0x1fac84(0x26b)+'<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>';default:return'';}},async 'send'(_0x36a4e2,_0x635337){const _0xf689be=a2_0x4f8cc7;console['log'](_0xf689be(0x1b3),_0x36a4e2,_0x635337);if(!_0x635337){console['error'](_0xf689be(0x1e0));return;}const _0x5d997e=String(_0x635337[_0xf689be(0x2b1)]);console[_0xf689be(0x2bd)](_0xf689be(0x2d8),_0x5d997e);if(!_0x635337[_0xf689be(0x2b1)]||_0x5d997e===_0xf689be(0x28d)||_0x5d997e===_0xf689be(0x288)){console[_0xf689be(0x2b4)](_0xf689be(0x208));if(_0x635337[_0xf689be(0x2ec)]){const _0x55e892=clients[_0xf689be(0x2ac)](_0x216b2d=>_0x216b2d[_0xf689be(0x2e2)]===_0x635337[_0xf689be(0x2ec)]);if(_0x55e892)return console[_0xf689be(0x2bd)](_0xf689be(0x21f),_0x55e892['id']),this['send'](_0x36a4e2,{..._0x635337,'clientId':_0x55e892['id']});}return;}if(_0x5d997e[_0xf689be(0x2af)]<0x5){console[_0xf689be(0x1f4)](_0xf689be(0x1f8),_0x5d997e);return;}const _0x3f3370=this[_0xf689be(0x1c9)](_0x36a4e2,_0x635337);if(!_0x3f3370){console[_0xf689be(0x2b4)](_0xf689be(0x28f));return;}console['log'](_0xf689be(0x20a)+_0x5d997e+_0xf689be(0x1d0)),DataManager[_0xf689be(0x276)]('send_notification',{'chatId':_0x5d997e,'text':_0x3f3370})[_0xf689be(0x27e)](_0x25554d=>console[_0xf689be(0x2bd)](_0xf689be(0x2aa),_0x25554d))[_0xf689be(0x26c)](_0x10b5ac=>console['error'](_0xf689be(0x227),_0x10b5ac));}};function getLocalDateStr(_0x17cb24){const _0x498412=a2_0x4f8cc7,_0x494b90=_0x17cb24[_0x498412(0x1cf)](),_0xfb09e0=String(_0x17cb24[_0x498412(0x251)]()+0x1)[_0x498412(0x2d0)](0x2,'0'),_0x54df2d=String(_0x17cb24[_0x498412(0x280)]())[_0x498412(0x2d0)](0x2,'0');return _0x494b90+'-'+_0xfb09e0+'-'+_0x54df2d;}function getDateStr(_0x47b888){const _0x415917=a2_0x4f8cc7,_0x3bb864=new Date();return _0x3bb864[_0x415917(0x213)](_0x3bb864[_0x415917(0x280)]()+_0x47b888),getLocalDateStr(_0x3bb864);}function getStartOfWeek(_0x209bfd){const _0x1e039b=a2_0x4f8cc7,_0x135bb0=(function(){let _0x5ee42a=!![];return function(_0x4eea36,_0x5ae450){const _0x3d6316=_0x5ee42a?function(){const _0x2e92f4=a2_0x537f;if(_0x5ae450){const _0x1a6714=_0x5ae450[_0x2e92f4(0x209)](_0x4eea36,arguments);return _0x5ae450=null,_0x1a6714;}}:function(){};return _0x5ee42a=![],_0x3d6316;};}()),_0x26e26d=_0x135bb0(this,function(){const _0x460b53=a2_0x537f;return _0x26e26d[_0x460b53(0x281)]()['search'](_0x460b53(0x211))[_0x460b53(0x281)]()['constructor'](_0x26e26d)[_0x460b53(0x1eb)](_0x460b53(0x211));});_0x26e26d();const _0x7bc9b1=new Date(_0x209bfd),_0x1cec6d=_0x7bc9b1[_0x1e039b(0x1a7)](),_0x39b6f6=_0x7bc9b1[_0x1e039b(0x280)]()-_0x1cec6d+(_0x1cec6d===0x0?-0x6:0x1);return _0x7bc9b1['setDate'](_0x39b6f6),_0x7bc9b1[_0x1e039b(0x17a)](0x0,0x0,0x0,0x0),_0x7bc9b1;}function hexToRgba(_0x1d7088,_0x50f943){const _0x4beb79=a2_0x4f8cc7;if(!_0x1d7088)return'rgba(100,100,100,0.5)';let _0x323769=0x0,_0x466e72=0x0,_0x568c36=0x0;if(_0x1d7088[_0x4beb79(0x2af)]===0x4)_0x323769='0x'+_0x1d7088[0x1]+_0x1d7088[0x1],_0x466e72='0x'+_0x1d7088[0x2]+_0x1d7088[0x2],_0x568c36='0x'+_0x1d7088[0x3]+_0x1d7088[0x3];else _0x1d7088[_0x4beb79(0x2af)]===0x7&&(_0x323769='0x'+_0x1d7088[0x1]+_0x1d7088[0x2],_0x466e72='0x'+_0x1d7088[0x3]+_0x1d7088[0x4],_0x568c36='0x'+_0x1d7088[0x5]+_0x1d7088[0x6]);return'rgba('+ +_0x323769+',\x20'+ +_0x466e72+',\x20'+ +_0x568c36+',\x20'+_0x50f943+')';}function renderTimeColumn(){const _0x2a2982=a2_0x4f8cc7,_0x5000ab=document[_0x2a2982(0x2f6)](_0x2a2982(0x1b0)),_0x551723=document['getElementById']('timeLineBadge');_0x5000ab[_0x2a2982(0x2e7)]='',_0x5000ab[_0x2a2982(0x1dd)](_0x551723);for(let _0x1c4053=0x0;_0x1c4053<0x18;_0x1c4053++){const _0x4a8395=document[_0x2a2982(0x1e8)](_0x2a2982(0x182));_0x4a8395['className']='time-label';if(_0x1c4053>0x0)_0x4a8395[_0x2a2982(0x2e7)]=_0x2a2982(0x1fc)+String(_0x1c4053)[_0x2a2982(0x2d0)](0x2,'0')+_0x2a2982(0x239);_0x5000ab[_0x2a2982(0x1dd)](_0x4a8395);}}function renderDayRange(_0x556e0d,_0x1264e9){const _0xc9b1b2=a2_0x4f8cc7,_0x327e0e=document[_0xc9b1b2(0x2f6)]('daysHeaderTrack'),_0x37e320=document[_0xc9b1b2(0x2f6)](_0xc9b1b2(0x2f4)),_0x3796db=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x2c47eb=new Date();_0x2c47eb['setHours'](0x0,0x0,0x0,0x0);const _0x5d11de=getLocalDateStr(new Date());for(let _0x3da8d2=_0x556e0d;_0x3da8d2<=_0x1264e9;_0x3da8d2++){const _0x1bdc75=new Date(_0x2c47eb);_0x1bdc75[_0xc9b1b2(0x213)](_0x1bdc75[_0xc9b1b2(0x280)]()+_0x3da8d2);const _0x5bc950=getLocalDateStr(_0x1bdc75);let _0x61dfd4=_0x1bdc75['getDay']()-0x1;if(_0x61dfd4===-0x1)_0x61dfd4=0x6;const _0x527c2c=_0x5bc950===_0x5d11de,_0x311370=document[_0xc9b1b2(0x1e8)]('div');_0x311370[_0xc9b1b2(0x232)]=_0xc9b1b2(0x2c0)+(_0x527c2c?_0xc9b1b2(0x2ab):''),_0x311370['id']=_0xc9b1b2(0x2fb)+_0x5bc950,_0x311370[_0xc9b1b2(0x2a5)](_0xc9b1b2(0x1ef),_0x5bc950),_0x311370[_0xc9b1b2(0x2e7)]=_0xc9b1b2(0x215)+_0x3796db[_0x61dfd4]+'</div><div\x20class=\x22dch-num\x22>'+_0x1bdc75['getDate']()+_0xc9b1b2(0x179)+_0x5bc950+_0xc9b1b2(0x1cc),_0x311370[_0xc9b1b2(0x1a1)]=()=>openDayOptions(_0x5bc950,_0x3796db[_0x61dfd4]+'\x20'+_0x1bdc75['getDate']()),_0x327e0e[_0xc9b1b2(0x1dd)](_0x311370);const _0x3d6da3=document[_0xc9b1b2(0x1e8)](_0xc9b1b2(0x182));_0x3d6da3[_0xc9b1b2(0x232)]='day-column\x20'+(_0x527c2c?_0xc9b1b2(0x2ab):''),_0x3d6da3[_0xc9b1b2(0x2a5)](_0xc9b1b2(0x1ef),_0x5bc950),_0x3d6da3[_0xc9b1b2(0x2a5)](_0xc9b1b2(0x2ea),_0x61dfd4),renderEventsForColumn(_0x3d6da3,_0x5bc950,_0x61dfd4),attachLongPressHandler(_0x3d6da3,_0x1bdc75),_0x37e320[_0xc9b1b2(0x1dd)](_0x3d6da3),updateDayStats(_0x5bc950);}}function reRenderBlocks(){const _0x4057bf=a2_0x4f8cc7;document['querySelectorAll'](_0x4057bf(0x243))['forEach'](_0x3d23ce=>{const _0x1fef80=_0x4057bf;_0x3d23ce[_0x1fef80(0x2f1)](_0x1fef80(0x190))[_0x1fef80(0x2fa)](_0x5dcb25=>_0x5dcb25[_0x1fef80(0x29a)]());const _0x5d1137=_0x3d23ce[_0x1fef80(0x248)](_0x1fef80(0x1ef)),_0x21c956=parseInt(_0x3d23ce[_0x1fef80(0x248)](_0x1fef80(0x2ea))),_0x5e416c=Math['round'](_0x3d23ce[_0x1fef80(0x187)]);(availabilityPattern[_0x21c956]||[])[_0x1fef80(0x2fa)](_0x5adfb8=>{const _0xa9a730=_0x1fef80,_0x4a9237=document[_0xa9a730(0x1e8)](_0xa9a730(0x182));_0x4a9237[_0xa9a730(0x232)]=_0xa9a730(0x221);const _0x404075=_0x5adfb8*GRID_H;_0x4a9237[_0xa9a730(0x212)][_0xa9a730(0x1f7)]=_0x404075+'px',_0x4a9237[_0xa9a730(0x212)][_0xa9a730(0x1c1)]='-'+_0x5e416c+_0xa9a730(0x2f2)+_0x404075+'px',_0x3d23ce['appendChild'](_0x4a9237);});if(specialRanges&&specialRanges['length']>0x0){const _0x4ba8f5=new Date(_0x5d1137+'T00:00:00')[_0x1fef80(0x1fa)](),_0x4925e2=new Date(_0x5d1137+_0x1fef80(0x1c4))[_0x1fef80(0x1fa)]();specialRanges['forEach'](_0x5a5da2=>{const _0x1fedf0=_0x1fef80,_0x3ef309=new Date(_0x5a5da2[_0x1fedf0(0x1e5)])[_0x1fedf0(0x1fa)](),_0x32dbc4=new Date(_0x5a5da2[_0x1fedf0(0x1d2)])[_0x1fedf0(0x1fa)](),_0xc8986d=Math[_0x1fedf0(0x2bb)](_0x4ba8f5,_0x3ef309),_0x1ea012=Math['min'](_0x4925e2,_0x32dbc4);if(_0xc8986d<_0x1ea012){if(_0xc8986d<=_0x4ba8f5&&_0x1ea012>=_0x4925e2-0xea60){if(!_0x3d23ce[_0x1fedf0(0x1ec)]('.day-off-overlay')){const _0x146e1f=document['createElement'](_0x1fedf0(0x182));_0x146e1f[_0x1fedf0(0x232)]=_0x1fedf0(0x191),_0x146e1f[_0x1fedf0(0x212)][_0x1fedf0(0x1c1)]='-'+_0x5e416c+_0x1fedf0(0x216),_0x3d23ce['appendChild'](_0x146e1f);}}else{const _0x42e04c=(_0xc8986d-_0x4ba8f5)/0x36ee80*GRID_H,_0x21a669=(_0x1ea012-_0xc8986d)/0x36ee80*GRID_H,_0x3dae47=document[_0x1fedf0(0x1e8)]('div');_0x3dae47['className']=_0x1fedf0(0x1bd),_0x3dae47[_0x1fedf0(0x212)]['top']=_0x42e04c+'px',_0x3dae47['style'][_0x1fedf0(0x2cd)]=_0x21a669+'px',_0x3dae47[_0x1fedf0(0x212)]['backgroundPosition']='-'+_0x5e416c+_0x1fedf0(0x2f2)+_0x42e04c+'px',_0x3d23ce[_0x1fedf0(0x1dd)](_0x3dae47);}}});}if(dateExceptions[_0x5d1137]==='off'){if(!_0x3d23ce[_0x1fef80(0x1ec)](_0x1fef80(0x2c5))){const _0x5bc7f3=document[_0x1fef80(0x1e8)](_0x1fef80(0x182));_0x5bc7f3['className']=_0x1fef80(0x191),_0x5bc7f3['style'][_0x1fef80(0x1c1)]='-'+_0x5e416c+_0x1fef80(0x216),_0x3d23ce[_0x1fef80(0x1dd)](_0x5bc7f3);}}renderEventsForColumn(_0x3d23ce,_0x5d1137,_0x21c956),updateDayStats(_0x5d1137);});}function updateAllDayStats(){const _0x46ec75=a2_0x4f8cc7;document[_0x46ec75(0x2f1)](_0x46ec75(0x26f))[_0x46ec75(0x2fa)](_0x4f4c52=>{const _0x4781aa=_0x46ec75;updateDayStats(_0x4f4c52[_0x4781aa(0x248)](_0x4781aa(0x1ef)));});}function updateDayStats(_0x179080){const _0x191bcf=a2_0x4f8cc7,_0x4b7c91=document[_0x191bcf(0x2f6)]('stat-'+_0x179080);if(!_0x4b7c91)return;const _0x44c5eb=new Date(_0x179080);let _0xe3b2b9=_0x44c5eb['getDay']()-0x1;if(_0xe3b2b9===-0x1)_0xe3b2b9=0x6;if(dateExceptions[_0x179080]===_0x191bcf(0x20b)){_0x4b7c91[_0x191bcf(0x212)][_0x191bcf(0x29d)]=_0x191bcf(0x1ce);return;}const _0x3c73ca=availabilityPattern[_0xe3b2b9]||[],_0xc062e9=0x18-_0x3c73ca[_0x191bcf(0x2af)],_0x254db5=_0xc062e9*0x3c,_0x3b8d06=sessions[_0x191bcf(0x1b7)](_0x946cd9=>_0x946cd9[_0x191bcf(0x204)]===_0x179080&&_0x946cd9[_0x191bcf(0x198)]!==_0x191bcf(0x2da));if(_0x3b8d06[_0x191bcf(0x2af)]===0x0){_0x4b7c91['style'][_0x191bcf(0x29d)]=_0x191bcf(0x1ce);return;}let _0x5c1c64=_0x3b8d06[_0x191bcf(0x24c)](_0x4a1aa7=>{const _0x16ec81=_0x191bcf,[_0x5d0b73,_0x2aec78]=_0x4a1aa7[_0x16ec81(0x1e5)][_0x16ec81(0x28c)](':')[_0x16ec81(0x24c)](Number),[_0x101220,_0x3f3f3d]=_0x4a1aa7[_0x16ec81(0x1d2)][_0x16ec81(0x28c)](':')[_0x16ec81(0x24c)](Number);return[_0x5d0b73*0x3c+_0x2aec78,_0x101220*0x3c+_0x3f3f3d];});_0x5c1c64[_0x191bcf(0x219)]((_0x2b0fe4,_0x56c12a)=>_0x2b0fe4[0x0]-_0x56c12a[0x0]);let _0x8b124b=[];if(_0x5c1c64[_0x191bcf(0x2af)]>0x0){let _0x56fe97=_0x5c1c64[0x0];for(let _0x348198=0x1;_0x348198<_0x5c1c64[_0x191bcf(0x2af)];_0x348198++){_0x5c1c64[_0x348198][0x0]<_0x56fe97[0x1]?_0x56fe97[0x1]=Math['max'](_0x56fe97[0x1],_0x5c1c64[_0x348198][0x1]):(_0x8b124b['push'](_0x56fe97),_0x56fe97=_0x5c1c64[_0x348198]);}_0x8b124b['push'](_0x56fe97);}let _0x5b463d=0x0;_0x8b124b['forEach'](_0x52c14c=>_0x5b463d+=_0x52c14c[0x1]-_0x52c14c[0x0]),_0x4b7c91[_0x191bcf(0x212)]['display']=_0x191bcf(0x2c4);const _0x17117b=_0x4b7c91[_0x191bcf(0x1ec)](_0x191bcf(0x229));if(_0x254db5===0x0){_0x17117b[_0x191bcf(0x212)][_0x191bcf(0x2ad)]=_0x191bcf(0x2b8),_0x17117b[_0x191bcf(0x212)]['background']='var(--acc-red)';return;}const _0x39048c=_0x5b463d/_0x254db5*0x64;console[_0x191bcf(0x2bd)]('['+_0x179080+']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20'+_0xc062e9+_0x191bcf(0x26a)+_0x5b463d+_0x191bcf(0x2d2)+_0x39048c[_0x191bcf(0x1f1)](0x1)+'%'),_0x39048c>0x64?(_0x17117b[_0x191bcf(0x212)][_0x191bcf(0x2ad)]=_0x191bcf(0x2b8),_0x17117b['style']['background']=_0x191bcf(0x273)):(_0x17117b['style']['width']=_0x39048c+'%',_0x17117b[_0x191bcf(0x212)][_0x191bcf(0x21a)]=_0x191bcf(0x1c0));}function renderEventsForColumn(_0x386e0c,_0x85869b,_0x40bb21){const _0x28963d=a2_0x4f8cc7,_0x20b67e=sessions[_0x28963d(0x1b7)](_0x2b07d4=>_0x2b07d4[_0x28963d(0x204)]===_0x85869b),_0x5c331c=_0x20b67e[_0x28963d(0x24c)](_0x54090d=>{const _0x57f2e6=_0x28963d,[_0x4b31a7,_0x588766]=_0x54090d[_0x57f2e6(0x1e5)][_0x57f2e6(0x28c)](':')['map'](Number),[_0x507a0a,_0x110b29]=_0x54090d[_0x57f2e6(0x1d2)][_0x57f2e6(0x28c)](':')['map'](Number);return{'data':_0x54090d,'start':_0x4b31a7*0x3c+_0x588766,'end':_0x507a0a*0x3c+_0x110b29,'colIndex':0x0};});_0x5c331c[_0x28963d(0x219)]((_0x5b50a2,_0x56ae66)=>{const _0x1c1f5b=_0x28963d;if(_0x5b50a2['start']!==_0x56ae66[_0x1c1f5b(0x1e5)])return _0x5b50a2['start']-_0x56ae66[_0x1c1f5b(0x1e5)];return _0x56ae66[_0x1c1f5b(0x1d2)]-_0x56ae66[_0x1c1f5b(0x1e5)]-(_0x5b50a2[_0x1c1f5b(0x1d2)]-_0x5b50a2[_0x1c1f5b(0x1e5)]);});const _0x41382f=[];_0x5c331c['forEach'](_0x288eb6=>{const _0x50df78=_0x28963d;let _0x472d11=![];for(let _0x42fb62=0x0;_0x42fb62<_0x41382f['length'];_0x42fb62++){const _0x36b595=_0x41382f[_0x42fb62],_0x9bee4e=_0x36b595[_0x36b595[_0x50df78(0x2af)]-0x1];if(_0x288eb6[_0x50df78(0x1e5)]>=_0x9bee4e[_0x50df78(0x1d2)]){_0x36b595[_0x50df78(0x267)](_0x288eb6),_0x288eb6['colIndex']=_0x42fb62,_0x472d11=!![];break;}}!_0x472d11&&(_0x41382f['push']([_0x288eb6]),_0x288eb6[_0x50df78(0x178)]=_0x41382f[_0x50df78(0x2af)]-0x1);}),_0x5c331c['forEach'](_0x5bc9a1=>{const _0x2574f2=_0x28963d;let _0x4e1840=0x0;_0x5c331c['forEach'](_0x268e7b=>{const _0x1c0101=a2_0x537f;if(Math['max'](_0x5bc9a1[_0x1c0101(0x1e5)],_0x268e7b[_0x1c0101(0x1e5)])<Math[_0x1c0101(0x207)](_0x5bc9a1[_0x1c0101(0x1d2)],_0x268e7b[_0x1c0101(0x1d2)])){if(_0x268e7b[_0x1c0101(0x178)]>_0x4e1840)_0x4e1840=_0x268e7b['colIndex'];}});const _0x3adb4e=_0x4e1840+0x1,_0x43e5e4=0x64/_0x3adb4e,_0x5104cf=_0x5bc9a1[_0x2574f2(0x178)]*_0x43e5e4,_0x2d64ec=createEventEl(_0x5bc9a1[_0x2574f2(0x290)]);_0x2d64ec[_0x2574f2(0x212)]['width']='calc('+_0x43e5e4+_0x2574f2(0x2c6),_0x2d64ec['style'][_0x2574f2(0x25e)]=_0x2574f2(0x238)+_0x5104cf+_0x2574f2(0x233),_0x2d64ec[_0x2574f2(0x212)][_0x2574f2(0x223)]=0xa+_0x5bc9a1['colIndex'],_0x43e5e4<0x55&&_0x2d64ec['classList']['add'](_0x2574f2(0x2d6)),_0x386e0c['appendChild'](_0x2d64ec);});}function createEventEl(_0x589f0e){const _0x42e89e=a2_0x4f8cc7,[_0x276077,_0x29134e]=_0x589f0e[_0x42e89e(0x1e5)][_0x42e89e(0x28c)](':')['map'](Number),[_0x59f761,_0x3b72fc]=_0x589f0e[_0x42e89e(0x1d2)][_0x42e89e(0x28c)](':')['map'](Number),_0x40f592=(_0x276077*0x3c+_0x29134e)/0x3c*GRID_H,_0x33d28b=(_0x59f761*0x3c+_0x3b72fc-(_0x276077*0x3c+_0x29134e))/0x3c*GRID_H,_0x3cbfb0=document[_0x42e89e(0x1e8)]('div'),_0x5c8aaa=_0x589f0e[_0x42e89e(0x198)]==='completed'?_0x42e89e(0x22e):'';_0x3cbfb0[_0x42e89e(0x232)]=_0x42e89e(0x242)+_0x5c8aaa,_0x3cbfb0[_0x42e89e(0x212)][_0x42e89e(0x1f7)]=_0x40f592+'px',_0x3cbfb0[_0x42e89e(0x212)][_0x42e89e(0x2cd)]=Math['max'](_0x33d28b,0x14)+'px';const _0x2c1d22=clients[_0x42e89e(0x2ac)](_0x5c6f79=>_0x589f0e['clientId']&&String(_0x5c6f79['id'])===String(_0x589f0e[_0x42e89e(0x2b1)])||_0x5c6f79[_0x42e89e(0x2e2)]===_0x589f0e[_0x42e89e(0x2ec)]),_0x1e1a10=_0x2c1d22?_0x2c1d22[_0x42e89e(0x183)]:'#0a84ff';_0x3cbfb0['style'][_0x42e89e(0x1a5)]=_0x1e1a10,_0x3cbfb0['style']['backgroundColor']=hexToRgba(_0x1e1a10,0.85);let _0x7ff5f='<div\x20class=\x22ev-title\x22>'+_0x589f0e[_0x42e89e(0x2ec)]+'</div><div\x20class=\x22ev-time\x22>'+_0x589f0e[_0x42e89e(0x1e5)]+_0x42e89e(0x1f2)+_0x589f0e[_0x42e89e(0x1d2)]+'</div>';return _0x589f0e[_0x42e89e(0x263)]&&(_0x7ff5f+=_0x42e89e(0x2b0)),_0x589f0e[_0x42e89e(0x198)]===_0x42e89e(0x2ef)&&(_0x7ff5f+=_0x42e89e(0x2c7)),_0x3cbfb0[_0x42e89e(0x2e7)]=_0x7ff5f,_0x3cbfb0[_0x42e89e(0x1a1)]=_0x52ce0c=>{const _0x3a5f4b=_0x42e89e;_0x52ce0c[_0x3a5f4b(0x27d)](),openEdit(_0x589f0e);},_0x3cbfb0;}function attachLongPressHandler(_0x4b01a3,_0x531317){const _0x302b76=a2_0x4f8cc7;let _0x1f0c3f=0x0,_0x3ca77c=null;const _0x424d3=_0x197fe1=>{const _0x3a9aff=a2_0x537f;if(_0x197fe1[_0x3a9aff(0x25c)][_0x3a9aff(0x17e)]('.event-card'))return;isScrolling=![],_0x1f0c3f=_0x197fe1[_0x3a9aff(0x226)]?_0x197fe1[_0x3a9aff(0x226)][0x0][_0x3a9aff(0x20d)]:_0x197fe1['clientY'],_0x3ca77c=setTimeout(()=>{const _0x3cf54b=_0x3a9aff;if(!isScrolling){navigator[_0x3cf54b(0x17b)]?.(0x32);const _0x40378c=_0x4b01a3['getBoundingClientRect'](),_0x18ae9d=Math[_0x3cf54b(0x201)]((_0x1f0c3f-_0x40378c['top'])/GRID_H);_0x531317[_0x3cf54b(0x17a)](_0x18ae9d,0x0),openAddSession(_0x531317);}},0x1f4);},_0x402f04=()=>{isScrolling=!![],clearTimeout(_0x3ca77c);},_0xa30b92=()=>{clearTimeout(_0x3ca77c);};_0x4b01a3[_0x302b76(0x21d)](_0x302b76(0x1fd),_0x424d3,{'passive':!![]}),_0x4b01a3[_0x302b76(0x21d)](_0x302b76(0x296),_0x402f04,{'passive':!![]}),_0x4b01a3['addEventListener']('touchend',_0xa30b92),_0x4b01a3['addEventListener'](_0x302b76(0x1aa),_0x424d3),_0x4b01a3[_0x302b76(0x21d)](_0x302b76(0x194),_0x402f04),_0x4b01a3[_0x302b76(0x21d)](_0x302b76(0x2eb),_0xa30b92);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x2ac8ae=a2_0x4f8cc7,_0x13c234=document[_0x2ac8ae(0x2f6)]('matrixViewport'),_0x367e06=_0x13c234['scrollLeft'],_0x28c183=_0x13c234[_0x2ac8ae(0x2df)],_0x7cc67=_0x13c234[_0x2ac8ae(0x1d8)];if(_0x28c183-(_0x367e06+_0x7cc67)<0x12c){const _0x8648d1=endOffset;endOffset+=0xe,renderDayRange(_0x8648d1+0x1,endOffset),reRenderBlocks();}if(_0x367e06<0x12c){const _0x5155ac=startOffset;startOffset-=0xe,prependDays(startOffset,_0x5155ac-0x1),_0x13c234['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x5343c7,_0x5cb823){const _0x3239b6=a2_0x4f8cc7,_0x2591f3=document[_0x3239b6(0x2f6)](_0x3239b6(0x29e)),_0x415f67=document[_0x3239b6(0x2f6)](_0x3239b6(0x2f4)),_0x54a1e7=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0xb04e7b=new Date();_0xb04e7b[_0x3239b6(0x17a)](0x0,0x0,0x0,0x0);const _0x52bd83=getLocalDateStr(new Date()),_0x40f607=document[_0x3239b6(0x22c)](),_0x4e3c24=document[_0x3239b6(0x22c)]();for(let _0x41d001=_0x5343c7;_0x41d001<=_0x5cb823;_0x41d001++){const _0xfd2d1e=new Date(_0xb04e7b);_0xfd2d1e[_0x3239b6(0x213)](_0xfd2d1e[_0x3239b6(0x280)]()+_0x41d001);const _0x1f7e44=getLocalDateStr(_0xfd2d1e);let _0x1118e0=_0xfd2d1e[_0x3239b6(0x1a7)]()-0x1;if(_0x1118e0===-0x1)_0x1118e0=0x6;const _0xec7a54=_0x1f7e44===_0x52bd83,_0x8dec05=document[_0x3239b6(0x1e8)](_0x3239b6(0x182));_0x8dec05[_0x3239b6(0x232)]=_0x3239b6(0x2c0)+(_0xec7a54?_0x3239b6(0x2ab):''),_0x8dec05['id']=_0x3239b6(0x2fb)+_0x1f7e44,_0x8dec05[_0x3239b6(0x2a5)](_0x3239b6(0x1ef),_0x1f7e44),_0x8dec05['innerHTML']=_0x3239b6(0x215)+_0x54a1e7[_0x1118e0]+'</div><div\x20class=\x22dch-num\x22>'+_0xfd2d1e[_0x3239b6(0x280)]()+_0x3239b6(0x179)+_0x1f7e44+_0x3239b6(0x1cc),_0x8dec05[_0x3239b6(0x1a1)]=()=>openDayOptions(_0x1f7e44,_0x54a1e7[_0x1118e0]+'\x20'+_0xfd2d1e[_0x3239b6(0x280)]()),_0x40f607['appendChild'](_0x8dec05);const _0x3bbc9f=document['createElement'](_0x3239b6(0x182));_0x3bbc9f[_0x3239b6(0x232)]=_0x3239b6(0x1d5)+(_0xec7a54?_0x3239b6(0x2ab):''),_0x3bbc9f[_0x3239b6(0x2a5)](_0x3239b6(0x1ef),_0x1f7e44),_0x3bbc9f['setAttribute'](_0x3239b6(0x2ea),_0x1118e0),renderEventsForColumn(_0x3bbc9f,_0x1f7e44,_0x1118e0),attachLongPressHandler(_0x3bbc9f,_0xfd2d1e),_0x4e3c24[_0x3239b6(0x1dd)](_0x3bbc9f),updateDayStats(_0x1f7e44);}_0x2591f3[_0x3239b6(0x1c2)](_0x40f607,_0x2591f3[_0x3239b6(0x1ab)]),_0x415f67[_0x3239b6(0x1c2)](_0x4e3c24,_0x415f67['querySelector'](_0x3239b6(0x218)));}function validateAppointment(_0x2dd4cd,_0x2d6278,_0x650513,_0x3cc6d8,_0x30db70){const _0xf699b7=a2_0x4f8cc7,[_0xc85f3f,_0x13566c]=_0x2d6278[_0xf699b7(0x28c)](':')[_0xf699b7(0x24c)](Number),[_0x4aacd0,_0x4aa409]=_0x650513[_0xf699b7(0x28c)](':')[_0xf699b7(0x24c)](Number),_0x34f9ae=_0xc85f3f*0x3c+_0x13566c,_0x98dd15=_0x4aacd0*0x3c+_0x4aa409,_0x4b173a=String(_0x30db70);let _0x2d42f0=![],_0x3368f4='';for(let _0x1bf204 of sessions){if(_0x1bf204['dateStr']!==_0x2dd4cd)continue;if(_0x1bf204['status']==='cancelled')continue;if(_0x3cc6d8&&String(_0x1bf204['id'])===String(_0x3cc6d8))continue;const [_0x1b8292,_0x40de34]=_0x1bf204[_0xf699b7(0x1e5)][_0xf699b7(0x28c)](':')[_0xf699b7(0x24c)](Number),[_0x27f073,_0x1b30eb]=_0x1bf204['end']['split'](':')[_0xf699b7(0x24c)](Number),_0x1b03a6=_0x1b8292*0x3c+_0x40de34,_0x43ae06=_0x27f073*0x3c+_0x1b30eb;if(Math[_0xf699b7(0x2bb)](_0x34f9ae,_0x1b03a6)<Math[_0xf699b7(0x207)](_0x98dd15,_0x43ae06)){if(_0x1bf204[_0xf699b7(0x2b1)]&&String(_0x1bf204[_0xf699b7(0x2b1)])===_0x4b173a)return{'valid':![],'msg':_0xf699b7(0x17d)+_0x1bf204[_0xf699b7(0x2ec)]+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x2d42f0=!![],_0x3368f4=_0x1bf204[_0xf699b7(0x2ec)];}}if(_0x2d42f0)return{'valid':!![],'warning':_0xf699b7(0x25a)+_0x3368f4};return{'valid':!![]};}function updateDateDisplay(){const _0x411fde=a2_0x4f8cc7,_0x3320e1=document[_0x411fde(0x2f6)]('inpDate')[_0x411fde(0x274)],_0x336cc9=document[_0x411fde(0x2f6)]('sheetDateSubtitle');if(!_0x3320e1){_0x336cc9[_0x411fde(0x1ca)]='';return;}const [_0x5aeaf1,_0x308180,_0x5dac68]=_0x3320e1['split']('-')['map'](Number),_0xda010a=new Date(_0x5aeaf1,_0x308180-0x1,_0x5dac68),_0x46f515={'weekday':_0x411fde(0x2b5),'day':_0x411fde(0x18e),'month':_0x411fde(0x2b5),'year':_0x411fde(0x18e)};let _0x331c5b=_0xda010a[_0x411fde(0x1da)]('ru-RU',_0x46f515);_0x331c5b=_0x331c5b[_0x411fde(0x1c8)](0x0)['toUpperCase']()+_0x331c5b[_0x411fde(0x2b7)](0x1),_0x336cc9[_0x411fde(0x1ca)]=_0x331c5b;}function autoSetEndTime(){const _0xe4e03a=a2_0x4f8cc7,_0x51cbde=document[_0xe4e03a(0x2f6)](_0xe4e03a(0x26d))['value'];if(!_0x51cbde)return;const [_0x148663,_0x26b12e]=_0x51cbde['split'](':')['map'](Number);let _0x136724=_0x148663+0x1;if(_0x136724>0x17)_0x136724=0x0;const _0x24123e=String(_0x136724)['padStart'](0x2,'0')+':'+String(_0x26b12e)['padStart'](0x2,'0');document['getElementById'](_0xe4e03a(0x2ce))[_0xe4e03a(0x274)]=_0x24123e;}function populateClientSelect(){const _0x3ff3d5=a2_0x4f8cc7,_0x28e004=document[_0x3ff3d5(0x2f6)](_0x3ff3d5(0x1bb));_0x28e004[_0x3ff3d5(0x2e7)]='';if(clients['length']===0x0){const _0x94a6f3=document['createElement']('option');_0x94a6f3[_0x3ff3d5(0x249)]=_0x3ff3d5(0x25f),_0x28e004[_0x3ff3d5(0x1dd)](_0x94a6f3);return;}clients['forEach'](_0x9c4dab=>{const _0x43034f=_0x3ff3d5,_0x58aa48=document['createElement'](_0x43034f(0x1f9));_0x58aa48[_0x43034f(0x274)]=_0x9c4dab[_0x43034f(0x2e2)],_0x58aa48[_0x43034f(0x1ca)]=_0x9c4dab[_0x43034f(0x2e2)],_0x28e004['appendChild'](_0x58aa48);});}function openActionSheet(_0x598bae){const _0x248dc5=a2_0x4f8cc7,_0x53a92d=document[_0x248dc5(0x2f6)]('actionSheet'),_0x42007f=document[_0x248dc5(0x2f6)](_0x248dc5(0x1b2)),_0x420891=document[_0x248dc5(0x2f6)](_0x248dc5(0x259)),_0x27dd66=document[_0x248dc5(0x2f6)]('asBtnOne'),_0x3db42b=document[_0x248dc5(0x2f6)](_0x248dc5(0x24b));_0x42007f[_0x248dc5(0x278)]['add'](_0x248dc5(0x279)),_0x53a92d['classList'][_0x248dc5(0x1ae)](_0x248dc5(0x22d));if(_0x598bae===_0x248dc5(0x17f))_0x420891['textContent']=_0x248dc5(0x1de),_0x27dd66['textContent']='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x27dd66['onclick']=()=>{const _0x341e41=_0x248dc5;closeActionSheet(),updateSeriesBatch(_0x341e41(0x244),tempSessionData);},_0x3db42b[_0x248dc5(0x1ca)]=_0x248dc5(0x23b),_0x3db42b['onclick']=()=>{const _0x1b8ce2=_0x248dc5;closeActionSheet(),updateSeriesBatch(_0x1b8ce2(0x240),tempSessionData);};else _0x598bae==='delete'&&(_0x420891['textContent']='–£–¥–∞–ª–µ–Ω–∏–µ',_0x27dd66[_0x248dc5(0x1ca)]=_0x248dc5(0x1cb),_0x27dd66[_0x248dc5(0x232)]='as-button\x20danger',_0x27dd66[_0x248dc5(0x1a1)]=()=>{const _0x5a074b=_0x248dc5;closeActionSheet(),commitDelete(_0x5a074b(0x244),sessions[_0x5a074b(0x2ac)](_0x3c56cc=>_0x3c56cc['id']===editingId));},_0x3db42b[_0x248dc5(0x1ca)]='–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ',_0x3db42b[_0x248dc5(0x232)]=_0x248dc5(0x2ae),_0x3db42b[_0x248dc5(0x1a1)]=()=>{const _0x470fe0=_0x248dc5;closeActionSheet(),commitDelete(_0x470fe0(0x240),sessions['find'](_0x24288e=>_0x24288e['id']===editingId));});}function closeActionSheet(){const _0x47d07e=a2_0x4f8cc7;document[_0x47d07e(0x2f6)](_0x47d07e(0x2d4))['classList'][_0x47d07e(0x29a)](_0x47d07e(0x22d)),document[_0x47d07e(0x2f6)](_0x47d07e(0x1b2))['classList'][_0x47d07e(0x29a)](_0x47d07e(0x279));}function openSettings(){const _0x199039=a2_0x4f8cc7;openSheet(_0x199039(0x235));}function saveCoachSettings(){const _0x4b6c5b=a2_0x4f8cc7,_0x55301c=document[_0x4b6c5b(0x2f6)](_0x4b6c5b(0x245))[_0x4b6c5b(0x274)];localStorage[_0x4b6c5b(0x27a)]('uc_settings_cancel_window',_0x55301c),console['log'](_0x4b6c5b(0x2e9),_0x55301c),DataManager[_0x4b6c5b(0x276)](_0x4b6c5b(0x292),{'settings':{'cancel_window':_0x55301c}})[_0x4b6c5b(0x26c)](_0x3a7797=>{const _0x457281=_0x4b6c5b;console[_0x457281(0x2b4)](_0x457281(0x2d9),_0x3a7797),showToast(_0x457281(0x2de),![]);});}function loadCoachSettings(){const _0x34af96=a2_0x4f8cc7,_0xcdead9=localStorage[_0x34af96(0x24f)](_0x34af96(0x26e));_0xcdead9&&(document[_0x34af96(0x2f6)](_0x34af96(0x245))[_0x34af96(0x274)]=_0xcdead9);}function openRangesSheet(){closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet('rangesSheet');}function addRange(){const _0x3de59=a2_0x4f8cc7,_0x2ba8da=document[_0x3de59(0x2f6)](_0x3de59(0x2bc))[_0x3de59(0x274)],_0x3d29d4=document[_0x3de59(0x2f6)](_0x3de59(0x22f))[_0x3de59(0x274)],_0x571868=document[_0x3de59(0x2f6)](_0x3de59(0x203))[_0x3de59(0x274)],_0x5401d9=document[_0x3de59(0x2f6)](_0x3de59(0x2be))[_0x3de59(0x274)];if(!_0x2ba8da||!_0x3d29d4||!_0x571868||!_0x5401d9)return alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è');const _0x3fb9d0=_0x2ba8da+'T'+_0x3d29d4,_0x256709=_0x571868+'T'+_0x5401d9;if(_0x3fb9d0>=_0x256709)return alert('–û—à–∏–±–∫–∞\x20–¥–∞—Ç');specialRanges[_0x3de59(0x267)]({'start':_0x3fb9d0,'end':_0x256709}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x3de59(0x2f0)](),DataManager[_0x3de59(0x276)](_0x3de59(0x292),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x214024){const _0x378345=a2_0x4f8cc7;specialRanges[_0x378345(0x270)](_0x214024,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x378345(0x2f0)](),DataManager[_0x378345(0x276)](_0x378345(0x292),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x21f68c=a2_0x4f8cc7;document['getElementById']('rangeStartDate')[_0x21f68c(0x274)]='',document[_0x21f68c(0x2f6)]('rangeStartTime')['value']='00:00',document[_0x21f68c(0x2f6)](_0x21f68c(0x203))[_0x21f68c(0x274)]='',document[_0x21f68c(0x2f6)]('rangeEndTime')[_0x21f68c(0x274)]=_0x21f68c(0x1d1);}function renderRangesList(){const _0x461769=a2_0x4f8cc7,_0x3c413c=document[_0x461769(0x2f6)](_0x461769(0x2db));_0x3c413c[_0x461769(0x2e7)]='';if(!specialRanges['length']){_0x3c413c[_0x461769(0x2e7)]=_0x461769(0x1bf);return;}specialRanges[_0x461769(0x2fa)]((_0x422aa9,_0x5c0f88)=>{const _0x42ce85=_0x461769,_0x3b4010=document[_0x42ce85(0x1e8)](_0x42ce85(0x182));_0x3b4010[_0x42ce85(0x232)]=_0x42ce85(0x202);const _0x484521=_0x3e225c=>{const _0x4d2bc9=_0x42ce85,_0x4471dd=new Date(_0x3e225c);return _0x4471dd[_0x4d2bc9(0x280)]()+'.'+String(_0x4471dd['getMonth']()+0x1)[_0x4d2bc9(0x2d0)](0x2,'0')+'\x20'+String(_0x4471dd['getHours']())[_0x4d2bc9(0x2d0)](0x2,'0')+':'+String(_0x4471dd[_0x4d2bc9(0x286)]())[_0x4d2bc9(0x2d0)](0x2,'0');};_0x3b4010['innerHTML']=_0x42ce85(0x1a8)+_0x484521(_0x422aa9[_0x42ce85(0x1e5)])+'\x20‚Äî\x20'+_0x484521(_0x422aa9[_0x42ce85(0x1d2)])+_0x42ce85(0x2ed)+_0x5c0f88+_0x42ce85(0x254),_0x3c413c[_0x42ce85(0x1dd)](_0x3b4010);});}function scrollToToday(){const _0x21f823=a2_0x4f8cc7,_0x45c165=getLocalDateStr(new Date()),_0x189df3=document[_0x21f823(0x2f6)](_0x21f823(0x2fb)+_0x45c165),_0x1d5bb0=document['getElementById'](_0x21f823(0x20e));if(_0x189df3&&_0x1d5bb0){const _0x1b0db5=_0x1d5bb0[_0x21f823(0x1d8)],_0x218e96=_0x189df3[_0x21f823(0x187)],_0x5dddd1=_0x189df3['offsetWidth'];_0x1d5bb0[_0x21f823(0x2a7)]=_0x218e96-_0x1b0db5/0x2+_0x5dddd1/0x2,_0x1d5bb0[_0x21f823(0x2d1)]=0x9*GRID_H;}}function onScroll(){const _0x1b717c=a2_0x4f8cc7,_0x520d57=document[_0x1b717c(0x2f6)]('matrixViewport'),_0x3423ce=document[_0x1b717c(0x2f1)](_0x1b717c(0x26f));for(let _0x37d3b2 of _0x3423ce)if(_0x37d3b2['offsetLeft']>=_0x520d57['scrollLeft']){const _0x506690=new Date(_0x37d3b2[_0x1b717c(0x248)](_0x1b717c(0x1ef)));document[_0x1b717c(0x2f6)](_0x1b717c(0x1e3))['textContent']=_0x506690[_0x1b717c(0x197)]('ru',{'month':_0x1b717c(0x2b5)})[_0x1b717c(0x1a4)]()+'\x20'+_0x506690['getFullYear']();break;}}function showToast(_0x41772f,_0x520e7b=![]){const _0x4a05f4=a2_0x4f8cc7,_0x2e6aaa=document[_0x4a05f4(0x2f6)]('toast');_0x2e6aaa[_0x4a05f4(0x232)]=_0x4a05f4(0x1d3)+(_0x520e7b?_0x4a05f4(0x189):''),document[_0x4a05f4(0x2f6)](_0x4a05f4(0x1d6))[_0x4a05f4(0x1ca)]=_0x520e7b?_0x4a05f4(0x17c):_0x4a05f4(0x297),document[_0x4a05f4(0x2f6)](_0x4a05f4(0x20f))[_0x4a05f4(0x1ca)]=_0x41772f,_0x2e6aaa[_0x4a05f4(0x278)]['add'](_0x4a05f4(0x284)),setTimeout(()=>{const _0x3e8571=_0x4a05f4;_0x2e6aaa['classList'][_0x3e8571(0x29a)]('show');},0xbb8);}function openDayOptions(_0x86e9b5,_0x38bf8b){const _0x34d4a7=a2_0x4f8cc7;selectedDayForOptions=_0x86e9b5,document[_0x34d4a7(0x2f6)](_0x34d4a7(0x27f))[_0x34d4a7(0x1ca)]=_0x38bf8b,openSheet('dayOptionsSheet');}function toggleDayOff(){const _0x463fed=a2_0x4f8cc7;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x463fed(0x20b),reRenderBlocks(),closeAllSheets(),DataManager[_0x463fed(0x2f0)](),DataManager[_0x463fed(0x276)](_0x463fed(0x292),{'settings':{'exceptions':dateExceptions}}));}function a2_0x2a40(){const _0x1bbfa3=['firstChild','initData','substr','add',':00','timeColumn',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','actionSheetOverlay','[Notify]\x20Attempting\x20to\x20send:','deleted','v9.0-BATCH-CALENDAR','Unknown','filter','inpRecurring','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','msg','inpClient','ru-RU','blocked-range-part\x20stripe-bg','stringify','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','var(--acc-current)','backgroundPosition','insertBefore','anPercent','T23:59:59','anCustomDates','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','charAt','getText','textContent','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','none','getFullYear','...','23:59','end','toast-notification\x20','21039IOHXMH','day-column\x20','toastTitle','patternEditor','clientWidth','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','toLocaleDateString','btnDayToggle','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','appendChild','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','[Sync]\x20Loading\x20','[Notify]\x20Error:\x20sessionData\x20is\x20null','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','var(--acc-green)','headerMonth','POST','start','text/plain;charset=UTF-8','[Series]\x20Skipped\x20','createElement','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','pe-cell\x20','search','querySelector','Batch\x20Sync\x20OK','#050505','data-date','doDateHeader','toFixed','\x20-\x20','3229016kRUWIy','warn','doLoadPercent','btn-primary\x20btn-danger','top','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','option','getTime','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','<span>','touchstart','sessionSheet','btnDelete','keys','floor','range-item','rangeEndDate','dateStr','BackButton','sheetTitle','min','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','apply','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','off','224glUWnT','clientY','matrixViewport','toastMessage',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','(((.+)+)+)+$','style','setDate','anDonutCircle','<div\x20class=\x22dch-day\x22>','px\x200px','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.day-column','sort','background','ready','btnStatusToggle','addEventListener','Local\x20Save\x20Error','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','blocked-slot\x20stripe-bg','round','zIndex','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','offClick','touches','[Notify]\x20Network\x20Failed','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','.dch-stats-fill','onClick','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','createDocumentFragment','open','\x20status-completed','rangeStartTime','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','<b>‚úÖ\x20','className','%\x20+\x202px)','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','settingsSheet','</b>\x0a\x0a','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','calc(',':00</span>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','borderColor','Error\x20setting\x20back\x20button:','</span>\x20/\x20','from','series','statLoadCard','event-card','#gridColumns\x20.day-column','single','settingCancelWindow','update','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','getAttribute','text','create','asBtnSeries','map','timeLineBadge','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','getItem','13uLWNHw','getMonth','settings','disableVerticalSwipes',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','rgba(255,\x2069,\x2058,\x200.3)','startsWith','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','10px\x2010px\x200\x200','asTitle','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','\x20‚Äî\x20','target','seriesCountContainer','left','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','clients','total','strokeDashoffset','seriesId','planned','analyticsSheet','send','push','overlay','pe-time-label','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','catch','inpStart','uc_settings_cancel_window','.day-col-header','splice','initDataUnsafe','WebApp','var(--acc-red)','value','entries','fetchFromServer','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','classList','active','setItem','indexOf','checked','stopPropagation','then','dayOptionsTitle','getDate','toString','getHours','rgba(255,\x20159,\x2010,\x200.3)','show','setMonth','getMinutes','\x20–∏–∑\x20','null','findIndex','Server\x20Error','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','split','undefined','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','[Notify]\x20Error:\x20Text\x20generation\x20failed','data','cancel','save_settings','inpDate','inpSeriesCount','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','touchmove','–ò–Ω—Ñ–æ','Local\x20Load\x20Error','1895376QwSNee','remove','json','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','display','daysHeaderTrack','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','syncLoad','note','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','week','exceptions','setAttribute','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','scrollLeft','uc_clients_v9','valid','[Notify]\x20Server\x20Response:','today','find','width','as-button\x20danger\x20bold','length','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','clientId','pe-col-header','formatDate','error','long','patternInfoBox','slice','100%','doBusyHours','loadLocal','max','rangeStartDate','log','rangeEndTime','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','day-col-header\x20','ranges','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','rgba(48,\x20209,\x2088,\x200.15)','flex','.day-off-overlay','%\x20-\x204px)','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','DOMContentLoaded','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','recurringOptionContainer','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','init_load','height','inpEnd','href','padStart','scrollTop','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','analyticsList','actionSheet','doWorkHours','mini','isArray','[Notify]\x20Detected\x20Client\x20ID:','Save\x20settings\x20error:','cancelled','rangesList','anEnd','location','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','scrollWidth',':\x20Client\x20already\x20booked','inpNote','name','anStart','batch_sync','2850380lzDipx','mergeServerData','innerHTML','[Notify]\x20Client\x20SWAP\x20detected','[Settings]\x20Cancel\x20window\x20set\x20to:','data-day-idx','mouseup','client','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','now','completed','saveLocally','querySelectorAll','px\x20-','10px','gridColumns','peGrid','getElementById','borderRadius','rgba(255,\x2069,\x2058,\x200.15)','warning','forEach','header-','de-item','colIndex','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','setHours','vibrate','–£—Å–ø–µ—à–Ω–æ','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','closest','save','setHeaderColor','calendar','div','color','scroll','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','setBackgroundColor','offsetLeft','6448383OKvIQU','success','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','custom','user','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','numeric','Telegram','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','day-off-overlay\x20stripe-bg','complete','month','mousemove','47884fcRwrB','2146722rTghMt','toLocaleString','status','[API\x20','cancel_window','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','syncBatch','parse','.period-switch\x20.p-btn','block','pattern','onclick','.pib-text','#fff','toUpperCase','borderLeftColor','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','getDay','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','done','mousedown'];a2_0x2a40=function(){return _0x1bbfa3;};return a2_0x2a40();}function clearDayOff(){const _0x360925=a2_0x4f8cc7;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager['fetchFromServer'](_0x360925(0x292),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x24adbc){const _0x4b4d9f=a2_0x4f8cc7;document[_0x4b4d9f(0x2f6)](_0x4b4d9f(0x268))['classList'][_0x4b4d9f(0x1ae)]('active'),document['getElementById'](_0x24adbc)['classList']['add']('open');}function closeAllSheets(){const _0x41d390=a2_0x4f8cc7;document[_0x41d390(0x2f6)](_0x41d390(0x268))[_0x41d390(0x278)][_0x41d390(0x29a)](_0x41d390(0x279)),document[_0x41d390(0x2f1)]('.sheet')[_0x41d390(0x2fa)](_0x40a2f8=>_0x40a2f8['classList'][_0x41d390(0x29a)](_0x41d390(0x22d)));}function openPatternEditor(){const _0x1968d1=a2_0x4f8cc7;closeAllSheets(),document['getElementById'](_0x1968d1(0x1d7))['classList']['add'](_0x1968d1(0x22d)),renderPatternEditor();}function closePatternEditor(){const _0x1ee566=a2_0x4f8cc7;document[_0x1ee566(0x2f6)](_0x1ee566(0x1d7))[_0x1ee566(0x278)]['remove']('open');}function savePattern(){const _0xa1c9d4=a2_0x4f8cc7;document[_0xa1c9d4(0x2f6)]('patternEditor')[_0xa1c9d4(0x278)][_0xa1c9d4(0x29a)](_0xa1c9d4(0x22d)),reRenderBlocks(),DataManager[_0xa1c9d4(0x2f0)](),DataManager[_0xa1c9d4(0x276)](_0xa1c9d4(0x292),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x3689f9=a2_0x4f8cc7,_0x226243=document[_0x3689f9(0x2f6)](_0x3689f9(0x2f5));_0x226243[_0x3689f9(0x2e7)]='';const _0x1d4b08=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x44f3d7=document['createElement'](_0x3689f9(0x182));_0x44f3d7[_0x3689f9(0x232)]='pe-corner',_0x226243[_0x3689f9(0x1dd)](_0x44f3d7),_0x1d4b08[_0x3689f9(0x2fa)]((_0x15a355,_0x5c60ae)=>{const _0x57e1db=_0x3689f9,_0x359b78=document[_0x57e1db(0x1e8)](_0x57e1db(0x182));_0x359b78[_0x57e1db(0x232)]=_0x57e1db(0x2b2),_0x359b78['innerHTML']=_0x15a355+_0x57e1db(0x257),_0x359b78[_0x57e1db(0x1a1)]=()=>toggleColPattern(_0x5c60ae),_0x226243[_0x57e1db(0x1dd)](_0x359b78);});for(let _0x1fd3a4=0x0;_0x1fd3a4<0x18;_0x1fd3a4++){const _0xb3bbe9=document[_0x3689f9(0x1e8)](_0x3689f9(0x182));_0xb3bbe9[_0x3689f9(0x232)]=_0x3689f9(0x269),_0xb3bbe9[_0x3689f9(0x2e7)]=_0x3689f9(0x19b)+String(_0x1fd3a4)[_0x3689f9(0x2d0)](0x2,'0')+':00',_0xb3bbe9['onclick']=()=>toggleRowPattern(_0x1fd3a4),_0x226243['appendChild'](_0xb3bbe9);for(let _0x4c65f0=0x0;_0x4c65f0<0x7;_0x4c65f0++){const _0x45d78f=document[_0x3689f9(0x1e8)](_0x3689f9(0x182)),_0x309352=(availabilityPattern[_0x4c65f0]||[])['includes'](_0x1fd3a4),_0x17204c=!_0x309352;_0x45d78f['className']=_0x3689f9(0x1ea)+(_0x17204c?_0x3689f9(0x279):''),_0x45d78f[_0x3689f9(0x1a1)]=()=>toggleSinglePattern(_0x4c65f0,_0x1fd3a4),_0x226243[_0x3689f9(0x1dd)](_0x45d78f);}}}function toggleSinglePattern(_0x1c98eb,_0x4e569c){const _0x3d1629=a2_0x4f8cc7;if(!availabilityPattern[_0x1c98eb])availabilityPattern[_0x1c98eb]=[];const _0x631ad0=availabilityPattern[_0x1c98eb],_0x4ea5e4=_0x631ad0[_0x3d1629(0x27b)](_0x4e569c);_0x4ea5e4===-0x1?_0x631ad0['push'](_0x4e569c):_0x631ad0['splice'](_0x4ea5e4,0x1),renderPatternEditor();}function toggleColPattern(_0x48e75f){const _0x4e46e1=a2_0x4f8cc7;if(!availabilityPattern[_0x48e75f])availabilityPattern[_0x48e75f]=[];const _0x58f9bc=availabilityPattern[_0x48e75f];_0x58f9bc[_0x4e46e1(0x2af)]===0x0?availabilityPattern[_0x48e75f]=Array['from']({'length':0x18},(_0x595806,_0x2ff23d)=>_0x2ff23d):availabilityPattern[_0x48e75f]=[],renderPatternEditor();}function toggleRowPattern(_0x3f2e67){const _0x505888=a2_0x4f8cc7;let _0x535b63=!![];for(let _0x1cd1ac=0x0;_0x1cd1ac<0x7;_0x1cd1ac++){if((availabilityPattern[_0x1cd1ac]||[])['includes'](_0x3f2e67)){_0x535b63=![];break;}}for(let _0x20998b=0x0;_0x20998b<0x7;_0x20998b++){if(!availabilityPattern[_0x20998b])availabilityPattern[_0x20998b]=[];const _0x566096=availabilityPattern[_0x20998b][_0x505888(0x27b)](_0x3f2e67);if(_0x535b63){if(_0x566096===-0x1)availabilityPattern[_0x20998b][_0x505888(0x267)](_0x3f2e67);}else{if(_0x566096!==-0x1)availabilityPattern[_0x20998b][_0x505888(0x270)](_0x566096,0x1);}}renderPatternEditor();}function renderPCol(_0x18c73c,_0x1e840a){const _0x39e185=a2_0x4f8cc7;_0x18c73c[_0x39e185(0x2e7)]='';const _0x266e0f=Math[_0x39e185(0x222)](_0x18c73c['offsetLeft']);(availabilityPattern[_0x1e840a]||[])[_0x39e185(0x2fa)](_0x3843d4=>{const _0x4860c6=_0x39e185,_0x7dea7a=document[_0x4860c6(0x1e8)]('div');_0x7dea7a[_0x4860c6(0x232)]=_0x4860c6(0x221);const _0x446e5e=_0x3843d4*GRID_H;_0x7dea7a[_0x4860c6(0x212)][_0x4860c6(0x1f7)]=_0x446e5e+'px',_0x7dea7a['style']['backgroundPosition']='-'+_0x266e0f+_0x4860c6(0x2f2)+_0x446e5e+'px',_0x7dea7a['onclick']=_0xda66b5=>{const _0x119334=_0x4860c6;_0xda66b5[_0x119334(0x27d)](),toggleSinglePattern(_0x1e840a,_0x3843d4);},_0x18c73c[_0x4860c6(0x1dd)](_0x7dea7a);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x3c7b7f=a2_0x4f8cc7,_0x2c9b19=new Date(),_0xf37fa3=document[_0x3c7b7f(0x2f6)]('globalTimeLine'),_0x328e51=document[_0x3c7b7f(0x2f6)](_0x3c7b7f(0x24d)),_0x3ab882=(_0x2c9b19['getHours']()*0x3c+_0x2c9b19['getMinutes']())/0x3c*GRID_H;_0xf37fa3[_0x3c7b7f(0x212)][_0x3c7b7f(0x1f7)]=_0x3ab882+'px',_0xf37fa3[_0x3c7b7f(0x212)][_0x3c7b7f(0x29d)]=_0x3c7b7f(0x19f),_0x328e51['textContent']=String(_0x2c9b19[_0x3c7b7f(0x282)]())[_0x3c7b7f(0x2d0)](0x2,'0')+':'+String(_0x2c9b19[_0x3c7b7f(0x286)]())[_0x3c7b7f(0x2d0)](0x2,'0'),_0x328e51['style'][_0x3c7b7f(0x29d)]=_0x3c7b7f(0x19f),_0x328e51['style'][_0x3c7b7f(0x1f7)]=_0x3ab882+'px';}document[a2_0x4f8cc7(0x21d)](a2_0x4f8cc7(0x2c8),init);function openDayOptions(_0x26e309){const _0x179214=a2_0x4f8cc7;selectedDayForOptions=_0x26e309;const _0xcbea75=new Date(_0x26e309),_0x5d2ff0={'weekday':_0x179214(0x2b5),'day':'numeric','month':'long','year':'numeric'},_0x324e8d=_0xcbea75['toLocaleDateString'](_0x179214(0x1bc),_0x5d2ff0);document[_0x179214(0x2f6)](_0x179214(0x1f0))[_0x179214(0x1ca)]=_0x324e8d[_0x179214(0x1c8)](0x0)[_0x179214(0x1a4)]()+_0x324e8d[_0x179214(0x2b7)](0x1);let _0x1a6095=_0xcbea75[_0x179214(0x1a7)]()-0x1;if(_0x1a6095===-0x1)_0x1a6095=0x6;const _0x480ef0=availabilityPattern[_0x1a6095]||[],_0x54f339=0x18-_0x480ef0[_0x179214(0x2af)],_0x2d269c=_0x54f339*0x3c,_0x7eef07=sessions[_0x179214(0x1b7)](_0x292a85=>_0x292a85[_0x179214(0x204)]===_0x26e309&&_0x292a85[_0x179214(0x198)]!==_0x179214(0x2da));let _0x5f4b4c=_0x7eef07['map'](_0xdbec8c=>{const _0x1f956c=_0x179214,[_0x352e58,_0x31583f]=_0xdbec8c[_0x1f956c(0x1e5)]['split'](':')[_0x1f956c(0x24c)](Number),[_0x554ff3,_0xfea889]=_0xdbec8c[_0x1f956c(0x1d2)][_0x1f956c(0x28c)](':')[_0x1f956c(0x24c)](Number);return[_0x352e58*0x3c+_0x31583f,_0x554ff3*0x3c+_0xfea889];});_0x5f4b4c[_0x179214(0x219)]((_0x59c61f,_0xc983c0)=>_0x59c61f[0x0]-_0xc983c0[0x0]);let _0x104e11=[];if(_0x5f4b4c[_0x179214(0x2af)]>0x0){let _0x5abf8a=_0x5f4b4c[0x0];for(let _0x2ba394=0x1;_0x2ba394<_0x5f4b4c[_0x179214(0x2af)];_0x2ba394++){_0x5f4b4c[_0x2ba394][0x0]<_0x5abf8a[0x1]?_0x5abf8a[0x1]=Math['max'](_0x5abf8a[0x1],_0x5f4b4c[_0x2ba394][0x1]):(_0x104e11[_0x179214(0x267)](_0x5abf8a),_0x5abf8a=_0x5f4b4c[_0x2ba394]);}_0x104e11[_0x179214(0x267)](_0x5abf8a);}let _0x4fe58a=0x0;_0x104e11[_0x179214(0x2fa)](_0x15c586=>_0x4fe58a+=_0x15c586[0x1]-_0x15c586[0x0]),document[_0x179214(0x2f6)](_0x179214(0x2d5))[_0x179214(0x1ca)]=formatMinsToHrs(_0x2d269c),document['getElementById'](_0x179214(0x2b9))[_0x179214(0x1ca)]=formatMinsToHrs(_0x4fe58a);const _0x6334cc=_0x2d269c>0x0?Math[_0x179214(0x222)](_0x4fe58a/_0x2d269c*0x64):0x0,_0x3bbb5a=document[_0x179214(0x2f6)](_0x179214(0x1f5));_0x3bbb5a[_0x179214(0x1ca)]=_0x6334cc+'%';const _0x4eb072=document['getElementById'](_0x179214(0x241));if(_0x6334cc>0x64)_0x3bbb5a[_0x179214(0x212)][_0x179214(0x183)]='var(--acc-red)',_0x4eb072[_0x179214(0x212)][_0x179214(0x23c)]=_0x179214(0x255);else _0x6334cc>0x50?(_0x3bbb5a[_0x179214(0x212)]['color']='var(--acc-orange)',_0x4eb072[_0x179214(0x212)]['borderColor']=_0x179214(0x283)):(_0x3bbb5a[_0x179214(0x212)][_0x179214(0x183)]=_0x179214(0x1e2),_0x4eb072['style'][_0x179214(0x23c)]='rgba(255,255,255,0.05)');const _0x253d20=document[_0x179214(0x2f6)]('doEventsList');_0x253d20['innerHTML']='';_0x7eef07['length']===0x0?_0x253d20[_0x179214(0x2e7)]='<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>':(_0x7eef07['sort']((_0x12a7f2,_0x4baae8)=>_0x12a7f2[_0x179214(0x1e5)]['localeCompare'](_0x4baae8[_0x179214(0x1e5)])),_0x7eef07[_0x179214(0x2fa)](_0x329601=>{const _0xbac9a2=_0x179214,_0x5123d6=clients[_0xbac9a2(0x2ac)](_0x346b50=>_0x346b50[_0xbac9a2(0x2e2)]===_0x329601['client']),_0x1d6e22=_0x5123d6?_0x5123d6[_0xbac9a2(0x183)]:_0xbac9a2(0x1a3),_0x4b8572=_0x329601[_0xbac9a2(0x198)]===_0xbac9a2(0x2ef),_0x36764e=_0x4b8572?_0xbac9a2(0x228):'',_0x5646df=document[_0xbac9a2(0x1e8)](_0xbac9a2(0x182));_0x5646df['className']=_0xbac9a2(0x177),_0x5646df[_0xbac9a2(0x212)][_0xbac9a2(0x1a5)]=_0x1d6e22,_0x5646df[_0xbac9a2(0x2e7)]=_0xbac9a2(0x28e)+_0x329601[_0xbac9a2(0x1e5)]+_0xbac9a2(0x1f2)+_0x329601[_0xbac9a2(0x1d2)]+_0xbac9a2(0x1dc)+_0x329601[_0xbac9a2(0x2ec)]+_0xbac9a2(0x18a)+_0x36764e+_0xbac9a2(0x185),_0x253d20['appendChild'](_0x5646df);}));const _0x20b0ab=document['getElementById'](_0x179214(0x1db)),_0x5c0071=dateExceptions[_0x26e309]===_0x179214(0x20b);_0x5c0071?(_0x20b0ab[_0x179214(0x1ca)]=_0x179214(0x1b9),_0x20b0ab[_0x179214(0x232)]='btn-primary\x20btn-secondary',_0x20b0ab[_0x179214(0x212)]['color']='var(--acc-green)',_0x20b0ab[_0x179214(0x212)]['background']=_0x179214(0x2c3)):(_0x20b0ab[_0x179214(0x1ca)]=_0x179214(0x24e),_0x20b0ab['className']=_0x179214(0x1f6),_0x20b0ab[_0x179214(0x212)]['color']='var(--acc-red)',_0x20b0ab['style']['background']=_0x179214(0x2f8)),openSheet('dayOptionsSheet');}let currentAnPeriod=a2_0x4f8cc7(0x2a3);function openAnalytics(){const _0xf54cf6=a2_0x4f8cc7,_0x2616a2=document['querySelector'](_0xf54cf6(0x19e));setAnalyticsPeriod(_0xf54cf6(0x2a3),_0x2616a2),closeAllSheets(),openSheet(_0xf54cf6(0x265));}function setAnalyticsPeriod(_0x4e5f9a,_0x416aca){const _0x2c59a4=a2_0x4f8cc7;currentAnPeriod=_0x4e5f9a,document[_0x2c59a4(0x2f1)](_0x2c59a4(0x19e))[_0x2c59a4(0x2fa)](_0x498519=>_0x498519['classList'][_0x2c59a4(0x29a)](_0x2c59a4(0x279)));if(_0x416aca)_0x416aca['classList'][_0x2c59a4(0x1ae)](_0x2c59a4(0x279));const _0x3fc43b=document['getElementById'](_0x2c59a4(0x1c5));_0x3fc43b[_0x2c59a4(0x212)][_0x2c59a4(0x29d)]=_0x4e5f9a===_0x2c59a4(0x18b)?_0x2c59a4(0x2c4):'none';const _0x46a153=new Date();let _0x62e4ec=new Date(),_0x3ceffb=new Date();if(_0x4e5f9a==='week')_0x62e4ec=getStartOfWeek(_0x46a153),_0x3ceffb=new Date(_0x62e4ec),_0x3ceffb[_0x2c59a4(0x213)](_0x3ceffb[_0x2c59a4(0x280)]()+0x6);else{if(_0x4e5f9a===_0x2c59a4(0x193))_0x62e4ec=new Date(_0x46a153['getFullYear'](),_0x46a153['getMonth'](),0x1),_0x3ceffb=new Date(_0x46a153[_0x2c59a4(0x1cf)](),_0x46a153['getMonth']()+0x1,0x0);else{!document[_0x2c59a4(0x2f6)](_0x2c59a4(0x2e3))[_0x2c59a4(0x274)]&&(document['getElementById']('anStart')['value']=getLocalDateStr(_0x46a153),document[_0x2c59a4(0x2f6)](_0x2c59a4(0x2dc))[_0x2c59a4(0x274)]=getLocalDateStr(_0x46a153));refreshAnalytics();return;}}document[_0x2c59a4(0x2f6)]('anStart')[_0x2c59a4(0x274)]=getLocalDateStr(_0x62e4ec),document['getElementById']('anEnd')['value']=getLocalDateStr(_0x3ceffb),refreshAnalytics();}function refreshAnalytics(){const _0x201e47=a2_0x4f8cc7,_0x53b362=document[_0x201e47(0x2f6)]('anStart')['value'],_0x38c384=document[_0x201e47(0x2f6)](_0x201e47(0x2dc))['value'];if(!_0x53b362||!_0x38c384)return;const _0x376dc4=sessions[_0x201e47(0x1b7)](_0x1a5fbc=>_0x1a5fbc[_0x201e47(0x204)]>=_0x53b362&&_0x1a5fbc[_0x201e47(0x204)]<=_0x38c384&&_0x1a5fbc[_0x201e47(0x198)]!==_0x201e47(0x2da)),_0x1e2b46=_0x376dc4['length'],_0x27be64=_0x376dc4[_0x201e47(0x1b7)](_0x3299f5=>_0x3299f5[_0x201e47(0x198)]===_0x201e47(0x2ef))[_0x201e47(0x2af)],_0x59e417=_0x1e2b46>0x0?Math['round'](_0x27be64/_0x1e2b46*0x64):0x0;document[_0x201e47(0x2f6)](_0x201e47(0x1c3))[_0x201e47(0x1ca)]=_0x59e417+'%',document[_0x201e47(0x2f6)]('anTotalStats')['textContent']=_0x27be64+_0x201e47(0x287)+_0x1e2b46+_0x201e47(0x277);const _0x35d4fc=document[_0x201e47(0x2f6)](_0x201e47(0x214)),_0x1ddf3f=0x2*Math['PI']*0x23,_0x65fa84=_0x1ddf3f-_0x59e417/0x64*_0x1ddf3f;_0x35d4fc[_0x201e47(0x212)][_0x201e47(0x262)]=_0x65fa84;const _0x3a487f={};_0x376dc4[_0x201e47(0x2fa)](_0x4dbb08=>{const _0x455727=_0x201e47;if(!_0x3a487f[_0x4dbb08['client']]){const _0x5d912b=clients['find'](_0x6e43b3=>_0x6e43b3['name']===_0x4dbb08[_0x455727(0x2ec)]);_0x3a487f[_0x4dbb08[_0x455727(0x2ec)]]={'total':0x0,'done':0x0,'color':_0x5d912b?_0x5d912b['color']:'#fff'};}_0x3a487f[_0x4dbb08[_0x455727(0x2ec)]][_0x455727(0x261)]++;if(_0x4dbb08[_0x455727(0x198)]===_0x455727(0x2ef))_0x3a487f[_0x4dbb08[_0x455727(0x2ec)]][_0x455727(0x1a9)]++;});const _0x165951=document[_0x201e47(0x2f6)](_0x201e47(0x2d3));_0x165951[_0x201e47(0x2e7)]='';const _0x2fcdca=Object[_0x201e47(0x275)](_0x3a487f)['sort']((_0x5686dd,_0x12c2de)=>_0x12c2de[0x1]['total']-_0x5686dd[0x1][_0x201e47(0x261)]);if(_0x2fcdca['length']===0x0){_0x165951[_0x201e47(0x2e7)]='<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>';return;}_0x2fcdca['forEach'](([_0xaf71dd,_0x3e62a4])=>{const _0x201e52=_0x201e47,_0x41f091=Math[_0x201e52(0x222)](_0x3e62a4[_0x201e52(0x1a9)]/_0x3e62a4[_0x201e52(0x261)]*0x64),_0x5b6d82=document[_0x201e52(0x1e8)](_0x201e52(0x182));_0x5b6d82[_0x201e52(0x232)]='client-stat-card',_0x5b6d82[_0x201e52(0x212)][_0x201e52(0x1a5)]=_0x3e62a4[_0x201e52(0x183)],_0x5b6d82[_0x201e52(0x2e7)]=_0x201e52(0x247)+_0xaf71dd+_0x201e52(0x23a)+_0x3e62a4[_0x201e52(0x1a9)]+_0x201e52(0x23e)+_0x3e62a4['total']+_0x201e52(0x1cd)+_0x41f091+_0x201e52(0x217),_0x165951[_0x201e52(0x1dd)](_0x5b6d82);});}function formatMinsToHrs(_0x24f5cf){const _0x552cb9=a2_0x4f8cc7;if(_0x24f5cf===0x0)return'0';const _0x3e9e7f=Math[_0x552cb9(0x201)](_0x24f5cf/0x3c),_0x5175d4=_0x24f5cf%0x3c;if(_0x5175d4===0x0)return _0x3e9e7f+'—á';return _0x3e9e7f+'—á\x20'+_0x5175d4+'–º';}