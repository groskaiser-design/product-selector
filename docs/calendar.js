const a2_0x281a11=a2_0x12cc;(function(_0x4b1d70,_0x358493){const _0x9747ee=a2_0x12cc,_0x3d7c61=_0x4b1d70();while(!![]){try{const _0x53a209=-parseInt(_0x9747ee(0x101))/0x1*(parseInt(_0x9747ee(0x13f))/0x2)+-parseInt(_0x9747ee(0x1e0))/0x3*(-parseInt(_0x9747ee(0x1ca))/0x4)+-parseInt(_0x9747ee(0x1e6))/0x5+parseInt(_0x9747ee(0x1b9))/0x6*(parseInt(_0x9747ee(0xcc))/0x7)+parseInt(_0x9747ee(0x180))/0x8*(-parseInt(_0x9747ee(0x240))/0x9)+-parseInt(_0x9747ee(0x18b))/0xa+-parseInt(_0x9747ee(0x14a))/0xb*(-parseInt(_0x9747ee(0x19b))/0xc);if(_0x53a209===_0x358493)break;else _0x3d7c61['push'](_0x3d7c61['shift']());}catch(_0x55d72d){_0x3d7c61['push'](_0x3d7c61['shift']());}}}(a2_0x5bbb,0x9bd8a),function initTMA(){const _0x449392=a2_0x12cc;try{const _0x194f4f=window[_0x449392(0x155)]?.[_0x449392(0x15e)];if(!_0x194f4f)return;_0x194f4f[_0x449392(0x149)](),_0x194f4f['expand']();try{_0x194f4f[_0x449392(0x1bf)](_0x449392(0x1c5)),_0x194f4f[_0x449392(0x198)]&&_0x194f4f[_0x449392(0x198)](_0x449392(0x1c5));}catch(_0x46a20a){console[_0x449392(0x156)]('Error\x20setting\x20color:',_0x46a20a);}try{_0x194f4f[_0x449392(0x16b)]&&(_0x194f4f[_0x449392(0x16b)]['show'](),_0x194f4f[_0x449392(0x16b)][_0x449392(0x1ac)](),_0x194f4f[_0x449392(0x16b)][_0x449392(0x1af)](function(){const _0x513cd3=_0x449392;window[_0x513cd3(0x230)][_0x513cd3(0x102)]=_0x513cd3(0xe5);}));}catch(_0x2ebc42){console[_0x449392(0x156)](_0x449392(0x1bc),_0x2ebc42);}try{if(_0x194f4f[_0x449392(0x23f)])_0x194f4f[_0x449392(0x23f)]();}catch(_0x3c77ca){}}catch(_0x1c271c){console['error'](_0x449392(0x1d2),_0x1c271c);}}());function isAdmin(){const _0xc23dc5=a2_0x12cc;try{const _0x4c9c35=Number(window['Telegram']?.[_0xc23dc5(0x15e)]?.[_0xc23dc5(0x221)]?.[_0xc23dc5(0xf9)]?.['id']);return _0x4c9c35===0xbaf7174;}catch(_0x250955){return![];}}const APP_VERSION=a2_0x281a11(0x1ed),API_URL='https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec',GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x281a11(0xe9),KEY_SESSIONS=a2_0x281a11(0xfe),KEY_SETTINGS=a2_0x281a11(0x170);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x22ff4c=a2_0x281a11;return window[_0x22ff4c(0x155)]?.[_0x22ff4c(0x15e)]?.[_0x22ff4c(0x221)]?.[_0x22ff4c(0xf9)]?.['id']||_0x22ff4c(0x1a2);},'saveLocally'(){const _0x58b4ab=a2_0x281a11;try{localStorage[_0x58b4ab(0x109)](KEY_CLIENTS,JSON[_0x58b4ab(0x1f5)](clients)),localStorage[_0x58b4ab(0x109)](KEY_SESSIONS,JSON['stringify'](sessions)),localStorage['setItem'](KEY_SETTINGS,JSON[_0x58b4ab(0x1f5)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x5828cc){console[_0x58b4ab(0x237)]('Local\x20Save\x20Error',_0x5828cc);}},'loadLocal'(){const _0x5ad824=a2_0x281a11;try{const _0x3dc4e8=localStorage[_0x5ad824(0x14d)](KEY_CLIENTS);if(_0x3dc4e8)clients=JSON[_0x5ad824(0x13d)](_0x3dc4e8);const _0x4f1d1b=localStorage[_0x5ad824(0x14d)](KEY_SESSIONS);if(_0x4f1d1b)sessions=JSON[_0x5ad824(0x13d)](_0x4f1d1b);const _0x590fb5=localStorage[_0x5ad824(0x14d)](KEY_SETTINGS);if(_0x590fb5){const _0x5ebeef=JSON['parse'](_0x590fb5);if(_0x5ebeef[_0x5ad824(0x1c3)])availabilityPattern=_0x5ebeef[_0x5ad824(0x1c3)];if(_0x5ebeef['exceptions'])dateExceptions=_0x5ebeef[_0x5ad824(0x21e)];if(_0x5ebeef[_0x5ad824(0xe4)])specialRanges=_0x5ebeef['ranges'];}else{for(let _0x37de10=0x0;_0x37de10<0x7;_0x37de10++)availabilityPattern[_0x37de10]=Array[_0x5ad824(0x16f)]({'length':0xc},(_0x2226f8,_0x4e729d)=>_0x4e729d+0x9);}}catch(_0x3888f2){console[_0x5ad824(0x237)](_0x5ad824(0x1aa),_0x3888f2);}},async 'fetchFromServer'(_0x1c77f8,_0xae0e9={}){const _0x2fd39f=a2_0x281a11,_0x5e3e97=window[_0x2fd39f(0x155)]?.[_0x2fd39f(0x15e)],_0x13d04f={'action':_0x1c77f8,'init_data':_0x5e3e97?.['initData']||'',..._0xae0e9};try{const _0x25210c=await fetch(API_URL,{'method':_0x2fd39f(0x197),'headers':{'Content-Type':_0x2fd39f(0x22c)},'body':JSON[_0x2fd39f(0x1f5)](_0x13d04f)}),_0x4a16ee=await _0x25210c['json']();if(!_0x4a16ee['ok'])throw new Error(_0x4a16ee[_0x2fd39f(0x237)]||_0x2fd39f(0x11a));return _0x4a16ee[_0x2fd39f(0x190)];}catch(_0x4e2322){console[_0x2fd39f(0x237)]('[API\x20'+_0x1c77f8+']\x20Failed:',_0x4e2322);throw _0x4e2322;}},async 'syncLoad'(){const _0x31b928=a2_0x281a11,_0x6f33a9=new Date(),_0x51ba3f=_0x6f33a9['getFullYear']()+'-'+String(_0x6f33a9['getMonth']()+0x1)[_0x31b928(0x239)](0x2,'0'),_0x1264f3=new Date(_0x6f33a9);_0x1264f3['setMonth'](_0x6f33a9[_0x31b928(0x18a)]()+0x1);const _0x2964f2=_0x1264f3[_0x31b928(0x1b5)]()+'-'+String(_0x1264f3[_0x31b928(0x18a)]()+0x1)[_0x31b928(0x239)](0x2,'0'),_0x20c687=Date[_0x31b928(0xc1)]();console[_0x31b928(0x156)]('[Sync]\x20Loading\x20'+_0x51ba3f+',\x20'+_0x2964f2+_0x31b928(0x17b));try{const [_0x24d618,_0x15296a]=await Promise['all']([this[_0x31b928(0x10a)](_0x31b928(0x1a6),{'month_str':_0x51ba3f}),this[_0x31b928(0x10a)](_0x31b928(0x1a6),{'month_str':_0x2964f2})]);if(lastUserActionTime>_0x20c687)return console[_0x31b928(0x1b7)](_0x31b928(0xf1)),![];return this[_0x31b928(0x22d)](_0x24d618,_0x51ba3f),this[_0x31b928(0x22d)](_0x15296a,_0x2964f2),this[_0x31b928(0x16a)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x5e84c7){console['error'](_0x5e84c7);throw _0x5e84c7;}},'mergeServerData'(_0xd8779f,_0x29c9d3){const _0x551016=a2_0x281a11;if(!_0xd8779f)return;_0xd8779f[_0x551016(0x204)]&&Array[_0x551016(0x15d)](_0xd8779f[_0x551016(0x204)])&&(clients=_0xd8779f[_0x551016(0x204)]);if(_0xd8779f[_0x551016(0x12c)]){if(_0xd8779f[_0x551016(0x12c)][_0x551016(0x1c3)])availabilityPattern=_0xd8779f['settings']['pattern'];if(_0xd8779f[_0x551016(0x12c)][_0x551016(0x21e)])dateExceptions=_0xd8779f[_0x551016(0x12c)][_0x551016(0x21e)];if(_0xd8779f[_0x551016(0x12c)][_0x551016(0xe4)])specialRanges=_0xd8779f[_0x551016(0x12c)][_0x551016(0xe4)];if(_0xd8779f['settings']['cancel_window']){localStorage[_0x551016(0x109)](_0x551016(0x18e),_0xd8779f[_0x551016(0x12c)][_0x551016(0x1b8)]);const _0x5d5609=document[_0x551016(0x1b3)](_0x551016(0x146));if(_0x5d5609)_0x5d5609['value']=_0xd8779f[_0x551016(0x12c)][_0x551016(0x1b8)];}}_0xd8779f[_0x551016(0x129)]&&(sessions=sessions[_0x551016(0x100)](_0x300e39=>!_0x300e39[_0x551016(0x104)][_0x551016(0x1d5)](_0x29c9d3)),Object[_0x551016(0x1d9)](_0xd8779f[_0x551016(0x129)])[_0x551016(0x15c)](_0x3ed2fb=>{const _0x1b7774=_0x551016,_0xafd156=_0xd8779f['calendar'][_0x3ed2fb];_0xafd156[_0x1b7774(0x15c)](_0x5575a9=>{const _0x3c9a3f=_0x1b7774,_0x28c496=clients[_0x3c9a3f(0x1b4)](_0x14adc3=>String(_0x14adc3['id'])===String(_0x5575a9['c']));sessions[_0x3c9a3f(0x209)]({'id':_0x5575a9['i'],'clientId':_0x5575a9['c'],'client':_0x28c496?_0x28c496[_0x3c9a3f(0x1d4)]:_0x3c9a3f(0x241),'dateStr':_0x29c9d3+'-'+_0x3ed2fb['padStart'](0x2,'0'),'start':_0x5575a9['s'],'end':_0x5575a9['e'],'status':_0x5575a9['st']||'planned','note':_0x5575a9['n']||'','seriesId':_0x5575a9[_0x3c9a3f(0x206)]||null});});}));},async 'syncBatch'(_0x15022){const _0x5a6d2b=a2_0x281a11,_0x55f101=[...new Set(_0x15022)],_0x4c9fbe=_0x55f101['map'](_0xd6f1c5=>{const _0x298321=a2_0x12cc,_0xd093e5=sessions[_0x298321(0x100)](_0x374ae0=>_0x374ae0[_0x298321(0x104)]===_0xd6f1c5&&_0x374ae0[_0x298321(0x120)]!==_0x298321(0x13a)),_0x598b27=_0xd093e5[_0x298321(0x1e9)](_0x43879d=>({'i':_0x43879d['id'],'c':_0x43879d[_0x298321(0x11e)],'s':_0x43879d[_0x298321(0x217)],'e':_0x43879d[_0x298321(0x1e7)],'st':_0x43879d[_0x298321(0x120)],'n':_0x43879d[_0x298321(0x1fb)],'sid':_0x43879d[_0x298321(0x157)]}));return{'date':_0xd6f1c5,'day_data':_0x598b27};});if(_0x4c9fbe[_0x5a6d2b(0x21a)]===0x0)return;console['log'](_0x5a6d2b(0x15a)+_0x4c9fbe['length']+_0x5a6d2b(0xd4)),await this[_0x5a6d2b(0x10a)]('batch_sync',{'changes':_0x4c9fbe});}};async function init(){const _0x49a696=a2_0x281a11;DataManager['loadLocal'](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x49a696(0x1b3)](_0x49a696(0x1dd))[_0x49a696(0x140)](_0x49a696(0x14b),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']()[_0x49a696(0xcf)](()=>{const _0x437826=_0x49a696;showToast(_0x437826(0x222),!![]);})[_0x49a696(0x192)](_0x2bbe05=>{const _0x3ba66f=_0x49a696;showToast(_0x3ba66f(0xf5),![]);});}function generateId(){const _0x5907d6=a2_0x281a11;return Date[_0x5907d6(0xc1)]()[_0x5907d6(0x124)](0x24)+Math[_0x5907d6(0x1ad)]()['toString'](0x24)[_0x5907d6(0x1a5)](0x2,0x5);}function toggleSeriesInput(){const _0x44ee83=a2_0x281a11,_0x2cafdb=document['getElementById']('inpRecurring')[_0x44ee83(0x1a7)],_0x3da9d1=document[_0x44ee83(0x1b3)]('seriesCountContainer');_0x3da9d1[_0x44ee83(0x1ff)][_0x44ee83(0x18c)]=_0x2cafdb?_0x44ee83(0xdd):_0x44ee83(0x12e);const _0x284406=document[_0x44ee83(0x1b3)](_0x44ee83(0x167));_0x284406[_0x44ee83(0x1ff)][_0x44ee83(0x14e)]=_0x2cafdb?_0x44ee83(0x136):_0x44ee83(0xd2);}function openAddSession(_0x1cbb0e){const _0x4a3e3c=a2_0x281a11;editingId=null,populateClientSelect(),document[_0x4a3e3c(0x1b3)]('sheetTitle')[_0x4a3e3c(0x23c)]=_0x4a3e3c(0x108),document['getElementById'](_0x4a3e3c(0x214))[_0x4a3e3c(0x1ff)][_0x4a3e3c(0x18c)]='none',document[_0x4a3e3c(0x1b3)](_0x4a3e3c(0x131))[_0x4a3e3c(0x1ff)]['display']=_0x4a3e3c(0x12e);const _0x44d95b=document[_0x4a3e3c(0x1b3)](_0x4a3e3c(0x167)),_0x2b6bdd=document[_0x4a3e3c(0x1b3)](_0x4a3e3c(0xcd));_0x44d95b[_0x4a3e3c(0x1ff)][_0x4a3e3c(0x18c)]=_0x4a3e3c(0x1e5),_0x44d95b[_0x4a3e3c(0x1ff)][_0x4a3e3c(0x14e)]=_0x4a3e3c(0xd2),document[_0x4a3e3c(0x1b3)](_0x4a3e3c(0x147))['checked']=![],document['getElementById'](_0x4a3e3c(0x184))[_0x4a3e3c(0x1ec)]=0x4,_0x2b6bdd[_0x4a3e3c(0x1ff)][_0x4a3e3c(0x18c)]=_0x4a3e3c(0x12e),document['getElementById']('inpDate')[_0x4a3e3c(0x1ec)]=getLocalDateStr(_0x1cbb0e),updateDateDisplay();const _0x4e8e08=_0x1cbb0e[_0x4a3e3c(0x164)]();document[_0x4a3e3c(0x1b3)](_0x4a3e3c(0xe0))[_0x4a3e3c(0x1ec)]=String(_0x4e8e08)[_0x4a3e3c(0x239)](0x2,'0')+_0x4a3e3c(0x19e),document[_0x4a3e3c(0x1b3)](_0x4a3e3c(0x14f))[_0x4a3e3c(0x1ec)]=String(_0x4e8e08+0x1)[_0x4a3e3c(0x239)](0x2,'0')+':00',openSheet('sessionSheet');}function openEdit(_0x2b59cb){const _0x3c6cdb=a2_0x281a11;editingId=_0x2b59cb['id'],populateClientSelect(),document[_0x3c6cdb(0x1b3)]('sheetTitle')['textContent']='–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å',document[_0x3c6cdb(0x1b3)](_0x3c6cdb(0x214))[_0x3c6cdb(0x1ff)][_0x3c6cdb(0x18c)]='block';const _0x35e9b5=document[_0x3c6cdb(0x1b3)](_0x3c6cdb(0x131));_0x35e9b5['style'][_0x3c6cdb(0x18c)]=_0x3c6cdb(0x1e5);_0x2b59cb['status']==='completed'?(_0x35e9b5['className']=_0x3c6cdb(0x11c),_0x35e9b5[_0x3c6cdb(0x106)]=_0x3c6cdb(0xf8)):(_0x35e9b5['className']=_0x3c6cdb(0x15b),_0x35e9b5[_0x3c6cdb(0x106)]=_0x3c6cdb(0x1c8));const _0x4af125=!!_0x2b59cb[_0x3c6cdb(0x157)];document[_0x3c6cdb(0x1b3)]('recurringOptionContainer')['style'][_0x3c6cdb(0x18c)]=_0x3c6cdb(0x12e),document[_0x3c6cdb(0x1b3)](_0x3c6cdb(0xcd))['style'][_0x3c6cdb(0x18c)]=_0x3c6cdb(0x12e),_0x4af125?(document[_0x3c6cdb(0x1b3)](_0x3c6cdb(0x110))[_0x3c6cdb(0x1ff)][_0x3c6cdb(0x18c)]=_0x3c6cdb(0x1e5),document[_0x3c6cdb(0x1b3)](_0x3c6cdb(0x110))[_0x3c6cdb(0x179)]('.pib-text')[_0x3c6cdb(0x23c)]=_0x3c6cdb(0x21b)):document[_0x3c6cdb(0x1b3)](_0x3c6cdb(0x110))[_0x3c6cdb(0x1ff)][_0x3c6cdb(0x18c)]=_0x3c6cdb(0x12e),document[_0x3c6cdb(0x1b3)](_0x3c6cdb(0x1de))[_0x3c6cdb(0x1ec)]=_0x2b59cb[_0x3c6cdb(0x1c7)],document[_0x3c6cdb(0x1b3)]('inpDate')['value']=_0x2b59cb[_0x3c6cdb(0x104)],document[_0x3c6cdb(0x1b3)](_0x3c6cdb(0xe0))[_0x3c6cdb(0x1ec)]=_0x2b59cb[_0x3c6cdb(0x217)],document[_0x3c6cdb(0x1b3)]('inpEnd')['value']=_0x2b59cb[_0x3c6cdb(0x1e7)],document[_0x3c6cdb(0x1b3)](_0x3c6cdb(0x178))[_0x3c6cdb(0x1ec)]=_0x2b59cb[_0x3c6cdb(0x1fb)]||'',updateDateDisplay(),openSheet(_0x3c6cdb(0x22b));}async function trySaveSession(){const _0x42254b=a2_0x281a11,_0xb5e054=document[_0x42254b(0x1b3)](_0x42254b(0x1de))[_0x42254b(0x1ec)],_0x2a8d78=document[_0x42254b(0x1b3)](_0x42254b(0x1ae))[_0x42254b(0x1ec)],_0x328154=document['getElementById'](_0x42254b(0xe0))[_0x42254b(0x1ec)],_0x7d0bd6=document['getElementById'](_0x42254b(0x14f))['value'],_0x3edd83=document['getElementById'](_0x42254b(0x178))['value'],_0x59a71b=document[_0x42254b(0x1b3)](_0x42254b(0x147))[_0x42254b(0x1a7)];let _0x928bdc=0x4;if(_0x59a71b){const _0x2a4492=parseInt(document[_0x42254b(0x1b3)](_0x42254b(0x184))[_0x42254b(0x1ec)]);if(!_0x2a4492||_0x2a4492<0x2){showToast(_0x42254b(0xed),![]);return;}if(_0x2a4492>0x64){showToast('–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑',![]);return;}_0x928bdc=_0x2a4492;}const _0xef37dc=clients['find'](_0x490421=>_0x490421[_0x42254b(0x1d4)]===_0xb5e054);if(!_0xef37dc){showToast('–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞',![]);return;}const _0x138e4c=validateAppointment(_0x2a8d78,_0x328154,_0x7d0bd6,editingId,_0xef37dc['id']);if(!_0x138e4c[_0x42254b(0x127)]){showToast(_0x138e4c[_0x42254b(0x1cc)],![]);return;}_0x138e4c[_0x42254b(0x10f)]&&showToast(_0x138e4c[_0x42254b(0x10f)],![]);const _0xd13ce2={'client':_0xb5e054,'clientId':_0xef37dc['id'],'start':_0x328154,'end':_0x7d0bd6,'note':_0x3edd83,'status':_0x42254b(0x203)},_0x161370=editingId?sessions['find'](_0x1d6660=>_0x1d6660['id']===editingId):null;if(_0x161370&&_0x161370[_0x42254b(0x157)]){tempSessionData={..._0xd13ce2,'dateStr':_0x2a8d78,'id':editingId,'seriesId':_0x161370[_0x42254b(0x157)]},openActionSheet(_0x42254b(0x161));return;}let _0x27e198=null;if(!editingId)_0x27e198=_0x42254b(0xfb);else{if(_0x161370){if(String(_0x161370['clientId'])!==String(_0xef37dc['id']))console['log'](_0x42254b(0x23b)),NotificationManager[_0x42254b(0x236)](_0x42254b(0xff),_0x161370),_0x27e198=_0x42254b(0xfb);else(_0x161370[_0x42254b(0x217)]!==_0x328154||_0x161370[_0x42254b(0x1e7)]!==_0x7d0bd6||_0x161370[_0x42254b(0x104)]!==_0x2a8d78)&&(_0x27e198=_0x42254b(0x23d));}}if(!editingId&&_0x59a71b){createBatchSeries(_0xd13ce2,_0x2a8d78,_0x928bdc),NotificationManager[_0x42254b(0x236)]('create',{..._0xd13ce2,'dateStr':_0x2a8d78});return;}lastUserActionTime=Date[_0x42254b(0xc1)]();const _0x10bee0={..._0xd13ce2,'dateStr':_0x2a8d78,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x10bee0),_0x27e198&&NotificationManager[_0x42254b(0x236)](_0x27e198,_0x10bee0);}function toggleSessionStatus(){const _0x3ac569=a2_0x281a11;lastUserActionTime=Date[_0x3ac569(0xc1)]();const _0x26e6bc=sessions['find'](_0xb7ad3e=>_0xb7ad3e['id']===editingId);if(!_0x26e6bc)return;const _0x55e648=_0x26e6bc[_0x3ac569(0x120)]===_0x3ac569(0x212)?_0x3ac569(0x203):_0x3ac569(0x212);_0x26e6bc['status']=_0x55e648,saveSingleSession(_0x26e6bc),_0x55e648===_0x3ac569(0x212)&&NotificationManager[_0x3ac569(0x236)](_0x3ac569(0x21c),_0x26e6bc),showToast(_0x55e648===_0x3ac569(0x212)?_0x3ac569(0x1e1):'–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω',!![]);}function validateAppointment(_0x448537,_0x35af89,_0x1fb4fe,_0x297ad9,_0x51ed7b){const _0x567841=a2_0x281a11,[_0x49ce53,_0xadb0a3]=_0x35af89[_0x567841(0x191)](':')[_0x567841(0x1e9)](Number),[_0x169345,_0x47d5a1]=_0x1fb4fe[_0x567841(0x191)](':')[_0x567841(0x1e9)](Number),_0x4b6429=_0x49ce53*0x3c+_0xadb0a3,_0x152fec=_0x169345*0x3c+_0x47d5a1,_0x23322d=String(_0x51ed7b);let _0x4b0ffd=![],_0x22dc16='';for(let _0xb1a64b of sessions){if(_0xb1a64b[_0x567841(0x104)]!==_0x448537)continue;if(_0xb1a64b[_0x567841(0x120)]==='cancelled')continue;if(_0x297ad9&&String(_0xb1a64b['id'])===String(_0x297ad9))continue;const [_0x5ce4d7,_0x49e22f]=_0xb1a64b['start'][_0x567841(0x191)](':')[_0x567841(0x1e9)](Number),[_0xc99ec0,_0x4c9147]=_0xb1a64b['end'][_0x567841(0x191)](':')[_0x567841(0x1e9)](Number),_0x107f7e=_0x5ce4d7*0x3c+_0x49e22f,_0x11ea85=_0xc99ec0*0x3c+_0x4c9147;if(Math['max'](_0x4b6429,_0x107f7e)<Math['min'](_0x152fec,_0x11ea85)){if(_0xb1a64b[_0x567841(0x11e)]&&String(_0xb1a64b['clientId'])===_0x23322d)return{'valid':![],'msg':_0x567841(0x13b)+_0xb1a64b['client']+_0x567841(0x1c6)};_0x4b0ffd=!![],_0x22dc16=_0xb1a64b[_0x567841(0x1c7)];}}if(_0x4b0ffd)return{'valid':!![],'warning':'–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20'+_0x22dc16};return{'valid':!![]};}function saveSingleSession(_0x5bf726){const _0x40c948=a2_0x281a11;if(editingId){const _0x11ed36=sessions[_0x40c948(0x134)](_0x338441=>_0x338441['id']===editingId);if(_0x11ed36!==-0x1)sessions[_0x11ed36]=_0x5bf726;}else sessions[_0x40c948(0x209)](_0x5bf726);afterSaveAction([_0x5bf726[_0x40c948(0x104)]]);}function createBatchSeries(_0x93e76b,_0x205a35,_0x4c6adc){const _0x16a05a=a2_0x281a11,_0x29ff05=generateId(),_0x4a5d78=[],_0x1ff07f=[];let _0x26a128=0x0,_0xe90214=new Date(_0x205a35);for(let _0x425869=0x0;_0x425869<_0x4c6adc;_0x425869++){const _0x240bdb=getLocalDateStr(_0xe90214),_0x2d160b=validateAppointment(_0x240bdb,_0x93e76b[_0x16a05a(0x217)],_0x93e76b[_0x16a05a(0x1e7)],null,_0x93e76b[_0x16a05a(0x11e)]);if(!_0x2d160b[_0x16a05a(0x127)])console[_0x16a05a(0x156)](_0x16a05a(0x205)+_0x240bdb+':\x20Client\x20already\x20booked'),_0x26a128++;else{const _0xa9ce9c={..._0x93e76b,'id':generateId(),'dateStr':_0x240bdb,'seriesId':_0x29ff05};_0x1ff07f['push'](_0xa9ce9c),_0x4a5d78['push'](_0x240bdb);}_0xe90214[_0x16a05a(0xef)](_0xe90214[_0x16a05a(0xc3)]()+0x7);}if(_0x1ff07f[_0x16a05a(0x21a)]===0x0){showToast(_0x16a05a(0x11b),![]);return;}sessions[_0x16a05a(0x209)](..._0x1ff07f),lastUserActionTime=Date[_0x16a05a(0xc1)]();let _0x15e02f=_0x16a05a(0x10e)+_0x1ff07f['length'];_0x26a128>0x0&&(_0x15e02f+='\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20'+_0x26a128+')'),showToast(_0x15e02f,!![]),afterSaveAction(_0x4a5d78);}function updateSeriesBatch(_0x3c0ade,_0x1d4ed7){const _0x30c619=a2_0x281a11,_0x41f7e2=[],_0x53e3e7=_0x1d4ed7['seriesId'];if(_0x3c0ade===_0x30c619(0x1e4)){const _0x1a1392={..._0x1d4ed7,'seriesId':null},_0x4965b9=sessions[_0x30c619(0x134)](_0x5e6020=>_0x5e6020['id']===_0x1d4ed7['id']);if(_0x4965b9!==-0x1)sessions[_0x4965b9]=_0x1a1392;_0x41f7e2['push'](_0x1a1392[_0x30c619(0x104)]);}else{if(_0x3c0ade===_0x30c619(0x22f)){const _0x14e78b=_0x1d4ed7[_0x30c619(0x104)];sessions[_0x30c619(0x15c)]((_0x3f1984,_0x128c46)=>{const _0x1df05d=_0x30c619;_0x3f1984[_0x1df05d(0x157)]===_0x53e3e7&&_0x3f1984['dateStr']>=_0x14e78b&&(sessions[_0x128c46]={...sessions[_0x128c46],'start':_0x1d4ed7[_0x1df05d(0x217)],'end':_0x1d4ed7[_0x1df05d(0x1e7)],'note':_0x1d4ed7[_0x1df05d(0x1fb)],'client':_0x1d4ed7[_0x1df05d(0x1c7)],'clientId':_0x1d4ed7['clientId']},_0x41f7e2[_0x1df05d(0x209)](_0x3f1984['dateStr']));});}}afterSaveAction(_0x41f7e2);}function tryDeleteSession(){const _0x554048=a2_0x281a11,_0xf5a3c1=sessions[_0x554048(0x1b4)](_0x2d5286=>_0x2d5286['id']===editingId);if(!_0xf5a3c1)return;_0xf5a3c1[_0x554048(0x157)]?openActionSheet('delete'):commitDelete(_0x554048(0x1e4),_0xf5a3c1);}function commitDelete(_0x4ea812,_0x4517d3){const _0x275171=a2_0x281a11;lastUserActionTime=Date[_0x275171(0xc1)](),NotificationManager[_0x275171(0x236)](_0x275171(0xff),_0x4517d3);const _0x2343fc=[];if(_0x4ea812===_0x275171(0x1e4))sessions=sessions[_0x275171(0x100)](_0x49e56e=>_0x49e56e['id']!==_0x4517d3['id']),_0x2343fc[_0x275171(0x209)](_0x4517d3['dateStr']);else{if(_0x4ea812===_0x275171(0x22f)){const _0x5b836c=_0x4517d3[_0x275171(0x104)],_0x4720be=_0x4517d3[_0x275171(0x157)];sessions[_0x275171(0x15c)](_0x5313ed=>{const _0x3203bc=_0x275171;_0x5313ed[_0x3203bc(0x157)]===_0x4720be&&_0x5313ed[_0x3203bc(0x104)]>=_0x5b836c&&_0x2343fc['push'](_0x5313ed[_0x3203bc(0x104)]);}),sessions=sessions['filter'](_0x263cd3=>!(_0x263cd3[_0x275171(0x157)]===_0x4720be&&_0x263cd3[_0x275171(0x104)]>=_0x5b836c));}}afterSaveAction(_0x2343fc);}function afterSaveAction(_0x3a264c){const _0x49bad1=a2_0x281a11;DataManager[_0x49bad1(0x16a)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x49bad1(0x173)](_0x3a264c)[_0x49bad1(0xcf)](()=>console[_0x49bad1(0x156)](_0x49bad1(0x20d)))[_0x49bad1(0x192)](_0x37b059=>showToast(_0x49bad1(0x1d3),![]));}const NotificationManager={'formatDate'(_0x29ec0c){const _0x34bfc8=a2_0x281a11,_0x5cccc8=new Date(_0x29ec0c),_0xb2008e={'weekday':_0x34bfc8(0xd5),'day':_0x34bfc8(0x1f1),'month':_0x34bfc8(0xd5)};let _0x3e5680=_0x5cccc8[_0x34bfc8(0x1fc)](_0x34bfc8(0x194),_0xb2008e);return _0x3e5680['charAt'](0x0)[_0x34bfc8(0x1eb)]()+_0x3e5680['slice'](0x1);},'getText'(_0x71232c,_0x20ea86){const _0x45110c=a2_0x281a11,_0x59ea85=this['formatDate'](_0x20ea86[_0x45110c(0x104)]);switch(_0x71232c){case _0x45110c(0xfb):return _0x45110c(0x1be)+(_0x45110c(0x1f8)+_0x59ea85+'\x0a')+(_0x45110c(0x1d1)+_0x20ea86[_0x45110c(0x217)]+'\x20‚Äî\x20'+_0x20ea86[_0x45110c(0x1e7)]+'\x0a\x0a')+_0x45110c(0x118);case _0x45110c(0x23d):return _0x45110c(0x224)+_0x45110c(0x181)+(_0x45110c(0x1ab)+_0x20ea86['start']+_0x45110c(0x122)+_0x20ea86['end']+_0x45110c(0xc8))+(_0x45110c(0x1f8)+_0x59ea85);case _0x45110c(0xff):return _0x45110c(0x1d6)+(_0x45110c(0x176)+_0x59ea85+'\x20('+_0x20ea86[_0x45110c(0x217)]+_0x45110c(0x175));case _0x45110c(0x21c):return _0x45110c(0x1f9)+_0x45110c(0xc7)+_0x45110c(0x132);default:return'';}},async 'send'(_0x20d46d,_0x2088d4){const _0x534061=a2_0x281a11;console['log'](_0x534061(0xe7),_0x20d46d,_0x2088d4);if(!_0x2088d4){console[_0x534061(0x237)](_0x534061(0x227));return;}const _0x2f8243=String(_0x2088d4[_0x534061(0x11e)]);console[_0x534061(0x156)](_0x534061(0x238),_0x2f8243);if(!_0x2088d4[_0x534061(0x11e)]||_0x2f8243===_0x534061(0x20e)||_0x2f8243==='null'){console[_0x534061(0x237)](_0x534061(0x1cf));if(_0x2088d4[_0x534061(0x1c7)]){const _0x4740f5=clients[_0x534061(0x1b4)](_0x2789e9=>_0x2789e9[_0x534061(0x1d4)]===_0x2088d4[_0x534061(0x1c7)]);if(_0x4740f5)return console['log'](_0x534061(0x218),_0x4740f5['id']),this['send'](_0x20d46d,{..._0x2088d4,'clientId':_0x4740f5['id']});}return;}if(_0x2f8243[_0x534061(0x21a)]<0x5){console[_0x534061(0x1b7)](_0x534061(0x152),_0x2f8243);return;}const _0x813518=this['getText'](_0x20d46d,_0x2088d4);if(!_0x813518){console[_0x534061(0x237)](_0x534061(0x169));return;}console[_0x534061(0x156)](_0x534061(0x231)+_0x2f8243+_0x534061(0x17b)),DataManager['fetchFromServer']('send_notification',{'chatId':_0x2f8243,'text':_0x813518})[_0x534061(0xcf)](_0x1f2a78=>console[_0x534061(0x156)](_0x534061(0x14c),_0x1f2a78))[_0x534061(0x192)](_0x442e9b=>console[_0x534061(0x237)](_0x534061(0x145),_0x442e9b));}};function getLocalDateStr(_0x567e1d){const _0x4953db=a2_0x281a11,_0x1baad3=_0x567e1d[_0x4953db(0x1b5)](),_0xb557c=String(_0x567e1d[_0x4953db(0x18a)]()+0x1)[_0x4953db(0x239)](0x2,'0'),_0x130c4f=String(_0x567e1d['getDate']())[_0x4953db(0x239)](0x2,'0');return _0x1baad3+'-'+_0xb557c+'-'+_0x130c4f;}function getDateStr(_0x8d50af){const _0x5c4a08=a2_0x281a11,_0x27b9e3=new Date();return _0x27b9e3[_0x5c4a08(0xef)](_0x27b9e3[_0x5c4a08(0xc3)]()+_0x8d50af),getLocalDateStr(_0x27b9e3);}function getStartOfWeek(_0x13cfa3){const _0x5a4e92=a2_0x281a11,_0x4df519=(function(){let _0x57e924=!![];return function(_0x569609,_0x5a2f83){const _0x2d1e33=_0x57e924?function(){const _0x512672=a2_0x12cc;if(_0x5a2f83){const _0x5593e9=_0x5a2f83[_0x512672(0xfc)](_0x569609,arguments);return _0x5a2f83=null,_0x5593e9;}}:function(){};return _0x57e924=![],_0x2d1e33;};}()),_0x2a9b3f=_0x4df519(this,function(){const _0x3b2021=a2_0x12cc;return _0x2a9b3f[_0x3b2021(0x124)]()[_0x3b2021(0x232)](_0x3b2021(0x130))['toString']()[_0x3b2021(0x22a)](_0x2a9b3f)[_0x3b2021(0x232)]('(((.+)+)+)+$');});_0x2a9b3f();const _0x278f8a=new Date(_0x13cfa3),_0x2f2923=_0x278f8a['getDay'](),_0x490a19=_0x278f8a['getDate']()-_0x2f2923+(_0x2f2923===0x0?-0x6:0x1);return _0x278f8a['setDate'](_0x490a19),_0x278f8a[_0x5a4e92(0x11d)](0x0,0x0,0x0,0x0),_0x278f8a;}function hexToRgba(_0x58e781,_0x1fa593){const _0x17a529=a2_0x281a11;if(!_0x58e781)return _0x17a529(0x119);let _0x2db294=0x0,_0x4cf178=0x0,_0x25a78c=0x0;if(_0x58e781[_0x17a529(0x21a)]===0x4)_0x2db294='0x'+_0x58e781[0x1]+_0x58e781[0x1],_0x4cf178='0x'+_0x58e781[0x2]+_0x58e781[0x2],_0x25a78c='0x'+_0x58e781[0x3]+_0x58e781[0x3];else _0x58e781[_0x17a529(0x21a)]===0x7&&(_0x2db294='0x'+_0x58e781[0x1]+_0x58e781[0x2],_0x4cf178='0x'+_0x58e781[0x3]+_0x58e781[0x4],_0x25a78c='0x'+_0x58e781[0x5]+_0x58e781[0x6]);return _0x17a529(0x20c)+ +_0x2db294+',\x20'+ +_0x4cf178+',\x20'+ +_0x25a78c+',\x20'+_0x1fa593+')';}function a2_0x12cc(_0x3b779d,_0x40176f){_0x3b779d=_0x3b779d-0xc1;const _0x525648=a2_0x5bbb();let _0x5573a5=_0x525648[_0x3b779d];return _0x5573a5;}function renderTimeColumn(){const _0x1a4a15=a2_0x281a11,_0x137662=document['getElementById'](_0x1a4a15(0x234)),_0x5eef3f=document['getElementById'](_0x1a4a15(0x13c));_0x137662['innerHTML']='',_0x137662['appendChild'](_0x5eef3f);for(let _0x44f4f0=0x0;_0x44f4f0<0x18;_0x44f4f0++){const _0x5c905e=document['createElement']('div');_0x5c905e['className']=_0x1a4a15(0x208);if(_0x44f4f0>0x0)_0x5c905e[_0x1a4a15(0x106)]=_0x1a4a15(0x160)+String(_0x44f4f0)[_0x1a4a15(0x239)](0x2,'0')+':00</span>';_0x137662[_0x1a4a15(0x171)](_0x5c905e);}}function renderDayRange(_0x1e4b0d,_0x406c57){const _0xdb990a=a2_0x281a11,_0xc21c5c=document[_0xdb990a(0x1b3)]('daysHeaderTrack'),_0x33070d=document[_0xdb990a(0x1b3)](_0xdb990a(0x223)),_0x1da5fd=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x29a13c=new Date();_0x29a13c[_0xdb990a(0x11d)](0x0,0x0,0x0,0x0);const _0x48b819=getLocalDateStr(new Date());for(let _0x3619c6=_0x1e4b0d;_0x3619c6<=_0x406c57;_0x3619c6++){const _0x424ceb=new Date(_0x29a13c);_0x424ceb[_0xdb990a(0xef)](_0x424ceb[_0xdb990a(0xc3)]()+_0x3619c6);const _0x4be1ec=getLocalDateStr(_0x424ceb);let _0x8dafeb=_0x424ceb[_0xdb990a(0x168)]()-0x1;if(_0x8dafeb===-0x1)_0x8dafeb=0x6;const _0x306d7a=_0x4be1ec===_0x48b819,_0x36ddb1=document[_0xdb990a(0x1cd)](_0xdb990a(0x1ef));_0x36ddb1[_0xdb990a(0xda)]='day-col-header\x20'+(_0x306d7a?_0xdb990a(0xf3):''),_0x36ddb1['id']='header-'+_0x4be1ec,_0x36ddb1['setAttribute']('data-date',_0x4be1ec),_0x36ddb1['innerHTML']=_0xdb990a(0x12d)+_0x1da5fd[_0x8dafeb]+_0xdb990a(0x17d)+_0x424ceb[_0xdb990a(0xc3)]()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0x4be1ec+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x36ddb1[_0xdb990a(0x210)]=()=>openDayOptions(_0x4be1ec,_0x1da5fd[_0x8dafeb]+'\x20'+_0x424ceb[_0xdb990a(0xc3)]()),_0xc21c5c[_0xdb990a(0x171)](_0x36ddb1);const _0x293da6=document[_0xdb990a(0x1cd)](_0xdb990a(0x1ef));_0x293da6[_0xdb990a(0xda)]=_0xdb990a(0x207)+(_0x306d7a?'today':''),_0x293da6[_0xdb990a(0x17a)](_0xdb990a(0x1d7),_0x4be1ec),_0x293da6[_0xdb990a(0x17a)](_0xdb990a(0x1ea),_0x8dafeb),renderEventsForColumn(_0x293da6,_0x4be1ec,_0x8dafeb),attachLongPressHandler(_0x293da6,_0x424ceb),_0x33070d[_0xdb990a(0x171)](_0x293da6),updateDayStats(_0x4be1ec);}}function reRenderBlocks(){const _0x286218=a2_0x281a11;document[_0x286218(0x135)](_0x286218(0x19a))[_0x286218(0x15c)](_0xb8b2db=>{const _0x5f225d=_0x286218;_0xb8b2db[_0x5f225d(0x135)](_0x5f225d(0x1e2))[_0x5f225d(0x15c)](_0x301beb=>_0x301beb[_0x5f225d(0x16e)]());const _0x152bb5=_0xb8b2db[_0x5f225d(0x1a4)](_0x5f225d(0x1d7)),_0x36c5cf=parseInt(_0xb8b2db['getAttribute'](_0x5f225d(0x1ea))),_0x2da11c=Math['round'](_0xb8b2db[_0x5f225d(0x1fa)]);(availabilityPattern[_0x36c5cf]||[])[_0x5f225d(0x15c)](_0x2f2b71=>{const _0x4c2475=_0x5f225d,_0x5e52b5=document[_0x4c2475(0x1cd)](_0x4c2475(0x1ef));_0x5e52b5[_0x4c2475(0xda)]=_0x4c2475(0x11f);const _0x3d5611=_0x2f2b71*GRID_H;_0x5e52b5[_0x4c2475(0x1ff)][_0x4c2475(0x125)]=_0x3d5611+'px',_0x5e52b5['style'][_0x4c2475(0x1df)]='-'+_0x2da11c+_0x4c2475(0x22e)+_0x3d5611+'px',_0xb8b2db[_0x4c2475(0x171)](_0x5e52b5);});if(specialRanges&&specialRanges['length']>0x0){const _0x5a772d=new Date(_0x152bb5+_0x5f225d(0x138))['getTime'](),_0x13aa59=new Date(_0x152bb5+_0x5f225d(0x150))['getTime']();specialRanges[_0x5f225d(0x15c)](_0x165a81=>{const _0x4c4e97=_0x5f225d,_0x2b83d3=new Date(_0x165a81['start'])[_0x4c4e97(0xf6)](),_0x1df94c=new Date(_0x165a81['end'])['getTime'](),_0x39cf35=Math[_0x4c4e97(0x20b)](_0x5a772d,_0x2b83d3),_0x484c8f=Math[_0x4c4e97(0x23a)](_0x13aa59,_0x1df94c);if(_0x39cf35<_0x484c8f){if(_0x39cf35<=_0x5a772d&&_0x484c8f>=_0x13aa59-0xea60){if(!_0xb8b2db['querySelector'](_0x4c4e97(0x1c4))){const _0x18408b=document[_0x4c4e97(0x1cd)](_0x4c4e97(0x1ef));_0x18408b[_0x4c4e97(0xda)]=_0x4c4e97(0x158),_0x18408b[_0x4c4e97(0x1ff)][_0x4c4e97(0x1df)]='-'+_0x2da11c+_0x4c4e97(0xd1),_0xb8b2db[_0x4c4e97(0x171)](_0x18408b);}}else{const _0x26e470=(_0x39cf35-_0x5a772d)/0x36ee80*GRID_H,_0x49cd5b=(_0x484c8f-_0x39cf35)/0x36ee80*GRID_H,_0x4406b1=document[_0x4c4e97(0x1cd)](_0x4c4e97(0x1ef));_0x4406b1[_0x4c4e97(0xda)]=_0x4c4e97(0x225),_0x4406b1['style'][_0x4c4e97(0x125)]=_0x26e470+'px',_0x4406b1[_0x4c4e97(0x1ff)]['height']=_0x49cd5b+'px',_0x4406b1['style']['backgroundPosition']='-'+_0x2da11c+'px\x20-'+_0x26e470+'px',_0xb8b2db[_0x4c4e97(0x171)](_0x4406b1);}}});}if(dateExceptions[_0x152bb5]==='off'){if(!_0xb8b2db[_0x5f225d(0x179)](_0x5f225d(0x1c4))){const _0x467a78=document[_0x5f225d(0x1cd)](_0x5f225d(0x1ef));_0x467a78[_0x5f225d(0xda)]=_0x5f225d(0x158),_0x467a78[_0x5f225d(0x1ff)][_0x5f225d(0x1df)]='-'+_0x2da11c+'px\x200px',_0xb8b2db[_0x5f225d(0x171)](_0x467a78);}}renderEventsForColumn(_0xb8b2db,_0x152bb5,_0x36c5cf),updateDayStats(_0x152bb5);});}function updateAllDayStats(){const _0x3c7785=a2_0x281a11;document[_0x3c7785(0x135)](_0x3c7785(0x126))[_0x3c7785(0x15c)](_0x17bf6e=>{const _0x42b16a=_0x3c7785;updateDayStats(_0x17bf6e[_0x42b16a(0x1a4)](_0x42b16a(0x1d7)));});}function updateDayStats(_0x25369a){const _0x443224=a2_0x281a11,_0x3e0178=document['getElementById'](_0x443224(0xe3)+_0x25369a);if(!_0x3e0178)return;const _0x4bebf0=new Date(_0x25369a);let _0x37bf52=_0x4bebf0[_0x443224(0x168)]()-0x1;if(_0x37bf52===-0x1)_0x37bf52=0x6;if(dateExceptions[_0x25369a]===_0x443224(0xdf)){_0x3e0178[_0x443224(0x1ff)][_0x443224(0x18c)]=_0x443224(0x12e);return;}const _0x407b1f=availabilityPattern[_0x37bf52]||[],_0x5739bf=0x18-_0x407b1f[_0x443224(0x21a)],_0xc5ede5=_0x5739bf*0x3c,_0x145a07=sessions['filter'](_0x311ecf=>_0x311ecf[_0x443224(0x104)]===_0x25369a&&_0x311ecf['status']!==_0x443224(0xcb));if(_0x145a07[_0x443224(0x21a)]===0x0){_0x3e0178['style'][_0x443224(0x18c)]='none';return;}let _0x40018d=_0x145a07['map'](_0x278495=>{const _0x54a70b=_0x443224,[_0x4ef253,_0x328bd9]=_0x278495['start'][_0x54a70b(0x191)](':')[_0x54a70b(0x1e9)](Number),[_0x5c2556,_0x4b5fe6]=_0x278495['end'][_0x54a70b(0x191)](':')[_0x54a70b(0x1e9)](Number);return[_0x4ef253*0x3c+_0x328bd9,_0x5c2556*0x3c+_0x4b5fe6];});_0x40018d[_0x443224(0x187)]((_0x116318,_0x1ad351)=>_0x116318[0x0]-_0x1ad351[0x0]);let _0x109541=[];if(_0x40018d[_0x443224(0x21a)]>0x0){let _0x57d52b=_0x40018d[0x0];for(let _0x37a7be=0x1;_0x37a7be<_0x40018d['length'];_0x37a7be++){_0x40018d[_0x37a7be][0x0]<_0x57d52b[0x1]?_0x57d52b[0x1]=Math[_0x443224(0x20b)](_0x57d52b[0x1],_0x40018d[_0x37a7be][0x1]):(_0x109541['push'](_0x57d52b),_0x57d52b=_0x40018d[_0x37a7be]);}_0x109541[_0x443224(0x209)](_0x57d52b);}let _0x39dfc7=0x0;_0x109541[_0x443224(0x15c)](_0x3a51f3=>_0x39dfc7+=_0x3a51f3[0x1]-_0x3a51f3[0x0]),_0x3e0178[_0x443224(0x1ff)]['display']=_0x443224(0x1e5);const _0xafe624=_0x3e0178[_0x443224(0x179)](_0x443224(0x196));if(_0xc5ede5===0x0){_0xafe624[_0x443224(0x1ff)][_0x443224(0x154)]=_0x443224(0x235),_0xafe624['style'][_0x443224(0x144)]=_0x443224(0x15f);return;}const _0x5a6756=_0x39dfc7/_0xc5ede5*0x64;console[_0x443224(0x156)]('['+_0x25369a+_0x443224(0x1b0)+_0x5739bf+_0x443224(0x165)+_0x39dfc7+_0x443224(0xe1)+_0x5a6756['toFixed'](0x1)+'%'),_0x5a6756>0x64?(_0xafe624[_0x443224(0x1ff)]['width']=_0x443224(0x235),_0xafe624['style']['background']='var(--acc-red)'):(_0xafe624[_0x443224(0x1ff)][_0x443224(0x154)]=_0x5a6756+'%',_0xafe624[_0x443224(0x1ff)][_0x443224(0x144)]=_0x443224(0xd3));}function renderEventsForColumn(_0x17b190,_0x3ac548,_0x39ed69){const _0x37a6ab=a2_0x281a11,_0x493f64=sessions[_0x37a6ab(0x100)](_0x4004fe=>_0x4004fe[_0x37a6ab(0x104)]===_0x3ac548),_0x1d3688=_0x493f64[_0x37a6ab(0x1e9)](_0x475162=>{const _0x19daa4=_0x37a6ab,[_0x2e7f63,_0x2984c3]=_0x475162[_0x19daa4(0x217)]['split'](':')[_0x19daa4(0x1e9)](Number),[_0x5e1d0a,_0x5ed938]=_0x475162[_0x19daa4(0x1e7)][_0x19daa4(0x191)](':')['map'](Number);return{'data':_0x475162,'start':_0x2e7f63*0x3c+_0x2984c3,'end':_0x5e1d0a*0x3c+_0x5ed938,'colIndex':0x0};});_0x1d3688[_0x37a6ab(0x187)]((_0x1f897d,_0x118668)=>{const _0x228efd=_0x37a6ab;if(_0x1f897d[_0x228efd(0x217)]!==_0x118668[_0x228efd(0x217)])return _0x1f897d[_0x228efd(0x217)]-_0x118668['start'];return _0x118668[_0x228efd(0x1e7)]-_0x118668[_0x228efd(0x217)]-(_0x1f897d[_0x228efd(0x1e7)]-_0x1f897d['start']);});const _0x3d4fd4=[];_0x1d3688[_0x37a6ab(0x15c)](_0x42f193=>{const _0x13c822=_0x37a6ab;let _0x5fa9a0=![];for(let _0x3b57f0=0x0;_0x3b57f0<_0x3d4fd4['length'];_0x3b57f0++){const _0x370c5f=_0x3d4fd4[_0x3b57f0],_0xf4de4d=_0x370c5f[_0x370c5f[_0x13c822(0x21a)]-0x1];if(_0x42f193[_0x13c822(0x217)]>=_0xf4de4d[_0x13c822(0x1e7)]){_0x370c5f[_0x13c822(0x209)](_0x42f193),_0x42f193[_0x13c822(0x215)]=_0x3b57f0,_0x5fa9a0=!![];break;}}!_0x5fa9a0&&(_0x3d4fd4[_0x13c822(0x209)]([_0x42f193]),_0x42f193[_0x13c822(0x215)]=_0x3d4fd4[_0x13c822(0x21a)]-0x1);}),_0x1d3688[_0x37a6ab(0x15c)](_0x51f434=>{const _0x22ecbe=_0x37a6ab;let _0xc43d4b=0x0;_0x1d3688[_0x22ecbe(0x15c)](_0x41791a=>{const _0x5b182d=_0x22ecbe;if(Math['max'](_0x51f434[_0x5b182d(0x217)],_0x41791a[_0x5b182d(0x217)])<Math['min'](_0x51f434['end'],_0x41791a[_0x5b182d(0x1e7)])){if(_0x41791a['colIndex']>_0xc43d4b)_0xc43d4b=_0x41791a['colIndex'];}});const _0x1f4b1f=_0xc43d4b+0x1,_0x5df314=0x64/_0x1f4b1f,_0x34a38f=_0x51f434[_0x22ecbe(0x215)]*_0x5df314,_0x12ace8=createEventEl(_0x51f434[_0x22ecbe(0x190)]);_0x12ace8[_0x22ecbe(0x1ff)][_0x22ecbe(0x154)]=_0x22ecbe(0x19c)+_0x5df314+_0x22ecbe(0x1a9),_0x12ace8[_0x22ecbe(0x1ff)][_0x22ecbe(0x162)]=_0x22ecbe(0x19c)+_0x34a38f+'%\x20+\x202px)',_0x12ace8[_0x22ecbe(0x1ff)]['zIndex']=0xa+_0x51f434[_0x22ecbe(0x215)],_0x5df314<0x55&&_0x12ace8['classList']['add'](_0x22ecbe(0x166)),_0x17b190[_0x22ecbe(0x171)](_0x12ace8);});}function createEventEl(_0x38a378){const _0x3f812c=a2_0x281a11,[_0x49dba3,_0x4c4945]=_0x38a378[_0x3f812c(0x217)][_0x3f812c(0x191)](':')['map'](Number),[_0x575292,_0x52bb1b]=_0x38a378[_0x3f812c(0x1e7)][_0x3f812c(0x191)](':')[_0x3f812c(0x1e9)](Number),_0x14312c=(_0x49dba3*0x3c+_0x4c4945)/0x3c*GRID_H,_0x2e145d=(_0x575292*0x3c+_0x52bb1b-(_0x49dba3*0x3c+_0x4c4945))/0x3c*GRID_H,_0x4dbdb1=document[_0x3f812c(0x1cd)](_0x3f812c(0x1ef)),_0x13b499=_0x38a378[_0x3f812c(0x120)]===_0x3f812c(0x212)?_0x3f812c(0x1fd):'';_0x4dbdb1['className']='event-card'+_0x13b499,_0x4dbdb1['style']['top']=_0x14312c+'px',_0x4dbdb1['style']['height']=Math['max'](_0x2e145d,0x14)+'px';const _0x20df05=clients[_0x3f812c(0x1b4)](_0x5c2777=>_0x38a378[_0x3f812c(0x11e)]&&String(_0x5c2777['id'])===String(_0x38a378['clientId'])||_0x5c2777[_0x3f812c(0x1d4)]===_0x38a378[_0x3f812c(0x1c7)]),_0xd60dcd=_0x20df05?_0x20df05[_0x3f812c(0xdb)]:'#0a84ff';_0x4dbdb1[_0x3f812c(0x1ff)][_0x3f812c(0x211)]=_0xd60dcd,_0x4dbdb1['style'][_0x3f812c(0x153)]=hexToRgba(_0xd60dcd,0.85);let _0x5b9913='<div\x20class=\x22ev-title\x22>'+_0x38a378['client']+_0x3f812c(0x1b6)+_0x38a378['start']+_0x3f812c(0x10b)+_0x38a378[_0x3f812c(0x1e7)]+_0x3f812c(0x17e);return _0x38a378[_0x3f812c(0x157)]&&(_0x5b9913+='<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>'),_0x38a378['status']===_0x3f812c(0x212)&&(_0x5b9913+=_0x3f812c(0x219)),_0x4dbdb1['innerHTML']=_0x5b9913,_0x4dbdb1[_0x3f812c(0x210)]=_0x4c2fd3=>{const _0x1a9de3=_0x3f812c;_0x4c2fd3[_0x1a9de3(0x200)](),openEdit(_0x38a378);},_0x4dbdb1;}function attachLongPressHandler(_0x3eb300,_0x1e6b27){const _0x480955=a2_0x281a11;let _0x520306=0x0,_0xe09255=null;const _0x44a67e=_0x232587=>{const _0x97052c=a2_0x12cc;if(_0x232587[_0x97052c(0x220)]['closest']('.event-card'))return;isScrolling=![],_0x520306=_0x232587[_0x97052c(0x1c9)]?_0x232587[_0x97052c(0x1c9)][0x0][_0x97052c(0x19f)]:_0x232587[_0x97052c(0x19f)],_0xe09255=setTimeout(()=>{const _0x16eb79=_0x97052c;if(!isScrolling){navigator[_0x16eb79(0x1d8)]?.(0x32);const _0x1cbb47=_0x3eb300['getBoundingClientRect'](),_0x1c9d2d=Math['floor']((_0x520306-_0x1cbb47[_0x16eb79(0x125)])/GRID_H);_0x1e6b27[_0x16eb79(0x11d)](_0x1c9d2d,0x0),openAddSession(_0x1e6b27);}},0x1f4);},_0xe44062=()=>{isScrolling=!![],clearTimeout(_0xe09255);},_0x2fc605=()=>{clearTimeout(_0xe09255);};_0x3eb300[_0x480955(0x140)](_0x480955(0x1a8),_0x44a67e,{'passive':!![]}),_0x3eb300[_0x480955(0x140)]('touchmove',_0xe44062,{'passive':!![]}),_0x3eb300['addEventListener'](_0x480955(0xfa),_0x2fc605),_0x3eb300['addEventListener']('mousedown',_0x44a67e),_0x3eb300['addEventListener'](_0x480955(0xc6),_0xe44062),_0x3eb300[_0x480955(0x140)](_0x480955(0x16d),_0x2fc605);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x38eeda=a2_0x281a11,_0x136cc6=document['getElementById'](_0x38eeda(0x1dd)),_0x5a8723=_0x136cc6[_0x38eeda(0x1cb)],_0x5c9cdc=_0x136cc6[_0x38eeda(0x233)],_0x576fbe=_0x136cc6[_0x38eeda(0x23e)];if(_0x5c9cdc-(_0x5a8723+_0x576fbe)<0x12c){const _0x6968cc=endOffset;endOffset+=0xe,renderDayRange(_0x6968cc+0x1,endOffset),reRenderBlocks();}if(_0x5a8723<0x12c){const _0x570c19=startOffset;startOffset-=0xe,prependDays(startOffset,_0x570c19-0x1),_0x136cc6[_0x38eeda(0x1cb)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x5c05ac,_0x39040d){const _0x162cc4=a2_0x281a11,_0x25103d=document[_0x162cc4(0x1b3)](_0x162cc4(0x185)),_0x1c7933=document[_0x162cc4(0x1b3)](_0x162cc4(0x223)),_0x4119ad=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x4da59f=new Date();_0x4da59f['setHours'](0x0,0x0,0x0,0x0);const _0x1bb8ad=getLocalDateStr(new Date()),_0x5d289f=document[_0x162cc4(0x151)](),_0x39d0a6=document['createDocumentFragment']();for(let _0x48270e=_0x5c05ac;_0x48270e<=_0x39040d;_0x48270e++){const _0x35279f=new Date(_0x4da59f);_0x35279f[_0x162cc4(0xef)](_0x35279f[_0x162cc4(0xc3)]()+_0x48270e);const _0x2dbcad=getLocalDateStr(_0x35279f);let _0x1a6e3b=_0x35279f['getDay']()-0x1;if(_0x1a6e3b===-0x1)_0x1a6e3b=0x6;const _0x4c47cb=_0x2dbcad===_0x1bb8ad,_0x33ecb3=document[_0x162cc4(0x1cd)](_0x162cc4(0x1ef));_0x33ecb3['className']=_0x162cc4(0x1bd)+(_0x4c47cb?_0x162cc4(0xf3):''),_0x33ecb3['id']=_0x162cc4(0x112)+_0x2dbcad,_0x33ecb3[_0x162cc4(0x17a)](_0x162cc4(0x1d7),_0x2dbcad),_0x33ecb3['innerHTML']=_0x162cc4(0x12d)+_0x4119ad[_0x1a6e3b]+_0x162cc4(0x17d)+_0x35279f[_0x162cc4(0xc3)]()+_0x162cc4(0xd9)+_0x2dbcad+_0x162cc4(0xc2),_0x33ecb3['onclick']=()=>openDayOptions(_0x2dbcad,_0x4119ad[_0x1a6e3b]+'\x20'+_0x35279f[_0x162cc4(0xc3)]()),_0x5d289f[_0x162cc4(0x171)](_0x33ecb3);const _0x9e44f0=document[_0x162cc4(0x1cd)](_0x162cc4(0x1ef));_0x9e44f0[_0x162cc4(0xda)]='day-column\x20'+(_0x4c47cb?_0x162cc4(0xf3):''),_0x9e44f0[_0x162cc4(0x17a)]('data-date',_0x2dbcad),_0x9e44f0[_0x162cc4(0x17a)](_0x162cc4(0x1ea),_0x1a6e3b),renderEventsForColumn(_0x9e44f0,_0x2dbcad,_0x1a6e3b),attachLongPressHandler(_0x9e44f0,_0x35279f),_0x39d0a6[_0x162cc4(0x171)](_0x9e44f0),updateDayStats(_0x2dbcad);}_0x25103d[_0x162cc4(0xd8)](_0x5d289f,_0x25103d['firstChild']),_0x1c7933['insertBefore'](_0x39d0a6,_0x1c7933[_0x162cc4(0x179)](_0x162cc4(0x141)));}function validateAppointment(_0x1c1b75,_0x571435,_0x45978e,_0x3343e2,_0x315d11){const _0x4345b5=a2_0x281a11,[_0x12dc91,_0x367b13]=_0x571435[_0x4345b5(0x191)](':')['map'](Number),[_0x30650a,_0x1b4d20]=_0x45978e[_0x4345b5(0x191)](':')[_0x4345b5(0x1e9)](Number),_0x11555c=_0x12dc91*0x3c+_0x367b13,_0x94d711=_0x30650a*0x3c+_0x1b4d20,_0x4b0c5f=String(_0x315d11);let _0x372a42=![],_0x134ddb='';for(let _0x5e3361 of sessions){if(_0x5e3361['dateStr']!==_0x1c1b75)continue;if(_0x5e3361[_0x4345b5(0x120)]===_0x4345b5(0xcb))continue;if(_0x3343e2&&String(_0x5e3361['id'])===String(_0x3343e2))continue;const [_0x246a1b,_0x505107]=_0x5e3361[_0x4345b5(0x217)][_0x4345b5(0x191)](':')[_0x4345b5(0x1e9)](Number),[_0x347e10,_0x306f69]=_0x5e3361['end'][_0x4345b5(0x191)](':')['map'](Number),_0x54c3bf=_0x246a1b*0x3c+_0x505107,_0x3d5afa=_0x347e10*0x3c+_0x306f69;if(Math[_0x4345b5(0x20b)](_0x11555c,_0x54c3bf)<Math[_0x4345b5(0x23a)](_0x94d711,_0x3d5afa)){if(_0x5e3361[_0x4345b5(0x11e)]&&String(_0x5e3361[_0x4345b5(0x11e)])===_0x4b0c5f)return{'valid':![],'msg':_0x4345b5(0x13b)+_0x5e3361[_0x4345b5(0x1c7)]+_0x4345b5(0x1c6)};_0x372a42=!![],_0x134ddb=_0x5e3361['client'];}}if(_0x372a42)return{'valid':!![],'warning':_0x4345b5(0xdc)+_0x134ddb};return{'valid':!![]};}function updateDateDisplay(){const _0x5a4051=a2_0x281a11,_0x23601b=document[_0x5a4051(0x1b3)](_0x5a4051(0x1ae))[_0x5a4051(0x1ec)],_0x18fad4=document['getElementById']('sheetDateSubtitle');if(!_0x23601b){_0x18fad4[_0x5a4051(0x23c)]='';return;}const [_0x3b14fa,_0x400abe,_0x1711a6]=_0x23601b[_0x5a4051(0x191)]('-')['map'](Number),_0xa8c95c=new Date(_0x3b14fa,_0x400abe-0x1,_0x1711a6),_0x1047a2={'weekday':_0x5a4051(0xd5),'day':'numeric','month':_0x5a4051(0xd5),'year':'numeric'};let _0x94ef3c=_0xa8c95c[_0x5a4051(0x1fc)]('ru-RU',_0x1047a2);_0x94ef3c=_0x94ef3c['charAt'](0x0)[_0x5a4051(0x1eb)]()+_0x94ef3c[_0x5a4051(0x229)](0x1),_0x18fad4[_0x5a4051(0x23c)]=_0x94ef3c;}function autoSetEndTime(){const _0x2c42f9=a2_0x281a11,_0x607dbc=document[_0x2c42f9(0x1b3)]('inpStart')[_0x2c42f9(0x1ec)];if(!_0x607dbc)return;const [_0x290519,_0x191293]=_0x607dbc[_0x2c42f9(0x191)](':')[_0x2c42f9(0x1e9)](Number);let _0x33dfbe=_0x290519+0x1;if(_0x33dfbe>0x17)_0x33dfbe=0x0;const _0x1c4fa8=String(_0x33dfbe)['padStart'](0x2,'0')+':'+String(_0x191293)['padStart'](0x2,'0');document['getElementById'](_0x2c42f9(0x14f))[_0x2c42f9(0x1ec)]=_0x1c4fa8;}function populateClientSelect(){const _0x38546=a2_0x281a11,_0x560e26=document['getElementById'](_0x38546(0x1de));_0x560e26['innerHTML']='';if(clients[_0x38546(0x21a)]===0x0){const _0x505bc0=document['createElement'](_0x38546(0x10d));_0x505bc0[_0x38546(0xec)]=_0x38546(0xc4),_0x560e26[_0x38546(0x171)](_0x505bc0);return;}clients[_0x38546(0x15c)](_0xfd6bae=>{const _0x3aa186=_0x38546,_0x1d8091=document[_0x3aa186(0x1cd)](_0x3aa186(0x10d));_0x1d8091[_0x3aa186(0x1ec)]=_0xfd6bae[_0x3aa186(0x1d4)],_0x1d8091['textContent']=_0xfd6bae[_0x3aa186(0x1d4)],_0x560e26[_0x3aa186(0x171)](_0x1d8091);});}function openActionSheet(_0x3f1fa0){const _0x38506c=a2_0x281a11,_0x1b9629=document[_0x38506c(0x1b3)](_0x38506c(0x137)),_0x22a06d=document[_0x38506c(0x1b3)](_0x38506c(0x133)),_0x22089e=document[_0x38506c(0x1b3)](_0x38506c(0xc9)),_0x38c5c3=document[_0x38506c(0x1b3)]('asBtnOne'),_0x4ef3ac=document[_0x38506c(0x1b3)]('asBtnSeries');_0x22a06d[_0x38506c(0x139)][_0x38506c(0x1a3)](_0x38506c(0x1f3)),_0x1b9629[_0x38506c(0x139)]['add'](_0x38506c(0x199));if(_0x3f1fa0===_0x38506c(0x161))_0x22089e[_0x38506c(0x23c)]='–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏',_0x38c5c3['textContent']=_0x38506c(0x107),_0x38c5c3[_0x38506c(0x210)]=()=>{const _0x371fb6=_0x38506c;closeActionSheet(),updateSeriesBatch(_0x371fb6(0x1e4),tempSessionData);},_0x4ef3ac[_0x38506c(0x23c)]='–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ',_0x4ef3ac[_0x38506c(0x210)]=()=>{const _0x354261=_0x38506c;closeActionSheet(),updateSeriesBatch(_0x354261(0x22f),tempSessionData);};else _0x3f1fa0===_0x38506c(0x182)&&(_0x22089e['textContent']='–£–¥–∞–ª–µ–Ω–∏–µ',_0x38c5c3[_0x38506c(0x23c)]='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x38c5c3[_0x38506c(0xda)]=_0x38506c(0x195),_0x38c5c3[_0x38506c(0x210)]=()=>{const _0xaea22b=_0x38506c;closeActionSheet(),commitDelete(_0xaea22b(0x1e4),sessions[_0xaea22b(0x1b4)](_0x302bd3=>_0x302bd3['id']===editingId));},_0x4ef3ac[_0x38506c(0x23c)]=_0x38506c(0x116),_0x4ef3ac[_0x38506c(0xda)]=_0x38506c(0xe6),_0x4ef3ac[_0x38506c(0x210)]=()=>{const _0x461299=_0x38506c;closeActionSheet(),commitDelete('series',sessions[_0x461299(0x1b4)](_0x4da383=>_0x4da383['id']===editingId));});}function closeActionSheet(){const _0x376636=a2_0x281a11;document[_0x376636(0x1b3)]('actionSheet')[_0x376636(0x139)][_0x376636(0x16e)](_0x376636(0x199)),document[_0x376636(0x1b3)]('actionSheetOverlay')[_0x376636(0x139)][_0x376636(0x16e)](_0x376636(0x1f3));}function openSettings(){openSheet('settingsSheet');}function saveCoachSettings(){const _0x570ef8=a2_0x281a11,_0x29cdcf=document['getElementById'](_0x570ef8(0x146))[_0x570ef8(0x1ec)];localStorage[_0x570ef8(0x109)](_0x570ef8(0x18e),_0x29cdcf),console[_0x570ef8(0x156)](_0x570ef8(0xc5),_0x29cdcf),DataManager[_0x570ef8(0x10a)](_0x570ef8(0xca),{'settings':{'cancel_window':_0x29cdcf}})[_0x570ef8(0x192)](_0x476bb5=>{const _0x2bf194=_0x570ef8;console[_0x2bf194(0x237)](_0x2bf194(0x183),_0x476bb5),showToast(_0x2bf194(0x21d),![]);});}function loadCoachSettings(){const _0x564844=a2_0x281a11,_0x2f5d13=localStorage['getItem'](_0x564844(0x18e));_0x2f5d13&&(document[_0x564844(0x1b3)](_0x564844(0x146))[_0x564844(0x1ec)]=_0x2f5d13);}function openRangesSheet(){const _0x1c589d=a2_0x281a11;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x1c589d(0x16c));}function addRange(){const _0x405f34=a2_0x281a11,_0x2d2658=document['getElementById'](_0x405f34(0x121))[_0x405f34(0x1ec)],_0x44c4b3=document[_0x405f34(0x1b3)](_0x405f34(0x123))[_0x405f34(0x1ec)],_0x52ad49=document[_0x405f34(0x1b3)]('rangeEndDate')[_0x405f34(0x1ec)],_0x527c13=document['getElementById'](_0x405f34(0x10c))['value'];if(!_0x2d2658||!_0x44c4b3||!_0x52ad49||!_0x527c13)return alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è');const _0x4e62a8=_0x2d2658+'T'+_0x44c4b3,_0x3e4e7f=_0x52ad49+'T'+_0x527c13;if(_0x4e62a8>=_0x3e4e7f)return alert(_0x405f34(0x117));specialRanges[_0x405f34(0x209)]({'start':_0x4e62a8,'end':_0x3e4e7f}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x405f34(0x16a)](),DataManager[_0x405f34(0x10a)](_0x405f34(0xca),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x5f4e0a){const _0xa50bb=a2_0x281a11;specialRanges[_0xa50bb(0x1ce)](_0x5f4e0a,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0xa50bb(0x16a)](),DataManager[_0xa50bb(0x10a)]('save_settings',{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x1700a2=a2_0x281a11;document[_0x1700a2(0x1b3)](_0x1700a2(0x121))[_0x1700a2(0x1ec)]='',document['getElementById'](_0x1700a2(0x123))[_0x1700a2(0x1ec)]=_0x1700a2(0xd7),document['getElementById']('rangeEndDate')['value']='',document[_0x1700a2(0x1b3)](_0x1700a2(0x10c))['value']=_0x1700a2(0x1ee);}function renderRangesList(){const _0x2666b5=a2_0x281a11,_0xe42664=document[_0x2666b5(0x1b3)](_0x2666b5(0xe2));_0xe42664['innerHTML']='';if(!specialRanges[_0x2666b5(0x21a)]){_0xe42664[_0x2666b5(0x106)]=_0x2666b5(0xee);return;}specialRanges['forEach']((_0x5b6319,_0x5bb1ed)=>{const _0x27ea9f=_0x2666b5,_0x5edc53=document[_0x27ea9f(0x1cd)](_0x27ea9f(0x1ef));_0x5edc53[_0x27ea9f(0xda)]='range-item';const _0x2a5135=_0x125f10=>{const _0x3b653b=_0x27ea9f,_0x2c1831=new Date(_0x125f10);return _0x2c1831[_0x3b653b(0xc3)]()+'.'+String(_0x2c1831[_0x3b653b(0x18a)]()+0x1)[_0x3b653b(0x239)](0x2,'0')+'\x20'+String(_0x2c1831[_0x3b653b(0x164)]())[_0x3b653b(0x239)](0x2,'0')+':'+String(_0x2c1831[_0x3b653b(0x13e)]())['padStart'](0x2,'0');};_0x5edc53['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>'+_0x2a5135(_0x5b6319[_0x27ea9f(0x217)])+_0x27ea9f(0x122)+_0x2a5135(_0x5b6319['end'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange('+_0x5bb1ed+_0x27ea9f(0x1f4),_0xe42664[_0x27ea9f(0x171)](_0x5edc53);});}function a2_0x5bbb(){const _0x611217=['rgba(255,\x20159,\x2010,\x200.3)','start','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','length','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','complete','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','exceptions','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','target','initDataUnsafe','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','gridColumns','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','blocked-range-part\x20stripe-bg','</span>\x20/\x20','[Notify]\x20Error:\x20sessionData\x20is\x20null','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','slice','constructor','sessionSheet','text/plain;charset=UTF-8','mergeServerData','px\x20-','series','location','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','search','scrollWidth','timeColumn','100%','send','error','[Notify]\x20Detected\x20Client\x20ID:','padStart','min','[Notify]\x20Client\x20SWAP\x20detected','textContent','update','clientWidth','disableVerticalSwipes','5735547XdneEy','Unknown','now','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','getDate','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','[Settings]\x20Cancel\x20window\x20set\x20to:','mousemove','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','</b>\x0a\x0a','asTitle','save_settings','cancelled','198177TmAWmF','seriesCountContainer','done','then','indexOf','px\x200px','10px','var(--acc-current)','\x20days','long','doWorkHours','00:00','insertBefore','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','className','color','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','block','patternEditor','off','inpStart','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','rangesList','stat-','ranges','router.html','as-button\x20danger\x20bold','[Notify]\x20Attempting\x20to\x20send:','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','uc_clients_v9','DOMContentLoaded','week','text','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','setDate','–£—Å–ø–µ—à–Ω–æ','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','globalTimeLine','today','includes','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','getTime','dayOptionsSheet','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','user','touchend','create','apply','doEventsList','uc_sessions_v9','cancel','filter','81UWehBx','href','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','dateStr','entries','innerHTML','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','setItem','fetchFromServer','\x20-\x20','rangeEndTime','option','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','warning','patternInfoBox','client-stat-card','header-','total','pe-cell\x20','analyticsSheet','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','rgba(100,100,100,0.5)','Server\x20Error','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','btn-status-toggle\x20undo-mode','setHours','clientId','blocked-slot\x20stripe-bg','status','rangeStartDate','\x20‚Äî\x20','rangeStartTime','toString','top','.day-col-header','valid','show','calendar','toastTitle','headerMonth','settings','<div\x20class=\x22dch-day\x22>','none','toast-notification\x20','(((.+)+)+)+$','btnStatusToggle','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','actionSheetOverlay','findIndex','querySelectorAll','10px\x2010px\x200\x200','actionSheet','T00:00:00','classList','deleted','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','timeLineBadge','parse','getMinutes','2636OYymgn','addEventListener','.day-column','anStart','de-item','background','[Notify]\x20Network\x20Failed','settingCancelWindow','inpRecurring','pe-time-label','ready','1727HJtzGr','scroll','[Notify]\x20Server\x20Response:','getItem','borderRadius','inpEnd','T23:59:59','createDocumentFragment','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','backgroundColor','width','Telegram','log','seriesId','day-off-overlay\x20stripe-bg','borderColor','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','btn-status-toggle','forEach','isArray','WebApp','var(--acc-red)','<span>','save','left','pe-col-header','getHours','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','mini','recurringOptionContainer','getDay','[Notify]\x20Error:\x20Text\x20generation\x20failed','saveLocally','BackButton','rangesSheet','mouseup','remove','from','uc_settings_v9','appendChild','offsetWidth','syncBatch','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','rgba(255,255,255,0.05)','inpNote','querySelector','setAttribute','...','doDateHeader','</div><div\x20class=\x22dch-num\x22>','</div>','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','16uXtRsh','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','delete','Save\x20settings\x20error:','inpSeriesCount','daysHeaderTrack','floor','sort','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','localeCompare','getMonth','11187550kMOuwX','display','doBusyHours','uc_settings_cancel_window','.period-switch\x20.p-btn','data','split','catch','anTotalStats','ru-RU','as-button\x20danger','.dch-stats-fill','POST','setBackgroundColor','open','#gridColumns\x20.day-column','274836aTjxEh','calc(','overlay',':00','clientY','btn-primary\x20btn-secondary','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','guest','add','getAttribute','substr','init_load','checked','touchstart','%\x20-\x204px)','Local\x20Load\x20Error','<b>‚úÖ\x20','offClick','random','inpDate','onClick',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','rgba(255,\x2069,\x2058,\x200.3)','round','getElementById','find','getFullYear','</div><div\x20class=\x22ev-time\x22>','warn','cancel_window','30XSArvG','btn-primary\x20btn-danger','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','Error\x20setting\x20back\x20button:','day-col-header\x20','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','setHeaderColor','#fff','strokeDashoffset','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','pattern','.day-off-overlay','#050505',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','client','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','touches','57924atsKrS','scrollLeft','msg','createElement','splice','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','anEnd','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','Critical\x20TMA\x20Error:','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','name','startsWith','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','data-date','vibrate','keys','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','toastMessage','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','matrixViewport','inpClient','backgroundPosition','129ERVnAl','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','month','single','flex','6107920DuBbrl','end','charAt','map','data-day-idx','toUpperCase','value','v9.0-BATCH-CALENDAR','23:59','div','\x20–∏–∑\x20','numeric','anCustomDates','active',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','stringify','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','anDonutCircle','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','offsetLeft','note','toLocaleDateString','\x20status-completed','analyticsList','style','stopPropagation','dayOptionsTitle','rgba(48,\x20209,\x2088,\x200.15)','planned','clients','[Series]\x20Skipped\x20','sid','day-column\x20','time-label','push','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','max','rgba(','Batch\x20Sync\x20OK','undefined','scrollTop','onclick','borderLeftColor','completed','var(--acc-orange)','btnDelete','colIndex'];a2_0x5bbb=function(){return _0x611217;};return a2_0x5bbb();}function scrollToToday(){const _0xfa733=a2_0x281a11,_0x808f2d=getLocalDateStr(new Date()),_0x4edd1e=document[_0xfa733(0x1b3)](_0xfa733(0x112)+_0x808f2d),_0x2b0c53=document[_0xfa733(0x1b3)](_0xfa733(0x1dd));if(_0x4edd1e&&_0x2b0c53){const _0x3dd06a=_0x2b0c53[_0xfa733(0x23e)],_0x39d8f8=_0x4edd1e[_0xfa733(0x1fa)],_0x505bf1=_0x4edd1e[_0xfa733(0x172)];_0x2b0c53[_0xfa733(0x1cb)]=_0x39d8f8-_0x3dd06a/0x2+_0x505bf1/0x2,_0x2b0c53[_0xfa733(0x20f)]=0x9*GRID_H;}}function onScroll(){const _0x67d721=a2_0x281a11,_0x44d37e=document[_0x67d721(0x1b3)](_0x67d721(0x1dd)),_0x3ff40a=document[_0x67d721(0x135)](_0x67d721(0x126));for(let _0x4ddc4c of _0x3ff40a)if(_0x4ddc4c['offsetLeft']>=_0x44d37e[_0x67d721(0x1cb)]){const _0x509cd8=new Date(_0x4ddc4c[_0x67d721(0x1a4)](_0x67d721(0x1d7)));document[_0x67d721(0x1b3)](_0x67d721(0x12b))[_0x67d721(0x23c)]=_0x509cd8['toLocaleString']('ru',{'month':'long'})[_0x67d721(0x1eb)]()+'\x20'+_0x509cd8['getFullYear']();break;}}function showToast(_0x2ae3fa,_0x3ae3d4=![]){const _0x32cc15=a2_0x281a11,_0x5446b9=document[_0x32cc15(0x1b3)]('toast');_0x5446b9[_0x32cc15(0xda)]=_0x32cc15(0x12f)+(_0x3ae3d4?'success':''),document[_0x32cc15(0x1b3)](_0x32cc15(0x12a))[_0x32cc15(0x23c)]=_0x3ae3d4?_0x32cc15(0xf0):'–ò–Ω—Ñ–æ',document['getElementById'](_0x32cc15(0x1db))['textContent']=_0x2ae3fa,_0x5446b9[_0x32cc15(0x139)][_0x32cc15(0x1a3)]('show'),setTimeout(()=>{const _0x1889bc=_0x32cc15;_0x5446b9[_0x1889bc(0x139)][_0x1889bc(0x16e)](_0x1889bc(0x128));},0xbb8);}function openDayOptions(_0x530b7c,_0x5db9b4){const _0xf2b2bd=a2_0x281a11;selectedDayForOptions=_0x530b7c,document[_0xf2b2bd(0x1b3)](_0xf2b2bd(0x201))[_0xf2b2bd(0x23c)]=_0x5db9b4,openSheet('dayOptionsSheet');}function toggleDayOff(){const _0x45f3cf=a2_0x281a11;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x45f3cf(0xdf),reRenderBlocks(),closeAllSheets(),DataManager[_0x45f3cf(0x16a)](),DataManager[_0x45f3cf(0x10a)]('save_settings',{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x51a9a6=a2_0x281a11;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x51a9a6(0x16a)](),DataManager[_0x51a9a6(0x10a)](_0x51a9a6(0xca),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x396ab0){const _0x3c13ef=a2_0x281a11;document[_0x3c13ef(0x1b3)]('overlay')[_0x3c13ef(0x139)][_0x3c13ef(0x1a3)](_0x3c13ef(0x1f3)),document[_0x3c13ef(0x1b3)](_0x396ab0)[_0x3c13ef(0x139)][_0x3c13ef(0x1a3)](_0x3c13ef(0x199));}function closeAllSheets(){const _0x3e56a7=a2_0x281a11;document['getElementById'](_0x3e56a7(0x19d))[_0x3e56a7(0x139)]['remove'](_0x3e56a7(0x1f3)),document[_0x3e56a7(0x135)]('.sheet')['forEach'](_0x454733=>_0x454733['classList']['remove']('open'));}function openPatternEditor(){const _0x425f77=a2_0x281a11;closeAllSheets(),document[_0x425f77(0x1b3)]('patternEditor')[_0x425f77(0x139)][_0x425f77(0x1a3)]('open'),renderPatternEditor();}function closePatternEditor(){const _0x57d585=a2_0x281a11;document[_0x57d585(0x1b3)](_0x57d585(0xde))[_0x57d585(0x139)]['remove'](_0x57d585(0x199));}function savePattern(){const _0x1d90c9=a2_0x281a11;document[_0x1d90c9(0x1b3)]('patternEditor')['classList']['remove'](_0x1d90c9(0x199)),reRenderBlocks(),DataManager[_0x1d90c9(0x16a)](),DataManager[_0x1d90c9(0x10a)](_0x1d90c9(0xca),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x1a0119=a2_0x281a11,_0x2cb53f=document[_0x1a0119(0x1b3)]('peGrid');_0x2cb53f[_0x1a0119(0x106)]='';const _0x257c4d=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x55e8e9=document[_0x1a0119(0x1cd)](_0x1a0119(0x1ef));_0x55e8e9[_0x1a0119(0xda)]='pe-corner',_0x2cb53f[_0x1a0119(0x171)](_0x55e8e9),_0x257c4d[_0x1a0119(0x15c)]((_0x4f9387,_0x21b5fc)=>{const _0x2170b7=_0x1a0119,_0x9c72cf=document[_0x2170b7(0x1cd)](_0x2170b7(0x1ef));_0x9c72cf['className']=_0x2170b7(0x163),_0x9c72cf[_0x2170b7(0x106)]=_0x4f9387+_0x2170b7(0x1da),_0x9c72cf['onclick']=()=>toggleColPattern(_0x21b5fc),_0x2cb53f['appendChild'](_0x9c72cf);});for(let _0x4f6a4d=0x0;_0x4f6a4d<0x18;_0x4f6a4d++){const _0x2d757e=document[_0x1a0119(0x1cd)](_0x1a0119(0x1ef));_0x2d757e[_0x1a0119(0xda)]=_0x1a0119(0x148),_0x2d757e[_0x1a0119(0x106)]=_0x1a0119(0x174)+String(_0x4f6a4d)[_0x1a0119(0x239)](0x2,'0')+_0x1a0119(0x19e),_0x2d757e[_0x1a0119(0x210)]=()=>toggleRowPattern(_0x4f6a4d),_0x2cb53f[_0x1a0119(0x171)](_0x2d757e);for(let _0x32a3bb=0x0;_0x32a3bb<0x7;_0x32a3bb++){const _0x33e223=document[_0x1a0119(0x1cd)](_0x1a0119(0x1ef)),_0x365bb1=(availabilityPattern[_0x32a3bb]||[])[_0x1a0119(0xf4)](_0x4f6a4d),_0x23f874=!_0x365bb1;_0x33e223[_0x1a0119(0xda)]=_0x1a0119(0x114)+(_0x23f874?_0x1a0119(0x1f3):''),_0x33e223[_0x1a0119(0x210)]=()=>toggleSinglePattern(_0x32a3bb,_0x4f6a4d),_0x2cb53f[_0x1a0119(0x171)](_0x33e223);}}}function toggleSinglePattern(_0x221bff,_0x139358){const _0x1e5fbe=a2_0x281a11;if(!availabilityPattern[_0x221bff])availabilityPattern[_0x221bff]=[];const _0x280cd7=availabilityPattern[_0x221bff],_0x388a49=_0x280cd7[_0x1e5fbe(0xd0)](_0x139358);_0x388a49===-0x1?_0x280cd7[_0x1e5fbe(0x209)](_0x139358):_0x280cd7[_0x1e5fbe(0x1ce)](_0x388a49,0x1),renderPatternEditor();}function toggleColPattern(_0x3bd52d){const _0x13ab45=a2_0x281a11;if(!availabilityPattern[_0x3bd52d])availabilityPattern[_0x3bd52d]=[];const _0x19ef4f=availabilityPattern[_0x3bd52d];_0x19ef4f['length']===0x0?availabilityPattern[_0x3bd52d]=Array[_0x13ab45(0x16f)]({'length':0x18},(_0x41aab5,_0x3bce9f)=>_0x3bce9f):availabilityPattern[_0x3bd52d]=[],renderPatternEditor();}function toggleRowPattern(_0x5ad544){const _0x4ace07=a2_0x281a11;let _0x3ee9db=!![];for(let _0x47870f=0x0;_0x47870f<0x7;_0x47870f++){if((availabilityPattern[_0x47870f]||[])['includes'](_0x5ad544)){_0x3ee9db=![];break;}}for(let _0x16146f=0x0;_0x16146f<0x7;_0x16146f++){if(!availabilityPattern[_0x16146f])availabilityPattern[_0x16146f]=[];const _0x2aff98=availabilityPattern[_0x16146f][_0x4ace07(0xd0)](_0x5ad544);if(_0x3ee9db){if(_0x2aff98===-0x1)availabilityPattern[_0x16146f]['push'](_0x5ad544);}else{if(_0x2aff98!==-0x1)availabilityPattern[_0x16146f]['splice'](_0x2aff98,0x1);}}renderPatternEditor();}function renderPCol(_0x4aa68b,_0x50a6ee){const _0x1b4a02=a2_0x281a11;_0x4aa68b['innerHTML']='';const _0xb45d8f=Math[_0x1b4a02(0x1b2)](_0x4aa68b[_0x1b4a02(0x1fa)]);(availabilityPattern[_0x50a6ee]||[])['forEach'](_0x277c92=>{const _0xdda3de=_0x1b4a02,_0x3b920f=document['createElement'](_0xdda3de(0x1ef));_0x3b920f[_0xdda3de(0xda)]=_0xdda3de(0x11f);const _0x5001b0=_0x277c92*GRID_H;_0x3b920f[_0xdda3de(0x1ff)][_0xdda3de(0x125)]=_0x5001b0+'px',_0x3b920f[_0xdda3de(0x1ff)]['backgroundPosition']='-'+_0xb45d8f+_0xdda3de(0x22e)+_0x5001b0+'px',_0x3b920f[_0xdda3de(0x210)]=_0x24aa9a=>{const _0x33ddf6=_0xdda3de;_0x24aa9a[_0x33ddf6(0x200)](),toggleSinglePattern(_0x50a6ee,_0x277c92);},_0x4aa68b[_0xdda3de(0x171)](_0x3b920f);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x5533e2=a2_0x281a11,_0x51eba4=new Date(),_0x5b468b=document[_0x5533e2(0x1b3)](_0x5533e2(0xf2)),_0x544989=document['getElementById']('timeLineBadge'),_0x4c9acf=(_0x51eba4['getHours']()*0x3c+_0x51eba4['getMinutes']())/0x3c*GRID_H;_0x5b468b[_0x5533e2(0x1ff)]['top']=_0x4c9acf+'px',_0x5b468b[_0x5533e2(0x1ff)]['display']=_0x5533e2(0xdd),_0x544989[_0x5533e2(0x23c)]=String(_0x51eba4['getHours']())['padStart'](0x2,'0')+':'+String(_0x51eba4['getMinutes']())[_0x5533e2(0x239)](0x2,'0'),_0x544989['style']['display']=_0x5533e2(0xdd),_0x544989['style'][_0x5533e2(0x125)]=_0x4c9acf+'px';}document[a2_0x281a11(0x140)](a2_0x281a11(0xea),init);function openDayOptions(_0x120fdd){const _0x49369e=a2_0x281a11;selectedDayForOptions=_0x120fdd;const _0x4d66a6=new Date(_0x120fdd),_0x3a49c6={'weekday':_0x49369e(0xd5),'day':_0x49369e(0x1f1),'month':_0x49369e(0xd5),'year':_0x49369e(0x1f1)},_0x58a9fa=_0x4d66a6[_0x49369e(0x1fc)](_0x49369e(0x194),_0x3a49c6);document[_0x49369e(0x1b3)](_0x49369e(0x17c))['textContent']=_0x58a9fa[_0x49369e(0x1e8)](0x0)[_0x49369e(0x1eb)]()+_0x58a9fa[_0x49369e(0x229)](0x1);let _0x5b0c1b=_0x4d66a6[_0x49369e(0x168)]()-0x1;if(_0x5b0c1b===-0x1)_0x5b0c1b=0x6;const _0x5988b7=availabilityPattern[_0x5b0c1b]||[],_0x4fbaf2=0x18-_0x5988b7['length'],_0x1b91f5=_0x4fbaf2*0x3c,_0x3d161b=sessions[_0x49369e(0x100)](_0x44f9bf=>_0x44f9bf[_0x49369e(0x104)]===_0x120fdd&&_0x44f9bf[_0x49369e(0x120)]!=='cancelled');let _0xb2421e=_0x3d161b[_0x49369e(0x1e9)](_0x3e568f=>{const _0x3bbc42=_0x49369e,[_0x2b3025,_0x46ff1a]=_0x3e568f[_0x3bbc42(0x217)][_0x3bbc42(0x191)](':')['map'](Number),[_0x5f45ed,_0x54133f]=_0x3e568f[_0x3bbc42(0x1e7)][_0x3bbc42(0x191)](':')['map'](Number);return[_0x2b3025*0x3c+_0x46ff1a,_0x5f45ed*0x3c+_0x54133f];});_0xb2421e[_0x49369e(0x187)]((_0x3d34a3,_0x1e9e48)=>_0x3d34a3[0x0]-_0x1e9e48[0x0]);let _0x37615d=[];if(_0xb2421e[_0x49369e(0x21a)]>0x0){let _0x38067a=_0xb2421e[0x0];for(let _0x240af0=0x1;_0x240af0<_0xb2421e[_0x49369e(0x21a)];_0x240af0++){_0xb2421e[_0x240af0][0x0]<_0x38067a[0x1]?_0x38067a[0x1]=Math[_0x49369e(0x20b)](_0x38067a[0x1],_0xb2421e[_0x240af0][0x1]):(_0x37615d[_0x49369e(0x209)](_0x38067a),_0x38067a=_0xb2421e[_0x240af0]);}_0x37615d[_0x49369e(0x209)](_0x38067a);}let _0x54fc16=0x0;_0x37615d[_0x49369e(0x15c)](_0x1f6708=>_0x54fc16+=_0x1f6708[0x1]-_0x1f6708[0x0]),document['getElementById'](_0x49369e(0xd6))[_0x49369e(0x23c)]=formatMinsToHrs(_0x1b91f5),document[_0x49369e(0x1b3)](_0x49369e(0x18d))[_0x49369e(0x23c)]=formatMinsToHrs(_0x54fc16);const _0x369cde=_0x1b91f5>0x0?Math[_0x49369e(0x1b2)](_0x54fc16/_0x1b91f5*0x64):0x0,_0x1bde8c=document[_0x49369e(0x1b3)]('doLoadPercent');_0x1bde8c['textContent']=_0x369cde+'%';const _0x4f7b9f=document['getElementById']('statLoadCard');if(_0x369cde>0x64)_0x1bde8c[_0x49369e(0x1ff)][_0x49369e(0xdb)]='var(--acc-red)',_0x4f7b9f[_0x49369e(0x1ff)]['borderColor']=_0x49369e(0x1b1);else _0x369cde>0x50?(_0x1bde8c['style'][_0x49369e(0xdb)]=_0x49369e(0x213),_0x4f7b9f[_0x49369e(0x1ff)]['borderColor']=_0x49369e(0x216)):(_0x1bde8c['style']['color']='var(--acc-green)',_0x4f7b9f['style'][_0x49369e(0x159)]=_0x49369e(0x177));const _0x3374be=document[_0x49369e(0x1b3)](_0x49369e(0xfd));_0x3374be['innerHTML']='';_0x3d161b[_0x49369e(0x21a)]===0x0?_0x3374be[_0x49369e(0x106)]='<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>':(_0x3d161b['sort']((_0x5205ec,_0x1261d4)=>_0x5205ec[_0x49369e(0x217)][_0x49369e(0x189)](_0x1261d4[_0x49369e(0x217)])),_0x3d161b[_0x49369e(0x15c)](_0x4e68e0=>{const _0x57ddde=_0x49369e,_0x5aade8=clients[_0x57ddde(0x1b4)](_0x1ff3b5=>_0x1ff3b5[_0x57ddde(0x1d4)]===_0x4e68e0[_0x57ddde(0x1c7)]),_0x16ba36=_0x5aade8?_0x5aade8['color']:_0x57ddde(0x1c0),_0x266e3d=_0x4e68e0[_0x57ddde(0x120)]===_0x57ddde(0x212),_0x2a1fbc=_0x266e3d?_0x57ddde(0x17f):'',_0x32a7af=document[_0x57ddde(0x1cd)](_0x57ddde(0x1ef));_0x32a7af[_0x57ddde(0xda)]=_0x57ddde(0x143),_0x32a7af[_0x57ddde(0x1ff)][_0x57ddde(0x211)]=_0x16ba36,_0x32a7af[_0x57ddde(0x106)]=_0x57ddde(0x20a)+_0x4e68e0[_0x57ddde(0x217)]+_0x57ddde(0x10b)+_0x4e68e0['end']+_0x57ddde(0x1f6)+_0x4e68e0[_0x57ddde(0x1c7)]+_0x57ddde(0x228)+_0x2a1fbc+_0x57ddde(0x1a1),_0x3374be['appendChild'](_0x32a7af);}));const _0x15dd4c=document[_0x49369e(0x1b3)]('btnDayToggle'),_0x17aee6=dateExceptions[_0x120fdd]===_0x49369e(0xdf);_0x17aee6?(_0x15dd4c[_0x49369e(0x23c)]=_0x49369e(0x188),_0x15dd4c[_0x49369e(0xda)]=_0x49369e(0x1a0),_0x15dd4c[_0x49369e(0x1ff)][_0x49369e(0xdb)]='var(--acc-green)',_0x15dd4c[_0x49369e(0x1ff)][_0x49369e(0x144)]=_0x49369e(0x202)):(_0x15dd4c[_0x49369e(0x23c)]=_0x49369e(0x103),_0x15dd4c[_0x49369e(0xda)]=_0x49369e(0x1ba),_0x15dd4c[_0x49369e(0x1ff)][_0x49369e(0xdb)]=_0x49369e(0x15f),_0x15dd4c[_0x49369e(0x1ff)][_0x49369e(0x144)]='rgba(255,\x2069,\x2058,\x200.15)'),openSheet(_0x49369e(0xf7));}let currentAnPeriod='week';function openAnalytics(){const _0x324dff=a2_0x281a11,_0xaa1a53=document[_0x324dff(0x179)](_0x324dff(0x18f));setAnalyticsPeriod(_0x324dff(0xeb),_0xaa1a53),closeAllSheets(),openSheet(_0x324dff(0x115));}function setAnalyticsPeriod(_0x341381,_0x3f8b92){const _0x4ac7d3=a2_0x281a11;currentAnPeriod=_0x341381,document[_0x4ac7d3(0x135)](_0x4ac7d3(0x18f))['forEach'](_0x3beb87=>_0x3beb87[_0x4ac7d3(0x139)][_0x4ac7d3(0x16e)](_0x4ac7d3(0x1f3)));if(_0x3f8b92)_0x3f8b92[_0x4ac7d3(0x139)][_0x4ac7d3(0x1a3)](_0x4ac7d3(0x1f3));const _0x1eee64=document[_0x4ac7d3(0x1b3)](_0x4ac7d3(0x1f2));_0x1eee64[_0x4ac7d3(0x1ff)][_0x4ac7d3(0x18c)]=_0x341381==='custom'?_0x4ac7d3(0x1e5):_0x4ac7d3(0x12e);const _0x47c95a=new Date();let _0x50bcdc=new Date(),_0x3117f0=new Date();if(_0x341381==='week')_0x50bcdc=getStartOfWeek(_0x47c95a),_0x3117f0=new Date(_0x50bcdc),_0x3117f0[_0x4ac7d3(0xef)](_0x3117f0[_0x4ac7d3(0xc3)]()+0x6);else{if(_0x341381===_0x4ac7d3(0x1e3))_0x50bcdc=new Date(_0x47c95a['getFullYear'](),_0x47c95a[_0x4ac7d3(0x18a)](),0x1),_0x3117f0=new Date(_0x47c95a[_0x4ac7d3(0x1b5)](),_0x47c95a['getMonth']()+0x1,0x0);else{!document['getElementById'](_0x4ac7d3(0x142))[_0x4ac7d3(0x1ec)]&&(document[_0x4ac7d3(0x1b3)](_0x4ac7d3(0x142))[_0x4ac7d3(0x1ec)]=getLocalDateStr(_0x47c95a),document[_0x4ac7d3(0x1b3)]('anEnd')[_0x4ac7d3(0x1ec)]=getLocalDateStr(_0x47c95a));refreshAnalytics();return;}}document['getElementById'](_0x4ac7d3(0x142))[_0x4ac7d3(0x1ec)]=getLocalDateStr(_0x50bcdc),document[_0x4ac7d3(0x1b3)]('anEnd')['value']=getLocalDateStr(_0x3117f0),refreshAnalytics();}function refreshAnalytics(){const _0x23a165=a2_0x281a11,_0xcb5c05=document[_0x23a165(0x1b3)](_0x23a165(0x142))[_0x23a165(0x1ec)],_0x2b17fc=document[_0x23a165(0x1b3)](_0x23a165(0x1d0))[_0x23a165(0x1ec)];if(!_0xcb5c05||!_0x2b17fc)return;const _0x22ae59=sessions[_0x23a165(0x100)](_0x5673ba=>_0x5673ba['dateStr']>=_0xcb5c05&&_0x5673ba[_0x23a165(0x104)]<=_0x2b17fc&&_0x5673ba[_0x23a165(0x120)]!==_0x23a165(0xcb)),_0x498b5f=_0x22ae59[_0x23a165(0x21a)],_0x5c34e9=_0x22ae59[_0x23a165(0x100)](_0x1f07e6=>_0x1f07e6[_0x23a165(0x120)]===_0x23a165(0x212))[_0x23a165(0x21a)],_0x3eb7c8=_0x498b5f>0x0?Math[_0x23a165(0x1b2)](_0x5c34e9/_0x498b5f*0x64):0x0;document[_0x23a165(0x1b3)]('anPercent')['textContent']=_0x3eb7c8+'%',document[_0x23a165(0x1b3)](_0x23a165(0x193))[_0x23a165(0x23c)]=_0x5c34e9+_0x23a165(0x1f0)+_0x498b5f+_0x23a165(0x1c2);const _0x21243f=document['getElementById'](_0x23a165(0x1f7)),_0x3cb44d=0x2*Math['PI']*0x23,_0x20424d=_0x3cb44d-_0x3eb7c8/0x64*_0x3cb44d;_0x21243f[_0x23a165(0x1ff)][_0x23a165(0x1c1)]=_0x20424d;const _0x566860={};_0x22ae59[_0x23a165(0x15c)](_0x5e1845=>{const _0x7ee576=_0x23a165;if(!_0x566860[_0x5e1845[_0x7ee576(0x1c7)]]){const _0x45b2d5=clients[_0x7ee576(0x1b4)](_0x4e2bdf=>_0x4e2bdf[_0x7ee576(0x1d4)]===_0x5e1845['client']);_0x566860[_0x5e1845[_0x7ee576(0x1c7)]]={'total':0x0,'done':0x0,'color':_0x45b2d5?_0x45b2d5[_0x7ee576(0xdb)]:_0x7ee576(0x1c0)};}_0x566860[_0x5e1845[_0x7ee576(0x1c7)]]['total']++;if(_0x5e1845['status']===_0x7ee576(0x212))_0x566860[_0x5e1845[_0x7ee576(0x1c7)]][_0x7ee576(0xce)]++;});const _0x8d3826=document['getElementById'](_0x23a165(0x1fe));_0x8d3826[_0x23a165(0x106)]='';const _0x351783=Object[_0x23a165(0x105)](_0x566860)[_0x23a165(0x187)]((_0x528193,_0x3b1eea)=>_0x3b1eea[0x1][_0x23a165(0x113)]-_0x528193[0x1][_0x23a165(0x113)]);if(_0x351783[_0x23a165(0x21a)]===0x0){_0x8d3826[_0x23a165(0x106)]=_0x23a165(0x21f);return;}_0x351783[_0x23a165(0x15c)](([_0x103675,_0x212f0a])=>{const _0xf70936=_0x23a165,_0x32c3a1=Math[_0xf70936(0x1b2)](_0x212f0a[_0xf70936(0xce)]/_0x212f0a[_0xf70936(0x113)]*0x64),_0x1f9ed4=document[_0xf70936(0x1cd)](_0xf70936(0x1ef));_0x1f9ed4[_0xf70936(0xda)]=_0xf70936(0x111),_0x1f9ed4['style'][_0xf70936(0x211)]=_0x212f0a[_0xf70936(0xdb)],_0x1f9ed4['innerHTML']=_0xf70936(0x1bb)+_0x103675+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x212f0a[_0xf70936(0xce)]+_0xf70936(0x226)+_0x212f0a['total']+_0xf70936(0x1dc)+_0x32c3a1+_0xf70936(0xe8),_0x8d3826['appendChild'](_0x1f9ed4);});}function formatMinsToHrs(_0x59e6cb){const _0x5c6d8c=a2_0x281a11;if(_0x59e6cb===0x0)return'0';const _0x12a098=Math[_0x5c6d8c(0x186)](_0x59e6cb/0x3c),_0x11d9d0=_0x59e6cb%0x3c;if(_0x11d9d0===0x0)return _0x12a098+'—á';return _0x12a098+'—á\x20'+_0x11d9d0+'–º';}