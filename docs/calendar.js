const a2_0x5a7eaf=a2_0x18e9;(function(_0x499a31,_0x5924df){const _0x3258ad=a2_0x18e9,_0x3f6ec6=_0x499a31();while(!![]){try{const _0x320a0d=parseInt(_0x3258ad(0x31e))/0x1*(-parseInt(_0x3258ad(0x2d7))/0x2)+parseInt(_0x3258ad(0x1fe))/0x3+parseInt(_0x3258ad(0x2cb))/0x4*(parseInt(_0x3258ad(0x1ec))/0x5)+-parseInt(_0x3258ad(0x204))/0x6+parseInt(_0x3258ad(0x225))/0x7*(-parseInt(_0x3258ad(0x296))/0x8)+-parseInt(_0x3258ad(0x2a0))/0x9+-parseInt(_0x3258ad(0x259))/0xa*(-parseInt(_0x3258ad(0x2bf))/0xb);if(_0x320a0d===_0x5924df)break;else _0x3f6ec6['push'](_0x3f6ec6['shift']());}catch(_0x2978d0){_0x3f6ec6['push'](_0x3f6ec6['shift']());}}}(a2_0x5808,0x18965),function initTMA(){const _0x5465c8=a2_0x18e9,_0x518d6e=(function(){let _0x3fa038=!![];return function(_0x35ede3,_0x5a1200){const _0x308326=_0x3fa038?function(){const _0x16a213=a2_0x18e9;if(_0x5a1200){const _0x5c3ed1=_0x5a1200[_0x16a213(0x265)](_0x35ede3,arguments);return _0x5a1200=null,_0x5c3ed1;}}:function(){};return _0x3fa038=![],_0x308326;};}()),_0x3446c7=_0x518d6e(this,function(){const _0xc3c479=a2_0x18e9;return _0x3446c7['toString']()[_0xc3c479(0x20a)](_0xc3c479(0x1f5))[_0xc3c479(0x32b)]()[_0xc3c479(0x237)](_0x3446c7)[_0xc3c479(0x20a)](_0xc3c479(0x1f5));});_0x3446c7();try{const _0x399943=window[_0x5465c8(0x21a)]?.['WebApp'];if(!_0x399943)return;_0x399943[_0x5465c8(0x328)](),_0x399943[_0x5465c8(0x220)]();try{_0x399943['setHeaderColor'](_0x5465c8(0x31f)),_0x399943[_0x5465c8(0x33d)]&&_0x399943['setBackgroundColor'](_0x5465c8(0x31f));}catch(_0x594eb9){console['log'](_0x5465c8(0x2c0),_0x594eb9);}try{_0x399943[_0x5465c8(0x2b6)]&&(_0x399943[_0x5465c8(0x2b6)][_0x5465c8(0x219)](),_0x399943[_0x5465c8(0x2b6)]['offClick'](),_0x399943[_0x5465c8(0x2b6)]['onClick'](function(){const _0x1f58ac=_0x5465c8;window[_0x1f58ac(0x278)][_0x1f58ac(0x2a3)]=_0x1f58ac(0x28d);}));}catch(_0x42b975){console['log'](_0x5465c8(0x255),_0x42b975);}try{if(_0x399943[_0x5465c8(0x2d3)])_0x399943[_0x5465c8(0x2d3)]();}catch(_0x4a4faa){}}catch(_0x4dd486){console[_0x5465c8(0x1e9)](_0x5465c8(0x1ca),_0x4dd486);}}());function isAdmin(){const _0x184420=a2_0x18e9;try{const _0x1ad493=Number(window[_0x184420(0x21a)]?.[_0x184420(0x30b)]?.[_0x184420(0x22d)]?.[_0x184420(0x26e)]?.['id']);return _0x1ad493===0xbaf7174;}catch(_0x3ba47a){return![];}}const APP_VERSION='v9.0-BATCH-CALENDAR',API_URL=a2_0x5a7eaf(0x2ed),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x5a7eaf(0x1ee),KEY_SESSIONS=a2_0x5a7eaf(0x2c7),KEY_SETTINGS=a2_0x5a7eaf(0x1c2);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x5b9a8c=a2_0x5a7eaf;return window['Telegram']?.['WebApp']?.['initDataUnsafe']?.[_0x5b9a8c(0x26e)]?.['id']||_0x5b9a8c(0x2d5);},'saveLocally'(){const _0x4e023a=a2_0x5a7eaf;try{localStorage['setItem'](KEY_CLIENTS,JSON['stringify'](clients)),localStorage[_0x4e023a(0x25b)](KEY_SESSIONS,JSON[_0x4e023a(0x266)](sessions)),localStorage[_0x4e023a(0x25b)](KEY_SETTINGS,JSON[_0x4e023a(0x266)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x24bd7b){console['error'](_0x4e023a(0x321),_0x24bd7b);}},'loadLocal'(){const _0x2a3be6=a2_0x5a7eaf;try{const _0x2ffb88=localStorage[_0x2a3be6(0x346)](KEY_CLIENTS);if(_0x2ffb88)clients=JSON['parse'](_0x2ffb88);const _0x3c7151=localStorage[_0x2a3be6(0x346)](KEY_SESSIONS);if(_0x3c7151)sessions=JSON['parse'](_0x3c7151);const _0x5caf5e=localStorage[_0x2a3be6(0x346)](KEY_SETTINGS);if(_0x5caf5e){const _0x1015f6=JSON[_0x2a3be6(0x1f8)](_0x5caf5e);if(_0x1015f6[_0x2a3be6(0x232)])availabilityPattern=_0x1015f6[_0x2a3be6(0x232)];if(_0x1015f6[_0x2a3be6(0x247)])dateExceptions=_0x1015f6[_0x2a3be6(0x247)];if(_0x1015f6[_0x2a3be6(0x32c)])specialRanges=_0x1015f6[_0x2a3be6(0x32c)];}else{for(let _0x5d52c3=0x0;_0x5d52c3<0x7;_0x5d52c3++)availabilityPattern[_0x5d52c3]=Array['from']({'length':0xc},(_0xca5cca,_0x5b3a91)=>_0x5b3a91+0x9);}}catch(_0x391470){console[_0x2a3be6(0x1e9)]('Local\x20Load\x20Error',_0x391470);}},async 'fetchFromServer'(_0x52ab6e,_0x2842ff={}){const _0x4f7a55=a2_0x5a7eaf,_0x4d28d1=window['Telegram']?.[_0x4f7a55(0x30b)],_0x7f2c1a={'action':_0x52ab6e,'init_data':_0x4d28d1?.[_0x4f7a55(0x261)]||'',..._0x2842ff};try{const _0x625935=await fetch(API_URL,{'method':_0x4f7a55(0x1e2),'headers':{'Content-Type':_0x4f7a55(0x2ce)},'body':JSON['stringify'](_0x7f2c1a)}),_0x419241=await _0x625935['json']();if(!_0x419241['ok'])throw new Error(_0x419241[_0x4f7a55(0x1e9)]||'Server\x20Error');return _0x419241[_0x4f7a55(0x1f2)];}catch(_0x51ee8d){console[_0x4f7a55(0x1e9)](_0x4f7a55(0x1d0)+_0x52ab6e+_0x4f7a55(0x20b),_0x51ee8d);throw _0x51ee8d;}},async 'syncLoad'(){const _0x23785f=a2_0x5a7eaf,_0xeb7352=new Date(),_0x518a2e=_0xeb7352[_0x23785f(0x294)]()+'-'+String(_0xeb7352['getMonth']()+0x1)['padStart'](0x2,'0'),_0x630bb3=new Date(_0xeb7352);_0x630bb3[_0x23785f(0x27b)](_0xeb7352[_0x23785f(0x1e0)]()+0x1);const _0xc3abab=_0x630bb3[_0x23785f(0x294)]()+'-'+String(_0x630bb3[_0x23785f(0x1e0)]()+0x1)[_0x23785f(0x279)](0x2,'0'),_0x3b8a99=Date[_0x23785f(0x224)]();console[_0x23785f(0x226)]('[Sync]\x20Loading\x20'+_0x518a2e+',\x20'+_0xc3abab+_0x23785f(0x251));try{const [_0x4f68a7,_0x383d26]=await Promise[_0x23785f(0x270)]([this[_0x23785f(0x23f)]('init_load',{'month_str':_0x518a2e}),this[_0x23785f(0x23f)](_0x23785f(0x212),{'month_str':_0xc3abab})]);if(lastUserActionTime>_0x3b8a99)return console[_0x23785f(0x208)](_0x23785f(0x200)),![];return this['mergeServerData'](_0x4f68a7,_0x518a2e),this[_0x23785f(0x28c)](_0x383d26,_0xc3abab),this[_0x23785f(0x335)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x45600d){console[_0x23785f(0x1e9)](_0x45600d);throw _0x45600d;}},'mergeServerData'(_0x3ff8dd,_0xba7ae){const _0x357327=a2_0x5a7eaf;if(!_0x3ff8dd)return;_0x3ff8dd['clients']&&Array[_0x357327(0x2f7)](_0x3ff8dd[_0x357327(0x2a9)])&&(clients=_0x3ff8dd[_0x357327(0x2a9)]);if(_0x3ff8dd[_0x357327(0x227)]){if(_0x3ff8dd['settings']['pattern'])availabilityPattern=_0x3ff8dd[_0x357327(0x227)][_0x357327(0x232)];if(_0x3ff8dd['settings'][_0x357327(0x247)])dateExceptions=_0x3ff8dd[_0x357327(0x227)]['exceptions'];if(_0x3ff8dd[_0x357327(0x227)][_0x357327(0x32c)])specialRanges=_0x3ff8dd['settings'][_0x357327(0x32c)];if(_0x3ff8dd[_0x357327(0x227)][_0x357327(0x2d2)]){localStorage[_0x357327(0x25b)](_0x357327(0x2fe),_0x3ff8dd[_0x357327(0x227)][_0x357327(0x2d2)]);const _0x2a9771=document[_0x357327(0x271)](_0x357327(0x1e8));if(_0x2a9771)_0x2a9771[_0x357327(0x1c6)]=_0x3ff8dd[_0x357327(0x227)][_0x357327(0x2d2)];}}_0x3ff8dd[_0x357327(0x1cf)]&&(sessions=sessions[_0x357327(0x2ea)](_0x797f03=>!_0x797f03['dateStr'][_0x357327(0x349)](_0xba7ae)),Object[_0x357327(0x333)](_0x3ff8dd[_0x357327(0x1cf)])[_0x357327(0x27d)](_0x374255=>{const _0x17b638=_0x357327,_0x1d7c0c=_0x3ff8dd[_0x17b638(0x1cf)][_0x374255];_0x1d7c0c[_0x17b638(0x27d)](_0x338222=>{const _0x252f68=_0x17b638,_0x269bb9=clients['find'](_0x335971=>String(_0x335971['id'])===String(_0x338222['c']));sessions[_0x252f68(0x22e)]({'id':_0x338222['i'],'clientId':_0x338222['c'],'client':_0x269bb9?_0x269bb9[_0x252f68(0x2e0)]:'Unknown','dateStr':_0xba7ae+'-'+_0x374255['padStart'](0x2,'0'),'start':_0x338222['s'],'end':_0x338222['e'],'status':_0x338222['st']||_0x252f68(0x209),'note':_0x338222['n']||'','seriesId':_0x338222[_0x252f68(0x20f)]||null});});}));},async 'syncBatch'(_0x5af350){const _0x3ea7e5=a2_0x5a7eaf,_0x1f32df=[...new Set(_0x5af350)],_0x21a0ba=_0x1f32df[_0x3ea7e5(0x1c4)](_0x602a0e=>{const _0xa75d9d=_0x3ea7e5,_0x363025=sessions[_0xa75d9d(0x2ea)](_0x12b2a8=>_0x12b2a8['dateStr']===_0x602a0e&&_0x12b2a8[_0xa75d9d(0x33f)]!=='deleted'),_0x57b695=_0x363025['map'](_0x1e3ba4=>({'i':_0x1e3ba4['id'],'c':_0x1e3ba4[_0xa75d9d(0x1bf)],'s':_0x1e3ba4[_0xa75d9d(0x250)],'e':_0x1e3ba4[_0xa75d9d(0x2aa)],'st':_0x1e3ba4[_0xa75d9d(0x33f)],'n':_0x1e3ba4[_0xa75d9d(0x1c3)],'sid':_0x1e3ba4[_0xa75d9d(0x2f9)]}));return{'date':_0x602a0e,'day_data':_0x57b695};});if(_0x21a0ba[_0x3ea7e5(0x233)]===0x0)return;console[_0x3ea7e5(0x226)](_0x3ea7e5(0x28e)+_0x21a0ba[_0x3ea7e5(0x233)]+_0x3ea7e5(0x28b)),await this['fetchFromServer'](_0x3ea7e5(0x1f4),{'changes':_0x21a0ba});}};async function init(){const _0x6371b8=a2_0x5a7eaf;DataManager[_0x6371b8(0x2bc)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x6371b8(0x271)](_0x6371b8(0x2d6))[_0x6371b8(0x311)](_0x6371b8(0x26a),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x6371b8(0x258)]()[_0x6371b8(0x1fa)](()=>{const _0x2611c9=_0x6371b8;showToast(_0x2611c9(0x222),!![]);})[_0x6371b8(0x301)](_0x433ff7=>{const _0x10ddf9=_0x6371b8;showToast(_0x10ddf9(0x1f3),![]);});}function generateId(){const _0x35eabd=a2_0x5a7eaf;return Date[_0x35eabd(0x224)]()[_0x35eabd(0x32b)](0x24)+Math[_0x35eabd(0x26f)]()[_0x35eabd(0x32b)](0x24)[_0x35eabd(0x2ab)](0x2,0x5);}function toggleSeriesInput(){const _0x1b7d4c=a2_0x5a7eaf,_0x150553=document[_0x1b7d4c(0x271)]('inpRecurring')[_0x1b7d4c(0x207)],_0x261df2=document[_0x1b7d4c(0x271)]('seriesCountContainer');_0x261df2[_0x1b7d4c(0x20d)][_0x1b7d4c(0x253)]=_0x150553?_0x1b7d4c(0x216):_0x1b7d4c(0x1c5);const _0x547106=document[_0x1b7d4c(0x271)](_0x1b7d4c(0x243));_0x547106[_0x1b7d4c(0x20d)]['borderRadius']=_0x150553?_0x1b7d4c(0x295):_0x1b7d4c(0x2eb);}function openAddSession(_0xb40deb){const _0x51f2ec=a2_0x5a7eaf;editingId=null,populateClientSelect(),document['getElementById'](_0x51f2ec(0x246))[_0x51f2ec(0x1cd)]=_0x51f2ec(0x2ba),document[_0x51f2ec(0x271)](_0x51f2ec(0x272))[_0x51f2ec(0x20d)][_0x51f2ec(0x253)]=_0x51f2ec(0x1c5),document[_0x51f2ec(0x271)](_0x51f2ec(0x327))[_0x51f2ec(0x20d)][_0x51f2ec(0x253)]=_0x51f2ec(0x1c5);const _0x349ee9=document['getElementById'](_0x51f2ec(0x243)),_0x1b031f=document['getElementById'](_0x51f2ec(0x304));_0x349ee9[_0x51f2ec(0x20d)][_0x51f2ec(0x253)]=_0x51f2ec(0x2d4),_0x349ee9['style']['borderRadius']=_0x51f2ec(0x2eb),document[_0x51f2ec(0x271)](_0x51f2ec(0x2bb))[_0x51f2ec(0x207)]=![],document['getElementById']('inpSeriesCount')[_0x51f2ec(0x1c6)]=0x4,_0x1b031f['style'][_0x51f2ec(0x253)]=_0x51f2ec(0x1c5),document['getElementById'](_0x51f2ec(0x238))[_0x51f2ec(0x1c6)]=getLocalDateStr(_0xb40deb),updateDateDisplay();const _0x37e08b=_0xb40deb[_0x51f2ec(0x203)]();document[_0x51f2ec(0x271)]('inpStart')[_0x51f2ec(0x1c6)]=String(_0x37e08b)[_0x51f2ec(0x279)](0x2,'0')+':00',document['getElementById'](_0x51f2ec(0x1fb))['value']=String(_0x37e08b+0x1)[_0x51f2ec(0x279)](0x2,'0')+_0x51f2ec(0x2fa),openSheet('sessionSheet');}function openEdit(_0x25c38f){const _0x2b3343=a2_0x5a7eaf;editingId=_0x25c38f['id'],populateClientSelect(),document[_0x2b3343(0x271)](_0x2b3343(0x246))[_0x2b3343(0x1cd)]=_0x2b3343(0x34b),document[_0x2b3343(0x271)](_0x2b3343(0x272))[_0x2b3343(0x20d)]['display']='block';const _0x249395=document['getElementById'](_0x2b3343(0x327));_0x249395[_0x2b3343(0x20d)][_0x2b3343(0x253)]=_0x2b3343(0x2d4);_0x25c38f[_0x2b3343(0x33f)]===_0x2b3343(0x1be)?(_0x249395[_0x2b3343(0x1ce)]='btn-status-toggle\x20undo-mode',_0x249395[_0x2b3343(0x1ff)]=_0x2b3343(0x1e4)):(_0x249395[_0x2b3343(0x1ce)]=_0x2b3343(0x28a),_0x249395[_0x2b3343(0x1ff)]=_0x2b3343(0x2dd));const _0x5a3e2a=!!_0x25c38f[_0x2b3343(0x2f9)];document['getElementById'](_0x2b3343(0x243))[_0x2b3343(0x20d)][_0x2b3343(0x253)]=_0x2b3343(0x1c5),document[_0x2b3343(0x271)]('seriesCountContainer')[_0x2b3343(0x20d)][_0x2b3343(0x253)]='none',_0x5a3e2a?(document[_0x2b3343(0x271)](_0x2b3343(0x1d7))[_0x2b3343(0x20d)][_0x2b3343(0x253)]=_0x2b3343(0x2d4),document[_0x2b3343(0x271)]('patternInfoBox')['querySelector'](_0x2b3343(0x312))['textContent']=_0x2b3343(0x329)):document[_0x2b3343(0x271)]('patternInfoBox')[_0x2b3343(0x20d)][_0x2b3343(0x253)]=_0x2b3343(0x1c5),document['getElementById'](_0x2b3343(0x1d4))[_0x2b3343(0x1c6)]=_0x25c38f[_0x2b3343(0x1e6)],document[_0x2b3343(0x271)](_0x2b3343(0x238))[_0x2b3343(0x1c6)]=_0x25c38f[_0x2b3343(0x218)],document[_0x2b3343(0x271)](_0x2b3343(0x337))[_0x2b3343(0x1c6)]=_0x25c38f[_0x2b3343(0x250)],document[_0x2b3343(0x271)](_0x2b3343(0x1fb))[_0x2b3343(0x1c6)]=_0x25c38f['end'],document[_0x2b3343(0x271)]('inpNote')['value']=_0x25c38f[_0x2b3343(0x1c3)]||'',updateDateDisplay(),openSheet(_0x2b3343(0x344));}async function trySaveSession(){const _0x539c6a=a2_0x5a7eaf,_0x347a4c=document[_0x539c6a(0x271)](_0x539c6a(0x1d4))[_0x539c6a(0x1c6)],_0x2013e8=document[_0x539c6a(0x271)]('inpDate')[_0x539c6a(0x1c6)],_0x39f994=document[_0x539c6a(0x271)](_0x539c6a(0x337))[_0x539c6a(0x1c6)],_0x47527d=document[_0x539c6a(0x271)](_0x539c6a(0x1fb))[_0x539c6a(0x1c6)],_0x5bb9b5=document['getElementById'](_0x539c6a(0x289))[_0x539c6a(0x1c6)],_0x42c94c=document[_0x539c6a(0x271)]('inpRecurring')[_0x539c6a(0x207)];let _0x5592d6=0x4;if(_0x42c94c){const _0x5db834=parseInt(document['getElementById'](_0x539c6a(0x1c9))[_0x539c6a(0x1c6)]);if(!_0x5db834||_0x5db834<0x2){showToast(_0x539c6a(0x2df),![]);return;}if(_0x5db834>0x64){showToast(_0x539c6a(0x2a8),![]);return;}_0x5592d6=_0x5db834;}const _0x1f0c82=clients[_0x539c6a(0x242)](_0x2c8579=>_0x2c8579[_0x539c6a(0x2e0)]===_0x347a4c);if(!_0x1f0c82){showToast(_0x539c6a(0x2b8),![]);return;}const _0x161491=validateAppointment(_0x2013e8,_0x39f994,_0x47527d,editingId,_0x1f0c82['id']);if(!_0x161491['valid']){showToast(_0x161491[_0x539c6a(0x2ca)],![]);return;}_0x161491[_0x539c6a(0x267)]&&showToast(_0x161491[_0x539c6a(0x267)],![]);const _0x4b3d5={'client':_0x347a4c,'clientId':_0x1f0c82['id'],'start':_0x39f994,'end':_0x47527d,'note':_0x5bb9b5,'status':_0x539c6a(0x209)},_0x410159=editingId?sessions[_0x539c6a(0x242)](_0xf40b9f=>_0xf40b9f['id']===editingId):null;if(_0x410159&&_0x410159[_0x539c6a(0x2f9)]){tempSessionData={..._0x4b3d5,'dateStr':_0x2013e8,'id':editingId,'seriesId':_0x410159[_0x539c6a(0x2f9)]},openActionSheet(_0x539c6a(0x287));return;}let _0x2e9b30=null;if(!editingId)_0x2e9b30='create';else{if(_0x410159){if(String(_0x410159[_0x539c6a(0x1bf)])!==String(_0x1f0c82['id']))console[_0x539c6a(0x226)](_0x539c6a(0x2af)),NotificationManager['send'](_0x539c6a(0x29a),_0x410159),_0x2e9b30=_0x539c6a(0x1e7);else(_0x410159[_0x539c6a(0x250)]!==_0x39f994||_0x410159[_0x539c6a(0x2aa)]!==_0x47527d||_0x410159[_0x539c6a(0x218)]!==_0x2013e8)&&(_0x2e9b30='update');}}if(!editingId&&_0x42c94c){createBatchSeries(_0x4b3d5,_0x2013e8,_0x5592d6),NotificationManager[_0x539c6a(0x20e)](_0x539c6a(0x1e7),{..._0x4b3d5,'dateStr':_0x2013e8});return;}lastUserActionTime=Date['now']();const _0x45b93f={..._0x4b3d5,'dateStr':_0x2013e8,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x45b93f),_0x2e9b30&&NotificationManager[_0x539c6a(0x20e)](_0x2e9b30,_0x45b93f);}function toggleSessionStatus(){const _0x316e9e=a2_0x5a7eaf;lastUserActionTime=Date[_0x316e9e(0x224)]();const _0x342fe2=sessions[_0x316e9e(0x242)](_0x549f28=>_0x549f28['id']===editingId);if(!_0x342fe2)return;const _0xc6a87=_0x342fe2[_0x316e9e(0x33f)]===_0x316e9e(0x1be)?_0x316e9e(0x209):_0x316e9e(0x1be);_0x342fe2[_0x316e9e(0x33f)]=_0xc6a87,saveSingleSession(_0x342fe2),_0xc6a87===_0x316e9e(0x1be)&&NotificationManager['send'](_0x316e9e(0x25c),_0x342fe2),showToast(_0xc6a87===_0x316e9e(0x1be)?_0x316e9e(0x343):_0x316e9e(0x30a),!![]);}function validateAppointment(_0x451110,_0x3af133,_0x205b62,_0x528f79,_0x2ede7b){const _0x5f1b1d=a2_0x5a7eaf,[_0x68b8,_0x3016ec]=_0x3af133['split'](':')[_0x5f1b1d(0x1c4)](Number),[_0x2ee00a,_0x129d46]=_0x205b62['split'](':')[_0x5f1b1d(0x1c4)](Number),_0x34da43=_0x68b8*0x3c+_0x3016ec,_0x1bd1cc=_0x2ee00a*0x3c+_0x129d46,_0xf18088=String(_0x2ede7b);let _0x3b9d09=![],_0x36dca9='';for(let _0x2fa81d of sessions){if(_0x2fa81d['dateStr']!==_0x451110)continue;if(_0x2fa81d[_0x5f1b1d(0x33f)]===_0x5f1b1d(0x2f0))continue;if(_0x528f79&&String(_0x2fa81d['id'])===String(_0x528f79))continue;const [_0xe15632,_0x46f29e]=_0x2fa81d[_0x5f1b1d(0x250)][_0x5f1b1d(0x2b7)](':')['map'](Number),[_0x31d66b,_0x3387a5]=_0x2fa81d[_0x5f1b1d(0x2aa)]['split'](':')[_0x5f1b1d(0x1c4)](Number),_0x305e8b=_0xe15632*0x3c+_0x46f29e,_0x27bb10=_0x31d66b*0x3c+_0x3387a5;if(Math['max'](_0x34da43,_0x305e8b)<Math['min'](_0x1bd1cc,_0x27bb10)){if(_0x2fa81d[_0x5f1b1d(0x1bf)]&&String(_0x2fa81d[_0x5f1b1d(0x1bf)])===_0xf18088)return{'valid':![],'msg':_0x5f1b1d(0x283)+_0x2fa81d[_0x5f1b1d(0x1e6)]+_0x5f1b1d(0x23b)};_0x3b9d09=!![],_0x36dca9=_0x2fa81d[_0x5f1b1d(0x1e6)];}}if(_0x3b9d09)return{'valid':!![],'warning':'–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20'+_0x36dca9};return{'valid':!![]};}function saveSingleSession(_0x237e45){const _0x4f3c03=a2_0x5a7eaf;if(editingId){const _0x3a90ec=sessions[_0x4f3c03(0x24c)](_0x264444=>_0x264444['id']===editingId);if(_0x3a90ec!==-0x1)sessions[_0x3a90ec]=_0x237e45;}else sessions[_0x4f3c03(0x22e)](_0x237e45);afterSaveAction([_0x237e45[_0x4f3c03(0x218)]]);}function createBatchSeries(_0x50fee1,_0x25a5ac,_0x2194da){const _0x40d95b=a2_0x5a7eaf,_0x540824=generateId(),_0x130cef=[],_0x1b357d=[];let _0x51c660=0x0,_0x2a721d=new Date(_0x25a5ac);for(let _0x37bf86=0x0;_0x37bf86<_0x2194da;_0x37bf86++){const _0x4beff1=getLocalDateStr(_0x2a721d),_0x54db01=validateAppointment(_0x4beff1,_0x50fee1[_0x40d95b(0x250)],_0x50fee1[_0x40d95b(0x2aa)],null,_0x50fee1[_0x40d95b(0x1bf)]);if(!_0x54db01[_0x40d95b(0x2b3)])console[_0x40d95b(0x226)](_0x40d95b(0x293)+_0x4beff1+_0x40d95b(0x1dd)),_0x51c660++;else{const _0x72b4a3={..._0x50fee1,'id':generateId(),'dateStr':_0x4beff1,'seriesId':_0x540824};_0x1b357d[_0x40d95b(0x22e)](_0x72b4a3),_0x130cef[_0x40d95b(0x22e)](_0x4beff1);}_0x2a721d[_0x40d95b(0x2c3)](_0x2a721d['getDate']()+0x7);}if(_0x1b357d[_0x40d95b(0x233)]===0x0){showToast(_0x40d95b(0x268),![]);return;}sessions[_0x40d95b(0x22e)](..._0x1b357d),lastUserActionTime=Date['now']();let _0x297a5e=_0x40d95b(0x25a)+_0x1b357d[_0x40d95b(0x233)];_0x51c660>0x0&&(_0x297a5e+=_0x40d95b(0x1c8)+_0x51c660+')'),showToast(_0x297a5e,!![]),afterSaveAction(_0x130cef);}function updateSeriesBatch(_0x4449a7,_0xa56227){const _0x2b825d=a2_0x5a7eaf,_0x1b1e7a=[],_0x4591ce=_0xa56227[_0x2b825d(0x2f9)];if(_0x4449a7===_0x2b825d(0x350)){const _0x50fb00={..._0xa56227,'seriesId':null},_0x5ca60d=sessions[_0x2b825d(0x24c)](_0x56219a=>_0x56219a['id']===_0xa56227['id']);if(_0x5ca60d!==-0x1)sessions[_0x5ca60d]=_0x50fb00;_0x1b1e7a[_0x2b825d(0x22e)](_0x50fb00['dateStr']);}else{if(_0x4449a7===_0x2b825d(0x2e1)){const _0x97bd4f=_0xa56227[_0x2b825d(0x218)];sessions[_0x2b825d(0x27d)]((_0x269983,_0x4389b4)=>{const _0x4d189b=_0x2b825d;_0x269983[_0x4d189b(0x2f9)]===_0x4591ce&&_0x269983['dateStr']>=_0x97bd4f&&(sessions[_0x4389b4]={...sessions[_0x4389b4],'start':_0xa56227[_0x4d189b(0x250)],'end':_0xa56227[_0x4d189b(0x2aa)],'note':_0xa56227[_0x4d189b(0x1c3)],'client':_0xa56227['client'],'clientId':_0xa56227[_0x4d189b(0x1bf)]},_0x1b1e7a['push'](_0x269983['dateStr']));});}}afterSaveAction(_0x1b1e7a);}function tryDeleteSession(){const _0x269b68=a2_0x5a7eaf,_0xe7ffdb=sessions['find'](_0x190518=>_0x190518['id']===editingId);if(!_0xe7ffdb)return;_0xe7ffdb[_0x269b68(0x2f9)]?openActionSheet(_0x269b68(0x262)):commitDelete(_0x269b68(0x350),_0xe7ffdb);}function commitDelete(_0x1c3f1c,_0x3db038){const _0xc8e7e=a2_0x5a7eaf;lastUserActionTime=Date[_0xc8e7e(0x224)](),NotificationManager['send'](_0xc8e7e(0x29a),_0x3db038);const _0x43bb99=[];if(_0x1c3f1c===_0xc8e7e(0x350))sessions=sessions[_0xc8e7e(0x2ea)](_0x1c94a1=>_0x1c94a1['id']!==_0x3db038['id']),_0x43bb99[_0xc8e7e(0x22e)](_0x3db038[_0xc8e7e(0x218)]);else{if(_0x1c3f1c===_0xc8e7e(0x2e1)){const _0x415851=_0x3db038[_0xc8e7e(0x218)],_0x4a209b=_0x3db038[_0xc8e7e(0x2f9)];sessions[_0xc8e7e(0x27d)](_0x4a44c8=>{const _0x5ce0eb=_0xc8e7e;_0x4a44c8[_0x5ce0eb(0x2f9)]===_0x4a209b&&_0x4a44c8[_0x5ce0eb(0x218)]>=_0x415851&&_0x43bb99[_0x5ce0eb(0x22e)](_0x4a44c8[_0x5ce0eb(0x218)]);}),sessions=sessions['filter'](_0x4fd235=>!(_0x4fd235[_0xc8e7e(0x2f9)]===_0x4a209b&&_0x4fd235[_0xc8e7e(0x218)]>=_0x415851));}}afterSaveAction(_0x43bb99);}function afterSaveAction(_0x3b4c4e){const _0xd8ed9b=a2_0x5a7eaf;DataManager[_0xd8ed9b(0x335)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0xd8ed9b(0x32e)](_0x3b4c4e)['then'](()=>console[_0xd8ed9b(0x226)](_0xd8ed9b(0x2e6)))[_0xd8ed9b(0x301)](_0x357ac3=>showToast(_0xd8ed9b(0x2ee),![]));}const NotificationManager={'formatDate'(_0x2352f){const _0x4c2b95=a2_0x5a7eaf,_0x2f73ce=new Date(_0x2352f),_0x2cec88={'weekday':_0x4c2b95(0x322),'day':_0x4c2b95(0x33b),'month':'long'};let _0x4ec3a9=_0x2f73ce[_0x4c2b95(0x2b9)]('ru-RU',_0x2cec88);return _0x4ec3a9[_0x4c2b95(0x264)](0x0)['toUpperCase']()+_0x4ec3a9[_0x4c2b95(0x213)](0x1);},'getText'(_0x2253c3,_0x5833c5){const _0x23db4f=a2_0x5a7eaf,_0x16efc3=this['formatDate'](_0x5833c5['dateStr']);switch(_0x2253c3){case _0x23db4f(0x1e7):return _0x23db4f(0x30f)+(_0x23db4f(0x2a5)+_0x16efc3+'\x0a')+(_0x23db4f(0x1ea)+_0x5833c5[_0x23db4f(0x250)]+_0x23db4f(0x285)+_0x5833c5[_0x23db4f(0x2aa)]+'\x0a\x0a')+'–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™';case _0x23db4f(0x2cd):return _0x23db4f(0x2c5)+_0x23db4f(0x26d)+(_0x23db4f(0x2d0)+_0x5833c5[_0x23db4f(0x250)]+_0x23db4f(0x285)+_0x5833c5['end']+_0x23db4f(0x2f3))+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0x16efc3);case _0x23db4f(0x29a):return _0x23db4f(0x2ac)+('–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>'+_0x16efc3+'\x20('+_0x5833c5['start']+_0x23db4f(0x231));case _0x23db4f(0x25c):return _0x23db4f(0x300)+_0x23db4f(0x339)+'<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>';default:return'';}},async 'send'(_0xd53f3d,_0x6ff8da){const _0x479ff3=a2_0x5a7eaf;console['log'](_0x479ff3(0x269),_0xd53f3d,_0x6ff8da);if(!_0x6ff8da){console[_0x479ff3(0x1e9)](_0x479ff3(0x24a));return;}const _0x32e382=String(_0x6ff8da[_0x479ff3(0x1bf)]);console[_0x479ff3(0x226)]('[Notify]\x20Detected\x20Client\x20ID:',_0x32e382);if(!_0x6ff8da[_0x479ff3(0x1bf)]||_0x32e382===_0x479ff3(0x29c)||_0x32e382===_0x479ff3(0x2ad)){console[_0x479ff3(0x1e9)](_0x479ff3(0x2a6));if(_0x6ff8da[_0x479ff3(0x1e6)]){const _0x4ad2be=clients[_0x479ff3(0x242)](_0x2d7a8d=>_0x2d7a8d[_0x479ff3(0x2e0)]===_0x6ff8da[_0x479ff3(0x1e6)]);if(_0x4ad2be)return console['log'](_0x479ff3(0x1fd),_0x4ad2be['id']),this[_0x479ff3(0x20e)](_0xd53f3d,{..._0x6ff8da,'clientId':_0x4ad2be['id']});}return;}if(_0x32e382[_0x479ff3(0x233)]<0x5){console[_0x479ff3(0x208)](_0x479ff3(0x34a),_0x32e382);return;}const _0x842a4a=this[_0x479ff3(0x22a)](_0xd53f3d,_0x6ff8da);if(!_0x842a4a){console[_0x479ff3(0x1e9)](_0x479ff3(0x214));return;}console['log'](_0x479ff3(0x1da)+_0x32e382+_0x479ff3(0x251)),DataManager[_0x479ff3(0x23f)]('send_notification',{'chatId':_0x32e382,'text':_0x842a4a})['then'](_0x3b5875=>console[_0x479ff3(0x226)](_0x479ff3(0x276),_0x3b5875))['catch'](_0x18cdf4=>console[_0x479ff3(0x1e9)](_0x479ff3(0x29e),_0x18cdf4));}};function getLocalDateStr(_0x54f1a7){const _0x1ed7e2=a2_0x5a7eaf,_0x5de44e=_0x54f1a7[_0x1ed7e2(0x294)](),_0x559962=String(_0x54f1a7[_0x1ed7e2(0x1e0)]()+0x1)[_0x1ed7e2(0x279)](0x2,'0'),_0x3580cb=String(_0x54f1a7[_0x1ed7e2(0x317)]())[_0x1ed7e2(0x279)](0x2,'0');return _0x5de44e+'-'+_0x559962+'-'+_0x3580cb;}function getDateStr(_0x29bd4c){const _0x5213be=a2_0x5a7eaf,_0x196887=new Date();return _0x196887[_0x5213be(0x2c3)](_0x196887[_0x5213be(0x317)]()+_0x29bd4c),getLocalDateStr(_0x196887);}function getStartOfWeek(_0x7716a7){const _0x3d88a9=a2_0x5a7eaf,_0x2fd5dc=new Date(_0x7716a7),_0x453903=_0x2fd5dc[_0x3d88a9(0x345)](),_0x63216a=_0x2fd5dc['getDate']()-_0x453903+(_0x453903===0x0?-0x6:0x1);return _0x2fd5dc[_0x3d88a9(0x2c3)](_0x63216a),_0x2fd5dc[_0x3d88a9(0x260)](0x0,0x0,0x0,0x0),_0x2fd5dc;}function hexToRgba(_0x4bd137,_0x466b47){const _0x4264cd=a2_0x5a7eaf;if(!_0x4bd137)return _0x4264cd(0x244);let _0x3665e1=0x0,_0x58d220=0x0,_0xf09753=0x0;if(_0x4bd137['length']===0x4)_0x3665e1='0x'+_0x4bd137[0x1]+_0x4bd137[0x1],_0x58d220='0x'+_0x4bd137[0x2]+_0x4bd137[0x2],_0xf09753='0x'+_0x4bd137[0x3]+_0x4bd137[0x3];else _0x4bd137[_0x4264cd(0x233)]===0x7&&(_0x3665e1='0x'+_0x4bd137[0x1]+_0x4bd137[0x2],_0x58d220='0x'+_0x4bd137[0x3]+_0x4bd137[0x4],_0xf09753='0x'+_0x4bd137[0x5]+_0x4bd137[0x6]);return'rgba('+ +_0x3665e1+',\x20'+ +_0x58d220+',\x20'+ +_0xf09753+',\x20'+_0x466b47+')';}function renderTimeColumn(){const _0x26687e=a2_0x5a7eaf,_0x104a41=document['getElementById'](_0x26687e(0x1c0)),_0x1cfbe3=document['getElementById'](_0x26687e(0x1ef));_0x104a41[_0x26687e(0x1ff)]='',_0x104a41[_0x26687e(0x22c)](_0x1cfbe3);for(let _0x1f8e59=0x0;_0x1f8e59<0x18;_0x1f8e59++){const _0x31a0e2=document[_0x26687e(0x2c1)](_0x26687e(0x263));_0x31a0e2[_0x26687e(0x1ce)]=_0x26687e(0x23d);if(_0x1f8e59>0x0)_0x31a0e2[_0x26687e(0x1ff)]=_0x26687e(0x1ed)+String(_0x1f8e59)['padStart'](0x2,'0')+_0x26687e(0x341);_0x104a41[_0x26687e(0x22c)](_0x31a0e2);}}function renderDayRange(_0x39fc40,_0x19fa72){const _0x557ec4=a2_0x5a7eaf,_0x9409e4=document[_0x557ec4(0x271)](_0x557ec4(0x2dc)),_0x34a7c3=document['getElementById'](_0x557ec4(0x33a)),_0x2cbf5b=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x3898ba=new Date();_0x3898ba[_0x557ec4(0x260)](0x0,0x0,0x0,0x0);const _0x1ea8a6=getLocalDateStr(new Date());for(let _0x427da1=_0x39fc40;_0x427da1<=_0x19fa72;_0x427da1++){const _0x23d34d=new Date(_0x3898ba);_0x23d34d[_0x557ec4(0x2c3)](_0x23d34d[_0x557ec4(0x317)]()+_0x427da1);const _0xff6c8d=getLocalDateStr(_0x23d34d);let _0x4e3bd3=_0x23d34d[_0x557ec4(0x345)]()-0x1;if(_0x4e3bd3===-0x1)_0x4e3bd3=0x6;const _0x1c1bc5=_0xff6c8d===_0x1ea8a6,_0xd0e04e=document[_0x557ec4(0x2c1)](_0x557ec4(0x263));_0xd0e04e[_0x557ec4(0x1ce)]='day-col-header\x20'+(_0x1c1bc5?'today':''),_0xd0e04e['id']=_0x557ec4(0x2e7)+_0xff6c8d,_0xd0e04e[_0x557ec4(0x315)](_0x557ec4(0x2a7),_0xff6c8d),_0xd0e04e[_0x557ec4(0x1ff)]=_0x557ec4(0x1c7)+_0x2cbf5b[_0x4e3bd3]+_0x557ec4(0x326)+_0x23d34d[_0x557ec4(0x317)]()+_0x557ec4(0x206)+_0xff6c8d+_0x557ec4(0x2a2),_0xd0e04e[_0x557ec4(0x2e2)]=()=>openDayOptions(_0xff6c8d,_0x2cbf5b[_0x4e3bd3]+'\x20'+_0x23d34d[_0x557ec4(0x317)]()),_0x9409e4[_0x557ec4(0x22c)](_0xd0e04e);const _0x53e4a3=document[_0x557ec4(0x2c1)](_0x557ec4(0x263));_0x53e4a3[_0x557ec4(0x1ce)]=_0x557ec4(0x23e)+(_0x1c1bc5?_0x557ec4(0x2e9):''),_0x53e4a3['setAttribute']('data-date',_0xff6c8d),_0x53e4a3[_0x557ec4(0x315)](_0x557ec4(0x2e3),_0x4e3bd3),renderEventsForColumn(_0x53e4a3,_0xff6c8d,_0x4e3bd3),attachLongPressHandler(_0x53e4a3,_0x23d34d),_0x34a7c3[_0x557ec4(0x22c)](_0x53e4a3),updateDayStats(_0xff6c8d);}}function reRenderBlocks(){const _0x32e7cc=a2_0x5a7eaf;document['querySelectorAll'](_0x32e7cc(0x1f1))['forEach'](_0x4034b4=>{const _0xf2e7d=_0x32e7cc;_0x4034b4[_0xf2e7d(0x2b1)](_0xf2e7d(0x2c6))[_0xf2e7d(0x27d)](_0x63cf39=>_0x63cf39[_0xf2e7d(0x1e5)]());const _0x2c2ed8=_0x4034b4[_0xf2e7d(0x33e)](_0xf2e7d(0x2a7)),_0x11bec5=parseInt(_0x4034b4[_0xf2e7d(0x33e)](_0xf2e7d(0x2e3))),_0x10e5e7=Math[_0xf2e7d(0x2b5)](_0x4034b4[_0xf2e7d(0x24b)]);(availabilityPattern[_0x11bec5]||[])[_0xf2e7d(0x27d)](_0x58e402=>{const _0x52369f=_0xf2e7d,_0x1ccc84=document['createElement'](_0x52369f(0x263));_0x1ccc84[_0x52369f(0x1ce)]=_0x52369f(0x230);const _0x131b49=_0x58e402*GRID_H;_0x1ccc84[_0x52369f(0x20d)][_0x52369f(0x1f0)]=_0x131b49+'px',_0x1ccc84[_0x52369f(0x20d)][_0x52369f(0x249)]='-'+_0x10e5e7+'px\x20-'+_0x131b49+'px',_0x4034b4['appendChild'](_0x1ccc84);});if(specialRanges&&specialRanges[_0xf2e7d(0x233)]>0x0){const _0xc8503b=new Date(_0x2c2ed8+_0xf2e7d(0x305))[_0xf2e7d(0x2e5)](),_0x7f3db2=new Date(_0x2c2ed8+_0xf2e7d(0x22f))[_0xf2e7d(0x2e5)]();specialRanges[_0xf2e7d(0x27d)](_0x37c602=>{const _0x5f0059=_0xf2e7d,_0x3a5108=new Date(_0x37c602[_0x5f0059(0x250)])['getTime'](),_0x1583a0=new Date(_0x37c602[_0x5f0059(0x2aa)])[_0x5f0059(0x2e5)](),_0x236feb=Math['max'](_0xc8503b,_0x3a5108),_0xfb627d=Math[_0x5f0059(0x336)](_0x7f3db2,_0x1583a0);if(_0x236feb<_0xfb627d){if(_0x236feb<=_0xc8503b&&_0xfb627d>=_0x7f3db2-0xea60){if(!_0x4034b4[_0x5f0059(0x2f8)]('.day-off-overlay')){const _0x495263=document[_0x5f0059(0x2c1)](_0x5f0059(0x263));_0x495263['className']='day-off-overlay\x20stripe-bg',_0x495263[_0x5f0059(0x20d)][_0x5f0059(0x249)]='-'+_0x10e5e7+_0x5f0059(0x280),_0x4034b4['appendChild'](_0x495263);}}else{const _0x11cc9f=(_0x236feb-_0xc8503b)/0x36ee80*GRID_H,_0x34c9a1=(_0xfb627d-_0x236feb)/0x36ee80*GRID_H,_0x38ccf4=document[_0x5f0059(0x2c1)](_0x5f0059(0x263));_0x38ccf4[_0x5f0059(0x1ce)]='blocked-range-part\x20stripe-bg',_0x38ccf4[_0x5f0059(0x20d)][_0x5f0059(0x1f0)]=_0x11cc9f+'px',_0x38ccf4[_0x5f0059(0x20d)][_0x5f0059(0x2ef)]=_0x34c9a1+'px',_0x38ccf4['style']['backgroundPosition']='-'+_0x10e5e7+'px\x20-'+_0x11cc9f+'px',_0x4034b4[_0x5f0059(0x22c)](_0x38ccf4);}}});}if(dateExceptions[_0x2c2ed8]===_0xf2e7d(0x27c)){if(!_0x4034b4[_0xf2e7d(0x2f8)](_0xf2e7d(0x1e3))){const _0x5ace47=document['createElement'](_0xf2e7d(0x263));_0x5ace47['className']=_0xf2e7d(0x2cf),_0x5ace47[_0xf2e7d(0x20d)][_0xf2e7d(0x249)]='-'+_0x10e5e7+_0xf2e7d(0x280),_0x4034b4[_0xf2e7d(0x22c)](_0x5ace47);}}renderEventsForColumn(_0x4034b4,_0x2c2ed8,_0x11bec5),updateDayStats(_0x2c2ed8);});}function updateAllDayStats(){const _0x5c45e8=a2_0x5a7eaf;document['querySelectorAll']('.day-col-header')[_0x5c45e8(0x27d)](_0x27809a=>{const _0x1b3b8c=_0x5c45e8;updateDayStats(_0x27809a[_0x1b3b8c(0x33e)]('data-date'));});}function a2_0x5808(){const _0xd2327d=['overlay','</b>\x0a\x0a','floor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','localeCompare','isArray','querySelector','seriesId',':00','rgba(255,\x2069,\x2058,\x200.15)','rangeStartDate','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','uc_settings_cancel_window','closest','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','catch','strokeDashoffset','save_settings','seriesCountContainer','T00:00:00','add','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rangeStartTime','doEventsList','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','WebApp','toLocaleString','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','toFixed','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','addEventListener','.pib-text','max','patternEditor','setAttribute','.period-switch\x20.p-btn','getDate','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','actionSheet','sort','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','187159wzhXBL','#050505','#0a84ff','Local\x20Save\x20Error','long','var(--acc-green)','rangeEndDate','actionSheetOverlay','</div><div\x20class=\x22dch-num\x22>','btnStatusToggle','ready','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','toString','ranges','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','syncBatch','indexOf','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','touchend','keys','pe-cell\x20','saveLocally','min','inpStart','rgba(255,\x20159,\x2010,\x200.3)','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','gridColumns','numeric','range-item','setBackgroundColor','getAttribute','status','globalTimeLine',':00</span>','target','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','sessionSheet','getDay','getItem','anCustomDates','.day-column','startsWith','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','\x20–∏–∑\x20','</div><div\x20class=\x22ev-time\x22>','single','createDocumentFragment','getMinutes','completed','clientId','timeColumn','width','uc_settings_v9','note','map','none','value','<div\x20class=\x22dch-day\x22>','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','inpSeriesCount','Critical\x20TMA\x20Error:','stopPropagation','ru-RU','textContent','className','calendar','[API\x20','var(--acc-red)','background','zIndex','inpClient','borderColor','doLoadPercent','patternInfoBox','open','anPercent','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','pe-corner','calc(',':\x20Client\x20already\x20booked','statLoadCard','week','getMonth','scrollLeft','POST','.day-off-overlay','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','remove','client','create','settingCancelWindow','error','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','#fff','5TnKYxg','<span>','uc_clients_v9','timeLineBadge','top','#gridColumns\x20.day-column','data','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','batch_sync','(((.+)+)+)+$','sheetDateSubtitle','getBoundingClientRect','parse','doBusyHours','then','inpEnd','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','224433cLauDJ','innerHTML','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','%\x20+\x202px)','clientWidth','getHours','719388GDcejG','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','checked','warn','planned','search',']\x20Failed:','toUpperCase','style','send','sid','month','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','init_load','slice','[Notify]\x20Error:\x20Text\x20generation\x20failed','00:00','block','pe-col-header','dateStr','show','Telegram','[Settings]\x20Cancel\x20window\x20set\x20to:','splice','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','var(--acc-current)','success','expand','analyticsList','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','px\x20-','now','147Sfnoca','log','settings','rangesSheet',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','getText','active','appendChild','initDataUnsafe','push','T23:59:59','blocked-slot\x20stripe-bg',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','pattern','length','event-card','Save\x20settings\x20error:','total','constructor','inpDate','firstChild','rangeEndTime',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','</div>','time-label','day-column\x20','fetchFromServer','rgba(48,\x20209,\x2088,\x200.15)','asTitle','find','recurringOptionContainer','rgba(100,100,100,0.5)','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','sheetTitle','exceptions','.sheet','backgroundPosition','[Notify]\x20Error:\x20sessionData\x20is\x20null','offsetLeft','findIndex','.dch-stats-fill','analyticsSheet','headerMonth','start','...','–£–¥–∞–ª–µ–Ω–∏–µ','display','clientY','Error\x20setting\x20back\x20button:','custom','done','syncLoad','690dJKDwi','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','setItem','complete','toast-notification\x20','–£—Å–ø–µ—à–Ω–æ','anDonutCircle','setHours','initData','delete','div','charAt','apply','stringify','warning','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','[Notify]\x20Attempting\x20to\x20send:','scroll','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','.event-card','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','user','random','all','getElementById','btnDelete','asBtnOne','backgroundColor','%\x20-\x204px)','[Notify]\x20Server\x20Response:','day-col-header\x20','location','padStart','dayOptionsTitle','setMonth','off','forEach','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','100%','px\x200px','left','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','includes','\x20‚Äî\x20','borderLeftColor','save','offsetWidth','inpNote','btn-status-toggle','\x20days','mergeServerData','router.html','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text','client-stat-card','color','[Series]\x20Skipped\x20','getFullYear','10px\x2010px\x200\x200','57272yiaaQr','colIndex','DOMContentLoaded','.day-col-header','cancel','from','undefined','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','[Notify]\x20Network\x20Failed','toast','1361988CazZUE','stat-','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','href','<div\x20class=\x22ev-title\x22>','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','data-date','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','clients','end','substr','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','null','classList','[Notify]\x20Client\x20SWAP\x20detected','scrollTop','querySelectorAll',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','valid','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','round','BackButton','split','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','toLocaleDateString','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','inpRecurring','loadLocal','\x20-\x20','btn-primary\x20btn-secondary','74591sDrGHd','Error\x20setting\x20color:','createElement','vibrate','setDate','rgba(255,255,255,0.05)','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','uc_sessions_v9','anStart','mousedown','msg','666948chWwHC','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','update','text/plain;charset=UTF-8','day-off-overlay\x20stripe-bg','<b>‚úÖ\x20','insertBefore','cancel_window','disableVerticalSwipes','flex','guest','matrixViewport','2KtBbuH','23:59','toastMessage','option','touches','daysHeaderTrack','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','name','series','onclick','data-day-idx','doDateHeader','getTime','Batch\x20Sync\x20OK','header-','anEnd','today','filter','10px','peGrid','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','height','cancelled','as-button\x20danger\x20bold'];a2_0x5808=function(){return _0xd2327d;};return a2_0x5808();}function updateDayStats(_0x1223eb){const _0x57ebff=a2_0x5a7eaf,_0x665070=document[_0x57ebff(0x271)](_0x57ebff(0x2a1)+_0x1223eb);if(!_0x665070)return;const _0x56fd2f=new Date(_0x1223eb);let _0x4ae676=_0x56fd2f[_0x57ebff(0x345)]()-0x1;if(_0x4ae676===-0x1)_0x4ae676=0x6;if(dateExceptions[_0x1223eb]===_0x57ebff(0x27c)){_0x665070[_0x57ebff(0x20d)][_0x57ebff(0x253)]=_0x57ebff(0x1c5);return;}const _0x3f8aa0=availabilityPattern[_0x4ae676]||[],_0x2735af=0x18-_0x3f8aa0[_0x57ebff(0x233)],_0x57bfc0=_0x2735af*0x3c,_0x2fe76f=sessions[_0x57ebff(0x2ea)](_0x2b6e56=>_0x2b6e56[_0x57ebff(0x218)]===_0x1223eb&&_0x2b6e56[_0x57ebff(0x33f)]!==_0x57ebff(0x2f0));if(_0x2fe76f['length']===0x0){_0x665070['style'][_0x57ebff(0x253)]=_0x57ebff(0x1c5);return;}let _0x56378b=_0x2fe76f[_0x57ebff(0x1c4)](_0x340b5d=>{const _0x491bb2=_0x57ebff,[_0x52d19d,_0x53b339]=_0x340b5d[_0x491bb2(0x250)][_0x491bb2(0x2b7)](':')['map'](Number),[_0x3e5bc7,_0x3f8f93]=_0x340b5d['end'][_0x491bb2(0x2b7)](':')[_0x491bb2(0x1c4)](Number);return[_0x52d19d*0x3c+_0x53b339,_0x3e5bc7*0x3c+_0x3f8f93];});_0x56378b['sort']((_0x20906a,_0x3debb4)=>_0x20906a[0x0]-_0x3debb4[0x0]);let _0x7874ce=[];if(_0x56378b[_0x57ebff(0x233)]>0x0){let _0x5e6dd4=_0x56378b[0x0];for(let _0x217cd9=0x1;_0x217cd9<_0x56378b[_0x57ebff(0x233)];_0x217cd9++){_0x56378b[_0x217cd9][0x0]<_0x5e6dd4[0x1]?_0x5e6dd4[0x1]=Math['max'](_0x5e6dd4[0x1],_0x56378b[_0x217cd9][0x1]):(_0x7874ce[_0x57ebff(0x22e)](_0x5e6dd4),_0x5e6dd4=_0x56378b[_0x217cd9]);}_0x7874ce[_0x57ebff(0x22e)](_0x5e6dd4);}let _0x170a06=0x0;_0x7874ce[_0x57ebff(0x27d)](_0x2ac8db=>_0x170a06+=_0x2ac8db[0x1]-_0x2ac8db[0x0]),_0x665070['style'][_0x57ebff(0x253)]=_0x57ebff(0x2d4);const _0x379f0d=_0x665070[_0x57ebff(0x2f8)](_0x57ebff(0x24d));if(_0x57bfc0===0x0){_0x379f0d[_0x57ebff(0x20d)]['width']=_0x57ebff(0x27f),_0x379f0d[_0x57ebff(0x20d)][_0x57ebff(0x1d2)]=_0x57ebff(0x1d1);return;}const _0x424e8f=_0x170a06/_0x57bfc0*0x64;console[_0x57ebff(0x226)]('['+_0x1223eb+_0x57ebff(0x229)+_0x2735af+_0x57ebff(0x21d)+_0x170a06+_0x57ebff(0x2b4)+_0x424e8f[_0x57ebff(0x30e)](0x1)+'%'),_0x424e8f>0x64?(_0x379f0d[_0x57ebff(0x20d)][_0x57ebff(0x1c1)]=_0x57ebff(0x27f),_0x379f0d[_0x57ebff(0x20d)][_0x57ebff(0x1d2)]=_0x57ebff(0x1d1)):(_0x379f0d[_0x57ebff(0x20d)][_0x57ebff(0x1c1)]=_0x424e8f+'%',_0x379f0d[_0x57ebff(0x20d)][_0x57ebff(0x1d2)]=_0x57ebff(0x21e));}function renderEventsForColumn(_0x4b298a,_0xfcb616,_0x41030d){const _0x372879=a2_0x5a7eaf,_0x4e268f=sessions['filter'](_0x333c8d=>_0x333c8d['dateStr']===_0xfcb616),_0x1c436f=_0x4e268f[_0x372879(0x1c4)](_0x1e4ef3=>{const _0x377fb2=_0x372879,[_0x2f92ea,_0x4482bf]=_0x1e4ef3[_0x377fb2(0x250)][_0x377fb2(0x2b7)](':')['map'](Number),[_0x45ab1e,_0x51dd44]=_0x1e4ef3[_0x377fb2(0x2aa)]['split'](':')['map'](Number);return{'data':_0x1e4ef3,'start':_0x2f92ea*0x3c+_0x4482bf,'end':_0x45ab1e*0x3c+_0x51dd44,'colIndex':0x0};});_0x1c436f[_0x372879(0x31a)]((_0x28c63d,_0x463231)=>{const _0x3a4b82=_0x372879;if(_0x28c63d[_0x3a4b82(0x250)]!==_0x463231[_0x3a4b82(0x250)])return _0x28c63d[_0x3a4b82(0x250)]-_0x463231['start'];return _0x463231[_0x3a4b82(0x2aa)]-_0x463231[_0x3a4b82(0x250)]-(_0x28c63d['end']-_0x28c63d[_0x3a4b82(0x250)]);});const _0x9426aa=[];_0x1c436f[_0x372879(0x27d)](_0xbefaf8=>{const _0x4b9fca=_0x372879;let _0x49699a=![];for(let _0x169357=0x0;_0x169357<_0x9426aa['length'];_0x169357++){const _0x35608f=_0x9426aa[_0x169357],_0x42d8bd=_0x35608f[_0x35608f['length']-0x1];if(_0xbefaf8[_0x4b9fca(0x250)]>=_0x42d8bd[_0x4b9fca(0x2aa)]){_0x35608f[_0x4b9fca(0x22e)](_0xbefaf8),_0xbefaf8[_0x4b9fca(0x297)]=_0x169357,_0x49699a=!![];break;}}!_0x49699a&&(_0x9426aa[_0x4b9fca(0x22e)]([_0xbefaf8]),_0xbefaf8[_0x4b9fca(0x297)]=_0x9426aa[_0x4b9fca(0x233)]-0x1);}),_0x1c436f[_0x372879(0x27d)](_0x202949=>{const _0x50fcf9=_0x372879;let _0x596acc=0x0;_0x1c436f[_0x50fcf9(0x27d)](_0x25fc83=>{const _0x364cbb=_0x50fcf9;if(Math[_0x364cbb(0x313)](_0x202949['start'],_0x25fc83[_0x364cbb(0x250)])<Math[_0x364cbb(0x336)](_0x202949[_0x364cbb(0x2aa)],_0x25fc83[_0x364cbb(0x2aa)])){if(_0x25fc83[_0x364cbb(0x297)]>_0x596acc)_0x596acc=_0x25fc83['colIndex'];}});const _0x467a6f=_0x596acc+0x1,_0x33ef3b=0x64/_0x467a6f,_0x3a4ced=_0x202949[_0x50fcf9(0x297)]*_0x33ef3b,_0x112aea=createEventEl(_0x202949['data']);_0x112aea[_0x50fcf9(0x20d)]['width']=_0x50fcf9(0x1dc)+_0x33ef3b+_0x50fcf9(0x275),_0x112aea[_0x50fcf9(0x20d)][_0x50fcf9(0x281)]='calc('+_0x3a4ced+_0x50fcf9(0x201),_0x112aea[_0x50fcf9(0x20d)][_0x50fcf9(0x1d3)]=0xa+_0x202949[_0x50fcf9(0x297)],_0x33ef3b<0x55&&_0x112aea[_0x50fcf9(0x2ae)][_0x50fcf9(0x306)]('mini'),_0x4b298a[_0x50fcf9(0x22c)](_0x112aea);});}function createEventEl(_0x10c9e3){const _0x5324f2=a2_0x5a7eaf,[_0x1a8be2,_0x2fcba1]=_0x10c9e3[_0x5324f2(0x250)]['split'](':')[_0x5324f2(0x1c4)](Number),[_0x50826e,_0x2362fc]=_0x10c9e3[_0x5324f2(0x2aa)][_0x5324f2(0x2b7)](':')[_0x5324f2(0x1c4)](Number),_0x1b14f1=(_0x1a8be2*0x3c+_0x2fcba1)/0x3c*GRID_H,_0x38d252=(_0x50826e*0x3c+_0x2362fc-(_0x1a8be2*0x3c+_0x2fcba1))/0x3c*GRID_H,_0x4e0231=document[_0x5324f2(0x2c1)](_0x5324f2(0x263)),_0x166d3b=_0x10c9e3[_0x5324f2(0x33f)]==='completed'?'\x20status-completed':'';_0x4e0231[_0x5324f2(0x1ce)]=_0x5324f2(0x234)+_0x166d3b,_0x4e0231[_0x5324f2(0x20d)][_0x5324f2(0x1f0)]=_0x1b14f1+'px',_0x4e0231['style'][_0x5324f2(0x2ef)]=Math[_0x5324f2(0x313)](_0x38d252,0x14)+'px';const _0x3ea166=clients[_0x5324f2(0x242)](_0x114eac=>_0x10c9e3[_0x5324f2(0x1bf)]&&String(_0x114eac['id'])===String(_0x10c9e3[_0x5324f2(0x1bf)])||_0x114eac['name']===_0x10c9e3[_0x5324f2(0x1e6)]),_0x5577be=_0x3ea166?_0x3ea166[_0x5324f2(0x292)]:_0x5324f2(0x320);_0x4e0231[_0x5324f2(0x20d)][_0x5324f2(0x286)]=_0x5577be,_0x4e0231[_0x5324f2(0x20d)][_0x5324f2(0x274)]=hexToRgba(_0x5577be,0.85);let _0x352a0d=_0x5324f2(0x2a4)+_0x10c9e3['client']+_0x5324f2(0x34f)+_0x10c9e3['start']+'\x20-\x20'+_0x10c9e3[_0x5324f2(0x2aa)]+_0x5324f2(0x23c);return _0x10c9e3[_0x5324f2(0x2f9)]&&(_0x352a0d+='<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>'),_0x10c9e3[_0x5324f2(0x33f)]===_0x5324f2(0x1be)&&(_0x352a0d+=_0x5324f2(0x34c)),_0x4e0231[_0x5324f2(0x1ff)]=_0x352a0d,_0x4e0231[_0x5324f2(0x2e2)]=_0x15cfb8=>{const _0x5640e7=_0x5324f2;_0x15cfb8[_0x5640e7(0x1cb)](),openEdit(_0x10c9e3);},_0x4e0231;}function attachLongPressHandler(_0x2cbb41,_0x2e2452){const _0x513859=a2_0x5a7eaf;let _0x49cdeb=0x0,_0x50adec=null;const _0x13f91c=_0x330d65=>{const _0x4aec23=a2_0x18e9;if(_0x330d65[_0x4aec23(0x342)][_0x4aec23(0x2ff)](_0x4aec23(0x26c)))return;isScrolling=![],_0x49cdeb=_0x330d65[_0x4aec23(0x2db)]?_0x330d65[_0x4aec23(0x2db)][0x0][_0x4aec23(0x254)]:_0x330d65[_0x4aec23(0x254)],_0x50adec=setTimeout(()=>{const _0x17f894=_0x4aec23;if(!isScrolling){navigator[_0x17f894(0x2c2)]?.(0x32);const _0x4dbadb=_0x2cbb41[_0x17f894(0x1f7)](),_0x56bb12=Math['floor']((_0x49cdeb-_0x4dbadb[_0x17f894(0x1f0)])/GRID_H);_0x2e2452[_0x17f894(0x260)](_0x56bb12,0x0),openAddSession(_0x2e2452);}},0x1f4);},_0x5c7213=()=>{isScrolling=!![],clearTimeout(_0x50adec);},_0x1ccf1c=()=>{clearTimeout(_0x50adec);};_0x2cbb41[_0x513859(0x311)]('touchstart',_0x13f91c,{'passive':!![]}),_0x2cbb41['addEventListener']('touchmove',_0x5c7213,{'passive':!![]}),_0x2cbb41['addEventListener'](_0x513859(0x332),_0x1ccf1c),_0x2cbb41[_0x513859(0x311)](_0x513859(0x2c9),_0x13f91c),_0x2cbb41[_0x513859(0x311)]('mousemove',_0x5c7213),_0x2cbb41[_0x513859(0x311)]('mouseup',_0x1ccf1c);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x58519a=a2_0x5a7eaf,_0x3e7d78=document[_0x58519a(0x271)](_0x58519a(0x2d6)),_0x1e7059=_0x3e7d78['scrollLeft'],_0x2fefda=_0x3e7d78['scrollWidth'],_0x5cc12=_0x3e7d78[_0x58519a(0x202)];if(_0x2fefda-(_0x1e7059+_0x5cc12)<0x12c){const _0x2a4324=endOffset;endOffset+=0xe,renderDayRange(_0x2a4324+0x1,endOffset),reRenderBlocks();}if(_0x1e7059<0x12c){const _0x2f172f=startOffset;startOffset-=0xe,prependDays(startOffset,_0x2f172f-0x1),_0x3e7d78[_0x58519a(0x1e1)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x139c60,_0x29676b){const _0x44d541=a2_0x5a7eaf,_0x2071c1=document['getElementById'](_0x44d541(0x2dc)),_0x33dcaa=document[_0x44d541(0x271)](_0x44d541(0x33a)),_0x2c6f92=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1d2487=new Date();_0x1d2487[_0x44d541(0x260)](0x0,0x0,0x0,0x0);const _0x215146=getLocalDateStr(new Date()),_0x476f13=document['createDocumentFragment'](),_0x1f6e33=document[_0x44d541(0x1bc)]();for(let _0x1abc97=_0x139c60;_0x1abc97<=_0x29676b;_0x1abc97++){const _0x552e5c=new Date(_0x1d2487);_0x552e5c[_0x44d541(0x2c3)](_0x552e5c[_0x44d541(0x317)]()+_0x1abc97);const _0xfbe2ab=getLocalDateStr(_0x552e5c);let _0x2c8614=_0x552e5c[_0x44d541(0x345)]()-0x1;if(_0x2c8614===-0x1)_0x2c8614=0x6;const _0x1e32b8=_0xfbe2ab===_0x215146,_0x4ef7b1=document[_0x44d541(0x2c1)]('div');_0x4ef7b1[_0x44d541(0x1ce)]=_0x44d541(0x277)+(_0x1e32b8?'today':''),_0x4ef7b1['id']=_0x44d541(0x2e7)+_0xfbe2ab,_0x4ef7b1['setAttribute'](_0x44d541(0x2a7),_0xfbe2ab),_0x4ef7b1[_0x44d541(0x1ff)]=_0x44d541(0x1c7)+_0x2c6f92[_0x2c8614]+_0x44d541(0x326)+_0x552e5c[_0x44d541(0x317)]()+_0x44d541(0x206)+_0xfbe2ab+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x4ef7b1[_0x44d541(0x2e2)]=()=>openDayOptions(_0xfbe2ab,_0x2c6f92[_0x2c8614]+'\x20'+_0x552e5c[_0x44d541(0x317)]()),_0x476f13['appendChild'](_0x4ef7b1);const _0x342c95=document[_0x44d541(0x2c1)](_0x44d541(0x263));_0x342c95[_0x44d541(0x1ce)]=_0x44d541(0x23e)+(_0x1e32b8?_0x44d541(0x2e9):''),_0x342c95['setAttribute'](_0x44d541(0x2a7),_0xfbe2ab),_0x342c95[_0x44d541(0x315)](_0x44d541(0x2e3),_0x2c8614),renderEventsForColumn(_0x342c95,_0xfbe2ab,_0x2c8614),attachLongPressHandler(_0x342c95,_0x552e5c),_0x1f6e33[_0x44d541(0x22c)](_0x342c95),updateDayStats(_0xfbe2ab);}_0x2071c1[_0x44d541(0x2d1)](_0x476f13,_0x2071c1[_0x44d541(0x239)]),_0x33dcaa['insertBefore'](_0x1f6e33,_0x33dcaa[_0x44d541(0x2f8)](_0x44d541(0x348)));}function validateAppointment(_0x4909c9,_0x26dca2,_0x103391,_0xfbafa9,_0x43f269){const _0x4248ff=a2_0x5a7eaf,[_0x13d2c9,_0x4e403b]=_0x26dca2[_0x4248ff(0x2b7)](':')[_0x4248ff(0x1c4)](Number),[_0x437233,_0x212164]=_0x103391[_0x4248ff(0x2b7)](':')['map'](Number),_0xcca665=_0x13d2c9*0x3c+_0x4e403b,_0x57a890=_0x437233*0x3c+_0x212164,_0x9a1395=String(_0x43f269);let _0x10a41f=![],_0x2ece52='';for(let _0x20cecf of sessions){if(_0x20cecf[_0x4248ff(0x218)]!==_0x4909c9)continue;if(_0x20cecf['status']==='cancelled')continue;if(_0xfbafa9&&String(_0x20cecf['id'])===String(_0xfbafa9))continue;const [_0x3a48ae,_0x212570]=_0x20cecf['start'][_0x4248ff(0x2b7)](':')[_0x4248ff(0x1c4)](Number),[_0x3283bd,_0x3692c4]=_0x20cecf['end'][_0x4248ff(0x2b7)](':')[_0x4248ff(0x1c4)](Number),_0x811f1b=_0x3a48ae*0x3c+_0x212570,_0x43bb3e=_0x3283bd*0x3c+_0x3692c4;if(Math[_0x4248ff(0x313)](_0xcca665,_0x811f1b)<Math[_0x4248ff(0x336)](_0x57a890,_0x43bb3e)){if(_0x20cecf['clientId']&&String(_0x20cecf['clientId'])===_0x9a1395)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0x20cecf['client']+_0x4248ff(0x23b)};_0x10a41f=!![],_0x2ece52=_0x20cecf[_0x4248ff(0x1e6)];}}if(_0x10a41f)return{'valid':!![],'warning':_0x4248ff(0x31c)+_0x2ece52};return{'valid':!![]};}function updateDateDisplay(){const _0x22b029=a2_0x5a7eaf,_0x1d1cee=document[_0x22b029(0x271)](_0x22b029(0x238))[_0x22b029(0x1c6)],_0x3964ba=document[_0x22b029(0x271)](_0x22b029(0x1f6));if(!_0x1d1cee){_0x3964ba['textContent']='';return;}const [_0x361591,_0x5dcdb6,_0x57311b]=_0x1d1cee[_0x22b029(0x2b7)]('-')[_0x22b029(0x1c4)](Number),_0x2053a3=new Date(_0x361591,_0x5dcdb6-0x1,_0x57311b),_0x22c3b8={'weekday':_0x22b029(0x322),'day':_0x22b029(0x33b),'month':'long','year':_0x22b029(0x33b)};let _0xd96f07=_0x2053a3[_0x22b029(0x2b9)]('ru-RU',_0x22c3b8);_0xd96f07=_0xd96f07[_0x22b029(0x264)](0x0)[_0x22b029(0x20c)]()+_0xd96f07[_0x22b029(0x213)](0x1),_0x3964ba[_0x22b029(0x1cd)]=_0xd96f07;}function autoSetEndTime(){const _0x33529e=a2_0x5a7eaf,_0x18db28=document[_0x33529e(0x271)](_0x33529e(0x337))[_0x33529e(0x1c6)];if(!_0x18db28)return;const [_0x4efe87,_0x3e8819]=_0x18db28[_0x33529e(0x2b7)](':')[_0x33529e(0x1c4)](Number);let _0x24472e=_0x4efe87+0x1;if(_0x24472e>0x17)_0x24472e=0x0;const _0x5287cb=String(_0x24472e)[_0x33529e(0x279)](0x2,'0')+':'+String(_0x3e8819)['padStart'](0x2,'0');document['getElementById'](_0x33529e(0x1fb))[_0x33529e(0x1c6)]=_0x5287cb;}function populateClientSelect(){const _0x21064d=a2_0x5a7eaf,_0xb15270=document['getElementById'](_0x21064d(0x1d4));_0xb15270[_0x21064d(0x1ff)]='';if(clients['length']===0x0){const _0x42ed9f=document[_0x21064d(0x2c1)](_0x21064d(0x2da));_0x42ed9f[_0x21064d(0x290)]='–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤',_0xb15270[_0x21064d(0x22c)](_0x42ed9f);return;}clients[_0x21064d(0x27d)](_0x1a045e=>{const _0x278d1b=_0x21064d,_0x57c461=document[_0x278d1b(0x2c1)]('option');_0x57c461[_0x278d1b(0x1c6)]=_0x1a045e[_0x278d1b(0x2e0)],_0x57c461['textContent']=_0x1a045e['name'],_0xb15270[_0x278d1b(0x22c)](_0x57c461);});}function openActionSheet(_0x4c36da){const _0x4ae9a7=a2_0x5a7eaf,_0x524135=document[_0x4ae9a7(0x271)]('actionSheet'),_0x3faf32=document['getElementById'](_0x4ae9a7(0x325)),_0x12f177=document[_0x4ae9a7(0x271)](_0x4ae9a7(0x241)),_0x50ed89=document['getElementById'](_0x4ae9a7(0x273)),_0x57d2a8=document[_0x4ae9a7(0x271)]('asBtnSeries');_0x3faf32[_0x4ae9a7(0x2ae)][_0x4ae9a7(0x306)](_0x4ae9a7(0x22b)),_0x524135[_0x4ae9a7(0x2ae)][_0x4ae9a7(0x306)](_0x4ae9a7(0x1d8));if(_0x4c36da===_0x4ae9a7(0x287))_0x12f177[_0x4ae9a7(0x1cd)]=_0x4ae9a7(0x1fc),_0x50ed89[_0x4ae9a7(0x1cd)]='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x50ed89[_0x4ae9a7(0x2e2)]=()=>{const _0x871a6a=_0x4ae9a7;closeActionSheet(),updateSeriesBatch(_0x871a6a(0x350),tempSessionData);},_0x57d2a8[_0x4ae9a7(0x1cd)]=_0x4ae9a7(0x330),_0x57d2a8[_0x4ae9a7(0x2e2)]=()=>{const _0xc4a633=_0x4ae9a7;closeActionSheet(),updateSeriesBatch(_0xc4a633(0x2e1),tempSessionData);};else _0x4c36da===_0x4ae9a7(0x262)&&(_0x12f177[_0x4ae9a7(0x1cd)]=_0x4ae9a7(0x252),_0x50ed89[_0x4ae9a7(0x1cd)]=_0x4ae9a7(0x331),_0x50ed89[_0x4ae9a7(0x1ce)]='as-button\x20danger',_0x50ed89[_0x4ae9a7(0x2e2)]=()=>{const _0x49a104=_0x4ae9a7;closeActionSheet(),commitDelete(_0x49a104(0x350),sessions[_0x49a104(0x242)](_0x27dac9=>_0x27dac9['id']===editingId));},_0x57d2a8[_0x4ae9a7(0x1cd)]=_0x4ae9a7(0x330),_0x57d2a8[_0x4ae9a7(0x1ce)]=_0x4ae9a7(0x2f1),_0x57d2a8[_0x4ae9a7(0x2e2)]=()=>{const _0x15e5cb=_0x4ae9a7;closeActionSheet(),commitDelete(_0x15e5cb(0x2e1),sessions[_0x15e5cb(0x242)](_0x1e234d=>_0x1e234d['id']===editingId));});}function closeActionSheet(){const _0x3a1d83=a2_0x5a7eaf;document[_0x3a1d83(0x271)](_0x3a1d83(0x319))[_0x3a1d83(0x2ae)]['remove']('open'),document[_0x3a1d83(0x271)](_0x3a1d83(0x325))[_0x3a1d83(0x2ae)]['remove']('active');}function openSettings(){openSheet('settingsSheet');}function saveCoachSettings(){const _0x533535=a2_0x5a7eaf,_0x27ce8c=document[_0x533535(0x271)]('settingCancelWindow')[_0x533535(0x1c6)];localStorage['setItem'](_0x533535(0x2fe),_0x27ce8c),console[_0x533535(0x226)](_0x533535(0x21b),_0x27ce8c),DataManager[_0x533535(0x23f)](_0x533535(0x303),{'settings':{'cancel_window':_0x27ce8c}})[_0x533535(0x301)](_0x476978=>{const _0x354aa7=_0x533535;console[_0x354aa7(0x1e9)](_0x354aa7(0x235),_0x476978),showToast(_0x354aa7(0x245),![]);});}function loadCoachSettings(){const _0x2e2662=a2_0x5a7eaf,_0x139f72=localStorage[_0x2e2662(0x346)](_0x2e2662(0x2fe));_0x139f72&&(document[_0x2e2662(0x271)](_0x2e2662(0x1e8))[_0x2e2662(0x1c6)]=_0x139f72);}function openRangesSheet(){const _0x440617=a2_0x5a7eaf;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x440617(0x228));}function addRange(){const _0x4649e2=a2_0x5a7eaf,_0x49e99a=document[_0x4649e2(0x271)]('rangeStartDate')[_0x4649e2(0x1c6)],_0x540621=document[_0x4649e2(0x271)]('rangeStartTime')[_0x4649e2(0x1c6)],_0x305aeb=document[_0x4649e2(0x271)](_0x4649e2(0x324))['value'],_0x2760fb=document[_0x4649e2(0x271)](_0x4649e2(0x23a))[_0x4649e2(0x1c6)];if(!_0x49e99a||!_0x540621||!_0x305aeb||!_0x2760fb)return alert(_0x4649e2(0x34d));const _0x16052e=_0x49e99a+'T'+_0x540621,_0x32175e=_0x305aeb+'T'+_0x2760fb;if(_0x16052e>=_0x32175e)return alert(_0x4649e2(0x30d));specialRanges[_0x4649e2(0x22e)]({'start':_0x16052e,'end':_0x32175e}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x4649e2(0x335)](),DataManager[_0x4649e2(0x23f)](_0x4649e2(0x303),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x17ed47){const _0x2a4ee0=a2_0x5a7eaf;specialRanges['splice'](_0x17ed47,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x2a4ee0(0x335)](),DataManager['fetchFromServer']('save_settings',{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x909daf=a2_0x5a7eaf;document[_0x909daf(0x271)](_0x909daf(0x2fc))['value']='',document[_0x909daf(0x271)](_0x909daf(0x308))[_0x909daf(0x1c6)]=_0x909daf(0x215),document['getElementById'](_0x909daf(0x324))['value']='',document[_0x909daf(0x271)](_0x909daf(0x23a))[_0x909daf(0x1c6)]=_0x909daf(0x2d8);}function renderRangesList(){const _0x414143=a2_0x5a7eaf,_0x5ba2d9=document[_0x414143(0x271)]('rangesList');_0x5ba2d9[_0x414143(0x1ff)]='';if(!specialRanges[_0x414143(0x233)]){_0x5ba2d9['innerHTML']='<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>';return;}specialRanges[_0x414143(0x27d)]((_0x536f1f,_0x538cd7)=>{const _0x2ce2ff=_0x414143,_0x553828=document['createElement']('div');_0x553828[_0x2ce2ff(0x1ce)]=_0x2ce2ff(0x33c);const _0x739b87=_0x4e0850=>{const _0x15d713=_0x2ce2ff,_0x9586f0=new Date(_0x4e0850);return _0x9586f0['getDate']()+'.'+String(_0x9586f0[_0x15d713(0x1e0)]()+0x1)[_0x15d713(0x279)](0x2,'0')+'\x20'+String(_0x9586f0[_0x15d713(0x203)]())[_0x15d713(0x279)](0x2,'0')+':'+String(_0x9586f0[_0x15d713(0x1bd)]())[_0x15d713(0x279)](0x2,'0');};_0x553828[_0x2ce2ff(0x1ff)]=_0x2ce2ff(0x31b)+_0x739b87(_0x536f1f[_0x2ce2ff(0x250)])+_0x2ce2ff(0x285)+_0x739b87(_0x536f1f['end'])+_0x2ce2ff(0x310)+_0x538cd7+_0x2ce2ff(0x2b2),_0x5ba2d9[_0x2ce2ff(0x22c)](_0x553828);});}function scrollToToday(){const _0x2da207=a2_0x5a7eaf,_0x5abd9b=getLocalDateStr(new Date()),_0xa38562=document['getElementById'](_0x2da207(0x2e7)+_0x5abd9b),_0x1f7c64=document[_0x2da207(0x271)]('matrixViewport');if(_0xa38562&&_0x1f7c64){const _0x655295=_0x1f7c64[_0x2da207(0x202)],_0x2daea9=_0xa38562[_0x2da207(0x24b)],_0x2b3063=_0xa38562[_0x2da207(0x288)];_0x1f7c64[_0x2da207(0x1e1)]=_0x2daea9-_0x655295/0x2+_0x2b3063/0x2,_0x1f7c64[_0x2da207(0x2b0)]=0x9*GRID_H;}}function onScroll(){const _0x3f7109=a2_0x5a7eaf,_0xecd0ec=document[_0x3f7109(0x271)](_0x3f7109(0x2d6)),_0x4eec78=document['querySelectorAll'](_0x3f7109(0x299));for(let _0x53b3fe of _0x4eec78)if(_0x53b3fe[_0x3f7109(0x24b)]>=_0xecd0ec[_0x3f7109(0x1e1)]){const _0x890e55=new Date(_0x53b3fe[_0x3f7109(0x33e)](_0x3f7109(0x2a7)));document[_0x3f7109(0x271)](_0x3f7109(0x24f))[_0x3f7109(0x1cd)]=_0x890e55[_0x3f7109(0x30c)]('ru',{'month':'long'})['toUpperCase']()+'\x20'+_0x890e55[_0x3f7109(0x294)]();break;}}function showToast(_0x27e58f,_0x1cec36=![]){const _0x2e935a=a2_0x5a7eaf,_0x20c70c=document[_0x2e935a(0x271)](_0x2e935a(0x29f));_0x20c70c['className']=_0x2e935a(0x25d)+(_0x1cec36?_0x2e935a(0x21f):''),document[_0x2e935a(0x271)]('toastTitle')['textContent']=_0x1cec36?_0x2e935a(0x25e):'–ò–Ω—Ñ–æ',document[_0x2e935a(0x271)](_0x2e935a(0x2d9))[_0x2e935a(0x1cd)]=_0x27e58f,_0x20c70c[_0x2e935a(0x2ae)][_0x2e935a(0x306)](_0x2e935a(0x219)),setTimeout(()=>{const _0x4b35c4=_0x2e935a;_0x20c70c[_0x4b35c4(0x2ae)]['remove'](_0x4b35c4(0x219));},0xbb8);}function openDayOptions(_0x412004,_0x5c74a9){const _0x5e3fdb=a2_0x5a7eaf;selectedDayForOptions=_0x412004,document[_0x5e3fdb(0x271)](_0x5e3fdb(0x27a))['textContent']=_0x5c74a9,openSheet('dayOptionsSheet');}function toggleDayOff(){const _0x1f49db=a2_0x5a7eaf;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x1f49db(0x27c),reRenderBlocks(),closeAllSheets(),DataManager[_0x1f49db(0x335)](),DataManager[_0x1f49db(0x23f)]('save_settings',{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x431218=a2_0x5a7eaf;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x431218(0x335)](),DataManager[_0x431218(0x23f)]('save_settings',{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x2ec851){const _0x451037=a2_0x5a7eaf;document[_0x451037(0x271)](_0x451037(0x2f2))[_0x451037(0x2ae)][_0x451037(0x306)](_0x451037(0x22b)),document[_0x451037(0x271)](_0x2ec851)[_0x451037(0x2ae)][_0x451037(0x306)]('open');}function closeAllSheets(){const _0x1810cc=a2_0x5a7eaf;document[_0x1810cc(0x271)](_0x1810cc(0x2f2))['classList'][_0x1810cc(0x1e5)]('active'),document[_0x1810cc(0x2b1)](_0x1810cc(0x248))[_0x1810cc(0x27d)](_0xd2723e=>_0xd2723e[_0x1810cc(0x2ae)][_0x1810cc(0x1e5)](_0x1810cc(0x1d8)));}function openPatternEditor(){const _0x50c6d4=a2_0x5a7eaf;closeAllSheets(),document[_0x50c6d4(0x271)](_0x50c6d4(0x314))[_0x50c6d4(0x2ae)]['add'](_0x50c6d4(0x1d8)),renderPatternEditor();}function a2_0x18e9(_0xf8a51f,_0x5d1d92){_0xf8a51f=_0xf8a51f-0x1bc;const _0x286be3=a2_0x5808();let _0x29d09a=_0x286be3[_0xf8a51f];return _0x29d09a;}function closePatternEditor(){const _0x26d934=a2_0x5a7eaf;document['getElementById']('patternEditor')[_0x26d934(0x2ae)]['remove'](_0x26d934(0x1d8));}function savePattern(){const _0x4d0f1e=a2_0x5a7eaf;document['getElementById']('patternEditor')[_0x4d0f1e(0x2ae)][_0x4d0f1e(0x1e5)]('open'),reRenderBlocks(),DataManager[_0x4d0f1e(0x335)](),DataManager[_0x4d0f1e(0x23f)](_0x4d0f1e(0x303),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x324ff3=a2_0x5a7eaf,_0x1123cf=document[_0x324ff3(0x271)](_0x324ff3(0x2ec));_0x1123cf[_0x324ff3(0x1ff)]='';const _0x17cc0f=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x4dfd19=document[_0x324ff3(0x2c1)](_0x324ff3(0x263));_0x4dfd19[_0x324ff3(0x1ce)]=_0x324ff3(0x1db),_0x1123cf['appendChild'](_0x4dfd19),_0x17cc0f[_0x324ff3(0x27d)]((_0x3d0751,_0x5ac575)=>{const _0x3b2d0c=_0x324ff3,_0x39998f=document['createElement'](_0x3b2d0c(0x263));_0x39998f[_0x3b2d0c(0x1ce)]=_0x3b2d0c(0x217),_0x39998f['innerHTML']=_0x3d0751+_0x3b2d0c(0x27e),_0x39998f[_0x3b2d0c(0x2e2)]=()=>toggleColPattern(_0x5ac575),_0x1123cf['appendChild'](_0x39998f);});for(let _0x3fa0db=0x0;_0x3fa0db<0x18;_0x3fa0db++){const _0x4b5d96=document[_0x324ff3(0x2c1)](_0x324ff3(0x263));_0x4b5d96['className']='pe-time-label',_0x4b5d96[_0x324ff3(0x1ff)]=_0x324ff3(0x211)+String(_0x3fa0db)[_0x324ff3(0x279)](0x2,'0')+_0x324ff3(0x2fa),_0x4b5d96['onclick']=()=>toggleRowPattern(_0x3fa0db),_0x1123cf[_0x324ff3(0x22c)](_0x4b5d96);for(let _0x1db370=0x0;_0x1db370<0x7;_0x1db370++){const _0x2efe15=document['createElement'](_0x324ff3(0x263)),_0x1e2331=(availabilityPattern[_0x1db370]||[])[_0x324ff3(0x284)](_0x3fa0db),_0x4b2922=!_0x1e2331;_0x2efe15[_0x324ff3(0x1ce)]=_0x324ff3(0x334)+(_0x4b2922?_0x324ff3(0x22b):''),_0x2efe15['onclick']=()=>toggleSinglePattern(_0x1db370,_0x3fa0db),_0x1123cf[_0x324ff3(0x22c)](_0x2efe15);}}}function toggleSinglePattern(_0x48127c,_0x334968){const _0x35ebb0=a2_0x5a7eaf;if(!availabilityPattern[_0x48127c])availabilityPattern[_0x48127c]=[];const _0x2aac30=availabilityPattern[_0x48127c],_0x116b22=_0x2aac30[_0x35ebb0(0x32f)](_0x334968);_0x116b22===-0x1?_0x2aac30['push'](_0x334968):_0x2aac30[_0x35ebb0(0x21c)](_0x116b22,0x1),renderPatternEditor();}function toggleColPattern(_0x2abad8){const _0x5f08e5=a2_0x5a7eaf;if(!availabilityPattern[_0x2abad8])availabilityPattern[_0x2abad8]=[];const _0x48aec5=availabilityPattern[_0x2abad8];_0x48aec5['length']===0x0?availabilityPattern[_0x2abad8]=Array[_0x5f08e5(0x29b)]({'length':0x18},(_0x1d5eb0,_0x1fa224)=>_0x1fa224):availabilityPattern[_0x2abad8]=[],renderPatternEditor();}function toggleRowPattern(_0x470d5f){const _0x544e0a=a2_0x5a7eaf;let _0x33bcb6=!![];for(let _0x400586=0x0;_0x400586<0x7;_0x400586++){if((availabilityPattern[_0x400586]||[])['includes'](_0x470d5f)){_0x33bcb6=![];break;}}for(let _0x26ae7d=0x0;_0x26ae7d<0x7;_0x26ae7d++){if(!availabilityPattern[_0x26ae7d])availabilityPattern[_0x26ae7d]=[];const _0x4fba7d=availabilityPattern[_0x26ae7d][_0x544e0a(0x32f)](_0x470d5f);if(_0x33bcb6){if(_0x4fba7d===-0x1)availabilityPattern[_0x26ae7d][_0x544e0a(0x22e)](_0x470d5f);}else{if(_0x4fba7d!==-0x1)availabilityPattern[_0x26ae7d][_0x544e0a(0x21c)](_0x4fba7d,0x1);}}renderPatternEditor();}function renderPCol(_0x2e0f8f,_0x136fef){const _0x38e4d9=a2_0x5a7eaf;_0x2e0f8f[_0x38e4d9(0x1ff)]='';const _0x3d43c6=Math['round'](_0x2e0f8f[_0x38e4d9(0x24b)]);(availabilityPattern[_0x136fef]||[])['forEach'](_0x1e8c31=>{const _0x5dc471=_0x38e4d9,_0x4d6d66=document[_0x5dc471(0x2c1)](_0x5dc471(0x263));_0x4d6d66[_0x5dc471(0x1ce)]=_0x5dc471(0x230);const _0x329cef=_0x1e8c31*GRID_H;_0x4d6d66[_0x5dc471(0x20d)][_0x5dc471(0x1f0)]=_0x329cef+'px',_0x4d6d66[_0x5dc471(0x20d)]['backgroundPosition']='-'+_0x3d43c6+_0x5dc471(0x223)+_0x329cef+'px',_0x4d6d66[_0x5dc471(0x2e2)]=_0x233348=>{_0x233348['stopPropagation'](),toggleSinglePattern(_0x136fef,_0x1e8c31);},_0x2e0f8f[_0x5dc471(0x22c)](_0x4d6d66);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x3f8173=a2_0x5a7eaf,_0x155dc9=new Date(),_0x500627=document[_0x3f8173(0x271)](_0x3f8173(0x340)),_0x5e4182=document[_0x3f8173(0x271)](_0x3f8173(0x1ef)),_0x22a590=(_0x155dc9[_0x3f8173(0x203)]()*0x3c+_0x155dc9[_0x3f8173(0x1bd)]())/0x3c*GRID_H;_0x500627['style'][_0x3f8173(0x1f0)]=_0x22a590+'px',_0x500627[_0x3f8173(0x20d)]['display']=_0x3f8173(0x216),_0x5e4182[_0x3f8173(0x1cd)]=String(_0x155dc9['getHours']())[_0x3f8173(0x279)](0x2,'0')+':'+String(_0x155dc9[_0x3f8173(0x1bd)]())[_0x3f8173(0x279)](0x2,'0'),_0x5e4182[_0x3f8173(0x20d)][_0x3f8173(0x253)]=_0x3f8173(0x216),_0x5e4182['style']['top']=_0x22a590+'px';}document[a2_0x5a7eaf(0x311)](a2_0x5a7eaf(0x298),init);function openDayOptions(_0x542915){const _0x2859a6=a2_0x5a7eaf;selectedDayForOptions=_0x542915;const _0x53c343=new Date(_0x542915),_0x4589d1={'weekday':_0x2859a6(0x322),'day':'numeric','month':_0x2859a6(0x322),'year':_0x2859a6(0x33b)},_0x519917=_0x53c343[_0x2859a6(0x2b9)](_0x2859a6(0x1cc),_0x4589d1);document[_0x2859a6(0x271)](_0x2859a6(0x2e4))['textContent']=_0x519917[_0x2859a6(0x264)](0x0)[_0x2859a6(0x20c)]()+_0x519917['slice'](0x1);let _0xf222a6=_0x53c343[_0x2859a6(0x345)]()-0x1;if(_0xf222a6===-0x1)_0xf222a6=0x6;const _0x134e8f=availabilityPattern[_0xf222a6]||[],_0x3832b5=0x18-_0x134e8f[_0x2859a6(0x233)],_0x443323=_0x3832b5*0x3c,_0x8cae20=sessions[_0x2859a6(0x2ea)](_0xfc2361=>_0xfc2361[_0x2859a6(0x218)]===_0x542915&&_0xfc2361[_0x2859a6(0x33f)]!==_0x2859a6(0x2f0));let _0x11c34f=_0x8cae20[_0x2859a6(0x1c4)](_0x27aa5f=>{const _0x1038c8=_0x2859a6,[_0x3da907,_0x3bcbe7]=_0x27aa5f[_0x1038c8(0x250)][_0x1038c8(0x2b7)](':')[_0x1038c8(0x1c4)](Number),[_0x486b0e,_0x2368c7]=_0x27aa5f[_0x1038c8(0x2aa)]['split'](':')[_0x1038c8(0x1c4)](Number);return[_0x3da907*0x3c+_0x3bcbe7,_0x486b0e*0x3c+_0x2368c7];});_0x11c34f[_0x2859a6(0x31a)]((_0xef10eb,_0x2bc243)=>_0xef10eb[0x0]-_0x2bc243[0x0]);let _0x5549a7=[];if(_0x11c34f[_0x2859a6(0x233)]>0x0){let _0x53958f=_0x11c34f[0x0];for(let _0x2124f5=0x1;_0x2124f5<_0x11c34f[_0x2859a6(0x233)];_0x2124f5++){_0x11c34f[_0x2124f5][0x0]<_0x53958f[0x1]?_0x53958f[0x1]=Math[_0x2859a6(0x313)](_0x53958f[0x1],_0x11c34f[_0x2124f5][0x1]):(_0x5549a7[_0x2859a6(0x22e)](_0x53958f),_0x53958f=_0x11c34f[_0x2124f5]);}_0x5549a7['push'](_0x53958f);}let _0x1ed673=0x0;_0x5549a7[_0x2859a6(0x27d)](_0x4510ff=>_0x1ed673+=_0x4510ff[0x1]-_0x4510ff[0x0]),document[_0x2859a6(0x271)]('doWorkHours')[_0x2859a6(0x1cd)]=formatMinsToHrs(_0x443323),document[_0x2859a6(0x271)](_0x2859a6(0x1f9))[_0x2859a6(0x1cd)]=formatMinsToHrs(_0x1ed673);const _0x4f627a=_0x443323>0x0?Math['round'](_0x1ed673/_0x443323*0x64):0x0,_0xff20a4=document[_0x2859a6(0x271)](_0x2859a6(0x1d6));_0xff20a4['textContent']=_0x4f627a+'%';const _0x3aa8db=document[_0x2859a6(0x271)](_0x2859a6(0x1de));if(_0x4f627a>0x64)_0xff20a4[_0x2859a6(0x20d)]['color']=_0x2859a6(0x1d1),_0x3aa8db['style'][_0x2859a6(0x1d5)]='rgba(255,\x2069,\x2058,\x200.3)';else _0x4f627a>0x50?(_0xff20a4[_0x2859a6(0x20d)][_0x2859a6(0x292)]='var(--acc-orange)',_0x3aa8db[_0x2859a6(0x20d)]['borderColor']=_0x2859a6(0x338)):(_0xff20a4['style']['color']=_0x2859a6(0x323),_0x3aa8db[_0x2859a6(0x20d)][_0x2859a6(0x1d5)]=_0x2859a6(0x2c4));const _0x33e0fd=document[_0x2859a6(0x271)](_0x2859a6(0x309));_0x33e0fd[_0x2859a6(0x1ff)]='';_0x8cae20['length']===0x0?_0x33e0fd[_0x2859a6(0x1ff)]=_0x2859a6(0x32a):(_0x8cae20[_0x2859a6(0x31a)]((_0x1867e4,_0xe31735)=>_0x1867e4[_0x2859a6(0x250)][_0x2859a6(0x2f6)](_0xe31735[_0x2859a6(0x250)])),_0x8cae20[_0x2859a6(0x27d)](_0x65cb3c=>{const _0x1bca6e=_0x2859a6,_0x23a4e3=clients[_0x1bca6e(0x242)](_0x324144=>_0x324144[_0x1bca6e(0x2e0)]===_0x65cb3c[_0x1bca6e(0x1e6)]),_0x19bf07=_0x23a4e3?_0x23a4e3['color']:_0x1bca6e(0x1eb),_0x41da3b=_0x65cb3c[_0x1bca6e(0x33f)]===_0x1bca6e(0x1be),_0x13da3b=_0x41da3b?_0x1bca6e(0x282):'',_0x3a478f=document[_0x1bca6e(0x2c1)](_0x1bca6e(0x263));_0x3a478f[_0x1bca6e(0x1ce)]='de-item',_0x3a478f[_0x1bca6e(0x20d)][_0x1bca6e(0x286)]=_0x19bf07,_0x3a478f['innerHTML']=_0x1bca6e(0x318)+_0x65cb3c['start']+_0x1bca6e(0x2bd)+_0x65cb3c[_0x1bca6e(0x2aa)]+_0x1bca6e(0x28f)+_0x65cb3c[_0x1bca6e(0x1e6)]+_0x1bca6e(0x2f5)+_0x13da3b+_0x1bca6e(0x307),_0x33e0fd['appendChild'](_0x3a478f);}));const _0xd96d36=document[_0x2859a6(0x271)]('btnDayToggle'),_0x5caf1e=dateExceptions[_0x542915]===_0x2859a6(0x27c);_0x5caf1e?(_0xd96d36['textContent']=_0x2859a6(0x2de),_0xd96d36['className']=_0x2859a6(0x2be),_0xd96d36[_0x2859a6(0x20d)][_0x2859a6(0x292)]='var(--acc-green)',_0xd96d36[_0x2859a6(0x20d)][_0x2859a6(0x1d2)]=_0x2859a6(0x240)):(_0xd96d36['textContent']=_0x2859a6(0x205),_0xd96d36[_0x2859a6(0x1ce)]='btn-primary\x20btn-danger',_0xd96d36[_0x2859a6(0x20d)][_0x2859a6(0x292)]=_0x2859a6(0x1d1),_0xd96d36[_0x2859a6(0x20d)][_0x2859a6(0x1d2)]=_0x2859a6(0x2fb)),openSheet('dayOptionsSheet');}let currentAnPeriod='week';function openAnalytics(){const _0x11573f=a2_0x5a7eaf,_0x41e762=document[_0x11573f(0x2f8)](_0x11573f(0x316));setAnalyticsPeriod(_0x11573f(0x1df),_0x41e762),closeAllSheets(),openSheet(_0x11573f(0x24e));}function setAnalyticsPeriod(_0x3b80a1,_0x35ac03){const _0x528ca7=a2_0x5a7eaf;currentAnPeriod=_0x3b80a1,document[_0x528ca7(0x2b1)](_0x528ca7(0x316))[_0x528ca7(0x27d)](_0xd3ae3a=>_0xd3ae3a[_0x528ca7(0x2ae)][_0x528ca7(0x1e5)](_0x528ca7(0x22b)));if(_0x35ac03)_0x35ac03['classList'][_0x528ca7(0x306)](_0x528ca7(0x22b));const _0xc16129=document[_0x528ca7(0x271)](_0x528ca7(0x347));_0xc16129[_0x528ca7(0x20d)][_0x528ca7(0x253)]=_0x3b80a1===_0x528ca7(0x256)?_0x528ca7(0x2d4):_0x528ca7(0x1c5);const _0x5931fe=new Date();let _0x3d184f=new Date(),_0x5cbc5c=new Date();if(_0x3b80a1===_0x528ca7(0x1df))_0x3d184f=getStartOfWeek(_0x5931fe),_0x5cbc5c=new Date(_0x3d184f),_0x5cbc5c[_0x528ca7(0x2c3)](_0x5cbc5c[_0x528ca7(0x317)]()+0x6);else{if(_0x3b80a1===_0x528ca7(0x210))_0x3d184f=new Date(_0x5931fe[_0x528ca7(0x294)](),_0x5931fe[_0x528ca7(0x1e0)](),0x1),_0x5cbc5c=new Date(_0x5931fe[_0x528ca7(0x294)](),_0x5931fe['getMonth']()+0x1,0x0);else{!document[_0x528ca7(0x271)](_0x528ca7(0x2c8))[_0x528ca7(0x1c6)]&&(document[_0x528ca7(0x271)](_0x528ca7(0x2c8))[_0x528ca7(0x1c6)]=getLocalDateStr(_0x5931fe),document['getElementById'](_0x528ca7(0x2e8))[_0x528ca7(0x1c6)]=getLocalDateStr(_0x5931fe));refreshAnalytics();return;}}document[_0x528ca7(0x271)]('anStart')['value']=getLocalDateStr(_0x3d184f),document[_0x528ca7(0x271)](_0x528ca7(0x2e8))[_0x528ca7(0x1c6)]=getLocalDateStr(_0x5cbc5c),refreshAnalytics();}function refreshAnalytics(){const _0x37da01=a2_0x5a7eaf,_0xce3093=document[_0x37da01(0x271)](_0x37da01(0x2c8))[_0x37da01(0x1c6)],_0x4bb02c=document[_0x37da01(0x271)]('anEnd')[_0x37da01(0x1c6)];if(!_0xce3093||!_0x4bb02c)return;const _0x9d6c27=sessions['filter'](_0x1da64b=>_0x1da64b[_0x37da01(0x218)]>=_0xce3093&&_0x1da64b[_0x37da01(0x218)]<=_0x4bb02c&&_0x1da64b[_0x37da01(0x33f)]!==_0x37da01(0x2f0)),_0x5324d7=_0x9d6c27[_0x37da01(0x233)],_0xb3b7fa=_0x9d6c27[_0x37da01(0x2ea)](_0x503776=>_0x503776[_0x37da01(0x33f)]===_0x37da01(0x1be))['length'],_0x55d888=_0x5324d7>0x0?Math['round'](_0xb3b7fa/_0x5324d7*0x64):0x0;document[_0x37da01(0x271)](_0x37da01(0x1d9))['textContent']=_0x55d888+'%',document[_0x37da01(0x271)]('anTotalStats')[_0x37da01(0x1cd)]=_0xb3b7fa+_0x37da01(0x34e)+_0x5324d7+_0x37da01(0x26b);const _0x54258e=document['getElementById'](_0x37da01(0x25f)),_0x366c48=0x2*Math['PI']*0x23,_0x10c447=_0x366c48-_0x55d888/0x64*_0x366c48;_0x54258e['style'][_0x37da01(0x302)]=_0x10c447;const _0x1cfff5={};_0x9d6c27[_0x37da01(0x27d)](_0x4a539f=>{const _0x2ebef1=_0x37da01;if(!_0x1cfff5[_0x4a539f[_0x2ebef1(0x1e6)]]){const _0x2a5685=clients[_0x2ebef1(0x242)](_0x10c399=>_0x10c399['name']===_0x4a539f['client']);_0x1cfff5[_0x4a539f[_0x2ebef1(0x1e6)]]={'total':0x0,'done':0x0,'color':_0x2a5685?_0x2a5685['color']:_0x2ebef1(0x1eb)};}_0x1cfff5[_0x4a539f['client']]['total']++;if(_0x4a539f[_0x2ebef1(0x33f)]===_0x2ebef1(0x1be))_0x1cfff5[_0x4a539f[_0x2ebef1(0x1e6)]][_0x2ebef1(0x257)]++;});const _0x23f7dc=document[_0x37da01(0x271)](_0x37da01(0x221));_0x23f7dc[_0x37da01(0x1ff)]='';const _0xd7606f=Object['entries'](_0x1cfff5)[_0x37da01(0x31a)]((_0x4fe525,_0x25fab6)=>_0x25fab6[0x1]['total']-_0x4fe525[0x1][_0x37da01(0x236)]);if(_0xd7606f['length']===0x0){_0x23f7dc[_0x37da01(0x1ff)]=_0x37da01(0x29d);return;}_0xd7606f[_0x37da01(0x27d)](([_0x11e273,_0x246030])=>{const _0x497837=_0x37da01,_0x1286f7=Math[_0x497837(0x2b5)](_0x246030[_0x497837(0x257)]/_0x246030[_0x497837(0x236)]*0x64),_0x4cd133=document[_0x497837(0x2c1)](_0x497837(0x263));_0x4cd133[_0x497837(0x1ce)]=_0x497837(0x291),_0x4cd133[_0x497837(0x20d)]['borderLeftColor']=_0x246030['color'],_0x4cd133[_0x497837(0x1ff)]=_0x497837(0x2fd)+_0x11e273+_0x497837(0x31d)+_0x246030[_0x497837(0x257)]+'</span>\x20/\x20'+_0x246030[_0x497837(0x236)]+_0x497837(0x2cc)+_0x1286f7+_0x497837(0x32d),_0x23f7dc[_0x497837(0x22c)](_0x4cd133);});}function formatMinsToHrs(_0x564010){const _0x47786c=a2_0x5a7eaf;if(_0x564010===0x0)return'0';const _0xbb36b4=Math[_0x47786c(0x2f4)](_0x564010/0x3c),_0x5a535f=_0x564010%0x3c;if(_0x5a535f===0x0)return _0xbb36b4+'—á';return _0xbb36b4+'—á\x20'+_0x5a535f+'–º';}