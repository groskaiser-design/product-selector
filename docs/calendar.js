const a2_0x2ab5aa=a2_0x4877;(function(_0x4bd078,_0x32330d){const _0x44249f=a2_0x4877,_0x462e30=_0x4bd078();while(!![]){try{const _0x45b21d=-parseInt(_0x44249f(0x289))/0x1*(parseInt(_0x44249f(0x23f))/0x2)+parseInt(_0x44249f(0x1f6))/0x3*(parseInt(_0x44249f(0x249))/0x4)+-parseInt(_0x44249f(0x2ae))/0x5+-parseInt(_0x44249f(0x291))/0x6*(parseInt(_0x44249f(0x2e5))/0x7)+-parseInt(_0x44249f(0x243))/0x8+parseInt(_0x44249f(0x209))/0x9+parseInt(_0x44249f(0x2c3))/0xa;if(_0x45b21d===_0x32330d)break;else _0x462e30['push'](_0x462e30['shift']());}catch(_0xb92cce){_0x462e30['push'](_0x462e30['shift']());}}}(a2_0x10dc,0x1f900),function initTMA(){const _0x9e0e9e=a2_0x4877;try{const _0xe49aff=window[_0x9e0e9e(0x27f)]?.[_0x9e0e9e(0x22e)];if(!_0xe49aff)return;_0xe49aff[_0x9e0e9e(0x25c)](),_0xe49aff[_0x9e0e9e(0x1f8)]();try{_0xe49aff[_0x9e0e9e(0x358)](_0x9e0e9e(0x264)),_0xe49aff[_0x9e0e9e(0x271)]&&_0xe49aff['setBackgroundColor'](_0x9e0e9e(0x264));}catch(_0xa6f864){console[_0x9e0e9e(0x25f)](_0x9e0e9e(0x324),_0xa6f864);}try{_0xe49aff[_0x9e0e9e(0x29b)]&&(_0xe49aff[_0x9e0e9e(0x29b)]['show'](),_0xe49aff[_0x9e0e9e(0x29b)]['offClick'](),_0xe49aff['BackButton'][_0x9e0e9e(0x2b4)](function(){const _0x398680=_0x9e0e9e;window['location'][_0x398680(0x2c4)]='router.html';}));}catch(_0x16c445){console[_0x9e0e9e(0x25f)](_0x9e0e9e(0x32c),_0x16c445);}try{if(_0xe49aff['disableVerticalSwipes'])_0xe49aff[_0x9e0e9e(0x345)]();}catch(_0x26ab7a){}}catch(_0x42cbb2){console[_0x9e0e9e(0x265)]('Critical\x20TMA\x20Error:',_0x42cbb2);}}());function isAdmin(){const _0x8de160=a2_0x4877;try{const _0x31a86a=Number(window[_0x8de160(0x27f)]?.[_0x8de160(0x22e)]?.[_0x8de160(0x350)]?.[_0x8de160(0x234)]?.['id']);return _0x31a86a===0xbaf7174;}catch(_0x123b15){return![];}}const APP_VERSION=a2_0x2ab5aa(0x2ce),API_URL=a2_0x2ab5aa(0x200),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS='uc_clients_v9',KEY_SESSIONS=a2_0x2ab5aa(0x321),KEY_SETTINGS=a2_0x2ab5aa(0x218);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x4ba38b=a2_0x2ab5aa;return window[_0x4ba38b(0x27f)]?.[_0x4ba38b(0x22e)]?.[_0x4ba38b(0x350)]?.[_0x4ba38b(0x234)]?.['id']||'guest';},'saveLocally'(){const _0x5487de=a2_0x2ab5aa;try{localStorage[_0x5487de(0x205)](KEY_CLIENTS,JSON[_0x5487de(0x20c)](clients)),localStorage['setItem'](KEY_SESSIONS,JSON[_0x5487de(0x20c)](sessions)),localStorage[_0x5487de(0x205)](KEY_SETTINGS,JSON[_0x5487de(0x20c)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x4827f4){console[_0x5487de(0x265)](_0x5487de(0x34d),_0x4827f4);}},'loadLocal'(){const _0x3ede83=a2_0x2ab5aa;try{const _0x6fe7ac=localStorage['getItem'](KEY_CLIENTS);if(_0x6fe7ac)clients=JSON[_0x3ede83(0x239)](_0x6fe7ac);const _0xa334c0=localStorage['getItem'](KEY_SESSIONS);if(_0xa334c0)sessions=JSON[_0x3ede83(0x239)](_0xa334c0);const _0x19de94=localStorage[_0x3ede83(0x306)](KEY_SETTINGS);if(_0x19de94){const _0x929ab1=JSON[_0x3ede83(0x239)](_0x19de94);if(_0x929ab1[_0x3ede83(0x338)])availabilityPattern=_0x929ab1['pattern'];if(_0x929ab1['exceptions'])dateExceptions=_0x929ab1[_0x3ede83(0x276)];if(_0x929ab1[_0x3ede83(0x364)])specialRanges=_0x929ab1[_0x3ede83(0x364)];}else{for(let _0x38e1f6=0x0;_0x38e1f6<0x7;_0x38e1f6++)availabilityPattern[_0x38e1f6]=Array['from']({'length':0xc},(_0xe1940c,_0x1698df)=>_0x1698df+0x9);}}catch(_0x1412c7){console[_0x3ede83(0x265)](_0x3ede83(0x2d8),_0x1412c7);}},async 'fetchFromServer'(_0x1be906,_0x5d6b81={}){const _0x4087c9=a2_0x2ab5aa,_0xb42a7b=window[_0x4087c9(0x27f)]?.['WebApp'],_0x170754={'action':_0x1be906,'init_data':_0xb42a7b?.['initData']||'',..._0x5d6b81};try{const _0x5daaec=await fetch(API_URL,{'method':_0x4087c9(0x305),'headers':{'Content-Type':'text/plain;charset=UTF-8'},'body':JSON[_0x4087c9(0x20c)](_0x170754)}),_0x67017e=await _0x5daaec[_0x4087c9(0x221)]();if(!_0x67017e['ok'])throw new Error(_0x67017e['error']||_0x4087c9(0x308));return _0x67017e['data'];}catch(_0x13888a){console[_0x4087c9(0x265)](_0x4087c9(0x346)+_0x1be906+_0x4087c9(0x278),_0x13888a);throw _0x13888a;}},async 'syncLoad'(){const _0x3338e7=a2_0x2ab5aa,_0x1b19a6=new Date(),_0x36034e=_0x1b19a6[_0x3338e7(0x357)]()+'-'+String(_0x1b19a6[_0x3338e7(0x1fb)]()+0x1)[_0x3338e7(0x2fa)](0x2,'0'),_0x3fd1c7=new Date(_0x1b19a6);_0x3fd1c7[_0x3338e7(0x242)](_0x1b19a6[_0x3338e7(0x1fb)]()+0x1);const _0x4703e7=_0x3fd1c7['getFullYear']()+'-'+String(_0x3fd1c7[_0x3338e7(0x1fb)]()+0x1)['padStart'](0x2,'0'),_0x30c62e=Date[_0x3338e7(0x230)]();console[_0x3338e7(0x25f)]('[Sync]\x20Loading\x20'+_0x36034e+',\x20'+_0x4703e7+_0x3338e7(0x333));try{const [_0x1add3b,_0x5ca038]=await Promise[_0x3338e7(0x2ef)]([this[_0x3338e7(0x2ed)](_0x3338e7(0x21b),{'month_str':_0x36034e}),this[_0x3338e7(0x2ed)]('init_load',{'month_str':_0x4703e7})]);if(lastUserActionTime>_0x30c62e)return console['warn']('[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response'),![];return this[_0x3338e7(0x288)](_0x1add3b,_0x36034e),this['mergeServerData'](_0x5ca038,_0x4703e7),this[_0x3338e7(0x2b5)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x217494){console['error'](_0x217494);throw _0x217494;}},'mergeServerData'(_0x4b5dec,_0x4cb6b1){const _0x2c1b70=a2_0x2ab5aa;if(!_0x4b5dec)return;_0x4b5dec[_0x2c1b70(0x2a7)]&&Array[_0x2c1b70(0x262)](_0x4b5dec[_0x2c1b70(0x2a7)])&&(clients=_0x4b5dec[_0x2c1b70(0x2a7)]);if(_0x4b5dec[_0x2c1b70(0x31d)]){if(_0x4b5dec['settings']['pattern'])availabilityPattern=_0x4b5dec[_0x2c1b70(0x31d)][_0x2c1b70(0x338)];if(_0x4b5dec[_0x2c1b70(0x31d)][_0x2c1b70(0x276)])dateExceptions=_0x4b5dec[_0x2c1b70(0x31d)]['exceptions'];if(_0x4b5dec[_0x2c1b70(0x31d)][_0x2c1b70(0x364)])specialRanges=_0x4b5dec[_0x2c1b70(0x31d)][_0x2c1b70(0x364)];if(_0x4b5dec[_0x2c1b70(0x31d)][_0x2c1b70(0x280)]){localStorage['setItem'](_0x2c1b70(0x25b),_0x4b5dec[_0x2c1b70(0x31d)][_0x2c1b70(0x280)]);const _0x368ff8=document['getElementById'](_0x2c1b70(0x2cf));if(_0x368ff8)_0x368ff8[_0x2c1b70(0x1f4)]=_0x4b5dec['settings'][_0x2c1b70(0x280)];}}_0x4b5dec[_0x2c1b70(0x2e2)]&&(sessions=sessions[_0x2c1b70(0x2d5)](_0x3d8277=>!_0x3d8277['dateStr'][_0x2c1b70(0x28c)](_0x4cb6b1)),Object[_0x2c1b70(0x331)](_0x4b5dec[_0x2c1b70(0x2e2)])[_0x2c1b70(0x222)](_0x3e1b64=>{const _0x5ad728=_0x2c1b70,_0x15f40f=_0x4b5dec[_0x5ad728(0x2e2)][_0x3e1b64];_0x15f40f[_0x5ad728(0x222)](_0x6c067d=>{const _0x1af278=_0x5ad728,_0x4b2695=clients[_0x1af278(0x248)](_0x37cdf8=>String(_0x37cdf8['id'])===String(_0x6c067d['c']));sessions[_0x1af278(0x31b)]({'id':_0x6c067d['i'],'clientId':_0x6c067d['c'],'client':_0x4b2695?_0x4b2695[_0x1af278(0x268)]:_0x1af278(0x2b2),'dateStr':_0x4cb6b1+'-'+_0x3e1b64[_0x1af278(0x2fa)](0x2,'0'),'start':_0x6c067d['s'],'end':_0x6c067d['e'],'status':_0x6c067d['st']||'planned','note':_0x6c067d['n']||'','seriesId':_0x6c067d[_0x1af278(0x2c7)]||null});});}));},async 'syncBatch'(_0x5257a1){const _0x5e12bc=a2_0x2ab5aa,_0x164971=[...new Set(_0x5257a1)],_0x4649d1=_0x164971['map'](_0x1851e8=>{const _0x5da5d2=a2_0x4877,_0x219f67=sessions[_0x5da5d2(0x2d5)](_0x1ce00d=>_0x1ce00d['dateStr']===_0x1851e8&&_0x1ce00d[_0x5da5d2(0x28a)]!=='deleted'),_0x43e9f9=_0x219f67[_0x5da5d2(0x2f7)](_0x534c58=>({'i':_0x534c58['id'],'c':_0x534c58[_0x5da5d2(0x219)],'s':_0x534c58[_0x5da5d2(0x259)],'e':_0x534c58[_0x5da5d2(0x238)],'st':_0x534c58[_0x5da5d2(0x28a)],'n':_0x534c58[_0x5da5d2(0x1fe)],'sid':_0x534c58[_0x5da5d2(0x277)]}));return{'date':_0x1851e8,'day_data':_0x43e9f9};});if(_0x4649d1[_0x5e12bc(0x299)]===0x0)return;console[_0x5e12bc(0x25f)](_0x5e12bc(0x2e0)+_0x4649d1['length']+_0x5e12bc(0x2ba)),await this['fetchFromServer']('batch_sync',{'changes':_0x4649d1});}};async function init(){const _0x201e36=a2_0x2ab5aa;DataManager['loadLocal'](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x201e36(0x2c9)](_0x201e36(0x296))[_0x201e36(0x2b1)]('scroll',()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']()[_0x201e36(0x34a)](()=>{const _0x3d73bf=_0x201e36;showToast(_0x3d73bf(0x318),!![]);})[_0x201e36(0x235)](_0x26d885=>{const _0x32dfbe=_0x201e36;showToast(_0x32dfbe(0x29a),![]);});}function generateId(){const _0x537174=a2_0x2ab5aa;return Date[_0x537174(0x230)]()['toString'](0x24)+Math['random']()[_0x537174(0x327)](0x24)[_0x537174(0x2dd)](0x2,0x5);}function a2_0x4877(_0x11cb1e,_0x4843a3){_0x11cb1e=_0x11cb1e-0x1f4;const _0x4791fc=a2_0x10dc();let _0x263afa=_0x4791fc[_0x11cb1e];return _0x263afa;}function toggleSeriesInput(){const _0x9e7b31=a2_0x2ab5aa,_0x542204=document[_0x9e7b31(0x2c9)](_0x9e7b31(0x2cb))[_0x9e7b31(0x2af)],_0x235f78=document[_0x9e7b31(0x2c9)](_0x9e7b31(0x2d4));_0x235f78[_0x9e7b31(0x257)][_0x9e7b31(0x30a)]=_0x542204?_0x9e7b31(0x315):_0x9e7b31(0x30e);const _0x2fdb41=document[_0x9e7b31(0x2c9)](_0x9e7b31(0x20b));_0x2fdb41[_0x9e7b31(0x257)][_0x9e7b31(0x2a5)]=_0x542204?_0x9e7b31(0x228):'10px';}function openAddSession(_0x1a9860){const _0x735487=a2_0x2ab5aa;editingId=null,populateClientSelect(),document[_0x735487(0x2c9)](_0x735487(0x2ec))[_0x735487(0x2d1)]='–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å',document[_0x735487(0x2c9)](_0x735487(0x231))[_0x735487(0x257)]['display']=_0x735487(0x30e),document[_0x735487(0x2c9)]('btnStatusToggle')['style'][_0x735487(0x30a)]=_0x735487(0x30e);const _0x24c572=document[_0x735487(0x2c9)](_0x735487(0x20b)),_0x19f85d=document[_0x735487(0x2c9)]('seriesCountContainer');_0x24c572[_0x735487(0x257)][_0x735487(0x30a)]=_0x735487(0x258),_0x24c572[_0x735487(0x257)][_0x735487(0x2a5)]='10px',document[_0x735487(0x2c9)](_0x735487(0x2cb))[_0x735487(0x2af)]=![],document[_0x735487(0x2c9)](_0x735487(0x2ac))[_0x735487(0x1f4)]=0x4,_0x19f85d[_0x735487(0x257)][_0x735487(0x30a)]=_0x735487(0x30e),document['getElementById'](_0x735487(0x226))[_0x735487(0x1f4)]=getLocalDateStr(_0x1a9860),updateDateDisplay();const _0x1f858a=_0x1a9860[_0x735487(0x22a)]();document[_0x735487(0x2c9)]('inpStart')[_0x735487(0x1f4)]=String(_0x1f858a)[_0x735487(0x2fa)](0x2,'0')+_0x735487(0x2e7),document[_0x735487(0x2c9)](_0x735487(0x254))['value']=String(_0x1f858a+0x1)[_0x735487(0x2fa)](0x2,'0')+_0x735487(0x2e7),openSheet(_0x735487(0x1f7));}function openEdit(_0x3c5785){const _0x447328=a2_0x2ab5aa;editingId=_0x3c5785['id'],populateClientSelect(),document[_0x447328(0x2c9)]('sheetTitle')[_0x447328(0x2d1)]=_0x447328(0x33b),document['getElementById']('btnDelete')[_0x447328(0x257)][_0x447328(0x30a)]=_0x447328(0x315);const _0x2862ba=document[_0x447328(0x2c9)](_0x447328(0x329));_0x2862ba[_0x447328(0x257)]['display']=_0x447328(0x258);_0x3c5785['status']===_0x447328(0x290)?(_0x2862ba[_0x447328(0x365)]=_0x447328(0x302),_0x2862ba[_0x447328(0x337)]=_0x447328(0x23d)):(_0x2862ba[_0x447328(0x365)]=_0x447328(0x28b),_0x2862ba[_0x447328(0x337)]=_0x447328(0x298));const _0x463c55=!!_0x3c5785[_0x447328(0x277)];document[_0x447328(0x2c9)]('recurringOptionContainer')[_0x447328(0x257)]['display']=_0x447328(0x30e),document[_0x447328(0x2c9)](_0x447328(0x2d4))['style'][_0x447328(0x30a)]=_0x447328(0x30e),_0x463c55?(document[_0x447328(0x2c9)]('patternInfoBox')[_0x447328(0x257)][_0x447328(0x30a)]=_0x447328(0x258),document[_0x447328(0x2c9)](_0x447328(0x27c))['querySelector'](_0x447328(0x344))[_0x447328(0x2d1)]=_0x447328(0x2b9)):document[_0x447328(0x2c9)]('patternInfoBox')[_0x447328(0x257)][_0x447328(0x30a)]=_0x447328(0x30e),document[_0x447328(0x2c9)](_0x447328(0x29f))[_0x447328(0x1f4)]=_0x3c5785[_0x447328(0x2c8)],document['getElementById'](_0x447328(0x226))['value']=_0x3c5785[_0x447328(0x2b0)],document[_0x447328(0x2c9)](_0x447328(0x24e))[_0x447328(0x1f4)]=_0x3c5785[_0x447328(0x259)],document[_0x447328(0x2c9)]('inpEnd')[_0x447328(0x1f4)]=_0x3c5785['end'],document['getElementById'](_0x447328(0x253))[_0x447328(0x1f4)]=_0x3c5785['note']||'',updateDateDisplay(),openSheet('sessionSheet');}async function trySaveSession(){const _0x5ee960=a2_0x2ab5aa,_0x3e91c1=document[_0x5ee960(0x2c9)]('inpClient')['value'],_0x84b85f=document[_0x5ee960(0x2c9)](_0x5ee960(0x226))[_0x5ee960(0x1f4)],_0x37fe07=document['getElementById'](_0x5ee960(0x24e))['value'],_0x844f38=document[_0x5ee960(0x2c9)](_0x5ee960(0x254))['value'],_0x4c51ce=document[_0x5ee960(0x2c9)]('inpNote')[_0x5ee960(0x1f4)],_0x1ef265=document['getElementById'](_0x5ee960(0x2cb))[_0x5ee960(0x2af)];let _0x1823ae=0x4;if(_0x1ef265){const _0x8dce96=parseInt(document[_0x5ee960(0x2c9)](_0x5ee960(0x2ac))[_0x5ee960(0x1f4)]);if(!_0x8dce96||_0x8dce96<0x2){showToast(_0x5ee960(0x361),![]);return;}if(_0x8dce96>0x64){showToast(_0x5ee960(0x294),![]);return;}_0x1823ae=_0x8dce96;}const _0x3ad398=clients[_0x5ee960(0x248)](_0x1af26d=>_0x1af26d['name']===_0x3e91c1);if(!_0x3ad398){showToast(_0x5ee960(0x336),![]);return;}const _0x296158=validateAppointment(_0x84b85f,_0x37fe07,_0x844f38,editingId,_0x3ad398['id']);if(!_0x296158[_0x5ee960(0x26c)]){showToast(_0x296158[_0x5ee960(0x285)],![]);return;}_0x296158['warning']&&showToast(_0x296158['warning'],![]);const _0x4a793f={'client':_0x3e91c1,'clientId':_0x3ad398['id'],'start':_0x37fe07,'end':_0x844f38,'note':_0x4c51ce,'status':_0x5ee960(0x21e)},_0x8b74a7=editingId?sessions['find'](_0x20c08f=>_0x20c08f['id']===editingId):null;if(_0x8b74a7&&_0x8b74a7[_0x5ee960(0x277)]){tempSessionData={..._0x4a793f,'dateStr':_0x84b85f,'id':editingId,'seriesId':_0x8b74a7[_0x5ee960(0x277)]},openActionSheet(_0x5ee960(0x332));return;}let _0x92ea7=null;if(!editingId)_0x92ea7=_0x5ee960(0x31f);else{if(_0x8b74a7){if(String(_0x8b74a7[_0x5ee960(0x219)])!==String(_0x3ad398['id']))console['log'](_0x5ee960(0x25d)),NotificationManager['send'](_0x5ee960(0x20f),_0x8b74a7),_0x92ea7=_0x5ee960(0x31f);else(_0x8b74a7[_0x5ee960(0x259)]!==_0x37fe07||_0x8b74a7[_0x5ee960(0x238)]!==_0x844f38||_0x8b74a7[_0x5ee960(0x2b0)]!==_0x84b85f)&&(_0x92ea7=_0x5ee960(0x20a));}}if(!editingId&&_0x1ef265){createBatchSeries(_0x4a793f,_0x84b85f,_0x1823ae),NotificationManager['send'](_0x5ee960(0x31f),{..._0x4a793f,'dateStr':_0x84b85f});return;}lastUserActionTime=Date[_0x5ee960(0x230)]();const _0x17d4e1={..._0x4a793f,'dateStr':_0x84b85f,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x17d4e1),_0x92ea7&&NotificationManager[_0x5ee960(0x351)](_0x92ea7,_0x17d4e1);}function toggleSessionStatus(){const _0x40582b=a2_0x2ab5aa;lastUserActionTime=Date[_0x40582b(0x230)]();const _0x13cff8=sessions[_0x40582b(0x248)](_0x254df0=>_0x254df0['id']===editingId);if(!_0x13cff8)return;const _0x293476=_0x13cff8[_0x40582b(0x28a)]==='completed'?_0x40582b(0x21e):_0x40582b(0x290);_0x13cff8[_0x40582b(0x28a)]=_0x293476,saveSingleSession(_0x13cff8),_0x293476===_0x40582b(0x290)&&NotificationManager[_0x40582b(0x351)](_0x40582b(0x1f5),_0x13cff8),showToast(_0x293476==='completed'?_0x40582b(0x35f):_0x40582b(0x32e),!![]);}function validateAppointment(_0x61bdc3,_0x5e9900,_0x334ae5,_0x1a6abb,_0x36d0ca){const _0x826eaf=a2_0x2ab5aa,[_0x2e301f,_0x1d72a7]=_0x5e9900[_0x826eaf(0x341)](':')[_0x826eaf(0x2f7)](Number),[_0x3ca363,_0x4c617a]=_0x334ae5[_0x826eaf(0x341)](':')['map'](Number),_0x1b0ed6=_0x2e301f*0x3c+_0x1d72a7,_0x45df23=_0x3ca363*0x3c+_0x4c617a,_0x358dfa=String(_0x36d0ca);let _0x53cb3d=![],_0x18539b='';for(let _0x2ee67b of sessions){if(_0x2ee67b[_0x826eaf(0x2b0)]!==_0x61bdc3)continue;if(_0x2ee67b['status']==='cancelled')continue;if(_0x1a6abb&&String(_0x2ee67b['id'])===String(_0x1a6abb))continue;const [_0x432437,_0x5cda45]=_0x2ee67b[_0x826eaf(0x259)][_0x826eaf(0x341)](':')[_0x826eaf(0x2f7)](Number),[_0x306f5f,_0x11e7a4]=_0x2ee67b[_0x826eaf(0x238)][_0x826eaf(0x341)](':')[_0x826eaf(0x2f7)](Number),_0x19b85d=_0x432437*0x3c+_0x5cda45,_0x2bafae=_0x306f5f*0x3c+_0x11e7a4;if(Math[_0x826eaf(0x2a6)](_0x1b0ed6,_0x19b85d)<Math[_0x826eaf(0x2d3)](_0x45df23,_0x2bafae)){if(_0x2ee67b['clientId']&&String(_0x2ee67b[_0x826eaf(0x219)])===_0x358dfa)return{'valid':![],'msg':_0x826eaf(0x1ff)+_0x2ee67b[_0x826eaf(0x2c8)]+_0x826eaf(0x31c)};_0x53cb3d=!![],_0x18539b=_0x2ee67b[_0x826eaf(0x2c8)];}}if(_0x53cb3d)return{'valid':!![],'warning':_0x826eaf(0x2a0)+_0x18539b};return{'valid':!![]};}function saveSingleSession(_0x5e439d){const _0x3e7205=a2_0x2ab5aa;if(editingId){const _0x40a455=sessions[_0x3e7205(0x229)](_0x301ea1=>_0x301ea1['id']===editingId);if(_0x40a455!==-0x1)sessions[_0x40a455]=_0x5e439d;}else sessions[_0x3e7205(0x31b)](_0x5e439d);afterSaveAction([_0x5e439d[_0x3e7205(0x2b0)]]);}function createBatchSeries(_0x5c866e,_0x11ce0f,_0x54b7d2){const _0x3e50e5=a2_0x2ab5aa,_0x11dc6b=generateId(),_0x24de13=[],_0x5c4a42=[];let _0x506aaa=0x0,_0x398ba1=new Date(_0x11ce0f);for(let _0x278326=0x0;_0x278326<_0x54b7d2;_0x278326++){const _0x2774e0=getLocalDateStr(_0x398ba1),_0x2d7887=validateAppointment(_0x2774e0,_0x5c866e[_0x3e50e5(0x259)],_0x5c866e[_0x3e50e5(0x238)],null,_0x5c866e[_0x3e50e5(0x219)]);if(!_0x2d7887[_0x3e50e5(0x26c)])console['log'](_0x3e50e5(0x27b)+_0x2774e0+_0x3e50e5(0x245)),_0x506aaa++;else{const _0x47d620={..._0x5c866e,'id':generateId(),'dateStr':_0x2774e0,'seriesId':_0x11dc6b};_0x5c4a42[_0x3e50e5(0x31b)](_0x47d620),_0x24de13[_0x3e50e5(0x31b)](_0x2774e0);}_0x398ba1[_0x3e50e5(0x34c)](_0x398ba1[_0x3e50e5(0x293)]()+0x7);}if(_0x5c4a42[_0x3e50e5(0x299)]===0x0){showToast(_0x3e50e5(0x33e),![]);return;}sessions[_0x3e50e5(0x31b)](..._0x5c4a42),lastUserActionTime=Date[_0x3e50e5(0x230)]();let _0x745c21=_0x3e50e5(0x24c)+_0x5c4a42[_0x3e50e5(0x299)];_0x506aaa>0x0&&(_0x745c21+=_0x3e50e5(0x366)+_0x506aaa+')'),showToast(_0x745c21,!![]),afterSaveAction(_0x24de13);}function updateSeriesBatch(_0x48c38a,_0x14a7f9){const _0x575245=a2_0x2ab5aa,_0x5060=[],_0x55f50b=_0x14a7f9[_0x575245(0x277)];if(_0x48c38a===_0x575245(0x2a2)){const _0x1cc283={..._0x14a7f9,'seriesId':null},_0x3e6818=sessions[_0x575245(0x229)](_0x3b927a=>_0x3b927a['id']===_0x14a7f9['id']);if(_0x3e6818!==-0x1)sessions[_0x3e6818]=_0x1cc283;_0x5060['push'](_0x1cc283[_0x575245(0x2b0)]);}else{if(_0x48c38a===_0x575245(0x2ab)){const _0x3cc455=_0x14a7f9[_0x575245(0x2b0)];sessions[_0x575245(0x222)]((_0x43e40b,_0x403dea)=>{const _0x522e24=_0x575245;_0x43e40b[_0x522e24(0x277)]===_0x55f50b&&_0x43e40b['dateStr']>=_0x3cc455&&(sessions[_0x403dea]={...sessions[_0x403dea],'start':_0x14a7f9[_0x522e24(0x259)],'end':_0x14a7f9['end'],'note':_0x14a7f9[_0x522e24(0x1fe)],'client':_0x14a7f9[_0x522e24(0x2c8)],'clientId':_0x14a7f9[_0x522e24(0x219)]},_0x5060['push'](_0x43e40b[_0x522e24(0x2b0)]));});}}afterSaveAction(_0x5060);}function tryDeleteSession(){const _0x4b2602=a2_0x2ab5aa,_0x2785ee=sessions[_0x4b2602(0x248)](_0x9beef1=>_0x9beef1['id']===editingId);if(!_0x2785ee)return;_0x2785ee[_0x4b2602(0x277)]?openActionSheet('delete'):commitDelete(_0x4b2602(0x2a2),_0x2785ee);}function commitDelete(_0x4e729e,_0x2786da){const _0x4abddc=a2_0x2ab5aa;lastUserActionTime=Date[_0x4abddc(0x230)](),NotificationManager['send']('cancel',_0x2786da);const _0x268860=[];if(_0x4e729e==='single')sessions=sessions[_0x4abddc(0x2d5)](_0x52a59b=>_0x52a59b['id']!==_0x2786da['id']),_0x268860[_0x4abddc(0x31b)](_0x2786da['dateStr']);else{if(_0x4e729e===_0x4abddc(0x2ab)){const _0x39be87=_0x2786da[_0x4abddc(0x2b0)],_0x5905c6=_0x2786da['seriesId'];sessions[_0x4abddc(0x222)](_0x55950b=>{const _0x1c56ea=_0x4abddc;_0x55950b[_0x1c56ea(0x277)]===_0x5905c6&&_0x55950b[_0x1c56ea(0x2b0)]>=_0x39be87&&_0x268860[_0x1c56ea(0x31b)](_0x55950b['dateStr']);}),sessions=sessions[_0x4abddc(0x2d5)](_0x4ac8e2=>!(_0x4ac8e2[_0x4abddc(0x277)]===_0x5905c6&&_0x4ac8e2[_0x4abddc(0x2b0)]>=_0x39be87));}}afterSaveAction(_0x268860);}function afterSaveAction(_0x3eca89){const _0xcae169=a2_0x2ab5aa;DataManager[_0xcae169(0x2b5)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0xcae169(0x2d6)](_0x3eca89)['then'](()=>console['log'](_0xcae169(0x355)))[_0xcae169(0x235)](_0x261975=>showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ',![]));}const NotificationManager={'formatDate'(_0x2ef89f){const _0x3dac25=a2_0x2ab5aa,_0x2d1520=new Date(_0x2ef89f),_0x95893f={'weekday':_0x3dac25(0x203),'day':'numeric','month':_0x3dac25(0x203)};let _0x5b5671=_0x2d1520['toLocaleDateString'](_0x3dac25(0x26a),_0x95893f);return _0x5b5671['charAt'](0x0)['toUpperCase']()+_0x5b5671[_0x3dac25(0x301)](0x1);},'getText'(_0x3f301f,_0x5f43f0){const _0x44815b=a2_0x2ab5aa,_0x5c9a32=this[_0x44815b(0x240)](_0x5f43f0[_0x44815b(0x2b0)]);switch(_0x3f301f){case _0x44815b(0x31f):return _0x44815b(0x2f5)+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0x5c9a32+'\x0a')+(_0x44815b(0x1fc)+_0x5f43f0[_0x44815b(0x259)]+_0x44815b(0x2ad)+_0x5f43f0[_0x44815b(0x238)]+'\x0a\x0a')+'–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™';case _0x44815b(0x20a):return'<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a'+_0x44815b(0x2ea)+('<b>‚úÖ\x20'+_0x5f43f0['start']+'\x20‚Äî\x20'+_0x5f43f0[_0x44815b(0x238)]+_0x44815b(0x26d))+(_0x44815b(0x352)+_0x5c9a32);case'cancel':return _0x44815b(0x322)+(_0x44815b(0x27e)+_0x5c9a32+'\x20('+_0x5f43f0[_0x44815b(0x259)]+_0x44815b(0x353));case _0x44815b(0x1f5):return'<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a'+_0x44815b(0x339)+_0x44815b(0x2ee);default:return'';}},async 'send'(_0x835f11,_0x321226){const _0x5541ed=a2_0x2ab5aa;console[_0x5541ed(0x25f)]('[Notify]\x20Attempting\x20to\x20send:',_0x835f11,_0x321226);if(!_0x321226){console[_0x5541ed(0x265)]('[Notify]\x20Error:\x20sessionData\x20is\x20null');return;}const _0x5963b8=String(_0x321226[_0x5541ed(0x219)]);console[_0x5541ed(0x25f)](_0x5541ed(0x2c6),_0x5963b8);if(!_0x321226[_0x5541ed(0x219)]||_0x5963b8===_0x5541ed(0x232)||_0x5963b8==='null'){console[_0x5541ed(0x265)](_0x5541ed(0x2f9));if(_0x321226[_0x5541ed(0x2c8)]){const _0x289193=clients[_0x5541ed(0x248)](_0x446709=>_0x446709[_0x5541ed(0x268)]===_0x321226[_0x5541ed(0x2c8)]);if(_0x289193)return console[_0x5541ed(0x25f)](_0x5541ed(0x307),_0x289193['id']),this[_0x5541ed(0x351)](_0x835f11,{..._0x321226,'clientId':_0x289193['id']});}return;}if(_0x5963b8['length']<0x5){console[_0x5541ed(0x244)](_0x5541ed(0x20d),_0x5963b8);return;}const _0x152394=this[_0x5541ed(0x320)](_0x835f11,_0x321226);if(!_0x152394){console[_0x5541ed(0x265)](_0x5541ed(0x2b7));return;}console[_0x5541ed(0x25f)](_0x5541ed(0x252)+_0x5963b8+_0x5541ed(0x333)),DataManager[_0x5541ed(0x2ed)](_0x5541ed(0x282),{'chatId':_0x5963b8,'text':_0x152394})['then'](_0x2e64e4=>console[_0x5541ed(0x25f)](_0x5541ed(0x24d),_0x2e64e4))[_0x5541ed(0x235)](_0x377de6=>console[_0x5541ed(0x265)]('[Notify]\x20Network\x20Failed',_0x377de6));}};function getLocalDateStr(_0x3006a5){const _0x57f5a5=a2_0x2ab5aa,_0x39dfde=_0x3006a5[_0x57f5a5(0x357)](),_0x16d1c9=String(_0x3006a5[_0x57f5a5(0x1fb)]()+0x1)[_0x57f5a5(0x2fa)](0x2,'0'),_0x36d247=String(_0x3006a5[_0x57f5a5(0x293)]())[_0x57f5a5(0x2fa)](0x2,'0');return _0x39dfde+'-'+_0x16d1c9+'-'+_0x36d247;}function getDateStr(_0x2c5ab2){const _0x14d022=a2_0x2ab5aa,_0x7e9030=new Date();return _0x7e9030[_0x14d022(0x34c)](_0x7e9030[_0x14d022(0x293)]()+_0x2c5ab2),getLocalDateStr(_0x7e9030);}function getStartOfWeek(_0x268521){const _0x205211=a2_0x2ab5aa,_0x3d0608=(function(){let _0x2a8233=!![];return function(_0x219a8c,_0x449a29){const _0x641c27=_0x2a8233?function(){const _0x26ded5=a2_0x4877;if(_0x449a29){const _0x33db32=_0x449a29[_0x26ded5(0x2d7)](_0x219a8c,arguments);return _0x449a29=null,_0x33db32;}}:function(){};return _0x2a8233=![],_0x641c27;};}()),_0x135ad1=_0x3d0608(this,function(){const _0x414441=a2_0x4877;return _0x135ad1[_0x414441(0x327)]()[_0x414441(0x330)](_0x414441(0x26b))[_0x414441(0x327)]()['constructor'](_0x135ad1)[_0x414441(0x330)](_0x414441(0x26b));});_0x135ad1();const _0x67d8c=new Date(_0x268521),_0x1c263c=_0x67d8c[_0x205211(0x2dc)](),_0x50a465=_0x67d8c[_0x205211(0x293)]()-_0x1c263c+(_0x1c263c===0x0?-0x6:0x1);return _0x67d8c[_0x205211(0x34c)](_0x50a465),_0x67d8c[_0x205211(0x24a)](0x0,0x0,0x0,0x0),_0x67d8c;}function hexToRgba(_0x523122,_0x233f35){const _0x55b86d=a2_0x2ab5aa;if(!_0x523122)return _0x55b86d(0x2e6);let _0x292100=0x0,_0x51296e=0x0,_0x47fdd5=0x0;if(_0x523122[_0x55b86d(0x299)]===0x4)_0x292100='0x'+_0x523122[0x1]+_0x523122[0x1],_0x51296e='0x'+_0x523122[0x2]+_0x523122[0x2],_0x47fdd5='0x'+_0x523122[0x3]+_0x523122[0x3];else _0x523122[_0x55b86d(0x299)]===0x7&&(_0x292100='0x'+_0x523122[0x1]+_0x523122[0x2],_0x51296e='0x'+_0x523122[0x3]+_0x523122[0x4],_0x47fdd5='0x'+_0x523122[0x5]+_0x523122[0x6]);return'rgba('+ +_0x292100+',\x20'+ +_0x51296e+',\x20'+ +_0x47fdd5+',\x20'+_0x233f35+')';}function renderTimeColumn(){const _0x40118b=a2_0x2ab5aa,_0x430913=document[_0x40118b(0x2c9)](_0x40118b(0x26e)),_0x1ee4ff=document['getElementById'](_0x40118b(0x269));_0x430913[_0x40118b(0x337)]='',_0x430913[_0x40118b(0x334)](_0x1ee4ff);for(let _0x24a67c=0x0;_0x24a67c<0x18;_0x24a67c++){const _0x4785f7=document[_0x40118b(0x2df)](_0x40118b(0x2c0));_0x4785f7[_0x40118b(0x365)]='time-label';if(_0x24a67c>0x0)_0x4785f7[_0x40118b(0x337)]=_0x40118b(0x286)+String(_0x24a67c)['padStart'](0x2,'0')+_0x40118b(0x32b);_0x430913['appendChild'](_0x4785f7);}}function renderDayRange(_0x6078c1,_0xc433fa){const _0x2afdb2=a2_0x2ab5aa,_0x3842fb=document['getElementById']('daysHeaderTrack'),_0x2d7f6a=document[_0x2afdb2(0x2c9)](_0x2afdb2(0x343)),_0x3e7639=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x13c581=new Date();_0x13c581[_0x2afdb2(0x24a)](0x0,0x0,0x0,0x0);const _0x1cb640=getLocalDateStr(new Date());for(let _0x4c118e=_0x6078c1;_0x4c118e<=_0xc433fa;_0x4c118e++){const _0x216817=new Date(_0x13c581);_0x216817['setDate'](_0x216817[_0x2afdb2(0x293)]()+_0x4c118e);const _0x324b4c=getLocalDateStr(_0x216817);let _0x48aa4c=_0x216817[_0x2afdb2(0x2dc)]()-0x1;if(_0x48aa4c===-0x1)_0x48aa4c=0x6;const _0x1a714a=_0x324b4c===_0x1cb640,_0x29e484=document['createElement']('div');_0x29e484[_0x2afdb2(0x365)]=_0x2afdb2(0x340)+(_0x1a714a?_0x2afdb2(0x29e):''),_0x29e484['id']='header-'+_0x324b4c,_0x29e484[_0x2afdb2(0x314)]('data-date',_0x324b4c),_0x29e484['innerHTML']='<div\x20class=\x22dch-day\x22>'+_0x3e7639[_0x48aa4c]+_0x2afdb2(0x2fb)+_0x216817['getDate']()+_0x2afdb2(0x23c)+_0x324b4c+_0x2afdb2(0x342),_0x29e484['onclick']=()=>openDayOptions(_0x324b4c,_0x3e7639[_0x48aa4c]+'\x20'+_0x216817[_0x2afdb2(0x293)]()),_0x3842fb[_0x2afdb2(0x334)](_0x29e484);const _0x429483=document[_0x2afdb2(0x2df)](_0x2afdb2(0x2c0));_0x429483[_0x2afdb2(0x365)]=_0x2afdb2(0x36b)+(_0x1a714a?_0x2afdb2(0x29e):''),_0x429483[_0x2afdb2(0x314)](_0x2afdb2(0x360),_0x324b4c),_0x429483[_0x2afdb2(0x314)](_0x2afdb2(0x272),_0x48aa4c),renderEventsForColumn(_0x429483,_0x324b4c,_0x48aa4c),attachLongPressHandler(_0x429483,_0x216817),_0x2d7f6a[_0x2afdb2(0x334)](_0x429483),updateDayStats(_0x324b4c);}}function reRenderBlocks(){const _0x3250a9=a2_0x2ab5aa;document['querySelectorAll'](_0x3250a9(0x30d))[_0x3250a9(0x222)](_0x291b94=>{const _0x4f6a52=_0x3250a9;_0x291b94[_0x4f6a52(0x283)](_0x4f6a52(0x369))[_0x4f6a52(0x222)](_0x3d33d8=>_0x3d33d8[_0x4f6a52(0x303)]());const _0x3ebd8c=_0x291b94['getAttribute']('data-date'),_0x3da3dc=parseInt(_0x291b94[_0x4f6a52(0x212)](_0x4f6a52(0x272))),_0x2eb7a1=Math[_0x4f6a52(0x32f)](_0x291b94['offsetLeft']);(availabilityPattern[_0x3da3dc]||[])[_0x4f6a52(0x222)](_0x2f3ede=>{const _0x647a7d=_0x4f6a52,_0xf96c64=document['createElement'](_0x647a7d(0x2c0));_0xf96c64['className']=_0x647a7d(0x2a9);const _0xaf4598=_0x2f3ede*GRID_H;_0xf96c64[_0x647a7d(0x257)][_0x647a7d(0x29c)]=_0xaf4598+'px',_0xf96c64[_0x647a7d(0x257)]['backgroundPosition']='-'+_0x2eb7a1+_0x647a7d(0x261)+_0xaf4598+'px',_0x291b94[_0x647a7d(0x334)](_0xf96c64);});if(specialRanges&&specialRanges[_0x4f6a52(0x299)]>0x0){const _0x23c584=new Date(_0x3ebd8c+_0x4f6a52(0x325))[_0x4f6a52(0x236)](),_0x3de177=new Date(_0x3ebd8c+_0x4f6a52(0x2f3))[_0x4f6a52(0x236)]();specialRanges[_0x4f6a52(0x222)](_0x45b4b3=>{const _0x3e6c88=_0x4f6a52,_0xd58c03=new Date(_0x45b4b3[_0x3e6c88(0x259)])[_0x3e6c88(0x236)](),_0x112b3d=new Date(_0x45b4b3['end'])['getTime'](),_0x467a6c=Math[_0x3e6c88(0x2a6)](_0x23c584,_0xd58c03),_0x178716=Math[_0x3e6c88(0x2d3)](_0x3de177,_0x112b3d);if(_0x467a6c<_0x178716){if(_0x467a6c<=_0x23c584&&_0x178716>=_0x3de177-0xea60){if(!_0x291b94[_0x3e6c88(0x312)](_0x3e6c88(0x2c5))){const _0x5ccd36=document[_0x3e6c88(0x2df)]('div');_0x5ccd36[_0x3e6c88(0x365)]=_0x3e6c88(0x309),_0x5ccd36[_0x3e6c88(0x257)][_0x3e6c88(0x2b8)]='-'+_0x2eb7a1+_0x3e6c88(0x359),_0x291b94[_0x3e6c88(0x334)](_0x5ccd36);}}else{const _0x1bfbbb=(_0x467a6c-_0x23c584)/0x36ee80*GRID_H,_0x487805=(_0x178716-_0x467a6c)/0x36ee80*GRID_H,_0x1f94b4=document[_0x3e6c88(0x2df)](_0x3e6c88(0x2c0));_0x1f94b4[_0x3e6c88(0x365)]=_0x3e6c88(0x2bb),_0x1f94b4['style'][_0x3e6c88(0x29c)]=_0x1bfbbb+'px',_0x1f94b4[_0x3e6c88(0x257)][_0x3e6c88(0x2e1)]=_0x487805+'px',_0x1f94b4[_0x3e6c88(0x257)]['backgroundPosition']='-'+_0x2eb7a1+_0x3e6c88(0x261)+_0x1bfbbb+'px',_0x291b94[_0x3e6c88(0x334)](_0x1f94b4);}}});}if(dateExceptions[_0x3ebd8c]===_0x4f6a52(0x215)){if(!_0x291b94[_0x4f6a52(0x312)](_0x4f6a52(0x2c5))){const _0x2f062b=document[_0x4f6a52(0x2df)](_0x4f6a52(0x2c0));_0x2f062b[_0x4f6a52(0x365)]=_0x4f6a52(0x309),_0x2f062b['style'][_0x4f6a52(0x2b8)]='-'+_0x2eb7a1+_0x4f6a52(0x359),_0x291b94['appendChild'](_0x2f062b);}}renderEventsForColumn(_0x291b94,_0x3ebd8c,_0x3da3dc),updateDayStats(_0x3ebd8c);});}function updateAllDayStats(){const _0x100fc2=a2_0x2ab5aa;document['querySelectorAll'](_0x100fc2(0x2a4))[_0x100fc2(0x222)](_0x1fe9d7=>{const _0x249f60=_0x100fc2;updateDayStats(_0x1fe9d7[_0x249f60(0x212)](_0x249f60(0x360)));});}function updateDayStats(_0x306d1c){const _0x438fd8=a2_0x2ab5aa,_0x1f6c22=document['getElementById']('stat-'+_0x306d1c);if(!_0x1f6c22)return;const _0x133257=new Date(_0x306d1c);let _0x1acf7c=_0x133257['getDay']()-0x1;if(_0x1acf7c===-0x1)_0x1acf7c=0x6;if(dateExceptions[_0x306d1c]===_0x438fd8(0x215)){_0x1f6c22['style'][_0x438fd8(0x30a)]='none';return;}const _0x347a3b=availabilityPattern[_0x1acf7c]||[],_0x58ab90=0x18-_0x347a3b[_0x438fd8(0x299)],_0x3b8c8a=_0x58ab90*0x3c,_0x40d049=sessions[_0x438fd8(0x2d5)](_0x17b298=>_0x17b298[_0x438fd8(0x2b0)]===_0x306d1c&&_0x17b298['status']!==_0x438fd8(0x2bd));if(_0x40d049[_0x438fd8(0x299)]===0x0){_0x1f6c22['style'][_0x438fd8(0x30a)]='none';return;}let _0x544473=_0x40d049[_0x438fd8(0x2f7)](_0x3a9a97=>{const _0xe513b7=_0x438fd8,[_0x3cf9fb,_0x29fe33]=_0x3a9a97[_0xe513b7(0x259)][_0xe513b7(0x341)](':')[_0xe513b7(0x2f7)](Number),[_0x5ee078,_0xdcca51]=_0x3a9a97['end']['split'](':')[_0xe513b7(0x2f7)](Number);return[_0x3cf9fb*0x3c+_0x29fe33,_0x5ee078*0x3c+_0xdcca51];});_0x544473[_0x438fd8(0x311)]((_0x1d0188,_0x54d9e1)=>_0x1d0188[0x0]-_0x54d9e1[0x0]);let _0x921c81=[];if(_0x544473[_0x438fd8(0x299)]>0x0){let _0x180d09=_0x544473[0x0];for(let _0x5bc3dd=0x1;_0x5bc3dd<_0x544473[_0x438fd8(0x299)];_0x5bc3dd++){_0x544473[_0x5bc3dd][0x0]<_0x180d09[0x1]?_0x180d09[0x1]=Math[_0x438fd8(0x2a6)](_0x180d09[0x1],_0x544473[_0x5bc3dd][0x1]):(_0x921c81[_0x438fd8(0x31b)](_0x180d09),_0x180d09=_0x544473[_0x5bc3dd]);}_0x921c81[_0x438fd8(0x31b)](_0x180d09);}let _0x4e5913=0x0;_0x921c81[_0x438fd8(0x222)](_0x3b02ec=>_0x4e5913+=_0x3b02ec[0x1]-_0x3b02ec[0x0]),_0x1f6c22['style'][_0x438fd8(0x30a)]=_0x438fd8(0x258);const _0x21bb2c=_0x1f6c22[_0x438fd8(0x312)]('.dch-stats-fill');if(_0x3b8c8a===0x0){_0x21bb2c[_0x438fd8(0x257)]['width']=_0x438fd8(0x28f),_0x21bb2c[_0x438fd8(0x257)][_0x438fd8(0x214)]=_0x438fd8(0x33d);return;}const _0x5c50f1=_0x4e5913/_0x3b8c8a*0x64;console[_0x438fd8(0x25f)]('['+_0x306d1c+']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20'+_0x58ab90+_0x438fd8(0x328)+_0x4e5913+_0x438fd8(0x35a)+_0x5c50f1[_0x438fd8(0x2cc)](0x1)+'%'),_0x5c50f1>0x64?(_0x21bb2c[_0x438fd8(0x257)][_0x438fd8(0x274)]='100%',_0x21bb2c[_0x438fd8(0x257)]['background']='var(--acc-red)'):(_0x21bb2c[_0x438fd8(0x257)][_0x438fd8(0x274)]=_0x5c50f1+'%',_0x21bb2c['style']['background']=_0x438fd8(0x28d));}function renderEventsForColumn(_0x41c236,_0x47fd8c,_0x1bf516){const _0x47bf25=a2_0x2ab5aa,_0x13e553=sessions[_0x47bf25(0x2d5)](_0x1b3595=>_0x1b3595['dateStr']===_0x47fd8c),_0x2bcf09=_0x13e553[_0x47bf25(0x2f7)](_0x4f7444=>{const _0x248050=_0x47bf25,[_0x721cf7,_0x1d14e5]=_0x4f7444['start'][_0x248050(0x341)](':')[_0x248050(0x2f7)](Number),[_0xbb2407,_0x5ba988]=_0x4f7444[_0x248050(0x238)]['split'](':')[_0x248050(0x2f7)](Number);return{'data':_0x4f7444,'start':_0x721cf7*0x3c+_0x1d14e5,'end':_0xbb2407*0x3c+_0x5ba988,'colIndex':0x0};});_0x2bcf09[_0x47bf25(0x311)]((_0x3159bf,_0x50eff9)=>{const _0x3168b0=_0x47bf25;if(_0x3159bf[_0x3168b0(0x259)]!==_0x50eff9['start'])return _0x3159bf[_0x3168b0(0x259)]-_0x50eff9[_0x3168b0(0x259)];return _0x50eff9[_0x3168b0(0x238)]-_0x50eff9[_0x3168b0(0x259)]-(_0x3159bf['end']-_0x3159bf[_0x3168b0(0x259)]);});const _0x54f2ed=[];_0x2bcf09[_0x47bf25(0x222)](_0x13908c=>{const _0x2cf12a=_0x47bf25;let _0xc1261d=![];for(let _0x50ecae=0x0;_0x50ecae<_0x54f2ed[_0x2cf12a(0x299)];_0x50ecae++){const _0x2a10fe=_0x54f2ed[_0x50ecae],_0x3aa53c=_0x2a10fe[_0x2a10fe['length']-0x1];if(_0x13908c[_0x2cf12a(0x259)]>=_0x3aa53c[_0x2cf12a(0x238)]){_0x2a10fe[_0x2cf12a(0x31b)](_0x13908c),_0x13908c[_0x2cf12a(0x319)]=_0x50ecae,_0xc1261d=!![];break;}}!_0xc1261d&&(_0x54f2ed[_0x2cf12a(0x31b)]([_0x13908c]),_0x13908c['colIndex']=_0x54f2ed['length']-0x1);}),_0x2bcf09['forEach'](_0x56974e=>{const _0x11c5bf=_0x47bf25;let _0x480c60=0x0;_0x2bcf09[_0x11c5bf(0x222)](_0x43d053=>{const _0x262b69=_0x11c5bf;if(Math['max'](_0x56974e[_0x262b69(0x259)],_0x43d053[_0x262b69(0x259)])<Math['min'](_0x56974e[_0x262b69(0x238)],_0x43d053[_0x262b69(0x238)])){if(_0x43d053[_0x262b69(0x319)]>_0x480c60)_0x480c60=_0x43d053['colIndex'];}});const _0x566052=_0x480c60+0x1,_0x3ca452=0x64/_0x566052,_0x101e93=_0x56974e[_0x11c5bf(0x319)]*_0x3ca452,_0x3067df=createEventEl(_0x56974e['data']);_0x3067df[_0x11c5bf(0x257)]['width']='calc('+_0x3ca452+'%\x20-\x204px)',_0x3067df[_0x11c5bf(0x257)][_0x11c5bf(0x25e)]='calc('+_0x101e93+_0x11c5bf(0x237),_0x3067df[_0x11c5bf(0x257)]['zIndex']=0xa+_0x56974e['colIndex'],_0x3ca452<0x55&&_0x3067df['classList'][_0x11c5bf(0x295)](_0x11c5bf(0x2de)),_0x41c236['appendChild'](_0x3067df);});}function createEventEl(_0x395ea3){const _0x26514f=a2_0x2ab5aa,[_0x6ba38d,_0x4b5056]=_0x395ea3['start'][_0x26514f(0x341)](':')[_0x26514f(0x2f7)](Number),[_0x1e0961,_0x513448]=_0x395ea3[_0x26514f(0x238)][_0x26514f(0x341)](':')[_0x26514f(0x2f7)](Number),_0x386878=(_0x6ba38d*0x3c+_0x4b5056)/0x3c*GRID_H,_0x10896f=(_0x1e0961*0x3c+_0x513448-(_0x6ba38d*0x3c+_0x4b5056))/0x3c*GRID_H,_0x5e2ab7=document[_0x26514f(0x2df)](_0x26514f(0x2c0)),_0x242fb8=_0x395ea3[_0x26514f(0x28a)]===_0x26514f(0x290)?_0x26514f(0x263):'';_0x5e2ab7[_0x26514f(0x365)]=_0x26514f(0x267)+_0x242fb8,_0x5e2ab7[_0x26514f(0x257)][_0x26514f(0x29c)]=_0x386878+'px',_0x5e2ab7[_0x26514f(0x257)]['height']=Math[_0x26514f(0x2a6)](_0x10896f,0x14)+'px';const _0x74f9d1=clients['find'](_0x5280c4=>_0x395ea3[_0x26514f(0x219)]&&String(_0x5280c4['id'])===String(_0x395ea3['clientId'])||_0x5280c4['name']===_0x395ea3[_0x26514f(0x2c8)]),_0x7847c8=_0x74f9d1?_0x74f9d1[_0x26514f(0x30c)]:_0x26514f(0x223);_0x5e2ab7[_0x26514f(0x257)][_0x26514f(0x284)]=_0x7847c8,_0x5e2ab7['style'][_0x26514f(0x220)]=hexToRgba(_0x7847c8,0.85);let _0x3bdea9=_0x26514f(0x22d)+_0x395ea3[_0x26514f(0x2c8)]+_0x26514f(0x202)+_0x395ea3[_0x26514f(0x259)]+_0x26514f(0x227)+_0x395ea3['end']+'</div>';return _0x395ea3[_0x26514f(0x277)]&&(_0x3bdea9+=_0x26514f(0x281)),_0x395ea3[_0x26514f(0x28a)]===_0x26514f(0x290)&&(_0x3bdea9+=_0x26514f(0x24f)),_0x5e2ab7[_0x26514f(0x337)]=_0x3bdea9,_0x5e2ab7[_0x26514f(0x255)]=_0x16be6b=>{const _0x59c932=_0x26514f;_0x16be6b[_0x59c932(0x23a)](),openEdit(_0x395ea3);},_0x5e2ab7;}function attachLongPressHandler(_0x2bae47,_0x30dc30){const _0x4fe8c2=a2_0x2ab5aa;let _0x156778=0x0,_0x1906d6=null;const _0x334047=_0x4c56eb=>{const _0xaba5e0=a2_0x4877;if(_0x4c56eb[_0xaba5e0(0x2d2)][_0xaba5e0(0x250)](_0xaba5e0(0x2e9)))return;isScrolling=![],_0x156778=_0x4c56eb[_0xaba5e0(0x25a)]?_0x4c56eb[_0xaba5e0(0x25a)][0x0]['clientY']:_0x4c56eb['clientY'],_0x1906d6=setTimeout(()=>{const _0x57c8a4=_0xaba5e0;if(!isScrolling){navigator['vibrate']?.(0x32);const _0x4163e6=_0x2bae47[_0x57c8a4(0x31a)](),_0x56629d=Math['floor']((_0x156778-_0x4163e6[_0x57c8a4(0x29c)])/GRID_H);_0x30dc30['setHours'](_0x56629d,0x0),openAddSession(_0x30dc30);}},0x1f4);},_0x3d9e99=()=>{isScrolling=!![],clearTimeout(_0x1906d6);},_0x4e88bf=()=>{clearTimeout(_0x1906d6);};_0x2bae47[_0x4fe8c2(0x2b1)](_0x4fe8c2(0x34b),_0x334047,{'passive':!![]}),_0x2bae47[_0x4fe8c2(0x2b1)](_0x4fe8c2(0x2aa),_0x3d9e99,{'passive':!![]}),_0x2bae47[_0x4fe8c2(0x2b1)]('touchend',_0x4e88bf),_0x2bae47[_0x4fe8c2(0x2b1)]('mousedown',_0x334047),_0x2bae47[_0x4fe8c2(0x2b1)]('mousemove',_0x3d9e99),_0x2bae47[_0x4fe8c2(0x2b1)]('mouseup',_0x4e88bf);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x1ede3e=a2_0x2ab5aa,_0x435e29=document[_0x1ede3e(0x2c9)](_0x1ede3e(0x296)),_0x573df6=_0x435e29[_0x1ede3e(0x317)],_0x210644=_0x435e29[_0x1ede3e(0x2e4)],_0x70310f=_0x435e29[_0x1ede3e(0x24b)];if(_0x210644-(_0x573df6+_0x70310f)<0x12c){const _0x52c56d=endOffset;endOffset+=0xe,renderDayRange(_0x52c56d+0x1,endOffset),reRenderBlocks();}if(_0x573df6<0x12c){const _0x5d255c=startOffset;startOffset-=0xe,prependDays(startOffset,_0x5d255c-0x1),_0x435e29[_0x1ede3e(0x317)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x17ee11,_0x2f0574){const _0xe66796=a2_0x2ab5aa,_0x10af25=document[_0xe66796(0x2c9)]('daysHeaderTrack'),_0xf6bdc=document[_0xe66796(0x2c9)](_0xe66796(0x343)),_0x272507=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x4c2311=new Date();_0x4c2311[_0xe66796(0x24a)](0x0,0x0,0x0,0x0);const _0x1690aa=getLocalDateStr(new Date()),_0x2fff72=document[_0xe66796(0x21a)](),_0x7fe749=document[_0xe66796(0x21a)]();for(let _0x30a892=_0x17ee11;_0x30a892<=_0x2f0574;_0x30a892++){const _0x34b902=new Date(_0x4c2311);_0x34b902[_0xe66796(0x34c)](_0x34b902['getDate']()+_0x30a892);const _0x55bd0a=getLocalDateStr(_0x34b902);let _0x4e88be=_0x34b902['getDay']()-0x1;if(_0x4e88be===-0x1)_0x4e88be=0x6;const _0x3fd4da=_0x55bd0a===_0x1690aa,_0x185c6d=document[_0xe66796(0x2df)](_0xe66796(0x2c0));_0x185c6d['className']=_0xe66796(0x340)+(_0x3fd4da?'today':''),_0x185c6d['id']=_0xe66796(0x2db)+_0x55bd0a,_0x185c6d[_0xe66796(0x314)]('data-date',_0x55bd0a),_0x185c6d[_0xe66796(0x337)]=_0xe66796(0x2d0)+_0x272507[_0x4e88be]+'</div><div\x20class=\x22dch-num\x22>'+_0x34b902[_0xe66796(0x293)]()+_0xe66796(0x23c)+_0x55bd0a+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x185c6d[_0xe66796(0x255)]=()=>openDayOptions(_0x55bd0a,_0x272507[_0x4e88be]+'\x20'+_0x34b902['getDate']()),_0x2fff72[_0xe66796(0x334)](_0x185c6d);const _0x33e3d4=document['createElement'](_0xe66796(0x2c0));_0x33e3d4[_0xe66796(0x365)]=_0xe66796(0x36b)+(_0x3fd4da?'today':''),_0x33e3d4[_0xe66796(0x314)](_0xe66796(0x360),_0x55bd0a),_0x33e3d4[_0xe66796(0x314)]('data-day-idx',_0x4e88be),renderEventsForColumn(_0x33e3d4,_0x55bd0a,_0x4e88be),attachLongPressHandler(_0x33e3d4,_0x34b902),_0x7fe749[_0xe66796(0x334)](_0x33e3d4),updateDayStats(_0x55bd0a);}_0x10af25[_0xe66796(0x2a3)](_0x2fff72,_0x10af25[_0xe66796(0x348)]),_0xf6bdc['insertBefore'](_0x7fe749,_0xf6bdc[_0xe66796(0x312)](_0xe66796(0x2c1)));}function validateAppointment(_0x32a075,_0x73567b,_0x406ff1,_0x3e2bb1,_0xf24f17){const _0x2ca55d=a2_0x2ab5aa,[_0x13055b,_0x17aba0]=_0x73567b['split'](':')[_0x2ca55d(0x2f7)](Number),[_0x3a8594,_0x354e2f]=_0x406ff1[_0x2ca55d(0x341)](':')[_0x2ca55d(0x2f7)](Number),_0x5eb670=_0x13055b*0x3c+_0x17aba0,_0x591864=_0x3a8594*0x3c+_0x354e2f,_0x36e1ca=String(_0xf24f17);let _0x157202=![],_0x3a5faa='';for(let _0x245f5e of sessions){if(_0x245f5e['dateStr']!==_0x32a075)continue;if(_0x245f5e[_0x2ca55d(0x28a)]===_0x2ca55d(0x2bd))continue;if(_0x3e2bb1&&String(_0x245f5e['id'])===String(_0x3e2bb1))continue;const [_0x36d67d,_0x80e59]=_0x245f5e['start'][_0x2ca55d(0x341)](':')['map'](Number),[_0x4008a0,_0x36463a]=_0x245f5e[_0x2ca55d(0x238)][_0x2ca55d(0x341)](':')['map'](Number),_0xac49b1=_0x36d67d*0x3c+_0x80e59,_0x4b878c=_0x4008a0*0x3c+_0x36463a;if(Math[_0x2ca55d(0x2a6)](_0x5eb670,_0xac49b1)<Math['min'](_0x591864,_0x4b878c)){if(_0x245f5e[_0x2ca55d(0x219)]&&String(_0x245f5e[_0x2ca55d(0x219)])===_0x36e1ca)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0x245f5e['client']+_0x2ca55d(0x31c)};_0x157202=!![],_0x3a5faa=_0x245f5e[_0x2ca55d(0x2c8)];}}if(_0x157202)return{'valid':!![],'warning':_0x2ca55d(0x2a0)+_0x3a5faa};return{'valid':!![]};}function updateDateDisplay(){const _0x127ed8=a2_0x2ab5aa,_0x192da8=document[_0x127ed8(0x2c9)]('inpDate')[_0x127ed8(0x1f4)],_0x53abf4=document['getElementById'](_0x127ed8(0x260));if(!_0x192da8){_0x53abf4['textContent']='';return;}const [_0x539b18,_0x4f6718,_0x551feb]=_0x192da8['split']('-')[_0x127ed8(0x2f7)](Number),_0x397d77=new Date(_0x539b18,_0x4f6718-0x1,_0x551feb),_0x1aff59={'weekday':'long','day':'numeric','month':_0x127ed8(0x203),'year':'numeric'};let _0x436f1d=_0x397d77[_0x127ed8(0x32a)]('ru-RU',_0x1aff59);_0x436f1d=_0x436f1d[_0x127ed8(0x29d)](0x0)[_0x127ed8(0x2fe)]()+_0x436f1d[_0x127ed8(0x301)](0x1),_0x53abf4[_0x127ed8(0x2d1)]=_0x436f1d;}function autoSetEndTime(){const _0x40ca11=a2_0x2ab5aa,_0x52bced=document[_0x40ca11(0x2c9)](_0x40ca11(0x24e))[_0x40ca11(0x1f4)];if(!_0x52bced)return;const [_0x42b1f8,_0x393859]=_0x52bced[_0x40ca11(0x341)](':')[_0x40ca11(0x2f7)](Number);let _0x2a93fd=_0x42b1f8+0x1;if(_0x2a93fd>0x17)_0x2a93fd=0x0;const _0x5e17b8=String(_0x2a93fd)[_0x40ca11(0x2fa)](0x2,'0')+':'+String(_0x393859)['padStart'](0x2,'0');document[_0x40ca11(0x2c9)](_0x40ca11(0x254))['value']=_0x5e17b8;}function populateClientSelect(){const _0x1ccb14=a2_0x2ab5aa,_0x59a1d8=document[_0x1ccb14(0x2c9)](_0x1ccb14(0x29f));_0x59a1d8[_0x1ccb14(0x337)]='';if(clients[_0x1ccb14(0x299)]===0x0){const _0x11e9d8=document[_0x1ccb14(0x2df)](_0x1ccb14(0x2cd));_0x11e9d8[_0x1ccb14(0x23e)]=_0x1ccb14(0x22b),_0x59a1d8[_0x1ccb14(0x334)](_0x11e9d8);return;}clients[_0x1ccb14(0x222)](_0x13cc73=>{const _0x76701e=_0x1ccb14,_0x1916ef=document[_0x76701e(0x2df)]('option');_0x1916ef[_0x76701e(0x1f4)]=_0x13cc73[_0x76701e(0x268)],_0x1916ef[_0x76701e(0x2d1)]=_0x13cc73[_0x76701e(0x268)],_0x59a1d8[_0x76701e(0x334)](_0x1916ef);});}function openActionSheet(_0x4e2aba){const _0x5b63ec=a2_0x2ab5aa,_0x290190=document[_0x5b63ec(0x2c9)](_0x5b63ec(0x36c)),_0x4bc935=document[_0x5b63ec(0x2c9)](_0x5b63ec(0x21d)),_0x35f163=document[_0x5b63ec(0x2c9)]('asTitle'),_0x59f722=document['getElementById'](_0x5b63ec(0x35d)),_0x4bd075=document[_0x5b63ec(0x2c9)](_0x5b63ec(0x213));_0x4bc935[_0x5b63ec(0x30b)][_0x5b63ec(0x295)](_0x5b63ec(0x2bc)),_0x290190[_0x5b63ec(0x30b)][_0x5b63ec(0x295)](_0x5b63ec(0x356));if(_0x4e2aba===_0x5b63ec(0x332))_0x35f163[_0x5b63ec(0x2d1)]=_0x5b63ec(0x217),_0x59f722[_0x5b63ec(0x2d1)]='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x59f722['onclick']=()=>{const _0x494e53=_0x5b63ec;closeActionSheet(),updateSeriesBatch(_0x494e53(0x2a2),tempSessionData);},_0x4bd075[_0x5b63ec(0x2d1)]=_0x5b63ec(0x2a8),_0x4bd075[_0x5b63ec(0x255)]=()=>{const _0x3d73c5=_0x5b63ec;closeActionSheet(),updateSeriesBatch(_0x3d73c5(0x2ab),tempSessionData);};else _0x4e2aba===_0x5b63ec(0x208)&&(_0x35f163[_0x5b63ec(0x2d1)]=_0x5b63ec(0x28e),_0x59f722[_0x5b63ec(0x2d1)]=_0x5b63ec(0x36a),_0x59f722[_0x5b63ec(0x365)]=_0x5b63ec(0x1f9),_0x59f722[_0x5b63ec(0x255)]=()=>{const _0x55ca00=_0x5b63ec;closeActionSheet(),commitDelete('single',sessions[_0x55ca00(0x248)](_0xc548a7=>_0xc548a7['id']===editingId));},_0x4bd075[_0x5b63ec(0x2d1)]=_0x5b63ec(0x2a8),_0x4bd075[_0x5b63ec(0x365)]=_0x5b63ec(0x367),_0x4bd075['onclick']=()=>{closeActionSheet(),commitDelete('series',sessions['find'](_0x5aed32=>_0x5aed32['id']===editingId));});}function closeActionSheet(){const _0x25e68b=a2_0x2ab5aa;document[_0x25e68b(0x2c9)]('actionSheet')[_0x25e68b(0x30b)][_0x25e68b(0x303)](_0x25e68b(0x356)),document['getElementById'](_0x25e68b(0x21d))[_0x25e68b(0x30b)][_0x25e68b(0x303)]('active');}function openSettings(){openSheet('settingsSheet');}function saveCoachSettings(){const _0x1fc1c5=a2_0x2ab5aa,_0x243bbd=document[_0x1fc1c5(0x2c9)](_0x1fc1c5(0x2cf))[_0x1fc1c5(0x1f4)];localStorage['setItem'](_0x1fc1c5(0x25b),_0x243bbd),console[_0x1fc1c5(0x25f)](_0x1fc1c5(0x27d),_0x243bbd),DataManager[_0x1fc1c5(0x2ed)]('save_settings',{'settings':{'cancel_window':_0x243bbd}})[_0x1fc1c5(0x235)](_0x297bce=>{const _0xa1202f=_0x1fc1c5;console[_0xa1202f(0x265)]('Save\x20settings\x20error:',_0x297bce),showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫',![]);});}function a2_0x10dc(){const _0x22e21a=['uc_sessions_v9','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','range-item','Error\x20setting\x20color:','T00:00:00','rangeEndDate','toString','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','btnStatusToggle','toLocaleDateString',':00</span>','Error\x20setting\x20back\x20button:','rangeStartTime','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','round','search','keys','save','...','appendChild','strokeDashoffset','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','innerHTML','pattern','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','toLocaleString','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','var(--acc-red)','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','dayOptionsTitle','day-col-header\x20','split','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','gridColumns','.pib-text','disableVerticalSwipes','[API\x20','rgba(255,255,255,0.05)','firstChild','show','then','touchstart','setDate','Local\x20Save\x20Error','.sheet','anTotalStats','initDataUnsafe','send','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','doDateHeader','Batch\x20Sync\x20OK','open','getFullYear','setHeaderColor','px\x200px','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','rgba(255,\x20159,\x2010,\x200.3)','headerMonth','asBtnOne','entries','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','data-date','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','doBusyHours','doLoadPercent','ranges','className','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','as-button\x20danger\x20bold','localeCompare','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','day-column\x20','actionSheet','value','complete','569481fcJTjm','sessionSheet','expand','as-button\x20danger','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','getMonth','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','toast-notification\x20','note','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','scrollTop','</div><div\x20class=\x22ev-time\x22>','long','offsetLeft','setItem','rgba(255,\x2069,\x2058,\x200.15)','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','delete','1793862gnOJSb','update','recurringOptionContainer','stringify','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','dayOptionsSheet','cancel','anStart','btn-primary\x20btn-secondary','getAttribute','asBtnSeries','background','off','getMinutes','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','uc_settings_v9','clientId','createDocumentFragment','init_load','toast','actionSheetOverlay','planned','borderColor','backgroundColor','json','forEach','#0a84ff','.period-switch\x20.p-btn','#fff','inpDate','\x20-\x20','10px\x2010px\x200\x200','findIndex','getHours','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','done','<div\x20class=\x22ev-title\x22>','WebApp','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','now','btnDelete','undefined','toastTitle','user','catch','getTime','%\x20+\x202px)','end','parse','stopPropagation','rangesList','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','text','2700ldaxbP','formatDate','var(--acc-green)','setMonth','850184ZHBeWD','warn',':\x20Client\x20already\x20booked','floor','peGrid','find','4JUxhpC','setHours','clientWidth','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','[Notify]\x20Server\x20Response:','inpStart','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','closest','toastMessage','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','inpNote','inpEnd','onclick','from','style','flex','start','touches','uc_settings_cancel_window','ready','[Notify]\x20Client\x20SWAP\x20detected','left','log','sheetDateSubtitle','px\x20-','isArray','\x20status-completed','#050505','error','–ò–Ω—Ñ–æ','event-card','name','timeLineBadge','ru-RU','(((.+)+)+)+$','valid','</b>\x0a\x0a','timeColumn','anEnd','de-item','setBackgroundColor','data-day-idx','btn-primary\x20btn-danger','width','save_settings','exceptions','seriesId',']\x20Failed:','\x20–∏–∑\x20','includes','[Series]\x20Skipped\x20','patternInfoBox','[Settings]\x20Cancel\x20window\x20set\x20to:','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','Telegram','cancel_window','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','send_notification','querySelectorAll','borderLeftColor','msg','<span>','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','mergeServerData','10vhdZqv','status','btn-status-toggle','startsWith','var(--acc-current)','–£–¥–∞–ª–µ–Ω–∏–µ','100%','completed','1265712spQIcF','offsetWidth','getDate','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','add','matrixViewport','analyticsList','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','length','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','BackButton','top','charAt','today','inpClient','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','rgba(48,\x20209,\x2088,\x200.15)','single','insertBefore','.day-col-header','borderRadius','max','clients','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','blocked-slot\x20stripe-bg','touchmove','series','inpSeriesCount','\x20‚Äî\x20','89355hYoAtz','checked','dateStr','addEventListener','Unknown','–£—Å–ø–µ—à–Ω–æ','onClick','saveLocally','overlay','[Notify]\x20Error:\x20Text\x20generation\x20failed','backgroundPosition','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','\x20days','blocked-range-part\x20stripe-bg','active','cancelled','globalTimeLine','doEventsList','div','.day-column','rangeEndTime','887310cGWsxb','href','.day-off-overlay','[Notify]\x20Detected\x20Client\x20ID:','sid','client','getElementById','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','inpRecurring','toFixed','option','v9.0-BATCH-CALENDAR','settingCancelWindow','<div\x20class=\x22dch-day\x22>','textContent','target','min','seriesCountContainer','filter','syncBatch','apply','Local\x20Load\x20Error','numeric','indexOf','header-','getDay','substr','mini','createElement','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','height','calendar','patternEditor','scrollWidth','7dlgSpn','rgba(100,100,100,0.5)',':00','pe-time-label','.event-card','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','sheetTitle','fetchFromServer','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','all','custom','client-stat-card','var(--acc-orange)','T23:59:59','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','splice','map','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','padStart','</div><div\x20class=\x22dch-num\x22>','anCustomDates','week','toUpperCase','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rangeStartDate','slice','btn-status-toggle\x20undo-mode','remove','total','POST','getItem','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','Server\x20Error','day-off-overlay\x20stripe-bg','display','classList','color','#gridColumns\x20.day-column','none','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','rgba(255,\x2069,\x2058,\x200.3)','sort','querySelector','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','setAttribute','block','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','scrollLeft','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','colIndex','getBoundingClientRect','push',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','settings','anDonutCircle','create','getText'];a2_0x10dc=function(){return _0x22e21a;};return a2_0x10dc();}function loadCoachSettings(){const _0x30e021=a2_0x2ab5aa,_0x423c29=localStorage[_0x30e021(0x306)]('uc_settings_cancel_window');_0x423c29&&(document[_0x30e021(0x2c9)](_0x30e021(0x2cf))['value']=_0x423c29);}function openRangesSheet(){closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet('rangesSheet');}function addRange(){const _0x55be7f=a2_0x2ab5aa,_0x505768=document[_0x55be7f(0x2c9)]('rangeStartDate')['value'],_0x37b0e4=document['getElementById'](_0x55be7f(0x32d))[_0x55be7f(0x1f4)],_0x4f9121=document[_0x55be7f(0x2c9)](_0x55be7f(0x326))[_0x55be7f(0x1f4)],_0x385801=document[_0x55be7f(0x2c9)](_0x55be7f(0x2c2))[_0x55be7f(0x1f4)];if(!_0x505768||!_0x37b0e4||!_0x4f9121||!_0x385801)return alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è');const _0x322f5c=_0x505768+'T'+_0x37b0e4,_0x5309ee=_0x4f9121+'T'+_0x385801;if(_0x322f5c>=_0x5309ee)return alert('–û—à–∏–±–∫–∞\x20–¥–∞—Ç');specialRanges[_0x55be7f(0x31b)]({'start':_0x322f5c,'end':_0x5309ee}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x55be7f(0x2b5)](),DataManager[_0x55be7f(0x2ed)]('save_settings',{'settings':{'ranges':specialRanges}});}function deleteRange(_0x28c30d){const _0x1b0436=a2_0x2ab5aa;specialRanges[_0x1b0436(0x2f6)](_0x28c30d,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x1b0436(0x2b5)](),DataManager['fetchFromServer'](_0x1b0436(0x275),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x1ca793=a2_0x2ab5aa;document[_0x1ca793(0x2c9)](_0x1ca793(0x300))[_0x1ca793(0x1f4)]='',document[_0x1ca793(0x2c9)](_0x1ca793(0x32d))[_0x1ca793(0x1f4)]='00:00',document[_0x1ca793(0x2c9)]('rangeEndDate')[_0x1ca793(0x1f4)]='',document[_0x1ca793(0x2c9)]('rangeEndTime')['value']='23:59';}function renderRangesList(){const _0x5a98a9=a2_0x2ab5aa,_0x34f77e=document[_0x5a98a9(0x2c9)](_0x5a98a9(0x23b));_0x34f77e[_0x5a98a9(0x337)]='';if(!specialRanges['length']){_0x34f77e[_0x5a98a9(0x337)]=_0x5a98a9(0x30f);return;}specialRanges[_0x5a98a9(0x222)]((_0x220dac,_0x177223)=>{const _0x1ffa63=_0x5a98a9,_0x3e5a32=document[_0x1ffa63(0x2df)]('div');_0x3e5a32[_0x1ffa63(0x365)]=_0x1ffa63(0x323);const _0x2d67a6=_0x486317=>{const _0x43533d=_0x1ffa63,_0x4bd2d2=new Date(_0x486317);return _0x4bd2d2[_0x43533d(0x293)]()+'.'+String(_0x4bd2d2[_0x43533d(0x1fb)]()+0x1)[_0x43533d(0x2fa)](0x2,'0')+'\x20'+String(_0x4bd2d2[_0x43533d(0x22a)]())['padStart'](0x2,'0')+':'+String(_0x4bd2d2['getMinutes']())[_0x43533d(0x2fa)](0x2,'0');};_0x3e5a32[_0x1ffa63(0x337)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>'+_0x2d67a6(_0x220dac[_0x1ffa63(0x259)])+_0x1ffa63(0x2ad)+_0x2d67a6(_0x220dac[_0x1ffa63(0x238)])+_0x1ffa63(0x287)+_0x177223+')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>',_0x34f77e['appendChild'](_0x3e5a32);});}function scrollToToday(){const _0x1bd976=a2_0x2ab5aa,_0x403f90=getLocalDateStr(new Date()),_0x34f51d=document['getElementById'](_0x1bd976(0x2db)+_0x403f90),_0x31847e=document[_0x1bd976(0x2c9)](_0x1bd976(0x296));if(_0x34f51d&&_0x31847e){const _0x185159=_0x31847e['clientWidth'],_0x10fb80=_0x34f51d['offsetLeft'],_0x43ab62=_0x34f51d[_0x1bd976(0x292)];_0x31847e[_0x1bd976(0x317)]=_0x10fb80-_0x185159/0x2+_0x43ab62/0x2,_0x31847e[_0x1bd976(0x201)]=0x9*GRID_H;}}function onScroll(){const _0x46db89=a2_0x2ab5aa,_0x1019f8=document[_0x46db89(0x2c9)]('matrixViewport'),_0x4cdaef=document['querySelectorAll'](_0x46db89(0x2a4));for(let _0x5f3320 of _0x4cdaef)if(_0x5f3320[_0x46db89(0x204)]>=_0x1019f8['scrollLeft']){const _0x6e9dbf=new Date(_0x5f3320[_0x46db89(0x212)](_0x46db89(0x360)));document[_0x46db89(0x2c9)](_0x46db89(0x35c))['textContent']=_0x6e9dbf[_0x46db89(0x33a)]('ru',{'month':_0x46db89(0x203)})['toUpperCase']()+'\x20'+_0x6e9dbf[_0x46db89(0x357)]();break;}}function showToast(_0x1dfd61,_0x2cc764=![]){const _0x14a87d=a2_0x2ab5aa,_0xf89a4e=document[_0x14a87d(0x2c9)](_0x14a87d(0x21c));_0xf89a4e['className']=_0x14a87d(0x1fd)+(_0x2cc764?'success':''),document[_0x14a87d(0x2c9)](_0x14a87d(0x233))[_0x14a87d(0x2d1)]=_0x2cc764?_0x14a87d(0x2b3):_0x14a87d(0x266),document['getElementById'](_0x14a87d(0x251))['textContent']=_0x1dfd61,_0xf89a4e[_0x14a87d(0x30b)][_0x14a87d(0x295)](_0x14a87d(0x349)),setTimeout(()=>{const _0x131ef3=_0x14a87d;_0xf89a4e[_0x131ef3(0x30b)]['remove'](_0x131ef3(0x349));},0xbb8);}function openDayOptions(_0x8810c8,_0x47a355){const _0x165038=a2_0x2ab5aa;selectedDayForOptions=_0x8810c8,document[_0x165038(0x2c9)](_0x165038(0x33f))[_0x165038(0x2d1)]=_0x47a355,openSheet(_0x165038(0x20e));}function toggleDayOff(){const _0xbf4234=a2_0x2ab5aa;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0xbf4234(0x215),reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager[_0xbf4234(0x2ed)]('save_settings',{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x2103ff=a2_0x2ab5aa;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x2103ff(0x2b5)](),DataManager[_0x2103ff(0x2ed)](_0x2103ff(0x275),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x2cff20){const _0x114983=a2_0x2ab5aa;document[_0x114983(0x2c9)](_0x114983(0x2b6))[_0x114983(0x30b)][_0x114983(0x295)](_0x114983(0x2bc)),document[_0x114983(0x2c9)](_0x2cff20)[_0x114983(0x30b)][_0x114983(0x295)](_0x114983(0x356));}function closeAllSheets(){const _0x591ca1=a2_0x2ab5aa;document[_0x591ca1(0x2c9)](_0x591ca1(0x2b6))['classList']['remove'](_0x591ca1(0x2bc)),document[_0x591ca1(0x283)](_0x591ca1(0x34e))[_0x591ca1(0x222)](_0x40eb84=>_0x40eb84[_0x591ca1(0x30b)][_0x591ca1(0x303)]('open'));}function openPatternEditor(){const _0x5514f5=a2_0x2ab5aa;closeAllSheets(),document['getElementById'](_0x5514f5(0x2e3))['classList'][_0x5514f5(0x295)]('open'),renderPatternEditor();}function closePatternEditor(){const _0x572437=a2_0x2ab5aa;document[_0x572437(0x2c9)](_0x572437(0x2e3))['classList'][_0x572437(0x303)](_0x572437(0x356));}function savePattern(){const _0x2d08fc=a2_0x2ab5aa;document[_0x2d08fc(0x2c9)](_0x2d08fc(0x2e3))[_0x2d08fc(0x30b)]['remove'](_0x2d08fc(0x356)),reRenderBlocks(),DataManager[_0x2d08fc(0x2b5)](),DataManager[_0x2d08fc(0x2ed)](_0x2d08fc(0x275),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x229607=a2_0x2ab5aa,_0x3fcd5d=document['getElementById'](_0x229607(0x247));_0x3fcd5d[_0x229607(0x337)]='';const _0x37b817=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x412121=document[_0x229607(0x2df)]('div');_0x412121[_0x229607(0x365)]='pe-corner',_0x3fcd5d[_0x229607(0x334)](_0x412121),_0x37b817[_0x229607(0x222)]((_0x3c2e55,_0x35de5c)=>{const _0x152d25=_0x229607,_0x587d4a=document['createElement']('div');_0x587d4a['className']='pe-col-header',_0x587d4a[_0x152d25(0x337)]=_0x3c2e55+_0x152d25(0x1fa),_0x587d4a[_0x152d25(0x255)]=()=>toggleColPattern(_0x35de5c),_0x3fcd5d[_0x152d25(0x334)](_0x587d4a);});for(let _0x28030c=0x0;_0x28030c<0x18;_0x28030c++){const _0x4aa4c9=document[_0x229607(0x2df)](_0x229607(0x2c0));_0x4aa4c9[_0x229607(0x365)]=_0x229607(0x2e8),_0x4aa4c9[_0x229607(0x337)]=_0x229607(0x2f4)+String(_0x28030c)[_0x229607(0x2fa)](0x2,'0')+_0x229607(0x2e7),_0x4aa4c9[_0x229607(0x255)]=()=>toggleRowPattern(_0x28030c),_0x3fcd5d[_0x229607(0x334)](_0x4aa4c9);for(let _0x23c64a=0x0;_0x23c64a<0x7;_0x23c64a++){const _0xb3c142=document['createElement'](_0x229607(0x2c0)),_0x28dfca=(availabilityPattern[_0x23c64a]||[])[_0x229607(0x27a)](_0x28030c),_0x807bc2=!_0x28dfca;_0xb3c142[_0x229607(0x365)]='pe-cell\x20'+(_0x807bc2?_0x229607(0x2bc):''),_0xb3c142[_0x229607(0x255)]=()=>toggleSinglePattern(_0x23c64a,_0x28030c),_0x3fcd5d['appendChild'](_0xb3c142);}}}function toggleSinglePattern(_0x2c28b5,_0x4ed086){const _0x3fc50e=a2_0x2ab5aa;if(!availabilityPattern[_0x2c28b5])availabilityPattern[_0x2c28b5]=[];const _0x2a3a62=availabilityPattern[_0x2c28b5],_0x73684e=_0x2a3a62['indexOf'](_0x4ed086);_0x73684e===-0x1?_0x2a3a62[_0x3fc50e(0x31b)](_0x4ed086):_0x2a3a62[_0x3fc50e(0x2f6)](_0x73684e,0x1),renderPatternEditor();}function toggleColPattern(_0x28f4fe){const _0xc68cac=a2_0x2ab5aa;if(!availabilityPattern[_0x28f4fe])availabilityPattern[_0x28f4fe]=[];const _0x12adab=availabilityPattern[_0x28f4fe];_0x12adab[_0xc68cac(0x299)]===0x0?availabilityPattern[_0x28f4fe]=Array[_0xc68cac(0x256)]({'length':0x18},(_0x259529,_0xd416e)=>_0xd416e):availabilityPattern[_0x28f4fe]=[],renderPatternEditor();}function toggleRowPattern(_0x16224d){const _0x3cd907=a2_0x2ab5aa;let _0x5278df=!![];for(let _0x3ba251=0x0;_0x3ba251<0x7;_0x3ba251++){if((availabilityPattern[_0x3ba251]||[])[_0x3cd907(0x27a)](_0x16224d)){_0x5278df=![];break;}}for(let _0x2970c1=0x0;_0x2970c1<0x7;_0x2970c1++){if(!availabilityPattern[_0x2970c1])availabilityPattern[_0x2970c1]=[];const _0xa89394=availabilityPattern[_0x2970c1][_0x3cd907(0x2da)](_0x16224d);if(_0x5278df){if(_0xa89394===-0x1)availabilityPattern[_0x2970c1]['push'](_0x16224d);}else{if(_0xa89394!==-0x1)availabilityPattern[_0x2970c1][_0x3cd907(0x2f6)](_0xa89394,0x1);}}renderPatternEditor();}function renderPCol(_0x53d4dd,_0x54bd89){const _0x45ad15=a2_0x2ab5aa;_0x53d4dd[_0x45ad15(0x337)]='';const _0x3b2026=Math[_0x45ad15(0x32f)](_0x53d4dd[_0x45ad15(0x204)]);(availabilityPattern[_0x54bd89]||[])[_0x45ad15(0x222)](_0x5a662f=>{const _0x118d8e=_0x45ad15,_0x4e1f78=document[_0x118d8e(0x2df)]('div');_0x4e1f78[_0x118d8e(0x365)]=_0x118d8e(0x2a9);const _0xe9f522=_0x5a662f*GRID_H;_0x4e1f78[_0x118d8e(0x257)][_0x118d8e(0x29c)]=_0xe9f522+'px',_0x4e1f78['style'][_0x118d8e(0x2b8)]='-'+_0x3b2026+_0x118d8e(0x261)+_0xe9f522+'px',_0x4e1f78['onclick']=_0x302630=>{const _0x432070=_0x118d8e;_0x302630[_0x432070(0x23a)](),toggleSinglePattern(_0x54bd89,_0x5a662f);},_0x53d4dd[_0x118d8e(0x334)](_0x4e1f78);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x4a874d=a2_0x2ab5aa,_0x561228=new Date(),_0x390578=document[_0x4a874d(0x2c9)](_0x4a874d(0x2be)),_0x51f3d6=document[_0x4a874d(0x2c9)](_0x4a874d(0x269)),_0x5e6d46=(_0x561228[_0x4a874d(0x22a)]()*0x3c+_0x561228[_0x4a874d(0x216)]())/0x3c*GRID_H;_0x390578[_0x4a874d(0x257)][_0x4a874d(0x29c)]=_0x5e6d46+'px',_0x390578[_0x4a874d(0x257)]['display']=_0x4a874d(0x315),_0x51f3d6[_0x4a874d(0x2d1)]=String(_0x561228[_0x4a874d(0x22a)]())[_0x4a874d(0x2fa)](0x2,'0')+':'+String(_0x561228[_0x4a874d(0x216)]())[_0x4a874d(0x2fa)](0x2,'0'),_0x51f3d6['style'][_0x4a874d(0x30a)]=_0x4a874d(0x315),_0x51f3d6[_0x4a874d(0x257)][_0x4a874d(0x29c)]=_0x5e6d46+'px';}document['addEventListener']('DOMContentLoaded',init);function openDayOptions(_0x41cd9a){const _0x43c9a0=a2_0x2ab5aa;selectedDayForOptions=_0x41cd9a;const _0x413b7a=new Date(_0x41cd9a),_0x4266cd={'weekday':_0x43c9a0(0x203),'day':'numeric','month':_0x43c9a0(0x203),'year':_0x43c9a0(0x2d9)},_0x517acb=_0x413b7a[_0x43c9a0(0x32a)](_0x43c9a0(0x26a),_0x4266cd);document[_0x43c9a0(0x2c9)](_0x43c9a0(0x354))['textContent']=_0x517acb[_0x43c9a0(0x29d)](0x0)[_0x43c9a0(0x2fe)]()+_0x517acb[_0x43c9a0(0x301)](0x1);let _0x2a42d4=_0x413b7a[_0x43c9a0(0x2dc)]()-0x1;if(_0x2a42d4===-0x1)_0x2a42d4=0x6;const _0x13300a=availabilityPattern[_0x2a42d4]||[],_0x245a72=0x18-_0x13300a[_0x43c9a0(0x299)],_0x4fb1cc=_0x245a72*0x3c,_0x1fcdee=sessions['filter'](_0x1016ea=>_0x1016ea[_0x43c9a0(0x2b0)]===_0x41cd9a&&_0x1016ea[_0x43c9a0(0x28a)]!==_0x43c9a0(0x2bd));let _0x1cce3a=_0x1fcdee[_0x43c9a0(0x2f7)](_0x442673=>{const _0x134624=_0x43c9a0,[_0x1b012b,_0x37c894]=_0x442673['start']['split'](':')[_0x134624(0x2f7)](Number),[_0xf7339c,_0x3ad17d]=_0x442673[_0x134624(0x238)][_0x134624(0x341)](':')['map'](Number);return[_0x1b012b*0x3c+_0x37c894,_0xf7339c*0x3c+_0x3ad17d];});_0x1cce3a[_0x43c9a0(0x311)]((_0x201ec0,_0x58de3c)=>_0x201ec0[0x0]-_0x58de3c[0x0]);let _0x30a6ab=[];if(_0x1cce3a[_0x43c9a0(0x299)]>0x0){let _0x124c58=_0x1cce3a[0x0];for(let _0x297df6=0x1;_0x297df6<_0x1cce3a[_0x43c9a0(0x299)];_0x297df6++){_0x1cce3a[_0x297df6][0x0]<_0x124c58[0x1]?_0x124c58[0x1]=Math[_0x43c9a0(0x2a6)](_0x124c58[0x1],_0x1cce3a[_0x297df6][0x1]):(_0x30a6ab['push'](_0x124c58),_0x124c58=_0x1cce3a[_0x297df6]);}_0x30a6ab[_0x43c9a0(0x31b)](_0x124c58);}let _0x558ef8=0x0;_0x30a6ab[_0x43c9a0(0x222)](_0x434a87=>_0x558ef8+=_0x434a87[0x1]-_0x434a87[0x0]),document[_0x43c9a0(0x2c9)]('doWorkHours')[_0x43c9a0(0x2d1)]=formatMinsToHrs(_0x4fb1cc),document[_0x43c9a0(0x2c9)](_0x43c9a0(0x362))[_0x43c9a0(0x2d1)]=formatMinsToHrs(_0x558ef8);const _0x4a5175=_0x4fb1cc>0x0?Math[_0x43c9a0(0x32f)](_0x558ef8/_0x4fb1cc*0x64):0x0,_0x570bc8=document[_0x43c9a0(0x2c9)](_0x43c9a0(0x363));_0x570bc8['textContent']=_0x4a5175+'%';const _0x4f9825=document[_0x43c9a0(0x2c9)]('statLoadCard');if(_0x4a5175>0x64)_0x570bc8[_0x43c9a0(0x257)][_0x43c9a0(0x30c)]=_0x43c9a0(0x33d),_0x4f9825[_0x43c9a0(0x257)]['borderColor']=_0x43c9a0(0x310);else _0x4a5175>0x50?(_0x570bc8[_0x43c9a0(0x257)][_0x43c9a0(0x30c)]=_0x43c9a0(0x2f2),_0x4f9825[_0x43c9a0(0x257)][_0x43c9a0(0x21f)]=_0x43c9a0(0x35b)):(_0x570bc8[_0x43c9a0(0x257)][_0x43c9a0(0x30c)]=_0x43c9a0(0x241),_0x4f9825['style'][_0x43c9a0(0x21f)]=_0x43c9a0(0x347));const _0x5d103a=document['getElementById'](_0x43c9a0(0x2bf));_0x5d103a[_0x43c9a0(0x337)]='';_0x1fcdee[_0x43c9a0(0x299)]===0x0?_0x5d103a[_0x43c9a0(0x337)]='<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>':(_0x1fcdee['sort']((_0x4c53a5,_0xcd77f0)=>_0x4c53a5['start'][_0x43c9a0(0x368)](_0xcd77f0['start'])),_0x1fcdee[_0x43c9a0(0x222)](_0x51b6b1=>{const _0x4263de=_0x43c9a0,_0x29ab83=clients[_0x4263de(0x248)](_0x53eac7=>_0x53eac7[_0x4263de(0x268)]===_0x51b6b1[_0x4263de(0x2c8)]),_0x3dd1d7=_0x29ab83?_0x29ab83[_0x4263de(0x30c)]:_0x4263de(0x225),_0x1801cc=_0x51b6b1[_0x4263de(0x28a)]===_0x4263de(0x290),_0x5adc9a=_0x1801cc?_0x4263de(0x33c):'',_0x3cd1d5=document[_0x4263de(0x2df)](_0x4263de(0x2c0));_0x3cd1d5[_0x4263de(0x365)]=_0x4263de(0x270),_0x3cd1d5[_0x4263de(0x257)][_0x4263de(0x284)]=_0x3dd1d7,_0x3cd1d5[_0x4263de(0x337)]=_0x4263de(0x22f)+_0x51b6b1[_0x4263de(0x259)]+_0x4263de(0x227)+_0x51b6b1[_0x4263de(0x238)]+_0x4263de(0x2ff)+_0x51b6b1[_0x4263de(0x2c8)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5adc9a+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x5d103a[_0x4263de(0x334)](_0x3cd1d5);}));const _0x4232e0=document[_0x43c9a0(0x2c9)]('btnDayToggle'),_0x3e04c1=dateExceptions[_0x41cd9a]==='off';_0x3e04c1?(_0x4232e0[_0x43c9a0(0x2d1)]=_0x43c9a0(0x2f8),_0x4232e0[_0x43c9a0(0x365)]=_0x43c9a0(0x211),_0x4232e0[_0x43c9a0(0x257)][_0x43c9a0(0x30c)]='var(--acc-green)',_0x4232e0[_0x43c9a0(0x257)][_0x43c9a0(0x214)]=_0x43c9a0(0x2a1)):(_0x4232e0[_0x43c9a0(0x2d1)]=_0x43c9a0(0x2ca),_0x4232e0['className']=_0x43c9a0(0x273),_0x4232e0[_0x43c9a0(0x257)][_0x43c9a0(0x30c)]=_0x43c9a0(0x33d),_0x4232e0[_0x43c9a0(0x257)]['background']=_0x43c9a0(0x206)),openSheet(_0x43c9a0(0x20e));}let currentAnPeriod=a2_0x2ab5aa(0x2fd);function openAnalytics(){const _0x45361c=a2_0x2ab5aa,_0x13355c=document[_0x45361c(0x312)](_0x45361c(0x224));setAnalyticsPeriod(_0x45361c(0x2fd),_0x13355c),closeAllSheets(),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x50eeb1,_0x537fac){const _0x29da24=a2_0x2ab5aa;currentAnPeriod=_0x50eeb1,document['querySelectorAll']('.period-switch\x20.p-btn')[_0x29da24(0x222)](_0x301059=>_0x301059[_0x29da24(0x30b)]['remove'](_0x29da24(0x2bc)));if(_0x537fac)_0x537fac['classList'][_0x29da24(0x295)](_0x29da24(0x2bc));const _0x2c0f32=document[_0x29da24(0x2c9)](_0x29da24(0x2fc));_0x2c0f32[_0x29da24(0x257)][_0x29da24(0x30a)]=_0x50eeb1===_0x29da24(0x2f0)?_0x29da24(0x258):'none';const _0x14d0a9=new Date();let _0xe62386=new Date(),_0x21af2f=new Date();if(_0x50eeb1===_0x29da24(0x2fd))_0xe62386=getStartOfWeek(_0x14d0a9),_0x21af2f=new Date(_0xe62386),_0x21af2f[_0x29da24(0x34c)](_0x21af2f[_0x29da24(0x293)]()+0x6);else{if(_0x50eeb1==='month')_0xe62386=new Date(_0x14d0a9[_0x29da24(0x357)](),_0x14d0a9[_0x29da24(0x1fb)](),0x1),_0x21af2f=new Date(_0x14d0a9[_0x29da24(0x357)](),_0x14d0a9[_0x29da24(0x1fb)]()+0x1,0x0);else{!document[_0x29da24(0x2c9)](_0x29da24(0x210))['value']&&(document['getElementById'](_0x29da24(0x210))['value']=getLocalDateStr(_0x14d0a9),document[_0x29da24(0x2c9)](_0x29da24(0x26f))['value']=getLocalDateStr(_0x14d0a9));refreshAnalytics();return;}}document[_0x29da24(0x2c9)](_0x29da24(0x210))[_0x29da24(0x1f4)]=getLocalDateStr(_0xe62386),document['getElementById']('anEnd')[_0x29da24(0x1f4)]=getLocalDateStr(_0x21af2f),refreshAnalytics();}function refreshAnalytics(){const _0xe61b2=a2_0x2ab5aa,_0x243382=document['getElementById']('anStart')['value'],_0x1c38c2=document[_0xe61b2(0x2c9)](_0xe61b2(0x26f))[_0xe61b2(0x1f4)];if(!_0x243382||!_0x1c38c2)return;const _0x1c9142=sessions[_0xe61b2(0x2d5)](_0x500854=>_0x500854['dateStr']>=_0x243382&&_0x500854[_0xe61b2(0x2b0)]<=_0x1c38c2&&_0x500854[_0xe61b2(0x28a)]!==_0xe61b2(0x2bd)),_0x326613=_0x1c9142['length'],_0x4bbf7d=_0x1c9142['filter'](_0x2242c8=>_0x2242c8[_0xe61b2(0x28a)]===_0xe61b2(0x290))[_0xe61b2(0x299)],_0x766bb6=_0x326613>0x0?Math[_0xe61b2(0x32f)](_0x4bbf7d/_0x326613*0x64):0x0;document['getElementById']('anPercent')[_0xe61b2(0x2d1)]=_0x766bb6+'%',document['getElementById'](_0xe61b2(0x34f))[_0xe61b2(0x2d1)]=_0x4bbf7d+_0xe61b2(0x279)+_0x326613+'\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ';const _0x39a908=document[_0xe61b2(0x2c9)](_0xe61b2(0x31e)),_0x1743a8=0x2*Math['PI']*0x23,_0x570d8e=_0x1743a8-_0x766bb6/0x64*_0x1743a8;_0x39a908['style'][_0xe61b2(0x335)]=_0x570d8e;const _0x3f8b2b={};_0x1c9142[_0xe61b2(0x222)](_0x43fc10=>{const _0x288d9d=_0xe61b2;if(!_0x3f8b2b[_0x43fc10[_0x288d9d(0x2c8)]]){const _0x292da6=clients['find'](_0x28bbcf=>_0x28bbcf[_0x288d9d(0x268)]===_0x43fc10[_0x288d9d(0x2c8)]);_0x3f8b2b[_0x43fc10[_0x288d9d(0x2c8)]]={'total':0x0,'done':0x0,'color':_0x292da6?_0x292da6[_0x288d9d(0x30c)]:_0x288d9d(0x225)};}_0x3f8b2b[_0x43fc10[_0x288d9d(0x2c8)]][_0x288d9d(0x304)]++;if(_0x43fc10[_0x288d9d(0x28a)]===_0x288d9d(0x290))_0x3f8b2b[_0x43fc10[_0x288d9d(0x2c8)]][_0x288d9d(0x22c)]++;});const _0x487966=document[_0xe61b2(0x2c9)](_0xe61b2(0x297));_0x487966[_0xe61b2(0x337)]='';const _0x1bfaec=Object[_0xe61b2(0x35e)](_0x3f8b2b)['sort']((_0x4d48f3,_0x219267)=>_0x219267[0x1][_0xe61b2(0x304)]-_0x4d48f3[0x1][_0xe61b2(0x304)]);if(_0x1bfaec['length']===0x0){_0x487966[_0xe61b2(0x337)]=_0xe61b2(0x207);return;}_0x1bfaec[_0xe61b2(0x222)](([_0x4b619b,_0x2e7bf1])=>{const _0x3a574b=_0xe61b2,_0x5859b9=Math[_0x3a574b(0x32f)](_0x2e7bf1[_0x3a574b(0x22c)]/_0x2e7bf1[_0x3a574b(0x304)]*0x64),_0x3e8eb6=document[_0x3a574b(0x2df)](_0x3a574b(0x2c0));_0x3e8eb6[_0x3a574b(0x365)]=_0x3a574b(0x2f1),_0x3e8eb6[_0x3a574b(0x257)]['borderLeftColor']=_0x2e7bf1[_0x3a574b(0x30c)],_0x3e8eb6['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>'+_0x4b619b+_0x3a574b(0x313)+_0x2e7bf1[_0x3a574b(0x22c)]+'</span>\x20/\x20'+_0x2e7bf1[_0x3a574b(0x304)]+_0x3a574b(0x316)+_0x5859b9+_0x3a574b(0x2eb),_0x487966[_0x3a574b(0x334)](_0x3e8eb6);});}function formatMinsToHrs(_0x3c3bc6){const _0x3a720b=a2_0x2ab5aa;if(_0x3c3bc6===0x0)return'0';const _0x5647be=Math[_0x3a720b(0x246)](_0x3c3bc6/0x3c),_0x4f0faa=_0x3c3bc6%0x3c;if(_0x4f0faa===0x0)return _0x5647be+'—á';return _0x5647be+'—á\x20'+_0x4f0faa+'–º';}