const a2_0x403e68=a2_0x18d7;(function(_0x2e064b,_0x409a39){const _0x30897b=a2_0x18d7,_0x54b1ec=_0x2e064b();while(!![]){try{const _0x160ae1=-parseInt(_0x30897b(0x166))/0x1+parseInt(_0x30897b(0x12d))/0x2*(-parseInt(_0x30897b(0x129))/0x3)+parseInt(_0x30897b(0x105))/0x4*(parseInt(_0x30897b(0x1cc))/0x5)+-parseInt(_0x30897b(0x19f))/0x6*(parseInt(_0x30897b(0x1de))/0x7)+-parseInt(_0x30897b(0x176))/0x8*(-parseInt(_0x30897b(0x170))/0x9)+-parseInt(_0x30897b(0x17c))/0xa*(-parseInt(_0x30897b(0xd0))/0xb)+parseInt(_0x30897b(0x245))/0xc;if(_0x160ae1===_0x409a39)break;else _0x54b1ec['push'](_0x54b1ec['shift']());}catch(_0x33f95b){_0x54b1ec['push'](_0x54b1ec['shift']());}}}(a2_0x3724,0x86b87),function initTMA(){const _0x5dd82c=a2_0x18d7,_0xfe97c6=(function(){let _0x42e9f4=!![];return function(_0x426092,_0x5512e0){const _0x2357ca=_0x42e9f4?function(){const _0x58b2cf=a2_0x18d7;if(_0x5512e0){const _0x532581=_0x5512e0[_0x58b2cf(0x190)](_0x426092,arguments);return _0x5512e0=null,_0x532581;}}:function(){};return _0x42e9f4=![],_0x2357ca;};}()),_0x11ea32=_0xfe97c6(this,function(){const _0xdb1b4=a2_0x18d7;return _0x11ea32[_0xdb1b4(0x1f1)]()[_0xdb1b4(0x183)](_0xdb1b4(0xca))[_0xdb1b4(0x1f1)]()['constructor'](_0x11ea32)[_0xdb1b4(0x183)](_0xdb1b4(0xca));});_0x11ea32();try{const _0xfacceb=window['Telegram']?.[_0x5dd82c(0xec)];if(!_0xfacceb)return;_0xfacceb['ready'](),_0xfacceb[_0x5dd82c(0x1bb)]();try{_0xfacceb[_0x5dd82c(0x222)](_0x5dd82c(0x179)),_0xfacceb[_0x5dd82c(0x11c)]&&_0xfacceb['setBackgroundColor'](_0x5dd82c(0x179));}catch(_0x2b0707){console[_0x5dd82c(0x1d5)](_0x5dd82c(0x1be),_0x2b0707);}try{_0xfacceb['BackButton']&&(_0xfacceb[_0x5dd82c(0x18d)][_0x5dd82c(0x19d)](),_0xfacceb[_0x5dd82c(0x18d)][_0x5dd82c(0x155)](),_0xfacceb[_0x5dd82c(0x18d)][_0x5dd82c(0x1a6)](function(){const _0x29508d=_0x5dd82c;window[_0x29508d(0x10e)][_0x29508d(0x141)]=_0x29508d(0xef);}));}catch(_0x53769c){console[_0x5dd82c(0x1d5)]('Error\x20setting\x20back\x20button:',_0x53769c);}try{if(_0xfacceb[_0x5dd82c(0x20f)])_0xfacceb['disableVerticalSwipes']();}catch(_0x41524a){}}catch(_0x4541ba){console[_0x5dd82c(0x10d)](_0x5dd82c(0x1e3),_0x4541ba);}}());function isAdmin(){const _0x3ce150=a2_0x18d7;try{const _0x18b428=Number(window[_0x3ce150(0x237)]?.['WebApp']?.[_0x3ce150(0x1a8)]?.[_0x3ce150(0x17b)]?.['id']);return _0x18b428===0xbaf7174;}catch(_0x5b8b43){return![];}}const APP_VERSION=a2_0x403e68(0x149),API_URL=a2_0x403e68(0x128),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS='uc_clients_v9',KEY_SESSIONS=a2_0x403e68(0x110),KEY_SETTINGS=a2_0x403e68(0x226);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x882907=a2_0x403e68;return window[_0x882907(0x237)]?.[_0x882907(0xec)]?.[_0x882907(0x1a8)]?.[_0x882907(0x17b)]?.['id']||_0x882907(0x1d6);},'saveLocally'(){const _0x581e4f=a2_0x403e68;try{localStorage['setItem'](KEY_CLIENTS,JSON[_0x581e4f(0x231)](clients)),localStorage['setItem'](KEY_SESSIONS,JSON[_0x581e4f(0x231)](sessions)),localStorage['setItem'](KEY_SETTINGS,JSON[_0x581e4f(0x231)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x367c0e){console[_0x581e4f(0x10d)](_0x581e4f(0x21d),_0x367c0e);}},'loadLocal'(){const _0x1c09b1=a2_0x403e68;try{const _0x30a483=localStorage['getItem'](KEY_CLIENTS);if(_0x30a483)clients=JSON['parse'](_0x30a483);const _0x2dad45=localStorage['getItem'](KEY_SESSIONS);if(_0x2dad45)sessions=JSON[_0x1c09b1(0xe2)](_0x2dad45);const _0x225eec=localStorage[_0x1c09b1(0x14e)](KEY_SETTINGS);if(_0x225eec){const _0x2f8de0=JSON['parse'](_0x225eec);if(_0x2f8de0['pattern'])availabilityPattern=_0x2f8de0[_0x1c09b1(0x218)];if(_0x2f8de0[_0x1c09b1(0x14b)])dateExceptions=_0x2f8de0[_0x1c09b1(0x14b)];if(_0x2f8de0[_0x1c09b1(0x13d)])specialRanges=_0x2f8de0[_0x1c09b1(0x13d)];}else{for(let _0x431ec7=0x0;_0x431ec7<0x7;_0x431ec7++)availabilityPattern[_0x431ec7]=Array[_0x1c09b1(0x19e)]({'length':0xc},(_0x1ff973,_0x3b99e5)=>_0x3b99e5+0x9);}}catch(_0x5918c4){console[_0x1c09b1(0x10d)](_0x1c09b1(0x1d9),_0x5918c4);}},async 'fetchFromServer'(_0x34d316,_0x206cc6={}){const _0x5c5ddd=a2_0x403e68,_0x7aa632=window[_0x5c5ddd(0x237)]?.[_0x5c5ddd(0xec)],_0x282718={'action':_0x34d316,'init_data':_0x7aa632?.[_0x5c5ddd(0x1c9)]||'',..._0x206cc6};try{const _0x2e100a=await fetch(API_URL,{'method':'POST','headers':{'Content-Type':_0x5c5ddd(0x1c7)},'body':JSON[_0x5c5ddd(0x231)](_0x282718)}),_0x786be3=await _0x2e100a[_0x5c5ddd(0x1bc)]();if(!_0x786be3['ok'])throw new Error(_0x786be3[_0x5c5ddd(0x10d)]||_0x5c5ddd(0x137));return _0x786be3[_0x5c5ddd(0x1fb)];}catch(_0x2c9b35){console[_0x5c5ddd(0x10d)](_0x5c5ddd(0x189)+_0x34d316+_0x5c5ddd(0x1a5),_0x2c9b35);throw _0x2c9b35;}},async 'syncLoad'(){const _0x3a0091=a2_0x403e68,_0xa04686=new Date(),_0x46a89d=_0xa04686[_0x3a0091(0x173)]()+'-'+String(_0xa04686[_0x3a0091(0x211)]()+0x1)[_0x3a0091(0x20b)](0x2,'0'),_0x1018b4=new Date(_0xa04686);_0x1018b4[_0x3a0091(0x1e7)](_0xa04686[_0x3a0091(0x211)]()+0x1);const _0x33b40f=_0x1018b4[_0x3a0091(0x173)]()+'-'+String(_0x1018b4['getMonth']()+0x1)[_0x3a0091(0x20b)](0x2,'0'),_0x121d44=Date[_0x3a0091(0xdf)]();console[_0x3a0091(0x1d5)](_0x3a0091(0x1c0)+_0x46a89d+',\x20'+_0x33b40f+'...');try{const [_0x3da2cf,_0x37bda7]=await Promise[_0x3a0091(0x1d8)]([this['fetchFromServer']('init_load',{'month_str':_0x46a89d}),this['fetchFromServer'](_0x3a0091(0x100),{'month_str':_0x33b40f})]);if(lastUserActionTime>_0x121d44)return console[_0x3a0091(0x123)](_0x3a0091(0x1fe)),![];return this[_0x3a0091(0xd5)](_0x3da2cf,_0x46a89d),this['mergeServerData'](_0x37bda7,_0x33b40f),this[_0x3a0091(0x219)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x56b6bc){console[_0x3a0091(0x10d)](_0x56b6bc);throw _0x56b6bc;}},'mergeServerData'(_0x218e17,_0x950ece){const _0x366ff1=a2_0x403e68;if(!_0x218e17)return;_0x218e17[_0x366ff1(0xe8)]&&Array['isArray'](_0x218e17[_0x366ff1(0xe8)])&&(clients=_0x218e17[_0x366ff1(0xe8)]);if(_0x218e17[_0x366ff1(0x220)]){if(_0x218e17[_0x366ff1(0x220)][_0x366ff1(0x218)])availabilityPattern=_0x218e17['settings']['pattern'];if(_0x218e17[_0x366ff1(0x220)]['exceptions'])dateExceptions=_0x218e17[_0x366ff1(0x220)][_0x366ff1(0x14b)];if(_0x218e17[_0x366ff1(0x220)][_0x366ff1(0x13d)])specialRanges=_0x218e17[_0x366ff1(0x220)][_0x366ff1(0x13d)];if(_0x218e17[_0x366ff1(0x220)][_0x366ff1(0x119)]){localStorage['setItem']('uc_settings_cancel_window',_0x218e17[_0x366ff1(0x220)][_0x366ff1(0x119)]);const _0x5d9fa6=document[_0x366ff1(0x127)]('settingCancelWindow');if(_0x5d9fa6)_0x5d9fa6[_0x366ff1(0x132)]=_0x218e17[_0x366ff1(0x220)]['cancel_window'];}}_0x218e17[_0x366ff1(0x184)]&&(sessions=sessions[_0x366ff1(0x167)](_0x7db2c0=>!_0x7db2c0[_0x366ff1(0x11f)][_0x366ff1(0xcf)](_0x950ece)),Object[_0x366ff1(0x1a9)](_0x218e17[_0x366ff1(0x184)])[_0x366ff1(0x23f)](_0x2b1bea=>{const _0x40924a=_0x366ff1,_0x48b691=_0x218e17[_0x40924a(0x184)][_0x2b1bea];_0x48b691[_0x40924a(0x23f)](_0x5569cc=>{const _0x4eb15b=_0x40924a,_0x51559f=clients[_0x4eb15b(0x120)](_0x398938=>String(_0x398938['id'])===String(_0x5569cc['c']));sessions[_0x4eb15b(0x195)]({'id':_0x5569cc['i'],'clientId':_0x5569cc['c'],'client':_0x51559f?_0x51559f['name']:_0x4eb15b(0xfb),'dateStr':_0x950ece+'-'+_0x2b1bea[_0x4eb15b(0x20b)](0x2,'0'),'start':_0x5569cc['s'],'end':_0x5569cc['e'],'status':_0x5569cc['st']||'planned','note':_0x5569cc['n']||'','seriesId':_0x5569cc[_0x4eb15b(0x152)]||null});});}));},async 'syncBatch'(_0x10abd9){const _0x20dfed=a2_0x403e68,_0x1ea764=[...new Set(_0x10abd9)],_0x33d563=_0x1ea764[_0x20dfed(0x115)](_0x59f907=>{const _0x2181b7=_0x20dfed,_0x4a5db3=sessions[_0x2181b7(0x167)](_0xb3081f=>_0xb3081f[_0x2181b7(0x11f)]===_0x59f907&&_0xb3081f[_0x2181b7(0x15d)]!==_0x2181b7(0x201)),_0x1b43e1=_0x4a5db3[_0x2181b7(0x115)](_0x35430d=>({'i':_0x35430d['id'],'c':_0x35430d[_0x2181b7(0x116)],'s':_0x35430d['start'],'e':_0x35430d[_0x2181b7(0x206)],'st':_0x35430d[_0x2181b7(0x15d)],'n':_0x35430d[_0x2181b7(0x1f2)],'sid':_0x35430d[_0x2181b7(0x174)]}));return{'date':_0x59f907,'day_data':_0x1b43e1};});if(_0x33d563[_0x20dfed(0x239)]===0x0)return;console[_0x20dfed(0x1d5)](_0x20dfed(0xd8)+_0x33d563[_0x20dfed(0x239)]+_0x20dfed(0x13b)),await this['fetchFromServer'](_0x20dfed(0x11d),{'changes':_0x33d563});}};async function init(){const _0x928a3d=a2_0x403e68;DataManager[_0x928a3d(0x225)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById'](_0x928a3d(0x20a))[_0x928a3d(0x159)](_0x928a3d(0x11e),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x928a3d(0x175)]()[_0x928a3d(0x241)](()=>{const _0x14e7c6=_0x928a3d;showToast(_0x14e7c6(0x1f3),!![]);})[_0x928a3d(0x114)](_0x5b8705=>{const _0x1ffc86=_0x928a3d;showToast(_0x1ffc86(0x172),![]);});}function generateId(){const _0x379424=a2_0x403e68;return Date['now']()[_0x379424(0x1f1)](0x24)+Math[_0x379424(0x1b0)]()['toString'](0x24)[_0x379424(0x113)](0x2,0x5);}function toggleSeriesInput(){const _0x47fa2c=a2_0x403e68,_0x47db28=document[_0x47fa2c(0x127)]('inpRecurring')[_0x47fa2c(0x1d3)],_0x5404b8=document[_0x47fa2c(0x127)](_0x47fa2c(0x22f));_0x5404b8[_0x47fa2c(0xd6)][_0x47fa2c(0x143)]=_0x47db28?'block':'none';const _0x107011=document[_0x47fa2c(0x127)](_0x47fa2c(0x1c3));_0x107011[_0x47fa2c(0xd6)]['borderRadius']=_0x47db28?_0x47fa2c(0x1db):'10px';}function openAddSession(_0x14b1d1){const _0x123c12=a2_0x403e68;editingId=null,populateClientSelect(),document[_0x123c12(0x127)](_0x123c12(0x18f))['textContent']=_0x123c12(0x187),document['getElementById']('btnDelete')[_0x123c12(0xd6)][_0x123c12(0x143)]='none',document[_0x123c12(0x127)](_0x123c12(0x1c1))[_0x123c12(0xd6)][_0x123c12(0x143)]=_0x123c12(0x130);const _0x592906=document[_0x123c12(0x127)](_0x123c12(0x1c3)),_0x964484=document[_0x123c12(0x127)]('seriesCountContainer');_0x592906[_0x123c12(0xd6)]['display']=_0x123c12(0xdc),_0x592906['style'][_0x123c12(0x162)]=_0x123c12(0x1ec),document[_0x123c12(0x127)](_0x123c12(0xd7))[_0x123c12(0x1d3)]=![],document[_0x123c12(0x127)](_0x123c12(0x15c))[_0x123c12(0x132)]=0x4,_0x964484[_0x123c12(0xd6)]['display']=_0x123c12(0x130),document[_0x123c12(0x127)](_0x123c12(0x20d))[_0x123c12(0x132)]=getLocalDateStr(_0x14b1d1),updateDateDisplay();const _0x51b486=_0x14b1d1[_0x123c12(0x1ff)]();document['getElementById']('inpStart')[_0x123c12(0x132)]=String(_0x51b486)[_0x123c12(0x20b)](0x2,'0')+_0x123c12(0x22c),document[_0x123c12(0x127)](_0x123c12(0xdb))[_0x123c12(0x132)]=String(_0x51b486+0x1)['padStart'](0x2,'0')+':00',openSheet(_0x123c12(0x243));}function openEdit(_0x6b35e){const _0x248695=a2_0x403e68;editingId=_0x6b35e['id'],populateClientSelect(),document[_0x248695(0x127)](_0x248695(0x18f))[_0x248695(0x1a4)]=_0x248695(0x13e),document[_0x248695(0x127)]('btnDelete')[_0x248695(0xd6)][_0x248695(0x143)]=_0x248695(0xc7);const _0x456297=document[_0x248695(0x127)](_0x248695(0x1c1));_0x456297[_0x248695(0xd6)][_0x248695(0x143)]='flex';_0x6b35e[_0x248695(0x15d)]===_0x248695(0x12b)?(_0x456297[_0x248695(0x147)]=_0x248695(0x1e5),_0x456297[_0x248695(0x178)]=_0x248695(0x13c)):(_0x456297[_0x248695(0x147)]=_0x248695(0x12c),_0x456297[_0x248695(0x178)]='<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É');const _0xb2be41=!!_0x6b35e[_0x248695(0x174)];document['getElementById']('recurringOptionContainer')[_0x248695(0xd6)][_0x248695(0x143)]=_0x248695(0x130),document['getElementById'](_0x248695(0x22f))[_0x248695(0xd6)][_0x248695(0x143)]=_0x248695(0x130),_0xb2be41?(document[_0x248695(0x127)](_0x248695(0x15b))['style'][_0x248695(0x143)]=_0x248695(0xdc),document[_0x248695(0x127)](_0x248695(0x15b))[_0x248695(0x106)](_0x248695(0x171))[_0x248695(0x1a4)]=_0x248695(0x1f7)):document[_0x248695(0x127)]('patternInfoBox')[_0x248695(0xd6)][_0x248695(0x143)]=_0x248695(0x130),document[_0x248695(0x127)](_0x248695(0x117))[_0x248695(0x132)]=_0x6b35e[_0x248695(0xe1)],document[_0x248695(0x127)](_0x248695(0x20d))[_0x248695(0x132)]=_0x6b35e['dateStr'],document['getElementById'](_0x248695(0x1ac))[_0x248695(0x132)]=_0x6b35e[_0x248695(0x23b)],document[_0x248695(0x127)](_0x248695(0xdb))[_0x248695(0x132)]=_0x6b35e[_0x248695(0x206)],document[_0x248695(0x127)](_0x248695(0x19a))['value']=_0x6b35e['note']||'',updateDateDisplay(),openSheet('sessionSheet');}async function trySaveSession(){const _0x4897fb=a2_0x403e68,_0x2ad759=document['getElementById']('inpClient')[_0x4897fb(0x132)],_0xc961b7=document['getElementById'](_0x4897fb(0x20d))[_0x4897fb(0x132)],_0x431f6f=document['getElementById'](_0x4897fb(0x1ac))[_0x4897fb(0x132)],_0x167d2e=document[_0x4897fb(0x127)](_0x4897fb(0xdb))['value'],_0x1a2910=document['getElementById'](_0x4897fb(0x19a))[_0x4897fb(0x132)],_0x3f6d5e=document[_0x4897fb(0x127)]('inpRecurring')[_0x4897fb(0x1d3)];let _0x35d982=0x4;if(_0x3f6d5e){const _0x4f2948=parseInt(document[_0x4897fb(0x127)](_0x4897fb(0x15c))[_0x4897fb(0x132)]);if(!_0x4f2948||_0x4f2948<0x2){showToast(_0x4897fb(0xe3),![]);return;}if(_0x4f2948>0x64){showToast(_0x4897fb(0x16d),![]);return;}_0x35d982=_0x4f2948;}const _0x42be01=clients[_0x4897fb(0x120)](_0x1c63a2=>_0x1c63a2[_0x4897fb(0x186)]===_0x2ad759);if(!_0x42be01){showToast(_0x4897fb(0x150),![]);return;}const _0xa259f1=validateAppointment(_0xc961b7,_0x431f6f,_0x167d2e,editingId,_0x42be01['id']);if(!_0xa259f1[_0x4897fb(0x1af)]){showToast(_0xa259f1['msg'],![]);return;}_0xa259f1['warning']&&showToast(_0xa259f1['warning'],![]);const _0x1e9fc2={'client':_0x2ad759,'clientId':_0x42be01['id'],'start':_0x431f6f,'end':_0x167d2e,'note':_0x1a2910,'status':_0x4897fb(0xd3)},_0x5d941b=editingId?sessions['find'](_0x14fc9d=>_0x14fc9d['id']===editingId):null;if(_0x5d941b&&_0x5d941b[_0x4897fb(0x174)]){tempSessionData={..._0x1e9fc2,'dateStr':_0xc961b7,'id':editingId,'seriesId':_0x5d941b['seriesId']},openActionSheet('save');return;}let _0x529b46=null;if(!editingId)_0x529b46=_0x4897fb(0x154);else{if(_0x5d941b){if(String(_0x5d941b['clientId'])!==String(_0x42be01['id']))console[_0x4897fb(0x1d5)](_0x4897fb(0x244)),NotificationManager[_0x4897fb(0x204)](_0x4897fb(0x22b),_0x5d941b),_0x529b46=_0x4897fb(0x154);else(_0x5d941b[_0x4897fb(0x23b)]!==_0x431f6f||_0x5d941b[_0x4897fb(0x206)]!==_0x167d2e||_0x5d941b[_0x4897fb(0x11f)]!==_0xc961b7)&&(_0x529b46=_0x4897fb(0xf6));}}if(!editingId&&_0x3f6d5e){createBatchSeries(_0x1e9fc2,_0xc961b7,_0x35d982),NotificationManager[_0x4897fb(0x204)](_0x4897fb(0x154),{..._0x1e9fc2,'dateStr':_0xc961b7});return;}lastUserActionTime=Date['now']();const _0x2b4ba2={..._0x1e9fc2,'dateStr':_0xc961b7,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x2b4ba2),_0x529b46&&NotificationManager['send'](_0x529b46,_0x2b4ba2);}function toggleSessionStatus(){const _0x3ec77f=a2_0x403e68;lastUserActionTime=Date[_0x3ec77f(0xdf)]();const _0x4801e6=sessions[_0x3ec77f(0x120)](_0x553bf0=>_0x553bf0['id']===editingId);if(!_0x4801e6)return;const _0x2b2a9c=_0x4801e6[_0x3ec77f(0x15d)]===_0x3ec77f(0x12b)?'planned':_0x3ec77f(0x12b);_0x4801e6[_0x3ec77f(0x15d)]=_0x2b2a9c,saveSingleSession(_0x4801e6),_0x2b2a9c==='completed'&&NotificationManager['send'](_0x3ec77f(0x135),_0x4801e6),showToast(_0x2b2a9c===_0x3ec77f(0x12b)?_0x3ec77f(0x16a):_0x3ec77f(0x10a),!![]);}function validateAppointment(_0xc6bcc9,_0x1edf4e,_0x387da7,_0x393f4a,_0x16ff25){const _0x2eef2d=a2_0x403e68,[_0x5e4abb,_0x23e6fa]=_0x1edf4e['split'](':')[_0x2eef2d(0x115)](Number),[_0x48a5af,_0x4e740c]=_0x387da7[_0x2eef2d(0x1e8)](':')['map'](Number),_0x30027b=_0x5e4abb*0x3c+_0x23e6fa,_0x32270f=_0x48a5af*0x3c+_0x4e740c,_0x2a521d=String(_0x16ff25);let _0x3c1d79=![],_0x3de01e='';for(let _0x3db180 of sessions){if(_0x3db180[_0x2eef2d(0x11f)]!==_0xc6bcc9)continue;if(_0x3db180[_0x2eef2d(0x15d)]===_0x2eef2d(0x13f))continue;if(_0x393f4a&&String(_0x3db180['id'])===String(_0x393f4a))continue;const [_0x67f1c,_0x21d653]=_0x3db180['start'][_0x2eef2d(0x1e8)](':')[_0x2eef2d(0x115)](Number),[_0x4f0d3c,_0x39a9f0]=_0x3db180[_0x2eef2d(0x206)][_0x2eef2d(0x1e8)](':')[_0x2eef2d(0x115)](Number),_0x280a5a=_0x67f1c*0x3c+_0x21d653,_0x2a2e13=_0x4f0d3c*0x3c+_0x39a9f0;if(Math['max'](_0x30027b,_0x280a5a)<Math['min'](_0x32270f,_0x2a2e13)){if(_0x3db180[_0x2eef2d(0x116)]&&String(_0x3db180[_0x2eef2d(0x116)])===_0x2a521d)return{'valid':![],'msg':_0x2eef2d(0x234)+_0x3db180[_0x2eef2d(0xe1)]+_0x2eef2d(0x177)};_0x3c1d79=!![],_0x3de01e=_0x3db180['client'];}}if(_0x3c1d79)return{'valid':!![],'warning':'–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20'+_0x3de01e};return{'valid':!![]};}function saveSingleSession(_0x467e3b){const _0x99b13=a2_0x403e68;if(editingId){const _0x569f28=sessions[_0x99b13(0x23d)](_0x1d7bca=>_0x1d7bca['id']===editingId);if(_0x569f28!==-0x1)sessions[_0x569f28]=_0x467e3b;}else sessions['push'](_0x467e3b);afterSaveAction([_0x467e3b[_0x99b13(0x11f)]]);}function createBatchSeries(_0x24ab7b,_0x4dffc8,_0x3a68d9){const _0x5789f4=a2_0x403e68,_0x466d16=generateId(),_0x4f5e49=[],_0x184f0c=[];let _0x4cbb4a=0x0,_0x490309=new Date(_0x4dffc8);for(let _0x425856=0x0;_0x425856<_0x3a68d9;_0x425856++){const _0x4a4d15=getLocalDateStr(_0x490309),_0x289e77=validateAppointment(_0x4a4d15,_0x24ab7b[_0x5789f4(0x23b)],_0x24ab7b[_0x5789f4(0x206)],null,_0x24ab7b[_0x5789f4(0x116)]);if(!_0x289e77[_0x5789f4(0x1af)])console[_0x5789f4(0x1d5)](_0x5789f4(0x1a2)+_0x4a4d15+_0x5789f4(0xcc)),_0x4cbb4a++;else{const _0x377a76={..._0x24ab7b,'id':generateId(),'dateStr':_0x4a4d15,'seriesId':_0x466d16};_0x184f0c[_0x5789f4(0x195)](_0x377a76),_0x4f5e49[_0x5789f4(0x195)](_0x4a4d15);}_0x490309[_0x5789f4(0x102)](_0x490309[_0x5789f4(0x1b8)]()+0x7);}if(_0x184f0c[_0x5789f4(0x239)]===0x0){showToast(_0x5789f4(0x164),![]);return;}sessions[_0x5789f4(0x195)](..._0x184f0c),lastUserActionTime=Date[_0x5789f4(0xdf)]();let _0x598833=_0x5789f4(0x230)+_0x184f0c[_0x5789f4(0x239)];_0x4cbb4a>0x0&&(_0x598833+='\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20'+_0x4cbb4a+')'),showToast(_0x598833,!![]),afterSaveAction(_0x4f5e49);}function updateSeriesBatch(_0x4f31b1,_0x5e0dc2){const _0x135d1c=a2_0x403e68,_0x187e4f=[],_0x295b5f=_0x5e0dc2[_0x135d1c(0x174)];if(_0x4f31b1===_0x135d1c(0x103)){const _0x33a2ea={..._0x5e0dc2,'seriesId':null},_0x142128=sessions[_0x135d1c(0x23d)](_0xf4c315=>_0xf4c315['id']===_0x5e0dc2['id']);if(_0x142128!==-0x1)sessions[_0x142128]=_0x33a2ea;_0x187e4f[_0x135d1c(0x195)](_0x33a2ea[_0x135d1c(0x11f)]);}else{if(_0x4f31b1===_0x135d1c(0xf8)){const _0x4a3727=_0x5e0dc2['dateStr'];sessions[_0x135d1c(0x23f)]((_0x31bc91,_0x231f53)=>{const _0x3559f3=_0x135d1c;_0x31bc91[_0x3559f3(0x174)]===_0x295b5f&&_0x31bc91[_0x3559f3(0x11f)]>=_0x4a3727&&(sessions[_0x231f53]={...sessions[_0x231f53],'start':_0x5e0dc2[_0x3559f3(0x23b)],'end':_0x5e0dc2[_0x3559f3(0x206)],'note':_0x5e0dc2['note'],'client':_0x5e0dc2[_0x3559f3(0xe1)],'clientId':_0x5e0dc2[_0x3559f3(0x116)]},_0x187e4f[_0x3559f3(0x195)](_0x31bc91[_0x3559f3(0x11f)]));});}}afterSaveAction(_0x187e4f);}function tryDeleteSession(){const _0x46f6b1=a2_0x403e68,_0x2e5833=sessions['find'](_0x32d3ce=>_0x32d3ce['id']===editingId);if(!_0x2e5833)return;_0x2e5833[_0x46f6b1(0x174)]?openActionSheet(_0x46f6b1(0x196)):commitDelete(_0x46f6b1(0x103),_0x2e5833);}function commitDelete(_0x39e6a0,_0x395ffe){const _0x5889b3=a2_0x403e68;lastUserActionTime=Date[_0x5889b3(0xdf)](),NotificationManager[_0x5889b3(0x204)]('cancel',_0x395ffe);const _0x1acd7d=[];if(_0x39e6a0===_0x5889b3(0x103))sessions=sessions[_0x5889b3(0x167)](_0x268815=>_0x268815['id']!==_0x395ffe['id']),_0x1acd7d[_0x5889b3(0x195)](_0x395ffe[_0x5889b3(0x11f)]);else{if(_0x39e6a0==='series'){const _0x52b59d=_0x395ffe[_0x5889b3(0x11f)],_0x4d3873=_0x395ffe[_0x5889b3(0x174)];sessions[_0x5889b3(0x23f)](_0x50a9bd=>{const _0xb15127=_0x5889b3;_0x50a9bd[_0xb15127(0x174)]===_0x4d3873&&_0x50a9bd[_0xb15127(0x11f)]>=_0x52b59d&&_0x1acd7d['push'](_0x50a9bd[_0xb15127(0x11f)]);}),sessions=sessions[_0x5889b3(0x167)](_0x20ab83=>!(_0x20ab83[_0x5889b3(0x174)]===_0x4d3873&&_0x20ab83[_0x5889b3(0x11f)]>=_0x52b59d));}}afterSaveAction(_0x1acd7d);}function afterSaveAction(_0x45c24e){const _0xa0d62=a2_0x403e68;DataManager[_0xa0d62(0x219)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0xa0d62(0xf0)](_0x45c24e)[_0xa0d62(0x241)](()=>console[_0xa0d62(0x1d5)]('Batch\x20Sync\x20OK'))[_0xa0d62(0x114)](_0x3a767c=>showToast(_0xa0d62(0x21f),![]));}const NotificationManager={'formatDate'(_0x55e2aa){const _0x1f22ab=a2_0x403e68,_0x2c2b1d=new Date(_0x55e2aa),_0x561ca2={'weekday':_0x1f22ab(0x1df),'day':'numeric','month':_0x1f22ab(0x1df)};let _0x4de4c5=_0x2c2b1d[_0x1f22ab(0x1dc)]('ru-RU',_0x561ca2);return _0x4de4c5[_0x1f22ab(0x21b)](0x0)['toUpperCase']()+_0x4de4c5[_0x1f22ab(0x1cb)](0x1);},'getText'(_0x2ca67f,_0x1a32df){const _0x1900c0=a2_0x403e68,_0x3a5579=this[_0x1900c0(0x11a)](_0x1a32df[_0x1900c0(0x11f)]);switch(_0x2ca67f){case _0x1900c0(0x154):return'<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a'+(_0x1900c0(0x133)+_0x3a5579+'\x0a')+('<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20'+_0x1a32df['start']+_0x1900c0(0x168)+_0x1a32df[_0x1900c0(0x206)]+'\x0a\x0a')+_0x1900c0(0x223);case'update':return _0x1900c0(0xff)+_0x1900c0(0x160)+(_0x1900c0(0xf5)+_0x1a32df[_0x1900c0(0x23b)]+_0x1900c0(0x168)+_0x1a32df[_0x1900c0(0x206)]+_0x1900c0(0xe7))+(_0x1900c0(0x133)+_0x3a5579);case _0x1900c0(0x22b):return _0x1900c0(0x12e)+(_0x1900c0(0x1e2)+_0x3a5579+'\x20('+_0x1a32df[_0x1900c0(0x23b)]+')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.');case _0x1900c0(0x135):return _0x1900c0(0x14c)+_0x1900c0(0x156)+_0x1900c0(0x1da);default:return'';}},async 'send'(_0x427959,_0x1a01fc){const _0x219195=a2_0x403e68;console['log'](_0x219195(0x1d0),_0x427959,_0x1a01fc);if(!_0x1a01fc){console[_0x219195(0x10d)](_0x219195(0x1ca));return;}const _0x7f7752=String(_0x1a01fc['clientId']);console[_0x219195(0x1d5)]('[Notify]\x20Detected\x20Client\x20ID:',_0x7f7752);if(!_0x1a01fc[_0x219195(0x116)]||_0x7f7752===_0x219195(0x249)||_0x7f7752===_0x219195(0x210)){console[_0x219195(0x10d)](_0x219195(0x16e));if(_0x1a01fc['client']){const _0x5a3adc=clients['find'](_0x19f055=>_0x19f055['name']===_0x1a01fc[_0x219195(0xe1)]);if(_0x5a3adc)return console[_0x219195(0x1d5)]('[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:',_0x5a3adc['id']),this[_0x219195(0x204)](_0x427959,{..._0x1a01fc,'clientId':_0x5a3adc['id']});}return;}if(_0x7f7752[_0x219195(0x239)]<0x5){console[_0x219195(0x123)]('[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)',_0x7f7752);return;}const _0x439509=this[_0x219195(0x247)](_0x427959,_0x1a01fc);if(!_0x439509){console[_0x219195(0x10d)](_0x219195(0x148));return;}console[_0x219195(0x1d5)]('[Notify]\x20Sending\x20to\x20GAS\x20for\x20'+_0x7f7752+_0x219195(0x1d2)),DataManager[_0x219195(0x185)](_0x219195(0xce),{'chatId':_0x7f7752,'text':_0x439509})['then'](_0x43b05a=>console[_0x219195(0x1d5)](_0x219195(0x21c),_0x43b05a))[_0x219195(0x114)](_0x3e200e=>console[_0x219195(0x10d)](_0x219195(0x144),_0x3e200e));}};function getLocalDateStr(_0xfad9e9){const _0x3ae7f8=a2_0x403e68,_0x5cc571=_0xfad9e9[_0x3ae7f8(0x173)](),_0x5b3b2e=String(_0xfad9e9[_0x3ae7f8(0x211)]()+0x1)[_0x3ae7f8(0x20b)](0x2,'0'),_0x3cc2ad=String(_0xfad9e9['getDate']())[_0x3ae7f8(0x20b)](0x2,'0');return _0x5cc571+'-'+_0x5b3b2e+'-'+_0x3cc2ad;}function getDateStr(_0x20cbf6){const _0x4f69d2=a2_0x403e68,_0x50ac66=new Date();return _0x50ac66[_0x4f69d2(0x102)](_0x50ac66[_0x4f69d2(0x1b8)]()+_0x20cbf6),getLocalDateStr(_0x50ac66);}function getStartOfWeek(_0x36749a){const _0x2eecf1=a2_0x403e68,_0x1646ca=new Date(_0x36749a),_0x3f5346=_0x1646ca['getDay'](),_0x19a875=_0x1646ca['getDate']()-_0x3f5346+(_0x3f5346===0x0?-0x6:0x1);return _0x1646ca[_0x2eecf1(0x102)](_0x19a875),_0x1646ca[_0x2eecf1(0x20e)](0x0,0x0,0x0,0x0),_0x1646ca;}function hexToRgba(_0x4b3063,_0x27536d){const _0xe311e2=a2_0x403e68;if(!_0x4b3063)return _0xe311e2(0x21e);let _0x1deefb=0x0,_0x465ade=0x0,_0x4918b5=0x0;if(_0x4b3063[_0xe311e2(0x239)]===0x4)_0x1deefb='0x'+_0x4b3063[0x1]+_0x4b3063[0x1],_0x465ade='0x'+_0x4b3063[0x2]+_0x4b3063[0x2],_0x4918b5='0x'+_0x4b3063[0x3]+_0x4b3063[0x3];else _0x4b3063[_0xe311e2(0x239)]===0x7&&(_0x1deefb='0x'+_0x4b3063[0x1]+_0x4b3063[0x2],_0x465ade='0x'+_0x4b3063[0x3]+_0x4b3063[0x4],_0x4918b5='0x'+_0x4b3063[0x5]+_0x4b3063[0x6]);return _0xe311e2(0x19c)+ +_0x1deefb+',\x20'+ +_0x465ade+',\x20'+ +_0x4918b5+',\x20'+_0x27536d+')';}function renderTimeColumn(){const _0x6ec5a6=a2_0x403e68,_0x87dca5=document[_0x6ec5a6(0x127)](_0x6ec5a6(0x13a)),_0x4567c6=document['getElementById'](_0x6ec5a6(0x17e));_0x87dca5[_0x6ec5a6(0x178)]='',_0x87dca5[_0x6ec5a6(0x1c2)](_0x4567c6);for(let _0x192688=0x0;_0x192688<0x18;_0x192688++){const _0x57e1f6=document['createElement'](_0x6ec5a6(0x1e9));_0x57e1f6['className']=_0x6ec5a6(0x1ba);if(_0x192688>0x0)_0x57e1f6[_0x6ec5a6(0x178)]='<span>'+String(_0x192688)[_0x6ec5a6(0x20b)](0x2,'0')+_0x6ec5a6(0x131);_0x87dca5[_0x6ec5a6(0x1c2)](_0x57e1f6);}}function renderDayRange(_0x1b0308,_0x27e531){const _0x5926c8=a2_0x403e68,_0xebf1df=document[_0x5926c8(0x127)](_0x5926c8(0x14a)),_0x4d1bea=document[_0x5926c8(0x127)](_0x5926c8(0x188)),_0x43c446=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x54a7c5=new Date();_0x54a7c5[_0x5926c8(0x20e)](0x0,0x0,0x0,0x0);const _0x2b75a0=getLocalDateStr(new Date());for(let _0x364ac2=_0x1b0308;_0x364ac2<=_0x27e531;_0x364ac2++){const _0x4125d7=new Date(_0x54a7c5);_0x4125d7[_0x5926c8(0x102)](_0x4125d7[_0x5926c8(0x1b8)]()+_0x364ac2);const _0x3132a1=getLocalDateStr(_0x4125d7);let _0x3e91ee=_0x4125d7[_0x5926c8(0x1b9)]()-0x1;if(_0x3e91ee===-0x1)_0x3e91ee=0x6;const _0x293b3d=_0x3132a1===_0x2b75a0,_0x2d1d9c=document[_0x5926c8(0x1cf)](_0x5926c8(0x1e9));_0x2d1d9c[_0x5926c8(0x147)]=_0x5926c8(0x104)+(_0x293b3d?_0x5926c8(0x200):''),_0x2d1d9c['id']=_0x5926c8(0x1ea)+_0x3132a1,_0x2d1d9c['setAttribute'](_0x5926c8(0x12f),_0x3132a1),_0x2d1d9c[_0x5926c8(0x178)]=_0x5926c8(0x15f)+_0x43c446[_0x3e91ee]+_0x5926c8(0x101)+_0x4125d7['getDate']()+_0x5926c8(0x208)+_0x3132a1+_0x5926c8(0x1a3),_0x2d1d9c[_0x5926c8(0x134)]=()=>openDayOptions(_0x3132a1,_0x43c446[_0x3e91ee]+'\x20'+_0x4125d7[_0x5926c8(0x1b8)]()),_0xebf1df[_0x5926c8(0x1c2)](_0x2d1d9c);const _0x15366f=document[_0x5926c8(0x1cf)](_0x5926c8(0x1e9));_0x15366f['className']=_0x5926c8(0x14f)+(_0x293b3d?_0x5926c8(0x200):''),_0x15366f[_0x5926c8(0x1fa)](_0x5926c8(0x12f),_0x3132a1),_0x15366f[_0x5926c8(0x1fa)]('data-day-idx',_0x3e91ee),renderEventsForColumn(_0x15366f,_0x3132a1,_0x3e91ee),attachLongPressHandler(_0x15366f,_0x4125d7),_0x4d1bea[_0x5926c8(0x1c2)](_0x15366f),updateDayStats(_0x3132a1);}}function reRenderBlocks(){const _0x656cfa=a2_0x403e68;document[_0x656cfa(0x1a0)](_0x656cfa(0x153))[_0x656cfa(0x23f)](_0x384fa5=>{const _0x500dd9=_0x656cfa;_0x384fa5[_0x500dd9(0x1a0)]('.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card')['forEach'](_0x49ccfa=>_0x49ccfa['remove']());const _0x4ca541=_0x384fa5[_0x500dd9(0x1b3)](_0x500dd9(0x12f)),_0xb12bb5=parseInt(_0x384fa5[_0x500dd9(0x1b3)](_0x500dd9(0x18c))),_0x2f918b=Math[_0x500dd9(0x145)](_0x384fa5[_0x500dd9(0xc6)]);(availabilityPattern[_0xb12bb5]||[])['forEach'](_0x245960=>{const _0x220a1e=_0x500dd9,_0x203824=document[_0x220a1e(0x1cf)](_0x220a1e(0x1e9));_0x203824['className']=_0x220a1e(0x227);const _0x40f77b=_0x245960*GRID_H;_0x203824[_0x220a1e(0xd6)]['top']=_0x40f77b+'px',_0x203824[_0x220a1e(0xd6)][_0x220a1e(0x23a)]='-'+_0x2f918b+_0x220a1e(0x1d4)+_0x40f77b+'px',_0x384fa5[_0x220a1e(0x1c2)](_0x203824);});if(specialRanges&&specialRanges[_0x500dd9(0x239)]>0x0){const _0x4a4974=new Date(_0x4ca541+_0x500dd9(0x17f))['getTime'](),_0x5ed242=new Date(_0x4ca541+_0x500dd9(0x21a))['getTime']();specialRanges[_0x500dd9(0x23f)](_0x14d763=>{const _0xd149cb=_0x500dd9,_0x45b1ed=new Date(_0x14d763[_0xd149cb(0x23b)])[_0xd149cb(0x111)](),_0x51048f=new Date(_0x14d763[_0xd149cb(0x206)])[_0xd149cb(0x111)](),_0x200027=Math['max'](_0x4a4974,_0x45b1ed),_0x3c5ddd=Math['min'](_0x5ed242,_0x51048f);if(_0x200027<_0x3c5ddd){if(_0x200027<=_0x4a4974&&_0x3c5ddd>=_0x5ed242-0xea60){if(!_0x384fa5['querySelector'](_0xd149cb(0x125))){const _0x5f1a16=document[_0xd149cb(0x1cf)](_0xd149cb(0x1e9));_0x5f1a16['className']=_0xd149cb(0xe0),_0x5f1a16[_0xd149cb(0xd6)]['backgroundPosition']='-'+_0x2f918b+'px\x200px',_0x384fa5['appendChild'](_0x5f1a16);}}else{const _0xabfe49=(_0x200027-_0x4a4974)/0x36ee80*GRID_H,_0x1638c9=(_0x3c5ddd-_0x200027)/0x36ee80*GRID_H,_0x1fd2b9=document['createElement'](_0xd149cb(0x1e9));_0x1fd2b9['className']='blocked-range-part\x20stripe-bg',_0x1fd2b9[_0xd149cb(0xd6)][_0xd149cb(0x1a7)]=_0xabfe49+'px',_0x1fd2b9[_0xd149cb(0xd6)][_0xd149cb(0x217)]=_0x1638c9+'px',_0x1fd2b9['style'][_0xd149cb(0x23a)]='-'+_0x2f918b+'px\x20-'+_0xabfe49+'px',_0x384fa5[_0xd149cb(0x1c2)](_0x1fd2b9);}}});}if(dateExceptions[_0x4ca541]==='off'){if(!_0x384fa5[_0x500dd9(0x106)](_0x500dd9(0x125))){const _0x300591=document['createElement'](_0x500dd9(0x1e9));_0x300591['className']='day-off-overlay\x20stripe-bg',_0x300591['style'][_0x500dd9(0x23a)]='-'+_0x2f918b+_0x500dd9(0x215),_0x384fa5[_0x500dd9(0x1c2)](_0x300591);}}renderEventsForColumn(_0x384fa5,_0x4ca541,_0xb12bb5),updateDayStats(_0x4ca541);});}function updateAllDayStats(){const _0x3c6f39=a2_0x403e68;document[_0x3c6f39(0x1a0)](_0x3c6f39(0x1b7))[_0x3c6f39(0x23f)](_0x302ce4=>{updateDayStats(_0x302ce4['getAttribute']('data-date'));});}function updateDayStats(_0x4eb8ec){const _0x40310b=a2_0x403e68,_0x3697e6=document[_0x40310b(0x127)](_0x40310b(0xcd)+_0x4eb8ec);if(!_0x3697e6)return;const _0x9b9e91=new Date(_0x4eb8ec);let _0x369fe1=_0x9b9e91[_0x40310b(0x1b9)]()-0x1;if(_0x369fe1===-0x1)_0x369fe1=0x6;if(dateExceptions[_0x4eb8ec]===_0x40310b(0x233)){_0x3697e6[_0x40310b(0xd6)][_0x40310b(0x143)]='none';return;}const _0x3446d0=availabilityPattern[_0x369fe1]||[],_0x3c4072=0x18-_0x3446d0[_0x40310b(0x239)],_0x580f8e=_0x3c4072*0x3c,_0x235e47=sessions[_0x40310b(0x167)](_0x199458=>_0x199458[_0x40310b(0x11f)]===_0x4eb8ec&&_0x199458[_0x40310b(0x15d)]!==_0x40310b(0x13f));if(_0x235e47[_0x40310b(0x239)]===0x0){_0x3697e6[_0x40310b(0xd6)]['display']=_0x40310b(0x130);return;}let _0x46ef2a=_0x235e47[_0x40310b(0x115)](_0x812c3d=>{const _0x2a8d55=_0x40310b,[_0x598c6a,_0x584e3e]=_0x812c3d['start']['split'](':')[_0x2a8d55(0x115)](Number),[_0x169a90,_0x28c374]=_0x812c3d[_0x2a8d55(0x206)]['split'](':')[_0x2a8d55(0x115)](Number);return[_0x598c6a*0x3c+_0x584e3e,_0x169a90*0x3c+_0x28c374];});_0x46ef2a[_0x40310b(0x1dd)]((_0x5b4788,_0x530486)=>_0x5b4788[0x0]-_0x530486[0x0]);let _0x490f1c=[];if(_0x46ef2a[_0x40310b(0x239)]>0x0){let _0x5cb705=_0x46ef2a[0x0];for(let _0x557ee1=0x1;_0x557ee1<_0x46ef2a['length'];_0x557ee1++){_0x46ef2a[_0x557ee1][0x0]<_0x5cb705[0x1]?_0x5cb705[0x1]=Math[_0x40310b(0x1e1)](_0x5cb705[0x1],_0x46ef2a[_0x557ee1][0x1]):(_0x490f1c['push'](_0x5cb705),_0x5cb705=_0x46ef2a[_0x557ee1]);}_0x490f1c[_0x40310b(0x195)](_0x5cb705);}let _0x42b5e3=0x0;_0x490f1c[_0x40310b(0x23f)](_0x1fcd6c=>_0x42b5e3+=_0x1fcd6c[0x1]-_0x1fcd6c[0x0]),_0x3697e6[_0x40310b(0xd6)][_0x40310b(0x143)]='flex';const _0x404a9e=_0x3697e6[_0x40310b(0x106)](_0x40310b(0x193));if(_0x580f8e===0x0){_0x404a9e[_0x40310b(0xd6)][_0x40310b(0x16c)]='100%',_0x404a9e[_0x40310b(0xd6)][_0x40310b(0x235)]='var(--acc-red)';return;}const _0x5d230c=_0x42b5e3/_0x580f8e*0x64;console['log']('['+_0x4eb8ec+']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20'+_0x3c4072+'—á,\x20–ó–∞–Ω—è—Ç–æ:\x20'+_0x42b5e3+_0x40310b(0x1ab)+_0x5d230c[_0x40310b(0x1eb)](0x1)+'%'),_0x5d230c>0x64?(_0x404a9e[_0x40310b(0xd6)][_0x40310b(0x16c)]=_0x40310b(0x1ee),_0x404a9e[_0x40310b(0xd6)][_0x40310b(0x235)]=_0x40310b(0xea)):(_0x404a9e[_0x40310b(0xd6)][_0x40310b(0x16c)]=_0x5d230c+'%',_0x404a9e['style'][_0x40310b(0x235)]=_0x40310b(0x248));}function renderEventsForColumn(_0x4b941b,_0x515901,_0x299196){const _0xfcc72a=a2_0x403e68,_0x568fd6=sessions['filter'](_0x5cb9dd=>_0x5cb9dd[_0xfcc72a(0x11f)]===_0x515901),_0x5409a0=_0x568fd6['map'](_0x1f7ad3=>{const _0x4d6fc3=_0xfcc72a,[_0x54935e,_0x4e89ab]=_0x1f7ad3['start'][_0x4d6fc3(0x1e8)](':')[_0x4d6fc3(0x115)](Number),[_0x5867ff,_0x5c2e76]=_0x1f7ad3[_0x4d6fc3(0x206)]['split'](':')[_0x4d6fc3(0x115)](Number);return{'data':_0x1f7ad3,'start':_0x54935e*0x3c+_0x4e89ab,'end':_0x5867ff*0x3c+_0x5c2e76,'colIndex':0x0};});_0x5409a0[_0xfcc72a(0x1dd)]((_0x131983,_0x1c14f2)=>{const _0x24c9f9=_0xfcc72a;if(_0x131983[_0x24c9f9(0x23b)]!==_0x1c14f2[_0x24c9f9(0x23b)])return _0x131983[_0x24c9f9(0x23b)]-_0x1c14f2[_0x24c9f9(0x23b)];return _0x1c14f2[_0x24c9f9(0x206)]-_0x1c14f2[_0x24c9f9(0x23b)]-(_0x131983[_0x24c9f9(0x206)]-_0x131983[_0x24c9f9(0x23b)]);});const _0x3838e1=[];_0x5409a0[_0xfcc72a(0x23f)](_0x3338f5=>{const _0x1af82d=_0xfcc72a;let _0x4b2f21=![];for(let _0x2f0ac9=0x0;_0x2f0ac9<_0x3838e1['length'];_0x2f0ac9++){const _0x50e54e=_0x3838e1[_0x2f0ac9],_0x5092e8=_0x50e54e[_0x50e54e['length']-0x1];if(_0x3338f5[_0x1af82d(0x23b)]>=_0x5092e8[_0x1af82d(0x206)]){_0x50e54e[_0x1af82d(0x195)](_0x3338f5),_0x3338f5[_0x1af82d(0xf7)]=_0x2f0ac9,_0x4b2f21=!![];break;}}!_0x4b2f21&&(_0x3838e1[_0x1af82d(0x195)]([_0x3338f5]),_0x3338f5[_0x1af82d(0xf7)]=_0x3838e1[_0x1af82d(0x239)]-0x1);}),_0x5409a0[_0xfcc72a(0x23f)](_0x1f9b3a=>{const _0x5cdaa3=_0xfcc72a;let _0x25a986=0x0;_0x5409a0[_0x5cdaa3(0x23f)](_0x4ffc56=>{const _0x158a1f=_0x5cdaa3;if(Math[_0x158a1f(0x1e1)](_0x1f9b3a[_0x158a1f(0x23b)],_0x4ffc56[_0x158a1f(0x23b)])<Math[_0x158a1f(0x18e)](_0x1f9b3a[_0x158a1f(0x206)],_0x4ffc56[_0x158a1f(0x206)])){if(_0x4ffc56[_0x158a1f(0xf7)]>_0x25a986)_0x25a986=_0x4ffc56[_0x158a1f(0xf7)];}});const _0x4d5964=_0x25a986+0x1,_0x2072ec=0x64/_0x4d5964,_0x58cdec=_0x1f9b3a['colIndex']*_0x2072ec,_0x4367d5=createEventEl(_0x1f9b3a[_0x5cdaa3(0x1fb)]);_0x4367d5[_0x5cdaa3(0xd6)][_0x5cdaa3(0x16c)]='calc('+_0x2072ec+_0x5cdaa3(0xeb),_0x4367d5[_0x5cdaa3(0xd6)]['left']=_0x5cdaa3(0x1aa)+_0x58cdec+'%\x20+\x202px)',_0x4367d5[_0x5cdaa3(0xd6)][_0x5cdaa3(0x124)]=0xa+_0x1f9b3a[_0x5cdaa3(0xf7)],_0x2072ec<0x55&&_0x4367d5[_0x5cdaa3(0x151)][_0x5cdaa3(0x209)](_0x5cdaa3(0x23c)),_0x4b941b['appendChild'](_0x4367d5);});}function createEventEl(_0x4cdc5a){const _0x1de8c3=a2_0x403e68,[_0x34440b,_0x163791]=_0x4cdc5a[_0x1de8c3(0x23b)][_0x1de8c3(0x1e8)](':')['map'](Number),[_0x59db34,_0x536b6f]=_0x4cdc5a[_0x1de8c3(0x206)]['split'](':')[_0x1de8c3(0x115)](Number),_0x4fe270=(_0x34440b*0x3c+_0x163791)/0x3c*GRID_H,_0xa94af3=(_0x59db34*0x3c+_0x536b6f-(_0x34440b*0x3c+_0x163791))/0x3c*GRID_H,_0x47222b=document[_0x1de8c3(0x1cf)]('div'),_0x2ff49b=_0x4cdc5a[_0x1de8c3(0x15d)]===_0x1de8c3(0x12b)?_0x1de8c3(0x1d1):'';_0x47222b[_0x1de8c3(0x147)]=_0x1de8c3(0x1b6)+_0x2ff49b,_0x47222b[_0x1de8c3(0xd6)][_0x1de8c3(0x1a7)]=_0x4fe270+'px',_0x47222b[_0x1de8c3(0xd6)][_0x1de8c3(0x217)]=Math[_0x1de8c3(0x1e1)](_0xa94af3,0x14)+'px';const _0x549d44=clients[_0x1de8c3(0x120)](_0x8ae63d=>_0x4cdc5a[_0x1de8c3(0x116)]&&String(_0x8ae63d['id'])===String(_0x4cdc5a[_0x1de8c3(0x116)])||_0x8ae63d[_0x1de8c3(0x186)]===_0x4cdc5a[_0x1de8c3(0xe1)]),_0x2ee633=_0x549d44?_0x549d44[_0x1de8c3(0x194)]:_0x1de8c3(0x138);_0x47222b[_0x1de8c3(0xd6)]['borderLeftColor']=_0x2ee633,_0x47222b[_0x1de8c3(0xd6)][_0x1de8c3(0x181)]=hexToRgba(_0x2ee633,0.85);let _0x1d1178='<div\x20class=\x22ev-title\x22>'+_0x4cdc5a['client']+_0x1de8c3(0x1b4)+_0x4cdc5a[_0x1de8c3(0x23b)]+'\x20-\x20'+_0x4cdc5a[_0x1de8c3(0x206)]+_0x1de8c3(0x232);return _0x4cdc5a['seriesId']&&(_0x1d1178+='<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>'),_0x4cdc5a[_0x1de8c3(0x15d)]===_0x1de8c3(0x12b)&&(_0x1d1178+='<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>'),_0x47222b[_0x1de8c3(0x178)]=_0x1d1178,_0x47222b['onclick']=_0x3536a3=>{_0x3536a3['stopPropagation'](),openEdit(_0x4cdc5a);},_0x47222b;}function attachLongPressHandler(_0x428fbb,_0x37c387){const _0x779bf6=a2_0x403e68;let _0x3543e8=0x0,_0x4a936e=null;const _0x2d62dc=_0x31a4ca=>{const _0x430d61=a2_0x18d7;if(_0x31a4ca['target'][_0x430d61(0x228)]('.event-card'))return;isScrolling=![],_0x3543e8=_0x31a4ca[_0x430d61(0x191)]?_0x31a4ca['touches'][0x0][_0x430d61(0x199)]:_0x31a4ca[_0x430d61(0x199)],_0x4a936e=setTimeout(()=>{const _0x3b720c=_0x430d61;if(!isScrolling){navigator['vibrate']?.(0x32);const _0x119536=_0x428fbb['getBoundingClientRect'](),_0x4776cc=Math[_0x3b720c(0x1ae)]((_0x3543e8-_0x119536[_0x3b720c(0x1a7)])/GRID_H);_0x37c387[_0x3b720c(0x20e)](_0x4776cc,0x0),openAddSession(_0x37c387);}},0x1f4);},_0x119602=()=>{isScrolling=!![],clearTimeout(_0x4a936e);},_0xd5f71e=()=>{clearTimeout(_0x4a936e);};_0x428fbb['addEventListener'](_0x779bf6(0x1c8),_0x2d62dc,{'passive':!![]}),_0x428fbb['addEventListener']('touchmove',_0x119602,{'passive':!![]}),_0x428fbb[_0x779bf6(0x159)](_0x779bf6(0x214),_0xd5f71e),_0x428fbb[_0x779bf6(0x159)](_0x779bf6(0xda),_0x2d62dc),_0x428fbb[_0x779bf6(0x159)]('mousemove',_0x119602),_0x428fbb[_0x779bf6(0x159)](_0x779bf6(0x229),_0xd5f71e);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x1ad1ed=a2_0x403e68,_0x518bda=document[_0x1ad1ed(0x127)](_0x1ad1ed(0x20a)),_0x244d05=_0x518bda[_0x1ad1ed(0xd2)],_0x3a1527=_0x518bda['scrollWidth'],_0x22a20f=_0x518bda[_0x1ad1ed(0xfd)];if(_0x3a1527-(_0x244d05+_0x22a20f)<0x12c){const _0xd3fa86=endOffset;endOffset+=0xe,renderDayRange(_0xd3fa86+0x1,endOffset),reRenderBlocks();}if(_0x244d05<0x12c){const _0x1c638c=startOffset;startOffset-=0xe,prependDays(startOffset,_0x1c638c-0x1),_0x518bda[_0x1ad1ed(0xd2)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x12388a,_0x1b283c){const _0x2082fc=a2_0x403e68,_0x2f93e0=document[_0x2082fc(0x127)]('daysHeaderTrack'),_0x2344db=document['getElementById'](_0x2082fc(0x188)),_0x1e0c9b=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x972dc1=new Date();_0x972dc1['setHours'](0x0,0x0,0x0,0x0);const _0x2375b4=getLocalDateStr(new Date()),_0x3bee02=document[_0x2082fc(0x19b)](),_0xb1ace8=document[_0x2082fc(0x19b)]();for(let _0x2261c9=_0x12388a;_0x2261c9<=_0x1b283c;_0x2261c9++){const _0x56c3af=new Date(_0x972dc1);_0x56c3af[_0x2082fc(0x102)](_0x56c3af['getDate']()+_0x2261c9);const _0x303b21=getLocalDateStr(_0x56c3af);let _0x1ba7bc=_0x56c3af['getDay']()-0x1;if(_0x1ba7bc===-0x1)_0x1ba7bc=0x6;const _0x5b7f2c=_0x303b21===_0x2375b4,_0xe6bf5d=document[_0x2082fc(0x1cf)](_0x2082fc(0x1e9));_0xe6bf5d[_0x2082fc(0x147)]='day-col-header\x20'+(_0x5b7f2c?_0x2082fc(0x200):''),_0xe6bf5d['id']=_0x2082fc(0x1ea)+_0x303b21,_0xe6bf5d[_0x2082fc(0x1fa)]('data-date',_0x303b21),_0xe6bf5d[_0x2082fc(0x178)]=_0x2082fc(0x15f)+_0x1e0c9b[_0x1ba7bc]+'</div><div\x20class=\x22dch-num\x22>'+_0x56c3af[_0x2082fc(0x1b8)]()+_0x2082fc(0x208)+_0x303b21+_0x2082fc(0x1a3),_0xe6bf5d[_0x2082fc(0x134)]=()=>openDayOptions(_0x303b21,_0x1e0c9b[_0x1ba7bc]+'\x20'+_0x56c3af[_0x2082fc(0x1b8)]()),_0x3bee02[_0x2082fc(0x1c2)](_0xe6bf5d);const _0x5516eb=document['createElement'](_0x2082fc(0x1e9));_0x5516eb['className']=_0x2082fc(0x14f)+(_0x5b7f2c?_0x2082fc(0x200):''),_0x5516eb[_0x2082fc(0x1fa)]('data-date',_0x303b21),_0x5516eb[_0x2082fc(0x1fa)](_0x2082fc(0x18c),_0x1ba7bc),renderEventsForColumn(_0x5516eb,_0x303b21,_0x1ba7bc),attachLongPressHandler(_0x5516eb,_0x56c3af),_0xb1ace8['appendChild'](_0x5516eb),updateDayStats(_0x303b21);}_0x2f93e0[_0x2082fc(0x1fc)](_0x3bee02,_0x2f93e0[_0x2082fc(0x180)]),_0x2344db[_0x2082fc(0x1fc)](_0xb1ace8,_0x2344db[_0x2082fc(0x106)]('.day-column'));}function validateAppointment(_0x39d22a,_0x530eb7,_0x591fbe,_0x57711d,_0x3db642){const _0x23d23c=a2_0x403e68,[_0x1f08ae,_0x438fe4]=_0x530eb7['split'](':')[_0x23d23c(0x115)](Number),[_0x85ce2b,_0x47ff04]=_0x591fbe[_0x23d23c(0x1e8)](':')[_0x23d23c(0x115)](Number),_0x4d88e6=_0x1f08ae*0x3c+_0x438fe4,_0x5d6a3a=_0x85ce2b*0x3c+_0x47ff04,_0x563eab=String(_0x3db642);let _0x565b22=![],_0x504a26='';for(let _0x47bf1e of sessions){if(_0x47bf1e[_0x23d23c(0x11f)]!==_0x39d22a)continue;if(_0x47bf1e[_0x23d23c(0x15d)]===_0x23d23c(0x13f))continue;if(_0x57711d&&String(_0x47bf1e['id'])===String(_0x57711d))continue;const [_0x4637ec,_0x2ac8a0]=_0x47bf1e['start']['split'](':')['map'](Number),[_0x38bd70,_0x313b64]=_0x47bf1e[_0x23d23c(0x206)][_0x23d23c(0x1e8)](':')[_0x23d23c(0x115)](Number),_0x28f53f=_0x4637ec*0x3c+_0x2ac8a0,_0x395e2b=_0x38bd70*0x3c+_0x313b64;if(Math[_0x23d23c(0x1e1)](_0x4d88e6,_0x28f53f)<Math['min'](_0x5d6a3a,_0x395e2b)){if(_0x47bf1e[_0x23d23c(0x116)]&&String(_0x47bf1e[_0x23d23c(0x116)])===_0x563eab)return{'valid':![],'msg':_0x23d23c(0x234)+_0x47bf1e[_0x23d23c(0xe1)]+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x565b22=!![],_0x504a26=_0x47bf1e['client'];}}if(_0x565b22)return{'valid':!![],'warning':_0x23d23c(0x1ef)+_0x504a26};return{'valid':!![]};}function updateDateDisplay(){const _0x1932b3=a2_0x403e68,_0x47b788=document[_0x1932b3(0x127)](_0x1932b3(0x20d))[_0x1932b3(0x132)],_0x36f884=document[_0x1932b3(0x127)]('sheetDateSubtitle');if(!_0x47b788){_0x36f884[_0x1932b3(0x1a4)]='';return;}const [_0x55fac5,_0x6ae0c6,_0x41ffef]=_0x47b788[_0x1932b3(0x1e8)]('-')[_0x1932b3(0x115)](Number),_0x20e89b=new Date(_0x55fac5,_0x6ae0c6-0x1,_0x41ffef),_0x18553b={'weekday':'long','day':_0x1932b3(0x146),'month':_0x1932b3(0x1df),'year':_0x1932b3(0x146)};let _0x3c1e16=_0x20e89b[_0x1932b3(0x1dc)](_0x1932b3(0xe6),_0x18553b);_0x3c1e16=_0x3c1e16[_0x1932b3(0x21b)](0x0)[_0x1932b3(0x16b)]()+_0x3c1e16['slice'](0x1),_0x36f884[_0x1932b3(0x1a4)]=_0x3c1e16;}function autoSetEndTime(){const _0x32246a=a2_0x403e68,_0x324130=document[_0x32246a(0x127)](_0x32246a(0x1ac))[_0x32246a(0x132)];if(!_0x324130)return;const [_0x5984ff,_0x443319]=_0x324130[_0x32246a(0x1e8)](':')[_0x32246a(0x115)](Number);let _0x2aaa57=_0x5984ff+0x1;if(_0x2aaa57>0x17)_0x2aaa57=0x0;const _0x1beee8=String(_0x2aaa57)[_0x32246a(0x20b)](0x2,'0')+':'+String(_0x443319)[_0x32246a(0x20b)](0x2,'0');document[_0x32246a(0x127)](_0x32246a(0xdb))[_0x32246a(0x132)]=_0x1beee8;}function populateClientSelect(){const _0x290468=a2_0x403e68,_0xb5b735=document['getElementById'](_0x290468(0x117));_0xb5b735[_0x290468(0x178)]='';if(clients['length']===0x0){const _0x3e63c4=document[_0x290468(0x1cf)](_0x290468(0x20c));_0x3e63c4[_0x290468(0x1f6)]=_0x290468(0x1cd),_0xb5b735['appendChild'](_0x3e63c4);return;}clients['forEach'](_0x1cf411=>{const _0x4d8c24=_0x290468,_0x415af8=document[_0x4d8c24(0x1cf)](_0x4d8c24(0x20c));_0x415af8['value']=_0x1cf411[_0x4d8c24(0x186)],_0x415af8[_0x4d8c24(0x1a4)]=_0x1cf411[_0x4d8c24(0x186)],_0xb5b735[_0x4d8c24(0x1c2)](_0x415af8);});}function openActionSheet(_0x1264c0){const _0x39ff52=a2_0x403e68,_0x383e73=document[_0x39ff52(0x127)](_0x39ff52(0x197)),_0x2b25ec=document[_0x39ff52(0x127)](_0x39ff52(0x18b)),_0x56e886=document[_0x39ff52(0x127)]('asTitle'),_0x4bb39f=document['getElementById']('asBtnOne'),_0x4a96f9=document[_0x39ff52(0x127)](_0x39ff52(0x203));_0x2b25ec[_0x39ff52(0x151)][_0x39ff52(0x209)](_0x39ff52(0x1bd)),_0x383e73[_0x39ff52(0x151)][_0x39ff52(0x209)](_0x39ff52(0x112));if(_0x1264c0==='save')_0x56e886[_0x39ff52(0x1a4)]=_0x39ff52(0x1ad),_0x4bb39f[_0x39ff52(0x1a4)]=_0x39ff52(0x1bf),_0x4bb39f[_0x39ff52(0x134)]=()=>{closeActionSheet(),updateSeriesBatch('single',tempSessionData);},_0x4a96f9['textContent']=_0x39ff52(0xfe),_0x4a96f9[_0x39ff52(0x134)]=()=>{const _0xadce04=_0x39ff52;closeActionSheet(),updateSeriesBatch(_0xadce04(0xf8),tempSessionData);};else _0x1264c0===_0x39ff52(0x196)&&(_0x56e886[_0x39ff52(0x1a4)]=_0x39ff52(0x161),_0x4bb39f[_0x39ff52(0x1a4)]=_0x39ff52(0x1bf),_0x4bb39f[_0x39ff52(0x147)]=_0x39ff52(0x1b1),_0x4bb39f[_0x39ff52(0x134)]=()=>{const _0x2cb6f2=_0x39ff52;closeActionSheet(),commitDelete(_0x2cb6f2(0x103),sessions[_0x2cb6f2(0x120)](_0x9f5f6c=>_0x9f5f6c['id']===editingId));},_0x4a96f9['textContent']=_0x39ff52(0xfe),_0x4a96f9['className']=_0x39ff52(0x221),_0x4a96f9[_0x39ff52(0x134)]=()=>{const _0x274d02=_0x39ff52;closeActionSheet(),commitDelete(_0x274d02(0xf8),sessions[_0x274d02(0x120)](_0x528643=>_0x528643['id']===editingId));});}function closeActionSheet(){const _0x5dc37c=a2_0x403e68;document['getElementById'](_0x5dc37c(0x197))[_0x5dc37c(0x151)][_0x5dc37c(0xfc)](_0x5dc37c(0x112)),document[_0x5dc37c(0x127)](_0x5dc37c(0x18b))[_0x5dc37c(0x151)][_0x5dc37c(0xfc)](_0x5dc37c(0x1bd));}function openSettings(){const _0xc5aa84=a2_0x403e68;openSheet(_0xc5aa84(0x213));}function saveCoachSettings(){const _0x93c8ff=a2_0x403e68,_0x168d31=document[_0x93c8ff(0x127)](_0x93c8ff(0x10b))[_0x93c8ff(0x132)];localStorage['setItem'](_0x93c8ff(0xd1),_0x168d31),console[_0x93c8ff(0x1d5)](_0x93c8ff(0x109),_0x168d31),DataManager['fetchFromServer'](_0x93c8ff(0x15a),{'settings':{'cancel_window':_0x168d31}})[_0x93c8ff(0x114)](_0x1dcdea=>{console['error']('Save\x20settings\x20error:',_0x1dcdea),showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫',![]);});}function loadCoachSettings(){const _0x11c03d=a2_0x403e68,_0x34f9f3=localStorage['getItem'](_0x11c03d(0xd1));_0x34f9f3&&(document[_0x11c03d(0x127)](_0x11c03d(0x10b))['value']=_0x34f9f3);}function a2_0x3724(){const _0x48fb94=['createElement','[Notify]\x20Attempting\x20to\x20send:','\x20status-completed','...','checked','px\x20-','log','guest','rangesSheet','all','Local\x20Load\x20Error','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','10px\x2010px\x200\x200','toLocaleDateString','sort','7BAODnm','long','rgba(48,\x20209,\x2088,\x200.15)','max','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','Critical\x20TMA\x20Error:','entries','btn-status-toggle\x20undo-mode','headerMonth','setMonth','split','div','header-','toFixed','10px','splice','100%','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','toString','note','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','success','toastTitle','text','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','dayOptionsSheet','pe-corner','setAttribute','data','insertBefore','pe-time-label','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','getHours','today','deleted','globalTimeLine','asBtnSeries','send','pe-col-header','end','btnDayToggle','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','add','matrixViewport','padStart','option','inpDate','setHours','disableVerticalSwipes','null','getMonth','\x20-\x20','settingsSheet','touchend','px\x200px','peGrid','height','pattern','saveLocally','T23:59:59','charAt','[Notify]\x20Server\x20Response:','Local\x20Save\x20Error','rgba(100,100,100,0.5)','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','settings','as-button\x20danger\x20bold','setHeaderColor','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','loadLocal','uc_settings_v9','blocked-slot\x20stripe-bg','closest','mouseup','anDonutCircle','cancel',':00','.sheet','custom','seriesCountContainer','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','stringify','</div>','off','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','background','strokeDashoffset','Telegram','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','length','backgroundPosition','start','mini','findIndex','analyticsList','forEach','overlay','then','borderColor','sessionSheet','[Notify]\x20Client\x20SWAP\x20detected','7523424YUOkug','done','getText','var(--acc-current)','undefined','offsetLeft','block','.period-switch\x20.p-btn','localeCompare','(((.+)+)+)+$','offsetWidth',':\x20Client\x20already\x20booked','stat-','send_notification','startsWith','649UobeLP','uc_settings_cancel_window','scrollLeft','planned','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','mergeServerData','style','inpRecurring','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','DOMContentLoaded','mousedown','inpEnd','flex','–£—Å–ø–µ—à–Ω–æ','23:59','now','day-off-overlay\x20stripe-bg','client','parse','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','btn-primary\x20btn-secondary','dayOptionsTitle','ru-RU','</b>\x0a\x0a','clients','rangeStartDate','var(--acc-red)','%\x20-\x204px)','WebApp','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','router.html','syncBatch','rgba(255,\x2069,\x2058,\x200.15)','#fff','anStart','rangeEndDate','<b>‚úÖ\x20','update','colIndex','series','week','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','Unknown','remove','clientWidth','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','init_load','</div><div\x20class=\x22dch-num\x22>','setDate','single','day-col-header\x20','563708RyuiJU','querySelector','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','rangeEndTime','[Settings]\x20Cancel\x20window\x20set\x20to:','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','settingCancelWindow','toLocaleString','error','location','anTotalStats','uc_sessions_v9','getTime','open','substr','catch','map','clientId','inpClient','doEventsList','cancel_window','formatDate','rangeStartTime','setBackgroundColor','batch_sync','scroll','dateStr','find','rgba(255,\x2069,\x2058,\x200.3)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','warn','zIndex','.day-off-overlay','anPercent','getElementById','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','3CNjHyV','borderLeftColor','completed','btn-status-toggle','1963618GSTwpd','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','data-date','none',':00</span>','value','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','onclick','complete','getMinutes','Server\x20Error','#0a84ff','–ò–Ω—Ñ–æ','timeColumn','\x20days','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','ranges','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','cancelled','toast-notification\x20','href','toast','display','[Notify]\x20Network\x20Failed','round','numeric','className','[Notify]\x20Error:\x20Text\x20generation\x20failed','v9.0-BATCH-CALENDAR','daysHeaderTrack','exceptions','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','getItem','day-column\x20','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','classList','sid','#gridColumns\x20.day-column','create','offClick','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','rangesList','anEnd','addEventListener','save_settings','patternInfoBox','inpSeriesCount','status','toastMessage','<div\x20class=\x22dch-day\x22>','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','–£–¥–∞–ª–µ–Ω–∏–µ','borderRadius','doBusyHours','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','00:00','156485mXGLPJ','filter','\x20‚Äî\x20','month','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','toUpperCase','width','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','patternEditor','99yYrEZM','.pib-text','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','getFullYear','seriesId','syncLoad','449968TFxobd',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','innerHTML','#050505','var(--acc-green)','user','25780IJCBlg','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','timeLineBadge','T00:00:00','firstChild','backgroundColor','total','search','calendar','fetchFromServer','name','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','gridColumns','[API\x20','var(--acc-orange)','actionSheetOverlay','data-day-idx','BackButton','min','sheetTitle','apply','touches','doWorkHours','.dch-stats-fill','color','push','delete','actionSheet','includes','clientY','inpNote','createDocumentFragment','rgba(','show','from','2473716twfdax','querySelectorAll','client-stat-card','[Series]\x20Skipped\x20','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','textContent',']\x20Failed:','onClick','top','initDataUnsafe','keys','calc(','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','inpStart','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','floor','valid','random','as-button\x20danger','pe-cell\x20','getAttribute','</div><div\x20class=\x22ev-time\x22>','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','event-card','.day-col-header','getDate','getDay','time-label','expand','json','active','Error\x20setting\x20color:','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','[Sync]\x20Loading\x20','btnStatusToggle','appendChild','recurringOptionContainer','de-item','stopPropagation','statLoadCard','text/plain;charset=UTF-8','touchstart','initData','[Notify]\x20Error:\x20sessionData\x20is\x20null','slice','25CxBsKT','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','doLoadPercent'];a2_0x3724=function(){return _0x48fb94;};return a2_0x3724();}function openRangesSheet(){const _0x487d4a=a2_0x403e68;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x487d4a(0x1d7));}function addRange(){const _0x15e6d9=a2_0x403e68,_0x404c02=document[_0x15e6d9(0x127)](_0x15e6d9(0xe9))[_0x15e6d9(0x132)],_0x2bfa5c=document[_0x15e6d9(0x127)]('rangeStartTime')[_0x15e6d9(0x132)],_0x5cfdc8=document['getElementById'](_0x15e6d9(0xf4))['value'],_0x1bdd07=document['getElementById'](_0x15e6d9(0x108))[_0x15e6d9(0x132)];if(!_0x404c02||!_0x2bfa5c||!_0x5cfdc8||!_0x1bdd07)return alert(_0x15e6d9(0x14d));const _0x1b90fd=_0x404c02+'T'+_0x2bfa5c,_0x3e2960=_0x5cfdc8+'T'+_0x1bdd07;if(_0x1b90fd>=_0x3e2960)return alert(_0x15e6d9(0x1b5));specialRanges[_0x15e6d9(0x195)]({'start':_0x1b90fd,'end':_0x3e2960}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x15e6d9(0x219)](),DataManager[_0x15e6d9(0x185)](_0x15e6d9(0x15a),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x48f0d3){const _0x588a5b=a2_0x403e68;specialRanges[_0x588a5b(0x1ed)](_0x48f0d3,0x1),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x588a5b(0x185)](_0x588a5b(0x15a),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x5da67f=a2_0x403e68;document[_0x5da67f(0x127)]('rangeStartDate')[_0x5da67f(0x132)]='',document[_0x5da67f(0x127)](_0x5da67f(0x11b))['value']=_0x5da67f(0x165),document['getElementById'](_0x5da67f(0xf4))[_0x5da67f(0x132)]='',document['getElementById']('rangeEndTime')[_0x5da67f(0x132)]=_0x5da67f(0xde);}function renderRangesList(){const _0x4d6852=a2_0x403e68,_0x3e217a=document[_0x4d6852(0x127)](_0x4d6852(0x157));_0x3e217a[_0x4d6852(0x178)]='';if(!specialRanges['length']){_0x3e217a[_0x4d6852(0x178)]=_0x4d6852(0xee);return;}specialRanges[_0x4d6852(0x23f)]((_0x269aa2,_0x18f172)=>{const _0x47af54=_0x4d6852,_0x30aee0=document[_0x47af54(0x1cf)](_0x47af54(0x1e9));_0x30aee0[_0x47af54(0x147)]='range-item';const _0x519fcf=_0x4d74ae=>{const _0x351106=_0x47af54,_0x38b968=new Date(_0x4d74ae);return _0x38b968[_0x351106(0x1b8)]()+'.'+String(_0x38b968[_0x351106(0x211)]()+0x1)['padStart'](0x2,'0')+'\x20'+String(_0x38b968[_0x351106(0x1ff)]())['padStart'](0x2,'0')+':'+String(_0x38b968[_0x351106(0x136)]())['padStart'](0x2,'0');};_0x30aee0[_0x47af54(0x178)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>'+_0x519fcf(_0x269aa2['start'])+'\x20‚Äî\x20'+_0x519fcf(_0x269aa2['end'])+_0x47af54(0x1f0)+_0x18f172+')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>',_0x3e217a[_0x47af54(0x1c2)](_0x30aee0);});}function scrollToToday(){const _0x3b7b39=a2_0x403e68,_0x23ea5b=getLocalDateStr(new Date()),_0x36980b=document[_0x3b7b39(0x127)](_0x3b7b39(0x1ea)+_0x23ea5b),_0x5fe5a5=document[_0x3b7b39(0x127)](_0x3b7b39(0x20a));if(_0x36980b&&_0x5fe5a5){const _0x2ad3b5=_0x5fe5a5['clientWidth'],_0x277d29=_0x36980b['offsetLeft'],_0x3fc83b=_0x36980b[_0x3b7b39(0xcb)];_0x5fe5a5[_0x3b7b39(0xd2)]=_0x277d29-_0x2ad3b5/0x2+_0x3fc83b/0x2,_0x5fe5a5['scrollTop']=0x9*GRID_H;}}function onScroll(){const _0x4bff08=a2_0x403e68,_0x2f5e2a=document[_0x4bff08(0x127)](_0x4bff08(0x20a)),_0x359c05=document['querySelectorAll'](_0x4bff08(0x1b7));for(let _0x3312bf of _0x359c05)if(_0x3312bf[_0x4bff08(0xc6)]>=_0x2f5e2a['scrollLeft']){const _0x2e108b=new Date(_0x3312bf['getAttribute'](_0x4bff08(0x12f)));document['getElementById'](_0x4bff08(0x1e6))['textContent']=_0x2e108b[_0x4bff08(0x10c)]('ru',{'month':_0x4bff08(0x1df)})['toUpperCase']()+'\x20'+_0x2e108b[_0x4bff08(0x173)]();break;}}function showToast(_0xd4df09,_0x1bc611=![]){const _0x4a8113=a2_0x403e68,_0x4ac3b2=document[_0x4a8113(0x127)](_0x4a8113(0x142));_0x4ac3b2['className']=_0x4a8113(0x140)+(_0x1bc611?_0x4a8113(0x1f4):''),document['getElementById'](_0x4a8113(0x1f5))[_0x4a8113(0x1a4)]=_0x1bc611?_0x4a8113(0xdd):_0x4a8113(0x139),document[_0x4a8113(0x127)](_0x4a8113(0x15e))[_0x4a8113(0x1a4)]=_0xd4df09,_0x4ac3b2['classList']['add']('show'),setTimeout(()=>{const _0x402058=_0x4a8113;_0x4ac3b2[_0x402058(0x151)][_0x402058(0xfc)](_0x402058(0x19d));},0xbb8);}function openDayOptions(_0x3c4c31,_0x1d0c0c){const _0x50caac=a2_0x403e68;selectedDayForOptions=_0x3c4c31,document[_0x50caac(0x127)](_0x50caac(0xe5))[_0x50caac(0x1a4)]=_0x1d0c0c,openSheet(_0x50caac(0x1f8));}function toggleDayOff(){const _0x2371ec=a2_0x403e68;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]='off',reRenderBlocks(),closeAllSheets(),DataManager[_0x2371ec(0x219)](),DataManager['fetchFromServer'](_0x2371ec(0x15a),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x141dc1=a2_0x403e68;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x141dc1(0x219)](),DataManager[_0x141dc1(0x185)]('save_settings',{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x3e0f4a){const _0x33ed2c=a2_0x403e68;document[_0x33ed2c(0x127)](_0x33ed2c(0x240))[_0x33ed2c(0x151)][_0x33ed2c(0x209)](_0x33ed2c(0x1bd)),document[_0x33ed2c(0x127)](_0x3e0f4a)[_0x33ed2c(0x151)][_0x33ed2c(0x209)](_0x33ed2c(0x112));}function closeAllSheets(){const _0x144cf6=a2_0x403e68;document[_0x144cf6(0x127)](_0x144cf6(0x240))['classList']['remove'](_0x144cf6(0x1bd)),document[_0x144cf6(0x1a0)](_0x144cf6(0x22d))['forEach'](_0x1512d5=>_0x1512d5[_0x144cf6(0x151)]['remove'](_0x144cf6(0x112)));}function openPatternEditor(){const _0x28a8c4=a2_0x403e68;closeAllSheets(),document['getElementById']('patternEditor')[_0x28a8c4(0x151)][_0x28a8c4(0x209)]('open'),renderPatternEditor();}function closePatternEditor(){const _0x13b925=a2_0x403e68;document[_0x13b925(0x127)](_0x13b925(0x16f))[_0x13b925(0x151)]['remove'](_0x13b925(0x112));}function savePattern(){const _0x4baa23=a2_0x403e68;document[_0x4baa23(0x127)](_0x4baa23(0x16f))[_0x4baa23(0x151)][_0x4baa23(0xfc)](_0x4baa23(0x112)),reRenderBlocks(),DataManager[_0x4baa23(0x219)](),DataManager[_0x4baa23(0x185)](_0x4baa23(0x15a),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0xbc1efe=a2_0x403e68,_0x3cbeca=document[_0xbc1efe(0x127)](_0xbc1efe(0x216));_0x3cbeca[_0xbc1efe(0x178)]='';const _0x801733=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x47c408=document[_0xbc1efe(0x1cf)](_0xbc1efe(0x1e9));_0x47c408['className']=_0xbc1efe(0x1f9),_0x3cbeca[_0xbc1efe(0x1c2)](_0x47c408),_0x801733['forEach']((_0x225cb5,_0x3490aa)=>{const _0x3c54f6=_0xbc1efe,_0x1b86cc=document[_0x3c54f6(0x1cf)](_0x3c54f6(0x1e9));_0x1b86cc[_0x3c54f6(0x147)]=_0x3c54f6(0x205),_0x1b86cc[_0x3c54f6(0x178)]=_0x225cb5+'\x20<span\x20class=\x22arrow\x22>‚Üì</span>',_0x1b86cc[_0x3c54f6(0x134)]=()=>toggleColPattern(_0x3490aa),_0x3cbeca['appendChild'](_0x1b86cc);});for(let _0x241fa1=0x0;_0x241fa1<0x18;_0x241fa1++){const _0x3aab84=document[_0xbc1efe(0x1cf)]('div');_0x3aab84['className']=_0xbc1efe(0x1fd),_0x3aab84['innerHTML']=_0xbc1efe(0x238)+String(_0x241fa1)[_0xbc1efe(0x20b)](0x2,'0')+':00',_0x3aab84[_0xbc1efe(0x134)]=()=>toggleRowPattern(_0x241fa1),_0x3cbeca[_0xbc1efe(0x1c2)](_0x3aab84);for(let _0x223a9a=0x0;_0x223a9a<0x7;_0x223a9a++){const _0x43872d=document[_0xbc1efe(0x1cf)](_0xbc1efe(0x1e9)),_0x829383=(availabilityPattern[_0x223a9a]||[])['includes'](_0x241fa1),_0xccf761=!_0x829383;_0x43872d['className']=_0xbc1efe(0x1b2)+(_0xccf761?_0xbc1efe(0x1bd):''),_0x43872d[_0xbc1efe(0x134)]=()=>toggleSinglePattern(_0x223a9a,_0x241fa1),_0x3cbeca[_0xbc1efe(0x1c2)](_0x43872d);}}}function toggleSinglePattern(_0x104d58,_0x3c6a10){const _0x4c67e0=a2_0x403e68;if(!availabilityPattern[_0x104d58])availabilityPattern[_0x104d58]=[];const _0x57828c=availabilityPattern[_0x104d58],_0x16e62e=_0x57828c['indexOf'](_0x3c6a10);_0x16e62e===-0x1?_0x57828c[_0x4c67e0(0x195)](_0x3c6a10):_0x57828c[_0x4c67e0(0x1ed)](_0x16e62e,0x1),renderPatternEditor();}function toggleColPattern(_0x3bc706){const _0x507b46=a2_0x403e68;if(!availabilityPattern[_0x3bc706])availabilityPattern[_0x3bc706]=[];const _0x3c361e=availabilityPattern[_0x3bc706];_0x3c361e[_0x507b46(0x239)]===0x0?availabilityPattern[_0x3bc706]=Array[_0x507b46(0x19e)]({'length':0x18},(_0x288e4d,_0x405cf0)=>_0x405cf0):availabilityPattern[_0x3bc706]=[],renderPatternEditor();}function toggleRowPattern(_0x4b441e){const _0x299cf1=a2_0x403e68;let _0x16bb21=!![];for(let _0x5156f3=0x0;_0x5156f3<0x7;_0x5156f3++){if((availabilityPattern[_0x5156f3]||[])[_0x299cf1(0x198)](_0x4b441e)){_0x16bb21=![];break;}}for(let _0x4682ce=0x0;_0x4682ce<0x7;_0x4682ce++){if(!availabilityPattern[_0x4682ce])availabilityPattern[_0x4682ce]=[];const _0x559018=availabilityPattern[_0x4682ce]['indexOf'](_0x4b441e);if(_0x16bb21){if(_0x559018===-0x1)availabilityPattern[_0x4682ce][_0x299cf1(0x195)](_0x4b441e);}else{if(_0x559018!==-0x1)availabilityPattern[_0x4682ce][_0x299cf1(0x1ed)](_0x559018,0x1);}}renderPatternEditor();}function a2_0x18d7(_0x2b6eb1,_0xd2050b){_0x2b6eb1=_0x2b6eb1-0xc6;const _0x2d8453=a2_0x3724();let _0x1e3f40=_0x2d8453[_0x2b6eb1];return _0x1e3f40;}function renderPCol(_0x57fce7,_0x4d276e){const _0x5512d5=a2_0x403e68;_0x57fce7['innerHTML']='';const _0xc1572=Math[_0x5512d5(0x145)](_0x57fce7[_0x5512d5(0xc6)]);(availabilityPattern[_0x4d276e]||[])['forEach'](_0x12993b=>{const _0xbebd78=_0x5512d5,_0x421da7=document[_0xbebd78(0x1cf)](_0xbebd78(0x1e9));_0x421da7['className']=_0xbebd78(0x227);const _0x3f0731=_0x12993b*GRID_H;_0x421da7[_0xbebd78(0xd6)][_0xbebd78(0x1a7)]=_0x3f0731+'px',_0x421da7[_0xbebd78(0xd6)][_0xbebd78(0x23a)]='-'+_0xc1572+_0xbebd78(0x1d4)+_0x3f0731+'px',_0x421da7[_0xbebd78(0x134)]=_0x21c551=>{const _0xca5bd0=_0xbebd78;_0x21c551[_0xca5bd0(0x1c5)](),toggleSinglePattern(_0x4d276e,_0x12993b);},_0x57fce7[_0xbebd78(0x1c2)](_0x421da7);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x521bc1=a2_0x403e68,_0x208960=new Date(),_0x478c64=document[_0x521bc1(0x127)](_0x521bc1(0x202)),_0x1b9587=document[_0x521bc1(0x127)](_0x521bc1(0x17e)),_0x128435=(_0x208960[_0x521bc1(0x1ff)]()*0x3c+_0x208960[_0x521bc1(0x136)]())/0x3c*GRID_H;_0x478c64[_0x521bc1(0xd6)][_0x521bc1(0x1a7)]=_0x128435+'px',_0x478c64[_0x521bc1(0xd6)][_0x521bc1(0x143)]=_0x521bc1(0xc7),_0x1b9587['textContent']=String(_0x208960[_0x521bc1(0x1ff)]())[_0x521bc1(0x20b)](0x2,'0')+':'+String(_0x208960[_0x521bc1(0x136)]())['padStart'](0x2,'0'),_0x1b9587['style']['display']=_0x521bc1(0xc7),_0x1b9587[_0x521bc1(0xd6)]['top']=_0x128435+'px';}document[a2_0x403e68(0x159)](a2_0x403e68(0xd9),init);function openDayOptions(_0x57beff){const _0x37fdc7=a2_0x403e68;selectedDayForOptions=_0x57beff;const _0x45b059=new Date(_0x57beff),_0x38dee6={'weekday':_0x37fdc7(0x1df),'day':_0x37fdc7(0x146),'month':_0x37fdc7(0x1df),'year':_0x37fdc7(0x146)},_0x2f040a=_0x45b059['toLocaleDateString']('ru-RU',_0x38dee6);document['getElementById']('doDateHeader')[_0x37fdc7(0x1a4)]=_0x2f040a[_0x37fdc7(0x21b)](0x0)[_0x37fdc7(0x16b)]()+_0x2f040a['slice'](0x1);let _0x594766=_0x45b059[_0x37fdc7(0x1b9)]()-0x1;if(_0x594766===-0x1)_0x594766=0x6;const _0x4dec59=availabilityPattern[_0x594766]||[],_0x158eb8=0x18-_0x4dec59['length'],_0x465a7c=_0x158eb8*0x3c,_0x4f6080=sessions[_0x37fdc7(0x167)](_0x5dfd21=>_0x5dfd21[_0x37fdc7(0x11f)]===_0x57beff&&_0x5dfd21['status']!==_0x37fdc7(0x13f));let _0x456af9=_0x4f6080['map'](_0x7cca57=>{const _0x139fd2=_0x37fdc7,[_0x96b2c,_0x5daa59]=_0x7cca57[_0x139fd2(0x23b)]['split'](':')[_0x139fd2(0x115)](Number),[_0x1bfa26,_0x438c9e]=_0x7cca57[_0x139fd2(0x206)][_0x139fd2(0x1e8)](':')['map'](Number);return[_0x96b2c*0x3c+_0x5daa59,_0x1bfa26*0x3c+_0x438c9e];});_0x456af9[_0x37fdc7(0x1dd)]((_0x1d2741,_0x18f883)=>_0x1d2741[0x0]-_0x18f883[0x0]);let _0x571e2e=[];if(_0x456af9[_0x37fdc7(0x239)]>0x0){let _0x559dce=_0x456af9[0x0];for(let _0x3d7ccb=0x1;_0x3d7ccb<_0x456af9[_0x37fdc7(0x239)];_0x3d7ccb++){_0x456af9[_0x3d7ccb][0x0]<_0x559dce[0x1]?_0x559dce[0x1]=Math[_0x37fdc7(0x1e1)](_0x559dce[0x1],_0x456af9[_0x3d7ccb][0x1]):(_0x571e2e[_0x37fdc7(0x195)](_0x559dce),_0x559dce=_0x456af9[_0x3d7ccb]);}_0x571e2e[_0x37fdc7(0x195)](_0x559dce);}let _0x8a9869=0x0;_0x571e2e[_0x37fdc7(0x23f)](_0x13109a=>_0x8a9869+=_0x13109a[0x1]-_0x13109a[0x0]),document[_0x37fdc7(0x127)](_0x37fdc7(0x192))[_0x37fdc7(0x1a4)]=formatMinsToHrs(_0x465a7c),document['getElementById'](_0x37fdc7(0x163))[_0x37fdc7(0x1a4)]=formatMinsToHrs(_0x8a9869);const _0x122f46=_0x465a7c>0x0?Math['round'](_0x8a9869/_0x465a7c*0x64):0x0,_0x2a707d=document['getElementById'](_0x37fdc7(0x1ce));_0x2a707d[_0x37fdc7(0x1a4)]=_0x122f46+'%';const _0x25a61c=document[_0x37fdc7(0x127)](_0x37fdc7(0x1c6));if(_0x122f46>0x64)_0x2a707d[_0x37fdc7(0xd6)][_0x37fdc7(0x194)]=_0x37fdc7(0xea),_0x25a61c[_0x37fdc7(0xd6)]['borderColor']=_0x37fdc7(0x121);else _0x122f46>0x50?(_0x2a707d[_0x37fdc7(0xd6)][_0x37fdc7(0x194)]=_0x37fdc7(0x18a),_0x25a61c[_0x37fdc7(0xd6)][_0x37fdc7(0x242)]='rgba(255,\x20159,\x2010,\x200.3)'):(_0x2a707d['style']['color']=_0x37fdc7(0x17a),_0x25a61c[_0x37fdc7(0xd6)][_0x37fdc7(0x242)]='rgba(255,255,255,0.05)');const _0x3a1eb8=document['getElementById'](_0x37fdc7(0x118));_0x3a1eb8[_0x37fdc7(0x178)]='';_0x4f6080[_0x37fdc7(0x239)]===0x0?_0x3a1eb8[_0x37fdc7(0x178)]=_0x37fdc7(0x17d):(_0x4f6080['sort']((_0x126089,_0x407bad)=>_0x126089['start'][_0x37fdc7(0xc9)](_0x407bad[_0x37fdc7(0x23b)])),_0x4f6080[_0x37fdc7(0x23f)](_0x5c09a5=>{const _0x249fab=_0x37fdc7,_0x7022c2=clients[_0x249fab(0x120)](_0x4cc767=>_0x4cc767['name']===_0x5c09a5[_0x249fab(0xe1)]),_0x6bead3=_0x7022c2?_0x7022c2['color']:_0x249fab(0xf2),_0x315ca3=_0x5c09a5['status']===_0x249fab(0x12b),_0x1a1954=_0x315ca3?_0x249fab(0xfa):'',_0x223ae4=document['createElement'](_0x249fab(0x1e9));_0x223ae4[_0x249fab(0x147)]=_0x249fab(0x1c4),_0x223ae4['style']['borderLeftColor']=_0x6bead3,_0x223ae4[_0x249fab(0x178)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>'+_0x5c09a5[_0x249fab(0x23b)]+_0x249fab(0x212)+_0x5c09a5[_0x249fab(0x206)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5c09a5[_0x249fab(0xe1)]+_0x249fab(0x122)+_0x1a1954+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x3a1eb8[_0x249fab(0x1c2)](_0x223ae4);}));const _0x5d7f0e=document[_0x37fdc7(0x127)](_0x37fdc7(0x207)),_0x367500=dateExceptions[_0x57beff]===_0x37fdc7(0x233);_0x367500?(_0x5d7f0e['textContent']='–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º',_0x5d7f0e[_0x37fdc7(0x147)]=_0x37fdc7(0xe4),_0x5d7f0e['style']['color']='var(--acc-green)',_0x5d7f0e[_0x37fdc7(0xd6)][_0x37fdc7(0x235)]=_0x37fdc7(0x1e0)):(_0x5d7f0e['textContent']='–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º',_0x5d7f0e['className']='btn-primary\x20btn-danger',_0x5d7f0e[_0x37fdc7(0xd6)][_0x37fdc7(0x194)]=_0x37fdc7(0xea),_0x5d7f0e[_0x37fdc7(0xd6)][_0x37fdc7(0x235)]=_0x37fdc7(0xf1)),openSheet(_0x37fdc7(0x1f8));}let currentAnPeriod=a2_0x403e68(0xf9);function openAnalytics(){const _0x5367f4=a2_0x403e68,_0x293c7e=document[_0x5367f4(0x106)](_0x5367f4(0xc8));setAnalyticsPeriod(_0x5367f4(0xf9),_0x293c7e),closeAllSheets(),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x400d9c,_0x392e4f){const _0x1b3366=a2_0x403e68;currentAnPeriod=_0x400d9c,document[_0x1b3366(0x1a0)](_0x1b3366(0xc8))[_0x1b3366(0x23f)](_0x9eda55=>_0x9eda55[_0x1b3366(0x151)][_0x1b3366(0xfc)](_0x1b3366(0x1bd)));if(_0x392e4f)_0x392e4f[_0x1b3366(0x151)]['add']('active');const _0xa206b8=document[_0x1b3366(0x127)]('anCustomDates');_0xa206b8['style']['display']=_0x400d9c===_0x1b3366(0x22e)?_0x1b3366(0xdc):'none';const _0x470850=new Date();let _0x2a87b6=new Date(),_0xd35950=new Date();if(_0x400d9c===_0x1b3366(0xf9))_0x2a87b6=getStartOfWeek(_0x470850),_0xd35950=new Date(_0x2a87b6),_0xd35950[_0x1b3366(0x102)](_0xd35950[_0x1b3366(0x1b8)]()+0x6);else{if(_0x400d9c===_0x1b3366(0x169))_0x2a87b6=new Date(_0x470850[_0x1b3366(0x173)](),_0x470850['getMonth'](),0x1),_0xd35950=new Date(_0x470850['getFullYear'](),_0x470850[_0x1b3366(0x211)]()+0x1,0x0);else{!document[_0x1b3366(0x127)](_0x1b3366(0xf3))[_0x1b3366(0x132)]&&(document[_0x1b3366(0x127)](_0x1b3366(0xf3))[_0x1b3366(0x132)]=getLocalDateStr(_0x470850),document[_0x1b3366(0x127)](_0x1b3366(0x158))['value']=getLocalDateStr(_0x470850));refreshAnalytics();return;}}document['getElementById']('anStart')[_0x1b3366(0x132)]=getLocalDateStr(_0x2a87b6),document[_0x1b3366(0x127)]('anEnd')[_0x1b3366(0x132)]=getLocalDateStr(_0xd35950),refreshAnalytics();}function refreshAnalytics(){const _0x241495=a2_0x403e68,_0x59eafd=document[_0x241495(0x127)](_0x241495(0xf3))[_0x241495(0x132)],_0x25757f=document[_0x241495(0x127)]('anEnd')['value'];if(!_0x59eafd||!_0x25757f)return;const _0x34798f=sessions[_0x241495(0x167)](_0x17b975=>_0x17b975[_0x241495(0x11f)]>=_0x59eafd&&_0x17b975['dateStr']<=_0x25757f&&_0x17b975[_0x241495(0x15d)]!=='cancelled'),_0xd4d766=_0x34798f['length'],_0x2041db=_0x34798f[_0x241495(0x167)](_0x1a094d=>_0x1a094d['status']===_0x241495(0x12b))[_0x241495(0x239)],_0x556108=_0xd4d766>0x0?Math['round'](_0x2041db/_0xd4d766*0x64):0x0;document[_0x241495(0x127)](_0x241495(0x126))[_0x241495(0x1a4)]=_0x556108+'%',document['getElementById'](_0x241495(0x10f))[_0x241495(0x1a4)]=_0x2041db+'\x20–∏–∑\x20'+_0xd4d766+_0x241495(0xed);const _0x3bc66d=document[_0x241495(0x127)](_0x241495(0x22a)),_0x5aff5b=0x2*Math['PI']*0x23,_0x36f40f=_0x5aff5b-_0x556108/0x64*_0x5aff5b;_0x3bc66d['style'][_0x241495(0x236)]=_0x36f40f;const _0x5067a4={};_0x34798f['forEach'](_0x4972ea=>{const _0xb0608=_0x241495;if(!_0x5067a4[_0x4972ea[_0xb0608(0xe1)]]){const _0x1d3b3e=clients[_0xb0608(0x120)](_0x1ff489=>_0x1ff489[_0xb0608(0x186)]===_0x4972ea['client']);_0x5067a4[_0x4972ea[_0xb0608(0xe1)]]={'total':0x0,'done':0x0,'color':_0x1d3b3e?_0x1d3b3e[_0xb0608(0x194)]:_0xb0608(0xf2)};}_0x5067a4[_0x4972ea['client']][_0xb0608(0x182)]++;if(_0x4972ea['status']===_0xb0608(0x12b))_0x5067a4[_0x4972ea[_0xb0608(0xe1)]][_0xb0608(0x246)]++;});const _0x2d84a2=document[_0x241495(0x127)](_0x241495(0x23e));_0x2d84a2[_0x241495(0x178)]='';const _0x4e79b1=Object[_0x241495(0x1e4)](_0x5067a4)[_0x241495(0x1dd)]((_0x1ddbfc,_0x5e38da)=>_0x5e38da[0x1][_0x241495(0x182)]-_0x1ddbfc[0x1][_0x241495(0x182)]);if(_0x4e79b1['length']===0x0){_0x2d84a2[_0x241495(0x178)]=_0x241495(0x224);return;}_0x4e79b1['forEach'](([_0x390413,_0x18e975])=>{const _0x32256e=_0x241495,_0x2d0528=Math[_0x32256e(0x145)](_0x18e975[_0x32256e(0x246)]/_0x18e975[_0x32256e(0x182)]*0x64),_0xad39dc=document[_0x32256e(0x1cf)](_0x32256e(0x1e9));_0xad39dc[_0x32256e(0x147)]=_0x32256e(0x1a1),_0xad39dc[_0x32256e(0xd6)][_0x32256e(0x12a)]=_0x18e975[_0x32256e(0x194)],_0xad39dc['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>'+_0x390413+_0x32256e(0xd4)+_0x18e975[_0x32256e(0x246)]+'</span>\x20/\x20'+_0x18e975['total']+_0x32256e(0x107)+_0x2d0528+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x2d84a2[_0x32256e(0x1c2)](_0xad39dc);});}function formatMinsToHrs(_0x43b6da){const _0x57ced6=a2_0x403e68;if(_0x43b6da===0x0)return'0';const _0x116fc9=Math[_0x57ced6(0x1ae)](_0x43b6da/0x3c),_0x169e51=_0x43b6da%0x3c;if(_0x169e51===0x0)return _0x116fc9+'—á';return _0x116fc9+'—á\x20'+_0x169e51+'–º';}