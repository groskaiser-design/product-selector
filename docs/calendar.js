const a2_0x3c1f71=a2_0x5e87;(function(_0x23577f,_0x2afd99){const _0x3c812f=a2_0x5e87,_0x2122c7=_0x23577f();while(!![]){try{const _0x17973a=-parseInt(_0x3c812f(0x196))/0x1*(parseInt(_0x3c812f(0x11b))/0x2)+parseInt(_0x3c812f(0x155))/0x3*(parseInt(_0x3c812f(0x1cd))/0x4)+parseInt(_0x3c812f(0x23d))/0x5*(parseInt(_0x3c812f(0x1d1))/0x6)+parseInt(_0x3c812f(0x1b6))/0x7*(-parseInt(_0x3c812f(0x183))/0x8)+parseInt(_0x3c812f(0xd3))/0x9*(parseInt(_0x3c812f(0xdb))/0xa)+parseInt(_0x3c812f(0x1a8))/0xb+-parseInt(_0x3c812f(0x173))/0xc;if(_0x17973a===_0x2afd99)break;else _0x2122c7['push'](_0x2122c7['shift']());}catch(_0x147495){_0x2122c7['push'](_0x2122c7['shift']());}}}(a2_0x59f2,0x419d9),function initTMA(){const _0x18dd01=a2_0x5e87,_0x3b6528=(function(){let _0x16cd29=!![];return function(_0x5f1a6c,_0x2b46df){const _0x5d1bd1=_0x16cd29?function(){const _0x28d452=a2_0x5e87;if(_0x2b46df){const _0x59ff7a=_0x2b46df[_0x28d452(0x116)](_0x5f1a6c,arguments);return _0x2b46df=null,_0x59ff7a;}}:function(){};return _0x16cd29=![],_0x5d1bd1;};}()),_0x39da70=_0x3b6528(this,function(){const _0x2018ca=a2_0x5e87;return _0x39da70['toString']()['search']('(((.+)+)+)+$')['toString']()[_0x2018ca(0x170)](_0x39da70)[_0x2018ca(0xe7)]('(((.+)+)+)+$');});_0x39da70();try{const _0x102f47=window[_0x18dd01(0x219)]?.['WebApp'];if(!_0x102f47)return;_0x102f47[_0x18dd01(0xdc)](),_0x102f47[_0x18dd01(0x118)]();try{_0x102f47[_0x18dd01(0x124)](_0x18dd01(0xec)),_0x102f47['setBackgroundColor']&&_0x102f47[_0x18dd01(0xf2)](_0x18dd01(0xec));}catch(_0x5be3b2){console[_0x18dd01(0x224)](_0x18dd01(0x23b),_0x5be3b2);}try{_0x102f47[_0x18dd01(0xff)]&&(_0x102f47[_0x18dd01(0xff)][_0x18dd01(0xcf)](),_0x102f47[_0x18dd01(0xff)][_0x18dd01(0xfc)](),_0x102f47[_0x18dd01(0xff)][_0x18dd01(0x13b)](function(){const _0x2a8f95=_0x18dd01;window['location'][_0x2a8f95(0x1e9)]=_0x2a8f95(0x11d);}));}catch(_0x4f6e00){console['log'](_0x18dd01(0x175),_0x4f6e00);}try{if(_0x102f47['disableVerticalSwipes'])_0x102f47[_0x18dd01(0x1d6)]();}catch(_0x3dfb42){}}catch(_0x3b5136){console[_0x18dd01(0x239)](_0x18dd01(0x1b4),_0x3b5136);}}());function isAdmin(){const _0xa24630=a2_0x5e87;try{const _0x5ff109=Number(window['Telegram']?.[_0xa24630(0x1e7)]?.[_0xa24630(0x248)]?.['user']?.['id']);return _0x5ff109===0xbaf7174;}catch(_0x1401f6){return![];}}const APP_VERSION='v9.0-BATCH-CALENDAR',API_URL=a2_0x3c1f71(0x1b7),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS='uc_clients_v9',KEY_SESSIONS='uc_sessions_v9',KEY_SETTINGS=a2_0x3c1f71(0x214);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x366558=a2_0x3c1f71;return window[_0x366558(0x219)]?.[_0x366558(0x1e7)]?.[_0x366558(0x248)]?.[_0x366558(0x193)]?.['id']||_0x366558(0x165);},'saveLocally'(){const _0x3b69cc=a2_0x3c1f71;try{localStorage['setItem'](KEY_CLIENTS,JSON[_0x3b69cc(0x167)](clients)),localStorage[_0x3b69cc(0x1e0)](KEY_SESSIONS,JSON[_0x3b69cc(0x167)](sessions)),localStorage['setItem'](KEY_SETTINGS,JSON[_0x3b69cc(0x167)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x18ab26){console[_0x3b69cc(0x239)]('Local\x20Save\x20Error',_0x18ab26);}},'loadLocal'(){const _0x5da823=a2_0x3c1f71;try{const _0x21f1d5=localStorage[_0x5da823(0x1fd)](KEY_CLIENTS);if(_0x21f1d5)clients=JSON['parse'](_0x21f1d5);const _0x4841c7=localStorage[_0x5da823(0x1fd)](KEY_SESSIONS);if(_0x4841c7)sessions=JSON[_0x5da823(0x243)](_0x4841c7);const _0x231696=localStorage[_0x5da823(0x1fd)](KEY_SETTINGS);if(_0x231696){const _0x21da20=JSON[_0x5da823(0x243)](_0x231696);if(_0x21da20[_0x5da823(0x244)])availabilityPattern=_0x21da20['pattern'];if(_0x21da20[_0x5da823(0x19d)])dateExceptions=_0x21da20['exceptions'];if(_0x21da20[_0x5da823(0xf4)])specialRanges=_0x21da20[_0x5da823(0xf4)];}else{for(let _0x35d706=0x0;_0x35d706<0x7;_0x35d706++)availabilityPattern[_0x35d706]=Array[_0x5da823(0x152)]({'length':0xc},(_0x15f4a5,_0x573475)=>_0x573475+0x9);}}catch(_0x5bd4aa){console['error'](_0x5da823(0x128),_0x5bd4aa);}},async 'fetchFromServer'(_0x49d426,_0x50a034={}){const _0x1fb414=a2_0x3c1f71,_0x3af52f=window[_0x1fb414(0x219)]?.['WebApp'],_0x113884={'action':_0x49d426,'init_data':_0x3af52f?.[_0x1fb414(0x113)]||'',..._0x50a034};try{const _0x528867=await fetch(API_URL,{'method':_0x1fb414(0x205),'headers':{'Content-Type':_0x1fb414(0x1ad)},'body':JSON['stringify'](_0x113884)}),_0x1249f8=await _0x528867['json']();if(!_0x1249f8['ok'])throw new Error(_0x1249f8['error']||'Server\x20Error');return _0x1249f8[_0x1fb414(0x22d)];}catch(_0x434f8b){console['error'](_0x1fb414(0x1a2)+_0x49d426+_0x1fb414(0x204),_0x434f8b);throw _0x434f8b;}},async 'syncLoad'(){const _0x170574=a2_0x3c1f71,_0x2b0baa=new Date(),_0xb2ecd=_0x2b0baa[_0x170574(0xcb)]()+'-'+String(_0x2b0baa[_0x170574(0x108)]()+0x1)[_0x170574(0x107)](0x2,'0'),_0x50be9e=new Date(_0x2b0baa);_0x50be9e[_0x170574(0x15b)](_0x2b0baa[_0x170574(0x108)]()+0x1);const _0x2fa932=_0x50be9e[_0x170574(0xcb)]()+'-'+String(_0x50be9e[_0x170574(0x108)]()+0x1)[_0x170574(0x107)](0x2,'0'),_0x418573=Date['now']();console[_0x170574(0x224)](_0x170574(0x223)+_0xb2ecd+',\x20'+_0x2fa932+_0x170574(0xd4));try{const [_0x223641,_0x102816]=await Promise[_0x170574(0x141)]([this[_0x170574(0xeb)](_0x170574(0x172),{'month_str':_0xb2ecd}),this[_0x170574(0xeb)](_0x170574(0x172),{'month_str':_0x2fa932})]);if(lastUserActionTime>_0x418573)return console[_0x170574(0x144)](_0x170574(0x14c)),![];return this[_0x170574(0x15f)](_0x223641,_0xb2ecd),this['mergeServerData'](_0x102816,_0x2fa932),this[_0x170574(0x1d4)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x45c6b0){console['error'](_0x45c6b0);throw _0x45c6b0;}},'mergeServerData'(_0x484cca,_0x3bdd6e){const _0x1c57df=a2_0x3c1f71;if(!_0x484cca)return;_0x484cca[_0x1c57df(0x1b1)]&&Array[_0x1c57df(0x227)](_0x484cca['clients'])&&(clients=_0x484cca[_0x1c57df(0x1b1)]);if(_0x484cca[_0x1c57df(0x129)]){if(_0x484cca[_0x1c57df(0x129)]['pattern'])availabilityPattern=_0x484cca[_0x1c57df(0x129)]['pattern'];if(_0x484cca['settings']['exceptions'])dateExceptions=_0x484cca['settings'][_0x1c57df(0x19d)];if(_0x484cca[_0x1c57df(0x129)]['ranges'])specialRanges=_0x484cca[_0x1c57df(0x129)][_0x1c57df(0xf4)];if(_0x484cca[_0x1c57df(0x129)][_0x1c57df(0x1bd)]){localStorage[_0x1c57df(0x1e0)](_0x1c57df(0x1df),_0x484cca[_0x1c57df(0x129)][_0x1c57df(0x1bd)]);const _0x2228d5=document['getElementById'](_0x1c57df(0x143));if(_0x2228d5)_0x2228d5[_0x1c57df(0x139)]=_0x484cca[_0x1c57df(0x129)][_0x1c57df(0x1bd)];}}_0x484cca['calendar']&&(sessions=sessions[_0x1c57df(0x13f)](_0x24c277=>!_0x24c277[_0x1c57df(0x1dc)]['startsWith'](_0x3bdd6e)),Object[_0x1c57df(0x212)](_0x484cca[_0x1c57df(0x1c9)])[_0x1c57df(0xd1)](_0x19cd25=>{const _0x1392bc=_0x1c57df,_0x18bda7=_0x484cca[_0x1392bc(0x1c9)][_0x19cd25];_0x18bda7['forEach'](_0x4801c0=>{const _0x27b177=_0x1392bc,_0x394ea7=clients[_0x27b177(0x14f)](_0x1221c6=>String(_0x1221c6['id'])===String(_0x4801c0['c']));sessions[_0x27b177(0x1ce)]({'id':_0x4801c0['i'],'clientId':_0x4801c0['c'],'client':_0x394ea7?_0x394ea7[_0x27b177(0x188)]:_0x27b177(0x13e),'dateStr':_0x3bdd6e+'-'+_0x19cd25[_0x27b177(0x107)](0x2,'0'),'start':_0x4801c0['s'],'end':_0x4801c0['e'],'status':_0x4801c0['st']||_0x27b177(0x18a),'note':_0x4801c0['n']||'','seriesId':_0x4801c0[_0x27b177(0xce)]||null});});}));},async 'syncBatch'(_0x141db6){const _0x5de374=a2_0x3c1f71,_0x126c12=[...new Set(_0x141db6)],_0x36358b=_0x126c12[_0x5de374(0xe3)](_0x381713=>{const _0x5744fa=_0x5de374,_0x54c2f0=sessions[_0x5744fa(0x13f)](_0x440d31=>_0x440d31[_0x5744fa(0x1dc)]===_0x381713&&_0x440d31[_0x5744fa(0x23a)]!==_0x5744fa(0x18f)),_0x5e935f=_0x54c2f0['map'](_0x14e6c4=>({'i':_0x14e6c4['id'],'c':_0x14e6c4[_0x5744fa(0x1d5)],'s':_0x14e6c4[_0x5744fa(0x104)],'e':_0x14e6c4[_0x5744fa(0x159)],'st':_0x14e6c4[_0x5744fa(0x23a)],'n':_0x14e6c4[_0x5744fa(0x1c2)],'sid':_0x14e6c4[_0x5744fa(0xe8)]}));return{'date':_0x381713,'day_data':_0x5e935f};});if(_0x36358b[_0x5de374(0x1d2)]===0x0)return;console[_0x5de374(0x224)](_0x5de374(0x241)+_0x36358b[_0x5de374(0x1d2)]+'\x20days'),await this[_0x5de374(0xeb)]('batch_sync',{'changes':_0x36358b});}};async function init(){const _0xca6aec=a2_0x3c1f71;DataManager[_0xca6aec(0x166)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0xca6aec(0xf7)](_0xca6aec(0x1b9))[_0xca6aec(0x125)](_0xca6aec(0x1e5),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0xca6aec(0x21b)]()[_0xca6aec(0x126)](()=>{const _0x133c27=_0xca6aec;showToast(_0x133c27(0x1a4),!![]);})[_0xca6aec(0x194)](_0x1a2868=>{const _0x592c76=_0xca6aec;showToast(_0x592c76(0x1a3),![]);});}function generateId(){const _0x5c3ab5=a2_0x3c1f71;return Date[_0x5c3ab5(0x1c8)]()[_0x5c3ab5(0x231)](0x24)+Math[_0x5c3ab5(0xfd)]()['toString'](0x24)['substr'](0x2,0x5);}function toggleSeriesInput(){const _0x24f3cd=a2_0x3c1f71,_0xc69892=document[_0x24f3cd(0xf7)](_0x24f3cd(0x191))['checked'],_0x345b65=document[_0x24f3cd(0xf7)](_0x24f3cd(0x200));_0x345b65['style'][_0x24f3cd(0x247)]=_0xc69892?_0x24f3cd(0x22a):_0x24f3cd(0x1d9);const _0x2bf54d=document['getElementById'](_0x24f3cd(0xe0));_0x2bf54d['style'][_0x24f3cd(0x17a)]=_0xc69892?'10px\x2010px\x200\x200':_0x24f3cd(0x1bb);}function openAddSession(_0x1269a6){const _0x1ef3d1=a2_0x3c1f71;editingId=null,populateClientSelect(),document[_0x1ef3d1(0xf7)](_0x1ef3d1(0x1c4))['textContent']='–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å',document[_0x1ef3d1(0xf7)](_0x1ef3d1(0xe5))['style'][_0x1ef3d1(0x247)]=_0x1ef3d1(0x1d9),document[_0x1ef3d1(0xf7)](_0x1ef3d1(0x187))['style'][_0x1ef3d1(0x247)]=_0x1ef3d1(0x1d9);const _0x5961a1=document['getElementById'](_0x1ef3d1(0xe0)),_0x46c43f=document[_0x1ef3d1(0xf7)]('seriesCountContainer');_0x5961a1[_0x1ef3d1(0x1f5)][_0x1ef3d1(0x247)]='flex',_0x5961a1[_0x1ef3d1(0x1f5)][_0x1ef3d1(0x17a)]=_0x1ef3d1(0x1bb),document[_0x1ef3d1(0xf7)](_0x1ef3d1(0x191))[_0x1ef3d1(0x178)]=![],document[_0x1ef3d1(0xf7)](_0x1ef3d1(0x10b))[_0x1ef3d1(0x139)]=0x4,_0x46c43f[_0x1ef3d1(0x1f5)][_0x1ef3d1(0x247)]=_0x1ef3d1(0x1d9),document[_0x1ef3d1(0xf7)](_0x1ef3d1(0x163))['value']=getLocalDateStr(_0x1269a6),updateDateDisplay();const _0x218dbc=_0x1269a6[_0x1ef3d1(0x23e)]();document[_0x1ef3d1(0xf7)](_0x1ef3d1(0xef))[_0x1ef3d1(0x139)]=String(_0x218dbc)[_0x1ef3d1(0x107)](0x2,'0')+_0x1ef3d1(0x16c),document['getElementById']('inpEnd')[_0x1ef3d1(0x139)]=String(_0x218dbc+0x1)[_0x1ef3d1(0x107)](0x2,'0')+':00',openSheet(_0x1ef3d1(0x21d));}function a2_0x59f2(){const _0x58dd69=['syncLoad','rgba(255,\x2069,\x2058,\x200.3)','sessionSheet','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','mousemove','#gridColumns\x20.day-column','background','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','[Sync]\x20Loading\x20','log','onclick','save','isArray','client-stat-card','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','block','success','firstChild','data','insertBefore','mouseup','[Notify]\x20Error:\x20sessionData\x20is\x20null','toString','undefined','px\x20-','cancel','toLocaleString','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','dayOptionsSheet','getDate','error','status','Error\x20setting\x20color:','syncBatch','45PadVMh','getHours','innerHTML','pe-corner','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','parse','pattern','colIndex','pe-col-header','display','initDataUnsafe','toLocaleDateString','width',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','</span>\x20/\x20','getFullYear','target','day-column\x20','sid','show','div','forEach','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','3987smETMg','...','rangeStartTime','#fff','save_settings','delete','doDateHeader','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','4450yPBmwt','ready','rangeEndTime','rangeStartDate','var(--acc-green)','recurringOptionContainer','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','pe-time-label','map','asTitle','btnDelete','rangesList','search','seriesId','.sheet','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','fetchFromServer','#050505','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','inpStart','</div><div\x20class=\x22dch-num\x22>','touchmove','setBackgroundColor','done','ranges','btnDayToggle','option','getElementById','day-off-overlay\x20stripe-bg','today','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','offClick','random','overlay','BackButton','<b>‚úÖ\x20','anEnd','doWorkHours','rangeEndDate','start','peGrid','touchend','padStart','getMonth','appendChild','doLoadPercent','inpSeriesCount','open','\x20status-completed','100%','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','–£–¥–∞–ª–µ–Ω–∏–µ','clientWidth','initData','send_notification','sort','apply','header-','expand','backgroundPosition','data-date','838898GzBMWD','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','router.html','findIndex','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','setHours','borderColor','daysHeaderTrack','setHeaderColor','addEventListener','then','left','Local\x20Load\x20Error','settings','indexOf','asBtnOne','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','anStart','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','flex','backgroundColor','week','[Notify]\x20Error:\x20Text\x20generation\x20failed','update','23:59','height','anPercent','msg','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','value','getAttribute','onClick','complete','strokeDashoffset','Unknown','filter','DOMContentLoaded','all','range-item','settingCancelWindow','warn','de-item','day-col-header\x20','createDocumentFragment','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','round','localeCompare','stopPropagation','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','find','top','.dch-stats-fill','from','send','toast-notification\x20','300579gHxmbn','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','as-button\x20danger','splice','end','off','setMonth','toastMessage','<div\x20class=\x22dch-day\x22>','</b>\x0a\x0a','mergeServerData','getTime','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','series','inpDate','as-button\x20danger\x20bold','guest','loadLocal','stringify','</div><div\x20class=\x22ev-time\x22>','offsetWidth',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','.day-col-header',':00','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','var(--acc-red)','inpClient','constructor','textContent','init_load','2440092JJwoEH','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','Error\x20setting\x20back\x20button:','pe-cell\x20','dayOptionsTitle','checked','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','borderRadius','var(--acc-orange)','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','toastTitle','actionSheet','closest','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','8zaNvex','offsetLeft','setAttribute','data-day-idx','btnStatusToggle','name','rgba(255,\x2069,\x2058,\x200.15)','planned','asBtnSeries','statLoadCard','Batch\x20Sync\x20OK','classList','deleted','setDate','inpRecurring','entries','user','catch','anDonutCircle','1eEwljo','settingsSheet','.event-card','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','.period-switch\x20.p-btn','scrollLeft','null','exceptions','color','getText','<div\x20class=\x22ev-title\x22>','borderLeftColor','[API\x20','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','add','charAt','completed','4136737lXNZKv','split','getDay','single','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','text/plain;charset=UTF-8','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','active','clients','client','zIndex','Critical\x20TMA\x20Error:','anCustomDates','2967027EdCRGA','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','timeColumn','matrixViewport','mousedown','10px','warning','cancel_window','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20-\x20','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','total','note','rgba(','sheetTitle','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','px\x200px','now','calendar','long','\x20–∏–∑\x20','create','20Ncgjus','push','analyticsSheet','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','160830hrOKjp','length','querySelector','saveLocally','clientId','disableVerticalSwipes',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','max','none','toast','toFixed','dateStr','inpEnd','rgba(255,255,255,0.05)','uc_settings_cancel_window','setItem','00:00','className','gridColumns','getMinutes','scroll','touches','WebApp','analyticsList','href','mini','time-label','btn-status-toggle','blocked-slot\x20stripe-bg','doBusyHours','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','patternEditor','[Notify]\x20Detected\x20Client\x20ID:','toUpperCase','rgba(100,100,100,0.5)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','style','anTotalStats','.day-off-overlay','ru-RU','T23:59:59','scrollTop','%\x20-\x204px)','rgba(48,\x20209,\x2088,\x200.15)','getItem','valid','min','seriesCountContainer','\x20‚Äî\x20','cancelled','[Notify]\x20Attempting\x20to\x20send:',']\x20Failed:','POST','[Notify]\x20Server\x20Response:','month','patternInfoBox','slice','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','numeric','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','formatDate','remove','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','inpNote','keys','createElement','uc_settings_v9','querySelectorAll','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','floor','Telegram','calc('];a2_0x59f2=function(){return _0x58dd69;};return a2_0x59f2();}function openEdit(_0x30f44c){const _0x487128=a2_0x3c1f71;editingId=_0x30f44c['id'],populateClientSelect(),document['getElementById']('sheetTitle')['textContent']='–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å',document['getElementById']('btnDelete')[_0x487128(0x1f5)][_0x487128(0x247)]=_0x487128(0x22a);const _0x4c2515=document[_0x487128(0xf7)](_0x487128(0x187));_0x4c2515[_0x487128(0x1f5)][_0x487128(0x247)]='flex';_0x30f44c[_0x487128(0x23a)]===_0x487128(0x1a7)?(_0x4c2515[_0x487128(0x1e2)]='btn-status-toggle\x20undo-mode',_0x4c2515[_0x487128(0x23f)]='–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ'):(_0x4c2515[_0x487128(0x1e2)]=_0x487128(0x1ec),_0x4c2515[_0x487128(0x23f)]=_0x487128(0x156));const _0x528423=!!_0x30f44c[_0x487128(0xe8)];document['getElementById'](_0x487128(0xe0))['style'][_0x487128(0x247)]='none',document['getElementById']('seriesCountContainer')[_0x487128(0x1f5)][_0x487128(0x247)]='none',_0x528423?(document[_0x487128(0xf7)]('patternInfoBox')[_0x487128(0x1f5)][_0x487128(0x247)]=_0x487128(0x12f),document[_0x487128(0xf7)]('patternInfoBox')[_0x487128(0x1d3)]('.pib-text')['textContent']=_0x487128(0x120)):document[_0x487128(0xf7)](_0x487128(0x208))['style'][_0x487128(0x247)]=_0x487128(0x1d9),document[_0x487128(0xf7)](_0x487128(0x16f))[_0x487128(0x139)]=_0x30f44c[_0x487128(0x1b2)],document[_0x487128(0xf7)]('inpDate')[_0x487128(0x139)]=_0x30f44c['dateStr'],document['getElementById'](_0x487128(0xef))[_0x487128(0x139)]=_0x30f44c['start'],document[_0x487128(0xf7)](_0x487128(0x1dd))[_0x487128(0x139)]=_0x30f44c[_0x487128(0x159)],document[_0x487128(0xf7)](_0x487128(0x211))[_0x487128(0x139)]=_0x30f44c[_0x487128(0x1c2)]||'',updateDateDisplay(),openSheet('sessionSheet');}async function trySaveSession(){const _0x2a2001=a2_0x3c1f71,_0x4bdede=document[_0x2a2001(0xf7)](_0x2a2001(0x16f))['value'],_0x955f04=document[_0x2a2001(0xf7)](_0x2a2001(0x163))['value'],_0x6fde1d=document[_0x2a2001(0xf7)](_0x2a2001(0xef))[_0x2a2001(0x139)],_0x4ac146=document[_0x2a2001(0xf7)](_0x2a2001(0x1dd))[_0x2a2001(0x139)],_0x188da3=document[_0x2a2001(0xf7)](_0x2a2001(0x211))['value'],_0x14698d=document[_0x2a2001(0xf7)](_0x2a2001(0x191))['checked'];let _0x138463=0x4;if(_0x14698d){const _0x427b25=parseInt(document[_0x2a2001(0xf7)](_0x2a2001(0x10b))['value']);if(!_0x427b25||_0x427b25<0x2){showToast('–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏',![]);return;}if(_0x427b25>0x64){showToast(_0x2a2001(0xda),![]);return;}_0x138463=_0x427b25;}const _0x545971=clients[_0x2a2001(0x14f)](_0x255f90=>_0x255f90[_0x2a2001(0x188)]===_0x4bdede);if(!_0x545971){showToast(_0x2a2001(0x222),![]);return;}const _0x432fd7=validateAppointment(_0x955f04,_0x6fde1d,_0x4ac146,editingId,_0x545971['id']);if(!_0x432fd7['valid']){showToast(_0x432fd7[_0x2a2001(0x137)],![]);return;}_0x432fd7[_0x2a2001(0x1bc)]&&showToast(_0x432fd7[_0x2a2001(0x1bc)],![]);const _0x208b80={'client':_0x4bdede,'clientId':_0x545971['id'],'start':_0x6fde1d,'end':_0x4ac146,'note':_0x188da3,'status':'planned'},_0x154c81=editingId?sessions[_0x2a2001(0x14f)](_0x46b939=>_0x46b939['id']===editingId):null;if(_0x154c81&&_0x154c81[_0x2a2001(0xe8)]){tempSessionData={..._0x208b80,'dateStr':_0x955f04,'id':editingId,'seriesId':_0x154c81[_0x2a2001(0xe8)]},openActionSheet('save');return;}let _0x5601d5=null;if(!editingId)_0x5601d5=_0x2a2001(0x1cc);else{if(_0x154c81){if(String(_0x154c81[_0x2a2001(0x1d5)])!==String(_0x545971['id']))console[_0x2a2001(0x224)]('[Notify]\x20Client\x20SWAP\x20detected'),NotificationManager[_0x2a2001(0x153)](_0x2a2001(0x234),_0x154c81),_0x5601d5=_0x2a2001(0x1cc);else(_0x154c81[_0x2a2001(0x104)]!==_0x6fde1d||_0x154c81[_0x2a2001(0x159)]!==_0x4ac146||_0x154c81['dateStr']!==_0x955f04)&&(_0x5601d5=_0x2a2001(0x133));}}if(!editingId&&_0x14698d){createBatchSeries(_0x208b80,_0x955f04,_0x138463),NotificationManager['send'](_0x2a2001(0x1cc),{..._0x208b80,'dateStr':_0x955f04});return;}lastUserActionTime=Date[_0x2a2001(0x1c8)]();const _0xb1bc0={..._0x208b80,'dateStr':_0x955f04,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0xb1bc0),_0x5601d5&&NotificationManager[_0x2a2001(0x153)](_0x5601d5,_0xb1bc0);}function toggleSessionStatus(){const _0x10363f=a2_0x3c1f71;lastUserActionTime=Date[_0x10363f(0x1c8)]();const _0x2c1cdc=sessions[_0x10363f(0x14f)](_0x4bfc8a=>_0x4bfc8a['id']===editingId);if(!_0x2c1cdc)return;const _0x387b8c=_0x2c1cdc['status']===_0x10363f(0x1a7)?_0x10363f(0x18a):_0x10363f(0x1a7);_0x2c1cdc['status']=_0x387b8c,saveSingleSession(_0x2c1cdc),_0x387b8c===_0x10363f(0x1a7)&&NotificationManager['send'](_0x10363f(0x13c),_0x2c1cdc),showToast(_0x387b8c==='completed'?_0x10363f(0x1c0):_0x10363f(0x14d),!![]);}function validateAppointment(_0x54a20d,_0x323740,_0x28aa5f,_0x11a38c,_0x387927){const _0x40caac=a2_0x3c1f71,[_0x1e5abc,_0x74380a]=_0x323740['split'](':')['map'](Number),[_0x3da069,_0x3545ea]=_0x28aa5f[_0x40caac(0x1a9)](':')[_0x40caac(0xe3)](Number),_0x8a334d=_0x1e5abc*0x3c+_0x74380a,_0x1bcaa5=_0x3da069*0x3c+_0x3545ea,_0x147f6a=String(_0x387927);let _0x1976a8=![],_0x1f14d7='';for(let _0x1a117e of sessions){if(_0x1a117e[_0x40caac(0x1dc)]!==_0x54a20d)continue;if(_0x1a117e[_0x40caac(0x23a)]===_0x40caac(0x202))continue;if(_0x11a38c&&String(_0x1a117e['id'])===String(_0x11a38c))continue;const [_0x557b39,_0x4cffdd]=_0x1a117e[_0x40caac(0x104)]['split'](':')[_0x40caac(0xe3)](Number),[_0xe5093f,_0x2b87e4]=_0x1a117e[_0x40caac(0x159)][_0x40caac(0x1a9)](':')[_0x40caac(0xe3)](Number),_0x4f6596=_0x557b39*0x3c+_0x4cffdd,_0x514c67=_0xe5093f*0x3c+_0x2b87e4;if(Math[_0x40caac(0x1d8)](_0x8a334d,_0x4f6596)<Math[_0x40caac(0x1ff)](_0x1bcaa5,_0x514c67)){if(_0x1a117e[_0x40caac(0x1d5)]&&String(_0x1a117e[_0x40caac(0x1d5)])===_0x147f6a)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0x1a117e[_0x40caac(0x1b2)]+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x1976a8=!![],_0x1f14d7=_0x1a117e[_0x40caac(0x1b2)];}}if(_0x1976a8)return{'valid':!![],'warning':_0x40caac(0x138)+_0x1f14d7};return{'valid':!![]};}function saveSingleSession(_0x481bba){const _0x58b459=a2_0x3c1f71;if(editingId){const _0x5643f6=sessions['findIndex'](_0x2a685d=>_0x2a685d['id']===editingId);if(_0x5643f6!==-0x1)sessions[_0x5643f6]=_0x481bba;}else sessions[_0x58b459(0x1ce)](_0x481bba);afterSaveAction([_0x481bba[_0x58b459(0x1dc)]]);}function createBatchSeries(_0x1e1d7b,_0x5ceefd,_0x42610f){const _0x35ba1c=a2_0x3c1f71,_0x1997a0=generateId(),_0x6f147d=[],_0x40fda2=[];let _0x92cbd3=0x0,_0x5d64d3=new Date(_0x5ceefd);for(let _0x4b9470=0x0;_0x4b9470<_0x42610f;_0x4b9470++){const _0x416532=getLocalDateStr(_0x5d64d3),_0x1e9b9e=validateAppointment(_0x416532,_0x1e1d7b[_0x35ba1c(0x104)],_0x1e1d7b[_0x35ba1c(0x159)],null,_0x1e1d7b['clientId']);if(!_0x1e9b9e[_0x35ba1c(0x1fe)])console[_0x35ba1c(0x224)]('[Series]\x20Skipped\x20'+_0x416532+':\x20Client\x20already\x20booked'),_0x92cbd3++;else{const _0x2b67ad={..._0x1e1d7b,'id':generateId(),'dateStr':_0x416532,'seriesId':_0x1997a0};_0x40fda2['push'](_0x2b67ad),_0x6f147d[_0x35ba1c(0x1ce)](_0x416532);}_0x5d64d3[_0x35ba1c(0x190)](_0x5d64d3[_0x35ba1c(0x238)]()+0x7);}if(_0x40fda2[_0x35ba1c(0x1d2)]===0x0){showToast(_0x35ba1c(0x179),![]);return;}sessions[_0x35ba1c(0x1ce)](..._0x40fda2),lastUserActionTime=Date[_0x35ba1c(0x1c8)]();let _0x1c1fdd='–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20'+_0x40fda2['length'];_0x92cbd3>0x0&&(_0x1c1fdd+=_0x35ba1c(0x210)+_0x92cbd3+')'),showToast(_0x1c1fdd,!![]),afterSaveAction(_0x6f147d);}function updateSeriesBatch(_0x15d734,_0x79d0c8){const _0x23d917=a2_0x3c1f71,_0x86417c=[],_0x44c349=_0x79d0c8[_0x23d917(0xe8)];if(_0x15d734===_0x23d917(0x1ab)){const _0x575d4f={..._0x79d0c8,'seriesId':null},_0x26b9cf=sessions[_0x23d917(0x11e)](_0xebcbdf=>_0xebcbdf['id']===_0x79d0c8['id']);if(_0x26b9cf!==-0x1)sessions[_0x26b9cf]=_0x575d4f;_0x86417c['push'](_0x575d4f[_0x23d917(0x1dc)]);}else{if(_0x15d734==='series'){const _0xb92763=_0x79d0c8[_0x23d917(0x1dc)];sessions[_0x23d917(0xd1)]((_0x2e9b36,_0x416e78)=>{const _0xf589a7=_0x23d917;_0x2e9b36['seriesId']===_0x44c349&&_0x2e9b36[_0xf589a7(0x1dc)]>=_0xb92763&&(sessions[_0x416e78]={...sessions[_0x416e78],'start':_0x79d0c8[_0xf589a7(0x104)],'end':_0x79d0c8['end'],'note':_0x79d0c8['note'],'client':_0x79d0c8[_0xf589a7(0x1b2)],'clientId':_0x79d0c8['clientId']},_0x86417c[_0xf589a7(0x1ce)](_0x2e9b36[_0xf589a7(0x1dc)]));});}}afterSaveAction(_0x86417c);}function tryDeleteSession(){const _0x2a5290=a2_0x3c1f71,_0x22c233=sessions[_0x2a5290(0x14f)](_0xc26ea3=>_0xc26ea3['id']===editingId);if(!_0x22c233)return;_0x22c233[_0x2a5290(0xe8)]?openActionSheet('delete'):commitDelete(_0x2a5290(0x1ab),_0x22c233);}function commitDelete(_0x5cce8f,_0x2956c0){const _0x506fd5=a2_0x3c1f71;lastUserActionTime=Date[_0x506fd5(0x1c8)](),NotificationManager[_0x506fd5(0x153)](_0x506fd5(0x234),_0x2956c0);const _0x450595=[];if(_0x5cce8f===_0x506fd5(0x1ab))sessions=sessions['filter'](_0x40058c=>_0x40058c['id']!==_0x2956c0['id']),_0x450595['push'](_0x2956c0[_0x506fd5(0x1dc)]);else{if(_0x5cce8f==='series'){const _0x262350=_0x2956c0[_0x506fd5(0x1dc)],_0x56489b=_0x2956c0[_0x506fd5(0xe8)];sessions[_0x506fd5(0xd1)](_0x339381=>{const _0x2b7aa2=_0x506fd5;_0x339381['seriesId']===_0x56489b&&_0x339381[_0x2b7aa2(0x1dc)]>=_0x262350&&_0x450595[_0x2b7aa2(0x1ce)](_0x339381[_0x2b7aa2(0x1dc)]);}),sessions=sessions[_0x506fd5(0x13f)](_0x557a25=>!(_0x557a25[_0x506fd5(0xe8)]===_0x56489b&&_0x557a25[_0x506fd5(0x1dc)]>=_0x262350));}}afterSaveAction(_0x450595);}function afterSaveAction(_0x1ac4cf){const _0x25b1b6=a2_0x3c1f71;DataManager[_0x25b1b6(0x1d4)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x25b1b6(0x23c)](_0x1ac4cf)[_0x25b1b6(0x126)](()=>console[_0x25b1b6(0x224)](_0x25b1b6(0x18d)))['catch'](_0x14d59a=>showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ',![]));}const NotificationManager={'formatDate'(_0x2d020b){const _0x5ede6e=a2_0x3c1f71,_0x41250b=new Date(_0x2d020b),_0x51d9cb={'weekday':_0x5ede6e(0x1ca),'day':_0x5ede6e(0x20c),'month':'long'};let _0x165f93=_0x41250b[_0x5ede6e(0xc7)](_0x5ede6e(0x1f8),_0x51d9cb);return _0x165f93[_0x5ede6e(0x1a6)](0x0)[_0x5ede6e(0x1f2)]()+_0x165f93[_0x5ede6e(0x209)](0x1);},'getText'(_0x4bec50,_0x3e6ca3){const _0x305cfc=a2_0x3c1f71,_0x213276=this[_0x305cfc(0x20e)](_0x3e6ca3[_0x305cfc(0x1dc)]);switch(_0x4bec50){case _0x305cfc(0x1cc):return _0x305cfc(0xee)+(_0x305cfc(0x1d0)+_0x213276+'\x0a')+('<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20'+_0x3e6ca3['start']+'\x20‚Äî\x20'+_0x3e6ca3[_0x305cfc(0x159)]+'\x0a\x0a')+'–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™';case _0x305cfc(0x133):return _0x305cfc(0x21e)+_0x305cfc(0x1ae)+(_0x305cfc(0x100)+_0x3e6ca3[_0x305cfc(0x104)]+_0x305cfc(0x201)+_0x3e6ca3[_0x305cfc(0x159)]+_0x305cfc(0x15e))+(_0x305cfc(0x1d0)+_0x213276);case _0x305cfc(0x234):return'<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a'+('–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>'+_0x213276+'\x20('+_0x3e6ca3['start']+_0x305cfc(0x1d7));case _0x305cfc(0x13c):return _0x305cfc(0x12c)+_0x305cfc(0x11f)+_0x305cfc(0x182);default:return'';}},async 'send'(_0x279b20,_0x2f2ba7){const _0x17b521=a2_0x3c1f71;console[_0x17b521(0x224)](_0x17b521(0x203),_0x279b20,_0x2f2ba7);if(!_0x2f2ba7){console[_0x17b521(0x239)](_0x17b521(0x230));return;}const _0x2bf316=String(_0x2f2ba7[_0x17b521(0x1d5)]);console[_0x17b521(0x224)](_0x17b521(0x1f1),_0x2bf316);if(!_0x2f2ba7[_0x17b521(0x1d5)]||_0x2bf316===_0x17b521(0x232)||_0x2bf316===_0x17b521(0x19c)){console[_0x17b521(0x239)](_0x17b521(0xea));if(_0x2f2ba7['client']){const _0x5a2b21=clients['find'](_0x5b858e=>_0x5b858e[_0x17b521(0x188)]===_0x2f2ba7['client']);if(_0x5a2b21)return console[_0x17b521(0x224)](_0x17b521(0x180),_0x5a2b21['id']),this['send'](_0x279b20,{..._0x2f2ba7,'clientId':_0x5a2b21['id']});}return;}if(_0x2bf316[_0x17b521(0x1d2)]<0x5){console['warn'](_0x17b521(0x110),_0x2bf316);return;}const _0xe5d20c=this[_0x17b521(0x19f)](_0x279b20,_0x2f2ba7);if(!_0xe5d20c){console[_0x17b521(0x239)](_0x17b521(0x132));return;}console[_0x17b521(0x224)](_0x17b521(0x1c6)+_0x2bf316+_0x17b521(0xd4)),DataManager[_0x17b521(0xeb)](_0x17b521(0x114),{'chatId':_0x2bf316,'text':_0xe5d20c})[_0x17b521(0x126)](_0x53a98d=>console['log'](_0x17b521(0x206),_0x53a98d))[_0x17b521(0x194)](_0xce364e=>console[_0x17b521(0x239)]('[Notify]\x20Network\x20Failed',_0xce364e));}};function getLocalDateStr(_0x36bdde){const _0x13a04c=a2_0x3c1f71,_0x190b05=_0x36bdde['getFullYear'](),_0x530cda=String(_0x36bdde[_0x13a04c(0x108)]()+0x1)['padStart'](0x2,'0'),_0x2b2d7d=String(_0x36bdde['getDate']())['padStart'](0x2,'0');return _0x190b05+'-'+_0x530cda+'-'+_0x2b2d7d;}function getDateStr(_0x1e206b){const _0x5a02b3=a2_0x3c1f71,_0x29837c=new Date();return _0x29837c['setDate'](_0x29837c[_0x5a02b3(0x238)]()+_0x1e206b),getLocalDateStr(_0x29837c);}function getStartOfWeek(_0xe9f585){const _0x13209d=a2_0x3c1f71,_0x1bdfe9=new Date(_0xe9f585),_0xf06615=_0x1bdfe9['getDay'](),_0x3f5167=_0x1bdfe9[_0x13209d(0x238)]()-_0xf06615+(_0xf06615===0x0?-0x6:0x1);return _0x1bdfe9[_0x13209d(0x190)](_0x3f5167),_0x1bdfe9[_0x13209d(0x121)](0x0,0x0,0x0,0x0),_0x1bdfe9;}function hexToRgba(_0x4ef3d6,_0x183de4){const _0x2628d9=a2_0x3c1f71;if(!_0x4ef3d6)return _0x2628d9(0x1f3);let _0x7489ab=0x0,_0x578b73=0x0,_0x1bcffe=0x0;if(_0x4ef3d6[_0x2628d9(0x1d2)]===0x4)_0x7489ab='0x'+_0x4ef3d6[0x1]+_0x4ef3d6[0x1],_0x578b73='0x'+_0x4ef3d6[0x2]+_0x4ef3d6[0x2],_0x1bcffe='0x'+_0x4ef3d6[0x3]+_0x4ef3d6[0x3];else _0x4ef3d6[_0x2628d9(0x1d2)]===0x7&&(_0x7489ab='0x'+_0x4ef3d6[0x1]+_0x4ef3d6[0x2],_0x578b73='0x'+_0x4ef3d6[0x3]+_0x4ef3d6[0x4],_0x1bcffe='0x'+_0x4ef3d6[0x5]+_0x4ef3d6[0x6]);return _0x2628d9(0x1c3)+ +_0x7489ab+',\x20'+ +_0x578b73+',\x20'+ +_0x1bcffe+',\x20'+_0x183de4+')';}function renderTimeColumn(){const _0x55bee0=a2_0x3c1f71,_0x432d43=document[_0x55bee0(0xf7)](_0x55bee0(0x1b8)),_0x1907da=document['getElementById']('timeLineBadge');_0x432d43[_0x55bee0(0x23f)]='',_0x432d43[_0x55bee0(0x109)](_0x1907da);for(let _0x33c0d5=0x0;_0x33c0d5<0x18;_0x33c0d5++){const _0x53218d=document['createElement']('div');_0x53218d[_0x55bee0(0x1e2)]=_0x55bee0(0x1eb);if(_0x33c0d5>0x0)_0x53218d[_0x55bee0(0x23f)]='<span>'+String(_0x33c0d5)['padStart'](0x2,'0')+':00</span>';_0x432d43[_0x55bee0(0x109)](_0x53218d);}}function renderDayRange(_0x2c1680,_0x422490){const _0x103380=a2_0x3c1f71,_0x5d3eb4=document['getElementById'](_0x103380(0x123)),_0x47e0b3=document['getElementById'](_0x103380(0x1e3)),_0x2ca062=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x2743b0=new Date();_0x2743b0['setHours'](0x0,0x0,0x0,0x0);const _0x54f9f6=getLocalDateStr(new Date());for(let _0x20782e=_0x2c1680;_0x20782e<=_0x422490;_0x20782e++){const _0x177234=new Date(_0x2743b0);_0x177234[_0x103380(0x190)](_0x177234['getDate']()+_0x20782e);const _0x2b8cf3=getLocalDateStr(_0x177234);let _0x248d56=_0x177234[_0x103380(0x1aa)]()-0x1;if(_0x248d56===-0x1)_0x248d56=0x6;const _0x530a18=_0x2b8cf3===_0x54f9f6,_0x2b49ff=document['createElement'](_0x103380(0xd0));_0x2b49ff[_0x103380(0x1e2)]=_0x103380(0x146)+(_0x530a18?_0x103380(0xf9):''),_0x2b49ff['id']='header-'+_0x2b8cf3,_0x2b49ff[_0x103380(0x185)](_0x103380(0x11a),_0x2b8cf3),_0x2b49ff['innerHTML']=_0x103380(0x15d)+_0x2ca062[_0x248d56]+_0x103380(0xf0)+_0x177234[_0x103380(0x238)]()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0x2b8cf3+_0x103380(0x148),_0x2b49ff['onclick']=()=>openDayOptions(_0x2b8cf3,_0x2ca062[_0x248d56]+'\x20'+_0x177234[_0x103380(0x238)]()),_0x5d3eb4[_0x103380(0x109)](_0x2b49ff);const _0x4c052b=document[_0x103380(0x213)](_0x103380(0xd0));_0x4c052b[_0x103380(0x1e2)]=_0x103380(0xcd)+(_0x530a18?_0x103380(0xf9):''),_0x4c052b[_0x103380(0x185)](_0x103380(0x11a),_0x2b8cf3),_0x4c052b[_0x103380(0x185)](_0x103380(0x186),_0x248d56),renderEventsForColumn(_0x4c052b,_0x2b8cf3,_0x248d56),attachLongPressHandler(_0x4c052b,_0x177234),_0x47e0b3[_0x103380(0x109)](_0x4c052b),updateDayStats(_0x2b8cf3);}}function reRenderBlocks(){const _0x52f9d3=a2_0x3c1f71;document[_0x52f9d3(0x215)](_0x52f9d3(0x220))[_0x52f9d3(0xd1)](_0x675593=>{const _0x251ca7=_0x52f9d3;_0x675593['querySelectorAll']('.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card')[_0x251ca7(0xd1)](_0x3f9586=>_0x3f9586[_0x251ca7(0x20f)]());const _0x504102=_0x675593[_0x251ca7(0x13a)](_0x251ca7(0x11a)),_0x533256=parseInt(_0x675593[_0x251ca7(0x13a)](_0x251ca7(0x186))),_0x488443=Math[_0x251ca7(0x149)](_0x675593[_0x251ca7(0x184)]);(availabilityPattern[_0x533256]||[])['forEach'](_0x3c4ac3=>{const _0x7e35ad=_0x251ca7,_0x469a69=document[_0x7e35ad(0x213)](_0x7e35ad(0xd0));_0x469a69['className']=_0x7e35ad(0x1ed);const _0x11da8f=_0x3c4ac3*GRID_H;_0x469a69[_0x7e35ad(0x1f5)][_0x7e35ad(0x150)]=_0x11da8f+'px',_0x469a69['style'][_0x7e35ad(0x119)]='-'+_0x488443+_0x7e35ad(0x233)+_0x11da8f+'px',_0x675593[_0x7e35ad(0x109)](_0x469a69);});if(specialRanges&&specialRanges[_0x251ca7(0x1d2)]>0x0){const _0x34e130=new Date(_0x504102+'T00:00:00')[_0x251ca7(0x160)](),_0x5488a7=new Date(_0x504102+_0x251ca7(0x1f9))['getTime']();specialRanges[_0x251ca7(0xd1)](_0x1763fa=>{const _0x5f1ee9=_0x251ca7,_0x37592b=new Date(_0x1763fa['start'])[_0x5f1ee9(0x160)](),_0x3157a0=new Date(_0x1763fa[_0x5f1ee9(0x159)])['getTime'](),_0x26ecdc=Math[_0x5f1ee9(0x1d8)](_0x34e130,_0x37592b),_0x2c9878=Math[_0x5f1ee9(0x1ff)](_0x5488a7,_0x3157a0);if(_0x26ecdc<_0x2c9878){if(_0x26ecdc<=_0x34e130&&_0x2c9878>=_0x5488a7-0xea60){if(!_0x675593['querySelector'](_0x5f1ee9(0x1f7))){const _0x18d19d=document['createElement'](_0x5f1ee9(0xd0));_0x18d19d[_0x5f1ee9(0x1e2)]=_0x5f1ee9(0xf8),_0x18d19d['style'][_0x5f1ee9(0x119)]='-'+_0x488443+'px\x200px',_0x675593['appendChild'](_0x18d19d);}}else{const _0xb596e1=(_0x26ecdc-_0x34e130)/0x36ee80*GRID_H,_0x217d6e=(_0x2c9878-_0x26ecdc)/0x36ee80*GRID_H,_0x445a4a=document[_0x5f1ee9(0x213)](_0x5f1ee9(0xd0));_0x445a4a[_0x5f1ee9(0x1e2)]='blocked-range-part\x20stripe-bg',_0x445a4a['style'][_0x5f1ee9(0x150)]=_0xb596e1+'px',_0x445a4a['style'][_0x5f1ee9(0x135)]=_0x217d6e+'px',_0x445a4a[_0x5f1ee9(0x1f5)][_0x5f1ee9(0x119)]='-'+_0x488443+_0x5f1ee9(0x233)+_0xb596e1+'px',_0x675593[_0x5f1ee9(0x109)](_0x445a4a);}}});}if(dateExceptions[_0x504102]===_0x251ca7(0x15a)){if(!_0x675593[_0x251ca7(0x1d3)](_0x251ca7(0x1f7))){const _0x5de8c5=document[_0x251ca7(0x213)](_0x251ca7(0xd0));_0x5de8c5[_0x251ca7(0x1e2)]=_0x251ca7(0xf8),_0x5de8c5[_0x251ca7(0x1f5)][_0x251ca7(0x119)]='-'+_0x488443+_0x251ca7(0x1c7),_0x675593[_0x251ca7(0x109)](_0x5de8c5);}}renderEventsForColumn(_0x675593,_0x504102,_0x533256),updateDayStats(_0x504102);});}function updateAllDayStats(){const _0x4ab974=a2_0x3c1f71;document['querySelectorAll'](_0x4ab974(0x16b))[_0x4ab974(0xd1)](_0x9859a9=>{const _0x560f41=_0x4ab974;updateDayStats(_0x9859a9[_0x560f41(0x13a)](_0x560f41(0x11a)));});}function updateDayStats(_0x19cc58){const _0x5a661e=a2_0x3c1f71,_0x230233=document['getElementById']('stat-'+_0x19cc58);if(!_0x230233)return;const _0xb5f13=new Date(_0x19cc58);let _0x55b6c0=_0xb5f13['getDay']()-0x1;if(_0x55b6c0===-0x1)_0x55b6c0=0x6;if(dateExceptions[_0x19cc58]===_0x5a661e(0x15a)){_0x230233['style']['display']=_0x5a661e(0x1d9);return;}const _0x34e790=availabilityPattern[_0x55b6c0]||[],_0x2e4d03=0x18-_0x34e790[_0x5a661e(0x1d2)],_0x1ff7fb=_0x2e4d03*0x3c,_0x205815=sessions[_0x5a661e(0x13f)](_0x30fee8=>_0x30fee8[_0x5a661e(0x1dc)]===_0x19cc58&&_0x30fee8[_0x5a661e(0x23a)]!==_0x5a661e(0x202));if(_0x205815[_0x5a661e(0x1d2)]===0x0){_0x230233[_0x5a661e(0x1f5)]['display']=_0x5a661e(0x1d9);return;}let _0x5eece4=_0x205815[_0x5a661e(0xe3)](_0x433316=>{const _0x53ceb3=_0x5a661e,[_0x43dbf0,_0x5d8c12]=_0x433316[_0x53ceb3(0x104)][_0x53ceb3(0x1a9)](':')['map'](Number),[_0x2fd6ba,_0x221fb4]=_0x433316[_0x53ceb3(0x159)][_0x53ceb3(0x1a9)](':')[_0x53ceb3(0xe3)](Number);return[_0x43dbf0*0x3c+_0x5d8c12,_0x2fd6ba*0x3c+_0x221fb4];});_0x5eece4[_0x5a661e(0x115)]((_0x512014,_0x575196)=>_0x512014[0x0]-_0x575196[0x0]);let _0x3dc8bc=[];if(_0x5eece4[_0x5a661e(0x1d2)]>0x0){let _0x46b3cb=_0x5eece4[0x0];for(let _0x4a9175=0x1;_0x4a9175<_0x5eece4[_0x5a661e(0x1d2)];_0x4a9175++){_0x5eece4[_0x4a9175][0x0]<_0x46b3cb[0x1]?_0x46b3cb[0x1]=Math[_0x5a661e(0x1d8)](_0x46b3cb[0x1],_0x5eece4[_0x4a9175][0x1]):(_0x3dc8bc['push'](_0x46b3cb),_0x46b3cb=_0x5eece4[_0x4a9175]);}_0x3dc8bc[_0x5a661e(0x1ce)](_0x46b3cb);}let _0x5d65c7=0x0;_0x3dc8bc['forEach'](_0x4f784d=>_0x5d65c7+=_0x4f784d[0x1]-_0x4f784d[0x0]),_0x230233[_0x5a661e(0x1f5)][_0x5a661e(0x247)]=_0x5a661e(0x12f);const _0x432511=_0x230233[_0x5a661e(0x1d3)](_0x5a661e(0x151));if(_0x1ff7fb===0x0){_0x432511[_0x5a661e(0x1f5)][_0x5a661e(0xc8)]=_0x5a661e(0x10e),_0x432511[_0x5a661e(0x1f5)][_0x5a661e(0x221)]=_0x5a661e(0x16e);return;}const _0x5c6a91=_0x5d65c7/_0x1ff7fb*0x64;console[_0x5a661e(0x224)]('['+_0x19cc58+']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20'+_0x2e4d03+_0x5a661e(0x14e)+_0x5d65c7+_0x5a661e(0xe1)+_0x5c6a91[_0x5a661e(0x1db)](0x1)+'%'),_0x5c6a91>0x64?(_0x432511[_0x5a661e(0x1f5)][_0x5a661e(0xc8)]=_0x5a661e(0x10e),_0x432511['style'][_0x5a661e(0x221)]=_0x5a661e(0x16e)):(_0x432511['style'][_0x5a661e(0xc8)]=_0x5c6a91+'%',_0x432511[_0x5a661e(0x1f5)][_0x5a661e(0x221)]='var(--acc-current)');}function renderEventsForColumn(_0x36d25e,_0x20e372,_0x11aab8){const _0x2c578b=a2_0x3c1f71,_0x411e78=sessions['filter'](_0x21cf1c=>_0x21cf1c[_0x2c578b(0x1dc)]===_0x20e372),_0x3bbedf=_0x411e78[_0x2c578b(0xe3)](_0x1467a7=>{const _0x459f08=_0x2c578b,[_0x51b70b,_0x5be758]=_0x1467a7[_0x459f08(0x104)][_0x459f08(0x1a9)](':')[_0x459f08(0xe3)](Number),[_0x125674,_0x4ccd07]=_0x1467a7[_0x459f08(0x159)][_0x459f08(0x1a9)](':')[_0x459f08(0xe3)](Number);return{'data':_0x1467a7,'start':_0x51b70b*0x3c+_0x5be758,'end':_0x125674*0x3c+_0x4ccd07,'colIndex':0x0};});_0x3bbedf[_0x2c578b(0x115)]((_0x3d949d,_0x56f90a)=>{const _0x4c1cf6=_0x2c578b;if(_0x3d949d[_0x4c1cf6(0x104)]!==_0x56f90a[_0x4c1cf6(0x104)])return _0x3d949d['start']-_0x56f90a['start'];return _0x56f90a[_0x4c1cf6(0x159)]-_0x56f90a[_0x4c1cf6(0x104)]-(_0x3d949d[_0x4c1cf6(0x159)]-_0x3d949d[_0x4c1cf6(0x104)]);});const _0x354f54=[];_0x3bbedf[_0x2c578b(0xd1)](_0x43b688=>{const _0x5181af=_0x2c578b;let _0x3c84df=![];for(let _0x4584db=0x0;_0x4584db<_0x354f54[_0x5181af(0x1d2)];_0x4584db++){const _0x4923a6=_0x354f54[_0x4584db],_0x3c5805=_0x4923a6[_0x4923a6[_0x5181af(0x1d2)]-0x1];if(_0x43b688[_0x5181af(0x104)]>=_0x3c5805[_0x5181af(0x159)]){_0x4923a6[_0x5181af(0x1ce)](_0x43b688),_0x43b688[_0x5181af(0x245)]=_0x4584db,_0x3c84df=!![];break;}}!_0x3c84df&&(_0x354f54[_0x5181af(0x1ce)]([_0x43b688]),_0x43b688['colIndex']=_0x354f54[_0x5181af(0x1d2)]-0x1);}),_0x3bbedf[_0x2c578b(0xd1)](_0x488ccb=>{const _0x333aaf=_0x2c578b;let _0x2a8afd=0x0;_0x3bbedf[_0x333aaf(0xd1)](_0x37575c=>{const _0x1349fc=_0x333aaf;if(Math[_0x1349fc(0x1d8)](_0x488ccb[_0x1349fc(0x104)],_0x37575c[_0x1349fc(0x104)])<Math['min'](_0x488ccb[_0x1349fc(0x159)],_0x37575c[_0x1349fc(0x159)])){if(_0x37575c[_0x1349fc(0x245)]>_0x2a8afd)_0x2a8afd=_0x37575c[_0x1349fc(0x245)];}});const _0x2c1b2d=_0x2a8afd+0x1,_0x2c7720=0x64/_0x2c1b2d,_0x1fa8db=_0x488ccb[_0x333aaf(0x245)]*_0x2c7720,_0x5948cd=createEventEl(_0x488ccb['data']);_0x5948cd[_0x333aaf(0x1f5)][_0x333aaf(0xc8)]=_0x333aaf(0x21a)+_0x2c7720+_0x333aaf(0x1fb),_0x5948cd['style'][_0x333aaf(0x127)]=_0x333aaf(0x21a)+_0x1fa8db+'%\x20+\x202px)',_0x5948cd[_0x333aaf(0x1f5)][_0x333aaf(0x1b3)]=0xa+_0x488ccb[_0x333aaf(0x245)],_0x2c7720<0x55&&_0x5948cd[_0x333aaf(0x18e)]['add'](_0x333aaf(0x1ea)),_0x36d25e[_0x333aaf(0x109)](_0x5948cd);});}function createEventEl(_0x51058d){const _0x35fccc=a2_0x3c1f71,[_0x3f107e,_0x165fbe]=_0x51058d[_0x35fccc(0x104)][_0x35fccc(0x1a9)](':')[_0x35fccc(0xe3)](Number),[_0x471818,_0x239248]=_0x51058d['end'][_0x35fccc(0x1a9)](':')[_0x35fccc(0xe3)](Number),_0x34ec7d=(_0x3f107e*0x3c+_0x165fbe)/0x3c*GRID_H,_0x2d91d5=(_0x471818*0x3c+_0x239248-(_0x3f107e*0x3c+_0x165fbe))/0x3c*GRID_H,_0x4985f6=document[_0x35fccc(0x213)](_0x35fccc(0xd0)),_0x4b6ad6=_0x51058d[_0x35fccc(0x23a)]===_0x35fccc(0x1a7)?_0x35fccc(0x10d):'';_0x4985f6[_0x35fccc(0x1e2)]='event-card'+_0x4b6ad6,_0x4985f6[_0x35fccc(0x1f5)][_0x35fccc(0x150)]=_0x34ec7d+'px',_0x4985f6['style'][_0x35fccc(0x135)]=Math[_0x35fccc(0x1d8)](_0x2d91d5,0x14)+'px';const _0xea1885=clients[_0x35fccc(0x14f)](_0x2ddc8e=>_0x51058d[_0x35fccc(0x1d5)]&&String(_0x2ddc8e['id'])===String(_0x51058d[_0x35fccc(0x1d5)])||_0x2ddc8e[_0x35fccc(0x188)]===_0x51058d[_0x35fccc(0x1b2)]),_0x3b3c92=_0xea1885?_0xea1885['color']:'#0a84ff';_0x4985f6[_0x35fccc(0x1f5)][_0x35fccc(0x1a1)]=_0x3b3c92,_0x4985f6[_0x35fccc(0x1f5)][_0x35fccc(0x130)]=hexToRgba(_0x3b3c92,0.85);let _0x6590cd=_0x35fccc(0x1a0)+_0x51058d['client']+_0x35fccc(0x168)+_0x51058d[_0x35fccc(0x104)]+_0x35fccc(0x1bf)+_0x51058d[_0x35fccc(0x159)]+'</div>';return _0x51058d[_0x35fccc(0xe8)]&&(_0x6590cd+='<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>'),_0x51058d[_0x35fccc(0x23a)]===_0x35fccc(0x1a7)&&(_0x6590cd+=_0x35fccc(0x236)),_0x4985f6[_0x35fccc(0x23f)]=_0x6590cd,_0x4985f6['onclick']=_0x429bae=>{const _0x4fa6d5=_0x35fccc;_0x429bae[_0x4fa6d5(0x14b)](),openEdit(_0x51058d);},_0x4985f6;}function a2_0x5e87(_0x10c813,_0x162ddf){_0x10c813=_0x10c813-0xc7;const _0x112c3f=a2_0x59f2();let _0x33f97c=_0x112c3f[_0x10c813];return _0x33f97c;}function attachLongPressHandler(_0x54adb0,_0x5ec977){const _0x2bfafb=a2_0x3c1f71;let _0x3b96b7=0x0,_0x488dad=null;const _0x53a3dd=_0x1a7c29=>{const _0x5c9a44=a2_0x5e87;if(_0x1a7c29[_0x5c9a44(0xcc)][_0x5c9a44(0x17f)](_0x5c9a44(0x198)))return;isScrolling=![],_0x3b96b7=_0x1a7c29[_0x5c9a44(0x1e6)]?_0x1a7c29[_0x5c9a44(0x1e6)][0x0]['clientY']:_0x1a7c29['clientY'],_0x488dad=setTimeout(()=>{const _0x11d983=_0x5c9a44;if(!isScrolling){navigator['vibrate']?.(0x32);const _0x7d444a=_0x54adb0['getBoundingClientRect'](),_0x117c04=Math[_0x11d983(0x218)]((_0x3b96b7-_0x7d444a['top'])/GRID_H);_0x5ec977[_0x11d983(0x121)](_0x117c04,0x0),openAddSession(_0x5ec977);}},0x1f4);},_0x2962ea=()=>{isScrolling=!![],clearTimeout(_0x488dad);},_0x146571=()=>{clearTimeout(_0x488dad);};_0x54adb0['addEventListener']('touchstart',_0x53a3dd,{'passive':!![]}),_0x54adb0['addEventListener'](_0x2bfafb(0xf1),_0x2962ea,{'passive':!![]}),_0x54adb0[_0x2bfafb(0x125)](_0x2bfafb(0x106),_0x146571),_0x54adb0['addEventListener'](_0x2bfafb(0x1ba),_0x53a3dd),_0x54adb0[_0x2bfafb(0x125)](_0x2bfafb(0x21f),_0x2962ea),_0x54adb0[_0x2bfafb(0x125)](_0x2bfafb(0x22f),_0x146571);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x1316d5=a2_0x3c1f71,_0x5098f4=document[_0x1316d5(0xf7)](_0x1316d5(0x1b9)),_0x4cd11a=_0x5098f4['scrollLeft'],_0x56f6c5=_0x5098f4['scrollWidth'],_0x2a25bd=_0x5098f4[_0x1316d5(0x112)];if(_0x56f6c5-(_0x4cd11a+_0x2a25bd)<0x12c){const _0x2fda1d=endOffset;endOffset+=0xe,renderDayRange(_0x2fda1d+0x1,endOffset),reRenderBlocks();}if(_0x4cd11a<0x12c){const _0x3d4306=startOffset;startOffset-=0xe,prependDays(startOffset,_0x3d4306-0x1),_0x5098f4['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x50a45d,_0x2e127d){const _0x59d2ad=a2_0x3c1f71,_0x465486=document[_0x59d2ad(0xf7)](_0x59d2ad(0x123)),_0x5a21af=document[_0x59d2ad(0xf7)](_0x59d2ad(0x1e3)),_0x4fd30c=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x5e89cb=new Date();_0x5e89cb['setHours'](0x0,0x0,0x0,0x0);const _0x48c297=getLocalDateStr(new Date()),_0x4f4e5a=document[_0x59d2ad(0x147)](),_0x2071b8=document[_0x59d2ad(0x147)]();for(let _0x1704f0=_0x50a45d;_0x1704f0<=_0x2e127d;_0x1704f0++){const _0x519e7a=new Date(_0x5e89cb);_0x519e7a['setDate'](_0x519e7a[_0x59d2ad(0x238)]()+_0x1704f0);const _0x5e0821=getLocalDateStr(_0x519e7a);let _0xeaa354=_0x519e7a[_0x59d2ad(0x1aa)]()-0x1;if(_0xeaa354===-0x1)_0xeaa354=0x6;const _0x4f4561=_0x5e0821===_0x48c297,_0x3e4e5d=document[_0x59d2ad(0x213)]('div');_0x3e4e5d[_0x59d2ad(0x1e2)]=_0x59d2ad(0x146)+(_0x4f4561?_0x59d2ad(0xf9):''),_0x3e4e5d['id']=_0x59d2ad(0x117)+_0x5e0821,_0x3e4e5d[_0x59d2ad(0x185)](_0x59d2ad(0x11a),_0x5e0821),_0x3e4e5d['innerHTML']=_0x59d2ad(0x15d)+_0x4fd30c[_0xeaa354]+_0x59d2ad(0xf0)+_0x519e7a[_0x59d2ad(0x238)]()+_0x59d2ad(0x20d)+_0x5e0821+_0x59d2ad(0x148),_0x3e4e5d[_0x59d2ad(0x225)]=()=>openDayOptions(_0x5e0821,_0x4fd30c[_0xeaa354]+'\x20'+_0x519e7a[_0x59d2ad(0x238)]()),_0x4f4e5a[_0x59d2ad(0x109)](_0x3e4e5d);const _0x4d1a4a=document[_0x59d2ad(0x213)]('div');_0x4d1a4a[_0x59d2ad(0x1e2)]=_0x59d2ad(0xcd)+(_0x4f4561?'today':''),_0x4d1a4a[_0x59d2ad(0x185)](_0x59d2ad(0x11a),_0x5e0821),_0x4d1a4a[_0x59d2ad(0x185)]('data-day-idx',_0xeaa354),renderEventsForColumn(_0x4d1a4a,_0x5e0821,_0xeaa354),attachLongPressHandler(_0x4d1a4a,_0x519e7a),_0x2071b8[_0x59d2ad(0x109)](_0x4d1a4a),updateDayStats(_0x5e0821);}_0x465486[_0x59d2ad(0x22e)](_0x4f4e5a,_0x465486[_0x59d2ad(0x22c)]),_0x5a21af[_0x59d2ad(0x22e)](_0x2071b8,_0x5a21af['querySelector']('.day-column'));}function validateAppointment(_0x3a1819,_0x2e0502,_0x23a22c,_0x5d641d,_0x3f797f){const _0x27a253=a2_0x3c1f71,[_0x336324,_0x3eeeaa]=_0x2e0502['split'](':')['map'](Number),[_0x5efccb,_0x54269b]=_0x23a22c[_0x27a253(0x1a9)](':')[_0x27a253(0xe3)](Number),_0x320e4b=_0x336324*0x3c+_0x3eeeaa,_0x121b6d=_0x5efccb*0x3c+_0x54269b,_0x1ae322=String(_0x3f797f);let _0x335752=![],_0x4e7d6f='';for(let _0x4acad9 of sessions){if(_0x4acad9[_0x27a253(0x1dc)]!==_0x3a1819)continue;if(_0x4acad9[_0x27a253(0x23a)]===_0x27a253(0x202))continue;if(_0x5d641d&&String(_0x4acad9['id'])===String(_0x5d641d))continue;const [_0x30e95d,_0x316a3c]=_0x4acad9[_0x27a253(0x104)][_0x27a253(0x1a9)](':')['map'](Number),[_0x75c584,_0xed27d5]=_0x4acad9[_0x27a253(0x159)][_0x27a253(0x1a9)](':')[_0x27a253(0xe3)](Number),_0x10efb6=_0x30e95d*0x3c+_0x316a3c,_0x17e8cc=_0x75c584*0x3c+_0xed27d5;if(Math[_0x27a253(0x1d8)](_0x320e4b,_0x10efb6)<Math[_0x27a253(0x1ff)](_0x121b6d,_0x17e8cc)){if(_0x4acad9[_0x27a253(0x1d5)]&&String(_0x4acad9[_0x27a253(0x1d5)])===_0x1ae322)return{'valid':![],'msg':_0x27a253(0x1ac)+_0x4acad9[_0x27a253(0x1b2)]+_0x27a253(0x16a)};_0x335752=!![],_0x4e7d6f=_0x4acad9[_0x27a253(0x1b2)];}}if(_0x335752)return{'valid':!![],'warning':_0x27a253(0x138)+_0x4e7d6f};return{'valid':!![]};}function updateDateDisplay(){const _0x2aa2ae=a2_0x3c1f71,_0x5c6fa7=document['getElementById'](_0x2aa2ae(0x163))[_0x2aa2ae(0x139)],_0x1f7f1a=document['getElementById']('sheetDateSubtitle');if(!_0x5c6fa7){_0x1f7f1a[_0x2aa2ae(0x171)]='';return;}const [_0x4e66c8,_0x8425d1,_0x48e7a4]=_0x5c6fa7[_0x2aa2ae(0x1a9)]('-')[_0x2aa2ae(0xe3)](Number),_0x55adbb=new Date(_0x4e66c8,_0x8425d1-0x1,_0x48e7a4),_0x2f9814={'weekday':'long','day':'numeric','month':_0x2aa2ae(0x1ca),'year':_0x2aa2ae(0x20c)};let _0x3d0c6f=_0x55adbb[_0x2aa2ae(0xc7)](_0x2aa2ae(0x1f8),_0x2f9814);_0x3d0c6f=_0x3d0c6f['charAt'](0x0)[_0x2aa2ae(0x1f2)]()+_0x3d0c6f[_0x2aa2ae(0x209)](0x1),_0x1f7f1a[_0x2aa2ae(0x171)]=_0x3d0c6f;}function autoSetEndTime(){const _0x271c18=a2_0x3c1f71,_0x1e334a=document['getElementById'](_0x271c18(0xef))['value'];if(!_0x1e334a)return;const [_0x36575a,_0x3a480c]=_0x1e334a[_0x271c18(0x1a9)](':')[_0x271c18(0xe3)](Number);let _0x51f161=_0x36575a+0x1;if(_0x51f161>0x17)_0x51f161=0x0;const _0x2848f8=String(_0x51f161)[_0x271c18(0x107)](0x2,'0')+':'+String(_0x3a480c)[_0x271c18(0x107)](0x2,'0');document[_0x271c18(0xf7)](_0x271c18(0x1dd))[_0x271c18(0x139)]=_0x2848f8;}function populateClientSelect(){const _0xc5e2e9=a2_0x3c1f71,_0x3e3216=document['getElementById'](_0xc5e2e9(0x16f));_0x3e3216[_0xc5e2e9(0x23f)]='';if(clients[_0xc5e2e9(0x1d2)]===0x0){const _0x3cc01c=document['createElement'](_0xc5e2e9(0xf6));_0x3cc01c['text']=_0xc5e2e9(0x242),_0x3e3216[_0xc5e2e9(0x109)](_0x3cc01c);return;}clients[_0xc5e2e9(0xd1)](_0x882e43=>{const _0x1fff40=_0xc5e2e9,_0x83dd0d=document['createElement'](_0x1fff40(0xf6));_0x83dd0d[_0x1fff40(0x139)]=_0x882e43[_0x1fff40(0x188)],_0x83dd0d['textContent']=_0x882e43[_0x1fff40(0x188)],_0x3e3216[_0x1fff40(0x109)](_0x83dd0d);});}function openActionSheet(_0x232401){const _0x27fcc7=a2_0x3c1f71,_0x3d7a9e=document[_0x27fcc7(0xf7)](_0x27fcc7(0x17e)),_0x48082f=document['getElementById']('actionSheetOverlay'),_0x492916=document[_0x27fcc7(0xf7)](_0x27fcc7(0xe4)),_0x3999ad=document[_0x27fcc7(0xf7)](_0x27fcc7(0x12b)),_0x34dcf7=document[_0x27fcc7(0xf7)](_0x27fcc7(0x18b));_0x48082f['classList'][_0x27fcc7(0x1a5)](_0x27fcc7(0x1b0)),_0x3d7a9e[_0x27fcc7(0x18e)][_0x27fcc7(0x1a5)](_0x27fcc7(0x10c));if(_0x232401===_0x27fcc7(0x226))_0x492916[_0x27fcc7(0x171)]=_0x27fcc7(0x1ef),_0x3999ad[_0x27fcc7(0x171)]=_0x27fcc7(0x199),_0x3999ad[_0x27fcc7(0x225)]=()=>{const _0x31a3b3=_0x27fcc7;closeActionSheet(),updateSeriesBatch(_0x31a3b3(0x1ab),tempSessionData);},_0x34dcf7[_0x27fcc7(0x171)]='–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ',_0x34dcf7[_0x27fcc7(0x225)]=()=>{const _0x22cfb2=_0x27fcc7;closeActionSheet(),updateSeriesBatch(_0x22cfb2(0x162),tempSessionData);};else _0x232401===_0x27fcc7(0xd8)&&(_0x492916['textContent']=_0x27fcc7(0x111),_0x3999ad[_0x27fcc7(0x171)]=_0x27fcc7(0x199),_0x3999ad['className']=_0x27fcc7(0x157),_0x3999ad[_0x27fcc7(0x225)]=()=>{const _0x1e9847=_0x27fcc7;closeActionSheet(),commitDelete('single',sessions[_0x1e9847(0x14f)](_0x2c5066=>_0x2c5066['id']===editingId));},_0x34dcf7[_0x27fcc7(0x171)]=_0x27fcc7(0x20a),_0x34dcf7[_0x27fcc7(0x1e2)]=_0x27fcc7(0x164),_0x34dcf7[_0x27fcc7(0x225)]=()=>{const _0x78b843=_0x27fcc7;closeActionSheet(),commitDelete('series',sessions[_0x78b843(0x14f)](_0x4ec109=>_0x4ec109['id']===editingId));});}function closeActionSheet(){const _0x2ce13a=a2_0x3c1f71;document[_0x2ce13a(0xf7)]('actionSheet')[_0x2ce13a(0x18e)][_0x2ce13a(0x20f)](_0x2ce13a(0x10c)),document[_0x2ce13a(0xf7)]('actionSheetOverlay')[_0x2ce13a(0x18e)][_0x2ce13a(0x20f)](_0x2ce13a(0x1b0));}function openSettings(){const _0x401840=a2_0x3c1f71;openSheet(_0x401840(0x197));}function saveCoachSettings(){const _0x50e85c=a2_0x3c1f71,_0x3db4bd=document[_0x50e85c(0xf7)]('settingCancelWindow')['value'];localStorage[_0x50e85c(0x1e0)](_0x50e85c(0x1df),_0x3db4bd),console[_0x50e85c(0x224)]('[Settings]\x20Cancel\x20window\x20set\x20to:',_0x3db4bd),DataManager[_0x50e85c(0xeb)]('save_settings',{'settings':{'cancel_window':_0x3db4bd}})[_0x50e85c(0x194)](_0x4b8e4e=>{const _0x56d9b7=_0x50e85c;console[_0x56d9b7(0x239)]('Save\x20settings\x20error:',_0x4b8e4e),showToast(_0x56d9b7(0x217),![]);});}function loadCoachSettings(){const _0x54f01f=a2_0x3c1f71,_0x49e124=localStorage['getItem'](_0x54f01f(0x1df));_0x49e124&&(document[_0x54f01f(0xf7)](_0x54f01f(0x143))[_0x54f01f(0x139)]=_0x49e124);}function openRangesSheet(){closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet('rangesSheet');}function addRange(){const _0x4a125a=a2_0x3c1f71,_0x5d4301=document[_0x4a125a(0xf7)]('rangeStartDate')[_0x4a125a(0x139)],_0x542605=document[_0x4a125a(0xf7)](_0x4a125a(0xd5))[_0x4a125a(0x139)],_0x51e9fc=document['getElementById']('rangeEndDate')[_0x4a125a(0x139)],_0x32b1cd=document[_0x4a125a(0xf7)](_0x4a125a(0xdd))[_0x4a125a(0x139)];if(!_0x5d4301||!_0x542605||!_0x51e9fc||!_0x32b1cd)return alert(_0x4a125a(0x174));const _0x536753=_0x5d4301+'T'+_0x542605,_0x488b69=_0x51e9fc+'T'+_0x32b1cd;if(_0x536753>=_0x488b69)return alert(_0x4a125a(0x229));specialRanges[_0x4a125a(0x1ce)]({'start':_0x536753,'end':_0x488b69}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x4a125a(0x1d4)](),DataManager[_0x4a125a(0xeb)]('save_settings',{'settings':{'ranges':specialRanges}});}function deleteRange(_0x12fac1){const _0x31c248=a2_0x3c1f71;specialRanges['splice'](_0x12fac1,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x31c248(0x1d4)](),DataManager[_0x31c248(0xeb)](_0x31c248(0xd7),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x2d6d18=a2_0x3c1f71;document[_0x2d6d18(0xf7)](_0x2d6d18(0xde))[_0x2d6d18(0x139)]='',document[_0x2d6d18(0xf7)](_0x2d6d18(0xd5))[_0x2d6d18(0x139)]=_0x2d6d18(0x1e1),document[_0x2d6d18(0xf7)](_0x2d6d18(0x103))['value']='',document['getElementById']('rangeEndTime')[_0x2d6d18(0x139)]=_0x2d6d18(0x134);}function renderRangesList(){const _0x502c49=a2_0x3c1f71,_0x1a8be6=document[_0x502c49(0xf7)](_0x502c49(0xe6));_0x1a8be6[_0x502c49(0x23f)]='';if(!specialRanges[_0x502c49(0x1d2)]){_0x1a8be6['innerHTML']=_0x502c49(0xfa);return;}specialRanges[_0x502c49(0xd1)]((_0x5b3f51,_0xac02be)=>{const _0x4cd5a9=_0x502c49,_0x598d82=document['createElement'](_0x4cd5a9(0xd0));_0x598d82[_0x4cd5a9(0x1e2)]=_0x4cd5a9(0x142);const _0xc4a06c=_0x37c522=>{const _0x459ca5=_0x4cd5a9,_0x21a438=new Date(_0x37c522);return _0x21a438[_0x459ca5(0x238)]()+'.'+String(_0x21a438[_0x459ca5(0x108)]()+0x1)[_0x459ca5(0x107)](0x2,'0')+'\x20'+String(_0x21a438[_0x459ca5(0x23e)]())[_0x459ca5(0x107)](0x2,'0')+':'+String(_0x21a438[_0x459ca5(0x1e4)]())[_0x459ca5(0x107)](0x2,'0');};_0x598d82[_0x4cd5a9(0x23f)]=_0x4cd5a9(0x216)+_0xc4a06c(_0x5b3f51['start'])+_0x4cd5a9(0x201)+_0xc4a06c(_0x5b3f51[_0x4cd5a9(0x159)])+_0x4cd5a9(0x161)+_0xac02be+_0x4cd5a9(0xc9),_0x1a8be6[_0x4cd5a9(0x109)](_0x598d82);});}function scrollToToday(){const _0x9cdae3=a2_0x3c1f71,_0x35073f=getLocalDateStr(new Date()),_0x3b2aa5=document[_0x9cdae3(0xf7)](_0x9cdae3(0x117)+_0x35073f),_0x4d1af6=document['getElementById'](_0x9cdae3(0x1b9));if(_0x3b2aa5&&_0x4d1af6){const _0x11bccd=_0x4d1af6[_0x9cdae3(0x112)],_0x1cd166=_0x3b2aa5[_0x9cdae3(0x184)],_0x4090de=_0x3b2aa5[_0x9cdae3(0x169)];_0x4d1af6['scrollLeft']=_0x1cd166-_0x11bccd/0x2+_0x4090de/0x2,_0x4d1af6[_0x9cdae3(0x1fa)]=0x9*GRID_H;}}function onScroll(){const _0x3163ab=a2_0x3c1f71,_0x406b93=document[_0x3163ab(0xf7)](_0x3163ab(0x1b9)),_0x363f4e=document[_0x3163ab(0x215)](_0x3163ab(0x16b));for(let _0x24ca69 of _0x363f4e)if(_0x24ca69['offsetLeft']>=_0x406b93[_0x3163ab(0x19b)]){const _0xa49275=new Date(_0x24ca69[_0x3163ab(0x13a)](_0x3163ab(0x11a)));document[_0x3163ab(0xf7)]('headerMonth')['textContent']=_0xa49275[_0x3163ab(0x235)]('ru',{'month':'long'})[_0x3163ab(0x1f2)]()+'\x20'+_0xa49275[_0x3163ab(0xcb)]();break;}}function showToast(_0x2c5534,_0x1940da=![]){const _0xa2695d=a2_0x3c1f71,_0x337715=document[_0xa2695d(0xf7)](_0xa2695d(0x1da));_0x337715['className']=_0xa2695d(0x154)+(_0x1940da?_0xa2695d(0x22b):''),document['getElementById'](_0xa2695d(0x17d))[_0xa2695d(0x171)]=_0x1940da?'–£—Å–ø–µ—à–Ω–æ':'–ò–Ω—Ñ–æ',document[_0xa2695d(0xf7)](_0xa2695d(0x15c))[_0xa2695d(0x171)]=_0x2c5534,_0x337715[_0xa2695d(0x18e)][_0xa2695d(0x1a5)](_0xa2695d(0xcf)),setTimeout(()=>{const _0x4e8170=_0xa2695d;_0x337715[_0x4e8170(0x18e)]['remove']('show');},0xbb8);}function openDayOptions(_0x34ed77,_0x58ce7c){const _0x4304e1=a2_0x3c1f71;selectedDayForOptions=_0x34ed77,document['getElementById'](_0x4304e1(0x177))[_0x4304e1(0x171)]=_0x58ce7c,openSheet(_0x4304e1(0x237));}function toggleDayOff(){const _0x32ba2d=a2_0x3c1f71;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]='off',reRenderBlocks(),closeAllSheets(),DataManager[_0x32ba2d(0x1d4)](),DataManager['fetchFromServer']('save_settings',{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x2f340d=a2_0x3c1f71;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x2f340d(0x1d4)](),DataManager[_0x2f340d(0xeb)](_0x2f340d(0xd7),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x402396){const _0x38fdba=a2_0x3c1f71;document['getElementById'](_0x38fdba(0xfe))[_0x38fdba(0x18e)][_0x38fdba(0x1a5)]('active'),document[_0x38fdba(0xf7)](_0x402396)['classList'][_0x38fdba(0x1a5)](_0x38fdba(0x10c));}function closeAllSheets(){const _0xaeb4ac=a2_0x3c1f71;document[_0xaeb4ac(0xf7)](_0xaeb4ac(0xfe))['classList']['remove'](_0xaeb4ac(0x1b0)),document['querySelectorAll'](_0xaeb4ac(0xe9))['forEach'](_0x49fd5d=>_0x49fd5d['classList']['remove']('open'));}function openPatternEditor(){const _0x5b1e9a=a2_0x3c1f71;closeAllSheets(),document['getElementById'](_0x5b1e9a(0x1f0))[_0x5b1e9a(0x18e)]['add']('open'),renderPatternEditor();}function closePatternEditor(){const _0x2e81ed=a2_0x3c1f71;document['getElementById'](_0x2e81ed(0x1f0))['classList']['remove'](_0x2e81ed(0x10c));}function savePattern(){const _0x1bde5a=a2_0x3c1f71;document['getElementById'](_0x1bde5a(0x1f0))[_0x1bde5a(0x18e)]['remove'](_0x1bde5a(0x10c)),reRenderBlocks(),DataManager[_0x1bde5a(0x1d4)](),DataManager[_0x1bde5a(0xeb)]('save_settings',{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x1885df=a2_0x3c1f71,_0x5625c=document[_0x1885df(0xf7)](_0x1885df(0x105));_0x5625c['innerHTML']='';const _0x8029a3=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x521006=document[_0x1885df(0x213)](_0x1885df(0xd0));_0x521006[_0x1885df(0x1e2)]=_0x1885df(0x240),_0x5625c[_0x1885df(0x109)](_0x521006),_0x8029a3[_0x1885df(0xd1)]((_0x40c240,_0x257276)=>{const _0x3e5976=_0x1885df,_0x4f7ca9=document[_0x3e5976(0x213)](_0x3e5976(0xd0));_0x4f7ca9[_0x3e5976(0x1e2)]=_0x3e5976(0x246),_0x4f7ca9[_0x3e5976(0x23f)]=_0x40c240+_0x3e5976(0xfb),_0x4f7ca9[_0x3e5976(0x225)]=()=>toggleColPattern(_0x257276),_0x5625c['appendChild'](_0x4f7ca9);});for(let _0x458786=0x0;_0x458786<0x18;_0x458786++){const _0x2bd641=document['createElement'](_0x1885df(0xd0));_0x2bd641[_0x1885df(0x1e2)]=_0x1885df(0xe2),_0x2bd641['innerHTML']=_0x1885df(0xd2)+String(_0x458786)[_0x1885df(0x107)](0x2,'0')+':00',_0x2bd641[_0x1885df(0x225)]=()=>toggleRowPattern(_0x458786),_0x5625c[_0x1885df(0x109)](_0x2bd641);for(let _0x251e6e=0x0;_0x251e6e<0x7;_0x251e6e++){const _0x21bac1=document['createElement'](_0x1885df(0xd0)),_0x15e971=(availabilityPattern[_0x251e6e]||[])['includes'](_0x458786),_0x3c5cd7=!_0x15e971;_0x21bac1['className']=_0x1885df(0x176)+(_0x3c5cd7?_0x1885df(0x1b0):''),_0x21bac1[_0x1885df(0x225)]=()=>toggleSinglePattern(_0x251e6e,_0x458786),_0x5625c[_0x1885df(0x109)](_0x21bac1);}}}function toggleSinglePattern(_0x208e06,_0x4bb000){const _0x39c1d3=a2_0x3c1f71;if(!availabilityPattern[_0x208e06])availabilityPattern[_0x208e06]=[];const _0x5526d8=availabilityPattern[_0x208e06],_0x26b468=_0x5526d8[_0x39c1d3(0x12a)](_0x4bb000);_0x26b468===-0x1?_0x5526d8[_0x39c1d3(0x1ce)](_0x4bb000):_0x5526d8[_0x39c1d3(0x158)](_0x26b468,0x1),renderPatternEditor();}function toggleColPattern(_0x1de07c){const _0x32fd6a=a2_0x3c1f71;if(!availabilityPattern[_0x1de07c])availabilityPattern[_0x1de07c]=[];const _0x3ab291=availabilityPattern[_0x1de07c];_0x3ab291[_0x32fd6a(0x1d2)]===0x0?availabilityPattern[_0x1de07c]=Array[_0x32fd6a(0x152)]({'length':0x18},(_0x38ffee,_0x11c5b1)=>_0x11c5b1):availabilityPattern[_0x1de07c]=[],renderPatternEditor();}function toggleRowPattern(_0x4d463c){const _0x48bbb4=a2_0x3c1f71;let _0x4d79dc=!![];for(let _0x454d96=0x0;_0x454d96<0x7;_0x454d96++){if((availabilityPattern[_0x454d96]||[])['includes'](_0x4d463c)){_0x4d79dc=![];break;}}for(let _0x756af7=0x0;_0x756af7<0x7;_0x756af7++){if(!availabilityPattern[_0x756af7])availabilityPattern[_0x756af7]=[];const _0xe71042=availabilityPattern[_0x756af7][_0x48bbb4(0x12a)](_0x4d463c);if(_0x4d79dc){if(_0xe71042===-0x1)availabilityPattern[_0x756af7]['push'](_0x4d463c);}else{if(_0xe71042!==-0x1)availabilityPattern[_0x756af7][_0x48bbb4(0x158)](_0xe71042,0x1);}}renderPatternEditor();}function renderPCol(_0x10b9b3,_0x9e80f8){const _0x34039f=a2_0x3c1f71;_0x10b9b3['innerHTML']='';const _0x128563=Math['round'](_0x10b9b3[_0x34039f(0x184)]);(availabilityPattern[_0x9e80f8]||[])[_0x34039f(0xd1)](_0x47e617=>{const _0x56c5da=_0x34039f,_0x1e4644=document[_0x56c5da(0x213)]('div');_0x1e4644['className']='blocked-slot\x20stripe-bg';const _0x2c80ac=_0x47e617*GRID_H;_0x1e4644[_0x56c5da(0x1f5)][_0x56c5da(0x150)]=_0x2c80ac+'px',_0x1e4644[_0x56c5da(0x1f5)][_0x56c5da(0x119)]='-'+_0x128563+'px\x20-'+_0x2c80ac+'px',_0x1e4644[_0x56c5da(0x225)]=_0x5c67fd=>{const _0x391101=_0x56c5da;_0x5c67fd[_0x391101(0x14b)](),toggleSinglePattern(_0x9e80f8,_0x47e617);},_0x10b9b3[_0x56c5da(0x109)](_0x1e4644);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x2a25ff=a2_0x3c1f71,_0x4cba62=new Date(),_0x55c740=document[_0x2a25ff(0xf7)]('globalTimeLine'),_0x44fbc6=document[_0x2a25ff(0xf7)]('timeLineBadge'),_0x5ebfc1=(_0x4cba62['getHours']()*0x3c+_0x4cba62[_0x2a25ff(0x1e4)]())/0x3c*GRID_H;_0x55c740[_0x2a25ff(0x1f5)][_0x2a25ff(0x150)]=_0x5ebfc1+'px',_0x55c740[_0x2a25ff(0x1f5)][_0x2a25ff(0x247)]='block',_0x44fbc6[_0x2a25ff(0x171)]=String(_0x4cba62[_0x2a25ff(0x23e)]())[_0x2a25ff(0x107)](0x2,'0')+':'+String(_0x4cba62[_0x2a25ff(0x1e4)]())['padStart'](0x2,'0'),_0x44fbc6[_0x2a25ff(0x1f5)][_0x2a25ff(0x247)]=_0x2a25ff(0x22a),_0x44fbc6[_0x2a25ff(0x1f5)][_0x2a25ff(0x150)]=_0x5ebfc1+'px';}document[a2_0x3c1f71(0x125)](a2_0x3c1f71(0x140),init);function openDayOptions(_0x1ac3e1){const _0x102abc=a2_0x3c1f71;selectedDayForOptions=_0x1ac3e1;const _0x1bdf0a=new Date(_0x1ac3e1),_0x4eb998={'weekday':_0x102abc(0x1ca),'day':'numeric','month':_0x102abc(0x1ca),'year':_0x102abc(0x20c)},_0x58908a=_0x1bdf0a['toLocaleDateString'](_0x102abc(0x1f8),_0x4eb998);document[_0x102abc(0xf7)](_0x102abc(0xd9))[_0x102abc(0x171)]=_0x58908a[_0x102abc(0x1a6)](0x0)[_0x102abc(0x1f2)]()+_0x58908a['slice'](0x1);let _0x549e16=_0x1bdf0a['getDay']()-0x1;if(_0x549e16===-0x1)_0x549e16=0x6;const _0x4dcd97=availabilityPattern[_0x549e16]||[],_0x34c331=0x18-_0x4dcd97[_0x102abc(0x1d2)],_0x23db6d=_0x34c331*0x3c,_0x506418=sessions[_0x102abc(0x13f)](_0x4a23ed=>_0x4a23ed[_0x102abc(0x1dc)]===_0x1ac3e1&&_0x4a23ed[_0x102abc(0x23a)]!==_0x102abc(0x202));let _0x15607b=_0x506418[_0x102abc(0xe3)](_0x143bf5=>{const _0xf6e5ae=_0x102abc,[_0x1f1e0d,_0x2e92ba]=_0x143bf5[_0xf6e5ae(0x104)]['split'](':')['map'](Number),[_0xf9113,_0x2c2074]=_0x143bf5[_0xf6e5ae(0x159)]['split'](':')['map'](Number);return[_0x1f1e0d*0x3c+_0x2e92ba,_0xf9113*0x3c+_0x2c2074];});_0x15607b[_0x102abc(0x115)]((_0x523cd5,_0x24e152)=>_0x523cd5[0x0]-_0x24e152[0x0]);let _0x4e15e2=[];if(_0x15607b[_0x102abc(0x1d2)]>0x0){let _0xb91d0c=_0x15607b[0x0];for(let _0x6f06b6=0x1;_0x6f06b6<_0x15607b[_0x102abc(0x1d2)];_0x6f06b6++){_0x15607b[_0x6f06b6][0x0]<_0xb91d0c[0x1]?_0xb91d0c[0x1]=Math['max'](_0xb91d0c[0x1],_0x15607b[_0x6f06b6][0x1]):(_0x4e15e2[_0x102abc(0x1ce)](_0xb91d0c),_0xb91d0c=_0x15607b[_0x6f06b6]);}_0x4e15e2[_0x102abc(0x1ce)](_0xb91d0c);}let _0x36dd25=0x0;_0x4e15e2['forEach'](_0x1a1826=>_0x36dd25+=_0x1a1826[0x1]-_0x1a1826[0x0]),document['getElementById'](_0x102abc(0x102))[_0x102abc(0x171)]=formatMinsToHrs(_0x23db6d),document['getElementById'](_0x102abc(0x1ee))[_0x102abc(0x171)]=formatMinsToHrs(_0x36dd25);const _0xc7b88a=_0x23db6d>0x0?Math[_0x102abc(0x149)](_0x36dd25/_0x23db6d*0x64):0x0,_0x9f5c80=document[_0x102abc(0xf7)](_0x102abc(0x10a));_0x9f5c80['textContent']=_0xc7b88a+'%';const _0x3403b5=document[_0x102abc(0xf7)](_0x102abc(0x18c));if(_0xc7b88a>0x64)_0x9f5c80[_0x102abc(0x1f5)][_0x102abc(0x19e)]=_0x102abc(0x16e),_0x3403b5[_0x102abc(0x1f5)][_0x102abc(0x122)]=_0x102abc(0x21c);else _0xc7b88a>0x50?(_0x9f5c80[_0x102abc(0x1f5)]['color']=_0x102abc(0x17b),_0x3403b5['style'][_0x102abc(0x122)]='rgba(255,\x20159,\x2010,\x200.3)'):(_0x9f5c80[_0x102abc(0x1f5)][_0x102abc(0x19e)]='var(--acc-green)',_0x3403b5[_0x102abc(0x1f5)][_0x102abc(0x122)]=_0x102abc(0x1de));const _0x3191d3=document[_0x102abc(0xf7)]('doEventsList');_0x3191d3[_0x102abc(0x23f)]='';_0x506418['length']===0x0?_0x3191d3[_0x102abc(0x23f)]=_0x102abc(0x17c):(_0x506418['sort']((_0x59c577,_0x24a033)=>_0x59c577[_0x102abc(0x104)][_0x102abc(0x14a)](_0x24a033[_0x102abc(0x104)])),_0x506418['forEach'](_0x434070=>{const _0x3a8fb5=_0x102abc,_0x3807f3=clients[_0x3a8fb5(0x14f)](_0x1262f5=>_0x1262f5[_0x3a8fb5(0x188)]===_0x434070['client']),_0x383931=_0x3807f3?_0x3807f3[_0x3a8fb5(0x19e)]:_0x3a8fb5(0xd6),_0x621faa=_0x434070['status']===_0x3a8fb5(0x1a7),_0x5f6174=_0x621faa?'<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>':'',_0xb485bc=document['createElement'](_0x3a8fb5(0xd0));_0xb485bc[_0x3a8fb5(0x1e2)]=_0x3a8fb5(0x145),_0xb485bc[_0x3a8fb5(0x1f5)][_0x3a8fb5(0x1a1)]=_0x383931,_0xb485bc['innerHTML']=_0x3a8fb5(0xed)+_0x434070[_0x3a8fb5(0x104)]+_0x3a8fb5(0x1bf)+_0x434070['end']+_0x3a8fb5(0x1be)+_0x434070[_0x3a8fb5(0x1b2)]+_0x3a8fb5(0x16d)+_0x5f6174+_0x3a8fb5(0x1f4),_0x3191d3[_0x3a8fb5(0x109)](_0xb485bc);}));const _0x4876bc=document[_0x102abc(0xf7)](_0x102abc(0xf5)),_0x36f372=dateExceptions[_0x1ac3e1]===_0x102abc(0x15a);_0x36f372?(_0x4876bc[_0x102abc(0x171)]=_0x102abc(0x1c5),_0x4876bc[_0x102abc(0x1e2)]='btn-primary\x20btn-secondary',_0x4876bc['style']['color']=_0x102abc(0xdf),_0x4876bc[_0x102abc(0x1f5)][_0x102abc(0x221)]=_0x102abc(0x1fc)):(_0x4876bc[_0x102abc(0x171)]=_0x102abc(0x1af),_0x4876bc[_0x102abc(0x1e2)]='btn-primary\x20btn-danger',_0x4876bc['style'][_0x102abc(0x19e)]=_0x102abc(0x16e),_0x4876bc[_0x102abc(0x1f5)][_0x102abc(0x221)]=_0x102abc(0x189)),openSheet(_0x102abc(0x237));}let currentAnPeriod=a2_0x3c1f71(0x131);function openAnalytics(){const _0x5a5847=a2_0x3c1f71,_0x91fc7=document[_0x5a5847(0x1d3)](_0x5a5847(0x19a));setAnalyticsPeriod('week',_0x91fc7),closeAllSheets(),openSheet(_0x5a5847(0x1cf));}function setAnalyticsPeriod(_0x32dfc5,_0x47e51c){const _0x185a0b=a2_0x3c1f71;currentAnPeriod=_0x32dfc5,document['querySelectorAll'](_0x185a0b(0x19a))[_0x185a0b(0xd1)](_0x58f935=>_0x58f935['classList']['remove'](_0x185a0b(0x1b0)));if(_0x47e51c)_0x47e51c[_0x185a0b(0x18e)][_0x185a0b(0x1a5)](_0x185a0b(0x1b0));const _0x2f960f=document['getElementById'](_0x185a0b(0x1b5));_0x2f960f[_0x185a0b(0x1f5)][_0x185a0b(0x247)]=_0x32dfc5==='custom'?_0x185a0b(0x12f):_0x185a0b(0x1d9);const _0x323b04=new Date();let _0x509e8b=new Date(),_0xb72e9a=new Date();if(_0x32dfc5==='week')_0x509e8b=getStartOfWeek(_0x323b04),_0xb72e9a=new Date(_0x509e8b),_0xb72e9a[_0x185a0b(0x190)](_0xb72e9a['getDate']()+0x6);else{if(_0x32dfc5===_0x185a0b(0x207))_0x509e8b=new Date(_0x323b04['getFullYear'](),_0x323b04['getMonth'](),0x1),_0xb72e9a=new Date(_0x323b04['getFullYear'](),_0x323b04['getMonth']()+0x1,0x0);else{!document[_0x185a0b(0xf7)](_0x185a0b(0x12d))['value']&&(document[_0x185a0b(0xf7)](_0x185a0b(0x12d))[_0x185a0b(0x139)]=getLocalDateStr(_0x323b04),document[_0x185a0b(0xf7)](_0x185a0b(0x101))[_0x185a0b(0x139)]=getLocalDateStr(_0x323b04));refreshAnalytics();return;}}document['getElementById'](_0x185a0b(0x12d))[_0x185a0b(0x139)]=getLocalDateStr(_0x509e8b),document['getElementById'](_0x185a0b(0x101))[_0x185a0b(0x139)]=getLocalDateStr(_0xb72e9a),refreshAnalytics();}function refreshAnalytics(){const _0x18c3da=a2_0x3c1f71,_0x10e2c5=document[_0x18c3da(0xf7)](_0x18c3da(0x12d))[_0x18c3da(0x139)],_0x1b7b91=document['getElementById'](_0x18c3da(0x101))[_0x18c3da(0x139)];if(!_0x10e2c5||!_0x1b7b91)return;const _0x384fd0=sessions[_0x18c3da(0x13f)](_0x1799c2=>_0x1799c2['dateStr']>=_0x10e2c5&&_0x1799c2['dateStr']<=_0x1b7b91&&_0x1799c2[_0x18c3da(0x23a)]!==_0x18c3da(0x202)),_0x1f7c6c=_0x384fd0['length'],_0x155300=_0x384fd0[_0x18c3da(0x13f)](_0x2df13d=>_0x2df13d[_0x18c3da(0x23a)]===_0x18c3da(0x1a7))['length'],_0x55456d=_0x1f7c6c>0x0?Math[_0x18c3da(0x149)](_0x155300/_0x1f7c6c*0x64):0x0;document[_0x18c3da(0xf7)](_0x18c3da(0x136))['textContent']=_0x55456d+'%',document['getElementById'](_0x18c3da(0x1f6))[_0x18c3da(0x171)]=_0x155300+_0x18c3da(0x1cb)+_0x1f7c6c+_0x18c3da(0x20b);const _0x547d53=document[_0x18c3da(0xf7)](_0x18c3da(0x195)),_0x4d4ca5=0x2*Math['PI']*0x23,_0x2b9480=_0x4d4ca5-_0x55456d/0x64*_0x4d4ca5;_0x547d53[_0x18c3da(0x1f5)][_0x18c3da(0x13d)]=_0x2b9480;const _0x158862={};_0x384fd0[_0x18c3da(0xd1)](_0x464cf1=>{const _0x4758eb=_0x18c3da;if(!_0x158862[_0x464cf1[_0x4758eb(0x1b2)]]){const _0x24327e=clients[_0x4758eb(0x14f)](_0x3cf494=>_0x3cf494[_0x4758eb(0x188)]===_0x464cf1[_0x4758eb(0x1b2)]);_0x158862[_0x464cf1[_0x4758eb(0x1b2)]]={'total':0x0,'done':0x0,'color':_0x24327e?_0x24327e[_0x4758eb(0x19e)]:'#fff'};}_0x158862[_0x464cf1[_0x4758eb(0x1b2)]]['total']++;if(_0x464cf1['status']===_0x4758eb(0x1a7))_0x158862[_0x464cf1[_0x4758eb(0x1b2)]][_0x4758eb(0xf3)]++;});const _0x188a9a=document[_0x18c3da(0xf7)](_0x18c3da(0x1e8));_0x188a9a[_0x18c3da(0x23f)]='';const _0x2151ce=Object[_0x18c3da(0x192)](_0x158862)[_0x18c3da(0x115)]((_0x2a0879,_0x114498)=>_0x114498[0x1][_0x18c3da(0x1c1)]-_0x2a0879[0x1][_0x18c3da(0x1c1)]);if(_0x2151ce[_0x18c3da(0x1d2)]===0x0){_0x188a9a[_0x18c3da(0x23f)]=_0x18c3da(0x11c);return;}_0x2151ce[_0x18c3da(0xd1)](([_0x4e3701,_0x54ab6d])=>{const _0x1498ca=_0x18c3da,_0x4c75bd=Math['round'](_0x54ab6d['done']/_0x54ab6d[_0x1498ca(0x1c1)]*0x64),_0x2a99e8=document[_0x1498ca(0x213)](_0x1498ca(0xd0));_0x2a99e8[_0x1498ca(0x1e2)]=_0x1498ca(0x228),_0x2a99e8[_0x1498ca(0x1f5)][_0x1498ca(0x1a1)]=_0x54ab6d['color'],_0x2a99e8[_0x1498ca(0x23f)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>'+_0x4e3701+_0x1498ca(0x10f)+_0x54ab6d[_0x1498ca(0xf3)]+_0x1498ca(0xca)+_0x54ab6d['total']+_0x1498ca(0x12e)+_0x4c75bd+_0x1498ca(0x181),_0x188a9a['appendChild'](_0x2a99e8);});}function formatMinsToHrs(_0x3655bb){const _0x423ed9=a2_0x3c1f71;if(_0x3655bb===0x0)return'0';const _0x2ca5ae=Math[_0x423ed9(0x218)](_0x3655bb/0x3c),_0x4ad3cb=_0x3655bb%0x3c;if(_0x4ad3cb===0x0)return _0x2ca5ae+'—á';return _0x2ca5ae+'—á\x20'+_0x4ad3cb+'–º';}