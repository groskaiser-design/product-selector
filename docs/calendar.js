const a2_0x187a3a=a2_0x43c9;(function(_0x58a341,_0x31ec9e){const _0x366e0e=a2_0x43c9,_0x4891fe=_0x58a341();while(!![]){try{const _0x47ea2c=parseInt(_0x366e0e(0x303))/0x1+parseInt(_0x366e0e(0x351))/0x2+parseInt(_0x366e0e(0x266))/0x3*(-parseInt(_0x366e0e(0x307))/0x4)+parseInt(_0x366e0e(0x2e5))/0x5+-parseInt(_0x366e0e(0x212))/0x6+parseInt(_0x366e0e(0x1f7))/0x7+-parseInt(_0x366e0e(0x31f))/0x8;if(_0x47ea2c===_0x31ec9e)break;else _0x4891fe['push'](_0x4891fe['shift']());}catch(_0x346f59){_0x4891fe['push'](_0x4891fe['shift']());}}}(a2_0x43af,0xe024c),function initTMA(){const _0x47a149=a2_0x43c9;try{const _0x6992a3=window['Telegram']?.[_0x47a149(0x201)];if(!_0x6992a3)return;_0x6992a3['ready'](),_0x6992a3[_0x47a149(0x237)]();try{_0x6992a3[_0x47a149(0x1e5)](_0x47a149(0x285)),_0x6992a3[_0x47a149(0x347)]&&_0x6992a3[_0x47a149(0x347)]('#050505');}catch(_0x1c345b){console[_0x47a149(0x1ed)](_0x47a149(0x297),_0x1c345b);}try{_0x6992a3[_0x47a149(0x329)]&&(_0x6992a3[_0x47a149(0x329)][_0x47a149(0x291)](),_0x6992a3[_0x47a149(0x329)]['offClick'](),_0x6992a3[_0x47a149(0x329)][_0x47a149(0x32b)](function(){const _0xba6663=_0x47a149;window[_0xba6663(0x20b)][_0xba6663(0x318)]=_0xba6663(0x2c6);}));}catch(_0x538134){console[_0x47a149(0x1ed)]('Error\x20setting\x20back\x20button:',_0x538134);}try{if(_0x6992a3[_0x47a149(0x231)])_0x6992a3[_0x47a149(0x231)]();}catch(_0xdf86d3){}}catch(_0x790aad){console[_0x47a149(0x2d6)](_0x47a149(0x296),_0x790aad);}}());function isAdmin(){const _0x2d5fd2=a2_0x43c9;try{const _0x5ee391=Number(window['Telegram']?.[_0x2d5fd2(0x201)]?.['initDataUnsafe']?.[_0x2d5fd2(0x2bb)]?.['id']);return _0x5ee391===0xbaf7174;}catch(_0x5bfa95){return![];}}const APP_VERSION=a2_0x187a3a(0x1dd),API_URL=a2_0x187a3a(0x344),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x187a3a(0x2d8),KEY_SESSIONS='uc_sessions_v9',KEY_SETTINGS='uc_settings_v9';let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x35a3ca=a2_0x187a3a;return window[_0x35a3ca(0x2d7)]?.[_0x35a3ca(0x201)]?.[_0x35a3ca(0x289)]?.['user']?.['id']||_0x35a3ca(0x262);},'saveLocally'(){const _0x620ad8=a2_0x187a3a;try{localStorage[_0x620ad8(0x25d)](KEY_CLIENTS,JSON[_0x620ad8(0x1ea)](clients)),localStorage['setItem'](KEY_SESSIONS,JSON[_0x620ad8(0x1ea)](sessions)),localStorage[_0x620ad8(0x25d)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x1d3afd){console[_0x620ad8(0x2d6)](_0x620ad8(0x302),_0x1d3afd);}},'loadLocal'(){const _0x484e5b=a2_0x187a3a;try{const _0x3b7523=localStorage[_0x484e5b(0x2c3)](KEY_CLIENTS);if(_0x3b7523)clients=JSON['parse'](_0x3b7523);const _0x5146b0=localStorage['getItem'](KEY_SESSIONS);if(_0x5146b0)sessions=JSON[_0x484e5b(0x250)](_0x5146b0);const _0x310278=localStorage[_0x484e5b(0x2c3)](KEY_SETTINGS);if(_0x310278){const _0x5c0e27=JSON['parse'](_0x310278);if(_0x5c0e27['pattern'])availabilityPattern=_0x5c0e27[_0x484e5b(0x214)];if(_0x5c0e27[_0x484e5b(0x2b6)])dateExceptions=_0x5c0e27['exceptions'];if(_0x5c0e27['ranges'])specialRanges=_0x5c0e27['ranges'];}else{for(let _0x24300e=0x0;_0x24300e<0x7;_0x24300e++)availabilityPattern[_0x24300e]=Array[_0x484e5b(0x2e7)]({'length':0xc},(_0xda2cda,_0x4c3c8c)=>_0x4c3c8c+0x9);}}catch(_0x4702ce){console['error'](_0x484e5b(0x32e),_0x4702ce);}},async 'fetchFromServer'(_0x2f9ff5,_0x1760c2={}){const _0x520a10=a2_0x187a3a,_0x157d1b=window[_0x520a10(0x2d7)]?.[_0x520a10(0x201)],_0x23d051={'action':_0x2f9ff5,'init_data':_0x157d1b?.[_0x520a10(0x21d)]||'',..._0x1760c2};try{const _0x377b1e=await fetch(API_URL,{'method':_0x520a10(0x1ff),'headers':{'Content-Type':_0x520a10(0x22d)},'body':JSON[_0x520a10(0x1ea)](_0x23d051)}),_0x3dfb14=await _0x377b1e['json']();if(!_0x3dfb14['ok'])throw new Error(_0x3dfb14[_0x520a10(0x2d6)]||_0x520a10(0x222));return _0x3dfb14[_0x520a10(0x1df)];}catch(_0xdbcfbb){console[_0x520a10(0x2d6)](_0x520a10(0x230)+_0x2f9ff5+_0x520a10(0x1f4),_0xdbcfbb);throw _0xdbcfbb;}},async 'syncLoad'(){const _0x16f7b9=a2_0x187a3a,_0x5ce94f=new Date(),_0x3e0d50=_0x5ce94f[_0x16f7b9(0x31c)]()+'-'+String(_0x5ce94f[_0x16f7b9(0x2a7)]()+0x1)['padStart'](0x2,'0'),_0x31b2c2=new Date(_0x5ce94f);_0x31b2c2[_0x16f7b9(0x2c7)](_0x5ce94f['getMonth']()+0x1);const _0x23981b=_0x31b2c2[_0x16f7b9(0x31c)]()+'-'+String(_0x31b2c2[_0x16f7b9(0x2a7)]()+0x1)[_0x16f7b9(0x216)](0x2,'0'),_0x28f607=Date[_0x16f7b9(0x2ae)]();console[_0x16f7b9(0x1ed)](_0x16f7b9(0x233)+_0x3e0d50+',\x20'+_0x23981b+_0x16f7b9(0x21f));try{const [_0x3e0197,_0x120fd5]=await Promise['all']([this['fetchFromServer'](_0x16f7b9(0x208),{'month_str':_0x3e0d50}),this[_0x16f7b9(0x2d0)](_0x16f7b9(0x208),{'month_str':_0x23981b})]);if(lastUserActionTime>_0x28f607)return console[_0x16f7b9(0x359)](_0x16f7b9(0x298)),![];return this['mergeServerData'](_0x3e0197,_0x3e0d50),this['mergeServerData'](_0x120fd5,_0x23981b),this[_0x16f7b9(0x1e1)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x1ef01c){console['error'](_0x1ef01c);throw _0x1ef01c;}},'mergeServerData'(_0x335840,_0x5e59a){const _0x45a1c6=a2_0x187a3a;if(!_0x335840)return;_0x335840[_0x45a1c6(0x20a)]&&Array[_0x45a1c6(0x1fb)](_0x335840[_0x45a1c6(0x20a)])&&(clients=_0x335840[_0x45a1c6(0x20a)]);if(_0x335840[_0x45a1c6(0x2d2)]){if(_0x335840['settings'][_0x45a1c6(0x214)])availabilityPattern=_0x335840[_0x45a1c6(0x2d2)][_0x45a1c6(0x214)];if(_0x335840[_0x45a1c6(0x2d2)][_0x45a1c6(0x2b6)])dateExceptions=_0x335840[_0x45a1c6(0x2d2)][_0x45a1c6(0x2b6)];if(_0x335840[_0x45a1c6(0x2d2)][_0x45a1c6(0x29d)])specialRanges=_0x335840[_0x45a1c6(0x2d2)][_0x45a1c6(0x29d)];if(_0x335840[_0x45a1c6(0x2d2)][_0x45a1c6(0x1de)]){localStorage['setItem']('uc_settings_cancel_window',_0x335840['settings'][_0x45a1c6(0x1de)]);const _0x41e588=document[_0x45a1c6(0x30a)](_0x45a1c6(0x27e));if(_0x41e588)_0x41e588[_0x45a1c6(0x337)]=_0x335840[_0x45a1c6(0x2d2)][_0x45a1c6(0x1de)];}}_0x335840[_0x45a1c6(0x313)]&&(sessions=sessions['filter'](_0x4d7dca=>!_0x4d7dca[_0x45a1c6(0x2fd)][_0x45a1c6(0x28c)](_0x5e59a)),Object['keys'](_0x335840['calendar'])[_0x45a1c6(0x315)](_0x34e616=>{const _0x30ba13=_0x45a1c6,_0x4931a3=_0x335840[_0x30ba13(0x313)][_0x34e616];_0x4931a3[_0x30ba13(0x315)](_0x4f8f97=>{const _0x3ad086=_0x30ba13,_0x26f942=clients['find'](_0x506329=>String(_0x506329['id'])===String(_0x4f8f97['c']));sessions[_0x3ad086(0x2f1)]({'id':_0x4f8f97['i'],'clientId':_0x4f8f97['c'],'client':_0x26f942?_0x26f942['name']:'Unknown','dateStr':_0x5e59a+'-'+_0x34e616[_0x3ad086(0x216)](0x2,'0'),'start':_0x4f8f97['s'],'end':_0x4f8f97['e'],'status':_0x4f8f97['st']||'planned','note':_0x4f8f97['n']||'','seriesId':_0x4f8f97[_0x3ad086(0x1ef)]||null});});}));},async 'syncBatch'(_0x5ed89d){const _0x451105=a2_0x187a3a,_0x1a0a80=[...new Set(_0x5ed89d)],_0x53ec8a=_0x1a0a80[_0x451105(0x32d)](_0x2a28d1=>{const _0x276b1b=_0x451105,_0xeefaba=sessions['filter'](_0x272ca9=>_0x272ca9[_0x276b1b(0x2fd)]===_0x2a28d1&&_0x272ca9[_0x276b1b(0x35e)]!==_0x276b1b(0x264)),_0x541b8a=_0xeefaba[_0x276b1b(0x32d)](_0x467d03=>({'i':_0x467d03['id'],'c':_0x467d03['clientId'],'s':_0x467d03['start'],'e':_0x467d03['end'],'st':_0x467d03[_0x276b1b(0x35e)],'n':_0x467d03[_0x276b1b(0x355)],'sid':_0x467d03[_0x276b1b(0x35b)]}));return{'date':_0x2a28d1,'day_data':_0x541b8a};});if(_0x53ec8a[_0x451105(0x357)]===0x0)return;console[_0x451105(0x1ed)](_0x451105(0x30b)+_0x53ec8a['length']+_0x451105(0x200)),await this[_0x451105(0x2d0)](_0x451105(0x31d),{'changes':_0x53ec8a});}};async function init(){const _0xa572aa=a2_0x187a3a;DataManager[_0xa572aa(0x238)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0xa572aa(0x30a)]('matrixViewport')['addEventListener'](_0xa572aa(0x325),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0xa572aa(0x20f)]()[_0xa572aa(0x215)](()=>{const _0xe6868a=_0xa572aa;showToast(_0xe6868a(0x33f),!![]);})[_0xa572aa(0x249)](_0x241760=>{const _0x49a274=_0xa572aa;showToast(_0x49a274(0x1e2),![]);});}function generateId(){const _0x305e12=a2_0x187a3a;return Date['now']()[_0x305e12(0x2af)](0x24)+Math[_0x305e12(0x2f6)]()['toString'](0x24)[_0x305e12(0x33d)](0x2,0x5);}function toggleSeriesInput(){const _0x21a28c=a2_0x187a3a,_0x11b3f8=document[_0x21a28c(0x30a)](_0x21a28c(0x1f0))[_0x21a28c(0x29e)],_0x4c6461=document[_0x21a28c(0x30a)](_0x21a28c(0x323));_0x4c6461[_0x21a28c(0x244)][_0x21a28c(0x2c1)]=_0x11b3f8?_0x21a28c(0x280):_0x21a28c(0x260);const _0x17be46=document[_0x21a28c(0x30a)]('recurringOptionContainer');_0x17be46[_0x21a28c(0x244)][_0x21a28c(0x35f)]=_0x11b3f8?_0x21a28c(0x227):'10px';}function openAddSession(_0x2f029d){const _0x267203=a2_0x187a3a;editingId=null,populateClientSelect(),document[_0x267203(0x30a)](_0x267203(0x272))['textContent']=_0x267203(0x223),document[_0x267203(0x30a)](_0x267203(0x284))[_0x267203(0x244)][_0x267203(0x2c1)]=_0x267203(0x260),document['getElementById']('btnStatusToggle')[_0x267203(0x244)][_0x267203(0x2c1)]='none';const _0x34a9cb=document[_0x267203(0x30a)](_0x267203(0x2b9)),_0x1e4095=document[_0x267203(0x30a)](_0x267203(0x323));_0x34a9cb[_0x267203(0x244)][_0x267203(0x2c1)]=_0x267203(0x2f5),_0x34a9cb[_0x267203(0x244)][_0x267203(0x35f)]=_0x267203(0x270),document[_0x267203(0x30a)](_0x267203(0x1f0))[_0x267203(0x29e)]=![],document[_0x267203(0x30a)]('inpSeriesCount')['value']=0x4,_0x1e4095[_0x267203(0x244)][_0x267203(0x2c1)]=_0x267203(0x260),document[_0x267203(0x30a)](_0x267203(0x2df))[_0x267203(0x337)]=getLocalDateStr(_0x2f029d),updateDateDisplay();const _0x5774db=_0x2f029d['getHours']();document[_0x267203(0x30a)](_0x267203(0x278))[_0x267203(0x337)]=String(_0x5774db)[_0x267203(0x216)](0x2,'0')+_0x267203(0x2c5),document[_0x267203(0x30a)](_0x267203(0x271))['value']=String(_0x5774db+0x1)[_0x267203(0x216)](0x2,'0')+_0x267203(0x2c5),openSheet(_0x267203(0x253));}function openEdit(_0x268c3d){const _0x437d66=a2_0x187a3a;editingId=_0x268c3d['id'],populateClientSelect(),document[_0x437d66(0x30a)](_0x437d66(0x272))[_0x437d66(0x2e4)]=_0x437d66(0x2c2),document['getElementById'](_0x437d66(0x284))[_0x437d66(0x244)]['display']=_0x437d66(0x280);const _0x2d1c88=document[_0x437d66(0x30a)](_0x437d66(0x21a));_0x2d1c88['style']['display']=_0x437d66(0x2f5);_0x268c3d[_0x437d66(0x35e)]===_0x437d66(0x25b)?(_0x2d1c88[_0x437d66(0x26c)]=_0x437d66(0x225),_0x2d1c88['innerHTML']='–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ'):(_0x2d1c88[_0x437d66(0x26c)]=_0x437d66(0x2c9),_0x2d1c88[_0x437d66(0x306)]=_0x437d66(0x1f8));const _0x9a1918=!!_0x268c3d[_0x437d66(0x35b)];document[_0x437d66(0x30a)](_0x437d66(0x2b9))[_0x437d66(0x244)]['display']=_0x437d66(0x260),document[_0x437d66(0x30a)](_0x437d66(0x323))[_0x437d66(0x244)][_0x437d66(0x2c1)]=_0x437d66(0x260),_0x9a1918?(document[_0x437d66(0x30a)](_0x437d66(0x20e))[_0x437d66(0x244)][_0x437d66(0x2c1)]=_0x437d66(0x2f5),document[_0x437d66(0x30a)](_0x437d66(0x20e))[_0x437d66(0x22f)](_0x437d66(0x341))[_0x437d66(0x2e4)]=_0x437d66(0x358)):document['getElementById'](_0x437d66(0x20e))['style'][_0x437d66(0x2c1)]=_0x437d66(0x260),document[_0x437d66(0x30a)](_0x437d66(0x30d))[_0x437d66(0x337)]=_0x268c3d[_0x437d66(0x1f3)],document[_0x437d66(0x30a)](_0x437d66(0x2df))['value']=_0x268c3d[_0x437d66(0x2fd)],document[_0x437d66(0x30a)](_0x437d66(0x278))[_0x437d66(0x337)]=_0x268c3d['start'],document[_0x437d66(0x30a)]('inpEnd')[_0x437d66(0x337)]=_0x268c3d[_0x437d66(0x2dc)],document[_0x437d66(0x30a)](_0x437d66(0x26d))['value']=_0x268c3d[_0x437d66(0x355)]||'',updateDateDisplay(),openSheet(_0x437d66(0x253));}async function trySaveSession(){const _0x317f4f=a2_0x187a3a,_0x1bf1bd=document['getElementById'](_0x317f4f(0x30d))[_0x317f4f(0x337)],_0x5be857=document['getElementById'](_0x317f4f(0x2df))['value'],_0xfbcf12=document[_0x317f4f(0x30a)](_0x317f4f(0x278))['value'],_0x4ca7a7=document[_0x317f4f(0x30a)](_0x317f4f(0x271))['value'],_0x1d43f3=document[_0x317f4f(0x30a)](_0x317f4f(0x26d))[_0x317f4f(0x337)],_0x32e22e=document[_0x317f4f(0x30a)](_0x317f4f(0x1f0))[_0x317f4f(0x29e)];let _0x150786=0x4;if(_0x32e22e){const _0x43cec8=parseInt(document[_0x317f4f(0x30a)](_0x317f4f(0x2a2))[_0x317f4f(0x337)]);if(!_0x43cec8||_0x43cec8<0x2){showToast(_0x317f4f(0x232),![]);return;}if(_0x43cec8>0x64){showToast(_0x317f4f(0x1ec),![]);return;}_0x150786=_0x43cec8;}const _0x4e733b=clients[_0x317f4f(0x24b)](_0x46e423=>_0x46e423['name']===_0x1bf1bd);if(!_0x4e733b){showToast(_0x317f4f(0x2bf),![]);return;}const _0x241903=validateAppointment(_0x5be857,_0xfbcf12,_0x4ca7a7,editingId,_0x4e733b['id']);if(!_0x241903['valid']){showToast(_0x241903[_0x317f4f(0x2f8)],![]);return;}_0x241903[_0x317f4f(0x235)]&&showToast(_0x241903[_0x317f4f(0x235)],![]);const _0x4bb48f={'client':_0x1bf1bd,'clientId':_0x4e733b['id'],'start':_0xfbcf12,'end':_0x4ca7a7,'note':_0x1d43f3,'status':_0x317f4f(0x210)},_0x34f79b=editingId?sessions[_0x317f4f(0x24b)](_0x1853d7=>_0x1853d7['id']===editingId):null;if(_0x34f79b&&_0x34f79b['seriesId']){tempSessionData={..._0x4bb48f,'dateStr':_0x5be857,'id':editingId,'seriesId':_0x34f79b[_0x317f4f(0x35b)]},openActionSheet(_0x317f4f(0x2ab));return;}let _0x427260=null;if(!editingId)_0x427260=_0x317f4f(0x23c);else{if(_0x34f79b){if(String(_0x34f79b[_0x317f4f(0x267)])!==String(_0x4e733b['id']))console[_0x317f4f(0x1ed)]('[Notify]\x20Client\x20SWAP\x20detected'),NotificationManager[_0x317f4f(0x2b5)](_0x317f4f(0x1f5),_0x34f79b),_0x427260=_0x317f4f(0x23c);else(_0x34f79b['start']!==_0xfbcf12||_0x34f79b['end']!==_0x4ca7a7||_0x34f79b[_0x317f4f(0x2fd)]!==_0x5be857)&&(_0x427260=_0x317f4f(0x207));}}if(!editingId&&_0x32e22e){createBatchSeries(_0x4bb48f,_0x5be857,_0x150786),NotificationManager[_0x317f4f(0x2b5)]('create',{..._0x4bb48f,'dateStr':_0x5be857});return;}lastUserActionTime=Date[_0x317f4f(0x2ae)]();const _0x3554c7={..._0x4bb48f,'dateStr':_0x5be857,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x3554c7),_0x427260&&NotificationManager[_0x317f4f(0x2b5)](_0x427260,_0x3554c7);}function toggleSessionStatus(){const _0x362832=a2_0x187a3a;lastUserActionTime=Date[_0x362832(0x2ae)]();const _0x1131a6=sessions[_0x362832(0x24b)](_0x1950fd=>_0x1950fd['id']===editingId);if(!_0x1131a6)return;const _0xe6f178=_0x1131a6[_0x362832(0x35e)]===_0x362832(0x25b)?_0x362832(0x210):_0x362832(0x25b);_0x1131a6['status']=_0xe6f178,saveSingleSession(_0x1131a6),_0xe6f178===_0x362832(0x25b)&&NotificationManager[_0x362832(0x2b5)](_0x362832(0x2a6),_0x1131a6),showToast(_0xe6f178==='completed'?_0x362832(0x20c):_0x362832(0x273),!![]);}function validateAppointment(_0x1e5f16,_0x327e18,_0x2da7b4,_0x1b1c1f,_0x5665c4){const _0x3b2170=a2_0x187a3a,[_0x26031f,_0x334750]=_0x327e18[_0x3b2170(0x353)](':')[_0x3b2170(0x32d)](Number),[_0x5c35e0,_0x43898d]=_0x2da7b4[_0x3b2170(0x353)](':')[_0x3b2170(0x32d)](Number),_0x4c087f=_0x26031f*0x3c+_0x334750,_0xc8f125=_0x5c35e0*0x3c+_0x43898d,_0x90db1a=String(_0x5665c4);let _0x4d772c=![],_0x2fef72='';for(let _0x38cd4b of sessions){if(_0x38cd4b[_0x3b2170(0x2fd)]!==_0x1e5f16)continue;if(_0x38cd4b[_0x3b2170(0x35e)]===_0x3b2170(0x20d))continue;if(_0x1b1c1f&&String(_0x38cd4b['id'])===String(_0x1b1c1f))continue;const [_0xe45670,_0x5544da]=_0x38cd4b[_0x3b2170(0x2ba)][_0x3b2170(0x353)](':')[_0x3b2170(0x32d)](Number),[_0x57dc68,_0x52499c]=_0x38cd4b['end'][_0x3b2170(0x353)](':')[_0x3b2170(0x32d)](Number),_0x1e7fc2=_0xe45670*0x3c+_0x5544da,_0x54ab94=_0x57dc68*0x3c+_0x52499c;if(Math[_0x3b2170(0x286)](_0x4c087f,_0x1e7fc2)<Math[_0x3b2170(0x2f0)](_0xc8f125,_0x54ab94)){if(_0x38cd4b[_0x3b2170(0x267)]&&String(_0x38cd4b[_0x3b2170(0x267)])===_0x90db1a)return{'valid':![],'msg':_0x3b2170(0x30e)+_0x38cd4b[_0x3b2170(0x1f3)]+_0x3b2170(0x252)};_0x4d772c=!![],_0x2fef72=_0x38cd4b['client'];}}if(_0x4d772c)return{'valid':!![],'warning':_0x3b2170(0x281)+_0x2fef72};return{'valid':!![]};}function saveSingleSession(_0x4341ff){const _0x350e8f=a2_0x187a3a;if(editingId){const _0x8a7d7e=sessions[_0x350e8f(0x226)](_0x307a78=>_0x307a78['id']===editingId);if(_0x8a7d7e!==-0x1)sessions[_0x8a7d7e]=_0x4341ff;}else sessions['push'](_0x4341ff);afterSaveAction([_0x4341ff[_0x350e8f(0x2fd)]]);}function createBatchSeries(_0x5410ad,_0xde69c1,_0x1ae084){const _0x13c309=a2_0x187a3a,_0x38e979=generateId(),_0x13f852=[],_0x30114e=[];let _0x42f4dd=0x0,_0x46a0b0=new Date(_0xde69c1);for(let _0x16f49e=0x0;_0x16f49e<_0x1ae084;_0x16f49e++){const _0x5049db=getLocalDateStr(_0x46a0b0),_0xe92f23=validateAppointment(_0x5049db,_0x5410ad['start'],_0x5410ad[_0x13c309(0x2dc)],null,_0x5410ad[_0x13c309(0x267)]);if(!_0xe92f23['valid'])console['log'](_0x13c309(0x2b0)+_0x5049db+_0x13c309(0x317)),_0x42f4dd++;else{const _0x39edc2={..._0x5410ad,'id':generateId(),'dateStr':_0x5049db,'seriesId':_0x38e979};_0x30114e['push'](_0x39edc2),_0x13f852['push'](_0x5049db);}_0x46a0b0[_0x13c309(0x277)](_0x46a0b0[_0x13c309(0x213)]()+0x7);}if(_0x30114e[_0x13c309(0x357)]===0x0){showToast(_0x13c309(0x27c),![]);return;}sessions[_0x13c309(0x2f1)](..._0x30114e),lastUserActionTime=Date[_0x13c309(0x2ae)]();let _0x111b59=_0x13c309(0x242)+_0x30114e[_0x13c309(0x357)];_0x42f4dd>0x0&&(_0x111b59+=_0x13c309(0x1e7)+_0x42f4dd+')'),showToast(_0x111b59,!![]),afterSaveAction(_0x13f852);}function updateSeriesBatch(_0x46ba5d,_0x8e2b3e){const _0x33d499=a2_0x187a3a,_0x1b140d=[],_0x53559d=_0x8e2b3e[_0x33d499(0x35b)];if(_0x46ba5d==='single'){const _0x5d1d9b={..._0x8e2b3e,'seriesId':null},_0x3ec4f8=sessions[_0x33d499(0x226)](_0x26acca=>_0x26acca['id']===_0x8e2b3e['id']);if(_0x3ec4f8!==-0x1)sessions[_0x3ec4f8]=_0x5d1d9b;_0x1b140d['push'](_0x5d1d9b[_0x33d499(0x2fd)]);}else{if(_0x46ba5d===_0x33d499(0x283)){const _0x23bdee=_0x8e2b3e[_0x33d499(0x2fd)];sessions[_0x33d499(0x315)]((_0x3ffbce,_0x58ac3f)=>{const _0x424a6b=_0x33d499;_0x3ffbce[_0x424a6b(0x35b)]===_0x53559d&&_0x3ffbce['dateStr']>=_0x23bdee&&(sessions[_0x58ac3f]={...sessions[_0x58ac3f],'start':_0x8e2b3e[_0x424a6b(0x2ba)],'end':_0x8e2b3e[_0x424a6b(0x2dc)],'note':_0x8e2b3e[_0x424a6b(0x355)],'client':_0x8e2b3e[_0x424a6b(0x1f3)],'clientId':_0x8e2b3e[_0x424a6b(0x267)]},_0x1b140d[_0x424a6b(0x2f1)](_0x3ffbce[_0x424a6b(0x2fd)]));});}}afterSaveAction(_0x1b140d);}function tryDeleteSession(){const _0x409113=a2_0x187a3a,_0x3b8d78=sessions['find'](_0x55ccda=>_0x55ccda['id']===editingId);if(!_0x3b8d78)return;_0x3b8d78[_0x409113(0x35b)]?openActionSheet(_0x409113(0x259)):commitDelete(_0x409113(0x330),_0x3b8d78);}function commitDelete(_0x49e051,_0x5c7501){const _0x5e5501=a2_0x187a3a;lastUserActionTime=Date[_0x5e5501(0x2ae)](),NotificationManager[_0x5e5501(0x2b5)]('cancel',_0x5c7501);const _0x1a64e4=[];if(_0x49e051===_0x5e5501(0x330))sessions=sessions[_0x5e5501(0x338)](_0x1244ca=>_0x1244ca['id']!==_0x5c7501['id']),_0x1a64e4[_0x5e5501(0x2f1)](_0x5c7501[_0x5e5501(0x2fd)]);else{if(_0x49e051===_0x5e5501(0x283)){const _0x123b6a=_0x5c7501['dateStr'],_0x5aee7b=_0x5c7501[_0x5e5501(0x35b)];sessions[_0x5e5501(0x315)](_0x297e63=>{const _0x465f76=_0x5e5501;_0x297e63[_0x465f76(0x35b)]===_0x5aee7b&&_0x297e63[_0x465f76(0x2fd)]>=_0x123b6a&&_0x1a64e4[_0x465f76(0x2f1)](_0x297e63['dateStr']);}),sessions=sessions[_0x5e5501(0x338)](_0x360931=>!(_0x360931['seriesId']===_0x5aee7b&&_0x360931[_0x5e5501(0x2fd)]>=_0x123b6a));}}afterSaveAction(_0x1a64e4);}function afterSaveAction(_0x19abcf){const _0x2c0a80=a2_0x187a3a;DataManager[_0x2c0a80(0x1e1)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x2c0a80(0x1e3)](_0x19abcf)['then'](()=>console[_0x2c0a80(0x1ed)](_0x2c0a80(0x2ff)))[_0x2c0a80(0x249)](_0x18e569=>showToast(_0x2c0a80(0x300),![]));}const NotificationManager={'formatDate'(_0x1b96ca){const _0x4b9182=a2_0x187a3a,_0x43b63d=new Date(_0x1b96ca),_0x43a588={'weekday':_0x4b9182(0x21c),'day':_0x4b9182(0x211),'month':_0x4b9182(0x21c)};let _0x2ee54a=_0x43b63d[_0x4b9182(0x309)]('ru-RU',_0x43a588);return _0x2ee54a['charAt'](0x0)[_0x4b9182(0x1f2)]()+_0x2ee54a[_0x4b9182(0x322)](0x1);},'getText'(_0x24e62a,_0x315135){const _0x413d00=a2_0x187a3a,_0x40e459=this['formatDate'](_0x315135[_0x413d00(0x2fd)]);switch(_0x24e62a){case _0x413d00(0x23c):return _0x413d00(0x34c)+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0x40e459+'\x0a')+(_0x413d00(0x33c)+_0x315135[_0x413d00(0x2ba)]+_0x413d00(0x1fd)+_0x315135[_0x413d00(0x2dc)]+'\x0a\x0a')+_0x413d00(0x340);case _0x413d00(0x207):return _0x413d00(0x276)+_0x413d00(0x349)+('<b>‚úÖ\x20'+_0x315135[_0x413d00(0x2ba)]+_0x413d00(0x1fd)+_0x315135[_0x413d00(0x2dc)]+_0x413d00(0x2ed))+(_0x413d00(0x34b)+_0x40e459);case _0x413d00(0x1f5):return _0x413d00(0x2a1)+('–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>'+_0x40e459+'\x20('+_0x315135[_0x413d00(0x2ba)]+_0x413d00(0x336));case _0x413d00(0x2a6):return'<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a'+_0x413d00(0x2ca)+_0x413d00(0x282);default:return'';}},async 'send'(_0x54ef25,_0x4ef2d1){const _0x324c22=a2_0x187a3a;console[_0x324c22(0x1ed)](_0x324c22(0x274),_0x54ef25,_0x4ef2d1);if(!_0x4ef2d1){console[_0x324c22(0x2d6)]('[Notify]\x20Error:\x20sessionData\x20is\x20null');return;}const _0x5dbaaa=String(_0x4ef2d1[_0x324c22(0x267)]);console[_0x324c22(0x1ed)](_0x324c22(0x2db),_0x5dbaaa);if(!_0x4ef2d1[_0x324c22(0x267)]||_0x5dbaaa===_0x324c22(0x26f)||_0x5dbaaa==='null'){console[_0x324c22(0x2d6)]('[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!');if(_0x4ef2d1[_0x324c22(0x1f3)]){const _0x183640=clients[_0x324c22(0x24b)](_0x37ce27=>_0x37ce27[_0x324c22(0x2cc)]===_0x4ef2d1[_0x324c22(0x1f3)]);if(_0x183640)return console[_0x324c22(0x1ed)]('[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:',_0x183640['id']),this[_0x324c22(0x2b5)](_0x54ef25,{..._0x4ef2d1,'clientId':_0x183640['id']});}return;}if(_0x5dbaaa[_0x324c22(0x357)]<0x5){console[_0x324c22(0x359)](_0x324c22(0x2ac),_0x5dbaaa);return;}const _0x3bff3c=this[_0x324c22(0x241)](_0x54ef25,_0x4ef2d1);if(!_0x3bff3c){console['error']('[Notify]\x20Error:\x20Text\x20generation\x20failed');return;}console['log'](_0x324c22(0x2ea)+_0x5dbaaa+'...'),DataManager[_0x324c22(0x2d0)]('send_notification',{'chatId':_0x5dbaaa,'text':_0x3bff3c})[_0x324c22(0x215)](_0xe8470=>console['log']('[Notify]\x20Server\x20Response:',_0xe8470))[_0x324c22(0x249)](_0x4b23a4=>console[_0x324c22(0x2d6)]('[Notify]\x20Network\x20Failed',_0x4b23a4));}};function getLocalDateStr(_0x1704e3){const _0x3c7a46=a2_0x187a3a,_0x232af6=_0x1704e3[_0x3c7a46(0x31c)](),_0x482125=String(_0x1704e3[_0x3c7a46(0x2a7)]()+0x1)[_0x3c7a46(0x216)](0x2,'0'),_0x131c3e=String(_0x1704e3['getDate']())[_0x3c7a46(0x216)](0x2,'0');return _0x232af6+'-'+_0x482125+'-'+_0x131c3e;}function getDateStr(_0x1e9b25){const _0x32bca8=a2_0x187a3a,_0x167a17=new Date();return _0x167a17[_0x32bca8(0x277)](_0x167a17['getDate']()+_0x1e9b25),getLocalDateStr(_0x167a17);}function getStartOfWeek(_0x45b0a9){const _0xde5cd5=a2_0x187a3a,_0x21b344=(function(){let _0x32efff=!![];return function(_0x5b6e63,_0x243372){const _0x2abb46=_0x32efff?function(){if(_0x243372){const _0x30f5c0=_0x243372['apply'](_0x5b6e63,arguments);return _0x243372=null,_0x30f5c0;}}:function(){};return _0x32efff=![],_0x2abb46;};}()),_0x5069e1=_0x21b344(this,function(){const _0x3504fe=a2_0x43c9;return _0x5069e1[_0x3504fe(0x2af)]()['search'](_0x3504fe(0x204))['toString']()[_0x3504fe(0x21e)](_0x5069e1)[_0x3504fe(0x25f)](_0x3504fe(0x204));});_0x5069e1();const _0x56aead=new Date(_0x45b0a9),_0x6fae46=_0x56aead[_0xde5cd5(0x35c)](),_0x4304bb=_0x56aead['getDate']()-_0x6fae46+(_0x6fae46===0x0?-0x6:0x1);return _0x56aead[_0xde5cd5(0x277)](_0x4304bb),_0x56aead[_0xde5cd5(0x21b)](0x0,0x0,0x0,0x0),_0x56aead;}function hexToRgba(_0x5e2c3a,_0x10f132){const _0x19dfde=a2_0x187a3a;if(!_0x5e2c3a)return _0x19dfde(0x293);let _0x357a65=0x0,_0x40deb0=0x0,_0x3f701a=0x0;if(_0x5e2c3a[_0x19dfde(0x357)]===0x4)_0x357a65='0x'+_0x5e2c3a[0x1]+_0x5e2c3a[0x1],_0x40deb0='0x'+_0x5e2c3a[0x2]+_0x5e2c3a[0x2],_0x3f701a='0x'+_0x5e2c3a[0x3]+_0x5e2c3a[0x3];else _0x5e2c3a[_0x19dfde(0x357)]===0x7&&(_0x357a65='0x'+_0x5e2c3a[0x1]+_0x5e2c3a[0x2],_0x40deb0='0x'+_0x5e2c3a[0x3]+_0x5e2c3a[0x4],_0x3f701a='0x'+_0x5e2c3a[0x5]+_0x5e2c3a[0x6]);return _0x19dfde(0x243)+ +_0x357a65+',\x20'+ +_0x40deb0+',\x20'+ +_0x3f701a+',\x20'+_0x10f132+')';}function renderTimeColumn(){const _0x3d6396=a2_0x187a3a,_0x158df6=document[_0x3d6396(0x30a)]('timeColumn'),_0x106ab4=document[_0x3d6396(0x30a)]('timeLineBadge');_0x158df6['innerHTML']='',_0x158df6[_0x3d6396(0x294)](_0x106ab4);for(let _0x122a1a=0x0;_0x122a1a<0x18;_0x122a1a++){const _0x19d0fd=document[_0x3d6396(0x22a)](_0x3d6396(0x346));_0x19d0fd[_0x3d6396(0x26c)]=_0x3d6396(0x224);if(_0x122a1a>0x0)_0x19d0fd['innerHTML']=_0x3d6396(0x324)+String(_0x122a1a)[_0x3d6396(0x216)](0x2,'0')+':00</span>';_0x158df6[_0x3d6396(0x294)](_0x19d0fd);}}function renderDayRange(_0x37579b,_0x559714){const _0x2a1810=a2_0x187a3a,_0x4c8d94=document[_0x2a1810(0x30a)]('daysHeaderTrack'),_0x57b48e=document[_0x2a1810(0x30a)]('gridColumns'),_0x1196e5=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x514a6b=new Date();_0x514a6b[_0x2a1810(0x21b)](0x0,0x0,0x0,0x0);const _0x4972a2=getLocalDateStr(new Date());for(let _0x243035=_0x37579b;_0x243035<=_0x559714;_0x243035++){const _0x27daf7=new Date(_0x514a6b);_0x27daf7[_0x2a1810(0x277)](_0x27daf7[_0x2a1810(0x213)]()+_0x243035);const _0x1e7356=getLocalDateStr(_0x27daf7);let _0x2d40c9=_0x27daf7[_0x2a1810(0x35c)]()-0x1;if(_0x2d40c9===-0x1)_0x2d40c9=0x6;const _0x5c24f9=_0x1e7356===_0x4972a2,_0x157975=document[_0x2a1810(0x22a)]('div');_0x157975['className']='day-col-header\x20'+(_0x5c24f9?_0x2a1810(0x2bd):''),_0x157975['id']=_0x2a1810(0x319)+_0x1e7356,_0x157975[_0x2a1810(0x247)](_0x2a1810(0x27b),_0x1e7356),_0x157975[_0x2a1810(0x306)]=_0x2a1810(0x345)+_0x1196e5[_0x2d40c9]+_0x2a1810(0x352)+_0x27daf7['getDate']()+_0x2a1810(0x26e)+_0x1e7356+_0x2a1810(0x25e),_0x157975[_0x2a1810(0x34f)]=()=>openDayOptions(_0x1e7356,_0x1196e5[_0x2d40c9]+'\x20'+_0x27daf7[_0x2a1810(0x213)]()),_0x4c8d94['appendChild'](_0x157975);const _0x546a12=document[_0x2a1810(0x22a)](_0x2a1810(0x346));_0x546a12[_0x2a1810(0x26c)]=_0x2a1810(0x261)+(_0x5c24f9?_0x2a1810(0x2bd):''),_0x546a12['setAttribute']('data-date',_0x1e7356),_0x546a12['setAttribute'](_0x2a1810(0x34a),_0x2d40c9),renderEventsForColumn(_0x546a12,_0x1e7356,_0x2d40c9),attachLongPressHandler(_0x546a12,_0x27daf7),_0x57b48e[_0x2a1810(0x294)](_0x546a12),updateDayStats(_0x1e7356);}}function reRenderBlocks(){const _0x5914bf=a2_0x187a3a;document[_0x5914bf(0x2d1)](_0x5914bf(0x2d4))[_0x5914bf(0x315)](_0x41a5ff=>{const _0x4f5688=_0x5914bf;_0x41a5ff[_0x4f5688(0x2d1)](_0x4f5688(0x32f))[_0x4f5688(0x315)](_0x4f2b9b=>_0x4f2b9b[_0x4f5688(0x2ec)]());const _0x1cdbf4=_0x41a5ff[_0x4f5688(0x229)](_0x4f5688(0x27b)),_0x28cfc0=parseInt(_0x41a5ff['getAttribute']('data-day-idx')),_0x2744a2=Math[_0x4f5688(0x2dd)](_0x41a5ff[_0x4f5688(0x33a)]);(availabilityPattern[_0x28cfc0]||[])['forEach'](_0x3f8ed1=>{const _0x1494aa=_0x4f5688,_0x1e5276=document[_0x1494aa(0x22a)](_0x1494aa(0x346));_0x1e5276[_0x1494aa(0x26c)]=_0x1494aa(0x1fe);const _0x271009=_0x3f8ed1*GRID_H;_0x1e5276['style'][_0x1494aa(0x34e)]=_0x271009+'px',_0x1e5276[_0x1494aa(0x244)][_0x1494aa(0x209)]='-'+_0x2744a2+'px\x20-'+_0x271009+'px',_0x41a5ff[_0x1494aa(0x294)](_0x1e5276);});if(specialRanges&&specialRanges[_0x4f5688(0x357)]>0x0){const _0x3fac4c=new Date(_0x1cdbf4+_0x4f5688(0x2b7))['getTime'](),_0x1f4e17=new Date(_0x1cdbf4+_0x4f5688(0x23d))[_0x4f5688(0x2f2)]();specialRanges[_0x4f5688(0x315)](_0xf145de=>{const _0x4bf29a=_0x4f5688,_0x3374ee=new Date(_0xf145de['start'])[_0x4bf29a(0x2f2)](),_0x2fbc6a=new Date(_0xf145de[_0x4bf29a(0x2dc)])['getTime'](),_0xf19ab1=Math[_0x4bf29a(0x286)](_0x3fac4c,_0x3374ee),_0x9f395c=Math['min'](_0x1f4e17,_0x2fbc6a);if(_0xf19ab1<_0x9f395c){if(_0xf19ab1<=_0x3fac4c&&_0x9f395c>=_0x1f4e17-0xea60){if(!_0x41a5ff['querySelector'](_0x4bf29a(0x2de))){const _0x341cc6=document[_0x4bf29a(0x22a)](_0x4bf29a(0x346));_0x341cc6['className']=_0x4bf29a(0x2b2),_0x341cc6[_0x4bf29a(0x244)][_0x4bf29a(0x209)]='-'+_0x2744a2+_0x4bf29a(0x239),_0x41a5ff[_0x4bf29a(0x294)](_0x341cc6);}}else{const _0xa4a2ea=(_0xf19ab1-_0x3fac4c)/0x36ee80*GRID_H,_0x1def9e=(_0x9f395c-_0xf19ab1)/0x36ee80*GRID_H,_0x2c945c=document[_0x4bf29a(0x22a)](_0x4bf29a(0x346));_0x2c945c[_0x4bf29a(0x26c)]=_0x4bf29a(0x25c),_0x2c945c[_0x4bf29a(0x244)]['top']=_0xa4a2ea+'px',_0x2c945c[_0x4bf29a(0x244)][_0x4bf29a(0x206)]=_0x1def9e+'px',_0x2c945c[_0x4bf29a(0x244)][_0x4bf29a(0x209)]='-'+_0x2744a2+_0x4bf29a(0x316)+_0xa4a2ea+'px',_0x41a5ff['appendChild'](_0x2c945c);}}});}if(dateExceptions[_0x1cdbf4]==='off'){if(!_0x41a5ff[_0x4f5688(0x22f)]('.day-off-overlay')){const _0x2af918=document[_0x4f5688(0x22a)](_0x4f5688(0x346));_0x2af918['className']=_0x4f5688(0x2b2),_0x2af918['style'][_0x4f5688(0x209)]='-'+_0x2744a2+_0x4f5688(0x239),_0x41a5ff[_0x4f5688(0x294)](_0x2af918);}}renderEventsForColumn(_0x41a5ff,_0x1cdbf4,_0x28cfc0),updateDayStats(_0x1cdbf4);});}function updateAllDayStats(){const _0x2686aa=a2_0x187a3a;document['querySelectorAll'](_0x2686aa(0x22e))[_0x2686aa(0x315)](_0x4e4b13=>{const _0x3b36da=_0x2686aa;updateDayStats(_0x4e4b13[_0x3b36da(0x229)](_0x3b36da(0x27b)));});}function updateDayStats(_0x396f38){const _0x4a6f1c=a2_0x187a3a,_0x5e2688=document[_0x4a6f1c(0x30a)](_0x4a6f1c(0x29c)+_0x396f38);if(!_0x5e2688)return;const _0x2b391d=new Date(_0x396f38);let _0x4df223=_0x2b391d[_0x4a6f1c(0x35c)]()-0x1;if(_0x4df223===-0x1)_0x4df223=0x6;if(dateExceptions[_0x396f38]==='off'){_0x5e2688[_0x4a6f1c(0x244)][_0x4a6f1c(0x2c1)]='none';return;}const _0x27f26c=availabilityPattern[_0x4df223]||[],_0x441e7f=0x18-_0x27f26c['length'],_0x5698a3=_0x441e7f*0x3c,_0x43fde7=sessions['filter'](_0xaabec7=>_0xaabec7[_0x4a6f1c(0x2fd)]===_0x396f38&&_0xaabec7['status']!==_0x4a6f1c(0x20d));if(_0x43fde7[_0x4a6f1c(0x357)]===0x0){_0x5e2688['style']['display']=_0x4a6f1c(0x260);return;}let _0x47e9e5=_0x43fde7[_0x4a6f1c(0x32d)](_0x2d714c=>{const _0x3d578d=_0x4a6f1c,[_0x3156ff,_0x5c51f7]=_0x2d714c[_0x3d578d(0x2ba)]['split'](':')['map'](Number),[_0x4b5cd2,_0x1532c5]=_0x2d714c['end'][_0x3d578d(0x353)](':')['map'](Number);return[_0x3156ff*0x3c+_0x5c51f7,_0x4b5cd2*0x3c+_0x1532c5];});_0x47e9e5[_0x4a6f1c(0x2c4)]((_0x416946,_0x1c954d)=>_0x416946[0x0]-_0x1c954d[0x0]);let _0x2e8451=[];if(_0x47e9e5[_0x4a6f1c(0x357)]>0x0){let _0x268ec3=_0x47e9e5[0x0];for(let _0x495cac=0x1;_0x495cac<_0x47e9e5['length'];_0x495cac++){_0x47e9e5[_0x495cac][0x0]<_0x268ec3[0x1]?_0x268ec3[0x1]=Math[_0x4a6f1c(0x286)](_0x268ec3[0x1],_0x47e9e5[_0x495cac][0x1]):(_0x2e8451[_0x4a6f1c(0x2f1)](_0x268ec3),_0x268ec3=_0x47e9e5[_0x495cac]);}_0x2e8451['push'](_0x268ec3);}let _0x5e0c45=0x0;_0x2e8451[_0x4a6f1c(0x315)](_0x58df08=>_0x5e0c45+=_0x58df08[0x1]-_0x58df08[0x0]),_0x5e2688[_0x4a6f1c(0x244)][_0x4a6f1c(0x2c1)]='flex';const _0x353f09=_0x5e2688[_0x4a6f1c(0x22f)]('.dch-stats-fill');if(_0x5698a3===0x0){_0x353f09[_0x4a6f1c(0x244)]['width']=_0x4a6f1c(0x28e),_0x353f09['style'][_0x4a6f1c(0x339)]=_0x4a6f1c(0x2ee);return;}const _0x22e07a=_0x5e0c45/_0x5698a3*0x64;console[_0x4a6f1c(0x1ed)]('['+_0x396f38+_0x4a6f1c(0x28a)+_0x441e7f+_0x4a6f1c(0x27d)+_0x5e0c45+_0x4a6f1c(0x331)+_0x22e07a[_0x4a6f1c(0x2b8)](0x1)+'%'),_0x22e07a>0x64?(_0x353f09['style']['width']=_0x4a6f1c(0x28e),_0x353f09[_0x4a6f1c(0x244)][_0x4a6f1c(0x339)]='var(--acc-red)'):(_0x353f09[_0x4a6f1c(0x244)][_0x4a6f1c(0x23e)]=_0x22e07a+'%',_0x353f09[_0x4a6f1c(0x244)][_0x4a6f1c(0x339)]=_0x4a6f1c(0x2e0));}function renderEventsForColumn(_0x3b4835,_0x2c9a48,_0x2daa46){const _0x48f937=a2_0x187a3a,_0x52a2e1=sessions['filter'](_0x289861=>_0x289861['dateStr']===_0x2c9a48),_0xdbfa5a=_0x52a2e1[_0x48f937(0x32d)](_0x4c4472=>{const _0x166f80=_0x48f937,[_0x3242e9,_0x4edc75]=_0x4c4472[_0x166f80(0x2ba)]['split'](':')[_0x166f80(0x32d)](Number),[_0x28f655,_0x2b98e8]=_0x4c4472[_0x166f80(0x2dc)][_0x166f80(0x353)](':')[_0x166f80(0x32d)](Number);return{'data':_0x4c4472,'start':_0x3242e9*0x3c+_0x4edc75,'end':_0x28f655*0x3c+_0x2b98e8,'colIndex':0x0};});_0xdbfa5a[_0x48f937(0x2c4)]((_0x45a471,_0x20deeb)=>{const _0x55ae52=_0x48f937;if(_0x45a471[_0x55ae52(0x2ba)]!==_0x20deeb[_0x55ae52(0x2ba)])return _0x45a471[_0x55ae52(0x2ba)]-_0x20deeb[_0x55ae52(0x2ba)];return _0x20deeb[_0x55ae52(0x2dc)]-_0x20deeb[_0x55ae52(0x2ba)]-(_0x45a471[_0x55ae52(0x2dc)]-_0x45a471['start']);});const _0x54b9b7=[];_0xdbfa5a[_0x48f937(0x315)](_0x394a57=>{const _0x46afc7=_0x48f937;let _0x3efc44=![];for(let _0x24db2b=0x0;_0x24db2b<_0x54b9b7[_0x46afc7(0x357)];_0x24db2b++){const _0x4e8f9a=_0x54b9b7[_0x24db2b],_0x3b71fd=_0x4e8f9a[_0x4e8f9a[_0x46afc7(0x357)]-0x1];if(_0x394a57[_0x46afc7(0x2ba)]>=_0x3b71fd['end']){_0x4e8f9a[_0x46afc7(0x2f1)](_0x394a57),_0x394a57[_0x46afc7(0x2f4)]=_0x24db2b,_0x3efc44=!![];break;}}!_0x3efc44&&(_0x54b9b7[_0x46afc7(0x2f1)]([_0x394a57]),_0x394a57[_0x46afc7(0x2f4)]=_0x54b9b7['length']-0x1);}),_0xdbfa5a[_0x48f937(0x315)](_0x22ce91=>{const _0x41a6eb=_0x48f937;let _0x43c3b6=0x0;_0xdbfa5a['forEach'](_0x207332=>{const _0x1625e6=a2_0x43c9;if(Math[_0x1625e6(0x286)](_0x22ce91[_0x1625e6(0x2ba)],_0x207332[_0x1625e6(0x2ba)])<Math[_0x1625e6(0x2f0)](_0x22ce91[_0x1625e6(0x2dc)],_0x207332[_0x1625e6(0x2dc)])){if(_0x207332[_0x1625e6(0x2f4)]>_0x43c3b6)_0x43c3b6=_0x207332[_0x1625e6(0x2f4)];}});const _0x422e44=_0x43c3b6+0x1,_0x27ac60=0x64/_0x422e44,_0x3b4e52=_0x22ce91[_0x41a6eb(0x2f4)]*_0x27ac60,_0x3d4c02=createEventEl(_0x22ce91[_0x41a6eb(0x1df)]);_0x3d4c02['style'][_0x41a6eb(0x23e)]=_0x41a6eb(0x288)+_0x27ac60+_0x41a6eb(0x321),_0x3d4c02[_0x41a6eb(0x244)]['left']=_0x41a6eb(0x288)+_0x3b4e52+_0x41a6eb(0x29f),_0x3d4c02[_0x41a6eb(0x244)][_0x41a6eb(0x32c)]=0xa+_0x22ce91[_0x41a6eb(0x2f4)],_0x27ac60<0x55&&_0x3d4c02[_0x41a6eb(0x236)]['add'](_0x41a6eb(0x1f9)),_0x3b4835[_0x41a6eb(0x294)](_0x3d4c02);});}function createEventEl(_0x47a6e8){const _0x339de1=a2_0x187a3a,[_0x549887,_0x13eb36]=_0x47a6e8['start'][_0x339de1(0x353)](':')[_0x339de1(0x32d)](Number),[_0x4bedce,_0x1812c4]=_0x47a6e8['end'][_0x339de1(0x353)](':')['map'](Number),_0x329d89=(_0x549887*0x3c+_0x13eb36)/0x3c*GRID_H,_0x1b5ceb=(_0x4bedce*0x3c+_0x1812c4-(_0x549887*0x3c+_0x13eb36))/0x3c*GRID_H,_0x228084=document['createElement'](_0x339de1(0x346)),_0x45c095=_0x47a6e8['status']===_0x339de1(0x25b)?_0x339de1(0x354):'';_0x228084[_0x339de1(0x26c)]=_0x339de1(0x1e0)+_0x45c095,_0x228084[_0x339de1(0x244)][_0x339de1(0x34e)]=_0x329d89+'px',_0x228084[_0x339de1(0x244)]['height']=Math[_0x339de1(0x286)](_0x1b5ceb,0x14)+'px';const _0x4943cd=clients['find'](_0x303d5b=>_0x47a6e8[_0x339de1(0x267)]&&String(_0x303d5b['id'])===String(_0x47a6e8[_0x339de1(0x267)])||_0x303d5b[_0x339de1(0x2cc)]===_0x47a6e8[_0x339de1(0x1f3)]),_0x117fce=_0x4943cd?_0x4943cd[_0x339de1(0x292)]:_0x339de1(0x205);_0x228084[_0x339de1(0x244)][_0x339de1(0x31a)]=_0x117fce,_0x228084[_0x339de1(0x244)][_0x339de1(0x342)]=hexToRgba(_0x117fce,0.85);let _0x5ec138='<div\x20class=\x22ev-title\x22>'+_0x47a6e8[_0x339de1(0x1f3)]+'</div><div\x20class=\x22ev-time\x22>'+_0x47a6e8[_0x339de1(0x2ba)]+_0x339de1(0x2fb)+_0x47a6e8[_0x339de1(0x2dc)]+'</div>';return _0x47a6e8[_0x339de1(0x35b)]&&(_0x5ec138+='<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>'),_0x47a6e8['status']===_0x339de1(0x25b)&&(_0x5ec138+='<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>'),_0x228084[_0x339de1(0x306)]=_0x5ec138,_0x228084['onclick']=_0x187e8a=>{_0x187e8a['stopPropagation'](),openEdit(_0x47a6e8);},_0x228084;}function attachLongPressHandler(_0x5bbd0c,_0x2dda30){const _0x1e2a39=a2_0x187a3a;let _0x19fa3b=0x0,_0x5c857d=null;const _0x26e136=_0x5983ec=>{const _0x5073fd=a2_0x43c9;if(_0x5983ec[_0x5073fd(0x33e)]['closest'](_0x5073fd(0x31b)))return;isScrolling=![],_0x19fa3b=_0x5983ec[_0x5073fd(0x2fc)]?_0x5983ec[_0x5073fd(0x2fc)][0x0][_0x5073fd(0x2e3)]:_0x5983ec[_0x5073fd(0x2e3)],_0x5c857d=setTimeout(()=>{const _0x131601=_0x5073fd;if(!isScrolling){navigator['vibrate']?.(0x32);const _0xa74bbc=_0x5bbd0c['getBoundingClientRect'](),_0x243c68=Math[_0x131601(0x22b)]((_0x19fa3b-_0xa74bbc['top'])/GRID_H);_0x2dda30[_0x131601(0x21b)](_0x243c68,0x0),openAddSession(_0x2dda30);}},0x1f4);},_0x28598f=()=>{isScrolling=!![],clearTimeout(_0x5c857d);},_0x3981f9=()=>{clearTimeout(_0x5c857d);};_0x5bbd0c[_0x1e2a39(0x332)](_0x1e2a39(0x2e8),_0x26e136,{'passive':!![]}),_0x5bbd0c['addEventListener']('touchmove',_0x28598f,{'passive':!![]}),_0x5bbd0c[_0x1e2a39(0x332)](_0x1e2a39(0x257),_0x3981f9),_0x5bbd0c[_0x1e2a39(0x332)](_0x1e2a39(0x2cb),_0x26e136),_0x5bbd0c[_0x1e2a39(0x332)](_0x1e2a39(0x220),_0x28598f),_0x5bbd0c[_0x1e2a39(0x332)](_0x1e2a39(0x2a5),_0x3981f9);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x4cf74c=a2_0x187a3a,_0x351db7=document['getElementById'](_0x4cf74c(0x256)),_0x276eb8=_0x351db7[_0x4cf74c(0x2f3)],_0x284e80=_0x351db7[_0x4cf74c(0x320)],_0x4f15e2=_0x351db7['clientWidth'];if(_0x284e80-(_0x276eb8+_0x4f15e2)<0x12c){const _0x37f8ce=endOffset;endOffset+=0xe,renderDayRange(_0x37f8ce+0x1,endOffset),reRenderBlocks();}if(_0x276eb8<0x12c){const _0x8ae8c9=startOffset;startOffset-=0xe,prependDays(startOffset,_0x8ae8c9-0x1),_0x351db7[_0x4cf74c(0x2f3)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x21ad62,_0x2c7550){const _0x5302cc=a2_0x187a3a,_0x1032de=document[_0x5302cc(0x30a)](_0x5302cc(0x2e9)),_0x2a1d0e=document[_0x5302cc(0x30a)](_0x5302cc(0x299)),_0x41d4b3=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x2a1da9=new Date();_0x2a1da9[_0x5302cc(0x21b)](0x0,0x0,0x0,0x0);const _0x102e46=getLocalDateStr(new Date()),_0x201957=document[_0x5302cc(0x32a)](),_0x26aa6e=document[_0x5302cc(0x32a)]();for(let _0x388d26=_0x21ad62;_0x388d26<=_0x2c7550;_0x388d26++){const _0xe8d0aa=new Date(_0x2a1da9);_0xe8d0aa[_0x5302cc(0x277)](_0xe8d0aa[_0x5302cc(0x213)]()+_0x388d26);const _0x5f0d5f=getLocalDateStr(_0xe8d0aa);let _0x184ebb=_0xe8d0aa[_0x5302cc(0x35c)]()-0x1;if(_0x184ebb===-0x1)_0x184ebb=0x6;const _0x1de3a4=_0x5f0d5f===_0x102e46,_0x1b96f8=document[_0x5302cc(0x22a)](_0x5302cc(0x346));_0x1b96f8[_0x5302cc(0x26c)]=_0x5302cc(0x2b3)+(_0x1de3a4?_0x5302cc(0x2bd):''),_0x1b96f8['id']=_0x5302cc(0x319)+_0x5f0d5f,_0x1b96f8[_0x5302cc(0x247)](_0x5302cc(0x27b),_0x5f0d5f),_0x1b96f8[_0x5302cc(0x306)]='<div\x20class=\x22dch-day\x22>'+_0x41d4b3[_0x184ebb]+_0x5302cc(0x352)+_0xe8d0aa[_0x5302cc(0x213)]()+_0x5302cc(0x26e)+_0x5f0d5f+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x1b96f8[_0x5302cc(0x34f)]=()=>openDayOptions(_0x5f0d5f,_0x41d4b3[_0x184ebb]+'\x20'+_0xe8d0aa[_0x5302cc(0x213)]()),_0x201957[_0x5302cc(0x294)](_0x1b96f8);const _0x4e5cae=document['createElement'](_0x5302cc(0x346));_0x4e5cae['className']=_0x5302cc(0x261)+(_0x1de3a4?_0x5302cc(0x2bd):''),_0x4e5cae[_0x5302cc(0x247)]('data-date',_0x5f0d5f),_0x4e5cae[_0x5302cc(0x247)](_0x5302cc(0x34a),_0x184ebb),renderEventsForColumn(_0x4e5cae,_0x5f0d5f,_0x184ebb),attachLongPressHandler(_0x4e5cae,_0xe8d0aa),_0x26aa6e[_0x5302cc(0x294)](_0x4e5cae),updateDayStats(_0x5f0d5f);}_0x1032de[_0x5302cc(0x23a)](_0x201957,_0x1032de[_0x5302cc(0x31e)]),_0x2a1d0e[_0x5302cc(0x23a)](_0x26aa6e,_0x2a1d0e[_0x5302cc(0x22f)](_0x5302cc(0x27f)));}function validateAppointment(_0x8a29eb,_0x20747a,_0x314d2e,_0x2356ae,_0x42b063){const _0x518669=a2_0x187a3a,[_0x89f049,_0x5369c2]=_0x20747a['split'](':')[_0x518669(0x32d)](Number),[_0x40c3ca,_0x47a627]=_0x314d2e[_0x518669(0x353)](':')[_0x518669(0x32d)](Number),_0xd47b35=_0x89f049*0x3c+_0x5369c2,_0xe20388=_0x40c3ca*0x3c+_0x47a627,_0xf80777=String(_0x42b063);let _0x261fe4=![],_0x2a4b18='';for(let _0x1bbb17 of sessions){if(_0x1bbb17[_0x518669(0x2fd)]!==_0x8a29eb)continue;if(_0x1bbb17[_0x518669(0x35e)]===_0x518669(0x20d))continue;if(_0x2356ae&&String(_0x1bbb17['id'])===String(_0x2356ae))continue;const [_0x453983,_0x2d03b0]=_0x1bbb17[_0x518669(0x2ba)]['split'](':')['map'](Number),[_0x2525dc,_0x318b44]=_0x1bbb17[_0x518669(0x2dc)]['split'](':')[_0x518669(0x32d)](Number),_0x19bc73=_0x453983*0x3c+_0x2d03b0,_0x48c72e=_0x2525dc*0x3c+_0x318b44;if(Math[_0x518669(0x286)](_0xd47b35,_0x19bc73)<Math['min'](_0xe20388,_0x48c72e)){if(_0x1bbb17[_0x518669(0x267)]&&String(_0x1bbb17[_0x518669(0x267)])===_0xf80777)return{'valid':![],'msg':_0x518669(0x30e)+_0x1bbb17[_0x518669(0x1f3)]+_0x518669(0x252)};_0x261fe4=!![],_0x2a4b18=_0x1bbb17[_0x518669(0x1f3)];}}if(_0x261fe4)return{'valid':!![],'warning':_0x518669(0x281)+_0x2a4b18};return{'valid':!![]};}function updateDateDisplay(){const _0xccde8c=a2_0x187a3a,_0x3aed83=document['getElementById']('inpDate')['value'],_0x476bb3=document[_0xccde8c(0x30a)](_0xccde8c(0x246));if(!_0x3aed83){_0x476bb3['textContent']='';return;}const [_0x35b894,_0x196378,_0x369d4c]=_0x3aed83[_0xccde8c(0x353)]('-')[_0xccde8c(0x32d)](Number),_0x45a1f9=new Date(_0x35b894,_0x196378-0x1,_0x369d4c),_0x32ca0d={'weekday':'long','day':_0xccde8c(0x211),'month':_0xccde8c(0x21c),'year':_0xccde8c(0x211)};let _0x12bc7b=_0x45a1f9[_0xccde8c(0x309)]('ru-RU',_0x32ca0d);_0x12bc7b=_0x12bc7b[_0xccde8c(0x2aa)](0x0)[_0xccde8c(0x1f2)]()+_0x12bc7b[_0xccde8c(0x322)](0x1),_0x476bb3[_0xccde8c(0x2e4)]=_0x12bc7b;}function autoSetEndTime(){const _0x3ea02b=a2_0x187a3a,_0x83fc84=document[_0x3ea02b(0x30a)](_0x3ea02b(0x278))['value'];if(!_0x83fc84)return;const [_0x2c58dc,_0x16a6c2]=_0x83fc84[_0x3ea02b(0x353)](':')[_0x3ea02b(0x32d)](Number);let _0xd73f56=_0x2c58dc+0x1;if(_0xd73f56>0x17)_0xd73f56=0x0;const _0x4dbc7a=String(_0xd73f56)[_0x3ea02b(0x216)](0x2,'0')+':'+String(_0x16a6c2)['padStart'](0x2,'0');document[_0x3ea02b(0x30a)](_0x3ea02b(0x271))[_0x3ea02b(0x337)]=_0x4dbc7a;}function populateClientSelect(){const _0x586a0f=a2_0x187a3a,_0x356ca7=document[_0x586a0f(0x30a)](_0x586a0f(0x30d));_0x356ca7['innerHTML']='';if(clients['length']===0x0){const _0x3d8b24=document['createElement'](_0x586a0f(0x35a));_0x3d8b24[_0x586a0f(0x218)]=_0x586a0f(0x255),_0x356ca7[_0x586a0f(0x294)](_0x3d8b24);return;}clients[_0x586a0f(0x315)](_0x4f9c9c=>{const _0x4d4778=_0x586a0f,_0x56a96d=document['createElement'](_0x4d4778(0x35a));_0x56a96d['value']=_0x4f9c9c['name'],_0x56a96d[_0x4d4778(0x2e4)]=_0x4f9c9c[_0x4d4778(0x2cc)],_0x356ca7[_0x4d4778(0x294)](_0x56a96d);});}function openActionSheet(_0x426551){const _0x25770a=a2_0x187a3a,_0x4a4294=document[_0x25770a(0x30a)](_0x25770a(0x350)),_0x35bc86=document['getElementById'](_0x25770a(0x308)),_0x49ce47=document['getElementById']('asTitle'),_0x39bdcb=document[_0x25770a(0x30a)](_0x25770a(0x1eb)),_0x177ed0=document[_0x25770a(0x30a)](_0x25770a(0x26a));_0x35bc86[_0x25770a(0x236)][_0x25770a(0x268)]('active'),_0x4a4294['classList'][_0x25770a(0x268)]('open');if(_0x426551==='save')_0x49ce47[_0x25770a(0x2e4)]=_0x25770a(0x24a),_0x39bdcb['textContent']=_0x25770a(0x28b),_0x39bdcb[_0x25770a(0x34f)]=()=>{closeActionSheet(),updateSeriesBatch('single',tempSessionData);},_0x177ed0[_0x25770a(0x2e4)]=_0x25770a(0x287),_0x177ed0[_0x25770a(0x34f)]=()=>{const _0x4d723d=_0x25770a;closeActionSheet(),updateSeriesBatch(_0x4d723d(0x283),tempSessionData);};else _0x426551===_0x25770a(0x259)&&(_0x49ce47['textContent']=_0x25770a(0x326),_0x39bdcb[_0x25770a(0x2e4)]=_0x25770a(0x28b),_0x39bdcb[_0x25770a(0x26c)]='as-button\x20danger',_0x39bdcb['onclick']=()=>{const _0x351ddb=_0x25770a;closeActionSheet(),commitDelete(_0x351ddb(0x330),sessions[_0x351ddb(0x24b)](_0x2eb75b=>_0x2eb75b['id']===editingId));},_0x177ed0[_0x25770a(0x2e4)]=_0x25770a(0x287),_0x177ed0['className']='as-button\x20danger\x20bold',_0x177ed0['onclick']=()=>{const _0x3c25b1=_0x25770a;closeActionSheet(),commitDelete(_0x3c25b1(0x283),sessions[_0x3c25b1(0x24b)](_0x3cb030=>_0x3cb030['id']===editingId));});}function closeActionSheet(){const _0x43fe6b=a2_0x187a3a;document[_0x43fe6b(0x30a)](_0x43fe6b(0x350))[_0x43fe6b(0x236)][_0x43fe6b(0x2ec)](_0x43fe6b(0x254)),document[_0x43fe6b(0x30a)]('actionSheetOverlay')[_0x43fe6b(0x236)][_0x43fe6b(0x2ec)]('active');}function openSettings(){const _0x2554cd=a2_0x187a3a;openSheet(_0x2554cd(0x1e6));}function saveCoachSettings(){const _0x3af57a=a2_0x187a3a,_0x3e6ade=document[_0x3af57a(0x30a)]('settingCancelWindow')[_0x3af57a(0x337)];localStorage[_0x3af57a(0x25d)](_0x3af57a(0x217),_0x3e6ade),console[_0x3af57a(0x1ed)](_0x3af57a(0x2be),_0x3e6ade),DataManager[_0x3af57a(0x2d0)]('save_settings',{'settings':{'cancel_window':_0x3e6ade}})['catch'](_0x335d12=>{const _0x5b7d5e=_0x3af57a;console['error'](_0x5b7d5e(0x328),_0x335d12),showToast(_0x5b7d5e(0x248),![]);});}function a2_0x43af(){const _0x31aaea=['deleted','pe-cell\x20','3RZgyIf','clientId','add','–ò–Ω—Ñ–æ','asBtnSeries','stopPropagation','className','inpNote','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','undefined','10px','inpEnd','sheetTitle','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','[Notify]\x20Attempting\x20to\x20send:','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','setDate','inpStart','globalTimeLine','doWorkHours','data-date','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','settingCancelWindow','.day-column','block','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','series','btnDelete','#050505','max','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','calc(','initDataUnsafe',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','startsWith','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','100%','done','doEventsList','show','color','rgba(100,100,100,0.5)','appendChild','strokeDashoffset','Critical\x20TMA\x20Error:','Error\x20setting\x20color:','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','gridColumns','clientWidth','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','stat-','ranges','checked','%\x20+\x202px)','btn-primary\x20btn-secondary','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','inpSeriesCount','rangeStartDate','save_settings','mouseup','complete','getMonth','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','timeLineBadge','charAt','save','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','entries','now','toString','[Series]\x20Skipped\x20','analyticsList','day-off-overlay\x20stripe-bg','day-col-header\x20','DOMContentLoaded','send','exceptions','T00:00:00','toFixed','recurringOptionContainer','start','user','custom','today','[Settings]\x20Cancel\x20window\x20set\x20to:','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','btn-primary\x20btn-danger','display','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','getItem','sort',':00','router.html','setMonth','doDateHeader','btn-status-toggle','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','mousedown','name','analyticsSheet','active','toast-notification\x20','fetchFromServer','querySelectorAll','settings','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','#gridColumns\x20.day-column','.period-switch\x20.p-btn','error','Telegram','uc_clients_v9','\x20–∏–∑\x20','off','[Notify]\x20Detected\x20Client\x20ID:','end','round','.day-off-overlay','inpDate','var(--acc-current)','rangeEndTime','includes','clientY','textContent','2206855hhIAED','pe-corner','from','touchstart','daysHeaderTrack','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','headerMonth','remove','</b>\x0a\x0a','var(--acc-red)','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','min','push','getTime','scrollLeft','colIndex','flex','random','btnDayToggle','msg','anEnd','de-item','\x20-\x20','touches','dateStr','dayOptionsTitle','Batch\x20Sync\x20OK','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','total','Local\x20Save\x20Error','608645maJAus','</span>\x20/\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','innerHTML','4263676OXAzLQ','actionSheetOverlay','toLocaleDateString','getElementById','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','rangeEndDate','inpClient','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','range-item','.sheet','doBusyHours','calendar','month','forEach','px\x20-',':\x20Client\x20already\x20booked','href','header-','borderLeftColor','.event-card','getFullYear','batch_sync','firstChild','916128AxrpQK','scrollWidth','%\x20-\x204px)','slice','seriesCountContainer','<span>','scroll','–£–¥–∞–ª–µ–Ω–∏–µ','toastMessage','Save\x20settings\x20error:','BackButton','createDocumentFragment','onClick','zIndex','map','Local\x20Load\x20Error','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','single','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','addEventListener','patternEditor','success','toLocaleString',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','value','filter','background','offsetLeft','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','substr','target','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','.pib-text','backgroundColor','dayOptionsSheet','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','<div\x20class=\x22dch-day\x22>','div','setBackgroundColor','#fff','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','data-day-idx','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','anCustomDates','top','onclick','actionSheet','3236858bGbpAX','</div><div\x20class=\x22dch-num\x22>','split','\x20status-completed','note','rangeStartTime','length','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','warn','option','seriesId','getDay','rgba(255,\x2069,\x2058,\x200.15)','status','borderRadius','v9.0-BATCH-CALENDAR','cancel_window','data','event-card','saveLocally','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','syncBatch','anPercent','setHeaderColor','settingsSheet','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','indexOf','rgba(48,\x20209,\x2088,\x200.15)','stringify','asBtnOne','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','log','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','sid','inpRecurring','scrollTop','toUpperCase','client',']\x20Failed:','cancel','rgba(255,255,255,0.05)','7001008UcAElC','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','mini','splice','isArray',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','\x20‚Äî\x20','blocked-slot\x20stripe-bg','POST','\x20days','WebApp','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','toast','(((.+)+)+)+$','#0a84ff','height','update','init_load','backgroundPosition','clients','location','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','cancelled','patternInfoBox','syncLoad','planned','numeric','9420372SJzuzD','getDate','pattern','then','padStart','uc_settings_cancel_window','text','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','btnStatusToggle','setHours','long','initData','constructor','...','mousemove','toastTitle','Server\x20Error','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','time-label','btn-status-toggle\x20undo-mode','findIndex','10px\x2010px\x200\x200','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','getAttribute','createElement','floor','23:59','text/plain;charset=UTF-8','.day-col-header','querySelector','[API\x20','disableVerticalSwipes','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','[Sync]\x20Loading\x20','getHours','warning','classList','expand','loadLocal','px\x200px','insertBefore','borderColor','create','T23:59:59','width','getMinutes','rgba(255,\x2069,\x2058,\x200.3)','getText','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','rgba(','style','week','sheetDateSubtitle','setAttribute','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','catch','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','find','doLoadPercent','pe-col-header','anStart','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parse','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','sessionSheet','open','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','matrixViewport','touchend','var(--acc-orange)','delete','overlay','completed','blocked-range-part\x20stripe-bg','setItem','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','search','none','day-column\x20','guest','offsetWidth'];a2_0x43af=function(){return _0x31aaea;};return a2_0x43af();}function loadCoachSettings(){const _0x44f5f5=localStorage['getItem']('uc_settings_cancel_window');_0x44f5f5&&(document['getElementById']('settingCancelWindow')['value']=_0x44f5f5);}function openRangesSheet(){closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet('rangesSheet');}function addRange(){const _0x16d8b1=a2_0x187a3a,_0x49e8eb=document[_0x16d8b1(0x30a)](_0x16d8b1(0x2a3))['value'],_0x5c50c3=document['getElementById'](_0x16d8b1(0x356))['value'],_0x5a21cc=document[_0x16d8b1(0x30a)](_0x16d8b1(0x30c))[_0x16d8b1(0x337)],_0x395ba1=document[_0x16d8b1(0x30a)]('rangeEndTime')[_0x16d8b1(0x337)];if(!_0x49e8eb||!_0x5c50c3||!_0x5a21cc||!_0x395ba1)return alert(_0x16d8b1(0x2d3));const _0x1197eb=_0x49e8eb+'T'+_0x5c50c3,_0x1ac3e4=_0x5a21cc+'T'+_0x395ba1;if(_0x1197eb>=_0x1ac3e4)return alert('–û—à–∏–±–∫–∞\x20–¥–∞—Ç');specialRanges[_0x16d8b1(0x2f1)]({'start':_0x1197eb,'end':_0x1ac3e4}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x16d8b1(0x1e1)](),DataManager[_0x16d8b1(0x2d0)](_0x16d8b1(0x2a4),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x445ac3){const _0x24d2b8=a2_0x187a3a;specialRanges[_0x24d2b8(0x1fa)](_0x445ac3,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x24d2b8(0x1e1)](),DataManager[_0x24d2b8(0x2d0)](_0x24d2b8(0x2a4),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x1e1161=a2_0x187a3a;document[_0x1e1161(0x30a)](_0x1e1161(0x2a3))['value']='',document[_0x1e1161(0x30a)](_0x1e1161(0x356))[_0x1e1161(0x337)]='00:00',document[_0x1e1161(0x30a)](_0x1e1161(0x30c))['value']='',document[_0x1e1161(0x30a)](_0x1e1161(0x2e1))[_0x1e1161(0x337)]=_0x1e1161(0x22c);}function renderRangesList(){const _0x4e421e=a2_0x187a3a,_0x2cc1c4=document[_0x4e421e(0x30a)]('rangesList');_0x2cc1c4[_0x4e421e(0x306)]='';if(!specialRanges[_0x4e421e(0x357)]){_0x2cc1c4[_0x4e421e(0x306)]='<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>';return;}specialRanges[_0x4e421e(0x315)]((_0x301cba,_0x188a3b)=>{const _0x5aab11=_0x4e421e,_0x38e273=document[_0x5aab11(0x22a)](_0x5aab11(0x346));_0x38e273[_0x5aab11(0x26c)]=_0x5aab11(0x310);const _0x254628=_0x17f6bb=>{const _0x4a946f=_0x5aab11,_0x3fae13=new Date(_0x17f6bb);return _0x3fae13[_0x4a946f(0x213)]()+'.'+String(_0x3fae13['getMonth']()+0x1)[_0x4a946f(0x216)](0x2,'0')+'\x20'+String(_0x3fae13['getHours']())[_0x4a946f(0x216)](0x2,'0')+':'+String(_0x3fae13[_0x4a946f(0x23f)]())[_0x4a946f(0x216)](0x2,'0');};_0x38e273[_0x5aab11(0x306)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>'+_0x254628(_0x301cba['start'])+_0x5aab11(0x1fd)+_0x254628(_0x301cba[_0x5aab11(0x2dc)])+_0x5aab11(0x251)+_0x188a3b+_0x5aab11(0x1fc),_0x2cc1c4[_0x5aab11(0x294)](_0x38e273);});}function scrollToToday(){const _0x686b7c=a2_0x187a3a,_0x2317f6=getLocalDateStr(new Date()),_0x220673=document['getElementById'](_0x686b7c(0x319)+_0x2317f6),_0x5e7f9e=document['getElementById'](_0x686b7c(0x256));if(_0x220673&&_0x5e7f9e){const _0x9f7a0c=_0x5e7f9e[_0x686b7c(0x29a)],_0x213d0e=_0x220673[_0x686b7c(0x33a)],_0x5d4ba3=_0x220673[_0x686b7c(0x263)];_0x5e7f9e['scrollLeft']=_0x213d0e-_0x9f7a0c/0x2+_0x5d4ba3/0x2,_0x5e7f9e[_0x686b7c(0x1f1)]=0x9*GRID_H;}}function onScroll(){const _0x460861=a2_0x187a3a,_0x4228f6=document['getElementById']('matrixViewport'),_0xec58cf=document[_0x460861(0x2d1)](_0x460861(0x22e));for(let _0x4e0bb5 of _0xec58cf)if(_0x4e0bb5[_0x460861(0x33a)]>=_0x4228f6[_0x460861(0x2f3)]){const _0x4f120e=new Date(_0x4e0bb5[_0x460861(0x229)]('data-date'));document[_0x460861(0x30a)](_0x460861(0x2eb))[_0x460861(0x2e4)]=_0x4f120e[_0x460861(0x335)]('ru',{'month':'long'})[_0x460861(0x1f2)]()+'\x20'+_0x4f120e[_0x460861(0x31c)]();break;}}function showToast(_0x5c7ba5,_0x2eac4d=![]){const _0x52cf93=a2_0x187a3a,_0x2b8e86=document[_0x52cf93(0x30a)](_0x52cf93(0x203));_0x2b8e86[_0x52cf93(0x26c)]=_0x52cf93(0x2cf)+(_0x2eac4d?_0x52cf93(0x334):''),document[_0x52cf93(0x30a)](_0x52cf93(0x221))[_0x52cf93(0x2e4)]=_0x2eac4d?'–£—Å–ø–µ—à–Ω–æ':_0x52cf93(0x269),document[_0x52cf93(0x30a)](_0x52cf93(0x327))[_0x52cf93(0x2e4)]=_0x5c7ba5,_0x2b8e86[_0x52cf93(0x236)][_0x52cf93(0x268)]('show'),setTimeout(()=>{const _0x2e466d=_0x52cf93;_0x2b8e86['classList'][_0x2e466d(0x2ec)](_0x2e466d(0x291));},0xbb8);}function openDayOptions(_0x38e4d9,_0x3c72af){const _0x19535c=a2_0x187a3a;selectedDayForOptions=_0x38e4d9,document['getElementById'](_0x19535c(0x2fe))[_0x19535c(0x2e4)]=_0x3c72af,openSheet(_0x19535c(0x343));}function toggleDayOff(){const _0x1519af=a2_0x187a3a;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]='off',reRenderBlocks(),closeAllSheets(),DataManager[_0x1519af(0x1e1)](),DataManager[_0x1519af(0x2d0)](_0x1519af(0x2a4),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x217abe=a2_0x187a3a;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x217abe(0x1e1)](),DataManager['fetchFromServer'](_0x217abe(0x2a4),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x2bc687){const _0x312fdd=a2_0x187a3a;document[_0x312fdd(0x30a)](_0x312fdd(0x25a))['classList'][_0x312fdd(0x268)](_0x312fdd(0x2ce)),document[_0x312fdd(0x30a)](_0x2bc687)[_0x312fdd(0x236)]['add']('open');}function closeAllSheets(){const _0x11dc68=a2_0x187a3a;document[_0x11dc68(0x30a)](_0x11dc68(0x25a))[_0x11dc68(0x236)][_0x11dc68(0x2ec)]('active'),document['querySelectorAll'](_0x11dc68(0x311))[_0x11dc68(0x315)](_0x28037c=>_0x28037c[_0x11dc68(0x236)][_0x11dc68(0x2ec)](_0x11dc68(0x254)));}function openPatternEditor(){const _0x94f5b9=a2_0x187a3a;closeAllSheets(),document[_0x94f5b9(0x30a)](_0x94f5b9(0x333))[_0x94f5b9(0x236)]['add']('open'),renderPatternEditor();}function closePatternEditor(){const _0x126a75=a2_0x187a3a;document['getElementById'](_0x126a75(0x333))['classList'][_0x126a75(0x2ec)](_0x126a75(0x254));}function savePattern(){const _0xdb3d74=a2_0x187a3a;document[_0xdb3d74(0x30a)](_0xdb3d74(0x333))[_0xdb3d74(0x236)][_0xdb3d74(0x2ec)](_0xdb3d74(0x254)),reRenderBlocks(),DataManager[_0xdb3d74(0x1e1)](),DataManager[_0xdb3d74(0x2d0)](_0xdb3d74(0x2a4),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x4eb13a=a2_0x187a3a,_0x5d4413=document[_0x4eb13a(0x30a)]('peGrid');_0x5d4413[_0x4eb13a(0x306)]='';const _0x399a40=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x47c008=document['createElement']('div');_0x47c008[_0x4eb13a(0x26c)]=_0x4eb13a(0x2e6),_0x5d4413[_0x4eb13a(0x294)](_0x47c008),_0x399a40[_0x4eb13a(0x315)]((_0x4de0a6,_0x2d64d9)=>{const _0x48bf56=_0x4eb13a,_0x40971f=document[_0x48bf56(0x22a)](_0x48bf56(0x346));_0x40971f[_0x48bf56(0x26c)]=_0x48bf56(0x24d),_0x40971f['innerHTML']=_0x4de0a6+_0x48bf56(0x202),_0x40971f['onclick']=()=>toggleColPattern(_0x2d64d9),_0x5d4413[_0x48bf56(0x294)](_0x40971f);});for(let _0x25a3fe=0x0;_0x25a3fe<0x18;_0x25a3fe++){const _0x4e23ba=document[_0x4eb13a(0x22a)](_0x4eb13a(0x346));_0x4e23ba['className']='pe-time-label',_0x4e23ba[_0x4eb13a(0x306)]=_0x4eb13a(0x28d)+String(_0x25a3fe)[_0x4eb13a(0x216)](0x2,'0')+_0x4eb13a(0x2c5),_0x4e23ba['onclick']=()=>toggleRowPattern(_0x25a3fe),_0x5d4413[_0x4eb13a(0x294)](_0x4e23ba);for(let _0xbbcff2=0x0;_0xbbcff2<0x7;_0xbbcff2++){const _0x1b6316=document[_0x4eb13a(0x22a)](_0x4eb13a(0x346)),_0x22afde=(availabilityPattern[_0xbbcff2]||[])[_0x4eb13a(0x2e2)](_0x25a3fe),_0x497d6f=!_0x22afde;_0x1b6316[_0x4eb13a(0x26c)]=_0x4eb13a(0x265)+(_0x497d6f?'active':''),_0x1b6316[_0x4eb13a(0x34f)]=()=>toggleSinglePattern(_0xbbcff2,_0x25a3fe),_0x5d4413[_0x4eb13a(0x294)](_0x1b6316);}}}function toggleSinglePattern(_0x244514,_0x4d1c29){const _0x2fce69=a2_0x187a3a;if(!availabilityPattern[_0x244514])availabilityPattern[_0x244514]=[];const _0x34689c=availabilityPattern[_0x244514],_0x5c8ee5=_0x34689c[_0x2fce69(0x1e8)](_0x4d1c29);_0x5c8ee5===-0x1?_0x34689c['push'](_0x4d1c29):_0x34689c[_0x2fce69(0x1fa)](_0x5c8ee5,0x1),renderPatternEditor();}function toggleColPattern(_0x578f8b){if(!availabilityPattern[_0x578f8b])availabilityPattern[_0x578f8b]=[];const _0x5bec5e=availabilityPattern[_0x578f8b];_0x5bec5e['length']===0x0?availabilityPattern[_0x578f8b]=Array['from']({'length':0x18},(_0x57043b,_0x8c2c2f)=>_0x8c2c2f):availabilityPattern[_0x578f8b]=[],renderPatternEditor();}function toggleRowPattern(_0xac4341){const _0x164d2c=a2_0x187a3a;let _0x25d4c0=!![];for(let _0x1d3ee5=0x0;_0x1d3ee5<0x7;_0x1d3ee5++){if((availabilityPattern[_0x1d3ee5]||[])['includes'](_0xac4341)){_0x25d4c0=![];break;}}for(let _0x3a9728=0x0;_0x3a9728<0x7;_0x3a9728++){if(!availabilityPattern[_0x3a9728])availabilityPattern[_0x3a9728]=[];const _0x2655e9=availabilityPattern[_0x3a9728][_0x164d2c(0x1e8)](_0xac4341);if(_0x25d4c0){if(_0x2655e9===-0x1)availabilityPattern[_0x3a9728][_0x164d2c(0x2f1)](_0xac4341);}else{if(_0x2655e9!==-0x1)availabilityPattern[_0x3a9728][_0x164d2c(0x1fa)](_0x2655e9,0x1);}}renderPatternEditor();}function renderPCol(_0x1c935a,_0x45717c){const _0x1e402c=a2_0x187a3a;_0x1c935a[_0x1e402c(0x306)]='';const _0xf775e4=Math['round'](_0x1c935a[_0x1e402c(0x33a)]);(availabilityPattern[_0x45717c]||[])['forEach'](_0x5b9fc4=>{const _0x4c93db=_0x1e402c,_0x5adb62=document[_0x4c93db(0x22a)](_0x4c93db(0x346));_0x5adb62[_0x4c93db(0x26c)]='blocked-slot\x20stripe-bg';const _0x4c9174=_0x5b9fc4*GRID_H;_0x5adb62['style'][_0x4c93db(0x34e)]=_0x4c9174+'px',_0x5adb62[_0x4c93db(0x244)]['backgroundPosition']='-'+_0xf775e4+_0x4c93db(0x316)+_0x4c9174+'px',_0x5adb62[_0x4c93db(0x34f)]=_0x309a95=>{const _0x58afbb=_0x4c93db;_0x309a95[_0x58afbb(0x26b)](),toggleSinglePattern(_0x45717c,_0x5b9fc4);},_0x1c935a[_0x4c93db(0x294)](_0x5adb62);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x9fb0f1=a2_0x187a3a,_0x2e9cb6=new Date(),_0x9255ec=document[_0x9fb0f1(0x30a)](_0x9fb0f1(0x279)),_0x2e6770=document['getElementById'](_0x9fb0f1(0x2a9)),_0x21ecaf=(_0x2e9cb6['getHours']()*0x3c+_0x2e9cb6['getMinutes']())/0x3c*GRID_H;_0x9255ec['style'][_0x9fb0f1(0x34e)]=_0x21ecaf+'px',_0x9255ec[_0x9fb0f1(0x244)][_0x9fb0f1(0x2c1)]=_0x9fb0f1(0x280),_0x2e6770[_0x9fb0f1(0x2e4)]=String(_0x2e9cb6[_0x9fb0f1(0x234)]())[_0x9fb0f1(0x216)](0x2,'0')+':'+String(_0x2e9cb6[_0x9fb0f1(0x23f)]())[_0x9fb0f1(0x216)](0x2,'0'),_0x2e6770[_0x9fb0f1(0x244)][_0x9fb0f1(0x2c1)]=_0x9fb0f1(0x280),_0x2e6770[_0x9fb0f1(0x244)][_0x9fb0f1(0x34e)]=_0x21ecaf+'px';}document[a2_0x187a3a(0x332)](a2_0x187a3a(0x2b4),init);function openDayOptions(_0x5bc044){const _0x1c84f5=a2_0x187a3a;selectedDayForOptions=_0x5bc044;const _0x4c45b5=new Date(_0x5bc044),_0x5ba573={'weekday':_0x1c84f5(0x21c),'day':_0x1c84f5(0x211),'month':_0x1c84f5(0x21c),'year':_0x1c84f5(0x211)},_0x69ba57=_0x4c45b5[_0x1c84f5(0x309)]('ru-RU',_0x5ba573);document[_0x1c84f5(0x30a)](_0x1c84f5(0x2c8))['textContent']=_0x69ba57[_0x1c84f5(0x2aa)](0x0)[_0x1c84f5(0x1f2)]()+_0x69ba57[_0x1c84f5(0x322)](0x1);let _0x3bbe3e=_0x4c45b5['getDay']()-0x1;if(_0x3bbe3e===-0x1)_0x3bbe3e=0x6;const _0x1fe624=availabilityPattern[_0x3bbe3e]||[],_0x25efba=0x18-_0x1fe624['length'],_0x12bd07=_0x25efba*0x3c,_0x1ad902=sessions[_0x1c84f5(0x338)](_0x32be4b=>_0x32be4b[_0x1c84f5(0x2fd)]===_0x5bc044&&_0x32be4b[_0x1c84f5(0x35e)]!=='cancelled');let _0x5f4d62=_0x1ad902['map'](_0x7d7fb0=>{const _0x4a0c36=_0x1c84f5,[_0x4f57ac,_0x1f5c1a]=_0x7d7fb0['start']['split'](':')[_0x4a0c36(0x32d)](Number),[_0x4bbb5b,_0x3f9fbc]=_0x7d7fb0[_0x4a0c36(0x2dc)]['split'](':')[_0x4a0c36(0x32d)](Number);return[_0x4f57ac*0x3c+_0x1f5c1a,_0x4bbb5b*0x3c+_0x3f9fbc];});_0x5f4d62[_0x1c84f5(0x2c4)]((_0x3c3eca,_0x19513e)=>_0x3c3eca[0x0]-_0x19513e[0x0]);let _0x5e269c=[];if(_0x5f4d62[_0x1c84f5(0x357)]>0x0){let _0x438c1c=_0x5f4d62[0x0];for(let _0x1e7421=0x1;_0x1e7421<_0x5f4d62['length'];_0x1e7421++){_0x5f4d62[_0x1e7421][0x0]<_0x438c1c[0x1]?_0x438c1c[0x1]=Math[_0x1c84f5(0x286)](_0x438c1c[0x1],_0x5f4d62[_0x1e7421][0x1]):(_0x5e269c[_0x1c84f5(0x2f1)](_0x438c1c),_0x438c1c=_0x5f4d62[_0x1e7421]);}_0x5e269c[_0x1c84f5(0x2f1)](_0x438c1c);}let _0x185bbd=0x0;_0x5e269c[_0x1c84f5(0x315)](_0x44d8d4=>_0x185bbd+=_0x44d8d4[0x1]-_0x44d8d4[0x0]),document['getElementById'](_0x1c84f5(0x27a))['textContent']=formatMinsToHrs(_0x12bd07),document[_0x1c84f5(0x30a)](_0x1c84f5(0x312))['textContent']=formatMinsToHrs(_0x185bbd);const _0x1fc07c=_0x12bd07>0x0?Math['round'](_0x185bbd/_0x12bd07*0x64):0x0,_0x52ea55=document['getElementById'](_0x1c84f5(0x24c));_0x52ea55[_0x1c84f5(0x2e4)]=_0x1fc07c+'%';const _0x3d2847=document[_0x1c84f5(0x30a)]('statLoadCard');if(_0x1fc07c>0x64)_0x52ea55[_0x1c84f5(0x244)]['color']=_0x1c84f5(0x2ee),_0x3d2847[_0x1c84f5(0x244)][_0x1c84f5(0x23b)]=_0x1c84f5(0x240);else _0x1fc07c>0x50?(_0x52ea55[_0x1c84f5(0x244)]['color']=_0x1c84f5(0x258),_0x3d2847[_0x1c84f5(0x244)][_0x1c84f5(0x23b)]='rgba(255,\x20159,\x2010,\x200.3)'):(_0x52ea55['style'][_0x1c84f5(0x292)]='var(--acc-green)',_0x3d2847[_0x1c84f5(0x244)][_0x1c84f5(0x23b)]=_0x1c84f5(0x1f6));const _0x44a836=document['getElementById'](_0x1c84f5(0x290));_0x44a836[_0x1c84f5(0x306)]='';_0x1ad902[_0x1c84f5(0x357)]===0x0?_0x44a836[_0x1c84f5(0x306)]=_0x1c84f5(0x2ef):(_0x1ad902[_0x1c84f5(0x2c4)]((_0x5786f0,_0x185155)=>_0x5786f0[_0x1c84f5(0x2ba)]['localeCompare'](_0x185155[_0x1c84f5(0x2ba)])),_0x1ad902[_0x1c84f5(0x315)](_0x4de839=>{const _0xc0f83c=_0x1c84f5,_0x5bcccb=clients[_0xc0f83c(0x24b)](_0x42dd2e=>_0x42dd2e[_0xc0f83c(0x2cc)]===_0x4de839['client']),_0x2783c3=_0x5bcccb?_0x5bcccb[_0xc0f83c(0x292)]:_0xc0f83c(0x348),_0x163cc7=_0x4de839[_0xc0f83c(0x35e)]==='completed',_0x57e45a=_0x163cc7?'<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>':'',_0x3f2efe=document[_0xc0f83c(0x22a)]('div');_0x3f2efe[_0xc0f83c(0x26c)]=_0xc0f83c(0x2fa),_0x3f2efe['style']['borderLeftColor']=_0x2783c3,_0x3f2efe[_0xc0f83c(0x306)]=_0xc0f83c(0x33b)+_0x4de839['start']+_0xc0f83c(0x2fb)+_0x4de839[_0xc0f83c(0x2dc)]+_0xc0f83c(0x2a8)+_0x4de839['client']+_0xc0f83c(0x305)+_0x57e45a+_0xc0f83c(0x29b),_0x44a836[_0xc0f83c(0x294)](_0x3f2efe);}));const _0x408157=document[_0x1c84f5(0x30a)](_0x1c84f5(0x2f7)),_0x2c8b72=dateExceptions[_0x5bc044]===_0x1c84f5(0x2da);_0x2c8b72?(_0x408157[_0x1c84f5(0x2e4)]='–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º',_0x408157['className']=_0x1c84f5(0x2a0),_0x408157[_0x1c84f5(0x244)][_0x1c84f5(0x292)]='var(--acc-green)',_0x408157[_0x1c84f5(0x244)][_0x1c84f5(0x339)]=_0x1c84f5(0x1e9)):(_0x408157[_0x1c84f5(0x2e4)]=_0x1c84f5(0x275),_0x408157[_0x1c84f5(0x26c)]=_0x1c84f5(0x2c0),_0x408157['style']['color']='var(--acc-red)',_0x408157[_0x1c84f5(0x244)][_0x1c84f5(0x339)]=_0x1c84f5(0x35d)),openSheet(_0x1c84f5(0x343));}let currentAnPeriod=a2_0x187a3a(0x245);function openAnalytics(){const _0xf08759=a2_0x187a3a,_0x4062cc=document[_0xf08759(0x22f)](_0xf08759(0x2d5));setAnalyticsPeriod(_0xf08759(0x245),_0x4062cc),closeAllSheets(),openSheet(_0xf08759(0x2cd));}function setAnalyticsPeriod(_0x39e2a0,_0x3b4d5f){const _0x414ad5=a2_0x187a3a;currentAnPeriod=_0x39e2a0,document[_0x414ad5(0x2d1)]('.period-switch\x20.p-btn')[_0x414ad5(0x315)](_0x3e2551=>_0x3e2551[_0x414ad5(0x236)][_0x414ad5(0x2ec)](_0x414ad5(0x2ce)));if(_0x3b4d5f)_0x3b4d5f[_0x414ad5(0x236)][_0x414ad5(0x268)](_0x414ad5(0x2ce));const _0x49b819=document[_0x414ad5(0x30a)](_0x414ad5(0x34d));_0x49b819[_0x414ad5(0x244)][_0x414ad5(0x2c1)]=_0x39e2a0===_0x414ad5(0x2bc)?_0x414ad5(0x2f5):'none';const _0x41cad0=new Date();let _0x54ab1f=new Date(),_0x39e7c8=new Date();if(_0x39e2a0==='week')_0x54ab1f=getStartOfWeek(_0x41cad0),_0x39e7c8=new Date(_0x54ab1f),_0x39e7c8['setDate'](_0x39e7c8['getDate']()+0x6);else{if(_0x39e2a0===_0x414ad5(0x314))_0x54ab1f=new Date(_0x41cad0[_0x414ad5(0x31c)](),_0x41cad0[_0x414ad5(0x2a7)](),0x1),_0x39e7c8=new Date(_0x41cad0[_0x414ad5(0x31c)](),_0x41cad0[_0x414ad5(0x2a7)]()+0x1,0x0);else{!document[_0x414ad5(0x30a)](_0x414ad5(0x24e))[_0x414ad5(0x337)]&&(document[_0x414ad5(0x30a)](_0x414ad5(0x24e))['value']=getLocalDateStr(_0x41cad0),document[_0x414ad5(0x30a)]('anEnd')[_0x414ad5(0x337)]=getLocalDateStr(_0x41cad0));refreshAnalytics();return;}}document[_0x414ad5(0x30a)]('anStart')[_0x414ad5(0x337)]=getLocalDateStr(_0x54ab1f),document[_0x414ad5(0x30a)](_0x414ad5(0x2f9))[_0x414ad5(0x337)]=getLocalDateStr(_0x39e7c8),refreshAnalytics();}function refreshAnalytics(){const _0x4b9524=a2_0x187a3a,_0x3b4741=document[_0x4b9524(0x30a)](_0x4b9524(0x24e))[_0x4b9524(0x337)],_0x28137d=document['getElementById'](_0x4b9524(0x2f9))[_0x4b9524(0x337)];if(!_0x3b4741||!_0x28137d)return;const _0x456397=sessions[_0x4b9524(0x338)](_0x1153b5=>_0x1153b5[_0x4b9524(0x2fd)]>=_0x3b4741&&_0x1153b5['dateStr']<=_0x28137d&&_0x1153b5[_0x4b9524(0x35e)]!==_0x4b9524(0x20d)),_0x165a26=_0x456397[_0x4b9524(0x357)],_0x5f3728=_0x456397[_0x4b9524(0x338)](_0x520ded=>_0x520ded[_0x4b9524(0x35e)]===_0x4b9524(0x25b))[_0x4b9524(0x357)],_0xf391cb=_0x165a26>0x0?Math[_0x4b9524(0x2dd)](_0x5f3728/_0x165a26*0x64):0x0;document[_0x4b9524(0x30a)](_0x4b9524(0x1e4))[_0x4b9524(0x2e4)]=_0xf391cb+'%',document['getElementById']('anTotalStats')[_0x4b9524(0x2e4)]=_0x5f3728+_0x4b9524(0x2d9)+_0x165a26+_0x4b9524(0x30f);const _0x50660b=document['getElementById']('anDonutCircle'),_0x378e57=0x2*Math['PI']*0x23,_0x32c8dd=_0x378e57-_0xf391cb/0x64*_0x378e57;_0x50660b['style'][_0x4b9524(0x295)]=_0x32c8dd;const _0x4aab27={};_0x456397[_0x4b9524(0x315)](_0x1c4653=>{const _0x48a554=_0x4b9524;if(!_0x4aab27[_0x1c4653[_0x48a554(0x1f3)]]){const _0x2699a3=clients[_0x48a554(0x24b)](_0x1f0b28=>_0x1f0b28['name']===_0x1c4653[_0x48a554(0x1f3)]);_0x4aab27[_0x1c4653[_0x48a554(0x1f3)]]={'total':0x0,'done':0x0,'color':_0x2699a3?_0x2699a3['color']:_0x48a554(0x348)};}_0x4aab27[_0x1c4653[_0x48a554(0x1f3)]]['total']++;if(_0x1c4653[_0x48a554(0x35e)]==='completed')_0x4aab27[_0x1c4653[_0x48a554(0x1f3)]]['done']++;});const _0x3a5795=document['getElementById'](_0x4b9524(0x2b1));_0x3a5795[_0x4b9524(0x306)]='';const _0x1cdd14=Object[_0x4b9524(0x2ad)](_0x4aab27)['sort']((_0x42a269,_0x447ece)=>_0x447ece[0x1][_0x4b9524(0x301)]-_0x42a269[0x1][_0x4b9524(0x301)]);if(_0x1cdd14[_0x4b9524(0x357)]===0x0){_0x3a5795['innerHTML']=_0x4b9524(0x228);return;}_0x1cdd14[_0x4b9524(0x315)](([_0x518616,_0x5070c5])=>{const _0x26c848=_0x4b9524,_0x5ef276=Math[_0x26c848(0x2dd)](_0x5070c5[_0x26c848(0x28f)]/_0x5070c5[_0x26c848(0x301)]*0x64),_0x1b70aa=document[_0x26c848(0x22a)]('div');_0x1b70aa[_0x26c848(0x26c)]='client-stat-card',_0x1b70aa[_0x26c848(0x244)][_0x26c848(0x31a)]=_0x5070c5[_0x26c848(0x292)],_0x1b70aa['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>'+_0x518616+_0x26c848(0x1ee)+_0x5070c5[_0x26c848(0x28f)]+_0x26c848(0x304)+_0x5070c5[_0x26c848(0x301)]+_0x26c848(0x219)+_0x5ef276+_0x26c848(0x24f),_0x3a5795[_0x26c848(0x294)](_0x1b70aa);});}function a2_0x43c9(_0x51f0df,_0x2b967a){_0x51f0df=_0x51f0df-0x1dd;const _0x3afd0d=a2_0x43af();let _0x461668=_0x3afd0d[_0x51f0df];return _0x461668;}function formatMinsToHrs(_0x3d12fa){const _0x10d138=a2_0x187a3a;if(_0x3d12fa===0x0)return'0';const _0x33f170=Math[_0x10d138(0x22b)](_0x3d12fa/0x3c),_0xe215e9=_0x3d12fa%0x3c;if(_0xe215e9===0x0)return _0x33f170+'—á';return _0x33f170+'—á\x20'+_0xe215e9+'–º';}