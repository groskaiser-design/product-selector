const a2_0x539d8b=a2_0x30c1;(function(_0x2f5dd4,_0x1d80e6){const _0x4201bd=a2_0x30c1,_0x21e70f=_0x2f5dd4();while(!![]){try{const _0xda472c=parseInt(_0x4201bd(0x328))/0x1*(parseInt(_0x4201bd(0x2b2))/0x2)+parseInt(_0x4201bd(0x281))/0x3+parseInt(_0x4201bd(0x1f2))/0x4+-parseInt(_0x4201bd(0x2ed))/0x5*(parseInt(_0x4201bd(0x1e9))/0x6)+-parseInt(_0x4201bd(0x2a0))/0x7+-parseInt(_0x4201bd(0x2ea))/0x8+-parseInt(_0x4201bd(0x2bf))/0x9;if(_0xda472c===_0x1d80e6)break;else _0x21e70f['push'](_0x21e70f['shift']());}catch(_0x481b06){_0x21e70f['push'](_0x21e70f['shift']());}}}(a2_0x5c7c,0xea9e1),function initTMA(){const _0x53f17a=a2_0x30c1;try{const _0x4190c1=window['Telegram']?.[_0x53f17a(0x23b)];if(!_0x4190c1)return;_0x4190c1[_0x53f17a(0x341)](),_0x4190c1[_0x53f17a(0x305)]();try{_0x4190c1['setHeaderColor'](_0x53f17a(0x250)),_0x4190c1[_0x53f17a(0x270)]&&_0x4190c1['setBackgroundColor'](_0x53f17a(0x250));}catch(_0x527de8){console[_0x53f17a(0x29b)](_0x53f17a(0x322),_0x527de8);}try{_0x4190c1[_0x53f17a(0x264)]&&(_0x4190c1[_0x53f17a(0x264)][_0x53f17a(0x24b)](),_0x4190c1[_0x53f17a(0x264)][_0x53f17a(0x243)](),_0x4190c1[_0x53f17a(0x264)][_0x53f17a(0x222)](function(){window['location']['href']='router.html';}));}catch(_0x1d2810){console['log'](_0x53f17a(0x20f),_0x1d2810);}try{if(_0x4190c1['disableVerticalSwipes'])_0x4190c1['disableVerticalSwipes']();}catch(_0x51cb96){}}catch(_0x2a9d40){console[_0x53f17a(0x31e)]('Critical\x20TMA\x20Error:',_0x2a9d40);}}());function isAdmin(){const _0x4e26fd=a2_0x30c1;try{const _0x839945=Number(window[_0x4e26fd(0x23d)]?.[_0x4e26fd(0x23b)]?.[_0x4e26fd(0x30a)]?.[_0x4e26fd(0x28d)]?.['id']);return _0x839945===0xbaf7174;}catch(_0x403ec1){return![];}}const APP_VERSION=a2_0x539d8b(0x2a5),API_URL=a2_0x539d8b(0x346),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x539d8b(0x230),KEY_SESSIONS=a2_0x539d8b(0x1d1),KEY_SETTINGS=a2_0x539d8b(0x1cf);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x589472=a2_0x539d8b;return window[_0x589472(0x23d)]?.[_0x589472(0x23b)]?.['initDataUnsafe']?.[_0x589472(0x28d)]?.['id']||_0x589472(0x1c4);},'saveLocally'(){const _0x5981cd=a2_0x539d8b;try{localStorage[_0x5981cd(0x21f)](KEY_CLIENTS,JSON[_0x5981cd(0x292)](clients)),localStorage[_0x5981cd(0x21f)](KEY_SESSIONS,JSON['stringify'](sessions)),localStorage['setItem'](KEY_SETTINGS,JSON[_0x5981cd(0x292)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0xf80b83){console[_0x5981cd(0x31e)]('Local\x20Save\x20Error',_0xf80b83);}},'loadLocal'(){const _0x31a3e3=a2_0x539d8b;try{const _0x5ad519=localStorage['getItem'](KEY_CLIENTS);if(_0x5ad519)clients=JSON['parse'](_0x5ad519);const _0x299291=localStorage['getItem'](KEY_SESSIONS);if(_0x299291)sessions=JSON['parse'](_0x299291);const _0x5ce0a4=localStorage['getItem'](KEY_SETTINGS);if(_0x5ce0a4){const _0x42e082=JSON[_0x31a3e3(0x330)](_0x5ce0a4);if(_0x42e082[_0x31a3e3(0x2b1)])availabilityPattern=_0x42e082['pattern'];if(_0x42e082[_0x31a3e3(0x31b)])dateExceptions=_0x42e082[_0x31a3e3(0x31b)];if(_0x42e082[_0x31a3e3(0x25a)])specialRanges=_0x42e082[_0x31a3e3(0x25a)];}else{for(let _0x54b76e=0x0;_0x54b76e<0x7;_0x54b76e++)availabilityPattern[_0x54b76e]=Array[_0x31a3e3(0x1fb)]({'length':0xc},(_0x2c50d1,_0x133e88)=>_0x133e88+0x9);}}catch(_0x1b0954){console[_0x31a3e3(0x31e)](_0x31a3e3(0x338),_0x1b0954);}},async 'fetchFromServer'(_0x55f1b2,_0x3f2a93={}){const _0x231c3e=a2_0x539d8b,_0x5adbf9=window[_0x231c3e(0x23d)]?.[_0x231c3e(0x23b)],_0x1bbef7={'action':_0x55f1b2,'init_data':_0x5adbf9?.[_0x231c3e(0x229)]||'',..._0x3f2a93};try{const _0x2f54de=await fetch(API_URL,{'method':_0x231c3e(0x258),'headers':{'Content-Type':'text/plain;charset=UTF-8'},'body':JSON[_0x231c3e(0x292)](_0x1bbef7)}),_0x24a102=await _0x2f54de[_0x231c3e(0x2a4)]();if(!_0x24a102['ok'])throw new Error(_0x24a102[_0x231c3e(0x31e)]||_0x231c3e(0x1d7));return _0x24a102[_0x231c3e(0x2b4)];}catch(_0x2c53ca){console['error'](_0x231c3e(0x2c7)+_0x55f1b2+_0x231c3e(0x313),_0x2c53ca);throw _0x2c53ca;}},async 'syncLoad'(){const _0x196fb4=a2_0x539d8b,_0x1c68a5=new Date(),_0x41b181=_0x1c68a5[_0x196fb4(0x272)]()+'-'+String(_0x1c68a5[_0x196fb4(0x278)]()+0x1)[_0x196fb4(0x214)](0x2,'0'),_0x10ee3=new Date(_0x1c68a5);_0x10ee3[_0x196fb4(0x2cf)](_0x1c68a5[_0x196fb4(0x278)]()+0x1);const _0x383b55=_0x10ee3[_0x196fb4(0x272)]()+'-'+String(_0x10ee3[_0x196fb4(0x278)]()+0x1)[_0x196fb4(0x214)](0x2,'0'),_0x1a7c06=Date[_0x196fb4(0x22a)]();console[_0x196fb4(0x29b)]('[Sync]\x20Loading\x20'+_0x41b181+',\x20'+_0x383b55+_0x196fb4(0x1e2));try{const [_0xd68a41,_0x4f24a8]=await Promise[_0x196fb4(0x301)]([this[_0x196fb4(0x1c2)](_0x196fb4(0x318),{'month_str':_0x41b181}),this[_0x196fb4(0x1c2)](_0x196fb4(0x318),{'month_str':_0x383b55})]);if(lastUserActionTime>_0x1a7c06)return console[_0x196fb4(0x1e6)](_0x196fb4(0x1e4)),![];return this[_0x196fb4(0x314)](_0xd68a41,_0x41b181),this[_0x196fb4(0x314)](_0x4f24a8,_0x383b55),this[_0x196fb4(0x344)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x49bec2){console[_0x196fb4(0x31e)](_0x49bec2);throw _0x49bec2;}},'mergeServerData'(_0x3f1ba5,_0x46edc5){const _0x2ea72a=a2_0x539d8b;if(!_0x3f1ba5)return;_0x3f1ba5['clients']&&Array[_0x2ea72a(0x26f)](_0x3f1ba5['clients'])&&(clients=_0x3f1ba5[_0x2ea72a(0x30d)]);if(_0x3f1ba5[_0x2ea72a(0x2ae)]){if(_0x3f1ba5['settings'][_0x2ea72a(0x2b1)])availabilityPattern=_0x3f1ba5[_0x2ea72a(0x2ae)][_0x2ea72a(0x2b1)];if(_0x3f1ba5[_0x2ea72a(0x2ae)][_0x2ea72a(0x31b)])dateExceptions=_0x3f1ba5[_0x2ea72a(0x2ae)]['exceptions'];if(_0x3f1ba5[_0x2ea72a(0x2ae)][_0x2ea72a(0x25a)])specialRanges=_0x3f1ba5['settings'][_0x2ea72a(0x25a)];if(_0x3f1ba5[_0x2ea72a(0x2ae)][_0x2ea72a(0x23f)]){localStorage[_0x2ea72a(0x21f)](_0x2ea72a(0x212),_0x3f1ba5['settings'][_0x2ea72a(0x23f)]);const _0xf07fda=document[_0x2ea72a(0x274)](_0x2ea72a(0x279));if(_0xf07fda)_0xf07fda[_0x2ea72a(0x1de)]=_0x3f1ba5[_0x2ea72a(0x2ae)][_0x2ea72a(0x23f)];}}_0x3f1ba5[_0x2ea72a(0x28f)]&&(sessions=sessions[_0x2ea72a(0x209)](_0xbc2e35=>!_0xbc2e35[_0x2ea72a(0x28e)][_0x2ea72a(0x27a)](_0x46edc5)),Object[_0x2ea72a(0x202)](_0x3f1ba5['calendar'])[_0x2ea72a(0x290)](_0x85de7d=>{const _0x3c6714=_0x2ea72a,_0x30cef2=_0x3f1ba5[_0x3c6714(0x28f)][_0x85de7d];_0x30cef2['forEach'](_0x169c7b=>{const _0x47cd6a=_0x3c6714,_0x44653c=clients['find'](_0x442e10=>String(_0x442e10['id'])===String(_0x169c7b['c']));sessions[_0x47cd6a(0x24a)]({'id':_0x169c7b['i'],'clientId':_0x169c7b['c'],'client':_0x44653c?_0x44653c[_0x47cd6a(0x2f2)]:_0x47cd6a(0x32f),'dateStr':_0x46edc5+'-'+_0x85de7d[_0x47cd6a(0x214)](0x2,'0'),'start':_0x169c7b['s'],'end':_0x169c7b['e'],'status':_0x169c7b['st']||_0x47cd6a(0x1ca),'note':_0x169c7b['n']||'','seriesId':_0x169c7b[_0x47cd6a(0x33f)]||null});});}));},async 'syncBatch'(_0x2988e5){const _0x3451e0=a2_0x539d8b,_0x173713=[...new Set(_0x2988e5)],_0x3cdb3c=_0x173713[_0x3451e0(0x339)](_0x4842f1=>{const _0x48381d=_0x3451e0,_0x3b8f65=sessions[_0x48381d(0x209)](_0x13f998=>_0x13f998[_0x48381d(0x28e)]===_0x4842f1&&_0x13f998[_0x48381d(0x276)]!==_0x48381d(0x210)),_0x34d4a0=_0x3b8f65[_0x48381d(0x339)](_0x10957d=>({'i':_0x10957d['id'],'c':_0x10957d[_0x48381d(0x22d)],'s':_0x10957d[_0x48381d(0x2e8)],'e':_0x10957d[_0x48381d(0x1d4)],'st':_0x10957d[_0x48381d(0x276)],'n':_0x10957d['note'],'sid':_0x10957d['seriesId']}));return{'date':_0x4842f1,'day_data':_0x34d4a0};});if(_0x3cdb3c[_0x3451e0(0x2db)]===0x0)return;console[_0x3451e0(0x29b)](_0x3451e0(0x29e)+_0x3cdb3c[_0x3451e0(0x2db)]+_0x3451e0(0x262)),await this[_0x3451e0(0x1c2)](_0x3451e0(0x327),{'changes':_0x3cdb3c});}};async function init(){const _0x46c8f5=a2_0x539d8b;DataManager[_0x46c8f5(0x28c)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById'](_0x46c8f5(0x275))['addEventListener'](_0x46c8f5(0x2cc),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']()[_0x46c8f5(0x2d0)](()=>{const _0x44899e=_0x46c8f5;showToast(_0x44899e(0x20a),!![]);})[_0x46c8f5(0x28b)](_0x482224=>{const _0x29026b=_0x46c8f5;showToast(_0x29026b(0x211),![]);});}function generateId(){const _0x586b7=a2_0x539d8b;return Date['now']()[_0x586b7(0x2f6)](0x24)+Math[_0x586b7(0x1d3)]()[_0x586b7(0x2f6)](0x24)['substr'](0x2,0x5);}function toggleSeriesInput(){const _0x2ca0cb=a2_0x539d8b,_0x26aaff=document[_0x2ca0cb(0x274)](_0x2ca0cb(0x2ab))[_0x2ca0cb(0x1f1)],_0x55a765=document[_0x2ca0cb(0x274)](_0x2ca0cb(0x2c2));_0x55a765[_0x2ca0cb(0x267)][_0x2ca0cb(0x1fa)]=_0x26aaff?_0x2ca0cb(0x2d1):_0x2ca0cb(0x2f3);const _0x5535b2=document['getElementById'](_0x2ca0cb(0x2c5));_0x5535b2[_0x2ca0cb(0x267)][_0x2ca0cb(0x1dc)]=_0x26aaff?_0x2ca0cb(0x342):_0x2ca0cb(0x2b8);}function a2_0x30c1(_0x31bb51,_0x40061b){_0x31bb51=_0x31bb51-0x1b9;const _0x5da299=a2_0x5c7c();let _0x367e34=_0x5da299[_0x31bb51];return _0x367e34;}function openAddSession(_0x3c3552){const _0x115413=a2_0x539d8b;editingId=null,populateClientSelect(),document['getElementById'](_0x115413(0x1dd))[_0x115413(0x239)]=_0x115413(0x25f),document[_0x115413(0x274)](_0x115413(0x265))[_0x115413(0x267)]['display']=_0x115413(0x2f3),document[_0x115413(0x274)](_0x115413(0x1f4))[_0x115413(0x267)][_0x115413(0x1fa)]=_0x115413(0x2f3);const _0x37d017=document[_0x115413(0x274)](_0x115413(0x2c5)),_0x2c87e2=document[_0x115413(0x274)](_0x115413(0x2c2));_0x37d017['style'][_0x115413(0x1fa)]=_0x115413(0x324),_0x37d017[_0x115413(0x267)][_0x115413(0x1dc)]=_0x115413(0x2b8),document[_0x115413(0x274)](_0x115413(0x2ab))['checked']=![],document['getElementById'](_0x115413(0x1c9))[_0x115413(0x1de)]=0x4,_0x2c87e2[_0x115413(0x267)][_0x115413(0x1fa)]=_0x115413(0x2f3),document[_0x115413(0x274)]('inpDate')['value']=getLocalDateStr(_0x3c3552),updateDateDisplay();const _0x68e96f=_0x3c3552[_0x115413(0x1ff)]();document[_0x115413(0x274)](_0x115413(0x1b9))[_0x115413(0x1de)]=String(_0x68e96f)[_0x115413(0x214)](0x2,'0')+_0x115413(0x312),document[_0x115413(0x274)](_0x115413(0x246))[_0x115413(0x1de)]=String(_0x68e96f+0x1)['padStart'](0x2,'0')+_0x115413(0x312),openSheet(_0x115413(0x2e7));}function openEdit(_0x2cef71){const _0x499e06=a2_0x539d8b;editingId=_0x2cef71['id'],populateClientSelect(),document[_0x499e06(0x274)](_0x499e06(0x1dd))['textContent']='–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å',document[_0x499e06(0x274)]('btnDelete')['style'][_0x499e06(0x1fa)]=_0x499e06(0x2d1);const _0x1c9438=document[_0x499e06(0x274)](_0x499e06(0x1f4));_0x1c9438[_0x499e06(0x267)][_0x499e06(0x1fa)]=_0x499e06(0x324);_0x2cef71[_0x499e06(0x276)]==='completed'?(_0x1c9438[_0x499e06(0x23e)]=_0x499e06(0x2f4),_0x1c9438[_0x499e06(0x256)]='–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ'):(_0x1c9438['className']=_0x499e06(0x1bf),_0x1c9438[_0x499e06(0x256)]=_0x499e06(0x1f3));const _0x235c53=!!_0x2cef71[_0x499e06(0x233)];document[_0x499e06(0x274)](_0x499e06(0x2c5))['style'][_0x499e06(0x1fa)]=_0x499e06(0x2f3),document['getElementById']('seriesCountContainer')[_0x499e06(0x267)][_0x499e06(0x1fa)]=_0x499e06(0x2f3),_0x235c53?(document['getElementById'](_0x499e06(0x259))['style'][_0x499e06(0x1fa)]=_0x499e06(0x324),document['getElementById']('patternInfoBox')[_0x499e06(0x302)]('.pib-text')['textContent']=_0x499e06(0x321)):document[_0x499e06(0x274)](_0x499e06(0x259))[_0x499e06(0x267)][_0x499e06(0x1fa)]=_0x499e06(0x2f3),document[_0x499e06(0x274)](_0x499e06(0x215))['value']=_0x2cef71[_0x499e06(0x1f5)],document[_0x499e06(0x274)](_0x499e06(0x33a))[_0x499e06(0x1de)]=_0x2cef71[_0x499e06(0x28e)],document[_0x499e06(0x274)](_0x499e06(0x1b9))[_0x499e06(0x1de)]=_0x2cef71[_0x499e06(0x2e8)],document[_0x499e06(0x274)](_0x499e06(0x246))[_0x499e06(0x1de)]=_0x2cef71['end'],document[_0x499e06(0x274)](_0x499e06(0x2fe))[_0x499e06(0x1de)]=_0x2cef71[_0x499e06(0x1e1)]||'',updateDateDisplay(),openSheet(_0x499e06(0x2e7));}async function trySaveSession(){const _0x4b5a0d=a2_0x539d8b,_0x5101e0=document['getElementById'](_0x4b5a0d(0x215))['value'],_0x28f30b=document['getElementById'](_0x4b5a0d(0x33a))[_0x4b5a0d(0x1de)],_0x17e155=document[_0x4b5a0d(0x274)]('inpStart')[_0x4b5a0d(0x1de)],_0x5bd472=document[_0x4b5a0d(0x274)](_0x4b5a0d(0x246))[_0x4b5a0d(0x1de)],_0x2fc9a9=document[_0x4b5a0d(0x274)](_0x4b5a0d(0x2fe))[_0x4b5a0d(0x1de)],_0x5d38e0=document[_0x4b5a0d(0x274)](_0x4b5a0d(0x2ab))[_0x4b5a0d(0x1f1)];let _0x1f88f3=0x4;if(_0x5d38e0){const _0x54374b=parseInt(document[_0x4b5a0d(0x274)](_0x4b5a0d(0x1c9))[_0x4b5a0d(0x1de)]);if(!_0x54374b||_0x54374b<0x2){showToast(_0x4b5a0d(0x253),![]);return;}if(_0x54374b>0x64){showToast(_0x4b5a0d(0x33e),![]);return;}_0x1f88f3=_0x54374b;}const _0x5d7274=clients[_0x4b5a0d(0x25e)](_0x3bc009=>_0x3bc009[_0x4b5a0d(0x2f2)]===_0x5101e0);if(!_0x5d7274){showToast(_0x4b5a0d(0x2b0),![]);return;}const _0xa86c4a=validateAppointment(_0x28f30b,_0x17e155,_0x5bd472,editingId,_0x5d7274['id']);if(!_0xa86c4a[_0x4b5a0d(0x1cc)]){showToast(_0xa86c4a[_0x4b5a0d(0x21c)],![]);return;}_0xa86c4a[_0x4b5a0d(0x224)]&&showToast(_0xa86c4a[_0x4b5a0d(0x224)],![]);const _0x20cdf0={'client':_0x5101e0,'clientId':_0x5d7274['id'],'start':_0x17e155,'end':_0x5bd472,'note':_0x2fc9a9,'status':_0x4b5a0d(0x1ca)},_0x47ebfe=editingId?sessions[_0x4b5a0d(0x25e)](_0x4a8fce=>_0x4a8fce['id']===editingId):null;if(_0x47ebfe&&_0x47ebfe[_0x4b5a0d(0x233)]){tempSessionData={..._0x20cdf0,'dateStr':_0x28f30b,'id':editingId,'seriesId':_0x47ebfe[_0x4b5a0d(0x233)]},openActionSheet('save');return;}let _0x67d7c4=null;if(!editingId)_0x67d7c4=_0x4b5a0d(0x2bd);else{if(_0x47ebfe){if(String(_0x47ebfe['clientId'])!==String(_0x5d7274['id']))console[_0x4b5a0d(0x29b)](_0x4b5a0d(0x1e0)),NotificationManager[_0x4b5a0d(0x26b)](_0x4b5a0d(0x2e4),_0x47ebfe),_0x67d7c4=_0x4b5a0d(0x2bd);else(_0x47ebfe[_0x4b5a0d(0x2e8)]!==_0x17e155||_0x47ebfe[_0x4b5a0d(0x1d4)]!==_0x5bd472||_0x47ebfe[_0x4b5a0d(0x28e)]!==_0x28f30b)&&(_0x67d7c4=_0x4b5a0d(0x33b));}}if(!editingId&&_0x5d38e0){createBatchSeries(_0x20cdf0,_0x28f30b,_0x1f88f3),NotificationManager[_0x4b5a0d(0x26b)](_0x4b5a0d(0x2bd),{..._0x20cdf0,'dateStr':_0x28f30b});return;}lastUserActionTime=Date[_0x4b5a0d(0x22a)]();const _0x115194={..._0x20cdf0,'dateStr':_0x28f30b,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x115194),_0x67d7c4&&NotificationManager[_0x4b5a0d(0x26b)](_0x67d7c4,_0x115194);}function toggleSessionStatus(){const _0x531ddb=a2_0x539d8b;lastUserActionTime=Date['now']();const _0x298dd9=sessions[_0x531ddb(0x25e)](_0x45e418=>_0x45e418['id']===editingId);if(!_0x298dd9)return;const _0x5915a9=_0x298dd9[_0x531ddb(0x276)]==='completed'?_0x531ddb(0x1ca):_0x531ddb(0x2d8);_0x298dd9[_0x531ddb(0x276)]=_0x5915a9,saveSingleSession(_0x298dd9),_0x5915a9===_0x531ddb(0x2d8)&&NotificationManager[_0x531ddb(0x26b)]('complete',_0x298dd9),showToast(_0x5915a9===_0x531ddb(0x2d8)?_0x531ddb(0x27d):_0x531ddb(0x334),!![]);}function validateAppointment(_0x52cfdd,_0x3e8675,_0x117232,_0x57b3ec,_0x138690){const _0x150e02=a2_0x539d8b,[_0x4dd016,_0x322346]=_0x3e8675['split'](':')[_0x150e02(0x339)](Number),[_0x4a652b,_0x50a5a5]=_0x117232[_0x150e02(0x1d9)](':')[_0x150e02(0x339)](Number),_0xab70ab=_0x4dd016*0x3c+_0x322346,_0x2163e1=_0x4a652b*0x3c+_0x50a5a5,_0x2e18ef=String(_0x138690);let _0xcb38ee=![],_0x3f839c='';for(let _0x51b64 of sessions){if(_0x51b64[_0x150e02(0x28e)]!==_0x52cfdd)continue;if(_0x51b64[_0x150e02(0x276)]===_0x150e02(0x1d0))continue;if(_0x57b3ec&&String(_0x51b64['id'])===String(_0x57b3ec))continue;const [_0x5e2af8,_0x21d929]=_0x51b64[_0x150e02(0x2e8)][_0x150e02(0x1d9)](':')[_0x150e02(0x339)](Number),[_0x2ffa21,_0x13f5eb]=_0x51b64['end'][_0x150e02(0x1d9)](':')[_0x150e02(0x339)](Number),_0x289bb0=_0x5e2af8*0x3c+_0x21d929,_0xef74fc=_0x2ffa21*0x3c+_0x13f5eb;if(Math[_0x150e02(0x2be)](_0xab70ab,_0x289bb0)<Math['min'](_0x2163e1,_0xef74fc)){if(_0x51b64[_0x150e02(0x22d)]&&String(_0x51b64[_0x150e02(0x22d)])===_0x2e18ef)return{'valid':![],'msg':_0x150e02(0x269)+_0x51b64[_0x150e02(0x1f5)]+_0x150e02(0x2cd)};_0xcb38ee=!![],_0x3f839c=_0x51b64[_0x150e02(0x1f5)];}}if(_0xcb38ee)return{'valid':!![],'warning':_0x150e02(0x1c6)+_0x3f839c};return{'valid':!![]};}function saveSingleSession(_0x4f3b0e){const _0x23001e=a2_0x539d8b;if(editingId){const _0x37a4b5=sessions[_0x23001e(0x2df)](_0x9ad8aa=>_0x9ad8aa['id']===editingId);if(_0x37a4b5!==-0x1)sessions[_0x37a4b5]=_0x4f3b0e;}else sessions['push'](_0x4f3b0e);afterSaveAction([_0x4f3b0e[_0x23001e(0x28e)]]);}function createBatchSeries(_0x2f137d,_0xf7842b,_0x442496){const _0x534991=a2_0x539d8b,_0x185dd1=generateId(),_0x4d4ac8=[],_0xa85b3f=[];let _0x14298f=0x0,_0x4dec9b=new Date(_0xf7842b);for(let _0x23f805=0x0;_0x23f805<_0x442496;_0x23f805++){const _0x273ff8=getLocalDateStr(_0x4dec9b),_0x28b74d=validateAppointment(_0x273ff8,_0x2f137d[_0x534991(0x2e8)],_0x2f137d[_0x534991(0x1d4)],null,_0x2f137d['clientId']);if(!_0x28b74d[_0x534991(0x1cc)])console[_0x534991(0x29b)](_0x534991(0x242)+_0x273ff8+_0x534991(0x2a7)),_0x14298f++;else{const _0x1c706f={..._0x2f137d,'id':generateId(),'dateStr':_0x273ff8,'seriesId':_0x185dd1};_0xa85b3f[_0x534991(0x24a)](_0x1c706f),_0x4d4ac8[_0x534991(0x24a)](_0x273ff8);}_0x4dec9b[_0x534991(0x2c9)](_0x4dec9b['getDate']()+0x7);}if(_0xa85b3f[_0x534991(0x2db)]===0x0){showToast('–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!',![]);return;}sessions[_0x534991(0x24a)](..._0xa85b3f),lastUserActionTime=Date['now']();let _0xcd7243=_0x534991(0x2bb)+_0xa85b3f[_0x534991(0x2db)];_0x14298f>0x0&&(_0xcd7243+=_0x534991(0x304)+_0x14298f+')'),showToast(_0xcd7243,!![]),afterSaveAction(_0x4d4ac8);}function updateSeriesBatch(_0x4d7a62,_0x3f632b){const _0x3b8d39=a2_0x539d8b,_0x2da6a5=[],_0x3f16c3=_0x3f632b[_0x3b8d39(0x233)];if(_0x4d7a62===_0x3b8d39(0x288)){const _0x22ee8f={..._0x3f632b,'seriesId':null},_0x52d773=sessions[_0x3b8d39(0x2df)](_0xea48f2=>_0xea48f2['id']===_0x3f632b['id']);if(_0x52d773!==-0x1)sessions[_0x52d773]=_0x22ee8f;_0x2da6a5[_0x3b8d39(0x24a)](_0x22ee8f['dateStr']);}else{if(_0x4d7a62===_0x3b8d39(0x1bd)){const _0x1282b2=_0x3f632b[_0x3b8d39(0x28e)];sessions[_0x3b8d39(0x290)]((_0x1ee906,_0x58c994)=>{const _0x5d5a6b=_0x3b8d39;_0x1ee906['seriesId']===_0x3f16c3&&_0x1ee906[_0x5d5a6b(0x28e)]>=_0x1282b2&&(sessions[_0x58c994]={...sessions[_0x58c994],'start':_0x3f632b[_0x5d5a6b(0x2e8)],'end':_0x3f632b['end'],'note':_0x3f632b[_0x5d5a6b(0x1e1)],'client':_0x3f632b['client'],'clientId':_0x3f632b[_0x5d5a6b(0x22d)]},_0x2da6a5['push'](_0x1ee906[_0x5d5a6b(0x28e)]));});}}afterSaveAction(_0x2da6a5);}function tryDeleteSession(){const _0x4650b=a2_0x539d8b,_0x289c36=sessions[_0x4650b(0x25e)](_0x28c9a5=>_0x28c9a5['id']===editingId);if(!_0x289c36)return;_0x289c36[_0x4650b(0x233)]?openActionSheet(_0x4650b(0x207)):commitDelete(_0x4650b(0x288),_0x289c36);}function commitDelete(_0x389ae1,_0xd9061b){const _0x456dab=a2_0x539d8b;lastUserActionTime=Date['now'](),NotificationManager[_0x456dab(0x26b)]('cancel',_0xd9061b);const _0x15b6f9=[];if(_0x389ae1==='single')sessions=sessions[_0x456dab(0x209)](_0x3d4f47=>_0x3d4f47['id']!==_0xd9061b['id']),_0x15b6f9[_0x456dab(0x24a)](_0xd9061b['dateStr']);else{if(_0x389ae1===_0x456dab(0x1bd)){const _0x576d5a=_0xd9061b['dateStr'],_0x54e397=_0xd9061b['seriesId'];sessions[_0x456dab(0x290)](_0x94defa=>{const _0x2e3ee5=_0x456dab;_0x94defa[_0x2e3ee5(0x233)]===_0x54e397&&_0x94defa[_0x2e3ee5(0x28e)]>=_0x576d5a&&_0x15b6f9[_0x2e3ee5(0x24a)](_0x94defa[_0x2e3ee5(0x28e)]);}),sessions=sessions['filter'](_0x59aeed=>!(_0x59aeed[_0x456dab(0x233)]===_0x54e397&&_0x59aeed['dateStr']>=_0x576d5a));}}afterSaveAction(_0x15b6f9);}function afterSaveAction(_0xca20a1){const _0x4a093c=a2_0x539d8b;DataManager[_0x4a093c(0x344)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager['syncBatch'](_0xca20a1)[_0x4a093c(0x2d0)](()=>console[_0x4a093c(0x29b)](_0x4a093c(0x337)))['catch'](_0x3a834d=>showToast(_0x4a093c(0x30f),![]));}const NotificationManager={'formatDate'(_0x2bb2a8){const _0x24a473=a2_0x539d8b,_0x3ab950=new Date(_0x2bb2a8),_0x24851d={'weekday':_0x24a473(0x2a6),'day':_0x24a473(0x1ce),'month':_0x24a473(0x2a6)};let _0x24ba8b=_0x3ab950[_0x24a473(0x325)](_0x24a473(0x1c0),_0x24851d);return _0x24ba8b['charAt'](0x0)[_0x24a473(0x333)]()+_0x24ba8b['slice'](0x1);},'getText'(_0x298292,_0x520aa4){const _0x94e635=a2_0x539d8b,_0xef5938=this[_0x94e635(0x203)](_0x520aa4['dateStr']);switch(_0x298292){case _0x94e635(0x2bd):return _0x94e635(0x1bb)+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0xef5938+'\x0a')+(_0x94e635(0x326)+_0x520aa4[_0x94e635(0x2e8)]+_0x94e635(0x2aa)+_0x520aa4[_0x94e635(0x1d4)]+'\x0a\x0a')+_0x94e635(0x2d4);case _0x94e635(0x33b):return'<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a'+'–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a'+(_0x94e635(0x244)+_0x520aa4['start']+_0x94e635(0x2aa)+_0x520aa4['end']+'</b>\x0a\x0a')+(_0x94e635(0x340)+_0xef5938);case _0x94e635(0x2e4):return _0x94e635(0x307)+(_0x94e635(0x2af)+_0xef5938+'\x20('+_0x520aa4[_0x94e635(0x2e8)]+_0x94e635(0x1ea));case _0x94e635(0x1df):return _0x94e635(0x29f)+_0x94e635(0x25c)+_0x94e635(0x273);default:return'';}},async 'send'(_0x2137da,_0x12138e){const _0x272d12=a2_0x539d8b;console[_0x272d12(0x29b)](_0x272d12(0x32e),_0x2137da,_0x12138e);if(!_0x12138e){console[_0x272d12(0x31e)](_0x272d12(0x311));return;}const _0x54b9d4=String(_0x12138e[_0x272d12(0x22d)]);console['log'](_0x272d12(0x1ee),_0x54b9d4);if(!_0x12138e[_0x272d12(0x22d)]||_0x54b9d4===_0x272d12(0x24d)||_0x54b9d4==='null'){console[_0x272d12(0x31e)](_0x272d12(0x261));if(_0x12138e['client']){const _0x151ec5=clients[_0x272d12(0x25e)](_0x3dc23f=>_0x3dc23f[_0x272d12(0x2f2)]===_0x12138e[_0x272d12(0x1f5)]);if(_0x151ec5)return console['log'](_0x272d12(0x271),_0x151ec5['id']),this['send'](_0x2137da,{..._0x12138e,'clientId':_0x151ec5['id']});}return;}if(_0x54b9d4['length']<0x5){console['warn'](_0x272d12(0x320),_0x54b9d4);return;}const _0x1400d1=this['getText'](_0x2137da,_0x12138e);if(!_0x1400d1){console[_0x272d12(0x31e)](_0x272d12(0x280));return;}console[_0x272d12(0x29b)](_0x272d12(0x2fb)+_0x54b9d4+'...'),DataManager[_0x272d12(0x1c2)](_0x272d12(0x316),{'chatId':_0x54b9d4,'text':_0x1400d1})[_0x272d12(0x2d0)](_0x5703cc=>console[_0x272d12(0x29b)](_0x272d12(0x30c),_0x5703cc))[_0x272d12(0x28b)](_0x3bcb04=>console[_0x272d12(0x31e)](_0x272d12(0x2a9),_0x3bcb04));}};function getLocalDateStr(_0x43e6c9){const _0x510a1e=a2_0x539d8b,_0x1c19d7=_0x43e6c9['getFullYear'](),_0x4b8ed6=String(_0x43e6c9['getMonth']()+0x1)[_0x510a1e(0x214)](0x2,'0'),_0x2ccd7d=String(_0x43e6c9[_0x510a1e(0x21d)]())['padStart'](0x2,'0');return _0x1c19d7+'-'+_0x4b8ed6+'-'+_0x2ccd7d;}function getDateStr(_0x280981){const _0x12e080=a2_0x539d8b,_0x48f566=new Date();return _0x48f566[_0x12e080(0x2c9)](_0x48f566[_0x12e080(0x21d)]()+_0x280981),getLocalDateStr(_0x48f566);}function getStartOfWeek(_0x15f4ef){const _0x3b943d=a2_0x539d8b,_0x395866=(function(){let _0x9c159e=!![];return function(_0x6f6c1b,_0x11dbf0){const _0x5c8b48=_0x9c159e?function(){const _0x53c8b1=a2_0x30c1;if(_0x11dbf0){const _0x525896=_0x11dbf0[_0x53c8b1(0x2f0)](_0x6f6c1b,arguments);return _0x11dbf0=null,_0x525896;}}:function(){};return _0x9c159e=![],_0x5c8b48;};}()),_0x5aeee1=_0x395866(this,function(){const _0xcc31b0=a2_0x30c1;return _0x5aeee1[_0xcc31b0(0x2f6)]()[_0xcc31b0(0x2e5)](_0xcc31b0(0x332))['toString']()[_0xcc31b0(0x26d)](_0x5aeee1)[_0xcc31b0(0x2e5)](_0xcc31b0(0x332));});_0x5aeee1();const _0x591b86=new Date(_0x15f4ef),_0x3a53ee=_0x591b86[_0x3b943d(0x291)](),_0xdbe3bc=_0x591b86[_0x3b943d(0x21d)]()-_0x3a53ee+(_0x3a53ee===0x0?-0x6:0x1);return _0x591b86['setDate'](_0xdbe3bc),_0x591b86[_0x3b943d(0x1c1)](0x0,0x0,0x0,0x0),_0x591b86;}function hexToRgba(_0x2f41f4,_0x4dc80d){const _0x3bcbcc=a2_0x539d8b;if(!_0x2f41f4)return _0x3bcbcc(0x2f5);let _0x3648d0=0x0,_0x219594=0x0,_0x799ebd=0x0;if(_0x2f41f4['length']===0x4)_0x3648d0='0x'+_0x2f41f4[0x1]+_0x2f41f4[0x1],_0x219594='0x'+_0x2f41f4[0x2]+_0x2f41f4[0x2],_0x799ebd='0x'+_0x2f41f4[0x3]+_0x2f41f4[0x3];else _0x2f41f4[_0x3bcbcc(0x2db)]===0x7&&(_0x3648d0='0x'+_0x2f41f4[0x1]+_0x2f41f4[0x2],_0x219594='0x'+_0x2f41f4[0x3]+_0x2f41f4[0x4],_0x799ebd='0x'+_0x2f41f4[0x5]+_0x2f41f4[0x6]);return _0x3bcbcc(0x1fc)+ +_0x3648d0+',\x20'+ +_0x219594+',\x20'+ +_0x799ebd+',\x20'+_0x4dc80d+')';}function renderTimeColumn(){const _0x5a6be5=a2_0x539d8b,_0x2ba326=document['getElementById'](_0x5a6be5(0x216)),_0x5c6991=document[_0x5a6be5(0x274)]('timeLineBadge');_0x2ba326[_0x5a6be5(0x256)]='',_0x2ba326[_0x5a6be5(0x2ee)](_0x5c6991);for(let _0x2bcb15=0x0;_0x2bcb15<0x18;_0x2bcb15++){const _0x1e8b99=document['createElement'](_0x5a6be5(0x32a));_0x1e8b99[_0x5a6be5(0x23e)]=_0x5a6be5(0x32b);if(_0x2bcb15>0x0)_0x1e8b99[_0x5a6be5(0x256)]='<span>'+String(_0x2bcb15)[_0x5a6be5(0x214)](0x2,'0')+_0x5a6be5(0x2fc);_0x2ba326[_0x5a6be5(0x2ee)](_0x1e8b99);}}function renderDayRange(_0x148e8c,_0x7e0981){const _0x1f700d=a2_0x539d8b,_0x28c7fd=document[_0x1f700d(0x274)](_0x1f700d(0x31f)),_0x29f152=document['getElementById']('gridColumns'),_0x464136=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1b2712=new Date();_0x1b2712[_0x1f700d(0x1c1)](0x0,0x0,0x0,0x0);const _0x320984=getLocalDateStr(new Date());for(let _0xf17444=_0x148e8c;_0xf17444<=_0x7e0981;_0xf17444++){const _0x2e24a5=new Date(_0x1b2712);_0x2e24a5[_0x1f700d(0x2c9)](_0x2e24a5[_0x1f700d(0x21d)]()+_0xf17444);const _0x5623d2=getLocalDateStr(_0x2e24a5);let _0x1f5f25=_0x2e24a5[_0x1f700d(0x291)]()-0x1;if(_0x1f5f25===-0x1)_0x1f5f25=0x6;const _0x558e94=_0x5623d2===_0x320984,_0x461e6c=document[_0x1f700d(0x241)]('div');_0x461e6c[_0x1f700d(0x23e)]=_0x1f700d(0x2e2)+(_0x558e94?_0x1f700d(0x335):''),_0x461e6c['id']=_0x1f700d(0x29a)+_0x5623d2,_0x461e6c['setAttribute'](_0x1f700d(0x1f7),_0x5623d2),_0x461e6c['innerHTML']=_0x1f700d(0x205)+_0x464136[_0x1f5f25]+_0x1f700d(0x213)+_0x2e24a5['getDate']()+_0x1f700d(0x254)+_0x5623d2+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x461e6c[_0x1f700d(0x32d)]=()=>openDayOptions(_0x5623d2,_0x464136[_0x1f5f25]+'\x20'+_0x2e24a5[_0x1f700d(0x21d)]()),_0x28c7fd[_0x1f700d(0x2ee)](_0x461e6c);const _0x70e347=document[_0x1f700d(0x241)](_0x1f700d(0x32a));_0x70e347[_0x1f700d(0x23e)]=_0x1f700d(0x343)+(_0x558e94?'today':''),_0x70e347[_0x1f700d(0x24f)](_0x1f700d(0x1f7),_0x5623d2),_0x70e347[_0x1f700d(0x24f)](_0x1f700d(0x1f9),_0x1f5f25),renderEventsForColumn(_0x70e347,_0x5623d2,_0x1f5f25),attachLongPressHandler(_0x70e347,_0x2e24a5),_0x29f152['appendChild'](_0x70e347),updateDayStats(_0x5623d2);}}function reRenderBlocks(){const _0x9eea55=a2_0x539d8b;document['querySelectorAll'](_0x9eea55(0x2de))['forEach'](_0x5f46ad=>{const _0x5521a9=_0x9eea55;_0x5f46ad['querySelectorAll'](_0x5521a9(0x221))['forEach'](_0xc85081=>_0xc85081[_0x5521a9(0x2ca)]());const _0x396569=_0x5f46ad[_0x5521a9(0x251)](_0x5521a9(0x1f7)),_0x40079b=parseInt(_0x5f46ad[_0x5521a9(0x251)](_0x5521a9(0x1f9))),_0x5d8b73=Math['round'](_0x5f46ad[_0x5521a9(0x2c1)]);(availabilityPattern[_0x40079b]||[])[_0x5521a9(0x290)](_0x4635cf=>{const _0x16ccc6=_0x5521a9,_0x34461a=document[_0x16ccc6(0x241)](_0x16ccc6(0x32a));_0x34461a[_0x16ccc6(0x23e)]=_0x16ccc6(0x2ba);const _0xc3ae13=_0x4635cf*GRID_H;_0x34461a[_0x16ccc6(0x267)]['top']=_0xc3ae13+'px',_0x34461a[_0x16ccc6(0x267)][_0x16ccc6(0x248)]='-'+_0x5d8b73+_0x16ccc6(0x201)+_0xc3ae13+'px',_0x5f46ad[_0x16ccc6(0x2ee)](_0x34461a);});if(specialRanges&&specialRanges[_0x5521a9(0x2db)]>0x0){const _0x2edf08=new Date(_0x396569+_0x5521a9(0x2bc))[_0x5521a9(0x2b3)](),_0x478b6b=new Date(_0x396569+_0x5521a9(0x1f0))[_0x5521a9(0x2b3)]();specialRanges[_0x5521a9(0x290)](_0x328d35=>{const _0x3ebee5=_0x5521a9,_0x2779a8=new Date(_0x328d35[_0x3ebee5(0x2e8)])[_0x3ebee5(0x2b3)](),_0x4a204d=new Date(_0x328d35[_0x3ebee5(0x1d4)])[_0x3ebee5(0x2b3)](),_0x32bc1c=Math[_0x3ebee5(0x2be)](_0x2edf08,_0x2779a8),_0x1929cd=Math[_0x3ebee5(0x21b)](_0x478b6b,_0x4a204d);if(_0x32bc1c<_0x1929cd){if(_0x32bc1c<=_0x2edf08&&_0x1929cd>=_0x478b6b-0xea60){if(!_0x5f46ad[_0x3ebee5(0x302)](_0x3ebee5(0x319))){const _0x8237b8=document['createElement'](_0x3ebee5(0x32a));_0x8237b8[_0x3ebee5(0x23e)]=_0x3ebee5(0x1fe),_0x8237b8[_0x3ebee5(0x267)][_0x3ebee5(0x248)]='-'+_0x5d8b73+_0x3ebee5(0x32c),_0x5f46ad[_0x3ebee5(0x2ee)](_0x8237b8);}}else{const _0x45c75d=(_0x32bc1c-_0x2edf08)/0x36ee80*GRID_H,_0x311569=(_0x1929cd-_0x32bc1c)/0x36ee80*GRID_H,_0x41f340=document[_0x3ebee5(0x241)](_0x3ebee5(0x32a));_0x41f340[_0x3ebee5(0x23e)]='blocked-range-part\x20stripe-bg',_0x41f340[_0x3ebee5(0x267)]['top']=_0x45c75d+'px',_0x41f340[_0x3ebee5(0x267)]['height']=_0x311569+'px',_0x41f340[_0x3ebee5(0x267)][_0x3ebee5(0x248)]='-'+_0x5d8b73+'px\x20-'+_0x45c75d+'px',_0x5f46ad['appendChild'](_0x41f340);}}});}if(dateExceptions[_0x396569]===_0x5521a9(0x295)){if(!_0x5f46ad[_0x5521a9(0x302)](_0x5521a9(0x319))){const _0x14cb5a=document[_0x5521a9(0x241)]('div');_0x14cb5a[_0x5521a9(0x23e)]=_0x5521a9(0x1fe),_0x14cb5a[_0x5521a9(0x267)][_0x5521a9(0x248)]='-'+_0x5d8b73+_0x5521a9(0x32c),_0x5f46ad[_0x5521a9(0x2ee)](_0x14cb5a);}}renderEventsForColumn(_0x5f46ad,_0x396569,_0x40079b),updateDayStats(_0x396569);});}function updateAllDayStats(){const _0x1aa7b2=a2_0x539d8b;document[_0x1aa7b2(0x240)](_0x1aa7b2(0x287))[_0x1aa7b2(0x290)](_0x276b87=>{const _0x320e5d=_0x1aa7b2;updateDayStats(_0x276b87[_0x320e5d(0x251)]('data-date'));});}function updateDayStats(_0x10ea56){const _0x122584=a2_0x539d8b,_0x1b8db7=document[_0x122584(0x274)]('stat-'+_0x10ea56);if(!_0x1b8db7)return;const _0xe7af55=new Date(_0x10ea56);let _0x874b7c=_0xe7af55[_0x122584(0x291)]()-0x1;if(_0x874b7c===-0x1)_0x874b7c=0x6;if(dateExceptions[_0x10ea56]===_0x122584(0x295)){_0x1b8db7['style']['display']=_0x122584(0x2f3);return;}const _0x26e21d=availabilityPattern[_0x874b7c]||[],_0x20ef1=0x18-_0x26e21d[_0x122584(0x2db)],_0x1fbe42=_0x20ef1*0x3c,_0x11842f=sessions[_0x122584(0x209)](_0x47d70b=>_0x47d70b[_0x122584(0x28e)]===_0x10ea56&&_0x47d70b[_0x122584(0x276)]!=='cancelled');if(_0x11842f['length']===0x0){_0x1b8db7[_0x122584(0x267)][_0x122584(0x1fa)]=_0x122584(0x2f3);return;}let _0x30a8fa=_0x11842f[_0x122584(0x339)](_0x3e1dbd=>{const _0x34090f=_0x122584,[_0x16bfff,_0x5605f5]=_0x3e1dbd[_0x34090f(0x2e8)][_0x34090f(0x1d9)](':')[_0x34090f(0x339)](Number),[_0x481a14,_0x343fb6]=_0x3e1dbd[_0x34090f(0x1d4)]['split'](':')[_0x34090f(0x339)](Number);return[_0x16bfff*0x3c+_0x5605f5,_0x481a14*0x3c+_0x343fb6];});_0x30a8fa['sort']((_0x584135,_0x2e4066)=>_0x584135[0x0]-_0x2e4066[0x0]);let _0x1403c1=[];if(_0x30a8fa['length']>0x0){let _0x594d4f=_0x30a8fa[0x0];for(let _0x5d1afe=0x1;_0x5d1afe<_0x30a8fa[_0x122584(0x2db)];_0x5d1afe++){_0x30a8fa[_0x5d1afe][0x0]<_0x594d4f[0x1]?_0x594d4f[0x1]=Math[_0x122584(0x2be)](_0x594d4f[0x1],_0x30a8fa[_0x5d1afe][0x1]):(_0x1403c1[_0x122584(0x24a)](_0x594d4f),_0x594d4f=_0x30a8fa[_0x5d1afe]);}_0x1403c1[_0x122584(0x24a)](_0x594d4f);}let _0x2c2e52=0x0;_0x1403c1[_0x122584(0x290)](_0x56ef98=>_0x2c2e52+=_0x56ef98[0x1]-_0x56ef98[0x0]),_0x1b8db7[_0x122584(0x267)][_0x122584(0x1fa)]='flex';const _0x10827e=_0x1b8db7[_0x122584(0x302)](_0x122584(0x284));if(_0x1fbe42===0x0){_0x10827e[_0x122584(0x267)][_0x122584(0x2d7)]=_0x122584(0x31c),_0x10827e[_0x122584(0x267)]['background']=_0x122584(0x2ad);return;}const _0x38ff95=_0x2c2e52/_0x1fbe42*0x64;console[_0x122584(0x29b)]('['+_0x10ea56+_0x122584(0x26a)+_0x20ef1+'—á,\x20–ó–∞–Ω—è—Ç–æ:\x20'+_0x2c2e52+_0x122584(0x238)+_0x38ff95[_0x122584(0x20c)](0x1)+'%'),_0x38ff95>0x64?(_0x10827e[_0x122584(0x267)]['width']='100%',_0x10827e['style'][_0x122584(0x28a)]=_0x122584(0x2ad)):(_0x10827e[_0x122584(0x267)][_0x122584(0x2d7)]=_0x38ff95+'%',_0x10827e['style'][_0x122584(0x28a)]=_0x122584(0x329));}function renderEventsForColumn(_0x13dd94,_0x39f765,_0x23fa7b){const _0x3dd370=a2_0x539d8b,_0x54717f=sessions[_0x3dd370(0x209)](_0x13fcc3=>_0x13fcc3['dateStr']===_0x39f765),_0x5e221a=_0x54717f[_0x3dd370(0x339)](_0x1ed8fa=>{const _0x5e4ba9=_0x3dd370,[_0x1e601a,_0xba7493]=_0x1ed8fa[_0x5e4ba9(0x2e8)][_0x5e4ba9(0x1d9)](':')['map'](Number),[_0x4d673d,_0x575d62]=_0x1ed8fa['end'][_0x5e4ba9(0x1d9)](':')[_0x5e4ba9(0x339)](Number);return{'data':_0x1ed8fa,'start':_0x1e601a*0x3c+_0xba7493,'end':_0x4d673d*0x3c+_0x575d62,'colIndex':0x0};});_0x5e221a[_0x3dd370(0x2c6)]((_0x195d4f,_0x46e38c)=>{const _0x40c902=_0x3dd370;if(_0x195d4f[_0x40c902(0x2e8)]!==_0x46e38c[_0x40c902(0x2e8)])return _0x195d4f[_0x40c902(0x2e8)]-_0x46e38c[_0x40c902(0x2e8)];return _0x46e38c[_0x40c902(0x1d4)]-_0x46e38c[_0x40c902(0x2e8)]-(_0x195d4f['end']-_0x195d4f['start']);});const _0x3fbfac=[];_0x5e221a[_0x3dd370(0x290)](_0x2da896=>{const _0x3f146a=_0x3dd370;let _0x32638=![];for(let _0x4ee86b=0x0;_0x4ee86b<_0x3fbfac[_0x3f146a(0x2db)];_0x4ee86b++){const _0x1637e7=_0x3fbfac[_0x4ee86b],_0x3858e1=_0x1637e7[_0x1637e7['length']-0x1];if(_0x2da896[_0x3f146a(0x2e8)]>=_0x3858e1[_0x3f146a(0x1d4)]){_0x1637e7[_0x3f146a(0x24a)](_0x2da896),_0x2da896[_0x3f146a(0x293)]=_0x4ee86b,_0x32638=!![];break;}}!_0x32638&&(_0x3fbfac[_0x3f146a(0x24a)]([_0x2da896]),_0x2da896[_0x3f146a(0x293)]=_0x3fbfac[_0x3f146a(0x2db)]-0x1);}),_0x5e221a[_0x3dd370(0x290)](_0x5cfa57=>{const _0x4cc1c4=_0x3dd370;let _0x2169b0=0x0;_0x5e221a[_0x4cc1c4(0x290)](_0x42d0cd=>{const _0x262313=_0x4cc1c4;if(Math[_0x262313(0x2be)](_0x5cfa57['start'],_0x42d0cd[_0x262313(0x2e8)])<Math[_0x262313(0x21b)](_0x5cfa57[_0x262313(0x1d4)],_0x42d0cd[_0x262313(0x1d4)])){if(_0x42d0cd[_0x262313(0x293)]>_0x2169b0)_0x2169b0=_0x42d0cd['colIndex'];}});const _0x10b3fb=_0x2169b0+0x1,_0x2946c9=0x64/_0x10b3fb,_0x4d5189=_0x5cfa57['colIndex']*_0x2946c9,_0x22c8e9=createEventEl(_0x5cfa57['data']);_0x22c8e9[_0x4cc1c4(0x267)]['width']='calc('+_0x2946c9+_0x4cc1c4(0x2d9),_0x22c8e9[_0x4cc1c4(0x267)]['left']=_0x4cc1c4(0x2c3)+_0x4d5189+_0x4cc1c4(0x347),_0x22c8e9[_0x4cc1c4(0x267)][_0x4cc1c4(0x348)]=0xa+_0x5cfa57[_0x4cc1c4(0x293)],_0x2946c9<0x55&&_0x22c8e9['classList'][_0x4cc1c4(0x1d8)](_0x4cc1c4(0x2f7)),_0x13dd94[_0x4cc1c4(0x2ee)](_0x22c8e9);});}function createEventEl(_0x4736f7){const _0x5267b9=a2_0x539d8b,[_0x4f7cd6,_0xaa0e73]=_0x4736f7[_0x5267b9(0x2e8)][_0x5267b9(0x1d9)](':')['map'](Number),[_0x3d5c6e,_0x3a055c]=_0x4736f7[_0x5267b9(0x1d4)][_0x5267b9(0x1d9)](':')[_0x5267b9(0x339)](Number),_0x13101d=(_0x4f7cd6*0x3c+_0xaa0e73)/0x3c*GRID_H,_0x291ad9=(_0x3d5c6e*0x3c+_0x3a055c-(_0x4f7cd6*0x3c+_0xaa0e73))/0x3c*GRID_H,_0x4bb390=document[_0x5267b9(0x241)]('div'),_0x464150=_0x4736f7[_0x5267b9(0x276)]==='completed'?_0x5267b9(0x310):'';_0x4bb390['className']=_0x5267b9(0x268)+_0x464150,_0x4bb390['style']['top']=_0x13101d+'px',_0x4bb390[_0x5267b9(0x267)][_0x5267b9(0x1bc)]=Math[_0x5267b9(0x2be)](_0x291ad9,0x14)+'px';const _0x358171=clients[_0x5267b9(0x25e)](_0x259d2c=>_0x4736f7[_0x5267b9(0x22d)]&&String(_0x259d2c['id'])===String(_0x4736f7[_0x5267b9(0x22d)])||_0x259d2c[_0x5267b9(0x2f2)]===_0x4736f7[_0x5267b9(0x1f5)]),_0x543ea5=_0x358171?_0x358171[_0x5267b9(0x2a8)]:_0x5267b9(0x2dc);_0x4bb390[_0x5267b9(0x267)]['borderLeftColor']=_0x543ea5,_0x4bb390[_0x5267b9(0x267)][_0x5267b9(0x22e)]=hexToRgba(_0x543ea5,0.85);let _0x50a1d8=_0x5267b9(0x24e)+_0x4736f7[_0x5267b9(0x1f5)]+_0x5267b9(0x20d)+_0x4736f7[_0x5267b9(0x2e8)]+'\x20-\x20'+_0x4736f7[_0x5267b9(0x1d4)]+_0x5267b9(0x315);return _0x4736f7['seriesId']&&(_0x50a1d8+=_0x5267b9(0x2d2)),_0x4736f7['status']===_0x5267b9(0x2d8)&&(_0x50a1d8+=_0x5267b9(0x2da)),_0x4bb390[_0x5267b9(0x256)]=_0x50a1d8,_0x4bb390[_0x5267b9(0x32d)]=_0x466d43=>{const _0x3da1f9=_0x5267b9;_0x466d43[_0x3da1f9(0x255)](),openEdit(_0x4736f7);},_0x4bb390;}function attachLongPressHandler(_0x14ea64,_0x4f5af8){const _0x329d52=a2_0x539d8b;let _0x26e2de=0x0,_0x545d16=null;const _0x2033d4=_0x12c109=>{const _0x388763=a2_0x30c1;if(_0x12c109[_0x388763(0x2ce)][_0x388763(0x29c)]('.event-card'))return;isScrolling=![],_0x26e2de=_0x12c109[_0x388763(0x232)]?_0x12c109['touches'][0x0][_0x388763(0x25b)]:_0x12c109[_0x388763(0x25b)],_0x545d16=setTimeout(()=>{const _0xc87a49=_0x388763;if(!isScrolling){navigator['vibrate']?.(0x32);const _0x4e7a5f=_0x14ea64[_0xc87a49(0x2c0)](),_0x2f641a=Math[_0xc87a49(0x2fd)]((_0x26e2de-_0x4e7a5f[_0xc87a49(0x2eb)])/GRID_H);_0x4f5af8[_0xc87a49(0x1c1)](_0x2f641a,0x0),openAddSession(_0x4f5af8);}},0x1f4);},_0x276e52=()=>{isScrolling=!![],clearTimeout(_0x545d16);},_0x4e5dc3=()=>{clearTimeout(_0x545d16);};_0x14ea64[_0x329d52(0x289)]('touchstart',_0x2033d4,{'passive':!![]}),_0x14ea64['addEventListener'](_0x329d52(0x317),_0x276e52,{'passive':!![]}),_0x14ea64[_0x329d52(0x289)](_0x329d52(0x2b7),_0x4e5dc3),_0x14ea64[_0x329d52(0x289)](_0x329d52(0x2e6),_0x2033d4),_0x14ea64[_0x329d52(0x289)](_0x329d52(0x2b5),_0x276e52),_0x14ea64['addEventListener'](_0x329d52(0x257),_0x4e5dc3);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x460b04=a2_0x539d8b,_0x2fec79=document[_0x460b04(0x274)](_0x460b04(0x275)),_0x495d49=_0x2fec79[_0x460b04(0x25d)],_0x26d1f5=_0x2fec79[_0x460b04(0x27c)],_0x140f3a=_0x2fec79['clientWidth'];if(_0x26d1f5-(_0x495d49+_0x140f3a)<0x12c){const _0x5580f6=endOffset;endOffset+=0xe,renderDayRange(_0x5580f6+0x1,endOffset),reRenderBlocks();}if(_0x495d49<0x12c){const _0x52d71d=startOffset;startOffset-=0xe,prependDays(startOffset,_0x52d71d-0x1),_0x2fec79['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x1f3e32,_0x160c82){const _0x1cc4dc=a2_0x539d8b,_0x4d43aa=document[_0x1cc4dc(0x274)]('daysHeaderTrack'),_0x3f4611=document['getElementById'](_0x1cc4dc(0x235)),_0xf6106b=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x5bff86=new Date();_0x5bff86[_0x1cc4dc(0x1c1)](0x0,0x0,0x0,0x0);const _0x5370b1=getLocalDateStr(new Date()),_0x22df1f=document[_0x1cc4dc(0x282)](),_0x509f43=document[_0x1cc4dc(0x282)]();for(let _0x3ebce5=_0x1f3e32;_0x3ebce5<=_0x160c82;_0x3ebce5++){const _0x5c50f5=new Date(_0x5bff86);_0x5c50f5[_0x1cc4dc(0x2c9)](_0x5c50f5[_0x1cc4dc(0x21d)]()+_0x3ebce5);const _0x17f0af=getLocalDateStr(_0x5c50f5);let _0x44b834=_0x5c50f5['getDay']()-0x1;if(_0x44b834===-0x1)_0x44b834=0x6;const _0x1d2d5c=_0x17f0af===_0x5370b1,_0x1ac460=document[_0x1cc4dc(0x241)](_0x1cc4dc(0x32a));_0x1ac460['className']=_0x1cc4dc(0x2e2)+(_0x1d2d5c?_0x1cc4dc(0x335):''),_0x1ac460['id']=_0x1cc4dc(0x29a)+_0x17f0af,_0x1ac460[_0x1cc4dc(0x24f)](_0x1cc4dc(0x1f7),_0x17f0af),_0x1ac460['innerHTML']=_0x1cc4dc(0x205)+_0xf6106b[_0x44b834]+'</div><div\x20class=\x22dch-num\x22>'+_0x5c50f5[_0x1cc4dc(0x21d)]()+_0x1cc4dc(0x254)+_0x17f0af+_0x1cc4dc(0x23a),_0x1ac460[_0x1cc4dc(0x32d)]=()=>openDayOptions(_0x17f0af,_0xf6106b[_0x44b834]+'\x20'+_0x5c50f5[_0x1cc4dc(0x21d)]()),_0x22df1f[_0x1cc4dc(0x2ee)](_0x1ac460);const _0x1e6299=document[_0x1cc4dc(0x241)](_0x1cc4dc(0x32a));_0x1e6299[_0x1cc4dc(0x23e)]=_0x1cc4dc(0x343)+(_0x1d2d5c?_0x1cc4dc(0x335):''),_0x1e6299[_0x1cc4dc(0x24f)](_0x1cc4dc(0x1f7),_0x17f0af),_0x1e6299[_0x1cc4dc(0x24f)](_0x1cc4dc(0x1f9),_0x44b834),renderEventsForColumn(_0x1e6299,_0x17f0af,_0x44b834),attachLongPressHandler(_0x1e6299,_0x5c50f5),_0x509f43[_0x1cc4dc(0x2ee)](_0x1e6299),updateDayStats(_0x17f0af);}_0x4d43aa[_0x1cc4dc(0x2ec)](_0x22df1f,_0x4d43aa['firstChild']),_0x3f4611[_0x1cc4dc(0x2ec)](_0x509f43,_0x3f4611['querySelector']('.day-column'));}function validateAppointment(_0x49b792,_0x41cb83,_0xff8dca,_0x39efd5,_0xe48284){const _0x1e9319=a2_0x539d8b,[_0x3fd432,_0x5925d5]=_0x41cb83['split'](':')[_0x1e9319(0x339)](Number),[_0x54e1c3,_0x2d3336]=_0xff8dca[_0x1e9319(0x1d9)](':')['map'](Number),_0x1a1567=_0x3fd432*0x3c+_0x5925d5,_0x16baa7=_0x54e1c3*0x3c+_0x2d3336,_0x50f2e0=String(_0xe48284);let _0xe2ef83=![],_0x16aff7='';for(let _0x1f8092 of sessions){if(_0x1f8092[_0x1e9319(0x28e)]!==_0x49b792)continue;if(_0x1f8092[_0x1e9319(0x276)]===_0x1e9319(0x1d0))continue;if(_0x39efd5&&String(_0x1f8092['id'])===String(_0x39efd5))continue;const [_0x26f046,_0x371ed2]=_0x1f8092['start'][_0x1e9319(0x1d9)](':')[_0x1e9319(0x339)](Number),[_0x5a5e8f,_0x1a90e6]=_0x1f8092['end'][_0x1e9319(0x1d9)](':')[_0x1e9319(0x339)](Number),_0x1cdc90=_0x26f046*0x3c+_0x371ed2,_0x10182b=_0x5a5e8f*0x3c+_0x1a90e6;if(Math[_0x1e9319(0x2be)](_0x1a1567,_0x1cdc90)<Math['min'](_0x16baa7,_0x10182b)){if(_0x1f8092[_0x1e9319(0x22d)]&&String(_0x1f8092[_0x1e9319(0x22d)])===_0x50f2e0)return{'valid':![],'msg':_0x1e9319(0x269)+_0x1f8092['client']+_0x1e9319(0x2cd)};_0xe2ef83=!![],_0x16aff7=_0x1f8092[_0x1e9319(0x1f5)];}}if(_0xe2ef83)return{'valid':!![],'warning':'–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20'+_0x16aff7};return{'valid':!![]};}function updateDateDisplay(){const _0x3e5122=a2_0x539d8b,_0xe69eff=document[_0x3e5122(0x274)](_0x3e5122(0x33a))[_0x3e5122(0x1de)],_0x1dbe3c=document[_0x3e5122(0x274)](_0x3e5122(0x23c));if(!_0xe69eff){_0x1dbe3c[_0x3e5122(0x239)]='';return;}const [_0x27bb47,_0x487c15,_0xafbeb3]=_0xe69eff[_0x3e5122(0x1d9)]('-')[_0x3e5122(0x339)](Number),_0x56bdc2=new Date(_0x27bb47,_0x487c15-0x1,_0xafbeb3),_0x425ccf={'weekday':'long','day':_0x3e5122(0x1ce),'month':_0x3e5122(0x2a6),'year':_0x3e5122(0x1ce)};let _0x7b6c08=_0x56bdc2[_0x3e5122(0x325)]('ru-RU',_0x425ccf);_0x7b6c08=_0x7b6c08[_0x3e5122(0x2f9)](0x0)[_0x3e5122(0x333)]()+_0x7b6c08[_0x3e5122(0x30e)](0x1),_0x1dbe3c[_0x3e5122(0x239)]=_0x7b6c08;}function autoSetEndTime(){const _0x59317a=a2_0x539d8b,_0x3c7fb0=document['getElementById']('inpStart')[_0x59317a(0x1de)];if(!_0x3c7fb0)return;const [_0x36f681,_0x5737f5]=_0x3c7fb0[_0x59317a(0x1d9)](':')[_0x59317a(0x339)](Number);let _0x28d1ee=_0x36f681+0x1;if(_0x28d1ee>0x17)_0x28d1ee=0x0;const _0x26dc55=String(_0x28d1ee)[_0x59317a(0x214)](0x2,'0')+':'+String(_0x5737f5)['padStart'](0x2,'0');document['getElementById']('inpEnd')[_0x59317a(0x1de)]=_0x26dc55;}function populateClientSelect(){const _0x5940e8=a2_0x539d8b,_0x9445a6=document[_0x5940e8(0x274)](_0x5940e8(0x215));_0x9445a6[_0x5940e8(0x256)]='';if(clients['length']===0x0){const _0x59e31c=document[_0x5940e8(0x241)]('option');_0x59e31c[_0x5940e8(0x27e)]='–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤',_0x9445a6[_0x5940e8(0x2ee)](_0x59e31c);return;}clients[_0x5940e8(0x290)](_0x5587fc=>{const _0xc559f9=_0x5940e8,_0x30f89b=document[_0xc559f9(0x241)]('option');_0x30f89b[_0xc559f9(0x1de)]=_0x5587fc[_0xc559f9(0x2f2)],_0x30f89b[_0xc559f9(0x239)]=_0x5587fc[_0xc559f9(0x2f2)],_0x9445a6[_0xc559f9(0x2ee)](_0x30f89b);});}function openActionSheet(_0x38c03c){const _0x549d63=a2_0x539d8b,_0x24c019=document[_0x549d63(0x274)](_0x549d63(0x2e3)),_0x2202cc=document[_0x549d63(0x274)](_0x549d63(0x2a3)),_0x37daca=document[_0x549d63(0x274)](_0x549d63(0x349)),_0x23c87b=document['getElementById'](_0x549d63(0x303)),_0x12868c=document[_0x549d63(0x274)](_0x549d63(0x1ef));_0x2202cc['classList'][_0x549d63(0x1d8)](_0x549d63(0x2b6)),_0x24c019[_0x549d63(0x27b)][_0x549d63(0x1d8)](_0x549d63(0x29d));if(_0x38c03c===_0x549d63(0x1f6))_0x37daca[_0x549d63(0x239)]=_0x549d63(0x217),_0x23c87b['textContent']=_0x549d63(0x2dd),_0x23c87b[_0x549d63(0x32d)]=()=>{closeActionSheet(),updateSeriesBatch('single',tempSessionData);},_0x12868c[_0x549d63(0x239)]=_0x549d63(0x1da),_0x12868c[_0x549d63(0x32d)]=()=>{const _0x505c5c=_0x549d63;closeActionSheet(),updateSeriesBatch(_0x505c5c(0x1bd),tempSessionData);};else _0x38c03c===_0x549d63(0x207)&&(_0x37daca[_0x549d63(0x239)]=_0x549d63(0x234),_0x23c87b[_0x549d63(0x239)]=_0x549d63(0x2dd),_0x23c87b[_0x549d63(0x23e)]=_0x549d63(0x297),_0x23c87b[_0x549d63(0x32d)]=()=>{const _0x3008dc=_0x549d63;closeActionSheet(),commitDelete(_0x3008dc(0x288),sessions['find'](_0xe83245=>_0xe83245['id']===editingId));},_0x12868c[_0x549d63(0x239)]=_0x549d63(0x1da),_0x12868c['className']=_0x549d63(0x26e),_0x12868c[_0x549d63(0x32d)]=()=>{const _0x472fa8=_0x549d63;closeActionSheet(),commitDelete(_0x472fa8(0x1bd),sessions[_0x472fa8(0x25e)](_0x2bca49=>_0x2bca49['id']===editingId));});}function closeActionSheet(){const _0x44b674=a2_0x539d8b;document[_0x44b674(0x274)]('actionSheet')[_0x44b674(0x27b)][_0x44b674(0x2ca)](_0x44b674(0x29d)),document[_0x44b674(0x274)](_0x44b674(0x2a3))[_0x44b674(0x27b)][_0x44b674(0x2ca)]('active');}function openSettings(){const _0x3365d6=a2_0x539d8b;openSheet(_0x3365d6(0x1be));}function saveCoachSettings(){const _0x111da3=a2_0x539d8b,_0x1638ea=document[_0x111da3(0x274)](_0x111da3(0x279))['value'];localStorage[_0x111da3(0x21f)](_0x111da3(0x212),_0x1638ea),console[_0x111da3(0x29b)]('[Settings]\x20Cancel\x20window\x20set\x20to:',_0x1638ea),DataManager['fetchFromServer'](_0x111da3(0x2c4),{'settings':{'cancel_window':_0x1638ea}})[_0x111da3(0x28b)](_0x6698ba=>{const _0xa2b06f=_0x111da3;console[_0xa2b06f(0x31e)](_0xa2b06f(0x2a1),_0x6698ba),showToast(_0xa2b06f(0x1c3),![]);});}function loadCoachSettings(){const _0x334dc6=a2_0x539d8b,_0x55cc51=localStorage[_0x334dc6(0x1e7)]('uc_settings_cancel_window');_0x55cc51&&(document[_0x334dc6(0x274)](_0x334dc6(0x279))['value']=_0x55cc51);}function openRangesSheet(){const _0x3b843b=a2_0x539d8b;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x3b843b(0x245));}function addRange(){const _0x4ca404=a2_0x539d8b,_0x4ba891=document['getElementById'](_0x4ca404(0x263))['value'],_0x3de20f=document['getElementById'](_0x4ca404(0x208))[_0x4ca404(0x1de)],_0x29a2c6=document['getElementById'](_0x4ca404(0x1c5))['value'],_0xafeee9=document[_0x4ca404(0x274)](_0x4ca404(0x1d6))[_0x4ca404(0x1de)];if(!_0x4ba891||!_0x3de20f||!_0x29a2c6||!_0xafeee9)return alert(_0x4ca404(0x21e));const _0x4af782=_0x4ba891+'T'+_0x3de20f,_0x2d76f2=_0x29a2c6+'T'+_0xafeee9;if(_0x4af782>=_0x2d76f2)return alert(_0x4ca404(0x247));specialRanges['push']({'start':_0x4af782,'end':_0x2d76f2}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager['fetchFromServer']('save_settings',{'settings':{'ranges':specialRanges}});}function deleteRange(_0x241b08){const _0x195341=a2_0x539d8b;specialRanges[_0x195341(0x283)](_0x241b08,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x195341(0x344)](),DataManager['fetchFromServer']('save_settings',{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x4d2d32=a2_0x539d8b;document[_0x4d2d32(0x274)](_0x4d2d32(0x263))['value']='',document[_0x4d2d32(0x274)]('rangeStartTime')[_0x4d2d32(0x1de)]=_0x4d2d32(0x231),document[_0x4d2d32(0x274)]('rangeEndDate')[_0x4d2d32(0x1de)]='',document[_0x4d2d32(0x274)](_0x4d2d32(0x1d6))[_0x4d2d32(0x1de)]=_0x4d2d32(0x31d);}function renderRangesList(){const _0x30b601=a2_0x539d8b,_0x389add=document[_0x30b601(0x274)](_0x30b601(0x226));_0x389add[_0x30b601(0x256)]='';if(!specialRanges['length']){_0x389add['innerHTML']='<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>';return;}specialRanges[_0x30b601(0x290)]((_0x5d4038,_0x2f9afc)=>{const _0xef8515=_0x30b601,_0x323b5e=document[_0xef8515(0x241)](_0xef8515(0x32a));_0x323b5e[_0xef8515(0x23e)]=_0xef8515(0x2d6);const _0x1b272f=_0x471dc6=>{const _0x3e5bdd=_0xef8515,_0xd35815=new Date(_0x471dc6);return _0xd35815[_0x3e5bdd(0x21d)]()+'.'+String(_0xd35815['getMonth']()+0x1)[_0x3e5bdd(0x214)](0x2,'0')+'\x20'+String(_0xd35815['getHours']())['padStart'](0x2,'0')+':'+String(_0xd35815[_0x3e5bdd(0x309)]())[_0x3e5bdd(0x214)](0x2,'0');};_0x323b5e[_0xef8515(0x256)]=_0xef8515(0x345)+_0x1b272f(_0x5d4038['start'])+_0xef8515(0x2aa)+_0x1b272f(_0x5d4038[_0xef8515(0x1d4)])+_0xef8515(0x206)+_0x2f9afc+_0xef8515(0x218),_0x389add[_0xef8515(0x2ee)](_0x323b5e);});}function scrollToToday(){const _0x1625c1=a2_0x539d8b,_0xfa221b=getLocalDateStr(new Date()),_0x57d387=document[_0x1625c1(0x274)](_0x1625c1(0x29a)+_0xfa221b),_0x434c31=document['getElementById'](_0x1625c1(0x275));if(_0x57d387&&_0x434c31){const _0x110fdb=_0x434c31[_0x1625c1(0x336)],_0x4f11b5=_0x57d387['offsetLeft'],_0x15c206=_0x57d387[_0x1625c1(0x33d)];_0x434c31['scrollLeft']=_0x4f11b5-_0x110fdb/0x2+_0x15c206/0x2,_0x434c31[_0x1625c1(0x299)]=0x9*GRID_H;}}function onScroll(){const _0x8b04ad=a2_0x539d8b,_0x3e148d=document[_0x8b04ad(0x274)](_0x8b04ad(0x275)),_0x2d3521=document[_0x8b04ad(0x240)](_0x8b04ad(0x287));for(let _0x2ffe10 of _0x2d3521)if(_0x2ffe10['offsetLeft']>=_0x3e148d[_0x8b04ad(0x25d)]){const _0x5a0590=new Date(_0x2ffe10[_0x8b04ad(0x251)](_0x8b04ad(0x1f7)));document[_0x8b04ad(0x274)](_0x8b04ad(0x252))[_0x8b04ad(0x239)]=_0x5a0590[_0x8b04ad(0x2e9)]('ru',{'month':_0x8b04ad(0x2a6)})['toUpperCase']()+'\x20'+_0x5a0590[_0x8b04ad(0x272)]();break;}}function showToast(_0x21e616,_0x479574=![]){const _0x140940=a2_0x539d8b,_0x1aabd5=document[_0x140940(0x274)](_0x140940(0x323));_0x1aabd5['className']=_0x140940(0x1ba)+(_0x479574?_0x140940(0x2b9):''),document[_0x140940(0x274)]('toastTitle')[_0x140940(0x239)]=_0x479574?_0x140940(0x2f8):_0x140940(0x227),document[_0x140940(0x274)](_0x140940(0x1f8))[_0x140940(0x239)]=_0x21e616,_0x1aabd5[_0x140940(0x27b)]['add'](_0x140940(0x24b)),setTimeout(()=>{const _0x375683=_0x140940;_0x1aabd5[_0x375683(0x27b)]['remove'](_0x375683(0x24b));},0xbb8);}function openDayOptions(_0x48049e,_0xb3e07e){const _0x2b0b14=a2_0x539d8b;selectedDayForOptions=_0x48049e,document['getElementById']('dayOptionsTitle')[_0x2b0b14(0x239)]=_0xb3e07e,openSheet(_0x2b0b14(0x2e1));}function toggleDayOff(){const _0xb75bc4=a2_0x539d8b;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0xb75bc4(0x295),reRenderBlocks(),closeAllSheets(),DataManager[_0xb75bc4(0x344)](),DataManager[_0xb75bc4(0x1c2)]('save_settings',{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x2cf059=a2_0x539d8b;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x2cf059(0x344)](),DataManager[_0x2cf059(0x1c2)](_0x2cf059(0x2c4),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x1b4de2){const _0x22f4b0=a2_0x539d8b;document[_0x22f4b0(0x274)](_0x22f4b0(0x296))[_0x22f4b0(0x27b)][_0x22f4b0(0x1d8)](_0x22f4b0(0x2b6)),document[_0x22f4b0(0x274)](_0x1b4de2)[_0x22f4b0(0x27b)][_0x22f4b0(0x1d8)](_0x22f4b0(0x29d));}function closeAllSheets(){const _0x3241b5=a2_0x539d8b;document[_0x3241b5(0x274)](_0x3241b5(0x296))[_0x3241b5(0x27b)][_0x3241b5(0x2ca)](_0x3241b5(0x2b6)),document[_0x3241b5(0x240)](_0x3241b5(0x286))[_0x3241b5(0x290)](_0x3eb5aa=>_0x3eb5aa[_0x3241b5(0x27b)][_0x3241b5(0x2ca)](_0x3241b5(0x29d)));}function openPatternEditor(){const _0x198c33=a2_0x539d8b;closeAllSheets(),document[_0x198c33(0x274)](_0x198c33(0x2ff))[_0x198c33(0x27b)][_0x198c33(0x1d8)](_0x198c33(0x29d)),renderPatternEditor();}function closePatternEditor(){const _0x378b44=a2_0x539d8b;document[_0x378b44(0x274)](_0x378b44(0x2ff))['classList'][_0x378b44(0x2ca)](_0x378b44(0x29d));}function savePattern(){const _0x141e61=a2_0x539d8b;document[_0x141e61(0x274)](_0x141e61(0x2ff))[_0x141e61(0x27b)][_0x141e61(0x2ca)](_0x141e61(0x29d)),reRenderBlocks(),DataManager[_0x141e61(0x344)](),DataManager['fetchFromServer'](_0x141e61(0x2c4),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x3620d8=a2_0x539d8b,_0x3dad0b=document[_0x3620d8(0x274)](_0x3620d8(0x30b));_0x3dad0b[_0x3620d8(0x256)]='';const _0x55569a=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0xa93b0e=document['createElement'](_0x3620d8(0x32a));_0xa93b0e[_0x3620d8(0x23e)]='pe-corner',_0x3dad0b[_0x3620d8(0x2ee)](_0xa93b0e),_0x55569a[_0x3620d8(0x290)]((_0x3f582f,_0x9b6020)=>{const _0x3926a0=_0x3620d8,_0xac5044=document['createElement'](_0x3926a0(0x32a));_0xac5044[_0x3926a0(0x23e)]='pe-col-header',_0xac5044[_0x3926a0(0x256)]=_0x3f582f+_0x3926a0(0x1eb),_0xac5044[_0x3926a0(0x32d)]=()=>toggleColPattern(_0x9b6020),_0x3dad0b['appendChild'](_0xac5044);});for(let _0x5c3156=0x0;_0x5c3156<0x18;_0x5c3156++){const _0x11ab94=document[_0x3620d8(0x241)]('div');_0x11ab94[_0x3620d8(0x23e)]=_0x3620d8(0x21a),_0x11ab94['innerHTML']=_0x3620d8(0x236)+String(_0x5c3156)[_0x3620d8(0x214)](0x2,'0')+_0x3620d8(0x312),_0x11ab94[_0x3620d8(0x32d)]=()=>toggleRowPattern(_0x5c3156),_0x3dad0b[_0x3620d8(0x2ee)](_0x11ab94);for(let _0x4fe107=0x0;_0x4fe107<0x7;_0x4fe107++){const _0x45814b=document[_0x3620d8(0x241)](_0x3620d8(0x32a)),_0x27468c=(availabilityPattern[_0x4fe107]||[])[_0x3620d8(0x24c)](_0x5c3156),_0x3ba17c=!_0x27468c;_0x45814b[_0x3620d8(0x23e)]=_0x3620d8(0x1ed)+(_0x3ba17c?'active':''),_0x45814b['onclick']=()=>toggleSinglePattern(_0x4fe107,_0x5c3156),_0x3dad0b[_0x3620d8(0x2ee)](_0x45814b);}}}function a2_0x5c7c(){const _0x64ee9c=['scrollWidth','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','text','statLoadCard','[Notify]\x20Error:\x20Text\x20generation\x20failed','4952685jivouR','createDocumentFragment','splice','.dch-stats-fill','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','.sheet','.day-col-header','single','addEventListener','background','catch','loadLocal','user','dateStr','calendar','forEach','getDay','stringify','colIndex','globalTimeLine','off','overlay','as-button\x20danger','borderColor','scrollTop','header-','log','closest','open','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','3318049HEoOlC','Save\x20settings\x20error:','round','actionSheetOverlay','json','v9.0-BATCH-CALENDAR','long',':\x20Client\x20already\x20booked','color','[Notify]\x20Network\x20Failed','\x20‚Äî\x20','inpRecurring','doLoadPercent','var(--acc-red)','settings','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','pattern','42nggAFc','getTime','data','mousemove','active','touchend','10px','success','blocked-slot\x20stripe-bg','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','T00:00:00','create','max','16081263IoWlsd','getBoundingClientRect','offsetLeft','seriesCountContainer','calc(','save_settings','recurringOptionContainer','sort','[API\x20','entries','setDate','remove','timeLineBadge','scroll',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','target','setMonth','then','block','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','strokeDashoffset','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','btn-primary\x20btn-secondary','range-item','width','completed','%\x20-\x204px)','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','length','#0a84ff','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','#gridColumns\x20.day-column','findIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','dayOptionsSheet','day-col-header\x20','actionSheet','cancel','search','mousedown','sessionSheet','start','toLocaleString','8169376ZmrMeX','top','insertBefore','35VOkgeK','appendChild','</span>\x20/\x20','apply','#fff','name','none','btn-status-toggle\x20undo-mode','rgba(100,100,100,0.5)','toString','mini','–£—Å–ø–µ—à–Ω–æ','charAt','rgba(48,\x20209,\x2088,\x200.15)','[Notify]\x20Sending\x20to\x20GAS\x20for\x20',':00</span>','floor','inpNote','patternEditor','done','all','querySelector','asBtnOne','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','expand','rgba(255,\x2069,\x2058,\x200.3)','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','var(--acc-orange)','getMinutes','initDataUnsafe','peGrid','[Notify]\x20Server\x20Response:','clients','slice','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','\x20status-completed','[Notify]\x20Error:\x20sessionData\x20is\x20null',':00',']\x20Failed:','mergeServerData','</div>','send_notification','touchmove','init_load','.day-off-overlay','anStart','exceptions','100%','23:59','error','daysHeaderTrack','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','Error\x20setting\x20color:','toast','flex','toLocaleDateString','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','batch_sync','80141JrUDsr','var(--acc-current)','div','time-label','px\x200px','onclick','[Notify]\x20Attempting\x20to\x20send:','Unknown','parse','doDateHeader','(((.+)+)+)+$','toUpperCase','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','today','clientWidth','Batch\x20Sync\x20OK','Local\x20Load\x20Error','map','inpDate','update','week','offsetWidth','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','sid','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','ready','10px\x2010px\x200\x200','day-column\x20','saveLocally','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','%\x20+\x202px)','zIndex','asTitle','inpStart','toast-notification\x20','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','height','series','settingsSheet','btn-status-toggle','ru-RU','setHours','fetchFromServer','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','guest','rangeEndDate','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','btn-primary\x20btn-danger','btnDayToggle','inpSeriesCount','planned','.period-switch\x20.p-btn','valid','\x20–∏–∑\x20','numeric','uc_settings_v9','cancelled','uc_sessions_v9','doEventsList','random','end','borderLeftColor','rangeEndTime','Server\x20Error','add','split','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','anEnd','borderRadius','sheetTitle','value','complete','[Notify]\x20Client\x20SWAP\x20detected','note','...','localeCompare','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','warn','getItem','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','343902rPFPhQ',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','pe-cell\x20','[Notify]\x20Detected\x20Client\x20ID:','asBtnSeries','T23:59:59','checked','5241368YDJzDO','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','btnStatusToggle','client','save','data-date','toastMessage','data-day-idx','display','from','rgba(','anDonutCircle','day-off-overlay\x20stripe-bg','getHours','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','px\x20-','keys','formatDate','total','<div\x20class=\x22dch-day\x22>','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','delete','rangeStartTime','filter','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','DOMContentLoaded','toFixed','</div><div\x20class=\x22ev-time\x22>','rgba(255,\x2069,\x2058,\x200.15)','Error\x20setting\x20back\x20button:','deleted','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','uc_settings_cancel_window','</div><div\x20class=\x22dch-num\x22>','padStart','inpClient','timeColumn','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','de-item','pe-time-label','min','msg','getDate','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','setItem','indexOf','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','onClick','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','warning','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rangesList','–ò–Ω—Ñ–æ','rgba(255,255,255,0.05)','initData','now','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','doWorkHours','clientId','backgroundColor','custom','uc_clients_v9','00:00','touches','seriesId','–£–¥–∞–ª–µ–Ω–∏–µ','gridColumns','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','\x20-\x20','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','textContent','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','WebApp','sheetDateSubtitle','Telegram','className','cancel_window','querySelectorAll','createElement','[Series]\x20Skipped\x20','offClick','<b>‚úÖ\x20','rangesSheet','inpEnd','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','backgroundPosition','var(--acc-green)','push','show','includes','undefined','<div\x20class=\x22ev-title\x22>','setAttribute','#050505','getAttribute','headerMonth','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','stopPropagation','innerHTML','mouseup','POST','patternInfoBox','ranges','clientY','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','scrollLeft','find','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','analyticsSheet','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','\x20days','rangeStartDate','BackButton','btnDelete','doBusyHours','style','event-card','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','send','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','constructor','as-button\x20danger\x20bold','isArray','setBackgroundColor','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','getFullYear','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','getElementById','matrixViewport','status','anTotalStats','getMonth','settingCancelWindow','startsWith','classList'];a2_0x5c7c=function(){return _0x64ee9c;};return a2_0x5c7c();}function toggleSinglePattern(_0x2d7df3,_0x344086){const _0x322527=a2_0x539d8b;if(!availabilityPattern[_0x2d7df3])availabilityPattern[_0x2d7df3]=[];const _0x288933=availabilityPattern[_0x2d7df3],_0x2348c2=_0x288933[_0x322527(0x220)](_0x344086);_0x2348c2===-0x1?_0x288933[_0x322527(0x24a)](_0x344086):_0x288933[_0x322527(0x283)](_0x2348c2,0x1),renderPatternEditor();}function toggleColPattern(_0x3116a2){const _0x44d60b=a2_0x539d8b;if(!availabilityPattern[_0x3116a2])availabilityPattern[_0x3116a2]=[];const _0x146eb0=availabilityPattern[_0x3116a2];_0x146eb0[_0x44d60b(0x2db)]===0x0?availabilityPattern[_0x3116a2]=Array[_0x44d60b(0x1fb)]({'length':0x18},(_0x59cc9d,_0x5d10c4)=>_0x5d10c4):availabilityPattern[_0x3116a2]=[],renderPatternEditor();}function toggleRowPattern(_0x88fe73){const _0x4f5963=a2_0x539d8b;let _0x1625bd=!![];for(let _0x4db6f9=0x0;_0x4db6f9<0x7;_0x4db6f9++){if((availabilityPattern[_0x4db6f9]||[])[_0x4f5963(0x24c)](_0x88fe73)){_0x1625bd=![];break;}}for(let _0x3ebb21=0x0;_0x3ebb21<0x7;_0x3ebb21++){if(!availabilityPattern[_0x3ebb21])availabilityPattern[_0x3ebb21]=[];const _0x432b8d=availabilityPattern[_0x3ebb21][_0x4f5963(0x220)](_0x88fe73);if(_0x1625bd){if(_0x432b8d===-0x1)availabilityPattern[_0x3ebb21][_0x4f5963(0x24a)](_0x88fe73);}else{if(_0x432b8d!==-0x1)availabilityPattern[_0x3ebb21][_0x4f5963(0x283)](_0x432b8d,0x1);}}renderPatternEditor();}function renderPCol(_0x4f0302,_0x43854d){const _0xca0b70=a2_0x539d8b;_0x4f0302[_0xca0b70(0x256)]='';const _0x5d1a29=Math[_0xca0b70(0x2a2)](_0x4f0302[_0xca0b70(0x2c1)]);(availabilityPattern[_0x43854d]||[])[_0xca0b70(0x290)](_0x2e7349=>{const _0x6011ed=_0xca0b70,_0x28e2f0=document[_0x6011ed(0x241)](_0x6011ed(0x32a));_0x28e2f0[_0x6011ed(0x23e)]=_0x6011ed(0x2ba);const _0x413aa0=_0x2e7349*GRID_H;_0x28e2f0[_0x6011ed(0x267)]['top']=_0x413aa0+'px',_0x28e2f0[_0x6011ed(0x267)]['backgroundPosition']='-'+_0x5d1a29+_0x6011ed(0x201)+_0x413aa0+'px',_0x28e2f0[_0x6011ed(0x32d)]=_0x3bccd0=>{const _0x3a3ff7=_0x6011ed;_0x3bccd0[_0x3a3ff7(0x255)](),toggleSinglePattern(_0x43854d,_0x2e7349);},_0x4f0302[_0x6011ed(0x2ee)](_0x28e2f0);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x1b60f1=a2_0x539d8b,_0x30c407=new Date(),_0x533930=document[_0x1b60f1(0x274)](_0x1b60f1(0x294)),_0xcc8247=document[_0x1b60f1(0x274)](_0x1b60f1(0x2cb)),_0x1cba54=(_0x30c407[_0x1b60f1(0x1ff)]()*0x3c+_0x30c407[_0x1b60f1(0x309)]())/0x3c*GRID_H;_0x533930[_0x1b60f1(0x267)][_0x1b60f1(0x2eb)]=_0x1cba54+'px',_0x533930[_0x1b60f1(0x267)]['display']=_0x1b60f1(0x2d1),_0xcc8247[_0x1b60f1(0x239)]=String(_0x30c407[_0x1b60f1(0x1ff)]())[_0x1b60f1(0x214)](0x2,'0')+':'+String(_0x30c407[_0x1b60f1(0x309)]())[_0x1b60f1(0x214)](0x2,'0'),_0xcc8247['style'][_0x1b60f1(0x1fa)]=_0x1b60f1(0x2d1),_0xcc8247['style'][_0x1b60f1(0x2eb)]=_0x1cba54+'px';}document[a2_0x539d8b(0x289)](a2_0x539d8b(0x20b),init);function openDayOptions(_0x25a993){const _0x18f3ad=a2_0x539d8b;selectedDayForOptions=_0x25a993;const _0x1168a5=new Date(_0x25a993),_0x598374={'weekday':_0x18f3ad(0x2a6),'day':_0x18f3ad(0x1ce),'month':'long','year':_0x18f3ad(0x1ce)},_0x63d08c=_0x1168a5[_0x18f3ad(0x325)]('ru-RU',_0x598374);document[_0x18f3ad(0x274)](_0x18f3ad(0x331))['textContent']=_0x63d08c[_0x18f3ad(0x2f9)](0x0)[_0x18f3ad(0x333)]()+_0x63d08c[_0x18f3ad(0x30e)](0x1);let _0x313ecf=_0x1168a5[_0x18f3ad(0x291)]()-0x1;if(_0x313ecf===-0x1)_0x313ecf=0x6;const _0x455062=availabilityPattern[_0x313ecf]||[],_0x200102=0x18-_0x455062[_0x18f3ad(0x2db)],_0x2a57d1=_0x200102*0x3c,_0x23bcf7=sessions[_0x18f3ad(0x209)](_0x294f2a=>_0x294f2a[_0x18f3ad(0x28e)]===_0x25a993&&_0x294f2a['status']!=='cancelled');let _0x44bf90=_0x23bcf7['map'](_0xf9963f=>{const _0x2ebae4=_0x18f3ad,[_0x1f3136,_0x5216b1]=_0xf9963f[_0x2ebae4(0x2e8)][_0x2ebae4(0x1d9)](':')[_0x2ebae4(0x339)](Number),[_0x2029b4,_0x253631]=_0xf9963f['end']['split'](':')[_0x2ebae4(0x339)](Number);return[_0x1f3136*0x3c+_0x5216b1,_0x2029b4*0x3c+_0x253631];});_0x44bf90[_0x18f3ad(0x2c6)]((_0x16a9e2,_0x5b4ba5)=>_0x16a9e2[0x0]-_0x5b4ba5[0x0]);let _0x3abaac=[];if(_0x44bf90[_0x18f3ad(0x2db)]>0x0){let _0x3edc26=_0x44bf90[0x0];for(let _0x549a68=0x1;_0x549a68<_0x44bf90['length'];_0x549a68++){_0x44bf90[_0x549a68][0x0]<_0x3edc26[0x1]?_0x3edc26[0x1]=Math['max'](_0x3edc26[0x1],_0x44bf90[_0x549a68][0x1]):(_0x3abaac[_0x18f3ad(0x24a)](_0x3edc26),_0x3edc26=_0x44bf90[_0x549a68]);}_0x3abaac['push'](_0x3edc26);}let _0x1d0a46=0x0;_0x3abaac[_0x18f3ad(0x290)](_0x2af210=>_0x1d0a46+=_0x2af210[0x1]-_0x2af210[0x0]),document[_0x18f3ad(0x274)](_0x18f3ad(0x22c))[_0x18f3ad(0x239)]=formatMinsToHrs(_0x2a57d1),document[_0x18f3ad(0x274)](_0x18f3ad(0x266))[_0x18f3ad(0x239)]=formatMinsToHrs(_0x1d0a46);const _0x4783b8=_0x2a57d1>0x0?Math[_0x18f3ad(0x2a2)](_0x1d0a46/_0x2a57d1*0x64):0x0,_0x2410d3=document[_0x18f3ad(0x274)](_0x18f3ad(0x2ac));_0x2410d3[_0x18f3ad(0x239)]=_0x4783b8+'%';const _0x4a6a9c=document[_0x18f3ad(0x274)](_0x18f3ad(0x27f));if(_0x4783b8>0x64)_0x2410d3['style']['color']=_0x18f3ad(0x2ad),_0x4a6a9c[_0x18f3ad(0x267)][_0x18f3ad(0x298)]=_0x18f3ad(0x306);else _0x4783b8>0x50?(_0x2410d3[_0x18f3ad(0x267)][_0x18f3ad(0x2a8)]=_0x18f3ad(0x308),_0x4a6a9c[_0x18f3ad(0x267)][_0x18f3ad(0x298)]='rgba(255,\x20159,\x2010,\x200.3)'):(_0x2410d3[_0x18f3ad(0x267)]['color']=_0x18f3ad(0x249),_0x4a6a9c[_0x18f3ad(0x267)][_0x18f3ad(0x298)]=_0x18f3ad(0x228));const _0x306f6a=document[_0x18f3ad(0x274)](_0x18f3ad(0x1d2));_0x306f6a[_0x18f3ad(0x256)]='';_0x23bcf7[_0x18f3ad(0x2db)]===0x0?_0x306f6a['innerHTML']='<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>':(_0x23bcf7[_0x18f3ad(0x2c6)]((_0x36ac63,_0x4f1a70)=>_0x36ac63[_0x18f3ad(0x2e8)][_0x18f3ad(0x1e3)](_0x4f1a70[_0x18f3ad(0x2e8)])),_0x23bcf7[_0x18f3ad(0x290)](_0xc9b9fd=>{const _0x41a887=_0x18f3ad,_0x345696=clients[_0x41a887(0x25e)](_0x11236b=>_0x11236b[_0x41a887(0x2f2)]===_0xc9b9fd['client']),_0x41e5ea=_0x345696?_0x345696['color']:_0x41a887(0x2f1),_0x22fdbd=_0xc9b9fd[_0x41a887(0x276)]==='completed',_0x2cce9c=_0x22fdbd?_0x41a887(0x1ec):'',_0x10834e=document[_0x41a887(0x241)](_0x41a887(0x32a));_0x10834e['className']=_0x41a887(0x219),_0x10834e[_0x41a887(0x267)][_0x41a887(0x1d5)]=_0x41e5ea,_0x10834e[_0x41a887(0x256)]=_0x41a887(0x1e5)+_0xc9b9fd[_0x41a887(0x2e8)]+_0x41a887(0x237)+_0xc9b9fd[_0x41a887(0x1d4)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xc9b9fd['client']+_0x41a887(0x22b)+_0x2cce9c+_0x41a887(0x2e0),_0x306f6a['appendChild'](_0x10834e);}));const _0x75981b=document[_0x18f3ad(0x274)](_0x18f3ad(0x1c8)),_0x207020=dateExceptions[_0x25a993]===_0x18f3ad(0x295);_0x207020?(_0x75981b[_0x18f3ad(0x239)]=_0x18f3ad(0x26c),_0x75981b[_0x18f3ad(0x23e)]=_0x18f3ad(0x2d5),_0x75981b[_0x18f3ad(0x267)][_0x18f3ad(0x2a8)]=_0x18f3ad(0x249),_0x75981b[_0x18f3ad(0x267)][_0x18f3ad(0x28a)]=_0x18f3ad(0x2fa)):(_0x75981b['textContent']=_0x18f3ad(0x200),_0x75981b[_0x18f3ad(0x23e)]=_0x18f3ad(0x1c7),_0x75981b[_0x18f3ad(0x267)][_0x18f3ad(0x2a8)]=_0x18f3ad(0x2ad),_0x75981b['style'][_0x18f3ad(0x28a)]=_0x18f3ad(0x20e)),openSheet(_0x18f3ad(0x2e1));}let currentAnPeriod=a2_0x539d8b(0x33c);function openAnalytics(){const _0x22dbee=a2_0x539d8b,_0x4f29c8=document['querySelector'](_0x22dbee(0x1cb));setAnalyticsPeriod('week',_0x4f29c8),closeAllSheets(),openSheet(_0x22dbee(0x260));}function setAnalyticsPeriod(_0x2ba66c,_0x546eb4){const _0x21cc41=a2_0x539d8b;currentAnPeriod=_0x2ba66c,document['querySelectorAll'](_0x21cc41(0x1cb))['forEach'](_0x5cf118=>_0x5cf118['classList'][_0x21cc41(0x2ca)](_0x21cc41(0x2b6)));if(_0x546eb4)_0x546eb4[_0x21cc41(0x27b)][_0x21cc41(0x1d8)](_0x21cc41(0x2b6));const _0x1907ca=document[_0x21cc41(0x274)]('anCustomDates');_0x1907ca[_0x21cc41(0x267)][_0x21cc41(0x1fa)]=_0x2ba66c===_0x21cc41(0x22f)?_0x21cc41(0x324):'none';const _0x580864=new Date();let _0x4a7c20=new Date(),_0x1d03f9=new Date();if(_0x2ba66c===_0x21cc41(0x33c))_0x4a7c20=getStartOfWeek(_0x580864),_0x1d03f9=new Date(_0x4a7c20),_0x1d03f9[_0x21cc41(0x2c9)](_0x1d03f9[_0x21cc41(0x21d)]()+0x6);else{if(_0x2ba66c==='month')_0x4a7c20=new Date(_0x580864[_0x21cc41(0x272)](),_0x580864[_0x21cc41(0x278)](),0x1),_0x1d03f9=new Date(_0x580864[_0x21cc41(0x272)](),_0x580864[_0x21cc41(0x278)]()+0x1,0x0);else{!document[_0x21cc41(0x274)](_0x21cc41(0x31a))[_0x21cc41(0x1de)]&&(document[_0x21cc41(0x274)](_0x21cc41(0x31a))[_0x21cc41(0x1de)]=getLocalDateStr(_0x580864),document[_0x21cc41(0x274)]('anEnd')[_0x21cc41(0x1de)]=getLocalDateStr(_0x580864));refreshAnalytics();return;}}document[_0x21cc41(0x274)](_0x21cc41(0x31a))[_0x21cc41(0x1de)]=getLocalDateStr(_0x4a7c20),document[_0x21cc41(0x274)]('anEnd')['value']=getLocalDateStr(_0x1d03f9),refreshAnalytics();}function refreshAnalytics(){const _0x16a7ff=a2_0x539d8b,_0x483707=document[_0x16a7ff(0x274)](_0x16a7ff(0x31a))['value'],_0x2b9e44=document[_0x16a7ff(0x274)](_0x16a7ff(0x1db))[_0x16a7ff(0x1de)];if(!_0x483707||!_0x2b9e44)return;const _0x1e75b0=sessions[_0x16a7ff(0x209)](_0x58a388=>_0x58a388[_0x16a7ff(0x28e)]>=_0x483707&&_0x58a388[_0x16a7ff(0x28e)]<=_0x2b9e44&&_0x58a388['status']!==_0x16a7ff(0x1d0)),_0x31bca5=_0x1e75b0[_0x16a7ff(0x2db)],_0x2af17c=_0x1e75b0[_0x16a7ff(0x209)](_0x13e640=>_0x13e640[_0x16a7ff(0x276)]===_0x16a7ff(0x2d8))[_0x16a7ff(0x2db)],_0x224124=_0x31bca5>0x0?Math[_0x16a7ff(0x2a2)](_0x2af17c/_0x31bca5*0x64):0x0;document['getElementById']('anPercent')['textContent']=_0x224124+'%',document[_0x16a7ff(0x274)](_0x16a7ff(0x277))[_0x16a7ff(0x239)]=_0x2af17c+_0x16a7ff(0x1cd)+_0x31bca5+_0x16a7ff(0x285);const _0x6a8a7=document[_0x16a7ff(0x274)](_0x16a7ff(0x1fd)),_0x488d1d=0x2*Math['PI']*0x23,_0x1fe8c7=_0x488d1d-_0x224124/0x64*_0x488d1d;_0x6a8a7[_0x16a7ff(0x267)][_0x16a7ff(0x2d3)]=_0x1fe8c7;const _0x3c4616={};_0x1e75b0[_0x16a7ff(0x290)](_0x27d183=>{const _0xf9968f=_0x16a7ff;if(!_0x3c4616[_0x27d183[_0xf9968f(0x1f5)]]){const _0x1f0045=clients['find'](_0x271ed8=>_0x271ed8['name']===_0x27d183[_0xf9968f(0x1f5)]);_0x3c4616[_0x27d183['client']]={'total':0x0,'done':0x0,'color':_0x1f0045?_0x1f0045['color']:_0xf9968f(0x2f1)};}_0x3c4616[_0x27d183['client']][_0xf9968f(0x204)]++;if(_0x27d183['status']===_0xf9968f(0x2d8))_0x3c4616[_0x27d183[_0xf9968f(0x1f5)]][_0xf9968f(0x300)]++;});const _0x179da9=document[_0x16a7ff(0x274)]('analyticsList');_0x179da9['innerHTML']='';const _0xc99460=Object[_0x16a7ff(0x2c8)](_0x3c4616)[_0x16a7ff(0x2c6)]((_0x22a47b,_0x375ff8)=>_0x375ff8[0x1][_0x16a7ff(0x204)]-_0x22a47b[0x1][_0x16a7ff(0x204)]);if(_0xc99460[_0x16a7ff(0x2db)]===0x0){_0x179da9[_0x16a7ff(0x256)]='<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>';return;}_0xc99460[_0x16a7ff(0x290)](([_0x371b2d,_0x1b8dfd])=>{const _0x355345=_0x16a7ff,_0x38a944=Math[_0x355345(0x2a2)](_0x1b8dfd[_0x355345(0x300)]/_0x1b8dfd[_0x355345(0x204)]*0x64),_0x1016e5=document[_0x355345(0x241)](_0x355345(0x32a));_0x1016e5[_0x355345(0x23e)]='client-stat-card',_0x1016e5[_0x355345(0x267)][_0x355345(0x1d5)]=_0x1b8dfd[_0x355345(0x2a8)],_0x1016e5[_0x355345(0x256)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>'+_0x371b2d+_0x355345(0x1e8)+_0x1b8dfd[_0x355345(0x300)]+_0x355345(0x2ef)+_0x1b8dfd['total']+_0x355345(0x223)+_0x38a944+_0x355345(0x225),_0x179da9['appendChild'](_0x1016e5);});}function formatMinsToHrs(_0x8a2a11){const _0x104fea=a2_0x539d8b;if(_0x8a2a11===0x0)return'0';const _0x2478a2=Math[_0x104fea(0x2fd)](_0x8a2a11/0x3c),_0x13a291=_0x8a2a11%0x3c;if(_0x13a291===0x0)return _0x2478a2+'—á';return _0x2478a2+'—á\x20'+_0x13a291+'–º';}