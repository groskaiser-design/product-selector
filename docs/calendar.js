const a2_0x2e28f1=a2_0x5cea;(function(_0x39dd3e,_0x3b570e){const _0x3fdcdd=a2_0x5cea,_0xa235c6=_0x39dd3e();while(!![]){try{const _0x149ac9=parseInt(_0x3fdcdd(0x28f))/0x1*(-parseInt(_0x3fdcdd(0x1c4))/0x2)+parseInt(_0x3fdcdd(0x1dd))/0x3+-parseInt(_0x3fdcdd(0x2cb))/0x4*(-parseInt(_0x3fdcdd(0x190))/0x5)+parseInt(_0x3fdcdd(0x283))/0x6+-parseInt(_0x3fdcdd(0x24c))/0x7+parseInt(_0x3fdcdd(0x230))/0x8+-parseInt(_0x3fdcdd(0x247))/0x9;if(_0x149ac9===_0x3b570e)break;else _0xa235c6['push'](_0xa235c6['shift']());}catch(_0x399f3c){_0xa235c6['push'](_0xa235c6['shift']());}}}(a2_0xe22b,0x6484b),function initTMA(){const _0x1e604c=a2_0x5cea;try{const _0x16cd9f=window[_0x1e604c(0x2c6)]?.['WebApp'];if(!_0x16cd9f)return;_0x16cd9f[_0x1e604c(0x1d1)](),_0x16cd9f[_0x1e604c(0x267)]();try{_0x16cd9f[_0x1e604c(0x1ff)](_0x1e604c(0x17d)),_0x16cd9f[_0x1e604c(0x299)]&&_0x16cd9f[_0x1e604c(0x299)]('#050505');}catch(_0x1104d9){console[_0x1e604c(0x1c6)](_0x1e604c(0x2ab),_0x1104d9);}try{_0x16cd9f[_0x1e604c(0x225)]&&(_0x16cd9f[_0x1e604c(0x225)]['show'](),_0x16cd9f[_0x1e604c(0x225)][_0x1e604c(0x1f8)](),_0x16cd9f['BackButton'][_0x1e604c(0x2bd)](function(){const _0x594b94=_0x1e604c;window[_0x594b94(0x25a)][_0x594b94(0x2dc)]=_0x594b94(0x1b0);}));}catch(_0x4e5dd7){console[_0x1e604c(0x1c6)](_0x1e604c(0x2b7),_0x4e5dd7);}try{if(_0x16cd9f[_0x1e604c(0x1de)])_0x16cd9f[_0x1e604c(0x1de)]();}catch(_0x10b9bc){}}catch(_0xb1ac45){console[_0x1e604c(0x2d2)](_0x1e604c(0x251),_0xb1ac45);}}());function isAdmin(){const _0x176032=a2_0x5cea;try{const _0x5cb9ea=Number(window[_0x176032(0x2c6)]?.[_0x176032(0x29a)]?.['initDataUnsafe']?.[_0x176032(0x1f6)]?.['id']);return _0x5cb9ea===0xbaf7174;}catch(_0x445d65){return![];}}const APP_VERSION=a2_0x2e28f1(0x1e3),API_URL='https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec',GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x2e28f1(0x271),KEY_SESSIONS=a2_0x2e28f1(0x2b4),KEY_SETTINGS=a2_0x2e28f1(0x1b5);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x5abd36=a2_0x2e28f1;return window[_0x5abd36(0x2c6)]?.[_0x5abd36(0x29a)]?.[_0x5abd36(0x18d)]?.[_0x5abd36(0x1f6)]?.['id']||_0x5abd36(0x28a);},'saveLocally'(){const _0x186dc4=a2_0x2e28f1;try{localStorage['setItem'](KEY_CLIENTS,JSON[_0x186dc4(0x16c)](clients)),localStorage[_0x186dc4(0x2a8)](KEY_SESSIONS,JSON[_0x186dc4(0x16c)](sessions)),localStorage['setItem'](KEY_SETTINGS,JSON[_0x186dc4(0x16c)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x477f1e){console[_0x186dc4(0x2d2)](_0x186dc4(0x23e),_0x477f1e);}},'loadLocal'(){const _0x2e840d=a2_0x2e28f1;try{const _0x4b5d37=localStorage[_0x2e840d(0x1bc)](KEY_CLIENTS);if(_0x4b5d37)clients=JSON[_0x2e840d(0x23a)](_0x4b5d37);const _0xa40b01=localStorage['getItem'](KEY_SESSIONS);if(_0xa40b01)sessions=JSON[_0x2e840d(0x23a)](_0xa40b01);const _0x4697a3=localStorage[_0x2e840d(0x1bc)](KEY_SETTINGS);if(_0x4697a3){const _0x1fc3e5=JSON[_0x2e840d(0x23a)](_0x4697a3);if(_0x1fc3e5[_0x2e840d(0x224)])availabilityPattern=_0x1fc3e5[_0x2e840d(0x224)];if(_0x1fc3e5[_0x2e840d(0x17c)])dateExceptions=_0x1fc3e5[_0x2e840d(0x17c)];if(_0x1fc3e5[_0x2e840d(0x253)])specialRanges=_0x1fc3e5[_0x2e840d(0x253)];}else{for(let _0x4f1138=0x0;_0x4f1138<0x7;_0x4f1138++)availabilityPattern[_0x4f1138]=Array[_0x2e840d(0x1c0)]({'length':0xc},(_0x24ca6e,_0x57b6ed)=>_0x57b6ed+0x9);}}catch(_0x3e48f4){console[_0x2e840d(0x2d2)](_0x2e840d(0x29b),_0x3e48f4);}},async 'fetchFromServer'(_0x8d6880,_0x2dc0bb={}){const _0x394dbe=a2_0x2e28f1,_0x3b36c6=window[_0x394dbe(0x2c6)]?.[_0x394dbe(0x29a)],_0x331315={'action':_0x8d6880,'init_data':_0x3b36c6?.[_0x394dbe(0x222)]||'',..._0x2dc0bb};try{const _0x22dbde=await fetch(API_URL,{'method':'POST','headers':{'Content-Type':_0x394dbe(0x2aa)},'body':JSON[_0x394dbe(0x16c)](_0x331315)}),_0xc024d8=await _0x22dbde[_0x394dbe(0x208)]();if(!_0xc024d8['ok'])throw new Error(_0xc024d8[_0x394dbe(0x2d2)]||_0x394dbe(0x1ea));return _0xc024d8['data'];}catch(_0x301501){console[_0x394dbe(0x2d2)](_0x394dbe(0x2e9)+_0x8d6880+_0x394dbe(0x286),_0x301501);throw _0x301501;}},async 'syncLoad'(){const _0x2e9abe=a2_0x2e28f1,_0x19d1c1=new Date(),_0x2acfcf=_0x19d1c1[_0x2e9abe(0x1be)]()+'-'+String(_0x19d1c1[_0x2e9abe(0x189)]()+0x1)['padStart'](0x2,'0'),_0x26e1f0=new Date(_0x19d1c1);_0x26e1f0[_0x2e9abe(0x2dd)](_0x19d1c1[_0x2e9abe(0x189)]()+0x1);const _0x42118b=_0x26e1f0['getFullYear']()+'-'+String(_0x26e1f0[_0x2e9abe(0x189)]()+0x1)['padStart'](0x2,'0'),_0x502f1b=Date['now']();console[_0x2e9abe(0x1c6)](_0x2e9abe(0x1af)+_0x2acfcf+',\x20'+_0x42118b+'...');try{const [_0x4dd445,_0x404f8a]=await Promise[_0x2e9abe(0x181)]([this[_0x2e9abe(0x196)](_0x2e9abe(0x291),{'month_str':_0x2acfcf}),this[_0x2e9abe(0x196)](_0x2e9abe(0x291),{'month_str':_0x42118b})]);if(lastUserActionTime>_0x502f1b)return console[_0x2e9abe(0x20e)]('[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response'),![];return this['mergeServerData'](_0x4dd445,_0x2acfcf),this[_0x2e9abe(0x191)](_0x404f8a,_0x42118b),this[_0x2e9abe(0x1aa)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x3b5839){console[_0x2e9abe(0x2d2)](_0x3b5839);throw _0x3b5839;}},'mergeServerData'(_0x283815,_0x25f2b1){const _0x375a97=a2_0x2e28f1;if(!_0x283815)return;_0x283815['clients']&&Array[_0x375a97(0x18f)](_0x283815['clients'])&&(clients=_0x283815[_0x375a97(0x1fa)]);if(_0x283815['settings']){if(_0x283815[_0x375a97(0x206)][_0x375a97(0x224)])availabilityPattern=_0x283815['settings']['pattern'];if(_0x283815[_0x375a97(0x206)]['exceptions'])dateExceptions=_0x283815[_0x375a97(0x206)][_0x375a97(0x17c)];if(_0x283815[_0x375a97(0x206)]['ranges'])specialRanges=_0x283815[_0x375a97(0x206)]['ranges'];if(_0x283815[_0x375a97(0x206)][_0x375a97(0x205)]){localStorage['setItem']('uc_settings_cancel_window',_0x283815[_0x375a97(0x206)][_0x375a97(0x205)]);const _0x15fc35=document[_0x375a97(0x279)]('settingCancelWindow');if(_0x15fc35)_0x15fc35[_0x375a97(0x2f1)]=_0x283815['settings']['cancel_window'];}}_0x283815[_0x375a97(0x2e2)]&&(sessions=sessions[_0x375a97(0x2ea)](_0x233cdd=>!_0x233cdd[_0x375a97(0x1ba)]['startsWith'](_0x25f2b1)),Object[_0x375a97(0x28c)](_0x283815[_0x375a97(0x2e2)])[_0x375a97(0x20d)](_0x2c6e3c=>{const _0x4319b3=_0x375a97,_0x26ef68=_0x283815[_0x4319b3(0x2e2)][_0x2c6e3c];_0x26ef68['forEach'](_0x3960aa=>{const _0x4362f0=_0x4319b3,_0x7d4c2a=clients[_0x4362f0(0x23f)](_0x359681=>String(_0x359681['id'])===String(_0x3960aa['c']));sessions[_0x4362f0(0x2ae)]({'id':_0x3960aa['i'],'clientId':_0x3960aa['c'],'client':_0x7d4c2a?_0x7d4c2a[_0x4362f0(0x1b7)]:_0x4362f0(0x2c5),'dateStr':_0x25f2b1+'-'+_0x2c6e3c[_0x4362f0(0x2a4)](0x2,'0'),'start':_0x3960aa['s'],'end':_0x3960aa['e'],'status':_0x3960aa['st']||_0x4362f0(0x2d9),'note':_0x3960aa['n']||'','seriesId':_0x3960aa[_0x4362f0(0x28e)]||null});});}));},async 'syncBatch'(_0x13aa21){const _0x32606b=a2_0x2e28f1,_0x366474=[...new Set(_0x13aa21)],_0x351ee6=_0x366474[_0x32606b(0x1a2)](_0x3a06fd=>{const _0x2a78ac=_0x32606b,_0x2f12e3=sessions['filter'](_0x4497ee=>_0x4497ee['dateStr']===_0x3a06fd&&_0x4497ee['status']!==_0x2a78ac(0x1f2)),_0x32c7be=_0x2f12e3['map'](_0x14522d=>({'i':_0x14522d['id'],'c':_0x14522d[_0x2a78ac(0x280)],'s':_0x14522d['start'],'e':_0x14522d[_0x2a78ac(0x2d4)],'st':_0x14522d[_0x2a78ac(0x2e5)],'n':_0x14522d[_0x2a78ac(0x17a)],'sid':_0x14522d['seriesId']}));return{'date':_0x3a06fd,'day_data':_0x32c7be};});if(_0x351ee6['length']===0x0)return;console[_0x32606b(0x1c6)]('[Sync]\x20Pushing\x20batch\x20updates\x20for\x20'+_0x351ee6[_0x32606b(0x2c9)]+_0x32606b(0x235)),await this[_0x32606b(0x196)](_0x32606b(0x234),{'changes':_0x351ee6});}};async function init(){const _0x4c5d09=a2_0x2e28f1;DataManager[_0x4c5d09(0x266)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x4c5d09(0x279)](_0x4c5d09(0x2b1))[_0x4c5d09(0x260)](_0x4c5d09(0x18e),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']()['then'](()=>{const _0x3364c8=_0x4c5d09;showToast(_0x3364c8(0x16e),!![]);})[_0x4c5d09(0x2d5)](_0x1314d3=>{const _0x124bc6=_0x4c5d09;showToast(_0x124bc6(0x16f),![]);});}function generateId(){const _0x2dc717=a2_0x2e28f1;return Date['now']()[_0x2dc717(0x2cc)](0x24)+Math['random']()[_0x2dc717(0x2cc)](0x24)[_0x2dc717(0x1a9)](0x2,0x5);}function toggleSeriesInput(){const _0x8dd52=a2_0x2e28f1,_0x569289=document[_0x8dd52(0x279)]('inpRecurring')[_0x8dd52(0x22f)],_0x2e9450=document[_0x8dd52(0x279)](_0x8dd52(0x2f3));_0x2e9450[_0x8dd52(0x2e3)][_0x8dd52(0x218)]=_0x569289?_0x8dd52(0x2cd):_0x8dd52(0x1b6);const _0x874e1a=document[_0x8dd52(0x279)]('recurringOptionContainer');_0x874e1a[_0x8dd52(0x2e3)]['borderRadius']=_0x569289?_0x8dd52(0x2a6):_0x8dd52(0x179);}function openAddSession(_0x29ea12){const _0x5575d5=a2_0x2e28f1;editingId=null,populateClientSelect(),document[_0x5575d5(0x279)]('sheetTitle')[_0x5575d5(0x21c)]=_0x5575d5(0x1c1),document[_0x5575d5(0x279)](_0x5575d5(0x2ad))[_0x5575d5(0x2e3)][_0x5575d5(0x218)]='none',document[_0x5575d5(0x279)](_0x5575d5(0x1e5))['style'][_0x5575d5(0x218)]=_0x5575d5(0x1b6);const _0x555675=document['getElementById'](_0x5575d5(0x23d)),_0x291574=document['getElementById'](_0x5575d5(0x2f3));_0x555675[_0x5575d5(0x2e3)][_0x5575d5(0x218)]=_0x5575d5(0x221),_0x555675['style']['borderRadius']=_0x5575d5(0x179),document['getElementById'](_0x5575d5(0x258))[_0x5575d5(0x22f)]=![],document[_0x5575d5(0x279)]('inpSeriesCount')[_0x5575d5(0x2f1)]=0x4,_0x291574[_0x5575d5(0x2e3)]['display']=_0x5575d5(0x1b6),document[_0x5575d5(0x279)]('inpDate')[_0x5575d5(0x2f1)]=getLocalDateStr(_0x29ea12),updateDateDisplay();const _0x496817=_0x29ea12[_0x5575d5(0x2e8)]();document[_0x5575d5(0x279)](_0x5575d5(0x194))[_0x5575d5(0x2f1)]=String(_0x496817)[_0x5575d5(0x2a4)](0x2,'0')+_0x5575d5(0x22e),document[_0x5575d5(0x279)]('inpEnd')['value']=String(_0x496817+0x1)[_0x5575d5(0x2a4)](0x2,'0')+':00',openSheet(_0x5575d5(0x250));}function openEdit(_0x5c0a09){const _0x4714b1=a2_0x2e28f1;editingId=_0x5c0a09['id'],populateClientSelect(),document['getElementById'](_0x4714b1(0x1b1))[_0x4714b1(0x21c)]=_0x4714b1(0x2c7),document[_0x4714b1(0x279)]('btnDelete')[_0x4714b1(0x2e3)][_0x4714b1(0x218)]=_0x4714b1(0x2cd);const _0xd8e0e6=document['getElementById'](_0x4714b1(0x1e5));_0xd8e0e6[_0x4714b1(0x2e3)][_0x4714b1(0x218)]='flex';_0x5c0a09[_0x4714b1(0x2e5)]===_0x4714b1(0x1e8)?(_0xd8e0e6['className']='btn-status-toggle\x20undo-mode',_0xd8e0e6['innerHTML']=_0x4714b1(0x237)):(_0xd8e0e6[_0x4714b1(0x252)]=_0x4714b1(0x2e7),_0xd8e0e6[_0x4714b1(0x1e0)]=_0x4714b1(0x272));const _0x2c973b=!!_0x5c0a09[_0x4714b1(0x199)];document[_0x4714b1(0x279)](_0x4714b1(0x23d))[_0x4714b1(0x2e3)][_0x4714b1(0x218)]=_0x4714b1(0x1b6),document[_0x4714b1(0x279)](_0x4714b1(0x2f3))['style'][_0x4714b1(0x218)]=_0x4714b1(0x1b6),_0x2c973b?(document['getElementById'](_0x4714b1(0x1fc))[_0x4714b1(0x2e3)][_0x4714b1(0x218)]='flex',document[_0x4714b1(0x279)](_0x4714b1(0x1fc))['querySelector']('.pib-text')[_0x4714b1(0x21c)]=_0x4714b1(0x2bc)):document[_0x4714b1(0x279)](_0x4714b1(0x1fc))[_0x4714b1(0x2e3)][_0x4714b1(0x218)]=_0x4714b1(0x1b6),document[_0x4714b1(0x279)](_0x4714b1(0x1e7))[_0x4714b1(0x2f1)]=_0x5c0a09[_0x4714b1(0x2de)],document[_0x4714b1(0x279)](_0x4714b1(0x27c))['value']=_0x5c0a09[_0x4714b1(0x1ba)],document[_0x4714b1(0x279)]('inpStart')[_0x4714b1(0x2f1)]=_0x5c0a09[_0x4714b1(0x232)],document[_0x4714b1(0x279)](_0x4714b1(0x1bd))[_0x4714b1(0x2f1)]=_0x5c0a09[_0x4714b1(0x2d4)],document['getElementById'](_0x4714b1(0x200))[_0x4714b1(0x2f1)]=_0x5c0a09[_0x4714b1(0x17a)]||'',updateDateDisplay(),openSheet(_0x4714b1(0x250));}async function trySaveSession(){const _0x2ab3b5=a2_0x2e28f1,_0x28d5ac=document[_0x2ab3b5(0x279)](_0x2ab3b5(0x1e7))[_0x2ab3b5(0x2f1)],_0x508cea=document['getElementById'](_0x2ab3b5(0x27c))[_0x2ab3b5(0x2f1)],_0x4ac86e=document[_0x2ab3b5(0x279)]('inpStart')[_0x2ab3b5(0x2f1)],_0xd98218=document[_0x2ab3b5(0x279)](_0x2ab3b5(0x1bd))[_0x2ab3b5(0x2f1)],_0x355a85=document[_0x2ab3b5(0x279)](_0x2ab3b5(0x200))[_0x2ab3b5(0x2f1)],_0x17f5be=document[_0x2ab3b5(0x279)](_0x2ab3b5(0x258))[_0x2ab3b5(0x22f)];let _0x5e4d23=0x4;if(_0x17f5be){const _0x21bcc4=parseInt(document[_0x2ab3b5(0x279)](_0x2ab3b5(0x1d2))['value']);if(!_0x21bcc4||_0x21bcc4<0x2){showToast(_0x2ab3b5(0x26d),![]);return;}if(_0x21bcc4>0x64){showToast('–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑',![]);return;}_0x5e4d23=_0x21bcc4;}const _0x1f11dd=clients[_0x2ab3b5(0x23f)](_0x5723a4=>_0x5723a4[_0x2ab3b5(0x1b7)]===_0x28d5ac);if(!_0x1f11dd){showToast(_0x2ab3b5(0x2f4),![]);return;}const _0x2711fb=validateAppointment(_0x508cea,_0x4ac86e,_0xd98218,editingId,_0x1f11dd['id']);if(!_0x2711fb[_0x2ab3b5(0x295)]){showToast(_0x2711fb['msg'],![]);return;}_0x2711fb[_0x2ab3b5(0x213)]&&showToast(_0x2711fb[_0x2ab3b5(0x213)],![]);const _0x1b2a56={'client':_0x28d5ac,'clientId':_0x1f11dd['id'],'start':_0x4ac86e,'end':_0xd98218,'note':_0x355a85,'status':'planned'},_0x255803=editingId?sessions['find'](_0x37c789=>_0x37c789['id']===editingId):null;if(_0x255803&&_0x255803['seriesId']){tempSessionData={..._0x1b2a56,'dateStr':_0x508cea,'id':editingId,'seriesId':_0x255803[_0x2ab3b5(0x199)]},openActionSheet(_0x2ab3b5(0x204));return;}let _0x21308f=null;if(!editingId)_0x21308f=_0x2ab3b5(0x2c8);else{if(_0x255803){if(String(_0x255803[_0x2ab3b5(0x280)])!==String(_0x1f11dd['id']))console[_0x2ab3b5(0x1c6)](_0x2ab3b5(0x17e)),NotificationManager[_0x2ab3b5(0x2d7)](_0x2ab3b5(0x1a5),_0x255803),_0x21308f=_0x2ab3b5(0x2c8);else(_0x255803[_0x2ab3b5(0x232)]!==_0x4ac86e||_0x255803[_0x2ab3b5(0x2d4)]!==_0xd98218||_0x255803[_0x2ab3b5(0x1ba)]!==_0x508cea)&&(_0x21308f='update');}}if(!editingId&&_0x17f5be){createBatchSeries(_0x1b2a56,_0x508cea,_0x5e4d23),NotificationManager[_0x2ab3b5(0x2d7)](_0x2ab3b5(0x2c8),{..._0x1b2a56,'dateStr':_0x508cea});return;}lastUserActionTime=Date['now']();const _0x28cec0={..._0x1b2a56,'dateStr':_0x508cea,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x28cec0),_0x21308f&&NotificationManager['send'](_0x21308f,_0x28cec0);}function toggleSessionStatus(){const _0x4c05e8=a2_0x2e28f1;lastUserActionTime=Date['now']();const _0x32bf3e=sessions[_0x4c05e8(0x23f)](_0x3f82d9=>_0x3f82d9['id']===editingId);if(!_0x32bf3e)return;const _0x507d68=_0x32bf3e[_0x4c05e8(0x2e5)]===_0x4c05e8(0x1e8)?_0x4c05e8(0x2d9):_0x4c05e8(0x1e8);_0x32bf3e[_0x4c05e8(0x2e5)]=_0x507d68,saveSingleSession(_0x32bf3e),_0x507d68===_0x4c05e8(0x1e8)&&NotificationManager[_0x4c05e8(0x2d7)](_0x4c05e8(0x269),_0x32bf3e),showToast(_0x507d68===_0x4c05e8(0x1e8)?_0x4c05e8(0x2a7):_0x4c05e8(0x1d8),!![]);}function validateAppointment(_0xa195aa,_0x22e4b1,_0x200470,_0x33d7f3,_0x18bf35){const _0x1929c9=a2_0x2e28f1,[_0xe91f5,_0x59a75a]=_0x22e4b1[_0x1929c9(0x184)](':')['map'](Number),[_0x5e3605,_0x43d8c5]=_0x200470[_0x1929c9(0x184)](':')[_0x1929c9(0x1a2)](Number),_0x4af506=_0xe91f5*0x3c+_0x59a75a,_0x1cfb94=_0x5e3605*0x3c+_0x43d8c5,_0x58c689=String(_0x18bf35);let _0x453b0f=![],_0x44d220='';for(let _0x428c57 of sessions){if(_0x428c57[_0x1929c9(0x1ba)]!==_0xa195aa)continue;if(_0x428c57[_0x1929c9(0x2e5)]==='cancelled')continue;if(_0x33d7f3&&String(_0x428c57['id'])===String(_0x33d7f3))continue;const [_0x154e97,_0x40e627]=_0x428c57[_0x1929c9(0x232)][_0x1929c9(0x184)](':')[_0x1929c9(0x1a2)](Number),[_0x4a3f2e,_0x520ade]=_0x428c57[_0x1929c9(0x2d4)][_0x1929c9(0x184)](':')[_0x1929c9(0x1a2)](Number),_0xc48861=_0x154e97*0x3c+_0x40e627,_0x81e001=_0x4a3f2e*0x3c+_0x520ade;if(Math[_0x1929c9(0x1fb)](_0x4af506,_0xc48861)<Math[_0x1929c9(0x2ed)](_0x1cfb94,_0x81e001)){if(_0x428c57[_0x1929c9(0x280)]&&String(_0x428c57[_0x1929c9(0x280)])===_0x58c689)return{'valid':![],'msg':_0x1929c9(0x26a)+_0x428c57['client']+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x453b0f=!![],_0x44d220=_0x428c57[_0x1929c9(0x2de)];}}if(_0x453b0f)return{'valid':!![],'warning':_0x1929c9(0x28b)+_0x44d220};return{'valid':!![]};}function saveSingleSession(_0x5dbf13){const _0x293ad3=a2_0x2e28f1;if(editingId){const _0x275a67=sessions[_0x293ad3(0x24a)](_0x56d85d=>_0x56d85d['id']===editingId);if(_0x275a67!==-0x1)sessions[_0x275a67]=_0x5dbf13;}else sessions[_0x293ad3(0x2ae)](_0x5dbf13);afterSaveAction([_0x5dbf13[_0x293ad3(0x1ba)]]);}function createBatchSeries(_0x5b400a,_0x35c6ae,_0x4d0901){const _0x4f65dd=a2_0x2e28f1,_0x3f26ae=generateId(),_0x26e471=[],_0x5328e2=[];let _0x314154=0x0,_0x163a8e=new Date(_0x35c6ae);for(let _0x1dfcf8=0x0;_0x1dfcf8<_0x4d0901;_0x1dfcf8++){const _0x1c8bf3=getLocalDateStr(_0x163a8e),_0xaac352=validateAppointment(_0x1c8bf3,_0x5b400a['start'],_0x5b400a[_0x4f65dd(0x2d4)],null,_0x5b400a[_0x4f65dd(0x280)]);if(!_0xaac352[_0x4f65dd(0x295)])console[_0x4f65dd(0x1c6)]('[Series]\x20Skipped\x20'+_0x1c8bf3+_0x4f65dd(0x1f5)),_0x314154++;else{const _0x1291de={..._0x5b400a,'id':generateId(),'dateStr':_0x1c8bf3,'seriesId':_0x3f26ae};_0x5328e2[_0x4f65dd(0x2ae)](_0x1291de),_0x26e471[_0x4f65dd(0x2ae)](_0x1c8bf3);}_0x163a8e[_0x4f65dd(0x176)](_0x163a8e['getDate']()+0x7);}if(_0x5328e2[_0x4f65dd(0x2c9)]===0x0){showToast(_0x4f65dd(0x246),![]);return;}sessions['push'](..._0x5328e2),lastUserActionTime=Date['now']();let _0x5b3586=_0x4f65dd(0x255)+_0x5328e2[_0x4f65dd(0x2c9)];_0x314154>0x0&&(_0x5b3586+=_0x4f65dd(0x248)+_0x314154+')'),showToast(_0x5b3586,!![]),afterSaveAction(_0x26e471);}function updateSeriesBatch(_0xee1274,_0x573221){const _0x5ca0d1=a2_0x2e28f1,_0x2ed0d6=[],_0x56ec6a=_0x573221[_0x5ca0d1(0x199)];if(_0xee1274===_0x5ca0d1(0x1fd)){const _0x4c31b3={..._0x573221,'seriesId':null},_0x292409=sessions[_0x5ca0d1(0x24a)](_0x5483b6=>_0x5483b6['id']===_0x573221['id']);if(_0x292409!==-0x1)sessions[_0x292409]=_0x4c31b3;_0x2ed0d6['push'](_0x4c31b3[_0x5ca0d1(0x1ba)]);}else{if(_0xee1274===_0x5ca0d1(0x244)){const _0x370439=_0x573221['dateStr'];sessions['forEach']((_0x1ec660,_0x336de1)=>{const _0x528f5b=_0x5ca0d1;_0x1ec660[_0x528f5b(0x199)]===_0x56ec6a&&_0x1ec660[_0x528f5b(0x1ba)]>=_0x370439&&(sessions[_0x336de1]={...sessions[_0x336de1],'start':_0x573221[_0x528f5b(0x232)],'end':_0x573221['end'],'note':_0x573221[_0x528f5b(0x17a)],'client':_0x573221[_0x528f5b(0x2de)],'clientId':_0x573221[_0x528f5b(0x280)]},_0x2ed0d6['push'](_0x1ec660[_0x528f5b(0x1ba)]));});}}afterSaveAction(_0x2ed0d6);}function tryDeleteSession(){const _0x4f9b7e=a2_0x2e28f1,_0x29c311=sessions['find'](_0x20b13c=>_0x20b13c['id']===editingId);if(!_0x29c311)return;_0x29c311[_0x4f9b7e(0x199)]?openActionSheet('delete'):commitDelete('single',_0x29c311);}function commitDelete(_0x1073d8,_0x2f2bed){const _0x32008e=a2_0x2e28f1;lastUserActionTime=Date[_0x32008e(0x29f)](),NotificationManager['send'](_0x32008e(0x1a5),_0x2f2bed);const _0x294f94=[];if(_0x1073d8===_0x32008e(0x1fd))sessions=sessions[_0x32008e(0x2ea)](_0xebf7d5=>_0xebf7d5['id']!==_0x2f2bed['id']),_0x294f94[_0x32008e(0x2ae)](_0x2f2bed[_0x32008e(0x1ba)]);else{if(_0x1073d8===_0x32008e(0x244)){const _0xec8ea4=_0x2f2bed[_0x32008e(0x1ba)],_0x251fbd=_0x2f2bed[_0x32008e(0x199)];sessions[_0x32008e(0x20d)](_0x55cb0f=>{const _0x57b374=_0x32008e;_0x55cb0f[_0x57b374(0x199)]===_0x251fbd&&_0x55cb0f['dateStr']>=_0xec8ea4&&_0x294f94[_0x57b374(0x2ae)](_0x55cb0f[_0x57b374(0x1ba)]);}),sessions=sessions[_0x32008e(0x2ea)](_0x32cd05=>!(_0x32cd05[_0x32008e(0x199)]===_0x251fbd&&_0x32cd05[_0x32008e(0x1ba)]>=_0xec8ea4));}}afterSaveAction(_0x294f94);}function afterSaveAction(_0x25bbed){const _0x2a240c=a2_0x2e28f1;DataManager[_0x2a240c(0x1aa)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x2a240c(0x2c0)](_0x25bbed)[_0x2a240c(0x27a)](()=>console[_0x2a240c(0x1c6)](_0x2a240c(0x2b5)))[_0x2a240c(0x2d5)](_0x178b48=>showToast(_0x2a240c(0x203),![]));}const NotificationManager={'formatDate'(_0x34360f){const _0x7c4d0c=a2_0x2e28f1,_0x499fe8=new Date(_0x34360f),_0x24d8b9={'weekday':_0x7c4d0c(0x192),'day':_0x7c4d0c(0x239),'month':_0x7c4d0c(0x192)};let _0x2a0576=_0x499fe8[_0x7c4d0c(0x285)](_0x7c4d0c(0x1ad),_0x24d8b9);return _0x2a0576[_0x7c4d0c(0x1b9)](0x0)[_0x7c4d0c(0x2bb)]()+_0x2a0576[_0x7c4d0c(0x1d0)](0x1);},'getText'(_0x26bba4,_0x32b813){const _0x55c2c8=a2_0x2e28f1,_0x5478d6=this[_0x55c2c8(0x1c7)](_0x32b813[_0x55c2c8(0x1ba)]);switch(_0x26bba4){case'create':return _0x55c2c8(0x1e1)+(_0x55c2c8(0x177)+_0x5478d6+'\x0a')+(_0x55c2c8(0x209)+_0x32b813[_0x55c2c8(0x232)]+_0x55c2c8(0x27f)+_0x32b813[_0x55c2c8(0x2d4)]+'\x0a\x0a')+_0x55c2c8(0x186);case _0x55c2c8(0x2be):return _0x55c2c8(0x2d1)+'–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a'+(_0x55c2c8(0x185)+_0x32b813[_0x55c2c8(0x232)]+_0x55c2c8(0x27f)+_0x32b813[_0x55c2c8(0x2d4)]+_0x55c2c8(0x1ac))+(_0x55c2c8(0x177)+_0x5478d6);case _0x55c2c8(0x1a5):return'<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a'+(_0x55c2c8(0x197)+_0x5478d6+'\x20('+_0x32b813['start']+_0x55c2c8(0x25d));case _0x55c2c8(0x269):return'<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a'+_0x55c2c8(0x22c)+'<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>';default:return'';}},async 'send'(_0x390380,_0x463182){const _0x1c8fe1=a2_0x2e28f1;console[_0x1c8fe1(0x1c6)](_0x1c8fe1(0x256),_0x390380,_0x463182);if(!_0x463182){console[_0x1c8fe1(0x2d2)](_0x1c8fe1(0x22a));return;}const _0x13cec9=String(_0x463182[_0x1c8fe1(0x280)]);console['log']('[Notify]\x20Detected\x20Client\x20ID:',_0x13cec9);if(!_0x463182['clientId']||_0x13cec9===_0x1c8fe1(0x1c8)||_0x13cec9===_0x1c8fe1(0x23b)){console[_0x1c8fe1(0x2d2)](_0x1c8fe1(0x229));if(_0x463182[_0x1c8fe1(0x2de)]){const _0x319c47=clients['find'](_0x14c33b=>_0x14c33b[_0x1c8fe1(0x1b7)]===_0x463182[_0x1c8fe1(0x2de)]);if(_0x319c47)return console[_0x1c8fe1(0x1c6)](_0x1c8fe1(0x2b9),_0x319c47['id']),this[_0x1c8fe1(0x2d7)](_0x390380,{..._0x463182,'clientId':_0x319c47['id']});}return;}if(_0x13cec9[_0x1c8fe1(0x2c9)]<0x5){console[_0x1c8fe1(0x20e)]('[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)',_0x13cec9);return;}const _0x3ee0f9=this['getText'](_0x390380,_0x463182);if(!_0x3ee0f9){console[_0x1c8fe1(0x2d2)](_0x1c8fe1(0x202));return;}console[_0x1c8fe1(0x1c6)](_0x1c8fe1(0x211)+_0x13cec9+_0x1c8fe1(0x172)),DataManager[_0x1c8fe1(0x196)]('send_notification',{'chatId':_0x13cec9,'text':_0x3ee0f9})[_0x1c8fe1(0x27a)](_0x169ab9=>console[_0x1c8fe1(0x1c6)]('[Notify]\x20Server\x20Response:',_0x169ab9))[_0x1c8fe1(0x2d5)](_0x587c20=>console[_0x1c8fe1(0x2d2)](_0x1c8fe1(0x2d8),_0x587c20));}};function getLocalDateStr(_0x3b1105){const _0x6e07f1=a2_0x2e28f1,_0x354617=_0x3b1105[_0x6e07f1(0x1be)](),_0x233162=String(_0x3b1105['getMonth']()+0x1)[_0x6e07f1(0x2a4)](0x2,'0'),_0x36c75c=String(_0x3b1105[_0x6e07f1(0x2e4)]())['padStart'](0x2,'0');return _0x354617+'-'+_0x233162+'-'+_0x36c75c;}function getDateStr(_0x3a3cec){const _0x2f04af=a2_0x2e28f1,_0x107484=new Date();return _0x107484[_0x2f04af(0x176)](_0x107484[_0x2f04af(0x2e4)]()+_0x3a3cec),getLocalDateStr(_0x107484);}function getStartOfWeek(_0x559faa){const _0x4ab617=a2_0x2e28f1,_0x2eae8e=(function(){let _0x1f49d2=!![];return function(_0x28452b,_0x2ce341){const _0x13ed41=_0x1f49d2?function(){const _0x4d9866=a2_0x5cea;if(_0x2ce341){const _0x508023=_0x2ce341[_0x4d9866(0x2b3)](_0x28452b,arguments);return _0x2ce341=null,_0x508023;}}:function(){};return _0x1f49d2=![],_0x13ed41;};}()),_0x55f253=_0x2eae8e(this,function(){const _0x7b5747=a2_0x5cea;return _0x55f253[_0x7b5747(0x2cc)]()[_0x7b5747(0x2c3)](_0x7b5747(0x245))[_0x7b5747(0x2cc)]()[_0x7b5747(0x19c)](_0x55f253)['search'](_0x7b5747(0x245));});_0x55f253();const _0x1defcf=new Date(_0x559faa),_0x1f99d1=_0x1defcf[_0x4ab617(0x2ac)](),_0x22a647=_0x1defcf[_0x4ab617(0x2e4)]()-_0x1f99d1+(_0x1f99d1===0x0?-0x6:0x1);return _0x1defcf[_0x4ab617(0x176)](_0x22a647),_0x1defcf[_0x4ab617(0x1ed)](0x0,0x0,0x0,0x0),_0x1defcf;}function hexToRgba(_0xcbd609,_0xf0e58f){const _0xc54ecd=a2_0x2e28f1;if(!_0xcbd609)return _0xc54ecd(0x1f0);let _0x4ca308=0x0,_0x21b1ed=0x0,_0x35c6c6=0x0;if(_0xcbd609[_0xc54ecd(0x2c9)]===0x4)_0x4ca308='0x'+_0xcbd609[0x1]+_0xcbd609[0x1],_0x21b1ed='0x'+_0xcbd609[0x2]+_0xcbd609[0x2],_0x35c6c6='0x'+_0xcbd609[0x3]+_0xcbd609[0x3];else _0xcbd609[_0xc54ecd(0x2c9)]===0x7&&(_0x4ca308='0x'+_0xcbd609[0x1]+_0xcbd609[0x2],_0x21b1ed='0x'+_0xcbd609[0x3]+_0xcbd609[0x4],_0x35c6c6='0x'+_0xcbd609[0x5]+_0xcbd609[0x6]);return _0xc54ecd(0x1da)+ +_0x4ca308+',\x20'+ +_0x21b1ed+',\x20'+ +_0x35c6c6+',\x20'+_0xf0e58f+')';}function renderTimeColumn(){const _0x10f191=a2_0x2e28f1,_0x5eca39=document['getElementById'](_0x10f191(0x1ab)),_0x28bf36=document[_0x10f191(0x279)](_0x10f191(0x259));_0x5eca39[_0x10f191(0x1e0)]='',_0x5eca39[_0x10f191(0x2af)](_0x28bf36);for(let _0x2e7be7=0x0;_0x2e7be7<0x18;_0x2e7be7++){const _0x23deb4=document[_0x10f191(0x2ef)](_0x10f191(0x289));_0x23deb4[_0x10f191(0x252)]=_0x10f191(0x1ce);if(_0x2e7be7>0x0)_0x23deb4['innerHTML']=_0x10f191(0x1ca)+String(_0x2e7be7)[_0x10f191(0x2a4)](0x2,'0')+_0x10f191(0x2eb);_0x5eca39[_0x10f191(0x2af)](_0x23deb4);}}function renderDayRange(_0x20f3bc,_0x1fcdb0){const _0x505fac=a2_0x2e28f1,_0x3221d1=document[_0x505fac(0x279)](_0x505fac(0x275)),_0x16e07a=document['getElementById']('gridColumns'),_0x12cf52=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x5825b9=new Date();_0x5825b9[_0x505fac(0x1ed)](0x0,0x0,0x0,0x0);const _0x48cd20=getLocalDateStr(new Date());for(let _0x528edf=_0x20f3bc;_0x528edf<=_0x1fcdb0;_0x528edf++){const _0x254f95=new Date(_0x5825b9);_0x254f95[_0x505fac(0x176)](_0x254f95[_0x505fac(0x2e4)]()+_0x528edf);const _0x5507d8=getLocalDateStr(_0x254f95);let _0x2e931a=_0x254f95['getDay']()-0x1;if(_0x2e931a===-0x1)_0x2e931a=0x6;const _0x456da8=_0x5507d8===_0x48cd20,_0x51728b=document[_0x505fac(0x2ef)](_0x505fac(0x289));_0x51728b[_0x505fac(0x252)]=_0x505fac(0x23c)+(_0x456da8?_0x505fac(0x216):''),_0x51728b['id']='header-'+_0x5507d8,_0x51728b['setAttribute']('data-date',_0x5507d8),_0x51728b[_0x505fac(0x1e0)]='<div\x20class=\x22dch-day\x22>'+_0x12cf52[_0x2e931a]+_0x505fac(0x2d0)+_0x254f95['getDate']()+_0x505fac(0x25f)+_0x5507d8+_0x505fac(0x228),_0x51728b[_0x505fac(0x2e0)]=()=>openDayOptions(_0x5507d8,_0x12cf52[_0x2e931a]+'\x20'+_0x254f95[_0x505fac(0x2e4)]()),_0x3221d1[_0x505fac(0x2af)](_0x51728b);const _0x5a0651=document['createElement']('div');_0x5a0651['className']=_0x505fac(0x178)+(_0x456da8?'today':''),_0x5a0651[_0x505fac(0x292)](_0x505fac(0x2b2),_0x5507d8),_0x5a0651[_0x505fac(0x292)](_0x505fac(0x1a3),_0x2e931a),renderEventsForColumn(_0x5a0651,_0x5507d8,_0x2e931a),attachLongPressHandler(_0x5a0651,_0x254f95),_0x16e07a['appendChild'](_0x5a0651),updateDayStats(_0x5507d8);}}function reRenderBlocks(){const _0xa3ece2=a2_0x2e28f1;document[_0xa3ece2(0x290)](_0xa3ece2(0x1d5))[_0xa3ece2(0x20d)](_0x2b7410=>{const _0x395f4c=_0xa3ece2;_0x2b7410[_0x395f4c(0x290)](_0x395f4c(0x26b))[_0x395f4c(0x20d)](_0x22d85c=>_0x22d85c[_0x395f4c(0x1f3)]());const _0x3eb514=_0x2b7410[_0x395f4c(0x21d)]('data-date'),_0x5c4407=parseInt(_0x2b7410[_0x395f4c(0x21d)](_0x395f4c(0x1a3))),_0x42abdc=Math[_0x395f4c(0x1f9)](_0x2b7410['offsetLeft']);(availabilityPattern[_0x5c4407]||[])[_0x395f4c(0x20d)](_0x14ace3=>{const _0x2409ac=_0x395f4c,_0x3d4c21=document[_0x2409ac(0x2ef)]('div');_0x3d4c21[_0x2409ac(0x252)]=_0x2409ac(0x24f);const _0x594c8d=_0x14ace3*GRID_H;_0x3d4c21[_0x2409ac(0x2e3)]['top']=_0x594c8d+'px',_0x3d4c21[_0x2409ac(0x2e3)][_0x2409ac(0x1ec)]='-'+_0x42abdc+_0x2409ac(0x2c2)+_0x594c8d+'px',_0x2b7410[_0x2409ac(0x2af)](_0x3d4c21);});if(specialRanges&&specialRanges[_0x395f4c(0x2c9)]>0x0){const _0x52e663=new Date(_0x3eb514+_0x395f4c(0x2c1))[_0x395f4c(0x278)](),_0x28c496=new Date(_0x3eb514+'T23:59:59')['getTime']();specialRanges[_0x395f4c(0x20d)](_0x534488=>{const _0x13c1a0=_0x395f4c,_0x13cabf=new Date(_0x534488[_0x13c1a0(0x232)])[_0x13c1a0(0x278)](),_0x121f75=new Date(_0x534488[_0x13c1a0(0x2d4)])['getTime'](),_0x27e26f=Math[_0x13c1a0(0x1fb)](_0x52e663,_0x13cabf),_0xeabff7=Math[_0x13c1a0(0x2ed)](_0x28c496,_0x121f75);if(_0x27e26f<_0xeabff7){if(_0x27e26f<=_0x52e663&&_0xeabff7>=_0x28c496-0xea60){if(!_0x2b7410[_0x13c1a0(0x2c4)](_0x13c1a0(0x265))){const _0x37a5c8=document[_0x13c1a0(0x2ef)]('div');_0x37a5c8[_0x13c1a0(0x252)]=_0x13c1a0(0x1d7),_0x37a5c8[_0x13c1a0(0x2e3)]['backgroundPosition']='-'+_0x42abdc+_0x13c1a0(0x2f5),_0x2b7410[_0x13c1a0(0x2af)](_0x37a5c8);}}else{const _0xdda272=(_0x27e26f-_0x52e663)/0x36ee80*GRID_H,_0xc40b34=(_0xeabff7-_0x27e26f)/0x36ee80*GRID_H,_0x367244=document[_0x13c1a0(0x2ef)](_0x13c1a0(0x289));_0x367244[_0x13c1a0(0x252)]=_0x13c1a0(0x207),_0x367244['style'][_0x13c1a0(0x182)]=_0xdda272+'px',_0x367244[_0x13c1a0(0x2e3)]['height']=_0xc40b34+'px',_0x367244[_0x13c1a0(0x2e3)][_0x13c1a0(0x1ec)]='-'+_0x42abdc+_0x13c1a0(0x2c2)+_0xdda272+'px',_0x2b7410[_0x13c1a0(0x2af)](_0x367244);}}});}if(dateExceptions[_0x3eb514]==='off'){if(!_0x2b7410[_0x395f4c(0x2c4)]('.day-off-overlay')){const _0x404c58=document[_0x395f4c(0x2ef)](_0x395f4c(0x289));_0x404c58[_0x395f4c(0x252)]=_0x395f4c(0x1d7),_0x404c58[_0x395f4c(0x2e3)][_0x395f4c(0x1ec)]='-'+_0x42abdc+'px\x200px',_0x2b7410['appendChild'](_0x404c58);}}renderEventsForColumn(_0x2b7410,_0x3eb514,_0x5c4407),updateDayStats(_0x3eb514);});}function updateAllDayStats(){const _0x4b70aa=a2_0x2e28f1;document[_0x4b70aa(0x290)](_0x4b70aa(0x226))['forEach'](_0x3fd858=>{const _0x1e474f=_0x4b70aa;updateDayStats(_0x3fd858[_0x1e474f(0x21d)](_0x1e474f(0x2b2)));});}function updateDayStats(_0x395ceb){const _0x274542=a2_0x2e28f1,_0x337d8c=document[_0x274542(0x279)]('stat-'+_0x395ceb);if(!_0x337d8c)return;const _0xd0b89b=new Date(_0x395ceb);let _0x37dd92=_0xd0b89b['getDay']()-0x1;if(_0x37dd92===-0x1)_0x37dd92=0x6;if(dateExceptions[_0x395ceb]===_0x274542(0x20c)){_0x337d8c[_0x274542(0x2e3)][_0x274542(0x218)]='none';return;}const _0x290c1c=availabilityPattern[_0x37dd92]||[],_0x20fd46=0x18-_0x290c1c['length'],_0x46e4f1=_0x20fd46*0x3c,_0x1974b2=sessions[_0x274542(0x2ea)](_0x4ba580=>_0x4ba580[_0x274542(0x1ba)]===_0x395ceb&&_0x4ba580[_0x274542(0x2e5)]!==_0x274542(0x288));if(_0x1974b2[_0x274542(0x2c9)]===0x0){_0x337d8c[_0x274542(0x2e3)][_0x274542(0x218)]=_0x274542(0x1b6);return;}let _0x343716=_0x1974b2[_0x274542(0x1a2)](_0x4fd7a3=>{const _0x5b63ce=_0x274542,[_0x43302a,_0x27a336]=_0x4fd7a3[_0x5b63ce(0x232)]['split'](':')[_0x5b63ce(0x1a2)](Number),[_0xddbe04,_0x3c9bed]=_0x4fd7a3[_0x5b63ce(0x2d4)][_0x5b63ce(0x184)](':')[_0x5b63ce(0x1a2)](Number);return[_0x43302a*0x3c+_0x27a336,_0xddbe04*0x3c+_0x3c9bed];});_0x343716['sort']((_0x5013ec,_0x549034)=>_0x5013ec[0x0]-_0x549034[0x0]);let _0x459eea=[];if(_0x343716[_0x274542(0x2c9)]>0x0){let _0x2f4391=_0x343716[0x0];for(let _0x1de8ea=0x1;_0x1de8ea<_0x343716[_0x274542(0x2c9)];_0x1de8ea++){_0x343716[_0x1de8ea][0x0]<_0x2f4391[0x1]?_0x2f4391[0x1]=Math[_0x274542(0x1fb)](_0x2f4391[0x1],_0x343716[_0x1de8ea][0x1]):(_0x459eea[_0x274542(0x2ae)](_0x2f4391),_0x2f4391=_0x343716[_0x1de8ea]);}_0x459eea[_0x274542(0x2ae)](_0x2f4391);}let _0x560bdb=0x0;_0x459eea['forEach'](_0x1ab182=>_0x560bdb+=_0x1ab182[0x1]-_0x1ab182[0x0]),_0x337d8c['style'][_0x274542(0x218)]='flex';const _0x48a4a9=_0x337d8c['querySelector'](_0x274542(0x171));if(_0x46e4f1===0x0){_0x48a4a9[_0x274542(0x2e3)][_0x274542(0x2db)]=_0x274542(0x2f2),_0x48a4a9['style'][_0x274542(0x19b)]=_0x274542(0x1d9);return;}const _0x5a9599=_0x560bdb/_0x46e4f1*0x64;console['log']('['+_0x395ceb+_0x274542(0x18a)+_0x20fd46+_0x274542(0x294)+_0x560bdb+_0x274542(0x1fe)+_0x5a9599[_0x274542(0x1cc)](0x1)+'%'),_0x5a9599>0x64?(_0x48a4a9[_0x274542(0x2e3)]['width']=_0x274542(0x2f2),_0x48a4a9['style'][_0x274542(0x19b)]=_0x274542(0x1d9)):(_0x48a4a9[_0x274542(0x2e3)][_0x274542(0x2db)]=_0x5a9599+'%',_0x48a4a9[_0x274542(0x2e3)][_0x274542(0x19b)]=_0x274542(0x16b));}function renderEventsForColumn(_0x1c8c1a,_0x32cf5b,_0xc735d7){const _0x31623f=a2_0x2e28f1,_0x30375f=sessions[_0x31623f(0x2ea)](_0x13ef4c=>_0x13ef4c[_0x31623f(0x1ba)]===_0x32cf5b),_0x5a9a53=_0x30375f[_0x31623f(0x1a2)](_0xb67bf2=>{const _0x18b9c6=_0x31623f,[_0x4389df,_0x6131fc]=_0xb67bf2['start'][_0x18b9c6(0x184)](':')[_0x18b9c6(0x1a2)](Number),[_0x1a36f1,_0x37a144]=_0xb67bf2['end'][_0x18b9c6(0x184)](':')['map'](Number);return{'data':_0xb67bf2,'start':_0x4389df*0x3c+_0x6131fc,'end':_0x1a36f1*0x3c+_0x37a144,'colIndex':0x0};});_0x5a9a53[_0x31623f(0x1f7)]((_0x46f67c,_0x19373c)=>{const _0x25195f=_0x31623f;if(_0x46f67c[_0x25195f(0x232)]!==_0x19373c[_0x25195f(0x232)])return _0x46f67c['start']-_0x19373c[_0x25195f(0x232)];return _0x19373c['end']-_0x19373c[_0x25195f(0x232)]-(_0x46f67c[_0x25195f(0x2d4)]-_0x46f67c[_0x25195f(0x232)]);});const _0x6f0da1=[];_0x5a9a53[_0x31623f(0x20d)](_0x3105ca=>{const _0x1646c7=_0x31623f;let _0x2aa169=![];for(let _0xc7ebf5=0x0;_0xc7ebf5<_0x6f0da1[_0x1646c7(0x2c9)];_0xc7ebf5++){const _0x4cae19=_0x6f0da1[_0xc7ebf5],_0x3cb074=_0x4cae19[_0x4cae19[_0x1646c7(0x2c9)]-0x1];if(_0x3105ca[_0x1646c7(0x232)]>=_0x3cb074[_0x1646c7(0x2d4)]){_0x4cae19[_0x1646c7(0x2ae)](_0x3105ca),_0x3105ca['colIndex']=_0xc7ebf5,_0x2aa169=!![];break;}}!_0x2aa169&&(_0x6f0da1[_0x1646c7(0x2ae)]([_0x3105ca]),_0x3105ca['colIndex']=_0x6f0da1['length']-0x1);}),_0x5a9a53['forEach'](_0x1fef43=>{const _0x2f5955=_0x31623f;let _0x3956f4=0x0;_0x5a9a53[_0x2f5955(0x20d)](_0x1c5ce2=>{const _0x14c093=_0x2f5955;if(Math[_0x14c093(0x1fb)](_0x1fef43[_0x14c093(0x232)],_0x1c5ce2[_0x14c093(0x232)])<Math[_0x14c093(0x2ed)](_0x1fef43[_0x14c093(0x2d4)],_0x1c5ce2[_0x14c093(0x2d4)])){if(_0x1c5ce2[_0x14c093(0x26c)]>_0x3956f4)_0x3956f4=_0x1c5ce2[_0x14c093(0x26c)];}});const _0x4b17a5=_0x3956f4+0x1,_0x18295a=0x64/_0x4b17a5,_0x500aa3=_0x1fef43['colIndex']*_0x18295a,_0x54dcce=createEventEl(_0x1fef43[_0x2f5955(0x1c9)]);_0x54dcce[_0x2f5955(0x2e3)][_0x2f5955(0x2db)]=_0x2f5955(0x1a7)+_0x18295a+_0x2f5955(0x293),_0x54dcce[_0x2f5955(0x2e3)][_0x2f5955(0x22b)]=_0x2f5955(0x1a7)+_0x500aa3+_0x2f5955(0x2df),_0x54dcce[_0x2f5955(0x2e3)]['zIndex']=0xa+_0x1fef43['colIndex'],_0x18295a<0x55&&_0x54dcce[_0x2f5955(0x210)]['add']('mini'),_0x1c8c1a[_0x2f5955(0x2af)](_0x54dcce);});}function a2_0x5cea(_0x9ea597,_0x473399){_0x9ea597=_0x9ea597-0x16b;const _0x394aef=a2_0xe22b();let _0xe0cbe0=_0x394aef[_0x9ea597];return _0xe0cbe0;}function createEventEl(_0x112793){const _0x3d5f1a=a2_0x2e28f1,[_0x3e71f1,_0x2dee74]=_0x112793[_0x3d5f1a(0x232)][_0x3d5f1a(0x184)](':')[_0x3d5f1a(0x1a2)](Number),[_0x58ab13,_0x49e00a]=_0x112793[_0x3d5f1a(0x2d4)][_0x3d5f1a(0x184)](':')[_0x3d5f1a(0x1a2)](Number),_0x9b83d=(_0x3e71f1*0x3c+_0x2dee74)/0x3c*GRID_H,_0x4afdd0=(_0x58ab13*0x3c+_0x49e00a-(_0x3e71f1*0x3c+_0x2dee74))/0x3c*GRID_H,_0xf2019=document[_0x3d5f1a(0x2ef)](_0x3d5f1a(0x289)),_0x170902=_0x112793[_0x3d5f1a(0x2e5)]===_0x3d5f1a(0x1e8)?_0x3d5f1a(0x214):'';_0xf2019[_0x3d5f1a(0x252)]=_0x3d5f1a(0x227)+_0x170902,_0xf2019[_0x3d5f1a(0x2e3)]['top']=_0x9b83d+'px',_0xf2019[_0x3d5f1a(0x2e3)][_0x3d5f1a(0x1df)]=Math['max'](_0x4afdd0,0x14)+'px';const _0x64f3dd=clients[_0x3d5f1a(0x23f)](_0x4a595a=>_0x112793['clientId']&&String(_0x4a595a['id'])===String(_0x112793['clientId'])||_0x4a595a[_0x3d5f1a(0x1b7)]===_0x112793[_0x3d5f1a(0x2de)]),_0x3b96a5=_0x64f3dd?_0x64f3dd[_0x3d5f1a(0x1b8)]:_0x3d5f1a(0x268);_0xf2019[_0x3d5f1a(0x2e3)][_0x3d5f1a(0x2cf)]=_0x3b96a5,_0xf2019['style'][_0x3d5f1a(0x273)]=hexToRgba(_0x3b96a5,0.85);let _0x154bf3='<div\x20class=\x22ev-title\x22>'+_0x112793[_0x3d5f1a(0x2de)]+_0x3d5f1a(0x19d)+_0x112793[_0x3d5f1a(0x232)]+_0x3d5f1a(0x2f0)+_0x112793[_0x3d5f1a(0x2d4)]+_0x3d5f1a(0x263);return _0x112793[_0x3d5f1a(0x199)]&&(_0x154bf3+=_0x3d5f1a(0x2ba)),_0x112793[_0x3d5f1a(0x2e5)]===_0x3d5f1a(0x1e8)&&(_0x154bf3+=_0x3d5f1a(0x296)),_0xf2019[_0x3d5f1a(0x1e0)]=_0x154bf3,_0xf2019[_0x3d5f1a(0x2e0)]=_0x579e8f=>{const _0x41606f=_0x3d5f1a;_0x579e8f[_0x41606f(0x277)](),openEdit(_0x112793);},_0xf2019;}function attachLongPressHandler(_0x3746fe,_0x50e32f){const _0x17e967=a2_0x2e28f1;let _0x523c04=0x0,_0x841355=null;const _0xc66c35=_0x139da1=>{const _0x30faff=a2_0x5cea;if(_0x139da1['target'][_0x30faff(0x274)](_0x30faff(0x2b6)))return;isScrolling=![],_0x523c04=_0x139da1[_0x30faff(0x19f)]?_0x139da1[_0x30faff(0x19f)][0x0][_0x30faff(0x242)]:_0x139da1['clientY'],_0x841355=setTimeout(()=>{const _0x50ca88=_0x30faff;if(!isScrolling){navigator[_0x50ca88(0x25e)]?.(0x32);const _0x225ea8=_0x3746fe[_0x50ca88(0x1b3)](),_0x35b6d3=Math[_0x50ca88(0x1e9)]((_0x523c04-_0x225ea8['top'])/GRID_H);_0x50e32f[_0x50ca88(0x1ed)](_0x35b6d3,0x0),openAddSession(_0x50e32f);}},0x1f4);},_0x2d4b9a=()=>{isScrolling=!![],clearTimeout(_0x841355);},_0x38d8a9=()=>{clearTimeout(_0x841355);};_0x3746fe['addEventListener'](_0x17e967(0x1cf),_0xc66c35,{'passive':!![]}),_0x3746fe[_0x17e967(0x260)](_0x17e967(0x270),_0x2d4b9a,{'passive':!![]}),_0x3746fe[_0x17e967(0x260)](_0x17e967(0x198),_0x38d8a9),_0x3746fe['addEventListener']('mousedown',_0xc66c35),_0x3746fe[_0x17e967(0x260)](_0x17e967(0x219),_0x2d4b9a),_0x3746fe[_0x17e967(0x260)]('mouseup',_0x38d8a9);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x5cdeb2=a2_0x2e28f1,_0x188e4d=document[_0x5cdeb2(0x279)](_0x5cdeb2(0x2b1)),_0x224664=_0x188e4d['scrollLeft'],_0x21322e=_0x188e4d[_0x5cdeb2(0x220)],_0x48a774=_0x188e4d['clientWidth'];if(_0x21322e-(_0x224664+_0x48a774)<0x12c){const _0x4036b9=endOffset;endOffset+=0xe,renderDayRange(_0x4036b9+0x1,endOffset),reRenderBlocks();}if(_0x224664<0x12c){const _0x55ceb3=startOffset;startOffset-=0xe,prependDays(startOffset,_0x55ceb3-0x1),_0x188e4d[_0x5cdeb2(0x257)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0xb827ce,_0xdb0148){const _0x2c530f=a2_0x2e28f1,_0x5d6944=document[_0x2c530f(0x279)](_0x2c530f(0x275)),_0x52a209=document['getElementById']('gridColumns'),_0x193e57=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x46d93d=new Date();_0x46d93d['setHours'](0x0,0x0,0x0,0x0);const _0x2bdc5c=getLocalDateStr(new Date()),_0x45d69c=document[_0x2c530f(0x173)](),_0x1ffcc9=document[_0x2c530f(0x173)]();for(let _0x2afc84=_0xb827ce;_0x2afc84<=_0xdb0148;_0x2afc84++){const _0x2f3290=new Date(_0x46d93d);_0x2f3290[_0x2c530f(0x176)](_0x2f3290[_0x2c530f(0x2e4)]()+_0x2afc84);const _0x6b3ab8=getLocalDateStr(_0x2f3290);let _0x17be19=_0x2f3290[_0x2c530f(0x2ac)]()-0x1;if(_0x17be19===-0x1)_0x17be19=0x6;const _0x5cfffa=_0x6b3ab8===_0x2bdc5c,_0x4c14e3=document[_0x2c530f(0x2ef)](_0x2c530f(0x289));_0x4c14e3[_0x2c530f(0x252)]=_0x2c530f(0x23c)+(_0x5cfffa?_0x2c530f(0x216):''),_0x4c14e3['id']=_0x2c530f(0x297)+_0x6b3ab8,_0x4c14e3['setAttribute'](_0x2c530f(0x2b2),_0x6b3ab8),_0x4c14e3['innerHTML']=_0x2c530f(0x1a8)+_0x193e57[_0x17be19]+'</div><div\x20class=\x22dch-num\x22>'+_0x2f3290[_0x2c530f(0x2e4)]()+_0x2c530f(0x25f)+_0x6b3ab8+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x4c14e3[_0x2c530f(0x2e0)]=()=>openDayOptions(_0x6b3ab8,_0x193e57[_0x17be19]+'\x20'+_0x2f3290['getDate']()),_0x45d69c[_0x2c530f(0x2af)](_0x4c14e3);const _0x4c2490=document['createElement'](_0x2c530f(0x289));_0x4c2490[_0x2c530f(0x252)]=_0x2c530f(0x178)+(_0x5cfffa?_0x2c530f(0x216):''),_0x4c2490[_0x2c530f(0x292)]('data-date',_0x6b3ab8),_0x4c2490[_0x2c530f(0x292)](_0x2c530f(0x1a3),_0x17be19),renderEventsForColumn(_0x4c2490,_0x6b3ab8,_0x17be19),attachLongPressHandler(_0x4c2490,_0x2f3290),_0x1ffcc9[_0x2c530f(0x2af)](_0x4c2490),updateDayStats(_0x6b3ab8);}_0x5d6944[_0x2c530f(0x21b)](_0x45d69c,_0x5d6944[_0x2c530f(0x223)]),_0x52a209['insertBefore'](_0x1ffcc9,_0x52a209[_0x2c530f(0x2c4)](_0x2c530f(0x217)));}function validateAppointment(_0x4335f8,_0x52483c,_0xddb811,_0x18a545,_0x492b9e){const _0x294ec9=a2_0x2e28f1,[_0x22f9f1,_0x119be9]=_0x52483c[_0x294ec9(0x184)](':')[_0x294ec9(0x1a2)](Number),[_0xc3b10,_0x2df814]=_0xddb811['split'](':')[_0x294ec9(0x1a2)](Number),_0x489192=_0x22f9f1*0x3c+_0x119be9,_0x541e94=_0xc3b10*0x3c+_0x2df814,_0x244213=String(_0x492b9e);let _0x3f2782=![],_0x1607a6='';for(let _0x5dc12a of sessions){if(_0x5dc12a['dateStr']!==_0x4335f8)continue;if(_0x5dc12a['status']===_0x294ec9(0x288))continue;if(_0x18a545&&String(_0x5dc12a['id'])===String(_0x18a545))continue;const [_0x11a758,_0x4509e2]=_0x5dc12a[_0x294ec9(0x232)]['split'](':')[_0x294ec9(0x1a2)](Number),[_0x422554,_0x169234]=_0x5dc12a[_0x294ec9(0x2d4)][_0x294ec9(0x184)](':')['map'](Number),_0x23db42=_0x11a758*0x3c+_0x4509e2,_0x37738a=_0x422554*0x3c+_0x169234;if(Math[_0x294ec9(0x1fb)](_0x489192,_0x23db42)<Math[_0x294ec9(0x2ed)](_0x541e94,_0x37738a)){if(_0x5dc12a[_0x294ec9(0x280)]&&String(_0x5dc12a['clientId'])===_0x244213)return{'valid':![],'msg':_0x294ec9(0x26a)+_0x5dc12a[_0x294ec9(0x2de)]+_0x294ec9(0x2b8)};_0x3f2782=!![],_0x1607a6=_0x5dc12a['client'];}}if(_0x3f2782)return{'valid':!![],'warning':_0x294ec9(0x28b)+_0x1607a6};return{'valid':!![]};}function updateDateDisplay(){const _0x487055=a2_0x2e28f1,_0x31bac1=document[_0x487055(0x279)](_0x487055(0x27c))['value'],_0x3c7bd8=document[_0x487055(0x279)](_0x487055(0x2a2));if(!_0x31bac1){_0x3c7bd8['textContent']='';return;}const [_0x4af3de,_0x3e2e34,_0x10a284]=_0x31bac1['split']('-')[_0x487055(0x1a2)](Number),_0x402063=new Date(_0x4af3de,_0x3e2e34-0x1,_0x10a284),_0x5f5a03={'weekday':_0x487055(0x192),'day':_0x487055(0x239),'month':'long','year':_0x487055(0x239)};let _0x5ebe87=_0x402063['toLocaleDateString'](_0x487055(0x1ad),_0x5f5a03);_0x5ebe87=_0x5ebe87['charAt'](0x0)[_0x487055(0x2bb)]()+_0x5ebe87[_0x487055(0x1d0)](0x1),_0x3c7bd8[_0x487055(0x21c)]=_0x5ebe87;}function autoSetEndTime(){const _0x39d7a2=a2_0x2e28f1,_0x46f629=document[_0x39d7a2(0x279)]('inpStart')[_0x39d7a2(0x2f1)];if(!_0x46f629)return;const [_0x5b5347,_0x38b7d3]=_0x46f629[_0x39d7a2(0x184)](':')['map'](Number);let _0x1b44f7=_0x5b5347+0x1;if(_0x1b44f7>0x17)_0x1b44f7=0x0;const _0x298674=String(_0x1b44f7)[_0x39d7a2(0x2a4)](0x2,'0')+':'+String(_0x38b7d3)[_0x39d7a2(0x2a4)](0x2,'0');document[_0x39d7a2(0x279)](_0x39d7a2(0x1bd))[_0x39d7a2(0x2f1)]=_0x298674;}function populateClientSelect(){const _0x594988=a2_0x2e28f1,_0x4d6b23=document[_0x594988(0x279)]('inpClient');_0x4d6b23[_0x594988(0x1e0)]='';if(clients[_0x594988(0x2c9)]===0x0){const _0x417481=document[_0x594988(0x2ef)](_0x594988(0x25c));_0x417481['text']='–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤',_0x4d6b23['appendChild'](_0x417481);return;}clients['forEach'](_0x5c33a3=>{const _0x2bd66c=_0x594988,_0x871ecc=document[_0x2bd66c(0x2ef)](_0x2bd66c(0x25c));_0x871ecc['value']=_0x5c33a3[_0x2bd66c(0x1b7)],_0x871ecc[_0x2bd66c(0x21c)]=_0x5c33a3[_0x2bd66c(0x1b7)],_0x4d6b23[_0x2bd66c(0x2af)](_0x871ecc);});}function openActionSheet(_0x2bfef0){const _0x51883b=a2_0x2e28f1,_0x25fa4e=document[_0x51883b(0x279)](_0x51883b(0x29d)),_0x3f12c9=document['getElementById']('actionSheetOverlay'),_0x43ba83=document['getElementById'](_0x51883b(0x243)),_0x1ff762=document[_0x51883b(0x279)](_0x51883b(0x1a4)),_0x5ba3ae=document[_0x51883b(0x279)](_0x51883b(0x26f));_0x3f12c9[_0x51883b(0x210)][_0x51883b(0x262)](_0x51883b(0x249)),_0x25fa4e[_0x51883b(0x210)][_0x51883b(0x262)](_0x51883b(0x170));if(_0x2bfef0===_0x51883b(0x204))_0x43ba83[_0x51883b(0x21c)]=_0x51883b(0x1ae),_0x1ff762['textContent']=_0x51883b(0x1bf),_0x1ff762[_0x51883b(0x2e0)]=()=>{const _0xbb1fdc=_0x51883b;closeActionSheet(),updateSeriesBatch(_0xbb1fdc(0x1fd),tempSessionData);},_0x5ba3ae[_0x51883b(0x21c)]=_0x51883b(0x1b2),_0x5ba3ae[_0x51883b(0x2e0)]=()=>{const _0x16edcc=_0x51883b;closeActionSheet(),updateSeriesBatch(_0x16edcc(0x244),tempSessionData);};else _0x2bfef0==='delete'&&(_0x43ba83['textContent']=_0x51883b(0x24e),_0x1ff762['textContent']=_0x51883b(0x1bf),_0x1ff762['className']=_0x51883b(0x2e6),_0x1ff762[_0x51883b(0x2e0)]=()=>{const _0x23a81e=_0x51883b;closeActionSheet(),commitDelete(_0x23a81e(0x1fd),sessions['find'](_0x1f7b64=>_0x1f7b64['id']===editingId));},_0x5ba3ae[_0x51883b(0x21c)]=_0x51883b(0x1b2),_0x5ba3ae['className']='as-button\x20danger\x20bold',_0x5ba3ae[_0x51883b(0x2e0)]=()=>{const _0x22ddc5=_0x51883b;closeActionSheet(),commitDelete(_0x22ddc5(0x244),sessions[_0x22ddc5(0x23f)](_0x13ee62=>_0x13ee62['id']===editingId));});}function closeActionSheet(){const _0x4b1b1d=a2_0x2e28f1;document['getElementById'](_0x4b1b1d(0x29d))[_0x4b1b1d(0x210)][_0x4b1b1d(0x1f3)]('open'),document[_0x4b1b1d(0x279)](_0x4b1b1d(0x21f))['classList']['remove']('active');}function openSettings(){const _0x41bcde=a2_0x2e28f1;openSheet(_0x41bcde(0x1ee));}function saveCoachSettings(){const _0xbd86b2=a2_0x2e28f1,_0xf9b18a=document[_0xbd86b2(0x279)](_0xbd86b2(0x1dc))[_0xbd86b2(0x2f1)];localStorage[_0xbd86b2(0x2a8)]('uc_settings_cancel_window',_0xf9b18a),console['log']('[Settings]\x20Cancel\x20window\x20set\x20to:',_0xf9b18a),DataManager['fetchFromServer'](_0xbd86b2(0x27b),{'settings':{'cancel_window':_0xf9b18a}})[_0xbd86b2(0x2d5)](_0x3dc8b8=>{const _0x4d6475=_0xbd86b2;console[_0x4d6475(0x2d2)]('Save\x20settings\x20error:',_0x3dc8b8),showToast(_0x4d6475(0x2da),![]);});}function loadCoachSettings(){const _0x50154f=a2_0x2e28f1,_0x27e7c1=localStorage['getItem']('uc_settings_cancel_window');_0x27e7c1&&(document[_0x50154f(0x279)](_0x50154f(0x1dc))[_0x50154f(0x2f1)]=_0x27e7c1);}function openRangesSheet(){closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet('rangesSheet');}function addRange(){const _0x4d19d8=a2_0x2e28f1,_0x272afc=document[_0x4d19d8(0x279)](_0x4d19d8(0x188))['value'],_0x373a0c=document[_0x4d19d8(0x279)]('rangeStartTime')[_0x4d19d8(0x2f1)],_0x57f071=document[_0x4d19d8(0x279)](_0x4d19d8(0x233))[_0x4d19d8(0x2f1)],_0x3462ff=document[_0x4d19d8(0x279)](_0x4d19d8(0x193))[_0x4d19d8(0x2f1)];if(!_0x272afc||!_0x373a0c||!_0x57f071||!_0x3462ff)return alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è');const _0x55fc6e=_0x272afc+'T'+_0x373a0c,_0x3ad4ea=_0x57f071+'T'+_0x3462ff;if(_0x55fc6e>=_0x3ad4ea)return alert(_0x4d19d8(0x24d));specialRanges[_0x4d19d8(0x2ae)]({'start':_0x55fc6e,'end':_0x3ad4ea}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager['fetchFromServer'](_0x4d19d8(0x27b),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x20388e){const _0x570245=a2_0x2e28f1;specialRanges['splice'](_0x20388e,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x570245(0x1aa)](),DataManager[_0x570245(0x196)](_0x570245(0x27b),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x15a9e2=a2_0x2e28f1;document[_0x15a9e2(0x279)](_0x15a9e2(0x188))[_0x15a9e2(0x2f1)]='',document[_0x15a9e2(0x279)](_0x15a9e2(0x175))[_0x15a9e2(0x2f1)]=_0x15a9e2(0x19e),document[_0x15a9e2(0x279)](_0x15a9e2(0x233))[_0x15a9e2(0x2f1)]='',document['getElementById']('rangeEndTime')[_0x15a9e2(0x2f1)]=_0x15a9e2(0x27d);}function renderRangesList(){const _0x10295f=a2_0x2e28f1,_0x3ee21e=document[_0x10295f(0x279)]('rangesList');_0x3ee21e[_0x10295f(0x1e0)]='';if(!specialRanges[_0x10295f(0x2c9)]){_0x3ee21e[_0x10295f(0x1e0)]=_0x10295f(0x1f4);return;}specialRanges[_0x10295f(0x20d)]((_0xb74681,_0x425480)=>{const _0x208a8c=_0x10295f,_0x1c6fb6=document[_0x208a8c(0x2ef)](_0x208a8c(0x289));_0x1c6fb6[_0x208a8c(0x252)]=_0x208a8c(0x20b);const _0xf393e7=_0x16a738=>{const _0x5afb58=_0x208a8c,_0x1056d5=new Date(_0x16a738);return _0x1056d5[_0x5afb58(0x2e4)]()+'.'+String(_0x1056d5[_0x5afb58(0x189)]()+0x1)[_0x5afb58(0x2a4)](0x2,'0')+'\x20'+String(_0x1056d5[_0x5afb58(0x2e8)]())['padStart'](0x2,'0')+':'+String(_0x1056d5[_0x5afb58(0x26e)]())[_0x5afb58(0x2a4)](0x2,'0');};_0x1c6fb6[_0x208a8c(0x1e0)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>'+_0xf393e7(_0xb74681[_0x208a8c(0x232)])+_0x208a8c(0x27f)+_0xf393e7(_0xb74681[_0x208a8c(0x2d4)])+_0x208a8c(0x29c)+_0x425480+_0x208a8c(0x2ce),_0x3ee21e[_0x208a8c(0x2af)](_0x1c6fb6);});}function scrollToToday(){const _0x1dfbe5=a2_0x2e28f1,_0x5839a2=getLocalDateStr(new Date()),_0xd76354=document[_0x1dfbe5(0x279)](_0x1dfbe5(0x297)+_0x5839a2),_0x58305e=document[_0x1dfbe5(0x279)]('matrixViewport');if(_0xd76354&&_0x58305e){const _0x58b5f2=_0x58305e[_0x1dfbe5(0x1a1)],_0x99b6ec=_0xd76354['offsetLeft'],_0x41ac29=_0xd76354[_0x1dfbe5(0x1a6)];_0x58305e[_0x1dfbe5(0x257)]=_0x99b6ec-_0x58b5f2/0x2+_0x41ac29/0x2,_0x58305e[_0x1dfbe5(0x1d3)]=0x9*GRID_H;}}function onScroll(){const _0x122223=a2_0x2e28f1,_0x355563=document[_0x122223(0x279)]('matrixViewport'),_0x5ca03b=document[_0x122223(0x290)]('.day-col-header');for(let _0xfc9a60 of _0x5ca03b)if(_0xfc9a60[_0x122223(0x1e6)]>=_0x355563[_0x122223(0x257)]){const _0x432d37=new Date(_0xfc9a60['getAttribute'](_0x122223(0x2b2)));document['getElementById'](_0x122223(0x2a3))['textContent']=_0x432d37[_0x122223(0x2a0)]('ru',{'month':_0x122223(0x192)})[_0x122223(0x2bb)]()+'\x20'+_0x432d37[_0x122223(0x1be)]();break;}}function showToast(_0x299f3f,_0x3ac2da=![]){const _0x359231=a2_0x2e28f1,_0x2183de=document['getElementById'](_0x359231(0x180));_0x2183de[_0x359231(0x252)]=_0x359231(0x284)+(_0x3ac2da?_0x359231(0x212):''),document[_0x359231(0x279)](_0x359231(0x28d))[_0x359231(0x21c)]=_0x3ac2da?'–£—Å–ø–µ—à–Ω–æ':_0x359231(0x1d4),document[_0x359231(0x279)](_0x359231(0x174))[_0x359231(0x21c)]=_0x299f3f,_0x2183de['classList'][_0x359231(0x262)](_0x359231(0x254)),setTimeout(()=>{const _0x44ba90=_0x359231;_0x2183de[_0x44ba90(0x210)][_0x44ba90(0x1f3)](_0x44ba90(0x254));},0xbb8);}function openDayOptions(_0x5f55ff,_0x2d927a){const _0x3a3dc9=a2_0x2e28f1;selectedDayForOptions=_0x5f55ff,document['getElementById'](_0x3a3dc9(0x20a))[_0x3a3dc9(0x21c)]=_0x2d927a,openSheet(_0x3a3dc9(0x1b4));}function toggleDayOff(){const _0x4f4bb7=a2_0x2e28f1;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x4f4bb7(0x20c),reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager[_0x4f4bb7(0x196)](_0x4f4bb7(0x27b),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x7e2070=a2_0x2e28f1;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x7e2070(0x1aa)](),DataManager['fetchFromServer'](_0x7e2070(0x27b),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x5960df){const _0x2e6ce1=a2_0x2e28f1;document[_0x2e6ce1(0x279)](_0x2e6ce1(0x17b))[_0x2e6ce1(0x210)][_0x2e6ce1(0x262)]('active'),document[_0x2e6ce1(0x279)](_0x5960df)[_0x2e6ce1(0x210)][_0x2e6ce1(0x262)](_0x2e6ce1(0x170));}function closeAllSheets(){const _0x2f33bf=a2_0x2e28f1;document[_0x2f33bf(0x279)](_0x2f33bf(0x17b))[_0x2f33bf(0x210)][_0x2f33bf(0x1f3)](_0x2f33bf(0x249)),document[_0x2f33bf(0x290)](_0x2f33bf(0x16d))[_0x2f33bf(0x20d)](_0x57b19d=>_0x57b19d[_0x2f33bf(0x210)][_0x2f33bf(0x1f3)](_0x2f33bf(0x170)));}function openPatternEditor(){const _0x338ae7=a2_0x2e28f1;closeAllSheets(),document['getElementById'](_0x338ae7(0x264))[_0x338ae7(0x210)][_0x338ae7(0x262)]('open'),renderPatternEditor();}function closePatternEditor(){const _0x4ec005=a2_0x2e28f1;document[_0x4ec005(0x279)]('patternEditor')[_0x4ec005(0x210)][_0x4ec005(0x1f3)](_0x4ec005(0x170));}function savePattern(){const _0x3e9378=a2_0x2e28f1;document[_0x3e9378(0x279)]('patternEditor')[_0x3e9378(0x210)]['remove'](_0x3e9378(0x170)),reRenderBlocks(),DataManager[_0x3e9378(0x1aa)](),DataManager[_0x3e9378(0x196)](_0x3e9378(0x27b),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x1fa0f7=a2_0x2e28f1,_0x24023b=document[_0x1fa0f7(0x279)](_0x1fa0f7(0x195));_0x24023b[_0x1fa0f7(0x1e0)]='';const _0x25619c=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x23a03a=document[_0x1fa0f7(0x2ef)](_0x1fa0f7(0x289));_0x23a03a[_0x1fa0f7(0x252)]='pe-corner',_0x24023b[_0x1fa0f7(0x2af)](_0x23a03a),_0x25619c[_0x1fa0f7(0x20d)]((_0x439d7f,_0x267abe)=>{const _0x3aed78=_0x1fa0f7,_0x1e1aa3=document[_0x3aed78(0x2ef)](_0x3aed78(0x289));_0x1e1aa3[_0x3aed78(0x252)]='pe-col-header',_0x1e1aa3[_0x3aed78(0x1e0)]=_0x439d7f+_0x3aed78(0x22d),_0x1e1aa3[_0x3aed78(0x2e0)]=()=>toggleColPattern(_0x267abe),_0x24023b[_0x3aed78(0x2af)](_0x1e1aa3);});for(let _0x2f5739=0x0;_0x2f5739<0x18;_0x2f5739++){const _0x51b3d8=document['createElement'](_0x1fa0f7(0x289));_0x51b3d8['className']='pe-time-label',_0x51b3d8[_0x1fa0f7(0x1e0)]=_0x1fa0f7(0x1e2)+String(_0x2f5739)[_0x1fa0f7(0x2a4)](0x2,'0')+_0x1fa0f7(0x22e),_0x51b3d8[_0x1fa0f7(0x2e0)]=()=>toggleRowPattern(_0x2f5739),_0x24023b[_0x1fa0f7(0x2af)](_0x51b3d8);for(let _0x283005=0x0;_0x283005<0x7;_0x283005++){const _0xab8f5a=document[_0x1fa0f7(0x2ef)](_0x1fa0f7(0x289)),_0x83fe33=(availabilityPattern[_0x283005]||[])['includes'](_0x2f5739),_0x2d298e=!_0x83fe33;_0xab8f5a['className']=_0x1fa0f7(0x25b)+(_0x2d298e?_0x1fa0f7(0x249):''),_0xab8f5a['onclick']=()=>toggleSinglePattern(_0x283005,_0x2f5739),_0x24023b[_0x1fa0f7(0x2af)](_0xab8f5a);}}}function toggleSinglePattern(_0x3497c3,_0xa61acb){const _0x38a79d=a2_0x2e28f1;if(!availabilityPattern[_0x3497c3])availabilityPattern[_0x3497c3]=[];const _0x5dcd51=availabilityPattern[_0x3497c3],_0x151d17=_0x5dcd51[_0x38a79d(0x1eb)](_0xa61acb);_0x151d17===-0x1?_0x5dcd51[_0x38a79d(0x2ae)](_0xa61acb):_0x5dcd51[_0x38a79d(0x1bb)](_0x151d17,0x1),renderPatternEditor();}function toggleColPattern(_0x49126d){const _0x1de1de=a2_0x2e28f1;if(!availabilityPattern[_0x49126d])availabilityPattern[_0x49126d]=[];const _0x760bff=availabilityPattern[_0x49126d];_0x760bff['length']===0x0?availabilityPattern[_0x49126d]=Array[_0x1de1de(0x1c0)]({'length':0x18},(_0x1cf43c,_0x4ea341)=>_0x4ea341):availabilityPattern[_0x49126d]=[],renderPatternEditor();}function toggleRowPattern(_0x1d9a3a){const _0x476389=a2_0x2e28f1;let _0x5e301f=!![];for(let _0x43a94a=0x0;_0x43a94a<0x7;_0x43a94a++){if((availabilityPattern[_0x43a94a]||[])['includes'](_0x1d9a3a)){_0x5e301f=![];break;}}for(let _0x55d6b7=0x0;_0x55d6b7<0x7;_0x55d6b7++){if(!availabilityPattern[_0x55d6b7])availabilityPattern[_0x55d6b7]=[];const _0x5b8c61=availabilityPattern[_0x55d6b7][_0x476389(0x1eb)](_0x1d9a3a);if(_0x5e301f){if(_0x5b8c61===-0x1)availabilityPattern[_0x55d6b7][_0x476389(0x2ae)](_0x1d9a3a);}else{if(_0x5b8c61!==-0x1)availabilityPattern[_0x55d6b7][_0x476389(0x1bb)](_0x5b8c61,0x1);}}renderPatternEditor();}function renderPCol(_0x5973df,_0x18c4eb){const _0x4bb583=a2_0x2e28f1;_0x5973df[_0x4bb583(0x1e0)]='';const _0x2d1d9c=Math['round'](_0x5973df[_0x4bb583(0x1e6)]);(availabilityPattern[_0x18c4eb]||[])['forEach'](_0x18756b=>{const _0x11c40e=_0x4bb583,_0x50b3e7=document[_0x11c40e(0x2ef)](_0x11c40e(0x289));_0x50b3e7['className']=_0x11c40e(0x24f);const _0x375074=_0x18756b*GRID_H;_0x50b3e7[_0x11c40e(0x2e3)][_0x11c40e(0x182)]=_0x375074+'px',_0x50b3e7[_0x11c40e(0x2e3)][_0x11c40e(0x1ec)]='-'+_0x2d1d9c+_0x11c40e(0x2c2)+_0x375074+'px',_0x50b3e7[_0x11c40e(0x2e0)]=_0xdd753c=>{const _0x753b18=_0x11c40e;_0xdd753c[_0x753b18(0x277)](),toggleSinglePattern(_0x18c4eb,_0x18756b);},_0x5973df[_0x11c40e(0x2af)](_0x50b3e7);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x2a6b3c=a2_0x2e28f1,_0x1c2d81=new Date(),_0x498a31=document[_0x2a6b3c(0x279)](_0x2a6b3c(0x2a5)),_0x16195f=document[_0x2a6b3c(0x279)]('timeLineBadge'),_0x2e1945=(_0x1c2d81['getHours']()*0x3c+_0x1c2d81[_0x2a6b3c(0x26e)]())/0x3c*GRID_H;_0x498a31[_0x2a6b3c(0x2e3)][_0x2a6b3c(0x182)]=_0x2e1945+'px',_0x498a31[_0x2a6b3c(0x2e3)][_0x2a6b3c(0x218)]=_0x2a6b3c(0x2cd),_0x16195f[_0x2a6b3c(0x21c)]=String(_0x1c2d81[_0x2a6b3c(0x2e8)]())[_0x2a6b3c(0x2a4)](0x2,'0')+':'+String(_0x1c2d81[_0x2a6b3c(0x26e)]())[_0x2a6b3c(0x2a4)](0x2,'0'),_0x16195f[_0x2a6b3c(0x2e3)][_0x2a6b3c(0x218)]=_0x2a6b3c(0x2cd),_0x16195f[_0x2a6b3c(0x2e3)][_0x2a6b3c(0x182)]=_0x2e1945+'px';}document[a2_0x2e28f1(0x260)]('DOMContentLoaded',init);function openDayOptions(_0x45a2ec){const _0x47147d=a2_0x2e28f1;selectedDayForOptions=_0x45a2ec;const _0x3da4d9=new Date(_0x45a2ec),_0x604d2a={'weekday':_0x47147d(0x192),'day':_0x47147d(0x239),'month':'long','year':_0x47147d(0x239)},_0xcda498=_0x3da4d9[_0x47147d(0x285)](_0x47147d(0x1ad),_0x604d2a);document[_0x47147d(0x279)](_0x47147d(0x21e))[_0x47147d(0x21c)]=_0xcda498[_0x47147d(0x1b9)](0x0)[_0x47147d(0x2bb)]()+_0xcda498[_0x47147d(0x1d0)](0x1);let _0x22a1a6=_0x3da4d9['getDay']()-0x1;if(_0x22a1a6===-0x1)_0x22a1a6=0x6;const _0x2f154b=availabilityPattern[_0x22a1a6]||[],_0x2fa6b6=0x18-_0x2f154b[_0x47147d(0x2c9)],_0x212f2d=_0x2fa6b6*0x3c,_0x183dc4=sessions[_0x47147d(0x2ea)](_0x2dfbb1=>_0x2dfbb1['dateStr']===_0x45a2ec&&_0x2dfbb1[_0x47147d(0x2e5)]!==_0x47147d(0x288));let _0x380f35=_0x183dc4[_0x47147d(0x1a2)](_0x3eba6a=>{const _0x119d8a=_0x47147d,[_0x4adde9,_0x6a53c0]=_0x3eba6a['start'][_0x119d8a(0x184)](':')[_0x119d8a(0x1a2)](Number),[_0x34c74e,_0xf96961]=_0x3eba6a['end'][_0x119d8a(0x184)](':')[_0x119d8a(0x1a2)](Number);return[_0x4adde9*0x3c+_0x6a53c0,_0x34c74e*0x3c+_0xf96961];});_0x380f35[_0x47147d(0x1f7)]((_0x5716f,_0x59800b)=>_0x5716f[0x0]-_0x59800b[0x0]);let _0x32b151=[];if(_0x380f35['length']>0x0){let _0x2010d5=_0x380f35[0x0];for(let _0x3dfe02=0x1;_0x3dfe02<_0x380f35['length'];_0x3dfe02++){_0x380f35[_0x3dfe02][0x0]<_0x2010d5[0x1]?_0x2010d5[0x1]=Math[_0x47147d(0x1fb)](_0x2010d5[0x1],_0x380f35[_0x3dfe02][0x1]):(_0x32b151[_0x47147d(0x2ae)](_0x2010d5),_0x2010d5=_0x380f35[_0x3dfe02]);}_0x32b151['push'](_0x2010d5);}let _0x40edda=0x0;_0x32b151[_0x47147d(0x20d)](_0x54aca6=>_0x40edda+=_0x54aca6[0x1]-_0x54aca6[0x0]),document[_0x47147d(0x279)](_0x47147d(0x17f))[_0x47147d(0x21c)]=formatMinsToHrs(_0x212f2d),document[_0x47147d(0x279)](_0x47147d(0x1d6))['textContent']=formatMinsToHrs(_0x40edda);const _0x527869=_0x212f2d>0x0?Math[_0x47147d(0x1f9)](_0x40edda/_0x212f2d*0x64):0x0,_0x24d6f6=document['getElementById'](_0x47147d(0x2d3));_0x24d6f6['textContent']=_0x527869+'%';const _0x3dec2d=document[_0x47147d(0x279)](_0x47147d(0x2d6));if(_0x527869>0x64)_0x24d6f6[_0x47147d(0x2e3)]['color']=_0x47147d(0x1d9),_0x3dec2d['style'][_0x47147d(0x2ee)]='rgba(255,\x2069,\x2058,\x200.3)';else _0x527869>0x50?(_0x24d6f6[_0x47147d(0x2e3)][_0x47147d(0x1b8)]=_0x47147d(0x18b),_0x3dec2d[_0x47147d(0x2e3)]['borderColor']=_0x47147d(0x1db)):(_0x24d6f6[_0x47147d(0x2e3)]['color']=_0x47147d(0x215),_0x3dec2d[_0x47147d(0x2e3)][_0x47147d(0x2ee)]=_0x47147d(0x1ef));const _0x4f2cbb=document[_0x47147d(0x279)](_0x47147d(0x2ca));_0x4f2cbb['innerHTML']='';_0x183dc4[_0x47147d(0x2c9)]===0x0?_0x4f2cbb[_0x47147d(0x1e0)]=_0x47147d(0x2e1):(_0x183dc4[_0x47147d(0x1f7)]((_0x1efdb4,_0x350d88)=>_0x1efdb4['start'][_0x47147d(0x1c3)](_0x350d88[_0x47147d(0x232)])),_0x183dc4[_0x47147d(0x20d)](_0xad01bb=>{const _0x275975=_0x47147d,_0x3fdffb=clients[_0x275975(0x23f)](_0x4de24a=>_0x4de24a[_0x275975(0x1b7)]===_0xad01bb[_0x275975(0x2de)]),_0x19da49=_0x3fdffb?_0x3fdffb[_0x275975(0x1b8)]:_0x275975(0x298),_0x35476e=_0xad01bb[_0x275975(0x2e5)]===_0x275975(0x1e8),_0x2d04ef=_0x35476e?_0x275975(0x29e):'',_0x120797=document[_0x275975(0x2ef)](_0x275975(0x289));_0x120797[_0x275975(0x252)]=_0x275975(0x187),_0x120797['style'][_0x275975(0x2cf)]=_0x19da49,_0x120797[_0x275975(0x1e0)]=_0x275975(0x1cb)+_0xad01bb['start']+_0x275975(0x2f0)+_0xad01bb[_0x275975(0x2d4)]+_0x275975(0x2ec)+_0xad01bb['client']+_0x275975(0x287)+_0x2d04ef+_0x275975(0x231),_0x4f2cbb[_0x275975(0x2af)](_0x120797);}));const _0x33d559=document[_0x47147d(0x279)](_0x47147d(0x2bf)),_0x2acaf3=dateExceptions[_0x45a2ec]===_0x47147d(0x20c);_0x2acaf3?(_0x33d559['textContent']='–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º',_0x33d559[_0x47147d(0x252)]=_0x47147d(0x1cd),_0x33d559[_0x47147d(0x2e3)][_0x47147d(0x1b8)]=_0x47147d(0x215),_0x33d559[_0x47147d(0x2e3)]['background']=_0x47147d(0x2a1)):(_0x33d559[_0x47147d(0x21c)]='–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º',_0x33d559[_0x47147d(0x252)]='btn-primary\x20btn-danger',_0x33d559[_0x47147d(0x2e3)]['color']=_0x47147d(0x1d9),_0x33d559['style'][_0x47147d(0x19b)]=_0x47147d(0x183)),openSheet(_0x47147d(0x1b4));}let currentAnPeriod='week';function a2_0xe22b(){const _0x73d54e=['router.html','sheetTitle','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','getBoundingClientRect','dayOptionsSheet','uc_settings_v9','none','name','color','charAt','dateStr','splice','getItem','inpEnd','getFullYear','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','from','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','total','localeCompare','4wKFZvM','anDonutCircle','log','formatDate','undefined','data','<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','toFixed','btn-primary\x20btn-secondary','time-label','touchstart','slice','ready','inpSeriesCount','scrollTop','–ò–Ω—Ñ–æ','#gridColumns\x20.day-column','doBusyHours','day-off-overlay\x20stripe-bg','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','var(--acc-red)','rgba(','rgba(255,\x20159,\x2010,\x200.3)','settingCancelWindow','1017801GrfpXc','disableVerticalSwipes','height','innerHTML','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','v9.0-BATCH-CALENDAR','anPercent','btnStatusToggle','offsetLeft','inpClient','completed','floor','Server\x20Error','indexOf','backgroundPosition','setHours','settingsSheet','rgba(255,255,255,0.05)','rgba(100,100,100,0.5)','anEnd','deleted','remove','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>',':\x20Client\x20already\x20booked','user','sort','offClick','round','clients','max','patternInfoBox','single','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','setHeaderColor','inpNote','\x20–∏–∑\x20','[Notify]\x20Error:\x20Text\x20generation\x20failed','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','save','cancel_window','settings','blocked-range-part\x20stripe-bg','json','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','dayOptionsTitle','range-item','off','forEach','warn','analyticsList','classList','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','success','warning','\x20status-completed','var(--acc-green)','today','.day-column','display','mousemove','done','insertBefore','textContent','getAttribute','doDateHeader','actionSheetOverlay','scrollWidth','flex','initData','firstChild','pattern','BackButton','.day-col-header','event-card','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','[Notify]\x20Error:\x20sessionData\x20is\x20null','left','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','\x20<span\x20class=\x22arrow\x22>‚Üì</span>',':00','checked','935000jIrsjB','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','start','rangeEndDate','batch_sync','\x20days','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','custom','numeric','parse','null','day-col-header\x20','recurringOptionContainer','Local\x20Save\x20Error','find','week','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','clientY','asTitle','series','(((.+)+)+)+$','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','5722065SMJNdG','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','active','findIndex','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','1221164oVqAqH','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','–£–¥–∞–ª–µ–Ω–∏–µ','blocked-slot\x20stripe-bg','sessionSheet','Critical\x20TMA\x20Error:','className','ranges','show','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','[Notify]\x20Attempting\x20to\x20send:','scrollLeft','inpRecurring','timeLineBadge','location','pe-cell\x20','option',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','vibrate','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','addEventListener','analyticsSheet','add','</div>','patternEditor','.day-off-overlay','loadLocal','expand','#0a84ff','complete','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','colIndex','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','getMinutes','asBtnSeries','touchmove','uc_clients_v9','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','backgroundColor','closest','daysHeaderTrack','client-stat-card','stopPropagation','getTime','getElementById','then','save_settings','inpDate','23:59','.period-switch\x20.p-btn','\x20‚Äî\x20','clientId','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','anTotalStats','3969366NZcLYE','toast-notification\x20','toLocaleDateString',']\x20Failed:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancelled','div','guest','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','keys','toastTitle','sid','112390IMCzZH','querySelectorAll','init_load','setAttribute','%\x20-\x204px)','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','valid','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','header-','#fff','setBackgroundColor','WebApp','Local\x20Load\x20Error','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','actionSheet','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','now','toLocaleString','rgba(48,\x20209,\x2088,\x200.15)','sheetDateSubtitle','headerMonth','padStart','globalTimeLine','10px\x2010px\x200\x200','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','setItem','anCustomDates','text/plain;charset=UTF-8','Error\x20setting\x20color:','getDay','btnDelete','push','appendChild','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','matrixViewport','data-date','apply','uc_sessions_v9','Batch\x20Sync\x20OK','.event-card','Error\x20setting\x20back\x20button:',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','toUpperCase','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','onClick','update','btnDayToggle','syncBatch','T00:00:00','px\x20-','search','querySelector','Unknown','Telegram','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','create','length','doEventsList','268MHOEMi','toString','block',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','borderLeftColor','</div><div\x20class=\x22dch-num\x22>','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','error','doLoadPercent','end','catch','statLoadCard','send','[Notify]\x20Network\x20Failed','planned','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','width','href','setMonth','client','%\x20+\x202px)','onclick','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','calendar','style','getDate','status','as-button\x20danger','btn-status-toggle','getHours','[API\x20','filter',':00</span>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','min','borderColor','createElement','\x20-\x20','value','100%','seriesCountContainer','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','px\x200px','var(--acc-current)','stringify','.sheet','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','open','.dch-stats-fill','...','createDocumentFragment','toastMessage','rangeStartTime','setDate','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','day-column\x20','10px','note','overlay','exceptions','#050505','[Notify]\x20Client\x20SWAP\x20detected','doWorkHours','toast','all','top','rgba(255,\x2069,\x2058,\x200.15)','split','<b>‚úÖ\x20','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','de-item','rangeStartDate','getMonth',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','var(--acc-orange)','</span>\x20/\x20','initDataUnsafe','scroll','isArray','24555TDNeuE','mergeServerData','long','rangeEndTime','inpStart','peGrid','fetchFromServer','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','touchend','seriesId','strokeDashoffset','background','constructor','</div><div\x20class=\x22ev-time\x22>','00:00','touches','anStart','clientWidth','map','data-day-idx','asBtnOne','cancel','offsetWidth','calc(','<div\x20class=\x22dch-day\x22>','substr','saveLocally','timeColumn','</b>\x0a\x0a','ru-RU','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','[Sync]\x20Loading\x20'];a2_0xe22b=function(){return _0x73d54e;};return a2_0xe22b();}function openAnalytics(){const _0x4ff705=a2_0x2e28f1,_0x36a4f7=document[_0x4ff705(0x2c4)](_0x4ff705(0x27e));setAnalyticsPeriod(_0x4ff705(0x240),_0x36a4f7),closeAllSheets(),openSheet(_0x4ff705(0x261));}function setAnalyticsPeriod(_0x41c421,_0x4540cc){const _0x3cb529=a2_0x2e28f1;currentAnPeriod=_0x41c421,document[_0x3cb529(0x290)]('.period-switch\x20.p-btn')[_0x3cb529(0x20d)](_0x4ab4a0=>_0x4ab4a0[_0x3cb529(0x210)]['remove'](_0x3cb529(0x249)));if(_0x4540cc)_0x4540cc[_0x3cb529(0x210)][_0x3cb529(0x262)](_0x3cb529(0x249));const _0xea2860=document['getElementById'](_0x3cb529(0x2a9));_0xea2860['style'][_0x3cb529(0x218)]=_0x41c421===_0x3cb529(0x238)?_0x3cb529(0x221):_0x3cb529(0x1b6);const _0x8c0a69=new Date();let _0x10053b=new Date(),_0x4b56d0=new Date();if(_0x41c421==='week')_0x10053b=getStartOfWeek(_0x8c0a69),_0x4b56d0=new Date(_0x10053b),_0x4b56d0[_0x3cb529(0x176)](_0x4b56d0[_0x3cb529(0x2e4)]()+0x6);else{if(_0x41c421==='month')_0x10053b=new Date(_0x8c0a69[_0x3cb529(0x1be)](),_0x8c0a69[_0x3cb529(0x189)](),0x1),_0x4b56d0=new Date(_0x8c0a69['getFullYear'](),_0x8c0a69[_0x3cb529(0x189)]()+0x1,0x0);else{!document[_0x3cb529(0x279)]('anStart')[_0x3cb529(0x2f1)]&&(document['getElementById'](_0x3cb529(0x1a0))[_0x3cb529(0x2f1)]=getLocalDateStr(_0x8c0a69),document[_0x3cb529(0x279)](_0x3cb529(0x1f1))['value']=getLocalDateStr(_0x8c0a69));refreshAnalytics();return;}}document[_0x3cb529(0x279)](_0x3cb529(0x1a0))['value']=getLocalDateStr(_0x10053b),document['getElementById']('anEnd')[_0x3cb529(0x2f1)]=getLocalDateStr(_0x4b56d0),refreshAnalytics();}function refreshAnalytics(){const _0x20b055=a2_0x2e28f1,_0x225ad8=document[_0x20b055(0x279)](_0x20b055(0x1a0))[_0x20b055(0x2f1)],_0x6161ed=document[_0x20b055(0x279)](_0x20b055(0x1f1))[_0x20b055(0x2f1)];if(!_0x225ad8||!_0x6161ed)return;const _0x2e3f8d=sessions[_0x20b055(0x2ea)](_0x49c52c=>_0x49c52c['dateStr']>=_0x225ad8&&_0x49c52c[_0x20b055(0x1ba)]<=_0x6161ed&&_0x49c52c[_0x20b055(0x2e5)]!==_0x20b055(0x288)),_0x3923af=_0x2e3f8d['length'],_0x7993c2=_0x2e3f8d['filter'](_0x10604e=>_0x10604e['status']==='completed')[_0x20b055(0x2c9)],_0x1bdf02=_0x3923af>0x0?Math[_0x20b055(0x1f9)](_0x7993c2/_0x3923af*0x64):0x0;document[_0x20b055(0x279)](_0x20b055(0x1e4))[_0x20b055(0x21c)]=_0x1bdf02+'%',document['getElementById'](_0x20b055(0x282))['textContent']=_0x7993c2+_0x20b055(0x201)+_0x3923af+_0x20b055(0x2b0);const _0x132f6a=document[_0x20b055(0x279)](_0x20b055(0x1c5)),_0x1710e8=0x2*Math['PI']*0x23,_0x4e0c66=_0x1710e8-_0x1bdf02/0x64*_0x1710e8;_0x132f6a[_0x20b055(0x2e3)][_0x20b055(0x19a)]=_0x4e0c66;const _0x4e162e={};_0x2e3f8d[_0x20b055(0x20d)](_0x5aa59b=>{const _0x1ed760=_0x20b055;if(!_0x4e162e[_0x5aa59b[_0x1ed760(0x2de)]]){const _0x816d64=clients[_0x1ed760(0x23f)](_0x40ee33=>_0x40ee33[_0x1ed760(0x1b7)]===_0x5aa59b['client']);_0x4e162e[_0x5aa59b[_0x1ed760(0x2de)]]={'total':0x0,'done':0x0,'color':_0x816d64?_0x816d64[_0x1ed760(0x1b8)]:_0x1ed760(0x298)};}_0x4e162e[_0x5aa59b[_0x1ed760(0x2de)]][_0x1ed760(0x1c2)]++;if(_0x5aa59b[_0x1ed760(0x2e5)]==='completed')_0x4e162e[_0x5aa59b[_0x1ed760(0x2de)]][_0x1ed760(0x21a)]++;});const _0x3fa694=document[_0x20b055(0x279)](_0x20b055(0x20f));_0x3fa694[_0x20b055(0x1e0)]='';const _0x3d5d9b=Object['entries'](_0x4e162e)[_0x20b055(0x1f7)]((_0x200940,_0x121f4d)=>_0x121f4d[0x1]['total']-_0x200940[0x1][_0x20b055(0x1c2)]);if(_0x3d5d9b[_0x20b055(0x2c9)]===0x0){_0x3fa694[_0x20b055(0x1e0)]=_0x20b055(0x281);return;}_0x3d5d9b['forEach'](([_0x49d33f,_0x4c5c16])=>{const _0x233e70=_0x20b055,_0x970509=Math[_0x233e70(0x1f9)](_0x4c5c16[_0x233e70(0x21a)]/_0x4c5c16[_0x233e70(0x1c2)]*0x64),_0x851075=document[_0x233e70(0x2ef)](_0x233e70(0x289));_0x851075['className']=_0x233e70(0x276),_0x851075[_0x233e70(0x2e3)]['borderLeftColor']=_0x4c5c16[_0x233e70(0x1b8)],_0x851075[_0x233e70(0x1e0)]=_0x233e70(0x241)+_0x49d33f+_0x233e70(0x24b)+_0x4c5c16[_0x233e70(0x21a)]+_0x233e70(0x18c)+_0x4c5c16[_0x233e70(0x1c2)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x970509+_0x233e70(0x236),_0x3fa694['appendChild'](_0x851075);});}function formatMinsToHrs(_0x41528b){const _0x2b1ebc=a2_0x2e28f1;if(_0x41528b===0x0)return'0';const _0x133dd4=Math[_0x2b1ebc(0x1e9)](_0x41528b/0x3c),_0x4a4ed9=_0x41528b%0x3c;if(_0x4a4ed9===0x0)return _0x133dd4+'—á';return _0x133dd4+'—á\x20'+_0x4a4ed9+'–º';}