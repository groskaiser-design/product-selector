const a2_0x8a455a=a2_0x3995;(function(_0x222c6e,_0x3183fd){const _0x42a756=a2_0x3995,_0x21efe9=_0x222c6e();while(!![]){try{const _0x6628b=-parseInt(_0x42a756(0xdf))/0x1*(parseInt(_0x42a756(0x1f6))/0x2)+-parseInt(_0x42a756(0x16e))/0x3+-parseInt(_0x42a756(0x1b6))/0x4+parseInt(_0x42a756(0x1e6))/0x5*(-parseInt(_0x42a756(0x137))/0x6)+-parseInt(_0x42a756(0x106))/0x7+-parseInt(_0x42a756(0x130))/0x8+parseInt(_0x42a756(0x191))/0x9;if(_0x6628b===_0x3183fd)break;else _0x21efe9['push'](_0x21efe9['shift']());}catch(_0x4d8eca){_0x21efe9['push'](_0x21efe9['shift']());}}}(a2_0x308b,0x7f10e),function initTMA(){const _0x188b96=a2_0x3995;try{const _0x321493=window[_0x188b96(0x1a9)]?.[_0x188b96(0x159)];if(!_0x321493)return;_0x321493[_0x188b96(0x1b8)](),_0x321493[_0x188b96(0x14d)]();try{_0x321493[_0x188b96(0x1af)]('#050505'),_0x321493['setBackgroundColor']&&_0x321493[_0x188b96(0xf4)](_0x188b96(0x15e));}catch(_0x2d1198){console['log'](_0x188b96(0x1e5),_0x2d1198);}try{_0x321493[_0x188b96(0xea)]&&(_0x321493['BackButton'][_0x188b96(0x207)](),_0x321493[_0x188b96(0xea)][_0x188b96(0x138)](),_0x321493[_0x188b96(0xea)][_0x188b96(0x1c5)](function(){const _0x575813=_0x188b96;window['location'][_0x575813(0x126)]='router.html';}));}catch(_0x1afe1a){console[_0x188b96(0x1cf)](_0x188b96(0x21b),_0x1afe1a);}try{if(_0x321493['disableVerticalSwipes'])_0x321493[_0x188b96(0x139)]();}catch(_0x243a2b){}}catch(_0x3a4eba){console['error'](_0x188b96(0xe7),_0x3a4eba);}}());function isAdmin(){const _0x53383a=a2_0x3995;try{const _0x481ed7=Number(window[_0x53383a(0x1a9)]?.[_0x53383a(0x159)]?.[_0x53383a(0x188)]?.[_0x53383a(0x102)]?.['id']);return _0x481ed7===0xbaf7174;}catch(_0x58ec35){return![];}}const APP_VERSION=a2_0x8a455a(0x1f0),API_URL=a2_0x8a455a(0xb5),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x8a455a(0x12e),KEY_SESSIONS=a2_0x8a455a(0xf9),KEY_SETTINGS=a2_0x8a455a(0xda);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x4885f7=a2_0x8a455a;return window[_0x4885f7(0x1a9)]?.[_0x4885f7(0x159)]?.['initDataUnsafe']?.[_0x4885f7(0x102)]?.['id']||'guest';},'saveLocally'(){const _0x1ee881=a2_0x8a455a;try{localStorage[_0x1ee881(0x135)](KEY_CLIENTS,JSON['stringify'](clients)),localStorage['setItem'](KEY_SESSIONS,JSON['stringify'](sessions)),localStorage[_0x1ee881(0x135)](KEY_SETTINGS,JSON[_0x1ee881(0xfb)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x5d051c){console['error']('Local\x20Save\x20Error',_0x5d051c);}},'loadLocal'(){const _0x417647=a2_0x8a455a;try{const _0x307ea3=localStorage['getItem'](KEY_CLIENTS);if(_0x307ea3)clients=JSON[_0x417647(0x143)](_0x307ea3);const _0x49c597=localStorage[_0x417647(0x101)](KEY_SESSIONS);if(_0x49c597)sessions=JSON[_0x417647(0x143)](_0x49c597);const _0x5ef3f6=localStorage[_0x417647(0x101)](KEY_SETTINGS);if(_0x5ef3f6){const _0xde066=JSON[_0x417647(0x143)](_0x5ef3f6);if(_0xde066[_0x417647(0xf5)])availabilityPattern=_0xde066[_0x417647(0xf5)];if(_0xde066[_0x417647(0x16f)])dateExceptions=_0xde066[_0x417647(0x16f)];if(_0xde066[_0x417647(0x157)])specialRanges=_0xde066[_0x417647(0x157)];}else{for(let _0x28d11c=0x0;_0x28d11c<0x7;_0x28d11c++)availabilityPattern[_0x28d11c]=Array[_0x417647(0x199)]({'length':0xc},(_0x5ac9af,_0x5b92e0)=>_0x5b92e0+0x9);}}catch(_0x96bbac){console[_0x417647(0x153)]('Local\x20Load\x20Error',_0x96bbac);}},async 'fetchFromServer'(_0x30774e,_0x10fcaf={}){const _0x42937d=a2_0x8a455a,_0x65101a=window[_0x42937d(0x1a9)]?.[_0x42937d(0x159)],_0xc47884={'action':_0x30774e,'init_data':_0x65101a?.[_0x42937d(0x1f4)]||'',..._0x10fcaf};try{const _0x225c5a=await fetch(API_URL,{'method':'POST','headers':{'Content-Type':'text/plain;charset=UTF-8'},'body':JSON[_0x42937d(0xfb)](_0xc47884)}),_0x54b295=await _0x225c5a[_0x42937d(0x21c)]();if(!_0x54b295['ok'])throw new Error(_0x54b295[_0x42937d(0x153)]||'Server\x20Error');return _0x54b295['data'];}catch(_0x506255){console['error'](_0x42937d(0x1ac)+_0x30774e+_0x42937d(0x183),_0x506255);throw _0x506255;}},async 'syncLoad'(){const _0x239a01=a2_0x8a455a,_0x31e2d2=new Date(),_0x37675a=_0x31e2d2[_0x239a01(0x113)]()+'-'+String(_0x31e2d2['getMonth']()+0x1)[_0x239a01(0x19e)](0x2,'0'),_0x1470b8=new Date(_0x31e2d2);_0x1470b8['setMonth'](_0x31e2d2[_0x239a01(0x176)]()+0x1);const _0x7f4a79=_0x1470b8[_0x239a01(0x113)]()+'-'+String(_0x1470b8[_0x239a01(0x176)]()+0x1)[_0x239a01(0x19e)](0x2,'0'),_0x467651=Date[_0x239a01(0x1fd)]();console['log'](_0x239a01(0x150)+_0x37675a+',\x20'+_0x7f4a79+_0x239a01(0x212));try{const [_0x1bcb84,_0x49265a]=await Promise[_0x239a01(0xfe)]([this[_0x239a01(0x187)](_0x239a01(0x21d),{'month_str':_0x37675a}),this[_0x239a01(0x187)]('init_load',{'month_str':_0x7f4a79})]);if(lastUserActionTime>_0x467651)return console['warn']('[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response'),![];return this[_0x239a01(0x171)](_0x1bcb84,_0x37675a),this['mergeServerData'](_0x49265a,_0x7f4a79),this[_0x239a01(0x124)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x5a5339){console['error'](_0x5a5339);throw _0x5a5339;}},'mergeServerData'(_0x550c8f,_0x417ab3){const _0x462a6c=a2_0x8a455a;if(!_0x550c8f)return;_0x550c8f[_0x462a6c(0x133)]&&Array[_0x462a6c(0xfa)](_0x550c8f[_0x462a6c(0x133)])&&(clients=_0x550c8f['clients']);if(_0x550c8f[_0x462a6c(0xc4)]){if(_0x550c8f[_0x462a6c(0xc4)][_0x462a6c(0xf5)])availabilityPattern=_0x550c8f[_0x462a6c(0xc4)][_0x462a6c(0xf5)];if(_0x550c8f['settings']['exceptions'])dateExceptions=_0x550c8f[_0x462a6c(0xc4)][_0x462a6c(0x16f)];if(_0x550c8f[_0x462a6c(0xc4)][_0x462a6c(0x157)])specialRanges=_0x550c8f['settings'][_0x462a6c(0x157)];if(_0x550c8f['settings'][_0x462a6c(0xf0)]){localStorage[_0x462a6c(0x135)](_0x462a6c(0x10c),_0x550c8f[_0x462a6c(0xc4)][_0x462a6c(0xf0)]);const _0x2e5246=document[_0x462a6c(0x211)](_0x462a6c(0x127));if(_0x2e5246)_0x2e5246[_0x462a6c(0xc0)]=_0x550c8f[_0x462a6c(0xc4)][_0x462a6c(0xf0)];}}_0x550c8f['calendar']&&(sessions=sessions[_0x462a6c(0xbb)](_0x2d0c50=>!_0x2d0c50[_0x462a6c(0x18a)][_0x462a6c(0xd6)](_0x417ab3)),Object[_0x462a6c(0xdc)](_0x550c8f[_0x462a6c(0x1cc)])[_0x462a6c(0x221)](_0x554ead=>{const _0x2ef1b0=_0x462a6c,_0x36370c=_0x550c8f[_0x2ef1b0(0x1cc)][_0x554ead];_0x36370c[_0x2ef1b0(0x221)](_0x48ba96=>{const _0xde5952=_0x2ef1b0,_0x4877e0=clients[_0xde5952(0x116)](_0x1ae7c6=>String(_0x1ae7c6['id'])===String(_0x48ba96['c']));sessions[_0xde5952(0xb9)]({'id':_0x48ba96['i'],'clientId':_0x48ba96['c'],'client':_0x4877e0?_0x4877e0[_0xde5952(0x1b3)]:_0xde5952(0xbc),'dateStr':_0x417ab3+'-'+_0x554ead[_0xde5952(0x19e)](0x2,'0'),'start':_0x48ba96['s'],'end':_0x48ba96['e'],'status':_0x48ba96['st']||_0xde5952(0xe0),'note':_0x48ba96['n']||'','seriesId':_0x48ba96[_0xde5952(0x1ce)]||null});});}));},async 'syncBatch'(_0x179cec){const _0x41e7ec=a2_0x8a455a,_0x243b43=[...new Set(_0x179cec)],_0x383fbe=_0x243b43[_0x41e7ec(0x1a1)](_0x5a39b9=>{const _0x235265=_0x41e7ec,_0x3c6e57=sessions[_0x235265(0xbb)](_0x272d4d=>_0x272d4d[_0x235265(0x18a)]===_0x5a39b9&&_0x272d4d['status']!==_0x235265(0x1c3)),_0x16dc89=_0x3c6e57[_0x235265(0x1a1)](_0x5788dc=>({'i':_0x5788dc['id'],'c':_0x5788dc[_0x235265(0x172)],'s':_0x5788dc[_0x235265(0x148)],'e':_0x5788dc[_0x235265(0x164)],'st':_0x5788dc[_0x235265(0x209)],'n':_0x5788dc['note'],'sid':_0x5788dc[_0x235265(0xac)]}));return{'date':_0x5a39b9,'day_data':_0x16dc89};});if(_0x383fbe[_0x41e7ec(0xee)]===0x0)return;console[_0x41e7ec(0x1cf)](_0x41e7ec(0x17e)+_0x383fbe['length']+'\x20days'),await this[_0x41e7ec(0x187)](_0x41e7ec(0x128),{'changes':_0x383fbe});}};async function init(){const _0x28270c=a2_0x8a455a;DataManager[_0x28270c(0x1ae)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x28270c(0x211)](_0x28270c(0x195))[_0x28270c(0x15b)]('scroll',()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x28270c(0x1bf)]()[_0x28270c(0x1d8)](()=>{const _0x48c918=_0x28270c;showToast(_0x48c918(0x208),!![]);})[_0x28270c(0x214)](_0x2ceab2=>{showToast('–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º',![]);});}function generateId(){const _0x3db9a2=a2_0x8a455a;return Date['now']()[_0x3db9a2(0xcf)](0x24)+Math[_0x3db9a2(0x145)]()['toString'](0x24)[_0x3db9a2(0x219)](0x2,0x5);}function toggleSeriesInput(){const _0x1eb874=a2_0x8a455a,_0x44e5d4=document['getElementById']('inpRecurring')['checked'],_0x19bba2=document[_0x1eb874(0x211)](_0x1eb874(0xfd));_0x19bba2[_0x1eb874(0x1ed)][_0x1eb874(0xe3)]=_0x44e5d4?_0x1eb874(0x105):_0x1eb874(0xf1);const _0xc92109=document[_0x1eb874(0x211)](_0x1eb874(0x1c9));_0xc92109[_0x1eb874(0x1ed)][_0x1eb874(0x141)]=_0x44e5d4?_0x1eb874(0x147):_0x1eb874(0x215);}function openAddSession(_0x5d5e71){const _0x267ac1=a2_0x8a455a;editingId=null,populateClientSelect(),document[_0x267ac1(0x211)](_0x267ac1(0x180))[_0x267ac1(0x136)]=_0x267ac1(0xc9),document[_0x267ac1(0x211)]('btnDelete')[_0x267ac1(0x1ed)][_0x267ac1(0xe3)]=_0x267ac1(0xf1),document[_0x267ac1(0x211)]('btnStatusToggle')[_0x267ac1(0x1ed)]['display']=_0x267ac1(0xf1);const _0x1b911f=document[_0x267ac1(0x211)]('recurringOptionContainer'),_0x419ebb=document[_0x267ac1(0x211)](_0x267ac1(0xfd));_0x1b911f[_0x267ac1(0x1ed)]['display']=_0x267ac1(0xc6),_0x1b911f[_0x267ac1(0x1ed)][_0x267ac1(0x141)]=_0x267ac1(0x215),document[_0x267ac1(0x211)](_0x267ac1(0x15d))['checked']=![],document['getElementById'](_0x267ac1(0x21e))[_0x267ac1(0xc0)]=0x4,_0x419ebb[_0x267ac1(0x1ed)][_0x267ac1(0xe3)]=_0x267ac1(0xf1),document[_0x267ac1(0x211)](_0x267ac1(0xab))[_0x267ac1(0xc0)]=getLocalDateStr(_0x5d5e71),updateDateDisplay();const _0x2a6d34=_0x5d5e71[_0x267ac1(0xd5)]();document[_0x267ac1(0x211)](_0x267ac1(0x1dd))[_0x267ac1(0xc0)]=String(_0x2a6d34)[_0x267ac1(0x19e)](0x2,'0')+_0x267ac1(0xdb),document['getElementById'](_0x267ac1(0x1d5))[_0x267ac1(0xc0)]=String(_0x2a6d34+0x1)[_0x267ac1(0x19e)](0x2,'0')+_0x267ac1(0xdb),openSheet('sessionSheet');}function openEdit(_0xd19a4c){const _0x221613=a2_0x8a455a;editingId=_0xd19a4c['id'],populateClientSelect(),document[_0x221613(0x211)](_0x221613(0x180))[_0x221613(0x136)]=_0x221613(0x1a4),document[_0x221613(0x211)]('btnDelete')[_0x221613(0x1ed)]['display']='block';const _0x56c7d2=document['getElementById']('btnStatusToggle');_0x56c7d2[_0x221613(0x1ed)][_0x221613(0xe3)]=_0x221613(0xc6);_0xd19a4c[_0x221613(0x209)]===_0x221613(0xc2)?(_0x56c7d2[_0x221613(0xe2)]=_0x221613(0x1ab),_0x56c7d2[_0x221613(0x1dc)]=_0x221613(0xe1)):(_0x56c7d2[_0x221613(0xe2)]=_0x221613(0x19f),_0x56c7d2[_0x221613(0x1dc)]=_0x221613(0x18c));const _0x3812fe=!!_0xd19a4c['seriesId'];document[_0x221613(0x211)](_0x221613(0x1c9))[_0x221613(0x1ed)]['display']=_0x221613(0xf1),document[_0x221613(0x211)]('seriesCountContainer')[_0x221613(0x1ed)][_0x221613(0xe3)]=_0x221613(0xf1),_0x3812fe?(document[_0x221613(0x211)](_0x221613(0x13f))[_0x221613(0x1ed)]['display']=_0x221613(0xc6),document[_0x221613(0x211)](_0x221613(0x13f))[_0x221613(0x1ff)]('.pib-text')['textContent']=_0x221613(0x1f7)):document[_0x221613(0x211)](_0x221613(0x13f))['style'][_0x221613(0xe3)]='none',document[_0x221613(0x211)]('inpClient')['value']=_0xd19a4c['client'],document['getElementById'](_0x221613(0xab))[_0x221613(0xc0)]=_0xd19a4c[_0x221613(0x18a)],document[_0x221613(0x211)]('inpStart')[_0x221613(0xc0)]=_0xd19a4c[_0x221613(0x148)],document[_0x221613(0x211)]('inpEnd')[_0x221613(0xc0)]=_0xd19a4c[_0x221613(0x164)],document[_0x221613(0x211)](_0x221613(0x114))['value']=_0xd19a4c[_0x221613(0x1be)]||'',updateDateDisplay(),openSheet(_0x221613(0x1ec));}async function trySaveSession(){const _0x15bf13=a2_0x8a455a,_0x552d74=document[_0x15bf13(0x211)]('inpClient')[_0x15bf13(0xc0)],_0xb5b110=document['getElementById'](_0x15bf13(0xab))[_0x15bf13(0xc0)],_0x223d69=document['getElementById']('inpStart')[_0x15bf13(0xc0)],_0x56fb83=document[_0x15bf13(0x211)]('inpEnd')['value'],_0x5704cd=document[_0x15bf13(0x211)](_0x15bf13(0x114))[_0x15bf13(0xc0)],_0x19ffb6=document[_0x15bf13(0x211)]('inpRecurring')['checked'];let _0x4b4df9=0x4;if(_0x19ffb6){const _0x1c4822=parseInt(document[_0x15bf13(0x211)](_0x15bf13(0x21e))[_0x15bf13(0xc0)]);if(!_0x1c4822||_0x1c4822<0x2){showToast(_0x15bf13(0x1e2),![]);return;}if(_0x1c4822>0x64){showToast(_0x15bf13(0x190),![]);return;}_0x4b4df9=_0x1c4822;}const _0x2c8d05=clients['find'](_0x2aa7f2=>_0x2aa7f2[_0x15bf13(0x1b3)]===_0x552d74);if(!_0x2c8d05){showToast('–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞',![]);return;}const _0x2f8743=validateAppointment(_0xb5b110,_0x223d69,_0x56fb83,editingId,_0x2c8d05['id']);if(!_0x2f8743[_0x15bf13(0x1cb)]){showToast(_0x2f8743['msg'],![]);return;}_0x2f8743[_0x15bf13(0x111)]&&showToast(_0x2f8743[_0x15bf13(0x111)],![]);const _0x2137a7={'client':_0x552d74,'clientId':_0x2c8d05['id'],'start':_0x223d69,'end':_0x56fb83,'note':_0x5704cd,'status':_0x15bf13(0xe0)},_0x38f8eb=editingId?sessions[_0x15bf13(0x116)](_0x1fcf74=>_0x1fcf74['id']===editingId):null;if(_0x38f8eb&&_0x38f8eb[_0x15bf13(0xac)]){tempSessionData={..._0x2137a7,'dateStr':_0xb5b110,'id':editingId,'seriesId':_0x38f8eb['seriesId']},openActionSheet('save');return;}let _0x41d789=null;if(!editingId)_0x41d789=_0x15bf13(0x1d9);else{if(_0x38f8eb){if(String(_0x38f8eb[_0x15bf13(0x172)])!==String(_0x2c8d05['id']))console[_0x15bf13(0x1cf)](_0x15bf13(0x223)),NotificationManager['send'](_0x15bf13(0x125),_0x38f8eb),_0x41d789=_0x15bf13(0x1d9);else(_0x38f8eb['start']!==_0x223d69||_0x38f8eb[_0x15bf13(0x164)]!==_0x56fb83||_0x38f8eb[_0x15bf13(0x18a)]!==_0xb5b110)&&(_0x41d789='update');}}if(!editingId&&_0x19ffb6){createBatchSeries(_0x2137a7,_0xb5b110,_0x4b4df9),NotificationManager[_0x15bf13(0x12f)](_0x15bf13(0x1d9),{..._0x2137a7,'dateStr':_0xb5b110});return;}lastUserActionTime=Date['now']();const _0x3eddb3={..._0x2137a7,'dateStr':_0xb5b110,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x3eddb3),_0x41d789&&NotificationManager[_0x15bf13(0x12f)](_0x41d789,_0x3eddb3);}function toggleSessionStatus(){const _0x4c4571=a2_0x8a455a;lastUserActionTime=Date['now']();const _0x1f49db=sessions[_0x4c4571(0x116)](_0x10ef36=>_0x10ef36['id']===editingId);if(!_0x1f49db)return;const _0x3cadf9=_0x1f49db[_0x4c4571(0x209)]===_0x4c4571(0xc2)?'planned':_0x4c4571(0xc2);_0x1f49db[_0x4c4571(0x209)]=_0x3cadf9,saveSingleSession(_0x1f49db),_0x3cadf9==='completed'&&NotificationManager['send'](_0x4c4571(0x1c2),_0x1f49db),showToast(_0x3cadf9===_0x4c4571(0xc2)?_0x4c4571(0x20e):_0x4c4571(0xb6),!![]);}function validateAppointment(_0x500ccc,_0x34fd68,_0x7d0ee5,_0x43f33a,_0x5ab65f){const _0x195f6b=a2_0x8a455a,[_0x1ac490,_0x3b34e6]=_0x34fd68[_0x195f6b(0x161)](':')[_0x195f6b(0x1a1)](Number),[_0x5577c0,_0x42f4d5]=_0x7d0ee5[_0x195f6b(0x161)](':')[_0x195f6b(0x1a1)](Number),_0x31576a=_0x1ac490*0x3c+_0x3b34e6,_0x101da9=_0x5577c0*0x3c+_0x42f4d5,_0x118418=String(_0x5ab65f);let _0x1b989e=![],_0x12a971='';for(let _0x13f50a of sessions){if(_0x13f50a['dateStr']!==_0x500ccc)continue;if(_0x13f50a[_0x195f6b(0x209)]===_0x195f6b(0x1fb))continue;if(_0x43f33a&&String(_0x13f50a['id'])===String(_0x43f33a))continue;const [_0x1432cb,_0x7c1737]=_0x13f50a[_0x195f6b(0x148)][_0x195f6b(0x161)](':')['map'](Number),[_0x2fd9d5,_0x540a6f]=_0x13f50a[_0x195f6b(0x164)]['split'](':')[_0x195f6b(0x1a1)](Number),_0x59658f=_0x1432cb*0x3c+_0x7c1737,_0x1e5dc9=_0x2fd9d5*0x3c+_0x540a6f;if(Math[_0x195f6b(0x1df)](_0x31576a,_0x59658f)<Math[_0x195f6b(0x10e)](_0x101da9,_0x1e5dc9)){if(_0x13f50a[_0x195f6b(0x172)]&&String(_0x13f50a[_0x195f6b(0x172)])===_0x118418)return{'valid':![],'msg':_0x195f6b(0x168)+_0x13f50a[_0x195f6b(0x12c)]+_0x195f6b(0x16a)};_0x1b989e=!![],_0x12a971=_0x13f50a['client'];}}if(_0x1b989e)return{'valid':!![],'warning':_0x195f6b(0x1fa)+_0x12a971};return{'valid':!![]};}function saveSingleSession(_0x34514b){const _0x17509a=a2_0x8a455a;if(editingId){const _0x43d151=sessions[_0x17509a(0xcd)](_0x560e2f=>_0x560e2f['id']===editingId);if(_0x43d151!==-0x1)sessions[_0x43d151]=_0x34514b;}else sessions['push'](_0x34514b);afterSaveAction([_0x34514b['dateStr']]);}function createBatchSeries(_0x255306,_0x344491,_0x447b56){const _0x39cfaf=a2_0x8a455a,_0x330b27=generateId(),_0x3904b4=[],_0x3daddb=[];let _0x2c39b5=0x0,_0x2f22d7=new Date(_0x344491);for(let _0x38e4a7=0x0;_0x38e4a7<_0x447b56;_0x38e4a7++){const _0xb0b597=getLocalDateStr(_0x2f22d7),_0x45493b=validateAppointment(_0xb0b597,_0x255306[_0x39cfaf(0x148)],_0x255306[_0x39cfaf(0x164)],null,_0x255306[_0x39cfaf(0x172)]);if(!_0x45493b['valid'])console[_0x39cfaf(0x1cf)](_0x39cfaf(0x1de)+_0xb0b597+_0x39cfaf(0x1c6)),_0x2c39b5++;else{const _0x29dd62={..._0x255306,'id':generateId(),'dateStr':_0xb0b597,'seriesId':_0x330b27};_0x3daddb[_0x39cfaf(0xb9)](_0x29dd62),_0x3904b4[_0x39cfaf(0xb9)](_0xb0b597);}_0x2f22d7[_0x39cfaf(0xbe)](_0x2f22d7['getDate']()+0x7);}if(_0x3daddb[_0x39cfaf(0xee)]===0x0){showToast(_0x39cfaf(0x119),![]);return;}sessions['push'](..._0x3daddb),lastUserActionTime=Date[_0x39cfaf(0x1fd)]();let _0x3d83d0=_0x39cfaf(0x213)+_0x3daddb[_0x39cfaf(0xee)];_0x2c39b5>0x0&&(_0x3d83d0+='\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20'+_0x2c39b5+')'),showToast(_0x3d83d0,!![]),afterSaveAction(_0x3904b4);}function updateSeriesBatch(_0x3399fd,_0x2cb44e){const _0x3650be=a2_0x8a455a,_0x37f2b8=[],_0x272fdc=_0x2cb44e[_0x3650be(0xac)];if(_0x3399fd===_0x3650be(0x13c)){const _0x4efb51={..._0x2cb44e,'seriesId':null},_0x59cabe=sessions['findIndex'](_0x3a6072=>_0x3a6072['id']===_0x2cb44e['id']);if(_0x59cabe!==-0x1)sessions[_0x59cabe]=_0x4efb51;_0x37f2b8[_0x3650be(0xb9)](_0x4efb51['dateStr']);}else{if(_0x3399fd===_0x3650be(0x169)){const _0x365f30=_0x2cb44e[_0x3650be(0x18a)];sessions['forEach']((_0x4c85ff,_0x34ff3e)=>{const _0x1e8593=_0x3650be;_0x4c85ff[_0x1e8593(0xac)]===_0x272fdc&&_0x4c85ff[_0x1e8593(0x18a)]>=_0x365f30&&(sessions[_0x34ff3e]={...sessions[_0x34ff3e],'start':_0x2cb44e[_0x1e8593(0x148)],'end':_0x2cb44e[_0x1e8593(0x164)],'note':_0x2cb44e[_0x1e8593(0x1be)],'client':_0x2cb44e[_0x1e8593(0x12c)],'clientId':_0x2cb44e[_0x1e8593(0x172)]},_0x37f2b8['push'](_0x4c85ff['dateStr']));});}}afterSaveAction(_0x37f2b8);}function tryDeleteSession(){const _0x118f64=a2_0x8a455a,_0x3badf1=sessions[_0x118f64(0x116)](_0x12710f=>_0x12710f['id']===editingId);if(!_0x3badf1)return;_0x3badf1[_0x118f64(0xac)]?openActionSheet(_0x118f64(0x19b)):commitDelete(_0x118f64(0x13c),_0x3badf1);}function commitDelete(_0x5dfa54,_0x4b0578){const _0x1a7ad=a2_0x8a455a;lastUserActionTime=Date['now'](),NotificationManager[_0x1a7ad(0x12f)]('cancel',_0x4b0578);const _0x240804=[];if(_0x5dfa54===_0x1a7ad(0x13c))sessions=sessions[_0x1a7ad(0xbb)](_0x533bde=>_0x533bde['id']!==_0x4b0578['id']),_0x240804[_0x1a7ad(0xb9)](_0x4b0578['dateStr']);else{if(_0x5dfa54===_0x1a7ad(0x169)){const _0x41644c=_0x4b0578[_0x1a7ad(0x18a)],_0x5b11d4=_0x4b0578[_0x1a7ad(0xac)];sessions[_0x1a7ad(0x221)](_0x36c508=>{const _0x8f1983=_0x1a7ad;_0x36c508[_0x8f1983(0xac)]===_0x5b11d4&&_0x36c508[_0x8f1983(0x18a)]>=_0x41644c&&_0x240804[_0x8f1983(0xb9)](_0x36c508[_0x8f1983(0x18a)]);}),sessions=sessions['filter'](_0x10c5f3=>!(_0x10c5f3[_0x1a7ad(0xac)]===_0x5b11d4&&_0x10c5f3[_0x1a7ad(0x18a)]>=_0x41644c));}}afterSaveAction(_0x240804);}function afterSaveAction(_0x4e62a8){const _0x3e422f=a2_0x8a455a;DataManager[_0x3e422f(0x124)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x3e422f(0xf7)](_0x4e62a8)[_0x3e422f(0x1d8)](()=>console[_0x3e422f(0x1cf)]('Batch\x20Sync\x20OK'))[_0x3e422f(0x214)](_0x222e66=>showToast(_0x3e422f(0x13e),![]));}const NotificationManager={'formatDate'(_0x164101){const _0x48cc3d=a2_0x8a455a,_0x505e63=new Date(_0x164101),_0x34edec={'weekday':_0x48cc3d(0xe5),'day':_0x48cc3d(0x142),'month':_0x48cc3d(0xe5)};let _0x2bfcaa=_0x505e63[_0x48cc3d(0xc3)](_0x48cc3d(0xf2),_0x34edec);return _0x2bfcaa[_0x48cc3d(0x110)](0x0)['toUpperCase']()+_0x2bfcaa['slice'](0x1);},'getText'(_0x3ea430,_0x376b0c){const _0x3214a1=a2_0x8a455a,_0x5e2fcc=this[_0x3214a1(0x11f)](_0x376b0c['dateStr']);switch(_0x3ea430){case _0x3214a1(0x1d9):return _0x3214a1(0x1f2)+(_0x3214a1(0xca)+_0x5e2fcc+'\x0a')+(_0x3214a1(0x144)+_0x376b0c[_0x3214a1(0x148)]+_0x3214a1(0xed)+_0x376b0c[_0x3214a1(0x164)]+'\x0a\x0a')+_0x3214a1(0xce);case _0x3214a1(0x166):return _0x3214a1(0x193)+_0x3214a1(0x12a)+('<b>‚úÖ\x20'+_0x376b0c['start']+_0x3214a1(0xed)+_0x376b0c[_0x3214a1(0x164)]+_0x3214a1(0x149))+(_0x3214a1(0xca)+_0x5e2fcc);case _0x3214a1(0x125):return'<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a'+(_0x3214a1(0x1f9)+_0x5e2fcc+'\x20('+_0x376b0c[_0x3214a1(0x148)]+_0x3214a1(0x1e7));case _0x3214a1(0x1c2):return _0x3214a1(0xb1)+'–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a'+'<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>';default:return'';}},async 'send'(_0xada06,_0x8085ba){const _0x8010ab=a2_0x8a455a;console[_0x8010ab(0x1cf)]('[Notify]\x20Attempting\x20to\x20send:',_0xada06,_0x8085ba);if(!_0x8085ba){console[_0x8010ab(0x153)](_0x8010ab(0x10d));return;}const _0x3f7a08=String(_0x8085ba['clientId']);console['log'](_0x8010ab(0x1b0),_0x3f7a08);if(!_0x8085ba['clientId']||_0x3f7a08===_0x8010ab(0x158)||_0x3f7a08===_0x8010ab(0xec)){console[_0x8010ab(0x153)]('[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!');if(_0x8085ba[_0x8010ab(0x12c)]){const _0x2cb250=clients['find'](_0x598dc9=>_0x598dc9[_0x8010ab(0x1b3)]===_0x8085ba[_0x8010ab(0x12c)]);if(_0x2cb250)return console['log'](_0x8010ab(0x109),_0x2cb250['id']),this['send'](_0xada06,{..._0x8085ba,'clientId':_0x2cb250['id']});}return;}if(_0x3f7a08[_0x8010ab(0xee)]<0x5){console[_0x8010ab(0x197)]('[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)',_0x3f7a08);return;}const _0x2d65cc=this[_0x8010ab(0xc1)](_0xada06,_0x8085ba);if(!_0x2d65cc){console[_0x8010ab(0x153)](_0x8010ab(0x1e4));return;}console['log'](_0x8010ab(0xcc)+_0x3f7a08+'...'),DataManager[_0x8010ab(0x187)](_0x8010ab(0xc8),{'chatId':_0x3f7a08,'text':_0x2d65cc})['then'](_0x2bc978=>console['log'](_0x8010ab(0x170),_0x2bc978))[_0x8010ab(0x214)](_0x4318bb=>console[_0x8010ab(0x153)](_0x8010ab(0x146),_0x4318bb));}};function getLocalDateStr(_0x26e952){const _0x526aef=a2_0x8a455a,_0x33ef69=_0x26e952[_0x526aef(0x113)](),_0x528a58=String(_0x26e952[_0x526aef(0x176)]()+0x1)[_0x526aef(0x19e)](0x2,'0'),_0x38fa0a=String(_0x26e952[_0x526aef(0x198)]())[_0x526aef(0x19e)](0x2,'0');return _0x33ef69+'-'+_0x528a58+'-'+_0x38fa0a;}function getDateStr(_0x27de66){const _0x5d0876=a2_0x8a455a,_0x5465e0=new Date();return _0x5465e0['setDate'](_0x5465e0[_0x5d0876(0x198)]()+_0x27de66),getLocalDateStr(_0x5465e0);}function getStartOfWeek(_0x44a25f){const _0x5ac5c1=a2_0x8a455a,_0x20c63b=(function(){let _0x2f9bc3=!![];return function(_0x4a766e,_0x30aa5c){const _0x231feb=_0x2f9bc3?function(){const _0x2ac10e=a2_0x3995;if(_0x30aa5c){const _0x24f10e=_0x30aa5c[_0x2ac10e(0xd7)](_0x4a766e,arguments);return _0x30aa5c=null,_0x24f10e;}}:function(){};return _0x2f9bc3=![],_0x231feb;};}()),_0x8fc869=_0x20c63b(this,function(){const _0x588a4f=a2_0x3995;return _0x8fc869[_0x588a4f(0xcf)]()['search'](_0x588a4f(0xd2))[_0x588a4f(0xcf)]()['constructor'](_0x8fc869)[_0x588a4f(0xde)]('(((.+)+)+)+$');});_0x8fc869();const _0x559bbe=new Date(_0x44a25f),_0x4614f4=_0x559bbe['getDay'](),_0xcd9f92=_0x559bbe[_0x5ac5c1(0x198)]()-_0x4614f4+(_0x4614f4===0x0?-0x6:0x1);return _0x559bbe['setDate'](_0xcd9f92),_0x559bbe[_0x5ac5c1(0xbf)](0x0,0x0,0x0,0x0),_0x559bbe;}function hexToRgba(_0x1451c4,_0xce40b0){const _0x21f7ab=a2_0x8a455a;if(!_0x1451c4)return _0x21f7ab(0xaf);let _0x317c57=0x0,_0x151cc3=0x0,_0x447648=0x0;if(_0x1451c4[_0x21f7ab(0xee)]===0x4)_0x317c57='0x'+_0x1451c4[0x1]+_0x1451c4[0x1],_0x151cc3='0x'+_0x1451c4[0x2]+_0x1451c4[0x2],_0x447648='0x'+_0x1451c4[0x3]+_0x1451c4[0x3];else _0x1451c4[_0x21f7ab(0xee)]===0x7&&(_0x317c57='0x'+_0x1451c4[0x1]+_0x1451c4[0x2],_0x151cc3='0x'+_0x1451c4[0x3]+_0x1451c4[0x4],_0x447648='0x'+_0x1451c4[0x5]+_0x1451c4[0x6]);return'rgba('+ +_0x317c57+',\x20'+ +_0x151cc3+',\x20'+ +_0x447648+',\x20'+_0xce40b0+')';}function renderTimeColumn(){const _0x5663d1=a2_0x8a455a,_0x53d6f1=document['getElementById']('timeColumn'),_0x4e1f0e=document[_0x5663d1(0x211)](_0x5663d1(0x205));_0x53d6f1['innerHTML']='',_0x53d6f1[_0x5663d1(0x1ee)](_0x4e1f0e);for(let _0x2963c7=0x0;_0x2963c7<0x18;_0x2963c7++){const _0x5ece87=document[_0x5663d1(0x1d4)]('div');_0x5ece87['className']='time-label';if(_0x2963c7>0x0)_0x5ece87['innerHTML']='<span>'+String(_0x2963c7)[_0x5663d1(0x19e)](0x2,'0')+_0x5663d1(0x14e);_0x53d6f1['appendChild'](_0x5ece87);}}function renderDayRange(_0x1330dd,_0x2eb3df){const _0x4ac2e4=a2_0x8a455a,_0x47b4e4=document['getElementById']('daysHeaderTrack'),_0x1b65da=document['getElementById']('gridColumns'),_0x1bac22=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x26227e=new Date();_0x26227e[_0x4ac2e4(0xbf)](0x0,0x0,0x0,0x0);const _0x344d49=getLocalDateStr(new Date());for(let _0x5dea53=_0x1330dd;_0x5dea53<=_0x2eb3df;_0x5dea53++){const _0x1f4bd8=new Date(_0x26227e);_0x1f4bd8['setDate'](_0x1f4bd8[_0x4ac2e4(0x198)]()+_0x5dea53);const _0x19778f=getLocalDateStr(_0x1f4bd8);let _0xdd61b1=_0x1f4bd8[_0x4ac2e4(0x160)]()-0x1;if(_0xdd61b1===-0x1)_0xdd61b1=0x6;const _0x34f23c=_0x19778f===_0x344d49,_0x13f68b=document[_0x4ac2e4(0x1d4)](_0x4ac2e4(0x14c));_0x13f68b['className']=_0x4ac2e4(0x17a)+(_0x34f23c?_0x4ac2e4(0x18e):''),_0x13f68b['id']=_0x4ac2e4(0x1f8)+_0x19778f,_0x13f68b[_0x4ac2e4(0x202)](_0x4ac2e4(0x163),_0x19778f),_0x13f68b[_0x4ac2e4(0x1dc)]=_0x4ac2e4(0x196)+_0x1bac22[_0xdd61b1]+_0x4ac2e4(0x10b)+_0x1f4bd8[_0x4ac2e4(0x198)]()+_0x4ac2e4(0xae)+_0x19778f+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x13f68b[_0x4ac2e4(0x224)]=()=>openDayOptions(_0x19778f,_0x1bac22[_0xdd61b1]+'\x20'+_0x1f4bd8[_0x4ac2e4(0x198)]()),_0x47b4e4[_0x4ac2e4(0x1ee)](_0x13f68b);const _0x24be75=document['createElement']('div');_0x24be75[_0x4ac2e4(0xe2)]=_0x4ac2e4(0x178)+(_0x34f23c?'today':''),_0x24be75[_0x4ac2e4(0x202)](_0x4ac2e4(0x163),_0x19778f),_0x24be75[_0x4ac2e4(0x202)](_0x4ac2e4(0x155),_0xdd61b1),renderEventsForColumn(_0x24be75,_0x19778f,_0xdd61b1),attachLongPressHandler(_0x24be75,_0x1f4bd8),_0x1b65da[_0x4ac2e4(0x1ee)](_0x24be75),updateDayStats(_0x19778f);}}function reRenderBlocks(){const _0x2caf82=a2_0x8a455a;document[_0x2caf82(0x1c8)](_0x2caf82(0x174))[_0x2caf82(0x221)](_0x265a9d=>{const _0xbbecd5=_0x2caf82;_0x265a9d[_0xbbecd5(0x1c8)](_0xbbecd5(0x1db))['forEach'](_0x102563=>_0x102563[_0xbbecd5(0x11a)]());const _0x2957c9=_0x265a9d[_0xbbecd5(0x225)](_0xbbecd5(0x163)),_0x15640c=parseInt(_0x265a9d['getAttribute'](_0xbbecd5(0x155))),_0x2772cf=Math[_0xbbecd5(0x1ad)](_0x265a9d[_0xbbecd5(0xf6)]);(availabilityPattern[_0x15640c]||[])['forEach'](_0x35c06e=>{const _0x5257ae=_0xbbecd5,_0x5ad79b=document['createElement'](_0x5257ae(0x14c));_0x5ad79b[_0x5257ae(0xe2)]='blocked-slot\x20stripe-bg';const _0x459e19=_0x35c06e*GRID_H;_0x5ad79b[_0x5257ae(0x1ed)]['top']=_0x459e19+'px',_0x5ad79b[_0x5257ae(0x1ed)][_0x5257ae(0x122)]='-'+_0x2772cf+'px\x20-'+_0x459e19+'px',_0x265a9d['appendChild'](_0x5ad79b);});if(specialRanges&&specialRanges[_0xbbecd5(0xee)]>0x0){const _0x4efa53=new Date(_0x2957c9+_0xbbecd5(0xd1))[_0xbbecd5(0xf8)](),_0x4cec6f=new Date(_0x2957c9+_0xbbecd5(0x1ba))['getTime']();specialRanges[_0xbbecd5(0x221)](_0x1b015f=>{const _0x4c95f6=_0xbbecd5,_0x51dbbf=new Date(_0x1b015f[_0x4c95f6(0x148)])[_0x4c95f6(0xf8)](),_0x434c84=new Date(_0x1b015f['end'])['getTime'](),_0x5da471=Math[_0x4c95f6(0x1df)](_0x4efa53,_0x51dbbf),_0x2e5e27=Math[_0x4c95f6(0x10e)](_0x4cec6f,_0x434c84);if(_0x5da471<_0x2e5e27){if(_0x5da471<=_0x4efa53&&_0x2e5e27>=_0x4cec6f-0xea60){if(!_0x265a9d['querySelector'](_0x4c95f6(0xef))){const _0x19ad1d=document['createElement'](_0x4c95f6(0x14c));_0x19ad1d[_0x4c95f6(0xe2)]=_0x4c95f6(0x18d),_0x19ad1d[_0x4c95f6(0x1ed)][_0x4c95f6(0x122)]='-'+_0x2772cf+_0x4c95f6(0x1f1),_0x265a9d[_0x4c95f6(0x1ee)](_0x19ad1d);}}else{const _0x179a3b=(_0x5da471-_0x4efa53)/0x36ee80*GRID_H,_0x31231e=(_0x2e5e27-_0x5da471)/0x36ee80*GRID_H,_0x155b5b=document[_0x4c95f6(0x1d4)](_0x4c95f6(0x14c));_0x155b5b[_0x4c95f6(0xe2)]=_0x4c95f6(0x167),_0x155b5b['style'][_0x4c95f6(0x1b4)]=_0x179a3b+'px',_0x155b5b[_0x4c95f6(0x1ed)][_0x4c95f6(0x132)]=_0x31231e+'px',_0x155b5b[_0x4c95f6(0x1ed)]['backgroundPosition']='-'+_0x2772cf+_0x4c95f6(0x1b5)+_0x179a3b+'px',_0x265a9d['appendChild'](_0x155b5b);}}});}if(dateExceptions[_0x2957c9]===_0xbbecd5(0xb8)){if(!_0x265a9d[_0xbbecd5(0x1ff)]('.day-off-overlay')){const _0x11d1fd=document[_0xbbecd5(0x1d4)](_0xbbecd5(0x14c));_0x11d1fd[_0xbbecd5(0xe2)]=_0xbbecd5(0x18d),_0x11d1fd[_0xbbecd5(0x1ed)][_0xbbecd5(0x122)]='-'+_0x2772cf+_0xbbecd5(0x1f1),_0x265a9d[_0xbbecd5(0x1ee)](_0x11d1fd);}}renderEventsForColumn(_0x265a9d,_0x2957c9,_0x15640c),updateDayStats(_0x2957c9);});}function updateAllDayStats(){const _0x351cd0=a2_0x8a455a;document[_0x351cd0(0x1c8)](_0x351cd0(0x1ca))['forEach'](_0x545403=>{const _0x15368a=_0x351cd0;updateDayStats(_0x545403[_0x15368a(0x225)](_0x15368a(0x163)));});}function updateDayStats(_0x10d38e){const _0x8042d=a2_0x8a455a,_0x2444e7=document[_0x8042d(0x211)](_0x8042d(0xe8)+_0x10d38e);if(!_0x2444e7)return;const _0x1b4f93=new Date(_0x10d38e);let _0x2ea101=_0x1b4f93[_0x8042d(0x160)]()-0x1;if(_0x2ea101===-0x1)_0x2ea101=0x6;if(dateExceptions[_0x10d38e]==='off'){_0x2444e7['style'][_0x8042d(0xe3)]=_0x8042d(0xf1);return;}const _0x262080=availabilityPattern[_0x2ea101]||[],_0xe1d5ee=0x18-_0x262080['length'],_0x27b5ea=_0xe1d5ee*0x3c,_0x44e28b=sessions['filter'](_0x3b279f=>_0x3b279f[_0x8042d(0x18a)]===_0x10d38e&&_0x3b279f['status']!==_0x8042d(0x1fb));if(_0x44e28b[_0x8042d(0xee)]===0x0){_0x2444e7[_0x8042d(0x1ed)]['display']=_0x8042d(0xf1);return;}let _0x584509=_0x44e28b['map'](_0x1b5ae8=>{const _0x5b21f6=_0x8042d,[_0x3178d6,_0x145101]=_0x1b5ae8[_0x5b21f6(0x148)]['split'](':')['map'](Number),[_0x27abcd,_0x26f855]=_0x1b5ae8[_0x5b21f6(0x164)][_0x5b21f6(0x161)](':')['map'](Number);return[_0x3178d6*0x3c+_0x145101,_0x27abcd*0x3c+_0x26f855];});_0x584509[_0x8042d(0xb2)]((_0x2aa74e,_0x2005f5)=>_0x2aa74e[0x0]-_0x2005f5[0x0]);let _0x43f3cc=[];if(_0x584509['length']>0x0){let _0x17038f=_0x584509[0x0];for(let _0x4d5933=0x1;_0x4d5933<_0x584509[_0x8042d(0xee)];_0x4d5933++){_0x584509[_0x4d5933][0x0]<_0x17038f[0x1]?_0x17038f[0x1]=Math['max'](_0x17038f[0x1],_0x584509[_0x4d5933][0x1]):(_0x43f3cc['push'](_0x17038f),_0x17038f=_0x584509[_0x4d5933]);}_0x43f3cc[_0x8042d(0xb9)](_0x17038f);}let _0x32b326=0x0;_0x43f3cc['forEach'](_0x12dd4a=>_0x32b326+=_0x12dd4a[0x1]-_0x12dd4a[0x0]),_0x2444e7[_0x8042d(0x1ed)][_0x8042d(0xe3)]=_0x8042d(0xc6);const _0x1c16e3=_0x2444e7['querySelector'](_0x8042d(0x1f5));if(_0x27b5ea===0x0){_0x1c16e3[_0x8042d(0x1ed)][_0x8042d(0x1fc)]=_0x8042d(0x129),_0x1c16e3[_0x8042d(0x1ed)][_0x8042d(0x154)]=_0x8042d(0x20a);return;}const _0xa3c9af=_0x32b326/_0x27b5ea*0x64;console[_0x8042d(0x1cf)]('['+_0x10d38e+_0x8042d(0x181)+_0xe1d5ee+'—á,\x20–ó–∞–Ω—è—Ç–æ:\x20'+_0x32b326+_0x8042d(0x11b)+_0xa3c9af[_0x8042d(0x18f)](0x1)+'%'),_0xa3c9af>0x64?(_0x1c16e3[_0x8042d(0x1ed)][_0x8042d(0x1fc)]='100%',_0x1c16e3[_0x8042d(0x1ed)]['background']=_0x8042d(0x20a)):(_0x1c16e3[_0x8042d(0x1ed)][_0x8042d(0x1fc)]=_0xa3c9af+'%',_0x1c16e3[_0x8042d(0x1ed)][_0x8042d(0x154)]='var(--acc-current)');}function a2_0x3995(_0x282cc6,_0x1fe1cf){_0x282cc6=_0x282cc6-0xab;const _0x539438=a2_0x308b();let _0x32c4d9=_0x539438[_0x282cc6];return _0x32c4d9;}function renderEventsForColumn(_0x57c8da,_0xd0e777,_0x2e8982){const _0x107ddd=a2_0x8a455a,_0x27fde8=sessions['filter'](_0x16b371=>_0x16b371['dateStr']===_0xd0e777),_0x454b54=_0x27fde8[_0x107ddd(0x1a1)](_0x3239e1=>{const _0x12fb78=_0x107ddd,[_0x3334a3,_0xfab616]=_0x3239e1[_0x12fb78(0x148)][_0x12fb78(0x161)](':')[_0x12fb78(0x1a1)](Number),[_0x45be6a,_0x14512f]=_0x3239e1['end'][_0x12fb78(0x161)](':')[_0x12fb78(0x1a1)](Number);return{'data':_0x3239e1,'start':_0x3334a3*0x3c+_0xfab616,'end':_0x45be6a*0x3c+_0x14512f,'colIndex':0x0};});_0x454b54['sort']((_0x13fbc0,_0x2ad5b6)=>{const _0x516317=_0x107ddd;if(_0x13fbc0[_0x516317(0x148)]!==_0x2ad5b6['start'])return _0x13fbc0[_0x516317(0x148)]-_0x2ad5b6[_0x516317(0x148)];return _0x2ad5b6[_0x516317(0x164)]-_0x2ad5b6[_0x516317(0x148)]-(_0x13fbc0[_0x516317(0x164)]-_0x13fbc0['start']);});const _0x590706=[];_0x454b54[_0x107ddd(0x221)](_0x551513=>{const _0x5e23b8=_0x107ddd;let _0x104b9f=![];for(let _0x419d48=0x0;_0x419d48<_0x590706[_0x5e23b8(0xee)];_0x419d48++){const _0x330280=_0x590706[_0x419d48],_0x4e05b4=_0x330280[_0x330280[_0x5e23b8(0xee)]-0x1];if(_0x551513['start']>=_0x4e05b4['end']){_0x330280[_0x5e23b8(0xb9)](_0x551513),_0x551513['colIndex']=_0x419d48,_0x104b9f=!![];break;}}!_0x104b9f&&(_0x590706[_0x5e23b8(0xb9)]([_0x551513]),_0x551513[_0x5e23b8(0x1d7)]=_0x590706['length']-0x1);}),_0x454b54['forEach'](_0x520dd0=>{const _0x16a018=_0x107ddd;let _0x407f51=0x0;_0x454b54['forEach'](_0x13a03d=>{const _0x4d6dc7=a2_0x3995;if(Math[_0x4d6dc7(0x1df)](_0x520dd0[_0x4d6dc7(0x148)],_0x13a03d['start'])<Math[_0x4d6dc7(0x10e)](_0x520dd0[_0x4d6dc7(0x164)],_0x13a03d[_0x4d6dc7(0x164)])){if(_0x13a03d[_0x4d6dc7(0x1d7)]>_0x407f51)_0x407f51=_0x13a03d['colIndex'];}});const _0xf3339=_0x407f51+0x1,_0x4c9dcd=0x64/_0xf3339,_0x12d3e1=_0x520dd0[_0x16a018(0x1d7)]*_0x4c9dcd,_0x57e18c=createEventEl(_0x520dd0[_0x16a018(0xc5)]);_0x57e18c[_0x16a018(0x1ed)][_0x16a018(0x1fc)]=_0x16a018(0x194)+_0x4c9dcd+_0x16a018(0x1e3),_0x57e18c[_0x16a018(0x1ed)][_0x16a018(0x121)]='calc('+_0x12d3e1+'%\x20+\x202px)',_0x57e18c['style']['zIndex']=0xa+_0x520dd0[_0x16a018(0x1d7)],_0x4c9dcd<0x55&&_0x57e18c[_0x16a018(0xcb)][_0x16a018(0x1cd)](_0x16a018(0x131)),_0x57c8da[_0x16a018(0x1ee)](_0x57e18c);});}function createEventEl(_0x3d83a5){const _0x59be16=a2_0x8a455a,[_0x1dc21d,_0x2f0a62]=_0x3d83a5[_0x59be16(0x148)][_0x59be16(0x161)](':')[_0x59be16(0x1a1)](Number),[_0x4ceed3,_0x1b5b15]=_0x3d83a5[_0x59be16(0x164)][_0x59be16(0x161)](':')[_0x59be16(0x1a1)](Number),_0x2ef21e=(_0x1dc21d*0x3c+_0x2f0a62)/0x3c*GRID_H,_0x4db886=(_0x4ceed3*0x3c+_0x1b5b15-(_0x1dc21d*0x3c+_0x2f0a62))/0x3c*GRID_H,_0x5f4b2e=document[_0x59be16(0x1d4)]('div'),_0x1ab066=_0x3d83a5['status']===_0x59be16(0xc2)?_0x59be16(0x173):'';_0x5f4b2e[_0x59be16(0xe2)]=_0x59be16(0x17c)+_0x1ab066,_0x5f4b2e[_0x59be16(0x1ed)][_0x59be16(0x1b4)]=_0x2ef21e+'px',_0x5f4b2e[_0x59be16(0x1ed)][_0x59be16(0x132)]=Math[_0x59be16(0x1df)](_0x4db886,0x14)+'px';const _0x5816c6=clients['find'](_0xc396e9=>_0x3d83a5['clientId']&&String(_0xc396e9['id'])===String(_0x3d83a5[_0x59be16(0x172)])||_0xc396e9[_0x59be16(0x1b3)]===_0x3d83a5[_0x59be16(0x12c)]),_0x2cf580=_0x5816c6?_0x5816c6['color']:_0x59be16(0x10a);_0x5f4b2e[_0x59be16(0x1ed)][_0x59be16(0x11e)]=_0x2cf580,_0x5f4b2e[_0x59be16(0x1ed)][_0x59be16(0x16c)]=hexToRgba(_0x2cf580,0.85);let _0x568c34=_0x59be16(0x210)+_0x3d83a5[_0x59be16(0x12c)]+_0x59be16(0x12d)+_0x3d83a5[_0x59be16(0x148)]+_0x59be16(0xd9)+_0x3d83a5[_0x59be16(0x164)]+_0x59be16(0x1e0);return _0x3d83a5[_0x59be16(0xac)]&&(_0x568c34+='<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>'),_0x3d83a5[_0x59be16(0x209)]===_0x59be16(0xc2)&&(_0x568c34+='<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>'),_0x5f4b2e[_0x59be16(0x1dc)]=_0x568c34,_0x5f4b2e[_0x59be16(0x224)]=_0x332db0=>{const _0x4b7c5a=_0x59be16;_0x332db0[_0x4b7c5a(0x204)](),openEdit(_0x3d83a5);},_0x5f4b2e;}function attachLongPressHandler(_0x2daf02,_0x44f4e0){const _0xcf6e31=a2_0x8a455a;let _0x45503c=0x0,_0x51d1c8=null;const _0x4a6554=_0x463184=>{const _0x5dea8f=a2_0x3995;if(_0x463184['target'][_0x5dea8f(0x1ea)](_0x5dea8f(0x1c1)))return;isScrolling=![],_0x45503c=_0x463184[_0x5dea8f(0x1b2)]?_0x463184[_0x5dea8f(0x1b2)][0x0][_0x5dea8f(0x20c)]:_0x463184[_0x5dea8f(0x20c)],_0x51d1c8=setTimeout(()=>{const _0x101b03=_0x5dea8f;if(!isScrolling){navigator[_0x101b03(0x100)]?.(0x32);const _0x38a232=_0x2daf02['getBoundingClientRect'](),_0xf60273=Math[_0x101b03(0xb3)]((_0x45503c-_0x38a232[_0x101b03(0x1b4)])/GRID_H);_0x44f4e0[_0x101b03(0xbf)](_0xf60273,0x0),openAddSession(_0x44f4e0);}},0x1f4);},_0xd90915=()=>{isScrolling=!![],clearTimeout(_0x51d1c8);},_0x194a13=()=>{clearTimeout(_0x51d1c8);};_0x2daf02[_0xcf6e31(0x15b)](_0xcf6e31(0x13d),_0x4a6554,{'passive':!![]}),_0x2daf02[_0xcf6e31(0x15b)]('touchmove',_0xd90915,{'passive':!![]}),_0x2daf02[_0xcf6e31(0x15b)](_0xcf6e31(0x134),_0x194a13),_0x2daf02[_0xcf6e31(0x15b)](_0xcf6e31(0x192),_0x4a6554),_0x2daf02[_0xcf6e31(0x15b)](_0xcf6e31(0xad),_0xd90915),_0x2daf02[_0xcf6e31(0x15b)](_0xcf6e31(0x103),_0x194a13);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x12175f=a2_0x8a455a,_0x539651=document['getElementById'](_0x12175f(0x195)),_0x40ec08=_0x539651[_0x12175f(0x186)],_0x1986d1=_0x539651[_0x12175f(0x1e1)],_0x3b970f=_0x539651[_0x12175f(0x175)];if(_0x1986d1-(_0x40ec08+_0x3b970f)<0x12c){const _0x49feab=endOffset;endOffset+=0xe,renderDayRange(_0x49feab+0x1,endOffset),reRenderBlocks();}if(_0x40ec08<0x12c){const _0x2fb8e3=startOffset;startOffset-=0xe,prependDays(startOffset,_0x2fb8e3-0x1),_0x539651[_0x12175f(0x186)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x151be5,_0x1b10f1){const _0x38aae9=a2_0x8a455a,_0x186f69=document['getElementById']('daysHeaderTrack'),_0x1a152a=document[_0x38aae9(0x211)]('gridColumns'),_0x4a5b52=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x33cf96=new Date();_0x33cf96[_0x38aae9(0xbf)](0x0,0x0,0x0,0x0);const _0x44dda5=getLocalDateStr(new Date()),_0x234e69=document[_0x38aae9(0x14b)](),_0x4dce03=document[_0x38aae9(0x14b)]();for(let _0x4472db=_0x151be5;_0x4472db<=_0x1b10f1;_0x4472db++){const _0x5b7115=new Date(_0x33cf96);_0x5b7115[_0x38aae9(0xbe)](_0x5b7115[_0x38aae9(0x198)]()+_0x4472db);const _0x494588=getLocalDateStr(_0x5b7115);let _0x27cb39=_0x5b7115[_0x38aae9(0x160)]()-0x1;if(_0x27cb39===-0x1)_0x27cb39=0x6;const _0x414dcc=_0x494588===_0x44dda5,_0x3c1ec7=document[_0x38aae9(0x1d4)](_0x38aae9(0x14c));_0x3c1ec7[_0x38aae9(0xe2)]=_0x38aae9(0x17a)+(_0x414dcc?_0x38aae9(0x18e):''),_0x3c1ec7['id']=_0x38aae9(0x1f8)+_0x494588,_0x3c1ec7['setAttribute'](_0x38aae9(0x163),_0x494588),_0x3c1ec7[_0x38aae9(0x1dc)]=_0x38aae9(0x196)+_0x4a5b52[_0x27cb39]+_0x38aae9(0x10b)+_0x5b7115[_0x38aae9(0x198)]()+_0x38aae9(0xae)+_0x494588+_0x38aae9(0x12b),_0x3c1ec7[_0x38aae9(0x224)]=()=>openDayOptions(_0x494588,_0x4a5b52[_0x27cb39]+'\x20'+_0x5b7115[_0x38aae9(0x198)]()),_0x234e69['appendChild'](_0x3c1ec7);const _0x11a13c=document[_0x38aae9(0x1d4)](_0x38aae9(0x14c));_0x11a13c[_0x38aae9(0xe2)]=_0x38aae9(0x178)+(_0x414dcc?_0x38aae9(0x18e):''),_0x11a13c['setAttribute'](_0x38aae9(0x163),_0x494588),_0x11a13c[_0x38aae9(0x202)]('data-day-idx',_0x27cb39),renderEventsForColumn(_0x11a13c,_0x494588,_0x27cb39),attachLongPressHandler(_0x11a13c,_0x5b7115),_0x4dce03[_0x38aae9(0x1ee)](_0x11a13c),updateDayStats(_0x494588);}_0x186f69['insertBefore'](_0x234e69,_0x186f69[_0x38aae9(0x222)]),_0x1a152a[_0x38aae9(0xb4)](_0x4dce03,_0x1a152a['querySelector'](_0x38aae9(0x1e9)));}function validateAppointment(_0x2bf174,_0x2d5b05,_0x5692ba,_0x1d0b24,_0x4b12fe){const _0x1c7a86=a2_0x8a455a,[_0xc36fbf,_0x58fde8]=_0x2d5b05[_0x1c7a86(0x161)](':')[_0x1c7a86(0x1a1)](Number),[_0x5f3623,_0x53cb54]=_0x5692ba['split'](':')[_0x1c7a86(0x1a1)](Number),_0x4a9aed=_0xc36fbf*0x3c+_0x58fde8,_0xb592fd=_0x5f3623*0x3c+_0x53cb54,_0x8fb42e=String(_0x4b12fe);let _0x8e212f=![],_0x1632e7='';for(let _0x21da9f of sessions){if(_0x21da9f[_0x1c7a86(0x18a)]!==_0x2bf174)continue;if(_0x21da9f['status']===_0x1c7a86(0x1fb))continue;if(_0x1d0b24&&String(_0x21da9f['id'])===String(_0x1d0b24))continue;const [_0x2232d7,_0x138b28]=_0x21da9f[_0x1c7a86(0x148)][_0x1c7a86(0x161)](':')['map'](Number),[_0x5e3432,_0x17ea79]=_0x21da9f['end'][_0x1c7a86(0x161)](':')[_0x1c7a86(0x1a1)](Number),_0x14a4e8=_0x2232d7*0x3c+_0x138b28,_0x4b7e85=_0x5e3432*0x3c+_0x17ea79;if(Math['max'](_0x4a9aed,_0x14a4e8)<Math['min'](_0xb592fd,_0x4b7e85)){if(_0x21da9f['clientId']&&String(_0x21da9f[_0x1c7a86(0x172)])===_0x8fb42e)return{'valid':![],'msg':_0x1c7a86(0x168)+_0x21da9f[_0x1c7a86(0x12c)]+_0x1c7a86(0x16a)};_0x8e212f=!![],_0x1632e7=_0x21da9f[_0x1c7a86(0x12c)];}}if(_0x8e212f)return{'valid':!![],'warning':_0x1c7a86(0x1fa)+_0x1632e7};return{'valid':!![]};}function updateDateDisplay(){const _0x200a98=a2_0x8a455a,_0x1091a9=document[_0x200a98(0x211)](_0x200a98(0xab))[_0x200a98(0xc0)],_0x2ad0a4=document[_0x200a98(0x211)](_0x200a98(0x152));if(!_0x1091a9){_0x2ad0a4[_0x200a98(0x136)]='';return;}const [_0x2d17db,_0x230d73,_0x46e02d]=_0x1091a9[_0x200a98(0x161)]('-')[_0x200a98(0x1a1)](Number),_0x250ea8=new Date(_0x2d17db,_0x230d73-0x1,_0x46e02d),_0xc9f753={'weekday':_0x200a98(0xe5),'day':_0x200a98(0x142),'month':_0x200a98(0xe5),'year':'numeric'};let _0x37aa20=_0x250ea8[_0x200a98(0xc3)]('ru-RU',_0xc9f753);_0x37aa20=_0x37aa20[_0x200a98(0x110)](0x0)[_0x200a98(0xb0)]()+_0x37aa20[_0x200a98(0x21f)](0x1),_0x2ad0a4['textContent']=_0x37aa20;}function autoSetEndTime(){const _0x3caba8=a2_0x8a455a,_0x338417=document[_0x3caba8(0x211)]('inpStart')[_0x3caba8(0xc0)];if(!_0x338417)return;const [_0x422f24,_0x4c355f]=_0x338417[_0x3caba8(0x161)](':')[_0x3caba8(0x1a1)](Number);let _0x26e870=_0x422f24+0x1;if(_0x26e870>0x17)_0x26e870=0x0;const _0x38fe35=String(_0x26e870)[_0x3caba8(0x19e)](0x2,'0')+':'+String(_0x4c355f)[_0x3caba8(0x19e)](0x2,'0');document[_0x3caba8(0x211)](_0x3caba8(0x1d5))[_0x3caba8(0xc0)]=_0x38fe35;}function populateClientSelect(){const _0x549154=a2_0x8a455a,_0x142b22=document[_0x549154(0x211)]('inpClient');_0x142b22[_0x549154(0x1dc)]='';if(clients[_0x549154(0xee)]===0x0){const _0x39dcb9=document[_0x549154(0x1d4)](_0x549154(0x14f));_0x39dcb9['text']='–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤',_0x142b22[_0x549154(0x1ee)](_0x39dcb9);return;}clients[_0x549154(0x221)](_0x46f943=>{const _0x2c57ea=_0x549154,_0x331749=document[_0x2c57ea(0x1d4)]('option');_0x331749['value']=_0x46f943[_0x2c57ea(0x1b3)],_0x331749[_0x2c57ea(0x136)]=_0x46f943[_0x2c57ea(0x1b3)],_0x142b22[_0x2c57ea(0x1ee)](_0x331749);});}function openActionSheet(_0x337cf7){const _0xef732e=a2_0x8a455a,_0x561b32=document[_0xef732e(0x211)](_0xef732e(0x177)),_0x36e3f6=document[_0xef732e(0x211)](_0xef732e(0x11c)),_0x4be498=document[_0xef732e(0x211)]('asTitle'),_0x30caa9=document[_0xef732e(0x211)]('asBtnOne'),_0x4167c0=document[_0xef732e(0x211)](_0xef732e(0x206));_0x36e3f6[_0xef732e(0xcb)][_0xef732e(0x1cd)](_0xef732e(0x15a)),_0x561b32[_0xef732e(0xcb)][_0xef732e(0x1cd)](_0xef732e(0xd0));if(_0x337cf7===_0xef732e(0x1a8))_0x4be498[_0xef732e(0x136)]='–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏',_0x30caa9[_0xef732e(0x136)]='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x30caa9[_0xef732e(0x224)]=()=>{closeActionSheet(),updateSeriesBatch('single',tempSessionData);},_0x4167c0[_0xef732e(0x136)]='–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ',_0x4167c0[_0xef732e(0x224)]=()=>{const _0x497788=_0xef732e;closeActionSheet(),updateSeriesBatch(_0x497788(0x169),tempSessionData);};else _0x337cf7===_0xef732e(0x19b)&&(_0x4be498['textContent']='–£–¥–∞–ª–µ–Ω–∏–µ',_0x30caa9[_0xef732e(0x136)]=_0xef732e(0x1c0),_0x30caa9['className']=_0xef732e(0x20f),_0x30caa9['onclick']=()=>{const _0x34b71d=_0xef732e;closeActionSheet(),commitDelete(_0x34b71d(0x13c),sessions['find'](_0xd32346=>_0xd32346['id']===editingId));},_0x4167c0[_0xef732e(0x136)]=_0xef732e(0xe6),_0x4167c0[_0xef732e(0xe2)]='as-button\x20danger\x20bold',_0x4167c0[_0xef732e(0x224)]=()=>{const _0x253e6d=_0xef732e;closeActionSheet(),commitDelete('series',sessions[_0x253e6d(0x116)](_0x417110=>_0x417110['id']===editingId));});}function closeActionSheet(){const _0x3738b2=a2_0x8a455a;document[_0x3738b2(0x211)](_0x3738b2(0x177))[_0x3738b2(0xcb)][_0x3738b2(0x11a)](_0x3738b2(0xd0)),document[_0x3738b2(0x211)]('actionSheetOverlay')['classList'][_0x3738b2(0x11a)](_0x3738b2(0x15a));}function openSettings(){const _0x217f7d=a2_0x8a455a;openSheet(_0x217f7d(0x1bc));}function saveCoachSettings(){const _0xba9dbe=a2_0x8a455a,_0x70c0d2=document[_0xba9dbe(0x211)](_0xba9dbe(0x127))[_0xba9dbe(0xc0)];localStorage[_0xba9dbe(0x135)]('uc_settings_cancel_window',_0x70c0d2),console[_0xba9dbe(0x1cf)]('[Settings]\x20Cancel\x20window\x20set\x20to:',_0x70c0d2),DataManager[_0xba9dbe(0x187)](_0xba9dbe(0x1a5),{'settings':{'cancel_window':_0x70c0d2}})[_0xba9dbe(0x214)](_0x17bddb=>{const _0x360965=_0xba9dbe;console['error'](_0x360965(0x1fe),_0x17bddb),showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫',![]);});}function loadCoachSettings(){const _0x4ba21a=a2_0x8a455a,_0x3d82e0=localStorage[_0x4ba21a(0x101)]('uc_settings_cancel_window');_0x3d82e0&&(document['getElementById'](_0x4ba21a(0x127))[_0x4ba21a(0xc0)]=_0x3d82e0);}function openRangesSheet(){const _0x2dbe97=a2_0x8a455a;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x2dbe97(0x1d0));}function addRange(){const _0x279c33=a2_0x8a455a,_0x151369=document[_0x279c33(0x211)](_0x279c33(0x1f3))[_0x279c33(0xc0)],_0x3bed12=document['getElementById']('rangeStartTime')[_0x279c33(0xc0)],_0x21d9a3=document[_0x279c33(0x211)](_0x279c33(0xbd))['value'],_0x2ef4eb=document['getElementById'](_0x279c33(0x13a))[_0x279c33(0xc0)];if(!_0x151369||!_0x3bed12||!_0x21d9a3||!_0x2ef4eb)return alert(_0x279c33(0xe9));const _0x360d06=_0x151369+'T'+_0x3bed12,_0x4b318c=_0x21d9a3+'T'+_0x2ef4eb;if(_0x360d06>=_0x4b318c)return alert(_0x279c33(0x1eb));specialRanges[_0x279c33(0xb9)]({'start':_0x360d06,'end':_0x4b318c}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x279c33(0x124)](),DataManager[_0x279c33(0x187)](_0x279c33(0x1a5),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x4ef46b){const _0x143b42=a2_0x8a455a;specialRanges[_0x143b42(0x185)](_0x4ef46b,0x1),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager['fetchFromServer'](_0x143b42(0x1a5),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x1c2e5e=a2_0x8a455a;document['getElementById'](_0x1c2e5e(0x1f3))[_0x1c2e5e(0xc0)]='',document[_0x1c2e5e(0x211)]('rangeStartTime')[_0x1c2e5e(0xc0)]=_0x1c2e5e(0x216),document[_0x1c2e5e(0x211)]('rangeEndDate')['value']='',document[_0x1c2e5e(0x211)](_0x1c2e5e(0x13a))[_0x1c2e5e(0xc0)]=_0x1c2e5e(0x165);}function renderRangesList(){const _0x444669=a2_0x8a455a,_0x3e19ac=document[_0x444669(0x211)](_0x444669(0x1a0));_0x3e19ac[_0x444669(0x1dc)]='';if(!specialRanges[_0x444669(0xee)]){_0x3e19ac[_0x444669(0x1dc)]=_0x444669(0x19d);return;}specialRanges[_0x444669(0x221)]((_0xeff5e2,_0x360946)=>{const _0x13db67=_0x444669,_0x38edde=document[_0x13db67(0x1d4)](_0x13db67(0x14c));_0x38edde[_0x13db67(0xe2)]=_0x13db67(0x179);const _0x5ccfbd=_0x1fa97d=>{const _0x1670e1=_0x13db67,_0x2d9020=new Date(_0x1fa97d);return _0x2d9020[_0x1670e1(0x198)]()+'.'+String(_0x2d9020[_0x1670e1(0x176)]()+0x1)[_0x1670e1(0x19e)](0x2,'0')+'\x20'+String(_0x2d9020[_0x1670e1(0xd5)]())[_0x1670e1(0x19e)](0x2,'0')+':'+String(_0x2d9020['getMinutes']())[_0x1670e1(0x19e)](0x2,'0');};_0x38edde['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>'+_0x5ccfbd(_0xeff5e2[_0x13db67(0x148)])+_0x13db67(0xed)+_0x5ccfbd(_0xeff5e2[_0x13db67(0x164)])+_0x13db67(0xf3)+_0x360946+')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>',_0x3e19ac[_0x13db67(0x1ee)](_0x38edde);});}function a2_0x308b(){const _0x153849=['37411965FUtGSd','mousedown','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','calc(','matrixViewport','<div\x20class=\x22dch-day\x22>','warn','getDate','from','blocked-slot\x20stripe-bg','delete','toastMessage','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','padStart','btn-status-toggle','rangesList','map','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','save_settings','rgba(48,\x20209,\x2088,\x200.15)','client-stat-card','save','Telegram','anStart','btn-status-toggle\x20undo-mode','[API\x20','round','loadLocal','setHeaderColor','[Notify]\x20Detected\x20Client\x20ID:','pe-col-header','touches','name','top','px\x20-','3657104iXHWjm','anEnd','ready','\x20–∏–∑\x20','T23:59:59','DOMContentLoaded','settingsSheet','pe-time-label','note','syncLoad','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','.event-card','complete','deleted','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','onClick',':\x20Client\x20already\x20booked','analyticsSheet','querySelectorAll','recurringOptionContainer','.day-col-header','valid','calendar','add','sid','log','rangesSheet','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','dayOptionsSheet','anCustomDates','createElement','inpEnd','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','colIndex','then','create','doDateHeader','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','innerHTML','inpStart','[Series]\x20Skipped\x20','max','</div>','scrollWidth','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','%\x20-\x204px)','[Notify]\x20Error:\x20Text\x20generation\x20failed','Error\x20setting\x20color:','5JJsQxT',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','toast','.day-column','closest','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','sessionSheet','style','appendChild','anTotalStats','v9.0-BATCH-CALENDAR','px\x200px','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','rangeStartDate','initData','.dch-stats-fill','928030xkCXja','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','header-','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','cancelled','width','now','Save\x20settings\x20error:','querySelector','</span>\x20/\x20','borderColor','setAttribute','custom','stopPropagation','timeLineBadge','asBtnSeries','show','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','status','var(--acc-red)','peGrid','clientY','indexOf','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','as-button\x20danger','<div\x20class=\x22ev-title\x22>','getElementById','...','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','catch','10px','00:00','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','statLoadCard','substr','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','Error\x20setting\x20back\x20button:','json','init_load','inpSeriesCount','slice','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','forEach','firstChild','[Notify]\x20Client\x20SWAP\x20detected','onclick','getAttribute','overlay','inpDate','seriesId','mousemove','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','rgba(100,100,100,0.5)','toUpperCase','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','sort','floor','insertBefore','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','globalTimeLine','off','push','toLocaleString','filter','Unknown','rangeEndDate','setDate','setHours','value','getText','completed','toLocaleDateString','settings','data','flex','–£—Å–ø–µ—à–Ω–æ','send_notification','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','classList','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','findIndex','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','toString','open','T00:00:00','(((.+)+)+)+$','rgba(255,\x2069,\x2058,\x200.15)','de-item','getHours','startsWith','apply','pe-corner','\x20-\x20','uc_settings_v9',':00','keys','anPercent','search','1npJrba','planned','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','className','display','–ò–Ω—Ñ–æ','long','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','Critical\x20TMA\x20Error:','stat-','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','BackButton','var(--acc-orange)','null','\x20‚Äî\x20','length','.day-off-overlay','cancel_window','none','ru-RU','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','setBackgroundColor','pattern','offsetLeft','syncBatch','getTime','uc_sessions_v9','isArray','stringify','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','seriesCountContainer','all','btn-primary\x20btn-danger','vibrate','getItem','user','mouseup','total','block','2778615jwSDez','patternEditor','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','#0a84ff','</div><div\x20class=\x22dch-num\x22>','uc_settings_cancel_window','[Notify]\x20Error:\x20sessionData\x20is\x20null','min','.period-switch\x20.p-btn','charAt','warning','doLoadPercent','getFullYear','inpNote','rgba(255,255,255,0.05)','find','var(--acc-green)','btn-primary\x20btn-secondary','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','remove','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','actionSheetOverlay','doBusyHours','borderLeftColor','formatDate','offsetWidth','left','backgroundPosition','headerMonth','saveLocally','cancel','href','settingCancelWindow','batch_sync','100%','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','client','</div><div\x20class=\x22ev-time\x22>','uc_clients_v9','send','5178904HDSSqE','mini','height','clients','touchend','setItem','textContent','4741242SaXoaN','offClick','disableVerticalSwipes','rangeEndTime','anDonutCircle','single','touchstart','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','patternInfoBox','getMinutes','borderRadius','numeric','parse','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','random','[Notify]\x20Network\x20Failed','10px\x2010px\x200\x200','start','</b>\x0a\x0a','toastTitle','createDocumentFragment','div','expand',':00</span>','option','[Sync]\x20Loading\x20','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','sheetDateSubtitle','error','background','data-day-idx','rgba(255,\x2069,\x2058,\x200.3)','ranges','undefined','WebApp','active','addEventListener','week','inpRecurring','#050505','toast-notification\x20','getDay','split','color','data-date','end','23:59','update','blocked-range-part\x20stripe-bg','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','series',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','scrollTop','backgroundColor','doWorkHours','1270851BPVkZK','exceptions','[Notify]\x20Server\x20Response:','mergeServerData','clientId','\x20status-completed','#gridColumns\x20.day-column','clientWidth','getMonth','actionSheet','day-column\x20','range-item','day-col-header\x20','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','event-card','pe-cell\x20','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','success','sheetTitle',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','#fff',']\x20Failed:','analyticsList','splice','scrollLeft','fetchFromServer','initDataUnsafe','done','dateStr','rgba(255,\x20159,\x2010,\x200.3)','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','day-off-overlay\x20stripe-bg','today','toFixed','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑'];a2_0x308b=function(){return _0x153849;};return a2_0x308b();}function scrollToToday(){const _0x25ef5a=a2_0x8a455a,_0x164102=getLocalDateStr(new Date()),_0x152b51=document[_0x25ef5a(0x211)](_0x25ef5a(0x1f8)+_0x164102),_0x117fec=document[_0x25ef5a(0x211)](_0x25ef5a(0x195));if(_0x152b51&&_0x117fec){const _0x44905f=_0x117fec[_0x25ef5a(0x175)],_0x26a43b=_0x152b51['offsetLeft'],_0x384a1a=_0x152b51[_0x25ef5a(0x120)];_0x117fec[_0x25ef5a(0x186)]=_0x26a43b-_0x44905f/0x2+_0x384a1a/0x2,_0x117fec[_0x25ef5a(0x16b)]=0x9*GRID_H;}}function onScroll(){const _0x212941=a2_0x8a455a,_0x380992=document['getElementById'](_0x212941(0x195)),_0x5d76ef=document[_0x212941(0x1c8)](_0x212941(0x1ca));for(let _0x9774b5 of _0x5d76ef)if(_0x9774b5[_0x212941(0xf6)]>=_0x380992['scrollLeft']){const _0x5a59bf=new Date(_0x9774b5[_0x212941(0x225)](_0x212941(0x163)));document[_0x212941(0x211)](_0x212941(0x123))[_0x212941(0x136)]=_0x5a59bf[_0x212941(0xba)]('ru',{'month':_0x212941(0xe5)})[_0x212941(0xb0)]()+'\x20'+_0x5a59bf['getFullYear']();break;}}function showToast(_0x36c613,_0x18db53=![]){const _0x554e07=a2_0x8a455a,_0x81e663=document[_0x554e07(0x211)](_0x554e07(0x1e8));_0x81e663['className']=_0x554e07(0x15f)+(_0x18db53?_0x554e07(0x17f):''),document[_0x554e07(0x211)](_0x554e07(0x14a))[_0x554e07(0x136)]=_0x18db53?_0x554e07(0xc7):_0x554e07(0xe4),document[_0x554e07(0x211)](_0x554e07(0x19c))[_0x554e07(0x136)]=_0x36c613,_0x81e663[_0x554e07(0xcb)][_0x554e07(0x1cd)](_0x554e07(0x207)),setTimeout(()=>{const _0x1ddb8f=_0x554e07;_0x81e663['classList'][_0x1ddb8f(0x11a)]('show');},0xbb8);}function openDayOptions(_0x22aa45,_0xd8f2c5){const _0x46cd05=a2_0x8a455a;selectedDayForOptions=_0x22aa45,document['getElementById']('dayOptionsTitle')[_0x46cd05(0x136)]=_0xd8f2c5,openSheet('dayOptionsSheet');}function toggleDayOff(){const _0x5b976b=a2_0x8a455a;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x5b976b(0xb8),reRenderBlocks(),closeAllSheets(),DataManager[_0x5b976b(0x124)](),DataManager[_0x5b976b(0x187)](_0x5b976b(0x1a5),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x46114c=a2_0x8a455a;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x46114c(0x124)](),DataManager[_0x46114c(0x187)](_0x46114c(0x1a5),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x1e40e9){const _0x45739a=a2_0x8a455a;document['getElementById'](_0x45739a(0x226))[_0x45739a(0xcb)][_0x45739a(0x1cd)]('active'),document[_0x45739a(0x211)](_0x1e40e9)[_0x45739a(0xcb)][_0x45739a(0x1cd)](_0x45739a(0xd0));}function closeAllSheets(){const _0x16acb8=a2_0x8a455a;document[_0x16acb8(0x211)]('overlay')[_0x16acb8(0xcb)][_0x16acb8(0x11a)](_0x16acb8(0x15a)),document[_0x16acb8(0x1c8)]('.sheet')[_0x16acb8(0x221)](_0x53cd91=>_0x53cd91['classList']['remove'](_0x16acb8(0xd0)));}function openPatternEditor(){const _0x66170=a2_0x8a455a;closeAllSheets(),document['getElementById'](_0x66170(0x107))[_0x66170(0xcb)][_0x66170(0x1cd)]('open'),renderPatternEditor();}function closePatternEditor(){const _0x490768=a2_0x8a455a;document[_0x490768(0x211)](_0x490768(0x107))[_0x490768(0xcb)][_0x490768(0x11a)]('open');}function savePattern(){const _0x18050b=a2_0x8a455a;document[_0x18050b(0x211)](_0x18050b(0x107))['classList']['remove']('open'),reRenderBlocks(),DataManager[_0x18050b(0x124)](),DataManager[_0x18050b(0x187)]('save_settings',{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x19bb6d=a2_0x8a455a,_0x2c4824=document[_0x19bb6d(0x211)](_0x19bb6d(0x20b));_0x2c4824[_0x19bb6d(0x1dc)]='';const _0x17c3d0=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x314ecb=document[_0x19bb6d(0x1d4)](_0x19bb6d(0x14c));_0x314ecb[_0x19bb6d(0xe2)]=_0x19bb6d(0xd8),_0x2c4824[_0x19bb6d(0x1ee)](_0x314ecb),_0x17c3d0[_0x19bb6d(0x221)]((_0xe12ebf,_0x1fc79c)=>{const _0x52901e=_0x19bb6d,_0x55b993=document['createElement'](_0x52901e(0x14c));_0x55b993['className']=_0x52901e(0x1b1),_0x55b993['innerHTML']=_0xe12ebf+_0x52901e(0x1a3),_0x55b993[_0x52901e(0x224)]=()=>toggleColPattern(_0x1fc79c),_0x2c4824[_0x52901e(0x1ee)](_0x55b993);});for(let _0x3b4b33=0x0;_0x3b4b33<0x18;_0x3b4b33++){const _0x6e44d6=document[_0x19bb6d(0x1d4)](_0x19bb6d(0x14c));_0x6e44d6[_0x19bb6d(0xe2)]=_0x19bb6d(0x1bd),_0x6e44d6[_0x19bb6d(0x1dc)]=_0x19bb6d(0x21a)+String(_0x3b4b33)['padStart'](0x2,'0')+_0x19bb6d(0xdb),_0x6e44d6[_0x19bb6d(0x224)]=()=>toggleRowPattern(_0x3b4b33),_0x2c4824[_0x19bb6d(0x1ee)](_0x6e44d6);for(let _0x4caf28=0x0;_0x4caf28<0x7;_0x4caf28++){const _0x5b2364=document[_0x19bb6d(0x1d4)](_0x19bb6d(0x14c)),_0x41bef2=(availabilityPattern[_0x4caf28]||[])['includes'](_0x3b4b33),_0x1744f7=!_0x41bef2;_0x5b2364['className']=_0x19bb6d(0x17d)+(_0x1744f7?_0x19bb6d(0x15a):''),_0x5b2364[_0x19bb6d(0x224)]=()=>toggleSinglePattern(_0x4caf28,_0x3b4b33),_0x2c4824[_0x19bb6d(0x1ee)](_0x5b2364);}}}function toggleSinglePattern(_0x4e0049,_0x28014d){const _0x1278cb=a2_0x8a455a;if(!availabilityPattern[_0x4e0049])availabilityPattern[_0x4e0049]=[];const _0x232e11=availabilityPattern[_0x4e0049],_0x3b07c2=_0x232e11[_0x1278cb(0x20d)](_0x28014d);_0x3b07c2===-0x1?_0x232e11[_0x1278cb(0xb9)](_0x28014d):_0x232e11['splice'](_0x3b07c2,0x1),renderPatternEditor();}function toggleColPattern(_0x2ba707){const _0x2321d2=a2_0x8a455a;if(!availabilityPattern[_0x2ba707])availabilityPattern[_0x2ba707]=[];const _0x55c431=availabilityPattern[_0x2ba707];_0x55c431[_0x2321d2(0xee)]===0x0?availabilityPattern[_0x2ba707]=Array[_0x2321d2(0x199)]({'length':0x18},(_0x2fe9ff,_0x54cd49)=>_0x54cd49):availabilityPattern[_0x2ba707]=[],renderPatternEditor();}function toggleRowPattern(_0x33af0e){const _0x38d4c6=a2_0x8a455a;let _0x10301b=!![];for(let _0x325087=0x0;_0x325087<0x7;_0x325087++){if((availabilityPattern[_0x325087]||[])['includes'](_0x33af0e)){_0x10301b=![];break;}}for(let _0x1d897f=0x0;_0x1d897f<0x7;_0x1d897f++){if(!availabilityPattern[_0x1d897f])availabilityPattern[_0x1d897f]=[];const _0x26535b=availabilityPattern[_0x1d897f][_0x38d4c6(0x20d)](_0x33af0e);if(_0x10301b){if(_0x26535b===-0x1)availabilityPattern[_0x1d897f][_0x38d4c6(0xb9)](_0x33af0e);}else{if(_0x26535b!==-0x1)availabilityPattern[_0x1d897f][_0x38d4c6(0x185)](_0x26535b,0x1);}}renderPatternEditor();}function renderPCol(_0x3f3836,_0x33ec99){const _0x3412e2=a2_0x8a455a;_0x3f3836[_0x3412e2(0x1dc)]='';const _0x52bc71=Math[_0x3412e2(0x1ad)](_0x3f3836[_0x3412e2(0xf6)]);(availabilityPattern[_0x33ec99]||[])['forEach'](_0x52655d=>{const _0x29af7f=_0x3412e2,_0x2bc79d=document[_0x29af7f(0x1d4)](_0x29af7f(0x14c));_0x2bc79d[_0x29af7f(0xe2)]=_0x29af7f(0x19a);const _0xb7ed88=_0x52655d*GRID_H;_0x2bc79d[_0x29af7f(0x1ed)][_0x29af7f(0x1b4)]=_0xb7ed88+'px',_0x2bc79d[_0x29af7f(0x1ed)][_0x29af7f(0x122)]='-'+_0x52bc71+_0x29af7f(0x1b5)+_0xb7ed88+'px',_0x2bc79d[_0x29af7f(0x224)]=_0x472632=>{const _0x5c824e=_0x29af7f;_0x472632[_0x5c824e(0x204)](),toggleSinglePattern(_0x33ec99,_0x52655d);},_0x3f3836[_0x29af7f(0x1ee)](_0x2bc79d);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x25e572=a2_0x8a455a,_0x460046=new Date(),_0x5afad3=document[_0x25e572(0x211)](_0x25e572(0xb7)),_0x48da9f=document[_0x25e572(0x211)](_0x25e572(0x205)),_0x4da781=(_0x460046[_0x25e572(0xd5)]()*0x3c+_0x460046[_0x25e572(0x140)]())/0x3c*GRID_H;_0x5afad3[_0x25e572(0x1ed)][_0x25e572(0x1b4)]=_0x4da781+'px',_0x5afad3[_0x25e572(0x1ed)]['display']=_0x25e572(0x105),_0x48da9f[_0x25e572(0x136)]=String(_0x460046['getHours']())[_0x25e572(0x19e)](0x2,'0')+':'+String(_0x460046[_0x25e572(0x140)]())[_0x25e572(0x19e)](0x2,'0'),_0x48da9f[_0x25e572(0x1ed)][_0x25e572(0xe3)]='block',_0x48da9f['style'][_0x25e572(0x1b4)]=_0x4da781+'px';}document[a2_0x8a455a(0x15b)](a2_0x8a455a(0x1bb),init);function openDayOptions(_0x320d99){const _0x110c66=a2_0x8a455a;selectedDayForOptions=_0x320d99;const _0x427f18=new Date(_0x320d99),_0x2c45f7={'weekday':_0x110c66(0xe5),'day':'numeric','month':'long','year':'numeric'},_0x59db02=_0x427f18['toLocaleDateString'](_0x110c66(0xf2),_0x2c45f7);document[_0x110c66(0x211)](_0x110c66(0x1da))['textContent']=_0x59db02[_0x110c66(0x110)](0x0)[_0x110c66(0xb0)]()+_0x59db02['slice'](0x1);let _0x525da2=_0x427f18[_0x110c66(0x160)]()-0x1;if(_0x525da2===-0x1)_0x525da2=0x6;const _0x26efa2=availabilityPattern[_0x525da2]||[],_0x33c1d7=0x18-_0x26efa2[_0x110c66(0xee)],_0x58513c=_0x33c1d7*0x3c,_0x19798b=sessions[_0x110c66(0xbb)](_0x321386=>_0x321386[_0x110c66(0x18a)]===_0x320d99&&_0x321386[_0x110c66(0x209)]!==_0x110c66(0x1fb));let _0x5bdaa2=_0x19798b[_0x110c66(0x1a1)](_0x4cdf33=>{const _0xcce532=_0x110c66,[_0x14199d,_0x565025]=_0x4cdf33[_0xcce532(0x148)][_0xcce532(0x161)](':')[_0xcce532(0x1a1)](Number),[_0x26031c,_0x4809a0]=_0x4cdf33[_0xcce532(0x164)][_0xcce532(0x161)](':')[_0xcce532(0x1a1)](Number);return[_0x14199d*0x3c+_0x565025,_0x26031c*0x3c+_0x4809a0];});_0x5bdaa2[_0x110c66(0xb2)]((_0x322191,_0x5a6fab)=>_0x322191[0x0]-_0x5a6fab[0x0]);let _0x40cd3b=[];if(_0x5bdaa2[_0x110c66(0xee)]>0x0){let _0x17573f=_0x5bdaa2[0x0];for(let _0x61efc9=0x1;_0x61efc9<_0x5bdaa2['length'];_0x61efc9++){_0x5bdaa2[_0x61efc9][0x0]<_0x17573f[0x1]?_0x17573f[0x1]=Math[_0x110c66(0x1df)](_0x17573f[0x1],_0x5bdaa2[_0x61efc9][0x1]):(_0x40cd3b[_0x110c66(0xb9)](_0x17573f),_0x17573f=_0x5bdaa2[_0x61efc9]);}_0x40cd3b['push'](_0x17573f);}let _0x26f770=0x0;_0x40cd3b[_0x110c66(0x221)](_0x25db0d=>_0x26f770+=_0x25db0d[0x1]-_0x25db0d[0x0]),document[_0x110c66(0x211)](_0x110c66(0x16d))[_0x110c66(0x136)]=formatMinsToHrs(_0x58513c),document[_0x110c66(0x211)](_0x110c66(0x11d))['textContent']=formatMinsToHrs(_0x26f770);const _0x52232c=_0x58513c>0x0?Math['round'](_0x26f770/_0x58513c*0x64):0x0,_0xe2e1a0=document[_0x110c66(0x211)](_0x110c66(0x112));_0xe2e1a0[_0x110c66(0x136)]=_0x52232c+'%';const _0x595290=document[_0x110c66(0x211)](_0x110c66(0x218));if(_0x52232c>0x64)_0xe2e1a0[_0x110c66(0x1ed)][_0x110c66(0x162)]=_0x110c66(0x20a),_0x595290[_0x110c66(0x1ed)][_0x110c66(0x201)]=_0x110c66(0x156);else _0x52232c>0x50?(_0xe2e1a0[_0x110c66(0x1ed)][_0x110c66(0x162)]=_0x110c66(0xeb),_0x595290[_0x110c66(0x1ed)][_0x110c66(0x201)]=_0x110c66(0x18b)):(_0xe2e1a0['style']['color']='var(--acc-green)',_0x595290[_0x110c66(0x1ed)][_0x110c66(0x201)]=_0x110c66(0x115));const _0x28649f=document['getElementById']('doEventsList');_0x28649f['innerHTML']='';_0x19798b[_0x110c66(0xee)]===0x0?_0x28649f[_0x110c66(0x1dc)]='<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>':(_0x19798b[_0x110c66(0xb2)]((_0x46ded7,_0x3d4e74)=>_0x46ded7[_0x110c66(0x148)]['localeCompare'](_0x3d4e74[_0x110c66(0x148)])),_0x19798b['forEach'](_0x576adf=>{const _0x20a0b9=_0x110c66,_0x53511e=clients['find'](_0x3ad6b3=>_0x3ad6b3['name']===_0x576adf['client']),_0x1bac7a=_0x53511e?_0x53511e[_0x20a0b9(0x162)]:_0x20a0b9(0x182),_0xc72864=_0x576adf[_0x20a0b9(0x209)]===_0x20a0b9(0xc2),_0x108a39=_0xc72864?_0x20a0b9(0x17b):'',_0x3e30ee=document[_0x20a0b9(0x1d4)](_0x20a0b9(0x14c));_0x3e30ee[_0x20a0b9(0xe2)]=_0x20a0b9(0xd4),_0x3e30ee[_0x20a0b9(0x1ed)][_0x20a0b9(0x11e)]=_0x1bac7a,_0x3e30ee[_0x20a0b9(0x1dc)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>'+_0x576adf['start']+_0x20a0b9(0xd9)+_0x576adf[_0x20a0b9(0x164)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x576adf[_0x20a0b9(0x12c)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x108a39+_0x20a0b9(0x1d6),_0x28649f[_0x20a0b9(0x1ee)](_0x3e30ee);}));const _0x549f1a=document[_0x110c66(0x211)]('btnDayToggle'),_0x5e61cd=dateExceptions[_0x320d99]==='off';_0x5e61cd?(_0x549f1a[_0x110c66(0x136)]=_0x110c66(0x220),_0x549f1a[_0x110c66(0xe2)]=_0x110c66(0x118),_0x549f1a[_0x110c66(0x1ed)][_0x110c66(0x162)]=_0x110c66(0x117),_0x549f1a['style'][_0x110c66(0x154)]=_0x110c66(0x1a6)):(_0x549f1a[_0x110c66(0x136)]=_0x110c66(0x217),_0x549f1a[_0x110c66(0xe2)]=_0x110c66(0xff),_0x549f1a[_0x110c66(0x1ed)]['color']=_0x110c66(0x20a),_0x549f1a[_0x110c66(0x1ed)]['background']=_0x110c66(0xd3)),openSheet(_0x110c66(0x1d2));}let currentAnPeriod=a2_0x8a455a(0x15c);function openAnalytics(){const _0x1ebdbf=a2_0x8a455a,_0x5d58d4=document['querySelector'](_0x1ebdbf(0x10f));setAnalyticsPeriod(_0x1ebdbf(0x15c),_0x5d58d4),closeAllSheets(),openSheet(_0x1ebdbf(0x1c7));}function setAnalyticsPeriod(_0x4e7a9e,_0xb22945){const _0x442afb=a2_0x8a455a;currentAnPeriod=_0x4e7a9e,document[_0x442afb(0x1c8)](_0x442afb(0x10f))['forEach'](_0x52f33a=>_0x52f33a[_0x442afb(0xcb)][_0x442afb(0x11a)](_0x442afb(0x15a)));if(_0xb22945)_0xb22945[_0x442afb(0xcb)][_0x442afb(0x1cd)]('active');const _0x226153=document[_0x442afb(0x211)](_0x442afb(0x1d3));_0x226153[_0x442afb(0x1ed)][_0x442afb(0xe3)]=_0x4e7a9e===_0x442afb(0x203)?_0x442afb(0xc6):'none';const _0xe9d368=new Date();let _0x1f6460=new Date(),_0xbb8b24=new Date();if(_0x4e7a9e===_0x442afb(0x15c))_0x1f6460=getStartOfWeek(_0xe9d368),_0xbb8b24=new Date(_0x1f6460),_0xbb8b24[_0x442afb(0xbe)](_0xbb8b24['getDate']()+0x6);else{if(_0x4e7a9e==='month')_0x1f6460=new Date(_0xe9d368[_0x442afb(0x113)](),_0xe9d368[_0x442afb(0x176)](),0x1),_0xbb8b24=new Date(_0xe9d368['getFullYear'](),_0xe9d368[_0x442afb(0x176)]()+0x1,0x0);else{!document['getElementById']('anStart')[_0x442afb(0xc0)]&&(document[_0x442afb(0x211)](_0x442afb(0x1aa))[_0x442afb(0xc0)]=getLocalDateStr(_0xe9d368),document[_0x442afb(0x211)](_0x442afb(0x1b7))['value']=getLocalDateStr(_0xe9d368));refreshAnalytics();return;}}document['getElementById'](_0x442afb(0x1aa))[_0x442afb(0xc0)]=getLocalDateStr(_0x1f6460),document[_0x442afb(0x211)](_0x442afb(0x1b7))[_0x442afb(0xc0)]=getLocalDateStr(_0xbb8b24),refreshAnalytics();}function refreshAnalytics(){const _0x11ed49=a2_0x8a455a,_0x20f351=document[_0x11ed49(0x211)]('anStart')['value'],_0x3f1f21=document[_0x11ed49(0x211)]('anEnd')[_0x11ed49(0xc0)];if(!_0x20f351||!_0x3f1f21)return;const _0x1287b4=sessions['filter'](_0x3c0dd7=>_0x3c0dd7['dateStr']>=_0x20f351&&_0x3c0dd7[_0x11ed49(0x18a)]<=_0x3f1f21&&_0x3c0dd7[_0x11ed49(0x209)]!==_0x11ed49(0x1fb)),_0x1f6180=_0x1287b4[_0x11ed49(0xee)],_0x61945e=_0x1287b4[_0x11ed49(0xbb)](_0x2ed19a=>_0x2ed19a[_0x11ed49(0x209)]===_0x11ed49(0xc2))[_0x11ed49(0xee)],_0x579478=_0x1f6180>0x0?Math[_0x11ed49(0x1ad)](_0x61945e/_0x1f6180*0x64):0x0;document[_0x11ed49(0x211)](_0x11ed49(0xdd))['textContent']=_0x579478+'%',document[_0x11ed49(0x211)](_0x11ed49(0x1ef))[_0x11ed49(0x136)]=_0x61945e+_0x11ed49(0x1b9)+_0x1f6180+_0x11ed49(0x1c4);const _0x1475e3=document[_0x11ed49(0x211)](_0x11ed49(0x13b)),_0x5e60ca=0x2*Math['PI']*0x23,_0x40fdef=_0x5e60ca-_0x579478/0x64*_0x5e60ca;_0x1475e3[_0x11ed49(0x1ed)]['strokeDashoffset']=_0x40fdef;const _0xbbec1f={};_0x1287b4[_0x11ed49(0x221)](_0x571762=>{const _0x506f62=_0x11ed49;if(!_0xbbec1f[_0x571762[_0x506f62(0x12c)]]){const _0x320122=clients[_0x506f62(0x116)](_0x414727=>_0x414727[_0x506f62(0x1b3)]===_0x571762['client']);_0xbbec1f[_0x571762['client']]={'total':0x0,'done':0x0,'color':_0x320122?_0x320122['color']:_0x506f62(0x182)};}_0xbbec1f[_0x571762[_0x506f62(0x12c)]][_0x506f62(0x104)]++;if(_0x571762[_0x506f62(0x209)]===_0x506f62(0xc2))_0xbbec1f[_0x571762[_0x506f62(0x12c)]][_0x506f62(0x189)]++;});const _0x58a133=document['getElementById'](_0x11ed49(0x184));_0x58a133[_0x11ed49(0x1dc)]='';const _0x6d576a=Object['entries'](_0xbbec1f)['sort']((_0x40bcc6,_0x40cd52)=>_0x40cd52[0x1][_0x11ed49(0x104)]-_0x40bcc6[0x1][_0x11ed49(0x104)]);if(_0x6d576a[_0x11ed49(0xee)]===0x0){_0x58a133[_0x11ed49(0x1dc)]=_0x11ed49(0x1d1);return;}_0x6d576a[_0x11ed49(0x221)](([_0x55b716,_0x2fa3a7])=>{const _0x206419=_0x11ed49,_0x4964c6=Math[_0x206419(0x1ad)](_0x2fa3a7['done']/_0x2fa3a7[_0x206419(0x104)]*0x64),_0x19ea37=document['createElement'](_0x206419(0x14c));_0x19ea37[_0x206419(0xe2)]=_0x206419(0x1a7),_0x19ea37['style'][_0x206419(0x11e)]=_0x2fa3a7['color'],_0x19ea37[_0x206419(0x1dc)]=_0x206419(0xfc)+_0x55b716+_0x206419(0x108)+_0x2fa3a7[_0x206419(0x189)]+_0x206419(0x200)+_0x2fa3a7['total']+_0x206419(0x1a2)+_0x4964c6+_0x206419(0x151),_0x58a133[_0x206419(0x1ee)](_0x19ea37);});}function formatMinsToHrs(_0x2c9965){const _0x4446d0=a2_0x8a455a;if(_0x2c9965===0x0)return'0';const _0x5298d4=Math[_0x4446d0(0xb3)](_0x2c9965/0x3c),_0x304325=_0x2c9965%0x3c;if(_0x304325===0x0)return _0x5298d4+'—á';return _0x5298d4+'—á\x20'+_0x304325+'–º';}