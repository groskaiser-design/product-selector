const a2_0xd5506b=a2_0x2ffa;(function(_0x483e86,_0x3b53d0){const _0x308b92=a2_0x2ffa,_0x33fdc8=_0x483e86();while(!![]){try{const _0x3cc7ca=parseInt(_0x308b92(0x1c5))/0x1+parseInt(_0x308b92(0x106))/0x2+-parseInt(_0x308b92(0x128))/0x3+-parseInt(_0x308b92(0x10a))/0x4*(parseInt(_0x308b92(0xbc))/0x5)+-parseInt(_0x308b92(0x13e))/0x6*(parseInt(_0x308b92(0x177))/0x7)+parseInt(_0x308b92(0xe5))/0x8*(parseInt(_0x308b92(0x15f))/0x9)+parseInt(_0x308b92(0x212))/0xa;if(_0x3cc7ca===_0x3b53d0)break;else _0x33fdc8['push'](_0x33fdc8['shift']());}catch(_0xcfc960){_0x33fdc8['push'](_0x33fdc8['shift']());}}}(a2_0x2443,0x3b321),function initTMA(){const _0x4d5894=a2_0x2ffa,_0x3fa489=(function(){let _0x49808d=!![];return function(_0x3cdea6,_0x23d26c){const _0x3e04a7=_0x49808d?function(){if(_0x23d26c){const _0x2eed8a=_0x23d26c['apply'](_0x3cdea6,arguments);return _0x23d26c=null,_0x2eed8a;}}:function(){};return _0x49808d=![],_0x3e04a7;};}()),_0x1be596=_0x3fa489(this,function(){const _0xab19e5=a2_0x2ffa;return _0x1be596[_0xab19e5(0x1cd)]()['search'](_0xab19e5(0x1e4))['toString']()[_0xab19e5(0x1ac)](_0x1be596)[_0xab19e5(0x14a)]('(((.+)+)+)+$');});_0x1be596();try{const _0x39123a=window[_0x4d5894(0xd3)]?.[_0x4d5894(0x1f9)];if(!_0x39123a)return;_0x39123a['ready'](),_0x39123a['expand']();try{_0x39123a['setHeaderColor']('#050505'),_0x39123a[_0x4d5894(0x1be)]&&_0x39123a['setBackgroundColor'](_0x4d5894(0xe7));}catch(_0x7e4625){console[_0x4d5894(0xe3)](_0x4d5894(0x162),_0x7e4625);}try{_0x39123a[_0x4d5894(0x1e5)]&&(_0x39123a[_0x4d5894(0x1e5)]['show'](),_0x39123a[_0x4d5894(0x1e5)][_0x4d5894(0x20c)](),_0x39123a['BackButton'][_0x4d5894(0xdf)](function(){const _0x155ecd=_0x4d5894;window[_0x155ecd(0xef)][_0x155ecd(0x20f)]=_0x155ecd(0xda);}));}catch(_0x5c7ec1){console[_0x4d5894(0xe3)]('Error\x20setting\x20back\x20button:',_0x5c7ec1);}try{if(_0x39123a[_0x4d5894(0x153)])_0x39123a[_0x4d5894(0x153)]();}catch(_0x4e8c37){}}catch(_0x23280e){console['error']('Critical\x20TMA\x20Error:',_0x23280e);}}());function isAdmin(){const _0x3d8913=a2_0x2ffa;try{const _0x17efa3=Number(window[_0x3d8913(0xd3)]?.[_0x3d8913(0x1f9)]?.[_0x3d8913(0xf9)]?.[_0x3d8913(0x20d)]?.['id']);return _0x17efa3===0xbaf7174;}catch(_0x4e13b1){return![];}}const APP_VERSION=a2_0xd5506b(0x1a2),API_URL='https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec',GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());function a2_0x2ffa(_0x4fe733,_0x21c4bf){_0x4fe733=_0x4fe733-0xa1;const _0x281cf4=a2_0x2443();let _0x35c9fa=_0x281cf4[_0x4fe733];return _0x35c9fa;}const KEY_CLIENTS=a2_0xd5506b(0x14c),KEY_SESSIONS=a2_0xd5506b(0x1dc),KEY_SETTINGS=a2_0xd5506b(0x17e);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x33ebda=a2_0xd5506b;return window['Telegram']?.['WebApp']?.[_0x33ebda(0xf9)]?.[_0x33ebda(0x20d)]?.['id']||_0x33ebda(0x18d);},'saveLocally'(){const _0x1876c0=a2_0xd5506b;try{localStorage[_0x1876c0(0x198)](KEY_CLIENTS,JSON[_0x1876c0(0x152)](clients)),localStorage[_0x1876c0(0x198)](KEY_SESSIONS,JSON[_0x1876c0(0x152)](sessions)),localStorage[_0x1876c0(0x198)](KEY_SETTINGS,JSON[_0x1876c0(0x152)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x5a0151){console[_0x1876c0(0x140)](_0x1876c0(0x1e6),_0x5a0151);}},'loadLocal'(){const _0x465df9=a2_0xd5506b;try{const _0x2e4da3=localStorage[_0x465df9(0x189)](KEY_CLIENTS);if(_0x2e4da3)clients=JSON[_0x465df9(0x11a)](_0x2e4da3);const _0x2887c6=localStorage[_0x465df9(0x189)](KEY_SESSIONS);if(_0x2887c6)sessions=JSON[_0x465df9(0x11a)](_0x2887c6);const _0x2a25bb=localStorage[_0x465df9(0x189)](KEY_SETTINGS);if(_0x2a25bb){const _0x33a412=JSON['parse'](_0x2a25bb);if(_0x33a412[_0x465df9(0x10c)])availabilityPattern=_0x33a412[_0x465df9(0x10c)];if(_0x33a412[_0x465df9(0x1cb)])dateExceptions=_0x33a412[_0x465df9(0x1cb)];if(_0x33a412['ranges'])specialRanges=_0x33a412[_0x465df9(0x181)];}else{for(let _0x42922e=0x0;_0x42922e<0x7;_0x42922e++)availabilityPattern[_0x42922e]=Array[_0x465df9(0x1a3)]({'length':0xc},(_0x4fd041,_0x5581fd)=>_0x5581fd+0x9);}}catch(_0xcbb8d2){console[_0x465df9(0x140)](_0x465df9(0x16d),_0xcbb8d2);}},async 'fetchFromServer'(_0x34b88f,_0x50fff4={}){const _0x5bdef2=a2_0xd5506b,_0x59dc0e=window[_0x5bdef2(0xd3)]?.[_0x5bdef2(0x1f9)],_0x2d7a0a={'action':_0x34b88f,'init_data':_0x59dc0e?.['initData']||'',..._0x50fff4};try{const _0x50ceeb=await fetch(API_URL,{'method':_0x5bdef2(0x203),'headers':{'Content-Type':_0x5bdef2(0xec)},'body':JSON[_0x5bdef2(0x152)](_0x2d7a0a)}),_0x48092c=await _0x50ceeb[_0x5bdef2(0x1f7)]();if(!_0x48092c['ok'])throw new Error(_0x48092c[_0x5bdef2(0x140)]||'Server\x20Error');return _0x48092c['data'];}catch(_0xbb75b5){console[_0x5bdef2(0x140)](_0x5bdef2(0x15e)+_0x34b88f+']\x20Failed:',_0xbb75b5);throw _0xbb75b5;}},async 'syncLoad'(){const _0x6f8f80=a2_0xd5506b,_0x2d32f3=new Date(),_0x240101=_0x2d32f3['getFullYear']()+'-'+String(_0x2d32f3['getMonth']()+0x1)[_0x6f8f80(0x124)](0x2,'0'),_0x12e333=new Date(_0x2d32f3);_0x12e333[_0x6f8f80(0x18a)](_0x2d32f3[_0x6f8f80(0x10f)]()+0x1);const _0x2d16d5=_0x12e333[_0x6f8f80(0x195)]()+'-'+String(_0x12e333[_0x6f8f80(0x10f)]()+0x1)[_0x6f8f80(0x124)](0x2,'0'),_0x2887f8=Date[_0x6f8f80(0x10b)]();console['log']('[Sync]\x20Loading\x20'+_0x240101+',\x20'+_0x2d16d5+_0x6f8f80(0x1f4));try{const [_0x15aadb,_0x51f463]=await Promise[_0x6f8f80(0xa7)]([this[_0x6f8f80(0xc9)](_0x6f8f80(0x18f),{'month_str':_0x240101}),this[_0x6f8f80(0xc9)]('init_load',{'month_str':_0x2d16d5})]);if(lastUserActionTime>_0x2887f8)return console[_0x6f8f80(0x165)](_0x6f8f80(0x1a7)),![];return this[_0x6f8f80(0x108)](_0x15aadb,_0x240101),this[_0x6f8f80(0x108)](_0x51f463,_0x2d16d5),this['saveLocally'](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x284467){console[_0x6f8f80(0x140)](_0x284467);throw _0x284467;}},'mergeServerData'(_0x14b5c1,_0x208119){const _0x642151=a2_0xd5506b;if(!_0x14b5c1)return;_0x14b5c1[_0x642151(0x17b)]&&Array[_0x642151(0x1e0)](_0x14b5c1['clients'])&&(clients=_0x14b5c1[_0x642151(0x17b)]);if(_0x14b5c1['settings']){if(_0x14b5c1[_0x642151(0x1f8)][_0x642151(0x10c)])availabilityPattern=_0x14b5c1[_0x642151(0x1f8)][_0x642151(0x10c)];if(_0x14b5c1['settings']['exceptions'])dateExceptions=_0x14b5c1[_0x642151(0x1f8)][_0x642151(0x1cb)];if(_0x14b5c1[_0x642151(0x1f8)][_0x642151(0x181)])specialRanges=_0x14b5c1[_0x642151(0x1f8)][_0x642151(0x181)];if(_0x14b5c1[_0x642151(0x1f8)][_0x642151(0x155)]){localStorage['setItem']('uc_settings_cancel_window',_0x14b5c1[_0x642151(0x1f8)][_0x642151(0x155)]);const _0x6ecbd2=document[_0x642151(0xd7)](_0x642151(0x1ef));if(_0x6ecbd2)_0x6ecbd2['value']=_0x14b5c1[_0x642151(0x1f8)]['cancel_window'];}}_0x14b5c1[_0x642151(0xad)]&&(sessions=sessions[_0x642151(0xdd)](_0x5e20e3=>!_0x5e20e3[_0x642151(0x14f)][_0x642151(0x217)](_0x208119)),Object['keys'](_0x14b5c1[_0x642151(0xad)])['forEach'](_0x39b9d6=>{const _0x10ee57=_0x642151,_0x3c93da=_0x14b5c1['calendar'][_0x39b9d6];_0x3c93da[_0x10ee57(0xb2)](_0x2929c5=>{const _0x526d3e=_0x10ee57,_0x5ce4b6=clients[_0x526d3e(0xb3)](_0x1e6088=>String(_0x1e6088['id'])===String(_0x2929c5['c']));sessions[_0x526d3e(0xd5)]({'id':_0x2929c5['i'],'clientId':_0x2929c5['c'],'client':_0x5ce4b6?_0x5ce4b6[_0x526d3e(0xd0)]:'Unknown','dateStr':_0x208119+'-'+_0x39b9d6[_0x526d3e(0x124)](0x2,'0'),'start':_0x2929c5['s'],'end':_0x2929c5['e'],'status':_0x2929c5['st']||'planned','note':_0x2929c5['n']||'','seriesId':_0x2929c5[_0x526d3e(0x11b)]||null});});}));},async 'syncBatch'(_0x15c6d3){const _0x1a6b0c=a2_0xd5506b,_0x17608a=[...new Set(_0x15c6d3)],_0x3fff54=_0x17608a[_0x1a6b0c(0xe9)](_0x2695c2=>{const _0x2cdee1=_0x1a6b0c,_0x2321cd=sessions[_0x2cdee1(0xdd)](_0xfe8dbe=>_0xfe8dbe[_0x2cdee1(0x14f)]===_0x2695c2&&_0xfe8dbe[_0x2cdee1(0xfe)]!==_0x2cdee1(0xb9)),_0x20378c=_0x2321cd[_0x2cdee1(0xe9)](_0x1c0884=>({'i':_0x1c0884['id'],'c':_0x1c0884[_0x2cdee1(0xf6)],'s':_0x1c0884[_0x2cdee1(0x1e8)],'e':_0x1c0884[_0x2cdee1(0x185)],'st':_0x1c0884[_0x2cdee1(0xfe)],'n':_0x1c0884[_0x2cdee1(0x1ad)],'sid':_0x1c0884['seriesId']}));return{'date':_0x2695c2,'day_data':_0x20378c};});if(_0x3fff54[_0x1a6b0c(0x19e)]===0x0)return;console[_0x1a6b0c(0xe3)](_0x1a6b0c(0x179)+_0x3fff54[_0x1a6b0c(0x19e)]+_0x1a6b0c(0x114)),await this[_0x1a6b0c(0xc9)]('batch_sync',{'changes':_0x3fff54});}};async function init(){const _0x2ad4e8=a2_0xd5506b;DataManager[_0x2ad4e8(0xc1)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById'](_0x2ad4e8(0x204))['addEventListener'](_0x2ad4e8(0x1db),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']()[_0x2ad4e8(0x1a9)](()=>{const _0x40ec3f=_0x2ad4e8;showToast(_0x40ec3f(0x1b1),!![]);})[_0x2ad4e8(0x13f)](_0xed7540=>{const _0x33162c=_0x2ad4e8;showToast(_0x33162c(0x103),![]);});}function generateId(){const _0x47ad47=a2_0xd5506b;return Date[_0x47ad47(0x10b)]()[_0x47ad47(0x1cd)](0x24)+Math[_0x47ad47(0x161)]()[_0x47ad47(0x1cd)](0x24)[_0x47ad47(0x12b)](0x2,0x5);}function toggleSeriesInput(){const _0x597e4d=a2_0xd5506b,_0x5a5aa4=document[_0x597e4d(0xd7)](_0x597e4d(0xb4))[_0x597e4d(0x13a)],_0x4c83ab=document[_0x597e4d(0xd7)](_0x597e4d(0xee));_0x4c83ab[_0x597e4d(0x17c)][_0x597e4d(0x1c3)]=_0x5a5aa4?_0x597e4d(0xf7):'none';const _0x47f89c=document[_0x597e4d(0xd7)](_0x597e4d(0x170));_0x47f89c[_0x597e4d(0x17c)]['borderRadius']=_0x5a5aa4?_0x597e4d(0xa8):'10px';}function openAddSession(_0x405558){const _0x2f3c18=a2_0xd5506b;editingId=null,populateClientSelect(),document[_0x2f3c18(0xd7)](_0x2f3c18(0x1e2))[_0x2f3c18(0x150)]='–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å',document[_0x2f3c18(0xd7)](_0x2f3c18(0x182))[_0x2f3c18(0x17c)][_0x2f3c18(0x1c3)]='none',document[_0x2f3c18(0xd7)](_0x2f3c18(0x148))[_0x2f3c18(0x17c)][_0x2f3c18(0x1c3)]=_0x2f3c18(0x216);const _0x348be3=document['getElementById'](_0x2f3c18(0x170)),_0x2badac=document[_0x2f3c18(0xd7)]('seriesCountContainer');_0x348be3[_0x2f3c18(0x17c)][_0x2f3c18(0x1c3)]=_0x2f3c18(0x199),_0x348be3['style'][_0x2f3c18(0x145)]=_0x2f3c18(0x118),document[_0x2f3c18(0xd7)](_0x2f3c18(0xb4))['checked']=![],document[_0x2f3c18(0xd7)](_0x2f3c18(0x11e))[_0x2f3c18(0x16a)]=0x4,_0x2badac[_0x2f3c18(0x17c)][_0x2f3c18(0x1c3)]='none',document[_0x2f3c18(0xd7)](_0x2f3c18(0x178))[_0x2f3c18(0x16a)]=getLocalDateStr(_0x405558),updateDateDisplay();const _0x1c18c8=_0x405558[_0x2f3c18(0x12d)]();document['getElementById'](_0x2f3c18(0xde))['value']=String(_0x1c18c8)[_0x2f3c18(0x124)](0x2,'0')+_0x2f3c18(0x1d9),document[_0x2f3c18(0xd7)](_0x2f3c18(0x1cc))[_0x2f3c18(0x16a)]=String(_0x1c18c8+0x1)[_0x2f3c18(0x124)](0x2,'0')+':00',openSheet(_0x2f3c18(0xed));}function openEdit(_0x4536eb){const _0x27d168=a2_0xd5506b;editingId=_0x4536eb['id'],populateClientSelect(),document[_0x27d168(0xd7)](_0x27d168(0x1e2))[_0x27d168(0x150)]=_0x27d168(0xa3),document[_0x27d168(0xd7)](_0x27d168(0x182))['style'][_0x27d168(0x1c3)]=_0x27d168(0xf7);const _0x512e59=document[_0x27d168(0xd7)](_0x27d168(0x148));_0x512e59[_0x27d168(0x17c)]['display']=_0x27d168(0x199);_0x4536eb['status']===_0x27d168(0x1c1)?(_0x512e59[_0x27d168(0x1b5)]=_0x27d168(0xc4),_0x512e59['innerHTML']='–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ'):(_0x512e59[_0x27d168(0x1b5)]=_0x27d168(0x13b),_0x512e59[_0x27d168(0x186)]=_0x27d168(0xaa));const _0x3dde81=!!_0x4536eb['seriesId'];document[_0x27d168(0xd7)](_0x27d168(0x170))[_0x27d168(0x17c)][_0x27d168(0x1c3)]=_0x27d168(0x216),document[_0x27d168(0xd7)](_0x27d168(0xee))[_0x27d168(0x17c)][_0x27d168(0x1c3)]=_0x27d168(0x216),_0x3dde81?(document[_0x27d168(0xd7)](_0x27d168(0x173))[_0x27d168(0x17c)][_0x27d168(0x1c3)]=_0x27d168(0x199),document[_0x27d168(0xd7)](_0x27d168(0x173))[_0x27d168(0xaf)]('.pib-text')['textContent']=_0x27d168(0x147)):document['getElementById']('patternInfoBox')['style']['display']=_0x27d168(0x216),document[_0x27d168(0xd7)]('inpClient')[_0x27d168(0x16a)]=_0x4536eb[_0x27d168(0x19a)],document[_0x27d168(0xd7)](_0x27d168(0x178))[_0x27d168(0x16a)]=_0x4536eb[_0x27d168(0x14f)],document[_0x27d168(0xd7)](_0x27d168(0xde))['value']=_0x4536eb[_0x27d168(0x1e8)],document['getElementById'](_0x27d168(0x1cc))[_0x27d168(0x16a)]=_0x4536eb[_0x27d168(0x185)],document[_0x27d168(0xd7)](_0x27d168(0xfc))[_0x27d168(0x16a)]=_0x4536eb['note']||'',updateDateDisplay(),openSheet(_0x27d168(0xed));}async function trySaveSession(){const _0x471a36=a2_0xd5506b,_0x3a6243=document[_0x471a36(0xd7)](_0x471a36(0xf2))[_0x471a36(0x16a)],_0x3be5c1=document['getElementById']('inpDate')[_0x471a36(0x16a)],_0x4241d3=document[_0x471a36(0xd7)]('inpStart')[_0x471a36(0x16a)],_0x6f55c4=document[_0x471a36(0xd7)](_0x471a36(0x1cc))[_0x471a36(0x16a)],_0x35a79e=document[_0x471a36(0xd7)](_0x471a36(0xfc))[_0x471a36(0x16a)],_0x6ce5d2=document[_0x471a36(0xd7)]('inpRecurring')[_0x471a36(0x13a)];let _0xefdfd4=0x4;if(_0x6ce5d2){const _0x32b30f=parseInt(document['getElementById'](_0x471a36(0x11e))[_0x471a36(0x16a)]);if(!_0x32b30f||_0x32b30f<0x2){showToast(_0x471a36(0x163),![]);return;}if(_0x32b30f>0x64){showToast(_0x471a36(0xd6),![]);return;}_0xefdfd4=_0x32b30f;}const _0x31d91a=clients['find'](_0x4e999b=>_0x4e999b[_0x471a36(0xd0)]===_0x3a6243);if(!_0x31d91a){showToast(_0x471a36(0x1ff),![]);return;}const _0xb5bbaa=validateAppointment(_0x3be5c1,_0x4241d3,_0x6f55c4,editingId,_0x31d91a['id']);if(!_0xb5bbaa[_0x471a36(0xeb)]){showToast(_0xb5bbaa[_0x471a36(0x14d)],![]);return;}_0xb5bbaa[_0x471a36(0x116)]&&showToast(_0xb5bbaa['warning'],![]);const _0x2956dd={'client':_0x3a6243,'clientId':_0x31d91a['id'],'start':_0x4241d3,'end':_0x6f55c4,'note':_0x35a79e,'status':'planned'},_0x2ef4d9=editingId?sessions[_0x471a36(0xb3)](_0x1be339=>_0x1be339['id']===editingId):null;if(_0x2ef4d9&&_0x2ef4d9[_0x471a36(0x142)]){tempSessionData={..._0x2956dd,'dateStr':_0x3be5c1,'id':editingId,'seriesId':_0x2ef4d9[_0x471a36(0x142)]},openActionSheet(_0x471a36(0xba));return;}let _0x439a85=null;if(!editingId)_0x439a85=_0x471a36(0x149);else{if(_0x2ef4d9){if(String(_0x2ef4d9['clientId'])!==String(_0x31d91a['id']))console[_0x471a36(0xe3)]('[Notify]\x20Client\x20SWAP\x20detected'),NotificationManager[_0x471a36(0x206)](_0x471a36(0x113),_0x2ef4d9),_0x439a85='create';else(_0x2ef4d9[_0x471a36(0x1e8)]!==_0x4241d3||_0x2ef4d9[_0x471a36(0x185)]!==_0x6f55c4||_0x2ef4d9[_0x471a36(0x14f)]!==_0x3be5c1)&&(_0x439a85=_0x471a36(0x211));}}if(!editingId&&_0x6ce5d2){createBatchSeries(_0x2956dd,_0x3be5c1,_0xefdfd4),NotificationManager[_0x471a36(0x206)](_0x471a36(0x149),{..._0x2956dd,'dateStr':_0x3be5c1});return;}lastUserActionTime=Date[_0x471a36(0x10b)]();const _0xd774c1={..._0x2956dd,'dateStr':_0x3be5c1,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0xd774c1),_0x439a85&&NotificationManager[_0x471a36(0x206)](_0x439a85,_0xd774c1);}function toggleSessionStatus(){const _0x35aa3c=a2_0xd5506b;lastUserActionTime=Date['now']();const _0x169fcc=sessions[_0x35aa3c(0xb3)](_0x538f14=>_0x538f14['id']===editingId);if(!_0x169fcc)return;const _0x286574=_0x169fcc[_0x35aa3c(0xfe)]===_0x35aa3c(0x1c1)?'planned':_0x35aa3c(0x1c1);_0x169fcc[_0x35aa3c(0xfe)]=_0x286574,saveSingleSession(_0x169fcc),_0x286574===_0x35aa3c(0x1c1)&&NotificationManager['send']('complete',_0x169fcc),showToast(_0x286574===_0x35aa3c(0x1c1)?_0x35aa3c(0x1fd):_0x35aa3c(0x15b),!![]);}function validateAppointment(_0x2b5a28,_0x1400f0,_0x27a2aa,_0xd2e6bd,_0x517ed3){const _0x17c337=a2_0xd5506b,[_0x330a35,_0x5635a3]=_0x1400f0['split'](':')[_0x17c337(0xe9)](Number),[_0x407383,_0xc56609]=_0x27a2aa['split'](':')['map'](Number),_0xb2c5ea=_0x330a35*0x3c+_0x5635a3,_0x4da892=_0x407383*0x3c+_0xc56609,_0x5c7e7e=String(_0x517ed3);let _0x50e896=![],_0xa34f18='';for(let _0x4e9429 of sessions){if(_0x4e9429[_0x17c337(0x14f)]!==_0x2b5a28)continue;if(_0x4e9429['status']===_0x17c337(0x1ca))continue;if(_0xd2e6bd&&String(_0x4e9429['id'])===String(_0xd2e6bd))continue;const [_0x5101a5,_0x1e9937]=_0x4e9429[_0x17c337(0x1e8)][_0x17c337(0x167)](':')['map'](Number),[_0x21785c,_0x5bcd65]=_0x4e9429['end']['split'](':')['map'](Number),_0x41c124=_0x5101a5*0x3c+_0x1e9937,_0x18870a=_0x21785c*0x3c+_0x5bcd65;if(Math[_0x17c337(0x169)](_0xb2c5ea,_0x41c124)<Math[_0x17c337(0x127)](_0x4da892,_0x18870a)){if(_0x4e9429[_0x17c337(0xf6)]&&String(_0x4e9429[_0x17c337(0xf6)])===_0x5c7e7e)return{'valid':![],'msg':_0x17c337(0x131)+_0x4e9429['client']+_0x17c337(0x104)};_0x50e896=!![],_0xa34f18=_0x4e9429[_0x17c337(0x19a)];}}if(_0x50e896)return{'valid':!![],'warning':_0x17c337(0x16e)+_0xa34f18};return{'valid':!![]};}function saveSingleSession(_0x5f1226){const _0x31e3c8=a2_0xd5506b;if(editingId){const _0x35ecf4=sessions[_0x31e3c8(0x1eb)](_0x118b6c=>_0x118b6c['id']===editingId);if(_0x35ecf4!==-0x1)sessions[_0x35ecf4]=_0x5f1226;}else sessions['push'](_0x5f1226);afterSaveAction([_0x5f1226[_0x31e3c8(0x14f)]]);}function createBatchSeries(_0x210345,_0x5c1a64,_0x5c1255){const _0x485b5e=a2_0xd5506b,_0x367e87=generateId(),_0x1acc19=[],_0x5f2dec=[];let _0x16b4fe=0x0,_0x11f3bd=new Date(_0x5c1a64);for(let _0x587546=0x0;_0x587546<_0x5c1255;_0x587546++){const _0x1a0794=getLocalDateStr(_0x11f3bd),_0x25604d=validateAppointment(_0x1a0794,_0x210345[_0x485b5e(0x1e8)],_0x210345[_0x485b5e(0x185)],null,_0x210345[_0x485b5e(0xf6)]);if(!_0x25604d['valid'])console['log'](_0x485b5e(0x1e3)+_0x1a0794+_0x485b5e(0xea)),_0x16b4fe++;else{const _0x47d4ac={..._0x210345,'id':generateId(),'dateStr':_0x1a0794,'seriesId':_0x367e87};_0x5f2dec['push'](_0x47d4ac),_0x1acc19[_0x485b5e(0xd5)](_0x1a0794);}_0x11f3bd[_0x485b5e(0x111)](_0x11f3bd[_0x485b5e(0x141)]()+0x7);}if(_0x5f2dec[_0x485b5e(0x19e)]===0x0){showToast(_0x485b5e(0xb6),![]);return;}sessions[_0x485b5e(0xd5)](..._0x5f2dec),lastUserActionTime=Date['now']();let _0xfa6800=_0x485b5e(0xa1)+_0x5f2dec[_0x485b5e(0x19e)];_0x16b4fe>0x0&&(_0xfa6800+=_0x485b5e(0xc7)+_0x16b4fe+')'),showToast(_0xfa6800,!![]),afterSaveAction(_0x1acc19);}function updateSeriesBatch(_0x223ec4,_0x3e4578){const _0xf0a376=a2_0xd5506b,_0x334d93=[],_0x473045=_0x3e4578[_0xf0a376(0x142)];if(_0x223ec4===_0xf0a376(0x11c)){const _0x62fdc2={..._0x3e4578,'seriesId':null},_0x21a97c=sessions[_0xf0a376(0x1eb)](_0x329842=>_0x329842['id']===_0x3e4578['id']);if(_0x21a97c!==-0x1)sessions[_0x21a97c]=_0x62fdc2;_0x334d93[_0xf0a376(0xd5)](_0x62fdc2[_0xf0a376(0x14f)]);}else{if(_0x223ec4===_0xf0a376(0xcc)){const _0x42d966=_0x3e4578['dateStr'];sessions[_0xf0a376(0xb2)]((_0x1f0d1c,_0xe430d7)=>{const _0x4c90ac=_0xf0a376;_0x1f0d1c[_0x4c90ac(0x142)]===_0x473045&&_0x1f0d1c[_0x4c90ac(0x14f)]>=_0x42d966&&(sessions[_0xe430d7]={...sessions[_0xe430d7],'start':_0x3e4578['start'],'end':_0x3e4578[_0x4c90ac(0x185)],'note':_0x3e4578['note'],'client':_0x3e4578[_0x4c90ac(0x19a)],'clientId':_0x3e4578[_0x4c90ac(0xf6)]},_0x334d93[_0x4c90ac(0xd5)](_0x1f0d1c[_0x4c90ac(0x14f)]));});}}afterSaveAction(_0x334d93);}function tryDeleteSession(){const _0x2a0b2f=a2_0xd5506b,_0x48c18b=sessions['find'](_0x1507ae=>_0x1507ae['id']===editingId);if(!_0x48c18b)return;_0x48c18b[_0x2a0b2f(0x142)]?openActionSheet(_0x2a0b2f(0x19c)):commitDelete('single',_0x48c18b);}function commitDelete(_0x26c058,_0x592ab3){const _0x22c769=a2_0xd5506b;lastUserActionTime=Date[_0x22c769(0x10b)](),NotificationManager[_0x22c769(0x206)]('cancel',_0x592ab3);const _0x3c0f4e=[];if(_0x26c058===_0x22c769(0x11c))sessions=sessions[_0x22c769(0xdd)](_0x58308c=>_0x58308c['id']!==_0x592ab3['id']),_0x3c0f4e[_0x22c769(0xd5)](_0x592ab3[_0x22c769(0x14f)]);else{if(_0x26c058===_0x22c769(0xcc)){const _0x2cdba5=_0x592ab3[_0x22c769(0x14f)],_0x15fcdb=_0x592ab3[_0x22c769(0x142)];sessions[_0x22c769(0xb2)](_0x4a4826=>{const _0xd92b3c=_0x22c769;_0x4a4826['seriesId']===_0x15fcdb&&_0x4a4826[_0xd92b3c(0x14f)]>=_0x2cdba5&&_0x3c0f4e[_0xd92b3c(0xd5)](_0x4a4826[_0xd92b3c(0x14f)]);}),sessions=sessions[_0x22c769(0xdd)](_0x2d4e65=>!(_0x2d4e65[_0x22c769(0x142)]===_0x15fcdb&&_0x2d4e65[_0x22c769(0x14f)]>=_0x2cdba5));}}afterSaveAction(_0x3c0f4e);}function afterSaveAction(_0x131c2e){const _0x382e48=a2_0xd5506b;DataManager[_0x382e48(0x126)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x382e48(0x130)](_0x131c2e)['then'](()=>console[_0x382e48(0xe3)]('Batch\x20Sync\x20OK'))[_0x382e48(0x13f)](_0xe9b277=>showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ',![]));}const NotificationManager={'formatDate'(_0x1baca5){const _0x5d780e=a2_0xd5506b,_0x2fb2b6=new Date(_0x1baca5),_0x359325={'weekday':'long','day':_0x5d780e(0x1ea),'month':_0x5d780e(0x1d6)};let _0x34b418=_0x2fb2b6[_0x5d780e(0x1b9)](_0x5d780e(0x1dd),_0x359325);return _0x34b418[_0x5d780e(0x117)](0x0)[_0x5d780e(0x1a6)]()+_0x34b418[_0x5d780e(0xe1)](0x1);},'getText'(_0x1e2b2a,_0x1426d3){const _0x2cf96e=a2_0xd5506b,_0x295dad=this[_0x2cf96e(0x1ba)](_0x1426d3[_0x2cf96e(0x14f)]);switch(_0x1e2b2a){case _0x2cf96e(0x149):return _0x2cf96e(0x15c)+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0x295dad+'\x0a')+(_0x2cf96e(0x188)+_0x1426d3['start']+_0x2cf96e(0x18b)+_0x1426d3[_0x2cf96e(0x185)]+'\x0a\x0a')+_0x2cf96e(0x1d5);case _0x2cf96e(0x211):return _0x2cf96e(0x1f3)+'–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a'+(_0x2cf96e(0xf8)+_0x1426d3[_0x2cf96e(0x1e8)]+_0x2cf96e(0x18b)+_0x1426d3[_0x2cf96e(0x185)]+_0x2cf96e(0x110))+(_0x2cf96e(0x17a)+_0x295dad);case _0x2cf96e(0x113):return _0x2cf96e(0x13d)+(_0x2cf96e(0xfa)+_0x295dad+'\x20('+_0x1426d3[_0x2cf96e(0x1e8)]+_0x2cf96e(0x1bc));case _0x2cf96e(0xc5):return _0x2cf96e(0xfb)+'–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a'+_0x2cf96e(0x1fc);default:return'';}},async 'send'(_0x268a8d,_0x516ec3){const _0x30e6a4=a2_0xd5506b;console[_0x30e6a4(0xe3)](_0x30e6a4(0x19f),_0x268a8d,_0x516ec3);if(!_0x516ec3){console[_0x30e6a4(0x140)](_0x30e6a4(0x191));return;}const _0x5a7293=String(_0x516ec3['clientId']);console[_0x30e6a4(0xe3)]('[Notify]\x20Detected\x20Client\x20ID:',_0x5a7293);if(!_0x516ec3['clientId']||_0x5a7293===_0x30e6a4(0x1bb)||_0x5a7293===_0x30e6a4(0x154)){console['error'](_0x30e6a4(0x1c8));if(_0x516ec3[_0x30e6a4(0x19a)]){const _0x16669d=clients[_0x30e6a4(0xb3)](_0x1378e4=>_0x1378e4['name']===_0x516ec3[_0x30e6a4(0x19a)]);if(_0x16669d)return console[_0x30e6a4(0xe3)]('[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:',_0x16669d['id']),this[_0x30e6a4(0x206)](_0x268a8d,{..._0x516ec3,'clientId':_0x16669d['id']});}return;}if(_0x5a7293['length']<0x5){console[_0x30e6a4(0x165)](_0x30e6a4(0x14b),_0x5a7293);return;}const _0x18f48e=this[_0x30e6a4(0x166)](_0x268a8d,_0x516ec3);if(!_0x18f48e){console['error'](_0x30e6a4(0xdc));return;}console[_0x30e6a4(0xe3)](_0x30e6a4(0xd2)+_0x5a7293+_0x30e6a4(0x1f4)),DataManager[_0x30e6a4(0xc9)](_0x30e6a4(0x137),{'chatId':_0x5a7293,'text':_0x18f48e})[_0x30e6a4(0x1a9)](_0x5c1445=>console[_0x30e6a4(0xe3)](_0x30e6a4(0x196),_0x5c1445))[_0x30e6a4(0x13f)](_0x23c1fb=>console['error'](_0x30e6a4(0xab),_0x23c1fb));}};function getLocalDateStr(_0x59e7d3){const _0x3ac0de=a2_0xd5506b,_0x58e93a=_0x59e7d3['getFullYear'](),_0x163318=String(_0x59e7d3[_0x3ac0de(0x10f)]()+0x1)[_0x3ac0de(0x124)](0x2,'0'),_0x2cb33c=String(_0x59e7d3['getDate']())[_0x3ac0de(0x124)](0x2,'0');return _0x58e93a+'-'+_0x163318+'-'+_0x2cb33c;}function getDateStr(_0x2c601f){const _0x618523=a2_0xd5506b,_0x394ccf=new Date();return _0x394ccf[_0x618523(0x111)](_0x394ccf['getDate']()+_0x2c601f),getLocalDateStr(_0x394ccf);}function getStartOfWeek(_0x5ce55c){const _0x2cdb66=a2_0xd5506b,_0x571252=new Date(_0x5ce55c),_0x4a3c88=_0x571252[_0x2cdb66(0xbb)](),_0x1d7ae7=_0x571252[_0x2cdb66(0x141)]()-_0x4a3c88+(_0x4a3c88===0x0?-0x6:0x1);return _0x571252[_0x2cdb66(0x111)](_0x1d7ae7),_0x571252[_0x2cdb66(0x1a1)](0x0,0x0,0x0,0x0),_0x571252;}function hexToRgba(_0x5327b4,_0x17931b){const _0x580988=a2_0xd5506b;if(!_0x5327b4)return _0x580988(0xac);let _0x124afb=0x0,_0x4b94f9=0x0,_0x25faeb=0x0;if(_0x5327b4[_0x580988(0x19e)]===0x4)_0x124afb='0x'+_0x5327b4[0x1]+_0x5327b4[0x1],_0x4b94f9='0x'+_0x5327b4[0x2]+_0x5327b4[0x2],_0x25faeb='0x'+_0x5327b4[0x3]+_0x5327b4[0x3];else _0x5327b4[_0x580988(0x19e)]===0x7&&(_0x124afb='0x'+_0x5327b4[0x1]+_0x5327b4[0x2],_0x4b94f9='0x'+_0x5327b4[0x3]+_0x5327b4[0x4],_0x25faeb='0x'+_0x5327b4[0x5]+_0x5327b4[0x6]);return _0x580988(0xe6)+ +_0x124afb+',\x20'+ +_0x4b94f9+',\x20'+ +_0x25faeb+',\x20'+_0x17931b+')';}function renderTimeColumn(){const _0x35dd18=a2_0xd5506b,_0x19c80b=document[_0x35dd18(0xd7)](_0x35dd18(0x1cf)),_0x28b9df=document['getElementById'](_0x35dd18(0x132));_0x19c80b[_0x35dd18(0x186)]='',_0x19c80b[_0x35dd18(0x1ec)](_0x28b9df);for(let _0xc779c7=0x0;_0xc779c7<0x18;_0xc779c7++){const _0x2731da=document[_0x35dd18(0x10e)]('div');_0x2731da['className']=_0x35dd18(0x15d);if(_0xc779c7>0x0)_0x2731da[_0x35dd18(0x186)]=_0x35dd18(0x15a)+String(_0xc779c7)[_0x35dd18(0x124)](0x2,'0')+_0x35dd18(0x19d);_0x19c80b[_0x35dd18(0x1ec)](_0x2731da);}}function renderDayRange(_0x4b1f38,_0x58d10c){const _0x2076d4=a2_0xd5506b,_0x174346=document[_0x2076d4(0xd7)](_0x2076d4(0x139)),_0x334c95=document['getElementById'](_0x2076d4(0x218)),_0x128455=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x2f8b6b=new Date();_0x2f8b6b['setHours'](0x0,0x0,0x0,0x0);const _0x1a50df=getLocalDateStr(new Date());for(let _0x4833ff=_0x4b1f38;_0x4833ff<=_0x58d10c;_0x4833ff++){const _0x4408a0=new Date(_0x2f8b6b);_0x4408a0['setDate'](_0x4408a0['getDate']()+_0x4833ff);const _0x17d18f=getLocalDateStr(_0x4408a0);let _0x2bc1ae=_0x4408a0[_0x2076d4(0xbb)]()-0x1;if(_0x2bc1ae===-0x1)_0x2bc1ae=0x6;const _0x29b30a=_0x17d18f===_0x1a50df,_0x294bf0=document[_0x2076d4(0x10e)](_0x2076d4(0x11d));_0x294bf0[_0x2076d4(0x1b5)]=_0x2076d4(0x1aa)+(_0x29b30a?_0x2076d4(0x210):''),_0x294bf0['id']=_0x2076d4(0x1f0)+_0x17d18f,_0x294bf0[_0x2076d4(0x1fb)]('data-date',_0x17d18f),_0x294bf0[_0x2076d4(0x186)]=_0x2076d4(0x1f6)+_0x128455[_0x2bc1ae]+'</div><div\x20class=\x22dch-num\x22>'+_0x4408a0[_0x2076d4(0x141)]()+_0x2076d4(0x1c4)+_0x17d18f+_0x2076d4(0x1f2),_0x294bf0[_0x2076d4(0x172)]=()=>openDayOptions(_0x17d18f,_0x128455[_0x2bc1ae]+'\x20'+_0x4408a0[_0x2076d4(0x141)]()),_0x174346[_0x2076d4(0x1ec)](_0x294bf0);const _0x5b8fa2=document[_0x2076d4(0x10e)]('div');_0x5b8fa2[_0x2076d4(0x1b5)]=_0x2076d4(0x1e7)+(_0x29b30a?_0x2076d4(0x210):''),_0x5b8fa2[_0x2076d4(0x1fb)](_0x2076d4(0xca),_0x17d18f),_0x5b8fa2[_0x2076d4(0x1fb)](_0x2076d4(0x20a),_0x2bc1ae),renderEventsForColumn(_0x5b8fa2,_0x17d18f,_0x2bc1ae),attachLongPressHandler(_0x5b8fa2,_0x4408a0),_0x334c95[_0x2076d4(0x1ec)](_0x5b8fa2),updateDayStats(_0x17d18f);}}function reRenderBlocks(){const _0x116b48=a2_0xd5506b;document[_0x116b48(0x1c6)]('#gridColumns\x20.day-column')['forEach'](_0x8e506c=>{const _0x49288d=_0x116b48;_0x8e506c[_0x49288d(0x1c6)](_0x49288d(0x138))[_0x49288d(0xb2)](_0x2f3e69=>_0x2f3e69[_0x49288d(0x1ee)]());const _0x2e91e7=_0x8e506c[_0x49288d(0x176)](_0x49288d(0xca)),_0x5bdc46=parseInt(_0x8e506c[_0x49288d(0x176)](_0x49288d(0x20a))),_0x5096c0=Math[_0x49288d(0x1f5)](_0x8e506c[_0x49288d(0x115)]);(availabilityPattern[_0x5bdc46]||[])[_0x49288d(0xb2)](_0x166cab=>{const _0x385190=_0x49288d,_0x55a8d6=document['createElement']('div');_0x55a8d6[_0x385190(0x1b5)]='blocked-slot\x20stripe-bg';const _0x2c3b71=_0x166cab*GRID_H;_0x55a8d6['style'][_0x385190(0xf1)]=_0x2c3b71+'px',_0x55a8d6[_0x385190(0x17c)][_0x385190(0xff)]='-'+_0x5096c0+_0x385190(0xf4)+_0x2c3b71+'px',_0x8e506c[_0x385190(0x1ec)](_0x55a8d6);});if(specialRanges&&specialRanges[_0x49288d(0x19e)]>0x0){const _0x2aab6b=new Date(_0x2e91e7+_0x49288d(0x1b2))[_0x49288d(0x1e9)](),_0x48c2e4=new Date(_0x2e91e7+'T23:59:59')[_0x49288d(0x1e9)]();specialRanges[_0x49288d(0xb2)](_0x4cbd0d=>{const _0x4917cb=_0x49288d,_0x2f11c8=new Date(_0x4cbd0d[_0x4917cb(0x1e8)])[_0x4917cb(0x1e9)](),_0x12e7cf=new Date(_0x4cbd0d[_0x4917cb(0x185)])[_0x4917cb(0x1e9)](),_0xd3b477=Math['max'](_0x2aab6b,_0x2f11c8),_0x581f79=Math[_0x4917cb(0x127)](_0x48c2e4,_0x12e7cf);if(_0xd3b477<_0x581f79){if(_0xd3b477<=_0x2aab6b&&_0x581f79>=_0x48c2e4-0xea60){if(!_0x8e506c['querySelector'](_0x4917cb(0xc3))){const _0x6951e6=document[_0x4917cb(0x10e)](_0x4917cb(0x11d));_0x6951e6[_0x4917cb(0x1b5)]=_0x4917cb(0xa6),_0x6951e6[_0x4917cb(0x17c)][_0x4917cb(0xff)]='-'+_0x5096c0+'px\x200px',_0x8e506c['appendChild'](_0x6951e6);}}else{const _0x539132=(_0xd3b477-_0x2aab6b)/0x36ee80*GRID_H,_0x136a22=(_0x581f79-_0xd3b477)/0x36ee80*GRID_H,_0x2267eb=document[_0x4917cb(0x10e)](_0x4917cb(0x11d));_0x2267eb[_0x4917cb(0x1b5)]=_0x4917cb(0x1d2),_0x2267eb[_0x4917cb(0x17c)][_0x4917cb(0xf1)]=_0x539132+'px',_0x2267eb['style'][_0x4917cb(0x202)]=_0x136a22+'px',_0x2267eb[_0x4917cb(0x17c)][_0x4917cb(0xff)]='-'+_0x5096c0+_0x4917cb(0xf4)+_0x539132+'px',_0x8e506c[_0x4917cb(0x1ec)](_0x2267eb);}}});}if(dateExceptions[_0x2e91e7]===_0x49288d(0x1c7)){if(!_0x8e506c['querySelector']('.day-off-overlay')){const _0x155b39=document['createElement'](_0x49288d(0x11d));_0x155b39[_0x49288d(0x1b5)]=_0x49288d(0xa6),_0x155b39[_0x49288d(0x17c)][_0x49288d(0xff)]='-'+_0x5096c0+'px\x200px',_0x8e506c[_0x49288d(0x1ec)](_0x155b39);}}renderEventsForColumn(_0x8e506c,_0x2e91e7,_0x5bdc46),updateDayStats(_0x2e91e7);});}function updateAllDayStats(){const _0x33654c=a2_0xd5506b;document['querySelectorAll']('.day-col-header')[_0x33654c(0xb2)](_0x3f6004=>{const _0x3135df=_0x33654c;updateDayStats(_0x3f6004[_0x3135df(0x176)]('data-date'));});}function updateDayStats(_0x381a47){const _0x9efa67=a2_0xd5506b,_0x5edd01=document[_0x9efa67(0xd7)]('stat-'+_0x381a47);if(!_0x5edd01)return;const _0x302353=new Date(_0x381a47);let _0x5ca83d=_0x302353['getDay']()-0x1;if(_0x5ca83d===-0x1)_0x5ca83d=0x6;if(dateExceptions[_0x381a47]===_0x9efa67(0x1c7)){_0x5edd01[_0x9efa67(0x17c)][_0x9efa67(0x1c3)]='none';return;}const _0x334606=availabilityPattern[_0x5ca83d]||[],_0x78c9ad=0x18-_0x334606['length'],_0x588ddf=_0x78c9ad*0x3c,_0x4e69e8=sessions[_0x9efa67(0xdd)](_0x3cca90=>_0x3cca90[_0x9efa67(0x14f)]===_0x381a47&&_0x3cca90[_0x9efa67(0xfe)]!==_0x9efa67(0x1ca));if(_0x4e69e8[_0x9efa67(0x19e)]===0x0){_0x5edd01[_0x9efa67(0x17c)]['display']=_0x9efa67(0x216);return;}let _0x237127=_0x4e69e8['map'](_0x4ecd55=>{const _0x1b815c=_0x9efa67,[_0x2f86ce,_0xb13cbb]=_0x4ecd55['start'][_0x1b815c(0x167)](':')[_0x1b815c(0xe9)](Number),[_0x39fb26,_0x51ce89]=_0x4ecd55[_0x1b815c(0x185)][_0x1b815c(0x167)](':')[_0x1b815c(0xe9)](Number);return[_0x2f86ce*0x3c+_0xb13cbb,_0x39fb26*0x3c+_0x51ce89];});_0x237127['sort']((_0x2bc63a,_0x484fed)=>_0x2bc63a[0x0]-_0x484fed[0x0]);let _0x186d76=[];if(_0x237127['length']>0x0){let _0x1f0dce=_0x237127[0x0];for(let _0x33ef01=0x1;_0x33ef01<_0x237127[_0x9efa67(0x19e)];_0x33ef01++){_0x237127[_0x33ef01][0x0]<_0x1f0dce[0x1]?_0x1f0dce[0x1]=Math['max'](_0x1f0dce[0x1],_0x237127[_0x33ef01][0x1]):(_0x186d76[_0x9efa67(0xd5)](_0x1f0dce),_0x1f0dce=_0x237127[_0x33ef01]);}_0x186d76[_0x9efa67(0xd5)](_0x1f0dce);}let _0x1f8964=0x0;_0x186d76[_0x9efa67(0xb2)](_0x170391=>_0x1f8964+=_0x170391[0x1]-_0x170391[0x0]),_0x5edd01[_0x9efa67(0x17c)][_0x9efa67(0x1c3)]='flex';const _0x150d60=_0x5edd01[_0x9efa67(0xaf)]('.dch-stats-fill');if(_0x588ddf===0x0){_0x150d60[_0x9efa67(0x17c)]['width']='100%',_0x150d60[_0x9efa67(0x17c)][_0x9efa67(0x1d0)]=_0x9efa67(0x125);return;}const _0x2c9b5f=_0x1f8964/_0x588ddf*0x64;console[_0x9efa67(0xe3)]('['+_0x381a47+']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20'+_0x78c9ad+'—á,\x20–ó–∞–Ω—è—Ç–æ:\x20'+_0x1f8964+_0x9efa67(0x164)+_0x2c9b5f[_0x9efa67(0xb5)](0x1)+'%'),_0x2c9b5f>0x64?(_0x150d60[_0x9efa67(0x17c)][_0x9efa67(0x168)]=_0x9efa67(0x102),_0x150d60['style'][_0x9efa67(0x1d0)]=_0x9efa67(0x125)):(_0x150d60[_0x9efa67(0x17c)][_0x9efa67(0x168)]=_0x2c9b5f+'%',_0x150d60[_0x9efa67(0x17c)][_0x9efa67(0x1d0)]='var(--acc-current)');}function renderEventsForColumn(_0x26bdd5,_0x58f92d,_0x297261){const _0x3a2fb1=a2_0xd5506b,_0x2ba8ad=sessions['filter'](_0x2325ac=>_0x2325ac[_0x3a2fb1(0x14f)]===_0x58f92d),_0x2881f1=_0x2ba8ad[_0x3a2fb1(0xe9)](_0x7839c4=>{const _0x32578d=_0x3a2fb1,[_0xee596a,_0x3777f4]=_0x7839c4[_0x32578d(0x1e8)]['split'](':')['map'](Number),[_0x3a6697,_0x101878]=_0x7839c4[_0x32578d(0x185)][_0x32578d(0x167)](':')[_0x32578d(0xe9)](Number);return{'data':_0x7839c4,'start':_0xee596a*0x3c+_0x3777f4,'end':_0x3a6697*0x3c+_0x101878,'colIndex':0x0};});_0x2881f1[_0x3a2fb1(0x12a)]((_0x486f98,_0x2e936b)=>{const _0xff1b77=_0x3a2fb1;if(_0x486f98[_0xff1b77(0x1e8)]!==_0x2e936b['start'])return _0x486f98[_0xff1b77(0x1e8)]-_0x2e936b['start'];return _0x2e936b[_0xff1b77(0x185)]-_0x2e936b[_0xff1b77(0x1e8)]-(_0x486f98['end']-_0x486f98[_0xff1b77(0x1e8)]);});const _0x11208a=[];_0x2881f1[_0x3a2fb1(0xb2)](_0x3a12b9=>{const _0x5a43d4=_0x3a2fb1;let _0x41b88c=![];for(let _0x294f87=0x0;_0x294f87<_0x11208a[_0x5a43d4(0x19e)];_0x294f87++){const _0xead9c0=_0x11208a[_0x294f87],_0x37f7a2=_0xead9c0[_0xead9c0[_0x5a43d4(0x19e)]-0x1];if(_0x3a12b9[_0x5a43d4(0x1e8)]>=_0x37f7a2[_0x5a43d4(0x185)]){_0xead9c0[_0x5a43d4(0xd5)](_0x3a12b9),_0x3a12b9[_0x5a43d4(0x129)]=_0x294f87,_0x41b88c=!![];break;}}!_0x41b88c&&(_0x11208a[_0x5a43d4(0xd5)]([_0x3a12b9]),_0x3a12b9['colIndex']=_0x11208a[_0x5a43d4(0x19e)]-0x1);}),_0x2881f1[_0x3a2fb1(0xb2)](_0x296caa=>{const _0x56c26f=_0x3a2fb1;let _0xd5fd2e=0x0;_0x2881f1[_0x56c26f(0xb2)](_0x521a4b=>{const _0x43081e=_0x56c26f;if(Math[_0x43081e(0x169)](_0x296caa[_0x43081e(0x1e8)],_0x521a4b[_0x43081e(0x1e8)])<Math[_0x43081e(0x127)](_0x296caa['end'],_0x521a4b['end'])){if(_0x521a4b[_0x43081e(0x129)]>_0xd5fd2e)_0xd5fd2e=_0x521a4b[_0x43081e(0x129)];}});const _0x17fbd8=_0xd5fd2e+0x1,_0x59a6be=0x64/_0x17fbd8,_0x1f654d=_0x296caa[_0x56c26f(0x129)]*_0x59a6be,_0xfa90b4=createEventEl(_0x296caa[_0x56c26f(0xc6)]);_0xfa90b4[_0x56c26f(0x17c)][_0x56c26f(0x168)]='calc('+_0x59a6be+'%\x20-\x204px)',_0xfa90b4['style']['left']='calc('+_0x1f654d+'%\x20+\x202px)',_0xfa90b4['style'][_0x56c26f(0xe2)]=0xa+_0x296caa[_0x56c26f(0x129)],_0x59a6be<0x55&&_0xfa90b4[_0x56c26f(0x120)][_0x56c26f(0x207)]('mini'),_0x26bdd5['appendChild'](_0xfa90b4);});}function createEventEl(_0x1726a4){const _0x507c89=a2_0xd5506b,[_0x49277c,_0x2f41ad]=_0x1726a4[_0x507c89(0x1e8)][_0x507c89(0x167)](':')[_0x507c89(0xe9)](Number),[_0x23d7dc,_0x5cc507]=_0x1726a4['end'][_0x507c89(0x167)](':')['map'](Number),_0x57926f=(_0x49277c*0x3c+_0x2f41ad)/0x3c*GRID_H,_0x37a9aa=(_0x23d7dc*0x3c+_0x5cc507-(_0x49277c*0x3c+_0x2f41ad))/0x3c*GRID_H,_0x11e792=document[_0x507c89(0x10e)](_0x507c89(0x11d)),_0x52013d=_0x1726a4[_0x507c89(0xfe)]===_0x507c89(0x1c1)?_0x507c89(0x1af):'';_0x11e792[_0x507c89(0x1b5)]=_0x507c89(0x192)+_0x52013d,_0x11e792[_0x507c89(0x17c)][_0x507c89(0xf1)]=_0x57926f+'px',_0x11e792['style'][_0x507c89(0x202)]=Math[_0x507c89(0x169)](_0x37a9aa,0x14)+'px';const _0x36f05f=clients[_0x507c89(0xb3)](_0x3928e3=>_0x1726a4[_0x507c89(0xf6)]&&String(_0x3928e3['id'])===String(_0x1726a4[_0x507c89(0xf6)])||_0x3928e3['name']===_0x1726a4[_0x507c89(0x19a)]),_0xaf08eb=_0x36f05f?_0x36f05f[_0x507c89(0xbd)]:_0x507c89(0x101);_0x11e792[_0x507c89(0x17c)][_0x507c89(0x208)]=_0xaf08eb,_0x11e792[_0x507c89(0x17c)][_0x507c89(0x201)]=hexToRgba(_0xaf08eb,0.85);let _0x279750='<div\x20class=\x22ev-title\x22>'+_0x1726a4['client']+'</div><div\x20class=\x22ev-time\x22>'+_0x1726a4[_0x507c89(0x1e8)]+_0x507c89(0x1a5)+_0x1726a4[_0x507c89(0x185)]+_0x507c89(0xb0);return _0x1726a4[_0x507c89(0x142)]&&(_0x279750+='<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>'),_0x1726a4[_0x507c89(0xfe)]===_0x507c89(0x1c1)&&(_0x279750+='<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>'),_0x11e792[_0x507c89(0x186)]=_0x279750,_0x11e792[_0x507c89(0x172)]=_0x591cae=>{const _0x244524=_0x507c89;_0x591cae[_0x244524(0xce)](),openEdit(_0x1726a4);},_0x11e792;}function attachLongPressHandler(_0x2b0707,_0x3167d5){const _0x5889f2=a2_0xd5506b;let _0x305207=0x0,_0x5db67c=null;const _0x4875d8=_0x5b5618=>{const _0x11f11d=a2_0x2ffa;if(_0x5b5618['target'][_0x11f11d(0x197)]('.event-card'))return;isScrolling=![],_0x305207=_0x5b5618[_0x11f11d(0x175)]?_0x5b5618['touches'][0x0][_0x11f11d(0x159)]:_0x5b5618[_0x11f11d(0x159)],_0x5db67c=setTimeout(()=>{const _0x1f6200=_0x11f11d;if(!isScrolling){navigator[_0x1f6200(0xb7)]?.(0x32);const _0x282ee2=_0x2b0707['getBoundingClientRect'](),_0x43bae1=Math[_0x1f6200(0xbf)]((_0x305207-_0x282ee2[_0x1f6200(0xf1)])/GRID_H);_0x3167d5[_0x1f6200(0x1a1)](_0x43bae1,0x0),openAddSession(_0x3167d5);}},0x1f4);},_0x362a13=()=>{isScrolling=!![],clearTimeout(_0x5db67c);},_0x363654=()=>{clearTimeout(_0x5db67c);};_0x2b0707['addEventListener'](_0x5889f2(0x1c2),_0x4875d8,{'passive':!![]}),_0x2b0707[_0x5889f2(0x1bf)](_0x5889f2(0xc2),_0x362a13,{'passive':!![]}),_0x2b0707[_0x5889f2(0x1bf)](_0x5889f2(0x193),_0x363654),_0x2b0707[_0x5889f2(0x1bf)](_0x5889f2(0x18e),_0x4875d8),_0x2b0707[_0x5889f2(0x1bf)](_0x5889f2(0x107),_0x362a13),_0x2b0707[_0x5889f2(0x1bf)](_0x5889f2(0x151),_0x363654);}function cancelLongPress(){}function a2_0x2443(){const _0x149383=['offClick','user','scrollLeft','href','today','update','3309240wPuLIv','pe-col-header','toastMessage','Save\x20settings\x20error:','none','startsWith','gridColumns','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','analyticsSheet','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','uc_settings_cancel_window','[Settings]\x20Cancel\x20window\x20set\x20to:','day-off-overlay\x20stripe-bg','all','10px\x2010px\x200\x200','btn-primary\x20btn-secondary','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','[Notify]\x20Network\x20Failed','rgba(100,100,100,0.5)','calendar','.day-column','querySelector','</div>','borderColor','forEach','find','inpRecurring','toFixed','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','vibrate','.day-col-header','deleted','save','getDay','173045MrDxuh','color','var(--acc-green)','floor','month','loadLocal','touchmove','.day-off-overlay','btn-status-toggle\x20undo-mode','complete','data','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','analyticsList','fetchFromServer','data-date','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','series','doWorkHours','stopPropagation','insertBefore','name','de-item','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','Telegram','toastTitle','push','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','getElementById','success',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','router.html','\x20–∏–∑\x20','[Notify]\x20Error:\x20Text\x20generation\x20failed','filter','inpStart','onClick','#fff','slice','zIndex','log','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','8GgDDVe','rgba(','#050505','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','map',':\x20Client\x20already\x20booked','valid','text/plain;charset=UTF-8','sessionSheet','seriesCountContainer','location','anStart','top','inpClient','btn-primary\x20btn-danger','px\x20-','23:59','clientId','block','<b>‚úÖ\x20','initDataUnsafe','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','inpNote','done','status','backgroundPosition','total','#0a84ff','100%','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','patternEditor','793620rXDlke','mousemove','mergeServerData','actionSheetOverlay','12gPaQcJ','now','pattern','getMinutes','createElement','getMonth','</b>\x0a\x0a','setDate','rangeEndDate','cancel','\x20days','offsetLeft','warning','charAt','10px','pe-cell\x20','parse','sid','single','div','inpSeriesCount','toast','classList','scrollWidth','as-button\x20danger','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','padStart','var(--acc-red)','saveLocally','min','626664DbbHuK','colIndex','sort','substr','doBusyHours','getHours','client-stat-card','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','syncBatch','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','timeLineBadge','var(--acc-orange)','custom','active','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','send_notification','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','daysHeaderTrack','checked','btn-status-toggle','rgba(255,\x20159,\x2010,\x200.3)','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','18TiYEHa','catch','error','getDate','seriesId','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','borderRadius','overlay','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','btnStatusToggle','create','search','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','uc_clients_v9','msg','btnDayToggle','dateStr','textContent','mouseup','stringify','disableVerticalSwipes','null','cancel_window','clientWidth','peGrid','rangesSheet','clientY','<span>','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','time-label','[API\x20','257238sjCOTU','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','random','Error\x20setting\x20color:','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','warn','getText','split','width','max','value','rangeEndTime','.period-switch\x20.p-btn','Local\x20Load\x20Error','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','rangeStartDate','recurringOptionContainer','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','onclick','patternInfoBox','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','touches','getAttribute','655361XPRebI','inpDate','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','clients','style','indexOf','uc_settings_v9','sheetDateSubtitle','toLocaleString','ranges','btnDelete','includes','dayOptionsSheet','end','innerHTML','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','getItem','setMonth','\x20‚Äî\x20','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','guest','mousedown','init_load','actionSheet','[Notify]\x20Error:\x20sessionData\x20is\x20null','event-card','touchend','as-button\x20danger\x20bold','getFullYear','[Notify]\x20Server\x20Response:','closest','setItem','flex','client','open','delete',':00</span>','length','[Notify]\x20Attempting\x20to\x20send:','anEnd','setHours','v9.0-BATCH-CALENDAR','from','rgba(255,\x2069,\x2058,\x200.3)','\x20-\x20','toUpperCase','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','then','day-col-header\x20','localeCompare','constructor','note','statLoadCard','\x20status-completed','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','T00:00:00','doEventsList','rangeStartTime','className','save_settings','pe-time-label','toast-notification\x20','toLocaleDateString','formatDate','undefined',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','strokeDashoffset','setBackgroundColor','addEventListener','doDateHeader','completed','touchstart','display','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','79733jFEgIR','querySelectorAll','off','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','–£–¥–∞–ª–µ–Ω–∏–µ','cancelled','exceptions','inpEnd','toString','asBtnOne','timeColumn','background','splice','blocked-range-part\x20stripe-bg','dayOptionsTitle','anTotalStats','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','long','asBtnSeries','asTitle',':00','week','scroll','uc_sessions_v9','ru-RU','anPercent','show','isArray','</span>\x20/\x20','sheetTitle','[Series]\x20Skipped\x20','(((.+)+)+)+$','BackButton','Local\x20Save\x20Error','day-column\x20','start','getTime','numeric','findIndex','appendChild','rgba(255,255,255,0.05)','remove','settingCancelWindow','header-','option','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','...','round','<div\x20class=\x22dch-day\x22>','json','settings','WebApp','entries','setAttribute','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','createDocumentFragment','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','globalTimeLine','backgroundColor','height','POST','matrixViewport','anDonutCircle','send','add','borderLeftColor','firstChild','data-day-idx','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>'];a2_0x2443=function(){return _0x149383;};return a2_0x2443();}function handleInfiniteScroll(){const _0x182ef4=a2_0xd5506b,_0x5f213e=document[_0x182ef4(0xd7)](_0x182ef4(0x204)),_0x3a282e=_0x5f213e[_0x182ef4(0x20e)],_0x80c6df=_0x5f213e[_0x182ef4(0x121)],_0x4465d8=_0x5f213e[_0x182ef4(0x156)];if(_0x80c6df-(_0x3a282e+_0x4465d8)<0x12c){const _0x5a85fa=endOffset;endOffset+=0xe,renderDayRange(_0x5a85fa+0x1,endOffset),reRenderBlocks();}if(_0x3a282e<0x12c){const _0x288dfb=startOffset;startOffset-=0xe,prependDays(startOffset,_0x288dfb-0x1),_0x5f213e['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x3831b0,_0x4d3b1f){const _0x2e3110=a2_0xd5506b,_0x42e956=document[_0x2e3110(0xd7)](_0x2e3110(0x139)),_0x28c402=document[_0x2e3110(0xd7)](_0x2e3110(0x218)),_0x12d332=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x53ee8f=new Date();_0x53ee8f[_0x2e3110(0x1a1)](0x0,0x0,0x0,0x0);const _0x3454a4=getLocalDateStr(new Date()),_0x4f60b5=document[_0x2e3110(0x1fe)](),_0x319668=document['createDocumentFragment']();for(let _0x1a9036=_0x3831b0;_0x1a9036<=_0x4d3b1f;_0x1a9036++){const _0x29b7ab=new Date(_0x53ee8f);_0x29b7ab[_0x2e3110(0x111)](_0x29b7ab[_0x2e3110(0x141)]()+_0x1a9036);const _0x4f22fd=getLocalDateStr(_0x29b7ab);let _0x20d3c3=_0x29b7ab[_0x2e3110(0xbb)]()-0x1;if(_0x20d3c3===-0x1)_0x20d3c3=0x6;const _0x46bb2a=_0x4f22fd===_0x3454a4,_0x50a549=document[_0x2e3110(0x10e)](_0x2e3110(0x11d));_0x50a549['className']=_0x2e3110(0x1aa)+(_0x46bb2a?_0x2e3110(0x210):''),_0x50a549['id']=_0x2e3110(0x1f0)+_0x4f22fd,_0x50a549[_0x2e3110(0x1fb)](_0x2e3110(0xca),_0x4f22fd),_0x50a549[_0x2e3110(0x186)]=_0x2e3110(0x1f6)+_0x12d332[_0x20d3c3]+'</div><div\x20class=\x22dch-num\x22>'+_0x29b7ab['getDate']()+_0x2e3110(0x1c4)+_0x4f22fd+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x50a549[_0x2e3110(0x172)]=()=>openDayOptions(_0x4f22fd,_0x12d332[_0x20d3c3]+'\x20'+_0x29b7ab[_0x2e3110(0x141)]()),_0x4f60b5[_0x2e3110(0x1ec)](_0x50a549);const _0x161415=document[_0x2e3110(0x10e)]('div');_0x161415[_0x2e3110(0x1b5)]=_0x2e3110(0x1e7)+(_0x46bb2a?'today':''),_0x161415['setAttribute'](_0x2e3110(0xca),_0x4f22fd),_0x161415[_0x2e3110(0x1fb)]('data-day-idx',_0x20d3c3),renderEventsForColumn(_0x161415,_0x4f22fd,_0x20d3c3),attachLongPressHandler(_0x161415,_0x29b7ab),_0x319668[_0x2e3110(0x1ec)](_0x161415),updateDayStats(_0x4f22fd);}_0x42e956[_0x2e3110(0xcf)](_0x4f60b5,_0x42e956[_0x2e3110(0x209)]),_0x28c402[_0x2e3110(0xcf)](_0x319668,_0x28c402[_0x2e3110(0xaf)](_0x2e3110(0xae)));}function validateAppointment(_0x539f65,_0x7653e4,_0x473f20,_0x485aad,_0x4dc006){const _0x4ea825=a2_0xd5506b,[_0x526859,_0x2c1776]=_0x7653e4['split'](':')[_0x4ea825(0xe9)](Number),[_0x2b2c5b,_0x53b23a]=_0x473f20[_0x4ea825(0x167)](':')[_0x4ea825(0xe9)](Number),_0x4e9ff9=_0x526859*0x3c+_0x2c1776,_0x38d8bc=_0x2b2c5b*0x3c+_0x53b23a,_0x477198=String(_0x4dc006);let _0x5aa5d3=![],_0x597a9e='';for(let _0x27d425 of sessions){if(_0x27d425[_0x4ea825(0x14f)]!==_0x539f65)continue;if(_0x27d425[_0x4ea825(0xfe)]===_0x4ea825(0x1ca))continue;if(_0x485aad&&String(_0x27d425['id'])===String(_0x485aad))continue;const [_0x55f11e,_0x35b6fe]=_0x27d425[_0x4ea825(0x1e8)][_0x4ea825(0x167)](':')[_0x4ea825(0xe9)](Number),[_0x50895d,_0x558420]=_0x27d425['end'][_0x4ea825(0x167)](':')['map'](Number),_0x20c1d5=_0x55f11e*0x3c+_0x35b6fe,_0x23d3ca=_0x50895d*0x3c+_0x558420;if(Math[_0x4ea825(0x169)](_0x4e9ff9,_0x20c1d5)<Math[_0x4ea825(0x127)](_0x38d8bc,_0x23d3ca)){if(_0x27d425['clientId']&&String(_0x27d425['clientId'])===_0x477198)return{'valid':![],'msg':_0x4ea825(0x131)+_0x27d425[_0x4ea825(0x19a)]+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x5aa5d3=!![],_0x597a9e=_0x27d425[_0x4ea825(0x19a)];}}if(_0x5aa5d3)return{'valid':!![],'warning':_0x4ea825(0x16e)+_0x597a9e};return{'valid':!![]};}function updateDateDisplay(){const _0x497ac7=a2_0xd5506b,_0x35998d=document[_0x497ac7(0xd7)](_0x497ac7(0x178))['value'],_0x302966=document['getElementById'](_0x497ac7(0x17f));if(!_0x35998d){_0x302966[_0x497ac7(0x150)]='';return;}const [_0x2fb572,_0x5d9a16,_0x379fa]=_0x35998d['split']('-')[_0x497ac7(0xe9)](Number),_0x3b5920=new Date(_0x2fb572,_0x5d9a16-0x1,_0x379fa),_0x581e6b={'weekday':_0x497ac7(0x1d6),'day':_0x497ac7(0x1ea),'month':_0x497ac7(0x1d6),'year':_0x497ac7(0x1ea)};let _0x45f778=_0x3b5920[_0x497ac7(0x1b9)]('ru-RU',_0x581e6b);_0x45f778=_0x45f778['charAt'](0x0)[_0x497ac7(0x1a6)]()+_0x45f778['slice'](0x1),_0x302966[_0x497ac7(0x150)]=_0x45f778;}function autoSetEndTime(){const _0x15e55b=a2_0xd5506b,_0x7561d5=document[_0x15e55b(0xd7)](_0x15e55b(0xde))[_0x15e55b(0x16a)];if(!_0x7561d5)return;const [_0x3a1b9d,_0xc19146]=_0x7561d5[_0x15e55b(0x167)](':')['map'](Number);let _0x4672fd=_0x3a1b9d+0x1;if(_0x4672fd>0x17)_0x4672fd=0x0;const _0xb95a0b=String(_0x4672fd)[_0x15e55b(0x124)](0x2,'0')+':'+String(_0xc19146)['padStart'](0x2,'0');document[_0x15e55b(0xd7)](_0x15e55b(0x1cc))[_0x15e55b(0x16a)]=_0xb95a0b;}function populateClientSelect(){const _0x5528f9=a2_0xd5506b,_0x470a42=document[_0x5528f9(0xd7)]('inpClient');_0x470a42[_0x5528f9(0x186)]='';if(clients[_0x5528f9(0x19e)]===0x0){const _0x4cc431=document[_0x5528f9(0x10e)]('option');_0x4cc431['text']='–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤',_0x470a42[_0x5528f9(0x1ec)](_0x4cc431);return;}clients[_0x5528f9(0xb2)](_0x1b92ff=>{const _0x5c3843=_0x5528f9,_0xc3da58=document['createElement'](_0x5c3843(0x1f1));_0xc3da58[_0x5c3843(0x16a)]=_0x1b92ff[_0x5c3843(0xd0)],_0xc3da58[_0x5c3843(0x150)]=_0x1b92ff[_0x5c3843(0xd0)],_0x470a42[_0x5c3843(0x1ec)](_0xc3da58);});}function openActionSheet(_0x481384){const _0x405515=a2_0xd5506b,_0x2878a6=document['getElementById'](_0x405515(0x190)),_0x3c0ff7=document['getElementById'](_0x405515(0x109)),_0x210c1f=document[_0x405515(0xd7)](_0x405515(0x1d8)),_0x3188d7=document[_0x405515(0xd7)](_0x405515(0x1ce)),_0x5c740f=document[_0x405515(0xd7)](_0x405515(0x1d7));_0x3c0ff7[_0x405515(0x120)][_0x405515(0x207)](_0x405515(0x135)),_0x2878a6[_0x405515(0x120)][_0x405515(0x207)](_0x405515(0x19b));if(_0x481384===_0x405515(0xba))_0x210c1f[_0x405515(0x150)]='–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏',_0x3188d7[_0x405515(0x150)]='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x3188d7[_0x405515(0x172)]=()=>{closeActionSheet(),updateSeriesBatch('single',tempSessionData);},_0x5c740f[_0x405515(0x150)]=_0x405515(0x18c),_0x5c740f['onclick']=()=>{closeActionSheet(),updateSeriesBatch('series',tempSessionData);};else _0x481384===_0x405515(0x19c)&&(_0x210c1f[_0x405515(0x150)]=_0x405515(0x1c9),_0x3188d7[_0x405515(0x150)]='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x3188d7[_0x405515(0x1b5)]=_0x405515(0x122),_0x3188d7[_0x405515(0x172)]=()=>{const _0xa3b8c5=_0x405515;closeActionSheet(),commitDelete('single',sessions[_0xa3b8c5(0xb3)](_0x279165=>_0x279165['id']===editingId));},_0x5c740f[_0x405515(0x150)]=_0x405515(0x18c),_0x5c740f[_0x405515(0x1b5)]=_0x405515(0x194),_0x5c740f[_0x405515(0x172)]=()=>{const _0x3a6902=_0x405515;closeActionSheet(),commitDelete(_0x3a6902(0xcc),sessions[_0x3a6902(0xb3)](_0x22cbda=>_0x22cbda['id']===editingId));});}function closeActionSheet(){const _0x915c2b=a2_0xd5506b;document[_0x915c2b(0xd7)]('actionSheet')[_0x915c2b(0x120)]['remove'](_0x915c2b(0x19b)),document[_0x915c2b(0xd7)](_0x915c2b(0x109))[_0x915c2b(0x120)][_0x915c2b(0x1ee)](_0x915c2b(0x135));}function openSettings(){openSheet('settingsSheet');}function saveCoachSettings(){const _0x22ba6d=a2_0xd5506b,_0x2989c7=document['getElementById'](_0x22ba6d(0x1ef))['value'];localStorage[_0x22ba6d(0x198)](_0x22ba6d(0xa4),_0x2989c7),console['log'](_0x22ba6d(0xa5),_0x2989c7),DataManager['fetchFromServer'](_0x22ba6d(0x1b6),{'settings':{'cancel_window':_0x2989c7}})[_0x22ba6d(0x13f)](_0x4962ff=>{const _0x4da1a8=_0x22ba6d;console[_0x4da1a8(0x140)](_0x4da1a8(0x215),_0x4962ff),showToast(_0x4da1a8(0x171),![]);});}function loadCoachSettings(){const _0x4a8575=a2_0xd5506b,_0x515f42=localStorage[_0x4a8575(0x189)](_0x4a8575(0xa4));_0x515f42&&(document[_0x4a8575(0xd7)](_0x4a8575(0x1ef))[_0x4a8575(0x16a)]=_0x515f42);}function openRangesSheet(){const _0x14cd59=a2_0xd5506b;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x14cd59(0x158));}function addRange(){const _0x261fe9=a2_0xd5506b,_0x14cc41=document[_0x261fe9(0xd7)](_0x261fe9(0x16f))[_0x261fe9(0x16a)],_0x4e8d16=document[_0x261fe9(0xd7)](_0x261fe9(0x1b4))[_0x261fe9(0x16a)],_0xf6a0a3=document['getElementById'](_0x261fe9(0x112))[_0x261fe9(0x16a)],_0xd13c62=document[_0x261fe9(0xd7)]('rangeEndTime')[_0x261fe9(0x16a)];if(!_0x14cc41||!_0x4e8d16||!_0xf6a0a3||!_0xd13c62)return alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è');const _0x18f994=_0x14cc41+'T'+_0x4e8d16,_0x2214e5=_0xf6a0a3+'T'+_0xd13c62;if(_0x18f994>=_0x2214e5)return alert('–û—à–∏–±–∫–∞\x20–¥–∞—Ç');specialRanges[_0x261fe9(0xd5)]({'start':_0x18f994,'end':_0x2214e5}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x261fe9(0x126)](),DataManager[_0x261fe9(0xc9)]('save_settings',{'settings':{'ranges':specialRanges}});}function deleteRange(_0x140573){const _0x1f2970=a2_0xd5506b;specialRanges['splice'](_0x140573,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x1f2970(0x126)](),DataManager[_0x1f2970(0xc9)](_0x1f2970(0x1b6),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x513bb0=a2_0xd5506b;document[_0x513bb0(0xd7)](_0x513bb0(0x16f))[_0x513bb0(0x16a)]='',document[_0x513bb0(0xd7)](_0x513bb0(0x1b4))[_0x513bb0(0x16a)]='00:00',document[_0x513bb0(0xd7)]('rangeEndDate')[_0x513bb0(0x16a)]='',document[_0x513bb0(0xd7)](_0x513bb0(0x16b))[_0x513bb0(0x16a)]=_0x513bb0(0xf5);}function renderRangesList(){const _0x2ba69c=a2_0xd5506b,_0x14d7b0=document[_0x2ba69c(0xd7)]('rangesList');_0x14d7b0[_0x2ba69c(0x186)]='';if(!specialRanges[_0x2ba69c(0x19e)]){_0x14d7b0[_0x2ba69c(0x186)]='<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>';return;}specialRanges[_0x2ba69c(0xb2)]((_0x1580a1,_0x589ed2)=>{const _0x57b0f4=_0x2ba69c,_0x7e6fd8=document['createElement'](_0x57b0f4(0x11d));_0x7e6fd8['className']='range-item';const _0x32b871=_0x26839f=>{const _0x1f1caf=_0x57b0f4,_0x41efb8=new Date(_0x26839f);return _0x41efb8[_0x1f1caf(0x141)]()+'.'+String(_0x41efb8['getMonth']()+0x1)[_0x1f1caf(0x124)](0x2,'0')+'\x20'+String(_0x41efb8[_0x1f1caf(0x12d)]())[_0x1f1caf(0x124)](0x2,'0')+':'+String(_0x41efb8[_0x1f1caf(0x10d)]())[_0x1f1caf(0x124)](0x2,'0');};_0x7e6fd8['innerHTML']=_0x57b0f4(0xe8)+_0x32b871(_0x1580a1[_0x57b0f4(0x1e8)])+_0x57b0f4(0x18b)+_0x32b871(_0x1580a1['end'])+_0x57b0f4(0x1b0)+_0x589ed2+_0x57b0f4(0xd9),_0x14d7b0['appendChild'](_0x7e6fd8);});}function scrollToToday(){const _0x5c1c63=a2_0xd5506b,_0x435801=getLocalDateStr(new Date()),_0x57961b=document[_0x5c1c63(0xd7)](_0x5c1c63(0x1f0)+_0x435801),_0x2b450b=document[_0x5c1c63(0xd7)](_0x5c1c63(0x204));if(_0x57961b&&_0x2b450b){const _0x5ebe41=_0x2b450b[_0x5c1c63(0x156)],_0x532907=_0x57961b['offsetLeft'],_0x29e5a0=_0x57961b['offsetWidth'];_0x2b450b['scrollLeft']=_0x532907-_0x5ebe41/0x2+_0x29e5a0/0x2,_0x2b450b['scrollTop']=0x9*GRID_H;}}function onScroll(){const _0x29a4ae=a2_0xd5506b,_0x4f425f=document[_0x29a4ae(0xd7)](_0x29a4ae(0x204)),_0x35736e=document[_0x29a4ae(0x1c6)](_0x29a4ae(0xb8));for(let _0x1f337c of _0x35736e)if(_0x1f337c['offsetLeft']>=_0x4f425f[_0x29a4ae(0x20e)]){const _0x584bf1=new Date(_0x1f337c['getAttribute']('data-date'));document[_0x29a4ae(0xd7)]('headerMonth')[_0x29a4ae(0x150)]=_0x584bf1[_0x29a4ae(0x180)]('ru',{'month':'long'})[_0x29a4ae(0x1a6)]()+'\x20'+_0x584bf1[_0x29a4ae(0x195)]();break;}}function showToast(_0x46f8e2,_0x1779ce=![]){const _0x3ccc02=a2_0xd5506b,_0x37befa=document['getElementById'](_0x3ccc02(0x11f));_0x37befa[_0x3ccc02(0x1b5)]=_0x3ccc02(0x1b8)+(_0x1779ce?_0x3ccc02(0xd8):''),document[_0x3ccc02(0xd7)](_0x3ccc02(0xd4))['textContent']=_0x1779ce?'–£—Å–ø–µ—à–Ω–æ':'–ò–Ω—Ñ–æ',document['getElementById'](_0x3ccc02(0x214))[_0x3ccc02(0x150)]=_0x46f8e2,_0x37befa['classList'][_0x3ccc02(0x207)](_0x3ccc02(0x1df)),setTimeout(()=>{const _0x5386b5=_0x3ccc02;_0x37befa[_0x5386b5(0x120)][_0x5386b5(0x1ee)]('show');},0xbb8);}function openDayOptions(_0x3c10e7,_0x2e70a1){const _0xaa7b3e=a2_0xd5506b;selectedDayForOptions=_0x3c10e7,document[_0xaa7b3e(0xd7)](_0xaa7b3e(0x1d3))[_0xaa7b3e(0x150)]=_0x2e70a1,openSheet(_0xaa7b3e(0x184));}function toggleDayOff(){const _0x41c832=a2_0xd5506b;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]='off',reRenderBlocks(),closeAllSheets(),DataManager[_0x41c832(0x126)](),DataManager[_0x41c832(0xc9)](_0x41c832(0x1b6),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x4bd6cd=a2_0xd5506b;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x4bd6cd(0x126)](),DataManager['fetchFromServer']('save_settings',{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x521940){const _0x917dda=a2_0xd5506b;document[_0x917dda(0xd7)](_0x917dda(0x146))['classList'][_0x917dda(0x207)](_0x917dda(0x135)),document[_0x917dda(0xd7)](_0x521940)[_0x917dda(0x120)][_0x917dda(0x207)](_0x917dda(0x19b));}function closeAllSheets(){const _0xf43e8c=a2_0xd5506b;document[_0xf43e8c(0xd7)](_0xf43e8c(0x146))[_0xf43e8c(0x120)]['remove'](_0xf43e8c(0x135)),document[_0xf43e8c(0x1c6)]('.sheet')[_0xf43e8c(0xb2)](_0x58d7bf=>_0x58d7bf[_0xf43e8c(0x120)][_0xf43e8c(0x1ee)](_0xf43e8c(0x19b)));}function openPatternEditor(){const _0xed39ee=a2_0xd5506b;closeAllSheets(),document[_0xed39ee(0xd7)](_0xed39ee(0x105))[_0xed39ee(0x120)][_0xed39ee(0x207)](_0xed39ee(0x19b)),renderPatternEditor();}function closePatternEditor(){const _0x488399=a2_0xd5506b;document['getElementById']('patternEditor')[_0x488399(0x120)][_0x488399(0x1ee)](_0x488399(0x19b));}function savePattern(){const _0xc6e0eb=a2_0xd5506b;document[_0xc6e0eb(0xd7)](_0xc6e0eb(0x105))[_0xc6e0eb(0x120)][_0xc6e0eb(0x1ee)]('open'),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0xc6e0eb(0xc9)](_0xc6e0eb(0x1b6),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x1f7c53=a2_0xd5506b,_0xf38dfb=document[_0x1f7c53(0xd7)](_0x1f7c53(0x157));_0xf38dfb['innerHTML']='';const _0x1be52a=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x24bc55=document['createElement']('div');_0x24bc55['className']='pe-corner',_0xf38dfb[_0x1f7c53(0x1ec)](_0x24bc55),_0x1be52a[_0x1f7c53(0xb2)]((_0x1e87ef,_0x5f5203)=>{const _0x1cebe1=_0x1f7c53,_0xa4287b=document[_0x1cebe1(0x10e)](_0x1cebe1(0x11d));_0xa4287b[_0x1cebe1(0x1b5)]=_0x1cebe1(0x213),_0xa4287b[_0x1cebe1(0x186)]=_0x1e87ef+_0x1cebe1(0xcb),_0xa4287b[_0x1cebe1(0x172)]=()=>toggleColPattern(_0x5f5203),_0xf38dfb[_0x1cebe1(0x1ec)](_0xa4287b);});for(let _0x47c230=0x0;_0x47c230<0x18;_0x47c230++){const _0x3f7074=document['createElement'](_0x1f7c53(0x11d));_0x3f7074[_0x1f7c53(0x1b5)]=_0x1f7c53(0x1b7),_0x3f7074['innerHTML']='<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>'+String(_0x47c230)[_0x1f7c53(0x124)](0x2,'0')+_0x1f7c53(0x1d9),_0x3f7074[_0x1f7c53(0x172)]=()=>toggleRowPattern(_0x47c230),_0xf38dfb[_0x1f7c53(0x1ec)](_0x3f7074);for(let _0x3da775=0x0;_0x3da775<0x7;_0x3da775++){const _0x2b4bcb=document[_0x1f7c53(0x10e)](_0x1f7c53(0x11d)),_0x5f2e4b=(availabilityPattern[_0x3da775]||[])['includes'](_0x47c230),_0x5ce283=!_0x5f2e4b;_0x2b4bcb[_0x1f7c53(0x1b5)]=_0x1f7c53(0x119)+(_0x5ce283?_0x1f7c53(0x135):''),_0x2b4bcb[_0x1f7c53(0x172)]=()=>toggleSinglePattern(_0x3da775,_0x47c230),_0xf38dfb['appendChild'](_0x2b4bcb);}}}function toggleSinglePattern(_0x5ae31a,_0x2b6ebe){const _0x36f37d=a2_0xd5506b;if(!availabilityPattern[_0x5ae31a])availabilityPattern[_0x5ae31a]=[];const _0x3bc0b0=availabilityPattern[_0x5ae31a],_0x15636b=_0x3bc0b0[_0x36f37d(0x17d)](_0x2b6ebe);_0x15636b===-0x1?_0x3bc0b0[_0x36f37d(0xd5)](_0x2b6ebe):_0x3bc0b0[_0x36f37d(0x1d1)](_0x15636b,0x1),renderPatternEditor();}function toggleColPattern(_0x17b3e9){const _0x43e202=a2_0xd5506b;if(!availabilityPattern[_0x17b3e9])availabilityPattern[_0x17b3e9]=[];const _0x560872=availabilityPattern[_0x17b3e9];_0x560872[_0x43e202(0x19e)]===0x0?availabilityPattern[_0x17b3e9]=Array[_0x43e202(0x1a3)]({'length':0x18},(_0x51ca8e,_0x43b3ad)=>_0x43b3ad):availabilityPattern[_0x17b3e9]=[],renderPatternEditor();}function toggleRowPattern(_0x148bb3){const _0x3b9ddc=a2_0xd5506b;let _0x387640=!![];for(let _0x2bdfa0=0x0;_0x2bdfa0<0x7;_0x2bdfa0++){if((availabilityPattern[_0x2bdfa0]||[])[_0x3b9ddc(0x183)](_0x148bb3)){_0x387640=![];break;}}for(let _0x1ca8bc=0x0;_0x1ca8bc<0x7;_0x1ca8bc++){if(!availabilityPattern[_0x1ca8bc])availabilityPattern[_0x1ca8bc]=[];const _0x557cc9=availabilityPattern[_0x1ca8bc][_0x3b9ddc(0x17d)](_0x148bb3);if(_0x387640){if(_0x557cc9===-0x1)availabilityPattern[_0x1ca8bc][_0x3b9ddc(0xd5)](_0x148bb3);}else{if(_0x557cc9!==-0x1)availabilityPattern[_0x1ca8bc]['splice'](_0x557cc9,0x1);}}renderPatternEditor();}function renderPCol(_0x21f72b,_0x469db7){const _0x4f9fb6=a2_0xd5506b;_0x21f72b[_0x4f9fb6(0x186)]='';const _0x5bbb35=Math[_0x4f9fb6(0x1f5)](_0x21f72b[_0x4f9fb6(0x115)]);(availabilityPattern[_0x469db7]||[])['forEach'](_0x4da85b=>{const _0x483d64=_0x4f9fb6,_0x197f03=document[_0x483d64(0x10e)](_0x483d64(0x11d));_0x197f03[_0x483d64(0x1b5)]='blocked-slot\x20stripe-bg';const _0x3ac78a=_0x4da85b*GRID_H;_0x197f03['style']['top']=_0x3ac78a+'px',_0x197f03[_0x483d64(0x17c)][_0x483d64(0xff)]='-'+_0x5bbb35+_0x483d64(0xf4)+_0x3ac78a+'px',_0x197f03['onclick']=_0x5bed7b=>{const _0x4b7919=_0x483d64;_0x5bed7b[_0x4b7919(0xce)](),toggleSinglePattern(_0x469db7,_0x4da85b);},_0x21f72b[_0x483d64(0x1ec)](_0x197f03);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x353d31=a2_0xd5506b,_0x1a3ac0=new Date(),_0x2ba587=document[_0x353d31(0xd7)](_0x353d31(0x200)),_0x3d742d=document[_0x353d31(0xd7)]('timeLineBadge'),_0x2100f1=(_0x1a3ac0[_0x353d31(0x12d)]()*0x3c+_0x1a3ac0[_0x353d31(0x10d)]())/0x3c*GRID_H;_0x2ba587[_0x353d31(0x17c)][_0x353d31(0xf1)]=_0x2100f1+'px',_0x2ba587[_0x353d31(0x17c)][_0x353d31(0x1c3)]=_0x353d31(0xf7),_0x3d742d[_0x353d31(0x150)]=String(_0x1a3ac0['getHours']())['padStart'](0x2,'0')+':'+String(_0x1a3ac0[_0x353d31(0x10d)]())[_0x353d31(0x124)](0x2,'0'),_0x3d742d[_0x353d31(0x17c)][_0x353d31(0x1c3)]=_0x353d31(0xf7),_0x3d742d[_0x353d31(0x17c)]['top']=_0x2100f1+'px';}document[a2_0xd5506b(0x1bf)]('DOMContentLoaded',init);function openDayOptions(_0x78b52c){const _0x16e28a=a2_0xd5506b;selectedDayForOptions=_0x78b52c;const _0x4daf76=new Date(_0x78b52c),_0x249036={'weekday':_0x16e28a(0x1d6),'day':_0x16e28a(0x1ea),'month':'long','year':_0x16e28a(0x1ea)},_0xfb990c=_0x4daf76['toLocaleDateString'](_0x16e28a(0x1dd),_0x249036);document['getElementById'](_0x16e28a(0x1c0))[_0x16e28a(0x150)]=_0xfb990c['charAt'](0x0)[_0x16e28a(0x1a6)]()+_0xfb990c[_0x16e28a(0xe1)](0x1);let _0x2ec5ae=_0x4daf76[_0x16e28a(0xbb)]()-0x1;if(_0x2ec5ae===-0x1)_0x2ec5ae=0x6;const _0x566de2=availabilityPattern[_0x2ec5ae]||[],_0x490f0c=0x18-_0x566de2['length'],_0x31e3e1=_0x490f0c*0x3c,_0x345fc4=sessions['filter'](_0x16b99e=>_0x16b99e[_0x16e28a(0x14f)]===_0x78b52c&&_0x16b99e[_0x16e28a(0xfe)]!==_0x16e28a(0x1ca));let _0x2c13df=_0x345fc4['map'](_0x5d5025=>{const _0x3053dc=_0x16e28a,[_0x5a4ec2,_0x2697fe]=_0x5d5025[_0x3053dc(0x1e8)][_0x3053dc(0x167)](':')['map'](Number),[_0x310034,_0x39bad8]=_0x5d5025[_0x3053dc(0x185)][_0x3053dc(0x167)](':')['map'](Number);return[_0x5a4ec2*0x3c+_0x2697fe,_0x310034*0x3c+_0x39bad8];});_0x2c13df[_0x16e28a(0x12a)]((_0x3a0741,_0x258a72)=>_0x3a0741[0x0]-_0x258a72[0x0]);let _0x3edb7a=[];if(_0x2c13df[_0x16e28a(0x19e)]>0x0){let _0x20f6e6=_0x2c13df[0x0];for(let _0x41e62d=0x1;_0x41e62d<_0x2c13df[_0x16e28a(0x19e)];_0x41e62d++){_0x2c13df[_0x41e62d][0x0]<_0x20f6e6[0x1]?_0x20f6e6[0x1]=Math[_0x16e28a(0x169)](_0x20f6e6[0x1],_0x2c13df[_0x41e62d][0x1]):(_0x3edb7a[_0x16e28a(0xd5)](_0x20f6e6),_0x20f6e6=_0x2c13df[_0x41e62d]);}_0x3edb7a[_0x16e28a(0xd5)](_0x20f6e6);}let _0x3f97af=0x0;_0x3edb7a[_0x16e28a(0xb2)](_0xbdf41b=>_0x3f97af+=_0xbdf41b[0x1]-_0xbdf41b[0x0]),document[_0x16e28a(0xd7)](_0x16e28a(0xcd))['textContent']=formatMinsToHrs(_0x31e3e1),document['getElementById'](_0x16e28a(0x12c))['textContent']=formatMinsToHrs(_0x3f97af);const _0x2265d9=_0x31e3e1>0x0?Math[_0x16e28a(0x1f5)](_0x3f97af/_0x31e3e1*0x64):0x0,_0x44ccdb=document[_0x16e28a(0xd7)]('doLoadPercent');_0x44ccdb[_0x16e28a(0x150)]=_0x2265d9+'%';const _0x2222b5=document['getElementById'](_0x16e28a(0x1ae));if(_0x2265d9>0x64)_0x44ccdb[_0x16e28a(0x17c)][_0x16e28a(0xbd)]=_0x16e28a(0x125),_0x2222b5[_0x16e28a(0x17c)][_0x16e28a(0xb1)]=_0x16e28a(0x1a4);else _0x2265d9>0x50?(_0x44ccdb[_0x16e28a(0x17c)][_0x16e28a(0xbd)]=_0x16e28a(0x133),_0x2222b5[_0x16e28a(0x17c)]['borderColor']=_0x16e28a(0x13c)):(_0x44ccdb[_0x16e28a(0x17c)][_0x16e28a(0xbd)]=_0x16e28a(0xbe),_0x2222b5['style']['borderColor']=_0x16e28a(0x1ed));const _0x3a28fd=document[_0x16e28a(0xd7)](_0x16e28a(0x1b3));_0x3a28fd['innerHTML']='';_0x345fc4['length']===0x0?_0x3a28fd[_0x16e28a(0x186)]=_0x16e28a(0x136):(_0x345fc4[_0x16e28a(0x12a)]((_0x1df824,_0xd9b09e)=>_0x1df824[_0x16e28a(0x1e8)][_0x16e28a(0x1ab)](_0xd9b09e[_0x16e28a(0x1e8)])),_0x345fc4['forEach'](_0x340c13=>{const _0x1c3270=_0x16e28a,_0xfe02df=clients[_0x1c3270(0xb3)](_0x37446a=>_0x37446a['name']===_0x340c13['client']),_0x44eb8f=_0xfe02df?_0xfe02df[_0x1c3270(0xbd)]:'#fff',_0x4eb613=_0x340c13[_0x1c3270(0xfe)]===_0x1c3270(0x1c1),_0x4a6b25=_0x4eb613?_0x1c3270(0x20b):'',_0x5b5cba=document[_0x1c3270(0x10e)](_0x1c3270(0x11d));_0x5b5cba[_0x1c3270(0x1b5)]=_0x1c3270(0xd1),_0x5b5cba[_0x1c3270(0x17c)][_0x1c3270(0x208)]=_0x44eb8f,_0x5b5cba[_0x1c3270(0x186)]=_0x1c3270(0x187)+_0x340c13['start']+_0x1c3270(0x1a5)+_0x340c13[_0x1c3270(0x185)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x340c13[_0x1c3270(0x19a)]+_0x1c3270(0x144)+_0x4a6b25+_0x1c3270(0x12f),_0x3a28fd['appendChild'](_0x5b5cba);}));const _0x1c7347=document[_0x16e28a(0xd7)](_0x16e28a(0x14e)),_0x54acf6=dateExceptions[_0x78b52c]===_0x16e28a(0x1c7);_0x54acf6?(_0x1c7347['textContent']=_0x16e28a(0x160),_0x1c7347[_0x16e28a(0x1b5)]=_0x16e28a(0xa9),_0x1c7347[_0x16e28a(0x17c)][_0x16e28a(0xbd)]=_0x16e28a(0xbe),_0x1c7347['style'][_0x16e28a(0x1d0)]='rgba(48,\x20209,\x2088,\x200.15)'):(_0x1c7347['textContent']=_0x16e28a(0x1a8),_0x1c7347[_0x16e28a(0x1b5)]=_0x16e28a(0xf3),_0x1c7347[_0x16e28a(0x17c)]['color']='var(--acc-red)',_0x1c7347['style'][_0x16e28a(0x1d0)]='rgba(255,\x2069,\x2058,\x200.15)'),openSheet(_0x16e28a(0x184));}let currentAnPeriod=a2_0xd5506b(0x1da);function openAnalytics(){const _0x2517a5=a2_0xd5506b,_0x146a01=document[_0x2517a5(0xaf)]('.period-switch\x20.p-btn');setAnalyticsPeriod('week',_0x146a01),closeAllSheets(),openSheet(_0x2517a5(0xa2));}function setAnalyticsPeriod(_0x2d49e2,_0x2723a1){const _0x4d1434=a2_0xd5506b;currentAnPeriod=_0x2d49e2,document[_0x4d1434(0x1c6)](_0x4d1434(0x16c))[_0x4d1434(0xb2)](_0xa53b15=>_0xa53b15['classList'][_0x4d1434(0x1ee)](_0x4d1434(0x135)));if(_0x2723a1)_0x2723a1['classList'][_0x4d1434(0x207)]('active');const _0x1a51a8=document[_0x4d1434(0xd7)]('anCustomDates');_0x1a51a8[_0x4d1434(0x17c)]['display']=_0x2d49e2===_0x4d1434(0x134)?_0x4d1434(0x199):_0x4d1434(0x216);const _0x489340=new Date();let _0x204cd0=new Date(),_0x4a68b8=new Date();if(_0x2d49e2===_0x4d1434(0x1da))_0x204cd0=getStartOfWeek(_0x489340),_0x4a68b8=new Date(_0x204cd0),_0x4a68b8[_0x4d1434(0x111)](_0x4a68b8[_0x4d1434(0x141)]()+0x6);else{if(_0x2d49e2===_0x4d1434(0xc0))_0x204cd0=new Date(_0x489340[_0x4d1434(0x195)](),_0x489340['getMonth'](),0x1),_0x4a68b8=new Date(_0x489340[_0x4d1434(0x195)](),_0x489340[_0x4d1434(0x10f)]()+0x1,0x0);else{!document[_0x4d1434(0xd7)](_0x4d1434(0xf0))['value']&&(document[_0x4d1434(0xd7)](_0x4d1434(0xf0))[_0x4d1434(0x16a)]=getLocalDateStr(_0x489340),document['getElementById']('anEnd')[_0x4d1434(0x16a)]=getLocalDateStr(_0x489340));refreshAnalytics();return;}}document[_0x4d1434(0xd7)]('anStart')[_0x4d1434(0x16a)]=getLocalDateStr(_0x204cd0),document[_0x4d1434(0xd7)](_0x4d1434(0x1a0))[_0x4d1434(0x16a)]=getLocalDateStr(_0x4a68b8),refreshAnalytics();}function refreshAnalytics(){const _0x1e5fe9=a2_0xd5506b,_0x3ec85f=document[_0x1e5fe9(0xd7)](_0x1e5fe9(0xf0))['value'],_0x2f669b=document['getElementById'](_0x1e5fe9(0x1a0))[_0x1e5fe9(0x16a)];if(!_0x3ec85f||!_0x2f669b)return;const _0x58cbeb=sessions['filter'](_0x5f2a45=>_0x5f2a45[_0x1e5fe9(0x14f)]>=_0x3ec85f&&_0x5f2a45[_0x1e5fe9(0x14f)]<=_0x2f669b&&_0x5f2a45[_0x1e5fe9(0xfe)]!==_0x1e5fe9(0x1ca)),_0x13e959=_0x58cbeb[_0x1e5fe9(0x19e)],_0x113f5d=_0x58cbeb['filter'](_0x53b4f6=>_0x53b4f6[_0x1e5fe9(0xfe)]===_0x1e5fe9(0x1c1))[_0x1e5fe9(0x19e)],_0x42c45a=_0x13e959>0x0?Math[_0x1e5fe9(0x1f5)](_0x113f5d/_0x13e959*0x64):0x0;document[_0x1e5fe9(0xd7)](_0x1e5fe9(0x1de))[_0x1e5fe9(0x150)]=_0x42c45a+'%',document[_0x1e5fe9(0xd7)](_0x1e5fe9(0x1d4))['textContent']=_0x113f5d+_0x1e5fe9(0xdb)+_0x13e959+'\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ';const _0x4da537=document[_0x1e5fe9(0xd7)](_0x1e5fe9(0x205)),_0x4f3558=0x2*Math['PI']*0x23,_0x33ce98=_0x4f3558-_0x42c45a/0x64*_0x4f3558;_0x4da537[_0x1e5fe9(0x17c)][_0x1e5fe9(0x1bd)]=_0x33ce98;const _0x3aab36={};_0x58cbeb[_0x1e5fe9(0xb2)](_0x361fc6=>{const _0x19b3f0=_0x1e5fe9;if(!_0x3aab36[_0x361fc6[_0x19b3f0(0x19a)]]){const _0x4425aa=clients[_0x19b3f0(0xb3)](_0x3904f6=>_0x3904f6[_0x19b3f0(0xd0)]===_0x361fc6[_0x19b3f0(0x19a)]);_0x3aab36[_0x361fc6['client']]={'total':0x0,'done':0x0,'color':_0x4425aa?_0x4425aa[_0x19b3f0(0xbd)]:_0x19b3f0(0xe0)};}_0x3aab36[_0x361fc6[_0x19b3f0(0x19a)]][_0x19b3f0(0x100)]++;if(_0x361fc6[_0x19b3f0(0xfe)]==='completed')_0x3aab36[_0x361fc6['client']][_0x19b3f0(0xfd)]++;});const _0xfa152=document[_0x1e5fe9(0xd7)](_0x1e5fe9(0xc8));_0xfa152[_0x1e5fe9(0x186)]='';const _0x6bdd49=Object[_0x1e5fe9(0x1fa)](_0x3aab36)[_0x1e5fe9(0x12a)]((_0x11d322,_0x18291a)=>_0x18291a[0x1]['total']-_0x11d322[0x1][_0x1e5fe9(0x100)]);if(_0x6bdd49[_0x1e5fe9(0x19e)]===0x0){_0xfa152[_0x1e5fe9(0x186)]=_0x1e5fe9(0x123);return;}_0x6bdd49[_0x1e5fe9(0xb2)](([_0x3fc69c,_0x4fd516])=>{const _0x423b90=_0x1e5fe9,_0x2ebf36=Math['round'](_0x4fd516['done']/_0x4fd516[_0x423b90(0x100)]*0x64),_0x8651e7=document['createElement'](_0x423b90(0x11d));_0x8651e7[_0x423b90(0x1b5)]=_0x423b90(0x12e),_0x8651e7['style'][_0x423b90(0x208)]=_0x4fd516[_0x423b90(0xbd)],_0x8651e7[_0x423b90(0x186)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>'+_0x3fc69c+_0x423b90(0x143)+_0x4fd516[_0x423b90(0xfd)]+_0x423b90(0x1e1)+_0x4fd516['total']+_0x423b90(0x174)+_0x2ebf36+_0x423b90(0xe4),_0xfa152[_0x423b90(0x1ec)](_0x8651e7);});}function formatMinsToHrs(_0x2c1098){const _0x5d8ec1=a2_0xd5506b;if(_0x2c1098===0x0)return'0';const _0x38f6eb=Math[_0x5d8ec1(0xbf)](_0x2c1098/0x3c),_0x498f4b=_0x2c1098%0x3c;if(_0x498f4b===0x0)return _0x38f6eb+'—á';return _0x38f6eb+'—á\x20'+_0x498f4b+'–º';}