const a2_0x37b193=a2_0x4c84;(function(_0x4fcb79,_0x3c8d37){const _0x358226=a2_0x4c84,_0x3382d1=_0x4fcb79();while(!![]){try{const _0xad256f=parseInt(_0x358226(0x1c9))/0x1*(parseInt(_0x358226(0x286))/0x2)+parseInt(_0x358226(0x315))/0x3*(-parseInt(_0x358226(0x302))/0x4)+parseInt(_0x358226(0x346))/0x5+parseInt(_0x358226(0x31c))/0x6*(-parseInt(_0x358226(0x32c))/0x7)+-parseInt(_0x358226(0x1d5))/0x8*(parseInt(_0x358226(0x1cc))/0x9)+-parseInt(_0x358226(0x2c1))/0xa*(parseInt(_0x358226(0x339))/0xb)+parseInt(_0x358226(0x33d))/0xc*(parseInt(_0x358226(0x2f0))/0xd);if(_0xad256f===_0x3c8d37)break;else _0x3382d1['push'](_0x3382d1['shift']());}catch(_0x18a91a){_0x3382d1['push'](_0x3382d1['shift']());}}}(a2_0x1117,0x310b7),function initTMA(){const _0x1ce282=a2_0x4c84,_0x11a249=(function(){let _0x54f13b=!![];return function(_0x37efc1,_0x38ec32){const _0x3d1388=_0x54f13b?function(){const _0xbf6f35=a2_0x4c84;if(_0x38ec32){const _0x3b9a05=_0x38ec32[_0xbf6f35(0x293)](_0x37efc1,arguments);return _0x38ec32=null,_0x3b9a05;}}:function(){};return _0x54f13b=![],_0x3d1388;};}()),_0x5d9bf0=_0x11a249(this,function(){const _0x36b504=a2_0x4c84;return _0x5d9bf0[_0x36b504(0x1cf)]()[_0x36b504(0x337)](_0x36b504(0x232))[_0x36b504(0x1cf)]()['constructor'](_0x5d9bf0)[_0x36b504(0x337)]('(((.+)+)+)+$');});_0x5d9bf0();try{const _0x23318c=window[_0x1ce282(0x216)]?.[_0x1ce282(0x243)];if(!_0x23318c)return;_0x23318c[_0x1ce282(0x203)](),_0x23318c[_0x1ce282(0x1d4)]();try{_0x23318c[_0x1ce282(0x33c)](_0x1ce282(0x26b)),_0x23318c[_0x1ce282(0x307)]&&_0x23318c[_0x1ce282(0x307)](_0x1ce282(0x26b));}catch(_0x183167){console[_0x1ce282(0x29c)](_0x1ce282(0x28c),_0x183167);}try{_0x23318c[_0x1ce282(0x25d)]&&(_0x23318c[_0x1ce282(0x25d)][_0x1ce282(0x2ce)](),_0x23318c[_0x1ce282(0x25d)][_0x1ce282(0x2d1)](),_0x23318c[_0x1ce282(0x25d)][_0x1ce282(0x217)](function(){const _0xdb4b83=_0x1ce282;window[_0xdb4b83(0x29f)][_0xdb4b83(0x2cb)]='router.html';}));}catch(_0x5a6659){console[_0x1ce282(0x29c)](_0x1ce282(0x23f),_0x5a6659);}try{if(_0x23318c[_0x1ce282(0x215)])_0x23318c[_0x1ce282(0x215)]();}catch(_0x52d1fe){}}catch(_0x46a3c7){console[_0x1ce282(0x1e7)](_0x1ce282(0x1dd),_0x46a3c7);}}());function isAdmin(){const _0x3d7c89=a2_0x4c84;try{const _0x3f4a59=Number(window[_0x3d7c89(0x216)]?.[_0x3d7c89(0x243)]?.[_0x3d7c89(0x313)]?.[_0x3d7c89(0x261)]?.['id']);return _0x3f4a59===0xbaf7174;}catch(_0x27f077){return![];}}const APP_VERSION='v9.0-BATCH-CALENDAR',API_URL=a2_0x37b193(0x2a3),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x37b193(0x269),KEY_SESSIONS=a2_0x37b193(0x31f),KEY_SETTINGS=a2_0x37b193(0x2b6);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x2cb43e=a2_0x37b193;return window['Telegram']?.[_0x2cb43e(0x243)]?.[_0x2cb43e(0x313)]?.[_0x2cb43e(0x261)]?.['id']||_0x2cb43e(0x2b0);},'saveLocally'(){const _0x2b16d6=a2_0x37b193;try{localStorage[_0x2b16d6(0x2ef)](KEY_CLIENTS,JSON[_0x2b16d6(0x1fc)](clients)),localStorage[_0x2b16d6(0x2ef)](KEY_SESSIONS,JSON[_0x2b16d6(0x1fc)](sessions)),localStorage[_0x2b16d6(0x2ef)](KEY_SETTINGS,JSON[_0x2b16d6(0x1fc)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x22693a){console['error'](_0x2b16d6(0x24c),_0x22693a);}},'loadLocal'(){const _0x3f1400=a2_0x37b193;try{const _0x4624bb=localStorage[_0x3f1400(0x1de)](KEY_CLIENTS);if(_0x4624bb)clients=JSON[_0x3f1400(0x2d4)](_0x4624bb);const _0x5636cc=localStorage[_0x3f1400(0x1de)](KEY_SESSIONS);if(_0x5636cc)sessions=JSON[_0x3f1400(0x2d4)](_0x5636cc);const _0x148ef7=localStorage[_0x3f1400(0x1de)](KEY_SETTINGS);if(_0x148ef7){const _0x2cc27c=JSON[_0x3f1400(0x2d4)](_0x148ef7);if(_0x2cc27c[_0x3f1400(0x2de)])availabilityPattern=_0x2cc27c[_0x3f1400(0x2de)];if(_0x2cc27c['exceptions'])dateExceptions=_0x2cc27c['exceptions'];if(_0x2cc27c['ranges'])specialRanges=_0x2cc27c[_0x3f1400(0x1e6)];}else{for(let _0x14d346=0x0;_0x14d346<0x7;_0x14d346++)availabilityPattern[_0x14d346]=Array[_0x3f1400(0x1f2)]({'length':0xc},(_0x203266,_0x5373eb)=>_0x5373eb+0x9);}}catch(_0x33f35e){console[_0x3f1400(0x1e7)](_0x3f1400(0x33e),_0x33f35e);}},async 'fetchFromServer'(_0xdc0193,_0x24dbb5={}){const _0x28554a=a2_0x37b193,_0x29c18e=window['Telegram']?.[_0x28554a(0x243)],_0xe868c9={'action':_0xdc0193,'init_data':_0x29c18e?.['initData']||'',..._0x24dbb5};try{const _0x2d4ec0=await fetch(API_URL,{'method':_0x28554a(0x255),'headers':{'Content-Type':_0x28554a(0x28e)},'body':JSON['stringify'](_0xe868c9)}),_0x6bfbb1=await _0x2d4ec0[_0x28554a(0x288)]();if(!_0x6bfbb1['ok'])throw new Error(_0x6bfbb1[_0x28554a(0x1e7)]||_0x28554a(0x311));return _0x6bfbb1[_0x28554a(0x2fe)];}catch(_0x448f6a){console['error'](_0x28554a(0x1ce)+_0xdc0193+_0x28554a(0x220),_0x448f6a);throw _0x448f6a;}},async 'syncLoad'(){const _0x5f2754=a2_0x37b193,_0x330610=new Date(),_0x5ccc82=_0x330610[_0x5f2754(0x2d3)]()+'-'+String(_0x330610[_0x5f2754(0x227)]()+0x1)[_0x5f2754(0x330)](0x2,'0'),_0x134a41=new Date(_0x330610);_0x134a41[_0x5f2754(0x231)](_0x330610[_0x5f2754(0x227)]()+0x1);const _0x4c61e9=_0x134a41[_0x5f2754(0x2d3)]()+'-'+String(_0x134a41['getMonth']()+0x1)[_0x5f2754(0x330)](0x2,'0'),_0x5d231e=Date[_0x5f2754(0x2ee)]();console['log'](_0x5f2754(0x344)+_0x5ccc82+',\x20'+_0x4c61e9+'...');try{const [_0x478171,_0x2511da]=await Promise[_0x5f2754(0x27b)]([this[_0x5f2754(0x1e5)](_0x5f2754(0x30f),{'month_str':_0x5ccc82}),this[_0x5f2754(0x1e5)](_0x5f2754(0x30f),{'month_str':_0x4c61e9})]);if(lastUserActionTime>_0x5d231e)return console[_0x5f2754(0x2e4)](_0x5f2754(0x1ed)),![];return this[_0x5f2754(0x30c)](_0x478171,_0x5ccc82),this[_0x5f2754(0x30c)](_0x2511da,_0x4c61e9),this[_0x5f2754(0x310)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x3ee251){console[_0x5f2754(0x1e7)](_0x3ee251);throw _0x3ee251;}},'mergeServerData'(_0x17fc8c,_0x41f9d9){const _0x5aab1f=a2_0x37b193;if(!_0x17fc8c)return;_0x17fc8c[_0x5aab1f(0x2bb)]&&Array['isArray'](_0x17fc8c[_0x5aab1f(0x2bb)])&&(clients=_0x17fc8c[_0x5aab1f(0x2bb)]);if(_0x17fc8c[_0x5aab1f(0x2e5)]){if(_0x17fc8c[_0x5aab1f(0x2e5)][_0x5aab1f(0x2de)])availabilityPattern=_0x17fc8c[_0x5aab1f(0x2e5)]['pattern'];if(_0x17fc8c[_0x5aab1f(0x2e5)][_0x5aab1f(0x2b7)])dateExceptions=_0x17fc8c[_0x5aab1f(0x2e5)][_0x5aab1f(0x2b7)];if(_0x17fc8c[_0x5aab1f(0x2e5)]['ranges'])specialRanges=_0x17fc8c['settings'][_0x5aab1f(0x1e6)];if(_0x17fc8c[_0x5aab1f(0x2e5)]['cancel_window']){localStorage[_0x5aab1f(0x2ef)](_0x5aab1f(0x25e),_0x17fc8c[_0x5aab1f(0x2e5)]['cancel_window']);const _0x488c93=document[_0x5aab1f(0x207)](_0x5aab1f(0x32a));if(_0x488c93)_0x488c93[_0x5aab1f(0x306)]=_0x17fc8c['settings'][_0x5aab1f(0x224)];}}_0x17fc8c[_0x5aab1f(0x266)]&&(sessions=sessions[_0x5aab1f(0x291)](_0x2eb535=>!_0x2eb535['dateStr']['startsWith'](_0x41f9d9)),Object[_0x5aab1f(0x241)](_0x17fc8c['calendar'])[_0x5aab1f(0x2b1)](_0x539bc7=>{const _0x281b17=_0x5aab1f,_0x160a28=_0x17fc8c[_0x281b17(0x266)][_0x539bc7];_0x160a28[_0x281b17(0x2b1)](_0x524a3b=>{const _0x11ab05=_0x281b17,_0x2710e2=clients[_0x11ab05(0x1c5)](_0x47e420=>String(_0x47e420['id'])===String(_0x524a3b['c']));sessions[_0x11ab05(0x1cd)]({'id':_0x524a3b['i'],'clientId':_0x524a3b['c'],'client':_0x2710e2?_0x2710e2['name']:'Unknown','dateStr':_0x41f9d9+'-'+_0x539bc7[_0x11ab05(0x330)](0x2,'0'),'start':_0x524a3b['s'],'end':_0x524a3b['e'],'status':_0x524a3b['st']||'planned','note':_0x524a3b['n']||'','seriesId':_0x524a3b[_0x11ab05(0x23b)]||null});});}));},async 'syncBatch'(_0x2360d1){const _0x324f43=a2_0x37b193,_0x7c82b9=[...new Set(_0x2360d1)],_0x4dc87e=_0x7c82b9[_0x324f43(0x342)](_0x58cfba=>{const _0x19a814=_0x324f43,_0x3a8d15=sessions[_0x19a814(0x291)](_0x3beed7=>_0x3beed7[_0x19a814(0x21c)]===_0x58cfba&&_0x3beed7[_0x19a814(0x1c2)]!==_0x19a814(0x340)),_0x4d0b49=_0x3a8d15[_0x19a814(0x342)](_0x7a826c=>({'i':_0x7a826c['id'],'c':_0x7a826c[_0x19a814(0x209)],'s':_0x7a826c['start'],'e':_0x7a826c[_0x19a814(0x329)],'st':_0x7a826c['status'],'n':_0x7a826c[_0x19a814(0x242)],'sid':_0x7a826c['seriesId']}));return{'date':_0x58cfba,'day_data':_0x4d0b49};});if(_0x4dc87e[_0x324f43(0x30b)]===0x0)return;console[_0x324f43(0x29c)](_0x324f43(0x22e)+_0x4dc87e[_0x324f43(0x30b)]+_0x324f43(0x34b)),await this[_0x324f43(0x1e5)](_0x324f43(0x2ec),{'changes':_0x4dc87e});}};async function init(){const _0x492453=a2_0x37b193;DataManager[_0x492453(0x312)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById'](_0x492453(0x296))['addEventListener'](_0x492453(0x1f9),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x492453(0x22c)]()['then'](()=>{const _0x198ed1=_0x492453;showToast(_0x198ed1(0x325),!![]);})[_0x492453(0x317)](_0x30a84d=>{showToast('–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º',![]);});}function generateId(){const _0x536cf2=a2_0x37b193;return Date[_0x536cf2(0x2ee)]()[_0x536cf2(0x1cf)](0x24)+Math[_0x536cf2(0x2a6)]()[_0x536cf2(0x1cf)](0x24)['substr'](0x2,0x5);}function toggleSeriesInput(){const _0x364258=a2_0x37b193,_0x678ffb=document[_0x364258(0x207)]('inpRecurring')[_0x364258(0x2c0)],_0x260b9f=document[_0x364258(0x207)](_0x364258(0x2f5));_0x260b9f[_0x364258(0x2c8)][_0x364258(0x2be)]=_0x678ffb?_0x364258(0x23c):'none';const _0x42fa7c=document[_0x364258(0x207)](_0x364258(0x323));_0x42fa7c[_0x364258(0x2c8)]['borderRadius']=_0x678ffb?'10px\x2010px\x200\x200':_0x364258(0x20e);}function openAddSession(_0x38d5b1){const _0x1e8c58=a2_0x37b193;editingId=null,populateClientSelect(),document['getElementById'](_0x1e8c58(0x2f7))[_0x1e8c58(0x267)]=_0x1e8c58(0x2c9),document[_0x1e8c58(0x207)]('btnDelete')[_0x1e8c58(0x2c8)][_0x1e8c58(0x2be)]=_0x1e8c58(0x22a),document[_0x1e8c58(0x207)](_0x1e8c58(0x2cc))['style'][_0x1e8c58(0x2be)]=_0x1e8c58(0x22a);const _0x6d0c81=document[_0x1e8c58(0x207)](_0x1e8c58(0x323)),_0x16a580=document[_0x1e8c58(0x207)]('seriesCountContainer');_0x6d0c81[_0x1e8c58(0x2c8)][_0x1e8c58(0x2be)]=_0x1e8c58(0x25c),_0x6d0c81[_0x1e8c58(0x2c8)]['borderRadius']='10px',document[_0x1e8c58(0x207)](_0x1e8c58(0x333))[_0x1e8c58(0x2c0)]=![],document['getElementById']('inpSeriesCount')[_0x1e8c58(0x306)]=0x4,_0x16a580[_0x1e8c58(0x2c8)][_0x1e8c58(0x2be)]=_0x1e8c58(0x22a),document[_0x1e8c58(0x207)](_0x1e8c58(0x2eb))[_0x1e8c58(0x306)]=getLocalDateStr(_0x38d5b1),updateDateDisplay();const _0x1a340b=_0x38d5b1[_0x1e8c58(0x32b)]();document[_0x1e8c58(0x207)](_0x1e8c58(0x2d9))['value']=String(_0x1a340b)[_0x1e8c58(0x330)](0x2,'0')+_0x1e8c58(0x201),document[_0x1e8c58(0x207)]('inpEnd')['value']=String(_0x1a340b+0x1)[_0x1e8c58(0x330)](0x2,'0')+_0x1e8c58(0x201),openSheet(_0x1e8c58(0x34a));}function openEdit(_0x193a6e){const _0x1d7806=a2_0x37b193;editingId=_0x193a6e['id'],populateClientSelect(),document[_0x1d7806(0x207)](_0x1d7806(0x2f7))['textContent']=_0x1d7806(0x20f),document['getElementById']('btnDelete')[_0x1d7806(0x2c8)][_0x1d7806(0x2be)]='block';const _0x2bd319=document[_0x1d7806(0x207)](_0x1d7806(0x2cc));_0x2bd319[_0x1d7806(0x2c8)][_0x1d7806(0x2be)]='flex';_0x193a6e[_0x1d7806(0x1c2)]===_0x1d7806(0x29a)?(_0x2bd319[_0x1d7806(0x326)]='btn-status-toggle\x20undo-mode',_0x2bd319[_0x1d7806(0x27e)]=_0x1d7806(0x1d7)):(_0x2bd319['className']=_0x1d7806(0x260),_0x2bd319[_0x1d7806(0x27e)]=_0x1d7806(0x29d));const _0x4d481d=!!_0x193a6e['seriesId'];document[_0x1d7806(0x207)](_0x1d7806(0x323))['style'][_0x1d7806(0x2be)]=_0x1d7806(0x22a),document[_0x1d7806(0x207)](_0x1d7806(0x2f5))['style']['display']=_0x1d7806(0x22a),_0x4d481d?(document[_0x1d7806(0x207)](_0x1d7806(0x348))[_0x1d7806(0x2c8)][_0x1d7806(0x2be)]=_0x1d7806(0x25c),document[_0x1d7806(0x207)]('patternInfoBox')[_0x1d7806(0x256)](_0x1d7806(0x2b4))[_0x1d7806(0x267)]=_0x1d7806(0x226)):document[_0x1d7806(0x207)](_0x1d7806(0x348))[_0x1d7806(0x2c8)][_0x1d7806(0x2be)]=_0x1d7806(0x22a),document['getElementById']('inpClient')[_0x1d7806(0x306)]=_0x193a6e[_0x1d7806(0x1dc)],document[_0x1d7806(0x207)](_0x1d7806(0x2eb))[_0x1d7806(0x306)]=_0x193a6e[_0x1d7806(0x21c)],document[_0x1d7806(0x207)](_0x1d7806(0x2d9))[_0x1d7806(0x306)]=_0x193a6e[_0x1d7806(0x248)],document[_0x1d7806(0x207)]('inpEnd')['value']=_0x193a6e[_0x1d7806(0x329)],document[_0x1d7806(0x207)](_0x1d7806(0x2fc))[_0x1d7806(0x306)]=_0x193a6e[_0x1d7806(0x242)]||'',updateDateDisplay(),openSheet(_0x1d7806(0x34a));}async function trySaveSession(){const _0x48794e=a2_0x37b193,_0x36ef7d=document['getElementById']('inpClient')[_0x48794e(0x306)],_0x242651=document[_0x48794e(0x207)](_0x48794e(0x2eb))[_0x48794e(0x306)],_0x354886=document[_0x48794e(0x207)](_0x48794e(0x2d9))[_0x48794e(0x306)],_0x26725a=document[_0x48794e(0x207)](_0x48794e(0x2e0))['value'],_0xd1e731=document[_0x48794e(0x207)](_0x48794e(0x2fc))['value'],_0x4d48ca=document[_0x48794e(0x207)](_0x48794e(0x333))['checked'];let _0x2701ba=0x4;if(_0x4d48ca){const _0x5d817f=parseInt(document[_0x48794e(0x207)](_0x48794e(0x2aa))[_0x48794e(0x306)]);if(!_0x5d817f||_0x5d817f<0x2){showToast(_0x48794e(0x263),![]);return;}if(_0x5d817f>0x64){showToast(_0x48794e(0x298),![]);return;}_0x2701ba=_0x5d817f;}const _0xe5ff90=clients[_0x48794e(0x1c5)](_0x69161e=>_0x69161e[_0x48794e(0x33b)]===_0x36ef7d);if(!_0xe5ff90){showToast(_0x48794e(0x2d7),![]);return;}const _0x48c5a5=validateAppointment(_0x242651,_0x354886,_0x26725a,editingId,_0xe5ff90['id']);if(!_0x48c5a5[_0x48794e(0x214)]){showToast(_0x48c5a5[_0x48794e(0x25a)],![]);return;}_0x48c5a5[_0x48794e(0x22d)]&&showToast(_0x48c5a5[_0x48794e(0x22d)],![]);const _0x1f936a={'client':_0x36ef7d,'clientId':_0xe5ff90['id'],'start':_0x354886,'end':_0x26725a,'note':_0xd1e731,'status':_0x48794e(0x2dc)},_0x59657f=editingId?sessions['find'](_0x1851cb=>_0x1851cb['id']===editingId):null;if(_0x59657f&&_0x59657f['seriesId']){tempSessionData={..._0x1f936a,'dateStr':_0x242651,'id':editingId,'seriesId':_0x59657f[_0x48794e(0x2a2)]},openActionSheet(_0x48794e(0x218));return;}let _0x4f0518=null;if(!editingId)_0x4f0518=_0x48794e(0x2a7);else{if(_0x59657f){if(String(_0x59657f[_0x48794e(0x209)])!==String(_0xe5ff90['id']))console[_0x48794e(0x29c)](_0x48794e(0x1f0)),NotificationManager[_0x48794e(0x237)](_0x48794e(0x277),_0x59657f),_0x4f0518='create';else(_0x59657f[_0x48794e(0x248)]!==_0x354886||_0x59657f[_0x48794e(0x329)]!==_0x26725a||_0x59657f[_0x48794e(0x21c)]!==_0x242651)&&(_0x4f0518=_0x48794e(0x280));}}if(!editingId&&_0x4d48ca){createBatchSeries(_0x1f936a,_0x242651,_0x2701ba),NotificationManager[_0x48794e(0x237)](_0x48794e(0x2a7),{..._0x1f936a,'dateStr':_0x242651});return;}lastUserActionTime=Date[_0x48794e(0x2ee)]();const _0x269ea3={..._0x1f936a,'dateStr':_0x242651,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x269ea3),_0x4f0518&&NotificationManager['send'](_0x4f0518,_0x269ea3);}function toggleSessionStatus(){const _0x2ba015=a2_0x37b193;lastUserActionTime=Date[_0x2ba015(0x2ee)]();const _0xb83b75=sessions[_0x2ba015(0x1c5)](_0x3a041c=>_0x3a041c['id']===editingId);if(!_0xb83b75)return;const _0x5df389=_0xb83b75[_0x2ba015(0x1c2)]==='completed'?_0x2ba015(0x2dc):_0x2ba015(0x29a);_0xb83b75[_0x2ba015(0x1c2)]=_0x5df389,saveSingleSession(_0xb83b75),_0x5df389===_0x2ba015(0x29a)&&NotificationManager[_0x2ba015(0x237)]('complete',_0xb83b75),showToast(_0x5df389===_0x2ba015(0x29a)?_0x2ba015(0x30a):_0x2ba015(0x28b),!![]);}function a2_0x1117(){const _0x51340f=['mouseup','stat-','client','Critical\x20TMA\x20Error:','getItem','.period-switch\x20.p-btn','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','inpClient','dayOptionsTitle','rangeStartTime','–£—Å–ø–µ—à–Ω–æ','fetchFromServer','ranges','error','[Notify]\x20Network\x20Failed','closest','setAttribute','left','de-item','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','insertBefore','</div><div\x20class=\x22ev-time\x22>','[Notify]\x20Client\x20SWAP\x20detected','week','from','dayOptionsSheet','option','settingsSheet','month','rgba(','day-column\x20','scroll','btn-primary\x20btn-secondary','touchstart','stringify','touches','getAttribute','rgba(255,\x2069,\x2058,\x200.15)','px\x200px',':00','data-day-idx','ready','23:59','[Notify]\x20Error:\x20Text\x20generation\x20failed','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','getElementById','px\x20-','clientId','\x20-\x20','<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','localeCompare','10px','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','scrollTop','toLocaleDateString','globalTimeLine','rangeEndDate','valid','disableVerticalSwipes','Telegram','onClick','save','rgba(100,100,100,0.5)','doDateHeader','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','dateStr','scrollLeft','getMinutes','btn-primary\x20btn-danger',']\x20Failed:','slice','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','[Notify]\x20Error:\x20sessionData\x20is\x20null','cancel_window','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','getMonth','round','firstChild','none','asBtnOne','syncLoad','warning','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','#fff','getDay','setMonth','(((.+)+)+)+$','var(--acc-green)','[Series]\x20Skipped\x20','doEventsList','var(--acc-current)','send','<div\x20class=\x22dch-day\x22>','custom','100%','sid','block','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','add','Error\x20setting\x20back\x20button:','success','keys','note','WebApp','querySelectorAll','–£–¥–∞–ª–µ–Ω–∏–µ','gridColumns','indexOf','start','%\x20-\x204px)','T23:59:59','min','Local\x20Save\x20Error','asBtnSeries','<div\x20class=\x22ev-title\x22>',':00</span>','createDocumentFragment','scrollWidth','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','backgroundColor','then','POST','querySelector','rangeEndTime','pe-corner','event-card','msg','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','flex','BackButton','uc_settings_cancel_window','range-item','btn-status-toggle','user','single','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','</div><div\x20class=\x22dch-num\x22>','calendar','textContent','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','uc_clients_v9','anCustomDates','#050505','sort','charAt','Batch\x20Sync\x20OK','ru-RU','header-','stopPropagation','</b>\x0a\x0a','calc(','active','</div>','classList','cancel','numeric','series','toast','all','getDate','color','innerHTML','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','update','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','time-label','addEventListener','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','long','3670CaLSYR','as-button\x20danger\x20bold','json','timeLineBadge',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','Error\x20setting\x20color:','doWorkHours','text/plain;charset=UTF-8','rgba(255,\x20159,\x2010,\x200.3)','target','filter','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','apply','data-date','anEnd','matrixViewport','open','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','completed','background','log','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','width','location','today','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','seriesId','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>',':\x20Client\x20already\x20booked','random','create','touchend','\x20status-completed','inpSeriesCount','</span>\x20/\x20','save_settings','clientY','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','guest','forEach','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','.pib-text','.event-card','uc_settings_v9','exceptions','total','colIndex','[Notify]\x20Server\x20Response:','clients','.day-col-header','split','display','#gridColumns\x20.day-column','checked','770310WtPjdA','borderColor','day-off-overlay\x20stripe-bg','client-stat-card','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','.dch-stats-fill','style','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','#0a84ff','href','btnStatusToggle','borderLeftColor','show','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','rgba(255,255,255,0.05)','offClick','toast-notification\x20','getFullYear','parse','syncBatch','rgba(48,\x20209,\x2088,\x200.15)','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','remove','inpStart',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','planned','done','pattern','[Notify]\x20Detected\x20Client\x20ID:','inpEnd','toLocaleString','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','warn','settings','\x20‚Äî\x20','statLoadCard','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','peGrid','findIndex','inpDate','batch_sync','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','now','setItem','117YZpyCB','actionSheetOverlay','appendChild','<b>‚úÖ\x20','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','seriesCountContainer','vibrate','sheetTitle','toastTitle','off','00:00','offsetLeft','inpNote','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','data','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','top','floor','5476eeyJHG','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','doLoadPercent','setHours','value','setBackgroundColor','rangesList','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','length','mergeServerData','var(--acc-red)','clientWidth','init_load','saveLocally','Server\x20Error','loadLocal','initDataUnsafe','max','408zNTkOG','pe-cell\x20','catch','undefined','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','splice','onclick','6CMjgUJ','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','blocked-slot\x20stripe-bg','uc_sessions_v9','overlay','asTitle','getTime','recurringOptionContainer','...','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','className','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','null','end','settingCancelWindow','getHours','2662051Vydbjt','rangeStartDate','includes','offsetWidth','padStart','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','inpRecurring','createElement','div','btnDayToggle','search','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','55ToNUrJ','anStart','name','setHeaderColor','1276668QTWELR','Local\x20Load\x20Error','entries','deleted','Save\x20settings\x20error:','map','[Notify]\x20Attempting\x20to\x20send:','[Sync]\x20Loading\x20','anDonutCircle','421580HLJTXw','day-col-header\x20','patternInfoBox',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','sessionSheet','\x20days','rangesSheet','mousedown','patternEditor','doBusyHours','DOMContentLoaded','cancelled','status','daysHeaderTrack','.sheet','find','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','height','backgroundPosition','195zrurws','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','setDate','2224107GhrlrC','push','[API\x20','toString','toastMessage','getText','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','headerMonth','expand','8cqAcku','anTotalStats','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','strokeDashoffset','send_notification'];a2_0x1117=function(){return _0x51340f;};return a2_0x1117();}function validateAppointment(_0x5091d5,_0x3f3de9,_0x1c2a5e,_0x5222d4,_0x566041){const _0xf799e0=a2_0x37b193,[_0x1e091f,_0x4f6009]=_0x3f3de9[_0xf799e0(0x2bd)](':')['map'](Number),[_0x49f2ae,_0x172df2]=_0x1c2a5e[_0xf799e0(0x2bd)](':')[_0xf799e0(0x342)](Number),_0x54fd05=_0x1e091f*0x3c+_0x4f6009,_0x3adb3f=_0x49f2ae*0x3c+_0x172df2,_0x10b307=String(_0x566041);let _0x2d6ed5=![],_0x24296b='';for(let _0x5db07f of sessions){if(_0x5db07f[_0xf799e0(0x21c)]!==_0x5091d5)continue;if(_0x5db07f[_0xf799e0(0x1c2)]===_0xf799e0(0x1c1))continue;if(_0x5222d4&&String(_0x5db07f['id'])===String(_0x5222d4))continue;const [_0x4e3428,_0x10bc98]=_0x5db07f[_0xf799e0(0x248)][_0xf799e0(0x2bd)](':')[_0xf799e0(0x342)](Number),[_0x5c9691,_0x11ab9b]=_0x5db07f[_0xf799e0(0x329)][_0xf799e0(0x2bd)](':')[_0xf799e0(0x342)](Number),_0x145b2b=_0x4e3428*0x3c+_0x10bc98,_0x10d04b=_0x5c9691*0x3c+_0x11ab9b;if(Math[_0xf799e0(0x314)](_0x54fd05,_0x145b2b)<Math[_0xf799e0(0x24b)](_0x3adb3f,_0x10d04b)){if(_0x5db07f[_0xf799e0(0x209)]&&String(_0x5db07f[_0xf799e0(0x209)])===_0x10b307)return{'valid':![],'msg':_0xf799e0(0x331)+_0x5db07f['client']+_0xf799e0(0x2e3)};_0x2d6ed5=!![],_0x24296b=_0x5db07f['client'];}}if(_0x2d6ed5)return{'valid':!![],'warning':'–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20'+_0x24296b};return{'valid':!![]};}function saveSingleSession(_0x411335){const _0xef8209=a2_0x37b193;if(editingId){const _0x4ab90a=sessions['findIndex'](_0x27cfb7=>_0x27cfb7['id']===editingId);if(_0x4ab90a!==-0x1)sessions[_0x4ab90a]=_0x411335;}else sessions[_0xef8209(0x1cd)](_0x411335);afterSaveAction([_0x411335['dateStr']]);}function createBatchSeries(_0x36437f,_0x5f1486,_0x4970a5){const _0x1445f2=a2_0x37b193,_0x2ba560=generateId(),_0x35c07e=[],_0x80842d=[];let _0x5c2140=0x0,_0x2fbfdf=new Date(_0x5f1486);for(let _0x1bf554=0x0;_0x1bf554<_0x4970a5;_0x1bf554++){const _0x446aec=getLocalDateStr(_0x2fbfdf),_0x46802d=validateAppointment(_0x446aec,_0x36437f[_0x1445f2(0x248)],_0x36437f[_0x1445f2(0x329)],null,_0x36437f[_0x1445f2(0x209)]);if(!_0x46802d[_0x1445f2(0x214)])console[_0x1445f2(0x29c)](_0x1445f2(0x234)+_0x446aec+_0x1445f2(0x2a5)),_0x5c2140++;else{const _0x826e22={..._0x36437f,'id':generateId(),'dateStr':_0x446aec,'seriesId':_0x2ba560};_0x80842d['push'](_0x826e22),_0x35c07e[_0x1445f2(0x1cd)](_0x446aec);}_0x2fbfdf[_0x1445f2(0x1cb)](_0x2fbfdf[_0x1445f2(0x27c)]()+0x7);}if(_0x80842d[_0x1445f2(0x30b)]===0x0){showToast(_0x1445f2(0x25b),![]);return;}sessions[_0x1445f2(0x1cd)](..._0x80842d),lastUserActionTime=Date[_0x1445f2(0x2ee)]();let _0x2963df=_0x1445f2(0x2e2)+_0x80842d['length'];_0x5c2140>0x0&&(_0x2963df+=_0x1445f2(0x332)+_0x5c2140+')'),showToast(_0x2963df,!![]),afterSaveAction(_0x35c07e);}function updateSeriesBatch(_0x551018,_0x2b4bd2){const _0xebe615=a2_0x37b193,_0x2220e6=[],_0x4ea20c=_0x2b4bd2[_0xebe615(0x2a2)];if(_0x551018===_0xebe615(0x262)){const _0x20cd98={..._0x2b4bd2,'seriesId':null},_0x217ed8=sessions[_0xebe615(0x2ea)](_0x475739=>_0x475739['id']===_0x2b4bd2['id']);if(_0x217ed8!==-0x1)sessions[_0x217ed8]=_0x20cd98;_0x2220e6[_0xebe615(0x1cd)](_0x20cd98[_0xebe615(0x21c)]);}else{if(_0x551018==='series'){const _0x35bd86=_0x2b4bd2['dateStr'];sessions[_0xebe615(0x2b1)]((_0x497d68,_0x1cbdf4)=>{const _0x225d0d=_0xebe615;_0x497d68[_0x225d0d(0x2a2)]===_0x4ea20c&&_0x497d68[_0x225d0d(0x21c)]>=_0x35bd86&&(sessions[_0x1cbdf4]={...sessions[_0x1cbdf4],'start':_0x2b4bd2['start'],'end':_0x2b4bd2['end'],'note':_0x2b4bd2[_0x225d0d(0x242)],'client':_0x2b4bd2['client'],'clientId':_0x2b4bd2[_0x225d0d(0x209)]},_0x2220e6[_0x225d0d(0x1cd)](_0x497d68[_0x225d0d(0x21c)]));});}}afterSaveAction(_0x2220e6);}function tryDeleteSession(){const _0xf4dd40=a2_0x37b193,_0x161db8=sessions[_0xf4dd40(0x1c5)](_0xbbc355=>_0xbbc355['id']===editingId);if(!_0x161db8)return;_0x161db8[_0xf4dd40(0x2a2)]?openActionSheet('delete'):commitDelete('single',_0x161db8);}function commitDelete(_0x22bee2,_0x753d29){const _0x1bd3f8=a2_0x37b193;lastUserActionTime=Date['now'](),NotificationManager['send'](_0x1bd3f8(0x277),_0x753d29);const _0x1bca2d=[];if(_0x22bee2===_0x1bd3f8(0x262))sessions=sessions[_0x1bd3f8(0x291)](_0x2e6f95=>_0x2e6f95['id']!==_0x753d29['id']),_0x1bca2d['push'](_0x753d29[_0x1bd3f8(0x21c)]);else{if(_0x22bee2===_0x1bd3f8(0x279)){const _0x32ea87=_0x753d29['dateStr'],_0x1e7376=_0x753d29[_0x1bd3f8(0x2a2)];sessions[_0x1bd3f8(0x2b1)](_0x5a9e15=>{const _0xb2c1b7=_0x1bd3f8;_0x5a9e15[_0xb2c1b7(0x2a2)]===_0x1e7376&&_0x5a9e15[_0xb2c1b7(0x21c)]>=_0x32ea87&&_0x1bca2d[_0xb2c1b7(0x1cd)](_0x5a9e15['dateStr']);}),sessions=sessions[_0x1bd3f8(0x291)](_0x209fc5=>!(_0x209fc5[_0x1bd3f8(0x2a2)]===_0x1e7376&&_0x209fc5['dateStr']>=_0x32ea87));}}afterSaveAction(_0x1bca2d);}function afterSaveAction(_0x4d9497){const _0x56537f=a2_0x37b193;DataManager[_0x56537f(0x310)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x56537f(0x2d5)](_0x4d9497)[_0x56537f(0x254)](()=>console['log'](_0x56537f(0x26e)))['catch'](_0x5b99c6=>showToast(_0x56537f(0x299),![]));}const NotificationManager={'formatDate'(_0x328cf6){const _0x5c3cbf=a2_0x37b193,_0x521242=new Date(_0x328cf6),_0x45c310={'weekday':_0x5c3cbf(0x285),'day':_0x5c3cbf(0x278),'month':_0x5c3cbf(0x285)};let _0x218a7a=_0x521242[_0x5c3cbf(0x211)](_0x5c3cbf(0x26f),_0x45c310);return _0x218a7a[_0x5c3cbf(0x26d)](0x0)['toUpperCase']()+_0x218a7a[_0x5c3cbf(0x221)](0x1);},'getText'(_0x2709a1,_0x4dffca){const _0x230197=a2_0x37b193,_0x9d00f6=this['formatDate'](_0x4dffca[_0x230197(0x21c)]);switch(_0x2709a1){case'create':return _0x230197(0x2db)+(_0x230197(0x2c6)+_0x9d00f6+'\x0a')+(_0x230197(0x2a1)+_0x4dffca[_0x230197(0x248)]+'\x20‚Äî\x20'+_0x4dffca[_0x230197(0x329)]+'\x0a\x0a')+'–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™';case _0x230197(0x280):return _0x230197(0x2c5)+_0x230197(0x2e8)+(_0x230197(0x2f3)+_0x4dffca[_0x230197(0x248)]+_0x230197(0x2e6)+_0x4dffca[_0x230197(0x329)]+_0x230197(0x272))+(_0x230197(0x2c6)+_0x9d00f6);case'cancel':return _0x230197(0x284)+('–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>'+_0x9d00f6+'\x20('+_0x4dffca['start']+_0x230197(0x349));case'complete':return _0x230197(0x327)+_0x230197(0x225)+'<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>';default:return'';}},async 'send'(_0x22089f,_0x4fe07e){const _0x5603aa=a2_0x37b193;console[_0x5603aa(0x29c)](_0x5603aa(0x343),_0x22089f,_0x4fe07e);if(!_0x4fe07e){console[_0x5603aa(0x1e7)](_0x5603aa(0x223));return;}const _0x1a9b15=String(_0x4fe07e['clientId']);console['log'](_0x5603aa(0x2df),_0x1a9b15);if(!_0x4fe07e[_0x5603aa(0x209)]||_0x1a9b15===_0x5603aa(0x318)||_0x1a9b15===_0x5603aa(0x328)){console[_0x5603aa(0x1e7)](_0x5603aa(0x2ed));if(_0x4fe07e['client']){const _0x3283d2=clients['find'](_0x678320=>_0x678320[_0x5603aa(0x33b)]===_0x4fe07e[_0x5603aa(0x1dc)]);if(_0x3283d2)return console[_0x5603aa(0x29c)](_0x5603aa(0x292),_0x3283d2['id']),this['send'](_0x22089f,{..._0x4fe07e,'clientId':_0x3283d2['id']});}return;}if(_0x1a9b15['length']<0x5){console['warn']('[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)',_0x1a9b15);return;}const _0x4f902f=this[_0x5603aa(0x1d1)](_0x22089f,_0x4fe07e);if(!_0x4f902f){console[_0x5603aa(0x1e7)](_0x5603aa(0x205));return;}console['log']('[Notify]\x20Sending\x20to\x20GAS\x20for\x20'+_0x1a9b15+_0x5603aa(0x324)),DataManager[_0x5603aa(0x1e5)](_0x5603aa(0x1d9),{'chatId':_0x1a9b15,'text':_0x4f902f})[_0x5603aa(0x254)](_0x46bea7=>console[_0x5603aa(0x29c)](_0x5603aa(0x2ba),_0x46bea7))[_0x5603aa(0x317)](_0x195069=>console['error'](_0x5603aa(0x1e8),_0x195069));}};function getLocalDateStr(_0x34fba3){const _0xcdf594=a2_0x37b193,_0x2ad549=_0x34fba3[_0xcdf594(0x2d3)](),_0x440174=String(_0x34fba3[_0xcdf594(0x227)]()+0x1)[_0xcdf594(0x330)](0x2,'0'),_0x41ae19=String(_0x34fba3[_0xcdf594(0x27c)]())[_0xcdf594(0x330)](0x2,'0');return _0x2ad549+'-'+_0x440174+'-'+_0x41ae19;}function getDateStr(_0x2380f7){const _0x435e40=a2_0x37b193,_0x59e74a=new Date();return _0x59e74a[_0x435e40(0x1cb)](_0x59e74a[_0x435e40(0x27c)]()+_0x2380f7),getLocalDateStr(_0x59e74a);}function getStartOfWeek(_0x5beb4c){const _0x5ba763=a2_0x37b193,_0x186b30=new Date(_0x5beb4c),_0x3bbcb4=_0x186b30[_0x5ba763(0x230)](),_0x2bd1c7=_0x186b30['getDate']()-_0x3bbcb4+(_0x3bbcb4===0x0?-0x6:0x1);return _0x186b30[_0x5ba763(0x1cb)](_0x2bd1c7),_0x186b30['setHours'](0x0,0x0,0x0,0x0),_0x186b30;}function hexToRgba(_0x1e280a,_0x373ad8){const _0x3d23d3=a2_0x37b193;if(!_0x1e280a)return _0x3d23d3(0x219);let _0x3a7880=0x0,_0x2b0473=0x0,_0x43f750=0x0;if(_0x1e280a['length']===0x4)_0x3a7880='0x'+_0x1e280a[0x1]+_0x1e280a[0x1],_0x2b0473='0x'+_0x1e280a[0x2]+_0x1e280a[0x2],_0x43f750='0x'+_0x1e280a[0x3]+_0x1e280a[0x3];else _0x1e280a[_0x3d23d3(0x30b)]===0x7&&(_0x3a7880='0x'+_0x1e280a[0x1]+_0x1e280a[0x2],_0x2b0473='0x'+_0x1e280a[0x3]+_0x1e280a[0x4],_0x43f750='0x'+_0x1e280a[0x5]+_0x1e280a[0x6]);return _0x3d23d3(0x1f7)+ +_0x3a7880+',\x20'+ +_0x2b0473+',\x20'+ +_0x43f750+',\x20'+_0x373ad8+')';}function renderTimeColumn(){const _0x118347=a2_0x37b193,_0x4217e9=document[_0x118347(0x207)]('timeColumn'),_0x5aba98=document['getElementById'](_0x118347(0x289));_0x4217e9[_0x118347(0x27e)]='',_0x4217e9[_0x118347(0x2f2)](_0x5aba98);for(let _0x523782=0x0;_0x523782<0x18;_0x523782++){const _0x34af4f=document['createElement'](_0x118347(0x335));_0x34af4f[_0x118347(0x326)]=_0x118347(0x282);if(_0x523782>0x0)_0x34af4f[_0x118347(0x27e)]=_0x118347(0x20b)+String(_0x523782)[_0x118347(0x330)](0x2,'0')+_0x118347(0x24f);_0x4217e9[_0x118347(0x2f2)](_0x34af4f);}}function renderDayRange(_0x3ddf44,_0x5ae428){const _0x222bf9=a2_0x37b193,_0x1af5c4=document[_0x222bf9(0x207)](_0x222bf9(0x1c3)),_0x5ecd6a=document['getElementById']('gridColumns'),_0x40c71a=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x57b7ab=new Date();_0x57b7ab[_0x222bf9(0x305)](0x0,0x0,0x0,0x0);const _0x572a8b=getLocalDateStr(new Date());for(let _0x2343cf=_0x3ddf44;_0x2343cf<=_0x5ae428;_0x2343cf++){const _0x57845e=new Date(_0x57b7ab);_0x57845e[_0x222bf9(0x1cb)](_0x57845e[_0x222bf9(0x27c)]()+_0x2343cf);const _0x3dd4b6=getLocalDateStr(_0x57845e);let _0x59cccf=_0x57845e[_0x222bf9(0x230)]()-0x1;if(_0x59cccf===-0x1)_0x59cccf=0x6;const _0x2540ee=_0x3dd4b6===_0x572a8b,_0x343c70=document[_0x222bf9(0x334)](_0x222bf9(0x335));_0x343c70[_0x222bf9(0x326)]=_0x222bf9(0x347)+(_0x2540ee?'today':''),_0x343c70['id']=_0x222bf9(0x270)+_0x3dd4b6,_0x343c70['setAttribute'](_0x222bf9(0x294),_0x3dd4b6),_0x343c70[_0x222bf9(0x27e)]=_0x222bf9(0x238)+_0x40c71a[_0x59cccf]+'</div><div\x20class=\x22dch-num\x22>'+_0x57845e[_0x222bf9(0x27c)]()+_0x222bf9(0x1e0)+_0x3dd4b6+_0x222bf9(0x338),_0x343c70[_0x222bf9(0x31b)]=()=>openDayOptions(_0x3dd4b6,_0x40c71a[_0x59cccf]+'\x20'+_0x57845e[_0x222bf9(0x27c)]()),_0x1af5c4['appendChild'](_0x343c70);const _0x166a33=document[_0x222bf9(0x334)](_0x222bf9(0x335));_0x166a33[_0x222bf9(0x326)]=_0x222bf9(0x1f8)+(_0x2540ee?_0x222bf9(0x2a0):''),_0x166a33[_0x222bf9(0x1ea)]('data-date',_0x3dd4b6),_0x166a33[_0x222bf9(0x1ea)](_0x222bf9(0x202),_0x59cccf),renderEventsForColumn(_0x166a33,_0x3dd4b6,_0x59cccf),attachLongPressHandler(_0x166a33,_0x57845e),_0x5ecd6a[_0x222bf9(0x2f2)](_0x166a33),updateDayStats(_0x3dd4b6);}}function reRenderBlocks(){const _0x31fb95=a2_0x37b193;document[_0x31fb95(0x244)](_0x31fb95(0x2bf))[_0x31fb95(0x2b1)](_0x30e0a8=>{const _0x28c205=_0x31fb95;_0x30e0a8[_0x28c205(0x244)](_0x28c205(0x268))['forEach'](_0x368f42=>_0x368f42[_0x28c205(0x2d8)]());const _0x4fd17f=_0x30e0a8[_0x28c205(0x1fe)](_0x28c205(0x294)),_0x51dbbe=parseInt(_0x30e0a8[_0x28c205(0x1fe)]('data-day-idx')),_0x384470=Math[_0x28c205(0x228)](_0x30e0a8[_0x28c205(0x2fb)]);(availabilityPattern[_0x51dbbe]||[])[_0x28c205(0x2b1)](_0x42bab1=>{const _0x564654=_0x28c205,_0x4ab64d=document[_0x564654(0x334)]('div');_0x4ab64d[_0x564654(0x326)]='blocked-slot\x20stripe-bg';const _0x2e546a=_0x42bab1*GRID_H;_0x4ab64d['style'][_0x564654(0x300)]=_0x2e546a+'px',_0x4ab64d[_0x564654(0x2c8)][_0x564654(0x1c8)]='-'+_0x384470+'px\x20-'+_0x2e546a+'px',_0x30e0a8['appendChild'](_0x4ab64d);});if(specialRanges&&specialRanges[_0x28c205(0x30b)]>0x0){const _0x286ae1=new Date(_0x4fd17f+'T00:00:00')[_0x28c205(0x322)](),_0x578430=new Date(_0x4fd17f+_0x28c205(0x24a))[_0x28c205(0x322)]();specialRanges[_0x28c205(0x2b1)](_0x218b68=>{const _0x3eeb17=_0x28c205,_0x34e9b3=new Date(_0x218b68['start'])[_0x3eeb17(0x322)](),_0x175a99=new Date(_0x218b68['end'])['getTime'](),_0x5f364b=Math[_0x3eeb17(0x314)](_0x286ae1,_0x34e9b3),_0x2d45ff=Math[_0x3eeb17(0x24b)](_0x578430,_0x175a99);if(_0x5f364b<_0x2d45ff){if(_0x5f364b<=_0x286ae1&&_0x2d45ff>=_0x578430-0xea60){if(!_0x30e0a8[_0x3eeb17(0x256)]('.day-off-overlay')){const _0x54b523=document[_0x3eeb17(0x334)](_0x3eeb17(0x335));_0x54b523[_0x3eeb17(0x326)]=_0x3eeb17(0x2c3),_0x54b523[_0x3eeb17(0x2c8)]['backgroundPosition']='-'+_0x384470+_0x3eeb17(0x200),_0x30e0a8[_0x3eeb17(0x2f2)](_0x54b523);}}else{const _0x9bd12f=(_0x5f364b-_0x286ae1)/0x36ee80*GRID_H,_0x794d2=(_0x2d45ff-_0x5f364b)/0x36ee80*GRID_H,_0x2f6a5d=document[_0x3eeb17(0x334)](_0x3eeb17(0x335));_0x2f6a5d[_0x3eeb17(0x326)]='blocked-range-part\x20stripe-bg',_0x2f6a5d[_0x3eeb17(0x2c8)][_0x3eeb17(0x300)]=_0x9bd12f+'px',_0x2f6a5d[_0x3eeb17(0x2c8)][_0x3eeb17(0x1c7)]=_0x794d2+'px',_0x2f6a5d[_0x3eeb17(0x2c8)][_0x3eeb17(0x1c8)]='-'+_0x384470+_0x3eeb17(0x208)+_0x9bd12f+'px',_0x30e0a8[_0x3eeb17(0x2f2)](_0x2f6a5d);}}});}if(dateExceptions[_0x4fd17f]===_0x28c205(0x2f9)){if(!_0x30e0a8[_0x28c205(0x256)]('.day-off-overlay')){const _0x1b6ab3=document['createElement'](_0x28c205(0x335));_0x1b6ab3[_0x28c205(0x326)]=_0x28c205(0x2c3),_0x1b6ab3[_0x28c205(0x2c8)][_0x28c205(0x1c8)]='-'+_0x384470+'px\x200px',_0x30e0a8[_0x28c205(0x2f2)](_0x1b6ab3);}}renderEventsForColumn(_0x30e0a8,_0x4fd17f,_0x51dbbe),updateDayStats(_0x4fd17f);});}function updateAllDayStats(){const _0x4fef17=a2_0x37b193;document[_0x4fef17(0x244)](_0x4fef17(0x2bc))[_0x4fef17(0x2b1)](_0x15f71d=>{updateDayStats(_0x15f71d['getAttribute']('data-date'));});}function updateDayStats(_0x1056ed){const _0xb34d52=a2_0x37b193,_0x413b85=document['getElementById'](_0xb34d52(0x1db)+_0x1056ed);if(!_0x413b85)return;const _0x391237=new Date(_0x1056ed);let _0x43e699=_0x391237[_0xb34d52(0x230)]()-0x1;if(_0x43e699===-0x1)_0x43e699=0x6;if(dateExceptions[_0x1056ed]===_0xb34d52(0x2f9)){_0x413b85['style']['display']=_0xb34d52(0x22a);return;}const _0x45e522=availabilityPattern[_0x43e699]||[],_0x20a92e=0x18-_0x45e522[_0xb34d52(0x30b)],_0x4ef0fd=_0x20a92e*0x3c,_0x57581b=sessions[_0xb34d52(0x291)](_0xfb0b79=>_0xfb0b79[_0xb34d52(0x21c)]===_0x1056ed&&_0xfb0b79[_0xb34d52(0x1c2)]!=='cancelled');if(_0x57581b[_0xb34d52(0x30b)]===0x0){_0x413b85[_0xb34d52(0x2c8)][_0xb34d52(0x2be)]='none';return;}let _0x17cd2c=_0x57581b[_0xb34d52(0x342)](_0x10e83c=>{const _0x51ba54=_0xb34d52,[_0x1e2090,_0x24aace]=_0x10e83c[_0x51ba54(0x248)]['split'](':')[_0x51ba54(0x342)](Number),[_0x53fd0d,_0x23049f]=_0x10e83c['end'][_0x51ba54(0x2bd)](':')[_0x51ba54(0x342)](Number);return[_0x1e2090*0x3c+_0x24aace,_0x53fd0d*0x3c+_0x23049f];});_0x17cd2c['sort']((_0x5dca8e,_0x498c1f)=>_0x5dca8e[0x0]-_0x498c1f[0x0]);let _0x1b12d7=[];if(_0x17cd2c[_0xb34d52(0x30b)]>0x0){let _0x24e9b1=_0x17cd2c[0x0];for(let _0x1dfc73=0x1;_0x1dfc73<_0x17cd2c[_0xb34d52(0x30b)];_0x1dfc73++){_0x17cd2c[_0x1dfc73][0x0]<_0x24e9b1[0x1]?_0x24e9b1[0x1]=Math[_0xb34d52(0x314)](_0x24e9b1[0x1],_0x17cd2c[_0x1dfc73][0x1]):(_0x1b12d7[_0xb34d52(0x1cd)](_0x24e9b1),_0x24e9b1=_0x17cd2c[_0x1dfc73]);}_0x1b12d7[_0xb34d52(0x1cd)](_0x24e9b1);}let _0x31105f=0x0;_0x1b12d7[_0xb34d52(0x2b1)](_0x4b7ef2=>_0x31105f+=_0x4b7ef2[0x1]-_0x4b7ef2[0x0]),_0x413b85[_0xb34d52(0x2c8)][_0xb34d52(0x2be)]='flex';const _0x56e7f5=_0x413b85[_0xb34d52(0x256)](_0xb34d52(0x2c7));if(_0x4ef0fd===0x0){_0x56e7f5['style'][_0xb34d52(0x29e)]=_0xb34d52(0x23a),_0x56e7f5['style'][_0xb34d52(0x29b)]=_0xb34d52(0x30d);return;}const _0x1dda0b=_0x31105f/_0x4ef0fd*0x64;console[_0xb34d52(0x29c)]('['+_0x1056ed+_0xb34d52(0x28a)+_0x20a92e+_0xb34d52(0x303)+_0x31105f+_0xb34d52(0x2f4)+_0x1dda0b['toFixed'](0x1)+'%'),_0x1dda0b>0x64?(_0x56e7f5[_0xb34d52(0x2c8)][_0xb34d52(0x29e)]=_0xb34d52(0x23a),_0x56e7f5['style'][_0xb34d52(0x29b)]='var(--acc-red)'):(_0x56e7f5[_0xb34d52(0x2c8)][_0xb34d52(0x29e)]=_0x1dda0b+'%',_0x56e7f5['style'][_0xb34d52(0x29b)]=_0xb34d52(0x236));}function renderEventsForColumn(_0x1f03bf,_0x15e873,_0x4aea8e){const _0x70b846=a2_0x37b193,_0x3af9d0=sessions[_0x70b846(0x291)](_0x5bac8d=>_0x5bac8d[_0x70b846(0x21c)]===_0x15e873),_0x533cfe=_0x3af9d0[_0x70b846(0x342)](_0x1bc9c7=>{const _0xa31d26=_0x70b846,[_0x4cff36,_0x1cf297]=_0x1bc9c7['start'][_0xa31d26(0x2bd)](':')[_0xa31d26(0x342)](Number),[_0x7bdba0,_0x593ba7]=_0x1bc9c7['end']['split'](':')[_0xa31d26(0x342)](Number);return{'data':_0x1bc9c7,'start':_0x4cff36*0x3c+_0x1cf297,'end':_0x7bdba0*0x3c+_0x593ba7,'colIndex':0x0};});_0x533cfe['sort']((_0x28ce22,_0x325f63)=>{const _0x380dc1=_0x70b846;if(_0x28ce22['start']!==_0x325f63[_0x380dc1(0x248)])return _0x28ce22[_0x380dc1(0x248)]-_0x325f63[_0x380dc1(0x248)];return _0x325f63[_0x380dc1(0x329)]-_0x325f63[_0x380dc1(0x248)]-(_0x28ce22[_0x380dc1(0x329)]-_0x28ce22[_0x380dc1(0x248)]);});const _0x186ee6=[];_0x533cfe[_0x70b846(0x2b1)](_0x1a293e=>{const _0x1088c3=_0x70b846;let _0x31e750=![];for(let _0x88bb4=0x0;_0x88bb4<_0x186ee6[_0x1088c3(0x30b)];_0x88bb4++){const _0x466fe0=_0x186ee6[_0x88bb4],_0x38fd99=_0x466fe0[_0x466fe0[_0x1088c3(0x30b)]-0x1];if(_0x1a293e[_0x1088c3(0x248)]>=_0x38fd99['end']){_0x466fe0[_0x1088c3(0x1cd)](_0x1a293e),_0x1a293e[_0x1088c3(0x2b9)]=_0x88bb4,_0x31e750=!![];break;}}!_0x31e750&&(_0x186ee6[_0x1088c3(0x1cd)]([_0x1a293e]),_0x1a293e[_0x1088c3(0x2b9)]=_0x186ee6['length']-0x1);}),_0x533cfe[_0x70b846(0x2b1)](_0x317af4=>{const _0x2cb937=_0x70b846;let _0x49aa47=0x0;_0x533cfe[_0x2cb937(0x2b1)](_0x16d0cf=>{const _0x2165eb=_0x2cb937;if(Math['max'](_0x317af4[_0x2165eb(0x248)],_0x16d0cf[_0x2165eb(0x248)])<Math[_0x2165eb(0x24b)](_0x317af4['end'],_0x16d0cf[_0x2165eb(0x329)])){if(_0x16d0cf[_0x2165eb(0x2b9)]>_0x49aa47)_0x49aa47=_0x16d0cf[_0x2165eb(0x2b9)];}});const _0x31b07e=_0x49aa47+0x1,_0x1b6791=0x64/_0x31b07e,_0x330726=_0x317af4[_0x2cb937(0x2b9)]*_0x1b6791,_0x54a21b=createEventEl(_0x317af4[_0x2cb937(0x2fe)]);_0x54a21b[_0x2cb937(0x2c8)][_0x2cb937(0x29e)]='calc('+_0x1b6791+_0x2cb937(0x249),_0x54a21b[_0x2cb937(0x2c8)][_0x2cb937(0x1eb)]=_0x2cb937(0x273)+_0x330726+'%\x20+\x202px)',_0x54a21b[_0x2cb937(0x2c8)]['zIndex']=0xa+_0x317af4[_0x2cb937(0x2b9)],_0x1b6791<0x55&&_0x54a21b['classList'][_0x2cb937(0x23e)]('mini'),_0x1f03bf[_0x2cb937(0x2f2)](_0x54a21b);});}function createEventEl(_0x2e0655){const _0x320c1f=a2_0x37b193,[_0x339471,_0x2f6a09]=_0x2e0655[_0x320c1f(0x248)][_0x320c1f(0x2bd)](':')[_0x320c1f(0x342)](Number),[_0x3508b1,_0x2cc1bb]=_0x2e0655[_0x320c1f(0x329)][_0x320c1f(0x2bd)](':')[_0x320c1f(0x342)](Number),_0x41c4fc=(_0x339471*0x3c+_0x2f6a09)/0x3c*GRID_H,_0xedcf28=(_0x3508b1*0x3c+_0x2cc1bb-(_0x339471*0x3c+_0x2f6a09))/0x3c*GRID_H,_0x42966a=document[_0x320c1f(0x334)]('div'),_0x5b584b=_0x2e0655['status']===_0x320c1f(0x29a)?_0x320c1f(0x2a9):'';_0x42966a['className']=_0x320c1f(0x259)+_0x5b584b,_0x42966a[_0x320c1f(0x2c8)][_0x320c1f(0x300)]=_0x41c4fc+'px',_0x42966a[_0x320c1f(0x2c8)][_0x320c1f(0x1c7)]=Math['max'](_0xedcf28,0x14)+'px';const _0x5f28a9=clients['find'](_0x419cf1=>_0x2e0655[_0x320c1f(0x209)]&&String(_0x419cf1['id'])===String(_0x2e0655[_0x320c1f(0x209)])||_0x419cf1['name']===_0x2e0655[_0x320c1f(0x1dc)]),_0x575d07=_0x5f28a9?_0x5f28a9[_0x320c1f(0x27d)]:_0x320c1f(0x2ca);_0x42966a[_0x320c1f(0x2c8)][_0x320c1f(0x2cd)]=_0x575d07,_0x42966a['style'][_0x320c1f(0x253)]=hexToRgba(_0x575d07,0.85);let _0xf9771f=_0x320c1f(0x24e)+_0x2e0655[_0x320c1f(0x1dc)]+_0x320c1f(0x1ef)+_0x2e0655[_0x320c1f(0x248)]+_0x320c1f(0x20a)+_0x2e0655[_0x320c1f(0x329)]+_0x320c1f(0x275);return _0x2e0655[_0x320c1f(0x2a2)]&&(_0xf9771f+=_0x320c1f(0x27f)),_0x2e0655[_0x320c1f(0x1c2)]===_0x320c1f(0x29a)&&(_0xf9771f+=_0x320c1f(0x252)),_0x42966a[_0x320c1f(0x27e)]=_0xf9771f,_0x42966a[_0x320c1f(0x31b)]=_0x53d6ad=>{const _0x1362cf=_0x320c1f;_0x53d6ad[_0x1362cf(0x271)](),openEdit(_0x2e0655);},_0x42966a;}function attachLongPressHandler(_0x414ef3,_0x1a848a){const _0x1eb17b=a2_0x37b193;let _0x4c2f02=0x0,_0x2deadb=null;const _0x27c33a=_0xfa732b=>{const _0x24b899=a2_0x4c84;if(_0xfa732b[_0x24b899(0x290)][_0x24b899(0x1e9)](_0x24b899(0x2b5)))return;isScrolling=![],_0x4c2f02=_0xfa732b[_0x24b899(0x1fd)]?_0xfa732b[_0x24b899(0x1fd)][0x0][_0x24b899(0x2ad)]:_0xfa732b['clientY'],_0x2deadb=setTimeout(()=>{const _0xde20df=_0x24b899;if(!isScrolling){navigator[_0xde20df(0x2f6)]?.(0x32);const _0x14f112=_0x414ef3['getBoundingClientRect'](),_0x51853f=Math['floor']((_0x4c2f02-_0x14f112[_0xde20df(0x300)])/GRID_H);_0x1a848a['setHours'](_0x51853f,0x0),openAddSession(_0x1a848a);}},0x1f4);},_0x338a04=()=>{isScrolling=!![],clearTimeout(_0x2deadb);},_0x467d2f=()=>{clearTimeout(_0x2deadb);};_0x414ef3[_0x1eb17b(0x283)](_0x1eb17b(0x1fb),_0x27c33a,{'passive':!![]}),_0x414ef3[_0x1eb17b(0x283)]('touchmove',_0x338a04,{'passive':!![]}),_0x414ef3[_0x1eb17b(0x283)](_0x1eb17b(0x2a8),_0x467d2f),_0x414ef3[_0x1eb17b(0x283)](_0x1eb17b(0x1bd),_0x27c33a),_0x414ef3[_0x1eb17b(0x283)]('mousemove',_0x338a04),_0x414ef3[_0x1eb17b(0x283)](_0x1eb17b(0x1da),_0x467d2f);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x2f09dd=a2_0x37b193,_0x3db7b3=document['getElementById'](_0x2f09dd(0x296)),_0x5dddd2=_0x3db7b3[_0x2f09dd(0x21d)],_0x1f04ca=_0x3db7b3[_0x2f09dd(0x251)],_0x123dd6=_0x3db7b3[_0x2f09dd(0x30e)];if(_0x1f04ca-(_0x5dddd2+_0x123dd6)<0x12c){const _0x588d15=endOffset;endOffset+=0xe,renderDayRange(_0x588d15+0x1,endOffset),reRenderBlocks();}if(_0x5dddd2<0x12c){const _0x13c626=startOffset;startOffset-=0xe,prependDays(startOffset,_0x13c626-0x1),_0x3db7b3['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x17d6b6,_0xd1ce9f){const _0x538e42=a2_0x37b193,_0x45789d=document['getElementById']('daysHeaderTrack'),_0x34ddd5=document['getElementById'](_0x538e42(0x246)),_0x3d9301=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x52bf6f=new Date();_0x52bf6f['setHours'](0x0,0x0,0x0,0x0);const _0x6fce43=getLocalDateStr(new Date()),_0x20f14d=document[_0x538e42(0x250)](),_0x401406=document[_0x538e42(0x250)]();for(let _0x38282d=_0x17d6b6;_0x38282d<=_0xd1ce9f;_0x38282d++){const _0x312f46=new Date(_0x52bf6f);_0x312f46[_0x538e42(0x1cb)](_0x312f46['getDate']()+_0x38282d);const _0x206005=getLocalDateStr(_0x312f46);let _0x294fee=_0x312f46[_0x538e42(0x230)]()-0x1;if(_0x294fee===-0x1)_0x294fee=0x6;const _0x15e6ce=_0x206005===_0x6fce43,_0x297fde=document[_0x538e42(0x334)](_0x538e42(0x335));_0x297fde[_0x538e42(0x326)]=_0x538e42(0x347)+(_0x15e6ce?_0x538e42(0x2a0):''),_0x297fde['id']=_0x538e42(0x270)+_0x206005,_0x297fde['setAttribute'](_0x538e42(0x294),_0x206005),_0x297fde['innerHTML']=_0x538e42(0x238)+_0x3d9301[_0x294fee]+_0x538e42(0x265)+_0x312f46[_0x538e42(0x27c)]()+_0x538e42(0x1e0)+_0x206005+_0x538e42(0x338),_0x297fde[_0x538e42(0x31b)]=()=>openDayOptions(_0x206005,_0x3d9301[_0x294fee]+'\x20'+_0x312f46[_0x538e42(0x27c)]()),_0x20f14d[_0x538e42(0x2f2)](_0x297fde);const _0x40c17d=document[_0x538e42(0x334)](_0x538e42(0x335));_0x40c17d[_0x538e42(0x326)]=_0x538e42(0x1f8)+(_0x15e6ce?'today':''),_0x40c17d[_0x538e42(0x1ea)](_0x538e42(0x294),_0x206005),_0x40c17d[_0x538e42(0x1ea)](_0x538e42(0x202),_0x294fee),renderEventsForColumn(_0x40c17d,_0x206005,_0x294fee),attachLongPressHandler(_0x40c17d,_0x312f46),_0x401406[_0x538e42(0x2f2)](_0x40c17d),updateDayStats(_0x206005);}_0x45789d[_0x538e42(0x1ee)](_0x20f14d,_0x45789d[_0x538e42(0x229)]),_0x34ddd5[_0x538e42(0x1ee)](_0x401406,_0x34ddd5[_0x538e42(0x256)]('.day-column'));}function validateAppointment(_0x50cfb6,_0x3f3be4,_0x1ff33f,_0x3fd4f7,_0x10512f){const _0x4cc0a1=a2_0x37b193,[_0xd1131a,_0x3987a9]=_0x3f3be4['split'](':')['map'](Number),[_0x184efc,_0x2d1013]=_0x1ff33f[_0x4cc0a1(0x2bd)](':')[_0x4cc0a1(0x342)](Number),_0x1ff604=_0xd1131a*0x3c+_0x3987a9,_0x27a8c7=_0x184efc*0x3c+_0x2d1013,_0x347647=String(_0x10512f);let _0x5e2226=![],_0x21caf='';for(let _0x318dd2 of sessions){if(_0x318dd2[_0x4cc0a1(0x21c)]!==_0x50cfb6)continue;if(_0x318dd2['status']==='cancelled')continue;if(_0x3fd4f7&&String(_0x318dd2['id'])===String(_0x3fd4f7))continue;const [_0x1e0f88,_0x202817]=_0x318dd2[_0x4cc0a1(0x248)][_0x4cc0a1(0x2bd)](':')[_0x4cc0a1(0x342)](Number),[_0x307ccc,_0x4e965d]=_0x318dd2[_0x4cc0a1(0x329)][_0x4cc0a1(0x2bd)](':')[_0x4cc0a1(0x342)](Number),_0x51a1ef=_0x1e0f88*0x3c+_0x202817,_0x3fe9f5=_0x307ccc*0x3c+_0x4e965d;if(Math[_0x4cc0a1(0x314)](_0x1ff604,_0x51a1ef)<Math['min'](_0x27a8c7,_0x3fe9f5)){if(_0x318dd2['clientId']&&String(_0x318dd2['clientId'])===_0x347647)return{'valid':![],'msg':_0x4cc0a1(0x331)+_0x318dd2[_0x4cc0a1(0x1dc)]+_0x4cc0a1(0x2e3)};_0x5e2226=!![],_0x21caf=_0x318dd2[_0x4cc0a1(0x1dc)];}}if(_0x5e2226)return{'valid':!![],'warning':'–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20'+_0x21caf};return{'valid':!![]};}function updateDateDisplay(){const _0x50532f=a2_0x37b193,_0x1e14a8=document[_0x50532f(0x207)](_0x50532f(0x2eb))['value'],_0x728862=document[_0x50532f(0x207)]('sheetDateSubtitle');if(!_0x1e14a8){_0x728862[_0x50532f(0x267)]='';return;}const [_0x2fb14b,_0x3048ac,_0x4cc1f2]=_0x1e14a8['split']('-')[_0x50532f(0x342)](Number),_0x3c881f=new Date(_0x2fb14b,_0x3048ac-0x1,_0x4cc1f2),_0x57ed6e={'weekday':_0x50532f(0x285),'day':_0x50532f(0x278),'month':_0x50532f(0x285),'year':_0x50532f(0x278)};let _0x11c759=_0x3c881f[_0x50532f(0x211)](_0x50532f(0x26f),_0x57ed6e);_0x11c759=_0x11c759[_0x50532f(0x26d)](0x0)['toUpperCase']()+_0x11c759[_0x50532f(0x221)](0x1),_0x728862[_0x50532f(0x267)]=_0x11c759;}function autoSetEndTime(){const _0x301208=a2_0x37b193,_0x4c1f53=document[_0x301208(0x207)](_0x301208(0x2d9))[_0x301208(0x306)];if(!_0x4c1f53)return;const [_0x293380,_0x214ba7]=_0x4c1f53[_0x301208(0x2bd)](':')['map'](Number);let _0x65a3b9=_0x293380+0x1;if(_0x65a3b9>0x17)_0x65a3b9=0x0;const _0x97d02e=String(_0x65a3b9)[_0x301208(0x330)](0x2,'0')+':'+String(_0x214ba7)['padStart'](0x2,'0');document[_0x301208(0x207)](_0x301208(0x2e0))[_0x301208(0x306)]=_0x97d02e;}function populateClientSelect(){const _0x73d9fc=a2_0x37b193,_0x4c7bff=document[_0x73d9fc(0x207)](_0x73d9fc(0x1e1));_0x4c7bff['innerHTML']='';if(clients[_0x73d9fc(0x30b)]===0x0){const _0x4139b9=document[_0x73d9fc(0x334)](_0x73d9fc(0x1f4));_0x4139b9['text']=_0x73d9fc(0x2fd),_0x4c7bff[_0x73d9fc(0x2f2)](_0x4139b9);return;}clients[_0x73d9fc(0x2b1)](_0x45175c=>{const _0x4faa1c=_0x73d9fc,_0x2d9e27=document[_0x4faa1c(0x334)](_0x4faa1c(0x1f4));_0x2d9e27[_0x4faa1c(0x306)]=_0x45175c[_0x4faa1c(0x33b)],_0x2d9e27[_0x4faa1c(0x267)]=_0x45175c[_0x4faa1c(0x33b)],_0x4c7bff[_0x4faa1c(0x2f2)](_0x2d9e27);});}function openActionSheet(_0x413032){const _0x4e99f9=a2_0x37b193,_0x18ab6a=document[_0x4e99f9(0x207)]('actionSheet'),_0x2123b3=document['getElementById'](_0x4e99f9(0x2f1)),_0x4ee45b=document[_0x4e99f9(0x207)](_0x4e99f9(0x321)),_0x4fdaae=document[_0x4e99f9(0x207)](_0x4e99f9(0x22b)),_0x4dd890=document['getElementById'](_0x4e99f9(0x24d));_0x2123b3[_0x4e99f9(0x276)][_0x4e99f9(0x23e)](_0x4e99f9(0x274)),_0x18ab6a[_0x4e99f9(0x276)][_0x4e99f9(0x23e)](_0x4e99f9(0x297));if(_0x413032===_0x4e99f9(0x218))_0x4ee45b[_0x4e99f9(0x267)]=_0x4e99f9(0x23d),_0x4fdaae[_0x4e99f9(0x267)]=_0x4e99f9(0x31d),_0x4fdaae['onclick']=()=>{closeActionSheet(),updateSeriesBatch('single',tempSessionData);},_0x4dd890['textContent']=_0x4e99f9(0x2b3),_0x4dd890[_0x4e99f9(0x31b)]=()=>{const _0x251bce=_0x4e99f9;closeActionSheet(),updateSeriesBatch(_0x251bce(0x279),tempSessionData);};else _0x413032==='delete'&&(_0x4ee45b['textContent']=_0x4e99f9(0x245),_0x4fdaae[_0x4e99f9(0x267)]=_0x4e99f9(0x31d),_0x4fdaae[_0x4e99f9(0x326)]='as-button\x20danger',_0x4fdaae[_0x4e99f9(0x31b)]=()=>{const _0x1c2c74=_0x4e99f9;closeActionSheet(),commitDelete(_0x1c2c74(0x262),sessions[_0x1c2c74(0x1c5)](_0x327dab=>_0x327dab['id']===editingId));},_0x4dd890[_0x4e99f9(0x267)]=_0x4e99f9(0x2b3),_0x4dd890[_0x4e99f9(0x326)]=_0x4e99f9(0x287),_0x4dd890[_0x4e99f9(0x31b)]=()=>{const _0x14998a=_0x4e99f9;closeActionSheet(),commitDelete(_0x14998a(0x279),sessions[_0x14998a(0x1c5)](_0x2084e7=>_0x2084e7['id']===editingId));});}function closeActionSheet(){const _0x56c48e=a2_0x37b193;document[_0x56c48e(0x207)]('actionSheet')['classList'][_0x56c48e(0x2d8)](_0x56c48e(0x297)),document[_0x56c48e(0x207)](_0x56c48e(0x2f1))[_0x56c48e(0x276)][_0x56c48e(0x2d8)](_0x56c48e(0x274));}function openSettings(){const _0x44e67d=a2_0x37b193;openSheet(_0x44e67d(0x1f5));}function saveCoachSettings(){const _0x2f9b4a=a2_0x37b193,_0x35d954=document[_0x2f9b4a(0x207)]('settingCancelWindow')[_0x2f9b4a(0x306)];localStorage[_0x2f9b4a(0x2ef)](_0x2f9b4a(0x25e),_0x35d954),console[_0x2f9b4a(0x29c)]('[Settings]\x20Cancel\x20window\x20set\x20to:',_0x35d954),DataManager[_0x2f9b4a(0x1e5)]('save_settings',{'settings':{'cancel_window':_0x35d954}})['catch'](_0x4ad6da=>{const _0x1cdd11=_0x2f9b4a;console['error'](_0x1cdd11(0x341),_0x4ad6da),showToast(_0x1cdd11(0x2cf),![]);});}function loadCoachSettings(){const _0x31a0a4=a2_0x37b193,_0x14e7f4=localStorage[_0x31a0a4(0x1de)](_0x31a0a4(0x25e));_0x14e7f4&&(document[_0x31a0a4(0x207)]('settingCancelWindow')['value']=_0x14e7f4);}function openRangesSheet(){const _0x463c59=a2_0x37b193;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x463c59(0x34c));}function addRange(){const _0x3ba3b8=a2_0x37b193,_0x4b6996=document[_0x3ba3b8(0x207)](_0x3ba3b8(0x32d))[_0x3ba3b8(0x306)],_0xc06bed=document[_0x3ba3b8(0x207)]('rangeStartTime')[_0x3ba3b8(0x306)],_0x5ef90b=document[_0x3ba3b8(0x207)](_0x3ba3b8(0x213))[_0x3ba3b8(0x306)],_0x593129=document[_0x3ba3b8(0x207)](_0x3ba3b8(0x257))[_0x3ba3b8(0x306)];if(!_0x4b6996||!_0xc06bed||!_0x5ef90b||!_0x593129)return alert(_0x3ba3b8(0x2ff));const _0x5242c7=_0x4b6996+'T'+_0xc06bed,_0x26f0ca=_0x5ef90b+'T'+_0x593129;if(_0x5242c7>=_0x26f0ca)return alert(_0x3ba3b8(0x1d2));specialRanges[_0x3ba3b8(0x1cd)]({'start':_0x5242c7,'end':_0x26f0ca}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x3ba3b8(0x310)](),DataManager['fetchFromServer']('save_settings',{'settings':{'ranges':specialRanges}});}function deleteRange(_0x4fe77c){const _0x56d16a=a2_0x37b193;specialRanges['splice'](_0x4fe77c,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x56d16a(0x310)](),DataManager[_0x56d16a(0x1e5)](_0x56d16a(0x2ac),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x312330=a2_0x37b193;document[_0x312330(0x207)](_0x312330(0x32d))[_0x312330(0x306)]='',document[_0x312330(0x207)](_0x312330(0x1e3))['value']=_0x312330(0x2fa),document['getElementById'](_0x312330(0x213))[_0x312330(0x306)]='',document[_0x312330(0x207)](_0x312330(0x257))[_0x312330(0x306)]=_0x312330(0x204);}function renderRangesList(){const _0x3d547a=a2_0x37b193,_0x3b282f=document[_0x3d547a(0x207)](_0x3d547a(0x308));_0x3b282f[_0x3d547a(0x27e)]='';if(!specialRanges['length']){_0x3b282f[_0x3d547a(0x27e)]=_0x3d547a(0x206);return;}specialRanges['forEach']((_0x3cf1aa,_0x153261)=>{const _0x37e108=_0x3d547a,_0x55d3a0=document[_0x37e108(0x334)](_0x37e108(0x335));_0x55d3a0[_0x37e108(0x326)]=_0x37e108(0x25f);const _0x136174=_0x414ca8=>{const _0x1719d0=_0x37e108,_0x1e8b44=new Date(_0x414ca8);return _0x1e8b44[_0x1719d0(0x27c)]()+'.'+String(_0x1e8b44[_0x1719d0(0x227)]()+0x1)[_0x1719d0(0x330)](0x2,'0')+'\x20'+String(_0x1e8b44[_0x1719d0(0x32b)]())[_0x1719d0(0x330)](0x2,'0')+':'+String(_0x1e8b44['getMinutes']())['padStart'](0x2,'0');};_0x55d3a0[_0x37e108(0x27e)]=_0x37e108(0x281)+_0x136174(_0x3cf1aa[_0x37e108(0x248)])+'\x20‚Äî\x20'+_0x136174(_0x3cf1aa[_0x37e108(0x329)])+_0x37e108(0x1ca)+_0x153261+_0x37e108(0x2da),_0x3b282f['appendChild'](_0x55d3a0);});}function scrollToToday(){const _0x117dd9=a2_0x37b193,_0x254148=getLocalDateStr(new Date()),_0x39b9ec=document[_0x117dd9(0x207)](_0x117dd9(0x270)+_0x254148),_0x512f21=document['getElementById'](_0x117dd9(0x296));if(_0x39b9ec&&_0x512f21){const _0x106483=_0x512f21[_0x117dd9(0x30e)],_0x147d53=_0x39b9ec[_0x117dd9(0x2fb)],_0x5ba0da=_0x39b9ec[_0x117dd9(0x32f)];_0x512f21[_0x117dd9(0x21d)]=_0x147d53-_0x106483/0x2+_0x5ba0da/0x2,_0x512f21[_0x117dd9(0x210)]=0x9*GRID_H;}}function onScroll(){const _0x11a26e=a2_0x37b193,_0x2a0452=document['getElementById'](_0x11a26e(0x296)),_0x5752ee=document[_0x11a26e(0x244)](_0x11a26e(0x2bc));for(let _0x3658d3 of _0x5752ee)if(_0x3658d3[_0x11a26e(0x2fb)]>=_0x2a0452[_0x11a26e(0x21d)]){const _0x39b659=new Date(_0x3658d3[_0x11a26e(0x1fe)](_0x11a26e(0x294)));document[_0x11a26e(0x207)](_0x11a26e(0x1d3))[_0x11a26e(0x267)]=_0x39b659[_0x11a26e(0x2e1)]('ru',{'month':'long'})['toUpperCase']()+'\x20'+_0x39b659[_0x11a26e(0x2d3)]();break;}}function showToast(_0x111840,_0xb2d62d=![]){const _0x3b445a=a2_0x37b193,_0x3f9cdb=document[_0x3b445a(0x207)](_0x3b445a(0x27a));_0x3f9cdb['className']=_0x3b445a(0x2d2)+(_0xb2d62d?_0x3b445a(0x240):''),document[_0x3b445a(0x207)](_0x3b445a(0x2f8))[_0x3b445a(0x267)]=_0xb2d62d?_0x3b445a(0x1e4):'–ò–Ω—Ñ–æ',document[_0x3b445a(0x207)](_0x3b445a(0x1d0))[_0x3b445a(0x267)]=_0x111840,_0x3f9cdb[_0x3b445a(0x276)]['add'](_0x3b445a(0x2ce)),setTimeout(()=>{const _0x6cf194=_0x3b445a;_0x3f9cdb[_0x6cf194(0x276)][_0x6cf194(0x2d8)](_0x6cf194(0x2ce));},0xbb8);}function openDayOptions(_0x4d9538,_0x14c227){const _0x5c4383=a2_0x37b193;selectedDayForOptions=_0x4d9538,document['getElementById'](_0x5c4383(0x1e2))[_0x5c4383(0x267)]=_0x14c227,openSheet(_0x5c4383(0x1f3));}function toggleDayOff(){const _0x4be38a=a2_0x37b193;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]='off',reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager[_0x4be38a(0x1e5)]('save_settings',{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x2ed165=a2_0x37b193;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x2ed165(0x310)](),DataManager[_0x2ed165(0x1e5)](_0x2ed165(0x2ac),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0xf0afc6){const _0x37aae7=a2_0x37b193;document[_0x37aae7(0x207)](_0x37aae7(0x320))[_0x37aae7(0x276)]['add'](_0x37aae7(0x274)),document[_0x37aae7(0x207)](_0xf0afc6)[_0x37aae7(0x276)][_0x37aae7(0x23e)]('open');}function closeAllSheets(){const _0x5c047a=a2_0x37b193;document['getElementById'](_0x5c047a(0x320))[_0x5c047a(0x276)]['remove'](_0x5c047a(0x274)),document['querySelectorAll'](_0x5c047a(0x1c4))[_0x5c047a(0x2b1)](_0x2af972=>_0x2af972[_0x5c047a(0x276)][_0x5c047a(0x2d8)]('open'));}function openPatternEditor(){const _0x2f027b=a2_0x37b193;closeAllSheets(),document['getElementById'](_0x2f027b(0x1be))['classList']['add'](_0x2f027b(0x297)),renderPatternEditor();}function closePatternEditor(){const _0x163081=a2_0x37b193;document[_0x163081(0x207)](_0x163081(0x1be))[_0x163081(0x276)][_0x163081(0x2d8)](_0x163081(0x297));}function savePattern(){const _0x31529a=a2_0x37b193;document['getElementById'](_0x31529a(0x1be))[_0x31529a(0x276)][_0x31529a(0x2d8)](_0x31529a(0x297)),reRenderBlocks(),DataManager[_0x31529a(0x310)](),DataManager[_0x31529a(0x1e5)](_0x31529a(0x2ac),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x3a9dfc=a2_0x37b193,_0x36c269=document['getElementById'](_0x3a9dfc(0x2e9));_0x36c269['innerHTML']='';const _0x25d08a=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1c1f54=document['createElement']('div');_0x1c1f54[_0x3a9dfc(0x326)]=_0x3a9dfc(0x258),_0x36c269['appendChild'](_0x1c1f54),_0x25d08a['forEach']((_0x1c85e0,_0x5c29e8)=>{const _0x37d579=_0x3a9dfc,_0xc732ef=document[_0x37d579(0x334)]('div');_0xc732ef[_0x37d579(0x326)]='pe-col-header',_0xc732ef[_0x37d579(0x27e)]=_0x1c85e0+_0x37d579(0x264),_0xc732ef[_0x37d579(0x31b)]=()=>toggleColPattern(_0x5c29e8),_0x36c269[_0x37d579(0x2f2)](_0xc732ef);});for(let _0x1fff9d=0x0;_0x1fff9d<0x18;_0x1fff9d++){const _0x42e123=document[_0x3a9dfc(0x334)](_0x3a9dfc(0x335));_0x42e123['className']='pe-time-label',_0x42e123[_0x3a9dfc(0x27e)]=_0x3a9dfc(0x2a4)+String(_0x1fff9d)[_0x3a9dfc(0x330)](0x2,'0')+':00',_0x42e123['onclick']=()=>toggleRowPattern(_0x1fff9d),_0x36c269[_0x3a9dfc(0x2f2)](_0x42e123);for(let _0x554a74=0x0;_0x554a74<0x7;_0x554a74++){const _0x5ce898=document[_0x3a9dfc(0x334)](_0x3a9dfc(0x335)),_0x568cf9=(availabilityPattern[_0x554a74]||[])[_0x3a9dfc(0x32e)](_0x1fff9d),_0x48c2db=!_0x568cf9;_0x5ce898[_0x3a9dfc(0x326)]=_0x3a9dfc(0x316)+(_0x48c2db?_0x3a9dfc(0x274):''),_0x5ce898[_0x3a9dfc(0x31b)]=()=>toggleSinglePattern(_0x554a74,_0x1fff9d),_0x36c269[_0x3a9dfc(0x2f2)](_0x5ce898);}}}function toggleSinglePattern(_0x545ebb,_0x9eeb2d){const _0xea8af1=a2_0x37b193;if(!availabilityPattern[_0x545ebb])availabilityPattern[_0x545ebb]=[];const _0x3bd79b=availabilityPattern[_0x545ebb],_0x5a98fb=_0x3bd79b[_0xea8af1(0x247)](_0x9eeb2d);_0x5a98fb===-0x1?_0x3bd79b['push'](_0x9eeb2d):_0x3bd79b['splice'](_0x5a98fb,0x1),renderPatternEditor();}function toggleColPattern(_0x261300){const _0x58c272=a2_0x37b193;if(!availabilityPattern[_0x261300])availabilityPattern[_0x261300]=[];const _0x3c24b3=availabilityPattern[_0x261300];_0x3c24b3['length']===0x0?availabilityPattern[_0x261300]=Array[_0x58c272(0x1f2)]({'length':0x18},(_0x3625ef,_0x16fb63)=>_0x16fb63):availabilityPattern[_0x261300]=[],renderPatternEditor();}function toggleRowPattern(_0x422036){const _0xb5bbf5=a2_0x37b193;let _0x617dc4=!![];for(let _0x214e50=0x0;_0x214e50<0x7;_0x214e50++){if((availabilityPattern[_0x214e50]||[])[_0xb5bbf5(0x32e)](_0x422036)){_0x617dc4=![];break;}}for(let _0x4604a7=0x0;_0x4604a7<0x7;_0x4604a7++){if(!availabilityPattern[_0x4604a7])availabilityPattern[_0x4604a7]=[];const _0x505ad6=availabilityPattern[_0x4604a7]['indexOf'](_0x422036);if(_0x617dc4){if(_0x505ad6===-0x1)availabilityPattern[_0x4604a7][_0xb5bbf5(0x1cd)](_0x422036);}else{if(_0x505ad6!==-0x1)availabilityPattern[_0x4604a7][_0xb5bbf5(0x31a)](_0x505ad6,0x1);}}renderPatternEditor();}function a2_0x4c84(_0x527c6b,_0x51c519){_0x527c6b=_0x527c6b-0x1bd;const _0x292b2d=a2_0x1117();let _0x2bc022=_0x292b2d[_0x527c6b];return _0x2bc022;}function renderPCol(_0x388e26,_0x2895e1){const _0x3f8c77=a2_0x37b193;_0x388e26[_0x3f8c77(0x27e)]='';const _0x1fa0f1=Math[_0x3f8c77(0x228)](_0x388e26[_0x3f8c77(0x2fb)]);(availabilityPattern[_0x2895e1]||[])[_0x3f8c77(0x2b1)](_0x26dcb9=>{const _0x380d88=_0x3f8c77,_0xf4302c=document[_0x380d88(0x334)]('div');_0xf4302c['className']=_0x380d88(0x31e);const _0x41ff6=_0x26dcb9*GRID_H;_0xf4302c[_0x380d88(0x2c8)][_0x380d88(0x300)]=_0x41ff6+'px',_0xf4302c[_0x380d88(0x2c8)]['backgroundPosition']='-'+_0x1fa0f1+_0x380d88(0x208)+_0x41ff6+'px',_0xf4302c[_0x380d88(0x31b)]=_0x36ec85=>{const _0x3720a1=_0x380d88;_0x36ec85[_0x3720a1(0x271)](),toggleSinglePattern(_0x2895e1,_0x26dcb9);},_0x388e26['appendChild'](_0xf4302c);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x51d568=a2_0x37b193,_0x43b6f4=new Date(),_0x46dfc4=document[_0x51d568(0x207)](_0x51d568(0x212)),_0x53f23f=document[_0x51d568(0x207)]('timeLineBadge'),_0x393271=(_0x43b6f4[_0x51d568(0x32b)]()*0x3c+_0x43b6f4[_0x51d568(0x21e)]())/0x3c*GRID_H;_0x46dfc4[_0x51d568(0x2c8)]['top']=_0x393271+'px',_0x46dfc4['style'][_0x51d568(0x2be)]=_0x51d568(0x23c),_0x53f23f[_0x51d568(0x267)]=String(_0x43b6f4[_0x51d568(0x32b)]())['padStart'](0x2,'0')+':'+String(_0x43b6f4[_0x51d568(0x21e)]())[_0x51d568(0x330)](0x2,'0'),_0x53f23f['style'][_0x51d568(0x2be)]=_0x51d568(0x23c),_0x53f23f[_0x51d568(0x2c8)][_0x51d568(0x300)]=_0x393271+'px';}document[a2_0x37b193(0x283)](a2_0x37b193(0x1c0),init);function openDayOptions(_0x4df871){const _0x18cf72=a2_0x37b193;selectedDayForOptions=_0x4df871;const _0x79790d=new Date(_0x4df871),_0x37750f={'weekday':'long','day':'numeric','month':'long','year':'numeric'},_0x2fe43f=_0x79790d[_0x18cf72(0x211)](_0x18cf72(0x26f),_0x37750f);document['getElementById'](_0x18cf72(0x21a))['textContent']=_0x2fe43f[_0x18cf72(0x26d)](0x0)['toUpperCase']()+_0x2fe43f[_0x18cf72(0x221)](0x1);let _0x523595=_0x79790d[_0x18cf72(0x230)]()-0x1;if(_0x523595===-0x1)_0x523595=0x6;const _0x288f7e=availabilityPattern[_0x523595]||[],_0x48ba32=0x18-_0x288f7e[_0x18cf72(0x30b)],_0x29ec22=_0x48ba32*0x3c,_0x167beb=sessions['filter'](_0x54785b=>_0x54785b[_0x18cf72(0x21c)]===_0x4df871&&_0x54785b['status']!==_0x18cf72(0x1c1));let _0x1ca865=_0x167beb[_0x18cf72(0x342)](_0x28d39c=>{const _0x3f9a91=_0x18cf72,[_0x3710a5,_0x43d405]=_0x28d39c[_0x3f9a91(0x248)][_0x3f9a91(0x2bd)](':')[_0x3f9a91(0x342)](Number),[_0x204250,_0x53027e]=_0x28d39c['end'][_0x3f9a91(0x2bd)](':')[_0x3f9a91(0x342)](Number);return[_0x3710a5*0x3c+_0x43d405,_0x204250*0x3c+_0x53027e];});_0x1ca865[_0x18cf72(0x26c)]((_0x39f023,_0x8bbbdd)=>_0x39f023[0x0]-_0x8bbbdd[0x0]);let _0x886969=[];if(_0x1ca865['length']>0x0){let _0x4ab5ac=_0x1ca865[0x0];for(let _0x4ddb5f=0x1;_0x4ddb5f<_0x1ca865[_0x18cf72(0x30b)];_0x4ddb5f++){_0x1ca865[_0x4ddb5f][0x0]<_0x4ab5ac[0x1]?_0x4ab5ac[0x1]=Math[_0x18cf72(0x314)](_0x4ab5ac[0x1],_0x1ca865[_0x4ddb5f][0x1]):(_0x886969['push'](_0x4ab5ac),_0x4ab5ac=_0x1ca865[_0x4ddb5f]);}_0x886969[_0x18cf72(0x1cd)](_0x4ab5ac);}let _0x34a783=0x0;_0x886969[_0x18cf72(0x2b1)](_0x515677=>_0x34a783+=_0x515677[0x1]-_0x515677[0x0]),document[_0x18cf72(0x207)](_0x18cf72(0x28d))[_0x18cf72(0x267)]=formatMinsToHrs(_0x29ec22),document[_0x18cf72(0x207)](_0x18cf72(0x1bf))[_0x18cf72(0x267)]=formatMinsToHrs(_0x34a783);const _0x2787ee=_0x29ec22>0x0?Math[_0x18cf72(0x228)](_0x34a783/_0x29ec22*0x64):0x0,_0x1da2b4=document[_0x18cf72(0x207)](_0x18cf72(0x304));_0x1da2b4[_0x18cf72(0x267)]=_0x2787ee+'%';const _0x262373=document['getElementById'](_0x18cf72(0x2e7));if(_0x2787ee>0x64)_0x1da2b4[_0x18cf72(0x2c8)][_0x18cf72(0x27d)]=_0x18cf72(0x30d),_0x262373['style'][_0x18cf72(0x2c2)]='rgba(255,\x2069,\x2058,\x200.3)';else _0x2787ee>0x50?(_0x1da2b4[_0x18cf72(0x2c8)][_0x18cf72(0x27d)]='var(--acc-orange)',_0x262373['style']['borderColor']=_0x18cf72(0x28f)):(_0x1da2b4[_0x18cf72(0x2c8)][_0x18cf72(0x27d)]=_0x18cf72(0x233),_0x262373[_0x18cf72(0x2c8)][_0x18cf72(0x2c2)]=_0x18cf72(0x2d0));const _0x1af805=document['getElementById'](_0x18cf72(0x235));_0x1af805[_0x18cf72(0x27e)]='';_0x167beb[_0x18cf72(0x30b)]===0x0?_0x1af805[_0x18cf72(0x27e)]='<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>':(_0x167beb[_0x18cf72(0x26c)]((_0x38b984,_0x3d2c6d)=>_0x38b984['start'][_0x18cf72(0x20d)](_0x3d2c6d['start'])),_0x167beb[_0x18cf72(0x2b1)](_0x58fd20=>{const _0x2c629a=_0x18cf72,_0x162db6=clients[_0x2c629a(0x1c5)](_0x27e5af=>_0x27e5af['name']===_0x58fd20['client']),_0x27ece2=_0x162db6?_0x162db6['color']:'#fff',_0x356b37=_0x58fd20[_0x2c629a(0x1c2)]===_0x2c629a(0x29a),_0x167f87=_0x356b37?_0x2c629a(0x309):'',_0x4a49bd=document[_0x2c629a(0x334)](_0x2c629a(0x335));_0x4a49bd['className']=_0x2c629a(0x1ec),_0x4a49bd[_0x2c629a(0x2c8)][_0x2c629a(0x2cd)]=_0x27ece2,_0x4a49bd['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>'+_0x58fd20[_0x2c629a(0x248)]+_0x2c629a(0x20a)+_0x58fd20[_0x2c629a(0x329)]+_0x2c629a(0x2b2)+_0x58fd20['client']+_0x2c629a(0x20c)+_0x167f87+_0x2c629a(0x222),_0x1af805['appendChild'](_0x4a49bd);}));const _0x272c3c=document['getElementById'](_0x18cf72(0x336)),_0x31a887=dateExceptions[_0x4df871]==='off';_0x31a887?(_0x272c3c['textContent']=_0x18cf72(0x319),_0x272c3c[_0x18cf72(0x326)]=_0x18cf72(0x1fa),_0x272c3c[_0x18cf72(0x2c8)][_0x18cf72(0x27d)]='var(--acc-green)',_0x272c3c[_0x18cf72(0x2c8)]['background']=_0x18cf72(0x2d6)):(_0x272c3c[_0x18cf72(0x267)]='–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º',_0x272c3c['className']=_0x18cf72(0x21f),_0x272c3c[_0x18cf72(0x2c8)][_0x18cf72(0x27d)]=_0x18cf72(0x30d),_0x272c3c[_0x18cf72(0x2c8)][_0x18cf72(0x29b)]=_0x18cf72(0x1ff)),openSheet(_0x18cf72(0x1f3));}let currentAnPeriod=a2_0x37b193(0x1f1);function openAnalytics(){const _0x5ae2d2=a2_0x37b193,_0x553416=document[_0x5ae2d2(0x256)](_0x5ae2d2(0x1df));setAnalyticsPeriod(_0x5ae2d2(0x1f1),_0x553416),closeAllSheets(),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0xe5337f,_0x21903f){const _0x1e3528=a2_0x37b193;currentAnPeriod=_0xe5337f,document[_0x1e3528(0x244)](_0x1e3528(0x1df))[_0x1e3528(0x2b1)](_0x5bfaeb=>_0x5bfaeb[_0x1e3528(0x276)]['remove'](_0x1e3528(0x274)));if(_0x21903f)_0x21903f['classList']['add'](_0x1e3528(0x274));const _0x53ade8=document[_0x1e3528(0x207)](_0x1e3528(0x26a));_0x53ade8['style']['display']=_0xe5337f===_0x1e3528(0x239)?_0x1e3528(0x25c):_0x1e3528(0x22a);const _0x3b0f3f=new Date();let _0x20afde=new Date(),_0x1e3037=new Date();if(_0xe5337f===_0x1e3528(0x1f1))_0x20afde=getStartOfWeek(_0x3b0f3f),_0x1e3037=new Date(_0x20afde),_0x1e3037[_0x1e3528(0x1cb)](_0x1e3037[_0x1e3528(0x27c)]()+0x6);else{if(_0xe5337f===_0x1e3528(0x1f6))_0x20afde=new Date(_0x3b0f3f[_0x1e3528(0x2d3)](),_0x3b0f3f[_0x1e3528(0x227)](),0x1),_0x1e3037=new Date(_0x3b0f3f['getFullYear'](),_0x3b0f3f[_0x1e3528(0x227)]()+0x1,0x0);else{!document[_0x1e3528(0x207)]('anStart')[_0x1e3528(0x306)]&&(document[_0x1e3528(0x207)](_0x1e3528(0x33a))[_0x1e3528(0x306)]=getLocalDateStr(_0x3b0f3f),document[_0x1e3528(0x207)]('anEnd')[_0x1e3528(0x306)]=getLocalDateStr(_0x3b0f3f));refreshAnalytics();return;}}document[_0x1e3528(0x207)]('anStart')[_0x1e3528(0x306)]=getLocalDateStr(_0x20afde),document[_0x1e3528(0x207)](_0x1e3528(0x295))['value']=getLocalDateStr(_0x1e3037),refreshAnalytics();}function refreshAnalytics(){const _0x5e4f1a=a2_0x37b193,_0x2c27e3=document[_0x5e4f1a(0x207)](_0x5e4f1a(0x33a))[_0x5e4f1a(0x306)],_0x288c92=document[_0x5e4f1a(0x207)](_0x5e4f1a(0x295))['value'];if(!_0x2c27e3||!_0x288c92)return;const _0x45c26a=sessions[_0x5e4f1a(0x291)](_0x246760=>_0x246760['dateStr']>=_0x2c27e3&&_0x246760[_0x5e4f1a(0x21c)]<=_0x288c92&&_0x246760[_0x5e4f1a(0x1c2)]!==_0x5e4f1a(0x1c1)),_0x9f48af=_0x45c26a['length'],_0x1b1771=_0x45c26a[_0x5e4f1a(0x291)](_0x31d706=>_0x31d706[_0x5e4f1a(0x1c2)]===_0x5e4f1a(0x29a))[_0x5e4f1a(0x30b)],_0x42ece4=_0x9f48af>0x0?Math['round'](_0x1b1771/_0x9f48af*0x64):0x0;document[_0x5e4f1a(0x207)]('anPercent')[_0x5e4f1a(0x267)]=_0x42ece4+'%',document['getElementById'](_0x5e4f1a(0x1d6))[_0x5e4f1a(0x267)]=_0x1b1771+'\x20–∏–∑\x20'+_0x9f48af+_0x5e4f1a(0x1c6);const _0x2039e6=document['getElementById'](_0x5e4f1a(0x345)),_0x2bf45d=0x2*Math['PI']*0x23,_0x1e506e=_0x2bf45d-_0x42ece4/0x64*_0x2bf45d;_0x2039e6[_0x5e4f1a(0x2c8)][_0x5e4f1a(0x1d8)]=_0x1e506e;const _0x218aad={};_0x45c26a['forEach'](_0xfccb64=>{const _0x4b46d3=_0x5e4f1a;if(!_0x218aad[_0xfccb64[_0x4b46d3(0x1dc)]]){const _0x1f50e9=clients[_0x4b46d3(0x1c5)](_0x50b742=>_0x50b742[_0x4b46d3(0x33b)]===_0xfccb64[_0x4b46d3(0x1dc)]);_0x218aad[_0xfccb64[_0x4b46d3(0x1dc)]]={'total':0x0,'done':0x0,'color':_0x1f50e9?_0x1f50e9[_0x4b46d3(0x27d)]:_0x4b46d3(0x22f)};}_0x218aad[_0xfccb64[_0x4b46d3(0x1dc)]][_0x4b46d3(0x2b8)]++;if(_0xfccb64[_0x4b46d3(0x1c2)]===_0x4b46d3(0x29a))_0x218aad[_0xfccb64['client']]['done']++;});const _0x7ac3ff=document['getElementById']('analyticsList');_0x7ac3ff[_0x5e4f1a(0x27e)]='';const _0xce6f3=Object[_0x5e4f1a(0x33f)](_0x218aad)[_0x5e4f1a(0x26c)]((_0x51db4a,_0x4f83ba)=>_0x4f83ba[0x1][_0x5e4f1a(0x2b8)]-_0x51db4a[0x1][_0x5e4f1a(0x2b8)]);if(_0xce6f3[_0x5e4f1a(0x30b)]===0x0){_0x7ac3ff[_0x5e4f1a(0x27e)]=_0x5e4f1a(0x2ae);return;}_0xce6f3['forEach'](([_0x15ad35,_0x198e84])=>{const _0x11a6b9=_0x5e4f1a,_0x158b63=Math['round'](_0x198e84[_0x11a6b9(0x2dd)]/_0x198e84[_0x11a6b9(0x2b8)]*0x64),_0x34fcee=document[_0x11a6b9(0x334)](_0x11a6b9(0x335));_0x34fcee[_0x11a6b9(0x326)]=_0x11a6b9(0x2c4),_0x34fcee[_0x11a6b9(0x2c8)][_0x11a6b9(0x2cd)]=_0x198e84['color'],_0x34fcee['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>'+_0x15ad35+_0x11a6b9(0x2af)+_0x198e84['done']+_0x11a6b9(0x2ab)+_0x198e84[_0x11a6b9(0x2b8)]+_0x11a6b9(0x21b)+_0x158b63+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x7ac3ff[_0x11a6b9(0x2f2)](_0x34fcee);});}function formatMinsToHrs(_0x804859){const _0x49194d=a2_0x37b193;if(_0x804859===0x0)return'0';const _0x8b1557=Math[_0x49194d(0x301)](_0x804859/0x3c),_0x9b0bac=_0x804859%0x3c;if(_0x9b0bac===0x0)return _0x8b1557+'—á';return _0x8b1557+'—á\x20'+_0x9b0bac+'–º';}