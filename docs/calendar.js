const a2_0x1aa9d6=a2_0x531d;(function(_0x37a2bb,_0x85879e){const _0xae9020=a2_0x531d,_0x129393=_0x37a2bb();while(!![]){try{const _0x5d4772=parseInt(_0xae9020(0xcf))/0x1*(-parseInt(_0xae9020(0x183))/0x2)+-parseInt(_0xae9020(0x1e3))/0x3+parseInt(_0xae9020(0x14f))/0x4+parseInt(_0xae9020(0x126))/0x5+parseInt(_0xae9020(0x1ee))/0x6*(parseInt(_0xae9020(0x143))/0x7)+-parseInt(_0xae9020(0x149))/0x8+parseInt(_0xae9020(0xdf))/0x9*(-parseInt(_0xae9020(0x1a8))/0xa);if(_0x5d4772===_0x85879e)break;else _0x129393['push'](_0x129393['shift']());}catch(_0x37cf9b){_0x129393['push'](_0x129393['shift']());}}}(a2_0x4930,0x3d7bf),function initTMA(){const _0x4c922b=a2_0x531d,_0x1faa00=(function(){let _0x108fd3=!![];return function(_0x32e675,_0x21d97e){const _0x26fcda=_0x108fd3?function(){const _0x5e0fd8=a2_0x531d;if(_0x21d97e){const _0x199707=_0x21d97e[_0x5e0fd8(0x184)](_0x32e675,arguments);return _0x21d97e=null,_0x199707;}}:function(){};return _0x108fd3=![],_0x26fcda;};}()),_0xdbf670=_0x1faa00(this,function(){const _0x17a19f=a2_0x531d;return _0xdbf670['toString']()['search'](_0x17a19f(0x1fb))[_0x17a19f(0x1ae)]()[_0x17a19f(0x120)](_0xdbf670)[_0x17a19f(0x129)]('(((.+)+)+)+$');});_0xdbf670();try{const _0x4664a9=window[_0x4c922b(0x103)]?.[_0x4c922b(0x15a)];if(!_0x4664a9)return;_0x4664a9[_0x4c922b(0x21c)](),_0x4664a9[_0x4c922b(0xf6)]();try{_0x4664a9[_0x4c922b(0x22f)]('#050505'),_0x4664a9[_0x4c922b(0x21e)]&&_0x4664a9['setBackgroundColor'](_0x4c922b(0x186));}catch(_0x61c141){console['log']('Error\x20setting\x20color:',_0x61c141);}try{_0x4664a9[_0x4c922b(0x11f)]&&(_0x4664a9[_0x4c922b(0x11f)]['show'](),_0x4664a9['BackButton'][_0x4c922b(0x18d)](),_0x4664a9[_0x4c922b(0x11f)][_0x4c922b(0x222)](function(){const _0x1c0345=_0x4c922b;window[_0x1c0345(0xfc)]['href']=_0x1c0345(0x10a);}));}catch(_0x3d0648){console[_0x4c922b(0x1d7)](_0x4c922b(0xdc),_0x3d0648);}try{if(_0x4664a9[_0x4c922b(0x18f)])_0x4664a9['disableVerticalSwipes']();}catch(_0x44c8a0){}}catch(_0x47ce0c){console[_0x4c922b(0x199)](_0x4c922b(0x125),_0x47ce0c);}}());function isAdmin(){const _0x300541=a2_0x531d;try{const _0xf3859e=Number(window['Telegram']?.[_0x300541(0x15a)]?.[_0x300541(0x1b7)]?.[_0x300541(0x225)]?.['id']);return _0xf3859e===0xbaf7174;}catch(_0x35e3b8){return![];}}const APP_VERSION=a2_0x1aa9d6(0x1dc),API_URL=a2_0x1aa9d6(0x110),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x1aa9d6(0x187),KEY_SESSIONS=a2_0x1aa9d6(0x159),KEY_SETTINGS=a2_0x1aa9d6(0x118);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x40a41f=a2_0x1aa9d6;return window[_0x40a41f(0x103)]?.[_0x40a41f(0x15a)]?.['initDataUnsafe']?.[_0x40a41f(0x225)]?.['id']||_0x40a41f(0x10f);},'saveLocally'(){const _0x552a8b=a2_0x1aa9d6;try{localStorage['setItem'](KEY_CLIENTS,JSON['stringify'](clients)),localStorage[_0x552a8b(0x13b)](KEY_SESSIONS,JSON[_0x552a8b(0x21a)](sessions)),localStorage[_0x552a8b(0x13b)](KEY_SETTINGS,JSON[_0x552a8b(0x21a)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x4c6b82){console['error']('Local\x20Save\x20Error',_0x4c6b82);}},'loadLocal'(){const _0x445a7b=a2_0x1aa9d6;try{const _0x37047b=localStorage['getItem'](KEY_CLIENTS);if(_0x37047b)clients=JSON['parse'](_0x37047b);const _0x12be8c=localStorage['getItem'](KEY_SESSIONS);if(_0x12be8c)sessions=JSON[_0x445a7b(0x1c8)](_0x12be8c);const _0x1c0d37=localStorage[_0x445a7b(0x226)](KEY_SETTINGS);if(_0x1c0d37){const _0x37b7ad=JSON[_0x445a7b(0x1c8)](_0x1c0d37);if(_0x37b7ad[_0x445a7b(0x116)])availabilityPattern=_0x37b7ad['pattern'];if(_0x37b7ad[_0x445a7b(0x173)])dateExceptions=_0x37b7ad['exceptions'];if(_0x37b7ad[_0x445a7b(0x109)])specialRanges=_0x37b7ad[_0x445a7b(0x109)];}else{for(let _0x86d8c0=0x0;_0x86d8c0<0x7;_0x86d8c0++)availabilityPattern[_0x86d8c0]=Array[_0x445a7b(0x13d)]({'length':0xc},(_0x187994,_0x3f9e72)=>_0x3f9e72+0x9);}}catch(_0x1648ce){console[_0x445a7b(0x199)](_0x445a7b(0x144),_0x1648ce);}},async 'fetchFromServer'(_0x2fa981,_0xfe7f7d={}){const _0xa1454e=a2_0x1aa9d6,_0x431f73=window[_0xa1454e(0x103)]?.[_0xa1454e(0x15a)],_0x332195={'action':_0x2fa981,'init_data':_0x431f73?.[_0xa1454e(0x117)]||'',..._0xfe7f7d};try{const _0x357a17=await fetch(API_URL,{'method':'POST','headers':{'Content-Type':_0xa1454e(0xea)},'body':JSON['stringify'](_0x332195)}),_0xa213af=await _0x357a17[_0xa1454e(0x15f)]();if(!_0xa213af['ok'])throw new Error(_0xa213af[_0xa1454e(0x199)]||_0xa1454e(0xca));return _0xa213af[_0xa1454e(0x210)];}catch(_0x5e04ea){console[_0xa1454e(0x199)](_0xa1454e(0x15b)+_0x2fa981+_0xa1454e(0x227),_0x5e04ea);throw _0x5e04ea;}},async 'syncLoad'(){const _0x49fa4c=a2_0x1aa9d6,_0x53de49=new Date(),_0x2cdc26=_0x53de49['getFullYear']()+'-'+String(_0x53de49['getMonth']()+0x1)[_0x49fa4c(0x1a4)](0x2,'0'),_0x19687a=new Date(_0x53de49);_0x19687a['setMonth'](_0x53de49[_0x49fa4c(0xb3)]()+0x1);const _0xfe1644=_0x19687a[_0x49fa4c(0x206)]()+'-'+String(_0x19687a[_0x49fa4c(0xb3)]()+0x1)[_0x49fa4c(0x1a4)](0x2,'0'),_0x252aff=Date['now']();console[_0x49fa4c(0x1d7)](_0x49fa4c(0x153)+_0x2cdc26+',\x20'+_0xfe1644+_0x49fa4c(0x219));try{const [_0x418fd9,_0x52d539]=await Promise[_0x49fa4c(0x10c)]([this['fetchFromServer'](_0x49fa4c(0x1a3),{'month_str':_0x2cdc26}),this['fetchFromServer'](_0x49fa4c(0x1a3),{'month_str':_0xfe1644})]);if(lastUserActionTime>_0x252aff)return console[_0x49fa4c(0x21f)](_0x49fa4c(0xd0)),![];return this[_0x49fa4c(0xc2)](_0x418fd9,_0x2cdc26),this[_0x49fa4c(0xc2)](_0x52d539,_0xfe1644),this[_0x49fa4c(0x1f4)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x4d8f70){console[_0x49fa4c(0x199)](_0x4d8f70);throw _0x4d8f70;}},'mergeServerData'(_0x50a958,_0x5acfd2){const _0xaba814=a2_0x1aa9d6;if(!_0x50a958)return;_0x50a958['clients']&&Array[_0xaba814(0x204)](_0x50a958[_0xaba814(0xf3)])&&(clients=_0x50a958[_0xaba814(0xf3)]);if(_0x50a958['settings']){if(_0x50a958[_0xaba814(0x181)]['pattern'])availabilityPattern=_0x50a958['settings'][_0xaba814(0x116)];if(_0x50a958['settings'][_0xaba814(0x173)])dateExceptions=_0x50a958[_0xaba814(0x181)][_0xaba814(0x173)];if(_0x50a958[_0xaba814(0x181)]['ranges'])specialRanges=_0x50a958['settings'][_0xaba814(0x109)];if(_0x50a958['settings'][_0xaba814(0x156)]){localStorage[_0xaba814(0x13b)](_0xaba814(0x1ab),_0x50a958[_0xaba814(0x181)][_0xaba814(0x156)]);const _0x1a991d=document['getElementById'](_0xaba814(0x229));if(_0x1a991d)_0x1a991d[_0xaba814(0x218)]=_0x50a958[_0xaba814(0x181)][_0xaba814(0x156)];}}_0x50a958[_0xaba814(0x221)]&&(sessions=sessions['filter'](_0x16902d=>!_0x16902d[_0xaba814(0xfe)]['startsWith'](_0x5acfd2)),Object['keys'](_0x50a958[_0xaba814(0x221)])[_0xaba814(0x217)](_0x2eafa7=>{const _0x15a6b4=_0xaba814,_0x4136ef=_0x50a958['calendar'][_0x2eafa7];_0x4136ef[_0x15a6b4(0x217)](_0x24681c=>{const _0x3d45d1=_0x15a6b4,_0x256c26=clients[_0x3d45d1(0x106)](_0xcfcb9e=>String(_0xcfcb9e['id'])===String(_0x24681c['c']));sessions[_0x3d45d1(0x151)]({'id':_0x24681c['i'],'clientId':_0x24681c['c'],'client':_0x256c26?_0x256c26[_0x3d45d1(0x164)]:_0x3d45d1(0x12d),'dateStr':_0x5acfd2+'-'+_0x2eafa7[_0x3d45d1(0x1a4)](0x2,'0'),'start':_0x24681c['s'],'end':_0x24681c['e'],'status':_0x24681c['st']||_0x3d45d1(0xcc),'note':_0x24681c['n']||'','seriesId':_0x24681c[_0x3d45d1(0x17a)]||null});});}));},async 'syncBatch'(_0x653138){const _0x36f101=a2_0x1aa9d6,_0x2773c9=[...new Set(_0x653138)],_0x1c033d=_0x2773c9['map'](_0x7adb3f=>{const _0x4547a4=a2_0x531d,_0x54f2bb=sessions['filter'](_0x1fdd88=>_0x1fdd88[_0x4547a4(0xfe)]===_0x7adb3f&&_0x1fdd88[_0x4547a4(0x13f)]!==_0x4547a4(0xef)),_0x1542d1=_0x54f2bb[_0x4547a4(0x1c4)](_0x1485ad=>({'i':_0x1485ad['id'],'c':_0x1485ad['clientId'],'s':_0x1485ad[_0x4547a4(0x124)],'e':_0x1485ad[_0x4547a4(0xe6)],'st':_0x1485ad[_0x4547a4(0x13f)],'n':_0x1485ad[_0x4547a4(0x101)],'sid':_0x1485ad[_0x4547a4(0xb9)]}));return{'date':_0x7adb3f,'day_data':_0x1542d1};});if(_0x1c033d[_0x36f101(0x1d8)]===0x0)return;console[_0x36f101(0x1d7)](_0x36f101(0x170)+_0x1c033d[_0x36f101(0x1d8)]+'\x20days'),await this[_0x36f101(0xe9)](_0x36f101(0x234),{'changes':_0x1c033d});}};async function init(){const _0x48a660=a2_0x1aa9d6;DataManager[_0x48a660(0x168)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById'](_0x48a660(0x1b8))[_0x48a660(0xc3)](_0x48a660(0x14a),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x48a660(0x22b)]()[_0x48a660(0x1fd)](()=>{const _0xa6cb6a=_0x48a660;showToast(_0xa6cb6a(0x131),!![]);})[_0x48a660(0x171)](_0x237761=>{const _0x2cd5cd=_0x48a660;showToast(_0x2cd5cd(0x1b1),![]);});}function generateId(){const _0x1bad18=a2_0x1aa9d6;return Date[_0x1bad18(0x178)]()['toString'](0x24)+Math[_0x1bad18(0xb7)]()[_0x1bad18(0x1ae)](0x24)[_0x1bad18(0x11d)](0x2,0x5);}function toggleSeriesInput(){const _0x5cb1b9=a2_0x1aa9d6,_0x7457bd=document[_0x5cb1b9(0xc6)](_0x5cb1b9(0x17d))[_0x5cb1b9(0xf5)],_0x23642=document[_0x5cb1b9(0xc6)]('seriesCountContainer');_0x23642[_0x5cb1b9(0x220)][_0x5cb1b9(0x138)]=_0x7457bd?_0x5cb1b9(0x1a0):_0x5cb1b9(0x1b0);const _0x1c81c6=document[_0x5cb1b9(0xc6)](_0x5cb1b9(0x20b));_0x1c81c6['style'][_0x5cb1b9(0x10b)]=_0x7457bd?_0x5cb1b9(0x14d):_0x5cb1b9(0xf2);}function openAddSession(_0x4bc8b6){const _0x4516be=a2_0x1aa9d6;editingId=null,populateClientSelect(),document[_0x4516be(0xc6)]('sheetTitle')[_0x4516be(0x1d3)]=_0x4516be(0x1ef),document[_0x4516be(0xc6)](_0x4516be(0x228))[_0x4516be(0x220)]['display']=_0x4516be(0x1b0),document[_0x4516be(0xc6)](_0x4516be(0xc8))['style'][_0x4516be(0x138)]=_0x4516be(0x1b0);const _0x4dd321=document['getElementById'](_0x4516be(0x20b)),_0x39751b=document[_0x4516be(0xc6)](_0x4516be(0x21d));_0x4dd321[_0x4516be(0x220)][_0x4516be(0x138)]=_0x4516be(0x148),_0x4dd321[_0x4516be(0x220)][_0x4516be(0x10b)]=_0x4516be(0xf2),document[_0x4516be(0xc6)](_0x4516be(0x17d))[_0x4516be(0xf5)]=![],document[_0x4516be(0xc6)](_0x4516be(0xb5))[_0x4516be(0x218)]=0x4,_0x39751b['style'][_0x4516be(0x138)]='none',document[_0x4516be(0xc6)]('inpDate')[_0x4516be(0x218)]=getLocalDateStr(_0x4bc8b6),updateDateDisplay();const _0x10a4ad=_0x4bc8b6['getHours']();document[_0x4516be(0xc6)]('inpStart')[_0x4516be(0x218)]=String(_0x10a4ad)['padStart'](0x2,'0')+':00',document[_0x4516be(0xc6)](_0x4516be(0xfa))[_0x4516be(0x218)]=String(_0x10a4ad+0x1)['padStart'](0x2,'0')+_0x4516be(0x20a),openSheet(_0x4516be(0x1ed));}function openEdit(_0xdd4c46){const _0x4d2542=a2_0x1aa9d6;editingId=_0xdd4c46['id'],populateClientSelect(),document[_0x4d2542(0xc6)](_0x4d2542(0x15c))['textContent']='–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å',document['getElementById'](_0x4d2542(0x228))[_0x4d2542(0x220)][_0x4d2542(0x138)]=_0x4d2542(0x1a0);const _0x4db0fd=document['getElementById'](_0x4d2542(0xc8));_0x4db0fd[_0x4d2542(0x220)][_0x4d2542(0x138)]='flex';_0xdd4c46[_0x4d2542(0x13f)]===_0x4d2542(0xb1)?(_0x4db0fd['className']=_0x4d2542(0xc5),_0x4db0fd[_0x4d2542(0x119)]=_0x4d2542(0x1e9)):(_0x4db0fd[_0x4d2542(0x113)]=_0x4d2542(0x141),_0x4db0fd['innerHTML']=_0x4d2542(0x1c9));const _0x5e669b=!!_0xdd4c46[_0x4d2542(0xb9)];document[_0x4d2542(0xc6)](_0x4d2542(0x20b))[_0x4d2542(0x220)][_0x4d2542(0x138)]=_0x4d2542(0x1b0),document[_0x4d2542(0xc6)]('seriesCountContainer')['style'][_0x4d2542(0x138)]='none',_0x5e669b?(document[_0x4d2542(0xc6)](_0x4d2542(0xf4))[_0x4d2542(0x220)][_0x4d2542(0x138)]=_0x4d2542(0x148),document[_0x4d2542(0xc6)]('patternInfoBox')[_0x4d2542(0x12b)](_0x4d2542(0x1ea))[_0x4d2542(0x1d3)]=_0x4d2542(0x19e)):document[_0x4d2542(0xc6)](_0x4d2542(0xf4))['style'][_0x4d2542(0x138)]='none',document['getElementById'](_0x4d2542(0x1f8))[_0x4d2542(0x218)]=_0xdd4c46[_0x4d2542(0x16b)],document[_0x4d2542(0xc6)](_0x4d2542(0x1d0))['value']=_0xdd4c46['dateStr'],document['getElementById'](_0x4d2542(0x1cf))['value']=_0xdd4c46[_0x4d2542(0x124)],document[_0x4d2542(0xc6)](_0x4d2542(0xfa))[_0x4d2542(0x218)]=_0xdd4c46[_0x4d2542(0xe6)],document[_0x4d2542(0xc6)](_0x4d2542(0xe8))['value']=_0xdd4c46['note']||'',updateDateDisplay(),openSheet(_0x4d2542(0x1ed));}async function trySaveSession(){const _0x3a4442=a2_0x1aa9d6,_0x2a1f55=document['getElementById'](_0x3a4442(0x1f8))[_0x3a4442(0x218)],_0x2bac3f=document['getElementById'](_0x3a4442(0x1d0))[_0x3a4442(0x218)],_0xdc8cb8=document[_0x3a4442(0xc6)](_0x3a4442(0x1cf))['value'],_0x58c2bb=document[_0x3a4442(0xc6)]('inpEnd')[_0x3a4442(0x218)],_0x3b0e97=document[_0x3a4442(0xc6)](_0x3a4442(0xe8))[_0x3a4442(0x218)],_0x242ac4=document['getElementById']('inpRecurring')[_0x3a4442(0xf5)];let _0x1b9ed1=0x4;if(_0x242ac4){const _0x1e49f8=parseInt(document[_0x3a4442(0xc6)](_0x3a4442(0xb5))['value']);if(!_0x1e49f8||_0x1e49f8<0x2){showToast(_0x3a4442(0x1df),![]);return;}if(_0x1e49f8>0x64){showToast(_0x3a4442(0x1cd),![]);return;}_0x1b9ed1=_0x1e49f8;}const _0xe58464=clients[_0x3a4442(0x106)](_0x4ef38f=>_0x4ef38f[_0x3a4442(0x164)]===_0x2a1f55);if(!_0xe58464){showToast(_0x3a4442(0x1d9),![]);return;}const _0x1d03b4=validateAppointment(_0x2bac3f,_0xdc8cb8,_0x58c2bb,editingId,_0xe58464['id']);if(!_0x1d03b4['valid']){showToast(_0x1d03b4[_0x3a4442(0xb2)],![]);return;}_0x1d03b4['warning']&&showToast(_0x1d03b4[_0x3a4442(0x235)],![]);const _0x5bdfc2={'client':_0x2a1f55,'clientId':_0xe58464['id'],'start':_0xdc8cb8,'end':_0x58c2bb,'note':_0x3b0e97,'status':_0x3a4442(0xcc)},_0x13840e=editingId?sessions['find'](_0x37c3aa=>_0x37c3aa['id']===editingId):null;if(_0x13840e&&_0x13840e[_0x3a4442(0xb9)]){tempSessionData={..._0x5bdfc2,'dateStr':_0x2bac3f,'id':editingId,'seriesId':_0x13840e[_0x3a4442(0xb9)]},openActionSheet('save');return;}let _0x1d3233=null;if(!editingId)_0x1d3233=_0x3a4442(0x1b6);else{if(_0x13840e){if(String(_0x13840e[_0x3a4442(0xcd)])!==String(_0xe58464['id']))console[_0x3a4442(0x1d7)]('[Notify]\x20Client\x20SWAP\x20detected'),NotificationManager[_0x3a4442(0x19c)](_0x3a4442(0x16c),_0x13840e),_0x1d3233='create';else(_0x13840e[_0x3a4442(0x124)]!==_0xdc8cb8||_0x13840e['end']!==_0x58c2bb||_0x13840e[_0x3a4442(0xfe)]!==_0x2bac3f)&&(_0x1d3233=_0x3a4442(0xde));}}if(!editingId&&_0x242ac4){createBatchSeries(_0x5bdfc2,_0x2bac3f,_0x1b9ed1),NotificationManager[_0x3a4442(0x19c)](_0x3a4442(0x1b6),{..._0x5bdfc2,'dateStr':_0x2bac3f});return;}lastUserActionTime=Date['now']();const _0x2d5df8={..._0x5bdfc2,'dateStr':_0x2bac3f,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x2d5df8),_0x1d3233&&NotificationManager[_0x3a4442(0x19c)](_0x1d3233,_0x2d5df8);}function toggleSessionStatus(){const _0xfce47d=a2_0x1aa9d6;lastUserActionTime=Date['now']();const _0x5ec0b4=sessions['find'](_0x37fe63=>_0x37fe63['id']===editingId);if(!_0x5ec0b4)return;const _0x56df84=_0x5ec0b4['status']===_0xfce47d(0xb1)?'planned':'completed';_0x5ec0b4[_0xfce47d(0x13f)]=_0x56df84,saveSingleSession(_0x5ec0b4),_0x56df84===_0xfce47d(0xb1)&&NotificationManager[_0xfce47d(0x19c)](_0xfce47d(0xec),_0x5ec0b4),showToast(_0x56df84===_0xfce47d(0xb1)?'–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞':_0xfce47d(0x202),!![]);}function validateAppointment(_0x142c4b,_0x54a86d,_0x523cc6,_0x5e7e13,_0x3a98ba){const _0x1e30c4=a2_0x1aa9d6,[_0x5bc771,_0x46532a]=_0x54a86d[_0x1e30c4(0x165)](':')[_0x1e30c4(0x1c4)](Number),[_0x3aad09,_0x424b26]=_0x523cc6[_0x1e30c4(0x165)](':')[_0x1e30c4(0x1c4)](Number),_0x2bc57f=_0x5bc771*0x3c+_0x46532a,_0x157341=_0x3aad09*0x3c+_0x424b26,_0xa7d89c=String(_0x3a98ba);let _0x59b826=![],_0x14374b='';for(let _0x457c7a of sessions){if(_0x457c7a['dateStr']!==_0x142c4b)continue;if(_0x457c7a[_0x1e30c4(0x13f)]===_0x1e30c4(0xd9))continue;if(_0x5e7e13&&String(_0x457c7a['id'])===String(_0x5e7e13))continue;const [_0x574516,_0x5b291e]=_0x457c7a[_0x1e30c4(0x124)][_0x1e30c4(0x165)](':')[_0x1e30c4(0x1c4)](Number),[_0x103140,_0x230c4c]=_0x457c7a[_0x1e30c4(0xe6)]['split'](':')['map'](Number),_0x33fedf=_0x574516*0x3c+_0x5b291e,_0x1f902a=_0x103140*0x3c+_0x230c4c;if(Math[_0x1e30c4(0x1db)](_0x2bc57f,_0x33fedf)<Math[_0x1e30c4(0x123)](_0x157341,_0x1f902a)){if(_0x457c7a[_0x1e30c4(0xcd)]&&String(_0x457c7a[_0x1e30c4(0xcd)])===_0xa7d89c)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0x457c7a[_0x1e30c4(0x16b)]+_0x1e30c4(0xd2)};_0x59b826=!![],_0x14374b=_0x457c7a[_0x1e30c4(0x16b)];}}if(_0x59b826)return{'valid':!![],'warning':'–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20'+_0x14374b};return{'valid':!![]};}function saveSingleSession(_0xcdb655){const _0x5e5e8e=a2_0x1aa9d6;if(editingId){const _0x4507d3=sessions['findIndex'](_0x49a80a=>_0x49a80a['id']===editingId);if(_0x4507d3!==-0x1)sessions[_0x4507d3]=_0xcdb655;}else sessions[_0x5e5e8e(0x151)](_0xcdb655);afterSaveAction([_0xcdb655[_0x5e5e8e(0xfe)]]);}function createBatchSeries(_0x5a8664,_0x68b938,_0xf4787a){const _0x15e15b=a2_0x1aa9d6,_0x5e52b5=generateId(),_0x395d75=[],_0x432d75=[];let _0x509ffa=0x0,_0x276db8=new Date(_0x68b938);for(let _0x103753=0x0;_0x103753<_0xf4787a;_0x103753++){const _0x100cbd=getLocalDateStr(_0x276db8),_0x2bd7bf=validateAppointment(_0x100cbd,_0x5a8664[_0x15e15b(0x124)],_0x5a8664[_0x15e15b(0xe6)],null,_0x5a8664[_0x15e15b(0xcd)]);if(!_0x2bd7bf[_0x15e15b(0x209)])console['log'](_0x15e15b(0x1ad)+_0x100cbd+_0x15e15b(0x152)),_0x509ffa++;else{const _0x5acd49={..._0x5a8664,'id':generateId(),'dateStr':_0x100cbd,'seriesId':_0x5e52b5};_0x432d75['push'](_0x5acd49),_0x395d75[_0x15e15b(0x151)](_0x100cbd);}_0x276db8[_0x15e15b(0x232)](_0x276db8[_0x15e15b(0x1bf)]()+0x7);}if(_0x432d75['length']===0x0){showToast(_0x15e15b(0x180),![]);return;}sessions[_0x15e15b(0x151)](..._0x432d75),lastUserActionTime=Date[_0x15e15b(0x178)]();let _0x341f7b=_0x15e15b(0x132)+_0x432d75['length'];_0x509ffa>0x0&&(_0x341f7b+=_0x15e15b(0x233)+_0x509ffa+')'),showToast(_0x341f7b,!![]),afterSaveAction(_0x395d75);}function updateSeriesBatch(_0xc62e8,_0x4fa5c8){const _0x54f2cb=a2_0x1aa9d6,_0x591a57=[],_0x348dbc=_0x4fa5c8[_0x54f2cb(0xb9)];if(_0xc62e8==='single'){const _0x8065ef={..._0x4fa5c8,'seriesId':null},_0x1e2324=sessions[_0x54f2cb(0x1e5)](_0x5aea1b=>_0x5aea1b['id']===_0x4fa5c8['id']);if(_0x1e2324!==-0x1)sessions[_0x1e2324]=_0x8065ef;_0x591a57[_0x54f2cb(0x151)](_0x8065ef[_0x54f2cb(0xfe)]);}else{if(_0xc62e8===_0x54f2cb(0x146)){const _0x5c9c2a=_0x4fa5c8[_0x54f2cb(0xfe)];sessions[_0x54f2cb(0x217)]((_0xdaf482,_0x3bb38c)=>{const _0x251495=_0x54f2cb;_0xdaf482[_0x251495(0xb9)]===_0x348dbc&&_0xdaf482['dateStr']>=_0x5c9c2a&&(sessions[_0x3bb38c]={...sessions[_0x3bb38c],'start':_0x4fa5c8[_0x251495(0x124)],'end':_0x4fa5c8[_0x251495(0xe6)],'note':_0x4fa5c8['note'],'client':_0x4fa5c8['client'],'clientId':_0x4fa5c8[_0x251495(0xcd)]},_0x591a57[_0x251495(0x151)](_0xdaf482['dateStr']));});}}afterSaveAction(_0x591a57);}function tryDeleteSession(){const _0x32227e=a2_0x1aa9d6,_0x19e10f=sessions[_0x32227e(0x106)](_0x3c0761=>_0x3c0761['id']===editingId);if(!_0x19e10f)return;_0x19e10f[_0x32227e(0xb9)]?openActionSheet(_0x32227e(0xe7)):commitDelete(_0x32227e(0xee),_0x19e10f);}function commitDelete(_0xe7254e,_0x3cda52){const _0x172ec2=a2_0x1aa9d6;lastUserActionTime=Date['now'](),NotificationManager['send']('cancel',_0x3cda52);const _0x2c22d5=[];if(_0xe7254e===_0x172ec2(0xee))sessions=sessions['filter'](_0x3716ba=>_0x3716ba['id']!==_0x3cda52['id']),_0x2c22d5[_0x172ec2(0x151)](_0x3cda52['dateStr']);else{if(_0xe7254e===_0x172ec2(0x146)){const _0x46022e=_0x3cda52[_0x172ec2(0xfe)],_0x3a902d=_0x3cda52[_0x172ec2(0xb9)];sessions['forEach'](_0x3f99c3=>{const _0x284d02=_0x172ec2;_0x3f99c3['seriesId']===_0x3a902d&&_0x3f99c3[_0x284d02(0xfe)]>=_0x46022e&&_0x2c22d5['push'](_0x3f99c3[_0x284d02(0xfe)]);}),sessions=sessions['filter'](_0x4a541e=>!(_0x4a541e[_0x172ec2(0xb9)]===_0x3a902d&&_0x4a541e[_0x172ec2(0xfe)]>=_0x46022e));}}afterSaveAction(_0x2c22d5);}function afterSaveAction(_0x1ae213){const _0x2a9c32=a2_0x1aa9d6;DataManager[_0x2a9c32(0x1f4)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x2a9c32(0x22c)](_0x1ae213)[_0x2a9c32(0x1fd)](()=>console[_0x2a9c32(0x1d7)](_0x2a9c32(0x197)))[_0x2a9c32(0x171)](_0x5d3237=>showToast(_0x2a9c32(0x17b),![]));}const NotificationManager={'formatDate'(_0x378d77){const _0xd83321=a2_0x1aa9d6,_0x3fd4dc=new Date(_0x378d77),_0x10573d={'weekday':_0xd83321(0x1ec),'day':_0xd83321(0x213),'month':_0xd83321(0x1ec)};let _0x944d65=_0x3fd4dc[_0xd83321(0x1ba)](_0xd83321(0x133),_0x10573d);return _0x944d65[_0xd83321(0x1b4)](0x0)[_0xd83321(0x207)]()+_0x944d65[_0xd83321(0x20f)](0x1);},'getText'(_0x526b6,_0x2d901a){const _0x3a63ab=a2_0x1aa9d6,_0x1bc3f8=this['formatDate'](_0x2d901a['dateStr']);switch(_0x526b6){case _0x3a63ab(0x1b6):return _0x3a63ab(0x111)+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0x1bc3f8+'\x0a')+(_0x3a63ab(0x1f7)+_0x2d901a[_0x3a63ab(0x124)]+'\x20‚Äî\x20'+_0x2d901a['end']+'\x0a\x0a')+_0x3a63ab(0xc4);case _0x3a63ab(0xde):return'<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a'+_0x3a63ab(0x1b2)+(_0x3a63ab(0xbc)+_0x2d901a[_0x3a63ab(0x124)]+'\x20‚Äî\x20'+_0x2d901a[_0x3a63ab(0xe6)]+_0x3a63ab(0x145))+(_0x3a63ab(0xac)+_0x1bc3f8);case'cancel':return _0x3a63ab(0x128)+(_0x3a63ab(0x1a6)+_0x1bc3f8+'\x20('+_0x2d901a[_0x3a63ab(0x124)]+_0x3a63ab(0x12c));case _0x3a63ab(0xec):return'<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a'+'–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a'+_0x3a63ab(0x13c);default:return'';}},async 'send'(_0x43a444,_0x406bc5){const _0x3458ad=a2_0x1aa9d6;console[_0x3458ad(0x1d7)](_0x3458ad(0x1e2),_0x43a444,_0x406bc5);if(!_0x406bc5){console[_0x3458ad(0x199)](_0x3458ad(0xe1));return;}const _0x48e81f=String(_0x406bc5['clientId']);console[_0x3458ad(0x1d7)](_0x3458ad(0x105),_0x48e81f);if(!_0x406bc5[_0x3458ad(0xcd)]||_0x48e81f===_0x3458ad(0x11a)||_0x48e81f===_0x3458ad(0x16d)){console[_0x3458ad(0x199)](_0x3458ad(0x19b));if(_0x406bc5[_0x3458ad(0x16b)]){const _0x3b70c4=clients[_0x3458ad(0x106)](_0x24de3e=>_0x24de3e[_0x3458ad(0x164)]===_0x406bc5[_0x3458ad(0x16b)]);if(_0x3b70c4)return console[_0x3458ad(0x1d7)](_0x3458ad(0x16f),_0x3b70c4['id']),this[_0x3458ad(0x19c)](_0x43a444,{..._0x406bc5,'clientId':_0x3b70c4['id']});}return;}if(_0x48e81f[_0x3458ad(0x1d8)]<0x5){console[_0x3458ad(0x21f)]('[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)',_0x48e81f);return;}const _0x541a0f=this[_0x3458ad(0x107)](_0x43a444,_0x406bc5);if(!_0x541a0f){console[_0x3458ad(0x199)](_0x3458ad(0x161));return;}console[_0x3458ad(0x1d7)](_0x3458ad(0x196)+_0x48e81f+_0x3458ad(0x219)),DataManager['fetchFromServer'](_0x3458ad(0x1c1),{'chatId':_0x48e81f,'text':_0x541a0f})[_0x3458ad(0x1fd)](_0x4d8a3b=>console[_0x3458ad(0x1d7)]('[Notify]\x20Server\x20Response:',_0x4d8a3b))[_0x3458ad(0x171)](_0x1380f1=>console[_0x3458ad(0x199)](_0x3458ad(0x13a),_0x1380f1));}};function getLocalDateStr(_0x1c3a32){const _0x14dd14=a2_0x1aa9d6,_0x139fc8=_0x1c3a32[_0x14dd14(0x206)](),_0x4265fe=String(_0x1c3a32[_0x14dd14(0xb3)]()+0x1)['padStart'](0x2,'0'),_0x5c873d=String(_0x1c3a32['getDate']())[_0x14dd14(0x1a4)](0x2,'0');return _0x139fc8+'-'+_0x4265fe+'-'+_0x5c873d;}function getDateStr(_0x4db5ad){const _0x497362=a2_0x1aa9d6,_0xd3a731=new Date();return _0xd3a731[_0x497362(0x232)](_0xd3a731[_0x497362(0x1bf)]()+_0x4db5ad),getLocalDateStr(_0xd3a731);}function a2_0x4930(){const _0x59ed4c=['find','getText','rangeStartDate','ranges','router.html','borderRadius','all','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','gridColumns','guest','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','className','getHours','–£—Å–ø–µ—à–Ω–æ','pattern','initData','uc_settings_v9','innerHTML','undefined','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','createElement','substr','round','BackButton','constructor','show','querySelectorAll','min','start','Critical\x20TMA\x20Error:','2106090jxUiGr','.day-col-header','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','search','anCustomDates','querySelector',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','Unknown','mouseup','#0a84ff','active','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','ru-RU','classList','px\x200px','offsetLeft','getMinutes','display','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','[Notify]\x20Network\x20Failed','setItem','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','from','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','status','#fff','btn-status-toggle','calc(','2499553mrPvar','Local\x20Load\x20Error','</b>\x0a\x0a','series','anEnd','flex','2632728bIlcyW','scroll','</span>\x20/\x20','total','10px\x2010px\x200\x200','anStart','166536BxutyW','–£–¥–∞–ª–µ–Ω–∏–µ','push',':\x20Client\x20already\x20booked','[Sync]\x20Loading\x20','\x20‚Äî\x20','top','cancel_window','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','getBoundingClientRect','uc_sessions_v9','WebApp','[API\x20','sheetTitle','var(--acc-orange)','rgba(100,100,100,0.5)','json','%\x20+\x202px)','[Notify]\x20Error:\x20Text\x20generation\x20failed','\x20–∏–∑\x20','\x20-\x20','name','split','strokeDashoffset','offsetWidth','loadLocal','width','asBtnOne','client','cancel','null','<div\x20class=\x22dch-day\x22>','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','catch','backgroundPosition','exceptions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','asBtnSeries','rgba(255,\x2069,\x2058,\x200.15)','rgba(','now','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','sid','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','\x20status-completed','inpRecurring','done','settingsSheet','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','settings','getTime','40510NJGlBX','apply','patternEditor','#050505','uc_clients_v9','100%','borderColor','actionSheet','anPercent','as-button\x20danger\x20bold','offClick','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','disableVerticalSwipes','toastMessage','</div><div\x20class=\x22dch-num\x22>','clientY','23:59','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','day-off-overlay\x20stripe-bg','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','Batch\x20Sync\x20OK','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','error','today','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','send','scrollWidth','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','onclick','block','rangesSheet','analyticsList','init_load','padStart','blocked-slot\x20stripe-bg','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','entries','280070iPtaXT','open','mousedown','uc_settings_cancel_window','off','[Series]\x20Skipped\x20','toString','setAttribute','none','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','actionSheetOverlay','charAt','.period-switch\x20.p-btn','create','initDataUnsafe','matrixViewport','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toLocaleDateString','.sheet','rangeEndTime','rgba(255,255,255,0.05)','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','getDate','<span>','send_notification','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','map','backgroundColor','analyticsSheet','getAttribute','parse','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','toLocaleString','rangesList','indexOf','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','inpStart','inpDate','text','var(--acc-green)','textContent','div','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','floor','log','length','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','.day-off-overlay','max','v9.0-BATCH-CALENDAR','px\x20-','touches','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','setHours','mini','[Notify]\x20Attempting\x20to\x20send:','77094gGlYHq','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','findIndex','range-item','%\x20-\x204px)','T23:59:59','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','.pib-text','insertBefore','long','sessionSheet','6LcDQwA','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','headerMonth','</div>','anTotalStats','includes','saveLocally','daysHeaderTrack','borderLeftColor','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','inpClient','overlay','.event-card','(((.+)+)+)+$','timeLineBadge','then','data-date','doDateHeader','splice','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','pe-corner','isArray','createDocumentFragment','getFullYear','toUpperCase','custom','valid',':00','recurringOptionContainer','pe-col-header','doEventsList',':00</span>','slice','data','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','–ò–Ω—Ñ–æ','numeric','00:00','Save\x20settings\x20error:','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','forEach','value','...','stringify','target','ready','seriesCountContainer','setBackgroundColor','warn','style','calendar','onClick','toastTitle','btn-primary\x20btn-secondary','user','getItem',']\x20Failed:','btnDelete','settingCancelWindow','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','syncLoad','syncBatch','colIndex','rangeStartTime','setHeaderColor','touchmove','client-stat-card','setDate','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','batch_sync','warning','peGrid','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','rgba(48,\x20209,\x2088,\x200.15)','scrollLeft','save_settings','<div\x20class=\x22ev-title\x22>','completed','msg','getMonth','add','inpSeriesCount','zIndex','random','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','seriesId','color','getDay','<b>‚úÖ\x20','option','statLoadCard','remove','clientWidth','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','mergeServerData','addEventListener','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','btn-status-toggle\x20undo-mode','getElementById','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','btnStatusToggle','var(--acc-red)','Server\x20Error','[Settings]\x20Cancel\x20window\x20set\x20to:','planned','clientId','stopPropagation','5qZwfJC','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','event-card',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','week','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','rgba(255,\x2069,\x2058,\x200.3)','.day-column','appendChild','scrollTop','cancelled','T00:00:00','stat-','Error\x20setting\x20back\x20button:','mousemove','update','36fUNaHN','month','[Notify]\x20Error:\x20sessionData\x20is\x20null','day-column\x20','rangeEndDate','data-day-idx','sort','end','delete','inpNote','fetchFromServer','text/plain;charset=UTF-8','filter','complete','day-col-header\x20','single','deleted','height','background','10px','clients','patternInfoBox','checked','expand','toast','save',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','inpEnd','toFixed','location','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','dateStr','de-item','DOMContentLoaded','note','header-','Telegram','dayOptionsTitle','[Notify]\x20Detected\x20Client\x20ID:'];a2_0x4930=function(){return _0x59ed4c;};return a2_0x4930();}function getStartOfWeek(_0x4e7c3e){const _0x46f526=a2_0x1aa9d6,_0x29978e=new Date(_0x4e7c3e),_0x4cd16b=_0x29978e[_0x46f526(0xbb)](),_0x55fc65=_0x29978e[_0x46f526(0x1bf)]()-_0x4cd16b+(_0x4cd16b===0x0?-0x6:0x1);return _0x29978e['setDate'](_0x55fc65),_0x29978e[_0x46f526(0x1e0)](0x0,0x0,0x0,0x0),_0x29978e;}function hexToRgba(_0x2ea573,_0x56f5a3){const _0x5f2ca1=a2_0x1aa9d6;if(!_0x2ea573)return _0x5f2ca1(0x15e);let _0x5eb268=0x0,_0x1e3b07=0x0,_0x179f1a=0x0;if(_0x2ea573[_0x5f2ca1(0x1d8)]===0x4)_0x5eb268='0x'+_0x2ea573[0x1]+_0x2ea573[0x1],_0x1e3b07='0x'+_0x2ea573[0x2]+_0x2ea573[0x2],_0x179f1a='0x'+_0x2ea573[0x3]+_0x2ea573[0x3];else _0x2ea573[_0x5f2ca1(0x1d8)]===0x7&&(_0x5eb268='0x'+_0x2ea573[0x1]+_0x2ea573[0x2],_0x1e3b07='0x'+_0x2ea573[0x3]+_0x2ea573[0x4],_0x179f1a='0x'+_0x2ea573[0x5]+_0x2ea573[0x6]);return _0x5f2ca1(0x177)+ +_0x5eb268+',\x20'+ +_0x1e3b07+',\x20'+ +_0x179f1a+',\x20'+_0x56f5a3+')';}function renderTimeColumn(){const _0x37ae71=a2_0x1aa9d6,_0x3f775e=document['getElementById']('timeColumn'),_0x3b0a26=document[_0x37ae71(0xc6)](_0x37ae71(0x1fc));_0x3f775e[_0x37ae71(0x119)]='',_0x3f775e[_0x37ae71(0xd7)](_0x3b0a26);for(let _0x4ed6ef=0x0;_0x4ed6ef<0x18;_0x4ed6ef++){const _0x141850=document[_0x37ae71(0x11c)](_0x37ae71(0x1d4));_0x141850[_0x37ae71(0x113)]='time-label';if(_0x4ed6ef>0x0)_0x141850[_0x37ae71(0x119)]=_0x37ae71(0x1c0)+String(_0x4ed6ef)[_0x37ae71(0x1a4)](0x2,'0')+_0x37ae71(0x20e);_0x3f775e['appendChild'](_0x141850);}}function renderDayRange(_0x4f3271,_0x7749e){const _0x180901=a2_0x1aa9d6,_0x3958bc=document['getElementById'](_0x180901(0x1f5)),_0x50ebdd=document[_0x180901(0xc6)](_0x180901(0x10e)),_0x1f3b3c=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x18b84a=new Date();_0x18b84a[_0x180901(0x1e0)](0x0,0x0,0x0,0x0);const _0x328855=getLocalDateStr(new Date());for(let _0x209b6b=_0x4f3271;_0x209b6b<=_0x7749e;_0x209b6b++){const _0x10599d=new Date(_0x18b84a);_0x10599d[_0x180901(0x232)](_0x10599d['getDate']()+_0x209b6b);const _0x5e6bf2=getLocalDateStr(_0x10599d);let _0x47142e=_0x10599d['getDay']()-0x1;if(_0x47142e===-0x1)_0x47142e=0x6;const _0x1b8e1c=_0x5e6bf2===_0x328855,_0x50065f=document[_0x180901(0x11c)](_0x180901(0x1d4));_0x50065f[_0x180901(0x113)]=_0x180901(0xed)+(_0x1b8e1c?_0x180901(0x19a):''),_0x50065f['id']=_0x180901(0x102)+_0x5e6bf2,_0x50065f[_0x180901(0x1af)](_0x180901(0x1fe),_0x5e6bf2),_0x50065f[_0x180901(0x119)]=_0x180901(0x16e)+_0x1f3b3c[_0x47142e]+'</div><div\x20class=\x22dch-num\x22>'+_0x10599d['getDate']()+_0x180901(0xc1)+_0x5e6bf2+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x50065f[_0x180901(0x19f)]=()=>openDayOptions(_0x5e6bf2,_0x1f3b3c[_0x47142e]+'\x20'+_0x10599d[_0x180901(0x1bf)]()),_0x3958bc['appendChild'](_0x50065f);const _0x29547d=document[_0x180901(0x11c)](_0x180901(0x1d4));_0x29547d[_0x180901(0x113)]='day-column\x20'+(_0x1b8e1c?_0x180901(0x19a):''),_0x29547d[_0x180901(0x1af)](_0x180901(0x1fe),_0x5e6bf2),_0x29547d[_0x180901(0x1af)]('data-day-idx',_0x47142e),renderEventsForColumn(_0x29547d,_0x5e6bf2,_0x47142e),attachLongPressHandler(_0x29547d,_0x10599d),_0x50ebdd[_0x180901(0xd7)](_0x29547d),updateDayStats(_0x5e6bf2);}}function reRenderBlocks(){const _0x2b6c77=a2_0x1aa9d6;document[_0x2b6c77(0x122)]('#gridColumns\x20.day-column')[_0x2b6c77(0x217)](_0x545dbf=>{const _0x4ec59f=_0x2b6c77;_0x545dbf[_0x4ec59f(0x122)](_0x4ec59f(0x1d5))[_0x4ec59f(0x217)](_0x5e4088=>_0x5e4088[_0x4ec59f(0xbf)]());const _0x43ac86=_0x545dbf['getAttribute']('data-date'),_0x40ee3b=parseInt(_0x545dbf[_0x4ec59f(0x1c7)](_0x4ec59f(0xe4))),_0x88d82f=Math[_0x4ec59f(0x11e)](_0x545dbf['offsetLeft']);(availabilityPattern[_0x40ee3b]||[])[_0x4ec59f(0x217)](_0x25df0b=>{const _0x26a0b8=_0x4ec59f,_0x537f65=document[_0x26a0b8(0x11c)]('div');_0x537f65[_0x26a0b8(0x113)]=_0x26a0b8(0x1a5);const _0x4bc520=_0x25df0b*GRID_H;_0x537f65['style'][_0x26a0b8(0x155)]=_0x4bc520+'px',_0x537f65[_0x26a0b8(0x220)]['backgroundPosition']='-'+_0x88d82f+_0x26a0b8(0x1dd)+_0x4bc520+'px',_0x545dbf[_0x26a0b8(0xd7)](_0x537f65);});if(specialRanges&&specialRanges[_0x4ec59f(0x1d8)]>0x0){const _0x17e777=new Date(_0x43ac86+_0x4ec59f(0xda))['getTime'](),_0x2d3e0d=new Date(_0x43ac86+_0x4ec59f(0x1e8))[_0x4ec59f(0x182)]();specialRanges[_0x4ec59f(0x217)](_0x125427=>{const _0x24cb61=_0x4ec59f,_0x3cedaf=new Date(_0x125427[_0x24cb61(0x124)])[_0x24cb61(0x182)](),_0x7862ed=new Date(_0x125427[_0x24cb61(0xe6)])[_0x24cb61(0x182)](),_0x412853=Math[_0x24cb61(0x1db)](_0x17e777,_0x3cedaf),_0xa04810=Math[_0x24cb61(0x123)](_0x2d3e0d,_0x7862ed);if(_0x412853<_0xa04810){if(_0x412853<=_0x17e777&&_0xa04810>=_0x2d3e0d-0xea60){if(!_0x545dbf['querySelector'](_0x24cb61(0x1da))){const _0x3d0e66=document[_0x24cb61(0x11c)](_0x24cb61(0x1d4));_0x3d0e66[_0x24cb61(0x113)]=_0x24cb61(0x195),_0x3d0e66[_0x24cb61(0x220)][_0x24cb61(0x172)]='-'+_0x88d82f+_0x24cb61(0x135),_0x545dbf[_0x24cb61(0xd7)](_0x3d0e66);}}else{const _0x6ee76c=(_0x412853-_0x17e777)/0x36ee80*GRID_H,_0x45b0ab=(_0xa04810-_0x412853)/0x36ee80*GRID_H,_0x4f53de=document[_0x24cb61(0x11c)](_0x24cb61(0x1d4));_0x4f53de[_0x24cb61(0x113)]='blocked-range-part\x20stripe-bg',_0x4f53de['style']['top']=_0x6ee76c+'px',_0x4f53de[_0x24cb61(0x220)]['height']=_0x45b0ab+'px',_0x4f53de[_0x24cb61(0x220)][_0x24cb61(0x172)]='-'+_0x88d82f+'px\x20-'+_0x6ee76c+'px',_0x545dbf[_0x24cb61(0xd7)](_0x4f53de);}}});}if(dateExceptions[_0x43ac86]===_0x4ec59f(0x1ac)){if(!_0x545dbf[_0x4ec59f(0x12b)]('.day-off-overlay')){const _0x54414c=document[_0x4ec59f(0x11c)]('div');_0x54414c[_0x4ec59f(0x113)]=_0x4ec59f(0x195),_0x54414c[_0x4ec59f(0x220)][_0x4ec59f(0x172)]='-'+_0x88d82f+_0x4ec59f(0x135),_0x545dbf[_0x4ec59f(0xd7)](_0x54414c);}}renderEventsForColumn(_0x545dbf,_0x43ac86,_0x40ee3b),updateDayStats(_0x43ac86);});}function updateAllDayStats(){const _0x255a33=a2_0x1aa9d6;document[_0x255a33(0x122)]('.day-col-header')['forEach'](_0x3539df=>{const _0x4df2e=_0x255a33;updateDayStats(_0x3539df[_0x4df2e(0x1c7)](_0x4df2e(0x1fe)));});}function updateDayStats(_0x5e973a){const _0x50c9d2=a2_0x1aa9d6,_0x5da8aa=document[_0x50c9d2(0xc6)](_0x50c9d2(0xdb)+_0x5e973a);if(!_0x5da8aa)return;const _0x4fe18d=new Date(_0x5e973a);let _0x2c5b87=_0x4fe18d[_0x50c9d2(0xbb)]()-0x1;if(_0x2c5b87===-0x1)_0x2c5b87=0x6;if(dateExceptions[_0x5e973a]==='off'){_0x5da8aa[_0x50c9d2(0x220)][_0x50c9d2(0x138)]=_0x50c9d2(0x1b0);return;}const _0x32520b=availabilityPattern[_0x2c5b87]||[],_0x3e5463=0x18-_0x32520b[_0x50c9d2(0x1d8)],_0x3c5d68=_0x3e5463*0x3c,_0x21e39f=sessions[_0x50c9d2(0xeb)](_0xf31753=>_0xf31753['dateStr']===_0x5e973a&&_0xf31753[_0x50c9d2(0x13f)]!==_0x50c9d2(0xd9));if(_0x21e39f[_0x50c9d2(0x1d8)]===0x0){_0x5da8aa[_0x50c9d2(0x220)][_0x50c9d2(0x138)]='none';return;}let _0x1d2935=_0x21e39f[_0x50c9d2(0x1c4)](_0xa72094=>{const _0x3f0e42=_0x50c9d2,[_0x49f345,_0x4857f2]=_0xa72094[_0x3f0e42(0x124)][_0x3f0e42(0x165)](':')['map'](Number),[_0x5b6aa7,_0x1ebaf6]=_0xa72094[_0x3f0e42(0xe6)]['split'](':')[_0x3f0e42(0x1c4)](Number);return[_0x49f345*0x3c+_0x4857f2,_0x5b6aa7*0x3c+_0x1ebaf6];});_0x1d2935[_0x50c9d2(0xe5)]((_0x4122cc,_0x272ed5)=>_0x4122cc[0x0]-_0x272ed5[0x0]);let _0x5015a9=[];if(_0x1d2935[_0x50c9d2(0x1d8)]>0x0){let _0x4bff50=_0x1d2935[0x0];for(let _0x30a952=0x1;_0x30a952<_0x1d2935[_0x50c9d2(0x1d8)];_0x30a952++){_0x1d2935[_0x30a952][0x0]<_0x4bff50[0x1]?_0x4bff50[0x1]=Math['max'](_0x4bff50[0x1],_0x1d2935[_0x30a952][0x1]):(_0x5015a9[_0x50c9d2(0x151)](_0x4bff50),_0x4bff50=_0x1d2935[_0x30a952]);}_0x5015a9['push'](_0x4bff50);}let _0x31dec5=0x0;_0x5015a9[_0x50c9d2(0x217)](_0x370fb6=>_0x31dec5+=_0x370fb6[0x1]-_0x370fb6[0x0]),_0x5da8aa['style'][_0x50c9d2(0x138)]=_0x50c9d2(0x148);const _0x1c236b=_0x5da8aa[_0x50c9d2(0x12b)]('.dch-stats-fill');if(_0x3c5d68===0x0){_0x1c236b[_0x50c9d2(0x220)][_0x50c9d2(0x169)]=_0x50c9d2(0x188),_0x1c236b[_0x50c9d2(0x220)][_0x50c9d2(0xf1)]=_0x50c9d2(0xc9);return;}const _0x472f32=_0x31dec5/_0x3c5d68*0x64;console[_0x50c9d2(0x1d7)]('['+_0x5e973a+']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20'+_0x3e5463+_0x50c9d2(0x18e)+_0x31dec5+'–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20'+_0x472f32[_0x50c9d2(0xfb)](0x1)+'%'),_0x472f32>0x64?(_0x1c236b['style'][_0x50c9d2(0x169)]='100%',_0x1c236b['style']['background']=_0x50c9d2(0xc9)):(_0x1c236b[_0x50c9d2(0x220)][_0x50c9d2(0x169)]=_0x472f32+'%',_0x1c236b[_0x50c9d2(0x220)][_0x50c9d2(0xf1)]='var(--acc-current)');}function renderEventsForColumn(_0x10f367,_0x2badae,_0x52334e){const _0x31cd52=a2_0x1aa9d6,_0x257c7d=sessions[_0x31cd52(0xeb)](_0x3c35a7=>_0x3c35a7['dateStr']===_0x2badae),_0x149d53=_0x257c7d[_0x31cd52(0x1c4)](_0x570b19=>{const _0x5b34b1=_0x31cd52,[_0x575c77,_0x23ba35]=_0x570b19[_0x5b34b1(0x124)][_0x5b34b1(0x165)](':')['map'](Number),[_0x196ef4,_0x5d2d6b]=_0x570b19['end']['split'](':')[_0x5b34b1(0x1c4)](Number);return{'data':_0x570b19,'start':_0x575c77*0x3c+_0x23ba35,'end':_0x196ef4*0x3c+_0x5d2d6b,'colIndex':0x0};});_0x149d53[_0x31cd52(0xe5)]((_0x4d52f0,_0x1a9dcf)=>{const _0x45d26e=_0x31cd52;if(_0x4d52f0[_0x45d26e(0x124)]!==_0x1a9dcf['start'])return _0x4d52f0['start']-_0x1a9dcf[_0x45d26e(0x124)];return _0x1a9dcf[_0x45d26e(0xe6)]-_0x1a9dcf[_0x45d26e(0x124)]-(_0x4d52f0['end']-_0x4d52f0['start']);});const _0x145f73=[];_0x149d53[_0x31cd52(0x217)](_0x4c7f65=>{const _0x57e6fd=_0x31cd52;let _0x146527=![];for(let _0x43b240=0x0;_0x43b240<_0x145f73[_0x57e6fd(0x1d8)];_0x43b240++){const _0xc4dc85=_0x145f73[_0x43b240],_0xa81e00=_0xc4dc85[_0xc4dc85[_0x57e6fd(0x1d8)]-0x1];if(_0x4c7f65[_0x57e6fd(0x124)]>=_0xa81e00[_0x57e6fd(0xe6)]){_0xc4dc85[_0x57e6fd(0x151)](_0x4c7f65),_0x4c7f65['colIndex']=_0x43b240,_0x146527=!![];break;}}!_0x146527&&(_0x145f73[_0x57e6fd(0x151)]([_0x4c7f65]),_0x4c7f65[_0x57e6fd(0x22d)]=_0x145f73[_0x57e6fd(0x1d8)]-0x1);}),_0x149d53[_0x31cd52(0x217)](_0xaff15e=>{const _0x1783b5=_0x31cd52;let _0x52450f=0x0;_0x149d53[_0x1783b5(0x217)](_0xb8f7bc=>{const _0x27b386=_0x1783b5;if(Math['max'](_0xaff15e[_0x27b386(0x124)],_0xb8f7bc[_0x27b386(0x124)])<Math['min'](_0xaff15e[_0x27b386(0xe6)],_0xb8f7bc['end'])){if(_0xb8f7bc[_0x27b386(0x22d)]>_0x52450f)_0x52450f=_0xb8f7bc[_0x27b386(0x22d)];}});const _0x4eeab3=_0x52450f+0x1,_0x5bc1fe=0x64/_0x4eeab3,_0x4ec08e=_0xaff15e[_0x1783b5(0x22d)]*_0x5bc1fe,_0x3731af=createEventEl(_0xaff15e[_0x1783b5(0x210)]);_0x3731af[_0x1783b5(0x220)][_0x1783b5(0x169)]=_0x1783b5(0x142)+_0x5bc1fe+_0x1783b5(0x1e7),_0x3731af['style']['left']='calc('+_0x4ec08e+_0x1783b5(0x160),_0x3731af[_0x1783b5(0x220)][_0x1783b5(0xb6)]=0xa+_0xaff15e['colIndex'],_0x5bc1fe<0x55&&_0x3731af[_0x1783b5(0x134)]['add'](_0x1783b5(0x1e1)),_0x10f367[_0x1783b5(0xd7)](_0x3731af);});}function createEventEl(_0x2c70d7){const _0x2ff434=a2_0x1aa9d6,[_0x402b04,_0x352366]=_0x2c70d7['start'][_0x2ff434(0x165)](':')[_0x2ff434(0x1c4)](Number),[_0x254e2e,_0x3b0365]=_0x2c70d7[_0x2ff434(0xe6)][_0x2ff434(0x165)](':')['map'](Number),_0x11c5e2=(_0x402b04*0x3c+_0x352366)/0x3c*GRID_H,_0x495bfc=(_0x254e2e*0x3c+_0x3b0365-(_0x402b04*0x3c+_0x352366))/0x3c*GRID_H,_0x4c57cd=document[_0x2ff434(0x11c)](_0x2ff434(0x1d4)),_0x4c58b4=_0x2c70d7[_0x2ff434(0x13f)]==='completed'?_0x2ff434(0x17c):'';_0x4c57cd[_0x2ff434(0x113)]=_0x2ff434(0xd1)+_0x4c58b4,_0x4c57cd[_0x2ff434(0x220)][_0x2ff434(0x155)]=_0x11c5e2+'px',_0x4c57cd[_0x2ff434(0x220)][_0x2ff434(0xf0)]=Math[_0x2ff434(0x1db)](_0x495bfc,0x14)+'px';const _0x571238=clients[_0x2ff434(0x106)](_0x432709=>_0x2c70d7[_0x2ff434(0xcd)]&&String(_0x432709['id'])===String(_0x2c70d7['clientId'])||_0x432709[_0x2ff434(0x164)]===_0x2c70d7[_0x2ff434(0x16b)]),_0x516bbc=_0x571238?_0x571238[_0x2ff434(0xba)]:_0x2ff434(0x12f);_0x4c57cd[_0x2ff434(0x220)][_0x2ff434(0x1f6)]=_0x516bbc,_0x4c57cd[_0x2ff434(0x220)][_0x2ff434(0x1c5)]=hexToRgba(_0x516bbc,0.85);let _0x30c3b8=_0x2ff434(0xb0)+_0x2c70d7[_0x2ff434(0x16b)]+'</div><div\x20class=\x22ev-time\x22>'+_0x2c70d7[_0x2ff434(0x124)]+_0x2ff434(0x163)+_0x2c70d7[_0x2ff434(0xe6)]+_0x2ff434(0x1f1);return _0x2c70d7[_0x2ff434(0xb9)]&&(_0x30c3b8+=_0x2ff434(0x216)),_0x2c70d7[_0x2ff434(0x13f)]==='completed'&&(_0x30c3b8+=_0x2ff434(0x211)),_0x4c57cd[_0x2ff434(0x119)]=_0x30c3b8,_0x4c57cd['onclick']=_0x3cff72=>{const _0x1ec221=_0x2ff434;_0x3cff72[_0x1ec221(0xce)](),openEdit(_0x2c70d7);},_0x4c57cd;}function attachLongPressHandler(_0x5ba4d6,_0x4c8a86){const _0x17f75d=a2_0x1aa9d6;let _0x616476=0x0,_0x55a8d9=null;const _0x2ffadb=_0x33fcea=>{const _0xdf6e54=a2_0x531d;if(_0x33fcea[_0xdf6e54(0x21b)]['closest'](_0xdf6e54(0x1fa)))return;isScrolling=![],_0x616476=_0x33fcea[_0xdf6e54(0x1de)]?_0x33fcea[_0xdf6e54(0x1de)][0x0]['clientY']:_0x33fcea[_0xdf6e54(0x192)],_0x55a8d9=setTimeout(()=>{const _0x5871d1=_0xdf6e54;if(!isScrolling){navigator['vibrate']?.(0x32);const _0x79863e=_0x5ba4d6[_0x5871d1(0x158)](),_0x42fe84=Math[_0x5871d1(0x1d6)]((_0x616476-_0x79863e['top'])/GRID_H);_0x4c8a86[_0x5871d1(0x1e0)](_0x42fe84,0x0),openAddSession(_0x4c8a86);}},0x1f4);},_0x16d07f=()=>{isScrolling=!![],clearTimeout(_0x55a8d9);},_0x43d8d6=()=>{clearTimeout(_0x55a8d9);};_0x5ba4d6['addEventListener']('touchstart',_0x2ffadb,{'passive':!![]}),_0x5ba4d6[_0x17f75d(0xc3)](_0x17f75d(0x230),_0x16d07f,{'passive':!![]}),_0x5ba4d6[_0x17f75d(0xc3)]('touchend',_0x43d8d6),_0x5ba4d6[_0x17f75d(0xc3)](_0x17f75d(0x1aa),_0x2ffadb),_0x5ba4d6[_0x17f75d(0xc3)](_0x17f75d(0xdd),_0x16d07f),_0x5ba4d6['addEventListener'](_0x17f75d(0x12e),_0x43d8d6);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x15e6ff=a2_0x1aa9d6,_0x3eade1=document['getElementById'](_0x15e6ff(0x1b8)),_0x495b59=_0x3eade1['scrollLeft'],_0x5d73f0=_0x3eade1[_0x15e6ff(0x19d)],_0x229d06=_0x3eade1[_0x15e6ff(0xc0)];if(_0x5d73f0-(_0x495b59+_0x229d06)<0x12c){const _0x17bf59=endOffset;endOffset+=0xe,renderDayRange(_0x17bf59+0x1,endOffset),reRenderBlocks();}if(_0x495b59<0x12c){const _0x47b4bc=startOffset;startOffset-=0xe,prependDays(startOffset,_0x47b4bc-0x1),_0x3eade1[_0x15e6ff(0xae)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x2b4189,_0x487ba1){const _0x57d17a=a2_0x1aa9d6,_0x19023f=document[_0x57d17a(0xc6)](_0x57d17a(0x1f5)),_0x3ee406=document['getElementById'](_0x57d17a(0x10e)),_0x23bc75=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1ac329=new Date();_0x1ac329[_0x57d17a(0x1e0)](0x0,0x0,0x0,0x0);const _0x18c402=getLocalDateStr(new Date()),_0xa409b=document[_0x57d17a(0x205)](),_0x3173dc=document[_0x57d17a(0x205)]();for(let _0xb34223=_0x2b4189;_0xb34223<=_0x487ba1;_0xb34223++){const _0x402bd2=new Date(_0x1ac329);_0x402bd2[_0x57d17a(0x232)](_0x402bd2['getDate']()+_0xb34223);const _0x351b6a=getLocalDateStr(_0x402bd2);let _0x5b9110=_0x402bd2[_0x57d17a(0xbb)]()-0x1;if(_0x5b9110===-0x1)_0x5b9110=0x6;const _0x5ebb6a=_0x351b6a===_0x18c402,_0x10dea8=document[_0x57d17a(0x11c)]('div');_0x10dea8[_0x57d17a(0x113)]=_0x57d17a(0xed)+(_0x5ebb6a?'today':''),_0x10dea8['id']=_0x57d17a(0x102)+_0x351b6a,_0x10dea8['setAttribute'](_0x57d17a(0x1fe),_0x351b6a),_0x10dea8[_0x57d17a(0x119)]='<div\x20class=\x22dch-day\x22>'+_0x23bc75[_0x5b9110]+_0x57d17a(0x191)+_0x402bd2['getDate']()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0x351b6a+_0x57d17a(0xfd),_0x10dea8[_0x57d17a(0x19f)]=()=>openDayOptions(_0x351b6a,_0x23bc75[_0x5b9110]+'\x20'+_0x402bd2[_0x57d17a(0x1bf)]()),_0xa409b[_0x57d17a(0xd7)](_0x10dea8);const _0x5b537c=document['createElement'](_0x57d17a(0x1d4));_0x5b537c[_0x57d17a(0x113)]=_0x57d17a(0xe2)+(_0x5ebb6a?'today':''),_0x5b537c[_0x57d17a(0x1af)](_0x57d17a(0x1fe),_0x351b6a),_0x5b537c['setAttribute']('data-day-idx',_0x5b9110),renderEventsForColumn(_0x5b537c,_0x351b6a,_0x5b9110),attachLongPressHandler(_0x5b537c,_0x402bd2),_0x3173dc['appendChild'](_0x5b537c),updateDayStats(_0x351b6a);}_0x19023f[_0x57d17a(0x1eb)](_0xa409b,_0x19023f['firstChild']),_0x3ee406[_0x57d17a(0x1eb)](_0x3173dc,_0x3ee406[_0x57d17a(0x12b)](_0x57d17a(0xd6)));}function validateAppointment(_0x2e3136,_0x184df7,_0x351945,_0x187a1d,_0x1397a4){const _0x190254=a2_0x1aa9d6,[_0x255e92,_0x13e4be]=_0x184df7[_0x190254(0x165)](':')[_0x190254(0x1c4)](Number),[_0x316f1c,_0x540c84]=_0x351945[_0x190254(0x165)](':')['map'](Number),_0x4b8ed9=_0x255e92*0x3c+_0x13e4be,_0xe6906=_0x316f1c*0x3c+_0x540c84,_0x25c0f0=String(_0x1397a4);let _0x4e07b9=![],_0x4c99e6='';for(let _0x214ad3 of sessions){if(_0x214ad3[_0x190254(0xfe)]!==_0x2e3136)continue;if(_0x214ad3['status']===_0x190254(0xd9))continue;if(_0x187a1d&&String(_0x214ad3['id'])===String(_0x187a1d))continue;const [_0x2396d8,_0x18c530]=_0x214ad3[_0x190254(0x124)][_0x190254(0x165)](':')[_0x190254(0x1c4)](Number),[_0x302c5d,_0x37cc]=_0x214ad3[_0x190254(0xe6)][_0x190254(0x165)](':')[_0x190254(0x1c4)](Number),_0x5a8f67=_0x2396d8*0x3c+_0x18c530,_0x59e3c5=_0x302c5d*0x3c+_0x37cc;if(Math[_0x190254(0x1db)](_0x4b8ed9,_0x5a8f67)<Math[_0x190254(0x123)](_0xe6906,_0x59e3c5)){if(_0x214ad3[_0x190254(0xcd)]&&String(_0x214ad3[_0x190254(0xcd)])===_0x25c0f0)return{'valid':![],'msg':_0x190254(0x1be)+_0x214ad3[_0x190254(0x16b)]+_0x190254(0xd2)};_0x4e07b9=!![],_0x4c99e6=_0x214ad3[_0x190254(0x16b)];}}if(_0x4e07b9)return{'valid':!![],'warning':_0x190254(0x22a)+_0x4c99e6};return{'valid':!![]};}function updateDateDisplay(){const _0xc4c4f5=a2_0x1aa9d6,_0x183441=document[_0xc4c4f5(0xc6)](_0xc4c4f5(0x1d0))[_0xc4c4f5(0x218)],_0x5df7fa=document[_0xc4c4f5(0xc6)]('sheetDateSubtitle');if(!_0x183441){_0x5df7fa[_0xc4c4f5(0x1d3)]='';return;}const [_0x3c6cdb,_0x5a8864,_0x4808e9]=_0x183441[_0xc4c4f5(0x165)]('-')['map'](Number),_0x36cbbd=new Date(_0x3c6cdb,_0x5a8864-0x1,_0x4808e9),_0x1fa59c={'weekday':'long','day':'numeric','month':'long','year':'numeric'};let _0x5713ae=_0x36cbbd[_0xc4c4f5(0x1ba)]('ru-RU',_0x1fa59c);_0x5713ae=_0x5713ae[_0xc4c4f5(0x1b4)](0x0)['toUpperCase']()+_0x5713ae['slice'](0x1),_0x5df7fa[_0xc4c4f5(0x1d3)]=_0x5713ae;}function autoSetEndTime(){const _0x60797c=a2_0x1aa9d6,_0x2f5873=document[_0x60797c(0xc6)](_0x60797c(0x1cf))[_0x60797c(0x218)];if(!_0x2f5873)return;const [_0x200dc9,_0x300d76]=_0x2f5873['split'](':')['map'](Number);let _0x56fece=_0x200dc9+0x1;if(_0x56fece>0x17)_0x56fece=0x0;const _0x535f90=String(_0x56fece)[_0x60797c(0x1a4)](0x2,'0')+':'+String(_0x300d76)['padStart'](0x2,'0');document['getElementById'](_0x60797c(0xfa))['value']=_0x535f90;}function populateClientSelect(){const _0x49fd75=a2_0x1aa9d6,_0x27fc33=document[_0x49fd75(0xc6)](_0x49fd75(0x1f8));_0x27fc33['innerHTML']='';if(clients[_0x49fd75(0x1d8)]===0x0){const _0x516d7c=document['createElement']('option');_0x516d7c[_0x49fd75(0x1d1)]='–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤',_0x27fc33['appendChild'](_0x516d7c);return;}clients[_0x49fd75(0x217)](_0x43fe48=>{const _0x5579f2=_0x49fd75,_0x1019d6=document[_0x5579f2(0x11c)](_0x5579f2(0xbd));_0x1019d6[_0x5579f2(0x218)]=_0x43fe48[_0x5579f2(0x164)],_0x1019d6['textContent']=_0x43fe48[_0x5579f2(0x164)],_0x27fc33['appendChild'](_0x1019d6);});}function openActionSheet(_0x85a08b){const _0xbb4fa8=a2_0x1aa9d6,_0x561a6e=document[_0xbb4fa8(0xc6)](_0xbb4fa8(0x18a)),_0x96daa0=document[_0xbb4fa8(0xc6)]('actionSheetOverlay'),_0x2d18de=document[_0xbb4fa8(0xc6)]('asTitle'),_0x4dd558=document['getElementById'](_0xbb4fa8(0x16a)),_0x36f096=document[_0xbb4fa8(0xc6)](_0xbb4fa8(0x175));_0x96daa0[_0xbb4fa8(0x134)][_0xbb4fa8(0xb4)]('active'),_0x561a6e[_0xbb4fa8(0x134)][_0xbb4fa8(0xb4)](_0xbb4fa8(0x1a9));if(_0x85a08b===_0xbb4fa8(0xf8))_0x2d18de['textContent']=_0xbb4fa8(0x179),_0x4dd558[_0xbb4fa8(0x1d3)]=_0xbb4fa8(0x13e),_0x4dd558[_0xbb4fa8(0x19f)]=()=>{const _0x4a088c=_0xbb4fa8;closeActionSheet(),updateSeriesBatch(_0x4a088c(0xee),tempSessionData);},_0x36f096[_0xbb4fa8(0x1d3)]=_0xbb4fa8(0x10d),_0x36f096[_0xbb4fa8(0x19f)]=()=>{const _0x24070d=_0xbb4fa8;closeActionSheet(),updateSeriesBatch(_0x24070d(0x146),tempSessionData);};else _0x85a08b===_0xbb4fa8(0xe7)&&(_0x2d18de[_0xbb4fa8(0x1d3)]=_0xbb4fa8(0x150),_0x4dd558[_0xbb4fa8(0x1d3)]=_0xbb4fa8(0x13e),_0x4dd558[_0xbb4fa8(0x113)]='as-button\x20danger',_0x4dd558[_0xbb4fa8(0x19f)]=()=>{const _0x435c05=_0xbb4fa8;closeActionSheet(),commitDelete(_0x435c05(0xee),sessions[_0x435c05(0x106)](_0x5b18d8=>_0x5b18d8['id']===editingId));},_0x36f096[_0xbb4fa8(0x1d3)]=_0xbb4fa8(0x10d),_0x36f096['className']=_0xbb4fa8(0x18c),_0x36f096[_0xbb4fa8(0x19f)]=()=>{const _0x31d5c8=_0xbb4fa8;closeActionSheet(),commitDelete(_0x31d5c8(0x146),sessions['find'](_0x5ccb2f=>_0x5ccb2f['id']===editingId));});}function closeActionSheet(){const _0x2ab297=a2_0x1aa9d6;document['getElementById'](_0x2ab297(0x18a))['classList'][_0x2ab297(0xbf)](_0x2ab297(0x1a9)),document[_0x2ab297(0xc6)](_0x2ab297(0x1b3))[_0x2ab297(0x134)]['remove'](_0x2ab297(0x130));}function openSettings(){const _0x3fb687=a2_0x1aa9d6;openSheet(_0x3fb687(0x17f));}function saveCoachSettings(){const _0x380b8d=a2_0x1aa9d6,_0x1417c9=document[_0x380b8d(0xc6)](_0x380b8d(0x229))[_0x380b8d(0x218)];localStorage[_0x380b8d(0x13b)]('uc_settings_cancel_window',_0x1417c9),console[_0x380b8d(0x1d7)](_0x380b8d(0xcb),_0x1417c9),DataManager['fetchFromServer']('save_settings',{'settings':{'cancel_window':_0x1417c9}})[_0x380b8d(0x171)](_0x188805=>{const _0x529f72=_0x380b8d;console[_0x529f72(0x199)](_0x529f72(0x215),_0x188805),showToast(_0x529f72(0x157),![]);});}function loadCoachSettings(){const _0x2f8068=a2_0x1aa9d6,_0x44b7e6=localStorage[_0x2f8068(0x226)](_0x2f8068(0x1ab));_0x44b7e6&&(document[_0x2f8068(0xc6)]('settingCancelWindow')[_0x2f8068(0x218)]=_0x44b7e6);}function openRangesSheet(){const _0x4fb798=a2_0x1aa9d6;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x4fb798(0x1a1));}function addRange(){const _0x4d8a53=a2_0x1aa9d6,_0x362ea5=document[_0x4d8a53(0xc6)]('rangeStartDate')['value'],_0x2fa1dd=document[_0x4d8a53(0xc6)]('rangeStartTime')[_0x4d8a53(0x218)],_0x19b23e=document[_0x4d8a53(0xc6)](_0x4d8a53(0xe3))[_0x4d8a53(0x218)],_0x59f2c8=document['getElementById'](_0x4d8a53(0x1bc))['value'];if(!_0x362ea5||!_0x2fa1dd||!_0x19b23e||!_0x59f2c8)return alert(_0x4d8a53(0xb8));const _0x7a8afd=_0x362ea5+'T'+_0x2fa1dd,_0x47e223=_0x19b23e+'T'+_0x59f2c8;if(_0x7a8afd>=_0x47e223)return alert(_0x4d8a53(0x139));specialRanges[_0x4d8a53(0x151)]({'start':_0x7a8afd,'end':_0x47e223}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x4d8a53(0xe9)]('save_settings',{'settings':{'ranges':specialRanges}});}function deleteRange(_0x9283ad){const _0x5d6dd6=a2_0x1aa9d6;specialRanges['splice'](_0x9283ad,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x5d6dd6(0x1f4)](),DataManager[_0x5d6dd6(0xe9)](_0x5d6dd6(0xaf),{'settings':{'ranges':specialRanges}});}function a2_0x531d(_0x1cac96,_0x47393b){_0x1cac96=_0x1cac96-0xab;const _0x64eed1=a2_0x4930();let _0x280615=_0x64eed1[_0x1cac96];return _0x280615;}function resetRangeForm(){const _0xf4184b=a2_0x1aa9d6;document['getElementById'](_0xf4184b(0x108))[_0xf4184b(0x218)]='',document[_0xf4184b(0xc6)](_0xf4184b(0x22e))[_0xf4184b(0x218)]=_0xf4184b(0x214),document[_0xf4184b(0xc6)](_0xf4184b(0xe3))[_0xf4184b(0x218)]='',document[_0xf4184b(0xc6)](_0xf4184b(0x1bc))['value']=_0xf4184b(0x193);}function renderRangesList(){const _0x40a2e0=a2_0x1aa9d6,_0x1528bd=document['getElementById'](_0x40a2e0(0x1cb));_0x1528bd['innerHTML']='';if(!specialRanges[_0x40a2e0(0x1d8)]){_0x1528bd[_0x40a2e0(0x119)]='<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>';return;}specialRanges['forEach']((_0x39ad37,_0x53c7f0)=>{const _0x513da0=_0x40a2e0,_0x1b9a97=document[_0x513da0(0x11c)](_0x513da0(0x1d4));_0x1b9a97[_0x513da0(0x113)]=_0x513da0(0x1e6);const _0x23aa1c=_0x6765bb=>{const _0xb1ce54=_0x513da0,_0x15ef2e=new Date(_0x6765bb);return _0x15ef2e['getDate']()+'.'+String(_0x15ef2e['getMonth']()+0x1)['padStart'](0x2,'0')+'\x20'+String(_0x15ef2e[_0xb1ce54(0x114)]())[_0xb1ce54(0x1a4)](0x2,'0')+':'+String(_0x15ef2e[_0xb1ce54(0x137)]())[_0xb1ce54(0x1a4)](0x2,'0');};_0x1b9a97[_0x513da0(0x119)]=_0x513da0(0xd4)+_0x23aa1c(_0x39ad37[_0x513da0(0x124)])+_0x513da0(0x154)+_0x23aa1c(_0x39ad37[_0x513da0(0xe6)])+_0x513da0(0xc7)+_0x53c7f0+_0x513da0(0xf9),_0x1528bd['appendChild'](_0x1b9a97);});}function scrollToToday(){const _0x574736=a2_0x1aa9d6,_0x16848e=getLocalDateStr(new Date()),_0x38571c=document['getElementById'](_0x574736(0x102)+_0x16848e),_0x55a477=document['getElementById'](_0x574736(0x1b8));if(_0x38571c&&_0x55a477){const _0x8bcab=_0x55a477['clientWidth'],_0x583ef3=_0x38571c[_0x574736(0x136)],_0x612139=_0x38571c[_0x574736(0x167)];_0x55a477[_0x574736(0xae)]=_0x583ef3-_0x8bcab/0x2+_0x612139/0x2,_0x55a477[_0x574736(0xd8)]=0x9*GRID_H;}}function onScroll(){const _0x465f71=a2_0x1aa9d6,_0x2cf175=document[_0x465f71(0xc6)](_0x465f71(0x1b8)),_0x4c3e7b=document[_0x465f71(0x122)](_0x465f71(0x127));for(let _0xed83a9 of _0x4c3e7b)if(_0xed83a9[_0x465f71(0x136)]>=_0x2cf175[_0x465f71(0xae)]){const _0x3ddf47=new Date(_0xed83a9[_0x465f71(0x1c7)]('data-date'));document['getElementById'](_0x465f71(0x1f0))[_0x465f71(0x1d3)]=_0x3ddf47[_0x465f71(0x1ca)]('ru',{'month':_0x465f71(0x1ec)})['toUpperCase']()+'\x20'+_0x3ddf47[_0x465f71(0x206)]();break;}}function showToast(_0x4f183e,_0x5de47f=![]){const _0x730a89=a2_0x1aa9d6,_0x1507aa=document[_0x730a89(0xc6)](_0x730a89(0xf7));_0x1507aa[_0x730a89(0x113)]='toast-notification\x20'+(_0x5de47f?'success':''),document[_0x730a89(0xc6)](_0x730a89(0x223))[_0x730a89(0x1d3)]=_0x5de47f?_0x730a89(0x115):_0x730a89(0x212),document[_0x730a89(0xc6)](_0x730a89(0x190))[_0x730a89(0x1d3)]=_0x4f183e,_0x1507aa[_0x730a89(0x134)][_0x730a89(0xb4)](_0x730a89(0x121)),setTimeout(()=>{const _0x5441e4=_0x730a89;_0x1507aa[_0x5441e4(0x134)][_0x5441e4(0xbf)](_0x5441e4(0x121));},0xbb8);}function openDayOptions(_0x57e268,_0x55937d){const _0x5c960b=a2_0x1aa9d6;selectedDayForOptions=_0x57e268,document[_0x5c960b(0xc6)](_0x5c960b(0x104))[_0x5c960b(0x1d3)]=_0x55937d,openSheet('dayOptionsSheet');}function toggleDayOff(){const _0x352b47=a2_0x1aa9d6;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x352b47(0x1ac),reRenderBlocks(),closeAllSheets(),DataManager[_0x352b47(0x1f4)](),DataManager[_0x352b47(0xe9)](_0x352b47(0xaf),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x57ae07=a2_0x1aa9d6;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x57ae07(0x1f4)](),DataManager[_0x57ae07(0xe9)](_0x57ae07(0xaf),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x301539){const _0x249f25=a2_0x1aa9d6;document[_0x249f25(0xc6)](_0x249f25(0x1f9))[_0x249f25(0x134)][_0x249f25(0xb4)](_0x249f25(0x130)),document[_0x249f25(0xc6)](_0x301539)[_0x249f25(0x134)][_0x249f25(0xb4)](_0x249f25(0x1a9));}function closeAllSheets(){const _0x35ff61=a2_0x1aa9d6;document[_0x35ff61(0xc6)](_0x35ff61(0x1f9))[_0x35ff61(0x134)][_0x35ff61(0xbf)](_0x35ff61(0x130)),document[_0x35ff61(0x122)](_0x35ff61(0x1bb))[_0x35ff61(0x217)](_0x563b61=>_0x563b61[_0x35ff61(0x134)]['remove'](_0x35ff61(0x1a9)));}function openPatternEditor(){const _0x1d86bb=a2_0x1aa9d6;closeAllSheets(),document[_0x1d86bb(0xc6)](_0x1d86bb(0x185))[_0x1d86bb(0x134)][_0x1d86bb(0xb4)](_0x1d86bb(0x1a9)),renderPatternEditor();}function closePatternEditor(){const _0x173986=a2_0x1aa9d6;document[_0x173986(0xc6)](_0x173986(0x185))[_0x173986(0x134)][_0x173986(0xbf)](_0x173986(0x1a9));}function savePattern(){const _0x3240c3=a2_0x1aa9d6;document[_0x3240c3(0xc6)](_0x3240c3(0x185))[_0x3240c3(0x134)][_0x3240c3(0xbf)]('open'),reRenderBlocks(),DataManager[_0x3240c3(0x1f4)](),DataManager[_0x3240c3(0xe9)](_0x3240c3(0xaf),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x50e1eb=a2_0x1aa9d6,_0xe04ad=document['getElementById'](_0x50e1eb(0x236));_0xe04ad[_0x50e1eb(0x119)]='';const _0x584788=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0xd3a35c=document[_0x50e1eb(0x11c)]('div');_0xd3a35c['className']=_0x50e1eb(0x203),_0xe04ad[_0x50e1eb(0xd7)](_0xd3a35c),_0x584788[_0x50e1eb(0x217)]((_0x47e7dd,_0x35c249)=>{const _0x3ddd56=_0x50e1eb,_0x2a448e=document['createElement'](_0x3ddd56(0x1d4));_0x2a448e[_0x3ddd56(0x113)]=_0x3ddd56(0x20c),_0x2a448e[_0x3ddd56(0x119)]=_0x47e7dd+'\x20<span\x20class=\x22arrow\x22>‚Üì</span>',_0x2a448e[_0x3ddd56(0x19f)]=()=>toggleColPattern(_0x35c249),_0xe04ad[_0x3ddd56(0xd7)](_0x2a448e);});for(let _0xaacc73=0x0;_0xaacc73<0x18;_0xaacc73++){const _0xac72d0=document[_0x50e1eb(0x11c)](_0x50e1eb(0x1d4));_0xac72d0[_0x50e1eb(0x113)]='pe-time-label',_0xac72d0[_0x50e1eb(0x119)]=_0x50e1eb(0x1c2)+String(_0xaacc73)[_0x50e1eb(0x1a4)](0x2,'0')+_0x50e1eb(0x20a),_0xac72d0[_0x50e1eb(0x19f)]=()=>toggleRowPattern(_0xaacc73),_0xe04ad[_0x50e1eb(0xd7)](_0xac72d0);for(let _0x5da572=0x0;_0x5da572<0x7;_0x5da572++){const _0x2da067=document[_0x50e1eb(0x11c)](_0x50e1eb(0x1d4)),_0x332d1d=(availabilityPattern[_0x5da572]||[])[_0x50e1eb(0x1f3)](_0xaacc73),_0x5543cd=!_0x332d1d;_0x2da067['className']='pe-cell\x20'+(_0x5543cd?_0x50e1eb(0x130):''),_0x2da067[_0x50e1eb(0x19f)]=()=>toggleSinglePattern(_0x5da572,_0xaacc73),_0xe04ad[_0x50e1eb(0xd7)](_0x2da067);}}}function toggleSinglePattern(_0xed6c12,_0x5b4ecb){const _0xc43412=a2_0x1aa9d6;if(!availabilityPattern[_0xed6c12])availabilityPattern[_0xed6c12]=[];const _0x6ee7a0=availabilityPattern[_0xed6c12],_0x4f1093=_0x6ee7a0['indexOf'](_0x5b4ecb);_0x4f1093===-0x1?_0x6ee7a0[_0xc43412(0x151)](_0x5b4ecb):_0x6ee7a0[_0xc43412(0x200)](_0x4f1093,0x1),renderPatternEditor();}function toggleColPattern(_0x475a28){const _0x314874=a2_0x1aa9d6;if(!availabilityPattern[_0x475a28])availabilityPattern[_0x475a28]=[];const _0x3e9b46=availabilityPattern[_0x475a28];_0x3e9b46[_0x314874(0x1d8)]===0x0?availabilityPattern[_0x475a28]=Array[_0x314874(0x13d)]({'length':0x18},(_0x5026fc,_0x1d4fed)=>_0x1d4fed):availabilityPattern[_0x475a28]=[],renderPatternEditor();}function toggleRowPattern(_0x1e0272){const _0x39aff3=a2_0x1aa9d6;let _0x3965ad=!![];for(let _0x41cd18=0x0;_0x41cd18<0x7;_0x41cd18++){if((availabilityPattern[_0x41cd18]||[])[_0x39aff3(0x1f3)](_0x1e0272)){_0x3965ad=![];break;}}for(let _0x4f79f7=0x0;_0x4f79f7<0x7;_0x4f79f7++){if(!availabilityPattern[_0x4f79f7])availabilityPattern[_0x4f79f7]=[];const _0x1f2753=availabilityPattern[_0x4f79f7][_0x39aff3(0x1cc)](_0x1e0272);if(_0x3965ad){if(_0x1f2753===-0x1)availabilityPattern[_0x4f79f7][_0x39aff3(0x151)](_0x1e0272);}else{if(_0x1f2753!==-0x1)availabilityPattern[_0x4f79f7][_0x39aff3(0x200)](_0x1f2753,0x1);}}renderPatternEditor();}function renderPCol(_0x25ce47,_0x2f868e){const _0x3c4d25=a2_0x1aa9d6;_0x25ce47[_0x3c4d25(0x119)]='';const _0x47f9ca=Math[_0x3c4d25(0x11e)](_0x25ce47['offsetLeft']);(availabilityPattern[_0x2f868e]||[])[_0x3c4d25(0x217)](_0x2f8e65=>{const _0x3c07ea=_0x3c4d25,_0x141cbd=document[_0x3c07ea(0x11c)](_0x3c07ea(0x1d4));_0x141cbd[_0x3c07ea(0x113)]=_0x3c07ea(0x1a5);const _0x3db3ef=_0x2f8e65*GRID_H;_0x141cbd[_0x3c07ea(0x220)]['top']=_0x3db3ef+'px',_0x141cbd[_0x3c07ea(0x220)][_0x3c07ea(0x172)]='-'+_0x47f9ca+_0x3c07ea(0x1dd)+_0x3db3ef+'px',_0x141cbd[_0x3c07ea(0x19f)]=_0x41ce01=>{const _0x2fcda0=_0x3c07ea;_0x41ce01[_0x2fcda0(0xce)](),toggleSinglePattern(_0x2f868e,_0x2f8e65);},_0x25ce47['appendChild'](_0x141cbd);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x218eaa=a2_0x1aa9d6,_0x5cf3d3=new Date(),_0x25c011=document['getElementById']('globalTimeLine'),_0x45a96d=document[_0x218eaa(0xc6)]('timeLineBadge'),_0x221628=(_0x5cf3d3[_0x218eaa(0x114)]()*0x3c+_0x5cf3d3['getMinutes']())/0x3c*GRID_H;_0x25c011[_0x218eaa(0x220)][_0x218eaa(0x155)]=_0x221628+'px',_0x25c011[_0x218eaa(0x220)][_0x218eaa(0x138)]=_0x218eaa(0x1a0),_0x45a96d[_0x218eaa(0x1d3)]=String(_0x5cf3d3[_0x218eaa(0x114)]())[_0x218eaa(0x1a4)](0x2,'0')+':'+String(_0x5cf3d3[_0x218eaa(0x137)]())['padStart'](0x2,'0'),_0x45a96d[_0x218eaa(0x220)][_0x218eaa(0x138)]=_0x218eaa(0x1a0),_0x45a96d[_0x218eaa(0x220)][_0x218eaa(0x155)]=_0x221628+'px';}document[a2_0x1aa9d6(0xc3)](a2_0x1aa9d6(0x100),init);function openDayOptions(_0x804253){const _0x2dce56=a2_0x1aa9d6;selectedDayForOptions=_0x804253;const _0x58b086=new Date(_0x804253),_0x15c480={'weekday':_0x2dce56(0x1ec),'day':'numeric','month':_0x2dce56(0x1ec),'year':_0x2dce56(0x213)},_0x1b374c=_0x58b086['toLocaleDateString'](_0x2dce56(0x133),_0x15c480);document[_0x2dce56(0xc6)](_0x2dce56(0x1ff))[_0x2dce56(0x1d3)]=_0x1b374c[_0x2dce56(0x1b4)](0x0)[_0x2dce56(0x207)]()+_0x1b374c[_0x2dce56(0x20f)](0x1);let _0x44fe6f=_0x58b086[_0x2dce56(0xbb)]()-0x1;if(_0x44fe6f===-0x1)_0x44fe6f=0x6;const _0x5cec97=availabilityPattern[_0x44fe6f]||[],_0x272bc9=0x18-_0x5cec97[_0x2dce56(0x1d8)],_0x368a39=_0x272bc9*0x3c,_0x50b221=sessions['filter'](_0x410933=>_0x410933[_0x2dce56(0xfe)]===_0x804253&&_0x410933[_0x2dce56(0x13f)]!=='cancelled');let _0x166413=_0x50b221[_0x2dce56(0x1c4)](_0x36d4fb=>{const _0x3f4cce=_0x2dce56,[_0x18eb35,_0x5e4c37]=_0x36d4fb[_0x3f4cce(0x124)][_0x3f4cce(0x165)](':')[_0x3f4cce(0x1c4)](Number),[_0x5ebf18,_0x5a7488]=_0x36d4fb[_0x3f4cce(0xe6)]['split'](':')[_0x3f4cce(0x1c4)](Number);return[_0x18eb35*0x3c+_0x5e4c37,_0x5ebf18*0x3c+_0x5a7488];});_0x166413[_0x2dce56(0xe5)]((_0x1af383,_0x515dd3)=>_0x1af383[0x0]-_0x515dd3[0x0]);let _0xc80e69=[];if(_0x166413['length']>0x0){let _0x22d5a2=_0x166413[0x0];for(let _0x592c5f=0x1;_0x592c5f<_0x166413[_0x2dce56(0x1d8)];_0x592c5f++){_0x166413[_0x592c5f][0x0]<_0x22d5a2[0x1]?_0x22d5a2[0x1]=Math['max'](_0x22d5a2[0x1],_0x166413[_0x592c5f][0x1]):(_0xc80e69[_0x2dce56(0x151)](_0x22d5a2),_0x22d5a2=_0x166413[_0x592c5f]);}_0xc80e69['push'](_0x22d5a2);}let _0x5cf774=0x0;_0xc80e69[_0x2dce56(0x217)](_0x371b1a=>_0x5cf774+=_0x371b1a[0x1]-_0x371b1a[0x0]),document[_0x2dce56(0xc6)]('doWorkHours')[_0x2dce56(0x1d3)]=formatMinsToHrs(_0x368a39),document[_0x2dce56(0xc6)]('doBusyHours')[_0x2dce56(0x1d3)]=formatMinsToHrs(_0x5cf774);const _0x58b290=_0x368a39>0x0?Math[_0x2dce56(0x11e)](_0x5cf774/_0x368a39*0x64):0x0,_0x590f3f=document[_0x2dce56(0xc6)]('doLoadPercent');_0x590f3f[_0x2dce56(0x1d3)]=_0x58b290+'%';const _0x1e790a=document[_0x2dce56(0xc6)](_0x2dce56(0xbe));if(_0x58b290>0x64)_0x590f3f[_0x2dce56(0x220)]['color']=_0x2dce56(0xc9),_0x1e790a[_0x2dce56(0x220)][_0x2dce56(0x189)]=_0x2dce56(0xd5);else _0x58b290>0x50?(_0x590f3f[_0x2dce56(0x220)][_0x2dce56(0xba)]=_0x2dce56(0x15d),_0x1e790a[_0x2dce56(0x220)]['borderColor']='rgba(255,\x20159,\x2010,\x200.3)'):(_0x590f3f['style']['color']=_0x2dce56(0x1d2),_0x1e790a[_0x2dce56(0x220)][_0x2dce56(0x189)]=_0x2dce56(0x1bd));const _0x549b84=document[_0x2dce56(0xc6)](_0x2dce56(0x20d));_0x549b84[_0x2dce56(0x119)]='';_0x50b221[_0x2dce56(0x1d8)]===0x0?_0x549b84[_0x2dce56(0x119)]='<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>':(_0x50b221[_0x2dce56(0xe5)]((_0x49b771,_0x2aed93)=>_0x49b771['start']['localeCompare'](_0x2aed93['start'])),_0x50b221[_0x2dce56(0x217)](_0x2ccb55=>{const _0x3a3825=_0x2dce56,_0x211942=clients[_0x3a3825(0x106)](_0x4fb6dd=>_0x4fb6dd[_0x3a3825(0x164)]===_0x2ccb55[_0x3a3825(0x16b)]),_0x2db970=_0x211942?_0x211942[_0x3a3825(0xba)]:_0x3a3825(0x140),_0x422e47=_0x2ccb55[_0x3a3825(0x13f)]==='completed',_0x55897a=_0x422e47?_0x3a3825(0x194):'',_0x37aa72=document[_0x3a3825(0x11c)]('div');_0x37aa72[_0x3a3825(0x113)]=_0x3a3825(0xff),_0x37aa72[_0x3a3825(0x220)][_0x3a3825(0x1f6)]=_0x2db970,_0x37aa72[_0x3a3825(0x119)]=_0x3a3825(0x11b)+_0x2ccb55[_0x3a3825(0x124)]+_0x3a3825(0x163)+_0x2ccb55[_0x3a3825(0xe6)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2ccb55[_0x3a3825(0x16b)]+_0x3a3825(0x174)+_0x55897a+_0x3a3825(0x201),_0x549b84[_0x3a3825(0xd7)](_0x37aa72);}));const _0x46892f=document[_0x2dce56(0xc6)]('btnDayToggle'),_0x1e5808=dateExceptions[_0x804253]==='off';_0x1e5808?(_0x46892f[_0x2dce56(0x1d3)]=_0x2dce56(0x112),_0x46892f[_0x2dce56(0x113)]=_0x2dce56(0x224),_0x46892f[_0x2dce56(0x220)][_0x2dce56(0xba)]='var(--acc-green)',_0x46892f[_0x2dce56(0x220)]['background']=_0x2dce56(0xad)):(_0x46892f[_0x2dce56(0x1d3)]=_0x2dce56(0xab),_0x46892f[_0x2dce56(0x113)]='btn-primary\x20btn-danger',_0x46892f[_0x2dce56(0x220)][_0x2dce56(0xba)]='var(--acc-red)',_0x46892f['style']['background']=_0x2dce56(0x176)),openSheet('dayOptionsSheet');}let currentAnPeriod=a2_0x1aa9d6(0xd3);function openAnalytics(){const _0x468afc=a2_0x1aa9d6,_0x3a8573=document['querySelector'](_0x468afc(0x1b5));setAnalyticsPeriod(_0x468afc(0xd3),_0x3a8573),closeAllSheets(),openSheet(_0x468afc(0x1c6));}function setAnalyticsPeriod(_0x4119f3,_0x47857b){const _0x30aa66=a2_0x1aa9d6;currentAnPeriod=_0x4119f3,document[_0x30aa66(0x122)](_0x30aa66(0x1b5))['forEach'](_0x5181e8=>_0x5181e8[_0x30aa66(0x134)][_0x30aa66(0xbf)](_0x30aa66(0x130)));if(_0x47857b)_0x47857b['classList'][_0x30aa66(0xb4)](_0x30aa66(0x130));const _0x4b5872=document['getElementById'](_0x30aa66(0x12a));_0x4b5872['style']['display']=_0x4119f3===_0x30aa66(0x208)?_0x30aa66(0x148):_0x30aa66(0x1b0);const _0x1adfda=new Date();let _0x58cd37=new Date(),_0xabd57=new Date();if(_0x4119f3===_0x30aa66(0xd3))_0x58cd37=getStartOfWeek(_0x1adfda),_0xabd57=new Date(_0x58cd37),_0xabd57['setDate'](_0xabd57[_0x30aa66(0x1bf)]()+0x6);else{if(_0x4119f3===_0x30aa66(0xe0))_0x58cd37=new Date(_0x1adfda[_0x30aa66(0x206)](),_0x1adfda[_0x30aa66(0xb3)](),0x1),_0xabd57=new Date(_0x1adfda[_0x30aa66(0x206)](),_0x1adfda[_0x30aa66(0xb3)]()+0x1,0x0);else{!document[_0x30aa66(0xc6)](_0x30aa66(0x14e))[_0x30aa66(0x218)]&&(document[_0x30aa66(0xc6)](_0x30aa66(0x14e))[_0x30aa66(0x218)]=getLocalDateStr(_0x1adfda),document['getElementById'](_0x30aa66(0x147))['value']=getLocalDateStr(_0x1adfda));refreshAnalytics();return;}}document['getElementById'](_0x30aa66(0x14e))[_0x30aa66(0x218)]=getLocalDateStr(_0x58cd37),document[_0x30aa66(0xc6)](_0x30aa66(0x147))[_0x30aa66(0x218)]=getLocalDateStr(_0xabd57),refreshAnalytics();}function refreshAnalytics(){const _0x33caa4=a2_0x1aa9d6,_0x941848=document[_0x33caa4(0xc6)]('anStart')['value'],_0xbc17d9=document['getElementById'](_0x33caa4(0x147))[_0x33caa4(0x218)];if(!_0x941848||!_0xbc17d9)return;const _0x4e9957=sessions[_0x33caa4(0xeb)](_0x5894b7=>_0x5894b7['dateStr']>=_0x941848&&_0x5894b7[_0x33caa4(0xfe)]<=_0xbc17d9&&_0x5894b7[_0x33caa4(0x13f)]!==_0x33caa4(0xd9)),_0x17df02=_0x4e9957[_0x33caa4(0x1d8)],_0x47860d=_0x4e9957[_0x33caa4(0xeb)](_0x5967f1=>_0x5967f1['status']===_0x33caa4(0xb1))[_0x33caa4(0x1d8)],_0x4dc65f=_0x17df02>0x0?Math[_0x33caa4(0x11e)](_0x47860d/_0x17df02*0x64):0x0;document[_0x33caa4(0xc6)](_0x33caa4(0x18b))[_0x33caa4(0x1d3)]=_0x4dc65f+'%',document[_0x33caa4(0xc6)](_0x33caa4(0x1f2))['textContent']=_0x47860d+_0x33caa4(0x162)+_0x17df02+_0x33caa4(0x1ce);const _0x3ef58c=document[_0x33caa4(0xc6)]('anDonutCircle'),_0x5181e4=0x2*Math['PI']*0x23,_0x3805f1=_0x5181e4-_0x4dc65f/0x64*_0x5181e4;_0x3ef58c['style'][_0x33caa4(0x166)]=_0x3805f1;const _0x51da4a={};_0x4e9957[_0x33caa4(0x217)](_0x2475f1=>{const _0x1c0660=_0x33caa4;if(!_0x51da4a[_0x2475f1['client']]){const _0x297d01=clients[_0x1c0660(0x106)](_0x5202c0=>_0x5202c0[_0x1c0660(0x164)]===_0x2475f1['client']);_0x51da4a[_0x2475f1[_0x1c0660(0x16b)]]={'total':0x0,'done':0x0,'color':_0x297d01?_0x297d01[_0x1c0660(0xba)]:_0x1c0660(0x140)};}_0x51da4a[_0x2475f1[_0x1c0660(0x16b)]][_0x1c0660(0x14c)]++;if(_0x2475f1[_0x1c0660(0x13f)]===_0x1c0660(0xb1))_0x51da4a[_0x2475f1[_0x1c0660(0x16b)]][_0x1c0660(0x17e)]++;});const _0xff09e4=document[_0x33caa4(0xc6)](_0x33caa4(0x1a2));_0xff09e4['innerHTML']='';const _0x4485ef=Object[_0x33caa4(0x1a7)](_0x51da4a)[_0x33caa4(0xe5)]((_0x337116,_0x1dae59)=>_0x1dae59[0x1]['total']-_0x337116[0x1][_0x33caa4(0x14c)]);if(_0x4485ef[_0x33caa4(0x1d8)]===0x0){_0xff09e4['innerHTML']=_0x33caa4(0x198);return;}_0x4485ef[_0x33caa4(0x217)](([_0x3f62cf,_0x3dfce9])=>{const _0x18c40b=_0x33caa4,_0x355f59=Math[_0x18c40b(0x11e)](_0x3dfce9[_0x18c40b(0x17e)]/_0x3dfce9[_0x18c40b(0x14c)]*0x64),_0x5a824e=document[_0x18c40b(0x11c)](_0x18c40b(0x1d4));_0x5a824e[_0x18c40b(0x113)]=_0x18c40b(0x231),_0x5a824e[_0x18c40b(0x220)]['borderLeftColor']=_0x3dfce9['color'],_0x5a824e[_0x18c40b(0x119)]=_0x18c40b(0x1c3)+_0x3f62cf+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x3dfce9[_0x18c40b(0x17e)]+_0x18c40b(0x14b)+_0x3dfce9[_0x18c40b(0x14c)]+_0x18c40b(0x1e4)+_0x355f59+_0x18c40b(0x1b9),_0xff09e4[_0x18c40b(0xd7)](_0x5a824e);});}function formatMinsToHrs(_0x598038){const _0x58ecf2=a2_0x1aa9d6;if(_0x598038===0x0)return'0';const _0x5da7e0=Math[_0x58ecf2(0x1d6)](_0x598038/0x3c),_0x1ab39c=_0x598038%0x3c;if(_0x1ab39c===0x0)return _0x5da7e0+'—á';return _0x5da7e0+'—á\x20'+_0x1ab39c+'–º';}