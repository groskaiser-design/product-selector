const a2_0xbe5f23=a2_0x402e;(function(_0x33f01b,_0x5a8cfc){const _0xbdfebb=a2_0x402e,_0x4b3fee=_0x33f01b();while(!![]){try{const _0x5486b2=parseInt(_0xbdfebb(0x234))/0x1+parseInt(_0xbdfebb(0x268))/0x2*(parseInt(_0xbdfebb(0x1bc))/0x3)+-parseInt(_0xbdfebb(0x214))/0x4+-parseInt(_0xbdfebb(0x1a3))/0x5*(-parseInt(_0xbdfebb(0x282))/0x6)+parseInt(_0xbdfebb(0x2b3))/0x7*(parseInt(_0xbdfebb(0x196))/0x8)+-parseInt(_0xbdfebb(0x2ab))/0x9*(-parseInt(_0xbdfebb(0x1da))/0xa)+parseInt(_0xbdfebb(0x24d))/0xb*(-parseInt(_0xbdfebb(0x21f))/0xc);if(_0x5486b2===_0x5a8cfc)break;else _0x4b3fee['push'](_0x4b3fee['shift']());}catch(_0x9ed884){_0x4b3fee['push'](_0x4b3fee['shift']());}}}(a2_0x1ab5,0x954d3),function initTMA(){const _0x3b8d19=a2_0x402e;try{const _0x5345a2=window['Telegram']?.[_0x3b8d19(0x26b)];if(!_0x5345a2)return;_0x5345a2['ready'](),_0x5345a2[_0x3b8d19(0x2da)]();try{_0x5345a2[_0x3b8d19(0x2d6)](_0x3b8d19(0x217)),_0x5345a2[_0x3b8d19(0x237)]&&_0x5345a2['setBackgroundColor']('#050505');}catch(_0x3488a8){console[_0x3b8d19(0x239)]('Error\x20setting\x20color:',_0x3488a8);}try{_0x5345a2[_0x3b8d19(0x2a2)]&&(_0x5345a2[_0x3b8d19(0x2a2)][_0x3b8d19(0x2ba)](),_0x5345a2[_0x3b8d19(0x2a2)][_0x3b8d19(0x170)](),_0x5345a2['BackButton'][_0x3b8d19(0x1ed)](function(){const _0x23a534=_0x3b8d19;window[_0x23a534(0x233)][_0x23a534(0x17f)]=_0x23a534(0x1ab);}));}catch(_0x40ec66){console[_0x3b8d19(0x239)](_0x3b8d19(0x1c0),_0x40ec66);}try{if(_0x5345a2[_0x3b8d19(0x2d0)])_0x5345a2[_0x3b8d19(0x2d0)]();}catch(_0x6a43bb){}}catch(_0x38b37c){console['error'](_0x3b8d19(0x19f),_0x38b37c);}}());function isAdmin(){const _0x47e308=a2_0x402e;try{const _0x46a7c=Number(window[_0x47e308(0x297)]?.[_0x47e308(0x26b)]?.[_0x47e308(0x2b9)]?.[_0x47e308(0x19a)]?.['id']);return _0x46a7c===0xbaf7174;}catch(_0x583b4b){return![];}}const APP_VERSION='v9.0-BATCH-CALENDAR',API_URL=a2_0xbe5f23(0x1e1),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0xbe5f23(0x215),KEY_SESSIONS='uc_sessions_v9',KEY_SETTINGS=a2_0xbe5f23(0x28a);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x27b9dc=a2_0xbe5f23;return window[_0x27b9dc(0x297)]?.[_0x27b9dc(0x26b)]?.[_0x27b9dc(0x2b9)]?.[_0x27b9dc(0x19a)]?.['id']||_0x27b9dc(0x2cb);},'saveLocally'(){const _0x5af4c6=a2_0xbe5f23;try{localStorage[_0x5af4c6(0x1ec)](KEY_CLIENTS,JSON[_0x5af4c6(0x198)](clients)),localStorage[_0x5af4c6(0x1ec)](KEY_SESSIONS,JSON[_0x5af4c6(0x198)](sessions)),localStorage[_0x5af4c6(0x1ec)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x186ec6){console[_0x5af4c6(0x1ff)](_0x5af4c6(0x25f),_0x186ec6);}},'loadLocal'(){const _0x49712f=a2_0xbe5f23;try{const _0x5a0ff4=localStorage[_0x49712f(0x206)](KEY_CLIENTS);if(_0x5a0ff4)clients=JSON[_0x49712f(0x186)](_0x5a0ff4);const _0x12d261=localStorage[_0x49712f(0x206)](KEY_SESSIONS);if(_0x12d261)sessions=JSON[_0x49712f(0x186)](_0x12d261);const _0x299f30=localStorage[_0x49712f(0x206)](KEY_SETTINGS);if(_0x299f30){const _0x26191f=JSON[_0x49712f(0x186)](_0x299f30);if(_0x26191f[_0x49712f(0x1e5)])availabilityPattern=_0x26191f[_0x49712f(0x1e5)];if(_0x26191f['exceptions'])dateExceptions=_0x26191f[_0x49712f(0x208)];if(_0x26191f[_0x49712f(0x199)])specialRanges=_0x26191f[_0x49712f(0x199)];}else{for(let _0x16e58c=0x0;_0x16e58c<0x7;_0x16e58c++)availabilityPattern[_0x16e58c]=Array['from']({'length':0xc},(_0xc7f552,_0x4aeb25)=>_0x4aeb25+0x9);}}catch(_0x3dcb8b){console['error']('Local\x20Load\x20Error',_0x3dcb8b);}},async 'fetchFromServer'(_0x3c56fe,_0x5f3bc1={}){const _0x306d68=a2_0xbe5f23,_0x1225fe=window[_0x306d68(0x297)]?.[_0x306d68(0x26b)],_0x2503c5={'action':_0x3c56fe,'init_data':_0x1225fe?.[_0x306d68(0x28b)]||'',..._0x5f3bc1};try{const _0x523088=await fetch(API_URL,{'method':_0x306d68(0x1b5),'headers':{'Content-Type':'text/plain;charset=UTF-8'},'body':JSON['stringify'](_0x2503c5)}),_0x9fcacd=await _0x523088[_0x306d68(0x21a)]();if(!_0x9fcacd['ok'])throw new Error(_0x9fcacd['error']||_0x306d68(0x262));return _0x9fcacd['data'];}catch(_0xf174c9){console[_0x306d68(0x1ff)]('[API\x20'+_0x3c56fe+_0x306d68(0x1e2),_0xf174c9);throw _0xf174c9;}},async 'syncLoad'(){const _0x49a7d3=a2_0xbe5f23,_0x47e92c=new Date(),_0x2ffa9b=_0x47e92c[_0x49a7d3(0x2e0)]()+'-'+String(_0x47e92c['getMonth']()+0x1)[_0x49a7d3(0x275)](0x2,'0'),_0x2fdb59=new Date(_0x47e92c);_0x2fdb59[_0x49a7d3(0x22d)](_0x47e92c[_0x49a7d3(0x21d)]()+0x1);const _0x2b4b11=_0x2fdb59['getFullYear']()+'-'+String(_0x2fdb59['getMonth']()+0x1)[_0x49a7d3(0x275)](0x2,'0'),_0x589ea2=Date[_0x49a7d3(0x281)]();console[_0x49a7d3(0x239)](_0x49a7d3(0x209)+_0x2ffa9b+',\x20'+_0x2b4b11+'...');try{const [_0x1446ec,_0xcf366f]=await Promise[_0x49a7d3(0x27f)]([this[_0x49a7d3(0x1ef)]('init_load',{'month_str':_0x2ffa9b}),this[_0x49a7d3(0x1ef)]('init_load',{'month_str':_0x2b4b11})]);if(lastUserActionTime>_0x589ea2)return console['warn'](_0x49a7d3(0x2c1)),![];return this[_0x49a7d3(0x194)](_0x1446ec,_0x2ffa9b),this['mergeServerData'](_0xcf366f,_0x2b4b11),this[_0x49a7d3(0x285)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x29d30e){console[_0x49a7d3(0x1ff)](_0x29d30e);throw _0x29d30e;}},'mergeServerData'(_0x54c64a,_0x4da36c){const _0x4956b5=a2_0xbe5f23;if(!_0x54c64a)return;_0x54c64a[_0x4956b5(0x1f5)]&&Array[_0x4956b5(0x19b)](_0x54c64a[_0x4956b5(0x1f5)])&&(clients=_0x54c64a[_0x4956b5(0x1f5)]);if(_0x54c64a[_0x4956b5(0x24e)]){if(_0x54c64a[_0x4956b5(0x24e)][_0x4956b5(0x1e5)])availabilityPattern=_0x54c64a[_0x4956b5(0x24e)][_0x4956b5(0x1e5)];if(_0x54c64a[_0x4956b5(0x24e)][_0x4956b5(0x208)])dateExceptions=_0x54c64a[_0x4956b5(0x24e)]['exceptions'];if(_0x54c64a[_0x4956b5(0x24e)][_0x4956b5(0x199)])specialRanges=_0x54c64a['settings'][_0x4956b5(0x199)];if(_0x54c64a[_0x4956b5(0x24e)]['cancel_window']){localStorage[_0x4956b5(0x1ec)]('uc_settings_cancel_window',_0x54c64a['settings'][_0x4956b5(0x265)]);const _0x2a5fbb=document[_0x4956b5(0x23e)]('settingCancelWindow');if(_0x2a5fbb)_0x2a5fbb[_0x4956b5(0x176)]=_0x54c64a['settings'][_0x4956b5(0x265)];}}_0x54c64a['calendar']&&(sessions=sessions[_0x4956b5(0x2ad)](_0x24d5eb=>!_0x24d5eb[_0x4956b5(0x1f9)][_0x4956b5(0x21c)](_0x4da36c)),Object[_0x4956b5(0x294)](_0x54c64a[_0x4956b5(0x292)])[_0x4956b5(0x1fe)](_0x425fa6=>{const _0x52d5bb=_0x4956b5,_0x8ff079=_0x54c64a[_0x52d5bb(0x292)][_0x425fa6];_0x8ff079[_0x52d5bb(0x1fe)](_0xf2993d=>{const _0x1443a5=_0x52d5bb,_0x560dc5=clients[_0x1443a5(0x1c1)](_0x813192=>String(_0x813192['id'])===String(_0xf2993d['c']));sessions['push']({'id':_0xf2993d['i'],'clientId':_0xf2993d['c'],'client':_0x560dc5?_0x560dc5[_0x1443a5(0x291)]:_0x1443a5(0x1bb),'dateStr':_0x4da36c+'-'+_0x425fa6[_0x1443a5(0x275)](0x2,'0'),'start':_0xf2993d['s'],'end':_0xf2993d['e'],'status':_0xf2993d['st']||'planned','note':_0xf2993d['n']||'','seriesId':_0xf2993d['sid']||null});});}));},async 'syncBatch'(_0x8b5c44){const _0x2ae55c=a2_0xbe5f23,_0x10f477=[...new Set(_0x8b5c44)],_0x37d309=_0x10f477[_0x2ae55c(0x1ac)](_0x33c7e6=>{const _0x156b6f=_0x2ae55c,_0x53a021=sessions['filter'](_0x31b422=>_0x31b422[_0x156b6f(0x1f9)]===_0x33c7e6&&_0x31b422[_0x156b6f(0x1a9)]!==_0x156b6f(0x202)),_0xd02f6e=_0x53a021[_0x156b6f(0x1ac)](_0x45fa6c=>({'i':_0x45fa6c['id'],'c':_0x45fa6c['clientId'],'s':_0x45fa6c[_0x156b6f(0x1b8)],'e':_0x45fa6c[_0x156b6f(0x193)],'st':_0x45fa6c[_0x156b6f(0x1a9)],'n':_0x45fa6c[_0x156b6f(0x2b1)],'sid':_0x45fa6c[_0x156b6f(0x236)]}));return{'date':_0x33c7e6,'day_data':_0xd02f6e};});if(_0x37d309['length']===0x0)return;console[_0x2ae55c(0x239)](_0x2ae55c(0x22e)+_0x37d309['length']+_0x2ae55c(0x185)),await this['fetchFromServer']('batch_sync',{'changes':_0x37d309});}};async function init(){const _0x1fdf3e=a2_0xbe5f23;DataManager[_0x1fdf3e(0x18c)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x1fdf3e(0x23e)](_0x1fdf3e(0x1d6))[_0x1fdf3e(0x24b)](_0x1fdf3e(0x2bf),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x1fdf3e(0x183)]()[_0x1fdf3e(0x258)](()=>{showToast('–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ',!![]);})['catch'](_0x2b9c33=>{const _0x1275ab=_0x1fdf3e;showToast(_0x1275ab(0x18a),![]);});}function generateId(){const _0x45c528=a2_0xbe5f23;return Date[_0x45c528(0x281)]()['toString'](0x24)+Math[_0x45c528(0x277)]()[_0x45c528(0x192)](0x24)[_0x45c528(0x1de)](0x2,0x5);}function toggleSeriesInput(){const _0x6bf6af=a2_0xbe5f23,_0x578f86=document['getElementById'](_0x6bf6af(0x1e9))[_0x6bf6af(0x166)],_0x6b9ac6=document['getElementById'](_0x6bf6af(0x286));_0x6b9ac6['style'][_0x6bf6af(0x1c5)]=_0x578f86?_0x6bf6af(0x25a):'none';const _0x5b87d7=document['getElementById'](_0x6bf6af(0x187));_0x5b87d7[_0x6bf6af(0x228)][_0x6bf6af(0x2cf)]=_0x578f86?_0x6bf6af(0x1eb):_0x6bf6af(0x296);}function openAddSession(_0x443c74){const _0x17d1c1=a2_0xbe5f23;editingId=null,populateClientSelect(),document[_0x17d1c1(0x23e)]('sheetTitle')[_0x17d1c1(0x2d4)]=_0x17d1c1(0x278),document[_0x17d1c1(0x23e)](_0x17d1c1(0x223))[_0x17d1c1(0x228)][_0x17d1c1(0x1c5)]=_0x17d1c1(0x16c),document[_0x17d1c1(0x23e)](_0x17d1c1(0x226))['style'][_0x17d1c1(0x1c5)]='none';const _0x47382a=document['getElementById'](_0x17d1c1(0x187)),_0x43dd23=document[_0x17d1c1(0x23e)]('seriesCountContainer');_0x47382a[_0x17d1c1(0x228)][_0x17d1c1(0x1c5)]=_0x17d1c1(0x29a),_0x47382a[_0x17d1c1(0x228)][_0x17d1c1(0x2cf)]=_0x17d1c1(0x296),document['getElementById'](_0x17d1c1(0x1e9))['checked']=![],document['getElementById'](_0x17d1c1(0x2c8))[_0x17d1c1(0x176)]=0x4,_0x43dd23[_0x17d1c1(0x228)][_0x17d1c1(0x1c5)]='none',document[_0x17d1c1(0x23e)](_0x17d1c1(0x1f0))['value']=getLocalDateStr(_0x443c74),updateDateDisplay();const _0x475c73=_0x443c74[_0x17d1c1(0x1d5)]();document['getElementById'](_0x17d1c1(0x2cd))[_0x17d1c1(0x176)]=String(_0x475c73)[_0x17d1c1(0x275)](0x2,'0')+':00',document[_0x17d1c1(0x23e)]('inpEnd')[_0x17d1c1(0x176)]=String(_0x475c73+0x1)[_0x17d1c1(0x275)](0x2,'0')+_0x17d1c1(0x1cb),openSheet(_0x17d1c1(0x184));}function openEdit(_0x323a34){const _0x44ff4e=a2_0xbe5f23;editingId=_0x323a34['id'],populateClientSelect(),document[_0x44ff4e(0x23e)](_0x44ff4e(0x2d9))[_0x44ff4e(0x2d4)]=_0x44ff4e(0x246),document[_0x44ff4e(0x23e)]('btnDelete')[_0x44ff4e(0x228)][_0x44ff4e(0x1c5)]='block';const _0x57fb04=document[_0x44ff4e(0x23e)](_0x44ff4e(0x226));_0x57fb04[_0x44ff4e(0x228)][_0x44ff4e(0x1c5)]=_0x44ff4e(0x29a);_0x323a34[_0x44ff4e(0x1a9)]==='completed'?(_0x57fb04[_0x44ff4e(0x293)]=_0x44ff4e(0x2d3),_0x57fb04[_0x44ff4e(0x18b)]=_0x44ff4e(0x263)):(_0x57fb04[_0x44ff4e(0x293)]=_0x44ff4e(0x227),_0x57fb04['innerHTML']=_0x44ff4e(0x2d1));const _0x5c4571=!!_0x323a34[_0x44ff4e(0x236)];document[_0x44ff4e(0x23e)](_0x44ff4e(0x187))[_0x44ff4e(0x228)][_0x44ff4e(0x1c5)]=_0x44ff4e(0x16c),document[_0x44ff4e(0x23e)](_0x44ff4e(0x286))[_0x44ff4e(0x228)]['display']=_0x44ff4e(0x16c),_0x5c4571?(document[_0x44ff4e(0x23e)](_0x44ff4e(0x288))[_0x44ff4e(0x228)][_0x44ff4e(0x1c5)]=_0x44ff4e(0x29a),document[_0x44ff4e(0x23e)](_0x44ff4e(0x288))[_0x44ff4e(0x1b9)](_0x44ff4e(0x221))[_0x44ff4e(0x2d4)]=_0x44ff4e(0x16f)):document[_0x44ff4e(0x23e)](_0x44ff4e(0x288))['style'][_0x44ff4e(0x1c5)]='none',document[_0x44ff4e(0x23e)](_0x44ff4e(0x29c))[_0x44ff4e(0x176)]=_0x323a34[_0x44ff4e(0x1bf)],document[_0x44ff4e(0x23e)](_0x44ff4e(0x1f0))[_0x44ff4e(0x176)]=_0x323a34[_0x44ff4e(0x1f9)],document[_0x44ff4e(0x23e)](_0x44ff4e(0x2cd))[_0x44ff4e(0x176)]=_0x323a34['start'],document[_0x44ff4e(0x23e)]('inpEnd')['value']=_0x323a34[_0x44ff4e(0x193)],document[_0x44ff4e(0x23e)](_0x44ff4e(0x21b))[_0x44ff4e(0x176)]=_0x323a34[_0x44ff4e(0x2b1)]||'',updateDateDisplay(),openSheet(_0x44ff4e(0x184));}async function trySaveSession(){const _0x43b33d=a2_0xbe5f23,_0x2e9545=document[_0x43b33d(0x23e)](_0x43b33d(0x29c))[_0x43b33d(0x176)],_0x1995f0=document[_0x43b33d(0x23e)](_0x43b33d(0x1f0))[_0x43b33d(0x176)],_0x3566fd=document[_0x43b33d(0x23e)]('inpStart')[_0x43b33d(0x176)],_0x570c8e=document['getElementById'](_0x43b33d(0x22f))[_0x43b33d(0x176)],_0x1b2daf=document[_0x43b33d(0x23e)](_0x43b33d(0x21b))[_0x43b33d(0x176)],_0x367449=document[_0x43b33d(0x23e)]('inpRecurring')['checked'];let _0x2f1299=0x4;if(_0x367449){const _0x548270=parseInt(document[_0x43b33d(0x23e)]('inpSeriesCount')[_0x43b33d(0x176)]);if(!_0x548270||_0x548270<0x2){showToast(_0x43b33d(0x16a),![]);return;}if(_0x548270>0x64){showToast('–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑',![]);return;}_0x2f1299=_0x548270;}const _0x5782a5=clients[_0x43b33d(0x1c1)](_0x149b27=>_0x149b27[_0x43b33d(0x291)]===_0x2e9545);if(!_0x5782a5){showToast(_0x43b33d(0x253),![]);return;}const _0x39a9d1=validateAppointment(_0x1995f0,_0x3566fd,_0x570c8e,editingId,_0x5782a5['id']);if(!_0x39a9d1['valid']){showToast(_0x39a9d1[_0x43b33d(0x249)],![]);return;}_0x39a9d1[_0x43b33d(0x229)]&&showToast(_0x39a9d1[_0x43b33d(0x229)],![]);const _0x4213dd={'client':_0x2e9545,'clientId':_0x5782a5['id'],'start':_0x3566fd,'end':_0x570c8e,'note':_0x1b2daf,'status':_0x43b33d(0x257)},_0xedba44=editingId?sessions['find'](_0x50a6e1=>_0x50a6e1['id']===editingId):null;if(_0xedba44&&_0xedba44[_0x43b33d(0x236)]){tempSessionData={..._0x4213dd,'dateStr':_0x1995f0,'id':editingId,'seriesId':_0xedba44[_0x43b33d(0x236)]},openActionSheet('save');return;}let _0x2860bf=null;if(!editingId)_0x2860bf='create';else{if(_0xedba44){if(String(_0xedba44[_0x43b33d(0x27b)])!==String(_0x5782a5['id']))console[_0x43b33d(0x239)]('[Notify]\x20Client\x20SWAP\x20detected'),NotificationManager[_0x43b33d(0x238)](_0x43b33d(0x276),_0xedba44),_0x2860bf='create';else(_0xedba44[_0x43b33d(0x1b8)]!==_0x3566fd||_0xedba44[_0x43b33d(0x193)]!==_0x570c8e||_0xedba44['dateStr']!==_0x1995f0)&&(_0x2860bf=_0x43b33d(0x211));}}if(!editingId&&_0x367449){createBatchSeries(_0x4213dd,_0x1995f0,_0x2f1299),NotificationManager[_0x43b33d(0x238)](_0x43b33d(0x27c),{..._0x4213dd,'dateStr':_0x1995f0});return;}lastUserActionTime=Date[_0x43b33d(0x281)]();const _0x42252d={..._0x4213dd,'dateStr':_0x1995f0,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x42252d),_0x2860bf&&NotificationManager['send'](_0x2860bf,_0x42252d);}function toggleSessionStatus(){const _0x298cf3=a2_0xbe5f23;lastUserActionTime=Date[_0x298cf3(0x281)]();const _0xed74db=sessions[_0x298cf3(0x1c1)](_0x2765c3=>_0x2765c3['id']===editingId);if(!_0xed74db)return;const _0x5d8256=_0xed74db['status']==='completed'?'planned':'completed';_0xed74db[_0x298cf3(0x1a9)]=_0x5d8256,saveSingleSession(_0xed74db),_0x5d8256===_0x298cf3(0x20b)&&NotificationManager['send'](_0x298cf3(0x1e3),_0xed74db),showToast(_0x5d8256===_0x298cf3(0x20b)?'–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞':'–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω',!![]);}function validateAppointment(_0x4c18ee,_0x1f0c93,_0x17f503,_0x4ad914,_0x2b74bc){const _0x209e07=a2_0xbe5f23,[_0x4af384,_0x17a655]=_0x1f0c93[_0x209e07(0x2a1)](':')[_0x209e07(0x1ac)](Number),[_0xb9a0c8,_0x50108f]=_0x17f503[_0x209e07(0x2a1)](':')[_0x209e07(0x1ac)](Number),_0x46b175=_0x4af384*0x3c+_0x17a655,_0x1a5663=_0xb9a0c8*0x3c+_0x50108f,_0x5bf60d=String(_0x2b74bc);let _0x1fcfd7=![],_0x5d9af9='';for(let _0x1f72a9 of sessions){if(_0x1f72a9[_0x209e07(0x1f9)]!==_0x4c18ee)continue;if(_0x1f72a9[_0x209e07(0x1a9)]===_0x209e07(0x2b4))continue;if(_0x4ad914&&String(_0x1f72a9['id'])===String(_0x4ad914))continue;const [_0xe8cd73,_0x5e7602]=_0x1f72a9[_0x209e07(0x1b8)][_0x209e07(0x2a1)](':')[_0x209e07(0x1ac)](Number),[_0x55bcac,_0x3f1c7d]=_0x1f72a9[_0x209e07(0x193)]['split'](':')[_0x209e07(0x1ac)](Number),_0x5d2118=_0xe8cd73*0x3c+_0x5e7602,_0x2c8484=_0x55bcac*0x3c+_0x3f1c7d;if(Math['max'](_0x46b175,_0x5d2118)<Math[_0x209e07(0x247)](_0x1a5663,_0x2c8484)){if(_0x1f72a9['clientId']&&String(_0x1f72a9[_0x209e07(0x27b)])===_0x5bf60d)return{'valid':![],'msg':_0x209e07(0x29b)+_0x1f72a9[_0x209e07(0x1bf)]+_0x209e07(0x1b2)};_0x1fcfd7=!![],_0x5d9af9=_0x1f72a9['client'];}}if(_0x1fcfd7)return{'valid':!![],'warning':_0x209e07(0x270)+_0x5d9af9};return{'valid':!![]};}function saveSingleSession(_0x5ad2eb){const _0x47f240=a2_0xbe5f23;if(editingId){const _0x38f946=sessions['findIndex'](_0x5be81e=>_0x5be81e['id']===editingId);if(_0x38f946!==-0x1)sessions[_0x38f946]=_0x5ad2eb;}else sessions['push'](_0x5ad2eb);afterSaveAction([_0x5ad2eb[_0x47f240(0x1f9)]]);}function createBatchSeries(_0x22f12c,_0x341dbe,_0x335951){const _0x420eb6=a2_0xbe5f23,_0x23b021=generateId(),_0x5d8bc0=[],_0x2b280c=[];let _0x55db42=0x0,_0x410a47=new Date(_0x341dbe);for(let _0x31c994=0x0;_0x31c994<_0x335951;_0x31c994++){const _0x142884=getLocalDateStr(_0x410a47),_0xaa5fce=validateAppointment(_0x142884,_0x22f12c[_0x420eb6(0x1b8)],_0x22f12c['end'],null,_0x22f12c[_0x420eb6(0x27b)]);if(!_0xaa5fce['valid'])console[_0x420eb6(0x239)]('[Series]\x20Skipped\x20'+_0x142884+_0x420eb6(0x231)),_0x55db42++;else{const _0x380dc7={..._0x22f12c,'id':generateId(),'dateStr':_0x142884,'seriesId':_0x23b021};_0x2b280c['push'](_0x380dc7),_0x5d8bc0['push'](_0x142884);}_0x410a47[_0x420eb6(0x25b)](_0x410a47[_0x420eb6(0x2c4)]()+0x7);}if(_0x2b280c[_0x420eb6(0x2c9)]===0x0){showToast(_0x420eb6(0x26f),![]);return;}sessions[_0x420eb6(0x1fa)](..._0x2b280c),lastUserActionTime=Date[_0x420eb6(0x281)]();let _0x28c37c=_0x420eb6(0x203)+_0x2b280c['length'];_0x55db42>0x0&&(_0x28c37c+=_0x420eb6(0x18e)+_0x55db42+')'),showToast(_0x28c37c,!![]),afterSaveAction(_0x5d8bc0);}function updateSeriesBatch(_0x57c4e5,_0x315158){const _0xd2ef6a=a2_0xbe5f23,_0xb9e8f1=[],_0x72f174=_0x315158[_0xd2ef6a(0x236)];if(_0x57c4e5===_0xd2ef6a(0x2bd)){const _0x6ba66f={..._0x315158,'seriesId':null},_0x5297fb=sessions[_0xd2ef6a(0x261)](_0x51ddd5=>_0x51ddd5['id']===_0x315158['id']);if(_0x5297fb!==-0x1)sessions[_0x5297fb]=_0x6ba66f;_0xb9e8f1['push'](_0x6ba66f[_0xd2ef6a(0x1f9)]);}else{if(_0x57c4e5===_0xd2ef6a(0x20d)){const _0x3711c1=_0x315158[_0xd2ef6a(0x1f9)];sessions[_0xd2ef6a(0x1fe)]((_0x3152c4,_0xbde0e)=>{const _0x4a3b66=_0xd2ef6a;_0x3152c4[_0x4a3b66(0x236)]===_0x72f174&&_0x3152c4[_0x4a3b66(0x1f9)]>=_0x3711c1&&(sessions[_0xbde0e]={...sessions[_0xbde0e],'start':_0x315158[_0x4a3b66(0x1b8)],'end':_0x315158[_0x4a3b66(0x193)],'note':_0x315158[_0x4a3b66(0x2b1)],'client':_0x315158[_0x4a3b66(0x1bf)],'clientId':_0x315158[_0x4a3b66(0x27b)]},_0xb9e8f1[_0x4a3b66(0x1fa)](_0x3152c4[_0x4a3b66(0x1f9)]));});}}afterSaveAction(_0xb9e8f1);}function tryDeleteSession(){const _0x164687=a2_0xbe5f23,_0x283f8a=sessions[_0x164687(0x1c1)](_0x5f154f=>_0x5f154f['id']===editingId);if(!_0x283f8a)return;_0x283f8a[_0x164687(0x236)]?openActionSheet(_0x164687(0x25d)):commitDelete(_0x164687(0x2bd),_0x283f8a);}function commitDelete(_0x2a2d3f,_0x255565){const _0x3543d1=a2_0xbe5f23;lastUserActionTime=Date[_0x3543d1(0x281)](),NotificationManager[_0x3543d1(0x238)](_0x3543d1(0x276),_0x255565);const _0x43ef1d=[];if(_0x2a2d3f===_0x3543d1(0x2bd))sessions=sessions[_0x3543d1(0x2ad)](_0x3c6008=>_0x3c6008['id']!==_0x255565['id']),_0x43ef1d[_0x3543d1(0x1fa)](_0x255565['dateStr']);else{if(_0x2a2d3f===_0x3543d1(0x20d)){const _0x437785=_0x255565[_0x3543d1(0x1f9)],_0x3cacb2=_0x255565[_0x3543d1(0x236)];sessions[_0x3543d1(0x1fe)](_0x10f858=>{const _0x38332b=_0x3543d1;_0x10f858[_0x38332b(0x236)]===_0x3cacb2&&_0x10f858['dateStr']>=_0x437785&&_0x43ef1d[_0x38332b(0x1fa)](_0x10f858['dateStr']);}),sessions=sessions[_0x3543d1(0x2ad)](_0x2281db=>!(_0x2281db[_0x3543d1(0x236)]===_0x3cacb2&&_0x2281db[_0x3543d1(0x1f9)]>=_0x437785));}}afterSaveAction(_0x43ef1d);}function afterSaveAction(_0x241d29){const _0x19cf34=a2_0xbe5f23;DataManager[_0x19cf34(0x285)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager['syncBatch'](_0x241d29)[_0x19cf34(0x258)](()=>console[_0x19cf34(0x239)]('Batch\x20Sync\x20OK'))[_0x19cf34(0x2a5)](_0x2e5094=>showToast(_0x19cf34(0x2b0),![]));}const NotificationManager={'formatDate'(_0x21c8e7){const _0x4d4a8a=a2_0xbe5f23,_0x2221a6=new Date(_0x21c8e7),_0x236753={'weekday':_0x4d4a8a(0x216),'day':_0x4d4a8a(0x259),'month':_0x4d4a8a(0x216)};let _0x2e8861=_0x2221a6[_0x4d4a8a(0x252)](_0x4d4a8a(0x1b6),_0x236753);return _0x2e8861[_0x4d4a8a(0x271)](0x0)['toUpperCase']()+_0x2e8861[_0x4d4a8a(0x2a8)](0x1);},'getText'(_0x503ac8,_0x58798f){const _0x5b67b1=a2_0xbe5f23,_0x111f4c=this[_0x5b67b1(0x251)](_0x58798f[_0x5b67b1(0x1f9)]);switch(_0x503ac8){case _0x5b67b1(0x27c):return _0x5b67b1(0x18d)+(_0x5b67b1(0x210)+_0x111f4c+'\x0a')+(_0x5b67b1(0x1d3)+_0x58798f[_0x5b67b1(0x1b8)]+_0x5b67b1(0x1d1)+_0x58798f[_0x5b67b1(0x193)]+'\x0a\x0a')+_0x5b67b1(0x20e);case'update':return _0x5b67b1(0x18f)+'–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a'+(_0x5b67b1(0x1cd)+_0x58798f[_0x5b67b1(0x1b8)]+_0x5b67b1(0x1d1)+_0x58798f[_0x5b67b1(0x193)]+_0x5b67b1(0x24a))+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0x111f4c);case _0x5b67b1(0x276):return _0x5b67b1(0x17d)+(_0x5b67b1(0x1a7)+_0x111f4c+'\x20('+_0x58798f['start']+_0x5b67b1(0x267));case _0x5b67b1(0x1e3):return _0x5b67b1(0x1dd)+_0x5b67b1(0x1bd)+'<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>';default:return'';}},async 'send'(_0x4090a3,_0x2cac68){const _0x87435=a2_0xbe5f23;console[_0x87435(0x239)](_0x87435(0x24c),_0x4090a3,_0x2cac68);if(!_0x2cac68){console[_0x87435(0x1ff)]('[Notify]\x20Error:\x20sessionData\x20is\x20null');return;}const _0x1decc4=String(_0x2cac68[_0x87435(0x27b)]);console[_0x87435(0x239)](_0x87435(0x179),_0x1decc4);if(!_0x2cac68['clientId']||_0x1decc4===_0x87435(0x212)||_0x1decc4===_0x87435(0x1e0)){console['error']('[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!');if(_0x2cac68['client']){const _0x4e75f9=clients[_0x87435(0x1c1)](_0x46c265=>_0x46c265[_0x87435(0x291)]===_0x2cac68[_0x87435(0x1bf)]);if(_0x4e75f9)return console[_0x87435(0x239)]('[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:',_0x4e75f9['id']),this[_0x87435(0x238)](_0x4090a3,{..._0x2cac68,'clientId':_0x4e75f9['id']});}return;}if(_0x1decc4[_0x87435(0x2c9)]<0x5){console[_0x87435(0x284)]('[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)',_0x1decc4);return;}const _0x3cc347=this['getText'](_0x4090a3,_0x2cac68);if(!_0x3cc347){console[_0x87435(0x1ff)](_0x87435(0x26c));return;}console['log'](_0x87435(0x2aa)+_0x1decc4+_0x87435(0x1aa)),DataManager[_0x87435(0x1ef)](_0x87435(0x250),{'chatId':_0x1decc4,'text':_0x3cc347})[_0x87435(0x258)](_0x46dcf0=>console[_0x87435(0x239)](_0x87435(0x2bc),_0x46dcf0))[_0x87435(0x2a5)](_0x8d87db=>console['error']('[Notify]\x20Network\x20Failed',_0x8d87db));}};function getLocalDateStr(_0x3f4a8a){const _0x2b7274=a2_0xbe5f23,_0x548989=_0x3f4a8a[_0x2b7274(0x2e0)](),_0x3b93b5=String(_0x3f4a8a[_0x2b7274(0x21d)]()+0x1)[_0x2b7274(0x275)](0x2,'0'),_0x16d061=String(_0x3f4a8a[_0x2b7274(0x2c4)]())[_0x2b7274(0x275)](0x2,'0');return _0x548989+'-'+_0x3b93b5+'-'+_0x16d061;}function getDateStr(_0x455bcf){const _0x4d8809=a2_0xbe5f23,_0x4ead77=new Date();return _0x4ead77[_0x4d8809(0x25b)](_0x4ead77[_0x4d8809(0x2c4)]()+_0x455bcf),getLocalDateStr(_0x4ead77);}function getStartOfWeek(_0x4bdd2e){const _0x522c7c=a2_0xbe5f23,_0x41bde3=(function(){let _0x4f427c=!![];return function(_0x18fe49,_0x37ed43){const _0x528037=_0x4f427c?function(){const _0x4dc4f0=a2_0x402e;if(_0x37ed43){const _0x17c752=_0x37ed43[_0x4dc4f0(0x1af)](_0x18fe49,arguments);return _0x37ed43=null,_0x17c752;}}:function(){};return _0x4f427c=![],_0x528037;};}()),_0x904223=_0x41bde3(this,function(){const _0x1c7b62=a2_0x402e;return _0x904223['toString']()[_0x1c7b62(0x29d)]('(((.+)+)+)+$')[_0x1c7b62(0x192)]()['constructor'](_0x904223)[_0x1c7b62(0x29d)]('(((.+)+)+)+$');});_0x904223();const _0x172773=new Date(_0x4bdd2e),_0x25f790=_0x172773[_0x522c7c(0x189)](),_0x169b6a=_0x172773[_0x522c7c(0x2c4)]()-_0x25f790+(_0x25f790===0x0?-0x6:0x1);return _0x172773[_0x522c7c(0x25b)](_0x169b6a),_0x172773[_0x522c7c(0x2c7)](0x0,0x0,0x0,0x0),_0x172773;}function hexToRgba(_0x51ae78,_0x26f583){const _0x14023a=a2_0xbe5f23;if(!_0x51ae78)return _0x14023a(0x1fb);let _0x322783=0x0,_0x257bd1=0x0,_0x2ead98=0x0;if(_0x51ae78[_0x14023a(0x2c9)]===0x4)_0x322783='0x'+_0x51ae78[0x1]+_0x51ae78[0x1],_0x257bd1='0x'+_0x51ae78[0x2]+_0x51ae78[0x2],_0x2ead98='0x'+_0x51ae78[0x3]+_0x51ae78[0x3];else _0x51ae78['length']===0x7&&(_0x322783='0x'+_0x51ae78[0x1]+_0x51ae78[0x2],_0x257bd1='0x'+_0x51ae78[0x3]+_0x51ae78[0x4],_0x2ead98='0x'+_0x51ae78[0x5]+_0x51ae78[0x6]);return _0x14023a(0x28d)+ +_0x322783+',\x20'+ +_0x257bd1+',\x20'+ +_0x2ead98+',\x20'+_0x26f583+')';}function a2_0x402e(_0x14d720,_0x25dc7d){_0x14d720=_0x14d720-0x165;const _0x427ff2=a2_0x1ab5();let _0x4ab7b9=_0x427ff2[_0x14d720];return _0x4ab7b9;}function renderTimeColumn(){const _0x241f2c=a2_0xbe5f23,_0x2c3deb=document[_0x241f2c(0x23e)](_0x241f2c(0x287)),_0x1d7aff=document['getElementById']('timeLineBadge');_0x2c3deb[_0x241f2c(0x18b)]='',_0x2c3deb[_0x241f2c(0x1ee)](_0x1d7aff);for(let _0x2bc1e8=0x0;_0x2bc1e8<0x18;_0x2bc1e8++){const _0xbb05aa=document['createElement']('div');_0xbb05aa['className']='time-label';if(_0x2bc1e8>0x0)_0xbb05aa['innerHTML']=_0x241f2c(0x1a0)+String(_0x2bc1e8)['padStart'](0x2,'0')+_0x241f2c(0x20f);_0x2c3deb['appendChild'](_0xbb05aa);}}function renderDayRange(_0x24616e,_0x523e4b){const _0x1a3591=a2_0xbe5f23,_0x4100c3=document['getElementById'](_0x1a3591(0x289)),_0x35f73a=document['getElementById'](_0x1a3591(0x1fc)),_0xb3cbd3=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x110f87=new Date();_0x110f87[_0x1a3591(0x2c7)](0x0,0x0,0x0,0x0);const _0x23cff6=getLocalDateStr(new Date());for(let _0x5ed260=_0x24616e;_0x5ed260<=_0x523e4b;_0x5ed260++){const _0x30ac6b=new Date(_0x110f87);_0x30ac6b[_0x1a3591(0x25b)](_0x30ac6b[_0x1a3591(0x2c4)]()+_0x5ed260);const _0x253e57=getLocalDateStr(_0x30ac6b);let _0x30f689=_0x30ac6b['getDay']()-0x1;if(_0x30f689===-0x1)_0x30f689=0x6;const _0xb5dee9=_0x253e57===_0x23cff6,_0x2fa934=document[_0x1a3591(0x243)]('div');_0x2fa934[_0x1a3591(0x293)]='day-col-header\x20'+(_0xb5dee9?_0x1a3591(0x2ca):''),_0x2fa934['id']=_0x1a3591(0x172)+_0x253e57,_0x2fa934['setAttribute'](_0x1a3591(0x1c7),_0x253e57),_0x2fa934[_0x1a3591(0x18b)]=_0x1a3591(0x222)+_0xb3cbd3[_0x30f689]+_0x1a3591(0x23d)+_0x30ac6b[_0x1a3591(0x2c4)]()+_0x1a3591(0x1c2)+_0x253e57+_0x1a3591(0x1f8),_0x2fa934[_0x1a3591(0x25c)]=()=>openDayOptions(_0x253e57,_0xb3cbd3[_0x30f689]+'\x20'+_0x30ac6b[_0x1a3591(0x2c4)]()),_0x4100c3[_0x1a3591(0x1ee)](_0x2fa934);const _0x44c415=document[_0x1a3591(0x243)]('div');_0x44c415[_0x1a3591(0x293)]=_0x1a3591(0x168)+(_0xb5dee9?'today':''),_0x44c415[_0x1a3591(0x1d7)](_0x1a3591(0x1c7),_0x253e57),_0x44c415[_0x1a3591(0x1d7)](_0x1a3591(0x27a),_0x30f689),renderEventsForColumn(_0x44c415,_0x253e57,_0x30f689),attachLongPressHandler(_0x44c415,_0x30ac6b),_0x35f73a['appendChild'](_0x44c415),updateDayStats(_0x253e57);}}function reRenderBlocks(){document['querySelectorAll']('#gridColumns\x20.day-column')['forEach'](_0x2c4605=>{const _0x3e32f2=a2_0x402e;_0x2c4605[_0x3e32f2(0x171)](_0x3e32f2(0x2db))[_0x3e32f2(0x1fe)](_0x3ce0b7=>_0x3ce0b7[_0x3e32f2(0x23b)]());const _0x2e977c=_0x2c4605[_0x3e32f2(0x240)](_0x3e32f2(0x1c7)),_0x11077e=parseInt(_0x2c4605[_0x3e32f2(0x240)](_0x3e32f2(0x27a))),_0xea7b07=Math[_0x3e32f2(0x2c0)](_0x2c4605[_0x3e32f2(0x2ac)]);(availabilityPattern[_0x11077e]||[])['forEach'](_0x3e2548=>{const _0x3a3f89=_0x3e32f2,_0x1f8ec6=document[_0x3a3f89(0x243)](_0x3a3f89(0x195));_0x1f8ec6[_0x3a3f89(0x293)]=_0x3a3f89(0x167);const _0x38596b=_0x3e2548*GRID_H;_0x1f8ec6[_0x3a3f89(0x228)][_0x3a3f89(0x1a8)]=_0x38596b+'px',_0x1f8ec6[_0x3a3f89(0x228)][_0x3a3f89(0x230)]='-'+_0xea7b07+_0x3a3f89(0x17b)+_0x38596b+'px',_0x2c4605[_0x3a3f89(0x1ee)](_0x1f8ec6);});if(specialRanges&&specialRanges[_0x3e32f2(0x2c9)]>0x0){const _0x99c7d3=new Date(_0x2e977c+'T00:00:00')[_0x3e32f2(0x1f3)](),_0xd47313=new Date(_0x2e977c+_0x3e32f2(0x1f7))['getTime']();specialRanges[_0x3e32f2(0x1fe)](_0x120013=>{const _0xd32734=_0x3e32f2,_0x17d71f=new Date(_0x120013[_0xd32734(0x1b8)])[_0xd32734(0x1f3)](),_0x3eb719=new Date(_0x120013[_0xd32734(0x193)])[_0xd32734(0x1f3)](),_0x4b9708=Math['max'](_0x99c7d3,_0x17d71f),_0x34d158=Math[_0xd32734(0x247)](_0xd47313,_0x3eb719);if(_0x4b9708<_0x34d158){if(_0x4b9708<=_0x99c7d3&&_0x34d158>=_0xd47313-0xea60){if(!_0x2c4605['querySelector'](_0xd32734(0x1a2))){const _0x31a979=document['createElement'](_0xd32734(0x195));_0x31a979[_0xd32734(0x293)]='day-off-overlay\x20stripe-bg',_0x31a979[_0xd32734(0x228)]['backgroundPosition']='-'+_0xea7b07+'px\x200px',_0x2c4605[_0xd32734(0x1ee)](_0x31a979);}}else{const _0x3e1df6=(_0x4b9708-_0x99c7d3)/0x36ee80*GRID_H,_0x3c08be=(_0x34d158-_0x4b9708)/0x36ee80*GRID_H,_0x2a8bd2=document[_0xd32734(0x243)](_0xd32734(0x195));_0x2a8bd2[_0xd32734(0x293)]=_0xd32734(0x1ea),_0x2a8bd2['style'][_0xd32734(0x1a8)]=_0x3e1df6+'px',_0x2a8bd2['style'][_0xd32734(0x2a0)]=_0x3c08be+'px',_0x2a8bd2[_0xd32734(0x228)][_0xd32734(0x230)]='-'+_0xea7b07+_0xd32734(0x17b)+_0x3e1df6+'px',_0x2c4605[_0xd32734(0x1ee)](_0x2a8bd2);}}});}if(dateExceptions[_0x2e977c]==='off'){if(!_0x2c4605[_0x3e32f2(0x1b9)](_0x3e32f2(0x1a2))){const _0x30c2d2=document[_0x3e32f2(0x243)](_0x3e32f2(0x195));_0x30c2d2['className']=_0x3e32f2(0x274),_0x30c2d2['style'][_0x3e32f2(0x230)]='-'+_0xea7b07+_0x3e32f2(0x16e),_0x2c4605['appendChild'](_0x30c2d2);}}renderEventsForColumn(_0x2c4605,_0x2e977c,_0x11077e),updateDayStats(_0x2e977c);});}function updateAllDayStats(){const _0x584e2f=a2_0xbe5f23;document[_0x584e2f(0x171)](_0x584e2f(0x299))['forEach'](_0x46954d=>{const _0xf12275=_0x584e2f;updateDayStats(_0x46954d[_0xf12275(0x240)]('data-date'));});}function updateDayStats(_0x4c23c2){const _0x1142f6=a2_0xbe5f23,_0x3cd172=document['getElementById'](_0x1142f6(0x201)+_0x4c23c2);if(!_0x3cd172)return;const _0x5aa3fa=new Date(_0x4c23c2);let _0x5f14f=_0x5aa3fa[_0x1142f6(0x189)]()-0x1;if(_0x5f14f===-0x1)_0x5f14f=0x6;if(dateExceptions[_0x4c23c2]===_0x1142f6(0x1f2)){_0x3cd172['style']['display']=_0x1142f6(0x16c);return;}const _0x5f11cf=availabilityPattern[_0x5f14f]||[],_0x568619=0x18-_0x5f11cf[_0x1142f6(0x2c9)],_0x2fc60a=_0x568619*0x3c,_0x4608c0=sessions[_0x1142f6(0x2ad)](_0xa258d4=>_0xa258d4['dateStr']===_0x4c23c2&&_0xa258d4[_0x1142f6(0x1a9)]!=='cancelled');if(_0x4608c0[_0x1142f6(0x2c9)]===0x0){_0x3cd172[_0x1142f6(0x228)][_0x1142f6(0x1c5)]='none';return;}let _0x52c812=_0x4608c0['map'](_0x182419=>{const _0xe0536d=_0x1142f6,[_0x40f802,_0xec8ab1]=_0x182419[_0xe0536d(0x1b8)]['split'](':')['map'](Number),[_0x298602,_0x430332]=_0x182419['end'][_0xe0536d(0x2a1)](':')[_0xe0536d(0x1ac)](Number);return[_0x40f802*0x3c+_0xec8ab1,_0x298602*0x3c+_0x430332];});_0x52c812['sort']((_0x29c095,_0x53a20a)=>_0x29c095[0x0]-_0x53a20a[0x0]);let _0x5893ae=[];if(_0x52c812[_0x1142f6(0x2c9)]>0x0){let _0xe9c4e4=_0x52c812[0x0];for(let _0x5b2b6d=0x1;_0x5b2b6d<_0x52c812[_0x1142f6(0x2c9)];_0x5b2b6d++){_0x52c812[_0x5b2b6d][0x0]<_0xe9c4e4[0x1]?_0xe9c4e4[0x1]=Math[_0x1142f6(0x178)](_0xe9c4e4[0x1],_0x52c812[_0x5b2b6d][0x1]):(_0x5893ae[_0x1142f6(0x1fa)](_0xe9c4e4),_0xe9c4e4=_0x52c812[_0x5b2b6d]);}_0x5893ae[_0x1142f6(0x1fa)](_0xe9c4e4);}let _0x1a5d14=0x0;_0x5893ae['forEach'](_0x346f05=>_0x1a5d14+=_0x346f05[0x1]-_0x346f05[0x0]),_0x3cd172[_0x1142f6(0x228)][_0x1142f6(0x1c5)]=_0x1142f6(0x29a);const _0xd8d3a6=_0x3cd172[_0x1142f6(0x1b9)](_0x1142f6(0x232));if(_0x2fc60a===0x0){_0xd8d3a6[_0x1142f6(0x228)][_0x1142f6(0x298)]='100%',_0xd8d3a6[_0x1142f6(0x228)][_0x1142f6(0x245)]=_0x1142f6(0x25e);return;}const _0x572e8f=_0x1a5d14/_0x2fc60a*0x64;console[_0x1142f6(0x239)]('['+_0x4c23c2+_0x1142f6(0x255)+_0x568619+_0x1142f6(0x2ce)+_0x1a5d14+'–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20'+_0x572e8f['toFixed'](0x1)+'%'),_0x572e8f>0x64?(_0xd8d3a6[_0x1142f6(0x228)][_0x1142f6(0x298)]=_0x1142f6(0x235),_0xd8d3a6[_0x1142f6(0x228)][_0x1142f6(0x245)]=_0x1142f6(0x25e)):(_0xd8d3a6[_0x1142f6(0x228)][_0x1142f6(0x298)]=_0x572e8f+'%',_0xd8d3a6[_0x1142f6(0x228)][_0x1142f6(0x245)]=_0x1142f6(0x1e6));}function renderEventsForColumn(_0x36b882,_0x2c753f,_0x35e0a8){const _0x42eeb6=a2_0xbe5f23,_0x2402b5=sessions[_0x42eeb6(0x2ad)](_0x3b5d07=>_0x3b5d07[_0x42eeb6(0x1f9)]===_0x2c753f),_0x4b9a12=_0x2402b5[_0x42eeb6(0x1ac)](_0x3e0811=>{const _0x5ba1fc=_0x42eeb6,[_0x30518c,_0x55792d]=_0x3e0811[_0x5ba1fc(0x1b8)][_0x5ba1fc(0x2a1)](':')[_0x5ba1fc(0x1ac)](Number),[_0xccaae8,_0x5a96b3]=_0x3e0811[_0x5ba1fc(0x193)][_0x5ba1fc(0x2a1)](':')[_0x5ba1fc(0x1ac)](Number);return{'data':_0x3e0811,'start':_0x30518c*0x3c+_0x55792d,'end':_0xccaae8*0x3c+_0x5a96b3,'colIndex':0x0};});_0x4b9a12[_0x42eeb6(0x254)]((_0x280c23,_0xec782d)=>{const _0x1b8226=_0x42eeb6;if(_0x280c23[_0x1b8226(0x1b8)]!==_0xec782d[_0x1b8226(0x1b8)])return _0x280c23[_0x1b8226(0x1b8)]-_0xec782d[_0x1b8226(0x1b8)];return _0xec782d['end']-_0xec782d['start']-(_0x280c23['end']-_0x280c23[_0x1b8226(0x1b8)]);});const _0x4f61ae=[];_0x4b9a12['forEach'](_0x516120=>{const _0x41ffc3=_0x42eeb6;let _0x3c671b=![];for(let _0x1b7f30=0x0;_0x1b7f30<_0x4f61ae[_0x41ffc3(0x2c9)];_0x1b7f30++){const _0x9541e9=_0x4f61ae[_0x1b7f30],_0x5e7529=_0x9541e9[_0x9541e9[_0x41ffc3(0x2c9)]-0x1];if(_0x516120[_0x41ffc3(0x1b8)]>=_0x5e7529[_0x41ffc3(0x193)]){_0x9541e9[_0x41ffc3(0x1fa)](_0x516120),_0x516120[_0x41ffc3(0x218)]=_0x1b7f30,_0x3c671b=!![];break;}}!_0x3c671b&&(_0x4f61ae['push']([_0x516120]),_0x516120['colIndex']=_0x4f61ae[_0x41ffc3(0x2c9)]-0x1);}),_0x4b9a12[_0x42eeb6(0x1fe)](_0x24a20a=>{const _0x2de08b=_0x42eeb6;let _0x48ae4f=0x0;_0x4b9a12[_0x2de08b(0x1fe)](_0x145d55=>{const _0x43aa66=_0x2de08b;if(Math[_0x43aa66(0x178)](_0x24a20a[_0x43aa66(0x1b8)],_0x145d55[_0x43aa66(0x1b8)])<Math[_0x43aa66(0x247)](_0x24a20a[_0x43aa66(0x193)],_0x145d55['end'])){if(_0x145d55[_0x43aa66(0x218)]>_0x48ae4f)_0x48ae4f=_0x145d55[_0x43aa66(0x218)];}});const _0x4a1e24=_0x48ae4f+0x1,_0x507352=0x64/_0x4a1e24,_0x2a6b21=_0x24a20a['colIndex']*_0x507352,_0x1f886c=createEventEl(_0x24a20a[_0x2de08b(0x2d8)]);_0x1f886c['style']['width']=_0x2de08b(0x2c6)+_0x507352+'%\x20-\x204px)',_0x1f886c['style'][_0x2de08b(0x26a)]=_0x2de08b(0x2c6)+_0x2a6b21+_0x2de08b(0x17a),_0x1f886c['style']['zIndex']=0xa+_0x24a20a[_0x2de08b(0x218)],_0x507352<0x55&&_0x1f886c[_0x2de08b(0x1b7)][_0x2de08b(0x2bb)](_0x2de08b(0x2de)),_0x36b882[_0x2de08b(0x1ee)](_0x1f886c);});}function createEventEl(_0x2fc0bc){const _0x1a0903=a2_0xbe5f23,[_0x3c35db,_0x3492dd]=_0x2fc0bc[_0x1a0903(0x1b8)][_0x1a0903(0x2a1)](':')[_0x1a0903(0x1ac)](Number),[_0x56a88b,_0x3c2d1d]=_0x2fc0bc[_0x1a0903(0x193)][_0x1a0903(0x2a1)](':')[_0x1a0903(0x1ac)](Number),_0x1f9199=(_0x3c35db*0x3c+_0x3492dd)/0x3c*GRID_H,_0x48100e=(_0x56a88b*0x3c+_0x3c2d1d-(_0x3c35db*0x3c+_0x3492dd))/0x3c*GRID_H,_0x2ba7bb=document[_0x1a0903(0x243)](_0x1a0903(0x195)),_0x41e6a4=_0x2fc0bc[_0x1a0903(0x1a9)]===_0x1a0903(0x20b)?_0x1a0903(0x213):'';_0x2ba7bb[_0x1a0903(0x293)]=_0x1a0903(0x2a9)+_0x41e6a4,_0x2ba7bb[_0x1a0903(0x228)][_0x1a0903(0x1a8)]=_0x1f9199+'px',_0x2ba7bb['style'][_0x1a0903(0x2a0)]=Math[_0x1a0903(0x178)](_0x48100e,0x14)+'px';const _0x151480=clients[_0x1a0903(0x1c1)](_0x44f4cf=>_0x2fc0bc[_0x1a0903(0x27b)]&&String(_0x44f4cf['id'])===String(_0x2fc0bc[_0x1a0903(0x27b)])||_0x44f4cf[_0x1a0903(0x291)]===_0x2fc0bc[_0x1a0903(0x1bf)]),_0x3f50ff=_0x151480?_0x151480['color']:'#0a84ff';_0x2ba7bb['style'][_0x1a0903(0x244)]=_0x3f50ff,_0x2ba7bb['style'][_0x1a0903(0x1df)]=hexToRgba(_0x3f50ff,0.85);let _0x78752d=_0x1a0903(0x2b8)+_0x2fc0bc[_0x1a0903(0x1bf)]+'</div><div\x20class=\x22ev-time\x22>'+_0x2fc0bc[_0x1a0903(0x1b8)]+_0x1a0903(0x19d)+_0x2fc0bc['end']+_0x1a0903(0x1dc);return _0x2fc0bc[_0x1a0903(0x236)]&&(_0x78752d+=_0x1a0903(0x26e)),_0x2fc0bc['status']==='completed'&&(_0x78752d+='<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>'),_0x2ba7bb[_0x1a0903(0x18b)]=_0x78752d,_0x2ba7bb[_0x1a0903(0x25c)]=_0x4fed97=>{const _0x1603c0=_0x1a0903;_0x4fed97[_0x1603c0(0x22c)](),openEdit(_0x2fc0bc);},_0x2ba7bb;}function attachLongPressHandler(_0x11d65a,_0x292aee){const _0x35a153=a2_0xbe5f23;let _0x3106f0=0x0,_0x46879f=null;const _0x20d5d3=_0x2cc7e6=>{const _0x8d039f=a2_0x402e;if(_0x2cc7e6[_0x8d039f(0x1a5)][_0x8d039f(0x191)](_0x8d039f(0x1ca)))return;isScrolling=![],_0x3106f0=_0x2cc7e6[_0x8d039f(0x1d2)]?_0x2cc7e6[_0x8d039f(0x1d2)][0x0][_0x8d039f(0x19c)]:_0x2cc7e6[_0x8d039f(0x19c)],_0x46879f=setTimeout(()=>{const _0x43a7be=_0x8d039f;if(!isScrolling){navigator[_0x43a7be(0x1cc)]?.(0x32);const _0x34ade4=_0x11d65a[_0x43a7be(0x175)](),_0x374478=Math['floor']((_0x3106f0-_0x34ade4[_0x43a7be(0x1a8)])/GRID_H);_0x292aee[_0x43a7be(0x2c7)](_0x374478,0x0),openAddSession(_0x292aee);}},0x1f4);},_0x4c5602=()=>{isScrolling=!![],clearTimeout(_0x46879f);},_0x553c90=()=>{clearTimeout(_0x46879f);};_0x11d65a[_0x35a153(0x24b)]('touchstart',_0x20d5d3,{'passive':!![]}),_0x11d65a[_0x35a153(0x24b)]('touchmove',_0x4c5602,{'passive':!![]}),_0x11d65a['addEventListener'](_0x35a153(0x17c),_0x553c90),_0x11d65a[_0x35a153(0x24b)](_0x35a153(0x20c),_0x20d5d3),_0x11d65a[_0x35a153(0x24b)](_0x35a153(0x177),_0x4c5602),_0x11d65a[_0x35a153(0x24b)](_0x35a153(0x188),_0x553c90);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x28620f=a2_0xbe5f23,_0x56448c=document[_0x28620f(0x23e)](_0x28620f(0x1d6)),_0x12ff59=_0x56448c[_0x28620f(0x1d0)],_0x5f5c11=_0x56448c[_0x28620f(0x2c3)],_0x39c185=_0x56448c['clientWidth'];if(_0x5f5c11-(_0x12ff59+_0x39c185)<0x12c){const _0x585d34=endOffset;endOffset+=0xe,renderDayRange(_0x585d34+0x1,endOffset),reRenderBlocks();}if(_0x12ff59<0x12c){const _0x11be3b=startOffset;startOffset-=0xe,prependDays(startOffset,_0x11be3b-0x1),_0x56448c['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x48f8e1,_0x31a91f){const _0x4eee01=a2_0xbe5f23,_0xef01ca=document[_0x4eee01(0x23e)](_0x4eee01(0x289)),_0x42efbe=document[_0x4eee01(0x23e)](_0x4eee01(0x1fc)),_0x2f6b06=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x45a338=new Date();_0x45a338[_0x4eee01(0x2c7)](0x0,0x0,0x0,0x0);const _0x1bac9b=getLocalDateStr(new Date()),_0x299f20=document[_0x4eee01(0x23f)](),_0x338287=document[_0x4eee01(0x23f)]();for(let _0x58cc08=_0x48f8e1;_0x58cc08<=_0x31a91f;_0x58cc08++){const _0x7a2940=new Date(_0x45a338);_0x7a2940[_0x4eee01(0x25b)](_0x7a2940['getDate']()+_0x58cc08);const _0x356c08=getLocalDateStr(_0x7a2940);let _0x2736fc=_0x7a2940[_0x4eee01(0x189)]()-0x1;if(_0x2736fc===-0x1)_0x2736fc=0x6;const _0x532037=_0x356c08===_0x1bac9b,_0x1ddc90=document[_0x4eee01(0x243)](_0x4eee01(0x195));_0x1ddc90[_0x4eee01(0x293)]=_0x4eee01(0x1ce)+(_0x532037?_0x4eee01(0x2ca):''),_0x1ddc90['id']=_0x4eee01(0x172)+_0x356c08,_0x1ddc90[_0x4eee01(0x1d7)]('data-date',_0x356c08),_0x1ddc90[_0x4eee01(0x18b)]='<div\x20class=\x22dch-day\x22>'+_0x2f6b06[_0x2736fc]+_0x4eee01(0x23d)+_0x7a2940[_0x4eee01(0x2c4)]()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0x356c08+_0x4eee01(0x1f8),_0x1ddc90[_0x4eee01(0x25c)]=()=>openDayOptions(_0x356c08,_0x2f6b06[_0x2736fc]+'\x20'+_0x7a2940[_0x4eee01(0x2c4)]()),_0x299f20[_0x4eee01(0x1ee)](_0x1ddc90);const _0x502371=document[_0x4eee01(0x243)]('div');_0x502371[_0x4eee01(0x293)]=_0x4eee01(0x168)+(_0x532037?_0x4eee01(0x2ca):''),_0x502371[_0x4eee01(0x1d7)]('data-date',_0x356c08),_0x502371[_0x4eee01(0x1d7)](_0x4eee01(0x27a),_0x2736fc),renderEventsForColumn(_0x502371,_0x356c08,_0x2736fc),attachLongPressHandler(_0x502371,_0x7a2940),_0x338287[_0x4eee01(0x1ee)](_0x502371),updateDayStats(_0x356c08);}_0xef01ca[_0x4eee01(0x23a)](_0x299f20,_0xef01ca[_0x4eee01(0x169)]),_0x42efbe[_0x4eee01(0x23a)](_0x338287,_0x42efbe[_0x4eee01(0x1b9)](_0x4eee01(0x27e)));}function validateAppointment(_0x2b6208,_0x7c8583,_0x365e95,_0x30ffac,_0x3ee029){const _0x5ce71d=a2_0xbe5f23,[_0x4e2e60,_0x49d2c3]=_0x7c8583[_0x5ce71d(0x2a1)](':')[_0x5ce71d(0x1ac)](Number),[_0x1f9c45,_0x32207e]=_0x365e95[_0x5ce71d(0x2a1)](':')[_0x5ce71d(0x1ac)](Number),_0x530886=_0x4e2e60*0x3c+_0x49d2c3,_0x4c539f=_0x1f9c45*0x3c+_0x32207e,_0x36d2ea=String(_0x3ee029);let _0x3c70eb=![],_0x372cbb='';for(let _0x295cf7 of sessions){if(_0x295cf7[_0x5ce71d(0x1f9)]!==_0x2b6208)continue;if(_0x295cf7[_0x5ce71d(0x1a9)]===_0x5ce71d(0x2b4))continue;if(_0x30ffac&&String(_0x295cf7['id'])===String(_0x30ffac))continue;const [_0x520381,_0x4bdce6]=_0x295cf7[_0x5ce71d(0x1b8)][_0x5ce71d(0x2a1)](':')[_0x5ce71d(0x1ac)](Number),[_0x26a1a4,_0x3a0bf1]=_0x295cf7[_0x5ce71d(0x193)]['split'](':')[_0x5ce71d(0x1ac)](Number),_0xb778c0=_0x520381*0x3c+_0x4bdce6,_0x52beb6=_0x26a1a4*0x3c+_0x3a0bf1;if(Math[_0x5ce71d(0x178)](_0x530886,_0xb778c0)<Math[_0x5ce71d(0x247)](_0x4c539f,_0x52beb6)){if(_0x295cf7[_0x5ce71d(0x27b)]&&String(_0x295cf7[_0x5ce71d(0x27b)])===_0x36d2ea)return{'valid':![],'msg':_0x5ce71d(0x29b)+_0x295cf7['client']+_0x5ce71d(0x1b2)};_0x3c70eb=!![],_0x372cbb=_0x295cf7['client'];}}if(_0x3c70eb)return{'valid':!![],'warning':_0x5ce71d(0x270)+_0x372cbb};return{'valid':!![]};}function updateDateDisplay(){const _0xcc0def=a2_0xbe5f23,_0x3d1458=document[_0xcc0def(0x23e)](_0xcc0def(0x1f0))[_0xcc0def(0x176)],_0x519398=document[_0xcc0def(0x23e)](_0xcc0def(0x21e));if(!_0x3d1458){_0x519398['textContent']='';return;}const [_0xe2904c,_0xcd4e66,_0x505f94]=_0x3d1458[_0xcc0def(0x2a1)]('-')[_0xcc0def(0x1ac)](Number),_0xd66bbc=new Date(_0xe2904c,_0xcd4e66-0x1,_0x505f94),_0x224cc8={'weekday':_0xcc0def(0x216),'day':_0xcc0def(0x259),'month':_0xcc0def(0x216),'year':_0xcc0def(0x259)};let _0x4d37d8=_0xd66bbc[_0xcc0def(0x252)](_0xcc0def(0x1b6),_0x224cc8);_0x4d37d8=_0x4d37d8[_0xcc0def(0x271)](0x0)['toUpperCase']()+_0x4d37d8[_0xcc0def(0x2a8)](0x1),_0x519398[_0xcc0def(0x2d4)]=_0x4d37d8;}function autoSetEndTime(){const _0x183541=a2_0xbe5f23,_0xefb287=document['getElementById'](_0x183541(0x2cd))['value'];if(!_0xefb287)return;const [_0x557667,_0x498e0f]=_0xefb287[_0x183541(0x2a1)](':')['map'](Number);let _0x4faea5=_0x557667+0x1;if(_0x4faea5>0x17)_0x4faea5=0x0;const _0x3a41c8=String(_0x4faea5)[_0x183541(0x275)](0x2,'0')+':'+String(_0x498e0f)[_0x183541(0x275)](0x2,'0');document[_0x183541(0x23e)](_0x183541(0x22f))[_0x183541(0x176)]=_0x3a41c8;}function populateClientSelect(){const _0x3844a3=a2_0xbe5f23,_0x18c1eb=document[_0x3844a3(0x23e)](_0x3844a3(0x29c));_0x18c1eb[_0x3844a3(0x18b)]='';if(clients['length']===0x0){const _0x16ca82=document[_0x3844a3(0x243)]('option');_0x16ca82[_0x3844a3(0x2c2)]=_0x3844a3(0x2be),_0x18c1eb[_0x3844a3(0x1ee)](_0x16ca82);return;}clients[_0x3844a3(0x1fe)](_0x6fb419=>{const _0x83bf8d=_0x3844a3,_0x50b383=document[_0x83bf8d(0x243)](_0x83bf8d(0x283));_0x50b383[_0x83bf8d(0x176)]=_0x6fb419[_0x83bf8d(0x291)],_0x50b383[_0x83bf8d(0x2d4)]=_0x6fb419[_0x83bf8d(0x291)],_0x18c1eb[_0x83bf8d(0x1ee)](_0x50b383);});}function openActionSheet(_0x2b770d){const _0xdd2e4a=a2_0xbe5f23,_0x3abef8=document[_0xdd2e4a(0x23e)](_0xdd2e4a(0x29f)),_0x508c6a=document[_0xdd2e4a(0x23e)]('actionSheetOverlay'),_0x3d9e04=document[_0xdd2e4a(0x23e)](_0xdd2e4a(0x2d2)),_0x47c4f2=document[_0xdd2e4a(0x23e)]('asBtnOne'),_0x5abee2=document[_0xdd2e4a(0x23e)](_0xdd2e4a(0x1c3));_0x508c6a[_0xdd2e4a(0x1b7)][_0xdd2e4a(0x2bb)]('active'),_0x3abef8[_0xdd2e4a(0x1b7)][_0xdd2e4a(0x2bb)]('open');if(_0x2b770d===_0xdd2e4a(0x2a4))_0x3d9e04[_0xdd2e4a(0x2d4)]=_0xdd2e4a(0x1be),_0x47c4f2['textContent']='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x47c4f2[_0xdd2e4a(0x25c)]=()=>{const _0x2f3649=_0xdd2e4a;closeActionSheet(),updateSeriesBatch(_0x2f3649(0x2bd),tempSessionData);},_0x5abee2[_0xdd2e4a(0x2d4)]=_0xdd2e4a(0x225),_0x5abee2[_0xdd2e4a(0x25c)]=()=>{const _0x56b7e2=_0xdd2e4a;closeActionSheet(),updateSeriesBatch(_0x56b7e2(0x20d),tempSessionData);};else _0x2b770d===_0xdd2e4a(0x25d)&&(_0x3d9e04[_0xdd2e4a(0x2d4)]=_0xdd2e4a(0x22b),_0x47c4f2['textContent']=_0xdd2e4a(0x1db),_0x47c4f2[_0xdd2e4a(0x293)]=_0xdd2e4a(0x264),_0x47c4f2[_0xdd2e4a(0x25c)]=()=>{const _0x5196fb=_0xdd2e4a;closeActionSheet(),commitDelete(_0x5196fb(0x2bd),sessions[_0x5196fb(0x1c1)](_0x1d5cf1=>_0x1d5cf1['id']===editingId));},_0x5abee2['textContent']=_0xdd2e4a(0x225),_0x5abee2[_0xdd2e4a(0x293)]='as-button\x20danger\x20bold',_0x5abee2['onclick']=()=>{const _0x56204f=_0xdd2e4a;closeActionSheet(),commitDelete(_0x56204f(0x20d),sessions['find'](_0x492d49=>_0x492d49['id']===editingId));});}function closeActionSheet(){const _0x55b878=a2_0xbe5f23;document[_0x55b878(0x23e)](_0x55b878(0x29f))['classList'][_0x55b878(0x23b)]('open'),document[_0x55b878(0x23e)]('actionSheetOverlay')['classList']['remove'](_0x55b878(0x20a));}function openSettings(){const _0x170211=a2_0xbe5f23;openSheet(_0x170211(0x197));}function saveCoachSettings(){const _0x516752=a2_0xbe5f23,_0x1a7ca1=document[_0x516752(0x23e)]('settingCancelWindow')['value'];localStorage[_0x516752(0x1ec)](_0x516752(0x1ba),_0x1a7ca1),console[_0x516752(0x239)](_0x516752(0x242),_0x1a7ca1),DataManager[_0x516752(0x1ef)](_0x516752(0x190),{'settings':{'cancel_window':_0x1a7ca1}})[_0x516752(0x2a5)](_0x52d611=>{const _0x50f918=_0x516752;console[_0x50f918(0x1ff)](_0x50f918(0x182),_0x52d611),showToast(_0x50f918(0x280),![]);});}function loadCoachSettings(){const _0x27d87c=a2_0xbe5f23,_0x55afed=localStorage[_0x27d87c(0x206)](_0x27d87c(0x1ba));_0x55afed&&(document[_0x27d87c(0x23e)](_0x27d87c(0x28f))[_0x27d87c(0x176)]=_0x55afed);}function openRangesSheet(){const _0x736f2e=a2_0xbe5f23;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x736f2e(0x27d));}function addRange(){const _0x4e2155=a2_0xbe5f23,_0xa101c2=document[_0x4e2155(0x23e)]('rangeStartDate')[_0x4e2155(0x176)],_0x4c5bbe=document[_0x4e2155(0x23e)](_0x4e2155(0x2d5))['value'],_0x20aa92=document[_0x4e2155(0x23e)]('rangeEndDate')[_0x4e2155(0x176)],_0x165a00=document[_0x4e2155(0x23e)](_0x4e2155(0x173))[_0x4e2155(0x176)];if(!_0xa101c2||!_0x4c5bbe||!_0x20aa92||!_0x165a00)return alert(_0x4e2155(0x2b6));const _0x2565dd=_0xa101c2+'T'+_0x4c5bbe,_0x25851d=_0x20aa92+'T'+_0x165a00;if(_0x2565dd>=_0x25851d)return alert(_0x4e2155(0x204));specialRanges[_0x4e2155(0x1fa)]({'start':_0x2565dd,'end':_0x25851d}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x4e2155(0x1ef)](_0x4e2155(0x190),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x2d9cdf){const _0x451f87=a2_0xbe5f23;specialRanges[_0x451f87(0x1d8)](_0x2d9cdf,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x451f87(0x285)](),DataManager[_0x451f87(0x1ef)](_0x451f87(0x190),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x4be446=a2_0xbe5f23;document[_0x4be446(0x23e)](_0x4be446(0x1ad))[_0x4be446(0x176)]='',document[_0x4be446(0x23e)](_0x4be446(0x2d5))[_0x4be446(0x176)]='00:00',document[_0x4be446(0x23e)](_0x4be446(0x1a1))[_0x4be446(0x176)]='',document[_0x4be446(0x23e)](_0x4be446(0x173))[_0x4be446(0x176)]=_0x4be446(0x181);}function renderRangesList(){const _0x4d7f61=a2_0xbe5f23,_0x1e0825=document['getElementById'](_0x4d7f61(0x180));_0x1e0825[_0x4d7f61(0x18b)]='';if(!specialRanges[_0x4d7f61(0x2c9)]){_0x1e0825[_0x4d7f61(0x18b)]=_0x4d7f61(0x2a7);return;}specialRanges[_0x4d7f61(0x1fe)]((_0x169617,_0x93bab2)=>{const _0x254e05=_0x4d7f61,_0x551a1a=document[_0x254e05(0x243)](_0x254e05(0x195));_0x551a1a[_0x254e05(0x293)]=_0x254e05(0x1a6);const _0x52fb6a=_0x30efad=>{const _0x1fd833=_0x254e05,_0x38b5e4=new Date(_0x30efad);return _0x38b5e4[_0x1fd833(0x2c4)]()+'.'+String(_0x38b5e4[_0x1fd833(0x21d)]()+0x1)[_0x1fd833(0x275)](0x2,'0')+'\x20'+String(_0x38b5e4[_0x1fd833(0x1d5)]())[_0x1fd833(0x275)](0x2,'0')+':'+String(_0x38b5e4[_0x1fd833(0x220)]())[_0x1fd833(0x275)](0x2,'0');};_0x551a1a[_0x254e05(0x18b)]=_0x254e05(0x1c6)+_0x52fb6a(_0x169617[_0x254e05(0x1b8)])+_0x254e05(0x1d1)+_0x52fb6a(_0x169617[_0x254e05(0x193)])+_0x254e05(0x2b5)+_0x93bab2+')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>',_0x1e0825['appendChild'](_0x551a1a);});}function scrollToToday(){const _0x5a9e1c=a2_0xbe5f23,_0x41ddfe=getLocalDateStr(new Date()),_0x1e22ac=document[_0x5a9e1c(0x23e)]('header-'+_0x41ddfe),_0x36fc31=document[_0x5a9e1c(0x23e)]('matrixViewport');if(_0x1e22ac&&_0x36fc31){const _0x51906a=_0x36fc31['clientWidth'],_0x50616f=_0x1e22ac[_0x5a9e1c(0x2ac)],_0x479f85=_0x1e22ac['offsetWidth'];_0x36fc31[_0x5a9e1c(0x1d0)]=_0x50616f-_0x51906a/0x2+_0x479f85/0x2,_0x36fc31[_0x5a9e1c(0x256)]=0x9*GRID_H;}}function onScroll(){const _0x575cfc=a2_0xbe5f23,_0x1677f5=document[_0x575cfc(0x23e)](_0x575cfc(0x1d6)),_0x3501b3=document[_0x575cfc(0x171)]('.day-col-header');for(let _0xa85337 of _0x3501b3)if(_0xa85337[_0x575cfc(0x2ac)]>=_0x1677f5[_0x575cfc(0x1d0)]){const _0x98867c=new Date(_0xa85337[_0x575cfc(0x240)](_0x575cfc(0x1c7)));document['getElementById'](_0x575cfc(0x241))[_0x575cfc(0x2d4)]=_0x98867c[_0x575cfc(0x2dd)]('ru',{'month':_0x575cfc(0x216)})[_0x575cfc(0x1e7)]()+'\x20'+_0x98867c[_0x575cfc(0x2e0)]();break;}}function showToast(_0x4d290c,_0x40d2f7=![]){const _0x1fe730=a2_0xbe5f23,_0x7ecf21=document['getElementById'](_0x1fe730(0x2d7));_0x7ecf21[_0x1fe730(0x293)]='toast-notification\x20'+(_0x40d2f7?'success':''),document[_0x1fe730(0x23e)]('toastTitle')[_0x1fe730(0x2d4)]=_0x40d2f7?_0x1fe730(0x19e):_0x1fe730(0x1b0),document['getElementById'](_0x1fe730(0x272))[_0x1fe730(0x2d4)]=_0x4d290c,_0x7ecf21[_0x1fe730(0x1b7)][_0x1fe730(0x2bb)]('show'),setTimeout(()=>{const _0x3acfad=_0x1fe730;_0x7ecf21['classList']['remove'](_0x3acfad(0x2ba));},0xbb8);}function openDayOptions(_0x558137,_0x4e1af4){const _0x1a7537=a2_0xbe5f23;selectedDayForOptions=_0x558137,document['getElementById'](_0x1a7537(0x200))[_0x1a7537(0x2d4)]=_0x4e1af4,openSheet(_0x1a7537(0x2ae));}function toggleDayOff(){const _0x3bd6fc=a2_0xbe5f23;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x3bd6fc(0x1f2),reRenderBlocks(),closeAllSheets(),DataManager[_0x3bd6fc(0x285)](),DataManager[_0x3bd6fc(0x1ef)](_0x3bd6fc(0x190),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x1c5ee2=a2_0xbe5f23;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x1c5ee2(0x285)](),DataManager['fetchFromServer'](_0x1c5ee2(0x190),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x321da5){const _0x580de9=a2_0xbe5f23;document[_0x580de9(0x23e)](_0x580de9(0x24f))[_0x580de9(0x1b7)][_0x580de9(0x2bb)]('active'),document[_0x580de9(0x23e)](_0x321da5)[_0x580de9(0x1b7)]['add']('open');}function closeAllSheets(){const _0x4ce6c8=a2_0xbe5f23;document[_0x4ce6c8(0x23e)]('overlay')[_0x4ce6c8(0x1b7)][_0x4ce6c8(0x23b)](_0x4ce6c8(0x20a)),document[_0x4ce6c8(0x171)]('.sheet')[_0x4ce6c8(0x1fe)](_0x28f0ee=>_0x28f0ee[_0x4ce6c8(0x1b7)]['remove'](_0x4ce6c8(0x1c9)));}function openPatternEditor(){const _0x28f803=a2_0xbe5f23;closeAllSheets(),document['getElementById']('patternEditor')[_0x28f803(0x1b7)][_0x28f803(0x2bb)](_0x28f803(0x1c9)),renderPatternEditor();}function closePatternEditor(){const _0x52a8b0=a2_0xbe5f23;document['getElementById'](_0x52a8b0(0x2a6))['classList'][_0x52a8b0(0x23b)]('open');}function a2_0x1ab5(){const _0x5fc678=['name','calendar','className','keys','floor','10px','Telegram','width','.day-col-header','flex','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','inpClient','search','anDonutCircle','actionSheet','height','split','BackButton','done','save','catch','patternEditor','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','slice','event-card','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','28386EltciM','offsetLeft','filter','dayOptionsSheet','doBusyHours','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','note','anStart','5400374WQwtaV','cancelled','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','doEventsList','<div\x20class=\x22ev-title\x22>','initDataUnsafe','show','add','[Notify]\x20Server\x20Response:','single','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','scroll','round','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','text','scrollWidth','getDate','</span>\x20/\x20','calc(','setHours','inpSeriesCount','length','today','guest','anTotalStats','inpStart','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','borderRadius','disableVerticalSwipes','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','asTitle','btn-status-toggle\x20undo-mode','textContent','rangeStartTime','setHeaderColor','toast','data','sheetTitle','expand','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','total','toLocaleString','mini','borderColor','getFullYear','DOMContentLoaded','doWorkHours','checked','blocked-slot\x20stripe-bg','day-column\x20','firstChild','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','none','pe-cell\x20','px\x200px','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','offClick','querySelectorAll','header-','rangeEndTime','localeCompare','getBoundingClientRect','value','mousemove','max','[Notify]\x20Detected\x20Client\x20ID:','%\x20+\x202px)','px\x20-','touchend','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','href','rangesList','23:59','Save\x20settings\x20error:','syncLoad','sessionSheet','\x20days','parse','recurringOptionContainer','mouseup','getDay','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','innerHTML','loadLocal','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','save_settings','closest','toString','end','mergeServerData','div','8AVgHCn','settingsSheet','stringify','ranges','user','isArray','clientY','\x20-\x20','–£—Å–ø–µ—à–Ω–æ','Critical\x20TMA\x20Error:','<span>','rangeEndDate','.day-off-overlay','5NKKtzC','includes','target','range-item','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','top','status','...','router.html','map','rangeStartDate','var(--acc-orange)','apply','–ò–Ω—Ñ–æ','from',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','month','\x20–∏–∑\x20','POST','ru-RU','classList','start','querySelector','uc_settings_cancel_window','Unknown','30351GZeZMW','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','client','Error\x20setting\x20back\x20button:','find','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','asBtnSeries','pe-time-label','display','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','data-date','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','open','.event-card',':00','vibrate','<b>‚úÖ\x20','day-col-header\x20','analyticsList','scrollLeft','\x20‚Äî\x20','touches','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','anEnd','getHours','matrixViewport','setAttribute','splice','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','1180uSOnhN','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','</div>','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','substr','backgroundColor','null','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec',']\x20Failed:','complete','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','pattern','var(--acc-current)','toUpperCase','week','inpRecurring','blocked-range-part\x20stripe-bg','10px\x2010px\x200\x200','setItem','onClick','appendChild','fetchFromServer','inpDate','color','off','getTime','anPercent','clients','rgba(255,255,255,0.05)','T23:59:59','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','dateStr','push','rgba(100,100,100,0.5)','gridColumns','btn-primary\x20btn-danger','forEach','error','dayOptionsTitle','stat-','deleted','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','getItem','#fff','exceptions','[Sync]\x20Loading\x20','active','completed','mousedown','series','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™',':00</span>','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','update','undefined','\x20status-completed','2931212ZhugNf','uc_clients_v9','long','#050505','colIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','json','inpNote','startsWith','getMonth','sheetDateSubtitle','10452natxim','getMinutes','.pib-text','<div\x20class=\x22dch-day\x22>','btnDelete','indexOf','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','btnStatusToggle','btn-status-toggle','style','warning','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','–£–¥–∞–ª–µ–Ω–∏–µ','stopPropagation','setMonth','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','inpEnd','backgroundPosition',':\x20Client\x20already\x20booked','.dch-stats-fill','location','1049291iAbVxs','100%','seriesId','setBackgroundColor','send','log','insertBefore','remove','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','</div><div\x20class=\x22dch-num\x22>','getElementById','createDocumentFragment','getAttribute','headerMonth','[Settings]\x20Cancel\x20window\x20set\x20to:','createElement','borderLeftColor','background','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','min','rgba(48,\x20209,\x2088,\x200.15)','msg','</b>\x0a\x0a','addEventListener','[Notify]\x20Attempting\x20to\x20send:','23111EDeRyn','settings','overlay','send_notification','formatDate','toLocaleDateString','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','sort',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','scrollTop','planned','then','numeric','block','setDate','onclick','delete','var(--acc-red)','Local\x20Save\x20Error','var(--acc-green)','findIndex','Server\x20Error','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','as-button\x20danger','cancel_window','btnDayToggle',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','22ehJrgv','rgba(255,\x2069,\x2058,\x200.3)','left','WebApp','[Notify]\x20Error:\x20Text\x20generation\x20failed','analyticsSheet','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','charAt','toastMessage','pe-col-header','day-off-overlay\x20stripe-bg','padStart','cancel','random','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','timeLineBadge','data-day-idx','clientId','create','rangesSheet','.day-column','all','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','now','5220486vWmYSf','option','warn','saveLocally','seriesCountContainer','timeColumn','patternInfoBox','daysHeaderTrack','uc_settings_v9','initData','.period-switch\x20.p-btn','rgba(','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','settingCancelWindow','de-item'];a2_0x1ab5=function(){return _0x5fc678;};return a2_0x1ab5();}function savePattern(){const _0x2e82ec=a2_0xbe5f23;document[_0x2e82ec(0x23e)](_0x2e82ec(0x2a6))[_0x2e82ec(0x1b7)][_0x2e82ec(0x23b)](_0x2e82ec(0x1c9)),reRenderBlocks(),DataManager[_0x2e82ec(0x285)](),DataManager['fetchFromServer'](_0x2e82ec(0x190),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0xb86c96=a2_0xbe5f23,_0x4639e1=document[_0xb86c96(0x23e)]('peGrid');_0x4639e1['innerHTML']='';const _0x1910da=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x59e58f=document[_0xb86c96(0x243)](_0xb86c96(0x195));_0x59e58f[_0xb86c96(0x293)]='pe-corner',_0x4639e1[_0xb86c96(0x1ee)](_0x59e58f),_0x1910da['forEach']((_0x264303,_0x3ff953)=>{const _0x26bec9=_0xb86c96,_0x4baf83=document[_0x26bec9(0x243)](_0x26bec9(0x195));_0x4baf83[_0x26bec9(0x293)]=_0x26bec9(0x273),_0x4baf83[_0x26bec9(0x18b)]=_0x264303+'\x20<span\x20class=\x22arrow\x22>‚Üì</span>',_0x4baf83[_0x26bec9(0x25c)]=()=>toggleColPattern(_0x3ff953),_0x4639e1[_0x26bec9(0x1ee)](_0x4baf83);});for(let _0x846e5a=0x0;_0x846e5a<0x18;_0x846e5a++){const _0x29e6a2=document[_0xb86c96(0x243)](_0xb86c96(0x195));_0x29e6a2[_0xb86c96(0x293)]=_0xb86c96(0x1c4),_0x29e6a2[_0xb86c96(0x18b)]=_0xb86c96(0x1c8)+String(_0x846e5a)[_0xb86c96(0x275)](0x2,'0')+':00',_0x29e6a2[_0xb86c96(0x25c)]=()=>toggleRowPattern(_0x846e5a),_0x4639e1['appendChild'](_0x29e6a2);for(let _0x1ccf88=0x0;_0x1ccf88<0x7;_0x1ccf88++){const _0x325076=document[_0xb86c96(0x243)]('div'),_0x2a5dff=(availabilityPattern[_0x1ccf88]||[])[_0xb86c96(0x1a4)](_0x846e5a),_0x13395e=!_0x2a5dff;_0x325076['className']=_0xb86c96(0x16d)+(_0x13395e?_0xb86c96(0x20a):''),_0x325076[_0xb86c96(0x25c)]=()=>toggleSinglePattern(_0x1ccf88,_0x846e5a),_0x4639e1['appendChild'](_0x325076);}}}function toggleSinglePattern(_0x4e44ba,_0x47f06e){const _0x5932a8=a2_0xbe5f23;if(!availabilityPattern[_0x4e44ba])availabilityPattern[_0x4e44ba]=[];const _0x490e67=availabilityPattern[_0x4e44ba],_0x4ce0a3=_0x490e67[_0x5932a8(0x224)](_0x47f06e);_0x4ce0a3===-0x1?_0x490e67[_0x5932a8(0x1fa)](_0x47f06e):_0x490e67[_0x5932a8(0x1d8)](_0x4ce0a3,0x1),renderPatternEditor();}function toggleColPattern(_0x535e64){const _0x56002c=a2_0xbe5f23;if(!availabilityPattern[_0x535e64])availabilityPattern[_0x535e64]=[];const _0x1460f7=availabilityPattern[_0x535e64];_0x1460f7[_0x56002c(0x2c9)]===0x0?availabilityPattern[_0x535e64]=Array[_0x56002c(0x1b1)]({'length':0x18},(_0x5ac67a,_0x37698f)=>_0x37698f):availabilityPattern[_0x535e64]=[],renderPatternEditor();}function toggleRowPattern(_0x44758e){const _0x1dd83e=a2_0xbe5f23;let _0x109d5c=!![];for(let _0x423425=0x0;_0x423425<0x7;_0x423425++){if((availabilityPattern[_0x423425]||[])[_0x1dd83e(0x1a4)](_0x44758e)){_0x109d5c=![];break;}}for(let _0x161f9f=0x0;_0x161f9f<0x7;_0x161f9f++){if(!availabilityPattern[_0x161f9f])availabilityPattern[_0x161f9f]=[];const _0x5f36f5=availabilityPattern[_0x161f9f][_0x1dd83e(0x224)](_0x44758e);if(_0x109d5c){if(_0x5f36f5===-0x1)availabilityPattern[_0x161f9f][_0x1dd83e(0x1fa)](_0x44758e);}else{if(_0x5f36f5!==-0x1)availabilityPattern[_0x161f9f]['splice'](_0x5f36f5,0x1);}}renderPatternEditor();}function renderPCol(_0x31f3bd,_0x3aa04a){const _0x13e95c=a2_0xbe5f23;_0x31f3bd[_0x13e95c(0x18b)]='';const _0x55cd1a=Math[_0x13e95c(0x2c0)](_0x31f3bd[_0x13e95c(0x2ac)]);(availabilityPattern[_0x3aa04a]||[])['forEach'](_0xc7bd32=>{const _0x348987=_0x13e95c,_0x53c3d8=document[_0x348987(0x243)]('div');_0x53c3d8[_0x348987(0x293)]=_0x348987(0x167);const _0x522d0a=_0xc7bd32*GRID_H;_0x53c3d8[_0x348987(0x228)]['top']=_0x522d0a+'px',_0x53c3d8['style'][_0x348987(0x230)]='-'+_0x55cd1a+_0x348987(0x17b)+_0x522d0a+'px',_0x53c3d8[_0x348987(0x25c)]=_0x50e1a2=>{const _0x152a8b=_0x348987;_0x50e1a2[_0x152a8b(0x22c)](),toggleSinglePattern(_0x3aa04a,_0xc7bd32);},_0x31f3bd[_0x348987(0x1ee)](_0x53c3d8);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x1313d6=a2_0xbe5f23,_0x18451e=new Date(),_0x17c959=document[_0x1313d6(0x23e)]('globalTimeLine'),_0x4034ac=document[_0x1313d6(0x23e)](_0x1313d6(0x279)),_0x5ede8d=(_0x18451e[_0x1313d6(0x1d5)]()*0x3c+_0x18451e[_0x1313d6(0x220)]())/0x3c*GRID_H;_0x17c959[_0x1313d6(0x228)][_0x1313d6(0x1a8)]=_0x5ede8d+'px',_0x17c959['style'][_0x1313d6(0x1c5)]='block',_0x4034ac[_0x1313d6(0x2d4)]=String(_0x18451e[_0x1313d6(0x1d5)]())['padStart'](0x2,'0')+':'+String(_0x18451e['getMinutes']())[_0x1313d6(0x275)](0x2,'0'),_0x4034ac[_0x1313d6(0x228)][_0x1313d6(0x1c5)]=_0x1313d6(0x25a),_0x4034ac[_0x1313d6(0x228)][_0x1313d6(0x1a8)]=_0x5ede8d+'px';}document[a2_0xbe5f23(0x24b)](a2_0xbe5f23(0x2e1),init);function openDayOptions(_0x46c03f){const _0x23f54e=a2_0xbe5f23;selectedDayForOptions=_0x46c03f;const _0x15f8f9=new Date(_0x46c03f),_0x53a372={'weekday':'long','day':_0x23f54e(0x259),'month':_0x23f54e(0x216),'year':_0x23f54e(0x259)},_0xe46123=_0x15f8f9[_0x23f54e(0x252)]('ru-RU',_0x53a372);document[_0x23f54e(0x23e)]('doDateHeader')[_0x23f54e(0x2d4)]=_0xe46123[_0x23f54e(0x271)](0x0)[_0x23f54e(0x1e7)]()+_0xe46123['slice'](0x1);let _0x2962f1=_0x15f8f9[_0x23f54e(0x189)]()-0x1;if(_0x2962f1===-0x1)_0x2962f1=0x6;const _0x5431ef=availabilityPattern[_0x2962f1]||[],_0x494290=0x18-_0x5431ef[_0x23f54e(0x2c9)],_0xe6ebd1=_0x494290*0x3c,_0x40892e=sessions[_0x23f54e(0x2ad)](_0x289038=>_0x289038[_0x23f54e(0x1f9)]===_0x46c03f&&_0x289038['status']!==_0x23f54e(0x2b4));let _0xa86e5c=_0x40892e[_0x23f54e(0x1ac)](_0x1d652c=>{const _0x2ed081=_0x23f54e,[_0x12965f,_0x5eb0ad]=_0x1d652c['start']['split'](':')[_0x2ed081(0x1ac)](Number),[_0x5253e4,_0x28f773]=_0x1d652c['end'][_0x2ed081(0x2a1)](':')['map'](Number);return[_0x12965f*0x3c+_0x5eb0ad,_0x5253e4*0x3c+_0x28f773];});_0xa86e5c[_0x23f54e(0x254)]((_0x4ef256,_0x48560f)=>_0x4ef256[0x0]-_0x48560f[0x0]);let _0x137a88=[];if(_0xa86e5c['length']>0x0){let _0x7df56f=_0xa86e5c[0x0];for(let _0x19f23f=0x1;_0x19f23f<_0xa86e5c['length'];_0x19f23f++){_0xa86e5c[_0x19f23f][0x0]<_0x7df56f[0x1]?_0x7df56f[0x1]=Math[_0x23f54e(0x178)](_0x7df56f[0x1],_0xa86e5c[_0x19f23f][0x1]):(_0x137a88[_0x23f54e(0x1fa)](_0x7df56f),_0x7df56f=_0xa86e5c[_0x19f23f]);}_0x137a88[_0x23f54e(0x1fa)](_0x7df56f);}let _0x221ffd=0x0;_0x137a88['forEach'](_0x1f84bf=>_0x221ffd+=_0x1f84bf[0x1]-_0x1f84bf[0x0]),document['getElementById'](_0x23f54e(0x165))[_0x23f54e(0x2d4)]=formatMinsToHrs(_0xe6ebd1),document[_0x23f54e(0x23e)](_0x23f54e(0x2af))[_0x23f54e(0x2d4)]=formatMinsToHrs(_0x221ffd);const _0x220d6d=_0xe6ebd1>0x0?Math[_0x23f54e(0x2c0)](_0x221ffd/_0xe6ebd1*0x64):0x0,_0x125667=document[_0x23f54e(0x23e)]('doLoadPercent');_0x125667[_0x23f54e(0x2d4)]=_0x220d6d+'%';const _0x5b5d32=document[_0x23f54e(0x23e)]('statLoadCard');if(_0x220d6d>0x64)_0x125667['style']['color']=_0x23f54e(0x25e),_0x5b5d32[_0x23f54e(0x228)][_0x23f54e(0x2df)]=_0x23f54e(0x269);else _0x220d6d>0x50?(_0x125667[_0x23f54e(0x228)][_0x23f54e(0x1f1)]=_0x23f54e(0x1ae),_0x5b5d32[_0x23f54e(0x228)][_0x23f54e(0x2df)]='rgba(255,\x20159,\x2010,\x200.3)'):(_0x125667[_0x23f54e(0x228)][_0x23f54e(0x1f1)]=_0x23f54e(0x260),_0x5b5d32['style'][_0x23f54e(0x2df)]=_0x23f54e(0x1f6));const _0x34eaa5=document[_0x23f54e(0x23e)](_0x23f54e(0x2b7));_0x34eaa5['innerHTML']='';_0x40892e[_0x23f54e(0x2c9)]===0x0?_0x34eaa5['innerHTML']=_0x23f54e(0x16b):(_0x40892e['sort']((_0x4ba6f9,_0x463b80)=>_0x4ba6f9[_0x23f54e(0x1b8)][_0x23f54e(0x174)](_0x463b80[_0x23f54e(0x1b8)])),_0x40892e[_0x23f54e(0x1fe)](_0x16f7bf=>{const _0x3ca16a=_0x23f54e,_0x684c=clients[_0x3ca16a(0x1c1)](_0x5895a2=>_0x5895a2[_0x3ca16a(0x291)]===_0x16f7bf[_0x3ca16a(0x1bf)]),_0x1964bc=_0x684c?_0x684c[_0x3ca16a(0x1f1)]:_0x3ca16a(0x207),_0x3b79e7=_0x16f7bf[_0x3ca16a(0x1a9)]===_0x3ca16a(0x20b),_0x4069ce=_0x3b79e7?_0x3ca16a(0x1e4):'',_0x43a58c=document[_0x3ca16a(0x243)](_0x3ca16a(0x195));_0x43a58c['className']=_0x3ca16a(0x290),_0x43a58c['style'][_0x3ca16a(0x244)]=_0x1964bc,_0x43a58c['innerHTML']=_0x3ca16a(0x219)+_0x16f7bf[_0x3ca16a(0x1b8)]+'\x20-\x20'+_0x16f7bf['end']+_0x3ca16a(0x28e)+_0x16f7bf[_0x3ca16a(0x1bf)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4069ce+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x34eaa5[_0x3ca16a(0x1ee)](_0x43a58c);}));const _0x10288f=document[_0x23f54e(0x23e)](_0x23f54e(0x266)),_0x32dbf5=dateExceptions[_0x46c03f]===_0x23f54e(0x1f2);_0x32dbf5?(_0x10288f[_0x23f54e(0x2d4)]=_0x23f54e(0x23c),_0x10288f['className']='btn-primary\x20btn-secondary',_0x10288f[_0x23f54e(0x228)][_0x23f54e(0x1f1)]=_0x23f54e(0x260),_0x10288f[_0x23f54e(0x228)][_0x23f54e(0x245)]=_0x23f54e(0x248)):(_0x10288f['textContent']=_0x23f54e(0x17e),_0x10288f[_0x23f54e(0x293)]=_0x23f54e(0x1fd),_0x10288f['style'][_0x23f54e(0x1f1)]='var(--acc-red)',_0x10288f['style'][_0x23f54e(0x245)]='rgba(255,\x2069,\x2058,\x200.15)'),openSheet(_0x23f54e(0x2ae));}let currentAnPeriod=a2_0xbe5f23(0x1e8);function openAnalytics(){const _0x28c2b9=a2_0xbe5f23,_0xa70d01=document['querySelector'](_0x28c2b9(0x28c));setAnalyticsPeriod(_0x28c2b9(0x1e8),_0xa70d01),closeAllSheets(),openSheet(_0x28c2b9(0x26d));}function setAnalyticsPeriod(_0xbbdb9c,_0x476624){const _0x58d4ab=a2_0xbe5f23;currentAnPeriod=_0xbbdb9c,document[_0x58d4ab(0x171)](_0x58d4ab(0x28c))[_0x58d4ab(0x1fe)](_0x3e2719=>_0x3e2719[_0x58d4ab(0x1b7)][_0x58d4ab(0x23b)](_0x58d4ab(0x20a)));if(_0x476624)_0x476624[_0x58d4ab(0x1b7)][_0x58d4ab(0x2bb)](_0x58d4ab(0x20a));const _0x41b368=document['getElementById']('anCustomDates');_0x41b368['style'][_0x58d4ab(0x1c5)]=_0xbbdb9c==='custom'?'flex':'none';const _0x3c344c=new Date();let _0xa6fcdb=new Date(),_0x5754ca=new Date();if(_0xbbdb9c==='week')_0xa6fcdb=getStartOfWeek(_0x3c344c),_0x5754ca=new Date(_0xa6fcdb),_0x5754ca[_0x58d4ab(0x25b)](_0x5754ca[_0x58d4ab(0x2c4)]()+0x6);else{if(_0xbbdb9c===_0x58d4ab(0x1b3))_0xa6fcdb=new Date(_0x3c344c[_0x58d4ab(0x2e0)](),_0x3c344c[_0x58d4ab(0x21d)](),0x1),_0x5754ca=new Date(_0x3c344c['getFullYear'](),_0x3c344c['getMonth']()+0x1,0x0);else{!document[_0x58d4ab(0x23e)](_0x58d4ab(0x2b2))['value']&&(document[_0x58d4ab(0x23e)](_0x58d4ab(0x2b2))[_0x58d4ab(0x176)]=getLocalDateStr(_0x3c344c),document[_0x58d4ab(0x23e)]('anEnd')[_0x58d4ab(0x176)]=getLocalDateStr(_0x3c344c));refreshAnalytics();return;}}document['getElementById'](_0x58d4ab(0x2b2))[_0x58d4ab(0x176)]=getLocalDateStr(_0xa6fcdb),document[_0x58d4ab(0x23e)](_0x58d4ab(0x1d4))[_0x58d4ab(0x176)]=getLocalDateStr(_0x5754ca),refreshAnalytics();}function refreshAnalytics(){const _0x1459d1=a2_0xbe5f23,_0x1c4502=document[_0x1459d1(0x23e)](_0x1459d1(0x2b2))[_0x1459d1(0x176)],_0x4dcd7e=document[_0x1459d1(0x23e)](_0x1459d1(0x1d4))[_0x1459d1(0x176)];if(!_0x1c4502||!_0x4dcd7e)return;const _0x2a3fa9=sessions['filter'](_0x376d2d=>_0x376d2d[_0x1459d1(0x1f9)]>=_0x1c4502&&_0x376d2d[_0x1459d1(0x1f9)]<=_0x4dcd7e&&_0x376d2d['status']!==_0x1459d1(0x2b4)),_0x5c09a8=_0x2a3fa9['length'],_0x5bc32c=_0x2a3fa9['filter'](_0x33e0f7=>_0x33e0f7['status']===_0x1459d1(0x20b))[_0x1459d1(0x2c9)],_0x313929=_0x5c09a8>0x0?Math[_0x1459d1(0x2c0)](_0x5bc32c/_0x5c09a8*0x64):0x0;document['getElementById'](_0x1459d1(0x1f4))[_0x1459d1(0x2d4)]=_0x313929+'%',document[_0x1459d1(0x23e)](_0x1459d1(0x2cc))['textContent']=_0x5bc32c+_0x1459d1(0x1b4)+_0x5c09a8+_0x1459d1(0x22a);const _0x92f3e6=document[_0x1459d1(0x23e)](_0x1459d1(0x29e)),_0x32bb9c=0x2*Math['PI']*0x23,_0x2e66da=_0x32bb9c-_0x313929/0x64*_0x32bb9c;_0x92f3e6[_0x1459d1(0x228)]['strokeDashoffset']=_0x2e66da;const _0x17cc9e={};_0x2a3fa9[_0x1459d1(0x1fe)](_0x14a327=>{const _0x591a5a=_0x1459d1;if(!_0x17cc9e[_0x14a327['client']]){const _0x112cf8=clients[_0x591a5a(0x1c1)](_0x2bb22c=>_0x2bb22c[_0x591a5a(0x291)]===_0x14a327[_0x591a5a(0x1bf)]);_0x17cc9e[_0x14a327['client']]={'total':0x0,'done':0x0,'color':_0x112cf8?_0x112cf8[_0x591a5a(0x1f1)]:_0x591a5a(0x207)};}_0x17cc9e[_0x14a327['client']][_0x591a5a(0x2dc)]++;if(_0x14a327['status']===_0x591a5a(0x20b))_0x17cc9e[_0x14a327[_0x591a5a(0x1bf)]]['done']++;});const _0x101f0b=document[_0x1459d1(0x23e)](_0x1459d1(0x1cf));_0x101f0b['innerHTML']='';const _0x4ff3f1=Object['entries'](_0x17cc9e)[_0x1459d1(0x254)]((_0xa163e9,_0x3dc347)=>_0x3dc347[0x1][_0x1459d1(0x2dc)]-_0xa163e9[0x1][_0x1459d1(0x2dc)]);if(_0x4ff3f1['length']===0x0){_0x101f0b[_0x1459d1(0x18b)]='<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>';return;}_0x4ff3f1['forEach'](([_0xbf9038,_0x4f60c3])=>{const _0x155583=_0x1459d1,_0xd2d158=Math[_0x155583(0x2c0)](_0x4f60c3[_0x155583(0x2a3)]/_0x4f60c3[_0x155583(0x2dc)]*0x64),_0x3e9dbb=document[_0x155583(0x243)]('div');_0x3e9dbb[_0x155583(0x293)]='client-stat-card',_0x3e9dbb[_0x155583(0x228)][_0x155583(0x244)]=_0x4f60c3['color'],_0x3e9dbb['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>'+_0xbf9038+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x4f60c3[_0x155583(0x2a3)]+_0x155583(0x2c5)+_0x4f60c3[_0x155583(0x2dc)]+_0x155583(0x205)+_0xd2d158+_0x155583(0x1d9),_0x101f0b[_0x155583(0x1ee)](_0x3e9dbb);});}function formatMinsToHrs(_0x4deb61){const _0x4a569c=a2_0xbe5f23;if(_0x4deb61===0x0)return'0';const _0x4e435b=Math[_0x4a569c(0x295)](_0x4deb61/0x3c),_0x166991=_0x4deb61%0x3c;if(_0x166991===0x0)return _0x4e435b+'—á';return _0x4e435b+'—á\x20'+_0x166991+'–º';}