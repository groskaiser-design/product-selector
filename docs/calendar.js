const a2_0x1128bc=a2_0x5b9f;(function(_0x3906ab,_0x1cc796){const _0x301f9e=a2_0x5b9f,_0x302c1b=_0x3906ab();while(!![]){try{const _0x1b2f4d=-parseInt(_0x301f9e(0x11d))/0x1*(parseInt(_0x301f9e(0x180))/0x2)+parseInt(_0x301f9e(0xc3))/0x3*(-parseInt(_0x301f9e(0x14b))/0x4)+-parseInt(_0x301f9e(0x1a9))/0x5*(-parseInt(_0x301f9e(0x1a0))/0x6)+parseInt(_0x301f9e(0x1c4))/0x7+-parseInt(_0x301f9e(0xc1))/0x8*(-parseInt(_0x301f9e(0x12a))/0x9)+parseInt(_0x301f9e(0x200))/0xa*(parseInt(_0x301f9e(0x224))/0xb)+parseInt(_0x301f9e(0x156))/0xc;if(_0x1b2f4d===_0x1cc796)break;else _0x302c1b['push'](_0x302c1b['shift']());}catch(_0x2682b3){_0x302c1b['push'](_0x302c1b['shift']());}}}(a2_0x2920,0xf3b1f),function initTMA(){const _0x51c7eb=a2_0x5b9f;try{const _0x5c3b73=window['Telegram']?.[_0x51c7eb(0x11c)];if(!_0x5c3b73)return;_0x5c3b73[_0x51c7eb(0x1f8)](),_0x5c3b73['expand']();try{_0x5c3b73[_0x51c7eb(0x1cc)](_0x51c7eb(0x1fd)),_0x5c3b73[_0x51c7eb(0xc7)]&&_0x5c3b73[_0x51c7eb(0xc7)](_0x51c7eb(0x1fd));}catch(_0x1341e5){console[_0x51c7eb(0x161)](_0x51c7eb(0x199),_0x1341e5);}try{_0x5c3b73[_0x51c7eb(0x22f)]&&(_0x5c3b73['BackButton'][_0x51c7eb(0x1b7)](),_0x5c3b73[_0x51c7eb(0x22f)][_0x51c7eb(0x13b)](),_0x5c3b73[_0x51c7eb(0x22f)]['onClick'](function(){const _0x3edc3a=_0x51c7eb;window[_0x3edc3a(0x160)][_0x3edc3a(0x1f7)]=_0x3edc3a(0x198);}));}catch(_0x185799){console[_0x51c7eb(0x161)](_0x51c7eb(0x1e1),_0x185799);}try{if(_0x5c3b73[_0x51c7eb(0xf8)])_0x5c3b73[_0x51c7eb(0xf8)]();}catch(_0x15f8b1){}}catch(_0x791299){console[_0x51c7eb(0x20d)](_0x51c7eb(0x209),_0x791299);}}());function a2_0x2920(){const _0xb1a760=['getTime','btn-primary\x20btn-secondary','de-item',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','uc_settings_v9','clientWidth','Server\x20Error','WebApp','1VWlITo','anTotalStats','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','height',':\x20Client\x20already\x20booked','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','T23:59:59','querySelectorAll','long','borderRadius','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','stopPropagation','13023TJOKHW','push','rangeEndDate','backgroundPosition','off','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','POST','ranges','init_load','style','overlay','warn','<span>','initData','[Notify]\x20Attempting\x20to\x20send:','%\x20+\x202px)','status','offClick','mousemove','flex','range-item','timeLineBadge','settingCancelWindow','saveLocally','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','length','block','dayOptionsTitle','from','inpClient','floor','100%','16LmIHgr','#fff','all','00:00','delete','map','uc_settings_cancel_window','clientId','keys','colIndex','splice','13213008QzlRvA','as-button\x20danger','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','rangeStartDate','doWorkHours','json','\x20‚Äî\x20','toUpperCase','rangeStartTime','location','log','settings','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','rgba(255,255,255,0.05)','borderLeftColor','querySelector','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','getFullYear','note','name','stat-','forEach','getText','doDateHeader','Unknown','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','touchend','stringify','save_settings','inpEnd','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','gridColumns','complete','btn-status-toggle','toastTitle','inpStart','top','analyticsList','rgba(255,\x2069,\x2058,\x200.15)','max','constructor','1598108IbclAl','clientY','findIndex','var(--acc-green)','mergeServerData','setItem','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','px\x20-','seriesCountContainer','createDocumentFragment','daysHeaderTrack','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','asBtnOne','dayOptionsSheet','random','completed','add','getDay','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','rangesSheet','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','calc(','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','router.html','Error\x20setting\x20color:','insertBefore','blocked-slot\x20stripe-bg','[Notify]\x20Error:\x20Text\x20generation\x20failed','getDate','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','976254Lmuzdt','undefined','inpDate','sid','\x20days','none','var(--acc-orange)',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','[Notify]\x20Server\x20Response:','5puFrYS','day-col-header\x20','pe-corner','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','getMinutes','<div\x20class=\x22ev-title\x22>','headerMonth','seriesId','month','var(--acc-red)','borderColor','week','rgba(255,\x2069,\x2058,\x200.3)','Batch\x20Sync\x20OK','show','value','single','sessionSheet','pe-cell\x20','user','</div>','btn-status-toggle\x20undo-mode','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','mousedown',':00','onclick','Telegram','7942550zVTOmM','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','null','anCustomDates','initDataUnsafe','[Sync]\x20Loading\x20','display','round','setHeaderColor','setHours','active','btnDayToggle','patternInfoBox','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','calendar','className','...','10px','classList','getElementById','addEventListener','cancel','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','color',':00</span>','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','–£—Å–ø–µ—à–Ω–æ','includes','Error\x20setting\x20back\x20button:','textContent','backgroundColor','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','split','entries','statLoadCard','patternEditor','btnDelete','warning','.day-off-overlay','btnStatusToggle','scrollLeft','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','now','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','strokeDashoffset','loadLocal','offsetLeft','search','min','remove','href','ready','as-button\x20danger\x20bold','text','#0a84ff','exceptions','#050505','event-card','anDonutCircle','4649460rGqYTV','div','.day-column','data-day-idx','<b>‚úÖ\x20','actionSheet','toLocaleDateString','slice','client','Critical\x20TMA\x20Error:','rgba(100,100,100,0.5)','checked','zIndex','error','[API\x20','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.pib-text','save','start','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','total','\x20-\x20','filter','background','[Settings]\x20Cancel\x20window\x20set\x20to:','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','settingsSheet','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','toString','Save\x20settings\x20error:','getMonth','–£–¥–∞–ª–µ–Ω–∏–µ','\x20–∏–∑\x20','.event-card','[Notify]\x20Client\x20SWAP\x20detected','getHours','11YTJueD','touches','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','sheetTitle','sheetDateSubtitle','uc_clients_v9','data',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','formatDate','setDate','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','BackButton','dateStr','pattern','getAttribute','rgba(48,\x20209,\x2088,\x200.15)','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','touchstart','cancelled','anStart','</div><div\x20class=\x22ev-time\x22>','padStart','matrixViewport','fetchFromServer','day-column\x20','getItem','catch','end','.day-col-header','success','4288pVRTHY','T00:00:00','1381314QUBHsS','ru-RU','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','Local\x20Save\x20Error','setBackgroundColor','parse','23:59','done','open','target','series','indexOf','.period-switch\x20.p-btn','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','rangeEndTime','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','clients','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','%\x20-\x204px)','today','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','actionSheetOverlay','isArray','toast-notification\x20','day-off-overlay\x20stripe-bg','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','inpSeriesCount','anEnd','guest','–ò–Ω—Ñ–æ','client-stat-card','deleted','blocked-range-part\x20stripe-bg','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','</div><div\x20class=\x22dch-num\x22>','toastMessage','time-label','inpRecurring','sort','setAttribute','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','find','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','appendChild','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','offsetWidth','option','[Notify]\x20Network\x20Failed','recurringOptionContainer','scroll','\x20status-completed','disableVerticalSwipes','<div\x20class=\x22dch-day\x22>','vibrate','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','createElement','mouseup','timeColumn','mini','cancel_window','send','[Notify]\x20Detected\x20Client\x20ID:','pe-time-label','data-date','innerHTML','anPercent','numeric','doLoadPercent','header-','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','var(--acc-current)','planned','charAt','update','(((.+)+)+)+$','px\x200px','create','width'];a2_0x2920=function(){return _0xb1a760;};return a2_0x2920();}function isAdmin(){const _0x381c05=a2_0x5b9f;try{const _0x22dd7f=Number(window[_0x381c05(0x1c3)]?.['WebApp']?.[_0x381c05(0x1c8)]?.[_0x381c05(0x1bc)]?.['id']);return _0x22dd7f===0xbaf7174;}catch(_0x322e8a){return![];}}const APP_VERSION='v9.0-BATCH-CALENDAR',API_URL='https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec',GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x1128bc(0x229),KEY_SESSIONS='uc_sessions_v9',KEY_SETTINGS=a2_0x1128bc(0x119);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x10e378=a2_0x1128bc;return window[_0x10e378(0x1c3)]?.[_0x10e378(0x11c)]?.[_0x10e378(0x1c8)]?.[_0x10e378(0x1bc)]?.['id']||_0x10e378(0xe0);},'saveLocally'(){const _0x3906ed=a2_0x1128bc;try{localStorage[_0x3906ed(0x185)](KEY_CLIENTS,JSON['stringify'](clients)),localStorage[_0x3906ed(0x185)](KEY_SESSIONS,JSON[_0x3906ed(0x172)](sessions)),localStorage[_0x3906ed(0x185)](KEY_SETTINGS,JSON[_0x3906ed(0x172)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x4c6f4f){console[_0x3906ed(0x20d)](_0x3906ed(0xc6),_0x4c6f4f);}},'loadLocal'(){const _0x19eb12=a2_0x1128bc;try{const _0x1c3f22=localStorage['getItem'](KEY_CLIENTS);if(_0x1c3f22)clients=JSON[_0x19eb12(0xc8)](_0x1c3f22);const _0x16f6f7=localStorage['getItem'](KEY_SESSIONS);if(_0x16f6f7)sessions=JSON[_0x19eb12(0xc8)](_0x16f6f7);const _0x196e62=localStorage[_0x19eb12(0x23d)](KEY_SETTINGS);if(_0x196e62){const _0x4dced8=JSON[_0x19eb12(0xc8)](_0x196e62);if(_0x4dced8[_0x19eb12(0x231)])availabilityPattern=_0x4dced8['pattern'];if(_0x4dced8[_0x19eb12(0x1fc)])dateExceptions=_0x4dced8[_0x19eb12(0x1fc)];if(_0x4dced8[_0x19eb12(0x131)])specialRanges=_0x4dced8[_0x19eb12(0x131)];}else{for(let _0x328737=0x0;_0x328737<0x7;_0x328737++)availabilityPattern[_0x328737]=Array['from']({'length':0xc},(_0x2f0621,_0x204651)=>_0x204651+0x9);}}catch(_0x528e88){console[_0x19eb12(0x20d)]('Local\x20Load\x20Error',_0x528e88);}},async 'fetchFromServer'(_0x517885,_0x1853e7={}){const _0x12510b=a2_0x1128bc,_0x716c84=window['Telegram']?.[_0x12510b(0x11c)],_0x2d8402={'action':_0x517885,'init_data':_0x716c84?.[_0x12510b(0x137)]||'',..._0x1853e7};try{const _0x11273f=await fetch(API_URL,{'method':_0x12510b(0x130),'headers':{'Content-Type':'text/plain;charset=UTF-8'},'body':JSON[_0x12510b(0x172)](_0x2d8402)}),_0x240bed=await _0x11273f[_0x12510b(0x15c)]();if(!_0x240bed['ok'])throw new Error(_0x240bed[_0x12510b(0x20d)]||_0x12510b(0x11b));return _0x240bed[_0x12510b(0x22a)];}catch(_0x3673d3){console[_0x12510b(0x20d)](_0x12510b(0x20e)+_0x517885+']\x20Failed:',_0x3673d3);throw _0x3673d3;}},async 'syncLoad'(){const _0x2b0126=a2_0x1128bc,_0x3d6c8e=new Date(),_0x10123a=_0x3d6c8e[_0x2b0126(0x168)]()+'-'+String(_0x3d6c8e[_0x2b0126(0x21e)]()+0x1)[_0x2b0126(0x239)](0x2,'0'),_0x43d069=new Date(_0x3d6c8e);_0x43d069['setMonth'](_0x3d6c8e[_0x2b0126(0x21e)]()+0x1);const _0x42ac64=_0x43d069[_0x2b0126(0x168)]()+'-'+String(_0x43d069[_0x2b0126(0x21e)]()+0x1)[_0x2b0126(0x239)](0x2,'0'),_0x395ac8=Date['now']();console[_0x2b0126(0x161)](_0x2b0126(0x1c9)+_0x10123a+',\x20'+_0x42ac64+_0x2b0126(0x1d4));try{const [_0xf27672,_0x2ba67e]=await Promise[_0x2b0126(0x14d)]([this['fetchFromServer'](_0x2b0126(0x132),{'month_str':_0x10123a}),this[_0x2b0126(0x23b)](_0x2b0126(0x132),{'month_str':_0x42ac64})]);if(lastUserActionTime>_0x395ac8)return console[_0x2b0126(0x135)](_0x2b0126(0x142)),![];return this[_0x2b0126(0x184)](_0xf27672,_0x10123a),this[_0x2b0126(0x184)](_0x2ba67e,_0x42ac64),this[_0x2b0126(0x141)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x2f497c){console[_0x2b0126(0x20d)](_0x2f497c);throw _0x2f497c;}},'mergeServerData'(_0xe79db6,_0x324b06){const _0x1a6894=a2_0x1128bc;if(!_0xe79db6)return;_0xe79db6[_0x1a6894(0xd4)]&&Array[_0x1a6894(0xda)](_0xe79db6[_0x1a6894(0xd4)])&&(clients=_0xe79db6[_0x1a6894(0xd4)]);if(_0xe79db6[_0x1a6894(0x162)]){if(_0xe79db6['settings']['pattern'])availabilityPattern=_0xe79db6[_0x1a6894(0x162)][_0x1a6894(0x231)];if(_0xe79db6['settings'][_0x1a6894(0x1fc)])dateExceptions=_0xe79db6[_0x1a6894(0x162)][_0x1a6894(0x1fc)];if(_0xe79db6['settings']['ranges'])specialRanges=_0xe79db6['settings'][_0x1a6894(0x131)];if(_0xe79db6[_0x1a6894(0x162)][_0x1a6894(0x101)]){localStorage[_0x1a6894(0x185)](_0x1a6894(0x151),_0xe79db6[_0x1a6894(0x162)]['cancel_window']);const _0x41135f=document[_0x1a6894(0x1d7)](_0x1a6894(0x140));if(_0x41135f)_0x41135f[_0x1a6894(0x1b8)]=_0xe79db6['settings'][_0x1a6894(0x101)];}}_0xe79db6['calendar']&&(sessions=sessions[_0x1a6894(0x216)](_0x3a313a=>!_0x3a313a[_0x1a6894(0x230)]['startsWith'](_0x324b06)),Object[_0x1a6894(0x153)](_0xe79db6['calendar'])[_0x1a6894(0x16c)](_0x4f6437=>{const _0x17c9f2=_0x1a6894,_0x375006=_0xe79db6[_0x17c9f2(0x1d2)][_0x4f6437];_0x375006[_0x17c9f2(0x16c)](_0x2b29d5=>{const _0x411513=_0x17c9f2,_0x41356a=clients['find'](_0x297024=>String(_0x297024['id'])===String(_0x2b29d5['c']));sessions[_0x411513(0x12b)]({'id':_0x2b29d5['i'],'clientId':_0x2b29d5['c'],'client':_0x41356a?_0x41356a[_0x411513(0x16a)]:_0x411513(0x16f),'dateStr':_0x324b06+'-'+_0x4f6437[_0x411513(0x239)](0x2,'0'),'start':_0x2b29d5['s'],'end':_0x2b29d5['e'],'status':_0x2b29d5['st']||_0x411513(0x10e),'note':_0x2b29d5['n']||'','seriesId':_0x2b29d5[_0x411513(0x1a3)]||null});});}));},async 'syncBatch'(_0x172340){const _0xe956e8=a2_0x1128bc,_0x176b1d=[...new Set(_0x172340)],_0x24ba35=_0x176b1d['map'](_0x1e7da2=>{const _0x482e49=a2_0x5b9f,_0x4ef0a2=sessions[_0x482e49(0x216)](_0x5695e2=>_0x5695e2['dateStr']===_0x1e7da2&&_0x5695e2[_0x482e49(0x13a)]!==_0x482e49(0xe3)),_0x57502b=_0x4ef0a2[_0x482e49(0x150)](_0x1f6d76=>({'i':_0x1f6d76['id'],'c':_0x1f6d76[_0x482e49(0x152)],'s':_0x1f6d76['start'],'e':_0x1f6d76[_0x482e49(0xbe)],'st':_0x1f6d76[_0x482e49(0x13a)],'n':_0x1f6d76[_0x482e49(0x169)],'sid':_0x1f6d76[_0x482e49(0x1b0)]}));return{'date':_0x1e7da2,'day_data':_0x57502b};});if(_0x24ba35[_0xe956e8(0x144)]===0x0)return;console[_0xe956e8(0x161)]('[Sync]\x20Pushing\x20batch\x20updates\x20for\x20'+_0x24ba35['length']+_0xe956e8(0x1a4)),await this[_0xe956e8(0x23b)]('batch_sync',{'changes':_0x24ba35});}};async function init(){const _0x4b1240=a2_0x1128bc;DataManager[_0x4b1240(0x1f2)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x4b1240(0x1d7)]('matrixViewport')[_0x4b1240(0x1d8)](_0x4b1240(0xf6),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']()['then'](()=>{const _0x26cbe0=_0x4b1240;showToast(_0x26cbe0(0x1ee),!![]);})[_0x4b1240(0xbd)](_0x3b87a7=>{const _0x5129cf=_0x4b1240;showToast(_0x5129cf(0x1bf),![]);});}function generateId(){const _0x3f00d5=a2_0x1128bc;return Date[_0x3f00d5(0x1ef)]()[_0x3f00d5(0x21c)](0x24)+Math[_0x3f00d5(0x18e)]()[_0x3f00d5(0x21c)](0x24)['substr'](0x2,0x5);}function toggleSeriesInput(){const _0x505082=a2_0x1128bc,_0x17fbd1=document[_0x505082(0x1d7)](_0x505082(0xe9))[_0x505082(0x20b)],_0x3d1755=document[_0x505082(0x1d7)](_0x505082(0x188));_0x3d1755[_0x505082(0x133)][_0x505082(0x1ca)]=_0x17fbd1?_0x505082(0x145):'none';const _0x5c24dc=document[_0x505082(0x1d7)](_0x505082(0xf5));_0x5c24dc[_0x505082(0x133)][_0x505082(0x127)]=_0x17fbd1?'10px\x2010px\x200\x200':_0x505082(0x1d5);}function openAddSession(_0x2fe717){const _0x490f3c=a2_0x1128bc;editingId=null,populateClientSelect(),document['getElementById']('sheetTitle')[_0x490f3c(0x1e2)]=_0x490f3c(0xd3),document[_0x490f3c(0x1d7)](_0x490f3c(0x1e9))['style'][_0x490f3c(0x1ca)]=_0x490f3c(0x1a5),document[_0x490f3c(0x1d7)](_0x490f3c(0x1ec))[_0x490f3c(0x133)]['display']=_0x490f3c(0x1a5);const _0x7b0f09=document[_0x490f3c(0x1d7)](_0x490f3c(0xf5)),_0x43aa59=document[_0x490f3c(0x1d7)](_0x490f3c(0x188));_0x7b0f09[_0x490f3c(0x133)][_0x490f3c(0x1ca)]=_0x490f3c(0x13d),_0x7b0f09[_0x490f3c(0x133)][_0x490f3c(0x127)]=_0x490f3c(0x1d5),document['getElementById']('inpRecurring')[_0x490f3c(0x20b)]=![],document['getElementById'](_0x490f3c(0xde))[_0x490f3c(0x1b8)]=0x4,_0x43aa59[_0x490f3c(0x133)][_0x490f3c(0x1ca)]=_0x490f3c(0x1a5),document[_0x490f3c(0x1d7)](_0x490f3c(0x1a2))[_0x490f3c(0x1b8)]=getLocalDateStr(_0x2fe717),updateDateDisplay();const _0x5cfcdf=_0x2fe717[_0x490f3c(0x223)]();document[_0x490f3c(0x1d7)](_0x490f3c(0x17a))['value']=String(_0x5cfcdf)[_0x490f3c(0x239)](0x2,'0')+':00',document[_0x490f3c(0x1d7)](_0x490f3c(0x174))[_0x490f3c(0x1b8)]=String(_0x5cfcdf+0x1)[_0x490f3c(0x239)](0x2,'0')+_0x490f3c(0x1c1),openSheet('sessionSheet');}function openEdit(_0x5ccfaa){const _0x17211d=a2_0x1128bc;editingId=_0x5ccfaa['id'],populateClientSelect(),document[_0x17211d(0x1d7)](_0x17211d(0x227))[_0x17211d(0x1e2)]=_0x17211d(0xee),document['getElementById'](_0x17211d(0x1e9))[_0x17211d(0x133)][_0x17211d(0x1ca)]=_0x17211d(0x145);const _0x390b52=document['getElementById'](_0x17211d(0x1ec));_0x390b52[_0x17211d(0x133)][_0x17211d(0x1ca)]=_0x17211d(0x13d);_0x5ccfaa[_0x17211d(0x13a)]===_0x17211d(0x18f)?(_0x390b52['className']=_0x17211d(0x1be),_0x390b52[_0x17211d(0x106)]=_0x17211d(0xd5)):(_0x390b52[_0x17211d(0x1d3)]=_0x17211d(0x178),_0x390b52[_0x17211d(0x106)]=_0x17211d(0xc5));const _0x4b1fba=!!_0x5ccfaa[_0x17211d(0x1b0)];document[_0x17211d(0x1d7)]('recurringOptionContainer')[_0x17211d(0x133)][_0x17211d(0x1ca)]=_0x17211d(0x1a5),document[_0x17211d(0x1d7)](_0x17211d(0x188))[_0x17211d(0x133)][_0x17211d(0x1ca)]=_0x17211d(0x1a5),_0x4b1fba?(document[_0x17211d(0x1d7)](_0x17211d(0x1d0))[_0x17211d(0x133)]['display']=_0x17211d(0x13d),document[_0x17211d(0x1d7)](_0x17211d(0x1d0))[_0x17211d(0x166)](_0x17211d(0x210))[_0x17211d(0x1e2)]=_0x17211d(0x1f0)):document[_0x17211d(0x1d7)](_0x17211d(0x1d0))[_0x17211d(0x133)][_0x17211d(0x1ca)]=_0x17211d(0x1a5),document[_0x17211d(0x1d7)]('inpClient')[_0x17211d(0x1b8)]=_0x5ccfaa[_0x17211d(0x208)],document[_0x17211d(0x1d7)](_0x17211d(0x1a2))[_0x17211d(0x1b8)]=_0x5ccfaa[_0x17211d(0x230)],document[_0x17211d(0x1d7)](_0x17211d(0x17a))[_0x17211d(0x1b8)]=_0x5ccfaa['start'],document[_0x17211d(0x1d7)](_0x17211d(0x174))[_0x17211d(0x1b8)]=_0x5ccfaa[_0x17211d(0xbe)],document[_0x17211d(0x1d7)]('inpNote')[_0x17211d(0x1b8)]=_0x5ccfaa[_0x17211d(0x169)]||'',updateDateDisplay(),openSheet(_0x17211d(0x1ba));}async function trySaveSession(){const _0x423706=a2_0x1128bc,_0x4095ba=document[_0x423706(0x1d7)](_0x423706(0x148))[_0x423706(0x1b8)],_0x262b00=document['getElementById'](_0x423706(0x1a2))[_0x423706(0x1b8)],_0x1d1819=document[_0x423706(0x1d7)]('inpStart')[_0x423706(0x1b8)],_0x2a194d=document[_0x423706(0x1d7)]('inpEnd')['value'],_0x5e8b0f=document[_0x423706(0x1d7)]('inpNote')['value'],_0x374339=document[_0x423706(0x1d7)](_0x423706(0xe9))[_0x423706(0x20b)];let _0x325ef1=0x4;if(_0x374339){const _0x14adee=parseInt(document[_0x423706(0x1d7)]('inpSeriesCount')[_0x423706(0x1b8)]);if(!_0x14adee||_0x14adee<0x2){showToast(_0x423706(0xd0),![]);return;}if(_0x14adee>0x64){showToast(_0x423706(0x1c5),![]);return;}_0x325ef1=_0x14adee;}const _0x5a4d20=clients['find'](_0x3ac224=>_0x3ac224[_0x423706(0x16a)]===_0x4095ba);if(!_0x5a4d20){showToast(_0x423706(0x1dd),![]);return;}const _0x41e405=validateAppointment(_0x262b00,_0x1d1819,_0x2a194d,editingId,_0x5a4d20['id']);if(!_0x41e405['valid']){showToast(_0x41e405['msg'],![]);return;}_0x41e405[_0x423706(0x1ea)]&&showToast(_0x41e405['warning'],![]);const _0x29a104={'client':_0x4095ba,'clientId':_0x5a4d20['id'],'start':_0x1d1819,'end':_0x2a194d,'note':_0x5e8b0f,'status':_0x423706(0x10e)},_0x3a8726=editingId?sessions[_0x423706(0xed)](_0x1dfd72=>_0x1dfd72['id']===editingId):null;if(_0x3a8726&&_0x3a8726['seriesId']){tempSessionData={..._0x29a104,'dateStr':_0x262b00,'id':editingId,'seriesId':_0x3a8726[_0x423706(0x1b0)]},openActionSheet('save');return;}let _0x110eab=null;if(!editingId)_0x110eab=_0x423706(0x113);else{if(_0x3a8726){if(String(_0x3a8726['clientId'])!==String(_0x5a4d20['id']))console[_0x423706(0x161)](_0x423706(0x222)),NotificationManager[_0x423706(0x102)](_0x423706(0x1d9),_0x3a8726),_0x110eab=_0x423706(0x113);else(_0x3a8726[_0x423706(0x212)]!==_0x1d1819||_0x3a8726[_0x423706(0xbe)]!==_0x2a194d||_0x3a8726['dateStr']!==_0x262b00)&&(_0x110eab=_0x423706(0x110));}}if(!editingId&&_0x374339){createBatchSeries(_0x29a104,_0x262b00,_0x325ef1),NotificationManager[_0x423706(0x102)](_0x423706(0x113),{..._0x29a104,'dateStr':_0x262b00});return;}lastUserActionTime=Date[_0x423706(0x1ef)]();const _0x352e3b={..._0x29a104,'dateStr':_0x262b00,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x352e3b),_0x110eab&&NotificationManager[_0x423706(0x102)](_0x110eab,_0x352e3b);}function toggleSessionStatus(){const _0x49d607=a2_0x1128bc;lastUserActionTime=Date[_0x49d607(0x1ef)]();const _0x5505e8=sessions[_0x49d607(0xed)](_0x17edd4=>_0x17edd4['id']===editingId);if(!_0x5505e8)return;const _0x22b8e6=_0x5505e8[_0x49d607(0x13a)]===_0x49d607(0x18f)?_0x49d607(0x10e):_0x49d607(0x18f);_0x5505e8[_0x49d607(0x13a)]=_0x22b8e6,saveSingleSession(_0x5505e8),_0x22b8e6===_0x49d607(0x18f)&&NotificationManager[_0x49d607(0x102)]('complete',_0x5505e8),showToast(_0x22b8e6===_0x49d607(0x18f)?_0x49d607(0x21b):_0x49d607(0x175),!![]);}function validateAppointment(_0x2dac65,_0x3d49ed,_0x11b185,_0x60bb5a,_0x5b30b0){const _0x426c28=a2_0x1128bc,[_0x5e4084,_0x4fb323]=_0x3d49ed[_0x426c28(0x1e5)](':')[_0x426c28(0x150)](Number),[_0x2f78e1,_0x447c43]=_0x11b185[_0x426c28(0x1e5)](':')[_0x426c28(0x150)](Number),_0x9b70e2=_0x5e4084*0x3c+_0x4fb323,_0x35816e=_0x2f78e1*0x3c+_0x447c43,_0x7f58d9=String(_0x5b30b0);let _0x109b76=![],_0x5b3f88='';for(let _0x1f2ad3 of sessions){if(_0x1f2ad3[_0x426c28(0x230)]!==_0x2dac65)continue;if(_0x1f2ad3[_0x426c28(0x13a)]===_0x426c28(0x236))continue;if(_0x60bb5a&&String(_0x1f2ad3['id'])===String(_0x60bb5a))continue;const [_0x4bf33f,_0x12d3cd]=_0x1f2ad3[_0x426c28(0x212)][_0x426c28(0x1e5)](':')[_0x426c28(0x150)](Number),[_0x32be5b,_0x3deff1]=_0x1f2ad3[_0x426c28(0xbe)][_0x426c28(0x1e5)](':')[_0x426c28(0x150)](Number),_0x2e57bb=_0x4bf33f*0x3c+_0x12d3cd,_0x21b5df=_0x32be5b*0x3c+_0x3deff1;if(Math['max'](_0x9b70e2,_0x2e57bb)<Math[_0x426c28(0x1f5)](_0x35816e,_0x21b5df)){if(_0x1f2ad3[_0x426c28(0x152)]&&String(_0x1f2ad3[_0x426c28(0x152)])===_0x7f58d9)return{'valid':![],'msg':_0x426c28(0x122)+_0x1f2ad3['client']+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x109b76=!![],_0x5b3f88=_0x1f2ad3[_0x426c28(0x208)];}}if(_0x109b76)return{'valid':!![],'warning':_0x426c28(0x18b)+_0x5b3f88};return{'valid':!![]};}function saveSingleSession(_0x49e1b8){const _0x3bbab3=a2_0x1128bc;if(editingId){const _0xd28c05=sessions[_0x3bbab3(0x182)](_0x41bc7c=>_0x41bc7c['id']===editingId);if(_0xd28c05!==-0x1)sessions[_0xd28c05]=_0x49e1b8;}else sessions[_0x3bbab3(0x12b)](_0x49e1b8);afterSaveAction([_0x49e1b8['dateStr']]);}function createBatchSeries(_0x46cfc9,_0x400c79,_0x258636){const _0x38dc62=a2_0x1128bc,_0x181598=generateId(),_0x5faf8e=[],_0x51b103=[];let _0x320b68=0x0,_0x192cfe=new Date(_0x400c79);for(let _0x3bd732=0x0;_0x3bd732<_0x258636;_0x3bd732++){const _0x52d465=getLocalDateStr(_0x192cfe),_0x466b8a=validateAppointment(_0x52d465,_0x46cfc9[_0x38dc62(0x212)],_0x46cfc9['end'],null,_0x46cfc9[_0x38dc62(0x152)]);if(!_0x466b8a['valid'])console[_0x38dc62(0x161)]('[Series]\x20Skipped\x20'+_0x52d465+_0x38dc62(0x121)),_0x320b68++;else{const _0x788fd3={..._0x46cfc9,'id':generateId(),'dateStr':_0x52d465,'seriesId':_0x181598};_0x51b103['push'](_0x788fd3),_0x5faf8e['push'](_0x52d465);}_0x192cfe[_0x38dc62(0x22d)](_0x192cfe[_0x38dc62(0x19d)]()+0x7);}if(_0x51b103['length']===0x0){showToast(_0x38dc62(0x1d1),![]);return;}sessions[_0x38dc62(0x12b)](..._0x51b103),lastUserActionTime=Date[_0x38dc62(0x1ef)]();let _0x208dc8='–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20'+_0x51b103[_0x38dc62(0x144)];_0x320b68>0x0&&(_0x208dc8+=_0x38dc62(0x1ac)+_0x320b68+')'),showToast(_0x208dc8,!![]),afterSaveAction(_0x5faf8e);}function updateSeriesBatch(_0x5cbe9d,_0x37757e){const _0x193c41=a2_0x1128bc,_0x23fbce=[],_0x1bc1ca=_0x37757e[_0x193c41(0x1b0)];if(_0x5cbe9d===_0x193c41(0x1b9)){const _0x4e82b7={..._0x37757e,'seriesId':null},_0x2973f5=sessions[_0x193c41(0x182)](_0x27ed10=>_0x27ed10['id']===_0x37757e['id']);if(_0x2973f5!==-0x1)sessions[_0x2973f5]=_0x4e82b7;_0x23fbce[_0x193c41(0x12b)](_0x4e82b7[_0x193c41(0x230)]);}else{if(_0x5cbe9d===_0x193c41(0xcd)){const _0x11edaf=_0x37757e[_0x193c41(0x230)];sessions[_0x193c41(0x16c)]((_0x51b330,_0x85b645)=>{const _0x371024=_0x193c41;_0x51b330['seriesId']===_0x1bc1ca&&_0x51b330[_0x371024(0x230)]>=_0x11edaf&&(sessions[_0x85b645]={...sessions[_0x85b645],'start':_0x37757e[_0x371024(0x212)],'end':_0x37757e[_0x371024(0xbe)],'note':_0x37757e[_0x371024(0x169)],'client':_0x37757e[_0x371024(0x208)],'clientId':_0x37757e[_0x371024(0x152)]},_0x23fbce[_0x371024(0x12b)](_0x51b330[_0x371024(0x230)]));});}}afterSaveAction(_0x23fbce);}function tryDeleteSession(){const _0x15c109=a2_0x1128bc,_0x27e6bc=sessions[_0x15c109(0xed)](_0x46d398=>_0x46d398['id']===editingId);if(!_0x27e6bc)return;_0x27e6bc['seriesId']?openActionSheet('delete'):commitDelete(_0x15c109(0x1b9),_0x27e6bc);}function commitDelete(_0x309504,_0x3d55f7){const _0x245126=a2_0x1128bc;lastUserActionTime=Date[_0x245126(0x1ef)](),NotificationManager[_0x245126(0x102)](_0x245126(0x1d9),_0x3d55f7);const _0x5b1991=[];if(_0x309504==='single')sessions=sessions[_0x245126(0x216)](_0x5b91af=>_0x5b91af['id']!==_0x3d55f7['id']),_0x5b1991[_0x245126(0x12b)](_0x3d55f7[_0x245126(0x230)]);else{if(_0x309504===_0x245126(0xcd)){const _0x143c65=_0x3d55f7[_0x245126(0x230)],_0x511eab=_0x3d55f7[_0x245126(0x1b0)];sessions[_0x245126(0x16c)](_0x17c23a=>{const _0x55afe2=_0x245126;_0x17c23a[_0x55afe2(0x1b0)]===_0x511eab&&_0x17c23a['dateStr']>=_0x143c65&&_0x5b1991[_0x55afe2(0x12b)](_0x17c23a[_0x55afe2(0x230)]);}),sessions=sessions[_0x245126(0x216)](_0x2baa72=>!(_0x2baa72[_0x245126(0x1b0)]===_0x511eab&&_0x2baa72[_0x245126(0x230)]>=_0x143c65));}}afterSaveAction(_0x5b1991);}function a2_0x5b9f(_0x4218ec,_0x43ed3b){_0x4218ec=_0x4218ec-0xbd;const _0x4226af=a2_0x2920();let _0x34cd26=_0x4226af[_0x4218ec];return _0x34cd26;}function afterSaveAction(_0x315b1e){const _0x3ceb9a=a2_0x1128bc;DataManager[_0x3ceb9a(0x141)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager['syncBatch'](_0x315b1e)['then'](()=>console[_0x3ceb9a(0x161)](_0x3ceb9a(0x1b6)))[_0x3ceb9a(0xbd)](_0x2c3b1c=>showToast(_0x3ceb9a(0xd2),![]));}const NotificationManager={'formatDate'(_0x49e8cf){const _0x3aad6c=a2_0x1128bc,_0x465fbc=new Date(_0x49e8cf),_0x183a37={'weekday':_0x3aad6c(0x126),'day':_0x3aad6c(0x108),'month':_0x3aad6c(0x126)};let _0x4160ca=_0x465fbc[_0x3aad6c(0x206)](_0x3aad6c(0xc4),_0x183a37);return _0x4160ca[_0x3aad6c(0x10f)](0x0)[_0x3aad6c(0x15e)]()+_0x4160ca[_0x3aad6c(0x207)](0x1);},'getText'(_0x24a8bc,_0x2d4645){const _0x517fdd=a2_0x1128bc,_0x16330b=this[_0x517fdd(0x22c)](_0x2d4645[_0x517fdd(0x230)]);switch(_0x24a8bc){case _0x517fdd(0x113):return _0x517fdd(0x22e)+(_0x517fdd(0x159)+_0x16330b+'\x0a')+(_0x517fdd(0x167)+_0x2d4645[_0x517fdd(0x212)]+'\x20‚Äî\x20'+_0x2d4645[_0x517fdd(0xbe)]+'\x0a\x0a')+_0x517fdd(0x186);case'update':return _0x517fdd(0x143)+_0x517fdd(0x10b)+(_0x517fdd(0x204)+_0x2d4645[_0x517fdd(0x212)]+_0x517fdd(0x15d)+_0x2d4645[_0x517fdd(0xbe)]+'</b>\x0a\x0a')+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0x16330b);case _0x517fdd(0x1d9):return _0x517fdd(0x219)+(_0x517fdd(0x11f)+_0x16330b+'\x20('+_0x2d4645['start']+_0x517fdd(0x22b));case _0x517fdd(0x177):return'<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a'+'–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a'+_0x517fdd(0x158);default:return'';}},async 'send'(_0x1d13ca,_0x1fc341){const _0x526e92=a2_0x1128bc;console[_0x526e92(0x161)](_0x526e92(0x138),_0x1d13ca,_0x1fc341);if(!_0x1fc341){console[_0x526e92(0x20d)]('[Notify]\x20Error:\x20sessionData\x20is\x20null');return;}const _0xb5e0b1=String(_0x1fc341[_0x526e92(0x152)]);console[_0x526e92(0x161)](_0x526e92(0x103),_0xb5e0b1);if(!_0x1fc341['clientId']||_0xb5e0b1===_0x526e92(0x1a1)||_0xb5e0b1===_0x526e92(0x1c6)){console[_0x526e92(0x20d)](_0x526e92(0x1da));if(_0x1fc341[_0x526e92(0x208)]){const _0x1483c5=clients[_0x526e92(0xed)](_0x58709e=>_0x58709e['name']===_0x1fc341['client']);if(_0x1483c5)return console[_0x526e92(0x161)]('[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:',_0x1483c5['id']),this[_0x526e92(0x102)](_0x1d13ca,{..._0x1fc341,'clientId':_0x1483c5['id']});}return;}if(_0xb5e0b1['length']<0x5){console['warn'](_0x526e92(0x19f),_0xb5e0b1);return;}const _0xd81046=this[_0x526e92(0x16d)](_0x1d13ca,_0x1fc341);if(!_0xd81046){console[_0x526e92(0x20d)](_0x526e92(0x19c));return;}console[_0x526e92(0x161)](_0x526e92(0x128)+_0xb5e0b1+_0x526e92(0x1d4)),DataManager['fetchFromServer']('send_notification',{'chatId':_0xb5e0b1,'text':_0xd81046})['then'](_0x479d35=>console[_0x526e92(0x161)](_0x526e92(0x1a8),_0x479d35))[_0x526e92(0xbd)](_0xdb7015=>console[_0x526e92(0x20d)](_0x526e92(0xf4),_0xdb7015));}};function getLocalDateStr(_0x209b69){const _0x4df391=a2_0x1128bc,_0x422b43=_0x209b69[_0x4df391(0x168)](),_0x123d4c=String(_0x209b69[_0x4df391(0x21e)]()+0x1)[_0x4df391(0x239)](0x2,'0'),_0x21f893=String(_0x209b69[_0x4df391(0x19d)]())[_0x4df391(0x239)](0x2,'0');return _0x422b43+'-'+_0x123d4c+'-'+_0x21f893;}function getDateStr(_0x57fcc2){const _0x504bed=a2_0x1128bc,_0x257e12=new Date();return _0x257e12['setDate'](_0x257e12[_0x504bed(0x19d)]()+_0x57fcc2),getLocalDateStr(_0x257e12);}function getStartOfWeek(_0x452a80){const _0x23e385=a2_0x1128bc,_0x2d5519=(function(){let _0x328c15=!![];return function(_0x23d084,_0x2a6888){const _0x3de69d=_0x328c15?function(){if(_0x2a6888){const _0x53217f=_0x2a6888['apply'](_0x23d084,arguments);return _0x2a6888=null,_0x53217f;}}:function(){};return _0x328c15=![],_0x3de69d;};}()),_0x498e20=_0x2d5519(this,function(){const _0x1867df=a2_0x5b9f;return _0x498e20['toString']()[_0x1867df(0x1f4)](_0x1867df(0x111))['toString']()[_0x1867df(0x17f)](_0x498e20)[_0x1867df(0x1f4)]('(((.+)+)+)+$');});_0x498e20();const _0x5d2f7a=new Date(_0x452a80),_0x533a97=_0x5d2f7a[_0x23e385(0x191)](),_0x35e16b=_0x5d2f7a[_0x23e385(0x19d)]()-_0x533a97+(_0x533a97===0x0?-0x6:0x1);return _0x5d2f7a['setDate'](_0x35e16b),_0x5d2f7a[_0x23e385(0x1cd)](0x0,0x0,0x0,0x0),_0x5d2f7a;}function hexToRgba(_0x7c4bb4,_0x218479){const _0x81ea9b=a2_0x1128bc;if(!_0x7c4bb4)return _0x81ea9b(0x20a);let _0x1cbff7=0x0,_0x58469d=0x0,_0x3cd5df=0x0;if(_0x7c4bb4['length']===0x4)_0x1cbff7='0x'+_0x7c4bb4[0x1]+_0x7c4bb4[0x1],_0x58469d='0x'+_0x7c4bb4[0x2]+_0x7c4bb4[0x2],_0x3cd5df='0x'+_0x7c4bb4[0x3]+_0x7c4bb4[0x3];else _0x7c4bb4[_0x81ea9b(0x144)]===0x7&&(_0x1cbff7='0x'+_0x7c4bb4[0x1]+_0x7c4bb4[0x2],_0x58469d='0x'+_0x7c4bb4[0x3]+_0x7c4bb4[0x4],_0x3cd5df='0x'+_0x7c4bb4[0x5]+_0x7c4bb4[0x6]);return'rgba('+ +_0x1cbff7+',\x20'+ +_0x58469d+',\x20'+ +_0x3cd5df+',\x20'+_0x218479+')';}function renderTimeColumn(){const _0x918150=a2_0x1128bc,_0x306f1e=document[_0x918150(0x1d7)](_0x918150(0xff)),_0x195bd6=document[_0x918150(0x1d7)](_0x918150(0x13f));_0x306f1e[_0x918150(0x106)]='',_0x306f1e[_0x918150(0xf0)](_0x195bd6);for(let _0x3b01a1=0x0;_0x3b01a1<0x18;_0x3b01a1++){const _0x2d980c=document[_0x918150(0xfd)](_0x918150(0x201));_0x2d980c[_0x918150(0x1d3)]=_0x918150(0xe8);if(_0x3b01a1>0x0)_0x2d980c['innerHTML']=_0x918150(0x136)+String(_0x3b01a1)['padStart'](0x2,'0')+_0x918150(0x1dc);_0x306f1e[_0x918150(0xf0)](_0x2d980c);}}function renderDayRange(_0x32538a,_0x339bd1){const _0x8ccc43=a2_0x1128bc,_0x14c5b7=document[_0x8ccc43(0x1d7)](_0x8ccc43(0x18a)),_0x345b98=document[_0x8ccc43(0x1d7)](_0x8ccc43(0x176)),_0x23e7e3=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x355983=new Date();_0x355983[_0x8ccc43(0x1cd)](0x0,0x0,0x0,0x0);const _0x4659cd=getLocalDateStr(new Date());for(let _0x3a92d6=_0x32538a;_0x3a92d6<=_0x339bd1;_0x3a92d6++){const _0x33640a=new Date(_0x355983);_0x33640a[_0x8ccc43(0x22d)](_0x33640a[_0x8ccc43(0x19d)]()+_0x3a92d6);const _0x508483=getLocalDateStr(_0x33640a);let _0x535a44=_0x33640a['getDay']()-0x1;if(_0x535a44===-0x1)_0x535a44=0x6;const _0x34eb67=_0x508483===_0x4659cd,_0x1ed2c9=document['createElement']('div');_0x1ed2c9[_0x8ccc43(0x1d3)]='day-col-header\x20'+(_0x34eb67?'today':''),_0x1ed2c9['id']=_0x8ccc43(0x10a)+_0x508483,_0x1ed2c9[_0x8ccc43(0xeb)](_0x8ccc43(0x105),_0x508483),_0x1ed2c9[_0x8ccc43(0x106)]=_0x8ccc43(0xf9)+_0x23e7e3[_0x535a44]+_0x8ccc43(0xe6)+_0x33640a[_0x8ccc43(0x19d)]()+_0x8ccc43(0x1e4)+_0x508483+_0x8ccc43(0x12f),_0x1ed2c9[_0x8ccc43(0x1c2)]=()=>openDayOptions(_0x508483,_0x23e7e3[_0x535a44]+'\x20'+_0x33640a[_0x8ccc43(0x19d)]()),_0x14c5b7[_0x8ccc43(0xf0)](_0x1ed2c9);const _0x2d4c2b=document[_0x8ccc43(0xfd)](_0x8ccc43(0x201));_0x2d4c2b[_0x8ccc43(0x1d3)]=_0x8ccc43(0x23c)+(_0x34eb67?_0x8ccc43(0xd7):''),_0x2d4c2b['setAttribute']('data-date',_0x508483),_0x2d4c2b[_0x8ccc43(0xeb)]('data-day-idx',_0x535a44),renderEventsForColumn(_0x2d4c2b,_0x508483,_0x535a44),attachLongPressHandler(_0x2d4c2b,_0x33640a),_0x345b98[_0x8ccc43(0xf0)](_0x2d4c2b),updateDayStats(_0x508483);}}function reRenderBlocks(){const _0x80d2e8=a2_0x1128bc;document[_0x80d2e8(0x125)]('#gridColumns\x20.day-column')[_0x80d2e8(0x16c)](_0x2d6960=>{const _0x2e0988=_0x80d2e8;_0x2d6960[_0x2e0988(0x125)](_0x2e0988(0xfc))[_0x2e0988(0x16c)](_0x4290eb=>_0x4290eb[_0x2e0988(0x1f6)]());const _0x5bf5ba=_0x2d6960['getAttribute'](_0x2e0988(0x105)),_0x5ced10=parseInt(_0x2d6960[_0x2e0988(0x232)](_0x2e0988(0x203))),_0x1479bb=Math[_0x2e0988(0x1cb)](_0x2d6960[_0x2e0988(0x1f3)]);(availabilityPattern[_0x5ced10]||[])['forEach'](_0x16db1f=>{const _0x150be9=_0x2e0988,_0x3d2ef2=document['createElement'](_0x150be9(0x201));_0x3d2ef2['className']='blocked-slot\x20stripe-bg';const _0x14975e=_0x16db1f*GRID_H;_0x3d2ef2[_0x150be9(0x133)]['top']=_0x14975e+'px',_0x3d2ef2[_0x150be9(0x133)]['backgroundPosition']='-'+_0x1479bb+_0x150be9(0x187)+_0x14975e+'px',_0x2d6960[_0x150be9(0xf0)](_0x3d2ef2);});if(specialRanges&&specialRanges[_0x2e0988(0x144)]>0x0){const _0x5a1386=new Date(_0x5bf5ba+_0x2e0988(0xc2))[_0x2e0988(0x115)](),_0x11c52b=new Date(_0x5bf5ba+_0x2e0988(0x124))[_0x2e0988(0x115)]();specialRanges[_0x2e0988(0x16c)](_0x19ec07=>{const _0x2d3fde=_0x2e0988,_0x499b3e=new Date(_0x19ec07[_0x2d3fde(0x212)])[_0x2d3fde(0x115)](),_0xec534c=new Date(_0x19ec07[_0x2d3fde(0xbe)])[_0x2d3fde(0x115)](),_0xa638d8=Math[_0x2d3fde(0x17e)](_0x5a1386,_0x499b3e),_0x1d8538=Math['min'](_0x11c52b,_0xec534c);if(_0xa638d8<_0x1d8538){if(_0xa638d8<=_0x5a1386&&_0x1d8538>=_0x11c52b-0xea60){if(!_0x2d6960[_0x2d3fde(0x166)](_0x2d3fde(0x1eb))){const _0x5d9591=document[_0x2d3fde(0xfd)](_0x2d3fde(0x201));_0x5d9591[_0x2d3fde(0x1d3)]=_0x2d3fde(0xdc),_0x5d9591[_0x2d3fde(0x133)][_0x2d3fde(0x12d)]='-'+_0x1479bb+_0x2d3fde(0x112),_0x2d6960[_0x2d3fde(0xf0)](_0x5d9591);}}else{const _0xf27f93=(_0xa638d8-_0x5a1386)/0x36ee80*GRID_H,_0x3ac432=(_0x1d8538-_0xa638d8)/0x36ee80*GRID_H,_0x84a699=document[_0x2d3fde(0xfd)](_0x2d3fde(0x201));_0x84a699[_0x2d3fde(0x1d3)]=_0x2d3fde(0xe4),_0x84a699[_0x2d3fde(0x133)][_0x2d3fde(0x17b)]=_0xf27f93+'px',_0x84a699[_0x2d3fde(0x133)][_0x2d3fde(0x120)]=_0x3ac432+'px',_0x84a699[_0x2d3fde(0x133)][_0x2d3fde(0x12d)]='-'+_0x1479bb+_0x2d3fde(0x187)+_0xf27f93+'px',_0x2d6960[_0x2d3fde(0xf0)](_0x84a699);}}});}if(dateExceptions[_0x5bf5ba]===_0x2e0988(0x12e)){if(!_0x2d6960[_0x2e0988(0x166)](_0x2e0988(0x1eb))){const _0x3c4263=document['createElement'](_0x2e0988(0x201));_0x3c4263[_0x2e0988(0x1d3)]=_0x2e0988(0xdc),_0x3c4263['style'][_0x2e0988(0x12d)]='-'+_0x1479bb+_0x2e0988(0x112),_0x2d6960['appendChild'](_0x3c4263);}}renderEventsForColumn(_0x2d6960,_0x5bf5ba,_0x5ced10),updateDayStats(_0x5bf5ba);});}function updateAllDayStats(){const _0x22c735=a2_0x1128bc;document[_0x22c735(0x125)](_0x22c735(0xbf))[_0x22c735(0x16c)](_0x255bf9=>{const _0x2962e2=_0x22c735;updateDayStats(_0x255bf9[_0x2962e2(0x232)](_0x2962e2(0x105)));});}function updateDayStats(_0x534703){const _0x431430=a2_0x1128bc,_0x119ca3=document['getElementById'](_0x431430(0x16b)+_0x534703);if(!_0x119ca3)return;const _0xcf6b61=new Date(_0x534703);let _0x4a4b0b=_0xcf6b61[_0x431430(0x191)]()-0x1;if(_0x4a4b0b===-0x1)_0x4a4b0b=0x6;if(dateExceptions[_0x534703]==='off'){_0x119ca3[_0x431430(0x133)]['display']=_0x431430(0x1a5);return;}const _0x2166fb=availabilityPattern[_0x4a4b0b]||[],_0x16fe32=0x18-_0x2166fb[_0x431430(0x144)],_0x473d07=_0x16fe32*0x3c,_0x895a7=sessions[_0x431430(0x216)](_0x1b3a5e=>_0x1b3a5e[_0x431430(0x230)]===_0x534703&&_0x1b3a5e['status']!=='cancelled');if(_0x895a7[_0x431430(0x144)]===0x0){_0x119ca3[_0x431430(0x133)][_0x431430(0x1ca)]=_0x431430(0x1a5);return;}let _0x33ec43=_0x895a7[_0x431430(0x150)](_0x20b118=>{const _0x2c181a=_0x431430,[_0x4c16ea,_0x3a25de]=_0x20b118[_0x2c181a(0x212)][_0x2c181a(0x1e5)](':')[_0x2c181a(0x150)](Number),[_0x3ce3eb,_0x39f302]=_0x20b118[_0x2c181a(0xbe)][_0x2c181a(0x1e5)](':')['map'](Number);return[_0x4c16ea*0x3c+_0x3a25de,_0x3ce3eb*0x3c+_0x39f302];});_0x33ec43[_0x431430(0xea)]((_0x37549d,_0x3d1f60)=>_0x37549d[0x0]-_0x3d1f60[0x0]);let _0x319eff=[];if(_0x33ec43[_0x431430(0x144)]>0x0){let _0x44a9ff=_0x33ec43[0x0];for(let _0x55441f=0x1;_0x55441f<_0x33ec43[_0x431430(0x144)];_0x55441f++){_0x33ec43[_0x55441f][0x0]<_0x44a9ff[0x1]?_0x44a9ff[0x1]=Math['max'](_0x44a9ff[0x1],_0x33ec43[_0x55441f][0x1]):(_0x319eff[_0x431430(0x12b)](_0x44a9ff),_0x44a9ff=_0x33ec43[_0x55441f]);}_0x319eff[_0x431430(0x12b)](_0x44a9ff);}let _0x3d90c7=0x0;_0x319eff[_0x431430(0x16c)](_0x33c151=>_0x3d90c7+=_0x33c151[0x1]-_0x33c151[0x0]),_0x119ca3['style'][_0x431430(0x1ca)]='flex';const _0x38a265=_0x119ca3[_0x431430(0x166)]('.dch-stats-fill');if(_0x473d07===0x0){_0x38a265[_0x431430(0x133)][_0x431430(0x114)]='100%',_0x38a265[_0x431430(0x133)][_0x431430(0x217)]='var(--acc-red)';return;}const _0x1a2948=_0x3d90c7/_0x473d07*0x64;console[_0x431430(0x161)]('['+_0x534703+_0x431430(0x1a7)+_0x16fe32+_0x431430(0x163)+_0x3d90c7+_0x431430(0xe5)+_0x1a2948['toFixed'](0x1)+'%'),_0x1a2948>0x64?(_0x38a265[_0x431430(0x133)][_0x431430(0x114)]=_0x431430(0x14a),_0x38a265[_0x431430(0x133)][_0x431430(0x217)]=_0x431430(0x1b2)):(_0x38a265[_0x431430(0x133)]['width']=_0x1a2948+'%',_0x38a265[_0x431430(0x133)]['background']=_0x431430(0x10d));}function renderEventsForColumn(_0x5e7e11,_0x2ca464,_0x13269d){const _0x53ca1c=a2_0x1128bc,_0x2cccaf=sessions[_0x53ca1c(0x216)](_0x1a50c7=>_0x1a50c7[_0x53ca1c(0x230)]===_0x2ca464),_0x37601c=_0x2cccaf['map'](_0x4bab05=>{const _0xf6ba51=_0x53ca1c,[_0x32bc7f,_0x2ec73b]=_0x4bab05[_0xf6ba51(0x212)][_0xf6ba51(0x1e5)](':')[_0xf6ba51(0x150)](Number),[_0x49d258,_0x4d0a72]=_0x4bab05[_0xf6ba51(0xbe)][_0xf6ba51(0x1e5)](':')['map'](Number);return{'data':_0x4bab05,'start':_0x32bc7f*0x3c+_0x2ec73b,'end':_0x49d258*0x3c+_0x4d0a72,'colIndex':0x0};});_0x37601c[_0x53ca1c(0xea)]((_0x4a3df5,_0x3a74b2)=>{const _0x41d2c3=_0x53ca1c;if(_0x4a3df5[_0x41d2c3(0x212)]!==_0x3a74b2[_0x41d2c3(0x212)])return _0x4a3df5[_0x41d2c3(0x212)]-_0x3a74b2[_0x41d2c3(0x212)];return _0x3a74b2[_0x41d2c3(0xbe)]-_0x3a74b2[_0x41d2c3(0x212)]-(_0x4a3df5[_0x41d2c3(0xbe)]-_0x4a3df5[_0x41d2c3(0x212)]);});const _0x4054a6=[];_0x37601c[_0x53ca1c(0x16c)](_0x28b075=>{const _0x2bcc50=_0x53ca1c;let _0x23502c=![];for(let _0x4025a9=0x0;_0x4025a9<_0x4054a6[_0x2bcc50(0x144)];_0x4025a9++){const _0x24d960=_0x4054a6[_0x4025a9],_0x16e994=_0x24d960[_0x24d960[_0x2bcc50(0x144)]-0x1];if(_0x28b075[_0x2bcc50(0x212)]>=_0x16e994[_0x2bcc50(0xbe)]){_0x24d960[_0x2bcc50(0x12b)](_0x28b075),_0x28b075['colIndex']=_0x4025a9,_0x23502c=!![];break;}}!_0x23502c&&(_0x4054a6[_0x2bcc50(0x12b)]([_0x28b075]),_0x28b075[_0x2bcc50(0x154)]=_0x4054a6[_0x2bcc50(0x144)]-0x1);}),_0x37601c[_0x53ca1c(0x16c)](_0x4efb88=>{const _0x2aca7a=_0x53ca1c;let _0x19b0aa=0x0;_0x37601c[_0x2aca7a(0x16c)](_0x427247=>{const _0x558e47=_0x2aca7a;if(Math['max'](_0x4efb88['start'],_0x427247[_0x558e47(0x212)])<Math[_0x558e47(0x1f5)](_0x4efb88['end'],_0x427247[_0x558e47(0xbe)])){if(_0x427247['colIndex']>_0x19b0aa)_0x19b0aa=_0x427247[_0x558e47(0x154)];}});const _0xd8ea38=_0x19b0aa+0x1,_0xf1b0bf=0x64/_0xd8ea38,_0x3bf306=_0x4efb88[_0x2aca7a(0x154)]*_0xf1b0bf,_0x2a5e65=createEventEl(_0x4efb88[_0x2aca7a(0x22a)]);_0x2a5e65[_0x2aca7a(0x133)][_0x2aca7a(0x114)]=_0x2aca7a(0x195)+_0xf1b0bf+_0x2aca7a(0xd6),_0x2a5e65[_0x2aca7a(0x133)]['left']=_0x2aca7a(0x195)+_0x3bf306+_0x2aca7a(0x139),_0x2a5e65[_0x2aca7a(0x133)][_0x2aca7a(0x20c)]=0xa+_0x4efb88[_0x2aca7a(0x154)],_0xf1b0bf<0x55&&_0x2a5e65[_0x2aca7a(0x1d6)]['add'](_0x2aca7a(0x100)),_0x5e7e11[_0x2aca7a(0xf0)](_0x2a5e65);});}function createEventEl(_0x578534){const _0x25e645=a2_0x1128bc,[_0x55f85c,_0x4e8990]=_0x578534[_0x25e645(0x212)][_0x25e645(0x1e5)](':')[_0x25e645(0x150)](Number),[_0x57055f,_0x3032ae]=_0x578534[_0x25e645(0xbe)][_0x25e645(0x1e5)](':')[_0x25e645(0x150)](Number),_0x35ea66=(_0x55f85c*0x3c+_0x4e8990)/0x3c*GRID_H,_0x1b52a9=(_0x57055f*0x3c+_0x3032ae-(_0x55f85c*0x3c+_0x4e8990))/0x3c*GRID_H,_0x3a7ef0=document[_0x25e645(0xfd)](_0x25e645(0x201)),_0x2e9894=_0x578534[_0x25e645(0x13a)]===_0x25e645(0x18f)?_0x25e645(0xf7):'';_0x3a7ef0[_0x25e645(0x1d3)]=_0x25e645(0x1fe)+_0x2e9894,_0x3a7ef0[_0x25e645(0x133)][_0x25e645(0x17b)]=_0x35ea66+'px',_0x3a7ef0[_0x25e645(0x133)][_0x25e645(0x120)]=Math[_0x25e645(0x17e)](_0x1b52a9,0x14)+'px';const _0x95f582=clients['find'](_0x3f2873=>_0x578534[_0x25e645(0x152)]&&String(_0x3f2873['id'])===String(_0x578534[_0x25e645(0x152)])||_0x3f2873[_0x25e645(0x16a)]===_0x578534[_0x25e645(0x208)]),_0x696c8e=_0x95f582?_0x95f582[_0x25e645(0x1db)]:_0x25e645(0x1fb);_0x3a7ef0[_0x25e645(0x133)][_0x25e645(0x165)]=_0x696c8e,_0x3a7ef0['style'][_0x25e645(0x1e3)]=hexToRgba(_0x696c8e,0.85);let _0x478bdb=_0x25e645(0x1ae)+_0x578534['client']+_0x25e645(0x238)+_0x578534[_0x25e645(0x212)]+'\x20-\x20'+_0x578534[_0x25e645(0xbe)]+_0x25e645(0x1bd);return _0x578534['seriesId']&&(_0x478bdb+=_0x25e645(0x196)),_0x578534[_0x25e645(0x13a)]==='completed'&&(_0x478bdb+=_0x25e645(0xd8)),_0x3a7ef0['innerHTML']=_0x478bdb,_0x3a7ef0[_0x25e645(0x1c2)]=_0x1313ad=>{const _0x18bce9=_0x25e645;_0x1313ad[_0x18bce9(0x129)](),openEdit(_0x578534);},_0x3a7ef0;}function attachLongPressHandler(_0x55cb36,_0x597f07){const _0x686aeb=a2_0x1128bc;let _0xc8c630=0x0,_0xa40c72=null;const _0x357ed4=_0x3aaf5b=>{const _0x57677a=a2_0x5b9f;if(_0x3aaf5b[_0x57677a(0xcc)]['closest'](_0x57677a(0x221)))return;isScrolling=![],_0xc8c630=_0x3aaf5b[_0x57677a(0x225)]?_0x3aaf5b['touches'][0x0]['clientY']:_0x3aaf5b[_0x57677a(0x181)],_0xa40c72=setTimeout(()=>{const _0x423afe=_0x57677a;if(!isScrolling){navigator[_0x423afe(0xfa)]?.(0x32);const _0x52c505=_0x55cb36['getBoundingClientRect'](),_0x5d1aeb=Math[_0x423afe(0x149)]((_0xc8c630-_0x52c505[_0x423afe(0x17b)])/GRID_H);_0x597f07['setHours'](_0x5d1aeb,0x0),openAddSession(_0x597f07);}},0x1f4);},_0x5b826f=()=>{isScrolling=!![],clearTimeout(_0xa40c72);},_0x17d3cf=()=>{clearTimeout(_0xa40c72);};_0x55cb36['addEventListener'](_0x686aeb(0x235),_0x357ed4,{'passive':!![]}),_0x55cb36['addEventListener']('touchmove',_0x5b826f,{'passive':!![]}),_0x55cb36[_0x686aeb(0x1d8)](_0x686aeb(0x171),_0x17d3cf),_0x55cb36[_0x686aeb(0x1d8)](_0x686aeb(0x1c0),_0x357ed4),_0x55cb36[_0x686aeb(0x1d8)](_0x686aeb(0x13c),_0x5b826f),_0x55cb36[_0x686aeb(0x1d8)](_0x686aeb(0xfe),_0x17d3cf);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x455391=a2_0x1128bc,_0x154024=document[_0x455391(0x1d7)](_0x455391(0x23a)),_0x2779db=_0x154024[_0x455391(0x1ed)],_0x3470de=_0x154024['scrollWidth'],_0x29092c=_0x154024[_0x455391(0x11a)];if(_0x3470de-(_0x2779db+_0x29092c)<0x12c){const _0x50d3bb=endOffset;endOffset+=0xe,renderDayRange(_0x50d3bb+0x1,endOffset),reRenderBlocks();}if(_0x2779db<0x12c){const _0x23485a=startOffset;startOffset-=0xe,prependDays(startOffset,_0x23485a-0x1),_0x154024[_0x455391(0x1ed)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x19ecbe,_0x189768){const _0x58580f=a2_0x1128bc,_0x399599=document[_0x58580f(0x1d7)](_0x58580f(0x18a)),_0x23e525=document[_0x58580f(0x1d7)](_0x58580f(0x176)),_0x53617d=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1955ac=new Date();_0x1955ac[_0x58580f(0x1cd)](0x0,0x0,0x0,0x0);const _0x482eda=getLocalDateStr(new Date()),_0x48d2c6=document['createDocumentFragment'](),_0x2df52a=document[_0x58580f(0x189)]();for(let _0x5a5cef=_0x19ecbe;_0x5a5cef<=_0x189768;_0x5a5cef++){const _0x2b11d7=new Date(_0x1955ac);_0x2b11d7['setDate'](_0x2b11d7[_0x58580f(0x19d)]()+_0x5a5cef);const _0x12e577=getLocalDateStr(_0x2b11d7);let _0x56219e=_0x2b11d7[_0x58580f(0x191)]()-0x1;if(_0x56219e===-0x1)_0x56219e=0x6;const _0x115168=_0x12e577===_0x482eda,_0x4d4e0d=document['createElement'](_0x58580f(0x201));_0x4d4e0d['className']=_0x58580f(0x1aa)+(_0x115168?_0x58580f(0xd7):''),_0x4d4e0d['id']=_0x58580f(0x10a)+_0x12e577,_0x4d4e0d[_0x58580f(0xeb)]('data-date',_0x12e577),_0x4d4e0d[_0x58580f(0x106)]=_0x58580f(0xf9)+_0x53617d[_0x56219e]+_0x58580f(0xe6)+_0x2b11d7['getDate']()+_0x58580f(0x1e4)+_0x12e577+_0x58580f(0x12f),_0x4d4e0d[_0x58580f(0x1c2)]=()=>openDayOptions(_0x12e577,_0x53617d[_0x56219e]+'\x20'+_0x2b11d7['getDate']()),_0x48d2c6[_0x58580f(0xf0)](_0x4d4e0d);const _0x20715d=document[_0x58580f(0xfd)](_0x58580f(0x201));_0x20715d['className']='day-column\x20'+(_0x115168?_0x58580f(0xd7):''),_0x20715d[_0x58580f(0xeb)](_0x58580f(0x105),_0x12e577),_0x20715d[_0x58580f(0xeb)](_0x58580f(0x203),_0x56219e),renderEventsForColumn(_0x20715d,_0x12e577,_0x56219e),attachLongPressHandler(_0x20715d,_0x2b11d7),_0x2df52a['appendChild'](_0x20715d),updateDayStats(_0x12e577);}_0x399599[_0x58580f(0x19a)](_0x48d2c6,_0x399599['firstChild']),_0x23e525['insertBefore'](_0x2df52a,_0x23e525[_0x58580f(0x166)](_0x58580f(0x202)));}function validateAppointment(_0xdf3488,_0x11eb1a,_0x487e13,_0x32918f,_0x1b716b){const _0x1ac5ec=a2_0x1128bc,[_0x519e15,_0xe740c8]=_0x11eb1a['split'](':')['map'](Number),[_0x374c07,_0x50eba8]=_0x487e13['split'](':')[_0x1ac5ec(0x150)](Number),_0x487b3e=_0x519e15*0x3c+_0xe740c8,_0x2cea19=_0x374c07*0x3c+_0x50eba8,_0x3a5889=String(_0x1b716b);let _0x500427=![],_0x317975='';for(let _0x43a829 of sessions){if(_0x43a829[_0x1ac5ec(0x230)]!==_0xdf3488)continue;if(_0x43a829['status']==='cancelled')continue;if(_0x32918f&&String(_0x43a829['id'])===String(_0x32918f))continue;const [_0x4b4fd7,_0x409611]=_0x43a829[_0x1ac5ec(0x212)][_0x1ac5ec(0x1e5)](':')[_0x1ac5ec(0x150)](Number),[_0x3e8135,_0x21f96f]=_0x43a829[_0x1ac5ec(0xbe)][_0x1ac5ec(0x1e5)](':')[_0x1ac5ec(0x150)](Number),_0x57ae36=_0x4b4fd7*0x3c+_0x409611,_0x1686cb=_0x3e8135*0x3c+_0x21f96f;if(Math['max'](_0x487b3e,_0x57ae36)<Math[_0x1ac5ec(0x1f5)](_0x2cea19,_0x1686cb)){if(_0x43a829[_0x1ac5ec(0x152)]&&String(_0x43a829[_0x1ac5ec(0x152)])===_0x3a5889)return{'valid':![],'msg':_0x1ac5ec(0x122)+_0x43a829['client']+_0x1ac5ec(0x1de)};_0x500427=!![],_0x317975=_0x43a829[_0x1ac5ec(0x208)];}}if(_0x500427)return{'valid':!![],'warning':'–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20'+_0x317975};return{'valid':!![]};}function updateDateDisplay(){const _0x58c4b4=a2_0x1128bc,_0x4853d4=document[_0x58c4b4(0x1d7)]('inpDate')['value'],_0x2b5c0b=document[_0x58c4b4(0x1d7)](_0x58c4b4(0x228));if(!_0x4853d4){_0x2b5c0b[_0x58c4b4(0x1e2)]='';return;}const [_0x4351d5,_0x50fe04,_0x31f0bc]=_0x4853d4[_0x58c4b4(0x1e5)]('-')[_0x58c4b4(0x150)](Number),_0x149ba3=new Date(_0x4351d5,_0x50fe04-0x1,_0x31f0bc),_0xc44119={'weekday':_0x58c4b4(0x126),'day':'numeric','month':_0x58c4b4(0x126),'year':'numeric'};let _0x337573=_0x149ba3['toLocaleDateString']('ru-RU',_0xc44119);_0x337573=_0x337573[_0x58c4b4(0x10f)](0x0)[_0x58c4b4(0x15e)]()+_0x337573[_0x58c4b4(0x207)](0x1),_0x2b5c0b[_0x58c4b4(0x1e2)]=_0x337573;}function autoSetEndTime(){const _0x29bc47=a2_0x1128bc,_0x43a9c2=document[_0x29bc47(0x1d7)](_0x29bc47(0x17a))[_0x29bc47(0x1b8)];if(!_0x43a9c2)return;const [_0x521041,_0xc9d782]=_0x43a9c2[_0x29bc47(0x1e5)](':')[_0x29bc47(0x150)](Number);let _0x58a25b=_0x521041+0x1;if(_0x58a25b>0x17)_0x58a25b=0x0;const _0x48c5e6=String(_0x58a25b)[_0x29bc47(0x239)](0x2,'0')+':'+String(_0xc9d782)['padStart'](0x2,'0');document[_0x29bc47(0x1d7)]('inpEnd')[_0x29bc47(0x1b8)]=_0x48c5e6;}function populateClientSelect(){const _0x1529b2=a2_0x1128bc,_0x410425=document['getElementById'](_0x1529b2(0x148));_0x410425[_0x1529b2(0x106)]='';if(clients[_0x1529b2(0x144)]===0x0){const _0x13495a=document[_0x1529b2(0xfd)](_0x1529b2(0xf3));_0x13495a[_0x1529b2(0x1fa)]='–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤',_0x410425[_0x1529b2(0xf0)](_0x13495a);return;}clients['forEach'](_0x2639f8=>{const _0x1ef5ef=_0x1529b2,_0x269f9d=document[_0x1ef5ef(0xfd)](_0x1ef5ef(0xf3));_0x269f9d['value']=_0x2639f8[_0x1ef5ef(0x16a)],_0x269f9d[_0x1ef5ef(0x1e2)]=_0x2639f8[_0x1ef5ef(0x16a)],_0x410425[_0x1ef5ef(0xf0)](_0x269f9d);});}function openActionSheet(_0x1a1141){const _0x18dc40=a2_0x1128bc,_0x4a3739=document[_0x18dc40(0x1d7)](_0x18dc40(0x205)),_0x52184a=document['getElementById'](_0x18dc40(0xd9)),_0xfab8bf=document[_0x18dc40(0x1d7)]('asTitle'),_0x3bf262=document[_0x18dc40(0x1d7)](_0x18dc40(0x18c)),_0x2f44d4=document[_0x18dc40(0x1d7)]('asBtnSeries');_0x52184a[_0x18dc40(0x1d6)]['add'](_0x18dc40(0x1ce)),_0x4a3739[_0x18dc40(0x1d6)][_0x18dc40(0x190)]('open');if(_0x1a1141===_0x18dc40(0x211))_0xfab8bf[_0x18dc40(0x1e2)]=_0x18dc40(0xfb),_0x3bf262[_0x18dc40(0x1e2)]='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x3bf262[_0x18dc40(0x1c2)]=()=>{closeActionSheet(),updateSeriesBatch('single',tempSessionData);},_0x2f44d4[_0x18dc40(0x1e2)]='–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ',_0x2f44d4[_0x18dc40(0x1c2)]=()=>{const _0x245a07=_0x18dc40;closeActionSheet(),updateSeriesBatch(_0x245a07(0xcd),tempSessionData);};else _0x1a1141===_0x18dc40(0x14f)&&(_0xfab8bf[_0x18dc40(0x1e2)]=_0x18dc40(0x21f),_0x3bf262[_0x18dc40(0x1e2)]=_0x18dc40(0x226),_0x3bf262[_0x18dc40(0x1d3)]=_0x18dc40(0x157),_0x3bf262[_0x18dc40(0x1c2)]=()=>{const _0x20416f=_0x18dc40;closeActionSheet(),commitDelete('single',sessions[_0x20416f(0xed)](_0x4f34da=>_0x4f34da['id']===editingId));},_0x2f44d4[_0x18dc40(0x1e2)]=_0x18dc40(0xec),_0x2f44d4[_0x18dc40(0x1d3)]=_0x18dc40(0x1f9),_0x2f44d4[_0x18dc40(0x1c2)]=()=>{const _0x19fa06=_0x18dc40;closeActionSheet(),commitDelete(_0x19fa06(0xcd),sessions[_0x19fa06(0xed)](_0x3c6495=>_0x3c6495['id']===editingId));});}function closeActionSheet(){const _0x37e31b=a2_0x1128bc;document[_0x37e31b(0x1d7)]('actionSheet')['classList'][_0x37e31b(0x1f6)](_0x37e31b(0xcb)),document['getElementById'](_0x37e31b(0xd9))[_0x37e31b(0x1d6)]['remove'](_0x37e31b(0x1ce));}function openSettings(){const _0x4b1e9e=a2_0x1128bc;openSheet(_0x4b1e9e(0x21a));}function saveCoachSettings(){const _0x2cbc20=a2_0x1128bc,_0x3fb9b5=document['getElementById'](_0x2cbc20(0x140))[_0x2cbc20(0x1b8)];localStorage[_0x2cbc20(0x185)]('uc_settings_cancel_window',_0x3fb9b5),console[_0x2cbc20(0x161)](_0x2cbc20(0x218),_0x3fb9b5),DataManager[_0x2cbc20(0x23b)](_0x2cbc20(0x173),{'settings':{'cancel_window':_0x3fb9b5}})[_0x2cbc20(0xbd)](_0x4fe4d1=>{const _0x34f434=_0x2cbc20;console['error'](_0x34f434(0x21d),_0x4fe4d1),showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫',![]);});}function loadCoachSettings(){const _0x3c0ab3=a2_0x1128bc,_0x399aca=localStorage[_0x3c0ab3(0x23d)](_0x3c0ab3(0x151));_0x399aca&&(document[_0x3c0ab3(0x1d7)](_0x3c0ab3(0x140))[_0x3c0ab3(0x1b8)]=_0x399aca);}function openRangesSheet(){const _0x241120=a2_0x1128bc;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x241120(0x193));}function addRange(){const _0x5ae795=a2_0x1128bc,_0x3bdfca=document[_0x5ae795(0x1d7)](_0x5ae795(0x15a))[_0x5ae795(0x1b8)],_0x301257=document[_0x5ae795(0x1d7)](_0x5ae795(0x15f))[_0x5ae795(0x1b8)],_0x42390f=document[_0x5ae795(0x1d7)](_0x5ae795(0x12c))[_0x5ae795(0x1b8)],_0x2b3d39=document['getElementById'](_0x5ae795(0xd1))[_0x5ae795(0x1b8)];if(!_0x3bdfca||!_0x301257||!_0x42390f||!_0x2b3d39)return alert(_0x5ae795(0xef));const _0x103d07=_0x3bdfca+'T'+_0x301257,_0x35501b=_0x42390f+'T'+_0x2b3d39;if(_0x103d07>=_0x35501b)return alert('–û—à–∏–±–∫–∞\x20–¥–∞—Ç');specialRanges['push']({'start':_0x103d07,'end':_0x35501b}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x5ae795(0x141)](),DataManager[_0x5ae795(0x23b)]('save_settings',{'settings':{'ranges':specialRanges}});}function deleteRange(_0x43f54c){const _0x3676bc=a2_0x1128bc;specialRanges[_0x3676bc(0x155)](_0x43f54c,0x1),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x3676bc(0x23b)](_0x3676bc(0x173),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x140341=a2_0x1128bc;document[_0x140341(0x1d7)](_0x140341(0x15a))['value']='',document['getElementById'](_0x140341(0x15f))[_0x140341(0x1b8)]=_0x140341(0x14e),document[_0x140341(0x1d7)](_0x140341(0x12c))[_0x140341(0x1b8)]='',document[_0x140341(0x1d7)](_0x140341(0xd1))[_0x140341(0x1b8)]=_0x140341(0xc9);}function renderRangesList(){const _0x44ea13=a2_0x1128bc,_0x41e1ed=document['getElementById']('rangesList');_0x41e1ed[_0x44ea13(0x106)]='';if(!specialRanges['length']){_0x41e1ed[_0x44ea13(0x106)]=_0x44ea13(0x194);return;}specialRanges['forEach']((_0x493304,_0x5c1985)=>{const _0x5000a2=_0x44ea13,_0x1fb9bb=document[_0x5000a2(0xfd)](_0x5000a2(0x201));_0x1fb9bb[_0x5000a2(0x1d3)]=_0x5000a2(0x13e);const _0x491b93=_0x933e75=>{const _0x4084b3=_0x5000a2,_0x4f4f4=new Date(_0x933e75);return _0x4f4f4['getDate']()+'.'+String(_0x4f4f4[_0x4084b3(0x21e)]()+0x1)[_0x4084b3(0x239)](0x2,'0')+'\x20'+String(_0x4f4f4[_0x4084b3(0x223)]())[_0x4084b3(0x239)](0x2,'0')+':'+String(_0x4f4f4[_0x4084b3(0x1ad)]())[_0x4084b3(0x239)](0x2,'0');};_0x1fb9bb['innerHTML']=_0x5000a2(0x213)+_0x491b93(_0x493304[_0x5000a2(0x212)])+'\x20‚Äî\x20'+_0x491b93(_0x493304['end'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange('+_0x5c1985+_0x5000a2(0x118),_0x41e1ed['appendChild'](_0x1fb9bb);});}function scrollToToday(){const _0x38a336=a2_0x1128bc,_0x27e9f9=getLocalDateStr(new Date()),_0x4b048f=document['getElementById'](_0x38a336(0x10a)+_0x27e9f9),_0x321db4=document['getElementById'](_0x38a336(0x23a));if(_0x4b048f&&_0x321db4){const _0xc4df27=_0x321db4[_0x38a336(0x11a)],_0x458be5=_0x4b048f[_0x38a336(0x1f3)],_0x26e92c=_0x4b048f[_0x38a336(0xf2)];_0x321db4[_0x38a336(0x1ed)]=_0x458be5-_0xc4df27/0x2+_0x26e92c/0x2,_0x321db4['scrollTop']=0x9*GRID_H;}}function onScroll(){const _0x3727a0=a2_0x1128bc,_0x4bb65b=document['getElementById'](_0x3727a0(0x23a)),_0x8661c3=document['querySelectorAll'](_0x3727a0(0xbf));for(let _0x978059 of _0x8661c3)if(_0x978059[_0x3727a0(0x1f3)]>=_0x4bb65b['scrollLeft']){const _0x16e8bf=new Date(_0x978059['getAttribute'](_0x3727a0(0x105)));document['getElementById'](_0x3727a0(0x1af))[_0x3727a0(0x1e2)]=_0x16e8bf['toLocaleString']('ru',{'month':_0x3727a0(0x126)})[_0x3727a0(0x15e)]()+'\x20'+_0x16e8bf[_0x3727a0(0x168)]();break;}}function showToast(_0x2ff5d4,_0xf15e17=![]){const _0x231819=a2_0x1128bc,_0x55ccc4=document[_0x231819(0x1d7)]('toast');_0x55ccc4['className']=_0x231819(0xdb)+(_0xf15e17?_0x231819(0xc0):''),document[_0x231819(0x1d7)](_0x231819(0x179))[_0x231819(0x1e2)]=_0xf15e17?_0x231819(0x1df):_0x231819(0xe1),document['getElementById'](_0x231819(0xe7))[_0x231819(0x1e2)]=_0x2ff5d4,_0x55ccc4[_0x231819(0x1d6)][_0x231819(0x190)]('show'),setTimeout(()=>{const _0x3ba6ba=_0x231819;_0x55ccc4[_0x3ba6ba(0x1d6)][_0x3ba6ba(0x1f6)](_0x3ba6ba(0x1b7));},0xbb8);}function openDayOptions(_0x3465b3,_0x29cf1b){const _0x4c45b6=a2_0x1128bc;selectedDayForOptions=_0x3465b3,document[_0x4c45b6(0x1d7)](_0x4c45b6(0x146))[_0x4c45b6(0x1e2)]=_0x29cf1b,openSheet(_0x4c45b6(0x18d));}function toggleDayOff(){const _0x257af7=a2_0x1128bc;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]='off',reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager[_0x257af7(0x23b)](_0x257af7(0x173),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x2244a7=a2_0x1128bc;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x2244a7(0x141)](),DataManager[_0x2244a7(0x23b)](_0x2244a7(0x173),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0xf3346c){const _0x113885=a2_0x1128bc;document[_0x113885(0x1d7)](_0x113885(0x134))[_0x113885(0x1d6)][_0x113885(0x190)](_0x113885(0x1ce)),document[_0x113885(0x1d7)](_0xf3346c)['classList'][_0x113885(0x190)]('open');}function closeAllSheets(){const _0x21bc75=a2_0x1128bc;document[_0x21bc75(0x1d7)]('overlay')[_0x21bc75(0x1d6)]['remove']('active'),document[_0x21bc75(0x125)]('.sheet')['forEach'](_0x24e239=>_0x24e239[_0x21bc75(0x1d6)][_0x21bc75(0x1f6)](_0x21bc75(0xcb)));}function openPatternEditor(){const _0xa75839=a2_0x1128bc;closeAllSheets(),document[_0xa75839(0x1d7)](_0xa75839(0x1e8))[_0xa75839(0x1d6)][_0xa75839(0x190)](_0xa75839(0xcb)),renderPatternEditor();}function closePatternEditor(){const _0x50e5fb=a2_0x1128bc;document[_0x50e5fb(0x1d7)](_0x50e5fb(0x1e8))[_0x50e5fb(0x1d6)]['remove']('open');}function savePattern(){const _0x2e933d=a2_0x1128bc;document[_0x2e933d(0x1d7)](_0x2e933d(0x1e8))[_0x2e933d(0x1d6)][_0x2e933d(0x1f6)](_0x2e933d(0xcb)),reRenderBlocks(),DataManager[_0x2e933d(0x141)](),DataManager[_0x2e933d(0x23b)](_0x2e933d(0x173),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x19e7db=a2_0x1128bc,_0x288c2c=document[_0x19e7db(0x1d7)]('peGrid');_0x288c2c[_0x19e7db(0x106)]='';const _0x1f3edc=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x176dea=document[_0x19e7db(0xfd)](_0x19e7db(0x201));_0x176dea[_0x19e7db(0x1d3)]=_0x19e7db(0x1ab),_0x288c2c[_0x19e7db(0xf0)](_0x176dea),_0x1f3edc[_0x19e7db(0x16c)]((_0x13e6d2,_0x32c9ee)=>{const _0x113f6c=_0x19e7db,_0x2ab6f9=document[_0x113f6c(0xfd)](_0x113f6c(0x201));_0x2ab6f9[_0x113f6c(0x1d3)]='pe-col-header',_0x2ab6f9['innerHTML']=_0x13e6d2+_0x113f6c(0xdd),_0x2ab6f9['onclick']=()=>toggleColPattern(_0x32c9ee),_0x288c2c[_0x113f6c(0xf0)](_0x2ab6f9);});for(let _0x273d58=0x0;_0x273d58<0x18;_0x273d58++){const _0x4a20ca=document[_0x19e7db(0xfd)](_0x19e7db(0x201));_0x4a20ca['className']=_0x19e7db(0x104),_0x4a20ca['innerHTML']=_0x19e7db(0x170)+String(_0x273d58)['padStart'](0x2,'0')+':00',_0x4a20ca[_0x19e7db(0x1c2)]=()=>toggleRowPattern(_0x273d58),_0x288c2c['appendChild'](_0x4a20ca);for(let _0x20bad4=0x0;_0x20bad4<0x7;_0x20bad4++){const _0x2af56a=document['createElement']('div'),_0x19bd26=(availabilityPattern[_0x20bad4]||[])[_0x19e7db(0x1e0)](_0x273d58),_0x34df29=!_0x19bd26;_0x2af56a[_0x19e7db(0x1d3)]=_0x19e7db(0x1bb)+(_0x34df29?_0x19e7db(0x1ce):''),_0x2af56a[_0x19e7db(0x1c2)]=()=>toggleSinglePattern(_0x20bad4,_0x273d58),_0x288c2c['appendChild'](_0x2af56a);}}}function toggleSinglePattern(_0x2c6819,_0x431731){const _0x54954e=a2_0x1128bc;if(!availabilityPattern[_0x2c6819])availabilityPattern[_0x2c6819]=[];const _0x2a5ddb=availabilityPattern[_0x2c6819],_0x21ec4e=_0x2a5ddb[_0x54954e(0xce)](_0x431731);_0x21ec4e===-0x1?_0x2a5ddb['push'](_0x431731):_0x2a5ddb[_0x54954e(0x155)](_0x21ec4e,0x1),renderPatternEditor();}function toggleColPattern(_0x5a50ce){const _0x1ce537=a2_0x1128bc;if(!availabilityPattern[_0x5a50ce])availabilityPattern[_0x5a50ce]=[];const _0x1da2f1=availabilityPattern[_0x5a50ce];_0x1da2f1[_0x1ce537(0x144)]===0x0?availabilityPattern[_0x5a50ce]=Array[_0x1ce537(0x147)]({'length':0x18},(_0xc9a4b8,_0x5df02e)=>_0x5df02e):availabilityPattern[_0x5a50ce]=[],renderPatternEditor();}function toggleRowPattern(_0xf4fdf9){const _0x5686d3=a2_0x1128bc;let _0x1ebc5f=!![];for(let _0x4b3d8f=0x0;_0x4b3d8f<0x7;_0x4b3d8f++){if((availabilityPattern[_0x4b3d8f]||[])[_0x5686d3(0x1e0)](_0xf4fdf9)){_0x1ebc5f=![];break;}}for(let _0xe560fe=0x0;_0xe560fe<0x7;_0xe560fe++){if(!availabilityPattern[_0xe560fe])availabilityPattern[_0xe560fe]=[];const _0x43e0d9=availabilityPattern[_0xe560fe]['indexOf'](_0xf4fdf9);if(_0x1ebc5f){if(_0x43e0d9===-0x1)availabilityPattern[_0xe560fe]['push'](_0xf4fdf9);}else{if(_0x43e0d9!==-0x1)availabilityPattern[_0xe560fe][_0x5686d3(0x155)](_0x43e0d9,0x1);}}renderPatternEditor();}function renderPCol(_0x31dfb7,_0x5c9775){const _0x44dcb0=a2_0x1128bc;_0x31dfb7[_0x44dcb0(0x106)]='';const _0x23f6a1=Math[_0x44dcb0(0x1cb)](_0x31dfb7[_0x44dcb0(0x1f3)]);(availabilityPattern[_0x5c9775]||[])[_0x44dcb0(0x16c)](_0x468664=>{const _0xbdca57=_0x44dcb0,_0x3778f9=document[_0xbdca57(0xfd)](_0xbdca57(0x201));_0x3778f9['className']=_0xbdca57(0x19b);const _0x486b5d=_0x468664*GRID_H;_0x3778f9[_0xbdca57(0x133)][_0xbdca57(0x17b)]=_0x486b5d+'px',_0x3778f9[_0xbdca57(0x133)][_0xbdca57(0x12d)]='-'+_0x23f6a1+_0xbdca57(0x187)+_0x486b5d+'px',_0x3778f9[_0xbdca57(0x1c2)]=_0x31d014=>{const _0x411094=_0xbdca57;_0x31d014[_0x411094(0x129)](),toggleSinglePattern(_0x5c9775,_0x468664);},_0x31dfb7[_0xbdca57(0xf0)](_0x3778f9);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x1be9f6=a2_0x1128bc,_0x23d1b6=new Date(),_0x3bdec8=document[_0x1be9f6(0x1d7)]('globalTimeLine'),_0x187876=document[_0x1be9f6(0x1d7)](_0x1be9f6(0x13f)),_0x7dd070=(_0x23d1b6[_0x1be9f6(0x223)]()*0x3c+_0x23d1b6[_0x1be9f6(0x1ad)]())/0x3c*GRID_H;_0x3bdec8[_0x1be9f6(0x133)][_0x1be9f6(0x17b)]=_0x7dd070+'px',_0x3bdec8[_0x1be9f6(0x133)][_0x1be9f6(0x1ca)]=_0x1be9f6(0x145),_0x187876['textContent']=String(_0x23d1b6[_0x1be9f6(0x223)]())[_0x1be9f6(0x239)](0x2,'0')+':'+String(_0x23d1b6[_0x1be9f6(0x1ad)]())['padStart'](0x2,'0'),_0x187876['style'][_0x1be9f6(0x1ca)]='block',_0x187876[_0x1be9f6(0x133)][_0x1be9f6(0x17b)]=_0x7dd070+'px';}document['addEventListener']('DOMContentLoaded',init);function openDayOptions(_0x5096f0){const _0x11a5b6=a2_0x1128bc;selectedDayForOptions=_0x5096f0;const _0x56b67e=new Date(_0x5096f0),_0x54777b={'weekday':_0x11a5b6(0x126),'day':'numeric','month':_0x11a5b6(0x126),'year':_0x11a5b6(0x108)},_0x3fc8a5=_0x56b67e[_0x11a5b6(0x206)]('ru-RU',_0x54777b);document[_0x11a5b6(0x1d7)](_0x11a5b6(0x16e))[_0x11a5b6(0x1e2)]=_0x3fc8a5[_0x11a5b6(0x10f)](0x0)[_0x11a5b6(0x15e)]()+_0x3fc8a5['slice'](0x1);let _0x332b7a=_0x56b67e[_0x11a5b6(0x191)]()-0x1;if(_0x332b7a===-0x1)_0x332b7a=0x6;const _0x3a9ffa=availabilityPattern[_0x332b7a]||[],_0x16cc83=0x18-_0x3a9ffa[_0x11a5b6(0x144)],_0x13fa5a=_0x16cc83*0x3c,_0x41dcb2=sessions['filter'](_0x35187c=>_0x35187c[_0x11a5b6(0x230)]===_0x5096f0&&_0x35187c[_0x11a5b6(0x13a)]!==_0x11a5b6(0x236));let _0x5de574=_0x41dcb2['map'](_0x1d6535=>{const _0x51e267=_0x11a5b6,[_0xf76946,_0x202f23]=_0x1d6535[_0x51e267(0x212)]['split'](':')[_0x51e267(0x150)](Number),[_0x27cd27,_0x263bbb]=_0x1d6535[_0x51e267(0xbe)][_0x51e267(0x1e5)](':')[_0x51e267(0x150)](Number);return[_0xf76946*0x3c+_0x202f23,_0x27cd27*0x3c+_0x263bbb];});_0x5de574[_0x11a5b6(0xea)]((_0x585522,_0x5bcbcb)=>_0x585522[0x0]-_0x5bcbcb[0x0]);let _0x38edf7=[];if(_0x5de574[_0x11a5b6(0x144)]>0x0){let _0x4e6041=_0x5de574[0x0];for(let _0x59ab4e=0x1;_0x59ab4e<_0x5de574['length'];_0x59ab4e++){_0x5de574[_0x59ab4e][0x0]<_0x4e6041[0x1]?_0x4e6041[0x1]=Math['max'](_0x4e6041[0x1],_0x5de574[_0x59ab4e][0x1]):(_0x38edf7[_0x11a5b6(0x12b)](_0x4e6041),_0x4e6041=_0x5de574[_0x59ab4e]);}_0x38edf7['push'](_0x4e6041);}let _0x2afa70=0x0;_0x38edf7[_0x11a5b6(0x16c)](_0x311762=>_0x2afa70+=_0x311762[0x1]-_0x311762[0x0]),document[_0x11a5b6(0x1d7)](_0x11a5b6(0x15b))[_0x11a5b6(0x1e2)]=formatMinsToHrs(_0x13fa5a),document[_0x11a5b6(0x1d7)]('doBusyHours')[_0x11a5b6(0x1e2)]=formatMinsToHrs(_0x2afa70);const _0x4bdd63=_0x13fa5a>0x0?Math[_0x11a5b6(0x1cb)](_0x2afa70/_0x13fa5a*0x64):0x0,_0x1ed386=document[_0x11a5b6(0x1d7)](_0x11a5b6(0x109));_0x1ed386[_0x11a5b6(0x1e2)]=_0x4bdd63+'%';const _0x2c77dc=document[_0x11a5b6(0x1d7)](_0x11a5b6(0x1e7));if(_0x4bdd63>0x64)_0x1ed386[_0x11a5b6(0x133)][_0x11a5b6(0x1db)]=_0x11a5b6(0x1b2),_0x2c77dc[_0x11a5b6(0x133)][_0x11a5b6(0x1b3)]=_0x11a5b6(0x1b5);else _0x4bdd63>0x50?(_0x1ed386[_0x11a5b6(0x133)][_0x11a5b6(0x1db)]=_0x11a5b6(0x1a6),_0x2c77dc[_0x11a5b6(0x133)][_0x11a5b6(0x1b3)]='rgba(255,\x20159,\x2010,\x200.3)'):(_0x1ed386[_0x11a5b6(0x133)]['color']=_0x11a5b6(0x183),_0x2c77dc[_0x11a5b6(0x133)][_0x11a5b6(0x1b3)]=_0x11a5b6(0x164));const _0x4eae49=document[_0x11a5b6(0x1d7)]('doEventsList');_0x4eae49[_0x11a5b6(0x106)]='';_0x41dcb2['length']===0x0?_0x4eae49[_0x11a5b6(0x106)]='<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>':(_0x41dcb2[_0x11a5b6(0xea)]((_0x59f97a,_0x2c81ae)=>_0x59f97a[_0x11a5b6(0x212)]['localeCompare'](_0x2c81ae['start'])),_0x41dcb2[_0x11a5b6(0x16c)](_0x1fabd9=>{const _0x33f480=_0x11a5b6,_0x4a9a31=clients[_0x33f480(0xed)](_0x27996d=>_0x27996d[_0x33f480(0x16a)]===_0x1fabd9[_0x33f480(0x208)]),_0x259ae2=_0x4a9a31?_0x4a9a31[_0x33f480(0x1db)]:_0x33f480(0x14c),_0x117845=_0x1fabd9[_0x33f480(0x13a)]===_0x33f480(0x18f),_0x3633ec=_0x117845?_0x33f480(0x123):'',_0x409ca6=document['createElement']('div');_0x409ca6[_0x33f480(0x1d3)]=_0x33f480(0x117),_0x409ca6[_0x33f480(0x133)][_0x33f480(0x165)]=_0x259ae2,_0x409ca6[_0x33f480(0x106)]=_0x33f480(0x19e)+_0x1fabd9[_0x33f480(0x212)]+_0x33f480(0x215)+_0x1fabd9[_0x33f480(0xbe)]+_0x33f480(0x197)+_0x1fabd9[_0x33f480(0x208)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3633ec+_0x33f480(0xf1),_0x4eae49[_0x33f480(0xf0)](_0x409ca6);}));const _0x5d675a=document[_0x11a5b6(0x1d7)](_0x11a5b6(0x1cf)),_0x14d3a1=dateExceptions[_0x5096f0]===_0x11a5b6(0x12e);_0x14d3a1?(_0x5d675a[_0x11a5b6(0x1e2)]='–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º',_0x5d675a['className']=_0x11a5b6(0x116),_0x5d675a[_0x11a5b6(0x133)][_0x11a5b6(0x1db)]='var(--acc-green)',_0x5d675a['style'][_0x11a5b6(0x217)]=_0x11a5b6(0x233)):(_0x5d675a['textContent']=_0x11a5b6(0x10c),_0x5d675a[_0x11a5b6(0x1d3)]='btn-primary\x20btn-danger',_0x5d675a[_0x11a5b6(0x133)][_0x11a5b6(0x1db)]=_0x11a5b6(0x1b2),_0x5d675a[_0x11a5b6(0x133)][_0x11a5b6(0x217)]=_0x11a5b6(0x17d)),openSheet(_0x11a5b6(0x18d));}let currentAnPeriod='week';function openAnalytics(){const _0x358274=a2_0x1128bc,_0x353dde=document['querySelector'](_0x358274(0xcf));setAnalyticsPeriod(_0x358274(0x1b4),_0x353dde),closeAllSheets(),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x245105,_0x1aa454){const _0xf9c24f=a2_0x1128bc;currentAnPeriod=_0x245105,document[_0xf9c24f(0x125)](_0xf9c24f(0xcf))['forEach'](_0x242c9f=>_0x242c9f[_0xf9c24f(0x1d6)][_0xf9c24f(0x1f6)]('active'));if(_0x1aa454)_0x1aa454[_0xf9c24f(0x1d6)]['add']('active');const _0x28ea7a=document['getElementById'](_0xf9c24f(0x1c7));_0x28ea7a[_0xf9c24f(0x133)][_0xf9c24f(0x1ca)]=_0x245105==='custom'?'flex':_0xf9c24f(0x1a5);const _0xb70761=new Date();let _0x187ec5=new Date(),_0x2e780b=new Date();if(_0x245105===_0xf9c24f(0x1b4))_0x187ec5=getStartOfWeek(_0xb70761),_0x2e780b=new Date(_0x187ec5),_0x2e780b[_0xf9c24f(0x22d)](_0x2e780b[_0xf9c24f(0x19d)]()+0x6);else{if(_0x245105===_0xf9c24f(0x1b1))_0x187ec5=new Date(_0xb70761[_0xf9c24f(0x168)](),_0xb70761[_0xf9c24f(0x21e)](),0x1),_0x2e780b=new Date(_0xb70761[_0xf9c24f(0x168)](),_0xb70761[_0xf9c24f(0x21e)]()+0x1,0x0);else{!document['getElementById']('anStart')[_0xf9c24f(0x1b8)]&&(document[_0xf9c24f(0x1d7)](_0xf9c24f(0x237))[_0xf9c24f(0x1b8)]=getLocalDateStr(_0xb70761),document[_0xf9c24f(0x1d7)](_0xf9c24f(0xdf))[_0xf9c24f(0x1b8)]=getLocalDateStr(_0xb70761));refreshAnalytics();return;}}document[_0xf9c24f(0x1d7)]('anStart')['value']=getLocalDateStr(_0x187ec5),document[_0xf9c24f(0x1d7)](_0xf9c24f(0xdf))[_0xf9c24f(0x1b8)]=getLocalDateStr(_0x2e780b),refreshAnalytics();}function refreshAnalytics(){const _0x23e23b=a2_0x1128bc,_0x5327b4=document[_0x23e23b(0x1d7)](_0x23e23b(0x237))[_0x23e23b(0x1b8)],_0x5942eb=document['getElementById'](_0x23e23b(0xdf))['value'];if(!_0x5327b4||!_0x5942eb)return;const _0x360e2d=sessions[_0x23e23b(0x216)](_0x10617c=>_0x10617c[_0x23e23b(0x230)]>=_0x5327b4&&_0x10617c['dateStr']<=_0x5942eb&&_0x10617c[_0x23e23b(0x13a)]!==_0x23e23b(0x236)),_0x2173b1=_0x360e2d[_0x23e23b(0x144)],_0x498069=_0x360e2d[_0x23e23b(0x216)](_0x4b0938=>_0x4b0938[_0x23e23b(0x13a)]===_0x23e23b(0x18f))['length'],_0x1c1669=_0x2173b1>0x0?Math[_0x23e23b(0x1cb)](_0x498069/_0x2173b1*0x64):0x0;document[_0x23e23b(0x1d7)](_0x23e23b(0x107))[_0x23e23b(0x1e2)]=_0x1c1669+'%',document[_0x23e23b(0x1d7)](_0x23e23b(0x11e))[_0x23e23b(0x1e2)]=_0x498069+_0x23e23b(0x220)+_0x2173b1+'\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ';const _0x5d7ff3=document[_0x23e23b(0x1d7)](_0x23e23b(0x1ff)),_0x38bf13=0x2*Math['PI']*0x23,_0x407fc7=_0x38bf13-_0x1c1669/0x64*_0x38bf13;_0x5d7ff3[_0x23e23b(0x133)][_0x23e23b(0x1f1)]=_0x407fc7;const _0x50a1b4={};_0x360e2d[_0x23e23b(0x16c)](_0x1355f9=>{const _0x280d71=_0x23e23b;if(!_0x50a1b4[_0x1355f9[_0x280d71(0x208)]]){const _0x44e7bf=clients[_0x280d71(0xed)](_0x3e16a4=>_0x3e16a4[_0x280d71(0x16a)]===_0x1355f9[_0x280d71(0x208)]);_0x50a1b4[_0x1355f9[_0x280d71(0x208)]]={'total':0x0,'done':0x0,'color':_0x44e7bf?_0x44e7bf[_0x280d71(0x1db)]:'#fff'};}_0x50a1b4[_0x1355f9['client']][_0x280d71(0x214)]++;if(_0x1355f9[_0x280d71(0x13a)]==='completed')_0x50a1b4[_0x1355f9[_0x280d71(0x208)]][_0x280d71(0xca)]++;});const _0x131ae9=document[_0x23e23b(0x1d7)](_0x23e23b(0x17c));_0x131ae9[_0x23e23b(0x106)]='';const _0x59bd23=Object[_0x23e23b(0x1e6)](_0x50a1b4)[_0x23e23b(0xea)]((_0x238011,_0x3941e9)=>_0x3941e9[0x1][_0x23e23b(0x214)]-_0x238011[0x1][_0x23e23b(0x214)]);if(_0x59bd23[_0x23e23b(0x144)]===0x0){_0x131ae9[_0x23e23b(0x106)]=_0x23e23b(0x234);return;}_0x59bd23[_0x23e23b(0x16c)](([_0x3f2a1d,_0x4cd17d])=>{const _0x564e75=_0x23e23b,_0xb2c76e=Math[_0x564e75(0x1cb)](_0x4cd17d[_0x564e75(0xca)]/_0x4cd17d[_0x564e75(0x214)]*0x64),_0xf5706e=document[_0x564e75(0xfd)]('div');_0xf5706e[_0x564e75(0x1d3)]=_0x564e75(0xe2),_0xf5706e[_0x564e75(0x133)][_0x564e75(0x165)]=_0x4cd17d[_0x564e75(0x1db)],_0xf5706e[_0x564e75(0x106)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>'+_0x3f2a1d+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x4cd17d['done']+'</span>\x20/\x20'+_0x4cd17d['total']+_0x564e75(0x192)+_0xb2c76e+_0x564e75(0x20f),_0x131ae9[_0x564e75(0xf0)](_0xf5706e);});}function formatMinsToHrs(_0x5cb3ee){const _0x2acab3=a2_0x1128bc;if(_0x5cb3ee===0x0)return'0';const _0x18d128=Math[_0x2acab3(0x149)](_0x5cb3ee/0x3c),_0x415609=_0x5cb3ee%0x3c;if(_0x415609===0x0)return _0x18d128+'—á';return _0x18d128+'—á\x20'+_0x415609+'–º';}