const a2_0x3635e6=a2_0x39e4;(function(_0x1e5c8a,_0x198f2d){const _0x3ca32f=a2_0x39e4,_0x239979=_0x1e5c8a();while(!![]){try{const _0x22fd7f=-parseInt(_0x3ca32f(0x142))/0x1+parseInt(_0x3ca32f(0x187))/0x2+-parseInt(_0x3ca32f(0x19d))/0x3+parseInt(_0x3ca32f(0x205))/0x4*(-parseInt(_0x3ca32f(0x214))/0x5)+parseInt(_0x3ca32f(0x2af))/0x6*(-parseInt(_0x3ca32f(0x1e0))/0x7)+parseInt(_0x3ca32f(0x248))/0x8*(parseInt(_0x3ca32f(0x183))/0x9)+parseInt(_0x3ca32f(0x260))/0xa*(parseInt(_0x3ca32f(0x26f))/0xb);if(_0x22fd7f===_0x198f2d)break;else _0x239979['push'](_0x239979['shift']());}catch(_0x1f5e1d){_0x239979['push'](_0x239979['shift']());}}}(a2_0x3dbe,0xef9c5),function initTMA(){const _0x36223b=a2_0x39e4;try{const _0x386900=window[_0x36223b(0x18a)]?.[_0x36223b(0x22a)];if(!_0x386900)return;_0x386900[_0x36223b(0x1c1)](),_0x386900['expand']();try{_0x386900[_0x36223b(0x243)](_0x36223b(0x280)),_0x386900[_0x36223b(0x1b1)]&&_0x386900[_0x36223b(0x1b1)](_0x36223b(0x280));}catch(_0xc41908){console[_0x36223b(0x177)](_0x36223b(0x1f8),_0xc41908);}try{_0x386900[_0x36223b(0x2a8)]&&(_0x386900[_0x36223b(0x2a8)][_0x36223b(0x271)](),_0x386900[_0x36223b(0x2a8)][_0x36223b(0x1df)](),_0x386900[_0x36223b(0x2a8)][_0x36223b(0x1d2)](function(){const _0x47d52f=_0x36223b;window[_0x47d52f(0x1b7)][_0x47d52f(0x268)]=_0x47d52f(0x28c);}));}catch(_0x224487){console[_0x36223b(0x177)](_0x36223b(0x2be),_0x224487);}try{if(_0x386900[_0x36223b(0x23c)])_0x386900[_0x36223b(0x23c)]();}catch(_0x5558b0){}}catch(_0x4884f3){console[_0x36223b(0x22e)](_0x36223b(0x297),_0x4884f3);}}());function isAdmin(){const _0xe3c985=a2_0x39e4;try{const _0x301524=Number(window[_0xe3c985(0x18a)]?.[_0xe3c985(0x22a)]?.['initDataUnsafe']?.[_0xe3c985(0x145)]?.['id']);return _0x301524===0xbaf7174;}catch(_0x1703f0){return![];}}const APP_VERSION='v9.0-BATCH-CALENDAR',API_URL=a2_0x3635e6(0x1c7),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x3635e6(0x20f),KEY_SESSIONS=a2_0x3635e6(0x1c3),KEY_SETTINGS=a2_0x3635e6(0x21f);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x1d917b=a2_0x3635e6;return window[_0x1d917b(0x18a)]?.['WebApp']?.[_0x1d917b(0x15b)]?.[_0x1d917b(0x145)]?.['id']||_0x1d917b(0x276);},'saveLocally'(){const _0x3a294e=a2_0x3635e6;try{localStorage['setItem'](KEY_CLIENTS,JSON['stringify'](clients)),localStorage[_0x3a294e(0x22b)](KEY_SESSIONS,JSON['stringify'](sessions)),localStorage[_0x3a294e(0x22b)](KEY_SETTINGS,JSON[_0x3a294e(0x290)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x288008){console[_0x3a294e(0x22e)](_0x3a294e(0x160),_0x288008);}},'loadLocal'(){const _0x2cadc2=a2_0x3635e6;try{const _0x50c326=localStorage['getItem'](KEY_CLIENTS);if(_0x50c326)clients=JSON[_0x2cadc2(0x203)](_0x50c326);const _0x4ced53=localStorage['getItem'](KEY_SESSIONS);if(_0x4ced53)sessions=JSON[_0x2cadc2(0x203)](_0x4ced53);const _0x4d82e2=localStorage[_0x2cadc2(0x215)](KEY_SETTINGS);if(_0x4d82e2){const _0x3295d3=JSON[_0x2cadc2(0x203)](_0x4d82e2);if(_0x3295d3[_0x2cadc2(0x26a)])availabilityPattern=_0x3295d3[_0x2cadc2(0x26a)];if(_0x3295d3[_0x2cadc2(0x2a3)])dateExceptions=_0x3295d3[_0x2cadc2(0x2a3)];if(_0x3295d3[_0x2cadc2(0x1ff)])specialRanges=_0x3295d3[_0x2cadc2(0x1ff)];}else{for(let _0x2f7351=0x0;_0x2f7351<0x7;_0x2f7351++)availabilityPattern[_0x2f7351]=Array[_0x2cadc2(0x173)]({'length':0xc},(_0x1fc779,_0x2c239d)=>_0x2c239d+0x9);}}catch(_0x2c56ba){console[_0x2cadc2(0x22e)](_0x2cadc2(0x17c),_0x2c56ba);}},async 'fetchFromServer'(_0x41bedb,_0x1f4b71={}){const _0x2b97cc=a2_0x3635e6,_0x2135a7=window[_0x2b97cc(0x18a)]?.['WebApp'],_0x1c5e73={'action':_0x41bedb,'init_data':_0x2135a7?.['initData']||'',..._0x1f4b71};try{const _0x5883ac=await fetch(API_URL,{'method':_0x2b97cc(0x1e8),'headers':{'Content-Type':_0x2b97cc(0x2ba)},'body':JSON[_0x2b97cc(0x290)](_0x1c5e73)}),_0x89cf98=await _0x5883ac['json']();if(!_0x89cf98['ok'])throw new Error(_0x89cf98[_0x2b97cc(0x22e)]||_0x2b97cc(0x1b6));return _0x89cf98[_0x2b97cc(0x1ea)];}catch(_0x58409a){console[_0x2b97cc(0x22e)](_0x2b97cc(0x2a6)+_0x41bedb+']\x20Failed:',_0x58409a);throw _0x58409a;}},async 'syncLoad'(){const _0x5890e0=a2_0x3635e6,_0x548ce3=new Date(),_0x45dfa3=_0x548ce3[_0x5890e0(0x253)]()+'-'+String(_0x548ce3[_0x5890e0(0x150)]()+0x1)['padStart'](0x2,'0'),_0x4231ff=new Date(_0x548ce3);_0x4231ff[_0x5890e0(0x2b4)](_0x548ce3['getMonth']()+0x1);const _0xf2ba61=_0x4231ff[_0x5890e0(0x253)]()+'-'+String(_0x4231ff[_0x5890e0(0x150)]()+0x1)[_0x5890e0(0x23b)](0x2,'0'),_0x55e563=Date['now']();console[_0x5890e0(0x177)](_0x5890e0(0x16c)+_0x45dfa3+',\x20'+_0xf2ba61+'...');try{const [_0x111f1a,_0x5ad998]=await Promise[_0x5890e0(0x27a)]([this[_0x5890e0(0x1a1)](_0x5890e0(0x27e),{'month_str':_0x45dfa3}),this[_0x5890e0(0x1a1)](_0x5890e0(0x27e),{'month_str':_0xf2ba61})]);if(lastUserActionTime>_0x55e563)return console[_0x5890e0(0x1d8)](_0x5890e0(0x265)),![];return this[_0x5890e0(0x1c5)](_0x111f1a,_0x45dfa3),this['mergeServerData'](_0x5ad998,_0xf2ba61),this[_0x5890e0(0x1be)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x30423e){console[_0x5890e0(0x22e)](_0x30423e);throw _0x30423e;}},'mergeServerData'(_0x301497,_0x495090){const _0x2b1c0a=a2_0x3635e6;if(!_0x301497)return;_0x301497[_0x2b1c0a(0x18f)]&&Array[_0x2b1c0a(0x154)](_0x301497[_0x2b1c0a(0x18f)])&&(clients=_0x301497['clients']);if(_0x301497[_0x2b1c0a(0x285)]){if(_0x301497[_0x2b1c0a(0x285)][_0x2b1c0a(0x26a)])availabilityPattern=_0x301497['settings'][_0x2b1c0a(0x26a)];if(_0x301497[_0x2b1c0a(0x285)]['exceptions'])dateExceptions=_0x301497[_0x2b1c0a(0x285)]['exceptions'];if(_0x301497[_0x2b1c0a(0x285)][_0x2b1c0a(0x1ff)])specialRanges=_0x301497[_0x2b1c0a(0x285)][_0x2b1c0a(0x1ff)];if(_0x301497[_0x2b1c0a(0x285)][_0x2b1c0a(0x1d1)]){localStorage[_0x2b1c0a(0x22b)]('uc_settings_cancel_window',_0x301497[_0x2b1c0a(0x285)]['cancel_window']);const _0x5a9918=document['getElementById'](_0x2b1c0a(0x1b9));if(_0x5a9918)_0x5a9918[_0x2b1c0a(0x22f)]=_0x301497[_0x2b1c0a(0x285)]['cancel_window'];}}_0x301497[_0x2b1c0a(0x2a7)]&&(sessions=sessions[_0x2b1c0a(0x28f)](_0x18dbc4=>!_0x18dbc4[_0x2b1c0a(0x16a)][_0x2b1c0a(0x13f)](_0x495090)),Object['keys'](_0x301497[_0x2b1c0a(0x2a7)])[_0x2b1c0a(0x289)](_0x318f49=>{const _0x3da73d=_0x2b1c0a,_0x2e4b82=_0x301497[_0x3da73d(0x2a7)][_0x318f49];_0x2e4b82[_0x3da73d(0x289)](_0x33fd78=>{const _0x1d7f72=_0x3da73d,_0x12742d=clients[_0x1d7f72(0x226)](_0x519d8c=>String(_0x519d8c['id'])===String(_0x33fd78['c']));sessions[_0x1d7f72(0x27b)]({'id':_0x33fd78['i'],'clientId':_0x33fd78['c'],'client':_0x12742d?_0x12742d[_0x1d7f72(0x19f)]:_0x1d7f72(0x2ad),'dateStr':_0x495090+'-'+_0x318f49['padStart'](0x2,'0'),'start':_0x33fd78['s'],'end':_0x33fd78['e'],'status':_0x33fd78['st']||_0x1d7f72(0x24a),'note':_0x33fd78['n']||'','seriesId':_0x33fd78['sid']||null});});}));},async 'syncBatch'(_0x80991c){const _0x3757de=a2_0x3635e6,_0x49978b=[...new Set(_0x80991c)],_0x2da9f9=_0x49978b[_0x3757de(0x201)](_0x1222ac=>{const _0x349bbc=_0x3757de,_0x4462b0=sessions['filter'](_0x25bf6d=>_0x25bf6d[_0x349bbc(0x16a)]===_0x1222ac&&_0x25bf6d[_0x349bbc(0x19b)]!==_0x349bbc(0x217)),_0x329c49=_0x4462b0['map'](_0x367276=>({'i':_0x367276['id'],'c':_0x367276[_0x349bbc(0x219)],'s':_0x367276[_0x349bbc(0x1b3)],'e':_0x367276[_0x349bbc(0x1e7)],'st':_0x367276[_0x349bbc(0x19b)],'n':_0x367276[_0x349bbc(0x266)],'sid':_0x367276[_0x349bbc(0x2bd)]}));return{'date':_0x1222ac,'day_data':_0x329c49};});if(_0x2da9f9[_0x3757de(0x247)]===0x0)return;console[_0x3757de(0x177)]('[Sync]\x20Pushing\x20batch\x20updates\x20for\x20'+_0x2da9f9[_0x3757de(0x247)]+_0x3757de(0x192)),await this[_0x3757de(0x1a1)]('batch_sync',{'changes':_0x2da9f9});}};async function init(){const _0x23a7d5=a2_0x3635e6;DataManager[_0x23a7d5(0x272)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById'](_0x23a7d5(0x1d0))[_0x23a7d5(0x14b)](_0x23a7d5(0x1e2),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x23a7d5(0x21a)]()[_0x23a7d5(0x1ab)](()=>{const _0x1d549a=_0x23a7d5;showToast(_0x1d549a(0x1fe),!![]);})[_0x23a7d5(0x1ed)](_0x303d73=>{const _0x102d16=_0x23a7d5;showToast(_0x102d16(0x27c),![]);});}function generateId(){const _0x43d212=a2_0x3635e6;return Date['now']()[_0x43d212(0x193)](0x24)+Math['random']()['toString'](0x24)['substr'](0x2,0x5);}function toggleSeriesInput(){const _0x319ab4=a2_0x3635e6,_0x3383a6=document['getElementById']('inpRecurring')[_0x319ab4(0x287)],_0x4a0a4f=document[_0x319ab4(0x2a0)](_0x319ab4(0x2b8));_0x4a0a4f[_0x319ab4(0x1cc)][_0x319ab4(0x1e4)]=_0x3383a6?_0x319ab4(0x158):'none';const _0x58c17e=document[_0x319ab4(0x2a0)](_0x319ab4(0x28a));_0x58c17e[_0x319ab4(0x1cc)][_0x319ab4(0x166)]=_0x3383a6?_0x319ab4(0x23e):_0x319ab4(0x15e);}function openAddSession(_0x54ef27){const _0x26bdef=a2_0x3635e6;editingId=null,populateClientSelect(),document[_0x26bdef(0x2a0)]('sheetTitle')[_0x26bdef(0x216)]=_0x26bdef(0x197),document[_0x26bdef(0x2a0)](_0x26bdef(0x146))[_0x26bdef(0x1cc)]['display']='none',document[_0x26bdef(0x2a0)]('btnStatusToggle')[_0x26bdef(0x1cc)][_0x26bdef(0x1e4)]=_0x26bdef(0x273);const _0x280ce6=document[_0x26bdef(0x2a0)](_0x26bdef(0x28a)),_0x1d12f7=document[_0x26bdef(0x2a0)]('seriesCountContainer');_0x280ce6[_0x26bdef(0x1cc)]['display']=_0x26bdef(0x24b),_0x280ce6['style'][_0x26bdef(0x166)]='10px',document['getElementById'](_0x26bdef(0x1aa))[_0x26bdef(0x287)]=![],document[_0x26bdef(0x2a0)](_0x26bdef(0x19c))[_0x26bdef(0x22f)]=0x4,_0x1d12f7[_0x26bdef(0x1cc)]['display']='none',document[_0x26bdef(0x2a0)](_0x26bdef(0x26b))['value']=getLocalDateStr(_0x54ef27),updateDateDisplay();const _0x1e3294=_0x54ef27[_0x26bdef(0x1f7)]();document[_0x26bdef(0x2a0)]('inpStart')['value']=String(_0x1e3294)['padStart'](0x2,'0')+_0x26bdef(0x25a),document[_0x26bdef(0x2a0)]('inpEnd')[_0x26bdef(0x22f)]=String(_0x1e3294+0x1)[_0x26bdef(0x23b)](0x2,'0')+_0x26bdef(0x25a),openSheet(_0x26bdef(0x20d));}function openEdit(_0x46e155){const _0x3c3041=a2_0x3635e6;editingId=_0x46e155['id'],populateClientSelect(),document[_0x3c3041(0x2a0)](_0x3c3041(0x2a2))[_0x3c3041(0x216)]=_0x3c3041(0x20a),document[_0x3c3041(0x2a0)](_0x3c3041(0x146))[_0x3c3041(0x1cc)]['display']='block';const _0x371355=document[_0x3c3041(0x2a0)](_0x3c3041(0x181));_0x371355[_0x3c3041(0x1cc)][_0x3c3041(0x1e4)]=_0x3c3041(0x24b);_0x46e155[_0x3c3041(0x19b)]==='completed'?(_0x371355[_0x3c3041(0x1e1)]=_0x3c3041(0x1ee),_0x371355['innerHTML']=_0x3c3041(0x270)):(_0x371355[_0x3c3041(0x1e1)]=_0x3c3041(0x1b4),_0x371355[_0x3c3041(0x2a1)]='<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É');const _0x2135ff=!!_0x46e155[_0x3c3041(0x2bd)];document['getElementById']('recurringOptionContainer')[_0x3c3041(0x1cc)][_0x3c3041(0x1e4)]=_0x3c3041(0x273),document['getElementById'](_0x3c3041(0x2b8))[_0x3c3041(0x1cc)][_0x3c3041(0x1e4)]=_0x3c3041(0x273),_0x2135ff?(document[_0x3c3041(0x2a0)](_0x3c3041(0x286))[_0x3c3041(0x1cc)][_0x3c3041(0x1e4)]=_0x3c3041(0x24b),document['getElementById'](_0x3c3041(0x286))[_0x3c3041(0x165)](_0x3c3041(0x29b))['textContent']=_0x3c3041(0x147)):document[_0x3c3041(0x2a0)]('patternInfoBox')[_0x3c3041(0x1cc)][_0x3c3041(0x1e4)]=_0x3c3041(0x273),document[_0x3c3041(0x2a0)]('inpClient')['value']=_0x46e155[_0x3c3041(0x24e)],document['getElementById'](_0x3c3041(0x26b))['value']=_0x46e155[_0x3c3041(0x16a)],document['getElementById'](_0x3c3041(0x298))[_0x3c3041(0x22f)]=_0x46e155[_0x3c3041(0x1b3)],document[_0x3c3041(0x2a0)]('inpEnd')['value']=_0x46e155[_0x3c3041(0x1e7)],document[_0x3c3041(0x2a0)]('inpNote')[_0x3c3041(0x22f)]=_0x46e155['note']||'',updateDateDisplay(),openSheet(_0x3c3041(0x20d));}async function trySaveSession(){const _0x1e334e=a2_0x3635e6,_0x440b04=document[_0x1e334e(0x2a0)](_0x1e334e(0x1ef))[_0x1e334e(0x22f)],_0x24e3c2=document[_0x1e334e(0x2a0)](_0x1e334e(0x26b))['value'],_0x212a52=document[_0x1e334e(0x2a0)](_0x1e334e(0x298))[_0x1e334e(0x22f)],_0xdbb488=document[_0x1e334e(0x2a0)](_0x1e334e(0x274))['value'],_0x4bc491=document['getElementById'](_0x1e334e(0x2b1))[_0x1e334e(0x22f)],_0x271bd6=document[_0x1e334e(0x2a0)](_0x1e334e(0x1aa))[_0x1e334e(0x287)];let _0x5ee878=0x4;if(_0x271bd6){const _0x5396cf=parseInt(document[_0x1e334e(0x2a0)](_0x1e334e(0x19c))[_0x1e334e(0x22f)]);if(!_0x5396cf||_0x5396cf<0x2){showToast(_0x1e334e(0x19a),![]);return;}if(_0x5396cf>0x64){showToast(_0x1e334e(0x169),![]);return;}_0x5ee878=_0x5396cf;}const _0x69928f=clients[_0x1e334e(0x226)](_0x54834d=>_0x54834d[_0x1e334e(0x19f)]===_0x440b04);if(!_0x69928f){showToast(_0x1e334e(0x1ca),![]);return;}const _0x12a546=validateAppointment(_0x24e3c2,_0x212a52,_0xdbb488,editingId,_0x69928f['id']);if(!_0x12a546['valid']){showToast(_0x12a546[_0x1e334e(0x234)],![]);return;}_0x12a546['warning']&&showToast(_0x12a546['warning'],![]);const _0x55b9a0={'client':_0x440b04,'clientId':_0x69928f['id'],'start':_0x212a52,'end':_0xdbb488,'note':_0x4bc491,'status':_0x1e334e(0x24a)},_0x2ededd=editingId?sessions[_0x1e334e(0x226)](_0x56f012=>_0x56f012['id']===editingId):null;if(_0x2ededd&&_0x2ededd[_0x1e334e(0x2bd)]){tempSessionData={..._0x55b9a0,'dateStr':_0x24e3c2,'id':editingId,'seriesId':_0x2ededd[_0x1e334e(0x2bd)]},openActionSheet('save');return;}let _0x381c95=null;if(!editingId)_0x381c95=_0x1e334e(0x233);else{if(_0x2ededd){if(String(_0x2ededd[_0x1e334e(0x219)])!==String(_0x69928f['id']))console[_0x1e334e(0x177)](_0x1e334e(0x1f9)),NotificationManager[_0x1e334e(0x1de)]('cancel',_0x2ededd),_0x381c95=_0x1e334e(0x233);else(_0x2ededd[_0x1e334e(0x1b3)]!==_0x212a52||_0x2ededd[_0x1e334e(0x1e7)]!==_0xdbb488||_0x2ededd[_0x1e334e(0x16a)]!==_0x24e3c2)&&(_0x381c95=_0x1e334e(0x20e));}}if(!editingId&&_0x271bd6){createBatchSeries(_0x55b9a0,_0x24e3c2,_0x5ee878),NotificationManager[_0x1e334e(0x1de)]('create',{..._0x55b9a0,'dateStr':_0x24e3c2});return;}lastUserActionTime=Date[_0x1e334e(0x269)]();const _0x3ca984={..._0x55b9a0,'dateStr':_0x24e3c2,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x3ca984),_0x381c95&&NotificationManager[_0x1e334e(0x1de)](_0x381c95,_0x3ca984);}function toggleSessionStatus(){const _0x4cf5a7=a2_0x3635e6;lastUserActionTime=Date[_0x4cf5a7(0x269)]();const _0x53ff19=sessions['find'](_0x590387=>_0x590387['id']===editingId);if(!_0x53ff19)return;const _0x37be37=_0x53ff19[_0x4cf5a7(0x19b)]===_0x4cf5a7(0x2b5)?_0x4cf5a7(0x24a):'completed';_0x53ff19[_0x4cf5a7(0x19b)]=_0x37be37,saveSingleSession(_0x53ff19),_0x37be37==='completed'&&NotificationManager[_0x4cf5a7(0x1de)](_0x4cf5a7(0x2aa),_0x53ff19),showToast(_0x37be37===_0x4cf5a7(0x2b5)?_0x4cf5a7(0x184):'–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω',!![]);}function validateAppointment(_0x22638a,_0x54e7f5,_0x4a0227,_0x9d17af,_0x59c330){const _0x454506=a2_0x3635e6,[_0x146207,_0x1d56fe]=_0x54e7f5[_0x454506(0x1e5)](':')[_0x454506(0x201)](Number),[_0x4d30dc,_0x41ba3b]=_0x4a0227[_0x454506(0x1e5)](':')[_0x454506(0x201)](Number),_0x3a3bec=_0x146207*0x3c+_0x1d56fe,_0x2093c9=_0x4d30dc*0x3c+_0x41ba3b,_0x46006d=String(_0x59c330);let _0x3d36fe=![],_0x5d22c2='';for(let _0xd17136 of sessions){if(_0xd17136['dateStr']!==_0x22638a)continue;if(_0xd17136[_0x454506(0x19b)]===_0x454506(0x1a2))continue;if(_0x9d17af&&String(_0xd17136['id'])===String(_0x9d17af))continue;const [_0x3acee6,_0xabb21b]=_0xd17136[_0x454506(0x1b3)][_0x454506(0x1e5)](':')[_0x454506(0x201)](Number),[_0x2acc9f,_0xda79d1]=_0xd17136[_0x454506(0x1e7)][_0x454506(0x1e5)](':')[_0x454506(0x201)](Number),_0x21dce5=_0x3acee6*0x3c+_0xabb21b,_0x14e2eb=_0x2acc9f*0x3c+_0xda79d1;if(Math[_0x454506(0x1f3)](_0x3a3bec,_0x21dce5)<Math['min'](_0x2093c9,_0x14e2eb)){if(_0xd17136[_0x454506(0x219)]&&String(_0xd17136['clientId'])===_0x46006d)return{'valid':![],'msg':_0x454506(0x1bf)+_0xd17136[_0x454506(0x24e)]+_0x454506(0x1f6)};_0x3d36fe=!![],_0x5d22c2=_0xd17136[_0x454506(0x24e)];}}if(_0x3d36fe)return{'valid':!![],'warning':_0x454506(0x1fd)+_0x5d22c2};return{'valid':!![]};}function saveSingleSession(_0xcea774){if(editingId){const _0x17ece0=sessions['findIndex'](_0x2000fc=>_0x2000fc['id']===editingId);if(_0x17ece0!==-0x1)sessions[_0x17ece0]=_0xcea774;}else sessions['push'](_0xcea774);afterSaveAction([_0xcea774['dateStr']]);}function createBatchSeries(_0x1114b6,_0x18611c,_0x94c9a){const _0x32ece2=a2_0x3635e6,_0x34da54=generateId(),_0x1f59a1=[],_0x7ae18a=[];let _0x233401=0x0,_0x3ff7ef=new Date(_0x18611c);for(let _0x3fb884=0x0;_0x3fb884<_0x94c9a;_0x3fb884++){const _0x4dbe7d=getLocalDateStr(_0x3ff7ef),_0xfaa191=validateAppointment(_0x4dbe7d,_0x1114b6[_0x32ece2(0x1b3)],_0x1114b6[_0x32ece2(0x1e7)],null,_0x1114b6[_0x32ece2(0x219)]);if(!_0xfaa191[_0x32ece2(0x2b2)])console[_0x32ece2(0x177)](_0x32ece2(0x223)+_0x4dbe7d+_0x32ece2(0x182)),_0x233401++;else{const _0x3f25a8={..._0x1114b6,'id':generateId(),'dateStr':_0x4dbe7d,'seriesId':_0x34da54};_0x7ae18a['push'](_0x3f25a8),_0x1f59a1[_0x32ece2(0x27b)](_0x4dbe7d);}_0x3ff7ef[_0x32ece2(0x188)](_0x3ff7ef[_0x32ece2(0x20b)]()+0x7);}if(_0x7ae18a[_0x32ece2(0x247)]===0x0){showToast(_0x32ece2(0x143),![]);return;}sessions[_0x32ece2(0x27b)](..._0x7ae18a),lastUserActionTime=Date[_0x32ece2(0x269)]();let _0x34d3f2='–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20'+_0x7ae18a[_0x32ece2(0x247)];_0x233401>0x0&&(_0x34d3f2+=_0x32ece2(0x1fc)+_0x233401+')'),showToast(_0x34d3f2,!![]),afterSaveAction(_0x1f59a1);}function updateSeriesBatch(_0x38be54,_0x48762e){const _0x19d5fd=a2_0x3635e6,_0x107671=[],_0x468b11=_0x48762e['seriesId'];if(_0x38be54==='single'){const _0x47cd30={..._0x48762e,'seriesId':null},_0x51d65c=sessions['findIndex'](_0x65cd23=>_0x65cd23['id']===_0x48762e['id']);if(_0x51d65c!==-0x1)sessions[_0x51d65c]=_0x47cd30;_0x107671[_0x19d5fd(0x27b)](_0x47cd30[_0x19d5fd(0x16a)]);}else{if(_0x38be54==='series'){const _0x367b64=_0x48762e[_0x19d5fd(0x16a)];sessions[_0x19d5fd(0x289)]((_0x503aec,_0xeea3d5)=>{const _0x2f9d6f=_0x19d5fd;_0x503aec[_0x2f9d6f(0x2bd)]===_0x468b11&&_0x503aec[_0x2f9d6f(0x16a)]>=_0x367b64&&(sessions[_0xeea3d5]={...sessions[_0xeea3d5],'start':_0x48762e[_0x2f9d6f(0x1b3)],'end':_0x48762e[_0x2f9d6f(0x1e7)],'note':_0x48762e['note'],'client':_0x48762e[_0x2f9d6f(0x24e)],'clientId':_0x48762e[_0x2f9d6f(0x219)]},_0x107671[_0x2f9d6f(0x27b)](_0x503aec[_0x2f9d6f(0x16a)]));});}}afterSaveAction(_0x107671);}function tryDeleteSession(){const _0x5bd12a=a2_0x3635e6,_0x235e0d=sessions[_0x5bd12a(0x226)](_0x463fce=>_0x463fce['id']===editingId);if(!_0x235e0d)return;_0x235e0d[_0x5bd12a(0x2bd)]?openActionSheet(_0x5bd12a(0x218)):commitDelete(_0x5bd12a(0x140),_0x235e0d);}function commitDelete(_0x16fe4c,_0x4e5643){const _0x5048e0=a2_0x3635e6;lastUserActionTime=Date['now'](),NotificationManager[_0x5048e0(0x1de)](_0x5048e0(0x295),_0x4e5643);const _0x152f85=[];if(_0x16fe4c==='single')sessions=sessions[_0x5048e0(0x28f)](_0x2845b4=>_0x2845b4['id']!==_0x4e5643['id']),_0x152f85['push'](_0x4e5643['dateStr']);else{if(_0x16fe4c===_0x5048e0(0x21e)){const _0x150b39=_0x4e5643[_0x5048e0(0x16a)],_0x4813dd=_0x4e5643[_0x5048e0(0x2bd)];sessions[_0x5048e0(0x289)](_0xce9b09=>{const _0x1f401b=_0x5048e0;_0xce9b09['seriesId']===_0x4813dd&&_0xce9b09['dateStr']>=_0x150b39&&_0x152f85[_0x1f401b(0x27b)](_0xce9b09[_0x1f401b(0x16a)]);}),sessions=sessions[_0x5048e0(0x28f)](_0x3b40a5=>!(_0x3b40a5['seriesId']===_0x4813dd&&_0x3b40a5[_0x5048e0(0x16a)]>=_0x150b39));}}afterSaveAction(_0x152f85);}function afterSaveAction(_0x463524){const _0x538acd=a2_0x3635e6;DataManager[_0x538acd(0x1be)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x538acd(0x1a6)](_0x463524)[_0x538acd(0x1ab)](()=>console['log']('Batch\x20Sync\x20OK'))[_0x538acd(0x1ed)](_0x12b2f2=>showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ',![]));}const NotificationManager={'formatDate'(_0x1f4fec){const _0x49832d=a2_0x3635e6,_0x48ed3e=new Date(_0x1f4fec),_0x4b0f2b={'weekday':_0x49832d(0x25e),'day':'numeric','month':_0x49832d(0x25e)};let _0x47f435=_0x48ed3e[_0x49832d(0x246)]('ru-RU',_0x4b0f2b);return _0x47f435[_0x49832d(0x278)](0x0)[_0x49832d(0x196)]()+_0x47f435[_0x49832d(0x178)](0x1);},'getText'(_0x18c617,_0x1b1be1){const _0x165172=a2_0x3635e6,_0x54ba8e=this[_0x165172(0x159)](_0x1b1be1[_0x165172(0x16a)]);switch(_0x18c617){case'create':return'<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a'+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0x54ba8e+'\x0a')+(_0x165172(0x252)+_0x1b1be1['start']+_0x165172(0x2b9)+_0x1b1be1[_0x165172(0x1e7)]+'\x0a\x0a')+_0x165172(0x26c);case _0x165172(0x20e):return _0x165172(0x245)+_0x165172(0x244)+(_0x165172(0x179)+_0x1b1be1['start']+_0x165172(0x2b9)+_0x1b1be1['end']+_0x165172(0x18d))+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0x54ba8e);case'cancel':return _0x165172(0x19e)+(_0x165172(0x2bc)+_0x54ba8e+'\x20('+_0x1b1be1['start']+_0x165172(0x1cb));case _0x165172(0x2aa):return _0x165172(0x167)+_0x165172(0x212)+_0x165172(0x14c);default:return'';}},async 'send'(_0x27337d,_0x337c66){const _0x1db49a=a2_0x3635e6;console[_0x1db49a(0x177)]('[Notify]\x20Attempting\x20to\x20send:',_0x27337d,_0x337c66);if(!_0x337c66){console[_0x1db49a(0x22e)]('[Notify]\x20Error:\x20sessionData\x20is\x20null');return;}const _0x3724b7=String(_0x337c66[_0x1db49a(0x219)]);console['log']('[Notify]\x20Detected\x20Client\x20ID:',_0x3724b7);if(!_0x337c66[_0x1db49a(0x219)]||_0x3724b7===_0x1db49a(0x17b)||_0x3724b7===_0x1db49a(0x1d5)){console['error']('[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!');if(_0x337c66['client']){const _0x1c0aa1=clients[_0x1db49a(0x226)](_0x4e13f1=>_0x4e13f1[_0x1db49a(0x19f)]===_0x337c66[_0x1db49a(0x24e)]);if(_0x1c0aa1)return console[_0x1db49a(0x177)](_0x1db49a(0x141),_0x1c0aa1['id']),this[_0x1db49a(0x1de)](_0x27337d,{..._0x337c66,'clientId':_0x1c0aa1['id']});}return;}if(_0x3724b7['length']<0x5){console[_0x1db49a(0x1d8)](_0x1db49a(0x1bb),_0x3724b7);return;}const _0x2532b6=this[_0x1db49a(0x1d4)](_0x27337d,_0x337c66);if(!_0x2532b6){console[_0x1db49a(0x22e)](_0x1db49a(0x242));return;}console[_0x1db49a(0x177)]('[Notify]\x20Sending\x20to\x20GAS\x20for\x20'+_0x3724b7+_0x1db49a(0x1bd)),DataManager[_0x1db49a(0x1a1)](_0x1db49a(0x29f),{'chatId':_0x3724b7,'text':_0x2532b6})[_0x1db49a(0x1ab)](_0x503ff0=>console[_0x1db49a(0x177)]('[Notify]\x20Server\x20Response:',_0x503ff0))[_0x1db49a(0x1ed)](_0x55ea29=>console[_0x1db49a(0x22e)](_0x1db49a(0x24d),_0x55ea29));}};function getLocalDateStr(_0x4c5edf){const _0x2e912d=a2_0x3635e6,_0x5e6e56=_0x4c5edf[_0x2e912d(0x253)](),_0x36f42f=String(_0x4c5edf[_0x2e912d(0x150)]()+0x1)[_0x2e912d(0x23b)](0x2,'0'),_0x2c7fd8=String(_0x4c5edf[_0x2e912d(0x20b)]())[_0x2e912d(0x23b)](0x2,'0');return _0x5e6e56+'-'+_0x36f42f+'-'+_0x2c7fd8;}function a2_0x3dbe(){const _0x158647=['from','statLoadCard','add','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','log','slice','<b>‚úÖ\x20','stat-','undefined','Local\x20Load\x20Error','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','sheetDateSubtitle','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','touchend','btnStatusToggle',':\x20Client\x20already\x20booked','16353vfgEzB','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','classList','toLocaleString','527576sfTfTl','setDate','Save\x20settings\x20error:','Telegram','.dch-stats-fill','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','</b>\x0a\x0a','px\x20-','clients','.day-col-header','option','\x20days','toString','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','toUpperCase','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','div','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','status','inpSeriesCount','1972626gPCaOI','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','name','timeLineBadge','fetchFromServer','cancelled','numeric','height','<div\x20class=\x22dch-day\x22>','syncBatch','indexOf','as-button\x20danger\x20bold','background','inpRecurring','then','btn-primary\x20btn-secondary','event-card','borderColor','toast-notification\x20','getMinutes','setBackgroundColor','blocked-slot\x20stripe-bg','start','btn-status-toggle','btn-primary\x20btn-danger','Server\x20Error','location','globalTimeLine','settingCancelWindow','onclick','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','...','saveLocally','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','ready','analyticsSheet','uc_sessions_v9','data-day-idx','mergeServerData','top','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','settingsSheet','active','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','style','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','timeColumn','mousemove','matrixViewport','cancel_window','onClick','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','getText','null','open','today','warn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','sort','target','day-off-overlay\x20stripe-bg','send','offClick','7KDejpO','className','scroll','colIndex','display','split','anEnd','end','POST','actionSheet','data','analyticsList','anDonutCircle','catch','btn-status-toggle\x20undo-mode','inpClient','toFixed','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','backgroundColor','max','toastMessage','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','getHours','Error\x20setting\x20color:','[Notify]\x20Client\x20SWAP\x20detected','T23:59:59','#0a84ff','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','ranges','save_settings','map','width','parse','\x20status-completed','153876aLsMCx','daysHeaderTrack','search','done','(((.+)+)+)+$','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','getDate','headerMonth','sessionSheet','update','uc_clients_v9','rangesSheet','rgba(48,\x20209,\x2088,\x200.15)','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','off','165hkrNkS','getItem','textContent','deleted','delete','clientId','syncLoad','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','scrollLeft','splice','series','uc_settings_v9','pe-col-header','overlay','.sheet','[Series]\x20Skipped\x20','touchstart','rangeEndTime','find','px\x200px','<div\x20class=\x22ev-title\x22>','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','WebApp','setItem','rgba(255,255,255,0.05)','custom','error','value','anStart','.day-column','btnDayToggle','create','msg','getBoundingClientRect','clientWidth','getDay','min','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','offsetLeft','padStart','disableVerticalSwipes','T00:00:00','10px\x2010px\x200\x200','</span>\x20/\x20','asBtnSeries','rangeStartDate','[Notify]\x20Error:\x20Text\x20generation\x20failed','setHeaderColor','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','toLocaleDateString','length','5448uKPixd','patternEditor','planned','flex','rgba(255,\x20159,\x2010,\x200.3)','[Notify]\x20Network\x20Failed','client','borderLeftColor','asTitle','color','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','getFullYear','backgroundPosition','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','closest','dayOptionsTitle','apply','#fff',':00','doLoadPercent','\x20-\x20','day-column\x20','long','%\x20+\x202px)','42268270whruko','</div>','dayOptionsSheet','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','100%','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','note','round','href','now','pattern','inpDate','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','floor','11EQloud','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','show','loadLocal','none','inpEnd',':00</span>','guest','querySelectorAll','charAt','pe-time-label','all','push','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','gridColumns','init_load','touches','#050505','client-stat-card','appendChild','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','setHours','settings','patternInfoBox','checked','getAttribute','forEach','recurringOptionContainer','rgba(255,\x2069,\x2058,\x200.15)','router.html','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','scrollWidth','filter','stringify','pe-cell\x20','toastTitle','stopPropagation','insertBefore','cancel','uc_settings_cancel_window','Critical\x20TMA\x20Error:','inpStart','week','zIndex','.pib-text','touchmove','doEventsList','calc(','send_notification','getElementById','innerHTML','sheetTitle','exceptions','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','%\x20-\x204px)','[API\x20','calendar','BackButton','rgba(255,\x2069,\x2058,\x200.3)','complete','rangeEndDate','entries','Unknown','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','9739962NKMTiR','toast','inpNote','valid','remove','setMonth','completed','.period-switch\x20.p-btn','var(--acc-red)','seriesCountContainer','\x20‚Äî\x20','text/plain;charset=UTF-8','month','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','seriesId','Error\x20setting\x20back\x20button:','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','startsWith','single','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','1196201gZnIcD','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','data-date','user','btnDelete','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','strokeDashoffset','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','anTotalStats','addEventListener','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','var(--acc-current)','header-','getMonth','var(--acc-green)','\x20–∏–∑\x20','00:00','isArray','localeCompare','<span>','total','block','formatDate','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','initDataUnsafe','mousedown','getTime','10px','left','Local\x20Save\x20Error','setAttribute','includes','</div><div\x20class=\x22dch-num\x22>','createElement','querySelector','borderRadius','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','dateStr','23:59','[Sync]\x20Loading\x20','–ò–Ω—Ñ–æ','createDocumentFragment','ru-RU','DOMContentLoaded','actionSheetOverlay','doDateHeader'];a2_0x3dbe=function(){return _0x158647;};return a2_0x3dbe();}function getDateStr(_0x535739){const _0x3dbc49=new Date();return _0x3dbc49['setDate'](_0x3dbc49['getDate']()+_0x535739),getLocalDateStr(_0x3dbc49);}function getStartOfWeek(_0x8e746e){const _0x425abc=a2_0x3635e6,_0x4d33d8=(function(){let _0x14abcf=!![];return function(_0x234142,_0x31adb2){const _0x5ada9f=_0x14abcf?function(){const _0x494d0a=a2_0x39e4;if(_0x31adb2){const _0x37d5bb=_0x31adb2[_0x494d0a(0x258)](_0x234142,arguments);return _0x31adb2=null,_0x37d5bb;}}:function(){};return _0x14abcf=![],_0x5ada9f;};}()),_0x934ba5=_0x4d33d8(this,function(){const _0x22e136=a2_0x39e4;return _0x934ba5['toString']()['search'](_0x22e136(0x209))['toString']()['constructor'](_0x934ba5)[_0x22e136(0x207)]('(((.+)+)+)+$');});_0x934ba5();const _0x4ca462=new Date(_0x8e746e),_0x33331e=_0x4ca462['getDay'](),_0x1a51bc=_0x4ca462[_0x425abc(0x20b)]()-_0x33331e+(_0x33331e===0x0?-0x6:0x1);return _0x4ca462[_0x425abc(0x188)](_0x1a51bc),_0x4ca462[_0x425abc(0x284)](0x0,0x0,0x0,0x0),_0x4ca462;}function hexToRgba(_0x39ebeb,_0x4cbe9c){const _0xf59836=a2_0x3635e6;if(!_0x39ebeb)return'rgba(100,100,100,0.5)';let _0xe69e88=0x0,_0x37d174=0x0,_0x16a8d4=0x0;if(_0x39ebeb['length']===0x4)_0xe69e88='0x'+_0x39ebeb[0x1]+_0x39ebeb[0x1],_0x37d174='0x'+_0x39ebeb[0x2]+_0x39ebeb[0x2],_0x16a8d4='0x'+_0x39ebeb[0x3]+_0x39ebeb[0x3];else _0x39ebeb[_0xf59836(0x247)]===0x7&&(_0xe69e88='0x'+_0x39ebeb[0x1]+_0x39ebeb[0x2],_0x37d174='0x'+_0x39ebeb[0x3]+_0x39ebeb[0x4],_0x16a8d4='0x'+_0x39ebeb[0x5]+_0x39ebeb[0x6]);return'rgba('+ +_0xe69e88+',\x20'+ +_0x37d174+',\x20'+ +_0x16a8d4+',\x20'+_0x4cbe9c+')';}function renderTimeColumn(){const _0x22173f=a2_0x3635e6,_0x419c75=document[_0x22173f(0x2a0)](_0x22173f(0x1ce)),_0x9e4678=document[_0x22173f(0x2a0)](_0x22173f(0x1a0));_0x419c75[_0x22173f(0x2a1)]='',_0x419c75[_0x22173f(0x282)](_0x9e4678);for(let _0x3117e2=0x0;_0x3117e2<0x18;_0x3117e2++){const _0xd29a72=document[_0x22173f(0x164)](_0x22173f(0x198));_0xd29a72['className']='time-label';if(_0x3117e2>0x0)_0xd29a72[_0x22173f(0x2a1)]=_0x22173f(0x156)+String(_0x3117e2)[_0x22173f(0x23b)](0x2,'0')+_0x22173f(0x275);_0x419c75[_0x22173f(0x282)](_0xd29a72);}}function renderDayRange(_0x47eed4,_0x590cac){const _0x341628=a2_0x3635e6,_0x106244=document[_0x341628(0x2a0)](_0x341628(0x206)),_0x21ea6d=document[_0x341628(0x2a0)](_0x341628(0x27d)),_0x4171c4=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x2966f4=new Date();_0x2966f4[_0x341628(0x284)](0x0,0x0,0x0,0x0);const _0x9b8a3b=getLocalDateStr(new Date());for(let _0x18001a=_0x47eed4;_0x18001a<=_0x590cac;_0x18001a++){const _0x1f704d=new Date(_0x2966f4);_0x1f704d[_0x341628(0x188)](_0x1f704d['getDate']()+_0x18001a);const _0x109f99=getLocalDateStr(_0x1f704d);let _0x5af534=_0x1f704d[_0x341628(0x237)]()-0x1;if(_0x5af534===-0x1)_0x5af534=0x6;const _0x1a8690=_0x109f99===_0x9b8a3b,_0x3bb9ae=document['createElement'](_0x341628(0x198));_0x3bb9ae[_0x341628(0x1e1)]='day-col-header\x20'+(_0x1a8690?_0x341628(0x1d7):''),_0x3bb9ae['id']=_0x341628(0x14f)+_0x109f99,_0x3bb9ae[_0x341628(0x161)](_0x341628(0x144),_0x109f99),_0x3bb9ae[_0x341628(0x2a1)]=_0x341628(0x1a5)+_0x4171c4[_0x5af534]+_0x341628(0x163)+_0x1f704d['getDate']()+_0x341628(0x1d3)+_0x109f99+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x3bb9ae[_0x341628(0x1ba)]=()=>openDayOptions(_0x109f99,_0x4171c4[_0x5af534]+'\x20'+_0x1f704d[_0x341628(0x20b)]()),_0x106244[_0x341628(0x282)](_0x3bb9ae);const _0x2f4e6b=document[_0x341628(0x164)]('div');_0x2f4e6b[_0x341628(0x1e1)]=_0x341628(0x25d)+(_0x1a8690?_0x341628(0x1d7):''),_0x2f4e6b[_0x341628(0x161)]('data-date',_0x109f99),_0x2f4e6b[_0x341628(0x161)]('data-day-idx',_0x5af534),renderEventsForColumn(_0x2f4e6b,_0x109f99,_0x5af534),attachLongPressHandler(_0x2f4e6b,_0x1f704d),_0x21ea6d['appendChild'](_0x2f4e6b),updateDayStats(_0x109f99);}}function reRenderBlocks(){const _0x3a027b=a2_0x3635e6;document[_0x3a027b(0x277)]('#gridColumns\x20.day-column')[_0x3a027b(0x289)](_0x1a1ee2=>{const _0x2590de=_0x3a027b;_0x1a1ee2[_0x2590de(0x277)](_0x2590de(0x1f1))['forEach'](_0x37e451=>_0x37e451['remove']());const _0x287701=_0x1a1ee2[_0x2590de(0x288)](_0x2590de(0x144)),_0x4244c4=parseInt(_0x1a1ee2[_0x2590de(0x288)](_0x2590de(0x1c4))),_0x5cd515=Math[_0x2590de(0x267)](_0x1a1ee2[_0x2590de(0x23a)]);(availabilityPattern[_0x4244c4]||[])[_0x2590de(0x289)](_0x559882=>{const _0x6ab8d4=_0x2590de,_0x2f1c53=document[_0x6ab8d4(0x164)]('div');_0x2f1c53[_0x6ab8d4(0x1e1)]='blocked-slot\x20stripe-bg';const _0x1cf24c=_0x559882*GRID_H;_0x2f1c53[_0x6ab8d4(0x1cc)][_0x6ab8d4(0x1c6)]=_0x1cf24c+'px',_0x2f1c53[_0x6ab8d4(0x1cc)][_0x6ab8d4(0x254)]='-'+_0x5cd515+_0x6ab8d4(0x18e)+_0x1cf24c+'px',_0x1a1ee2['appendChild'](_0x2f1c53);});if(specialRanges&&specialRanges[_0x2590de(0x247)]>0x0){const _0x5a3fe4=new Date(_0x287701+_0x2590de(0x23d))[_0x2590de(0x15d)](),_0x5ca23f=new Date(_0x287701+_0x2590de(0x1fa))[_0x2590de(0x15d)]();specialRanges[_0x2590de(0x289)](_0x5d6127=>{const _0xfc377b=_0x2590de,_0x3574a3=new Date(_0x5d6127['start'])[_0xfc377b(0x15d)](),_0x1dbcad=new Date(_0x5d6127[_0xfc377b(0x1e7)])[_0xfc377b(0x15d)](),_0x519a10=Math[_0xfc377b(0x1f3)](_0x5a3fe4,_0x3574a3),_0xb9b369=Math[_0xfc377b(0x238)](_0x5ca23f,_0x1dbcad);if(_0x519a10<_0xb9b369){if(_0x519a10<=_0x5a3fe4&&_0xb9b369>=_0x5ca23f-0xea60){if(!_0x1a1ee2[_0xfc377b(0x165)]('.day-off-overlay')){const _0xbe02b1=document[_0xfc377b(0x164)](_0xfc377b(0x198));_0xbe02b1['className']=_0xfc377b(0x1dd),_0xbe02b1[_0xfc377b(0x1cc)]['backgroundPosition']='-'+_0x5cd515+_0xfc377b(0x227),_0x1a1ee2[_0xfc377b(0x282)](_0xbe02b1);}}else{const _0x1c61d2=(_0x519a10-_0x5a3fe4)/0x36ee80*GRID_H,_0x3be17d=(_0xb9b369-_0x519a10)/0x36ee80*GRID_H,_0x52a64c=document[_0xfc377b(0x164)]('div');_0x52a64c['className']='blocked-range-part\x20stripe-bg',_0x52a64c[_0xfc377b(0x1cc)][_0xfc377b(0x1c6)]=_0x1c61d2+'px',_0x52a64c[_0xfc377b(0x1cc)][_0xfc377b(0x1a4)]=_0x3be17d+'px',_0x52a64c[_0xfc377b(0x1cc)][_0xfc377b(0x254)]='-'+_0x5cd515+_0xfc377b(0x18e)+_0x1c61d2+'px',_0x1a1ee2[_0xfc377b(0x282)](_0x52a64c);}}});}if(dateExceptions[_0x287701]==='off'){if(!_0x1a1ee2[_0x2590de(0x165)]('.day-off-overlay')){const _0xbc79ac=document['createElement'](_0x2590de(0x198));_0xbc79ac[_0x2590de(0x1e1)]='day-off-overlay\x20stripe-bg',_0xbc79ac[_0x2590de(0x1cc)]['backgroundPosition']='-'+_0x5cd515+'px\x200px',_0x1a1ee2['appendChild'](_0xbc79ac);}}renderEventsForColumn(_0x1a1ee2,_0x287701,_0x4244c4),updateDayStats(_0x287701);});}function updateAllDayStats(){const _0x303fb6=a2_0x3635e6;document[_0x303fb6(0x277)](_0x303fb6(0x190))[_0x303fb6(0x289)](_0x5bcfba=>{const _0x13fe3a=_0x303fb6;updateDayStats(_0x5bcfba[_0x13fe3a(0x288)]('data-date'));});}function updateDayStats(_0x527432){const _0x466ccd=a2_0x3635e6,_0xdad6a=document[_0x466ccd(0x2a0)](_0x466ccd(0x17a)+_0x527432);if(!_0xdad6a)return;const _0x11314f=new Date(_0x527432);let _0x1acdab=_0x11314f[_0x466ccd(0x237)]()-0x1;if(_0x1acdab===-0x1)_0x1acdab=0x6;if(dateExceptions[_0x527432]==='off'){_0xdad6a[_0x466ccd(0x1cc)]['display']='none';return;}const _0x1fd01b=availabilityPattern[_0x1acdab]||[],_0x186f1a=0x18-_0x1fd01b[_0x466ccd(0x247)],_0x2102e3=_0x186f1a*0x3c,_0x1e5961=sessions[_0x466ccd(0x28f)](_0x14083a=>_0x14083a[_0x466ccd(0x16a)]===_0x527432&&_0x14083a['status']!==_0x466ccd(0x1a2));if(_0x1e5961['length']===0x0){_0xdad6a['style'][_0x466ccd(0x1e4)]='none';return;}let _0x41e635=_0x1e5961[_0x466ccd(0x201)](_0x1cc96a=>{const _0x3e2dd1=_0x466ccd,[_0x57578d,_0x2db9a9]=_0x1cc96a['start'][_0x3e2dd1(0x1e5)](':')['map'](Number),[_0x4d5bb1,_0x50d91e]=_0x1cc96a['end'][_0x3e2dd1(0x1e5)](':')[_0x3e2dd1(0x201)](Number);return[_0x57578d*0x3c+_0x2db9a9,_0x4d5bb1*0x3c+_0x50d91e];});_0x41e635[_0x466ccd(0x1db)]((_0x3c29dd,_0x42f86d)=>_0x3c29dd[0x0]-_0x42f86d[0x0]);let _0x4cf7ea=[];if(_0x41e635[_0x466ccd(0x247)]>0x0){let _0x5e27e6=_0x41e635[0x0];for(let _0x1f6815=0x1;_0x1f6815<_0x41e635['length'];_0x1f6815++){_0x41e635[_0x1f6815][0x0]<_0x5e27e6[0x1]?_0x5e27e6[0x1]=Math[_0x466ccd(0x1f3)](_0x5e27e6[0x1],_0x41e635[_0x1f6815][0x1]):(_0x4cf7ea[_0x466ccd(0x27b)](_0x5e27e6),_0x5e27e6=_0x41e635[_0x1f6815]);}_0x4cf7ea[_0x466ccd(0x27b)](_0x5e27e6);}let _0xe4e0e7=0x0;_0x4cf7ea['forEach'](_0x33f175=>_0xe4e0e7+=_0x33f175[0x1]-_0x33f175[0x0]),_0xdad6a[_0x466ccd(0x1cc)][_0x466ccd(0x1e4)]=_0x466ccd(0x24b);const _0x5a2078=_0xdad6a[_0x466ccd(0x165)](_0x466ccd(0x18b));if(_0x2102e3===0x0){_0x5a2078[_0x466ccd(0x1cc)]['width']=_0x466ccd(0x264),_0x5a2078[_0x466ccd(0x1cc)][_0x466ccd(0x1a9)]=_0x466ccd(0x2b7);return;}const _0x41c08b=_0xe4e0e7/_0x2102e3*0x64;console[_0x466ccd(0x177)]('['+_0x527432+']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20'+_0x186f1a+_0x466ccd(0x176)+_0xe4e0e7+_0x466ccd(0x14d)+_0x41c08b[_0x466ccd(0x1f0)](0x1)+'%'),_0x41c08b>0x64?(_0x5a2078[_0x466ccd(0x1cc)][_0x466ccd(0x202)]=_0x466ccd(0x264),_0x5a2078[_0x466ccd(0x1cc)][_0x466ccd(0x1a9)]='var(--acc-red)'):(_0x5a2078[_0x466ccd(0x1cc)][_0x466ccd(0x202)]=_0x41c08b+'%',_0x5a2078[_0x466ccd(0x1cc)][_0x466ccd(0x1a9)]=_0x466ccd(0x14e));}function renderEventsForColumn(_0x40ee28,_0x105730,_0x10568b){const _0x1a1b72=a2_0x3635e6,_0x1838a4=sessions['filter'](_0x48bfa8=>_0x48bfa8[_0x1a1b72(0x16a)]===_0x105730),_0x4ac27f=_0x1838a4['map'](_0x2b10d4=>{const _0x570d1b=_0x1a1b72,[_0x2f66be,_0x28241c]=_0x2b10d4['start'][_0x570d1b(0x1e5)](':')[_0x570d1b(0x201)](Number),[_0x4c997a,_0xfbb391]=_0x2b10d4[_0x570d1b(0x1e7)]['split'](':')['map'](Number);return{'data':_0x2b10d4,'start':_0x2f66be*0x3c+_0x28241c,'end':_0x4c997a*0x3c+_0xfbb391,'colIndex':0x0};});_0x4ac27f[_0x1a1b72(0x1db)]((_0xcb6b2d,_0x1ab443)=>{const _0x47cdcc=_0x1a1b72;if(_0xcb6b2d[_0x47cdcc(0x1b3)]!==_0x1ab443[_0x47cdcc(0x1b3)])return _0xcb6b2d['start']-_0x1ab443[_0x47cdcc(0x1b3)];return _0x1ab443[_0x47cdcc(0x1e7)]-_0x1ab443[_0x47cdcc(0x1b3)]-(_0xcb6b2d[_0x47cdcc(0x1e7)]-_0xcb6b2d[_0x47cdcc(0x1b3)]);});const _0x1d08ea=[];_0x4ac27f[_0x1a1b72(0x289)](_0x2d4858=>{const _0x447b0c=_0x1a1b72;let _0x2c1a13=![];for(let _0x4f991c=0x0;_0x4f991c<_0x1d08ea[_0x447b0c(0x247)];_0x4f991c++){const _0x227e63=_0x1d08ea[_0x4f991c],_0x95c91a=_0x227e63[_0x227e63['length']-0x1];if(_0x2d4858[_0x447b0c(0x1b3)]>=_0x95c91a[_0x447b0c(0x1e7)]){_0x227e63['push'](_0x2d4858),_0x2d4858['colIndex']=_0x4f991c,_0x2c1a13=!![];break;}}!_0x2c1a13&&(_0x1d08ea[_0x447b0c(0x27b)]([_0x2d4858]),_0x2d4858[_0x447b0c(0x1e3)]=_0x1d08ea[_0x447b0c(0x247)]-0x1);}),_0x4ac27f[_0x1a1b72(0x289)](_0x27c2fd=>{const _0x13967b=_0x1a1b72;let _0x278a7b=0x0;_0x4ac27f['forEach'](_0xfcc99a=>{const _0x4461bd=a2_0x39e4;if(Math[_0x4461bd(0x1f3)](_0x27c2fd['start'],_0xfcc99a[_0x4461bd(0x1b3)])<Math[_0x4461bd(0x238)](_0x27c2fd['end'],_0xfcc99a[_0x4461bd(0x1e7)])){if(_0xfcc99a[_0x4461bd(0x1e3)]>_0x278a7b)_0x278a7b=_0xfcc99a[_0x4461bd(0x1e3)];}});const _0x42f641=_0x278a7b+0x1,_0x341429=0x64/_0x42f641,_0x5962fd=_0x27c2fd['colIndex']*_0x341429,_0x5913cb=createEventEl(_0x27c2fd[_0x13967b(0x1ea)]);_0x5913cb[_0x13967b(0x1cc)]['width']=_0x13967b(0x29e)+_0x341429+_0x13967b(0x2a5),_0x5913cb[_0x13967b(0x1cc)][_0x13967b(0x15f)]=_0x13967b(0x29e)+_0x5962fd+_0x13967b(0x25f),_0x5913cb['style'][_0x13967b(0x29a)]=0xa+_0x27c2fd[_0x13967b(0x1e3)],_0x341429<0x55&&_0x5913cb[_0x13967b(0x185)]['add']('mini'),_0x40ee28[_0x13967b(0x282)](_0x5913cb);});}function createEventEl(_0x3adba1){const _0xe5a02=a2_0x3635e6,[_0x3e71a7,_0x49ce2a]=_0x3adba1[_0xe5a02(0x1b3)][_0xe5a02(0x1e5)](':')[_0xe5a02(0x201)](Number),[_0x429e96,_0x416276]=_0x3adba1[_0xe5a02(0x1e7)]['split'](':')[_0xe5a02(0x201)](Number),_0x2fc7f0=(_0x3e71a7*0x3c+_0x49ce2a)/0x3c*GRID_H,_0x3c325d=(_0x429e96*0x3c+_0x416276-(_0x3e71a7*0x3c+_0x49ce2a))/0x3c*GRID_H,_0x214ebd=document['createElement']('div'),_0x1ef200=_0x3adba1[_0xe5a02(0x19b)]==='completed'?_0xe5a02(0x204):'';_0x214ebd[_0xe5a02(0x1e1)]=_0xe5a02(0x1ad)+_0x1ef200,_0x214ebd['style']['top']=_0x2fc7f0+'px',_0x214ebd[_0xe5a02(0x1cc)][_0xe5a02(0x1a4)]=Math[_0xe5a02(0x1f3)](_0x3c325d,0x14)+'px';const _0x354b48=clients[_0xe5a02(0x226)](_0x2f9c6b=>_0x3adba1[_0xe5a02(0x219)]&&String(_0x2f9c6b['id'])===String(_0x3adba1[_0xe5a02(0x219)])||_0x2f9c6b['name']===_0x3adba1['client']),_0x1e5893=_0x354b48?_0x354b48[_0xe5a02(0x251)]:_0xe5a02(0x1fb);_0x214ebd[_0xe5a02(0x1cc)][_0xe5a02(0x24f)]=_0x1e5893,_0x214ebd[_0xe5a02(0x1cc)][_0xe5a02(0x1f2)]=hexToRgba(_0x1e5893,0.85);let _0x5dd713=_0xe5a02(0x228)+_0x3adba1[_0xe5a02(0x24e)]+'</div><div\x20class=\x22ev-time\x22>'+_0x3adba1['start']+'\x20-\x20'+_0x3adba1['end']+_0xe5a02(0x261);return _0x3adba1['seriesId']&&(_0x5dd713+=_0xe5a02(0x18c)),_0x3adba1[_0xe5a02(0x19b)]===_0xe5a02(0x2b5)&&(_0x5dd713+='<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>'),_0x214ebd[_0xe5a02(0x2a1)]=_0x5dd713,_0x214ebd[_0xe5a02(0x1ba)]=_0xdb5d49=>{const _0x4f4f5=_0xe5a02;_0xdb5d49[_0x4f4f5(0x293)](),openEdit(_0x3adba1);},_0x214ebd;}function attachLongPressHandler(_0x24254a,_0x3dcc3a){const _0x2eaa1e=a2_0x3635e6;let _0x15c506=0x0,_0x35309f=null;const _0x2301c3=_0x206c22=>{const _0x329174=a2_0x39e4;if(_0x206c22[_0x329174(0x1dc)][_0x329174(0x256)]('.event-card'))return;isScrolling=![],_0x15c506=_0x206c22[_0x329174(0x27f)]?_0x206c22[_0x329174(0x27f)][0x0]['clientY']:_0x206c22['clientY'],_0x35309f=setTimeout(()=>{const _0x3f1439=_0x329174;if(!isScrolling){navigator['vibrate']?.(0x32);const _0x355e8a=_0x24254a[_0x3f1439(0x235)](),_0x13d6e8=Math[_0x3f1439(0x26e)]((_0x15c506-_0x355e8a[_0x3f1439(0x1c6)])/GRID_H);_0x3dcc3a[_0x3f1439(0x284)](_0x13d6e8,0x0),openAddSession(_0x3dcc3a);}},0x1f4);},_0x2e3c0f=()=>{isScrolling=!![],clearTimeout(_0x35309f);},_0x818418=()=>{clearTimeout(_0x35309f);};_0x24254a['addEventListener'](_0x2eaa1e(0x224),_0x2301c3,{'passive':!![]}),_0x24254a[_0x2eaa1e(0x14b)](_0x2eaa1e(0x29c),_0x2e3c0f,{'passive':!![]}),_0x24254a[_0x2eaa1e(0x14b)](_0x2eaa1e(0x180),_0x818418),_0x24254a['addEventListener'](_0x2eaa1e(0x15c),_0x2301c3),_0x24254a[_0x2eaa1e(0x14b)](_0x2eaa1e(0x1cf),_0x2e3c0f),_0x24254a[_0x2eaa1e(0x14b)]('mouseup',_0x818418);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x1afe3f=a2_0x3635e6,_0x51de49=document[_0x1afe3f(0x2a0)](_0x1afe3f(0x1d0)),_0x294cd5=_0x51de49[_0x1afe3f(0x21c)],_0x4759d8=_0x51de49[_0x1afe3f(0x28e)],_0x5551a9=_0x51de49[_0x1afe3f(0x236)];if(_0x4759d8-(_0x294cd5+_0x5551a9)<0x12c){const _0x391a10=endOffset;endOffset+=0xe,renderDayRange(_0x391a10+0x1,endOffset),reRenderBlocks();}if(_0x294cd5<0x12c){const _0x5dd086=startOffset;startOffset-=0xe,prependDays(startOffset,_0x5dd086-0x1),_0x51de49[_0x1afe3f(0x21c)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x52fbfa,_0x5a63fb){const _0x58e227=a2_0x3635e6,_0x2075d6=document[_0x58e227(0x2a0)](_0x58e227(0x206)),_0x2f3bfb=document[_0x58e227(0x2a0)]('gridColumns'),_0x408561=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x250256=new Date();_0x250256[_0x58e227(0x284)](0x0,0x0,0x0,0x0);const _0x1b40fa=getLocalDateStr(new Date()),_0x4940fc=document[_0x58e227(0x16e)](),_0x533fb1=document[_0x58e227(0x16e)]();for(let _0xdb2d17=_0x52fbfa;_0xdb2d17<=_0x5a63fb;_0xdb2d17++){const _0x116e0f=new Date(_0x250256);_0x116e0f['setDate'](_0x116e0f['getDate']()+_0xdb2d17);const _0x3cefec=getLocalDateStr(_0x116e0f);let _0x753ddd=_0x116e0f[_0x58e227(0x237)]()-0x1;if(_0x753ddd===-0x1)_0x753ddd=0x6;const _0x32853c=_0x3cefec===_0x1b40fa,_0x3ec72b=document[_0x58e227(0x164)]('div');_0x3ec72b['className']='day-col-header\x20'+(_0x32853c?_0x58e227(0x1d7):''),_0x3ec72b['id']=_0x58e227(0x14f)+_0x3cefec,_0x3ec72b[_0x58e227(0x161)]('data-date',_0x3cefec),_0x3ec72b[_0x58e227(0x2a1)]=_0x58e227(0x1a5)+_0x408561[_0x753ddd]+_0x58e227(0x163)+_0x116e0f[_0x58e227(0x20b)]()+_0x58e227(0x1d3)+_0x3cefec+_0x58e227(0x229),_0x3ec72b['onclick']=()=>openDayOptions(_0x3cefec,_0x408561[_0x753ddd]+'\x20'+_0x116e0f[_0x58e227(0x20b)]()),_0x4940fc[_0x58e227(0x282)](_0x3ec72b);const _0x58c867=document['createElement'](_0x58e227(0x198));_0x58c867[_0x58e227(0x1e1)]=_0x58e227(0x25d)+(_0x32853c?_0x58e227(0x1d7):''),_0x58c867[_0x58e227(0x161)](_0x58e227(0x144),_0x3cefec),_0x58c867[_0x58e227(0x161)](_0x58e227(0x1c4),_0x753ddd),renderEventsForColumn(_0x58c867,_0x3cefec,_0x753ddd),attachLongPressHandler(_0x58c867,_0x116e0f),_0x533fb1[_0x58e227(0x282)](_0x58c867),updateDayStats(_0x3cefec);}_0x2075d6['insertBefore'](_0x4940fc,_0x2075d6['firstChild']),_0x2f3bfb[_0x58e227(0x294)](_0x533fb1,_0x2f3bfb[_0x58e227(0x165)](_0x58e227(0x231)));}function validateAppointment(_0x4c7b7b,_0x4ac6e1,_0x2aff02,_0x4ecb45,_0x379a71){const _0x2d7651=a2_0x3635e6,[_0x11c084,_0x4231f7]=_0x4ac6e1[_0x2d7651(0x1e5)](':')['map'](Number),[_0x235713,_0x3db411]=_0x2aff02[_0x2d7651(0x1e5)](':')[_0x2d7651(0x201)](Number),_0x3496bd=_0x11c084*0x3c+_0x4231f7,_0x2406bb=_0x235713*0x3c+_0x3db411,_0x578eef=String(_0x379a71);let _0xf56aeb=![],_0x3b6a0b='';for(let _0x3098c0 of sessions){if(_0x3098c0[_0x2d7651(0x16a)]!==_0x4c7b7b)continue;if(_0x3098c0[_0x2d7651(0x19b)]===_0x2d7651(0x1a2))continue;if(_0x4ecb45&&String(_0x3098c0['id'])===String(_0x4ecb45))continue;const [_0x11d853,_0x3a3f1b]=_0x3098c0[_0x2d7651(0x1b3)][_0x2d7651(0x1e5)](':')['map'](Number),[_0x4ced7a,_0x3da247]=_0x3098c0[_0x2d7651(0x1e7)]['split'](':')[_0x2d7651(0x201)](Number),_0x1647d9=_0x11d853*0x3c+_0x3a3f1b,_0x1faecd=_0x4ced7a*0x3c+_0x3da247;if(Math[_0x2d7651(0x1f3)](_0x3496bd,_0x1647d9)<Math[_0x2d7651(0x238)](_0x2406bb,_0x1faecd)){if(_0x3098c0['clientId']&&String(_0x3098c0['clientId'])===_0x578eef)return{'valid':![],'msg':_0x2d7651(0x1bf)+_0x3098c0['client']+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0xf56aeb=!![],_0x3b6a0b=_0x3098c0[_0x2d7651(0x24e)];}}if(_0xf56aeb)return{'valid':!![],'warning':_0x2d7651(0x1fd)+_0x3b6a0b};return{'valid':!![]};}function updateDateDisplay(){const _0x1a9055=a2_0x3635e6,_0x158b7b=document[_0x1a9055(0x2a0)]('inpDate')[_0x1a9055(0x22f)],_0x1fabdf=document['getElementById'](_0x1a9055(0x17e));if(!_0x158b7b){_0x1fabdf[_0x1a9055(0x216)]='';return;}const [_0x37a589,_0x7fcae2,_0x395847]=_0x158b7b['split']('-')['map'](Number),_0x31ab43=new Date(_0x37a589,_0x7fcae2-0x1,_0x395847),_0x5cda89={'weekday':_0x1a9055(0x25e),'day':_0x1a9055(0x1a3),'month':_0x1a9055(0x25e),'year':_0x1a9055(0x1a3)};let _0x27c933=_0x31ab43[_0x1a9055(0x246)](_0x1a9055(0x16f),_0x5cda89);_0x27c933=_0x27c933[_0x1a9055(0x278)](0x0)[_0x1a9055(0x196)]()+_0x27c933[_0x1a9055(0x178)](0x1),_0x1fabdf['textContent']=_0x27c933;}function autoSetEndTime(){const _0x1a8133=a2_0x3635e6,_0x29e0c4=document[_0x1a8133(0x2a0)](_0x1a8133(0x298))['value'];if(!_0x29e0c4)return;const [_0x972a81,_0x487b86]=_0x29e0c4[_0x1a8133(0x1e5)](':')[_0x1a8133(0x201)](Number);let _0x4e5389=_0x972a81+0x1;if(_0x4e5389>0x17)_0x4e5389=0x0;const _0xb4e6d9=String(_0x4e5389)[_0x1a8133(0x23b)](0x2,'0')+':'+String(_0x487b86)['padStart'](0x2,'0');document[_0x1a8133(0x2a0)](_0x1a8133(0x274))[_0x1a8133(0x22f)]=_0xb4e6d9;}function populateClientSelect(){const _0x38ab6a=a2_0x3635e6,_0x5e43d8=document['getElementById']('inpClient');_0x5e43d8[_0x38ab6a(0x2a1)]='';if(clients['length']===0x0){const _0x1b0c33=document['createElement'](_0x38ab6a(0x191));_0x1b0c33['text']=_0x38ab6a(0x195),_0x5e43d8['appendChild'](_0x1b0c33);return;}clients[_0x38ab6a(0x289)](_0xf678b8=>{const _0x10846b=_0x38ab6a,_0x1effa2=document[_0x10846b(0x164)](_0x10846b(0x191));_0x1effa2[_0x10846b(0x22f)]=_0xf678b8[_0x10846b(0x19f)],_0x1effa2['textContent']=_0xf678b8[_0x10846b(0x19f)],_0x5e43d8['appendChild'](_0x1effa2);});}function openActionSheet(_0x4d6948){const _0x1b577e=a2_0x3635e6,_0x62f29=document[_0x1b577e(0x2a0)](_0x1b577e(0x1e9)),_0x302be6=document['getElementById'](_0x1b577e(0x171)),_0x3fb1ce=document[_0x1b577e(0x2a0)](_0x1b577e(0x250)),_0x3e8780=document[_0x1b577e(0x2a0)]('asBtnOne'),_0x52d477=document[_0x1b577e(0x2a0)](_0x1b577e(0x240));_0x302be6[_0x1b577e(0x185)][_0x1b577e(0x175)]('active'),_0x62f29[_0x1b577e(0x185)]['add'](_0x1b577e(0x1d6));if(_0x4d6948==='save')_0x3fb1ce[_0x1b577e(0x216)]=_0x1b577e(0x1f5),_0x3e8780[_0x1b577e(0x216)]=_0x1b577e(0x26d),_0x3e8780[_0x1b577e(0x1ba)]=()=>{const _0x4286c4=_0x1b577e;closeActionSheet(),updateSeriesBatch(_0x4286c4(0x140),tempSessionData);},_0x52d477['textContent']=_0x1b577e(0x13e),_0x52d477[_0x1b577e(0x1ba)]=()=>{const _0x19c2e8=_0x1b577e;closeActionSheet(),updateSeriesBatch(_0x19c2e8(0x21e),tempSessionData);};else _0x4d6948===_0x1b577e(0x218)&&(_0x3fb1ce[_0x1b577e(0x216)]='–£–¥–∞–ª–µ–Ω–∏–µ',_0x3e8780[_0x1b577e(0x216)]='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x3e8780[_0x1b577e(0x1e1)]='as-button\x20danger',_0x3e8780[_0x1b577e(0x1ba)]=()=>{const _0x124a7e=_0x1b577e;closeActionSheet(),commitDelete(_0x124a7e(0x140),sessions[_0x124a7e(0x226)](_0x2be582=>_0x2be582['id']===editingId));},_0x52d477['textContent']=_0x1b577e(0x13e),_0x52d477['className']=_0x1b577e(0x1a8),_0x52d477['onclick']=()=>{const _0xbccb68=_0x1b577e;closeActionSheet(),commitDelete(_0xbccb68(0x21e),sessions['find'](_0x1c9c9d=>_0x1c9c9d['id']===editingId));});}function closeActionSheet(){const _0x31a683=a2_0x3635e6;document[_0x31a683(0x2a0)](_0x31a683(0x1e9))[_0x31a683(0x185)]['remove']('open'),document[_0x31a683(0x2a0)](_0x31a683(0x171))[_0x31a683(0x185)][_0x31a683(0x2b3)](_0x31a683(0x1c9));}function openSettings(){const _0x541eaf=a2_0x3635e6;openSheet(_0x541eaf(0x1c8));}function a2_0x39e4(_0x1d8179,_0x3a84b5){_0x1d8179=_0x1d8179-0x13e;const _0x51b275=a2_0x3dbe();let _0x4860d1=_0x51b275[_0x1d8179];return _0x4860d1;}function saveCoachSettings(){const _0x4f2981=a2_0x3635e6,_0x4c7165=document['getElementById'](_0x4f2981(0x1b9))[_0x4f2981(0x22f)];localStorage[_0x4f2981(0x22b)]('uc_settings_cancel_window',_0x4c7165),console[_0x4f2981(0x177)]('[Settings]\x20Cancel\x20window\x20set\x20to:',_0x4c7165),DataManager[_0x4f2981(0x1a1)]('save_settings',{'settings':{'cancel_window':_0x4c7165}})['catch'](_0x2021a7=>{const _0x3cfc3c=_0x4f2981;console[_0x3cfc3c(0x22e)](_0x3cfc3c(0x189),_0x2021a7),showToast(_0x3cfc3c(0x17d),![]);});}function loadCoachSettings(){const _0x59d07b=a2_0x3635e6,_0x35edef=localStorage[_0x59d07b(0x215)](_0x59d07b(0x296));_0x35edef&&(document[_0x59d07b(0x2a0)](_0x59d07b(0x1b9))[_0x59d07b(0x22f)]=_0x35edef);}function openRangesSheet(){const _0x230d1e=a2_0x3635e6;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x230d1e(0x210));}function addRange(){const _0x46558f=a2_0x3635e6,_0x23ee83=document[_0x46558f(0x2a0)](_0x46558f(0x241))['value'],_0x577d0a=document[_0x46558f(0x2a0)]('rangeStartTime')[_0x46558f(0x22f)],_0x2f61ad=document[_0x46558f(0x2a0)](_0x46558f(0x2ab))[_0x46558f(0x22f)],_0x312ac0=document[_0x46558f(0x2a0)](_0x46558f(0x225))[_0x46558f(0x22f)];if(!_0x23ee83||!_0x577d0a||!_0x2f61ad||!_0x312ac0)return alert(_0x46558f(0x1c0));const _0x5e26df=_0x23ee83+'T'+_0x577d0a,_0x1b54c7=_0x2f61ad+'T'+_0x312ac0;if(_0x5e26df>=_0x1b54c7)return alert('–û—à–∏–±–∫–∞\x20–¥–∞—Ç');specialRanges[_0x46558f(0x27b)]({'start':_0x5e26df,'end':_0x1b54c7}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x46558f(0x1be)](),DataManager['fetchFromServer'](_0x46558f(0x200),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x28567b){const _0x4562e9=a2_0x3635e6;specialRanges[_0x4562e9(0x21d)](_0x28567b,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x4562e9(0x1be)](),DataManager[_0x4562e9(0x1a1)](_0x4562e9(0x200),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0xb0935=a2_0x3635e6;document[_0xb0935(0x2a0)](_0xb0935(0x241))[_0xb0935(0x22f)]='',document[_0xb0935(0x2a0)]('rangeStartTime')['value']=_0xb0935(0x153),document[_0xb0935(0x2a0)]('rangeEndDate')[_0xb0935(0x22f)]='',document[_0xb0935(0x2a0)](_0xb0935(0x225))[_0xb0935(0x22f)]=_0xb0935(0x16b);}function renderRangesList(){const _0x3016ee=a2_0x3635e6,_0x211b1a=document['getElementById']('rangesList');_0x211b1a['innerHTML']='';if(!specialRanges['length']){_0x211b1a['innerHTML']=_0x3016ee(0x2a4);return;}specialRanges[_0x3016ee(0x289)]((_0x2dcea2,_0x5c3bb9)=>{const _0x1b15ee=_0x3016ee,_0x1e00bc=document[_0x1b15ee(0x164)](_0x1b15ee(0x198));_0x1e00bc[_0x1b15ee(0x1e1)]='range-item';const _0x7732ac=_0x2e74f0=>{const _0x44b5b2=_0x1b15ee,_0x4174e1=new Date(_0x2e74f0);return _0x4174e1[_0x44b5b2(0x20b)]()+'.'+String(_0x4174e1['getMonth']()+0x1)[_0x44b5b2(0x23b)](0x2,'0')+'\x20'+String(_0x4174e1[_0x44b5b2(0x1f7)]())[_0x44b5b2(0x23b)](0x2,'0')+':'+String(_0x4174e1['getMinutes']())[_0x44b5b2(0x23b)](0x2,'0');};_0x1e00bc['innerHTML']=_0x1b15ee(0x255)+_0x7732ac(_0x2dcea2[_0x1b15ee(0x1b3)])+_0x1b15ee(0x2b9)+_0x7732ac(_0x2dcea2[_0x1b15ee(0x1e7)])+_0x1b15ee(0x149)+_0x5c3bb9+')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>',_0x211b1a[_0x1b15ee(0x282)](_0x1e00bc);});}function scrollToToday(){const _0x4a0209=a2_0x3635e6,_0x4d473c=getLocalDateStr(new Date()),_0x56326b=document[_0x4a0209(0x2a0)](_0x4a0209(0x14f)+_0x4d473c),_0x19e6ec=document[_0x4a0209(0x2a0)]('matrixViewport');if(_0x56326b&&_0x19e6ec){const _0x1e25ba=_0x19e6ec[_0x4a0209(0x236)],_0x5579a7=_0x56326b[_0x4a0209(0x23a)],_0x5a9664=_0x56326b['offsetWidth'];_0x19e6ec['scrollLeft']=_0x5579a7-_0x1e25ba/0x2+_0x5a9664/0x2,_0x19e6ec['scrollTop']=0x9*GRID_H;}}function onScroll(){const _0x86d86d=a2_0x3635e6,_0x3964fd=document[_0x86d86d(0x2a0)]('matrixViewport'),_0x5cc02d=document['querySelectorAll']('.day-col-header');for(let _0xaa8194 of _0x5cc02d)if(_0xaa8194['offsetLeft']>=_0x3964fd['scrollLeft']){const _0x283abe=new Date(_0xaa8194['getAttribute']('data-date'));document['getElementById'](_0x86d86d(0x20c))[_0x86d86d(0x216)]=_0x283abe[_0x86d86d(0x186)]('ru',{'month':_0x86d86d(0x25e)})[_0x86d86d(0x196)]()+'\x20'+_0x283abe[_0x86d86d(0x253)]();break;}}function showToast(_0x1a3ffb,_0x2cdecd=![]){const _0x3ac34f=a2_0x3635e6,_0x2e257d=document['getElementById'](_0x3ac34f(0x2b0));_0x2e257d['className']=_0x3ac34f(0x1af)+(_0x2cdecd?'success':''),document[_0x3ac34f(0x2a0)](_0x3ac34f(0x292))[_0x3ac34f(0x216)]=_0x2cdecd?'–£—Å–ø–µ—à–Ω–æ':_0x3ac34f(0x16d),document[_0x3ac34f(0x2a0)](_0x3ac34f(0x1f4))['textContent']=_0x1a3ffb,_0x2e257d[_0x3ac34f(0x185)][_0x3ac34f(0x175)](_0x3ac34f(0x271)),setTimeout(()=>{const _0x43036c=_0x3ac34f;_0x2e257d['classList'][_0x43036c(0x2b3)](_0x43036c(0x271));},0xbb8);}function openDayOptions(_0xb11ada,_0x5f28f2){const _0x27dc28=a2_0x3635e6;selectedDayForOptions=_0xb11ada,document[_0x27dc28(0x2a0)](_0x27dc28(0x257))[_0x27dc28(0x216)]=_0x5f28f2,openSheet(_0x27dc28(0x262));}function toggleDayOff(){const _0x1c450e=a2_0x3635e6;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x1c450e(0x213),reRenderBlocks(),closeAllSheets(),DataManager[_0x1c450e(0x1be)](),DataManager[_0x1c450e(0x1a1)]('save_settings',{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x3c78d6=a2_0x3635e6;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x3c78d6(0x1be)](),DataManager[_0x3c78d6(0x1a1)](_0x3c78d6(0x200),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x1f4a46){const _0x26b269=a2_0x3635e6;document[_0x26b269(0x2a0)](_0x26b269(0x221))[_0x26b269(0x185)][_0x26b269(0x175)](_0x26b269(0x1c9)),document[_0x26b269(0x2a0)](_0x1f4a46)[_0x26b269(0x185)][_0x26b269(0x175)]('open');}function closeAllSheets(){const _0x4f0019=a2_0x3635e6;document[_0x4f0019(0x2a0)](_0x4f0019(0x221))[_0x4f0019(0x185)]['remove'](_0x4f0019(0x1c9)),document[_0x4f0019(0x277)](_0x4f0019(0x222))[_0x4f0019(0x289)](_0x154a6d=>_0x154a6d[_0x4f0019(0x185)][_0x4f0019(0x2b3)]('open'));}function openPatternEditor(){const _0x2d97a0=a2_0x3635e6;closeAllSheets(),document[_0x2d97a0(0x2a0)]('patternEditor')[_0x2d97a0(0x185)][_0x2d97a0(0x175)](_0x2d97a0(0x1d6)),renderPatternEditor();}function closePatternEditor(){const _0xc75482=a2_0x3635e6;document[_0xc75482(0x2a0)](_0xc75482(0x249))[_0xc75482(0x185)][_0xc75482(0x2b3)]('open');}function savePattern(){const _0x2ff8f3=a2_0x3635e6;document[_0x2ff8f3(0x2a0)](_0x2ff8f3(0x249))[_0x2ff8f3(0x185)]['remove'](_0x2ff8f3(0x1d6)),reRenderBlocks(),DataManager[_0x2ff8f3(0x1be)](),DataManager[_0x2ff8f3(0x1a1)](_0x2ff8f3(0x200),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x7c72be=a2_0x3635e6,_0x571aae=document[_0x7c72be(0x2a0)]('peGrid');_0x571aae[_0x7c72be(0x2a1)]='';const _0x8865b7=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x2f8196=document[_0x7c72be(0x164)](_0x7c72be(0x198));_0x2f8196[_0x7c72be(0x1e1)]='pe-corner',_0x571aae[_0x7c72be(0x282)](_0x2f8196),_0x8865b7[_0x7c72be(0x289)]((_0x561c51,_0x4396a3)=>{const _0x528230=_0x7c72be,_0x689361=document[_0x528230(0x164)](_0x528230(0x198));_0x689361[_0x528230(0x1e1)]=_0x528230(0x220),_0x689361[_0x528230(0x2a1)]=_0x561c51+'\x20<span\x20class=\x22arrow\x22>‚Üì</span>',_0x689361[_0x528230(0x1ba)]=()=>toggleColPattern(_0x4396a3),_0x571aae[_0x528230(0x282)](_0x689361);});for(let _0x102dd5=0x0;_0x102dd5<0x18;_0x102dd5++){const _0x105030=document[_0x7c72be(0x164)](_0x7c72be(0x198));_0x105030[_0x7c72be(0x1e1)]=_0x7c72be(0x279),_0x105030[_0x7c72be(0x2a1)]=_0x7c72be(0x21b)+String(_0x102dd5)['padStart'](0x2,'0')+_0x7c72be(0x25a),_0x105030[_0x7c72be(0x1ba)]=()=>toggleRowPattern(_0x102dd5),_0x571aae[_0x7c72be(0x282)](_0x105030);for(let _0x2b963f=0x0;_0x2b963f<0x7;_0x2b963f++){const _0x10c0c5=document['createElement']('div'),_0x463f3f=(availabilityPattern[_0x2b963f]||[])[_0x7c72be(0x162)](_0x102dd5),_0x18277b=!_0x463f3f;_0x10c0c5[_0x7c72be(0x1e1)]=_0x7c72be(0x291)+(_0x18277b?_0x7c72be(0x1c9):''),_0x10c0c5['onclick']=()=>toggleSinglePattern(_0x2b963f,_0x102dd5),_0x571aae['appendChild'](_0x10c0c5);}}}function toggleSinglePattern(_0x2b43de,_0x219e22){const _0x430059=a2_0x3635e6;if(!availabilityPattern[_0x2b43de])availabilityPattern[_0x2b43de]=[];const _0x14a2db=availabilityPattern[_0x2b43de],_0x361cce=_0x14a2db[_0x430059(0x1a7)](_0x219e22);_0x361cce===-0x1?_0x14a2db[_0x430059(0x27b)](_0x219e22):_0x14a2db[_0x430059(0x21d)](_0x361cce,0x1),renderPatternEditor();}function toggleColPattern(_0x202b11){const _0x3b90fa=a2_0x3635e6;if(!availabilityPattern[_0x202b11])availabilityPattern[_0x202b11]=[];const _0x3a8c96=availabilityPattern[_0x202b11];_0x3a8c96[_0x3b90fa(0x247)]===0x0?availabilityPattern[_0x202b11]=Array[_0x3b90fa(0x173)]({'length':0x18},(_0x3c37a9,_0xd3c49b)=>_0xd3c49b):availabilityPattern[_0x202b11]=[],renderPatternEditor();}function toggleRowPattern(_0x4a39ac){const _0x1486d1=a2_0x3635e6;let _0x3bc613=!![];for(let _0x4d9803=0x0;_0x4d9803<0x7;_0x4d9803++){if((availabilityPattern[_0x4d9803]||[])['includes'](_0x4a39ac)){_0x3bc613=![];break;}}for(let _0x24fb64=0x0;_0x24fb64<0x7;_0x24fb64++){if(!availabilityPattern[_0x24fb64])availabilityPattern[_0x24fb64]=[];const _0x8e6a64=availabilityPattern[_0x24fb64]['indexOf'](_0x4a39ac);if(_0x3bc613){if(_0x8e6a64===-0x1)availabilityPattern[_0x24fb64][_0x1486d1(0x27b)](_0x4a39ac);}else{if(_0x8e6a64!==-0x1)availabilityPattern[_0x24fb64][_0x1486d1(0x21d)](_0x8e6a64,0x1);}}renderPatternEditor();}function renderPCol(_0x3aee6c,_0x219de8){const _0xeb9d0e=a2_0x3635e6;_0x3aee6c['innerHTML']='';const _0x155dbd=Math[_0xeb9d0e(0x267)](_0x3aee6c[_0xeb9d0e(0x23a)]);(availabilityPattern[_0x219de8]||[])[_0xeb9d0e(0x289)](_0x2fe83d=>{const _0x25dcdf=_0xeb9d0e,_0x5149c4=document['createElement'](_0x25dcdf(0x198));_0x5149c4[_0x25dcdf(0x1e1)]=_0x25dcdf(0x1b2);const _0x8d47aa=_0x2fe83d*GRID_H;_0x5149c4[_0x25dcdf(0x1cc)][_0x25dcdf(0x1c6)]=_0x8d47aa+'px',_0x5149c4[_0x25dcdf(0x1cc)][_0x25dcdf(0x254)]='-'+_0x155dbd+_0x25dcdf(0x18e)+_0x8d47aa+'px',_0x5149c4[_0x25dcdf(0x1ba)]=_0x136b11=>{const _0x7c55a=_0x25dcdf;_0x136b11[_0x7c55a(0x293)](),toggleSinglePattern(_0x219de8,_0x2fe83d);},_0x3aee6c['appendChild'](_0x5149c4);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x583238=a2_0x3635e6,_0x545405=new Date(),_0x29bada=document[_0x583238(0x2a0)](_0x583238(0x1b8)),_0xfc2ca8=document[_0x583238(0x2a0)](_0x583238(0x1a0)),_0x39d6f4=(_0x545405[_0x583238(0x1f7)]()*0x3c+_0x545405[_0x583238(0x1b0)]())/0x3c*GRID_H;_0x29bada[_0x583238(0x1cc)]['top']=_0x39d6f4+'px',_0x29bada['style'][_0x583238(0x1e4)]=_0x583238(0x158),_0xfc2ca8[_0x583238(0x216)]=String(_0x545405['getHours']())[_0x583238(0x23b)](0x2,'0')+':'+String(_0x545405['getMinutes']())[_0x583238(0x23b)](0x2,'0'),_0xfc2ca8[_0x583238(0x1cc)][_0x583238(0x1e4)]=_0x583238(0x158),_0xfc2ca8[_0x583238(0x1cc)]['top']=_0x39d6f4+'px';}document['addEventListener'](a2_0x3635e6(0x170),init);function openDayOptions(_0x20ed62){const _0x49bcc5=a2_0x3635e6;selectedDayForOptions=_0x20ed62;const _0x34e8d1=new Date(_0x20ed62),_0x4e6d6f={'weekday':_0x49bcc5(0x25e),'day':_0x49bcc5(0x1a3),'month':'long','year':_0x49bcc5(0x1a3)},_0x4ede17=_0x34e8d1[_0x49bcc5(0x246)](_0x49bcc5(0x16f),_0x4e6d6f);document[_0x49bcc5(0x2a0)](_0x49bcc5(0x172))[_0x49bcc5(0x216)]=_0x4ede17[_0x49bcc5(0x278)](0x0)[_0x49bcc5(0x196)]()+_0x4ede17['slice'](0x1);let _0x3e2939=_0x34e8d1[_0x49bcc5(0x237)]()-0x1;if(_0x3e2939===-0x1)_0x3e2939=0x6;const _0xb75e17=availabilityPattern[_0x3e2939]||[],_0x194a81=0x18-_0xb75e17['length'],_0x2d21ca=_0x194a81*0x3c,_0x6eee09=sessions[_0x49bcc5(0x28f)](_0x52225d=>_0x52225d[_0x49bcc5(0x16a)]===_0x20ed62&&_0x52225d[_0x49bcc5(0x19b)]!==_0x49bcc5(0x1a2));let _0x5f261f=_0x6eee09['map'](_0x5afc76=>{const _0x388a7f=_0x49bcc5,[_0x31cc62,_0x1b4126]=_0x5afc76['start'][_0x388a7f(0x1e5)](':')[_0x388a7f(0x201)](Number),[_0x40a7d8,_0x5b57f9]=_0x5afc76['end']['split'](':')['map'](Number);return[_0x31cc62*0x3c+_0x1b4126,_0x40a7d8*0x3c+_0x5b57f9];});_0x5f261f['sort']((_0x470b37,_0x352015)=>_0x470b37[0x0]-_0x352015[0x0]);let _0x2489eb=[];if(_0x5f261f[_0x49bcc5(0x247)]>0x0){let _0x2c6704=_0x5f261f[0x0];for(let _0x36d533=0x1;_0x36d533<_0x5f261f['length'];_0x36d533++){_0x5f261f[_0x36d533][0x0]<_0x2c6704[0x1]?_0x2c6704[0x1]=Math['max'](_0x2c6704[0x1],_0x5f261f[_0x36d533][0x1]):(_0x2489eb[_0x49bcc5(0x27b)](_0x2c6704),_0x2c6704=_0x5f261f[_0x36d533]);}_0x2489eb[_0x49bcc5(0x27b)](_0x2c6704);}let _0xb057e3=0x0;_0x2489eb[_0x49bcc5(0x289)](_0x11759f=>_0xb057e3+=_0x11759f[0x1]-_0x11759f[0x0]),document[_0x49bcc5(0x2a0)]('doWorkHours')[_0x49bcc5(0x216)]=formatMinsToHrs(_0x2d21ca),document[_0x49bcc5(0x2a0)]('doBusyHours')[_0x49bcc5(0x216)]=formatMinsToHrs(_0xb057e3);const _0x4a786d=_0x2d21ca>0x0?Math['round'](_0xb057e3/_0x2d21ca*0x64):0x0,_0x24a517=document[_0x49bcc5(0x2a0)](_0x49bcc5(0x25b));_0x24a517[_0x49bcc5(0x216)]=_0x4a786d+'%';const _0x57b858=document[_0x49bcc5(0x2a0)](_0x49bcc5(0x174));if(_0x4a786d>0x64)_0x24a517[_0x49bcc5(0x1cc)][_0x49bcc5(0x251)]='var(--acc-red)',_0x57b858[_0x49bcc5(0x1cc)]['borderColor']=_0x49bcc5(0x2a9);else _0x4a786d>0x50?(_0x24a517[_0x49bcc5(0x1cc)][_0x49bcc5(0x251)]='var(--acc-orange)',_0x57b858[_0x49bcc5(0x1cc)][_0x49bcc5(0x1ae)]=_0x49bcc5(0x24c)):(_0x24a517[_0x49bcc5(0x1cc)][_0x49bcc5(0x251)]=_0x49bcc5(0x151),_0x57b858['style'][_0x49bcc5(0x1ae)]=_0x49bcc5(0x22c));const _0x1456f3=document['getElementById'](_0x49bcc5(0x29d));_0x1456f3[_0x49bcc5(0x2a1)]='';_0x6eee09[_0x49bcc5(0x247)]===0x0?_0x1456f3[_0x49bcc5(0x2a1)]=_0x49bcc5(0x28d):(_0x6eee09[_0x49bcc5(0x1db)]((_0x4b4815,_0x276103)=>_0x4b4815[_0x49bcc5(0x1b3)][_0x49bcc5(0x155)](_0x276103[_0x49bcc5(0x1b3)])),_0x6eee09[_0x49bcc5(0x289)](_0x1395d0=>{const _0x24aae8=_0x49bcc5,_0x35fcd4=clients[_0x24aae8(0x226)](_0xa68fd9=>_0xa68fd9[_0x24aae8(0x19f)]===_0x1395d0[_0x24aae8(0x24e)]),_0x3d2c8f=_0x35fcd4?_0x35fcd4[_0x24aae8(0x251)]:'#fff',_0x400337=_0x1395d0['status']===_0x24aae8(0x2b5),_0x26aa34=_0x400337?_0x24aae8(0x239):'',_0xf10343=document[_0x24aae8(0x164)](_0x24aae8(0x198));_0xf10343[_0x24aae8(0x1e1)]='de-item',_0xf10343['style'][_0x24aae8(0x24f)]=_0x3d2c8f,_0xf10343['innerHTML']=_0x24aae8(0x1cd)+_0x1395d0[_0x24aae8(0x1b3)]+_0x24aae8(0x25c)+_0x1395d0['end']+_0x24aae8(0x283)+_0x1395d0['client']+_0x24aae8(0x194)+_0x26aa34+_0x24aae8(0x1d9),_0x1456f3['appendChild'](_0xf10343);}));const _0x5bdc19=document[_0x49bcc5(0x2a0)](_0x49bcc5(0x232)),_0x33e6ff=dateExceptions[_0x20ed62]===_0x49bcc5(0x213);_0x33e6ff?(_0x5bdc19[_0x49bcc5(0x216)]=_0x49bcc5(0x17f),_0x5bdc19[_0x49bcc5(0x1e1)]=_0x49bcc5(0x1ac),_0x5bdc19[_0x49bcc5(0x1cc)][_0x49bcc5(0x251)]=_0x49bcc5(0x151),_0x5bdc19[_0x49bcc5(0x1cc)]['background']=_0x49bcc5(0x211)):(_0x5bdc19[_0x49bcc5(0x216)]=_0x49bcc5(0x1bc),_0x5bdc19['className']=_0x49bcc5(0x1b5),_0x5bdc19[_0x49bcc5(0x1cc)]['color']=_0x49bcc5(0x2b7),_0x5bdc19[_0x49bcc5(0x1cc)]['background']=_0x49bcc5(0x28b)),openSheet(_0x49bcc5(0x262));}let currentAnPeriod='week';function openAnalytics(){const _0x286cf1=a2_0x3635e6,_0x6f78f4=document[_0x286cf1(0x165)](_0x286cf1(0x2b6));setAnalyticsPeriod(_0x286cf1(0x299),_0x6f78f4),closeAllSheets(),openSheet(_0x286cf1(0x1c2));}function setAnalyticsPeriod(_0xea97d3,_0x15837a){const _0x6900cb=a2_0x3635e6;currentAnPeriod=_0xea97d3,document[_0x6900cb(0x277)](_0x6900cb(0x2b6))[_0x6900cb(0x289)](_0x17aa8b=>_0x17aa8b[_0x6900cb(0x185)][_0x6900cb(0x2b3)](_0x6900cb(0x1c9)));if(_0x15837a)_0x15837a['classList'][_0x6900cb(0x175)](_0x6900cb(0x1c9));const _0x1d1fff=document[_0x6900cb(0x2a0)]('anCustomDates');_0x1d1fff[_0x6900cb(0x1cc)][_0x6900cb(0x1e4)]=_0xea97d3===_0x6900cb(0x22d)?'flex':_0x6900cb(0x273);const _0x3d38a5=new Date();let _0x410f73=new Date(),_0x843a35=new Date();if(_0xea97d3==='week')_0x410f73=getStartOfWeek(_0x3d38a5),_0x843a35=new Date(_0x410f73),_0x843a35[_0x6900cb(0x188)](_0x843a35[_0x6900cb(0x20b)]()+0x6);else{if(_0xea97d3===_0x6900cb(0x2bb))_0x410f73=new Date(_0x3d38a5[_0x6900cb(0x253)](),_0x3d38a5['getMonth'](),0x1),_0x843a35=new Date(_0x3d38a5[_0x6900cb(0x253)](),_0x3d38a5[_0x6900cb(0x150)]()+0x1,0x0);else{!document[_0x6900cb(0x2a0)](_0x6900cb(0x230))[_0x6900cb(0x22f)]&&(document['getElementById'](_0x6900cb(0x230))[_0x6900cb(0x22f)]=getLocalDateStr(_0x3d38a5),document[_0x6900cb(0x2a0)](_0x6900cb(0x1e6))[_0x6900cb(0x22f)]=getLocalDateStr(_0x3d38a5));refreshAnalytics();return;}}document[_0x6900cb(0x2a0)](_0x6900cb(0x230))[_0x6900cb(0x22f)]=getLocalDateStr(_0x410f73),document[_0x6900cb(0x2a0)](_0x6900cb(0x1e6))[_0x6900cb(0x22f)]=getLocalDateStr(_0x843a35),refreshAnalytics();}function refreshAnalytics(){const _0x3f538b=a2_0x3635e6,_0x439d34=document['getElementById']('anStart')[_0x3f538b(0x22f)],_0x9f9681=document[_0x3f538b(0x2a0)](_0x3f538b(0x1e6))[_0x3f538b(0x22f)];if(!_0x439d34||!_0x9f9681)return;const _0x1276e4=sessions[_0x3f538b(0x28f)](_0x5675de=>_0x5675de[_0x3f538b(0x16a)]>=_0x439d34&&_0x5675de[_0x3f538b(0x16a)]<=_0x9f9681&&_0x5675de[_0x3f538b(0x19b)]!==_0x3f538b(0x1a2)),_0x28a61c=_0x1276e4[_0x3f538b(0x247)],_0x55126e=_0x1276e4['filter'](_0x3884bc=>_0x3884bc[_0x3f538b(0x19b)]===_0x3f538b(0x2b5))[_0x3f538b(0x247)],_0x4b9640=_0x28a61c>0x0?Math[_0x3f538b(0x267)](_0x55126e/_0x28a61c*0x64):0x0;document[_0x3f538b(0x2a0)]('anPercent')[_0x3f538b(0x216)]=_0x4b9640+'%',document[_0x3f538b(0x2a0)](_0x3f538b(0x14a))[_0x3f538b(0x216)]=_0x55126e+_0x3f538b(0x152)+_0x28a61c+_0x3f538b(0x168);const _0x39711b=document[_0x3f538b(0x2a0)](_0x3f538b(0x1ec)),_0x3d4785=0x2*Math['PI']*0x23,_0x257686=_0x3d4785-_0x4b9640/0x64*_0x3d4785;_0x39711b[_0x3f538b(0x1cc)][_0x3f538b(0x148)]=_0x257686;const _0x4d3305={};_0x1276e4[_0x3f538b(0x289)](_0x1cc5c6=>{const _0x847478=_0x3f538b;if(!_0x4d3305[_0x1cc5c6['client']]){const _0x33e5bf=clients[_0x847478(0x226)](_0x5a7be5=>_0x5a7be5[_0x847478(0x19f)]===_0x1cc5c6[_0x847478(0x24e)]);_0x4d3305[_0x1cc5c6[_0x847478(0x24e)]]={'total':0x0,'done':0x0,'color':_0x33e5bf?_0x33e5bf[_0x847478(0x251)]:_0x847478(0x259)};}_0x4d3305[_0x1cc5c6[_0x847478(0x24e)]][_0x847478(0x157)]++;if(_0x1cc5c6['status']===_0x847478(0x2b5))_0x4d3305[_0x1cc5c6[_0x847478(0x24e)]][_0x847478(0x208)]++;});const _0x31736c=document['getElementById'](_0x3f538b(0x1eb));_0x31736c['innerHTML']='';const _0xeabd7b=Object[_0x3f538b(0x2ac)](_0x4d3305)[_0x3f538b(0x1db)]((_0xbeaeb1,_0x2f1302)=>_0x2f1302[0x1][_0x3f538b(0x157)]-_0xbeaeb1[0x1][_0x3f538b(0x157)]);if(_0xeabd7b['length']===0x0){_0x31736c['innerHTML']=_0x3f538b(0x199);return;}_0xeabd7b[_0x3f538b(0x289)](([_0x4be6a9,_0x4edfe5])=>{const _0x239a5b=_0x3f538b,_0x567856=Math['round'](_0x4edfe5[_0x239a5b(0x208)]/_0x4edfe5[_0x239a5b(0x157)]*0x64),_0xefd0bc=document[_0x239a5b(0x164)](_0x239a5b(0x198));_0xefd0bc[_0x239a5b(0x1e1)]=_0x239a5b(0x281),_0xefd0bc[_0x239a5b(0x1cc)][_0x239a5b(0x24f)]=_0x4edfe5[_0x239a5b(0x251)],_0xefd0bc[_0x239a5b(0x2a1)]=_0x239a5b(0x1da)+_0x4be6a9+_0x239a5b(0x263)+_0x4edfe5[_0x239a5b(0x208)]+_0x239a5b(0x23f)+_0x4edfe5['total']+_0x239a5b(0x2ae)+_0x567856+_0x239a5b(0x15a),_0x31736c[_0x239a5b(0x282)](_0xefd0bc);});}function formatMinsToHrs(_0xaaba4d){if(_0xaaba4d===0x0)return'0';const _0x1cb6c9=Math['floor'](_0xaaba4d/0x3c),_0x117064=_0xaaba4d%0x3c;if(_0x117064===0x0)return _0x1cb6c9+'—á';return _0x1cb6c9+'—á\x20'+_0x117064+'–º';}