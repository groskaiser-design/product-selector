const a2_0x27bf96=a2_0x9b9e;(function(_0xa4fb5e,_0x439fee){const _0x16a5d0=a2_0x9b9e,_0x121d93=_0xa4fb5e();while(!![]){try{const _0x5ee58d=parseInt(_0x16a5d0(0x2d1))/0x1*(-parseInt(_0x16a5d0(0x272))/0x2)+-parseInt(_0x16a5d0(0x246))/0x3*(-parseInt(_0x16a5d0(0x2b6))/0x4)+-parseInt(_0x16a5d0(0x20a))/0x5*(-parseInt(_0x16a5d0(0x2e4))/0x6)+-parseInt(_0x16a5d0(0x1ca))/0x7+parseInt(_0x16a5d0(0x29e))/0x8*(parseInt(_0x16a5d0(0x190))/0x9)+-parseInt(_0x16a5d0(0x1b8))/0xa*(parseInt(_0x16a5d0(0x2a5))/0xb)+-parseInt(_0x16a5d0(0x2d7))/0xc*(parseInt(_0x16a5d0(0x29f))/0xd);if(_0x5ee58d===_0x439fee)break;else _0x121d93['push'](_0x121d93['shift']());}catch(_0x37eb80){_0x121d93['push'](_0x121d93['shift']());}}}(a2_0x2403,0x60bd9),function initTMA(){const _0x4ba45a=a2_0x9b9e,_0x5528ba=(function(){let _0x4adcc2=!![];return function(_0x225b84,_0x378279){const _0x3bb993=_0x4adcc2?function(){const _0x5c6781=a2_0x9b9e;if(_0x378279){const _0x503117=_0x378279[_0x5c6781(0x278)](_0x225b84,arguments);return _0x378279=null,_0x503117;}}:function(){};return _0x4adcc2=![],_0x3bb993;};}()),_0x2e1825=_0x5528ba(this,function(){const _0x2f528e=a2_0x9b9e;return _0x2e1825[_0x2f528e(0x2ca)]()['search'](_0x2f528e(0x23f))[_0x2f528e(0x2ca)]()[_0x2f528e(0x217)](_0x2e1825)[_0x2f528e(0x203)](_0x2f528e(0x23f));});_0x2e1825();try{const _0x4f3047=window[_0x4ba45a(0x1ec)]?.[_0x4ba45a(0x279)];if(!_0x4f3047)return;_0x4f3047['ready'](),_0x4f3047[_0x4ba45a(0x275)]();try{_0x4f3047[_0x4ba45a(0x2d0)]('#050505'),_0x4f3047[_0x4ba45a(0x160)]&&_0x4f3047[_0x4ba45a(0x160)](_0x4ba45a(0x219));}catch(_0x359b49){console[_0x4ba45a(0x213)](_0x4ba45a(0x15e),_0x359b49);}try{_0x4f3047[_0x4ba45a(0x177)]&&(_0x4f3047[_0x4ba45a(0x177)]['show'](),_0x4f3047['BackButton'][_0x4ba45a(0x26b)](),_0x4f3047[_0x4ba45a(0x177)]['onClick'](function(){const _0x583e29=_0x4ba45a;window['location'][_0x583e29(0x29b)]='router.html';}));}catch(_0x137e93){console[_0x4ba45a(0x213)]('Error\x20setting\x20back\x20button:',_0x137e93);}try{if(_0x4f3047[_0x4ba45a(0x1fd)])_0x4f3047[_0x4ba45a(0x1fd)]();}catch(_0x48aea4){}}catch(_0x20c12c){console[_0x4ba45a(0x281)](_0x4ba45a(0x1d0),_0x20c12c);}}());function isAdmin(){const _0x5cac78=a2_0x9b9e;try{const _0x5f2e9f=Number(window[_0x5cac78(0x1ec)]?.[_0x5cac78(0x279)]?.[_0x5cac78(0x17c)]?.[_0x5cac78(0x2cb)]?.['id']);return _0x5f2e9f===0xbaf7174;}catch(_0x1bbe1e){return![];}}const APP_VERSION=a2_0x27bf96(0x205),API_URL=a2_0x27bf96(0x20c),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x27bf96(0x1ce),KEY_SESSIONS=a2_0x27bf96(0x1c6),KEY_SETTINGS=a2_0x27bf96(0x276);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x58d782=a2_0x27bf96;return window[_0x58d782(0x1ec)]?.[_0x58d782(0x279)]?.[_0x58d782(0x17c)]?.[_0x58d782(0x2cb)]?.['id']||_0x58d782(0x191);},'saveLocally'(){const _0x50c4ca=a2_0x27bf96;try{localStorage[_0x50c4ca(0x173)](KEY_CLIENTS,JSON[_0x50c4ca(0x186)](clients)),localStorage[_0x50c4ca(0x173)](KEY_SESSIONS,JSON[_0x50c4ca(0x186)](sessions)),localStorage[_0x50c4ca(0x173)](KEY_SETTINGS,JSON[_0x50c4ca(0x186)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x425e49){console[_0x50c4ca(0x281)](_0x50c4ca(0x255),_0x425e49);}},'loadLocal'(){const _0x282ad3=a2_0x27bf96;try{const _0x3af378=localStorage['getItem'](KEY_CLIENTS);if(_0x3af378)clients=JSON[_0x282ad3(0x2be)](_0x3af378);const _0x30106c=localStorage[_0x282ad3(0x283)](KEY_SESSIONS);if(_0x30106c)sessions=JSON[_0x282ad3(0x2be)](_0x30106c);const _0x418a79=localStorage['getItem'](KEY_SETTINGS);if(_0x418a79){const _0x546739=JSON[_0x282ad3(0x2be)](_0x418a79);if(_0x546739[_0x282ad3(0x20d)])availabilityPattern=_0x546739['pattern'];if(_0x546739[_0x282ad3(0x22b)])dateExceptions=_0x546739['exceptions'];if(_0x546739[_0x282ad3(0x20e)])specialRanges=_0x546739[_0x282ad3(0x20e)];}else{for(let _0x544354=0x0;_0x544354<0x7;_0x544354++)availabilityPattern[_0x544354]=Array[_0x282ad3(0x1ef)]({'length':0xc},(_0x2326f0,_0x3ba77a)=>_0x3ba77a+0x9);}}catch(_0x4e814b){console[_0x282ad3(0x281)]('Local\x20Load\x20Error',_0x4e814b);}},async 'fetchFromServer'(_0x31fd98,_0x3105ee={}){const _0x455773=a2_0x27bf96,_0x32fa3a=window[_0x455773(0x1ec)]?.[_0x455773(0x279)],_0x4fe385={'action':_0x31fd98,'init_data':_0x32fa3a?.[_0x455773(0x292)]||'',..._0x3105ee};try{const _0x2c7442=await fetch(API_URL,{'method':'POST','headers':{'Content-Type':_0x455773(0x2ec)},'body':JSON[_0x455773(0x186)](_0x4fe385)}),_0x269dae=await _0x2c7442[_0x455773(0x18c)]();if(!_0x269dae['ok'])throw new Error(_0x269dae['error']||_0x455773(0x2a7));return _0x269dae[_0x455773(0x206)];}catch(_0x472f9a){console[_0x455773(0x281)](_0x455773(0x1e3)+_0x31fd98+_0x455773(0x19c),_0x472f9a);throw _0x472f9a;}},async 'syncLoad'(){const _0x53e5a3=a2_0x27bf96,_0x5a39bc=new Date(),_0x5ca069=_0x5a39bc[_0x53e5a3(0x225)]()+'-'+String(_0x5a39bc[_0x53e5a3(0x1db)]()+0x1)[_0x53e5a3(0x2b3)](0x2,'0'),_0x541ae7=new Date(_0x5a39bc);_0x541ae7[_0x53e5a3(0x25c)](_0x5a39bc[_0x53e5a3(0x1db)]()+0x1);const _0x38c399=_0x541ae7[_0x53e5a3(0x225)]()+'-'+String(_0x541ae7[_0x53e5a3(0x1db)]()+0x1)[_0x53e5a3(0x2b3)](0x2,'0'),_0x565a88=Date[_0x53e5a3(0x287)]();console[_0x53e5a3(0x213)](_0x53e5a3(0x294)+_0x5ca069+',\x20'+_0x38c399+'...');try{const [_0x6abaf7,_0x1bfd38]=await Promise[_0x53e5a3(0x179)]([this['fetchFromServer'](_0x53e5a3(0x1c0),{'month_str':_0x5ca069}),this[_0x53e5a3(0x2c6)](_0x53e5a3(0x1c0),{'month_str':_0x38c399})]);if(lastUserActionTime>_0x565a88)return console[_0x53e5a3(0x24d)]('[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response'),![];return this['mergeServerData'](_0x6abaf7,_0x5ca069),this['mergeServerData'](_0x1bfd38,_0x38c399),this[_0x53e5a3(0x29c)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x29a411){console[_0x53e5a3(0x281)](_0x29a411);throw _0x29a411;}},'mergeServerData'(_0x285306,_0x5a1f13){const _0x368331=a2_0x27bf96;if(!_0x285306)return;_0x285306[_0x368331(0x24b)]&&Array['isArray'](_0x285306[_0x368331(0x24b)])&&(clients=_0x285306[_0x368331(0x24b)]);if(_0x285306[_0x368331(0x2cc)]){if(_0x285306[_0x368331(0x2cc)][_0x368331(0x20d)])availabilityPattern=_0x285306['settings'][_0x368331(0x20d)];if(_0x285306[_0x368331(0x2cc)][_0x368331(0x22b)])dateExceptions=_0x285306[_0x368331(0x2cc)][_0x368331(0x22b)];if(_0x285306[_0x368331(0x2cc)][_0x368331(0x20e)])specialRanges=_0x285306[_0x368331(0x2cc)]['ranges'];if(_0x285306[_0x368331(0x2cc)][_0x368331(0x1fb)]){localStorage[_0x368331(0x173)](_0x368331(0x264),_0x285306[_0x368331(0x2cc)][_0x368331(0x1fb)]);const _0x1f5006=document[_0x368331(0x1da)]('settingCancelWindow');if(_0x1f5006)_0x1f5006['value']=_0x285306[_0x368331(0x2cc)][_0x368331(0x1fb)];}}_0x285306[_0x368331(0x2a8)]&&(sessions=sessions[_0x368331(0x1cf)](_0x35aac2=>!_0x35aac2[_0x368331(0x1d8)]['startsWith'](_0x5a1f13)),Object['keys'](_0x285306[_0x368331(0x2a8)])['forEach'](_0x432dda=>{const _0x571125=_0x368331,_0x44108e=_0x285306[_0x571125(0x2a8)][_0x432dda];_0x44108e['forEach'](_0x50f96=>{const _0x1dd9e2=_0x571125,_0x197cf2=clients[_0x1dd9e2(0x28a)](_0x523185=>String(_0x523185['id'])===String(_0x50f96['c']));sessions['push']({'id':_0x50f96['i'],'clientId':_0x50f96['c'],'client':_0x197cf2?_0x197cf2[_0x1dd9e2(0x22d)]:_0x1dd9e2(0x1ff),'dateStr':_0x5a1f13+'-'+_0x432dda[_0x1dd9e2(0x2b3)](0x2,'0'),'start':_0x50f96['s'],'end':_0x50f96['e'],'status':_0x50f96['st']||_0x1dd9e2(0x1f6),'note':_0x50f96['n']||'','seriesId':_0x50f96[_0x1dd9e2(0x2da)]||null});});}));},async 'syncBatch'(_0x238775){const _0x1643d9=a2_0x27bf96,_0x11228e=[...new Set(_0x238775)],_0x101134=_0x11228e['map'](_0x11a6e0=>{const _0x12616b=a2_0x9b9e,_0x29e94c=sessions[_0x12616b(0x1cf)](_0x5be461=>_0x5be461[_0x12616b(0x1d8)]===_0x11a6e0&&_0x5be461[_0x12616b(0x27d)]!=='deleted'),_0xb86ef3=_0x29e94c[_0x12616b(0x2c4)](_0x3d0ffd=>({'i':_0x3d0ffd['id'],'c':_0x3d0ffd[_0x12616b(0x2e5)],'s':_0x3d0ffd[_0x12616b(0x2a0)],'e':_0x3d0ffd['end'],'st':_0x3d0ffd[_0x12616b(0x27d)],'n':_0x3d0ffd[_0x12616b(0x2c1)],'sid':_0x3d0ffd[_0x12616b(0x2cf)]}));return{'date':_0x11a6e0,'day_data':_0xb86ef3};});if(_0x101134['length']===0x0)return;console[_0x1643d9(0x213)]('[Sync]\x20Pushing\x20batch\x20updates\x20for\x20'+_0x101134['length']+_0x1643d9(0x196)),await this[_0x1643d9(0x2c6)](_0x1643d9(0x2b4),{'changes':_0x101134});}};async function init(){const _0x181f41=a2_0x27bf96;DataManager[_0x181f41(0x25f)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x181f41(0x1da)](_0x181f41(0x237))['addEventListener'](_0x181f41(0x277),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x181f41(0x1fe)]()[_0x181f41(0x209)](()=>{const _0x2118cc=_0x181f41;showToast(_0x2118cc(0x15f),!![]);})[_0x181f41(0x1f7)](_0xc566d3=>{const _0x14c449=_0x181f41;showToast(_0x14c449(0x178),![]);});}function generateId(){const _0x10c012=a2_0x27bf96;return Date[_0x10c012(0x287)]()[_0x10c012(0x2ca)](0x24)+Math[_0x10c012(0x285)]()[_0x10c012(0x2ca)](0x24)[_0x10c012(0x1ee)](0x2,0x5);}function toggleSeriesInput(){const _0x360850=a2_0x27bf96,_0x3e1f8a=document[_0x360850(0x1da)](_0x360850(0x253))['checked'],_0x2b7400=document['getElementById'](_0x360850(0x236));_0x2b7400[_0x360850(0x1e6)][_0x360850(0x228)]=_0x3e1f8a?_0x360850(0x29d):_0x360850(0x227);const _0x3b22ad=document[_0x360850(0x1da)](_0x360850(0x27b));_0x3b22ad['style'][_0x360850(0x2a3)]=_0x3e1f8a?_0x360850(0x290):'10px';}function openAddSession(_0x4960fd){const _0x34e56d=a2_0x27bf96;editingId=null,populateClientSelect(),document[_0x34e56d(0x1da)](_0x34e56d(0x26e))['textContent']='–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å',document[_0x34e56d(0x1da)](_0x34e56d(0x210))[_0x34e56d(0x1e6)][_0x34e56d(0x228)]=_0x34e56d(0x227),document[_0x34e56d(0x1da)](_0x34e56d(0x1b3))[_0x34e56d(0x1e6)]['display']='none';const _0x5baa50=document[_0x34e56d(0x1da)]('recurringOptionContainer'),_0x4a528f=document[_0x34e56d(0x1da)](_0x34e56d(0x236));_0x5baa50[_0x34e56d(0x1e6)][_0x34e56d(0x228)]=_0x34e56d(0x270),_0x5baa50[_0x34e56d(0x1e6)][_0x34e56d(0x2a3)]=_0x34e56d(0x27e),document['getElementById']('inpRecurring')[_0x34e56d(0x274)]=![],document['getElementById']('inpSeriesCount')[_0x34e56d(0x1a1)]=0x4,_0x4a528f['style']['display']=_0x34e56d(0x227),document['getElementById']('inpDate')[_0x34e56d(0x1a1)]=getLocalDateStr(_0x4960fd),updateDateDisplay();const _0x165371=_0x4960fd[_0x34e56d(0x2e3)]();document['getElementById'](_0x34e56d(0x17e))['value']=String(_0x165371)['padStart'](0x2,'0')+_0x34e56d(0x17f),document[_0x34e56d(0x1da)]('inpEnd')[_0x34e56d(0x1a1)]=String(_0x165371+0x1)[_0x34e56d(0x2b3)](0x2,'0')+_0x34e56d(0x17f),openSheet(_0x34e56d(0x232));}function openEdit(_0x4eb05b){const _0xa77f36=a2_0x27bf96;editingId=_0x4eb05b['id'],populateClientSelect(),document['getElementById'](_0xa77f36(0x26e))[_0xa77f36(0x2eb)]=_0xa77f36(0x297),document['getElementById'](_0xa77f36(0x210))['style'][_0xa77f36(0x228)]='block';const _0xa6f9c2=document['getElementById'](_0xa77f36(0x1b3));_0xa6f9c2[_0xa77f36(0x1e6)][_0xa77f36(0x228)]=_0xa77f36(0x270);_0x4eb05b[_0xa77f36(0x27d)]===_0xa77f36(0x295)?(_0xa6f9c2['className']=_0xa77f36(0x17a),_0xa6f9c2['innerHTML']=_0xa77f36(0x1b7)):(_0xa6f9c2[_0xa77f36(0x223)]=_0xa77f36(0x282),_0xa6f9c2[_0xa77f36(0x23e)]=_0xa77f36(0x2c8));const _0x35dde7=!!_0x4eb05b['seriesId'];document[_0xa77f36(0x1da)]('recurringOptionContainer')[_0xa77f36(0x1e6)][_0xa77f36(0x228)]=_0xa77f36(0x227),document['getElementById']('seriesCountContainer')['style'][_0xa77f36(0x228)]='none',_0x35dde7?(document[_0xa77f36(0x1da)](_0xa77f36(0x25d))[_0xa77f36(0x1e6)][_0xa77f36(0x228)]='flex',document[_0xa77f36(0x1da)](_0xa77f36(0x25d))[_0xa77f36(0x244)]('.pib-text')['textContent']=_0xa77f36(0x26f)):document['getElementById'](_0xa77f36(0x25d))[_0xa77f36(0x1e6)]['display']=_0xa77f36(0x227),document['getElementById'](_0xa77f36(0x21d))[_0xa77f36(0x1a1)]=_0x4eb05b[_0xa77f36(0x192)],document[_0xa77f36(0x1da)](_0xa77f36(0x267))[_0xa77f36(0x1a1)]=_0x4eb05b[_0xa77f36(0x1d8)],document[_0xa77f36(0x1da)](_0xa77f36(0x17e))[_0xa77f36(0x1a1)]=_0x4eb05b[_0xa77f36(0x2a0)],document[_0xa77f36(0x1da)](_0xa77f36(0x1bd))[_0xa77f36(0x1a1)]=_0x4eb05b[_0xa77f36(0x1dc)],document[_0xa77f36(0x1da)](_0xa77f36(0x2aa))[_0xa77f36(0x1a1)]=_0x4eb05b['note']||'',updateDateDisplay(),openSheet('sessionSheet');}async function trySaveSession(){const _0x33ce63=a2_0x27bf96,_0x5553a5=document[_0x33ce63(0x1da)](_0x33ce63(0x21d))[_0x33ce63(0x1a1)],_0x443941=document[_0x33ce63(0x1da)](_0x33ce63(0x267))[_0x33ce63(0x1a1)],_0x1af49c=document['getElementById'](_0x33ce63(0x17e))[_0x33ce63(0x1a1)],_0x542739=document[_0x33ce63(0x1da)](_0x33ce63(0x1bd))[_0x33ce63(0x1a1)],_0x3757d2=document['getElementById'](_0x33ce63(0x2aa))[_0x33ce63(0x1a1)],_0x316743=document[_0x33ce63(0x1da)](_0x33ce63(0x253))[_0x33ce63(0x274)];let _0x46f02a=0x4;if(_0x316743){const _0x1d6e78=parseInt(document[_0x33ce63(0x1da)](_0x33ce63(0x1ed))['value']);if(!_0x1d6e78||_0x1d6e78<0x2){showToast(_0x33ce63(0x2b8),![]);return;}if(_0x1d6e78>0x64){showToast(_0x33ce63(0x1c2),![]);return;}_0x46f02a=_0x1d6e78;}const _0x5b4a17=clients[_0x33ce63(0x28a)](_0x2b6622=>_0x2b6622['name']===_0x5553a5);if(!_0x5b4a17){showToast('–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞',![]);return;}const _0x3ffc42=validateAppointment(_0x443941,_0x1af49c,_0x542739,editingId,_0x5b4a17['id']);if(!_0x3ffc42[_0x33ce63(0x1e0)]){showToast(_0x3ffc42['msg'],![]);return;}_0x3ffc42['warning']&&showToast(_0x3ffc42['warning'],![]);const _0x132383={'client':_0x5553a5,'clientId':_0x5b4a17['id'],'start':_0x1af49c,'end':_0x542739,'note':_0x3757d2,'status':_0x33ce63(0x1f6)},_0x996ec8=editingId?sessions['find'](_0x35b0a7=>_0x35b0a7['id']===editingId):null;if(_0x996ec8&&_0x996ec8['seriesId']){tempSessionData={..._0x132383,'dateStr':_0x443941,'id':editingId,'seriesId':_0x996ec8[_0x33ce63(0x2cf)]},openActionSheet('save');return;}let _0x338fc6=null;if(!editingId)_0x338fc6=_0x33ce63(0x2e6);else{if(_0x996ec8){if(String(_0x996ec8[_0x33ce63(0x2e5)])!==String(_0x5b4a17['id']))console[_0x33ce63(0x213)](_0x33ce63(0x171)),NotificationManager[_0x33ce63(0x204)](_0x33ce63(0x27a),_0x996ec8),_0x338fc6=_0x33ce63(0x2e6);else(_0x996ec8['start']!==_0x1af49c||_0x996ec8[_0x33ce63(0x1dc)]!==_0x542739||_0x996ec8['dateStr']!==_0x443941)&&(_0x338fc6=_0x33ce63(0x18f));}}if(!editingId&&_0x316743){createBatchSeries(_0x132383,_0x443941,_0x46f02a),NotificationManager['send'](_0x33ce63(0x2e6),{..._0x132383,'dateStr':_0x443941});return;}lastUserActionTime=Date[_0x33ce63(0x287)]();const _0x43a57f={..._0x132383,'dateStr':_0x443941,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x43a57f),_0x338fc6&&NotificationManager[_0x33ce63(0x204)](_0x338fc6,_0x43a57f);}function toggleSessionStatus(){const _0x2adbd2=a2_0x27bf96;lastUserActionTime=Date[_0x2adbd2(0x287)]();const _0x4ffa00=sessions[_0x2adbd2(0x28a)](_0x5b05de=>_0x5b05de['id']===editingId);if(!_0x4ffa00)return;const _0xdceae6=_0x4ffa00[_0x2adbd2(0x27d)]===_0x2adbd2(0x295)?_0x2adbd2(0x1f6):'completed';_0x4ffa00[_0x2adbd2(0x27d)]=_0xdceae6,saveSingleSession(_0x4ffa00),_0xdceae6===_0x2adbd2(0x295)&&NotificationManager[_0x2adbd2(0x204)](_0x2adbd2(0x18b),_0x4ffa00),showToast(_0xdceae6===_0x2adbd2(0x295)?_0x2adbd2(0x27c):_0x2adbd2(0x291),!![]);}function validateAppointment(_0x194aeb,_0x41229f,_0x186693,_0x1efd23,_0x21319e){const _0x51351a=a2_0x27bf96,[_0x359811,_0x4480ee]=_0x41229f['split'](':')[_0x51351a(0x2c4)](Number),[_0x9401e5,_0x350ee4]=_0x186693['split'](':')[_0x51351a(0x2c4)](Number),_0x1ae255=_0x359811*0x3c+_0x4480ee,_0x18908c=_0x9401e5*0x3c+_0x350ee4,_0xc6e97a=String(_0x21319e);let _0x47e729=![],_0x1b27e7='';for(let _0x1c5bf0 of sessions){if(_0x1c5bf0[_0x51351a(0x1d8)]!==_0x194aeb)continue;if(_0x1c5bf0[_0x51351a(0x27d)]===_0x51351a(0x257))continue;if(_0x1efd23&&String(_0x1c5bf0['id'])===String(_0x1efd23))continue;const [_0x59f91d,_0x398393]=_0x1c5bf0[_0x51351a(0x2a0)][_0x51351a(0x2c9)](':')['map'](Number),[_0x53323e,_0x15d7b2]=_0x1c5bf0[_0x51351a(0x1dc)][_0x51351a(0x2c9)](':')[_0x51351a(0x2c4)](Number),_0x58a0aa=_0x59f91d*0x3c+_0x398393,_0x34ba3d=_0x53323e*0x3c+_0x15d7b2;if(Math[_0x51351a(0x2b2)](_0x1ae255,_0x58a0aa)<Math[_0x51351a(0x2b7)](_0x18908c,_0x34ba3d)){if(_0x1c5bf0[_0x51351a(0x2e5)]&&String(_0x1c5bf0[_0x51351a(0x2e5)])===_0xc6e97a)return{'valid':![],'msg':_0x51351a(0x1a7)+_0x1c5bf0[_0x51351a(0x192)]+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x47e729=!![],_0x1b27e7=_0x1c5bf0[_0x51351a(0x192)];}}if(_0x47e729)return{'valid':!![],'warning':_0x51351a(0x1ab)+_0x1b27e7};return{'valid':!![]};}function saveSingleSession(_0x451be7){const _0x1600fb=a2_0x27bf96;if(editingId){const _0xc58193=sessions[_0x1600fb(0x202)](_0x392f26=>_0x392f26['id']===editingId);if(_0xc58193!==-0x1)sessions[_0xc58193]=_0x451be7;}else sessions[_0x1600fb(0x1f4)](_0x451be7);afterSaveAction([_0x451be7[_0x1600fb(0x1d8)]]);}function createBatchSeries(_0x3c239a,_0x30c6b7,_0x35dbb4){const _0x3bf054=a2_0x27bf96,_0x3ed3e7=generateId(),_0x52de0b=[],_0x28e902=[];let _0x47cb03=0x0,_0x2d075b=new Date(_0x30c6b7);for(let _0x3c1730=0x0;_0x3c1730<_0x35dbb4;_0x3c1730++){const _0x4096c4=getLocalDateStr(_0x2d075b),_0x27937b=validateAppointment(_0x4096c4,_0x3c239a[_0x3bf054(0x2a0)],_0x3c239a[_0x3bf054(0x1dc)],null,_0x3c239a['clientId']);if(!_0x27937b[_0x3bf054(0x1e0)])console['log'](_0x3bf054(0x218)+_0x4096c4+':\x20Client\x20already\x20booked'),_0x47cb03++;else{const _0x22db40={..._0x3c239a,'id':generateId(),'dateStr':_0x4096c4,'seriesId':_0x3ed3e7};_0x28e902['push'](_0x22db40),_0x52de0b[_0x3bf054(0x1f4)](_0x4096c4);}_0x2d075b['setDate'](_0x2d075b[_0x3bf054(0x1a0)]()+0x7);}if(_0x28e902['length']===0x0){showToast(_0x3bf054(0x163),![]);return;}sessions['push'](..._0x28e902),lastUserActionTime=Date[_0x3bf054(0x287)]();let _0x5ccf01=_0x3bf054(0x231)+_0x28e902[_0x3bf054(0x289)];_0x47cb03>0x0&&(_0x5ccf01+=_0x3bf054(0x214)+_0x47cb03+')'),showToast(_0x5ccf01,!![]),afterSaveAction(_0x52de0b);}function updateSeriesBatch(_0x496cc5,_0x4abd89){const _0x33d27a=a2_0x27bf96,_0x33e197=[],_0x2a2058=_0x4abd89['seriesId'];if(_0x496cc5==='single'){const _0x1939a2={..._0x4abd89,'seriesId':null},_0x4d324d=sessions['findIndex'](_0x1e4f52=>_0x1e4f52['id']===_0x4abd89['id']);if(_0x4d324d!==-0x1)sessions[_0x4d324d]=_0x1939a2;_0x33e197[_0x33d27a(0x1f4)](_0x1939a2[_0x33d27a(0x1d8)]);}else{if(_0x496cc5==='series'){const _0x5e536d=_0x4abd89[_0x33d27a(0x1d8)];sessions['forEach']((_0x1b16b7,_0x4e572b)=>{const _0x1cebc8=_0x33d27a;_0x1b16b7[_0x1cebc8(0x2cf)]===_0x2a2058&&_0x1b16b7[_0x1cebc8(0x1d8)]>=_0x5e536d&&(sessions[_0x4e572b]={...sessions[_0x4e572b],'start':_0x4abd89[_0x1cebc8(0x2a0)],'end':_0x4abd89['end'],'note':_0x4abd89['note'],'client':_0x4abd89[_0x1cebc8(0x192)],'clientId':_0x4abd89[_0x1cebc8(0x2e5)]},_0x33e197[_0x1cebc8(0x1f4)](_0x1b16b7[_0x1cebc8(0x1d8)]));});}}afterSaveAction(_0x33e197);}function tryDeleteSession(){const _0x237f21=a2_0x27bf96,_0xc9ea41=sessions[_0x237f21(0x28a)](_0x2055ad=>_0x2055ad['id']===editingId);if(!_0xc9ea41)return;_0xc9ea41[_0x237f21(0x2cf)]?openActionSheet('delete'):commitDelete('single',_0xc9ea41);}function commitDelete(_0x60dae9,_0x21d272){const _0x160a81=a2_0x27bf96;lastUserActionTime=Date[_0x160a81(0x287)](),NotificationManager[_0x160a81(0x204)](_0x160a81(0x27a),_0x21d272);const _0x1ed696=[];if(_0x60dae9===_0x160a81(0x2ab))sessions=sessions[_0x160a81(0x1cf)](_0x78fbe0=>_0x78fbe0['id']!==_0x21d272['id']),_0x1ed696[_0x160a81(0x1f4)](_0x21d272[_0x160a81(0x1d8)]);else{if(_0x60dae9===_0x160a81(0x18d)){const _0x2ec55e=_0x21d272['dateStr'],_0x5f018c=_0x21d272[_0x160a81(0x2cf)];sessions[_0x160a81(0x2de)](_0x6d33cd=>{const _0x44fa47=_0x160a81;_0x6d33cd['seriesId']===_0x5f018c&&_0x6d33cd[_0x44fa47(0x1d8)]>=_0x2ec55e&&_0x1ed696['push'](_0x6d33cd[_0x44fa47(0x1d8)]);}),sessions=sessions[_0x160a81(0x1cf)](_0x39339e=>!(_0x39339e[_0x160a81(0x2cf)]===_0x5f018c&&_0x39339e[_0x160a81(0x1d8)]>=_0x2ec55e));}}afterSaveAction(_0x1ed696);}function afterSaveAction(_0x2f013b){const _0x33902e=a2_0x27bf96;DataManager['saveLocally'](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x33902e(0x215)](_0x2f013b)[_0x33902e(0x209)](()=>console['log'](_0x33902e(0x262)))[_0x33902e(0x1f7)](_0x50b408=>showToast(_0x33902e(0x1f3),![]));}const NotificationManager={'formatDate'(_0x1faf17){const _0x2dc9e0=a2_0x27bf96,_0xfd2974=new Date(_0x1faf17),_0x8c4588={'weekday':_0x2dc9e0(0x207),'day':_0x2dc9e0(0x165),'month':_0x2dc9e0(0x207)};let _0x3ff66c=_0xfd2974[_0x2dc9e0(0x16a)](_0x2dc9e0(0x233),_0x8c4588);return _0x3ff66c['charAt'](0x0)[_0x2dc9e0(0x1e2)]()+_0x3ff66c[_0x2dc9e0(0x208)](0x1);},'getText'(_0x540916,_0x3cba37){const _0x3bc8b8=a2_0x27bf96,_0x264ab2=this[_0x3bc8b8(0x268)](_0x3cba37[_0x3bc8b8(0x1d8)]);switch(_0x540916){case _0x3bc8b8(0x2e6):return _0x3bc8b8(0x2a6)+(_0x3bc8b8(0x22a)+_0x264ab2+'\x0a')+('<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20'+_0x3cba37[_0x3bc8b8(0x2a0)]+_0x3bc8b8(0x23c)+_0x3cba37[_0x3bc8b8(0x1dc)]+'\x0a\x0a')+_0x3bc8b8(0x170);case'update':return'<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a'+_0x3bc8b8(0x24c)+(_0x3bc8b8(0x263)+_0x3cba37[_0x3bc8b8(0x2a0)]+_0x3bc8b8(0x23c)+_0x3cba37['end']+_0x3bc8b8(0x2d6))+(_0x3bc8b8(0x22a)+_0x264ab2);case'cancel':return _0x3bc8b8(0x1e5)+(_0x3bc8b8(0x1b6)+_0x264ab2+'\x20('+_0x3cba37[_0x3bc8b8(0x2a0)]+_0x3bc8b8(0x2f0));case _0x3bc8b8(0x18b):return _0x3bc8b8(0x2ad)+_0x3bc8b8(0x16d)+_0x3bc8b8(0x251);default:return'';}},async 'send'(_0x1a8d68,_0x4c332b){const _0x585a46=a2_0x27bf96;console[_0x585a46(0x213)](_0x585a46(0x211),_0x1a8d68,_0x4c332b);if(!_0x4c332b){console[_0x585a46(0x281)](_0x585a46(0x198));return;}const _0xeb4119=String(_0x4c332b[_0x585a46(0x2e5)]);console['log'](_0x585a46(0x1e4),_0xeb4119);if(!_0x4c332b[_0x585a46(0x2e5)]||_0xeb4119===_0x585a46(0x169)||_0xeb4119===_0x585a46(0x28c)){console[_0x585a46(0x281)](_0x585a46(0x26a));if(_0x4c332b[_0x585a46(0x192)]){const _0x13409d=clients[_0x585a46(0x28a)](_0x423b6b=>_0x423b6b[_0x585a46(0x22d)]===_0x4c332b[_0x585a46(0x192)]);if(_0x13409d)return console[_0x585a46(0x213)]('[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:',_0x13409d['id']),this[_0x585a46(0x204)](_0x1a8d68,{..._0x4c332b,'clientId':_0x13409d['id']});}return;}if(_0xeb4119['length']<0x5){console[_0x585a46(0x24d)]('[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)',_0xeb4119);return;}const _0x1a2d85=this[_0x585a46(0x1c8)](_0x1a8d68,_0x4c332b);if(!_0x1a2d85){console['error'](_0x585a46(0x19a));return;}console[_0x585a46(0x213)]('[Notify]\x20Sending\x20to\x20GAS\x20for\x20'+_0xeb4119+_0x585a46(0x261)),DataManager[_0x585a46(0x2c6)](_0x585a46(0x21a),{'chatId':_0xeb4119,'text':_0x1a2d85})[_0x585a46(0x209)](_0x580378=>console[_0x585a46(0x213)](_0x585a46(0x266),_0x580378))[_0x585a46(0x1f7)](_0x11ba70=>console[_0x585a46(0x281)](_0x585a46(0x16c),_0x11ba70));}};function getLocalDateStr(_0x1c9e7a){const _0x4325e7=a2_0x27bf96,_0x3c22c4=_0x1c9e7a['getFullYear'](),_0x15dbc1=String(_0x1c9e7a['getMonth']()+0x1)['padStart'](0x2,'0'),_0x28bf52=String(_0x1c9e7a['getDate']())[_0x4325e7(0x2b3)](0x2,'0');return _0x3c22c4+'-'+_0x15dbc1+'-'+_0x28bf52;}function getDateStr(_0x59352d){const _0x135504=a2_0x27bf96,_0x1135a7=new Date();return _0x1135a7['setDate'](_0x1135a7[_0x135504(0x1a0)]()+_0x59352d),getLocalDateStr(_0x1135a7);}function getStartOfWeek(_0x40be5c){const _0x2eaff0=a2_0x27bf96,_0x49a49b=new Date(_0x40be5c),_0x29b642=_0x49a49b['getDay'](),_0x44e836=_0x49a49b[_0x2eaff0(0x1a0)]()-_0x29b642+(_0x29b642===0x0?-0x6:0x1);return _0x49a49b['setDate'](_0x44e836),_0x49a49b[_0x2eaff0(0x23a)](0x0,0x0,0x0,0x0),_0x49a49b;}function hexToRgba(_0x5c2493,_0x15f184){const _0x14b3f9=a2_0x27bf96;if(!_0x5c2493)return _0x14b3f9(0x1d4);let _0x5585a4=0x0,_0x1f67a6=0x0,_0x16a441=0x0;if(_0x5c2493[_0x14b3f9(0x289)]===0x4)_0x5585a4='0x'+_0x5c2493[0x1]+_0x5c2493[0x1],_0x1f67a6='0x'+_0x5c2493[0x2]+_0x5c2493[0x2],_0x16a441='0x'+_0x5c2493[0x3]+_0x5c2493[0x3];else _0x5c2493['length']===0x7&&(_0x5585a4='0x'+_0x5c2493[0x1]+_0x5c2493[0x2],_0x1f67a6='0x'+_0x5c2493[0x3]+_0x5c2493[0x4],_0x16a441='0x'+_0x5c2493[0x5]+_0x5c2493[0x6]);return _0x14b3f9(0x17d)+ +_0x5585a4+',\x20'+ +_0x1f67a6+',\x20'+ +_0x16a441+',\x20'+_0x15f184+')';}function renderTimeColumn(){const _0x43864e=a2_0x27bf96,_0x17c35c=document[_0x43864e(0x1da)](_0x43864e(0x185)),_0x3baa5f=document[_0x43864e(0x1da)](_0x43864e(0x240));_0x17c35c[_0x43864e(0x23e)]='',_0x17c35c[_0x43864e(0x280)](_0x3baa5f);for(let _0x58103c=0x0;_0x58103c<0x18;_0x58103c++){const _0xed9e53=document[_0x43864e(0x2d8)](_0x43864e(0x23b));_0xed9e53[_0x43864e(0x223)]=_0x43864e(0x2c0);if(_0x58103c>0x0)_0xed9e53[_0x43864e(0x23e)]=_0x43864e(0x260)+String(_0x58103c)[_0x43864e(0x2b3)](0x2,'0')+_0x43864e(0x2bd);_0x17c35c['appendChild'](_0xed9e53);}}function renderDayRange(_0x11cbd2,_0x492e50){const _0x405d3d=a2_0x27bf96,_0xb2ed41=document[_0x405d3d(0x1da)](_0x405d3d(0x175)),_0x1f4916=document[_0x405d3d(0x1da)](_0x405d3d(0x284)),_0x43517c=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x2e1d09=new Date();_0x2e1d09['setHours'](0x0,0x0,0x0,0x0);const _0x5e9549=getLocalDateStr(new Date());for(let _0xbcadf2=_0x11cbd2;_0xbcadf2<=_0x492e50;_0xbcadf2++){const _0x3a7e5a=new Date(_0x2e1d09);_0x3a7e5a[_0x405d3d(0x1a5)](_0x3a7e5a[_0x405d3d(0x1a0)]()+_0xbcadf2);const _0x1febf1=getLocalDateStr(_0x3a7e5a);let _0x41befc=_0x3a7e5a['getDay']()-0x1;if(_0x41befc===-0x1)_0x41befc=0x6;const _0x471dd3=_0x1febf1===_0x5e9549,_0x12bf0e=document[_0x405d3d(0x2d8)](_0x405d3d(0x23b));_0x12bf0e[_0x405d3d(0x223)]=_0x405d3d(0x188)+(_0x471dd3?_0x405d3d(0x26c):''),_0x12bf0e['id']=_0x405d3d(0x200)+_0x1febf1,_0x12bf0e[_0x405d3d(0x193)](_0x405d3d(0x1c9),_0x1febf1),_0x12bf0e[_0x405d3d(0x23e)]='<div\x20class=\x22dch-day\x22>'+_0x43517c[_0x41befc]+_0x405d3d(0x1dd)+_0x3a7e5a[_0x405d3d(0x1a0)]()+_0x405d3d(0x221)+_0x1febf1+_0x405d3d(0x1df),_0x12bf0e[_0x405d3d(0x1a2)]=()=>openDayOptions(_0x1febf1,_0x43517c[_0x41befc]+'\x20'+_0x3a7e5a[_0x405d3d(0x1a0)]()),_0xb2ed41[_0x405d3d(0x280)](_0x12bf0e);const _0x3db0f4=document[_0x405d3d(0x2d8)](_0x405d3d(0x23b));_0x3db0f4[_0x405d3d(0x223)]=_0x405d3d(0x19b)+(_0x471dd3?_0x405d3d(0x26c):''),_0x3db0f4['setAttribute']('data-date',_0x1febf1),_0x3db0f4[_0x405d3d(0x193)](_0x405d3d(0x1c7),_0x41befc),renderEventsForColumn(_0x3db0f4,_0x1febf1,_0x41befc),attachLongPressHandler(_0x3db0f4,_0x3a7e5a),_0x1f4916['appendChild'](_0x3db0f4),updateDayStats(_0x1febf1);}}function reRenderBlocks(){const _0x28214c=a2_0x27bf96;document[_0x28214c(0x248)]('#gridColumns\x20.day-column')[_0x28214c(0x2de)](_0x3ac2c5=>{const _0x4fd41f=_0x28214c;_0x3ac2c5['querySelectorAll']('.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card')[_0x4fd41f(0x2de)](_0x10698e=>_0x10698e[_0x4fd41f(0x1e7)]());const _0x48d987=_0x3ac2c5[_0x4fd41f(0x1e1)](_0x4fd41f(0x1c9)),_0x4f9f27=parseInt(_0x3ac2c5[_0x4fd41f(0x1e1)](_0x4fd41f(0x1c7))),_0x373c88=Math['round'](_0x3ac2c5['offsetLeft']);(availabilityPattern[_0x4f9f27]||[])['forEach'](_0xa9a257=>{const _0x1d3409=_0x4fd41f,_0x19a37e=document[_0x1d3409(0x2d8)](_0x1d3409(0x23b));_0x19a37e[_0x1d3409(0x223)]=_0x1d3409(0x242);const _0x2792d5=_0xa9a257*GRID_H;_0x19a37e[_0x1d3409(0x1e6)][_0x1d3409(0x161)]=_0x2792d5+'px',_0x19a37e[_0x1d3409(0x1e6)][_0x1d3409(0x1b1)]='-'+_0x373c88+_0x1d3409(0x2e0)+_0x2792d5+'px',_0x3ac2c5['appendChild'](_0x19a37e);});if(specialRanges&&specialRanges[_0x4fd41f(0x289)]>0x0){const _0x3c1fe3=new Date(_0x48d987+'T00:00:00')['getTime'](),_0x3304b8=new Date(_0x48d987+'T23:59:59')[_0x4fd41f(0x239)]();specialRanges[_0x4fd41f(0x2de)](_0x21e2a8=>{const _0x4fd975=_0x4fd41f,_0x2a5e29=new Date(_0x21e2a8[_0x4fd975(0x2a0)])[_0x4fd975(0x239)](),_0x3b5378=new Date(_0x21e2a8['end'])[_0x4fd975(0x239)](),_0x53ac2c=Math['max'](_0x3c1fe3,_0x2a5e29),_0x79331c=Math[_0x4fd975(0x2b7)](_0x3304b8,_0x3b5378);if(_0x53ac2c<_0x79331c){if(_0x53ac2c<=_0x3c1fe3&&_0x79331c>=_0x3304b8-0xea60){if(!_0x3ac2c5['querySelector'](_0x4fd975(0x2cd))){const _0x669fce=document['createElement']('div');_0x669fce['className']=_0x4fd975(0x1d7),_0x669fce['style'][_0x4fd975(0x1b1)]='-'+_0x373c88+'px\x200px',_0x3ac2c5['appendChild'](_0x669fce);}}else{const _0x3ede9c=(_0x53ac2c-_0x3c1fe3)/0x36ee80*GRID_H,_0x1bd98c=(_0x79331c-_0x53ac2c)/0x36ee80*GRID_H,_0x227777=document[_0x4fd975(0x2d8)](_0x4fd975(0x23b));_0x227777[_0x4fd975(0x223)]=_0x4fd975(0x1ba),_0x227777['style']['top']=_0x3ede9c+'px',_0x227777['style'][_0x4fd975(0x18e)]=_0x1bd98c+'px',_0x227777[_0x4fd975(0x1e6)][_0x4fd975(0x1b1)]='-'+_0x373c88+'px\x20-'+_0x3ede9c+'px',_0x3ac2c5[_0x4fd975(0x280)](_0x227777);}}});}if(dateExceptions[_0x48d987]===_0x4fd41f(0x201)){if(!_0x3ac2c5[_0x4fd41f(0x244)](_0x4fd41f(0x2cd))){const _0x2c17f8=document[_0x4fd41f(0x2d8)](_0x4fd41f(0x23b));_0x2c17f8[_0x4fd41f(0x223)]=_0x4fd41f(0x1d7),_0x2c17f8['style'][_0x4fd41f(0x1b1)]='-'+_0x373c88+_0x4fd41f(0x258),_0x3ac2c5[_0x4fd41f(0x280)](_0x2c17f8);}}renderEventsForColumn(_0x3ac2c5,_0x48d987,_0x4f9f27),updateDayStats(_0x48d987);});}function updateAllDayStats(){const _0x1fcb52=a2_0x27bf96;document[_0x1fcb52(0x248)](_0x1fcb52(0x2e1))['forEach'](_0x3aa201=>{const _0x503d5a=_0x1fcb52;updateDayStats(_0x3aa201['getAttribute'](_0x503d5a(0x1c9)));});}function updateDayStats(_0x13e0a1){const _0x1873f1=a2_0x27bf96,_0x24dcaf=document[_0x1873f1(0x1da)](_0x1873f1(0x1a6)+_0x13e0a1);if(!_0x24dcaf)return;const _0x3e1b51=new Date(_0x13e0a1);let _0x4a1e42=_0x3e1b51[_0x1873f1(0x2ce)]()-0x1;if(_0x4a1e42===-0x1)_0x4a1e42=0x6;if(dateExceptions[_0x13e0a1]==='off'){_0x24dcaf[_0x1873f1(0x1e6)][_0x1873f1(0x228)]=_0x1873f1(0x227);return;}const _0x25a371=availabilityPattern[_0x4a1e42]||[],_0x3c9988=0x18-_0x25a371[_0x1873f1(0x289)],_0x4a4d9d=_0x3c9988*0x3c,_0x3a4e5f=sessions[_0x1873f1(0x1cf)](_0x10acaa=>_0x10acaa['dateStr']===_0x13e0a1&&_0x10acaa[_0x1873f1(0x27d)]!=='cancelled');if(_0x3a4e5f[_0x1873f1(0x289)]===0x0){_0x24dcaf[_0x1873f1(0x1e6)][_0x1873f1(0x228)]=_0x1873f1(0x227);return;}let _0x3a75d7=_0x3a4e5f[_0x1873f1(0x2c4)](_0x1b93ca=>{const _0x337dcf=_0x1873f1,[_0x534d97,_0x44aaf7]=_0x1b93ca[_0x337dcf(0x2a0)][_0x337dcf(0x2c9)](':')[_0x337dcf(0x2c4)](Number),[_0x4596d5,_0x3b54fe]=_0x1b93ca[_0x337dcf(0x1dc)]['split'](':')[_0x337dcf(0x2c4)](Number);return[_0x534d97*0x3c+_0x44aaf7,_0x4596d5*0x3c+_0x3b54fe];});_0x3a75d7[_0x1873f1(0x259)]((_0x59a24d,_0x1a86a4)=>_0x59a24d[0x0]-_0x1a86a4[0x0]);let _0x323edc=[];if(_0x3a75d7[_0x1873f1(0x289)]>0x0){let _0x2694c5=_0x3a75d7[0x0];for(let _0x574a9a=0x1;_0x574a9a<_0x3a75d7[_0x1873f1(0x289)];_0x574a9a++){_0x3a75d7[_0x574a9a][0x0]<_0x2694c5[0x1]?_0x2694c5[0x1]=Math['max'](_0x2694c5[0x1],_0x3a75d7[_0x574a9a][0x1]):(_0x323edc[_0x1873f1(0x1f4)](_0x2694c5),_0x2694c5=_0x3a75d7[_0x574a9a]);}_0x323edc[_0x1873f1(0x1f4)](_0x2694c5);}let _0x34bb92=0x0;_0x323edc[_0x1873f1(0x2de)](_0x4aa44d=>_0x34bb92+=_0x4aa44d[0x1]-_0x4aa44d[0x0]),_0x24dcaf[_0x1873f1(0x1e6)][_0x1873f1(0x228)]=_0x1873f1(0x270);const _0x5846be=_0x24dcaf[_0x1873f1(0x244)](_0x1873f1(0x19e));if(_0x4a4d9d===0x0){_0x5846be[_0x1873f1(0x1e6)][_0x1873f1(0x269)]=_0x1873f1(0x220),_0x5846be['style']['background']=_0x1873f1(0x1a3);return;}const _0x1c691e=_0x34bb92/_0x4a4d9d*0x64;console[_0x1873f1(0x213)]('['+_0x13e0a1+_0x1873f1(0x241)+_0x3c9988+'—á,\x20–ó–∞–Ω—è—Ç–æ:\x20'+_0x34bb92+_0x1873f1(0x1bf)+_0x1c691e[_0x1873f1(0x16b)](0x1)+'%'),_0x1c691e>0x64?(_0x5846be[_0x1873f1(0x1e6)][_0x1873f1(0x269)]=_0x1873f1(0x220),_0x5846be[_0x1873f1(0x1e6)][_0x1873f1(0x176)]=_0x1873f1(0x1a3)):(_0x5846be[_0x1873f1(0x1e6)]['width']=_0x1c691e+'%',_0x5846be[_0x1873f1(0x1e6)][_0x1873f1(0x176)]=_0x1873f1(0x2df));}function renderEventsForColumn(_0x2aa613,_0x27415b,_0x14f395){const _0x4ef556=a2_0x27bf96,_0x4bcc92=sessions[_0x4ef556(0x1cf)](_0x210f03=>_0x210f03[_0x4ef556(0x1d8)]===_0x27415b),_0x13569e=_0x4bcc92[_0x4ef556(0x2c4)](_0x3b4fff=>{const _0x38a7f9=_0x4ef556,[_0x2f87ea,_0x5a2ddc]=_0x3b4fff[_0x38a7f9(0x2a0)][_0x38a7f9(0x2c9)](':')[_0x38a7f9(0x2c4)](Number),[_0x98b024,_0xd5c279]=_0x3b4fff[_0x38a7f9(0x1dc)]['split'](':')['map'](Number);return{'data':_0x3b4fff,'start':_0x2f87ea*0x3c+_0x5a2ddc,'end':_0x98b024*0x3c+_0xd5c279,'colIndex':0x0};});_0x13569e['sort']((_0x13ef21,_0xbd638b)=>{const _0x3534e2=_0x4ef556;if(_0x13ef21[_0x3534e2(0x2a0)]!==_0xbd638b['start'])return _0x13ef21[_0x3534e2(0x2a0)]-_0xbd638b['start'];return _0xbd638b[_0x3534e2(0x1dc)]-_0xbd638b[_0x3534e2(0x2a0)]-(_0x13ef21[_0x3534e2(0x1dc)]-_0x13ef21['start']);});const _0x5e6cbb=[];_0x13569e[_0x4ef556(0x2de)](_0x59f28e=>{const _0x40911e=_0x4ef556;let _0x2ca1ed=![];for(let _0x15a960=0x0;_0x15a960<_0x5e6cbb[_0x40911e(0x289)];_0x15a960++){const _0x253b44=_0x5e6cbb[_0x15a960],_0x936954=_0x253b44[_0x253b44[_0x40911e(0x289)]-0x1];if(_0x59f28e['start']>=_0x936954['end']){_0x253b44['push'](_0x59f28e),_0x59f28e[_0x40911e(0x25b)]=_0x15a960,_0x2ca1ed=!![];break;}}!_0x2ca1ed&&(_0x5e6cbb['push']([_0x59f28e]),_0x59f28e['colIndex']=_0x5e6cbb[_0x40911e(0x289)]-0x1);}),_0x13569e['forEach'](_0x21bfa9=>{const _0x1972d1=_0x4ef556;let _0x2b137e=0x0;_0x13569e[_0x1972d1(0x2de)](_0xc8277=>{const _0x1468eb=_0x1972d1;if(Math[_0x1468eb(0x2b2)](_0x21bfa9[_0x1468eb(0x2a0)],_0xc8277[_0x1468eb(0x2a0)])<Math[_0x1468eb(0x2b7)](_0x21bfa9[_0x1468eb(0x1dc)],_0xc8277[_0x1468eb(0x1dc)])){if(_0xc8277[_0x1468eb(0x25b)]>_0x2b137e)_0x2b137e=_0xc8277[_0x1468eb(0x25b)];}});const _0x3b1979=_0x2b137e+0x1,_0x363523=0x64/_0x3b1979,_0x1168e2=_0x21bfa9['colIndex']*_0x363523,_0x5d1550=createEventEl(_0x21bfa9[_0x1972d1(0x206)]);_0x5d1550[_0x1972d1(0x1e6)][_0x1972d1(0x269)]='calc('+_0x363523+_0x1972d1(0x256),_0x5d1550[_0x1972d1(0x1e6)][_0x1972d1(0x1c4)]=_0x1972d1(0x1f2)+_0x1168e2+_0x1972d1(0x2a9),_0x5d1550[_0x1972d1(0x1e6)][_0x1972d1(0x27f)]=0xa+_0x21bfa9['colIndex'],_0x363523<0x55&&_0x5d1550['classList']['add'](_0x1972d1(0x1f5)),_0x2aa613[_0x1972d1(0x280)](_0x5d1550);});}function createEventEl(_0x498b5a){const _0x2bc7f6=a2_0x27bf96,[_0x33f71e,_0x1e6942]=_0x498b5a[_0x2bc7f6(0x2a0)][_0x2bc7f6(0x2c9)](':')[_0x2bc7f6(0x2c4)](Number),[_0x4d851c,_0x4de64e]=_0x498b5a[_0x2bc7f6(0x1dc)][_0x2bc7f6(0x2c9)](':')['map'](Number),_0x4a7195=(_0x33f71e*0x3c+_0x1e6942)/0x3c*GRID_H,_0x2aca15=(_0x4d851c*0x3c+_0x4de64e-(_0x33f71e*0x3c+_0x1e6942))/0x3c*GRID_H,_0x2b56da=document[_0x2bc7f6(0x2d8)]('div'),_0x250247=_0x498b5a[_0x2bc7f6(0x27d)]===_0x2bc7f6(0x295)?_0x2bc7f6(0x1b0):'';_0x2b56da[_0x2bc7f6(0x223)]=_0x2bc7f6(0x21e)+_0x250247,_0x2b56da[_0x2bc7f6(0x1e6)]['top']=_0x4a7195+'px',_0x2b56da[_0x2bc7f6(0x1e6)][_0x2bc7f6(0x18e)]=Math[_0x2bc7f6(0x2b2)](_0x2aca15,0x14)+'px';const _0x43f28c=clients[_0x2bc7f6(0x28a)](_0x525b35=>_0x498b5a[_0x2bc7f6(0x2e5)]&&String(_0x525b35['id'])===String(_0x498b5a[_0x2bc7f6(0x2e5)])||_0x525b35['name']===_0x498b5a['client']),_0x5407b0=_0x43f28c?_0x43f28c['color']:_0x2bc7f6(0x2ae);_0x2b56da[_0x2bc7f6(0x1e6)][_0x2bc7f6(0x25e)]=_0x5407b0,_0x2b56da[_0x2bc7f6(0x1e6)][_0x2bc7f6(0x22c)]=hexToRgba(_0x5407b0,0.85);let _0x15eb76=_0x2bc7f6(0x16e)+_0x498b5a[_0x2bc7f6(0x192)]+_0x2bc7f6(0x20f)+_0x498b5a[_0x2bc7f6(0x2a0)]+_0x2bc7f6(0x1f0)+_0x498b5a[_0x2bc7f6(0x1dc)]+_0x2bc7f6(0x1bc);return _0x498b5a[_0x2bc7f6(0x2cf)]&&(_0x15eb76+=_0x2bc7f6(0x164)),_0x498b5a['status']===_0x2bc7f6(0x295)&&(_0x15eb76+=_0x2bc7f6(0x182)),_0x2b56da[_0x2bc7f6(0x23e)]=_0x15eb76,_0x2b56da[_0x2bc7f6(0x1a2)]=_0x9505ab=>{const _0x2fc189=_0x2bc7f6;_0x9505ab[_0x2fc189(0x243)](),openEdit(_0x498b5a);},_0x2b56da;}function attachLongPressHandler(_0x33b45a,_0x317695){const _0x44e9d2=a2_0x27bf96;let _0x33500f=0x0,_0x5747b2=null;const _0x357b67=_0x38463d=>{const _0x5bcc00=a2_0x9b9e;if(_0x38463d[_0x5bcc00(0x229)][_0x5bcc00(0x1b5)]('.event-card'))return;isScrolling=![],_0x33500f=_0x38463d[_0x5bcc00(0x2b9)]?_0x38463d[_0x5bcc00(0x2b9)][0x0]['clientY']:_0x38463d[_0x5bcc00(0x2ba)],_0x5747b2=setTimeout(()=>{const _0x556b4b=_0x5bcc00;if(!isScrolling){navigator[_0x556b4b(0x296)]?.(0x32);const _0x117df8=_0x33b45a[_0x556b4b(0x26d)](),_0x126a5a=Math[_0x556b4b(0x167)]((_0x33500f-_0x117df8[_0x556b4b(0x161)])/GRID_H);_0x317695[_0x556b4b(0x23a)](_0x126a5a,0x0),openAddSession(_0x317695);}},0x1f4);},_0x25a46b=()=>{isScrolling=!![],clearTimeout(_0x5747b2);},_0x39a42a=()=>{clearTimeout(_0x5747b2);};_0x33b45a[_0x44e9d2(0x2b1)](_0x44e9d2(0x2c7),_0x357b67,{'passive':!![]}),_0x33b45a[_0x44e9d2(0x2b1)]('touchmove',_0x25a46b,{'passive':!![]}),_0x33b45a[_0x44e9d2(0x2b1)](_0x44e9d2(0x2dd),_0x39a42a),_0x33b45a[_0x44e9d2(0x2b1)](_0x44e9d2(0x2af),_0x357b67),_0x33b45a[_0x44e9d2(0x2b1)]('mousemove',_0x25a46b),_0x33b45a[_0x44e9d2(0x2b1)](_0x44e9d2(0x197),_0x39a42a);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x129431=a2_0x27bf96,_0x1b4f67=document['getElementById'](_0x129431(0x237)),_0x49d3e7=_0x1b4f67[_0x129431(0x1fa)],_0x389e0d=_0x1b4f67['scrollWidth'],_0x1f9fa1=_0x1b4f67[_0x129431(0x271)];if(_0x389e0d-(_0x49d3e7+_0x1f9fa1)<0x12c){const _0x2c49f4=endOffset;endOffset+=0xe,renderDayRange(_0x2c49f4+0x1,endOffset),reRenderBlocks();}if(_0x49d3e7<0x12c){const _0x5f4db7=startOffset;startOffset-=0xe,prependDays(startOffset,_0x5f4db7-0x1),_0x1b4f67['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x9c45b8,_0x3277b7){const _0x54cb4b=a2_0x27bf96,_0x3129b5=document[_0x54cb4b(0x1da)]('daysHeaderTrack'),_0x253d73=document['getElementById']('gridColumns'),_0x37f25e=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x285831=new Date();_0x285831[_0x54cb4b(0x23a)](0x0,0x0,0x0,0x0);const _0x2ea5f9=getLocalDateStr(new Date()),_0x42cd43=document[_0x54cb4b(0x28f)](),_0x37337f=document['createDocumentFragment']();for(let _0x456f43=_0x9c45b8;_0x456f43<=_0x3277b7;_0x456f43++){const _0xd6011c=new Date(_0x285831);_0xd6011c[_0x54cb4b(0x1a5)](_0xd6011c[_0x54cb4b(0x1a0)]()+_0x456f43);const _0x30f5e4=getLocalDateStr(_0xd6011c);let _0x3a81a3=_0xd6011c[_0x54cb4b(0x2ce)]()-0x1;if(_0x3a81a3===-0x1)_0x3a81a3=0x6;const _0x4e8ada=_0x30f5e4===_0x2ea5f9,_0x59cce7=document[_0x54cb4b(0x2d8)]('div');_0x59cce7[_0x54cb4b(0x223)]='day-col-header\x20'+(_0x4e8ada?'today':''),_0x59cce7['id']=_0x54cb4b(0x200)+_0x30f5e4,_0x59cce7[_0x54cb4b(0x193)](_0x54cb4b(0x1c9),_0x30f5e4),_0x59cce7[_0x54cb4b(0x23e)]=_0x54cb4b(0x1e9)+_0x37f25e[_0x3a81a3]+_0x54cb4b(0x1dd)+_0xd6011c['getDate']()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0x30f5e4+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x59cce7['onclick']=()=>openDayOptions(_0x30f5e4,_0x37f25e[_0x3a81a3]+'\x20'+_0xd6011c[_0x54cb4b(0x1a0)]()),_0x42cd43[_0x54cb4b(0x280)](_0x59cce7);const _0x931594=document['createElement'](_0x54cb4b(0x23b));_0x931594[_0x54cb4b(0x223)]='day-column\x20'+(_0x4e8ada?_0x54cb4b(0x26c):''),_0x931594[_0x54cb4b(0x193)](_0x54cb4b(0x1c9),_0x30f5e4),_0x931594[_0x54cb4b(0x193)]('data-day-idx',_0x3a81a3),renderEventsForColumn(_0x931594,_0x30f5e4,_0x3a81a3),attachLongPressHandler(_0x931594,_0xd6011c),_0x37337f[_0x54cb4b(0x280)](_0x931594),updateDayStats(_0x30f5e4);}_0x3129b5[_0x54cb4b(0x2c2)](_0x42cd43,_0x3129b5[_0x54cb4b(0x2bc)]),_0x253d73['insertBefore'](_0x37337f,_0x253d73['querySelector']('.day-column'));}function validateAppointment(_0x10fa6b,_0x1cfe46,_0x5b8e43,_0x32fdf3,_0x5cb98c){const _0x5335db=a2_0x27bf96,[_0x490eff,_0x2f6d9f]=_0x1cfe46['split'](':')['map'](Number),[_0xd2cdb0,_0x557cee]=_0x5b8e43['split'](':')[_0x5335db(0x2c4)](Number),_0x472931=_0x490eff*0x3c+_0x2f6d9f,_0x43f3ac=_0xd2cdb0*0x3c+_0x557cee,_0xa16df3=String(_0x5cb98c);let _0xa15631=![],_0x1146cb='';for(let _0x2dda6e of sessions){if(_0x2dda6e['dateStr']!==_0x10fa6b)continue;if(_0x2dda6e['status']===_0x5335db(0x257))continue;if(_0x32fdf3&&String(_0x2dda6e['id'])===String(_0x32fdf3))continue;const [_0x57ea57,_0x33723d]=_0x2dda6e['start']['split'](':')[_0x5335db(0x2c4)](Number),[_0x329ca0,_0x446874]=_0x2dda6e[_0x5335db(0x1dc)][_0x5335db(0x2c9)](':')[_0x5335db(0x2c4)](Number),_0x2845f6=_0x57ea57*0x3c+_0x33723d,_0x414d36=_0x329ca0*0x3c+_0x446874;if(Math[_0x5335db(0x2b2)](_0x472931,_0x2845f6)<Math[_0x5335db(0x2b7)](_0x43f3ac,_0x414d36)){if(_0x2dda6e['clientId']&&String(_0x2dda6e['clientId'])===_0xa16df3)return{'valid':![],'msg':_0x5335db(0x1a7)+_0x2dda6e[_0x5335db(0x192)]+_0x5335db(0x1b4)};_0xa15631=!![],_0x1146cb=_0x2dda6e[_0x5335db(0x192)];}}if(_0xa15631)return{'valid':!![],'warning':_0x5335db(0x1ab)+_0x1146cb};return{'valid':!![]};}function a2_0x2403(){const _0x3c2685=['data-date','2586745RFXvbc','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','actionSheet','–£–¥–∞–ª–µ–Ω–∏–µ','uc_clients_v9','filter','Critical\x20TMA\x20Error:','#fff','text','overlay','rgba(100,100,100,0.5)','doDateHeader','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','day-off-overlay\x20stripe-bg','dateStr','custom','getElementById','getMonth','end','</div><div\x20class=\x22dch-num\x22>','\x20–∏–∑\x20','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','valid','getAttribute','toUpperCase','[API\x20','[Notify]\x20Detected\x20Client\x20ID:','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','style','remove','de-item','<div\x20class=\x22dch-day\x22>','active','asTitle','Telegram','inpSeriesCount','substr','from','\x20-\x20','splice','calc(','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','push','mini','planned','catch','open','23:59','scrollLeft','cancel_window','month','disableVerticalSwipes','syncLoad','Unknown','header-','off','findIndex','search','send','v9.0-BATCH-CALENDAR','data','long','slice','then','10xCifZS','sheetDateSubtitle','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','pattern','ranges','</div><div\x20class=\x22ev-time\x22>','btnDelete','[Notify]\x20Attempting\x20to\x20send:','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','log','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','syncBatch','pe-corner','constructor','[Series]\x20Skipped\x20','#050505','send_notification','offsetLeft','rgba(48,\x20209,\x2088,\x200.15)','inpClient','event-card','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','100%','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','className','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','getFullYear','done','none','display','target','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','exceptions','backgroundColor','name','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','dayOptionsTitle','statLoadCard','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','sessionSheet','ru-RU','success','anPercent','seriesCountContainer','matrixViewport','anEnd','getTime','setHours','div','\x20‚Äî\x20','settingsSheet','innerHTML','(((.+)+)+)+$','timeLineBadge',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','blocked-slot\x20stripe-bg','stopPropagation','querySelector','classList','3iCqENK','includes','querySelectorAll','anStart','rangesSheet','clients','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','warn','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','doWorkHours','rgba(255,\x2069,\x2058,\x200.3)','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','option','inpRecurring','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','Local\x20Save\x20Error','%\x20-\x204px)','cancelled','px\x200px','sort','toLocaleString','colIndex','setMonth','patternInfoBox','borderLeftColor','loadLocal','<span>','...','Batch\x20Sync\x20OK','<b>‚úÖ\x20','uc_settings_cancel_window','offsetWidth','[Notify]\x20Server\x20Response:','inpDate','formatDate','width','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','offClick','today','getBoundingClientRect','sheetTitle','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','flex','clientWidth','4rdwnMi','patternEditor','checked','expand','uc_settings_v9','scroll','apply','WebApp','cancel','recurringOptionContainer','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','status','10px','zIndex','appendChild','error','btn-status-toggle','getItem','gridColumns','random','getMinutes','now','save','length','find','var(--acc-orange)','null','.period-switch\x20.p-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','createDocumentFragment','10px\x2010px\x200\x200','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','initData','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','[Sync]\x20Loading\x20','completed','vibrate','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','doBusyHours','toastMessage','as-button\x20danger\x20bold','href','saveLocally','block','8hyDRJh','232193VUirOM','start','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','actionSheetOverlay','borderRadius','settingCancelWindow','152933vMLECB','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','Server\x20Error','calendar','%\x20+\x202px)','inpNote','single','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','#0a84ff','mousedown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','addEventListener','max','padStart','batch_sync','rangeEndDate','1456600CKmsMa','min','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','touches','clientY','rgba(255,\x20159,\x2010,\x200.3)','firstChild',':00</span>','parse','rgba(255,\x2069,\x2058,\x200.15)','time-label','note','insertBefore','[Settings]\x20Cancel\x20window\x20set\x20to:','map','week','fetchFromServer','touchstart','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','split','toString','user','settings','.day-off-overlay','getDay','seriesId','setHeaderColor','90711KpcJHM','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','.sheet','</b>\x0a\x0a','96qRaKGE','createElement','globalTimeLine','sid','anTotalStats','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','touchend','forEach','var(--acc-current)','px\x20-','.day-col-header','anCustomDates','getHours','1462326mpTrmm','clientId','create','–ò–Ω—Ñ–æ','doLoadPercent','rgba(255,255,255,0.05)','pe-cell\x20','textContent','text/plain;charset=UTF-8','scrollTop','dayOptionsSheet','analyticsSheet',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','Error\x20setting\x20color:','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','setBackgroundColor','top','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','numeric','peGrid','floor','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','undefined','toLocaleDateString','toFixed','[Notify]\x20Network\x20Failed','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','<div\x20class=\x22ev-title\x22>','add','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','[Notify]\x20Client\x20SWAP\x20detected','analyticsList','setItem',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','daysHeaderTrack','background','BackButton','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','all','btn-status-toggle\x20undo-mode','total','initDataUnsafe','rgba(','inpStart',':00','pe-col-header','entries','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','btnDayToggle','timeColumn','stringify','anDonutCircle','day-col-header\x20','client-stat-card','save_settings','complete','json','series','height','update','4273677fyPuHL','guest','client','setAttribute','btn-primary\x20btn-danger','var(--acc-green)','\x20days','mouseup','[Notify]\x20Error:\x20sessionData\x20is\x20null','borderColor','[Notify]\x20Error:\x20Text\x20generation\x20failed','day-column\x20',']\x20Failed:','</span>\x20/\x20','.dch-stats-fill','rangeEndTime','getDate','value','onclick','var(--acc-red)','rangeStartDate','setDate','stat-','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','–£—Å–ø–µ—à–Ω–æ','asBtnOne','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','00:00','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','asBtnSeries','color','\x20status-completed','backgroundPosition','indexOf','btnStatusToggle',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','closest','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','170DOKrdT','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','blocked-range-part\x20stripe-bg','rangesList','</div>','inpEnd','charAt','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','init_load','as-button\x20danger','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','round','left','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','uc_sessions_v9','data-day-idx','getText'];a2_0x2403=function(){return _0x3c2685;};return a2_0x2403();}function updateDateDisplay(){const _0x13d9a9=a2_0x27bf96,_0x2a7b9e=document[_0x13d9a9(0x1da)](_0x13d9a9(0x267))['value'],_0x1f3a8c=document[_0x13d9a9(0x1da)](_0x13d9a9(0x20b));if(!_0x2a7b9e){_0x1f3a8c[_0x13d9a9(0x2eb)]='';return;}const [_0xd22882,_0x4089d3,_0x1b7196]=_0x2a7b9e['split']('-')[_0x13d9a9(0x2c4)](Number),_0x10b86e=new Date(_0xd22882,_0x4089d3-0x1,_0x1b7196),_0x1f6413={'weekday':'long','day':_0x13d9a9(0x165),'month':'long','year':_0x13d9a9(0x165)};let _0x20b611=_0x10b86e[_0x13d9a9(0x16a)](_0x13d9a9(0x233),_0x1f6413);_0x20b611=_0x20b611[_0x13d9a9(0x1be)](0x0)[_0x13d9a9(0x1e2)]()+_0x20b611['slice'](0x1),_0x1f3a8c['textContent']=_0x20b611;}function a2_0x9b9e(_0x9d5509,_0x4e08c8){_0x9d5509=_0x9d5509-0x15e;const _0x130261=a2_0x2403();let _0x464e05=_0x130261[_0x9d5509];return _0x464e05;}function autoSetEndTime(){const _0x540f86=a2_0x27bf96,_0x2ab1d2=document[_0x540f86(0x1da)]('inpStart')['value'];if(!_0x2ab1d2)return;const [_0x35c506,_0x11d962]=_0x2ab1d2[_0x540f86(0x2c9)](':')[_0x540f86(0x2c4)](Number);let _0x2d6eb1=_0x35c506+0x1;if(_0x2d6eb1>0x17)_0x2d6eb1=0x0;const _0x563ee9=String(_0x2d6eb1)[_0x540f86(0x2b3)](0x2,'0')+':'+String(_0x11d962)[_0x540f86(0x2b3)](0x2,'0');document['getElementById'](_0x540f86(0x1bd))['value']=_0x563ee9;}function populateClientSelect(){const _0xbe2da3=a2_0x27bf96,_0x49aaa7=document['getElementById'](_0xbe2da3(0x21d));_0x49aaa7['innerHTML']='';if(clients[_0xbe2da3(0x289)]===0x0){const _0x4140df=document['createElement'](_0xbe2da3(0x252));_0x4140df[_0xbe2da3(0x1d2)]=_0xbe2da3(0x2d3),_0x49aaa7[_0xbe2da3(0x280)](_0x4140df);return;}clients[_0xbe2da3(0x2de)](_0x56f81b=>{const _0x239f4d=_0xbe2da3,_0x13c5d8=document['createElement']('option');_0x13c5d8['value']=_0x56f81b['name'],_0x13c5d8[_0x239f4d(0x2eb)]=_0x56f81b['name'],_0x49aaa7[_0x239f4d(0x280)](_0x13c5d8);});}function openActionSheet(_0x2cc2f9){const _0xc8e673=a2_0x27bf96,_0x460735=document[_0xc8e673(0x1da)](_0xc8e673(0x1cc)),_0x3406ed=document[_0xc8e673(0x1da)]('actionSheetOverlay'),_0x1c471d=document[_0xc8e673(0x1da)](_0xc8e673(0x1eb)),_0x1208a0=document[_0xc8e673(0x1da)](_0xc8e673(0x1a9)),_0x45a989=document['getElementById'](_0xc8e673(0x1ae));_0x3406ed[_0xc8e673(0x245)]['add']('active'),_0x460735[_0xc8e673(0x245)][_0xc8e673(0x16f)]('open');if(_0x2cc2f9===_0xc8e673(0x288))_0x1c471d[_0xc8e673(0x2eb)]=_0xc8e673(0x1aa),_0x1208a0['textContent']=_0xc8e673(0x1d6),_0x1208a0[_0xc8e673(0x1a2)]=()=>{const _0x385f3b=_0xc8e673;closeActionSheet(),updateSeriesBatch(_0x385f3b(0x2ab),tempSessionData);},_0x45a989[_0xc8e673(0x2eb)]=_0xc8e673(0x183),_0x45a989[_0xc8e673(0x1a2)]=()=>{closeActionSheet(),updateSeriesBatch('series',tempSessionData);};else _0x2cc2f9==='delete'&&(_0x1c471d[_0xc8e673(0x2eb)]=_0xc8e673(0x1cd),_0x1208a0[_0xc8e673(0x2eb)]=_0xc8e673(0x1d6),_0x1208a0['className']=_0xc8e673(0x1c1),_0x1208a0[_0xc8e673(0x1a2)]=()=>{const _0x4660e1=_0xc8e673;closeActionSheet(),commitDelete(_0x4660e1(0x2ab),sessions[_0x4660e1(0x28a)](_0x21364e=>_0x21364e['id']===editingId));},_0x45a989['textContent']=_0xc8e673(0x183),_0x45a989[_0xc8e673(0x223)]=_0xc8e673(0x29a),_0x45a989[_0xc8e673(0x1a2)]=()=>{closeActionSheet(),commitDelete('series',sessions['find'](_0x53ce6e=>_0x53ce6e['id']===editingId));});}function closeActionSheet(){const _0x34cca2=a2_0x27bf96;document[_0x34cca2(0x1da)](_0x34cca2(0x1cc))['classList'][_0x34cca2(0x1e7)](_0x34cca2(0x1f8)),document[_0x34cca2(0x1da)](_0x34cca2(0x2a2))['classList'][_0x34cca2(0x1e7)](_0x34cca2(0x1ea));}function openSettings(){const _0xd225c3=a2_0x27bf96;openSheet(_0xd225c3(0x23d));}function saveCoachSettings(){const _0x3f2226=a2_0x27bf96,_0x236b92=document['getElementById'](_0x3f2226(0x2a4))['value'];localStorage[_0x3f2226(0x173)](_0x3f2226(0x264),_0x236b92),console[_0x3f2226(0x213)](_0x3f2226(0x2c3),_0x236b92),DataManager[_0x3f2226(0x2c6)](_0x3f2226(0x18a),{'settings':{'cancel_window':_0x236b92}})[_0x3f2226(0x1f7)](_0x1c8c38=>{const _0x416c67=_0x3f2226;console['error']('Save\x20settings\x20error:',_0x1c8c38),showToast(_0x416c67(0x1cb),![]);});}function loadCoachSettings(){const _0x1601a3=a2_0x27bf96,_0x1ad9e2=localStorage[_0x1601a3(0x283)](_0x1601a3(0x264));_0x1ad9e2&&(document['getElementById']('settingCancelWindow')[_0x1601a3(0x1a1)]=_0x1ad9e2);}function openRangesSheet(){const _0x1a0e59=a2_0x27bf96;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x1a0e59(0x24a));}function addRange(){const _0x2b7251=a2_0x27bf96,_0x2efe2f=document[_0x2b7251(0x1da)](_0x2b7251(0x1a4))[_0x2b7251(0x1a1)],_0x193680=document[_0x2b7251(0x1da)]('rangeStartTime')[_0x2b7251(0x1a1)],_0x5a2621=document[_0x2b7251(0x1da)](_0x2b7251(0x2b5))[_0x2b7251(0x1a1)],_0xdeb7e1=document[_0x2b7251(0x1da)](_0x2b7251(0x19f))[_0x2b7251(0x1a1)];if(!_0x2efe2f||!_0x193680||!_0x5a2621||!_0xdeb7e1)return alert(_0x2b7251(0x162));const _0x5b63a6=_0x2efe2f+'T'+_0x193680,_0x19bd9a=_0x5a2621+'T'+_0xdeb7e1;if(_0x5b63a6>=_0x19bd9a)return alert(_0x2b7251(0x254));specialRanges[_0x2b7251(0x1f4)]({'start':_0x5b63a6,'end':_0x19bd9a}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x2b7251(0x29c)](),DataManager[_0x2b7251(0x2c6)](_0x2b7251(0x18a),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x4d90ca){const _0x2532a8=a2_0x27bf96;specialRanges[_0x2532a8(0x1f1)](_0x4d90ca,0x1),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x2532a8(0x2c6)](_0x2532a8(0x18a),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x2d9000=a2_0x27bf96;document['getElementById'](_0x2d9000(0x1a4))['value']='',document['getElementById']('rangeStartTime')[_0x2d9000(0x1a1)]=_0x2d9000(0x1ac),document['getElementById']('rangeEndDate')[_0x2d9000(0x1a1)]='',document[_0x2d9000(0x1da)](_0x2d9000(0x19f))[_0x2d9000(0x1a1)]=_0x2d9000(0x1f9);}function renderRangesList(){const _0x3d53f7=a2_0x27bf96,_0x37fbf1=document[_0x3d53f7(0x1da)](_0x3d53f7(0x1bb));_0x37fbf1['innerHTML']='';if(!specialRanges['length']){_0x37fbf1['innerHTML']=_0x3d53f7(0x2d4);return;}specialRanges[_0x3d53f7(0x2de)]((_0x8590eb,_0xfae601)=>{const _0x12dce8=_0x3d53f7,_0x1d953a=document[_0x12dce8(0x2d8)]('div');_0x1d953a[_0x12dce8(0x223)]='range-item';const _0x46e63e=_0x3f846a=>{const _0x55ba60=_0x12dce8,_0x6e9452=new Date(_0x3f846a);return _0x6e9452['getDate']()+'.'+String(_0x6e9452[_0x55ba60(0x1db)]()+0x1)[_0x55ba60(0x2b3)](0x2,'0')+'\x20'+String(_0x6e9452[_0x55ba60(0x2e3)]())[_0x55ba60(0x2b3)](0x2,'0')+':'+String(_0x6e9452[_0x55ba60(0x286)]())['padStart'](0x2,'0');};_0x1d953a[_0x12dce8(0x23e)]=_0x12dce8(0x1c5)+_0x46e63e(_0x8590eb[_0x12dce8(0x2a0)])+_0x12dce8(0x23c)+_0x46e63e(_0x8590eb['end'])+_0x12dce8(0x2a1)+_0xfae601+_0x12dce8(0x174),_0x37fbf1[_0x12dce8(0x280)](_0x1d953a);});}function scrollToToday(){const _0x35df73=a2_0x27bf96,_0x467440=getLocalDateStr(new Date()),_0x51d23f=document[_0x35df73(0x1da)](_0x35df73(0x200)+_0x467440),_0x46e148=document[_0x35df73(0x1da)](_0x35df73(0x237));if(_0x51d23f&&_0x46e148){const _0x329e64=_0x46e148[_0x35df73(0x271)],_0x2729c9=_0x51d23f['offsetLeft'],_0x1fd191=_0x51d23f[_0x35df73(0x265)];_0x46e148[_0x35df73(0x1fa)]=_0x2729c9-_0x329e64/0x2+_0x1fd191/0x2,_0x46e148[_0x35df73(0x2ed)]=0x9*GRID_H;}}function onScroll(){const _0x26295f=a2_0x27bf96,_0x1a981d=document[_0x26295f(0x1da)]('matrixViewport'),_0x173756=document[_0x26295f(0x248)](_0x26295f(0x2e1));for(let _0xde17c0 of _0x173756)if(_0xde17c0[_0x26295f(0x21b)]>=_0x1a981d['scrollLeft']){const _0x51c164=new Date(_0xde17c0['getAttribute'](_0x26295f(0x1c9)));document[_0x26295f(0x1da)]('headerMonth')['textContent']=_0x51c164[_0x26295f(0x25a)]('ru',{'month':'long'})[_0x26295f(0x1e2)]()+'\x20'+_0x51c164[_0x26295f(0x225)]();break;}}function showToast(_0x2d84f9,_0x36bcb9=![]){const _0x3dfc7c=a2_0x27bf96,_0x4daa59=document[_0x3dfc7c(0x1da)]('toast');_0x4daa59[_0x3dfc7c(0x223)]='toast-notification\x20'+(_0x36bcb9?_0x3dfc7c(0x234):''),document[_0x3dfc7c(0x1da)]('toastTitle')[_0x3dfc7c(0x2eb)]=_0x36bcb9?_0x3dfc7c(0x1a8):_0x3dfc7c(0x2e7),document['getElementById'](_0x3dfc7c(0x299))['textContent']=_0x2d84f9,_0x4daa59[_0x3dfc7c(0x245)][_0x3dfc7c(0x16f)]('show'),setTimeout(()=>{_0x4daa59['classList']['remove']('show');},0xbb8);}function openDayOptions(_0x4dd5fc,_0x63b755){const _0x1b1421=a2_0x27bf96;selectedDayForOptions=_0x4dd5fc,document[_0x1b1421(0x1da)](_0x1b1421(0x22f))['textContent']=_0x63b755,openSheet(_0x1b1421(0x2ee));}function toggleDayOff(){const _0x10c44b=a2_0x27bf96;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]='off',reRenderBlocks(),closeAllSheets(),DataManager[_0x10c44b(0x29c)](),DataManager[_0x10c44b(0x2c6)](_0x10c44b(0x18a),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x579002=a2_0x27bf96;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager[_0x579002(0x2c6)](_0x579002(0x18a),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x2ce1bf){const _0x2badf1=a2_0x27bf96;document[_0x2badf1(0x1da)]('overlay')[_0x2badf1(0x245)][_0x2badf1(0x16f)]('active'),document[_0x2badf1(0x1da)](_0x2ce1bf)['classList'][_0x2badf1(0x16f)]('open');}function closeAllSheets(){const _0xc808b5=a2_0x27bf96;document['getElementById'](_0xc808b5(0x1d3))[_0xc808b5(0x245)][_0xc808b5(0x1e7)]('active'),document[_0xc808b5(0x248)](_0xc808b5(0x2d5))[_0xc808b5(0x2de)](_0x57cdbb=>_0x57cdbb[_0xc808b5(0x245)][_0xc808b5(0x1e7)](_0xc808b5(0x1f8)));}function openPatternEditor(){const _0x161351=a2_0x27bf96;closeAllSheets(),document['getElementById']('patternEditor')[_0x161351(0x245)][_0x161351(0x16f)]('open'),renderPatternEditor();}function closePatternEditor(){const _0xcc6d03=a2_0x27bf96;document[_0xcc6d03(0x1da)](_0xcc6d03(0x273))['classList'][_0xcc6d03(0x1e7)](_0xcc6d03(0x1f8));}function savePattern(){const _0x495579=a2_0x27bf96;document[_0x495579(0x1da)](_0x495579(0x273))[_0x495579(0x245)][_0x495579(0x1e7)](_0x495579(0x1f8)),reRenderBlocks(),DataManager['saveLocally'](),DataManager['fetchFromServer']('save_settings',{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0xeb2c9=a2_0x27bf96,_0x3dccf0=document['getElementById'](_0xeb2c9(0x166));_0x3dccf0[_0xeb2c9(0x23e)]='';const _0x28b427=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x4dab4c=document[_0xeb2c9(0x2d8)](_0xeb2c9(0x23b));_0x4dab4c[_0xeb2c9(0x223)]=_0xeb2c9(0x216),_0x3dccf0[_0xeb2c9(0x280)](_0x4dab4c),_0x28b427[_0xeb2c9(0x2de)]((_0x4dacf8,_0x2354d5)=>{const _0x339b26=_0xeb2c9,_0x29c423=document[_0x339b26(0x2d8)](_0x339b26(0x23b));_0x29c423[_0x339b26(0x223)]=_0x339b26(0x180),_0x29c423[_0x339b26(0x23e)]=_0x4dacf8+_0x339b26(0x2d2),_0x29c423[_0x339b26(0x1a2)]=()=>toggleColPattern(_0x2354d5),_0x3dccf0[_0x339b26(0x280)](_0x29c423);});for(let _0x84c310=0x0;_0x84c310<0x18;_0x84c310++){const _0x1e3f00=document['createElement']('div');_0x1e3f00[_0xeb2c9(0x223)]='pe-time-label',_0x1e3f00[_0xeb2c9(0x23e)]=_0xeb2c9(0x2ac)+String(_0x84c310)[_0xeb2c9(0x2b3)](0x2,'0')+_0xeb2c9(0x17f),_0x1e3f00['onclick']=()=>toggleRowPattern(_0x84c310),_0x3dccf0[_0xeb2c9(0x280)](_0x1e3f00);for(let _0x44a056=0x0;_0x44a056<0x7;_0x44a056++){const _0x25b52d=document[_0xeb2c9(0x2d8)](_0xeb2c9(0x23b)),_0xd22b88=(availabilityPattern[_0x44a056]||[])[_0xeb2c9(0x247)](_0x84c310),_0x21e45f=!_0xd22b88;_0x25b52d['className']=_0xeb2c9(0x2ea)+(_0x21e45f?_0xeb2c9(0x1ea):''),_0x25b52d[_0xeb2c9(0x1a2)]=()=>toggleSinglePattern(_0x44a056,_0x84c310),_0x3dccf0[_0xeb2c9(0x280)](_0x25b52d);}}}function toggleSinglePattern(_0x536a7a,_0x168cc9){const _0x1486e6=a2_0x27bf96;if(!availabilityPattern[_0x536a7a])availabilityPattern[_0x536a7a]=[];const _0x4708d7=availabilityPattern[_0x536a7a],_0x8fd174=_0x4708d7[_0x1486e6(0x1b2)](_0x168cc9);_0x8fd174===-0x1?_0x4708d7[_0x1486e6(0x1f4)](_0x168cc9):_0x4708d7['splice'](_0x8fd174,0x1),renderPatternEditor();}function toggleColPattern(_0x5b99b6){const _0x17fa85=a2_0x27bf96;if(!availabilityPattern[_0x5b99b6])availabilityPattern[_0x5b99b6]=[];const _0x4d231b=availabilityPattern[_0x5b99b6];_0x4d231b['length']===0x0?availabilityPattern[_0x5b99b6]=Array[_0x17fa85(0x1ef)]({'length':0x18},(_0x1abc8b,_0xc5e658)=>_0xc5e658):availabilityPattern[_0x5b99b6]=[],renderPatternEditor();}function toggleRowPattern(_0x66ce8c){const _0x3ccb8d=a2_0x27bf96;let _0x2c5d48=!![];for(let _0xb4b5da=0x0;_0xb4b5da<0x7;_0xb4b5da++){if((availabilityPattern[_0xb4b5da]||[])[_0x3ccb8d(0x247)](_0x66ce8c)){_0x2c5d48=![];break;}}for(let _0x4627d2=0x0;_0x4627d2<0x7;_0x4627d2++){if(!availabilityPattern[_0x4627d2])availabilityPattern[_0x4627d2]=[];const _0x39f3be=availabilityPattern[_0x4627d2][_0x3ccb8d(0x1b2)](_0x66ce8c);if(_0x2c5d48){if(_0x39f3be===-0x1)availabilityPattern[_0x4627d2]['push'](_0x66ce8c);}else{if(_0x39f3be!==-0x1)availabilityPattern[_0x4627d2]['splice'](_0x39f3be,0x1);}}renderPatternEditor();}function renderPCol(_0x4bbdc0,_0x37c9d8){const _0x3561e2=a2_0x27bf96;_0x4bbdc0['innerHTML']='';const _0x398be5=Math[_0x3561e2(0x1c3)](_0x4bbdc0[_0x3561e2(0x21b)]);(availabilityPattern[_0x37c9d8]||[])['forEach'](_0x33e589=>{const _0x1af78f=_0x3561e2,_0x33f1dc=document['createElement'](_0x1af78f(0x23b));_0x33f1dc[_0x1af78f(0x223)]=_0x1af78f(0x242);const _0x217942=_0x33e589*GRID_H;_0x33f1dc[_0x1af78f(0x1e6)][_0x1af78f(0x161)]=_0x217942+'px',_0x33f1dc[_0x1af78f(0x1e6)][_0x1af78f(0x1b1)]='-'+_0x398be5+_0x1af78f(0x2e0)+_0x217942+'px',_0x33f1dc[_0x1af78f(0x1a2)]=_0x3ee4dc=>{const _0x1d6bfa=_0x1af78f;_0x3ee4dc[_0x1d6bfa(0x243)](),toggleSinglePattern(_0x37c9d8,_0x33e589);},_0x4bbdc0[_0x1af78f(0x280)](_0x33f1dc);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x2e87b9=a2_0x27bf96,_0x93b5bc=new Date(),_0xfa87a=document[_0x2e87b9(0x1da)](_0x2e87b9(0x2d9)),_0x5f19bb=document[_0x2e87b9(0x1da)](_0x2e87b9(0x240)),_0x108623=(_0x93b5bc[_0x2e87b9(0x2e3)]()*0x3c+_0x93b5bc[_0x2e87b9(0x286)]())/0x3c*GRID_H;_0xfa87a[_0x2e87b9(0x1e6)]['top']=_0x108623+'px',_0xfa87a[_0x2e87b9(0x1e6)][_0x2e87b9(0x228)]='block',_0x5f19bb[_0x2e87b9(0x2eb)]=String(_0x93b5bc[_0x2e87b9(0x2e3)]())[_0x2e87b9(0x2b3)](0x2,'0')+':'+String(_0x93b5bc['getMinutes']())[_0x2e87b9(0x2b3)](0x2,'0'),_0x5f19bb['style'][_0x2e87b9(0x228)]=_0x2e87b9(0x29d),_0x5f19bb[_0x2e87b9(0x1e6)][_0x2e87b9(0x161)]=_0x108623+'px';}document[a2_0x27bf96(0x2b1)]('DOMContentLoaded',init);function openDayOptions(_0x250f87){const _0x35d218=a2_0x27bf96;selectedDayForOptions=_0x250f87;const _0x32a1c6=new Date(_0x250f87),_0x505682={'weekday':_0x35d218(0x207),'day':_0x35d218(0x165),'month':_0x35d218(0x207),'year':_0x35d218(0x165)},_0x193bfa=_0x32a1c6[_0x35d218(0x16a)](_0x35d218(0x233),_0x505682);document['getElementById'](_0x35d218(0x1d5))[_0x35d218(0x2eb)]=_0x193bfa[_0x35d218(0x1be)](0x0)['toUpperCase']()+_0x193bfa['slice'](0x1);let _0x123f0b=_0x32a1c6[_0x35d218(0x2ce)]()-0x1;if(_0x123f0b===-0x1)_0x123f0b=0x6;const _0x2388db=availabilityPattern[_0x123f0b]||[],_0x1b4b5b=0x18-_0x2388db[_0x35d218(0x289)],_0xee2fa=_0x1b4b5b*0x3c,_0x395ddc=sessions[_0x35d218(0x1cf)](_0x3c9431=>_0x3c9431[_0x35d218(0x1d8)]===_0x250f87&&_0x3c9431[_0x35d218(0x27d)]!==_0x35d218(0x257));let _0x3a586f=_0x395ddc[_0x35d218(0x2c4)](_0x3a67fa=>{const _0x1640fd=_0x35d218,[_0x1d81b4,_0x454a87]=_0x3a67fa[_0x1640fd(0x2a0)]['split'](':')[_0x1640fd(0x2c4)](Number),[_0x1526d7,_0x51afb2]=_0x3a67fa[_0x1640fd(0x1dc)][_0x1640fd(0x2c9)](':')[_0x1640fd(0x2c4)](Number);return[_0x1d81b4*0x3c+_0x454a87,_0x1526d7*0x3c+_0x51afb2];});_0x3a586f[_0x35d218(0x259)]((_0x30b40b,_0x519b60)=>_0x30b40b[0x0]-_0x519b60[0x0]);let _0x50ae84=[];if(_0x3a586f[_0x35d218(0x289)]>0x0){let _0x2489fa=_0x3a586f[0x0];for(let _0x162308=0x1;_0x162308<_0x3a586f[_0x35d218(0x289)];_0x162308++){_0x3a586f[_0x162308][0x0]<_0x2489fa[0x1]?_0x2489fa[0x1]=Math['max'](_0x2489fa[0x1],_0x3a586f[_0x162308][0x1]):(_0x50ae84[_0x35d218(0x1f4)](_0x2489fa),_0x2489fa=_0x3a586f[_0x162308]);}_0x50ae84[_0x35d218(0x1f4)](_0x2489fa);}let _0x4bdb81=0x0;_0x50ae84[_0x35d218(0x2de)](_0x115427=>_0x4bdb81+=_0x115427[0x1]-_0x115427[0x0]),document['getElementById'](_0x35d218(0x24f))[_0x35d218(0x2eb)]=formatMinsToHrs(_0xee2fa),document['getElementById'](_0x35d218(0x298))['textContent']=formatMinsToHrs(_0x4bdb81);const _0x594e6e=_0xee2fa>0x0?Math['round'](_0x4bdb81/_0xee2fa*0x64):0x0,_0x233708=document[_0x35d218(0x1da)](_0x35d218(0x2e8));_0x233708[_0x35d218(0x2eb)]=_0x594e6e+'%';const _0x4632a1=document['getElementById'](_0x35d218(0x230));if(_0x594e6e>0x64)_0x233708[_0x35d218(0x1e6)][_0x35d218(0x1af)]='var(--acc-red)',_0x4632a1[_0x35d218(0x1e6)][_0x35d218(0x199)]=_0x35d218(0x250);else _0x594e6e>0x50?(_0x233708[_0x35d218(0x1e6)][_0x35d218(0x1af)]=_0x35d218(0x28b),_0x4632a1['style'][_0x35d218(0x199)]=_0x35d218(0x2bb)):(_0x233708[_0x35d218(0x1e6)][_0x35d218(0x1af)]=_0x35d218(0x195),_0x4632a1[_0x35d218(0x1e6)][_0x35d218(0x199)]=_0x35d218(0x2e9));const _0x490010=document['getElementById']('doEventsList');_0x490010[_0x35d218(0x23e)]='';_0x395ddc[_0x35d218(0x289)]===0x0?_0x490010[_0x35d218(0x23e)]=_0x35d218(0x224):(_0x395ddc[_0x35d218(0x259)]((_0x10c689,_0x3e8b06)=>_0x10c689['start']['localeCompare'](_0x3e8b06[_0x35d218(0x2a0)])),_0x395ddc[_0x35d218(0x2de)](_0x54be09=>{const _0xa8e4f2=_0x35d218,_0xe60b9a=clients[_0xa8e4f2(0x28a)](_0x20310f=>_0x20310f[_0xa8e4f2(0x22d)]===_0x54be09[_0xa8e4f2(0x192)]),_0xfd2bf=_0xe60b9a?_0xe60b9a[_0xa8e4f2(0x1af)]:_0xa8e4f2(0x1d1),_0x2f552d=_0x54be09[_0xa8e4f2(0x27d)]===_0xa8e4f2(0x295),_0x5ae498=_0x2f552d?_0xa8e4f2(0x22e):'',_0xfd055f=document[_0xa8e4f2(0x2d8)](_0xa8e4f2(0x23b));_0xfd055f['className']=_0xa8e4f2(0x1e8),_0xfd055f[_0xa8e4f2(0x1e6)]['borderLeftColor']=_0xfd2bf,_0xfd055f[_0xa8e4f2(0x23e)]=_0xa8e4f2(0x2b0)+_0x54be09['start']+'\x20-\x20'+_0x54be09[_0xa8e4f2(0x1dc)]+_0xa8e4f2(0x21f)+_0x54be09[_0xa8e4f2(0x192)]+_0xa8e4f2(0x222)+_0x5ae498+_0xa8e4f2(0x2dc),_0x490010['appendChild'](_0xfd055f);}));const _0x5e8caf=document[_0x35d218(0x1da)](_0x35d218(0x184)),_0x33af09=dateExceptions[_0x250f87]===_0x35d218(0x201);_0x33af09?(_0x5e8caf[_0x35d218(0x2eb)]=_0x35d218(0x212),_0x5e8caf['className']='btn-primary\x20btn-secondary',_0x5e8caf[_0x35d218(0x1e6)][_0x35d218(0x1af)]='var(--acc-green)',_0x5e8caf[_0x35d218(0x1e6)][_0x35d218(0x176)]=_0x35d218(0x21c)):(_0x5e8caf['textContent']=_0x35d218(0x293),_0x5e8caf[_0x35d218(0x223)]=_0x35d218(0x194),_0x5e8caf[_0x35d218(0x1e6)][_0x35d218(0x1af)]=_0x35d218(0x1a3),_0x5e8caf['style'][_0x35d218(0x176)]=_0x35d218(0x2bf)),openSheet(_0x35d218(0x2ee));}let currentAnPeriod=a2_0x27bf96(0x2c5);function openAnalytics(){const _0x511467=a2_0x27bf96,_0x1ed80c=document[_0x511467(0x244)](_0x511467(0x28d));setAnalyticsPeriod(_0x511467(0x2c5),_0x1ed80c),closeAllSheets(),openSheet(_0x511467(0x2ef));}function setAnalyticsPeriod(_0xe91cab,_0x24bc85){const _0x515a79=a2_0x27bf96;currentAnPeriod=_0xe91cab,document['querySelectorAll'](_0x515a79(0x28d))[_0x515a79(0x2de)](_0xe48cc=>_0xe48cc[_0x515a79(0x245)][_0x515a79(0x1e7)](_0x515a79(0x1ea)));if(_0x24bc85)_0x24bc85[_0x515a79(0x245)][_0x515a79(0x16f)](_0x515a79(0x1ea));const _0x20c437=document[_0x515a79(0x1da)](_0x515a79(0x2e2));_0x20c437[_0x515a79(0x1e6)][_0x515a79(0x228)]=_0xe91cab===_0x515a79(0x1d9)?'flex':'none';const _0x30dee3=new Date();let _0x3079de=new Date(),_0x2fa2db=new Date();if(_0xe91cab==='week')_0x3079de=getStartOfWeek(_0x30dee3),_0x2fa2db=new Date(_0x3079de),_0x2fa2db[_0x515a79(0x1a5)](_0x2fa2db['getDate']()+0x6);else{if(_0xe91cab===_0x515a79(0x1fc))_0x3079de=new Date(_0x30dee3[_0x515a79(0x225)](),_0x30dee3[_0x515a79(0x1db)](),0x1),_0x2fa2db=new Date(_0x30dee3[_0x515a79(0x225)](),_0x30dee3[_0x515a79(0x1db)]()+0x1,0x0);else{!document['getElementById'](_0x515a79(0x249))[_0x515a79(0x1a1)]&&(document['getElementById'](_0x515a79(0x249))[_0x515a79(0x1a1)]=getLocalDateStr(_0x30dee3),document[_0x515a79(0x1da)]('anEnd')[_0x515a79(0x1a1)]=getLocalDateStr(_0x30dee3));refreshAnalytics();return;}}document[_0x515a79(0x1da)](_0x515a79(0x249))[_0x515a79(0x1a1)]=getLocalDateStr(_0x3079de),document[_0x515a79(0x1da)](_0x515a79(0x238))[_0x515a79(0x1a1)]=getLocalDateStr(_0x2fa2db),refreshAnalytics();}function refreshAnalytics(){const _0x372bcb=a2_0x27bf96,_0x30a019=document['getElementById'](_0x372bcb(0x249))[_0x372bcb(0x1a1)],_0x443382=document[_0x372bcb(0x1da)](_0x372bcb(0x238))[_0x372bcb(0x1a1)];if(!_0x30a019||!_0x443382)return;const _0x2a429d=sessions[_0x372bcb(0x1cf)](_0x43dd41=>_0x43dd41[_0x372bcb(0x1d8)]>=_0x30a019&&_0x43dd41[_0x372bcb(0x1d8)]<=_0x443382&&_0x43dd41[_0x372bcb(0x27d)]!==_0x372bcb(0x257)),_0x45b1b7=_0x2a429d[_0x372bcb(0x289)],_0x4242f0=_0x2a429d[_0x372bcb(0x1cf)](_0xafdebe=>_0xafdebe['status']===_0x372bcb(0x295))[_0x372bcb(0x289)],_0x2bc035=_0x45b1b7>0x0?Math[_0x372bcb(0x1c3)](_0x4242f0/_0x45b1b7*0x64):0x0;document['getElementById'](_0x372bcb(0x235))[_0x372bcb(0x2eb)]=_0x2bc035+'%',document[_0x372bcb(0x1da)](_0x372bcb(0x2db))[_0x372bcb(0x2eb)]=_0x4242f0+_0x372bcb(0x1de)+_0x45b1b7+_0x372bcb(0x24e);const _0x56bf1a=document['getElementById'](_0x372bcb(0x187)),_0x62378=0x2*Math['PI']*0x23,_0x17b600=_0x62378-_0x2bc035/0x64*_0x62378;_0x56bf1a[_0x372bcb(0x1e6)]['strokeDashoffset']=_0x17b600;const _0x1fd034={};_0x2a429d[_0x372bcb(0x2de)](_0x5222cb=>{const _0x3af05c=_0x372bcb;if(!_0x1fd034[_0x5222cb[_0x3af05c(0x192)]]){const _0x353525=clients[_0x3af05c(0x28a)](_0x481760=>_0x481760[_0x3af05c(0x22d)]===_0x5222cb['client']);_0x1fd034[_0x5222cb[_0x3af05c(0x192)]]={'total':0x0,'done':0x0,'color':_0x353525?_0x353525[_0x3af05c(0x1af)]:_0x3af05c(0x1d1)};}_0x1fd034[_0x5222cb[_0x3af05c(0x192)]][_0x3af05c(0x17b)]++;if(_0x5222cb[_0x3af05c(0x27d)]===_0x3af05c(0x295))_0x1fd034[_0x5222cb['client']][_0x3af05c(0x226)]++;});const _0x4ce7e7=document[_0x372bcb(0x1da)](_0x372bcb(0x172));_0x4ce7e7[_0x372bcb(0x23e)]='';const _0x42d086=Object[_0x372bcb(0x181)](_0x1fd034)[_0x372bcb(0x259)]((_0x38f4a3,_0x164d39)=>_0x164d39[0x1][_0x372bcb(0x17b)]-_0x38f4a3[0x1][_0x372bcb(0x17b)]);if(_0x42d086['length']===0x0){_0x4ce7e7[_0x372bcb(0x23e)]=_0x372bcb(0x1b9);return;}_0x42d086[_0x372bcb(0x2de)](([_0xfadb08,_0x185ba1])=>{const _0x453664=_0x372bcb,_0x2221a8=Math[_0x453664(0x1c3)](_0x185ba1[_0x453664(0x226)]/_0x185ba1['total']*0x64),_0xa6dc12=document[_0x453664(0x2d8)](_0x453664(0x23b));_0xa6dc12[_0x453664(0x223)]=_0x453664(0x189),_0xa6dc12[_0x453664(0x1e6)][_0x453664(0x25e)]=_0x185ba1[_0x453664(0x1af)],_0xa6dc12['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>'+_0xfadb08+_0x453664(0x28e)+_0x185ba1[_0x453664(0x226)]+_0x453664(0x19d)+_0x185ba1[_0x453664(0x17b)]+_0x453664(0x1ad)+_0x2221a8+_0x453664(0x168),_0x4ce7e7[_0x453664(0x280)](_0xa6dc12);});}function formatMinsToHrs(_0x48e032){const _0x59ab08=a2_0x27bf96;if(_0x48e032===0x0)return'0';const _0x795624=Math[_0x59ab08(0x167)](_0x48e032/0x3c),_0x50f2a7=_0x48e032%0x3c;if(_0x50f2a7===0x0)return _0x795624+'—á';return _0x795624+'—á\x20'+_0x50f2a7+'–º';}