const a2_0x217081=a2_0x5918;(function(_0x19027b,_0x2c32c0){const _0x53e08f=a2_0x5918,_0x3d7b2b=_0x19027b();while(!![]){try{const _0xa3d71b=parseInt(_0x53e08f(0x19e))/0x1*(parseInt(_0x53e08f(0x21f))/0x2)+-parseInt(_0x53e08f(0x250))/0x3+-parseInt(_0x53e08f(0x13f))/0x4*(parseInt(_0x53e08f(0x10b))/0x5)+parseInt(_0x53e08f(0x1cd))/0x6*(-parseInt(_0x53e08f(0x20e))/0x7)+parseInt(_0x53e08f(0x14c))/0x8*(-parseInt(_0x53e08f(0x1e0))/0x9)+parseInt(_0x53e08f(0x104))/0xa+parseInt(_0x53e08f(0x188))/0xb*(parseInt(_0x53e08f(0x1bf))/0xc);if(_0xa3d71b===_0x2c32c0)break;else _0x3d7b2b['push'](_0x3d7b2b['shift']());}catch(_0x34df6f){_0x3d7b2b['push'](_0x3d7b2b['shift']());}}}(a2_0x381d,0x7a923),function initTMA(){const _0x18c4d3=a2_0x5918,_0xb8e309=(function(){let _0x2f7606=!![];return function(_0x90e6ad,_0x341c4d){const _0x5da676=_0x2f7606?function(){const _0xa4ed0c=a2_0x5918;if(_0x341c4d){const _0x1acbb6=_0x341c4d[_0xa4ed0c(0x192)](_0x90e6ad,arguments);return _0x341c4d=null,_0x1acbb6;}}:function(){};return _0x2f7606=![],_0x5da676;};}()),_0x305ff8=_0xb8e309(this,function(){const _0x57c975=a2_0x5918;return _0x305ff8[_0x57c975(0x255)]()[_0x57c975(0x135)]('(((.+)+)+)+$')[_0x57c975(0x255)]()[_0x57c975(0x141)](_0x305ff8)[_0x57c975(0x135)](_0x57c975(0x105));});_0x305ff8();try{const _0x1a0932=window[_0x18c4d3(0x1e9)]?.['WebApp'];if(!_0x1a0932)return;_0x1a0932[_0x18c4d3(0x1c8)](),_0x1a0932[_0x18c4d3(0x193)]();try{_0x1a0932[_0x18c4d3(0x248)](_0x18c4d3(0x125)),_0x1a0932[_0x18c4d3(0x1fd)]&&_0x1a0932[_0x18c4d3(0x1fd)](_0x18c4d3(0x125));}catch(_0x5b8e96){console[_0x18c4d3(0x140)](_0x18c4d3(0x144),_0x5b8e96);}try{_0x1a0932['BackButton']&&(_0x1a0932['BackButton']['show'](),_0x1a0932[_0x18c4d3(0x266)][_0x18c4d3(0x106)](),_0x1a0932[_0x18c4d3(0x266)][_0x18c4d3(0x195)](function(){const _0x20d5c8=_0x18c4d3;window[_0x20d5c8(0x1d0)][_0x20d5c8(0x17e)]=_0x20d5c8(0x1b7);}));}catch(_0x543967){console[_0x18c4d3(0x140)](_0x18c4d3(0x214),_0x543967);}try{if(_0x1a0932[_0x18c4d3(0x15b)])_0x1a0932[_0x18c4d3(0x15b)]();}catch(_0x2377a0){}}catch(_0x24dde2){console[_0x18c4d3(0x204)](_0x18c4d3(0x196),_0x24dde2);}}());function a2_0x5918(_0x3c0a41,_0x45c8bc){_0x3c0a41=_0x3c0a41-0xec;const _0x297e58=a2_0x381d();let _0x1c0752=_0x297e58[_0x3c0a41];return _0x1c0752;}function isAdmin(){const _0x28cc09=a2_0x5918;try{const _0x4988ba=Number(window[_0x28cc09(0x1e9)]?.[_0x28cc09(0x159)]?.[_0x28cc09(0x1e1)]?.['user']?.['id']);return _0x4988ba===0xbaf7174;}catch(_0x5376ff){return![];}}const APP_VERSION=a2_0x217081(0x184),API_URL='https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec',GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x217081(0x182),KEY_SESSIONS=a2_0x217081(0x253),KEY_SETTINGS=a2_0x217081(0xf6);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x5f4778=a2_0x217081;return window[_0x5f4778(0x1e9)]?.[_0x5f4778(0x159)]?.[_0x5f4778(0x1e1)]?.['user']?.['id']||_0x5f4778(0x1c9);},'saveLocally'(){const _0x54a91c=a2_0x217081;try{localStorage[_0x54a91c(0x136)](KEY_CLIENTS,JSON[_0x54a91c(0x198)](clients)),localStorage[_0x54a91c(0x136)](KEY_SESSIONS,JSON[_0x54a91c(0x198)](sessions)),localStorage[_0x54a91c(0x136)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x56de42){console[_0x54a91c(0x204)]('Local\x20Save\x20Error',_0x56de42);}},'loadLocal'(){const _0x1f3a5c=a2_0x217081;try{const _0x303e82=localStorage['getItem'](KEY_CLIENTS);if(_0x303e82)clients=JSON[_0x1f3a5c(0x264)](_0x303e82);const _0xf5e41f=localStorage[_0x1f3a5c(0x15f)](KEY_SESSIONS);if(_0xf5e41f)sessions=JSON['parse'](_0xf5e41f);const _0x22d228=localStorage['getItem'](KEY_SETTINGS);if(_0x22d228){const _0x2c6c5b=JSON['parse'](_0x22d228);if(_0x2c6c5b[_0x1f3a5c(0x24a)])availabilityPattern=_0x2c6c5b[_0x1f3a5c(0x24a)];if(_0x2c6c5b[_0x1f3a5c(0xfd)])dateExceptions=_0x2c6c5b[_0x1f3a5c(0xfd)];if(_0x2c6c5b['ranges'])specialRanges=_0x2c6c5b[_0x1f3a5c(0x124)];}else{for(let _0x4ae52a=0x0;_0x4ae52a<0x7;_0x4ae52a++)availabilityPattern[_0x4ae52a]=Array[_0x1f3a5c(0x102)]({'length':0xc},(_0x3aa852,_0x57646b)=>_0x57646b+0x9);}}catch(_0x152d87){console['error']('Local\x20Load\x20Error',_0x152d87);}},async 'fetchFromServer'(_0x5849ea,_0x30f664={}){const _0x17dae0=a2_0x217081,_0xe4861=window[_0x17dae0(0x1e9)]?.[_0x17dae0(0x159)],_0x12d73e={'action':_0x5849ea,'init_data':_0xe4861?.[_0x17dae0(0x207)]||'',..._0x30f664};try{const _0x1f1adf=await fetch(API_URL,{'method':_0x17dae0(0x168),'headers':{'Content-Type':_0x17dae0(0x1ee)},'body':JSON[_0x17dae0(0x198)](_0x12d73e)}),_0x40def3=await _0x1f1adf[_0x17dae0(0x131)]();if(!_0x40def3['ok'])throw new Error(_0x40def3['error']||_0x17dae0(0x242));return _0x40def3[_0x17dae0(0x132)];}catch(_0x465087){console[_0x17dae0(0x204)]('[API\x20'+_0x5849ea+_0x17dae0(0xf8),_0x465087);throw _0x465087;}},async 'syncLoad'(){const _0xeefa35=a2_0x217081,_0x47942c=new Date(),_0x3067bb=_0x47942c['getFullYear']()+'-'+String(_0x47942c[_0xeefa35(0x1c6)]()+0x1)[_0xeefa35(0x163)](0x2,'0'),_0x2c2e4f=new Date(_0x47942c);_0x2c2e4f['setMonth'](_0x47942c[_0xeefa35(0x1c6)]()+0x1);const _0x314ffe=_0x2c2e4f[_0xeefa35(0x151)]()+'-'+String(_0x2c2e4f[_0xeefa35(0x1c6)]()+0x1)[_0xeefa35(0x163)](0x2,'0'),_0x329310=Date[_0xeefa35(0x12d)]();console[_0xeefa35(0x140)]('[Sync]\x20Loading\x20'+_0x3067bb+',\x20'+_0x314ffe+_0xeefa35(0x235));try{const [_0x4e53df,_0x5df063]=await Promise[_0xeefa35(0x138)]([this[_0xeefa35(0x156)](_0xeefa35(0x114),{'month_str':_0x3067bb}),this[_0xeefa35(0x156)](_0xeefa35(0x114),{'month_str':_0x314ffe})]);if(lastUserActionTime>_0x329310)return console[_0xeefa35(0x122)](_0xeefa35(0x239)),![];return this[_0xeefa35(0x1ae)](_0x4e53df,_0x3067bb),this[_0xeefa35(0x1ae)](_0x5df063,_0x314ffe),this[_0xeefa35(0x18f)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x1023cc){console[_0xeefa35(0x204)](_0x1023cc);throw _0x1023cc;}},'mergeServerData'(_0x535d72,_0x107c5e){const _0x57c452=a2_0x217081;if(!_0x535d72)return;_0x535d72[_0x57c452(0x1d7)]&&Array[_0x57c452(0x1c4)](_0x535d72['clients'])&&(clients=_0x535d72['clients']);if(_0x535d72[_0x57c452(0x153)]){if(_0x535d72[_0x57c452(0x153)][_0x57c452(0x24a)])availabilityPattern=_0x535d72[_0x57c452(0x153)]['pattern'];if(_0x535d72[_0x57c452(0x153)]['exceptions'])dateExceptions=_0x535d72['settings'][_0x57c452(0xfd)];if(_0x535d72[_0x57c452(0x153)]['ranges'])specialRanges=_0x535d72['settings'][_0x57c452(0x124)];if(_0x535d72[_0x57c452(0x153)][_0x57c452(0x15e)]){localStorage['setItem'](_0x57c452(0x21c),_0x535d72[_0x57c452(0x153)][_0x57c452(0x15e)]);const _0x1ec739=document[_0x57c452(0x1a1)](_0x57c452(0x16f));if(_0x1ec739)_0x1ec739[_0x57c452(0x1ea)]=_0x535d72[_0x57c452(0x153)][_0x57c452(0x15e)];}}_0x535d72[_0x57c452(0x1ba)]&&(sessions=sessions[_0x57c452(0x21e)](_0x6f0082=>!_0x6f0082[_0x57c452(0x216)][_0x57c452(0x208)](_0x107c5e)),Object[_0x57c452(0x1f5)](_0x535d72[_0x57c452(0x1ba)])['forEach'](_0x846588=>{const _0xc636b1=_0x57c452,_0x2711dc=_0x535d72[_0xc636b1(0x1ba)][_0x846588];_0x2711dc[_0xc636b1(0xed)](_0xde92db=>{const _0x1616a5=_0xc636b1,_0x57cf33=clients[_0x1616a5(0x1a5)](_0x21e12f=>String(_0x21e12f['id'])===String(_0xde92db['c']));sessions['push']({'id':_0xde92db['i'],'clientId':_0xde92db['c'],'client':_0x57cf33?_0x57cf33[_0x1616a5(0x226)]:_0x1616a5(0x109),'dateStr':_0x107c5e+'-'+_0x846588[_0x1616a5(0x163)](0x2,'0'),'start':_0xde92db['s'],'end':_0xde92db['e'],'status':_0xde92db['st']||_0x1616a5(0x1b3),'note':_0xde92db['n']||'','seriesId':_0xde92db[_0x1616a5(0xf3)]||null});});}));},async 'syncBatch'(_0x531b9d){const _0x3c3cf0=a2_0x217081,_0x197535=[...new Set(_0x531b9d)],_0x4f9bb6=_0x197535['map'](_0x2b8af1=>{const _0x46b644=a2_0x5918,_0xd13cce=sessions[_0x46b644(0x21e)](_0x4dd00d=>_0x4dd00d[_0x46b644(0x216)]===_0x2b8af1&&_0x4dd00d['status']!==_0x46b644(0x22d)),_0xe4521d=_0xd13cce[_0x46b644(0x1db)](_0x2cc038=>({'i':_0x2cc038['id'],'c':_0x2cc038[_0x46b644(0x265)],'s':_0x2cc038['start'],'e':_0x2cc038[_0x46b644(0x237)],'st':_0x2cc038[_0x46b644(0x244)],'n':_0x2cc038[_0x46b644(0x1ed)],'sid':_0x2cc038['seriesId']}));return{'date':_0x2b8af1,'day_data':_0xe4521d};});if(_0x4f9bb6[_0x3c3cf0(0x152)]===0x0)return;console[_0x3c3cf0(0x140)](_0x3c3cf0(0x115)+_0x4f9bb6['length']+_0x3c3cf0(0xfe)),await this['fetchFromServer']('batch_sync',{'changes':_0x4f9bb6});}};async function init(){const _0xa38e5e=a2_0x217081;DataManager['loadLocal'](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0xa38e5e(0x1a1)](_0xa38e5e(0x1e8))[_0xa38e5e(0x23a)]('scroll',()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0xa38e5e(0x12f)]()['then'](()=>{const _0x2e1489=_0xa38e5e;showToast(_0x2e1489(0x1e5),!![]);})[_0xa38e5e(0x1b8)](_0x51cdb4=>{const _0x1a3cfb=_0xa38e5e;showToast(_0x1a3cfb(0x16d),![]);});}function generateId(){const _0xe4e0c5=a2_0x217081;return Date[_0xe4e0c5(0x12d)]()[_0xe4e0c5(0x255)](0x24)+Math[_0xe4e0c5(0x23c)]()['toString'](0x24)[_0xe4e0c5(0x1af)](0x2,0x5);}function toggleSeriesInput(){const _0x4596fa=a2_0x217081,_0x379519=document[_0x4596fa(0x1a1)](_0x4596fa(0x251))[_0x4596fa(0x13a)],_0x5edbc4=document['getElementById'](_0x4596fa(0x247));_0x5edbc4['style'][_0x4596fa(0x23f)]=_0x379519?'block':'none';const _0x4595e2=document[_0x4596fa(0x1a1)](_0x4596fa(0x19f));_0x4595e2[_0x4596fa(0x24f)][_0x4596fa(0x176)]=_0x379519?_0x4596fa(0x12e):_0x4596fa(0x13c);}function openAddSession(_0x4d3ffa){const _0x3c0303=a2_0x217081;editingId=null,populateClientSelect(),document[_0x3c0303(0x1a1)](_0x3c0303(0x19c))[_0x3c0303(0x1cf)]=_0x3c0303(0x118),document[_0x3c0303(0x1a1)](_0x3c0303(0x185))['style'][_0x3c0303(0x23f)]=_0x3c0303(0x224),document['getElementById']('btnStatusToggle')[_0x3c0303(0x24f)][_0x3c0303(0x23f)]=_0x3c0303(0x224);const _0x2138db=document['getElementById'](_0x3c0303(0x19f)),_0x507558=document[_0x3c0303(0x1a1)](_0x3c0303(0x247));_0x2138db[_0x3c0303(0x24f)][_0x3c0303(0x23f)]=_0x3c0303(0xf0),_0x2138db[_0x3c0303(0x24f)][_0x3c0303(0x176)]='10px',document['getElementById']('inpRecurring')[_0x3c0303(0x13a)]=![],document['getElementById'](_0x3c0303(0x117))[_0x3c0303(0x1ea)]=0x4,_0x507558[_0x3c0303(0x24f)]['display']='none',document[_0x3c0303(0x1a1)]('inpDate')[_0x3c0303(0x1ea)]=getLocalDateStr(_0x4d3ffa),updateDateDisplay();const _0x2dbc6d=_0x4d3ffa[_0x3c0303(0x12a)]();document[_0x3c0303(0x1a1)](_0x3c0303(0x213))[_0x3c0303(0x1ea)]=String(_0x2dbc6d)['padStart'](0x2,'0')+':00',document[_0x3c0303(0x1a1)](_0x3c0303(0x14b))[_0x3c0303(0x1ea)]=String(_0x2dbc6d+0x1)[_0x3c0303(0x163)](0x2,'0')+':00',openSheet(_0x3c0303(0x18a));}function openEdit(_0x5a7aa7){const _0x1291fd=a2_0x217081;editingId=_0x5a7aa7['id'],populateClientSelect(),document['getElementById']('sheetTitle')[_0x1291fd(0x1cf)]=_0x1291fd(0x162),document[_0x1291fd(0x1a1)](_0x1291fd(0x185))['style'][_0x1291fd(0x23f)]=_0x1291fd(0x1fa);const _0x315a3e=document[_0x1291fd(0x1a1)](_0x1291fd(0x1a9));_0x315a3e[_0x1291fd(0x24f)][_0x1291fd(0x23f)]=_0x1291fd(0xf0);_0x5a7aa7['status']===_0x1291fd(0x1f9)?(_0x315a3e[_0x1291fd(0x130)]=_0x1291fd(0x120),_0x315a3e[_0x1291fd(0x12b)]='–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ'):(_0x315a3e[_0x1291fd(0x130)]=_0x1291fd(0x257),_0x315a3e[_0x1291fd(0x12b)]=_0x1291fd(0x199));const _0x40352b=!!_0x5a7aa7[_0x1291fd(0x220)];document[_0x1291fd(0x1a1)](_0x1291fd(0x19f))[_0x1291fd(0x24f)][_0x1291fd(0x23f)]='none',document[_0x1291fd(0x1a1)]('seriesCountContainer')[_0x1291fd(0x24f)][_0x1291fd(0x23f)]=_0x1291fd(0x224),_0x40352b?(document[_0x1291fd(0x1a1)](_0x1291fd(0x11b))[_0x1291fd(0x24f)][_0x1291fd(0x23f)]=_0x1291fd(0xf0),document[_0x1291fd(0x1a1)](_0x1291fd(0x11b))[_0x1291fd(0x245)](_0x1291fd(0x24d))[_0x1291fd(0x1cf)]=_0x1291fd(0x1e6)):document[_0x1291fd(0x1a1)]('patternInfoBox')[_0x1291fd(0x24f)][_0x1291fd(0x23f)]='none',document[_0x1291fd(0x1a1)]('inpClient')[_0x1291fd(0x1ea)]=_0x5a7aa7['client'],document['getElementById'](_0x1291fd(0x246))[_0x1291fd(0x1ea)]=_0x5a7aa7[_0x1291fd(0x216)],document[_0x1291fd(0x1a1)](_0x1291fd(0x213))[_0x1291fd(0x1ea)]=_0x5a7aa7[_0x1291fd(0x16b)],document[_0x1291fd(0x1a1)](_0x1291fd(0x14b))[_0x1291fd(0x1ea)]=_0x5a7aa7[_0x1291fd(0x237)],document[_0x1291fd(0x1a1)](_0x1291fd(0x1d2))[_0x1291fd(0x1ea)]=_0x5a7aa7[_0x1291fd(0x1ed)]||'',updateDateDisplay(),openSheet(_0x1291fd(0x18a));}async function trySaveSession(){const _0x4f2074=a2_0x217081,_0x3258a8=document[_0x4f2074(0x1a1)](_0x4f2074(0x1c7))[_0x4f2074(0x1ea)],_0x57ab00=document[_0x4f2074(0x1a1)]('inpDate')[_0x4f2074(0x1ea)],_0x4478c8=document[_0x4f2074(0x1a1)](_0x4f2074(0x213))[_0x4f2074(0x1ea)],_0x5f5116=document['getElementById'](_0x4f2074(0x14b))[_0x4f2074(0x1ea)],_0x81449c=document['getElementById'](_0x4f2074(0x1d2))[_0x4f2074(0x1ea)],_0x44a77b=document[_0x4f2074(0x1a1)]('inpRecurring')['checked'];let _0x577457=0x4;if(_0x44a77b){const _0x26aebc=parseInt(document[_0x4f2074(0x1a1)](_0x4f2074(0x117))[_0x4f2074(0x1ea)]);if(!_0x26aebc||_0x26aebc<0x2){showToast('–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏',![]);return;}if(_0x26aebc>0x64){showToast(_0x4f2074(0xf9),![]);return;}_0x577457=_0x26aebc;}const _0x26c9bf=clients[_0x4f2074(0x1a5)](_0x2567d2=>_0x2567d2[_0x4f2074(0x226)]===_0x3258a8);if(!_0x26c9bf){showToast(_0x4f2074(0x172),![]);return;}const _0x1f7090=validateAppointment(_0x57ab00,_0x4478c8,_0x5f5116,editingId,_0x26c9bf['id']);if(!_0x1f7090['valid']){showToast(_0x1f7090[_0x4f2074(0x205)],![]);return;}_0x1f7090['warning']&&showToast(_0x1f7090[_0x4f2074(0x241)],![]);const _0x537c5e={'client':_0x3258a8,'clientId':_0x26c9bf['id'],'start':_0x4478c8,'end':_0x5f5116,'note':_0x81449c,'status':_0x4f2074(0x1b3)},_0x3ca52c=editingId?sessions[_0x4f2074(0x1a5)](_0x48b24e=>_0x48b24e['id']===editingId):null;if(_0x3ca52c&&_0x3ca52c[_0x4f2074(0x220)]){tempSessionData={..._0x537c5e,'dateStr':_0x57ab00,'id':editingId,'seriesId':_0x3ca52c[_0x4f2074(0x220)]},openActionSheet('save');return;}let _0xdd1158=null;if(!editingId)_0xdd1158=_0x4f2074(0x11c);else{if(_0x3ca52c){if(String(_0x3ca52c[_0x4f2074(0x265)])!==String(_0x26c9bf['id']))console[_0x4f2074(0x140)]('[Notify]\x20Client\x20SWAP\x20detected'),NotificationManager[_0x4f2074(0x1c2)](_0x4f2074(0x191),_0x3ca52c),_0xdd1158=_0x4f2074(0x11c);else(_0x3ca52c[_0x4f2074(0x16b)]!==_0x4478c8||_0x3ca52c[_0x4f2074(0x237)]!==_0x5f5116||_0x3ca52c['dateStr']!==_0x57ab00)&&(_0xdd1158='update');}}if(!editingId&&_0x44a77b){createBatchSeries(_0x537c5e,_0x57ab00,_0x577457),NotificationManager[_0x4f2074(0x1c2)](_0x4f2074(0x11c),{..._0x537c5e,'dateStr':_0x57ab00});return;}lastUserActionTime=Date[_0x4f2074(0x12d)]();const _0x34d2f7={..._0x537c5e,'dateStr':_0x57ab00,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x34d2f7),_0xdd1158&&NotificationManager[_0x4f2074(0x1c2)](_0xdd1158,_0x34d2f7);}function toggleSessionStatus(){const _0xb7585c=a2_0x217081;lastUserActionTime=Date[_0xb7585c(0x12d)]();const _0x5960a9=sessions[_0xb7585c(0x1a5)](_0x4970a8=>_0x4970a8['id']===editingId);if(!_0x5960a9)return;const _0x554f55=_0x5960a9[_0xb7585c(0x244)]===_0xb7585c(0x1f9)?_0xb7585c(0x1b3):'completed';_0x5960a9[_0xb7585c(0x244)]=_0x554f55,saveSingleSession(_0x5960a9),_0x554f55===_0xb7585c(0x1f9)&&NotificationManager[_0xb7585c(0x1c2)](_0xb7585c(0x1d3),_0x5960a9),showToast(_0x554f55===_0xb7585c(0x1f9)?_0xb7585c(0x1ab):'–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω',!![]);}function validateAppointment(_0xfa207e,_0x39bdeb,_0xd8a982,_0x2054ec,_0x325a82){const _0x27688c=a2_0x217081,[_0x2a8a25,_0x2d7bd2]=_0x39bdeb['split'](':')[_0x27688c(0x1db)](Number),[_0x20133b,_0xadd18c]=_0xd8a982['split'](':')[_0x27688c(0x1db)](Number),_0x5bc5d9=_0x2a8a25*0x3c+_0x2d7bd2,_0x20a5b3=_0x20133b*0x3c+_0xadd18c,_0x366ba2=String(_0x325a82);let _0x1a18e0=![],_0x29453a='';for(let _0x30e512 of sessions){if(_0x30e512[_0x27688c(0x216)]!==_0xfa207e)continue;if(_0x30e512[_0x27688c(0x244)]==='cancelled')continue;if(_0x2054ec&&String(_0x30e512['id'])===String(_0x2054ec))continue;const [_0x4d2976,_0x5995be]=_0x30e512[_0x27688c(0x16b)][_0x27688c(0x249)](':')[_0x27688c(0x1db)](Number),[_0x3f1fd6,_0x2848f4]=_0x30e512[_0x27688c(0x237)][_0x27688c(0x249)](':')['map'](Number),_0x269e5b=_0x4d2976*0x3c+_0x5995be,_0xf79eb5=_0x3f1fd6*0x3c+_0x2848f4;if(Math[_0x27688c(0x166)](_0x5bc5d9,_0x269e5b)<Math['min'](_0x20a5b3,_0xf79eb5)){if(_0x30e512[_0x27688c(0x265)]&&String(_0x30e512['clientId'])===_0x366ba2)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0x30e512[_0x27688c(0x25d)]+_0x27688c(0x1eb)};_0x1a18e0=!![],_0x29453a=_0x30e512['client'];}}if(_0x1a18e0)return{'valid':!![],'warning':_0x27688c(0x231)+_0x29453a};return{'valid':!![]};}function saveSingleSession(_0x2778e6){const _0x577ab3=a2_0x217081;if(editingId){const _0x19cd57=sessions[_0x577ab3(0x218)](_0xffd7ea=>_0xffd7ea['id']===editingId);if(_0x19cd57!==-0x1)sessions[_0x19cd57]=_0x2778e6;}else sessions[_0x577ab3(0x1dc)](_0x2778e6);afterSaveAction([_0x2778e6[_0x577ab3(0x216)]]);}function createBatchSeries(_0x38af15,_0x31c2e8,_0x2edb40){const _0x267b00=a2_0x217081,_0x8914cd=generateId(),_0x51738d=[],_0x3b58e1=[];let _0x18f0ff=0x0,_0x38500b=new Date(_0x31c2e8);for(let _0x2305cb=0x0;_0x2305cb<_0x2edb40;_0x2305cb++){const _0x190f58=getLocalDateStr(_0x38500b),_0x304f46=validateAppointment(_0x190f58,_0x38af15['start'],_0x38af15[_0x267b00(0x237)],null,_0x38af15[_0x267b00(0x265)]);if(!_0x304f46['valid'])console[_0x267b00(0x140)](_0x267b00(0x14a)+_0x190f58+_0x267b00(0x259)),_0x18f0ff++;else{const _0x269d13={..._0x38af15,'id':generateId(),'dateStr':_0x190f58,'seriesId':_0x8914cd};_0x3b58e1[_0x267b00(0x1dc)](_0x269d13),_0x51738d[_0x267b00(0x1dc)](_0x190f58);}_0x38500b[_0x267b00(0x1a6)](_0x38500b[_0x267b00(0x16e)]()+0x7);}if(_0x3b58e1['length']===0x0){showToast(_0x267b00(0x22f),![]);return;}sessions['push'](..._0x3b58e1),lastUserActionTime=Date['now']();let _0x486f54=_0x267b00(0x14d)+_0x3b58e1[_0x267b00(0x152)];_0x18f0ff>0x0&&(_0x486f54+=_0x267b00(0x121)+_0x18f0ff+')'),showToast(_0x486f54,!![]),afterSaveAction(_0x51738d);}function updateSeriesBatch(_0x34edea,_0xadfc37){const _0x2823ab=a2_0x217081,_0x4044c3=[],_0x533000=_0xadfc37[_0x2823ab(0x220)];if(_0x34edea===_0x2823ab(0x1bd)){const _0x18ce5f={..._0xadfc37,'seriesId':null},_0xe20315=sessions[_0x2823ab(0x218)](_0x15f84f=>_0x15f84f['id']===_0xadfc37['id']);if(_0xe20315!==-0x1)sessions[_0xe20315]=_0x18ce5f;_0x4044c3[_0x2823ab(0x1dc)](_0x18ce5f[_0x2823ab(0x216)]);}else{if(_0x34edea===_0x2823ab(0xfa)){const _0x3c4073=_0xadfc37['dateStr'];sessions[_0x2823ab(0xed)]((_0x415f6d,_0x38173e)=>{const _0x49f8e1=_0x2823ab;_0x415f6d['seriesId']===_0x533000&&_0x415f6d[_0x49f8e1(0x216)]>=_0x3c4073&&(sessions[_0x38173e]={...sessions[_0x38173e],'start':_0xadfc37[_0x49f8e1(0x16b)],'end':_0xadfc37[_0x49f8e1(0x237)],'note':_0xadfc37[_0x49f8e1(0x1ed)],'client':_0xadfc37['client'],'clientId':_0xadfc37[_0x49f8e1(0x265)]},_0x4044c3[_0x49f8e1(0x1dc)](_0x415f6d[_0x49f8e1(0x216)]));});}}afterSaveAction(_0x4044c3);}function tryDeleteSession(){const _0x2d3c94=a2_0x217081,_0x2a8bda=sessions['find'](_0x3384b1=>_0x3384b1['id']===editingId);if(!_0x2a8bda)return;_0x2a8bda[_0x2d3c94(0x220)]?openActionSheet(_0x2d3c94(0xf2)):commitDelete(_0x2d3c94(0x1bd),_0x2a8bda);}function commitDelete(_0x31f817,_0x15c25d){const _0x5c7967=a2_0x217081;lastUserActionTime=Date[_0x5c7967(0x12d)](),NotificationManager[_0x5c7967(0x1c2)](_0x5c7967(0x191),_0x15c25d);const _0x462286=[];if(_0x31f817===_0x5c7967(0x1bd))sessions=sessions[_0x5c7967(0x21e)](_0x4de6f6=>_0x4de6f6['id']!==_0x15c25d['id']),_0x462286[_0x5c7967(0x1dc)](_0x15c25d[_0x5c7967(0x216)]);else{if(_0x31f817==='series'){const _0x2e7d61=_0x15c25d['dateStr'],_0x35a4f0=_0x15c25d[_0x5c7967(0x220)];sessions[_0x5c7967(0xed)](_0x3dcd19=>{const _0x36f9f2=_0x5c7967;_0x3dcd19[_0x36f9f2(0x220)]===_0x35a4f0&&_0x3dcd19[_0x36f9f2(0x216)]>=_0x2e7d61&&_0x462286[_0x36f9f2(0x1dc)](_0x3dcd19[_0x36f9f2(0x216)]);}),sessions=sessions[_0x5c7967(0x21e)](_0xc734d3=>!(_0xc734d3[_0x5c7967(0x220)]===_0x35a4f0&&_0xc734d3['dateStr']>=_0x2e7d61));}}afterSaveAction(_0x462286);}function afterSaveAction(_0x680502){const _0x214716=a2_0x217081;DataManager[_0x214716(0x18f)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager['syncBatch'](_0x680502)['then'](()=>console[_0x214716(0x140)](_0x214716(0x1d9)))[_0x214716(0x1b8)](_0x3c5b21=>showToast(_0x214716(0x143),![]));}const NotificationManager={'formatDate'(_0x3c9f37){const _0x5c110d=a2_0x217081,_0x42f9fc=new Date(_0x3c9f37),_0x5a0c19={'weekday':_0x5c110d(0x1fe),'day':_0x5c110d(0x108),'month':'long'};let _0x16331e=_0x42f9fc[_0x5c110d(0x15c)]('ru-RU',_0x5a0c19);return _0x16331e[_0x5c110d(0x148)](0x0)[_0x5c110d(0xf7)]()+_0x16331e['slice'](0x1);},'getText'(_0xcb2484,_0x446ca0){const _0x313be4=a2_0x217081,_0x48ea7b=this[_0x313be4(0x234)](_0x446ca0[_0x313be4(0x216)]);switch(_0xcb2484){case _0x313be4(0x11c):return _0x313be4(0x1c1)+(_0x313be4(0x232)+_0x48ea7b+'\x0a')+(_0x313be4(0x21d)+_0x446ca0[_0x313be4(0x16b)]+_0x313be4(0x1c0)+_0x446ca0[_0x313be4(0x237)]+'\x0a\x0a')+'–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™';case'update':return _0x313be4(0xee)+'–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a'+(_0x313be4(0x25c)+_0x446ca0['start']+_0x313be4(0x1c0)+_0x446ca0['end']+_0x313be4(0x20a))+(_0x313be4(0x232)+_0x48ea7b);case _0x313be4(0x191):return'<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a'+(_0x313be4(0x267)+_0x48ea7b+'\x20('+_0x446ca0[_0x313be4(0x16b)]+_0x313be4(0x134));case _0x313be4(0x1d3):return _0x313be4(0x25f)+_0x313be4(0xef)+'<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>';default:return'';}},async 'send'(_0x34be9e,_0x4a69a6){const _0x466788=a2_0x217081;console[_0x466788(0x140)]('[Notify]\x20Attempting\x20to\x20send:',_0x34be9e,_0x4a69a6);if(!_0x4a69a6){console[_0x466788(0x204)]('[Notify]\x20Error:\x20sessionData\x20is\x20null');return;}const _0x59f645=String(_0x4a69a6['clientId']);console[_0x466788(0x140)](_0x466788(0x150),_0x59f645);if(!_0x4a69a6[_0x466788(0x265)]||_0x59f645==='undefined'||_0x59f645==='null'){console['error'](_0x466788(0x22c));if(_0x4a69a6[_0x466788(0x25d)]){const _0x291ecb=clients[_0x466788(0x1a5)](_0x66b76b=>_0x66b76b['name']===_0x4a69a6[_0x466788(0x25d)]);if(_0x291ecb)return console[_0x466788(0x140)](_0x466788(0x1e7),_0x291ecb['id']),this[_0x466788(0x1c2)](_0x34be9e,{..._0x4a69a6,'clientId':_0x291ecb['id']});}return;}if(_0x59f645[_0x466788(0x152)]<0x5){console[_0x466788(0x122)](_0x466788(0x17a),_0x59f645);return;}const _0x5849f4=this['getText'](_0x34be9e,_0x4a69a6);if(!_0x5849f4){console[_0x466788(0x204)](_0x466788(0x103));return;}console[_0x466788(0x140)](_0x466788(0x22e)+_0x59f645+_0x466788(0x235)),DataManager['fetchFromServer'](_0x466788(0x21a),{'chatId':_0x59f645,'text':_0x5849f4})[_0x466788(0x18e)](_0x58b25c=>console['log'](_0x466788(0x178),_0x58b25c))['catch'](_0x308eca=>console['error']('[Notify]\x20Network\x20Failed',_0x308eca));}};function getLocalDateStr(_0x30d31c){const _0x3b224a=a2_0x217081,_0x561f27=_0x30d31c['getFullYear'](),_0x397e4e=String(_0x30d31c['getMonth']()+0x1)['padStart'](0x2,'0'),_0x266be7=String(_0x30d31c[_0x3b224a(0x16e)]())[_0x3b224a(0x163)](0x2,'0');return _0x561f27+'-'+_0x397e4e+'-'+_0x266be7;}function getDateStr(_0x5ea83f){const _0x1faca7=a2_0x217081,_0x379adc=new Date();return _0x379adc[_0x1faca7(0x1a6)](_0x379adc[_0x1faca7(0x16e)]()+_0x5ea83f),getLocalDateStr(_0x379adc);}function getStartOfWeek(_0x208cbc){const _0x11fe5a=a2_0x217081,_0x5e21ec=new Date(_0x208cbc),_0x4f3eee=_0x5e21ec[_0x11fe5a(0x263)](),_0x316ec6=_0x5e21ec[_0x11fe5a(0x16e)]()-_0x4f3eee+(_0x4f3eee===0x0?-0x6:0x1);return _0x5e21ec[_0x11fe5a(0x1a6)](_0x316ec6),_0x5e21ec[_0x11fe5a(0x20b)](0x0,0x0,0x0,0x0),_0x5e21ec;}function hexToRgba(_0x16866e,_0x121b29){const _0x309751=a2_0x217081;if(!_0x16866e)return _0x309751(0x11e);let _0x369c17=0x0,_0x3a628a=0x0,_0x401580=0x0;if(_0x16866e[_0x309751(0x152)]===0x4)_0x369c17='0x'+_0x16866e[0x1]+_0x16866e[0x1],_0x3a628a='0x'+_0x16866e[0x2]+_0x16866e[0x2],_0x401580='0x'+_0x16866e[0x3]+_0x16866e[0x3];else _0x16866e['length']===0x7&&(_0x369c17='0x'+_0x16866e[0x1]+_0x16866e[0x2],_0x3a628a='0x'+_0x16866e[0x3]+_0x16866e[0x4],_0x401580='0x'+_0x16866e[0x5]+_0x16866e[0x6]);return _0x309751(0x13b)+ +_0x369c17+',\x20'+ +_0x3a628a+',\x20'+ +_0x401580+',\x20'+_0x121b29+')';}function renderTimeColumn(){const _0x43708e=a2_0x217081,_0x41d171=document[_0x43708e(0x1a1)](_0x43708e(0x101)),_0x1d7a4d=document[_0x43708e(0x1a1)](_0x43708e(0x221));_0x41d171[_0x43708e(0x12b)]='',_0x41d171[_0x43708e(0x229)](_0x1d7a4d);for(let _0x554e35=0x0;_0x554e35<0x18;_0x554e35++){const _0x5bbb37=document[_0x43708e(0x1ec)](_0x43708e(0x126));_0x5bbb37[_0x43708e(0x130)]='time-label';if(_0x554e35>0x0)_0x5bbb37[_0x43708e(0x12b)]=_0x43708e(0x111)+String(_0x554e35)[_0x43708e(0x163)](0x2,'0')+':00</span>';_0x41d171[_0x43708e(0x229)](_0x5bbb37);}}function renderDayRange(_0xd6c372,_0x46b479){const _0x18b51f=a2_0x217081,_0x5e87dc=document[_0x18b51f(0x1a1)](_0x18b51f(0x1f7)),_0x2ccc14=document[_0x18b51f(0x1a1)](_0x18b51f(0x119)),_0x5bbc98=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x3d18fc=new Date();_0x3d18fc[_0x18b51f(0x20b)](0x0,0x0,0x0,0x0);const _0x1e3761=getLocalDateStr(new Date());for(let _0x5f49d6=_0xd6c372;_0x5f49d6<=_0x46b479;_0x5f49d6++){const _0x533687=new Date(_0x3d18fc);_0x533687[_0x18b51f(0x1a6)](_0x533687['getDate']()+_0x5f49d6);const _0x3a43ad=getLocalDateStr(_0x533687);let _0x9f8779=_0x533687[_0x18b51f(0x263)]()-0x1;if(_0x9f8779===-0x1)_0x9f8779=0x6;const _0x2b1c61=_0x3a43ad===_0x1e3761,_0x529ec1=document['createElement'](_0x18b51f(0x126));_0x529ec1[_0x18b51f(0x130)]=_0x18b51f(0x14e)+(_0x2b1c61?_0x18b51f(0x215):''),_0x529ec1['id']='header-'+_0x3a43ad,_0x529ec1['setAttribute'](_0x18b51f(0x10d),_0x3a43ad),_0x529ec1['innerHTML']=_0x18b51f(0x1f4)+_0x5bbc98[_0x9f8779]+_0x18b51f(0x219)+_0x533687['getDate']()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0x3a43ad+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x529ec1['onclick']=()=>openDayOptions(_0x3a43ad,_0x5bbc98[_0x9f8779]+'\x20'+_0x533687[_0x18b51f(0x16e)]()),_0x5e87dc[_0x18b51f(0x229)](_0x529ec1);const _0x2c280b=document['createElement'](_0x18b51f(0x126));_0x2c280b[_0x18b51f(0x130)]=_0x18b51f(0x200)+(_0x2b1c61?_0x18b51f(0x215):''),_0x2c280b[_0x18b51f(0xf5)]('data-date',_0x3a43ad),_0x2c280b[_0x18b51f(0xf5)]('data-day-idx',_0x9f8779),renderEventsForColumn(_0x2c280b,_0x3a43ad,_0x9f8779),attachLongPressHandler(_0x2c280b,_0x533687),_0x2ccc14[_0x18b51f(0x229)](_0x2c280b),updateDayStats(_0x3a43ad);}}function reRenderBlocks(){const _0x30c868=a2_0x217081;document[_0x30c868(0x129)](_0x30c868(0x1ad))[_0x30c868(0xed)](_0x1508e2=>{const _0xa28cd1=_0x30c868;_0x1508e2[_0xa28cd1(0x129)]('.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card')[_0xa28cd1(0xed)](_0x5767ce=>_0x5767ce[_0xa28cd1(0x25a)]());const _0x4f862f=_0x1508e2[_0xa28cd1(0x24c)](_0xa28cd1(0x10d)),_0x3fcab1=parseInt(_0x1508e2[_0xa28cd1(0x24c)](_0xa28cd1(0x1d6))),_0x54115f=Math[_0xa28cd1(0x10a)](_0x1508e2[_0xa28cd1(0x1a0)]);(availabilityPattern[_0x3fcab1]||[])[_0xa28cd1(0xed)](_0x4aa4b2=>{const _0x128938=_0xa28cd1,_0x537027=document[_0x128938(0x1ec)](_0x128938(0x126));_0x537027[_0x128938(0x130)]='blocked-slot\x20stripe-bg';const _0x387dac=_0x4aa4b2*GRID_H;_0x537027[_0x128938(0x24f)][_0x128938(0x25e)]=_0x387dac+'px',_0x537027[_0x128938(0x24f)]['backgroundPosition']='-'+_0x54115f+_0x128938(0xec)+_0x387dac+'px',_0x1508e2[_0x128938(0x229)](_0x537027);});if(specialRanges&&specialRanges['length']>0x0){const _0x399bfc=new Date(_0x4f862f+_0xa28cd1(0x210))[_0xa28cd1(0x26d)](),_0x629da7=new Date(_0x4f862f+_0xa28cd1(0x158))[_0xa28cd1(0x26d)]();specialRanges['forEach'](_0x5c79cd=>{const _0x4262f9=_0xa28cd1,_0x408768=new Date(_0x5c79cd['start'])['getTime'](),_0x45f43c=new Date(_0x5c79cd['end'])[_0x4262f9(0x26d)](),_0x176e89=Math[_0x4262f9(0x166)](_0x399bfc,_0x408768),_0x13c508=Math[_0x4262f9(0x238)](_0x629da7,_0x45f43c);if(_0x176e89<_0x13c508){if(_0x176e89<=_0x399bfc&&_0x13c508>=_0x629da7-0xea60){if(!_0x1508e2[_0x4262f9(0x245)](_0x4262f9(0x183))){const _0x44e558=document[_0x4262f9(0x1ec)](_0x4262f9(0x126));_0x44e558[_0x4262f9(0x130)]=_0x4262f9(0x223),_0x44e558[_0x4262f9(0x24f)][_0x4262f9(0x1ac)]='-'+_0x54115f+_0x4262f9(0x1cc),_0x1508e2[_0x4262f9(0x229)](_0x44e558);}}else{const _0x450dc7=(_0x176e89-_0x399bfc)/0x36ee80*GRID_H,_0x192116=(_0x13c508-_0x176e89)/0x36ee80*GRID_H,_0x468f71=document[_0x4262f9(0x1ec)](_0x4262f9(0x126));_0x468f71[_0x4262f9(0x130)]=_0x4262f9(0x1e4),_0x468f71[_0x4262f9(0x24f)]['top']=_0x450dc7+'px',_0x468f71[_0x4262f9(0x24f)][_0x4262f9(0x1b0)]=_0x192116+'px',_0x468f71['style'][_0x4262f9(0x1ac)]='-'+_0x54115f+_0x4262f9(0xec)+_0x450dc7+'px',_0x1508e2['appendChild'](_0x468f71);}}});}if(dateExceptions[_0x4f862f]===_0xa28cd1(0x1b1)){if(!_0x1508e2[_0xa28cd1(0x245)](_0xa28cd1(0x183))){const _0x3e1e27=document[_0xa28cd1(0x1ec)](_0xa28cd1(0x126));_0x3e1e27[_0xa28cd1(0x130)]='day-off-overlay\x20stripe-bg',_0x3e1e27[_0xa28cd1(0x24f)][_0xa28cd1(0x1ac)]='-'+_0x54115f+'px\x200px',_0x1508e2[_0xa28cd1(0x229)](_0x3e1e27);}}renderEventsForColumn(_0x1508e2,_0x4f862f,_0x3fcab1),updateDayStats(_0x4f862f);});}function updateAllDayStats(){const _0x1e5b8c=a2_0x217081;document[_0x1e5b8c(0x129)]('.day-col-header')['forEach'](_0x3360e8=>{const _0x26487c=_0x1e5b8c;updateDayStats(_0x3360e8[_0x26487c(0x24c)]('data-date'));});}function updateDayStats(_0x14b8ad){const _0x367f0d=a2_0x217081,_0x1bb8fa=document[_0x367f0d(0x1a1)]('stat-'+_0x14b8ad);if(!_0x1bb8fa)return;const _0x5cccf8=new Date(_0x14b8ad);let _0x2247e5=_0x5cccf8[_0x367f0d(0x263)]()-0x1;if(_0x2247e5===-0x1)_0x2247e5=0x6;if(dateExceptions[_0x14b8ad]===_0x367f0d(0x1b1)){_0x1bb8fa[_0x367f0d(0x24f)][_0x367f0d(0x23f)]=_0x367f0d(0x224);return;}const _0x5eb3ae=availabilityPattern[_0x2247e5]||[],_0x13ff32=0x18-_0x5eb3ae[_0x367f0d(0x152)],_0x1c7fa7=_0x13ff32*0x3c,_0x275a42=sessions[_0x367f0d(0x21e)](_0x39bed3=>_0x39bed3[_0x367f0d(0x216)]===_0x14b8ad&&_0x39bed3[_0x367f0d(0x244)]!==_0x367f0d(0x167));if(_0x275a42['length']===0x0){_0x1bb8fa[_0x367f0d(0x24f)][_0x367f0d(0x23f)]=_0x367f0d(0x224);return;}let _0x2b50a2=_0x275a42[_0x367f0d(0x1db)](_0x57fa67=>{const _0x1e99f8=_0x367f0d,[_0x2f62e1,_0xb2f852]=_0x57fa67[_0x1e99f8(0x16b)][_0x1e99f8(0x249)](':')[_0x1e99f8(0x1db)](Number),[_0x3afb45,_0x5c8219]=_0x57fa67[_0x1e99f8(0x237)][_0x1e99f8(0x249)](':')[_0x1e99f8(0x1db)](Number);return[_0x2f62e1*0x3c+_0xb2f852,_0x3afb45*0x3c+_0x5c8219];});_0x2b50a2[_0x367f0d(0x23b)]((_0x20278c,_0xda1570)=>_0x20278c[0x0]-_0xda1570[0x0]);let _0x5cd7a8=[];if(_0x2b50a2[_0x367f0d(0x152)]>0x0){let _0x422fa2=_0x2b50a2[0x0];for(let _0x55f551=0x1;_0x55f551<_0x2b50a2[_0x367f0d(0x152)];_0x55f551++){_0x2b50a2[_0x55f551][0x0]<_0x422fa2[0x1]?_0x422fa2[0x1]=Math[_0x367f0d(0x166)](_0x422fa2[0x1],_0x2b50a2[_0x55f551][0x1]):(_0x5cd7a8[_0x367f0d(0x1dc)](_0x422fa2),_0x422fa2=_0x2b50a2[_0x55f551]);}_0x5cd7a8[_0x367f0d(0x1dc)](_0x422fa2);}let _0x36fe7e=0x0;_0x5cd7a8[_0x367f0d(0xed)](_0x47f7b4=>_0x36fe7e+=_0x47f7b4[0x1]-_0x47f7b4[0x0]),_0x1bb8fa['style'][_0x367f0d(0x23f)]=_0x367f0d(0xf0);const _0x10289c=_0x1bb8fa[_0x367f0d(0x245)](_0x367f0d(0x1bc));if(_0x1c7fa7===0x0){_0x10289c[_0x367f0d(0x24f)][_0x367f0d(0x16c)]=_0x367f0d(0x157),_0x10289c[_0x367f0d(0x24f)]['background']=_0x367f0d(0x177);return;}const _0x14db09=_0x36fe7e/_0x1c7fa7*0x64;console[_0x367f0d(0x140)]('['+_0x14b8ad+_0x367f0d(0x1c5)+_0x13ff32+_0x367f0d(0x26e)+_0x36fe7e+'–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20'+_0x14db09['toFixed'](0x1)+'%'),_0x14db09>0x64?(_0x10289c[_0x367f0d(0x24f)][_0x367f0d(0x16c)]='100%',_0x10289c['style'][_0x367f0d(0x262)]=_0x367f0d(0x177)):(_0x10289c[_0x367f0d(0x24f)][_0x367f0d(0x16c)]=_0x14db09+'%',_0x10289c[_0x367f0d(0x24f)][_0x367f0d(0x262)]=_0x367f0d(0x128));}function renderEventsForColumn(_0x47ca77,_0x5d8b39,_0x3a415a){const _0x1f2803=a2_0x217081,_0x11fc85=sessions[_0x1f2803(0x21e)](_0x8d552b=>_0x8d552b['dateStr']===_0x5d8b39),_0x318e5f=_0x11fc85['map'](_0xd1d11b=>{const _0x4a203c=_0x1f2803,[_0x2df514,_0x28407d]=_0xd1d11b[_0x4a203c(0x16b)][_0x4a203c(0x249)](':')['map'](Number),[_0x436bb3,_0x3c70ef]=_0xd1d11b[_0x4a203c(0x237)]['split'](':')[_0x4a203c(0x1db)](Number);return{'data':_0xd1d11b,'start':_0x2df514*0x3c+_0x28407d,'end':_0x436bb3*0x3c+_0x3c70ef,'colIndex':0x0};});_0x318e5f[_0x1f2803(0x23b)]((_0xecb39d,_0x301f7b)=>{const _0x359fd2=_0x1f2803;if(_0xecb39d['start']!==_0x301f7b[_0x359fd2(0x16b)])return _0xecb39d[_0x359fd2(0x16b)]-_0x301f7b[_0x359fd2(0x16b)];return _0x301f7b[_0x359fd2(0x237)]-_0x301f7b['start']-(_0xecb39d['end']-_0xecb39d[_0x359fd2(0x16b)]);});const _0x229467=[];_0x318e5f['forEach'](_0x40fc87=>{const _0x2cb11a=_0x1f2803;let _0x370c5e=![];for(let _0x37147e=0x0;_0x37147e<_0x229467['length'];_0x37147e++){const _0xf68791=_0x229467[_0x37147e],_0x2783c4=_0xf68791[_0xf68791[_0x2cb11a(0x152)]-0x1];if(_0x40fc87[_0x2cb11a(0x16b)]>=_0x2783c4[_0x2cb11a(0x237)]){_0xf68791[_0x2cb11a(0x1dc)](_0x40fc87),_0x40fc87[_0x2cb11a(0x10e)]=_0x37147e,_0x370c5e=!![];break;}}!_0x370c5e&&(_0x229467['push']([_0x40fc87]),_0x40fc87[_0x2cb11a(0x10e)]=_0x229467['length']-0x1);}),_0x318e5f[_0x1f2803(0xed)](_0x326924=>{const _0x3d6c92=_0x1f2803;let _0x409e6d=0x0;_0x318e5f['forEach'](_0x58bbe0=>{const _0x5eeb7d=a2_0x5918;if(Math[_0x5eeb7d(0x166)](_0x326924[_0x5eeb7d(0x16b)],_0x58bbe0[_0x5eeb7d(0x16b)])<Math[_0x5eeb7d(0x238)](_0x326924[_0x5eeb7d(0x237)],_0x58bbe0[_0x5eeb7d(0x237)])){if(_0x58bbe0[_0x5eeb7d(0x10e)]>_0x409e6d)_0x409e6d=_0x58bbe0[_0x5eeb7d(0x10e)];}});const _0x35ca3e=_0x409e6d+0x1,_0x1feb98=0x64/_0x35ca3e,_0x4778a2=_0x326924[_0x3d6c92(0x10e)]*_0x1feb98,_0x9bc3fa=createEventEl(_0x326924[_0x3d6c92(0x132)]);_0x9bc3fa[_0x3d6c92(0x24f)][_0x3d6c92(0x16c)]=_0x3d6c92(0x202)+_0x1feb98+_0x3d6c92(0x149),_0x9bc3fa['style'][_0x3d6c92(0x1b4)]=_0x3d6c92(0x202)+_0x4778a2+_0x3d6c92(0x230),_0x9bc3fa[_0x3d6c92(0x24f)][_0x3d6c92(0x190)]=0xa+_0x326924['colIndex'],_0x1feb98<0x55&&_0x9bc3fa[_0x3d6c92(0x212)]['add'](_0x3d6c92(0x236)),_0x47ca77['appendChild'](_0x9bc3fa);});}function createEventEl(_0xcea045){const _0x281d1f=a2_0x217081,[_0xaca5e6,_0x3a7d28]=_0xcea045[_0x281d1f(0x16b)][_0x281d1f(0x249)](':')[_0x281d1f(0x1db)](Number),[_0x103626,_0x5333db]=_0xcea045[_0x281d1f(0x237)][_0x281d1f(0x249)](':')[_0x281d1f(0x1db)](Number),_0x162e30=(_0xaca5e6*0x3c+_0x3a7d28)/0x3c*GRID_H,_0x186092=(_0x103626*0x3c+_0x5333db-(_0xaca5e6*0x3c+_0x3a7d28))/0x3c*GRID_H,_0x1c1966=document[_0x281d1f(0x1ec)](_0x281d1f(0x126)),_0x4c4bff=_0xcea045[_0x281d1f(0x244)]===_0x281d1f(0x1f9)?_0x281d1f(0x189):'';_0x1c1966[_0x281d1f(0x130)]=_0x281d1f(0x137)+_0x4c4bff,_0x1c1966['style']['top']=_0x162e30+'px',_0x1c1966[_0x281d1f(0x24f)]['height']=Math[_0x281d1f(0x166)](_0x186092,0x14)+'px';const _0x5d7c9b=clients[_0x281d1f(0x1a5)](_0x5594e2=>_0xcea045[_0x281d1f(0x265)]&&String(_0x5594e2['id'])===String(_0xcea045[_0x281d1f(0x265)])||_0x5594e2[_0x281d1f(0x226)]===_0xcea045[_0x281d1f(0x25d)]),_0x2335ba=_0x5d7c9b?_0x5d7c9b[_0x281d1f(0x100)]:_0x281d1f(0x1bb);_0x1c1966[_0x281d1f(0x24f)][_0x281d1f(0x155)]=_0x2335ba,_0x1c1966[_0x281d1f(0x24f)][_0x281d1f(0x1e2)]=hexToRgba(_0x2335ba,0.85);let _0xc4580c='<div\x20class=\x22ev-title\x22>'+_0xcea045[_0x281d1f(0x25d)]+_0x281d1f(0x15d)+_0xcea045['start']+'\x20-\x20'+_0xcea045[_0x281d1f(0x237)]+_0x281d1f(0x1d5);return _0xcea045[_0x281d1f(0x220)]&&(_0xc4580c+=_0x281d1f(0x1a4)),_0xcea045[_0x281d1f(0x244)]===_0x281d1f(0x1f9)&&(_0xc4580c+='<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>'),_0x1c1966[_0x281d1f(0x12b)]=_0xc4580c,_0x1c1966[_0x281d1f(0x17b)]=_0x2a66a0=>{_0x2a66a0['stopPropagation'](),openEdit(_0xcea045);},_0x1c1966;}function attachLongPressHandler(_0xf657fd,_0x1df70b){const _0x164e88=a2_0x217081;let _0x5e0ed1=0x0,_0x1eab2c=null;const _0x2afaa8=_0x1a98eb=>{const _0x5649fc=a2_0x5918;if(_0x1a98eb['target'][_0x5649fc(0x18d)]('.event-card'))return;isScrolling=![],_0x5e0ed1=_0x1a98eb[_0x5649fc(0x23d)]?_0x1a98eb['touches'][0x0][_0x5649fc(0x10c)]:_0x1a98eb['clientY'],_0x1eab2c=setTimeout(()=>{const _0x39d801=_0x5649fc;if(!isScrolling){navigator['vibrate']?.(0x32);const _0x11032e=_0xf657fd[_0x39d801(0x17f)](),_0x145670=Math[_0x39d801(0x16a)]((_0x5e0ed1-_0x11032e['top'])/GRID_H);_0x1df70b[_0x39d801(0x20b)](_0x145670,0x0),openAddSession(_0x1df70b);}},0x1f4);},_0x5bae69=()=>{isScrolling=!![],clearTimeout(_0x1eab2c);},_0x3fa255=()=>{clearTimeout(_0x1eab2c);};_0xf657fd[_0x164e88(0x23a)](_0x164e88(0x113),_0x2afaa8,{'passive':!![]}),_0xf657fd['addEventListener'](_0x164e88(0x13d),_0x5bae69,{'passive':!![]}),_0xf657fd[_0x164e88(0x23a)](_0x164e88(0x1f6),_0x3fa255),_0xf657fd[_0x164e88(0x23a)](_0x164e88(0x175),_0x2afaa8),_0xf657fd[_0x164e88(0x23a)]('mousemove',_0x5bae69),_0xf657fd[_0x164e88(0x23a)]('mouseup',_0x3fa255);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x302808=a2_0x217081,_0x322da9=document[_0x302808(0x1a1)](_0x302808(0x1e8)),_0x209968=_0x322da9['scrollLeft'],_0xd99d6c=_0x322da9['scrollWidth'],_0x5820f3=_0x322da9[_0x302808(0x1b2)];if(_0xd99d6c-(_0x209968+_0x5820f3)<0x12c){const _0x3dfae2=endOffset;endOffset+=0xe,renderDayRange(_0x3dfae2+0x1,endOffset),reRenderBlocks();}if(_0x209968<0x12c){const _0x4ff01c=startOffset;startOffset-=0xe,prependDays(startOffset,_0x4ff01c-0x1),_0x322da9[_0x302808(0x233)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x8c32a4,_0x547ca7){const _0x41a8ef=a2_0x217081,_0x1d03c9=document['getElementById']('daysHeaderTrack'),_0x1fb838=document[_0x41a8ef(0x1a1)]('gridColumns'),_0x721b7b=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x5d72c8=new Date();_0x5d72c8['setHours'](0x0,0x0,0x0,0x0);const _0x29f155=getLocalDateStr(new Date()),_0x47a79d=document['createDocumentFragment'](),_0x34a1f3=document[_0x41a8ef(0x1ce)]();for(let _0x549ef0=_0x8c32a4;_0x549ef0<=_0x547ca7;_0x549ef0++){const _0xa4bd63=new Date(_0x5d72c8);_0xa4bd63[_0x41a8ef(0x1a6)](_0xa4bd63[_0x41a8ef(0x16e)]()+_0x549ef0);const _0x57b8cc=getLocalDateStr(_0xa4bd63);let _0x486256=_0xa4bd63['getDay']()-0x1;if(_0x486256===-0x1)_0x486256=0x6;const _0x3e7ae3=_0x57b8cc===_0x29f155,_0x3d413c=document[_0x41a8ef(0x1ec)]('div');_0x3d413c[_0x41a8ef(0x130)]=_0x41a8ef(0x14e)+(_0x3e7ae3?_0x41a8ef(0x215):''),_0x3d413c['id']='header-'+_0x57b8cc,_0x3d413c[_0x41a8ef(0xf5)](_0x41a8ef(0x10d),_0x57b8cc),_0x3d413c[_0x41a8ef(0x12b)]=_0x41a8ef(0x1f4)+_0x721b7b[_0x486256]+_0x41a8ef(0x219)+_0xa4bd63[_0x41a8ef(0x16e)]()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0x57b8cc+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x3d413c[_0x41a8ef(0x17b)]=()=>openDayOptions(_0x57b8cc,_0x721b7b[_0x486256]+'\x20'+_0xa4bd63['getDate']()),_0x47a79d[_0x41a8ef(0x229)](_0x3d413c);const _0x464722=document[_0x41a8ef(0x1ec)](_0x41a8ef(0x126));_0x464722[_0x41a8ef(0x130)]=_0x41a8ef(0x200)+(_0x3e7ae3?_0x41a8ef(0x215):''),_0x464722[_0x41a8ef(0xf5)](_0x41a8ef(0x10d),_0x57b8cc),_0x464722['setAttribute'](_0x41a8ef(0x1d6),_0x486256),renderEventsForColumn(_0x464722,_0x57b8cc,_0x486256),attachLongPressHandler(_0x464722,_0xa4bd63),_0x34a1f3[_0x41a8ef(0x229)](_0x464722),updateDayStats(_0x57b8cc);}_0x1d03c9[_0x41a8ef(0x11f)](_0x47a79d,_0x1d03c9['firstChild']),_0x1fb838[_0x41a8ef(0x11f)](_0x34a1f3,_0x1fb838['querySelector'](_0x41a8ef(0x209)));}function validateAppointment(_0x4e1cd0,_0x2cd232,_0x39f8c9,_0x80795,_0x2e2485){const _0x26e4f1=a2_0x217081,[_0x267440,_0x3351f3]=_0x2cd232[_0x26e4f1(0x249)](':')['map'](Number),[_0x263b52,_0x3671c5]=_0x39f8c9[_0x26e4f1(0x249)](':')[_0x26e4f1(0x1db)](Number),_0x2ab476=_0x267440*0x3c+_0x3351f3,_0x599679=_0x263b52*0x3c+_0x3671c5,_0x90b348=String(_0x2e2485);let _0x104a37=![],_0x3667d6='';for(let _0x2924e4 of sessions){if(_0x2924e4[_0x26e4f1(0x216)]!==_0x4e1cd0)continue;if(_0x2924e4[_0x26e4f1(0x244)]===_0x26e4f1(0x167))continue;if(_0x80795&&String(_0x2924e4['id'])===String(_0x80795))continue;const [_0x4e8caa,_0x2e1cb9]=_0x2924e4[_0x26e4f1(0x16b)]['split'](':')[_0x26e4f1(0x1db)](Number),[_0x5bf042,_0x1c0ee6]=_0x2924e4[_0x26e4f1(0x237)][_0x26e4f1(0x249)](':')['map'](Number),_0x1e22e5=_0x4e8caa*0x3c+_0x2e1cb9,_0x447504=_0x5bf042*0x3c+_0x1c0ee6;if(Math[_0x26e4f1(0x166)](_0x2ab476,_0x1e22e5)<Math[_0x26e4f1(0x238)](_0x599679,_0x447504)){if(_0x2924e4[_0x26e4f1(0x265)]&&String(_0x2924e4[_0x26e4f1(0x265)])===_0x90b348)return{'valid':![],'msg':_0x26e4f1(0x160)+_0x2924e4[_0x26e4f1(0x25d)]+_0x26e4f1(0x1eb)};_0x104a37=!![],_0x3667d6=_0x2924e4[_0x26e4f1(0x25d)];}}if(_0x104a37)return{'valid':!![],'warning':_0x26e4f1(0x231)+_0x3667d6};return{'valid':!![]};}function updateDateDisplay(){const _0x345e30=a2_0x217081,_0x142f1b=document[_0x345e30(0x1a1)](_0x345e30(0x246))['value'],_0x155ebe=document['getElementById'](_0x345e30(0x1aa));if(!_0x142f1b){_0x155ebe[_0x345e30(0x1cf)]='';return;}const [_0x163fed,_0x1e7c22,_0x235cfe]=_0x142f1b[_0x345e30(0x249)]('-')[_0x345e30(0x1db)](Number),_0x4b13af=new Date(_0x163fed,_0x1e7c22-0x1,_0x235cfe),_0x2859ee={'weekday':_0x345e30(0x1fe),'day':_0x345e30(0x108),'month':_0x345e30(0x1fe),'year':'numeric'};let _0x4544c7=_0x4b13af[_0x345e30(0x15c)](_0x345e30(0x11d),_0x2859ee);_0x4544c7=_0x4544c7[_0x345e30(0x148)](0x0)[_0x345e30(0xf7)]()+_0x4544c7['slice'](0x1),_0x155ebe['textContent']=_0x4544c7;}function autoSetEndTime(){const _0x77dd35=a2_0x217081,_0x4802ba=document[_0x77dd35(0x1a1)](_0x77dd35(0x213))['value'];if(!_0x4802ba)return;const [_0x2af6f5,_0x48d0af]=_0x4802ba[_0x77dd35(0x249)](':')[_0x77dd35(0x1db)](Number);let _0x343670=_0x2af6f5+0x1;if(_0x343670>0x17)_0x343670=0x0;const _0x243ca3=String(_0x343670)[_0x77dd35(0x163)](0x2,'0')+':'+String(_0x48d0af)[_0x77dd35(0x163)](0x2,'0');document[_0x77dd35(0x1a1)](_0x77dd35(0x14b))[_0x77dd35(0x1ea)]=_0x243ca3;}function populateClientSelect(){const _0x4da572=a2_0x217081,_0x3778dc=document['getElementById'](_0x4da572(0x1c7));_0x3778dc[_0x4da572(0x12b)]='';if(clients[_0x4da572(0x152)]===0x0){const _0x1a8709=document[_0x4da572(0x1ec)]('option');_0x1a8709[_0x4da572(0x186)]='–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤',_0x3778dc[_0x4da572(0x229)](_0x1a8709);return;}clients[_0x4da572(0xed)](_0x3b43b9=>{const _0x345c05=_0x4da572,_0x4145c7=document['createElement'](_0x345c05(0x14f));_0x4145c7[_0x345c05(0x1ea)]=_0x3b43b9[_0x345c05(0x226)],_0x4145c7['textContent']=_0x3b43b9[_0x345c05(0x226)],_0x3778dc[_0x345c05(0x229)](_0x4145c7);});}function openActionSheet(_0x170204){const _0x4d3336=a2_0x217081,_0x285b60=document[_0x4d3336(0x1a1)](_0x4d3336(0x146)),_0x1a153d=document[_0x4d3336(0x1a1)](_0x4d3336(0xfb)),_0x408a44=document[_0x4d3336(0x1a1)](_0x4d3336(0x1f3)),_0x1fdd7b=document[_0x4d3336(0x1a1)](_0x4d3336(0x269)),_0x4d05ba=document[_0x4d3336(0x1a1)](_0x4d3336(0x201));_0x1a153d[_0x4d3336(0x212)][_0x4d3336(0x116)](_0x4d3336(0x1cb)),_0x285b60[_0x4d3336(0x212)]['add'](_0x4d3336(0xff));if(_0x170204===_0x4d3336(0x170))_0x408a44[_0x4d3336(0x1cf)]=_0x4d3336(0x20f),_0x1fdd7b[_0x4d3336(0x1cf)]=_0x4d3336(0x197),_0x1fdd7b[_0x4d3336(0x17b)]=()=>{const _0x117ab8=_0x4d3336;closeActionSheet(),updateSeriesBatch(_0x117ab8(0x1bd),tempSessionData);},_0x4d05ba[_0x4d3336(0x1cf)]=_0x4d3336(0x19b),_0x4d05ba[_0x4d3336(0x17b)]=()=>{closeActionSheet(),updateSeriesBatch('series',tempSessionData);};else _0x170204===_0x4d3336(0xf2)&&(_0x408a44[_0x4d3336(0x1cf)]='–£–¥–∞–ª–µ–Ω–∏–µ',_0x1fdd7b[_0x4d3336(0x1cf)]=_0x4d3336(0x197),_0x1fdd7b[_0x4d3336(0x130)]=_0x4d3336(0x174),_0x1fdd7b['onclick']=()=>{closeActionSheet(),commitDelete('single',sessions['find'](_0x5b4d7c=>_0x5b4d7c['id']===editingId));},_0x4d05ba['textContent']=_0x4d3336(0x19b),_0x4d05ba[_0x4d3336(0x130)]=_0x4d3336(0x1fc),_0x4d05ba[_0x4d3336(0x17b)]=()=>{const _0xfe7ba9=_0x4d3336;closeActionSheet(),commitDelete(_0xfe7ba9(0xfa),sessions[_0xfe7ba9(0x1a5)](_0x54c08d=>_0x54c08d['id']===editingId));});}function closeActionSheet(){const _0x248b71=a2_0x217081;document[_0x248b71(0x1a1)](_0x248b71(0x146))['classList'][_0x248b71(0x25a)](_0x248b71(0xff)),document[_0x248b71(0x1a1)](_0x248b71(0xfb))['classList']['remove']('active');}function openSettings(){const _0x2d8863=a2_0x217081;openSheet(_0x2d8863(0x19d));}function saveCoachSettings(){const _0x1dd492=a2_0x217081,_0x13db28=document[_0x1dd492(0x1a1)](_0x1dd492(0x16f))[_0x1dd492(0x1ea)];localStorage[_0x1dd492(0x136)]('uc_settings_cancel_window',_0x13db28),console[_0x1dd492(0x140)]('[Settings]\x20Cancel\x20window\x20set\x20to:',_0x13db28),DataManager[_0x1dd492(0x156)](_0x1dd492(0x11a),{'settings':{'cancel_window':_0x13db28}})[_0x1dd492(0x1b8)](_0x4cbc6d=>{const _0x5d918d=_0x1dd492;console[_0x5d918d(0x204)](_0x5d918d(0x252),_0x4cbc6d),showToast(_0x5d918d(0x139),![]);});}function loadCoachSettings(){const _0x6d9551=a2_0x217081,_0x1ca016=localStorage[_0x6d9551(0x15f)](_0x6d9551(0x21c));_0x1ca016&&(document[_0x6d9551(0x1a1)](_0x6d9551(0x16f))[_0x6d9551(0x1ea)]=_0x1ca016);}function openRangesSheet(){closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet('rangesSheet');}function addRange(){const _0x20bb29=a2_0x217081,_0x5cf321=document[_0x20bb29(0x1a1)]('rangeStartDate')[_0x20bb29(0x1ea)],_0x14cde0=document['getElementById'](_0x20bb29(0x1df))[_0x20bb29(0x1ea)],_0x695fc7=document[_0x20bb29(0x1a1)](_0x20bb29(0x12c))[_0x20bb29(0x1ea)],_0x18ce61=document[_0x20bb29(0x1a1)](_0x20bb29(0x24b))[_0x20bb29(0x1ea)];if(!_0x5cf321||!_0x14cde0||!_0x695fc7||!_0x18ce61)return alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è');const _0x35d854=_0x5cf321+'T'+_0x14cde0,_0x3ff905=_0x695fc7+'T'+_0x18ce61;if(_0x35d854>=_0x3ff905)return alert(_0x20bb29(0x268));specialRanges['push']({'start':_0x35d854,'end':_0x3ff905}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x20bb29(0x18f)](),DataManager['fetchFromServer'](_0x20bb29(0x11a),{'settings':{'ranges':specialRanges}});}function a2_0x381d(){const _0x415067=['appendChild','slice','getMinutes','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','deleted','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','%\x20+\x202px)','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','scrollLeft','formatDate','...','mini','end','min','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','addEventListener','sort','random','touches','00:00','display','header-','warning','Server\x20Error','offsetWidth','status','querySelector','inpDate','seriesCountContainer','setHeaderColor','split','pattern','rangeEndTime','getAttribute','.pib-text','anDonutCircle','style','1149837lpzqLM','inpRecurring','Save\x20settings\x20error:','uc_sessions_v9','analyticsList','toString','toLocaleString','btn-status-toggle','.period-switch\x20.p-btn',':\x20Client\x20already\x20booked','remove','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','<b>‚úÖ\x20','client','top','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','range-item','custom','background','getDay','parse','clientId','BackButton','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','asBtnOne','analyticsSheet','btnDayToggle','DOMContentLoaded','getTime','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','px\x20-','forEach','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','flex','\x20-\x20','delete','sid','statLoadCard','setAttribute','uc_settings_v9','toUpperCase',']\x20Failed:','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','series','actionSheetOverlay','rgba(255,255,255,0.05)','exceptions','\x20days','open','color','timeColumn','from','[Notify]\x20Error:\x20Text\x20generation\x20failed','8512260TJDfHg','(((.+)+)+)+$','offClick','toastTitle','numeric','Unknown','round','2397910mzIHre','clientY','data-date','colIndex','pe-time-label','globalTimeLine','<span>','anEnd','touchstart','init_load','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','add','inpSeriesCount','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','gridColumns','save_settings','patternInfoBox','create','ru-RU','rgba(100,100,100,0.5)','insertBefore','btn-status-toggle\x20undo-mode','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','warn','doDateHeader','ranges','#050505','div','.day-col-header','var(--acc-current)','querySelectorAll','getHours','innerHTML','rangeEndDate','now','10px\x2010px\x200\x200','syncLoad','className','json','data','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','search','setItem','event-card','all','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','checked','rgba(','10px','touchmove','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','8OBbAfI','log','constructor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','Error\x20setting\x20color:','includes','actionSheet','de-item','charAt','%\x20-\x204px)','[Series]\x20Skipped\x20','inpEnd','11920ZZRtWd','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','day-col-header\x20','option','[Notify]\x20Detected\x20Client\x20ID:','getFullYear','length','settings','#fff','borderLeftColor','fetchFromServer','100%','T23:59:59','WebApp','dayOptionsTitle','disableVerticalSwipes','toLocaleDateString','</div><div\x20class=\x22ev-time\x22>','cancel_window','getItem','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','padStart','headerMonth','borderColor','max','cancelled','POST','splice','floor','start','width','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','getDate','settingCancelWindow','save','anTotalStats','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','pe-cell\x20','as-button\x20danger','mousedown','borderRadius','var(--acc-red)','[Notify]\x20Server\x20Response:','–£—Å–ø–µ—à–Ω–æ','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','onclick','rgba(255,\x2069,\x2058,\x200.15)','pe-col-header','href','getBoundingClientRect','toast-notification\x20','toast','uc_clients_v9','.day-off-overlay','v9.0-BATCH-CALENDAR','btnDelete','text','month','253GrybUo','\x20status-completed','sessionSheet','done','client-stat-card','closest','then','saveLocally','zIndex','cancel','apply','expand','week','onClick','Critical\x20TMA\x20Error:','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','stringify','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','sheetTitle','settingsSheet','2543VRSQkb','recurringOptionContainer','offsetLeft','getElementById','.sheet','anStart','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','find','setDate','rgba(48,\x20209,\x2088,\x200.15)','patternEditor','btnStatusToggle','sheetDateSubtitle','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','backgroundPosition','#gridColumns\x20.day-column','mergeServerData','substr','height','off','clientWidth','planned','left','anCustomDates','overlay','router.html','catch','dayOptionsSheet','calendar','#0a84ff','.dch-stats-fill','single','toastMessage','867576pxXVhS','\x20‚Äî\x20','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','send','var(--acc-green)','isArray',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','getMonth','inpClient','ready','guest','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','active','px\x200px','2949240FyiLiL','createDocumentFragment','textContent','location','total','inpNote','complete','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','</div>','data-day-idx','clients','\x20–∏–∑\x20','Batch\x20Sync\x20OK','var(--acc-orange)','map','push','doBusyHours','scrollTop','rangeStartTime','2223LIaYcN','initDataUnsafe','backgroundColor','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','blocked-range-part\x20stripe-bg','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','matrixViewport','Telegram','value',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','createElement','note','text/plain;charset=UTF-8','anPercent','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','doWorkHours','pe-corner','asTitle','<div\x20class=\x22dch-day\x22>','keys','touchend','daysHeaderTrack','doLoadPercent','completed','block','rgba(255,\x20159,\x2010,\x200.3)','as-button\x20danger\x20bold','setBackgroundColor','long','success','day-column\x20','asBtnSeries','calc(','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','error','msg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','initData','startsWith','.day-column','</b>\x0a\x0a','setHours','peGrid','show','14GgAbtv','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','T00:00:00','btn-primary\x20btn-secondary','classList','inpStart','Error\x20setting\x20back\x20button:','today','dateStr','23:59','findIndex','</div><div\x20class=\x22dch-num\x22>','send_notification','</span>\x20/\x20','uc_settings_cancel_window','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','filter','536JsdgLL','seriesId','timeLineBadge','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','day-off-overlay\x20stripe-bg','none',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','name','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','entries'];a2_0x381d=function(){return _0x415067;};return a2_0x381d();}function deleteRange(_0x50447f){const _0xa13511=a2_0x217081;specialRanges['splice'](_0x50447f,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0xa13511(0x18f)](),DataManager[_0xa13511(0x156)](_0xa13511(0x11a),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x2ce5e8=a2_0x217081;document[_0x2ce5e8(0x1a1)]('rangeStartDate')[_0x2ce5e8(0x1ea)]='',document[_0x2ce5e8(0x1a1)]('rangeStartTime')['value']=_0x2ce5e8(0x23e),document[_0x2ce5e8(0x1a1)]('rangeEndDate')[_0x2ce5e8(0x1ea)]='',document[_0x2ce5e8(0x1a1)](_0x2ce5e8(0x24b))[_0x2ce5e8(0x1ea)]=_0x2ce5e8(0x217);}function renderRangesList(){const _0x580ddc=a2_0x217081,_0xcf3194=document[_0x580ddc(0x1a1)]('rangesList');_0xcf3194[_0x580ddc(0x12b)]='';if(!specialRanges[_0x580ddc(0x152)]){_0xcf3194[_0x580ddc(0x12b)]=_0x580ddc(0x222);return;}specialRanges[_0x580ddc(0xed)]((_0x5542b9,_0x1a6e9c)=>{const _0xc97e19=_0x580ddc,_0x2d45ca=document['createElement'](_0xc97e19(0x126));_0x2d45ca[_0xc97e19(0x130)]=_0xc97e19(0x260);const _0x58aeeb=_0x2e701d=>{const _0x1c2bd3=_0xc97e19,_0x4458c5=new Date(_0x2e701d);return _0x4458c5[_0x1c2bd3(0x16e)]()+'.'+String(_0x4458c5[_0x1c2bd3(0x1c6)]()+0x1)[_0x1c2bd3(0x163)](0x2,'0')+'\x20'+String(_0x4458c5[_0x1c2bd3(0x12a)]())[_0x1c2bd3(0x163)](0x2,'0')+':'+String(_0x4458c5[_0x1c2bd3(0x22b)]())[_0x1c2bd3(0x163)](0x2,'0');};_0x2d45ca['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>'+_0x58aeeb(_0x5542b9[_0xc97e19(0x16b)])+_0xc97e19(0x1c0)+_0x58aeeb(_0x5542b9['end'])+_0xc97e19(0x25b)+_0x1a6e9c+_0xc97e19(0x225),_0xcf3194[_0xc97e19(0x229)](_0x2d45ca);});}function scrollToToday(){const _0x52c6b2=a2_0x217081,_0x53bf13=getLocalDateStr(new Date()),_0x37984d=document[_0x52c6b2(0x1a1)](_0x52c6b2(0x240)+_0x53bf13),_0x250653=document[_0x52c6b2(0x1a1)](_0x52c6b2(0x1e8));if(_0x37984d&&_0x250653){const _0x330840=_0x250653[_0x52c6b2(0x1b2)],_0x3c5077=_0x37984d['offsetLeft'],_0x54756a=_0x37984d[_0x52c6b2(0x243)];_0x250653[_0x52c6b2(0x233)]=_0x3c5077-_0x330840/0x2+_0x54756a/0x2,_0x250653[_0x52c6b2(0x1de)]=0x9*GRID_H;}}function onScroll(){const _0x318461=a2_0x217081,_0x2f69d9=document[_0x318461(0x1a1)](_0x318461(0x1e8)),_0x3ea923=document[_0x318461(0x129)](_0x318461(0x127));for(let _0x1a976d of _0x3ea923)if(_0x1a976d['offsetLeft']>=_0x2f69d9['scrollLeft']){const _0x2968d9=new Date(_0x1a976d[_0x318461(0x24c)](_0x318461(0x10d)));document[_0x318461(0x1a1)](_0x318461(0x164))['textContent']=_0x2968d9[_0x318461(0x256)]('ru',{'month':'long'})[_0x318461(0xf7)]()+'\x20'+_0x2968d9['getFullYear']();break;}}function showToast(_0x5e6159,_0x4f5e31=![]){const _0x134516=a2_0x217081,_0x3b6087=document[_0x134516(0x1a1)](_0x134516(0x181));_0x3b6087['className']=_0x134516(0x180)+(_0x4f5e31?_0x134516(0x1ff):''),document['getElementById'](_0x134516(0x107))[_0x134516(0x1cf)]=_0x4f5e31?_0x134516(0x179):'–ò–Ω—Ñ–æ',document[_0x134516(0x1a1)](_0x134516(0x1be))['textContent']=_0x5e6159,_0x3b6087[_0x134516(0x212)][_0x134516(0x116)](_0x134516(0x20d)),setTimeout(()=>{const _0x1445d7=_0x134516;_0x3b6087[_0x1445d7(0x212)][_0x1445d7(0x25a)]('show');},0xbb8);}function openDayOptions(_0x14c592,_0x51a795){const _0x378feb=a2_0x217081;selectedDayForOptions=_0x14c592,document['getElementById'](_0x378feb(0x15a))[_0x378feb(0x1cf)]=_0x51a795,openSheet('dayOptionsSheet');}function toggleDayOff(){const _0x34827a=a2_0x217081;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x34827a(0x1b1),reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager['fetchFromServer'](_0x34827a(0x11a),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x39ea63=a2_0x217081;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x39ea63(0x18f)](),DataManager[_0x39ea63(0x156)](_0x39ea63(0x11a),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x32ed6e){const _0x2fb2bb=a2_0x217081;document['getElementById'](_0x2fb2bb(0x1b6))['classList']['add'](_0x2fb2bb(0x1cb)),document[_0x2fb2bb(0x1a1)](_0x32ed6e)[_0x2fb2bb(0x212)]['add'](_0x2fb2bb(0xff));}function closeAllSheets(){const _0x3d2c72=a2_0x217081;document[_0x3d2c72(0x1a1)](_0x3d2c72(0x1b6))[_0x3d2c72(0x212)][_0x3d2c72(0x25a)](_0x3d2c72(0x1cb)),document[_0x3d2c72(0x129)](_0x3d2c72(0x1a2))['forEach'](_0x33af6c=>_0x33af6c[_0x3d2c72(0x212)][_0x3d2c72(0x25a)](_0x3d2c72(0xff)));}function openPatternEditor(){const _0x3e3fcf=a2_0x217081;closeAllSheets(),document[_0x3e3fcf(0x1a1)]('patternEditor')[_0x3e3fcf(0x212)]['add'](_0x3e3fcf(0xff)),renderPatternEditor();}function closePatternEditor(){const _0x1ac489=a2_0x217081;document['getElementById'](_0x1ac489(0x1a8))[_0x1ac489(0x212)][_0x1ac489(0x25a)](_0x1ac489(0xff));}function savePattern(){const _0x53e2fe=a2_0x217081;document[_0x53e2fe(0x1a1)](_0x53e2fe(0x1a8))['classList'][_0x53e2fe(0x25a)](_0x53e2fe(0xff)),reRenderBlocks(),DataManager[_0x53e2fe(0x18f)](),DataManager[_0x53e2fe(0x156)](_0x53e2fe(0x11a),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0xf4b25b=a2_0x217081,_0x590877=document[_0xf4b25b(0x1a1)](_0xf4b25b(0x20c));_0x590877[_0xf4b25b(0x12b)]='';const _0x456218=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x880931=document['createElement']('div');_0x880931[_0xf4b25b(0x130)]=_0xf4b25b(0x1f2),_0x590877[_0xf4b25b(0x229)](_0x880931),_0x456218['forEach']((_0x7aac8d,_0xaf058e)=>{const _0x5a9d1c=_0xf4b25b,_0x4052df=document[_0x5a9d1c(0x1ec)](_0x5a9d1c(0x126));_0x4052df['className']=_0x5a9d1c(0x17d),_0x4052df['innerHTML']=_0x7aac8d+'\x20<span\x20class=\x22arrow\x22>‚Üì</span>',_0x4052df[_0x5a9d1c(0x17b)]=()=>toggleColPattern(_0xaf058e),_0x590877[_0x5a9d1c(0x229)](_0x4052df);});for(let _0x511f14=0x0;_0x511f14<0x18;_0x511f14++){const _0x51b0c4=document[_0xf4b25b(0x1ec)](_0xf4b25b(0x126));_0x51b0c4['className']=_0xf4b25b(0x10f),_0x51b0c4[_0xf4b25b(0x12b)]=_0xf4b25b(0x133)+String(_0x511f14)[_0xf4b25b(0x163)](0x2,'0')+':00',_0x51b0c4['onclick']=()=>toggleRowPattern(_0x511f14),_0x590877[_0xf4b25b(0x229)](_0x51b0c4);for(let _0x274d0d=0x0;_0x274d0d<0x7;_0x274d0d++){const _0x2b8304=document[_0xf4b25b(0x1ec)]('div'),_0x36a6e4=(availabilityPattern[_0x274d0d]||[])[_0xf4b25b(0x145)](_0x511f14),_0x499af9=!_0x36a6e4;_0x2b8304[_0xf4b25b(0x130)]=_0xf4b25b(0x173)+(_0x499af9?'active':''),_0x2b8304['onclick']=()=>toggleSinglePattern(_0x274d0d,_0x511f14),_0x590877[_0xf4b25b(0x229)](_0x2b8304);}}}function toggleSinglePattern(_0x259ebf,_0x1f9fed){const _0x55a88c=a2_0x217081;if(!availabilityPattern[_0x259ebf])availabilityPattern[_0x259ebf]=[];const _0x219919=availabilityPattern[_0x259ebf],_0x16badb=_0x219919['indexOf'](_0x1f9fed);_0x16badb===-0x1?_0x219919['push'](_0x1f9fed):_0x219919[_0x55a88c(0x169)](_0x16badb,0x1),renderPatternEditor();}function toggleColPattern(_0x2c1f74){const _0x409e3a=a2_0x217081;if(!availabilityPattern[_0x2c1f74])availabilityPattern[_0x2c1f74]=[];const _0x38ffdc=availabilityPattern[_0x2c1f74];_0x38ffdc[_0x409e3a(0x152)]===0x0?availabilityPattern[_0x2c1f74]=Array[_0x409e3a(0x102)]({'length':0x18},(_0x219f89,_0x20a29a)=>_0x20a29a):availabilityPattern[_0x2c1f74]=[],renderPatternEditor();}function toggleRowPattern(_0x407382){const _0x9e0679=a2_0x217081;let _0x173258=!![];for(let _0x59279a=0x0;_0x59279a<0x7;_0x59279a++){if((availabilityPattern[_0x59279a]||[])['includes'](_0x407382)){_0x173258=![];break;}}for(let _0x533760=0x0;_0x533760<0x7;_0x533760++){if(!availabilityPattern[_0x533760])availabilityPattern[_0x533760]=[];const _0x344eb3=availabilityPattern[_0x533760]['indexOf'](_0x407382);if(_0x173258){if(_0x344eb3===-0x1)availabilityPattern[_0x533760][_0x9e0679(0x1dc)](_0x407382);}else{if(_0x344eb3!==-0x1)availabilityPattern[_0x533760][_0x9e0679(0x169)](_0x344eb3,0x1);}}renderPatternEditor();}function renderPCol(_0x4931cf,_0x9ac659){const _0x3f6bd9=a2_0x217081;_0x4931cf['innerHTML']='';const _0x2887bf=Math[_0x3f6bd9(0x10a)](_0x4931cf[_0x3f6bd9(0x1a0)]);(availabilityPattern[_0x9ac659]||[])['forEach'](_0x4feea8=>{const _0xfdb4cc=_0x3f6bd9,_0x1502e1=document[_0xfdb4cc(0x1ec)](_0xfdb4cc(0x126));_0x1502e1[_0xfdb4cc(0x130)]='blocked-slot\x20stripe-bg';const _0x44ac5e=_0x4feea8*GRID_H;_0x1502e1['style'][_0xfdb4cc(0x25e)]=_0x44ac5e+'px',_0x1502e1[_0xfdb4cc(0x24f)]['backgroundPosition']='-'+_0x2887bf+_0xfdb4cc(0xec)+_0x44ac5e+'px',_0x1502e1['onclick']=_0x33e3aa=>{_0x33e3aa['stopPropagation'](),toggleSinglePattern(_0x9ac659,_0x4feea8);},_0x4931cf[_0xfdb4cc(0x229)](_0x1502e1);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x2fec60=a2_0x217081,_0x5f90de=new Date(),_0x155db3=document['getElementById'](_0x2fec60(0x110)),_0x4a6819=document[_0x2fec60(0x1a1)](_0x2fec60(0x221)),_0xf03ab4=(_0x5f90de['getHours']()*0x3c+_0x5f90de[_0x2fec60(0x22b)]())/0x3c*GRID_H;_0x155db3[_0x2fec60(0x24f)]['top']=_0xf03ab4+'px',_0x155db3['style']['display']=_0x2fec60(0x1fa),_0x4a6819[_0x2fec60(0x1cf)]=String(_0x5f90de[_0x2fec60(0x12a)]())['padStart'](0x2,'0')+':'+String(_0x5f90de[_0x2fec60(0x22b)]())[_0x2fec60(0x163)](0x2,'0'),_0x4a6819[_0x2fec60(0x24f)]['display']=_0x2fec60(0x1fa),_0x4a6819['style'][_0x2fec60(0x25e)]=_0xf03ab4+'px';}document[a2_0x217081(0x23a)](a2_0x217081(0x26c),init);function openDayOptions(_0x2679a2){const _0x398ae9=a2_0x217081;selectedDayForOptions=_0x2679a2;const _0x59ec8f=new Date(_0x2679a2),_0x4a6b19={'weekday':'long','day':_0x398ae9(0x108),'month':_0x398ae9(0x1fe),'year':'numeric'},_0x31464b=_0x59ec8f['toLocaleDateString'](_0x398ae9(0x11d),_0x4a6b19);document[_0x398ae9(0x1a1)](_0x398ae9(0x123))[_0x398ae9(0x1cf)]=_0x31464b[_0x398ae9(0x148)](0x0)[_0x398ae9(0xf7)]()+_0x31464b[_0x398ae9(0x22a)](0x1);let _0x18d829=_0x59ec8f['getDay']()-0x1;if(_0x18d829===-0x1)_0x18d829=0x6;const _0x53c195=availabilityPattern[_0x18d829]||[],_0x17221a=0x18-_0x53c195[_0x398ae9(0x152)],_0x458620=_0x17221a*0x3c,_0x5bdd69=sessions[_0x398ae9(0x21e)](_0x15508f=>_0x15508f[_0x398ae9(0x216)]===_0x2679a2&&_0x15508f[_0x398ae9(0x244)]!=='cancelled');let _0x1b41c0=_0x5bdd69['map'](_0x2e84d8=>{const _0x55a447=_0x398ae9,[_0x519a0f,_0x5ac71d]=_0x2e84d8['start']['split'](':')['map'](Number),[_0xd44736,_0x17af6e]=_0x2e84d8[_0x55a447(0x237)][_0x55a447(0x249)](':')['map'](Number);return[_0x519a0f*0x3c+_0x5ac71d,_0xd44736*0x3c+_0x17af6e];});_0x1b41c0[_0x398ae9(0x23b)]((_0x471399,_0x1ff857)=>_0x471399[0x0]-_0x1ff857[0x0]);let _0x18ea8a=[];if(_0x1b41c0['length']>0x0){let _0x406770=_0x1b41c0[0x0];for(let _0x2b7ece=0x1;_0x2b7ece<_0x1b41c0[_0x398ae9(0x152)];_0x2b7ece++){_0x1b41c0[_0x2b7ece][0x0]<_0x406770[0x1]?_0x406770[0x1]=Math[_0x398ae9(0x166)](_0x406770[0x1],_0x1b41c0[_0x2b7ece][0x1]):(_0x18ea8a[_0x398ae9(0x1dc)](_0x406770),_0x406770=_0x1b41c0[_0x2b7ece]);}_0x18ea8a[_0x398ae9(0x1dc)](_0x406770);}let _0x418596=0x0;_0x18ea8a[_0x398ae9(0xed)](_0x3dc634=>_0x418596+=_0x3dc634[0x1]-_0x3dc634[0x0]),document[_0x398ae9(0x1a1)](_0x398ae9(0x1f1))[_0x398ae9(0x1cf)]=formatMinsToHrs(_0x458620),document[_0x398ae9(0x1a1)](_0x398ae9(0x1dd))[_0x398ae9(0x1cf)]=formatMinsToHrs(_0x418596);const _0xf13962=_0x458620>0x0?Math[_0x398ae9(0x10a)](_0x418596/_0x458620*0x64):0x0,_0xea744e=document['getElementById'](_0x398ae9(0x1f8));_0xea744e[_0x398ae9(0x1cf)]=_0xf13962+'%';const _0x525c4c=document['getElementById'](_0x398ae9(0xf4));if(_0xf13962>0x64)_0xea744e[_0x398ae9(0x24f)]['color']=_0x398ae9(0x177),_0x525c4c[_0x398ae9(0x24f)][_0x398ae9(0x165)]='rgba(255,\x2069,\x2058,\x200.3)';else _0xf13962>0x50?(_0xea744e['style'][_0x398ae9(0x100)]=_0x398ae9(0x1da),_0x525c4c['style'][_0x398ae9(0x165)]=_0x398ae9(0x1fb)):(_0xea744e[_0x398ae9(0x24f)][_0x398ae9(0x100)]='var(--acc-green)',_0x525c4c[_0x398ae9(0x24f)][_0x398ae9(0x165)]=_0x398ae9(0xfc));const _0x3676b3=document[_0x398ae9(0x1a1)]('doEventsList');_0x3676b3['innerHTML']='';_0x5bdd69[_0x398ae9(0x152)]===0x0?_0x3676b3['innerHTML']=_0x398ae9(0x1f0):(_0x5bdd69[_0x398ae9(0x23b)]((_0x21d034,_0x833990)=>_0x21d034[_0x398ae9(0x16b)]['localeCompare'](_0x833990[_0x398ae9(0x16b)])),_0x5bdd69[_0x398ae9(0xed)](_0x47464c=>{const _0x412ddf=_0x398ae9,_0x121073=clients[_0x412ddf(0x1a5)](_0x3cd170=>_0x3cd170[_0x412ddf(0x226)]===_0x47464c[_0x412ddf(0x25d)]),_0x44b02c=_0x121073?_0x121073['color']:_0x412ddf(0x154),_0x4bab58=_0x47464c['status']===_0x412ddf(0x1f9),_0x4ddba2=_0x4bab58?_0x412ddf(0x1d4):'',_0x68e5ea=document[_0x412ddf(0x1ec)](_0x412ddf(0x126));_0x68e5ea[_0x412ddf(0x130)]=_0x412ddf(0x147),_0x68e5ea[_0x412ddf(0x24f)][_0x412ddf(0x155)]=_0x44b02c,_0x68e5ea[_0x412ddf(0x12b)]=_0x412ddf(0x19a)+_0x47464c[_0x412ddf(0x16b)]+_0x412ddf(0xf1)+_0x47464c[_0x412ddf(0x237)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x47464c[_0x412ddf(0x25d)]+_0x412ddf(0x142)+_0x4ddba2+_0x412ddf(0x206),_0x3676b3['appendChild'](_0x68e5ea);}));const _0x5dbc2a=document[_0x398ae9(0x1a1)](_0x398ae9(0x26b)),_0x38068e=dateExceptions[_0x2679a2]===_0x398ae9(0x1b1);_0x38068e?(_0x5dbc2a['textContent']=_0x398ae9(0x227),_0x5dbc2a[_0x398ae9(0x130)]=_0x398ae9(0x211),_0x5dbc2a[_0x398ae9(0x24f)][_0x398ae9(0x100)]=_0x398ae9(0x1c3),_0x5dbc2a[_0x398ae9(0x24f)]['background']=_0x398ae9(0x1a7)):(_0x5dbc2a[_0x398ae9(0x1cf)]=_0x398ae9(0x203),_0x5dbc2a[_0x398ae9(0x130)]='btn-primary\x20btn-danger',_0x5dbc2a[_0x398ae9(0x24f)][_0x398ae9(0x100)]=_0x398ae9(0x177),_0x5dbc2a[_0x398ae9(0x24f)][_0x398ae9(0x262)]=_0x398ae9(0x17c)),openSheet(_0x398ae9(0x1b9));}let currentAnPeriod=a2_0x217081(0x194);function openAnalytics(){const _0x306615=a2_0x217081,_0x4c9a39=document[_0x306615(0x245)](_0x306615(0x258));setAnalyticsPeriod(_0x306615(0x194),_0x4c9a39),closeAllSheets(),openSheet(_0x306615(0x26a));}function setAnalyticsPeriod(_0x59e905,_0x1cc0d1){const _0x220e5e=a2_0x217081;currentAnPeriod=_0x59e905,document[_0x220e5e(0x129)](_0x220e5e(0x258))['forEach'](_0x319c24=>_0x319c24[_0x220e5e(0x212)][_0x220e5e(0x25a)]('active'));if(_0x1cc0d1)_0x1cc0d1['classList'][_0x220e5e(0x116)](_0x220e5e(0x1cb));const _0x12df35=document[_0x220e5e(0x1a1)](_0x220e5e(0x1b5));_0x12df35[_0x220e5e(0x24f)][_0x220e5e(0x23f)]=_0x59e905===_0x220e5e(0x261)?_0x220e5e(0xf0):_0x220e5e(0x224);const _0x48f470=new Date();let _0x4dfe44=new Date(),_0x10caa4=new Date();if(_0x59e905===_0x220e5e(0x194))_0x4dfe44=getStartOfWeek(_0x48f470),_0x10caa4=new Date(_0x4dfe44),_0x10caa4[_0x220e5e(0x1a6)](_0x10caa4['getDate']()+0x6);else{if(_0x59e905===_0x220e5e(0x187))_0x4dfe44=new Date(_0x48f470[_0x220e5e(0x151)](),_0x48f470[_0x220e5e(0x1c6)](),0x1),_0x10caa4=new Date(_0x48f470[_0x220e5e(0x151)](),_0x48f470['getMonth']()+0x1,0x0);else{!document[_0x220e5e(0x1a1)]('anStart')['value']&&(document[_0x220e5e(0x1a1)]('anStart')[_0x220e5e(0x1ea)]=getLocalDateStr(_0x48f470),document[_0x220e5e(0x1a1)](_0x220e5e(0x112))[_0x220e5e(0x1ea)]=getLocalDateStr(_0x48f470));refreshAnalytics();return;}}document[_0x220e5e(0x1a1)](_0x220e5e(0x1a3))[_0x220e5e(0x1ea)]=getLocalDateStr(_0x4dfe44),document[_0x220e5e(0x1a1)](_0x220e5e(0x112))[_0x220e5e(0x1ea)]=getLocalDateStr(_0x10caa4),refreshAnalytics();}function refreshAnalytics(){const _0x4f855f=a2_0x217081,_0x4f87fe=document['getElementById']('anStart')[_0x4f855f(0x1ea)],_0x2682fb=document[_0x4f855f(0x1a1)](_0x4f855f(0x112))['value'];if(!_0x4f87fe||!_0x2682fb)return;const _0x1e61cd=sessions[_0x4f855f(0x21e)](_0x269055=>_0x269055[_0x4f855f(0x216)]>=_0x4f87fe&&_0x269055[_0x4f855f(0x216)]<=_0x2682fb&&_0x269055[_0x4f855f(0x244)]!=='cancelled'),_0x292380=_0x1e61cd[_0x4f855f(0x152)],_0xce54bb=_0x1e61cd[_0x4f855f(0x21e)](_0x50ebd6=>_0x50ebd6[_0x4f855f(0x244)]===_0x4f855f(0x1f9))[_0x4f855f(0x152)],_0x431228=_0x292380>0x0?Math[_0x4f855f(0x10a)](_0xce54bb/_0x292380*0x64):0x0;document[_0x4f855f(0x1a1)](_0x4f855f(0x1ef))[_0x4f855f(0x1cf)]=_0x431228+'%',document[_0x4f855f(0x1a1)](_0x4f855f(0x171))['textContent']=_0xce54bb+_0x4f855f(0x1d8)+_0x292380+_0x4f855f(0x161);const _0x34ffb2=document[_0x4f855f(0x1a1)](_0x4f855f(0x24e)),_0x5a06a2=0x2*Math['PI']*0x23,_0x473b58=_0x5a06a2-_0x431228/0x64*_0x5a06a2;_0x34ffb2[_0x4f855f(0x24f)]['strokeDashoffset']=_0x473b58;const _0x336f0f={};_0x1e61cd[_0x4f855f(0xed)](_0x2c88d5=>{const _0x5e1d77=_0x4f855f;if(!_0x336f0f[_0x2c88d5[_0x5e1d77(0x25d)]]){const _0x4f3767=clients['find'](_0x3ef50c=>_0x3ef50c['name']===_0x2c88d5[_0x5e1d77(0x25d)]);_0x336f0f[_0x2c88d5[_0x5e1d77(0x25d)]]={'total':0x0,'done':0x0,'color':_0x4f3767?_0x4f3767[_0x5e1d77(0x100)]:_0x5e1d77(0x154)};}_0x336f0f[_0x2c88d5[_0x5e1d77(0x25d)]][_0x5e1d77(0x1d1)]++;if(_0x2c88d5[_0x5e1d77(0x244)]===_0x5e1d77(0x1f9))_0x336f0f[_0x2c88d5['client']][_0x5e1d77(0x18b)]++;});const _0x61cf44=document[_0x4f855f(0x1a1)](_0x4f855f(0x254));_0x61cf44[_0x4f855f(0x12b)]='';const _0xd52dcb=Object[_0x4f855f(0x228)](_0x336f0f)[_0x4f855f(0x23b)]((_0x5d6e11,_0x1909b8)=>_0x1909b8[0x1][_0x4f855f(0x1d1)]-_0x5d6e11[0x1][_0x4f855f(0x1d1)]);if(_0xd52dcb[_0x4f855f(0x152)]===0x0){_0x61cf44[_0x4f855f(0x12b)]=_0x4f855f(0x1e3);return;}_0xd52dcb[_0x4f855f(0xed)](([_0x458461,_0x576e29])=>{const _0x44d22b=_0x4f855f,_0x543e15=Math[_0x44d22b(0x10a)](_0x576e29[_0x44d22b(0x18b)]/_0x576e29['total']*0x64),_0x1d376d=document[_0x44d22b(0x1ec)](_0x44d22b(0x126));_0x1d376d[_0x44d22b(0x130)]=_0x44d22b(0x18c),_0x1d376d[_0x44d22b(0x24f)][_0x44d22b(0x155)]=_0x576e29[_0x44d22b(0x100)],_0x1d376d[_0x44d22b(0x12b)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>'+_0x458461+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x576e29['done']+_0x44d22b(0x21b)+_0x576e29[_0x44d22b(0x1d1)]+_0x44d22b(0x13e)+_0x543e15+_0x44d22b(0x1ca),_0x61cf44['appendChild'](_0x1d376d);});}function formatMinsToHrs(_0x5aa880){const _0x2c9f09=a2_0x217081;if(_0x5aa880===0x0)return'0';const _0xe6d8b7=Math[_0x2c9f09(0x16a)](_0x5aa880/0x3c),_0x1688a9=_0x5aa880%0x3c;if(_0x1688a9===0x0)return _0xe6d8b7+'—á';return _0xe6d8b7+'—á\x20'+_0x1688a9+'–º';}