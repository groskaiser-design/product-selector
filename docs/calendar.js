const a2_0x41ce01=a2_0x18ad;(function(_0x9ceea4,_0x19dc20){const _0x2f1777=a2_0x18ad,_0x5b1b9f=_0x9ceea4();while(!![]){try{const _0x3f6101=-parseInt(_0x2f1777(0x264))/0x1*(-parseInt(_0x2f1777(0x234))/0x2)+parseInt(_0x2f1777(0x1ed))/0x3+-parseInt(_0x2f1777(0x279))/0x4+parseInt(_0x2f1777(0x2c7))/0x5+parseInt(_0x2f1777(0x1d8))/0x6+parseInt(_0x2f1777(0x2ce))/0x7*(-parseInt(_0x2f1777(0x231))/0x8)+parseInt(_0x2f1777(0x1f6))/0x9;if(_0x3f6101===_0x19dc20)break;else _0x5b1b9f['push'](_0x5b1b9f['shift']());}catch(_0x2dc244){_0x5b1b9f['push'](_0x5b1b9f['shift']());}}}(a2_0x3f09,0x8946c),function initTMA(){const _0x387a7f=a2_0x18ad,_0x484f14=(function(){let _0x25d329=!![];return function(_0x3b67f9,_0x48a942){const _0x395560=_0x25d329?function(){const _0x541ecf=a2_0x18ad;if(_0x48a942){const _0xe819bb=_0x48a942[_0x541ecf(0x222)](_0x3b67f9,arguments);return _0x48a942=null,_0xe819bb;}}:function(){};return _0x25d329=![],_0x395560;};}()),_0x246b35=_0x484f14(this,function(){const _0x53f82d=a2_0x18ad;return _0x246b35[_0x53f82d(0x1d5)]()[_0x53f82d(0x27e)](_0x53f82d(0x273))[_0x53f82d(0x1d5)]()[_0x53f82d(0x291)](_0x246b35)[_0x53f82d(0x27e)](_0x53f82d(0x273));});_0x246b35();try{const _0x2730e8=window['Telegram']?.['WebApp'];if(!_0x2730e8)return;_0x2730e8['ready'](),_0x2730e8[_0x387a7f(0x154)]();try{_0x2730e8['setHeaderColor']('#050505'),_0x2730e8[_0x387a7f(0x28e)]&&_0x2730e8[_0x387a7f(0x28e)](_0x387a7f(0x2d1));}catch(_0x353926){console[_0x387a7f(0x1d0)](_0x387a7f(0x177),_0x353926);}try{_0x2730e8[_0x387a7f(0x21e)]&&(_0x2730e8[_0x387a7f(0x21e)][_0x387a7f(0x203)](),_0x2730e8[_0x387a7f(0x21e)][_0x387a7f(0x1c9)](),_0x2730e8['BackButton'][_0x387a7f(0x21b)](function(){const _0x446ffc=_0x387a7f;window[_0x446ffc(0x28d)][_0x446ffc(0x1d2)]=_0x446ffc(0x15e);}));}catch(_0x18b3cd){console[_0x387a7f(0x1d0)](_0x387a7f(0x2c9),_0x18b3cd);}try{if(_0x2730e8[_0x387a7f(0x1db)])_0x2730e8['disableVerticalSwipes']();}catch(_0x585726){}}catch(_0x5e352d){console[_0x387a7f(0x18b)]('Critical\x20TMA\x20Error:',_0x5e352d);}}());function isAdmin(){const _0x22c067=a2_0x18ad;try{const _0x522473=Number(window[_0x22c067(0x267)]?.[_0x22c067(0x16a)]?.[_0x22c067(0x261)]?.[_0x22c067(0x15c)]?.['id']);return _0x522473===0xbaf7174;}catch(_0x595d23){return![];}}const APP_VERSION=a2_0x41ce01(0x1aa),API_URL='https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec',GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x41ce01(0x2b8),KEY_SESSIONS=a2_0x41ce01(0x23d),KEY_SETTINGS=a2_0x41ce01(0x1fb);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x95d908=a2_0x41ce01;return window['Telegram']?.[_0x95d908(0x16a)]?.[_0x95d908(0x261)]?.[_0x95d908(0x15c)]?.['id']||_0x95d908(0x2ab);},'saveLocally'(){const _0x4a48cb=a2_0x41ce01;try{localStorage[_0x4a48cb(0x258)](KEY_CLIENTS,JSON['stringify'](clients)),localStorage[_0x4a48cb(0x258)](KEY_SESSIONS,JSON[_0x4a48cb(0x1fc)](sessions)),localStorage[_0x4a48cb(0x258)](KEY_SETTINGS,JSON[_0x4a48cb(0x1fc)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x420c41){console[_0x4a48cb(0x18b)](_0x4a48cb(0x168),_0x420c41);}},'loadLocal'(){const _0x3d7d8a=a2_0x41ce01;try{const _0x38f19e=localStorage[_0x3d7d8a(0x2c4)](KEY_CLIENTS);if(_0x38f19e)clients=JSON['parse'](_0x38f19e);const _0x177642=localStorage[_0x3d7d8a(0x2c4)](KEY_SESSIONS);if(_0x177642)sessions=JSON[_0x3d7d8a(0x1c2)](_0x177642);const _0xada732=localStorage[_0x3d7d8a(0x2c4)](KEY_SETTINGS);if(_0xada732){const _0x2fde3f=JSON[_0x3d7d8a(0x1c2)](_0xada732);if(_0x2fde3f[_0x3d7d8a(0x271)])availabilityPattern=_0x2fde3f[_0x3d7d8a(0x271)];if(_0x2fde3f[_0x3d7d8a(0x16e)])dateExceptions=_0x2fde3f[_0x3d7d8a(0x16e)];if(_0x2fde3f['ranges'])specialRanges=_0x2fde3f[_0x3d7d8a(0x25a)];}else{for(let _0x3795d2=0x0;_0x3795d2<0x7;_0x3795d2++)availabilityPattern[_0x3795d2]=Array[_0x3d7d8a(0x2a3)]({'length':0xc},(_0x5d423b,_0x1bef23)=>_0x1bef23+0x9);}}catch(_0x42cadb){console[_0x3d7d8a(0x18b)](_0x3d7d8a(0x157),_0x42cadb);}},async 'fetchFromServer'(_0x359801,_0x18a2ff={}){const _0x12e13e=a2_0x41ce01,_0x388eb5=window[_0x12e13e(0x267)]?.[_0x12e13e(0x16a)],_0x13680b={'action':_0x359801,'init_data':_0x388eb5?.[_0x12e13e(0x249)]||'',..._0x18a2ff};try{const _0x4fa6fb=await fetch(API_URL,{'method':'POST','headers':{'Content-Type':'text/plain;charset=UTF-8'},'body':JSON[_0x12e13e(0x1fc)](_0x13680b)}),_0x16b154=await _0x4fa6fb[_0x12e13e(0x283)]();if(!_0x16b154['ok'])throw new Error(_0x16b154['error']||_0x12e13e(0x171));return _0x16b154[_0x12e13e(0x219)];}catch(_0x844473){console[_0x12e13e(0x18b)](_0x12e13e(0x20b)+_0x359801+']\x20Failed:',_0x844473);throw _0x844473;}},async 'syncLoad'(){const _0x44dfd5=a2_0x41ce01,_0x4d4e53=new Date(),_0xcff0ad=_0x4d4e53['getFullYear']()+'-'+String(_0x4d4e53['getMonth']()+0x1)[_0x44dfd5(0x1e9)](0x2,'0'),_0x3fd83c=new Date(_0x4d4e53);_0x3fd83c[_0x44dfd5(0x262)](_0x4d4e53[_0x44dfd5(0x185)]()+0x1);const _0x462e08=_0x3fd83c[_0x44dfd5(0x214)]()+'-'+String(_0x3fd83c[_0x44dfd5(0x185)]()+0x1)[_0x44dfd5(0x1e9)](0x2,'0'),_0x51f03b=Date[_0x44dfd5(0x1a4)]();console[_0x44dfd5(0x1d0)](_0x44dfd5(0x1a6)+_0xcff0ad+',\x20'+_0x462e08+_0x44dfd5(0x165));try{const [_0x3d8b71,_0x2291f6]=await Promise[_0x44dfd5(0x24f)]([this[_0x44dfd5(0x235)](_0x44dfd5(0x163),{'month_str':_0xcff0ad}),this[_0x44dfd5(0x235)](_0x44dfd5(0x163),{'month_str':_0x462e08})]);if(lastUserActionTime>_0x51f03b)return console[_0x44dfd5(0x29d)](_0x44dfd5(0x25b)),![];return this[_0x44dfd5(0x199)](_0x3d8b71,_0xcff0ad),this[_0x44dfd5(0x199)](_0x2291f6,_0x462e08),this[_0x44dfd5(0x24b)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x531189){console[_0x44dfd5(0x18b)](_0x531189);throw _0x531189;}},'mergeServerData'(_0x286fbe,_0x2a0231){const _0x5f083f=a2_0x41ce01;if(!_0x286fbe)return;_0x286fbe['clients']&&Array[_0x5f083f(0x19b)](_0x286fbe[_0x5f083f(0x2c8)])&&(clients=_0x286fbe[_0x5f083f(0x2c8)]);if(_0x286fbe[_0x5f083f(0x22c)]){if(_0x286fbe[_0x5f083f(0x22c)]['pattern'])availabilityPattern=_0x286fbe[_0x5f083f(0x22c)][_0x5f083f(0x271)];if(_0x286fbe[_0x5f083f(0x22c)]['exceptions'])dateExceptions=_0x286fbe[_0x5f083f(0x22c)][_0x5f083f(0x16e)];if(_0x286fbe['settings'][_0x5f083f(0x25a)])specialRanges=_0x286fbe[_0x5f083f(0x22c)][_0x5f083f(0x25a)];if(_0x286fbe[_0x5f083f(0x22c)][_0x5f083f(0x28c)]){localStorage[_0x5f083f(0x258)](_0x5f083f(0x215),_0x286fbe[_0x5f083f(0x22c)][_0x5f083f(0x28c)]);const _0x55fb63=document[_0x5f083f(0x1e1)](_0x5f083f(0x2cc));if(_0x55fb63)_0x55fb63[_0x5f083f(0x1de)]=_0x286fbe[_0x5f083f(0x22c)]['cancel_window'];}}_0x286fbe['calendar']&&(sessions=sessions['filter'](_0x413206=>!_0x413206[_0x5f083f(0x1ba)][_0x5f083f(0x17c)](_0x2a0231)),Object[_0x5f083f(0x295)](_0x286fbe[_0x5f083f(0x1be)])[_0x5f083f(0x202)](_0xc5f172=>{const _0x4ab3e2=_0x5f083f,_0x1cd53f=_0x286fbe[_0x4ab3e2(0x1be)][_0xc5f172];_0x1cd53f['forEach'](_0x1da1e6=>{const _0x5dd092=_0x4ab3e2,_0x55435f=clients[_0x5dd092(0x1d7)](_0x489542=>String(_0x489542['id'])===String(_0x1da1e6['c']));sessions[_0x5dd092(0x1e4)]({'id':_0x1da1e6['i'],'clientId':_0x1da1e6['c'],'client':_0x55435f?_0x55435f[_0x5dd092(0x2ad)]:_0x5dd092(0x27a),'dateStr':_0x2a0231+'-'+_0xc5f172['padStart'](0x2,'0'),'start':_0x1da1e6['s'],'end':_0x1da1e6['e'],'status':_0x1da1e6['st']||_0x5dd092(0x20a),'note':_0x1da1e6['n']||'','seriesId':_0x1da1e6[_0x5dd092(0x191)]||null});});}));},async 'syncBatch'(_0x5ca984){const _0x170fb0=a2_0x41ce01,_0xd6d51b=[...new Set(_0x5ca984)],_0x4079c9=_0xd6d51b[_0x170fb0(0x1b9)](_0x25d8f9=>{const _0x4c642e=_0x170fb0,_0x13f1e6=sessions[_0x4c642e(0x1e7)](_0xa3001f=>_0xa3001f[_0x4c642e(0x1ba)]===_0x25d8f9&&_0xa3001f[_0x4c642e(0x2ac)]!=='deleted'),_0x23cd6b=_0x13f1e6[_0x4c642e(0x1b9)](_0x1e2ec7=>({'i':_0x1e2ec7['id'],'c':_0x1e2ec7['clientId'],'s':_0x1e2ec7[_0x4c642e(0x245)],'e':_0x1e2ec7[_0x4c642e(0x1d9)],'st':_0x1e2ec7['status'],'n':_0x1e2ec7[_0x4c642e(0x153)],'sid':_0x1e2ec7['seriesId']}));return{'date':_0x25d8f9,'day_data':_0x23cd6b};});if(_0x4079c9[_0x170fb0(0x2bc)]===0x0)return;console[_0x170fb0(0x1d0)](_0x170fb0(0x1cb)+_0x4079c9['length']+_0x170fb0(0x18d)),await this[_0x170fb0(0x235)](_0x170fb0(0x237),{'changes':_0x4079c9});}};async function init(){const _0x1c2563=a2_0x41ce01;DataManager[_0x1c2563(0x170)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById']('matrixViewport')[_0x1c2563(0x2a8)](_0x1c2563(0x24c),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x1c2563(0x1e0)]()[_0x1c2563(0x256)](()=>{showToast('–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ',!![]);})[_0x1c2563(0x176)](_0x1c4b63=>{showToast('–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º',![]);});}function generateId(){const _0x493f9e=a2_0x41ce01;return Date[_0x493f9e(0x1a4)]()[_0x493f9e(0x1d5)](0x24)+Math[_0x493f9e(0x2cb)]()[_0x493f9e(0x1d5)](0x24)[_0x493f9e(0x289)](0x2,0x5);}function toggleSeriesInput(){const _0x5e11c7=a2_0x41ce01,_0x3687e4=document[_0x5e11c7(0x1e1)](_0x5e11c7(0x260))[_0x5e11c7(0x161)],_0x359268=document['getElementById']('seriesCountContainer');_0x359268[_0x5e11c7(0x28b)][_0x5e11c7(0x257)]=_0x3687e4?_0x5e11c7(0x201):'none';const _0x515356=document['getElementById'](_0x5e11c7(0x184));_0x515356['style'][_0x5e11c7(0x2c2)]=_0x3687e4?_0x5e11c7(0x2c6):_0x5e11c7(0x23e);}function openAddSession(_0x5b1ad6){const _0x26af9c=a2_0x41ce01;editingId=null,populateClientSelect(),document[_0x26af9c(0x1e1)]('sheetTitle')['textContent']=_0x26af9c(0x228),document[_0x26af9c(0x1e1)](_0x26af9c(0x27b))[_0x26af9c(0x28b)][_0x26af9c(0x257)]=_0x26af9c(0x164),document[_0x26af9c(0x1e1)](_0x26af9c(0x20f))[_0x26af9c(0x28b)][_0x26af9c(0x257)]=_0x26af9c(0x164);const _0x5c630e=document[_0x26af9c(0x1e1)](_0x26af9c(0x184)),_0x5e5da5=document['getElementById'](_0x26af9c(0x27c));_0x5c630e['style'][_0x26af9c(0x257)]=_0x26af9c(0x21d),_0x5c630e['style'][_0x26af9c(0x2c2)]='10px',document[_0x26af9c(0x1e1)](_0x26af9c(0x260))[_0x26af9c(0x161)]=![],document[_0x26af9c(0x1e1)](_0x26af9c(0x1f9))[_0x26af9c(0x1de)]=0x4,_0x5e5da5[_0x26af9c(0x28b)][_0x26af9c(0x257)]='none',document[_0x26af9c(0x1e1)](_0x26af9c(0x1c5))['value']=getLocalDateStr(_0x5b1ad6),updateDateDisplay();const _0x17801e=_0x5b1ad6[_0x26af9c(0x205)]();document[_0x26af9c(0x1e1)](_0x26af9c(0x183))[_0x26af9c(0x1de)]=String(_0x17801e)[_0x26af9c(0x1e9)](0x2,'0')+_0x26af9c(0x2ca),document['getElementById']('inpEnd')[_0x26af9c(0x1de)]=String(_0x17801e+0x1)['padStart'](0x2,'0')+_0x26af9c(0x2ca),openSheet(_0x26af9c(0x232));}function openEdit(_0x3a97ef){const _0x53e10c=a2_0x41ce01;editingId=_0x3a97ef['id'],populateClientSelect(),document['getElementById'](_0x53e10c(0x248))[_0x53e10c(0x2a4)]=_0x53e10c(0x22f),document[_0x53e10c(0x1e1)](_0x53e10c(0x27b))[_0x53e10c(0x28b)]['display']=_0x53e10c(0x201);const _0x553394=document[_0x53e10c(0x1e1)](_0x53e10c(0x20f));_0x553394['style'][_0x53e10c(0x257)]='flex';_0x3a97ef[_0x53e10c(0x2ac)]==='completed'?(_0x553394[_0x53e10c(0x28a)]=_0x53e10c(0x1da),_0x553394[_0x53e10c(0x272)]=_0x53e10c(0x2a1)):(_0x553394[_0x53e10c(0x28a)]=_0x53e10c(0x1d4),_0x553394[_0x53e10c(0x272)]=_0x53e10c(0x192));const _0x1aa3ae=!!_0x3a97ef[_0x53e10c(0x200)];document['getElementById'](_0x53e10c(0x184))[_0x53e10c(0x28b)][_0x53e10c(0x257)]=_0x53e10c(0x164),document[_0x53e10c(0x1e1)](_0x53e10c(0x27c))['style'][_0x53e10c(0x257)]=_0x53e10c(0x164),_0x1aa3ae?(document[_0x53e10c(0x1e1)]('patternInfoBox')[_0x53e10c(0x28b)][_0x53e10c(0x257)]=_0x53e10c(0x21d),document[_0x53e10c(0x1e1)](_0x53e10c(0x224))['querySelector'](_0x53e10c(0x2cf))[_0x53e10c(0x2a4)]=_0x53e10c(0x1a2)):document['getElementById']('patternInfoBox')[_0x53e10c(0x28b)][_0x53e10c(0x257)]=_0x53e10c(0x164),document[_0x53e10c(0x1e1)](_0x53e10c(0x246))[_0x53e10c(0x1de)]=_0x3a97ef[_0x53e10c(0x1cc)],document[_0x53e10c(0x1e1)](_0x53e10c(0x1c5))[_0x53e10c(0x1de)]=_0x3a97ef[_0x53e10c(0x1ba)],document[_0x53e10c(0x1e1)](_0x53e10c(0x183))[_0x53e10c(0x1de)]=_0x3a97ef[_0x53e10c(0x245)],document[_0x53e10c(0x1e1)](_0x53e10c(0x243))[_0x53e10c(0x1de)]=_0x3a97ef[_0x53e10c(0x1d9)],document[_0x53e10c(0x1e1)](_0x53e10c(0x178))[_0x53e10c(0x1de)]=_0x3a97ef[_0x53e10c(0x153)]||'',updateDateDisplay(),openSheet(_0x53e10c(0x232));}async function trySaveSession(){const _0x1d4df4=a2_0x41ce01,_0x577198=document[_0x1d4df4(0x1e1)]('inpClient')[_0x1d4df4(0x1de)],_0x36a9b6=document[_0x1d4df4(0x1e1)](_0x1d4df4(0x1c5))[_0x1d4df4(0x1de)],_0x95c89e=document[_0x1d4df4(0x1e1)](_0x1d4df4(0x183))['value'],_0x5805a6=document['getElementById'](_0x1d4df4(0x243))[_0x1d4df4(0x1de)],_0x3a1d67=document[_0x1d4df4(0x1e1)](_0x1d4df4(0x178))[_0x1d4df4(0x1de)],_0x2c55e8=document['getElementById'](_0x1d4df4(0x260))[_0x1d4df4(0x161)];let _0x565b8b=0x4;if(_0x2c55e8){const _0xb02eb7=parseInt(document[_0x1d4df4(0x1e1)](_0x1d4df4(0x1f9))['value']);if(!_0xb02eb7||_0xb02eb7<0x2){showToast('–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏',![]);return;}if(_0xb02eb7>0x64){showToast(_0x1d4df4(0x284),![]);return;}_0x565b8b=_0xb02eb7;}const _0x13dd2a=clients[_0x1d4df4(0x1d7)](_0x5b38bc=>_0x5b38bc[_0x1d4df4(0x2ad)]===_0x577198);if(!_0x13dd2a){showToast(_0x1d4df4(0x2c0),![]);return;}const _0x40d878=validateAppointment(_0x36a9b6,_0x95c89e,_0x5805a6,editingId,_0x13dd2a['id']);if(!_0x40d878[_0x1d4df4(0x276)]){showToast(_0x40d878[_0x1d4df4(0x2b3)],![]);return;}_0x40d878[_0x1d4df4(0x23f)]&&showToast(_0x40d878['warning'],![]);const _0x595130={'client':_0x577198,'clientId':_0x13dd2a['id'],'start':_0x95c89e,'end':_0x5805a6,'note':_0x3a1d67,'status':_0x1d4df4(0x20a)},_0x2574c9=editingId?sessions[_0x1d4df4(0x1d7)](_0x4b02a3=>_0x4b02a3['id']===editingId):null;if(_0x2574c9&&_0x2574c9['seriesId']){tempSessionData={..._0x595130,'dateStr':_0x36a9b6,'id':editingId,'seriesId':_0x2574c9['seriesId']},openActionSheet(_0x1d4df4(0x1bd));return;}let _0x2dcc41=null;if(!editingId)_0x2dcc41=_0x1d4df4(0x24e);else{if(_0x2574c9){if(String(_0x2574c9[_0x1d4df4(0x221)])!==String(_0x13dd2a['id']))console[_0x1d4df4(0x1d0)](_0x1d4df4(0x19f)),NotificationManager[_0x1d4df4(0x218)]('cancel',_0x2574c9),_0x2dcc41=_0x1d4df4(0x24e);else(_0x2574c9['start']!==_0x95c89e||_0x2574c9[_0x1d4df4(0x1d9)]!==_0x5805a6||_0x2574c9[_0x1d4df4(0x1ba)]!==_0x36a9b6)&&(_0x2dcc41=_0x1d4df4(0x159));}}if(!editingId&&_0x2c55e8){createBatchSeries(_0x595130,_0x36a9b6,_0x565b8b),NotificationManager[_0x1d4df4(0x218)](_0x1d4df4(0x24e),{..._0x595130,'dateStr':_0x36a9b6});return;}lastUserActionTime=Date['now']();const _0x54714d={..._0x595130,'dateStr':_0x36a9b6,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x54714d),_0x2dcc41&&NotificationManager[_0x1d4df4(0x218)](_0x2dcc41,_0x54714d);}function toggleSessionStatus(){const _0x41375b=a2_0x41ce01;lastUserActionTime=Date[_0x41375b(0x1a4)]();const _0x4cef5c=sessions[_0x41375b(0x1d7)](_0x1e2abd=>_0x1e2abd['id']===editingId);if(!_0x4cef5c)return;const _0x902ce4=_0x4cef5c[_0x41375b(0x2ac)]===_0x41375b(0x212)?_0x41375b(0x20a):_0x41375b(0x212);_0x4cef5c['status']=_0x902ce4,saveSingleSession(_0x4cef5c),_0x902ce4===_0x41375b(0x212)&&NotificationManager['send'](_0x41375b(0x242),_0x4cef5c),showToast(_0x902ce4===_0x41375b(0x212)?_0x41375b(0x1af):_0x41375b(0x173),!![]);}function validateAppointment(_0x59d7df,_0x2fc697,_0x5d284d,_0x453d5c,_0x3a11d5){const _0x3ec022=a2_0x41ce01,[_0x36c401,_0x12d895]=_0x2fc697['split'](':')['map'](Number),[_0x4ed3ba,_0x2cf86c]=_0x5d284d[_0x3ec022(0x1d6)](':')['map'](Number),_0x1717be=_0x36c401*0x3c+_0x12d895,_0x8d6d67=_0x4ed3ba*0x3c+_0x2cf86c,_0x4a9f55=String(_0x3a11d5);let _0x49fc35=![],_0x570864='';for(let _0x59342f of sessions){if(_0x59342f[_0x3ec022(0x1ba)]!==_0x59d7df)continue;if(_0x59342f['status']===_0x3ec022(0x166))continue;if(_0x453d5c&&String(_0x59342f['id'])===String(_0x453d5c))continue;const [_0x1f2138,_0x546599]=_0x59342f[_0x3ec022(0x245)][_0x3ec022(0x1d6)](':')['map'](Number),[_0xf65572,_0x5de0d2]=_0x59342f[_0x3ec022(0x1d9)][_0x3ec022(0x1d6)](':')['map'](Number),_0x55f8e6=_0x1f2138*0x3c+_0x546599,_0x56f83c=_0xf65572*0x3c+_0x5de0d2;if(Math[_0x3ec022(0x1b7)](_0x1717be,_0x55f8e6)<Math[_0x3ec022(0x1e6)](_0x8d6d67,_0x56f83c)){if(_0x59342f[_0x3ec022(0x221)]&&String(_0x59342f[_0x3ec022(0x221)])===_0x4a9f55)return{'valid':![],'msg':_0x3ec022(0x29f)+_0x59342f[_0x3ec022(0x1cc)]+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x49fc35=!![],_0x570864=_0x59342f['client'];}}if(_0x49fc35)return{'valid':!![],'warning':'–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20'+_0x570864};return{'valid':!![]};}function saveSingleSession(_0x5de604){const _0x27ec49=a2_0x41ce01;if(editingId){const _0x4ead02=sessions[_0x27ec49(0x1b4)](_0x24ebe6=>_0x24ebe6['id']===editingId);if(_0x4ead02!==-0x1)sessions[_0x4ead02]=_0x5de604;}else sessions[_0x27ec49(0x1e4)](_0x5de604);afterSaveAction([_0x5de604[_0x27ec49(0x1ba)]]);}function createBatchSeries(_0x2d28de,_0x347c77,_0x55bed8){const _0x11b821=a2_0x41ce01,_0x27a83e=generateId(),_0x16a64e=[],_0x5969d8=[];let _0x229c02=0x0,_0x3bc836=new Date(_0x347c77);for(let _0x48f4e3=0x0;_0x48f4e3<_0x55bed8;_0x48f4e3++){const _0xd6d101=getLocalDateStr(_0x3bc836),_0x19c31e=validateAppointment(_0xd6d101,_0x2d28de[_0x11b821(0x245)],_0x2d28de[_0x11b821(0x1d9)],null,_0x2d28de[_0x11b821(0x221)]);if(!_0x19c31e[_0x11b821(0x276)])console['log'](_0x11b821(0x251)+_0xd6d101+':\x20Client\x20already\x20booked'),_0x229c02++;else{const _0xb02ee={..._0x2d28de,'id':generateId(),'dateStr':_0xd6d101,'seriesId':_0x27a83e};_0x5969d8[_0x11b821(0x1e4)](_0xb02ee),_0x16a64e['push'](_0xd6d101);}_0x3bc836[_0x11b821(0x181)](_0x3bc836[_0x11b821(0x1ca)]()+0x7);}if(_0x5969d8[_0x11b821(0x2bc)]===0x0){showToast(_0x11b821(0x17e),![]);return;}sessions[_0x11b821(0x1e4)](..._0x5969d8),lastUserActionTime=Date[_0x11b821(0x1a4)]();let _0x48091d='–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20'+_0x5969d8[_0x11b821(0x2bc)];_0x229c02>0x0&&(_0x48091d+=_0x11b821(0x22e)+_0x229c02+')'),showToast(_0x48091d,!![]),afterSaveAction(_0x16a64e);}function updateSeriesBatch(_0x2a589c,_0x2c8cb3){const _0xcab84a=a2_0x41ce01,_0xa43f70=[],_0x315ada=_0x2c8cb3[_0xcab84a(0x200)];if(_0x2a589c===_0xcab84a(0x1ac)){const _0x222faa={..._0x2c8cb3,'seriesId':null},_0xf3a113=sessions[_0xcab84a(0x1b4)](_0x507a9b=>_0x507a9b['id']===_0x2c8cb3['id']);if(_0xf3a113!==-0x1)sessions[_0xf3a113]=_0x222faa;_0xa43f70[_0xcab84a(0x1e4)](_0x222faa[_0xcab84a(0x1ba)]);}else{if(_0x2a589c===_0xcab84a(0x1cf)){const _0x20aa79=_0x2c8cb3['dateStr'];sessions[_0xcab84a(0x202)]((_0x5368a5,_0x1193bc)=>{const _0x30b771=_0xcab84a;_0x5368a5[_0x30b771(0x200)]===_0x315ada&&_0x5368a5['dateStr']>=_0x20aa79&&(sessions[_0x1193bc]={...sessions[_0x1193bc],'start':_0x2c8cb3[_0x30b771(0x245)],'end':_0x2c8cb3[_0x30b771(0x1d9)],'note':_0x2c8cb3[_0x30b771(0x153)],'client':_0x2c8cb3[_0x30b771(0x1cc)],'clientId':_0x2c8cb3['clientId']},_0xa43f70['push'](_0x5368a5['dateStr']));});}}afterSaveAction(_0xa43f70);}function tryDeleteSession(){const _0x3eb567=a2_0x41ce01,_0x1a6cfc=sessions['find'](_0x1bbe0d=>_0x1bbe0d['id']===editingId);if(!_0x1a6cfc)return;_0x1a6cfc[_0x3eb567(0x200)]?openActionSheet('delete'):commitDelete(_0x3eb567(0x1ac),_0x1a6cfc);}function commitDelete(_0x380376,_0x239622){const _0x547956=a2_0x41ce01;lastUserActionTime=Date['now'](),NotificationManager[_0x547956(0x218)](_0x547956(0x225),_0x239622);const _0x470f00=[];if(_0x380376==='single')sessions=sessions[_0x547956(0x1e7)](_0xc18c2=>_0xc18c2['id']!==_0x239622['id']),_0x470f00[_0x547956(0x1e4)](_0x239622[_0x547956(0x1ba)]);else{if(_0x380376===_0x547956(0x1cf)){const _0x14cef5=_0x239622['dateStr'],_0x1bc04b=_0x239622['seriesId'];sessions[_0x547956(0x202)](_0x375fba=>{const _0x114616=_0x547956;_0x375fba[_0x114616(0x200)]===_0x1bc04b&&_0x375fba[_0x114616(0x1ba)]>=_0x14cef5&&_0x470f00[_0x114616(0x1e4)](_0x375fba['dateStr']);}),sessions=sessions[_0x547956(0x1e7)](_0x4f10d7=>!(_0x4f10d7[_0x547956(0x200)]===_0x1bc04b&&_0x4f10d7[_0x547956(0x1ba)]>=_0x14cef5));}}afterSaveAction(_0x470f00);}function afterSaveAction(_0x16d21d){const _0x10a3a2=a2_0x41ce01;DataManager[_0x10a3a2(0x24b)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x10a3a2(0x2b9)](_0x16d21d)['then'](()=>console[_0x10a3a2(0x1d0)](_0x10a3a2(0x209)))[_0x10a3a2(0x176)](_0x724300=>showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ',![]));}const NotificationManager={'formatDate'(_0x365f3d){const _0x58b064=a2_0x41ce01,_0x56e012=new Date(_0x365f3d),_0x359f88={'weekday':_0x58b064(0x204),'day':'numeric','month':_0x58b064(0x204)};let _0x40e86b=_0x56e012[_0x58b064(0x298)](_0x58b064(0x239),_0x359f88);return _0x40e86b[_0x58b064(0x25e)](0x0)[_0x58b064(0x2b2)]()+_0x40e86b[_0x58b064(0x26d)](0x1);},'getText'(_0x253225,_0xce2918){const _0x5be93d=a2_0x41ce01,_0x9b2fec=this['formatDate'](_0xce2918[_0x5be93d(0x1ba)]);switch(_0x253225){case _0x5be93d(0x24e):return _0x5be93d(0x2bf)+(_0x5be93d(0x198)+_0x9b2fec+'\x0a')+('<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20'+_0xce2918[_0x5be93d(0x245)]+_0x5be93d(0x296)+_0xce2918[_0x5be93d(0x1d9)]+'\x0a\x0a')+_0x5be93d(0x2a7);case'update':return _0x5be93d(0x172)+'–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a'+(_0x5be93d(0x1b3)+_0xce2918['start']+_0x5be93d(0x296)+_0xce2918[_0x5be93d(0x1d9)]+_0x5be93d(0x1bb))+(_0x5be93d(0x198)+_0x9b2fec);case _0x5be93d(0x225):return'<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a'+(_0x5be93d(0x1c4)+_0x9b2fec+'\x20('+_0xce2918[_0x5be93d(0x245)]+_0x5be93d(0x216));case'complete':return _0x5be93d(0x1c8)+_0x5be93d(0x1c0)+_0x5be93d(0x29c);default:return'';}},async 'send'(_0x5ef618,_0x1d4ebe){const _0x241e72=a2_0x41ce01;console[_0x241e72(0x1d0)](_0x241e72(0x187),_0x5ef618,_0x1d4ebe);if(!_0x1d4ebe){console[_0x241e72(0x18b)](_0x241e72(0x269));return;}const _0xf4de=String(_0x1d4ebe[_0x241e72(0x221)]);console['log'](_0x241e72(0x1b2),_0xf4de);if(!_0x1d4ebe[_0x241e72(0x221)]||_0xf4de==='undefined'||_0xf4de==='null'){console[_0x241e72(0x18b)](_0x241e72(0x238));if(_0x1d4ebe[_0x241e72(0x1cc)]){const _0x2abb7d=clients[_0x241e72(0x1d7)](_0xf96b30=>_0xf96b30['name']===_0x1d4ebe[_0x241e72(0x1cc)]);if(_0x2abb7d)return console[_0x241e72(0x1d0)](_0x241e72(0x2aa),_0x2abb7d['id']),this['send'](_0x5ef618,{..._0x1d4ebe,'clientId':_0x2abb7d['id']});}return;}if(_0xf4de[_0x241e72(0x2bc)]<0x5){console[_0x241e72(0x29d)](_0x241e72(0x1e5),_0xf4de);return;}const _0x12337f=this[_0x241e72(0x1b8)](_0x5ef618,_0x1d4ebe);if(!_0x12337f){console[_0x241e72(0x18b)](_0x241e72(0x1dc));return;}console[_0x241e72(0x1d0)](_0x241e72(0x23c)+_0xf4de+_0x241e72(0x165)),DataManager[_0x241e72(0x235)]('send_notification',{'chatId':_0xf4de,'text':_0x12337f})[_0x241e72(0x256)](_0x1ded0a=>console['log'](_0x241e72(0x2a5),_0x1ded0a))[_0x241e72(0x176)](_0x2273d8=>console['error'](_0x241e72(0x253),_0x2273d8));}};function getLocalDateStr(_0x26791f){const _0x42edce=a2_0x41ce01,_0x1d2823=_0x26791f['getFullYear'](),_0xad223=String(_0x26791f['getMonth']()+0x1)[_0x42edce(0x1e9)](0x2,'0'),_0x202253=String(_0x26791f[_0x42edce(0x1ca)]())[_0x42edce(0x1e9)](0x2,'0');return _0x1d2823+'-'+_0xad223+'-'+_0x202253;}function getDateStr(_0x4c5447){const _0x55dc26=a2_0x41ce01,_0x49b9b4=new Date();return _0x49b9b4['setDate'](_0x49b9b4[_0x55dc26(0x1ca)]()+_0x4c5447),getLocalDateStr(_0x49b9b4);}function getStartOfWeek(_0x4b5096){const _0x2f5cd5=a2_0x41ce01,_0x31ec6=new Date(_0x4b5096),_0x5e7684=_0x31ec6[_0x2f5cd5(0x182)](),_0x4e70c0=_0x31ec6[_0x2f5cd5(0x1ca)]()-_0x5e7684+(_0x5e7684===0x0?-0x6:0x1);return _0x31ec6[_0x2f5cd5(0x181)](_0x4e70c0),_0x31ec6[_0x2f5cd5(0x17a)](0x0,0x0,0x0,0x0),_0x31ec6;}function hexToRgba(_0x42f3a7,_0x13164d){const _0xfde4e8=a2_0x41ce01;if(!_0x42f3a7)return _0xfde4e8(0x1c3);let _0x2decff=0x0,_0x2e7c84=0x0,_0x1786b9=0x0;if(_0x42f3a7[_0xfde4e8(0x2bc)]===0x4)_0x2decff='0x'+_0x42f3a7[0x1]+_0x42f3a7[0x1],_0x2e7c84='0x'+_0x42f3a7[0x2]+_0x42f3a7[0x2],_0x1786b9='0x'+_0x42f3a7[0x3]+_0x42f3a7[0x3];else _0x42f3a7[_0xfde4e8(0x2bc)]===0x7&&(_0x2decff='0x'+_0x42f3a7[0x1]+_0x42f3a7[0x2],_0x2e7c84='0x'+_0x42f3a7[0x3]+_0x42f3a7[0x4],_0x1786b9='0x'+_0x42f3a7[0x5]+_0x42f3a7[0x6]);return _0xfde4e8(0x17f)+ +_0x2decff+',\x20'+ +_0x2e7c84+',\x20'+ +_0x1786b9+',\x20'+_0x13164d+')';}function renderTimeColumn(){const _0x58631a=a2_0x41ce01,_0xa4eb04=document['getElementById'](_0x58631a(0x1ce)),_0x188d30=document[_0x58631a(0x1e1)]('timeLineBadge');_0xa4eb04['innerHTML']='',_0xa4eb04[_0x58631a(0x1b0)](_0x188d30);for(let _0x32203a=0x0;_0x32203a<0x18;_0x32203a++){const _0x3aa135=document['createElement'](_0x58631a(0x160));_0x3aa135[_0x58631a(0x28a)]=_0x58631a(0x27d);if(_0x32203a>0x0)_0x3aa135[_0x58631a(0x272)]=_0x58631a(0x1f3)+String(_0x32203a)[_0x58631a(0x1e9)](0x2,'0')+_0x58631a(0x297);_0xa4eb04[_0x58631a(0x1b0)](_0x3aa135);}}function renderDayRange(_0x299651,_0x53adbd){const _0x65215e=a2_0x41ce01,_0x189fc9=document[_0x65215e(0x1e1)](_0x65215e(0x223)),_0x1c3b7d=document[_0x65215e(0x1e1)](_0x65215e(0x255)),_0x4f09a3=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x2824a3=new Date();_0x2824a3[_0x65215e(0x17a)](0x0,0x0,0x0,0x0);const _0x408129=getLocalDateStr(new Date());for(let _0x1390cd=_0x299651;_0x1390cd<=_0x53adbd;_0x1390cd++){const _0x45f697=new Date(_0x2824a3);_0x45f697[_0x65215e(0x181)](_0x45f697['getDate']()+_0x1390cd);const _0x2647d7=getLocalDateStr(_0x45f697);let _0x3df058=_0x45f697[_0x65215e(0x182)]()-0x1;if(_0x3df058===-0x1)_0x3df058=0x6;const _0x5f541a=_0x2647d7===_0x408129,_0x2e5509=document[_0x65215e(0x20d)](_0x65215e(0x160));_0x2e5509[_0x65215e(0x28a)]='day-col-header\x20'+(_0x5f541a?_0x65215e(0x27f):''),_0x2e5509['id']='header-'+_0x2647d7,_0x2e5509[_0x65215e(0x2c1)]('data-date',_0x2647d7),_0x2e5509[_0x65215e(0x272)]=_0x65215e(0x270)+_0x4f09a3[_0x3df058]+_0x65215e(0x2d3)+_0x45f697[_0x65215e(0x1ca)]()+_0x65215e(0x227)+_0x2647d7+_0x65215e(0x1bf),_0x2e5509[_0x65215e(0x169)]=()=>openDayOptions(_0x2647d7,_0x4f09a3[_0x3df058]+'\x20'+_0x45f697[_0x65215e(0x1ca)]()),_0x189fc9[_0x65215e(0x1b0)](_0x2e5509);const _0x5a438c=document[_0x65215e(0x20d)]('div');_0x5a438c[_0x65215e(0x28a)]=_0x65215e(0x2b0)+(_0x5f541a?'today':''),_0x5a438c['setAttribute'](_0x65215e(0x2d0),_0x2647d7),_0x5a438c['setAttribute'](_0x65215e(0x2be),_0x3df058),renderEventsForColumn(_0x5a438c,_0x2647d7,_0x3df058),attachLongPressHandler(_0x5a438c,_0x45f697),_0x1c3b7d[_0x65215e(0x1b0)](_0x5a438c),updateDayStats(_0x2647d7);}}function reRenderBlocks(){const _0x1bc175=a2_0x41ce01;document[_0x1bc175(0x194)](_0x1bc175(0x17b))['forEach'](_0x3191a6=>{const _0x27b445=_0x1bc175;_0x3191a6[_0x27b445(0x194)](_0x27b445(0x15b))['forEach'](_0x3f9f2=>_0x3f9f2[_0x27b445(0x2a2)]());const _0x19fe23=_0x3191a6[_0x27b445(0x259)](_0x27b445(0x2d0)),_0x5a9adc=parseInt(_0x3191a6[_0x27b445(0x259)]('data-day-idx')),_0x436485=Math[_0x27b445(0x2a0)](_0x3191a6[_0x27b445(0x18a)]);(availabilityPattern[_0x5a9adc]||[])[_0x27b445(0x202)](_0x1680e5=>{const _0x1fd1c9=_0x27b445,_0x3e6972=document['createElement'](_0x1fd1c9(0x160));_0x3e6972['className']=_0x1fd1c9(0x188);const _0x38764a=_0x1680e5*GRID_H;_0x3e6972[_0x1fd1c9(0x28b)][_0x1fd1c9(0x2a9)]=_0x38764a+'px',_0x3e6972[_0x1fd1c9(0x28b)][_0x1fd1c9(0x240)]='-'+_0x436485+_0x1fd1c9(0x175)+_0x38764a+'px',_0x3191a6[_0x1fd1c9(0x1b0)](_0x3e6972);});if(specialRanges&&specialRanges[_0x27b445(0x2bc)]>0x0){const _0x36fd0b=new Date(_0x19fe23+'T00:00:00')['getTime'](),_0x169bf5=new Date(_0x19fe23+'T23:59:59')['getTime']();specialRanges[_0x27b445(0x202)](_0x27027d=>{const _0x1ef5a8=_0x27b445,_0x527ec8=new Date(_0x27027d[_0x1ef5a8(0x245)])[_0x1ef5a8(0x1a8)](),_0x3863ce=new Date(_0x27027d[_0x1ef5a8(0x1d9)])[_0x1ef5a8(0x1a8)](),_0x2b7081=Math[_0x1ef5a8(0x1b7)](_0x36fd0b,_0x527ec8),_0x2e94b6=Math[_0x1ef5a8(0x1e6)](_0x169bf5,_0x3863ce);if(_0x2b7081<_0x2e94b6){if(_0x2b7081<=_0x36fd0b&&_0x2e94b6>=_0x169bf5-0xea60){if(!_0x3191a6[_0x1ef5a8(0x250)](_0x1ef5a8(0x2af))){const _0x305797=document['createElement'](_0x1ef5a8(0x160));_0x305797['className']=_0x1ef5a8(0x2d2),_0x305797[_0x1ef5a8(0x28b)]['backgroundPosition']='-'+_0x436485+_0x1ef5a8(0x1a1),_0x3191a6[_0x1ef5a8(0x1b0)](_0x305797);}}else{const _0x319607=(_0x2b7081-_0x36fd0b)/0x36ee80*GRID_H,_0x17d265=(_0x2e94b6-_0x2b7081)/0x36ee80*GRID_H,_0x47d7b5=document[_0x1ef5a8(0x20d)](_0x1ef5a8(0x160));_0x47d7b5[_0x1ef5a8(0x28a)]=_0x1ef5a8(0x15d),_0x47d7b5[_0x1ef5a8(0x28b)]['top']=_0x319607+'px',_0x47d7b5[_0x1ef5a8(0x28b)][_0x1ef5a8(0x252)]=_0x17d265+'px',_0x47d7b5[_0x1ef5a8(0x28b)]['backgroundPosition']='-'+_0x436485+_0x1ef5a8(0x175)+_0x319607+'px',_0x3191a6[_0x1ef5a8(0x1b0)](_0x47d7b5);}}});}if(dateExceptions[_0x19fe23]===_0x27b445(0x1a7)){if(!_0x3191a6[_0x27b445(0x250)]('.day-off-overlay')){const _0x422044=document[_0x27b445(0x20d)](_0x27b445(0x160));_0x422044[_0x27b445(0x28a)]='day-off-overlay\x20stripe-bg',_0x422044['style'][_0x27b445(0x240)]='-'+_0x436485+_0x27b445(0x1a1),_0x3191a6['appendChild'](_0x422044);}}renderEventsForColumn(_0x3191a6,_0x19fe23,_0x5a9adc),updateDayStats(_0x19fe23);});}function updateAllDayStats(){const _0x29c36a=a2_0x41ce01;document[_0x29c36a(0x194)](_0x29c36a(0x294))[_0x29c36a(0x202)](_0x415767=>{const _0x571a89=_0x29c36a;updateDayStats(_0x415767['getAttribute'](_0x571a89(0x2d0)));});}function updateDayStats(_0x93afd4){const _0x1062d6=a2_0x41ce01,_0x1c9bf7=document['getElementById'](_0x1062d6(0x2cd)+_0x93afd4);if(!_0x1c9bf7)return;const _0x20528c=new Date(_0x93afd4);let _0x25c19c=_0x20528c[_0x1062d6(0x182)]()-0x1;if(_0x25c19c===-0x1)_0x25c19c=0x6;if(dateExceptions[_0x93afd4]===_0x1062d6(0x1a7)){_0x1c9bf7[_0x1062d6(0x28b)][_0x1062d6(0x257)]='none';return;}const _0x3fb757=availabilityPattern[_0x25c19c]||[],_0x39fe06=0x18-_0x3fb757['length'],_0x3cad1e=_0x39fe06*0x3c,_0x5d07fd=sessions['filter'](_0xfda651=>_0xfda651['dateStr']===_0x93afd4&&_0xfda651[_0x1062d6(0x2ac)]!==_0x1062d6(0x166));if(_0x5d07fd[_0x1062d6(0x2bc)]===0x0){_0x1c9bf7['style'][_0x1062d6(0x257)]='none';return;}let _0x1c1378=_0x5d07fd[_0x1062d6(0x1b9)](_0x10d504=>{const _0xdc025c=_0x1062d6,[_0x5b01d3,_0x279007]=_0x10d504[_0xdc025c(0x245)]['split'](':')['map'](Number),[_0x272e29,_0xf04611]=_0x10d504[_0xdc025c(0x1d9)][_0xdc025c(0x1d6)](':')[_0xdc025c(0x1b9)](Number);return[_0x5b01d3*0x3c+_0x279007,_0x272e29*0x3c+_0xf04611];});_0x1c1378[_0x1062d6(0x217)]((_0x13ba4b,_0x1d6381)=>_0x13ba4b[0x0]-_0x1d6381[0x0]);let _0x5204a8=[];if(_0x1c1378[_0x1062d6(0x2bc)]>0x0){let _0x2c6b62=_0x1c1378[0x0];for(let _0x1b5dfe=0x1;_0x1b5dfe<_0x1c1378[_0x1062d6(0x2bc)];_0x1b5dfe++){_0x1c1378[_0x1b5dfe][0x0]<_0x2c6b62[0x1]?_0x2c6b62[0x1]=Math['max'](_0x2c6b62[0x1],_0x1c1378[_0x1b5dfe][0x1]):(_0x5204a8['push'](_0x2c6b62),_0x2c6b62=_0x1c1378[_0x1b5dfe]);}_0x5204a8[_0x1062d6(0x1e4)](_0x2c6b62);}let _0x3596df=0x0;_0x5204a8[_0x1062d6(0x202)](_0x261a2d=>_0x3596df+=_0x261a2d[0x1]-_0x261a2d[0x0]),_0x1c9bf7[_0x1062d6(0x28b)][_0x1062d6(0x257)]=_0x1062d6(0x21d);const _0x5ba6e6=_0x1c9bf7[_0x1062d6(0x250)]('.dch-stats-fill');if(_0x3cad1e===0x0){_0x5ba6e6[_0x1062d6(0x28b)][_0x1062d6(0x15a)]='100%',_0x5ba6e6[_0x1062d6(0x28b)][_0x1062d6(0x1ad)]='var(--acc-red)';return;}const _0x8dfad=_0x3596df/_0x3cad1e*0x64;console['log']('['+_0x93afd4+_0x1062d6(0x281)+_0x39fe06+_0x1062d6(0x1f8)+_0x3596df+_0x1062d6(0x1bc)+_0x8dfad[_0x1062d6(0x1e8)](0x1)+'%'),_0x8dfad>0x64?(_0x5ba6e6[_0x1062d6(0x28b)][_0x1062d6(0x15a)]=_0x1062d6(0x1ae),_0x5ba6e6[_0x1062d6(0x28b)][_0x1062d6(0x1ad)]=_0x1062d6(0x265)):(_0x5ba6e6[_0x1062d6(0x28b)][_0x1062d6(0x15a)]=_0x8dfad+'%',_0x5ba6e6[_0x1062d6(0x28b)][_0x1062d6(0x1ad)]=_0x1062d6(0x20e));}function renderEventsForColumn(_0x2be9cf,_0x4528a6,_0x306a0d){const _0x27e244=a2_0x41ce01,_0x3a94ca=sessions[_0x27e244(0x1e7)](_0x1bc015=>_0x1bc015[_0x27e244(0x1ba)]===_0x4528a6),_0x3d653d=_0x3a94ca[_0x27e244(0x1b9)](_0x32bbaa=>{const _0x5eaed3=_0x27e244,[_0x4c5f26,_0x54ec0]=_0x32bbaa['start'][_0x5eaed3(0x1d6)](':')['map'](Number),[_0x2ac1b0,_0x2fe573]=_0x32bbaa[_0x5eaed3(0x1d9)][_0x5eaed3(0x1d6)](':')[_0x5eaed3(0x1b9)](Number);return{'data':_0x32bbaa,'start':_0x4c5f26*0x3c+_0x54ec0,'end':_0x2ac1b0*0x3c+_0x2fe573,'colIndex':0x0};});_0x3d653d[_0x27e244(0x217)]((_0x42899d,_0x5988c4)=>{const _0x468742=_0x27e244;if(_0x42899d['start']!==_0x5988c4[_0x468742(0x245)])return _0x42899d[_0x468742(0x245)]-_0x5988c4[_0x468742(0x245)];return _0x5988c4[_0x468742(0x1d9)]-_0x5988c4['start']-(_0x42899d[_0x468742(0x1d9)]-_0x42899d[_0x468742(0x245)]);});const _0x577754=[];_0x3d653d['forEach'](_0x877964=>{const _0x35ee90=_0x27e244;let _0x1e656a=![];for(let _0xee47d4=0x0;_0xee47d4<_0x577754['length'];_0xee47d4++){const _0x29925c=_0x577754[_0xee47d4],_0x3fb86f=_0x29925c[_0x29925c[_0x35ee90(0x2bc)]-0x1];if(_0x877964[_0x35ee90(0x245)]>=_0x3fb86f[_0x35ee90(0x1d9)]){_0x29925c[_0x35ee90(0x1e4)](_0x877964),_0x877964[_0x35ee90(0x220)]=_0xee47d4,_0x1e656a=!![];break;}}!_0x1e656a&&(_0x577754[_0x35ee90(0x1e4)]([_0x877964]),_0x877964[_0x35ee90(0x220)]=_0x577754[_0x35ee90(0x2bc)]-0x1);}),_0x3d653d[_0x27e244(0x202)](_0x28af8f=>{const _0x474b2a=_0x27e244;let _0x865f9b=0x0;_0x3d653d['forEach'](_0x495885=>{const _0x2a18b9=a2_0x18ad;if(Math[_0x2a18b9(0x1b7)](_0x28af8f[_0x2a18b9(0x245)],_0x495885['start'])<Math[_0x2a18b9(0x1e6)](_0x28af8f[_0x2a18b9(0x1d9)],_0x495885[_0x2a18b9(0x1d9)])){if(_0x495885[_0x2a18b9(0x220)]>_0x865f9b)_0x865f9b=_0x495885[_0x2a18b9(0x220)];}});const _0x4a7c71=_0x865f9b+0x1,_0x6c8c06=0x64/_0x4a7c71,_0x3c244c=_0x28af8f[_0x474b2a(0x220)]*_0x6c8c06,_0x27c9c6=createEventEl(_0x28af8f[_0x474b2a(0x219)]);_0x27c9c6[_0x474b2a(0x28b)][_0x474b2a(0x15a)]='calc('+_0x6c8c06+'%\x20-\x204px)',_0x27c9c6['style']['left']=_0x474b2a(0x22b)+_0x3c244c+'%\x20+\x202px)',_0x27c9c6[_0x474b2a(0x28b)][_0x474b2a(0x167)]=0xa+_0x28af8f['colIndex'],_0x6c8c06<0x55&&_0x27c9c6['classList']['add']('mini'),_0x2be9cf['appendChild'](_0x27c9c6);});}function createEventEl(_0x3ed7b8){const _0x5eb271=a2_0x41ce01,[_0xb5d8f0,_0xb24c0b]=_0x3ed7b8['start'][_0x5eb271(0x1d6)](':')[_0x5eb271(0x1b9)](Number),[_0x43a2df,_0x269ae5]=_0x3ed7b8[_0x5eb271(0x1d9)][_0x5eb271(0x1d6)](':')['map'](Number),_0x172c0b=(_0xb5d8f0*0x3c+_0xb24c0b)/0x3c*GRID_H,_0x2a52a0=(_0x43a2df*0x3c+_0x269ae5-(_0xb5d8f0*0x3c+_0xb24c0b))/0x3c*GRID_H,_0x2ad926=document[_0x5eb271(0x20d)](_0x5eb271(0x160)),_0x124301=_0x3ed7b8[_0x5eb271(0x2ac)]===_0x5eb271(0x212)?'\x20status-completed':'';_0x2ad926[_0x5eb271(0x28a)]=_0x5eb271(0x19d)+_0x124301,_0x2ad926[_0x5eb271(0x28b)]['top']=_0x172c0b+'px',_0x2ad926['style'][_0x5eb271(0x252)]=Math['max'](_0x2a52a0,0x14)+'px';const _0x2ab415=clients[_0x5eb271(0x1d7)](_0x5e32ec=>_0x3ed7b8['clientId']&&String(_0x5e32ec['id'])===String(_0x3ed7b8[_0x5eb271(0x221)])||_0x5e32ec[_0x5eb271(0x2ad)]===_0x3ed7b8[_0x5eb271(0x1cc)]),_0x3c9a51=_0x2ab415?_0x2ab415['color']:_0x5eb271(0x26f);_0x2ad926[_0x5eb271(0x28b)][_0x5eb271(0x292)]=_0x3c9a51,_0x2ad926[_0x5eb271(0x28b)][_0x5eb271(0x25d)]=hexToRgba(_0x3c9a51,0.85);let _0x56258b='<div\x20class=\x22ev-title\x22>'+_0x3ed7b8['client']+_0x5eb271(0x1fe)+_0x3ed7b8[_0x5eb271(0x245)]+'\x20-\x20'+_0x3ed7b8[_0x5eb271(0x1d9)]+_0x5eb271(0x162);return _0x3ed7b8[_0x5eb271(0x200)]&&(_0x56258b+=_0x5eb271(0x288)),_0x3ed7b8[_0x5eb271(0x2ac)]===_0x5eb271(0x212)&&(_0x56258b+=_0x5eb271(0x207)),_0x2ad926[_0x5eb271(0x272)]=_0x56258b,_0x2ad926[_0x5eb271(0x169)]=_0x4b15a7=>{const _0x573ce1=_0x5eb271;_0x4b15a7[_0x573ce1(0x1ab)](),openEdit(_0x3ed7b8);},_0x2ad926;}function attachLongPressHandler(_0x4a1603,_0x661f65){const _0x33a0b4=a2_0x41ce01;let _0x334b00=0x0,_0x40f880=null;const _0x1117fe=_0x36f2d5=>{const _0x32cf6c=a2_0x18ad;if(_0x36f2d5[_0x32cf6c(0x2c3)]['closest']('.event-card'))return;isScrolling=![],_0x334b00=_0x36f2d5[_0x32cf6c(0x190)]?_0x36f2d5['touches'][0x0][_0x32cf6c(0x16d)]:_0x36f2d5[_0x32cf6c(0x16d)],_0x40f880=setTimeout(()=>{const _0x203b1b=_0x32cf6c;if(!isScrolling){navigator['vibrate']?.(0x32);const _0xf27d51=_0x4a1603['getBoundingClientRect'](),_0x5f0002=Math[_0x203b1b(0x1fd)]((_0x334b00-_0xf27d51['top'])/GRID_H);_0x661f65['setHours'](_0x5f0002,0x0),openAddSession(_0x661f65);}},0x1f4);},_0x5b5fdc=()=>{isScrolling=!![],clearTimeout(_0x40f880);},_0x54fdc7=()=>{clearTimeout(_0x40f880);};_0x4a1603[_0x33a0b4(0x2a8)](_0x33a0b4(0x1f5),_0x1117fe,{'passive':!![]}),_0x4a1603[_0x33a0b4(0x2a8)](_0x33a0b4(0x1d3),_0x5b5fdc,{'passive':!![]}),_0x4a1603['addEventListener'](_0x33a0b4(0x186),_0x54fdc7),_0x4a1603[_0x33a0b4(0x2a8)](_0x33a0b4(0x1f4),_0x1117fe),_0x4a1603[_0x33a0b4(0x2a8)](_0x33a0b4(0x290),_0x5b5fdc),_0x4a1603[_0x33a0b4(0x2a8)](_0x33a0b4(0x1a5),_0x54fdc7);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x5bdfd8=a2_0x41ce01,_0x3fd881=document[_0x5bdfd8(0x1e1)](_0x5bdfd8(0x280)),_0x497108=_0x3fd881[_0x5bdfd8(0x1c7)],_0x4530e0=_0x3fd881[_0x5bdfd8(0x299)],_0x3c75f2=_0x3fd881['clientWidth'];if(_0x4530e0-(_0x497108+_0x3c75f2)<0x12c){const _0x116aae=endOffset;endOffset+=0xe,renderDayRange(_0x116aae+0x1,endOffset),reRenderBlocks();}if(_0x497108<0x12c){const _0x1de412=startOffset;startOffset-=0xe,prependDays(startOffset,_0x1de412-0x1),_0x3fd881[_0x5bdfd8(0x1c7)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x8b55ff,_0x3beed8){const _0x573783=a2_0x41ce01,_0x5a5d1b=document[_0x573783(0x1e1)](_0x573783(0x223)),_0x4aba0e=document['getElementById'](_0x573783(0x255)),_0x23cdc7=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x359384=new Date();_0x359384[_0x573783(0x17a)](0x0,0x0,0x0,0x0);const _0x3bbcbf=getLocalDateStr(new Date()),_0x25fc76=document[_0x573783(0x2c5)](),_0xa5f8b1=document[_0x573783(0x2c5)]();for(let _0x29cb10=_0x8b55ff;_0x29cb10<=_0x3beed8;_0x29cb10++){const _0x3ae72a=new Date(_0x359384);_0x3ae72a[_0x573783(0x181)](_0x3ae72a['getDate']()+_0x29cb10);const _0x5e7cfe=getLocalDateStr(_0x3ae72a);let _0x1461a0=_0x3ae72a[_0x573783(0x182)]()-0x1;if(_0x1461a0===-0x1)_0x1461a0=0x6;const _0x3c4a92=_0x5e7cfe===_0x3bbcbf,_0x473b06=document['createElement']('div');_0x473b06[_0x573783(0x28a)]='day-col-header\x20'+(_0x3c4a92?'today':''),_0x473b06['id']='header-'+_0x5e7cfe,_0x473b06[_0x573783(0x2c1)](_0x573783(0x2d0),_0x5e7cfe),_0x473b06['innerHTML']='<div\x20class=\x22dch-day\x22>'+_0x23cdc7[_0x1461a0]+'</div><div\x20class=\x22dch-num\x22>'+_0x3ae72a['getDate']()+_0x573783(0x227)+_0x5e7cfe+_0x573783(0x1bf),_0x473b06[_0x573783(0x169)]=()=>openDayOptions(_0x5e7cfe,_0x23cdc7[_0x1461a0]+'\x20'+_0x3ae72a[_0x573783(0x1ca)]()),_0x25fc76[_0x573783(0x1b0)](_0x473b06);const _0x4fb4f8=document[_0x573783(0x20d)](_0x573783(0x160));_0x4fb4f8[_0x573783(0x28a)]=_0x573783(0x2b0)+(_0x3c4a92?_0x573783(0x27f):''),_0x4fb4f8['setAttribute'](_0x573783(0x2d0),_0x5e7cfe),_0x4fb4f8[_0x573783(0x2c1)]('data-day-idx',_0x1461a0),renderEventsForColumn(_0x4fb4f8,_0x5e7cfe,_0x1461a0),attachLongPressHandler(_0x4fb4f8,_0x3ae72a),_0xa5f8b1[_0x573783(0x1b0)](_0x4fb4f8),updateDayStats(_0x5e7cfe);}_0x5a5d1b[_0x573783(0x282)](_0x25fc76,_0x5a5d1b[_0x573783(0x26b)]),_0x4aba0e['insertBefore'](_0xa5f8b1,_0x4aba0e[_0x573783(0x250)](_0x573783(0x287)));}function validateAppointment(_0x219da4,_0x3a25d5,_0x5d6fa1,_0x318ebe,_0x4dc506){const _0x3b1d5c=a2_0x41ce01,[_0x1cdb1b,_0x18def8]=_0x3a25d5['split'](':')[_0x3b1d5c(0x1b9)](Number),[_0x57908d,_0x538122]=_0x5d6fa1[_0x3b1d5c(0x1d6)](':')[_0x3b1d5c(0x1b9)](Number),_0x479915=_0x1cdb1b*0x3c+_0x18def8,_0x247bf7=_0x57908d*0x3c+_0x538122,_0x382f0e=String(_0x4dc506);let _0x253c47=![],_0x408be9='';for(let _0x30ef39 of sessions){if(_0x30ef39[_0x3b1d5c(0x1ba)]!==_0x219da4)continue;if(_0x30ef39[_0x3b1d5c(0x2ac)]===_0x3b1d5c(0x166))continue;if(_0x318ebe&&String(_0x30ef39['id'])===String(_0x318ebe))continue;const [_0x1557a1,_0x5b8e64]=_0x30ef39[_0x3b1d5c(0x245)]['split'](':')['map'](Number),[_0x5ea426,_0x2ba999]=_0x30ef39[_0x3b1d5c(0x1d9)][_0x3b1d5c(0x1d6)](':')[_0x3b1d5c(0x1b9)](Number),_0x1050c4=_0x1557a1*0x3c+_0x5b8e64,_0x3be853=_0x5ea426*0x3c+_0x2ba999;if(Math[_0x3b1d5c(0x1b7)](_0x479915,_0x1050c4)<Math['min'](_0x247bf7,_0x3be853)){if(_0x30ef39[_0x3b1d5c(0x221)]&&String(_0x30ef39['clientId'])===_0x382f0e)return{'valid':![],'msg':_0x3b1d5c(0x29f)+_0x30ef39[_0x3b1d5c(0x1cc)]+_0x3b1d5c(0x2bb)};_0x253c47=!![],_0x408be9=_0x30ef39[_0x3b1d5c(0x1cc)];}}if(_0x253c47)return{'valid':!![],'warning':_0x3b1d5c(0x21c)+_0x408be9};return{'valid':!![]};}function updateDateDisplay(){const _0x31cad1=a2_0x41ce01,_0x56806e=document['getElementById'](_0x31cad1(0x1c5))['value'],_0x44621d=document['getElementById'](_0x31cad1(0x156));if(!_0x56806e){_0x44621d['textContent']='';return;}const [_0x14c441,_0x172423,_0x2f2e95]=_0x56806e[_0x31cad1(0x1d6)]('-')['map'](Number),_0x3ffa42=new Date(_0x14c441,_0x172423-0x1,_0x2f2e95),_0x5e764a={'weekday':_0x31cad1(0x204),'day':_0x31cad1(0x197),'month':_0x31cad1(0x204),'year':_0x31cad1(0x197)};let _0x33ed06=_0x3ffa42[_0x31cad1(0x298)](_0x31cad1(0x239),_0x5e764a);_0x33ed06=_0x33ed06[_0x31cad1(0x25e)](0x0)[_0x31cad1(0x2b2)]()+_0x33ed06['slice'](0x1),_0x44621d['textContent']=_0x33ed06;}function autoSetEndTime(){const _0x2b2f21=a2_0x41ce01,_0x49e8d1=document[_0x2b2f21(0x1e1)](_0x2b2f21(0x183))[_0x2b2f21(0x1de)];if(!_0x49e8d1)return;const [_0x1114fb,_0x5ef17c]=_0x49e8d1[_0x2b2f21(0x1d6)](':')[_0x2b2f21(0x1b9)](Number);let _0x561d11=_0x1114fb+0x1;if(_0x561d11>0x17)_0x561d11=0x0;const _0x3898a2=String(_0x561d11)[_0x2b2f21(0x1e9)](0x2,'0')+':'+String(_0x5ef17c)[_0x2b2f21(0x1e9)](0x2,'0');document['getElementById'](_0x2b2f21(0x243))['value']=_0x3898a2;}function populateClientSelect(){const _0x5f0f57=a2_0x41ce01,_0x258890=document['getElementById']('inpClient');_0x258890[_0x5f0f57(0x272)]='';if(clients[_0x5f0f57(0x2bc)]===0x0){const _0x5f4d24=document[_0x5f0f57(0x20d)](_0x5f0f57(0x211));_0x5f4d24['text']=_0x5f0f57(0x16f),_0x258890[_0x5f0f57(0x1b0)](_0x5f4d24);return;}clients[_0x5f0f57(0x202)](_0x293b31=>{const _0x163533=_0x5f0f57,_0x1a02ef=document[_0x163533(0x20d)](_0x163533(0x211));_0x1a02ef[_0x163533(0x1de)]=_0x293b31[_0x163533(0x2ad)],_0x1a02ef[_0x163533(0x2a4)]=_0x293b31[_0x163533(0x2ad)],_0x258890[_0x163533(0x1b0)](_0x1a02ef);});}function openActionSheet(_0x427db1){const _0x4ceff3=a2_0x41ce01,_0x17a710=document['getElementById'](_0x4ceff3(0x25f)),_0x45ae3b=document[_0x4ceff3(0x1e1)](_0x4ceff3(0x1eb)),_0x128795=document[_0x4ceff3(0x1e1)](_0x4ceff3(0x179)),_0x1f2437=document['getElementById'](_0x4ceff3(0x1ef)),_0x2862ed=document[_0x4ceff3(0x1e1)]('asBtnSeries');_0x45ae3b[_0x4ceff3(0x19e)]['add']('active'),_0x17a710[_0x4ceff3(0x19e)][_0x4ceff3(0x2b4)](_0x4ceff3(0x2bd));if(_0x427db1===_0x4ceff3(0x1bd))_0x128795['textContent']='–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏',_0x1f2437[_0x4ceff3(0x2a4)]=_0x4ceff3(0x1cd),_0x1f2437[_0x4ceff3(0x169)]=()=>{const _0x3bbbd2=_0x4ceff3;closeActionSheet(),updateSeriesBatch(_0x3bbbd2(0x1ac),tempSessionData);},_0x2862ed[_0x4ceff3(0x2a4)]=_0x4ceff3(0x1f2),_0x2862ed[_0x4ceff3(0x169)]=()=>{const _0x1ad510=_0x4ceff3;closeActionSheet(),updateSeriesBatch(_0x1ad510(0x1cf),tempSessionData);};else _0x427db1===_0x4ceff3(0x1b1)&&(_0x128795[_0x4ceff3(0x2a4)]=_0x4ceff3(0x247),_0x1f2437[_0x4ceff3(0x2a4)]=_0x4ceff3(0x1cd),_0x1f2437[_0x4ceff3(0x28a)]=_0x4ceff3(0x226),_0x1f2437[_0x4ceff3(0x169)]=()=>{const _0x5855f8=_0x4ceff3;closeActionSheet(),commitDelete(_0x5855f8(0x1ac),sessions[_0x5855f8(0x1d7)](_0x2d9d3=>_0x2d9d3['id']===editingId));},_0x2862ed['textContent']='–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ',_0x2862ed[_0x4ceff3(0x28a)]=_0x4ceff3(0x208),_0x2862ed[_0x4ceff3(0x169)]=()=>{const _0x48e92f=_0x4ceff3;closeActionSheet(),commitDelete(_0x48e92f(0x1cf),sessions[_0x48e92f(0x1d7)](_0xf2efdd=>_0xf2efdd['id']===editingId));});}function closeActionSheet(){const _0x5302bd=a2_0x41ce01;document[_0x5302bd(0x1e1)](_0x5302bd(0x25f))[_0x5302bd(0x19e)][_0x5302bd(0x2a2)](_0x5302bd(0x2bd)),document[_0x5302bd(0x1e1)](_0x5302bd(0x1eb))[_0x5302bd(0x19e)][_0x5302bd(0x2a2)](_0x5302bd(0x158));}function openSettings(){const _0x4e5a7e=a2_0x41ce01;openSheet(_0x4e5a7e(0x2ba));}function saveCoachSettings(){const _0x174416=a2_0x41ce01,_0x10019f=document[_0x174416(0x1e1)](_0x174416(0x2cc))[_0x174416(0x1de)];localStorage[_0x174416(0x258)](_0x174416(0x215),_0x10019f),console[_0x174416(0x1d0)]('[Settings]\x20Cancel\x20window\x20set\x20to:',_0x10019f),DataManager['fetchFromServer'](_0x174416(0x206),{'settings':{'cancel_window':_0x10019f}})[_0x174416(0x176)](_0x5a5569=>{const _0x5837f7=_0x174416;console[_0x5837f7(0x18b)](_0x5837f7(0x16c),_0x5a5569),showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫',![]);});}function loadCoachSettings(){const _0x1eaad4=a2_0x41ce01,_0x289fd7=localStorage['getItem'](_0x1eaad4(0x215));_0x289fd7&&(document[_0x1eaad4(0x1e1)](_0x1eaad4(0x2cc))[_0x1eaad4(0x1de)]=_0x289fd7);}function openRangesSheet(){const _0xec8958=a2_0x41ce01;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0xec8958(0x1f1));}function addRange(){const _0x23d744=a2_0x41ce01,_0x19eeb3=document[_0x23d744(0x1e1)]('rangeStartDate')[_0x23d744(0x1de)],_0x2978d6=document[_0x23d744(0x1e1)](_0x23d744(0x20c))['value'],_0x25830d=document[_0x23d744(0x1e1)]('rangeEndDate')[_0x23d744(0x1de)],_0x38f6e2=document[_0x23d744(0x1e1)](_0x23d744(0x277))[_0x23d744(0x1de)];if(!_0x19eeb3||!_0x2978d6||!_0x25830d||!_0x38f6e2)return alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è');const _0x2f935c=_0x19eeb3+'T'+_0x2978d6,_0x1783b8=_0x25830d+'T'+_0x38f6e2;if(_0x2f935c>=_0x1783b8)return alert(_0x23d744(0x1a3));specialRanges[_0x23d744(0x1e4)]({'start':_0x2f935c,'end':_0x1783b8}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x23d744(0x24b)](),DataManager[_0x23d744(0x235)]('save_settings',{'settings':{'ranges':specialRanges}});}function deleteRange(_0x5ea57e){const _0x4db0a0=a2_0x41ce01;specialRanges['splice'](_0x5ea57e,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x4db0a0(0x24b)](),DataManager[_0x4db0a0(0x235)](_0x4db0a0(0x206),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x385901=a2_0x41ce01;document[_0x385901(0x1e1)](_0x385901(0x1dd))[_0x385901(0x1de)]='',document['getElementById']('rangeStartTime')['value']=_0x385901(0x21a),document['getElementById'](_0x385901(0x21f))['value']='',document[_0x385901(0x1e1)]('rangeEndTime')['value']=_0x385901(0x1ec);}function renderRangesList(){const _0x252d9d=a2_0x41ce01,_0x48d889=document[_0x252d9d(0x1e1)]('rangesList');_0x48d889[_0x252d9d(0x272)]='';if(!specialRanges[_0x252d9d(0x2bc)]){_0x48d889[_0x252d9d(0x272)]='<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>';return;}specialRanges[_0x252d9d(0x202)]((_0x61d3a4,_0x25e26b)=>{const _0x4b5465=_0x252d9d,_0x5d1825=document[_0x4b5465(0x20d)](_0x4b5465(0x160));_0x5d1825[_0x4b5465(0x28a)]=_0x4b5465(0x19a);const _0x12ded3=_0x1a4233=>{const _0xf6214=_0x4b5465,_0x16e794=new Date(_0x1a4233);return _0x16e794[_0xf6214(0x1ca)]()+'.'+String(_0x16e794[_0xf6214(0x185)]()+0x1)['padStart'](0x2,'0')+'\x20'+String(_0x16e794['getHours']())[_0xf6214(0x1e9)](0x2,'0')+':'+String(_0x16e794['getMinutes']())[_0xf6214(0x1e9)](0x2,'0');};_0x5d1825['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>'+_0x12ded3(_0x61d3a4['start'])+'\x20‚Äî\x20'+_0x12ded3(_0x61d3a4[_0x4b5465(0x1d9)])+_0x4b5465(0x1e3)+_0x25e26b+_0x4b5465(0x230),_0x48d889[_0x4b5465(0x1b0)](_0x5d1825);});}function scrollToToday(){const _0x22e643=a2_0x41ce01,_0xf244a3=getLocalDateStr(new Date()),_0x1a903d=document[_0x22e643(0x1e1)](_0x22e643(0x25c)+_0xf244a3),_0x3478c4=document[_0x22e643(0x1e1)](_0x22e643(0x280));if(_0x1a903d&&_0x3478c4){const _0x59c263=_0x3478c4[_0x22e643(0x18c)],_0x2bbc8d=_0x1a903d[_0x22e643(0x18a)],_0x78f587=_0x1a903d['offsetWidth'];_0x3478c4[_0x22e643(0x1c7)]=_0x2bbc8d-_0x59c263/0x2+_0x78f587/0x2,_0x3478c4[_0x22e643(0x293)]=0x9*GRID_H;}}function onScroll(){const _0x4bb1dd=a2_0x41ce01,_0x197621=document['getElementById'](_0x4bb1dd(0x280)),_0xba8d3a=document[_0x4bb1dd(0x194)](_0x4bb1dd(0x294));for(let _0x4335cf of _0xba8d3a)if(_0x4335cf[_0x4bb1dd(0x18a)]>=_0x197621['scrollLeft']){const _0x1daaf0=new Date(_0x4335cf['getAttribute'](_0x4bb1dd(0x2d0)));document['getElementById']('headerMonth')[_0x4bb1dd(0x2a4)]=_0x1daaf0[_0x4bb1dd(0x210)]('ru',{'month':_0x4bb1dd(0x204)})['toUpperCase']()+'\x20'+_0x1daaf0[_0x4bb1dd(0x214)]();break;}}function showToast(_0x256d66,_0x27fa78=![]){const _0x569966=a2_0x41ce01,_0x57bedf=document[_0x569966(0x1e1)]('toast');_0x57bedf[_0x569966(0x28a)]=_0x569966(0x263)+(_0x27fa78?_0x569966(0x193):''),document['getElementById'](_0x569966(0x2a6))[_0x569966(0x2a4)]=_0x27fa78?_0x569966(0x254):_0x569966(0x1ff),document[_0x569966(0x1e1)](_0x569966(0x1f0))[_0x569966(0x2a4)]=_0x256d66,_0x57bedf[_0x569966(0x19e)][_0x569966(0x2b4)]('show'),setTimeout(()=>{const _0x15a5f7=_0x569966;_0x57bedf[_0x15a5f7(0x19e)][_0x15a5f7(0x2a2)](_0x15a5f7(0x203));},0xbb8);}function openDayOptions(_0x477ec7,_0x39e5c5){const _0x13f879=a2_0x41ce01;selectedDayForOptions=_0x477ec7,document[_0x13f879(0x1e1)](_0x13f879(0x17d))[_0x13f879(0x2a4)]=_0x39e5c5,openSheet('dayOptionsSheet');}function toggleDayOff(){const _0x131aff=a2_0x41ce01;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x131aff(0x1a7),reRenderBlocks(),closeAllSheets(),DataManager[_0x131aff(0x24b)](),DataManager['fetchFromServer'](_0x131aff(0x206),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x3d1616=a2_0x41ce01;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager[_0x3d1616(0x235)]('save_settings',{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x4a94ab){const _0x18e9dd=a2_0x41ce01;document[_0x18e9dd(0x1e1)](_0x18e9dd(0x1ea))[_0x18e9dd(0x19e)][_0x18e9dd(0x2b4)](_0x18e9dd(0x158)),document[_0x18e9dd(0x1e1)](_0x4a94ab)[_0x18e9dd(0x19e)][_0x18e9dd(0x2b4)](_0x18e9dd(0x2bd));}function closeAllSheets(){const _0x5b73d7=a2_0x41ce01;document[_0x5b73d7(0x1e1)](_0x5b73d7(0x1ea))[_0x5b73d7(0x19e)][_0x5b73d7(0x2a2)](_0x5b73d7(0x158)),document[_0x5b73d7(0x194)](_0x5b73d7(0x1b5))['forEach'](_0x537af5=>_0x537af5[_0x5b73d7(0x19e)]['remove'](_0x5b73d7(0x2bd)));}function openPatternEditor(){const _0x3991d4=a2_0x41ce01;closeAllSheets(),document['getElementById'](_0x3991d4(0x28f))[_0x3991d4(0x19e)][_0x3991d4(0x2b4)](_0x3991d4(0x2bd)),renderPatternEditor();}function closePatternEditor(){const _0x3f211d=a2_0x41ce01;document[_0x3f211d(0x1e1)](_0x3f211d(0x28f))[_0x3f211d(0x19e)]['remove'](_0x3f211d(0x2bd));}function savePattern(){const _0xf37cb1=a2_0x41ce01;document[_0xf37cb1(0x1e1)]('patternEditor')[_0xf37cb1(0x19e)][_0xf37cb1(0x2a2)]('open'),reRenderBlocks(),DataManager[_0xf37cb1(0x24b)](),DataManager[_0xf37cb1(0x235)](_0xf37cb1(0x206),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x5f1e69=a2_0x41ce01,_0x36838b=document['getElementById'](_0x5f1e69(0x1d1));_0x36838b[_0x5f1e69(0x272)]='';const _0x34f04a=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x3cf9fb=document[_0x5f1e69(0x20d)]('div');_0x3cf9fb['className']=_0x5f1e69(0x1f7),_0x36838b['appendChild'](_0x3cf9fb),_0x34f04a[_0x5f1e69(0x202)]((_0x39a498,_0x101c29)=>{const _0x153058=_0x5f1e69,_0x18f16e=document[_0x153058(0x20d)](_0x153058(0x160));_0x18f16e['className']=_0x153058(0x2b5),_0x18f16e[_0x153058(0x272)]=_0x39a498+_0x153058(0x268),_0x18f16e[_0x153058(0x169)]=()=>toggleColPattern(_0x101c29),_0x36838b[_0x153058(0x1b0)](_0x18f16e);});for(let _0x16ddb6=0x0;_0x16ddb6<0x18;_0x16ddb6++){const _0x353786=document[_0x5f1e69(0x20d)](_0x5f1e69(0x160));_0x353786['className']=_0x5f1e69(0x1ee),_0x353786[_0x5f1e69(0x272)]=_0x5f1e69(0x1c1)+String(_0x16ddb6)[_0x5f1e69(0x1e9)](0x2,'0')+':00',_0x353786['onclick']=()=>toggleRowPattern(_0x16ddb6),_0x36838b[_0x5f1e69(0x1b0)](_0x353786);for(let _0x31885c=0x0;_0x31885c<0x7;_0x31885c++){const _0x3f1a9c=document[_0x5f1e69(0x20d)](_0x5f1e69(0x160)),_0x511113=(availabilityPattern[_0x31885c]||[])[_0x5f1e69(0x29b)](_0x16ddb6),_0x400355=!_0x511113;_0x3f1a9c[_0x5f1e69(0x28a)]='pe-cell\x20'+(_0x400355?_0x5f1e69(0x158):''),_0x3f1a9c[_0x5f1e69(0x169)]=()=>toggleSinglePattern(_0x31885c,_0x16ddb6),_0x36838b['appendChild'](_0x3f1a9c);}}}function toggleSinglePattern(_0x3210f1,_0x3d67e0){const _0x2c43b6=a2_0x41ce01;if(!availabilityPattern[_0x3210f1])availabilityPattern[_0x3210f1]=[];const _0x44b56e=availabilityPattern[_0x3210f1],_0x4e8de8=_0x44b56e['indexOf'](_0x3d67e0);_0x4e8de8===-0x1?_0x44b56e['push'](_0x3d67e0):_0x44b56e[_0x2c43b6(0x2b7)](_0x4e8de8,0x1),renderPatternEditor();}function toggleColPattern(_0x1575c9){const _0x347ef6=a2_0x41ce01;if(!availabilityPattern[_0x1575c9])availabilityPattern[_0x1575c9]=[];const _0x5acf0e=availabilityPattern[_0x1575c9];_0x5acf0e[_0x347ef6(0x2bc)]===0x0?availabilityPattern[_0x1575c9]=Array[_0x347ef6(0x2a3)]({'length':0x18},(_0x146643,_0x9768a8)=>_0x9768a8):availabilityPattern[_0x1575c9]=[],renderPatternEditor();}function toggleRowPattern(_0x4b35f8){const _0x1f4142=a2_0x41ce01;let _0x1e317d=!![];for(let _0x442417=0x0;_0x442417<0x7;_0x442417++){if((availabilityPattern[_0x442417]||[])['includes'](_0x4b35f8)){_0x1e317d=![];break;}}for(let _0x49a250=0x0;_0x49a250<0x7;_0x49a250++){if(!availabilityPattern[_0x49a250])availabilityPattern[_0x49a250]=[];const _0x4fdc31=availabilityPattern[_0x49a250][_0x1f4142(0x233)](_0x4b35f8);if(_0x1e317d){if(_0x4fdc31===-0x1)availabilityPattern[_0x49a250][_0x1f4142(0x1e4)](_0x4b35f8);}else{if(_0x4fdc31!==-0x1)availabilityPattern[_0x49a250]['splice'](_0x4fdc31,0x1);}}renderPatternEditor();}function renderPCol(_0x1bd328,_0x52c6b5){const _0x1da4e5=a2_0x41ce01;_0x1bd328['innerHTML']='';const _0x496305=Math['round'](_0x1bd328['offsetLeft']);(availabilityPattern[_0x52c6b5]||[])[_0x1da4e5(0x202)](_0x14ae24=>{const _0x243c9d=_0x1da4e5,_0x4bfd09=document['createElement'](_0x243c9d(0x160));_0x4bfd09['className']=_0x243c9d(0x188);const _0x331457=_0x14ae24*GRID_H;_0x4bfd09[_0x243c9d(0x28b)][_0x243c9d(0x2a9)]=_0x331457+'px',_0x4bfd09[_0x243c9d(0x28b)][_0x243c9d(0x240)]='-'+_0x496305+'px\x20-'+_0x331457+'px',_0x4bfd09[_0x243c9d(0x169)]=_0x74bab7=>{const _0x53ea6f=_0x243c9d;_0x74bab7[_0x53ea6f(0x1ab)](),toggleSinglePattern(_0x52c6b5,_0x14ae24);},_0x1bd328[_0x243c9d(0x1b0)](_0x4bfd09);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x4f9894=a2_0x41ce01,_0x10812d=new Date(),_0x5378c0=document[_0x4f9894(0x1e1)](_0x4f9894(0x278)),_0x52bcc7=document[_0x4f9894(0x1e1)](_0x4f9894(0x18f)),_0x2d8287=(_0x10812d[_0x4f9894(0x205)]()*0x3c+_0x10812d['getMinutes']())/0x3c*GRID_H;_0x5378c0[_0x4f9894(0x28b)]['top']=_0x2d8287+'px',_0x5378c0[_0x4f9894(0x28b)][_0x4f9894(0x257)]=_0x4f9894(0x201),_0x52bcc7[_0x4f9894(0x2a4)]=String(_0x10812d['getHours']())[_0x4f9894(0x1e9)](0x2,'0')+':'+String(_0x10812d['getMinutes']())[_0x4f9894(0x1e9)](0x2,'0'),_0x52bcc7[_0x4f9894(0x28b)][_0x4f9894(0x257)]=_0x4f9894(0x201),_0x52bcc7[_0x4f9894(0x28b)]['top']=_0x2d8287+'px';}document['addEventListener']('DOMContentLoaded',init);function a2_0x18ad(_0x9dc838,_0x4540c4){_0x9dc838=_0x9dc838-0x153;const _0x672a3b=a2_0x3f09();let _0xad2533=_0x672a3b[_0x9dc838];return _0xad2533;}function openDayOptions(_0x1711dd){const _0x301ab2=a2_0x41ce01;selectedDayForOptions=_0x1711dd;const _0x2664f6=new Date(_0x1711dd),_0x24d23c={'weekday':_0x301ab2(0x204),'day':'numeric','month':_0x301ab2(0x204),'year':'numeric'},_0x393add=_0x2664f6[_0x301ab2(0x298)](_0x301ab2(0x239),_0x24d23c);document[_0x301ab2(0x1e1)](_0x301ab2(0x1a9))['textContent']=_0x393add['charAt'](0x0)[_0x301ab2(0x2b2)]()+_0x393add[_0x301ab2(0x26d)](0x1);let _0x451829=_0x2664f6['getDay']()-0x1;if(_0x451829===-0x1)_0x451829=0x6;const _0x3ec46f=availabilityPattern[_0x451829]||[],_0x13b0c9=0x18-_0x3ec46f['length'],_0x9d75af=_0x13b0c9*0x3c,_0x277284=sessions[_0x301ab2(0x1e7)](_0x2e4774=>_0x2e4774[_0x301ab2(0x1ba)]===_0x1711dd&&_0x2e4774[_0x301ab2(0x2ac)]!==_0x301ab2(0x166));let _0x1f3c21=_0x277284[_0x301ab2(0x1b9)](_0x382445=>{const _0x79d201=_0x301ab2,[_0x4616de,_0x5f3b21]=_0x382445[_0x79d201(0x245)][_0x79d201(0x1d6)](':')[_0x79d201(0x1b9)](Number),[_0x22941e,_0x300cf8]=_0x382445[_0x79d201(0x1d9)][_0x79d201(0x1d6)](':')[_0x79d201(0x1b9)](Number);return[_0x4616de*0x3c+_0x5f3b21,_0x22941e*0x3c+_0x300cf8];});_0x1f3c21[_0x301ab2(0x217)]((_0x26ac40,_0x1ea3cf)=>_0x26ac40[0x0]-_0x1ea3cf[0x0]);let _0x49a1a5=[];if(_0x1f3c21[_0x301ab2(0x2bc)]>0x0){let _0x902fae=_0x1f3c21[0x0];for(let _0x1df088=0x1;_0x1df088<_0x1f3c21['length'];_0x1df088++){_0x1f3c21[_0x1df088][0x0]<_0x902fae[0x1]?_0x902fae[0x1]=Math['max'](_0x902fae[0x1],_0x1f3c21[_0x1df088][0x1]):(_0x49a1a5[_0x301ab2(0x1e4)](_0x902fae),_0x902fae=_0x1f3c21[_0x1df088]);}_0x49a1a5['push'](_0x902fae);}let _0x4e5cb7=0x0;_0x49a1a5[_0x301ab2(0x202)](_0x17755f=>_0x4e5cb7+=_0x17755f[0x1]-_0x17755f[0x0]),document['getElementById'](_0x301ab2(0x236))[_0x301ab2(0x2a4)]=formatMinsToHrs(_0x9d75af),document[_0x301ab2(0x1e1)](_0x301ab2(0x2b1))['textContent']=formatMinsToHrs(_0x4e5cb7);const _0x4831aa=_0x9d75af>0x0?Math[_0x301ab2(0x2a0)](_0x4e5cb7/_0x9d75af*0x64):0x0,_0x39c0cb=document[_0x301ab2(0x1e1)]('doLoadPercent');_0x39c0cb[_0x301ab2(0x2a4)]=_0x4831aa+'%';const _0xb606da=document['getElementById'](_0x301ab2(0x195));if(_0x4831aa>0x64)_0x39c0cb[_0x301ab2(0x28b)][_0x301ab2(0x19c)]=_0x301ab2(0x265),_0xb606da[_0x301ab2(0x28b)][_0x301ab2(0x1df)]='rgba(255,\x2069,\x2058,\x200.3)';else _0x4831aa>0x50?(_0x39c0cb[_0x301ab2(0x28b)]['color']='var(--acc-orange)',_0xb606da[_0x301ab2(0x28b)][_0x301ab2(0x1df)]=_0x301ab2(0x26e)):(_0x39c0cb['style'][_0x301ab2(0x19c)]=_0x301ab2(0x229),_0xb606da[_0x301ab2(0x28b)]['borderColor']='rgba(255,255,255,0.05)');const _0x3aeff6=document[_0x301ab2(0x1e1)](_0x301ab2(0x1a0));_0x3aeff6[_0x301ab2(0x272)]='';_0x277284[_0x301ab2(0x2bc)]===0x0?_0x3aeff6[_0x301ab2(0x272)]=_0x301ab2(0x23b):(_0x277284[_0x301ab2(0x217)]((_0x5484b1,_0x29d8c9)=>_0x5484b1[_0x301ab2(0x245)][_0x301ab2(0x274)](_0x29d8c9[_0x301ab2(0x245)])),_0x277284['forEach'](_0x5a1d09=>{const _0x9de86c=_0x301ab2,_0x2ef6e9=clients[_0x9de86c(0x1d7)](_0x125304=>_0x125304[_0x9de86c(0x2ad)]===_0x5a1d09[_0x9de86c(0x1cc)]),_0x1eaf00=_0x2ef6e9?_0x2ef6e9['color']:_0x9de86c(0x1e2),_0x5ea546=_0x5a1d09[_0x9de86c(0x2ac)]===_0x9de86c(0x212),_0x5eb99c=_0x5ea546?_0x9de86c(0x155):'',_0x585fe1=document[_0x9de86c(0x20d)]('div');_0x585fe1[_0x9de86c(0x28a)]='de-item',_0x585fe1[_0x9de86c(0x28b)][_0x9de86c(0x292)]=_0x1eaf00,_0x585fe1[_0x9de86c(0x272)]=_0x9de86c(0x15f)+_0x5a1d09[_0x9de86c(0x245)]+_0x9de86c(0x285)+_0x5a1d09[_0x9de86c(0x1d9)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5a1d09[_0x9de86c(0x1cc)]+_0x9de86c(0x180)+_0x5eb99c+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x3aeff6[_0x9de86c(0x1b0)](_0x585fe1);}));const _0x44754f=document[_0x301ab2(0x1e1)]('btnDayToggle'),_0x584522=dateExceptions[_0x1711dd]==='off';_0x584522?(_0x44754f[_0x301ab2(0x2a4)]='–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º',_0x44754f[_0x301ab2(0x28a)]=_0x301ab2(0x26c),_0x44754f[_0x301ab2(0x28b)][_0x301ab2(0x19c)]=_0x301ab2(0x229),_0x44754f[_0x301ab2(0x28b)][_0x301ab2(0x1ad)]=_0x301ab2(0x23a)):(_0x44754f['textContent']=_0x301ab2(0x286),_0x44754f['className']='btn-primary\x20btn-danger',_0x44754f[_0x301ab2(0x28b)]['color']=_0x301ab2(0x265),_0x44754f[_0x301ab2(0x28b)][_0x301ab2(0x1ad)]=_0x301ab2(0x266)),openSheet(_0x301ab2(0x1fa));}let currentAnPeriod=a2_0x41ce01(0x2b6);function openAnalytics(){const _0x5af00c=a2_0x41ce01,_0x13a75e=document[_0x5af00c(0x250)](_0x5af00c(0x275));setAnalyticsPeriod(_0x5af00c(0x2b6),_0x13a75e),closeAllSheets(),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x561fe5,_0x6f3ded){const _0x2f157f=a2_0x41ce01;currentAnPeriod=_0x561fe5,document[_0x2f157f(0x194)]('.period-switch\x20.p-btn')[_0x2f157f(0x202)](_0x70c36f=>_0x70c36f[_0x2f157f(0x19e)]['remove']('active'));if(_0x6f3ded)_0x6f3ded['classList'][_0x2f157f(0x2b4)](_0x2f157f(0x158));const _0x1e4b3b=document[_0x2f157f(0x1e1)](_0x2f157f(0x196));_0x1e4b3b[_0x2f157f(0x28b)][_0x2f157f(0x257)]=_0x561fe5===_0x2f157f(0x24a)?_0x2f157f(0x21d):_0x2f157f(0x164);const _0x3c80d3=new Date();let _0x3590e9=new Date(),_0x2f26be=new Date();if(_0x561fe5==='week')_0x3590e9=getStartOfWeek(_0x3c80d3),_0x2f26be=new Date(_0x3590e9),_0x2f26be['setDate'](_0x2f26be[_0x2f157f(0x1ca)]()+0x6);else{if(_0x561fe5===_0x2f157f(0x22d))_0x3590e9=new Date(_0x3c80d3[_0x2f157f(0x214)](),_0x3c80d3[_0x2f157f(0x185)](),0x1),_0x2f26be=new Date(_0x3c80d3[_0x2f157f(0x214)](),_0x3c80d3[_0x2f157f(0x185)]()+0x1,0x0);else{!document['getElementById']('anStart')[_0x2f157f(0x1de)]&&(document[_0x2f157f(0x1e1)](_0x2f157f(0x1b6))[_0x2f157f(0x1de)]=getLocalDateStr(_0x3c80d3),document[_0x2f157f(0x1e1)](_0x2f157f(0x2ae))['value']=getLocalDateStr(_0x3c80d3));refreshAnalytics();return;}}document[_0x2f157f(0x1e1)](_0x2f157f(0x1b6))[_0x2f157f(0x1de)]=getLocalDateStr(_0x3590e9),document['getElementById'](_0x2f157f(0x2ae))['value']=getLocalDateStr(_0x2f26be),refreshAnalytics();}function refreshAnalytics(){const _0x199f1e=a2_0x41ce01,_0x3844af=document[_0x199f1e(0x1e1)](_0x199f1e(0x1b6))[_0x199f1e(0x1de)],_0x81f86d=document[_0x199f1e(0x1e1)]('anEnd')[_0x199f1e(0x1de)];if(!_0x3844af||!_0x81f86d)return;const _0x213574=sessions[_0x199f1e(0x1e7)](_0x7be17a=>_0x7be17a['dateStr']>=_0x3844af&&_0x7be17a[_0x199f1e(0x1ba)]<=_0x81f86d&&_0x7be17a['status']!==_0x199f1e(0x166)),_0x50a35b=_0x213574['length'],_0x267e06=_0x213574[_0x199f1e(0x1e7)](_0x573f8c=>_0x573f8c[_0x199f1e(0x2ac)]===_0x199f1e(0x212))[_0x199f1e(0x2bc)],_0x15477f=_0x50a35b>0x0?Math[_0x199f1e(0x2a0)](_0x267e06/_0x50a35b*0x64):0x0;document['getElementById']('anPercent')[_0x199f1e(0x2a4)]=_0x15477f+'%',document['getElementById'](_0x199f1e(0x26a))[_0x199f1e(0x2a4)]=_0x267e06+_0x199f1e(0x22a)+_0x50a35b+_0x199f1e(0x213);const _0x5a3529=document['getElementById'](_0x199f1e(0x29e)),_0x295e2c=0x2*Math['PI']*0x23,_0x330f97=_0x295e2c-_0x15477f/0x64*_0x295e2c;_0x5a3529[_0x199f1e(0x28b)][_0x199f1e(0x24d)]=_0x330f97;const _0x4d8618={};_0x213574['forEach'](_0x3404ed=>{const _0x46ef6f=_0x199f1e;if(!_0x4d8618[_0x3404ed['client']]){const _0x2c25f2=clients[_0x46ef6f(0x1d7)](_0x3d54b8=>_0x3d54b8[_0x46ef6f(0x2ad)]===_0x3404ed[_0x46ef6f(0x1cc)]);_0x4d8618[_0x3404ed[_0x46ef6f(0x1cc)]]={'total':0x0,'done':0x0,'color':_0x2c25f2?_0x2c25f2[_0x46ef6f(0x19c)]:_0x46ef6f(0x1e2)};}_0x4d8618[_0x3404ed['client']][_0x46ef6f(0x241)]++;if(_0x3404ed[_0x46ef6f(0x2ac)]===_0x46ef6f(0x212))_0x4d8618[_0x3404ed[_0x46ef6f(0x1cc)]][_0x46ef6f(0x1c6)]++;});const _0x48497e=document[_0x199f1e(0x1e1)](_0x199f1e(0x189));_0x48497e['innerHTML']='';const _0x1d9143=Object[_0x199f1e(0x29a)](_0x4d8618)[_0x199f1e(0x217)]((_0x4c2e22,_0x105006)=>_0x105006[0x1]['total']-_0x4c2e22[0x1][_0x199f1e(0x241)]);if(_0x1d9143[_0x199f1e(0x2bc)]===0x0){_0x48497e[_0x199f1e(0x272)]=_0x199f1e(0x18e);return;}_0x1d9143[_0x199f1e(0x202)](([_0x4df2b9,_0x158bd3])=>{const _0x2b3a62=_0x199f1e,_0x7b0aa0=Math[_0x2b3a62(0x2a0)](_0x158bd3[_0x2b3a62(0x1c6)]/_0x158bd3['total']*0x64),_0x138633=document[_0x2b3a62(0x20d)](_0x2b3a62(0x160));_0x138633[_0x2b3a62(0x28a)]=_0x2b3a62(0x174),_0x138633['style'][_0x2b3a62(0x292)]=_0x158bd3[_0x2b3a62(0x19c)],_0x138633[_0x2b3a62(0x272)]=_0x2b3a62(0x16b)+_0x4df2b9+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x158bd3[_0x2b3a62(0x1c6)]+'</span>\x20/\x20'+_0x158bd3[_0x2b3a62(0x241)]+_0x2b3a62(0x244)+_0x7b0aa0+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x48497e[_0x2b3a62(0x1b0)](_0x138633);});}function a2_0x3f09(){const _0x3c4c1e=['save_settings','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','as-button\x20danger\x20bold','Batch\x20Sync\x20OK','planned','[API\x20','rangeStartTime','createElement','var(--acc-current)','btnStatusToggle','toLocaleString','option','completed','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','getFullYear','uc_settings_cancel_window',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','sort','send','data','00:00','onClick','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','flex','BackButton','rangeEndDate','colIndex','clientId','apply','daysHeaderTrack','patternInfoBox','cancel','as-button\x20danger','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','var(--acc-green)','\x20–∏–∑\x20','calc(','settings','month','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','4024jHhkRr','sessionSheet','indexOf','22978GDZPft','fetchFromServer','doWorkHours','batch_sync','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','ru-RU','rgba(48,\x20209,\x2088,\x200.15)','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','uc_sessions_v9','10px','warning','backgroundPosition','total','complete','inpEnd','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','start','inpClient','–£–¥–∞–ª–µ–Ω–∏–µ','sheetTitle','initData','custom','saveLocally','scroll','strokeDashoffset','create','all','querySelector','[Series]\x20Skipped\x20','height','[Notify]\x20Network\x20Failed','–£—Å–ø–µ—à–Ω–æ','gridColumns','then','display','setItem','getAttribute','ranges','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','header-','backgroundColor','charAt','actionSheet','inpRecurring','initDataUnsafe','setMonth','toast-notification\x20','73ryaCJA','var(--acc-red)','rgba(255,\x2069,\x2058,\x200.15)','Telegram','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','[Notify]\x20Error:\x20sessionData\x20is\x20null','anTotalStats','firstChild','btn-primary\x20btn-secondary','slice','rgba(255,\x20159,\x2010,\x200.3)','#0a84ff','<div\x20class=\x22dch-day\x22>','pattern','innerHTML','(((.+)+)+)+$','localeCompare','.period-switch\x20.p-btn','valid','rangeEndTime','globalTimeLine','3866264EltTmy','Unknown','btnDelete','seriesCountContainer','time-label','search','today','matrixViewport',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','insertBefore','json','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','\x20-\x20','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','.day-column','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','substr','className','style','cancel_window','location','setBackgroundColor','patternEditor','mousemove','constructor','borderLeftColor','scrollTop','.day-col-header','keys','\x20‚Äî\x20',':00</span>','toLocaleDateString','scrollWidth','entries','includes','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','warn','anDonutCircle','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','round','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','remove','from','textContent','[Notify]\x20Server\x20Response:','toastTitle','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','addEventListener','top','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','guest','status','name','anEnd','.day-off-overlay','day-column\x20','doBusyHours','toUpperCase','msg','add','pe-col-header','week','splice','uc_clients_v9','syncBatch','settingsSheet',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','length','open','data-day-idx','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','setAttribute','borderRadius','target','getItem','createDocumentFragment','10px\x2010px\x200\x200','2176540xnfZjb','clients','Error\x20setting\x20back\x20button:',':00','random','settingCancelWindow','stat-','10031zMBGFy','.pib-text','data-date','#050505','day-off-overlay\x20stripe-bg','</div><div\x20class=\x22dch-num\x22>','note','expand','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','sheetDateSubtitle','Local\x20Load\x20Error','active','update','width','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','user','blocked-range-part\x20stripe-bg','router.html','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','div','checked','</div>','init_load','none','...','cancelled','zIndex','Local\x20Save\x20Error','onclick','WebApp','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','Save\x20settings\x20error:','clientY','exceptions','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','loadLocal','Server\x20Error','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','client-stat-card','px\x20-','catch','Error\x20setting\x20color:','inpNote','asTitle','setHours','#gridColumns\x20.day-column','startsWith','dayOptionsTitle','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','rgba(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','setDate','getDay','inpStart','recurringOptionContainer','getMonth','touchend','[Notify]\x20Attempting\x20to\x20send:','blocked-slot\x20stripe-bg','analyticsList','offsetLeft','error','clientWidth','\x20days','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','timeLineBadge','touches','sid','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','success','querySelectorAll','statLoadCard','anCustomDates','numeric','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','mergeServerData','range-item','isArray','color','event-card','classList','[Notify]\x20Client\x20SWAP\x20detected','doEventsList','px\x200px','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','now','mouseup','[Sync]\x20Loading\x20','off','getTime','doDateHeader','v9.0-BATCH-CALENDAR','stopPropagation','single','background','100%','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','appendChild','delete','[Notify]\x20Detected\x20Client\x20ID:','<b>‚úÖ\x20','findIndex','.sheet','anStart','max','getText','map','dateStr','</b>\x0a\x0a','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','save','calendar','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','parse','rgba(100,100,100,0.5)','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','inpDate','done','scrollLeft','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','offClick','getDate','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','client','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','timeColumn','series','log','peGrid','href','touchmove','btn-status-toggle','toString','split','find','1889412iykFhk','end','btn-status-toggle\x20undo-mode','disableVerticalSwipes','[Notify]\x20Error:\x20Text\x20generation\x20failed','rangeStartDate','value','borderColor','syncLoad','getElementById','#fff','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','push','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','min','filter','toFixed','padStart','overlay','actionSheetOverlay','23:59','1211496FFWAeI','pe-time-label','asBtnOne','toastMessage','rangesSheet','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','<span>','mousedown','touchstart','2312190qtQdOM','pe-corner','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','inpSeriesCount','dayOptionsSheet','uc_settings_v9','stringify','floor','</div><div\x20class=\x22ev-time\x22>','–ò–Ω—Ñ–æ','seriesId','block','forEach','show','long','getHours'];a2_0x3f09=function(){return _0x3c4c1e;};return a2_0x3f09();}function formatMinsToHrs(_0x3a26e1){const _0x3ff0ed=a2_0x41ce01;if(_0x3a26e1===0x0)return'0';const _0x5b7f88=Math[_0x3ff0ed(0x1fd)](_0x3a26e1/0x3c),_0x5f6d21=_0x3a26e1%0x3c;if(_0x5f6d21===0x0)return _0x5b7f88+'—á';return _0x5b7f88+'—á\x20'+_0x5f6d21+'–º';}