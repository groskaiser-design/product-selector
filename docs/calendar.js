const a2_0x52b704=a2_0x130d;(function(_0x574b08,_0x51f2b6){const _0x36c3c6=a2_0x130d,_0x371f77=_0x574b08();while(!![]){try{const _0x2f96f1=parseInt(_0x36c3c6(0x1c6))/0x1*(parseInt(_0x36c3c6(0x2bc))/0x2)+parseInt(_0x36c3c6(0x1db))/0x3*(-parseInt(_0x36c3c6(0x1d6))/0x4)+parseInt(_0x36c3c6(0x296))/0x5+parseInt(_0x36c3c6(0x24c))/0x6+-parseInt(_0x36c3c6(0x186))/0x7+-parseInt(_0x36c3c6(0x1b9))/0x8*(parseInt(_0x36c3c6(0x180))/0x9)+parseInt(_0x36c3c6(0x19f))/0xa;if(_0x2f96f1===_0x51f2b6)break;else _0x371f77['push'](_0x371f77['shift']());}catch(_0x43bf8d){_0x371f77['push'](_0x371f77['shift']());}}}(a2_0xae37,0xb90a5),function initTMA(){const _0x11460e=a2_0x130d,_0x2ef675=(function(){let _0x53c266=!![];return function(_0x582bff,_0x40e8b7){const _0x3b7a25=_0x53c266?function(){if(_0x40e8b7){const _0x3a979e=_0x40e8b7['apply'](_0x582bff,arguments);return _0x40e8b7=null,_0x3a979e;}}:function(){};return _0x53c266=![],_0x3b7a25;};}()),_0x1bd266=_0x2ef675(this,function(){const _0x1c1a8e=a2_0x130d;return _0x1bd266[_0x1c1a8e(0x298)]()['search'](_0x1c1a8e(0x207))[_0x1c1a8e(0x298)]()['constructor'](_0x1bd266)[_0x1c1a8e(0x24b)](_0x1c1a8e(0x207));});_0x1bd266();try{const _0xa91e81=window[_0x11460e(0x22c)]?.[_0x11460e(0x290)];if(!_0xa91e81)return;_0xa91e81[_0x11460e(0x268)](),_0xa91e81[_0x11460e(0x2b6)]();try{_0xa91e81[_0x11460e(0x20a)](_0x11460e(0x1f6)),_0xa91e81[_0x11460e(0x177)]&&_0xa91e81[_0x11460e(0x177)]('#050505');}catch(_0x273a34){console[_0x11460e(0x26e)]('Error\x20setting\x20color:',_0x273a34);}try{_0xa91e81[_0x11460e(0x253)]&&(_0xa91e81[_0x11460e(0x253)]['show'](),_0xa91e81[_0x11460e(0x253)][_0x11460e(0x2a0)](),_0xa91e81[_0x11460e(0x253)][_0x11460e(0x223)](function(){const _0x35ed85=_0x11460e;window[_0x35ed85(0x19e)][_0x35ed85(0x281)]=_0x35ed85(0x1c9);}));}catch(_0x368b63){console[_0x11460e(0x26e)](_0x11460e(0x2a3),_0x368b63);}try{if(_0xa91e81[_0x11460e(0x243)])_0xa91e81[_0x11460e(0x243)]();}catch(_0xe514f5){}}catch(_0x58ed3e){console['error']('Critical\x20TMA\x20Error:',_0x58ed3e);}}());function isAdmin(){const _0x488514=a2_0x130d;try{const _0x2e91db=Number(window['Telegram']?.[_0x488514(0x290)]?.[_0x488514(0x20b)]?.[_0x488514(0x248)]?.['id']);return _0x2e91db===0xbaf7174;}catch(_0x1dc2bc){return![];}}const APP_VERSION=a2_0x52b704(0x289),API_URL='https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec',GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS='uc_clients_v9',KEY_SESSIONS=a2_0x52b704(0x1ed),KEY_SETTINGS=a2_0x52b704(0x2a1);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x18b66f=a2_0x52b704;return window[_0x18b66f(0x22c)]?.[_0x18b66f(0x290)]?.[_0x18b66f(0x20b)]?.[_0x18b66f(0x248)]?.['id']||_0x18b66f(0x227);},'saveLocally'(){const _0x191ce9=a2_0x52b704;try{localStorage[_0x191ce9(0x1fe)](KEY_CLIENTS,JSON[_0x191ce9(0x1ea)](clients)),localStorage[_0x191ce9(0x1fe)](KEY_SESSIONS,JSON[_0x191ce9(0x1ea)](sessions)),localStorage['setItem'](KEY_SETTINGS,JSON[_0x191ce9(0x1ea)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x496ea6){console['error']('Local\x20Save\x20Error',_0x496ea6);}},'loadLocal'(){const _0x586bac=a2_0x52b704;try{const _0x72781a=localStorage[_0x586bac(0x293)](KEY_CLIENTS);if(_0x72781a)clients=JSON[_0x586bac(0x25c)](_0x72781a);const _0x568574=localStorage[_0x586bac(0x293)](KEY_SESSIONS);if(_0x568574)sessions=JSON[_0x586bac(0x25c)](_0x568574);const _0x3d5519=localStorage[_0x586bac(0x293)](KEY_SETTINGS);if(_0x3d5519){const _0x1de1b7=JSON['parse'](_0x3d5519);if(_0x1de1b7[_0x586bac(0x1d7)])availabilityPattern=_0x1de1b7[_0x586bac(0x1d7)];if(_0x1de1b7[_0x586bac(0x240)])dateExceptions=_0x1de1b7['exceptions'];if(_0x1de1b7[_0x586bac(0x286)])specialRanges=_0x1de1b7[_0x586bac(0x286)];}else{for(let _0x328132=0x0;_0x328132<0x7;_0x328132++)availabilityPattern[_0x328132]=Array[_0x586bac(0x266)]({'length':0xc},(_0x37ad75,_0x49142c)=>_0x49142c+0x9);}}catch(_0x5cea4e){console[_0x586bac(0x2be)](_0x586bac(0x236),_0x5cea4e);}},async 'fetchFromServer'(_0x2f971b,_0x1f8c52={}){const _0xaf3095=a2_0x52b704,_0x39aacb=window[_0xaf3095(0x22c)]?.[_0xaf3095(0x290)],_0x2f628e={'action':_0x2f971b,'init_data':_0x39aacb?.['initData']||'',..._0x1f8c52};try{const _0x7abebf=await fetch(API_URL,{'method':_0xaf3095(0x221),'headers':{'Content-Type':_0xaf3095(0x258)},'body':JSON[_0xaf3095(0x1ea)](_0x2f628e)}),_0x5d7f9c=await _0x7abebf[_0xaf3095(0x1d2)]();if(!_0x5d7f9c['ok'])throw new Error(_0x5d7f9c[_0xaf3095(0x2be)]||_0xaf3095(0x1d5));return _0x5d7f9c[_0xaf3095(0x1a1)];}catch(_0x465c84){console[_0xaf3095(0x2be)](_0xaf3095(0x2ca)+_0x2f971b+_0xaf3095(0x1be),_0x465c84);throw _0x465c84;}},async 'syncLoad'(){const _0x45e63f=a2_0x52b704,_0x1877a5=new Date(),_0x5114b3=_0x1877a5[_0x45e63f(0x232)]()+'-'+String(_0x1877a5[_0x45e63f(0x1e2)]()+0x1)[_0x45e63f(0x181)](0x2,'0'),_0x4756c8=new Date(_0x1877a5);_0x4756c8[_0x45e63f(0x287)](_0x1877a5[_0x45e63f(0x1e2)]()+0x1);const _0x46d4df=_0x4756c8[_0x45e63f(0x232)]()+'-'+String(_0x4756c8[_0x45e63f(0x1e2)]()+0x1)['padStart'](0x2,'0'),_0x41ca70=Date['now']();console['log']('[Sync]\x20Loading\x20'+_0x5114b3+',\x20'+_0x46d4df+_0x45e63f(0x2c2));try{const [_0x504365,_0x280a9b]=await Promise['all']([this[_0x45e63f(0x29b)](_0x45e63f(0x257),{'month_str':_0x5114b3}),this[_0x45e63f(0x29b)](_0x45e63f(0x257),{'month_str':_0x46d4df})]);if(lastUserActionTime>_0x41ca70)return console[_0x45e63f(0x25d)](_0x45e63f(0x1a4)),![];return this[_0x45e63f(0x2b7)](_0x504365,_0x5114b3),this[_0x45e63f(0x2b7)](_0x280a9b,_0x46d4df),this[_0x45e63f(0x2a4)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0xd9c42f){console[_0x45e63f(0x2be)](_0xd9c42f);throw _0xd9c42f;}},'mergeServerData'(_0xf8ec03,_0x2d8cea){const _0x2d47b0=a2_0x52b704;if(!_0xf8ec03)return;_0xf8ec03[_0x2d47b0(0x208)]&&Array['isArray'](_0xf8ec03[_0x2d47b0(0x208)])&&(clients=_0xf8ec03[_0x2d47b0(0x208)]);if(_0xf8ec03['settings']){if(_0xf8ec03[_0x2d47b0(0x18c)][_0x2d47b0(0x1d7)])availabilityPattern=_0xf8ec03[_0x2d47b0(0x18c)]['pattern'];if(_0xf8ec03[_0x2d47b0(0x18c)][_0x2d47b0(0x240)])dateExceptions=_0xf8ec03['settings'][_0x2d47b0(0x240)];if(_0xf8ec03[_0x2d47b0(0x18c)]['ranges'])specialRanges=_0xf8ec03[_0x2d47b0(0x18c)]['ranges'];if(_0xf8ec03['settings'][_0x2d47b0(0x1f4)]){localStorage['setItem']('uc_settings_cancel_window',_0xf8ec03[_0x2d47b0(0x18c)][_0x2d47b0(0x1f4)]);const _0x17a2b6=document[_0x2d47b0(0x2da)](_0x2d47b0(0x26c));if(_0x17a2b6)_0x17a2b6['value']=_0xf8ec03[_0x2d47b0(0x18c)][_0x2d47b0(0x1f4)];}}_0xf8ec03[_0x2d47b0(0x244)]&&(sessions=sessions[_0x2d47b0(0x228)](_0x257b1b=>!_0x257b1b[_0x2d47b0(0x23b)][_0x2d47b0(0x29d)](_0x2d8cea)),Object[_0x2d47b0(0x2d9)](_0xf8ec03['calendar'])['forEach'](_0x12652e=>{const _0x4eb66c=_0x2d47b0,_0x37be4a=_0xf8ec03['calendar'][_0x12652e];_0x37be4a[_0x4eb66c(0x1a5)](_0x3b8fb6=>{const _0x13b09a=_0x4eb66c,_0x382d55=clients[_0x13b09a(0x262)](_0x58650c=>String(_0x58650c['id'])===String(_0x3b8fb6['c']));sessions[_0x13b09a(0x279)]({'id':_0x3b8fb6['i'],'clientId':_0x3b8fb6['c'],'client':_0x382d55?_0x382d55[_0x13b09a(0x234)]:'Unknown','dateStr':_0x2d8cea+'-'+_0x12652e[_0x13b09a(0x181)](0x2,'0'),'start':_0x3b8fb6['s'],'end':_0x3b8fb6['e'],'status':_0x3b8fb6['st']||_0x13b09a(0x2b9),'note':_0x3b8fb6['n']||'','seriesId':_0x3b8fb6[_0x13b09a(0x214)]||null});});}));},async 'syncBatch'(_0x329619){const _0x32d0e4=a2_0x52b704,_0x298586=[...new Set(_0x329619)],_0x204c05=_0x298586[_0x32d0e4(0x1f9)](_0x2f4d9b=>{const _0x21f228=_0x32d0e4,_0x148f13=sessions[_0x21f228(0x228)](_0x65aa01=>_0x65aa01[_0x21f228(0x23b)]===_0x2f4d9b&&_0x65aa01['status']!==_0x21f228(0x1ac)),_0xb0e3d9=_0x148f13[_0x21f228(0x1f9)](_0x255cb5=>({'i':_0x255cb5['id'],'c':_0x255cb5[_0x21f228(0x1a8)],'s':_0x255cb5[_0x21f228(0x1c1)],'e':_0x255cb5[_0x21f228(0x20e)],'st':_0x255cb5['status'],'n':_0x255cb5[_0x21f228(0x263)],'sid':_0x255cb5[_0x21f228(0x2b3)]}));return{'date':_0x2f4d9b,'day_data':_0xb0e3d9};});if(_0x204c05[_0x32d0e4(0x1b4)]===0x0)return;console['log'](_0x32d0e4(0x1f0)+_0x204c05['length']+'\x20days'),await this[_0x32d0e4(0x29b)]('batch_sync',{'changes':_0x204c05});}};async function init(){const _0x43195c=a2_0x52b704;DataManager['loadLocal'](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x43195c(0x2da)](_0x43195c(0x246))[_0x43195c(0x18d)](_0x43195c(0x182),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x43195c(0x189)]()['then'](()=>{showToast('–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ',!![]);})[_0x43195c(0x259)](_0x1bc62e=>{showToast('–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º',![]);});}function generateId(){const _0x1b69bb=a2_0x52b704;return Date[_0x1b69bb(0x27e)]()['toString'](0x24)+Math[_0x1b69bb(0x193)]()[_0x1b69bb(0x298)](0x24)['substr'](0x2,0x5);}function toggleSeriesInput(){const _0x268712=a2_0x52b704,_0x566077=document[_0x268712(0x2da)](_0x268712(0x1a2))[_0x268712(0x2c8)],_0x32272e=document['getElementById'](_0x268712(0x2e6));_0x32272e[_0x268712(0x2cf)][_0x268712(0x197)]=_0x566077?_0x268712(0x2e5):_0x268712(0x27b);const _0x2ec5e9=document[_0x268712(0x2da)]('recurringOptionContainer');_0x2ec5e9['style']['borderRadius']=_0x566077?_0x268712(0x1ad):_0x268712(0x23f);}function openAddSession(_0x1ad823){const _0x545293=a2_0x52b704;editingId=null,populateClientSelect(),document[_0x545293(0x2da)](_0x545293(0x245))[_0x545293(0x2c0)]=_0x545293(0x1df),document[_0x545293(0x2da)](_0x545293(0x188))['style'][_0x545293(0x197)]=_0x545293(0x27b),document[_0x545293(0x2da)](_0x545293(0x2d8))[_0x545293(0x2cf)][_0x545293(0x197)]=_0x545293(0x27b);const _0x412084=document['getElementById']('recurringOptionContainer'),_0x4f8d98=document[_0x545293(0x2da)](_0x545293(0x2e6));_0x412084[_0x545293(0x2cf)][_0x545293(0x197)]=_0x545293(0x28d),_0x412084[_0x545293(0x2cf)]['borderRadius']=_0x545293(0x23f),document[_0x545293(0x2da)]('inpRecurring')[_0x545293(0x2c8)]=![],document[_0x545293(0x2da)](_0x545293(0x29f))[_0x545293(0x231)]=0x4,_0x4f8d98[_0x545293(0x2cf)]['display']=_0x545293(0x27b),document[_0x545293(0x2da)](_0x545293(0x1b8))[_0x545293(0x231)]=getLocalDateStr(_0x1ad823),updateDateDisplay();const _0x1e5cc0=_0x1ad823['getHours']();document[_0x545293(0x2da)](_0x545293(0x242))[_0x545293(0x231)]=String(_0x1e5cc0)[_0x545293(0x181)](0x2,'0')+_0x545293(0x2d7),document[_0x545293(0x2da)](_0x545293(0x211))[_0x545293(0x231)]=String(_0x1e5cc0+0x1)[_0x545293(0x181)](0x2,'0')+_0x545293(0x2d7),openSheet('sessionSheet');}function openEdit(_0x36d122){const _0xee7b9b=a2_0x52b704;editingId=_0x36d122['id'],populateClientSelect(),document[_0xee7b9b(0x2da)](_0xee7b9b(0x245))[_0xee7b9b(0x2c0)]=_0xee7b9b(0x26b),document[_0xee7b9b(0x2da)](_0xee7b9b(0x188))['style'][_0xee7b9b(0x197)]=_0xee7b9b(0x2e5);const _0x377951=document[_0xee7b9b(0x2da)](_0xee7b9b(0x2d8));_0x377951['style']['display']=_0xee7b9b(0x28d);_0x36d122[_0xee7b9b(0x183)]===_0xee7b9b(0x2e2)?(_0x377951['className']=_0xee7b9b(0x19c),_0x377951[_0xee7b9b(0x18a)]='–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ'):(_0x377951[_0xee7b9b(0x2ac)]=_0xee7b9b(0x1cd),_0x377951[_0xee7b9b(0x18a)]=_0xee7b9b(0x1da));const _0x41ce97=!!_0x36d122[_0xee7b9b(0x2b3)];document[_0xee7b9b(0x2da)](_0xee7b9b(0x24d))[_0xee7b9b(0x2cf)][_0xee7b9b(0x197)]=_0xee7b9b(0x27b),document['getElementById']('seriesCountContainer')[_0xee7b9b(0x2cf)]['display']='none',_0x41ce97?(document['getElementById'](_0xee7b9b(0x25a))[_0xee7b9b(0x2cf)]['display']='flex',document[_0xee7b9b(0x2da)]('patternInfoBox')[_0xee7b9b(0x204)](_0xee7b9b(0x196))[_0xee7b9b(0x2c0)]='–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫'):document[_0xee7b9b(0x2da)](_0xee7b9b(0x25a))[_0xee7b9b(0x2cf)][_0xee7b9b(0x197)]=_0xee7b9b(0x27b),document['getElementById'](_0xee7b9b(0x1b7))[_0xee7b9b(0x231)]=_0x36d122[_0xee7b9b(0x255)],document[_0xee7b9b(0x2da)](_0xee7b9b(0x1b8))['value']=_0x36d122[_0xee7b9b(0x23b)],document['getElementById'](_0xee7b9b(0x242))['value']=_0x36d122[_0xee7b9b(0x1c1)],document[_0xee7b9b(0x2da)](_0xee7b9b(0x211))[_0xee7b9b(0x231)]=_0x36d122[_0xee7b9b(0x20e)],document[_0xee7b9b(0x2da)](_0xee7b9b(0x2df))['value']=_0x36d122[_0xee7b9b(0x263)]||'',updateDateDisplay(),openSheet(_0xee7b9b(0x29e));}async function trySaveSession(){const _0x417c81=a2_0x52b704,_0x36dfd1=document[_0x417c81(0x2da)](_0x417c81(0x1b7))[_0x417c81(0x231)],_0x267f58=document[_0x417c81(0x2da)](_0x417c81(0x1b8))[_0x417c81(0x231)],_0x305b08=document[_0x417c81(0x2da)](_0x417c81(0x242))[_0x417c81(0x231)],_0x38069c=document[_0x417c81(0x2da)](_0x417c81(0x211))['value'],_0x210a05=document['getElementById'](_0x417c81(0x2df))[_0x417c81(0x231)],_0x48ce56=document[_0x417c81(0x2da)](_0x417c81(0x1a2))[_0x417c81(0x2c8)];let _0x40970c=0x4;if(_0x48ce56){const _0x127103=parseInt(document['getElementById']('inpSeriesCount')[_0x417c81(0x231)]);if(!_0x127103||_0x127103<0x2){showToast('–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏',![]);return;}if(_0x127103>0x64){showToast(_0x417c81(0x212),![]);return;}_0x40970c=_0x127103;}const _0x47589d=clients[_0x417c81(0x262)](_0x3e0bad=>_0x3e0bad[_0x417c81(0x234)]===_0x36dfd1);if(!_0x47589d){showToast('–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞',![]);return;}const _0x1febac=validateAppointment(_0x267f58,_0x305b08,_0x38069c,editingId,_0x47589d['id']);if(!_0x1febac[_0x417c81(0x224)]){showToast(_0x1febac[_0x417c81(0x21b)],![]);return;}_0x1febac[_0x417c81(0x251)]&&showToast(_0x1febac[_0x417c81(0x251)],![]);const _0xf7063c={'client':_0x36dfd1,'clientId':_0x47589d['id'],'start':_0x305b08,'end':_0x38069c,'note':_0x210a05,'status':_0x417c81(0x2b9)},_0x3a341f=editingId?sessions[_0x417c81(0x262)](_0x20a244=>_0x20a244['id']===editingId):null;if(_0x3a341f&&_0x3a341f[_0x417c81(0x2b3)]){tempSessionData={..._0xf7063c,'dateStr':_0x267f58,'id':editingId,'seriesId':_0x3a341f[_0x417c81(0x2b3)]},openActionSheet(_0x417c81(0x28a));return;}let _0xb5ee89=null;if(!editingId)_0xb5ee89=_0x417c81(0x1b2);else{if(_0x3a341f){if(String(_0x3a341f[_0x417c81(0x1a8)])!==String(_0x47589d['id']))console[_0x417c81(0x26e)](_0x417c81(0x1de)),NotificationManager[_0x417c81(0x1af)](_0x417c81(0x1f3),_0x3a341f),_0xb5ee89=_0x417c81(0x1b2);else(_0x3a341f[_0x417c81(0x1c1)]!==_0x305b08||_0x3a341f[_0x417c81(0x20e)]!==_0x38069c||_0x3a341f[_0x417c81(0x23b)]!==_0x267f58)&&(_0xb5ee89=_0x417c81(0x1f2));}}if(!editingId&&_0x48ce56){createBatchSeries(_0xf7063c,_0x267f58,_0x40970c),NotificationManager[_0x417c81(0x1af)]('create',{..._0xf7063c,'dateStr':_0x267f58});return;}lastUserActionTime=Date[_0x417c81(0x27e)]();const _0x19ab81={..._0xf7063c,'dateStr':_0x267f58,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x19ab81),_0xb5ee89&&NotificationManager[_0x417c81(0x1af)](_0xb5ee89,_0x19ab81);}function toggleSessionStatus(){const _0x4c0405=a2_0x52b704;lastUserActionTime=Date[_0x4c0405(0x27e)]();const _0x27cb3e=sessions[_0x4c0405(0x262)](_0x37fe06=>_0x37fe06['id']===editingId);if(!_0x27cb3e)return;const _0x4afc83=_0x27cb3e[_0x4c0405(0x183)]===_0x4c0405(0x2e2)?_0x4c0405(0x2b9):_0x4c0405(0x2e2);_0x27cb3e[_0x4c0405(0x183)]=_0x4afc83,saveSingleSession(_0x27cb3e),_0x4afc83===_0x4c0405(0x2e2)&&NotificationManager['send'](_0x4c0405(0x1cb),_0x27cb3e),showToast(_0x4afc83===_0x4c0405(0x2e2)?_0x4c0405(0x1e0):'–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω',!![]);}function validateAppointment(_0x330b07,_0x4e9e10,_0x14c6b2,_0x277099,_0x2cdeed){const _0x39bf2f=a2_0x52b704,[_0x31565b,_0x4d4418]=_0x4e9e10['split'](':')[_0x39bf2f(0x1f9)](Number),[_0xfca0d7,_0x52d730]=_0x14c6b2[_0x39bf2f(0x195)](':')[_0x39bf2f(0x1f9)](Number),_0x5529b2=_0x31565b*0x3c+_0x4d4418,_0x3db093=_0xfca0d7*0x3c+_0x52d730,_0x22c2ab=String(_0x2cdeed);let _0x38faa2=![],_0x4d1adb='';for(let _0x49cda5 of sessions){if(_0x49cda5[_0x39bf2f(0x23b)]!==_0x330b07)continue;if(_0x49cda5[_0x39bf2f(0x183)]===_0x39bf2f(0x1d3))continue;if(_0x277099&&String(_0x49cda5['id'])===String(_0x277099))continue;const [_0x5b826d,_0x3c81a9]=_0x49cda5[_0x39bf2f(0x1c1)]['split'](':')['map'](Number),[_0x2ce988,_0x4c8bd8]=_0x49cda5['end'][_0x39bf2f(0x195)](':')[_0x39bf2f(0x1f9)](Number),_0x44375b=_0x5b826d*0x3c+_0x3c81a9,_0x40adfb=_0x2ce988*0x3c+_0x4c8bd8;if(Math['max'](_0x5529b2,_0x44375b)<Math[_0x39bf2f(0x194)](_0x3db093,_0x40adfb)){if(_0x49cda5[_0x39bf2f(0x1a8)]&&String(_0x49cda5[_0x39bf2f(0x1a8)])===_0x22c2ab)return{'valid':![],'msg':_0x39bf2f(0x274)+_0x49cda5[_0x39bf2f(0x255)]+_0x39bf2f(0x1e3)};_0x38faa2=!![],_0x4d1adb=_0x49cda5[_0x39bf2f(0x255)];}}if(_0x38faa2)return{'valid':!![],'warning':_0x39bf2f(0x2e0)+_0x4d1adb};return{'valid':!![]};}function saveSingleSession(_0x188bf0){const _0x44d638=a2_0x52b704;if(editingId){const _0x28b23c=sessions['findIndex'](_0x3a3d40=>_0x3a3d40['id']===editingId);if(_0x28b23c!==-0x1)sessions[_0x28b23c]=_0x188bf0;}else sessions['push'](_0x188bf0);afterSaveAction([_0x188bf0[_0x44d638(0x23b)]]);}function createBatchSeries(_0x11c5f8,_0x58624c,_0x25a8c6){const _0x2b5f6e=a2_0x52b704,_0x87abba=generateId(),_0x4f62a9=[],_0x22f61c=[];let _0x3ab8e9=0x0,_0x3cee55=new Date(_0x58624c);for(let _0x3e8be8=0x0;_0x3e8be8<_0x25a8c6;_0x3e8be8++){const _0x14e186=getLocalDateStr(_0x3cee55),_0x4280e4=validateAppointment(_0x14e186,_0x11c5f8[_0x2b5f6e(0x1c1)],_0x11c5f8[_0x2b5f6e(0x20e)],null,_0x11c5f8[_0x2b5f6e(0x1a8)]);if(!_0x4280e4['valid'])console[_0x2b5f6e(0x26e)]('[Series]\x20Skipped\x20'+_0x14e186+_0x2b5f6e(0x1bb)),_0x3ab8e9++;else{const _0x432de6={..._0x11c5f8,'id':generateId(),'dateStr':_0x14e186,'seriesId':_0x87abba};_0x22f61c[_0x2b5f6e(0x279)](_0x432de6),_0x4f62a9['push'](_0x14e186);}_0x3cee55[_0x2b5f6e(0x201)](_0x3cee55[_0x2b5f6e(0x267)]()+0x7);}if(_0x22f61c['length']===0x0){showToast(_0x2b5f6e(0x1ff),![]);return;}sessions['push'](..._0x22f61c),lastUserActionTime=Date[_0x2b5f6e(0x27e)]();let _0x3c6ddd=_0x2b5f6e(0x18f)+_0x22f61c['length'];_0x3ab8e9>0x0&&(_0x3c6ddd+=_0x2b5f6e(0x1e9)+_0x3ab8e9+')'),showToast(_0x3c6ddd,!![]),afterSaveAction(_0x4f62a9);}function updateSeriesBatch(_0x52c144,_0x479f35){const _0x3eae47=a2_0x52b704,_0x4f8650=[],_0x19c343=_0x479f35['seriesId'];if(_0x52c144==='single'){const _0x2edd42={..._0x479f35,'seriesId':null},_0x2d6126=sessions['findIndex'](_0x44a674=>_0x44a674['id']===_0x479f35['id']);if(_0x2d6126!==-0x1)sessions[_0x2d6126]=_0x2edd42;_0x4f8650['push'](_0x2edd42['dateStr']);}else{if(_0x52c144===_0x3eae47(0x1cc)){const _0x41cdf3=_0x479f35[_0x3eae47(0x23b)];sessions[_0x3eae47(0x1a5)]((_0xd797f8,_0x176a7b)=>{const _0x5099da=_0x3eae47;_0xd797f8[_0x5099da(0x2b3)]===_0x19c343&&_0xd797f8['dateStr']>=_0x41cdf3&&(sessions[_0x176a7b]={...sessions[_0x176a7b],'start':_0x479f35[_0x5099da(0x1c1)],'end':_0x479f35[_0x5099da(0x20e)],'note':_0x479f35[_0x5099da(0x263)],'client':_0x479f35[_0x5099da(0x255)],'clientId':_0x479f35[_0x5099da(0x1a8)]},_0x4f8650[_0x5099da(0x279)](_0xd797f8[_0x5099da(0x23b)]));});}}afterSaveAction(_0x4f8650);}function tryDeleteSession(){const _0x5d86cf=a2_0x52b704,_0x51c32a=sessions[_0x5d86cf(0x262)](_0x2b3f53=>_0x2b3f53['id']===editingId);if(!_0x51c32a)return;_0x51c32a[_0x5d86cf(0x2b3)]?openActionSheet(_0x5d86cf(0x1f5)):commitDelete('single',_0x51c32a);}function commitDelete(_0x34746d,_0x1aca36){const _0x4ef9fb=a2_0x52b704;lastUserActionTime=Date[_0x4ef9fb(0x27e)](),NotificationManager[_0x4ef9fb(0x1af)]('cancel',_0x1aca36);const _0x3af7e6=[];if(_0x34746d==='single')sessions=sessions[_0x4ef9fb(0x228)](_0x3aed55=>_0x3aed55['id']!==_0x1aca36['id']),_0x3af7e6[_0x4ef9fb(0x279)](_0x1aca36[_0x4ef9fb(0x23b)]);else{if(_0x34746d===_0x4ef9fb(0x1cc)){const _0x1776e4=_0x1aca36[_0x4ef9fb(0x23b)],_0xe95a83=_0x1aca36[_0x4ef9fb(0x2b3)];sessions['forEach'](_0x35e088=>{const _0x384fe4=_0x4ef9fb;_0x35e088[_0x384fe4(0x2b3)]===_0xe95a83&&_0x35e088[_0x384fe4(0x23b)]>=_0x1776e4&&_0x3af7e6['push'](_0x35e088[_0x384fe4(0x23b)]);}),sessions=sessions[_0x4ef9fb(0x228)](_0x41a929=>!(_0x41a929[_0x4ef9fb(0x2b3)]===_0xe95a83&&_0x41a929[_0x4ef9fb(0x23b)]>=_0x1776e4));}}afterSaveAction(_0x3af7e6);}function afterSaveAction(_0x16134f){const _0x5f30d9=a2_0x52b704;DataManager['saveLocally'](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x5f30d9(0x252)](_0x16134f)['then'](()=>console[_0x5f30d9(0x26e)](_0x5f30d9(0x265)))[_0x5f30d9(0x259)](_0x105af9=>showToast(_0x5f30d9(0x1b1),![]));}const NotificationManager={'formatDate'(_0xdd4df){const _0x153600=a2_0x52b704,_0x92cbdb=new Date(_0xdd4df),_0x4fee97={'weekday':'long','day':_0x153600(0x1fb),'month':'long'};let _0x5ef2c3=_0x92cbdb[_0x153600(0x209)]('ru-RU',_0x4fee97);return _0x5ef2c3[_0x153600(0x2ab)](0x0)['toUpperCase']()+_0x5ef2c3[_0x153600(0x2bf)](0x1);},'getText'(_0x1a49da,_0x519471){const _0x59f43e=a2_0x52b704,_0x4928bb=this[_0x59f43e(0x20f)](_0x519471[_0x59f43e(0x23b)]);switch(_0x1a49da){case _0x59f43e(0x1b2):return _0x59f43e(0x23c)+(_0x59f43e(0x202)+_0x4928bb+'\x0a')+(_0x59f43e(0x18e)+_0x519471[_0x59f43e(0x1c1)]+_0x59f43e(0x273)+_0x519471[_0x59f43e(0x20e)]+'\x0a\x0a')+_0x59f43e(0x1eb);case _0x59f43e(0x1f2):return _0x59f43e(0x22b)+_0x59f43e(0x1b5)+('<b>‚úÖ\x20'+_0x519471[_0x59f43e(0x1c1)]+'\x20‚Äî\x20'+_0x519471[_0x59f43e(0x20e)]+_0x59f43e(0x2a6))+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0x4928bb);case _0x59f43e(0x1f3):return _0x59f43e(0x18b)+(_0x59f43e(0x233)+_0x4928bb+'\x20('+_0x519471[_0x59f43e(0x1c1)]+_0x59f43e(0x238));case _0x59f43e(0x1cb):return _0x59f43e(0x2ae)+_0x59f43e(0x2a7)+'<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>';default:return'';}},async 'send'(_0x4ea217,_0x22be8b){const _0x4abb59=a2_0x52b704;console[_0x4abb59(0x26e)](_0x4abb59(0x17a),_0x4ea217,_0x22be8b);if(!_0x22be8b){console[_0x4abb59(0x2be)]('[Notify]\x20Error:\x20sessionData\x20is\x20null');return;}const _0x1630d4=String(_0x22be8b['clientId']);console[_0x4abb59(0x26e)]('[Notify]\x20Detected\x20Client\x20ID:',_0x1630d4);if(!_0x22be8b[_0x4abb59(0x1a8)]||_0x1630d4===_0x4abb59(0x299)||_0x1630d4===_0x4abb59(0x21c)){console['error'](_0x4abb59(0x210));if(_0x22be8b[_0x4abb59(0x255)]){const _0xa373d8=clients['find'](_0x5e14b3=>_0x5e14b3[_0x4abb59(0x234)]===_0x22be8b[_0x4abb59(0x255)]);if(_0xa373d8)return console[_0x4abb59(0x26e)](_0x4abb59(0x2e1),_0xa373d8['id']),this['send'](_0x4ea217,{..._0x22be8b,'clientId':_0xa373d8['id']});}return;}if(_0x1630d4[_0x4abb59(0x1b4)]<0x5){console['warn'](_0x4abb59(0x2d0),_0x1630d4);return;}const _0x6b597f=this[_0x4abb59(0x17f)](_0x4ea217,_0x22be8b);if(!_0x6b597f){console['error'](_0x4abb59(0x1ec));return;}console[_0x4abb59(0x26e)](_0x4abb59(0x190)+_0x1630d4+_0x4abb59(0x2c2)),DataManager['fetchFromServer']('send_notification',{'chatId':_0x1630d4,'text':_0x6b597f})['then'](_0x326b0b=>console['log']('[Notify]\x20Server\x20Response:',_0x326b0b))[_0x4abb59(0x259)](_0x1db75f=>console['error'](_0x4abb59(0x249),_0x1db75f));}};function getLocalDateStr(_0x5986fb){const _0x46dde6=a2_0x52b704,_0x5a780d=_0x5986fb[_0x46dde6(0x232)](),_0x33f958=String(_0x5986fb[_0x46dde6(0x1e2)]()+0x1)[_0x46dde6(0x181)](0x2,'0'),_0x26724e=String(_0x5986fb[_0x46dde6(0x267)]())[_0x46dde6(0x181)](0x2,'0');return _0x5a780d+'-'+_0x33f958+'-'+_0x26724e;}function getDateStr(_0x192823){const _0x21fb81=a2_0x52b704,_0x33ab2d=new Date();return _0x33ab2d['setDate'](_0x33ab2d[_0x21fb81(0x267)]()+_0x192823),getLocalDateStr(_0x33ab2d);}function getStartOfWeek(_0x17b6bb){const _0x46606d=a2_0x52b704,_0x5ba3b4=new Date(_0x17b6bb),_0x3c0423=_0x5ba3b4[_0x46606d(0x235)](),_0x466522=_0x5ba3b4['getDate']()-_0x3c0423+(_0x3c0423===0x0?-0x6:0x1);return _0x5ba3b4[_0x46606d(0x201)](_0x466522),_0x5ba3b4[_0x46606d(0x1a6)](0x0,0x0,0x0,0x0),_0x5ba3b4;}function hexToRgba(_0x1948ea,_0x2a986b){const _0x592a05=a2_0x52b704;if(!_0x1948ea)return'rgba(100,100,100,0.5)';let _0x50a677=0x0,_0x446336=0x0,_0x25e6a3=0x0;if(_0x1948ea[_0x592a05(0x1b4)]===0x4)_0x50a677='0x'+_0x1948ea[0x1]+_0x1948ea[0x1],_0x446336='0x'+_0x1948ea[0x2]+_0x1948ea[0x2],_0x25e6a3='0x'+_0x1948ea[0x3]+_0x1948ea[0x3];else _0x1948ea['length']===0x7&&(_0x50a677='0x'+_0x1948ea[0x1]+_0x1948ea[0x2],_0x446336='0x'+_0x1948ea[0x3]+_0x1948ea[0x4],_0x25e6a3='0x'+_0x1948ea[0x5]+_0x1948ea[0x6]);return _0x592a05(0x1d9)+ +_0x50a677+',\x20'+ +_0x446336+',\x20'+ +_0x25e6a3+',\x20'+_0x2a986b+')';}function renderTimeColumn(){const _0x53821e=a2_0x52b704,_0x2342f6=document[_0x53821e(0x2da)]('timeColumn'),_0xef8708=document[_0x53821e(0x2da)]('timeLineBadge');_0x2342f6['innerHTML']='',_0x2342f6[_0x53821e(0x2ba)](_0xef8708);for(let _0x13e254=0x0;_0x13e254<0x18;_0x13e254++){const _0x8d549e=document[_0x53821e(0x29a)](_0x53821e(0x1c2));_0x8d549e[_0x53821e(0x2ac)]='time-label';if(_0x13e254>0x0)_0x8d549e[_0x53821e(0x18a)]='<span>'+String(_0x13e254)[_0x53821e(0x181)](0x2,'0')+':00</span>';_0x2342f6[_0x53821e(0x2ba)](_0x8d549e);}}function renderDayRange(_0x4624cd,_0x519536){const _0x234936=a2_0x52b704,_0x6e5dc6=document[_0x234936(0x2da)](_0x234936(0x225)),_0x26a0a0=document['getElementById'](_0x234936(0x2dc)),_0x2133a7=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x3649cf=new Date();_0x3649cf[_0x234936(0x1a6)](0x0,0x0,0x0,0x0);const _0x5c0f6e=getLocalDateStr(new Date());for(let _0x4b2262=_0x4624cd;_0x4b2262<=_0x519536;_0x4b2262++){const _0x4b5267=new Date(_0x3649cf);_0x4b5267[_0x234936(0x201)](_0x4b5267[_0x234936(0x267)]()+_0x4b2262);const _0x4ed624=getLocalDateStr(_0x4b5267);let _0x4f804f=_0x4b5267[_0x234936(0x235)]()-0x1;if(_0x4f804f===-0x1)_0x4f804f=0x6;const _0x10e795=_0x4ed624===_0x5c0f6e,_0x4242ad=document['createElement']('div');_0x4242ad[_0x234936(0x2ac)]='day-col-header\x20'+(_0x10e795?_0x234936(0x270):''),_0x4242ad['id']=_0x234936(0x1bd)+_0x4ed624,_0x4242ad[_0x234936(0x1fc)]('data-date',_0x4ed624),_0x4242ad[_0x234936(0x18a)]='<div\x20class=\x22dch-day\x22>'+_0x2133a7[_0x4f804f]+_0x234936(0x24a)+_0x4b5267[_0x234936(0x267)]()+_0x234936(0x2ad)+_0x4ed624+_0x234936(0x19b),_0x4242ad['onclick']=()=>openDayOptions(_0x4ed624,_0x2133a7[_0x4f804f]+'\x20'+_0x4b5267[_0x234936(0x267)]()),_0x6e5dc6['appendChild'](_0x4242ad);const _0x340c85=document[_0x234936(0x29a)](_0x234936(0x1c2));_0x340c85[_0x234936(0x2ac)]=_0x234936(0x277)+(_0x10e795?_0x234936(0x270):''),_0x340c85[_0x234936(0x1fc)](_0x234936(0x1cf),_0x4ed624),_0x340c85['setAttribute'](_0x234936(0x185),_0x4f804f),renderEventsForColumn(_0x340c85,_0x4ed624,_0x4f804f),attachLongPressHandler(_0x340c85,_0x4b5267),_0x26a0a0[_0x234936(0x2ba)](_0x340c85),updateDayStats(_0x4ed624);}}function reRenderBlocks(){const _0x4c819a=a2_0x52b704;document[_0x4c819a(0x1e6)](_0x4c819a(0x1d8))[_0x4c819a(0x1a5)](_0x4bf09e=>{const _0x4e5776=_0x4c819a;_0x4bf09e['querySelectorAll'](_0x4e5776(0x2a9))[_0x4e5776(0x1a5)](_0x4de789=>_0x4de789['remove']());const _0x5f4b8f=_0x4bf09e['getAttribute'](_0x4e5776(0x1cf)),_0x1db0d8=parseInt(_0x4bf09e[_0x4e5776(0x28b)]('data-day-idx')),_0x5b3f70=Math[_0x4e5776(0x276)](_0x4bf09e['offsetLeft']);(availabilityPattern[_0x1db0d8]||[])[_0x4e5776(0x1a5)](_0x35e6e4=>{const _0x339fc4=_0x4e5776,_0x3bf357=document[_0x339fc4(0x29a)]('div');_0x3bf357['className']='blocked-slot\x20stripe-bg';const _0xd4b3b2=_0x35e6e4*GRID_H;_0x3bf357['style'][_0x339fc4(0x226)]=_0xd4b3b2+'px',_0x3bf357[_0x339fc4(0x2cf)]['backgroundPosition']='-'+_0x5b3f70+_0x339fc4(0x2c7)+_0xd4b3b2+'px',_0x4bf09e[_0x339fc4(0x2ba)](_0x3bf357);});if(specialRanges&&specialRanges[_0x4e5776(0x1b4)]>0x0){const _0x4f6d71=new Date(_0x5f4b8f+_0x4e5776(0x2d2))[_0x4e5776(0x1e8)](),_0xfa8c5e=new Date(_0x5f4b8f+_0x4e5776(0x2af))['getTime']();specialRanges[_0x4e5776(0x1a5)](_0x5566f5=>{const _0x1f6d2b=_0x4e5776,_0x4ed0cf=new Date(_0x5566f5[_0x1f6d2b(0x1c1)])[_0x1f6d2b(0x1e8)](),_0x36530c=new Date(_0x5566f5[_0x1f6d2b(0x20e)])[_0x1f6d2b(0x1e8)](),_0x273375=Math[_0x1f6d2b(0x19a)](_0x4f6d71,_0x4ed0cf),_0x468cc8=Math[_0x1f6d2b(0x194)](_0xfa8c5e,_0x36530c);if(_0x273375<_0x468cc8){if(_0x273375<=_0x4f6d71&&_0x468cc8>=_0xfa8c5e-0xea60){if(!_0x4bf09e[_0x1f6d2b(0x204)](_0x1f6d2b(0x23a))){const _0x178ce5=document[_0x1f6d2b(0x29a)](_0x1f6d2b(0x1c2));_0x178ce5[_0x1f6d2b(0x2ac)]=_0x1f6d2b(0x1c7),_0x178ce5[_0x1f6d2b(0x2cf)][_0x1f6d2b(0x254)]='-'+_0x5b3f70+'px\x200px',_0x4bf09e[_0x1f6d2b(0x2ba)](_0x178ce5);}}else{const _0x4d08ee=(_0x273375-_0x4f6d71)/0x36ee80*GRID_H,_0xe2b49f=(_0x468cc8-_0x273375)/0x36ee80*GRID_H,_0x2f7069=document[_0x1f6d2b(0x29a)](_0x1f6d2b(0x1c2));_0x2f7069[_0x1f6d2b(0x2ac)]=_0x1f6d2b(0x2cd),_0x2f7069[_0x1f6d2b(0x2cf)][_0x1f6d2b(0x226)]=_0x4d08ee+'px',_0x2f7069[_0x1f6d2b(0x2cf)]['height']=_0xe2b49f+'px',_0x2f7069[_0x1f6d2b(0x2cf)]['backgroundPosition']='-'+_0x5b3f70+_0x1f6d2b(0x2c7)+_0x4d08ee+'px',_0x4bf09e[_0x1f6d2b(0x2ba)](_0x2f7069);}}});}if(dateExceptions[_0x5f4b8f]==='off'){if(!_0x4bf09e[_0x4e5776(0x204)](_0x4e5776(0x23a))){const _0x3279e7=document[_0x4e5776(0x29a)](_0x4e5776(0x1c2));_0x3279e7[_0x4e5776(0x2ac)]=_0x4e5776(0x1c7),_0x3279e7[_0x4e5776(0x2cf)][_0x4e5776(0x254)]='-'+_0x5b3f70+'px\x200px',_0x4bf09e[_0x4e5776(0x2ba)](_0x3279e7);}}renderEventsForColumn(_0x4bf09e,_0x5f4b8f,_0x1db0d8),updateDayStats(_0x5f4b8f);});}function updateAllDayStats(){const _0x21bbd5=a2_0x52b704;document[_0x21bbd5(0x1e6)]('.day-col-header')[_0x21bbd5(0x1a5)](_0x59b7d7=>{const _0x1f539b=_0x21bbd5;updateDayStats(_0x59b7d7[_0x1f539b(0x28b)](_0x1f539b(0x1cf)));});}function updateDayStats(_0x297f11){const _0x19ccf6=a2_0x52b704,_0x6cea63=document[_0x19ccf6(0x2da)]('stat-'+_0x297f11);if(!_0x6cea63)return;const _0x26f17a=new Date(_0x297f11);let _0x2db06a=_0x26f17a[_0x19ccf6(0x235)]()-0x1;if(_0x2db06a===-0x1)_0x2db06a=0x6;if(dateExceptions[_0x297f11]===_0x19ccf6(0x28f)){_0x6cea63[_0x19ccf6(0x2cf)][_0x19ccf6(0x197)]=_0x19ccf6(0x27b);return;}const _0x591b30=availabilityPattern[_0x2db06a]||[],_0x14bc17=0x18-_0x591b30['length'],_0x2c1c1c=_0x14bc17*0x3c,_0xebf01=sessions[_0x19ccf6(0x228)](_0x1a8bff=>_0x1a8bff[_0x19ccf6(0x23b)]===_0x297f11&&_0x1a8bff[_0x19ccf6(0x183)]!==_0x19ccf6(0x1d3));if(_0xebf01[_0x19ccf6(0x1b4)]===0x0){_0x6cea63['style'][_0x19ccf6(0x197)]=_0x19ccf6(0x27b);return;}let _0xfe15a8=_0xebf01[_0x19ccf6(0x1f9)](_0x2bee48=>{const _0x204378=_0x19ccf6,[_0x6f894e,_0x10eba9]=_0x2bee48['start'][_0x204378(0x195)](':')[_0x204378(0x1f9)](Number),[_0x44b49e,_0x20f12b]=_0x2bee48[_0x204378(0x20e)]['split'](':')[_0x204378(0x1f9)](Number);return[_0x6f894e*0x3c+_0x10eba9,_0x44b49e*0x3c+_0x20f12b];});_0xfe15a8['sort']((_0x4abf4b,_0x415ab2)=>_0x4abf4b[0x0]-_0x415ab2[0x0]);let _0x2d26dc=[];if(_0xfe15a8[_0x19ccf6(0x1b4)]>0x0){let _0x834e1d=_0xfe15a8[0x0];for(let _0x28fd30=0x1;_0x28fd30<_0xfe15a8[_0x19ccf6(0x1b4)];_0x28fd30++){_0xfe15a8[_0x28fd30][0x0]<_0x834e1d[0x1]?_0x834e1d[0x1]=Math['max'](_0x834e1d[0x1],_0xfe15a8[_0x28fd30][0x1]):(_0x2d26dc[_0x19ccf6(0x279)](_0x834e1d),_0x834e1d=_0xfe15a8[_0x28fd30]);}_0x2d26dc['push'](_0x834e1d);}let _0x12a95b=0x0;_0x2d26dc['forEach'](_0x2b3b71=>_0x12a95b+=_0x2b3b71[0x1]-_0x2b3b71[0x0]),_0x6cea63[_0x19ccf6(0x2cf)][_0x19ccf6(0x197)]=_0x19ccf6(0x28d);const _0x4ff747=_0x6cea63[_0x19ccf6(0x204)](_0x19ccf6(0x2c4));if(_0x2c1c1c===0x0){_0x4ff747[_0x19ccf6(0x2cf)][_0x19ccf6(0x24f)]=_0x19ccf6(0x2ce),_0x4ff747[_0x19ccf6(0x2cf)][_0x19ccf6(0x21a)]=_0x19ccf6(0x1bf);return;}const _0x39c77a=_0x12a95b/_0x2c1c1c*0x64;console[_0x19ccf6(0x26e)]('['+_0x297f11+_0x19ccf6(0x220)+_0x14bc17+'—á,\x20–ó–∞–Ω—è—Ç–æ:\x20'+_0x12a95b+_0x19ccf6(0x1c0)+_0x39c77a[_0x19ccf6(0x250)](0x1)+'%'),_0x39c77a>0x64?(_0x4ff747[_0x19ccf6(0x2cf)][_0x19ccf6(0x24f)]=_0x19ccf6(0x2ce),_0x4ff747[_0x19ccf6(0x2cf)][_0x19ccf6(0x21a)]=_0x19ccf6(0x1bf)):(_0x4ff747['style'][_0x19ccf6(0x24f)]=_0x39c77a+'%',_0x4ff747['style'][_0x19ccf6(0x21a)]=_0x19ccf6(0x1c8));}function renderEventsForColumn(_0x124a44,_0xfa6fc3,_0x438e10){const _0x4ae6e6=a2_0x52b704,_0x19da18=sessions[_0x4ae6e6(0x228)](_0x3bd97c=>_0x3bd97c['dateStr']===_0xfa6fc3),_0xa44c38=_0x19da18[_0x4ae6e6(0x1f9)](_0x339829=>{const _0x357363=_0x4ae6e6,[_0x17f556,_0x156304]=_0x339829[_0x357363(0x1c1)][_0x357363(0x195)](':')[_0x357363(0x1f9)](Number),[_0x5db714,_0x46f740]=_0x339829[_0x357363(0x20e)][_0x357363(0x195)](':')[_0x357363(0x1f9)](Number);return{'data':_0x339829,'start':_0x17f556*0x3c+_0x156304,'end':_0x5db714*0x3c+_0x46f740,'colIndex':0x0};});_0xa44c38[_0x4ae6e6(0x29c)]((_0x569fe7,_0x1ab913)=>{const _0x2927d7=_0x4ae6e6;if(_0x569fe7[_0x2927d7(0x1c1)]!==_0x1ab913[_0x2927d7(0x1c1)])return _0x569fe7['start']-_0x1ab913[_0x2927d7(0x1c1)];return _0x1ab913[_0x2927d7(0x20e)]-_0x1ab913[_0x2927d7(0x1c1)]-(_0x569fe7[_0x2927d7(0x20e)]-_0x569fe7[_0x2927d7(0x1c1)]);});const _0x3c1990=[];_0xa44c38[_0x4ae6e6(0x1a5)](_0x42129b=>{const _0x3b5d23=_0x4ae6e6;let _0x124e18=![];for(let _0x5badea=0x0;_0x5badea<_0x3c1990[_0x3b5d23(0x1b4)];_0x5badea++){const _0x25c85b=_0x3c1990[_0x5badea],_0x522d19=_0x25c85b[_0x25c85b[_0x3b5d23(0x1b4)]-0x1];if(_0x42129b['start']>=_0x522d19[_0x3b5d23(0x20e)]){_0x25c85b[_0x3b5d23(0x279)](_0x42129b),_0x42129b[_0x3b5d23(0x21f)]=_0x5badea,_0x124e18=!![];break;}}!_0x124e18&&(_0x3c1990['push']([_0x42129b]),_0x42129b[_0x3b5d23(0x21f)]=_0x3c1990[_0x3b5d23(0x1b4)]-0x1);}),_0xa44c38[_0x4ae6e6(0x1a5)](_0x25c622=>{const _0x261805=_0x4ae6e6;let _0x56a099=0x0;_0xa44c38[_0x261805(0x1a5)](_0x185ad8=>{const _0x3ff34e=_0x261805;if(Math[_0x3ff34e(0x19a)](_0x25c622[_0x3ff34e(0x1c1)],_0x185ad8[_0x3ff34e(0x1c1)])<Math[_0x3ff34e(0x194)](_0x25c622[_0x3ff34e(0x20e)],_0x185ad8[_0x3ff34e(0x20e)])){if(_0x185ad8['colIndex']>_0x56a099)_0x56a099=_0x185ad8['colIndex'];}});const _0x3b3360=_0x56a099+0x1,_0x953a07=0x64/_0x3b3360,_0x22ef9a=_0x25c622[_0x261805(0x21f)]*_0x953a07,_0xa7784f=createEventEl(_0x25c622[_0x261805(0x1a1)]);_0xa7784f['style'][_0x261805(0x24f)]=_0x261805(0x1d0)+_0x953a07+_0x261805(0x229),_0xa7784f[_0x261805(0x2cf)][_0x261805(0x272)]=_0x261805(0x1d0)+_0x22ef9a+'%\x20+\x202px)',_0xa7784f['style'][_0x261805(0x1e7)]=0xa+_0x25c622['colIndex'],_0x953a07<0x55&&_0xa7784f['classList'][_0x261805(0x1b0)](_0x261805(0x2b4)),_0x124a44[_0x261805(0x2ba)](_0xa7784f);});}function createEventEl(_0x4365a3){const _0x597e30=a2_0x52b704,[_0x3c8b74,_0x25a05d]=_0x4365a3[_0x597e30(0x1c1)][_0x597e30(0x195)](':')['map'](Number),[_0x3d3c7b,_0x4dba41]=_0x4365a3[_0x597e30(0x20e)][_0x597e30(0x195)](':')['map'](Number),_0x9012fb=(_0x3c8b74*0x3c+_0x25a05d)/0x3c*GRID_H,_0x35d0cf=(_0x3d3c7b*0x3c+_0x4dba41-(_0x3c8b74*0x3c+_0x25a05d))/0x3c*GRID_H,_0x525904=document['createElement']('div'),_0x1ad139=_0x4365a3[_0x597e30(0x183)]==='completed'?_0x597e30(0x2d6):'';_0x525904[_0x597e30(0x2ac)]=_0x597e30(0x1e5)+_0x1ad139,_0x525904[_0x597e30(0x2cf)][_0x597e30(0x226)]=_0x9012fb+'px',_0x525904['style']['height']=Math['max'](_0x35d0cf,0x14)+'px';const _0x31b62f=clients[_0x597e30(0x262)](_0x3f4791=>_0x4365a3[_0x597e30(0x1a8)]&&String(_0x3f4791['id'])===String(_0x4365a3[_0x597e30(0x1a8)])||_0x3f4791[_0x597e30(0x234)]===_0x4365a3[_0x597e30(0x255)]),_0x170011=_0x31b62f?_0x31b62f[_0x597e30(0x1bc)]:'#0a84ff';_0x525904[_0x597e30(0x2cf)][_0x597e30(0x2cb)]=_0x170011,_0x525904[_0x597e30(0x2cf)][_0x597e30(0x2b0)]=hexToRgba(_0x170011,0.85);let _0x3f4076=_0x597e30(0x1f7)+_0x4365a3['client']+'</div><div\x20class=\x22ev-time\x22>'+_0x4365a3[_0x597e30(0x1c1)]+'\x20-\x20'+_0x4365a3[_0x597e30(0x20e)]+'</div>';return _0x4365a3[_0x597e30(0x2b3)]&&(_0x3f4076+=_0x597e30(0x17e)),_0x4365a3[_0x597e30(0x183)]===_0x597e30(0x2e2)&&(_0x3f4076+=_0x597e30(0x22f)),_0x525904[_0x597e30(0x18a)]=_0x3f4076,_0x525904['onclick']=_0x57ce8a=>{const _0x5748ff=_0x597e30;_0x57ce8a[_0x5748ff(0x288)](),openEdit(_0x4365a3);},_0x525904;}function attachLongPressHandler(_0x463869,_0x3014b1){const _0x4a8a9b=a2_0x52b704;let _0x3fd584=0x0,_0x54210d=null;const _0x5279c3=_0x51f73b=>{const _0x49fede=a2_0x130d;if(_0x51f73b['target'][_0x49fede(0x1d4)](_0x49fede(0x275)))return;isScrolling=![],_0x3fd584=_0x51f73b[_0x49fede(0x1a7)]?_0x51f73b[_0x49fede(0x1a7)][0x0]['clientY']:_0x51f73b[_0x49fede(0x203)],_0x54210d=setTimeout(()=>{const _0x644d6=_0x49fede;if(!isScrolling){navigator[_0x644d6(0x1e1)]?.(0x32);const _0x1a1aac=_0x463869[_0x644d6(0x1fd)](),_0x4073c9=Math['floor']((_0x3fd584-_0x1a1aac['top'])/GRID_H);_0x3014b1[_0x644d6(0x1a6)](_0x4073c9,0x0),openAddSession(_0x3014b1);}},0x1f4);},_0x34dbf1=()=>{isScrolling=!![],clearTimeout(_0x54210d);},_0x55ea27=()=>{clearTimeout(_0x54210d);};_0x463869[_0x4a8a9b(0x18d)](_0x4a8a9b(0x1f1),_0x5279c3,{'passive':!![]}),_0x463869['addEventListener']('touchmove',_0x34dbf1,{'passive':!![]}),_0x463869[_0x4a8a9b(0x18d)](_0x4a8a9b(0x2a8),_0x55ea27),_0x463869[_0x4a8a9b(0x18d)]('mousedown',_0x5279c3),_0x463869[_0x4a8a9b(0x18d)](_0x4a8a9b(0x22d),_0x34dbf1),_0x463869[_0x4a8a9b(0x18d)](_0x4a8a9b(0x2d1),_0x55ea27);}function a2_0x130d(_0x33dbaf,_0xbcf562){_0x33dbaf=_0x33dbaf-0x176;const _0x1eaaa6=a2_0xae37();let _0x316a79=_0x1eaaa6[_0x33dbaf];return _0x316a79;}function cancelLongPress(){}function handleInfiniteScroll(){const _0x54d4fd=a2_0x52b704,_0x36664e=document['getElementById'](_0x54d4fd(0x246)),_0x4f891f=_0x36664e[_0x54d4fd(0x292)],_0x364a76=_0x36664e[_0x54d4fd(0x2d5)],_0x315021=_0x36664e[_0x54d4fd(0x2e4)];if(_0x364a76-(_0x4f891f+_0x315021)<0x12c){const _0x47e740=endOffset;endOffset+=0xe,renderDayRange(_0x47e740+0x1,endOffset),reRenderBlocks();}if(_0x4f891f<0x12c){const _0x447d2c=startOffset;startOffset-=0xe,prependDays(startOffset,_0x447d2c-0x1),_0x36664e[_0x54d4fd(0x292)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0xbb3b28,_0x45f7d2){const _0x57b807=a2_0x52b704,_0x28e2aa=document[_0x57b807(0x2da)](_0x57b807(0x225)),_0x49d1ed=document['getElementById']('gridColumns'),_0x4e07c6=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x39fa02=new Date();_0x39fa02['setHours'](0x0,0x0,0x0,0x0);const _0x3f910e=getLocalDateStr(new Date()),_0x21189b=document[_0x57b807(0x176)](),_0x20af11=document[_0x57b807(0x176)]();for(let _0x107480=_0xbb3b28;_0x107480<=_0x45f7d2;_0x107480++){const _0x21d8eb=new Date(_0x39fa02);_0x21d8eb[_0x57b807(0x201)](_0x21d8eb['getDate']()+_0x107480);const _0x103fbf=getLocalDateStr(_0x21d8eb);let _0x1c8fdd=_0x21d8eb[_0x57b807(0x235)]()-0x1;if(_0x1c8fdd===-0x1)_0x1c8fdd=0x6;const _0x40f89e=_0x103fbf===_0x3f910e,_0x2ca906=document[_0x57b807(0x29a)](_0x57b807(0x1c2));_0x2ca906[_0x57b807(0x2ac)]=_0x57b807(0x21d)+(_0x40f89e?'today':''),_0x2ca906['id']=_0x57b807(0x1bd)+_0x103fbf,_0x2ca906[_0x57b807(0x1fc)](_0x57b807(0x1cf),_0x103fbf),_0x2ca906[_0x57b807(0x18a)]='<div\x20class=\x22dch-day\x22>'+_0x4e07c6[_0x1c8fdd]+_0x57b807(0x24a)+_0x21d8eb[_0x57b807(0x267)]()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0x103fbf+_0x57b807(0x19b),_0x2ca906[_0x57b807(0x256)]=()=>openDayOptions(_0x103fbf,_0x4e07c6[_0x1c8fdd]+'\x20'+_0x21d8eb[_0x57b807(0x267)]()),_0x21189b[_0x57b807(0x2ba)](_0x2ca906);const _0xe37c4f=document[_0x57b807(0x29a)]('div');_0xe37c4f['className']='day-column\x20'+(_0x40f89e?_0x57b807(0x270):''),_0xe37c4f[_0x57b807(0x1fc)](_0x57b807(0x1cf),_0x103fbf),_0xe37c4f[_0x57b807(0x1fc)](_0x57b807(0x185),_0x1c8fdd),renderEventsForColumn(_0xe37c4f,_0x103fbf,_0x1c8fdd),attachLongPressHandler(_0xe37c4f,_0x21d8eb),_0x20af11['appendChild'](_0xe37c4f),updateDayStats(_0x103fbf);}_0x28e2aa[_0x57b807(0x1ee)](_0x21189b,_0x28e2aa['firstChild']),_0x49d1ed['insertBefore'](_0x20af11,_0x49d1ed[_0x57b807(0x204)](_0x57b807(0x17d)));}function validateAppointment(_0x33179b,_0x287c0d,_0x1a490b,_0x442dc6,_0x376bce){const _0x3e8529=a2_0x52b704,[_0x187c8d,_0x7b9075]=_0x287c0d[_0x3e8529(0x195)](':')['map'](Number),[_0x1823d8,_0xc56b62]=_0x1a490b[_0x3e8529(0x195)](':')[_0x3e8529(0x1f9)](Number),_0x26abd3=_0x187c8d*0x3c+_0x7b9075,_0x5e5139=_0x1823d8*0x3c+_0xc56b62,_0x5d51a4=String(_0x376bce);let _0x29aabf=![],_0x39a4af='';for(let _0x436b29 of sessions){if(_0x436b29[_0x3e8529(0x23b)]!==_0x33179b)continue;if(_0x436b29[_0x3e8529(0x183)]===_0x3e8529(0x1d3))continue;if(_0x442dc6&&String(_0x436b29['id'])===String(_0x442dc6))continue;const [_0x186725,_0xa853f]=_0x436b29[_0x3e8529(0x1c1)]['split'](':')['map'](Number),[_0x3e5cf7,_0x361d0e]=_0x436b29[_0x3e8529(0x20e)][_0x3e8529(0x195)](':')[_0x3e8529(0x1f9)](Number),_0x33f59f=_0x186725*0x3c+_0xa853f,_0x48dc13=_0x3e5cf7*0x3c+_0x361d0e;if(Math[_0x3e8529(0x19a)](_0x26abd3,_0x33f59f)<Math[_0x3e8529(0x194)](_0x5e5139,_0x48dc13)){if(_0x436b29['clientId']&&String(_0x436b29['clientId'])===_0x5d51a4)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0x436b29[_0x3e8529(0x255)]+_0x3e8529(0x1e3)};_0x29aabf=!![],_0x39a4af=_0x436b29[_0x3e8529(0x255)];}}if(_0x29aabf)return{'valid':!![],'warning':_0x3e8529(0x2e0)+_0x39a4af};return{'valid':!![]};}function updateDateDisplay(){const _0x1a162c=a2_0x52b704,_0x35a32e=document[_0x1a162c(0x2da)](_0x1a162c(0x1b8))[_0x1a162c(0x231)],_0x3deb7c=document[_0x1a162c(0x2da)]('sheetDateSubtitle');if(!_0x35a32e){_0x3deb7c[_0x1a162c(0x2c0)]='';return;}const [_0x3feccf,_0x2aeb22,_0x4a4203]=_0x35a32e[_0x1a162c(0x195)]('-')[_0x1a162c(0x1f9)](Number),_0x3ac546=new Date(_0x3feccf,_0x2aeb22-0x1,_0x4a4203),_0x445ab3={'weekday':'long','day':_0x1a162c(0x1fb),'month':'long','year':_0x1a162c(0x1fb)};let _0x26bd42=_0x3ac546[_0x1a162c(0x209)](_0x1a162c(0x1a3),_0x445ab3);_0x26bd42=_0x26bd42[_0x1a162c(0x2ab)](0x0)[_0x1a162c(0x1ab)]()+_0x26bd42['slice'](0x1),_0x3deb7c[_0x1a162c(0x2c0)]=_0x26bd42;}function autoSetEndTime(){const _0x447fd9=a2_0x52b704,_0x15c37a=document[_0x447fd9(0x2da)](_0x447fd9(0x242))['value'];if(!_0x15c37a)return;const [_0x18e1bf,_0x22bef7]=_0x15c37a[_0x447fd9(0x195)](':')[_0x447fd9(0x1f9)](Number);let _0x2ecf79=_0x18e1bf+0x1;if(_0x2ecf79>0x17)_0x2ecf79=0x0;const _0x82e797=String(_0x2ecf79)[_0x447fd9(0x181)](0x2,'0')+':'+String(_0x22bef7)[_0x447fd9(0x181)](0x2,'0');document['getElementById']('inpEnd')[_0x447fd9(0x231)]=_0x82e797;}function populateClientSelect(){const _0x42919b=a2_0x52b704,_0x113f65=document['getElementById'](_0x42919b(0x1b7));_0x113f65[_0x42919b(0x18a)]='';if(clients['length']===0x0){const _0x24e81c=document[_0x42919b(0x29a)]('option');_0x24e81c[_0x42919b(0x25e)]='–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤',_0x113f65[_0x42919b(0x2ba)](_0x24e81c);return;}clients['forEach'](_0x55ef6d=>{const _0x264f0a=_0x42919b,_0xd73772=document['createElement']('option');_0xd73772[_0x264f0a(0x231)]=_0x55ef6d['name'],_0xd73772[_0x264f0a(0x2c0)]=_0x55ef6d[_0x264f0a(0x234)],_0x113f65['appendChild'](_0xd73772);});}function openActionSheet(_0x53d2f0){const _0x281096=a2_0x52b704,_0x31ac59=document['getElementById'](_0x281096(0x2d4)),_0x3742d5=document[_0x281096(0x2da)](_0x281096(0x23d)),_0x20d3db=document[_0x281096(0x2da)](_0x281096(0x24e)),_0x50868c=document[_0x281096(0x2da)](_0x281096(0x2c3)),_0x438b93=document[_0x281096(0x2da)](_0x281096(0x285));_0x3742d5['classList'][_0x281096(0x1b0)]('active'),_0x31ac59[_0x281096(0x1ef)]['add'](_0x281096(0x218));if(_0x53d2f0==='save')_0x20d3db[_0x281096(0x2c0)]=_0x281096(0x1e4),_0x50868c[_0x281096(0x2c0)]=_0x281096(0x27f),_0x50868c[_0x281096(0x256)]=()=>{const _0x1b2ca0=_0x281096;closeActionSheet(),updateSeriesBatch(_0x1b2ca0(0x2aa),tempSessionData);},_0x438b93[_0x281096(0x2c0)]=_0x281096(0x2bb),_0x438b93['onclick']=()=>{const _0x3d91db=_0x281096;closeActionSheet(),updateSeriesBatch(_0x3d91db(0x1cc),tempSessionData);};else _0x53d2f0===_0x281096(0x1f5)&&(_0x20d3db['textContent']=_0x281096(0x1a9),_0x50868c[_0x281096(0x2c0)]=_0x281096(0x27f),_0x50868c[_0x281096(0x2ac)]=_0x281096(0x1ca),_0x50868c['onclick']=()=>{const _0xabddc8=_0x281096;closeActionSheet(),commitDelete(_0xabddc8(0x2aa),sessions[_0xabddc8(0x262)](_0x590197=>_0x590197['id']===editingId));},_0x438b93[_0x281096(0x2c0)]=_0x281096(0x2bb),_0x438b93[_0x281096(0x2ac)]=_0x281096(0x17c),_0x438b93[_0x281096(0x256)]=()=>{const _0x599051=_0x281096;closeActionSheet(),commitDelete('series',sessions[_0x599051(0x262)](_0x5f420c=>_0x5f420c['id']===editingId));});}function closeActionSheet(){const _0x94438=a2_0x52b704;document[_0x94438(0x2da)](_0x94438(0x2d4))['classList']['remove'](_0x94438(0x218)),document[_0x94438(0x2da)]('actionSheetOverlay')[_0x94438(0x1ef)][_0x94438(0x26f)](_0x94438(0x178));}function openSettings(){openSheet('settingsSheet');}function saveCoachSettings(){const _0x2324ce=a2_0x52b704,_0x5f2cee=document[_0x2324ce(0x2da)]('settingCancelWindow')[_0x2324ce(0x231)];localStorage['setItem']('uc_settings_cancel_window',_0x5f2cee),console['log'](_0x2324ce(0x1dd),_0x5f2cee),DataManager['fetchFromServer'](_0x2324ce(0x179),{'settings':{'cancel_window':_0x5f2cee}})[_0x2324ce(0x259)](_0x28a8f5=>{const _0x490dbc=_0x2324ce;console[_0x490dbc(0x2be)](_0x490dbc(0x192),_0x28a8f5),showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫',![]);});}function loadCoachSettings(){const _0x421146=a2_0x52b704,_0x2f6bd8=localStorage[_0x421146(0x293)](_0x421146(0x278));_0x2f6bd8&&(document[_0x421146(0x2da)](_0x421146(0x26c))[_0x421146(0x231)]=_0x2f6bd8);}function openRangesSheet(){closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet('rangesSheet');}function addRange(){const _0x498874=a2_0x52b704,_0xe0bb02=document['getElementById']('rangeStartDate')[_0x498874(0x231)],_0x34f84f=document[_0x498874(0x2da)]('rangeStartTime')['value'],_0x53884e=document[_0x498874(0x2da)](_0x498874(0x1d1))['value'],_0x5bd7e9=document[_0x498874(0x2da)](_0x498874(0x25f))['value'];if(!_0xe0bb02||!_0x34f84f||!_0x53884e||!_0x5bd7e9)return alert(_0x498874(0x21e));const _0x5b69e2=_0xe0bb02+'T'+_0x34f84f,_0x52d552=_0x53884e+'T'+_0x5bd7e9;if(_0x5b69e2>=_0x52d552)return alert(_0x498874(0x198));specialRanges[_0x498874(0x279)]({'start':_0x5b69e2,'end':_0x52d552}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x498874(0x2a4)](),DataManager['fetchFromServer'](_0x498874(0x179),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x10c26e){const _0x32458a=a2_0x52b704;specialRanges[_0x32458a(0x2c5)](_0x10c26e,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x32458a(0x2a4)](),DataManager['fetchFromServer'](_0x32458a(0x179),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x18a007=a2_0x52b704;document['getElementById'](_0x18a007(0x17b))[_0x18a007(0x231)]='',document[_0x18a007(0x2da)](_0x18a007(0x261))[_0x18a007(0x231)]=_0x18a007(0x199),document[_0x18a007(0x2da)](_0x18a007(0x1d1))['value']='',document[_0x18a007(0x2da)](_0x18a007(0x25f))[_0x18a007(0x231)]=_0x18a007(0x184);}function renderRangesList(){const _0x1baf61=a2_0x52b704,_0x5f4b9f=document['getElementById'](_0x1baf61(0x2dd));_0x5f4b9f[_0x1baf61(0x18a)]='';if(!specialRanges[_0x1baf61(0x1b4)]){_0x5f4b9f['innerHTML']=_0x1baf61(0x1ae);return;}specialRanges[_0x1baf61(0x1a5)]((_0x5b5bf3,_0x3467f0)=>{const _0x186f21=_0x1baf61,_0x26438a=document[_0x186f21(0x29a)](_0x186f21(0x1c2));_0x26438a['className']=_0x186f21(0x27a);const _0x190d09=_0x2c440a=>{const _0x507112=_0x186f21,_0x327466=new Date(_0x2c440a);return _0x327466[_0x507112(0x267)]()+'.'+String(_0x327466[_0x507112(0x1e2)]()+0x1)[_0x507112(0x181)](0x2,'0')+'\x20'+String(_0x327466[_0x507112(0x284)]())[_0x507112(0x181)](0x2,'0')+':'+String(_0x327466[_0x507112(0x28e)]())[_0x507112(0x181)](0x2,'0');};_0x26438a['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>'+_0x190d09(_0x5b5bf3['start'])+'\x20‚Äî\x20'+_0x190d09(_0x5b5bf3[_0x186f21(0x20e)])+_0x186f21(0x297)+_0x3467f0+_0x186f21(0x26d),_0x5f4b9f[_0x186f21(0x2ba)](_0x26438a);});}function scrollToToday(){const _0x57ce01=a2_0x52b704,_0x22bc73=getLocalDateStr(new Date()),_0x5b99ff=document[_0x57ce01(0x2da)](_0x57ce01(0x1bd)+_0x22bc73),_0x398060=document[_0x57ce01(0x2da)]('matrixViewport');if(_0x5b99ff&&_0x398060){const _0x391920=_0x398060['clientWidth'],_0x37f596=_0x5b99ff[_0x57ce01(0x2bd)],_0x52cbf5=_0x5b99ff['offsetWidth'];_0x398060[_0x57ce01(0x292)]=_0x37f596-_0x391920/0x2+_0x52cbf5/0x2,_0x398060[_0x57ce01(0x260)]=0x9*GRID_H;}}function onScroll(){const _0x1d4a72=a2_0x52b704,_0x256dc5=document[_0x1d4a72(0x2da)](_0x1d4a72(0x246)),_0x5d8468=document[_0x1d4a72(0x1e6)](_0x1d4a72(0x20c));for(let _0x3167e2 of _0x5d8468)if(_0x3167e2[_0x1d4a72(0x2bd)]>=_0x256dc5[_0x1d4a72(0x292)]){const _0x4ded59=new Date(_0x3167e2['getAttribute'](_0x1d4a72(0x1cf)));document[_0x1d4a72(0x2da)](_0x1d4a72(0x2de))[_0x1d4a72(0x2c0)]=_0x4ded59[_0x1d4a72(0x2cc)]('ru',{'month':_0x1d4a72(0x23e)})[_0x1d4a72(0x1ab)]()+'\x20'+_0x4ded59[_0x1d4a72(0x232)]();break;}}function showToast(_0x1de136,_0x8c0559=![]){const _0x20ff1f=a2_0x52b704,_0x165ec5=document[_0x20ff1f(0x2da)](_0x20ff1f(0x2d3));_0x165ec5[_0x20ff1f(0x2ac)]=_0x20ff1f(0x191)+(_0x8c0559?_0x20ff1f(0x25b):''),document['getElementById']('toastTitle')[_0x20ff1f(0x2c0)]=_0x8c0559?_0x20ff1f(0x271):_0x20ff1f(0x2a2),document[_0x20ff1f(0x2da)](_0x20ff1f(0x1aa))['textContent']=_0x1de136,_0x165ec5[_0x20ff1f(0x1ef)][_0x20ff1f(0x1b0)]('show'),setTimeout(()=>{_0x165ec5['classList']['remove']('show');},0xbb8);}function openDayOptions(_0x24537f,_0x4b5141){const _0x89420a=a2_0x52b704;selectedDayForOptions=_0x24537f,document[_0x89420a(0x2da)](_0x89420a(0x20d))[_0x89420a(0x2c0)]=_0x4b5141,openSheet('dayOptionsSheet');}function toggleDayOff(){const _0x192239=a2_0x52b704;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x192239(0x28f),reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager[_0x192239(0x29b)](_0x192239(0x179),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x18f84c=a2_0x52b704;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager['fetchFromServer'](_0x18f84c(0x179),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x35d44a){const _0x1b8811=a2_0x52b704;document['getElementById']('overlay')[_0x1b8811(0x1ef)][_0x1b8811(0x1b0)](_0x1b8811(0x178)),document[_0x1b8811(0x2da)](_0x35d44a)['classList'][_0x1b8811(0x1b0)](_0x1b8811(0x218));}function closeAllSheets(){const _0x370b5e=a2_0x52b704;document[_0x370b5e(0x2da)](_0x370b5e(0x282))[_0x370b5e(0x1ef)][_0x370b5e(0x26f)]('active'),document[_0x370b5e(0x1e6)](_0x370b5e(0x26a))[_0x370b5e(0x1a5)](_0x3eebb0=>_0x3eebb0[_0x370b5e(0x1ef)][_0x370b5e(0x26f)](_0x370b5e(0x218)));}function openPatternEditor(){const _0x107391=a2_0x52b704;closeAllSheets(),document[_0x107391(0x2da)](_0x107391(0x2b1))['classList'][_0x107391(0x1b0)](_0x107391(0x218)),renderPatternEditor();}function closePatternEditor(){const _0x398f97=a2_0x52b704;document[_0x398f97(0x2da)](_0x398f97(0x2b1))[_0x398f97(0x1ef)][_0x398f97(0x26f)]('open');}function savePattern(){const _0x1fe6c7=a2_0x52b704;document[_0x1fe6c7(0x2da)](_0x1fe6c7(0x2b1))[_0x1fe6c7(0x1ef)][_0x1fe6c7(0x26f)]('open'),reRenderBlocks(),DataManager[_0x1fe6c7(0x2a4)](),DataManager[_0x1fe6c7(0x29b)](_0x1fe6c7(0x179),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x51f683=a2_0x52b704,_0x30ab6f=document[_0x51f683(0x2da)](_0x51f683(0x294));_0x30ab6f[_0x51f683(0x18a)]='';const _0x376399=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x53525c=document[_0x51f683(0x29a)](_0x51f683(0x1c2));_0x53525c[_0x51f683(0x2ac)]='pe-corner',_0x30ab6f[_0x51f683(0x2ba)](_0x53525c),_0x376399[_0x51f683(0x1a5)]((_0x39355f,_0x2f960a)=>{const _0x51d1c4=_0x51f683,_0x3e6838=document[_0x51d1c4(0x29a)](_0x51d1c4(0x1c2));_0x3e6838['className']='pe-col-header',_0x3e6838['innerHTML']=_0x39355f+_0x51d1c4(0x222),_0x3e6838[_0x51d1c4(0x256)]=()=>toggleColPattern(_0x2f960a),_0x30ab6f['appendChild'](_0x3e6838);});for(let _0x58ea3d=0x0;_0x58ea3d<0x18;_0x58ea3d++){const _0x4bf27c=document[_0x51f683(0x29a)](_0x51f683(0x1c2));_0x4bf27c[_0x51f683(0x2ac)]=_0x51f683(0x291),_0x4bf27c[_0x51f683(0x18a)]='<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>'+String(_0x58ea3d)[_0x51f683(0x181)](0x2,'0')+_0x51f683(0x2d7),_0x4bf27c[_0x51f683(0x256)]=()=>toggleRowPattern(_0x58ea3d),_0x30ab6f[_0x51f683(0x2ba)](_0x4bf27c);for(let _0x396383=0x0;_0x396383<0x7;_0x396383++){const _0x254c3d=document['createElement'](_0x51f683(0x1c2)),_0x41752e=(availabilityPattern[_0x396383]||[])[_0x51f683(0x230)](_0x58ea3d),_0x2a3b39=!_0x41752e;_0x254c3d['className']=_0x51f683(0x247)+(_0x2a3b39?_0x51f683(0x178):''),_0x254c3d[_0x51f683(0x256)]=()=>toggleSinglePattern(_0x396383,_0x58ea3d),_0x30ab6f[_0x51f683(0x2ba)](_0x254c3d);}}}function toggleSinglePattern(_0x261778,_0x47d3b2){const _0x242112=a2_0x52b704;if(!availabilityPattern[_0x261778])availabilityPattern[_0x261778]=[];const _0x4eaa36=availabilityPattern[_0x261778],_0x1ff7d4=_0x4eaa36[_0x242112(0x1ce)](_0x47d3b2);_0x1ff7d4===-0x1?_0x4eaa36[_0x242112(0x279)](_0x47d3b2):_0x4eaa36['splice'](_0x1ff7d4,0x1),renderPatternEditor();}function toggleColPattern(_0x51cf10){const _0x5c1b48=a2_0x52b704;if(!availabilityPattern[_0x51cf10])availabilityPattern[_0x51cf10]=[];const _0x15191f=availabilityPattern[_0x51cf10];_0x15191f[_0x5c1b48(0x1b4)]===0x0?availabilityPattern[_0x51cf10]=Array[_0x5c1b48(0x266)]({'length':0x18},(_0x1f1371,_0x47f43f)=>_0x47f43f):availabilityPattern[_0x51cf10]=[],renderPatternEditor();}function toggleRowPattern(_0x11d798){const _0x2defcf=a2_0x52b704;let _0x1ea695=!![];for(let _0x53a018=0x0;_0x53a018<0x7;_0x53a018++){if((availabilityPattern[_0x53a018]||[])[_0x2defcf(0x230)](_0x11d798)){_0x1ea695=![];break;}}for(let _0x3a0b7a=0x0;_0x3a0b7a<0x7;_0x3a0b7a++){if(!availabilityPattern[_0x3a0b7a])availabilityPattern[_0x3a0b7a]=[];const _0x22ee02=availabilityPattern[_0x3a0b7a][_0x2defcf(0x1ce)](_0x11d798);if(_0x1ea695){if(_0x22ee02===-0x1)availabilityPattern[_0x3a0b7a][_0x2defcf(0x279)](_0x11d798);}else{if(_0x22ee02!==-0x1)availabilityPattern[_0x3a0b7a][_0x2defcf(0x2c5)](_0x22ee02,0x1);}}renderPatternEditor();}function renderPCol(_0x1b39ae,_0x5b0df8){const _0x3e0de0=a2_0x52b704;_0x1b39ae[_0x3e0de0(0x18a)]='';const _0x5d01fb=Math[_0x3e0de0(0x276)](_0x1b39ae[_0x3e0de0(0x2bd)]);(availabilityPattern[_0x5b0df8]||[])[_0x3e0de0(0x1a5)](_0x5ddf88=>{const _0x3b09dc=_0x3e0de0,_0x455f2e=document[_0x3b09dc(0x29a)]('div');_0x455f2e[_0x3b09dc(0x2ac)]=_0x3b09dc(0x217);const _0x5e6e96=_0x5ddf88*GRID_H;_0x455f2e[_0x3b09dc(0x2cf)][_0x3b09dc(0x226)]=_0x5e6e96+'px',_0x455f2e[_0x3b09dc(0x2cf)][_0x3b09dc(0x254)]='-'+_0x5d01fb+_0x3b09dc(0x2c7)+_0x5e6e96+'px',_0x455f2e[_0x3b09dc(0x256)]=_0x1f7c31=>{const _0x25b29a=_0x3b09dc;_0x1f7c31[_0x25b29a(0x288)](),toggleSinglePattern(_0x5b0df8,_0x5ddf88);},_0x1b39ae[_0x3b09dc(0x2ba)](_0x455f2e);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x4ea354=a2_0x52b704,_0x2fdfa7=new Date(),_0x35f790=document[_0x4ea354(0x2da)](_0x4ea354(0x1ba)),_0x5cb4d6=document[_0x4ea354(0x2da)]('timeLineBadge'),_0x5ab900=(_0x2fdfa7[_0x4ea354(0x284)]()*0x3c+_0x2fdfa7['getMinutes']())/0x3c*GRID_H;_0x35f790[_0x4ea354(0x2cf)][_0x4ea354(0x226)]=_0x5ab900+'px',_0x35f790[_0x4ea354(0x2cf)][_0x4ea354(0x197)]=_0x4ea354(0x2e5),_0x5cb4d6[_0x4ea354(0x2c0)]=String(_0x2fdfa7[_0x4ea354(0x284)]())[_0x4ea354(0x181)](0x2,'0')+':'+String(_0x2fdfa7[_0x4ea354(0x28e)]())[_0x4ea354(0x181)](0x2,'0'),_0x5cb4d6['style'][_0x4ea354(0x197)]=_0x4ea354(0x2e5),_0x5cb4d6['style']['top']=_0x5ab900+'px';}document[a2_0x52b704(0x18d)](a2_0x52b704(0x283),init);function openDayOptions(_0x15f82c){const _0x3acea7=a2_0x52b704;selectedDayForOptions=_0x15f82c;const _0x140122=new Date(_0x15f82c),_0x14c306={'weekday':_0x3acea7(0x23e),'day':_0x3acea7(0x1fb),'month':'long','year':'numeric'},_0x4853a0=_0x140122[_0x3acea7(0x209)]('ru-RU',_0x14c306);document[_0x3acea7(0x2da)](_0x3acea7(0x206))[_0x3acea7(0x2c0)]=_0x4853a0[_0x3acea7(0x2ab)](0x0)[_0x3acea7(0x1ab)]()+_0x4853a0[_0x3acea7(0x2bf)](0x1);let _0xdbdaff=_0x140122[_0x3acea7(0x235)]()-0x1;if(_0xdbdaff===-0x1)_0xdbdaff=0x6;const _0x1d0a8d=availabilityPattern[_0xdbdaff]||[],_0xbdcd1=0x18-_0x1d0a8d['length'],_0x205e5c=_0xbdcd1*0x3c,_0x37b9eb=sessions[_0x3acea7(0x228)](_0xb32f2f=>_0xb32f2f[_0x3acea7(0x23b)]===_0x15f82c&&_0xb32f2f[_0x3acea7(0x183)]!==_0x3acea7(0x1d3));let _0x33dca1=_0x37b9eb[_0x3acea7(0x1f9)](_0xeeba8=>{const _0x1b6fe3=_0x3acea7,[_0x2e733f,_0x1c55a2]=_0xeeba8[_0x1b6fe3(0x1c1)][_0x1b6fe3(0x195)](':')[_0x1b6fe3(0x1f9)](Number),[_0x462cec,_0x5d91e1]=_0xeeba8[_0x1b6fe3(0x20e)]['split'](':')['map'](Number);return[_0x2e733f*0x3c+_0x1c55a2,_0x462cec*0x3c+_0x5d91e1];});_0x33dca1[_0x3acea7(0x29c)]((_0x3eee36,_0x3ec647)=>_0x3eee36[0x0]-_0x3ec647[0x0]);let _0xa326dd=[];if(_0x33dca1[_0x3acea7(0x1b4)]>0x0){let _0x2cc6db=_0x33dca1[0x0];for(let _0x3aac27=0x1;_0x3aac27<_0x33dca1['length'];_0x3aac27++){_0x33dca1[_0x3aac27][0x0]<_0x2cc6db[0x1]?_0x2cc6db[0x1]=Math[_0x3acea7(0x19a)](_0x2cc6db[0x1],_0x33dca1[_0x3aac27][0x1]):(_0xa326dd[_0x3acea7(0x279)](_0x2cc6db),_0x2cc6db=_0x33dca1[_0x3aac27]);}_0xa326dd['push'](_0x2cc6db);}let _0x10d27b=0x0;_0xa326dd[_0x3acea7(0x1a5)](_0x4f4cf3=>_0x10d27b+=_0x4f4cf3[0x1]-_0x4f4cf3[0x0]),document[_0x3acea7(0x2da)](_0x3acea7(0x280))[_0x3acea7(0x2c0)]=formatMinsToHrs(_0x205e5c),document['getElementById'](_0x3acea7(0x19d))[_0x3acea7(0x2c0)]=formatMinsToHrs(_0x10d27b);const _0x2660f9=_0x205e5c>0x0?Math[_0x3acea7(0x276)](_0x10d27b/_0x205e5c*0x64):0x0,_0x5219ea=document[_0x3acea7(0x2da)]('doLoadPercent');_0x5219ea[_0x3acea7(0x2c0)]=_0x2660f9+'%';const _0xadee74=document[_0x3acea7(0x2da)](_0x3acea7(0x2b5));if(_0x2660f9>0x64)_0x5219ea[_0x3acea7(0x2cf)]['color']=_0x3acea7(0x1bf),_0xadee74['style']['borderColor']=_0x3acea7(0x1b6);else _0x2660f9>0x50?(_0x5219ea[_0x3acea7(0x2cf)]['color']=_0x3acea7(0x205),_0xadee74[_0x3acea7(0x2cf)][_0x3acea7(0x187)]=_0x3acea7(0x1b3)):(_0x5219ea[_0x3acea7(0x2cf)]['color']='var(--acc-green)',_0xadee74[_0x3acea7(0x2cf)][_0x3acea7(0x187)]='rgba(255,255,255,0.05)');const _0x234317=document['getElementById'](_0x3acea7(0x22e));_0x234317['innerHTML']='';_0x37b9eb[_0x3acea7(0x1b4)]===0x0?_0x234317[_0x3acea7(0x18a)]='<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>':(_0x37b9eb[_0x3acea7(0x29c)]((_0x116bfe,_0x490736)=>_0x116bfe[_0x3acea7(0x1c1)][_0x3acea7(0x2b8)](_0x490736[_0x3acea7(0x1c1)])),_0x37b9eb[_0x3acea7(0x1a5)](_0x51948c=>{const _0x16600b=_0x3acea7,_0x3551e8=clients[_0x16600b(0x262)](_0x4f4b13=>_0x4f4b13[_0x16600b(0x234)]===_0x51948c[_0x16600b(0x255)]),_0x3dee27=_0x3551e8?_0x3551e8['color']:_0x16600b(0x22a),_0x277ac3=_0x51948c[_0x16600b(0x183)]===_0x16600b(0x2e2),_0xd216e3=_0x277ac3?'<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>':'',_0xa8ad4=document['createElement'](_0x16600b(0x1c2));_0xa8ad4[_0x16600b(0x2ac)]=_0x16600b(0x295),_0xa8ad4['style'][_0x16600b(0x2cb)]=_0x3dee27,_0xa8ad4[_0x16600b(0x18a)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>'+_0x51948c['start']+_0x16600b(0x2b2)+_0x51948c[_0x16600b(0x20e)]+_0x16600b(0x27c)+_0x51948c[_0x16600b(0x255)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xd216e3+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x234317[_0x16600b(0x2ba)](_0xa8ad4);}));const _0x470c3b=document[_0x3acea7(0x2da)](_0x3acea7(0x215)),_0x518c48=dateExceptions[_0x15f82c]===_0x3acea7(0x28f);_0x518c48?(_0x470c3b[_0x3acea7(0x2c0)]='–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º',_0x470c3b[_0x3acea7(0x2ac)]='btn-primary\x20btn-secondary',_0x470c3b['style']['color']=_0x3acea7(0x1dc),_0x470c3b['style'][_0x3acea7(0x21a)]='rgba(48,\x20209,\x2088,\x200.15)'):(_0x470c3b[_0x3acea7(0x2c0)]=_0x3acea7(0x264),_0x470c3b[_0x3acea7(0x2ac)]=_0x3acea7(0x1a0),_0x470c3b[_0x3acea7(0x2cf)]['color']=_0x3acea7(0x1bf),_0x470c3b[_0x3acea7(0x2cf)][_0x3acea7(0x21a)]=_0x3acea7(0x239)),openSheet(_0x3acea7(0x219));}let currentAnPeriod=a2_0x52b704(0x2a5);function openAnalytics(){const _0x152580=a2_0x52b704,_0x5510f3=document[_0x152580(0x204)](_0x152580(0x2db));setAnalyticsPeriod('week',_0x5510f3),closeAllSheets(),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x5db7cb,_0x3c25fb){const _0x239bc4=a2_0x52b704;currentAnPeriod=_0x5db7cb,document['querySelectorAll'](_0x239bc4(0x2db))[_0x239bc4(0x1a5)](_0x140a56=>_0x140a56[_0x239bc4(0x1ef)]['remove'](_0x239bc4(0x178)));if(_0x3c25fb)_0x3c25fb[_0x239bc4(0x1ef)]['add'](_0x239bc4(0x178));const _0x531071=document['getElementById'](_0x239bc4(0x27d));_0x531071[_0x239bc4(0x2cf)]['display']=_0x5db7cb===_0x239bc4(0x1c5)?_0x239bc4(0x28d):'none';const _0x14dab7=new Date();let _0x4a2458=new Date(),_0x17613e=new Date();if(_0x5db7cb===_0x239bc4(0x2a5))_0x4a2458=getStartOfWeek(_0x14dab7),_0x17613e=new Date(_0x4a2458),_0x17613e[_0x239bc4(0x201)](_0x17613e[_0x239bc4(0x267)]()+0x6);else{if(_0x5db7cb===_0x239bc4(0x213))_0x4a2458=new Date(_0x14dab7[_0x239bc4(0x232)](),_0x14dab7[_0x239bc4(0x1e2)](),0x1),_0x17613e=new Date(_0x14dab7[_0x239bc4(0x232)](),_0x14dab7[_0x239bc4(0x1e2)]()+0x1,0x0);else{!document['getElementById'](_0x239bc4(0x269))[_0x239bc4(0x231)]&&(document[_0x239bc4(0x2da)](_0x239bc4(0x269))[_0x239bc4(0x231)]=getLocalDateStr(_0x14dab7),document[_0x239bc4(0x2da)](_0x239bc4(0x200))[_0x239bc4(0x231)]=getLocalDateStr(_0x14dab7));refreshAnalytics();return;}}document[_0x239bc4(0x2da)]('anStart')[_0x239bc4(0x231)]=getLocalDateStr(_0x4a2458),document[_0x239bc4(0x2da)](_0x239bc4(0x200))[_0x239bc4(0x231)]=getLocalDateStr(_0x17613e),refreshAnalytics();}function refreshAnalytics(){const _0x4c993a=a2_0x52b704,_0x3234cb=document[_0x4c993a(0x2da)](_0x4c993a(0x269))[_0x4c993a(0x231)],_0x4512e4=document[_0x4c993a(0x2da)]('anEnd')['value'];if(!_0x3234cb||!_0x4512e4)return;const _0x2bc1d5=sessions['filter'](_0x44d13d=>_0x44d13d['dateStr']>=_0x3234cb&&_0x44d13d[_0x4c993a(0x23b)]<=_0x4512e4&&_0x44d13d[_0x4c993a(0x183)]!=='cancelled'),_0x223794=_0x2bc1d5[_0x4c993a(0x1b4)],_0x45c3bf=_0x2bc1d5[_0x4c993a(0x228)](_0x192bec=>_0x192bec[_0x4c993a(0x183)]===_0x4c993a(0x2e2))[_0x4c993a(0x1b4)],_0x37babf=_0x223794>0x0?Math['round'](_0x45c3bf/_0x223794*0x64):0x0;document[_0x4c993a(0x2da)]('anPercent')[_0x4c993a(0x2c0)]=_0x37babf+'%',document[_0x4c993a(0x2da)](_0x4c993a(0x1fa))[_0x4c993a(0x2c0)]=_0x45c3bf+_0x4c993a(0x241)+_0x223794+'\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ';const _0x471a5b=document[_0x4c993a(0x2da)](_0x4c993a(0x28c)),_0x157157=0x2*Math['PI']*0x23,_0x21784b=_0x157157-_0x37babf/0x64*_0x157157;_0x471a5b[_0x4c993a(0x2cf)][_0x4c993a(0x2e3)]=_0x21784b;const _0x47fe07={};_0x2bc1d5[_0x4c993a(0x1a5)](_0x2f6434=>{const _0x5aac2c=_0x4c993a;if(!_0x47fe07[_0x2f6434[_0x5aac2c(0x255)]]){const _0x3bb655=clients[_0x5aac2c(0x262)](_0xbc6b9b=>_0xbc6b9b['name']===_0x2f6434[_0x5aac2c(0x255)]);_0x47fe07[_0x2f6434[_0x5aac2c(0x255)]]={'total':0x0,'done':0x0,'color':_0x3bb655?_0x3bb655[_0x5aac2c(0x1bc)]:_0x5aac2c(0x22a)};}_0x47fe07[_0x2f6434[_0x5aac2c(0x255)]][_0x5aac2c(0x1c4)]++;if(_0x2f6434[_0x5aac2c(0x183)]===_0x5aac2c(0x2e2))_0x47fe07[_0x2f6434[_0x5aac2c(0x255)]][_0x5aac2c(0x1c3)]++;});const _0x5bf5e7=document['getElementById']('analyticsList');_0x5bf5e7[_0x4c993a(0x18a)]='';const _0x5692db=Object[_0x4c993a(0x237)](_0x47fe07)[_0x4c993a(0x29c)]((_0x2251b6,_0x2a62be)=>_0x2a62be[0x1]['total']-_0x2251b6[0x1][_0x4c993a(0x1c4)]);if(_0x5692db[_0x4c993a(0x1b4)]===0x0){_0x5bf5e7[_0x4c993a(0x18a)]=_0x4c993a(0x2c6);return;}_0x5692db[_0x4c993a(0x1a5)](([_0x337e56,_0x4596fa])=>{const _0x462448=_0x4c993a,_0x3a140f=Math[_0x462448(0x276)](_0x4596fa['done']/_0x4596fa[_0x462448(0x1c4)]*0x64),_0x1bce40=document[_0x462448(0x29a)](_0x462448(0x1c2));_0x1bce40[_0x462448(0x2ac)]='client-stat-card',_0x1bce40[_0x462448(0x2cf)][_0x462448(0x2cb)]=_0x4596fa['color'],_0x1bce40[_0x462448(0x18a)]=_0x462448(0x2c1)+_0x337e56+_0x462448(0x1f8)+_0x4596fa[_0x462448(0x1c3)]+_0x462448(0x2c9)+_0x4596fa[_0x462448(0x1c4)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x3a140f+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x5bf5e7[_0x462448(0x2ba)](_0x1bce40);});}function a2_0xae37(){const _0x48f78c=['...','asBtnOne','.dch-stats-fill','splice','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','px\x20-','checked','</span>\x20/\x20','[API\x20','borderLeftColor','toLocaleString','blocked-range-part\x20stripe-bg','100%','style','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','mouseup','T00:00:00','toast','actionSheet','scrollWidth','\x20status-completed',':00','btnStatusToggle','keys','getElementById','.period-switch\x20.p-btn','gridColumns','rangesList','headerMonth','inpNote','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','completed','strokeDashoffset','clientWidth','block','seriesCountContainer','createDocumentFragment','setBackgroundColor','active','save_settings','[Notify]\x20Attempting\x20to\x20send:','rangeStartDate','as-button\x20danger\x20bold','.day-column','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','getText','261RLUEgo','padStart','scroll','status','23:59','data-day-idx','9830681YbVWqK','borderColor','btnDelete','syncLoad','innerHTML','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','settings','addEventListener','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','toast-notification\x20','Save\x20settings\x20error:','random','min','split','.pib-text','display','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','00:00','max','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','btn-status-toggle\x20undo-mode','doBusyHours','location','14376740EjYiaH','btn-primary\x20btn-danger','data','inpRecurring','ru-RU','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','forEach','setHours','touches','clientId','–£–¥–∞–ª–µ–Ω–∏–µ','toastMessage','toUpperCase','deleted','10px\x2010px\x200\x200','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','send','add','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','create','rgba(255,\x20159,\x2010,\x200.3)','length','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','rgba(255,\x2069,\x2058,\x200.3)','inpClient','inpDate','280976TsJflw','globalTimeLine',':\x20Client\x20already\x20booked','color','header-',']\x20Failed:','var(--acc-red)','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','start','div','done','total','custom','10yOYlKM','day-off-overlay\x20stripe-bg','var(--acc-current)','router.html','as-button\x20danger','complete','series','btn-status-toggle','indexOf','data-date','calc(','rangeEndDate','json','cancelled','closest','Server\x20Error','8XMbWFE','pattern','#gridColumns\x20.day-column','rgba(','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','880623JRXiTq','var(--acc-green)','[Settings]\x20Cancel\x20window\x20set\x20to:','[Notify]\x20Client\x20SWAP\x20detected','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','vibrate','getMonth',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','event-card','querySelectorAll','zIndex','getTime','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','stringify','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','[Notify]\x20Error:\x20Text\x20generation\x20failed','uc_sessions_v9','insertBefore','classList','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','touchstart','update','cancel','cancel_window','delete','#050505','<div\x20class=\x22ev-title\x22>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','map','anTotalStats','numeric','setAttribute','getBoundingClientRect','setItem','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','anEnd','setDate','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','clientY','querySelector','var(--acc-orange)','doDateHeader','(((.+)+)+)+$','clients','toLocaleDateString','setHeaderColor','initDataUnsafe','.day-col-header','dayOptionsTitle','end','formatDate','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','inpEnd','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','month','sid','btnDayToggle','floor','blocked-slot\x20stripe-bg','open','dayOptionsSheet','background','msg','null','day-col-header\x20','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','colIndex',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','POST','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','onClick','valid','daysHeaderTrack','top','guest','filter','%\x20-\x204px)','#fff','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','Telegram','mousemove','doEventsList','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','includes','value','getFullYear','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','name','getDay','Local\x20Load\x20Error','entries',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','rgba(255,\x2069,\x2058,\x200.15)','.day-off-overlay','dateStr','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','actionSheetOverlay','long','10px','exceptions','\x20–∏–∑\x20','inpStart','disableVerticalSwipes','calendar','sheetTitle','matrixViewport','pe-cell\x20','user','[Notify]\x20Network\x20Failed','</div><div\x20class=\x22dch-num\x22>','search','5913972bzDhVK','recurringOptionContainer','asTitle','width','toFixed','warning','syncBatch','BackButton','backgroundPosition','client','onclick','init_load','text/plain;charset=UTF-8','catch','patternInfoBox','success','parse','warn','text','rangeEndTime','scrollTop','rangeStartTime','find','note','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','Batch\x20Sync\x20OK','from','getDate','ready','anStart','.sheet','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','settingCancelWindow',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','log','remove','today','–£—Å–ø–µ—à–Ω–æ','left','\x20‚Äî\x20','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','.event-card','round','day-column\x20','uc_settings_cancel_window','push','range-item','none','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','anCustomDates','now','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','doWorkHours','href','overlay','DOMContentLoaded','getHours','asBtnSeries','ranges','setMonth','stopPropagation','v9.0-BATCH-CALENDAR','save','getAttribute','anDonutCircle','flex','getMinutes','off','WebApp','pe-time-label','scrollLeft','getItem','peGrid','de-item','6619660qhLeGE','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','toString','undefined','createElement','fetchFromServer','sort','startsWith','sessionSheet','inpSeriesCount','offClick','uc_settings_v9','–ò–Ω—Ñ–æ','Error\x20setting\x20back\x20button:','saveLocally','week','</b>\x0a\x0a','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','touchend','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','single','charAt','className','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','T23:59:59','backgroundColor','patternEditor','\x20-\x20','seriesId','mini','statLoadCard','expand','mergeServerData','localeCompare','planned','appendChild','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','4132hUSPgt','offsetLeft','error','slice','textContent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>'];a2_0xae37=function(){return _0x48f78c;};return a2_0xae37();}function formatMinsToHrs(_0x2adf37){const _0x2eac5b=a2_0x52b704;if(_0x2adf37===0x0)return'0';const _0x43ab0e=Math[_0x2eac5b(0x216)](_0x2adf37/0x3c),_0xaa0bcc=_0x2adf37%0x3c;if(_0xaa0bcc===0x0)return _0x43ab0e+'—á';return _0x43ab0e+'—á\x20'+_0xaa0bcc+'–º';}