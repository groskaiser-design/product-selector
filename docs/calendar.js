const a2_0x58fa9b=a2_0x355f;(function(_0x57f453,_0x5070a7){const _0x54d27e=a2_0x355f,_0x15d889=_0x57f453();while(!![]){try{const _0x4a38e8=parseInt(_0x54d27e(0x94))/0x1+parseInt(_0x54d27e(0x11a))/0x2+-parseInt(_0x54d27e(0xa7))/0x3*(parseInt(_0x54d27e(0x85))/0x4)+-parseInt(_0x54d27e(0x161))/0x5*(parseInt(_0x54d27e(0x126))/0x6)+parseInt(_0x54d27e(0xe5))/0x7*(parseInt(_0x54d27e(0x86))/0x8)+-parseInt(_0x54d27e(0xad))/0x9+-parseInt(_0x54d27e(0x10f))/0xa*(-parseInt(_0x54d27e(0x1d4))/0xb);if(_0x4a38e8===_0x5070a7)break;else _0x15d889['push'](_0x15d889['shift']());}catch(_0x2d1fb9){_0x15d889['push'](_0x15d889['shift']());}}}(a2_0x4dec,0x44024),function initTMA(){const _0x3432e3=a2_0x355f,_0x5b6f94=(function(){let _0x4c5c83=!![];return function(_0x3c39eb,_0x5612c8){const _0x59de75=_0x4c5c83?function(){const _0x393107=a2_0x355f;if(_0x5612c8){const _0x7894e9=_0x5612c8[_0x393107(0x195)](_0x3c39eb,arguments);return _0x5612c8=null,_0x7894e9;}}:function(){};return _0x4c5c83=![],_0x59de75;};}()),_0x419e3b=_0x5b6f94(this,function(){const _0x90bef4=a2_0x355f;return _0x419e3b[_0x90bef4(0xce)]()[_0x90bef4(0x1e9)]('(((.+)+)+)+$')[_0x90bef4(0xce)]()[_0x90bef4(0x1fd)](_0x419e3b)[_0x90bef4(0x1e9)]('(((.+)+)+)+$');});_0x419e3b();try{const _0x5ea9b2=window['Telegram']?.[_0x3432e3(0x1b3)];if(!_0x5ea9b2)return;_0x5ea9b2[_0x3432e3(0x1e3)](),_0x5ea9b2[_0x3432e3(0x90)]();try{_0x5ea9b2[_0x3432e3(0x102)](_0x3432e3(0x14e)),_0x5ea9b2['setBackgroundColor']&&_0x5ea9b2[_0x3432e3(0xc1)](_0x3432e3(0x14e));}catch(_0x2e86c6){console[_0x3432e3(0x103)](_0x3432e3(0xc6),_0x2e86c6);}try{_0x5ea9b2[_0x3432e3(0x170)]&&(_0x5ea9b2[_0x3432e3(0x170)]['show'](),_0x5ea9b2['BackButton']['offClick'](),_0x5ea9b2[_0x3432e3(0x170)][_0x3432e3(0x120)](function(){const _0x564540=_0x3432e3;window[_0x564540(0x88)][_0x564540(0x124)]=_0x564540(0x1eb);}));}catch(_0x222148){console['log']('Error\x20setting\x20back\x20button:',_0x222148);}try{if(_0x5ea9b2[_0x3432e3(0xcc)])_0x5ea9b2[_0x3432e3(0xcc)]();}catch(_0x234a13){}}catch(_0x498c94){console[_0x3432e3(0x203)](_0x3432e3(0x83),_0x498c94);}}());function isAdmin(){const _0x49b513=a2_0x355f;try{const _0x28e86f=Number(window[_0x49b513(0x98)]?.[_0x49b513(0x1b3)]?.[_0x49b513(0x1bd)]?.[_0x49b513(0x169)]?.['id']);return _0x28e86f===0xbaf7174;}catch(_0x5ddadc){return![];}}function a2_0x4dec(){const _0x571329=['getItem','end','Local\x20Load\x20Error','rgba(255,\x20159,\x2010,\x200.3)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getMinutes','inpNote','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','10px\x2010px\x200\x200','20Lnpuno','numeric','seriesId','vibrate','entries','series','loadLocal','rgba(255,\x2069,\x2058,\x200.3)','inpDate','touchmove','syncBatch','767248CgeFlc','innerHTML','rangeEndTime','[Series]\x20Skipped\x20','touchend','%\x20-\x204px)','onClick','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','doEventsList','null','href','getFullYear','6xYclPU','addEventListener','toFixed','scrollWidth','initData','T23:59:59','#fff','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','[Notify]\x20Attempting\x20to\x20send:','borderLeftColor','anCustomDates','setAttribute','map','</span>\x20/\x20','json','saveLocally','\x20status-completed',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','00:00','className','ru-RU','patternInfoBox','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','backgroundPosition','getDate','formatDate','settingCancelWindow','inpClient','anStart','name','[Sync]\x20Loading\x20','23:59',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','stopPropagation','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','day-col-header\x20','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','time-label','10px','#050505','.day-col-header','day-column\x20','btn-primary\x20btn-secondary','sheetTitle','<b>‚úÖ\x20','push','max','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','[Settings]\x20Cancel\x20window\x20set\x20to:','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','–£–¥–∞–ª–µ–Ω–∏–µ','borderColor','init_load','uc_sessions_v9','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','asBtnOne','floor','var(--acc-current)','717070aajmQB','padStart','parse','toast-notification\x20','uc_settings_v9','localeCompare','rangeStartDate','#0a84ff','user','range-item','cancel','getHours','none','now','sessionSheet','BackButton','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','slice','sid','month','today','getElementById','off','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','div','recurringOptionContainer','querySelectorAll','matrixViewport','anDonutCircle','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','btn-primary\x20btn-danger','remove','send_notification','[Notify]\x20Error:\x20Text\x20generation\x20failed','actionSheetOverlay','gridColumns','status','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','value','.period-switch\x20.p-btn','zIndex','borderRadius','top','delete','send','inpStart','textContent','var(--acc-red)','start','apply','find','insertBefore','day-off-overlay\x20stripe-bg','sort','overlay','POST','headerMonth','</div><div\x20class=\x22dch-num\x22>','pattern','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','[Notify]\x20Detected\x20Client\x20ID:','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','cancelled','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','getBoundingClientRect','getTime','clientY','createElement','<div\x20class=\x22dch-day\x22>','clientId','mini','btn-status-toggle','random','planned','setHours','onclick','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','appendChild','[Notify]\x20Client\x20SWAP\x20detected','WebApp','\x20‚Äî\x20','target','exceptions','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','indexOf','var(--acc-orange)','–ò–Ω—Ñ–æ','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','forEach','initDataUnsafe','rgba(255,255,255,0.05)','classList','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','btnDelete','<div\x20class=\x22ev-title\x22>','splice','clients','querySelector','guest','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','getDay','week','[Notify]\x20Error:\x20sessionData\x20is\x20null','valid','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','calc(','scrollLeft','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','as-button\x20danger\x20bold','cancel_window','data-day-idx','1586530RhvNmM','blocked-range-part\x20stripe-bg','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','<span>','header-','update','rgba(48,\x20209,\x2088,\x200.15)','as-button\x20danger','px\x20-','pe-cell\x20','daysHeaderTrack','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','patternEditor','asBtnSeries','btnStatusToggle','ready','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','pe-corner','min','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','style','search','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','router.html','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','backgroundColor','.event-card','rangesList','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','rangeStartTime','–£—Å–ø–µ—à–Ω–æ','catch','custom','.dch-stats-fill','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','length','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','done','fetchFromServer','.day-column','[Notify]\x20Network\x20Failed','constructor','offsetLeft','color','flex','stringify','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','error','inpSeriesCount','touches','includes',':\x20Client\x20already\x20booked','add','actionSheet','</div>','doLoadPercent','px\x200px','Critical\x20TMA\x20Error:','analyticsSheet','84vrGMNk','72kvgtzu','dayOptionsSheet','location','deleted','keys','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','toastMessage','seriesCountContainer','client','expand','closest','complete',']\x20Failed:','103720dKhHFL','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','doDateHeader','height','Telegram','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','getAttribute','save_settings',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','warning','long','mousedown','batch_sync','toLocaleDateString','width','.sheet','uc_settings_cancel_window','56871BNIoOM','anPercent','note','anEnd','checked','var(--acc-green)','443799lpjekc','colIndex','create','clientWidth','Unknown','show','mergeServerData','substr','.pib-text','text','createDocumentFragment','open','split','client-stat-card','calendar','findIndex','.day-off-overlay',':00</span>','ranges','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','setBackgroundColor','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','inpEnd','v9.0-BATCH-CALENDAR','Error\x20setting\x20color:','getMonth','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','stat-','globalTimeLine','toast','disableVerticalSwipes','save','toString','rangeEndDate','filter','btnDayToggle','btn-status-toggle\x20undo-mode','blocked-slot\x20stripe-bg','completed','display','rgba(100,100,100,0.5)','setItem','toUpperCase','doWorkHours','</b>\x0a\x0a','Batch\x20Sync\x20OK','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','dateStr','DOMContentLoaded','option','inpRecurring','doBusyHours','background','uc_clients_v9','block','72786XQSlfs','data-date','all','toLocaleString','msg','data','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','then','single','active','\x20days','timeLineBadge','...','setDate','event-card','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','Server\x20Error','%\x20+\x202px)','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','rgba(','round','getText','success','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','100%','\x20-\x20','dayOptionsTitle','settings','total','setHeaderColor','log','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20'];a2_0x4dec=function(){return _0x571329;};return a2_0x4dec();}const APP_VERSION=a2_0x58fa9b(0xc5),API_URL=a2_0x58fa9b(0x1ea),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x58fa9b(0xe3),KEY_SESSIONS=a2_0x58fa9b(0x15c),KEY_SETTINGS=a2_0x58fa9b(0x165);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x946a48=a2_0x58fa9b;return window[_0x946a48(0x98)]?.[_0x946a48(0x1b3)]?.[_0x946a48(0x1bd)]?.[_0x946a48(0x169)]?.['id']||_0x946a48(0x1c6);},'saveLocally'(){const _0x11078f=a2_0x58fa9b;try{localStorage[_0x11078f(0xd7)](KEY_CLIENTS,JSON[_0x11078f(0x201)](clients)),localStorage['setItem'](KEY_SESSIONS,JSON[_0x11078f(0x201)](sessions)),localStorage[_0x11078f(0xd7)](KEY_SETTINGS,JSON[_0x11078f(0x201)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x13c69b){console[_0x11078f(0x203)]('Local\x20Save\x20Error',_0x13c69b);}},'loadLocal'(){const _0x3dcdff=a2_0x58fa9b;try{const _0x30a601=localStorage['getItem'](KEY_CLIENTS);if(_0x30a601)clients=JSON[_0x3dcdff(0x163)](_0x30a601);const _0x454c07=localStorage[_0x3dcdff(0x106)](KEY_SESSIONS);if(_0x454c07)sessions=JSON[_0x3dcdff(0x163)](_0x454c07);const _0x58b273=localStorage['getItem'](KEY_SETTINGS);if(_0x58b273){const _0x18c7c4=JSON['parse'](_0x58b273);if(_0x18c7c4[_0x3dcdff(0x19e)])availabilityPattern=_0x18c7c4[_0x3dcdff(0x19e)];if(_0x18c7c4[_0x3dcdff(0x1b6)])dateExceptions=_0x18c7c4['exceptions'];if(_0x18c7c4[_0x3dcdff(0xbf)])specialRanges=_0x18c7c4[_0x3dcdff(0xbf)];}else{for(let _0x216485=0x0;_0x216485<0x7;_0x216485++)availabilityPattern[_0x216485]=Array['from']({'length':0xc},(_0x19be27,_0x2ab955)=>_0x2ab955+0x9);}}catch(_0x365647){console[_0x3dcdff(0x203)](_0x3dcdff(0x108),_0x365647);}},async 'fetchFromServer'(_0x339b1d,_0x4395d6={}){const _0x4d7eff=a2_0x58fa9b,_0x2e8df7=window[_0x4d7eff(0x98)]?.[_0x4d7eff(0x1b3)],_0x5d6bc6={'action':_0x339b1d,'init_data':_0x2e8df7?.[_0x4d7eff(0x12a)]||'',..._0x4395d6};try{const _0x462627=await fetch(API_URL,{'method':_0x4d7eff(0x19b),'headers':{'Content-Type':'text/plain;charset=UTF-8'},'body':JSON[_0x4d7eff(0x201)](_0x5d6bc6)}),_0xad1f51=await _0x462627[_0x4d7eff(0x134)]();if(!_0xad1f51['ok'])throw new Error(_0xad1f51['error']||_0x4d7eff(0xf5));return _0xad1f51[_0x4d7eff(0xea)];}catch(_0x2456fc){console[_0x4d7eff(0x203)]('[API\x20'+_0x339b1d+_0x4d7eff(0x93),_0x2456fc);throw _0x2456fc;}},async 'syncLoad'(){const _0x24de11=a2_0x58fa9b,_0x2c3671=new Date(),_0x2235f9=_0x2c3671[_0x24de11(0x125)]()+'-'+String(_0x2c3671[_0x24de11(0xc7)]()+0x1)[_0x24de11(0x162)](0x2,'0'),_0x434d6d=new Date(_0x2c3671);_0x434d6d['setMonth'](_0x2c3671[_0x24de11(0xc7)]()+0x1);const _0x239850=_0x434d6d[_0x24de11(0x125)]()+'-'+String(_0x434d6d[_0x24de11(0xc7)]()+0x1)['padStart'](0x2,'0'),_0xfae1bc=Date[_0x24de11(0x16e)]();console['log'](_0x24de11(0x145)+_0x2235f9+',\x20'+_0x239850+'...');try{const [_0xda73e1,_0x402afb]=await Promise[_0x24de11(0xe7)]([this[_0x24de11(0x1fa)](_0x24de11(0x15b),{'month_str':_0x2235f9}),this['fetchFromServer']('init_load',{'month_str':_0x239850})]);if(lastUserActionTime>_0xfae1bc)return console['warn'](_0x24de11(0x1f6)),![];return this[_0x24de11(0xb3)](_0xda73e1,_0x2235f9),this[_0x24de11(0xb3)](_0x402afb,_0x239850),this[_0x24de11(0x135)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x4f668a){console[_0x24de11(0x203)](_0x4f668a);throw _0x4f668a;}},'mergeServerData'(_0x56a6af,_0x48b0f9){const _0x2c791e=a2_0x58fa9b;if(!_0x56a6af)return;_0x56a6af[_0x2c791e(0x1c4)]&&Array['isArray'](_0x56a6af[_0x2c791e(0x1c4)])&&(clients=_0x56a6af[_0x2c791e(0x1c4)]);if(_0x56a6af[_0x2c791e(0x100)]){if(_0x56a6af[_0x2c791e(0x100)][_0x2c791e(0x19e)])availabilityPattern=_0x56a6af['settings'][_0x2c791e(0x19e)];if(_0x56a6af[_0x2c791e(0x100)]['exceptions'])dateExceptions=_0x56a6af[_0x2c791e(0x100)][_0x2c791e(0x1b6)];if(_0x56a6af[_0x2c791e(0x100)]['ranges'])specialRanges=_0x56a6af[_0x2c791e(0x100)][_0x2c791e(0xbf)];if(_0x56a6af[_0x2c791e(0x100)][_0x2c791e(0x1d2)]){localStorage[_0x2c791e(0xd7)]('uc_settings_cancel_window',_0x56a6af['settings'][_0x2c791e(0x1d2)]);const _0x14b1f5=document[_0x2c791e(0x176)](_0x2c791e(0x141));if(_0x14b1f5)_0x14b1f5[_0x2c791e(0x18a)]=_0x56a6af['settings']['cancel_window'];}}_0x56a6af['calendar']&&(sessions=sessions['filter'](_0xf41cc8=>!_0xf41cc8['dateStr']['startsWith'](_0x48b0f9)),Object[_0x2c791e(0x8a)](_0x56a6af[_0x2c791e(0xbb)])[_0x2c791e(0x1bc)](_0x2944dc=>{const _0x1f414d=_0x2c791e,_0x53e85e=_0x56a6af[_0x1f414d(0xbb)][_0x2944dc];_0x53e85e[_0x1f414d(0x1bc)](_0x398316=>{const _0x1da905=_0x1f414d,_0x4f628d=clients['find'](_0x345812=>String(_0x345812['id'])===String(_0x398316['c']));sessions[_0x1da905(0x154)]({'id':_0x398316['i'],'clientId':_0x398316['c'],'client':_0x4f628d?_0x4f628d[_0x1da905(0x144)]:_0x1da905(0xb1),'dateStr':_0x48b0f9+'-'+_0x2944dc['padStart'](0x2,'0'),'start':_0x398316['s'],'end':_0x398316['e'],'status':_0x398316['st']||_0x1da905(0x1ad),'note':_0x398316['n']||'','seriesId':_0x398316[_0x1da905(0x173)]||null});});}));},async 'syncBatch'(_0x148d56){const _0x55d606=a2_0x58fa9b,_0x1ea769=[...new Set(_0x148d56)],_0x5299af=_0x1ea769[_0x55d606(0x132)](_0x49d84a=>{const _0xb3bc55=_0x55d606,_0x1e7de1=sessions[_0xb3bc55(0xd0)](_0x261f21=>_0x261f21[_0xb3bc55(0xdd)]===_0x49d84a&&_0x261f21['status']!==_0xb3bc55(0x89)),_0x4c16c4=_0x1e7de1[_0xb3bc55(0x132)](_0x320a11=>({'i':_0x320a11['id'],'c':_0x320a11['clientId'],'s':_0x320a11[_0xb3bc55(0x194)],'e':_0x320a11[_0xb3bc55(0x107)],'st':_0x320a11['status'],'n':_0x320a11[_0xb3bc55(0xa9)],'sid':_0x320a11['seriesId']}));return{'date':_0x49d84a,'day_data':_0x4c16c4};});if(_0x5299af['length']===0x0)return;console['log'](_0x55d606(0x1ec)+_0x5299af[_0x55d606(0x1f7)]+_0x55d606(0xef)),await this[_0x55d606(0x1fa)](_0x55d606(0xa2),{'changes':_0x5299af});}};async function init(){const _0x498da4=a2_0x58fa9b;DataManager[_0x498da4(0x115)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x498da4(0x176)]('matrixViewport')[_0x498da4(0x127)]('scroll',()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']()[_0x498da4(0xec)](()=>{showToast('–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ',!![]);})[_0x498da4(0x1f3)](_0x406968=>{showToast('–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º',![]);});}function generateId(){const _0x6184b=a2_0x58fa9b;return Date[_0x6184b(0x16e)]()[_0x6184b(0xce)](0x24)+Math[_0x6184b(0x1ac)]()[_0x6184b(0xce)](0x24)[_0x6184b(0xb4)](0x2,0x5);}function toggleSeriesInput(){const _0x3b04be=a2_0x58fa9b,_0x5f2f0a=document['getElementById'](_0x3b04be(0xe0))[_0x3b04be(0xab)],_0x1e113f=document[_0x3b04be(0x176)](_0x3b04be(0x8e));_0x1e113f['style'][_0x3b04be(0xd5)]=_0x5f2f0a?'block':_0x3b04be(0x16d);const _0x50d3c1=document[_0x3b04be(0x176)]('recurringOptionContainer');_0x50d3c1[_0x3b04be(0x1e8)]['borderRadius']=_0x5f2f0a?_0x3b04be(0x10e):_0x3b04be(0x14d);}function openAddSession(_0x2d6526){const _0x504882=a2_0x58fa9b;editingId=null,populateClientSelect(),document[_0x504882(0x176)](_0x504882(0x152))[_0x504882(0x192)]=_0x504882(0x19f),document[_0x504882(0x176)](_0x504882(0x1c1))[_0x504882(0x1e8)][_0x504882(0xd5)]=_0x504882(0x16d),document[_0x504882(0x176)](_0x504882(0x1e2))[_0x504882(0x1e8)]['display']=_0x504882(0x16d);const _0xcedf29=document[_0x504882(0x176)]('recurringOptionContainer'),_0x3b67b8=document[_0x504882(0x176)](_0x504882(0x8e));_0xcedf29[_0x504882(0x1e8)][_0x504882(0xd5)]=_0x504882(0x200),_0xcedf29[_0x504882(0x1e8)][_0x504882(0x18d)]=_0x504882(0x14d),document[_0x504882(0x176)](_0x504882(0xe0))['checked']=![],document[_0x504882(0x176)](_0x504882(0x204))[_0x504882(0x18a)]=0x4,_0x3b67b8['style'][_0x504882(0xd5)]=_0x504882(0x16d),document['getElementById'](_0x504882(0x117))['value']=getLocalDateStr(_0x2d6526),updateDateDisplay();const _0x37cda2=_0x2d6526['getHours']();document[_0x504882(0x176)](_0x504882(0x191))[_0x504882(0x18a)]=String(_0x37cda2)[_0x504882(0x162)](0x2,'0')+':00',document[_0x504882(0x176)](_0x504882(0xc4))[_0x504882(0x18a)]=String(_0x37cda2+0x1)[_0x504882(0x162)](0x2,'0')+':00',openSheet(_0x504882(0x16f));}function openEdit(_0x5a6368){const _0x754710=a2_0x58fa9b;editingId=_0x5a6368['id'],populateClientSelect(),document[_0x754710(0x176)](_0x754710(0x152))['textContent']='–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å',document[_0x754710(0x176)](_0x754710(0x1c1))['style'][_0x754710(0xd5)]=_0x754710(0xe4);const _0x24b044=document[_0x754710(0x176)]('btnStatusToggle');_0x24b044[_0x754710(0x1e8)]['display']=_0x754710(0x200);_0x5a6368[_0x754710(0x187)]==='completed'?(_0x24b044['className']=_0x754710(0xd2),_0x24b044[_0x754710(0x11b)]=_0x754710(0x1a1)):(_0x24b044[_0x754710(0x139)]=_0x754710(0x1ab),_0x24b044[_0x754710(0x11b)]=_0x754710(0x15d));const _0x4c4e71=!!_0x5a6368['seriesId'];document[_0x754710(0x176)](_0x754710(0x17c))[_0x754710(0x1e8)][_0x754710(0xd5)]=_0x754710(0x16d),document[_0x754710(0x176)](_0x754710(0x8e))[_0x754710(0x1e8)][_0x754710(0xd5)]='none',_0x4c4e71?(document[_0x754710(0x176)](_0x754710(0x13b))[_0x754710(0x1e8)]['display']=_0x754710(0x200),document[_0x754710(0x176)]('patternInfoBox')['querySelector'](_0x754710(0xb5))[_0x754710(0x192)]=_0x754710(0x1cd)):document[_0x754710(0x176)]('patternInfoBox')['style']['display']=_0x754710(0x16d),document['getElementById'](_0x754710(0x142))[_0x754710(0x18a)]=_0x5a6368[_0x754710(0x8f)],document['getElementById'](_0x754710(0x117))[_0x754710(0x18a)]=_0x5a6368[_0x754710(0xdd)],document[_0x754710(0x176)](_0x754710(0x191))[_0x754710(0x18a)]=_0x5a6368[_0x754710(0x194)],document[_0x754710(0x176)](_0x754710(0xc4))[_0x754710(0x18a)]=_0x5a6368[_0x754710(0x107)],document[_0x754710(0x176)](_0x754710(0x10c))[_0x754710(0x18a)]=_0x5a6368[_0x754710(0xa9)]||'',updateDateDisplay(),openSheet(_0x754710(0x16f));}async function trySaveSession(){const _0x365adc=a2_0x58fa9b,_0xfb8c56=document[_0x365adc(0x176)](_0x365adc(0x142))[_0x365adc(0x18a)],_0x47a3e3=document['getElementById'](_0x365adc(0x117))['value'],_0x135dc2=document[_0x365adc(0x176)](_0x365adc(0x191))['value'],_0x4fd826=document[_0x365adc(0x176)]('inpEnd')['value'],_0xdccb18=document['getElementById'](_0x365adc(0x10c))['value'],_0x8473fb=document['getElementById'](_0x365adc(0xe0))[_0x365adc(0xab)];let _0x419794=0x4;if(_0x8473fb){const _0x2d6481=parseInt(document['getElementById'](_0x365adc(0x204))[_0x365adc(0x18a)]);if(!_0x2d6481||_0x2d6481<0x2){showToast(_0x365adc(0x171),![]);return;}if(_0x2d6481>0x64){showToast(_0x365adc(0x180),![]);return;}_0x419794=_0x2d6481;}const _0x56b377=clients['find'](_0x37dbee=>_0x37dbee[_0x365adc(0x144)]===_0xfb8c56);if(!_0x56b377){showToast('–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞',![]);return;}const _0x206549=validateAppointment(_0x47a3e3,_0x135dc2,_0x4fd826,editingId,_0x56b377['id']);if(!_0x206549['valid']){showToast(_0x206549[_0x365adc(0xe9)],![]);return;}_0x206549[_0x365adc(0x9f)]&&showToast(_0x206549[_0x365adc(0x9f)],![]);const _0x8df463={'client':_0xfb8c56,'clientId':_0x56b377['id'],'start':_0x135dc2,'end':_0x4fd826,'note':_0xdccb18,'status':_0x365adc(0x1ad)},_0x3cd5e0=editingId?sessions[_0x365adc(0x196)](_0x1f3c8c=>_0x1f3c8c['id']===editingId):null;if(_0x3cd5e0&&_0x3cd5e0[_0x365adc(0x111)]){tempSessionData={..._0x8df463,'dateStr':_0x47a3e3,'id':editingId,'seriesId':_0x3cd5e0[_0x365adc(0x111)]},openActionSheet(_0x365adc(0xcd));return;}let _0x2912e7=null;if(!editingId)_0x2912e7=_0x365adc(0xaf);else{if(_0x3cd5e0){if(String(_0x3cd5e0[_0x365adc(0x1a9)])!==String(_0x56b377['id']))console[_0x365adc(0x103)](_0x365adc(0x1b2)),NotificationManager[_0x365adc(0x190)](_0x365adc(0x16b),_0x3cd5e0),_0x2912e7=_0x365adc(0xaf);else(_0x3cd5e0[_0x365adc(0x194)]!==_0x135dc2||_0x3cd5e0[_0x365adc(0x107)]!==_0x4fd826||_0x3cd5e0[_0x365adc(0xdd)]!==_0x47a3e3)&&(_0x2912e7=_0x365adc(0x1d9));}}if(!editingId&&_0x8473fb){createBatchSeries(_0x8df463,_0x47a3e3,_0x419794),NotificationManager[_0x365adc(0x190)]('create',{..._0x8df463,'dateStr':_0x47a3e3});return;}lastUserActionTime=Date['now']();const _0x567dfa={..._0x8df463,'dateStr':_0x47a3e3,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x567dfa),_0x2912e7&&NotificationManager[_0x365adc(0x190)](_0x2912e7,_0x567dfa);}function toggleSessionStatus(){const _0x1f8f71=a2_0x58fa9b;lastUserActionTime=Date['now']();const _0x57da47=sessions['find'](_0xd6838e=>_0xd6838e['id']===editingId);if(!_0x57da47)return;const _0x39b460=_0x57da47['status']===_0x1f8f71(0xd4)?_0x1f8f71(0x1ad):_0x1f8f71(0xd4);_0x57da47[_0x1f8f71(0x187)]=_0x39b460,saveSingleSession(_0x57da47),_0x39b460===_0x1f8f71(0xd4)&&NotificationManager[_0x1f8f71(0x190)](_0x1f8f71(0x92),_0x57da47),showToast(_0x39b460===_0x1f8f71(0xd4)?_0x1f8f71(0xf7):'–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω',!![]);}function validateAppointment(_0x4bbda3,_0x1c12c4,_0x240d84,_0x55398b,_0x80ebd1){const _0x119cdc=a2_0x58fa9b,[_0x51d78b,_0x46d9a1]=_0x1c12c4['split'](':')[_0x119cdc(0x132)](Number),[_0x45959f,_0x4a4e1f]=_0x240d84[_0x119cdc(0xb9)](':')[_0x119cdc(0x132)](Number),_0x43a602=_0x51d78b*0x3c+_0x46d9a1,_0x107c71=_0x45959f*0x3c+_0x4a4e1f,_0x993213=String(_0x80ebd1);let _0x55f3e8=![],_0x276e9d='';for(let _0x367bce of sessions){if(_0x367bce[_0x119cdc(0xdd)]!==_0x4bbda3)continue;if(_0x367bce[_0x119cdc(0x187)]===_0x119cdc(0x1a2))continue;if(_0x55398b&&String(_0x367bce['id'])===String(_0x55398b))continue;const [_0x1070ce,_0x16e5a2]=_0x367bce[_0x119cdc(0x194)][_0x119cdc(0xb9)](':')[_0x119cdc(0x132)](Number),[_0x4b299e,_0x37c51a]=_0x367bce[_0x119cdc(0x107)][_0x119cdc(0xb9)](':')[_0x119cdc(0x132)](Number),_0x3dbb42=_0x1070ce*0x3c+_0x16e5a2,_0x1d165b=_0x4b299e*0x3c+_0x37c51a;if(Math[_0x119cdc(0x155)](_0x43a602,_0x3dbb42)<Math[_0x119cdc(0x1e6)](_0x107c71,_0x1d165b)){if(_0x367bce[_0x119cdc(0x1a9)]&&String(_0x367bce[_0x119cdc(0x1a9)])===_0x993213)return{'valid':![],'msg':_0x119cdc(0x1a3)+_0x367bce['client']+_0x119cdc(0x147)};_0x55f3e8=!![],_0x276e9d=_0x367bce[_0x119cdc(0x8f)];}}if(_0x55f3e8)return{'valid':!![],'warning':_0x119cdc(0x1c7)+_0x276e9d};return{'valid':!![]};}function saveSingleSession(_0x1c9c8a){const _0x55743a=a2_0x58fa9b;if(editingId){const _0x329d22=sessions[_0x55743a(0xbc)](_0x4ff44f=>_0x4ff44f['id']===editingId);if(_0x329d22!==-0x1)sessions[_0x329d22]=_0x1c9c8a;}else sessions['push'](_0x1c9c8a);afterSaveAction([_0x1c9c8a['dateStr']]);}function createBatchSeries(_0x20328c,_0x5620c8,_0x3c73df){const _0x5781cb=a2_0x58fa9b,_0x1f3649=generateId(),_0x4307aa=[],_0x9dcb1b=[];let _0x5814fe=0x0,_0x5e6590=new Date(_0x5620c8);for(let _0x19657e=0x0;_0x19657e<_0x3c73df;_0x19657e++){const _0x11ee4d=getLocalDateStr(_0x5e6590),_0xa2a177=validateAppointment(_0x11ee4d,_0x20328c[_0x5781cb(0x194)],_0x20328c['end'],null,_0x20328c[_0x5781cb(0x1a9)]);if(!_0xa2a177[_0x5781cb(0x1cb)])console[_0x5781cb(0x103)](_0x5781cb(0x11d)+_0x11ee4d+_0x5781cb(0x7d)),_0x5814fe++;else{const _0xec5fcb={..._0x20328c,'id':generateId(),'dateStr':_0x11ee4d,'seriesId':_0x1f3649};_0x9dcb1b[_0x5781cb(0x154)](_0xec5fcb),_0x4307aa[_0x5781cb(0x154)](_0x11ee4d);}_0x5e6590[_0x5781cb(0xf2)](_0x5e6590[_0x5781cb(0x13f)]()+0x7);}if(_0x9dcb1b[_0x5781cb(0x1f7)]===0x0){showToast(_0x5781cb(0x1cc),![]);return;}sessions['push'](..._0x9dcb1b),lastUserActionTime=Date[_0x5781cb(0x16e)]();let _0x2c0b06=_0x5781cb(0x13c)+_0x9dcb1b[_0x5781cb(0x1f7)];_0x5814fe>0x0&&(_0x2c0b06+=_0x5781cb(0x105)+_0x5814fe+')'),showToast(_0x2c0b06,!![]),afterSaveAction(_0x4307aa);}function updateSeriesBatch(_0x14391a,_0x518135){const _0x362600=a2_0x58fa9b,_0x1961b8=[],_0x1db10e=_0x518135[_0x362600(0x111)];if(_0x14391a===_0x362600(0xed)){const _0x3652ad={..._0x518135,'seriesId':null},_0x902209=sessions[_0x362600(0xbc)](_0x2f1c13=>_0x2f1c13['id']===_0x518135['id']);if(_0x902209!==-0x1)sessions[_0x902209]=_0x3652ad;_0x1961b8[_0x362600(0x154)](_0x3652ad[_0x362600(0xdd)]);}else{if(_0x14391a===_0x362600(0x114)){const _0x4db8a3=_0x518135[_0x362600(0xdd)];sessions[_0x362600(0x1bc)]((_0x1bc12a,_0x3aae1a)=>{const _0x2106fd=_0x362600;_0x1bc12a[_0x2106fd(0x111)]===_0x1db10e&&_0x1bc12a[_0x2106fd(0xdd)]>=_0x4db8a3&&(sessions[_0x3aae1a]={...sessions[_0x3aae1a],'start':_0x518135['start'],'end':_0x518135[_0x2106fd(0x107)],'note':_0x518135[_0x2106fd(0xa9)],'client':_0x518135[_0x2106fd(0x8f)],'clientId':_0x518135[_0x2106fd(0x1a9)]},_0x1961b8[_0x2106fd(0x154)](_0x1bc12a['dateStr']));});}}afterSaveAction(_0x1961b8);}function tryDeleteSession(){const _0x44dd20=a2_0x58fa9b,_0x5d73e6=sessions[_0x44dd20(0x196)](_0x419bd0=>_0x419bd0['id']===editingId);if(!_0x5d73e6)return;_0x5d73e6[_0x44dd20(0x111)]?openActionSheet(_0x44dd20(0x18f)):commitDelete(_0x44dd20(0xed),_0x5d73e6);}function commitDelete(_0x12a53f,_0x1cdfcc){const _0x40ccae=a2_0x58fa9b;lastUserActionTime=Date['now'](),NotificationManager[_0x40ccae(0x190)](_0x40ccae(0x16b),_0x1cdfcc);const _0x1a7abf=[];if(_0x12a53f==='single')sessions=sessions['filter'](_0x135835=>_0x135835['id']!==_0x1cdfcc['id']),_0x1a7abf[_0x40ccae(0x154)](_0x1cdfcc[_0x40ccae(0xdd)]);else{if(_0x12a53f===_0x40ccae(0x114)){const _0xf09b56=_0x1cdfcc[_0x40ccae(0xdd)],_0x6370a0=_0x1cdfcc[_0x40ccae(0x111)];sessions[_0x40ccae(0x1bc)](_0x2087aa=>{const _0x5e2876=_0x40ccae;_0x2087aa[_0x5e2876(0x111)]===_0x6370a0&&_0x2087aa[_0x5e2876(0xdd)]>=_0xf09b56&&_0x1a7abf[_0x5e2876(0x154)](_0x2087aa[_0x5e2876(0xdd)]);}),sessions=sessions['filter'](_0x5b442c=>!(_0x5b442c[_0x40ccae(0x111)]===_0x6370a0&&_0x5b442c['dateStr']>=_0xf09b56));}}afterSaveAction(_0x1a7abf);}function afterSaveAction(_0x49537d){const _0x4ca6f5=a2_0x58fa9b;DataManager[_0x4ca6f5(0x135)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x4ca6f5(0x119)](_0x49537d)[_0x4ca6f5(0xec)](()=>console[_0x4ca6f5(0x103)](_0x4ca6f5(0xdb)))[_0x4ca6f5(0x1f3)](_0x1d5cf5=>showToast(_0x4ca6f5(0x1f0),![]));}const NotificationManager={'formatDate'(_0x2371d4){const _0x5f0956=a2_0x58fa9b,_0x1de189=new Date(_0x2371d4),_0x138e6a={'weekday':_0x5f0956(0xa0),'day':_0x5f0956(0x110),'month':_0x5f0956(0xa0)};let _0x197f83=_0x1de189['toLocaleDateString']('ru-RU',_0x138e6a);return _0x197f83['charAt'](0x0)[_0x5f0956(0xd8)]()+_0x197f83[_0x5f0956(0x172)](0x1);},'getText'(_0x17a05f,_0x4a26c0){const _0x2e5e3f=a2_0x58fa9b,_0x17777d=this[_0x2e5e3f(0x140)](_0x4a26c0[_0x2e5e3f(0xdd)]);switch(_0x17a05f){case _0x2e5e3f(0xaf):return _0x2e5e3f(0x14b)+(_0x2e5e3f(0x1c0)+_0x17777d+'\x0a')+(_0x2e5e3f(0x1d0)+_0x4a26c0['start']+'\x20‚Äî\x20'+_0x4a26c0[_0x2e5e3f(0x107)]+'\x0a\x0a')+_0x2e5e3f(0xc8);case'update':return _0x2e5e3f(0x188)+_0x2e5e3f(0x8c)+(_0x2e5e3f(0x153)+_0x4a26c0[_0x2e5e3f(0x194)]+'\x20‚Äî\x20'+_0x4a26c0['end']+_0x2e5e3f(0xda))+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0x17777d);case'cancel':return _0x2e5e3f(0x179)+(_0x2e5e3f(0x1f8)+_0x17777d+'\x20('+_0x4a26c0[_0x2e5e3f(0x194)]+_0x2e5e3f(0x9e));case _0x2e5e3f(0x92):return _0x2e5e3f(0x149)+_0x2e5e3f(0x189)+_0x2e5e3f(0xc3);default:return'';}},async 'send'(_0xf7f12e,_0x5cfff7){const _0x3a9873=a2_0x58fa9b;console[_0x3a9873(0x103)](_0x3a9873(0x12e),_0xf7f12e,_0x5cfff7);if(!_0x5cfff7){console[_0x3a9873(0x203)](_0x3a9873(0x1ca));return;}const _0xde917b=String(_0x5cfff7[_0x3a9873(0x1a9)]);console[_0x3a9873(0x103)](_0x3a9873(0x1a0),_0xde917b);if(!_0x5cfff7[_0x3a9873(0x1a9)]||_0xde917b==='undefined'||_0xde917b===_0x3a9873(0x123)){console[_0x3a9873(0x203)](_0x3a9873(0x1d6));if(_0x5cfff7[_0x3a9873(0x8f)]){const _0x1472f2=clients[_0x3a9873(0x196)](_0x5eaa0c=>_0x5eaa0c[_0x3a9873(0x144)]===_0x5cfff7[_0x3a9873(0x8f)]);if(_0x1472f2)return console['log'](_0x3a9873(0x8b),_0x1472f2['id']),this[_0x3a9873(0x190)](_0xf7f12e,{..._0x5cfff7,'clientId':_0x1472f2['id']});}return;}if(_0xde917b[_0x3a9873(0x1f7)]<0x5){console['warn'](_0x3a9873(0x10d),_0xde917b);return;}const _0x5f5db3=this[_0x3a9873(0xfa)](_0xf7f12e,_0x5cfff7);if(!_0x5f5db3){console[_0x3a9873(0x203)](_0x3a9873(0x184));return;}console[_0x3a9873(0x103)]('[Notify]\x20Sending\x20to\x20GAS\x20for\x20'+_0xde917b+_0x3a9873(0xf1)),DataManager['fetchFromServer'](_0x3a9873(0x183),{'chatId':_0xde917b,'text':_0x5f5db3})['then'](_0x4cb5df=>console[_0x3a9873(0x103)]('[Notify]\x20Server\x20Response:',_0x4cb5df))[_0x3a9873(0x1f3)](_0x3e52c1=>console['error'](_0x3a9873(0x1fc),_0x3e52c1));}};function getLocalDateStr(_0x4c36f0){const _0x1f5910=a2_0x58fa9b,_0x4bd04a=_0x4c36f0['getFullYear'](),_0x17d389=String(_0x4c36f0[_0x1f5910(0xc7)]()+0x1)[_0x1f5910(0x162)](0x2,'0'),_0x512a45=String(_0x4c36f0['getDate']())[_0x1f5910(0x162)](0x2,'0');return _0x4bd04a+'-'+_0x17d389+'-'+_0x512a45;}function getDateStr(_0x3f0681){const _0x1f5e5b=a2_0x58fa9b,_0x1cc22c=new Date();return _0x1cc22c[_0x1f5e5b(0xf2)](_0x1cc22c['getDate']()+_0x3f0681),getLocalDateStr(_0x1cc22c);}function getStartOfWeek(_0x45288c){const _0x54f871=a2_0x58fa9b,_0x56e469=new Date(_0x45288c),_0x17c18b=_0x56e469[_0x54f871(0x1c8)](),_0x28b8fb=_0x56e469[_0x54f871(0x13f)]()-_0x17c18b+(_0x17c18b===0x0?-0x6:0x1);return _0x56e469[_0x54f871(0xf2)](_0x28b8fb),_0x56e469[_0x54f871(0x1ae)](0x0,0x0,0x0,0x0),_0x56e469;}function hexToRgba(_0x3118a5,_0x2e561b){const _0xc8c77d=a2_0x58fa9b;if(!_0x3118a5)return _0xc8c77d(0xd6);let _0x2f2e70=0x0,_0x58a706=0x0,_0x533a0c=0x0;if(_0x3118a5[_0xc8c77d(0x1f7)]===0x4)_0x2f2e70='0x'+_0x3118a5[0x1]+_0x3118a5[0x1],_0x58a706='0x'+_0x3118a5[0x2]+_0x3118a5[0x2],_0x533a0c='0x'+_0x3118a5[0x3]+_0x3118a5[0x3];else _0x3118a5[_0xc8c77d(0x1f7)]===0x7&&(_0x2f2e70='0x'+_0x3118a5[0x1]+_0x3118a5[0x2],_0x58a706='0x'+_0x3118a5[0x3]+_0x3118a5[0x4],_0x533a0c='0x'+_0x3118a5[0x5]+_0x3118a5[0x6]);return _0xc8c77d(0xf8)+ +_0x2f2e70+',\x20'+ +_0x58a706+',\x20'+ +_0x533a0c+',\x20'+_0x2e561b+')';}function renderTimeColumn(){const _0x29a6b0=a2_0x58fa9b,_0xab8669=document[_0x29a6b0(0x176)]('timeColumn'),_0x52e4c2=document['getElementById'](_0x29a6b0(0xf0));_0xab8669['innerHTML']='',_0xab8669[_0x29a6b0(0x1b1)](_0x52e4c2);for(let _0x1e5065=0x0;_0x1e5065<0x18;_0x1e5065++){const _0x50bd34=document[_0x29a6b0(0x1a7)](_0x29a6b0(0x17b));_0x50bd34[_0x29a6b0(0x139)]=_0x29a6b0(0x14c);if(_0x1e5065>0x0)_0x50bd34['innerHTML']=_0x29a6b0(0x1d7)+String(_0x1e5065)[_0x29a6b0(0x162)](0x2,'0')+_0x29a6b0(0xbe);_0xab8669[_0x29a6b0(0x1b1)](_0x50bd34);}}function renderDayRange(_0x2bd7a7,_0x56f3ea){const _0x2c5b82=a2_0x58fa9b,_0x17d3c0=document[_0x2c5b82(0x176)](_0x2c5b82(0x1de)),_0x25f9cc=document['getElementById']('gridColumns'),_0x2d1dab=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0xbb0091=new Date();_0xbb0091[_0x2c5b82(0x1ae)](0x0,0x0,0x0,0x0);const _0x5781c1=getLocalDateStr(new Date());for(let _0xf06a1e=_0x2bd7a7;_0xf06a1e<=_0x56f3ea;_0xf06a1e++){const _0x575088=new Date(_0xbb0091);_0x575088[_0x2c5b82(0xf2)](_0x575088['getDate']()+_0xf06a1e);const _0x14d2ce=getLocalDateStr(_0x575088);let _0x3f715b=_0x575088[_0x2c5b82(0x1c8)]()-0x1;if(_0x3f715b===-0x1)_0x3f715b=0x6;const _0x412d22=_0x14d2ce===_0x5781c1,_0x3ca689=document['createElement'](_0x2c5b82(0x17b));_0x3ca689[_0x2c5b82(0x139)]=_0x2c5b82(0x14a)+(_0x412d22?_0x2c5b82(0x175):''),_0x3ca689['id']='header-'+_0x14d2ce,_0x3ca689['setAttribute']('data-date',_0x14d2ce),_0x3ca689[_0x2c5b82(0x11b)]='<div\x20class=\x22dch-day\x22>'+_0x2d1dab[_0x3f715b]+_0x2c5b82(0x19d)+_0x575088[_0x2c5b82(0x13f)]()+_0x2c5b82(0x1e7)+_0x14d2ce+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x3ca689[_0x2c5b82(0x1af)]=()=>openDayOptions(_0x14d2ce,_0x2d1dab[_0x3f715b]+'\x20'+_0x575088[_0x2c5b82(0x13f)]()),_0x17d3c0[_0x2c5b82(0x1b1)](_0x3ca689);const _0x46cccb=document[_0x2c5b82(0x1a7)]('div');_0x46cccb['className']=_0x2c5b82(0x150)+(_0x412d22?_0x2c5b82(0x175):''),_0x46cccb[_0x2c5b82(0x131)](_0x2c5b82(0xe6),_0x14d2ce),_0x46cccb['setAttribute'](_0x2c5b82(0x1d3),_0x3f715b),renderEventsForColumn(_0x46cccb,_0x14d2ce,_0x3f715b),attachLongPressHandler(_0x46cccb,_0x575088),_0x25f9cc[_0x2c5b82(0x1b1)](_0x46cccb),updateDayStats(_0x14d2ce);}}function reRenderBlocks(){const _0x154bff=a2_0x58fa9b;document['querySelectorAll']('#gridColumns\x20.day-column')[_0x154bff(0x1bc)](_0x15ffab=>{const _0x4fa6e7=_0x154bff;_0x15ffab['querySelectorAll'](_0x4fa6e7(0x202))[_0x4fa6e7(0x1bc)](_0x9e09d5=>_0x9e09d5[_0x4fa6e7(0x182)]());const _0x8c6dca=_0x15ffab[_0x4fa6e7(0x9c)](_0x4fa6e7(0xe6)),_0x2f5ff2=parseInt(_0x15ffab[_0x4fa6e7(0x9c)](_0x4fa6e7(0x1d3))),_0x580f55=Math[_0x4fa6e7(0xf9)](_0x15ffab['offsetLeft']);(availabilityPattern[_0x2f5ff2]||[])[_0x4fa6e7(0x1bc)](_0x486080=>{const _0x10020e=_0x4fa6e7,_0x5f152b=document[_0x10020e(0x1a7)](_0x10020e(0x17b));_0x5f152b[_0x10020e(0x139)]=_0x10020e(0xd3);const _0x4d907b=_0x486080*GRID_H;_0x5f152b[_0x10020e(0x1e8)][_0x10020e(0x18e)]=_0x4d907b+'px',_0x5f152b['style'][_0x10020e(0x13e)]='-'+_0x580f55+_0x10020e(0x1dc)+_0x4d907b+'px',_0x15ffab[_0x10020e(0x1b1)](_0x5f152b);});if(specialRanges&&specialRanges[_0x4fa6e7(0x1f7)]>0x0){const _0x4fbdf5=new Date(_0x8c6dca+'T00:00:00')[_0x4fa6e7(0x1a5)](),_0x5c90a4=new Date(_0x8c6dca+_0x4fa6e7(0x12b))[_0x4fa6e7(0x1a5)]();specialRanges[_0x4fa6e7(0x1bc)](_0x34c7e4=>{const _0x17316b=_0x4fa6e7,_0x2f73f4=new Date(_0x34c7e4['start'])[_0x17316b(0x1a5)](),_0x5409f0=new Date(_0x34c7e4[_0x17316b(0x107)])[_0x17316b(0x1a5)](),_0x14c874=Math[_0x17316b(0x155)](_0x4fbdf5,_0x2f73f4),_0x11919c=Math['min'](_0x5c90a4,_0x5409f0);if(_0x14c874<_0x11919c){if(_0x14c874<=_0x4fbdf5&&_0x11919c>=_0x5c90a4-0xea60){if(!_0x15ffab[_0x17316b(0x1c5)](_0x17316b(0xbd))){const _0x523e97=document['createElement'](_0x17316b(0x17b));_0x523e97[_0x17316b(0x139)]=_0x17316b(0x198),_0x523e97[_0x17316b(0x1e8)][_0x17316b(0x13e)]='-'+_0x580f55+_0x17316b(0x82),_0x15ffab['appendChild'](_0x523e97);}}else{const _0x3f9052=(_0x14c874-_0x4fbdf5)/0x36ee80*GRID_H,_0x389d30=(_0x11919c-_0x14c874)/0x36ee80*GRID_H,_0xe119a3=document[_0x17316b(0x1a7)](_0x17316b(0x17b));_0xe119a3[_0x17316b(0x139)]=_0x17316b(0x1d5),_0xe119a3[_0x17316b(0x1e8)]['top']=_0x3f9052+'px',_0xe119a3[_0x17316b(0x1e8)][_0x17316b(0x97)]=_0x389d30+'px',_0xe119a3[_0x17316b(0x1e8)][_0x17316b(0x13e)]='-'+_0x580f55+_0x17316b(0x1dc)+_0x3f9052+'px',_0x15ffab[_0x17316b(0x1b1)](_0xe119a3);}}});}if(dateExceptions[_0x8c6dca]===_0x4fa6e7(0x177)){if(!_0x15ffab[_0x4fa6e7(0x1c5)]('.day-off-overlay')){const _0x11d1d2=document[_0x4fa6e7(0x1a7)]('div');_0x11d1d2['className']='day-off-overlay\x20stripe-bg',_0x11d1d2[_0x4fa6e7(0x1e8)][_0x4fa6e7(0x13e)]='-'+_0x580f55+_0x4fa6e7(0x82),_0x15ffab[_0x4fa6e7(0x1b1)](_0x11d1d2);}}renderEventsForColumn(_0x15ffab,_0x8c6dca,_0x2f5ff2),updateDayStats(_0x8c6dca);});}function updateAllDayStats(){const _0x3bba2e=a2_0x58fa9b;document[_0x3bba2e(0x17d)]('.day-col-header')[_0x3bba2e(0x1bc)](_0x2a3c3f=>{const _0x4c3e55=_0x3bba2e;updateDayStats(_0x2a3c3f[_0x4c3e55(0x9c)](_0x4c3e55(0xe6)));});}function updateDayStats(_0x348fe3){const _0x5bcc3c=a2_0x58fa9b,_0x2b7c0c=document[_0x5bcc3c(0x176)](_0x5bcc3c(0xc9)+_0x348fe3);if(!_0x2b7c0c)return;const _0x2fe2c2=new Date(_0x348fe3);let _0x53bade=_0x2fe2c2['getDay']()-0x1;if(_0x53bade===-0x1)_0x53bade=0x6;if(dateExceptions[_0x348fe3]===_0x5bcc3c(0x177)){_0x2b7c0c[_0x5bcc3c(0x1e8)][_0x5bcc3c(0xd5)]='none';return;}const _0x86d45b=availabilityPattern[_0x53bade]||[],_0x281ee5=0x18-_0x86d45b[_0x5bcc3c(0x1f7)],_0x173e74=_0x281ee5*0x3c,_0x5140c1=sessions[_0x5bcc3c(0xd0)](_0x47d49e=>_0x47d49e[_0x5bcc3c(0xdd)]===_0x348fe3&&_0x47d49e[_0x5bcc3c(0x187)]!==_0x5bcc3c(0x1a2));if(_0x5140c1['length']===0x0){_0x2b7c0c[_0x5bcc3c(0x1e8)]['display']=_0x5bcc3c(0x16d);return;}let _0x234181=_0x5140c1['map'](_0x2a9e23=>{const _0x4b4bfe=_0x5bcc3c,[_0x472d8d,_0x245967]=_0x2a9e23[_0x4b4bfe(0x194)][_0x4b4bfe(0xb9)](':')[_0x4b4bfe(0x132)](Number),[_0x47f0f1,_0x46583d]=_0x2a9e23['end'][_0x4b4bfe(0xb9)](':')[_0x4b4bfe(0x132)](Number);return[_0x472d8d*0x3c+_0x245967,_0x47f0f1*0x3c+_0x46583d];});_0x234181[_0x5bcc3c(0x199)]((_0x643160,_0x2c436e)=>_0x643160[0x0]-_0x2c436e[0x0]);let _0x564531=[];if(_0x234181[_0x5bcc3c(0x1f7)]>0x0){let _0x221a67=_0x234181[0x0];for(let _0x2a4e95=0x1;_0x2a4e95<_0x234181[_0x5bcc3c(0x1f7)];_0x2a4e95++){_0x234181[_0x2a4e95][0x0]<_0x221a67[0x1]?_0x221a67[0x1]=Math['max'](_0x221a67[0x1],_0x234181[_0x2a4e95][0x1]):(_0x564531[_0x5bcc3c(0x154)](_0x221a67),_0x221a67=_0x234181[_0x2a4e95]);}_0x564531[_0x5bcc3c(0x154)](_0x221a67);}let _0x358af1=0x0;_0x564531[_0x5bcc3c(0x1bc)](_0x2ee733=>_0x358af1+=_0x2ee733[0x1]-_0x2ee733[0x0]),_0x2b7c0c[_0x5bcc3c(0x1e8)][_0x5bcc3c(0xd5)]=_0x5bcc3c(0x200);const _0x43b31e=_0x2b7c0c[_0x5bcc3c(0x1c5)](_0x5bcc3c(0x1f5));if(_0x173e74===0x0){_0x43b31e['style'][_0x5bcc3c(0xa4)]=_0x5bcc3c(0xfd),_0x43b31e[_0x5bcc3c(0x1e8)][_0x5bcc3c(0xe2)]=_0x5bcc3c(0x193);return;}const _0x9d147f=_0x358af1/_0x173e74*0x64;console[_0x5bcc3c(0x103)]('['+_0x348fe3+_0x5bcc3c(0x137)+_0x281ee5+'—á,\x20–ó–∞–Ω—è—Ç–æ:\x20'+_0x358af1+'–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20'+_0x9d147f[_0x5bcc3c(0x128)](0x1)+'%'),_0x9d147f>0x64?(_0x43b31e['style'][_0x5bcc3c(0xa4)]=_0x5bcc3c(0xfd),_0x43b31e['style'][_0x5bcc3c(0xe2)]=_0x5bcc3c(0x193)):(_0x43b31e[_0x5bcc3c(0x1e8)][_0x5bcc3c(0xa4)]=_0x9d147f+'%',_0x43b31e[_0x5bcc3c(0x1e8)][_0x5bcc3c(0xe2)]=_0x5bcc3c(0x160));}function renderEventsForColumn(_0x201672,_0x3d19cf,_0x36a237){const _0x39f57b=a2_0x58fa9b,_0x25b478=sessions[_0x39f57b(0xd0)](_0x7e2a18=>_0x7e2a18[_0x39f57b(0xdd)]===_0x3d19cf),_0x103db3=_0x25b478['map'](_0x3f1d70=>{const _0x767d99=_0x39f57b,[_0x48fe9d,_0x2f4952]=_0x3f1d70[_0x767d99(0x194)][_0x767d99(0xb9)](':')[_0x767d99(0x132)](Number),[_0x2e34a2,_0x3df1a7]=_0x3f1d70[_0x767d99(0x107)][_0x767d99(0xb9)](':')[_0x767d99(0x132)](Number);return{'data':_0x3f1d70,'start':_0x48fe9d*0x3c+_0x2f4952,'end':_0x2e34a2*0x3c+_0x3df1a7,'colIndex':0x0};});_0x103db3[_0x39f57b(0x199)]((_0x25f1de,_0xe3853a)=>{const _0x9a1653=_0x39f57b;if(_0x25f1de[_0x9a1653(0x194)]!==_0xe3853a[_0x9a1653(0x194)])return _0x25f1de[_0x9a1653(0x194)]-_0xe3853a[_0x9a1653(0x194)];return _0xe3853a[_0x9a1653(0x107)]-_0xe3853a[_0x9a1653(0x194)]-(_0x25f1de[_0x9a1653(0x107)]-_0x25f1de[_0x9a1653(0x194)]);});const _0xc2d8c3=[];_0x103db3[_0x39f57b(0x1bc)](_0x1b91f2=>{const _0x3098bb=_0x39f57b;let _0x16a94a=![];for(let _0x4ef5d5=0x0;_0x4ef5d5<_0xc2d8c3[_0x3098bb(0x1f7)];_0x4ef5d5++){const _0x18be7e=_0xc2d8c3[_0x4ef5d5],_0x5c1b1c=_0x18be7e[_0x18be7e['length']-0x1];if(_0x1b91f2[_0x3098bb(0x194)]>=_0x5c1b1c[_0x3098bb(0x107)]){_0x18be7e[_0x3098bb(0x154)](_0x1b91f2),_0x1b91f2[_0x3098bb(0xae)]=_0x4ef5d5,_0x16a94a=!![];break;}}!_0x16a94a&&(_0xc2d8c3[_0x3098bb(0x154)]([_0x1b91f2]),_0x1b91f2[_0x3098bb(0xae)]=_0xc2d8c3[_0x3098bb(0x1f7)]-0x1);}),_0x103db3['forEach'](_0xe75b85=>{const _0x5a072c=_0x39f57b;let _0x183a8d=0x0;_0x103db3['forEach'](_0x173037=>{const _0x5e1162=a2_0x355f;if(Math['max'](_0xe75b85[_0x5e1162(0x194)],_0x173037['start'])<Math[_0x5e1162(0x1e6)](_0xe75b85['end'],_0x173037[_0x5e1162(0x107)])){if(_0x173037[_0x5e1162(0xae)]>_0x183a8d)_0x183a8d=_0x173037[_0x5e1162(0xae)];}});const _0x59507d=_0x183a8d+0x1,_0x1c12ed=0x64/_0x59507d,_0x4cdf60=_0xe75b85[_0x5a072c(0xae)]*_0x1c12ed,_0x48da7d=createEventEl(_0xe75b85['data']);_0x48da7d[_0x5a072c(0x1e8)]['width']=_0x5a072c(0x1ce)+_0x1c12ed+_0x5a072c(0x11f),_0x48da7d[_0x5a072c(0x1e8)]['left']='calc('+_0x4cdf60+_0x5a072c(0xf6),_0x48da7d[_0x5a072c(0x1e8)][_0x5a072c(0x18c)]=0xa+_0xe75b85[_0x5a072c(0xae)],_0x1c12ed<0x55&&_0x48da7d['classList'][_0x5a072c(0x7e)](_0x5a072c(0x1aa)),_0x201672['appendChild'](_0x48da7d);});}function createEventEl(_0x5d5b67){const _0xbe4044=a2_0x58fa9b,[_0x24fe53,_0x252c7e]=_0x5d5b67[_0xbe4044(0x194)][_0xbe4044(0xb9)](':')[_0xbe4044(0x132)](Number),[_0x13a2ee,_0xbb75d6]=_0x5d5b67[_0xbe4044(0x107)][_0xbe4044(0xb9)](':')[_0xbe4044(0x132)](Number),_0x548aa6=(_0x24fe53*0x3c+_0x252c7e)/0x3c*GRID_H,_0x53ac5c=(_0x13a2ee*0x3c+_0xbb75d6-(_0x24fe53*0x3c+_0x252c7e))/0x3c*GRID_H,_0x3ac4c5=document[_0xbe4044(0x1a7)](_0xbe4044(0x17b)),_0x5d06c3=_0x5d5b67[_0xbe4044(0x187)]===_0xbe4044(0xd4)?_0xbe4044(0x136):'';_0x3ac4c5[_0xbe4044(0x139)]=_0xbe4044(0xf3)+_0x5d06c3,_0x3ac4c5[_0xbe4044(0x1e8)][_0xbe4044(0x18e)]=_0x548aa6+'px',_0x3ac4c5[_0xbe4044(0x1e8)][_0xbe4044(0x97)]=Math['max'](_0x53ac5c,0x14)+'px';const _0x4d17d0=clients[_0xbe4044(0x196)](_0x54c0a4=>_0x5d5b67[_0xbe4044(0x1a9)]&&String(_0x54c0a4['id'])===String(_0x5d5b67[_0xbe4044(0x1a9)])||_0x54c0a4['name']===_0x5d5b67['client']),_0x58e15b=_0x4d17d0?_0x4d17d0['color']:_0xbe4044(0x168);_0x3ac4c5[_0xbe4044(0x1e8)][_0xbe4044(0x12f)]=_0x58e15b,_0x3ac4c5[_0xbe4044(0x1e8)][_0xbe4044(0x1ed)]=hexToRgba(_0x58e15b,0.85);let _0x386f61=_0xbe4044(0x1c2)+_0x5d5b67[_0xbe4044(0x8f)]+'</div><div\x20class=\x22ev-time\x22>'+_0x5d5b67[_0xbe4044(0x194)]+'\x20-\x20'+_0x5d5b67[_0xbe4044(0x107)]+_0xbe4044(0x80);return _0x5d5b67[_0xbe4044(0x111)]&&(_0x386f61+=_0xbe4044(0x1e4)),_0x5d5b67['status']==='completed'&&(_0x386f61+=_0xbe4044(0x12d)),_0x3ac4c5[_0xbe4044(0x11b)]=_0x386f61,_0x3ac4c5[_0xbe4044(0x1af)]=_0x25ceb2=>{const _0x30379f=_0xbe4044;_0x25ceb2[_0x30379f(0x148)](),openEdit(_0x5d5b67);},_0x3ac4c5;}function attachLongPressHandler(_0x2854aa,_0x57006b){const _0x331c07=a2_0x58fa9b;let _0x34e9fa=0x0,_0x6014f0=null;const _0xa5ef9f=_0x424825=>{const _0x12132d=a2_0x355f;if(_0x424825[_0x12132d(0x1b5)][_0x12132d(0x91)](_0x12132d(0x1ee)))return;isScrolling=![],_0x34e9fa=_0x424825[_0x12132d(0x205)]?_0x424825[_0x12132d(0x205)][0x0][_0x12132d(0x1a6)]:_0x424825[_0x12132d(0x1a6)],_0x6014f0=setTimeout(()=>{const _0x4e87fe=_0x12132d;if(!isScrolling){navigator[_0x4e87fe(0x112)]?.(0x32);const _0xd5167c=_0x2854aa[_0x4e87fe(0x1a4)](),_0x8a4d28=Math[_0x4e87fe(0x15f)]((_0x34e9fa-_0xd5167c['top'])/GRID_H);_0x57006b['setHours'](_0x8a4d28,0x0),openAddSession(_0x57006b);}},0x1f4);},_0x2b1c8e=()=>{isScrolling=!![],clearTimeout(_0x6014f0);},_0x3df195=()=>{clearTimeout(_0x6014f0);};_0x2854aa[_0x331c07(0x127)]('touchstart',_0xa5ef9f,{'passive':!![]}),_0x2854aa[_0x331c07(0x127)](_0x331c07(0x118),_0x2b1c8e,{'passive':!![]}),_0x2854aa[_0x331c07(0x127)](_0x331c07(0x11e),_0x3df195),_0x2854aa[_0x331c07(0x127)](_0x331c07(0xa1),_0xa5ef9f),_0x2854aa[_0x331c07(0x127)]('mousemove',_0x2b1c8e),_0x2854aa['addEventListener']('mouseup',_0x3df195);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x1b4326=a2_0x58fa9b,_0x35af55=document[_0x1b4326(0x176)]('matrixViewport'),_0x34846e=_0x35af55[_0x1b4326(0x1cf)],_0x54f802=_0x35af55[_0x1b4326(0x129)],_0x12fcb7=_0x35af55[_0x1b4326(0xb0)];if(_0x54f802-(_0x34846e+_0x12fcb7)<0x12c){const _0x3849cc=endOffset;endOffset+=0xe,renderDayRange(_0x3849cc+0x1,endOffset),reRenderBlocks();}if(_0x34846e<0x12c){const _0x10e2ff=startOffset;startOffset-=0xe,prependDays(startOffset,_0x10e2ff-0x1),_0x35af55[_0x1b4326(0x1cf)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x4690a1,_0xc57e5a){const _0x1d16b5=a2_0x58fa9b,_0x56d89a=document[_0x1d16b5(0x176)](_0x1d16b5(0x1de)),_0x5e261e=document[_0x1d16b5(0x176)](_0x1d16b5(0x186)),_0x5c0929=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x137315=new Date();_0x137315[_0x1d16b5(0x1ae)](0x0,0x0,0x0,0x0);const _0x29297f=getLocalDateStr(new Date()),_0x158d66=document[_0x1d16b5(0xb7)](),_0x2b1f63=document[_0x1d16b5(0xb7)]();for(let _0x27308d=_0x4690a1;_0x27308d<=_0xc57e5a;_0x27308d++){const _0x3f4ae0=new Date(_0x137315);_0x3f4ae0[_0x1d16b5(0xf2)](_0x3f4ae0[_0x1d16b5(0x13f)]()+_0x27308d);const _0x8786ef=getLocalDateStr(_0x3f4ae0);let _0x3b9837=_0x3f4ae0[_0x1d16b5(0x1c8)]()-0x1;if(_0x3b9837===-0x1)_0x3b9837=0x6;const _0x1edc88=_0x8786ef===_0x29297f,_0x5a894a=document[_0x1d16b5(0x1a7)](_0x1d16b5(0x17b));_0x5a894a[_0x1d16b5(0x139)]='day-col-header\x20'+(_0x1edc88?_0x1d16b5(0x175):''),_0x5a894a['id']=_0x1d16b5(0x1d8)+_0x8786ef,_0x5a894a['setAttribute'](_0x1d16b5(0xe6),_0x8786ef),_0x5a894a['innerHTML']=_0x1d16b5(0x1a8)+_0x5c0929[_0x3b9837]+_0x1d16b5(0x19d)+_0x3f4ae0[_0x1d16b5(0x13f)]()+_0x1d16b5(0x1e7)+_0x8786ef+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x5a894a[_0x1d16b5(0x1af)]=()=>openDayOptions(_0x8786ef,_0x5c0929[_0x3b9837]+'\x20'+_0x3f4ae0['getDate']()),_0x158d66[_0x1d16b5(0x1b1)](_0x5a894a);const _0x31045c=document[_0x1d16b5(0x1a7)](_0x1d16b5(0x17b));_0x31045c[_0x1d16b5(0x139)]=_0x1d16b5(0x150)+(_0x1edc88?_0x1d16b5(0x175):''),_0x31045c['setAttribute']('data-date',_0x8786ef),_0x31045c[_0x1d16b5(0x131)](_0x1d16b5(0x1d3),_0x3b9837),renderEventsForColumn(_0x31045c,_0x8786ef,_0x3b9837),attachLongPressHandler(_0x31045c,_0x3f4ae0),_0x2b1f63['appendChild'](_0x31045c),updateDayStats(_0x8786ef);}_0x56d89a['insertBefore'](_0x158d66,_0x56d89a['firstChild']),_0x5e261e[_0x1d16b5(0x197)](_0x2b1f63,_0x5e261e[_0x1d16b5(0x1c5)](_0x1d16b5(0x1fb)));}function validateAppointment(_0x244c21,_0x1f3deb,_0x41a4c4,_0x2b5b9e,_0x5f3da5){const _0x5dfdc9=a2_0x58fa9b,[_0x4dd736,_0x324877]=_0x1f3deb['split'](':')[_0x5dfdc9(0x132)](Number),[_0x16c2e4,_0x55c7dc]=_0x41a4c4['split'](':')['map'](Number),_0x5242e7=_0x4dd736*0x3c+_0x324877,_0x5c88ac=_0x16c2e4*0x3c+_0x55c7dc,_0x525ff6=String(_0x5f3da5);let _0x426dd4=![],_0x2835b7='';for(let _0x290e0f of sessions){if(_0x290e0f['dateStr']!==_0x244c21)continue;if(_0x290e0f['status']==='cancelled')continue;if(_0x2b5b9e&&String(_0x290e0f['id'])===String(_0x2b5b9e))continue;const [_0x1b121b,_0xc02bcc]=_0x290e0f[_0x5dfdc9(0x194)][_0x5dfdc9(0xb9)](':')['map'](Number),[_0x45e0e0,_0x3cb65c]=_0x290e0f[_0x5dfdc9(0x107)][_0x5dfdc9(0xb9)](':')[_0x5dfdc9(0x132)](Number),_0x54417a=_0x1b121b*0x3c+_0xc02bcc,_0x294534=_0x45e0e0*0x3c+_0x3cb65c;if(Math[_0x5dfdc9(0x155)](_0x5242e7,_0x54417a)<Math[_0x5dfdc9(0x1e6)](_0x5c88ac,_0x294534)){if(_0x290e0f[_0x5dfdc9(0x1a9)]&&String(_0x290e0f['clientId'])===_0x525ff6)return{'valid':![],'msg':_0x5dfdc9(0x1a3)+_0x290e0f[_0x5dfdc9(0x8f)]+_0x5dfdc9(0x147)};_0x426dd4=!![],_0x2835b7=_0x290e0f['client'];}}if(_0x426dd4)return{'valid':!![],'warning':_0x5dfdc9(0x1c7)+_0x2835b7};return{'valid':!![]};}function updateDateDisplay(){const _0x5769b4=a2_0x58fa9b,_0x527387=document['getElementById'](_0x5769b4(0x117))['value'],_0x258b34=document[_0x5769b4(0x176)]('sheetDateSubtitle');if(!_0x527387){_0x258b34['textContent']='';return;}const [_0x5ab0d7,_0x3d852c,_0x53af41]=_0x527387[_0x5769b4(0xb9)]('-')[_0x5769b4(0x132)](Number),_0x476bac=new Date(_0x5ab0d7,_0x3d852c-0x1,_0x53af41),_0x429872={'weekday':_0x5769b4(0xa0),'day':_0x5769b4(0x110),'month':_0x5769b4(0xa0),'year':_0x5769b4(0x110)};let _0x437f76=_0x476bac[_0x5769b4(0xa3)](_0x5769b4(0x13a),_0x429872);_0x437f76=_0x437f76['charAt'](0x0)[_0x5769b4(0xd8)]()+_0x437f76[_0x5769b4(0x172)](0x1),_0x258b34[_0x5769b4(0x192)]=_0x437f76;}function autoSetEndTime(){const _0xcbde86=a2_0x58fa9b,_0x39c7ca=document[_0xcbde86(0x176)]('inpStart')['value'];if(!_0x39c7ca)return;const [_0x230582,_0x194518]=_0x39c7ca[_0xcbde86(0xb9)](':')['map'](Number);let _0x3f97d6=_0x230582+0x1;if(_0x3f97d6>0x17)_0x3f97d6=0x0;const _0x2bf48=String(_0x3f97d6)[_0xcbde86(0x162)](0x2,'0')+':'+String(_0x194518)['padStart'](0x2,'0');document['getElementById']('inpEnd')[_0xcbde86(0x18a)]=_0x2bf48;}function populateClientSelect(){const _0x1332d1=a2_0x58fa9b,_0x5e8f83=document['getElementById'](_0x1332d1(0x142));_0x5e8f83[_0x1332d1(0x11b)]='';if(clients[_0x1332d1(0x1f7)]===0x0){const _0x322e26=document['createElement'](_0x1332d1(0xdf));_0x322e26[_0x1332d1(0xb6)]='–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤',_0x5e8f83['appendChild'](_0x322e26);return;}clients['forEach'](_0x1e45bd=>{const _0x4dce37=_0x1332d1,_0x1f067c=document[_0x4dce37(0x1a7)](_0x4dce37(0xdf));_0x1f067c['value']=_0x1e45bd['name'],_0x1f067c[_0x4dce37(0x192)]=_0x1e45bd[_0x4dce37(0x144)],_0x5e8f83[_0x4dce37(0x1b1)](_0x1f067c);});}function openActionSheet(_0x97bd7d){const _0x49b3d4=a2_0x58fa9b,_0x4da0df=document[_0x49b3d4(0x176)](_0x49b3d4(0x7f)),_0x229ce7=document[_0x49b3d4(0x176)]('actionSheetOverlay'),_0x3dbc4e=document[_0x49b3d4(0x176)]('asTitle'),_0x41f57a=document['getElementById'](_0x49b3d4(0x15e)),_0x3fe622=document[_0x49b3d4(0x176)](_0x49b3d4(0x1e1));_0x229ce7[_0x49b3d4(0x1bf)][_0x49b3d4(0x7e)]('active'),_0x4da0df['classList']['add']('open');if(_0x97bd7d===_0x49b3d4(0xcd))_0x3dbc4e[_0x49b3d4(0x192)]=_0x49b3d4(0x9b),_0x41f57a['textContent']=_0x49b3d4(0x1df),_0x41f57a[_0x49b3d4(0x1af)]=()=>{const _0x51c49b=_0x49b3d4;closeActionSheet(),updateSeriesBatch(_0x51c49b(0xed),tempSessionData);},_0x3fe622[_0x49b3d4(0x192)]=_0x49b3d4(0xc0),_0x3fe622[_0x49b3d4(0x1af)]=()=>{const _0x5ae601=_0x49b3d4;closeActionSheet(),updateSeriesBatch(_0x5ae601(0x114),tempSessionData);};else _0x97bd7d==='delete'&&(_0x3dbc4e[_0x49b3d4(0x192)]=_0x49b3d4(0x159),_0x41f57a['textContent']=_0x49b3d4(0x1df),_0x41f57a[_0x49b3d4(0x139)]=_0x49b3d4(0x1db),_0x41f57a[_0x49b3d4(0x1af)]=()=>{const _0x3555ab=_0x49b3d4;closeActionSheet(),commitDelete(_0x3555ab(0xed),sessions['find'](_0x2ddbd9=>_0x2ddbd9['id']===editingId));},_0x3fe622[_0x49b3d4(0x192)]=_0x49b3d4(0xc0),_0x3fe622[_0x49b3d4(0x139)]=_0x49b3d4(0x1d1),_0x3fe622['onclick']=()=>{const _0x414aa1=_0x49b3d4;closeActionSheet(),commitDelete(_0x414aa1(0x114),sessions[_0x414aa1(0x196)](_0x4052d9=>_0x4052d9['id']===editingId));});}function closeActionSheet(){const _0x1e1219=a2_0x58fa9b;document[_0x1e1219(0x176)](_0x1e1219(0x7f))[_0x1e1219(0x1bf)][_0x1e1219(0x182)](_0x1e1219(0xb8)),document['getElementById'](_0x1e1219(0x185))[_0x1e1219(0x1bf)]['remove'](_0x1e1219(0xee));}function openSettings(){openSheet('settingsSheet');}function saveCoachSettings(){const _0x488f88=a2_0x58fa9b,_0x545051=document['getElementById'](_0x488f88(0x141))[_0x488f88(0x18a)];localStorage[_0x488f88(0xd7)](_0x488f88(0xa6),_0x545051),console[_0x488f88(0x103)](_0x488f88(0x157),_0x545051),DataManager[_0x488f88(0x1fa)](_0x488f88(0x9d),{'settings':{'cancel_window':_0x545051}})['catch'](_0x2d8e3e=>{const _0x2c3efa=_0x488f88;console[_0x2c3efa(0x203)]('Save\x20settings\x20error:',_0x2d8e3e),showToast(_0x2c3efa(0x158),![]);});}function loadCoachSettings(){const _0x4275f3=a2_0x58fa9b,_0x4a9812=localStorage[_0x4275f3(0x106)](_0x4275f3(0xa6));_0x4a9812&&(document[_0x4275f3(0x176)]('settingCancelWindow')[_0x4275f3(0x18a)]=_0x4a9812);}function openRangesSheet(){closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet('rangesSheet');}function addRange(){const _0x152e0d=a2_0x58fa9b,_0x19d64b=document[_0x152e0d(0x176)](_0x152e0d(0x167))[_0x152e0d(0x18a)],_0x3230ad=document[_0x152e0d(0x176)](_0x152e0d(0x1f1))[_0x152e0d(0x18a)],_0x538544=document[_0x152e0d(0x176)](_0x152e0d(0xcf))[_0x152e0d(0x18a)],_0x3327ae=document['getElementById'](_0x152e0d(0x11c))['value'];if(!_0x19d64b||!_0x3230ad||!_0x538544||!_0x3327ae)return alert(_0x152e0d(0xc2));const _0x3e767a=_0x19d64b+'T'+_0x3230ad,_0x39a21a=_0x538544+'T'+_0x3327ae;if(_0x3e767a>=_0x39a21a)return alert(_0x152e0d(0xeb));specialRanges[_0x152e0d(0x154)]({'start':_0x3e767a,'end':_0x39a21a}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x152e0d(0x135)](),DataManager[_0x152e0d(0x1fa)](_0x152e0d(0x9d),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x1b0c02){const _0x119a37=a2_0x58fa9b;specialRanges[_0x119a37(0x1c3)](_0x1b0c02,0x1),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x119a37(0x1fa)](_0x119a37(0x9d),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x168c95=a2_0x58fa9b;document['getElementById']('rangeStartDate')[_0x168c95(0x18a)]='',document[_0x168c95(0x176)](_0x168c95(0x1f1))[_0x168c95(0x18a)]=_0x168c95(0x138),document[_0x168c95(0x176)](_0x168c95(0xcf))[_0x168c95(0x18a)]='',document[_0x168c95(0x176)]('rangeEndTime')['value']=_0x168c95(0x146);}function renderRangesList(){const _0xba298b=a2_0x58fa9b,_0x518fb0=document['getElementById'](_0xba298b(0x1ef));_0x518fb0['innerHTML']='';if(!specialRanges[_0xba298b(0x1f7)]){_0x518fb0['innerHTML']=_0xba298b(0x17a);return;}specialRanges[_0xba298b(0x1bc)]((_0x3e79c8,_0x2b9a4a)=>{const _0xbbbb84=_0xba298b,_0x1130ec=document['createElement'](_0xbbbb84(0x17b));_0x1130ec[_0xbbbb84(0x139)]=_0xbbbb84(0x16a);const _0x53b2b7=_0xeb07d6=>{const _0x3bd3fa=_0xbbbb84,_0x5a6231=new Date(_0xeb07d6);return _0x5a6231['getDate']()+'.'+String(_0x5a6231[_0x3bd3fa(0xc7)]()+0x1)[_0x3bd3fa(0x162)](0x2,'0')+'\x20'+String(_0x5a6231['getHours']())[_0x3bd3fa(0x162)](0x2,'0')+':'+String(_0x5a6231[_0x3bd3fa(0x10b)]())['padStart'](0x2,'0');};_0x1130ec[_0xbbbb84(0x11b)]=_0xbbbb84(0x9a)+_0x53b2b7(_0x3e79c8['start'])+_0xbbbb84(0x1b4)+_0x53b2b7(_0x3e79c8[_0xbbbb84(0x107)])+_0xbbbb84(0x99)+_0x2b9a4a+')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>',_0x518fb0['appendChild'](_0x1130ec);});}function scrollToToday(){const _0x57d54f=a2_0x58fa9b,_0x15efee=getLocalDateStr(new Date()),_0x477764=document['getElementById'](_0x57d54f(0x1d8)+_0x15efee),_0x1880d5=document['getElementById'](_0x57d54f(0x17e));if(_0x477764&&_0x1880d5){const _0x3da321=_0x1880d5[_0x57d54f(0xb0)],_0x26276e=_0x477764[_0x57d54f(0x1fe)],_0x1c0221=_0x477764['offsetWidth'];_0x1880d5[_0x57d54f(0x1cf)]=_0x26276e-_0x3da321/0x2+_0x1c0221/0x2,_0x1880d5['scrollTop']=0x9*GRID_H;}}function onScroll(){const _0x2a26a6=a2_0x58fa9b,_0x531a5e=document['getElementById'](_0x2a26a6(0x17e)),_0x2d7fd0=document[_0x2a26a6(0x17d)](_0x2a26a6(0x14f));for(let _0x5ef5c2 of _0x2d7fd0)if(_0x5ef5c2[_0x2a26a6(0x1fe)]>=_0x531a5e[_0x2a26a6(0x1cf)]){const _0x36e631=new Date(_0x5ef5c2[_0x2a26a6(0x9c)](_0x2a26a6(0xe6)));document[_0x2a26a6(0x176)](_0x2a26a6(0x19c))[_0x2a26a6(0x192)]=_0x36e631[_0x2a26a6(0xe8)]('ru',{'month':_0x2a26a6(0xa0)})[_0x2a26a6(0xd8)]()+'\x20'+_0x36e631[_0x2a26a6(0x125)]();break;}}function a2_0x355f(_0x347056,_0x2deb98){_0x347056=_0x347056-0x7c;const _0x2b9dbd=a2_0x4dec();let _0x44bfd8=_0x2b9dbd[_0x347056];return _0x44bfd8;}function showToast(_0x310a12,_0x52bbf0=![]){const _0x2ba806=a2_0x58fa9b,_0x340958=document[_0x2ba806(0x176)](_0x2ba806(0xcb));_0x340958['className']=_0x2ba806(0x164)+(_0x52bbf0?_0x2ba806(0xfb):''),document[_0x2ba806(0x176)]('toastTitle')[_0x2ba806(0x192)]=_0x52bbf0?_0x2ba806(0x1f2):_0x2ba806(0x1ba),document[_0x2ba806(0x176)](_0x2ba806(0x8d))[_0x2ba806(0x192)]=_0x310a12,_0x340958[_0x2ba806(0x1bf)][_0x2ba806(0x7e)](_0x2ba806(0xb2)),setTimeout(()=>{const _0xdd229=_0x2ba806;_0x340958[_0xdd229(0x1bf)]['remove'](_0xdd229(0xb2));},0xbb8);}function openDayOptions(_0x4c839b,_0x5baa57){const _0x2ab2c1=a2_0x58fa9b;selectedDayForOptions=_0x4c839b,document[_0x2ab2c1(0x176)](_0x2ab2c1(0xff))[_0x2ab2c1(0x192)]=_0x5baa57,openSheet(_0x2ab2c1(0x87));}function toggleDayOff(){const _0x1f4c78=a2_0x58fa9b;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x1f4c78(0x177),reRenderBlocks(),closeAllSheets(),DataManager[_0x1f4c78(0x135)](),DataManager[_0x1f4c78(0x1fa)]('save_settings',{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x6bb3df=a2_0x58fa9b;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager[_0x6bb3df(0x1fa)](_0x6bb3df(0x9d),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x415284){const _0x3aa019=a2_0x58fa9b;document[_0x3aa019(0x176)](_0x3aa019(0x19a))[_0x3aa019(0x1bf)][_0x3aa019(0x7e)](_0x3aa019(0xee)),document[_0x3aa019(0x176)](_0x415284)[_0x3aa019(0x1bf)]['add'](_0x3aa019(0xb8));}function closeAllSheets(){const _0x4a06b0=a2_0x58fa9b;document[_0x4a06b0(0x176)](_0x4a06b0(0x19a))['classList']['remove'](_0x4a06b0(0xee)),document[_0x4a06b0(0x17d)](_0x4a06b0(0xa5))[_0x4a06b0(0x1bc)](_0x15e40f=>_0x15e40f[_0x4a06b0(0x1bf)]['remove'](_0x4a06b0(0xb8)));}function openPatternEditor(){const _0x4b0b55=a2_0x58fa9b;closeAllSheets(),document[_0x4b0b55(0x176)](_0x4b0b55(0x1e0))[_0x4b0b55(0x1bf)][_0x4b0b55(0x7e)](_0x4b0b55(0xb8)),renderPatternEditor();}function closePatternEditor(){const _0x17727b=a2_0x58fa9b;document[_0x17727b(0x176)]('patternEditor')[_0x17727b(0x1bf)]['remove']('open');}function savePattern(){const _0x4c193f=a2_0x58fa9b;document[_0x4c193f(0x176)](_0x4c193f(0x1e0))[_0x4c193f(0x1bf)][_0x4c193f(0x182)](_0x4c193f(0xb8)),reRenderBlocks(),DataManager[_0x4c193f(0x135)](),DataManager[_0x4c193f(0x1fa)](_0x4c193f(0x9d),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x358cb2=a2_0x58fa9b,_0x363684=document[_0x358cb2(0x176)]('peGrid');_0x363684[_0x358cb2(0x11b)]='';const _0x2edc9e=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x2fa361=document[_0x358cb2(0x1a7)](_0x358cb2(0x17b));_0x2fa361['className']=_0x358cb2(0x1e5),_0x363684['appendChild'](_0x2fa361),_0x2edc9e[_0x358cb2(0x1bc)]((_0x3bf3c8,_0x36e9fd)=>{const _0x53b168=_0x358cb2,_0x2a166e=document[_0x53b168(0x1a7)](_0x53b168(0x17b));_0x2a166e[_0x53b168(0x139)]='pe-col-header',_0x2a166e[_0x53b168(0x11b)]=_0x3bf3c8+_0x53b168(0x1b0),_0x2a166e[_0x53b168(0x1af)]=()=>toggleColPattern(_0x36e9fd),_0x363684[_0x53b168(0x1b1)](_0x2a166e);});for(let _0x4d5c0b=0x0;_0x4d5c0b<0x18;_0x4d5c0b++){const _0x2c73b3=document[_0x358cb2(0x1a7)](_0x358cb2(0x17b));_0x2c73b3[_0x358cb2(0x139)]='pe-time-label',_0x2c73b3[_0x358cb2(0x11b)]=_0x358cb2(0xdc)+String(_0x4d5c0b)[_0x358cb2(0x162)](0x2,'0')+':00',_0x2c73b3[_0x358cb2(0x1af)]=()=>toggleRowPattern(_0x4d5c0b),_0x363684[_0x358cb2(0x1b1)](_0x2c73b3);for(let _0x3da44e=0x0;_0x3da44e<0x7;_0x3da44e++){const _0x4e15f9=document[_0x358cb2(0x1a7)]('div'),_0x46386d=(availabilityPattern[_0x3da44e]||[])['includes'](_0x4d5c0b),_0x2ba1c3=!_0x46386d;_0x4e15f9[_0x358cb2(0x139)]=_0x358cb2(0x1dd)+(_0x2ba1c3?'active':''),_0x4e15f9[_0x358cb2(0x1af)]=()=>toggleSinglePattern(_0x3da44e,_0x4d5c0b),_0x363684['appendChild'](_0x4e15f9);}}}function toggleSinglePattern(_0xcf6346,_0x31a025){const _0x68df8d=a2_0x58fa9b;if(!availabilityPattern[_0xcf6346])availabilityPattern[_0xcf6346]=[];const _0x29b745=availabilityPattern[_0xcf6346],_0x585f63=_0x29b745[_0x68df8d(0x1b8)](_0x31a025);_0x585f63===-0x1?_0x29b745[_0x68df8d(0x154)](_0x31a025):_0x29b745[_0x68df8d(0x1c3)](_0x585f63,0x1),renderPatternEditor();}function toggleColPattern(_0x2bad36){const _0x3247a8=a2_0x58fa9b;if(!availabilityPattern[_0x2bad36])availabilityPattern[_0x2bad36]=[];const _0x45014f=availabilityPattern[_0x2bad36];_0x45014f[_0x3247a8(0x1f7)]===0x0?availabilityPattern[_0x2bad36]=Array['from']({'length':0x18},(_0x5bd15f,_0x50bbb7)=>_0x50bbb7):availabilityPattern[_0x2bad36]=[],renderPatternEditor();}function toggleRowPattern(_0x556d8d){const _0xf9001=a2_0x58fa9b;let _0x2805e5=!![];for(let _0x3f4bc5=0x0;_0x3f4bc5<0x7;_0x3f4bc5++){if((availabilityPattern[_0x3f4bc5]||[])[_0xf9001(0x7c)](_0x556d8d)){_0x2805e5=![];break;}}for(let _0x50968c=0x0;_0x50968c<0x7;_0x50968c++){if(!availabilityPattern[_0x50968c])availabilityPattern[_0x50968c]=[];const _0x16fedd=availabilityPattern[_0x50968c][_0xf9001(0x1b8)](_0x556d8d);if(_0x2805e5){if(_0x16fedd===-0x1)availabilityPattern[_0x50968c][_0xf9001(0x154)](_0x556d8d);}else{if(_0x16fedd!==-0x1)availabilityPattern[_0x50968c]['splice'](_0x16fedd,0x1);}}renderPatternEditor();}function renderPCol(_0x46cf5f,_0x4a83ee){const _0x1ed971=a2_0x58fa9b;_0x46cf5f['innerHTML']='';const _0x52aed5=Math[_0x1ed971(0xf9)](_0x46cf5f[_0x1ed971(0x1fe)]);(availabilityPattern[_0x4a83ee]||[])[_0x1ed971(0x1bc)](_0x1a1f5b=>{const _0x3a0167=_0x1ed971,_0x5a033c=document[_0x3a0167(0x1a7)]('div');_0x5a033c[_0x3a0167(0x139)]='blocked-slot\x20stripe-bg';const _0x2ecf07=_0x1a1f5b*GRID_H;_0x5a033c[_0x3a0167(0x1e8)][_0x3a0167(0x18e)]=_0x2ecf07+'px',_0x5a033c[_0x3a0167(0x1e8)][_0x3a0167(0x13e)]='-'+_0x52aed5+_0x3a0167(0x1dc)+_0x2ecf07+'px',_0x5a033c['onclick']=_0x4ec58b=>{const _0x28a508=_0x3a0167;_0x4ec58b[_0x28a508(0x148)](),toggleSinglePattern(_0x4a83ee,_0x1a1f5b);},_0x46cf5f[_0x3a0167(0x1b1)](_0x5a033c);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x1fd16e=a2_0x58fa9b,_0x40c913=new Date(),_0x5d116b=document[_0x1fd16e(0x176)](_0x1fd16e(0xca)),_0x5f9d76=document['getElementById'](_0x1fd16e(0xf0)),_0x13c730=(_0x40c913[_0x1fd16e(0x16c)]()*0x3c+_0x40c913[_0x1fd16e(0x10b)]())/0x3c*GRID_H;_0x5d116b['style'][_0x1fd16e(0x18e)]=_0x13c730+'px',_0x5d116b['style']['display']=_0x1fd16e(0xe4),_0x5f9d76[_0x1fd16e(0x192)]=String(_0x40c913[_0x1fd16e(0x16c)]())[_0x1fd16e(0x162)](0x2,'0')+':'+String(_0x40c913[_0x1fd16e(0x10b)]())[_0x1fd16e(0x162)](0x2,'0'),_0x5f9d76[_0x1fd16e(0x1e8)]['display']=_0x1fd16e(0xe4),_0x5f9d76[_0x1fd16e(0x1e8)]['top']=_0x13c730+'px';}document[a2_0x58fa9b(0x127)](a2_0x58fa9b(0xde),init);function openDayOptions(_0x22586c){const _0x582077=a2_0x58fa9b;selectedDayForOptions=_0x22586c;const _0x516585=new Date(_0x22586c),_0x1f3bf8={'weekday':_0x582077(0xa0),'day':_0x582077(0x110),'month':_0x582077(0xa0),'year':_0x582077(0x110)},_0x3ccce8=_0x516585['toLocaleDateString']('ru-RU',_0x1f3bf8);document[_0x582077(0x176)](_0x582077(0x96))[_0x582077(0x192)]=_0x3ccce8['charAt'](0x0)[_0x582077(0xd8)]()+_0x3ccce8['slice'](0x1);let _0x4a3806=_0x516585[_0x582077(0x1c8)]()-0x1;if(_0x4a3806===-0x1)_0x4a3806=0x6;const _0x28d046=availabilityPattern[_0x4a3806]||[],_0x331e24=0x18-_0x28d046[_0x582077(0x1f7)],_0x400676=_0x331e24*0x3c,_0x5118c2=sessions[_0x582077(0xd0)](_0x4e7d2e=>_0x4e7d2e['dateStr']===_0x22586c&&_0x4e7d2e['status']!==_0x582077(0x1a2));let _0x1a64bc=_0x5118c2['map'](_0x37dff7=>{const _0x35a12e=_0x582077,[_0x42ff56,_0x3772f2]=_0x37dff7[_0x35a12e(0x194)][_0x35a12e(0xb9)](':')[_0x35a12e(0x132)](Number),[_0x2cc987,_0x526ca9]=_0x37dff7[_0x35a12e(0x107)][_0x35a12e(0xb9)](':')[_0x35a12e(0x132)](Number);return[_0x42ff56*0x3c+_0x3772f2,_0x2cc987*0x3c+_0x526ca9];});_0x1a64bc[_0x582077(0x199)]((_0x303358,_0x2f65bb)=>_0x303358[0x0]-_0x2f65bb[0x0]);let _0x33da6f=[];if(_0x1a64bc['length']>0x0){let _0xe9c5a=_0x1a64bc[0x0];for(let _0x3f3a62=0x1;_0x3f3a62<_0x1a64bc[_0x582077(0x1f7)];_0x3f3a62++){_0x1a64bc[_0x3f3a62][0x0]<_0xe9c5a[0x1]?_0xe9c5a[0x1]=Math[_0x582077(0x155)](_0xe9c5a[0x1],_0x1a64bc[_0x3f3a62][0x1]):(_0x33da6f[_0x582077(0x154)](_0xe9c5a),_0xe9c5a=_0x1a64bc[_0x3f3a62]);}_0x33da6f[_0x582077(0x154)](_0xe9c5a);}let _0x241d2a=0x0;_0x33da6f['forEach'](_0x368ce5=>_0x241d2a+=_0x368ce5[0x1]-_0x368ce5[0x0]),document[_0x582077(0x176)](_0x582077(0xd9))[_0x582077(0x192)]=formatMinsToHrs(_0x400676),document[_0x582077(0x176)](_0x582077(0xe1))[_0x582077(0x192)]=formatMinsToHrs(_0x241d2a);const _0x51567e=_0x400676>0x0?Math[_0x582077(0xf9)](_0x241d2a/_0x400676*0x64):0x0,_0x1fd806=document[_0x582077(0x176)](_0x582077(0x81));_0x1fd806[_0x582077(0x192)]=_0x51567e+'%';const _0x1c61c1=document[_0x582077(0x176)]('statLoadCard');if(_0x51567e>0x64)_0x1fd806[_0x582077(0x1e8)][_0x582077(0x1ff)]='var(--acc-red)',_0x1c61c1[_0x582077(0x1e8)][_0x582077(0x15a)]=_0x582077(0x116);else _0x51567e>0x50?(_0x1fd806['style'][_0x582077(0x1ff)]=_0x582077(0x1b9),_0x1c61c1['style'][_0x582077(0x15a)]=_0x582077(0x109)):(_0x1fd806['style'][_0x582077(0x1ff)]=_0x582077(0xac),_0x1c61c1['style'][_0x582077(0x15a)]=_0x582077(0x1be));const _0x53fb2a=document['getElementById'](_0x582077(0x122));_0x53fb2a[_0x582077(0x11b)]='';_0x5118c2[_0x582077(0x1f7)]===0x0?_0x53fb2a['innerHTML']=_0x582077(0x1bb):(_0x5118c2['sort']((_0x38bfe2,_0x564e94)=>_0x38bfe2[_0x582077(0x194)][_0x582077(0x166)](_0x564e94['start'])),_0x5118c2[_0x582077(0x1bc)](_0xf1c77c=>{const _0x251824=_0x582077,_0x70de3c=clients['find'](_0x2bb2cf=>_0x2bb2cf[_0x251824(0x144)]===_0xf1c77c['client']),_0x50c856=_0x70de3c?_0x70de3c[_0x251824(0x1ff)]:_0x251824(0x12c),_0x8b692b=_0xf1c77c[_0x251824(0x187)]==='completed',_0x2c51c0=_0x8b692b?_0x251824(0x1b7):'',_0x3350de=document['createElement'](_0x251824(0x17b));_0x3350de[_0x251824(0x139)]='de-item',_0x3350de['style'][_0x251824(0x12f)]=_0x50c856,_0x3350de[_0x251824(0x11b)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>'+_0xf1c77c[_0x251824(0x194)]+_0x251824(0xfe)+_0xf1c77c[_0x251824(0x107)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xf1c77c['client']+_0x251824(0x10a)+_0x2c51c0+_0x251824(0xfc),_0x53fb2a[_0x251824(0x1b1)](_0x3350de);}));const _0x19ab5d=document[_0x582077(0x176)](_0x582077(0xd1)),_0x1f28a5=dateExceptions[_0x22586c]==='off';_0x1f28a5?(_0x19ab5d[_0x582077(0x192)]='–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º',_0x19ab5d[_0x582077(0x139)]=_0x582077(0x151),_0x19ab5d[_0x582077(0x1e8)][_0x582077(0x1ff)]=_0x582077(0xac),_0x19ab5d[_0x582077(0x1e8)][_0x582077(0xe2)]=_0x582077(0x1da)):(_0x19ab5d[_0x582077(0x192)]=_0x582077(0x13d),_0x19ab5d[_0x582077(0x139)]=_0x582077(0x181),_0x19ab5d['style'][_0x582077(0x1ff)]='var(--acc-red)',_0x19ab5d[_0x582077(0x1e8)][_0x582077(0xe2)]='rgba(255,\x2069,\x2058,\x200.15)'),openSheet(_0x582077(0x87));}let currentAnPeriod='week';function openAnalytics(){const _0x4d38c7=a2_0x58fa9b,_0x3e5872=document[_0x4d38c7(0x1c5)](_0x4d38c7(0x18b));setAnalyticsPeriod(_0x4d38c7(0x1c9),_0x3e5872),closeAllSheets(),openSheet(_0x4d38c7(0x84));}function setAnalyticsPeriod(_0x34e5fb,_0x1df194){const _0xebffce=a2_0x58fa9b;currentAnPeriod=_0x34e5fb,document['querySelectorAll'](_0xebffce(0x18b))[_0xebffce(0x1bc)](_0x4ea797=>_0x4ea797[_0xebffce(0x1bf)][_0xebffce(0x182)](_0xebffce(0xee)));if(_0x1df194)_0x1df194[_0xebffce(0x1bf)][_0xebffce(0x7e)]('active');const _0x4e4771=document[_0xebffce(0x176)](_0xebffce(0x130));_0x4e4771[_0xebffce(0x1e8)][_0xebffce(0xd5)]=_0x34e5fb===_0xebffce(0x1f4)?_0xebffce(0x200):_0xebffce(0x16d);const _0x661130=new Date();let _0x3c633d=new Date(),_0x5ae825=new Date();if(_0x34e5fb===_0xebffce(0x1c9))_0x3c633d=getStartOfWeek(_0x661130),_0x5ae825=new Date(_0x3c633d),_0x5ae825['setDate'](_0x5ae825[_0xebffce(0x13f)]()+0x6);else{if(_0x34e5fb===_0xebffce(0x174))_0x3c633d=new Date(_0x661130[_0xebffce(0x125)](),_0x661130['getMonth'](),0x1),_0x5ae825=new Date(_0x661130['getFullYear'](),_0x661130['getMonth']()+0x1,0x0);else{!document[_0xebffce(0x176)](_0xebffce(0x143))[_0xebffce(0x18a)]&&(document['getElementById'](_0xebffce(0x143))[_0xebffce(0x18a)]=getLocalDateStr(_0x661130),document[_0xebffce(0x176)](_0xebffce(0xaa))[_0xebffce(0x18a)]=getLocalDateStr(_0x661130));refreshAnalytics();return;}}document[_0xebffce(0x176)](_0xebffce(0x143))[_0xebffce(0x18a)]=getLocalDateStr(_0x3c633d),document['getElementById']('anEnd')[_0xebffce(0x18a)]=getLocalDateStr(_0x5ae825),refreshAnalytics();}function refreshAnalytics(){const _0x5bc37c=a2_0x58fa9b,_0x238665=document[_0x5bc37c(0x176)](_0x5bc37c(0x143))[_0x5bc37c(0x18a)],_0x93542f=document['getElementById']('anEnd')[_0x5bc37c(0x18a)];if(!_0x238665||!_0x93542f)return;const _0x41e83e=sessions[_0x5bc37c(0xd0)](_0x37b573=>_0x37b573[_0x5bc37c(0xdd)]>=_0x238665&&_0x37b573[_0x5bc37c(0xdd)]<=_0x93542f&&_0x37b573[_0x5bc37c(0x187)]!==_0x5bc37c(0x1a2)),_0x76b033=_0x41e83e[_0x5bc37c(0x1f7)],_0x28ae8b=_0x41e83e[_0x5bc37c(0xd0)](_0x3a5d8a=>_0x3a5d8a[_0x5bc37c(0x187)]===_0x5bc37c(0xd4))[_0x5bc37c(0x1f7)],_0x2968da=_0x76b033>0x0?Math[_0x5bc37c(0xf9)](_0x28ae8b/_0x76b033*0x64):0x0;document['getElementById'](_0x5bc37c(0xa8))[_0x5bc37c(0x192)]=_0x2968da+'%',document[_0x5bc37c(0x176)]('anTotalStats')[_0x5bc37c(0x192)]=_0x28ae8b+'\x20–∏–∑\x20'+_0x76b033+_0x5bc37c(0x95);const _0x97399f=document[_0x5bc37c(0x176)](_0x5bc37c(0x17f)),_0x62a1eb=0x2*Math['PI']*0x23,_0x4ae777=_0x62a1eb-_0x2968da/0x64*_0x62a1eb;_0x97399f[_0x5bc37c(0x1e8)]['strokeDashoffset']=_0x4ae777;const _0x5e9978={};_0x41e83e['forEach'](_0xbad33e=>{const _0x26d084=_0x5bc37c;if(!_0x5e9978[_0xbad33e['client']]){const _0x454d2a=clients[_0x26d084(0x196)](_0x303721=>_0x303721[_0x26d084(0x144)]===_0xbad33e[_0x26d084(0x8f)]);_0x5e9978[_0xbad33e[_0x26d084(0x8f)]]={'total':0x0,'done':0x0,'color':_0x454d2a?_0x454d2a[_0x26d084(0x1ff)]:_0x26d084(0x12c)};}_0x5e9978[_0xbad33e['client']]['total']++;if(_0xbad33e[_0x26d084(0x187)]===_0x26d084(0xd4))_0x5e9978[_0xbad33e[_0x26d084(0x8f)]][_0x26d084(0x1f9)]++;});const _0x1a9140=document[_0x5bc37c(0x176)]('analyticsList');_0x1a9140[_0x5bc37c(0x11b)]='';const _0x38a651=Object[_0x5bc37c(0x113)](_0x5e9978)[_0x5bc37c(0x199)]((_0x7a3a5e,_0x51b69e)=>_0x51b69e[0x1][_0x5bc37c(0x101)]-_0x7a3a5e[0x1]['total']);if(_0x38a651[_0x5bc37c(0x1f7)]===0x0){_0x1a9140[_0x5bc37c(0x11b)]=_0x5bc37c(0xf4);return;}_0x38a651['forEach'](([_0x49cd66,_0x460246])=>{const _0xce7b2=_0x5bc37c,_0x1cf6aa=Math[_0xce7b2(0xf9)](_0x460246['done']/_0x460246[_0xce7b2(0x101)]*0x64),_0x5b8d4d=document['createElement'](_0xce7b2(0x17b));_0x5b8d4d['className']=_0xce7b2(0xba),_0x5b8d4d[_0xce7b2(0x1e8)][_0xce7b2(0x12f)]=_0x460246[_0xce7b2(0x1ff)],_0x5b8d4d['innerHTML']=_0xce7b2(0x121)+_0x49cd66+_0xce7b2(0x156)+_0x460246[_0xce7b2(0x1f9)]+_0xce7b2(0x133)+_0x460246[_0xce7b2(0x101)]+_0xce7b2(0x104)+_0x1cf6aa+_0xce7b2(0x178),_0x1a9140[_0xce7b2(0x1b1)](_0x5b8d4d);});}function formatMinsToHrs(_0x583f60){const _0x1c9387=a2_0x58fa9b;if(_0x583f60===0x0)return'0';const _0xba6e2c=Math[_0x1c9387(0x15f)](_0x583f60/0x3c),_0x35c243=_0x583f60%0x3c;if(_0x35c243===0x0)return _0xba6e2c+'—á';return _0xba6e2c+'—á\x20'+_0x35c243+'–º';}