<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Router ‚Äî Start Menu (A/B/C)</title>
<script src="https://telegram.org/js/telegram-web-app.js"></script>
<style>
  *{margin:0;padding:0;box-sizing:border-box}
  html,body{height:100%;scrollbar-gutter:stable both-edges}
  body{
    font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Helvetica,Arial,sans-serif;
    min-height:100vh;
    background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);
    padding:20px 16px 96px 16px;
    color:#111;
  }
  .container{max-width:520px;margin:0 auto}

  .error-bar{position:fixed;left:0;right:0;top:0;z-index:9999;background:#fee2e2;color:#b91c1c;padding:8px 12px;font:600 12px/1.4 system-ui,Segoe UI,Roboto,Arial;display:none;white-space:pre-wrap}

  /* –ü—Ä–æ—Ñ–∏–ª—å */
  .profile-card{
    background:rgba(255,255,255,.15);
    backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);
    border-radius:24px;padding:24px;margin-bottom:24px;
    border:1px solid rgba(255,255,255,.2);
    box-shadow:0 8px 32px rgba(0,0,0,.12),inset 0 1px 0 rgba(255,255,255,.35)
  }
  .profile-header{display:flex;gap:14px;align-items:center}
  .profile-photo{
    width:64px;height:64px;border-radius:50%;overflow:hidden;
    display:flex;align-items:center;justify-content:center;
    color:#fff;font-weight:700;
    background:linear-gradient(135deg,rgba(255,255,255,.35),rgba(255,255,255,.15));
    border:2px solid rgba(255,255,255,.25)
  }
  .profile-name{color:#fff;font-weight:800;font-size:18px}
  .profile-id{margin-top:4px;font-size:12px;display:inline-block;color:rgba(255,255,255,.9);
    background:rgba(255,255,255,.14);padding:3px 8px;border-radius:8px}

  /* –°–µ—Ç–∫–∞ –ø–ª–∏—Ç–æ–∫ */
  .grid{display:grid;grid-template-columns:repeat(3,1fr);gap:18px}
  .tile{position:relative;text-align:center;cursor:pointer;user-select:none}
  .icon-wrap{width:72px;height:72px;margin:0 auto 10px;position:relative}
  .icon-bg{position:absolute;left:-2px;top:-2px;width:76px;height:76px;border-radius:22px;
    background:linear-gradient(135deg,rgba(255,255,255,.4),rgba(255,255,255,.1));opacity:.6}
  .icon{position:absolute;inset:0;margin:auto;width:72px;height:72px;border-radius:20px;
    background:rgba(255,255,255,.25);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);
    border:1.5px solid rgba(255,255,255,.45);display:flex;align-items:center;justify-content:center;
    box-shadow:0 8px 24px rgba(0,0,0,.12),inset 0 1px 0 rgba(255,255,255,.55);transition:transform .18s ease}
  .icon svg{width:36px;height:36px;stroke:#fff;fill:none;stroke-width:2.5;stroke-linecap:round;stroke-linejoin:round}
  .label{font-size:12px;font-weight:700;color:#fff;text-shadow:0 2px 4px rgba(0,0,0,.25)}
  .tile:active .icon{transform:scale(.92)}

  /* ripple */
  .tile .r{position:absolute;width:10px;height:10px;border-radius:999px;background:rgba(255,255,255,.35);
    left:0;top:0;transform:translate(-50%,-50%) scale(0);pointer-events:none;filter:blur(1px);
    animation:rr .6s ease-out forwards}
  @keyframes rr{to{transform:translate(-50%,-50%) scale(22);opacity:0}}

  /* Variant A: Speed Dial */
  .dial{position:absolute;left:50%;top:42%;transform:translate(-50%,-50%);pointer-events:none}
  .dial button{position:absolute;left:0;top:0;transform:translate(-50%,-50%);opacity:0;
    pointer-events:auto;transition:transform .28s cubic-bezier(.2,.8,.2,1),opacity .18s ease}
  .btn{min-width:164px;padding:12px 14px;border:none;border-radius:12px;font-weight:800;font-size:14px;color:#fff;
    box-shadow:0 6px 18px rgba(102,126,234,.28);background:linear-gradient(135deg,#667eea,#764ba2);cursor:pointer}
  .btn.alt{background:linear-gradient(135deg,#4facfe,#00f2fe);color:#0b1340}
  .open-a .dial{pointer-events:auto}
  .open-a .dial .b1{opacity:1;transform:translate(-50%,-50%) translate(-110px,-88px)}
  .open-a .dial .b2{opacity:1;transform:translate(-50%,-50%) translate(110px,-88px)}
  .open-a .icon{transform:scale(.9)}

  /* Variant B: Arc Menu */
  .arc{position:absolute;left:50%;top:50%;width:0;height:0;pointer-events:none}
  .arc .chip{position:absolute;left:0;top:0;transform:translate(-50%,-50%) rotate(0) translate(0) rotate(0);
    opacity:0;pointer-events:auto;transition:transform .28s cubic-bezier(.2,.8,.2,1),opacity .18s ease}
  .chip{display:flex;align-items:center;gap:8px;padding:10px 12px;border-radius:999px;border:1px solid rgba(255,255,255,.4);
    background:rgba(255,255,255,.6);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);
    font-weight:800;font-size:13px;color:#1f2937;box-shadow:0 10px 24px rgba(0,0,0,.18)}
  .open-b .arc{pointer-events:auto}
  .open-b .arc .c1{opacity:1;transform:translate(-50%,-50%) rotate(-25deg) translate(150px) rotate(25deg)}
  .open-b .arc .c2{opacity:1;transform:translate(-50%,-50%) rotate(25deg) translate(150px) rotate(-25deg)}
  .open-b .icon{transform:scale(.9)}

  /* Variant C: Glass Popover */
  .popover{position:absolute;left:50%;top:0;transform:translate(-50%,-8px) scale(.92);opacity:0;pointer-events:none;
    background:rgba(255,255,255,.2);backdrop-filter:blur(16px);-webkit-backdrop-filter:blur(16px);
    border:1px solid rgba(255,255,255,.45);border-radius:16px;padding:12px;box-shadow:0 18px 42px rgba(0,0,0,.28);
    transition:transform .18s ease,opacity .18s ease}
  .popover .row{display:grid;gap:8px}
  .open-c .popover{opacity:1;transform:translate(-50%,-12px) scale(1);pointer-events:auto}
  .open-c .icon{transform:scale(.9)}

  /* –ó–∞—Ç–µ–º–Ω–µ–Ω–∏–µ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –≤ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ */
  .grid.dim .tile.dimmed{filter:blur(1px) saturate(.85);opacity:.18;transform:translateY(12px);transition:all .22s ease}

  .footer{position:fixed;left:0;right:0;bottom:0;height:66px;background:rgba(255,255,255,.95);
    backdrop-filter:blur(18px);-webkit-backdrop-filter:blur(18px);border-top:1px solid rgba(0,0,0,.06);
    display:flex;align-items:center;justify-content:space-around;box-shadow:0 -6px 20px rgba(0,0,0,.1)}
  .nav{display:flex;flex-direction:column;align-items:center;gap:4px;color:#667085}
  .nav.active{color:#667eea}
</style>
</head>
<body>
  <div class="error-bar" id="errorBar"></div>

  <div class="container">
    <!-- –ü—Ä–æ—Ñ–∏–ª—å -->
    <div class="profile-card">
      <div class="profile-header">
        <div class="profile-photo" id="userPhoto">üë§</div>
        <div>
          <div class="profile-name" id="userName">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
          <div class="profile-id" id="userId">ID: ---</div>
        </div>
      </div>
    </div>

    <!-- –í–∞—Ä–∏–∞–Ω—Ç A -->
    <div class="grid" id="gridA">
      <div class="tile start" id="startA">
        <div class="icon-wrap">
          <div class="icon-bg"></div>
          <div class="icon"><svg viewBox="0 0 24 24"><polygon points="5 3 19 12 5 21 5 3"/></svg></div>
        </div>
        <div class="label">–°—Ç–∞—Ä—Ç (A)</div>
        <div class="dial">
          <button class="btn b1" id="aProducts">üçé –í—ã–±–æ—Ä –ø—Ä–æ–¥—É–∫—Ç–æ–≤</button>
          <button class="btn alt b2" id="aKbju">üìã –ê–Ω–∫–µ—Ç–∞ –¥–ª—è –ö–ë–ñ–£</button>
        </div>
      </div>
      <div class="tile dimmed"><div class="icon-wrap"><div class="icon-bg"></div><div class="icon"><svg viewBox="0 0 24 24"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg></div></div><div class="label">–ü—Ä–æ—Ñ–∏–ª—å</div></div>
      <div class="tile dimmed"><div class="icon-wrap"><div class="icon-bg"></div><div class="icon"><svg viewBox="0 0 24 24"><line x1="12" y1="20" x2="12" y2="10"/><line x1="18" y1="20" x2="18" y2="4"/><line x1="6" y1="20" x2="6" y2="16"/></svg></div></div><div class="label">–ê–Ω–∞–ª–∏—Ç–∏–∫–∞</div></div>
    </div>

    <br/>

    <!-- –í–∞—Ä–∏–∞–Ω—Ç B -->
    <div class="grid" id="gridB">
      <div class="tile start" id="startB">
        <div class="icon-wrap"><div class="icon-bg"></div>
          <div class="icon"><svg viewBox="0 0 24 24"><polygon points="5 3 19 12 5 21 5 3"/></svg></div>
        </div>
        <div class="label">–°—Ç–∞—Ä—Ç (B)</div>
        <div class="arc">
          <button class="chip c1" id="bProducts">üçé –í—ã–±–æ—Ä –ø—Ä–æ–¥—É–∫—Ç–æ–≤</button>
          <button class="chip c2" id="bKbju">üìã –ê–Ω–∫–µ—Ç–∞ –¥–ª—è –ö–ë–ñ–£</button>
        </div>
      </div>
      <div class="tile dimmed"><div class="icon-wrap"><div class="icon-bg"></div><div class="icon"><svg viewBox="0 0 24 24"><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/></svg></div></div><div class="label">–û—Ç—á—ë—Ç</div></div>
      <div class="tile dimmed"><div class="icon-wrap"><div class="icon-bg"></div><div class="icon"><svg viewBox="0 0 24 24"><path d="M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2"/><path d="M7 2v20"/></svg></div></div><div class="label">–†–∞—Ü–∏–æ–Ω</div></div>
    </div>

    <br/>

    <!-- –í–∞—Ä–∏–∞–Ω—Ç C -->
    <div class="grid" id="gridC">
      <div class="tile start" id="startC">
        <div class="icon-wrap"><div class="icon-bg"></div>
          <div class="icon"><svg viewBox="0 0 24 24"><polygon points="5 3 19 12 5 21 5 3"/></svg></div>
        </div>
        <div class="label">–°—Ç–∞—Ä—Ç (C)</div>
        <div class="popover">
          <div class="row">
            <button class="btn" id="cProducts">üçé –í—ã–±–æ—Ä –ø—Ä–æ–¥—É–∫—Ç–æ–≤</button>
            <button class="btn alt" id="cKbju">üìã –ê–Ω–∫–µ—Ç–∞ –¥–ª—è –ö–ë–ñ–£</button>
          </div>
        </div>
      </div>
      <div class="tile dimmed"><div class="icon-wrap"><div class="icon-bg"></div><div class="icon"><svg viewBox="0 0 24 24"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg></div></div><div class="label">–ü—Ä–æ—Ñ–∏–ª—å</div></div>
      <div class="tile dimmed"><div class="icon-wrap"><div class="icon-bg"></div><div class="icon"><svg viewBox="0 0 24 24"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg></div></div><div class="label">AI</div></div>
    </div>
  </div>

  <div class="footer">
    <div class="nav active">üè†<span style="font-size:11px">–ì–ª–∞–≤–Ω–∞—è</span></div>
    <div class="nav">üìà<span style="font-size:11px">–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å</span></div>
    <div class="nav">üîî<span style="font-size:11px">–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</span></div>
    <div class="nav">üë§<span style="font-size:11px">–ü—Ä–æ—Ñ–∏–ª—å</span></div>
  </div>

<script>
  // ===== –û—Ç–ª–∞–¥–∫–∞: –ø–æ–∫–∞–∑–∞—Ç—å –æ—à–∏–±–∫–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ =====
  (function(){
    var bar = document.getElementById('errorBar');
    function show(err){
      try{
        bar.style.display='block';
        bar.textContent = 'JS Error: ' + err.message + (err.filename? ('\\n' + err.filename + ':' + err.lineno + ':' + err.colno) : '') +
                          (err.error && err.error.stack ? ('\\n' + err.error.stack) : '');
      }catch(_){}
    }
    window.addEventListener('error', function(e){ show(e); });
    window.addEventListener('unhandledrejection', function(e){ show({message:String(e.reason)}); });
  })();

  // ===== –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π fallback Telegram API (–±–µ–∑ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π —Ü–µ–ø–æ—á–∫–∏) =====
  var tg = (window.Telegram && window.Telegram.WebApp) ? window.Telegram.WebApp : {
    initData:'', initDataUnsafe:{}, ready:function(){}, expand:function(){},
    BackButton:{show:function(){}, hide:function(){}, onClick:function(){}},
    HapticFeedback:{impactOccurred:function(){}}, showAlert:function(m){ alert(m); }
  };
  try { tg.ready(); tg.expand(); } catch(_){}

  // ===== –î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è =====
  (function(){
    try {
      var u = (tg && tg.initDataUnsafe && tg.initDataUnsafe.user) ? tg.initDataUnsafe.user : null;
      var nameEl = document.getElementById('userName');
      var idEl = document.getElementById('userId');
      var photoEl = document.getElementById('userPhoto');
      if (u) {
        var full = ((u.first_name||'') + ' ' + (u.last_name||'')).trim() || '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å';
        nameEl.textContent = full;
        idEl.textContent = 'ID: ' + (u.id || '---');
        if (u.photo_url) {
          var img = new Image();
          img.src = u.photo_url; img.alt = full;
          photoEl.textContent = '';
          photoEl.appendChild(img);
        } else {
          photoEl.textContent = (full.charAt(0) || 'A').toUpperCase();
        }
      } else {
        nameEl.textContent = '–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –ü–µ—Ç—Ä–æ–≤';
        idEl.textContent = 'ID: 123456789';
        photoEl.textContent = '–ê';
      }
    } catch(e){}
  })();

  // ===== ripple =====
  function ripple(el, e){
    try {
      var r=document.createElement('span'); r.className='r';
      var b=el.getBoundingClientRect();
      r.style.left=(e.clientX-b.left)+'px'; r.style.top=(e.clientY-b.top)+'px';
      el.appendChild(r); r.addEventListener('animationend',function(){ r.remove(); }, {once:true});
    } catch(_){}
  }

  // ===== —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —Ç–æ–≥–≥–ª–µ—Ä =====
  function toggleVariant(rootId, cls){
    var grid=document.getElementById(rootId);
    var start=grid.querySelector('.start');
    var open=!start.classList.contains(cls);
    if(open){ start.classList.add(cls); grid.classList.add('dim'); }
    else { start.classList.remove(cls); grid.classList.remove('dim'); }
  }

  // ===== –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ =====
  document.getElementById('startA').addEventListener('click',function(e){ ripple(e.currentTarget,e); toggleVariant('gridA','open-a'); });
  document.getElementById('startB').addEventListener('click',function(e){ ripple(e.currentTarget,e); toggleVariant('gridB','open-b'); });
  document.getElementById('startC').addEventListener('click',function(e){ ripple(e.currentTarget,e); toggleVariant('gridC','open-c'); });

  // –ù–∞–≤–∏–≥–∞—Ü–∏—è (–≤ –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–µ ‚Äî —Ç–æ–ª—å–∫–æ —Ç–æ—Å—Ç, —á—Ç–æ–±—ã –Ω–µ –ª–æ–≤–∏—Ç—å ERR_FILE_NOT_FOUND)
  var DEMO_PREVIEW = true; // –í –ø—Ä–æ–¥–µ –ø–æ—Å—Ç–∞–≤–∏–º false
  function toast(msg){
    var t=document.getElementById('toast');
    if(!t){ t=document.createElement('div'); t.id='toast';
      t.style.cssText='position:fixed;left:50%;bottom:86px;transform:translateX(-50%);background:rgba(0,0,0,.8);color:#fff;padding:10px 14px;border-radius:10px;font-weight:700;z-index:1000;opacity:0;transition:opacity .2s';
      document.body.appendChild(t);
    }
    t.textContent=msg; t.style.opacity='1'; setTimeout(function(){ t.style.opacity='0'; },1600);
  }
  function go(url){
    try{ if(tg && tg.HapticFeedback && tg.HapticFeedback.impactOccurred) tg.HapticFeedback.impactOccurred('medium'); }catch(_){}
    if(DEMO_PREVIEW){ toast('–í –¥–µ–º–æ —Ñ–∞–π–ª—ã –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω—ã. –í –±–æ—é –æ—Ç–∫—Ä–æ–µ—Ç—Å—è '+url); return; }
    window.location.href=url;
  }
  document.getElementById('aProducts').addEventListener('click',function(){ go('products.html'); });
  document.getElementById('aKbju').addEventListener('click',function(){ go('kbju.html'); });
  document.getElementById('bProducts').addEventListener('click',function(){ go('products.html'); });
  document.getElementById('bKbju').addEventListener('click',function(){ go('kbju.html'); });
  document.getElementById('cProducts').addEventListener('click',function(){ go('products.html'); });
  document.getElementById('cKbju').addEventListener('click',function(){ go('kbju.html'); });

  // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ä–∞—Å–∫—Ä–æ–µ–º –≤–∞—Ä–∏–∞–Ω—Ç C (—Å–∞–º—ã–π —Å–ø–æ–∫–æ–π–Ω—ã–π)
  toggleVariant('gridC','open-c');
</script>
</body>
</html>
