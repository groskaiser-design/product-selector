<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Synced Coordinates</title>
<style>
  body {
    background-color: #000;
    color: #fff;
    font-family: sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 20px;
  }

  .grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
  }

  /* ЖЕСТКИЙ КОНТЕЙНЕР: 300x300. 
     Если SVG и Div будут в разных системах координат, они снова разъедутся. 
     Здесь мы это запрещаем. */
  .card {
    width: 300px;
    height: 300px;
    background: #080808;
    border: 1px solid #222;
    position: relative;
    overflow: hidden;
  }

  .label {
    position: absolute; top: 10px; left: 10px; 
    font-size: 12px; color: #555; font-weight: bold; z-index: 10;
  }

  /* SVG занимает весь контейнер ровно */
  svg {
    position: absolute; top: 0; left: 0;
    width: 300px; height: 300px;
    overflow: visible;
  }

  /* БАЗОВЫЙ ПУТЬ (Серый) */
  .base-track {
    fill: none;
    stroke: #222;
    stroke-linejoin: round;
    stroke-linecap: round;
  }

  /* =========================================
     1. LASER WRITER (Рисует линию)
     ========================================= */
  .style-1 .base-track { stroke-width: 2; stroke: #333; }
  
  /* Активная линия - это копия пути поверх */
  .style-1 .active-track {
    fill: none;
    stroke: #0a84ff;
    stroke-width: 3;
    stroke-linejoin: round;
    stroke-linecap: round;
    stroke-dasharray: 820; /* Длина треугольника */
    stroke-dashoffset: 820;
    animation: laserDraw 4s linear infinite;
    filter: drop-shadow(0 0 5px #0a84ff);
  }
  /* Точка на конце лазера */
  .style-1 .dot {
    position: absolute; top: 0; left: 0;
    width: 8px; height: 8px; background: #fff; border-radius: 50%;
    offset-path: path('M 150 40 L 260 260 L 40 260 Z');
    animation: moveDot 4s linear infinite;
    transform: translate(-50%, -50%); /* ЦЕНТРОВКА */
    box-shadow: 0 0 10px #fff;
    z-index: 5;
  }
  @keyframes laserDraw { 
    0% { stroke-dashoffset: 820; } 
    100% { stroke-dashoffset: 0; } 
  }

  /* =========================================
     2. ENERGY TAIL (Комета)
     ========================================= */
  .style-2 .base-track { stroke-width: 4; stroke: #1a1a1a; }
  
  .style-2 .active-track {
    fill: none;
    stroke: url(#gradTail); /* Градиент в defs */
    stroke-width: 4;
    stroke-linejoin: round;
    stroke-linecap: round;
    stroke-dasharray: 250 820; /* 250px хвост, остальное дырка */
    stroke-dashoffset: 250;    
    animation: tailMove 4s linear infinite;
    filter: drop-shadow(0 0 8px #ff0055);
  }
  /* Точка-голова */
  .style-2 .dot {
    position: absolute; top: 0; left: 0;
    width: 14px; height: 14px; background: #fff; border-radius: 50%;
    offset-path: path('M 150 40 L 260 260 L 40 260 Z');
    animation: moveDot 4s linear infinite;
    transform: translate(-50%, -50%); /* ЦЕНТРОВКА */
    box-shadow: 0 0 15px 5px #ff0055;
    z-index: 5;
  }
  @keyframes tailMove {
    0% { stroke-dashoffset: 1070; } /* 820 + 250 */
    100% { stroke-dashoffset: 250; }
  }

  /* =========================================
     3. MAGMA PIPE (Свечение внутри)
     ========================================= */
  .style-3 .base-track { stroke-width: 10; stroke: #111; }
  
  /* Точка - это сгусток магмы */
  .style-3 .dot {
    position: absolute; top: 0; left: 0;
    width: 24px; height: 24px; 
    background: radial-gradient(circle, #fff 0%, #ff9f0a 60%, transparent 100%);
    border-radius: 50%;
    offset-path: path('M 150 40 L 260 260 L 40 260 Z');
    animation: moveDot 4s linear infinite;
    transform: translate(-50%, -50%); /* ЦЕНТРОВКА */
    mix-blend-mode: screen; /* Смешивание с серой трубой */
    box-shadow: 0 0 20px 5px #ff9f0a;
  }

  /* =========================================
     4. GHOST ECHO (Исчезающие следы)
     ========================================= */
  .style-4 .base-track { stroke-width: 1; stroke: #333; stroke-dasharray: 4 4; opacity: 0.5; }
  
  .style-4 .dot {
    position: absolute; top: 0; left: 0;
    width: 10px; height: 10px; background: #fff; border-radius: 50%;
    offset-path: path('M 150 40 L 260 260 L 40 260 Z');
    animation: moveDot 4s linear infinite;
    transform: translate(-50%, -50%);
    box-shadow: 0 0 10px #fff;
    z-index: 5;
  }
  /* Эхо - копия точки с задержкой */
  .style-4 .echo {
    position: absolute; top: 0; left: 0;
    width: 10px; height: 10px; background: rgba(255,255,255,0.3); border-radius: 50%;
    offset-path: path('M 150 40 L 260 260 L 40 260 Z');
    transform: translate(-50%, -50%);
  }
  .echo-1 { animation: moveDot 4s linear infinite; animation-delay: -0.1s; }
  .echo-2 { animation: moveDot 4s linear infinite; animation-delay: -0.2s; opacity: 0.2; }
  .echo-3 { animation: moveDot 4s linear infinite; animation-delay: -0.3s; opacity: 0.1; }


  /* Общая анимация движения точки */
  @keyframes moveDot { 
    0% { offset-distance: 0%; } 
    100% { offset-distance: 100%; } 
  }

</style>
</head>
<body>

  <svg width="0" height="0">
    <defs>
      <linearGradient id="gradTail" gradientUnits="userSpaceOnUse">
        <stop offset="0%" stop-color="#ff0055" stop-opacity="1" />
        <stop offset="100%" stop-color="#ff0055" stop-opacity="0" />
      </linearGradient>
    </defs>
  </svg>

  <div class="grid">

    <div class="card style-1">
      <div class="label">1. LASER WRITER</div>
      <svg viewBox="0 0 300 300">
        <path class="base-track" d="M 150 40 L 260 260 L 40 260 Z" />
        <path class="active-track" d="M 150 40 L 260 260 L 40 260 Z" />
      </svg>
      <div class="dot"></div>
    </div>

    <div class="card style-2">
      <div class="label">2. ENERGY TAIL</div>
      <svg viewBox="0 0 300 300">
        <path class="base-track" d="M 150 40 L 260 260 L 40 260 Z" />
        <path class="active-track" d="M 150 40 L 260 260 L 40 260 Z" />
      </svg>
      <div class="dot"></div>
    </div>

    <div class="card style-3">
      <div class="label">3. MAGMA PIPE</div>
      <svg viewBox="0 0 300 300">
        <path class="base-track" d="M 150 40 L 260 260 L 40 260 Z" />
      </svg>
      <div class="dot"></div>
    </div>

    <div class="card style-4">
      <div class="label">4. GHOST ECHO</div>
      <svg viewBox="0 0 300 300">
        <path class="base-track" d="M 150 40 L 260 260 L 40 260 Z" />
      </svg>
      <div class="dot"></div>
      <div class="echo echo-1"></div>
      <div class="echo echo-2"></div>
      <div class="echo echo-3"></div>
    </div>

  </div>

</body>
</html>
