<!DOCTYPE html>
<html lang="ru">
<head>
    <script src="version-control.js?t=1"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <title>Macros: The Human Operating System</title>
    
    <!-- –ó–∞–≥—Ä—É–∂–∞–µ–º Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- –®—Ä–∏—Ñ—Ç—ã -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Tailwind -->
    <script>
        function initTailwind() {
            if (typeof tailwind === 'undefined') {
                setTimeout(initTailwind, 10);
                return;
            }
            
            tailwind.config = {
                theme: {
                    extend: {
                        fontFamily: { sans: ['Inter', '-apple-system', 'system-ui', 'sans-serif'] },
                        colors: {
                            core: '#050505',
                            glass: 'rgba(28, 28, 30, 0.65)',
                            'acc-blue': '#0a84ff',
                            'acc-green': '#30d158',
                            'acc-orange': '#ff9f0a',
                            'acc-purple': '#bf5af2',
                            'acc-red': '#ff453a',
                            'acc-pink': '#ff5a8e',
                        },
                        backgroundImage: {
                            'gradient-radial': 'radial-gradient(var(--tw-gradient-stops))',
                        }
                    }
                }
            };
        }
        initTailwind();
    </script>
    
    <style>
        /* === CORE STYLES === */
        :root {
            --bg-core: #050505;
            --glass-border: rgba(255, 255, 255, 0.08);
            --glass-highlight: rgba(255, 255, 255, 0.15);
            
            /* –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Ü–≤–µ—Ç–æ–≤ */
            --acc-green: #30d158;
            --acc-blue: #0a84ff;
            --acc-purple: #bf5af2;
            --acc-pink: #ff5a8e;
            --acc-orange: #ff9f0a;
        }

        body {
            background-color: var(--bg-core);
            color: #ffffff;
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* === ATMOSPHERE === */
        .fx-layer { position: fixed; inset: 0; z-index: -1; pointer-events: none; overflow: hidden; }
        .noise { 
            position: fixed; inset: 0; opacity: 0.04; 
            background: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E"); 
            z-index: 0;
        }
        .orb { position: absolute; border-radius: 50%; filter: blur(80px); opacity: 0.5; will-change: transform; mix-blend-mode: screen; }
        .orb-1 { width: 80vw; height: 80vw; background: radial-gradient(circle, rgba(10,132,255,0.6) 0%, transparent 70%); top: -20%; left: -20%; animation: float 20s infinite ease-in-out; }
        .orb-2 { width: 60vw; height: 60vw; background: radial-gradient(circle, rgba(191,90,242,0.5) 0%, transparent 70%); bottom: -10%; right: -20%; animation: floatReverse 25s infinite ease-in-out; }

        @keyframes float { 0%, 100% { transform: translate(0, 0); } 50% { transform: translate(30px, 50px); } }
        @keyframes floatReverse { 0%, 100% { transform: translate(0, 0); } 50% { transform: translate(-30px, -50px); } }

        /* === UI COMPONENTS === */
        .glass-panel {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-top: 1px solid var(--glass-highlight);
            box-shadow: 0 20px 40px -10px rgba(0,0,0,0.5);
        }

        /* Typography */
        .hero-title {
            background: linear-gradient(180deg, #FFFFFF 0%, rgba(255,255,255,0.5) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            letter-spacing: -0.04em;
            line-height: 1.2;
            padding-bottom: 0.2em;
            padding-top: 0.1em;
        }
        
        .eyebrow {
            font-size: 11px; font-weight: 800; letter-spacing: 0.2em; text-transform: uppercase;
        }

        /* === ANIMATIONS === */
        .reveal { opacity: 0; transform: translateY(40px) scale(0.95); transition: all 1s cubic-bezier(0.16, 1, 0.3, 1); }
        .reveal.active { opacity: 1; transform: translateY(0) scale(1); }
        .delay-100 { transition-delay: 100ms; }
        .delay-200 { transition-delay: 200ms; }
        .delay-300 { transition-delay: 300ms; }

        /* === WIDGETS === */
        /* SCANNER UI */
        .scan-frame { position: relative; width: 100%; height: 100%; border-radius: 20px; overflow: hidden; border: 1px solid rgba(255,255,255,0.1); }
        .scan-line { position: absolute; top: 0; left: 0; right: 0; height: 2px; background: #30d158; box-shadow: 0 0 15px #30d158; animation: scanMove 3s infinite ease-in-out; z-index: 10; }
        @keyframes scanMove { 0%, 100% { transform: translateY(20%); opacity: 0; } 50% { transform: translateY(300px); opacity: 1; } }
        
        .scan-tag { 
            position: absolute; padding: 6px 10px; background: rgba(0,0,0,0.6); backdrop-filter: blur(10px); 
            border: 1px solid rgba(48, 209, 88, 0.3); border-radius: 8px; color: #fff; font-size: 11px; font-weight: 600;
            display: flex; gap: 6px; align-items: center; opacity: 0; animation: tagPop 3s infinite; z-index: 20;
        }
        .scan-tag.t1 { top: 30%; left: 20%; animation-delay: 1s; }
        .scan-tag.t2 { top: 60%; right: 20%; animation-delay: 1.5s; }
        @keyframes tagPop { 0%, 90%, 100% { opacity: 0; transform: scale(0.9); } 20%, 80% { opacity: 1; transform: scale(1); } }

        /* Deconstruction */
        .deconstruct-layer {
            position: absolute; inset: 0; border-radius: inherit; pointer-events: none;
            background: linear-gradient(45deg, transparent 40%, rgba(48, 209, 88, 0.1) 45%, rgba(48, 209, 88, 0.3) 50%, rgba(48, 209, 88, 0.1) 55%, transparent 60%);
            background-size: 200% 200%;
            animation: deconstruct 3s infinite linear;
            mix-blend-mode: overlay;
        }
        @keyframes deconstruct { 0% { background-position: 100% 100%; } 100% { background-position: 0% 0%; } }

        /* BREATH */
        .breath-ring {
            width: 120px; height: 120px; border-radius: 50%;
            /* Replaced gradient with flat border as requested */
            border: 1px solid rgba(10,132,255,0.8);
            background: transparent;
            position: relative;
            animation: breathe 5s infinite ease-in-out;
        }
        /* Adjusted ripple to match flat style */
        .breath-ring::after {
            content: ''; position: absolute; inset: -20px; border-radius: 50%;
            border: 1px solid rgba(10,132,255,0.3); opacity: 0.5;
            animation: ripple 5s infinite ease-out;
        }
        @keyframes breathe { 0%, 100% { transform: scale(0.8); opacity: 0.6; } 50% { transform: scale(1.2); opacity: 1; } }
        @keyframes ripple { 0% { transform: scale(0.8); opacity: 0.8; } 100% { transform: scale(2); opacity: 0; } }

        /* BLUEPRINT GRID */
        .blueprint-grid {
            background-image: linear-gradient(rgba(255,255,255,0.05) 1px, transparent 1px),
            linear-gradient(90deg, rgba(255,255,255,0.05) 1px, transparent 1px);
            background-size: 20px 20px;
            mask-image: radial-gradient(circle, black 40%, transparent 80%);
        }

        /* --- ACCURACY CHART (SEQUENTIAL ANIMATION) --- */
        .accuracy-chart {
            width: 180px; height: 180px; position: relative;
            display: flex; align-items: center; justify-content: center;
        }
        .accuracy-chart svg { 
            width: 100%; height: 100%; transform: rotate(-90deg); 
        }
        
        .accuracy-chart circle { 
            fill: none; 
            stroke-width: 6; 
            stroke-linecap: round; 
            cx: 90; cy: 90; r: 80;
        }
        
        .accuracy-chart .bg { 
            stroke: rgba(255,255,255,0.08); 
            stroke-dasharray: 502; 
            stroke-dashoffset: 502; 
            transition: stroke-dashoffset 1.5s cubic-bezier(0.2, 0.8, 0.2, 1);
        }
        
        .accuracy-chart .progress { 
            stroke: var(--acc-green); 
            stroke-dasharray: 502; 
            stroke-dashoffset: 502; 
            transition: stroke-dashoffset 2s cubic-bezier(0.12, 0.8, 0.32, 1);
            transition-delay: 0.8s;
            filter: drop-shadow(0 0 6px rgba(48, 209, 88, 0.6));
        }
        
        .accuracy-chart.loaded .bg { stroke-dashoffset: 0; }
        .accuracy-chart.cycle-up .progress { stroke-dashoffset: 1; }

        .accuracy-chart .value {
            position: absolute; inset: 0; 
            display: flex; flex-direction: column; 
            align-items: center; justify-content: center;
            color: white;
        }

        /* VITRUVIAN TOGGLE */
        .vitruvian-toggle {
            display: flex; background: rgba(255,255,255,0.1); border-radius: 20px; padding: 4px;
        }
        .vitruvian-toggle button {
            flex: 1; padding: 10px 16px; border-radius: 16px; font-size: 13px; font-weight: 600; color: rgba(255,255,255,0.6); transition: all 0.3s;
        }
        .vitruvian-toggle button.active {
            background: var(--acc-purple); color: white; box-shadow: 0 2px 10px rgba(191,90,242,0.3);
        }
        /* AI Messages Animation */
.ai-message {
    transition: all 0.6s cubic-bezier(0.16, 1, 0.3, 1);
    transform: translateY(20px);
}

.ai-message.show {
    opacity: 1 !important;
    transform: translateY(0);
}
    </style>
</head>
<body class="antialiased">

    <div class="fx-layer">
        <div class="orb orb-1"></div>
        <div class="orb orb-2"></div>
        <div class="noise"></div>
    </div>

    <!-- === HERO === -->
    <section class="min-h-screen relative flex flex-col justify-center px-6 pt-12 pb-32">
        <div class="max-w-md mx-auto w-full relative z-10 text-center">
            
            <div class="reveal active delay-100">
                <div class="eyebrow text-acc-blue mb-6 border border-acc-blue/20 bg-acc-blue/10 inline-block px-3 py-1 rounded-full">
                    The Human Operating System
                </div>
                <h1 class="hero-title text-4xl md:text-6xl font-black mb-6 uppercase py-2">
                     —Å–æ–≤–µ—Ä—à–µ–Ω–Ω—ã–π <br>
                    <span class="text-white/40">–∫–æ–Ω—Ç—Ä–æ–ª—å</span>
                </h1>
                <p class="text-white/60 text-lg leading-relaxed font-light">
                    –¢–æ—á–Ω—ã–π —É—á—ë—Ç –ö–ë–ñ–£. –ü–ª–∞–Ω –ø–∏—Ç–∞–Ω–∏—è –Ω–∞ –Ω–µ–¥–µ–ª—é. –î–Ω–µ–≤–Ω–∏–∫ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ —Ç–µ–ª–∞. –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –ø–æ–¥ —Ç–≤–æ–π —É—Ä–æ–≤–µ–Ω—å. –ò–ò, –∫–æ—Ç–æ—Ä—ã–π –∑–Ω–∞–µ—Ç –≤—Å—ë –æ —Ç–≤–æ—ë–º –ø—Ä–æ–≥—Ä–µ—Å—Å–µ –∏ –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç –≤—Å—ë –ø–æ–¥ —Ç–µ–±—è. Macros ‚Äî —ç—Ç–æ –Ω–µ —Ç—Ä–µ–∫–µ—Ä. –≠—Ç–æ —Å–∏—Å—Ç–µ–º–∞, –∫–æ—Ç–æ—Ä–∞—è –≤–µ–¥—ë—Ç —Ç–µ–±—è –∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É
                </p>
            </div>
            
        </div>
    </section>

    <!-- === PHILOSOPHY === -->
    <section class="py-24 px-6 relative">
        <div class="max-w-lg mx-auto w-full">
            <div class="reveal">
                <div class="eyebrow text-acc-blue mb-4">Precision Nutrition</div>
                <h2 class="text-3xl font-bold mb-6 leading-tight uppercase">–£—Å—Ä–µ–¥–Ω—ë–Ω–Ω—ã–µ —Ñ–æ—Ä–º—É–ª—ã<br><span class="text-white/40">–Ω–µ –¥–∞—é—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç</span></h2>
                <p class="text-white/70 mb-8 leading-relaxed">
                    –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Ç—Ä–µ–∫–µ—Ä–æ–≤ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —É—Å—Ä–µ–¥–Ω—ë–Ω–Ω—ã–µ —Ñ–æ—Ä–º—É–ª—ã. Macros —Å—Ç—Ä–æ–∏—Ç –º–æ–¥–µ–ª—å —Ç–≤–æ–µ–≥–æ –º–µ—Ç–∞–±–æ–ª–∏–∑–º–∞ ‚Äî —É—á–∏—Ç—ã–≤–∞–µ—Ç –Ω–µ —Ç–æ–ª—å–∫–æ –≤–µ—Å –∏ –≤–æ–∑—Ä–∞—Å—Ç, –Ω–æ –∏ —Ç–≤–æ—é –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –≤–Ω–µ –∑–∞–ª–∞, –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫, —Ñ–∞–∑—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è. 20+ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤–º–µ—Å—Ç–æ 5 —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö. –≠—Ç–æ —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É "–ø—Ä–∏–º–µ—Ä–Ω–æ" –∏ "—Ç–æ—á–Ω–æ"
                </p>
            </div>

            <!-- Glass Card: Parameters -->
            <div class="glass-panel rounded-[28px] p-6 reveal delay-100 space-y-6">
                <div class="flex gap-4 items-start">
                    <div class="w-10 h-10 rounded-xl bg-acc-blue/10 flex items-center justify-center text-xl shrink-0">üî•</div>
                    <div>
                        <h3 class="font-bold text-white text-sm mb-1">PAL & NEAT</h3>
                        <p class="text-xs text-white/50 leading-relaxed">–ú—ã —É—á–∏—Ç—ã–≤–∞–µ–º –Ω–µ –ø—Ä–æ—Å—Ç–æ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏, –∞ –≤–∞—à—É –≤–Ω–µ—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω—É—é –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (Non-Exercise Activity Thermogenesis).</p>
                    </div>
                </div>
                <div class="w-full h-[1px] bg-white/5"></div>
                <div class="flex gap-4 items-start">
                    <div class="w-10 h-10 rounded-xl bg-acc-green/10 flex items-center justify-center text-xl shrink-0">üß¨</div>
                    <div>
                        <h3 class="font-bold text-white text-sm mb-1">–ì–ª—É–±–æ–∫–∞—è –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è</h3>
                        <p class="text-xs text-white/50 leading-relaxed">–†–∞—Å—á–µ—Ç –Ω–æ—Ä–º—ã –±–µ–ª–∫–∞ –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –ø–æ–¥ –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å –≤–∞—à–∏—Ö –Ω–∞–≥—Ä—É–∑–æ–∫ (MET) –∏ —Ñ–∞–∑—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è.</p>
                    </div>
                </div>
                <div class="w-full h-[1px] bg-white/5"></div>
                <div class="flex gap-4 items-start">
                    <div class="w-10 h-10 rounded-xl bg-acc-purple/10 flex items-center justify-center text-xl shrink-0">ü©∫</div>
                    <div>
                        <h3 class="font-bold text-white text-sm mb-1">–ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç</h3>
                        <p class="text-xs text-white/50 leading-relaxed">–ê–ª–≥–æ—Ä–∏—Ç–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç –Ω—É—Ç—Ä–∏–µ–Ω—Ç—ã –ø–æ–¥ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∑–¥–æ—Ä–æ–≤—å—è.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- === RATION (CHART SECTION) === -->
    <section class="py-24 px-6">
        <div class="max-w-lg mx-auto w-full reveal" id="chart-section">
            <div class="eyebrow text-acc-green mb-4">Computed Nutrition</div>
            <h2 class="text-3xl font-bold mb-6 uppercase">–í–∞–º –Ω–µ –Ω—É–∂–Ω–∞ –¥–∏–µ—Ç–∞. <br><span class="text-acc-green">–í–∞–º –Ω—É–∂–Ω–∞ —Å–∏—Å—Ç–µ–º–∞</span></h2>
            <p class="text-white/60 mb-12 leading-relaxed">
                –í—ã –≤—ã–±–∏—Ä–∞–µ—Ç–µ –ø—Ä–æ–¥—É–∫—Ç—ã. –°–∏—Å—Ç–µ–º–∞ —Å—Ç—Ä–æ–∏—Ç –Ω–µ–¥–µ–ª—å–Ω—ã–π –ø–ª–∞–Ω –ø–∏—Ç–∞–Ω–∏—è —Å —Ç–æ—á–Ω–æ—Å—Ç—å—é –¥–æ –≥—Ä–∞–º–º–∞. Zero waste ‚Äî –≤—ã –ø–æ–∫—É–ø–∞–µ—Ç–µ —Ä–æ–≤–Ω–æ —Å—Ç–æ–ª—å–∫–æ –ø—Ä–æ–¥—É–∫—Ç–æ–≤, —Å–∫–æ–ª—å–∫–æ –Ω—É–∂–Ω–æ –Ω–∞ 7 –¥–Ω–µ–π.
            </p>
            
            <!-- ACCURACY CHART -->
            <div class="flex w-full flex-col items-center justify-center mb-10 relative">
                <div class="absolute inset-0 bg-acc-green/5 blur-3xl rounded-full"></div>
                
                <div class="glass-panel p-10 rounded-[48px] relative z-10 flex flex-col items-center">
                    <div class="accuracy-chart mb-2">
                        <svg viewBox="0 0 180 180">
                            <!-- Background Gray Circle (Animated) -->
                            <circle class="bg" cx="90" cy="90" r="80" />
                            <!-- Foreground Green Circle (Animated) -->
                            <circle class="progress" cx="90" cy="90" r="80" stroke="#30d158" />
                        </svg>
                        <div class="value">
                            <div class="flex items-baseline">
                                <!-- ID for JS animation -->
                                <span class="text-5xl font-black tracking-tighter tabular-nums" id="accuracy-val">0</span>
                                <span class="text-2xl font-bold text-acc-green ml-1">%</span>
                            </div>
                        </div>
                    </div>
                    <div class="text-[10px] uppercase tracking-[0.2em] text-acc-green font-bold mt-4 opacity-80">–¢–æ—á–Ω–æ—Å—Ç—å</div>
                </div>
            </div>

            <p class="text-lg font-medium text-white/90 italic max-w-sm mx-auto text-center">–ü—Ä–æ—Å—Ç–æ —Å–ª–µ–¥—É–π—Ç–µ –ø–ª–∞–Ω—É</p>
        </div>
    </section>

    <!-- === TECHNOLOGIES === -->
    <section class="py-24 px-6 overflow-hidden">
        <div class="max-w-lg mx-auto w-full">
            <div class="reveal mb-12">
                <div class="eyebrow text-acc-orange mb-4">Visual Intelligence</div>
                <h2 class="text-3xl font-bold mb-6 uppercase">–ù–µ–π—Ä–æ—Å–µ—Ç—å –≤–º–µ—Å—Ç–æ <br><span class="text-white/40">—Ä—É—á–Ω–æ–≥–æ –≤–≤–æ–¥–∞.</span></h2>
                <p class="text-white/60 mb-6">–†—É—á–Ω–æ–π –ø–æ–¥—Å—á–µ—Ç ‚Äî —ç—Ç–æ –∞—Ä—Ö–∞–∏–∑–º. –ù–∞–≤–µ–¥–∏—Ç–µ –∫–∞–º–µ—Ä—É. –°–∏—Å—Ç–µ–º–∞ –∞–≥–µ–Ω—Ç–æ–≤ Macros FoodCam –æ–ø—Ä–µ–¥–µ–ª–∏—Ç —Å–æ—Å—Ç–∞–≤ –±–ª—é–¥–∞:</p>
            </div>

            <!-- MOCKUP: CAMERA -->
            <div class="relative w-full aspect-[4/5] bg-black rounded-[32px] border border-white/10 shadow-2xl reveal delay-100 overflow-hidden group">
                <div class="absolute inset-0 bg-gray-900">
                    <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-32 h-32 bg-orange-500/30 rounded-full blur-xl"></div>
                    <div class="absolute bottom-1/4 right-1/4 w-24 h-24 bg-green-500/20 rounded-full blur-xl"></div>
                </div>

                <div class="deconstruct-layer"></div>

                <!-- HUD -->
                <div class="absolute inset-4 border border-white/20 rounded-xl z-10 pointer-events-none">
                    <div class="absolute top-0 left-0 w-4 h-4 border-t-2 border-l-2 border-white"></div>
                    <div class="absolute top-0 right-0 w-4 h-4 border-t-2 border-r-2 border-white"></div>
                    <div class="absolute bottom-0 left-0 w-4 h-4 border-b-2 border-l-2 border-white"></div>
                    <div class="absolute bottom-0 right-0 w-4 h-4 border-b-2 border-r-2 border-white"></div>
                </div>

                <div class="scan-line"></div>
                <div class="scan-tag t1 bg-black/80"><span class="w-2 h-2 rounded-full bg-acc-green"></span>–ê–≤–æ–∫–∞–¥–æ-—Ç–æ—Å—Ç</div>
                <div class="scan-tag t2 bg-black/80"><span class="w-2 h-2 rounded-full bg-acc-orange"></span>–Ø–π—Ü–æ (L)</div>

                <!-- Interface Overlay -->
                <div class="absolute bottom-0 inset-x-0 p-6 bg-gradient-to-t from-black to-transparent z-20 flex flex-col items-center pointer-events-none">
                    <div class="w-16 h-16 rounded-full border-4 border-white/20 flex items-center justify-center mb-4">
                        <div class="w-12 h-12 bg-white rounded-full"></div>
                    </div>
                    <div class="text-[10px] text-white/50 uppercase tracking-widest">–°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ...</div>
                </div>
            </div>

            <!-- Agents List -->
            <div class="mt-12 space-y-4 reveal delay-200">
                <div class="glass-panel p-4 rounded-xl flex items-center gap-4">
                    <span class="text-xs font-bold text-white uppercase w-20 shrink-0">Gatekeeper</span>
                    <span class="text-xs text-white/50">–û—Ç—Å–µ–∫–∞–µ—Ç —Ñ–æ–Ω –∏ –Ω–µ—Å—ä–µ–¥–æ–±–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã.</span>
                </div>
                <div class="glass-panel p-4 rounded-xl flex items-center gap-4">
                    <span class="text-xs font-bold text-white uppercase w-20 shrink-0">Physicist</span>
                    <span class="text-xs text-white/50">–°—Ç—Ä–æ–∏—Ç 3D-–∫–∞—Ä—Ç—É –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≤–µ—Å–∞.</span>
                </div>
                <div class="glass-panel p-4 rounded-xl flex items-center gap-4">
                    <span class="text-xs font-bold text-white uppercase w-20 shrink-0">Synthesizer</span>
                    <span class="text-xs text-white/50">–†–∞—Å–∫–ª–∞–¥—ã–≤–∞–µ—Ç –±–ª—é–¥–æ –Ω–∞ –º–æ–ª–µ–∫—É–ª—ã (–ë–ñ–£).</span>
                </div>
                <p class="text-xs text-white/30 italic pl-2 border-l border-white/20 mt-4">
                    –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –ü—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏—Ç–µ ¬´—Ç–≤–æ—Ä–æ–≥ –∏ —è–±–ª–æ–∫–æ¬ª –∏–ª–∏ –≤—Å—Ç–∞–≤—å—Ç–µ —Å—Å—ã–ª–∫—É –Ω–∞ FatSecret.
                </p>
            </div>
        </div>
    </section>

    <!-- === BODY ARCHITECTURE (VITRUVIAN) === -->
    <section class="py-24 px-6 relative" id="vitruvian-section">
        <div class="max-w-lg mx-auto w-full reveal">
            <div class="eyebrow text-acc-purple mb-4">Genetic Potential</div>
            <h2 class="text-3xl font-bold mb-6 uppercase">–í–∞—à–µ –∏–¥–µ–∞–ª—å–Ω–æ–µ —Ç–µ–ª–æ ‚Äî –Ω–∞—à<br><span class="text-white/40">–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –ø—Ä–æ–µ–∫—Ç</span></h2>
           
            <p class="text-white/60 mb-8">
                –ú—ã —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –≤–∞—à –Ω–∞—Ç—É—Ä–∞–ª—å–Ω—ã–π –≥–µ–Ω–µ—Ç–∏—á–µ—Å–∫–∏–π –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª (FFMI) –∏ —Å—Ç—Ä–æ–∏–º –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—É—é –º–æ–¥–µ–ª—å –ø—Ä–æ–ø–æ—Ä—Ü–∏–π. –ë–µ–∑ —Ñ–∞–Ω—Ç–∞–∑–∏–π ‚Äî —Ç–æ–ª—å–∫–æ —Ä–µ–∞–ª—å–Ω–∞—è —Ü–µ–ª—å
            </p>

            <!-- Toggle -->
            <div class="glass-panel rounded-2xl flex mb-8 w-full max-w-sm mx-auto vitruvian-toggle">
                <button class="active" data-type="man">–ú—É–∂—á–∏–Ω–∞ (V-Shape)</button>
                <button data-type="woman">–ñ–µ–Ω—â–∏–Ω–∞ (X-Shape)</button>
            </div>

            <!-- Abstract Body Visual (Vitruvian) -->
            <!-- FIX: Removed 3D animations, kept geometry square/circle correct -->
            <div class="glass-panel rounded-[32px] w-full max-w-[350px] mx-auto aspect-square relative flex items-center justify-center overflow-hidden mb-8">
                <div class="absolute inset-0 blueprint-grid opacity-30"></div>
                
                <!-- Man (V-Shape) -->
                <svg id="vitruvian-man" class="absolute inset-0 w-full h-full p-8 transition-all duration-500 ease-in-out opacity-100 scale-100 drop-shadow-[0_0_15px_rgba(191,90,242,0.5)]" viewBox="0 0 300 300" preserveAspectRatio="xMidYMid meet" fill="none">
                    <!-- Circle & Square (STATIC FLAT) -->
                    <circle cx="150" cy="150" r="100" stroke="rgba(255,255,255,0.2)" stroke-width="1" stroke-dasharray="4 4"/>
                    <rect x="50" y="50" width="200" height="200" stroke="rgba(255,255,255,0.2)" stroke-width="1" stroke-dasharray="4 4"/>
                    <!-- Body V-Shape -->
                    <path d="M150 60 L200 100 L180 200 L150 240 L120 200 L100 100 Z" stroke="white" stroke-width="1.5" fill="rgba(191,90,242,0.1)"/>
                    <line x1="150" y1="60" x2="150" y2="240" stroke="rgba(255,255,255,0.3)" stroke-width="1"/>
                    <!-- Highlights -->
                    <path d="M110 100 L190 100" stroke="#bf5af2" stroke-width="3" stroke-linecap="round" class="animate-pulse"/>
                    <circle cx="150" cy="60" r="3" fill="#bf5af2"/>
                    <circle cx="200" cy="100" r="3" fill="#bf5af2"/>
                    <circle cx="100" cy="100" r="3" fill="#bf5af2"/>
                    <text x="210" y="90" fill="#bf5af2" font-size="10" font-family="monospace">–ü–õ–ï–ß–ò</text>
                </svg>

                <!-- Woman (X-Shape) -->
                <!-- Updated coordinates for woman to be vertically centered (60-240) -->
                <svg id="vitruvian-woman" class="absolute inset-0 w-full h-full p-8 transition-all duration-500 ease-in-out opacity-0 scale-95 drop-shadow-[0_0_15px_rgba(255,90,142,0.5)]" viewBox="0 0 300 300" preserveAspectRatio="xMidYMid meet" fill="none">
                    <!-- Circle & Square (STATIC FLAT) -->
                    <circle cx="150" cy="150" r="100" stroke="rgba(255,255,255,0.2)" stroke-width="1" stroke-dasharray="4 4"/>
                    <rect x="50" y="50" width="200" height="200" stroke="rgba(255,255,255,0.2)" stroke-width="1" stroke-dasharray="4 4"/>
                    <!-- Body X-Shape (Shifted -10 Y) -->
                    <path d="M150 60 L190 100 L170 150 L190 200 L150 240 L110 200 L130 150 L110 100 Z" stroke="white" stroke-width="1.5" fill="rgba(255,90,142,0.1)"/>
                    <line x1="150" y1="60" x2="150" y2="240" stroke="rgba(255,255,255,0.3)" stroke-width="1"/>
                     <!-- Highlights (Shifted -10 Y) -->
                     <path d="M130 150 L170 150" stroke="#ff5a8e" stroke-width="3" stroke-linecap="round" class="animate-pulse"/>
                     <path d="M110 200 L190 200" stroke="#ff5a8e" stroke-width="3" stroke-linecap="round" class="animate-pulse" style="animation-delay: 0.5s;"/>
                    <circle cx="150" cy="60" r="3" fill="#ff5a8e"/>
                    <circle cx="190" cy="100" r="3" fill="#ff5a8e"/>
                    <circle cx="110" cy="100" r="3" fill="#ff5a8e"/>
                    <circle cx="190" cy="200" r="3" fill="#ff5a8e"/>
                    <circle cx="110" cy="200" r="3" fill="#ff5a8e"/>
                     <text x="200" y="190" fill="#ff5a8e" font-size="10" font-family="monospace">–Ø–ì–û–î–ò–¶–´</text>
                </svg>

            </div>

            <!-- Enhanced Data Grid -->
            <div class="grid grid-cols-2 gap-4">
                <!-- Analysis Block (Left) -->
                <div class="p-4 bg-white/5 rounded-2xl border border-white/5 flex flex-col justify-between">
                    <div class="text-xs text-white/50 mb-2">–ê–Ω–∞–ª–∏–∑ –ú–æ–¥–µ–ª–∏</div>
                    <div id="vitruvian-shape-label" class="font-bold text-sm text-acc-purple transition-colors leading-tight">V-Shape –ú–æ–¥–µ–ª—å</div>
                    <div class="mt-2 text-[10px] text-white/40 leading-snug">
                        –†–∞—Å—á–µ—Ç –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –º–æ–¥–µ–ª–∏.
                    </div>
                </div>

                <!-- NEW: Control Block (Plan / Fact) with Switchable Content -->
                <div class="p-4 bg-white/5 rounded-2xl border border-white/5 flex flex-col relative overflow-hidden group min-h-[100px]">
                    <div class="text-xs text-white/50 mb-3 z-10 relative">–ö–æ–Ω—Ç—Ä–æ–ª—å (–ü–ª–∞–Ω/–§–∞–∫—Ç)</div>
                    
                    <!-- Man Data (Visible by default) -->
                    <div id="pf-man" class="space-y-3 transition-all duration-500">
                        <!-- Metric 1: V-Taper -->
                        <div>
                            <div class="flex justify-between text-[10px] uppercase font-bold mb-1 tracking-wider">
                                <span class="text-white/70">V-Index</span>
                                <span class="text-acc-purple">1.42 <span class="text-white/30">/ 1.618</span></span>
                            </div>
                            <div class="h-1.5 w-full bg-white/10 rounded-full relative overflow-hidden">
                                <div class="absolute inset-y-0 left-0 bg-acc-purple rounded-full shadow-[0_0_10px_#bf5af2]" style="width: 88%"></div>
                                <!-- Marker for Plan -->
                                <div class="absolute top-0 bottom-0 w-0.5 bg-white z-10 opacity-80" style="left: 98%"></div> 
                            </div>
                        </div>
                        <!-- Metric 2: Muscle -->
                        <div>
                             <div class="flex justify-between text-[10px] uppercase font-bold mb-1 tracking-wider">
                                <span class="text-white/70">FFMI</span>
                                <span class="text-acc-purple">22 <span class="text-white/30">/ 25</span></span>
                            </div>
                            <div class="h-1.5 w-full bg-white/10 rounded-full relative overflow-hidden">
                                 <div class="absolute inset-y-0 left-0 bg-acc-purple rounded-full opacity-60" style="width: 88%"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Woman Data (Hidden initially) -->
                    <div id="pf-woman" class="space-y-3 transition-all duration-500 absolute inset-0 p-4 pt-8 opacity-0 pointer-events-none translate-x-8">
                        <!-- Metric 1: Waist/Hip -->
                        <div>
                            <div class="flex justify-between text-[10px] uppercase font-bold mb-1 tracking-wider">
                                <span class="text-white/70">W/H Ratio</span>
                                <span class="text-acc-pink">0.76 <span class="text-white/30">/ 0.70</span></span>
                            </div>
                            <div class="h-1.5 w-full bg-white/10 rounded-full relative overflow-hidden">
                                <div class="absolute inset-y-0 left-0 bg-acc-pink rounded-full shadow-[0_0_10px_#ff5a8e]" style="width: 90%"></div>
                                <!-- Marker for Plan -->
                                <div class="absolute top-0 bottom-0 w-0.5 bg-white z-10 opacity-80" style="left: 100%"></div>
                            </div>
                        </div>
                         <!-- Metric 2: Body Fat -->
                        <div>
                             <div class="flex justify-between text-[10px] uppercase font-bold mb-1 tracking-wider">
                                <span class="text-white/70">Body Fat</span>
                                <span class="text-acc-pink">22% <span class="text-white/30">/ 18%</span></span>
                            </div>
                            <div class="h-1.5 w-full bg-white/10 rounded-full relative overflow-hidden">
                                 <div class="absolute inset-y-0 left-0 bg-acc-pink rounded-full opacity-60" style="width: 82%"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>


    <!-- === SYNC (STICKY STACK CARD ANIMATION) === -->
    <section class="py-24 px-6 relative">
        <div class="absolute inset-0 overflow-hidden pointer-events-none">
            <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[500px] h-[500px] bg-acc-blue/5 rounded-full blur-[100px]"></div>
        </div>

        <div class="max-w-lg mx-auto w-full reveal relative z-10 text-left">
            <div class="mb-16">
                <div class="eyebrow text-white/40 mb-4">The Infinite Loop</div>
                <h2 class="text-3xl font-bold mb-6 uppercase">–ë–æ–ª—å—à–µ –Ω–∏–∫–∞–∫–∏—Ö –æ—Ç—á—ë—Ç–æ–≤. <br><span class="text-acc-blue">–¢—Ä–µ–Ω–µ—Ä –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏</span></h2>
                <p class="text-white/60 mb-10 leading-relaxed">
                    –ó–∞–±—É–¥—å—Ç–µ –ø—Ä–æ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã –¥–Ω–µ–≤–Ω–∏–∫–∞ –ø–∏—Ç–∞–Ω–∏—è, —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –≤–µ—Å–æ–≤ –∏ –ø—Ä–æ–¥—É–∫—Ç–æ–≤. –¢—Ä–µ–Ω–µ—Ä –≤–∏–¥–∏—Ç –≤–∞—à–∏ –¥–∞–Ω–Ω—ã–µ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏. –í—ã –ø—Ä–æ—Å—Ç–æ —Ç—Ä–µ–Ω–∏—Ä—É–µ—Ç–µ—Å—å –∏ –∏–¥—ë—Ç–µ –∫ —Ü–µ–ª–∏
                </p>
            </div>
            
            <!-- STICKY CARD STACK CONTAINER -->
            <div class="flex flex-col pb-32 relative">
                
                <!-- Card 1: Telemetry (Sticky) -->
                <div class="sticky top-32 z-10 transition-all duration-700 ease-out origin-top mb-24" id="card-telemetry"> 
                    <div class="glass-panel p-8 rounded-[32px] flex flex-col min-h-[300px] border-t border-acc-green/20 relative group hover:bg-white/[0.04] transition-all duration-500 shadow-2xl backdrop-blur-xl bg-[#121212]/60 overflow-hidden">
                        <div class="absolute inset-0 bg-acc-green/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none"></div>
                        <div class="flex justify-between items-start mb-8 relative z-10">
                            <div>
                                <h3 class="text-xl font-bold text-white mb-1">–¢–µ–ª–µ–º–µ—Ç—Ä–∏—è</h3>
                                <p class="text-xs text-white/40">–°—Ç–∞—Ç—É—Å: <span class="text-acc-green animate-pulse">ONLINE</span></p>
                            </div>
                            <div class="w-10 h-10 rounded-full bg-acc-green/10 flex items-center justify-center">
                                <div class="w-1.5 h-1.5 bg-acc-green rounded-full animate-ping absolute opacity-75"></div>
                                <div class="w-1.5 h-1.5 bg-acc-green rounded-full relative"></div>
                            </div>
                        </div>
                        
                        <div class="space-y-5 mt-auto relative z-10">
                            <div class="flex items-center justify-between border-b border-white/5 pb-3">
                                <span class="text-sm text-white/80">–°–æ–±–ª—é–¥–µ–Ω–∏–µ –ö–ë–ñ–£</span>
                                <span class="text-[10px] font-mono text-acc-green bg-acc-green/10 px-2 py-1 rounded">REAL-TIME</span>
                            </div>
                            <div class="flex items-center justify-between border-b border-white/5 pb-3">
                                <span class="text-sm text-white/80">–ó–∞–º–µ—Ä—ã —Ç–µ–ª–∞</span>
                                <span class="text-[10px] font-mono text-acc-blue bg-acc-blue/10 px-2 py-1 rounded">SYNCED 1m AGO</span>
                            </div>
                            <div class="flex items-center justify-between">
                                <span class="text-sm text-white/80">–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏</span>
                                <span class="text-[10px] font-mono text-white/40">AUTO-LOG</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Card 2: Calendar (Sticky Overlap) -->
                <div class="sticky top-36 z-20 mt-8 transition-all duration-700 ease-out" id="card-calendar">
                     <div class="glass-panel p-8 rounded-[32px] flex flex-col min-h-[300px] border-t border-acc-blue/20 relative group hover:bg-white/[0.04] transition-all duration-500 shadow-[0_-10px_40px_-15px_rgba(0,0,0,0.8)] backdrop-blur-xl bg-[#121212]/60">
                        <div class="absolute inset-0 bg-acc-blue/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none"></div>
                        <div class="flex justify-between items-start mb-8 relative z-10">
                            <div>
                                <h3 class="text-xl font-bold text-white mb-1">–û–±—â–∏–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å</h3>
                                <p class="text-xs text-white/40">–í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å —Ç—Ä–µ–Ω–µ—Ä–æ–º</p>
                            </div>
                            <div class="w-10 h-10 rounded-full bg-acc-blue/10 flex items-center justify-center">
                                <svg class="w-4 h-4 text-acc-blue" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>
                            </div>
                        </div>
                        
                        <div class="space-y-3 mt-auto relative z-10">
                            <div class="bg-white/5 p-3 rounded-xl border border-white/5 flex gap-3 items-center transform transition-all hover:translate-x-1 hover:bg-white/10 cursor-default">
                                 <div class="w-8 h-8 rounded-full bg-acc-blue/20 text-acc-blue flex items-center justify-center text-[10px] shrink-0 font-bold">IN</div>
                                 <div>
                                     <div class="text-[10px] text-acc-blue font-bold uppercase tracking-wider">–¢—Ä–µ–Ω–µ—Ä</div>
                                     <div class="text-xs text-white">–ò–∑–º–µ–Ω–∏–ª –≤—Ä–µ–º—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –Ω–∞ 19:00</div>
                                 </div>
                            </div>
                            <div class="bg-white/5 p-3 rounded-xl border border-white/5 flex gap-3 items-center transform transition-all hover:translate-x-1 hover:bg-white/10 cursor-default">
                                 <div class="w-8 h-8 rounded-full bg-acc-red/20 text-acc-red flex items-center justify-center text-[10px] shrink-0 font-bold">OUT</div>
                                 <div>
                                     <div class="text-[10px] text-acc-red font-bold uppercase tracking-wider">–°–∏—Å—Ç–µ–º–∞</div>
                                     <div class="text-xs text-white">–°–ª–æ—Ç –∏–∑–º–µ–Ω–µ–Ω. –ö–ª–∏–µ–Ω—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω.</div>
                                 </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>

            
        </div>
            </section>
            
                <!-- === AI CONSULTANT === -->
<section class="py-24 px-6 relative" id="ai-section">
    <div class="absolute inset-0 overflow-hidden pointer-events-none">
        <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[500px] h-[500px] bg-acc-purple/5 rounded-full blur-[100px]"></div>
    </div>

    <div class="max-w-lg mx-auto w-full reveal relative z-10">
        <div class="eyebrow text-acc-purple mb-4">Personal AI</div>
        <h2 class="text-3xl font-bold mb-6 uppercase">–°–ø—Ä–æ—Å–∏—Ç–µ —á—Ç–æ —É–≥–æ–¥–Ω–æ. <br><span class="text-acc-purple">–í–∞—à –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –ò–ò –∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç</span></h2>
        <p class="text-white/60 mb-12 leading-relaxed">
            Macros AI –∑–Ω–∞–µ—Ç –≤—Å—ë –æ –≤–∞—à–µ–º —Ç–µ–ª–µ, –ø–∏—Ç–∞–Ω–∏–∏, –ø—Ä–æ–≥—Ä–µ—Å—Å–µ –∏ —Ü–µ–ª—è—Ö. –û—Ç–≤–µ—Ç—ã –≤—Å–µ–≥–¥–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ, –≤—Å–µ–≥–¥–∞ —Ç–æ—á–Ω—ã–µ.
        </p>

        <!-- AI Chat Interface Mock -->
        <div class="glass-panel rounded-[28px] p-6 space-y-4">
            <!-- Question 1 -->
            <div class="ai-message opacity-0" data-delay="0">
                <div class="flex gap-3 items-start">
                    <div class="w-8 h-8 rounded-full bg-white/10 flex items-center justify-center shrink-0 text-sm">üë§</div>
                    <div class="flex-1">
                        <div class="bg-white/5 rounded-2xl rounded-tl-none p-4 border border-white/10">
                            <p class="text-sm text-white/90">–ú–æ–∂–Ω–æ –º–Ω–µ —Å–µ–≥–æ–¥–Ω—è –ø–∏—Ü—Ü—É?</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Answer 1 -->
            <div class="ai-message opacity-0" data-delay="800">
                <div class="flex gap-3 items-start">
                    <div class="w-8 h-8 rounded-full bg-acc-purple/20 flex items-center justify-center shrink-0">
                        <svg class="w-4 h-4 text-acc-purple" fill="currentColor" viewBox="0 0 20 20"><path d="M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z"></path></svg>
                    </div>
                    <div class="flex-1">
                        <div class="bg-acc-purple/10 rounded-2xl rounded-tl-none p-4 border border-acc-purple/20">
                            <p class="text-sm text-white/90 leading-relaxed">–î–∞, –≤–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ –≤–∞—à –ø–ª–∞–Ω. –£ –≤–∞—Å –æ—Å—Ç–∞—ë—Ç—Å—è 450 –∫–∫–∞–ª –∏ 25–≥ –±–µ–ª–∫–∞ –Ω–∞ —É–∂–∏–Ω. –†–µ–∫–æ–º–µ–Ω–¥—É—é 2 –∫—É—Å–æ—á–∫–∞ –º–∞—Ä–≥–∞—Ä–∏—Ç—ã (320 –∫–∫–∞–ª) + –≥—Ä–µ—á–µ—Å–∫–∏–π —Å–∞–ª–∞—Ç.</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Question 2 -->
            <div class="ai-message opacity-0" data-delay="1600">
                <div class="flex gap-3 items-start">
                    <div class="w-8 h-8 rounded-full bg-white/10 flex items-center justify-center shrink-0 text-sm">üë§</div>
                    <div class="flex-1">
                        <div class="bg-white/5 rounded-2xl rounded-tl-none p-4 border border-white/10">
                            <p class="text-sm text-white/90">–ü–æ—á–µ–º—É –≤–µ—Å –≤—Å—Ç–∞–ª?</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Answer 2 -->
            <div class="ai-message opacity-0" data-delay="2400">
                <div class="flex gap-3 items-start">
                    <div class="w-8 h-8 rounded-full bg-acc-purple/20 flex items-center justify-center shrink-0">
                        <svg class="w-4 h-4 text-acc-purple" fill="currentColor" viewBox="0 0 20 20"><path d="M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z"></path></svg>
                    </div>
                    <div class="flex-1">
                        <div class="bg-acc-purple/10 rounded-2xl rounded-tl-none p-4 border border-acc-purple/20">
                            <p class="text-sm text-white/90 leading-relaxed">–í—á–µ—Ä–∞ –±—ã–ª–∞ —Ç—è–∂—ë–ª–∞—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ –Ω–æ–≥. –ú—ã—à—Ü—ã —É–¥–µ—Ä–∂–∏–≤–∞—é—Ç –≤–æ–¥—É –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è. –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ. –ñ–∏—Ä–æ–≤–∞—è –º–∞—Å—Å–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Å–Ω–∏–∂–∞—Ç—å—Å—è –ø–æ –≥—Ä–∞—Ñ–∏–∫—É.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Features -->
        <div class="mt-8 grid grid-cols-2 gap-4">
            <div class="glass-panel p-4 rounded-xl">
                <div class="text-xs text-acc-purple font-bold mb-1">–ö–æ–Ω—Ç–µ–∫—Å—Ç 24/7</div>
                <div class="text-xs text-white/50">–ó–Ω–∞–µ—Ç –≤–∞—à—É –∏—Å—Ç–æ—Ä–∏—é —Ü–µ–ª–∏–∫–æ–º</div>
            </div>
            <div class="glass-panel p-4 rounded-xl">
                <div class="text-xs text-acc-purple font-bold mb-1">–ë–µ–∑ –æ–±—â–∏—Ö —Å–æ–≤–µ—Ç–æ–≤</div>
                <div class="text-xs text-white/50">–¢–æ–ª—å–∫–æ –≤–∞—à–∏ –¥–∞–Ω–Ω—ã–µ</div>
            </div>
        </div>
    </div>
</section>

    <!-- === STATE (BREATH) === -->
    <section class="py-24 px-6">
        <div class="max-w-lg mx-auto w-full reveal text-left">
            <div class="eyebrow text-acc-blue mb-4">Neuro-Regulation</div>
            <h2 class="text-3xl font-bold mb-6 uppercase">–°—Ç—Ä–µ—Å—Å —É–±–∏–≤–∞–µ—Ç<br><span class="text-white/40">–ø—Ä–æ–≥—Ä–µ—Å—Å</span></h2>
            <p class="text-white/60 mb-10">
                –•—Ä–æ–Ω–∏—á–µ—Å–∫–∏–π —Å—Ç—Ä–µ—Å—Å –ø–æ–¥–∞–≤–ª—è–µ—Ç —Å–∏–Ω—Ç–µ–∑ –±–µ–ª–∫–∞ –∏ –∑–∞–º–µ–¥–ª—è–µ—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—ã—à—Ü. –ü–∏—Ç–∞–Ω–∏–µ –∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ ‚Äî —ç—Ç–æ 80% —É—Å–ø–µ—Ö–∞. –û—Å—Ç–∞–ª—å–Ω—ã–µ 20% ‚Äî —ç—Ç–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–µ—Å—Å–æ–º. –î—ã—Ö–∞—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ —Å–Ω–∏–∂–∞—é—Ç –∫–æ—Ä—Ç–∏–∑–æ–ª –Ω–∞ 30% –∏ –ø–æ–≤—ã—à–∞—é—Ç —Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∫—É —á–µ—Ä–µ–∑ —Ä–µ–≥—É–ª—è—Ü–∏—é –Ω–æ—Ä–∞–¥—Ä–µ–Ω–∞–ª–∏–Ω–∞. –ú–æ–¥—É–ª—å Macros Breath –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–æ—Ç–æ–∫–æ–ª—ã –Ω–µ–π—Ä–æ–±–∏–æ–ª–æ–≥–æ–≤ Stanford Huberman Lab.
            </p>

            <div class="glass-panel rounded-[32px] w-full max-w-[320px] mx-auto aspect-square p-8 flex flex-col items-center justify-center mb-10 relative overflow-hidden">
                <div class="absolute inset-0 bg-gradient-to-b from-acc-blue/10 to-transparent opacity-20"></div>
                <div class="breath-ring"></div>
            </div>
        </div>
    </section>

    <!-- === FOOTER === -->
    <footer class="py-24 px-6 text-center relative overflow-hidden">
        <div class="max-w-lg mx-auto w-full relative z-10 reveal">
            <p class="text-xl text-white/50 font-light mb-4">–¢–µ–ª–æ –º–µ—á—Ç—ã ‚Äî —ç—Ç–æ –≤–æ–ø—Ä–æ—Å —É—Å–∏–ª–∏–π –∏ –∫–æ–Ω—Ç—Ä–æ–ª—è</p>
            <h2 class="text-2xl font-bold mb-12 leading-tight">Macros –¥–∞—ë—Ç —Å–æ–≤–µ—Ä—à–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å. –ü—Ä–æ—Å—Ç–æ —Å–ª–µ–¥—É–π—Ç–µ –ø–ª–∞–Ω—É, –±–µ–∑ –æ–ø—Ä–∞–≤–¥–∞–Ω–∏–π</h2>
            
            <div class="mt-12 text-[10px] text-white/20 uppercase tracking-[0.2em] space-x-4">
                <span>Privacy</span>
                <span>Terms</span>
                <span>2025</span>
            </div>
        </div>
    </footer>

    <script>
/* ============================================================
 * BLOCK 0: TMA boot (FIXED & SAFE)
 * ============================================================ */
(function initTMA() {
  try {
    const tg = window.Telegram?.WebApp;
    if (!tg) return; // –ï—Å–ª–∏ —ç—Ç–æ –Ω–µ –¢–µ–ª–µ–≥—Ä–∞–º, –ø—Ä–æ—Å—Ç–æ –≤—ã—Ö–æ–¥–∏–º, –Ω–µ –ª–æ–º–∞—è —Å–∞–π—Ç

    tg.ready();
    tg.expand();

    // 1. –ö—Ä–∞—Å–∏–º –∑–∞–≥–æ–ª–æ–≤–æ–∫ (–æ–±–µ—Ä–Ω—É—Ç–æ –≤ –∑–∞—â–∏—Ç—É, —á—Ç–æ–±—ã –Ω–µ –ª–æ–º–∞–ª–æ –∑–∞–≥—Ä—É–∑–∫—É)
    try {
      tg.setHeaderColor('#050505'); // –ß–µ—Ä–Ω—ã–π —Ü–≤–µ—Ç
      if (tg.setBackgroundColor) {
        tg.setBackgroundColor('#050505');
      }
    } catch (e) {
      console.log('Error setting color:', e);
    }

    // 2. –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –∫–Ω–æ–ø–∫—É "–ù–∞–∑–∞–¥"
    try {
      if (tg.BackButton) {
        tg.BackButton.show();
        // –°–Ω–∞—á–∞–ª–∞ —É–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏, —á—Ç–æ–±—ã –∫–Ω–æ–ø–∫–∞ –Ω–µ —Ç—É–ø–∏–ª–∞
        tg.BackButton.offClick(); 
        // –î–æ–±–∞–≤–ª—è–µ–º –ø–µ—Ä–µ—Ö–æ–¥
        tg.BackButton.onClick(function() {
          window.location.href = 'router.html';
        });
      }
    } catch (e) {
      console.log('Error setting back button:', e);
    }

    // 3. –û—Ç–∫–ª—é—á–∞–µ–º —Å–≤–∞–π–ø—ã (–µ—Å–ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è)
    try {
      if (tg.disableVerticalSwipes) tg.disableVerticalSwipes();
    } catch (e) {}

  } catch (globalErr) {
    // –ï—Å–ª–∏ –≤–æ–æ–±—â–µ –≤—Å–µ —É–ø–∞–ª–æ –≤ TMA, –≤—ã–≤–æ–¥–∏–º –æ—à–∏–±–∫—É, –Ω–æ –ù–ï –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–∫—Ä–∏–ø—Ç
    console.error('Critical TMA Error:', globalErr);
  }
})();
        // === ANIMATE VALUE FUNCTION ===
        function animateValue(obj, start, end, duration) {
            if (!obj) return;
            let startTimestamp = null;
            const step = (timestamp) => {
                if (!startTimestamp) startTimestamp = timestamp;
                const progress = Math.min((timestamp - startTimestamp) / duration, 1);
                
                // Ease Out Cubic
                const easeProgress = 1 - Math.pow(1 - progress, 3);
                
                // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
                const val = (progress * (end - start) + start).toFixed(1);
                obj.innerHTML = val;
                
                if (progress < 1) {
                    window.requestAnimationFrame(step);
                } else {
                    obj.innerHTML = end;
                }
            };
            window.requestAnimationFrame(step);
        }

        // Scroll Reveal logic
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('active');
                    
                    // Trigger Chart Animation
                    if (entry.target.id === 'chart-section') {
                        const chart = entry.target.querySelector('.accuracy-chart');
                        if (chart && !chart.classList.contains('animate')) {
                            // –ó–∞–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–¥ —Å—Ç–∞—Ä—Ç–æ–º –∞–Ω–∏–º–∞—Ü–∏–∏, —á—Ç–æ–±—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É—Å–ø–µ–ª —É–≤–∏–¥–µ—Ç—å –ø–æ—è–≤–ª–µ–Ω–∏–µ –±–ª–æ–∫–∞
                            setTimeout(() => {
                                chart.classList.add('animate');
                                const valEl = document.getElementById('accuracy-val');
                                // –ê–Ω–∏–º–∞—Ü–∏—è —Ü–∏—Ñ—Ä –¥–ª–∏—Ç—Å—è 2.5—Å, —á—Ç–æ–±—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å—Å—è —Å –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ–º –∫—Ä—É–≥–∞
                                animateValue(valEl, 0, 99.8, 2500);
                            }, 300);
                        }
                    }
                }
            });
        }, { threshold: 0.15 }); 

        document.querySelectorAll('.reveal').forEach(el => observer.observe(el));

        // Chart Loop Animation
        const chartObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                   const chart = entry.target.querySelector('.accuracy-chart');
                   if (chart && !chart.classList.contains('started')) {
                       chart.classList.add('started');
                       startChartLoop(chart);
                   }
                }
            });
        }, { threshold: 0.5 });
        
        const chartSection = document.getElementById('chart-section');
        if(chartSection) chartObserver.observe(chartSection);

        function startChartLoop(chart) {
            const valEl = document.getElementById('accuracy-val');
            chart.classList.add('loaded');
            
            const duration = 2000; 
            const pauseTop = 2000;
            const pauseBottom = 500;
            
            const animateCycle = async () => {
                chart.classList.add('cycle-up');
                animateNumber(valEl, 0, 99.8, duration);
                
                await new Promise(r => setTimeout(r, duration + pauseTop));
                
                chart.classList.remove('cycle-up'); 
                animateNumber(valEl, 99.8, 0, duration); 
                
                await new Promise(r => setTimeout(r, duration + pauseBottom));
                animateCycle();
            };
            
            setTimeout(animateCycle, 500);
        }

        function animateNumber(el, start, end, duration) {
            let startTimestamp = null;
            const step = (timestamp) => {
                if (!startTimestamp) startTimestamp = timestamp;
                const progress = Math.min((timestamp - startTimestamp) / duration, 1);
                const ease = progress < 0.5 ? 2 * progress * progress : 1 - Math.pow(-2 * progress + 2, 2) / 2;
                const current = start + (end - start) * ease;
                
                if (Math.abs(current) < 0.1) el.innerHTML = "0";
                else el.innerHTML = current.toFixed(1);
                
                if (progress < 1) {
                    window.requestAnimationFrame(step);
                } else {
                    el.innerHTML = end === 0 ? "0" : end.toFixed(1);
                }
            };
            window.requestAnimationFrame(step);
        }

        // Vitruvian Toggle
        const vitruvianSection = document.getElementById('vitruvian-section');
        const btns = vitruvianSection.querySelectorAll('.vitruvian-toggle button');
        const manSvg = document.getElementById('vitruvian-man');
        const womanSvg = document.getElementById('vitruvian-woman');
        const shapeLabel = document.getElementById('vitruvian-shape-label');
        
        // NEW: Plan/Fact Elements
        const pfMan = document.getElementById('pf-man');
        const pfWoman = document.getElementById('pf-woman');

        btns.forEach(btn => {
            btn.addEventListener('click', () => {
                btns.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                const type = btn.dataset.type;

                if (type === 'man') {
                    // SVG
                    manSvg.style.opacity = '1';
                    manSvg.style.transform = 'scale(1)';
                    womanSvg.style.opacity = '0';
                    womanSvg.style.transform = 'scale(0.95)';
                    
                    // Label
                    shapeLabel.textContent = 'V-Shape –ú–æ–¥–µ–ª—å';
                    shapeLabel.classList.remove('text-acc-pink');
                    shapeLabel.classList.add('text-acc-purple');
                    
                    // Plan/Fact Data
                    pfMan.classList.remove('opacity-0', 'pointer-events-none', 'translate-x-8'); // Show Man
                    pfWoman.classList.add('opacity-0', 'pointer-events-none', 'translate-x-8'); // Hide Woman
                    
                } else {
                    // SVG
                    womanSvg.style.opacity = '1';
                    womanSvg.style.transform = 'scale(1)';
                    manSvg.style.opacity = '0';
                    manSvg.style.transform = 'scale(0.95)';
                    
                    // Label
                    shapeLabel.textContent = 'X-Shape –ú–æ–¥–µ–ª—å';
                    shapeLabel.classList.remove('text-acc-purple');
                    shapeLabel.classList.add('text-acc-pink');
                    
                    // Plan/Fact Data
                    pfWoman.classList.remove('opacity-0', 'pointer-events-none', 'translate-x-8'); // Show Woman
                    pfMan.classList.add('opacity-0', 'pointer-events-none', 'translate-x-8'); // Hide Man
                }
            });
        });
    
    // AI Messages Sequential Animation
const aiSection = document.getElementById('ai-section');
if (aiSection) {
    const aiObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                const messages = entry.target.querySelectorAll('.ai-message');
                messages.forEach(msg => {
                    const delay = parseInt(msg.dataset.delay);
                    setTimeout(() => {
                        msg.classList.add('show');
                    }, delay);
                });
                aiObserver.unobserve(entry.target); // –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑
            }
        });
    }, { threshold: 0.3 });
    
    aiObserver.observe(aiSection);
}

    </script>
</body>
</html>