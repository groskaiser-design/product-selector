<!DOCTYPE html>
<html lang="ru">
<head>
<script src="version-control.js?t=1"></script>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover">
<title>Ultima Dashboard</title>
<script src="https://telegram.org/js/telegram-web-app.js"></script>
<style>
/* === –£–ù–ò–í–ï–†–°–ê–õ–¨–ù–û–ï –°–ö–†–´–¢–ò–ï –°–ö–†–û–õ–õ–ë–ê–†–ê === */

/* –î–ª—è Chrome, Safari, Edge, Opera –∏ iOS */
*::-webkit-scrollbar {
  width: 0 !important;
  height: 0 !important;
  display: none !important;
  background: transparent !important;
}

/* –î–ª—è Firefox –∏ IE */
* {
  -ms-overflow-style: none !important;  /* IE –∏ —Å—Ç–∞—Ä—ã–π Edge */
  scrollbar-width: none !important;  /* Firefox */
}
  
  :root {
    /* --- PALETTE --- */
    --bg-core: #050505;
    --text-main: #ffffff;
    --text-muted: rgba(255, 255, 255, 0.55);
    
    /* --- GLASS SURFACES --- */
    --surface-glass: rgba(255, 255, 255, 0.07);
    --surface-list: rgba(255, 255, 255, 0.04);
    --surface-border: rgba(255, 255, 255, 0.1);
    --surface-highlight: rgba(255, 255, 255, 0.25);
    
    /* --- ACCENTS --- */
    --acc-orange: #ff9f0a;
    --acc-green: #30d158;
    --acc-blue: #0a84ff;
    --acc-red: #ff453a;
    --acc-purple: #5e60ce;
    --acc-breath: #81ecec;

    /* --- METRICS --- */
    --radius-xl: 28px;
    --radius-l: 22px;
    --radius-m: 16px;
    --pad: 16px;
    --gap: 12px;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
   
  body {
    background-color: var(--bg-core);
    font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Text', Roboto, sans-serif;
    color: var(--text-main);
    min-height: 100vh;
    overflow-x: hidden;
    overscroll-behavior-y: none;
    -webkit-font-smoothing: antialiased;
  }

  /* FX LAYER */
  .fx-layer { position: fixed; inset: 0; z-index: -1; pointer-events: none; transform: translate3d(0,0,0); }
  .orb { position: absolute; border-radius: 50%; will-change: transform; animation: float 30s infinite linear; }
  .orb-1 { width: 90vw; height: 90vw; opacity: 0.4; background: radial-gradient(circle, rgba(108, 92, 231, 0.8) 0%, transparent 70%); top: -20%; left: -20%; }
  .orb-2 { width: 400px; height: 400px; opacity: 0.5; background: radial-gradient(circle, rgba(108, 92, 231, 0.8) 0%, transparent 70%); bottom: -150px; right: -100px; animation: breathe 6s infinite ease-in-out; }
  @keyframes float { 0% {transform:rotate(0deg)} 100% {transform:rotate(360deg)} }
  @keyframes breathe { 0%, 100% { transform: scale(1); opacity: 0.4; } 50% { transform: scale(1.1); opacity: 0.6; } }
  .noise { position: fixed; inset: 0; z-index: -1; opacity: 0.04; background: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.75' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E"); pointer-events: none; }

  /* LAYOUT */
  .app-shell {
    max-width: 480px; margin: 0 auto;
    padding: var(--pad);
    padding-top: calc(12px + env(safe-area-inset-top));
    padding-bottom: calc(90px + env(safe-area-inset-bottom));
    display: flex; flex-direction: column; gap: 32px;
  }

  /* HEADER */
  .header { display: flex; justify-content: space-between; align-items: center; }
  .profile-lockup { display: flex; align-items: center; gap: 14px; }
  .avatar-box { width: 48px; height: 48px; border-radius: 50%; box-shadow: 0 0 0 2px rgba(255,255,255,0.08); background: #222; overflow: hidden; position: relative; }
  .avatar-img { width: 100%; height: 100%; object-fit: cover; }
  .user-text h1 { font-size: 22px; font-weight: 800; margin: 0; line-height: 1.1; }
  .user-text p { font-size: 13px; color: var(--text-muted); margin: 0; text-transform: uppercase; letter-spacing: 0.5px; font-weight: 600; }
  .icon-btn { width: 44px; height: 44px; border-radius: 50%; background: var(--surface-glass); border: 1px solid var(--surface-border); display: flex; align-items: center; justify-content: center; backdrop-filter: blur(10px); transition: transform 0.1s; }
  .icon-btn:active { transform: scale(0.92); background: rgba(255,255,255,0.15); }

  /* WIDGETS SYSTEM */
  .widgets-wrapper { margin-top: -8px; }
  .widgets-container { margin: 0 calc(var(--pad) * -1); }
  .carousel { display: flex; gap: 14px; overflow-x: auto; scroll-snap-type: x mandatory; padding: 20px var(--pad) 30px var(--pad); scrollbar-width: none; -webkit-overflow-scrolling: touch; }
  .carousel::-webkit-scrollbar { display: none; }
   
  /* Base Widget Style */
  .widget {
    flex: 0 0 calc(100% - 30px); scroll-snap-align: center; height: 160px;
    border-radius: var(--radius-xl);
    background: linear-gradient(165deg, rgba(255,255,255,0.12) 0%, rgba(255,255,255,0.03) 100%);
    border: 1px solid var(--surface-border); 
    border-top: 1px solid var(--surface-highlight);
    backdrop-filter: blur(30px); -webkit-backdrop-filter: blur(30px);
    box-shadow: 0 12px 32px rgba(0,0,0,0.3);
    position: relative; overflow: hidden; 
    display: grid; grid-template-columns: 1fr auto; align-items: center;
    padding: 0 24px;
    transition: transform 0.2s;
  }
  .widget:active { transform: scale(0.98); }

  /* Content */
  .w-left { display: flex; flex-direction: column; justify-content: center; height: 100%; gap: 6px; z-index: 2; min-width: 0; }
  .w-right { width: 100px; height: 100px; display: flex; align-items: center; justify-content: center; position: relative; z-index: 2; margin-left: 16px; }

  .w-lbl { font-size: 11px; font-weight: 700; text-transform: uppercase; letter-spacing: 1px; color: var(--text-muted); display: flex; align-items: center; gap: 6px; }
  .w-tag { background: var(--acc-blue); color: #fff; padding: 2px 6px; border-radius: 4px; font-size: 10px; }
   
  .w-val { font-size: 34px; font-weight: 800; line-height: 1.05; letter-spacing: -0.5px; color: var(--text-main); white-space: nowrap; }
  .w-val span { font-size: 18px; font-weight: 500; color: var(--text-muted); margin-left: 2px; }
   
  .w-txt { font-size: 18px; font-weight: 600; line-height: 1.3; color: #fff; display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical; overflow: hidden; }
  .w-sub { font-size: 13px; color: var(--text-muted); font-weight: 500; margin-top: 2px; }
   
  .w-btn { font-size: 13px; font-weight: 600; background: rgba(255,255,255,0.1); padding: 8px 14px; border-radius: 20px; align-self: flex-start; margin-top: 4px; }

  /* Visuals */
  .donut-svg { width: 90px; height: 90px; transform: rotate(-90deg); }
  .d-bg { fill: none; stroke: rgba(255,255,255,0.1); stroke-width: 8; }
  .d-val { fill: none; stroke: url(#grad-fire); stroke-width: 8; stroke-linecap: round; stroke-dasharray: 251; stroke-dashoffset: 251; transition: stroke-dashoffset 1s cubic-bezier(0.25, 0.46, 0.45, 0.94); }
  .d-icon { position: absolute; font-size: 28px; }
   
  .icon-glow { font-size: 50px; filter: drop-shadow(0 0 15px rgba(255,255,255,0.2)); }
  .icon-alert { width: 54px; height: 54px; border-radius: 50%; background: rgba(255, 69, 58, 0.2); color: var(--acc-red); display: flex; align-items: center; justify-content: center; }

  /* Tech Graph */
  .tech-graph-box { width: 120px; height: 70px; position: relative; overflow: hidden; margin-right: -10px; -webkit-mask-image: linear-gradient(to right, transparent 0%, black 10%, black 90%, transparent 100%); mask-image: linear-gradient(to right, transparent 0%, black 10%, black 90%, transparent 100%); }
  .tech-graph-track { display: flex; width: 200%; height: 100%; position: absolute; top: 0; left: 0; will-change: transform; animation: techFlow 12s linear infinite; }
  .tech-graph-svg { width: 50%; height: 100%; display: block; }
  @keyframes techFlow { 0% { transform: translate3d(0, 0, 0); } 100% { transform: translate3d(-50%, 0, 0); } }
  .tg-fill { fill: url(#grad-green-tech); opacity: 0.4; }
  .tg-line { fill: none; stroke: var(--acc-green); stroke-width: 2; stroke-linejoin: round; stroke-linecap: round; filter: drop-shadow(0 0 4px rgba(48, 209, 88, 0.6)); }

  /* Water Wave */
  .wave-box { width: 80px; height: 80px; border-radius: 50%; background: rgba(255,255,255,0.1); overflow: hidden; position: relative; border: 2px solid rgba(255,255,255,0.2); }
  .wave { position: absolute; bottom: 0; left: 0; width: 200%; height: 200%; background: var(--acc-blue); opacity: 0.8; border-radius: 40%; animation: wave 6s infinite linear; margin-left: -50%; margin-bottom: -130%; }
  @keyframes wave { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

  /* === BLOG ANIMATION (FALLING LETTERS) === */
  .blog-anim-box { width: 100px; height: 100px; position: relative; overflow: hidden; display: flex; justify-content: center; gap: 6px; }
  .blog-col {
    width: 18px;
    background: linear-gradient(180deg, rgba(94,96,206,0) 0%, rgba(94,96,206,0.8) 50%, rgba(94,96,206,0) 100%);
    border-radius: 4px;
    animation: blogFall 2s linear infinite;
    opacity: 0.7;
  }
  /* –†–∞–∑–Ω—ã–µ –∑–∞–¥–µ—Ä–∂–∫–∏ –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∞ –¥–æ–∂–¥—è */
  .blog-col:nth-child(1) { height: 60px; animation-duration: 2.2s; animation-delay: 0s; }
  .blog-col:nth-child(2) { height: 90px; animation-duration: 1.8s; animation-delay: 0.5s; background: linear-gradient(180deg, rgba(162,155,254,0) 0%, rgba(162,155,254,0.9) 50%, rgba(162,155,254,0) 100%); }
  .blog-col:nth-child(3) { height: 50px; animation-duration: 2.5s; animation-delay: 1s; }

  @keyframes blogFall {
    0% { transform: translateY(-110%); opacity: 0; }
    20% { opacity: 0.8; }
    80% { opacity: 0.8; }
    100% { transform: translateY(150%); opacity: 0; }
  }

  /* === INSIGHT ANIMATION (VARIANT 2: TECH OUTLINE) === */
  .bulb-box { width: 90px; height: 90px; display: flex; align-items: center; justify-content: center; position: relative; }
  .v2-bulb { width: 70px; height: 80px; overflow: visible; }
  .v2-path { 
    fill: none; stroke: var(--acc-orange); stroke-width: 4; stroke-linecap: round; 
    filter: drop-shadow(0 0 10px rgba(255,159,10,0.6));
    animation: v2-pulse 4s infinite;
  }
  @keyframes v2-pulse { 0%,100%{ stroke-opacity: 0.4; stroke-width:3; } 50%{ stroke-opacity: 1; stroke-width:4; filter: drop-shadow(0 0 15px rgba(255,159,10,0.9)); } }

  /* === ALERT ANIMATION (BELL + WAVES) === */
  .bell-box { 
    width: 60px; height: 60px; 
    position: relative; 
    display: flex; align-items: center; justify-content: center; 
  }
  
  .bell-svg { 
    width: 36px; height: 36px; 
    overflow: visible; 
    z-index: 2; 
  }

  .bell-group {
    transform-origin: 50% 0%; /* –¢–æ—á–∫–∞ –≤—Ä–∞—â–µ–Ω–∏—è —Å–≤–µ—Ä—Ö—É */
    animation: bellShake 4s cubic-bezier(0.36, 0.07, 0.19, 0.97) infinite;
  }

  .bell-path {
    fill: none;
    stroke: var(--acc-red);
    stroke-width: 2.5;
    stroke-linecap: round;
    stroke-linejoin: round;
  }

  .bell-clapper {
    fill: var(--acc-red);
    animation: clapperMove 4s ease-in-out infinite;
    transform-origin: 50% 0%; 
  }

  /* –í–æ–ª–Ω—ã (Shockwaves) */
  .bell-wave {
    position: absolute;
    width: 100%; height: 100%;
    border: 2px solid var(--acc-red);
    border-radius: 50%;
    opacity: 0;
    z-index: 1;
    box-sizing: border-box;
  }
  .bell-wave.w1 { animation: wavePulse 4s infinite; animation-delay: 3.2s; } 
  .bell-wave.w2 { animation: wavePulse 4s infinite; animation-delay: 3.4s; }

  @keyframes bellShake {
    0%, 80% { transform: rotate(0deg); }
    82% { transform: rotate(15deg); }
    84% { transform: rotate(-12deg); }
    86% { transform: rotate(10deg); }
    88% { transform: rotate(-10deg); }
    90% { transform: rotate(6deg); }
    92% { transform: rotate(-4deg); }
    94% { transform: rotate(2deg); }
    96% { transform: rotate(-1deg); }
    100% { transform: rotate(0deg); }
  }

  @keyframes clapperMove {
    0%, 80% { transform: translateX(0); }
    82% { transform: translateX(-3px); }
    86% { transform: translateX(3px); }
    90% { transform: translateX(-2px); }
    94% { transform: translateX(1px); }
    100% { transform: translateX(0); }
  }

  @keyframes wavePulse {
    0% { transform: scale(0.5); opacity: 0.8; border-width: 3px; }
    50% { opacity: 0.4; }
    100% { transform: scale(2.0); opacity: 0; border-width: 0px; }
  }

  /* Dots */
  .dots { display: flex; justify-content: center; gap: 6px; margin-top: -14px; margin-bottom: 8px; pointer-events: none; }
  .dot { width: 6px; height: 6px; border-radius: 10px; background: rgba(255,255,255,0.2); transition: 0.3s cubic-bezier(0.25, 0.1, 0.25, 1); }
  .dot.active { width: 24px; background: #fff; }

  /* GRID MENU */
  .section-wrapper { display: flex; flex-direction: column; gap: 16px; margin-bottom: 12px; }
  .section-title { font-size: 19px; font-weight: 800; margin-left: 4px; opacity: 0.9; display: flex; align-items: center; gap: 8px; }
  .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 14px; grid-auto-flow: dense; }

  .tile { background: var(--surface-glass); border: 1px solid var(--surface-border); border-radius: var(--radius-l); padding: 18px; position: relative; overflow: hidden; display: flex; flex-direction: column; justify-content: space-between; cursor: pointer; transition: transform 0.1s, background 0.2s; min-height: 110px; }
  .tile:active { transform: scale(0.96); background: rgba(255,255,255,0.12); }
  .tile.wide { grid-column: span 2; flex-direction: row; align-items: center; justify-content: flex-start; gap: 18px; height: 90px; }
  .tile.tall { grid-row: span 2; background: linear-gradient(145deg, #48bfe3 0%, #5e60ce 100%); border: none; }
  .tile.std  { aspect-ratio: 1; }

  .t-icon-box { width: 40px; height: 40px; border-radius: 12px; background: rgba(255,255,255,0.1); display: flex; align-items: center; justify-content: center; margin-bottom: auto; }
  .wide .t-icon-box { margin-bottom: 0; } 
  .t-icon-img { width: 24px; height: 24px; object-fit: contain; }
  .t-content { margin-top: 4px; }
  .wide .t-content { margin-top: 0; }
  .t-title { font-size: 15px; font-weight: 700; line-height: 1.1; }
  .t-sub { font-size: 12px; color: rgba(255,255,255,0.6); margin-top: 4px; font-weight: 500; }
  .tall .t-title, .tall .t-sub { color: #fff; opacity: 1; }

  /* LIST MENU */
  .settings-list { background: var(--surface-list); border: 1px solid var(--surface-border); border-radius: var(--radius-l); overflow: hidden; }
  .list-item { display: flex; align-items: center; justify-content: space-between; padding: 18px; border-bottom: 1px solid rgba(255,255,255,0.05); cursor: pointer; }
  .list-item:last-child { border-bottom: none; }
  .list-item:active { background: rgba(255,255,255,0.05); }
  .li-left { display: flex; align-items: center; gap: 14px; font-weight: 600; font-size: 16px; }
  .li-icon { width: 22px; opacity: 0.8; }
  .li-arrow { opacity: 0.3; transform: rotate(-90deg); font-size: 14px; font-weight: 700;}

  /* AI FAB */
  .fab-ai { position: fixed; bottom: 32px; right: 20px; width: 64px; height: 64px; border-radius: 50%; background: linear-gradient(135deg, #6c5ce7 0%, #a29bfe 100%); border: 1px solid rgba(255, 255, 255, 0.3); box-shadow: 0 8px 32px rgba(108, 92, 231, 0.5); display: flex; align-items: center; justify-content: center; z-index: 100; cursor: pointer; animation: ai-breath 3s infinite ease-in-out; transition: transform 0.2s; }
  .fab-ai:active { transform: scale(0.9); }
  .fab-icon-img { width: 32px; height: 32px; object-fit: contain; filter: drop-shadow(0 2px 4px rgba(0,0,0,0.2)); }
  @keyframes ai-breath { 0% { transform: scale(1); box-shadow: 0 8px 32px rgba(108, 92, 231, 0.5); } 50% { transform: scale(1.08); box-shadow: 0 15px 45px rgba(108, 92, 231, 0.7), 0 0 0 4px rgba(255,255,255,0.1); } 100% { transform: scale(1); box-shadow: 0 8px 32px rgba(108, 92, 231, 0.5); } }

  /* LOADER */
  #loader { position: fixed; inset: 0; background: #050505; z-index: 2000; display: flex; align-items: center; justify-content: center; transition: opacity 0.4s; }
  .spinner { width: 40px; height: 40px; border: 3px solid rgba(255,255,255,0.2); border-top-color: #00cec9; border-radius: 50%; animation: spin 0.8s linear infinite; }
  @keyframes spin { to { transform: rotate(360deg); } }
  .hidden { opacity: 0; pointer-events: none; }

/* === BREATH WIDGET STYLES === */
.breath-val { font-size: 34px; font-weight: 800; line-height: 1.05; letter-spacing: -0.5px; color: #fff; }
.breath-unit { font-size: 18px; font-weight: 600; color: rgba(255, 255, 255, 0.2); margin-left: 6px; }

.zero-point { position: relative; width: 0; height: 0; display: flex; align-items: center; justify-content: center; }
.circle { position: absolute; border-radius: 50%; top: 50%; left: 50%; }

.c-echo {
  width: 80px; height: 80px; 
  border: 1px solid var(--acc-breath); opacity: 0;
  animation: echo-loop 6s infinite ease-in-out; animation-delay: 0.1s; z-index: 1;
}
.c-core {
  width: 70px; height: 70px;
  background: var(--acc-breath);
  box-shadow: 0 0 30px rgba(129, 236, 236, 0.4); 
  animation: core-loop 6s infinite ease-in-out; z-index: 2;
}

@keyframes core-loop {
  0% { transform: translate(-50%, -50%) scale(0.15); opacity: 0.4; }
  50% { transform: translate(-50%, -50%) scale(1); opacity: 0.9; }
  100% { transform: translate(-50%, -50%) scale(0.15); opacity: 0.4; }
}
@keyframes echo-loop {
  0% { transform: translate(-50%, -50%) scale(0.15); opacity: 0; }
  20% { opacity: 0.4; }
  50% { transform: translate(-50%, -50%) scale(1.2); opacity: 0; }
  100% { transform: translate(-50%, -50%) scale(0.15); opacity: 0; }
}

/* === MACROS WIDGET (PREMIUM) === */
.macros-wrapper {
  display: flex;
  flex-direction: column;
  justify-content: center;
  height: 100%;
  width: 100%;
}

.macros-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 2px; /* üî• –ë—ã–ª–æ 8px. –£–º–µ–Ω—å—à–∏–ª–∏ –∑–∞–∑–æ—Ä, —á—Ç–æ–±—ã —Å–∞–º–∏ –∫—Ä—É–≥–∏ —Å—Ç–∞–ª–∏ —à–∏—Ä–µ */
  width: 100%;
  align-items: flex-start; 
}

.macro-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  position: relative;
  width: 100%;
}

/* --- –ö–û–ù–¢–ï–ô–ù–ï–† –î–õ–Ø –ü–û–ù–ß–ò–ö–ê --- */
/* –°–æ–∑–¥–∞–µ–º –∫–≤–∞–¥—Ä–∞—Ç–Ω—É—é –æ–±–ª–∞—Å—Ç—å, –∫–æ—Ç–æ—Ä–∞—è —Å–∂–∏–º–∞–µ—Ç—Å—è */
.donut-box {
  position: relative;
  width: 100%;
  max-width: 88px; /* üî• –ë—ã–ª–æ 75px. –†–∞–∑—Ä–µ—à–∞–µ–º –∫—Ä—É–≥–∞–º —Ä–∞—Å—Ç–∏ —Å–∏–ª—å–Ω–µ–µ */
  aspect-ratio: 1 / 1; 
  display: flex;
  align-items: center;
  justify-content: center;
}

/* –°–∞–º SVG —Ä–µ–∑–∏–Ω–æ–≤—ã–π –≤–Ω—É—Ç—Ä–∏ –∫–æ—Ä–æ–±–∫–∏ */
.mini-donut { 
  width: 100%; 
  height: 100%;
  transform: rotate(-90deg); 
  filter: drop-shadow(0 4px 6px rgba(0,0,0,0.3));
}

.md-bg { fill: none; stroke: rgba(255,255,255,0.06); stroke-width: 6; }
.md-val { 
  fill: none; 
  stroke-width: 6; 
  stroke-linecap: round; 
  stroke-dasharray: 151; /* –î–ª–∏–Ω–∞ –∫—Ä—É–≥–∞ –¥–ª—è viewBox 60 */
  transition: stroke-dashoffset 1s ease;
}

.stroke-kcal { stroke: url(#grad-kcal); }
.stroke-prot { stroke: url(#grad-prot); }
.stroke-fats { stroke: url(#grad-fats); }
.stroke-carb { stroke: url(#grad-carb); }

/* –ò–∫–æ–Ω–∫–∞ (–æ–≥–æ–Ω—å/–∫—É—Ä–∏—Ü–∞) –ø–æ —Ü–µ–Ω—Ç—Ä—É –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ò */
.m-icon-center { 
  position: absolute;
  top: 50%; 
  left: 50%;
  transform: translate(-50%, -50%); /* –ò–¥–µ–∞–ª—å–Ω–∞—è —Ü–µ–Ω—Ç—Ä–æ–≤–∫–∞ */
  font-size: 18px; /* –†–∞–∑–º–µ—Ä –∏–∫–æ–Ω–∫–∏ */
  line-height: 1;
  pointer-events: none;
}

/* –¢–µ–∫—Å—Ç –ø–æ–¥ –ø–æ–Ω—á–∏–∫–æ–º */
.m-val-txt { 
  font-size: 14px; 
  font-weight: 800; 
  color: #fff; 
  margin-top: 6px; 
  letter-spacing: -0.5px; 
  text-align: center;
}
.m-lbl-txt { 
  font-size: 10px; 
  font-weight: 700; 
  color: rgba(255,255,255,0.4); 
  text-transform: uppercase; 
  letter-spacing: 0.5px; 
  text-align: center;
}

/* –ê–î–ê–ü–¢–ò–í–ù–û–°–¢–¨ –î–õ–Ø –ú–ê–õ–ï–ù–¨–ö–ò–• –≠–ö–†–ê–ù–û–í */
/* –ï—Å–ª–∏ —ç–∫—Ä–∞–Ω –º–µ–Ω—å—à–µ 360px, —É–º–µ–Ω—å—à–∞–µ–º —à—Ä–∏—Ñ—Ç –∏ –∏–∫–æ–Ω–∫–∏ */
@media (max-width: 360px) {
  .m-icon-center { font-size: 14px; }
  .m-val-txt { font-size: 12px; }
  .m-lbl-txt { font-size: 8px; }
  .macros-grid { gap: 4px; }
}

/* === –ù–û–í–´–ô –ì–û–î –°–¢–ò–õ–¨ === */
/* 1. –ü–∞–¥–∞—é—â–∏–π —Å–Ω–µ–≥ */
.snowflake {
  position: fixed;
  top: -20px;
  background: white;
  border-radius: 50%;
  pointer-events: none;
  z-index: 9999;
  opacity: 0.8;
  filter: blur(0.5px);
  animation: fall linear infinite;
}

@keyframes fall {
  0% { transform: translateY(-20px) translateX(0) rotate(0deg); opacity: 0; }
  10% { opacity: 0.9; }
  90% { opacity: 0.9; }
  100% { transform: translateY(110vh) translateX(20px) rotate(360deg); opacity: 0; }
}

/* 2. –≠—Ñ—Ñ–µ–∫—Ç "–°—É–≥—Ä–æ–±—ã" –Ω–∞ –∏–∫–æ–Ω–∫–∞—Ö */
/* –≠—Ç–æ—Ç –∫–ª–∞—Å—Å –º—ã –±—É–¥–µ–º –¥–æ–±–∞–≤–ª—è—Ç—å —Å–∫—Ä–∏–ø—Ç–æ–º –∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º –∏–∫–æ–Ω–æ–∫ */
.snow-topped {
  position: relative !important;
  overflow: visible !important; 
}

.snow-topped::after {
  content: '';
  position: absolute;
  top: -4px;        /* –ß—É—Ç—å –≤—ã—à–µ –≥—Ä–∞–Ω–∏—Ü—ã —ç–ª–µ–º–µ–Ω—Ç–∞ */
  right: -2px;      /* –°–º–µ—â–µ–Ω –≤–ø—Ä–∞–≤–æ */
  width: 55%;       /* –®–∏—Ä–∏–Ω–∞ —Å—É–≥—Ä–æ–±–∞ */
  height: 45%;      /* –í—ã—Å–æ—Ç–∞ —Å—É–≥—Ä–æ–±–∞ */
  background: radial-gradient(circle at 50% 0%, #ffffff 60%, rgba(255,255,255,0.8) 100%);
  border-radius: 50% 50% 40% 40% / 70% 80% 30% 30%; /* –§–æ—Ä–º–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –æ–≤–∞–ª–∞ */
  box-shadow: 0 2px 5px rgba(0,0,0,0.3), inset 0 2px 4px white;
  pointer-events: none;
  z-index: 10;
  filter: drop-shadow(0 0 2px rgba(255,255,255,0.5));
}

/* –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –¥–ª—è –∫—Ä—É–≥–ª—ã—Ö –∫–Ω–æ–ø–æ–∫ (–∞–≤–∞—Ç–∞—Ä, AI –∫–Ω–æ–ø–∫–∞) */
.icon-btn.snow-topped::after, 
.fab-ai.snow-topped::after {
  top: -2px;
  right: 4px;
  width: 60%;
  height: 35%;
  border-radius: 50%;
}

</style>
</head>
<body>

<svg width="0" height="0" style="position:absolute">
  <defs>
    <linearGradient id="grad-kcal" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#ff9f0a"/>
      <stop offset="100%" stop-color="#ff453a"/>
    </linearGradient>
    
    <linearGradient id="grad-prot" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#48bfe3"/>
      <stop offset="100%" stop-color="#5e60ce"/>
    </linearGradient>

    <linearGradient id="grad-fats" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#f1c40f"/>
      <stop offset="100%" stop-color="#e67e22"/>
    </linearGradient>

    <linearGradient id="grad-carb" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#2ecc71"/>
      <stop offset="100%" stop-color="#1abc9c"/>
    </linearGradient>

    <linearGradient id="grad-green-tech" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" stop-color="#30d158" stop-opacity="0.5"/><stop offset="100%" stop-color="#30d158" stop-opacity="0.0"/></linearGradient>
  </defs>
</svg>

<div class="fx-layer">
  <div class="orb orb-1"></div>
  <div class="orb orb-2"></div>
  <div class="noise"></div>
</div>

<div id="loader"><div class="spinner"></div></div>

<div class="app-shell">
  
  <div class="header">
    <div class="profile-lockup">
      <div class="avatar-box"><img src="" id="ava" class="avatar-img" style="display:none"></div>
      <div class="user-text"><p class="greeting-text">–î–æ–±—Ä–æ–µ —É—Ç—Ä–æ,</p><h1 id="username">–ì–æ—Å—Ç—å</h1></div>
    </div>
    <div class="icon-btn" onclick="haptic('light')">
      <svg width="22" height="22" viewBox="0 0 24 24" stroke="white" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"><path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path><path d="M13.73 21a2 2 0 0 1-3.46 0"></path></svg>
    </div>
  </div>

  <div class="widgets-wrapper">
    <div class="widgets-container">
      <div class="carousel" id="carouselTrack"></div>
    </div>
    <div class="dots" id="carouselDots"></div>
  </div>

  <div id="dynamicContent"></div>

</div>

<div class="fab-ai" onclick="nav('ai.html')">
  <img id="fabIcon" src="" alt="AI" class="fab-icon-img">
</div>

<script src="router.js"></script>
</body>
</html>
